var DT=t=>{throw TypeError(t)};var zm=(t,e,r)=>e.has(t)||DT("Cannot "+r);var R=(t,e,r)=>(zm(t,e,"read from private field"),r?r.call(t):e.get(t)),pe=(t,e,r)=>e.has(t)?DT("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,r),re=(t,e,r,n)=>(zm(t,e,"write to private field"),n?n.call(t,r):e.set(t,r),r),Oe=(t,e,r)=>(zm(t,e,"access private method"),r);var Dh=(t,e,r,n)=>({set _(i){re(t,e,i,r)},get _(){return R(t,e,n)}});function AQ(t,e){for(var r=0;r<e.length;r++){const n=e[r];if(typeof n!="string"&&!Array.isArray(n)){for(const i in n)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(n,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>n[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}function FQ(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var BW={exports:{}},Rp={},zW={exports:{}},qe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ld=Symbol.for("react.element"),LQ=Symbol.for("react.portal"),BQ=Symbol.for("react.fragment"),zQ=Symbol.for("react.strict_mode"),UQ=Symbol.for("react.profiler"),WQ=Symbol.for("react.provider"),HQ=Symbol.for("react.context"),VQ=Symbol.for("react.forward_ref"),KQ=Symbol.for("react.suspense"),GQ=Symbol.for("react.memo"),YQ=Symbol.for("react.lazy"),MT=Symbol.iterator;function QQ(t){return t===null||typeof t!="object"?null:(t=MT&&t[MT]||t["@@iterator"],typeof t=="function"?t:null)}var UW={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},WW=Object.assign,HW={};function Eu(t,e,r){this.props=t,this.context=e,this.refs=HW,this.updater=r||UW}Eu.prototype.isReactComponent={};Eu.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Eu.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function VW(){}VW.prototype=Eu.prototype;function zO(t,e,r){this.props=t,this.context=e,this.refs=HW,this.updater=r||UW}var UO=zO.prototype=new VW;UO.constructor=zO;WW(UO,Eu.prototype);UO.isPureReactComponent=!0;var qT=Array.isArray,KW=Object.prototype.hasOwnProperty,WO={current:null},GW={key:!0,ref:!0,__self:!0,__source:!0};function YW(t,e,r){var n,i={},s=null,a=null;if(e!=null)for(n in e.ref!==void 0&&(a=e.ref),e.key!==void 0&&(s=""+e.key),e)KW.call(e,n)&&!GW.hasOwnProperty(n)&&(i[n]=e[n]);var o=arguments.length-2;if(o===1)i.children=r;else if(1<o){for(var l=Array(o),c=0;c<o;c++)l[c]=arguments[c+2];i.children=l}if(t&&t.defaultProps)for(n in o=t.defaultProps,o)i[n]===void 0&&(i[n]=o[n]);return{$$typeof:Ld,type:t,key:s,ref:a,props:i,_owner:WO.current}}function XQ(t,e){return{$$typeof:Ld,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function HO(t){return typeof t=="object"&&t!==null&&t.$$typeof===Ld}function JQ(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(r){return e[r]})}var AT=/\/+/g;function Um(t,e){return typeof t=="object"&&t!==null&&t.key!=null?JQ(""+t.key):e.toString(36)}function ff(t,e,r,n,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var a=!1;if(t===null)a=!0;else switch(s){case"string":case"number":a=!0;break;case"object":switch(t.$$typeof){case Ld:case LQ:a=!0}}if(a)return a=t,i=i(a),t=n===""?"."+Um(a,0):n,qT(i)?(r="",t!=null&&(r=t.replace(AT,"$&/")+"/"),ff(i,e,r,"",function(c){return c})):i!=null&&(HO(i)&&(i=XQ(i,r+(!i.key||a&&a.key===i.key?"":(""+i.key).replace(AT,"$&/")+"/")+t)),e.push(i)),1;if(a=0,n=n===""?".":n+":",qT(t))for(var o=0;o<t.length;o++){s=t[o];var l=n+Um(s,o);a+=ff(s,e,r,l,i)}else if(l=QQ(t),typeof l=="function")for(t=l.call(t),o=0;!(s=t.next()).done;)s=s.value,l=n+Um(s,o++),a+=ff(s,e,r,l,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return a}function Mh(t,e,r){if(t==null)return t;var n=[],i=0;return ff(t,n,"","",function(s){return e.call(r,s,i++)}),n}function ZQ(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(r){(t._status===0||t._status===-1)&&(t._status=1,t._result=r)},function(r){(t._status===0||t._status===-1)&&(t._status=2,t._result=r)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Wr={current:null},pf={transition:null},eX={ReactCurrentDispatcher:Wr,ReactCurrentBatchConfig:pf,ReactCurrentOwner:WO};function QW(){throw Error("act(...) is not supported in production builds of React.")}qe.Children={map:Mh,forEach:function(t,e,r){Mh(t,function(){e.apply(this,arguments)},r)},count:function(t){var e=0;return Mh(t,function(){e++}),e},toArray:function(t){return Mh(t,function(e){return e})||[]},only:function(t){if(!HO(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};qe.Component=Eu;qe.Fragment=BQ;qe.Profiler=UQ;qe.PureComponent=zO;qe.StrictMode=zQ;qe.Suspense=KQ;qe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=eX;qe.act=QW;qe.cloneElement=function(t,e,r){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var n=WW({},t.props),i=t.key,s=t.ref,a=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,a=WO.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var o=t.type.defaultProps;for(l in e)KW.call(e,l)&&!GW.hasOwnProperty(l)&&(n[l]=e[l]===void 0&&o!==void 0?o[l]:e[l])}var l=arguments.length-2;if(l===1)n.children=r;else if(1<l){o=Array(l);for(var c=0;c<l;c++)o[c]=arguments[c+2];n.children=o}return{$$typeof:Ld,type:t.type,key:i,ref:s,props:n,_owner:a}};qe.createContext=function(t){return t={$$typeof:HQ,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:WQ,_context:t},t.Consumer=t};qe.createElement=YW;qe.createFactory=function(t){var e=YW.bind(null,t);return e.type=t,e};qe.createRef=function(){return{current:null}};qe.forwardRef=function(t){return{$$typeof:VQ,render:t}};qe.isValidElement=HO;qe.lazy=function(t){return{$$typeof:YQ,_payload:{_status:-1,_result:t},_init:ZQ}};qe.memo=function(t,e){return{$$typeof:GQ,type:t,compare:e===void 0?null:e}};qe.startTransition=function(t){var e=pf.transition;pf.transition={};try{t()}finally{pf.transition=e}};qe.unstable_act=QW;qe.useCallback=function(t,e){return Wr.current.useCallback(t,e)};qe.useContext=function(t){return Wr.current.useContext(t)};qe.useDebugValue=function(){};qe.useDeferredValue=function(t){return Wr.current.useDeferredValue(t)};qe.useEffect=function(t,e){return Wr.current.useEffect(t,e)};qe.useId=function(){return Wr.current.useId()};qe.useImperativeHandle=function(t,e,r){return Wr.current.useImperativeHandle(t,e,r)};qe.useInsertionEffect=function(t,e){return Wr.current.useInsertionEffect(t,e)};qe.useLayoutEffect=function(t,e){return Wr.current.useLayoutEffect(t,e)};qe.useMemo=function(t,e){return Wr.current.useMemo(t,e)};qe.useReducer=function(t,e,r){return Wr.current.useReducer(t,e,r)};qe.useRef=function(t){return Wr.current.useRef(t)};qe.useState=function(t){return Wr.current.useState(t)};qe.useSyncExternalStore=function(t,e,r){return Wr.current.useSyncExternalStore(t,e,r)};qe.useTransition=function(){return Wr.current.useTransition()};qe.version="18.3.1";zW.exports=qe;var I=zW.exports;const je=FQ(I),tX=AQ({__proto__:null,default:je},[I]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rX=I,nX=Symbol.for("react.element"),iX=Symbol.for("react.fragment"),sX=Object.prototype.hasOwnProperty,aX=rX.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,oX={key:!0,ref:!0,__self:!0,__source:!0};function XW(t,e,r){var n,i={},s=null,a=null;r!==void 0&&(s=""+r),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(a=e.ref);for(n in e)sX.call(e,n)&&!oX.hasOwnProperty(n)&&(i[n]=e[n]);if(t&&t.defaultProps)for(n in e=t.defaultProps,e)i[n]===void 0&&(i[n]=e[n]);return{$$typeof:nX,type:t,key:s,ref:a,props:i,_owner:aX.current}}Rp.Fragment=iX;Rp.jsx=XW;Rp.jsxs=XW;BW.exports=Rp;var u=BW.exports,Q2={},JW={exports:{}},wn={},ZW={exports:{}},e9={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(F,V){var W=F.length;F.push(V);e:for(;0<W;){var U=W-1>>>1,K=F[U];if(0<i(K,V))F[U]=V,F[W]=K,W=U;else break e}}function r(F){return F.length===0?null:F[0]}function n(F){if(F.length===0)return null;var V=F[0],W=F.pop();if(W!==V){F[0]=W;e:for(var U=0,K=F.length,he=K>>>1;U<he;){var xe=2*(U+1)-1,Re=F[xe],ge=xe+1,Ee=F[ge];if(0>i(Re,W))ge<K&&0>i(Ee,Re)?(F[U]=Ee,F[ge]=W,U=ge):(F[U]=Re,F[xe]=W,U=xe);else if(ge<K&&0>i(Ee,W))F[U]=Ee,F[ge]=W,U=ge;else break e}}return V}function i(F,V){var W=F.sortIndex-V.sortIndex;return W!==0?W:F.id-V.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var a=Date,o=a.now();t.unstable_now=function(){return a.now()-o}}var l=[],c=[],d=1,h=null,f=3,p=!1,m=!1,y=!1,x=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,v=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(F){for(var V=r(c);V!==null;){if(V.callback===null)n(c);else if(V.startTime<=F)n(c),V.sortIndex=V.expirationTime,e(l,V);else break;V=r(c)}}function b(F){if(y=!1,w(F),!m)if(r(l)!==null)m=!0,G(_);else{var V=r(c);V!==null&&H(b,V.startTime-F)}}function _(F,V){m=!1,y&&(y=!1,g(S),S=-1),p=!0;var W=f;try{for(w(V),h=r(l);h!==null&&(!(h.expirationTime>V)||F&&!T());){var U=h.callback;if(typeof U=="function"){h.callback=null,f=h.priorityLevel;var K=U(h.expirationTime<=V);V=t.unstable_now(),typeof K=="function"?h.callback=K:h===r(l)&&n(l),w(V)}else n(l);h=r(l)}if(h!==null)var he=!0;else{var xe=r(c);xe!==null&&H(b,xe.startTime-V),he=!1}return he}finally{h=null,f=W,p=!1}}var E=!1,N=null,S=-1,O=5,C=-1;function T(){return!(t.unstable_now()-C<O)}function P(){if(N!==null){var F=t.unstable_now();C=F;var V=!0;try{V=N(!0,F)}finally{V?j():(E=!1,N=null)}}else E=!1}var j;if(typeof v=="function")j=function(){v(P)};else if(typeof MessageChannel<"u"){var D=new MessageChannel,L=D.port2;D.port1.onmessage=P,j=function(){L.postMessage(null)}}else j=function(){x(P,0)};function G(F){N=F,E||(E=!0,j())}function H(F,V){S=x(function(){F(t.unstable_now())},V)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(F){F.callback=null},t.unstable_continueExecution=function(){m||p||(m=!0,G(_))},t.unstable_forceFrameRate=function(F){0>F||125<F?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):O=0<F?Math.floor(1e3/F):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return r(l)},t.unstable_next=function(F){switch(f){case 1:case 2:case 3:var V=3;break;default:V=f}var W=f;f=V;try{return F()}finally{f=W}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(F,V){switch(F){case 1:case 2:case 3:case 4:case 5:break;default:F=3}var W=f;f=F;try{return V()}finally{f=W}},t.unstable_scheduleCallback=function(F,V,W){var U=t.unstable_now();switch(typeof W=="object"&&W!==null?(W=W.delay,W=typeof W=="number"&&0<W?U+W:U):W=U,F){case 1:var K=-1;break;case 2:K=250;break;case 5:K=1073741823;break;case 4:K=1e4;break;default:K=5e3}return K=W+K,F={id:d++,callback:V,priorityLevel:F,startTime:W,expirationTime:K,sortIndex:-1},W>U?(F.sortIndex=W,e(c,F),r(l)===null&&F===r(c)&&(y?(g(S),S=-1):y=!0,H(b,W-U))):(F.sortIndex=K,e(l,F),m||p||(m=!0,G(_))),F},t.unstable_shouldYield=T,t.unstable_wrapCallback=function(F){var V=f;return function(){var W=f;f=V;try{return F.apply(this,arguments)}finally{f=W}}}})(e9);ZW.exports=e9;var lX=ZW.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var uX=I,bn=lX;function Q(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,r=1;r<arguments.length;r++)e+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var t9=new Set,Zc={};function Do(t,e){ru(t,e),ru(t+"Capture",e)}function ru(t,e){for(Zc[t]=e,t=0;t<e.length;t++)t9.add(e[t])}var ds=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),X2=Object.prototype.hasOwnProperty,cX=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,FT={},LT={};function dX(t){return X2.call(LT,t)?!0:X2.call(FT,t)?!1:cX.test(t)?LT[t]=!0:(FT[t]=!0,!1)}function hX(t,e,r,n){if(r!==null&&r.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function fX(t,e,r,n){if(e===null||typeof e>"u"||hX(t,e,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Hr(t,e,r,n,i,s,a){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=n,this.attributeNamespace=i,this.mustUseProperty=r,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=a}var br={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){br[t]=new Hr(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];br[e]=new Hr(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){br[t]=new Hr(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){br[t]=new Hr(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){br[t]=new Hr(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){br[t]=new Hr(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){br[t]=new Hr(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){br[t]=new Hr(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){br[t]=new Hr(t,5,!1,t.toLowerCase(),null,!1,!1)});var VO=/[\-:]([a-z])/g;function KO(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(VO,KO);br[e]=new Hr(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(VO,KO);br[e]=new Hr(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(VO,KO);br[e]=new Hr(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){br[t]=new Hr(t,1,!1,t.toLowerCase(),null,!1,!1)});br.xlinkHref=new Hr("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){br[t]=new Hr(t,1,!1,t.toLowerCase(),null,!0,!0)});function GO(t,e,r,n){var i=br.hasOwnProperty(e)?br[e]:null;(i!==null?i.type!==0:n||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(fX(e,r,i,n)&&(r=null),n||i===null?dX(e)&&(r===null?t.removeAttribute(e):t.setAttribute(e,""+r)):i.mustUseProperty?t[i.propertyName]=r===null?i.type===3?!1:"":r:(e=i.attributeName,n=i.attributeNamespace,r===null?t.removeAttribute(e):(i=i.type,r=i===3||i===4&&r===!0?"":""+r,n?t.setAttributeNS(n,e,r):t.setAttribute(e,r))))}var gs=uX.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,qh=Symbol.for("react.element"),hl=Symbol.for("react.portal"),fl=Symbol.for("react.fragment"),YO=Symbol.for("react.strict_mode"),J2=Symbol.for("react.profiler"),r9=Symbol.for("react.provider"),n9=Symbol.for("react.context"),QO=Symbol.for("react.forward_ref"),Z2=Symbol.for("react.suspense"),eN=Symbol.for("react.suspense_list"),XO=Symbol.for("react.memo"),Is=Symbol.for("react.lazy"),i9=Symbol.for("react.offscreen"),BT=Symbol.iterator;function cc(t){return t===null||typeof t!="object"?null:(t=BT&&t[BT]||t["@@iterator"],typeof t=="function"?t:null)}var Ot=Object.assign,Wm;function Cc(t){if(Wm===void 0)try{throw Error()}catch(r){var e=r.stack.trim().match(/\n( *(at )?)/);Wm=e&&e[1]||""}return`
`+Wm+t}var Hm=!1;function Vm(t,e){if(!t||Hm)return"";Hm=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var n=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){n=c}t.call(e.prototype)}else{try{throw Error()}catch(c){n=c}t()}}catch(c){if(c&&n&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),s=n.stack.split(`
`),a=i.length-1,o=s.length-1;1<=a&&0<=o&&i[a]!==s[o];)o--;for(;1<=a&&0<=o;a--,o--)if(i[a]!==s[o]){if(a!==1||o!==1)do if(a--,o--,0>o||i[a]!==s[o]){var l=`
`+i[a].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=a&&0<=o);break}}}finally{Hm=!1,Error.prepareStackTrace=r}return(t=t?t.displayName||t.name:"")?Cc(t):""}function pX(t){switch(t.tag){case 5:return Cc(t.type);case 16:return Cc("Lazy");case 13:return Cc("Suspense");case 19:return Cc("SuspenseList");case 0:case 2:case 15:return t=Vm(t.type,!1),t;case 11:return t=Vm(t.type.render,!1),t;case 1:return t=Vm(t.type,!0),t;default:return""}}function tN(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case fl:return"Fragment";case hl:return"Portal";case J2:return"Profiler";case YO:return"StrictMode";case Z2:return"Suspense";case eN:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case n9:return(t.displayName||"Context")+".Consumer";case r9:return(t._context.displayName||"Context")+".Provider";case QO:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case XO:return e=t.displayName||null,e!==null?e:tN(t.type)||"Memo";case Is:e=t._payload,t=t._init;try{return tN(t(e))}catch{}}return null}function mX(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return tN(e);case 8:return e===YO?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function pa(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function s9(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function vX(t){var e=s9(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),n=""+t[e];if(!t.hasOwnProperty(e)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var i=r.get,s=r.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(a){n=""+a,s.call(this,a)}}),Object.defineProperty(t,e,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(a){n=""+a},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Ah(t){t._valueTracker||(t._valueTracker=vX(t))}function a9(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var r=e.getValue(),n="";return t&&(n=s9(t)?t.checked?"true":"false":t.value),t=n,t!==r?(e.setValue(t),!0):!1}function Df(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function rN(t,e){var r=e.checked;return Ot({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??t._wrapperState.initialChecked})}function zT(t,e){var r=e.defaultValue==null?"":e.defaultValue,n=e.checked!=null?e.checked:e.defaultChecked;r=pa(e.value!=null?e.value:r),t._wrapperState={initialChecked:n,initialValue:r,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function o9(t,e){e=e.checked,e!=null&&GO(t,"checked",e,!1)}function nN(t,e){o9(t,e);var r=pa(e.value),n=e.type;if(r!=null)n==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+r):t.value!==""+r&&(t.value=""+r);else if(n==="submit"||n==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?iN(t,e.type,r):e.hasOwnProperty("defaultValue")&&iN(t,e.type,pa(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function UT(t,e,r){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var n=e.type;if(!(n!=="submit"&&n!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,r||e===t.value||(t.value=e),t.defaultValue=e}r=t.name,r!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,r!==""&&(t.name=r)}function iN(t,e,r){(e!=="number"||Df(t.ownerDocument)!==t)&&(r==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+r&&(t.defaultValue=""+r))}var Pc=Array.isArray;function jl(t,e,r,n){if(t=t.options,e){e={};for(var i=0;i<r.length;i++)e["$"+r[i]]=!0;for(r=0;r<t.length;r++)i=e.hasOwnProperty("$"+t[r].value),t[r].selected!==i&&(t[r].selected=i),i&&n&&(t[r].defaultSelected=!0)}else{for(r=""+pa(r),e=null,i=0;i<t.length;i++){if(t[i].value===r){t[i].selected=!0,n&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function sN(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(Q(91));return Ot({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function WT(t,e){var r=e.value;if(r==null){if(r=e.children,e=e.defaultValue,r!=null){if(e!=null)throw Error(Q(92));if(Pc(r)){if(1<r.length)throw Error(Q(93));r=r[0]}e=r}e==null&&(e=""),r=e}t._wrapperState={initialValue:pa(r)}}function l9(t,e){var r=pa(e.value),n=pa(e.defaultValue);r!=null&&(r=""+r,r!==t.value&&(t.value=r),e.defaultValue==null&&t.defaultValue!==r&&(t.defaultValue=r)),n!=null&&(t.defaultValue=""+n)}function HT(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function u9(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function aN(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?u9(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Fh,c9=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,r,n,i){MSApp.execUnsafeLocalFunction(function(){return t(e,r,n,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Fh=Fh||document.createElement("div"),Fh.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Fh.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function ed(t,e){if(e){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=e;return}}t.textContent=e}var Dc={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},gX=["Webkit","ms","Moz","O"];Object.keys(Dc).forEach(function(t){gX.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Dc[e]=Dc[t]})});function d9(t,e,r){return e==null||typeof e=="boolean"||e===""?"":r||typeof e!="number"||e===0||Dc.hasOwnProperty(t)&&Dc[t]?(""+e).trim():e+"px"}function h9(t,e){t=t.style;for(var r in e)if(e.hasOwnProperty(r)){var n=r.indexOf("--")===0,i=d9(r,e[r],n);r==="float"&&(r="cssFloat"),n?t.setProperty(r,i):t[r]=i}}var yX=Ot({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function oN(t,e){if(e){if(yX[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(Q(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(Q(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(Q(61))}if(e.style!=null&&typeof e.style!="object")throw Error(Q(62))}}function lN(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var uN=null;function JO(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var cN=null,Il=null,Rl=null;function VT(t){if(t=Ud(t)){if(typeof cN!="function")throw Error(Q(280));var e=t.stateNode;e&&(e=qp(e),cN(t.stateNode,t.type,e))}}function f9(t){Il?Rl?Rl.push(t):Rl=[t]:Il=t}function p9(){if(Il){var t=Il,e=Rl;if(Rl=Il=null,VT(t),e)for(t=0;t<e.length;t++)VT(e[t])}}function m9(t,e){return t(e)}function v9(){}var Km=!1;function g9(t,e,r){if(Km)return t(e,r);Km=!0;try{return m9(t,e,r)}finally{Km=!1,(Il!==null||Rl!==null)&&(v9(),p9())}}function td(t,e){var r=t.stateNode;if(r===null)return null;var n=qp(r);if(n===null)return null;r=n[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(t=t.type,n=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!n;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(Q(231,e,typeof r));return r}var dN=!1;if(ds)try{var dc={};Object.defineProperty(dc,"passive",{get:function(){dN=!0}}),window.addEventListener("test",dc,dc),window.removeEventListener("test",dc,dc)}catch{dN=!1}function bX(t,e,r,n,i,s,a,o,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(r,c)}catch(d){this.onError(d)}}var Mc=!1,Mf=null,qf=!1,hN=null,xX={onError:function(t){Mc=!0,Mf=t}};function wX(t,e,r,n,i,s,a,o,l){Mc=!1,Mf=null,bX.apply(xX,arguments)}function _X(t,e,r,n,i,s,a,o,l){if(wX.apply(this,arguments),Mc){if(Mc){var c=Mf;Mc=!1,Mf=null}else throw Error(Q(198));qf||(qf=!0,hN=c)}}function Mo(t){var e=t,r=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(r=e.return),t=e.return;while(t)}return e.tag===3?r:null}function y9(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function KT(t){if(Mo(t)!==t)throw Error(Q(188))}function SX(t){var e=t.alternate;if(!e){if(e=Mo(t),e===null)throw Error(Q(188));return e!==t?null:t}for(var r=t,n=e;;){var i=r.return;if(i===null)break;var s=i.alternate;if(s===null){if(n=i.return,n!==null){r=n;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===r)return KT(i),t;if(s===n)return KT(i),e;s=s.sibling}throw Error(Q(188))}if(r.return!==n.return)r=i,n=s;else{for(var a=!1,o=i.child;o;){if(o===r){a=!0,r=i,n=s;break}if(o===n){a=!0,n=i,r=s;break}o=o.sibling}if(!a){for(o=s.child;o;){if(o===r){a=!0,r=s,n=i;break}if(o===n){a=!0,n=s,r=i;break}o=o.sibling}if(!a)throw Error(Q(189))}}if(r.alternate!==n)throw Error(Q(190))}if(r.tag!==3)throw Error(Q(188));return r.stateNode.current===r?t:e}function b9(t){return t=SX(t),t!==null?x9(t):null}function x9(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=x9(t);if(e!==null)return e;t=t.sibling}return null}var w9=bn.unstable_scheduleCallback,GT=bn.unstable_cancelCallback,EX=bn.unstable_shouldYield,NX=bn.unstable_requestPaint,Mt=bn.unstable_now,OX=bn.unstable_getCurrentPriorityLevel,ZO=bn.unstable_ImmediatePriority,_9=bn.unstable_UserBlockingPriority,Af=bn.unstable_NormalPriority,CX=bn.unstable_LowPriority,S9=bn.unstable_IdlePriority,$p=null,Ii=null;function PX(t){if(Ii&&typeof Ii.onCommitFiberRoot=="function")try{Ii.onCommitFiberRoot($p,t,void 0,(t.current.flags&128)===128)}catch{}}var ui=Math.clz32?Math.clz32:IX,TX=Math.log,jX=Math.LN2;function IX(t){return t>>>=0,t===0?32:31-(TX(t)/jX|0)|0}var Lh=64,Bh=4194304;function Tc(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Ff(t,e){var r=t.pendingLanes;if(r===0)return 0;var n=0,i=t.suspendedLanes,s=t.pingedLanes,a=r&268435455;if(a!==0){var o=a&~i;o!==0?n=Tc(o):(s&=a,s!==0&&(n=Tc(s)))}else a=r&~i,a!==0?n=Tc(a):s!==0&&(n=Tc(s));if(n===0)return 0;if(e!==0&&e!==n&&!(e&i)&&(i=n&-n,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(n&4&&(n|=r&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=n;0<e;)r=31-ui(e),i=1<<r,n|=t[r],e&=~i;return n}function RX(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function $X(t,e){for(var r=t.suspendedLanes,n=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var a=31-ui(s),o=1<<a,l=i[a];l===-1?(!(o&r)||o&n)&&(i[a]=RX(o,e)):l<=e&&(t.expiredLanes|=o),s&=~o}}function fN(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function E9(){var t=Lh;return Lh<<=1,!(Lh&4194240)&&(Lh=64),t}function Gm(t){for(var e=[],r=0;31>r;r++)e.push(t);return e}function Bd(t,e,r){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-ui(e),t[e]=r}function kX(t,e){var r=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var n=t.eventTimes;for(t=t.expirationTimes;0<r;){var i=31-ui(r),s=1<<i;e[i]=0,n[i]=-1,t[i]=-1,r&=~s}}function eC(t,e){var r=t.entangledLanes|=e;for(t=t.entanglements;r;){var n=31-ui(r),i=1<<n;i&e|t[n]&e&&(t[n]|=e),r&=~i}}var Ze=0;function N9(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var O9,tC,C9,P9,T9,pN=!1,zh=[],Js=null,Zs=null,ea=null,rd=new Map,nd=new Map,Ds=[],DX="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function YT(t,e){switch(t){case"focusin":case"focusout":Js=null;break;case"dragenter":case"dragleave":Zs=null;break;case"mouseover":case"mouseout":ea=null;break;case"pointerover":case"pointerout":rd.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":nd.delete(e.pointerId)}}function hc(t,e,r,n,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:r,eventSystemFlags:n,nativeEvent:s,targetContainers:[i]},e!==null&&(e=Ud(e),e!==null&&tC(e)),t):(t.eventSystemFlags|=n,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function MX(t,e,r,n,i){switch(e){case"focusin":return Js=hc(Js,t,e,r,n,i),!0;case"dragenter":return Zs=hc(Zs,t,e,r,n,i),!0;case"mouseover":return ea=hc(ea,t,e,r,n,i),!0;case"pointerover":var s=i.pointerId;return rd.set(s,hc(rd.get(s)||null,t,e,r,n,i)),!0;case"gotpointercapture":return s=i.pointerId,nd.set(s,hc(nd.get(s)||null,t,e,r,n,i)),!0}return!1}function j9(t){var e=Fa(t.target);if(e!==null){var r=Mo(e);if(r!==null){if(e=r.tag,e===13){if(e=y9(r),e!==null){t.blockedOn=e,T9(t.priority,function(){C9(r)});return}}else if(e===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function mf(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var r=mN(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(r===null){r=t.nativeEvent;var n=new r.constructor(r.type,r);uN=n,r.target.dispatchEvent(n),uN=null}else return e=Ud(r),e!==null&&tC(e),t.blockedOn=r,!1;e.shift()}return!0}function QT(t,e,r){mf(t)&&r.delete(e)}function qX(){pN=!1,Js!==null&&mf(Js)&&(Js=null),Zs!==null&&mf(Zs)&&(Zs=null),ea!==null&&mf(ea)&&(ea=null),rd.forEach(QT),nd.forEach(QT)}function fc(t,e){t.blockedOn===e&&(t.blockedOn=null,pN||(pN=!0,bn.unstable_scheduleCallback(bn.unstable_NormalPriority,qX)))}function id(t){function e(i){return fc(i,t)}if(0<zh.length){fc(zh[0],t);for(var r=1;r<zh.length;r++){var n=zh[r];n.blockedOn===t&&(n.blockedOn=null)}}for(Js!==null&&fc(Js,t),Zs!==null&&fc(Zs,t),ea!==null&&fc(ea,t),rd.forEach(e),nd.forEach(e),r=0;r<Ds.length;r++)n=Ds[r],n.blockedOn===t&&(n.blockedOn=null);for(;0<Ds.length&&(r=Ds[0],r.blockedOn===null);)j9(r),r.blockedOn===null&&Ds.shift()}var $l=gs.ReactCurrentBatchConfig,Lf=!0;function AX(t,e,r,n){var i=Ze,s=$l.transition;$l.transition=null;try{Ze=1,rC(t,e,r,n)}finally{Ze=i,$l.transition=s}}function FX(t,e,r,n){var i=Ze,s=$l.transition;$l.transition=null;try{Ze=4,rC(t,e,r,n)}finally{Ze=i,$l.transition=s}}function rC(t,e,r,n){if(Lf){var i=mN(t,e,r,n);if(i===null)iv(t,e,n,Bf,r),YT(t,n);else if(MX(i,t,e,r,n))n.stopPropagation();else if(YT(t,n),e&4&&-1<DX.indexOf(t)){for(;i!==null;){var s=Ud(i);if(s!==null&&O9(s),s=mN(t,e,r,n),s===null&&iv(t,e,n,Bf,r),s===i)break;i=s}i!==null&&n.stopPropagation()}else iv(t,e,n,null,r)}}var Bf=null;function mN(t,e,r,n){if(Bf=null,t=JO(n),t=Fa(t),t!==null)if(e=Mo(t),e===null)t=null;else if(r=e.tag,r===13){if(t=y9(e),t!==null)return t;t=null}else if(r===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Bf=t,null}function I9(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(OX()){case ZO:return 1;case _9:return 4;case Af:case CX:return 16;case S9:return 536870912;default:return 16}default:return 16}}var Gs=null,nC=null,vf=null;function R9(){if(vf)return vf;var t,e=nC,r=e.length,n,i="value"in Gs?Gs.value:Gs.textContent,s=i.length;for(t=0;t<r&&e[t]===i[t];t++);var a=r-t;for(n=1;n<=a&&e[r-n]===i[s-n];n++);return vf=i.slice(t,1<n?1-n:void 0)}function gf(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Uh(){return!0}function XT(){return!1}function _n(t){function e(r,n,i,s,a){this._reactName=r,this._targetInst=i,this.type=n,this.nativeEvent=s,this.target=a,this.currentTarget=null;for(var o in t)t.hasOwnProperty(o)&&(r=t[o],this[o]=r?r(s):s[o]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Uh:XT,this.isPropagationStopped=XT,this}return Ot(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Uh)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Uh)},persist:function(){},isPersistent:Uh}),e}var Nu={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},iC=_n(Nu),zd=Ot({},Nu,{view:0,detail:0}),LX=_n(zd),Ym,Qm,pc,kp=Ot({},zd,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:sC,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==pc&&(pc&&t.type==="mousemove"?(Ym=t.screenX-pc.screenX,Qm=t.screenY-pc.screenY):Qm=Ym=0,pc=t),Ym)},movementY:function(t){return"movementY"in t?t.movementY:Qm}}),JT=_n(kp),BX=Ot({},kp,{dataTransfer:0}),zX=_n(BX),UX=Ot({},zd,{relatedTarget:0}),Xm=_n(UX),WX=Ot({},Nu,{animationName:0,elapsedTime:0,pseudoElement:0}),HX=_n(WX),VX=Ot({},Nu,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),KX=_n(VX),GX=Ot({},Nu,{data:0}),ZT=_n(GX),YX={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},QX={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},XX={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function JX(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=XX[t])?!!e[t]:!1}function sC(){return JX}var ZX=Ot({},zd,{key:function(t){if(t.key){var e=YX[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=gf(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?QX[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:sC,charCode:function(t){return t.type==="keypress"?gf(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?gf(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),eJ=_n(ZX),tJ=Ot({},kp,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ej=_n(tJ),rJ=Ot({},zd,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:sC}),nJ=_n(rJ),iJ=Ot({},Nu,{propertyName:0,elapsedTime:0,pseudoElement:0}),sJ=_n(iJ),aJ=Ot({},kp,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),oJ=_n(aJ),lJ=[9,13,27,32],aC=ds&&"CompositionEvent"in window,qc=null;ds&&"documentMode"in document&&(qc=document.documentMode);var uJ=ds&&"TextEvent"in window&&!qc,$9=ds&&(!aC||qc&&8<qc&&11>=qc),tj=" ",rj=!1;function k9(t,e){switch(t){case"keyup":return lJ.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function D9(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var pl=!1;function cJ(t,e){switch(t){case"compositionend":return D9(e);case"keypress":return e.which!==32?null:(rj=!0,tj);case"textInput":return t=e.data,t===tj&&rj?null:t;default:return null}}function dJ(t,e){if(pl)return t==="compositionend"||!aC&&k9(t,e)?(t=R9(),vf=nC=Gs=null,pl=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return $9&&e.locale!=="ko"?null:e.data;default:return null}}var hJ={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function nj(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!hJ[t.type]:e==="textarea"}function M9(t,e,r,n){f9(n),e=zf(e,"onChange"),0<e.length&&(r=new iC("onChange","change",null,r,n),t.push({event:r,listeners:e}))}var Ac=null,sd=null;function fJ(t){K9(t,0)}function Dp(t){var e=gl(t);if(a9(e))return t}function pJ(t,e){if(t==="change")return e}var q9=!1;if(ds){var Jm;if(ds){var Zm="oninput"in document;if(!Zm){var ij=document.createElement("div");ij.setAttribute("oninput","return;"),Zm=typeof ij.oninput=="function"}Jm=Zm}else Jm=!1;q9=Jm&&(!document.documentMode||9<document.documentMode)}function sj(){Ac&&(Ac.detachEvent("onpropertychange",A9),sd=Ac=null)}function A9(t){if(t.propertyName==="value"&&Dp(sd)){var e=[];M9(e,sd,t,JO(t)),g9(fJ,e)}}function mJ(t,e,r){t==="focusin"?(sj(),Ac=e,sd=r,Ac.attachEvent("onpropertychange",A9)):t==="focusout"&&sj()}function vJ(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Dp(sd)}function gJ(t,e){if(t==="click")return Dp(e)}function yJ(t,e){if(t==="input"||t==="change")return Dp(e)}function bJ(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var di=typeof Object.is=="function"?Object.is:bJ;function ad(t,e){if(di(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var i=r[n];if(!X2.call(e,i)||!di(t[i],e[i]))return!1}return!0}function aj(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function oj(t,e){var r=aj(t);t=0;for(var n;r;){if(r.nodeType===3){if(n=t+r.textContent.length,t<=e&&n>=e)return{node:r,offset:e-t};t=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=aj(r)}}function F9(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?F9(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function L9(){for(var t=window,e=Df();e instanceof t.HTMLIFrameElement;){try{var r=typeof e.contentWindow.location.href=="string"}catch{r=!1}if(r)t=e.contentWindow;else break;e=Df(t.document)}return e}function oC(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function xJ(t){var e=L9(),r=t.focusedElem,n=t.selectionRange;if(e!==r&&r&&r.ownerDocument&&F9(r.ownerDocument.documentElement,r)){if(n!==null&&oC(r)){if(e=n.start,t=n.end,t===void 0&&(t=e),"selectionStart"in r)r.selectionStart=e,r.selectionEnd=Math.min(t,r.value.length);else if(t=(e=r.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=r.textContent.length,s=Math.min(n.start,i);n=n.end===void 0?s:Math.min(n.end,i),!t.extend&&s>n&&(i=n,n=s,s=i),i=oj(r,s);var a=oj(r,n);i&&a&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==a.node||t.focusOffset!==a.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>n?(t.addRange(e),t.extend(a.node,a.offset)):(e.setEnd(a.node,a.offset),t.addRange(e)))}}for(e=[],t=r;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<e.length;r++)t=e[r],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var wJ=ds&&"documentMode"in document&&11>=document.documentMode,ml=null,vN=null,Fc=null,gN=!1;function lj(t,e,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;gN||ml==null||ml!==Df(n)||(n=ml,"selectionStart"in n&&oC(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Fc&&ad(Fc,n)||(Fc=n,n=zf(vN,"onSelect"),0<n.length&&(e=new iC("onSelect","select",null,e,r),t.push({event:e,listeners:n}),e.target=ml)))}function Wh(t,e){var r={};return r[t.toLowerCase()]=e.toLowerCase(),r["Webkit"+t]="webkit"+e,r["Moz"+t]="moz"+e,r}var vl={animationend:Wh("Animation","AnimationEnd"),animationiteration:Wh("Animation","AnimationIteration"),animationstart:Wh("Animation","AnimationStart"),transitionend:Wh("Transition","TransitionEnd")},ev={},B9={};ds&&(B9=document.createElement("div").style,"AnimationEvent"in window||(delete vl.animationend.animation,delete vl.animationiteration.animation,delete vl.animationstart.animation),"TransitionEvent"in window||delete vl.transitionend.transition);function Mp(t){if(ev[t])return ev[t];if(!vl[t])return t;var e=vl[t],r;for(r in e)if(e.hasOwnProperty(r)&&r in B9)return ev[t]=e[r];return t}var z9=Mp("animationend"),U9=Mp("animationiteration"),W9=Mp("animationstart"),H9=Mp("transitionend"),V9=new Map,uj="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function wa(t,e){V9.set(t,e),Do(e,[t])}for(var tv=0;tv<uj.length;tv++){var rv=uj[tv],_J=rv.toLowerCase(),SJ=rv[0].toUpperCase()+rv.slice(1);wa(_J,"on"+SJ)}wa(z9,"onAnimationEnd");wa(U9,"onAnimationIteration");wa(W9,"onAnimationStart");wa("dblclick","onDoubleClick");wa("focusin","onFocus");wa("focusout","onBlur");wa(H9,"onTransitionEnd");ru("onMouseEnter",["mouseout","mouseover"]);ru("onMouseLeave",["mouseout","mouseover"]);ru("onPointerEnter",["pointerout","pointerover"]);ru("onPointerLeave",["pointerout","pointerover"]);Do("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Do("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Do("onBeforeInput",["compositionend","keypress","textInput","paste"]);Do("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Do("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Do("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var jc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),EJ=new Set("cancel close invalid load scroll toggle".split(" ").concat(jc));function cj(t,e,r){var n=t.type||"unknown-event";t.currentTarget=r,_X(n,e,void 0,t),t.currentTarget=null}function K9(t,e){e=(e&4)!==0;for(var r=0;r<t.length;r++){var n=t[r],i=n.event;n=n.listeners;e:{var s=void 0;if(e)for(var a=n.length-1;0<=a;a--){var o=n[a],l=o.instance,c=o.currentTarget;if(o=o.listener,l!==s&&i.isPropagationStopped())break e;cj(i,o,c),s=l}else for(a=0;a<n.length;a++){if(o=n[a],l=o.instance,c=o.currentTarget,o=o.listener,l!==s&&i.isPropagationStopped())break e;cj(i,o,c),s=l}}}if(qf)throw t=hN,qf=!1,hN=null,t}function mt(t,e){var r=e[_N];r===void 0&&(r=e[_N]=new Set);var n=t+"__bubble";r.has(n)||(G9(e,t,2,!1),r.add(n))}function nv(t,e,r){var n=0;e&&(n|=4),G9(r,t,n,e)}var Hh="_reactListening"+Math.random().toString(36).slice(2);function od(t){if(!t[Hh]){t[Hh]=!0,t9.forEach(function(r){r!=="selectionchange"&&(EJ.has(r)||nv(r,!1,t),nv(r,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Hh]||(e[Hh]=!0,nv("selectionchange",!1,e))}}function G9(t,e,r,n){switch(I9(e)){case 1:var i=AX;break;case 4:i=FX;break;default:i=rC}r=i.bind(null,e,r,t),i=void 0,!dN||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),n?i!==void 0?t.addEventListener(e,r,{capture:!0,passive:i}):t.addEventListener(e,r,!0):i!==void 0?t.addEventListener(e,r,{passive:i}):t.addEventListener(e,r,!1)}function iv(t,e,r,n,i){var s=n;if(!(e&1)&&!(e&2)&&n!==null)e:for(;;){if(n===null)return;var a=n.tag;if(a===3||a===4){var o=n.stateNode.containerInfo;if(o===i||o.nodeType===8&&o.parentNode===i)break;if(a===4)for(a=n.return;a!==null;){var l=a.tag;if((l===3||l===4)&&(l=a.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;a=a.return}for(;o!==null;){if(a=Fa(o),a===null)return;if(l=a.tag,l===5||l===6){n=s=a;continue e}o=o.parentNode}}n=n.return}g9(function(){var c=s,d=JO(r),h=[];e:{var f=V9.get(t);if(f!==void 0){var p=iC,m=t;switch(t){case"keypress":if(gf(r)===0)break e;case"keydown":case"keyup":p=eJ;break;case"focusin":m="focus",p=Xm;break;case"focusout":m="blur",p=Xm;break;case"beforeblur":case"afterblur":p=Xm;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=JT;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=zX;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=nJ;break;case z9:case U9:case W9:p=HX;break;case H9:p=sJ;break;case"scroll":p=LX;break;case"wheel":p=oJ;break;case"copy":case"cut":case"paste":p=KX;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=ej}var y=(e&4)!==0,x=!y&&t==="scroll",g=y?f!==null?f+"Capture":null:f;y=[];for(var v=c,w;v!==null;){w=v;var b=w.stateNode;if(w.tag===5&&b!==null&&(w=b,g!==null&&(b=td(v,g),b!=null&&y.push(ld(v,b,w)))),x)break;v=v.return}0<y.length&&(f=new p(f,m,null,r,d),h.push({event:f,listeners:y}))}}if(!(e&7)){e:{if(f=t==="mouseover"||t==="pointerover",p=t==="mouseout"||t==="pointerout",f&&r!==uN&&(m=r.relatedTarget||r.fromElement)&&(Fa(m)||m[hs]))break e;if((p||f)&&(f=d.window===d?d:(f=d.ownerDocument)?f.defaultView||f.parentWindow:window,p?(m=r.relatedTarget||r.toElement,p=c,m=m?Fa(m):null,m!==null&&(x=Mo(m),m!==x||m.tag!==5&&m.tag!==6)&&(m=null)):(p=null,m=c),p!==m)){if(y=JT,b="onMouseLeave",g="onMouseEnter",v="mouse",(t==="pointerout"||t==="pointerover")&&(y=ej,b="onPointerLeave",g="onPointerEnter",v="pointer"),x=p==null?f:gl(p),w=m==null?f:gl(m),f=new y(b,v+"leave",p,r,d),f.target=x,f.relatedTarget=w,b=null,Fa(d)===c&&(y=new y(g,v+"enter",m,r,d),y.target=w,y.relatedTarget=x,b=y),x=b,p&&m)t:{for(y=p,g=m,v=0,w=y;w;w=il(w))v++;for(w=0,b=g;b;b=il(b))w++;for(;0<v-w;)y=il(y),v--;for(;0<w-v;)g=il(g),w--;for(;v--;){if(y===g||g!==null&&y===g.alternate)break t;y=il(y),g=il(g)}y=null}else y=null;p!==null&&dj(h,f,p,y,!1),m!==null&&x!==null&&dj(h,x,m,y,!0)}}e:{if(f=c?gl(c):window,p=f.nodeName&&f.nodeName.toLowerCase(),p==="select"||p==="input"&&f.type==="file")var _=pJ;else if(nj(f))if(q9)_=yJ;else{_=vJ;var E=mJ}else(p=f.nodeName)&&p.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(_=gJ);if(_&&(_=_(t,c))){M9(h,_,r,d);break e}E&&E(t,f,c),t==="focusout"&&(E=f._wrapperState)&&E.controlled&&f.type==="number"&&iN(f,"number",f.value)}switch(E=c?gl(c):window,t){case"focusin":(nj(E)||E.contentEditable==="true")&&(ml=E,vN=c,Fc=null);break;case"focusout":Fc=vN=ml=null;break;case"mousedown":gN=!0;break;case"contextmenu":case"mouseup":case"dragend":gN=!1,lj(h,r,d);break;case"selectionchange":if(wJ)break;case"keydown":case"keyup":lj(h,r,d)}var N;if(aC)e:{switch(t){case"compositionstart":var S="onCompositionStart";break e;case"compositionend":S="onCompositionEnd";break e;case"compositionupdate":S="onCompositionUpdate";break e}S=void 0}else pl?k9(t,r)&&(S="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(S="onCompositionStart");S&&($9&&r.locale!=="ko"&&(pl||S!=="onCompositionStart"?S==="onCompositionEnd"&&pl&&(N=R9()):(Gs=d,nC="value"in Gs?Gs.value:Gs.textContent,pl=!0)),E=zf(c,S),0<E.length&&(S=new ZT(S,t,null,r,d),h.push({event:S,listeners:E}),N?S.data=N:(N=D9(r),N!==null&&(S.data=N)))),(N=uJ?cJ(t,r):dJ(t,r))&&(c=zf(c,"onBeforeInput"),0<c.length&&(d=new ZT("onBeforeInput","beforeinput",null,r,d),h.push({event:d,listeners:c}),d.data=N))}K9(h,e)})}function ld(t,e,r){return{instance:t,listener:e,currentTarget:r}}function zf(t,e){for(var r=e+"Capture",n=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=td(t,r),s!=null&&n.unshift(ld(t,s,i)),s=td(t,e),s!=null&&n.push(ld(t,s,i))),t=t.return}return n}function il(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function dj(t,e,r,n,i){for(var s=e._reactName,a=[];r!==null&&r!==n;){var o=r,l=o.alternate,c=o.stateNode;if(l!==null&&l===n)break;o.tag===5&&c!==null&&(o=c,i?(l=td(r,s),l!=null&&a.unshift(ld(r,l,o))):i||(l=td(r,s),l!=null&&a.push(ld(r,l,o)))),r=r.return}a.length!==0&&t.push({event:e,listeners:a})}var NJ=/\r\n?/g,OJ=/\u0000|\uFFFD/g;function hj(t){return(typeof t=="string"?t:""+t).replace(NJ,`
`).replace(OJ,"")}function Vh(t,e,r){if(e=hj(e),hj(t)!==e&&r)throw Error(Q(425))}function Uf(){}var yN=null,bN=null;function xN(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var wN=typeof setTimeout=="function"?setTimeout:void 0,CJ=typeof clearTimeout=="function"?clearTimeout:void 0,fj=typeof Promise=="function"?Promise:void 0,PJ=typeof queueMicrotask=="function"?queueMicrotask:typeof fj<"u"?function(t){return fj.resolve(null).then(t).catch(TJ)}:wN;function TJ(t){setTimeout(function(){throw t})}function sv(t,e){var r=e,n=0;do{var i=r.nextSibling;if(t.removeChild(r),i&&i.nodeType===8)if(r=i.data,r==="/$"){if(n===0){t.removeChild(i),id(e);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=i}while(r);id(e)}function ta(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function pj(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(e===0)return t;e--}else r==="/$"&&e++}t=t.previousSibling}return null}var Ou=Math.random().toString(36).slice(2),Ni="__reactFiber$"+Ou,ud="__reactProps$"+Ou,hs="__reactContainer$"+Ou,_N="__reactEvents$"+Ou,jJ="__reactListeners$"+Ou,IJ="__reactHandles$"+Ou;function Fa(t){var e=t[Ni];if(e)return e;for(var r=t.parentNode;r;){if(e=r[hs]||r[Ni]){if(r=e.alternate,e.child!==null||r!==null&&r.child!==null)for(t=pj(t);t!==null;){if(r=t[Ni])return r;t=pj(t)}return e}t=r,r=t.parentNode}return null}function Ud(t){return t=t[Ni]||t[hs],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function gl(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(Q(33))}function qp(t){return t[ud]||null}var SN=[],yl=-1;function _a(t){return{current:t}}function gt(t){0>yl||(t.current=SN[yl],SN[yl]=null,yl--)}function ft(t,e){yl++,SN[yl]=t.current,t.current=e}var ma={},Tr=_a(ma),tn=_a(!1),go=ma;function nu(t,e){var r=t.type.contextTypes;if(!r)return ma;var n=t.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===e)return n.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in r)i[s]=e[s];return n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function rn(t){return t=t.childContextTypes,t!=null}function Wf(){gt(tn),gt(Tr)}function mj(t,e,r){if(Tr.current!==ma)throw Error(Q(168));ft(Tr,e),ft(tn,r)}function Y9(t,e,r){var n=t.stateNode;if(e=e.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var i in n)if(!(i in e))throw Error(Q(108,mX(t)||"Unknown",i));return Ot({},r,n)}function Hf(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||ma,go=Tr.current,ft(Tr,t),ft(tn,tn.current),!0}function vj(t,e,r){var n=t.stateNode;if(!n)throw Error(Q(169));r?(t=Y9(t,e,go),n.__reactInternalMemoizedMergedChildContext=t,gt(tn),gt(Tr),ft(Tr,t)):gt(tn),ft(tn,r)}var Hi=null,Ap=!1,av=!1;function Q9(t){Hi===null?Hi=[t]:Hi.push(t)}function RJ(t){Ap=!0,Q9(t)}function Sa(){if(!av&&Hi!==null){av=!0;var t=0,e=Ze;try{var r=Hi;for(Ze=1;t<r.length;t++){var n=r[t];do n=n(!0);while(n!==null)}Hi=null,Ap=!1}catch(i){throw Hi!==null&&(Hi=Hi.slice(t+1)),w9(ZO,Sa),i}finally{Ze=e,av=!1}}return null}var bl=[],xl=0,Vf=null,Kf=0,kn=[],Dn=0,yo=null,Qi=1,Xi="";function Ma(t,e){bl[xl++]=Kf,bl[xl++]=Vf,Vf=t,Kf=e}function X9(t,e,r){kn[Dn++]=Qi,kn[Dn++]=Xi,kn[Dn++]=yo,yo=t;var n=Qi;t=Xi;var i=32-ui(n)-1;n&=~(1<<i),r+=1;var s=32-ui(e)+i;if(30<s){var a=i-i%5;s=(n&(1<<a)-1).toString(32),n>>=a,i-=a,Qi=1<<32-ui(e)+i|r<<i|n,Xi=s+t}else Qi=1<<s|r<<i|n,Xi=t}function lC(t){t.return!==null&&(Ma(t,1),X9(t,1,0))}function uC(t){for(;t===Vf;)Vf=bl[--xl],bl[xl]=null,Kf=bl[--xl],bl[xl]=null;for(;t===yo;)yo=kn[--Dn],kn[Dn]=null,Xi=kn[--Dn],kn[Dn]=null,Qi=kn[--Dn],kn[Dn]=null}var yn=null,gn=null,wt=!1,ri=null;function J9(t,e){var r=qn(5,null,null,0);r.elementType="DELETED",r.stateNode=e,r.return=t,e=t.deletions,e===null?(t.deletions=[r],t.flags|=16):e.push(r)}function gj(t,e){switch(t.tag){case 5:var r=t.type;return e=e.nodeType!==1||r.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,yn=t,gn=ta(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,yn=t,gn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(r=yo!==null?{id:Qi,overflow:Xi}:null,t.memoizedState={dehydrated:e,treeContext:r,retryLane:1073741824},r=qn(18,null,null,0),r.stateNode=e,r.return=t,t.child=r,yn=t,gn=null,!0):!1;default:return!1}}function EN(t){return(t.mode&1)!==0&&(t.flags&128)===0}function NN(t){if(wt){var e=gn;if(e){var r=e;if(!gj(t,e)){if(EN(t))throw Error(Q(418));e=ta(r.nextSibling);var n=yn;e&&gj(t,e)?J9(n,r):(t.flags=t.flags&-4097|2,wt=!1,yn=t)}}else{if(EN(t))throw Error(Q(418));t.flags=t.flags&-4097|2,wt=!1,yn=t}}}function yj(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;yn=t}function Kh(t){if(t!==yn)return!1;if(!wt)return yj(t),wt=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!xN(t.type,t.memoizedProps)),e&&(e=gn)){if(EN(t))throw Z9(),Error(Q(418));for(;e;)J9(t,e),e=ta(e.nextSibling)}if(yj(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(Q(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"){if(e===0){gn=ta(t.nextSibling);break e}e--}else r!=="$"&&r!=="$!"&&r!=="$?"||e++}t=t.nextSibling}gn=null}}else gn=yn?ta(t.stateNode.nextSibling):null;return!0}function Z9(){for(var t=gn;t;)t=ta(t.nextSibling)}function iu(){gn=yn=null,wt=!1}function cC(t){ri===null?ri=[t]:ri.push(t)}var $J=gs.ReactCurrentBatchConfig;function mc(t,e,r){if(t=r.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(Q(309));var n=r.stateNode}if(!n)throw Error(Q(147,t));var i=n,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(a){var o=i.refs;a===null?delete o[s]:o[s]=a},e._stringRef=s,e)}if(typeof t!="string")throw Error(Q(284));if(!r._owner)throw Error(Q(290,t))}return t}function Gh(t,e){throw t=Object.prototype.toString.call(e),Error(Q(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function bj(t){var e=t._init;return e(t._payload)}function eH(t){function e(g,v){if(t){var w=g.deletions;w===null?(g.deletions=[v],g.flags|=16):w.push(v)}}function r(g,v){if(!t)return null;for(;v!==null;)e(g,v),v=v.sibling;return null}function n(g,v){for(g=new Map;v!==null;)v.key!==null?g.set(v.key,v):g.set(v.index,v),v=v.sibling;return g}function i(g,v){return g=sa(g,v),g.index=0,g.sibling=null,g}function s(g,v,w){return g.index=w,t?(w=g.alternate,w!==null?(w=w.index,w<v?(g.flags|=2,v):w):(g.flags|=2,v)):(g.flags|=1048576,v)}function a(g){return t&&g.alternate===null&&(g.flags|=2),g}function o(g,v,w,b){return v===null||v.tag!==6?(v=fv(w,g.mode,b),v.return=g,v):(v=i(v,w),v.return=g,v)}function l(g,v,w,b){var _=w.type;return _===fl?d(g,v,w.props.children,b,w.key):v!==null&&(v.elementType===_||typeof _=="object"&&_!==null&&_.$$typeof===Is&&bj(_)===v.type)?(b=i(v,w.props),b.ref=mc(g,v,w),b.return=g,b):(b=Ef(w.type,w.key,w.props,null,g.mode,b),b.ref=mc(g,v,w),b.return=g,b)}function c(g,v,w,b){return v===null||v.tag!==4||v.stateNode.containerInfo!==w.containerInfo||v.stateNode.implementation!==w.implementation?(v=pv(w,g.mode,b),v.return=g,v):(v=i(v,w.children||[]),v.return=g,v)}function d(g,v,w,b,_){return v===null||v.tag!==7?(v=ao(w,g.mode,b,_),v.return=g,v):(v=i(v,w),v.return=g,v)}function h(g,v,w){if(typeof v=="string"&&v!==""||typeof v=="number")return v=fv(""+v,g.mode,w),v.return=g,v;if(typeof v=="object"&&v!==null){switch(v.$$typeof){case qh:return w=Ef(v.type,v.key,v.props,null,g.mode,w),w.ref=mc(g,null,v),w.return=g,w;case hl:return v=pv(v,g.mode,w),v.return=g,v;case Is:var b=v._init;return h(g,b(v._payload),w)}if(Pc(v)||cc(v))return v=ao(v,g.mode,w,null),v.return=g,v;Gh(g,v)}return null}function f(g,v,w,b){var _=v!==null?v.key:null;if(typeof w=="string"&&w!==""||typeof w=="number")return _!==null?null:o(g,v,""+w,b);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case qh:return w.key===_?l(g,v,w,b):null;case hl:return w.key===_?c(g,v,w,b):null;case Is:return _=w._init,f(g,v,_(w._payload),b)}if(Pc(w)||cc(w))return _!==null?null:d(g,v,w,b,null);Gh(g,w)}return null}function p(g,v,w,b,_){if(typeof b=="string"&&b!==""||typeof b=="number")return g=g.get(w)||null,o(v,g,""+b,_);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case qh:return g=g.get(b.key===null?w:b.key)||null,l(v,g,b,_);case hl:return g=g.get(b.key===null?w:b.key)||null,c(v,g,b,_);case Is:var E=b._init;return p(g,v,w,E(b._payload),_)}if(Pc(b)||cc(b))return g=g.get(w)||null,d(v,g,b,_,null);Gh(v,b)}return null}function m(g,v,w,b){for(var _=null,E=null,N=v,S=v=0,O=null;N!==null&&S<w.length;S++){N.index>S?(O=N,N=null):O=N.sibling;var C=f(g,N,w[S],b);if(C===null){N===null&&(N=O);break}t&&N&&C.alternate===null&&e(g,N),v=s(C,v,S),E===null?_=C:E.sibling=C,E=C,N=O}if(S===w.length)return r(g,N),wt&&Ma(g,S),_;if(N===null){for(;S<w.length;S++)N=h(g,w[S],b),N!==null&&(v=s(N,v,S),E===null?_=N:E.sibling=N,E=N);return wt&&Ma(g,S),_}for(N=n(g,N);S<w.length;S++)O=p(N,g,S,w[S],b),O!==null&&(t&&O.alternate!==null&&N.delete(O.key===null?S:O.key),v=s(O,v,S),E===null?_=O:E.sibling=O,E=O);return t&&N.forEach(function(T){return e(g,T)}),wt&&Ma(g,S),_}function y(g,v,w,b){var _=cc(w);if(typeof _!="function")throw Error(Q(150));if(w=_.call(w),w==null)throw Error(Q(151));for(var E=_=null,N=v,S=v=0,O=null,C=w.next();N!==null&&!C.done;S++,C=w.next()){N.index>S?(O=N,N=null):O=N.sibling;var T=f(g,N,C.value,b);if(T===null){N===null&&(N=O);break}t&&N&&T.alternate===null&&e(g,N),v=s(T,v,S),E===null?_=T:E.sibling=T,E=T,N=O}if(C.done)return r(g,N),wt&&Ma(g,S),_;if(N===null){for(;!C.done;S++,C=w.next())C=h(g,C.value,b),C!==null&&(v=s(C,v,S),E===null?_=C:E.sibling=C,E=C);return wt&&Ma(g,S),_}for(N=n(g,N);!C.done;S++,C=w.next())C=p(N,g,S,C.value,b),C!==null&&(t&&C.alternate!==null&&N.delete(C.key===null?S:C.key),v=s(C,v,S),E===null?_=C:E.sibling=C,E=C);return t&&N.forEach(function(P){return e(g,P)}),wt&&Ma(g,S),_}function x(g,v,w,b){if(typeof w=="object"&&w!==null&&w.type===fl&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case qh:e:{for(var _=w.key,E=v;E!==null;){if(E.key===_){if(_=w.type,_===fl){if(E.tag===7){r(g,E.sibling),v=i(E,w.props.children),v.return=g,g=v;break e}}else if(E.elementType===_||typeof _=="object"&&_!==null&&_.$$typeof===Is&&bj(_)===E.type){r(g,E.sibling),v=i(E,w.props),v.ref=mc(g,E,w),v.return=g,g=v;break e}r(g,E);break}else e(g,E);E=E.sibling}w.type===fl?(v=ao(w.props.children,g.mode,b,w.key),v.return=g,g=v):(b=Ef(w.type,w.key,w.props,null,g.mode,b),b.ref=mc(g,v,w),b.return=g,g=b)}return a(g);case hl:e:{for(E=w.key;v!==null;){if(v.key===E)if(v.tag===4&&v.stateNode.containerInfo===w.containerInfo&&v.stateNode.implementation===w.implementation){r(g,v.sibling),v=i(v,w.children||[]),v.return=g,g=v;break e}else{r(g,v);break}else e(g,v);v=v.sibling}v=pv(w,g.mode,b),v.return=g,g=v}return a(g);case Is:return E=w._init,x(g,v,E(w._payload),b)}if(Pc(w))return m(g,v,w,b);if(cc(w))return y(g,v,w,b);Gh(g,w)}return typeof w=="string"&&w!==""||typeof w=="number"?(w=""+w,v!==null&&v.tag===6?(r(g,v.sibling),v=i(v,w),v.return=g,g=v):(r(g,v),v=fv(w,g.mode,b),v.return=g,g=v),a(g)):r(g,v)}return x}var su=eH(!0),tH=eH(!1),Gf=_a(null),Yf=null,wl=null,dC=null;function hC(){dC=wl=Yf=null}function fC(t){var e=Gf.current;gt(Gf),t._currentValue=e}function ON(t,e,r){for(;t!==null;){var n=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,n!==null&&(n.childLanes|=e)):n!==null&&(n.childLanes&e)!==e&&(n.childLanes|=e),t===r)break;t=t.return}}function kl(t,e){Yf=t,dC=wl=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(en=!0),t.firstContext=null)}function Bn(t){var e=t._currentValue;if(dC!==t)if(t={context:t,memoizedValue:e,next:null},wl===null){if(Yf===null)throw Error(Q(308));wl=t,Yf.dependencies={lanes:0,firstContext:t}}else wl=wl.next=t;return e}var La=null;function pC(t){La===null?La=[t]:La.push(t)}function rH(t,e,r,n){var i=e.interleaved;return i===null?(r.next=r,pC(e)):(r.next=i.next,i.next=r),e.interleaved=r,fs(t,n)}function fs(t,e){t.lanes|=e;var r=t.alternate;for(r!==null&&(r.lanes|=e),r=t,t=t.return;t!==null;)t.childLanes|=e,r=t.alternate,r!==null&&(r.childLanes|=e),r=t,t=t.return;return r.tag===3?r.stateNode:null}var Rs=!1;function mC(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function nH(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function es(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function ra(t,e,r){var n=t.updateQueue;if(n===null)return null;if(n=n.shared,Ve&2){var i=n.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),n.pending=e,fs(t,r)}return i=n.interleaved,i===null?(e.next=e,pC(n)):(e.next=i.next,i.next=e),n.interleaved=e,fs(t,r)}function yf(t,e,r){if(e=e.updateQueue,e!==null&&(e=e.shared,(r&4194240)!==0)){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,eC(t,r)}}function xj(t,e){var r=t.updateQueue,n=t.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var i=null,s=null;if(r=r.firstBaseUpdate,r!==null){do{var a={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};s===null?i=s=a:s=s.next=a,r=r.next}while(r!==null);s===null?i=s=e:s=s.next=e}else i=s=e;r={baseState:n.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:n.shared,effects:n.effects},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=e:t.next=e,r.lastBaseUpdate=e}function Qf(t,e,r,n){var i=t.updateQueue;Rs=!1;var s=i.firstBaseUpdate,a=i.lastBaseUpdate,o=i.shared.pending;if(o!==null){i.shared.pending=null;var l=o,c=l.next;l.next=null,a===null?s=c:a.next=c,a=l;var d=t.alternate;d!==null&&(d=d.updateQueue,o=d.lastBaseUpdate,o!==a&&(o===null?d.firstBaseUpdate=c:o.next=c,d.lastBaseUpdate=l))}if(s!==null){var h=i.baseState;a=0,d=c=l=null,o=s;do{var f=o.lane,p=o.eventTime;if((n&f)===f){d!==null&&(d=d.next={eventTime:p,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var m=t,y=o;switch(f=e,p=r,y.tag){case 1:if(m=y.payload,typeof m=="function"){h=m.call(p,h,f);break e}h=m;break e;case 3:m.flags=m.flags&-65537|128;case 0:if(m=y.payload,f=typeof m=="function"?m.call(p,h,f):m,f==null)break e;h=Ot({},h,f);break e;case 2:Rs=!0}}o.callback!==null&&o.lane!==0&&(t.flags|=64,f=i.effects,f===null?i.effects=[o]:f.push(o))}else p={eventTime:p,lane:f,tag:o.tag,payload:o.payload,callback:o.callback,next:null},d===null?(c=d=p,l=h):d=d.next=p,a|=f;if(o=o.next,o===null){if(o=i.shared.pending,o===null)break;f=o,o=f.next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}while(!0);if(d===null&&(l=h),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=d,e=i.shared.interleaved,e!==null){i=e;do a|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);xo|=a,t.lanes=a,t.memoizedState=h}}function wj(t,e,r){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var n=t[e],i=n.callback;if(i!==null){if(n.callback=null,n=r,typeof i!="function")throw Error(Q(191,i));i.call(n)}}}var Wd={},Ri=_a(Wd),cd=_a(Wd),dd=_a(Wd);function Ba(t){if(t===Wd)throw Error(Q(174));return t}function vC(t,e){switch(ft(dd,e),ft(cd,t),ft(Ri,Wd),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:aN(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=aN(e,t)}gt(Ri),ft(Ri,e)}function au(){gt(Ri),gt(cd),gt(dd)}function iH(t){Ba(dd.current);var e=Ba(Ri.current),r=aN(e,t.type);e!==r&&(ft(cd,t),ft(Ri,r))}function gC(t){cd.current===t&&(gt(Ri),gt(cd))}var St=_a(0);function Xf(t){for(var e=t;e!==null;){if(e.tag===13){var r=e.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var ov=[];function yC(){for(var t=0;t<ov.length;t++)ov[t]._workInProgressVersionPrimary=null;ov.length=0}var bf=gs.ReactCurrentDispatcher,lv=gs.ReactCurrentBatchConfig,bo=0,Et=null,Zt=null,ar=null,Jf=!1,Lc=!1,hd=0,kJ=0;function Er(){throw Error(Q(321))}function bC(t,e){if(e===null)return!1;for(var r=0;r<e.length&&r<t.length;r++)if(!di(t[r],e[r]))return!1;return!0}function xC(t,e,r,n,i,s){if(bo=s,Et=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,bf.current=t===null||t.memoizedState===null?AJ:FJ,t=r(n,i),Lc){s=0;do{if(Lc=!1,hd=0,25<=s)throw Error(Q(301));s+=1,ar=Zt=null,e.updateQueue=null,bf.current=LJ,t=r(n,i)}while(Lc)}if(bf.current=Zf,e=Zt!==null&&Zt.next!==null,bo=0,ar=Zt=Et=null,Jf=!1,e)throw Error(Q(300));return t}function wC(){var t=hd!==0;return hd=0,t}function xi(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ar===null?Et.memoizedState=ar=t:ar=ar.next=t,ar}function zn(){if(Zt===null){var t=Et.alternate;t=t!==null?t.memoizedState:null}else t=Zt.next;var e=ar===null?Et.memoizedState:ar.next;if(e!==null)ar=e,Zt=t;else{if(t===null)throw Error(Q(310));Zt=t,t={memoizedState:Zt.memoizedState,baseState:Zt.baseState,baseQueue:Zt.baseQueue,queue:Zt.queue,next:null},ar===null?Et.memoizedState=ar=t:ar=ar.next=t}return ar}function fd(t,e){return typeof e=="function"?e(t):e}function uv(t){var e=zn(),r=e.queue;if(r===null)throw Error(Q(311));r.lastRenderedReducer=t;var n=Zt,i=n.baseQueue,s=r.pending;if(s!==null){if(i!==null){var a=i.next;i.next=s.next,s.next=a}n.baseQueue=i=s,r.pending=null}if(i!==null){s=i.next,n=n.baseState;var o=a=null,l=null,c=s;do{var d=c.lane;if((bo&d)===d)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),n=c.hasEagerState?c.eagerState:t(n,c.action);else{var h={lane:d,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(o=l=h,a=n):l=l.next=h,Et.lanes|=d,xo|=d}c=c.next}while(c!==null&&c!==s);l===null?a=n:l.next=o,di(n,e.memoizedState)||(en=!0),e.memoizedState=n,e.baseState=a,e.baseQueue=l,r.lastRenderedState=n}if(t=r.interleaved,t!==null){i=t;do s=i.lane,Et.lanes|=s,xo|=s,i=i.next;while(i!==t)}else i===null&&(r.lanes=0);return[e.memoizedState,r.dispatch]}function cv(t){var e=zn(),r=e.queue;if(r===null)throw Error(Q(311));r.lastRenderedReducer=t;var n=r.dispatch,i=r.pending,s=e.memoizedState;if(i!==null){r.pending=null;var a=i=i.next;do s=t(s,a.action),a=a.next;while(a!==i);di(s,e.memoizedState)||(en=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),r.lastRenderedState=s}return[s,n]}function sH(){}function aH(t,e){var r=Et,n=zn(),i=e(),s=!di(n.memoizedState,i);if(s&&(n.memoizedState=i,en=!0),n=n.queue,_C(uH.bind(null,r,n,t),[t]),n.getSnapshot!==e||s||ar!==null&&ar.memoizedState.tag&1){if(r.flags|=2048,pd(9,lH.bind(null,r,n,i,e),void 0,null),or===null)throw Error(Q(349));bo&30||oH(r,e,i)}return i}function oH(t,e,r){t.flags|=16384,t={getSnapshot:e,value:r},e=Et.updateQueue,e===null?(e={lastEffect:null,stores:null},Et.updateQueue=e,e.stores=[t]):(r=e.stores,r===null?e.stores=[t]:r.push(t))}function lH(t,e,r,n){e.value=r,e.getSnapshot=n,cH(e)&&dH(t)}function uH(t,e,r){return r(function(){cH(e)&&dH(t)})}function cH(t){var e=t.getSnapshot;t=t.value;try{var r=e();return!di(t,r)}catch{return!0}}function dH(t){var e=fs(t,1);e!==null&&ci(e,t,1,-1)}function _j(t){var e=xi();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:fd,lastRenderedState:t},e.queue=t,t=t.dispatch=qJ.bind(null,Et,t),[e.memoizedState,t]}function pd(t,e,r,n){return t={tag:t,create:e,destroy:r,deps:n,next:null},e=Et.updateQueue,e===null?(e={lastEffect:null,stores:null},Et.updateQueue=e,e.lastEffect=t.next=t):(r=e.lastEffect,r===null?e.lastEffect=t.next=t:(n=r.next,r.next=t,t.next=n,e.lastEffect=t)),t}function hH(){return zn().memoizedState}function xf(t,e,r,n){var i=xi();Et.flags|=t,i.memoizedState=pd(1|e,r,void 0,n===void 0?null:n)}function Fp(t,e,r,n){var i=zn();n=n===void 0?null:n;var s=void 0;if(Zt!==null){var a=Zt.memoizedState;if(s=a.destroy,n!==null&&bC(n,a.deps)){i.memoizedState=pd(e,r,s,n);return}}Et.flags|=t,i.memoizedState=pd(1|e,r,s,n)}function Sj(t,e){return xf(8390656,8,t,e)}function _C(t,e){return Fp(2048,8,t,e)}function fH(t,e){return Fp(4,2,t,e)}function pH(t,e){return Fp(4,4,t,e)}function mH(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function vH(t,e,r){return r=r!=null?r.concat([t]):null,Fp(4,4,mH.bind(null,e,t),r)}function SC(){}function gH(t,e){var r=zn();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&bC(e,n[1])?n[0]:(r.memoizedState=[t,e],t)}function yH(t,e){var r=zn();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&bC(e,n[1])?n[0]:(t=t(),r.memoizedState=[t,e],t)}function bH(t,e,r){return bo&21?(di(r,e)||(r=E9(),Et.lanes|=r,xo|=r,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,en=!0),t.memoizedState=r)}function DJ(t,e){var r=Ze;Ze=r!==0&&4>r?r:4,t(!0);var n=lv.transition;lv.transition={};try{t(!1),e()}finally{Ze=r,lv.transition=n}}function xH(){return zn().memoizedState}function MJ(t,e,r){var n=ia(t);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},wH(t))_H(e,r);else if(r=rH(t,e,r,n),r!==null){var i=Br();ci(r,t,n,i),SH(r,e,n)}}function qJ(t,e,r){var n=ia(t),i={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(wH(t))_H(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var a=e.lastRenderedState,o=s(a,r);if(i.hasEagerState=!0,i.eagerState=o,di(o,a)){var l=e.interleaved;l===null?(i.next=i,pC(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}r=rH(t,e,i,n),r!==null&&(i=Br(),ci(r,t,n,i),SH(r,e,n))}}function wH(t){var e=t.alternate;return t===Et||e!==null&&e===Et}function _H(t,e){Lc=Jf=!0;var r=t.pending;r===null?e.next=e:(e.next=r.next,r.next=e),t.pending=e}function SH(t,e,r){if(r&4194240){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,eC(t,r)}}var Zf={readContext:Bn,useCallback:Er,useContext:Er,useEffect:Er,useImperativeHandle:Er,useInsertionEffect:Er,useLayoutEffect:Er,useMemo:Er,useReducer:Er,useRef:Er,useState:Er,useDebugValue:Er,useDeferredValue:Er,useTransition:Er,useMutableSource:Er,useSyncExternalStore:Er,useId:Er,unstable_isNewReconciler:!1},AJ={readContext:Bn,useCallback:function(t,e){return xi().memoizedState=[t,e===void 0?null:e],t},useContext:Bn,useEffect:Sj,useImperativeHandle:function(t,e,r){return r=r!=null?r.concat([t]):null,xf(4194308,4,mH.bind(null,e,t),r)},useLayoutEffect:function(t,e){return xf(4194308,4,t,e)},useInsertionEffect:function(t,e){return xf(4,2,t,e)},useMemo:function(t,e){var r=xi();return e=e===void 0?null:e,t=t(),r.memoizedState=[t,e],t},useReducer:function(t,e,r){var n=xi();return e=r!==void 0?r(e):e,n.memoizedState=n.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},n.queue=t,t=t.dispatch=MJ.bind(null,Et,t),[n.memoizedState,t]},useRef:function(t){var e=xi();return t={current:t},e.memoizedState=t},useState:_j,useDebugValue:SC,useDeferredValue:function(t){return xi().memoizedState=t},useTransition:function(){var t=_j(!1),e=t[0];return t=DJ.bind(null,t[1]),xi().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,r){var n=Et,i=xi();if(wt){if(r===void 0)throw Error(Q(407));r=r()}else{if(r=e(),or===null)throw Error(Q(349));bo&30||oH(n,e,r)}i.memoizedState=r;var s={value:r,getSnapshot:e};return i.queue=s,Sj(uH.bind(null,n,s,t),[t]),n.flags|=2048,pd(9,lH.bind(null,n,s,r,e),void 0,null),r},useId:function(){var t=xi(),e=or.identifierPrefix;if(wt){var r=Xi,n=Qi;r=(n&~(1<<32-ui(n)-1)).toString(32)+r,e=":"+e+"R"+r,r=hd++,0<r&&(e+="H"+r.toString(32)),e+=":"}else r=kJ++,e=":"+e+"r"+r.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},FJ={readContext:Bn,useCallback:gH,useContext:Bn,useEffect:_C,useImperativeHandle:vH,useInsertionEffect:fH,useLayoutEffect:pH,useMemo:yH,useReducer:uv,useRef:hH,useState:function(){return uv(fd)},useDebugValue:SC,useDeferredValue:function(t){var e=zn();return bH(e,Zt.memoizedState,t)},useTransition:function(){var t=uv(fd)[0],e=zn().memoizedState;return[t,e]},useMutableSource:sH,useSyncExternalStore:aH,useId:xH,unstable_isNewReconciler:!1},LJ={readContext:Bn,useCallback:gH,useContext:Bn,useEffect:_C,useImperativeHandle:vH,useInsertionEffect:fH,useLayoutEffect:pH,useMemo:yH,useReducer:cv,useRef:hH,useState:function(){return cv(fd)},useDebugValue:SC,useDeferredValue:function(t){var e=zn();return Zt===null?e.memoizedState=t:bH(e,Zt.memoizedState,t)},useTransition:function(){var t=cv(fd)[0],e=zn().memoizedState;return[t,e]},useMutableSource:sH,useSyncExternalStore:aH,useId:xH,unstable_isNewReconciler:!1};function Jn(t,e){if(t&&t.defaultProps){e=Ot({},e),t=t.defaultProps;for(var r in t)e[r]===void 0&&(e[r]=t[r]);return e}return e}function CN(t,e,r,n){e=t.memoizedState,r=r(n,e),r=r==null?e:Ot({},e,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var Lp={isMounted:function(t){return(t=t._reactInternals)?Mo(t)===t:!1},enqueueSetState:function(t,e,r){t=t._reactInternals;var n=Br(),i=ia(t),s=es(n,i);s.payload=e,r!=null&&(s.callback=r),e=ra(t,s,i),e!==null&&(ci(e,t,i,n),yf(e,t,i))},enqueueReplaceState:function(t,e,r){t=t._reactInternals;var n=Br(),i=ia(t),s=es(n,i);s.tag=1,s.payload=e,r!=null&&(s.callback=r),e=ra(t,s,i),e!==null&&(ci(e,t,i,n),yf(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var r=Br(),n=ia(t),i=es(r,n);i.tag=2,e!=null&&(i.callback=e),e=ra(t,i,n),e!==null&&(ci(e,t,n,r),yf(e,t,n))}};function Ej(t,e,r,n,i,s,a){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(n,s,a):e.prototype&&e.prototype.isPureReactComponent?!ad(r,n)||!ad(i,s):!0}function EH(t,e,r){var n=!1,i=ma,s=e.contextType;return typeof s=="object"&&s!==null?s=Bn(s):(i=rn(e)?go:Tr.current,n=e.contextTypes,s=(n=n!=null)?nu(t,i):ma),e=new e(r,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Lp,t.stateNode=e,e._reactInternals=t,n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function Nj(t,e,r,n){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(r,n),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(r,n),e.state!==t&&Lp.enqueueReplaceState(e,e.state,null)}function PN(t,e,r,n){var i=t.stateNode;i.props=r,i.state=t.memoizedState,i.refs={},mC(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=Bn(s):(s=rn(e)?go:Tr.current,i.context=nu(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(CN(t,e,s,r),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Lp.enqueueReplaceState(i,i.state,null),Qf(t,r,i,n),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function ou(t,e){try{var r="",n=e;do r+=pX(n),n=n.return;while(n);var i=r}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function dv(t,e,r){return{value:t,source:null,stack:r??null,digest:e??null}}function TN(t,e){try{console.error(e.value)}catch(r){setTimeout(function(){throw r})}}var BJ=typeof WeakMap=="function"?WeakMap:Map;function NH(t,e,r){r=es(-1,r),r.tag=3,r.payload={element:null};var n=e.value;return r.callback=function(){tp||(tp=!0,FN=n),TN(t,e)},r}function OH(t,e,r){r=es(-1,r),r.tag=3;var n=t.type.getDerivedStateFromError;if(typeof n=="function"){var i=e.value;r.payload=function(){return n(i)},r.callback=function(){TN(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(r.callback=function(){TN(t,e),typeof n!="function"&&(na===null?na=new Set([this]):na.add(this));var a=e.stack;this.componentDidCatch(e.value,{componentStack:a!==null?a:""})}),r}function Oj(t,e,r){var n=t.pingCache;if(n===null){n=t.pingCache=new BJ;var i=new Set;n.set(e,i)}else i=n.get(e),i===void 0&&(i=new Set,n.set(e,i));i.has(r)||(i.add(r),t=tZ.bind(null,t,e,r),e.then(t,t))}function Cj(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function Pj(t,e,r,n,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(e=es(-1,1),e.tag=2,ra(r,e,1))),r.lanes|=1),t)}var zJ=gs.ReactCurrentOwner,en=!1;function Mr(t,e,r,n){e.child=t===null?tH(e,null,r,n):su(e,t.child,r,n)}function Tj(t,e,r,n,i){r=r.render;var s=e.ref;return kl(e,i),n=xC(t,e,r,n,s,i),r=wC(),t!==null&&!en?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,ps(t,e,i)):(wt&&r&&lC(e),e.flags|=1,Mr(t,e,n,i),e.child)}function jj(t,e,r,n,i){if(t===null){var s=r.type;return typeof s=="function"&&!IC(s)&&s.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(e.tag=15,e.type=s,CH(t,e,s,n,i)):(t=Ef(r.type,null,n,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var a=s.memoizedProps;if(r=r.compare,r=r!==null?r:ad,r(a,n)&&t.ref===e.ref)return ps(t,e,i)}return e.flags|=1,t=sa(s,n),t.ref=e.ref,t.return=e,e.child=t}function CH(t,e,r,n,i){if(t!==null){var s=t.memoizedProps;if(ad(s,n)&&t.ref===e.ref)if(en=!1,e.pendingProps=n=s,(t.lanes&i)!==0)t.flags&131072&&(en=!0);else return e.lanes=t.lanes,ps(t,e,i)}return jN(t,e,r,n,i)}function PH(t,e,r){var n=e.pendingProps,i=n.children,s=t!==null?t.memoizedState:null;if(n.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},ft(Sl,pn),pn|=r;else{if(!(r&1073741824))return t=s!==null?s.baseLanes|r:r,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,ft(Sl,pn),pn|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=s!==null?s.baseLanes:r,ft(Sl,pn),pn|=n}else s!==null?(n=s.baseLanes|r,e.memoizedState=null):n=r,ft(Sl,pn),pn|=n;return Mr(t,e,i,r),e.child}function TH(t,e){var r=e.ref;(t===null&&r!==null||t!==null&&t.ref!==r)&&(e.flags|=512,e.flags|=2097152)}function jN(t,e,r,n,i){var s=rn(r)?go:Tr.current;return s=nu(e,s),kl(e,i),r=xC(t,e,r,n,s,i),n=wC(),t!==null&&!en?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,ps(t,e,i)):(wt&&n&&lC(e),e.flags|=1,Mr(t,e,r,i),e.child)}function Ij(t,e,r,n,i){if(rn(r)){var s=!0;Hf(e)}else s=!1;if(kl(e,i),e.stateNode===null)wf(t,e),EH(e,r,n),PN(e,r,n,i),n=!0;else if(t===null){var a=e.stateNode,o=e.memoizedProps;a.props=o;var l=a.context,c=r.contextType;typeof c=="object"&&c!==null?c=Bn(c):(c=rn(r)?go:Tr.current,c=nu(e,c));var d=r.getDerivedStateFromProps,h=typeof d=="function"||typeof a.getSnapshotBeforeUpdate=="function";h||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o!==n||l!==c)&&Nj(e,a,n,c),Rs=!1;var f=e.memoizedState;a.state=f,Qf(e,n,a,i),l=e.memoizedState,o!==n||f!==l||tn.current||Rs?(typeof d=="function"&&(CN(e,r,d,n),l=e.memoizedState),(o=Rs||Ej(e,r,o,n,f,l,c))?(h||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(e.flags|=4194308)):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=n,e.memoizedState=l),a.props=n,a.state=l,a.context=c,n=o):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),n=!1)}else{a=e.stateNode,nH(t,e),o=e.memoizedProps,c=e.type===e.elementType?o:Jn(e.type,o),a.props=c,h=e.pendingProps,f=a.context,l=r.contextType,typeof l=="object"&&l!==null?l=Bn(l):(l=rn(r)?go:Tr.current,l=nu(e,l));var p=r.getDerivedStateFromProps;(d=typeof p=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o!==h||f!==l)&&Nj(e,a,n,l),Rs=!1,f=e.memoizedState,a.state=f,Qf(e,n,a,i);var m=e.memoizedState;o!==h||f!==m||tn.current||Rs?(typeof p=="function"&&(CN(e,r,p,n),m=e.memoizedState),(c=Rs||Ej(e,r,c,n,f,m,l)||!1)?(d||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(n,m,l),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(n,m,l)),typeof a.componentDidUpdate=="function"&&(e.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof a.componentDidUpdate!="function"||o===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||o===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=n,e.memoizedState=m),a.props=n,a.state=m,a.context=l,n=c):(typeof a.componentDidUpdate!="function"||o===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||o===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),n=!1)}return IN(t,e,r,n,s,i)}function IN(t,e,r,n,i,s){TH(t,e);var a=(e.flags&128)!==0;if(!n&&!a)return i&&vj(e,r,!1),ps(t,e,s);n=e.stateNode,zJ.current=e;var o=a&&typeof r.getDerivedStateFromError!="function"?null:n.render();return e.flags|=1,t!==null&&a?(e.child=su(e,t.child,null,s),e.child=su(e,null,o,s)):Mr(t,e,o,s),e.memoizedState=n.state,i&&vj(e,r,!0),e.child}function jH(t){var e=t.stateNode;e.pendingContext?mj(t,e.pendingContext,e.pendingContext!==e.context):e.context&&mj(t,e.context,!1),vC(t,e.containerInfo)}function Rj(t,e,r,n,i){return iu(),cC(i),e.flags|=256,Mr(t,e,r,n),e.child}var RN={dehydrated:null,treeContext:null,retryLane:0};function $N(t){return{baseLanes:t,cachePool:null,transitions:null}}function IH(t,e,r){var n=e.pendingProps,i=St.current,s=!1,a=(e.flags&128)!==0,o;if((o=a)||(o=t!==null&&t.memoizedState===null?!1:(i&2)!==0),o?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),ft(St,i&1),t===null)return NN(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(a=n.children,t=n.fallback,s?(n=e.mode,s=e.child,a={mode:"hidden",children:a},!(n&1)&&s!==null?(s.childLanes=0,s.pendingProps=a):s=Up(a,n,0,null),t=ao(t,n,r,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=$N(r),e.memoizedState=RN,t):EC(e,a));if(i=t.memoizedState,i!==null&&(o=i.dehydrated,o!==null))return UJ(t,e,a,n,o,i,r);if(s){s=n.fallback,a=e.mode,i=t.child,o=i.sibling;var l={mode:"hidden",children:n.children};return!(a&1)&&e.child!==i?(n=e.child,n.childLanes=0,n.pendingProps=l,e.deletions=null):(n=sa(i,l),n.subtreeFlags=i.subtreeFlags&14680064),o!==null?s=sa(o,s):(s=ao(s,a,r,null),s.flags|=2),s.return=e,n.return=e,n.sibling=s,e.child=n,n=s,s=e.child,a=t.child.memoizedState,a=a===null?$N(r):{baseLanes:a.baseLanes|r,cachePool:null,transitions:a.transitions},s.memoizedState=a,s.childLanes=t.childLanes&~r,e.memoizedState=RN,n}return s=t.child,t=s.sibling,n=sa(s,{mode:"visible",children:n.children}),!(e.mode&1)&&(n.lanes=r),n.return=e,n.sibling=null,t!==null&&(r=e.deletions,r===null?(e.deletions=[t],e.flags|=16):r.push(t)),e.child=n,e.memoizedState=null,n}function EC(t,e){return e=Up({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Yh(t,e,r,n){return n!==null&&cC(n),su(e,t.child,null,r),t=EC(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function UJ(t,e,r,n,i,s,a){if(r)return e.flags&256?(e.flags&=-257,n=dv(Error(Q(422))),Yh(t,e,a,n)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=n.fallback,i=e.mode,n=Up({mode:"visible",children:n.children},i,0,null),s=ao(s,i,a,null),s.flags|=2,n.return=e,s.return=e,n.sibling=s,e.child=n,e.mode&1&&su(e,t.child,null,a),e.child.memoizedState=$N(a),e.memoizedState=RN,s);if(!(e.mode&1))return Yh(t,e,a,null);if(i.data==="$!"){if(n=i.nextSibling&&i.nextSibling.dataset,n)var o=n.dgst;return n=o,s=Error(Q(419)),n=dv(s,n,void 0),Yh(t,e,a,n)}if(o=(a&t.childLanes)!==0,en||o){if(n=or,n!==null){switch(a&-a){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(n.suspendedLanes|a)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,fs(t,i),ci(n,t,i,-1))}return jC(),n=dv(Error(Q(421))),Yh(t,e,a,n)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=rZ.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,gn=ta(i.nextSibling),yn=e,wt=!0,ri=null,t!==null&&(kn[Dn++]=Qi,kn[Dn++]=Xi,kn[Dn++]=yo,Qi=t.id,Xi=t.overflow,yo=e),e=EC(e,n.children),e.flags|=4096,e)}function $j(t,e,r){t.lanes|=e;var n=t.alternate;n!==null&&(n.lanes|=e),ON(t.return,e,r)}function hv(t,e,r,n,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=n,s.tail=r,s.tailMode=i)}function RH(t,e,r){var n=e.pendingProps,i=n.revealOrder,s=n.tail;if(Mr(t,e,n.children,r),n=St.current,n&2)n=n&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&$j(t,r,e);else if(t.tag===19)$j(t,r,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}n&=1}if(ft(St,n),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(r=e.child,i=null;r!==null;)t=r.alternate,t!==null&&Xf(t)===null&&(i=r),r=r.sibling;r=i,r===null?(i=e.child,e.child=null):(i=r.sibling,r.sibling=null),hv(e,!1,i,r,s);break;case"backwards":for(r=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Xf(t)===null){e.child=i;break}t=i.sibling,i.sibling=r,r=i,i=t}hv(e,!0,r,null,s);break;case"together":hv(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function wf(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function ps(t,e,r){if(t!==null&&(e.dependencies=t.dependencies),xo|=e.lanes,!(r&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(Q(153));if(e.child!==null){for(t=e.child,r=sa(t,t.pendingProps),e.child=r,r.return=e;t.sibling!==null;)t=t.sibling,r=r.sibling=sa(t,t.pendingProps),r.return=e;r.sibling=null}return e.child}function WJ(t,e,r){switch(e.tag){case 3:jH(e),iu();break;case 5:iH(e);break;case 1:rn(e.type)&&Hf(e);break;case 4:vC(e,e.stateNode.containerInfo);break;case 10:var n=e.type._context,i=e.memoizedProps.value;ft(Gf,n._currentValue),n._currentValue=i;break;case 13:if(n=e.memoizedState,n!==null)return n.dehydrated!==null?(ft(St,St.current&1),e.flags|=128,null):r&e.child.childLanes?IH(t,e,r):(ft(St,St.current&1),t=ps(t,e,r),t!==null?t.sibling:null);ft(St,St.current&1);break;case 19:if(n=(r&e.childLanes)!==0,t.flags&128){if(n)return RH(t,e,r);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),ft(St,St.current),n)break;return null;case 22:case 23:return e.lanes=0,PH(t,e,r)}return ps(t,e,r)}var $H,kN,kH,DH;$H=function(t,e){for(var r=e.child;r!==null;){if(r.tag===5||r.tag===6)t.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};kN=function(){};kH=function(t,e,r,n){var i=t.memoizedProps;if(i!==n){t=e.stateNode,Ba(Ri.current);var s=null;switch(r){case"input":i=rN(t,i),n=rN(t,n),s=[];break;case"select":i=Ot({},i,{value:void 0}),n=Ot({},n,{value:void 0}),s=[];break;case"textarea":i=sN(t,i),n=sN(t,n),s=[];break;default:typeof i.onClick!="function"&&typeof n.onClick=="function"&&(t.onclick=Uf)}oN(r,n);var a;r=null;for(c in i)if(!n.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var o=i[c];for(a in o)o.hasOwnProperty(a)&&(r||(r={}),r[a]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Zc.hasOwnProperty(c)?s||(s=[]):(s=s||[]).push(c,null));for(c in n){var l=n[c];if(o=i!=null?i[c]:void 0,n.hasOwnProperty(c)&&l!==o&&(l!=null||o!=null))if(c==="style")if(o){for(a in o)!o.hasOwnProperty(a)||l&&l.hasOwnProperty(a)||(r||(r={}),r[a]="");for(a in l)l.hasOwnProperty(a)&&o[a]!==l[a]&&(r||(r={}),r[a]=l[a])}else r||(s||(s=[]),s.push(c,r)),r=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,o=o?o.__html:void 0,l!=null&&o!==l&&(s=s||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Zc.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&mt("scroll",t),s||o===l||(s=[])):(s=s||[]).push(c,l))}r&&(s=s||[]).push("style",r);var c=s;(e.updateQueue=c)&&(e.flags|=4)}};DH=function(t,e,r,n){r!==n&&(e.flags|=4)};function vc(t,e){if(!wt)switch(t.tailMode){case"hidden":e=t.tail;for(var r=null;e!==null;)e.alternate!==null&&(r=e),e=e.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:n.sibling=null}}function Nr(t){var e=t.alternate!==null&&t.alternate.child===t.child,r=0,n=0;if(e)for(var i=t.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags&14680064,n|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags,n|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=n,t.childLanes=r,e}function HJ(t,e,r){var n=e.pendingProps;switch(uC(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Nr(e),null;case 1:return rn(e.type)&&Wf(),Nr(e),null;case 3:return n=e.stateNode,au(),gt(tn),gt(Tr),yC(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(Kh(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,ri!==null&&(zN(ri),ri=null))),kN(t,e),Nr(e),null;case 5:gC(e);var i=Ba(dd.current);if(r=e.type,t!==null&&e.stateNode!=null)kH(t,e,r,n,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!n){if(e.stateNode===null)throw Error(Q(166));return Nr(e),null}if(t=Ba(Ri.current),Kh(e)){n=e.stateNode,r=e.type;var s=e.memoizedProps;switch(n[Ni]=e,n[ud]=s,t=(e.mode&1)!==0,r){case"dialog":mt("cancel",n),mt("close",n);break;case"iframe":case"object":case"embed":mt("load",n);break;case"video":case"audio":for(i=0;i<jc.length;i++)mt(jc[i],n);break;case"source":mt("error",n);break;case"img":case"image":case"link":mt("error",n),mt("load",n);break;case"details":mt("toggle",n);break;case"input":zT(n,s),mt("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!s.multiple},mt("invalid",n);break;case"textarea":WT(n,s),mt("invalid",n)}oN(r,s),i=null;for(var a in s)if(s.hasOwnProperty(a)){var o=s[a];a==="children"?typeof o=="string"?n.textContent!==o&&(s.suppressHydrationWarning!==!0&&Vh(n.textContent,o,t),i=["children",o]):typeof o=="number"&&n.textContent!==""+o&&(s.suppressHydrationWarning!==!0&&Vh(n.textContent,o,t),i=["children",""+o]):Zc.hasOwnProperty(a)&&o!=null&&a==="onScroll"&&mt("scroll",n)}switch(r){case"input":Ah(n),UT(n,s,!0);break;case"textarea":Ah(n),HT(n);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(n.onclick=Uf)}n=i,e.updateQueue=n,n!==null&&(e.flags|=4)}else{a=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=u9(r)),t==="http://www.w3.org/1999/xhtml"?r==="script"?(t=a.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof n.is=="string"?t=a.createElement(r,{is:n.is}):(t=a.createElement(r),r==="select"&&(a=t,n.multiple?a.multiple=!0:n.size&&(a.size=n.size))):t=a.createElementNS(t,r),t[Ni]=e,t[ud]=n,$H(t,e,!1,!1),e.stateNode=t;e:{switch(a=lN(r,n),r){case"dialog":mt("cancel",t),mt("close",t),i=n;break;case"iframe":case"object":case"embed":mt("load",t),i=n;break;case"video":case"audio":for(i=0;i<jc.length;i++)mt(jc[i],t);i=n;break;case"source":mt("error",t),i=n;break;case"img":case"image":case"link":mt("error",t),mt("load",t),i=n;break;case"details":mt("toggle",t),i=n;break;case"input":zT(t,n),i=rN(t,n),mt("invalid",t);break;case"option":i=n;break;case"select":t._wrapperState={wasMultiple:!!n.multiple},i=Ot({},n,{value:void 0}),mt("invalid",t);break;case"textarea":WT(t,n),i=sN(t,n),mt("invalid",t);break;default:i=n}oN(r,i),o=i;for(s in o)if(o.hasOwnProperty(s)){var l=o[s];s==="style"?h9(t,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&c9(t,l)):s==="children"?typeof l=="string"?(r!=="textarea"||l!=="")&&ed(t,l):typeof l=="number"&&ed(t,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Zc.hasOwnProperty(s)?l!=null&&s==="onScroll"&&mt("scroll",t):l!=null&&GO(t,s,l,a))}switch(r){case"input":Ah(t),UT(t,n,!1);break;case"textarea":Ah(t),HT(t);break;case"option":n.value!=null&&t.setAttribute("value",""+pa(n.value));break;case"select":t.multiple=!!n.multiple,s=n.value,s!=null?jl(t,!!n.multiple,s,!1):n.defaultValue!=null&&jl(t,!!n.multiple,n.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=Uf)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Nr(e),null;case 6:if(t&&e.stateNode!=null)DH(t,e,t.memoizedProps,n);else{if(typeof n!="string"&&e.stateNode===null)throw Error(Q(166));if(r=Ba(dd.current),Ba(Ri.current),Kh(e)){if(n=e.stateNode,r=e.memoizedProps,n[Ni]=e,(s=n.nodeValue!==r)&&(t=yn,t!==null))switch(t.tag){case 3:Vh(n.nodeValue,r,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Vh(n.nodeValue,r,(t.mode&1)!==0)}s&&(e.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[Ni]=e,e.stateNode=n}return Nr(e),null;case 13:if(gt(St),n=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(wt&&gn!==null&&e.mode&1&&!(e.flags&128))Z9(),iu(),e.flags|=98560,s=!1;else if(s=Kh(e),n!==null&&n.dehydrated!==null){if(t===null){if(!s)throw Error(Q(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(Q(317));s[Ni]=e}else iu(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Nr(e),s=!1}else ri!==null&&(zN(ri),ri=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=r,e):(n=n!==null,n!==(t!==null&&t.memoizedState!==null)&&n&&(e.child.flags|=8192,e.mode&1&&(t===null||St.current&1?tr===0&&(tr=3):jC())),e.updateQueue!==null&&(e.flags|=4),Nr(e),null);case 4:return au(),kN(t,e),t===null&&od(e.stateNode.containerInfo),Nr(e),null;case 10:return fC(e.type._context),Nr(e),null;case 17:return rn(e.type)&&Wf(),Nr(e),null;case 19:if(gt(St),s=e.memoizedState,s===null)return Nr(e),null;if(n=(e.flags&128)!==0,a=s.rendering,a===null)if(n)vc(s,!1);else{if(tr!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(a=Xf(t),a!==null){for(e.flags|=128,vc(s,!1),n=a.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),e.subtreeFlags=0,n=r,r=e.child;r!==null;)s=r,t=n,s.flags&=14680066,a=s.alternate,a===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=a.childLanes,s.lanes=a.lanes,s.child=a.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=a.memoizedProps,s.memoizedState=a.memoizedState,s.updateQueue=a.updateQueue,s.type=a.type,t=a.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),r=r.sibling;return ft(St,St.current&1|2),e.child}t=t.sibling}s.tail!==null&&Mt()>lu&&(e.flags|=128,n=!0,vc(s,!1),e.lanes=4194304)}else{if(!n)if(t=Xf(a),t!==null){if(e.flags|=128,n=!0,r=t.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),vc(s,!0),s.tail===null&&s.tailMode==="hidden"&&!a.alternate&&!wt)return Nr(e),null}else 2*Mt()-s.renderingStartTime>lu&&r!==1073741824&&(e.flags|=128,n=!0,vc(s,!1),e.lanes=4194304);s.isBackwards?(a.sibling=e.child,e.child=a):(r=s.last,r!==null?r.sibling=a:e.child=a,s.last=a)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=Mt(),e.sibling=null,r=St.current,ft(St,n?r&1|2:r&1),e):(Nr(e),null);case 22:case 23:return TC(),n=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==n&&(e.flags|=8192),n&&e.mode&1?pn&1073741824&&(Nr(e),e.subtreeFlags&6&&(e.flags|=8192)):Nr(e),null;case 24:return null;case 25:return null}throw Error(Q(156,e.tag))}function VJ(t,e){switch(uC(e),e.tag){case 1:return rn(e.type)&&Wf(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return au(),gt(tn),gt(Tr),yC(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return gC(e),null;case 13:if(gt(St),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(Q(340));iu()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return gt(St),null;case 4:return au(),null;case 10:return fC(e.type._context),null;case 22:case 23:return TC(),null;case 24:return null;default:return null}}var Qh=!1,Cr=!1,KJ=typeof WeakSet=="function"?WeakSet:Set,me=null;function _l(t,e){var r=t.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){It(t,e,n)}else r.current=null}function DN(t,e,r){try{r()}catch(n){It(t,e,n)}}var kj=!1;function GJ(t,e){if(yN=Lf,t=L9(),oC(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var i=n.anchorOffset,s=n.focusNode;n=n.focusOffset;try{r.nodeType,s.nodeType}catch{r=null;break e}var a=0,o=-1,l=-1,c=0,d=0,h=t,f=null;t:for(;;){for(var p;h!==r||i!==0&&h.nodeType!==3||(o=a+i),h!==s||n!==0&&h.nodeType!==3||(l=a+n),h.nodeType===3&&(a+=h.nodeValue.length),(p=h.firstChild)!==null;)f=h,h=p;for(;;){if(h===t)break t;if(f===r&&++c===i&&(o=a),f===s&&++d===n&&(l=a),(p=h.nextSibling)!==null)break;h=f,f=h.parentNode}h=p}r=o===-1||l===-1?null:{start:o,end:l}}else r=null}r=r||{start:0,end:0}}else r=null;for(bN={focusedElem:t,selectionRange:r},Lf=!1,me=e;me!==null;)if(e=me,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,me=t;else for(;me!==null;){e=me;try{var m=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(m!==null){var y=m.memoizedProps,x=m.memoizedState,g=e.stateNode,v=g.getSnapshotBeforeUpdate(e.elementType===e.type?y:Jn(e.type,y),x);g.__reactInternalSnapshotBeforeUpdate=v}break;case 3:var w=e.stateNode.containerInfo;w.nodeType===1?w.textContent="":w.nodeType===9&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Q(163))}}catch(b){It(e,e.return,b)}if(t=e.sibling,t!==null){t.return=e.return,me=t;break}me=e.return}return m=kj,kj=!1,m}function Bc(t,e,r){var n=e.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var i=n=n.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&DN(e,r,s)}i=i.next}while(i!==n)}}function Bp(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var r=e=e.next;do{if((r.tag&t)===t){var n=r.create;r.destroy=n()}r=r.next}while(r!==e)}}function MN(t){var e=t.ref;if(e!==null){var r=t.stateNode;switch(t.tag){case 5:t=r;break;default:t=r}typeof e=="function"?e(t):e.current=t}}function MH(t){var e=t.alternate;e!==null&&(t.alternate=null,MH(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Ni],delete e[ud],delete e[_N],delete e[jJ],delete e[IJ])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function qH(t){return t.tag===5||t.tag===3||t.tag===4}function Dj(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||qH(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function qN(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.nodeType===8?r.parentNode.insertBefore(t,e):r.insertBefore(t,e):(r.nodeType===8?(e=r.parentNode,e.insertBefore(t,r)):(e=r,e.appendChild(t)),r=r._reactRootContainer,r!=null||e.onclick!==null||(e.onclick=Uf));else if(n!==4&&(t=t.child,t!==null))for(qN(t,e,r),t=t.sibling;t!==null;)qN(t,e,r),t=t.sibling}function AN(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.insertBefore(t,e):r.appendChild(t);else if(n!==4&&(t=t.child,t!==null))for(AN(t,e,r),t=t.sibling;t!==null;)AN(t,e,r),t=t.sibling}var gr=null,ti=!1;function Ps(t,e,r){for(r=r.child;r!==null;)AH(t,e,r),r=r.sibling}function AH(t,e,r){if(Ii&&typeof Ii.onCommitFiberUnmount=="function")try{Ii.onCommitFiberUnmount($p,r)}catch{}switch(r.tag){case 5:Cr||_l(r,e);case 6:var n=gr,i=ti;gr=null,Ps(t,e,r),gr=n,ti=i,gr!==null&&(ti?(t=gr,r=r.stateNode,t.nodeType===8?t.parentNode.removeChild(r):t.removeChild(r)):gr.removeChild(r.stateNode));break;case 18:gr!==null&&(ti?(t=gr,r=r.stateNode,t.nodeType===8?sv(t.parentNode,r):t.nodeType===1&&sv(t,r),id(t)):sv(gr,r.stateNode));break;case 4:n=gr,i=ti,gr=r.stateNode.containerInfo,ti=!0,Ps(t,e,r),gr=n,ti=i;break;case 0:case 11:case 14:case 15:if(!Cr&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){i=n=n.next;do{var s=i,a=s.destroy;s=s.tag,a!==void 0&&(s&2||s&4)&&DN(r,e,a),i=i.next}while(i!==n)}Ps(t,e,r);break;case 1:if(!Cr&&(_l(r,e),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(o){It(r,e,o)}Ps(t,e,r);break;case 21:Ps(t,e,r);break;case 22:r.mode&1?(Cr=(n=Cr)||r.memoizedState!==null,Ps(t,e,r),Cr=n):Ps(t,e,r);break;default:Ps(t,e,r)}}function Mj(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var r=t.stateNode;r===null&&(r=t.stateNode=new KJ),e.forEach(function(n){var i=nZ.bind(null,t,n);r.has(n)||(r.add(n),n.then(i,i))})}}function Qn(t,e){var r=e.deletions;if(r!==null)for(var n=0;n<r.length;n++){var i=r[n];try{var s=t,a=e,o=a;e:for(;o!==null;){switch(o.tag){case 5:gr=o.stateNode,ti=!1;break e;case 3:gr=o.stateNode.containerInfo,ti=!0;break e;case 4:gr=o.stateNode.containerInfo,ti=!0;break e}o=o.return}if(gr===null)throw Error(Q(160));AH(s,a,i),gr=null,ti=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(c){It(i,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)FH(e,t),e=e.sibling}function FH(t,e){var r=t.alternate,n=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Qn(e,t),yi(t),n&4){try{Bc(3,t,t.return),Bp(3,t)}catch(y){It(t,t.return,y)}try{Bc(5,t,t.return)}catch(y){It(t,t.return,y)}}break;case 1:Qn(e,t),yi(t),n&512&&r!==null&&_l(r,r.return);break;case 5:if(Qn(e,t),yi(t),n&512&&r!==null&&_l(r,r.return),t.flags&32){var i=t.stateNode;try{ed(i,"")}catch(y){It(t,t.return,y)}}if(n&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,a=r!==null?r.memoizedProps:s,o=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{o==="input"&&s.type==="radio"&&s.name!=null&&o9(i,s),lN(o,a);var c=lN(o,s);for(a=0;a<l.length;a+=2){var d=l[a],h=l[a+1];d==="style"?h9(i,h):d==="dangerouslySetInnerHTML"?c9(i,h):d==="children"?ed(i,h):GO(i,d,h,c)}switch(o){case"input":nN(i,s);break;case"textarea":l9(i,s);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var p=s.value;p!=null?jl(i,!!s.multiple,p,!1):f!==!!s.multiple&&(s.defaultValue!=null?jl(i,!!s.multiple,s.defaultValue,!0):jl(i,!!s.multiple,s.multiple?[]:"",!1))}i[ud]=s}catch(y){It(t,t.return,y)}}break;case 6:if(Qn(e,t),yi(t),n&4){if(t.stateNode===null)throw Error(Q(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(y){It(t,t.return,y)}}break;case 3:if(Qn(e,t),yi(t),n&4&&r!==null&&r.memoizedState.isDehydrated)try{id(e.containerInfo)}catch(y){It(t,t.return,y)}break;case 4:Qn(e,t),yi(t);break;case 13:Qn(e,t),yi(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(CC=Mt())),n&4&&Mj(t);break;case 22:if(d=r!==null&&r.memoizedState!==null,t.mode&1?(Cr=(c=Cr)||d,Qn(e,t),Cr=c):Qn(e,t),yi(t),n&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!d&&t.mode&1)for(me=t,d=t.child;d!==null;){for(h=me=d;me!==null;){switch(f=me,p=f.child,f.tag){case 0:case 11:case 14:case 15:Bc(4,f,f.return);break;case 1:_l(f,f.return);var m=f.stateNode;if(typeof m.componentWillUnmount=="function"){n=f,r=f.return;try{e=n,m.props=e.memoizedProps,m.state=e.memoizedState,m.componentWillUnmount()}catch(y){It(n,r,y)}}break;case 5:_l(f,f.return);break;case 22:if(f.memoizedState!==null){Aj(h);continue}}p!==null?(p.return=f,me=p):Aj(h)}d=d.sibling}e:for(d=null,h=t;;){if(h.tag===5){if(d===null){d=h;try{i=h.stateNode,c?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(o=h.stateNode,l=h.memoizedProps.style,a=l!=null&&l.hasOwnProperty("display")?l.display:null,o.style.display=d9("display",a))}catch(y){It(t,t.return,y)}}}else if(h.tag===6){if(d===null)try{h.stateNode.nodeValue=c?"":h.memoizedProps}catch(y){It(t,t.return,y)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:Qn(e,t),yi(t),n&4&&Mj(t);break;case 21:break;default:Qn(e,t),yi(t)}}function yi(t){var e=t.flags;if(e&2){try{e:{for(var r=t.return;r!==null;){if(qH(r)){var n=r;break e}r=r.return}throw Error(Q(160))}switch(n.tag){case 5:var i=n.stateNode;n.flags&32&&(ed(i,""),n.flags&=-33);var s=Dj(t);AN(t,s,i);break;case 3:case 4:var a=n.stateNode.containerInfo,o=Dj(t);qN(t,o,a);break;default:throw Error(Q(161))}}catch(l){It(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function YJ(t,e,r){me=t,LH(t)}function LH(t,e,r){for(var n=(t.mode&1)!==0;me!==null;){var i=me,s=i.child;if(i.tag===22&&n){var a=i.memoizedState!==null||Qh;if(!a){var o=i.alternate,l=o!==null&&o.memoizedState!==null||Cr;o=Qh;var c=Cr;if(Qh=a,(Cr=l)&&!c)for(me=i;me!==null;)a=me,l=a.child,a.tag===22&&a.memoizedState!==null?Fj(i):l!==null?(l.return=a,me=l):Fj(i);for(;s!==null;)me=s,LH(s),s=s.sibling;me=i,Qh=o,Cr=c}qj(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,me=s):qj(t)}}function qj(t){for(;me!==null;){var e=me;if(e.flags&8772){var r=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Cr||Bp(5,e);break;case 1:var n=e.stateNode;if(e.flags&4&&!Cr)if(r===null)n.componentDidMount();else{var i=e.elementType===e.type?r.memoizedProps:Jn(e.type,r.memoizedProps);n.componentDidUpdate(i,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&wj(e,s,n);break;case 3:var a=e.updateQueue;if(a!==null){if(r=null,e.child!==null)switch(e.child.tag){case 5:r=e.child.stateNode;break;case 1:r=e.child.stateNode}wj(e,a,r)}break;case 5:var o=e.stateNode;if(r===null&&e.flags&4){r=o;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&r.focus();break;case"img":l.src&&(r.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var d=c.memoizedState;if(d!==null){var h=d.dehydrated;h!==null&&id(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Q(163))}Cr||e.flags&512&&MN(e)}catch(f){It(e,e.return,f)}}if(e===t){me=null;break}if(r=e.sibling,r!==null){r.return=e.return,me=r;break}me=e.return}}function Aj(t){for(;me!==null;){var e=me;if(e===t){me=null;break}var r=e.sibling;if(r!==null){r.return=e.return,me=r;break}me=e.return}}function Fj(t){for(;me!==null;){var e=me;try{switch(e.tag){case 0:case 11:case 15:var r=e.return;try{Bp(4,e)}catch(l){It(e,r,l)}break;case 1:var n=e.stateNode;if(typeof n.componentDidMount=="function"){var i=e.return;try{n.componentDidMount()}catch(l){It(e,i,l)}}var s=e.return;try{MN(e)}catch(l){It(e,s,l)}break;case 5:var a=e.return;try{MN(e)}catch(l){It(e,a,l)}}}catch(l){It(e,e.return,l)}if(e===t){me=null;break}var o=e.sibling;if(o!==null){o.return=e.return,me=o;break}me=e.return}}var QJ=Math.ceil,ep=gs.ReactCurrentDispatcher,NC=gs.ReactCurrentOwner,An=gs.ReactCurrentBatchConfig,Ve=0,or=null,zt=null,yr=0,pn=0,Sl=_a(0),tr=0,md=null,xo=0,zp=0,OC=0,zc=null,Jr=null,CC=0,lu=1/0,Wi=null,tp=!1,FN=null,na=null,Xh=!1,Ys=null,rp=0,Uc=0,LN=null,_f=-1,Sf=0;function Br(){return Ve&6?Mt():_f!==-1?_f:_f=Mt()}function ia(t){return t.mode&1?Ve&2&&yr!==0?yr&-yr:$J.transition!==null?(Sf===0&&(Sf=E9()),Sf):(t=Ze,t!==0||(t=window.event,t=t===void 0?16:I9(t.type)),t):1}function ci(t,e,r,n){if(50<Uc)throw Uc=0,LN=null,Error(Q(185));Bd(t,r,n),(!(Ve&2)||t!==or)&&(t===or&&(!(Ve&2)&&(zp|=r),tr===4&&Ms(t,yr)),nn(t,n),r===1&&Ve===0&&!(e.mode&1)&&(lu=Mt()+500,Ap&&Sa()))}function nn(t,e){var r=t.callbackNode;$X(t,e);var n=Ff(t,t===or?yr:0);if(n===0)r!==null&&GT(r),t.callbackNode=null,t.callbackPriority=0;else if(e=n&-n,t.callbackPriority!==e){if(r!=null&&GT(r),e===1)t.tag===0?RJ(Lj.bind(null,t)):Q9(Lj.bind(null,t)),PJ(function(){!(Ve&6)&&Sa()}),r=null;else{switch(N9(n)){case 1:r=ZO;break;case 4:r=_9;break;case 16:r=Af;break;case 536870912:r=S9;break;default:r=Af}r=GH(r,BH.bind(null,t))}t.callbackPriority=e,t.callbackNode=r}}function BH(t,e){if(_f=-1,Sf=0,Ve&6)throw Error(Q(327));var r=t.callbackNode;if(Dl()&&t.callbackNode!==r)return null;var n=Ff(t,t===or?yr:0);if(n===0)return null;if(n&30||n&t.expiredLanes||e)e=np(t,n);else{e=n;var i=Ve;Ve|=2;var s=UH();(or!==t||yr!==e)&&(Wi=null,lu=Mt()+500,so(t,e));do try{ZJ();break}catch(o){zH(t,o)}while(!0);hC(),ep.current=s,Ve=i,zt!==null?e=0:(or=null,yr=0,e=tr)}if(e!==0){if(e===2&&(i=fN(t),i!==0&&(n=i,e=BN(t,i))),e===1)throw r=md,so(t,0),Ms(t,n),nn(t,Mt()),r;if(e===6)Ms(t,n);else{if(i=t.current.alternate,!(n&30)&&!XJ(i)&&(e=np(t,n),e===2&&(s=fN(t),s!==0&&(n=s,e=BN(t,s))),e===1))throw r=md,so(t,0),Ms(t,n),nn(t,Mt()),r;switch(t.finishedWork=i,t.finishedLanes=n,e){case 0:case 1:throw Error(Q(345));case 2:qa(t,Jr,Wi);break;case 3:if(Ms(t,n),(n&130023424)===n&&(e=CC+500-Mt(),10<e)){if(Ff(t,0)!==0)break;if(i=t.suspendedLanes,(i&n)!==n){Br(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=wN(qa.bind(null,t,Jr,Wi),e);break}qa(t,Jr,Wi);break;case 4:if(Ms(t,n),(n&4194240)===n)break;for(e=t.eventTimes,i=-1;0<n;){var a=31-ui(n);s=1<<a,a=e[a],a>i&&(i=a),n&=~s}if(n=i,n=Mt()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*QJ(n/1960))-n,10<n){t.timeoutHandle=wN(qa.bind(null,t,Jr,Wi),n);break}qa(t,Jr,Wi);break;case 5:qa(t,Jr,Wi);break;default:throw Error(Q(329))}}}return nn(t,Mt()),t.callbackNode===r?BH.bind(null,t):null}function BN(t,e){var r=zc;return t.current.memoizedState.isDehydrated&&(so(t,e).flags|=256),t=np(t,e),t!==2&&(e=Jr,Jr=r,e!==null&&zN(e)),t}function zN(t){Jr===null?Jr=t:Jr.push.apply(Jr,t)}function XJ(t){for(var e=t;;){if(e.flags&16384){var r=e.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var i=r[n],s=i.getSnapshot;i=i.value;try{if(!di(s(),i))return!1}catch{return!1}}}if(r=e.child,e.subtreeFlags&16384&&r!==null)r.return=e,e=r;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Ms(t,e){for(e&=~OC,e&=~zp,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var r=31-ui(e),n=1<<r;t[r]=-1,e&=~n}}function Lj(t){if(Ve&6)throw Error(Q(327));Dl();var e=Ff(t,0);if(!(e&1))return nn(t,Mt()),null;var r=np(t,e);if(t.tag!==0&&r===2){var n=fN(t);n!==0&&(e=n,r=BN(t,n))}if(r===1)throw r=md,so(t,0),Ms(t,e),nn(t,Mt()),r;if(r===6)throw Error(Q(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,qa(t,Jr,Wi),nn(t,Mt()),null}function PC(t,e){var r=Ve;Ve|=1;try{return t(e)}finally{Ve=r,Ve===0&&(lu=Mt()+500,Ap&&Sa())}}function wo(t){Ys!==null&&Ys.tag===0&&!(Ve&6)&&Dl();var e=Ve;Ve|=1;var r=An.transition,n=Ze;try{if(An.transition=null,Ze=1,t)return t()}finally{Ze=n,An.transition=r,Ve=e,!(Ve&6)&&Sa()}}function TC(){pn=Sl.current,gt(Sl)}function so(t,e){t.finishedWork=null,t.finishedLanes=0;var r=t.timeoutHandle;if(r!==-1&&(t.timeoutHandle=-1,CJ(r)),zt!==null)for(r=zt.return;r!==null;){var n=r;switch(uC(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&Wf();break;case 3:au(),gt(tn),gt(Tr),yC();break;case 5:gC(n);break;case 4:au();break;case 13:gt(St);break;case 19:gt(St);break;case 10:fC(n.type._context);break;case 22:case 23:TC()}r=r.return}if(or=t,zt=t=sa(t.current,null),yr=pn=e,tr=0,md=null,OC=zp=xo=0,Jr=zc=null,La!==null){for(e=0;e<La.length;e++)if(r=La[e],n=r.interleaved,n!==null){r.interleaved=null;var i=n.next,s=r.pending;if(s!==null){var a=s.next;s.next=i,n.next=a}r.pending=n}La=null}return t}function zH(t,e){do{var r=zt;try{if(hC(),bf.current=Zf,Jf){for(var n=Et.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}Jf=!1}if(bo=0,ar=Zt=Et=null,Lc=!1,hd=0,NC.current=null,r===null||r.return===null){tr=1,md=e,zt=null;break}e:{var s=t,a=r.return,o=r,l=e;if(e=yr,o.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,d=o,h=d.tag;if(!(d.mode&1)&&(h===0||h===11||h===15)){var f=d.alternate;f?(d.updateQueue=f.updateQueue,d.memoizedState=f.memoizedState,d.lanes=f.lanes):(d.updateQueue=null,d.memoizedState=null)}var p=Cj(a);if(p!==null){p.flags&=-257,Pj(p,a,o,s,e),p.mode&1&&Oj(s,c,e),e=p,l=c;var m=e.updateQueue;if(m===null){var y=new Set;y.add(l),e.updateQueue=y}else m.add(l);break e}else{if(!(e&1)){Oj(s,c,e),jC();break e}l=Error(Q(426))}}else if(wt&&o.mode&1){var x=Cj(a);if(x!==null){!(x.flags&65536)&&(x.flags|=256),Pj(x,a,o,s,e),cC(ou(l,o));break e}}s=l=ou(l,o),tr!==4&&(tr=2),zc===null?zc=[s]:zc.push(s),s=a;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var g=NH(s,l,e);xj(s,g);break e;case 1:o=l;var v=s.type,w=s.stateNode;if(!(s.flags&128)&&(typeof v.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(na===null||!na.has(w)))){s.flags|=65536,e&=-e,s.lanes|=e;var b=OH(s,o,e);xj(s,b);break e}}s=s.return}while(s!==null)}HH(r)}catch(_){e=_,zt===r&&r!==null&&(zt=r=r.return);continue}break}while(!0)}function UH(){var t=ep.current;return ep.current=Zf,t===null?Zf:t}function jC(){(tr===0||tr===3||tr===2)&&(tr=4),or===null||!(xo&268435455)&&!(zp&268435455)||Ms(or,yr)}function np(t,e){var r=Ve;Ve|=2;var n=UH();(or!==t||yr!==e)&&(Wi=null,so(t,e));do try{JJ();break}catch(i){zH(t,i)}while(!0);if(hC(),Ve=r,ep.current=n,zt!==null)throw Error(Q(261));return or=null,yr=0,tr}function JJ(){for(;zt!==null;)WH(zt)}function ZJ(){for(;zt!==null&&!EX();)WH(zt)}function WH(t){var e=KH(t.alternate,t,pn);t.memoizedProps=t.pendingProps,e===null?HH(t):zt=e,NC.current=null}function HH(t){var e=t;do{var r=e.alternate;if(t=e.return,e.flags&32768){if(r=VJ(r,e),r!==null){r.flags&=32767,zt=r;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{tr=6,zt=null;return}}else if(r=HJ(r,e,pn),r!==null){zt=r;return}if(e=e.sibling,e!==null){zt=e;return}zt=e=t}while(e!==null);tr===0&&(tr=5)}function qa(t,e,r){var n=Ze,i=An.transition;try{An.transition=null,Ze=1,eZ(t,e,r,n)}finally{An.transition=i,Ze=n}return null}function eZ(t,e,r,n){do Dl();while(Ys!==null);if(Ve&6)throw Error(Q(327));r=t.finishedWork;var i=t.finishedLanes;if(r===null)return null;if(t.finishedWork=null,t.finishedLanes=0,r===t.current)throw Error(Q(177));t.callbackNode=null,t.callbackPriority=0;var s=r.lanes|r.childLanes;if(kX(t,s),t===or&&(zt=or=null,yr=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||Xh||(Xh=!0,GH(Af,function(){return Dl(),null})),s=(r.flags&15990)!==0,r.subtreeFlags&15990||s){s=An.transition,An.transition=null;var a=Ze;Ze=1;var o=Ve;Ve|=4,NC.current=null,GJ(t,r),FH(r,t),xJ(bN),Lf=!!yN,bN=yN=null,t.current=r,YJ(r),NX(),Ve=o,Ze=a,An.transition=s}else t.current=r;if(Xh&&(Xh=!1,Ys=t,rp=i),s=t.pendingLanes,s===0&&(na=null),PX(r.stateNode),nn(t,Mt()),e!==null)for(n=t.onRecoverableError,r=0;r<e.length;r++)i=e[r],n(i.value,{componentStack:i.stack,digest:i.digest});if(tp)throw tp=!1,t=FN,FN=null,t;return rp&1&&t.tag!==0&&Dl(),s=t.pendingLanes,s&1?t===LN?Uc++:(Uc=0,LN=t):Uc=0,Sa(),null}function Dl(){if(Ys!==null){var t=N9(rp),e=An.transition,r=Ze;try{if(An.transition=null,Ze=16>t?16:t,Ys===null)var n=!1;else{if(t=Ys,Ys=null,rp=0,Ve&6)throw Error(Q(331));var i=Ve;for(Ve|=4,me=t.current;me!==null;){var s=me,a=s.child;if(me.flags&16){var o=s.deletions;if(o!==null){for(var l=0;l<o.length;l++){var c=o[l];for(me=c;me!==null;){var d=me;switch(d.tag){case 0:case 11:case 15:Bc(8,d,s)}var h=d.child;if(h!==null)h.return=d,me=h;else for(;me!==null;){d=me;var f=d.sibling,p=d.return;if(MH(d),d===c){me=null;break}if(f!==null){f.return=p,me=f;break}me=p}}}var m=s.alternate;if(m!==null){var y=m.child;if(y!==null){m.child=null;do{var x=y.sibling;y.sibling=null,y=x}while(y!==null)}}me=s}}if(s.subtreeFlags&2064&&a!==null)a.return=s,me=a;else e:for(;me!==null;){if(s=me,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Bc(9,s,s.return)}var g=s.sibling;if(g!==null){g.return=s.return,me=g;break e}me=s.return}}var v=t.current;for(me=v;me!==null;){a=me;var w=a.child;if(a.subtreeFlags&2064&&w!==null)w.return=a,me=w;else e:for(a=v;me!==null;){if(o=me,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:Bp(9,o)}}catch(_){It(o,o.return,_)}if(o===a){me=null;break e}var b=o.sibling;if(b!==null){b.return=o.return,me=b;break e}me=o.return}}if(Ve=i,Sa(),Ii&&typeof Ii.onPostCommitFiberRoot=="function")try{Ii.onPostCommitFiberRoot($p,t)}catch{}n=!0}return n}finally{Ze=r,An.transition=e}}return!1}function Bj(t,e,r){e=ou(r,e),e=NH(t,e,1),t=ra(t,e,1),e=Br(),t!==null&&(Bd(t,1,e),nn(t,e))}function It(t,e,r){if(t.tag===3)Bj(t,t,r);else for(;e!==null;){if(e.tag===3){Bj(e,t,r);break}else if(e.tag===1){var n=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(na===null||!na.has(n))){t=ou(r,t),t=OH(e,t,1),e=ra(e,t,1),t=Br(),e!==null&&(Bd(e,1,t),nn(e,t));break}}e=e.return}}function tZ(t,e,r){var n=t.pingCache;n!==null&&n.delete(e),e=Br(),t.pingedLanes|=t.suspendedLanes&r,or===t&&(yr&r)===r&&(tr===4||tr===3&&(yr&130023424)===yr&&500>Mt()-CC?so(t,0):OC|=r),nn(t,e)}function VH(t,e){e===0&&(t.mode&1?(e=Bh,Bh<<=1,!(Bh&130023424)&&(Bh=4194304)):e=1);var r=Br();t=fs(t,e),t!==null&&(Bd(t,e,r),nn(t,r))}function rZ(t){var e=t.memoizedState,r=0;e!==null&&(r=e.retryLane),VH(t,r)}function nZ(t,e){var r=0;switch(t.tag){case 13:var n=t.stateNode,i=t.memoizedState;i!==null&&(r=i.retryLane);break;case 19:n=t.stateNode;break;default:throw Error(Q(314))}n!==null&&n.delete(e),VH(t,r)}var KH;KH=function(t,e,r){if(t!==null)if(t.memoizedProps!==e.pendingProps||tn.current)en=!0;else{if(!(t.lanes&r)&&!(e.flags&128))return en=!1,WJ(t,e,r);en=!!(t.flags&131072)}else en=!1,wt&&e.flags&1048576&&X9(e,Kf,e.index);switch(e.lanes=0,e.tag){case 2:var n=e.type;wf(t,e),t=e.pendingProps;var i=nu(e,Tr.current);kl(e,r),i=xC(null,e,n,t,i,r);var s=wC();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,rn(n)?(s=!0,Hf(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,mC(e),i.updater=Lp,e.stateNode=i,i._reactInternals=e,PN(e,n,t,r),e=IN(null,e,n,!0,s,r)):(e.tag=0,wt&&s&&lC(e),Mr(null,e,i,r),e=e.child),e;case 16:n=e.elementType;e:{switch(wf(t,e),t=e.pendingProps,i=n._init,n=i(n._payload),e.type=n,i=e.tag=sZ(n),t=Jn(n,t),i){case 0:e=jN(null,e,n,t,r);break e;case 1:e=Ij(null,e,n,t,r);break e;case 11:e=Tj(null,e,n,t,r);break e;case 14:e=jj(null,e,n,Jn(n.type,t),r);break e}throw Error(Q(306,n,""))}return e;case 0:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:Jn(n,i),jN(t,e,n,i,r);case 1:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:Jn(n,i),Ij(t,e,n,i,r);case 3:e:{if(jH(e),t===null)throw Error(Q(387));n=e.pendingProps,s=e.memoizedState,i=s.element,nH(t,e),Qf(e,n,null,r);var a=e.memoizedState;if(n=a.element,s.isDehydrated)if(s={element:n,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=ou(Error(Q(423)),e),e=Rj(t,e,n,r,i);break e}else if(n!==i){i=ou(Error(Q(424)),e),e=Rj(t,e,n,r,i);break e}else for(gn=ta(e.stateNode.containerInfo.firstChild),yn=e,wt=!0,ri=null,r=tH(e,null,n,r),e.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(iu(),n===i){e=ps(t,e,r);break e}Mr(t,e,n,r)}e=e.child}return e;case 5:return iH(e),t===null&&NN(e),n=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,a=i.children,xN(n,i)?a=null:s!==null&&xN(n,s)&&(e.flags|=32),TH(t,e),Mr(t,e,a,r),e.child;case 6:return t===null&&NN(e),null;case 13:return IH(t,e,r);case 4:return vC(e,e.stateNode.containerInfo),n=e.pendingProps,t===null?e.child=su(e,null,n,r):Mr(t,e,n,r),e.child;case 11:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:Jn(n,i),Tj(t,e,n,i,r);case 7:return Mr(t,e,e.pendingProps,r),e.child;case 8:return Mr(t,e,e.pendingProps.children,r),e.child;case 12:return Mr(t,e,e.pendingProps.children,r),e.child;case 10:e:{if(n=e.type._context,i=e.pendingProps,s=e.memoizedProps,a=i.value,ft(Gf,n._currentValue),n._currentValue=a,s!==null)if(di(s.value,a)){if(s.children===i.children&&!tn.current){e=ps(t,e,r);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var o=s.dependencies;if(o!==null){a=s.child;for(var l=o.firstContext;l!==null;){if(l.context===n){if(s.tag===1){l=es(-1,r&-r),l.tag=2;var c=s.updateQueue;if(c!==null){c=c.shared;var d=c.pending;d===null?l.next=l:(l.next=d.next,d.next=l),c.pending=l}}s.lanes|=r,l=s.alternate,l!==null&&(l.lanes|=r),ON(s.return,r,e),o.lanes|=r;break}l=l.next}}else if(s.tag===10)a=s.type===e.type?null:s.child;else if(s.tag===18){if(a=s.return,a===null)throw Error(Q(341));a.lanes|=r,o=a.alternate,o!==null&&(o.lanes|=r),ON(a,r,e),a=s.sibling}else a=s.child;if(a!==null)a.return=s;else for(a=s;a!==null;){if(a===e){a=null;break}if(s=a.sibling,s!==null){s.return=a.return,a=s;break}a=a.return}s=a}Mr(t,e,i.children,r),e=e.child}return e;case 9:return i=e.type,n=e.pendingProps.children,kl(e,r),i=Bn(i),n=n(i),e.flags|=1,Mr(t,e,n,r),e.child;case 14:return n=e.type,i=Jn(n,e.pendingProps),i=Jn(n.type,i),jj(t,e,n,i,r);case 15:return CH(t,e,e.type,e.pendingProps,r);case 17:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:Jn(n,i),wf(t,e),e.tag=1,rn(n)?(t=!0,Hf(e)):t=!1,kl(e,r),EH(e,n,i),PN(e,n,i,r),IN(null,e,n,!0,t,r);case 19:return RH(t,e,r);case 22:return PH(t,e,r)}throw Error(Q(156,e.tag))};function GH(t,e){return w9(t,e)}function iZ(t,e,r,n){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function qn(t,e,r,n){return new iZ(t,e,r,n)}function IC(t){return t=t.prototype,!(!t||!t.isReactComponent)}function sZ(t){if(typeof t=="function")return IC(t)?1:0;if(t!=null){if(t=t.$$typeof,t===QO)return 11;if(t===XO)return 14}return 2}function sa(t,e){var r=t.alternate;return r===null?(r=qn(t.tag,e,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=e,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&14680064,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,e=t.dependencies,r.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r}function Ef(t,e,r,n,i,s){var a=2;if(n=t,typeof t=="function")IC(t)&&(a=1);else if(typeof t=="string")a=5;else e:switch(t){case fl:return ao(r.children,i,s,e);case YO:a=8,i|=8;break;case J2:return t=qn(12,r,e,i|2),t.elementType=J2,t.lanes=s,t;case Z2:return t=qn(13,r,e,i),t.elementType=Z2,t.lanes=s,t;case eN:return t=qn(19,r,e,i),t.elementType=eN,t.lanes=s,t;case i9:return Up(r,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case r9:a=10;break e;case n9:a=9;break e;case QO:a=11;break e;case XO:a=14;break e;case Is:a=16,n=null;break e}throw Error(Q(130,t==null?t:typeof t,""))}return e=qn(a,r,e,i),e.elementType=t,e.type=n,e.lanes=s,e}function ao(t,e,r,n){return t=qn(7,t,n,e),t.lanes=r,t}function Up(t,e,r,n){return t=qn(22,t,n,e),t.elementType=i9,t.lanes=r,t.stateNode={isHidden:!1},t}function fv(t,e,r){return t=qn(6,t,null,e),t.lanes=r,t}function pv(t,e,r){return e=qn(4,t.children!==null?t.children:[],t.key,e),e.lanes=r,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function aZ(t,e,r,n,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Gm(0),this.expirationTimes=Gm(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Gm(0),this.identifierPrefix=n,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function RC(t,e,r,n,i,s,a,o,l){return t=new aZ(t,e,r,o,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=qn(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},mC(s),t}function oZ(t,e,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:hl,key:n==null?null:""+n,children:t,containerInfo:e,implementation:r}}function YH(t){if(!t)return ma;t=t._reactInternals;e:{if(Mo(t)!==t||t.tag!==1)throw Error(Q(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(rn(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(Q(171))}if(t.tag===1){var r=t.type;if(rn(r))return Y9(t,r,e)}return e}function QH(t,e,r,n,i,s,a,o,l){return t=RC(r,n,!0,t,i,s,a,o,l),t.context=YH(null),r=t.current,n=Br(),i=ia(r),s=es(n,i),s.callback=e??null,ra(r,s,i),t.current.lanes=i,Bd(t,i,n),nn(t,n),t}function Wp(t,e,r,n){var i=e.current,s=Br(),a=ia(i);return r=YH(r),e.context===null?e.context=r:e.pendingContext=r,e=es(s,a),e.payload={element:t},n=n===void 0?null:n,n!==null&&(e.callback=n),t=ra(i,e,a),t!==null&&(ci(t,i,a,s),yf(t,i,a)),a}function ip(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function zj(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<e?r:e}}function $C(t,e){zj(t,e),(t=t.alternate)&&zj(t,e)}function lZ(){return null}var XH=typeof reportError=="function"?reportError:function(t){console.error(t)};function kC(t){this._internalRoot=t}Hp.prototype.render=kC.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(Q(409));Wp(t,e,null,null)};Hp.prototype.unmount=kC.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;wo(function(){Wp(null,t,null,null)}),e[hs]=null}};function Hp(t){this._internalRoot=t}Hp.prototype.unstable_scheduleHydration=function(t){if(t){var e=P9();t={blockedOn:null,target:t,priority:e};for(var r=0;r<Ds.length&&e!==0&&e<Ds[r].priority;r++);Ds.splice(r,0,t),r===0&&j9(t)}};function DC(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Vp(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Uj(){}function uZ(t,e,r,n,i){if(i){if(typeof n=="function"){var s=n;n=function(){var c=ip(a);s.call(c)}}var a=QH(e,n,t,0,null,!1,!1,"",Uj);return t._reactRootContainer=a,t[hs]=a.current,od(t.nodeType===8?t.parentNode:t),wo(),a}for(;i=t.lastChild;)t.removeChild(i);if(typeof n=="function"){var o=n;n=function(){var c=ip(l);o.call(c)}}var l=RC(t,0,!1,null,null,!1,!1,"",Uj);return t._reactRootContainer=l,t[hs]=l.current,od(t.nodeType===8?t.parentNode:t),wo(function(){Wp(e,l,r,n)}),l}function Kp(t,e,r,n,i){var s=r._reactRootContainer;if(s){var a=s;if(typeof i=="function"){var o=i;i=function(){var l=ip(a);o.call(l)}}Wp(e,a,t,i)}else a=uZ(r,e,t,i,n);return ip(a)}O9=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var r=Tc(e.pendingLanes);r!==0&&(eC(e,r|1),nn(e,Mt()),!(Ve&6)&&(lu=Mt()+500,Sa()))}break;case 13:wo(function(){var n=fs(t,1);if(n!==null){var i=Br();ci(n,t,1,i)}}),$C(t,1)}};tC=function(t){if(t.tag===13){var e=fs(t,134217728);if(e!==null){var r=Br();ci(e,t,134217728,r)}$C(t,134217728)}};C9=function(t){if(t.tag===13){var e=ia(t),r=fs(t,e);if(r!==null){var n=Br();ci(r,t,e,n)}$C(t,e)}};P9=function(){return Ze};T9=function(t,e){var r=Ze;try{return Ze=t,e()}finally{Ze=r}};cN=function(t,e,r){switch(e){case"input":if(nN(t,r),e=r.name,r.type==="radio"&&e!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<r.length;e++){var n=r[e];if(n!==t&&n.form===t.form){var i=qp(n);if(!i)throw Error(Q(90));a9(n),nN(n,i)}}}break;case"textarea":l9(t,r);break;case"select":e=r.value,e!=null&&jl(t,!!r.multiple,e,!1)}};m9=PC;v9=wo;var cZ={usingClientEntryPoint:!1,Events:[Ud,gl,qp,f9,p9,PC]},gc={findFiberByHostInstance:Fa,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},dZ={bundleType:gc.bundleType,version:gc.version,rendererPackageName:gc.rendererPackageName,rendererConfig:gc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:gs.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=b9(t),t===null?null:t.stateNode},findFiberByHostInstance:gc.findFiberByHostInstance||lZ,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Jh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Jh.isDisabled&&Jh.supportsFiber)try{$p=Jh.inject(dZ),Ii=Jh}catch{}}wn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=cZ;wn.createPortal=function(t,e){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!DC(e))throw Error(Q(200));return oZ(t,e,null,r)};wn.createRoot=function(t,e){if(!DC(t))throw Error(Q(299));var r=!1,n="",i=XH;return e!=null&&(e.unstable_strictMode===!0&&(r=!0),e.identifierPrefix!==void 0&&(n=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=RC(t,1,!1,null,null,r,!1,n,i),t[hs]=e.current,od(t.nodeType===8?t.parentNode:t),new kC(e)};wn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(Q(188)):(t=Object.keys(t).join(","),Error(Q(268,t)));return t=b9(e),t=t===null?null:t.stateNode,t};wn.flushSync=function(t){return wo(t)};wn.hydrate=function(t,e,r){if(!Vp(e))throw Error(Q(200));return Kp(null,t,e,!0,r)};wn.hydrateRoot=function(t,e,r){if(!DC(t))throw Error(Q(405));var n=r!=null&&r.hydratedSources||null,i=!1,s="",a=XH;if(r!=null&&(r.unstable_strictMode===!0&&(i=!0),r.identifierPrefix!==void 0&&(s=r.identifierPrefix),r.onRecoverableError!==void 0&&(a=r.onRecoverableError)),e=QH(e,null,t,1,r??null,i,!1,s,a),t[hs]=e.current,od(t),n)for(t=0;t<n.length;t++)r=n[t],i=r._getVersion,i=i(r._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[r,i]:e.mutableSourceEagerHydrationData.push(r,i);return new Hp(e)};wn.render=function(t,e,r){if(!Vp(e))throw Error(Q(200));return Kp(null,t,e,!1,r)};wn.unmountComponentAtNode=function(t){if(!Vp(t))throw Error(Q(40));return t._reactRootContainer?(wo(function(){Kp(null,null,t,!1,function(){t._reactRootContainer=null,t[hs]=null})}),!0):!1};wn.unstable_batchedUpdates=PC;wn.unstable_renderSubtreeIntoContainer=function(t,e,r,n){if(!Vp(r))throw Error(Q(200));if(t==null||t._reactInternals===void 0)throw Error(Q(38));return Kp(t,e,r,!1,n)};wn.version="18.3.1-next-f1338f8080-20240426";function JH(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(JH)}catch(t){console.error(t)}}JH(),JW.exports=wn;var hZ=JW.exports,Wj=hZ;Q2.createRoot=Wj.createRoot,Q2.hydrateRoot=Wj.hydrateRoot;/**
 * @remix-run/router v1.23.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function vd(){return vd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},vd.apply(this,arguments)}var Qs;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Qs||(Qs={}));const Hj="popstate";function fZ(t){t===void 0&&(t={});function e(n,i){let{pathname:s,search:a,hash:o}=n.location;return UN("",{pathname:s,search:a,hash:o},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function r(n,i){return typeof i=="string"?i:sp(i)}return mZ(e,r,null,t)}function Nt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function MC(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function pZ(){return Math.random().toString(36).substr(2,8)}function Vj(t,e){return{usr:t.state,key:t.key,idx:e}}function UN(t,e,r,n){return r===void 0&&(r=null),vd({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Cu(e):e,{state:r,key:e&&e.key||n||pZ()})}function sp(t){let{pathname:e="/",search:r="",hash:n=""}=t;return r&&r!=="?"&&(e+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function Cu(t){let e={};if(t){let r=t.indexOf("#");r>=0&&(e.hash=t.substr(r),t=t.substr(0,r));let n=t.indexOf("?");n>=0&&(e.search=t.substr(n),t=t.substr(0,n)),t&&(e.pathname=t)}return e}function mZ(t,e,r,n){n===void 0&&(n={});let{window:i=document.defaultView,v5Compat:s=!1}=n,a=i.history,o=Qs.Pop,l=null,c=d();c==null&&(c=0,a.replaceState(vd({},a.state,{idx:c}),""));function d(){return(a.state||{idx:null}).idx}function h(){o=Qs.Pop;let x=d(),g=x==null?null:x-c;c=x,l&&l({action:o,location:y.location,delta:g})}function f(x,g){o=Qs.Push;let v=UN(y.location,x,g);c=d()+1;let w=Vj(v,c),b=y.createHref(v);try{a.pushState(w,"",b)}catch(_){if(_ instanceof DOMException&&_.name==="DataCloneError")throw _;i.location.assign(b)}s&&l&&l({action:o,location:y.location,delta:1})}function p(x,g){o=Qs.Replace;let v=UN(y.location,x,g);c=d();let w=Vj(v,c),b=y.createHref(v);a.replaceState(w,"",b),s&&l&&l({action:o,location:y.location,delta:0})}function m(x){let g=i.location.origin!=="null"?i.location.origin:i.location.href,v=typeof x=="string"?x:sp(x);return v=v.replace(/ $/,"%20"),Nt(g,"No window.location.(origin|href) available to create URL for href: "+v),new URL(v,g)}let y={get action(){return o},get location(){return t(i,a)},listen(x){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(Hj,h),l=x,()=>{i.removeEventListener(Hj,h),l=null}},createHref(x){return e(i,x)},createURL:m,encodeLocation(x){let g=m(x);return{pathname:g.pathname,search:g.search,hash:g.hash}},push:f,replace:p,go(x){return a.go(x)}};return y}var Kj;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(Kj||(Kj={}));function vZ(t,e,r){return r===void 0&&(r="/"),gZ(t,e,r)}function gZ(t,e,r,n){let i=typeof e=="string"?Cu(e):e,s=uu(i.pathname||"/",r);if(s==null)return null;let a=ZH(t);yZ(a);let o=null;for(let l=0;o==null&&l<a.length;++l){let c=TZ(s);o=CZ(a[l],c)}return o}function ZH(t,e,r,n){e===void 0&&(e=[]),r===void 0&&(r=[]),n===void 0&&(n="");let i=(s,a,o)=>{let l={relativePath:o===void 0?s.path||"":o,caseSensitive:s.caseSensitive===!0,childrenIndex:a,route:s};l.relativePath.startsWith("/")&&(Nt(l.relativePath.startsWith(n),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(n.length));let c=aa([n,l.relativePath]),d=r.concat(l);s.children&&s.children.length>0&&(Nt(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),ZH(s.children,e,d,c)),!(s.path==null&&!s.index)&&e.push({path:c,score:NZ(c,s.index),routesMeta:d})};return t.forEach((s,a)=>{var o;if(s.path===""||!((o=s.path)!=null&&o.includes("?")))i(s,a);else for(let l of eV(s.path))i(s,a,l)}),e}function eV(t){let e=t.split("/");if(e.length===0)return[];let[r,...n]=e,i=r.endsWith("?"),s=r.replace(/\?$/,"");if(n.length===0)return i?[s,""]:[s];let a=eV(n.join("/")),o=[];return o.push(...a.map(l=>l===""?s:[s,l].join("/"))),i&&o.push(...a),o.map(l=>t.startsWith("/")&&l===""?"/":l)}function yZ(t){t.sort((e,r)=>e.score!==r.score?r.score-e.score:OZ(e.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const bZ=/^:[\w-]+$/,xZ=3,wZ=2,_Z=1,SZ=10,EZ=-2,Gj=t=>t==="*";function NZ(t,e){let r=t.split("/"),n=r.length;return r.some(Gj)&&(n+=EZ),e&&(n+=wZ),r.filter(i=>!Gj(i)).reduce((i,s)=>i+(bZ.test(s)?xZ:s===""?_Z:SZ),n)}function OZ(t,e){return t.length===e.length&&t.slice(0,-1).every((n,i)=>n===e[i])?t[t.length-1]-e[e.length-1]:0}function CZ(t,e,r){let{routesMeta:n}=t,i={},s="/",a=[];for(let o=0;o<n.length;++o){let l=n[o],c=o===n.length-1,d=s==="/"?e:e.slice(s.length)||"/",h=WN({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},d),f=l.route;if(!h)return null;Object.assign(i,h.params),a.push({params:i,pathname:aa([s,h.pathname]),pathnameBase:kZ(aa([s,h.pathnameBase])),route:f}),h.pathnameBase!=="/"&&(s=aa([s,h.pathnameBase]))}return a}function WN(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[r,n]=PZ(t.path,t.caseSensitive,t.end),i=e.match(r);if(!i)return null;let s=i[0],a=s.replace(/(.)\/+$/,"$1"),o=i.slice(1);return{params:n.reduce((c,d,h)=>{let{paramName:f,isOptional:p}=d;if(f==="*"){let y=o[h]||"";a=s.slice(0,s.length-y.length).replace(/(.)\/+$/,"$1")}const m=o[h];return p&&!m?c[f]=void 0:c[f]=(m||"").replace(/%2F/g,"/"),c},{}),pathname:s,pathnameBase:a,pattern:t}}function PZ(t,e,r){e===void 0&&(e=!1),r===void 0&&(r=!0),MC(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let n=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,o,l)=>(n.push({paramName:o,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(n.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),n]}function TZ(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return MC(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function uu(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let r=e.endsWith("/")?e.length-1:e.length,n=t.charAt(r);return n&&n!=="/"?null:t.slice(r)||"/"}const jZ=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,IZ=t=>jZ.test(t);function RZ(t,e){e===void 0&&(e="/");let{pathname:r,search:n="",hash:i=""}=typeof t=="string"?Cu(t):t,s;if(r)if(IZ(r))s=r;else{if(r.includes("//")){let a=r;r=r.replace(/\/\/+/g,"/"),MC(!1,"Pathnames cannot have embedded double slashes - normalizing "+(a+" -> "+r))}r.startsWith("/")?s=Yj(r.substring(1),"/"):s=Yj(r,e)}else s=e;return{pathname:s,search:DZ(n),hash:MZ(i)}}function Yj(t,e){let r=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?r.length>1&&r.pop():i!=="."&&r.push(i)}),r.length>1?r.join("/"):"/"}function mv(t,e,r,n){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function $Z(t){return t.filter((e,r)=>r===0||e.route.path&&e.route.path.length>0)}function qC(t,e){let r=$Z(t);return e?r.map((n,i)=>i===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function AC(t,e,r,n){n===void 0&&(n=!1);let i;typeof t=="string"?i=Cu(t):(i=vd({},t),Nt(!i.pathname||!i.pathname.includes("?"),mv("?","pathname","search",i)),Nt(!i.pathname||!i.pathname.includes("#"),mv("#","pathname","hash",i)),Nt(!i.search||!i.search.includes("#"),mv("#","search","hash",i)));let s=t===""||i.pathname==="",a=s?"/":i.pathname,o;if(a==null)o=r;else{let h=e.length-1;if(!n&&a.startsWith("..")){let f=a.split("/");for(;f[0]==="..";)f.shift(),h-=1;i.pathname=f.join("/")}o=h>=0?e[h]:"/"}let l=RZ(i,o),c=a&&a!=="/"&&a.endsWith("/"),d=(s||a===".")&&r.endsWith("/");return!l.pathname.endsWith("/")&&(c||d)&&(l.pathname+="/"),l}const aa=t=>t.join("/").replace(/\/\/+/g,"/"),kZ=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),DZ=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,MZ=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function qZ(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const tV=["post","put","patch","delete"];new Set(tV);const AZ=["get",...tV];new Set(AZ);/**
 * React Router v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function gd(){return gd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},gd.apply(this,arguments)}const Gp=I.createContext(null),rV=I.createContext(null),ys=I.createContext(null),Yp=I.createContext(null),bs=I.createContext({outlet:null,matches:[],isDataRoute:!1}),nV=I.createContext(null);function FZ(t,e){let{relative:r}=e===void 0?{}:e;Pu()||Nt(!1);let{basename:n,navigator:i}=I.useContext(ys),{hash:s,pathname:a,search:o}=Qp(t,{relative:r}),l=a;return n!=="/"&&(l=a==="/"?n:aa([n,a])),i.createHref({pathname:l,search:o,hash:s})}function Pu(){return I.useContext(Yp)!=null}function xs(){return Pu()||Nt(!1),I.useContext(Yp).location}function iV(t){I.useContext(ys).static||I.useLayoutEffect(t)}function un(){let{isDataRoute:t}=I.useContext(bs);return t?JZ():LZ()}function LZ(){Pu()||Nt(!1);let t=I.useContext(Gp),{basename:e,future:r,navigator:n}=I.useContext(ys),{matches:i}=I.useContext(bs),{pathname:s}=xs(),a=JSON.stringify(qC(i,r.v7_relativeSplatPath)),o=I.useRef(!1);return iV(()=>{o.current=!0}),I.useCallback(function(c,d){if(d===void 0&&(d={}),!o.current)return;if(typeof c=="number"){n.go(c);return}let h=AC(c,JSON.parse(a),s,d.relative==="path");t==null&&e!=="/"&&(h.pathname=h.pathname==="/"?e:aa([e,h.pathname])),(d.replace?n.replace:n.push)(h,d.state,d)},[e,n,a,s,t])}function ws(){let{matches:t}=I.useContext(bs),e=t[t.length-1];return e?e.params:{}}function Qp(t,e){let{relative:r}=e===void 0?{}:e,{future:n}=I.useContext(ys),{matches:i}=I.useContext(bs),{pathname:s}=xs(),a=JSON.stringify(qC(i,n.v7_relativeSplatPath));return I.useMemo(()=>AC(t,JSON.parse(a),s,r==="path"),[t,a,s,r])}function BZ(t,e){return zZ(t,e)}function zZ(t,e,r,n){Pu()||Nt(!1);let{navigator:i}=I.useContext(ys),{matches:s}=I.useContext(bs),a=s[s.length-1],o=a?a.params:{};a&&a.pathname;let l=a?a.pathnameBase:"/";a&&a.route;let c=xs(),d;if(e){var h;let x=typeof e=="string"?Cu(e):e;l==="/"||(h=x.pathname)!=null&&h.startsWith(l)||Nt(!1),d=x}else d=c;let f=d.pathname||"/",p=f;if(l!=="/"){let x=l.replace(/^\//,"").split("/");p="/"+f.replace(/^\//,"").split("/").slice(x.length).join("/")}let m=vZ(t,{pathname:p}),y=KZ(m&&m.map(x=>Object.assign({},x,{params:Object.assign({},o,x.params),pathname:aa([l,i.encodeLocation?i.encodeLocation(x.pathname).pathname:x.pathname]),pathnameBase:x.pathnameBase==="/"?l:aa([l,i.encodeLocation?i.encodeLocation(x.pathnameBase).pathname:x.pathnameBase])})),s,r,n);return e&&y?I.createElement(Yp.Provider,{value:{location:gd({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:Qs.Pop}},y):y}function UZ(){let t=XZ(),e=qZ(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),r=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return I.createElement(I.Fragment,null,I.createElement("h2",null,"Unexpected Application Error!"),I.createElement("h3",{style:{fontStyle:"italic"}},e),r?I.createElement("pre",{style:i},r):null,null)}const WZ=I.createElement(UZ,null);class HZ extends I.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,r){return r.location!==e.location||r.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:r.error,location:r.location,revalidation:e.revalidation||r.revalidation}}componentDidCatch(e,r){console.error("React Router caught the following error during render",e,r)}render(){return this.state.error!==void 0?I.createElement(bs.Provider,{value:this.props.routeContext},I.createElement(nV.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function VZ(t){let{routeContext:e,match:r,children:n}=t,i=I.useContext(Gp);return i&&i.static&&i.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=r.route.id),I.createElement(bs.Provider,{value:e},n)}function KZ(t,e,r,n){var i;if(e===void 0&&(e=[]),r===void 0&&(r=null),n===void 0&&(n=null),t==null){var s;if(!r)return null;if(r.errors)t=r.matches;else if((s=n)!=null&&s.v7_partialHydration&&e.length===0&&!r.initialized&&r.matches.length>0)t=r.matches;else return null}let a=t,o=(i=r)==null?void 0:i.errors;if(o!=null){let d=a.findIndex(h=>h.route.id&&(o==null?void 0:o[h.route.id])!==void 0);d>=0||Nt(!1),a=a.slice(0,Math.min(a.length,d+1))}let l=!1,c=-1;if(r&&n&&n.v7_partialHydration)for(let d=0;d<a.length;d++){let h=a[d];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(c=d),h.route.id){let{loaderData:f,errors:p}=r,m=h.route.loader&&f[h.route.id]===void 0&&(!p||p[h.route.id]===void 0);if(h.route.lazy||m){l=!0,c>=0?a=a.slice(0,c+1):a=[a[0]];break}}}return a.reduceRight((d,h,f)=>{let p,m=!1,y=null,x=null;r&&(p=o&&h.route.id?o[h.route.id]:void 0,y=h.route.errorElement||WZ,l&&(c<0&&f===0?(ZZ("route-fallback"),m=!0,x=null):c===f&&(m=!0,x=h.route.hydrateFallbackElement||null)));let g=e.concat(a.slice(0,f+1)),v=()=>{let w;return p?w=y:m?w=x:h.route.Component?w=I.createElement(h.route.Component,null):h.route.element?w=h.route.element:w=d,I.createElement(VZ,{match:h,routeContext:{outlet:d,matches:g,isDataRoute:r!=null},children:w})};return r&&(h.route.ErrorBoundary||h.route.errorElement||f===0)?I.createElement(HZ,{location:r.location,revalidation:r.revalidation,component:y,error:p,children:v(),routeContext:{outlet:null,matches:g,isDataRoute:!0}}):v()},null)}var sV=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(sV||{}),aV=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(aV||{});function GZ(t){let e=I.useContext(Gp);return e||Nt(!1),e}function YZ(t){let e=I.useContext(rV);return e||Nt(!1),e}function QZ(t){let e=I.useContext(bs);return e||Nt(!1),e}function oV(t){let e=QZ(),r=e.matches[e.matches.length-1];return r.route.id||Nt(!1),r.route.id}function XZ(){var t;let e=I.useContext(nV),r=YZ(),n=oV();return e!==void 0?e:(t=r.errors)==null?void 0:t[n]}function JZ(){let{router:t}=GZ(sV.UseNavigateStable),e=oV(aV.UseNavigateStable),r=I.useRef(!1);return iV(()=>{r.current=!0}),I.useCallback(function(i,s){s===void 0&&(s={}),r.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,gd({fromRouteId:e},s)))},[t,e])}const Qj={};function ZZ(t,e,r){Qj[t]||(Qj[t]=!0)}function eee(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function lV(t){let{to:e,replace:r,state:n,relative:i}=t;Pu()||Nt(!1);let{future:s,static:a}=I.useContext(ys),{matches:o}=I.useContext(bs),{pathname:l}=xs(),c=un(),d=AC(e,qC(o,s.v7_relativeSplatPath),l,i==="path"),h=JSON.stringify(d);return I.useEffect(()=>c(JSON.parse(h),{replace:r,state:n,relative:i}),[c,h,i,r,n]),null}function it(t){Nt(!1)}function tee(t){let{basename:e="/",children:r=null,location:n,navigationType:i=Qs.Pop,navigator:s,static:a=!1,future:o}=t;Pu()&&Nt(!1);let l=e.replace(/^\/*/,"/"),c=I.useMemo(()=>({basename:l,navigator:s,static:a,future:gd({v7_relativeSplatPath:!1},o)}),[l,o,s,a]);typeof n=="string"&&(n=Cu(n));let{pathname:d="/",search:h="",hash:f="",state:p=null,key:m="default"}=n,y=I.useMemo(()=>{let x=uu(d,l);return x==null?null:{location:{pathname:x,search:h,hash:f,state:p,key:m},navigationType:i}},[l,d,h,f,p,m,i]);return y==null?null:I.createElement(ys.Provider,{value:c},I.createElement(Yp.Provider,{children:r,value:y}))}function Xj(t){let{children:e,location:r}=t;return BZ(HN(e),r)}new Promise(()=>{});function HN(t,e){e===void 0&&(e=[]);let r=[];return I.Children.forEach(t,(n,i)=>{if(!I.isValidElement(n))return;let s=[...e,i];if(n.type===I.Fragment){r.push.apply(r,HN(n.props.children,s));return}n.type!==it&&Nt(!1),!n.props.index||!n.props.children||Nt(!1);let a={id:n.props.id||s.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(a.children=HN(n.props.children,s)),r.push(a)}),r}/**
 * React Router DOM v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ap(){return ap=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},ap.apply(this,arguments)}function uV(t,e){if(t==null)return{};var r={},n=Object.keys(t),i,s;for(s=0;s<n.length;s++)i=n[s],!(e.indexOf(i)>=0)&&(r[i]=t[i]);return r}function ree(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function nee(t,e){return t.button===0&&(!e||e==="_self")&&!ree(t)}function VN(t){return t===void 0&&(t=""),new URLSearchParams(typeof t=="string"||Array.isArray(t)||t instanceof URLSearchParams?t:Object.keys(t).reduce((e,r)=>{let n=t[r];return e.concat(Array.isArray(n)?n.map(i=>[r,i]):[[r,n]])},[]))}function iee(t,e){let r=VN(t);return e&&e.forEach((n,i)=>{r.has(i)||e.getAll(i).forEach(s=>{r.append(i,s)})}),r}const see=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],aee=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],oee="6";try{window.__reactRouterVersion=oee}catch{}const lee=I.createContext({isTransitioning:!1}),uee="startTransition",Jj=tX[uee];function cee(t){let{basename:e,children:r,future:n,window:i}=t,s=I.useRef();s.current==null&&(s.current=fZ({window:i,v5Compat:!0}));let a=s.current,[o,l]=I.useState({action:a.action,location:a.location}),{v7_startTransition:c}=n||{},d=I.useCallback(h=>{c&&Jj?Jj(()=>l(h)):l(h)},[l,c]);return I.useLayoutEffect(()=>a.listen(d),[a,d]),I.useEffect(()=>eee(n),[n]),I.createElement(tee,{basename:e,children:r,location:o.location,navigationType:o.action,navigator:a,future:n})}const dee=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",hee=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,fe=I.forwardRef(function(e,r){let{onClick:n,relative:i,reloadDocument:s,replace:a,state:o,target:l,to:c,preventScrollReset:d,viewTransition:h}=e,f=uV(e,see),{basename:p}=I.useContext(ys),m,y=!1;if(typeof c=="string"&&hee.test(c)&&(m=c,dee))try{let w=new URL(window.location.href),b=c.startsWith("//")?new URL(w.protocol+c):new URL(c),_=uu(b.pathname,p);b.origin===w.origin&&_!=null?c=_+b.search+b.hash:y=!0}catch{}let x=FZ(c,{relative:i}),g=mee(c,{replace:a,state:o,target:l,preventScrollReset:d,relative:i,viewTransition:h});function v(w){n&&n(w),w.defaultPrevented||g(w)}return I.createElement("a",ap({},f,{href:m||x,onClick:y||s?n:v,ref:r,target:l}))}),fee=I.forwardRef(function(e,r){let{"aria-current":n="page",caseSensitive:i=!1,className:s="",end:a=!1,style:o,to:l,viewTransition:c,children:d}=e,h=uV(e,aee),f=Qp(l,{relative:h.relative}),p=xs(),m=I.useContext(rV),{navigator:y,basename:x}=I.useContext(ys),g=m!=null&&vee(f)&&c===!0,v=y.encodeLocation?y.encodeLocation(f).pathname:f.pathname,w=p.pathname,b=m&&m.navigation&&m.navigation.location?m.navigation.location.pathname:null;i||(w=w.toLowerCase(),b=b?b.toLowerCase():null,v=v.toLowerCase()),b&&x&&(b=uu(b,x)||b);const _=v!=="/"&&v.endsWith("/")?v.length-1:v.length;let E=w===v||!a&&w.startsWith(v)&&w.charAt(_)==="/",N=b!=null&&(b===v||!a&&b.startsWith(v)&&b.charAt(v.length)==="/"),S={isActive:E,isPending:N,isTransitioning:g},O=E?n:void 0,C;typeof s=="function"?C=s(S):C=[s,E?"active":null,N?"pending":null,g?"transitioning":null].filter(Boolean).join(" ");let T=typeof o=="function"?o(S):o;return I.createElement(fe,ap({},h,{"aria-current":O,className:C,ref:r,style:T,to:l,viewTransition:c}),typeof d=="function"?d(S):d)});var KN;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(KN||(KN={}));var Zj;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(Zj||(Zj={}));function pee(t){let e=I.useContext(Gp);return e||Nt(!1),e}function mee(t,e){let{target:r,replace:n,state:i,preventScrollReset:s,relative:a,viewTransition:o}=e===void 0?{}:e,l=un(),c=xs(),d=Qp(t,{relative:a});return I.useCallback(h=>{if(nee(h,r)){h.preventDefault();let f=n!==void 0?n:sp(c)===sp(d);l(t,{replace:f,state:i,preventScrollReset:s,relative:a,viewTransition:o})}},[c,l,d,n,i,r,t,s,a,o])}function FC(t){let e=I.useRef(VN(t)),r=I.useRef(!1),n=xs(),i=I.useMemo(()=>iee(n.search,r.current?null:e.current),[n.search]),s=un(),a=I.useCallback((o,l)=>{const c=VN(typeof o=="function"?o(i):o);r.current=!0,s("?"+c,l)},[s,i]);return[i,a]}function vee(t,e){e===void 0&&(e={});let r=I.useContext(lee);r==null&&Nt(!1);let{basename:n}=pee(KN.useViewTransitionState),i=Qp(t,{relative:e.relative});if(!r.isTransitioning)return!1;let s=uu(r.currentLocation.pathname,n)||r.currentLocation.pathname,a=uu(r.nextLocation.pathname,n)||r.nextLocation.pathname;return WN(i.pathname,a)!=null||WN(i.pathname,s)!=null}var qo=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},gee={setTimeout:(t,e)=>setTimeout(t,e),clearTimeout:t=>clearTimeout(t),setInterval:(t,e)=>setInterval(t,e),clearInterval:t=>clearInterval(t)},As,BO,TW,yee=(TW=class{constructor(){pe(this,As,gee);pe(this,BO,!1)}setTimeoutProvider(t){re(this,As,t)}setTimeout(t,e){return R(this,As).setTimeout(t,e)}clearTimeout(t){R(this,As).clearTimeout(t)}setInterval(t,e){return R(this,As).setInterval(t,e)}clearInterval(t){R(this,As).clearInterval(t)}},As=new WeakMap,BO=new WeakMap,TW),za=new yee;function bee(t){setTimeout(t,0)}var _o=typeof window>"u"||"Deno"in globalThis;function Or(){}function xee(t,e){return typeof t=="function"?t(e):t}function GN(t){return typeof t=="number"&&t>=0&&t!==1/0}function cV(t,e){return Math.max(t+(e||0)-Date.now(),0)}function oa(t,e){return typeof t=="function"?t(e):t}function Rn(t,e){return typeof t=="function"?t(e):t}function eI(t,e){const{type:r="all",exact:n,fetchStatus:i,predicate:s,queryKey:a,stale:o}=t;if(a){if(n){if(e.queryHash!==LC(a,e.options))return!1}else if(!yd(e.queryKey,a))return!1}if(r!=="all"){const l=e.isActive();if(r==="active"&&!l||r==="inactive"&&l)return!1}return!(typeof o=="boolean"&&e.isStale()!==o||i&&i!==e.state.fetchStatus||s&&!s(e))}function tI(t,e){const{exact:r,status:n,predicate:i,mutationKey:s}=t;if(s){if(!e.options.mutationKey)return!1;if(r){if(So(e.options.mutationKey)!==So(s))return!1}else if(!yd(e.options.mutationKey,s))return!1}return!(n&&e.state.status!==n||i&&!i(e))}function LC(t,e){return((e==null?void 0:e.queryKeyHashFn)||So)(t)}function So(t){return JSON.stringify(t,(e,r)=>YN(r)?Object.keys(r).sort().reduce((n,i)=>(n[i]=r[i],n),{}):r)}function yd(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?Object.keys(e).every(r=>yd(t[r],e[r])):!1}var wee=Object.prototype.hasOwnProperty;function BC(t,e){if(t===e)return t;const r=rI(t)&&rI(e);if(!r&&!(YN(t)&&YN(e)))return e;const i=(r?t:Object.keys(t)).length,s=r?e:Object.keys(e),a=s.length,o=r?new Array(a):{};let l=0;for(let c=0;c<a;c++){const d=r?c:s[c],h=t[d],f=e[d];if(h===f){o[d]=h,(r?c<i:wee.call(t,d))&&l++;continue}if(h===null||f===null||typeof h!="object"||typeof f!="object"){o[d]=f;continue}const p=BC(h,f);o[d]=p,p===h&&l++}return i===a&&l===i?t:o}function bd(t,e){if(!e||Object.keys(t).length!==Object.keys(e).length)return!1;for(const r in t)if(t[r]!==e[r])return!1;return!0}function rI(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function YN(t){if(!nI(t))return!1;const e=t.constructor;if(e===void 0)return!0;const r=e.prototype;return!(!nI(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function nI(t){return Object.prototype.toString.call(t)==="[object Object]"}function _ee(t){return new Promise(e=>{za.setTimeout(e,t)})}function QN(t,e,r){return typeof r.structuralSharing=="function"?r.structuralSharing(t,e):r.structuralSharing!==!1?BC(t,e):e}function See(t,e,r=0){const n=[...t,e];return r&&n.length>r?n.slice(1):n}function Eee(t,e,r=0){const n=[e,...t];return r&&n.length>r?n.slice(0,-1):n}var zC=Symbol();function dV(t,e){return!t.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!t.queryFn||t.queryFn===zC?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}function UC(t,e){return typeof t=="function"?t(...e):!!t}function Nee(t,e,r){let n=!1,i;return Object.defineProperty(t,"signal",{enumerable:!0,get:()=>(i??(i=e()),n||(n=!0,i.aborted?r():i.addEventListener("abort",r,{once:!0})),i)}),t}var Qa,Fs,Bl,jW,Oee=(jW=class extends qo{constructor(){super();pe(this,Qa);pe(this,Fs);pe(this,Bl);re(this,Bl,e=>{if(!_o&&window.addEventListener){const r=()=>e();return window.addEventListener("visibilitychange",r,!1),()=>{window.removeEventListener("visibilitychange",r)}}})}onSubscribe(){R(this,Fs)||this.setEventListener(R(this,Bl))}onUnsubscribe(){var e;this.hasListeners()||((e=R(this,Fs))==null||e.call(this),re(this,Fs,void 0))}setEventListener(e){var r;re(this,Bl,e),(r=R(this,Fs))==null||r.call(this),re(this,Fs,e(n=>{typeof n=="boolean"?this.setFocused(n):this.onFocus()}))}setFocused(e){R(this,Qa)!==e&&(re(this,Qa,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(r=>{r(e)})}isFocused(){var e;return typeof R(this,Qa)=="boolean"?R(this,Qa):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},Qa=new WeakMap,Fs=new WeakMap,Bl=new WeakMap,jW),WC=new Oee;function XN(){let t,e;const r=new Promise((i,s)=>{t=i,e=s});r.status="pending",r.catch(()=>{});function n(i){Object.assign(r,i),delete r.resolve,delete r.reject}return r.resolve=i=>{n({status:"fulfilled",value:i}),t(i)},r.reject=i=>{n({status:"rejected",reason:i}),e(i)},r}var Cee=bee;function Pee(){let t=[],e=0,r=o=>{o()},n=o=>{o()},i=Cee;const s=o=>{e?t.push(o):i(()=>{r(o)})},a=()=>{const o=t;t=[],o.length&&i(()=>{n(()=>{o.forEach(l=>{r(l)})})})};return{batch:o=>{let l;e++;try{l=o()}finally{e--,e||a()}return l},batchCalls:o=>(...l)=>{s(()=>{o(...l)})},schedule:s,setNotifyFunction:o=>{r=o},setBatchNotifyFunction:o=>{n=o},setScheduler:o=>{i=o}}}var kt=Pee(),zl,Ls,Ul,IW,Tee=(IW=class extends qo{constructor(){super();pe(this,zl,!0);pe(this,Ls);pe(this,Ul);re(this,Ul,e=>{if(!_o&&window.addEventListener){const r=()=>e(!0),n=()=>e(!1);return window.addEventListener("online",r,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",r),window.removeEventListener("offline",n)}}})}onSubscribe(){R(this,Ls)||this.setEventListener(R(this,Ul))}onUnsubscribe(){var e;this.hasListeners()||((e=R(this,Ls))==null||e.call(this),re(this,Ls,void 0))}setEventListener(e){var r;re(this,Ul,e),(r=R(this,Ls))==null||r.call(this),re(this,Ls,e(this.setOnline.bind(this)))}setOnline(e){R(this,zl)!==e&&(re(this,zl,e),this.listeners.forEach(n=>{n(e)}))}isOnline(){return R(this,zl)}},zl=new WeakMap,Ls=new WeakMap,Ul=new WeakMap,IW),op=new Tee;function jee(t){return Math.min(1e3*2**t,3e4)}function hV(t){return(t??"online")==="online"?op.isOnline():!0}var JN=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function fV(t){let e=!1,r=0,n;const i=XN(),s=()=>i.status!=="pending",a=y=>{var x;if(!s()){const g=new JN(y);f(g),(x=t.onCancel)==null||x.call(t,g)}},o=()=>{e=!0},l=()=>{e=!1},c=()=>WC.isFocused()&&(t.networkMode==="always"||op.isOnline())&&t.canRun(),d=()=>hV(t.networkMode)&&t.canRun(),h=y=>{s()||(n==null||n(),i.resolve(y))},f=y=>{s()||(n==null||n(),i.reject(y))},p=()=>new Promise(y=>{var x;n=g=>{(s()||c())&&y(g)},(x=t.onPause)==null||x.call(t)}).then(()=>{var y;n=void 0,s()||(y=t.onContinue)==null||y.call(t)}),m=()=>{if(s())return;let y;const x=r===0?t.initialPromise:void 0;try{y=x??t.fn()}catch(g){y=Promise.reject(g)}Promise.resolve(y).then(h).catch(g=>{var E;if(s())return;const v=t.retry??(_o?0:3),w=t.retryDelay??jee,b=typeof w=="function"?w(r,g):w,_=v===!0||typeof v=="number"&&r<v||typeof v=="function"&&v(r,g);if(e||!_){f(g);return}r++,(E=t.onFail)==null||E.call(t,r,g),_ee(b).then(()=>c()?void 0:p()).then(()=>{e?f(g):m()})})};return{promise:i,status:()=>i.status,cancel:a,continue:()=>(n==null||n(),i),cancelRetry:o,continueRetry:l,canStart:d,start:()=>(d()?m():p().then(m),i)}}var Xa,RW,pV=(RW=class{constructor(){pe(this,Xa)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),GN(this.gcTime)&&re(this,Xa,za.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(_o?1/0:5*60*1e3))}clearGcTimeout(){R(this,Xa)&&(za.clearTimeout(R(this,Xa)),re(this,Xa,void 0))}},Xa=new WeakMap,RW),Ja,Wl,jn,Za,sr,Rd,eo,Zn,Ui,$W,Iee=($W=class extends pV{constructor(e){super();pe(this,Zn);pe(this,Ja);pe(this,Wl);pe(this,jn);pe(this,Za);pe(this,sr);pe(this,Rd);pe(this,eo);re(this,eo,!1),re(this,Rd,e.defaultOptions),this.setOptions(e.options),this.observers=[],re(this,Za,e.client),re(this,jn,R(this,Za).getQueryCache()),this.queryKey=e.queryKey,this.queryHash=e.queryHash,re(this,Ja,sI(this.options)),this.state=e.state??R(this,Ja),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var e;return(e=R(this,sr))==null?void 0:e.promise}setOptions(e){if(this.options={...R(this,Rd),...e},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const r=sI(this.options);r.data!==void 0&&(this.setState(iI(r.data,r.dataUpdatedAt)),re(this,Ja,r))}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&R(this,jn).remove(this)}setData(e,r){const n=QN(this.state.data,e,this.options);return Oe(this,Zn,Ui).call(this,{data:n,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),n}setState(e,r){Oe(this,Zn,Ui).call(this,{type:"setState",state:e,setStateOptions:r})}cancel(e){var n,i;const r=(n=R(this,sr))==null?void 0:n.promise;return(i=R(this,sr))==null||i.cancel(e),r?r.then(Or).catch(Or):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(R(this,Ja))}isActive(){return this.observers.some(e=>Rn(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===zC||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(e=>oa(e.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(e=0){return this.state.data===void 0?!0:e==="static"?!1:this.state.isInvalidated?!0:!cV(this.state.dataUpdatedAt,e)}onFocus(){var r;const e=this.observers.find(n=>n.shouldFetchOnWindowFocus());e==null||e.refetch({cancelRefetch:!1}),(r=R(this,sr))==null||r.continue()}onOnline(){var r;const e=this.observers.find(n=>n.shouldFetchOnReconnect());e==null||e.refetch({cancelRefetch:!1}),(r=R(this,sr))==null||r.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),R(this,jn).notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(r=>r!==e),this.observers.length||(R(this,sr)&&(R(this,eo)?R(this,sr).cancel({revert:!0}):R(this,sr).cancelRetry()),this.scheduleGc()),R(this,jn).notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||Oe(this,Zn,Ui).call(this,{type:"invalidate"})}async fetch(e,r){var l,c,d,h,f,p,m,y,x,g,v,w;if(this.state.fetchStatus!=="idle"&&((l=R(this,sr))==null?void 0:l.status())!=="rejected"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(R(this,sr))return R(this,sr).continueRetry(),R(this,sr).promise}if(e&&this.setOptions(e),!this.options.queryFn){const b=this.observers.find(_=>_.options.queryFn);b&&this.setOptions(b.options)}const n=new AbortController,i=b=>{Object.defineProperty(b,"signal",{enumerable:!0,get:()=>(re(this,eo,!0),n.signal)})},s=()=>{const b=dV(this.options,r),E=(()=>{const N={client:R(this,Za),queryKey:this.queryKey,meta:this.meta};return i(N),N})();return re(this,eo,!1),this.options.persister?this.options.persister(b,E,this):b(E)},o=(()=>{const b={fetchOptions:r,options:this.options,queryKey:this.queryKey,client:R(this,Za),state:this.state,fetchFn:s};return i(b),b})();(c=this.options.behavior)==null||c.onFetch(o,this),re(this,Wl,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((d=o.fetchOptions)==null?void 0:d.meta))&&Oe(this,Zn,Ui).call(this,{type:"fetch",meta:(h=o.fetchOptions)==null?void 0:h.meta}),re(this,sr,fV({initialPromise:r==null?void 0:r.initialPromise,fn:o.fetchFn,onCancel:b=>{b instanceof JN&&b.revert&&this.setState({...R(this,Wl),fetchStatus:"idle"}),n.abort()},onFail:(b,_)=>{Oe(this,Zn,Ui).call(this,{type:"failed",failureCount:b,error:_})},onPause:()=>{Oe(this,Zn,Ui).call(this,{type:"pause"})},onContinue:()=>{Oe(this,Zn,Ui).call(this,{type:"continue"})},retry:o.options.retry,retryDelay:o.options.retryDelay,networkMode:o.options.networkMode,canRun:()=>!0}));try{const b=await R(this,sr).start();if(b===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(b),(p=(f=R(this,jn).config).onSuccess)==null||p.call(f,b,this),(y=(m=R(this,jn).config).onSettled)==null||y.call(m,b,this.state.error,this),b}catch(b){if(b instanceof JN){if(b.silent)return R(this,sr).promise;if(b.revert){if(this.state.data===void 0)throw b;return this.state.data}}throw Oe(this,Zn,Ui).call(this,{type:"error",error:b}),(g=(x=R(this,jn).config).onError)==null||g.call(x,b,this),(w=(v=R(this,jn).config).onSettled)==null||w.call(v,this.state.data,b,this),b}finally{this.scheduleGc()}}},Ja=new WeakMap,Wl=new WeakMap,jn=new WeakMap,Za=new WeakMap,sr=new WeakMap,Rd=new WeakMap,eo=new WeakMap,Zn=new WeakSet,Ui=function(e){const r=n=>{switch(e.type){case"failed":return{...n,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...mV(n.data,this.options),fetchMeta:e.meta??null};case"success":const i={...n,...iI(e.data,e.dataUpdatedAt),dataUpdateCount:n.dataUpdateCount+1,...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return re(this,Wl,e.manual?i:void 0),i;case"error":const s=e.error;return{...n,error:s,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:s,fetchStatus:"idle",status:"error",isInvalidated:!0};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...e.state}}};this.state=r(this.state),kt.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),R(this,jn).notify({query:this,type:"updated",action:e})})},$W);function mV(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:hV(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function iI(t,e){return{data:t,dataUpdatedAt:e??Date.now(),error:null,isInvalidated:!1,status:"success"}}function sI(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,r=e!==void 0,n=r?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:r?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var Gr,ze,$d,$r,to,Hl,Vi,Bs,kd,Vl,Kl,ro,no,zs,Gl,Ge,Ic,ZN,eO,tO,rO,nO,iO,sO,vV,kW,HC=(kW=class extends qo{constructor(e,r){super();pe(this,Ge);pe(this,Gr);pe(this,ze);pe(this,$d);pe(this,$r);pe(this,to);pe(this,Hl);pe(this,Vi);pe(this,Bs);pe(this,kd);pe(this,Vl);pe(this,Kl);pe(this,ro);pe(this,no);pe(this,zs);pe(this,Gl,new Set);this.options=r,re(this,Gr,e),re(this,Bs,null),re(this,Vi,XN()),this.bindMethods(),this.setOptions(r)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(R(this,ze).addObserver(this),aI(R(this,ze),this.options)?Oe(this,Ge,Ic).call(this):this.updateResult(),Oe(this,Ge,rO).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return aO(R(this,ze),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return aO(R(this,ze),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,Oe(this,Ge,nO).call(this),Oe(this,Ge,iO).call(this),R(this,ze).removeObserver(this)}setOptions(e){const r=this.options,n=R(this,ze);if(this.options=R(this,Gr).defaultQueryOptions(e),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof Rn(this.options.enabled,R(this,ze))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");Oe(this,Ge,sO).call(this),R(this,ze).setOptions(this.options),r._defaulted&&!bd(this.options,r)&&R(this,Gr).getQueryCache().notify({type:"observerOptionsUpdated",query:R(this,ze),observer:this});const i=this.hasListeners();i&&oI(R(this,ze),n,this.options,r)&&Oe(this,Ge,Ic).call(this),this.updateResult(),i&&(R(this,ze)!==n||Rn(this.options.enabled,R(this,ze))!==Rn(r.enabled,R(this,ze))||oa(this.options.staleTime,R(this,ze))!==oa(r.staleTime,R(this,ze)))&&Oe(this,Ge,ZN).call(this);const s=Oe(this,Ge,eO).call(this);i&&(R(this,ze)!==n||Rn(this.options.enabled,R(this,ze))!==Rn(r.enabled,R(this,ze))||s!==R(this,zs))&&Oe(this,Ge,tO).call(this,s)}getOptimisticResult(e){const r=R(this,Gr).getQueryCache().build(R(this,Gr),e),n=this.createResult(r,e);return $ee(this,n)&&(re(this,$r,n),re(this,Hl,this.options),re(this,to,R(this,ze).state)),n}getCurrentResult(){return R(this,$r)}trackResult(e,r){return new Proxy(e,{get:(n,i)=>(this.trackProp(i),r==null||r(i),i==="promise"&&(this.trackProp("data"),!this.options.experimental_prefetchInRender&&R(this,Vi).status==="pending"&&R(this,Vi).reject(new Error("experimental_prefetchInRender feature flag is not enabled"))),Reflect.get(n,i))})}trackProp(e){R(this,Gl).add(e)}getCurrentQuery(){return R(this,ze)}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){const r=R(this,Gr).defaultQueryOptions(e),n=R(this,Gr).getQueryCache().build(R(this,Gr),r);return n.fetch().then(()=>this.createResult(n,r))}fetch(e){return Oe(this,Ge,Ic).call(this,{...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),R(this,$r)))}createResult(e,r){var O;const n=R(this,ze),i=this.options,s=R(this,$r),a=R(this,to),o=R(this,Hl),c=e!==n?e.state:R(this,$d),{state:d}=e;let h={...d},f=!1,p;if(r._optimisticResults){const C=this.hasListeners(),T=!C&&aI(e,r),P=C&&oI(e,n,r,i);(T||P)&&(h={...h,...mV(d.data,e.options)}),r._optimisticResults==="isRestoring"&&(h.fetchStatus="idle")}let{error:m,errorUpdatedAt:y,status:x}=h;p=h.data;let g=!1;if(r.placeholderData!==void 0&&p===void 0&&x==="pending"){let C;s!=null&&s.isPlaceholderData&&r.placeholderData===(o==null?void 0:o.placeholderData)?(C=s.data,g=!0):C=typeof r.placeholderData=="function"?r.placeholderData((O=R(this,Kl))==null?void 0:O.state.data,R(this,Kl)):r.placeholderData,C!==void 0&&(x="success",p=QN(s==null?void 0:s.data,C,r),f=!0)}if(r.select&&p!==void 0&&!g)if(s&&p===(a==null?void 0:a.data)&&r.select===R(this,kd))p=R(this,Vl);else try{re(this,kd,r.select),p=r.select(p),p=QN(s==null?void 0:s.data,p,r),re(this,Vl,p),re(this,Bs,null)}catch(C){re(this,Bs,C)}R(this,Bs)&&(m=R(this,Bs),p=R(this,Vl),y=Date.now(),x="error");const v=h.fetchStatus==="fetching",w=x==="pending",b=x==="error",_=w&&v,E=p!==void 0,S={status:x,fetchStatus:h.fetchStatus,isPending:w,isSuccess:x==="success",isError:b,isInitialLoading:_,isLoading:_,data:p,dataUpdatedAt:h.dataUpdatedAt,error:m,errorUpdatedAt:y,failureCount:h.fetchFailureCount,failureReason:h.fetchFailureReason,errorUpdateCount:h.errorUpdateCount,isFetched:h.dataUpdateCount>0||h.errorUpdateCount>0,isFetchedAfterMount:h.dataUpdateCount>c.dataUpdateCount||h.errorUpdateCount>c.errorUpdateCount,isFetching:v,isRefetching:v&&!w,isLoadingError:b&&!E,isPaused:h.fetchStatus==="paused",isPlaceholderData:f,isRefetchError:b&&E,isStale:VC(e,r),refetch:this.refetch,promise:R(this,Vi),isEnabled:Rn(r.enabled,e)!==!1};if(this.options.experimental_prefetchInRender){const C=j=>{S.status==="error"?j.reject(S.error):S.data!==void 0&&j.resolve(S.data)},T=()=>{const j=re(this,Vi,S.promise=XN());C(j)},P=R(this,Vi);switch(P.status){case"pending":e.queryHash===n.queryHash&&C(P);break;case"fulfilled":(S.status==="error"||S.data!==P.value)&&T();break;case"rejected":(S.status!=="error"||S.error!==P.reason)&&T();break}}return S}updateResult(){const e=R(this,$r),r=this.createResult(R(this,ze),this.options);if(re(this,to,R(this,ze).state),re(this,Hl,this.options),R(this,to).data!==void 0&&re(this,Kl,R(this,ze)),bd(r,e))return;re(this,$r,r);const n=()=>{if(!e)return!0;const{notifyOnChangeProps:i}=this.options,s=typeof i=="function"?i():i;if(s==="all"||!s&&!R(this,Gl).size)return!0;const a=new Set(s??R(this,Gl));return this.options.throwOnError&&a.add("error"),Object.keys(R(this,$r)).some(o=>{const l=o;return R(this,$r)[l]!==e[l]&&a.has(l)})};Oe(this,Ge,vV).call(this,{listeners:n()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&Oe(this,Ge,rO).call(this)}},Gr=new WeakMap,ze=new WeakMap,$d=new WeakMap,$r=new WeakMap,to=new WeakMap,Hl=new WeakMap,Vi=new WeakMap,Bs=new WeakMap,kd=new WeakMap,Vl=new WeakMap,Kl=new WeakMap,ro=new WeakMap,no=new WeakMap,zs=new WeakMap,Gl=new WeakMap,Ge=new WeakSet,Ic=function(e){Oe(this,Ge,sO).call(this);let r=R(this,ze).fetch(this.options,e);return e!=null&&e.throwOnError||(r=r.catch(Or)),r},ZN=function(){Oe(this,Ge,nO).call(this);const e=oa(this.options.staleTime,R(this,ze));if(_o||R(this,$r).isStale||!GN(e))return;const n=cV(R(this,$r).dataUpdatedAt,e)+1;re(this,ro,za.setTimeout(()=>{R(this,$r).isStale||this.updateResult()},n))},eO=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(R(this,ze)):this.options.refetchInterval)??!1},tO=function(e){Oe(this,Ge,iO).call(this),re(this,zs,e),!(_o||Rn(this.options.enabled,R(this,ze))===!1||!GN(R(this,zs))||R(this,zs)===0)&&re(this,no,za.setInterval(()=>{(this.options.refetchIntervalInBackground||WC.isFocused())&&Oe(this,Ge,Ic).call(this)},R(this,zs)))},rO=function(){Oe(this,Ge,ZN).call(this),Oe(this,Ge,tO).call(this,Oe(this,Ge,eO).call(this))},nO=function(){R(this,ro)&&(za.clearTimeout(R(this,ro)),re(this,ro,void 0))},iO=function(){R(this,no)&&(za.clearInterval(R(this,no)),re(this,no,void 0))},sO=function(){const e=R(this,Gr).getQueryCache().build(R(this,Gr),this.options);if(e===R(this,ze))return;const r=R(this,ze);re(this,ze,e),re(this,$d,e.state),this.hasListeners()&&(r==null||r.removeObserver(this),e.addObserver(this))},vV=function(e){kt.batch(()=>{e.listeners&&this.listeners.forEach(r=>{r(R(this,$r))}),R(this,Gr).getQueryCache().notify({query:R(this,ze),type:"observerResultsUpdated"})})},kW);function Ree(t,e){return Rn(e.enabled,t)!==!1&&t.state.data===void 0&&!(t.state.status==="error"&&e.retryOnMount===!1)}function aI(t,e){return Ree(t,e)||t.state.data!==void 0&&aO(t,e,e.refetchOnMount)}function aO(t,e,r){if(Rn(e.enabled,t)!==!1&&oa(e.staleTime,t)!=="static"){const n=typeof r=="function"?r(t):r;return n==="always"||n!==!1&&VC(t,e)}return!1}function oI(t,e,r,n){return(t!==e||Rn(n.enabled,t)===!1)&&(!r.suspense||t.state.status!=="error")&&VC(t,r)}function VC(t,e){return Rn(e.enabled,t)!==!1&&t.isStaleByTime(oa(e.staleTime,t))}function $ee(t,e){return!bd(t.getCurrentResult(),e)}function lI(t){return{onFetch:(e,r)=>{var d,h,f,p,m;const n=e.options,i=(f=(h=(d=e.fetchOptions)==null?void 0:d.meta)==null?void 0:h.fetchMore)==null?void 0:f.direction,s=((p=e.state.data)==null?void 0:p.pages)||[],a=((m=e.state.data)==null?void 0:m.pageParams)||[];let o={pages:[],pageParams:[]},l=0;const c=async()=>{let y=!1;const x=w=>{Nee(w,()=>e.signal,()=>y=!0)},g=dV(e.options,e.fetchOptions),v=async(w,b,_)=>{if(y)return Promise.reject();if(b==null&&w.pages.length)return Promise.resolve(w);const N=(()=>{const T={client:e.client,queryKey:e.queryKey,pageParam:b,direction:_?"backward":"forward",meta:e.options.meta};return x(T),T})(),S=await g(N),{maxPages:O}=e.options,C=_?Eee:See;return{pages:C(w.pages,S,O),pageParams:C(w.pageParams,b,O)}};if(i&&s.length){const w=i==="backward",b=w?kee:uI,_={pages:s,pageParams:a},E=b(n,_);o=await v(_,E,w)}else{const w=t??s.length;do{const b=l===0?a[0]??n.initialPageParam:uI(n,o);if(l>0&&b==null)break;o=await v(o,b),l++}while(l<w)}return o};e.options.persister?e.fetchFn=()=>{var y,x;return(x=(y=e.options).persister)==null?void 0:x.call(y,c,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},r)}:e.fetchFn=c}}}function uI(t,{pages:e,pageParams:r}){const n=e.length-1;return e.length>0?t.getNextPageParam(e[n],e,r[n],r):void 0}function kee(t,{pages:e,pageParams:r}){var n;return e.length>0?(n=t.getPreviousPageParam)==null?void 0:n.call(t,e[0],e,r[0],r):void 0}var Dd,_i,kr,io,Si,js,DW,Dee=(DW=class extends pV{constructor(e){super();pe(this,Si);pe(this,Dd);pe(this,_i);pe(this,kr);pe(this,io);re(this,Dd,e.client),this.mutationId=e.mutationId,re(this,kr,e.mutationCache),re(this,_i,[]),this.state=e.state||gV(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){R(this,_i).includes(e)||(R(this,_i).push(e),this.clearGcTimeout(),R(this,kr).notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){re(this,_i,R(this,_i).filter(r=>r!==e)),this.scheduleGc(),R(this,kr).notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){R(this,_i).length||(this.state.status==="pending"?this.scheduleGc():R(this,kr).remove(this))}continue(){var e;return((e=R(this,io))==null?void 0:e.continue())??this.execute(this.state.variables)}async execute(e){var a,o,l,c,d,h,f,p,m,y,x,g,v,w,b,_,E,N,S,O;const r=()=>{Oe(this,Si,js).call(this,{type:"continue"})},n={client:R(this,Dd),meta:this.options.meta,mutationKey:this.options.mutationKey};re(this,io,fV({fn:()=>this.options.mutationFn?this.options.mutationFn(e,n):Promise.reject(new Error("No mutationFn found")),onFail:(C,T)=>{Oe(this,Si,js).call(this,{type:"failed",failureCount:C,error:T})},onPause:()=>{Oe(this,Si,js).call(this,{type:"pause"})},onContinue:r,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>R(this,kr).canRun(this)}));const i=this.state.status==="pending",s=!R(this,io).canStart();try{if(i)r();else{Oe(this,Si,js).call(this,{type:"pending",variables:e,isPaused:s}),await((o=(a=R(this,kr).config).onMutate)==null?void 0:o.call(a,e,this,n));const T=await((c=(l=this.options).onMutate)==null?void 0:c.call(l,e,n));T!==this.state.context&&Oe(this,Si,js).call(this,{type:"pending",context:T,variables:e,isPaused:s})}const C=await R(this,io).start();return await((h=(d=R(this,kr).config).onSuccess)==null?void 0:h.call(d,C,e,this.state.context,this,n)),await((p=(f=this.options).onSuccess)==null?void 0:p.call(f,C,e,this.state.context,n)),await((y=(m=R(this,kr).config).onSettled)==null?void 0:y.call(m,C,null,this.state.variables,this.state.context,this,n)),await((g=(x=this.options).onSettled)==null?void 0:g.call(x,C,null,e,this.state.context,n)),Oe(this,Si,js).call(this,{type:"success",data:C}),C}catch(C){try{await((w=(v=R(this,kr).config).onError)==null?void 0:w.call(v,C,e,this.state.context,this,n))}catch(T){Promise.reject(T)}try{await((_=(b=this.options).onError)==null?void 0:_.call(b,C,e,this.state.context,n))}catch(T){Promise.reject(T)}try{await((N=(E=R(this,kr).config).onSettled)==null?void 0:N.call(E,void 0,C,this.state.variables,this.state.context,this,n))}catch(T){Promise.reject(T)}try{await((O=(S=this.options).onSettled)==null?void 0:O.call(S,void 0,C,e,this.state.context,n))}catch(T){Promise.reject(T)}throw Oe(this,Si,js).call(this,{type:"error",error:C}),C}finally{R(this,kr).runNext(this)}}},Dd=new WeakMap,_i=new WeakMap,kr=new WeakMap,io=new WeakMap,Si=new WeakSet,js=function(e){const r=n=>{switch(e.type){case"failed":return{...n,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...n,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:e.error,failureCount:n.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=r(this.state),kt.batch(()=>{R(this,_i).forEach(n=>{n.onMutationUpdate(e)}),R(this,kr).notify({mutation:this,type:"updated",action:e})})},DW);function gV(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Ki,ei,Md,MW,Mee=(MW=class extends qo{constructor(e={}){super();pe(this,Ki);pe(this,ei);pe(this,Md);this.config=e,re(this,Ki,new Set),re(this,ei,new Map),re(this,Md,0)}build(e,r,n){const i=new Dee({client:e,mutationCache:this,mutationId:++Dh(this,Md)._,options:e.defaultMutationOptions(r),state:n});return this.add(i),i}add(e){R(this,Ki).add(e);const r=Zh(e);if(typeof r=="string"){const n=R(this,ei).get(r);n?n.push(e):R(this,ei).set(r,[e])}this.notify({type:"added",mutation:e})}remove(e){if(R(this,Ki).delete(e)){const r=Zh(e);if(typeof r=="string"){const n=R(this,ei).get(r);if(n)if(n.length>1){const i=n.indexOf(e);i!==-1&&n.splice(i,1)}else n[0]===e&&R(this,ei).delete(r)}}this.notify({type:"removed",mutation:e})}canRun(e){const r=Zh(e);if(typeof r=="string"){const n=R(this,ei).get(r),i=n==null?void 0:n.find(s=>s.state.status==="pending");return!i||i===e}else return!0}runNext(e){var n;const r=Zh(e);if(typeof r=="string"){const i=(n=R(this,ei).get(r))==null?void 0:n.find(s=>s!==e&&s.state.isPaused);return(i==null?void 0:i.continue())??Promise.resolve()}else return Promise.resolve()}clear(){kt.batch(()=>{R(this,Ki).forEach(e=>{this.notify({type:"removed",mutation:e})}),R(this,Ki).clear(),R(this,ei).clear()})}getAll(){return Array.from(R(this,Ki))}find(e){const r={exact:!0,...e};return this.getAll().find(n=>tI(r,n))}findAll(e={}){return this.getAll().filter(r=>tI(e,r))}notify(e){kt.batch(()=>{this.listeners.forEach(r=>{r(e)})})}resumePausedMutations(){const e=this.getAll().filter(r=>r.state.isPaused);return kt.batch(()=>Promise.all(e.map(r=>r.continue().catch(Or))))}},Ki=new WeakMap,ei=new WeakMap,Md=new WeakMap,MW);function Zh(t){var e;return(e=t.options.scope)==null?void 0:e.id}var Gi,Us,Yr,Yi,cs,Nf,oO,qW,qee=(qW=class extends qo{constructor(e,r){super();pe(this,cs);pe(this,Gi);pe(this,Us);pe(this,Yr);pe(this,Yi);re(this,Gi,e),this.setOptions(r),this.bindMethods(),Oe(this,cs,Nf).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(e){var n;const r=this.options;this.options=R(this,Gi).defaultMutationOptions(e),bd(this.options,r)||R(this,Gi).getMutationCache().notify({type:"observerOptionsUpdated",mutation:R(this,Yr),observer:this}),r!=null&&r.mutationKey&&this.options.mutationKey&&So(r.mutationKey)!==So(this.options.mutationKey)?this.reset():((n=R(this,Yr))==null?void 0:n.state.status)==="pending"&&R(this,Yr).setOptions(this.options)}onUnsubscribe(){var e;this.hasListeners()||(e=R(this,Yr))==null||e.removeObserver(this)}onMutationUpdate(e){Oe(this,cs,Nf).call(this),Oe(this,cs,oO).call(this,e)}getCurrentResult(){return R(this,Us)}reset(){var e;(e=R(this,Yr))==null||e.removeObserver(this),re(this,Yr,void 0),Oe(this,cs,Nf).call(this),Oe(this,cs,oO).call(this)}mutate(e,r){var n;return re(this,Yi,r),(n=R(this,Yr))==null||n.removeObserver(this),re(this,Yr,R(this,Gi).getMutationCache().build(R(this,Gi),this.options)),R(this,Yr).addObserver(this),R(this,Yr).execute(e)}},Gi=new WeakMap,Us=new WeakMap,Yr=new WeakMap,Yi=new WeakMap,cs=new WeakSet,Nf=function(){var r;const e=((r=R(this,Yr))==null?void 0:r.state)??gV();re(this,Us,{...e,isPending:e.status==="pending",isSuccess:e.status==="success",isError:e.status==="error",isIdle:e.status==="idle",mutate:this.mutate,reset:this.reset})},oO=function(e){kt.batch(()=>{var r,n,i,s,a,o,l,c;if(R(this,Yi)&&this.hasListeners()){const d=R(this,Us).variables,h=R(this,Us).context,f={client:R(this,Gi),meta:this.options.meta,mutationKey:this.options.mutationKey};if((e==null?void 0:e.type)==="success"){try{(n=(r=R(this,Yi)).onSuccess)==null||n.call(r,e.data,d,h,f)}catch(p){Promise.reject(p)}try{(s=(i=R(this,Yi)).onSettled)==null||s.call(i,e.data,null,d,h,f)}catch(p){Promise.reject(p)}}else if((e==null?void 0:e.type)==="error"){try{(o=(a=R(this,Yi)).onError)==null||o.call(a,e.error,d,h,f)}catch(p){Promise.reject(p)}try{(c=(l=R(this,Yi)).onSettled)==null||c.call(l,void 0,e.error,d,h,f)}catch(p){Promise.reject(p)}}}this.listeners.forEach(d=>{d(R(this,Us))})})},qW);function cI(t,e){const r=new Set(e);return t.filter(n=>!r.has(n))}function Aee(t,e,r){const n=t.slice(0);return n[e]=r,n}var Yl,fn,Ql,Xl,In,Ws,qd,Ad,Fd,xr,lO,uO,cO,dO,hO,AW,Fee=(AW=class extends qo{constructor(e,r,n){super();pe(this,xr);pe(this,Yl);pe(this,fn);pe(this,Ql);pe(this,Xl);pe(this,In);pe(this,Ws);pe(this,qd);pe(this,Ad);pe(this,Fd,[]);re(this,Yl,e),re(this,Xl,n),re(this,Ql,[]),re(this,In,[]),re(this,fn,[]),this.setQueries(r)}onSubscribe(){this.listeners.size===1&&R(this,In).forEach(e=>{e.subscribe(r=>{Oe(this,xr,dO).call(this,e,r)})})}onUnsubscribe(){this.listeners.size||this.destroy()}destroy(){this.listeners=new Set,R(this,In).forEach(e=>{e.destroy()})}setQueries(e,r){re(this,Ql,e),re(this,Xl,r),kt.batch(()=>{const n=R(this,In),i=Oe(this,xr,cO).call(this,R(this,Ql));i.forEach(h=>h.observer.setOptions(h.defaultedQueryOptions));const s=i.map(h=>h.observer),a=s.map(h=>h.getCurrentResult()),o=n.length!==s.length,l=s.some((h,f)=>h!==n[f]),c=o||l,d=c?!0:a.some((h,f)=>{const p=R(this,fn)[f];return!p||!bd(h,p)});!c&&!d||(c&&(re(this,Fd,i),re(this,In,s)),re(this,fn,a),this.hasListeners()&&(c&&(cI(n,s).forEach(h=>{h.destroy()}),cI(s,n).forEach(h=>{h.subscribe(f=>{Oe(this,xr,dO).call(this,h,f)})})),Oe(this,xr,hO).call(this)))})}getCurrentResult(){return R(this,fn)}getQueries(){return R(this,In).map(e=>e.getCurrentQuery())}getObservers(){return R(this,In)}getOptimisticResult(e,r){const n=Oe(this,xr,cO).call(this,e),i=n.map(s=>s.observer.getOptimisticResult(s.defaultedQueryOptions));return[i,s=>Oe(this,xr,uO).call(this,s??i,r),()=>Oe(this,xr,lO).call(this,i,n)]}},Yl=new WeakMap,fn=new WeakMap,Ql=new WeakMap,Xl=new WeakMap,In=new WeakMap,Ws=new WeakMap,qd=new WeakMap,Ad=new WeakMap,Fd=new WeakMap,xr=new WeakSet,lO=function(e,r){return r.map((n,i)=>{const s=e[i];return n.defaultedQueryOptions.notifyOnChangeProps?s:n.observer.trackResult(s,a=>{r.forEach(o=>{o.observer.trackProp(a)})})})},uO=function(e,r){return r?((!R(this,Ws)||R(this,fn)!==R(this,Ad)||r!==R(this,qd))&&(re(this,qd,r),re(this,Ad,R(this,fn)),re(this,Ws,BC(R(this,Ws),r(e)))),R(this,Ws)):e},cO=function(e){const r=new Map;R(this,In).forEach(i=>{const s=i.options.queryHash;if(!s)return;const a=r.get(s);a?a.push(i):r.set(s,[i])});const n=[];return e.forEach(i=>{var l;const s=R(this,Yl).defaultQueryOptions(i),o=((l=r.get(s.queryHash))==null?void 0:l.shift())??new HC(R(this,Yl),s);n.push({defaultedQueryOptions:s,observer:o})}),n},dO=function(e,r){const n=R(this,In).indexOf(e);n!==-1&&(re(this,fn,Aee(R(this,fn),n,r)),Oe(this,xr,hO).call(this))},hO=function(){var e;if(this.hasListeners()){const r=R(this,Ws),n=Oe(this,xr,lO).call(this,R(this,fn),R(this,Fd)),i=Oe(this,xr,uO).call(this,n,(e=R(this,Xl))==null?void 0:e.combine);r!==i&&kt.batch(()=>{this.listeners.forEach(s=>{s(R(this,fn))})})}},AW),Ei,FW,Lee=(FW=class extends qo{constructor(e={}){super();pe(this,Ei);this.config=e,re(this,Ei,new Map)}build(e,r,n){const i=r.queryKey,s=r.queryHash??LC(i,r);let a=this.get(s);return a||(a=new Iee({client:e,queryKey:i,queryHash:s,options:e.defaultQueryOptions(r),state:n,defaultOptions:e.getQueryDefaults(i)}),this.add(a)),a}add(e){R(this,Ei).has(e.queryHash)||(R(this,Ei).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const r=R(this,Ei).get(e.queryHash);r&&(e.destroy(),r===e&&R(this,Ei).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){kt.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return R(this,Ei).get(e)}getAll(){return[...R(this,Ei).values()]}find(e){const r={exact:!0,...e};return this.getAll().find(n=>eI(r,n))}findAll(e={}){const r=this.getAll();return Object.keys(e).length>0?r.filter(n=>eI(e,n)):r}notify(e){kt.batch(()=>{this.listeners.forEach(r=>{r(e)})})}onFocus(){kt.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){kt.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},Ei=new WeakMap,FW),jt,Hs,Vs,Jl,Zl,Ks,eu,tu,LW,Bee=(LW=class{constructor(t={}){pe(this,jt);pe(this,Hs);pe(this,Vs);pe(this,Jl);pe(this,Zl);pe(this,Ks);pe(this,eu);pe(this,tu);re(this,jt,t.queryCache||new Lee),re(this,Hs,t.mutationCache||new Mee),re(this,Vs,t.defaultOptions||{}),re(this,Jl,new Map),re(this,Zl,new Map),re(this,Ks,0)}mount(){Dh(this,Ks)._++,R(this,Ks)===1&&(re(this,eu,WC.subscribe(async t=>{t&&(await this.resumePausedMutations(),R(this,jt).onFocus())})),re(this,tu,op.subscribe(async t=>{t&&(await this.resumePausedMutations(),R(this,jt).onOnline())})))}unmount(){var t,e;Dh(this,Ks)._--,R(this,Ks)===0&&((t=R(this,eu))==null||t.call(this),re(this,eu,void 0),(e=R(this,tu))==null||e.call(this),re(this,tu,void 0))}isFetching(t){return R(this,jt).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return R(this,Hs).findAll({...t,status:"pending"}).length}getQueryData(t){var r;const e=this.defaultQueryOptions({queryKey:t});return(r=R(this,jt).get(e.queryHash))==null?void 0:r.state.data}ensureQueryData(t){const e=this.defaultQueryOptions(t),r=R(this,jt).build(this,e),n=r.state.data;return n===void 0?this.fetchQuery(t):(t.revalidateIfStale&&r.isStaleByTime(oa(e.staleTime,r))&&this.prefetchQuery(e),Promise.resolve(n))}getQueriesData(t){return R(this,jt).findAll(t).map(({queryKey:e,state:r})=>{const n=r.data;return[e,n]})}setQueryData(t,e,r){const n=this.defaultQueryOptions({queryKey:t}),i=R(this,jt).get(n.queryHash),s=i==null?void 0:i.state.data,a=xee(e,s);if(a!==void 0)return R(this,jt).build(this,n).setData(a,{...r,manual:!0})}setQueriesData(t,e,r){return kt.batch(()=>R(this,jt).findAll(t).map(({queryKey:n})=>[n,this.setQueryData(n,e,r)]))}getQueryState(t){var r;const e=this.defaultQueryOptions({queryKey:t});return(r=R(this,jt).get(e.queryHash))==null?void 0:r.state}removeQueries(t){const e=R(this,jt);kt.batch(()=>{e.findAll(t).forEach(r=>{e.remove(r)})})}resetQueries(t,e){const r=R(this,jt);return kt.batch(()=>(r.findAll(t).forEach(n=>{n.reset()}),this.refetchQueries({type:"active",...t},e)))}cancelQueries(t,e={}){const r={revert:!0,...e},n=kt.batch(()=>R(this,jt).findAll(t).map(i=>i.cancel(r)));return Promise.all(n).then(Or).catch(Or)}invalidateQueries(t,e={}){return kt.batch(()=>(R(this,jt).findAll(t).forEach(r=>{r.invalidate()}),(t==null?void 0:t.refetchType)==="none"?Promise.resolve():this.refetchQueries({...t,type:(t==null?void 0:t.refetchType)??(t==null?void 0:t.type)??"active"},e)))}refetchQueries(t,e={}){const r={...e,cancelRefetch:e.cancelRefetch??!0},n=kt.batch(()=>R(this,jt).findAll(t).filter(i=>!i.isDisabled()&&!i.isStatic()).map(i=>{let s=i.fetch(void 0,r);return r.throwOnError||(s=s.catch(Or)),i.state.fetchStatus==="paused"?Promise.resolve():s}));return Promise.all(n).then(Or)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const r=R(this,jt).build(this,e);return r.isStaleByTime(oa(e.staleTime,r))?r.fetch(e):Promise.resolve(r.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(Or).catch(Or)}fetchInfiniteQuery(t){return t.behavior=lI(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(Or).catch(Or)}ensureInfiniteQueryData(t){return t.behavior=lI(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return op.isOnline()?R(this,Hs).resumePausedMutations():Promise.resolve()}getQueryCache(){return R(this,jt)}getMutationCache(){return R(this,Hs)}getDefaultOptions(){return R(this,Vs)}setDefaultOptions(t){re(this,Vs,t)}setQueryDefaults(t,e){R(this,Jl).set(So(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...R(this,Jl).values()],r={};return e.forEach(n=>{yd(t,n.queryKey)&&Object.assign(r,n.defaultOptions)}),r}setMutationDefaults(t,e){R(this,Zl).set(So(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...R(this,Zl).values()],r={};return e.forEach(n=>{yd(t,n.mutationKey)&&Object.assign(r,n.defaultOptions)}),r}defaultQueryOptions(t){if(t._defaulted)return t;const e={...R(this,Vs).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=LC(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===zC&&(e.enabled=!1),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...R(this,Vs).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){R(this,jt).clear(),R(this,Hs).clear()}},jt=new WeakMap,Hs=new WeakMap,Vs=new WeakMap,Jl=new WeakMap,Zl=new WeakMap,Ks=new WeakMap,eu=new WeakMap,tu=new WeakMap,LW),yV=I.createContext(void 0),pt=t=>{const e=I.useContext(yV);if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},zee=({client:t,children:e})=>(I.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),u.jsx(yV.Provider,{value:t,children:e})),bV=I.createContext(!1),xV=()=>I.useContext(bV);bV.Provider;function Uee(){let t=!1;return{clearReset:()=>{t=!1},reset:()=>{t=!0},isReset:()=>t}}var Wee=I.createContext(Uee()),wV=()=>I.useContext(Wee),_V=(t,e,r)=>{const n=r!=null&&r.state.error&&typeof t.throwOnError=="function"?UC(t.throwOnError,[r.state.error,r]):t.throwOnError;(t.suspense||t.experimental_prefetchInRender||n)&&(e.isReset()||(t.retryOnMount=!1))},SV=t=>{I.useEffect(()=>{t.clearReset()},[t])},EV=({result:t,errorResetBoundary:e,throwOnError:r,query:n,suspense:i})=>t.isError&&!e.isReset()&&!t.isFetching&&n&&(i&&t.data===void 0||UC(r,[t.error,n])),NV=t=>{if(t.suspense){const r=i=>i==="static"?i:Math.max(i??1e3,1e3),n=t.staleTime;t.staleTime=typeof n=="function"?(...i)=>r(n(...i)):r(n),typeof t.gcTime=="number"&&(t.gcTime=Math.max(t.gcTime,1e3))}},OV=(t,e)=>t.isLoading&&t.isFetching&&!e,fO=(t,e)=>(t==null?void 0:t.suspense)&&e.isPending,lp=(t,e,r)=>e.fetchOptimistic(t).catch(()=>{r.clearReset()});function up({queries:t,...e},r){const n=pt(),i=xV(),s=wV(),a=I.useMemo(()=>t.map(y=>{const x=n.defaultQueryOptions(y);return x._optimisticResults=i?"isRestoring":"optimistic",x}),[t,n,i]);a.forEach(y=>{NV(y);const x=n.getQueryCache().get(y.queryHash);_V(y,s,x)}),SV(s);const[o]=I.useState(()=>new Fee(n,a,e)),[l,c,d]=o.getOptimisticResult(a,e.combine),h=!i&&e.subscribed!==!1;I.useSyncExternalStore(I.useCallback(y=>h?o.subscribe(kt.batchCalls(y)):Or,[o,h]),()=>o.getCurrentResult(),()=>o.getCurrentResult()),I.useEffect(()=>{o.setQueries(a,e)},[a,e,o]);const p=l.some((y,x)=>fO(a[x],y))?l.flatMap((y,x)=>{const g=a[x];if(g){const v=new HC(n,g);if(fO(g,y))return lp(g,v,s);OV(y,i)&&lp(g,v,s)}return[]}):[];if(p.length>0)throw Promise.all(p);const m=l.find((y,x)=>{const g=a[x];return g&&EV({result:y,errorResetBoundary:s,throwOnError:g.throwOnError,query:n.getQueryCache().get(g.queryHash),suspense:g.suspense})});if(m!=null&&m.error)throw m.error;return c(d())}function Hee(t,e,r){var f,p,m,y;const n=xV(),i=wV(),s=pt(),a=s.defaultQueryOptions(t);(p=(f=s.getDefaultOptions().queries)==null?void 0:f._experimental_beforeQuery)==null||p.call(f,a);const o=s.getQueryCache().get(a.queryHash);a._optimisticResults=n?"isRestoring":"optimistic",NV(a),_V(a,i,o),SV(i);const l=!s.getQueryCache().get(a.queryHash),[c]=I.useState(()=>new e(s,a)),d=c.getOptimisticResult(a),h=!n&&t.subscribed!==!1;if(I.useSyncExternalStore(I.useCallback(x=>{const g=h?c.subscribe(kt.batchCalls(x)):Or;return c.updateResult(),g},[c,h]),()=>c.getCurrentResult(),()=>c.getCurrentResult()),I.useEffect(()=>{c.setOptions(a)},[a,c]),fO(a,d))throw lp(a,c,i);if(EV({result:d,errorResetBoundary:i,throwOnError:a.throwOnError,query:o,suspense:a.suspense}))throw d.error;if((y=(m=s.getDefaultOptions().queries)==null?void 0:m._experimental_afterQuery)==null||y.call(m,a,d),a.experimental_prefetchInRender&&!_o&&OV(d,n)){const x=l?lp(a,c,i):o==null?void 0:o.promise;x==null||x.catch(Or).finally(()=>{c.updateResult()})}return a.notifyOnChangeProps?d:c.trackResult(d)}function yt(t,e){return Hee(t,HC)}function Xe(t,e){const r=pt(),[n]=I.useState(()=>new qee(r,t));I.useEffect(()=>{n.setOptions(t)},[n,t]);const i=I.useSyncExternalStore(I.useCallback(a=>n.subscribe(kt.batchCalls(a)),[n]),()=>n.getCurrentResult(),()=>n.getCurrentResult()),s=I.useCallback((a,o)=>{n.mutate(a,o).catch(Or)},[n]);if(i.error&&UC(n.options.throwOnError,[i.error]))throw i.error;return{...i,mutate:s,mutateAsync:i.mutate}}function KC(){const t=window.prmConfig||{};return I.useMemo(()=>({isLoggedIn:t.isLoggedIn||!1,userId:t.userId||null,loginUrl:t.loginUrl||"/wp-login.php",logoutUrl:t.logoutUrl||"/wp-login.php?action=logout",isLoading:!1}),[t.isLoggedIn,t.userId,t.loginUrl,t.logoutUrl])}function CV(t,e){return function(){return t.apply(e,arguments)}}const{toString:Vee}=Object.prototype,{getPrototypeOf:GC}=Object,{iterator:Xp,toStringTag:PV}=Symbol,Jp=(t=>e=>{const r=Vee.call(e);return t[r]||(t[r]=r.slice(8,-1).toLowerCase())})(Object.create(null)),pi=t=>(t=t.toLowerCase(),e=>Jp(e)===t),Zp=t=>e=>typeof e===t,{isArray:Tu}=Array,cu=Zp("undefined");function Hd(t){return t!==null&&!cu(t)&&t.constructor!==null&&!cu(t.constructor)&&sn(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const TV=pi("ArrayBuffer");function Kee(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&TV(t.buffer),e}const Gee=Zp("string"),sn=Zp("function"),jV=Zp("number"),Vd=t=>t!==null&&typeof t=="object",Yee=t=>t===!0||t===!1,Of=t=>{if(Jp(t)!=="object")return!1;const e=GC(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(PV in t)&&!(Xp in t)},Qee=t=>{if(!Vd(t)||Hd(t))return!1;try{return Object.keys(t).length===0&&Object.getPrototypeOf(t)===Object.prototype}catch{return!1}},Xee=pi("Date"),Jee=pi("File"),Zee=pi("Blob"),ete=pi("FileList"),tte=t=>Vd(t)&&sn(t.pipe),rte=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||sn(t.append)&&((e=Jp(t))==="formdata"||e==="object"&&sn(t.toString)&&t.toString()==="[object FormData]"))},nte=pi("URLSearchParams"),[ite,ste,ate,ote]=["ReadableStream","Request","Response","Headers"].map(pi),lte=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Kd(t,e,{allOwnKeys:r=!1}={}){if(t===null||typeof t>"u")return;let n,i;if(typeof t!="object"&&(t=[t]),Tu(t))for(n=0,i=t.length;n<i;n++)e.call(null,t[n],n,t);else{if(Hd(t))return;const s=r?Object.getOwnPropertyNames(t):Object.keys(t),a=s.length;let o;for(n=0;n<a;n++)o=s[n],e.call(null,t[o],o,t)}}function IV(t,e){if(Hd(t))return null;e=e.toLowerCase();const r=Object.keys(t);let n=r.length,i;for(;n-- >0;)if(i=r[n],e===i.toLowerCase())return i;return null}const Ua=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,RV=t=>!cu(t)&&t!==Ua;function pO(){const{caseless:t,skipUndefined:e}=RV(this)&&this||{},r={},n=(i,s)=>{const a=t&&IV(r,s)||s;Of(r[a])&&Of(i)?r[a]=pO(r[a],i):Of(i)?r[a]=pO({},i):Tu(i)?r[a]=i.slice():(!e||!cu(i))&&(r[a]=i)};for(let i=0,s=arguments.length;i<s;i++)arguments[i]&&Kd(arguments[i],n);return r}const ute=(t,e,r,{allOwnKeys:n}={})=>(Kd(e,(i,s)=>{r&&sn(i)?t[s]=CV(i,r):t[s]=i},{allOwnKeys:n}),t),cte=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),dte=(t,e,r,n)=>{t.prototype=Object.create(e.prototype,n),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),r&&Object.assign(t.prototype,r)},hte=(t,e,r,n)=>{let i,s,a;const o={};if(e=e||{},t==null)return e;do{for(i=Object.getOwnPropertyNames(t),s=i.length;s-- >0;)a=i[s],(!n||n(a,t,e))&&!o[a]&&(e[a]=t[a],o[a]=!0);t=r!==!1&&GC(t)}while(t&&(!r||r(t,e))&&t!==Object.prototype);return e},fte=(t,e,r)=>{t=String(t),(r===void 0||r>t.length)&&(r=t.length),r-=e.length;const n=t.indexOf(e,r);return n!==-1&&n===r},pte=t=>{if(!t)return null;if(Tu(t))return t;let e=t.length;if(!jV(e))return null;const r=new Array(e);for(;e-- >0;)r[e]=t[e];return r},mte=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&GC(Uint8Array)),vte=(t,e)=>{const n=(t&&t[Xp]).call(t);let i;for(;(i=n.next())&&!i.done;){const s=i.value;e.call(t,s[0],s[1])}},gte=(t,e)=>{let r;const n=[];for(;(r=t.exec(e))!==null;)n.push(r);return n},yte=pi("HTMLFormElement"),bte=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(r,n,i){return n.toUpperCase()+i}),dI=(({hasOwnProperty:t})=>(e,r)=>t.call(e,r))(Object.prototype),xte=pi("RegExp"),$V=(t,e)=>{const r=Object.getOwnPropertyDescriptors(t),n={};Kd(r,(i,s)=>{let a;(a=e(i,s,t))!==!1&&(n[s]=a||i)}),Object.defineProperties(t,n)},wte=t=>{$V(t,(e,r)=>{if(sn(t)&&["arguments","caller","callee"].indexOf(r)!==-1)return!1;const n=t[r];if(sn(n)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")})}})},_te=(t,e)=>{const r={},n=i=>{i.forEach(s=>{r[s]=!0})};return Tu(t)?n(t):n(String(t).split(e)),r},Ste=()=>{},Ete=(t,e)=>t!=null&&Number.isFinite(t=+t)?t:e;function Nte(t){return!!(t&&sn(t.append)&&t[PV]==="FormData"&&t[Xp])}const Ote=t=>{const e=new Array(10),r=(n,i)=>{if(Vd(n)){if(e.indexOf(n)>=0)return;if(Hd(n))return n;if(!("toJSON"in n)){e[i]=n;const s=Tu(n)?[]:{};return Kd(n,(a,o)=>{const l=r(a,i+1);!cu(l)&&(s[o]=l)}),e[i]=void 0,s}}return n};return r(t,0)},Cte=pi("AsyncFunction"),Pte=t=>t&&(Vd(t)||sn(t))&&sn(t.then)&&sn(t.catch),kV=((t,e)=>t?setImmediate:e?((r,n)=>(Ua.addEventListener("message",({source:i,data:s})=>{i===Ua&&s===r&&n.length&&n.shift()()},!1),i=>{n.push(i),Ua.postMessage(r,"*")}))(`axios@${Math.random()}`,[]):r=>setTimeout(r))(typeof setImmediate=="function",sn(Ua.postMessage)),Tte=typeof queueMicrotask<"u"?queueMicrotask.bind(Ua):typeof process<"u"&&process.nextTick||kV,jte=t=>t!=null&&sn(t[Xp]),q={isArray:Tu,isArrayBuffer:TV,isBuffer:Hd,isFormData:rte,isArrayBufferView:Kee,isString:Gee,isNumber:jV,isBoolean:Yee,isObject:Vd,isPlainObject:Of,isEmptyObject:Qee,isReadableStream:ite,isRequest:ste,isResponse:ate,isHeaders:ote,isUndefined:cu,isDate:Xee,isFile:Jee,isBlob:Zee,isRegExp:xte,isFunction:sn,isStream:tte,isURLSearchParams:nte,isTypedArray:mte,isFileList:ete,forEach:Kd,merge:pO,extend:ute,trim:lte,stripBOM:cte,inherits:dte,toFlatObject:hte,kindOf:Jp,kindOfTest:pi,endsWith:fte,toArray:pte,forEachEntry:vte,matchAll:gte,isHTMLForm:yte,hasOwnProperty:dI,hasOwnProp:dI,reduceDescriptors:$V,freezeMethods:wte,toObjectSet:_te,toCamelCase:bte,noop:Ste,toFiniteNumber:Ete,findKey:IV,global:Ua,isContextDefined:RV,isSpecCompliantForm:Nte,toJSONObject:Ote,isAsyncFn:Cte,isThenable:Pte,setImmediate:kV,asap:Tte,isIterable:jte};function Ie(t,e,r,n,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),r&&(this.config=r),n&&(this.request=n),i&&(this.response=i,this.status=i.status?i.status:null)}q.inherits(Ie,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:q.toJSONObject(this.config),code:this.code,status:this.status}}});const DV=Ie.prototype,MV={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{MV[t]={value:t}});Object.defineProperties(Ie,MV);Object.defineProperty(DV,"isAxiosError",{value:!0});Ie.from=(t,e,r,n,i,s)=>{const a=Object.create(DV);q.toFlatObject(t,a,function(d){return d!==Error.prototype},c=>c!=="isAxiosError");const o=t&&t.message?t.message:"Error",l=e==null&&t?t.code:e;return Ie.call(a,o,l,r,n,i),t&&a.cause==null&&Object.defineProperty(a,"cause",{value:t,configurable:!0}),a.name=t&&t.name||"Error",s&&Object.assign(a,s),a};const Ite=null;function mO(t){return q.isPlainObject(t)||q.isArray(t)}function qV(t){return q.endsWith(t,"[]")?t.slice(0,-2):t}function hI(t,e,r){return t?t.concat(e).map(function(i,s){return i=qV(i),!r&&s?"["+i+"]":i}).join(r?".":""):e}function Rte(t){return q.isArray(t)&&!t.some(mO)}const $te=q.toFlatObject(q,{},null,function(e){return/^is[A-Z]/.test(e)});function em(t,e,r){if(!q.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,r=q.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,function(y,x){return!q.isUndefined(x[y])});const n=r.metaTokens,i=r.visitor||d,s=r.dots,a=r.indexes,l=(r.Blob||typeof Blob<"u"&&Blob)&&q.isSpecCompliantForm(e);if(!q.isFunction(i))throw new TypeError("visitor must be a function");function c(m){if(m===null)return"";if(q.isDate(m))return m.toISOString();if(q.isBoolean(m))return m.toString();if(!l&&q.isBlob(m))throw new Ie("Blob is not supported. Use a Buffer instead.");return q.isArrayBuffer(m)||q.isTypedArray(m)?l&&typeof Blob=="function"?new Blob([m]):Buffer.from(m):m}function d(m,y,x){let g=m;if(m&&!x&&typeof m=="object"){if(q.endsWith(y,"{}"))y=n?y:y.slice(0,-2),m=JSON.stringify(m);else if(q.isArray(m)&&Rte(m)||(q.isFileList(m)||q.endsWith(y,"[]"))&&(g=q.toArray(m)))return y=qV(y),g.forEach(function(w,b){!(q.isUndefined(w)||w===null)&&e.append(a===!0?hI([y],b,s):a===null?y:y+"[]",c(w))}),!1}return mO(m)?!0:(e.append(hI(x,y,s),c(m)),!1)}const h=[],f=Object.assign($te,{defaultVisitor:d,convertValue:c,isVisitable:mO});function p(m,y){if(!q.isUndefined(m)){if(h.indexOf(m)!==-1)throw Error("Circular reference detected in "+y.join("."));h.push(m),q.forEach(m,function(g,v){(!(q.isUndefined(g)||g===null)&&i.call(e,g,q.isString(v)?v.trim():v,y,f))===!0&&p(g,y?y.concat(v):[v])}),h.pop()}}if(!q.isObject(t))throw new TypeError("data must be an object");return p(t),e}function fI(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(n){return e[n]})}function YC(t,e){this._pairs=[],t&&em(t,this,e)}const AV=YC.prototype;AV.append=function(e,r){this._pairs.push([e,r])};AV.toString=function(e){const r=e?function(n){return e.call(this,n,fI)}:fI;return this._pairs.map(function(i){return r(i[0])+"="+r(i[1])},"").join("&")};function kte(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function FV(t,e,r){if(!e)return t;const n=r&&r.encode||kte;q.isFunction(r)&&(r={serialize:r});const i=r&&r.serialize;let s;if(i?s=i(e,r):s=q.isURLSearchParams(e)?e.toString():new YC(e,r).toString(n),s){const a=t.indexOf("#");a!==-1&&(t=t.slice(0,a)),t+=(t.indexOf("?")===-1?"?":"&")+s}return t}class pI{constructor(){this.handlers=[]}use(e,r,n){return this.handlers.push({fulfilled:e,rejected:r,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){q.forEach(this.handlers,function(n){n!==null&&e(n)})}}const LV={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Dte=typeof URLSearchParams<"u"?URLSearchParams:YC,Mte=typeof FormData<"u"?FormData:null,qte=typeof Blob<"u"?Blob:null,Ate={isBrowser:!0,classes:{URLSearchParams:Dte,FormData:Mte,Blob:qte},protocols:["http","https","file","blob","url","data"]},QC=typeof window<"u"&&typeof document<"u",vO=typeof navigator=="object"&&navigator||void 0,Fte=QC&&(!vO||["ReactNative","NativeScript","NS"].indexOf(vO.product)<0),Lte=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",Bte=QC&&window.location.href||"http://localhost",zte=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:QC,hasStandardBrowserEnv:Fte,hasStandardBrowserWebWorkerEnv:Lte,navigator:vO,origin:Bte},Symbol.toStringTag,{value:"Module"})),Pr={...zte,...Ate};function Ute(t,e){return em(t,new Pr.classes.URLSearchParams,{visitor:function(r,n,i,s){return Pr.isNode&&q.isBuffer(r)?(this.append(n,r.toString("base64")),!1):s.defaultVisitor.apply(this,arguments)},...e})}function Wte(t){return q.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function Hte(t){const e={},r=Object.keys(t);let n;const i=r.length;let s;for(n=0;n<i;n++)s=r[n],e[s]=t[s];return e}function BV(t){function e(r,n,i,s){let a=r[s++];if(a==="__proto__")return!0;const o=Number.isFinite(+a),l=s>=r.length;return a=!a&&q.isArray(i)?i.length:a,l?(q.hasOwnProp(i,a)?i[a]=[i[a],n]:i[a]=n,!o):((!i[a]||!q.isObject(i[a]))&&(i[a]=[]),e(r,n,i[a],s)&&q.isArray(i[a])&&(i[a]=Hte(i[a])),!o)}if(q.isFormData(t)&&q.isFunction(t.entries)){const r={};return q.forEachEntry(t,(n,i)=>{e(Wte(n),i,r,0)}),r}return null}function Vte(t,e,r){if(q.isString(t))try{return(e||JSON.parse)(t),q.trim(t)}catch(n){if(n.name!=="SyntaxError")throw n}return(r||JSON.stringify)(t)}const Gd={transitional:LV,adapter:["xhr","http","fetch"],transformRequest:[function(e,r){const n=r.getContentType()||"",i=n.indexOf("application/json")>-1,s=q.isObject(e);if(s&&q.isHTMLForm(e)&&(e=new FormData(e)),q.isFormData(e))return i?JSON.stringify(BV(e)):e;if(q.isArrayBuffer(e)||q.isBuffer(e)||q.isStream(e)||q.isFile(e)||q.isBlob(e)||q.isReadableStream(e))return e;if(q.isArrayBufferView(e))return e.buffer;if(q.isURLSearchParams(e))return r.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let o;if(s){if(n.indexOf("application/x-www-form-urlencoded")>-1)return Ute(e,this.formSerializer).toString();if((o=q.isFileList(e))||n.indexOf("multipart/form-data")>-1){const l=this.env&&this.env.FormData;return em(o?{"files[]":e}:e,l&&new l,this.formSerializer)}}return s||i?(r.setContentType("application/json",!1),Vte(e)):e}],transformResponse:[function(e){const r=this.transitional||Gd.transitional,n=r&&r.forcedJSONParsing,i=this.responseType==="json";if(q.isResponse(e)||q.isReadableStream(e))return e;if(e&&q.isString(e)&&(n&&!this.responseType||i)){const a=!(r&&r.silentJSONParsing)&&i;try{return JSON.parse(e,this.parseReviver)}catch(o){if(a)throw o.name==="SyntaxError"?Ie.from(o,Ie.ERR_BAD_RESPONSE,this,null,this.response):o}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Pr.classes.FormData,Blob:Pr.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};q.forEach(["delete","get","head","post","put","patch"],t=>{Gd.headers[t]={}});const Kte=q.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Gte=t=>{const e={};let r,n,i;return t&&t.split(`
`).forEach(function(a){i=a.indexOf(":"),r=a.substring(0,i).trim().toLowerCase(),n=a.substring(i+1).trim(),!(!r||e[r]&&Kte[r])&&(r==="set-cookie"?e[r]?e[r].push(n):e[r]=[n]:e[r]=e[r]?e[r]+", "+n:n)}),e},mI=Symbol("internals");function yc(t){return t&&String(t).trim().toLowerCase()}function Cf(t){return t===!1||t==null?t:q.isArray(t)?t.map(Cf):String(t)}function Yte(t){const e=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let n;for(;n=r.exec(t);)e[n[1]]=n[2];return e}const Qte=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function vv(t,e,r,n,i){if(q.isFunction(n))return n.call(this,e,r);if(i&&(e=r),!!q.isString(e)){if(q.isString(n))return e.indexOf(n)!==-1;if(q.isRegExp(n))return n.test(e)}}function Xte(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,r,n)=>r.toUpperCase()+n)}function Jte(t,e){const r=q.toCamelCase(" "+e);["get","set","has"].forEach(n=>{Object.defineProperty(t,n+r,{value:function(i,s,a){return this[n].call(this,e,i,s,a)},configurable:!0})})}let an=class{constructor(e){e&&this.set(e)}set(e,r,n){const i=this;function s(o,l,c){const d=yc(l);if(!d)throw new Error("header name must be a non-empty string");const h=q.findKey(i,d);(!h||i[h]===void 0||c===!0||c===void 0&&i[h]!==!1)&&(i[h||l]=Cf(o))}const a=(o,l)=>q.forEach(o,(c,d)=>s(c,d,l));if(q.isPlainObject(e)||e instanceof this.constructor)a(e,r);else if(q.isString(e)&&(e=e.trim())&&!Qte(e))a(Gte(e),r);else if(q.isObject(e)&&q.isIterable(e)){let o={},l,c;for(const d of e){if(!q.isArray(d))throw TypeError("Object iterator must return a key-value pair");o[c=d[0]]=(l=o[c])?q.isArray(l)?[...l,d[1]]:[l,d[1]]:d[1]}a(o,r)}else e!=null&&s(r,e,n);return this}get(e,r){if(e=yc(e),e){const n=q.findKey(this,e);if(n){const i=this[n];if(!r)return i;if(r===!0)return Yte(i);if(q.isFunction(r))return r.call(this,i,n);if(q.isRegExp(r))return r.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,r){if(e=yc(e),e){const n=q.findKey(this,e);return!!(n&&this[n]!==void 0&&(!r||vv(this,this[n],n,r)))}return!1}delete(e,r){const n=this;let i=!1;function s(a){if(a=yc(a),a){const o=q.findKey(n,a);o&&(!r||vv(n,n[o],o,r))&&(delete n[o],i=!0)}}return q.isArray(e)?e.forEach(s):s(e),i}clear(e){const r=Object.keys(this);let n=r.length,i=!1;for(;n--;){const s=r[n];(!e||vv(this,this[s],s,e,!0))&&(delete this[s],i=!0)}return i}normalize(e){const r=this,n={};return q.forEach(this,(i,s)=>{const a=q.findKey(n,s);if(a){r[a]=Cf(i),delete r[s];return}const o=e?Xte(s):String(s).trim();o!==s&&delete r[s],r[o]=Cf(i),n[o]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const r=Object.create(null);return q.forEach(this,(n,i)=>{n!=null&&n!==!1&&(r[i]=e&&q.isArray(n)?n.join(", "):n)}),r}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,r])=>e+": "+r).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...r){const n=new this(e);return r.forEach(i=>n.set(i)),n}static accessor(e){const n=(this[mI]=this[mI]={accessors:{}}).accessors,i=this.prototype;function s(a){const o=yc(a);n[o]||(Jte(i,a),n[o]=!0)}return q.isArray(e)?e.forEach(s):s(e),this}};an.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);q.reduceDescriptors(an.prototype,({value:t},e)=>{let r=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(n){this[r]=n}}});q.freezeMethods(an);function gv(t,e){const r=this||Gd,n=e||r,i=an.from(n.headers);let s=n.data;return q.forEach(t,function(o){s=o.call(r,s,i.normalize(),e?e.status:void 0)}),i.normalize(),s}function zV(t){return!!(t&&t.__CANCEL__)}function ju(t,e,r){Ie.call(this,t??"canceled",Ie.ERR_CANCELED,e,r),this.name="CanceledError"}q.inherits(ju,Ie,{__CANCEL__:!0});function UV(t,e,r){const n=r.config.validateStatus;!r.status||!n||n(r.status)?t(r):e(new Ie("Request failed with status code "+r.status,[Ie.ERR_BAD_REQUEST,Ie.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r))}function Zte(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function ere(t,e){t=t||10;const r=new Array(t),n=new Array(t);let i=0,s=0,a;return e=e!==void 0?e:1e3,function(l){const c=Date.now(),d=n[s];a||(a=c),r[i]=l,n[i]=c;let h=s,f=0;for(;h!==i;)f+=r[h++],h=h%t;if(i=(i+1)%t,i===s&&(s=(s+1)%t),c-a<e)return;const p=d&&c-d;return p?Math.round(f*1e3/p):void 0}}function tre(t,e){let r=0,n=1e3/e,i,s;const a=(c,d=Date.now())=>{r=d,i=null,s&&(clearTimeout(s),s=null),t(...c)};return[(...c)=>{const d=Date.now(),h=d-r;h>=n?a(c,d):(i=c,s||(s=setTimeout(()=>{s=null,a(i)},n-h)))},()=>i&&a(i)]}const cp=(t,e,r=3)=>{let n=0;const i=ere(50,250);return tre(s=>{const a=s.loaded,o=s.lengthComputable?s.total:void 0,l=a-n,c=i(l),d=a<=o;n=a;const h={loaded:a,total:o,progress:o?a/o:void 0,bytes:l,rate:c||void 0,estimated:c&&o&&d?(o-a)/c:void 0,event:s,lengthComputable:o!=null,[e?"download":"upload"]:!0};t(h)},r)},vI=(t,e)=>{const r=t!=null;return[n=>e[0]({lengthComputable:r,total:t,loaded:n}),e[1]]},gI=t=>(...e)=>q.asap(()=>t(...e)),rre=Pr.hasStandardBrowserEnv?((t,e)=>r=>(r=new URL(r,Pr.origin),t.protocol===r.protocol&&t.host===r.host&&(e||t.port===r.port)))(new URL(Pr.origin),Pr.navigator&&/(msie|trident)/i.test(Pr.navigator.userAgent)):()=>!0,nre=Pr.hasStandardBrowserEnv?{write(t,e,r,n,i,s,a){if(typeof document>"u")return;const o=[`${t}=${encodeURIComponent(e)}`];q.isNumber(r)&&o.push(`expires=${new Date(r).toUTCString()}`),q.isString(n)&&o.push(`path=${n}`),q.isString(i)&&o.push(`domain=${i}`),s===!0&&o.push("secure"),q.isString(a)&&o.push(`SameSite=${a}`),document.cookie=o.join("; ")},read(t){if(typeof document>"u")return null;const e=document.cookie.match(new RegExp("(?:^|; )"+t+"=([^;]*)"));return e?decodeURIComponent(e[1]):null},remove(t){this.write(t,"",Date.now()-864e5,"/")}}:{write(){},read(){return null},remove(){}};function ire(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function sre(t,e){return e?t.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):t}function WV(t,e,r){let n=!ire(e);return t&&(n||r==!1)?sre(t,e):e}const yI=t=>t instanceof an?{...t}:t;function Eo(t,e){e=e||{};const r={};function n(c,d,h,f){return q.isPlainObject(c)&&q.isPlainObject(d)?q.merge.call({caseless:f},c,d):q.isPlainObject(d)?q.merge({},d):q.isArray(d)?d.slice():d}function i(c,d,h,f){if(q.isUndefined(d)){if(!q.isUndefined(c))return n(void 0,c,h,f)}else return n(c,d,h,f)}function s(c,d){if(!q.isUndefined(d))return n(void 0,d)}function a(c,d){if(q.isUndefined(d)){if(!q.isUndefined(c))return n(void 0,c)}else return n(void 0,d)}function o(c,d,h){if(h in e)return n(c,d);if(h in t)return n(void 0,c)}const l={url:s,method:s,data:s,baseURL:a,transformRequest:a,transformResponse:a,paramsSerializer:a,timeout:a,timeoutMessage:a,withCredentials:a,withXSRFToken:a,adapter:a,responseType:a,xsrfCookieName:a,xsrfHeaderName:a,onUploadProgress:a,onDownloadProgress:a,decompress:a,maxContentLength:a,maxBodyLength:a,beforeRedirect:a,transport:a,httpAgent:a,httpsAgent:a,cancelToken:a,socketPath:a,responseEncoding:a,validateStatus:o,headers:(c,d,h)=>i(yI(c),yI(d),h,!0)};return q.forEach(Object.keys({...t,...e}),function(d){const h=l[d]||i,f=h(t[d],e[d],d);q.isUndefined(f)&&h!==o||(r[d]=f)}),r}const HV=t=>{const e=Eo({},t);let{data:r,withXSRFToken:n,xsrfHeaderName:i,xsrfCookieName:s,headers:a,auth:o}=e;if(e.headers=a=an.from(a),e.url=FV(WV(e.baseURL,e.url,e.allowAbsoluteUrls),t.params,t.paramsSerializer),o&&a.set("Authorization","Basic "+btoa((o.username||"")+":"+(o.password?unescape(encodeURIComponent(o.password)):""))),q.isFormData(r)){if(Pr.hasStandardBrowserEnv||Pr.hasStandardBrowserWebWorkerEnv)a.setContentType(void 0);else if(q.isFunction(r.getHeaders)){const l=r.getHeaders(),c=["content-type","content-length"];Object.entries(l).forEach(([d,h])=>{c.includes(d.toLowerCase())&&a.set(d,h)})}}if(Pr.hasStandardBrowserEnv&&(n&&q.isFunction(n)&&(n=n(e)),n||n!==!1&&rre(e.url))){const l=i&&s&&nre.read(s);l&&a.set(i,l)}return e},are=typeof XMLHttpRequest<"u",ore=are&&function(t){return new Promise(function(r,n){const i=HV(t);let s=i.data;const a=an.from(i.headers).normalize();let{responseType:o,onUploadProgress:l,onDownloadProgress:c}=i,d,h,f,p,m;function y(){p&&p(),m&&m(),i.cancelToken&&i.cancelToken.unsubscribe(d),i.signal&&i.signal.removeEventListener("abort",d)}let x=new XMLHttpRequest;x.open(i.method.toUpperCase(),i.url,!0),x.timeout=i.timeout;function g(){if(!x)return;const w=an.from("getAllResponseHeaders"in x&&x.getAllResponseHeaders()),_={data:!o||o==="text"||o==="json"?x.responseText:x.response,status:x.status,statusText:x.statusText,headers:w,config:t,request:x};UV(function(N){r(N),y()},function(N){n(N),y()},_),x=null}"onloadend"in x?x.onloadend=g:x.onreadystatechange=function(){!x||x.readyState!==4||x.status===0&&!(x.responseURL&&x.responseURL.indexOf("file:")===0)||setTimeout(g)},x.onabort=function(){x&&(n(new Ie("Request aborted",Ie.ECONNABORTED,t,x)),x=null)},x.onerror=function(b){const _=b&&b.message?b.message:"Network Error",E=new Ie(_,Ie.ERR_NETWORK,t,x);E.event=b||null,n(E),x=null},x.ontimeout=function(){let b=i.timeout?"timeout of "+i.timeout+"ms exceeded":"timeout exceeded";const _=i.transitional||LV;i.timeoutErrorMessage&&(b=i.timeoutErrorMessage),n(new Ie(b,_.clarifyTimeoutError?Ie.ETIMEDOUT:Ie.ECONNABORTED,t,x)),x=null},s===void 0&&a.setContentType(null),"setRequestHeader"in x&&q.forEach(a.toJSON(),function(b,_){x.setRequestHeader(_,b)}),q.isUndefined(i.withCredentials)||(x.withCredentials=!!i.withCredentials),o&&o!=="json"&&(x.responseType=i.responseType),c&&([f,m]=cp(c,!0),x.addEventListener("progress",f)),l&&x.upload&&([h,p]=cp(l),x.upload.addEventListener("progress",h),x.upload.addEventListener("loadend",p)),(i.cancelToken||i.signal)&&(d=w=>{x&&(n(!w||w.type?new ju(null,t,x):w),x.abort(),x=null)},i.cancelToken&&i.cancelToken.subscribe(d),i.signal&&(i.signal.aborted?d():i.signal.addEventListener("abort",d)));const v=Zte(i.url);if(v&&Pr.protocols.indexOf(v)===-1){n(new Ie("Unsupported protocol "+v+":",Ie.ERR_BAD_REQUEST,t));return}x.send(s||null)})},lre=(t,e)=>{const{length:r}=t=t?t.filter(Boolean):[];if(e||r){let n=new AbortController,i;const s=function(c){if(!i){i=!0,o();const d=c instanceof Error?c:this.reason;n.abort(d instanceof Ie?d:new ju(d instanceof Error?d.message:d))}};let a=e&&setTimeout(()=>{a=null,s(new Ie(`timeout ${e} of ms exceeded`,Ie.ETIMEDOUT))},e);const o=()=>{t&&(a&&clearTimeout(a),a=null,t.forEach(c=>{c.unsubscribe?c.unsubscribe(s):c.removeEventListener("abort",s)}),t=null)};t.forEach(c=>c.addEventListener("abort",s));const{signal:l}=n;return l.unsubscribe=()=>q.asap(o),l}},ure=function*(t,e){let r=t.byteLength;if(r<e){yield t;return}let n=0,i;for(;n<r;)i=n+e,yield t.slice(n,i),n=i},cre=async function*(t,e){for await(const r of dre(t))yield*ure(r,e)},dre=async function*(t){if(t[Symbol.asyncIterator]){yield*t;return}const e=t.getReader();try{for(;;){const{done:r,value:n}=await e.read();if(r)break;yield n}}finally{await e.cancel()}},bI=(t,e,r,n)=>{const i=cre(t,e);let s=0,a,o=l=>{a||(a=!0,n&&n(l))};return new ReadableStream({async pull(l){try{const{done:c,value:d}=await i.next();if(c){o(),l.close();return}let h=d.byteLength;if(r){let f=s+=h;r(f)}l.enqueue(new Uint8Array(d))}catch(c){throw o(c),c}},cancel(l){return o(l),i.return()}},{highWaterMark:2})},xI=64*1024,{isFunction:ef}=q,hre=(({Request:t,Response:e})=>({Request:t,Response:e}))(q.global),{ReadableStream:wI,TextEncoder:_I}=q.global,SI=(t,...e)=>{try{return!!t(...e)}catch{return!1}},fre=t=>{t=q.merge.call({skipUndefined:!0},hre,t);const{fetch:e,Request:r,Response:n}=t,i=e?ef(e):typeof fetch=="function",s=ef(r),a=ef(n);if(!i)return!1;const o=i&&ef(wI),l=i&&(typeof _I=="function"?(m=>y=>m.encode(y))(new _I):async m=>new Uint8Array(await new r(m).arrayBuffer())),c=s&&o&&SI(()=>{let m=!1;const y=new r(Pr.origin,{body:new wI,method:"POST",get duplex(){return m=!0,"half"}}).headers.has("Content-Type");return m&&!y}),d=a&&o&&SI(()=>q.isReadableStream(new n("").body)),h={stream:d&&(m=>m.body)};i&&["text","arrayBuffer","blob","formData","stream"].forEach(m=>{!h[m]&&(h[m]=(y,x)=>{let g=y&&y[m];if(g)return g.call(y);throw new Ie(`Response type '${m}' is not supported`,Ie.ERR_NOT_SUPPORT,x)})});const f=async m=>{if(m==null)return 0;if(q.isBlob(m))return m.size;if(q.isSpecCompliantForm(m))return(await new r(Pr.origin,{method:"POST",body:m}).arrayBuffer()).byteLength;if(q.isArrayBufferView(m)||q.isArrayBuffer(m))return m.byteLength;if(q.isURLSearchParams(m)&&(m=m+""),q.isString(m))return(await l(m)).byteLength},p=async(m,y)=>{const x=q.toFiniteNumber(m.getContentLength());return x??f(y)};return async m=>{let{url:y,method:x,data:g,signal:v,cancelToken:w,timeout:b,onDownloadProgress:_,onUploadProgress:E,responseType:N,headers:S,withCredentials:O="same-origin",fetchOptions:C}=HV(m),T=e||fetch;N=N?(N+"").toLowerCase():"text";let P=lre([v,w&&w.toAbortSignal()],b),j=null;const D=P&&P.unsubscribe&&(()=>{P.unsubscribe()});let L;try{if(E&&c&&x!=="get"&&x!=="head"&&(L=await p(S,g))!==0){let U=new r(y,{method:"POST",body:g,duplex:"half"}),K;if(q.isFormData(g)&&(K=U.headers.get("content-type"))&&S.setContentType(K),U.body){const[he,xe]=vI(L,cp(gI(E)));g=bI(U.body,xI,he,xe)}}q.isString(O)||(O=O?"include":"omit");const G=s&&"credentials"in r.prototype,H={...C,signal:P,method:x.toUpperCase(),headers:S.normalize().toJSON(),body:g,duplex:"half",credentials:G?O:void 0};j=s&&new r(y,H);let F=await(s?T(j,C):T(y,H));const V=d&&(N==="stream"||N==="response");if(d&&(_||V&&D)){const U={};["status","statusText","headers"].forEach(Re=>{U[Re]=F[Re]});const K=q.toFiniteNumber(F.headers.get("content-length")),[he,xe]=_&&vI(K,cp(gI(_),!0))||[];F=new n(bI(F.body,xI,he,()=>{xe&&xe(),D&&D()}),U)}N=N||"text";let W=await h[q.findKey(h,N)||"text"](F,m);return!V&&D&&D(),await new Promise((U,K)=>{UV(U,K,{data:W,headers:an.from(F.headers),status:F.status,statusText:F.statusText,config:m,request:j})})}catch(G){throw D&&D(),G&&G.name==="TypeError"&&/Load failed|fetch/i.test(G.message)?Object.assign(new Ie("Network Error",Ie.ERR_NETWORK,m,j),{cause:G.cause||G}):Ie.from(G,G&&G.code,m,j)}}},pre=new Map,VV=t=>{let e=t&&t.env||{};const{fetch:r,Request:n,Response:i}=e,s=[n,i,r];let a=s.length,o=a,l,c,d=pre;for(;o--;)l=s[o],c=d.get(l),c===void 0&&d.set(l,c=o?new Map:fre(e)),d=c;return c};VV();const XC={http:Ite,xhr:ore,fetch:{get:VV}};q.forEach(XC,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const EI=t=>`- ${t}`,mre=t=>q.isFunction(t)||t===null||t===!1;function vre(t,e){t=q.isArray(t)?t:[t];const{length:r}=t;let n,i;const s={};for(let a=0;a<r;a++){n=t[a];let o;if(i=n,!mre(n)&&(i=XC[(o=String(n)).toLowerCase()],i===void 0))throw new Ie(`Unknown adapter '${o}'`);if(i&&(q.isFunction(i)||(i=i.get(e))))break;s[o||"#"+a]=i}if(!i){const a=Object.entries(s).map(([l,c])=>`adapter ${l} `+(c===!1?"is not supported by the environment":"is not available in the build"));let o=r?a.length>1?`since :
`+a.map(EI).join(`
`):" "+EI(a[0]):"as no adapter specified";throw new Ie("There is no suitable adapter to dispatch the request "+o,"ERR_NOT_SUPPORT")}return i}const KV={getAdapter:vre,adapters:XC};function yv(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new ju(null,t)}function NI(t){return yv(t),t.headers=an.from(t.headers),t.data=gv.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),KV.getAdapter(t.adapter||Gd.adapter,t)(t).then(function(n){return yv(t),n.data=gv.call(t,t.transformResponse,n),n.headers=an.from(n.headers),n},function(n){return zV(n)||(yv(t),n&&n.response&&(n.response.data=gv.call(t,t.transformResponse,n.response),n.response.headers=an.from(n.response.headers))),Promise.reject(n)})}const GV="1.13.2",tm={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{tm[t]=function(n){return typeof n===t||"a"+(e<1?"n ":" ")+t}});const OI={};tm.transitional=function(e,r,n){function i(s,a){return"[Axios v"+GV+"] Transitional option '"+s+"'"+a+(n?". "+n:"")}return(s,a,o)=>{if(e===!1)throw new Ie(i(a," has been removed"+(r?" in "+r:"")),Ie.ERR_DEPRECATED);return r&&!OI[a]&&(OI[a]=!0,console.warn(i(a," has been deprecated since v"+r+" and will be removed in the near future"))),e?e(s,a,o):!0}};tm.spelling=function(e){return(r,n)=>(console.warn(`${n} is likely a misspelling of ${e}`),!0)};function gre(t,e,r){if(typeof t!="object")throw new Ie("options must be an object",Ie.ERR_BAD_OPTION_VALUE);const n=Object.keys(t);let i=n.length;for(;i-- >0;){const s=n[i],a=e[s];if(a){const o=t[s],l=o===void 0||a(o,s,t);if(l!==!0)throw new Ie("option "+s+" must be "+l,Ie.ERR_BAD_OPTION_VALUE);continue}if(r!==!0)throw new Ie("Unknown option "+s,Ie.ERR_BAD_OPTION)}}const Pf={assertOptions:gre,validators:tm},bi=Pf.validators;let oo=class{constructor(e){this.defaults=e||{},this.interceptors={request:new pI,response:new pI}}async request(e,r){try{return await this._request(e,r)}catch(n){if(n instanceof Error){let i={};Error.captureStackTrace?Error.captureStackTrace(i):i=new Error;const s=i.stack?i.stack.replace(/^.+\n/,""):"";try{n.stack?s&&!String(n.stack).endsWith(s.replace(/^.+\n.+\n/,""))&&(n.stack+=`
`+s):n.stack=s}catch{}}throw n}}_request(e,r){typeof e=="string"?(r=r||{},r.url=e):r=e||{},r=Eo(this.defaults,r);const{transitional:n,paramsSerializer:i,headers:s}=r;n!==void 0&&Pf.assertOptions(n,{silentJSONParsing:bi.transitional(bi.boolean),forcedJSONParsing:bi.transitional(bi.boolean),clarifyTimeoutError:bi.transitional(bi.boolean)},!1),i!=null&&(q.isFunction(i)?r.paramsSerializer={serialize:i}:Pf.assertOptions(i,{encode:bi.function,serialize:bi.function},!0)),r.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?r.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:r.allowAbsoluteUrls=!0),Pf.assertOptions(r,{baseUrl:bi.spelling("baseURL"),withXsrfToken:bi.spelling("withXSRFToken")},!0),r.method=(r.method||this.defaults.method||"get").toLowerCase();let a=s&&q.merge(s.common,s[r.method]);s&&q.forEach(["delete","get","head","post","put","patch","common"],m=>{delete s[m]}),r.headers=an.concat(a,s);const o=[];let l=!0;this.interceptors.request.forEach(function(y){typeof y.runWhen=="function"&&y.runWhen(r)===!1||(l=l&&y.synchronous,o.unshift(y.fulfilled,y.rejected))});const c=[];this.interceptors.response.forEach(function(y){c.push(y.fulfilled,y.rejected)});let d,h=0,f;if(!l){const m=[NI.bind(this),void 0];for(m.unshift(...o),m.push(...c),f=m.length,d=Promise.resolve(r);h<f;)d=d.then(m[h++],m[h++]);return d}f=o.length;let p=r;for(;h<f;){const m=o[h++],y=o[h++];try{p=m(p)}catch(x){y.call(this,x);break}}try{d=NI.call(this,p)}catch(m){return Promise.reject(m)}for(h=0,f=c.length;h<f;)d=d.then(c[h++],c[h++]);return d}getUri(e){e=Eo(this.defaults,e);const r=WV(e.baseURL,e.url,e.allowAbsoluteUrls);return FV(r,e.params,e.paramsSerializer)}};q.forEach(["delete","get","head","options"],function(e){oo.prototype[e]=function(r,n){return this.request(Eo(n||{},{method:e,url:r,data:(n||{}).data}))}});q.forEach(["post","put","patch"],function(e){function r(n){return function(s,a,o){return this.request(Eo(o||{},{method:e,headers:n?{"Content-Type":"multipart/form-data"}:{},url:s,data:a}))}}oo.prototype[e]=r(),oo.prototype[e+"Form"]=r(!0)});let yre=class YV{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let r;this.promise=new Promise(function(s){r=s});const n=this;this.promise.then(i=>{if(!n._listeners)return;let s=n._listeners.length;for(;s-- >0;)n._listeners[s](i);n._listeners=null}),this.promise.then=i=>{let s;const a=new Promise(o=>{n.subscribe(o),s=o}).then(i);return a.cancel=function(){n.unsubscribe(s)},a},e(function(s,a,o){n.reason||(n.reason=new ju(s,a,o),r(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const r=this._listeners.indexOf(e);r!==-1&&this._listeners.splice(r,1)}toAbortSignal(){const e=new AbortController,r=n=>{e.abort(n)};return this.subscribe(r),e.signal.unsubscribe=()=>this.unsubscribe(r),e.signal}static source(){let e;return{token:new YV(function(i){e=i}),cancel:e}}};function bre(t){return function(r){return t.apply(null,r)}}function xre(t){return q.isObject(t)&&t.isAxiosError===!0}const gO={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(gO).forEach(([t,e])=>{gO[e]=t});function QV(t){const e=new oo(t),r=CV(oo.prototype.request,e);return q.extend(r,oo.prototype,e,{allOwnKeys:!0}),q.extend(r,e,null,{allOwnKeys:!0}),r.create=function(i){return QV(Eo(t,i))},r}const At=QV(Gd);At.Axios=oo;At.CanceledError=ju;At.CancelToken=yre;At.isCancel=zV;At.VERSION=GV;At.toFormData=em;At.AxiosError=Ie;At.Cancel=At.CanceledError;At.all=function(e){return Promise.all(e)};At.spread=bre;At.isAxiosError=xre;At.mergeConfig=Eo;At.AxiosHeaders=an;At.formToJSON=t=>BV(q.isHTMLForm(t)?new FormData(t):t);At.getAdapter=KV.getAdapter;At.HttpStatusCode=gO;At.default=At;const{Axios:pxe,AxiosError:mxe,CanceledError:vxe,isCancel:gxe,CancelToken:yxe,VERSION:bxe,all:xxe,Cancel:wxe,isAxiosError:_xe,spread:Sxe,toFormData:Exe,AxiosHeaders:Nxe,HttpStatusCode:Oxe,formToJSON:Cxe,getAdapter:Pxe,mergeConfig:Txe}=At,yO=window.prmConfig||{},ce=At.create({baseURL:yO.apiUrl||"/wp-json",headers:{"Content-Type":"application/json","X-WP-Nonce":yO.nonce||""}});ce.interceptors.request.use(t=>{var e;return(e=window.prmConfig)!=null&&e.nonce&&(t.headers["X-WP-Nonce"]=window.prmConfig.nonce),t});ce.interceptors.response.use(t=>t,t=>{var e,r;return((e=t.response)==null?void 0:e.status)===401&&(window.location.href=yO.loginUrl||"/wp-login.php"),((r=t.response)==null?void 0:r.status)===403&&console.error("Access denied:",t.response.data),Promise.reject(t)});const Ue={getPeople:t=>ce.get("/wp/v2/people",{params:t}),getPerson:(t,e={})=>ce.get(`/wp/v2/people/${t}`,{params:e}),createPerson:t=>ce.post("/wp/v2/people",t),updatePerson:(t,e)=>ce.put(`/wp/v2/people/${t}`,e),deletePerson:(t,e={})=>ce.delete(`/wp/v2/people/${t}`,{params:e}),getCompanies:t=>ce.get("/wp/v2/companies",{params:t}),getCompany:(t,e={})=>ce.get(`/wp/v2/companies/${t}`,{params:e}),createCompany:t=>ce.post("/wp/v2/companies",t),updateCompany:(t,e)=>ce.put(`/wp/v2/companies/${t}`,e),deleteCompany:(t,e={})=>ce.delete(`/wp/v2/companies/${t}`,{params:e}),getDates:t=>ce.get("/wp/v2/important-dates",{params:t}),getDate:t=>ce.get(`/wp/v2/important-dates/${t}`),createDate:t=>ce.post("/wp/v2/important-dates",t),updateDate:(t,e)=>ce.put(`/wp/v2/important-dates/${t}`,e),deleteDate:t=>ce.delete(`/wp/v2/important-dates/${t}`),getPersonLabels:()=>ce.get("/wp/v2/person_label"),getCompanyLabels:()=>ce.get("/wp/v2/company_label"),getRelationshipTypes:()=>ce.get("/wp/v2/relationship_type",{params:{per_page:100,_fields:"id,name,slug,acf"}}),createRelationshipType:t=>ce.post("/wp/v2/relationship_type",t),updateRelationshipType:(t,e)=>ce.post(`/wp/v2/relationship_type/${t}`,e),deleteRelationshipType:t=>ce.delete(`/wp/v2/relationship_type/${t}?force=true`),restoreRelationshipTypeDefaults:()=>ce.post("/prm/v1/relationship-types/restore-defaults"),getDateTypes:()=>ce.get("/wp/v2/date_type",{params:{per_page:100}}),uploadMedia:t=>{const e=new FormData;return e.append("file",t),ce.post("/wp/v2/media",e,{headers:{"Content-Type":"multipart/form-data"}})}},Me={getDashboard:()=>ce.get("/prm/v1/dashboard"),sideloadGravatar:(t,e)=>ce.post(`/prm/v1/people/${t}/gravatar`,{email:e}),getCurrentUser:()=>ce.get("/prm/v1/user/me"),getUsers:()=>ce.get("/prm/v1/users"),approveUser:t=>ce.post(`/prm/v1/users/${t}/approve`),denyUser:t=>ce.post(`/prm/v1/users/${t}/deny`),deleteUser:t=>ce.delete(`/prm/v1/users/${t}`),search:t=>ce.get("/prm/v1/search",{params:{q:t}}),getReminders:(t=30)=>ce.get("/prm/v1/reminders",{params:{days_ahead:t}}),triggerReminders:()=>ce.post("/prm/v1/reminders/trigger"),rescheduleCronJobs:()=>ce.post("/prm/v1/reminders/reschedule-cron"),getNotificationChannels:()=>ce.get("/prm/v1/user/notification-channels"),updateNotificationChannels:t=>ce.post("/prm/v1/user/notification-channels",{channels:t}),updateSlackWebhook:t=>ce.post("/prm/v1/user/slack-webhook",{webhook:t}),updateNotificationTime:t=>ce.post("/prm/v1/user/notification-time",{time:t}),getSlackStatus:()=>ce.get("/prm/v1/user/slack-status"),disconnectSlack:()=>ce.post("/prm/v1/slack/disconnect"),getSlackChannels:()=>ce.get("/prm/v1/slack/channels"),getSlackTargets:()=>ce.get("/prm/v1/slack/targets"),updateSlackTargets:t=>ce.post("/prm/v1/slack/targets",{targets:t}),getPersonDates:t=>ce.get(`/prm/v1/people/${t}/dates`),getPersonTimeline:t=>ce.get(`/prm/v1/people/${t}/timeline`),getPersonNotes:t=>ce.get(`/prm/v1/people/${t}/notes`),createNote:(t,e)=>ce.post(`/prm/v1/people/${t}/notes`,{content:e}),updateNote:(t,e)=>ce.put(`/prm/v1/notes/${t}`,{content:e}),deleteNote:t=>ce.delete(`/prm/v1/notes/${t}`),getPersonActivities:t=>ce.get(`/prm/v1/people/${t}/activities`),createActivity:(t,e)=>ce.post(`/prm/v1/people/${t}/activities`,e),updateActivity:(t,e)=>ce.put(`/prm/v1/activities/${t}`,e),deleteActivity:t=>ce.delete(`/prm/v1/activities/${t}`),getPersonTodos:t=>ce.get(`/prm/v1/people/${t}/todos`),createTodo:(t,e)=>ce.post(`/prm/v1/people/${t}/todos`,e),updateTodo:(t,e)=>ce.put(`/prm/v1/todos/${t}`,e),deleteTodo:t=>ce.delete(`/prm/v1/todos/${t}`),getCompanyPeople:t=>ce.get(`/prm/v1/companies/${t}/people`),setCompanyLogo:(t,e)=>ce.post(`/prm/v1/companies/${t}/logo`,{media_id:e}),uploadPersonPhoto:(t,e)=>{const r=new FormData;return r.append("file",e),ce.post(`/prm/v1/people/${t}/photo`,r,{headers:{"Content-Type":"multipart/form-data"}})},uploadCompanyLogo:(t,e)=>{const r=new FormData;return r.append("file",e),ce.post(`/prm/v1/companies/${t}/logo/upload`,r,{headers:{"Content-Type":"multipart/form-data"}})}};/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var wre={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _re=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),ye=(t,e)=>{const r=I.forwardRef(({color:n="currentColor",size:i=24,strokeWidth:s=2,absoluteStrokeWidth:a,className:o="",children:l,...c},d)=>I.createElement("svg",{ref:d,...wre,width:i,height:i,stroke:n,strokeWidth:a?Number(s)*24/Number(i):s,className:["lucide",`lucide-${_re(t)}`,o].join(" "),...c},[...e.map(([h,f])=>I.createElement(h,f)),...Array.isArray(l)?l:[l]]));return r.displayName=`${t}`,r};/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const va=ye("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sre=ye("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ere=ye("ArrowDown",[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xn=ye("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CI=ye("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nre=ye("ArrowUp",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ore=ye("Briefcase",[["rect",{width:"20",height:"14",x:"2",y:"7",rx:"2",ry:"2",key:"eto64e"}],["path",{d:"M16 21V5a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"zwj3tp"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ms=ye("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XV=ye("Cake",[["path",{d:"M20 21v-8a2 2 0 0 0-2-2H6a2 2 0 0 0-2 2v8",key:"1w3rig"}],["path",{d:"M4 16s.5-1 2-1 2.5 2 4 2 2.5-2 4-2 2.5 2 4 2 2-1 2-1",key:"n2jgmb"}],["path",{d:"M2 21h20",key:"1nyx9w"}],["path",{d:"M7 8v3",key:"1qtyvj"}],["path",{d:"M12 8v3",key:"hwp4zt"}],["path",{d:"M17 8v3",key:"1i6e5u"}],["path",{d:"M7 4h0.01",key:"hsw7lv"}],["path",{d:"M12 4h0.01",key:"1e3d8f"}],["path",{d:"M17 4h0.01",key:"p7cxgy"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lo=ye("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tf=ye("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PI=ye("CheckCircle2",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const du=ye("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TI=ye("CheckSquare2",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jI=ye("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cre=ye("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bO=ye("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JV=ye("Coffee",[["path",{d:"M17 8h1a4 4 0 1 1 0 8h-1",key:"jx4kbh"}],["path",{d:"M3 8h14v9a4 4 0 0 1-4 4H7a4 4 0 0 1-4-4Z",key:"1bxrl0"}],["line",{x1:"6",x2:"6",y1:"2",y2:"4",key:"1cr9l3"}],["line",{x1:"10",x2:"10",y1:"2",y2:"4",key:"170wym"}],["line",{x1:"14",x2:"14",y1:"2",y2:"4",key:"1c5f70"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pre=ye("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xO=ye("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rm=ye("FileCode",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["path",{d:"m10 13-2 2 2 2",key:"17smn8"}],["path",{d:"m14 17 2-2-2-2",key:"14mezr"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JC=ye("FileSpreadsheet",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["path",{d:"M8 13h2",key:"yr2amv"}],["path",{d:"M8 17h2",key:"2yhykz"}],["path",{d:"M14 13h2",key:"un5t4a"}],["path",{d:"M14 17h2",key:"10kma7"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZC=ye("FileText",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["line",{x1:"16",x2:"8",y1:"13",y2:"13",key:"14keom"}],["line",{x1:"16",x2:"8",y1:"17",y2:"17",key:"17nazh"}],["line",{x1:"10",x2:"8",y1:"9",y2:"9",key:"1a5vjj"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const II=ye("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tre=ye("Gift",[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jf=ye("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jre=ye("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ire=ye("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZV=ye("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eK=ye("Link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const No=ye("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rre=ye("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eP=ye("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $re=ye("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kre=ye("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dre=ye("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mre=ye("Pen",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rc=ye("Pencil",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tP=ye("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const er=ye("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qre=ye("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tK=ye("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ga=ye("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rK=ye("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nK=ye("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iK=ye("ShieldAlert",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Are=ye("SkipForward",[["polygon",{points:"5 4 15 12 5 20 5 4",key:"16p6eg"}],["line",{x1:"19",x2:"19",y1:"5",y2:"19",key:"futhcm"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sK=ye("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aK=ye("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a2.121 2.121 0 1 1 3 3L12 15l-4 1 1-4Z",key:"1lpok0"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RI=ye("Square",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hu=ye("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oK=ye("StickyNote",[["path",{d:"M15.5 3H5a2 2 0 0 0-2 2v14c0 1.1.9 2 2 2h14a2 2 0 0 0 2-2V8.5L15.5 3Z",key:"1wis1t"}],["path",{d:"M15 3v6h6",key:"edgan2"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oi=ye("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fu=ye("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fre=ye("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lK=ye("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $i=ye("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uK=ye("Utensils",[["path",{d:"M3 2v7c0 1.1.9 2 2 2h4a2 2 0 0 0 2-2V2",key:"cjf0a3"}],["path",{d:"M7 2v20",key:"1473qp"}],["path",{d:"M21 15V2v0a5 5 0 0 0-5 5v6c0 1.1.9 2 2 2h3Zm0 0v7",key:"1ogz0v"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $I=ye("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Un=ye("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lre=ye("ZoomIn",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"11",x2:"11",y1:"8",y2:"14",key:"1vmskp"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bre=ye("ZoomOut",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]]),pu="Caelis";function Sn(t){I.useEffect(()=>{var e;if(t){const r=((e=window.prmConfig)==null?void 0:e.siteName)||pu;document.title=`${t} - ${r}`}},[t])}function zre(t){const e=t.match(/\/(?:people|companies|dates)\/(\d+)/);return e?e[1]:null}function cK(t=null){const e=xs();I.useEffect(()=>{var i;let r=t;if(!r){const s=e.pathname,a=zre(s);s==="/"?r="Dashboard":s==="/login"?r="Login":s.startsWith("/people")?s==="/people"||s==="/people/"?r="People":s==="/people/new"?r="New person":s.endsWith("/edit")?r="Edit person":a?r="Person":r="People":s.startsWith("/companies")?s==="/companies"||s==="/companies/"?r="Organizations":s==="/companies/new"?r="New organization":s.endsWith("/edit")?r="Edit organization":a?r="Organization":r="Organizations":s.startsWith("/dates")?s==="/dates"||s==="/dates/"?r="Events":s==="/dates/new"?r="New date":s.endsWith("/edit")?r="Edit date":r="Events":s.startsWith("/settings")?r="Settings":r=pu}const n=((i=window.prmConfig)==null?void 0:i.siteName)||pu;document.title=`${r} - ${n}`},[e.pathname,t])}function Ure(){return yt({queryKey:["dashboard"],queryFn:async()=>(await Me.getDashboard()).data})}function Wre(t=30){return yt({queryKey:["reminders",t],queryFn:async()=>(await Me.getReminders(t)).data})}function Hre(t){const e=typeof t=="string"?t:"",r=e.length>=2;return yt({queryKey:["search",e],queryFn:async()=>r?(await Me.search(e)).data:{people:[],companies:[]},enabled:r})}const Vre=[{name:"Dashboard",href:"/",icon:Ire},{name:"People",href:"/people",icon:$i},{name:"Organizations",href:"/companies",icon:ms},{name:"Dates",href:"/dates",icon:lo},{name:"Settings",href:"/settings",icon:nK}];function kI({mobile:t=!1,onClose:e}){const{logoutUrl:r}=KC();return u.jsxs("div",{className:"flex flex-col h-full bg-white border-r border-gray-200",children:[u.jsxs("div",{className:"flex items-center justify-between h-16 px-4 border-b border-gray-200",children:[u.jsxs(fe,{to:"/",className:"flex items-center gap-2 text-xl font-bold text-primary-600",children:[u.jsx(sK,{className:"w-5 h-5"}),pu]}),t&&u.jsx("button",{onClick:e,className:"p-2 -mr-2",children:u.jsx(Un,{className:"w-5 h-5"})})]}),u.jsx("nav",{className:"flex-1 px-2 py-4 space-y-1 overflow-y-auto",children:Vre.map(n=>u.jsxs(fee,{to:n.href,onClick:t?e:void 0,className:({isActive:i})=>`flex items-center px-3 py-2 text-sm font-medium rounded-lg transition-colors ${i?"bg-primary-50 text-primary-700":"text-gray-700 hover:bg-gray-50"}`,children:[u.jsx(n.icon,{className:"w-5 h-5 mr-3"}),u.jsx("span",{className:"hidden md:inline",children:n.name})]},n.name))}),u.jsx("div",{className:"p-4 border-t border-gray-200",children:u.jsxs("a",{href:r,className:"flex items-center px-3 py-2 text-sm font-medium text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:[u.jsx(Rre,{className:"w-5 h-5 mr-3"}),u.jsx("span",{className:"hidden md:inline",children:"Log Out"})]})})]})}function Kre(){var a;const[t,e]=I.useState(!1),r=I.useRef(null),{data:n,isLoading:i}=yt({queryKey:["current-user"],queryFn:async()=>(await Me.getCurrentUser()).data});if(I.useEffect(()=>{const o=l=>{r.current&&!r.current.contains(l.target)&&e(!1)};if(t)return document.addEventListener("mousedown",o),()=>{document.removeEventListener("mousedown",o)}},[t]),i||!n)return u.jsx("div",{className:"flex items-center ml-auto",children:u.jsx("div",{className:"w-8 h-8 bg-gray-200 rounded-full animate-pulse"})});const s=((a=n.name)==null?void 0:a.split(" ").map(o=>o[0]).join("").toUpperCase().slice(0,2))||"?";return u.jsxs("div",{className:"relative ml-auto",ref:r,children:[u.jsxs("button",{onClick:()=>e(!t),className:"flex items-center gap-2 p-1 rounded-full hover:bg-gray-100 transition-colors","aria-label":"User menu",children:[n.avatar_url?u.jsx("img",{src:n.avatar_url,alt:n.name,className:"w-8 h-8 rounded-full object-cover"}):u.jsx("div",{className:"w-8 h-8 bg-primary-100 rounded-full flex items-center justify-center",children:u.jsx("span",{className:"text-sm font-medium text-primary-700",children:s})}),u.jsx(Cre,{className:`w-4 h-4 text-gray-500 transition-transform ${t?"rotate-180":""}`})]}),t&&u.jsx("div",{className:"absolute right-0 mt-2 w-48 bg-white border border-gray-200 rounded-lg shadow-lg z-50",children:u.jsxs("div",{className:"py-1",children:[u.jsxs("a",{href:n.profile_url,target:"_blank",rel:"noopener noreferrer",className:"flex items-center px-4 py-2 text-sm text-gray-700 hover:bg-gray-50 transition-colors",onClick:()=>e(!1),children:[u.jsx(lK,{className:"w-4 h-4 mr-2"}),u.jsx("span",{className:"hidden md:inline",children:"Edit profile"})]}),n.is_admin&&u.jsxs("a",{href:n.admin_url,target:"_blank",rel:"noopener noreferrer",className:"flex items-center px-4 py-2 text-sm text-gray-700 hover:bg-gray-50 transition-colors",onClick:()=>e(!1),children:[u.jsx(nK,{className:"w-4 h-4 mr-2"}),u.jsx("span",{className:"hidden md:inline",children:"WordPress admin"})]})]})})]})}function Gre({onMenuClick:t}){const[e,r]=I.useState(""),[n,i]=I.useState(!1),s=xs(),a=un(),o=I.useRef(null),l=I.useRef(null),c=e.trim(),{data:d,isLoading:h}=Hre(c),f=()=>{const g=s.pathname;return g==="/"?"Dashboard":g.startsWith("/people")?"People":g.startsWith("/companies")?"Organizations":g.startsWith("/dates")?"Important Dates":g.startsWith("/settings")?"Settings":""};I.useEffect(()=>{const g=v=>{l.current&&!l.current.contains(v.target)&&o.current&&!o.current.contains(v.target)&&i(!1)};return document.addEventListener("mousedown",g),()=>{document.removeEventListener("mousedown",g)}},[]);const p=(g,v)=>{i(!1),r(""),g==="person"?a(`/people/${v}`):g==="company"&&a(`/companies/${v}`)},m=d||{people:[],companies:[]},y=m.people&&m.people.length>0||m.companies&&m.companies.length>0,x=n&&e.trim().length>=2;return u.jsxs("header",{className:"sticky top-0 z-10 flex items-center h-16 px-4 bg-white border-b border-gray-200 lg:px-6",children:[u.jsx("button",{onClick:t,className:"p-2 -ml-2 lg:hidden",children:u.jsx(kre,{className:"w-5 h-5"})}),u.jsx("h1",{className:"ml-2 text-lg font-semibold lg:ml-0",children:f()}),u.jsx("div",{className:"flex-1 flex justify-center max-w-2xl mx-4 lg:mx-8",children:u.jsxs("div",{className:"relative w-full",ref:o,children:[u.jsx(rK,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}),u.jsx("input",{type:"search",placeholder:"Search people & organizations...",value:e,onChange:g=>r(g.target.value),onFocus:()=>i(!0),className:"input pl-9 w-full"}),x&&u.jsx("div",{ref:l,className:"absolute top-full left-0 right-0 mt-2 bg-white border border-gray-200 rounded-lg shadow-lg max-h-96 overflow-y-auto z-50",children:h?u.jsxs("div",{className:"p-4 text-center text-gray-500",children:[u.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-primary-600 mx-auto"}),u.jsx("p",{className:"mt-2 text-sm",children:"Searching..."})]}):y?u.jsxs("div",{className:"py-2",children:[m.people&&m.people.length>0&&u.jsxs("div",{className:"px-3 py-2",children:[u.jsx("div",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wide mb-2 px-2",children:"People"}),m.people.map(g=>u.jsxs("button",{onClick:()=>p("person",g.id),className:"w-full flex items-center gap-3 px-2 py-2 rounded-lg hover:bg-gray-50 transition-colors text-left",children:[u.jsx(lK,{className:"w-4 h-4 text-gray-400 flex-shrink-0"}),u.jsx("span",{className:"text-sm font-medium text-gray-900 flex-1 truncate",children:g.name})]},g.id))]}),m.companies&&m.companies.length>0&&u.jsxs("div",{className:"px-3 py-2 border-t border-gray-100",children:[u.jsx("div",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wide mb-2 px-2",children:"Organizations"}),m.companies.map(g=>u.jsxs("button",{onClick:()=>p("company",g.id),className:"w-full flex items-center gap-3 px-2 py-2 rounded-lg hover:bg-gray-50 transition-colors text-left",children:[u.jsx(Ore,{className:"w-4 h-4 text-gray-400 flex-shrink-0"}),u.jsx("span",{className:"text-sm font-medium text-gray-900 flex-1 truncate",children:g.name})]},g.id))]})]}):u.jsx("div",{className:"p-4 text-center text-gray-500",children:u.jsx("p",{className:"text-sm",children:"No results found"})})})]})}),u.jsx(Kre,{})]})}function Yre({children:t}){const[e,r]=I.useState(!1);return cK(),u.jsxs("div",{className:"flex h-screen bg-gray-50",children:[u.jsx("div",{className:"hidden lg:flex lg:w-64 lg:flex-col",children:u.jsx(kI,{})}),e&&u.jsxs("div",{className:"fixed inset-0 z-40 lg:hidden",children:[u.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-75",onClick:()=>r(!1)}),u.jsx("div",{className:"fixed inset-y-0 left-0 flex flex-col w-64 bg-white",children:u.jsx(kI,{mobile:!0,onClose:()=>r(!1)})})]}),u.jsxs("div",{className:"flex flex-col flex-1 min-w-0",children:[u.jsx(Gre,{onMenuClick:()=>r(!0)}),u.jsx("main",{className:"flex-1 overflow-y-auto p-4 lg:p-6",children:t})]})]})}function Ke(t){const e=Object.prototype.toString.call(t);return t instanceof Date||typeof t=="object"&&e==="[object Date]"?new t.constructor(+t):typeof t=="number"||e==="[object Number]"||typeof t=="string"||e==="[object String]"?new Date(t):new Date(NaN)}function vs(t,e){return t instanceof Date?new t.constructor(e):new Date(e)}function Qre(t,e){const r=Ke(t);return isNaN(e)?vs(t,NaN):(r.setDate(r.getDate()+e),r)}const dK=6048e5,Xre=864e5,hK=6e4,fK=36e5,tf=43200,DI=1440;let Jre={};function Yd(){return Jre}function Oo(t,e){var o,l,c,d;const r=Yd(),n=(e==null?void 0:e.weekStartsOn)??((l=(o=e==null?void 0:e.locale)==null?void 0:o.options)==null?void 0:l.weekStartsOn)??r.weekStartsOn??((d=(c=r.locale)==null?void 0:c.options)==null?void 0:d.weekStartsOn)??0,i=Ke(t),s=i.getDay(),a=(s<n?7:0)+s-n;return i.setDate(i.getDate()-a),i.setHours(0,0,0,0),i}function dp(t){return Oo(t,{weekStartsOn:1})}function pK(t){const e=Ke(t),r=e.getFullYear(),n=vs(t,0);n.setFullYear(r+1,0,4),n.setHours(0,0,0,0);const i=dp(n),s=vs(t,0);s.setFullYear(r,0,4),s.setHours(0,0,0,0);const a=dp(s);return e.getTime()>=i.getTime()?r+1:e.getTime()>=a.getTime()?r:r-1}function hp(t){const e=Ke(t);return e.setHours(0,0,0,0),e}function fp(t){const e=Ke(t),r=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return r.setUTCFullYear(e.getFullYear()),+t-+r}function Zre(t,e){const r=hp(t),n=hp(e),i=+r-fp(r),s=+n-fp(n);return Math.round((i-s)/Xre)}function ene(t){const e=pK(t),r=vs(t,0);return r.setFullYear(e,0,4),r.setHours(0,0,0,0),dp(r)}function Ml(t,e){const r=Ke(t),n=Ke(e),i=r.getTime()-n.getTime();return i<0?-1:i>0?1:i}function nm(t){return vs(t,Date.now())}function mK(t,e){const r=hp(t),n=hp(e);return+r==+n}function tne(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function rne(t){if(!tne(t)&&typeof t!="number")return!1;const e=Ke(t);return!isNaN(Number(e))}function nne(t,e){const r=Ke(t),n=Ke(e),i=r.getFullYear()-n.getFullYear(),s=r.getMonth()-n.getMonth();return i*12+s}function ine(t,e){const r=Ke(t),n=Ke(e);return r.getFullYear()-n.getFullYear()}function sne(t){return e=>{const n=(t?Math[t]:Math.trunc)(e);return n===0?0:n}}function ane(t,e){return+Ke(t)-+Ke(e)}function one(t){const e=Ke(t);return e.setHours(23,59,59,999),e}function lne(t){const e=Ke(t),r=e.getMonth();return e.setFullYear(e.getFullYear(),r+1,0),e.setHours(23,59,59,999),e}function une(t){const e=Ke(t);return+one(e)==+lne(e)}function cne(t,e){const r=Ke(t),n=Ke(e),i=Ml(r,n),s=Math.abs(nne(r,n));let a;if(s<1)a=0;else{r.getMonth()===1&&r.getDate()>27&&r.setDate(30),r.setMonth(r.getMonth()-i*s);let o=Ml(r,n)===-i;une(Ke(t))&&s===1&&Ml(t,n)===1&&(o=!1),a=i*(s-Number(o))}return a===0?0:a}function dne(t,e,r){const n=ane(t,e)/1e3;return sne(r==null?void 0:r.roundingMethod)(n)}function bv(t,e){const r=Ke(t),n=Ke(e),i=Ml(r,n),s=Math.abs(ine(r,n));r.setFullYear(1584),n.setFullYear(1584);const a=Ml(r,n)===-i,o=i*(s-+a);return o===0?0:o}function hne(t){const e=Ke(t),r=vs(t,0);return r.setFullYear(e.getFullYear(),0,1),r.setHours(0,0,0,0),r}const fne={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},pne=(t,e,r)=>{let n;const i=fne[t];return typeof i=="string"?n=i:e===1?n=i.one:n=i.other.replace("{{count}}",e.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+n:n+" ago":n};function xv(t){return(e={})=>{const r=e.width?String(e.width):t.defaultWidth;return t.formats[r]||t.formats[t.defaultWidth]}}const mne={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},vne={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},gne={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},yne={date:xv({formats:mne,defaultWidth:"full"}),time:xv({formats:vne,defaultWidth:"full"}),dateTime:xv({formats:gne,defaultWidth:"full"})},bne={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},xne=(t,e,r,n)=>bne[t];function bc(t){return(e,r)=>{const n=r!=null&&r.context?String(r.context):"standalone";let i;if(n==="formatting"&&t.formattingValues){const a=t.defaultFormattingWidth||t.defaultWidth,o=r!=null&&r.width?String(r.width):a;i=t.formattingValues[o]||t.formattingValues[a]}else{const a=t.defaultWidth,o=r!=null&&r.width?String(r.width):t.defaultWidth;i=t.values[o]||t.values[a]}const s=t.argumentCallback?t.argumentCallback(e):e;return i[s]}}const wne={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},_ne={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},Sne={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},Ene={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},Nne={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},One={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},Cne=(t,e)=>{const r=Number(t),n=r%100;if(n>20||n<10)switch(n%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},Pne={ordinalNumber:Cne,era:bc({values:wne,defaultWidth:"wide"}),quarter:bc({values:_ne,defaultWidth:"wide",argumentCallback:t=>t-1}),month:bc({values:Sne,defaultWidth:"wide"}),day:bc({values:Ene,defaultWidth:"wide"}),dayPeriod:bc({values:Nne,defaultWidth:"wide",formattingValues:One,defaultFormattingWidth:"wide"})};function xc(t){return(e,r={})=>{const n=r.width,i=n&&t.matchPatterns[n]||t.matchPatterns[t.defaultMatchWidth],s=e.match(i);if(!s)return null;const a=s[0],o=n&&t.parsePatterns[n]||t.parsePatterns[t.defaultParseWidth],l=Array.isArray(o)?jne(o,h=>h.test(a)):Tne(o,h=>h.test(a));let c;c=t.valueCallback?t.valueCallback(l):l,c=r.valueCallback?r.valueCallback(c):c;const d=e.slice(a.length);return{value:c,rest:d}}}function Tne(t,e){for(const r in t)if(Object.prototype.hasOwnProperty.call(t,r)&&e(t[r]))return r}function jne(t,e){for(let r=0;r<t.length;r++)if(e(t[r]))return r}function Ine(t){return(e,r={})=>{const n=e.match(t.matchPattern);if(!n)return null;const i=n[0],s=e.match(t.parsePattern);if(!s)return null;let a=t.valueCallback?t.valueCallback(s[0]):s[0];a=r.valueCallback?r.valueCallback(a):a;const o=e.slice(i.length);return{value:a,rest:o}}}const Rne=/^(\d+)(th|st|nd|rd)?/i,$ne=/\d+/i,kne={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},Dne={any:[/^b/i,/^(a|c)/i]},Mne={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},qne={any:[/1/i,/2/i,/3/i,/4/i]},Ane={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},Fne={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},Lne={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},Bne={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},zne={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},Une={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},Wne={ordinalNumber:Ine({matchPattern:Rne,parsePattern:$ne,valueCallback:t=>parseInt(t,10)}),era:xc({matchPatterns:kne,defaultMatchWidth:"wide",parsePatterns:Dne,defaultParseWidth:"any"}),quarter:xc({matchPatterns:Mne,defaultMatchWidth:"wide",parsePatterns:qne,defaultParseWidth:"any",valueCallback:t=>t+1}),month:xc({matchPatterns:Ane,defaultMatchWidth:"wide",parsePatterns:Fne,defaultParseWidth:"any"}),day:xc({matchPatterns:Lne,defaultMatchWidth:"wide",parsePatterns:Bne,defaultParseWidth:"any"}),dayPeriod:xc({matchPatterns:zne,defaultMatchWidth:"any",parsePatterns:Une,defaultParseWidth:"any"})},vK={code:"en-US",formatDistance:pne,formatLong:yne,formatRelative:xne,localize:Pne,match:Wne,options:{weekStartsOn:0,firstWeekContainsDate:1}};function Hne(t){const e=Ke(t);return Zre(e,hne(e))+1}function Vne(t){const e=Ke(t),r=+dp(e)-+ene(e);return Math.round(r/dK)+1}function gK(t,e){var d,h,f,p;const r=Ke(t),n=r.getFullYear(),i=Yd(),s=(e==null?void 0:e.firstWeekContainsDate)??((h=(d=e==null?void 0:e.locale)==null?void 0:d.options)==null?void 0:h.firstWeekContainsDate)??i.firstWeekContainsDate??((p=(f=i.locale)==null?void 0:f.options)==null?void 0:p.firstWeekContainsDate)??1,a=vs(t,0);a.setFullYear(n+1,0,s),a.setHours(0,0,0,0);const o=Oo(a,e),l=vs(t,0);l.setFullYear(n,0,s),l.setHours(0,0,0,0);const c=Oo(l,e);return r.getTime()>=o.getTime()?n+1:r.getTime()>=c.getTime()?n:n-1}function Kne(t,e){var o,l,c,d;const r=Yd(),n=(e==null?void 0:e.firstWeekContainsDate)??((l=(o=e==null?void 0:e.locale)==null?void 0:o.options)==null?void 0:l.firstWeekContainsDate)??r.firstWeekContainsDate??((d=(c=r.locale)==null?void 0:c.options)==null?void 0:d.firstWeekContainsDate)??1,i=gK(t,e),s=vs(t,0);return s.setFullYear(i,0,n),s.setHours(0,0,0,0),Oo(s,e)}function Gne(t,e){const r=Ke(t),n=+Oo(r,e)-+Kne(r,e);return Math.round(n/dK)+1}function Qe(t,e){const r=t<0?"-":"",n=Math.abs(t).toString().padStart(e,"0");return r+n}const Ts={y(t,e){const r=t.getFullYear(),n=r>0?r:1-r;return Qe(e==="yy"?n%100:n,e.length)},M(t,e){const r=t.getMonth();return e==="M"?String(r+1):Qe(r+1,2)},d(t,e){return Qe(t.getDate(),e.length)},a(t,e){const r=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h(t,e){return Qe(t.getHours()%12||12,e.length)},H(t,e){return Qe(t.getHours(),e.length)},m(t,e){return Qe(t.getMinutes(),e.length)},s(t,e){return Qe(t.getSeconds(),e.length)},S(t,e){const r=e.length,n=t.getMilliseconds(),i=Math.trunc(n*Math.pow(10,r-3));return Qe(i,e.length)}},sl={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},MI={G:function(t,e,r){const n=t.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return r.era(n,{width:"abbreviated"});case"GGGGG":return r.era(n,{width:"narrow"});case"GGGG":default:return r.era(n,{width:"wide"})}},y:function(t,e,r){if(e==="yo"){const n=t.getFullYear(),i=n>0?n:1-n;return r.ordinalNumber(i,{unit:"year"})}return Ts.y(t,e)},Y:function(t,e,r,n){const i=gK(t,n),s=i>0?i:1-i;if(e==="YY"){const a=s%100;return Qe(a,2)}return e==="Yo"?r.ordinalNumber(s,{unit:"year"}):Qe(s,e.length)},R:function(t,e){const r=pK(t);return Qe(r,e.length)},u:function(t,e){const r=t.getFullYear();return Qe(r,e.length)},Q:function(t,e,r){const n=Math.ceil((t.getMonth()+1)/3);switch(e){case"Q":return String(n);case"QQ":return Qe(n,2);case"Qo":return r.ordinalNumber(n,{unit:"quarter"});case"QQQ":return r.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(n,{width:"wide",context:"formatting"})}},q:function(t,e,r){const n=Math.ceil((t.getMonth()+1)/3);switch(e){case"q":return String(n);case"qq":return Qe(n,2);case"qo":return r.ordinalNumber(n,{unit:"quarter"});case"qqq":return r.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(n,{width:"wide",context:"standalone"})}},M:function(t,e,r){const n=t.getMonth();switch(e){case"M":case"MM":return Ts.M(t,e);case"Mo":return r.ordinalNumber(n+1,{unit:"month"});case"MMM":return r.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(n,{width:"wide",context:"formatting"})}},L:function(t,e,r){const n=t.getMonth();switch(e){case"L":return String(n+1);case"LL":return Qe(n+1,2);case"Lo":return r.ordinalNumber(n+1,{unit:"month"});case"LLL":return r.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(n,{width:"wide",context:"standalone"})}},w:function(t,e,r,n){const i=Gne(t,n);return e==="wo"?r.ordinalNumber(i,{unit:"week"}):Qe(i,e.length)},I:function(t,e,r){const n=Vne(t);return e==="Io"?r.ordinalNumber(n,{unit:"week"}):Qe(n,e.length)},d:function(t,e,r){return e==="do"?r.ordinalNumber(t.getDate(),{unit:"date"}):Ts.d(t,e)},D:function(t,e,r){const n=Hne(t);return e==="Do"?r.ordinalNumber(n,{unit:"dayOfYear"}):Qe(n,e.length)},E:function(t,e,r){const n=t.getDay();switch(e){case"E":case"EE":case"EEE":return r.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(n,{width:"short",context:"formatting"});case"EEEE":default:return r.day(n,{width:"wide",context:"formatting"})}},e:function(t,e,r,n){const i=t.getDay(),s=(i-n.weekStartsOn+8)%7||7;switch(e){case"e":return String(s);case"ee":return Qe(s,2);case"eo":return r.ordinalNumber(s,{unit:"day"});case"eee":return r.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(i,{width:"short",context:"formatting"});case"eeee":default:return r.day(i,{width:"wide",context:"formatting"})}},c:function(t,e,r,n){const i=t.getDay(),s=(i-n.weekStartsOn+8)%7||7;switch(e){case"c":return String(s);case"cc":return Qe(s,e.length);case"co":return r.ordinalNumber(s,{unit:"day"});case"ccc":return r.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(i,{width:"narrow",context:"standalone"});case"cccccc":return r.day(i,{width:"short",context:"standalone"});case"cccc":default:return r.day(i,{width:"wide",context:"standalone"})}},i:function(t,e,r){const n=t.getDay(),i=n===0?7:n;switch(e){case"i":return String(i);case"ii":return Qe(i,e.length);case"io":return r.ordinalNumber(i,{unit:"day"});case"iii":return r.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(n,{width:"short",context:"formatting"});case"iiii":default:return r.day(n,{width:"wide",context:"formatting"})}},a:function(t,e,r){const i=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(t,e,r){const n=t.getHours();let i;switch(n===12?i=sl.noon:n===0?i=sl.midnight:i=n/12>=1?"pm":"am",e){case"b":case"bb":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(t,e,r){const n=t.getHours();let i;switch(n>=17?i=sl.evening:n>=12?i=sl.afternoon:n>=4?i=sl.morning:i=sl.night,e){case"B":case"BB":case"BBB":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(t,e,r){if(e==="ho"){let n=t.getHours()%12;return n===0&&(n=12),r.ordinalNumber(n,{unit:"hour"})}return Ts.h(t,e)},H:function(t,e,r){return e==="Ho"?r.ordinalNumber(t.getHours(),{unit:"hour"}):Ts.H(t,e)},K:function(t,e,r){const n=t.getHours()%12;return e==="Ko"?r.ordinalNumber(n,{unit:"hour"}):Qe(n,e.length)},k:function(t,e,r){let n=t.getHours();return n===0&&(n=24),e==="ko"?r.ordinalNumber(n,{unit:"hour"}):Qe(n,e.length)},m:function(t,e,r){return e==="mo"?r.ordinalNumber(t.getMinutes(),{unit:"minute"}):Ts.m(t,e)},s:function(t,e,r){return e==="so"?r.ordinalNumber(t.getSeconds(),{unit:"second"}):Ts.s(t,e)},S:function(t,e){return Ts.S(t,e)},X:function(t,e,r){const n=t.getTimezoneOffset();if(n===0)return"Z";switch(e){case"X":return AI(n);case"XXXX":case"XX":return Aa(n);case"XXXXX":case"XXX":default:return Aa(n,":")}},x:function(t,e,r){const n=t.getTimezoneOffset();switch(e){case"x":return AI(n);case"xxxx":case"xx":return Aa(n);case"xxxxx":case"xxx":default:return Aa(n,":")}},O:function(t,e,r){const n=t.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+qI(n,":");case"OOOO":default:return"GMT"+Aa(n,":")}},z:function(t,e,r){const n=t.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+qI(n,":");case"zzzz":default:return"GMT"+Aa(n,":")}},t:function(t,e,r){const n=Math.trunc(t.getTime()/1e3);return Qe(n,e.length)},T:function(t,e,r){const n=t.getTime();return Qe(n,e.length)}};function qI(t,e=""){const r=t>0?"-":"+",n=Math.abs(t),i=Math.trunc(n/60),s=n%60;return s===0?r+String(i):r+String(i)+e+Qe(s,2)}function AI(t,e){return t%60===0?(t>0?"-":"+")+Qe(Math.abs(t)/60,2):Aa(t,e)}function Aa(t,e=""){const r=t>0?"-":"+",n=Math.abs(t),i=Qe(Math.trunc(n/60),2),s=Qe(n%60,2);return r+i+e+s}const FI=(t,e)=>{switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},yK=(t,e)=>{switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},Yne=(t,e)=>{const r=t.match(/(P+)(p+)?/)||[],n=r[1],i=r[2];if(!i)return FI(t,e);let s;switch(n){case"P":s=e.dateTime({width:"short"});break;case"PP":s=e.dateTime({width:"medium"});break;case"PPP":s=e.dateTime({width:"long"});break;case"PPPP":default:s=e.dateTime({width:"full"});break}return s.replace("{{date}}",FI(n,e)).replace("{{time}}",yK(i,e))},Qne={p:yK,P:Yne},Xne=/^D+$/,Jne=/^Y+$/,Zne=["D","DD","YY","YYYY"];function eie(t){return Xne.test(t)}function tie(t){return Jne.test(t)}function rie(t,e,r){const n=nie(t,e,r);if(console.warn(n),Zne.includes(t))throw new RangeError(n)}function nie(t,e,r){const n=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${e}\`) for formatting ${n} to the input \`${r}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const iie=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,sie=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,aie=/^'([^]*?)'?$/,oie=/''/g,lie=/[a-zA-Z]/;function si(t,e,r){var d,h,f,p;const n=Yd(),i=n.locale??vK,s=n.firstWeekContainsDate??((h=(d=n.locale)==null?void 0:d.options)==null?void 0:h.firstWeekContainsDate)??1,a=n.weekStartsOn??((p=(f=n.locale)==null?void 0:f.options)==null?void 0:p.weekStartsOn)??0,o=Ke(t);if(!rne(o))throw new RangeError("Invalid time value");let l=e.match(sie).map(m=>{const y=m[0];if(y==="p"||y==="P"){const x=Qne[y];return x(m,i.formatLong)}return m}).join("").match(iie).map(m=>{if(m==="''")return{isToken:!1,value:"'"};const y=m[0];if(y==="'")return{isToken:!1,value:uie(m)};if(MI[y])return{isToken:!0,value:m};if(y.match(lie))throw new RangeError("Format string contains an unescaped latin alphabet character `"+y+"`");return{isToken:!1,value:m}});i.localize.preprocessor&&(l=i.localize.preprocessor(o,l));const c={firstWeekContainsDate:s,weekStartsOn:a,locale:i};return l.map(m=>{if(!m.isToken)return m.value;const y=m.value;(tie(y)||eie(y))&&rie(y,e,String(t));const x=MI[y[0]];return x(o,y,i.localize,c)}).join("")}function uie(t){const e=t.match(aie);return e?e[1].replace(oie,"'"):t}function cie(t,e,r){const n=Yd(),i=(r==null?void 0:r.locale)??n.locale??vK,s=2520,a=Ml(t,e);if(isNaN(a))throw new RangeError("Invalid time value");const o=Object.assign({},r,{addSuffix:r==null?void 0:r.addSuffix,comparison:a});let l,c;a>0?(l=Ke(e),c=Ke(t)):(l=Ke(t),c=Ke(e));const d=dne(c,l),h=(fp(c)-fp(l))/1e3,f=Math.round((d-h)/60);let p;if(f<2)return r!=null&&r.includeSeconds?d<5?i.formatDistance("lessThanXSeconds",5,o):d<10?i.formatDistance("lessThanXSeconds",10,o):d<20?i.formatDistance("lessThanXSeconds",20,o):d<40?i.formatDistance("halfAMinute",0,o):d<60?i.formatDistance("lessThanXMinutes",1,o):i.formatDistance("xMinutes",1,o):f===0?i.formatDistance("lessThanXMinutes",1,o):i.formatDistance("xMinutes",f,o);if(f<45)return i.formatDistance("xMinutes",f,o);if(f<90)return i.formatDistance("aboutXHours",1,o);if(f<DI){const m=Math.round(f/60);return i.formatDistance("aboutXHours",m,o)}else{if(f<s)return i.formatDistance("xDays",1,o);if(f<tf){const m=Math.round(f/DI);return i.formatDistance("xDays",m,o)}else if(f<tf*2)return p=Math.round(f/tf),i.formatDistance("aboutXMonths",p,o)}if(p=cne(c,l),p<12){const m=Math.round(f/tf);return i.formatDistance("xMonths",m,o)}else{const m=p%12,y=Math.trunc(p/12);return m<3?i.formatDistance("aboutXYears",y,o):m<9?i.formatDistance("overXYears",y,o):i.formatDistance("almostXYears",y+1,o)}}function die(t,e){return cie(t,nm(t),e)}function hie(t,e,r){const n=Oo(t,r),i=Oo(e,r);return+n==+i}function fie(t,e){return hie(t,nm(t),e)}function bK(t){return mK(t,nm(t))}function pie(t,e){return Qre(t,-1)}function xK(t){return mK(t,pie(nm(t)))}function pp(t,e){const n=yie(t);let i;if(n.date){const l=bie(n.date,2);i=xie(l.restDateString,l.year)}if(!i||isNaN(i.getTime()))return new Date(NaN);const s=i.getTime();let a=0,o;if(n.time&&(a=wie(n.time),isNaN(a)))return new Date(NaN);if(n.timezone){if(o=_ie(n.timezone),isNaN(o))return new Date(NaN)}else{const l=new Date(s+a),c=new Date(0);return c.setFullYear(l.getUTCFullYear(),l.getUTCMonth(),l.getUTCDate()),c.setHours(l.getUTCHours(),l.getUTCMinutes(),l.getUTCSeconds(),l.getUTCMilliseconds()),c}return new Date(s+a+o)}const rf={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},mie=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,vie=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,gie=/^([+-])(\d{2})(?::?(\d{2}))?$/;function yie(t){const e={},r=t.split(rf.dateTimeDelimiter);let n;if(r.length>2)return e;if(/:/.test(r[0])?n=r[0]:(e.date=r[0],n=r[1],rf.timeZoneDelimiter.test(e.date)&&(e.date=t.split(rf.timeZoneDelimiter)[0],n=t.substr(e.date.length,t.length))),n){const i=rf.timezone.exec(n);i?(e.time=n.replace(i[1],""),e.timezone=i[1]):e.time=n}return e}function bie(t,e){const r=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+e)+"})|(\\d{2}|[+-]\\d{"+(2+e)+"})$)"),n=t.match(r);if(!n)return{year:NaN,restDateString:""};const i=n[1]?parseInt(n[1]):null,s=n[2]?parseInt(n[2]):null;return{year:s===null?i:s*100,restDateString:t.slice((n[1]||n[2]).length)}}function xie(t,e){if(e===null)return new Date(NaN);const r=t.match(mie);if(!r)return new Date(NaN);const n=!!r[4],i=wc(r[1]),s=wc(r[2])-1,a=wc(r[3]),o=wc(r[4]),l=wc(r[5])-1;if(n)return Cie(e,o,l)?Sie(e,o,l):new Date(NaN);{const c=new Date(0);return!Nie(e,s,a)||!Oie(e,i)?new Date(NaN):(c.setUTCFullYear(e,s,Math.max(i,a)),c)}}function wc(t){return t?parseInt(t):1}function wie(t){const e=t.match(vie);if(!e)return NaN;const r=wv(e[1]),n=wv(e[2]),i=wv(e[3]);return Pie(r,n,i)?r*fK+n*hK+i*1e3:NaN}function wv(t){return t&&parseFloat(t.replace(",","."))||0}function _ie(t){if(t==="Z")return 0;const e=t.match(gie);if(!e)return 0;const r=e[1]==="+"?-1:1,n=parseInt(e[2]),i=e[3]&&parseInt(e[3])||0;return Tie(n,i)?r*(n*fK+i*hK):NaN}function Sie(t,e,r){const n=new Date(0);n.setUTCFullYear(t,0,4);const i=n.getUTCDay()||7,s=(e-1)*7+r+1-i;return n.setUTCDate(n.getUTCDate()+s),n}const Eie=[31,null,31,30,31,30,31,31,30,31,30,31];function wK(t){return t%400===0||t%4===0&&t%100!==0}function Nie(t,e,r){return e>=0&&e<=11&&r>=1&&r<=(Eie[e]||(wK(t)?29:28))}function Oie(t,e){return e>=1&&e<=(wK(t)?366:365)}function Cie(t,e,r){return e>=1&&e<=53&&r>=0&&r<=6}function Pie(t,e,r){return t===24?e===0&&r===0:r>=0&&r<60&&e>=0&&e<60&&t>=0&&t<25}function Tie(t,e){return e>=0&&e<=59}function al({title:t,value:e,icon:r,href:n}){return u.jsx(fe,{to:n,className:"card p-6 hover:shadow-md transition-shadow",children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsx("p",{className:"text-sm font-medium text-gray-500",children:t}),u.jsx("p",{className:"mt-1 text-3xl font-semibold",children:e})]}),u.jsx("div",{className:"p-3 bg-primary-50 rounded-lg",children:u.jsx(r,{className:"w-6 h-6 text-primary-600"})})]})})}function LI({person:t,hideStar:e=!1}){var r,n;return u.jsxs(fe,{to:`/people/${t.id}`,className:"flex items-center p-3 rounded-lg hover:bg-gray-50 transition-colors",children:[t.thumbnail?u.jsx("img",{src:t.thumbnail,alt:t.name,loading:"lazy",className:"w-10 h-10 rounded-full object-cover"}):u.jsx("div",{className:"w-10 h-10 bg-gray-200 rounded-full flex items-center justify-center",children:u.jsx("span",{className:"text-sm font-medium text-gray-500",children:((r=t.first_name)==null?void 0:r[0])||"?"})}),u.jsxs("div",{className:"ml-3 flex-1 min-w-0",children:[u.jsx("p",{className:"text-sm font-medium text-gray-900 truncate",children:t.name}),((n=t.labels)==null?void 0:n.length)>0&&u.jsx("p",{className:"text-xs text-gray-500 truncate",children:t.labels.join(", ")})]}),t.is_favorite&&!e&&u.jsx(hu,{className:"w-4 h-4 text-yellow-400 fill-current"})]})}function jie({reminder:t}){var o,l,c,d,h;const e=t.days_until;let r="bg-gray-100 text-gray-700";e===0?r="bg-green-100 text-green-700":e<=3?r="bg-orange-100 text-orange-700":e<=7&&(r="bg-yellow-100 text-yellow-700");const n=((l=(o=t.related_people)==null?void 0:o[0])==null?void 0:l.name)||t.title,i=(d=(c=t.related_people)==null?void 0:c[0])==null?void 0:d.id,s=((h=t.related_people)==null?void 0:h.length)>0,a=u.jsxs(u.Fragment,{children:[u.jsx("div",{className:`px-2 py-1 rounded text-xs font-medium ${r}`,children:e===0?"Today":`${e}d`}),u.jsxs("div",{className:"ml-3 flex-1 min-w-0",children:[u.jsx("p",{className:"text-sm font-medium text-gray-900",children:n}),u.jsx("p",{className:"text-xs text-gray-500",children:si(new Date(t.next_occurrence),"MMMM d, yyyy")}),s&&u.jsx("div",{className:"flex -space-x-2 mt-1",children:t.related_people.slice(0,3).map(f=>{var p;return f.thumbnail?u.jsx("img",{src:f.thumbnail,alt:f.name,loading:"lazy",className:"w-10 h-10 rounded-full border-2 border-white object-cover"},f.id):u.jsx("div",{className:"w-10 h-10 bg-gray-300 rounded-full border-2 border-white flex items-center justify-center",children:u.jsx("span",{className:"text-sm",children:(p=f.name)==null?void 0:p[0]})},f.id)})})]})]});return s&&i?u.jsx(fe,{to:`/people/${i}`,className:"flex items-start p-3 rounded-lg hover:bg-gray-50 transition-colors",children:a}):u.jsx("div",{className:"flex items-start p-3 rounded-lg hover:bg-gray-50 transition-colors",children:a})}function Iie(){return u.jsxs("div",{className:"card p-12 text-center",children:[u.jsx("div",{className:"flex justify-center mb-4",children:u.jsx("div",{className:"p-4 bg-primary-50 rounded-full",children:u.jsx(sK,{className:"w-12 h-12 text-primary-600"})})}),u.jsxs("h2",{className:"text-2xl font-semibold text-gray-900 mb-2",children:["Welcome to ",pu,"!"]}),u.jsx("p",{className:"text-gray-600 mb-8 max-w-md mx-auto",children:"Get started by adding your first contact, organization, or important date. Your dashboard will populate as you add more information."}),u.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[u.jsxs(fe,{to:"/people/new",className:"inline-flex items-center px-6 py-3 bg-primary-600 text-white rounded-lg hover:bg-primary-700 transition-colors",children:[u.jsx(er,{className:"w-5 h-5 mr-2"}),"Add Your First Person"]}),u.jsxs(fe,{to:"/companies/new",className:"inline-flex items-center px-6 py-3 bg-white text-gray-700 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",children:[u.jsx(er,{className:"w-5 h-5 mr-2"}),"Add Your First Organization"]})]})]})}function Rie(){var c,d,h;const{data:t,isLoading:e,error:r}=Ure();if(e)return u.jsx("div",{className:"flex items-center justify-center h-64",children:u.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"})});if(r){const f=((c=r==null?void 0:r.response)==null?void 0:c.status)>=500||!(r!=null&&r.response);return u.jsx("div",{className:"card p-8 text-center",children:u.jsx("div",{className:"text-red-600 mb-2",children:f?u.jsxs(u.Fragment,{children:[u.jsx("p",{className:"font-medium mb-1",children:"Failed to load dashboard data"}),u.jsx("p",{className:"text-sm text-gray-600",children:"Please check your connection and try refreshing the page."})]}):u.jsxs(u.Fragment,{children:[u.jsx("p",{className:"font-medium mb-1",children:"Unable to load dashboard"}),u.jsx("p",{className:"text-sm text-gray-600",children:((h=(d=r==null?void 0:r.response)==null?void 0:d.data)==null?void 0:h.message)||"An error occurred while loading your data."})]})})})}const{stats:n,recent_people:i,upcoming_reminders:s,favorites:a}=t||{};return((n==null?void 0:n.total_people)||0)+((n==null?void 0:n.total_companies)||0)+((n==null?void 0:n.total_dates)||0)===0?u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:[u.jsx(al,{title:"Total people",value:0,icon:$i,href:"/people"}),u.jsx(al,{title:"Organizations",value:0,icon:ms,href:"/companies"}),u.jsx(al,{title:"Events",value:0,icon:lo,href:"/dates"})]}),u.jsx(Iie,{})]}):u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:[u.jsx(al,{title:"Total people",value:(n==null?void 0:n.total_people)||0,icon:$i,href:"/people"}),u.jsx(al,{title:"Companies",value:(n==null?void 0:n.total_companies)||0,icon:ms,href:"/companies"}),u.jsx(al,{title:"Events",value:(n==null?void 0:n.total_dates)||0,icon:lo,href:"/dates"})]}),u.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[u.jsxs("div",{className:"card",children:[u.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-200",children:[u.jsxs("h2",{className:"font-semibold flex items-center",children:[u.jsx(lo,{className:"w-5 h-5 mr-2 text-gray-500"}),"Upcoming reminders"]}),u.jsxs(fe,{to:"/dates",className:"text-sm text-primary-600 hover:text-primary-700 flex items-center",children:["View all reminders",u.jsx(CI,{className:"w-4 h-4 ml-1"})]})]}),u.jsx("div",{className:"divide-y divide-gray-100",children:(s==null?void 0:s.length)>0?s.map(f=>u.jsx(jie,{reminder:f},f.id)):u.jsx("p",{className:"p-4 text-sm text-gray-500 text-center",children:"No upcoming reminders"})})]}),u.jsxs("div",{className:"card",children:[u.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-200",children:[u.jsxs("h2",{className:"font-semibold flex items-center",children:[u.jsx($i,{className:"w-5 h-5 mr-2 text-gray-500"}),"Recently edited people"]}),u.jsxs(fe,{to:"/people",className:"text-sm text-primary-600 hover:text-primary-700 flex items-center",children:["View all people",u.jsx(CI,{className:"w-4 h-4 ml-1"})]})]}),u.jsx("div",{className:"divide-y divide-gray-100",children:(i==null?void 0:i.length)>0?i.map(f=>u.jsx(LI,{person:f},f.id)):u.jsxs("p",{className:"p-4 text-sm text-gray-500 text-center",children:["No people yet. ",u.jsx(fe,{to:"/people/new",className:"text-primary-600",children:"Add someone"})]})})]})]}),(a==null?void 0:a.length)>0&&u.jsxs("div",{className:"card",children:[u.jsx("div",{className:"flex items-center justify-between p-4 border-b border-gray-200",children:u.jsxs("h2",{className:"font-semibold flex items-center",children:[u.jsx(hu,{className:"w-5 h-5 mr-2 text-yellow-500 fill-current"}),"Favorites"]})}),u.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-2 p-2",children:a.map(f=>u.jsx(LI,{person:f,hideStar:!0},f.id))})]})]})}function li(t){if(!t)return"";const e=document.createElement("textarea");return e.innerHTML=t,e.value}function ts(t){var r;if(!t)return"";const e=((r=t.title)==null?void 0:r.rendered)||t.title||t.name||"";return li(e)}function uo(t){var r,n;if(!t)return"";if(t.name&&typeof t.name=="string"&&!((r=t.title)!=null&&r.rendered))return li(t.name);const e=((n=t.title)==null?void 0:n.rendered)||t.title||t.name||"";return li(e)}function Wa(t,e={}){const r=["gender"],n=["contact_info","work_history","relationships","photo_gallery"],i={...t};return r.forEach(s=>{i[s]===""&&(i[s]=null)}),n.forEach(s=>{Array.isArray(i[s])||(i[s]=[])}),Object.assign(i,e),i}const vt={all:["people"],lists:()=>[...vt.all,"list"],list:t=>[...vt.lists(),t],details:()=>[...vt.all,"detail"],detail:t=>[...vt.details(),t],timeline:t=>[...vt.detail(t),"timeline"],dates:t=>[...vt.detail(t),"dates"]};function _K(t){var i,s,a,o,l,c,d,h,f,p,m,y,x,g,v,w,b;const e=((a=(s=(i=t._embedded)==null?void 0:i["wp:featuredmedia"])==null?void 0:s[0])==null?void 0:a.source_url)||((f=(h=(d=(c=(l=(o=t._embedded)==null?void 0:o["wp:featuredmedia"])==null?void 0:l[0])==null?void 0:c.media_details)==null?void 0:d.sizes)==null?void 0:h.thumbnail)==null?void 0:f.source_url)||null,r=((x=(y=(m=(p=t._embedded)==null?void 0:p["wp:term"])==null?void 0:m.flat())==null?void 0:y.filter(_=>(_==null?void 0:_.taxonomy)==="person_label"))==null?void 0:x.map(_=>_.name))||[],n=li(((g=t.title)==null?void 0:g.rendered)||"");return{...t,id:t.id,name:n,first_name:((v=t.acf)==null?void 0:v.first_name)||"",last_name:((w=t.acf)==null?void 0:w.last_name)||"",is_favorite:((b=t.acf)==null?void 0:b.is_favorite)||!1,thumbnail:e,labels:r}}function Iu(t={}){return yt({queryKey:vt.list(t),queryFn:async()=>{const e=[];let r=1;const n=100;for(;;){const i=await Ue.getPeople({per_page:n,page:r,_embed:!0,...t}),s=i.data.map(_K);if(e.push(...s),s.length<n)break;const a=parseInt(i.headers["x-wp-totalpages"]||i.headers["X-WP-TotalPages"]||"0",10);if(a>0&&r>=a)break;r++}return e}})}function Ru(t){return yt({queryKey:vt.detail(t),queryFn:async()=>{const e=await Ue.getPerson(t,{_embed:!0});return _K(e.data)},enabled:!!t})}function $ie(t){return yt({queryKey:vt.timeline(t),queryFn:async()=>(await Me.getPersonTimeline(t)).data,enabled:!!t})}function kie(t){return yt({queryKey:vt.dates(t),queryFn:async()=>(await Me.getPersonDates(t)).data,enabled:!!t})}function Die(){const t=pt();return Xe({mutationFn:e=>Ue.createPerson(e),onSuccess:()=>{t.invalidateQueries({queryKey:vt.lists()})}})}function Qd(){const t=pt();return Xe({mutationFn:({id:e,data:r})=>Ue.updatePerson(e,r),onSuccess:(e,{id:r,data:n})=>{var i;t.invalidateQueries({queryKey:vt.detail(r)}),t.invalidateQueries({queryKey:vt.lists()}),(i=n==null?void 0:n.acf)!=null&&i.relationships&&(Array.isArray(n.acf.relationships)?n.acf.relationships:[]).forEach(a=>{const o=a.related_person;o&&t.invalidateQueries({queryKey:vt.detail(o)})})}})}function Mie(){const t=pt();return Xe({mutationFn:e=>Ue.deletePerson(e,{force:!0}),onSuccess:()=>{t.invalidateQueries({queryKey:vt.lists()}),t.invalidateQueries({queryKey:vt.details()})}})}function qie(){const t=pt();return Xe({mutationFn:({personId:e,content:r})=>Me.createNote(e,r),onSuccess:(e,{personId:r})=>{t.invalidateQueries({queryKey:vt.timeline(r)})}})}function Aie(){const t=pt();return Xe({mutationFn:({noteId:e,personId:r})=>Me.deleteNote(e),onSuccess:(e,{personId:r})=>{t.invalidateQueries({queryKey:vt.timeline(r)})}})}function Fie(){const t=pt();return Xe({mutationFn:({personId:e,data:r})=>Me.createActivity(e,r),onSuccess:(e,{personId:r})=>{t.invalidateQueries({queryKey:vt.timeline(r)})}})}function Lie(){const t=pt();return Xe({mutationFn:({activityId:e,personId:r})=>Me.deleteActivity(e),onSuccess:(e,{personId:r})=>{r&&t.invalidateQueries({queryKey:vt.timeline(r)})}})}function Bie(){const t=pt();return Xe({mutationFn:({personId:e,data:r})=>Me.createTodo(e,r),onSuccess:(e,{personId:r})=>{t.invalidateQueries({queryKey:vt.timeline(r)})}})}function zie(){const t=pt();return Xe({mutationFn:({todoId:e,data:r,personId:n})=>Me.updateTodo(e,r),onSuccess:(e,{personId:r})=>{r&&t.invalidateQueries({queryKey:vt.timeline(r)})}})}function Uie(){const t=pt();return Xe({mutationFn:({todoId:e,personId:r})=>Me.deleteTodo(e),onSuccess:(e,{personId:r})=>{r&&t.invalidateQueries({queryKey:vt.timeline(r)})}})}function Wie(){const t=pt();return Xe({mutationFn:({dateId:e,personId:r})=>Ue.deleteDate(e),onSuccess:(e,{personId:r})=>{r&&(t.invalidateQueries({queryKey:vt.dates(r)}),t.invalidateQueries({queryKey:vt.detail(r)})),t.invalidateQueries({queryKey:["reminders"]})}})}function BI(t){var i;const e=((i=t.acf)==null?void 0:i.work_history)||[];if(e.length===0)return null;const r=e.find(s=>s.is_current&&s.company);if(r)return r.company;const n=e.filter(s=>s.company).sort((s,a)=>{const o=s.start_date?new Date(s.start_date):new Date(0);return(a.start_date?new Date(a.start_date):new Date(0))-o});return n.length>0?n[0].company:null}function Hie({person:t,companyName:e,isDeceased:r}){var n,i;return u.jsx(fe,{to:`/people/${t.id}`,className:"card p-4 hover:shadow-md transition-shadow",children:u.jsxs("div",{className:"flex items-start",children:[t.thumbnail?u.jsx("img",{src:t.thumbnail,alt:t.name,loading:"lazy",className:"w-12 h-12 rounded-full object-cover"}):u.jsx("div",{className:"w-12 h-12 bg-gray-200 rounded-full flex items-center justify-center",children:u.jsx("span",{className:"text-lg font-medium text-gray-500",children:((n=t.first_name)==null?void 0:n[0])||"?"})}),u.jsxs("div",{className:"ml-3 flex-1 min-w-0",children:[u.jsxs("div",{className:"flex items-center",children:[u.jsxs("h3",{className:"text-sm font-medium text-gray-900 truncate",children:[t.name,r&&u.jsx("span",{className:"ml-1 text-gray-500",children:""})]}),t.is_favorite&&u.jsx(hu,{className:"w-4 h-4 ml-1 text-yellow-400 fill-current flex-shrink-0"})]}),e&&u.jsx("p",{className:"text-xs text-gray-500 mt-0.5 truncate",children:e}),((i=t.labels)==null?void 0:i.length)>0&&u.jsx("div",{className:"flex flex-wrap gap-1 mt-1",children:t.labels.slice(0,3).map(s=>u.jsx("span",{className:"inline-flex px-2 py-0.5 text-xs rounded-full bg-gray-100 text-gray-600",children:s},s))})]})]})})}function Vie(){const[t,e]=I.useState(!1),[r,n]=I.useState(!1),[i,s]=I.useState([]),[a,o]=I.useState("first_name"),[l,c]=I.useState("asc"),d=I.useRef(null),h=I.useRef(null),{data:f,isLoading:p,error:m}=Iu(),{data:y}=yt({queryKey:["person-labels"],queryFn:async()=>(await Ue.getPersonLabels()).data}),x=(y==null?void 0:y.map(P=>P.name))||[];I.useEffect(()=>{const P=j=>{h.current&&!h.current.contains(j.target)&&d.current&&!d.current.contains(j.target)&&e(!1)};return document.addEventListener("mousedown",P),()=>{document.removeEventListener("mousedown",P)}},[]);const g=I.useMemo(()=>{if(!f)return[];let P=[...f];return r&&(P=P.filter(j=>j.is_favorite)),i.length>0&&(P=P.filter(j=>{const D=j.labels||[];return i.some(L=>D.includes(L))})),P.sort((j,D)=>{var F,V,W,U,K,he,xe,Re;let L,G;if(a==="first_name"?(L=(((F=j.acf)==null?void 0:F.first_name)||j.first_name||"").toLowerCase(),G=(((V=D.acf)==null?void 0:V.first_name)||D.first_name||"").toLowerCase()):(L=(((W=j.acf)==null?void 0:W.last_name)||j.last_name||"").toLowerCase(),G=(((U=D.acf)==null?void 0:U.last_name)||D.last_name||"").toLowerCase()),L===G){const ge=a==="first_name"?(((K=j.acf)==null?void 0:K.last_name)||j.last_name||"").toLowerCase():(((he=j.acf)==null?void 0:he.first_name)||j.first_name||"").toLowerCase(),Ee=a==="first_name"?(((xe=D.acf)==null?void 0:xe.last_name)||D.last_name||"").toLowerCase():(((Re=D.acf)==null?void 0:Re.first_name)||D.first_name||"").toLowerCase(),$e=ge.localeCompare(Ee);return l==="asc"?$e:-$e}const H=L.localeCompare(G);return l==="asc"?H:-H})},[f,r,i,a,l]),v=r||i.length>0,w=P=>{s(j=>j.includes(P)?j.filter(D=>D!==P):[...j,P])},b=()=>{n(!1),s([])},_=I.useMemo(()=>{if(!g)return[];const P=g.map(j=>BI(j)).filter(Boolean);return[...new Set(P)]},[g]),{data:E}=yt({queryKey:["companies","batch",_.sort().join(",")],queryFn:async()=>_.length===0?[]:(await Ue.getCompanies({per_page:100,include:_.join(",")})).data,enabled:_.length>0}),N=I.useMemo(()=>{const P={};return E&&E.forEach(j=>{P[j.id]=ts(j)}),P},[E]),S=I.useMemo(()=>{const P={};return g.forEach(j=>{const D=BI(j);D&&N[D]&&(P[j.id]=N[D])}),P},[g,N]),O=I.useMemo(()=>g.map(P=>P.id).filter(Boolean),[g]),C=up({queries:O.map(P=>({queryKey:["person-dates",P],queryFn:async()=>(await Me.getPersonDates(P)).data,enabled:!!P}))}),T=I.useMemo(()=>{const P={};return C.forEach((j,D)=>{if(j.data&&O[D]){const L=O[D],G=j.data.some(H=>{const F=Array.isArray(H.date_type)?H.date_type[0]:H.date_type;return(F==null?void 0:F.toLowerCase())==="died"});P[L]=G}}),P},[C,O]);return u.jsxs("div",{className:"space-y-4",children:[u.jsx("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:u.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[u.jsxs("div",{className:"flex items-center gap-2 border border-gray-200 rounded-lg p-1",children:[u.jsxs("select",{value:a,onChange:P=>o(P.target.value),className:"text-sm border-0 bg-transparent focus:ring-0 focus:outline-none cursor-pointer",children:[u.jsx("option",{value:"first_name",children:"First name"}),u.jsx("option",{value:"last_name",children:"Last name"})]}),u.jsx("div",{className:"h-4 w-px bg-gray-300"}),u.jsx("button",{onClick:()=>c(l==="asc"?"desc":"asc"),className:"p-1 hover:bg-gray-100 rounded transition-colors",title:`Sort ${l==="asc"?"descending":"ascending"}`,children:l==="asc"?u.jsx(Nre,{className:"w-4 h-4 text-gray-600"}):u.jsx(Ere,{className:"w-4 h-4 text-gray-600"})})]}),u.jsxs("div",{className:"relative",ref:d,children:[u.jsxs("button",{onClick:()=>e(!t),className:`btn-secondary ${v?"bg-primary-50 text-primary-700 border-primary-200":""}`,children:[u.jsx(II,{className:"w-4 h-4 md:mr-2"}),u.jsx("span",{className:"hidden md:inline",children:"Filter"}),v&&u.jsx("span",{className:"ml-2 px-1.5 py-0.5 bg-primary-600 text-white text-xs rounded-full",children:i.length+(r?1:0)})]}),t&&u.jsx("div",{ref:h,className:"absolute top-full left-0 mt-2 w-64 bg-white border border-gray-200 rounded-lg shadow-lg z-50",children:u.jsxs("div",{className:"p-4 space-y-4",children:[u.jsx("div",{children:u.jsxs("label",{className:"flex items-center cursor-pointer",children:[u.jsx("input",{type:"checkbox",checked:r,onChange:P=>n(P.target.checked),className:"sr-only"}),u.jsx("div",{className:`flex items-center justify-center w-5 h-5 border-2 rounded mr-3 ${r?"bg-primary-600 border-primary-600":"border-gray-300"}`,children:r&&u.jsx(jI,{className:"w-3 h-3 text-white"})}),u.jsxs("div",{className:"flex items-center",children:[u.jsx(hu,{className:"w-4 h-4 mr-2 text-yellow-400 fill-current"}),u.jsx("span",{className:"text-sm font-medium text-gray-900",children:"Favorites only"})]})]})}),x.length>0&&u.jsxs("div",{children:[u.jsx("h3",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wide mb-2",children:"Labels"}),u.jsx("div",{className:"space-y-1 max-h-48 overflow-y-auto",children:x.map(P=>u.jsxs("label",{className:"flex items-center cursor-pointer hover:bg-gray-50 p-1 rounded",children:[u.jsx("input",{type:"checkbox",checked:i.includes(P),onChange:()=>w(P),className:"sr-only"}),u.jsx("div",{className:`flex items-center justify-center w-5 h-5 border-2 rounded mr-3 ${i.includes(P)?"bg-primary-600 border-primary-600":"border-gray-300"}`,children:i.includes(P)&&u.jsx(jI,{className:"w-3 h-3 text-white"})}),u.jsx("span",{className:"text-sm text-gray-700",children:P})]},P))})]}),v&&u.jsx("button",{onClick:b,className:"w-full text-sm text-primary-600 hover:text-primary-700 font-medium pt-2 border-t border-gray-200",children:"Clear all filters"})]})})]}),v&&u.jsxs("div",{className:"flex flex-wrap gap-2",children:[r&&u.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 bg-primary-100 text-primary-800 rounded-full text-xs",children:[u.jsx(hu,{className:"w-3 h-3"}),"Favorites",u.jsx("button",{onClick:()=>n(!1),className:"hover:text-primary-600",children:u.jsx(Un,{className:"w-3 h-3"})})]}),i.map(P=>u.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 bg-gray-100 text-gray-800 rounded-full text-xs",children:[P,u.jsx("button",{onClick:()=>w(P),className:"hover:text-gray-600",children:u.jsx(Un,{className:"w-3 h-3"})})]},P))]}),u.jsxs(fe,{to:"/people/new",className:"btn-primary",children:[u.jsx(er,{className:"w-4 h-4 md:mr-2"}),u.jsx("span",{className:"hidden md:inline",children:"Add person"})]})]})}),p&&u.jsx("div",{className:"flex items-center justify-center h-64",children:u.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"})}),m&&u.jsx("div",{className:"card p-6 text-center",children:u.jsx("p",{className:"text-red-600",children:"Failed to load people."})}),!p&&!m&&(f==null?void 0:f.length)===0&&u.jsxs("div",{className:"card p-12 text-center",children:[u.jsx("div",{className:"w-12 h-12 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4",children:u.jsx(er,{className:"w-6 h-6 text-gray-400"})}),u.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-1",children:"No people found"}),u.jsx("p",{className:"text-gray-500 mb-4",children:"Get started by adding your first person."}),u.jsxs(fe,{to:"/people/new",className:"btn-primary",children:[u.jsx(er,{className:"w-4 h-4 md:mr-2"}),u.jsx("span",{className:"hidden md:inline",children:"Add person"})]})]}),!p&&!m&&(g==null?void 0:g.length)>0&&u.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:g.map(P=>u.jsx(Hie,{person:P,companyName:S[P.id],isDeceased:T[P.id]||!1},P.id))}),!p&&!m&&(f==null?void 0:f.length)>0&&(g==null?void 0:g.length)===0&&u.jsxs("div",{className:"card p-12 text-center",children:[u.jsx("div",{className:"w-12 h-12 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4",children:u.jsx(II,{className:"w-6 h-6 text-gray-400"})}),u.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-1",children:"No people match your filters"}),u.jsx("p",{className:"text-gray-500 mb-4",children:"Try adjusting your filters to see more results."}),u.jsx("button",{onClick:b,className:"btn-secondary",children:"Clear filters"})]})]})}const Kie="#0285FF",Gie=I.forwardRef(function({title:e="Bluesky",color:r="currentColor",size:n=24,...i},s){return r==="default"&&(r=Kie),u.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:n,height:n,fill:r,viewBox:"0 0 24 24",ref:s,...i,children:[u.jsx("title",{children:e}),u.jsx("path",{d:"M12 10.8c-1.087-2.114-4.046-6.053-6.798-7.995C2.566.944 1.561 1.266.902 1.565.139 1.908 0 3.08 0 3.768c0 .69.378 5.65.624 6.479.815 2.736 3.713 3.66 6.383 3.364.136-.02.275-.039.415-.056-.138.022-.276.04-.415.056-3.912.58-7.387 2.005-2.83 7.078 5.013 5.19 6.87-1.113 7.823-4.308.953 3.195 2.05 9.271 7.733 4.308 4.267-4.308 1.172-6.498-2.74-7.078a8.741 8.741 0 0 1-.415-.056c.14.017.279.036.415.056 2.67.297 5.568-.628 6.383-3.364.246-.828.624-5.79.624-6.478 0-.69-.139-1.861-.902-2.206-.659-.298-1.664-.62-4.3 1.24C16.046 4.748 13.087 8.687 12 10.8Z"})]})}),Yie="#0866FF",Qie=I.forwardRef(function({title:e="Facebook",color:r="currentColor",size:n=24,...i},s){return r==="default"&&(r=Yie),u.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:n,height:n,fill:r,viewBox:"0 0 24 24",ref:s,...i,children:[u.jsx("title",{children:e}),u.jsx("path",{d:"M9.101 23.691v-7.98H6.627v-3.667h2.474v-1.58c0-4.085 1.848-5.978 5.858-5.978.401 0 .955.042 1.468.103a8.68 8.68 0 0 1 1.141.195v3.325a8.623 8.623 0 0 0-.653-.036 26.805 26.805 0 0 0-.733-.009c-.707 0-1.259.096-1.675.309a1.686 1.686 0 0 0-.679.622c-.258.42-.374.995-.374 1.752v1.297h3.919l-.386 2.103-.287 1.564h-3.246v8.245C19.396 23.238 24 18.179 24 12.044c0-6.627-5.373-12-12-12s-12 5.373-12 12c0 5.628 3.874 10.35 9.101 11.647Z"})]})}),Xie="#FF0069",Jie=I.forwardRef(function({title:e="Instagram",color:r="currentColor",size:n=24,...i},s){return r==="default"&&(r=Xie),u.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:n,height:n,fill:r,viewBox:"0 0 24 24",ref:s,...i,children:[u.jsx("title",{children:e}),u.jsx("path",{d:"M7.0301.084c-1.2768.0602-2.1487.264-2.911.5634-.7888.3075-1.4575.72-2.1228 1.3877-.6652.6677-1.075 1.3368-1.3802 2.127-.2954.7638-.4956 1.6365-.552 2.914-.0564 1.2775-.0689 1.6882-.0626 4.947.0062 3.2586.0206 3.6671.0825 4.9473.061 1.2765.264 2.1482.5635 2.9107.308.7889.72 1.4573 1.388 2.1228.6679.6655 1.3365 1.0743 2.1285 1.38.7632.295 1.6361.4961 2.9134.552 1.2773.056 1.6884.069 4.9462.0627 3.2578-.0062 3.668-.0207 4.9478-.0814 1.28-.0607 2.147-.2652 2.9098-.5633.7889-.3086 1.4578-.72 2.1228-1.3881.665-.6682 1.0745-1.3378 1.3795-2.1284.2957-.7632.4966-1.636.552-2.9124.056-1.2809.0692-1.6898.063-4.948-.0063-3.2583-.021-3.6668-.0817-4.9465-.0607-1.2797-.264-2.1487-.5633-2.9117-.3084-.7889-.72-1.4568-1.3876-2.1228C21.2982 1.33 20.628.9208 19.8378.6165 19.074.321 18.2017.1197 16.9244.0645 15.6471.0093 15.236-.005 11.977.0014 8.718.0076 8.31.0215 7.0301.0839m.1402 21.6932c-1.17-.0509-1.8053-.2453-2.2287-.408-.5606-.216-.96-.4771-1.3819-.895-.422-.4178-.6811-.8186-.9-1.378-.1644-.4234-.3624-1.058-.4171-2.228-.0595-1.2645-.072-1.6442-.079-4.848-.007-3.2037.0053-3.583.0607-4.848.05-1.169.2456-1.805.408-2.2282.216-.5613.4762-.96.895-1.3816.4188-.4217.8184-.6814 1.3783-.9003.423-.1651 1.0575-.3614 2.227-.4171 1.2655-.06 1.6447-.072 4.848-.079 3.2033-.007 3.5835.005 4.8495.0608 1.169.0508 1.8053.2445 2.228.408.5608.216.96.4754 1.3816.895.4217.4194.6816.8176.9005 1.3787.1653.4217.3617 1.056.4169 2.2263.0602 1.2655.0739 1.645.0796 4.848.0058 3.203-.0055 3.5834-.061 4.848-.051 1.17-.245 1.8055-.408 2.2294-.216.5604-.4763.96-.8954 1.3814-.419.4215-.8181.6811-1.3783.9-.4224.1649-1.0577.3617-2.2262.4174-1.2656.0595-1.6448.072-4.8493.079-3.2045.007-3.5825-.006-4.848-.0608M16.953 5.5864A1.44 1.44 0 1 0 18.39 4.144a1.44 1.44 0 0 0-1.437 1.4424M5.8385 12.012c.0067 3.4032 2.7706 6.1557 6.173 6.1493 3.4026-.0065 6.157-2.7701 6.1506-6.1733-.0065-3.4032-2.771-6.1565-6.174-6.1498-3.403.0067-6.156 2.771-6.1496 6.1738M8 12.0077a4 4 0 1 1 4.008 3.9921A3.9996 3.9996 0 0 1 8 12.0077"})]})}),Zie="#000000",ese=I.forwardRef(function({title:e="Threads",color:r="currentColor",size:n=24,...i},s){return r==="default"&&(r=Zie),u.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:n,height:n,fill:r,viewBox:"0 0 24 24",ref:s,...i,children:[u.jsx("title",{children:e}),u.jsx("path",{d:"M12.186 24h-.007c-3.581-.024-6.334-1.205-8.184-3.509C2.35 18.44 1.5 15.586 1.472 12.01v-.017c.03-3.579.879-6.43 2.525-8.482C5.845 1.205 8.6.024 12.18 0h.014c2.746.02 5.043.725 6.826 2.098 1.677 1.29 2.858 3.13 3.509 5.467l-2.04.569c-1.104-3.96-3.898-5.984-8.304-6.015-2.91.022-5.11.936-6.54 2.717C4.307 6.504 3.616 8.914 3.589 12c.027 3.086.718 5.496 2.057 7.164 1.43 1.783 3.631 2.698 6.54 2.717 2.623-.02 4.358-.631 5.8-2.045 1.647-1.613 1.618-3.593 1.09-4.798-.31-.71-.873-1.3-1.634-1.75-.192 1.352-.622 2.446-1.284 3.272-.886 1.102-2.14 1.704-3.73 1.79-1.202.065-2.361-.218-3.259-.801-1.063-.689-1.685-1.74-1.752-2.964-.065-1.19.408-2.285 1.33-3.082.88-.76 2.119-1.207 3.583-1.291a13.853 13.853 0 0 1 3.02.142c-.126-.742-.375-1.332-.75-1.757-.513-.586-1.308-.883-2.359-.89h-.029c-.844 0-1.992.232-2.721 1.32L7.734 7.847c.98-1.454 2.568-2.256 4.478-2.256h.044c3.194.02 5.097 1.975 5.287 5.388.108.046.216.094.321.142 1.49.7 2.58 1.761 3.154 3.07.797 1.82.871 4.79-1.548 7.158-1.85 1.81-4.094 2.628-7.277 2.65Zm1.003-11.69c-.242 0-.487.007-.739.021-1.836.103-2.98.946-2.916 2.143.067 1.256 1.452 1.839 2.784 1.767 1.224-.065 2.818-.543 3.086-3.71a10.5 10.5 0 0 0-2.215-.221z"})]})}),tse="#000000",rse=I.forwardRef(function({title:e="X",color:r="currentColor",size:n=24,...i},s){return r==="default"&&(r=tse),u.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:n,height:n,fill:r,viewBox:"0 0 24 24",ref:s,...i,children:[u.jsx("title",{children:e}),u.jsx("path",{d:"M18.901 1.153h3.68l-8.04 9.19L24 22.846h-7.406l-5.8-7.584-6.638 7.584H.474l8.6-9.83L0 1.154h7.594l5.243 6.932ZM17.61 20.644h2.039L6.486 3.24H4.298Z"})]})});function nse(t){if(!t||t.length===0)return{today:[],yesterday:[],thisWeek:[],older:[]};const e={today:[],yesterday:[],thisWeek:[],older:[]};return t.forEach(r=>{const n=pp(r.created),i=r.activity_date?pp(r.activity_date):n;bK(i)?e.today.push(r):xK(i)?e.yesterday.push(r):fie(i)?e.thisWeek.push(r):e.older.push(r)}),e}function ise(t){if(!t)return"";try{const e=pp(t),r=die(e,{addSuffix:!0});return bK(e)?r:xK(e)?"Yesterday":si(e,"MMM d, yyyy")}catch{return t}}function sse(t){return{call:"Phone",email:"Mail",meeting:"Users",coffee:"Coffee",lunch:"Utensils",note:"FileText"}[t]||"Circle"}function ase(t){return{call:"Phone call",email:"Email",meeting:"Meeting",coffee:"Coffee",lunch:"Lunch",note:"Note"}[t]||t||"Activity"}function SK(t){if(!t.due_date||t.is_completed)return!1;try{const e=pp(t.due_date),r=new Date;return r.setHours(0,0,0,0),e.setHours(0,0,0,0),e<r}catch{return!1}}function ose(t){const e=[];return t.is_completed?e.push("opacity-60","line-through"):SK(t)&&e.push("text-red-600","font-medium"),e.join(" ")}const lse={Phone:tP,Mail:eP,Users:$i,Coffee:JV,Utensils:uK,FileText:ZC,Circle:bO};function use({timeline:t,onEdit:e,onDelete:r,onToggleTodo:n,personId:i,allPeople:s=[]}){const a=I.useMemo(()=>nse(t||[]),[t]),o=f=>s.find(p=>p.id.toString()===f.toString()),l=f=>{if(f.type==="todo")return f.is_completed?TI:RI;if(f.type==="activity"&&f.activity_type){const p=sse(f.activity_type);return lse[p]||bO}return f.type==="note"?ZC:bO},c=f=>{const p=l(f),m=f.type==="todo",y=f.type==="activity";f.type;const x=f.activity_date||f.created,g=ise(x),v=ose(f),w=m&&SK(f);return u.jsxs("div",{className:`relative ${m?"pl-0":"pl-8"} pb-6 group`,children:[!m&&u.jsx("div",{className:"absolute left-0 top-1",children:u.jsx("div",{className:`w-4 h-4 rounded-full border-2 ${y?"bg-blue-500 border-blue-500":"bg-gray-400 border-gray-400"}`})}),u.jsx("div",{className:`${v}`,children:u.jsxs("div",{className:"flex items-start justify-between",children:[u.jsxs("div",{className:"flex-1 min-w-0",children:[u.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[!m&&u.jsx(p,{className:`w-4 h-4 flex-shrink-0 ${y?"text-blue-600":"text-gray-500"}`}),y&&f.activity_type&&u.jsx("span",{className:"text-xs font-medium text-gray-600",children:ase(f.activity_type)}),u.jsx("span",{className:"text-xs text-gray-400",children:""}),u.jsx("span",{className:"text-xs text-gray-500",children:g})]}),u.jsxs("div",{className:"flex items-start gap-2",children:[m&&u.jsx("button",{onClick:()=>n&&n(f),className:"mt-0.5 flex-shrink-0",title:f.is_completed?"Mark as incomplete":"Mark as complete",children:f.is_completed?u.jsx(TI,{className:`w-5 h-5 ${w?"text-red-600":"text-primary-600"}`}):u.jsx(RI,{className:`w-5 h-5 ${w?"text-red-600":"text-gray-400"}`})}),u.jsx("p",{className:`text-sm flex-1 ${f.is_completed?"line-through opacity-60":""}`,children:f.content})]}),y&&f.participants&&f.participants.length>0&&u.jsxs("div",{className:"mt-2 flex flex-wrap items-center gap-2",children:[u.jsx("span",{className:"text-xs text-gray-500",children:"With:"}),f.participants.map(b=>{const _=o(b);return _?u.jsxs(fe,{to:`/people/${b}`,className:"inline-flex items-center gap-1 text-xs text-primary-600 hover:text-primary-700 hover:underline",children:[u.jsx(eK,{className:"w-3 h-3"}),_.name]},b):null})]}),m&&f.due_date&&u.jsx("div",{className:"mt-2",children:u.jsxs("span",{className:`text-xs ${w?"text-red-600 font-medium":"text-gray-500"}`,children:["Due: ",si(new Date(f.due_date),"MMM d, yyyy"),w&&" (overdue)"]})})]}),u.jsxs("div",{className:"flex items-center gap-1 opacity-0 group-hover:opacity-100 transition-opacity ml-2",children:[e&&u.jsx("button",{onClick:()=>e(f),className:"p-1 hover:bg-gray-100 rounded",title:"Edit",children:u.jsx(Rc,{className:"w-4 h-4 text-gray-400 hover:text-gray-600"})}),r&&u.jsx("button",{onClick:()=>r(f),className:"p-1 hover:bg-red-50 rounded",title:"Delete",children:u.jsx(Oi,{className:"w-4 h-4 text-gray-400 hover:text-red-600"})})]})]})})]},f.id)},d=(f,p)=>!p||p.length===0?null:u.jsxs("div",{className:"mb-6",children:[u.jsx("h3",{className:"text-sm font-semibold text-gray-700 mb-3 uppercase tracking-wide",children:f}),u.jsx("div",{className:"relative pl-4 border-l-2 border-gray-200",children:p.map(c)})]});return a.today.length>0||a.yesterday.length>0||a.thisWeek.length>0||a.older.length>0?u.jsxs("div",{className:"space-y-6",children:[d("Today",a.today),d("Yesterday",a.yesterday),d("This week",a.thisWeek),d("Older",a.older)]}):u.jsx("div",{className:"text-center py-8",children:u.jsx("p",{className:"text-sm text-gray-500",children:"No timeline items yet."})})}function cse({isOpen:t,onClose:e,onSubmit:r,isLoading:n}){const[i,s]=I.useState("");if(!t)return null;const a=l=>{l.preventDefault(),i.trim()&&(r(i),s(""))},o=()=>{s(""),e()};return u.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50",children:u.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-md mx-4",children:[u.jsxs("div",{className:"flex items-center justify-between p-4 border-b",children:[u.jsx("h2",{className:"text-lg font-semibold",children:"Add note"}),u.jsx("button",{onClick:o,className:"text-gray-400 hover:text-gray-600",disabled:n,children:u.jsx(Un,{className:"w-5 h-5"})})]}),u.jsxs("form",{onSubmit:a,className:"p-4",children:[u.jsxs("div",{className:"mb-4",children:[u.jsx("label",{htmlFor:"note-content",className:"block text-sm font-medium text-gray-700 mb-2",children:"Note"}),u.jsx("textarea",{id:"note-content",value:i,onChange:l=>s(l.target.value),rows:6,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent",placeholder:"Enter your note...",disabled:n,autoFocus:!0})]}),u.jsxs("div",{className:"flex justify-end gap-2",children:[u.jsx("button",{type:"button",onClick:o,className:"btn-secondary",disabled:n,children:"Cancel"}),u.jsx("button",{type:"submit",className:"btn-primary",disabled:n||!i.trim(),children:n?"Adding...":"Add note"})]})]})]})})}const _v=[{id:"call",label:"Phone call",icon:tP},{id:"email",label:"Email",icon:eP},{id:"meeting",label:"Meeting",icon:$i},{id:"coffee",label:"Coffee",icon:JV},{id:"lunch",label:"Lunch",icon:uK},{id:"note",label:"Other",icon:ZC}];function dse({isOpen:t,onClose:e,onSubmit:r,isLoading:n,personId:i}){const[s,a]=I.useState("call"),[o,l]=I.useState(""),[c,d]=I.useState(""),[h,f]=I.useState([]),[p,m]=I.useState(!1),[y,x]=I.useState(""),{data:g}=Iu();if(I.useEffect(()=>{if(t){const T=new Date().toISOString().split("T")[0];l(T),d(""),f([]),a("call")}},[t]),!t)return null;const v=(g||[]).filter(T=>T.id.toString()!==(i==null?void 0:i.toString())),w=v.filter(T=>{var P;return(P=T.name)==null?void 0:P.toLowerCase().includes(y.toLowerCase())}),b=T=>{T.preventDefault(),c.trim()&&(r({activity_type:s,activity_date:o||null,content:c.trim(),participants:h}),d(""),f([]),l(new Date().toISOString().split("T")[0]))},_=()=>{d(""),f([]),l(""),m(!1),x(""),e()},E=T=>{f(P=>P.includes(T)?P.filter(j=>j!==T):[...P,T])},N=T=>{f(P=>P.filter(j=>j!==T))},S=()=>v.filter(T=>h.includes(T.id)),O=T=>{if(!T)return"";try{return new Date(T).toISOString().split("T")[0]}catch{return""}};return(_v.find(T=>T.id===s)||_v[0]).icon,u.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50",children:u.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-md mx-4 max-h-[90vh] overflow-y-auto",children:[u.jsxs("div",{className:"flex items-center justify-between p-4 border-b sticky top-0 bg-white z-10",children:[u.jsx("h2",{className:"text-lg font-semibold",children:"Add activity"}),u.jsx("button",{onClick:_,className:"text-gray-400 hover:text-gray-600",disabled:n,children:u.jsx(Un,{className:"w-5 h-5"})})]}),u.jsxs("form",{onSubmit:b,className:"p-4",children:[u.jsxs("div",{className:"mb-4",children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Activity type"}),u.jsx("div",{className:"grid grid-cols-3 gap-2",children:_v.map(T=>{const P=T.icon,j=s===T.id;return u.jsxs("button",{type:"button",onClick:()=>a(T.id),className:`flex flex-col items-center justify-center p-3 border-2 rounded-lg transition-colors ${j?"border-primary-600 bg-primary-50 text-primary-700":"border-gray-200 hover:border-gray-300 text-gray-700"}`,disabled:n,children:[u.jsx(P,{className:"w-5 h-5 mb-1"}),u.jsx("span",{className:"text-xs",children:T.label})]},T.id)})})]}),u.jsxs("div",{className:"mb-4",children:[u.jsx("label",{htmlFor:"activity-date",className:"block text-sm font-medium text-gray-700 mb-2",children:"Date"}),u.jsx("input",{id:"activity-date",type:"date",value:O(o),onChange:T=>l(T.target.value||""),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent",disabled:n})]}),u.jsxs("div",{className:"mb-4",children:[u.jsx("label",{htmlFor:"activity-content",className:"block text-sm font-medium text-gray-700 mb-2",children:"Description"}),u.jsx("textarea",{id:"activity-content",value:c,onChange:T=>d(T.target.value),rows:4,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent",placeholder:"What happened?",disabled:n,autoFocus:!0})]}),u.jsxs("div",{className:"mb-4",children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Participants (optional)"}),S().length>0&&u.jsx("div",{className:"flex flex-wrap gap-2 mb-2",children:S().map(T=>u.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 bg-primary-100 text-primary-700 rounded-full text-sm",children:[T.name,u.jsx("button",{type:"button",onClick:()=>N(T.id),className:"hover:text-primary-900",disabled:n,children:u.jsx(Un,{className:"w-3 h-3"})})]},T.id))}),u.jsxs("div",{className:"relative",children:[u.jsx("button",{type:"button",onClick:()=>m(!p),className:"w-full px-3 py-2 border border-gray-300 rounded-md text-left text-sm text-gray-500 hover:border-gray-400",disabled:n,children:h.length===0?"Add participants...":"Add more participants..."}),p&&u.jsxs("div",{className:"absolute z-20 w-full mt-1 bg-white border border-gray-300 rounded-md shadow-lg max-h-60 overflow-y-auto",children:[u.jsx("div",{className:"p-2 border-b",children:u.jsx("input",{type:"text",placeholder:"Search people...",value:y,onChange:T=>x(T.target.value),className:"w-full px-2 py-1 text-sm border border-gray-300 rounded",autoFocus:!0})}),u.jsx("div",{className:"max-h-48 overflow-y-auto",children:w.length===0?u.jsx("div",{className:"p-3 text-sm text-gray-500 text-center",children:"No people found"}):w.map(T=>{var j;const P=h.includes(T.id);return u.jsxs("button",{type:"button",onClick:()=>E(T.id),className:`w-full px-3 py-2 text-left text-sm hover:bg-gray-50 flex items-center gap-2 ${P?"bg-primary-50":""}`,children:[u.jsx("input",{type:"checkbox",checked:P,onChange:()=>{},className:"mr-1"}),T.thumbnail?u.jsx("img",{src:T.thumbnail,alt:T.name,className:"w-6 h-6 rounded-full"}):u.jsx("div",{className:"w-6 h-6 bg-gray-200 rounded-full flex items-center justify-center",children:u.jsx("span",{className:"text-xs text-gray-500",children:((j=T.first_name)==null?void 0:j[0])||"?"})}),u.jsx("span",{children:T.name})]},T.id)})})]})]})]}),u.jsxs("div",{className:"flex justify-end gap-2",children:[u.jsx("button",{type:"button",onClick:_,className:"btn-secondary",disabled:n,children:"Cancel"}),u.jsx("button",{type:"submit",className:"btn-primary",disabled:n||!c.trim(),children:n?"Adding...":"Add activity"})]})]})]})})}function hse({isOpen:t,onClose:e,onSubmit:r,isLoading:n,todo:i=null}){const[s,a]=I.useState(""),[o,l]=I.useState(""),[c,d]=I.useState(!1);if(I.useEffect(()=>{i?(a(i.content||""),l(i.due_date||""),d(i.is_completed||!1)):(a(""),l(""),d(!1))},[i,t]),!t)return null;const h=m=>{m.preventDefault(),s.trim()&&(r({content:s.trim(),due_date:o||null,is_completed:c}),i||(a(""),l(""),d(!1)))},f=()=>{i||(a(""),l(""),d(!1)),e()},p=m=>{if(!m)return"";try{return new Date(m).toISOString().split("T")[0]}catch{return""}};return u.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50",children:u.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-md mx-4",children:[u.jsxs("div",{className:"flex items-center justify-between p-4 border-b",children:[u.jsx("h2",{className:"text-lg font-semibold",children:i?"Edit todo":"Add todo"}),u.jsx("button",{onClick:f,className:"text-gray-400 hover:text-gray-600",disabled:n,children:u.jsx(Un,{className:"w-5 h-5"})})]}),u.jsxs("form",{onSubmit:h,className:"p-4",children:[u.jsxs("div",{className:"mb-4",children:[u.jsx("label",{htmlFor:"todo-content",className:"block text-sm font-medium text-gray-700 mb-2",children:"Description"}),u.jsx("textarea",{id:"todo-content",value:s,onChange:m=>a(m.target.value),rows:4,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent",placeholder:"What needs to be done?",disabled:n,autoFocus:!0})]}),u.jsxs("div",{className:"mb-4",children:[u.jsx("label",{htmlFor:"todo-due-date",className:"block text-sm font-medium text-gray-700 mb-2",children:"Due date (optional)"}),u.jsx("input",{id:"todo-due-date",type:"date",value:p(o),onChange:m=>l(m.target.value||""),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent",disabled:n})]}),i&&u.jsx("div",{className:"mb-4",children:u.jsxs("label",{className:"flex items-center",children:[u.jsx("input",{type:"checkbox",checked:c,onChange:m=>d(m.target.checked),className:"mr-2",disabled:n}),u.jsx("span",{className:"text-sm text-gray-700",children:"Completed"})]})}),u.jsxs("div",{className:"flex justify-end gap-2",children:[u.jsx("button",{type:"button",onClick:f,className:"btn-secondary",disabled:n,children:"Cancel"}),u.jsx("button",{type:"submit",className:"btn-primary",disabled:n||!s.trim(),children:n?i?"Saving...":"Adding...":i?"Save":"Add todo"})]})]})]})})}function Bi(t){return t?String(t).replace(/\\/g,"\\\\").replace(/;/g,"\\;").replace(/,/g,"\\,").replace(/\n/g,"\\n"):""}function fse(t){return t?t.replace(/[^\d+]/g,""):""}function zI(t){if(!t)return"";const e=new Date(t);if(isNaN(e.getTime()))return"";const r=e.getFullYear(),n=String(e.getMonth()+1).padStart(2,"0"),i=String(e.getDate()).padStart(2,"0");return`${r}${n}${i}`}function pse(t,e={}){if(!t||!Array.isArray(t))return{title:"",org:""};const r=t.find(i=>i.is_current);if(r){const i=r.company&&e[r.company]?e[r.company].name||e[r.company]:"";return{title:r.job_title||"",org:i}}const n=[...t].filter(i=>i.start_date).sort((i,s)=>new Date(s.start_date)-new Date(i.start_date));if(n.length>0){const i=n[0].company&&e[n[0].company]?e[n[0].company].name||e[n[0].company]:"";return{title:n[0].job_title||"",org:i}}return{title:"",org:""}}function mse(t,e={}){if(!t)throw new Error("Person data is required");const{companyMap:r={},personDates:n=[]}=e,i=t.acf||{},s=[];s.push("BEGIN:VCARD"),s.push("VERSION:3.0");const a=i.first_name||"",o=i.last_name||"",l=t.name||`${a} ${o}`.trim()||"Unknown";s.push(`FN:${Bi(l)}`),s.push(`N:${Bi(o)};${Bi(a)};;;`),i.nickname&&s.push(`NICKNAME:${Bi(i.nickname)}`),i.contact_info&&Array.isArray(i.contact_info)&&i.contact_info.forEach(h=>{if(!h.contact_value)return;const f=Bi(h.contact_value),p=h.contact_label?Bi(h.contact_label):"";switch(h.contact_type){case"email":const m=p?`EMAIL;TYPE=INTERNET,${p.toUpperCase()}`:"EMAIL;TYPE=INTERNET";s.push(`${m}:${f}`);break;case"phone":case"mobile":const y=h.contact_type==="mobile"?"CELL":"VOICE",x=p?`TEL;TYPE=${y},${p.toUpperCase()}`:`TEL;TYPE=${y}`,g=fse(h.contact_value);g&&s.push(`${x}:${g}`);break;case"address":s.push(`ADR;TYPE=HOME:;;${f};;;;`);break;case"website":case"linkedin":case"twitter":case"instagram":case"facebook":let v=h.contact_value;v.match(/^https?:\/\//i)||(v=`https://${v}`);const w=h.contact_type==="linkedin"?"PROFILE":"WORK",b=p?`URL;TYPE=${w},${p.toUpperCase()}`:`URL;TYPE=${w}`;s.push(`${b}:${Bi(v)}`);break}});const{title:c,org:d}=pse(i.work_history,r);if(d&&s.push(`ORG:${Bi(d)}`),c&&s.push(`TITLE:${Bi(c)}`),n&&Array.isArray(n)){const h=n.find(f=>{const p=Array.isArray(f.date_type)?f.date_type[0]:f.date_type;return(p==null?void 0:p.toLowerCase())==="birthday"});if(h!=null&&h.date_value){const f=zI(h.date_value);f&&s.push(`BDAY:${f}`)}}if(t.thumbnail,t.modified){const h=zI(t.modified);h&&s.push(`REV:${h}T000000Z`)}return s.push("END:VCARD"),s.join(`\r
`)}function vse(t,e={}){const{filename:r,...n}=e,i=mse(t,n),s=new Blob([i],{type:"text/vcard;charset=utf-8"}),a=URL.createObjectURL(s),o=document.createElement("a");o.href=a,o.download=r||`${t.name||"contact"}.vcf`.replace(/[^a-z0-9.-]/gi,"_"),document.body.appendChild(o),o.click(),document.body.removeChild(o),URL.revokeObjectURL(a)}const gse=({className:t})=>u.jsx("svg",{className:t,viewBox:"0 0 382 382",xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",children:u.jsx("path",{d:`M347.445,0H34.555C15.471,0,0,15.471,0,34.555v312.889C0,366.529,15.471,382,34.555,382h312.889
      C366.529,382,382,366.529,382,347.444V34.555C382,15.471,366.529,0,347.445,0z M118.207,329.844c0,5.554-4.502,10.056-10.056,10.056
      H65.345c-5.554,0-10.056-4.502-10.056-10.056V150.403c0-5.554,4.502-10.056,10.056-10.056h42.806
      c5.554,0,10.056,4.502,10.056,10.056V329.844z M86.748,123.432c-22.459,0-40.666-18.207-40.666-40.666S64.289,42.1,86.748,42.1
      s40.666,18.207,40.666,40.666S109.208,123.432,86.748,123.432z M341.91,330.654c0,5.106-4.14,9.246-9.246,9.246H286.73
      c-5.106,0-9.246-4.14-9.246-9.246v-84.168c0-12.556,3.683-55.021-32.813-55.021c-28.309,0-34.051,29.066-35.204,42.11v97.079
      c0,5.106-4.139,9.246-9.246,9.246h-44.426c-5.106,0-9.246-4.14-9.246-9.246V149.593c0-5.106,4.14-9.246,9.246-9.246h44.426
      c5.106,0,9.246,4.14,9.246,9.246v15.655c10.497-15.753,26.097-27.912,59.312-27.912c73.552,0,73.131,68.716,73.131,106.472
      L341.91,330.654L341.91,330.654z`})});function nf(t){if(!t)return null;switch(t){case"male":return"";case"female":return"";case"non_binary":case"other":case"prefer_not_to_say":return"";default:return null}}function yse(){var gT,yT,bT,xT,wT,_T,ST,ET,NT,OT,CT,PT,TT,jT;const{id:t}=ws(),e=un(),r=pt(),{data:n,isLoading:i,error:s}=Ru(t),{data:a}=$ie(t),{data:o}=kie(t),l=Mie(),c=Aie(),d=Wie(),h=Qd(),f=qie(),p=Fie(),m=Bie(),y=zie(),x=Lie(),g=Uie(),{data:v}=Iu(),[w,b]=I.useState(!1),[_,E]=I.useState(""),[N,S]=I.useState(!1),O=I.useRef(null),[C,T]=I.useState(!1),[P,j]=I.useState(!1),[D,L]=I.useState(!1),[G,H]=I.useState(null),{data:F}=yt({queryKey:["person-labels"],queryFn:async()=>(await Ue.getPersonLabels()).data}),V=F||[],W=(n==null?void 0:n.labels)||[],U=((xT=(bT=(yT=(gT=n==null?void 0:n._embedded)==null?void 0:gT["wp:term"])==null?void 0:yT.flat())==null?void 0:bT.filter(k=>(k==null?void 0:k.taxonomy)==="person_label"))==null?void 0:xT.map(k=>k.id))||[],K=V.filter(k=>!W.includes(k.name));Sn((n==null?void 0:n.name)||((wT=n==null?void 0:n.title)==null?void 0:wT.rendered)||(n==null?void 0:n.title)||"Person");const he=o==null?void 0:o.find(k=>{const se=Array.isArray(k.date_type)?k.date_type[0]:k.date_type;return(se==null?void 0:se.toLowerCase())==="birthday"}),xe=he!=null&&he.date_value?new Date(he.date_value):null,Re=o==null?void 0:o.find(k=>{const se=Array.isArray(k.date_type)?k.date_type[0]:k.date_type;return(se==null?void 0:se.toLowerCase())==="died"}),ge=Re!=null&&Re.date_value?new Date(Re.date_value):null,Ee=!!ge,$e=xe?bv(Ee?ge:new Date,xe):null,rt=o?[...o].sort((k,se)=>{const te=k.date_value?new Date(k.date_value):new Date(0),Ce=se.date_value?new Date(se.date_value):new Date(0);return te-Ce}):[],nr=async()=>{if(window.confirm("Are you sure you want to delete this person?"))try{await l.mutateAsync(t),e("/people")}catch(k){console.error("Failed to delete person:",k),alert("Failed to delete person. Please try again.")}},bt=k=>{if(!k)return"";let se=k.replace(/[\u200B-\u200D\uFEFF\u200E\u200F\u202A-\u202E]/g,"");const te=se.startsWith("+");return se=se.replace(/\D/g,""),te?`+${se}`:se},pr=async k=>{var Ce;if(!window.confirm("Are you sure you want to delete this contact detail?"))return;const se=[...((Ce=n.acf)==null?void 0:Ce.contact_info)||[]];se.splice(k,1);const te=Wa(n.acf,{contact_info:se});await h.mutateAsync({id:t,data:{acf:te}})},lt=async k=>{var Ra,Yn,Fi,oc,IT,RT;if(!window.confirm("Are you sure you want to delete this relationship?"))return;const se=(Yn=(Ra=n.acf)==null?void 0:Ra.relationships)==null?void 0:Yn[k];if(!se)return;const te=se.related_person,Ce=se.relationship_type;let Fe=!0;te&&Ce&&(Fe=window.confirm("Do you also want to delete the inverse relationship from the other person?"));let Ye=null;if(!Fe&&te&&Ce)try{const[gi,kh]=await Promise.all([Ue.getPerson(te,{_embed:!0}),Ue.getRelationshipTypes()]),Bm={};kh.data.forEach(lc=>{Bm[lc.id]=lc});const Tn=Bm[Ce],$a=(Fi=Tn==null?void 0:Tn.acf)==null?void 0:Fi.inverse_relationship_type;if($a){const uc=(((oc=gi.data.acf)==null?void 0:oc.relationships)||[]).find(Li=>{var $T,kT;const MQ=typeof Li.related_person=="object"?($T=Li.related_person)==null?void 0:$T.ID:Li.related_person,qQ=typeof Li.relationship_type=="object"?(kT=Li.relationship_type)==null?void 0:kT.term_id:Li.relationship_type;return MQ===parseInt(t)&&qQ===$a});uc&&(Ye={related_person:parseInt(t),relationship_type:$a,relationship_label:uc.relationship_label||""})}}catch(gi){console.error("Failed to fetch inverse relationship:",gi)}const st=[...((IT=n.acf)==null?void 0:IT.relationships)||[]];st.splice(k,1);const nl=Wa(n.acf,{relationships:st});if(await h.mutateAsync({id:t,data:{acf:nl}}),!Fe&&Ye&&te){await new Promise(gi=>setTimeout(gi,500));try{const gi=await Ue.getPerson(te,{_embed:!0}),kh=((RT=gi.data.acf)==null?void 0:RT.relationships)||[];if(!kh.some(Tn=>{var uc,Li;const $a=typeof Tn.related_person=="object"?(uc=Tn.related_person)==null?void 0:uc.ID:Tn.related_person,lc=typeof Tn.relationship_type=="object"?(Li=Tn.relationship_type)==null?void 0:Li.term_id:Tn.relationship_type;return $a===Ye.related_person&&lc===Ye.relationship_type})){const Tn=[...kh,Ye],$a=Wa(gi.data.acf,{relationships:Tn});await Ue.updatePerson(te,{acf:$a})}}catch(gi){console.error("Failed to restore inverse relationship:",gi)}}r.invalidateQueries({queryKey:["person",t]}),te&&r.invalidateQueries({queryKey:["person",te]}),r.invalidateQueries({queryKey:["people"]})},jr=async k=>{window.confirm("Are you sure you want to delete this important date?")&&await d.mutateAsync({dateId:k,personId:t})},Ir=async k=>{window.confirm("Are you sure you want to delete this note?")&&await c.mutateAsync({noteId:k,personId:t})},Sr=async k=>{try{await f.mutateAsync({personId:t,content:k}),T(!1)}catch(se){console.error("Failed to create note:",se),alert("Failed to create note. Please try again.")}},nt=async k=>{try{await p.mutateAsync({personId:t,data:k}),j(!1)}catch(se){console.error("Failed to create activity:",se),alert("Failed to create activity. Please try again.")}},Lt=async k=>{try{await m.mutateAsync({personId:t,data:k}),L(!1),H(null)}catch(se){console.error("Failed to create todo:",se),alert("Failed to create todo. Please try again.")}},Rr=async k=>{if(G)try{await y.mutateAsync({todoId:G.id,data:k,personId:t}),L(!1),H(null)}catch(se){console.error("Failed to update todo:",se),alert("Failed to update todo. Please try again.")}},Kr=async k=>{try{await y.mutateAsync({todoId:k.id,data:{content:k.content,due_date:k.due_date,is_completed:!k.is_completed},personId:t})}catch(se){console.error("Failed to toggle todo:",se),alert("Failed to update todo. Please try again.")}},$=async k=>{window.confirm("Are you sure you want to delete this activity?")&&await x.mutateAsync({activityId:k,personId:t})},M=async k=>{window.confirm("Are you sure you want to delete this todo?")&&await g.mutateAsync({todoId:k,personId:t})},A=k=>{k.type==="todo"&&(H(k),L(!0))},ie=k=>{k.type==="note"?Ir(k.id):k.type==="activity"?$(k.id):k.type==="todo"&&M(k.id)},ee=async k=>{var Ce;if(!window.confirm("Are you sure you want to delete this work history item?"))return;const se=[...((Ce=n.acf)==null?void 0:Ce.work_history)||[]];se.splice(k,1);const te=Wa(n.acf,{work_history:se});await h.mutateAsync({id:t,data:{acf:te}})},Y=async k=>{var Ce,Fe,Ye;const se=(Ye=(Fe=(Ce=n==null?void 0:n._embedded)==null?void 0:Ce["wp:term"])==null?void 0:Fe.flat())==null?void 0:Ye.find(st=>(st==null?void 0:st.taxonomy)==="person_label"&&(st==null?void 0:st.name)===k);if(!se)return;const te=U.filter(st=>st!==se.id);await h.mutateAsync({id:t,data:{person_label:te}})},z=async()=>{if(!_)return;const k=V.find(te=>te.id.toString()===_);if(!k)return;const se=[...U,k.id];await h.mutateAsync({id:t,data:{person_label:se}}),E(""),b(!1)},ae=async k=>{var te;const se=(te=k.target.files)==null?void 0:te[0];if(se){if(!se.type.startsWith("image/")){alert("Please select an image file");return}if(se.size>5*1024*1024){alert("Image size must be less than 5MB");return}S(!0);try{await Me.uploadPersonPhoto(t,se),r.invalidateQueries({queryKey:["person",t]}),r.invalidateQueries({queryKey:["people"]})}catch(Ce){console.error("Failed to upload photo:",Ce),alert("Failed to upload photo. Please try again.")}finally{S(!1),O.current&&(O.current.value="")}}},de=()=>{if(n)try{vse(n,{companyMap:Cn,personDates:o||[]})}catch(k){console.error("Failed to export vCard:",k),alert("Failed to export vCard. Please try again.")}},He=((ST=(_T=n==null?void 0:n.acf)==null?void 0:_T.work_history)==null?void 0:ST.map(k=>k.company).filter(Boolean))||[],ve=up({queries:He.map(k=>({queryKey:["company",k],queryFn:async()=>(await Ue.getCompany(k,{_embed:!0})).data,enabled:!!k}))}),X=((NT=(ET=n==null?void 0:n.acf)==null?void 0:ET.relationships)==null?void 0:NT.map(k=>k.related_person).filter(Boolean))||[],le=up({queries:X.map(k=>({queryKey:["person-dates",k],queryFn:async()=>(await Me.getPersonDates(k)).data,enabled:!!k}))}),oe=I.useMemo(()=>{const k={};return le.forEach((se,te)=>{if(se.data&&X[te]){const Ce=X[te],Fe=se.data.find(Ye=>{const st=Array.isArray(Ye.date_type)?Ye.date_type[0]:Ye.date_type;return(st==null?void 0:st.toLowerCase())==="birthday"});if(Fe!=null&&Fe.date_value){const Ye=new Date(Fe.date_value);k[Ce]=bv(new Date,Ye)}else k[Ce]=-1}}),k},[le,X]),_e=I.useMemo(()=>{const k={};return le.forEach((se,te)=>{if(se.data&&X[te]){const Ce=X[te],Fe=se.data.some(Ye=>{const st=Array.isArray(Ye.date_type)?Ye.date_type[0]:Ye.date_type;return(st==null?void 0:st.toLowerCase())==="died"});k[Ce]=Fe}}),k},[le,X]),Ae=I.useMemo(()=>{var k;return(k=n==null?void 0:n.acf)!=null&&k.relationships?[...n.acf.relationships].sort((se,te)=>{const Ce=oe[se.related_person]??-1,Fe=oe[te.related_person]??-1;return Ce===-1&&Fe===-1?0:Ce===-1?1:Fe===-1?-1:Fe-Ce}):[]},[(OT=n==null?void 0:n.acf)==null?void 0:OT.relationships,oe]),Cn={};ve.forEach((k,se)=>{var te,Ce,Fe,Ye,st,nl,Ra,Yn,Fi;if(k.data){const oc=He[se];Cn[oc]={name:ts(k.data),logo:((Fe=(Ce=(te=k.data._embedded)==null?void 0:te["wp:featuredmedia"])==null?void 0:Ce[0])==null?void 0:Fe.source_url)||((Fi=(Yn=(Ra=(nl=(st=(Ye=k.data._embedded)==null?void 0:Ye["wp:featuredmedia"])==null?void 0:st[0])==null?void 0:nl.media_details)==null?void 0:Ra.sizes)==null?void 0:Yn.thumbnail)==null?void 0:Fi.source_url)||null}}});const Pn=I.useMemo(()=>{var k;return(k=n==null?void 0:n.acf)!=null&&k.work_history?[...n.acf.work_history].map((se,te)=>({...se,originalIndex:te})).sort((se,te)=>{if(se.is_current&&!te.is_current)return-1;if(!se.is_current&&te.is_current)return 1;const Ce=se.start_date?new Date(se.start_date):new Date(0);return(te.start_date?new Date(te.start_date):new Date(0))-Ce}):[]},[(CT=n==null?void 0:n.acf)==null?void 0:CT.work_history]);if(I.useEffect(()=>{(n==null?void 0:n.status)==="trash"&&e("/people",{replace:!0})},[n,e]),i)return u.jsx("div",{className:"flex items-center justify-center h-64",children:u.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"})});if(s||!n)return u.jsxs("div",{className:"card p-6 text-center",children:[u.jsx("p",{className:"text-red-600",children:"Failed to load person."}),u.jsx(fe,{to:"/people",className:"btn-secondary mt-4",children:"Back to people"})]});if(n.status==="trash")return null;const Xt=n.acf||{},Lm=["facebook","linkedin","instagram","twitter","bluesky","threads","website"],$Q=((PT=Xt.contact_info)==null?void 0:PT.filter(k=>Lm.includes(k.contact_type)))||[],mT={linkedin:1,twitter:2,bluesky:3,threads:4,instagram:5,facebook:6,website:7},vT=[...$Q].sort((k,se)=>{const te=mT[k.contact_type]||99,Ce=mT[se.contact_type]||99;return te-Ce}),kQ=k=>{switch(k){case"facebook":return Qie;case"linkedin":return gse;case"instagram":return Jie;case"twitter":return rse;case"bluesky":return Gie;case"threads":return ese;case"website":return jf;default:return jf}},DQ=k=>{switch(k){case"facebook":return"text-[#1877F2]";case"linkedin":return"text-[#0077B7]";case"instagram":return"text-[#E4405F]";case"twitter":return"text-[#1DA1F2]";case"bluesky":return"text-[#00A8E8]";case"threads":return"text-[#000000]";case"website":return"text-gray-600";default:return"text-gray-600"}};return u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs(fe,{to:"/people",className:"flex items-center text-gray-600 hover:text-gray-900",children:[u.jsx(xn,{className:"w-4 h-4 md:mr-2"}),u.jsx("span",{className:"hidden md:inline",children:"Back to people"})]}),u.jsxs("div",{className:"flex gap-2",children:[u.jsxs("button",{onClick:de,className:"btn-secondary",children:[u.jsx(xO,{className:"w-4 h-4 md:mr-2"}),u.jsx("span",{className:"hidden md:inline",children:"Export vCard"})]}),u.jsxs(fe,{to:`/people/${t}/edit`,className:"btn-secondary",children:[u.jsx(aK,{className:"w-4 h-4 md:mr-2"}),u.jsx("span",{className:"hidden md:inline",children:"Edit"})]}),u.jsxs("button",{onClick:nr,className:"btn-danger",children:[u.jsx(Oi,{className:"w-4 h-4 md:mr-2"}),u.jsx("span",{className:"hidden md:inline",children:"Delete"})]})]})]}),u.jsxs("div",{className:"card p-6 relative",children:[u.jsx("div",{className:"absolute top-4 right-4",children:u.jsx(fe,{to:`/people/${t}/family-tree`,className:"btn-secondary text-sm",children:"View family tree"})}),u.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center gap-4",children:[u.jsxs("div",{className:"relative group",children:[n.thumbnail?u.jsx("img",{src:n.thumbnail,alt:n.name,className:"w-28 h-28 rounded-full object-cover"}):u.jsx("div",{className:"w-28 h-28 bg-gray-200 rounded-full flex items-center justify-center",children:u.jsx("span",{className:"text-3xl font-medium text-gray-500",children:((TT=n.first_name)==null?void 0:TT[0])||"?"})}),u.jsx("div",{className:"absolute inset-0 rounded-full bg-black bg-opacity-0 group-hover:bg-opacity-50 transition-all duration-200 flex items-center justify-center cursor-pointer",onClick:()=>{var k;return(k=O.current)==null?void 0:k.click()},children:N?u.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-white"}):u.jsx(Tf,{className:"w-6 h-6 text-white opacity-0 group-hover:opacity-100 transition-opacity"})}),u.jsx("input",{ref:O,type:"file",accept:"image/*",onChange:ae,className:"hidden",disabled:N})]}),u.jsxs("div",{className:"flex-1 space-y-3",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsxs("h1",{className:"text-2xl font-bold",children:[n.name,Ee&&u.jsx("span",{className:"ml-1 text-gray-500",children:""})]}),n.is_favorite&&u.jsx(hu,{className:"w-5 h-5 text-yellow-400 fill-current"})]}),Xt.nickname&&u.jsxs("p",{className:"text-gray-500",children:['"',Xt.nickname,'"']}),Ee&&ge&&$e!==null&&u.jsxs("p",{className:"text-gray-500 text-sm",children:[nf(Xt.gender)&&u.jsx("span",{className:"mr-1",children:nf(Xt.gender)}),"Died ",si(ge,"MMMM d, yyyy")," at age ",$e]}),!Ee&&$e!==null&&u.jsxs("p",{className:"text-gray-500 text-sm",children:[nf(Xt.gender)&&u.jsx("span",{className:"mr-1",children:nf(Xt.gender)}),$e," years old"]}),u.jsxs("div",{children:[u.jsxs("div",{className:"flex flex-wrap gap-2 items-center",children:[n.labels&&n.labels.length>0&&n.labels.map((k,se)=>u.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 rounded-full text-xs font-medium bg-gray-100 text-gray-700 group/label",children:[k,u.jsx("button",{onClick:()=>Y(k),className:"opacity-0 group-hover/label:opacity-100 transition-opacity hover:bg-gray-200 rounded-full p-0.5",title:"Remove label",children:u.jsx(Un,{className:"w-3 h-3"})})]},se)),w?u.jsxs("div",{className:"inline-flex items-center gap-2",children:[u.jsxs("select",{value:_,onChange:k=>E(k.target.value),className:"text-xs border border-gray-300 rounded px-2 py-1",autoFocus:!0,disabled:K.length===0,children:[u.jsx("option",{value:"",children:"Select a label..."}),K.map(k=>u.jsx("option",{value:k.id,children:k.name},k.id))]}),u.jsx("button",{onClick:z,disabled:!_,className:"text-xs px-2 py-1 bg-primary-600 text-white rounded hover:bg-primary-700 disabled:opacity-50 disabled:cursor-not-allowed",children:"Add"}),u.jsx("button",{onClick:()=>{b(!1),E("")},className:"text-xs px-2 py-1 bg-gray-200 text-gray-700 rounded hover:bg-gray-300",children:"Cancel"})]}):K.length>0&&u.jsxs("button",{onClick:()=>b(!0),className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-gray-100 text-gray-700 hover:bg-gray-200 transition-colors",children:[u.jsx(er,{className:"w-3 h-3 mr-1"}),"Add label"]})]}),vT.length>0&&u.jsx("div",{className:"flex items-center gap-3 mt-4",children:vT.map((k,se)=>{const te=kQ(k.contact_type),Ce=DQ(k.contact_type);let Fe=k.contact_value;return Fe.match(/^https?:\/\//i)||(Fe=`https://${Fe}`),u.jsx("a",{href:Fe,target:"_blank",rel:"noopener noreferrer",className:`flex-shrink-0 hover:opacity-80 transition-opacity ${Ce}`,title:`${k.contact_type.charAt(0).toUpperCase()+k.contact_type.slice(1)}: ${k.contact_value}`,children:u.jsx(te,{className:"w-5 h-5"})},se)})})]})]})]})]}),u.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[u.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[!Ee&&u.jsxs("div",{className:"card p-6",children:[u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsx("h2",{className:"font-semibold",children:"Contact information"}),u.jsxs(fe,{to:`/people/${t}/contact/new`,className:"btn-secondary text-sm",children:[u.jsx(er,{className:"w-4 h-4 md:mr-1"}),u.jsx("span",{className:"hidden md:inline",children:"Add contact detail"})]})]}),((jT=Xt.contact_info)==null?void 0:jT.filter(k=>!Lm.includes(k.contact_type)).length)>0?u.jsx("div",{className:"space-y-2",children:(()=>{const k={email:1,phone:2,mobile:2,address:3,other:4};return Xt.contact_info.filter(te=>!Lm.includes(te.contact_type)).map((te,Ce)=>({...te,originalIndex:Ce})).sort((te,Ce)=>{const Fe=k[te.contact_type]||99,Ye=k[Ce.contact_type]||99;return Fe!==Ye?Fe-Ye:te.originalIndex-Ce.originalIndex}).map((te,Ce)=>{Xt.contact_info.indexOf(te);const Fe=te.contact_type==="email"?eP:te.contact_type==="phone"||te.contact_type==="mobile"?tP:te.contact_type==="address"?$re:jf,Ye=te.contact_type==="email",st=te.contact_type==="phone"||te.contact_type==="mobile",nl=te.contact_type==="mobile",Ra=te.contact_type==="address";let Yn=null,Fi=null;return Ye?Yn=`mailto:${te.contact_value}`:st?Yn=`tel:${bt(te.contact_value)}`:Ra&&(Yn=`https://www.google.com/maps/search/?api=1&query=${encodeURIComponent(te.contact_value)}`,Fi="_blank"),u.jsx("div",{className:"group",children:u.jsxs("div",{className:"flex items-center rounded-md -mx-2 px-2 py-1.5 group-hover:bg-gray-50 transition-colors",children:[u.jsx(Fe,{className:"w-4 h-4 text-gray-400 mr-3 flex-shrink-0"}),u.jsxs("div",{className:"flex-1 min-w-0 flex items-center gap-2",children:[u.jsxs("span",{className:"text-sm text-gray-500",children:[te.contact_label||te.contact_type,": "]}),Yn?u.jsx("a",{href:Yn,target:Fi||void 0,rel:Fi==="_blank"?"noopener noreferrer":void 0,className:"text-primary-600 hover:text-primary-700 hover:underline",children:te.contact_value}):u.jsx("span",{children:te.contact_value}),nl&&u.jsx("a",{href:`https://wa.me/${bt(te.contact_value)}`,target:"_blank",rel:"noopener noreferrer",className:"flex-shrink-0 hover:opacity-80 transition-opacity",title:"Open WhatsApp",children:u.jsx(Dre,{className:"w-4 h-4 text-[#25D366]"})})]}),u.jsxs("div",{className:"flex items-center gap-1 opacity-0 group-hover:opacity-100 transition-opacity ml-2",children:[u.jsx(fe,{to:`/people/${t}/contact/${te.originalIndex}/edit`,className:"p-1 hover:bg-gray-100 rounded",title:"Edit contact detail",children:u.jsx(Rc,{className:"w-4 h-4 text-gray-400 hover:text-gray-600"})}),u.jsx("button",{onClick:()=>pr(te.originalIndex),className:"p-1 hover:bg-red-50 rounded",title:"Delete contact detail",children:u.jsx(Oi,{className:"w-4 h-4 text-gray-400 hover:text-red-600"})})]})]})},te.originalIndex)})})()}):u.jsx("p",{className:"text-sm text-gray-500 text-center py-4",children:"No contact information yet."})]}),u.jsxs("div",{className:"card p-6",children:[u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsx("h2",{className:"font-semibold",children:"Events"}),u.jsxs(fe,{to:`/dates/new?person=${t}`,className:"btn-secondary text-sm",children:[u.jsx(er,{className:"w-4 h-4 md:mr-1"}),u.jsx("span",{className:"hidden md:inline",children:"Add Important Date"})]})]}),rt.length>0?u.jsx("div",{className:"space-y-3",children:rt.map(k=>{const se=Array.isArray(k.date_type)?k.date_type[0]:k.date_type,te=(se==null?void 0:se.toLowerCase())||"",Ce=te.includes("died"),Fe=te.includes("wedding")||te.includes("marriage")?jre:te.includes("birthday")?Tre:lo;return u.jsxs("div",{className:"flex items-start group",children:[u.jsx("div",{className:"w-8 h-8 bg-gray-100 rounded-lg flex items-center justify-center mr-3",children:Ce?u.jsx("span",{className:"text-gray-500 text-lg font-semibold",children:""}):u.jsx(Fe,{className:"w-4 h-4 text-gray-500"})}),u.jsxs("div",{className:"flex-1",children:[u.jsx("p",{className:"text-sm font-medium",children:k.title}),u.jsx("p",{className:"text-xs text-gray-500",children:k.date_value&&si(new Date(k.date_value),"MMMM d, yyyy")}),se&&u.jsx("p",{className:"text-xs text-gray-400 capitalize",children:se})]}),u.jsxs("div",{className:"flex items-center gap-1 opacity-0 group-hover:opacity-100 transition-opacity",children:[u.jsx(fe,{to:`/dates/${k.id}/edit`,className:"p-1 hover:bg-gray-100 rounded",title:"Edit date",children:u.jsx(Rc,{className:"w-4 h-4 text-gray-400 hover:text-gray-600"})}),u.jsx("button",{onClick:()=>jr(k.id),className:"p-1 hover:bg-red-50 rounded",title:"Delete date",children:u.jsx(Oi,{className:"w-4 h-4 text-gray-400 hover:text-red-600"})})]})]},k.id)})}):u.jsx("p",{className:"text-sm text-gray-500 text-center py-4",children:"No important dates yet."})]}),u.jsxs("div",{className:"card p-6",children:[u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsx("h2",{className:"font-semibold",children:"Work history"}),u.jsxs(fe,{to:`/people/${t}/work-history/new`,className:"btn-secondary text-sm",children:[u.jsx(er,{className:"w-4 h-4 md:mr-1"}),u.jsx("span",{className:"hidden md:inline",children:"Add work history"})]})]}),(Pn==null?void 0:Pn.length)>0?u.jsx("div",{className:"space-y-4",children:Pn.map((k,se)=>{const te=k.company?Cn[k.company]:null,Ce=k.originalIndex;return u.jsxs("div",{className:"flex items-start group",children:[te!=null&&te.logo?u.jsx("img",{src:te.logo,alt:te.name,className:"w-20 h-20 rounded-lg object-contain bg-white mr-3 flex-shrink-0"}):u.jsx("div",{className:"w-20 h-20 bg-white rounded-lg flex items-center justify-center mr-3 flex-shrink-0 border border-gray-200",children:u.jsx(ms,{className:"w-10 h-10 text-gray-500"})}),u.jsxs("div",{className:"flex-1 min-w-0",children:[u.jsx("p",{className:"font-medium",children:k.job_title}),k.company&&te&&u.jsx(fe,{to:`/companies/${k.company}`,className:"text-sm text-primary-600 hover:underline",children:te.name}),u.jsxs("p",{className:"text-sm text-gray-500",children:[k.start_date&&si(new Date(k.start_date),"MMM yyyy")," - ",k.is_current?"Present":k.end_date?si(new Date(k.end_date),"MMM yyyy"):""]}),k.description&&u.jsx("p",{className:"text-sm text-gray-600 mt-1",children:k.description})]}),u.jsxs("div",{className:"flex items-center gap-1 opacity-0 group-hover:opacity-100 transition-opacity ml-2",children:[u.jsx(fe,{to:`/people/${t}/work-history/${Ce}/edit`,className:"p-1 hover:bg-gray-100 rounded",title:"Edit work history",children:u.jsx(Rc,{className:"w-4 h-4 text-gray-400 hover:text-gray-600"})}),u.jsx("button",{onClick:()=>ee(Ce),className:"p-1 hover:bg-red-50 rounded",title:"Delete work history",children:u.jsx(Oi,{className:"w-4 h-4 text-gray-400 hover:text-red-600"})})]})]},Ce)})}):u.jsx("p",{className:"text-sm text-gray-500 text-center py-4",children:"No work history yet."})]}),u.jsxs("div",{className:"card p-6",children:[u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsx("h2",{className:"font-semibold",children:"Timeline"}),u.jsxs("div",{className:"flex gap-2",children:[u.jsxs("button",{onClick:()=>T(!0),className:"btn-secondary text-sm",children:[u.jsx(er,{className:"w-4 h-4 md:mr-1"}),u.jsx("span",{className:"hidden md:inline",children:"Note"})]}),u.jsxs("button",{onClick:()=>j(!0),className:"btn-secondary text-sm",children:[u.jsx(er,{className:"w-4 h-4 md:mr-1"}),u.jsx("span",{className:"hidden md:inline",children:"Activity"})]}),u.jsxs("button",{onClick:()=>{H(null),L(!0)},className:"btn-secondary text-sm",children:[u.jsx(er,{className:"w-4 h-4 md:mr-1"}),u.jsx("span",{className:"hidden md:inline",children:"Todo"})]})]})]}),u.jsx(use,{timeline:a||[],onEdit:A,onDelete:ie,onToggleTodo:Kr,personId:t,allPeople:v||[]})]}),u.jsx(cse,{isOpen:C,onClose:()=>T(!1),onSubmit:Sr,isLoading:f.isPending}),u.jsx(dse,{isOpen:P,onClose:()=>j(!1),onSubmit:nt,isLoading:p.isPending,personId:t}),u.jsx(hse,{isOpen:D,onClose:()=>{L(!1),H(null)},onSubmit:G?Rr:Lt,isLoading:G?y.isPending:m.isPending,todo:G})]}),u.jsxs("div",{className:"space-y-6",children:[(Xt.how_we_met||Xt.met_date)&&u.jsxs("div",{className:"card p-6",children:[u.jsx("h2",{className:"font-semibold mb-3",children:"How we met"}),Xt.met_date&&u.jsxs("p",{className:"text-sm text-gray-500 mb-2",children:[u.jsx(lo,{className:"w-4 h-4 inline mr-1"}),si(new Date(Xt.met_date),"MMMM d, yyyy")]}),Xt.how_we_met&&u.jsx("p",{className:"text-sm",children:Xt.how_we_met})]}),u.jsxs("div",{className:"card p-6",children:[u.jsxs("div",{className:"flex items-center justify-between mb-3",children:[u.jsx("h2",{className:"font-semibold",children:"Relationships"}),u.jsxs(fe,{to:`/people/${t}/relationship/new`,className:"btn-secondary text-sm",children:[u.jsx(er,{className:"w-4 h-4 md:mr-1"}),u.jsx("span",{className:"hidden md:inline",children:"Add relationship"})]})]}),(Ae==null?void 0:Ae.length)>0?u.jsx("div",{className:"space-y-2",children:Ae.map((k,se)=>{var Ce,Fe,Ye;const te=((Fe=(Ce=n==null?void 0:n.acf)==null?void 0:Ce.relationships)==null?void 0:Fe.findIndex(st=>st.related_person===k.related_person&&st.relationship_type===k.relationship_type))??se;return u.jsxs("div",{className:"flex items-center p-2 rounded hover:bg-gray-50 group",children:[u.jsxs(fe,{to:`/people/${k.related_person}`,className:"flex items-center flex-1 min-w-0",children:[k.person_thumbnail?u.jsx("img",{src:k.person_thumbnail,alt:li(k.person_name)||"",className:"w-8 h-8 rounded-full object-cover mr-2"}):u.jsx("div",{className:"w-8 h-8 bg-gray-200 rounded-full mr-2 flex items-center justify-center",children:u.jsx("span",{className:"text-xs font-medium text-gray-500",children:((Ye=li(k.person_name))==null?void 0:Ye[0])||"?"})}),u.jsxs("div",{children:[u.jsxs("p",{className:"text-sm font-medium",children:[li(k.person_name)||`Person #${k.related_person}`,_e[k.related_person]&&u.jsx("span",{className:"text-gray-400 ml-1",title:"Deceased",children:""})]}),u.jsx("p",{className:"text-xs text-gray-500",children:li(k.relationship_name||k.relationship_label)})]})]}),u.jsxs("div",{className:"flex items-center gap-1 opacity-0 group-hover:opacity-100 transition-opacity ml-2",children:[u.jsx(fe,{to:`/people/${t}/relationship/${te}/edit`,className:"p-1 hover:bg-gray-100 rounded",title:"Edit relationship",children:u.jsx(Rc,{className:"w-4 h-4 text-gray-400 hover:text-gray-600"})}),u.jsx("button",{onClick:()=>lt(te),className:"p-1 hover:bg-red-50 rounded",title:"Delete relationship",children:u.jsx(Oi,{className:"w-4 h-4 text-gray-400 hover:text-red-600"})})]})]},se)})}):u.jsx("p",{className:"text-sm text-gray-500 text-center py-4",children:"No relationships yet."})]})]})]})]})}var Xd=t=>t.type==="checkbox",Ha=t=>t instanceof Date,Qr=t=>t==null;const EK=t=>typeof t=="object";var Ut=t=>!Qr(t)&&!Array.isArray(t)&&EK(t)&&!Ha(t),NK=t=>Ut(t)&&t.target?Xd(t.target)?t.target.checked:t.target.value:t,bse=t=>t.substring(0,t.search(/\.\d+(\.|$)/))||t,OK=(t,e)=>t.has(bse(e)),xse=t=>{const e=t.constructor&&t.constructor.prototype;return Ut(e)&&e.hasOwnProperty("isPrototypeOf")},rP=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function Jt(t){if(t instanceof Date)return new Date(t);const e=typeof FileList<"u"&&t instanceof FileList;if(rP&&(t instanceof Blob||e))return t;const r=Array.isArray(t);if(!r&&!(Ut(t)&&xse(t)))return t;const n=r?[]:Object.create(Object.getPrototypeOf(t));for(const i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=Jt(t[i]));return n}var im=t=>/^\w*$/.test(t),$t=t=>t===void 0,nP=t=>Array.isArray(t)?t.filter(Boolean):[],iP=t=>nP(t.replace(/["|']|\]/g,"").split(/\.|\[/)),ue=(t,e,r)=>{if(!e||!Ut(t))return r;const n=(im(e)?[e]:iP(e)).reduce((i,s)=>Qr(i)?i:i[s],t);return $t(n)||n===t?$t(t[e])?r:t[e]:n},mn=t=>typeof t=="boolean",Lr=t=>typeof t=="function",ut=(t,e,r)=>{let n=-1;const i=im(e)?[e]:iP(e),s=i.length,a=s-1;for(;++n<s;){const o=i[n];let l=r;if(n!==a){const c=t[o];l=Ut(c)||Array.isArray(c)?c:isNaN(+i[n+1])?{}:[]}if(o==="__proto__"||o==="constructor"||o==="prototype")return;t[o]=l,t=t[o]}};const mp={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},ai={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},zi={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},CK=je.createContext(null);CK.displayName="HookFormContext";const sP=()=>je.useContext(CK);var PK=(t,e,r,n=!0)=>{const i={defaultValues:e._defaultValues};for(const s in t)Object.defineProperty(i,s,{get:()=>{const a=s;return e._proxyFormState[a]!==ai.all&&(e._proxyFormState[a]=!n||ai.all),r&&(r[a]=!0),t[a]}});return i};const aP=typeof window<"u"?je.useLayoutEffect:je.useEffect;function wse(t){const e=sP(),{control:r=e.control,disabled:n,name:i,exact:s}=t||{},[a,o]=je.useState(r._formState),l=je.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1});return aP(()=>r._subscribe({name:i,formState:l.current,exact:s,callback:c=>{!n&&o({...r._formState,...c})}}),[i,n,s]),je.useEffect(()=>{l.current.isValid&&r._setValid(!0)},[r]),je.useMemo(()=>PK(a,r,l.current,!1),[a,r])}var vn=t=>typeof t=="string",wO=(t,e,r,n,i)=>vn(t)?(n&&e.watch.add(t),ue(r,t,i)):Array.isArray(t)?t.map(s=>(n&&e.watch.add(s),ue(r,s))):(n&&(e.watchAll=!0),r),_O=t=>Qr(t)||!EK(t);function oi(t,e,r=new WeakSet){if(_O(t)||_O(e))return Object.is(t,e);if(Ha(t)&&Ha(e))return t.getTime()===e.getTime();const n=Object.keys(t),i=Object.keys(e);if(n.length!==i.length)return!1;if(r.has(t)||r.has(e))return!0;r.add(t),r.add(e);for(const s of n){const a=t[s];if(!i.includes(s))return!1;if(s!=="ref"){const o=e[s];if(Ha(a)&&Ha(o)||Ut(a)&&Ut(o)||Array.isArray(a)&&Array.isArray(o)?!oi(a,o,r):!Object.is(a,o))return!1}}return!0}function _se(t){const e=sP(),{control:r=e.control,name:n,defaultValue:i,disabled:s,exact:a,compute:o}=t||{},l=je.useRef(i),c=je.useRef(o),d=je.useRef(void 0),h=je.useRef(r),f=je.useRef(n);c.current=o;const[p,m]=je.useState(()=>{const b=r._getWatch(n,l.current);return c.current?c.current(b):b}),y=je.useCallback(b=>{const _=wO(n,r._names,b||r._formValues,!1,l.current);return c.current?c.current(_):_},[r._formValues,r._names,n]),x=je.useCallback(b=>{if(!s){const _=wO(n,r._names,b||r._formValues,!1,l.current);if(c.current){const E=c.current(_);oi(E,d.current)||(m(E),d.current=E)}else m(_)}},[r._formValues,r._names,s,n]);aP(()=>((h.current!==r||!oi(f.current,n))&&(h.current=r,f.current=n,x()),r._subscribe({name:n,formState:{values:!0},exact:a,callback:b=>{x(b.values)}})),[r,a,n,x]),je.useEffect(()=>r._removeUnmounted());const g=h.current!==r,v=f.current,w=je.useMemo(()=>{if(s)return null;const b=!g&&!oi(v,n);return g||b?y():null},[s,g,n,v,y]);return w!==null?w:p}function Sse(t){const e=sP(),{name:r,disabled:n,control:i=e.control,shouldUnregister:s,defaultValue:a,exact:o=!0}=t,l=OK(i._names.array,r),c=je.useMemo(()=>ue(i._formValues,r,ue(i._defaultValues,r,a)),[i,r,a]),d=_se({control:i,name:r,defaultValue:c,exact:o}),h=wse({control:i,name:r,exact:o}),f=je.useRef(t),p=je.useRef(void 0),m=je.useRef(i.register(r,{...t.rules,value:d,...mn(t.disabled)?{disabled:t.disabled}:{}}));f.current=t;const y=je.useMemo(()=>Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!ue(h.errors,r)},isDirty:{enumerable:!0,get:()=>!!ue(h.dirtyFields,r)},isTouched:{enumerable:!0,get:()=>!!ue(h.touchedFields,r)},isValidating:{enumerable:!0,get:()=>!!ue(h.validatingFields,r)},error:{enumerable:!0,get:()=>ue(h.errors,r)}}),[h,r]),x=je.useCallback(b=>m.current.onChange({target:{value:NK(b),name:r},type:mp.CHANGE}),[r]),g=je.useCallback(()=>m.current.onBlur({target:{value:ue(i._formValues,r),name:r},type:mp.BLUR}),[r,i._formValues]),v=je.useCallback(b=>{const _=ue(i._fields,r);_&&_._f&&b&&(_._f.ref={focus:()=>Lr(b.focus)&&b.focus(),select:()=>Lr(b.select)&&b.select(),setCustomValidity:E=>Lr(b.setCustomValidity)&&b.setCustomValidity(E),reportValidity:()=>Lr(b.reportValidity)&&b.reportValidity()})},[i._fields,r]),w=je.useMemo(()=>({name:r,value:d,...mn(n)||h.disabled?{disabled:h.disabled||n}:{},onChange:x,onBlur:g,ref:v}),[r,n,h.disabled,x,g,v,d]);return je.useEffect(()=>{const b=i._options.shouldUnregister||s,_=p.current;_&&_!==r&&!l&&i.unregister(_),i.register(r,{...f.current.rules,...mn(f.current.disabled)?{disabled:f.current.disabled}:{}});const E=(N,S)=>{const O=ue(i._fields,N);O&&O._f&&(O._f.mount=S)};if(E(r,!0),b){const N=Jt(ue(i._options.defaultValues,r,f.current.defaultValue));ut(i._defaultValues,r,N),$t(ue(i._formValues,r))&&ut(i._formValues,r,N)}return!l&&i.register(r),p.current=r,()=>{(l?b&&!i._state.action:b)?i.unregister(r):E(r,!1)}},[r,i,l,s]),je.useEffect(()=>{i._setDisabledField({disabled:n,name:r})},[n,r,i]),je.useMemo(()=>({field:w,formState:h,fieldState:y}),[w,h,y])}const vp=t=>t.render(Sse(t));var Ese=(t,e,r,n,i)=>e?{...r[t],types:{...r[t]&&r[t].types?r[t].types:{},[n]:i||!0}}:{},Wc=t=>Array.isArray(t)?t:[t],UI=()=>{let t=[];return{get observers(){return t},next:i=>{for(const s of t)s.next&&s.next(i)},subscribe:i=>(t.push(i),{unsubscribe:()=>{t=t.filter(s=>s!==i)}}),unsubscribe:()=>{t=[]}}};function TK(t,e){const r={};for(const n in t)if(t.hasOwnProperty(n)){const i=t[n],s=e[n];if(i&&Ut(i)&&s){const a=TK(i,s);Ut(a)&&(r[n]=a)}else t[n]&&(r[n]=s)}return r}var Dr=t=>Ut(t)&&!Object.keys(t).length,oP=t=>t.type==="file",gp=t=>{if(!rP)return!1;const e=t?t.ownerDocument:0;return t instanceof(e&&e.defaultView?e.defaultView.HTMLElement:HTMLElement)},jK=t=>t.type==="select-multiple",lP=t=>t.type==="radio",Nse=t=>lP(t)||Xd(t),Sv=t=>gp(t)&&t.isConnected;function Ose(t,e){const r=e.slice(0,-1).length;let n=0;for(;n<r;)t=$t(t)?n++:t[e[n++]];return t}function Cse(t){for(const e in t)if(t.hasOwnProperty(e)&&!$t(t[e]))return!1;return!0}function Bt(t,e){const r=Array.isArray(e)?e:im(e)?[e]:iP(e),n=r.length===1?t:Ose(t,r),i=r.length-1,s=r[i];return n&&delete n[s],i!==0&&(Ut(n)&&Dr(n)||Array.isArray(n)&&Cse(n))&&Bt(t,r.slice(0,-1)),t}var Pse=t=>{for(const e in t)if(Lr(t[e]))return!0;return!1};function IK(t){return Array.isArray(t)||Ut(t)&&!Pse(t)}function SO(t,e={}){for(const r in t){const n=t[r];IK(n)?(e[r]=Array.isArray(n)?[]:{},SO(n,e[r])):$t(n)||(e[r]=!0)}return e}function dl(t,e,r){r||(r=SO(e));for(const n in t){const i=t[n];if(IK(i))$t(e)||_O(r[n])?r[n]=SO(i,Array.isArray(i)?[]:{}):dl(i,Qr(e)?{}:e[n],r[n]);else{const s=e[n];r[n]=!oi(i,s)}}return r}const WI={value:!1,isValid:!1},HI={value:!0,isValid:!0};var RK=t=>{if(Array.isArray(t)){if(t.length>1){const e=t.filter(r=>r&&r.checked&&!r.disabled).map(r=>r.value);return{value:e,isValid:!!e.length}}return t[0].checked&&!t[0].disabled?t[0].attributes&&!$t(t[0].attributes.value)?$t(t[0].value)||t[0].value===""?HI:{value:t[0].value,isValid:!0}:HI:WI}return WI},$K=(t,{valueAsNumber:e,valueAsDate:r,setValueAs:n})=>$t(t)?t:e?t===""?NaN:t&&+t:r&&vn(t)?new Date(t):n?n(t):t;const VI={isValid:!1,value:null};var kK=t=>Array.isArray(t)?t.reduce((e,r)=>r&&r.checked&&!r.disabled?{isValid:!0,value:r.value}:e,VI):VI;function KI(t){const e=t.ref;return oP(e)?e.files:lP(e)?kK(t.refs).value:jK(e)?[...e.selectedOptions].map(({value:r})=>r):Xd(e)?RK(t.refs).value:$K($t(e.value)?t.ref.value:e.value,t)}var Tse=(t,e,r,n)=>{const i={};for(const s of t){const a=ue(e,s);a&&ut(i,s,a._f)}return{criteriaMode:r,names:[...t],fields:i,shouldUseNativeValidation:n}},yp=t=>t instanceof RegExp,_c=t=>$t(t)?t:yp(t)?t.source:Ut(t)?yp(t.value)?t.value.source:t.value:t,GI=t=>({isOnSubmit:!t||t===ai.onSubmit,isOnBlur:t===ai.onBlur,isOnChange:t===ai.onChange,isOnAll:t===ai.all,isOnTouch:t===ai.onTouched});const YI="AsyncFunction";var jse=t=>!!t&&!!t.validate&&!!(Lr(t.validate)&&t.validate.constructor.name===YI||Ut(t.validate)&&Object.values(t.validate).find(e=>e.constructor.name===YI)),Ise=t=>t.mount&&(t.required||t.min||t.max||t.maxLength||t.minLength||t.pattern||t.validate),QI=(t,e,r)=>!r&&(e.watchAll||e.watch.has(t)||[...e.watch].some(n=>t.startsWith(n)&&/^\.\w+/.test(t.slice(n.length))));const Hc=(t,e,r,n)=>{for(const i of r||Object.keys(t)){const s=ue(t,i);if(s){const{_f:a,...o}=s;if(a){if(a.refs&&a.refs[0]&&e(a.refs[0],i)&&!n)return!0;if(a.ref&&e(a.ref,a.name)&&!n)return!0;if(Hc(o,e))break}else if(Ut(o)&&Hc(o,e))break}}};function XI(t,e,r){const n=ue(t,r);if(n||im(r))return{error:n,name:r};const i=r.split(".");for(;i.length;){const s=i.join("."),a=ue(e,s),o=ue(t,s);if(a&&!Array.isArray(a)&&r!==s)return{name:r};if(o&&o.type)return{name:s,error:o};if(o&&o.root&&o.root.type)return{name:`${s}.root`,error:o.root};i.pop()}return{name:r}}var Rse=(t,e,r,n)=>{r(t);const{name:i,...s}=t;return Dr(s)||Object.keys(s).length>=Object.keys(e).length||Object.keys(s).find(a=>e[a]===(!n||ai.all))},$se=(t,e,r)=>!t||!e||t===e||Wc(t).some(n=>n&&(r?n===e:n.startsWith(e)||e.startsWith(n))),kse=(t,e,r,n,i)=>i.isOnAll?!1:!r&&i.isOnTouch?!(e||t):(r?n.isOnBlur:i.isOnBlur)?!t:(r?n.isOnChange:i.isOnChange)?t:!0,Dse=(t,e)=>!nP(ue(t,e)).length&&Bt(t,e),Mse=(t,e,r)=>{const n=Wc(ue(t,r));return ut(n,"root",e[r]),ut(t,r,n),t};function JI(t,e,r="validate"){if(vn(t)||Array.isArray(t)&&t.every(vn)||mn(t)&&!t)return{type:r,message:vn(t)?t:"",ref:e}}var ol=t=>Ut(t)&&!yp(t)?t:{value:t,message:""},ZI=async(t,e,r,n,i,s)=>{const{ref:a,refs:o,required:l,maxLength:c,minLength:d,min:h,max:f,pattern:p,validate:m,name:y,valueAsNumber:x,mount:g}=t._f,v=ue(r,y);if(!g||e.has(y))return{};const w=o?o[0]:a,b=P=>{i&&w.reportValidity&&(w.setCustomValidity(mn(P)?"":P||""),w.reportValidity())},_={},E=lP(a),N=Xd(a),S=E||N,O=(x||oP(a))&&$t(a.value)&&$t(v)||gp(a)&&a.value===""||v===""||Array.isArray(v)&&!v.length,C=Ese.bind(null,y,n,_),T=(P,j,D,L=zi.maxLength,G=zi.minLength)=>{const H=P?j:D;_[y]={type:P?L:G,message:H,ref:a,...C(P?L:G,H)}};if(s?!Array.isArray(v)||!v.length:l&&(!S&&(O||Qr(v))||mn(v)&&!v||N&&!RK(o).isValid||E&&!kK(o).isValid)){const{value:P,message:j}=vn(l)?{value:!!l,message:l}:ol(l);if(P&&(_[y]={type:zi.required,message:j,ref:w,...C(zi.required,j)},!n))return b(j),_}if(!O&&(!Qr(h)||!Qr(f))){let P,j;const D=ol(f),L=ol(h);if(!Qr(v)&&!isNaN(v)){const G=a.valueAsNumber||v&&+v;Qr(D.value)||(P=G>D.value),Qr(L.value)||(j=G<L.value)}else{const G=a.valueAsDate||new Date(v),H=W=>new Date(new Date().toDateString()+" "+W),F=a.type=="time",V=a.type=="week";vn(D.value)&&v&&(P=F?H(v)>H(D.value):V?v>D.value:G>new Date(D.value)),vn(L.value)&&v&&(j=F?H(v)<H(L.value):V?v<L.value:G<new Date(L.value))}if((P||j)&&(T(!!P,D.message,L.message,zi.max,zi.min),!n))return b(_[y].message),_}if((c||d)&&!O&&(vn(v)||s&&Array.isArray(v))){const P=ol(c),j=ol(d),D=!Qr(P.value)&&v.length>+P.value,L=!Qr(j.value)&&v.length<+j.value;if((D||L)&&(T(D,P.message,j.message),!n))return b(_[y].message),_}if(p&&!O&&vn(v)){const{value:P,message:j}=ol(p);if(yp(P)&&!v.match(P)&&(_[y]={type:zi.pattern,message:j,ref:a,...C(zi.pattern,j)},!n))return b(j),_}if(m){if(Lr(m)){const P=await m(v,r),j=JI(P,w);if(j&&(_[y]={...j,...C(zi.validate,j.message)},!n))return b(j.message),_}else if(Ut(m)){let P={};for(const j in m){if(!Dr(P)&&!n)break;const D=JI(await m[j](v,r),w,j);D&&(P={...D,...C(j,D.message)},b(D.message),n&&(_[y]=P))}if(!Dr(P)&&(_[y]={ref:w,...P},!n))return _}}return b(!0),_};const qse={mode:ai.onSubmit,reValidateMode:ai.onChange,shouldFocusError:!0};function Ase(t={}){let e={...qse,...t},r={submitCount:0,isDirty:!1,isReady:!1,isLoading:Lr(e.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1},n={},i=Ut(e.defaultValues)||Ut(e.values)?Jt(e.defaultValues||e.values)||{}:{},s=e.shouldUnregister?{}:Jt(i),a={action:!1,mount:!1,watch:!1,keepIsValid:!1},o={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},l,c=0;const d={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},h={...d};let f={...h};const p={array:UI(),state:UI()},m=e.criteriaMode===ai.all,y=$=>M=>{clearTimeout(c),c=setTimeout($,M)},x=async $=>{if(!a.keepIsValid&&!e.disabled&&(h.isValid||f.isValid||$)){let M;e.resolver?(M=Dr((await S()).errors),g()):M=await C(n,!0),M!==r.isValid&&p.state.next({isValid:M})}},g=($,M)=>{!e.disabled&&(h.isValidating||h.validatingFields||f.isValidating||f.validatingFields)&&(($||Array.from(o.mount)).forEach(A=>{A&&(M?ut(r.validatingFields,A,M):Bt(r.validatingFields,A))}),p.state.next({validatingFields:r.validatingFields,isValidating:!Dr(r.validatingFields)}))},v=($,M=[],A,ie,ee=!0,Y=!0)=>{if(ie&&A&&!e.disabled){if(a.action=!0,Y&&Array.isArray(ue(n,$))){const z=A(ue(n,$),ie.argA,ie.argB);ee&&ut(n,$,z)}if(Y&&Array.isArray(ue(r.errors,$))){const z=A(ue(r.errors,$),ie.argA,ie.argB);ee&&ut(r.errors,$,z),Dse(r.errors,$)}if((h.touchedFields||f.touchedFields)&&Y&&Array.isArray(ue(r.touchedFields,$))){const z=A(ue(r.touchedFields,$),ie.argA,ie.argB);ee&&ut(r.touchedFields,$,z)}(h.dirtyFields||f.dirtyFields)&&(r.dirtyFields=dl(i,s)),p.state.next({name:$,isDirty:P($,M),dirtyFields:r.dirtyFields,errors:r.errors,isValid:r.isValid})}else ut(s,$,M)},w=($,M)=>{ut(r.errors,$,M),p.state.next({errors:r.errors})},b=$=>{r.errors=$,p.state.next({errors:r.errors,isValid:!1})},_=($,M,A,ie)=>{const ee=ue(n,$);if(ee){const Y=ue(s,$,$t(A)?ue(i,$):A);$t(Y)||ie&&ie.defaultChecked||M?ut(s,$,M?Y:KI(ee._f)):L($,Y),a.mount&&!a.action&&x()}},E=($,M,A,ie,ee)=>{let Y=!1,z=!1;const ae={name:$};if(!e.disabled){if(!A||ie){(h.isDirty||f.isDirty)&&(z=r.isDirty,r.isDirty=ae.isDirty=P(),Y=z!==ae.isDirty);const de=oi(ue(i,$),M);z=!!ue(r.dirtyFields,$),de?Bt(r.dirtyFields,$):ut(r.dirtyFields,$,!0),ae.dirtyFields=r.dirtyFields,Y=Y||(h.dirtyFields||f.dirtyFields)&&z!==!de}if(A){const de=ue(r.touchedFields,$);de||(ut(r.touchedFields,$,A),ae.touchedFields=r.touchedFields,Y=Y||(h.touchedFields||f.touchedFields)&&de!==A)}Y&&ee&&p.state.next(ae)}return Y?ae:{}},N=($,M,A,ie)=>{const ee=ue(r.errors,$),Y=(h.isValid||f.isValid)&&mn(M)&&r.isValid!==M;if(e.delayError&&A?(l=y(()=>w($,A)),l(e.delayError)):(clearTimeout(c),l=null,A?ut(r.errors,$,A):Bt(r.errors,$)),(A?!oi(ee,A):ee)||!Dr(ie)||Y){const z={...ie,...Y&&mn(M)?{isValid:M}:{},errors:r.errors,name:$};r={...r,...z},p.state.next(z)}},S=async $=>(g($,!0),await e.resolver(s,e.context,Tse($||o.mount,n,e.criteriaMode,e.shouldUseNativeValidation))),O=async $=>{const{errors:M}=await S($);if(g($),$)for(const A of $){const ie=ue(M,A);ie?ut(r.errors,A,ie):Bt(r.errors,A)}else r.errors=M;return M},C=async($,M,A={valid:!0})=>{for(const ie in $){const ee=$[ie];if(ee){const{_f:Y,...z}=ee;if(Y){const ae=o.array.has(Y.name),de=ee._f&&jse(ee._f);de&&h.validatingFields&&g([Y.name],!0);const He=await ZI(ee,o.disabled,s,m,e.shouldUseNativeValidation&&!M,ae);if(de&&h.validatingFields&&g([Y.name]),He[Y.name]&&(A.valid=!1,M))break;!M&&(ue(He,Y.name)?ae?Mse(r.errors,He,Y.name):ut(r.errors,Y.name,He[Y.name]):Bt(r.errors,Y.name))}!Dr(z)&&await C(z,M,A)}}return A.valid},T=()=>{for(const $ of o.unMount){const M=ue(n,$);M&&(M._f.refs?M._f.refs.every(A=>!Sv(A)):!Sv(M._f.ref))&&$e($)}o.unMount=new Set},P=($,M)=>!e.disabled&&($&&M&&ut(s,$,M),!oi(U(),i)),j=($,M,A)=>wO($,o,{...a.mount?s:$t(M)?i:vn($)?{[$]:M}:M},A,M),D=$=>nP(ue(a.mount?s:i,$,e.shouldUnregister?ue(i,$,[]):[])),L=($,M,A={})=>{const ie=ue(n,$);let ee=M;if(ie){const Y=ie._f;Y&&(!Y.disabled&&ut(s,$,$K(M,Y)),ee=gp(Y.ref)&&Qr(M)?"":M,jK(Y.ref)?[...Y.ref.options].forEach(z=>z.selected=ee.includes(z.value)):Y.refs?Xd(Y.ref)?Y.refs.forEach(z=>{(!z.defaultChecked||!z.disabled)&&(Array.isArray(ee)?z.checked=!!ee.find(ae=>ae===z.value):z.checked=ee===z.value||!!ee)}):Y.refs.forEach(z=>z.checked=z.value===ee):oP(Y.ref)?Y.ref.value="":(Y.ref.value=ee,Y.ref.type||p.state.next({name:$,values:Jt(s)})))}(A.shouldDirty||A.shouldTouch)&&E($,ee,A.shouldTouch,A.shouldDirty,!0),A.shouldValidate&&W($)},G=($,M,A)=>{for(const ie in M){if(!M.hasOwnProperty(ie))return;const ee=M[ie],Y=$+"."+ie,z=ue(n,Y);(o.array.has($)||Ut(ee)||z&&!z._f)&&!Ha(ee)?G(Y,ee,A):L(Y,ee,A)}},H=($,M,A={})=>{const ie=ue(n,$),ee=o.array.has($),Y=Jt(M);ut(s,$,Y),ee?(p.array.next({name:$,values:Jt(s)}),(h.isDirty||h.dirtyFields||f.isDirty||f.dirtyFields)&&A.shouldDirty&&p.state.next({name:$,dirtyFields:dl(i,s),isDirty:P($,Y)})):ie&&!ie._f&&!Qr(Y)?G($,Y,A):L($,Y,A),QI($,o)&&p.state.next({...r,name:$}),p.state.next({name:a.mount?$:void 0,values:Jt(s)})},F=async $=>{a.mount=!0;const M=$.target;let A=M.name,ie=!0;const ee=ue(n,A),Y=de=>{ie=Number.isNaN(de)||Ha(de)&&isNaN(de.getTime())||oi(de,ue(s,A,de))},z=GI(e.mode),ae=GI(e.reValidateMode);if(ee){let de,He;const ve=M.type?KI(ee._f):NK($),X=$.type===mp.BLUR||$.type===mp.FOCUS_OUT,le=!Ise(ee._f)&&!e.resolver&&!ue(r.errors,A)&&!ee._f.deps||kse(X,ue(r.touchedFields,A),r.isSubmitted,ae,z),oe=QI(A,o,X);ut(s,A,ve),X?(!M||!M.readOnly)&&(ee._f.onBlur&&ee._f.onBlur($),l&&l(0)):ee._f.onChange&&ee._f.onChange($);const _e=E(A,ve,X),Ae=!Dr(_e)||oe;if(!X&&p.state.next({name:A,type:$.type,values:Jt(s)}),le)return(h.isValid||f.isValid)&&(e.mode==="onBlur"?X&&x():X||x()),Ae&&p.state.next({name:A,...oe?{}:_e});if(!X&&oe&&p.state.next({...r}),e.resolver){const{errors:Cn}=await S([A]);if(g([A]),Y(ve),ie){const Pn=XI(r.errors,n,A),Xt=XI(Cn,n,Pn.name||A);de=Xt.error,A=Xt.name,He=Dr(Cn)}}else g([A],!0),de=(await ZI(ee,o.disabled,s,m,e.shouldUseNativeValidation))[A],g([A]),Y(ve),ie&&(de?He=!1:(h.isValid||f.isValid)&&(He=await C(n,!0)));ie&&(ee._f.deps&&(!Array.isArray(ee._f.deps)||ee._f.deps.length>0)&&W(ee._f.deps),N(A,He,de,_e))}},V=($,M)=>{if(ue(r.errors,M)&&$.focus)return $.focus(),1},W=async($,M={})=>{let A,ie;const ee=Wc($);if(e.resolver){const Y=await O($t($)?$:ee);A=Dr(Y),ie=$?!ee.some(z=>ue(Y,z)):A}else $?(ie=(await Promise.all(ee.map(async Y=>{const z=ue(n,Y);return await C(z&&z._f?{[Y]:z}:z)}))).every(Boolean),!(!ie&&!r.isValid)&&x()):ie=A=await C(n);return p.state.next({...!vn($)||(h.isValid||f.isValid)&&A!==r.isValid?{}:{name:$},...e.resolver||!$?{isValid:A}:{},errors:r.errors}),M.shouldFocus&&!ie&&Hc(n,V,$?ee:o.mount),ie},U=($,M)=>{let A={...a.mount?s:i};return M&&(A=TK(M.dirtyFields?r.dirtyFields:r.touchedFields,A)),$t($)?A:vn($)?ue(A,$):$.map(ie=>ue(A,ie))},K=($,M)=>({invalid:!!ue((M||r).errors,$),isDirty:!!ue((M||r).dirtyFields,$),error:ue((M||r).errors,$),isValidating:!!ue(r.validatingFields,$),isTouched:!!ue((M||r).touchedFields,$)}),he=$=>{$&&Wc($).forEach(M=>Bt(r.errors,M)),p.state.next({errors:$?r.errors:{}})},xe=($,M,A)=>{const ie=(ue(n,$,{_f:{}})._f||{}).ref,ee=ue(r.errors,$)||{},{ref:Y,message:z,type:ae,...de}=ee;ut(r.errors,$,{...de,...M,ref:ie}),p.state.next({name:$,errors:r.errors,isValid:!1}),A&&A.shouldFocus&&ie&&ie.focus&&ie.focus()},Re=($,M)=>Lr($)?p.state.subscribe({next:A=>"values"in A&&$(j(void 0,M),A)}):j($,M,!0),ge=$=>p.state.subscribe({next:M=>{$se($.name,M.name,$.exact)&&Rse(M,$.formState||h,Lt,$.reRenderRoot)&&$.callback({values:{...s},...r,...M,defaultValues:i})}}).unsubscribe,Ee=$=>(a.mount=!0,f={...f,...$.formState},ge({...$,formState:{...d,...$.formState}})),$e=($,M={})=>{for(const A of $?Wc($):o.mount)o.mount.delete(A),o.array.delete(A),M.keepValue||(Bt(n,A),Bt(s,A)),!M.keepError&&Bt(r.errors,A),!M.keepDirty&&Bt(r.dirtyFields,A),!M.keepTouched&&Bt(r.touchedFields,A),!M.keepIsValidating&&Bt(r.validatingFields,A),!e.shouldUnregister&&!M.keepDefaultValue&&Bt(i,A);p.state.next({values:Jt(s)}),p.state.next({...r,...M.keepDirty?{isDirty:P()}:{}}),!M.keepIsValid&&x()},rt=({disabled:$,name:M})=>{(mn($)&&a.mount||$||o.disabled.has(M))&&($?o.disabled.add(M):o.disabled.delete(M))},nr=($,M={})=>{let A=ue(n,$);const ie=mn(M.disabled)||mn(e.disabled);return ut(n,$,{...A||{},_f:{...A&&A._f?A._f:{ref:{name:$}},name:$,mount:!0,...M}}),o.mount.add($),A?rt({disabled:mn(M.disabled)?M.disabled:e.disabled,name:$}):_($,!0,M.value),{...ie?{disabled:M.disabled||e.disabled}:{},...e.progressive?{required:!!M.required,min:_c(M.min),max:_c(M.max),minLength:_c(M.minLength),maxLength:_c(M.maxLength),pattern:_c(M.pattern)}:{},name:$,onChange:F,onBlur:F,ref:ee=>{if(ee){nr($,M),A=ue(n,$);const Y=$t(ee.value)&&ee.querySelectorAll&&ee.querySelectorAll("input,select,textarea")[0]||ee,z=Nse(Y),ae=A._f.refs||[];if(z?ae.find(de=>de===Y):Y===A._f.ref)return;ut(n,$,{_f:{...A._f,...z?{refs:[...ae.filter(Sv),Y,...Array.isArray(ue(i,$))?[{}]:[]],ref:{type:Y.type,name:$}}:{ref:Y}}}),_($,!1,void 0,Y)}else A=ue(n,$,{}),A._f&&(A._f.mount=!1),(e.shouldUnregister||M.shouldUnregister)&&!(OK(o.array,$)&&a.action)&&o.unMount.add($)}}},bt=()=>e.shouldFocusError&&Hc(n,V,o.mount),pr=$=>{mn($)&&(p.state.next({disabled:$}),Hc(n,(M,A)=>{const ie=ue(n,A);ie&&(M.disabled=ie._f.disabled||$,Array.isArray(ie._f.refs)&&ie._f.refs.forEach(ee=>{ee.disabled=ie._f.disabled||$}))},0,!1))},lt=($,M)=>async A=>{let ie;A&&(A.preventDefault&&A.preventDefault(),A.persist&&A.persist());let ee=Jt(s);if(p.state.next({isSubmitting:!0}),e.resolver){const{errors:Y,values:z}=await S();g(),r.errors=Y,ee=Jt(z)}else await C(n);if(o.disabled.size)for(const Y of o.disabled)Bt(ee,Y);if(Bt(r.errors,"root"),Dr(r.errors)){p.state.next({errors:{}});try{await $(ee,A)}catch(Y){ie=Y}}else M&&await M({...r.errors},A),bt(),setTimeout(bt);if(p.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:Dr(r.errors)&&!ie,submitCount:r.submitCount+1,errors:r.errors}),ie)throw ie},jr=($,M={})=>{ue(n,$)&&($t(M.defaultValue)?H($,Jt(ue(i,$))):(H($,M.defaultValue),ut(i,$,Jt(M.defaultValue))),M.keepTouched||Bt(r.touchedFields,$),M.keepDirty||(Bt(r.dirtyFields,$),r.isDirty=M.defaultValue?P($,Jt(ue(i,$))):P()),M.keepError||(Bt(r.errors,$),h.isValid&&x()),p.state.next({...r}))},Ir=($,M={})=>{const A=$?Jt($):i,ie=Jt(A),ee=Dr($),Y=ee?i:ie;if(M.keepDefaultValues||(i=A),!M.keepValues){if(M.keepDirtyValues){const z=new Set([...o.mount,...Object.keys(dl(i,s))]);for(const ae of Array.from(z))ue(r.dirtyFields,ae)?ut(Y,ae,ue(s,ae)):H(ae,ue(Y,ae))}else{if(rP&&$t($))for(const z of o.mount){const ae=ue(n,z);if(ae&&ae._f){const de=Array.isArray(ae._f.refs)?ae._f.refs[0]:ae._f.ref;if(gp(de)){const He=de.closest("form");if(He){He.reset();break}}}}if(M.keepFieldsRef)for(const z of o.mount)H(z,ue(Y,z));else n={}}s=e.shouldUnregister?M.keepDefaultValues?Jt(i):{}:Jt(Y),p.array.next({values:{...Y}}),p.state.next({values:{...Y}})}o={mount:M.keepDirtyValues?o.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},a.mount=!h.isValid||!!M.keepIsValid||!!M.keepDirtyValues||!e.shouldUnregister&&!Dr(Y),a.watch=!!e.shouldUnregister,a.keepIsValid=!!M.keepIsValid,a.action=!1,M.keepErrors||(r.errors={}),p.state.next({submitCount:M.keepSubmitCount?r.submitCount:0,isDirty:ee?!1:M.keepDirty?r.isDirty:!!(M.keepDefaultValues&&!oi($,i)),isSubmitted:M.keepIsSubmitted?r.isSubmitted:!1,dirtyFields:ee?{}:M.keepDirtyValues?M.keepDefaultValues&&s?dl(i,s):r.dirtyFields:M.keepDefaultValues&&$?dl(i,$):M.keepDirty?r.dirtyFields:{},touchedFields:M.keepTouched?r.touchedFields:{},errors:M.keepErrors?r.errors:{},isSubmitSuccessful:M.keepIsSubmitSuccessful?r.isSubmitSuccessful:!1,isSubmitting:!1,defaultValues:i})},Sr=($,M)=>Ir(Lr($)?$(s):$,{...e.resetOptions,...M}),nt=($,M={})=>{const A=ue(n,$),ie=A&&A._f;if(ie){const ee=ie.refs?ie.refs[0]:ie.ref;ee.focus&&setTimeout(()=>{ee.focus(),M.shouldSelect&&Lr(ee.select)&&ee.select()})}},Lt=$=>{r={...r,...$}},Kr={control:{register:nr,unregister:$e,getFieldState:K,handleSubmit:lt,setError:xe,_subscribe:ge,_runSchema:S,_updateIsValidating:g,_focusError:bt,_getWatch:j,_getDirty:P,_setValid:x,_setFieldArray:v,_setDisabledField:rt,_setErrors:b,_getFieldArray:D,_reset:Ir,_resetDefaultValues:()=>Lr(e.defaultValues)&&e.defaultValues().then($=>{Sr($,e.resetOptions),p.state.next({isLoading:!1})}),_removeUnmounted:T,_disableForm:pr,_subjects:p,_proxyFormState:h,get _fields(){return n},get _formValues(){return s},get _state(){return a},set _state($){a=$},get _defaultValues(){return i},get _names(){return o},set _names($){o=$},get _formState(){return r},get _options(){return e},set _options($){e={...e,...$}}},subscribe:Ee,trigger:W,register:nr,handleSubmit:lt,watch:Re,setValue:H,getValues:U,reset:Sr,resetField:jr,clearErrors:he,unregister:$e,setError:xe,setFocus:nt,getFieldState:K};return{...Kr,formControl:Kr}}function $u(t={}){const e=je.useRef(void 0),r=je.useRef(void 0),[n,i]=je.useState({isDirty:!1,isValidating:!1,isLoading:Lr(t.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1,isReady:!1,defaultValues:Lr(t.defaultValues)?void 0:t.defaultValues});if(!e.current)if(t.formControl)e.current={...t.formControl,formState:n},t.defaultValues&&!Lr(t.defaultValues)&&t.formControl.reset(t.defaultValues,t.resetOptions);else{const{formControl:a,...o}=Ase(t);e.current={...o,formState:n}}const s=e.current.control;return s._options=t,aP(()=>{const a=s._subscribe({formState:s._proxyFormState,callback:()=>i({...s._formState}),reRenderRoot:!0});return i(o=>({...o,isReady:!0})),s._formState.isReady=!0,a},[s]),je.useEffect(()=>s._disableForm(t.disabled),[s,t.disabled]),je.useEffect(()=>{t.mode&&(s._options.mode=t.mode),t.reValidateMode&&(s._options.reValidateMode=t.reValidateMode)},[s,t.mode,t.reValidateMode]),je.useEffect(()=>{t.errors&&(s._setErrors(t.errors),s._focusError())},[s,t.errors]),je.useEffect(()=>{t.shouldUnregister&&s._subjects.state.next({values:s._getWatch()})},[s,t.shouldUnregister]),je.useEffect(()=>{if(s._proxyFormState.isDirty){const a=s._getDirty();a!==n.isDirty&&s._subjects.state.next({isDirty:a})}},[s,n.isDirty]),je.useEffect(()=>{var a;t.values&&!oi(t.values,r.current)?(s._reset(t.values,{keepFieldsRef:!0,...s._options.resetOptions}),!((a=s._options.resetOptions)===null||a===void 0)&&a.keepIsValid||s._setValid(),r.current=t.values,i(o=>({...o}))):s._resetDefaultValues()},[s,t.values]),je.useEffect(()=>{s._state.mount||(s._setValid(),s._state.mount=!0),s._state.watch&&(s._state.watch=!1,s._subjects.state.next({...s._formState})),s._removeUnmounted()}),e.current.formState=PK(n,s),e.current}function eR(){var v;const{id:t}=ws(),e=un(),[r]=FC(),n=!!t,i=r.get("returnTo"),s=r.get("sourcePersonId"),{data:a,isLoading:o}=Ru(t),l=Die(),c=Qd(),{data:d=[]}=yt({queryKey:["date-types"],queryFn:async()=>(await Ue.getDateTypes()).data}),h=d.find(w=>w.slug==="birthday"||w.name.toLowerCase()==="birthday"),{register:f,handleSubmit:p,reset:m,formState:{errors:y,isSubmitting:x}}=$u({defaultValues:{first_name:"",last_name:"",nickname:"",gender:"",email:"",how_we_met:"",is_favorite:!1,birthday:""}});I.useEffect(()=>{var w,b,_,E,N,S,O,C;if(a){const T=(b=(w=a.acf)==null?void 0:w.contact_info)==null?void 0:b.find(j=>j.contact_type==="email"),P=(T==null?void 0:T.contact_value)||"";m({first_name:((_=a.acf)==null?void 0:_.first_name)||"",last_name:((E=a.acf)==null?void 0:E.last_name)||"",nickname:((N=a.acf)==null?void 0:N.nickname)||"",gender:((S=a.acf)==null?void 0:S.gender)||"",email:P,how_we_met:((O=a.acf)==null?void 0:O.how_we_met)||"",is_favorite:((C=a.acf)==null?void 0:C.is_favorite)||!1,birthday:""})}},[a,m]),Sn(n&&a?`Edit ${((v=a.title)==null?void 0:v.rendered)||a.title||"person"}`:"New person");const g=async w=>{try{const _=`${w.first_name||""} ${w.last_name||""}`.trim()||"Unnamed Person",E={title:_,status:"publish",acf:{first_name:w.first_name,last_name:w.last_name,nickname:w.nickname,gender:w.gender||null,how_we_met:w.how_we_met,is_favorite:w.is_favorite}};if(!n&&w.email&&(E.acf.contact_info=[{contact_type:"email",contact_value:w.email,contact_label:""}]),n)E.title=_,await c.mutateAsync({id:t,data:E}),e(`/people/${t}`);else{const S=(await l.mutateAsync(E)).data.id;if(w.email)try{await Me.sideloadGravatar(S,w.email)}catch(O){console.error("Failed to load Gravatar:",O)}if(w.birthday&&h)try{const O=w.first_name||"Person";await Ue.createDate({title:`${O}'s Birthday`,status:"publish",date_type:[h.id],acf:{date_value:w.birthday,is_recurring:!0,related_people:[S],reminder_days_before:7}})}catch(O){console.error("Failed to create birthday:",O)}e(i==="relationship"&&s?`/people/${s}/relationship/new?newPersonId=${S}`:`/people/${S}`)}}catch(b){console.error("Failed to save person:",b)}};return n&&o?u.jsx("div",{className:"flex items-center justify-center h-64",children:u.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"})}):u.jsxs("div",{className:"max-w-2xl mx-auto space-y-6",children:[u.jsx("div",{className:"flex items-center justify-between",children:i==="relationship"&&s?u.jsxs(fe,{to:`/people/${s}/relationship/new`,className:"flex items-center text-gray-600 hover:text-gray-900",children:[u.jsx(xn,{className:"w-4 h-4 md:mr-2"}),u.jsx("span",{className:"hidden md:inline",children:"Back to add relationship"})]}):u.jsxs(fe,{to:"/people",className:"flex items-center text-gray-600 hover:text-gray-900",children:[u.jsx(xn,{className:"w-4 h-4 md:mr-2"}),u.jsx("span",{className:"hidden md:inline",children:"Back to people"})]})}),u.jsxs("div",{className:"card p-6",children:[u.jsx("h1",{className:"text-xl font-bold mb-6",children:n?"Edit person":"Add new person"}),u.jsxs("form",{onSubmit:p(g),className:"space-y-6",children:[u.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"label",children:"First name *"}),u.jsx("input",{...f("first_name",{required:"First name is required"}),className:"input",placeholder:"John"}),y.first_name&&u.jsx("p",{className:"text-sm text-red-600 mt-1",children:y.first_name.message})]}),u.jsxs("div",{children:[u.jsx("label",{className:"label",children:"Last name"}),u.jsx("input",{...f("last_name"),className:"input",placeholder:"Doe"})]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"label",children:"Nickname"}),u.jsx("input",{...f("nickname"),className:"input",placeholder:"Johnny"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"label",children:"Gender"}),u.jsxs("select",{...f("gender"),className:"input",children:[u.jsx("option",{value:"",children:"Select gender..."}),u.jsx("option",{value:"male",children:"Male"}),u.jsx("option",{value:"female",children:"Female"}),u.jsx("option",{value:"non_binary",children:"Non-binary"}),u.jsx("option",{value:"other",children:"Other"}),u.jsx("option",{value:"prefer_not_to_say",children:"Prefer not to say"})]})]}),!n&&u.jsxs("div",{children:[u.jsx("label",{className:"label",children:"Email"}),u.jsx("input",{type:"email",...f("email"),className:"input",placeholder:"john@example.com"}),u.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Optional: If a Gravatar is associated with this email, it will be automatically set as the profile photo"})]}),!n&&u.jsxs("div",{children:[u.jsx("label",{className:"label",children:"Birthday"}),u.jsx("input",{type:"date",...f("birthday"),className:"input"}),u.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Optional: Set their birthday when creating a new person"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"label",children:"How we met"}),u.jsx("textarea",{...f("how_we_met"),className:"input",rows:4,placeholder:"We met at..."})]}),u.jsxs("div",{className:"flex items-center",children:[u.jsx("input",{type:"checkbox",...f("is_favorite"),className:"w-4 h-4 rounded border-gray-300 text-primary-600 focus:ring-primary-500"}),u.jsx("label",{className:"ml-2 text-sm text-gray-700",children:"Mark as favorite"})]}),u.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t",children:[i==="relationship"&&s?u.jsx(fe,{to:`/people/${s}/relationship/new`,className:"btn-secondary",children:"Cancel"}):u.jsx(fe,{to:"/people",className:"btn-secondary",children:"Cancel"}),u.jsxs("button",{type:"submit",className:"btn-primary",disabled:x,children:[x?u.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}):u.jsx(ga,{className:"w-4 h-4 mr-2"}),n?"Save changes":"Create person"]})]})]})]})]})}function Fse({value:t,onChange:e,companies:r,isLoading:n}){return u.jsxs("select",{value:t||"",onChange:i=>e(i.target.value?parseInt(i.target.value,10):null),className:"input",disabled:n,children:[u.jsx("option",{value:"",children:"Select an organization..."}),r.map(i=>{var s;return u.jsx("option",{value:i.id,children:((s=i.title)==null?void 0:s.rendered)||i.title},i.id)})]})}function tR(){var v,w;const{personId:t,index:e}=ws(),r=un();pt();const n=parseInt(e,10),i=!isNaN(n),{data:s,isLoading:a}=Ru(t),o=Qd(),{data:l=[],isLoading:c}=yt({queryKey:["companies","all"],queryFn:async()=>(await Ue.getCompanies({per_page:100,orderby:"title",order:"asc"})).data}),{register:d,handleSubmit:h,reset:f,watch:p,control:m,formState:{errors:y,isSubmitting:x}}=$u({defaultValues:{company:null,job_title:"",description:"",start_date:"",end_date:"",is_current:!1}});I.useEffect(()=>{var b;if(s&&i){const E=(((b=s.acf)==null?void 0:b.work_history)||[])[n];E&&f({company:E.company||null,job_title:E.job_title||"",description:E.description||"",start_date:E.start_date||"",end_date:E.end_date||"",is_current:E.is_current||!1})}},[s,n,i,f]),Sn(i?`Edit work history - ${((v=s==null?void 0:s.title)==null?void 0:v.rendered)||(s==null?void 0:s.title)||"person"}`:`Add work history - ${((w=s==null?void 0:s.title)==null?void 0:w.rendered)||(s==null?void 0:s.title)||"person"}`);const g=async b=>{var _;try{const E=[...((_=s.acf)==null?void 0:_.work_history)||[]],N={company:b.company||null,job_title:b.job_title||"",description:b.description||"",start_date:b.start_date||"",end_date:b.end_date||"",is_current:b.is_current||!1};i?E[n]=N:E.push(N);const S=Wa(s.acf,{work_history:E});await o.mutateAsync({id:t,data:{acf:S}}),r(`/people/${t}`)}catch(E){console.error("Failed to save work history:",E)}};return p("is_current"),a?u.jsx("div",{className:"flex items-center justify-center h-64",children:u.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"})}):s?u.jsxs("div",{className:"max-w-2xl mx-auto space-y-6",children:[u.jsx("div",{className:"flex items-center justify-between",children:u.jsxs(fe,{to:`/people/${t}`,className:"flex items-center text-gray-600 hover:text-gray-900",children:[u.jsx(xn,{className:"w-4 h-4 md:mr-2"}),u.jsx("span",{className:"hidden md:inline",children:"Back to person"})]})}),u.jsxs("div",{className:"card p-6",children:[u.jsx("h1",{className:"text-xl font-bold mb-6",children:i?"Edit work history":"Add work history"}),u.jsxs("form",{onSubmit:h(g),className:"space-y-6",children:[u.jsxs("div",{children:[u.jsx("label",{className:"label",children:"Organization"}),u.jsx(vp,{name:"company",control:m,render:({field:b})=>u.jsx(Fse,{value:b.value,onChange:b.onChange,companies:l,isLoading:c})})]}),u.jsxs("div",{children:[u.jsx("label",{className:"label",children:"Job title"}),u.jsx("input",{...d("job_title"),className:"input",placeholder:"e.g., Software Engineer"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"label",children:"Description"}),u.jsx("textarea",{...d("description"),className:"input",rows:4,placeholder:"Job description, responsibilities, achievements..."})]}),u.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"label",children:"Start date"}),u.jsx("input",{type:"date",...d("start_date"),className:"input"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"label",children:"End date"}),u.jsx("input",{type:"date",...d("end_date"),className:"input"}),u.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Optional: Set a future end date to automatically mark as former when it passes"})]})]}),u.jsxs("div",{className:"flex items-center",children:[u.jsx("input",{type:"checkbox",...d("is_current"),className:"w-4 h-4 rounded border-gray-300 text-primary-600 focus:ring-primary-500"}),u.jsx("label",{className:"ml-2 text-sm text-gray-700",children:"Currently works here"})]}),u.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t",children:[u.jsx(fe,{to:`/people/${t}`,className:"btn-secondary",children:"Cancel"}),u.jsxs("button",{type:"submit",className:"btn-primary",disabled:x,children:[x?u.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}):u.jsx(ga,{className:"w-4 h-4 mr-2"}),i?"Save changes":"Add work history"]})]})]})]})]}):u.jsxs("div",{className:"card p-6 text-center",children:[u.jsx("p",{className:"text-red-600",children:"Failed to load person."}),u.jsx(fe,{to:"/people",className:"btn-secondary mt-4",children:"Back to people"})]})}const Lse=[{value:"email",label:"Email"},{value:"phone",label:"Phone"},{value:"mobile",label:"Mobile"},{value:"address",label:"Address"},{value:"website",label:"Website"},{value:"linkedin",label:"LinkedIn"},{value:"twitter",label:"Twitter"},{value:"bluesky",label:"Bluesky"},{value:"threads",label:"Threads"},{value:"instagram",label:"Instagram"},{value:"facebook",label:"Facebook"},{value:"other",label:"Other"}];function rR(){var y,x;const{personId:t,index:e}=ws(),r=un(),n=pt(),i=parseInt(e,10),s=!isNaN(i),{data:a,isLoading:o}=Ru(t),l=Qd(),{register:c,handleSubmit:d,reset:h,formState:{errors:f,isSubmitting:p}}=$u({defaultValues:{contact_type:"",contact_label:"",contact_value:""}});I.useEffect(()=>{var g;if(a&&s){const w=(((g=a.acf)==null?void 0:g.contact_info)||[])[i];w&&h({contact_type:w.contact_type||"",contact_label:w.contact_label||"",contact_value:w.contact_value||""})}},[a,i,s,h]),Sn(s?`Edit contact detail - ${((y=a==null?void 0:a.title)==null?void 0:y.rendered)||(a==null?void 0:a.title)||"person"}`:`Add contact detail - ${((x=a==null?void 0:a.title)==null?void 0:x.rendered)||(a==null?void 0:a.title)||"person"}`);const m=async g=>{var v,w,b,_;try{const E=[...((v=a.acf)==null?void 0:v.contact_info)||[]],N={contact_type:g.contact_type||"",contact_label:g.contact_label||"",contact_value:g.contact_value||""};s?E[i]=N:E.push(N);const S=Wa(a.acf,{contact_info:E});if(await l.mutateAsync({id:t,data:{acf:S}}),!s&&g.contact_type==="email"&&g.contact_value&&!(a.featured_media>0||((_=(b=(w=a._embedded)==null?void 0:w["wp:featuredmedia"])==null?void 0:b[0])==null?void 0:_.source_url)||a.thumbnail))try{await Me.sideloadGravatar(t,g.contact_value),n.invalidateQueries({queryKey:["person",t]})}catch(C){console.log("No Gravatar found or failed to load:",C)}r(`/people/${t}`)}catch(E){console.error("Failed to save contact detail:",E)}};return o?u.jsx("div",{className:"flex items-center justify-center h-64",children:u.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"})}):a?u.jsxs("div",{className:"max-w-2xl mx-auto space-y-6",children:[u.jsx("div",{className:"flex items-center justify-between",children:u.jsxs(fe,{to:`/people/${t}`,className:"flex items-center text-gray-600 hover:text-gray-900",children:[u.jsx(xn,{className:"w-4 h-4 md:mr-2"}),u.jsx("span",{className:"hidden md:inline",children:"Back to person"})]})}),u.jsxs("div",{className:"card p-6",children:[u.jsx("h1",{className:"text-xl font-bold mb-6",children:s?"Edit contact detail":"Add contact detail"}),u.jsxs("form",{onSubmit:d(m),className:"space-y-6",children:[u.jsxs("div",{children:[u.jsx("label",{className:"label",children:"Contact type *"}),u.jsxs("select",{...c("contact_type",{required:"Please select a contact type"}),className:"input",children:[u.jsx("option",{value:"",children:"Select a type..."}),Lse.map(g=>u.jsx("option",{value:g.value,children:g.label},g.value))]}),f.contact_type&&u.jsx("p",{className:"text-sm text-red-600 mt-1",children:f.contact_type.message})]}),u.jsxs("div",{children:[u.jsx("label",{className:"label",children:"Label"}),u.jsx("input",{...c("contact_label"),className:"input",placeholder:"e.g., Work, Personal, Home"}),u.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Optional: Add a label to distinguish multiple entries of the same type"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"label",children:"Value *"}),u.jsx("input",{...c("contact_value",{required:"Please enter a contact value"}),className:"input",placeholder:"e.g., john@example.com, +1 234 567 8900"}),f.contact_value&&u.jsx("p",{className:"text-sm text-red-600 mt-1",children:f.contact_value.message})]}),u.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t",children:[u.jsx(fe,{to:`/people/${t}`,className:"btn-secondary",children:"Cancel"}),u.jsxs("button",{type:"submit",className:"btn-primary",disabled:p,children:[p?u.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}):u.jsx(ga,{className:"w-4 h-4 mr-2"}),s?"Save changes":"Add contact detail"]})]})]})]})]}):u.jsxs("div",{className:"card p-6 text-center",children:[u.jsx("p",{className:"text-red-600",children:"Failed to load person."}),u.jsx(fe,{to:"/people",className:"btn-secondary mt-4",children:"Back to people"})]})}function Bse({value:t,onChange:e,people:r,isLoading:n,excludePersonId:i}){const[s,a]=I.useState(""),[o,l]=I.useState(!1),c=I.useRef(null),d=I.useRef(null),h=I.useMemo(()=>r.filter(v=>v.id!==i).sort((v,w)=>{var E,N;const b=(v.first_name||((E=v.acf)==null?void 0:E.first_name)||"").toLowerCase(),_=(w.first_name||((N=w.acf)==null?void 0:N.first_name)||"").toLowerCase();return b<_?-1:b>_?1:0}),[r,i]),f=I.useMemo(()=>{if(!s)return h.slice(0,10);const g=s.toLowerCase();return h.filter(v=>{var E,N;const w=uo(v).toLowerCase(),b=(v.first_name||((E=v.acf)==null?void 0:E.first_name)||"").toLowerCase(),_=(v.last_name||((N=v.acf)==null?void 0:N.last_name)||"").toLowerCase();return w.includes(g)||b.includes(g)||_.includes(g)}).slice(0,10)},[h,s]),p=I.useMemo(()=>h.find(g=>g.id===t),[h,t]);I.useEffect(()=>{const g=v=>{d.current&&!d.current.contains(v.target)&&c.current&&!c.current.contains(v.target)&&l(!1)};return document.addEventListener("mousedown",g),()=>document.removeEventListener("mousedown",g)},[]);const m=g=>{e(g),a(""),l(!1)},y=()=>{e(null),a(""),l(!1)},x=p?uo(p):"";return u.jsxs("div",{className:"relative",children:[u.jsx("div",{className:"relative",children:p&&!o?u.jsxs("div",{className:"flex items-center justify-between input pr-8 cursor-text",onClick:()=>l(!0),children:[u.jsx("span",{children:x}),u.jsx("button",{type:"button",onClick:g=>{g.stopPropagation(),y()},className:"absolute right-2 text-gray-400 hover:text-gray-600",children:u.jsx(Un,{className:"w-4 h-4"})})]}):u.jsx("input",{ref:c,type:"text",value:s,onChange:g=>{a(g.target.value),l(!0)},onFocus:()=>l(!0),placeholder:"Search for a person...",className:"input",disabled:n})}),o&&(s||!p)&&u.jsx("div",{ref:d,className:"absolute z-10 w-full mt-1 bg-white border border-gray-200 rounded-lg shadow-lg max-h-48 overflow-y-auto",children:f.length>0?f.map(g=>u.jsx("button",{type:"button",onClick:()=>m(g.id),className:`w-full text-left px-4 py-2 hover:bg-gray-50 ${t===g.id?"bg-primary-50":""}`,children:uo(g)},g.id)):u.jsx("p",{className:"px-4 py-2 text-gray-500 text-sm",children:"No people found"})})]})}function nR(){var E,N;const{personId:t,index:e}=ws(),r=un(),[n]=FC(),i=pt(),s=parseInt(e,10),a=!isNaN(s),{data:o,isLoading:l}=Ru(t),c=Qd(),{data:d=[],isLoading:h}=Iu(),{data:f=[],isLoading:p}=yt({queryKey:["relationship-types"],queryFn:async()=>(await Ue.getRelationshipTypes()).data}),{register:m,handleSubmit:y,reset:x,control:g,setValue:v,formState:{errors:w,isSubmitting:b}}=$u({defaultValues:{related_person:null,relationship_type:"",relationship_label:""}});I.useEffect(()=>{const S=n.get("newPersonId");if(S&&!a&&!h){const O=parseInt(S,10);if(!isNaN(O))if(d.some(T=>T.id===O)){v("related_person",O);const T=new URLSearchParams(n);T.delete("newPersonId"),r({search:T.toString()},{replace:!0})}else(async()=>{try{await i.invalidateQueries({queryKey:["people"]});const{data:P=[]}=await i.refetchQueries({queryKey:["people"]});P.some(L=>L.id===O)&&v("related_person",O);const D=new URLSearchParams(n);D.delete("newPersonId"),r({search:D.toString()},{replace:!0})}catch(P){console.error("Failed to load new person:",P);const j=new URLSearchParams(n);j.delete("newPersonId"),r({search:j.toString()},{replace:!0})}})()}},[n,a,h,d,v,r,i]),I.useEffect(()=>{var S;if(o&&a){const C=(((S=o.acf)==null?void 0:S.relationships)||[])[s];C&&x({related_person:C.related_person||null,relationship_type:C.relationship_type?String(C.relationship_type):"",relationship_label:C.relationship_label||""})}},[o,s,a,x]),Sn(a?`Edit relationship - ${((E=o==null?void 0:o.title)==null?void 0:E.rendered)||(o==null?void 0:o.title)||"person"}`:`Add relationship - ${((N=o==null?void 0:o.title)==null?void 0:N.rendered)||(o==null?void 0:o.title)||"person"}`);const _=async S=>{var O;try{const C=[...((O=o.acf)==null?void 0:O.relationships)||[]],T={related_person:S.related_person||null,relationship_type:S.relationship_type||null,relationship_label:S.relationship_label||""};a?C[s]=T:C.push(T);const P=Wa(o.acf,{relationships:C});await c.mutateAsync({id:t,data:{acf:P}}),r(`/people/${t}`)}catch(C){console.error("Failed to save relationship:",C)}};return l?u.jsx("div",{className:"flex items-center justify-center h-64",children:u.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"})}):o?u.jsxs("div",{className:"max-w-2xl mx-auto space-y-6",children:[u.jsx("div",{className:"flex items-center justify-between",children:u.jsxs(fe,{to:`/people/${t}`,className:"flex items-center text-gray-600 hover:text-gray-900",children:[u.jsx(xn,{className:"w-4 h-4 md:mr-2"}),u.jsx("span",{className:"hidden md:inline",children:"Back to person"})]})}),u.jsxs("div",{className:"card p-6",children:[u.jsx("h1",{className:"text-xl font-bold mb-6",children:a?"Edit relationship":"Add relationship"}),u.jsxs("form",{onSubmit:y(_),className:"space-y-6",children:[u.jsxs("div",{children:[u.jsx("label",{className:"label",children:"Related person *"}),u.jsx(vp,{name:"related_person",control:g,rules:{required:"Please select a person"},render:({field:S})=>u.jsx(Bse,{value:S.value,onChange:S.onChange,people:d,isLoading:h,excludePersonId:parseInt(t,10)})}),w.related_person&&u.jsx("p",{className:"text-sm text-red-600 mt-1",children:w.related_person.message}),!a&&u.jsx("div",{className:"mt-2",children:u.jsxs(fe,{to:`/people/new?returnTo=relationship&sourcePersonId=${t}`,className:"inline-flex items-center gap-1 text-sm text-primary-600 hover:text-primary-700",children:[u.jsx(er,{className:"w-4 h-4"}),"Add new person"]})})]}),u.jsxs("div",{children:[u.jsx("label",{className:"label",children:"Relationship type"}),u.jsxs("select",{...m("relationship_type",{setValueAs:S=>S?parseInt(S,10):null}),className:"input",disabled:p,children:[u.jsx("option",{value:"",children:"Select a type..."}),f.map(S=>u.jsx("option",{value:S.id,children:S.name},S.id))]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"label",children:"Custom label"}),u.jsx("input",{...m("relationship_label"),className:"input",placeholder:"e.g., Brother-in-law"}),u.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Optional: Override the relationship type with a custom label"})]}),u.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t",children:[u.jsx(fe,{to:`/people/${t}`,className:"btn-secondary",children:"Cancel"}),u.jsxs("button",{type:"submit",className:"btn-primary",disabled:b,children:[b?u.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}):u.jsx(ga,{className:"w-4 h-4 mr-2"}),a?"Save changes":"Add relationship"]})]})]})]})]}):u.jsxs("div",{className:"card p-6 text-center",children:[u.jsx("p",{className:"text-red-600",children:"Failed to load person."}),u.jsx(fe,{to:"/people",className:"btn-secondary mt-4",children:"Back to people"})]})}function zse({company:t}){var e,r,n,i,s;return u.jsx(fe,{to:`/companies/${t.id}`,className:"card p-4 hover:shadow-md transition-shadow",children:u.jsxs("div",{className:"flex items-start",children:[(n=(r=(e=t._embedded)==null?void 0:e["wp:featuredmedia"])==null?void 0:r[0])!=null&&n.source_url?u.jsx("img",{src:t._embedded["wp:featuredmedia"][0].source_url,alt:ts(t),className:"w-12 h-12 rounded-lg object-contain bg-white"}):u.jsx("div",{className:"w-12 h-12 bg-white rounded-lg flex items-center justify-center border border-gray-200",children:u.jsx(ms,{className:"w-6 h-6 text-gray-400"})}),u.jsxs("div",{className:"ml-3 flex-1 min-w-0",children:[u.jsx("h3",{className:"text-sm font-medium text-gray-900 truncate",children:ts(t)}),((i=t.acf)==null?void 0:i.industry)&&u.jsx("p",{className:"text-sm text-gray-500",children:t.acf.industry}),((s=t.acf)==null?void 0:s.website)&&u.jsx("p",{className:"text-xs text-primary-600 truncate",children:t.acf.website})]})]})})}function Use(){const[t,e]=I.useState(""),{data:r,isLoading:n,error:i}=yt({queryKey:["companies",t],queryFn:async()=>(await Ue.getCompanies({search:t,per_page:100,_embed:!0})).data}),s=I.useMemo(()=>r?[...r].sort((a,o)=>{var d,h;const l=(((d=a.title)==null?void 0:d.rendered)||a.title||"").toLowerCase(),c=(((h=o.title)==null?void 0:h.rendered)||o.title||"").toLowerCase();return l.localeCompare(c)}):[],[r]);return u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[u.jsxs("div",{className:"relative flex-1 max-w-md",children:[u.jsx(rK,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}),u.jsx("input",{type:"search",placeholder:"Search organizations...",value:t,onChange:a=>e(a.target.value),className:"input pl-9"})]}),u.jsxs(fe,{to:"/companies/new",className:"btn-primary",children:[u.jsx(er,{className:"w-4 h-4 md:mr-2"}),u.jsx("span",{className:"hidden md:inline",children:"Add organization"})]})]}),n&&u.jsx("div",{className:"flex items-center justify-center h-64",children:u.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"})}),i&&u.jsx("div",{className:"card p-6 text-center",children:u.jsx("p",{className:"text-red-600",children:"Failed to load organizations."})}),!n&&!i&&(s==null?void 0:s.length)===0&&u.jsxs("div",{className:"card p-12 text-center",children:[u.jsx("div",{className:"w-12 h-12 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4",children:u.jsx(ms,{className:"w-6 h-6 text-gray-400"})}),u.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-1",children:"No organizations found"}),u.jsx("p",{className:"text-gray-500 mb-4",children:t?"Try a different search.":"Add your first organization."}),!t&&u.jsxs(fe,{to:"/companies/new",className:"btn-primary",children:[u.jsx(er,{className:"w-4 h-4 md:mr-2"}),u.jsx("span",{className:"hidden md:inline",children:"Add organization"})]})]}),!n&&!i&&(s==null?void 0:s.length)>0&&u.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:s.map(a=>u.jsx(zse,{company:a},a.id))})]})}function Wse(){var d,h,f,p,m,y;const{id:t}=ws(),e=un(),r=pt(),{data:n,isLoading:i,error:s}=yt({queryKey:["company",t],queryFn:async()=>(await Ue.getCompany(t,{_embed:!0})).data}),{data:a}=yt({queryKey:["company-people",t],queryFn:async()=>(await Me.getCompanyPeople(t)).data}),o=Xe({mutationFn:()=>Ue.deleteCompany(t,{force:!0}),onSuccess:()=>{r.invalidateQueries({queryKey:["companies"]}),e("/companies")}});Sn(ts(n)||"Organization"),I.useEffect(()=>{(n==null?void 0:n.status)==="trash"&&e("/companies",{replace:!0})},[n,e]);const l=async()=>{if(window.confirm("Are you sure you want to delete this organization?"))try{await o.mutateAsync()}catch(x){console.error("Failed to delete company:",x),alert("Failed to delete organization. Please try again.")}};if(i)return u.jsx("div",{className:"flex items-center justify-center h-64",children:u.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"})});if(s||!n)return u.jsxs("div",{className:"card p-6 text-center",children:[u.jsx("p",{className:"text-red-600",children:"Failed to load organization."}),u.jsx(fe,{to:"/companies",className:"btn-secondary mt-4",children:"Back to organizations"})]});if(n.status==="trash")return null;const c=n.acf||{};return u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs(fe,{to:"/companies",className:"flex items-center text-gray-600 hover:text-gray-900",children:[u.jsx(xn,{className:"w-4 h-4 md:mr-2"}),u.jsx("span",{className:"hidden md:inline",children:"Back to organizations"})]}),u.jsxs("div",{className:"flex gap-2",children:[u.jsxs(fe,{to:`/companies/${t}/edit`,className:"btn-secondary",children:[u.jsx(aK,{className:"w-4 h-4 mr-2"}),"Edit"]}),u.jsxs("button",{onClick:l,className:"btn-danger",children:[u.jsx(Oi,{className:"w-4 h-4 mr-2"}),"Delete"]})]})]}),u.jsx("div",{className:"card p-6",children:u.jsxs("div",{className:"flex items-center gap-4",children:[(f=(h=(d=n._embedded)==null?void 0:d["wp:featuredmedia"])==null?void 0:h[0])!=null&&f.source_url?u.jsx("img",{src:n._embedded["wp:featuredmedia"][0].source_url,alt:ts(n),className:"w-24 h-24 rounded-lg object-contain bg-white"}):u.jsx("div",{className:"w-24 h-24 bg-white rounded-lg flex items-center justify-center border border-gray-200",children:u.jsx(ms,{className:"w-12 h-12 text-gray-400"})}),u.jsxs("div",{children:[u.jsx("h1",{className:"text-2xl font-bold",children:ts(n)}),c.industry&&u.jsx("p",{className:"text-gray-500",children:c.industry}),c.website&&u.jsxs("a",{href:c.website,target:"_blank",rel:"noopener noreferrer",className:"text-primary-600 hover:underline flex items-center mt-1",children:[u.jsx(jf,{className:"w-4 h-4 mr-1"}),c.website]})]})]})}),u.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[u.jsxs("div",{className:"card p-6",children:[u.jsxs("h2",{className:"font-semibold mb-4 flex items-center",children:[u.jsx($i,{className:"w-5 h-5 mr-2"}),"Current employees"]}),((p=a==null?void 0:a.current)==null?void 0:p.length)>0?u.jsx("div",{className:"space-y-2",children:a.current.map(x=>{var g;return u.jsxs(fe,{to:`/people/${x.id}`,className:"flex items-center p-2 rounded hover:bg-gray-50",children:[x.thumbnail?u.jsx("img",{src:x.thumbnail,alt:"",loading:"lazy",className:"w-8 h-8 rounded-full"}):u.jsx("div",{className:"w-8 h-8 bg-gray-200 rounded-full flex items-center justify-center",children:u.jsx("span",{className:"text-xs text-gray-500",children:((g=x.name)==null?void 0:g[0])||"?"})}),u.jsxs("div",{className:"ml-2",children:[u.jsx("p",{className:"text-sm font-medium",children:x.name}),x.job_title&&u.jsx("p",{className:"text-xs text-gray-500",children:x.job_title})]})]},x.id)})}):u.jsx("p",{className:"text-sm text-gray-500",children:"No current employees."})]}),u.jsxs("div",{className:"card p-6",children:[u.jsxs("h2",{className:"font-semibold mb-4 flex items-center",children:[u.jsx($i,{className:"w-5 h-5 mr-2"}),"Former employees"]}),((m=a==null?void 0:a.former)==null?void 0:m.length)>0?u.jsx("div",{className:"space-y-2",children:a.former.map(x=>{var g;return u.jsxs(fe,{to:`/people/${x.id}`,className:"flex items-center p-2 rounded hover:bg-gray-50",children:[x.thumbnail?u.jsx("img",{src:x.thumbnail,alt:"",loading:"lazy",className:"w-8 h-8 rounded-full opacity-75"}):u.jsx("div",{className:"w-8 h-8 bg-gray-200 rounded-full flex items-center justify-center opacity-75",children:u.jsx("span",{className:"text-xs text-gray-500",children:((g=x.name)==null?void 0:g[0])||"?"})}),u.jsxs("div",{className:"ml-2",children:[u.jsx("p",{className:"text-sm font-medium text-gray-700",children:x.name}),x.job_title&&u.jsx("p",{className:"text-xs text-gray-500",children:x.job_title})]})]},x.id)})}):u.jsx("p",{className:"text-sm text-gray-500",children:"No former employees."})]})]}),((y=c.contact_info)==null?void 0:y.length)>0&&u.jsxs("div",{className:"card p-6",children:[u.jsx("h2",{className:"font-semibold mb-4",children:"Contact information"}),u.jsx("div",{className:"space-y-3",children:c.contact_info.map((x,g)=>u.jsxs("div",{children:[u.jsxs("span",{className:"text-sm text-gray-500",children:[x.contact_label||x.contact_type,":"]}),u.jsx("span",{className:"ml-2",children:x.contact_value})]},g))})]})]})}function iR(){var v,w,b,_,E,N;const{id:t}=ws(),e=un(),r=pt(),n=!!t,{data:i,isLoading:s}=yt({queryKey:["company",t],queryFn:async()=>(await Ue.getCompany(t,{_embed:!0})).data,enabled:n}),[a,o]=I.useState(!1),l=I.useRef(null),c=Xe({mutationFn:S=>Ue.createCompany(S),onSuccess:S=>{r.invalidateQueries({queryKey:["companies"]}),e(`/companies/${S.data.id}`)}}),d=Xe({mutationFn:S=>Ue.updateCompany(t,S),onSuccess:()=>{r.invalidateQueries({queryKey:["company",t]}),r.invalidateQueries({queryKey:["companies"]}),r.invalidateQueries({queryKey:["people"]}),e(`/companies/${t}`)}}),h=async S=>{var C;const O=(C=S.target.files)==null?void 0:C[0];if(O){if(!O.type.startsWith("image/")){alert("Please select an image file");return}if(O.size>5*1024*1024){alert("Image size must be less than 5MB");return}o(!0);try{await Me.uploadCompanyLogo(t,O),r.invalidateQueries({queryKey:["company",t]}),r.invalidateQueries({queryKey:["companies"]}),r.invalidateQueries({queryKey:["people"]}),r.refetchQueries({queryKey:["company",t]}),r.refetchQueries({queryKey:["companies"]}),r.refetchQueries({queryKey:["people"]})}catch(T){console.error("Failed to upload logo:",T),alert("Failed to upload logo. Please try again.")}finally{o(!1),l.current&&(l.current.value="")}}},{register:f,handleSubmit:p,reset:m,formState:{errors:y,isSubmitting:x}}=$u();I.useEffect(()=>{var S,O,C;i&&m({title:li(((S=i.title)==null?void 0:S.rendered)||""),website:((O=i.acf)==null?void 0:O.website)||"",industry:((C=i.acf)==null?void 0:C.industry)||""})},[i,m]),Sn(n&&i?`Edit ${ts(i)||"organization"}`:"New organization");const g=async S=>{const O={title:S.title,status:"publish",acf:{website:S.website,industry:S.industry}};n?d.mutate(O):c.mutate(O)};return n&&s?u.jsx("div",{className:"flex items-center justify-center h-64",children:u.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"})}):u.jsxs("div",{className:"max-w-2xl mx-auto space-y-6",children:[u.jsx("div",{className:"flex items-center justify-between",children:u.jsxs(fe,{to:"/companies",className:"flex items-center text-gray-600 hover:text-gray-900",children:[u.jsx(xn,{className:"w-4 h-4 md:mr-2"}),u.jsx("span",{className:"hidden md:inline",children:"Back to organizations"})]})}),u.jsxs("div",{className:"card p-6",children:[u.jsx("h1",{className:"text-xl font-bold mb-6",children:n?"Edit organization":"Add new organization"}),u.jsxs("form",{onSubmit:p(g),className:"space-y-6",children:[n&&u.jsxs("div",{children:[u.jsx("label",{className:"label",children:"Logo"}),u.jsxs("div",{className:"flex items-center gap-4",children:[(b=(w=(v=i==null?void 0:i._embedded)==null?void 0:v["wp:featuredmedia"])==null?void 0:w[0])!=null&&b.source_url?u.jsxs("div",{className:"relative group",children:[u.jsx("img",{src:i._embedded["wp:featuredmedia"][0].source_url,alt:ts(i)||"Organization logo",className:"w-20 h-20 rounded-lg object-contain bg-white"}),u.jsx("div",{className:"absolute inset-0 rounded-lg bg-black bg-opacity-0 group-hover:bg-opacity-50 transition-all duration-200 flex items-center justify-center cursor-pointer",onClick:()=>{var S;return(S=l.current)==null?void 0:S.click()},children:a?u.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-white"}):u.jsx(Tf,{className:"w-6 h-6 text-white opacity-0 group-hover:opacity-100 transition-opacity"})})]}):u.jsxs("div",{className:"relative group",children:[u.jsx("div",{className:"w-20 h-20 bg-gray-200 rounded-lg flex items-center justify-center",children:u.jsx(Tf,{className:"w-8 h-8 text-gray-400"})}),u.jsx("div",{className:"absolute inset-0 rounded-lg bg-black bg-opacity-0 group-hover:bg-opacity-50 transition-all duration-200 flex items-center justify-center cursor-pointer",onClick:()=>{var S;return(S=l.current)==null?void 0:S.click()},children:a?u.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-white"}):u.jsx(Tf,{className:"w-6 h-6 text-white opacity-0 group-hover:opacity-100 transition-opacity"})})]}),u.jsxs("div",{children:[u.jsx("button",{type:"button",onClick:()=>{var S;return(S=l.current)==null?void 0:S.click()},className:"btn-secondary text-sm",disabled:a,children:(N=(E=(_=i==null?void 0:i._embedded)==null?void 0:_["wp:featuredmedia"])==null?void 0:E[0])!=null&&N.source_url?"Change logo":"Upload logo"}),u.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Click the logo or button to upload a new logo"})]}),u.jsx("input",{ref:l,type:"file",accept:"image/*",onChange:h,className:"hidden",disabled:a})]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"label",children:"Organization name *"}),u.jsx("input",{...f("title",{required:"Organization name is required"}),className:"input",placeholder:"Acme Inc."}),y.title&&u.jsx("p",{className:"text-sm text-red-600 mt-1",children:y.title.message})]}),u.jsxs("div",{children:[u.jsx("label",{className:"label",children:"Website"}),u.jsx("input",{...f("website"),type:"url",className:"input",placeholder:"https://example.com"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"label",children:"Industry"}),u.jsx("input",{...f("industry"),className:"input",placeholder:"Technology"})]}),u.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t",children:[u.jsx(fe,{to:"/companies",className:"btn-secondary",children:"Cancel"}),u.jsxs("button",{type:"submit",className:"btn-primary",disabled:x,children:[u.jsx(ga,{className:"w-4 h-4 mr-2"}),n?"Save changes":"Create organization"]})]})]})]})]})}function Hse({person:t,dateType:e}){var r;return u.jsx("div",{className:"flex items-center gap-3 py-2",children:u.jsxs(fe,{to:`/people/${t.id}`,className:"flex items-center gap-3 flex-1 min-w-0 hover:opacity-80",children:[t.thumbnail?u.jsx("img",{src:t.thumbnail,alt:t.name,loading:"lazy",className:"w-10 h-10 rounded-full object-cover flex-shrink-0"}):u.jsx("div",{className:"w-10 h-10 rounded-full bg-gray-200 flex items-center justify-center flex-shrink-0",children:u.jsx("span",{className:"text-sm font-medium text-gray-500",children:(r=t.name)==null?void 0:r[0]})}),u.jsx("span",{className:"font-medium truncate",children:t.name}),u.jsx("span",{className:"text-sm text-gray-500 capitalize flex-shrink-0",children:e})]})})}function Vse({dates:t}){const e=t[0],n=e.days_until===0?"bg-green-100 text-green-700":"bg-gray-100 text-gray-600",i=[];return t.forEach(s=>{var o,l;const a=((o=s.date_type)==null?void 0:o[0])||"Date";((l=s.related_people)==null?void 0:l.length)>0?s.related_people.forEach(c=>{i.push({person:c,dateType:a})}):i.push({person:{id:null,name:s.title,thumbnail:null},dateType:a})}),u.jsx("div",{className:"card p-4 break-inside-avoid mb-4",children:u.jsxs("div",{className:"flex items-start gap-4",children:[u.jsx("div",{className:`w-14 h-14 rounded-lg ${n} flex items-center justify-center flex-shrink-0`,children:u.jsx("span",{className:"text-2xl font-bold leading-none",children:si(new Date(e.next_occurrence),"d")})}),u.jsx("div",{className:"flex-1 min-w-0 divide-y divide-gray-100",children:i.map(({person:s,dateType:a},o)=>u.jsx(Hse,{person:s,dateType:a},s.id?`${s.id}-${a}`:`${o}-${a}`))})]})})}function Kse(){const{data:t,isLoading:e,error:r}=Wre(365),n=(t==null?void 0:t.reduce((s,a)=>{const o=si(new Date(a.next_occurrence),"yyyy-MM-dd");return s[o]||(s[o]=[]),s[o].push(a),s},{}))||{},i=Object.entries(n).reduce((s,[a,o])=>{const l=si(new Date(a),"MMMM yyyy");return s[l]||(s[l]=[]),s[l].push(o),s},{});return u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("p",{className:"text-gray-600",children:[(t==null?void 0:t.length)||0," upcoming dates"]}),u.jsxs(fe,{to:"/dates/new",className:"btn-primary",children:[u.jsx(er,{className:"w-4 h-4 md:mr-2"}),u.jsx("span",{className:"hidden md:inline",children:"Add date"})]})]}),e&&u.jsx("div",{className:"flex items-center justify-center h-64",children:u.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"})}),r&&u.jsx("div",{className:"card p-6 text-center",children:u.jsx("p",{className:"text-red-600",children:"Failed to load dates."})}),!e&&!r&&(t==null?void 0:t.length)===0&&u.jsxs("div",{className:"card p-12 text-center",children:[u.jsx(lo,{className:"w-12 h-12 text-gray-300 mx-auto mb-4"}),u.jsx("h3",{className:"text-lg font-medium mb-1",children:"No important dates"}),u.jsx("p",{className:"text-gray-500 mb-4",children:"Add birthdays, anniversaries, and more."}),u.jsxs(fe,{to:"/dates/new",className:"btn-primary",children:[u.jsx(er,{className:"w-4 h-4 md:mr-2"}),u.jsx("span",{className:"hidden md:inline",children:"Add date"})]})]}),Object.entries(i).map(([s,a])=>u.jsxs("div",{children:[u.jsx("h2",{className:"text-2xl font-semibold text-gray-700 mb-4",children:s}),u.jsx("div",{className:"columns-1 md:columns-2 lg:columns-3 gap-4",children:a.map(o=>u.jsx(Vse,{dates:o},o[0].next_occurrence))})]},s))]})}function Gse({value:t=[],onChange:e,people:r=[],isLoading:n}){const[i,s]=I.useState(""),a=I.useMemo(()=>{if(!i)return r.slice(0,10);const d=i.toLowerCase();return r.filter(h=>uo(h).toLowerCase().includes(d)).slice(0,10)},[r,i]),o=I.useMemo(()=>t.map(d=>r.find(h=>h.id===d)).filter(Boolean),[t,r]),l=d=>{t.includes(d)||e([...t,d]),s("")},c=d=>{e(t.filter(h=>h!==d))};return u.jsxs("div",{className:"space-y-2",children:[o.length>0&&u.jsx("div",{className:"flex flex-wrap gap-2",children:o.map(d=>u.jsxs("span",{className:"inline-flex items-center gap-1 px-3 py-1 bg-primary-100 text-primary-800 rounded-full text-sm",children:[uo(d),u.jsx("button",{type:"button",onClick:()=>c(d.id),className:"hover:text-primary-600",children:u.jsx(Un,{className:"w-3 h-3"})})]},d.id))}),u.jsxs("div",{className:"relative",children:[u.jsx("input",{type:"text",value:i,onChange:d=>s(d.target.value),placeholder:"Search for people...",className:"input",disabled:n}),i&&u.jsx("div",{className:"absolute z-10 w-full mt-1 bg-white border border-gray-200 rounded-lg shadow-lg max-h-48 overflow-y-auto",children:a.length>0?a.map(d=>u.jsx("button",{type:"button",onClick:()=>l(d.id),disabled:t.includes(d.id),className:`w-full text-left px-4 py-2 hover:bg-gray-50 ${t.includes(d.id)?"opacity-50 cursor-not-allowed":""}`,children:uo(d)},d.id)):u.jsx("p",{className:"px-4 py-2 text-gray-500 text-sm",children:"No people found"})})]})]})}function sR(){var V;const{id:t}=ws(),[e]=FC(),r=un(),n=pt(),i=!!t,s=e.get("person"),a=e.get("type"),{data:o,isLoading:l}=yt({queryKey:["important-date",t],queryFn:async()=>(await Ue.getDate(t)).data,enabled:i}),c=I.useMemo(()=>{var U;if(!((U=o==null?void 0:o.acf)!=null&&U.related_people))return[];const W=o.acf.related_people;return Array.isArray(W)?W.map(K=>parseInt(typeof K=="object"&&K!==null?K.ID||K.id||K.post_id:K,10)).filter(K=>!isNaN(K)&&K>0):[]},[o]),{data:d=[],isLoading:h}=Iu({orderby:"title",order:"asc"}),{data:f=[]}=yt({queryKey:["people","specific",c],queryFn:async()=>{const W=c.map(K=>Ue.getPerson(K,{_embed:!0}).then(he=>he.data).catch(()=>null));return(await Promise.all(W)).filter(Boolean)},enabled:c.length>0}),p=I.useMemo(()=>{const W=new Map;return d.forEach(U=>W.set(U.id,U)),f.forEach(U=>{var he,xe,Re,ge,Ee,$e,rt,nr,bt,pr,lt,jr,Ir,Sr,nt,Lt;const K={...U,id:U.id,name:uo(U),first_name:((he=U.acf)==null?void 0:he.first_name)||"",last_name:((xe=U.acf)==null?void 0:xe.last_name)||"",is_favorite:((Re=U.acf)==null?void 0:Re.is_favorite)||!1,thumbnail:(($e=(Ee=(ge=U._embedded)==null?void 0:ge["wp:featuredmedia"])==null?void 0:Ee[0])==null?void 0:$e.source_url)||((jr=(lt=(pr=(bt=(nr=(rt=U._embedded)==null?void 0:rt["wp:featuredmedia"])==null?void 0:nr[0])==null?void 0:bt.media_details)==null?void 0:pr.sizes)==null?void 0:lt.thumbnail)==null?void 0:jr.source_url)||null,labels:((Lt=(nt=(Sr=(Ir=U._embedded)==null?void 0:Ir["wp:term"])==null?void 0:Sr.flat())==null?void 0:nt.filter(Rr=>(Rr==null?void 0:Rr.taxonomy)==="person_label"))==null?void 0:Lt.map(Rr=>Rr.name))||[]};W.set(K.id,K)}),Array.from(W.values())},[d,f]),{data:m=[]}=yt({queryKey:["date-types"],queryFn:async()=>((await Ue.getDateTypes()).data||[]).sort((K,he)=>{const xe=K.name||"",Re=he.name||"";return xe.localeCompare(Re)})}),y=Xe({mutationFn:W=>Ue.createDate(W),onSuccess:()=>{n.invalidateQueries({queryKey:["reminders"]}),r(s?`/people/${s}`:"/dates")}}),x=Xe({mutationFn:W=>Ue.updateDate(t,W),onSuccess:()=>{n.invalidateQueries({queryKey:["reminders"]}),n.invalidateQueries({queryKey:["important-date",t]}),n.invalidateQueries({queryKey:["people"]});const W=b("related_people");(W==null?void 0:W.length)>0?r(`/people/${W[0]}`):r("/dates")}}),{register:g,handleSubmit:v,reset:w,watch:b,setValue:_,control:E,formState:{errors:N,isSubmitting:S}}=$u({defaultValues:{title:"",date_value:"",date_type:"",related_people:[],is_recurring:!0}}),O=b("related_people"),C=b("date_type"),T=b("title");I.useEffect(()=>{var K;if((!T||["'s Birthday","Wedding of "].some(he=>T.endsWith(he)||T.startsWith(he)))&&(O==null?void 0:O.length)>0&&C){const he=m.find(Ee=>Ee.id===parseInt(C)),xe=(he==null?void 0:he.name)||"",Re=((K=he==null?void 0:he.slug)==null?void 0:K.toLowerCase())||xe.toLowerCase(),ge=O.map(Ee=>{var rt,nr,bt;const $e=p.find(pr=>pr.id===Ee);return $e?li(((rt=$e.acf)==null?void 0:rt.first_name)||((bt=(nr=$e.title)==null?void 0:nr.rendered)==null?void 0:bt.split(" ")[0])||""):null}).filter(Boolean);if(ge.length>0&&xe){let Ee;Re==="wedding"?ge.length>=2?Ee=`Wedding of ${ge[0]} & ${ge[1]}`:Ee=`Wedding of ${ge[0]}`:Ee=`${ge[0]}'s ${xe}`,_("title",Ee)}}},[O,C,p,m,_,T]);const[P,j]=I.useState(!1);I.useEffect(()=>{var U,K,he,xe,Re;if(P&&!i)return;const W=c.length===0||f.length>0;if(o&&p.length>0&&W){let ge=[];const Ee=(U=o.acf)==null?void 0:U.related_people;Ee&&(Array.isArray(Ee)?ge=Ee.map(rt=>parseInt(typeof rt=="object"&&rt!==null?rt.ID||rt.id||rt.post_id:rt,10)).filter(rt=>!isNaN(rt)&&rt>0):typeof Ee=="number"&&(ge=[Ee]));let $e="";((K=o.date_type)==null?void 0:K.length)>0&&($e=o.date_type[0].toString()),w({title:li(((he=o.title)==null?void 0:he.rendered)||""),date_value:((xe=o.acf)==null?void 0:xe.date_value)||"",date_type:$e,related_people:ge,is_recurring:((Re=o.acf)==null?void 0:Re.is_recurring)??!0}),j(!0)}else if(!i&&p.length>0&&m.length>0){const ge={title:"",date_value:"",date_type:"",related_people:[],is_recurring:!0};if(s&&(ge.related_people=[parseInt(s)]),a){const Ee=m.find($e=>$e.slug===a||$e.name.toLowerCase()===a.toLowerCase());Ee&&(ge.date_type=Ee.id.toString())}w(ge),j(!0)}},[o,w,i,s,a,m,p,c,f,P]),Sn(i&&o?`Edit ${((V=o.title)==null?void 0:V.rendered)||o.title||"date"}`:"New date");const D=async W=>{const U={title:W.title,status:"publish",date_type:W.date_type?[parseInt(W.date_type)]:[],acf:{date_value:W.date_value,related_people:W.related_people,is_recurring:W.is_recurring}};i?x.mutate(U):y.mutate(U)};if(i&&l)return u.jsx("div",{className:"flex items-center justify-center h-64",children:u.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"})});const L=b("related_people"),G=i&&(L==null?void 0:L.length)>0?L[0]:s,H=G?`/people/${G}`:"/dates",F=G?"Back to person":"Back to dates";return u.jsxs("div",{className:"max-w-2xl mx-auto space-y-6",children:[u.jsx("div",{className:"flex items-center justify-between",children:u.jsxs(fe,{to:H,className:"flex items-center text-gray-600 hover:text-gray-900",children:[u.jsx(xn,{className:"w-4 h-4 md:mr-2"}),u.jsx("span",{className:"hidden md:inline",children:F})]})}),u.jsxs("div",{className:"card p-6",children:[u.jsx("h1",{className:"text-xl font-bold mb-6",children:i?"Edit date":"Add new date"}),u.jsxs("form",{onSubmit:v(D),className:"space-y-6",children:[u.jsxs("div",{children:[u.jsx("label",{className:"label",children:"Related people"}),u.jsx(vp,{name:"related_people",control:E,render:({field:W})=>u.jsx(Gse,{value:W.value,onChange:W.onChange,people:p,isLoading:h})})]}),u.jsxs("div",{children:[u.jsx("label",{className:"label",children:"Date type *"}),u.jsx(vp,{name:"date_type",control:E,rules:{required:"Please select a date type"},render:({field:W})=>{const U=W.value?String(W.value):"";return u.jsxs("select",{value:U,onChange:K=>{const he=K.target.value;W.onChange(he)},onBlur:W.onBlur,name:W.name,ref:W.ref,className:"input",children:[u.jsx("option",{value:"",children:"Select a type..."}),m.map(K=>u.jsx("option",{value:String(K.id),children:K.name},K.id))]})}}),N.date_type&&u.jsx("p",{className:"text-sm text-red-600 mt-1",children:N.date_type.message})]}),u.jsxs("div",{children:[u.jsx("label",{className:"label",children:"Label"}),u.jsx("input",{...g("title"),className:"input",placeholder:"e.g., Mom's Birthday, Wedding Anniversary"}),u.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Auto-generated from person and date type. You can customize it."})]}),u.jsxs("div",{children:[u.jsx("label",{className:"label",children:"Date *"}),u.jsx("input",{...g("date_value",{required:"Date is required"}),type:"date",className:"input"}),N.date_value&&u.jsx("p",{className:"text-sm text-red-600 mt-1",children:N.date_value.message})]}),u.jsxs("div",{className:"flex items-center",children:[u.jsx("input",{type:"checkbox",...g("is_recurring"),className:"w-4 h-4 rounded border-gray-300 text-primary-600 focus:ring-primary-500"}),u.jsx("label",{className:"ml-2 text-sm text-gray-700",children:"Repeats every year"})]}),u.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t",children:[u.jsx(fe,{to:H,className:"btn-secondary",children:"Cancel"}),u.jsxs("button",{type:"submit",className:"btn-primary",disabled:S,children:[u.jsx(ga,{className:"w-4 h-4 mr-2"}),i?"Save changes":"Create date"]})]})]})]})]})}function Yse(){const t=window.prmConfig||{},e=t.isAdmin||!1,[r,n]=I.useState(""),[i,s]=I.useState(""),[a,o]=I.useState(!0),[l,c]=I.useState(!1),[d,h]=I.useState(!1),[f,p]=I.useState([]),[m,y]=I.useState(""),[x,g]=I.useState(!1),[v,w]=I.useState(""),[b,_]=I.useState("09:00"),[E,N]=I.useState(!0),[S,O]=I.useState(!1),[C,T]=I.useState(!1),[P,j]=I.useState(!1),[D,L]=I.useState(""),[G,H]=I.useState(!1),[F,V]=I.useState([]),[W,U]=I.useState([]),[K,he]=I.useState([]),[xe,Re]=I.useState(!1),[ge,Ee]=I.useState(!1),[$e,rt]=I.useState(!1),[nr,bt]=I.useState(""),[pr,lt]=I.useState(!1),[jr,Ir]=I.useState("");I.useEffect(()=>{(async()=>{try{const ae=await ce.get("/prm/v1/user/ical-url");n(ae.data.url),s(ae.data.webcal_url)}catch(ae){console.error("Failed to fetch iCal URL:",ae)}finally{o(!1)}})()},[]);const Sr=async()=>{Re(!0);try{const[z,ae]=await Promise.all([Me.getSlackChannels(),Me.getSlackTargets()]);V(z.data.channels||[]),U(z.data.users||[]),he(ae.data.targets||[])}catch(z){console.error("Failed to fetch Slack data:",z),L("Failed to load Slack channels and users. Please try refreshing the page.")}finally{Re(!1)}};I.useEffect(()=>{(async()=>{try{const ae=await Me.getNotificationChannels();p(ae.data.channels||["email"]),y(ae.data.slack_webhook||""),_(ae.data.notification_time||"09:00");const de=await Me.getSlackStatus(),He=de.data.connected||!1;g(He),w(de.data.workspace_name||""),He&&await Sr()}catch(ae){console.error("Failed to fetch notification channels:",ae)}finally{N(!1)}})()},[]),I.useEffect(()=>{x&&Sr()},[x]),I.useEffect(()=>{const z=new URLSearchParams(window.location.search),ae=z.get("slack_connected"),de=z.get("slack_error");ae==="1"?(L("Slack connected successfully!"),Me.getSlackStatus().then(He=>{g(He.data.connected||!1),w(He.data.workspace_name||"")}),window.history.replaceState({},"",window.location.pathname)):de&&(L(`Slack connection failed: ${de}`),window.history.replaceState({},"",window.location.pathname))},[]);const nt=async()=>{var z,ae;try{const de=await ce.get("/prm/v1/slack/oauth/authorize");window.location.href=de.data.oauth_url}catch(de){console.error("Failed to get Slack OAuth URL:",de),alert(((ae=(z=de.response)==null?void 0:z.data)==null?void 0:ae.message)||"Failed to connect Slack")}},Lt=async()=>{var z,ae;if(confirm("Are you sure you want to disconnect Slack? You will stop receiving Slack notifications.")){H(!0);try{await Me.disconnectSlack(),g(!1),w(""),V([]),U([]),he([]),L("Slack disconnected successfully"),f.includes("slack")&&await A("slack")}catch(de){console.error("Failed to disconnect Slack:",de),alert(((ae=(z=de.response)==null?void 0:z.data)==null?void 0:ae.message)||"Failed to disconnect Slack")}finally{H(!1)}}},Rr=z=>{const ae=K.includes(z)?K.filter(de=>de!==z):[...K,z];he(ae)},Kr=async()=>{var z,ae;Ee(!0);try{await Me.updateSlackTargets(K),L("Notification targets saved successfully"),setTimeout(()=>L(""),3e3)}catch(de){console.error("Failed to save Slack targets:",de),alert(((ae=(z=de.response)==null?void 0:z.data)==null?void 0:ae.message)||"Failed to save notification targets")}finally{Ee(!1)}},$=async()=>{try{await navigator.clipboard.writeText(r),c(!0),setTimeout(()=>c(!1),2e3)}catch(z){console.error("Failed to copy:",z)}},M=async()=>{if(confirm("Are you sure you want to regenerate your calendar URL? Any existing calendar subscriptions will stop working until you update them with the new URL.")){h(!0);try{const z=await ce.post("/prm/v1/user/regenerate-ical-token");n(z.data.url),s(z.data.webcal_url)}catch(z){console.error("Failed to regenerate token:",z)}finally{h(!1)}}},A=async z=>{var de,He;const ae=f.includes(z)?f.filter(ve=>ve!==z):[...f,z];O(!0);try{await Me.updateNotificationChannels(ae),p(ae)}catch(ve){console.error("Failed to update notification channels:",ve),alert(((He=(de=ve.response)==null?void 0:de.data)==null?void 0:He.message)||"Failed to update notification channels")}finally{O(!1)}},ie=async z=>{var ae,de;_(z),j(!0);try{await Me.updateNotificationTime(z)}catch(He){console.error("Failed to update notification time:",He),alert(((de=(ae=He.response)==null?void 0:ae.data)==null?void 0:de.message)||"Failed to update notification time");const ve=await Me.getNotificationChannels();_(ve.data.notification_time||"09:00")}finally{j(!1)}},ee=async()=>{var z,ae;if(confirm("This will send reminder emails for all reminders due today. Continue?")){rt(!0),bt("");try{const de=await Me.triggerReminders();bt(de.data.message||"Reminders triggered successfully.")}catch(de){console.error("Failed to trigger reminders:",de),bt(((ae=(z=de.response)==null?void 0:z.data)==null?void 0:ae.message)||"Failed to trigger reminders. Please check server logs.")}finally{rt(!1)}}},Y=async()=>{var z,ae;if(confirm("This will reschedule all user reminder cron jobs based on their notification time preferences. Continue?")){lt(!0),Ir("");try{const de=await Me.rescheduleCronJobs();Ir(de.data.message||"Cron jobs rescheduled successfully.")}catch(de){console.error("Failed to reschedule cron jobs:",de),Ir(((ae=(z=de.response)==null?void 0:z.data)==null?void 0:ae.message)||"Failed to reschedule cron jobs. Please check server logs.")}finally{lt(!1)}}};return u.jsxs("div",{className:"max-w-2xl mx-auto space-y-6",children:[u.jsxs("div",{className:"card p-6",children:[u.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Calendar Subscription"}),u.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Subscribe to your important dates in any calendar app (Apple Calendar, Google Calendar, Outlook, etc.)"}),a?u.jsxs("div",{className:"animate-pulse",children:[u.jsx("div",{className:"h-10 bg-gray-200 rounded mb-3"}),u.jsx("div",{className:"h-9 bg-gray-200 rounded w-24"})]}):u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"label mb-1",children:"Your Calendar Feed URL"}),u.jsxs("div",{className:"flex gap-2",children:[u.jsx("input",{type:"text",readOnly:!0,value:r,className:"input flex-1 text-sm font-mono bg-gray-50",onClick:z=>z.target.select()}),u.jsx("button",{onClick:$,className:"btn-secondary whitespace-nowrap",title:"Copy URL",children:l?u.jsxs("span",{className:"flex items-center gap-1",children:[u.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),"Copied"]}):u.jsxs("span",{className:"flex items-center gap-1",children:[u.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 5H6a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2v-1M8 5a2 2 0 002 2h2a2 2 0 002-2M8 5a2 2 0 012-2h2a2 2 0 012 2m0 0h2a2 2 0 012 2v3m2 4H10m0 0l3-3m-3 3l3 3"})}),"Copy"]})})]})]}),u.jsxs("div",{className:"flex flex-wrap gap-2",children:[u.jsx("a",{href:i,className:"btn-primary",children:u.jsxs("span",{className:"flex items-center gap-1",children:[u.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})}),"Subscribe in Calendar App"]})}),u.jsx("button",{onClick:M,disabled:d,className:"btn-secondary",children:d?"Regenerating...":"Regenerate URL"})]}),u.jsx("p",{className:"text-xs text-gray-500",children:'Keep this URL private. Anyone with access to it can see your important dates. If you think it has been compromised, click "Regenerate URL" to get a new one.'})]})]}),u.jsxs("div",{className:"card p-6",children:[u.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Data"}),u.jsxs("div",{className:"space-y-3",children:[u.jsxs(fe,{to:"/settings/import",className:"block p-3 rounded-lg border border-gray-200 hover:bg-gray-50",children:[u.jsx("p",{className:"font-medium",children:"Import Data"}),u.jsx("p",{className:"text-sm text-gray-500",children:"Import contacts from Monica CRM or other sources"})]}),u.jsxs(fe,{to:"/settings/export",className:"block p-3 rounded-lg border border-gray-200 hover:bg-gray-50",children:[u.jsx("p",{className:"font-medium",children:"Export Data"}),u.jsx("p",{className:"text-sm text-gray-500",children:"Export all contacts as vCard or Google Contacts CSV"})]})]})]}),u.jsxs("div",{className:"card p-6",children:[u.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Notifications"}),u.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Choose how you want to receive daily reminders about your important dates."}),E?u.jsxs("div",{className:"animate-pulse",children:[u.jsx("div",{className:"h-10 bg-gray-200 rounded mb-3"}),u.jsx("div",{className:"h-10 bg-gray-200 rounded"})]}):u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg border border-gray-200",children:[u.jsxs("div",{children:[u.jsx("p",{className:"font-medium",children:"Email"}),u.jsx("p",{className:"text-sm text-gray-500",children:"Receive daily digest emails"})]}),u.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[u.jsx("input",{type:"checkbox",checked:f.includes("email"),onChange:()=>A("email"),disabled:S,className:"sr-only peer"}),u.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-primary-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-primary-600"})]})]}),u.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg border border-gray-200",children:[u.jsxs("div",{children:[u.jsx("p",{className:"font-medium",children:"Slack"}),u.jsx("p",{className:"text-sm text-gray-500",children:"Receive notifications in Slack"})]}),u.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[u.jsx("input",{type:"checkbox",checked:f.includes("slack"),onChange:()=>A("slack"),disabled:S||!x,className:"sr-only peer"}),u.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-primary-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-primary-600"})]})]}),u.jsx("div",{children:x?u.jsxs("div",{className:"space-y-3",children:[u.jsx("div",{className:"p-3 bg-green-50 border border-green-200 rounded-lg",children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsx("p",{className:"font-medium text-green-900",children:"Connected to Slack"}),v&&u.jsxs("p",{className:"text-sm text-green-700",children:["Workspace: ",v]})]}),u.jsx("button",{onClick:Lt,disabled:G,className:"btn-secondary text-sm",children:G?"Disconnecting...":"Disconnect"})]})}),D&&u.jsx("p",{className:`text-sm ${D.includes("successfully")||D.includes("disconnected")?"text-green-600":"text-red-600"}`,children:D}),f.includes("slack")&&u.jsxs("div",{className:"mt-4 p-4 border border-gray-200 rounded-lg",children:[u.jsx("h3",{className:"font-medium mb-3",children:"Notification targets"}),u.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Choose where to send Slack notifications. You can select multiple channels and users."}),xe?u.jsx("p",{className:"text-sm text-gray-500",children:"Loading channels and users..."}):u.jsxs(u.Fragment,{children:[F.length>0&&u.jsxs("div",{className:"mb-4",children:[u.jsx("h4",{className:"text-sm font-medium mb-2",children:"Channels"}),u.jsx("div",{className:"space-y-2 max-h-48 overflow-y-auto",children:F.map(z=>u.jsxs("label",{className:"flex items-center p-2 hover:bg-gray-50 rounded cursor-pointer",children:[u.jsx("input",{type:"checkbox",checked:K.includes(z.id),onChange:()=>Rr(z.id),className:"mr-2 cursor-pointer"}),u.jsx("span",{className:"text-sm",children:z.name})]},z.id))})]}),W.length>0&&u.jsxs("div",{className:"mb-4",children:[u.jsx("h4",{className:"text-sm font-medium mb-2",children:"Direct messages"}),u.jsx("div",{className:"space-y-2 max-h-48 overflow-y-auto",children:W.map(z=>u.jsxs("label",{className:"flex items-center p-2 hover:bg-gray-50 rounded cursor-pointer",children:[u.jsx("input",{type:"checkbox",checked:K.includes(z.id),onChange:()=>Rr(z.id),className:"mr-2 cursor-pointer"}),u.jsxs("span",{className:"text-sm",children:[z.name,z.is_me&&u.jsx("span",{className:"text-gray-500 ml-1",children:"(you)"})]})]},z.id))})]}),F.length===0&&W.length===0&&!xe&&u.jsx("p",{className:"text-sm text-gray-500 mb-4",children:"No channels or users found. Make sure the Slack app has the necessary permissions."}),u.jsx("button",{onClick:Kr,disabled:ge,className:"btn-primary text-sm mt-4",children:ge?"Saving...":"Save targets"})]})]})]}):u.jsxs("div",{className:"space-y-3",children:[u.jsx("button",{onClick:nt,className:"btn-primary w-full",disabled:G,children:"Connect Slack"}),D&&u.jsx("p",{className:`text-sm ${D.includes("successfully")?"text-green-600":"text-red-600"}`,children:D}),u.jsx("p",{className:"text-xs text-gray-500",children:"Connect your Slack workspace to receive daily reminder notifications. You'll be able to message channels or receive direct messages."})]})}),m&&!x&&u.jsx("div",{className:"p-3 bg-yellow-50 border border-yellow-200 rounded-lg",children:u.jsxs("p",{className:"text-sm text-yellow-800",children:[u.jsx("strong",{children:"Legacy webhook detected."})," Please connect via OAuth for better functionality. Your webhook will continue to work until you connect via OAuth."]})}),u.jsxs("div",{children:[u.jsx("label",{className:"label mb-1",children:"Notification Time (UTC)"}),u.jsx("input",{type:"time",value:b,onChange:z=>ie(z.target.value),className:"input",disabled:P}),b&&u.jsxs("div",{className:"mt-2 p-2 bg-gray-50 rounded text-sm",children:[u.jsxs("p",{className:"text-gray-700",children:[u.jsx("span",{className:"font-medium",children:"UTC:"})," ",b]}),u.jsxs("p",{className:"text-gray-700 mt-1",children:[u.jsxs("span",{className:"font-medium",children:["Your time (",Intl.DateTimeFormat().resolvedOptions().timeZone,"):"]})," ",(()=>{try{const[z,ae]=b.split(":"),de=new Date;return de.setUTCHours(parseInt(z),parseInt(ae),0,0),de.toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit",hour12:!1})}catch{return b}})()]})]}),u.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Choose the UTC time when you want to receive your daily reminder digest. Reminders are sent within a 1-hour window of your selected time."})]})]})]}),e&&u.jsxs("div",{className:"card p-6",children:[u.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Administration"}),u.jsxs("div",{className:"space-y-3",children:[u.jsxs(fe,{to:"/settings/relationship-types",className:"block p-3 rounded-lg border border-gray-200 hover:bg-gray-50",children:[u.jsx("p",{className:"font-medium",children:"Relationship Types"}),u.jsx("p",{className:"text-sm text-gray-500",children:"Manage relationship types and their inverse mappings"})]}),u.jsxs(fe,{to:"/settings/user-approval",className:"block p-3 rounded-lg border border-gray-200 hover:bg-gray-50",children:[u.jsx("p",{className:"font-medium",children:"User Approval"}),u.jsx("p",{className:"text-sm text-gray-500",children:"Approve or deny access for new users"})]}),u.jsxs("button",{onClick:ee,disabled:$e,className:"w-full text-left p-3 rounded-lg border border-gray-200 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:[u.jsx("p",{className:"font-medium",children:"Trigger reminders"}),u.jsx("p",{className:"text-sm text-gray-500",children:$e?"Sending...":"Manually send reminders for today"}),nr&&u.jsx("p",{className:"text-sm text-green-600 mt-1",children:nr})]}),u.jsxs("button",{onClick:Y,disabled:pr,className:"w-full text-left p-3 rounded-lg border border-gray-200 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:[u.jsx("p",{className:"font-medium",children:"Reschedule cron jobs"}),u.jsx("p",{className:"text-sm text-gray-500",children:pr?"Rescheduling...":"Reschedule all user reminder cron jobs"}),jr&&u.jsx("p",{className:"text-sm text-green-600 mt-1",children:jr})]})]})]}),u.jsxs("div",{className:"card p-6",children:[u.jsx("h2",{className:"text-lg font-semibold mb-4",children:"About"}),u.jsxs("p",{className:"text-sm text-gray-600",children:[pu," v",t.version||"1.0.0",u.jsx("br",{}),"Built with WordPress, React, and Tailwind CSS."]})]})]})}function aR({value:t,onChange:e,relationshipTypes:r,currentTypeId:n=null}){const[i,s]=I.useState(""),[a,o]=I.useState(!1),l=I.useRef(null),c=I.useRef(null),d=I.useMemo(()=>r.sort((x,g)=>{const v=(x.name||"").toLowerCase(),w=(g.name||"").toLowerCase();return v<w?-1:v>w?1:0}),[r]),h=I.useMemo(()=>{if(!i)return d.slice(0,10);const x=i.toLowerCase();return d.filter(g=>(g.name||"").toLowerCase().includes(x)).slice(0,10)},[d,i]),f=I.useMemo(()=>d.find(x=>x.id===parseInt(t,10)),[d,t]);I.useEffect(()=>{const x=g=>{c.current&&!c.current.contains(g.target)&&l.current&&!l.current.contains(g.target)&&o(!1)};return document.addEventListener("mousedown",x),()=>document.removeEventListener("mousedown",x)},[]);const p=x=>{e(x?x.toString():""),s(""),o(!1)},m=()=>{e(""),s(""),o(!1)},y=f?f.name:"";return u.jsxs("div",{className:"relative",children:[u.jsx("div",{className:"relative",children:f&&!a?u.jsxs("div",{className:"flex items-center justify-between input pr-8 cursor-text",onClick:()=>o(!0),children:[u.jsx("span",{children:y}),u.jsx("button",{type:"button",onClick:x=>{x.stopPropagation(),m()},className:"absolute right-2 text-gray-400 hover:text-gray-600",children:u.jsx(Un,{className:"w-4 h-4"})})]}):u.jsx("input",{ref:l,type:"text",value:i,onChange:x=>{s(x.target.value),o(!0)},onFocus:()=>o(!0),placeholder:"Search for a relationship type...",className:"input"})}),a&&(i||!f)&&u.jsx("div",{ref:c,className:"absolute z-10 w-full mt-1 bg-white border border-gray-200 rounded-lg shadow-lg max-h-48 overflow-y-auto",children:h.length>0?u.jsxs(u.Fragment,{children:[u.jsx("button",{type:"button",onClick:()=>p(null),className:`w-full text-left px-4 py-2 hover:bg-gray-50 ${t?"":"bg-primary-50"}`,children:u.jsx("span",{className:"text-gray-500 italic",children:"None (no inverse)"})}),h.map(x=>u.jsx("button",{type:"button",onClick:()=>p(x.id),className:`w-full text-left px-4 py-2 hover:bg-gray-50 ${t===x.id.toString()?"bg-primary-50":""}`,children:x.name},x.id))]}):u.jsx("p",{className:"px-4 py-2 text-gray-500 text-sm",children:"No relationship types found"})})]})}function Qse(){Sn("Relationship Types - Settings");const t=pt();if(!((window.prmConfig||{}).isAdmin||!1))return u.jsx("div",{className:"max-w-2xl mx-auto",children:u.jsxs("div",{className:"card p-8 text-center",children:[u.jsx(iK,{className:"w-16 h-16 mx-auto text-amber-500 mb-4"}),u.jsx("h1",{className:"text-2xl font-bold mb-2",children:"Access Denied"}),u.jsx("p",{className:"text-gray-600 mb-6",children:"You don't have permission to manage relationship types. This feature is only available to administrators."}),u.jsx(fe,{to:"/settings",className:"btn-primary",children:"Back to Settings"})]})});const{data:n=[],isLoading:i}=yt({queryKey:["relationship-types"],queryFn:async()=>(await Ue.getRelationshipTypes()).data}),[s,a]=I.useState(null),[o,l]=I.useState(""),[c,d]=I.useState(""),[h,f]=I.useState(""),[p,m]=I.useState(""),[y,x]=I.useState(!1),g=Xe({mutationFn:async({id:T,name:P,inverseId:j})=>{const D={name:P};return j&&(D.acf={inverse_relationship_type:parseInt(j,10)}),Ue.updateRelationshipType(T,D)},onSuccess:()=>{t.invalidateQueries({queryKey:["relationship-types"]}),a(null),l(""),d("")}}),v=Xe({mutationFn:async({name:T,inverseId:P})=>{const j={name:T};return P&&(j.acf={inverse_relationship_type:parseInt(P,10)}),Ue.createRelationshipType(j)},onSuccess:()=>{t.invalidateQueries({queryKey:["relationship-types"]}),f(""),m(""),x(!1)}}),w=Xe({mutationFn:T=>Ue.deleteRelationshipType(T),onSuccess:()=>{t.invalidateQueries({queryKey:["relationship-types"]})}}),b=Xe({mutationFn:()=>Ue.restoreRelationshipTypeDefaults(),onSuccess:()=>{t.invalidateQueries({queryKey:["relationship-types"]}),alert("Default relationship type configurations have been restored.")},onError:()=>{alert("Failed to restore defaults. Please try again.")}});function _(){return u.jsxs("button",{onClick:()=>{window.confirm("This will restore all default inverse mappings and gender-dependent settings. Continue?")&&b.mutate()},disabled:b.isPending,className:"btn-secondary flex items-center gap-2",title:"Restore default inverse mappings and gender-dependent settings",children:[b.isPending?u.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-gray-600"}):u.jsx(tK,{className:"w-4 h-4"}),u.jsx("span",{className:"hidden md:inline",children:"Restore Defaults"})]})}const E=T=>{var j;a(T.id),l(T.name);const P=(j=T.acf)==null?void 0:j.inverse_relationship_type;d(P?P.toString():"")},N=()=>{a(null),l(""),d("")},S=()=>{if(!o.trim()){alert("Name is required");return}g.mutate({id:s,name:o.trim(),inverseId:c||null})},O=()=>{if(!h.trim()){alert("Name is required");return}v.mutate({name:h.trim(),inverseId:p||null})},C=(T,P)=>{window.confirm(`Are you sure you want to delete "${P}"? This cannot be undone.`)&&w.mutate(T)};return i?u.jsx("div",{className:"flex items-center justify-center h-64",children:u.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"})}):u.jsx("div",{className:"max-w-4xl mx-auto space-y-6",children:u.jsxs("div",{className:"card p-6",children:[u.jsxs("div",{className:"flex items-center justify-between mb-6",children:[u.jsx("h1",{className:"text-2xl font-bold",children:"Relationship Types"}),u.jsx("div",{className:"flex gap-2",children:!y&&u.jsxs(u.Fragment,{children:[u.jsx(_,{}),u.jsxs("button",{onClick:()=>x(!0),className:"btn-primary flex items-center gap-2",children:[u.jsx(er,{className:"w-4 h-4"}),u.jsx("span",{className:"hidden md:inline",children:"Add Relationship Type"})]})]})})]}),y&&u.jsxs("div",{className:"mb-6 p-4 border border-gray-200 rounded-lg bg-gray-50",children:[u.jsx("h3",{className:"font-semibold mb-4",children:"Add New Relationship Type"}),u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"label",children:"Name *"}),u.jsx("input",{type:"text",value:h,onChange:T=>f(T.target.value),className:"input",placeholder:"e.g., Parent, Spouse, Colleague"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"label",children:"Inverse Relationship Type"}),u.jsx(aR,{value:p,onChange:m,relationshipTypes:n}),u.jsx("p",{className:"text-xs text-gray-500 mt-1",children:'Select the inverse relationship type. For example, if this is "Parent", select "Child". If this is "Spouse" or "Acquaintance", select the same type (e.g., "Spouse"  "Spouse").'})]}),u.jsxs("div",{className:"flex gap-2",children:[u.jsxs("button",{onClick:O,disabled:v.isPending,className:"btn-primary flex items-center gap-2",children:[v.isPending?u.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}):u.jsx(ga,{className:"w-4 h-4"}),u.jsx("span",{className:"hidden md:inline",children:"Save"})]}),u.jsx("button",{onClick:()=>{x(!1),f(""),m("")},className:"btn-secondary",children:"Cancel"})]})]})]}),u.jsx("div",{className:"space-y-2",children:n.length===0?u.jsx("p",{className:"text-gray-500 text-center py-8",children:"No relationship types found."}):n.map(T=>{var G,H;const P=s===T.id,j=(G=T.acf)==null?void 0:G.inverse_relationship_type,D=typeof j=="object"&&(j!=null&&j.ID)?j.ID:typeof j=="object"&&(j!=null&&j.id)?j.id:j,L=D?n.find(F=>F.id===D):null;return u.jsx("div",{className:"p-4 border border-gray-200 rounded-lg hover:bg-gray-50",children:P?u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"label",children:"Name *"}),u.jsx("input",{type:"text",value:o,onChange:F=>l(F.target.value),className:"input"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"label",children:"Inverse Relationship Type"}),u.jsx(aR,{value:c,onChange:d,relationshipTypes:n,currentTypeId:T.id}),u.jsx("p",{className:"text-xs text-gray-500 mt-1",children:'Select the inverse relationship type. For example, if this is "Parent", select "Child". If this is "Spouse" or "Acquaintance", select the same type (e.g., "Spouse"  "Spouse").'})]}),u.jsxs("div",{className:"flex gap-2",children:[u.jsxs("button",{onClick:S,disabled:g.isPending,className:"btn-primary flex items-center gap-2",children:[g.isPending?u.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}):u.jsx(ga,{className:"w-4 h-4"}),u.jsx("span",{className:"hidden md:inline",children:"Save"})]}),u.jsxs("button",{onClick:N,className:"btn-secondary flex items-center gap-2",children:[u.jsx(Un,{className:"w-4 h-4"}),u.jsx("span",{className:"hidden md:inline",children:"Cancel"})]})]})]}):u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{className:"flex-1",children:[u.jsx("div",{className:"font-medium",children:T.name}),L&&u.jsxs("div",{className:"text-sm text-gray-500 mt-1",children:["Inverse: ",u.jsx("span",{className:"font-medium",children:L.name})]}),!L&&((H=T.acf)==null?void 0:H.inverse_relationship_type)===null&&u.jsx("div",{className:"text-sm text-gray-400 mt-1 italic",children:"No inverse relationship"})]}),u.jsxs("div",{className:"flex gap-2",children:[u.jsx("button",{onClick:()=>E(T),className:"p-2 text-gray-600 hover:text-primary-600 hover:bg-primary-50 rounded",title:"Edit",children:u.jsx(Mre,{className:"w-4 h-4"})}),u.jsx("button",{onClick:()=>C(T.id,T.name),className:"p-2 text-gray-600 hover:text-red-600 hover:bg-red-50 rounded",title:"Delete",children:u.jsx(Oi,{className:"w-4 h-4"})})]})]})},T.id)})})]})})}function Xse(){var g,v,w;const[t,e]=I.useState(null),[r,n]=I.useState(""),[i,s]=I.useState(!1),[a,o]=I.useState(null),l=pt(),c=Xe({mutationFn:async b=>{const _=new FormData;return _.append("file",b),(await ce.post("/prm/v1/import/monica/validate",_,{headers:{"Content-Type":"multipart/form-data"}})).data},onSuccess:b=>{o(b)},onError:b=>{var _,E;o({valid:!1,error:((E=(_=b.response)==null?void 0:_.data)==null?void 0:E.message)||"Failed to validate file"})}}),d=Xe({mutationFn:async({file:b,monicaUrl:_})=>{const E=new FormData;return E.append("file",b),E.append("monica_url",_),(await ce.post("/prm/v1/import/monica",E,{headers:{"Content-Type":"multipart/form-data"}})).data},onSuccess:()=>{l.invalidateQueries({queryKey:["people"]}),l.invalidateQueries({queryKey:["companies"]}),l.invalidateQueries({queryKey:["dates"]}),l.invalidateQueries({queryKey:["dashboard"]})}}),h=I.useCallback(b=>{b.preventDefault(),b.stopPropagation(),b.type==="dragenter"||b.type==="dragover"?s(!0):b.type==="dragleave"&&s(!1)},[]),f=I.useCallback(b=>{b.preventDefault(),b.stopPropagation(),s(!1),b.dataTransfer.files&&b.dataTransfer.files[0]&&m(b.dataTransfer.files[0])},[]),p=b=>{b.target.files&&b.target.files[0]&&m(b.target.files[0])},m=b=>{if(!b.name.endsWith(".sql")){o({valid:!1,error:"Please select a SQL file"});return}e(b),o(null),d.reset(),c.mutate(b)},y=()=>{if(!r.trim()){o(b=>({...b,urlError:"Please enter your Monica instance URL"}));return}t&&(a!=null&&a.valid)&&d.mutate({file:t,monicaUrl:r.trim()})},x=()=>{e(null),n(""),o(null),c.reset(),d.reset()};return u.jsxs("div",{className:"space-y-4",children:[u.jsx("h2",{className:"text-lg font-semibold",children:"Import from Monica"}),u.jsx("p",{className:"text-sm text-gray-600",children:"Import contacts, relationships, notes, and photos from a Monica CRM SQL export file. Reimporting the same file will update existing contacts instead of creating duplicates."}),d.isSuccess?u.jsx("div",{className:"rounded-lg border border-green-200 bg-green-50 p-4",children:u.jsxs("div",{className:"flex items-start gap-3",children:[u.jsx(du,{className:"h-5 w-5 text-green-600 mt-0.5"}),u.jsxs("div",{className:"flex-1",children:[u.jsx("h3",{className:"font-medium text-green-900",children:"Import Complete"}),u.jsxs("div",{className:"mt-2 text-sm text-green-800 space-y-1",children:[u.jsxs("p",{children:["Contacts imported: ",d.data.stats.contacts_imported]}),u.jsxs("p",{children:["Contacts updated: ",d.data.stats.contacts_updated]}),u.jsxs("p",{children:["Contacts skipped (partial): ",d.data.stats.contacts_skipped]}),u.jsxs("p",{children:["Photos imported: ",d.data.stats.photos_imported]}),u.jsxs("p",{children:["Organizations created: ",d.data.stats.companies_created]}),u.jsxs("p",{children:["Relationships created: ",d.data.stats.relationships_created]}),u.jsxs("p",{children:["Important dates created: ",d.data.stats.dates_created]}),u.jsxs("p",{children:["Notes created: ",d.data.stats.notes_created]}),((g=d.data.stats.errors)==null?void 0:g.length)>0&&u.jsxs("div",{className:"mt-2 pt-2 border-t border-green-200",children:[u.jsx("p",{className:"font-medium",children:"Errors:"}),u.jsx("ul",{className:"list-disc list-inside",children:d.data.stats.errors.map((b,_)=>u.jsx("li",{children:b},_))})]})]}),u.jsx("button",{onClick:x,className:"mt-3 text-sm text-green-700 hover:text-green-800 font-medium",children:"Import another file"})]})]})}):u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:`relative rounded-lg border-2 border-dashed p-8 text-center transition-colors ${i?"border-primary-500 bg-primary-50":t?"border-green-300 bg-green-50":"border-gray-300 hover:border-gray-400"}`,onDragEnter:h,onDragLeave:h,onDragOver:h,onDrop:f,children:[u.jsx("input",{type:"file",accept:".sql",onChange:p,className:"absolute inset-0 w-full h-full opacity-0 cursor-pointer"}),c.isPending?u.jsxs("div",{className:"flex flex-col items-center gap-2",children:[u.jsx(No,{className:"h-8 w-8 text-primary-600 animate-spin"}),u.jsx("p",{className:"text-gray-600",children:"Validating file..."})]}):t?u.jsxs("div",{className:"flex flex-col items-center gap-2",children:[u.jsx(rm,{className:"h-8 w-8 text-green-600"}),u.jsx("p",{className:"font-medium text-gray-900",children:t.name}),u.jsxs("p",{className:"text-sm text-gray-500",children:[(t.size/1024/1024).toFixed(2)," MB"]})]}):u.jsxs("div",{className:"flex flex-col items-center gap-2",children:[u.jsx(fu,{className:"h-8 w-8 text-gray-400"}),u.jsx("p",{className:"text-gray-600",children:"Drag and drop your Monica SQL export file here, or click to browse"}),u.jsx("p",{className:"text-sm text-gray-500",children:"Supports SQL export files"})]})]}),a&&u.jsx("div",{className:`rounded-lg border p-4 ${a.valid?"border-green-200 bg-green-50":"border-red-200 bg-red-50"}`,children:a.valid?u.jsxs("div",{className:"flex items-start gap-3",children:[u.jsx(du,{className:"h-5 w-5 text-green-600 mt-0.5"}),u.jsxs("div",{className:"flex-1",children:[u.jsx("h3",{className:"font-medium text-green-900",children:"File validated successfully"}),u.jsxs("div",{className:"mt-2 text-sm text-green-800",children:[u.jsxs("p",{children:["Export format: ",a.version]}),u.jsxs("p",{children:["Contacts to import: ",a.summary.contacts]}),u.jsxs("p",{children:["Relationships: ",a.summary.relationships]}),u.jsxs("p",{children:["Notes: ",a.summary.notes]}),u.jsxs("p",{children:["Dates: ",a.summary.reminders]}),u.jsxs("p",{children:["Photos: ",a.summary.photos]}),u.jsxs("p",{children:["Organizations: ",a.summary.companies_count]})]})]})]}):u.jsxs("div",{className:"flex items-start gap-3",children:[u.jsx(va,{className:"h-5 w-5 text-red-600 mt-0.5"}),u.jsxs("div",{children:[u.jsx("h3",{className:"font-medium text-red-900",children:"Validation failed"}),u.jsx("p",{className:"text-sm text-red-700 mt-1",children:a.error})]})]})}),(a==null?void 0:a.valid)&&u.jsxs("div",{className:"space-y-2",children:[u.jsx("label",{htmlFor:"monica-url",className:"block text-sm font-medium text-gray-700",children:"Monica Instance URL"}),u.jsxs("div",{className:"relative",children:[u.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:u.jsx(eK,{className:"h-4 w-4 text-gray-400"})}),u.jsx("input",{type:"url",id:"monica-url",value:r,onChange:b=>n(b.target.value),placeholder:"https://your-monica-instance.com",className:`block w-full pl-10 pr-3 py-2 border rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500 ${a.urlError?"border-red-300":"border-gray-300"}`})]}),a.urlError&&u.jsx("p",{className:"text-sm text-red-600",children:a.urlError}),u.jsx("p",{className:"text-xs text-gray-500",children:"Enter the URL of your Monica instance to import photos. Photos will be downloaded from this URL."})]}),(a==null?void 0:a.valid)&&u.jsxs("div",{className:"flex gap-3",children:[u.jsx("button",{onClick:y,disabled:d.isPending,className:"btn-primary flex items-center gap-2",children:d.isPending?u.jsxs(u.Fragment,{children:[u.jsx(No,{className:"h-4 w-4 animate-spin"}),u.jsx("span",{className:"hidden md:inline",children:"Importing..."})]}):u.jsxs(u.Fragment,{children:[u.jsx(fu,{className:"h-4 w-4"}),u.jsx("span",{className:"hidden md:inline",children:"Start Import"})]})}),u.jsx("button",{onClick:x,disabled:d.isPending,className:"btn-secondary",children:"Cancel"})]}),d.isError&&u.jsx("div",{className:"rounded-lg border border-red-200 bg-red-50 p-4",children:u.jsxs("div",{className:"flex items-start gap-3",children:[u.jsx(va,{className:"h-5 w-5 text-red-600 mt-0.5"}),u.jsxs("div",{children:[u.jsx("h3",{className:"font-medium text-red-900",children:"Import failed"}),u.jsx("p",{className:"text-sm text-red-700 mt-1",children:((w=(v=d.error.response)==null?void 0:v.data)==null?void 0:w.message)||"An error occurred during import"})]})]})})]})]})}function Jse(){var y,x,g;const[t,e]=I.useState(null),[r,n]=I.useState(!1),[i,s]=I.useState(null),a=pt(),o=Xe({mutationFn:async v=>{const w=new FormData;return w.append("file",v),(await ce.post("/prm/v1/import/vcard/validate",w,{headers:{"Content-Type":"multipart/form-data"}})).data},onSuccess:v=>{s(v)},onError:v=>{var w,b;s({valid:!1,error:((b=(w=v.response)==null?void 0:w.data)==null?void 0:b.message)||"Failed to validate file"})}}),l=Xe({mutationFn:async v=>{const w=new FormData;return w.append("file",v),(await ce.post("/prm/v1/import/vcard",w,{headers:{"Content-Type":"multipart/form-data"}})).data},onSuccess:()=>{a.invalidateQueries({queryKey:["people"]}),a.invalidateQueries({queryKey:["companies"]}),a.invalidateQueries({queryKey:["dates"]}),a.invalidateQueries({queryKey:["dashboard"]})}}),c=I.useCallback(v=>{v.preventDefault(),v.stopPropagation(),v.type==="dragenter"||v.type==="dragover"?n(!0):v.type==="dragleave"&&n(!1)},[]),d=I.useCallback(v=>{v.preventDefault(),v.stopPropagation(),n(!1),v.dataTransfer.files&&v.dataTransfer.files[0]&&f(v.dataTransfer.files[0])},[]),h=v=>{v.target.files&&v.target.files[0]&&f(v.target.files[0])},f=v=>{const w=v.name.split(".").pop().toLowerCase();if(w!=="vcf"&&w!=="vcard"){s({valid:!1,error:"Please select a vCard file (.vcf)"});return}e(v),s(null),l.reset(),o.mutate(v)},p=()=>{t&&(i!=null&&i.valid)&&l.mutate(t)},m=()=>{e(null),s(null),o.reset(),l.reset()};return u.jsxs("div",{className:"space-y-4",children:[u.jsx("h2",{className:"text-lg font-semibold",children:"Import from vCard"}),u.jsx("p",{className:"text-sm text-gray-600",children:"Import contacts from a vCard (.vcf) file. vCard is a standard format supported by most contact apps including Apple Contacts, Outlook, and Android. Files can contain one or multiple contacts."}),l.isSuccess?u.jsx("div",{className:"rounded-lg border border-green-200 bg-green-50 p-4",children:u.jsxs("div",{className:"flex items-start gap-3",children:[u.jsx(du,{className:"h-5 w-5 text-green-600 mt-0.5"}),u.jsxs("div",{className:"flex-1",children:[u.jsx("h3",{className:"font-medium text-green-900",children:"Import Complete"}),u.jsxs("div",{className:"mt-2 text-sm text-green-800 space-y-1",children:[u.jsxs("p",{children:["Contacts imported: ",l.data.stats.contacts_imported]}),u.jsxs("p",{children:["Contacts updated: ",l.data.stats.contacts_updated]}),u.jsxs("p",{children:["Contacts skipped: ",l.data.stats.contacts_skipped]}),u.jsxs("p",{children:["Photos imported: ",l.data.stats.photos_imported]}),u.jsxs("p",{children:["Organizations created: ",l.data.stats.companies_created]}),u.jsxs("p",{children:["Birthdays created: ",l.data.stats.dates_created]}),u.jsxs("p",{children:["Notes created: ",l.data.stats.notes_created]}),((y=l.data.stats.errors)==null?void 0:y.length)>0&&u.jsxs("div",{className:"mt-2 pt-2 border-t border-green-200",children:[u.jsx("p",{className:"font-medium",children:"Errors:"}),u.jsx("ul",{className:"list-disc list-inside",children:l.data.stats.errors.map((v,w)=>u.jsx("li",{children:v},w))})]})]}),u.jsx("button",{onClick:m,className:"mt-3 text-sm text-green-700 hover:text-green-800 font-medium",children:"Import another file"})]})]})}):u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:`relative rounded-lg border-2 border-dashed p-8 text-center transition-colors ${r?"border-primary-500 bg-primary-50":t?"border-green-300 bg-green-50":"border-gray-300 hover:border-gray-400"}`,onDragEnter:c,onDragLeave:c,onDragOver:c,onDrop:d,children:[u.jsx("input",{type:"file",accept:".vcf,.vcard",onChange:h,className:"absolute inset-0 w-full h-full opacity-0 cursor-pointer"}),o.isPending?u.jsxs("div",{className:"flex flex-col items-center gap-2",children:[u.jsx(No,{className:"h-8 w-8 text-primary-600 animate-spin"}),u.jsx("p",{className:"text-gray-600",children:"Validating file..."})]}):t?u.jsxs("div",{className:"flex flex-col items-center gap-2",children:[u.jsx(rm,{className:"h-8 w-8 text-green-600"}),u.jsx("p",{className:"font-medium text-gray-900",children:t.name}),u.jsxs("p",{className:"text-sm text-gray-500",children:[(t.size/1024).toFixed(2)," KB"]})]}):u.jsxs("div",{className:"flex flex-col items-center gap-2",children:[u.jsx(fu,{className:"h-8 w-8 text-gray-400"}),u.jsx("p",{className:"text-gray-600",children:"Drag and drop your vCard file here, or click to browse"}),u.jsx("p",{className:"text-sm text-gray-500",children:"Supports .vcf and .vcard files"})]})]}),i&&u.jsx("div",{className:`rounded-lg border p-4 ${i.valid?"border-green-200 bg-green-50":"border-red-200 bg-red-50"}`,children:i.valid?u.jsxs("div",{className:"flex items-start gap-3",children:[u.jsx(du,{className:"h-5 w-5 text-green-600 mt-0.5"}),u.jsxs("div",{className:"flex-1",children:[u.jsx("h3",{className:"font-medium text-green-900",children:"File validated successfully"}),u.jsxs("div",{className:"mt-3 grid grid-cols-2 sm:grid-cols-3 gap-3",children:[u.jsxs("div",{className:"flex items-center gap-2 text-sm text-green-800",children:[u.jsx($i,{className:"h-4 w-4"}),u.jsxs("span",{children:[i.summary.contacts," contacts"]})]}),i.summary.companies_count>0&&u.jsxs("div",{className:"flex items-center gap-2 text-sm text-green-800",children:[u.jsx(ms,{className:"h-4 w-4"}),u.jsxs("span",{children:[i.summary.companies_count," organizations"]})]}),i.summary.birthdays>0&&u.jsxs("div",{className:"flex items-center gap-2 text-sm text-green-800",children:[u.jsx(XV,{className:"h-4 w-4"}),u.jsxs("span",{children:[i.summary.birthdays," birthdays"]})]}),i.summary.photos>0&&u.jsxs("div",{className:"flex items-center gap-2 text-sm text-green-800",children:[u.jsx(ZV,{className:"h-4 w-4"}),u.jsxs("span",{children:[i.summary.photos," photos"]})]}),i.summary.notes>0&&u.jsxs("div",{className:"flex items-center gap-2 text-sm text-green-800",children:[u.jsx(oK,{className:"h-4 w-4"}),u.jsxs("span",{children:[i.summary.notes," notes"]})]})]})]})]}):u.jsxs("div",{className:"flex items-start gap-3",children:[u.jsx(va,{className:"h-5 w-5 text-red-600 mt-0.5"}),u.jsxs("div",{children:[u.jsx("h3",{className:"font-medium text-red-900",children:"Validation failed"}),u.jsx("p",{className:"text-sm text-red-700 mt-1",children:i.error})]})]})}),(i==null?void 0:i.valid)&&u.jsxs("div",{className:"flex gap-3",children:[u.jsx("button",{onClick:p,disabled:l.isPending,className:"btn-primary flex items-center gap-2",children:l.isPending?u.jsxs(u.Fragment,{children:[u.jsx(No,{className:"h-4 w-4 animate-spin"}),u.jsx("span",{className:"hidden md:inline",children:"Importing..."})]}):u.jsxs(u.Fragment,{children:[u.jsx(fu,{className:"h-4 w-4"}),u.jsx("span",{className:"hidden md:inline",children:"Start Import"})]})}),u.jsx("button",{onClick:m,disabled:l.isPending,className:"btn-secondary",children:"Cancel"})]}),l.isError&&u.jsx("div",{className:"rounded-lg border border-red-200 bg-red-50 p-4",children:u.jsxs("div",{className:"flex items-start gap-3",children:[u.jsx(va,{className:"h-5 w-5 text-red-600 mt-0.5"}),u.jsxs("div",{children:[u.jsx("h3",{className:"font-medium text-red-900",children:"Import failed"}),u.jsx("p",{className:"text-sm text-red-700 mt-1",children:((g=(x=l.error.response)==null?void 0:x.data)==null?void 0:g.message)||"An error occurred during import"})]})]})})]})]})}function Zse(){var b,_,E;const[t,e]=I.useState(null),[r,n]=I.useState(!1),[i,s]=I.useState(null),[a,o]=I.useState({}),l=pt(),c=Xe({mutationFn:async N=>{const S=new FormData;return S.append("file",N),(await ce.post("/prm/v1/import/google-contacts/validate",S,{headers:{"Content-Type":"multipart/form-data"}})).data},onSuccess:N=>{var S;if(s(N),((S=N.duplicates)==null?void 0:S.length)>0){const O={};N.duplicates.forEach(C=>{O[C.index]="merge"}),o(O)}},onError:N=>{var S,O;s({valid:!1,error:((O=(S=N.response)==null?void 0:S.data)==null?void 0:O.message)||"Failed to validate file"})}}),d=Xe({mutationFn:async({file:N,decisions:S})=>{const O=new FormData;return O.append("file",N),O.append("decisions",JSON.stringify(S)),(await ce.post("/prm/v1/import/google-contacts",O,{headers:{"Content-Type":"multipart/form-data"}})).data},onSuccess:()=>{l.invalidateQueries({queryKey:["people"]}),l.invalidateQueries({queryKey:["companies"]}),l.invalidateQueries({queryKey:["dates"]}),l.invalidateQueries({queryKey:["dashboard"]})}}),h=I.useCallback(N=>{N.preventDefault(),N.stopPropagation(),N.type==="dragenter"||N.type==="dragover"?n(!0):N.type==="dragleave"&&n(!1)},[]),f=I.useCallback(N=>{N.preventDefault(),N.stopPropagation(),n(!1),N.dataTransfer.files&&N.dataTransfer.files[0]&&m(N.dataTransfer.files[0])},[]),p=N=>{N.target.files&&N.target.files[0]&&m(N.target.files[0])},m=N=>{if(!N.name.endsWith(".csv")){s({valid:!1,error:"Please select a CSV file"});return}e(N),s(null),o({}),d.reset(),c.mutate(N)},y=(N,S)=>{o(O=>({...O,[N]:S}))},x=()=>{t&&(i!=null&&i.valid)&&d.mutate({file:t,decisions:a})},g=()=>{e(null),s(null),o({}),c.reset(),d.reset()},v=(i==null?void 0:i.duplicates)||[],w=v.length>0;return u.jsxs("div",{className:"space-y-4",children:[u.jsx("h2",{className:"text-lg font-semibold",children:"Import from Google Contacts"}),u.jsx("p",{className:"text-sm text-gray-600",children:"Import contacts from a Google Contacts CSV export. To export from Google:"}),u.jsxs("ol",{className:"text-sm text-gray-600 list-decimal list-inside space-y-1 ml-2",children:[u.jsxs("li",{children:["Go to ",u.jsx("a",{href:"https://contacts.google.com",target:"_blank",rel:"noopener noreferrer",className:"text-primary-600 hover:underline",children:"contacts.google.com"})]}),u.jsx("li",{children:'Click "Export" in the left sidebar'}),u.jsx("li",{children:'Select "Google CSV" format and click "Export"'})]}),d.isSuccess?u.jsx("div",{className:"rounded-lg border border-green-200 bg-green-50 p-4",children:u.jsxs("div",{className:"flex items-start gap-3",children:[u.jsx(du,{className:"h-5 w-5 text-green-600 mt-0.5"}),u.jsxs("div",{className:"flex-1",children:[u.jsx("h3",{className:"font-medium text-green-900",children:"Import Complete"}),u.jsxs("div",{className:"mt-2 text-sm text-green-800 space-y-1",children:[u.jsxs("p",{children:["Contacts imported: ",d.data.stats.contacts_imported]}),u.jsxs("p",{children:["Contacts updated: ",d.data.stats.contacts_updated]}),u.jsxs("p",{children:["Contacts skipped: ",d.data.stats.contacts_skipped]}),u.jsxs("p",{children:["Organizations created: ",d.data.stats.companies_created]}),u.jsxs("p",{children:["Birthdays created: ",d.data.stats.dates_created]}),u.jsxs("p",{children:["Notes created: ",d.data.stats.notes_created]}),u.jsxs("p",{children:["Photos imported: ",d.data.stats.photos_imported]}),((b=d.data.stats.errors)==null?void 0:b.length)>0&&u.jsxs("div",{className:"mt-2 pt-2 border-t border-green-200",children:[u.jsx("p",{className:"font-medium",children:"Errors:"}),u.jsx("ul",{className:"list-disc list-inside",children:d.data.stats.errors.map((N,S)=>u.jsx("li",{children:N},S))})]})]}),u.jsx("button",{onClick:g,className:"mt-3 text-sm text-green-700 hover:text-green-800 font-medium",children:"Import another file"})]})]})}):u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:`relative rounded-lg border-2 border-dashed p-8 text-center transition-colors ${r?"border-primary-500 bg-primary-50":t?"border-green-300 bg-green-50":"border-gray-300 hover:border-gray-400"}`,onDragEnter:h,onDragLeave:h,onDragOver:h,onDrop:f,children:[u.jsx("input",{type:"file",accept:".csv",onChange:p,className:"absolute inset-0 w-full h-full opacity-0 cursor-pointer"}),c.isPending?u.jsxs("div",{className:"flex flex-col items-center gap-2",children:[u.jsx(No,{className:"h-8 w-8 text-primary-600 animate-spin"}),u.jsx("p",{className:"text-gray-600",children:"Validating file..."})]}):t?u.jsxs("div",{className:"flex flex-col items-center gap-2",children:[u.jsx(JC,{className:"h-8 w-8 text-green-600"}),u.jsx("p",{className:"font-medium text-gray-900",children:t.name}),u.jsxs("p",{className:"text-sm text-gray-500",children:[(t.size/1024).toFixed(2)," KB"]})]}):u.jsxs("div",{className:"flex flex-col items-center gap-2",children:[u.jsx(fu,{className:"h-8 w-8 text-gray-400"}),u.jsx("p",{className:"text-gray-600",children:"Drag and drop your Google Contacts CSV here, or click to browse"}),u.jsx("p",{className:"text-sm text-gray-500",children:"Supports Google CSV format"})]})]}),i&&u.jsx("div",{className:`rounded-lg border p-4 ${i.valid?"border-green-200 bg-green-50":"border-red-200 bg-red-50"}`,children:i.valid?u.jsxs("div",{className:"flex items-start gap-3",children:[u.jsx(du,{className:"h-5 w-5 text-green-600 mt-0.5"}),u.jsxs("div",{className:"flex-1",children:[u.jsx("h3",{className:"font-medium text-green-900",children:"File validated successfully"}),u.jsxs("div",{className:"mt-3 grid grid-cols-2 sm:grid-cols-3 gap-3",children:[u.jsxs("div",{className:"flex items-center gap-2 text-sm text-green-800",children:[u.jsx($i,{className:"h-4 w-4"}),u.jsxs("span",{children:[i.summary.contacts," contacts"]})]}),i.summary.companies_count>0&&u.jsxs("div",{className:"flex items-center gap-2 text-sm text-green-800",children:[u.jsx(ms,{className:"h-4 w-4"}),u.jsxs("span",{children:[i.summary.companies_count," organizations"]})]}),i.summary.birthdays>0&&u.jsxs("div",{className:"flex items-center gap-2 text-sm text-green-800",children:[u.jsx(XV,{className:"h-4 w-4"}),u.jsxs("span",{children:[i.summary.birthdays," birthdays"]})]}),i.summary.notes>0&&u.jsxs("div",{className:"flex items-center gap-2 text-sm text-green-800",children:[u.jsx(oK,{className:"h-4 w-4"}),u.jsxs("span",{children:[i.summary.notes," notes"]})]}),i.summary.photos>0&&u.jsxs("div",{className:"flex items-center gap-2 text-sm text-green-800",children:[u.jsx(ZV,{className:"h-4 w-4"}),u.jsxs("span",{children:[i.summary.photos," photos"]})]})]})]})]}):u.jsxs("div",{className:"flex items-start gap-3",children:[u.jsx(va,{className:"h-5 w-5 text-red-600 mt-0.5"}),u.jsxs("div",{children:[u.jsx("h3",{className:"font-medium text-red-900",children:"Validation failed"}),u.jsx("p",{className:"text-sm text-red-700 mt-1",children:i.error})]})]})}),(i==null?void 0:i.valid)&&w&&u.jsx("div",{className:"rounded-lg border border-amber-200 bg-amber-50 p-4",children:u.jsxs("div",{className:"flex items-start gap-3",children:[u.jsx(Sre,{className:"h-5 w-5 text-amber-600 mt-0.5 flex-shrink-0"}),u.jsxs("div",{className:"flex-1",children:[u.jsxs("h3",{className:"font-medium text-amber-900",children:[v.length," contact",v.length>1?"s":""," may already exist"]}),u.jsx("p",{className:"text-sm text-amber-700 mt-1",children:"Choose how to handle each potential duplicate:"}),u.jsx("div",{className:"mt-4 space-y-4",children:v.map(N=>u.jsx(eae,{duplicate:N,decision:a[N.index]||"merge",onDecision:S=>y(N.index,S)},N.index))})]})]})}),(i==null?void 0:i.valid)&&u.jsxs("div",{className:"flex gap-3",children:[u.jsx("button",{onClick:x,disabled:d.isPending,className:"btn-primary flex items-center gap-2",children:d.isPending?u.jsxs(u.Fragment,{children:[u.jsx(No,{className:"h-4 w-4 animate-spin"}),u.jsx("span",{className:"hidden md:inline",children:"Importing..."})]}):u.jsxs(u.Fragment,{children:[u.jsx(fu,{className:"h-4 w-4"}),u.jsx("span",{className:"hidden md:inline",children:"Start Import"})]})}),u.jsx("button",{onClick:g,disabled:d.isPending,className:"btn-secondary",children:"Cancel"})]}),d.isError&&u.jsx("div",{className:"rounded-lg border border-red-200 bg-red-50 p-4",children:u.jsxs("div",{className:"flex items-start gap-3",children:[u.jsx(va,{className:"h-5 w-5 text-red-600 mt-0.5"}),u.jsxs("div",{children:[u.jsx("h3",{className:"font-medium text-red-900",children:"Import failed"}),u.jsx("p",{className:"text-sm text-red-700 mt-1",children:((E=(_=d.error.response)==null?void 0:_.data)==null?void 0:E.message)||"An error occurred during import"})]})]})})]})]})}function eae({duplicate:t,decision:e,onDecision:r}){var n,i;return u.jsxs("div",{className:"bg-white rounded-lg border border-amber-200 p-4",children:[u.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[u.jsxs("div",{className:"flex-1 min-w-0",children:[u.jsx("p",{className:"text-xs font-medium text-gray-500 uppercase tracking-wide mb-1",children:"From CSV"}),u.jsx("p",{className:"font-medium text-gray-900 truncate",children:t.csv_name}),t.csv_org&&u.jsx("p",{className:"text-sm text-gray-600 truncate",children:t.csv_org}),t.csv_email&&u.jsx("p",{className:"text-sm text-gray-500 truncate",children:t.csv_email})]}),u.jsx("div",{className:"hidden sm:flex items-center text-gray-400",children:u.jsx("span",{className:"text-lg",children:""})}),u.jsxs("div",{className:"flex-1 min-w-0",children:[u.jsx("p",{className:"text-xs font-medium text-gray-500 uppercase tracking-wide mb-1",children:"Existing Contact"}),u.jsxs("div",{className:"flex items-start gap-3",children:[t.existing_photo?u.jsx("img",{src:t.existing_photo,alt:"",className:"w-10 h-10 rounded-full object-cover flex-shrink-0"}):u.jsx("div",{className:"w-10 h-10 rounded-full bg-gray-200 flex items-center justify-center flex-shrink-0",children:u.jsx("span",{className:"text-gray-500 text-sm font-medium",children:((i=(n=t.existing_name)==null?void 0:n.charAt(0))==null?void 0:i.toUpperCase())||"?"})}),u.jsxs("div",{className:"min-w-0",children:[u.jsx("p",{className:"font-medium text-gray-900 truncate",children:t.existing_name}),t.existing_org&&u.jsx("p",{className:"text-sm text-gray-600 truncate",children:t.existing_org}),t.existing_email&&u.jsx("p",{className:"text-sm text-gray-500 truncate",children:t.existing_email})]})]})]})]}),u.jsxs("div",{className:"mt-4 flex flex-wrap gap-2",children:[u.jsxs("button",{type:"button",onClick:()=>r("merge"),className:`flex items-center gap-1.5 px-3 py-1.5 rounded-md text-sm font-medium transition-colors ${e==="merge"?"bg-primary-100 text-primary-800 ring-2 ring-primary-500":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:[u.jsx(qre,{className:"h-4 w-4"}),"Update existing"]}),u.jsxs("button",{type:"button",onClick:()=>r("new"),className:`flex items-center gap-1.5 px-3 py-1.5 rounded-md text-sm font-medium transition-colors ${e==="new"?"bg-green-100 text-green-800 ring-2 ring-green-500":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:[u.jsx(Fre,{className:"h-4 w-4"}),"Create new"]}),u.jsxs("button",{type:"button",onClick:()=>r("skip"),className:`flex items-center gap-1.5 px-3 py-1.5 rounded-md text-sm font-medium transition-colors ${e==="skip"?"bg-gray-200 text-gray-800 ring-2 ring-gray-500":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:[u.jsx(Are,{className:"h-4 w-4"}),"Skip"]})]})]})}const oR=[{id:"vcard",name:"vCard",description:"Apple Contacts, Outlook, Android",icon:rm,component:Jse},{id:"google",name:"Google Contacts",description:"CSV export from Google",icon:JC,component:Zse},{id:"monica",name:"Monica CRM",description:"SQL export from Monica",icon:Pre,component:Xse}];function tae(){var n;Sn("Import - Settings");const[t,e]=I.useState("vcard"),r=(n=oR.find(i=>i.id===t))==null?void 0:n.component;return u.jsxs("div",{className:"max-w-2xl mx-auto space-y-6",children:[u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsxs(fe,{to:"/settings",className:"btn-secondary flex items-center gap-2",children:[u.jsx(xn,{className:"w-4 h-4"}),u.jsx("span",{className:"hidden md:inline",children:"Back to Settings"})]}),u.jsx("h1",{className:"text-2xl font-semibold",children:"Import Contacts"})]}),u.jsxs("div",{className:"card p-6",children:[u.jsx("p",{className:"text-sm text-gray-600 mb-6",children:"Import your contacts from various sources. Existing contacts with matching names will be updated instead of duplicated."}),u.jsx("div",{className:"border-b border-gray-200 mb-6",children:u.jsx("nav",{className:"-mb-px flex space-x-6","aria-label":"Import types",children:oR.map(i=>{const s=i.icon,a=t===i.id;return u.jsxs("button",{onClick:()=>e(i.id),className:`group inline-flex items-center py-3 px-1 border-b-2 font-medium text-sm transition-colors ${a?"border-primary-500 text-primary-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[u.jsx(s,{className:`mr-2 h-5 w-5 ${a?"text-primary-500":"text-gray-400 group-hover:text-gray-500"}`}),u.jsxs("div",{className:"text-left",children:[u.jsx("span",{className:"block",children:i.name}),u.jsx("span",{className:`block text-xs font-normal ${a?"text-primary-400":"text-gray-400"}`,children:i.description})]})]},i.id)})})}),r&&u.jsx(r,{})]})]})}function rae(){Sn("Export Data - Settings");const t=e=>{e==="vcard"?window.location.href="/wp-json/prm/v1/export/vcard":e==="google-csv"&&(window.location.href="/wp-json/prm/v1/export/google-csv")};return u.jsxs("div",{className:"max-w-2xl mx-auto space-y-6",children:[u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsxs(fe,{to:"/settings",className:"btn-secondary flex items-center gap-2",children:[u.jsx(xn,{className:"w-4 h-4"}),u.jsx("span",{className:"hidden md:inline",children:"Back to Settings"})]}),u.jsx("h1",{className:"text-2xl font-semibold",children:"Export Data"})]}),u.jsxs("div",{className:"card p-6",children:[u.jsx("p",{className:"text-sm text-gray-600 mb-6",children:"Export all your contacts in a format compatible with other contact management systems."}),u.jsxs("div",{className:"space-y-4",children:[u.jsxs("button",{onClick:()=>t("vcard"),className:"w-full p-4 rounded-lg border border-gray-200 hover:bg-gray-50 text-left flex items-center gap-4",children:[u.jsx("div",{className:"p-3 bg-primary-50 rounded-lg",children:u.jsx(rm,{className:"w-6 h-6 text-primary-600"})}),u.jsxs("div",{className:"flex-1",children:[u.jsx("p",{className:"font-medium",children:"Export as vCard (.vcf)"}),u.jsx("p",{className:"text-sm text-gray-500",children:"Compatible with Apple Contacts, Outlook, Android, and most contact apps"})]}),u.jsx(xO,{className:"w-5 h-5 text-gray-400"})]}),u.jsxs("button",{onClick:()=>t("google-csv"),className:"w-full p-4 rounded-lg border border-gray-200 hover:bg-gray-50 text-left flex items-center gap-4",children:[u.jsx("div",{className:"p-3 bg-primary-50 rounded-lg",children:u.jsx(JC,{className:"w-6 h-6 text-primary-600"})}),u.jsxs("div",{className:"flex-1",children:[u.jsx("p",{className:"font-medium",children:"Export as Google Contacts CSV"}),u.jsx("p",{className:"text-sm text-gray-500",children:"Import directly into Google Contacts or other CSV-compatible systems"})]}),u.jsx(xO,{className:"w-5 h-5 text-gray-400"})]})]})]})]})}function nae(){Sn("User Approval - Settings");const t=pt();if(!((window.prmConfig||{}).isAdmin||!1))return u.jsx("div",{className:"max-w-2xl mx-auto",children:u.jsxs("div",{className:"card p-8 text-center",children:[u.jsx(iK,{className:"w-16 h-16 mx-auto text-amber-500 mb-4"}),u.jsx("h1",{className:"text-2xl font-bold mb-2",children:"Access Denied"}),u.jsx("p",{className:"text-gray-600 mb-6",children:"You don't have permission to manage user approvals. This feature is only available to administrators."}),u.jsx(fe,{to:"/settings",className:"btn-primary",children:"Back to Settings"})]})});const{data:n=[],isLoading:i}=yt({queryKey:["users"],queryFn:async()=>(await Me.getUsers()).data}),s=Xe({mutationFn:p=>Me.approveUser(p),onSuccess:()=>{t.invalidateQueries({queryKey:["users"]})}}),a=Xe({mutationFn:p=>Me.denyUser(p),onSuccess:()=>{t.invalidateQueries({queryKey:["users"]})}}),o=Xe({mutationFn:p=>Me.deleteUser(p),onSuccess:()=>{t.invalidateQueries({queryKey:["users"]})}}),l=p=>{window.confirm("Are you sure you want to approve this user?")&&s.mutate(p)},c=p=>{window.confirm("Are you sure you want to deny this user? They will not be able to access the system.")&&a.mutate(p)},d=(p,m)=>{window.confirm(`Are you sure you want to delete ${m}? This will permanently delete their account and all their related data (people, organizations, dates). This action cannot be undone.`)&&o.mutate(p)};if(i)return u.jsx("div",{className:"flex items-center justify-center h-64",children:u.jsx(No,{className:"w-8 h-8 animate-spin text-primary-600"})});const h=n.filter(p=>!p.is_approved),f=n.filter(p=>p.is_approved);return u.jsxs("div",{className:"max-w-2xl mx-auto space-y-6",children:[u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsxs(fe,{to:"/settings",className:"btn-secondary flex items-center gap-2",children:[u.jsx(xn,{className:"w-4 h-4"}),u.jsx("span",{className:"hidden md:inline",children:"Back to Settings"})]}),u.jsx("h1",{className:"text-2xl font-semibold",children:"User Approval"})]}),u.jsxs("div",{className:"space-y-6",children:[h.length>0&&u.jsxs("div",{children:[u.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Pending Approval"}),u.jsx("div",{className:"space-y-3",children:h.map(p=>u.jsxs("div",{className:"card p-4 flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsx("p",{className:"font-medium",children:p.name}),u.jsx("p",{className:"text-sm text-gray-500",children:p.email}),u.jsxs("p",{className:"text-xs text-gray-400",children:["Registered: ",new Date(p.registered).toLocaleDateString()]})]}),u.jsxs("div",{className:"flex gap-2",children:[u.jsxs("button",{onClick:()=>l(p.id),disabled:s.isPending||o.isPending,className:"btn-primary flex items-center gap-2",children:[u.jsx(PI,{className:"w-4 h-4"}),"Approve"]}),u.jsxs("button",{onClick:()=>c(p.id),disabled:a.isPending||o.isPending,className:"btn-secondary flex items-center gap-2",children:[u.jsx($I,{className:"w-4 h-4"}),"Deny"]}),u.jsxs("button",{onClick:()=>d(p.id,p.name),disabled:s.isPending||a.isPending||o.isPending,className:"btn-danger flex items-center gap-2",children:[u.jsx(Oi,{className:"w-4 h-4"}),"Delete"]})]})]},p.id))})]}),f.length>0&&u.jsxs("div",{children:[u.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Approved Users"}),u.jsx("div",{className:"space-y-3",children:f.map(p=>u.jsxs("div",{className:"card p-4 flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsxs("p",{className:"font-medium flex items-center gap-2",children:[p.name,u.jsx(PI,{className:"w-4 h-4 text-green-600"})]}),u.jsx("p",{className:"text-sm text-gray-500",children:p.email})]}),u.jsxs("div",{className:"flex gap-2",children:[u.jsxs("button",{onClick:()=>c(p.id),disabled:a.isPending||o.isPending,className:"btn-secondary flex items-center gap-2",children:[u.jsx($I,{className:"w-4 h-4"}),"Revoke Access"]}),u.jsxs("button",{onClick:()=>d(p.id,p.name),disabled:a.isPending||o.isPending,className:"btn-danger flex items-center gap-2",children:[u.jsx(Oi,{className:"w-4 h-4"}),"Delete"]})]})]},p.id))})]}),n.length===0&&u.jsx("div",{className:"card p-8 text-center",children:u.jsx("p",{className:"text-gray-600",children:"No Caelis users found."})})]})]})}/**
 * vis-data
 * http://visjs.org/
 *
 * Manage unstructured data using DataSet. Add, update, and remove data, and listen for changes in the data.
 *
 * @version 8.0.3
 * @date    2025-09-10T16:22:00.613Z
 *
 * @copyright (c) 2011-2017 Almende B.V, http://almende.com
 * @copyright (c) 2017-2019 visjs contributors, https://github.com/visjs
 *
 * @license
 * vis.js is dual licensed under both
 *
 *   1. The Apache 2.0 License
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 *   and
 *
 *   2. The MIT License
 *      http://opensource.org/licenses/MIT
 *
 * vis.js may be distributed under either license.
 */var lR=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Le(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Ev={exports:{}},uR={},Sc,cR;function Kt(){if(cR)return Sc;cR=1;var t=function(e){return e&&e.Math===Math&&e};return Sc=t(typeof globalThis=="object"&&globalThis)||t(typeof window=="object"&&window)||t(typeof self=="object"&&self)||t(typeof lR=="object"&&lR)||t(typeof Sc=="object"&&Sc)||function(){return this}()||Function("return this")(),Sc}var Nv,dR;function et(){return dR||(dR=1,Nv=function(t){try{return!!t()}catch{return!0}}),Nv}var Ov,hR;function Jd(){if(hR)return Ov;hR=1;var t=et();return Ov=!t(function(){var e=(function(){}).bind();return typeof e!="function"||e.hasOwnProperty("prototype")}),Ov}var Cv,fR;function sm(){if(fR)return Cv;fR=1;var t=Jd(),e=Function.prototype,r=e.apply,n=e.call;return Cv=typeof Reflect=="object"&&Reflect.apply||(t?n.bind(r):function(){return n.apply(r,arguments)}),Cv}var Pv,pR;function ot(){if(pR)return Pv;pR=1;var t=Jd(),e=Function.prototype,r=e.call,n=t&&e.bind.bind(r,r);return Pv=t?n:function(i){return function(){return r.apply(i,arguments)}},Pv}var Tv,mR;function _s(){if(mR)return Tv;mR=1;var t=ot(),e=t({}.toString),r=t("".slice);return Tv=function(n){return r(e(n),8,-1)},Tv}var jv,vR;function DK(){if(vR)return jv;vR=1;var t=_s(),e=ot();return jv=function(r){if(t(r)==="Function")return e(r)},jv}var Iv,gR;function lr(){if(gR)return Iv;gR=1;var t=typeof document=="object"&&document.all;return Iv=typeof t>"u"&&t!==void 0?function(e){return typeof e=="function"||e===t}:function(e){return typeof e=="function"},Iv}var Rv={},$v,yR;function Gt(){if(yR)return $v;yR=1;var t=et();return $v=!t(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!==7}),$v}var kv,bR;function cn(){if(bR)return kv;bR=1;var t=Jd(),e=Function.prototype.call;return kv=t?e.bind(e):function(){return e.apply(e,arguments)},kv}var Dv={},xR;function uP(){if(xR)return Dv;xR=1;var t={}.propertyIsEnumerable,e=Object.getOwnPropertyDescriptor,r=e&&!t.call({1:2},1);return Dv.f=r?function(i){var s=e(this,i);return!!s&&s.enumerable}:t,Dv}var Mv,wR;function Zd(){return wR||(wR=1,Mv=function(t,e){return{enumerable:!(t&1),configurable:!(t&2),writable:!(t&4),value:e}}),Mv}var qv,_R;function am(){if(_R)return qv;_R=1;var t=ot(),e=et(),r=_s(),n=Object,i=t("".split);return qv=e(function(){return!n("z").propertyIsEnumerable(0)})?function(s){return r(s)==="String"?i(s,""):n(s)}:n,qv}var Av,SR;function eh(){return SR||(SR=1,Av=function(t){return t==null}),Av}var Fv,ER;function Ao(){if(ER)return Fv;ER=1;var t=eh(),e=TypeError;return Fv=function(r){if(t(r))throw new e("Can't call method on "+r);return r},Fv}var Lv,NR;function Mi(){if(NR)return Lv;NR=1;var t=am(),e=Ao();return Lv=function(r){return t(e(r))},Lv}var Bv,OR;function Vr(){if(OR)return Bv;OR=1;var t=lr();return Bv=function(e){return typeof e=="object"?e!==null:t(e)},Bv}var zv,CR;function rr(){return CR||(CR=1,zv={}),zv}var Uv,PR;function En(){if(PR)return Uv;PR=1;var t=rr(),e=Kt(),r=lr(),n=function(i){return r(i)?i:void 0};return Uv=function(i,s){return arguments.length<2?n(t[i])||n(e[i]):t[i]&&t[i][s]||e[i]&&e[i][s]},Uv}var Wv,TR;function ur(){if(TR)return Wv;TR=1;var t=ot();return Wv=t({}.isPrototypeOf),Wv}var Hv,jR;function ku(){if(jR)return Hv;jR=1;var t=Kt(),e=t.navigator,r=e&&e.userAgent;return Hv=r?String(r):"",Hv}var Vv,IR;function th(){if(IR)return Vv;IR=1;var t=Kt(),e=ku(),r=t.process,n=t.Deno,i=r&&r.versions||n&&n.version,s=i&&i.v8,a,o;return s&&(a=s.split("."),o=a[0]>0&&a[0]<4?1:+(a[0]+a[1])),!o&&e&&(a=e.match(/Edge\/(\d+)/),(!a||a[1]>=74)&&(a=e.match(/Chrome\/(\d+)/),a&&(o=+a[1]))),Vv=o,Vv}var Kv,RR;function Du(){if(RR)return Kv;RR=1;var t=th(),e=et(),r=Kt(),n=r.String;return Kv=!!Object.getOwnPropertySymbols&&!e(function(){var i=Symbol("symbol detection");return!n(i)||!(Object(i)instanceof Symbol)||!Symbol.sham&&t&&t<41}),Kv}var Gv,$R;function MK(){if($R)return Gv;$R=1;var t=Du();return Gv=t&&!Symbol.sham&&typeof Symbol.iterator=="symbol",Gv}var Yv,kR;function rh(){if(kR)return Yv;kR=1;var t=En(),e=lr(),r=ur(),n=MK(),i=Object;return Yv=n?function(s){return typeof s=="symbol"}:function(s){var a=t("Symbol");return e(a)&&r(a.prototype,i(s))},Yv}var Qv,DR;function Mu(){if(DR)return Qv;DR=1;var t=String;return Qv=function(e){try{return t(e)}catch{return"Object"}},Qv}var Xv,MR;function Ss(){if(MR)return Xv;MR=1;var t=lr(),e=Mu(),r=TypeError;return Xv=function(n){if(t(n))return n;throw new r(e(n)+" is not a function")},Xv}var Jv,qR;function cP(){if(qR)return Jv;qR=1;var t=Ss(),e=eh();return Jv=function(r,n){var i=r[n];return e(i)?void 0:t(i)},Jv}var Zv,AR;function iae(){if(AR)return Zv;AR=1;var t=cn(),e=lr(),r=Vr(),n=TypeError;return Zv=function(i,s){var a,o;if(s==="string"&&e(a=i.toString)&&!r(o=t(a,i))||e(a=i.valueOf)&&!r(o=t(a,i))||s!=="string"&&e(a=i.toString)&&!r(o=t(a,i)))return o;throw new n("Can't convert object to primitive value")},Zv}var eg={exports:{}},tg,FR;function qu(){return FR||(FR=1,tg=!0),tg}var rg,LR;function sae(){if(LR)return rg;LR=1;var t=Kt(),e=Object.defineProperty;return rg=function(r,n){try{e(t,r,{value:n,configurable:!0,writable:!0})}catch{t[r]=n}return n},rg}var BR;function dP(){if(BR)return eg.exports;BR=1;var t=qu(),e=Kt(),r=sae(),n="__core-js_shared__",i=eg.exports=e[n]||r(n,{});return(i.versions||(i.versions=[])).push({version:"3.44.0",mode:t?"pure":"global",copyright:" 2014-2025 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.44.0/LICENSE",source:"https://github.com/zloirock/core-js"}),eg.exports}var ng,zR;function Au(){if(zR)return ng;zR=1;var t=dP();return ng=function(e,r){return t[e]||(t[e]=r||{})},ng}var ig,UR;function mi(){if(UR)return ig;UR=1;var t=Ao(),e=Object;return ig=function(r){return e(t(r))},ig}var sg,WR;function cr(){if(WR)return sg;WR=1;var t=ot(),e=mi(),r=t({}.hasOwnProperty);return sg=Object.hasOwn||function(i,s){return r(e(i),s)},sg}var ag,HR;function om(){if(HR)return ag;HR=1;var t=ot(),e=0,r=Math.random(),n=t(1.1.toString);return ag=function(i){return"Symbol("+(i===void 0?"":i)+")_"+n(++e+r,36)},ag}var og,VR;function dr(){if(VR)return og;VR=1;var t=Kt(),e=Au(),r=cr(),n=om(),i=Du(),s=MK(),a=t.Symbol,o=e("wks"),l=s?a.for||a:a&&a.withoutSetter||n;return og=function(c){return r(o,c)||(o[c]=i&&r(a,c)?a[c]:l("Symbol."+c)),o[c]},og}var lg,KR;function qK(){if(KR)return lg;KR=1;var t=cn(),e=Vr(),r=rh(),n=cP(),i=iae(),s=dr(),a=TypeError,o=s("toPrimitive");return lg=function(l,c){if(!e(l)||r(l))return l;var d=n(l,o),h;if(d){if(c===void 0&&(c="default"),h=t(d,l,c),!e(h)||r(h))return h;throw new a("Can't convert object to primitive value")}return c===void 0&&(c="number"),i(l,c)},lg}var ug,GR;function hP(){if(GR)return ug;GR=1;var t=qK(),e=rh();return ug=function(r){var n=t(r,"string");return e(n)?n:n+""},ug}var cg,YR;function AK(){if(YR)return cg;YR=1;var t=Kt(),e=Vr(),r=t.document,n=e(r)&&e(r.createElement);return cg=function(i){return n?r.createElement(i):{}},cg}var dg,QR;function FK(){if(QR)return dg;QR=1;var t=Gt(),e=et(),r=AK();return dg=!t&&!e(function(){return Object.defineProperty(r("div"),"a",{get:function(){return 7}}).a!==7}),dg}var XR;function lm(){if(XR)return Rv;XR=1;var t=Gt(),e=cn(),r=uP(),n=Zd(),i=Mi(),s=hP(),a=cr(),o=FK(),l=Object.getOwnPropertyDescriptor;return Rv.f=t?l:function(d,h){if(d=i(d),h=s(h),o)try{return l(d,h)}catch{}if(a(d,h))return n(!e(r.f,d,h),d[h])},Rv}var hg,JR;function aae(){if(JR)return hg;JR=1;var t=et(),e=lr(),r=/#|\.prototype\./,n=function(l,c){var d=s[i(l)];return d===o?!0:d===a?!1:e(c)?t(c):!!c},i=n.normalize=function(l){return String(l).replace(r,".").toLowerCase()},s=n.data={},a=n.NATIVE="N",o=n.POLYFILL="P";return hg=n,hg}var fg,ZR;function um(){if(ZR)return fg;ZR=1;var t=DK(),e=Ss(),r=Jd(),n=t(t.bind);return fg=function(i,s){return e(i),s===void 0?i:r?n(i,s):function(){return i.apply(s,arguments)}},fg}var pg={},mg,e$;function LK(){if(e$)return mg;e$=1;var t=Gt(),e=et();return mg=t&&e(function(){return Object.defineProperty(function(){},"prototype",{value:42,writable:!1}).prototype!==42}),mg}var vg,t$;function Es(){if(t$)return vg;t$=1;var t=Vr(),e=String,r=TypeError;return vg=function(n){if(t(n))return n;throw new r(e(n)+" is not an object")},vg}var r$;function Wn(){if(r$)return pg;r$=1;var t=Gt(),e=FK(),r=LK(),n=Es(),i=hP(),s=TypeError,a=Object.defineProperty,o=Object.getOwnPropertyDescriptor,l="enumerable",c="configurable",d="writable";return pg.f=t?r?function(f,p,m){if(n(f),p=i(p),n(m),typeof f=="function"&&p==="prototype"&&"value"in m&&d in m&&!m[d]){var y=o(f,p);y&&y[d]&&(f[p]=m.value,m={configurable:c in m?m[c]:y[c],enumerable:l in m?m[l]:y[l],writable:!1})}return a(f,p,m)}:a:function(f,p,m){if(n(f),p=i(p),n(m),e)try{return a(f,p,m)}catch{}if("get"in m||"set"in m)throw new s("Accessors not supported");return"value"in m&&(f[p]=m.value),f},pg}var gg,n$;function Fu(){if(n$)return gg;n$=1;var t=Gt(),e=Wn(),r=Zd();return gg=t?function(n,i,s){return e.f(n,i,r(1,s))}:function(n,i,s){return n[i]=s,n},gg}var yg,i$;function Te(){if(i$)return yg;i$=1;var t=Kt(),e=sm(),r=DK(),n=lr(),i=lm().f,s=aae(),a=rr(),o=um(),l=Fu(),c=cr(),d=function(h){var f=function(p,m,y){if(this instanceof f){switch(arguments.length){case 0:return new h;case 1:return new h(p);case 2:return new h(p,m)}return new h(p,m,y)}return e(h,this,arguments)};return f.prototype=h.prototype,f};return yg=function(h,f){var p=h.target,m=h.global,y=h.stat,x=h.proto,g=m?t:y?t[p]:t[p]&&t[p].prototype,v=m?a:a[p]||l(a,p,{})[p],w=v.prototype,b,_,E,N,S,O,C,T,P;for(N in f)b=s(m?N:p+(y?".":"#")+N,h.forced),_=!b&&g&&c(g,N),O=v[N],_&&(h.dontCallGetSet?(P=i(g,N),C=P&&P.value):C=g[N]),S=_&&C?C:f[N],!(!b&&!x&&typeof O==typeof S)&&(h.bind&&_?T=o(S,t):h.wrap&&_?T=d(S):x&&n(S)?T=r(S):T=S,(h.sham||S&&S.sham||O&&O.sham)&&l(T,"sham",!0),l(v,N,T),x&&(E=p+"Prototype",c(a,E)||l(a,E,{}),l(a[E],N,S),h.real&&w&&(b||!w[N])&&l(w,N,S)))},yg}var s$;function oae(){if(s$)return uR;s$=1;var t=Te(),e=Gt(),r=Wn().f;return t({target:"Object",stat:!0,forced:Object.defineProperty!==r,sham:!e},{defineProperty:r}),uR}var a$;function lae(){if(a$)return Ev.exports;a$=1,oae();var t=rr(),e=t.Object,r=Ev.exports=function(i,s,a){return e.defineProperty(i,s,a)};return e.defineProperty.sham&&(r.sham=!0),Ev.exports}var bg,o$;function BK(){if(o$)return bg;o$=1;var t=lae();return bg=t,bg}var xg,l$;function uae(){if(l$)return xg;l$=1;var t=BK();return xg=t,xg}var wg,u$;function cae(){if(u$)return wg;u$=1;var t=uae();return wg=t,wg}var _g,c$;function dae(){return c$||(c$=1,_g=cae()),_g}var hae=dae(),fae=Le(hae),d$={},Sg,h$;function Fo(){if(h$)return Sg;h$=1;var t=_s();return Sg=Array.isArray||function(r){return t(r)==="Array"},Sg}var Eg,f$;function pae(){if(f$)return Eg;f$=1;var t=Math.ceil,e=Math.floor;return Eg=Math.trunc||function(n){var i=+n;return(i>0?e:t)(i)},Eg}var Ng,p$;function Lu(){if(p$)return Ng;p$=1;var t=pae();return Ng=function(e){var r=+e;return r!==r||r===0?0:t(r)},Ng}var Og,m$;function zK(){if(m$)return Og;m$=1;var t=Lu(),e=Math.min;return Og=function(r){var n=t(r);return n>0?e(n,9007199254740991):0},Og}var Cg,v$;function Ea(){if(v$)return Cg;v$=1;var t=zK();return Cg=function(e){return t(e.length)},Cg}var Pg,g$;function UK(){if(g$)return Pg;g$=1;var t=TypeError,e=9007199254740991;return Pg=function(r){if(r>e)throw t("Maximum allowed index exceeded");return r},Pg}var Tg,y$;function cm(){if(y$)return Tg;y$=1;var t=Gt(),e=Wn(),r=Zd();return Tg=function(n,i,s){t?e.f(n,i,r(0,s)):n[i]=s},Tg}var jg,b$;function fP(){if(b$)return jg;b$=1;var t=dr(),e=t("toStringTag"),r={};return r[e]="z",jg=String(r)==="[object z]",jg}var Ig,x$;function Na(){if(x$)return Ig;x$=1;var t=fP(),e=lr(),r=_s(),n=dr(),i=n("toStringTag"),s=Object,a=r(function(){return arguments}())==="Arguments",o=function(l,c){try{return l[c]}catch{}};return Ig=t?r:function(l){var c,d,h;return l===void 0?"Undefined":l===null?"Null":typeof(d=o(c=s(l),i))=="string"?d:a?r(c):(h=r(c))==="Object"&&e(c.callee)?"Arguments":h},Ig}var Rg,w$;function mae(){if(w$)return Rg;w$=1;var t=ot(),e=lr(),r=dP(),n=t(Function.toString);return e(r.inspectSource)||(r.inspectSource=function(i){return n(i)}),Rg=r.inspectSource,Rg}var $g,_$;function WK(){if(_$)return $g;_$=1;var t=ot(),e=et(),r=lr(),n=Na(),i=En(),s=mae(),a=function(){},o=i("Reflect","construct"),l=/^\s*(?:class|function)\b/,c=t(l.exec),d=!l.test(a),h=function(m){if(!r(m))return!1;try{return o(a,[],m),!0}catch{return!1}},f=function(m){if(!r(m))return!1;switch(n(m)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return d||!!c(l,s(m))}catch{return!0}};return f.sham=!0,$g=!o||e(function(){var p;return h(h.call)||!h(Object)||!h(function(){p=!0})||p})?f:h,$g}var kg,S$;function vae(){if(S$)return kg;S$=1;var t=Fo(),e=WK(),r=Vr(),n=dr(),i=n("species"),s=Array;return kg=function(a){var o;return t(a)&&(o=a.constructor,e(o)&&(o===s||t(o.prototype))?o=void 0:r(o)&&(o=o[i],o===null&&(o=void 0))),o===void 0?s:o},kg}var Dg,E$;function pP(){if(E$)return Dg;E$=1;var t=vae();return Dg=function(e,r){return new(t(e))(r===0?0:r)},Dg}var Mg,N$;function nh(){if(N$)return Mg;N$=1;var t=et(),e=dr(),r=th(),n=e("species");return Mg=function(i){return r>=51||!t(function(){var s=[],a=s.constructor={};return a[n]=function(){return{foo:1}},s[i](Boolean).foo!==1})},Mg}var O$;function HK(){if(O$)return d$;O$=1;var t=Te(),e=et(),r=Fo(),n=Vr(),i=mi(),s=Ea(),a=UK(),o=cm(),l=pP(),c=nh(),d=dr(),h=th(),f=d("isConcatSpreadable"),p=h>=51||!e(function(){var x=[];return x[f]=!1,x.concat()[0]!==x}),m=function(x){if(!n(x))return!1;var g=x[f];return g!==void 0?!!g:r(x)},y=!p||!c("concat");return t({target:"Array",proto:!0,arity:1,forced:y},{concat:function(g){var v=i(this),w=l(v,0),b=0,_,E,N,S,O;for(_=-1,N=arguments.length;_<N;_++)if(O=_===-1?v:arguments[_],m(O))for(S=s(O),a(b+S),E=0;E<S;E++,b++)E in O&&o(w,b,O[E]);else a(b+1),o(w,b++,O);return w.length=b,w}}),d$}var C$={},P$={},qg,T$;function Oa(){if(T$)return qg;T$=1;var t=Na(),e=String;return qg=function(r){if(t(r)==="Symbol")throw new TypeError("Cannot convert a Symbol value to a string");return e(r)},qg}var Ag={},Fg,j$;function mP(){if(j$)return Fg;j$=1;var t=Lu(),e=Math.max,r=Math.min;return Fg=function(n,i){var s=t(n);return s<0?e(s+i,0):r(s,i)},Fg}var Lg,I$;function gae(){if(I$)return Lg;I$=1;var t=Mi(),e=mP(),r=Ea(),n=function(i){return function(s,a,o){var l=t(s),c=r(l);if(c===0)return!i&&-1;var d=e(o,c),h;if(i&&a!==a){for(;c>d;)if(h=l[d++],h!==h)return!0}else for(;c>d;d++)if((i||d in l)&&l[d]===a)return i||d||0;return!i&&-1}};return Lg={includes:n(!0),indexOf:n(!1)},Lg}var Bg,R$;function ih(){return R$||(R$=1,Bg={}),Bg}var zg,$$;function VK(){if($$)return zg;$$=1;var t=ot(),e=cr(),r=Mi(),n=gae().indexOf,i=ih(),s=t([].push);return zg=function(a,o){var l=r(a),c=0,d=[],h;for(h in l)!e(i,h)&&e(l,h)&&s(d,h);for(;o.length>c;)e(l,h=o[c++])&&(~n(d,h)||s(d,h));return d},zg}var Ug,k$;function vP(){return k$||(k$=1,Ug=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]),Ug}var Wg,D$;function dm(){if(D$)return Wg;D$=1;var t=VK(),e=vP();return Wg=Object.keys||function(n){return t(n,e)},Wg}var M$;function gP(){if(M$)return Ag;M$=1;var t=Gt(),e=LK(),r=Wn(),n=Es(),i=Mi(),s=dm();return Ag.f=t&&!e?Object.defineProperties:function(o,l){n(o);for(var c=i(l),d=s(l),h=d.length,f=0,p;h>f;)r.f(o,p=d[f++],c[p]);return o},Ag}var Hg,q$;function yae(){if(q$)return Hg;q$=1;var t=En();return Hg=t("document","documentElement"),Hg}var Vg,A$;function hm(){if(A$)return Vg;A$=1;var t=Au(),e=om(),r=t("keys");return Vg=function(n){return r[n]||(r[n]=e(n))},Vg}var Kg,F$;function sh(){if(F$)return Kg;F$=1;var t=Es(),e=gP(),r=vP(),n=ih(),i=yae(),s=AK(),a=hm(),o=">",l="<",c="prototype",d="script",h=a("IE_PROTO"),f=function(){},p=function(v){return l+d+o+v+l+"/"+d+o},m=function(v){v.write(p("")),v.close();var w=v.parentWindow.Object;return v=null,w},y=function(){var v=s("iframe"),w="java"+d+":",b;return v.style.display="none",i.appendChild(v),v.src=String(w),b=v.contentWindow.document,b.open(),b.write(p("document.F=Object")),b.close(),b.F},x,g=function(){try{x=new ActiveXObject("htmlfile")}catch{}g=typeof document<"u"?document.domain&&x?m(x):y():m(x);for(var v=r.length;v--;)delete g[c][r[v]];return g()};return n[h]=!0,Kg=Object.create||function(w,b){var _;return w!==null?(f[c]=t(w),_=new f,f[c]=null,_[h]=w):_=g(),b===void 0?_:e.f(_,b)},Kg}var Gg={},L$;function fm(){if(L$)return Gg;L$=1;var t=VK(),e=vP(),r=e.concat("length","prototype");return Gg.f=Object.getOwnPropertyNames||function(i){return t(i,r)},Gg}var Yg={},Qg,B$;function Bu(){if(B$)return Qg;B$=1;var t=ot();return Qg=t([].slice),Qg}var z$;function KK(){if(z$)return Yg;z$=1;var t=_s(),e=Mi(),r=fm().f,n=Bu(),i=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],s=function(a){try{return r(a)}catch{return n(i)}};return Yg.f=function(o){return i&&t(o)==="Window"?s(o):r(e(o))},Yg}var Xg={},U$;function pm(){return U$||(U$=1,Xg.f=Object.getOwnPropertySymbols),Xg}var Jg,W$;function ah(){if(W$)return Jg;W$=1;var t=Fu();return Jg=function(e,r,n,i){return i&&i.enumerable?e[r]=n:t(e,r,n),e},Jg}var Zg,H$;function yP(){if(H$)return Zg;H$=1;var t=Wn();return Zg=function(e,r,n){return t.f(e,r,n)},Zg}var ey={},V$;function mm(){if(V$)return ey;V$=1;var t=dr();return ey.f=t,ey}var ty,K$;function Ct(){if(K$)return ty;K$=1;var t=rr(),e=cr(),r=mm(),n=Wn().f;return ty=function(i){var s=t.Symbol||(t.Symbol={});e(s,i)||n(s,i,{value:r.f(i)})},ty}var ry,G$;function GK(){if(G$)return ry;G$=1;var t=cn(),e=En(),r=dr(),n=ah();return ry=function(){var i=e("Symbol"),s=i&&i.prototype,a=s&&s.valueOf,o=r("toPrimitive");s&&!s[o]&&n(s,o,function(l){return t(a,this)},{arity:1})},ry}var ny,Y$;function bae(){if(Y$)return ny;Y$=1;var t=fP(),e=Na();return ny=t?{}.toString:function(){return"[object "+e(this)+"]"},ny}var iy,Q$;function Lo(){if(Q$)return iy;Q$=1;var t=fP(),e=Wn().f,r=Fu(),n=cr(),i=bae(),s=dr(),a=s("toStringTag");return iy=function(o,l,c,d){var h=c?o:o&&o.prototype;h&&(n(h,a)||e(h,a,{configurable:!0,value:l}),d&&!t&&r(h,"toString",i))},iy}var sy,X$;function xae(){if(X$)return sy;X$=1;var t=Kt(),e=lr(),r=t.WeakMap;return sy=e(r)&&/native code/.test(String(r)),sy}var ay,J$;function oh(){if(J$)return ay;J$=1;var t=xae(),e=Kt(),r=Vr(),n=Fu(),i=cr(),s=dP(),a=hm(),o=ih(),l="Object already initialized",c=e.TypeError,d=e.WeakMap,h,f,p,m=function(v){return p(v)?f(v):h(v,{})},y=function(v){return function(w){var b;if(!r(w)||(b=f(w)).type!==v)throw new c("Incompatible receiver, "+v+" required");return b}};if(t||s.state){var x=s.state||(s.state=new d);x.get=x.get,x.has=x.has,x.set=x.set,h=function(v,w){if(x.has(v))throw new c(l);return w.facade=v,x.set(v,w),w},f=function(v){return x.get(v)||{}},p=function(v){return x.has(v)}}else{var g=a("state");o[g]=!0,h=function(v,w){if(i(v,g))throw new c(l);return w.facade=v,n(v,g,w),w},f=function(v){return i(v,g)?v[g]:{}},p=function(v){return i(v,g)}}return ay={set:h,get:f,has:p,enforce:m,getterFor:y},ay}var oy,Z$;function zu(){if(Z$)return oy;Z$=1;var t=um(),e=ot(),r=am(),n=mi(),i=Ea(),s=pP(),a=e([].push),o=function(l){var c=l===1,d=l===2,h=l===3,f=l===4,p=l===6,m=l===7,y=l===5||p;return function(x,g,v,w){for(var b=n(x),_=r(b),E=i(_),N=t(g,v),S=0,O=w||s,C=c?O(x,E):d||m?O(x,0):void 0,T,P;E>S;S++)if((y||S in _)&&(T=_[S],P=N(T,S,b),l))if(c)C[S]=P;else if(P)switch(l){case 3:return!0;case 5:return T;case 6:return S;case 2:a(C,T)}else switch(l){case 4:return!1;case 7:a(C,T)}return p?-1:h||f?f:C}};return oy={forEach:o(0),map:o(1),filter:o(2),some:o(3),every:o(4),find:o(5),findIndex:o(6),filterReject:o(7)},oy}var ek;function wae(){if(ek)return P$;ek=1;var t=Te(),e=Kt(),r=cn(),n=ot(),i=qu(),s=Gt(),a=Du(),o=et(),l=cr(),c=ur(),d=Es(),h=Mi(),f=hP(),p=Oa(),m=Zd(),y=sh(),x=dm(),g=fm(),v=KK(),w=pm(),b=lm(),_=Wn(),E=gP(),N=uP(),S=ah(),O=yP(),C=Au(),T=hm(),P=ih(),j=om(),D=dr(),L=mm(),G=Ct(),H=GK(),F=Lo(),V=oh(),W=zu().forEach,U=T("hidden"),K="Symbol",he="prototype",xe=V.set,Re=V.getterFor(K),ge=Object[he],Ee=e.Symbol,$e=Ee&&Ee[he],rt=e.RangeError,nr=e.TypeError,bt=e.QObject,pr=b.f,lt=_.f,jr=v.f,Ir=N.f,Sr=n([].push),nt=C("symbols"),Lt=C("op-symbols"),Rr=C("wks"),Kr=!bt||!bt[he]||!bt[he].findChild,$=function(ve,X,le){var oe=pr(ge,X);oe&&delete ge[X],lt(ve,X,le),oe&&ve!==ge&&lt(ge,X,oe)},M=s&&o(function(){return y(lt({},"a",{get:function(){return lt(this,"a",{value:7}).a}})).a!==7})?$:lt,A=function(ve,X){var le=nt[ve]=y($e);return xe(le,{type:K,tag:ve,description:X}),s||(le.description=X),le},ie=function(X,le,oe){X===ge&&ie(Lt,le,oe),d(X);var _e=f(le);return d(oe),l(nt,_e)?(oe.enumerable?(l(X,U)&&X[U][_e]&&(X[U][_e]=!1),oe=y(oe,{enumerable:m(0,!1)})):(l(X,U)||lt(X,U,m(1,y(null))),X[U][_e]=!0),M(X,_e,oe)):lt(X,_e,oe)},ee=function(X,le){d(X);var oe=h(le),_e=x(oe).concat(He(oe));return W(_e,function(Ae){(!s||r(z,oe,Ae))&&ie(X,Ae,oe[Ae])}),X},Y=function(X,le){return le===void 0?y(X):ee(y(X),le)},z=function(X){var le=f(X),oe=r(Ir,this,le);return this===ge&&l(nt,le)&&!l(Lt,le)?!1:oe||!l(this,le)||!l(nt,le)||l(this,U)&&this[U][le]?oe:!0},ae=function(X,le){var oe=h(X),_e=f(le);if(!(oe===ge&&l(nt,_e)&&!l(Lt,_e))){var Ae=pr(oe,_e);return Ae&&l(nt,_e)&&!(l(oe,U)&&oe[U][_e])&&(Ae.enumerable=!0),Ae}},de=function(X){var le=jr(h(X)),oe=[];return W(le,function(_e){!l(nt,_e)&&!l(P,_e)&&Sr(oe,_e)}),oe},He=function(ve){var X=ve===ge,le=jr(X?Lt:h(ve)),oe=[];return W(le,function(_e){l(nt,_e)&&(!X||l(ge,_e))&&Sr(oe,nt[_e])}),oe};return a||(Ee=function(){if(c($e,this))throw new nr("Symbol is not a constructor");var X=!arguments.length||arguments[0]===void 0?void 0:p(arguments[0]),le=j(X),oe=function(_e){var Ae=this===void 0?e:this;Ae===ge&&r(oe,Lt,_e),l(Ae,U)&&l(Ae[U],le)&&(Ae[U][le]=!1);var Cn=m(1,_e);try{M(Ae,le,Cn)}catch(Pn){if(!(Pn instanceof rt))throw Pn;$(Ae,le,Cn)}};return s&&Kr&&M(ge,le,{configurable:!0,set:oe}),A(le,X)},$e=Ee[he],S($e,"toString",function(){return Re(this).tag}),S(Ee,"withoutSetter",function(ve){return A(j(ve),ve)}),N.f=z,_.f=ie,E.f=ee,b.f=ae,g.f=v.f=de,w.f=He,L.f=function(ve){return A(D(ve),ve)},s&&(O($e,"description",{configurable:!0,get:function(){return Re(this).description}}),i||S(ge,"propertyIsEnumerable",z,{unsafe:!0}))),t({global:!0,constructor:!0,wrap:!0,forced:!a,sham:!a},{Symbol:Ee}),W(x(Rr),function(ve){G(ve)}),t({target:K,stat:!0,forced:!a},{useSetter:function(){Kr=!0},useSimple:function(){Kr=!1}}),t({target:"Object",stat:!0,forced:!a,sham:!s},{create:Y,defineProperty:ie,defineProperties:ee,getOwnPropertyDescriptor:ae}),t({target:"Object",stat:!0,forced:!a},{getOwnPropertyNames:de}),H(),F(Ee,K),P[U]=!0,P$}var tk={},ly,rk;function YK(){if(rk)return ly;rk=1;var t=Du();return ly=t&&!!Symbol.for&&!!Symbol.keyFor,ly}var nk;function _ae(){if(nk)return tk;nk=1;var t=Te(),e=En(),r=cr(),n=Oa(),i=Au(),s=YK(),a=i("string-to-symbol-registry"),o=i("symbol-to-string-registry");return t({target:"Symbol",stat:!0,forced:!s},{for:function(l){var c=n(l);if(r(a,c))return a[c];var d=e("Symbol")(c);return a[c]=d,o[d]=c,d}}),tk}var ik={},sk;function Sae(){if(sk)return ik;sk=1;var t=Te(),e=cr(),r=rh(),n=Mu(),i=Au(),s=YK(),a=i("symbol-to-string-registry");return t({target:"Symbol",stat:!0,forced:!s},{keyFor:function(l){if(!r(l))throw new TypeError(n(l)+" is not a symbol");if(e(a,l))return a[l]}}),ik}var ak={},uy,ok;function Eae(){if(ok)return uy;ok=1;var t=ot(),e=Fo(),r=lr(),n=_s(),i=Oa(),s=t([].push);return uy=function(a){if(r(a))return a;if(e(a)){for(var o=a.length,l=[],c=0;c<o;c++){var d=a[c];typeof d=="string"?s(l,d):(typeof d=="number"||n(d)==="Number"||n(d)==="String")&&s(l,i(d))}var h=l.length,f=!0;return function(p,m){if(f)return f=!1,m;if(e(this))return m;for(var y=0;y<h;y++)if(l[y]===p)return m}}},uy}var lk;function QK(){if(lk)return ak;lk=1;var t=Te(),e=En(),r=sm(),n=cn(),i=ot(),s=et(),a=lr(),o=rh(),l=Bu(),c=Eae(),d=Du(),h=String,f=e("JSON","stringify"),p=i(/./.exec),m=i("".charAt),y=i("".charCodeAt),x=i("".replace),g=i(1.1.toString),v=/[\uD800-\uDFFF]/g,w=/^[\uD800-\uDBFF]$/,b=/^[\uDC00-\uDFFF]$/,_=!d||s(function(){var O=e("Symbol")("stringify detection");return f([O])!=="[null]"||f({a:O})!=="{}"||f(Object(O))!=="{}"}),E=s(function(){return f("\uDF06\uD834")!=='"\\udf06\\ud834"'||f("\uDEAD")!=='"\\udead"'}),N=function(O,C){var T=l(arguments),P=c(C);if(!(!a(P)&&(O===void 0||o(O))))return T[1]=function(j,D){if(a(P)&&(D=n(P,this,h(j),D)),!o(D))return D},r(f,null,T)},S=function(O,C,T){var P=m(T,C-1),j=m(T,C+1);return p(w,O)&&!p(b,j)||p(b,O)&&!p(w,P)?"\\u"+g(y(O,0),16):O};return f&&t({target:"JSON",stat:!0,arity:3,forced:_||E},{stringify:function(C,T,P){var j=l(arguments),D=r(_?N:f,null,j);return E&&typeof D=="string"?x(D,v,S):D}}),ak}var uk={},ck;function Nae(){if(ck)return uk;ck=1;var t=Te(),e=Du(),r=et(),n=pm(),i=mi(),s=!e||r(function(){n.f(1)});return t({target:"Object",stat:!0,forced:s},{getOwnPropertySymbols:function(o){var l=n.f;return l?l(i(o)):[]}}),uk}var dk;function XK(){return dk||(dk=1,wae(),_ae(),Sae(),QK(),Nae()),C$}var hk={},fk;function JK(){if(fk)return hk;fk=1;var t=Ct();return t("asyncDispose"),hk}var pk={},mk;function Oae(){if(mk)return pk;mk=1;var t=Ct();return t("asyncIterator"),pk}var vk={},gk;function ZK(){if(gk)return vk;gk=1;var t=Ct();return t("dispose"),vk}var yk={},bk;function Cae(){if(bk)return yk;bk=1;var t=Ct();return t("hasInstance"),yk}var xk={},wk;function Pae(){if(wk)return xk;wk=1;var t=Ct();return t("isConcatSpreadable"),xk}var _k={},Sk;function eG(){if(Sk)return _k;Sk=1;var t=Ct();return t("iterator"),_k}var Ek={},Nk;function Tae(){if(Nk)return Ek;Nk=1;var t=Ct();return t("match"),Ek}var Ok={},Ck;function jae(){if(Ck)return Ok;Ck=1;var t=Ct();return t("matchAll"),Ok}var Pk={},Tk;function Iae(){if(Tk)return Pk;Tk=1;var t=Ct();return t("replace"),Pk}var jk={},Ik;function Rae(){if(Ik)return jk;Ik=1;var t=Ct();return t("search"),jk}var Rk={},$k;function $ae(){if($k)return Rk;$k=1;var t=Ct();return t("species"),Rk}var kk={},Dk;function kae(){if(Dk)return kk;Dk=1;var t=Ct();return t("split"),kk}var Mk={},qk;function tG(){if(qk)return Mk;qk=1;var t=Ct(),e=GK();return t("toPrimitive"),e(),Mk}var Ak={},Fk;function Dae(){if(Fk)return Ak;Fk=1;var t=En(),e=Ct(),r=Lo();return e("toStringTag"),r(t("Symbol"),"Symbol"),Ak}var Lk={},Bk;function Mae(){if(Bk)return Lk;Bk=1;var t=Ct();return t("unscopables"),Lk}var zk={},Uk;function qae(){if(Uk)return zk;Uk=1;var t=Kt(),e=Lo();return e(t.JSON,"JSON",!0),zk}var cy,Wk;function Aae(){if(Wk)return cy;Wk=1,HK(),XK(),JK(),Oae(),ZK(),Cae(),Pae(),eG(),Tae(),jae(),Iae(),Rae(),$ae(),kae(),tG(),Dae(),Mae(),qae();var t=rr();return cy=t.Symbol,cy}var Hk={},dy,Vk;function Fae(){return Vk||(Vk=1,dy=function(){}),dy}var hy,Kk;function Uu(){return Kk||(Kk=1,hy={}),hy}var fy,Gk;function Lae(){if(Gk)return fy;Gk=1;var t=Gt(),e=cr(),r=Function.prototype,n=t&&Object.getOwnPropertyDescriptor,i=e(r,"name"),s=i&&(function(){}).name==="something",a=i&&(!t||t&&n(r,"name").configurable);return fy={EXISTS:i,PROPER:s,CONFIGURABLE:a},fy}var py,Yk;function Bae(){if(Yk)return py;Yk=1;var t=et();return py=!t(function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype}),py}var my,Qk;function rG(){if(Qk)return my;Qk=1;var t=cr(),e=lr(),r=mi(),n=hm(),i=Bae(),s=n("IE_PROTO"),a=Object,o=a.prototype;return my=i?a.getPrototypeOf:function(l){var c=r(l);if(t(c,s))return c[s];var d=c.constructor;return e(d)&&c instanceof d?d.prototype:c instanceof a?o:null},my}var vy,Xk;function nG(){if(Xk)return vy;Xk=1;var t=et(),e=lr(),r=Vr(),n=sh(),i=rG(),s=ah(),a=dr(),o=qu(),l=a("iterator"),c=!1,d,h,f;[].keys&&(f=[].keys(),"next"in f?(h=i(i(f)),h!==Object.prototype&&(d=h)):c=!0);var p=!r(d)||t(function(){var m={};return d[l].call(m)!==m});return p?d={}:o&&(d=n(d)),e(d[l])||s(d,l,function(){return this}),vy={IteratorPrototype:d,BUGGY_SAFARI_ITERATORS:c},vy}var gy,Jk;function zae(){if(Jk)return gy;Jk=1;var t=nG().IteratorPrototype,e=sh(),r=Zd(),n=Lo(),i=Uu(),s=function(){return this};return gy=function(a,o,l,c){var d=o+" Iterator";return a.prototype=e(t,{next:r(+!c,l)}),n(a,d,!1,!0),i[d]=s,a},gy}var yy,Zk;function Uae(){if(Zk)return yy;Zk=1;var t=ot(),e=Ss();return yy=function(r,n,i){try{return t(e(Object.getOwnPropertyDescriptor(r,n)[i]))}catch{}},yy}var by,eD;function Wae(){if(eD)return by;eD=1;var t=Vr();return by=function(e){return t(e)||e===null},by}var xy,tD;function Hae(){if(tD)return xy;tD=1;var t=Wae(),e=String,r=TypeError;return xy=function(n){if(t(n))return n;throw new r("Can't set "+e(n)+" as a prototype")},xy}var wy,rD;function Vae(){if(rD)return wy;rD=1;var t=Uae(),e=Vr(),r=Ao(),n=Hae();return wy=Object.setPrototypeOf||("__proto__"in{}?function(){var i=!1,s={},a;try{a=t(Object.prototype,"__proto__","set"),a(s,[]),i=s instanceof Array}catch{}return function(l,c){return r(l),n(c),e(l)&&(i?a(l,c):l.__proto__=c),l}}():void 0),wy}var _y,nD;function bP(){if(nD)return _y;nD=1;var t=Te(),e=cn(),r=qu(),n=Lae(),i=lr(),s=zae(),a=rG(),o=Vae(),l=Lo(),c=Fu(),d=ah(),h=dr(),f=Uu(),p=nG(),m=n.PROPER,y=n.CONFIGURABLE,x=p.IteratorPrototype,g=p.BUGGY_SAFARI_ITERATORS,v=h("iterator"),w="keys",b="values",_="entries",E=function(){return this};return _y=function(N,S,O,C,T,P,j){s(O,S,C);var D=function(xe){if(xe===T&&V)return V;if(!g&&xe&&xe in H)return H[xe];switch(xe){case w:return function(){return new O(this,xe)};case b:return function(){return new O(this,xe)};case _:return function(){return new O(this,xe)}}return function(){return new O(this)}},L=S+" Iterator",G=!1,H=N.prototype,F=H[v]||H["@@iterator"]||T&&H[T],V=!g&&F||D(T),W=S==="Array"&&H.entries||F,U,K,he;if(W&&(U=a(W.call(new N)),U!==Object.prototype&&U.next&&(!r&&a(U)!==x&&(o?o(U,x):i(U[v])||d(U,v,E)),l(U,L,!0,!0),r&&(f[L]=E))),m&&T===b&&F&&F.name!==b&&(!r&&y?c(H,"name",b):(G=!0,V=function(){return e(F,this)})),T)if(K={values:D(b),keys:P?V:D(w),entries:D(_)},j)for(he in K)(g||G||!(he in H))&&d(H,he,K[he]);else t({target:S,proto:!0,forced:g||G},K);return(!r||j)&&H[v]!==V&&d(H,v,V,{name:T}),f[S]=V,K},_y}var Sy,iD;function xP(){return iD||(iD=1,Sy=function(t,e){return{value:t,done:e}}),Sy}var Ey,sD;function Ca(){if(sD)return Ey;sD=1;var t=Mi(),e=Fae(),r=Uu(),n=oh(),i=Wn().f,s=bP(),a=xP(),o=qu(),l=Gt(),c="Array Iterator",d=n.set,h=n.getterFor(c);Ey=s(Array,"Array",function(p,m){d(this,{type:c,target:t(p),index:0,kind:m})},function(){var p=h(this),m=p.target,y=p.index++;if(!m||y>=m.length)return p.target=null,a(void 0,!0);switch(p.kind){case"keys":return a(y,!1);case"values":return a(m[y],!1)}return a([y,m[y]],!1)},"values");var f=r.Arguments=r.Array;if(e("keys"),e("values"),e("entries"),!o&&l&&f.name!=="values")try{i(f,"name",{value:"values"})}catch{}return Ey}var Ny,aD;function Kae(){return aD||(aD=1,Ny={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}),Ny}var oD;function Pa(){if(oD)return Hk;oD=1,Ca();var t=Kae(),e=Kt(),r=Lo(),n=Uu();for(var i in t)r(e[i],i),n[i]=n.Array;return Hk}var Oy,lD;function iG(){if(lD)return Oy;lD=1;var t=Aae();return Pa(),Oy=t,Oy}var uD={},cD;function Gae(){if(cD)return uD;cD=1;var t=dr(),e=Wn().f,r=t("metadata"),n=Function.prototype;return n[r]===void 0&&e(n,r,{value:null}),uD}var dD={},hD;function Yae(){return hD||(hD=1,JK()),dD}var fD={},pD;function Qae(){return pD||(pD=1,ZK()),fD}var mD={},vD;function Xae(){if(vD)return mD;vD=1;var t=Ct();return t("metadata"),mD}var Cy,gD;function Jae(){if(gD)return Cy;gD=1;var t=iG();return Gae(),Yae(),Qae(),Xae(),Cy=t,Cy}var yD={},Py,bD;function sG(){if(bD)return Py;bD=1;var t=En(),e=ot(),r=t("Symbol"),n=r.keyFor,i=e(r.prototype.valueOf);return Py=r.isRegisteredSymbol||function(a){try{return n(i(a))!==void 0}catch{return!1}},Py}var xD;function Zae(){if(xD)return yD;xD=1;var t=Te(),e=sG();return t({target:"Symbol",stat:!0},{isRegisteredSymbol:e}),yD}var wD={},Ty,_D;function aG(){if(_D)return Ty;_D=1;for(var t=Au(),e=En(),r=ot(),n=rh(),i=dr(),s=e("Symbol"),a=s.isWellKnownSymbol,o=e("Object","getOwnPropertyNames"),l=r(s.prototype.valueOf),c=t("wks"),d=0,h=o(s),f=h.length;d<f;d++)try{var p=h[d];n(s[p])&&i(p)}catch{}return Ty=function(y){if(a&&a(y))return!0;try{for(var x=l(y),g=0,v=o(c),w=v.length;g<w;g++)if(c[v[g]]==x)return!0}catch{}return!1},Ty}var SD;function eoe(){if(SD)return wD;SD=1;var t=Te(),e=aG();return t({target:"Symbol",stat:!0,forced:!0},{isWellKnownSymbol:e}),wD}var ED={},ND;function toe(){if(ND)return ED;ND=1;var t=Ct();return t("customMatcher"),ED}var OD={},CD;function roe(){if(CD)return OD;CD=1;var t=Ct();return t("observable"),OD}var PD={},TD;function noe(){if(TD)return PD;TD=1;var t=Te(),e=sG();return t({target:"Symbol",stat:!0,name:"isRegisteredSymbol"},{isRegistered:e}),PD}var jD={},ID;function ioe(){if(ID)return jD;ID=1;var t=Te(),e=aG();return t({target:"Symbol",stat:!0,name:"isWellKnownSymbol",forced:!0},{isWellKnown:e}),jD}var RD={},$D;function soe(){if($D)return RD;$D=1;var t=Ct();return t("matcher"),RD}var kD={},DD;function aoe(){if(DD)return kD;DD=1;var t=Ct();return t("metadataKey"),kD}var MD={},qD;function ooe(){if(qD)return MD;qD=1;var t=Ct();return t("patternMatch"),MD}var AD={},FD;function loe(){if(FD)return AD;FD=1;var t=Ct();return t("replaceAll"),AD}var jy,LD;function uoe(){if(LD)return jy;LD=1;var t=Jae();return Zae(),eoe(),toe(),roe(),noe(),ioe(),soe(),aoe(),ooe(),loe(),jy=t,jy}var Iy,BD;function coe(){return BD||(BD=1,Iy=uoe()),Iy}var doe=coe(),sf=Le(doe),zD={},Ry,UD;function hoe(){if(UD)return Ry;UD=1;var t=ot(),e=Lu(),r=Oa(),n=Ao(),i=t("".charAt),s=t("".charCodeAt),a=t("".slice),o=function(l){return function(c,d){var h=r(n(c)),f=e(d),p=h.length,m,y;return f<0||f>=p?l?"":void 0:(m=s(h,f),m<55296||m>56319||f+1===p||(y=s(h,f+1))<56320||y>57343?l?i(h,f):m:l?a(h,f,f+2):(m-55296<<10)+(y-56320)+65536)}};return Ry={codeAt:o(!1),charAt:o(!0)},Ry}var WD;function vm(){if(WD)return zD;WD=1;var t=hoe().charAt,e=Oa(),r=oh(),n=bP(),i=xP(),s="String Iterator",a=r.set,o=r.getterFor(s);return n(String,"String",function(l){a(this,{type:s,string:e(l),index:0})},function(){var c=o(this),d=c.string,h=c.index,f;return h>=d.length?i(void 0,!0):(f=t(d,h),c.index+=f.length,i(f,!1))}),zD}var $y,HD;function foe(){if(HD)return $y;HD=1,Ca(),vm(),eG();var t=mm();return $y=t.f("iterator"),$y}var ky,VD;function oG(){if(VD)return ky;VD=1;var t=foe();return Pa(),ky=t,ky}var Dy,KD;function poe(){if(KD)return Dy;KD=1;var t=oG();return Dy=t,Dy}var My,GD;function moe(){if(GD)return My;GD=1;var t=poe();return My=t,My}var qy,YD;function voe(){return YD||(YD=1,qy=moe()),qy}var goe=voe(),yoe=Le(goe);function xd(t){"@babel/helpers - typeof";return xd=typeof sf=="function"&&typeof yoe=="symbol"?function(e){return typeof e}:function(e){return e&&typeof sf=="function"&&e.constructor===sf&&e!==sf.prototype?"symbol":typeof e},xd(t)}var Ay,QD;function boe(){if(QD)return Ay;QD=1,tG();var t=mm();return Ay=t.f("toPrimitive"),Ay}var Fy,XD;function xoe(){if(XD)return Fy;XD=1;var t=boe();return Fy=t,Fy}var Ly,JD;function woe(){if(JD)return Ly;JD=1;var t=xoe();return Ly=t,Ly}var By,ZD;function _oe(){if(ZD)return By;ZD=1;var t=woe();return By=t,By}var zy,eM;function Soe(){return eM||(eM=1,zy=_oe()),zy}var Eoe=Soe(),Noe=Le(Eoe);function Ooe(t,e){if(xd(t)!="object"||!t)return t;var r=t[Noe];if(r!==void 0){var n=r.call(t,e);if(xd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Coe(t){var e=Ooe(t,"string");return xd(e)=="symbol"?e:e+""}function la(t,e,r){return(e=Coe(e))in t?fae(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var tM={},Uy,rM;function Poe(){if(rM)return Uy;rM=1;var t=ot(),e=Ss(),r=Vr(),n=cr(),i=Bu(),s=Jd(),a=Function,o=t([].concat),l=t([].join),c={},d=function(h,f,p){if(!n(c,f)){for(var m=[],y=0;y<f;y++)m[y]="a["+y+"]";c[f]=a("C,a","return new C("+l(m,",")+")")}return c[f](h,p)};return Uy=s?a.bind:function(f){var p=e(this),m=p.prototype,y=i(arguments,1),x=function(){var v=o(y,i(arguments));return this instanceof x?d(p,v.length,v):p.apply(f,v)};return r(m)&&(x.prototype=m),x},Uy}var nM;function Toe(){if(nM)return tM;nM=1;var t=Te(),e=Poe();return t({target:"Function",proto:!0,forced:Function.bind!==e},{bind:e}),tM}var Wy,iM;function dn(){if(iM)return Wy;iM=1;var t=Kt(),e=rr();return Wy=function(r,n){var i=e[r+"Prototype"],s=i&&i[n];if(s)return s;var a=t[r],o=a&&a.prototype;return o&&o[n]},Wy}var Hy,sM;function joe(){if(sM)return Hy;sM=1,Toe();var t=dn();return Hy=t("Function","bind"),Hy}var Vy,aM;function Ioe(){if(aM)return Vy;aM=1;var t=ur(),e=joe(),r=Function.prototype;return Vy=function(n){var i=n.bind;return n===r||t(r,n)&&i===r.bind?e:i},Vy}var Ky,oM;function Roe(){if(oM)return Ky;oM=1;var t=Ioe();return Ky=t,Ky}var Gy,lM;function $oe(){return lM||(lM=1,Gy=Roe()),Gy}var koe=$oe(),lG=Le(koe),uM={},Yy,cM;function Doe(){if(cM)return Yy;cM=1;var t=Ss(),e=mi(),r=am(),n=Ea(),i=TypeError,s="Reduce of empty array with no initial value",a=function(o){return function(l,c,d,h){var f=e(l),p=r(f),m=n(f);if(t(c),m===0&&d<2)throw new i(s);var y=o?m-1:0,x=o?-1:1;if(d<2)for(;;){if(y in p){h=p[y],y+=x;break}if(y+=x,o?y<0:m<=y)throw new i(s)}for(;o?y>=0:m>y;y+=x)y in p&&(h=c(h,p[y],y,f));return h}};return Yy={left:a(!1),right:a(!0)},Yy}var Qy,dM;function gm(){if(dM)return Qy;dM=1;var t=et();return Qy=function(e,r){var n=[][e];return!!n&&t(function(){n.call(null,r||function(){return 1},1)})},Qy}var Xy,hM;function uG(){if(hM)return Xy;hM=1;var t=Kt(),e=ku(),r=_s(),n=function(i){return e.slice(0,i.length)===i};return Xy=function(){return n("Bun/")?"BUN":n("Cloudflare-Workers")?"CLOUDFLARE":n("Deno/")?"DENO":n("Node.js/")?"NODE":t.Bun&&typeof Bun.version=="string"?"BUN":t.Deno&&typeof Deno.version=="object"?"DENO":r(t.process)==="process"?"NODE":t.window&&t.document?"BROWSER":"REST"}(),Xy}var Jy,fM;function Moe(){if(fM)return Jy;fM=1;var t=uG();return Jy=t==="NODE",Jy}var pM;function qoe(){if(pM)return uM;pM=1;var t=Te(),e=Doe().left,r=gm(),n=th(),i=Moe(),s=!i&&n>79&&n<83,a=s||!r("reduce");return t({target:"Array",proto:!0,forced:a},{reduce:function(l){var c=arguments.length;return e(this,l,c,c>1?arguments[1]:void 0)}}),uM}var Zy,mM;function Aoe(){if(mM)return Zy;mM=1,qoe();var t=dn();return Zy=t("Array","reduce"),Zy}var e0,vM;function Foe(){if(vM)return e0;vM=1;var t=ur(),e=Aoe(),r=Array.prototype;return e0=function(n){var i=n.reduce;return n===r||t(r,n)&&i===r.reduce?e:i},e0}var t0,gM;function Loe(){if(gM)return t0;gM=1;var t=Foe();return t0=t,t0}var r0,yM;function Boe(){return yM||(yM=1,r0=Loe()),r0}var zoe=Boe(),Uoe=Le(zoe),bM={},xM;function Woe(){if(xM)return bM;xM=1;var t=Te(),e=zu().filter,r=nh(),n=r("filter");return t({target:"Array",proto:!0,forced:!n},{filter:function(s){return e(this,s,arguments.length>1?arguments[1]:void 0)}}),bM}var n0,wM;function Hoe(){if(wM)return n0;wM=1,Woe();var t=dn();return n0=t("Array","filter"),n0}var i0,_M;function Voe(){if(_M)return i0;_M=1;var t=ur(),e=Hoe(),r=Array.prototype;return i0=function(n){var i=n.filter;return n===r||t(r,n)&&i===r.filter?e:i},i0}var s0,SM;function Koe(){if(SM)return s0;SM=1;var t=Voe();return s0=t,s0}var a0,EM;function Goe(){return EM||(EM=1,a0=Koe()),a0}var Yoe=Goe(),El=Le(Yoe),NM={},OM;function Qoe(){if(OM)return NM;OM=1;var t=Te(),e=zu().map,r=nh(),n=r("map");return t({target:"Array",proto:!0,forced:!n},{map:function(s){return e(this,s,arguments.length>1?arguments[1]:void 0)}}),NM}var o0,CM;function Xoe(){if(CM)return o0;CM=1,Qoe();var t=dn();return o0=t("Array","map"),o0}var l0,PM;function Joe(){if(PM)return l0;PM=1;var t=ur(),e=Xoe(),r=Array.prototype;return l0=function(n){var i=n.map;return n===r||t(r,n)&&i===r.map?e:i},l0}var u0,TM;function Zoe(){if(TM)return u0;TM=1;var t=Joe();return u0=t,u0}var c0,jM;function ele(){return jM||(jM=1,c0=Zoe()),c0}var tle=ele(),ni=Le(tle),d0,IM;function rle(){return IM||(IM=1,d0=iG()),d0}var nle=rle(),ile=Le(nle),RM={},$M;function sle(){if($M)return RM;$M=1;var t=Te(),e=Fo(),r=WK(),n=Vr(),i=mP(),s=Ea(),a=Mi(),o=cm(),l=dr(),c=nh(),d=Bu(),h=c("slice"),f=l("species"),p=Array,m=Math.max;return t({target:"Array",proto:!0,forced:!h},{slice:function(x,g){var v=a(this),w=s(v),b=i(x,w),_=i(g===void 0?w:g,w),E,N,S;if(e(v)&&(E=v.constructor,r(E)&&(E===p||e(E.prototype))?E=void 0:n(E)&&(E=E[f],E===null&&(E=void 0)),E===p||E===void 0))return d(v,b,_);for(N=new(E===void 0?p:E)(m(_-b,0)),S=0;b<_;b++,S++)b in v&&o(N,S,v[b]);return N.length=S,N}}),RM}var h0,kM;function ale(){if(kM)return h0;kM=1,sle();var t=dn();return h0=t("Array","slice"),h0}var f0,DM;function ole(){if(DM)return f0;DM=1;var t=ur(),e=ale(),r=Array.prototype;return f0=function(n){var i=n.slice;return n===r||t(r,n)&&i===r.slice?e:i},f0}var p0,MM;function lle(){if(MM)return p0;MM=1;var t=ole();return p0=t,p0}var m0,qM;function ule(){return qM||(qM=1,m0=lle()),m0}var cle=ule(),dle=Le(cle),AM={},v0,FM;function cG(){if(FM)return v0;FM=1;var t=En(),e=ot(),r=fm(),n=pm(),i=Es(),s=e([].concat);return v0=t("Reflect","ownKeys")||function(o){var l=r.f(i(o)),c=n.f;return c?s(l,c(o)):l},v0}var LM;function hle(){if(LM)return AM;LM=1;var t=Te(),e=cG();return t({target:"Reflect",stat:!0},{ownKeys:e}),AM}var g0,BM;function fle(){if(BM)return g0;BM=1,hle();var t=rr();return g0=t.Reflect.ownKeys,g0}var y0,zM;function ple(){if(zM)return y0;zM=1;var t=fle();return y0=t,y0}var b0,UM;function mle(){return UM||(UM=1,b0=ple()),b0}var vle=mle(),gle=Le(vle),WM={},HM;function yle(){if(HM)return WM;HM=1;var t=Te(),e=Fo();return t({target:"Array",stat:!0},{isArray:e}),WM}var x0,VM;function ble(){if(VM)return x0;VM=1,yle();var t=rr();return x0=t.Array.isArray,x0}var w0,KM;function xle(){if(KM)return w0;KM=1;var t=ble();return w0=t,w0}var _0,GM;function wle(){return GM||(GM=1,_0=xle()),_0}var _le=wle(),wi=Le(_le),YM={},QM;function Sle(){if(QM)return YM;QM=1;var t=Te(),e=mi(),r=dm(),n=et(),i=n(function(){r(1)});return t({target:"Object",stat:!0,forced:i},{keys:function(a){return r(e(a))}}),YM}var S0,XM;function Ele(){if(XM)return S0;XM=1,Sle();var t=rr();return S0=t.Object.keys,S0}var E0,JM;function Nle(){if(JM)return E0;JM=1;var t=Ele();return E0=t,E0}var N0,ZM;function Ole(){return ZM||(ZM=1,N0=Nle()),N0}var Cle=Ole(),wP=Le(Cle),eq={},O0,tq;function Ple(){if(tq)return O0;tq=1;var t=zu().forEach,e=gm(),r=e("forEach");return O0=r?[].forEach:function(i){return t(this,i,arguments.length>1?arguments[1]:void 0)},O0}var rq;function Tle(){if(rq)return eq;rq=1;var t=Te(),e=Ple();return t({target:"Array",proto:!0,forced:[].forEach!==e},{forEach:e}),eq}var C0,nq;function jle(){if(nq)return C0;nq=1,Tle();var t=dn();return C0=t("Array","forEach"),C0}var P0,iq;function Ile(){if(iq)return P0;iq=1;var t=jle();return P0=t,P0}var T0,sq;function Rle(){if(sq)return T0;sq=1;var t=Na(),e=cr(),r=ur(),n=Ile(),i=Array.prototype,s={DOMTokenList:!0,NodeList:!0};return T0=function(a){var o=a.forEach;return a===i||r(i,a)&&o===i.forEach||e(s,t(a))?n:o},T0}var j0,aq;function $le(){return aq||(aq=1,j0=Rle()),j0}var kle=$le(),Co=Le(kle),oq={},lq;function Dle(){if(lq)return oq;lq=1;var t=Te(),e=ot(),r=Fo(),n=e([].reverse),i=[1,2];return t({target:"Array",proto:!0,forced:String(i)===String(i.reverse())},{reverse:function(){return r(this)&&(this.length=this.length),n(this)}}),oq}var I0,uq;function Mle(){if(uq)return I0;uq=1,Dle();var t=dn();return I0=t("Array","reverse"),I0}var R0,cq;function qle(){if(cq)return R0;cq=1;var t=ur(),e=Mle(),r=Array.prototype;return R0=function(n){var i=n.reverse;return n===r||t(r,n)&&i===r.reverse?e:i},R0}var $0,dq;function Ale(){if(dq)return $0;dq=1;var t=qle();return $0=t,$0}var k0,hq;function Fle(){return hq||(hq=1,k0=Ale()),k0}var Lle=Fle(),Ble=Le(Lle),fq={},D0,pq;function zle(){if(pq)return D0;pq=1;var t=Gt(),e=Fo(),r=TypeError,n=Object.getOwnPropertyDescriptor,i=t&&!function(){if(this!==void 0)return!0;try{Object.defineProperty([],"length",{writable:!1}).length=1}catch(s){return s instanceof TypeError}}();return D0=i?function(s,a){if(e(s)&&!n(s,"length").writable)throw new r("Cannot set read only .length");return s.length=a}:function(s,a){return s.length=a},D0}var M0,mq;function dG(){if(mq)return M0;mq=1;var t=Mu(),e=TypeError;return M0=function(r,n){if(!delete r[n])throw new e("Cannot delete property "+t(n)+" of "+t(r))},M0}var vq;function Ule(){if(vq)return fq;vq=1;var t=Te(),e=mi(),r=mP(),n=Lu(),i=Ea(),s=zle(),a=UK(),o=pP(),l=cm(),c=dG(),d=nh(),h=d("splice"),f=Math.max,p=Math.min;return t({target:"Array",proto:!0,forced:!h},{splice:function(y,x){var g=e(this),v=i(g),w=r(y,v),b=arguments.length,_,E,N,S,O,C;for(b===0?_=E=0:b===1?(_=0,E=v-w):(_=b-2,E=p(f(n(x),0),v-w)),a(v+_-E),N=o(g,E),S=0;S<E;S++)O=w+S,O in g&&l(N,S,g[O]);if(N.length=E,_<E){for(S=w;S<v-E;S++)O=S+E,C=S+_,O in g?g[C]=g[O]:c(g,C);for(S=v;S>v-E+_;S--)c(g,S-1)}else if(_>E)for(S=v-E;S>w;S--)O=S+E-1,C=S+_-1,O in g?g[C]=g[O]:c(g,C);for(S=0;S<_;S++)g[S+w]=arguments[S+2];return s(g,v-E+_),N}}),fq}var q0,gq;function Wle(){if(gq)return q0;gq=1,Ule();var t=dn();return q0=t("Array","splice"),q0}var A0,yq;function Hle(){if(yq)return A0;yq=1;var t=ur(),e=Wle(),r=Array.prototype;return A0=function(n){var i=n.splice;return n===r||t(r,n)&&i===r.splice?e:i},A0}var F0,bq;function Vle(){if(bq)return F0;bq=1;var t=Hle();return F0=t,F0}var L0,xq;function Kle(){return xq||(xq=1,L0=Vle()),L0}var Gle=Kle(),hG=Le(Gle),wq={},B0,_q;function Yle(){if(_q)return B0;_q=1;var t=Gt(),e=ot(),r=cn(),n=et(),i=dm(),s=pm(),a=uP(),o=mi(),l=am(),c=Object.assign,d=Object.defineProperty,h=e([].concat);return B0=!c||n(function(){if(t&&c({b:1},c(d({},"a",{enumerable:!0,get:function(){d(this,"b",{value:3,enumerable:!1})}}),{b:2})).b!==1)return!0;var f={},p={},m=Symbol("assign detection"),y="abcdefghijklmnopqrst";return f[m]=7,y.split("").forEach(function(x){p[x]=x}),c({},f)[m]!==7||i(c({},p)).join("")!==y})?function(p,m){for(var y=o(p),x=arguments.length,g=1,v=s.f,w=a.f;x>g;)for(var b=l(arguments[g++]),_=v?h(i(b),v(b)):i(b),E=_.length,N=0,S;E>N;)S=_[N++],(!t||r(w,b,S))&&(y[S]=b[S]);return y}:c,B0}var Sq;function Qle(){if(Sq)return wq;Sq=1;var t=Te(),e=Yle();return t({target:"Object",stat:!0,arity:2,forced:Object.assign!==e},{assign:e}),wq}var z0,Eq;function Xle(){if(Eq)return z0;Eq=1,Qle();var t=rr();return z0=t.Object.assign,z0}var U0,Nq;function Jle(){if(Nq)return U0;Nq=1;var t=Xle();return U0=t,U0}var W0,Oq;function Zle(){return Oq||(Oq=1,W0=Jle()),W0}var eue=Zle(),tue=Le(eue),H0,Cq;function rue(){if(Cq)return H0;Cq=1,HK();var t=dn();return H0=t("Array","concat"),H0}var V0,Pq;function nue(){if(Pq)return V0;Pq=1;var t=ur(),e=rue(),r=Array.prototype;return V0=function(n){var i=n.concat;return n===r||t(r,n)&&i===r.concat?e:i},V0}var K0,Tq;function iue(){if(Tq)return K0;Tq=1;var t=nue();return K0=t,K0}var G0,jq;function sue(){return jq||(jq=1,G0=iue()),G0}var aue=sue(),oue=Le(aue),Iq={},Rq;function lue(){if(Rq)return Iq;Rq=1;var t=Te(),e=Gt(),r=sh();return t({target:"Object",stat:!0,sham:!e},{create:r}),Iq}var Y0,$q;function uue(){if($q)return Y0;$q=1,lue();var t=rr(),e=t.Object;return Y0=function(n,i){return e.create(n,i)},Y0}var Q0,kq;function cue(){if(kq)return Q0;kq=1;var t=uue();return Q0=t,Q0}var X0,Dq;function due(){return Dq||(Dq=1,X0=cue()),X0}var hue=due(),fue=Le(hue),Mq={},J0,qq;function pue(){if(qq)return J0;qq=1;var t=Lu(),e=Oa(),r=Ao(),n=RangeError;return J0=function(s){var a=e(r(this)),o="",l=t(s);if(l<0||l===1/0)throw new n("Wrong number of repetitions");for(;l>0;(l>>>=1)&&(a+=a))l&1&&(o+=a);return o},J0}var Z0,Aq;function mue(){if(Aq)return Z0;Aq=1;var t=ot(),e=zK(),r=Oa(),n=pue(),i=Ao(),s=t(n),a=t("".slice),o=Math.ceil,l=function(c){return function(d,h,f){var p=r(i(d)),m=e(h),y=p.length,x=f===void 0?" ":r(f),g,v;return m<=y||x===""?p:(g=m-y,v=s(x,o(g/x.length)),v.length>g&&(v=a(v,0,g)),c?p+v:v+p)}};return Z0={start:l(!1),end:l(!0)},Z0}var eb,Fq;function vue(){if(Fq)return eb;Fq=1;var t=ot(),e=et(),r=mue().start,n=RangeError,i=isFinite,s=Math.abs,a=Date.prototype,o=a.toISOString,l=t(a.getTime),c=t(a.getUTCDate),d=t(a.getUTCFullYear),h=t(a.getUTCHours),f=t(a.getUTCMilliseconds),p=t(a.getUTCMinutes),m=t(a.getUTCMonth),y=t(a.getUTCSeconds);return eb=e(function(){return o.call(new Date(-5e13-1))!=="0385-07-25T07:06:39.999Z"})||!e(function(){o.call(new Date(NaN))})?function(){if(!i(l(this)))throw new n("Invalid time value");var g=this,v=d(g),w=f(g),b=v<0?"-":v>9999?"+":"";return b+r(s(v),b?6:4,0)+"-"+r(m(g)+1,2,0)+"-"+r(c(g),2,0)+"T"+r(h(g),2,0)+":"+r(p(g),2,0)+":"+r(y(g),2,0)+"."+r(w,3,0)+"Z"}:o,eb}var Lq;function gue(){if(Lq)return Mq;Lq=1;var t=Te(),e=cn(),r=mi(),n=qK(),i=vue(),s=_s(),a=et(),o=a(function(){return new Date(NaN).toJSON()!==null||e(Date.prototype.toJSON,{toISOString:function(){return 1}})!==1});return t({target:"Date",proto:!0,forced:o},{toJSON:function(c){var d=r(this),h=n(d,"number");return typeof h=="number"&&!isFinite(h)?null:!("toISOString"in d)&&s(d)==="Date"?e(i,d):d.toISOString()}}),Mq}var tb,Bq;function yue(){if(Bq)return tb;Bq=1,gue(),QK();var t=rr(),e=sm();return t.JSON||(t.JSON={stringify:JSON.stringify}),tb=function(n,i,s){return e(t.JSON.stringify,null,arguments)},tb}var rb,zq;function bue(){if(zq)return rb;zq=1;var t=yue();return rb=t,rb}var nb,Uq;function xue(){return Uq||(Uq=1,nb=bue()),nb}var wue=xue(),_ue=Le(wue),Wq={},Hq={},ib,Vq;function Sue(){if(Vq)return ib;Vq=1;var t=TypeError;return ib=function(e,r){if(e<r)throw new t("Not enough arguments");return e},ib}var sb,Kq;function fG(){if(Kq)return sb;Kq=1;var t=Kt(),e=sm(),r=lr(),n=uG(),i=ku(),s=Bu(),a=Sue(),o=t.Function,l=/MSIE .\./.test(i)||n==="BUN"&&function(){var c=t.Bun.version.split(".");return c.length<3||c[0]==="0"&&(c[1]<3||c[1]==="3"&&c[2]==="0")}();return sb=function(c,d){var h=d?2:1;return l?function(f,p){var m=a(arguments.length,1)>h,y=r(f)?f:o(f),x=m?s(arguments,h):[],g=m?function(){e(y,this,x)}:y;return d?c(g,p):c(g)}:c},sb}var Gq;function Eue(){if(Gq)return Hq;Gq=1;var t=Te(),e=Kt(),r=fG(),n=r(e.setInterval,!0);return t({global:!0,bind:!0,forced:e.setInterval!==n},{setInterval:n}),Hq}var Yq={},Qq;function Nue(){if(Qq)return Yq;Qq=1;var t=Te(),e=Kt(),r=fG(),n=r(e.setTimeout,!0);return t({global:!0,bind:!0,forced:e.setTimeout!==n},{setTimeout:n}),Yq}var Xq;function Oue(){return Xq||(Xq=1,Eue(),Nue()),Wq}var ab,Jq;function Cue(){if(Jq)return ab;Jq=1,Oue();var t=rr();return ab=t.setTimeout,ab}var ob,Zq;function Pue(){return Zq||(Zq=1,ob=Cue()),ob}var Tue=Pue(),jue=Le(Tue),lb={exports:{}},eA;function Iue(){return eA||(eA=1,function(t){function e(n){if(n)return r(n);this._callbacks=new Map}function r(n){return Object.assign(n,e.prototype),n._callbacks=new Map,n}e.prototype.on=function(n,i){const s=this._callbacks.get(n)??[];return s.push(i),this._callbacks.set(n,s),this},e.prototype.once=function(n,i){const s=(...a)=>{this.off(n,s),i.apply(this,a)};return s.fn=i,this.on(n,s),this},e.prototype.off=function(n,i){if(n===void 0&&i===void 0)return this._callbacks.clear(),this;if(i===void 0)return this._callbacks.delete(n),this;const s=this._callbacks.get(n);if(s){for(const[a,o]of s.entries())if(o===i||o.fn===i){s.splice(a,1);break}s.length===0?this._callbacks.delete(n):this._callbacks.set(n,s)}return this},e.prototype.emit=function(n,...i){const s=this._callbacks.get(n);if(s){const a=[...s];for(const o of a)o.apply(this,i)}return this},e.prototype.listeners=function(n){return this._callbacks.get(n)??[]},e.prototype.listenerCount=function(n){if(n)return this.listeners(n).length;let i=0;for(const s of this._callbacks.values())i+=s.length;return i},e.prototype.hasListeners=function(n){return this.listenerCount(n)>0},e.prototype.addEventListener=e.prototype.on,e.prototype.removeListener=e.prototype.off,e.prototype.removeEventListener=e.prototype.off,e.prototype.removeAllListeners=e.prototype.off,t.exports=e}(lb)),lb.exports}var Rue=Iue(),$ue=Le(Rue);/*! Hammer.JS - v2.0.17-rc - 2019-12-16
 * http://naver.github.io/egjs
 *
 * Forked By Naver egjs
 * Copyright (c) hammerjs
 * Licensed under the MIT license */function hi(){return hi=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},hi.apply(this,arguments)}function Hn(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}function af(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}var EO;typeof Object.assign!="function"?EO=function(e){if(e==null)throw new TypeError("Cannot convert undefined or null to object");for(var r=Object(e),n=1;n<arguments.length;n++){var i=arguments[n];if(i!=null)for(var s in i)i.hasOwnProperty(s)&&(r[s]=i[s])}return r}:EO=Object.assign;var Po=EO,tA=["","webkit","Moz","MS","ms","o"],kue=typeof document>"u"?{style:{}}:document.createElement("div"),Due="function",Nl=Math.round,To=Math.abs,_P=Date.now;function ym(t,e){for(var r,n,i=e[0].toUpperCase()+e.slice(1),s=0;s<tA.length;){if(r=tA[s],n=r?r+i:e,n in t)return n;s++}}var rs;typeof window>"u"?rs={}:rs=window;var pG=ym(kue.style,"touchAction"),mG=pG!==void 0;function Mue(){if(!mG)return!1;var t={},e=rs.CSS&&rs.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach(function(r){return t[r]=e?rs.CSS.supports("touch-action",r):!0}),t}var vG="compute",gG="auto",NO="manipulation",co="none",wd="pan-x",_d="pan-y",of=Mue(),que=/mobile|tablet|ip(ad|hone|od)|android/i,yG="ontouchstart"in rs,Aue=ym(rs,"PointerEvent")!==void 0,Fue=yG&&que.test(navigator.userAgent),lh="touch",Lue="pen",SP="mouse",Bue="kinect",zue=25,zr=1,Bo=2,Wt=4,on=8,bp=1,uh=2,ch=4,dh=8,mu=16,ki=uh|ch,ho=dh|mu,bG=ki|ho,xG=["x","y"],xp=["clientX","clientY"];function ns(t,e,r){var n;if(t)if(t.forEach)t.forEach(e,r);else if(t.length!==void 0)for(n=0;n<t.length;)e.call(r,t[n],n,t),n++;else for(n in t)t.hasOwnProperty(n)&&e.call(r,t[n],n,t)}function bm(t,e){return typeof t===Due?t.apply(e&&e[0]||void 0,e):t}function Va(t,e){return t.indexOf(e)>-1}function Uue(t){if(Va(t,co))return co;var e=Va(t,wd),r=Va(t,_d);return e&&r?co:e||r?e?wd:_d:Va(t,NO)?NO:gG}var wG=function(){function t(r,n){this.manager=r,this.set(n)}var e=t.prototype;return e.set=function(n){n===vG&&(n=this.compute()),mG&&this.manager.element.style&&of[n]&&(this.manager.element.style[pG]=n),this.actions=n.toLowerCase().trim()},e.update=function(){this.set(this.manager.options.touchAction)},e.compute=function(){var n=[];return ns(this.manager.recognizers,function(i){bm(i.options.enable,[i])&&(n=n.concat(i.getTouchAction()))}),Uue(n.join(" "))},e.preventDefaults=function(n){var i=n.srcEvent,s=n.offsetDirection;if(this.manager.session.prevented){i.preventDefault();return}var a=this.actions,o=Va(a,co)&&!of[co],l=Va(a,_d)&&!of[_d],c=Va(a,wd)&&!of[wd];if(o){var d=n.pointers.length===1,h=n.distance<2,f=n.deltaTime<250;if(d&&h&&f)return}if(!(c&&l)&&(o||l&&s&ki||c&&s&ho))return this.preventSrc(i)},e.preventSrc=function(n){this.manager.session.prevented=!0,n.preventDefault()},t}();function EP(t,e){for(;t;){if(t===e)return!0;t=t.parentNode}return!1}function _G(t){var e=t.length;if(e===1)return{x:Nl(t[0].clientX),y:Nl(t[0].clientY)};for(var r=0,n=0,i=0;i<e;)r+=t[i].clientX,n+=t[i].clientY,i++;return{x:Nl(r/e),y:Nl(n/e)}}function rA(t){for(var e=[],r=0;r<t.pointers.length;)e[r]={clientX:Nl(t.pointers[r].clientX),clientY:Nl(t.pointers[r].clientY)},r++;return{timeStamp:_P(),pointers:e,center:_G(e),deltaX:t.deltaX,deltaY:t.deltaY}}function wp(t,e,r){r||(r=xG);var n=e[r[0]]-t[r[0]],i=e[r[1]]-t[r[1]];return Math.sqrt(n*n+i*i)}function OO(t,e,r){r||(r=xG);var n=e[r[0]]-t[r[0]],i=e[r[1]]-t[r[1]];return Math.atan2(i,n)*180/Math.PI}function SG(t,e){return t===e?bp:To(t)>=To(e)?t<0?uh:ch:e<0?dh:mu}function Wue(t,e){var r=e.center,n=t.offsetDelta||{},i=t.prevDelta||{},s=t.prevInput||{};(e.eventType===zr||s.eventType===Wt)&&(i=t.prevDelta={x:s.deltaX||0,y:s.deltaY||0},n=t.offsetDelta={x:r.x,y:r.y}),e.deltaX=i.x+(r.x-n.x),e.deltaY=i.y+(r.y-n.y)}function EG(t,e,r){return{x:e/t||0,y:r/t||0}}function Hue(t,e){return wp(e[0],e[1],xp)/wp(t[0],t[1],xp)}function Vue(t,e){return OO(e[1],e[0],xp)+OO(t[1],t[0],xp)}function Kue(t,e){var r=t.lastInterval||e,n=e.timeStamp-r.timeStamp,i,s,a,o;if(e.eventType!==on&&(n>zue||r.velocity===void 0)){var l=e.deltaX-r.deltaX,c=e.deltaY-r.deltaY,d=EG(n,l,c);s=d.x,a=d.y,i=To(d.x)>To(d.y)?d.x:d.y,o=SG(l,c),t.lastInterval=e}else i=r.velocity,s=r.velocityX,a=r.velocityY,o=r.direction;e.velocity=i,e.velocityX=s,e.velocityY=a,e.direction=o}function Gue(t,e){var r=t.session,n=e.pointers,i=n.length;r.firstInput||(r.firstInput=rA(e)),i>1&&!r.firstMultiple?r.firstMultiple=rA(e):i===1&&(r.firstMultiple=!1);var s=r.firstInput,a=r.firstMultiple,o=a?a.center:s.center,l=e.center=_G(n);e.timeStamp=_P(),e.deltaTime=e.timeStamp-s.timeStamp,e.angle=OO(o,l),e.distance=wp(o,l),Wue(r,e),e.offsetDirection=SG(e.deltaX,e.deltaY);var c=EG(e.deltaTime,e.deltaX,e.deltaY);e.overallVelocityX=c.x,e.overallVelocityY=c.y,e.overallVelocity=To(c.x)>To(c.y)?c.x:c.y,e.scale=a?Hue(a.pointers,n):1,e.rotation=a?Vue(a.pointers,n):0,e.maxPointers=r.prevInput?e.pointers.length>r.prevInput.maxPointers?e.pointers.length:r.prevInput.maxPointers:e.pointers.length,Kue(r,e);var d=t.element,h=e.srcEvent,f;h.composedPath?f=h.composedPath()[0]:h.path?f=h.path[0]:f=h.target,EP(f,d)&&(d=f),e.target=d}function Yue(t,e,r){var n=r.pointers.length,i=r.changedPointers.length,s=e&zr&&n-i===0,a=e&(Wt|on)&&n-i===0;r.isFirst=!!s,r.isFinal=!!a,s&&(t.session={}),r.eventType=e,Gue(t,r),t.emit("hammer.input",r),t.recognize(r),t.session.prevInput=r}function Sd(t){return t.trim().split(/\s+/g)}function Vc(t,e,r){ns(Sd(e),function(n){t.addEventListener(n,r,!1)})}function Kc(t,e,r){ns(Sd(e),function(n){t.removeEventListener(n,r,!1)})}function nA(t){var e=t.ownerDocument||t;return e.defaultView||e.parentWindow||window}var Wu=function(){function t(r,n){var i=this;this.manager=r,this.callback=n,this.element=r.element,this.target=r.options.inputTarget,this.domHandler=function(s){bm(r.options.enable,[r])&&i.handler(s)},this.init()}var e=t.prototype;return e.handler=function(){},e.init=function(){this.evEl&&Vc(this.element,this.evEl,this.domHandler),this.evTarget&&Vc(this.target,this.evTarget,this.domHandler),this.evWin&&Vc(nA(this.element),this.evWin,this.domHandler)},e.destroy=function(){this.evEl&&Kc(this.element,this.evEl,this.domHandler),this.evTarget&&Kc(this.target,this.evTarget,this.domHandler),this.evWin&&Kc(nA(this.element),this.evWin,this.domHandler)},t}();function jo(t,e,r){if(t.indexOf&&!r)return t.indexOf(e);for(var n=0;n<t.length;){if(r&&t[n][r]==e||!r&&t[n]===e)return n;n++}return-1}var Que={pointerdown:zr,pointermove:Bo,pointerup:Wt,pointercancel:on,pointerout:on},Xue={2:lh,3:Lue,4:SP,5:Bue},NG="pointerdown",OG="pointermove pointerup pointercancel";rs.MSPointerEvent&&!rs.PointerEvent&&(NG="MSPointerDown",OG="MSPointerMove MSPointerUp MSPointerCancel");var CG=function(t){Hn(e,t);function e(){var n,i=e.prototype;return i.evEl=NG,i.evWin=OG,n=t.apply(this,arguments)||this,n.store=n.manager.session.pointerEvents=[],n}var r=e.prototype;return r.handler=function(i){var s=this.store,a=!1,o=i.type.toLowerCase().replace("ms",""),l=Que[o],c=Xue[i.pointerType]||i.pointerType,d=c===lh,h=jo(s,i.pointerId,"pointerId");l&zr&&(i.button===0||d)?h<0&&(s.push(i),h=s.length-1):l&(Wt|on)&&(a=!0),!(h<0)&&(s[h]=i,this.callback(this.manager,l,{pointers:s,changedPointers:[i],pointerType:c,srcEvent:i}),a&&s.splice(h,1))},e}(Wu);function Ed(t){return Array.prototype.slice.call(t,0)}function NP(t,e,r){for(var n=[],i=[],s=0;s<t.length;){var a=e?t[s][e]:t[s];jo(i,a)<0&&n.push(t[s]),i[s]=a,s++}return r&&(e?n=n.sort(function(o,l){return o[e]>l[e]}):n=n.sort()),n}var Jue={touchstart:zr,touchmove:Bo,touchend:Wt,touchcancel:on},Zue="touchstart touchmove touchend touchcancel",OP=function(t){Hn(e,t);function e(){var n;return e.prototype.evTarget=Zue,n=t.apply(this,arguments)||this,n.targetIds={},n}var r=e.prototype;return r.handler=function(i){var s=Jue[i.type],a=ece.call(this,i,s);a&&this.callback(this.manager,s,{pointers:a[0],changedPointers:a[1],pointerType:lh,srcEvent:i})},e}(Wu);function ece(t,e){var r=Ed(t.touches),n=this.targetIds;if(e&(zr|Bo)&&r.length===1)return n[r[0].identifier]=!0,[r,r];var i,s,a=Ed(t.changedTouches),o=[],l=this.target;if(s=r.filter(function(c){return EP(c.target,l)}),e===zr)for(i=0;i<s.length;)n[s[i].identifier]=!0,i++;for(i=0;i<a.length;)n[a[i].identifier]&&o.push(a[i]),e&(Wt|on)&&delete n[a[i].identifier],i++;if(o.length)return[NP(s.concat(o),"identifier",!0),o]}var tce={mousedown:zr,mousemove:Bo,mouseup:Wt},rce="mousedown",nce="mousemove mouseup",CP=function(t){Hn(e,t);function e(){var n,i=e.prototype;return i.evEl=rce,i.evWin=nce,n=t.apply(this,arguments)||this,n.pressed=!1,n}var r=e.prototype;return r.handler=function(i){var s=tce[i.type];s&zr&&i.button===0&&(this.pressed=!0),s&Bo&&i.which!==1&&(s=Wt),this.pressed&&(s&Wt&&(this.pressed=!1),this.callback(this.manager,s,{pointers:[i],changedPointers:[i],pointerType:SP,srcEvent:i}))},e}(Wu),ice=2500,iA=25;function sA(t){var e=t.changedPointers,r=e[0];if(r.identifier===this.primaryTouch){var n={x:r.clientX,y:r.clientY},i=this.lastTouches;this.lastTouches.push(n);var s=function(){var o=i.indexOf(n);o>-1&&i.splice(o,1)};setTimeout(s,ice)}}function sce(t,e){t&zr?(this.primaryTouch=e.changedPointers[0].identifier,sA.call(this,e)):t&(Wt|on)&&sA.call(this,e)}function ace(t){for(var e=t.srcEvent.clientX,r=t.srcEvent.clientY,n=0;n<this.lastTouches.length;n++){var i=this.lastTouches[n],s=Math.abs(e-i.x),a=Math.abs(r-i.y);if(s<=iA&&a<=iA)return!0}return!1}var PG=function(){var t=function(e){Hn(r,e);function r(i,s){var a;return a=e.call(this,i,s)||this,a.handler=function(o,l,c){var d=c.pointerType===lh,h=c.pointerType===SP;if(!(h&&c.sourceCapabilities&&c.sourceCapabilities.firesTouchEvents)){if(d)sce.call(af(af(a)),l,c);else if(h&&ace.call(af(af(a)),c))return;a.callback(o,l,c)}},a.touch=new OP(a.manager,a.handler),a.mouse=new CP(a.manager,a.handler),a.primaryTouch=null,a.lastTouches=[],a}var n=r.prototype;return n.destroy=function(){this.touch.destroy(),this.mouse.destroy()},r}(Wu);return t}();function oce(t){var e,r=t.options.inputClass;return r?e=r:Aue?e=CG:Fue?e=OP:yG?e=PG:e=CP,new e(t,Yue)}function Ol(t,e,r){return Array.isArray(t)?(ns(t,r[e],r),!0):!1}var If=1,Fn=2,vu=4,ua=8,is=ua,Nd=16,Pi=32,lce=1;function uce(){return lce++}function lf(t,e){var r=e.manager;return r?r.get(t):t}function aA(t){return t&Nd?"cancel":t&ua?"end":t&vu?"move":t&Fn?"start":""}var hh=function(){function t(r){r===void 0&&(r={}),this.options=hi({enable:!0},r),this.id=uce(),this.manager=null,this.state=If,this.simultaneous={},this.requireFail=[]}var e=t.prototype;return e.set=function(n){return Po(this.options,n),this.manager&&this.manager.touchAction.update(),this},e.recognizeWith=function(n){if(Ol(n,"recognizeWith",this))return this;var i=this.simultaneous;return n=lf(n,this),i[n.id]||(i[n.id]=n,n.recognizeWith(this)),this},e.dropRecognizeWith=function(n){return Ol(n,"dropRecognizeWith",this)?this:(n=lf(n,this),delete this.simultaneous[n.id],this)},e.requireFailure=function(n){if(Ol(n,"requireFailure",this))return this;var i=this.requireFail;return n=lf(n,this),jo(i,n)===-1&&(i.push(n),n.requireFailure(this)),this},e.dropRequireFailure=function(n){if(Ol(n,"dropRequireFailure",this))return this;n=lf(n,this);var i=jo(this.requireFail,n);return i>-1&&this.requireFail.splice(i,1),this},e.hasRequireFailures=function(){return this.requireFail.length>0},e.canRecognizeWith=function(n){return!!this.simultaneous[n.id]},e.emit=function(n){var i=this,s=this.state;function a(o){i.manager.emit(o,n)}s<ua&&a(i.options.event+aA(s)),a(i.options.event),n.additionalEvent&&a(n.additionalEvent),s>=ua&&a(i.options.event+aA(s))},e.tryEmit=function(n){if(this.canEmit())return this.emit(n);this.state=Pi},e.canEmit=function(){for(var n=0;n<this.requireFail.length;){if(!(this.requireFail[n].state&(Pi|If)))return!1;n++}return!0},e.recognize=function(n){var i=Po({},n);if(!bm(this.options.enable,[this,i])){this.reset(),this.state=Pi;return}this.state&(is|Nd|Pi)&&(this.state=If),this.state=this.process(i),this.state&(Fn|vu|ua|Nd)&&this.tryEmit(i)},e.process=function(n){},e.getTouchAction=function(){},e.reset=function(){},t}(),CO=function(t){Hn(e,t);function e(n){var i;return n===void 0&&(n={}),i=t.call(this,hi({event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},n))||this,i.pTime=!1,i.pCenter=!1,i._timer=null,i._input=null,i.count=0,i}var r=e.prototype;return r.getTouchAction=function(){return[NO]},r.process=function(i){var s=this,a=this.options,o=i.pointers.length===a.pointers,l=i.distance<a.threshold,c=i.deltaTime<a.time;if(this.reset(),i.eventType&zr&&this.count===0)return this.failTimeout();if(l&&c&&o){if(i.eventType!==Wt)return this.failTimeout();var d=this.pTime?i.timeStamp-this.pTime<a.interval:!0,h=!this.pCenter||wp(this.pCenter,i.center)<a.posThreshold;this.pTime=i.timeStamp,this.pCenter=i.center,!h||!d?this.count=1:this.count+=1,this._input=i;var f=this.count%a.taps;if(f===0)return this.hasRequireFailures()?(this._timer=setTimeout(function(){s.state=is,s.tryEmit()},a.interval),Fn):is}return Pi},r.failTimeout=function(){var i=this;return this._timer=setTimeout(function(){i.state=Pi},this.options.interval),Pi},r.reset=function(){clearTimeout(this._timer)},r.emit=function(){this.state===is&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))},e}(hh),gu=function(t){Hn(e,t);function e(n){return n===void 0&&(n={}),t.call(this,hi({pointers:1},n))||this}var r=e.prototype;return r.attrTest=function(i){var s=this.options.pointers;return s===0||i.pointers.length===s},r.process=function(i){var s=this.state,a=i.eventType,o=s&(Fn|vu),l=this.attrTest(i);return o&&(a&on||!l)?s|Nd:o||l?a&Wt?s|ua:s&Fn?s|vu:Fn:Pi},e}(hh);function TG(t){return t===mu?"down":t===dh?"up":t===uh?"left":t===ch?"right":""}var PP=function(t){Hn(e,t);function e(n){var i;return n===void 0&&(n={}),i=t.call(this,hi({event:"pan",threshold:10,pointers:1,direction:bG},n))||this,i.pX=null,i.pY=null,i}var r=e.prototype;return r.getTouchAction=function(){var i=this.options.direction,s=[];return i&ki&&s.push(_d),i&ho&&s.push(wd),s},r.directionTest=function(i){var s=this.options,a=!0,o=i.distance,l=i.direction,c=i.deltaX,d=i.deltaY;return l&s.direction||(s.direction&ki?(l=c===0?bp:c<0?uh:ch,a=c!==this.pX,o=Math.abs(i.deltaX)):(l=d===0?bp:d<0?dh:mu,a=d!==this.pY,o=Math.abs(i.deltaY))),i.direction=l,a&&o>s.threshold&&l&s.direction},r.attrTest=function(i){return gu.prototype.attrTest.call(this,i)&&(this.state&Fn||!(this.state&Fn)&&this.directionTest(i))},r.emit=function(i){this.pX=i.deltaX,this.pY=i.deltaY;var s=TG(i.direction);s&&(i.additionalEvent=this.options.event+s),t.prototype.emit.call(this,i)},e}(gu),jG=function(t){Hn(e,t);function e(n){return n===void 0&&(n={}),t.call(this,hi({event:"swipe",threshold:10,velocity:.3,direction:ki|ho,pointers:1},n))||this}var r=e.prototype;return r.getTouchAction=function(){return PP.prototype.getTouchAction.call(this)},r.attrTest=function(i){var s=this.options.direction,a;return s&(ki|ho)?a=i.overallVelocity:s&ki?a=i.overallVelocityX:s&ho&&(a=i.overallVelocityY),t.prototype.attrTest.call(this,i)&&s&i.offsetDirection&&i.distance>this.options.threshold&&i.maxPointers===this.options.pointers&&To(a)>this.options.velocity&&i.eventType&Wt},r.emit=function(i){var s=TG(i.offsetDirection);s&&this.manager.emit(this.options.event+s,i),this.manager.emit(this.options.event,i)},e}(gu),IG=function(t){Hn(e,t);function e(n){return n===void 0&&(n={}),t.call(this,hi({event:"pinch",threshold:0,pointers:2},n))||this}var r=e.prototype;return r.getTouchAction=function(){return[co]},r.attrTest=function(i){return t.prototype.attrTest.call(this,i)&&(Math.abs(i.scale-1)>this.options.threshold||this.state&Fn)},r.emit=function(i){if(i.scale!==1){var s=i.scale<1?"in":"out";i.additionalEvent=this.options.event+s}t.prototype.emit.call(this,i)},e}(gu),RG=function(t){Hn(e,t);function e(n){return n===void 0&&(n={}),t.call(this,hi({event:"rotate",threshold:0,pointers:2},n))||this}var r=e.prototype;return r.getTouchAction=function(){return[co]},r.attrTest=function(i){return t.prototype.attrTest.call(this,i)&&(Math.abs(i.rotation)>this.options.threshold||this.state&Fn)},e}(gu),$G=function(t){Hn(e,t);function e(n){var i;return n===void 0&&(n={}),i=t.call(this,hi({event:"press",pointers:1,time:251,threshold:9},n))||this,i._timer=null,i._input=null,i}var r=e.prototype;return r.getTouchAction=function(){return[gG]},r.process=function(i){var s=this,a=this.options,o=i.pointers.length===a.pointers,l=i.distance<a.threshold,c=i.deltaTime>a.time;if(this._input=i,!l||!o||i.eventType&(Wt|on)&&!c)this.reset();else if(i.eventType&zr)this.reset(),this._timer=setTimeout(function(){s.state=is,s.tryEmit()},a.time);else if(i.eventType&Wt)return is;return Pi},r.reset=function(){clearTimeout(this._timer)},r.emit=function(i){this.state===is&&(i&&i.eventType&Wt?this.manager.emit(this.options.event+"up",i):(this._input.timeStamp=_P(),this.manager.emit(this.options.event,this._input)))},e}(hh),kG={domEvents:!1,touchAction:vG,enable:!0,inputTarget:null,inputClass:null,cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}},oA=[[RG,{enable:!1}],[IG,{enable:!1},["rotate"]],[jG,{direction:ki}],[PP,{direction:ki},["swipe"]],[CO],[CO,{event:"doubletap",taps:2},["tap"]],[$G]],cce=1,lA=2;function uA(t,e){var r=t.element;if(r.style){var n;ns(t.options.cssProps,function(i,s){n=ym(r.style,s),e?(t.oldCssProps[n]=r.style[n],r.style[n]=i):r.style[n]=t.oldCssProps[n]||""}),e||(t.oldCssProps={})}}function dce(t,e){var r=document.createEvent("Event");r.initEvent(t,!0,!0),r.gesture=e,e.target.dispatchEvent(r)}var cA=function(){function t(r,n){var i=this;this.options=Po({},kG,n||{}),this.options.inputTarget=this.options.inputTarget||r,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=r,this.input=oce(this),this.touchAction=new wG(this,this.options.touchAction),uA(this,!0),ns(this.options.recognizers,function(s){var a=i.add(new s[0](s[1]));s[2]&&a.recognizeWith(s[2]),s[3]&&a.requireFailure(s[3])},this)}var e=t.prototype;return e.set=function(n){return Po(this.options,n),n.touchAction&&this.touchAction.update(),n.inputTarget&&(this.input.destroy(),this.input.target=n.inputTarget,this.input.init()),this},e.stop=function(n){this.session.stopped=n?lA:cce},e.recognize=function(n){var i=this.session;if(!i.stopped){this.touchAction.preventDefaults(n);var s,a=this.recognizers,o=i.curRecognizer;(!o||o&&o.state&is)&&(i.curRecognizer=null,o=null);for(var l=0;l<a.length;)s=a[l],i.stopped!==lA&&(!o||s===o||s.canRecognizeWith(o))?s.recognize(n):s.reset(),!o&&s.state&(Fn|vu|ua)&&(i.curRecognizer=s,o=s),l++}},e.get=function(n){if(n instanceof hh)return n;for(var i=this.recognizers,s=0;s<i.length;s++)if(i[s].options.event===n)return i[s];return null},e.add=function(n){if(Ol(n,"add",this))return this;var i=this.get(n.options.event);return i&&this.remove(i),this.recognizers.push(n),n.manager=this,this.touchAction.update(),n},e.remove=function(n){if(Ol(n,"remove",this))return this;var i=this.get(n);if(n){var s=this.recognizers,a=jo(s,i);a!==-1&&(s.splice(a,1),this.touchAction.update())}return this},e.on=function(n,i){if(n===void 0||i===void 0)return this;var s=this.handlers;return ns(Sd(n),function(a){s[a]=s[a]||[],s[a].push(i)}),this},e.off=function(n,i){if(n===void 0)return this;var s=this.handlers;return ns(Sd(n),function(a){i?s[a]&&s[a].splice(jo(s[a],i),1):delete s[a]}),this},e.emit=function(n,i){this.options.domEvents&&dce(n,i);var s=this.handlers[n]&&this.handlers[n].slice();if(!(!s||!s.length)){i.type=n,i.preventDefault=function(){i.srcEvent.preventDefault()};for(var a=0;a<s.length;)s[a](i),a++}},e.destroy=function(){this.element&&uA(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null},t}(),hce={touchstart:zr,touchmove:Bo,touchend:Wt,touchcancel:on},fce="touchstart",pce="touchstart touchmove touchend touchcancel",mce=function(t){Hn(e,t);function e(){var n,i=e.prototype;return i.evTarget=fce,i.evWin=pce,n=t.apply(this,arguments)||this,n.started=!1,n}var r=e.prototype;return r.handler=function(i){var s=hce[i.type];if(s===zr&&(this.started=!0),!!this.started){var a=vce.call(this,i,s);s&(Wt|on)&&a[0].length-a[1].length===0&&(this.started=!1),this.callback(this.manager,s,{pointers:a[0],changedPointers:a[1],pointerType:lh,srcEvent:i})}},e}(Wu);function vce(t,e){var r=Ed(t.touches),n=Ed(t.changedTouches);return e&(Wt|on)&&(r=NP(r.concat(n),"identifier",!0)),[r,n]}function DG(t,e,r){var n="DEPRECATED METHOD: "+e+`
`+r+` AT 
`;return function(){var i=new Error("get-stack-trace"),s=i&&i.stack?i.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",a=window.console&&(window.console.warn||window.console.log);return a&&a.call(window.console,n,s),t.apply(this,arguments)}}var MG=DG(function(t,e,r){for(var n=Object.keys(e),i=0;i<n.length;)(!r||r&&t[n[i]]===void 0)&&(t[n[i]]=e[n[i]]),i++;return t},"extend","Use `assign`."),gce=DG(function(t,e){return MG(t,e,!0)},"merge","Use `assign`.");function yce(t,e,r){var n=e.prototype,i;i=t.prototype=Object.create(n),i.constructor=t,i._super=n,r&&Po(i,r)}function dA(t,e){return function(){return t.apply(e,arguments)}}var bce=function(){var t=function(r,n){return n===void 0&&(n={}),new cA(r,hi({recognizers:oA.concat()},n))};return t.VERSION="2.0.17-rc",t.DIRECTION_ALL=bG,t.DIRECTION_DOWN=mu,t.DIRECTION_LEFT=uh,t.DIRECTION_RIGHT=ch,t.DIRECTION_UP=dh,t.DIRECTION_HORIZONTAL=ki,t.DIRECTION_VERTICAL=ho,t.DIRECTION_NONE=bp,t.DIRECTION_DOWN=mu,t.INPUT_START=zr,t.INPUT_MOVE=Bo,t.INPUT_END=Wt,t.INPUT_CANCEL=on,t.STATE_POSSIBLE=If,t.STATE_BEGAN=Fn,t.STATE_CHANGED=vu,t.STATE_ENDED=ua,t.STATE_RECOGNIZED=is,t.STATE_CANCELLED=Nd,t.STATE_FAILED=Pi,t.Manager=cA,t.Input=Wu,t.TouchAction=wG,t.TouchInput=OP,t.MouseInput=CP,t.PointerEventInput=CG,t.TouchMouseInput=PG,t.SingleTouchInput=mce,t.Recognizer=hh,t.AttrRecognizer=gu,t.Tap=CO,t.Pan=PP,t.Swipe=jG,t.Pinch=IG,t.Rotate=RG,t.Press=$G,t.on=Vc,t.off=Kc,t.each=ns,t.merge=gce,t.extend=MG,t.bindFn=dA,t.assign=Po,t.inherit=yce,t.bindFn=dA,t.prefixed=ym,t.toArray=Ed,t.inArray=jo,t.uniqueArray=NP,t.splitStr=Sd,t.boolOrFn=bm,t.hasParent=EP,t.addEventListeners=Vc,t.removeEventListeners=Kc,t.defaults=Po({},kG,{preset:oA}),t}();const qG=ile("DELETE");function xce(t){for(var e=arguments.length,r=new Array(e>1?e-1:0),n=1;n<e;n++)r[n-1]=arguments[n];return AG({},t,...r)}function AG(){const t=_p(...arguments);return LG(t),t}function _p(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];if(e.length<2)return e[0];if(e.length>2)return _p(AG(e[0],e[1]),...dle(e).call(e,2));const n=e[0],i=e[1];if(n instanceof Date&&i instanceof Date)return n.setTime(i.getTime()),n;for(const s of gle(i))Object.prototype.propertyIsEnumerable.call(i,s)&&(i[s]===qG?delete n[s]:n[s]!==null&&i[s]!==null&&typeof n[s]=="object"&&typeof i[s]=="object"&&!wi(n[s])&&!wi(i[s])?n[s]=_p(n[s],i[s]):n[s]=FG(i[s]));return n}function FG(t){return wi(t)?ni(t).call(t,e=>FG(e)):typeof t=="object"&&t!==null?t instanceof Date?new Date(t.getTime()):_p({},t):t}function LG(t){for(const e of wP(t))t[e]===qG?delete t[e]:typeof t[e]=="object"&&t[e]!==null&&LG(t[e])}function wce(){const t=()=>{};return{on:t,off:t,destroy:t,emit:t,get(){return{set:t}}}}const _ce=typeof window<"u"?window.Hammer||bce:function(){return wce()};function Ji(t){var e;this._cleanupQueue=[],this.active=!1,this._dom={container:t,overlay:document.createElement("div")},this._dom.overlay.classList.add("vis-overlay"),this._dom.container.appendChild(this._dom.overlay),this._cleanupQueue.push(()=>{this._dom.overlay.parentNode.removeChild(this._dom.overlay)});const r=_ce(this._dom.overlay);r.on("tap",lG(e=this._onTapOverlay).call(e,this)),this._cleanupQueue.push(()=>{r.destroy()});const n=["tap","doubletap","press","pinch","pan","panstart","panmove","panend"];Co(n).call(n,i=>{r.on(i,s=>{s.srcEvent.stopPropagation()})}),document&&document.body&&(this._onClick=i=>{Sce(i.target,t)||this.deactivate()},document.body.addEventListener("click",this._onClick),this._cleanupQueue.push(()=>{document.body.removeEventListener("click",this._onClick)})),this._escListener=i=>{("key"in i?i.key==="Escape":i.keyCode===27)&&this.deactivate()}}$ue(Ji.prototype);Ji.current=null;Ji.prototype.destroy=function(){this.deactivate();for(const r of Ble(t=hG(e=this._cleanupQueue).call(e,0)).call(t)){var t,e;r()}};Ji.prototype.activate=function(){Ji.current&&Ji.current.deactivate(),Ji.current=this,this.active=!0,this._dom.overlay.style.display="none",this._dom.container.classList.add("vis-active"),this.emit("change"),this.emit("activate"),document.body.addEventListener("keydown",this._escListener)};Ji.prototype.deactivate=function(){this.active=!1,this._dom.overlay.style.display="block",this._dom.container.classList.remove("vis-active"),document.body.removeEventListener("keydown",this._escListener),this.emit("change"),this.emit("deactivate")};Ji.prototype._onTapOverlay=function(t){this.activate(),t.srcEvent.stopPropagation()};function Sce(t,e){for(;t;){if(t===e)return!0;t=t.parentNode}return!1}var ub,hA;function Ece(){if(hA)return ub;hA=1,XK();var t=rr();return ub=t.Object.getOwnPropertySymbols,ub}var cb,fA;function Nce(){if(fA)return cb;fA=1;var t=Ece();return cb=t,cb}var db,pA;function Oce(){return pA||(pA=1,db=Nce()),db}var Cce=Oce(),mA=Le(Cce),hb={exports:{}},vA={},gA;function Pce(){if(gA)return vA;gA=1;var t=Te(),e=et(),r=Mi(),n=lm().f,i=Gt(),s=!i||e(function(){n(1)});return t({target:"Object",stat:!0,forced:s,sham:!i},{getOwnPropertyDescriptor:function(o,l){return n(r(o),l)}}),vA}var yA;function Tce(){if(yA)return hb.exports;yA=1,Pce();var t=rr(),e=t.Object,r=hb.exports=function(i,s){return e.getOwnPropertyDescriptor(i,s)};return e.getOwnPropertyDescriptor.sham&&(r.sham=!0),hb.exports}var fb,bA;function jce(){if(bA)return fb;bA=1;var t=Tce();return fb=t,fb}var pb,xA;function Ice(){return xA||(xA=1,pb=jce()),pb}var Rce=Ice(),BG=Le(Rce),wA={},_A;function $ce(){if(_A)return wA;_A=1;var t=Te(),e=Gt(),r=cG(),n=Mi(),i=lm(),s=cm();return t({target:"Object",stat:!0,sham:!e},{getOwnPropertyDescriptors:function(o){for(var l=n(o),c=i.f,d=r(l),h={},f=0,p,m;d.length>f;)m=c(l,p=d[f++]),m!==void 0&&s(h,p,m);return h}}),wA}var mb,SA;function kce(){if(SA)return mb;SA=1,$ce();var t=rr();return mb=t.Object.getOwnPropertyDescriptors,mb}var vb,EA;function Dce(){if(EA)return vb;EA=1;var t=kce();return vb=t,vb}var gb,NA;function Mce(){return NA||(NA=1,gb=Dce()),gb}var qce=Mce(),OA=Le(qce),yb={exports:{}},CA={},PA;function Ace(){if(PA)return CA;PA=1;var t=Te(),e=Gt(),r=gP().f;return t({target:"Object",stat:!0,forced:Object.defineProperties!==r,sham:!e},{defineProperties:r}),CA}var TA;function Fce(){if(TA)return yb.exports;TA=1,Ace();var t=rr(),e=t.Object,r=yb.exports=function(i,s){return e.defineProperties(i,s)};return e.defineProperties.sham&&(r.sham=!0),yb.exports}var bb,jA;function Lce(){if(jA)return bb;jA=1;var t=Fce();return bb=t,bb}var xb,IA;function Bce(){return IA||(IA=1,xb=Lce()),xb}var zce=Bce(),Uce=Le(zce),wb,RA;function Wce(){return RA||(RA=1,wb=BK()),wb}var Hce=Wce(),Vce=Le(Hce),$A={},kA={},_b={exports:{}},Sb,DA;function Kce(){if(DA)return Sb;DA=1;var t=et();return Sb=t(function(){if(typeof ArrayBuffer=="function"){var e=new ArrayBuffer(8);Object.isExtensible(e)&&Object.defineProperty(e,"a",{value:8})}}),Sb}var Eb,MA;function Gce(){if(MA)return Eb;MA=1;var t=et(),e=Vr(),r=_s(),n=Kce(),i=Object.isExtensible,s=t(function(){});return Eb=s||n?function(o){return!e(o)||n&&r(o)==="ArrayBuffer"?!1:i?i(o):!0}:i,Eb}var Nb,qA;function Yce(){if(qA)return Nb;qA=1;var t=et();return Nb=!t(function(){return Object.isExtensible(Object.preventExtensions({}))}),Nb}var AA;function zG(){if(AA)return _b.exports;AA=1;var t=Te(),e=ot(),r=ih(),n=Vr(),i=cr(),s=Wn().f,a=fm(),o=KK(),l=Gce(),c=om(),d=Yce(),h=!1,f=c("meta"),p=0,m=function(b){s(b,f,{value:{objectID:"O"+p++,weakData:{}}})},y=function(b,_){if(!n(b))return typeof b=="symbol"?b:(typeof b=="string"?"S":"P")+b;if(!i(b,f)){if(!l(b))return"F";if(!_)return"E";m(b)}return b[f].objectID},x=function(b,_){if(!i(b,f)){if(!l(b))return!0;if(!_)return!1;m(b)}return b[f].weakData},g=function(b){return d&&h&&l(b)&&!i(b,f)&&m(b),b},v=function(){w.enable=function(){},h=!0;var b=a.f,_=e([].splice),E={};E[f]=1,b(E).length&&(a.f=function(N){for(var S=b(N),O=0,C=S.length;O<C;O++)if(S[O]===f){_(S,O,1);break}return S},t({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:o.f}))},w=_b.exports={enable:v,fastKey:y,getWeakData:x,onFreeze:g};return r[f]=!0,_b.exports}var Ob,FA;function Qce(){if(FA)return Ob;FA=1;var t=dr(),e=Uu(),r=t("iterator"),n=Array.prototype;return Ob=function(i){return i!==void 0&&(e.Array===i||n[r]===i)},Ob}var Cb,LA;function UG(){if(LA)return Cb;LA=1;var t=Na(),e=cP(),r=eh(),n=Uu(),i=dr(),s=i("iterator");return Cb=function(a){if(!r(a))return e(a,s)||e(a,"@@iterator")||n[t(a)]},Cb}var Pb,BA;function WG(){if(BA)return Pb;BA=1;var t=cn(),e=Ss(),r=Es(),n=Mu(),i=UG(),s=TypeError;return Pb=function(a,o){var l=arguments.length<2?i(a):o;if(e(l))return r(t(l,a));throw new s(n(a)+" is not iterable")},Pb}var Tb,zA;function TP(){if(zA)return Tb;zA=1;var t=cn(),e=Es(),r=cP();return Tb=function(n,i,s){var a,o;e(n);try{if(a=r(n,"return"),!a){if(i==="throw")throw s;return s}a=t(a,n)}catch(l){o=!0,a=l}if(i==="throw")throw s;if(o)throw a;return e(a),s},Tb}var jb,UA;function jP(){if(UA)return jb;UA=1;var t=um(),e=cn(),r=Es(),n=Mu(),i=Qce(),s=Ea(),a=ur(),o=WG(),l=UG(),c=TP(),d=TypeError,h=function(p,m){this.stopped=p,this.result=m},f=h.prototype;return jb=function(p,m,y){var x=y&&y.that,g=!!(y&&y.AS_ENTRIES),v=!!(y&&y.IS_RECORD),w=!!(y&&y.IS_ITERATOR),b=!!(y&&y.INTERRUPTED),_=t(m,x),E,N,S,O,C,T,P,j=function(L){return E&&c(E,"normal"),new h(!0,L)},D=function(L){return g?(r(L),b?_(L[0],L[1],j):_(L[0],L[1])):b?_(L,j):_(L)};if(v)E=p.iterator;else if(w)E=p;else{if(N=l(p),!N)throw new d(n(p)+" is not iterable");if(i(N)){for(S=0,O=s(p);O>S;S++)if(C=D(p[S]),C&&a(f,C))return C;return new h(!1)}E=o(p,N)}for(T=v?p.next:E.next;!(P=e(T,E)).done;){try{C=D(P.value)}catch(L){c(E,"throw",L)}if(typeof C=="object"&&C&&a(f,C))return C}return new h(!1)},jb}var Ib,WA;function HG(){if(WA)return Ib;WA=1;var t=ur(),e=TypeError;return Ib=function(r,n){if(t(n,r))return r;throw new e("Incorrect invocation")},Ib}var Rb,HA;function VG(){if(HA)return Rb;HA=1;var t=Te(),e=Kt(),r=zG(),n=et(),i=Fu(),s=jP(),a=HG(),o=lr(),l=Vr(),c=eh(),d=Lo(),h=Wn().f,f=zu().forEach,p=Gt(),m=oh(),y=m.set,x=m.getterFor;return Rb=function(g,v,w){var b=g.indexOf("Map")!==-1,_=g.indexOf("Weak")!==-1,E=b?"set":"add",N=e[g],S=N&&N.prototype,O={},C;if(!p||!o(N)||!(_||S.forEach&&!n(function(){new N().entries().next()})))C=w.getConstructor(v,g,b,E),r.enable();else{C=v(function(j,D){y(a(j,T),{type:g,collection:new N}),c(D)||s(D,j[E],{that:j,AS_ENTRIES:b})});var T=C.prototype,P=x(g);f(["add","clear","delete","forEach","get","has","set","keys","values","entries"],function(j){var D=j==="add"||j==="set";j in S&&!(_&&j==="clear")&&i(T,j,function(L,G){var H=P(this).collection;if(!D&&_&&!l(L))return j==="get"?void 0:!1;var F=H[j](L===0?0:L,G);return D?this:F})}),_||h(T,"size",{configurable:!0,get:function(){return P(this).collection.size}})}return d(C,g,!1,!0),O[g]=C,t({global:!0,forced:!0},O),_||w.setStrong(C,g,b),C},Rb}var $b,VA;function Xce(){if(VA)return $b;VA=1;var t=ah();return $b=function(e,r,n){for(var i in r)n&&n.unsafe&&e[i]?e[i]=r[i]:t(e,i,r[i],n);return e},$b}var kb,KA;function Jce(){if(KA)return kb;KA=1;var t=En(),e=yP(),r=dr(),n=Gt(),i=r("species");return kb=function(s){var a=t(s);n&&a&&!a[i]&&e(a,i,{configurable:!0,get:function(){return this}})},kb}var Db,GA;function KG(){if(GA)return Db;GA=1;var t=sh(),e=yP(),r=Xce(),n=um(),i=HG(),s=eh(),a=jP(),o=bP(),l=xP(),c=Jce(),d=Gt(),h=zG().fastKey,f=oh(),p=f.set,m=f.getterFor;return Db={getConstructor:function(y,x,g,v){var w=y(function(S,O){i(S,b),p(S,{type:x,index:t(null),first:null,last:null,size:0}),d||(S.size=0),s(O)||a(O,S[v],{that:S,AS_ENTRIES:g})}),b=w.prototype,_=m(x),E=function(S,O,C){var T=_(S),P=N(S,O),j,D;return P?P.value=C:(T.last=P={index:D=h(O,!0),key:O,value:C,previous:j=T.last,next:null,removed:!1},T.first||(T.first=P),j&&(j.next=P),d?T.size++:S.size++,D!=="F"&&(T.index[D]=P)),S},N=function(S,O){var C=_(S),T=h(O),P;if(T!=="F")return C.index[T];for(P=C.first;P;P=P.next)if(P.key===O)return P};return r(b,{clear:function(){for(var O=this,C=_(O),T=C.first;T;)T.removed=!0,T.previous&&(T.previous=T.previous.next=null),T=T.next;C.first=C.last=null,C.index=t(null),d?C.size=0:O.size=0},delete:function(S){var O=this,C=_(O),T=N(O,S);if(T){var P=T.next,j=T.previous;delete C.index[T.index],T.removed=!0,j&&(j.next=P),P&&(P.previous=j),C.first===T&&(C.first=P),C.last===T&&(C.last=j),d?C.size--:O.size--}return!!T},forEach:function(O){for(var C=_(this),T=n(O,arguments.length>1?arguments[1]:void 0),P;P=P?P.next:C.first;)for(T(P.value,P.key,this);P&&P.removed;)P=P.previous},has:function(O){return!!N(this,O)}}),r(b,g?{get:function(O){var C=N(this,O);return C&&C.value},set:function(O,C){return E(this,O===0?0:O,C)}}:{add:function(O){return E(this,O=O===0?0:O,O)}}),d&&e(b,"size",{configurable:!0,get:function(){return _(this).size}}),w},setStrong:function(y,x,g){var v=x+" Iterator",w=m(x),b=m(v);o(y,x,function(_,E){p(this,{type:v,target:_,state:w(_),kind:E,last:null})},function(){for(var _=b(this),E=_.kind,N=_.last;N&&N.removed;)N=N.previous;return!_.target||!(_.last=N=N?N.next:_.state.first)?(_.target=null,l(void 0,!0)):l(E==="keys"?N.key:E==="values"?N.value:[N.key,N.value],!1)},g?"entries":"values",!g,!0),c(x)}},Db}var YA;function Zce(){if(YA)return kA;YA=1;var t=VG(),e=KG();return t("Map",function(r){return function(){return r(this,arguments.length?arguments[0]:void 0)}},e),kA}var QA;function ede(){return QA||(QA=1,Zce()),$A}var XA={},Mb,JA;function GG(){return JA||(JA=1,Mb=function(t,e){return e===1?function(r,n){return r[t](n)}:function(r,n,i){return r[t](n,i)}}),Mb}var qb,ZA;function tde(){if(ZA)return qb;ZA=1;var t=En(),e=GG(),r=t("Map");return qb={Map:r,set:e("set",2),get:e("get",1),has:e("has",1),remove:e("delete",1),proto:r.prototype},qb}var eF;function rde(){if(eF)return XA;eF=1;var t=Te(),e=ot(),r=Ss(),n=Ao(),i=jP(),s=tde(),a=qu(),o=et(),l=s.Map,c=s.has,d=s.get,h=s.set,f=e([].push),p=a||o(function(){return l.groupBy("ab",function(m){return m}).get("a").length!==1});return t({target:"Map",stat:!0,forced:a||p},{groupBy:function(y,x){n(y),r(x);var g=new l,v=0;return i(y,function(w){var b=x(w,v++);c(g,b)?f(d(g,b),w):h(g,b,[w])}),g}}),XA}var Ab,tF;function nde(){if(tF)return Ab;tF=1,Ca(),ede(),rde(),vm();var t=rr();return Ab=t.Map,Ab}var Fb,rF;function ide(){if(rF)return Fb;rF=1;var t=nde();return Pa(),Fb=t,Fb}var Lb,nF;function sde(){return nF||(nF=1,Lb=ide()),Lb}var ade=sde(),YG=Le(ade),iF={},sF;function ode(){if(sF)return iF;sF=1;var t=Te(),e=zu().some,r=gm(),n=r("some");return t({target:"Array",proto:!0,forced:!n},{some:function(s){return e(this,s,arguments.length>1?arguments[1]:void 0)}}),iF}var Bb,aF;function lde(){if(aF)return Bb;aF=1,ode();var t=dn();return Bb=t("Array","some"),Bb}var zb,oF;function ude(){if(oF)return zb;oF=1;var t=ur(),e=lde(),r=Array.prototype;return zb=function(n){var i=n.some;return n===r||t(r,n)&&i===r.some?e:i},zb}var Ub,lF;function cde(){if(lF)return Ub;lF=1;var t=ude();return Ub=t,Ub}var Wb,uF;function dde(){return uF||(uF=1,Wb=cde()),Wb}var hde=dde(),fde=Le(hde),Hb,cF;function pde(){if(cF)return Hb;cF=1,Ca();var t=dn();return Hb=t("Array","keys"),Hb}var Vb,dF;function mde(){if(dF)return Vb;dF=1;var t=pde();return Vb=t,Vb}var Kb,hF;function vde(){if(hF)return Kb;hF=1,Pa();var t=Na(),e=cr(),r=ur(),n=mde(),i=Array.prototype,s={DOMTokenList:!0,NodeList:!0};return Kb=function(a){var o=a.keys;return a===i||r(i,a)&&o===i.keys||e(s,t(a))?n:o},Kb}var Gb,fF;function gde(){return fF||(fF=1,Gb=vde()),Gb}var yde=gde(),ll=Le(yde),pF={},Yb,mF;function bde(){if(mF)return Yb;mF=1;var t=Bu(),e=Math.floor,r=function(n,i){var s=n.length;if(s<8)for(var a=1,o,l;a<s;){for(l=a,o=n[a];l&&i(n[l-1],o)>0;)n[l]=n[--l];l!==a++&&(n[l]=o)}else for(var c=e(s/2),d=r(t(n,0,c),i),h=r(t(n,c),i),f=d.length,p=h.length,m=0,y=0;m<f||y<p;)n[m+y]=m<f&&y<p?i(d[m],h[y])<=0?d[m++]:h[y++]:m<f?d[m++]:h[y++];return n};return Yb=r,Yb}var Qb,vF;function xde(){if(vF)return Qb;vF=1;var t=ku(),e=t.match(/firefox\/(\d+)/i);return Qb=!!e&&+e[1],Qb}var Xb,gF;function wde(){if(gF)return Xb;gF=1;var t=ku();return Xb=/MSIE|Trident/.test(t),Xb}var Jb,yF;function _de(){if(yF)return Jb;yF=1;var t=ku(),e=t.match(/AppleWebKit\/(\d+)\./);return Jb=!!e&&+e[1],Jb}var bF;function Sde(){if(bF)return pF;bF=1;var t=Te(),e=ot(),r=Ss(),n=mi(),i=Ea(),s=dG(),a=Oa(),o=et(),l=bde(),c=gm(),d=xde(),h=wde(),f=th(),p=_de(),m=[],y=e(m.sort),x=e(m.push),g=o(function(){m.sort(void 0)}),v=o(function(){m.sort(null)}),w=c("sort"),b=!o(function(){if(f)return f<70;if(!(d&&d>3)){if(h)return!0;if(p)return p<603;var N="",S,O,C,T;for(S=65;S<76;S++){switch(O=String.fromCharCode(S),S){case 66:case 69:case 70:case 72:C=3;break;case 68:case 71:C=4;break;default:C=2}for(T=0;T<47;T++)m.push({k:O+T,v:C})}for(m.sort(function(P,j){return j.v-P.v}),T=0;T<m.length;T++)O=m[T].k.charAt(0),N.charAt(N.length-1)!==O&&(N+=O);return N!=="DGBEFHACIJK"}}),_=g||!v||!w||!b,E=function(N){return function(S,O){return O===void 0?-1:S===void 0?1:N!==void 0?+N(S,O)||0:a(S)>a(O)?1:-1}};return t({target:"Array",proto:!0,forced:_},{sort:function(S){S!==void 0&&r(S);var O=n(this);if(b)return S===void 0?y(O):y(O,S);var C=[],T=i(O),P,j;for(j=0;j<T;j++)j in O&&x(C,O[j]);for(l(C,E(S)),P=i(C),j=0;j<P;)O[j]=C[j++];for(;j<T;)s(O,j++);return O}}),pF}var Zb,xF;function Ede(){if(xF)return Zb;xF=1,Sde();var t=dn();return Zb=t("Array","sort"),Zb}var e1,wF;function Nde(){if(wF)return e1;wF=1;var t=ur(),e=Ede(),r=Array.prototype;return e1=function(n){var i=n.sort;return n===r||t(r,n)&&i===r.sort?e:i},e1}var t1,_F;function Ode(){if(_F)return t1;_F=1;var t=Nde();return t1=t,t1}var r1,SF;function Cde(){return SF||(SF=1,r1=Ode()),r1}var Pde=Cde(),PO=Le(Pde),n1,EF;function Tde(){if(EF)return n1;EF=1,Ca();var t=dn();return n1=t("Array","values"),n1}var i1,NF;function jde(){if(NF)return i1;NF=1;var t=Tde();return i1=t,i1}var s1,OF;function Ide(){if(OF)return s1;OF=1,Pa();var t=Na(),e=cr(),r=ur(),n=jde(),i=Array.prototype,s={DOMTokenList:!0,NodeList:!0};return s1=function(a){var o=a.values;return a===i||r(i,a)&&o===i.values||e(s,t(a))?n:o},s1}var a1,CF;function Rde(){return CF||(CF=1,a1=Ide()),a1}var $de=Rde(),PF=Le($de),o1,TF;function kde(){return TF||(TF=1,o1=oG()),o1}var Dde=kde(),Cl=Le(Dde),l1,jF;function Mde(){if(jF)return l1;jF=1,Ca();var t=dn();return l1=t("Array","entries"),l1}var u1,IF;function qde(){if(IF)return u1;IF=1;var t=Mde();return u1=t,u1}var c1,RF;function Ade(){if(RF)return c1;RF=1,Pa();var t=Na(),e=cr(),r=ur(),n=qde(),i=Array.prototype,s={DOMTokenList:!0,NodeList:!0};return c1=function(a){var o=a.entries;return a===i||r(i,a)&&o===i.entries||e(s,t(a))?n:o},c1}var d1,$F;function Fde(){return $F||($F=1,d1=Ade()),d1}var Lde=Fde(),Bde=Le(Lde);const mr=[];for(let t=0;t<256;++t)mr.push((t+256).toString(16).slice(1));function zde(t,e=0){return(mr[t[e+0]]+mr[t[e+1]]+mr[t[e+2]]+mr[t[e+3]]+"-"+mr[t[e+4]]+mr[t[e+5]]+"-"+mr[t[e+6]]+mr[t[e+7]]+"-"+mr[t[e+8]]+mr[t[e+9]]+"-"+mr[t[e+10]]+mr[t[e+11]]+mr[t[e+12]]+mr[t[e+13]]+mr[t[e+14]]+mr[t[e+15]]).toLowerCase()}let h1;const Ude=new Uint8Array(16);function Wde(){if(!h1){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");h1=crypto.getRandomValues.bind(crypto)}return h1(Ude)}const Hde=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto);var kF={randomUUID:Hde};function Vde(t,e,r){var i;t=t||{};const n=t.random??((i=t.rng)==null?void 0:i.call(t))??Wde();if(n.length<16)throw new Error("Random bytes length must be >= 16");return n[6]=n[6]&15|64,n[8]=n[8]&63|128,zde(n)}function Kde(t,e,r){return kF.randomUUID&&!t?kF.randomUUID():Vde(t)}function DF(t){return typeof t=="string"||typeof t=="number"}class IP{constructor(e){la(this,"_queue",[]),la(this,"_timeout",null),la(this,"_extended",null),this.delay=null,this.max=1/0,this.setOptions(e)}setOptions(e){e&&typeof e.delay<"u"&&(this.delay=e.delay),e&&typeof e.max<"u"&&(this.max=e.max),this._flushIfNeeded()}static extend(e,r){const n=new IP(r);if(e.flush!==void 0)throw new Error("Target object already has a property flush");e.flush=()=>{n.flush()};const i=[{name:"flush",original:void 0}];if(r&&r.replace)for(let s=0;s<r.replace.length;s++){const a=r.replace[s];i.push({name:a,original:e[a]}),n.replace(e,a)}return n._extended={object:e,methods:i},n}destroy(){if(this.flush(),this._extended){const e=this._extended.object,r=this._extended.methods;for(let n=0;n<r.length;n++){const i=r[n];i.original?e[i.name]=i.original:delete e[i.name]}this._extended=null}}replace(e,r){const n=this,i=e[r];if(!i)throw new Error("Method "+r+" undefined");e[r]=function(){for(var s=arguments.length,a=new Array(s),o=0;o<s;o++)a[o]=arguments[o];n.queue({args:a,fn:i,context:this})}}queue(e){typeof e=="function"?this._queue.push({fn:e}):this._queue.push(e),this._flushIfNeeded()}_flushIfNeeded(){this._queue.length>this.max&&this.flush(),this._timeout!=null&&(clearTimeout(this._timeout),this._timeout=null),this.queue.length>0&&typeof this.delay=="number"&&(this._timeout=jue(()=>{this.flush()},this.delay))}flush(){var e,r;Co(e=hG(r=this._queue).call(r,0)).call(e,n=>{n.fn.apply(n.context||n.fn,n.args||[])})}}class Sp{constructor(){la(this,"_subscribers",{"*":[],add:[],remove:[],update:[]}),la(this,"subscribe",Sp.prototype.on),la(this,"unsubscribe",Sp.prototype.off)}_trigger(e,r,n){var i;if(e==="*")throw new Error("Cannot trigger event *");Co(i=[...this._subscribers[e],...this._subscribers["*"]]).call(i,s=>{s(e,r,n??null)})}on(e,r){typeof r=="function"&&this._subscribers[e].push(r)}off(e,r){var n;this._subscribers[e]=El(n=this._subscribers[e]).call(n,i=>i!==r)}}var MF={},qF={},AF;function Gde(){if(AF)return qF;AF=1;var t=VG(),e=KG();return t("Set",function(r){return function(){return r(this,arguments.length?arguments[0]:void 0)}},e),qF}var FF;function Yde(){return FF||(FF=1,Gde()),MF}var LF={},f1,BF;function zo(){if(BF)return f1;BF=1;var t=Mu(),e=TypeError;return f1=function(r){if(typeof r=="object"&&"size"in r&&"has"in r&&"add"in r&&"delete"in r&&"keys"in r)return r;throw new e(t(r)+" is not a set")},f1}var p1,zF;function Uo(){if(zF)return p1;zF=1;var t=En(),e=GG(),r=t("Set"),n=r.prototype;return p1={Set:r,add:e("add",1),has:e("has",1),remove:e("delete",1),proto:n},p1}var m1,UF;function Wo(){if(UF)return m1;UF=1;var t=cn();return m1=function(e,r,n){for(var i=n?e:e.iterator,s=e.next,a,o;!(a=t(s,i)).done;)if(o=r(a.value),o!==void 0)return o},m1}var v1,WF;function fh(){if(WF)return v1;WF=1;var t=Wo();return v1=function(e,r,n){return n?t(e.keys(),r,!0):e.forEach(r)},v1}var g1,HF;function RP(){if(HF)return g1;HF=1;var t=Uo(),e=fh(),r=t.Set,n=t.add;return g1=function(i){var s=new r;return e(i,function(a){n(s,a)}),s},g1}var y1,VF;function ph(){return VF||(VF=1,y1=function(t){return t.size}),y1}var b1,KF;function Qde(){return KF||(KF=1,b1=function(t){return{iterator:t,next:t.next,done:!1}}),b1}var x1,GF;function Ho(){if(GF)return x1;GF=1;var t=Ss(),e=Es(),r=cn(),n=Lu(),i=Qde(),s="Invalid size",a=RangeError,o=TypeError,l=Math.max,c=function(d,h){this.set=d,this.size=l(h,0),this.has=t(d.has),this.keys=t(d.keys)};return c.prototype={getIterator:function(){return i(e(r(this.keys,this.set)))},includes:function(d){return r(this.has,this.set,d)}},x1=function(d){e(d);var h=+d.size;if(h!==h)throw new o(s);var f=n(h);if(f<0)throw new a(s);return new c(d,f)},x1}var w1,YF;function Xde(){if(YF)return w1;YF=1;var t=zo(),e=Uo(),r=RP(),n=ph(),i=Ho(),s=fh(),a=Wo(),o=e.has,l=e.remove;return w1=function(d){var h=t(this),f=i(d),p=r(h);return n(h)<=f.size?s(h,function(m){f.includes(m)&&l(p,m)}):a(f.getIterator(),function(m){o(p,m)&&l(p,m)}),p},w1}var _1,QF;function Vo(){return QF||(QF=1,_1=function(){return!1}),_1}var XF;function Jde(){if(XF)return LF;XF=1;var t=Te(),e=Xde(),r=et(),n=Vo(),i=!n("difference",function(a){return a.size===0}),s=i||r(function(){var a={size:1,has:function(){return!0},keys:function(){var l=0;return{next:function(){var c=l++>1;return o.has(1)&&o.clear(),{done:c,value:2}}}}},o=new Set([1,2,3,4]);return o.difference(a).size!==3});return t({target:"Set",proto:!0,real:!0,forced:s},{difference:e}),LF}var JF={},S1,ZF;function Zde(){if(ZF)return S1;ZF=1;var t=zo(),e=Uo(),r=ph(),n=Ho(),i=fh(),s=Wo(),a=e.Set,o=e.add,l=e.has;return S1=function(d){var h=t(this),f=n(d),p=new a;return r(h)>f.size?s(f.getIterator(),function(m){l(h,m)&&o(p,m)}):i(h,function(m){f.includes(m)&&o(p,m)}),p},S1}var e4;function ehe(){if(e4)return JF;e4=1;var t=Te(),e=et(),r=Zde(),n=Vo(),i=!n("intersection",function(s){return s.size===2&&s.has(1)&&s.has(2)})||e(function(){return String(Array.from(new Set([1,2,3]).intersection(new Set([3,2]))))!=="3,2"});return t({target:"Set",proto:!0,real:!0,forced:i},{intersection:r}),JF}var t4={},E1,r4;function the(){if(r4)return E1;r4=1;var t=zo(),e=Uo().has,r=ph(),n=Ho(),i=fh(),s=Wo(),a=TP();return E1=function(l){var c=t(this),d=n(l);if(r(c)<=d.size)return i(c,function(f){if(d.includes(f))return!1},!0)!==!1;var h=d.getIterator();return s(h,function(f){if(e(c,f))return a(h,"normal",!1)})!==!1},E1}var n4;function rhe(){if(n4)return t4;n4=1;var t=Te(),e=the(),r=Vo(),n=!r("isDisjointFrom",function(i){return!i});return t({target:"Set",proto:!0,real:!0,forced:n},{isDisjointFrom:e}),t4}var i4={},N1,s4;function nhe(){if(s4)return N1;s4=1;var t=zo(),e=ph(),r=fh(),n=Ho();return N1=function(s){var a=t(this),o=n(s);return e(a)>o.size?!1:r(a,function(l){if(!o.includes(l))return!1},!0)!==!1},N1}var a4;function ihe(){if(a4)return i4;a4=1;var t=Te(),e=nhe(),r=Vo(),n=!r("isSubsetOf",function(i){return i});return t({target:"Set",proto:!0,real:!0,forced:n},{isSubsetOf:e}),i4}var o4={},O1,l4;function she(){if(l4)return O1;l4=1;var t=zo(),e=Uo().has,r=ph(),n=Ho(),i=Wo(),s=TP();return O1=function(o){var l=t(this),c=n(o);if(r(l)<c.size)return!1;var d=c.getIterator();return i(d,function(h){if(!e(l,h))return s(d,"normal",!1)})!==!1},O1}var u4;function ahe(){if(u4)return o4;u4=1;var t=Te(),e=she(),r=Vo(),n=!r("isSupersetOf",function(i){return!i});return t({target:"Set",proto:!0,real:!0,forced:n},{isSupersetOf:e}),o4}var c4={},C1,d4;function ohe(){if(d4)return C1;d4=1;var t=zo(),e=Uo(),r=RP(),n=Ho(),i=Wo(),s=e.add,a=e.has,o=e.remove;return C1=function(c){var d=t(this),h=n(c).getIterator(),f=r(d);return i(h,function(p){a(d,p)?o(f,p):s(f,p)}),f},C1}var P1,h4;function QG(){return h4||(h4=1,P1=function(t){try{var e=new Set,r={size:0,has:function(){return!0},keys:function(){return Object.defineProperty({},"next",{get:function(){return e.clear(),e.add(4),function(){return{done:!0}}}})}},n=e[t](r);return n.size===1&&n.values().next().value===4}catch{return!1}}),P1}var f4;function lhe(){if(f4)return c4;f4=1;var t=Te(),e=ohe(),r=QG(),n=Vo(),i=!n("symmetricDifference")||!r("symmetricDifference");return t({target:"Set",proto:!0,real:!0,forced:i},{symmetricDifference:e}),c4}var p4={},T1,m4;function uhe(){if(m4)return T1;m4=1;var t=zo(),e=Uo().add,r=RP(),n=Ho(),i=Wo();return T1=function(a){var o=t(this),l=n(a).getIterator(),c=r(o);return i(l,function(d){e(c,d)}),c},T1}var v4;function che(){if(v4)return p4;v4=1;var t=Te(),e=uhe(),r=QG(),n=Vo(),i=!n("union")||!r("union");return t({target:"Set",proto:!0,real:!0,forced:i},{union:e}),p4}var j1,g4;function dhe(){if(g4)return j1;g4=1,Ca(),Yde(),Jde(),ehe(),rhe(),ihe(),ahe(),lhe(),che(),vm();var t=rr();return j1=t.Set,j1}var I1,y4;function hhe(){if(y4)return I1;y4=1;var t=dhe();return Pa(),I1=t,I1}var R1,b4;function fhe(){return b4||(b4=1,R1=hhe()),R1}var phe=fhe(),$1=Le(phe),k1,x4;function mhe(){if(x4)return k1;x4=1,Ca(),vm();var t=WG();return k1=t,k1}var D1,w4;function vhe(){if(w4)return D1;w4=1;var t=mhe();return Pa(),D1=t,D1}var M1,_4;function ghe(){if(_4)return M1;_4=1;var t=vhe();return M1=t,M1}var q1,S4;function yhe(){if(S4)return q1;S4=1;var t=ghe();return q1=t,q1}var A1,E4;function bhe(){return E4||(E4=1,A1=yhe()),A1}var F1,N4;function xhe(){return N4||(N4=1,F1=bhe()),F1}var whe=xhe(),L1=Le(whe);class Ka{constructor(e){this._pairs=e}*[Cl](){for(const[e,r]of this._pairs)yield[e,r]}*entries(){for(const[e,r]of this._pairs)yield[e,r]}*keys(){for(const[e]of this._pairs)yield e}*values(){for(const[,e]of this._pairs)yield e}toIdArray(){var e;return ni(e=[...this._pairs]).call(e,r=>r[0])}toItemArray(){var e;return ni(e=[...this._pairs]).call(e,r=>r[1])}toEntryArray(){return[...this._pairs]}toObjectMap(){const e=fue(null);for(const[r,n]of this._pairs)e[r]=n;return e}toMap(){return new YG(this._pairs)}toIdSet(){return new $1(this.toIdArray())}toItemSet(){return new $1(this.toItemArray())}cache(){return new Ka([...this._pairs])}distinct(e){const r=new $1;for(const[n,i]of this._pairs)r.add(e(i,n));return r}filter(e){const r=this._pairs;return new Ka({*[Cl](){for(const[n,i]of r)e(i,n)&&(yield[n,i])}})}forEach(e){for(const[r,n]of this._pairs)e(n,r)}map(e){const r=this._pairs;return new Ka({*[Cl](){for(const[n,i]of r)yield[n,e(i,n)]}})}max(e){const r=L1(this._pairs);let n=r.next();if(n.done)return null;let i=n.value[1],s=e(n.value[1],n.value[0]);for(;!(n=r.next()).done;){const[a,o]=n.value,l=e(o,a);l>s&&(s=l,i=o)}return i}min(e){const r=L1(this._pairs);let n=r.next();if(n.done)return null;let i=n.value[1],s=e(n.value[1],n.value[0]);for(;!(n=r.next()).done;){const[a,o]=n.value,l=e(o,a);l<s&&(s=l,i=o)}return i}reduce(e,r){for(const[n,i]of this._pairs)r=e(r,i,n);return r}sort(e){return new Ka({[Cl]:()=>{var r;return L1(PO(r=[...this._pairs]).call(r,(n,i)=>{let[s,a]=n,[o,l]=i;return e(a,l,s,o)}))}})}}function O4(t,e){var r=wP(t);if(mA){var n=mA(t);e&&(n=El(n).call(n,function(i){return BG(t,i).enumerable})),r.push.apply(r,n)}return r}function C4(t){for(var e=1;e<arguments.length;e++){var r,n,i=arguments[e]!=null?arguments[e]:{};e%2?Co(r=O4(Object(i),!0)).call(r,function(s){la(t,s,i[s])}):OA?Uce(t,OA(i)):Co(n=O4(Object(i))).call(n,function(s){Vce(t,s,BG(i,s))})}return t}function _he(t,e){return t[e]==null&&(t[e]=Kde()),t}class yu extends Sp{get idProp(){return this._idProp}constructor(e,r){super(),la(this,"_queue",null),e&&!wi(e)&&(r=e,e=[]),this._options=r||{},this._data=new YG,this.length=0,this._idProp=this._options.fieldId||"id",e&&e.length&&this.add(e),this.setOptions(r)}setOptions(e){e&&e.queue!==void 0&&(e.queue===!1?this._queue&&(this._queue.destroy(),this._queue=null):(this._queue||(this._queue=IP.extend(this,{replace:["add","update","remove"]})),e.queue&&typeof e.queue=="object"&&this._queue.setOptions(e.queue)))}add(e,r){const n=[];let i;if(wi(e)){const s=ni(e).call(e,a=>a[this._idProp]);if(fde(s).call(s,a=>this._data.has(a)))throw new Error("A duplicate id was found in the parameter array.");for(let a=0,o=e.length;a<o;a++)i=this._addItem(e[a]),n.push(i)}else if(e&&typeof e=="object")i=this._addItem(e),n.push(i);else throw new Error("Unknown dataType");return n.length&&this._trigger("add",{items:n},r),n}update(e,r){const n=[],i=[],s=[],a=[],o=this._idProp,l=c=>{const d=c[o];if(d!=null&&this._data.has(d)){const h=c,f=tue({},this._data.get(d)),p=this._updateItem(h);i.push(p),a.push(h),s.push(f)}else{const h=this._addItem(c);n.push(h)}};if(wi(e))for(let c=0,d=e.length;c<d;c++)e[c]&&typeof e[c]=="object"?l(e[c]):console.warn("Ignoring input item, which is not an object at index "+c);else if(e&&typeof e=="object")l(e);else throw new Error("Unknown dataType");if(n.length&&this._trigger("add",{items:n},r),i.length){const c={items:i,oldData:s,data:a};this._trigger("update",c,r)}return oue(n).call(n,i)}updateOnly(e,r){var n;wi(e)||(e=[e]);const i=ni(n=ni(e).call(e,s=>{const a=this._data.get(s[this._idProp]);if(a==null)throw new Error("Updating non-existent items is not allowed.");return{oldData:a,update:s}})).call(n,s=>{let{oldData:a,update:o}=s;const l=a[this._idProp],c=xce(a,o);return this._data.set(l,c),{id:l,oldData:a,updatedData:c}});if(i.length){const s={items:ni(i).call(i,a=>a.id),oldData:ni(i).call(i,a=>a.oldData),data:ni(i).call(i,a=>a.updatedData)};return this._trigger("update",s,r),s.items}else return[]}get(e,r){let n,i,s;DF(e)?(n=e,s=r):wi(e)?(i=e,s=r):s=e;const a=s&&s.returnType==="Object"?"Object":"Array",o=s&&El(s),l=[];let c,d,h;if(n!=null)c=this._data.get(n),c&&o&&!o(c)&&(c=void 0);else if(i!=null)for(let p=0,m=i.length;p<m;p++)c=this._data.get(i[p]),c!=null&&(!o||o(c))&&l.push(c);else{var f;d=[...ll(f=this._data).call(f)];for(let p=0,m=d.length;p<m;p++)h=d[p],c=this._data.get(h),c!=null&&(!o||o(c))&&l.push(c)}if(s&&s.order&&n==null&&this._sort(l,s.order),s&&s.fields){const p=s.fields;if(n!=null&&c!=null)c=this._filterFields(c,p);else for(let m=0,y=l.length;m<y;m++)l[m]=this._filterFields(l[m],p)}if(a=="Object"){const p={};for(let m=0,y=l.length;m<y;m++){const x=l[m],g=x[this._idProp];p[g]=x}return p}else return n!=null?c??null:l}getIds(e){const r=this._data,n=e&&El(e),i=e&&e.order,s=[...ll(r).call(r)],a=[];if(n)if(i){const o=[];for(let l=0,c=s.length;l<c;l++){const d=s[l],h=this._data.get(d);h!=null&&n(h)&&o.push(h)}this._sort(o,i);for(let l=0,c=o.length;l<c;l++)a.push(o[l][this._idProp])}else for(let o=0,l=s.length;o<l;o++){const c=s[o],d=this._data.get(c);d!=null&&n(d)&&a.push(d[this._idProp])}else if(i){const o=[];for(let l=0,c=s.length;l<c;l++){const d=s[l];o.push(r.get(d))}this._sort(o,i);for(let l=0,c=o.length;l<c;l++)a.push(o[l][this._idProp])}else for(let o=0,l=s.length;o<l;o++){const c=s[o],d=r.get(c);d!=null&&a.push(d[this._idProp])}return a}getDataSet(){return this}forEach(e,r){const n=r&&El(r),i=this._data,s=[...ll(i).call(i)];if(r&&r.order){const a=this.get(r);for(let o=0,l=a.length;o<l;o++){const c=a[o],d=c[this._idProp];e(c,d)}}else for(let a=0,o=s.length;a<o;a++){const l=s[a],c=this._data.get(l);c!=null&&(!n||n(c))&&e(c,l)}}map(e,r){const n=r&&El(r),i=[],s=this._data,a=[...ll(s).call(s)];for(let o=0,l=a.length;o<l;o++){const c=a[o],d=this._data.get(c);d!=null&&(!n||n(d))&&i.push(e(d,c))}return r&&r.order&&this._sort(i,r.order),i}_filterFields(e,r){var n;return e&&Uoe(n=wi(r)?r:wP(r)).call(n,(i,s)=>(i[s]=e[s],i),{})}_sort(e,r){if(typeof r=="string"){const n=r;PO(e).call(e,(i,s)=>{const a=i[n],o=s[n];return a>o?1:a<o?-1:0})}else if(typeof r=="function")PO(e).call(e,r);else throw new TypeError("Order must be a function or a string")}remove(e,r){const n=[],i=[],s=wi(e)?e:[e];for(let a=0,o=s.length;a<o;a++){const l=this._remove(s[a]);if(l){const c=l[this._idProp];c!=null&&(n.push(c),i.push(l))}}return n.length&&this._trigger("remove",{items:n,oldData:i},r),n}_remove(e){let r;if(DF(e)?r=e:e&&typeof e=="object"&&(r=e[this._idProp]),r!=null&&this._data.has(r)){const n=this._data.get(r)||null;return this._data.delete(r),--this.length,n}return null}clear(e){var r;const n=[...ll(r=this._data).call(r)],i=[];for(let s=0,a=n.length;s<a;s++)i.push(this._data.get(n[s]));return this._data.clear(),this.length=0,this._trigger("remove",{items:n,oldData:i},e),n}max(e){let r=null,n=null;for(const s of PF(i=this._data).call(i)){var i;const a=s[e];typeof a=="number"&&(n==null||a>n)&&(r=s,n=a)}return r||null}min(e){let r=null,n=null;for(const s of PF(i=this._data).call(i)){var i;const a=s[e];typeof a=="number"&&(n==null||a<n)&&(r=s,n=a)}return r||null}distinct(e){const r=this._data,n=[...ll(r).call(r)],i=[];let s=0;for(let a=0,o=n.length;a<o;a++){const l=n[a],d=r.get(l)[e];let h=!1;for(let f=0;f<s;f++)if(i[f]==d){h=!0;break}!h&&d!==void 0&&(i[s]=d,s++)}return i}_addItem(e){const r=_he(e,this._idProp),n=r[this._idProp];if(this._data.has(n))throw new Error("Cannot add item: item with id "+n+" already exists");return this._data.set(n,r),++this.length,n}_updateItem(e){const r=e[this._idProp];if(r==null)throw new Error("Cannot update item: item has no id (item: "+_ue(e)+")");const n=this._data.get(r);if(!n)throw new Error("Cannot update item: no item with id "+r+" found");return this._data.set(r,C4(C4({},n),e)),r}stream(e){if(e){const n=this._data;return new Ka({*[Cl](){for(const i of e){const s=n.get(i);s!=null&&(yield[i,s])}}})}else{var r;return new Ka({[Cl]:lG(r=Bde(this._data)).call(r,this._data)})}}}function She(t,e){return typeof e=="object"&&e!==null&&t===e.idProp&&typeof e.add=="function"&&typeof e.clear=="function"&&typeof e.distinct=="function"&&typeof Co(e)=="function"&&typeof e.get=="function"&&typeof e.getDataSet=="function"&&typeof e.getIds=="function"&&typeof e.length=="number"&&typeof ni(e)=="function"&&typeof e.max=="function"&&typeof e.min=="function"&&typeof e.off=="function"&&typeof e.on=="function"&&typeof e.remove=="function"&&typeof e.setOptions=="function"&&typeof e.stream=="function"&&typeof e.update=="function"&&typeof e.updateOnly=="function"}function XG(t,e){return typeof e=="object"&&e!==null&&t===e.idProp&&typeof Co(e)=="function"&&typeof e.get=="function"&&typeof e.getDataSet=="function"&&typeof e.getIds=="function"&&typeof e.length=="number"&&typeof ni(e)=="function"&&typeof e.off=="function"&&typeof e.on=="function"&&typeof e.stream=="function"&&She(t,e.getDataSet())}/**
 * vis-network
 * https://visjs.github.io/vis-network/
 *
 * A dynamic, browser-based visualization library.
 *
 * @version 10.0.2
 * @date    2025-09-15T17:48:13.838Z
 *
 * @copyright (c) 2011-2017 Almende B.V, http://almende.com
 * @copyright (c) 2017-2019 visjs contributors, https://github.com/visjs
 *
 * @license
 * vis.js is dual licensed under both
 *
 *   1. The Apache 2.0 License
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 *   and
 *
 *   2. The MIT License
 *      http://opensource.org/licenses/MIT
 *
 * vis.js may be distributed under either license.
 */var P4=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Pe(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var T4={},Ec,j4;function _t(){if(j4)return Ec;j4=1;var t=function(e){return e&&e.Math===Math&&e};return Ec=t(typeof globalThis=="object"&&globalThis)||t(typeof window=="object"&&window)||t(typeof self=="object"&&self)||t(typeof P4=="object"&&P4)||t(typeof Ec=="object"&&Ec)||function(){return this}()||Function("return this")(),Ec}var B1,I4;function Be(){return I4||(I4=1,B1=function(t){try{return!!t()}catch{return!0}}),B1}var z1,R4;function mh(){if(R4)return z1;R4=1;var t=Be();return z1=!t(function(){var e=(function(){}).bind();return typeof e!="function"||e.hasOwnProperty("prototype")}),z1}var U1,$4;function xm(){if($4)return U1;$4=1;var t=mh(),e=Function.prototype,r=e.apply,n=e.call;return U1=typeof Reflect=="object"&&Reflect.apply||(t?n.bind(r):function(){return n.apply(r,arguments)}),U1}var W1,k4;function We(){if(k4)return W1;k4=1;var t=mh(),e=Function.prototype,r=e.call,n=t&&e.bind.bind(r,r);return W1=t?n:function(i){return function(){return r.apply(i,arguments)}},W1}var H1,D4;function qi(){if(D4)return H1;D4=1;var t=We(),e=t({}.toString),r=t("".slice);return H1=function(n){return r(e(n),8,-1)},H1}var V1,M4;function $P(){if(M4)return V1;M4=1;var t=qi(),e=We();return V1=function(r){if(t(r)==="Function")return e(r)},V1}var K1,q4;function hr(){if(q4)return K1;q4=1;var t=typeof document=="object"&&document.all;return K1=typeof t>"u"&&t!==void 0?function(e){return typeof e=="function"||e===t}:function(e){return typeof e=="function"},K1}var G1={},Y1,A4;function Ft(){if(A4)return Y1;A4=1;var t=Be();return Y1=!t(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!==7}),Y1}var Q1,F4;function hn(){if(F4)return Q1;F4=1;var t=mh(),e=Function.prototype.call;return Q1=t?e.bind(e):function(){return e.apply(e,arguments)},Q1}var X1={},L4;function wm(){if(L4)return X1;L4=1;var t={}.propertyIsEnumerable,e=Object.getOwnPropertyDescriptor,r=e&&!t.call({1:2},1);return X1.f=r?function(i){var s=e(this,i);return!!s&&s.enumerable}:t,X1}var J1,B4;function vh(){return B4||(B4=1,J1=function(t,e){return{enumerable:!(t&1),configurable:!(t&2),writable:!(t&4),value:e}}),J1}var Z1,z4;function _m(){if(z4)return Z1;z4=1;var t=We(),e=Be(),r=qi(),n=Object,i=t("".split);return Z1=e(function(){return!n("z").propertyIsEnumerable(0)})?function(s){return r(s)==="String"?i(s,""):n(s)}:n,Z1}var ex,U4;function Hu(){return U4||(U4=1,ex=function(t){return t==null}),ex}var tx,W4;function Ns(){if(W4)return tx;W4=1;var t=Hu(),e=TypeError;return tx=function(r){if(t(r))throw new e("Can't call method on "+r);return r},tx}var rx,H4;function vi(){if(H4)return rx;H4=1;var t=_m(),e=Ns();return rx=function(r){return t(e(r))},rx}var nx,V4;function fr(){if(V4)return nx;V4=1;var t=hr();return nx=function(e){return typeof e=="object"?e!==null:t(e)},nx}var ix,K4;function tt(){return K4||(K4=1,ix={}),ix}var sx,G4;function Nn(){if(G4)return sx;G4=1;var t=tt(),e=_t(),r=hr(),n=function(i){return r(i)?i:void 0};return sx=function(i,s){return arguments.length<2?n(t[i])||n(e[i]):t[i]&&t[i][s]||e[i]&&e[i][s]},sx}var ax,Y4;function Yt(){if(Y4)return ax;Y4=1;var t=We();return ax=t({}.isPrototypeOf),ax}var ox,Q4;function Vu(){if(Q4)return ox;Q4=1;var t=_t(),e=t.navigator,r=e&&e.userAgent;return ox=r?String(r):"",ox}var lx,X4;function gh(){if(X4)return lx;X4=1;var t=_t(),e=Vu(),r=t.process,n=t.Deno,i=r&&r.versions||n&&n.version,s=i&&i.v8,a,o;return s&&(a=s.split("."),o=a[0]>0&&a[0]<4?1:+(a[0]+a[1])),!o&&e&&(a=e.match(/Edge\/(\d+)/),(!a||a[1]>=74)&&(a=e.match(/Chrome\/(\d+)/),a&&(o=+a[1]))),lx=o,lx}var ux,J4;function Ku(){if(J4)return ux;J4=1;var t=gh(),e=Be(),r=_t(),n=r.String;return ux=!!Object.getOwnPropertySymbols&&!e(function(){var i=Symbol("symbol detection");return!n(i)||!(Object(i)instanceof Symbol)||!Symbol.sham&&t&&t<41}),ux}var cx,Z4;function JG(){if(Z4)return cx;Z4=1;var t=Ku();return cx=t&&!Symbol.sham&&typeof Symbol.iterator=="symbol",cx}var dx,e5;function yh(){if(e5)return dx;e5=1;var t=Nn(),e=hr(),r=Yt(),n=JG(),i=Object;return dx=n?function(s){return typeof s=="symbol"}:function(s){var a=t("Symbol");return e(a)&&r(a.prototype,i(s))},dx}var hx,t5;function Gu(){if(t5)return hx;t5=1;var t=String;return hx=function(e){try{return t(e)}catch{return"Object"}},hx}var fx,r5;function Os(){if(r5)return fx;r5=1;var t=hr(),e=Gu(),r=TypeError;return fx=function(n){if(t(n))return n;throw new r(e(n)+" is not a function")},fx}var px,n5;function kP(){if(n5)return px;n5=1;var t=Os(),e=Hu();return px=function(r,n){var i=r[n];return e(i)?void 0:t(i)},px}var mx,i5;function Ehe(){if(i5)return mx;i5=1;var t=hn(),e=hr(),r=fr(),n=TypeError;return mx=function(i,s){var a,o;if(s==="string"&&e(a=i.toString)&&!r(o=t(a,i))||e(a=i.valueOf)&&!r(o=t(a,i))||s!=="string"&&e(a=i.toString)&&!r(o=t(a,i)))return o;throw new n("Can't convert object to primitive value")},mx}var vx={exports:{}},gx,s5;function Yu(){return s5||(s5=1,gx=!0),gx}var yx,a5;function Nhe(){if(a5)return yx;a5=1;var t=_t(),e=Object.defineProperty;return yx=function(r,n){try{e(t,r,{value:n,configurable:!0,writable:!0})}catch{t[r]=n}return n},yx}var o5;function DP(){if(o5)return vx.exports;o5=1;var t=Yu(),e=_t(),r=Nhe(),n="__core-js_shared__",i=vx.exports=e[n]||r(n,{});return(i.versions||(i.versions=[])).push({version:"3.44.0",mode:t?"pure":"global",copyright:" 2014-2025 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.44.0/LICENSE",source:"https://github.com/zloirock/core-js"}),vx.exports}var bx,l5;function Qu(){if(l5)return bx;l5=1;var t=DP();return bx=function(e,r){return t[e]||(t[e]=r||{})},bx}var xx,u5;function On(){if(u5)return xx;u5=1;var t=Ns(),e=Object;return xx=function(r){return e(t(r))},xx}var wx,c5;function wr(){if(c5)return wx;c5=1;var t=We(),e=On(),r=t({}.hasOwnProperty);return wx=Object.hasOwn||function(i,s){return r(e(i),s)},wx}var _x,d5;function Sm(){if(d5)return _x;d5=1;var t=We(),e=0,r=Math.random(),n=t(1.1.toString);return _x=function(i){return"Symbol("+(i===void 0?"":i)+")_"+n(++e+r,36)},_x}var Sx,h5;function Qt(){if(h5)return Sx;h5=1;var t=_t(),e=Qu(),r=wr(),n=Sm(),i=Ku(),s=JG(),a=t.Symbol,o=e("wks"),l=s?a.for||a:a&&a.withoutSetter||n;return Sx=function(c){return r(o,c)||(o[c]=i&&r(a,c)?a[c]:l("Symbol."+c)),o[c]},Sx}var Ex,f5;function ZG(){if(f5)return Ex;f5=1;var t=hn(),e=fr(),r=yh(),n=kP(),i=Ehe(),s=Qt(),a=TypeError,o=s("toPrimitive");return Ex=function(l,c){if(!e(l)||r(l))return l;var d=n(l,o),h;if(d){if(c===void 0&&(c="default"),h=t(d,l,c),!e(h)||r(h))return h;throw new a("Can't convert object to primitive value")}return c===void 0&&(c="number"),i(l,c)},Ex}var Nx,p5;function MP(){if(p5)return Nx;p5=1;var t=ZG(),e=yh();return Nx=function(r){var n=t(r,"string");return e(n)?n:n+""},Nx}var Ox,m5;function eY(){if(m5)return Ox;m5=1;var t=_t(),e=fr(),r=t.document,n=e(r)&&e(r.createElement);return Ox=function(i){return n?r.createElement(i):{}},Ox}var Cx,v5;function tY(){if(v5)return Cx;v5=1;var t=Ft(),e=Be(),r=eY();return Cx=!t&&!e(function(){return Object.defineProperty(r("div"),"a",{get:function(){return 7}}).a!==7}),Cx}var g5;function Em(){if(g5)return G1;g5=1;var t=Ft(),e=hn(),r=wm(),n=vh(),i=vi(),s=MP(),a=wr(),o=tY(),l=Object.getOwnPropertyDescriptor;return G1.f=t?l:function(d,h){if(d=i(d),h=s(h),o)try{return l(d,h)}catch{}if(a(d,h))return n(!e(r.f,d,h),d[h])},G1}var Px,y5;function Ohe(){if(y5)return Px;y5=1;var t=Be(),e=hr(),r=/#|\.prototype\./,n=function(l,c){var d=s[i(l)];return d===o?!0:d===a?!1:e(c)?t(c):!!c},i=n.normalize=function(l){return String(l).replace(r,".").toLowerCase()},s=n.data={},a=n.NATIVE="N",o=n.POLYFILL="P";return Px=n,Px}var Tx,b5;function Nm(){if(b5)return Tx;b5=1;var t=$P(),e=Os(),r=mh(),n=t(t.bind);return Tx=function(i,s){return e(i),s===void 0?i:r?n(i,s):function(){return i.apply(s,arguments)}},Tx}var jx={},Ix,x5;function rY(){if(x5)return Ix;x5=1;var t=Ft(),e=Be();return Ix=t&&e(function(){return Object.defineProperty(function(){},"prototype",{value:42,writable:!1}).prototype!==42}),Ix}var Rx,w5;function Ai(){if(w5)return Rx;w5=1;var t=fr(),e=String,r=TypeError;return Rx=function(n){if(t(n))return n;throw new r(e(n)+" is not an object")},Rx}var _5;function Vn(){if(_5)return jx;_5=1;var t=Ft(),e=tY(),r=rY(),n=Ai(),i=MP(),s=TypeError,a=Object.defineProperty,o=Object.getOwnPropertyDescriptor,l="enumerable",c="configurable",d="writable";return jx.f=t?r?function(f,p,m){if(n(f),p=i(p),n(m),typeof f=="function"&&p==="prototype"&&"value"in m&&d in m&&!m[d]){var y=o(f,p);y&&y[d]&&(f[p]=m.value,m={configurable:c in m?m[c]:y[c],enumerable:l in m?m[l]:y[l],writable:!1})}return a(f,p,m)}:a:function(f,p,m){if(n(f),p=i(p),n(m),e)try{return a(f,p,m)}catch{}if("get"in m||"set"in m)throw new s("Accessors not supported");return"value"in m&&(f[p]=m.value),f},jx}var $x,S5;function Xu(){if(S5)return $x;S5=1;var t=Ft(),e=Vn(),r=vh();return $x=t?function(n,i,s){return e.f(n,i,r(1,s))}:function(n,i,s){return n[i]=s,n},$x}var kx,E5;function Se(){if(E5)return kx;E5=1;var t=_t(),e=xm(),r=$P(),n=hr(),i=Em().f,s=Ohe(),a=tt(),o=Nm(),l=Xu(),c=wr(),d=function(h){var f=function(p,m,y){if(this instanceof f){switch(arguments.length){case 0:return new h;case 1:return new h(p);case 2:return new h(p,m)}return new h(p,m,y)}return e(h,this,arguments)};return f.prototype=h.prototype,f};return kx=function(h,f){var p=h.target,m=h.global,y=h.stat,x=h.proto,g=m?t:y?t[p]:t[p]&&t[p].prototype,v=m?a:a[p]||l(a,p,{})[p],w=v.prototype,b,_,E,N,S,O,C,T,P;for(N in f)b=s(m?N:p+(y?".":"#")+N,h.forced),_=!b&&g&&c(g,N),O=v[N],_&&(h.dontCallGetSet?(P=i(g,N),C=P&&P.value):C=g[N]),S=_&&C?C:f[N],!(!b&&!x&&typeof O==typeof S)&&(h.bind&&_?T=o(S,t):h.wrap&&_?T=d(S):x&&n(S)?T=r(S):T=S,(h.sham||S&&S.sham||O&&O.sham)&&l(T,"sham",!0),l(v,N,T),x&&(E=p+"Prototype",c(a,E)||l(a,E,{}),l(a[E],N,S),h.real&&w&&(b||!w[N])&&l(w,N,S)))},kx}var Dx,N5;function Che(){if(N5)return Dx;N5=1;var t=Math.ceil,e=Math.floor;return Dx=Math.trunc||function(n){var i=+n;return(i>0?e:t)(i)},Dx}var Mx,O5;function Ju(){if(O5)return Mx;O5=1;var t=Che();return Mx=function(e){var r=+e;return r!==r||r===0?0:t(r)},Mx}var qx,C5;function Om(){if(C5)return qx;C5=1;var t=Ju(),e=Math.max,r=Math.min;return qx=function(n,i){var s=t(n);return s<0?e(s+i,0):r(s,i)},qx}var Ax,P5;function nY(){if(P5)return Ax;P5=1;var t=Ju(),e=Math.min;return Ax=function(r){var n=t(r);return n>0?e(n,9007199254740991):0},Ax}var Fx,T5;function Cs(){if(T5)return Fx;T5=1;var t=nY();return Fx=function(e){return t(e.length)},Fx}var Lx,j5;function qP(){if(j5)return Lx;j5=1;var t=vi(),e=Om(),r=Cs(),n=function(i){return function(s,a,o){var l=t(s),c=r(l);if(c===0)return!i&&-1;var d=e(o,c),h;if(i&&a!==a){for(;c>d;)if(h=l[d++],h!==h)return!0}else for(;c>d;d++)if((i||d in l)&&l[d]===a)return i||d||0;return!i&&-1}};return Lx={includes:n(!0),indexOf:n(!1)},Lx}var Bx,I5;function bh(){return I5||(I5=1,Bx={}),Bx}var zx,R5;function iY(){if(R5)return zx;R5=1;var t=We(),e=wr(),r=vi(),n=qP().indexOf,i=bh(),s=t([].push);return zx=function(a,o){var l=r(a),c=0,d=[],h;for(h in l)!e(i,h)&&e(l,h)&&s(d,h);for(;o.length>c;)e(l,h=o[c++])&&(~n(d,h)||s(d,h));return d},zx}var Ux,$5;function AP(){return $5||($5=1,Ux=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]),Ux}var Wx,k5;function xh(){if(k5)return Wx;k5=1;var t=iY(),e=AP();return Wx=Object.keys||function(n){return t(n,e)},Wx}var Hx={},D5;function Cm(){return D5||(D5=1,Hx.f=Object.getOwnPropertySymbols),Hx}var Vx,M5;function Phe(){if(M5)return Vx;M5=1;var t=Ft(),e=We(),r=hn(),n=Be(),i=xh(),s=Cm(),a=wm(),o=On(),l=_m(),c=Object.assign,d=Object.defineProperty,h=e([].concat);return Vx=!c||n(function(){if(t&&c({b:1},c(d({},"a",{enumerable:!0,get:function(){d(this,"b",{value:3,enumerable:!1})}}),{b:2})).b!==1)return!0;var f={},p={},m=Symbol("assign detection"),y="abcdefghijklmnopqrst";return f[m]=7,y.split("").forEach(function(x){p[x]=x}),c({},f)[m]!==7||i(c({},p)).join("")!==y})?function(p,m){for(var y=o(p),x=arguments.length,g=1,v=s.f,w=a.f;x>g;)for(var b=l(arguments[g++]),_=v?h(i(b),v(b)):i(b),E=_.length,N=0,S;E>N;)S=_[N++],(!t||r(w,b,S))&&(y[S]=b[S]);return y}:c,Vx}var q5;function The(){if(q5)return T4;q5=1;var t=Se(),e=Phe();return t({target:"Object",stat:!0,arity:2,forced:Object.assign!==e},{assign:e}),T4}var Kx,A5;function jhe(){if(A5)return Kx;A5=1,The();var t=tt();return Kx=t.Object.assign,Kx}var Gx,F5;function Ihe(){if(F5)return Gx;F5=1;var t=jhe();return Gx=t,Gx}var Yx,L5;function Rhe(){return L5||(L5=1,Yx=Ihe()),Yx}var $he=Rhe(),Ht=Pe($he),B5={},Qx,z5;function Zu(){if(z5)return Qx;z5=1;var t=We();return Qx=t([].slice),Qx}var Xx,U5;function khe(){if(U5)return Xx;U5=1;var t=We(),e=Os(),r=fr(),n=wr(),i=Zu(),s=mh(),a=Function,o=t([].concat),l=t([].join),c={},d=function(h,f,p){if(!n(c,f)){for(var m=[],y=0;y<f;y++)m[y]="a["+y+"]";c[f]=a("C,a","return new C("+l(m,",")+")")}return c[f](h,p)};return Xx=s?a.bind:function(f){var p=e(this),m=p.prototype,y=i(arguments,1),x=function(){var v=o(y,i(arguments));return this instanceof x?d(p,v.length,v):p.apply(f,v)};return r(m)&&(x.prototype=m),x},Xx}var W5;function Dhe(){if(W5)return B5;W5=1;var t=Se(),e=khe();return t({target:"Function",proto:!0,forced:Function.bind!==e},{bind:e}),B5}var Jx,H5;function _r(){if(H5)return Jx;H5=1;var t=_t(),e=tt();return Jx=function(r,n){var i=e[r+"Prototype"],s=i&&i[n];if(s)return s;var a=t[r],o=a&&a.prototype;return o&&o[n]},Jx}var Zx,V5;function Mhe(){if(V5)return Zx;V5=1,Dhe();var t=_r();return Zx=t("Function","bind"),Zx}var ew,K5;function qhe(){if(K5)return ew;K5=1;var t=Yt(),e=Mhe(),r=Function.prototype;return ew=function(n){var i=n.bind;return n===r||t(r,n)&&i===r.bind?e:i},ew}var tw,G5;function Ahe(){if(G5)return tw;G5=1;var t=qhe();return tw=t,tw}var rw,Y5;function Fhe(){return Y5||(Y5=1,rw=Ahe()),rw}var Lhe=Fhe(),Z=Pe(Lhe);function FP(t,e,r,n){t.beginPath(),t.arc(e,r,n,0,2*Math.PI,!1),t.closePath()}function Bhe(t,e,r,n){t.beginPath(),t.rect(e-n,r-n,n*2,n*2),t.closePath()}function zhe(t,e,r,n){t.beginPath(),n*=1.15,r+=.275*n;const i=n*2,s=i/2,a=Math.sqrt(3)/6*i,o=Math.sqrt(i*i-s*s);t.moveTo(e,r-(o-a)),t.lineTo(e+s,r+a),t.lineTo(e-s,r+a),t.lineTo(e,r-(o-a)),t.closePath()}function Uhe(t,e,r,n){t.beginPath(),n*=1.15,r-=.275*n;const i=n*2,s=i/2,a=Math.sqrt(3)/6*i,o=Math.sqrt(i*i-s*s);t.moveTo(e,r+(o-a)),t.lineTo(e+s,r-a),t.lineTo(e-s,r-a),t.lineTo(e,r+(o-a)),t.closePath()}function Whe(t,e,r,n){t.beginPath(),n*=.82,r+=.1*n;for(let i=0;i<10;i++){const s=i%2===0?n*1.3:n*.5;t.lineTo(e+s*Math.sin(i*2*Math.PI/10),r-s*Math.cos(i*2*Math.PI/10))}t.closePath()}function Hhe(t,e,r,n){t.beginPath(),t.lineTo(e,r+n),t.lineTo(e+n,r),t.lineTo(e,r-n),t.lineTo(e-n,r),t.closePath()}function sY(t,e,r,n,i,s){const a=Math.PI/180;n-2*s<0&&(s=n/2),i-2*s<0&&(s=i/2),t.beginPath(),t.moveTo(e+s,r),t.lineTo(e+n-s,r),t.arc(e+n-s,r+s,s,a*270,a*360,!1),t.lineTo(e+n,r+i-s),t.arc(e+n-s,r+i-s,s,0,a*90,!1),t.lineTo(e+s,r+i),t.arc(e+s,r+i-s,s,a*90,a*180,!1),t.lineTo(e,r+s),t.arc(e+s,r+s,s,a*180,a*270,!1),t.closePath()}function TO(t,e,r,n,i){const s=.5522848,a=n/2*s,o=i/2*s,l=e+n,c=r+i,d=e+n/2,h=r+i/2;t.beginPath(),t.moveTo(e,h),t.bezierCurveTo(e,h-o,d-a,r,d,r),t.bezierCurveTo(d+a,r,l,h-o,l,h),t.bezierCurveTo(l,h+o,d+a,c,d,c),t.bezierCurveTo(d-a,c,e,h+o,e,h),t.closePath()}function aY(t,e,r,n,i){const s=.3333333333333333,a=n,o=i*s,l=.5522848,c=a/2*l,d=o/2*l,h=e+a,f=r+o,p=e+a/2,m=r+o/2,y=r+(i-o/2),x=r+i;t.beginPath(),t.moveTo(h,m),t.bezierCurveTo(h,m+d,p+c,f,p,f),t.bezierCurveTo(p-c,f,e,m+d,e,m),t.bezierCurveTo(e,m-d,p-c,r,p,r),t.bezierCurveTo(p+c,r,h,m-d,h,m),t.lineTo(h,y),t.bezierCurveTo(h,y+d,p+c,x,p,x),t.bezierCurveTo(p-c,x,e,y+d,e,y),t.lineTo(e,m)}function oY(t,e,r,n,i,s){t.beginPath(),t.moveTo(e,r);const a=s.length,o=n-e,l=i-r,c=l/o;let d=Math.sqrt(o*o+l*l),h=0,f=!0,p=0,m=+s[0];for(;d>=.1;)m=+s[h++%a],m>d&&(m=d),p=Math.sqrt(m*m/(1+c*c)),p=o<0?-p:p,e+=p,r+=c*p,f===!0?t.lineTo(e,r):t.moveTo(e,r),d-=m,f=!f}function Vhe(t,e,r,n){t.beginPath();const i=6,s=Math.PI*2/i;t.moveTo(e+n,r);for(let a=1;a<i;a++)t.lineTo(e+n*Math.cos(s*a),r+n*Math.sin(s*a));t.closePath()}const Q5={circle:FP,dashedLine:oY,database:aY,diamond:Hhe,ellipse:TO,ellipse_vis:TO,hexagon:Vhe,roundRect:sY,square:Bhe,star:Whe,triangle:zhe,triangleDown:Uhe};function Khe(t){return Object.prototype.hasOwnProperty.call(Q5,t)?Q5[t]:function(e){for(var r=arguments.length,n=new Array(r>1?r-1:0),i=1;i<r;i++)n[i-1]=arguments[i];CanvasRenderingContext2D.prototype[t].call(e,n)}}var nw={exports:{}},X5;function Ghe(){return X5||(X5=1,function(t){t.exports=e;function e(n){if(n)return r(n)}function r(n){for(var i in e.prototype)n[i]=e.prototype[i];return n}e.prototype.on=e.prototype.addEventListener=function(n,i){return this._callbacks=this._callbacks||{},(this._callbacks["$"+n]=this._callbacks["$"+n]||[]).push(i),this},e.prototype.once=function(n,i){function s(){this.off(n,s),i.apply(this,arguments)}return s.fn=i,this.on(n,s),this},e.prototype.off=e.prototype.removeListener=e.prototype.removeAllListeners=e.prototype.removeEventListener=function(n,i){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var s=this._callbacks["$"+n];if(!s)return this;if(arguments.length==1)return delete this._callbacks["$"+n],this;for(var a,o=0;o<s.length;o++)if(a=s[o],a===i||a.fn===i){s.splice(o,1);break}return s.length===0&&delete this._callbacks["$"+n],this},e.prototype.emit=function(n){this._callbacks=this._callbacks||{};for(var i=new Array(arguments.length-1),s=this._callbacks["$"+n],a=1;a<arguments.length;a++)i[a-1]=arguments[a];if(s){s=s.slice(0);for(var a=0,o=s.length;a<o;++a)s[a].apply(this,i)}return this},e.prototype.listeners=function(n){return this._callbacks=this._callbacks||{},this._callbacks["$"+n]||[]},e.prototype.hasListeners=function(n){return!!this.listeners(n).length}}(nw)),nw.exports}var Yhe=Ghe(),lY=Pe(Yhe),J5={},iw,Z5;function Ko(){if(Z5)return iw;Z5=1;var t=qi();return iw=Array.isArray||function(r){return t(r)==="Array"},iw}var sw,e3;function uY(){if(e3)return sw;e3=1;var t=TypeError,e=9007199254740991;return sw=function(r){if(r>e)throw t("Maximum allowed index exceeded");return r},sw}var aw,t3;function Pm(){if(t3)return aw;t3=1;var t=Ft(),e=Vn(),r=vh();return aw=function(n,i,s){t?e.f(n,i,r(0,s)):n[i]=s},aw}var ow,r3;function LP(){if(r3)return ow;r3=1;var t=Qt(),e=t("toStringTag"),r={};return r[e]="z",ow=String(r)==="[object z]",ow}var lw,n3;function ec(){if(n3)return lw;n3=1;var t=LP(),e=hr(),r=qi(),n=Qt(),i=n("toStringTag"),s=Object,a=r(function(){return arguments}())==="Arguments",o=function(l,c){try{return l[c]}catch{}};return lw=t?r:function(l){var c,d,h;return l===void 0?"Undefined":l===null?"Null":typeof(d=o(c=s(l),i))=="string"?d:a?r(c):(h=r(c))==="Object"&&e(c.callee)?"Arguments":h},lw}var uw,i3;function Qhe(){if(i3)return uw;i3=1;var t=We(),e=hr(),r=DP(),n=t(Function.toString);return e(r.inspectSource)||(r.inspectSource=function(i){return n(i)}),uw=r.inspectSource,uw}var cw,s3;function cY(){if(s3)return cw;s3=1;var t=We(),e=Be(),r=hr(),n=ec(),i=Nn(),s=Qhe(),a=function(){},o=i("Reflect","construct"),l=/^\s*(?:class|function)\b/,c=t(l.exec),d=!l.test(a),h=function(m){if(!r(m))return!1;try{return o(a,[],m),!0}catch{return!1}},f=function(m){if(!r(m))return!1;switch(n(m)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return d||!!c(l,s(m))}catch{return!0}};return f.sham=!0,cw=!o||e(function(){var p;return h(h.call)||!h(Object)||!h(function(){p=!0})||p})?f:h,cw}var dw,a3;function Xhe(){if(a3)return dw;a3=1;var t=Ko(),e=cY(),r=fr(),n=Qt(),i=n("species"),s=Array;return dw=function(a){var o;return t(a)&&(o=a.constructor,e(o)&&(o===s||t(o.prototype))?o=void 0:r(o)&&(o=o[i],o===null&&(o=void 0))),o===void 0?s:o},dw}var hw,o3;function BP(){if(o3)return hw;o3=1;var t=Xhe();return hw=function(e,r){return new(t(e))(r===0?0:r)},hw}var fw,l3;function wh(){if(l3)return fw;l3=1;var t=Be(),e=Qt(),r=gh(),n=e("species");return fw=function(i){return r>=51||!t(function(){var s=[],a=s.constructor={};return a[n]=function(){return{foo:1}},s[i](Boolean).foo!==1})},fw}var u3;function dY(){if(u3)return J5;u3=1;var t=Se(),e=Be(),r=Ko(),n=fr(),i=On(),s=Cs(),a=uY(),o=Pm(),l=BP(),c=wh(),d=Qt(),h=gh(),f=d("isConcatSpreadable"),p=h>=51||!e(function(){var x=[];return x[f]=!1,x.concat()[0]!==x}),m=function(x){if(!n(x))return!1;var g=x[f];return g!==void 0?!!g:r(x)},y=!p||!c("concat");return t({target:"Array",proto:!0,arity:1,forced:y},{concat:function(g){var v=i(this),w=l(v,0),b=0,_,E,N,S,O;for(_=-1,N=arguments.length;_<N;_++)if(O=_===-1?v:arguments[_],m(O))for(S=s(O),a(b+S),E=0;E<S;E++,b++)E in O&&o(w,b,O[E]);else a(b+1),o(w,b++,O);return w.length=b,w}}),J5}var c3={},d3={},pw,h3;function Kn(){if(h3)return pw;h3=1;var t=ec(),e=String;return pw=function(r){if(t(r)==="Symbol")throw new TypeError("Cannot convert a Symbol value to a string");return e(r)},pw}var mw={},f3;function zP(){if(f3)return mw;f3=1;var t=Ft(),e=rY(),r=Vn(),n=Ai(),i=vi(),s=xh();return mw.f=t&&!e?Object.defineProperties:function(o,l){n(o);for(var c=i(l),d=s(l),h=d.length,f=0,p;h>f;)r.f(o,p=d[f++],c[p]);return o},mw}var vw,p3;function Jhe(){if(p3)return vw;p3=1;var t=Nn();return vw=t("document","documentElement"),vw}var gw,m3;function Tm(){if(m3)return gw;m3=1;var t=Qu(),e=Sm(),r=t("keys");return gw=function(n){return r[n]||(r[n]=e(n))},gw}var yw,v3;function _h(){if(v3)return yw;v3=1;var t=Ai(),e=zP(),r=AP(),n=bh(),i=Jhe(),s=eY(),a=Tm(),o=">",l="<",c="prototype",d="script",h=a("IE_PROTO"),f=function(){},p=function(v){return l+d+o+v+l+"/"+d+o},m=function(v){v.write(p("")),v.close();var w=v.parentWindow.Object;return v=null,w},y=function(){var v=s("iframe"),w="java"+d+":",b;return v.style.display="none",i.appendChild(v),v.src=String(w),b=v.contentWindow.document,b.open(),b.write(p("document.F=Object")),b.close(),b.F},x,g=function(){try{x=new ActiveXObject("htmlfile")}catch{}g=typeof document<"u"?document.domain&&x?m(x):y():m(x);for(var v=r.length;v--;)delete g[c][r[v]];return g()};return n[h]=!0,yw=Object.create||function(w,b){var _;return w!==null?(f[c]=t(w),_=new f,f[c]=null,_[h]=w):_=g(),b===void 0?_:e.f(_,b)},yw}var bw={},g3;function jm(){if(g3)return bw;g3=1;var t=iY(),e=AP(),r=e.concat("length","prototype");return bw.f=Object.getOwnPropertyNames||function(i){return t(i,r)},bw}var xw={},y3;function UP(){if(y3)return xw;y3=1;var t=qi(),e=vi(),r=jm().f,n=Zu(),i=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],s=function(a){try{return r(a)}catch{return n(i)}};return xw.f=function(o){return i&&t(o)==="Window"?s(o):r(e(o))},xw}var ww,b3;function Sh(){if(b3)return ww;b3=1;var t=Xu();return ww=function(e,r,n,i){return i&&i.enumerable?e[r]=n:t(e,r,n),e},ww}var _w,x3;function WP(){if(x3)return _w;x3=1;var t=Vn();return _w=function(e,r,n){return t.f(e,r,n)},_w}var Sw={},w3;function Im(){if(w3)return Sw;w3=1;var t=Qt();return Sw.f=t,Sw}var Ew,_3;function Pt(){if(_3)return Ew;_3=1;var t=tt(),e=wr(),r=Im(),n=Vn().f;return Ew=function(i){var s=t.Symbol||(t.Symbol={});e(s,i)||n(s,i,{value:r.f(i)})},Ew}var Nw,S3;function hY(){if(S3)return Nw;S3=1;var t=hn(),e=Nn(),r=Qt(),n=Sh();return Nw=function(){var i=e("Symbol"),s=i&&i.prototype,a=s&&s.valueOf,o=r("toPrimitive");s&&!s[o]&&n(s,o,function(l){return t(a,this)},{arity:1})},Nw}var Ow,E3;function Zhe(){if(E3)return Ow;E3=1;var t=LP(),e=ec();return Ow=t?{}.toString:function(){return"[object "+e(this)+"]"},Ow}var Cw,N3;function Go(){if(N3)return Cw;N3=1;var t=LP(),e=Vn().f,r=Xu(),n=wr(),i=Zhe(),s=Qt(),a=s("toStringTag");return Cw=function(o,l,c,d){var h=c?o:o&&o.prototype;h&&(n(h,a)||e(h,a,{configurable:!0,value:l}),d&&!t&&r(h,"toString",i))},Cw}var Pw,O3;function fY(){if(O3)return Pw;O3=1;var t=_t(),e=hr(),r=t.WeakMap;return Pw=e(r)&&/native code/.test(String(r)),Pw}var Tw,C3;function Yo(){if(C3)return Tw;C3=1;var t=fY(),e=_t(),r=fr(),n=Xu(),i=wr(),s=DP(),a=Tm(),o=bh(),l="Object already initialized",c=e.TypeError,d=e.WeakMap,h,f,p,m=function(v){return p(v)?f(v):h(v,{})},y=function(v){return function(w){var b;if(!r(w)||(b=f(w)).type!==v)throw new c("Incompatible receiver, "+v+" required");return b}};if(t||s.state){var x=s.state||(s.state=new d);x.get=x.get,x.has=x.has,x.set=x.set,h=function(v,w){if(x.has(v))throw new c(l);return w.facade=v,x.set(v,w),w},f=function(v){return x.get(v)||{}},p=function(v){return x.has(v)}}else{var g=a("state");o[g]=!0,h=function(v,w){if(i(v,g))throw new c(l);return w.facade=v,n(v,g,w),w},f=function(v){return i(v,g)?v[g]:{}},p=function(v){return i(v,g)}}return Tw={set:h,get:f,has:p,enforce:m,getterFor:y},Tw}var jw,P3;function Ta(){if(P3)return jw;P3=1;var t=Nm(),e=We(),r=_m(),n=On(),i=Cs(),s=BP(),a=e([].push),o=function(l){var c=l===1,d=l===2,h=l===3,f=l===4,p=l===6,m=l===7,y=l===5||p;return function(x,g,v,w){for(var b=n(x),_=r(b),E=i(_),N=t(g,v),S=0,O=w||s,C=c?O(x,E):d||m?O(x,0):void 0,T,P;E>S;S++)if((y||S in _)&&(T=_[S],P=N(T,S,b),l))if(c)C[S]=P;else if(P)switch(l){case 3:return!0;case 5:return T;case 6:return S;case 2:a(C,T)}else switch(l){case 4:return!1;case 7:a(C,T)}return p?-1:h||f?f:C}};return jw={forEach:o(0),map:o(1),filter:o(2),some:o(3),every:o(4),find:o(5),findIndex:o(6),filterReject:o(7)},jw}var T3;function efe(){if(T3)return d3;T3=1;var t=Se(),e=_t(),r=hn(),n=We(),i=Yu(),s=Ft(),a=Ku(),o=Be(),l=wr(),c=Yt(),d=Ai(),h=vi(),f=MP(),p=Kn(),m=vh(),y=_h(),x=xh(),g=jm(),v=UP(),w=Cm(),b=Em(),_=Vn(),E=zP(),N=wm(),S=Sh(),O=WP(),C=Qu(),T=Tm(),P=bh(),j=Sm(),D=Qt(),L=Im(),G=Pt(),H=hY(),F=Go(),V=Yo(),W=Ta().forEach,U=T("hidden"),K="Symbol",he="prototype",xe=V.set,Re=V.getterFor(K),ge=Object[he],Ee=e.Symbol,$e=Ee&&Ee[he],rt=e.RangeError,nr=e.TypeError,bt=e.QObject,pr=b.f,lt=_.f,jr=v.f,Ir=N.f,Sr=n([].push),nt=C("symbols"),Lt=C("op-symbols"),Rr=C("wks"),Kr=!bt||!bt[he]||!bt[he].findChild,$=function(ve,X,le){var oe=pr(ge,X);oe&&delete ge[X],lt(ve,X,le),oe&&ve!==ge&&lt(ge,X,oe)},M=s&&o(function(){return y(lt({},"a",{get:function(){return lt(this,"a",{value:7}).a}})).a!==7})?$:lt,A=function(ve,X){var le=nt[ve]=y($e);return xe(le,{type:K,tag:ve,description:X}),s||(le.description=X),le},ie=function(X,le,oe){X===ge&&ie(Lt,le,oe),d(X);var _e=f(le);return d(oe),l(nt,_e)?(oe.enumerable?(l(X,U)&&X[U][_e]&&(X[U][_e]=!1),oe=y(oe,{enumerable:m(0,!1)})):(l(X,U)||lt(X,U,m(1,y(null))),X[U][_e]=!0),M(X,_e,oe)):lt(X,_e,oe)},ee=function(X,le){d(X);var oe=h(le),_e=x(oe).concat(He(oe));return W(_e,function(Ae){(!s||r(z,oe,Ae))&&ie(X,Ae,oe[Ae])}),X},Y=function(X,le){return le===void 0?y(X):ee(y(X),le)},z=function(X){var le=f(X),oe=r(Ir,this,le);return this===ge&&l(nt,le)&&!l(Lt,le)?!1:oe||!l(this,le)||!l(nt,le)||l(this,U)&&this[U][le]?oe:!0},ae=function(X,le){var oe=h(X),_e=f(le);if(!(oe===ge&&l(nt,_e)&&!l(Lt,_e))){var Ae=pr(oe,_e);return Ae&&l(nt,_e)&&!(l(oe,U)&&oe[U][_e])&&(Ae.enumerable=!0),Ae}},de=function(X){var le=jr(h(X)),oe=[];return W(le,function(_e){!l(nt,_e)&&!l(P,_e)&&Sr(oe,_e)}),oe},He=function(ve){var X=ve===ge,le=jr(X?Lt:h(ve)),oe=[];return W(le,function(_e){l(nt,_e)&&(!X||l(ge,_e))&&Sr(oe,nt[_e])}),oe};return a||(Ee=function(){if(c($e,this))throw new nr("Symbol is not a constructor");var X=!arguments.length||arguments[0]===void 0?void 0:p(arguments[0]),le=j(X),oe=function(_e){var Ae=this===void 0?e:this;Ae===ge&&r(oe,Lt,_e),l(Ae,U)&&l(Ae[U],le)&&(Ae[U][le]=!1);var Cn=m(1,_e);try{M(Ae,le,Cn)}catch(Pn){if(!(Pn instanceof rt))throw Pn;$(Ae,le,Cn)}};return s&&Kr&&M(ge,le,{configurable:!0,set:oe}),A(le,X)},$e=Ee[he],S($e,"toString",function(){return Re(this).tag}),S(Ee,"withoutSetter",function(ve){return A(j(ve),ve)}),N.f=z,_.f=ie,E.f=ee,b.f=ae,g.f=v.f=de,w.f=He,L.f=function(ve){return A(D(ve),ve)},s&&(O($e,"description",{configurable:!0,get:function(){return Re(this).description}}),i||S(ge,"propertyIsEnumerable",z,{unsafe:!0}))),t({global:!0,constructor:!0,wrap:!0,forced:!a,sham:!a},{Symbol:Ee}),W(x(Rr),function(ve){G(ve)}),t({target:K,stat:!0,forced:!a},{useSetter:function(){Kr=!0},useSimple:function(){Kr=!1}}),t({target:"Object",stat:!0,forced:!a,sham:!s},{create:Y,defineProperty:ie,defineProperties:ee,getOwnPropertyDescriptor:ae}),t({target:"Object",stat:!0,forced:!a},{getOwnPropertyNames:de}),H(),F(Ee,K),P[U]=!0,d3}var j3={},Iw,I3;function pY(){if(I3)return Iw;I3=1;var t=Ku();return Iw=t&&!!Symbol.for&&!!Symbol.keyFor,Iw}var R3;function tfe(){if(R3)return j3;R3=1;var t=Se(),e=Nn(),r=wr(),n=Kn(),i=Qu(),s=pY(),a=i("string-to-symbol-registry"),o=i("symbol-to-string-registry");return t({target:"Symbol",stat:!0,forced:!s},{for:function(l){var c=n(l);if(r(a,c))return a[c];var d=e("Symbol")(c);return a[c]=d,o[d]=c,d}}),j3}var $3={},k3;function rfe(){if(k3)return $3;k3=1;var t=Se(),e=wr(),r=yh(),n=Gu(),i=Qu(),s=pY(),a=i("symbol-to-string-registry");return t({target:"Symbol",stat:!0,forced:!s},{keyFor:function(l){if(!r(l))throw new TypeError(n(l)+" is not a symbol");if(e(a,l))return a[l]}}),$3}var D3={},Rw,M3;function nfe(){if(M3)return Rw;M3=1;var t=We(),e=Ko(),r=hr(),n=qi(),i=Kn(),s=t([].push);return Rw=function(a){if(r(a))return a;if(e(a)){for(var o=a.length,l=[],c=0;c<o;c++){var d=a[c];typeof d=="string"?s(l,d):(typeof d=="number"||n(d)==="Number"||n(d)==="String")&&s(l,i(d))}var h=l.length,f=!0;return function(p,m){if(f)return f=!1,m;if(e(this))return m;for(var y=0;y<h;y++)if(l[y]===p)return m}}},Rw}var q3;function mY(){if(q3)return D3;q3=1;var t=Se(),e=Nn(),r=xm(),n=hn(),i=We(),s=Be(),a=hr(),o=yh(),l=Zu(),c=nfe(),d=Ku(),h=String,f=e("JSON","stringify"),p=i(/./.exec),m=i("".charAt),y=i("".charCodeAt),x=i("".replace),g=i(1.1.toString),v=/[\uD800-\uDFFF]/g,w=/^[\uD800-\uDBFF]$/,b=/^[\uDC00-\uDFFF]$/,_=!d||s(function(){var O=e("Symbol")("stringify detection");return f([O])!=="[null]"||f({a:O})!=="{}"||f(Object(O))!=="{}"}),E=s(function(){return f("\uDF06\uD834")!=='"\\udf06\\ud834"'||f("\uDEAD")!=='"\\udead"'}),N=function(O,C){var T=l(arguments),P=c(C);if(!(!a(P)&&(O===void 0||o(O))))return T[1]=function(j,D){if(a(P)&&(D=n(P,this,h(j),D)),!o(D))return D},r(f,null,T)},S=function(O,C,T){var P=m(T,C-1),j=m(T,C+1);return p(w,O)&&!p(b,j)||p(b,O)&&!p(w,P)?"\\u"+g(y(O,0),16):O};return f&&t({target:"JSON",stat:!0,arity:3,forced:_||E},{stringify:function(C,T,P){var j=l(arguments),D=r(_?N:f,null,j);return E&&typeof D=="string"?x(D,v,S):D}}),D3}var A3={},F3;function ife(){if(F3)return A3;F3=1;var t=Se(),e=Ku(),r=Be(),n=Cm(),i=On(),s=!e||r(function(){n.f(1)});return t({target:"Object",stat:!0,forced:s},{getOwnPropertySymbols:function(o){var l=n.f;return l?l(i(o)):[]}}),A3}var L3;function vY(){return L3||(L3=1,efe(),tfe(),rfe(),mY(),ife()),c3}var B3={},z3;function gY(){if(z3)return B3;z3=1;var t=Pt();return t("asyncDispose"),B3}var U3={},W3;function sfe(){if(W3)return U3;W3=1;var t=Pt();return t("asyncIterator"),U3}var H3={},V3;function yY(){if(V3)return H3;V3=1;var t=Pt();return t("dispose"),H3}var K3={},G3;function afe(){if(G3)return K3;G3=1;var t=Pt();return t("hasInstance"),K3}var Y3={},Q3;function ofe(){if(Q3)return Y3;Q3=1;var t=Pt();return t("isConcatSpreadable"),Y3}var X3={},J3;function bY(){if(J3)return X3;J3=1;var t=Pt();return t("iterator"),X3}var Z3={},eL;function lfe(){if(eL)return Z3;eL=1;var t=Pt();return t("match"),Z3}var tL={},rL;function ufe(){if(rL)return tL;rL=1;var t=Pt();return t("matchAll"),tL}var nL={},iL;function cfe(){if(iL)return nL;iL=1;var t=Pt();return t("replace"),nL}var sL={},aL;function dfe(){if(aL)return sL;aL=1;var t=Pt();return t("search"),sL}var oL={},lL;function hfe(){if(lL)return oL;lL=1;var t=Pt();return t("species"),oL}var uL={},cL;function ffe(){if(cL)return uL;cL=1;var t=Pt();return t("split"),uL}var dL={},hL;function xY(){if(hL)return dL;hL=1;var t=Pt(),e=hY();return t("toPrimitive"),e(),dL}var fL={},pL;function pfe(){if(pL)return fL;pL=1;var t=Nn(),e=Pt(),r=Go();return e("toStringTag"),r(t("Symbol"),"Symbol"),fL}var mL={},vL;function mfe(){if(vL)return mL;vL=1;var t=Pt();return t("unscopables"),mL}var gL={},yL;function vfe(){if(yL)return gL;yL=1;var t=_t(),e=Go();return e(t.JSON,"JSON",!0),gL}var $w,bL;function gfe(){if(bL)return $w;bL=1,dY(),vY(),gY(),sfe(),yY(),afe(),ofe(),bY(),lfe(),ufe(),cfe(),dfe(),hfe(),ffe(),xY(),pfe(),mfe(),vfe();var t=tt();return $w=t.Symbol,$w}var xL={},kw,wL;function HP(){return wL||(wL=1,kw=function(){}),kw}var Dw,_L;function tc(){return _L||(_L=1,Dw={}),Dw}var Mw,SL;function yfe(){if(SL)return Mw;SL=1;var t=Ft(),e=wr(),r=Function.prototype,n=t&&Object.getOwnPropertyDescriptor,i=e(r,"name"),s=i&&(function(){}).name==="something",a=i&&(!t||t&&n(r,"name").configurable);return Mw={EXISTS:i,PROPER:s,CONFIGURABLE:a},Mw}var qw,EL;function wY(){if(EL)return qw;EL=1;var t=Be();return qw=!t(function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype}),qw}var Aw,NL;function Rm(){if(NL)return Aw;NL=1;var t=wr(),e=hr(),r=On(),n=Tm(),i=wY(),s=n("IE_PROTO"),a=Object,o=a.prototype;return Aw=i?a.getPrototypeOf:function(l){var c=r(l);if(t(c,s))return c[s];var d=c.constructor;return e(d)&&c instanceof d?d.prototype:c instanceof a?o:null},Aw}var Fw,OL;function _Y(){if(OL)return Fw;OL=1;var t=Be(),e=hr(),r=fr(),n=_h(),i=Rm(),s=Sh(),a=Qt(),o=Yu(),l=a("iterator"),c=!1,d,h,f;[].keys&&(f=[].keys(),"next"in f?(h=i(i(f)),h!==Object.prototype&&(d=h)):c=!0);var p=!r(d)||t(function(){var m={};return d[l].call(m)!==m});return p?d={}:o&&(d=n(d)),e(d[l])||s(d,l,function(){return this}),Fw={IteratorPrototype:d,BUGGY_SAFARI_ITERATORS:c},Fw}var Lw,CL;function bfe(){if(CL)return Lw;CL=1;var t=_Y().IteratorPrototype,e=_h(),r=vh(),n=Go(),i=tc(),s=function(){return this};return Lw=function(a,o,l,c){var d=o+" Iterator";return a.prototype=e(t,{next:r(+!c,l)}),n(a,d,!1,!0),i[d]=s,a},Lw}var Bw,PL;function xfe(){if(PL)return Bw;PL=1;var t=We(),e=Os();return Bw=function(r,n,i){try{return t(e(Object.getOwnPropertyDescriptor(r,n)[i]))}catch{}},Bw}var zw,TL;function wfe(){if(TL)return zw;TL=1;var t=fr();return zw=function(e){return t(e)||e===null},zw}var Uw,jL;function _fe(){if(jL)return Uw;jL=1;var t=wfe(),e=String,r=TypeError;return Uw=function(n){if(t(n))return n;throw new r("Can't set "+e(n)+" as a prototype")},Uw}var Ww,IL;function Sfe(){if(IL)return Ww;IL=1;var t=xfe(),e=fr(),r=Ns(),n=_fe();return Ww=Object.setPrototypeOf||("__proto__"in{}?function(){var i=!1,s={},a;try{a=t(Object.prototype,"__proto__","set"),a(s,[]),i=s instanceof Array}catch{}return function(l,c){return r(l),n(c),e(l)&&(i?a(l,c):l.__proto__=c),l}}():void 0),Ww}var Hw,RL;function VP(){if(RL)return Hw;RL=1;var t=Se(),e=hn(),r=Yu(),n=yfe(),i=hr(),s=bfe(),a=Rm(),o=Sfe(),l=Go(),c=Xu(),d=Sh(),h=Qt(),f=tc(),p=_Y(),m=n.PROPER,y=n.CONFIGURABLE,x=p.IteratorPrototype,g=p.BUGGY_SAFARI_ITERATORS,v=h("iterator"),w="keys",b="values",_="entries",E=function(){return this};return Hw=function(N,S,O,C,T,P,j){s(O,S,C);var D=function(xe){if(xe===T&&V)return V;if(!g&&xe&&xe in H)return H[xe];switch(xe){case w:return function(){return new O(this,xe)};case b:return function(){return new O(this,xe)};case _:return function(){return new O(this,xe)}}return function(){return new O(this)}},L=S+" Iterator",G=!1,H=N.prototype,F=H[v]||H["@@iterator"]||T&&H[T],V=!g&&F||D(T),W=S==="Array"&&H.entries||F,U,K,he;if(W&&(U=a(W.call(new N)),U!==Object.prototype&&U.next&&(!r&&a(U)!==x&&(o?o(U,x):i(U[v])||d(U,v,E)),l(U,L,!0,!0),r&&(f[L]=E))),m&&T===b&&F&&F.name!==b&&(!r&&y?c(H,"name",b):(G=!0,V=function(){return e(F,this)})),T)if(K={values:D(b),keys:P?V:D(w),entries:D(_)},j)for(he in K)(g||G||!(he in H))&&d(H,he,K[he]);else t({target:S,proto:!0,forced:g||G},K);return(!r||j)&&H[v]!==V&&d(H,v,V,{name:T}),f[S]=V,K},Hw}var Vw,$L;function KP(){return $L||($L=1,Vw=function(t,e){return{value:t,done:e}}),Vw}var Kw,kL;function rc(){if(kL)return Kw;kL=1;var t=vi(),e=HP(),r=tc(),n=Yo(),i=Vn().f,s=VP(),a=KP(),o=Yu(),l=Ft(),c="Array Iterator",d=n.set,h=n.getterFor(c);Kw=s(Array,"Array",function(p,m){d(this,{type:c,target:t(p),index:0,kind:m})},function(){var p=h(this),m=p.target,y=p.index++;if(!m||y>=m.length)return p.target=null,a(void 0,!0);switch(p.kind){case"keys":return a(y,!1);case"values":return a(m[y],!1)}return a([y,m[y]],!1)},"values");var f=r.Arguments=r.Array;if(e("keys"),e("values"),e("entries"),!o&&l&&f.name!=="values")try{i(f,"name",{value:"values"})}catch{}return Kw}var Gw,DL;function Efe(){return DL||(DL=1,Gw={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}),Gw}var ML;function nc(){if(ML)return xL;ML=1,rc();var t=Efe(),e=_t(),r=Go(),n=tc();for(var i in t)r(e[i],i),n[i]=n.Array;return xL}var Yw,qL;function SY(){if(qL)return Yw;qL=1;var t=gfe();return nc(),Yw=t,Yw}var Qw,AL;function Nfe(){return AL||(AL=1,Qw=SY()),Qw}var Ofe=Nfe(),Cfe=Pe(Ofe),FL={},LL;function Pfe(){if(LL)return FL;LL=1;var t=Se(),e=Ko(),r=cY(),n=fr(),i=Om(),s=Cs(),a=vi(),o=Pm(),l=Qt(),c=wh(),d=Zu(),h=c("slice"),f=l("species"),p=Array,m=Math.max;return t({target:"Array",proto:!0,forced:!h},{slice:function(x,g){var v=a(this),w=s(v),b=i(x,w),_=i(g===void 0?w:g,w),E,N,S;if(e(v)&&(E=v.constructor,r(E)&&(E===p||e(E.prototype))?E=void 0:n(E)&&(E=E[f],E===null&&(E=void 0)),E===p||E===void 0))return d(v,b,_);for(N=new(E===void 0?p:E)(m(_-b,0)),S=0;b<_;b++,S++)b in v&&o(N,S,v[b]);return N.length=S,N}}),FL}var Xw,BL;function Tfe(){if(BL)return Xw;BL=1,Pfe();var t=_r();return Xw=t("Array","slice"),Xw}var Jw,zL;function jfe(){if(zL)return Jw;zL=1;var t=Yt(),e=Tfe(),r=Array.prototype;return Jw=function(n){var i=n.slice;return n===r||t(r,n)&&i===r.slice?e:i},Jw}var Zw,UL;function Ife(){if(UL)return Zw;UL=1;var t=jfe();return Zw=t,Zw}var e_,WL;function Rfe(){return WL||(WL=1,e_=Ife()),e_}var $fe=Rfe(),Ci=Pe($fe),t_,HL;function kfe(){if(HL)return t_;HL=1;var t=Nn(),e=We(),r=jm(),n=Cm(),i=Ai(),s=e([].concat);return t_=t("Reflect","ownKeys")||function(o){var l=r.f(i(o)),c=n.f;return c?s(l,c(o)):l},t_}var VL={},KL;function Dfe(){if(KL)return VL;KL=1;var t=Se(),e=Ko();return t({target:"Array",stat:!0},{isArray:e}),VL}var r_,GL;function Mfe(){if(GL)return r_;GL=1,Dfe();var t=tt();return r_=t.Array.isArray,r_}var n_,YL;function qfe(){if(YL)return n_;YL=1;var t=Mfe();return n_=t,n_}var i_,QL;function Afe(){return QL||(QL=1,i_=qfe()),i_}var Ffe=Afe(),Dt=Pe(Ffe),XL={},JL;function Lfe(){if(JL)return XL;JL=1;var t=Se(),e=Ta().map,r=wh(),n=r("map");return t({target:"Array",proto:!0,forced:!n},{map:function(s){return e(this,s,arguments.length>1?arguments[1]:void 0)}}),XL}var s_,ZL;function Bfe(){if(ZL)return s_;ZL=1,Lfe();var t=_r();return s_=t("Array","map"),s_}var a_,e6;function zfe(){if(e6)return a_;e6=1;var t=Yt(),e=Bfe(),r=Array.prototype;return a_=function(n){var i=n.map;return n===r||t(r,n)&&i===r.map?e:i},a_}var o_,t6;function Ufe(){if(t6)return o_;t6=1;var t=zfe();return o_=t,o_}var l_,r6;function Wfe(){return r6||(r6=1,l_=Ufe()),l_}var Hfe=Wfe(),bu=Pe(Hfe),n6={},i6;function Vfe(){if(i6)return n6;i6=1;var t=Se(),e=On(),r=xh(),n=Be(),i=n(function(){r(1)});return t({target:"Object",stat:!0,forced:i},{keys:function(a){return r(e(a))}}),n6}var u_,s6;function Kfe(){if(s6)return u_;s6=1,Vfe();var t=tt();return u_=t.Object.keys,u_}var c_,a6;function Gfe(){if(a6)return c_;a6=1;var t=Kfe();return c_=t,c_}var d_,o6;function Yfe(){return o6||(o6=1,d_=Gfe()),d_}var Qfe=Yfe(),Rt=Pe(Qfe),l6={},u6;function Xfe(){if(u6)return l6;u6=1;var t=Se(),e=We(),r=Date,n=e(r.prototype.getTime);return t({target:"Date",stat:!0},{now:function(){return n(new r)}}),l6}var h_,c6;function Jfe(){if(c6)return h_;c6=1,Xfe();var t=tt();return h_=t.Date.now,h_}var f_,d6;function Zfe(){if(d6)return f_;d6=1;var t=Jfe();return f_=t,f_}var p_,h6;function epe(){return h6||(h6=1,p_=Zfe()),p_}var tpe=epe(),Ep=Pe(tpe),f6={},m_,p6;function ic(){if(p6)return m_;p6=1;var t=Be();return m_=function(e,r){var n=[][e];return!!n&&t(function(){n.call(null,r||function(){return 1},1)})},m_}var v_,m6;function rpe(){if(m6)return v_;m6=1;var t=Ta().forEach,e=ic(),r=e("forEach");return v_=r?[].forEach:function(i){return t(this,i,arguments.length>1?arguments[1]:void 0)},v_}var v6;function npe(){if(v6)return f6;v6=1;var t=Se(),e=rpe();return t({target:"Array",proto:!0,forced:[].forEach!==e},{forEach:e}),f6}var g_,g6;function ipe(){if(g6)return g_;g6=1,npe();var t=_r();return g_=t("Array","forEach"),g_}var y_,y6;function spe(){if(y6)return y_;y6=1;var t=ipe();return y_=t,y_}var b_,b6;function ape(){if(b6)return b_;b6=1;var t=ec(),e=wr(),r=Yt(),n=spe(),i=Array.prototype,s={DOMTokenList:!0,NodeList:!0};return b_=function(a){var o=a.forEach;return a===i||r(i,a)&&o===i.forEach||e(s,t(a))?n:o},b_}var x_,x6;function ope(){return x6||(x6=1,x_=ape()),x_}var lpe=ope(),at=Pe(lpe),w6={},_6;function upe(){if(_6)return w6;_6=1;var t=Se(),e=We(),r=Ko(),n=e([].reverse),i=[1,2];return t({target:"Array",proto:!0,forced:String(i)===String(i.reverse())},{reverse:function(){return r(this)&&(this.length=this.length),n(this)}}),w6}var w_,S6;function cpe(){if(S6)return w_;S6=1,upe();var t=_r();return w_=t("Array","reverse"),w_}var __,E6;function dpe(){if(E6)return __;E6=1;var t=Yt(),e=cpe(),r=Array.prototype;return __=function(n){var i=n.reverse;return n===r||t(r,n)&&i===r.reverse?e:i},__}var S_,N6;function hpe(){if(N6)return S_;N6=1;var t=dpe();return S_=t,S_}var E_,O6;function fpe(){return O6||(O6=1,E_=hpe()),E_}var ppe=fpe(),fo=Pe(ppe),C6={},N_,P6;function mpe(){if(P6)return N_;P6=1;var t=Ft(),e=Ko(),r=TypeError,n=Object.getOwnPropertyDescriptor,i=t&&!function(){if(this!==void 0)return!0;try{Object.defineProperty([],"length",{writable:!1}).length=1}catch(s){return s instanceof TypeError}}();return N_=i?function(s,a){if(e(s)&&!n(s,"length").writable)throw new r("Cannot set read only .length");return s.length=a}:function(s,a){return s.length=a},N_}var O_,T6;function EY(){if(T6)return O_;T6=1;var t=Gu(),e=TypeError;return O_=function(r,n){if(!delete r[n])throw new e("Cannot delete property "+t(n)+" of "+t(r))},O_}var j6;function vpe(){if(j6)return C6;j6=1;var t=Se(),e=On(),r=Om(),n=Ju(),i=Cs(),s=mpe(),a=uY(),o=BP(),l=Pm(),c=EY(),d=wh(),h=d("splice"),f=Math.max,p=Math.min;return t({target:"Array",proto:!0,forced:!h},{splice:function(y,x){var g=e(this),v=i(g),w=r(y,v),b=arguments.length,_,E,N,S,O,C;for(b===0?_=E=0:b===1?(_=0,E=v-w):(_=b-2,E=p(f(n(x),0),v-w)),a(v+_-E),N=o(g,E),S=0;S<E;S++)O=w+S,O in g&&l(N,S,g[O]);if(N.length=E,_<E){for(S=w;S<v-E;S++)O=S+E,C=S+_,O in g?g[C]=g[O]:c(g,C);for(S=v;S>v-E+_;S--)c(g,S-1)}else if(_>E)for(S=v-E;S>w;S--)O=S+E-1,C=S+_-1,O in g?g[C]=g[O]:c(g,C);for(S=0;S<_;S++)g[S+w]=arguments[S+2];return s(g,v-E+_),N}}),C6}var C_,I6;function gpe(){if(I6)return C_;I6=1,vpe();var t=_r();return C_=t("Array","splice"),C_}var P_,R6;function ype(){if(R6)return P_;R6=1;var t=Yt(),e=gpe(),r=Array.prototype;return P_=function(n){var i=n.splice;return n===r||t(r,n)&&i===r.splice?e:i},P_}var T_,$6;function bpe(){if($6)return T_;$6=1;var t=ype();return T_=t,T_}var j_,k6;function xpe(){return k6||(k6=1,j_=bpe()),j_}var wpe=xpe(),ss=Pe(wpe),D6={},M6;function _pe(){if(M6)return D6;M6=1;var t=Se(),e=qP().includes,r=Be(),n=HP(),i=r(function(){return!Array(1).includes()});return t({target:"Array",proto:!0,forced:i},{includes:function(a){return e(this,a,arguments.length>1?arguments[1]:void 0)}}),n("includes"),D6}var I_,q6;function Spe(){if(q6)return I_;q6=1,_pe();var t=_r();return I_=t("Array","includes"),I_}var A6={},R_,F6;function Epe(){if(F6)return R_;F6=1;var t=fr(),e=qi(),r=Qt(),n=r("match");return R_=function(i){var s;return t(i)&&((s=i[n])!==void 0?!!s:e(i)==="RegExp")},R_}var $_,L6;function Npe(){if(L6)return $_;L6=1;var t=Epe(),e=TypeError;return $_=function(r){if(t(r))throw new e("The method doesn't accept regular expressions");return r},$_}var k_,B6;function Ope(){if(B6)return k_;B6=1;var t=Qt(),e=t("match");return k_=function(r){var n=/./;try{"/./"[r](n)}catch{try{return n[e]=!1,"/./"[r](n)}catch{}}return!1},k_}var z6;function Cpe(){if(z6)return A6;z6=1;var t=Se(),e=We(),r=Npe(),n=Ns(),i=Kn(),s=Ope(),a=e("".indexOf);return t({target:"String",proto:!0,forced:!s("includes")},{includes:function(l){return!!~a(i(n(this)),i(r(l)),arguments.length>1?arguments[1]:void 0)}}),A6}var D_,U6;function Ppe(){if(U6)return D_;U6=1,Cpe();var t=_r();return D_=t("String","includes"),D_}var M_,W6;function Tpe(){if(W6)return M_;W6=1;var t=Yt(),e=Spe(),r=Ppe(),n=Array.prototype,i=String.prototype;return M_=function(s){var a=s.includes;return s===n||t(n,s)&&a===n.includes?e:typeof s=="string"||s===i||t(i,s)&&a===i.includes?r:a},M_}var q_,H6;function jpe(){if(H6)return q_;H6=1;var t=Tpe();return q_=t,q_}var A_,V6;function Ipe(){return V6||(V6=1,A_=jpe()),A_}var Rpe=Ipe(),ca=Pe(Rpe),K6={},G6;function $pe(){if(G6)return K6;G6=1;var t=Se(),e=Be(),r=On(),n=Rm(),i=wY(),s=e(function(){n(1)});return t({target:"Object",stat:!0,forced:s,sham:!i},{getPrototypeOf:function(o){return n(r(o))}}),K6}var F_,Y6;function kpe(){if(Y6)return F_;Y6=1,$pe();var t=tt();return F_=t.Object.getPrototypeOf,F_}var L_,Q6;function Dpe(){if(Q6)return L_;Q6=1;var t=kpe();return L_=t,L_}var B_,X6;function Mpe(){return X6||(X6=1,B_=Dpe()),B_}var qpe=Mpe(),J6=Pe(qpe),z_,Z6;function Ape(){if(Z6)return z_;Z6=1,dY();var t=_r();return z_=t("Array","concat"),z_}var U_,eB;function Fpe(){if(eB)return U_;eB=1;var t=Yt(),e=Ape(),r=Array.prototype;return U_=function(n){var i=n.concat;return n===r||t(r,n)&&i===r.concat?e:i},U_}var W_,tB;function Lpe(){if(tB)return W_;tB=1;var t=Fpe();return W_=t,W_}var H_,rB;function Bpe(){return rB||(rB=1,H_=Lpe()),H_}var zpe=Bpe(),Upe=Pe(zpe),nB={},iB;function Wpe(){if(iB)return nB;iB=1;var t=Se(),e=Ta().filter,r=wh(),n=r("filter");return t({target:"Array",proto:!0,forced:!n},{filter:function(s){return e(this,s,arguments.length>1?arguments[1]:void 0)}}),nB}var V_,sB;function Hpe(){if(sB)return V_;sB=1,Wpe();var t=_r();return V_=t("Array","filter"),V_}var K_,aB;function Vpe(){if(aB)return K_;aB=1;var t=Yt(),e=Hpe(),r=Array.prototype;return K_=function(n){var i=n.filter;return n===r||t(r,n)&&i===r.filter?e:i},K_}var G_,oB;function Kpe(){if(oB)return G_;oB=1;var t=Vpe();return G_=t,G_}var Y_,lB;function Gpe(){return lB||(lB=1,Y_=Kpe()),Y_}var Ype=Gpe(),Zr=Pe(Ype),uB={},Q_,cB;function Qpe(){if(cB)return Q_;cB=1;var t=Ft(),e=Be(),r=We(),n=Rm(),i=xh(),s=vi(),a=wm().f,o=r(a),l=r([].push),c=t&&e(function(){var h=Object.create(null);return h[2]=2,!o(h,2)}),d=function(h){return function(f){for(var p=s(f),m=i(p),y=c&&n(p)===null,x=m.length,g=0,v=[],w;x>g;)w=m[g++],(!t||(y?w in p:o(p,w)))&&l(v,h?[w,p[w]]:p[w]);return v}};return Q_={entries:d(!0),values:d(!1)},Q_}var dB;function Xpe(){if(dB)return uB;dB=1;var t=Se(),e=Qpe().values;return t({target:"Object",stat:!0},{values:function(n){return e(n)}}),uB}var X_,hB;function Jpe(){if(hB)return X_;hB=1,Xpe();var t=tt();return X_=t.Object.values,X_}var J_,fB;function Zpe(){if(fB)return J_;fB=1;var t=Jpe();return J_=t,J_}var Z_,pB;function eme(){return pB||(pB=1,Z_=Zpe()),Z_}var tme=eme(),rme=Pe(tme),mB={},eS,vB;function GP(){return vB||(vB=1,eS=`	
\v\f\r \u2028\u2029\uFEFF`),eS}var tS,gB;function NY(){if(gB)return tS;gB=1;var t=We(),e=Ns(),r=Kn(),n=GP(),i=t("".replace),s=RegExp("^["+n+"]+"),a=RegExp("(^|[^"+n+"])["+n+"]+$"),o=function(l){return function(c){var d=r(e(c));return l&1&&(d=i(d,s,"")),l&2&&(d=i(d,a,"$1")),d}};return tS={start:o(1),end:o(2),trim:o(3)},tS}var rS,yB;function nme(){if(yB)return rS;yB=1;var t=_t(),e=Be(),r=We(),n=Kn(),i=NY().trim,s=GP(),a=t.parseInt,o=t.Symbol,l=o&&o.iterator,c=/^[+-]?0x/i,d=r(c.exec),h=a(s+"08")!==8||a(s+"0x16")!==22||l&&!e(function(){a(Object(l))});return rS=h?function(p,m){var y=i(n(p));return a(y,m>>>0||(d(c,y)?16:10))}:a,rS}var bB;function ime(){if(bB)return mB;bB=1;var t=Se(),e=nme();return t({global:!0,forced:parseInt!==e},{parseInt:e}),mB}var nS,xB;function sme(){if(xB)return nS;xB=1,ime();var t=tt();return nS=t.parseInt,nS}var iS,wB;function ame(){if(wB)return iS;wB=1;var t=sme();return iS=t,iS}var sS,_B;function ome(){return _B||(_B=1,sS=ame()),sS}var lme=ome(),ii=Pe(lme),SB={},EB;function ume(){if(EB)return SB;EB=1;var t=Se(),e=$P(),r=qP().indexOf,n=ic(),i=e([].indexOf),s=!!i&&1/i([1],1,-0)<0,a=s||!n("indexOf");return t({target:"Array",proto:!0,forced:a},{indexOf:function(l){var c=arguments.length>1?arguments[1]:void 0;return s?i(this,l,c)||0:r(this,l,c)}}),SB}var aS,NB;function cme(){if(NB)return aS;NB=1,ume();var t=_r();return aS=t("Array","indexOf"),aS}var oS,OB;function dme(){if(OB)return oS;OB=1;var t=Yt(),e=cme(),r=Array.prototype;return oS=function(n){var i=n.indexOf;return n===r||t(r,n)&&i===r.indexOf?e:i},oS}var lS,CB;function hme(){if(CB)return lS;CB=1;var t=dme();return lS=t,lS}var uS,PB;function fme(){return PB||(PB=1,uS=hme()),uS}var pme=fme(),Je=Pe(pme),TB={},jB;function mme(){if(jB)return TB;jB=1;var t=Se(),e=Ft(),r=_h();return t({target:"Object",stat:!0,sham:!e},{create:r}),TB}var cS,IB;function vme(){if(IB)return cS;IB=1,mme();var t=tt(),e=t.Object;return cS=function(n,i){return e.create(n,i)},cS}var dS,RB;function gme(){if(RB)return dS;RB=1;var t=vme();return dS=t,dS}var hS,$B;function yme(){return $B||($B=1,hS=gme()),hS}var bme=yme(),po=Pe(bme),kB={},fS,DB;function xme(){if(DB)return fS;DB=1;var t=Ju(),e=Kn(),r=Ns(),n=RangeError;return fS=function(s){var a=e(r(this)),o="",l=t(s);if(l<0||l===1/0)throw new n("Wrong number of repetitions");for(;l>0;(l>>>=1)&&(a+=a))l&1&&(o+=a);return o},fS}var pS,MB;function wme(){if(MB)return pS;MB=1;var t=We(),e=nY(),r=Kn(),n=xme(),i=Ns(),s=t(n),a=t("".slice),o=Math.ceil,l=function(c){return function(d,h,f){var p=r(i(d)),m=e(h),y=p.length,x=f===void 0?" ":r(f),g,v;return m<=y||x===""?p:(g=m-y,v=s(x,o(g/x.length)),v.length>g&&(v=a(v,0,g)),c?p+v:v+p)}};return pS={start:l(!1),end:l(!0)},pS}var mS,qB;function _me(){if(qB)return mS;qB=1;var t=We(),e=Be(),r=wme().start,n=RangeError,i=isFinite,s=Math.abs,a=Date.prototype,o=a.toISOString,l=t(a.getTime),c=t(a.getUTCDate),d=t(a.getUTCFullYear),h=t(a.getUTCHours),f=t(a.getUTCMilliseconds),p=t(a.getUTCMinutes),m=t(a.getUTCMonth),y=t(a.getUTCSeconds);return mS=e(function(){return o.call(new Date(-5e13-1))!=="0385-07-25T07:06:39.999Z"})||!e(function(){o.call(new Date(NaN))})?function(){if(!i(l(this)))throw new n("Invalid time value");var g=this,v=d(g),w=f(g),b=v<0?"-":v>9999?"+":"";return b+r(s(v),b?6:4,0)+"-"+r(m(g)+1,2,0)+"-"+r(c(g),2,0)+"T"+r(h(g),2,0)+":"+r(p(g),2,0)+":"+r(y(g),2,0)+"."+r(w,3,0)+"Z"}:o,mS}var AB;function Sme(){if(AB)return kB;AB=1;var t=Se(),e=hn(),r=On(),n=ZG(),i=_me(),s=qi(),a=Be(),o=a(function(){return new Date(NaN).toJSON()!==null||e(Date.prototype.toJSON,{toISOString:function(){return 1}})!==1});return t({target:"Date",proto:!0,forced:o},{toJSON:function(c){var d=r(this),h=n(d,"number");return typeof h=="number"&&!isFinite(h)?null:!("toISOString"in d)&&s(d)==="Date"?e(i,d):d.toISOString()}}),kB}var vS,FB;function Eme(){if(FB)return vS;FB=1,Sme(),mY();var t=tt(),e=xm();return t.JSON||(t.JSON={stringify:JSON.stringify}),vS=function(n,i,s){return e(t.JSON.stringify,null,arguments)},vS}var gS,LB;function Nme(){if(LB)return gS;LB=1;var t=Eme();return gS=t,gS}var yS,BB;function Ome(){return BB||(BB=1,yS=Nme()),yS}var Cme=Ome(),Eh=Pe(Cme),zB={},UB={},bS,WB;function OY(){if(WB)return bS;WB=1;var t=_t(),e=Vu(),r=qi(),n=function(i){return e.slice(0,i.length)===i};return bS=function(){return n("Bun/")?"BUN":n("Cloudflare-Workers")?"CLOUDFLARE":n("Deno/")?"DENO":n("Node.js/")?"NODE":t.Bun&&typeof Bun.version=="string"?"BUN":t.Deno&&typeof Deno.version=="object"?"DENO":r(t.process)==="process"?"NODE":t.window&&t.document?"BROWSER":"REST"}(),bS}var xS,HB;function Pme(){if(HB)return xS;HB=1;var t=TypeError;return xS=function(e,r){if(e<r)throw new t("Not enough arguments");return e},xS}var wS,VB;function CY(){if(VB)return wS;VB=1;var t=_t(),e=xm(),r=hr(),n=OY(),i=Vu(),s=Zu(),a=Pme(),o=t.Function,l=/MSIE .\./.test(i)||n==="BUN"&&function(){var c=t.Bun.version.split(".");return c.length<3||c[0]==="0"&&(c[1]<3||c[1]==="3"&&c[2]==="0")}();return wS=function(c,d){var h=d?2:1;return l?function(f,p){var m=a(arguments.length,1)>h,y=r(f)?f:o(f),x=m?s(arguments,h):[],g=m?function(){e(y,this,x)}:y;return d?c(g,p):c(g)}:c},wS}var KB;function Tme(){if(KB)return UB;KB=1;var t=Se(),e=_t(),r=CY(),n=r(e.setInterval,!0);return t({global:!0,bind:!0,forced:e.setInterval!==n},{setInterval:n}),UB}var GB={},YB;function jme(){if(YB)return GB;YB=1;var t=Se(),e=_t(),r=CY(),n=r(e.setTimeout,!0);return t({global:!0,bind:!0,forced:e.setTimeout!==n},{setTimeout:n}),GB}var QB;function PY(){return QB||(QB=1,Tme(),jme()),zB}var _S,XB;function Ime(){if(XB)return _S;XB=1,PY();var t=tt();return _S=t.setTimeout,_S}var SS,JB;function Rme(){return JB||(JB=1,SS=Ime()),SS}var $me=Rme(),as=Pe($me),ZB={},ES,ez;function kme(){if(ez)return ES;ez=1;var t=On(),e=Om(),r=Cs();return ES=function(i){for(var s=t(this),a=r(s),o=arguments.length,l=e(o>1?arguments[1]:void 0,a),c=o>2?arguments[2]:void 0,d=c===void 0?a:e(c,a);d>l;)s[l++]=i;return s},ES}var tz;function Dme(){if(tz)return ZB;tz=1;var t=Se(),e=kme(),r=HP();return t({target:"Array",proto:!0},{fill:e}),r("fill"),ZB}var NS,rz;function Mme(){if(rz)return NS;rz=1,Dme();var t=_r();return NS=t("Array","fill"),NS}var OS,nz;function qme(){if(nz)return OS;nz=1;var t=Yt(),e=Mme(),r=Array.prototype;return OS=function(n){var i=n.fill;return n===r||t(r,n)&&i===r.fill?e:i},OS}var CS,iz;function Ame(){if(iz)return CS;iz=1;var t=qme();return CS=t,CS}var PS,sz;function Fme(){return sz||(sz=1,PS=Ame()),PS}var Lme=Fme(),Nh=Pe(Lme);/*! Hammer.JS - v2.0.17-rc - 2019-12-16
 * http://naver.github.io/egjs
 *
 * Forked By Naver egjs
 * Copyright (c) hammerjs
 * Licensed under the MIT license */function fi(){return fi=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},fi.apply(this,arguments)}function Gn(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}function uf(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}var jO;typeof Object.assign!="function"?jO=function(e){if(e==null)throw new TypeError("Cannot convert undefined or null to object");for(var r=Object(e),n=1;n<arguments.length;n++){var i=arguments[n];if(i!=null)for(var s in i)i.hasOwnProperty(s)&&(r[s]=i[s])}return r}:jO=Object.assign;var Io=jO,az=["","webkit","Moz","MS","ms","o"],Bme=typeof document>"u"?{style:{}}:document.createElement("div"),zme="function",Pl=Math.round,Ro=Math.abs,YP=Date.now;function $m(t,e){for(var r,n,i=e[0].toUpperCase()+e.slice(1),s=0;s<az.length;){if(r=az[s],n=r?r+i:e,n in t)return n;s++}}var os;typeof window>"u"?os={}:os=window;var TY=$m(Bme.style,"touchAction"),jY=TY!==void 0;function Ume(){if(!jY)return!1;var t={},e=os.CSS&&os.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach(function(r){return t[r]=e?os.CSS.supports("touch-action",r):!0}),t}var IY="compute",RY="auto",IO="manipulation",mo="none",Od="pan-x",Cd="pan-y",cf=Ume(),Wme=/mobile|tablet|ip(ad|hone|od)|android/i,$Y="ontouchstart"in os,Hme=$m(os,"PointerEvent")!==void 0,Vme=$Y&&Wme.test(navigator.userAgent),Oh="touch",Kme="pen",QP="mouse",Gme="kinect",Yme=25,Ur=1,Qo=2,Vt=4,ln=8,Np=1,Ch=2,Ph=4,Th=8,xu=16,Di=Ch|Ph,vo=Th|xu,kY=Di|vo,DY=["x","y"],Op=["clientX","clientY"];function ls(t,e,r){var n;if(t)if(t.forEach)t.forEach(e,r);else if(t.length!==void 0)for(n=0;n<t.length;)e.call(r,t[n],n,t),n++;else for(n in t)t.hasOwnProperty(n)&&e.call(r,t[n],n,t)}function km(t,e){return typeof t===zme?t.apply(e&&e[0]||void 0,e):t}function Ga(t,e){return t.indexOf(e)>-1}function Qme(t){if(Ga(t,mo))return mo;var e=Ga(t,Od),r=Ga(t,Cd);return e&&r?mo:e||r?e?Od:Cd:Ga(t,IO)?IO:RY}var MY=function(){function t(r,n){this.manager=r,this.set(n)}var e=t.prototype;return e.set=function(n){n===IY&&(n=this.compute()),jY&&this.manager.element.style&&cf[n]&&(this.manager.element.style[TY]=n),this.actions=n.toLowerCase().trim()},e.update=function(){this.set(this.manager.options.touchAction)},e.compute=function(){var n=[];return ls(this.manager.recognizers,function(i){km(i.options.enable,[i])&&(n=n.concat(i.getTouchAction()))}),Qme(n.join(" "))},e.preventDefaults=function(n){var i=n.srcEvent,s=n.offsetDirection;if(this.manager.session.prevented){i.preventDefault();return}var a=this.actions,o=Ga(a,mo)&&!cf[mo],l=Ga(a,Cd)&&!cf[Cd],c=Ga(a,Od)&&!cf[Od];if(o){var d=n.pointers.length===1,h=n.distance<2,f=n.deltaTime<250;if(d&&h&&f)return}if(!(c&&l)&&(o||l&&s&Di||c&&s&vo))return this.preventSrc(i)},e.preventSrc=function(n){this.manager.session.prevented=!0,n.preventDefault()},t}();function XP(t,e){for(;t;){if(t===e)return!0;t=t.parentNode}return!1}function qY(t){var e=t.length;if(e===1)return{x:Pl(t[0].clientX),y:Pl(t[0].clientY)};for(var r=0,n=0,i=0;i<e;)r+=t[i].clientX,n+=t[i].clientY,i++;return{x:Pl(r/e),y:Pl(n/e)}}function oz(t){for(var e=[],r=0;r<t.pointers.length;)e[r]={clientX:Pl(t.pointers[r].clientX),clientY:Pl(t.pointers[r].clientY)},r++;return{timeStamp:YP(),pointers:e,center:qY(e),deltaX:t.deltaX,deltaY:t.deltaY}}function Cp(t,e,r){r||(r=DY);var n=e[r[0]]-t[r[0]],i=e[r[1]]-t[r[1]];return Math.sqrt(n*n+i*i)}function RO(t,e,r){r||(r=DY);var n=e[r[0]]-t[r[0]],i=e[r[1]]-t[r[1]];return Math.atan2(i,n)*180/Math.PI}function AY(t,e){return t===e?Np:Ro(t)>=Ro(e)?t<0?Ch:Ph:e<0?Th:xu}function Xme(t,e){var r=e.center,n=t.offsetDelta||{},i=t.prevDelta||{},s=t.prevInput||{};(e.eventType===Ur||s.eventType===Vt)&&(i=t.prevDelta={x:s.deltaX||0,y:s.deltaY||0},n=t.offsetDelta={x:r.x,y:r.y}),e.deltaX=i.x+(r.x-n.x),e.deltaY=i.y+(r.y-n.y)}function FY(t,e,r){return{x:e/t||0,y:r/t||0}}function Jme(t,e){return Cp(e[0],e[1],Op)/Cp(t[0],t[1],Op)}function Zme(t,e){return RO(e[1],e[0],Op)+RO(t[1],t[0],Op)}function eve(t,e){var r=t.lastInterval||e,n=e.timeStamp-r.timeStamp,i,s,a,o;if(e.eventType!==ln&&(n>Yme||r.velocity===void 0)){var l=e.deltaX-r.deltaX,c=e.deltaY-r.deltaY,d=FY(n,l,c);s=d.x,a=d.y,i=Ro(d.x)>Ro(d.y)?d.x:d.y,o=AY(l,c),t.lastInterval=e}else i=r.velocity,s=r.velocityX,a=r.velocityY,o=r.direction;e.velocity=i,e.velocityX=s,e.velocityY=a,e.direction=o}function tve(t,e){var r=t.session,n=e.pointers,i=n.length;r.firstInput||(r.firstInput=oz(e)),i>1&&!r.firstMultiple?r.firstMultiple=oz(e):i===1&&(r.firstMultiple=!1);var s=r.firstInput,a=r.firstMultiple,o=a?a.center:s.center,l=e.center=qY(n);e.timeStamp=YP(),e.deltaTime=e.timeStamp-s.timeStamp,e.angle=RO(o,l),e.distance=Cp(o,l),Xme(r,e),e.offsetDirection=AY(e.deltaX,e.deltaY);var c=FY(e.deltaTime,e.deltaX,e.deltaY);e.overallVelocityX=c.x,e.overallVelocityY=c.y,e.overallVelocity=Ro(c.x)>Ro(c.y)?c.x:c.y,e.scale=a?Jme(a.pointers,n):1,e.rotation=a?Zme(a.pointers,n):0,e.maxPointers=r.prevInput?e.pointers.length>r.prevInput.maxPointers?e.pointers.length:r.prevInput.maxPointers:e.pointers.length,eve(r,e);var d=t.element,h=e.srcEvent,f;h.composedPath?f=h.composedPath()[0]:h.path?f=h.path[0]:f=h.target,XP(f,d)&&(d=f),e.target=d}function rve(t,e,r){var n=r.pointers.length,i=r.changedPointers.length,s=e&Ur&&n-i===0,a=e&(Vt|ln)&&n-i===0;r.isFirst=!!s,r.isFinal=!!a,s&&(t.session={}),r.eventType=e,tve(t,r),t.emit("hammer.input",r),t.recognize(r),t.session.prevInput=r}function Pd(t){return t.trim().split(/\s+/g)}function Gc(t,e,r){ls(Pd(e),function(n){t.addEventListener(n,r,!1)})}function Yc(t,e,r){ls(Pd(e),function(n){t.removeEventListener(n,r,!1)})}function lz(t){var e=t.ownerDocument||t;return e.defaultView||e.parentWindow||window}var sc=function(){function t(r,n){var i=this;this.manager=r,this.callback=n,this.element=r.element,this.target=r.options.inputTarget,this.domHandler=function(s){km(r.options.enable,[r])&&i.handler(s)},this.init()}var e=t.prototype;return e.handler=function(){},e.init=function(){this.evEl&&Gc(this.element,this.evEl,this.domHandler),this.evTarget&&Gc(this.target,this.evTarget,this.domHandler),this.evWin&&Gc(lz(this.element),this.evWin,this.domHandler)},e.destroy=function(){this.evEl&&Yc(this.element,this.evEl,this.domHandler),this.evTarget&&Yc(this.target,this.evTarget,this.domHandler),this.evWin&&Yc(lz(this.element),this.evWin,this.domHandler)},t}();function $o(t,e,r){if(t.indexOf&&!r)return t.indexOf(e);for(var n=0;n<t.length;){if(r&&t[n][r]==e||!r&&t[n]===e)return n;n++}return-1}var nve={pointerdown:Ur,pointermove:Qo,pointerup:Vt,pointercancel:ln,pointerout:ln},ive={2:Oh,3:Kme,4:QP,5:Gme},LY="pointerdown",BY="pointermove pointerup pointercancel";os.MSPointerEvent&&!os.PointerEvent&&(LY="MSPointerDown",BY="MSPointerMove MSPointerUp MSPointerCancel");var zY=function(t){Gn(e,t);function e(){var n,i=e.prototype;return i.evEl=LY,i.evWin=BY,n=t.apply(this,arguments)||this,n.store=n.manager.session.pointerEvents=[],n}var r=e.prototype;return r.handler=function(i){var s=this.store,a=!1,o=i.type.toLowerCase().replace("ms",""),l=nve[o],c=ive[i.pointerType]||i.pointerType,d=c===Oh,h=$o(s,i.pointerId,"pointerId");l&Ur&&(i.button===0||d)?h<0&&(s.push(i),h=s.length-1):l&(Vt|ln)&&(a=!0),!(h<0)&&(s[h]=i,this.callback(this.manager,l,{pointers:s,changedPointers:[i],pointerType:c,srcEvent:i}),a&&s.splice(h,1))},e}(sc);function Td(t){return Array.prototype.slice.call(t,0)}function JP(t,e,r){for(var n=[],i=[],s=0;s<t.length;){var a=e?t[s][e]:t[s];$o(i,a)<0&&n.push(t[s]),i[s]=a,s++}return r&&(e?n=n.sort(function(o,l){return o[e]>l[e]}):n=n.sort()),n}var sve={touchstart:Ur,touchmove:Qo,touchend:Vt,touchcancel:ln},ave="touchstart touchmove touchend touchcancel",ZP=function(t){Gn(e,t);function e(){var n;return e.prototype.evTarget=ave,n=t.apply(this,arguments)||this,n.targetIds={},n}var r=e.prototype;return r.handler=function(i){var s=sve[i.type],a=ove.call(this,i,s);a&&this.callback(this.manager,s,{pointers:a[0],changedPointers:a[1],pointerType:Oh,srcEvent:i})},e}(sc);function ove(t,e){var r=Td(t.touches),n=this.targetIds;if(e&(Ur|Qo)&&r.length===1)return n[r[0].identifier]=!0,[r,r];var i,s,a=Td(t.changedTouches),o=[],l=this.target;if(s=r.filter(function(c){return XP(c.target,l)}),e===Ur)for(i=0;i<s.length;)n[s[i].identifier]=!0,i++;for(i=0;i<a.length;)n[a[i].identifier]&&o.push(a[i]),e&(Vt|ln)&&delete n[a[i].identifier],i++;if(o.length)return[JP(s.concat(o),"identifier",!0),o]}var lve={mousedown:Ur,mousemove:Qo,mouseup:Vt},uve="mousedown",cve="mousemove mouseup",eT=function(t){Gn(e,t);function e(){var n,i=e.prototype;return i.evEl=uve,i.evWin=cve,n=t.apply(this,arguments)||this,n.pressed=!1,n}var r=e.prototype;return r.handler=function(i){var s=lve[i.type];s&Ur&&i.button===0&&(this.pressed=!0),s&Qo&&i.which!==1&&(s=Vt),this.pressed&&(s&Vt&&(this.pressed=!1),this.callback(this.manager,s,{pointers:[i],changedPointers:[i],pointerType:QP,srcEvent:i}))},e}(sc),dve=2500,uz=25;function cz(t){var e=t.changedPointers,r=e[0];if(r.identifier===this.primaryTouch){var n={x:r.clientX,y:r.clientY},i=this.lastTouches;this.lastTouches.push(n);var s=function(){var o=i.indexOf(n);o>-1&&i.splice(o,1)};setTimeout(s,dve)}}function hve(t,e){t&Ur?(this.primaryTouch=e.changedPointers[0].identifier,cz.call(this,e)):t&(Vt|ln)&&cz.call(this,e)}function fve(t){for(var e=t.srcEvent.clientX,r=t.srcEvent.clientY,n=0;n<this.lastTouches.length;n++){var i=this.lastTouches[n],s=Math.abs(e-i.x),a=Math.abs(r-i.y);if(s<=uz&&a<=uz)return!0}return!1}var UY=function(){var t=function(e){Gn(r,e);function r(i,s){var a;return a=e.call(this,i,s)||this,a.handler=function(o,l,c){var d=c.pointerType===Oh,h=c.pointerType===QP;if(!(h&&c.sourceCapabilities&&c.sourceCapabilities.firesTouchEvents)){if(d)hve.call(uf(uf(a)),l,c);else if(h&&fve.call(uf(uf(a)),c))return;a.callback(o,l,c)}},a.touch=new ZP(a.manager,a.handler),a.mouse=new eT(a.manager,a.handler),a.primaryTouch=null,a.lastTouches=[],a}var n=r.prototype;return n.destroy=function(){this.touch.destroy(),this.mouse.destroy()},r}(sc);return t}();function pve(t){var e,r=t.options.inputClass;return r?e=r:Hme?e=zY:Vme?e=ZP:$Y?e=UY:e=eT,new e(t,rve)}function Tl(t,e,r){return Array.isArray(t)?(ls(t,r[e],r),!0):!1}var Rf=1,Ln=2,wu=4,da=8,us=da,jd=16,Ti=32,mve=1;function vve(){return mve++}function df(t,e){var r=e.manager;return r?r.get(t):t}function dz(t){return t&jd?"cancel":t&da?"end":t&wu?"move":t&Ln?"start":""}var jh=function(){function t(r){r===void 0&&(r={}),this.options=fi({enable:!0},r),this.id=vve(),this.manager=null,this.state=Rf,this.simultaneous={},this.requireFail=[]}var e=t.prototype;return e.set=function(n){return Io(this.options,n),this.manager&&this.manager.touchAction.update(),this},e.recognizeWith=function(n){if(Tl(n,"recognizeWith",this))return this;var i=this.simultaneous;return n=df(n,this),i[n.id]||(i[n.id]=n,n.recognizeWith(this)),this},e.dropRecognizeWith=function(n){return Tl(n,"dropRecognizeWith",this)?this:(n=df(n,this),delete this.simultaneous[n.id],this)},e.requireFailure=function(n){if(Tl(n,"requireFailure",this))return this;var i=this.requireFail;return n=df(n,this),$o(i,n)===-1&&(i.push(n),n.requireFailure(this)),this},e.dropRequireFailure=function(n){if(Tl(n,"dropRequireFailure",this))return this;n=df(n,this);var i=$o(this.requireFail,n);return i>-1&&this.requireFail.splice(i,1),this},e.hasRequireFailures=function(){return this.requireFail.length>0},e.canRecognizeWith=function(n){return!!this.simultaneous[n.id]},e.emit=function(n){var i=this,s=this.state;function a(o){i.manager.emit(o,n)}s<da&&a(i.options.event+dz(s)),a(i.options.event),n.additionalEvent&&a(n.additionalEvent),s>=da&&a(i.options.event+dz(s))},e.tryEmit=function(n){if(this.canEmit())return this.emit(n);this.state=Ti},e.canEmit=function(){for(var n=0;n<this.requireFail.length;){if(!(this.requireFail[n].state&(Ti|Rf)))return!1;n++}return!0},e.recognize=function(n){var i=Io({},n);if(!km(this.options.enable,[this,i])){this.reset(),this.state=Ti;return}this.state&(us|jd|Ti)&&(this.state=Rf),this.state=this.process(i),this.state&(Ln|wu|da|jd)&&this.tryEmit(i)},e.process=function(n){},e.getTouchAction=function(){},e.reset=function(){},t}(),$O=function(t){Gn(e,t);function e(n){var i;return n===void 0&&(n={}),i=t.call(this,fi({event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},n))||this,i.pTime=!1,i.pCenter=!1,i._timer=null,i._input=null,i.count=0,i}var r=e.prototype;return r.getTouchAction=function(){return[IO]},r.process=function(i){var s=this,a=this.options,o=i.pointers.length===a.pointers,l=i.distance<a.threshold,c=i.deltaTime<a.time;if(this.reset(),i.eventType&Ur&&this.count===0)return this.failTimeout();if(l&&c&&o){if(i.eventType!==Vt)return this.failTimeout();var d=this.pTime?i.timeStamp-this.pTime<a.interval:!0,h=!this.pCenter||Cp(this.pCenter,i.center)<a.posThreshold;this.pTime=i.timeStamp,this.pCenter=i.center,!h||!d?this.count=1:this.count+=1,this._input=i;var f=this.count%a.taps;if(f===0)return this.hasRequireFailures()?(this._timer=setTimeout(function(){s.state=us,s.tryEmit()},a.interval),Ln):us}return Ti},r.failTimeout=function(){var i=this;return this._timer=setTimeout(function(){i.state=Ti},this.options.interval),Ti},r.reset=function(){clearTimeout(this._timer)},r.emit=function(){this.state===us&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))},e}(jh),_u=function(t){Gn(e,t);function e(n){return n===void 0&&(n={}),t.call(this,fi({pointers:1},n))||this}var r=e.prototype;return r.attrTest=function(i){var s=this.options.pointers;return s===0||i.pointers.length===s},r.process=function(i){var s=this.state,a=i.eventType,o=s&(Ln|wu),l=this.attrTest(i);return o&&(a&ln||!l)?s|jd:o||l?a&Vt?s|da:s&Ln?s|wu:Ln:Ti},e}(jh);function WY(t){return t===xu?"down":t===Th?"up":t===Ch?"left":t===Ph?"right":""}var tT=function(t){Gn(e,t);function e(n){var i;return n===void 0&&(n={}),i=t.call(this,fi({event:"pan",threshold:10,pointers:1,direction:kY},n))||this,i.pX=null,i.pY=null,i}var r=e.prototype;return r.getTouchAction=function(){var i=this.options.direction,s=[];return i&Di&&s.push(Cd),i&vo&&s.push(Od),s},r.directionTest=function(i){var s=this.options,a=!0,o=i.distance,l=i.direction,c=i.deltaX,d=i.deltaY;return l&s.direction||(s.direction&Di?(l=c===0?Np:c<0?Ch:Ph,a=c!==this.pX,o=Math.abs(i.deltaX)):(l=d===0?Np:d<0?Th:xu,a=d!==this.pY,o=Math.abs(i.deltaY))),i.direction=l,a&&o>s.threshold&&l&s.direction},r.attrTest=function(i){return _u.prototype.attrTest.call(this,i)&&(this.state&Ln||!(this.state&Ln)&&this.directionTest(i))},r.emit=function(i){this.pX=i.deltaX,this.pY=i.deltaY;var s=WY(i.direction);s&&(i.additionalEvent=this.options.event+s),t.prototype.emit.call(this,i)},e}(_u),HY=function(t){Gn(e,t);function e(n){return n===void 0&&(n={}),t.call(this,fi({event:"swipe",threshold:10,velocity:.3,direction:Di|vo,pointers:1},n))||this}var r=e.prototype;return r.getTouchAction=function(){return tT.prototype.getTouchAction.call(this)},r.attrTest=function(i){var s=this.options.direction,a;return s&(Di|vo)?a=i.overallVelocity:s&Di?a=i.overallVelocityX:s&vo&&(a=i.overallVelocityY),t.prototype.attrTest.call(this,i)&&s&i.offsetDirection&&i.distance>this.options.threshold&&i.maxPointers===this.options.pointers&&Ro(a)>this.options.velocity&&i.eventType&Vt},r.emit=function(i){var s=WY(i.offsetDirection);s&&this.manager.emit(this.options.event+s,i),this.manager.emit(this.options.event,i)},e}(_u),VY=function(t){Gn(e,t);function e(n){return n===void 0&&(n={}),t.call(this,fi({event:"pinch",threshold:0,pointers:2},n))||this}var r=e.prototype;return r.getTouchAction=function(){return[mo]},r.attrTest=function(i){return t.prototype.attrTest.call(this,i)&&(Math.abs(i.scale-1)>this.options.threshold||this.state&Ln)},r.emit=function(i){if(i.scale!==1){var s=i.scale<1?"in":"out";i.additionalEvent=this.options.event+s}t.prototype.emit.call(this,i)},e}(_u),KY=function(t){Gn(e,t);function e(n){return n===void 0&&(n={}),t.call(this,fi({event:"rotate",threshold:0,pointers:2},n))||this}var r=e.prototype;return r.getTouchAction=function(){return[mo]},r.attrTest=function(i){return t.prototype.attrTest.call(this,i)&&(Math.abs(i.rotation)>this.options.threshold||this.state&Ln)},e}(_u),GY=function(t){Gn(e,t);function e(n){var i;return n===void 0&&(n={}),i=t.call(this,fi({event:"press",pointers:1,time:251,threshold:9},n))||this,i._timer=null,i._input=null,i}var r=e.prototype;return r.getTouchAction=function(){return[RY]},r.process=function(i){var s=this,a=this.options,o=i.pointers.length===a.pointers,l=i.distance<a.threshold,c=i.deltaTime>a.time;if(this._input=i,!l||!o||i.eventType&(Vt|ln)&&!c)this.reset();else if(i.eventType&Ur)this.reset(),this._timer=setTimeout(function(){s.state=us,s.tryEmit()},a.time);else if(i.eventType&Vt)return us;return Ti},r.reset=function(){clearTimeout(this._timer)},r.emit=function(i){this.state===us&&(i&&i.eventType&Vt?this.manager.emit(this.options.event+"up",i):(this._input.timeStamp=YP(),this.manager.emit(this.options.event,this._input)))},e}(jh),YY={domEvents:!1,touchAction:IY,enable:!0,inputTarget:null,inputClass:null,cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}},hz=[[KY,{enable:!1}],[VY,{enable:!1},["rotate"]],[HY,{direction:Di}],[tT,{direction:Di},["swipe"]],[$O],[$O,{event:"doubletap",taps:2},["tap"]],[GY]],gve=1,fz=2;function pz(t,e){var r=t.element;if(r.style){var n;ls(t.options.cssProps,function(i,s){n=$m(r.style,s),e?(t.oldCssProps[n]=r.style[n],r.style[n]=i):r.style[n]=t.oldCssProps[n]||""}),e||(t.oldCssProps={})}}function yve(t,e){var r=document.createEvent("Event");r.initEvent(t,!0,!0),r.gesture=e,e.target.dispatchEvent(r)}var mz=function(){function t(r,n){var i=this;this.options=Io({},YY,n||{}),this.options.inputTarget=this.options.inputTarget||r,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=r,this.input=pve(this),this.touchAction=new MY(this,this.options.touchAction),pz(this,!0),ls(this.options.recognizers,function(s){var a=i.add(new s[0](s[1]));s[2]&&a.recognizeWith(s[2]),s[3]&&a.requireFailure(s[3])},this)}var e=t.prototype;return e.set=function(n){return Io(this.options,n),n.touchAction&&this.touchAction.update(),n.inputTarget&&(this.input.destroy(),this.input.target=n.inputTarget,this.input.init()),this},e.stop=function(n){this.session.stopped=n?fz:gve},e.recognize=function(n){var i=this.session;if(!i.stopped){this.touchAction.preventDefaults(n);var s,a=this.recognizers,o=i.curRecognizer;(!o||o&&o.state&us)&&(i.curRecognizer=null,o=null);for(var l=0;l<a.length;)s=a[l],i.stopped!==fz&&(!o||s===o||s.canRecognizeWith(o))?s.recognize(n):s.reset(),!o&&s.state&(Ln|wu|da)&&(i.curRecognizer=s,o=s),l++}},e.get=function(n){if(n instanceof jh)return n;for(var i=this.recognizers,s=0;s<i.length;s++)if(i[s].options.event===n)return i[s];return null},e.add=function(n){if(Tl(n,"add",this))return this;var i=this.get(n.options.event);return i&&this.remove(i),this.recognizers.push(n),n.manager=this,this.touchAction.update(),n},e.remove=function(n){if(Tl(n,"remove",this))return this;var i=this.get(n);if(n){var s=this.recognizers,a=$o(s,i);a!==-1&&(s.splice(a,1),this.touchAction.update())}return this},e.on=function(n,i){if(n===void 0||i===void 0)return this;var s=this.handlers;return ls(Pd(n),function(a){s[a]=s[a]||[],s[a].push(i)}),this},e.off=function(n,i){if(n===void 0)return this;var s=this.handlers;return ls(Pd(n),function(a){i?s[a]&&s[a].splice($o(s[a],i),1):delete s[a]}),this},e.emit=function(n,i){this.options.domEvents&&yve(n,i);var s=this.handlers[n]&&this.handlers[n].slice();if(!(!s||!s.length)){i.type=n,i.preventDefault=function(){i.srcEvent.preventDefault()};for(var a=0;a<s.length;)s[a](i),a++}},e.destroy=function(){this.element&&pz(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null},t}(),bve={touchstart:Ur,touchmove:Qo,touchend:Vt,touchcancel:ln},xve="touchstart",wve="touchstart touchmove touchend touchcancel",_ve=function(t){Gn(e,t);function e(){var n,i=e.prototype;return i.evTarget=xve,i.evWin=wve,n=t.apply(this,arguments)||this,n.started=!1,n}var r=e.prototype;return r.handler=function(i){var s=bve[i.type];if(s===Ur&&(this.started=!0),!!this.started){var a=Sve.call(this,i,s);s&(Vt|ln)&&a[0].length-a[1].length===0&&(this.started=!1),this.callback(this.manager,s,{pointers:a[0],changedPointers:a[1],pointerType:Oh,srcEvent:i})}},e}(sc);function Sve(t,e){var r=Td(t.touches),n=Td(t.changedTouches);return e&(Vt|ln)&&(r=JP(r.concat(n),"identifier",!0)),[r,n]}function QY(t,e,r){var n="DEPRECATED METHOD: "+e+`
`+r+` AT 
`;return function(){var i=new Error("get-stack-trace"),s=i&&i.stack?i.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",a=window.console&&(window.console.warn||window.console.log);return a&&a.call(window.console,n,s),t.apply(this,arguments)}}var XY=QY(function(t,e,r){for(var n=Object.keys(e),i=0;i<n.length;)(!r||r&&t[n[i]]===void 0)&&(t[n[i]]=e[n[i]]),i++;return t},"extend","Use `assign`."),Eve=QY(function(t,e){return XY(t,e,!0)},"merge","Use `assign`.");function Nve(t,e,r){var n=e.prototype,i;i=t.prototype=Object.create(n),i.constructor=t,i._super=n,r&&Io(i,r)}function vz(t,e){return function(){return t.apply(e,arguments)}}var JY=function(){var t=function(r,n){return n===void 0&&(n={}),new mz(r,fi({recognizers:hz.concat()},n))};return t.VERSION="2.0.17-rc",t.DIRECTION_ALL=kY,t.DIRECTION_DOWN=xu,t.DIRECTION_LEFT=Ch,t.DIRECTION_RIGHT=Ph,t.DIRECTION_UP=Th,t.DIRECTION_HORIZONTAL=Di,t.DIRECTION_VERTICAL=vo,t.DIRECTION_NONE=Np,t.DIRECTION_DOWN=xu,t.INPUT_START=Ur,t.INPUT_MOVE=Qo,t.INPUT_END=Vt,t.INPUT_CANCEL=ln,t.STATE_POSSIBLE=Rf,t.STATE_BEGAN=Ln,t.STATE_CHANGED=wu,t.STATE_ENDED=da,t.STATE_RECOGNIZED=us,t.STATE_CANCELLED=jd,t.STATE_FAILED=Ti,t.Manager=mz,t.Input=sc,t.TouchAction=MY,t.TouchInput=ZP,t.MouseInput=eT,t.PointerEventInput=zY,t.TouchMouseInput=UY,t.SingleTouchInput=_ve,t.Recognizer=jh,t.AttrRecognizer=_u,t.Tap=$O,t.Pan=tT,t.Swipe=HY,t.Pinch=VY,t.Rotate=KY,t.Press=GY,t.on=Gc,t.off=Yc,t.each=ls,t.merge=Eve,t.extend=XY,t.bindFn=vz,t.assign=Io,t.inherit=Nve,t.bindFn=vz,t.prefixed=$m,t.toArray=Td,t.inArray=$o,t.uniqueArray=JP,t.splitStr=Pd,t.boolOrFn=km,t.hasParent=XP,t.addEventListeners=Gc,t.removeEventListeners=Yc,t.defaults=Io({},YY,{preset:hz}),t}();JY.defaults;Cfe("DELETE");function Dm(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return Ove(e.length?e:[Ep()])}function Ove(t){let[e,r,n]=Cve(t),i=1;const s=()=>{const a=2091639*e+i*23283064365386963e-26;return e=r,r=n,n=a-(i=a|0)};return s.uint32=()=>s()*4294967296,s.fract53=()=>s()+(s()*2097152|0)*11102230246251565e-32,s.algorithm="Alea",s.seed=t,s.version="0.9",s}function Cve(){const t=Pve();let e=t(" "),r=t(" "),n=t(" ");for(let i=0;i<arguments.length;i++)e-=t(i<0||arguments.length<=i?void 0:arguments[i]),e<0&&(e+=1),r-=t(i<0||arguments.length<=i?void 0:arguments[i]),r<0&&(r+=1),n-=t(i<0||arguments.length<=i?void 0:arguments[i]),n<0&&(n+=1);return[e,r,n]}function Pve(){let t=4022871197;return function(e){const r=e.toString();for(let n=0;n<r.length;n++){t+=r.charCodeAt(n);let i=.02519603282416938*t;t=i>>>0,i-=t,i*=t,t=i>>>0,i-=t,t+=i*4294967296}return(t>>>0)*23283064365386963e-26}}function Tve(){const t=()=>{};return{on:t,off:t,destroy:t,emit:t,get(){return{set:t}}}}const rT=typeof window<"u"?window.Hammer||JY:function(){return Tve()};function ji(t){var e;this._cleanupQueue=[],this.active=!1,this._dom={container:t,overlay:document.createElement("div")},this._dom.overlay.classList.add("vis-overlay"),this._dom.container.appendChild(this._dom.overlay),this._cleanupQueue.push(()=>{this._dom.overlay.parentNode.removeChild(this._dom.overlay)});const r=rT(this._dom.overlay);r.on("tap",Z(e=this._onTapOverlay).call(e,this)),this._cleanupQueue.push(()=>{r.destroy()});const n=["tap","doubletap","press","pinch","pan","panstart","panmove","panend"];at(n).call(n,i=>{r.on(i,s=>{s.srcEvent.stopPropagation()})}),document&&document.body&&(this._onClick=i=>{jve(i.target,t)||this.deactivate()},document.body.addEventListener("click",this._onClick),this._cleanupQueue.push(()=>{document.body.removeEventListener("click",this._onClick)})),this._escListener=i=>{("key"in i?i.key==="Escape":i.keyCode===27)&&this.deactivate()}}lY(ji.prototype);ji.current=null;ji.prototype.destroy=function(){this.deactivate();for(const r of fo(t=ss(e=this._cleanupQueue).call(e,0)).call(t)){var t,e;r()}};ji.prototype.activate=function(){ji.current&&ji.current.deactivate(),ji.current=this,this.active=!0,this._dom.overlay.style.display="none",this._dom.container.classList.add("vis-active"),this.emit("change"),this.emit("activate"),document.body.addEventListener("keydown",this._escListener)};ji.prototype.deactivate=function(){this.active=!1,this._dom.overlay.style.display="block",this._dom.container.classList.remove("vis-active"),document.body.removeEventListener("keydown",this._escListener),this.emit("change"),this.emit("deactivate")};ji.prototype._onTapOverlay=function(t){this.activate(),t.srcEvent.stopPropagation()};function jve(t,e){for(;t;){if(t===e)return!0;t=t.parentNode}return!1}const Ive=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i,Rve=/^#?([a-f\d])([a-f\d])([a-f\d])$/i,$ve=/^rgb\( *(1?\d{1,2}|2[0-4]\d|25[0-5]) *, *(1?\d{1,2}|2[0-4]\d|25[0-5]) *, *(1?\d{1,2}|2[0-4]\d|25[0-5]) *\)$/i,kve=/^rgba\( *(1?\d{1,2}|2[0-4]\d|25[0-5]) *, *(1?\d{1,2}|2[0-4]\d|25[0-5]) *, *(1?\d{1,2}|2[0-4]\d|25[0-5]) *, *([01]|0?\.\d+) *\)$/i;function $s(t){if(t)for(;t.hasChildNodes()===!0;){const e=t.firstChild;e&&($s(e),t.removeChild(e))}}function ql(t){return t instanceof String||typeof t=="string"}function gz(t){return typeof t=="object"&&t!==null}function ko(t,e,r,n){let i=!1;n===!0&&(i=e[r]===null&&t[r]!==void 0),i?delete t[r]:t[r]=e[r]}function ZY(t,e){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;for(const n in t)if(e[n]!==void 0)if(e[n]===null||typeof e[n]!="object")ko(t,e,n,r);else{const i=t[n],s=e[n];gz(i)&&gz(s)&&ZY(i,s,r)}}function ac(t,e,r){let n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(Dt(r))throw new TypeError("Arrays are not supported by deepExtend");for(let i=0;i<t.length;i++){const s=t[i];if(Object.prototype.hasOwnProperty.call(r,s))if(r[s]&&r[s].constructor===Object)e[s]===void 0&&(e[s]={}),e[s].constructor===Object?dt(e[s],r[s],!1,n):ko(e,r,s,n);else{if(Dt(r[s]))throw new TypeError("Arrays are not supported by deepExtend");ko(e,r,s,n)}}return e}function Pp(t,e,r){let n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(Dt(r))throw new TypeError("Arrays are not supported by deepExtend");for(const i in r)if(Object.prototype.hasOwnProperty.call(r,i)&&!ca(t).call(t,i))if(r[i]&&r[i].constructor===Object)e[i]===void 0&&(e[i]={}),e[i].constructor===Object?dt(e[i],r[i]):ko(e,r,i,n);else if(Dt(r[i])){e[i]=[];for(let s=0;s<r[i].length;s++)e[i].push(r[i][s])}else ko(e,r,i,n);return e}function dt(t,e){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;for(const s in e)if(Object.prototype.hasOwnProperty.call(e,s)||r===!0)if(typeof e[s]=="object"&&e[s]!==null&&J6(e[s])===Object.prototype)t[s]===void 0?t[s]=dt({},e[s],r):typeof t[s]=="object"&&t[s]!==null&&J6(t[s])===Object.prototype?dt(t[s],e[s],r):ko(t,e,s,n);else if(Dt(e[s])){var i;t[s]=Ci(i=e[s]).call(i)}else ko(t,e,s,n);return t}function Tp(t,e){return[...t,e]}function Dve(t){return Ci(t).call(t)}function Mve(t){return t.getBoundingClientRect().left}function qve(t){return t.getBoundingClientRect().top}function De(t,e){if(Dt(t)){const r=t.length;for(let n=0;n<r;n++)e(t[n],n,t)}else for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&e(t[r],r,t)}function nT(t){let e;switch(t.length){case 3:case 4:return e=Rve.exec(t),e?{r:ii(e[1]+e[1],16),g:ii(e[2]+e[2],16),b:ii(e[3]+e[3],16)}:null;case 6:case 7:return e=Ive.exec(t),e?{r:ii(e[1],16),g:ii(e[2],16),b:ii(e[3],16)}:null;default:return null}}function Mn(t,e){if(ca(t).call(t,"rgba"))return t;if(ca(t).call(t,"rgb")){const r=t.substr(Je(t).call(t,"(")+1).replace(")","").split(",");return"rgba("+r[0]+","+r[1]+","+r[2]+","+e+")"}else{const r=nT(t);return r==null?t:"rgba("+r.r+","+r.g+","+r.b+","+e+")"}}function eQ(t,e,r){var n;return"#"+Ci(n=((1<<24)+(t<<16)+(e<<8)+r).toString(16)).call(n,1)}function kO(t,e){if(ql(t)){let n=t;if(rQ(n)){var r;const i=bu(r=n.substr(4).substr(0,n.length-5).split(",")).call(r,function(s){return ii(s)});n=eQ(i[0],i[1],i[2])}if(tQ(n)===!0){const i=Ave(n),s={h:i.h,s:i.s*.8,v:Math.min(1,i.v*1.02)},a={h:i.h,s:Math.min(1,i.s*1.25),v:i.v*.8},o=DO(a.h,a.s,a.v),l=DO(s.h,s.s,s.v);return{background:n,border:o,highlight:{background:l,border:o},hover:{background:l,border:o}}}else return{background:n,border:n,highlight:{background:n,border:n},hover:{background:n,border:n}}}else return{background:t.background||void 0,border:t.border||void 0,highlight:ql(t.highlight)?{border:t.highlight,background:t.highlight}:{background:t.highlight&&t.highlight.background||void 0,border:t.highlight&&t.highlight.border||void 0},hover:ql(t.hover)?{border:t.hover,background:t.hover}:{border:t.hover&&t.hover.border||void 0,background:t.hover&&t.hover.background||void 0}}}function $c(t,e,r){t=t/255,e=e/255,r=r/255;const n=Math.min(t,Math.min(e,r)),i=Math.max(t,Math.max(e,r));if(n===i)return{h:0,s:0,v:n};const s=t===n?e-r:r===n?t-e:r-t,o=60*((t===n?3:r===n?1:5)-s/(i-n))/360,l=(i-n)/i;return{h:o,s:l,v:i}}function $f(t,e,r){let n,i,s;const a=Math.floor(t*6),o=t*6-a,l=r*(1-e),c=r*(1-o*e),d=r*(1-(1-o)*e);switch(a%6){case 0:n=r,i=d,s=l;break;case 1:n=c,i=r,s=l;break;case 2:n=l,i=r,s=d;break;case 3:n=l,i=c,s=r;break;case 4:n=d,i=l,s=r;break;case 5:n=r,i=l,s=c;break}return{r:Math.floor(n*255),g:Math.floor(i*255),b:Math.floor(s*255)}}function DO(t,e,r){const n=$f(t,e,r);return eQ(n.r,n.g,n.b)}function Ave(t){const e=nT(t);if(!e)throw new TypeError("'".concat(t,"' is not a valid color."));return $c(e.r,e.g,e.b)}function tQ(t){return/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i.test(t)}function rQ(t){return $ve.test(t)}function Fve(t){return kve.test(t)}function ha(t){if(t===null||typeof t!="object")return null;if(t instanceof Element)return t;const e=po(t);for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&typeof t[r]=="object"&&(e[r]=ha(t[r]));return e}function $n(t,e,r){let n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};const i=function(p){return p!=null},s=function(p){return p!==null&&typeof p=="object"},a=function(p){for(const m in p)if(Object.prototype.hasOwnProperty.call(p,m))return!1;return!0};if(!s(t))throw new Error("Parameter mergeTarget must be an object");if(!s(e))throw new Error("Parameter options must be an object");if(!i(r))throw new Error("Parameter option must have a value");if(!s(n))throw new Error("Parameter globalOptions must be an object");const o=function(p,m,y){s(p[y])||(p[y]={});const x=m[y],g=p[y];for(const v in x)Object.prototype.hasOwnProperty.call(x,v)&&(g[v]=x[v])},l=e[r],d=s(n)&&!a(n)?n[r]:void 0,h=d?d.enabled:void 0;if(l===void 0)return;if(typeof l=="boolean"){s(t[r])||(t[r]={}),t[r].enabled=l;return}if(l===null&&!s(t[r]))if(i(d))t[r]=po(d);else return;if(!s(l))return;let f=!0;l.enabled!==void 0?f=l.enabled:h!==void 0&&(f=d.enabled),o(t,e,r),t[r].enabled=f}const Lve={linear(t){return t},easeInQuad(t){return t*t},easeOutQuad(t){return t*(2-t)},easeInOutQuad(t){return t<.5?2*t*t:-1+(4-2*t)*t},easeInCubic(t){return t*t*t},easeOutCubic(t){return--t*t*t+1},easeInOutCubic(t){return t<.5?4*t*t*t:(t-1)*(2*t-2)*(2*t-2)+1},easeInQuart(t){return t*t*t*t},easeOutQuart(t){return 1- --t*t*t*t},easeInOutQuart(t){return t<.5?8*t*t*t*t:1-8*--t*t*t*t},easeInQuint(t){return t*t*t*t*t},easeOutQuint(t){return 1+--t*t*t*t*t},easeInOutQuint(t){return t<.5?16*t*t*t*t*t:1+16*--t*t*t*t*t}};function ks(t,e){let r;Dt(e)||(e=[e]);for(const n of t)if(n){r=n[e[0]];for(let i=1;i<e.length;i++)r&&(r=r[e[i]]);if(typeof r<"u")break}return r}const Bve={black:"#000000",navy:"#000080",darkblue:"#00008B",mediumblue:"#0000CD",blue:"#0000FF",darkgreen:"#006400",green:"#008000",teal:"#008080",darkcyan:"#008B8B",deepskyblue:"#00BFFF",darkturquoise:"#00CED1",mediumspringgreen:"#00FA9A",lime:"#00FF00",springgreen:"#00FF7F",aqua:"#00FFFF",cyan:"#00FFFF",midnightblue:"#191970",dodgerblue:"#1E90FF",lightseagreen:"#20B2AA",forestgreen:"#228B22",seagreen:"#2E8B57",darkslategray:"#2F4F4F",limegreen:"#32CD32",mediumseagreen:"#3CB371",turquoise:"#40E0D0",royalblue:"#4169E1",steelblue:"#4682B4",darkslateblue:"#483D8B",mediumturquoise:"#48D1CC",indigo:"#4B0082",darkolivegreen:"#556B2F",cadetblue:"#5F9EA0",cornflowerblue:"#6495ED",mediumaquamarine:"#66CDAA",dimgray:"#696969",slateblue:"#6A5ACD",olivedrab:"#6B8E23",slategray:"#708090",lightslategray:"#778899",mediumslateblue:"#7B68EE",lawngreen:"#7CFC00",chartreuse:"#7FFF00",aquamarine:"#7FFFD4",maroon:"#800000",purple:"#800080",olive:"#808000",gray:"#808080",skyblue:"#87CEEB",lightskyblue:"#87CEFA",blueviolet:"#8A2BE2",darkred:"#8B0000",darkmagenta:"#8B008B",saddlebrown:"#8B4513",darkseagreen:"#8FBC8F",lightgreen:"#90EE90",mediumpurple:"#9370D8",darkviolet:"#9400D3",palegreen:"#98FB98",darkorchid:"#9932CC",yellowgreen:"#9ACD32",sienna:"#A0522D",brown:"#A52A2A",darkgray:"#A9A9A9",lightblue:"#ADD8E6",greenyellow:"#ADFF2F",paleturquoise:"#AFEEEE",lightsteelblue:"#B0C4DE",powderblue:"#B0E0E6",firebrick:"#B22222",darkgoldenrod:"#B8860B",mediumorchid:"#BA55D3",rosybrown:"#BC8F8F",darkkhaki:"#BDB76B",silver:"#C0C0C0",mediumvioletred:"#C71585",indianred:"#CD5C5C",peru:"#CD853F",chocolate:"#D2691E",tan:"#D2B48C",lightgrey:"#D3D3D3",palevioletred:"#D87093",thistle:"#D8BFD8",orchid:"#DA70D6",goldenrod:"#DAA520",crimson:"#DC143C",gainsboro:"#DCDCDC",plum:"#DDA0DD",burlywood:"#DEB887",lightcyan:"#E0FFFF",lavender:"#E6E6FA",darksalmon:"#E9967A",violet:"#EE82EE",palegoldenrod:"#EEE8AA",lightcoral:"#F08080",khaki:"#F0E68C",aliceblue:"#F0F8FF",honeydew:"#F0FFF0",azure:"#F0FFFF",sandybrown:"#F4A460",wheat:"#F5DEB3",beige:"#F5F5DC",whitesmoke:"#F5F5F5",mintcream:"#F5FFFA",ghostwhite:"#F8F8FF",salmon:"#FA8072",antiquewhite:"#FAEBD7",linen:"#FAF0E6",lightgoldenrodyellow:"#FAFAD2",oldlace:"#FDF5E6",red:"#FF0000",fuchsia:"#FF00FF",magenta:"#FF00FF",deeppink:"#FF1493",orangered:"#FF4500",tomato:"#FF6347",hotpink:"#FF69B4",coral:"#FF7F50",darkorange:"#FF8C00",lightsalmon:"#FFA07A",orange:"#FFA500",lightpink:"#FFB6C1",pink:"#FFC0CB",gold:"#FFD700",peachpuff:"#FFDAB9",navajowhite:"#FFDEAD",moccasin:"#FFE4B5",bisque:"#FFE4C4",mistyrose:"#FFE4E1",blanchedalmond:"#FFEBCD",papayawhip:"#FFEFD5",lavenderblush:"#FFF0F5",seashell:"#FFF5EE",cornsilk:"#FFF8DC",lemonchiffon:"#FFFACD",floralwhite:"#FFFAF0",snow:"#FFFAFA",yellow:"#FFFF00",lightyellow:"#FFFFE0",ivory:"#FFFFF0",white:"#FFFFFF"};let zve=class{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1;this.pixelRatio=e,this.generated=!1,this.centerCoordinates={x:289/2,y:289/2},this.r=289*.49,this.color={r:255,g:255,b:255,a:1},this.hueCircle=void 0,this.initialColor={r:255,g:255,b:255,a:1},this.previousColor=void 0,this.applied=!1,this.updateCallback=()=>{},this.closeCallback=()=>{},this._create()}insertTo(e){this.hammer!==void 0&&(this.hammer.destroy(),this.hammer=void 0),this.container=e,this.container.appendChild(this.frame),this._bindHammer(),this._setSize()}setUpdateCallback(e){if(typeof e=="function")this.updateCallback=e;else throw new Error("Function attempted to set as colorPicker update callback is not a function.")}setCloseCallback(e){if(typeof e=="function")this.closeCallback=e;else throw new Error("Function attempted to set as colorPicker closing callback is not a function.")}_isColorString(e){if(typeof e=="string")return Bve[e]}setColor(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(e==="none")return;let n;const i=this._isColorString(e);if(i!==void 0&&(e=i),ql(e)===!0){if(rQ(e)===!0){const s=e.substr(4).substr(0,e.length-5).split(",");n={r:s[0],g:s[1],b:s[2],a:1}}else if(Fve(e)===!0){const s=e.substr(5).substr(0,e.length-6).split(",");n={r:s[0],g:s[1],b:s[2],a:s[3]}}else if(tQ(e)===!0){const s=nT(e);n={r:s.r,g:s.g,b:s.b,a:1}}}else if(e instanceof Object&&e.r!==void 0&&e.g!==void 0&&e.b!==void 0){const s=e.a!==void 0?e.a:"1.0";n={r:e.r,g:e.g,b:e.b,a:s}}if(n===void 0)throw new Error("Unknown color passed to the colorPicker. Supported are strings: rgb, hex, rgba. Object: rgb ({r:r,g:g,b:b,[a:a]}). Supplied: "+Eh(e));this._setColor(n,r)}show(){this.closeCallback!==void 0&&(this.closeCallback(),this.closeCallback=void 0),this.applied=!1,this.frame.style.display="block",this._generateHueCircle()}_hide(){(arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0)===!0&&(this.previousColor=Ht({},this.color)),this.applied===!0&&this.updateCallback(this.initialColor),this.frame.style.display="none",as(()=>{this.closeCallback!==void 0&&(this.closeCallback(),this.closeCallback=void 0)},0)}_save(){this.updateCallback(this.color),this.applied=!1,this._hide()}_apply(){this.applied=!0,this.updateCallback(this.color),this._updatePicker(this.color)}_loadLast(){this.previousColor!==void 0?this.setColor(this.previousColor,!1):alert("There is no last color to load...")}_setColor(e){(arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0)===!0&&(this.initialColor=Ht({},e)),this.color=e;const n=$c(e.r,e.g,e.b),i=2*Math.PI,s=this.r*n.s,a=this.centerCoordinates.x+s*Math.sin(i*n.h),o=this.centerCoordinates.y+s*Math.cos(i*n.h);this.colorPickerSelector.style.left=a-.5*this.colorPickerSelector.clientWidth+"px",this.colorPickerSelector.style.top=o-.5*this.colorPickerSelector.clientHeight+"px",this._updatePicker(e)}_setOpacity(e){this.color.a=e/100,this._updatePicker(this.color)}_setBrightness(e){const r=$c(this.color.r,this.color.g,this.color.b);r.v=e/100;const n=$f(r.h,r.s,r.v);n.a=this.color.a,this.color=n,this._updatePicker()}_updatePicker(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.color;const r=$c(e.r,e.g,e.b),n=this.colorPickerCanvas.getContext("2d");this.pixelRation===void 0&&(this.pixelRatio=(window.devicePixelRatio||1)/(n.webkitBackingStorePixelRatio||n.mozBackingStorePixelRatio||n.msBackingStorePixelRatio||n.oBackingStorePixelRatio||n.backingStorePixelRatio||1)),n.setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0);const i=this.colorPickerCanvas.clientWidth,s=this.colorPickerCanvas.clientHeight;n.clearRect(0,0,i,s),n.putImageData(this.hueCircle,0,0),n.fillStyle="rgba(0,0,0,"+(1-r.v)+")",n.circle(this.centerCoordinates.x,this.centerCoordinates.y,this.r),Nh(n).call(n),this.brightnessRange.value=100*r.v,this.opacityRange.value=100*e.a,this.initialColorDiv.style.backgroundColor="rgba("+this.initialColor.r+","+this.initialColor.g+","+this.initialColor.b+","+this.initialColor.a+")",this.newColorDiv.style.backgroundColor="rgba("+this.color.r+","+this.color.g+","+this.color.b+","+this.color.a+")"}_setSize(){this.colorPickerCanvas.style.width="100%",this.colorPickerCanvas.style.height="100%",this.colorPickerCanvas.width=289*this.pixelRatio,this.colorPickerCanvas.height=289*this.pixelRatio}_create(){var e,r,n,i;if(this.frame=document.createElement("div"),this.frame.className="vis-color-picker",this.colorPickerDiv=document.createElement("div"),this.colorPickerSelector=document.createElement("div"),this.colorPickerSelector.className="vis-selector",this.colorPickerDiv.appendChild(this.colorPickerSelector),this.colorPickerCanvas=document.createElement("canvas"),this.colorPickerDiv.appendChild(this.colorPickerCanvas),this.colorPickerCanvas.getContext){const a=this.colorPickerCanvas.getContext("2d");this.pixelRatio=(window.devicePixelRatio||1)/(a.webkitBackingStorePixelRatio||a.mozBackingStorePixelRatio||a.msBackingStorePixelRatio||a.oBackingStorePixelRatio||a.backingStorePixelRatio||1),this.colorPickerCanvas.getContext("2d").setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0)}else{const a=document.createElement("DIV");a.style.color="red",a.style.fontWeight="bold",a.style.padding="10px",a.innerText="Error: your browser does not support HTML canvas",this.colorPickerCanvas.appendChild(a)}this.colorPickerDiv.className="vis-color",this.opacityDiv=document.createElement("div"),this.opacityDiv.className="vis-opacity",this.brightnessDiv=document.createElement("div"),this.brightnessDiv.className="vis-brightness",this.arrowDiv=document.createElement("div"),this.arrowDiv.className="vis-arrow",this.opacityRange=document.createElement("input");try{this.opacityRange.type="range",this.opacityRange.min="0",this.opacityRange.max="100"}catch{}this.opacityRange.value="100",this.opacityRange.className="vis-range",this.brightnessRange=document.createElement("input");try{this.brightnessRange.type="range",this.brightnessRange.min="0",this.brightnessRange.max="100"}catch{}this.brightnessRange.value="100",this.brightnessRange.className="vis-range",this.opacityDiv.appendChild(this.opacityRange),this.brightnessDiv.appendChild(this.brightnessRange);const s=this;this.opacityRange.onchange=function(){s._setOpacity(this.value)},this.opacityRange.oninput=function(){s._setOpacity(this.value)},this.brightnessRange.onchange=function(){s._setBrightness(this.value)},this.brightnessRange.oninput=function(){s._setBrightness(this.value)},this.brightnessLabel=document.createElement("div"),this.brightnessLabel.className="vis-label vis-brightness",this.brightnessLabel.innerText="brightness:",this.opacityLabel=document.createElement("div"),this.opacityLabel.className="vis-label vis-opacity",this.opacityLabel.innerText="opacity:",this.newColorDiv=document.createElement("div"),this.newColorDiv.className="vis-new-color",this.newColorDiv.innerText="new",this.initialColorDiv=document.createElement("div"),this.initialColorDiv.className="vis-initial-color",this.initialColorDiv.innerText="initial",this.cancelButton=document.createElement("div"),this.cancelButton.className="vis-button vis-cancel",this.cancelButton.innerText="cancel",this.cancelButton.onclick=Z(e=this._hide).call(e,this,!1),this.applyButton=document.createElement("div"),this.applyButton.className="vis-button vis-apply",this.applyButton.innerText="apply",this.applyButton.onclick=Z(r=this._apply).call(r,this),this.saveButton=document.createElement("div"),this.saveButton.className="vis-button vis-save",this.saveButton.innerText="save",this.saveButton.onclick=Z(n=this._save).call(n,this),this.loadButton=document.createElement("div"),this.loadButton.className="vis-button vis-load",this.loadButton.innerText="load last",this.loadButton.onclick=Z(i=this._loadLast).call(i,this),this.frame.appendChild(this.colorPickerDiv),this.frame.appendChild(this.arrowDiv),this.frame.appendChild(this.brightnessLabel),this.frame.appendChild(this.brightnessDiv),this.frame.appendChild(this.opacityLabel),this.frame.appendChild(this.opacityDiv),this.frame.appendChild(this.newColorDiv),this.frame.appendChild(this.initialColorDiv),this.frame.appendChild(this.cancelButton),this.frame.appendChild(this.applyButton),this.frame.appendChild(this.saveButton),this.frame.appendChild(this.loadButton)}_bindHammer(){this.drag={},this.pinch={},this.hammer=new rT(this.colorPickerCanvas),this.hammer.get("pinch").set({enable:!0}),this.hammer.on("hammer.input",e=>{e.isFirst&&this._moveSelector(e)}),this.hammer.on("tap",e=>{this._moveSelector(e)}),this.hammer.on("panstart",e=>{this._moveSelector(e)}),this.hammer.on("panmove",e=>{this._moveSelector(e)}),this.hammer.on("panend",e=>{this._moveSelector(e)})}_generateHueCircle(){if(this.generated===!1){const e=this.colorPickerCanvas.getContext("2d");this.pixelRation===void 0&&(this.pixelRatio=(window.devicePixelRatio||1)/(e.webkitBackingStorePixelRatio||e.mozBackingStorePixelRatio||e.msBackingStorePixelRatio||e.oBackingStorePixelRatio||e.backingStorePixelRatio||1)),e.setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0);const r=this.colorPickerCanvas.clientWidth,n=this.colorPickerCanvas.clientHeight;e.clearRect(0,0,r,n);let i,s,a,o;this.centerCoordinates={x:r*.5,y:n*.5},this.r=.49*r;const l=2*Math.PI/360,c=1/360,d=1/this.r;let h;for(a=0;a<360;a++)for(o=0;o<this.r;o++)i=this.centerCoordinates.x+o*Math.sin(l*a),s=this.centerCoordinates.y+o*Math.cos(l*a),h=$f(a*c,o*d,1),e.fillStyle="rgb("+h.r+","+h.g+","+h.b+")",e.fillRect(i-.5,s-.5,2,2);e.strokeStyle="rgba(0,0,0,1)",e.circle(this.centerCoordinates.x,this.centerCoordinates.y,this.r),e.stroke(),this.hueCircle=e.getImageData(0,0,r,n)}this.generated=!0}_moveSelector(e){const r=this.colorPickerDiv.getBoundingClientRect(),n=e.center.x-r.left,i=e.center.y-r.top,s=.5*this.colorPickerDiv.clientHeight,a=.5*this.colorPickerDiv.clientWidth,o=n-a,l=i-s,c=Math.atan2(o,l),d=.98*Math.min(Math.sqrt(o*o+l*l),a),h=Math.cos(c)*d+s,f=Math.sin(c)*d+a;this.colorPickerSelector.style.top=h-.5*this.colorPickerSelector.clientHeight+"px",this.colorPickerSelector.style.left=f-.5*this.colorPickerSelector.clientWidth+"px";let p=c/(2*Math.PI);p=p<0?p+1:p;const m=d/this.r,y=$c(this.color.r,this.color.g,this.color.b);y.h=p,y.s=m;const x=$f(y.h,y.s,y.v);x.a=this.color.a,this.color=x,this.initialColorDiv.style.backgroundColor="rgba("+this.initialColor.r+","+this.initialColor.g+","+this.initialColor.b+","+this.initialColor.a+")",this.newColorDiv.style.backgroundColor="rgba("+this.color.r+","+this.color.g+","+this.color.b+","+this.color.a+")"}};function MO(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];if(e.length<1)throw new TypeError("Invalid arguments.");if(e.length===1)return document.createTextNode(e[0]);{const n=document.createElement(e[0]);return n.appendChild(MO(...Ci(e).call(e,1))),n}}let Uve=class{constructor(e,r,n){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:1,s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:()=>!1;this.parent=e,this.changedOptions=[],this.container=r,this.allowCreation=!1,this.hideOption=s,this.options={},this.initialized=!1,this.popupCounter=0,this.defaultOptions={enabled:!1,filter:!0,container:void 0,showButton:!0},Ht(this.options,this.defaultOptions),this.configureOptions=n,this.moduleOptions={},this.domElements=[],this.popupDiv={},this.popupLimit=5,this.popupHistory={},this.colorPicker=new zve(i),this.wrapper=void 0}setOptions(e){if(e!==void 0){this.popupHistory={},this._removePopup();let r=!0;if(typeof e=="string")this.options.filter=e;else if(Dt(e))this.options.filter=e.join();else if(typeof e=="object"){if(e==null)throw new TypeError("options cannot be null");e.container!==void 0&&(this.options.container=e.container),Zr(e)!==void 0&&(this.options.filter=Zr(e)),e.showButton!==void 0&&(this.options.showButton=e.showButton),e.enabled!==void 0&&(r=e.enabled)}else typeof e=="boolean"?(this.options.filter=!0,r=e):typeof e=="function"&&(this.options.filter=e,r=!0);Zr(this.options)===!1&&(r=!1),this.options.enabled=r}this._clean()}setModuleOptions(e){this.moduleOptions=e,this.options.enabled===!0&&(this._clean(),this.options.container!==void 0&&(this.container=this.options.container),this._create())}_create(){this._clean(),this.changedOptions=[];const e=Zr(this.options);let r=0,n=!1;for(const i in this.configureOptions)Object.prototype.hasOwnProperty.call(this.configureOptions,i)&&(this.allowCreation=!1,n=!1,typeof e=="function"?(n=e(i,[]),n=n||this._handleObject(this.configureOptions[i],[i],!0)):(e===!0||Je(e).call(e,i)!==-1)&&(n=!0),n!==!1&&(this.allowCreation=!0,r>0&&this._makeItem([]),this._makeHeader(i),this._handleObject(this.configureOptions[i],[i])),r++);this._makeButton(),this._push()}_push(){this.wrapper=document.createElement("div"),this.wrapper.className="vis-configuration-wrapper",this.container.appendChild(this.wrapper);for(let e=0;e<this.domElements.length;e++)this.wrapper.appendChild(this.domElements[e]);this._showPopupIfNeeded()}_clean(){for(let e=0;e<this.domElements.length;e++)this.wrapper.removeChild(this.domElements[e]);this.wrapper!==void 0&&(this.container.removeChild(this.wrapper),this.wrapper=void 0),this.domElements=[],this._removePopup()}_getValue(e){let r=this.moduleOptions;for(let n=0;n<e.length;n++)if(r[e[n]]!==void 0)r=r[e[n]];else{r=void 0;break}return r}_makeItem(e){if(this.allowCreation===!0){const s=document.createElement("div");s.className="vis-configuration vis-config-item vis-config-s"+e.length;for(var r=arguments.length,n=new Array(r>1?r-1:0),i=1;i<r;i++)n[i-1]=arguments[i];return at(n).call(n,a=>{s.appendChild(a)}),this.domElements.push(s),this.domElements.length}return 0}_makeHeader(e){const r=document.createElement("div");r.className="vis-configuration vis-config-header",r.innerText=e,this._makeItem([],r)}_makeLabel(e,r){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;const i=document.createElement("div");if(i.className="vis-configuration vis-config-label vis-config-s"+r.length,n===!0){for(;i.firstChild;)i.removeChild(i.firstChild);i.appendChild(MO("i","b",e))}else i.innerText=e+":";return i}_makeDropdown(e,r,n){const i=document.createElement("select");i.className="vis-configuration vis-config-select";let s=0;r!==void 0&&Je(e).call(e,r)!==-1&&(s=Je(e).call(e,r));for(let l=0;l<e.length;l++){const c=document.createElement("option");c.value=e[l],l===s&&(c.selected="selected"),c.innerText=e[l],i.appendChild(c)}const a=this;i.onchange=function(){a._update(this.value,n)};const o=this._makeLabel(n[n.length-1],n);this._makeItem(n,o,i)}_makeRange(e,r,n){const i=e[0],s=e[1],a=e[2],o=e[3],l=document.createElement("input");l.className="vis-configuration vis-config-range";try{l.type="range",l.min=s,l.max=a}catch{}l.step=o;let c="",d=0;r!==void 0?(r<0&&r*1.2<s?(l.min=Math.ceil(r*1.2),d=l.min,c="range increased"):r/1.2<s&&(l.min=Math.ceil(r/1.2),d=l.min,c="range increased"),r*1.2>a&&a!==1&&(l.max=Math.ceil(r*1.2),d=l.max,c="range increased"),l.value=r):l.value=i;const h=document.createElement("input");h.className="vis-configuration vis-config-rangeinput",h.value=l.value;const f=this;l.onchange=function(){h.value=this.value,f._update(Number(this.value),n)},l.oninput=function(){h.value=this.value};const p=this._makeLabel(n[n.length-1],n),m=this._makeItem(n,p,l,h);c!==""&&this.popupHistory[m]!==d&&(this.popupHistory[m]=d,this._setupPopup(c,m))}_makeButton(){if(this.options.showButton===!0){const e=document.createElement("div");e.className="vis-configuration vis-config-button",e.innerText="generate options",e.onclick=()=>{this._printOptions()},e.onmouseover=()=>{e.className="vis-configuration vis-config-button hover"},e.onmouseout=()=>{e.className="vis-configuration vis-config-button"},this.optionsContainer=document.createElement("div"),this.optionsContainer.className="vis-configuration vis-config-option-container",this.domElements.push(this.optionsContainer),this.domElements.push(e)}}_setupPopup(e,r){if(this.initialized===!0&&this.allowCreation===!0&&this.popupCounter<this.popupLimit){const n=document.createElement("div");n.id="vis-configuration-popup",n.className="vis-configuration-popup",n.innerText=e,n.onclick=()=>{this._removePopup()},this.popupCounter+=1,this.popupDiv={html:n,index:r}}}_removePopup(){this.popupDiv.html!==void 0&&(this.popupDiv.html.parentNode.removeChild(this.popupDiv.html),clearTimeout(this.popupDiv.hideTimeout),clearTimeout(this.popupDiv.deleteTimeout),this.popupDiv={})}_showPopupIfNeeded(){if(this.popupDiv.html!==void 0){const r=this.domElements[this.popupDiv.index].getBoundingClientRect();this.popupDiv.html.style.left=r.left+"px",this.popupDiv.html.style.top=r.top-30+"px",document.body.appendChild(this.popupDiv.html),this.popupDiv.hideTimeout=as(()=>{this.popupDiv.html.style.opacity=0},1500),this.popupDiv.deleteTimeout=as(()=>{this._removePopup()},1800)}}_makeCheckbox(e,r,n){const i=document.createElement("input");i.type="checkbox",i.className="vis-configuration vis-config-checkbox",i.checked=e,r!==void 0&&(i.checked=r,r!==e&&(typeof e=="object"?r!==e.enabled&&this.changedOptions.push({path:n,value:r}):this.changedOptions.push({path:n,value:r})));const s=this;i.onchange=function(){s._update(this.checked,n)};const a=this._makeLabel(n[n.length-1],n);this._makeItem(n,a,i)}_makeTextInput(e,r,n){const i=document.createElement("input");i.type="text",i.className="vis-configuration vis-config-text",i.value=r,r!==e&&this.changedOptions.push({path:n,value:r});const s=this;i.onchange=function(){s._update(this.value,n)};const a=this._makeLabel(n[n.length-1],n);this._makeItem(n,a,i)}_makeColorField(e,r,n){const i=e[1],s=document.createElement("div");r=r===void 0?i:r,r!=="none"?(s.className="vis-configuration vis-config-colorBlock",s.style.backgroundColor=r):s.className="vis-configuration vis-config-colorBlock none",r=r===void 0?i:r,s.onclick=()=>{this._showColorPicker(r,s,n)};const a=this._makeLabel(n[n.length-1],n);this._makeItem(n,a,s)}_showColorPicker(e,r,n){r.onclick=function(){},this.colorPicker.insertTo(r),this.colorPicker.show(),this.colorPicker.setColor(e),this.colorPicker.setUpdateCallback(i=>{const s="rgba("+i.r+","+i.g+","+i.b+","+i.a+")";r.style.backgroundColor=s,this._update(s,n)}),this.colorPicker.setCloseCallback(()=>{r.onclick=()=>{this._showColorPicker(e,r,n)}})}_handleObject(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,i=!1;const s=Zr(this.options);let a=!1;for(const o in e)if(Object.prototype.hasOwnProperty.call(e,o)){i=!0;const l=e[o],c=Tp(r,o);if(typeof s=="function"&&(i=s(o,r),i===!1&&!Dt(l)&&typeof l!="string"&&typeof l!="boolean"&&l instanceof Object&&(this.allowCreation=!1,i=this._handleObject(l,c,!0),this.allowCreation=n===!1)),i!==!1){a=!0;const d=this._getValue(c);if(Dt(l))this._handleArray(l,d,c);else if(typeof l=="string")this._makeTextInput(l,d,c);else if(typeof l=="boolean")this._makeCheckbox(l,d,c);else if(l instanceof Object){if(!this.hideOption(r,o,this.moduleOptions))if(l.enabled!==void 0){const h=Tp(c,"enabled"),f=this._getValue(h);if(f===!0){const p=this._makeLabel(o,c,!0);this._makeItem(c,p),a=this._handleObject(l,c)||a}else this._makeCheckbox(l,f,c)}else{const h=this._makeLabel(o,c,!0);this._makeItem(c,h),a=this._handleObject(l,c)||a}}else console.error("dont know how to handle",l,o,c)}}return a}_handleArray(e,r,n){typeof e[0]=="string"&&e[0]==="color"?(this._makeColorField(e,r,n),e[1]!==r&&this.changedOptions.push({path:n,value:r})):typeof e[0]=="string"?(this._makeDropdown(e,r,n),e[0]!==r&&this.changedOptions.push({path:n,value:r})):typeof e[0]=="number"&&(this._makeRange(e,r,n),e[0]!==r&&this.changedOptions.push({path:n,value:Number(r)}))}_update(e,r){const n=this._constructOptions(e,r);this.parent.body&&this.parent.body.emitter&&this.parent.body.emitter.emit&&this.parent.body.emitter.emit("configChange",n),this.initialized=!0,this.parent.setOptions(n)}_constructOptions(e,r){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},i=n;e=e==="true"?!0:e,e=e==="false"?!1:e;for(let s=0;s<r.length;s++)r[s]!=="global"&&(i[r[s]]===void 0&&(i[r[s]]={}),s!==r.length-1?i=i[r[s]]:i[r[s]]=e);return n}_printOptions(){const e=this.getOptions();for(;this.optionsContainer.firstChild;)this.optionsContainer.removeChild(this.optionsContainer.firstChild);this.optionsContainer.appendChild(MO("pre","const options = "+Eh(e,null,2)))}getOptions(){const e={};for(let r=0;r<this.changedOptions.length;r++)this._constructOptions(this.changedOptions[r].value,this.changedOptions[r].path,e);return e}},Wve=class{constructor(e,r){this.container=e,this.overflowMethod=r||"cap",this.x=0,this.y=0,this.padding=5,this.hidden=!1,this.frame=document.createElement("div"),this.frame.className="vis-tooltip",this.container.appendChild(this.frame)}setPosition(e,r){this.x=ii(e),this.y=ii(r)}setText(e){if(e instanceof Element){for(;this.frame.firstChild;)this.frame.removeChild(this.frame.firstChild);this.frame.appendChild(e)}else this.frame.innerText=e}show(e){if(e===void 0&&(e=!0),e===!0){const r=this.frame.clientHeight,n=this.frame.clientWidth,i=this.frame.parentNode.clientHeight,s=this.frame.parentNode.clientWidth;let a=0,o=0;if(this.overflowMethod=="flip"){let l=!1,c=!0;this.y-r<this.padding&&(c=!1),this.x+n>s-this.padding&&(l=!0),l?a=this.x-n:a=this.x,c?o=this.y-r:o=this.y}else o=this.y-r,o+r+this.padding>i&&(o=i-r-this.padding),o<this.padding&&(o=this.padding),a=this.x,a+n+this.padding>s&&(a=s-n-this.padding),a<this.padding&&(a=this.padding);this.frame.style.left=a+"px",this.frame.style.top=o+"px",this.frame.style.visibility="visible",this.hidden=!1}else this.hide()}hide(){this.hidden=!0,this.frame.style.left="0",this.frame.style.top="0",this.frame.style.visibility="hidden"}destroy(){this.frame.parentNode.removeChild(this.frame)}},Nc=!1,yz;const qO="background: #FFeeee; color: #dd0000";let Hve=class Tt{static validate(e,r,n){Nc=!1,yz=r;let i=r;return n!==void 0&&(i=r[n]),Tt.parse(e,i,[]),Nc}static parse(e,r,n){for(const i in e)Object.prototype.hasOwnProperty.call(e,i)&&Tt.check(i,e,r,n)}static check(e,r,n,i){if(n[e]===void 0&&n.__any__===void 0){Tt.getSuggestion(e,n,i);return}let s=e,a=!0;n[e]===void 0&&n.__any__!==void 0&&(s="__any__",a=Tt.getType(r[e])==="object");let o=n[s];a&&o.__type__!==void 0&&(o=o.__type__),Tt.checkFields(e,r,n,s,o,i)}static checkFields(e,r,n,i,s,a){const o=function(d){console.error("%c"+d+Tt.printLocation(a,e),qO)},l=Tt.getType(r[e]),c=s[l];c!==void 0?Tt.getType(c)==="array"&&Je(c).call(c,r[e])===-1?(o('Invalid option detected in "'+e+'". Allowed values are:'+Tt.print(c)+' not "'+r[e]+'". '),Nc=!0):l==="object"&&i!=="__any__"&&(a=Tp(a,e),Tt.parse(r[e],n[i],a)):s.any===void 0&&(o('Invalid type received for "'+e+'". Expected: '+Tt.print(Rt(s))+". Received ["+l+'] "'+r[e]+'"'),Nc=!0)}static getType(e){const r=typeof e;return r==="object"?e===null?"null":e instanceof Boolean?"boolean":e instanceof Number?"number":e instanceof String?"string":Dt(e)?"array":e instanceof Date?"date":e.nodeType!==void 0?"dom":e._isAMomentObject===!0?"moment":"object":r==="number"?"number":r==="boolean"?"boolean":r==="string"?"string":r===void 0?"undefined":r}static getSuggestion(e,r,n){const i=Tt.findInOptions(e,r,n,!1),s=Tt.findInOptions(e,yz,[],!0),a=8,o=4;let l;i.indexMatch!==void 0?l=" in "+Tt.printLocation(i.path,e,"")+'Perhaps it was incomplete? Did you mean: "'+i.indexMatch+`"?

`:s.distance<=o&&i.distance>s.distance?l=" in "+Tt.printLocation(i.path,e,"")+"Perhaps it was misplaced? Matching option found at: "+Tt.printLocation(s.path,s.closestMatch,""):i.distance<=a?l='. Did you mean "'+i.closestMatch+'"?'+Tt.printLocation(i.path,e):l=". Did you mean one of these: "+Tt.print(Rt(r))+Tt.printLocation(n,e),console.error('%cUnknown option detected: "'+e+'"'+l,qO),Nc=!0}static findInOptions(e,r,n){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1,s=1e9,a="",o=[];const l=e.toLowerCase();let c;for(const h in r){let f;if(r[h].__type__!==void 0&&i===!0){const p=Tt.findInOptions(e,r[h],Tp(n,h));s>p.distance&&(a=p.closestMatch,o=p.path,s=p.distance,c=p.indexMatch)}else{var d;Je(d=h.toLowerCase()).call(d,l)!==-1&&(c=h),f=Tt.levenshteinDistance(e,h),s>f&&(a=h,o=Dve(n),s=f)}}return{closestMatch:a,path:o,distance:s,indexMatch:c}}static printLocation(e,r){let i=`

`+(arguments.length>2&&arguments[2]!==void 0?arguments[2]:`Problem value found at: 
`)+`options = {
`;for(let s=0;s<e.length;s++){for(let a=0;a<s+1;a++)i+="  ";i+=e[s]+`: {
`}for(let s=0;s<e.length+1;s++)i+="  ";i+=r+`
`;for(let s=0;s<e.length+1;s++){for(let a=0;a<e.length-s;a++)i+="  ";i+=`}
`}return i+`

`}static print(e){return Eh(e).replace(/(")|(\[)|(\])|(,"__type__")/g,"").replace(/(,)/g,", ")}static levenshteinDistance(e,r){if(e.length===0)return r.length;if(r.length===0)return e.length;const n=[];let i;for(i=0;i<=r.length;i++)n[i]=[i];let s;for(s=0;s<=e.length;s++)n[0][s]=s;for(i=1;i<=r.length;i++)for(s=1;s<=e.length;s++)r.charAt(i-1)==e.charAt(s-1)?n[i][s]=n[i-1][s-1]:n[i][s]=Math.min(n[i-1][s-1]+1,Math.min(n[i][s-1]+1,n[i-1][s]+1));return n[r.length][e.length]}};const Vve=ji,Kve=Uve,Al=rT,Gve=Wve,nQ=qO,Yve=Hve;function Qve(t){return Xs=t,ege()}var iQ={fontsize:"font.size",fontcolor:"font.color",labelfontcolor:"font.color",fontname:"font.face",color:["color.border","color.background"],fillcolor:"color.background",tooltip:"title",labeltooltip:"title"},iT=po(iQ);iT.color="color.color";iT.style="dashes";var qr={NULL:0,DELIMITER:1,IDENTIFIER:2,UNKNOWN:3},bz={"{":!0,"}":!0,"[":!0,"]":!0,";":!0,"=":!0,",":!0,"->":!0,"--":!0},Xs="",Su=0,ke="",Ne="",Xr=qr.NULL;function Xve(){Su=0,ke=Xs.charAt(0)}function ir(){Su++,ke=Xs.charAt(Su)}function ul(){return Xs.charAt(Su+1)}function xz(t){var e=t.charCodeAt(0);return e<47?e===35||e===46:e<59?e>47:e<91?e>64:e<96?e===95:e<123?e>96:!1}function ya(t,e){if(t||(t={}),e)for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);return t}function Jve(t,e,r){for(var n=e.split("."),i=t;n.length;){var s=n.shift();n.length?(i[s]||(i[s]={}),i=i[s]):i[s]=r}}function sQ(t,e){for(var r,n,i=null,s=[t],a=t;a.parent;)s.push(a.parent),a=a.parent;if(a.nodes){for(r=0,n=a.nodes.length;r<n;r++)if(e.id===a.nodes[r].id){i=a.nodes[r];break}}for(i||(i={id:e.id},t.node&&(i.attr=ya(i.attr,t.node))),r=s.length-1;r>=0;r--){var o,l=s[r];l.nodes||(l.nodes=[]),Je(o=l.nodes).call(o,i)===-1&&l.nodes.push(i)}e.attr&&(i.attr=ya(i.attr,e.attr))}function Zve(t,e){if(t.edges||(t.edges=[]),t.edges.push(e),t.edge){var r=ya({},t.edge);e.attr=ya(r,e.attr)}}function aQ(t,e,r,n,i){var s={from:e,to:r,type:n};return t.edge&&(s.attr=ya({},t.edge)),s.attr=ya(s.attr||{},i),i!=null&&i.hasOwnProperty("arrows")&&i.arrows!=null&&(s.arrows={to:{enabled:!0,type:i.arrows.type}},i.arrows=null),s}function ht(){for(Xr=qr.NULL,Ne="";ke===" "||ke==="	"||ke===`
`||ke==="\r";)ir();do{var t=!1;if(ke==="#"){for(var e=Su-1;Xs.charAt(e)===" "||Xs.charAt(e)==="	";)e--;if(Xs.charAt(e)===`
`||Xs.charAt(e)===""){for(;ke!=""&&ke!=`
`;)ir();t=!0}}if(ke==="/"&&ul()==="/"){for(;ke!=""&&ke!=`
`;)ir();t=!0}if(ke==="/"&&ul()==="*"){for(;ke!="";)if(ke==="*"&&ul()==="/"){ir(),ir();break}else ir();t=!0}for(;ke===" "||ke==="	"||ke===`
`||ke==="\r";)ir()}while(t);if(ke===""){Xr=qr.DELIMITER;return}var r=ke+ul();if(bz[r]){Xr=qr.DELIMITER,Ne=r,ir(),ir();return}if(bz[ke]){Xr=qr.DELIMITER,Ne=ke,ir();return}if(xz(ke)||ke==="-"){for(Ne+=ke,ir();xz(ke);)Ne+=ke,ir();Ne==="false"?Ne=!1:Ne==="true"?Ne=!0:isNaN(Number(Ne))||(Ne=Number(Ne)),Xr=qr.IDENTIFIER;return}if(ke==='"'){for(ir();ke!=""&&(ke!='"'||ke==='"'&&ul()==='"');)ke==='"'?(Ne+=ke,ir()):ke==="\\"&&ul()==="n"?(Ne+=`
`,ir()):Ne+=ke,ir();if(ke!='"')throw Ar('End of string " expected');ir(),Xr=qr.IDENTIFIER;return}for(Xr=qr.UNKNOWN;ke!="";)Ne+=ke,ir();throw new SyntaxError('Syntax error in part "'+cQ(Ne,30)+'"')}function ege(){var t={};if(Xve(),ht(),Ne==="strict"&&(t.strict=!0,ht()),(Ne==="graph"||Ne==="digraph")&&(t.type=Ne,ht()),Xr===qr.IDENTIFIER&&(t.id=Ne,ht()),Ne!="{")throw Ar("Angle bracket { expected");if(ht(),oQ(t),Ne!="}")throw Ar("Angle bracket } expected");if(ht(),Ne!=="")throw Ar("End of file expected");return ht(),delete t.node,delete t.edge,delete t.graph,t}function oQ(t){for(;Ne!==""&&Ne!="}";)tge(t),Ne===";"&&ht()}function tge(t){var e=lQ(t);if(e){uQ(t,e);return}var r=rge(t);if(!r){if(Xr!=qr.IDENTIFIER)throw Ar("Identifier expected");var n=Ne;if(ht(),Ne==="="){if(ht(),Xr!=qr.IDENTIFIER)throw Ar("Identifier expected");t[n]=Ne,ht()}else nge(t,n)}}function lQ(t){var e=null;if(Ne==="subgraph"&&(e={},e.type="subgraph",ht(),Xr===qr.IDENTIFIER&&(e.id=Ne,ht())),Ne==="{"){if(ht(),e||(e={}),e.parent=t,e.node=t.node,e.edge=t.edge,e.graph=t.graph,oQ(e),Ne!="}")throw Ar("Angle bracket } expected");ht(),delete e.node,delete e.edge,delete e.graph,delete e.parent,t.subgraphs||(t.subgraphs=[]),t.subgraphs.push(e)}return e}function rge(t){return Ne==="node"?(ht(),t.node=Qc(),"node"):Ne==="edge"?(ht(),t.edge=Qc(),"edge"):Ne==="graph"?(ht(),t.graph=Qc(),"graph"):null}function nge(t,e){var r={id:e},n=Qc();n&&(r.attr=n),sQ(t,r),uQ(t,e)}function uQ(t,e){for(;Ne==="->"||Ne==="--";){var r,n=Ne;ht();var i=lQ(t);if(i)r=i;else{if(Xr!=qr.IDENTIFIER)throw Ar("Identifier or subgraph expected");r=Ne,sQ(t,{id:r}),ht()}var s=Qc(),a=aQ(t,e,r,n,s);Zve(t,a),e=r}}function Qc(){for(var t,e=null,r={dashed:!0,solid:!1,dotted:[1,5]},n={dot:"circle",box:"box",crow:"crow",curve:"curve",icurve:"inv_curve",normal:"triangle",inv:"inv_triangle",diamond:"diamond",tee:"bar",vee:"vee"},i=new Array,s=new Array;Ne==="[";){for(ht(),e={};Ne!==""&&Ne!="]";){if(Xr!=qr.IDENTIFIER)throw Ar("Attribute name expected");var a=Ne;if(ht(),Ne!="=")throw Ar("Equal sign = expected");if(ht(),Xr!=qr.IDENTIFIER)throw Ar("Attribute value expected");var o=Ne;a==="style"&&(o=r[o]);var l;a==="arrowhead"&&(l=n[o],a="arrows",o={to:{enabled:!0,type:l}}),a==="arrowtail"&&(l=n[o],a="arrows",o={from:{enabled:!0,type:l}}),i.push({attr:e,name:a,value:o}),s.push(a),ht(),Ne==","&&ht()}if(Ne!="]")throw Ar("Bracket ] expected");ht()}if(ca(s).call(s,"dir")){var c={};for(c.arrows={},t=0;t<i.length;t++)if(i[t].name==="arrows")if(i[t].value.to!=null)c.arrows.to=t;else if(i[t].value.from!=null)c.arrows.from=t;else throw Ar("Invalid value of arrows");else i[t].name==="dir"&&(c.dir=t);var d=i[c.dir].value;if(!ca(s).call(s,"arrows"))if(d==="both")i.push({attr:i[c.dir].attr,name:"arrows",value:{to:{enabled:!0}}}),c.arrows.to=i.length-1,i.push({attr:i[c.dir].attr,name:"arrows",value:{from:{enabled:!0}}}),c.arrows.from=i.length-1;else if(d==="forward")i.push({attr:i[c.dir].attr,name:"arrows",value:{to:{enabled:!0}}}),c.arrows.to=i.length-1;else if(d==="back")i.push({attr:i[c.dir].attr,name:"arrows",value:{from:{enabled:!0}}}),c.arrows.from=i.length-1;else if(d==="none")i.push({attr:i[c.dir].attr,name:"arrows",value:""}),c.arrows.to=i.length-1;else throw Ar('Invalid dir type "'+d+'"');var h,f;if(d==="both")c.arrows.to&&c.arrows.from?(f=i[c.arrows.to].value.to.type,h=i[c.arrows.from].value.from.type,i[c.arrows.to]={attr:i[c.arrows.to].attr,name:i[c.arrows.to].name,value:{to:{enabled:!0,type:f},from:{enabled:!0,type:h}}},ss(i).call(i,c.arrows.from,1)):c.arrows.to?(f=i[c.arrows.to].value.to.type,h="arrow",i[c.arrows.to]={attr:i[c.arrows.to].attr,name:i[c.arrows.to].name,value:{to:{enabled:!0,type:f},from:{enabled:!0,type:h}}}):c.arrows.from&&(f="arrow",h=i[c.arrows.from].value.from.type,i[c.arrows.from]={attr:i[c.arrows.from].attr,name:i[c.arrows.from].name,value:{to:{enabled:!0,type:f},from:{enabled:!0,type:h}}});else if(d==="back")c.arrows.to&&c.arrows.from?(f="",h=i[c.arrows.from].value.from.type,i[c.arrows.from]={attr:i[c.arrows.from].attr,name:i[c.arrows.from].name,value:{to:{enabled:!0,type:f},from:{enabled:!0,type:h}}}):c.arrows.to?(f="",h="arrow",c.arrows.from=c.arrows.to,i[c.arrows.from]={attr:i[c.arrows.from].attr,name:i[c.arrows.from].name,value:{to:{enabled:!0,type:f},from:{enabled:!0,type:h}}}):c.arrows.from&&(f="",h=i[c.arrows.from].value.from.type,i[c.arrows.to]={attr:i[c.arrows.from].attr,name:i[c.arrows.from].name,value:{to:{enabled:!0,type:f},from:{enabled:!0,type:h}}}),i[c.arrows.from]={attr:i[c.arrows.from].attr,name:i[c.arrows.from].name,value:{from:{enabled:!0,type:i[c.arrows.from].value.from.type}}};else if(d==="none"){var p;c.arrows.to?p=c.arrows.to:p=c.arrows.from,i[p]={attr:i[p].attr,name:i[p].name,value:""}}else if(d==="forward")c.arrows.to&&c.arrows.from?(f=i[c.arrows.to].value.to.type,h="",i[c.arrows.to]={attr:i[c.arrows.to].attr,name:i[c.arrows.to].name,value:{to:{enabled:!0,type:f},from:{enabled:!0,type:h}}}):c.arrows.to?(f=i[c.arrows.to].value.to.type,h="",i[c.arrows.to]={attr:i[c.arrows.to].attr,name:i[c.arrows.to].name,value:{to:{enabled:!0,type:f},from:{enabled:!0,type:h}}}):c.arrows.from&&(f="arrow",h="",c.arrows.to=c.arrows.from,i[c.arrows.to]={attr:i[c.arrows.to].attr,name:i[c.arrows.to].name,value:{to:{enabled:!0,type:f},from:{enabled:!0,type:h}}}),i[c.arrows.to]={attr:i[c.arrows.to].attr,name:i[c.arrows.to].name,value:{to:{enabled:!0,type:i[c.arrows.to].value.to.type}}};else throw Ar('Invalid dir type "'+d+'"');ss(i).call(i,c.dir,1)}var m;if(ca(s).call(s,"penwidth")){var y=[];for(m=i.length,t=0;t<m;t++)i[t].name!=="width"&&(i[t].name==="penwidth"&&(i[t].name="width"),y.push(i[t]));i=y}for(m=i.length,t=0;t<m;t++)Jve(i[t].attr,i[t].name,i[t].value);return e}function Ar(t){return new SyntaxError(t+', got "'+cQ(Ne,30)+'" (char '+Su+")")}function cQ(t,e){return t.length<=e?t:t.substr(0,27)+"..."}function ige(t,e,r){Dt(t)?at(t).call(t,function(n){Dt(e)?at(e).call(e,function(i){r(n,i)}):r(n,e)}):Dt(e)?at(e).call(e,function(n){r(t,n)}):r(t,e)}function TS(t,e,r){for(var n=e.split("."),i=n.pop(),s=t,a=0;a<n.length;a++){var o=n[a];o in s||(s[o]={}),s=s[o]}return s[i]=r,t}function wz(t,e){var r={};for(var n in t)if(t.hasOwnProperty(n)){var i=e[n];Dt(i)?at(i).call(i,function(s){TS(r,s,t[n])}):typeof i=="string"?TS(r,i,t[n]):TS(r,n,t[n])}return r}function sge(t){var e=Qve(t),r={nodes:[],edges:[],options:{}};if(e.nodes){var n;at(n=e.nodes).call(n,function(a){var o={id:a.id,label:String(a.label||a.id)};ya(o,wz(a.attr,iQ)),o.image&&(o.shape="image"),r.nodes.push(o)})}if(e.edges){var i,s=function(a){var o={from:a.from,to:a.to};return ya(o,wz(a.attr,iT)),o.arrows==null&&a.type==="->"&&(o.arrows="to"),o};at(i=e.edges).call(i,function(a){var o,l;if(a.from instanceof Object?o=a.from.nodes:o={id:a.from},a.to instanceof Object?l=a.to.nodes:l={id:a.to},a.from instanceof Object&&a.from.edges){var c;at(c=a.from.edges).call(c,function(h){var f=s(h);r.edges.push(f)})}if(ige(o,l,function(h,f){var p=aQ(r,h.id,f.id,a.type,a.attr),m=s(p);r.edges.push(m)}),a.to instanceof Object&&a.to.edges){var d;at(d=a.to.edges).call(d,function(h){var f=s(h);r.edges.push(f)})}})}return e.attr&&(r.options=e.attr),r}function age(t,e){var r;const n={edges:{inheritColor:!1},nodes:{fixed:!1,parseColor:!1}};e!=null&&(e.fixed!=null&&(n.nodes.fixed=e.fixed),e.parseColor!=null&&(n.nodes.parseColor=e.parseColor),e.inheritColor!=null&&(n.edges.inheritColor=e.inheritColor));const i=t.edges,s=bu(i).call(i,o=>{const l={from:o.source,id:o.id,to:o.target};return o.attributes!=null&&(l.attributes=o.attributes),o.label!=null&&(l.label=o.label),o.attributes!=null&&o.attributes.title!=null&&(l.title=o.attributes.title),o.type==="Directed"&&(l.arrows="to"),o.color&&n.edges.inheritColor===!1&&(l.color=o.color),l});return{nodes:bu(r=t.nodes).call(r,o=>{const l={id:o.id,fixed:n.nodes.fixed&&o.x!=null&&o.y!=null};return o.attributes!=null&&(l.attributes=o.attributes),o.label!=null&&(l.label=o.label),o.size!=null&&(l.size=o.size),o.attributes!=null&&o.attributes.title!=null&&(l.title=o.attributes.title),o.title!=null&&(l.title=o.title),o.x!=null&&(l.x=o.x),o.y!=null&&(l.y=o.y),o.color!=null&&(n.nodes.parseColor===!0?l.color=o.color:l.color={background:o.color,border:o.color,highlight:{background:o.color,border:o.color},hover:{background:o.color,border:o.color}}),l}),edges:s}}const oge={addDescription:"Click in an empty space to place a new node.",addEdge:"Add Edge",addNode:"Add Node",back:"Back",close:"Close",createEdgeError:"Cannot link edges to a cluster.",del:"Delete selected",deleteClusterError:"Clusters cannot be deleted.",edgeDescription:"Click on a node and drag the edge to another node to connect them.",edit:"Edit",editClusterError:"Clusters cannot be edited.",editEdge:"Edit Edge",editEdgeDescription:"Click on the control points and drag them to a node to connect to it.",editNode:"Edit Node"},lge={addDescription:"Klicke auf eine freie Stelle, um einen neuen Knoten zu plazieren.",addEdge:"Kante hinzufgen",addNode:"Knoten hinzufgen",back:"Zurck",close:"Schlieen",createEdgeError:"Es ist nicht mglich, Kanten mit Clustern zu verbinden.",del:"Lsche Auswahl",deleteClusterError:"Cluster knnen nicht gelscht werden.",edgeDescription:"Klicke auf einen Knoten und ziehe die Kante zu einem anderen Knoten, um diese zu verbinden.",edit:"Editieren",editClusterError:"Cluster knnen nicht editiert werden.",editEdge:"Kante editieren",editEdgeDescription:"Klicke auf die Verbindungspunkte und ziehe diese auf einen Knoten, um sie zu verbinden.",editNode:"Knoten editieren"},uge={addDescription:"Haga clic en un lugar vaco para colocar un nuevo nodo.",addEdge:"Aadir arista",addNode:"Aadir nodo",back:"Atrs",close:"Cerrar",createEdgeError:"No se puede conectar una arista a un grupo.",del:"Eliminar seleccin",deleteClusterError:"No es posible eliminar grupos.",edgeDescription:"Haga clic en un nodo y arrastre la arista hacia otro nodo para conectarlos.",edit:"Editar",editClusterError:"No es posible editar grupos.",editEdge:"Editar arista",editEdgeDescription:"Haga clic en un punto de control y arrastrelo a un nodo para conectarlo.",editNode:"Editar nodo"},cge={addDescription:"Clicca per aggiungere un nuovo nodo",addEdge:"Aggiungi un vertice",addNode:"Aggiungi un nodo",back:"Indietro",close:"Chiudere",createEdgeError:"Non si possono collegare vertici ad un cluster",del:"Cancella la selezione",deleteClusterError:"I cluster non possono essere cancellati",edgeDescription:"Clicca su un nodo e trascinalo ad un altro nodo per connetterli.",edit:"Modifica",editClusterError:"I clusters non possono essere modificati.",editEdge:"Modifica il vertice",editEdgeDescription:"Clicca sui Punti di controllo e trascinali ad un nodo per connetterli.",editNode:"Modifica il nodo"},dge={addDescription:"Klik op een leeg gebied om een nieuwe node te maken.",addEdge:"Link toevoegen",addNode:"Node toevoegen",back:"Terug",close:"Sluiten",createEdgeError:"Kan geen link maken naar een cluster.",del:"Selectie verwijderen",deleteClusterError:"Clusters kunnen niet worden verwijderd.",edgeDescription:"Klik op een node en sleep de link naar een andere node om ze te verbinden.",edit:"Wijzigen",editClusterError:"Clusters kunnen niet worden aangepast.",editEdge:"Link wijzigen",editEdgeDescription:"Klik op de verbindingspunten en sleep ze naar een node om daarmee te verbinden.",editNode:"Node wijzigen"},hge={addDescription:"Clique em um espao em branco para adicionar um novo n",addEdge:"Adicionar aresta",addNode:"Adicionar n",back:"Voltar",close:"Fechar",createEdgeError:"No foi possvel linkar arestas a um cluster.",del:"Remover selecionado",deleteClusterError:"Clusters no puderam ser removidos.",edgeDescription:"Clique em um n e arraste a aresta at outro n para conect-los",edit:"Editar",editClusterError:"Clusters no puderam ser editados.",editEdge:"Editar aresta",editEdgeDescription:"Clique nos pontos de controle e os arraste para um n para conect-los",editNode:"Editar n"},fge={addDescription:"   ,    .",addEdge:" ",addNode:" ",back:"",close:"",createEdgeError:"    .",del:" ",deleteClusterError:"    ",edgeDescription:"        ,   .",edit:"",editClusterError:"   .",editEdge:" ",editEdgeDescription:"        ,    .",editNode:" "},pge={addDescription:"",addEdge:"",addNode:"",back:"",close:"",createEdgeError:"",del:"",deleteClusterError:"",edgeDescription:"",edit:"",editClusterError:"",editEdge:"",editEdgeDescription:"",editNode:""},mge={addDescription:"K   ,    .",addEdge:" ",addNode:" ",back:"",close:"",createEdgeError:"  '   .",del:" ",deleteClusterError:"    .",edgeDescription:"        ,   '.",edit:"",editClusterError:"   .",editEdge:" ",editEdgeDescription:"        ,    .",editNode:" "},vge={addDescription:"Cliquez dans un endroit vide pour placer un nud.",addEdge:"Ajouter un lien",addNode:"Ajouter un nud",back:"Retour",close:"Fermer",createEdgeError:"Impossible de crer un lien vers un cluster.",del:"Effacer la slection",deleteClusterError:"Les clusters ne peuvent pas tre effacs.",edgeDescription:"Cliquez sur un nud et glissez le lien vers un autre nud pour les connecter.",edit:"diter",editClusterError:"Les clusters ne peuvent pas tre dits.",editEdge:"diter le lien",editEdgeDescription:"Cliquez sur les points de contrle et glissez-les pour connecter un nud.",editNode:"diter le nud"},gge={addDescription:"Kluknutm do przdnho prostoru mete pidat nov vrchol.",addEdge:"Pidat hranu",addNode:"Pidat vrchol",back:"Zpt",close:"Zavt",createEdgeError:"Nelze pipojit hranu ke shluku.",del:"Smazat vbr",deleteClusterError:"Nelze mazat shluky.",edgeDescription:"Petaenm z jednoho vrcholu do druhho mete spojit tyto vrcholy novou hranou.",edit:"Upravit",editClusterError:"Nelze upravovat shluky.",editEdge:"Upravit hranu",editEdgeDescription:"Petaenm kontrolnho vrcholu hrany ji mete pipojit k jinmu vrcholu.",editNode:"Upravit vrchol"};var yge=Object.freeze({__proto__:null,cn:pge,cs:gge,de:lge,en:oge,es:uge,fr:vge,it:cge,nl:dge,pt:hge,ru:fge,uk:mge});function bge(t,e){try{const[n,i]=e.split(/[-_ /]/,2),s=n!=null?n.toLowerCase():null,a=i!=null?i.toUpperCase():null;if(s&&a){const o=s+"-"+a;if(Object.prototype.hasOwnProperty.call(t,o))return o;var r;console.warn(Upe(r="Unknown variant ".concat(a," of language ")).call(r,s,"."))}if(s){const o=s;if(Object.prototype.hasOwnProperty.call(t,o))return o;console.warn("Unknown language ".concat(s))}return console.warn("Unknown locale ".concat(e,", falling back to English.")),"en"}catch(n){return console.error(n),console.warn("Unexpected error while normalizing locale ".concat(e,", falling back to English.")),"en"}}class xge{constructor(){this.NUM_ITERATIONS=4,this.image=new Image,this.canvas=document.createElement("canvas")}init(){if(this.initialized())return;this.src=this.image.src;const e=this.image.width,r=this.image.height;this.width=e,this.height=r;const n=Math.floor(r/2),i=Math.floor(r/4),s=Math.floor(r/8),a=Math.floor(r/16),o=Math.floor(e/2),l=Math.floor(e/4),c=Math.floor(e/8),d=Math.floor(e/16);this.canvas.width=3*l,this.canvas.height=n,this.coordinates=[[0,0,o,n],[o,0,l,i],[o,i,c,s],[5*c,i,d,a]],this._fillMipMap()}initialized(){return this.coordinates!==void 0}_fillMipMap(){const e=this.canvas.getContext("2d"),r=this.coordinates[0];e.drawImage(this.image,r[0],r[1],r[2],r[3]);for(let n=1;n<this.NUM_ITERATIONS;n++){const i=this.coordinates[n-1],s=this.coordinates[n];e.drawImage(this.canvas,i[0],i[1],i[2],i[3],s[0],s[1],s[2],s[3])}}drawImageAtPosition(e,r,n,i,s,a){if(this.initialized())if(r>2){r*=.5;let o=0;for(;r>2&&o<this.NUM_ITERATIONS;)r*=.5,o+=1;o>=this.NUM_ITERATIONS&&(o=this.NUM_ITERATIONS-1);const l=this.coordinates[o];e.drawImage(this.canvas,l[0],l[1],l[2],l[3],n,i,s,a)}else e.drawImage(this.image,n,i,s,a)}}class wge{constructor(e){this.images={},this.imageBroken={},this.callback=e}_tryloadBrokenUrl(e,r,n){if(!(e===void 0||n===void 0)){if(r===void 0){console.warn("No broken url image defined");return}n.image.onerror=()=>{console.error("Could not load brokenImage:",r)},n.image.src=r}}_redrawWithImage(e){this.callback&&this.callback(e)}load(e,r){const n=this.images[e];if(n)return n;const i=new xge;return this.images[e]=i,i.image.onload=()=>{this._fixImageCoordinates(i.image),i.init(),this._redrawWithImage(i)},i.image.onerror=()=>{console.error("Could not load image:",e),this._tryloadBrokenUrl(e,r,i)},i.image.src=e,i}_fixImageCoordinates(e){e.width===0&&(document.body.appendChild(e),e.width=e.offsetWidth,e.height=e.offsetHeight,document.body.removeChild(e))}}var _z={},Sz={},jS={exports:{}},IS,Ez;function _ge(){if(Ez)return IS;Ez=1;var t=Be();return IS=t(function(){if(typeof ArrayBuffer=="function"){var e=new ArrayBuffer(8);Object.isExtensible(e)&&Object.defineProperty(e,"a",{value:8})}}),IS}var RS,Nz;function Sge(){if(Nz)return RS;Nz=1;var t=Be(),e=fr(),r=qi(),n=_ge(),i=Object.isExtensible,s=t(function(){});return RS=s||n?function(o){return!e(o)||n&&r(o)==="ArrayBuffer"?!1:i?i(o):!0}:i,RS}var $S,Oz;function dQ(){if(Oz)return $S;Oz=1;var t=Be();return $S=!t(function(){return Object.isExtensible(Object.preventExtensions({}))}),$S}var Cz;function Mm(){if(Cz)return jS.exports;Cz=1;var t=Se(),e=We(),r=bh(),n=fr(),i=wr(),s=Vn().f,a=jm(),o=UP(),l=Sge(),c=Sm(),d=dQ(),h=!1,f=c("meta"),p=0,m=function(b){s(b,f,{value:{objectID:"O"+p++,weakData:{}}})},y=function(b,_){if(!n(b))return typeof b=="symbol"?b:(typeof b=="string"?"S":"P")+b;if(!i(b,f)){if(!l(b))return"F";if(!_)return"E";m(b)}return b[f].objectID},x=function(b,_){if(!i(b,f)){if(!l(b))return!0;if(!_)return!1;m(b)}return b[f].weakData},g=function(b){return d&&h&&l(b)&&!i(b,f)&&m(b),b},v=function(){w.enable=function(){},h=!0;var b=a.f,_=e([].splice),E={};E[f]=1,b(E).length&&(a.f=function(N){for(var S=b(N),O=0,C=S.length;O<C;O++)if(S[O]===f){_(S,O,1);break}return S},t({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:o.f}))},w=jS.exports={enable:v,fastKey:y,getWeakData:x,onFreeze:g};return r[f]=!0,jS.exports}var kS,Pz;function Ege(){if(Pz)return kS;Pz=1;var t=Qt(),e=tc(),r=t("iterator"),n=Array.prototype;return kS=function(i){return i!==void 0&&(e.Array===i||n[r]===i)},kS}var DS,Tz;function hQ(){if(Tz)return DS;Tz=1;var t=ec(),e=kP(),r=Hu(),n=tc(),i=Qt(),s=i("iterator");return DS=function(a){if(!r(a))return e(a,s)||e(a,"@@iterator")||n[t(a)]},DS}var MS,jz;function Nge(){if(jz)return MS;jz=1;var t=hn(),e=Os(),r=Ai(),n=Gu(),i=hQ(),s=TypeError;return MS=function(a,o){var l=arguments.length<2?i(a):o;if(e(l))return r(t(l,a));throw new s(n(a)+" is not iterable")},MS}var qS,Iz;function sT(){if(Iz)return qS;Iz=1;var t=hn(),e=Ai(),r=kP();return qS=function(n,i,s){var a,o;e(n);try{if(a=r(n,"return"),!a){if(i==="throw")throw s;return s}a=t(a,n)}catch(l){o=!0,a=l}if(i==="throw")throw s;if(o)throw a;return e(a),s},qS}var AS,Rz;function qm(){if(Rz)return AS;Rz=1;var t=Nm(),e=hn(),r=Ai(),n=Gu(),i=Ege(),s=Cs(),a=Yt(),o=Nge(),l=hQ(),c=sT(),d=TypeError,h=function(p,m){this.stopped=p,this.result=m},f=h.prototype;return AS=function(p,m,y){var x=y&&y.that,g=!!(y&&y.AS_ENTRIES),v=!!(y&&y.IS_RECORD),w=!!(y&&y.IS_ITERATOR),b=!!(y&&y.INTERRUPTED),_=t(m,x),E,N,S,O,C,T,P,j=function(L){return E&&c(E,"normal"),new h(!0,L)},D=function(L){return g?(r(L),b?_(L[0],L[1],j):_(L[0],L[1])):b?_(L,j):_(L)};if(v)E=p.iterator;else if(w)E=p;else{if(N=l(p),!N)throw new d(n(p)+" is not iterable");if(i(N)){for(S=0,O=s(p);O>S;S++)if(C=D(p[S]),C&&a(f,C))return C;return new h(!1)}E=o(p,N)}for(T=v?p.next:E.next;!(P=e(T,E)).done;){try{C=D(P.value)}catch(L){c(E,"throw",L)}if(typeof C=="object"&&C&&a(f,C))return C}return new h(!1)},AS}var FS,$z;function aT(){if($z)return FS;$z=1;var t=Yt(),e=TypeError;return FS=function(r,n){if(t(n,r))return r;throw new e("Incorrect invocation")},FS}var LS,kz;function oT(){if(kz)return LS;kz=1;var t=Se(),e=_t(),r=Mm(),n=Be(),i=Xu(),s=qm(),a=aT(),o=hr(),l=fr(),c=Hu(),d=Go(),h=Vn().f,f=Ta().forEach,p=Ft(),m=Yo(),y=m.set,x=m.getterFor;return LS=function(g,v,w){var b=g.indexOf("Map")!==-1,_=g.indexOf("Weak")!==-1,E=b?"set":"add",N=e[g],S=N&&N.prototype,O={},C;if(!p||!o(N)||!(_||S.forEach&&!n(function(){new N().entries().next()})))C=w.getConstructor(v,g,b,E),r.enable();else{C=v(function(j,D){y(a(j,T),{type:g,collection:new N}),c(D)||s(D,j[E],{that:j,AS_ENTRIES:b})});var T=C.prototype,P=x(g);f(["add","clear","delete","forEach","get","has","set","keys","values","entries"],function(j){var D=j==="add"||j==="set";j in S&&!(_&&j==="clear")&&i(T,j,function(L,G){var H=P(this).collection;if(!D&&_&&!l(L))return j==="get"?void 0:!1;var F=H[j](L===0?0:L,G);return D?this:F})}),_||h(T,"size",{configurable:!0,get:function(){return P(this).collection.size}})}return d(C,g,!1,!0),O[g]=C,t({global:!0,forced:!0},O),_||w.setStrong(C,g,b),C},LS}var BS,Dz;function lT(){if(Dz)return BS;Dz=1;var t=Sh();return BS=function(e,r,n){for(var i in r)n&&n.unsafe&&e[i]?e[i]=r[i]:t(e,i,r[i],n);return e},BS}var zS,Mz;function Oge(){if(Mz)return zS;Mz=1;var t=Nn(),e=WP(),r=Qt(),n=Ft(),i=r("species");return zS=function(s){var a=t(s);n&&a&&!a[i]&&e(a,i,{configurable:!0,get:function(){return this}})},zS}var US,qz;function fQ(){if(qz)return US;qz=1;var t=_h(),e=WP(),r=lT(),n=Nm(),i=aT(),s=Hu(),a=qm(),o=VP(),l=KP(),c=Oge(),d=Ft(),h=Mm().fastKey,f=Yo(),p=f.set,m=f.getterFor;return US={getConstructor:function(y,x,g,v){var w=y(function(S,O){i(S,b),p(S,{type:x,index:t(null),first:null,last:null,size:0}),d||(S.size=0),s(O)||a(O,S[v],{that:S,AS_ENTRIES:g})}),b=w.prototype,_=m(x),E=function(S,O,C){var T=_(S),P=N(S,O),j,D;return P?P.value=C:(T.last=P={index:D=h(O,!0),key:O,value:C,previous:j=T.last,next:null,removed:!1},T.first||(T.first=P),j&&(j.next=P),d?T.size++:S.size++,D!=="F"&&(T.index[D]=P)),S},N=function(S,O){var C=_(S),T=h(O),P;if(T!=="F")return C.index[T];for(P=C.first;P;P=P.next)if(P.key===O)return P};return r(b,{clear:function(){for(var O=this,C=_(O),T=C.first;T;)T.removed=!0,T.previous&&(T.previous=T.previous.next=null),T=T.next;C.first=C.last=null,C.index=t(null),d?C.size=0:O.size=0},delete:function(S){var O=this,C=_(O),T=N(O,S);if(T){var P=T.next,j=T.previous;delete C.index[T.index],T.removed=!0,j&&(j.next=P),P&&(P.previous=j),C.first===T&&(C.first=P),C.last===T&&(C.last=j),d?C.size--:O.size--}return!!T},forEach:function(O){for(var C=_(this),T=n(O,arguments.length>1?arguments[1]:void 0),P;P=P?P.next:C.first;)for(T(P.value,P.key,this);P&&P.removed;)P=P.previous},has:function(O){return!!N(this,O)}}),r(b,g?{get:function(O){var C=N(this,O);return C&&C.value},set:function(O,C){return E(this,O===0?0:O,C)}}:{add:function(O){return E(this,O=O===0?0:O,O)}}),d&&e(b,"size",{configurable:!0,get:function(){return _(this).size}}),w},setStrong:function(y,x,g){var v=x+" Iterator",w=m(x),b=m(v);o(y,x,function(_,E){p(this,{type:v,target:_,state:w(_),kind:E,last:null})},function(){for(var _=b(this),E=_.kind,N=_.last;N&&N.removed;)N=N.previous;return!_.target||!(_.last=N=N?N.next:_.state.first)?(_.target=null,l(void 0,!0)):l(E==="keys"?N.key:E==="values"?N.value:[N.key,N.value],!1)},g?"entries":"values",!g,!0),c(x)}},US}var Az;function Cge(){if(Az)return Sz;Az=1;var t=oT(),e=fQ();return t("Map",function(r){return function(){return r(this,arguments.length?arguments[0]:void 0)}},e),Sz}var Fz;function Pge(){return Fz||(Fz=1,Cge()),_z}var Lz={},WS,Bz;function pQ(){return Bz||(Bz=1,WS=function(t,e){return e===1?function(r,n){return r[t](n)}:function(r,n,i){return r[t](n,i)}}),WS}var HS,zz;function Tge(){if(zz)return HS;zz=1;var t=Nn(),e=pQ(),r=t("Map");return HS={Map:r,set:e("set",2),get:e("get",1),has:e("has",1),remove:e("delete",1),proto:r.prototype},HS}var Uz;function jge(){if(Uz)return Lz;Uz=1;var t=Se(),e=We(),r=Os(),n=Ns(),i=qm(),s=Tge(),a=Yu(),o=Be(),l=s.Map,c=s.has,d=s.get,h=s.set,f=e([].push),p=a||o(function(){return l.groupBy("ab",function(m){return m}).get("a").length!==1});return t({target:"Map",stat:!0,forced:a||p},{groupBy:function(y,x){n(y),r(x);var g=new l,v=0;return i(y,function(w){var b=x(w,v++);c(g,b)?f(d(g,b),w):h(g,b,[w])}),g}}),Lz}var Wz={},VS,Hz;function Ige(){if(Hz)return VS;Hz=1;var t=We(),e=Ju(),r=Kn(),n=Ns(),i=t("".charAt),s=t("".charCodeAt),a=t("".slice),o=function(l){return function(c,d){var h=r(n(c)),f=e(d),p=h.length,m,y;return f<0||f>=p?l?"":void 0:(m=s(h,f),m<55296||m>56319||f+1===p||(y=s(h,f+1))<56320||y>57343?l?i(h,f):m:l?a(h,f,f+2):(m-55296<<10)+(y-56320)+65536)}};return VS={codeAt:o(!1),charAt:o(!0)},VS}var Vz;function uT(){if(Vz)return Wz;Vz=1;var t=Ige().charAt,e=Kn(),r=Yo(),n=VP(),i=KP(),s="String Iterator",a=r.set,o=r.getterFor(s);return n(String,"String",function(l){a(this,{type:s,string:e(l),index:0})},function(){var c=o(this),d=c.string,h=c.index,f;return h>=d.length?i(void 0,!0):(f=t(d,h),c.index+=f.length,i(f,!1))}),Wz}var KS,Kz;function Rge(){if(Kz)return KS;Kz=1,rc(),Pge(),jge(),uT();var t=tt();return KS=t.Map,KS}var GS,Gz;function $ge(){if(Gz)return GS;Gz=1;var t=Rge();return nc(),GS=t,GS}var YS,Yz;function kge(){return Yz||(Yz=1,YS=$ge()),YS}var Dge=kge(),cT=Pe(Dge);class Mge{constructor(){this.clear(),this._defaultIndex=0,this._groupIndex=0,this._defaultGroups=[{border:"#2B7CE9",background:"#97C2FC",highlight:{border:"#2B7CE9",background:"#D2E5FF"},hover:{border:"#2B7CE9",background:"#D2E5FF"}},{border:"#FFA500",background:"#FFFF00",highlight:{border:"#FFA500",background:"#FFFFA3"},hover:{border:"#FFA500",background:"#FFFFA3"}},{border:"#FA0A10",background:"#FB7E81",highlight:{border:"#FA0A10",background:"#FFAFB1"},hover:{border:"#FA0A10",background:"#FFAFB1"}},{border:"#41A906",background:"#7BE141",highlight:{border:"#41A906",background:"#A1EC76"},hover:{border:"#41A906",background:"#A1EC76"}},{border:"#E129F0",background:"#EB7DF4",highlight:{border:"#E129F0",background:"#F0B3F5"},hover:{border:"#E129F0",background:"#F0B3F5"}},{border:"#7C29F0",background:"#AD85E4",highlight:{border:"#7C29F0",background:"#D3BDF0"},hover:{border:"#7C29F0",background:"#D3BDF0"}},{border:"#C37F00",background:"#FFA807",highlight:{border:"#C37F00",background:"#FFCA66"},hover:{border:"#C37F00",background:"#FFCA66"}},{border:"#4220FB",background:"#6E6EFD",highlight:{border:"#4220FB",background:"#9B9BFD"},hover:{border:"#4220FB",background:"#9B9BFD"}},{border:"#FD5A77",background:"#FFC0CB",highlight:{border:"#FD5A77",background:"#FFD1D9"},hover:{border:"#FD5A77",background:"#FFD1D9"}},{border:"#4AD63A",background:"#C2FABC",highlight:{border:"#4AD63A",background:"#E6FFE3"},hover:{border:"#4AD63A",background:"#E6FFE3"}},{border:"#990000",background:"#EE0000",highlight:{border:"#BB0000",background:"#FF3333"},hover:{border:"#BB0000",background:"#FF3333"}},{border:"#FF6000",background:"#FF6000",highlight:{border:"#FF6000",background:"#FF6000"},hover:{border:"#FF6000",background:"#FF6000"}},{border:"#97C2FC",background:"#2B7CE9",highlight:{border:"#D2E5FF",background:"#2B7CE9"},hover:{border:"#D2E5FF",background:"#2B7CE9"}},{border:"#399605",background:"#255C03",highlight:{border:"#399605",background:"#255C03"},hover:{border:"#399605",background:"#255C03"}},{border:"#B70054",background:"#FF007E",highlight:{border:"#B70054",background:"#FF007E"},hover:{border:"#B70054",background:"#FF007E"}},{border:"#AD85E4",background:"#7C29F0",highlight:{border:"#D3BDF0",background:"#7C29F0"},hover:{border:"#D3BDF0",background:"#7C29F0"}},{border:"#4557FA",background:"#000EA1",highlight:{border:"#6E6EFD",background:"#000EA1"},hover:{border:"#6E6EFD",background:"#000EA1"}},{border:"#FFC0CB",background:"#FD5A77",highlight:{border:"#FFD1D9",background:"#FD5A77"},hover:{border:"#FFD1D9",background:"#FD5A77"}},{border:"#C2FABC",background:"#74D66A",highlight:{border:"#E6FFE3",background:"#74D66A"},hover:{border:"#E6FFE3",background:"#74D66A"}},{border:"#EE0000",background:"#990000",highlight:{border:"#FF3333",background:"#BB0000"},hover:{border:"#FF3333",background:"#BB0000"}}],this.options={},this.defaultOptions={useDefaultGroups:!0},Ht(this.options,this.defaultOptions)}setOptions(e){const r=["useDefaultGroups"];if(e!==void 0){for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&Je(r).call(r,n)===-1){const i=e[n];this.add(n,i)}}}clear(){this._groups=new cT,this._groupNames=[]}get(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,n=this._groups.get(e);if(n===void 0&&r)if(this.options.useDefaultGroups===!1&&this._groupNames.length>0){const i=this._groupIndex%this._groupNames.length;++this._groupIndex,n={},n.color=this._groups.get(this._groupNames[i]),this._groups.set(e,n)}else{const i=this._defaultIndex%this._defaultGroups.length;this._defaultIndex++,n={},n.color=this._defaultGroups[i],this._groups.set(e,n)}return n}add(e,r){return this._groups.has(e)||this._groupNames.push(e),this._groups.set(e,r),r}}var Qz={},Xz;function qge(){if(Xz)return Qz;Xz=1;var t=Se();return t({target:"Number",stat:!0},{isNaN:function(r){return r!==r}}),Qz}var QS,Jz;function Age(){if(Jz)return QS;Jz=1,qge();var t=tt();return QS=t.Number.isNaN,QS}var XS,Zz;function Fge(){if(Zz)return XS;Zz=1;var t=Age();return XS=t,XS}var JS,e8;function Lge(){return e8||(e8=1,JS=Fge()),JS}var Bge=Lge(),AO=Pe(Bge),t8={},ZS,r8;function zge(){if(r8)return ZS;r8=1;var t=_t(),e=t.isFinite;return ZS=Number.isFinite||function(n){return typeof n=="number"&&e(n)},ZS}var n8;function Uge(){if(n8)return t8;n8=1;var t=Se(),e=zge();return t({target:"Number",stat:!0},{isFinite:e}),t8}var eE,i8;function Wge(){if(i8)return eE;i8=1,Uge();var t=tt();return eE=t.Number.isFinite,eE}var tE,s8;function Hge(){if(s8)return tE;s8=1;var t=Wge();return tE=t,tE}var rE,a8;function Vge(){return a8||(a8=1,rE=Hge()),rE}var Kge=Vge(),Ya=Pe(Kge),o8={},l8;function Gge(){if(l8)return o8;l8=1;var t=Se(),e=Ta().some,r=ic(),n=r("some");return t({target:"Array",proto:!0,forced:!n},{some:function(s){return e(this,s,arguments.length>1?arguments[1]:void 0)}}),o8}var nE,u8;function Yge(){if(u8)return nE;u8=1,Gge();var t=_r();return nE=t("Array","some"),nE}var iE,c8;function Qge(){if(c8)return iE;c8=1;var t=Yt(),e=Yge(),r=Array.prototype;return iE=function(n){var i=n.some;return n===r||t(r,n)&&i===r.some?e:i},iE}var sE,d8;function Xge(){if(d8)return sE;d8=1;var t=Qge();return sE=t,sE}var aE,h8;function Jge(){return h8||(h8=1,aE=Xge()),aE}var Zge=Jge(),eye=Pe(Zge),oE={exports:{}},f8={},p8;function tye(){if(p8)return f8;p8=1;var t=Se(),e=Ft(),r=Vn().f;return t({target:"Object",stat:!0,forced:Object.defineProperty!==r,sham:!e},{defineProperty:r}),f8}var m8;function rye(){if(m8)return oE.exports;m8=1,tye();var t=tt(),e=t.Object,r=oE.exports=function(i,s,a){return e.defineProperty(i,s,a)};return e.defineProperty.sham&&(r.sham=!0),oE.exports}var lE,v8;function mQ(){if(v8)return lE;v8=1;var t=rye();return lE=t,lE}var uE,g8;function nye(){if(g8)return uE;g8=1;var t=mQ();return uE=t,uE}var cE,y8;function iye(){if(y8)return cE;y8=1;var t=nye();return cE=t,cE}var dE,b8;function sye(){return b8||(b8=1,dE=iye()),dE}var aye=sye(),oye=Pe(aye),x8={},w8;function lye(){if(w8)return x8;w8=1;var t=Qt(),e=Vn().f,r=t("metadata"),n=Function.prototype;return n[r]===void 0&&e(n,r,{value:null}),x8}var _8={},S8;function uye(){return S8||(S8=1,gY()),_8}var E8={},N8;function cye(){return N8||(N8=1,yY()),E8}var O8={},C8;function dye(){if(C8)return O8;C8=1;var t=Pt();return t("metadata"),O8}var hE,P8;function hye(){if(P8)return hE;P8=1;var t=SY();return lye(),uye(),cye(),dye(),hE=t,hE}var T8={},fE,j8;function vQ(){if(j8)return fE;j8=1;var t=Nn(),e=We(),r=t("Symbol"),n=r.keyFor,i=e(r.prototype.valueOf);return fE=r.isRegisteredSymbol||function(a){try{return n(i(a))!==void 0}catch{return!1}},fE}var I8;function fye(){if(I8)return T8;I8=1;var t=Se(),e=vQ();return t({target:"Symbol",stat:!0},{isRegisteredSymbol:e}),T8}var R8={},pE,$8;function gQ(){if($8)return pE;$8=1;for(var t=Qu(),e=Nn(),r=We(),n=yh(),i=Qt(),s=e("Symbol"),a=s.isWellKnownSymbol,o=e("Object","getOwnPropertyNames"),l=r(s.prototype.valueOf),c=t("wks"),d=0,h=o(s),f=h.length;d<f;d++)try{var p=h[d];n(s[p])&&i(p)}catch{}return pE=function(y){if(a&&a(y))return!0;try{for(var x=l(y),g=0,v=o(c),w=v.length;g<w;g++)if(c[v[g]]==x)return!0}catch{}return!1},pE}var k8;function pye(){if(k8)return R8;k8=1;var t=Se(),e=gQ();return t({target:"Symbol",stat:!0,forced:!0},{isWellKnownSymbol:e}),R8}var D8={},M8;function mye(){if(M8)return D8;M8=1;var t=Pt();return t("customMatcher"),D8}var q8={},A8;function vye(){if(A8)return q8;A8=1;var t=Pt();return t("observable"),q8}var F8={},L8;function gye(){if(L8)return F8;L8=1;var t=Se(),e=vQ();return t({target:"Symbol",stat:!0,name:"isRegisteredSymbol"},{isRegistered:e}),F8}var B8={},z8;function yye(){if(z8)return B8;z8=1;var t=Se(),e=gQ();return t({target:"Symbol",stat:!0,name:"isWellKnownSymbol",forced:!0},{isWellKnown:e}),B8}var U8={},W8;function bye(){if(W8)return U8;W8=1;var t=Pt();return t("matcher"),U8}var H8={},V8;function xye(){if(V8)return H8;V8=1;var t=Pt();return t("metadataKey"),H8}var K8={},G8;function wye(){if(G8)return K8;G8=1;var t=Pt();return t("patternMatch"),K8}var Y8={},Q8;function _ye(){if(Q8)return Y8;Q8=1;var t=Pt();return t("replaceAll"),Y8}var mE,X8;function Sye(){if(X8)return mE;X8=1;var t=hye();return fye(),pye(),mye(),vye(),gye(),yye(),bye(),xye(),wye(),_ye(),mE=t,mE}var vE,J8;function Eye(){return J8||(J8=1,vE=Sye()),vE}var Nye=Eye(),hf=Pe(Nye),gE,Z8;function Oye(){if(Z8)return gE;Z8=1,rc(),uT(),bY();var t=Im();return gE=t.f("iterator"),gE}var yE,e7;function Cye(){if(e7)return yE;e7=1;var t=Oye();return nc(),yE=t,yE}var bE,t7;function Pye(){if(t7)return bE;t7=1;var t=Cye();return bE=t,bE}var xE,r7;function Tye(){if(r7)return xE;r7=1;var t=Pye();return xE=t,xE}var wE,n7;function jye(){return n7||(n7=1,wE=Tye()),wE}var Iye=jye(),Rye=Pe(Iye);function Id(t){"@babel/helpers - typeof";return Id=typeof hf=="function"&&typeof Rye=="symbol"?function(e){return typeof e}:function(e){return e&&typeof hf=="function"&&e.constructor===hf&&e!==hf.prototype?"symbol":typeof e},Id(t)}var _E,i7;function $ye(){if(i7)return _E;i7=1,xY();var t=Im();return _E=t.f("toPrimitive"),_E}var SE,s7;function kye(){if(s7)return SE;s7=1;var t=$ye();return SE=t,SE}var EE,a7;function Dye(){if(a7)return EE;a7=1;var t=kye();return EE=t,EE}var NE,o7;function Mye(){if(o7)return NE;o7=1;var t=Dye();return NE=t,NE}var OE,l7;function qye(){return l7||(l7=1,OE=Mye()),OE}var Aye=qye(),Fye=Pe(Aye);function Lye(t,e){if(Id(t)!="object"||!t)return t;var r=t[Fye];if(r!==void 0){var n=r.call(t,e);if(Id(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Bye(t){var e=Lye(t,"string");return Id(e)=="symbol"?e:e+""}function Zi(t,e,r){return(e=Bye(e))in t?oye(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var u7={},CE,c7;function zye(){if(c7)return CE;c7=1;var t=_t(),e=Be(),r=We(),n=Kn(),i=NY().trim,s=GP(),a=r("".charAt),o=t.parseFloat,l=t.Symbol,c=l&&l.iterator,d=1/o(s+"-0")!==-1/0||c&&!e(function(){o(Object(c))});return CE=d?function(f){var p=i(n(f)),m=o(p);return m===0&&a(p,0)==="-"?-0:m}:o,CE}var d7;function Uye(){if(d7)return u7;d7=1;var t=Se(),e=zye();return t({global:!0,forced:parseFloat!==e},{parseFloat:e}),u7}var PE,h7;function Wye(){if(h7)return PE;h7=1,Uye();var t=tt();return PE=t.parseFloat,PE}var TE,f7;function Hye(){if(f7)return TE;f7=1;var t=Wye();return TE=t,TE}var jE,p7;function Vye(){return p7||(p7=1,jE=Hye()),jE}var Kye=Vye(),yQ=Pe(Kye),m7={},v7;function Gye(){if(v7)return m7;v7=1;var t=Se(),e=Be(),r=UP().f,n=e(function(){return!Object.getOwnPropertyNames(1)});return t({target:"Object",stat:!0,forced:n},{getOwnPropertyNames:r}),m7}var IE,g7;function Yye(){if(g7)return IE;g7=1,Gye();var t=tt(),e=t.Object;return IE=function(n){return e.getOwnPropertyNames(n)},IE}var RE,y7;function Qye(){if(y7)return RE;y7=1;var t=Yye();return RE=t,RE}var $E,b7;function Xye(){return b7||(b7=1,$E=Qye()),$E}var Jye=Xye(),Zye=Pe(Jye),kE,x7;function e0e(){if(x7)return kE;x7=1,vY();var t=tt();return kE=t.Object.getOwnPropertySymbols,kE}var DE,w7;function t0e(){if(w7)return DE;w7=1;var t=e0e();return DE=t,DE}var ME,_7;function r0e(){return _7||(_7=1,ME=t0e()),ME}var n0e=r0e(),ba=Pe(n0e),qE={exports:{}},S7={},E7;function i0e(){if(E7)return S7;E7=1;var t=Se(),e=Be(),r=vi(),n=Em().f,i=Ft(),s=!i||e(function(){n(1)});return t({target:"Object",stat:!0,forced:s,sham:!i},{getOwnPropertyDescriptor:function(o,l){return n(r(o),l)}}),S7}var N7;function s0e(){if(N7)return qE.exports;N7=1,i0e();var t=tt(),e=t.Object,r=qE.exports=function(i,s){return e.getOwnPropertyDescriptor(i,s)};return e.getOwnPropertyDescriptor.sham&&(r.sham=!0),qE.exports}var AE,O7;function a0e(){if(O7)return AE;O7=1;var t=s0e();return AE=t,AE}var FE,C7;function o0e(){return C7||(C7=1,FE=a0e()),FE}var l0e=o0e(),ja=Pe(l0e),P7={},T7;function u0e(){if(T7)return P7;T7=1;var t=Se(),e=Ft(),r=kfe(),n=vi(),i=Em(),s=Pm();return t({target:"Object",stat:!0,sham:!e},{getOwnPropertyDescriptors:function(o){for(var l=n(o),c=i.f,d=r(l),h={},f=0,p,m;d.length>f;)m=c(l,p=d[f++]),m!==void 0&&s(h,p,m);return h}}),P7}var LE,j7;function c0e(){if(j7)return LE;j7=1,u0e();var t=tt();return LE=t.Object.getOwnPropertyDescriptors,LE}var BE,I7;function d0e(){if(I7)return BE;I7=1;var t=c0e();return BE=t,BE}var zE,R7;function h0e(){return R7||(R7=1,zE=d0e()),zE}var f0e=h0e(),xa=Pe(f0e),UE={exports:{}},$7={},k7;function p0e(){if(k7)return $7;k7=1;var t=Se(),e=Ft(),r=zP().f;return t({target:"Object",stat:!0,forced:Object.defineProperties!==r,sham:!e},{defineProperties:r}),$7}var D7;function m0e(){if(D7)return UE.exports;D7=1,p0e();var t=tt(),e=t.Object,r=UE.exports=function(i,s){return e.defineProperties(i,s)};return e.defineProperties.sham&&(r.sham=!0),UE.exports}var WE,M7;function v0e(){if(M7)return WE;M7=1;var t=m0e();return WE=t,WE}var HE,q7;function g0e(){return q7||(q7=1,HE=v0e()),HE}var y0e=g0e(),Am=Pe(y0e),VE,A7;function b0e(){return A7||(A7=1,VE=mQ()),VE}var x0e=b0e(),Fm=Pe(x0e);function dT(t,e){const r=["node","edge","label"];let n=!0;const i=ks(e,"chosen");if(typeof i=="boolean")n=i;else if(typeof i=="object"){if(Je(r).call(r,t)===-1)throw new Error("choosify: subOption '"+t+"' should be one of '"+r.join("', '")+"'");const s=ks(e,["chosen",t]);(typeof s=="boolean"||typeof s=="function")&&(n=s)}return n}function FO(t,e,r){if(t.width<=0||t.height<=0)return!1;if(r!==void 0){const s={x:e.x-r.x,y:e.y-r.y};if(r.angle!==0){const a=-r.angle;e={x:Math.cos(a)*s.x-Math.sin(a)*s.y,y:Math.sin(a)*s.x+Math.cos(a)*s.y}}else e=s}const n=t.x+t.width,i=t.y+t.width;return t.left<e.x&&n>e.x&&t.top<e.y&&i>e.y}function jp(t){return typeof t=="string"&&t!==""}function bQ(t,e,r,n){let i=n.x,s=n.y;if(typeof n.distanceToBorder=="function"){const a=n.distanceToBorder(t,e),o=Math.sin(e)*a,l=Math.cos(e)*a;l===a?(i+=a,s=n.y):o===a?(i=n.x,s-=a):(i+=l,s-=o)}else n.shape.width>n.shape.height?(i=n.x+n.shape.width*.5,s=n.y-r):(i=n.x+r,s=n.y-n.shape.height*.5);return{x:i,y:s}}var KE,F7;function w0e(){if(F7)return KE;F7=1,rc();var t=_r();return KE=t("Array","values"),KE}var GE,L7;function _0e(){if(L7)return GE;L7=1;var t=w0e();return GE=t,GE}var YE,B7;function S0e(){if(B7)return YE;B7=1,nc();var t=ec(),e=wr(),r=Yt(),n=_0e(),i=Array.prototype,s={DOMTokenList:!0,NodeList:!0};return YE=function(a){var o=a.values;return a===i||r(i,a)&&o===i.values||e(s,t(a))?n:o},YE}var QE,z7;function E0e(){return z7||(z7=1,QE=S0e()),QE}var N0e=E0e(),xQ=Pe(N0e);class O0e{constructor(e){this.measureText=e,this.current=0,this.width=0,this.height=0,this.lines=[]}_add(e,r){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"normal";this.lines[e]===void 0&&(this.lines[e]={width:0,height:0,blocks:[]});let i=r;(r===void 0||r==="")&&(i=" ");const s=this.measureText(i,n),a=Ht({},xQ(s));a.text=r,a.width=s.width,a.mod=n,(r===void 0||r==="")&&(a.width=0),this.lines[e].blocks.push(a),this.lines[e].width+=a.width}curWidth(){const e=this.lines[this.current];return e===void 0?0:e.width}append(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"normal";this._add(this.current,e,r)}newLine(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"normal";this._add(this.current,e,r),this.current++}determineLineHeights(){for(let e=0;e<this.lines.length;e++){const r=this.lines[e];let n=0;if(r.blocks!==void 0)for(let i=0;i<r.blocks.length;i++){const s=r.blocks[i];n<s.height&&(n=s.height)}r.height=n}}determineLabelSize(){let e=0,r=0;for(let n=0;n<this.lines.length;n++){const i=this.lines[n];i.width>e&&(e=i.width),r+=i.height}this.width=e,this.height=r}removeEmptyBlocks(){const e=[];for(let r=0;r<this.lines.length;r++){const n=this.lines[r];if(n.blocks.length===0||r===this.lines.length-1&&n.width===0)continue;const i={};Ht(i,n),i.blocks=[];let s;const a=[];for(let o=0;o<n.blocks.length;o++){const l=n.blocks[o];l.width!==0?a.push(l):s===void 0&&(s=l)}a.length===0&&s!==void 0&&a.push(s),i.blocks=a,e.push(i)}return e}finalize(){this.determineLineHeights(),this.determineLabelSize();const e=this.removeEmptyBlocks();return{width:this.width,height:this.height,lines:e}}}const C0e={"<b>":/<b>/,"<i>":/<i>/,"<code>":/<code>/,"</b>":/<\/b>/,"</i>":/<\/i>/,"</code>":/<\/code>/,"*":/\*/,_:/_/,"`":/`/,afterBold:/[^*]/,afterItal:/[^_]/,afterMono:/[^`]/};class U7{constructor(e){this.text=e,this.bold=!1,this.ital=!1,this.mono=!1,this.spacing=!1,this.position=0,this.buffer="",this.modStack=[],this.blocks=[]}mod(){return this.modStack.length===0?"normal":this.modStack[0]}modName(){if(this.modStack.length===0)return"normal";if(this.modStack[0]==="mono")return"mono";if(this.bold&&this.ital)return"boldital";if(this.bold)return"bold";if(this.ital)return"ital"}emitBlock(){this.spacing&&(this.add(" "),this.spacing=!1),this.buffer.length>0&&(this.blocks.push({text:this.buffer,mod:this.modName()}),this.buffer="")}add(e){e===" "&&(this.spacing=!0),this.spacing&&(this.buffer+=" ",this.spacing=!1),e!=" "&&(this.buffer+=e)}parseWS(e){return/[ \t]/.test(e)?(this.mono?this.add(e):this.spacing=!0,!0):!1}setTag(e){this.emitBlock(),this[e]=!0,this.modStack.unshift(e)}unsetTag(e){this.emitBlock(),this[e]=!1,this.modStack.shift()}parseStartTag(e,r){return!this.mono&&!this[e]&&this.match(r)?(this.setTag(e),!0):!1}match(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;const[n,i]=this.prepareRegExp(e),s=n.test(this.text.substr(this.position,i));return s&&r&&(this.position+=i-1),s}parseEndTag(e,r,n){let i=this.mod()===e;return e==="mono"?i=i&&this.mono:i=i&&!this.mono,i&&this.match(r)?(n!==void 0?(this.position===this.text.length-1||this.match(n,!1))&&this.unsetTag(e):this.unsetTag(e),!0):!1}replace(e,r){return this.match(e)?(this.add(r),this.position+=length-1,!0):!1}prepareRegExp(e){let r,n;if(e instanceof RegExp)n=e,r=1;else{const i=C0e[e];i!==void 0?n=i:n=new RegExp(e),r=e.length}return[n,r]}}class P0e{constructor(e,r,n,i){this.ctx=e,this.parent=r,this.selected=n,this.hover=i;const s=(a,o)=>{if(a===void 0)return 0;const l=this.parent.getFormattingValues(e,n,i,o);let c=0;return a!==""&&(c=this.ctx.measureText(a).width),{width:c,values:l}};this.lines=new O0e(s)}process(e){if(!jp(e))return this.lines.finalize();const r=this.parent.fontOptions;e=e.replace(/\r\n/g,`
`),e=e.replace(/\r/g,`
`);const n=String(e).split(`
`),i=n.length;if(r.multi)for(let s=0;s<i;s++){const a=this.splitBlocks(n[s],r.multi);if(a!==void 0){if(a.length===0){this.lines.newLine("");continue}if(r.maxWdt>0)for(let o=0;o<a.length;o++){const l=a[o].mod,c=a[o].text;this.splitStringIntoLines(c,l,!0)}else for(let o=0;o<a.length;o++){const l=a[o].mod,c=a[o].text;this.lines.append(c,l)}this.lines.newLine()}}else if(r.maxWdt>0)for(let s=0;s<i;s++)this.splitStringIntoLines(n[s]);else for(let s=0;s<i;s++)this.lines.newLine(n[s]);return this.lines.finalize()}decodeMarkupSystem(e){let r="none";return e==="markdown"||e==="md"?r="markdown":(e===!0||e==="html")&&(r="html"),r}splitHtmlBlocks(e){const r=new U7(e),n=i=>/&/.test(i)?(r.replace(r.text,"&lt;","<")||r.replace(r.text,"&amp;","&")||r.add("&"),!0):!1;for(;r.position<r.text.length;){const i=r.text.charAt(r.position);r.parseWS(i)||/</.test(i)&&(r.parseStartTag("bold","<b>")||r.parseStartTag("ital","<i>")||r.parseStartTag("mono","<code>")||r.parseEndTag("bold","</b>")||r.parseEndTag("ital","</i>")||r.parseEndTag("mono","</code>"))||n(i)||r.add(i),r.position++}return r.emitBlock(),r.blocks}splitMarkdownBlocks(e){const r=new U7(e);let n=!0;const i=s=>/\\/.test(s)?(r.position<this.text.length+1&&(r.position++,s=this.text.charAt(r.position),/ \t/.test(s)?r.spacing=!0:(r.add(s),n=!1)),!0):!1;for(;r.position<r.text.length;){const s=r.text.charAt(r.position);r.parseWS(s)||i(s)||(n||r.spacing)&&(r.parseStartTag("bold","*")||r.parseStartTag("ital","_")||r.parseStartTag("mono","`"))||r.parseEndTag("bold","*","afterBold")||r.parseEndTag("ital","_","afterItal")||r.parseEndTag("mono","`","afterMono")||(r.add(s),n=!1),r.position++}return r.emitBlock(),r.blocks}splitBlocks(e,r){const n=this.decodeMarkupSystem(r);if(n==="none")return[{text:e,mod:"normal"}];if(n==="markdown")return this.splitMarkdownBlocks(e);if(n==="html")return this.splitHtmlBlocks(e)}overMaxWidth(e){const r=this.ctx.measureText(e).width;return this.lines.curWidth()+r>this.parent.fontOptions.maxWdt}getLongestFit(e){let r="",n=0;for(;n<e.length;){const s=r+(r===""?"":" ")+e[n];if(this.overMaxWidth(s))break;r=s,n++}return n}getLongestFitWord(e){let r=0;for(;r<e.length&&!this.overMaxWidth(Ci(e).call(e,0,r));)r++;return r}splitStringIntoLines(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"normal",n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;this.parent.getFormattingValues(this.ctx,this.selected,this.hover,r),e=e.replace(/^( +)/g,"$1\r"),e=e.replace(/([^\r][^ ]*)( +)/g,"$1\r$2\r");let i=e.split("\r");for(;i.length>0;){let s=this.getLongestFit(i);if(s===0){const a=i[0],o=this.getLongestFitWord(a);this.lines.newLine(Ci(a).call(a,0,o),r),i[0]=Ci(a).call(a,o)}else{let a=s;i[s-1]===" "?s--:i[a]===" "&&a++;const o=Ci(i).call(i,0,s).join("");s==i.length&&n?this.lines.append(o,r):this.lines.newLine(o,r),i=Ci(i).call(i,a)}}}}const Oc=["bold","ital","boldital","mono"];class Fl{constructor(e,r){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;this.body=e,this.pointToSelf=!1,this.baseSize=void 0,this.fontOptions={},this.setOptions(r),this.size={top:0,left:0,width:0,height:0,yLine:0},this.isEdgeLabel=n}setOptions(e){if(this.elementOptions=e,this.initFontOptions(e.font),jp(e.label)?this.labelDirty=!0:e.label=void 0,e.font!==void 0&&e.font!==null){if(typeof e.font=="string")this.baseSize=this.fontOptions.size;else if(typeof e.font=="object"){const r=e.font.size;r!==void 0&&(this.baseSize=r)}}}initFontOptions(e){if(De(Oc,r=>{this.fontOptions[r]={}}),Fl.parseFontString(this.fontOptions,e)){this.fontOptions.vadjust=0;return}De(e,(r,n)=>{r!=null&&typeof r!="object"&&(this.fontOptions[n]=r)})}static parseFontString(e,r){if(!r||typeof r!="string")return!1;const n=r.split(" ");return e.size=+n[0].replace("px",""),e.face=n[1],e.color=n[2],!0}constrain(e){const r={constrainWidth:!1,maxWdt:-1,minWdt:-1,constrainHeight:!1,minHgt:-1,valign:"middle"},n=ks(e,"widthConstraint");if(typeof n=="number")r.maxWdt=Number(n),r.minWdt=Number(n);else if(typeof n=="object"){const s=ks(e,["widthConstraint","maximum"]);typeof s=="number"&&(r.maxWdt=Number(s));const a=ks(e,["widthConstraint","minimum"]);typeof a=="number"&&(r.minWdt=Number(a))}const i=ks(e,"heightConstraint");if(typeof i=="number")r.minHgt=Number(i);else if(typeof i=="object"){const s=ks(e,["heightConstraint","minimum"]);typeof s=="number"&&(r.minHgt=Number(s));const a=ks(e,["heightConstraint","valign"]);typeof a=="string"&&(a==="top"||a==="bottom")&&(r.valign=a)}return r}update(e,r){this.setOptions(e,!0),this.propagateFonts(r),dt(this.fontOptions,this.constrain(r)),this.fontOptions.chooser=dT("label",r)}adjustSizes(e){const r=e?e.right+e.left:0;this.fontOptions.constrainWidth&&(this.fontOptions.maxWdt-=r,this.fontOptions.minWdt-=r);const n=e?e.top+e.bottom:0;this.fontOptions.constrainHeight&&(this.fontOptions.minHgt-=n)}addFontOptionsToPile(e,r){for(let n=0;n<r.length;++n)this.addFontToPile(e,r[n])}addFontToPile(e,r){if(r===void 0||r.font===void 0||r.font===null)return;const n=r.font;e.push(n)}getBasicOptions(e){const r={};for(let n=0;n<e.length;++n){let i=e[n];const s={};Fl.parseFontString(s,i)&&(i=s),De(i,(a,o)=>{a!==void 0&&(Object.prototype.hasOwnProperty.call(r,o)||(Je(Oc).call(Oc,o)!==-1?r[o]={}:r[o]=a))})}return r}getFontOption(e,r,n){let i;for(let s=0;s<e.length;++s){const a=e[s];if(Object.prototype.hasOwnProperty.call(a,r)){if(i=a[r],i==null)continue;const o={};if(Fl.parseFontString(o,i)&&(i=o),Object.prototype.hasOwnProperty.call(i,n))return i[n]}}if(Object.prototype.hasOwnProperty.call(this.fontOptions,n))return this.fontOptions[n];throw new Error("Did not find value for multi-font for property: '"+n+"'")}getFontOptions(e,r){const n={},i=["color","size","face","mod","vadjust"];for(let s=0;s<i.length;++s){const a=i[s];n[a]=this.getFontOption(e,r,a)}return n}propagateFonts(e){const r=[];this.addFontOptionsToPile(r,e),this.fontOptions=this.getBasicOptions(r);for(let n=0;n<Oc.length;++n){const i=Oc[n],s=this.fontOptions[i],a=this.getFontOptions(r,i);De(a,(o,l)=>{s[l]=o}),s.size=Number(s.size),s.vadjust=Number(s.vadjust)}}draw(e,r,n,i,s){let a=arguments.length>5&&arguments[5]!==void 0?arguments[5]:"middle";if(this.elementOptions.label===void 0)return;let o=this.fontOptions.size*this.body.view.scale;this.elementOptions.label&&o<this.elementOptions.scaling.label.drawThreshold-1||(o>=this.elementOptions.scaling.label.maxVisible&&(o=Number(this.elementOptions.scaling.label.maxVisible)/this.body.view.scale),this.calculateLabelSize(e,i,s,r,n,a),this._drawBackground(e),this._drawText(e,r,this.size.yLine,a,o))}_drawBackground(e){if(this.fontOptions.background!==void 0&&this.fontOptions.background!=="none"){e.fillStyle=this.fontOptions.background;const r=this.getSize();e.fillRect(r.left,r.top,r.width,r.height)}}_drawText(e,r,n){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"middle",s=arguments.length>4?arguments[4]:void 0;[r,n]=this._setAlignment(e,r,n,i),e.textAlign="left",r=r-this.size.width/2,this.fontOptions.valign&&this.size.height>this.size.labelHeight&&(this.fontOptions.valign==="top"&&(n-=(this.size.height-this.size.labelHeight)/2),this.fontOptions.valign==="bottom"&&(n+=(this.size.height-this.size.labelHeight)/2));for(let a=0;a<this.lineCount;a++){const o=this.lines[a];if(o&&o.blocks){let l=0;this.isEdgeLabel||this.fontOptions.align==="center"?l+=(this.size.width-o.width)/2:this.fontOptions.align==="right"&&(l+=this.size.width-o.width);for(let c=0;c<o.blocks.length;c++){const d=o.blocks[c];e.font=d.font;const[h,f]=this._getColor(d.color,s,d.strokeColor);d.strokeWidth>0&&(e.lineWidth=d.strokeWidth,e.strokeStyle=f,e.lineJoin="round"),e.fillStyle=h,d.strokeWidth>0&&e.strokeText(d.text,r+l,n+d.vadjust),e.fillText(d.text,r+l,n+d.vadjust),l+=d.width}n+=o.height}}}_setAlignment(e,r,n,i){if(this.isEdgeLabel&&this.fontOptions.align!=="horizontal"&&this.pointToSelf===!1){r=0,n=0;const s=2;this.fontOptions.align==="top"?(e.textBaseline="alphabetic",n-=2*s):this.fontOptions.align==="bottom"?(e.textBaseline="hanging",n+=2*s):e.textBaseline="middle"}else e.textBaseline=i;return[r,n]}_getColor(e,r,n){let i=e||"#000000",s=n||"#ffffff";if(r<=this.elementOptions.scaling.label.drawThreshold){const a=Math.max(0,Math.min(1,1-(this.elementOptions.scaling.label.drawThreshold-r)));i=Mn(i,a),s=Mn(s,a)}return[i,s]}getTextSize(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;return this._processLabel(e,r,n),{width:this.size.width,height:this.size.height,lineCount:this.lineCount}}getSize(){let r=this.size.left,n=this.size.top-.5*2;if(this.isEdgeLabel){const s=-this.size.width*.5;switch(this.fontOptions.align){case"middle":r=s,n=-this.size.height*.5;break;case"top":r=s,n=-(this.size.height+2);break;case"bottom":r=s,n=2;break}}return{left:r,top:n,width:this.size.width,height:this.size.height}}calculateLabelSize(e,r,n){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0,a=arguments.length>5&&arguments[5]!==void 0?arguments[5]:"middle";this._processLabel(e,r,n),this.size.left=i-this.size.width*.5,this.size.top=s-this.size.height*.5,this.size.yLine=s+(1-this.lineCount)*.5*this.fontOptions.size,a==="hanging"&&(this.size.top+=.5*this.fontOptions.size,this.size.top+=4,this.size.yLine+=4)}getFormattingValues(e,r,n,i){const s=function(l,c,d){return c==="normal"?d==="mod"?"":l[d]:l[c][d]!==void 0?l[c][d]:l[d]},a={color:s(this.fontOptions,i,"color"),size:s(this.fontOptions,i,"size"),face:s(this.fontOptions,i,"face"),mod:s(this.fontOptions,i,"mod"),vadjust:s(this.fontOptions,i,"vadjust"),strokeWidth:this.fontOptions.strokeWidth,strokeColor:this.fontOptions.strokeColor};(r||n)&&(i==="normal"&&this.fontOptions.chooser===!0&&this.elementOptions.labelHighlightBold?a.mod="bold":typeof this.fontOptions.chooser=="function"&&this.fontOptions.chooser(a,this.elementOptions.id,r,n));let o="";return a.mod!==void 0&&a.mod!==""&&(o+=a.mod+" "),o+=a.size+"px "+a.face,e.font=o.replace(/"/g,""),a.font=e.font,a.height=a.size,a}differentState(e,r){return e!==this.selectedState||r!==this.hoverState}_processLabelText(e,r,n,i){return new P0e(e,this,r,n).process(i)}_processLabel(e,r,n){if(this.labelDirty===!1&&!this.differentState(r,n))return;const i=this._processLabelText(e,r,n,this.elementOptions.label);this.fontOptions.minWdt>0&&i.width<this.fontOptions.minWdt&&(i.width=this.fontOptions.minWdt),this.size.labelHeight=i.height,this.fontOptions.minHgt>0&&i.height<this.fontOptions.minHgt&&(i.height=this.fontOptions.minHgt),this.lines=i.lines,this.lineCount=i.lines.length,this.size.width=i.width,this.size.height=i.height,this.selectedState=r,this.hoverState=n,this.labelDirty=!1}visible(){return!(this.size.width===0||this.size.height===0||this.elementOptions.label===void 0||this.fontOptions.size*this.body.view.scale<this.elementOptions.scaling.label.drawThreshold-1)}}class Xo{constructor(e,r,n){this.body=r,this.labelModule=n,this.setOptions(e),this.top=void 0,this.left=void 0,this.height=void 0,this.width=void 0,this.radius=void 0,this.margin=void 0,this.refreshNeeded=!0,this.boundingBox={top:0,left:0,right:0,bottom:0}}setOptions(e){this.options=e}_setMargins(e){this.margin={},this.options.margin&&(typeof this.options.margin=="object"?(this.margin.top=this.options.margin.top,this.margin.right=this.options.margin.right,this.margin.bottom=this.options.margin.bottom,this.margin.left=this.options.margin.left):(this.margin.top=this.options.margin,this.margin.right=this.options.margin,this.margin.bottom=this.options.margin,this.margin.left=this.options.margin)),e.adjustSizes(this.margin)}_distanceToBorder(e,r){const n=this.options.borderWidth;return e&&this.resize(e),Math.min(Math.abs(this.width/2/Math.cos(r)),Math.abs(this.height/2/Math.sin(r)))+n}enableShadow(e,r){r.shadow&&(e.shadowColor=r.shadowColor,e.shadowBlur=r.shadowSize,e.shadowOffsetX=r.shadowX,e.shadowOffsetY=r.shadowY)}disableShadow(e,r){r.shadow&&(e.shadowColor="rgba(0,0,0,0)",e.shadowBlur=0,e.shadowOffsetX=0,e.shadowOffsetY=0)}enableBorderDashes(e,r){if(r.borderDashes!==!1)if(e.setLineDash!==void 0){let n=r.borderDashes;n===!0&&(n=[5,15]),e.setLineDash(n)}else console.warn("setLineDash is not supported in this browser. The dashed borders cannot be used."),this.options.shapeProperties.borderDashes=!1,r.borderDashes=!1}disableBorderDashes(e,r){r.borderDashes!==!1&&(e.setLineDash!==void 0?e.setLineDash([0]):(console.warn("setLineDash is not supported in this browser. The dashed borders cannot be used."),this.options.shapeProperties.borderDashes=!1,r.borderDashes=!1))}needsRefresh(e,r){return this.refreshNeeded===!0?(this.refreshNeeded=!1,!0):this.width===void 0||this.labelModule.differentState(e,r)}initContextForDraw(e,r){const n=r.borderWidth/this.body.view.scale;e.lineWidth=Math.min(this.width,n),e.strokeStyle=r.borderColor,e.fillStyle=r.color}performStroke(e,r){const n=r.borderWidth/this.body.view.scale;e.save(),n>0&&(this.enableBorderDashes(e,r),e.stroke(),this.disableBorderDashes(e,r)),e.restore()}performFill(e,r){e.save(),e.fillStyle=r.color,this.enableShadow(e,r),Nh(e).call(e),this.disableShadow(e,r),e.restore(),this.performStroke(e,r)}_addBoundingBoxMargin(e){this.boundingBox.left-=e,this.boundingBox.top-=e,this.boundingBox.bottom+=e,this.boundingBox.right+=e}_updateBoundingBox(e,r,n,i,s){n!==void 0&&this.resize(n,i,s),this.left=e-this.width/2,this.top=r-this.height/2,this.boundingBox.left=this.left,this.boundingBox.top=this.top,this.boundingBox.bottom=this.top+this.height,this.boundingBox.right=this.left+this.width}updateBoundingBox(e,r,n,i,s){this._updateBoundingBox(e,r,n,i,s)}getDimensionsFromLabel(e,r,n){this.textSize=this.labelModule.getTextSize(e,r,n);let i=this.textSize.width,s=this.textSize.height;const a=14;return i===0&&(i=a,s=a),{width:i,height:s}}}let T0e=class extends Xo{constructor(e,r,n){super(e,r,n),this._setMargins(n)}resize(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.selected,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.hover;if(this.needsRefresh(r,n)){const i=this.getDimensionsFromLabel(e,r,n);this.width=i.width+this.margin.right+this.margin.left,this.height=i.height+this.margin.top+this.margin.bottom,this.radius=this.width/2}}draw(e,r,n,i,s,a){this.resize(e,i,s),this.left=r-this.width/2,this.top=n-this.height/2,this.initContextForDraw(e,a),sY(e,this.left,this.top,this.width,this.height,a.borderRadius),this.performFill(e,a),this.updateBoundingBox(r,n,e,i,s),this.labelModule.draw(e,this.left+this.textSize.width/2+this.margin.left,this.top+this.textSize.height/2+this.margin.top,i,s)}updateBoundingBox(e,r,n,i,s){this._updateBoundingBox(e,r,n,i,s);const a=this.options.shapeProperties.borderRadius;this._addBoundingBoxMargin(a)}distanceToBorder(e,r){e&&this.resize(e);const n=this.options.borderWidth;return Math.min(Math.abs(this.width/2/Math.cos(r)),Math.abs(this.height/2/Math.sin(r)))+n}};class hT extends Xo{constructor(e,r,n){super(e,r,n),this.labelOffset=0,this.selected=!1}setOptions(e,r,n){this.options=e,r===void 0&&n===void 0||this.setImages(r,n)}setImages(e,r){r&&this.selected?(this.imageObj=r,this.imageObjAlt=e):(this.imageObj=e,this.imageObjAlt=r)}switchImages(e){const r=e&&!this.selected||!e&&this.selected;if(this.selected=e,this.imageObjAlt!==void 0&&r){const n=this.imageObj;this.imageObj=this.imageObjAlt,this.imageObjAlt=n}}_getImagePadding(){const e={top:0,right:0,bottom:0,left:0};if(this.options.imagePadding){const r=this.options.imagePadding;typeof r=="object"?(e.top=r.top,e.right=r.right,e.bottom=r.bottom,e.left=r.left):(e.top=r,e.right=r,e.bottom=r,e.left=r)}return e}_resizeImage(){let e,r;if(this.options.shapeProperties.useImageSize===!1){let n=1,i=1;this.imageObj.width&&this.imageObj.height&&(this.imageObj.width>this.imageObj.height?n=this.imageObj.width/this.imageObj.height:i=this.imageObj.height/this.imageObj.width),e=this.options.size*2*n,r=this.options.size*2*i}else{const n=this._getImagePadding();e=this.imageObj.width+n.left+n.right,r=this.imageObj.height+n.top+n.bottom}this.width=e,this.height=r,this.radius=.5*this.width}_drawRawCircle(e,r,n,i){this.initContextForDraw(e,i),FP(e,r,n,i.size),this.performFill(e,i)}_drawImageAtPosition(e,r){if(this.imageObj.width!=0){e.globalAlpha=r.opacity!==void 0?r.opacity:1,this.enableShadow(e,r);let n=1;this.options.shapeProperties.interpolation===!0&&(n=this.imageObj.width/this.width/this.body.view.scale);const i=this._getImagePadding(),s=this.left+i.left,a=this.top+i.top,o=this.width-i.left-i.right,l=this.height-i.top-i.bottom;this.imageObj.drawImageAtPosition(e,n,s,a,o,l),this.disableShadow(e,r)}}_drawImageLabel(e,r,n,i,s){let a=0;if(this.height!==void 0){a=this.height*.5;const l=this.labelModule.getTextSize(e,i,s);l.lineCount>=1&&(a+=l.height/2)}const o=n+a;this.options.label&&(this.labelOffset=a),this.labelModule.draw(e,r,o,i,s,"hanging")}}let j0e=class extends hT{constructor(e,r,n){super(e,r,n),this._setMargins(n)}resize(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.selected,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.hover;if(this.needsRefresh(r,n)){const i=this.getDimensionsFromLabel(e,r,n),s=Math.max(i.width+this.margin.right+this.margin.left,i.height+this.margin.top+this.margin.bottom);this.options.size=s/2,this.width=s,this.height=s,this.radius=this.width/2}}draw(e,r,n,i,s,a){this.resize(e,i,s),this.left=r-this.width/2,this.top=n-this.height/2,this._drawRawCircle(e,r,n,a),this.updateBoundingBox(r,n),this.labelModule.draw(e,this.left+this.textSize.width/2+this.margin.left,n,i,s)}updateBoundingBox(e,r){this.boundingBox.top=r-this.options.size,this.boundingBox.left=e-this.options.size,this.boundingBox.right=e+this.options.size,this.boundingBox.bottom=r+this.options.size}distanceToBorder(e){return e&&this.resize(e),this.width*.5}};class I0e extends hT{constructor(e,r,n,i,s){super(e,r,n),this.setImages(i,s)}resize(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.selected,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.hover;if(this.imageObj.src===void 0||this.imageObj.width===void 0||this.imageObj.height===void 0){const s=this.options.size*2;this.width=s,this.height=s,this.radius=.5*this.width;return}this.needsRefresh(r,n)&&this._resizeImage()}draw(e,r,n,i,s,a){this.switchImages(i),this.resize();let o=r,l=n;this.options.shapeProperties.coordinateOrigin==="top-left"?(this.left=r,this.top=n,o+=this.width/2,l+=this.height/2):(this.left=r-this.width/2,this.top=n-this.height/2),this._drawRawCircle(e,o,l,a),e.save(),e.clip(),this._drawImageAtPosition(e,a),e.restore(),this._drawImageLabel(e,o,l,i,s),this.updateBoundingBox(r,n)}updateBoundingBox(e,r){this.options.shapeProperties.coordinateOrigin==="top-left"?(this.boundingBox.top=r,this.boundingBox.left=e,this.boundingBox.right=e+this.options.size*2,this.boundingBox.bottom=r+this.options.size*2):(this.boundingBox.top=r-this.options.size,this.boundingBox.left=e-this.options.size,this.boundingBox.right=e+this.options.size,this.boundingBox.bottom=r+this.options.size),this.boundingBox.left=Math.min(this.boundingBox.left,this.labelModule.size.left),this.boundingBox.right=Math.max(this.boundingBox.right,this.labelModule.size.left+this.labelModule.size.width),this.boundingBox.bottom=Math.max(this.boundingBox.bottom,this.boundingBox.bottom+this.labelOffset)}distanceToBorder(e){return e&&this.resize(e),this.width*.5}}class Ia extends Xo{constructor(e,r,n){super(e,r,n)}resize(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.selected,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.hover,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{size:this.options.size};if(this.needsRefresh(r,n)){var s,a;this.labelModule.getTextSize(e,r,n);const o=2*i.size;this.width=(s=this.customSizeWidth)!==null&&s!==void 0?s:o,this.height=(a=this.customSizeHeight)!==null&&a!==void 0?a:o,this.radius=.5*this.width}}_drawShape(e,r,n,i,s,a,o,l){return this.resize(e,a,o,l),this.left=i-this.width/2,this.top=s-this.height/2,this.initContextForDraw(e,l),Khe(r)(e,i,s,l.size),this.performFill(e,l),this.options.icon!==void 0&&this.options.icon.code!==void 0&&(e.font=(a?"bold ":"")+this.height/2+"px "+(this.options.icon.face||"FontAwesome"),e.fillStyle=this.options.icon.color||"black",e.textAlign="center",e.textBaseline="middle",e.fillText(this.options.icon.code,i,s)),{drawExternalLabel:()=>{if(this.options.label!==void 0){this.labelModule.calculateLabelSize(e,a,o,i,s,"hanging");const c=s+.5*this.height+.5*this.labelModule.size.height;this.labelModule.draw(e,i,c,a,o,"hanging")}this.updateBoundingBox(i,s)}}}updateBoundingBox(e,r){this.boundingBox.top=r-this.options.size,this.boundingBox.left=e-this.options.size,this.boundingBox.right=e+this.options.size,this.boundingBox.bottom=r+this.options.size,this.options.label!==void 0&&this.labelModule.size.width>0&&(this.boundingBox.left=Math.min(this.boundingBox.left,this.labelModule.size.left),this.boundingBox.right=Math.max(this.boundingBox.right,this.labelModule.size.left+this.labelModule.size.width),this.boundingBox.bottom=Math.max(this.boundingBox.bottom,this.boundingBox.bottom+this.labelModule.size.height))}}function W7(t,e){var r=Rt(t);if(ba){var n=ba(t);e&&(n=Zr(n).call(n,function(i){return ja(t,i).enumerable})),r.push.apply(r,n)}return r}function R0e(t){for(var e=1;e<arguments.length;e++){var r,n,i=arguments[e]!=null?arguments[e]:{};e%2?at(r=W7(Object(i),!0)).call(r,function(s){Zi(t,s,i[s])}):xa?Am(t,xa(i)):at(n=W7(Object(i))).call(n,function(s){Fm(t,s,ja(i,s))})}return t}class $0e extends Ia{constructor(e,r,n,i){super(e,r,n,i),this.ctxRenderer=i}draw(e,r,n,i,s,a){this.resize(e,i,s,a),this.left=r-this.width/2,this.top=n-this.height/2,e.save();const o=this.ctxRenderer({ctx:e,id:this.options.id,x:r,y:n,state:{selected:i,hover:s},style:R0e({},a),label:this.options.label});if(o.drawNode!=null&&o.drawNode(),e.restore(),o.drawExternalLabel){const l=o.drawExternalLabel;o.drawExternalLabel=()=>{e.save(),l(),e.restore()}}return o.nodeDimensions&&(this.customSizeWidth=o.nodeDimensions.width,this.customSizeHeight=o.nodeDimensions.height),o}distanceToBorder(e,r){return this._distanceToBorder(e,r)}}class k0e extends Xo{constructor(e,r,n){super(e,r,n),this._setMargins(n)}resize(e,r,n){if(this.needsRefresh(r,n)){const s=this.getDimensionsFromLabel(e,r,n).width+this.margin.right+this.margin.left;this.width=s,this.height=s,this.radius=this.width/2}}draw(e,r,n,i,s,a){this.resize(e,i,s),this.left=r-this.width/2,this.top=n-this.height/2,this.initContextForDraw(e,a),aY(e,r-this.width/2,n-this.height/2,this.width,this.height),this.performFill(e,a),this.updateBoundingBox(r,n,e,i,s),this.labelModule.draw(e,this.left+this.textSize.width/2+this.margin.left,this.top+this.textSize.height/2+this.margin.top,i,s)}distanceToBorder(e,r){return this._distanceToBorder(e,r)}}let D0e=class extends Ia{constructor(e,r,n){super(e,r,n)}draw(e,r,n,i,s,a){return this._drawShape(e,"diamond",4,r,n,i,s,a)}distanceToBorder(e,r){return this._distanceToBorder(e,r)}};class M0e extends Ia{constructor(e,r,n){super(e,r,n)}draw(e,r,n,i,s,a){return this._drawShape(e,"circle",2,r,n,i,s,a)}distanceToBorder(e){return e&&this.resize(e),this.options.size}}class H7 extends Xo{constructor(e,r,n){super(e,r,n)}resize(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.selected,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.hover;if(this.needsRefresh(r,n)){const i=this.getDimensionsFromLabel(e,r,n);this.height=i.height*2,this.width=i.width+i.height,this.radius=.5*this.width}}draw(e,r,n,i,s,a){this.resize(e,i,s),this.left=r-this.width*.5,this.top=n-this.height*.5,this.initContextForDraw(e,a),TO(e,this.left,this.top,this.width,this.height),this.performFill(e,a),this.updateBoundingBox(r,n,e,i,s),this.labelModule.draw(e,r,n,i,s)}distanceToBorder(e,r){e&&this.resize(e);const n=this.width*.5,i=this.height*.5,s=Math.sin(r)*n,a=Math.cos(r)*i;return n*i/Math.sqrt(s*s+a*a)}}class q0e extends Xo{constructor(e,r,n){super(e,r,n),this._setMargins(n)}resize(e,r,n){this.needsRefresh(r,n)&&(this.iconSize={width:Number(this.options.icon.size),height:Number(this.options.icon.size)},this.width=this.iconSize.width+this.margin.right+this.margin.left,this.height=this.iconSize.height+this.margin.top+this.margin.bottom,this.radius=.5*this.width)}draw(e,r,n,i,s,a){return this.resize(e,i,s),this.options.icon.size=this.options.icon.size||50,this.left=r-this.width/2,this.top=n-this.height/2,this._icon(e,r,n,i,s,a),{drawExternalLabel:()=>{this.options.label!==void 0&&this.labelModule.draw(e,this.left+this.iconSize.width/2+this.margin.left,n+this.height/2+5,i),this.updateBoundingBox(r,n)}}}updateBoundingBox(e,r){this.boundingBox.top=r-this.options.icon.size*.5,this.boundingBox.left=e-this.options.icon.size*.5,this.boundingBox.right=e+this.options.icon.size*.5,this.boundingBox.bottom=r+this.options.icon.size*.5,this.options.label!==void 0&&this.labelModule.size.width>0&&(this.boundingBox.left=Math.min(this.boundingBox.left,this.labelModule.size.left),this.boundingBox.right=Math.max(this.boundingBox.right,this.labelModule.size.left+this.labelModule.size.width),this.boundingBox.bottom=Math.max(this.boundingBox.bottom,this.boundingBox.bottom+this.labelModule.size.height+5))}_icon(e,r,n,i,s,a){const o=Number(this.options.icon.size);this.options.icon.code!==void 0?(e.font=[this.options.icon.weight!=null?this.options.icon.weight:i?"bold":"",(this.options.icon.weight!=null&&i?5:0)+o+"px",this.options.icon.face].join(" "),e.fillStyle=this.options.icon.color||"black",e.textAlign="center",e.textBaseline="middle",this.enableShadow(e,a),e.fillText(this.options.icon.code,r,n),this.disableShadow(e,a)):console.error("When using the icon shape, you need to define the code in the icon options object. This can be done per node or globally.")}distanceToBorder(e,r){return this._distanceToBorder(e,r)}}let A0e=class extends hT{constructor(e,r,n,i,s){super(e,r,n),this.setImages(i,s)}resize(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.selected,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.hover;if(this.imageObj.src===void 0||this.imageObj.width===void 0||this.imageObj.height===void 0){const s=this.options.size*2;this.width=s,this.height=s;return}this.needsRefresh(r,n)&&this._resizeImage()}draw(e,r,n,i,s,a){e.save(),this.switchImages(i),this.resize();let o=r,l=n;if(this.options.shapeProperties.coordinateOrigin==="top-left"?(this.left=r,this.top=n,o+=this.width/2,l+=this.height/2):(this.left=r-this.width/2,this.top=n-this.height/2),this.options.shapeProperties.useBorderWithImage===!0){const c=this.options.borderWidth,d=this.options.borderWidthSelected||2*this.options.borderWidth,h=(i?d:c)/this.body.view.scale;e.lineWidth=Math.min(this.width,h),e.beginPath();let f=i?this.options.color.highlight.border:s?this.options.color.hover.border:this.options.color.border,p=i?this.options.color.highlight.background:s?this.options.color.hover.background:this.options.color.background;a.opacity!==void 0&&(f=Mn(f,a.opacity),p=Mn(p,a.opacity)),e.strokeStyle=f,e.fillStyle=p,e.rect(this.left-.5*e.lineWidth,this.top-.5*e.lineWidth,this.width+e.lineWidth,this.height+e.lineWidth),Nh(e).call(e),this.performStroke(e,a),e.closePath()}this._drawImageAtPosition(e,a),this._drawImageLabel(e,o,l,i,s),this.updateBoundingBox(r,n),e.restore()}updateBoundingBox(e,r){this.resize(),this.options.shapeProperties.coordinateOrigin==="top-left"?(this.left=e,this.top=r):(this.left=e-this.width/2,this.top=r-this.height/2),this.boundingBox.left=this.left,this.boundingBox.top=this.top,this.boundingBox.bottom=this.top+this.height,this.boundingBox.right=this.left+this.width,this.options.label!==void 0&&this.labelModule.size.width>0&&(this.boundingBox.left=Math.min(this.boundingBox.left,this.labelModule.size.left),this.boundingBox.right=Math.max(this.boundingBox.right,this.labelModule.size.left+this.labelModule.size.width),this.boundingBox.bottom=Math.max(this.boundingBox.bottom,this.boundingBox.bottom+this.labelOffset))}distanceToBorder(e,r){return this._distanceToBorder(e,r)}};class F0e extends Ia{constructor(e,r,n){super(e,r,n)}draw(e,r,n,i,s,a){return this._drawShape(e,"square",2,r,n,i,s,a)}distanceToBorder(e,r){return this._distanceToBorder(e,r)}}class L0e extends Ia{constructor(e,r,n){super(e,r,n)}draw(e,r,n,i,s,a){return this._drawShape(e,"hexagon",4,r,n,i,s,a)}distanceToBorder(e,r){return this._distanceToBorder(e,r)}}class B0e extends Ia{constructor(e,r,n){super(e,r,n)}draw(e,r,n,i,s,a){return this._drawShape(e,"star",4,r,n,i,s,a)}distanceToBorder(e,r){return this._distanceToBorder(e,r)}}class z0e extends Xo{constructor(e,r,n){super(e,r,n),this._setMargins(n)}resize(e,r,n){this.needsRefresh(r,n)&&(this.textSize=this.labelModule.getTextSize(e,r,n),this.width=this.textSize.width+this.margin.right+this.margin.left,this.height=this.textSize.height+this.margin.top+this.margin.bottom,this.radius=.5*this.width)}draw(e,r,n,i,s,a){this.resize(e,i,s),this.left=r-this.width/2,this.top=n-this.height/2,this.enableShadow(e,a),this.labelModule.draw(e,this.left+this.textSize.width/2+this.margin.left,this.top+this.textSize.height/2+this.margin.top,i,s),this.disableShadow(e,a),this.updateBoundingBox(r,n,e,i,s)}distanceToBorder(e,r){return this._distanceToBorder(e,r)}}let U0e=class extends Ia{constructor(e,r,n){super(e,r,n)}draw(e,r,n,i,s,a){return this._drawShape(e,"triangle",3,r,n,i,s,a)}distanceToBorder(e,r){return this._distanceToBorder(e,r)}};class W0e extends Ia{constructor(e,r,n){super(e,r,n)}draw(e,r,n,i,s,a){return this._drawShape(e,"triangleDown",3,r,n,i,s,a)}distanceToBorder(e,r){return this._distanceToBorder(e,r)}}function V7(t,e){var r=Rt(t);if(ba){var n=ba(t);e&&(n=Zr(n).call(n,function(i){return ja(t,i).enumerable})),r.push.apply(r,n)}return r}function K7(t){for(var e=1;e<arguments.length;e++){var r,n,i=arguments[e]!=null?arguments[e]:{};e%2?at(r=V7(Object(i),!0)).call(r,function(s){Zi(t,s,i[s])}):xa?Am(t,xa(i)):at(n=V7(Object(i))).call(n,function(s){Fm(t,s,ja(i,s))})}return t}class xt{constructor(e,r,n,i,s,a){this.options=ha(s),this.globalOptions=s,this.defaultOptions=a,this.body=r,this.edges=[],this.id=void 0,this.imagelist=n,this.grouplist=i,this.x=void 0,this.y=void 0,this.baseSize=this.options.size,this.baseFontSize=this.options.font.size,this.predefinedPosition=!1,this.selected=!1,this.hover=!1,this.labelModule=new Fl(this.body,this.options,!1),this.setOptions(e)}attachEdge(e){var r;Je(r=this.edges).call(r,e)===-1&&this.edges.push(e)}detachEdge(e){var r;const n=Je(r=this.edges).call(r,e);if(n!=-1){var i;ss(i=this.edges).call(i,n,1)}}setOptions(e){const r=this.options.shape;if(!e)return;if(typeof e.color<"u"&&(this._localColor=e.color),e.id!==void 0&&(this.id=e.id),this.id===void 0)throw new Error("Node must have an id");xt.checkMass(e,this.id),e.x!==void 0&&(e.x===null?(this.x=void 0,this.predefinedPosition=!1):(this.x=ii(e.x),this.predefinedPosition=!0)),e.y!==void 0&&(e.y===null?(this.y=void 0,this.predefinedPosition=!1):(this.y=ii(e.y),this.predefinedPosition=!0)),e.size!==void 0&&(this.baseSize=e.size),e.value!==void 0&&(e.value=yQ(e.value)),xt.parseOptions(this.options,e,!0,this.globalOptions,this.grouplist);const n=[e,this.options,this.defaultOptions];return this.chooser=dT("node",n),this._load_images(),this.updateLabelModule(e),e.opacity!==void 0&&xt.checkOpacity(e.opacity)&&(this.options.opacity=e.opacity),this.updateShape(r),e.hidden!==void 0||e.physics!==void 0}_load_images(){if((this.options.shape==="circularImage"||this.options.shape==="image")&&this.options.image===void 0)throw new Error("Option image must be defined for node type '"+this.options.shape+"'");if(this.options.image!==void 0){if(this.imagelist===void 0)throw new Error("Internal Error: No images provided");if(typeof this.options.image=="string")this.imageObj=this.imagelist.load(this.options.image,this.options.brokenImage,this.id);else{if(this.options.image.unselected===void 0)throw new Error("No unselected image provided");this.imageObj=this.imagelist.load(this.options.image.unselected,this.options.brokenImage,this.id),this.options.image.selected!==void 0?this.imageObjAlt=this.imagelist.load(this.options.image.selected,this.options.brokenImage,this.id):this.imageObjAlt=void 0}}}static checkOpacity(e){return 0<=e&&e<=1}static checkCoordinateOrigin(e){return e===void 0||e==="center"||e==="top-left"}static updateGroupOptions(e,r,n){var i;if(n===void 0)return;const s=e.group;if(r!==void 0&&r.group!==void 0&&s!==r.group)throw new Error("updateGroupOptions: group values in options don't match.");if(!(typeof s=="number"||typeof s=="string"&&s!=""))return;const o=n.get(s);o.opacity!==void 0&&r.opacity===void 0&&(xt.checkOpacity(o.opacity)||(console.error("Invalid option for node opacity. Value must be between 0 and 1, found: "+o.opacity),o.opacity=void 0));const l=Zr(i=Zye(r)).call(i,c=>r[c]!=null);l.push("font"),Pp(l,e,o),e.color=kO(e.color)}static parseOptions(e,r){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},s=arguments.length>4?arguments[4]:void 0;if(Pp(["color","fixed","shadow"],e,r,n),xt.checkMass(r),e.opacity!==void 0&&(xt.checkOpacity(e.opacity)||(console.error("Invalid option for node opacity. Value must be between 0 and 1, found: "+e.opacity),e.opacity=void 0)),r.opacity!==void 0&&(xt.checkOpacity(r.opacity)||(console.error("Invalid option for node opacity. Value must be between 0 and 1, found: "+r.opacity),r.opacity=void 0)),r.shapeProperties&&!xt.checkCoordinateOrigin(r.shapeProperties.coordinateOrigin)&&console.error("Invalid option for node coordinateOrigin, found: "+r.shapeProperties.coordinateOrigin),$n(e,r,"shadow",i),r.color!==void 0&&r.color!==null){const o=kO(r.color);ZY(e.color,o)}else n===!0&&r.color===null&&(e.color=ha(i.color));r.fixed!==void 0&&r.fixed!==null&&(typeof r.fixed=="boolean"?(e.fixed.x=r.fixed,e.fixed.y=r.fixed):(r.fixed.x!==void 0&&typeof r.fixed.x=="boolean"&&(e.fixed.x=r.fixed.x),r.fixed.y!==void 0&&typeof r.fixed.y=="boolean"&&(e.fixed.y=r.fixed.y))),n===!0&&r.font===null&&(e.font=ha(i.font)),xt.updateGroupOptions(e,r,s),r.scaling!==void 0&&$n(e.scaling,r.scaling,"label",i.scaling)}getFormattingValues(){const e={color:this.options.color.background,opacity:this.options.opacity,borderWidth:this.options.borderWidth,borderColor:this.options.color.border,size:this.options.size,borderDashes:this.options.shapeProperties.borderDashes,borderRadius:this.options.shapeProperties.borderRadius,shadow:this.options.shadow.enabled,shadowColor:this.options.shadow.color,shadowSize:this.options.shadow.size,shadowX:this.options.shadow.x,shadowY:this.options.shadow.y};if(this.selected||this.hover?this.chooser===!0?this.selected?(this.options.borderWidthSelected!=null?e.borderWidth=this.options.borderWidthSelected:e.borderWidth*=2,e.color=this.options.color.highlight.background,e.borderColor=this.options.color.highlight.border,e.shadow=this.options.shadow.enabled):this.hover&&(e.color=this.options.color.hover.background,e.borderColor=this.options.color.hover.border,e.shadow=this.options.shadow.enabled):typeof this.chooser=="function"&&(this.chooser(e,this.options.id,this.selected,this.hover),e.shadow===!1&&(e.shadowColor!==this.options.shadow.color||e.shadowSize!==this.options.shadow.size||e.shadowX!==this.options.shadow.x||e.shadowY!==this.options.shadow.y)&&(e.shadow=!0)):e.shadow=this.options.shadow.enabled,this.options.opacity!==void 0){const r=this.options.opacity;e.borderColor=Mn(e.borderColor,r),e.color=Mn(e.color,r),e.shadowColor=Mn(e.shadowColor,r)}return e}updateLabelModule(e){(this.options.label===void 0||this.options.label===null)&&(this.options.label=""),xt.updateGroupOptions(this.options,K7(K7({},e),{},{color:e&&e.color||this._localColor||void 0}),this.grouplist);const r=this.grouplist.get(this.options.group,!1),n=[e,this.options,r,this.globalOptions,this.defaultOptions];this.labelModule.update(this.options,n),this.labelModule.baseSize!==void 0&&(this.baseFontSize=this.labelModule.baseSize)}updateShape(e){if(e===this.options.shape&&this.shape)this.shape.setOptions(this.options,this.imageObj,this.imageObjAlt);else switch(this.options.shape){case"box":this.shape=new T0e(this.options,this.body,this.labelModule);break;case"circle":this.shape=new j0e(this.options,this.body,this.labelModule);break;case"circularImage":this.shape=new I0e(this.options,this.body,this.labelModule,this.imageObj,this.imageObjAlt);break;case"custom":this.shape=new $0e(this.options,this.body,this.labelModule,this.options.ctxRenderer);break;case"database":this.shape=new k0e(this.options,this.body,this.labelModule);break;case"diamond":this.shape=new D0e(this.options,this.body,this.labelModule);break;case"dot":this.shape=new M0e(this.options,this.body,this.labelModule);break;case"ellipse":this.shape=new H7(this.options,this.body,this.labelModule);break;case"icon":this.shape=new q0e(this.options,this.body,this.labelModule);break;case"image":this.shape=new A0e(this.options,this.body,this.labelModule,this.imageObj,this.imageObjAlt);break;case"square":this.shape=new F0e(this.options,this.body,this.labelModule);break;case"hexagon":this.shape=new L0e(this.options,this.body,this.labelModule);break;case"star":this.shape=new B0e(this.options,this.body,this.labelModule);break;case"text":this.shape=new z0e(this.options,this.body,this.labelModule);break;case"triangle":this.shape=new U0e(this.options,this.body,this.labelModule);break;case"triangleDown":this.shape=new W0e(this.options,this.body,this.labelModule);break;default:this.shape=new H7(this.options,this.body,this.labelModule);break}this.needsRefresh()}select(){this.selected=!0,this.needsRefresh()}unselect(){this.selected=!1,this.needsRefresh()}needsRefresh(){this.shape.refreshNeeded=!0}getTitle(){return this.options.title}distanceToBorder(e,r){return this.shape.distanceToBorder(e,r)}isFixed(){return this.options.fixed.x&&this.options.fixed.y}isSelected(){return this.selected}getValue(){return this.options.value}getLabelSize(){return this.labelModule.size()}setValueRange(e,r,n){if(this.options.value!==void 0){const i=this.options.scaling.customScalingFunction(e,r,n,this.options.value),s=this.options.scaling.max-this.options.scaling.min;if(this.options.scaling.label.enabled===!0){const a=this.options.scaling.label.max-this.options.scaling.label.min;this.options.font.size=this.options.scaling.label.min+i*a}this.options.size=this.options.scaling.min+i*s}else this.options.size=this.baseSize,this.options.font.size=this.baseFontSize;this.updateLabelModule()}draw(e){const r=this.getFormattingValues();return this.shape.draw(e,this.x,this.y,this.selected,this.hover,r)||{}}updateBoundingBox(e){this.shape.updateBoundingBox(this.x,this.y,e)}resize(e){const r=this.getFormattingValues();this.shape.resize(e,this.selected,this.hover,r)}getItemsOnPoint(e){const r=[];return this.labelModule.visible()&&FO(this.labelModule.getSize(),e)&&r.push({nodeId:this.id,labelId:0}),FO(this.shape.boundingBox,e)&&r.push({nodeId:this.id}),r}isOverlappingWith(e){return this.shape.left<e.right&&this.shape.left+this.shape.width>e.left&&this.shape.top<e.bottom&&this.shape.top+this.shape.height>e.top}isBoundingBoxOverlappingWith(e){return this.shape.boundingBox.left<e.right&&this.shape.boundingBox.right>e.left&&this.shape.boundingBox.top<e.bottom&&this.shape.boundingBox.bottom>e.top}static checkMass(e,r){if(e.mass!==void 0&&e.mass<=0){let n="";r!==void 0&&(n=" in node id: "+r),console.error("%cNegative or zero mass disallowed"+n+", setting mass to 1.",nQ),e.mass=1}}}class H0e{constructor(e,r,n,i){var s;if(this.body=e,this.images=r,this.groups=n,this.layoutEngine=i,this.body.functions.createNode=Z(s=this.create).call(s,this),this.nodesListeners={add:(a,o)=>{this.add(o.items)},update:(a,o)=>{this.update(o.items,o.data,o.oldData)},remove:(a,o)=>{this.remove(o.items)}},this.defaultOptions={borderWidth:1,borderWidthSelected:void 0,brokenImage:void 0,color:{border:"#2B7CE9",background:"#97C2FC",highlight:{border:"#2B7CE9",background:"#D2E5FF"},hover:{border:"#2B7CE9",background:"#D2E5FF"}},opacity:void 0,fixed:{x:!1,y:!1},font:{color:"#343434",size:14,face:"arial",background:"none",strokeWidth:0,strokeColor:"#ffffff",align:"center",vadjust:0,multi:!1,bold:{mod:"bold"},boldital:{mod:"bold italic"},ital:{mod:"italic"},mono:{mod:"",size:15,face:"monospace",vadjust:2}},group:void 0,hidden:!1,icon:{face:"FontAwesome",code:void 0,size:50,color:"#2B7CE9"},image:void 0,imagePadding:{top:0,right:0,bottom:0,left:0},label:void 0,labelHighlightBold:!0,level:void 0,margin:{top:5,right:5,bottom:5,left:5},mass:1,physics:!0,scaling:{min:10,max:30,label:{enabled:!1,min:14,max:30,maxVisible:30,drawThreshold:5},customScalingFunction:function(a,o,l,c){if(o===a)return .5;{const d=1/(o-a);return Math.max(0,(c-a)*d)}}},shadow:{enabled:!1,color:"rgba(0,0,0,0.5)",size:10,x:5,y:5},shape:"ellipse",shapeProperties:{borderDashes:!1,borderRadius:6,interpolation:!0,useImageSize:!1,useBorderWithImage:!1,coordinateOrigin:"center"},size:25,title:void 0,value:void 0,x:void 0,y:void 0},this.defaultOptions.mass<=0)throw"Internal error: mass in defaultOptions of NodesHandler may not be zero or negative";this.options=ha(this.defaultOptions),this.bindEventListeners()}bindEventListeners(){var e,r;this.body.emitter.on("refreshNodes",Z(e=this.refresh).call(e,this)),this.body.emitter.on("refresh",Z(r=this.refresh).call(r,this)),this.body.emitter.on("destroy",()=>{De(this.nodesListeners,(n,i)=>{this.body.data.nodes&&this.body.data.nodes.off(i,n)}),delete this.body.functions.createNode,delete this.nodesListeners.add,delete this.nodesListeners.update,delete this.nodesListeners.remove,delete this.nodesListeners})}setOptions(e){if(e!==void 0){if(xt.parseOptions(this.options,e),e.opacity!==void 0&&(AO(e.opacity)||!Ya(e.opacity)||e.opacity<0||e.opacity>1?console.error("Invalid option for node opacity. Value must be between 0 and 1, found: "+e.opacity):this.options.opacity=e.opacity),e.shape!==void 0)for(const r in this.body.nodes)Object.prototype.hasOwnProperty.call(this.body.nodes,r)&&this.body.nodes[r].updateShape();if(typeof e.font<"u"||typeof e.widthConstraint<"u"||typeof e.heightConstraint<"u")for(const r of Rt(this.body.nodes))this.body.nodes[r].updateLabelModule(),this.body.nodes[r].needsRefresh();if(e.size!==void 0)for(const r in this.body.nodes)Object.prototype.hasOwnProperty.call(this.body.nodes,r)&&this.body.nodes[r].needsRefresh();(e.hidden!==void 0||e.physics!==void 0)&&this.body.emitter.emit("_dataChanged")}}setData(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;const n=this.body.data.nodes;if(XG("id",e))this.body.data.nodes=e;else if(Dt(e))this.body.data.nodes=new yu,this.body.data.nodes.add(e);else if(!e)this.body.data.nodes=new yu;else throw new TypeError("Array or DataSet expected");if(n&&De(this.nodesListeners,function(i,s){n.off(s,i)}),this.body.nodes={},this.body.data.nodes){const i=this;De(this.nodesListeners,function(a,o){i.body.data.nodes.on(o,a)});const s=this.body.data.nodes.getIds();this.add(s,!0)}r===!1&&this.body.emitter.emit("_dataChanged")}add(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,n;const i=[];for(let s=0;s<e.length;s++){n=e[s];const a=this.body.data.nodes.get(n),o=this.create(a);i.push(o),this.body.nodes[n]=o}this.layoutEngine.positionInitially(i),r===!1&&this.body.emitter.emit("_dataChanged")}update(e,r,n){const i=this.body.nodes;let s=!1;for(let a=0;a<e.length;a++){const o=e[a];let l=i[o];const c=r[a];l!==void 0?l.setOptions(c)&&(s=!0):(s=!0,l=this.create(c),i[o]=l)}!s&&n!==void 0&&(s=eye(r).call(r,function(a,o){const l=n[o];return l&&l.level!==a.level})),s===!0?this.body.emitter.emit("_dataChanged"):this.body.emitter.emit("_dataUpdated")}remove(e){const r=this.body.nodes;for(let n=0;n<e.length;n++){const i=e[n];delete r[i]}this.body.emitter.emit("_dataChanged")}create(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:xt;return new r(e,this.body,this.images,this.groups,this.options,this.defaultOptions)}refresh(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;De(this.body.nodes,(r,n)=>{const i=this.body.data.nodes.get(n);i!==void 0&&(e===!0&&r.setOptions({x:null,y:null}),r.setOptions({fixed:!1}),r.setOptions(i))})}getPositions(e){const r={};if(e!==void 0){if(Dt(e)===!0){for(let n=0;n<e.length;n++)if(this.body.nodes[e[n]]!==void 0){const i=this.body.nodes[e[n]];r[e[n]]={x:Math.round(i.x),y:Math.round(i.y)}}}else if(this.body.nodes[e]!==void 0){const n=this.body.nodes[e];r[e]={x:Math.round(n.x),y:Math.round(n.y)}}}else for(let n=0;n<this.body.nodeIndices.length;n++){const i=this.body.nodes[this.body.nodeIndices[n]];r[this.body.nodeIndices[n]]={x:Math.round(i.x),y:Math.round(i.y)}}return r}getPosition(e){if(e==null)throw new TypeError("No id was specified for getPosition method.");if(this.body.nodes[e]==null)throw new ReferenceError("NodeId provided for getPosition does not exist. Provided: ".concat(e));return{x:Math.round(this.body.nodes[e].x),y:Math.round(this.body.nodes[e].y)}}storePositions(){const e=[],r=this.body.data.nodes.getDataSet();for(const n of r.get()){const i=n.id,s=this.body.nodes[i],a=Math.round(s.x),o=Math.round(s.y);(n.x!==a||n.y!==o)&&e.push({id:i,x:a,y:o})}r.update(e)}getBoundingBox(e){if(this.body.nodes[e]!==void 0)return this.body.nodes[e].shape.boundingBox}getConnectedNodes(e,r){const n=[];if(this.body.nodes[e]!==void 0){const i=this.body.nodes[e],s={};for(let a=0;a<i.edges.length;a++){const o=i.edges[a];r!=="to"&&o.toId==i.id?s[o.fromId]===void 0&&(n.push(o.fromId),s[o.fromId]=!0):r!=="from"&&o.fromId==i.id&&s[o.toId]===void 0&&(n.push(o.toId),s[o.toId]=!0)}}return n}getConnectedEdges(e){const r=[];if(this.body.nodes[e]!==void 0){const n=this.body.nodes[e];for(let i=0;i<n.edges.length;i++)r.push(n.edges[i].id)}else console.error("NodeId provided for getConnectedEdges does not exist. Provided: ",e);return r}moveNode(e,r,n){this.body.nodes[e]!==void 0?(this.body.nodes[e].x=Number(r),this.body.nodes[e].y=Number(n),as(()=>{this.body.emitter.emit("startSimulation")},0)):console.error("Node id supplied to moveNode does not exist. Provided: ",e)}}var G7={},Y7;function V0e(){if(Y7)return G7;Y7=1;var t=Se(),e=Math.hypot,r=Math.abs,n=Math.sqrt,i=!!e&&e(1/0,NaN)!==1/0;return t({target:"Math",stat:!0,arity:2,forced:i},{hypot:function(a,o){for(var l=0,c=0,d=arguments.length,h=0,f,p;c<d;)f=r(arguments[c++]),h<f?(p=h/f,l=l*p*p+1,h=f):f>0?(p=f/h,l+=p*p):l+=f;return h===1/0?1/0:h*n(l)}}),G7}var XE,Q7;function K0e(){if(Q7)return XE;Q7=1,V0e();var t=tt();return XE=t.Math.hypot,XE}var JE,X7;function G0e(){if(X7)return JE;X7=1;var t=K0e();return JE=t,JE}var ZE,J7;function Y0e(){return J7||(J7=1,ZE=G0e()),ZE}var Q0e=Y0e(),X0e=Pe(Q0e);class qt{static transform(e,r){Dt(e)||(e=[e]);const n=r.point.x,i=r.point.y,s=r.angle,a=r.length;for(let o=0;o<e.length;++o){const l=e[o],c=l.x*Math.cos(s)-l.y*Math.sin(s),d=l.x*Math.sin(s)+l.y*Math.cos(s);l.x=n+a*c,l.y=i+a*d}}static drawPath(e,r){e.beginPath(),e.moveTo(r[0].x,r[0].y);for(let n=1;n<r.length;++n)e.lineTo(r[n].x,r[n].y);e.closePath()}}let J0e=class extends qt{static draw(e,r){if(r.image){e.save(),e.translate(r.point.x,r.point.y),e.rotate(Math.PI/2+r.angle);const n=r.imageWidth!=null?r.imageWidth:r.image.width,i=r.imageHeight!=null?r.imageHeight:r.image.height;r.image.drawImageAtPosition(e,1,-n/2,0,n,i),e.restore()}return!1}};class Z0e extends qt{static draw(e,r){const n=[{x:0,y:0},{x:-1,y:.3},{x:-.9,y:0},{x:-1,y:-.3}];return qt.transform(n,r),qt.drawPath(e,n),!0}}class ebe{static draw(e,r){const n=[{x:-1,y:0},{x:0,y:.3},{x:-.4,y:0},{x:0,y:-.3}];return qt.transform(n,r),qt.drawPath(e,n),!0}}class tbe{static draw(e,r){const n={x:-.4,y:0};qt.transform(n,r),e.strokeStyle=e.fillStyle,e.fillStyle="rgba(0, 0, 0, 0)";const i=Math.PI,s=r.angle-i/2,a=r.angle+i/2;return e.beginPath(),e.arc(n.x,n.y,r.length*.4,s,a,!1),e.stroke(),!0}}class rbe{static draw(e,r){const n={x:-.3,y:0};qt.transform(n,r),e.strokeStyle=e.fillStyle,e.fillStyle="rgba(0, 0, 0, 0)";const i=Math.PI,s=r.angle+i/2,a=r.angle+3*i/2;return e.beginPath(),e.arc(n.x,n.y,r.length*.4,s,a,!1),e.stroke(),!0}}class nbe{static draw(e,r){const n=[{x:.02,y:0},{x:-1,y:.3},{x:-1,y:-.3}];return qt.transform(n,r),qt.drawPath(e,n),!0}}class ibe{static draw(e,r){const n=[{x:0,y:.3},{x:0,y:-.3},{x:-1,y:0}];return qt.transform(n,r),qt.drawPath(e,n),!0}}class sbe{static draw(e,r){const n={x:-.4,y:0};return qt.transform(n,r),FP(e,n.x,n.y,r.length*.4),!0}}class abe{static draw(e,r){const n=[{x:0,y:.5},{x:0,y:-.5},{x:-.15,y:-.5},{x:-.15,y:.5}];return qt.transform(n,r),qt.drawPath(e,n),!0}}class obe{static draw(e,r){const n=[{x:0,y:.3},{x:0,y:-.3},{x:-.6,y:-.3},{x:-.6,y:.3}];return qt.transform(n,r),qt.drawPath(e,n),!0}}class lbe{static draw(e,r){const n=[{x:0,y:0},{x:-.5,y:-.3},{x:-1,y:0},{x:-.5,y:.3}];return qt.transform(n,r),qt.drawPath(e,n),!0}}class ube{static draw(e,r){const n=[{x:-1,y:.3},{x:-.5,y:0},{x:-1,y:-.3},{x:0,y:0}];return qt.transform(n,r),qt.drawPath(e,n),!0}}class wQ{static draw(e,r){let n;switch(r.type&&(n=r.type.toLowerCase()),n){case"image":return J0e.draw(e,r);case"circle":return sbe.draw(e,r);case"box":return obe.draw(e,r);case"crow":return ebe.draw(e,r);case"curve":return tbe.draw(e,r);case"diamond":return lbe.draw(e,r);case"inv_curve":return rbe.draw(e,r);case"triangle":return nbe.draw(e,r);case"inv_triangle":return ibe.draw(e,r);case"bar":return abe.draw(e,r);case"vee":return ube.draw(e,r);case"arrow":default:return Z0e.draw(e,r)}}}function Z7(t,e){var r=Rt(t);if(ba){var n=ba(t);e&&(n=Zr(n).call(n,function(i){return ja(t,i).enumerable})),r.push.apply(r,n)}return r}function eU(t){for(var e=1;e<arguments.length;e++){var r,n,i=arguments[e]!=null?arguments[e]:{};e%2?at(r=Z7(Object(i),!0)).call(r,function(s){Zi(t,s,i[s])}):xa?Am(t,xa(i)):at(n=Z7(Object(i))).call(n,function(s){Fm(t,s,ja(i,s))})}return t}class _Q{constructor(e,r,n){Zi(this,"color",{}),Zi(this,"colorDirty",!0),Zi(this,"hoverWidth",1.5),Zi(this,"selectionWidth",2),this._body=r,this._labelModule=n,this.setOptions(e),this.fromPoint=this.from,this.toPoint=this.to}connect(){this.from=this._body.nodes[this.options.from],this.to=this._body.nodes[this.options.to]}cleanup(){return!1}setOptions(e){this.options=e,this.from=this._body.nodes[this.options.from],this.to=this._body.nodes[this.options.to],this.id=this.options.id}drawLine(e,r,n,i){let s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:this.getViaNode();e.strokeStyle=this.getColor(e,r),e.lineWidth=r.width,r.dashes!==!1?this._drawDashedLine(e,r,s):this._drawLine(e,r,s)}_drawLine(e,r,n,i,s){if(this.from!=this.to)this._line(e,r,n,i,s);else{const[a,o,l]=this._getCircleData(e);this._circle(e,r,a,o,l)}}_drawDashedLine(e,r,n,i,s){e.lineCap="round";const a=Dt(r.dashes)?r.dashes:[5,5];if(e.setLineDash!==void 0){if(e.save(),e.setLineDash(a),e.lineDashOffset=0,this.from!=this.to)this._line(e,r,n);else{const[o,l,c]=this._getCircleData(e);this._circle(e,r,o,l,c)}e.setLineDash([0]),e.lineDashOffset=0,e.restore()}else{if(this.from!=this.to)oY(e,this.from.x,this.from.y,this.to.x,this.to.y,a);else{const[o,l,c]=this._getCircleData(e);this._circle(e,r,o,l,c)}this.enableShadow(e,r),e.stroke(),this.disableShadow(e,r)}}findBorderPosition(e,r,n){return this.from!=this.to?this._findBorderPosition(e,r,n):this._findBorderPositionCircle(e,r,n)}findBorderPositions(e){if(this.from!=this.to)return{from:this._findBorderPosition(this.from,e),to:this._findBorderPosition(this.to,e)};{var r;const[n,i]=Ci(r=this._getCircleData(e)).call(r,0,2);return{from:this._findBorderPositionCircle(this.from,e,{x:n,y:i,low:.25,high:.6,direction:-1}),to:this._findBorderPositionCircle(this.from,e,{x:n,y:i,low:.6,high:.8,direction:1})}}}_getCircleData(e){const r=this.options.selfReference.size;e!==void 0&&this.from.shape.width===void 0&&this.from.shape.resize(e);const n=bQ(e,this.options.selfReference.angle,r,this.from);return[n.x,n.y,r]}_pointOnCircle(e,r,n,i){const s=i*2*Math.PI;return{x:e+n*Math.cos(s),y:r-n*Math.sin(s)}}_findBorderPositionCircle(e,r,n){const i=n.x,s=n.y;let a=n.low,o=n.high;const l=n.direction,c=10,d=this.options.selfReference.size,h=.05;let f,p=(a+o)*.5,m=0;this.options.arrowStrikethrough===!0&&(l===-1?m=this.options.endPointOffset.from:l===1&&(m=this.options.endPointOffset.to));let y=0;do{p=(a+o)*.5,f=this._pointOnCircle(i,s,d,p);const x=Math.atan2(e.y-f.y,e.x-f.x),g=e.distanceToBorder(r,x)+m,v=Math.sqrt(Math.pow(f.x-e.x,2)+Math.pow(f.y-e.y,2)),w=g-v;if(Math.abs(w)<h)break;w>0?l>0?a=p:o=p:l>0?o=p:a=p,++y}while(a<=o&&y<c);return eU(eU({},f),{},{t:p})}getLineWidth(e,r){return e===!0?Math.max(this.selectionWidth,.3/this._body.view.scale):r===!0?Math.max(this.hoverWidth,.3/this._body.view.scale):Math.max(this.options.width,.3/this._body.view.scale)}getColor(e,r){if(r.inheritsColor!==!1){if(r.inheritsColor==="both"&&this.from.id!==this.to.id){const n=e.createLinearGradient(this.from.x,this.from.y,this.to.x,this.to.y);let i=this.from.options.color.highlight.border,s=this.to.options.color.highlight.border;return this.from.selected===!1&&this.to.selected===!1?(i=Mn(this.from.options.color.border,r.opacity),s=Mn(this.to.options.color.border,r.opacity)):this.from.selected===!0&&this.to.selected===!1?s=this.to.options.color.border:this.from.selected===!1&&this.to.selected===!0&&(i=this.from.options.color.border),n.addColorStop(0,i),n.addColorStop(1,s),n}return r.inheritsColor==="to"?Mn(this.to.options.color.border,r.opacity):Mn(this.from.options.color.border,r.opacity)}else return Mn(r.color,r.opacity)}_circle(e,r,n,i,s){this.enableShadow(e,r);let a=0,o=Math.PI*2;if(!this.options.selfReference.renderBehindTheNode){const l=this.options.selfReference.angle,c=this.options.selfReference.angle+Math.PI,d=this._findBorderPositionCircle(this.from,e,{x:n,y:i,low:l,high:c,direction:-1}),h=this._findBorderPositionCircle(this.from,e,{x:n,y:i,low:l,high:c,direction:1});a=Math.atan2(d.y-i,d.x-n),o=Math.atan2(h.y-i,h.x-n)}e.beginPath(),e.arc(n,i,s,a,o,!1),e.stroke(),this.disableShadow(e,r)}getDistanceToEdge(e,r,n,i,s,a){if(this.from!=this.to)return this._getDistanceToEdge(e,r,n,i,s,a);{const[o,l,c]=this._getCircleData(void 0),d=o-s,h=l-a;return Math.abs(Math.sqrt(d*d+h*h)-c)}}_getDistanceToLine(e,r,n,i,s,a){const o=n-e,l=i-r,c=o*o+l*l;let d=((s-e)*o+(a-r)*l)/c;d>1?d=1:d<0&&(d=0);const h=e+d*o,f=r+d*l,p=h-s,m=f-a;return Math.sqrt(p*p+m*m)}getArrowData(e,r,n,i,s,a){let o,l,c,d,h,f,p;const m=a.width;r==="from"?(c=this.from,d=this.to,h=a.fromArrowScale<0,f=Math.abs(a.fromArrowScale),p=a.fromArrowType):r==="to"?(c=this.to,d=this.from,h=a.toArrowScale<0,f=Math.abs(a.toArrowScale),p=a.toArrowType):(c=this.to,d=this.from,h=a.middleArrowScale<0,f=Math.abs(a.middleArrowScale),p=a.middleArrowType);const y=15*f+3*m;if(c!=d){const w=X0e(c.x-d.x,c.y-d.y),b=y/w;if(r!=="middle")if(this.options.smooth.enabled===!0){const _=this._findBorderPosition(c,e,{via:n}),E=this.getPoint(_.t+b*(r==="from"?1:-1),n);o=Math.atan2(_.y-E.y,_.x-E.x),l=_}else o=Math.atan2(c.y-d.y,c.x-d.x),l=this._findBorderPosition(c,e);else{const _=(h?-b:b)/2,E=this.getPoint(.5+_,n),N=this.getPoint(.5-_,n);o=Math.atan2(E.y-N.y,E.x-N.x),l=this.getPoint(.5,n)}}else{const[w,b,_]=this._getCircleData(e);if(r==="from"){const E=this.options.selfReference.angle,N=this.options.selfReference.angle+Math.PI,S=this._findBorderPositionCircle(this.from,e,{x:w,y:b,low:E,high:N,direction:-1});o=S.t*-2*Math.PI+1.5*Math.PI+.1*Math.PI,l=S}else if(r==="to"){const E=this.options.selfReference.angle,N=this.options.selfReference.angle+Math.PI,S=this._findBorderPositionCircle(this.from,e,{x:w,y:b,low:E,high:N,direction:1});o=S.t*-2*Math.PI+1.5*Math.PI-1.1*Math.PI,l=S}else{const E=this.options.selfReference.angle/(2*Math.PI);l=this._pointOnCircle(w,b,_,E),o=E*-2*Math.PI+1.5*Math.PI+.1*Math.PI}}const x=l.x-y*.9*Math.cos(o),g=l.y-y*.9*Math.sin(o);return{point:l,core:{x,y:g},angle:o,length:y,type:p}}drawArrowHead(e,r,n,i,s){e.strokeStyle=this.getColor(e,r),e.fillStyle=e.strokeStyle,e.lineWidth=r.width,wQ.draw(e,s)&&(this.enableShadow(e,r),Nh(e).call(e),this.disableShadow(e,r))}enableShadow(e,r){r.shadow===!0&&(e.shadowColor=r.shadowColor,e.shadowBlur=r.shadowSize,e.shadowOffsetX=r.shadowX,e.shadowOffsetY=r.shadowY)}disableShadow(e,r){r.shadow===!0&&(e.shadowColor="rgba(0,0,0,0)",e.shadowBlur=0,e.shadowOffsetX=0,e.shadowOffsetY=0)}drawBackground(e,r){if(r.background!==!1){const n={strokeStyle:e.strokeStyle,lineWidth:e.lineWidth,dashes:e.dashes};e.strokeStyle=r.backgroundColor,e.lineWidth=r.backgroundSize,this.setStrokeDashed(e,r.backgroundDashes),e.stroke(),e.strokeStyle=n.strokeStyle,e.lineWidth=n.lineWidth,e.dashes=n.dashes,this.setStrokeDashed(e,r.dashes)}}setStrokeDashed(e,r){if(r!==!1)if(e.setLineDash!==void 0){const n=Dt(r)?r:[5,5];e.setLineDash(n)}else console.warn("setLineDash is not supported in this browser. The dashed stroke cannot be used.");else e.setLineDash!==void 0?e.setLineDash([]):console.warn("setLineDash is not supported in this browser. The dashed stroke cannot be used.")}}function tU(t,e){var r=Rt(t);if(ba){var n=ba(t);e&&(n=Zr(n).call(n,function(i){return ja(t,i).enumerable})),r.push.apply(r,n)}return r}function rU(t){for(var e=1;e<arguments.length;e++){var r,n,i=arguments[e]!=null?arguments[e]:{};e%2?at(r=tU(Object(i),!0)).call(r,function(s){Zi(t,s,i[s])}):xa?Am(t,xa(i)):at(n=tU(Object(i))).call(n,function(s){Fm(t,s,ja(i,s))})}return t}class fT extends _Q{constructor(e,r,n){super(e,r,n)}_findBorderPositionBezier(e,r){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this._getViaCoordinates();const i=10,s=.2;let a=!1,o=1,l=0,c=this.to,d,h,f=this.options.endPointOffset?this.options.endPointOffset.to:0;e.id===this.from.id&&(c=this.from,a=!0,f=this.options.endPointOffset?this.options.endPointOffset.from:0),this.options.arrowStrikethrough===!1&&(f=0);let p=0;do{h=(l+o)*.5,d=this.getPoint(h,n);const m=Math.atan2(c.y-d.y,c.x-d.x),y=c.distanceToBorder(r,m)+f,x=Math.sqrt(Math.pow(d.x-c.x,2)+Math.pow(d.y-c.y,2)),g=y-x;if(Math.abs(g)<s)break;g<0?a===!1?l=h:o=h:a===!1?o=h:l=h,++p}while(l<=o&&p<i);return rU(rU({},d),{},{t:h})}_getDistanceToBezierEdge(e,r,n,i,s,a,o){let l=1e9,c,d,h,f,p,m=e,y=r;for(d=1;d<10;d++)h=.1*d,f=Math.pow(1-h,2)*e+2*h*(1-h)*o.x+Math.pow(h,2)*n,p=Math.pow(1-h,2)*r+2*h*(1-h)*o.y+Math.pow(h,2)*i,d>0&&(c=this._getDistanceToLine(m,y,f,p,s,a),l=c<l?c:l),m=f,y=p;return l}_bezierCurve(e,r,n,i){e.beginPath(),e.moveTo(this.fromPoint.x,this.fromPoint.y),n!=null&&n.x!=null?i!=null&&i.x!=null?e.bezierCurveTo(n.x,n.y,i.x,i.y,this.toPoint.x,this.toPoint.y):e.quadraticCurveTo(n.x,n.y,this.toPoint.x,this.toPoint.y):e.lineTo(this.toPoint.x,this.toPoint.y),this.drawBackground(e,r),this.enableShadow(e,r),e.stroke(),this.disableShadow(e,r)}getViaNode(){return this._getViaCoordinates()}}class nU extends fT{constructor(e,r,n){super(e,r,n),Zi(this,"via",this.via),this._boundFunction=()=>{this.positionBezierNode()},this._body.emitter.on("_repositionBezierNodes",this._boundFunction)}setOptions(e){super.setOptions(e);let r=!1;this.options.physics!==e.physics&&(r=!0),this.options=e,this.id=this.options.id,this.from=this._body.nodes[this.options.from],this.to=this._body.nodes[this.options.to],this.setupSupportNode(),this.connect(),r===!0&&(this.via.setOptions({physics:this.options.physics}),this.positionBezierNode())}connect(){this.from=this._body.nodes[this.options.from],this.to=this._body.nodes[this.options.to],this.from===void 0||this.to===void 0||this.options.physics===!1?this.via.setOptions({physics:!1}):this.from.id===this.to.id?this.via.setOptions({physics:!1}):this.via.setOptions({physics:!0})}cleanup(){return this._body.emitter.off("_repositionBezierNodes",this._boundFunction),this.via!==void 0?(delete this._body.nodes[this.via.id],this.via=void 0,!0):!1}setupSupportNode(){if(this.via===void 0){const e="edgeId:"+this.id,r=this._body.functions.createNode({id:e,shape:"circle",physics:!0,hidden:!0});this._body.nodes[e]=r,this.via=r,this.via.parentEdgeId=this.id,this.positionBezierNode()}}positionBezierNode(){this.via!==void 0&&this.from!==void 0&&this.to!==void 0?(this.via.x=.5*(this.from.x+this.to.x),this.via.y=.5*(this.from.y+this.to.y)):this.via!==void 0&&(this.via.x=0,this.via.y=0)}_line(e,r,n){this._bezierCurve(e,r,n)}_getViaCoordinates(){return this.via}getViaNode(){return this.via}getPoint(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.via;if(this.from===this.to){const[n,i,s]=this._getCircleData(),a=2*Math.PI*(1-e);return{x:n+s*Math.sin(a),y:i+s-s*(1-Math.cos(a))}}else return{x:Math.pow(1-e,2)*this.fromPoint.x+2*e*(1-e)*r.x+Math.pow(e,2)*this.toPoint.x,y:Math.pow(1-e,2)*this.fromPoint.y+2*e*(1-e)*r.y+Math.pow(e,2)*this.toPoint.y}}_findBorderPosition(e,r){return this._findBorderPositionBezier(e,r,this.via)}_getDistanceToEdge(e,r,n,i,s,a){return this._getDistanceToBezierEdge(e,r,n,i,s,a,this.via)}}class iU extends fT{constructor(e,r,n){super(e,r,n)}_line(e,r,n){this._bezierCurve(e,r,n)}getViaNode(){return this._getViaCoordinates()}_getViaCoordinates(){const e=this.options.smooth.roundness,r=this.options.smooth.type;let n=Math.abs(this.from.x-this.to.x),i=Math.abs(this.from.y-this.to.y);if(r==="discrete"||r==="diagonalCross"){let s,a;n<=i?s=a=e*i:s=a=e*n,this.from.x>this.to.x&&(s=-s),this.from.y>=this.to.y&&(a=-a);let o=this.from.x+s,l=this.from.y+a;return r==="discrete"&&(n<=i?o=n<e*i?this.from.x:o:l=i<e*n?this.from.y:l),{x:o,y:l}}else if(r==="straightCross"){let s=(1-e)*n,a=(1-e)*i;return n<=i?(s=0,this.from.y<this.to.y&&(a=-a)):(this.from.x<this.to.x&&(s=-s),a=0),{x:this.to.x+s,y:this.to.y+a}}else if(r==="horizontal"){let s=(1-e)*n;return this.from.x<this.to.x&&(s=-s),{x:this.to.x+s,y:this.from.y}}else if(r==="vertical"){let s=(1-e)*i;return this.from.y<this.to.y&&(s=-s),{x:this.from.x,y:this.to.y+s}}else if(r==="curvedCW"){n=this.to.x-this.from.x,i=this.from.y-this.to.y;const s=Math.sqrt(n*n+i*i),a=Math.PI,l=(Math.atan2(i,n)+(e*.5+.5)*a)%(2*a);return{x:this.from.x+(e*.5+.5)*s*Math.sin(l),y:this.from.y+(e*.5+.5)*s*Math.cos(l)}}else if(r==="curvedCCW"){n=this.to.x-this.from.x,i=this.from.y-this.to.y;const s=Math.sqrt(n*n+i*i),a=Math.PI,l=(Math.atan2(i,n)+(-e*.5+.5)*a)%(2*a);return{x:this.from.x+(e*.5+.5)*s*Math.sin(l),y:this.from.y+(e*.5+.5)*s*Math.cos(l)}}else{let s,a;n<=i?s=a=e*i:s=a=e*n,this.from.x>this.to.x&&(s=-s),this.from.y>=this.to.y&&(a=-a);let o=this.from.x+s,l=this.from.y+a;return n<=i?this.from.x<=this.to.x?o=this.to.x<o?this.to.x:o:o=this.to.x>o?this.to.x:o:this.from.y>=this.to.y?l=this.to.y>l?this.to.y:l:l=this.to.y<l?this.to.y:l,{x:o,y:l}}}_findBorderPosition(e,r){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this._findBorderPositionBezier(e,r,n.via)}_getDistanceToEdge(e,r,n,i,s,a){let o=arguments.length>6&&arguments[6]!==void 0?arguments[6]:this._getViaCoordinates();return this._getDistanceToBezierEdge(e,r,n,i,s,a,o)}getPoint(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this._getViaCoordinates();const n=e,i=Math.pow(1-n,2)*this.fromPoint.x+2*n*(1-n)*r.x+Math.pow(n,2)*this.toPoint.x,s=Math.pow(1-n,2)*this.fromPoint.y+2*n*(1-n)*r.y+Math.pow(n,2)*this.toPoint.y;return{x:i,y:s}}}class cbe extends fT{constructor(e,r,n){super(e,r,n)}_getDistanceToBezierEdge2(e,r,n,i,s,a,o,l){let c=1e9,d=e,h=r;const f=[0,0,0,0];for(let p=1;p<10;p++){const m=.1*p;f[0]=Math.pow(1-m,3),f[1]=3*m*Math.pow(1-m,2),f[2]=3*Math.pow(m,2)*(1-m),f[3]=Math.pow(m,3);const y=f[0]*e+f[1]*o.x+f[2]*l.x+f[3]*n,x=f[0]*r+f[1]*o.y+f[2]*l.y+f[3]*i;if(p>0){const g=this._getDistanceToLine(d,h,y,x,s,a);c=g<c?g:c}d=y,h=x}return c}}class sU extends cbe{constructor(e,r,n){super(e,r,n)}_line(e,r,n){const i=n[0],s=n[1];this._bezierCurve(e,r,i,s)}_getViaCoordinates(){const e=this.from.x-this.to.x,r=this.from.y-this.to.y;let n,i,s,a;const o=this.options.smooth.roundness;return(Math.abs(e)>Math.abs(r)||this.options.smooth.forceDirection===!0||this.options.smooth.forceDirection==="horizontal")&&this.options.smooth.forceDirection!=="vertical"?(i=this.from.y,a=this.to.y,n=this.from.x-o*e,s=this.to.x+o*e):(i=this.from.y-o*r,a=this.to.y+o*r,n=this.from.x,s=this.to.x),[{x:n,y:i},{x:s,y:a}]}getViaNode(){return this._getViaCoordinates()}_findBorderPosition(e,r){return this._findBorderPositionBezier(e,r)}_getDistanceToEdge(e,r,n,i,s,a){let[o,l]=arguments.length>6&&arguments[6]!==void 0?arguments[6]:this._getViaCoordinates();return this._getDistanceToBezierEdge2(e,r,n,i,s,a,o,l)}getPoint(e){let[r,n]=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this._getViaCoordinates();const i=e,s=[Math.pow(1-i,3),3*i*Math.pow(1-i,2),3*Math.pow(i,2)*(1-i),Math.pow(i,3)],a=s[0]*this.fromPoint.x+s[1]*r.x+s[2]*n.x+s[3]*this.toPoint.x,o=s[0]*this.fromPoint.y+s[1]*r.y+s[2]*n.y+s[3]*this.toPoint.y;return{x:a,y:o}}}class aU extends _Q{constructor(e,r,n){super(e,r,n)}_line(e,r){e.beginPath(),e.moveTo(this.fromPoint.x,this.fromPoint.y),e.lineTo(this.toPoint.x,this.toPoint.y),this.enableShadow(e,r),e.stroke(),this.disableShadow(e,r)}getViaNode(){}getPoint(e){return{x:(1-e)*this.fromPoint.x+e*this.toPoint.x,y:(1-e)*this.fromPoint.y+e*this.toPoint.y}}_findBorderPosition(e,r){let n=this.to,i=this.from;e.id===this.from.id&&(n=this.from,i=this.to);const s=Math.atan2(n.y-i.y,n.x-i.x),a=n.x-i.x,o=n.y-i.y,l=Math.sqrt(a*a+o*o),c=e.distanceToBorder(r,s),d=(l-c)/l;return{x:(1-d)*i.x+d*n.x,y:(1-d)*i.y+d*n.y,t:0}}_getDistanceToEdge(e,r,n,i,s,a){return this._getDistanceToLine(e,r,n,i,s,a)}}class fa{constructor(e,r,n,i,s){if(r===void 0)throw new Error("No body provided");this.options=ha(i),this.globalOptions=i,this.defaultOptions=s,this.body=r,this.imagelist=n,this.id=void 0,this.fromId=void 0,this.toId=void 0,this.selected=!1,this.hover=!1,this.labelDirty=!0,this.baseWidth=this.options.width,this.baseFontSize=this.options.font.size,this.from=void 0,this.to=void 0,this.edgeType=void 0,this.connected=!1,this.labelModule=new Fl(this.body,this.options,!0),this.setOptions(e)}setOptions(e){if(!e)return;let r=typeof e.physics<"u"&&this.options.physics!==e.physics||typeof e.hidden<"u"&&(this.options.hidden||!1)!==(e.hidden||!1)||typeof e.from<"u"&&this.options.from!==e.from||typeof e.to<"u"&&this.options.to!==e.to;fa.parseOptions(this.options,e,!0,this.globalOptions),e.id!==void 0&&(this.id=e.id),e.from!==void 0&&(this.fromId=e.from),e.to!==void 0&&(this.toId=e.to),e.title!==void 0&&(this.title=e.title),e.value!==void 0&&(e.value=yQ(e.value));const n=[e,this.options,this.defaultOptions];return this.chooser=dT("edge",n),this.updateLabelModule(e),r=this.updateEdgeType()||r,this._setInteractionWidths(),this.connect(),r}static parseOptions(e,r){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1;if(ac(["endPointOffset","arrowStrikethrough","id","from","hidden","hoverWidth","labelHighlightBold","length","line","opacity","physics","scaling","selectionWidth","selfReferenceSize","selfReference","to","title","value","width","font","chosen","widthConstraint"],e,r,n),r.endPointOffset!==void 0&&r.endPointOffset.from!==void 0&&(Ya(r.endPointOffset.from)?e.endPointOffset.from=r.endPointOffset.from:(e.endPointOffset.from=i.endPointOffset.from!==void 0?i.endPointOffset.from:0,console.error("endPointOffset.from is not a valid number"))),r.endPointOffset!==void 0&&r.endPointOffset.to!==void 0&&(Ya(r.endPointOffset.to)?e.endPointOffset.to=r.endPointOffset.to:(e.endPointOffset.to=i.endPointOffset.to!==void 0?i.endPointOffset.to:0,console.error("endPointOffset.to is not a valid number"))),jp(r.label)?e.label=r.label:jp(e.label)||(e.label=void 0),$n(e,r,"smooth",i),$n(e,r,"shadow",i),$n(e,r,"background",i),r.dashes!==void 0&&r.dashes!==null?e.dashes=r.dashes:n===!0&&r.dashes===null&&(e.dashes=po(i.dashes)),r.scaling!==void 0&&r.scaling!==null?(r.scaling.min!==void 0&&(e.scaling.min=r.scaling.min),r.scaling.max!==void 0&&(e.scaling.max=r.scaling.max),$n(e.scaling,r.scaling,"label",i.scaling)):n===!0&&r.scaling===null&&(e.scaling=po(i.scaling)),r.arrows!==void 0&&r.arrows!==null)if(typeof r.arrows=="string"){const o=r.arrows.toLowerCase();e.arrows.to.enabled=Je(o).call(o,"to")!=-1,e.arrows.middle.enabled=Je(o).call(o,"middle")!=-1,e.arrows.from.enabled=Je(o).call(o,"from")!=-1}else if(typeof r.arrows=="object")$n(e.arrows,r.arrows,"to",i.arrows),$n(e.arrows,r.arrows,"middle",i.arrows),$n(e.arrows,r.arrows,"from",i.arrows);else throw new Error("The arrow newOptions can only be an object or a string. Refer to the documentation. You used:"+Eh(r.arrows));else n===!0&&r.arrows===null&&(e.arrows=po(i.arrows));if(r.color!==void 0&&r.color!==null){const o=ql(r.color)?{color:r.color,highlight:r.color,hover:r.color,inherit:!1,opacity:1}:r.color,l=e.color;if(s)dt(l,i.color,!1,n);else for(const c in l)Object.prototype.hasOwnProperty.call(l,c)&&delete l[c];if(ql(l))l.color=l,l.highlight=l,l.hover=l,l.inherit=!1,o.opacity===void 0&&(l.opacity=1);else{let c=!1;o.color!==void 0&&(l.color=o.color,c=!0),o.highlight!==void 0&&(l.highlight=o.highlight,c=!0),o.hover!==void 0&&(l.hover=o.hover,c=!0),o.inherit!==void 0&&(l.inherit=o.inherit),o.opacity!==void 0&&(l.opacity=Math.min(1,Math.max(0,o.opacity))),c===!0?l.inherit=!1:l.inherit===void 0&&(l.inherit="from")}}else n===!0&&r.color===null&&(e.color=ha(i.color));n===!0&&r.font===null&&(e.font=ha(i.font)),Object.prototype.hasOwnProperty.call(r,"selfReferenceSize")&&(console.warn("The selfReferenceSize property has been deprecated. Please use selfReference property instead. The selfReference can be set like thise selfReference:{size:30, angle:Math.PI / 4}"),e.selfReference.size=r.selfReferenceSize)}getFormattingValues(){const e=this.options.arrows.to===!0||this.options.arrows.to.enabled===!0,r=this.options.arrows.from===!0||this.options.arrows.from.enabled===!0,n=this.options.arrows.middle===!0||this.options.arrows.middle.enabled===!0,i=this.options.color.inherit,s={toArrow:e,toArrowScale:this.options.arrows.to.scaleFactor,toArrowType:this.options.arrows.to.type,toArrowSrc:this.options.arrows.to.src,toArrowImageWidth:this.options.arrows.to.imageWidth,toArrowImageHeight:this.options.arrows.to.imageHeight,middleArrow:n,middleArrowScale:this.options.arrows.middle.scaleFactor,middleArrowType:this.options.arrows.middle.type,middleArrowSrc:this.options.arrows.middle.src,middleArrowImageWidth:this.options.arrows.middle.imageWidth,middleArrowImageHeight:this.options.arrows.middle.imageHeight,fromArrow:r,fromArrowScale:this.options.arrows.from.scaleFactor,fromArrowType:this.options.arrows.from.type,fromArrowSrc:this.options.arrows.from.src,fromArrowImageWidth:this.options.arrows.from.imageWidth,fromArrowImageHeight:this.options.arrows.from.imageHeight,arrowStrikethrough:this.options.arrowStrikethrough,color:i?void 0:this.options.color.color,inheritsColor:i,opacity:this.options.color.opacity,hidden:this.options.hidden,length:this.options.length,shadow:this.options.shadow.enabled,shadowColor:this.options.shadow.color,shadowSize:this.options.shadow.size,shadowX:this.options.shadow.x,shadowY:this.options.shadow.y,dashes:this.options.dashes,width:this.options.width,background:this.options.background.enabled,backgroundColor:this.options.background.color,backgroundSize:this.options.background.size,backgroundDashes:this.options.background.dashes};if(this.selected||this.hover)if(this.chooser===!0){if(this.selected){const a=this.options.selectionWidth;typeof a=="function"?s.width=a(s.width):typeof a=="number"&&(s.width+=a),s.width=Math.max(s.width,.3/this.body.view.scale),s.color=this.options.color.highlight,s.shadow=this.options.shadow.enabled}else if(this.hover){const a=this.options.hoverWidth;typeof a=="function"?s.width=a(s.width):typeof a=="number"&&(s.width+=a),s.width=Math.max(s.width,.3/this.body.view.scale),s.color=this.options.color.hover,s.shadow=this.options.shadow.enabled}}else typeof this.chooser=="function"&&(this.chooser(s,this.options.id,this.selected,this.hover),s.color!==void 0&&(s.inheritsColor=!1),s.shadow===!1&&(s.shadowColor!==this.options.shadow.color||s.shadowSize!==this.options.shadow.size||s.shadowX!==this.options.shadow.x||s.shadowY!==this.options.shadow.y)&&(s.shadow=!0));else s.shadow=this.options.shadow.enabled,s.width=Math.max(s.width,.3/this.body.view.scale);return s}updateLabelModule(e){const r=[e,this.options,this.globalOptions,this.defaultOptions];this.labelModule.update(this.options,r),this.labelModule.baseSize!==void 0&&(this.baseFontSize=this.labelModule.baseSize)}updateEdgeType(){const e=this.options.smooth;let r=!1,n=!0;return this.edgeType!==void 0&&((this.edgeType instanceof nU&&e.enabled===!0&&e.type==="dynamic"||this.edgeType instanceof sU&&e.enabled===!0&&e.type==="cubicBezier"||this.edgeType instanceof iU&&e.enabled===!0&&e.type!=="dynamic"&&e.type!=="cubicBezier"||this.edgeType instanceof aU&&e.type.enabled===!1)&&(n=!1),n===!0&&(r=this.cleanup())),n===!0?e.enabled===!0?e.type==="dynamic"?(r=!0,this.edgeType=new nU(this.options,this.body,this.labelModule)):e.type==="cubicBezier"?this.edgeType=new sU(this.options,this.body,this.labelModule):this.edgeType=new iU(this.options,this.body,this.labelModule):this.edgeType=new aU(this.options,this.body,this.labelModule):this.edgeType.setOptions(this.options),r}connect(){this.disconnect(),this.from=this.body.nodes[this.fromId]||void 0,this.to=this.body.nodes[this.toId]||void 0,this.connected=this.from!==void 0&&this.to!==void 0,this.connected===!0?(this.from.attachEdge(this),this.to.attachEdge(this)):(this.from&&this.from.detachEdge(this),this.to&&this.to.detachEdge(this)),this.edgeType.connect()}disconnect(){this.from&&(this.from.detachEdge(this),this.from=void 0),this.to&&(this.to.detachEdge(this),this.to=void 0),this.connected=!1}getTitle(){return this.title}isSelected(){return this.selected}getValue(){return this.options.value}setValueRange(e,r,n){if(this.options.value!==void 0){const i=this.options.scaling.customScalingFunction(e,r,n,this.options.value),s=this.options.scaling.max-this.options.scaling.min;if(this.options.scaling.label.enabled===!0){const a=this.options.scaling.label.max-this.options.scaling.label.min;this.options.font.size=this.options.scaling.label.min+i*a}this.options.width=this.options.scaling.min+i*s}else this.options.width=this.baseWidth,this.options.font.size=this.baseFontSize;this._setInteractionWidths(),this.updateLabelModule()}_setInteractionWidths(){typeof this.options.hoverWidth=="function"?this.edgeType.hoverWidth=this.options.hoverWidth(this.options.width):this.edgeType.hoverWidth=this.options.hoverWidth+this.options.width,typeof this.options.selectionWidth=="function"?this.edgeType.selectionWidth=this.options.selectionWidth(this.options.width):this.edgeType.selectionWidth=this.options.selectionWidth+this.options.width}draw(e){const r=this.getFormattingValues();if(r.hidden)return;const n=this.edgeType.getViaNode();this.edgeType.drawLine(e,r,this.selected,this.hover,n),this.drawLabel(e,n)}drawArrows(e){const r=this.getFormattingValues();if(r.hidden)return;const n=this.edgeType.getViaNode(),i={};this.edgeType.fromPoint=this.edgeType.from,this.edgeType.toPoint=this.edgeType.to,r.fromArrow&&(i.from=this.edgeType.getArrowData(e,"from",n,this.selected,this.hover,r),r.arrowStrikethrough===!1&&(this.edgeType.fromPoint=i.from.core),r.fromArrowSrc&&(i.from.image=this.imagelist.load(r.fromArrowSrc)),r.fromArrowImageWidth&&(i.from.imageWidth=r.fromArrowImageWidth),r.fromArrowImageHeight&&(i.from.imageHeight=r.fromArrowImageHeight)),r.toArrow&&(i.to=this.edgeType.getArrowData(e,"to",n,this.selected,this.hover,r),r.arrowStrikethrough===!1&&(this.edgeType.toPoint=i.to.core),r.toArrowSrc&&(i.to.image=this.imagelist.load(r.toArrowSrc)),r.toArrowImageWidth&&(i.to.imageWidth=r.toArrowImageWidth),r.toArrowImageHeight&&(i.to.imageHeight=r.toArrowImageHeight)),r.middleArrow&&(i.middle=this.edgeType.getArrowData(e,"middle",n,this.selected,this.hover,r),r.middleArrowSrc&&(i.middle.image=this.imagelist.load(r.middleArrowSrc)),r.middleArrowImageWidth&&(i.middle.imageWidth=r.middleArrowImageWidth),r.middleArrowImageHeight&&(i.middle.imageHeight=r.middleArrowImageHeight)),r.fromArrow&&this.edgeType.drawArrowHead(e,r,this.selected,this.hover,i.from),r.middleArrow&&this.edgeType.drawArrowHead(e,r,this.selected,this.hover,i.middle),r.toArrow&&this.edgeType.drawArrowHead(e,r,this.selected,this.hover,i.to)}drawLabel(e,r){if(this.options.label!==void 0){const n=this.from,i=this.to;this.labelModule.differentState(this.selected,this.hover)&&this.labelModule.getTextSize(e,this.selected,this.hover);let s;if(n.id!=i.id){this.labelModule.pointToSelf=!1,s=this.edgeType.getPoint(.5,r),e.save();const a=this._getRotation(e);a.angle!=0&&(e.translate(a.x,a.y),e.rotate(a.angle)),this.labelModule.draw(e,s.x,s.y,this.selected,this.hover),e.restore()}else{this.labelModule.pointToSelf=!0;const a=bQ(e,this.options.selfReference.angle,this.options.selfReference.size,n);s=this._pointOnCircle(a.x,a.y,this.options.selfReference.size,this.options.selfReference.angle),this.labelModule.draw(e,s.x,s.y,this.selected,this.hover)}}}getItemsOnPoint(e){const r=[];if(this.labelModule.visible()){const i=this._getRotation();FO(this.labelModule.getSize(),e,i)&&r.push({edgeId:this.id,labelId:0})}const n={left:e.x,top:e.y};return this.isOverlappingWith(n)&&r.push({edgeId:this.id}),r}isOverlappingWith(e){if(this.connected){const n=this.from.x,i=this.from.y,s=this.to.x,a=this.to.y,o=e.left,l=e.top;return this.edgeType.getDistanceToEdge(n,i,s,a,o,l)<10}else return!1}_getRotation(e){const r=this.edgeType.getViaNode(),n=this.edgeType.getPoint(.5,r);e!==void 0&&this.labelModule.calculateLabelSize(e,this.selected,this.hover,n.x,n.y);const i={x:n.x,y:this.labelModule.size.yLine,angle:0};if(!this.labelModule.visible()||this.options.font.align==="horizontal")return i;const s=this.from.y-this.to.y,a=this.from.x-this.to.x;let o=Math.atan2(s,a);return(o<-1&&a<0||o>0&&a<0)&&(o+=Math.PI),i.angle=o,i}_pointOnCircle(e,r,n,i){return{x:e+n*Math.cos(i),y:r-n*Math.sin(i)}}select(){this.selected=!0}unselect(){this.selected=!1}cleanup(){return this.edgeType.cleanup()}remove(){this.cleanup(),this.disconnect(),delete this.body.edges[this.id]}endPointsValid(){return this.body.nodes[this.fromId]!==void 0&&this.body.nodes[this.toId]!==void 0}}class dbe{constructor(e,r,n){var i;this.body=e,this.images=r,this.groups=n,this.body.functions.createEdge=Z(i=this.create).call(i,this),this.edgesListeners={add:(s,a)=>{this.add(a.items)},update:(s,a)=>{this.update(a.items)},remove:(s,a)=>{this.remove(a.items)}},this.options={},this.defaultOptions={arrows:{to:{enabled:!1,scaleFactor:1,type:"arrow"},middle:{enabled:!1,scaleFactor:1,type:"arrow"},from:{enabled:!1,scaleFactor:1,type:"arrow"}},endPointOffset:{from:0,to:0},arrowStrikethrough:!0,color:{color:"#848484",highlight:"#848484",hover:"#848484",inherit:"from",opacity:1},dashes:!1,font:{color:"#343434",size:14,face:"arial",background:"none",strokeWidth:2,strokeColor:"#ffffff",align:"horizontal",multi:!1,vadjust:0,bold:{mod:"bold"},boldital:{mod:"bold italic"},ital:{mod:"italic"},mono:{mod:"",size:15,face:"courier new",vadjust:2}},hidden:!1,hoverWidth:1.5,label:void 0,labelHighlightBold:!0,length:void 0,physics:!0,scaling:{min:1,max:15,label:{enabled:!0,min:14,max:30,maxVisible:30,drawThreshold:5},customScalingFunction:function(s,a,o,l){if(a===s)return .5;{const c=1/(a-s);return Math.max(0,(l-s)*c)}}},selectionWidth:1.5,selfReference:{size:20,angle:Math.PI/4,renderBehindTheNode:!0},shadow:{enabled:!1,color:"rgba(0,0,0,0.5)",size:10,x:5,y:5},background:{enabled:!1,color:"rgba(111,111,111,1)",size:10,dashes:!1},smooth:{enabled:!0,type:"dynamic",forceDirection:"none",roundness:.5},title:void 0,width:1,value:void 0},dt(this.options,this.defaultOptions),this.bindEventListeners()}bindEventListeners(){var e=this,r,n;this.body.emitter.on("_forceDisableDynamicCurves",function(i){let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;i==="dynamic"&&(i="continuous");let a=!1;for(const o in e.body.edges)if(Object.prototype.hasOwnProperty.call(e.body.edges,o)){const l=e.body.edges[o],c=e.body.data.edges.get(o);if(c!=null){const d=c.smooth;d!==void 0&&d.enabled===!0&&d.type==="dynamic"&&(i===void 0?l.setOptions({smooth:!1}):l.setOptions({smooth:{type:i}}),a=!0)}}s===!0&&a===!0&&e.body.emitter.emit("_dataChanged")}),this.body.emitter.on("_dataUpdated",()=>{this.reconnectEdges()}),this.body.emitter.on("refreshEdges",Z(r=this.refresh).call(r,this)),this.body.emitter.on("refresh",Z(n=this.refresh).call(n,this)),this.body.emitter.on("destroy",()=>{De(this.edgesListeners,(i,s)=>{this.body.data.edges&&this.body.data.edges.off(s,i)}),delete this.body.functions.createEdge,delete this.edgesListeners.add,delete this.edgesListeners.update,delete this.edgesListeners.remove,delete this.edgesListeners})}setOptions(e){if(e!==void 0){fa.parseOptions(this.options,e,!0,this.defaultOptions,!0);let r=!1;if(e.smooth!==void 0)for(const n in this.body.edges)Object.prototype.hasOwnProperty.call(this.body.edges,n)&&(r=this.body.edges[n].updateEdgeType()||r);if(e.font!==void 0)for(const n in this.body.edges)Object.prototype.hasOwnProperty.call(this.body.edges,n)&&this.body.edges[n].updateLabelModule();(e.hidden!==void 0||e.physics!==void 0||r===!0)&&this.body.emitter.emit("_dataChanged")}}setData(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;const n=this.body.data.edges;if(XG("id",e))this.body.data.edges=e;else if(Dt(e))this.body.data.edges=new yu,this.body.data.edges.add(e);else if(!e)this.body.data.edges=new yu;else throw new TypeError("Array or DataSet expected");if(n&&De(this.edgesListeners,(i,s)=>{n.off(s,i)}),this.body.edges={},this.body.data.edges){De(this.edgesListeners,(s,a)=>{this.body.data.edges.on(a,s)});const i=this.body.data.edges.getIds();this.add(i,!0)}this.body.emitter.emit("_adjustEdgesForHierarchicalLayout"),r===!1&&this.body.emitter.emit("_dataChanged")}add(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;const n=this.body.edges,i=this.body.data.edges;for(let s=0;s<e.length;s++){const a=e[s],o=n[a];o&&o.disconnect();const l=i.get(a,{showInternalIds:!0});n[a]=this.create(l)}this.body.emitter.emit("_adjustEdgesForHierarchicalLayout"),r===!1&&this.body.emitter.emit("_dataChanged")}update(e){const r=this.body.edges,n=this.body.data.edges;let i=!1;for(let s=0;s<e.length;s++){const a=e[s],o=n.get(a),l=r[a];l!==void 0?(l.disconnect(),i=l.setOptions(o)||i,l.connect()):(this.body.edges[a]=this.create(o),i=!0)}i===!0?(this.body.emitter.emit("_adjustEdgesForHierarchicalLayout"),this.body.emitter.emit("_dataChanged")):this.body.emitter.emit("_dataUpdated")}remove(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(e.length===0)return;const n=this.body.edges;De(e,i=>{const s=n[i];s!==void 0&&s.remove()}),r&&this.body.emitter.emit("_dataChanged")}refresh(){De(this.body.edges,(e,r)=>{const n=this.body.data.edges.get(r);n!==void 0&&e.setOptions(n)})}create(e){return new fa(e,this.body,this.images,this.options,this.defaultOptions)}reconnectEdges(){let e;const r=this.body.nodes,n=this.body.edges;for(e in r)Object.prototype.hasOwnProperty.call(r,e)&&(r[e].edges=[]);for(e in n)if(Object.prototype.hasOwnProperty.call(n,e)){const i=n[e];i.from=null,i.to=null,i.connect()}}getConnectedNodes(e){const r=[];if(this.body.edges[e]!==void 0){const n=this.body.edges[e];n.fromId!==void 0&&r.push(n.fromId),n.toId!==void 0&&r.push(n.toId)}return r}_updateState(){this._addMissingEdges(),this._removeInvalidEdges()}_removeInvalidEdges(){const e=[];De(this.body.edges,(r,n)=>{const i=this.body.nodes[r.toId],s=this.body.nodes[r.fromId];i!==void 0&&i.isCluster===!0||s!==void 0&&s.isCluster===!0||(i===void 0||s===void 0)&&e.push(n)}),this.remove(e,!1)}_addMissingEdges(){const e=this.body.data.edges;if(e==null)return;const r=this.body.edges,n=[];at(e).call(e,(i,s)=>{r[s]===void 0&&n.push(s)}),this.add(n,!0)}}class SQ{constructor(e,r,n){this.body=e,this.physicsBody=r,this.barnesHutTree,this.setOptions(n),this._rng=Dm("BARNES HUT SOLVER")}setOptions(e){this.options=e,this.thetaInversed=1/this.options.theta,this.overlapAvoidanceFactor=1-Math.max(0,Math.min(1,this.options.avoidOverlap))}solve(){if(this.options.gravitationalConstant!==0&&this.physicsBody.physicsNodeIndices.length>0){let e;const r=this.body.nodes,n=this.physicsBody.physicsNodeIndices,i=n.length,s=this._formBarnesHutTree(r,n);this.barnesHutTree=s;for(let a=0;a<i;a++)e=r[n[a]],e.options.mass>0&&this._getForceContributions(s.root,e)}}_getForceContributions(e,r){this._getForceContribution(e.children.NW,r),this._getForceContribution(e.children.NE,r),this._getForceContribution(e.children.SW,r),this._getForceContribution(e.children.SE,r)}_getForceContribution(e,r){if(e.childrenCount>0){const n=e.centerOfMass.x-r.x,i=e.centerOfMass.y-r.y,s=Math.sqrt(n*n+i*i);s*e.calcSize>this.thetaInversed?this._calculateForces(s,n,i,r,e):e.childrenCount===4?this._getForceContributions(e,r):e.children.data.id!=r.id&&this._calculateForces(s,n,i,r,e)}}_calculateForces(e,r,n,i,s){e===0&&(e=.1,r=e),this.overlapAvoidanceFactor<1&&i.shape.radius&&(e=Math.max(.1+this.overlapAvoidanceFactor*i.shape.radius,e-i.shape.radius));const a=this.options.gravitationalConstant*s.mass*i.options.mass/Math.pow(e,3),o=r*a,l=n*a;this.physicsBody.forces[i.id].x+=o,this.physicsBody.forces[i.id].y+=l}_formBarnesHutTree(e,r){let n;const i=r.length;let s=e[r[0]].x,a=e[r[0]].y,o=e[r[0]].x,l=e[r[0]].y;for(let x=1;x<i;x++){const g=e[r[x]],v=g.x,w=g.y;g.options.mass>0&&(v<s&&(s=v),v>o&&(o=v),w<a&&(a=w),w>l&&(l=w))}const c=Math.abs(o-s)-Math.abs(l-a);c>0?(a-=.5*c,l+=.5*c):(s+=.5*c,o-=.5*c);const h=Math.max(1e-5,Math.abs(o-s)),f=.5*h,p=.5*(s+o),m=.5*(a+l),y={root:{centerOfMass:{x:0,y:0},mass:0,range:{minX:p-f,maxX:p+f,minY:m-f,maxY:m+f},size:h,calcSize:1/h,children:{data:null},maxWidth:0,level:0,childrenCount:4}};this._splitBranch(y.root);for(let x=0;x<i;x++)n=e[r[x]],n.options.mass>0&&this._placeInTree(y.root,n);return y}_updateBranchMass(e,r){const n=e.centerOfMass,i=e.mass+r.options.mass,s=1/i;n.x=n.x*e.mass+r.x*r.options.mass,n.x*=s,n.y=n.y*e.mass+r.y*r.options.mass,n.y*=s,e.mass=i;const a=Math.max(Math.max(r.height,r.radius),r.width);e.maxWidth=e.maxWidth<a?a:e.maxWidth}_placeInTree(e,r,n){(n!=!0||n===void 0)&&this._updateBranchMass(e,r);const i=e.children.NW.range;let s;i.maxX>r.x?i.maxY>r.y?s="NW":s="SW":i.maxY>r.y?s="NE":s="SE",this._placeInRegion(e,r,s)}_placeInRegion(e,r,n){const i=e.children[n];switch(i.childrenCount){case 0:i.children.data=r,i.childrenCount=1,this._updateBranchMass(i,r);break;case 1:i.children.data.x===r.x&&i.children.data.y===r.y?(r.x+=this._rng(),r.y+=this._rng()):(this._splitBranch(i),this._placeInTree(i,r));break;case 4:this._placeInTree(i,r);break}}_splitBranch(e){let r=null;e.childrenCount===1&&(r=e.children.data,e.mass=0,e.centerOfMass.x=0,e.centerOfMass.y=0),e.childrenCount=4,e.children.data=null,this._insertRegion(e,"NW"),this._insertRegion(e,"NE"),this._insertRegion(e,"SW"),this._insertRegion(e,"SE"),r!=null&&this._placeInTree(e,r)}_insertRegion(e,r){let n,i,s,a;const o=.5*e.size;switch(r){case"NW":n=e.range.minX,i=e.range.minX+o,s=e.range.minY,a=e.range.minY+o;break;case"NE":n=e.range.minX+o,i=e.range.maxX,s=e.range.minY,a=e.range.minY+o;break;case"SW":n=e.range.minX,i=e.range.minX+o,s=e.range.minY+o,a=e.range.maxY;break;case"SE":n=e.range.minX+o,i=e.range.maxX,s=e.range.minY+o,a=e.range.maxY;break}e.children[r]={centerOfMass:{x:0,y:0},mass:0,range:{minX:n,maxX:i,minY:s,maxY:a},size:.5*e.size,calcSize:2*e.calcSize,children:{data:null},maxWidth:0,level:e.level+1,childrenCount:0}}_debug(e,r){this.barnesHutTree!==void 0&&(e.lineWidth=1,this._drawBranch(this.barnesHutTree.root,e,r))}_drawBranch(e,r,n){n===void 0&&(n="#FF0000"),e.childrenCount===4&&(this._drawBranch(e.children.NW,r),this._drawBranch(e.children.NE,r),this._drawBranch(e.children.SE,r),this._drawBranch(e.children.SW,r)),r.strokeStyle=n,r.beginPath(),r.moveTo(e.range.minX,e.range.minY),r.lineTo(e.range.maxX,e.range.minY),r.stroke(),r.beginPath(),r.moveTo(e.range.maxX,e.range.minY),r.lineTo(e.range.maxX,e.range.maxY),r.stroke(),r.beginPath(),r.moveTo(e.range.maxX,e.range.maxY),r.lineTo(e.range.minX,e.range.maxY),r.stroke(),r.beginPath(),r.moveTo(e.range.minX,e.range.maxY),r.lineTo(e.range.minX,e.range.minY),r.stroke()}}class hbe{constructor(e,r,n){this._rng=Dm("REPULSION SOLVER"),this.body=e,this.physicsBody=r,this.setOptions(n)}setOptions(e){this.options=e}solve(){let e,r,n,i,s,a,o,l;const c=this.body.nodes,d=this.physicsBody.physicsNodeIndices,h=this.physicsBody.forces,f=this.options.nodeDistance,p=-2/3/f,m=4/3;for(let y=0;y<d.length-1;y++){o=c[d[y]];for(let x=y+1;x<d.length;x++)l=c[d[x]],e=l.x-o.x,r=l.y-o.y,n=Math.sqrt(e*e+r*r),n===0&&(n=.1*this._rng(),e=n),n<2*f&&(n<.5*f?a=1:a=p*n+m,a=a/n,i=e*a,s=r*a,h[o.id].x-=i,h[o.id].y-=s,h[l.id].x+=i,h[l.id].y+=s)}}}class fbe{constructor(e,r,n){this.body=e,this.physicsBody=r,this.setOptions(n)}setOptions(e){this.options=e,this.overlapAvoidanceFactor=Math.max(0,Math.min(1,this.options.avoidOverlap||0))}solve(){const e=this.body.nodes,r=this.physicsBody.physicsNodeIndices,n=this.physicsBody.forces,i=this.options.nodeDistance;for(let s=0;s<r.length-1;s++){const a=e[r[s]];for(let o=s+1;o<r.length;o++){const l=e[r[o]];if(a.level===l.level){const c=i+this.overlapAvoidanceFactor*((a.shape.radius||0)/2+(l.shape.radius||0)/2),d=l.x-a.x,h=l.y-a.y,f=Math.sqrt(d*d+h*h),p=.05;let m;f<c?m=-Math.pow(p*f,2)+Math.pow(p*c,2):m=0,f!==0&&(m=m/f);const y=d*m,x=h*m;n[a.id].x-=y,n[a.id].y-=x,n[l.id].x+=y,n[l.id].y+=x}}}}}class e2{constructor(e,r,n){this.body=e,this.physicsBody=r,this.setOptions(n)}setOptions(e){this.options=e}solve(){let e,r;const n=this.physicsBody.physicsEdgeIndices,i=this.body.edges;let s,a,o;for(let l=0;l<n.length;l++)r=i[n[l]],r.connected===!0&&r.toId!==r.fromId&&this.body.nodes[r.toId]!==void 0&&this.body.nodes[r.fromId]!==void 0&&(r.edgeType.via!==void 0?(e=r.options.length===void 0?this.options.springLength:r.options.length,s=r.to,a=r.edgeType.via,o=r.from,this._calculateSpringForce(s,a,.5*e),this._calculateSpringForce(a,o,.5*e)):(e=r.options.length===void 0?this.options.springLength*1.5:r.options.length,this._calculateSpringForce(r.from,r.to,e)))}_calculateSpringForce(e,r,n){const i=e.x-r.x,s=e.y-r.y,a=Math.max(Math.sqrt(i*i+s*s),.01),o=this.options.springConstant*(n-a)/a,l=i*o,c=s*o;this.physicsBody.forces[e.id]!==void 0&&(this.physicsBody.forces[e.id].x+=l,this.physicsBody.forces[e.id].y+=c),this.physicsBody.forces[r.id]!==void 0&&(this.physicsBody.forces[r.id].x-=l,this.physicsBody.forces[r.id].y-=c)}}class pbe{constructor(e,r,n){this.body=e,this.physicsBody=r,this.setOptions(n)}setOptions(e){this.options=e}solve(){let e,r,n,i,s,a,o,l;const c=this.body.edges,d=.5,h=this.physicsBody.physicsEdgeIndices,f=this.physicsBody.physicsNodeIndices,p=this.physicsBody.forces;for(let b=0;b<f.length;b++){const _=f[b];p[_].springFx=0,p[_].springFy=0}for(let b=0;b<h.length;b++)r=c[h[b]],r.connected===!0&&(e=r.options.length===void 0?this.options.springLength:r.options.length,n=r.from.x-r.to.x,i=r.from.y-r.to.y,l=Math.sqrt(n*n+i*i),l=l===0?.01:l,o=this.options.springConstant*(e-l)/l,s=n*o,a=i*o,r.to.level!=r.from.level?(p[r.toId]!==void 0&&(p[r.toId].springFx-=s,p[r.toId].springFy-=a),p[r.fromId]!==void 0&&(p[r.fromId].springFx+=s,p[r.fromId].springFy+=a)):(p[r.toId]!==void 0&&(p[r.toId].x-=d*s,p[r.toId].y-=d*a),p[r.fromId]!==void 0&&(p[r.fromId].x+=d*s,p[r.fromId].y+=d*a)));o=1;let m,y;for(let b=0;b<f.length;b++){const _=f[b];m=Math.min(o,Math.max(-o,p[_].springFx)),y=Math.min(o,Math.max(-o,p[_].springFy)),p[_].x+=m,p[_].y+=y}let x=0,g=0;for(let b=0;b<f.length;b++){const _=f[b];x+=p[_].x,g+=p[_].y}const v=x/f.length,w=g/f.length;for(let b=0;b<f.length;b++){const _=f[b];p[_].x-=v,p[_].y-=w}}}class kf{constructor(e,r,n){this.body=e,this.physicsBody=r,this.setOptions(n)}setOptions(e){this.options=e}solve(){let e,r,n,i;const s=this.body.nodes,a=this.physicsBody.physicsNodeIndices,o=this.physicsBody.forces;for(let l=0;l<a.length;l++){const c=a[l];i=s[c],e=-i.x,r=-i.y,n=Math.sqrt(e*e+r*r),this._calculateForces(n,e,r,o,i)}}_calculateForces(e,r,n,i,s){const a=e===0?0:this.options.centralGravity/e;i[s.id].x=r*a,i[s.id].y=n*a}}class mbe extends SQ{constructor(e,r,n){super(e,r,n),this._rng=Dm("FORCE ATLAS 2 BASED REPULSION SOLVER")}_calculateForces(e,r,n,i,s){e===0&&(e=.1*this._rng(),r=e),this.overlapAvoidanceFactor<1&&i.shape.radius&&(e=Math.max(.1+this.overlapAvoidanceFactor*i.shape.radius,e-i.shape.radius));const a=i.edges.length+1,o=this.options.gravitationalConstant*s.mass*i.options.mass*a/Math.pow(e,2),l=r*o,c=n*o;this.physicsBody.forces[i.id].x+=l,this.physicsBody.forces[i.id].y+=c}}class vbe extends kf{constructor(e,r,n){super(e,r,n)}_calculateForces(e,r,n,i,s){if(e>0){const a=s.edges.length+1,o=this.options.centralGravity*a*s.options.mass;i[s.id].x=r*o,i[s.id].y=n*o}}}class gbe{constructor(e){this.body=e,this.physicsBody={physicsNodeIndices:[],physicsEdgeIndices:[],forces:{},velocities:{}},this.physicsEnabled=!0,this.simulationInterval=1e3/60,this.requiresTimeout=!0,this.previousStates={},this.referenceState={},this.freezeCache={},this.renderTimer=void 0,this.adaptiveTimestep=!1,this.adaptiveTimestepEnabled=!1,this.adaptiveCounter=0,this.adaptiveInterval=3,this.stabilized=!1,this.startedStabilization=!1,this.stabilizationIterations=0,this.ready=!1,this.options={},this.defaultOptions={enabled:!0,barnesHut:{theta:.5,gravitationalConstant:-2e3,centralGravity:.3,springLength:95,springConstant:.04,damping:.09,avoidOverlap:0},forceAtlas2Based:{theta:.5,gravitationalConstant:-50,centralGravity:.01,springConstant:.08,springLength:100,damping:.4,avoidOverlap:0},repulsion:{centralGravity:.2,springLength:200,springConstant:.05,nodeDistance:100,damping:.09,avoidOverlap:0},hierarchicalRepulsion:{centralGravity:0,springLength:100,springConstant:.01,nodeDistance:120,damping:.09},maxVelocity:50,minVelocity:.75,solver:"barnesHut",stabilization:{enabled:!0,iterations:1e3,updateInterval:50,onlyDynamicEdges:!1,fit:!0},timestep:.5,adaptiveTimestep:!0,wind:{x:0,y:0}},Ht(this.options,this.defaultOptions),this.timestep=.5,this.layoutFailed=!1,this.bindEventListeners()}bindEventListeners(){this.body.emitter.on("initPhysics",()=>{this.initPhysics()}),this.body.emitter.on("_layoutFailed",()=>{this.layoutFailed=!0}),this.body.emitter.on("resetPhysics",()=>{this.stopSimulation(),this.ready=!1}),this.body.emitter.on("disablePhysics",()=>{this.physicsEnabled=!1,this.stopSimulation()}),this.body.emitter.on("restorePhysics",()=>{this.setOptions(this.options),this.ready===!0&&this.startSimulation()}),this.body.emitter.on("startSimulation",()=>{this.ready===!0&&this.startSimulation()}),this.body.emitter.on("stopSimulation",()=>{this.stopSimulation()}),this.body.emitter.on("destroy",()=>{this.stopSimulation(!1),this.body.emitter.off()}),this.body.emitter.on("_dataChanged",()=>{this.updatePhysicsData()})}setOptions(e){if(e!==void 0)if(e===!1)this.options.enabled=!1,this.physicsEnabled=!1,this.stopSimulation();else if(e===!0)this.options.enabled=!0,this.physicsEnabled=!0,this.startSimulation();else{this.physicsEnabled=!0,Pp(["stabilization"],this.options,e),$n(this.options,e,"stabilization"),e.enabled===void 0&&(this.options.enabled=!0),this.options.enabled===!1&&(this.physicsEnabled=!1,this.stopSimulation());const r=this.options.wind;r&&((typeof r.x!="number"||AO(r.x))&&(r.x=0),(typeof r.y!="number"||AO(r.y))&&(r.y=0)),this.timestep=this.options.timestep}this.init()}init(){let e;this.options.solver==="forceAtlas2Based"?(e=this.options.forceAtlas2Based,this.nodesSolver=new mbe(this.body,this.physicsBody,e),this.edgesSolver=new e2(this.body,this.physicsBody,e),this.gravitySolver=new vbe(this.body,this.physicsBody,e)):this.options.solver==="repulsion"?(e=this.options.repulsion,this.nodesSolver=new hbe(this.body,this.physicsBody,e),this.edgesSolver=new e2(this.body,this.physicsBody,e),this.gravitySolver=new kf(this.body,this.physicsBody,e)):this.options.solver==="hierarchicalRepulsion"?(e=this.options.hierarchicalRepulsion,this.nodesSolver=new fbe(this.body,this.physicsBody,e),this.edgesSolver=new pbe(this.body,this.physicsBody,e),this.gravitySolver=new kf(this.body,this.physicsBody,e)):(e=this.options.barnesHut,this.nodesSolver=new SQ(this.body,this.physicsBody,e),this.edgesSolver=new e2(this.body,this.physicsBody,e),this.gravitySolver=new kf(this.body,this.physicsBody,e)),this.modelOptions=e}initPhysics(){this.physicsEnabled===!0&&this.options.enabled===!0?this.options.stabilization.enabled===!0?this.stabilize():(this.stabilized=!1,this.ready=!0,this.body.emitter.emit("fit",{},this.layoutFailed),this.startSimulation()):(this.ready=!0,this.body.emitter.emit("fit"))}startSimulation(){if(this.physicsEnabled===!0&&this.options.enabled===!0){if(this.stabilized=!1,this.adaptiveTimestep=!1,this.body.emitter.emit("_resizeNodes"),this.viewFunction===void 0){var e;this.viewFunction=Z(e=this.simulationStep).call(e,this),this.body.emitter.on("initRedraw",this.viewFunction),this.body.emitter.emit("_startRendering")}}else this.body.emitter.emit("_redraw")}stopSimulation(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.stabilized=!0,e===!0&&this._emitStabilized(),this.viewFunction!==void 0&&(this.body.emitter.off("initRedraw",this.viewFunction),this.viewFunction=void 0,e===!0&&this.body.emitter.emit("_stopRendering"))}simulationStep(){const e=Ep();this.physicsTick(),(Ep()-e<.4*this.simulationInterval||this.runDoubleSpeed===!0)&&this.stabilized===!1&&(this.physicsTick(),this.runDoubleSpeed=!0),this.stabilized===!0&&this.stopSimulation()}_emitStabilized(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.stabilizationIterations;(this.stabilizationIterations>1||this.startedStabilization===!0)&&as(()=>{this.body.emitter.emit("stabilized",{iterations:e}),this.startedStabilization=!1,this.stabilizationIterations=0},0)}physicsStep(){this.gravitySolver.solve(),this.nodesSolver.solve(),this.edgesSolver.solve(),this.moveNodes()}adjustTimeStep(){this._evaluateStepQuality()===!0?this.timestep=1.2*this.timestep:this.timestep/1.2<this.options.timestep?this.timestep=this.options.timestep:(this.adaptiveCounter=-1,this.timestep=Math.max(this.options.timestep,this.timestep/1.2))}physicsTick(){this._startStabilizing(),this.stabilized!==!0&&(this.adaptiveTimestep===!0&&this.adaptiveTimestepEnabled===!0?(this.adaptiveCounter%this.adaptiveInterval===0?(this.timestep=2*this.timestep,this.physicsStep(),this.revert(),this.timestep=.5*this.timestep,this.physicsStep(),this.physicsStep(),this.adjustTimeStep()):this.physicsStep(),this.adaptiveCounter+=1):(this.timestep=this.options.timestep,this.physicsStep()),this.stabilized===!0&&this.revert(),this.stabilizationIterations++)}updatePhysicsData(){this.physicsBody.forces={},this.physicsBody.physicsNodeIndices=[],this.physicsBody.physicsEdgeIndices=[];const e=this.body.nodes,r=this.body.edges;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&e[n].options.physics===!0&&this.physicsBody.physicsNodeIndices.push(e[n].id);for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&r[n].options.physics===!0&&this.physicsBody.physicsEdgeIndices.push(r[n].id);for(let n=0;n<this.physicsBody.physicsNodeIndices.length;n++){const i=this.physicsBody.physicsNodeIndices[n];this.physicsBody.forces[i]={x:0,y:0},this.physicsBody.velocities[i]===void 0&&(this.physicsBody.velocities[i]={x:0,y:0})}for(const n in this.physicsBody.velocities)e[n]===void 0&&delete this.physicsBody.velocities[n]}revert(){const e=Rt(this.previousStates),r=this.body.nodes,n=this.physicsBody.velocities;this.referenceState={};for(let i=0;i<e.length;i++){const s=e[i];r[s]!==void 0?r[s].options.physics===!0&&(this.referenceState[s]={positions:{x:r[s].x,y:r[s].y}},n[s].x=this.previousStates[s].vx,n[s].y=this.previousStates[s].vy,r[s].x=this.previousStates[s].x,r[s].y=this.previousStates[s].y):delete this.previousStates[s]}}_evaluateStepQuality(){let e,r,n;const i=this.body.nodes,s=this.referenceState,a=.3;for(const o in this.referenceState)if(Object.prototype.hasOwnProperty.call(this.referenceState,o)&&i[o]!==void 0&&(e=i[o].x-s[o].positions.x,r=i[o].y-s[o].positions.y,n=Math.sqrt(Math.pow(e,2)+Math.pow(r,2)),n>a))return!1;return!0}moveNodes(){const e=this.physicsBody.physicsNodeIndices;let r=0,n=0;const i=5;for(let s=0;s<e.length;s++){const a=e[s],o=this._performStep(a);r=Math.max(r,o),n+=o}this.adaptiveTimestepEnabled=n/e.length<i,this.stabilized=r<this.options.minVelocity}calculateComponentVelocity(e,r,n){const i=this.modelOptions.damping*e,s=(r-i)/n;e+=s*this.timestep;const a=this.options.maxVelocity||1e9;return Math.abs(e)>a&&(e=e>0?a:-a),e}_performStep(e){const r=this.body.nodes[e],n=this.physicsBody.forces[e];this.options.wind&&(n.x+=this.options.wind.x,n.y+=this.options.wind.y);const i=this.physicsBody.velocities[e];return this.previousStates[e]={x:r.x,y:r.y,vx:i.x,vy:i.y},r.options.fixed.x===!1?(i.x=this.calculateComponentVelocity(i.x,n.x,r.options.mass),r.x+=i.x*this.timestep):(n.x=0,i.x=0),r.options.fixed.y===!1?(i.y=this.calculateComponentVelocity(i.y,n.y,r.options.mass),r.y+=i.y*this.timestep):(n.y=0,i.y=0),Math.sqrt(Math.pow(i.x,2)+Math.pow(i.y,2))}_freezeNodes(){const e=this.body.nodes;for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&e[r].x&&e[r].y){const n=e[r].options.fixed;this.freezeCache[r]={x:n.x,y:n.y},n.x=!0,n.y=!0}}_restoreFrozenNodes(){const e=this.body.nodes;for(const r in e)Object.prototype.hasOwnProperty.call(e,r)&&this.freezeCache[r]!==void 0&&(e[r].options.fixed.x=this.freezeCache[r].x,e[r].options.fixed.y=this.freezeCache[r].y);this.freezeCache={}}stabilize(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.options.stabilization.iterations;if(typeof e!="number"&&(e=this.options.stabilization.iterations,console.error("The stabilize method needs a numeric amount of iterations. Switching to default: ",e)),this.physicsBody.physicsNodeIndices.length===0){this.ready=!0;return}this.adaptiveTimestep=this.options.adaptiveTimestep,this.body.emitter.emit("_resizeNodes"),this.stopSimulation(),this.stabilized=!1,this.body.emitter.emit("_blockRedraw"),this.targetIterations=e,this.options.stabilization.onlyDynamicEdges===!0&&this._freezeNodes(),this.stabilizationIterations=0,as(()=>this._stabilizationBatch(),0)}_startStabilizing(){return this.startedStabilization===!0?!1:(this.body.emitter.emit("startStabilizing"),this.startedStabilization=!0,!0)}_stabilizationBatch(){const e=()=>this.stabilized===!1&&this.stabilizationIterations<this.targetIterations,r=()=>{this.body.emitter.emit("stabilizationProgress",{iterations:this.stabilizationIterations,total:this.targetIterations})};this._startStabilizing()&&r();let n=0;for(;e()&&n<this.options.stabilization.updateInterval;)this.physicsTick(),n++;if(r(),e()){var i;as(Z(i=this._stabilizationBatch).call(i,this),0)}else this._finalizeStabilization()}_finalizeStabilization(){this.body.emitter.emit("_allowRedraw"),this.options.stabilization.fit===!0&&this.body.emitter.emit("fit"),this.options.stabilization.onlyDynamicEdges===!0&&this._restoreFrozenNodes(),this.body.emitter.emit("stabilizationIterationsDone"),this.body.emitter.emit("_requestRedraw"),this.stabilized===!0?this._emitStabilized():this.startSimulation(),this.ready=!0}_drawForces(e){for(let r=0;r<this.physicsBody.physicsNodeIndices.length;r++){const n=this.physicsBody.physicsNodeIndices[r],i=this.body.nodes[n],s=this.physicsBody.forces[n],a=20,o=.03,l=Math.sqrt(Math.pow(s.x,2)+Math.pow(s.x,2)),c=Math.min(Math.max(5,l),15),d=3*c,h=DO((180-Math.min(1,Math.max(0,o*l))*180)/360,1,1),f={x:i.x+a*s.x,y:i.y+a*s.y};e.lineWidth=c,e.strokeStyle=h,e.beginPath(),e.moveTo(i.x,i.y),e.lineTo(f.x,f.y),e.stroke();const p=Math.atan2(s.y,s.x);e.fillStyle=h,wQ.draw(e,{type:"arrow",point:f,angle:p,length:d}),Nh(e).call(e)}}}const vr=[];for(let t=0;t<256;++t)vr.push((t+256).toString(16).slice(1));function ybe(t,e=0){return(vr[t[e+0]]+vr[t[e+1]]+vr[t[e+2]]+vr[t[e+3]]+"-"+vr[t[e+4]]+vr[t[e+5]]+"-"+vr[t[e+6]]+vr[t[e+7]]+"-"+vr[t[e+8]]+vr[t[e+9]]+"-"+vr[t[e+10]]+vr[t[e+11]]+vr[t[e+12]]+vr[t[e+13]]+vr[t[e+14]]+vr[t[e+15]]).toLowerCase()}let t2;const bbe=new Uint8Array(16);function xbe(){if(!t2){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");t2=crypto.getRandomValues.bind(crypto)}return t2(bbe)}const wbe=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto);var oU={randomUUID:wbe};function _be(t,e,r){var i;t=t||{};const n=t.random??((i=t.rng)==null?void 0:i.call(t))??xbe();if(n.length<16)throw new Error("Random bytes length must be >= 16");return n[6]=n[6]&15|64,n[8]=n[8]&63|128,ybe(n)}function Xc(t,e,r){return oU.randomUUID&&!t?oU.randomUUID():_be(t)}class Fr{constructor(){}static getRange(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],n=1e9,i=-1e9,s=1e9,a=-1e9,o;if(r.length>0)for(let l=0;l<r.length;l++)o=e[r[l]],s>o.shape.boundingBox.left&&(s=o.shape.boundingBox.left),a<o.shape.boundingBox.right&&(a=o.shape.boundingBox.right),n>o.shape.boundingBox.top&&(n=o.shape.boundingBox.top),i<o.shape.boundingBox.bottom&&(i=o.shape.boundingBox.bottom);return s===1e9&&a===-1e9&&n===1e9&&i===-1e9&&(n=0,i=0,s=0,a=0),{minX:s,maxX:a,minY:n,maxY:i}}static getRangeCore(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],n=1e9,i=-1e9,s=1e9,a=-1e9,o;if(r.length>0)for(let l=0;l<r.length;l++)o=e[r[l]],s>o.x&&(s=o.x),a<o.x&&(a=o.x),n>o.y&&(n=o.y),i<o.y&&(i=o.y);return s===1e9&&a===-1e9&&n===1e9&&i===-1e9&&(n=0,i=0,s=0,a=0),{minX:s,maxX:a,minY:n,maxY:i}}static findCenter(e){return{x:.5*(e.maxX+e.minX),y:.5*(e.maxY+e.minY)}}static cloneOptions(e,r){const n={};return r===void 0||r==="node"?(dt(n,e.options,!0),n.x=e.x,n.y=e.y,n.amountOfConnections=e.edges.length):dt(n,e.options,!0),n}}class Sbe extends xt{constructor(e,r,n,i,s,a){super(e,r,n,i,s,a),this.isCluster=!0,this.containedNodes={},this.containedEdges={}}_openChildCluster(e){const r=this.body.nodes[e];if(this.containedNodes[e]===void 0)throw new Error("node with id: "+e+" not in current cluster");if(!r.isCluster)throw new Error("node with id: "+e+" is not a cluster");delete this.containedNodes[e],De(r.edges,n=>{delete this.containedEdges[n.id]}),De(r.containedNodes,(n,i)=>{this.containedNodes[i]=n}),r.containedNodes={},De(r.containedEdges,(n,i)=>{this.containedEdges[i]=n}),r.containedEdges={},De(r.edges,n=>{De(this.edges,i=>{var s,a;const o=Je(s=i.clusteringEdgeReplacingIds).call(s,n.id);o!==-1&&(De(n.clusteringEdgeReplacingIds,l=>{i.clusteringEdgeReplacingIds.push(l),this.body.edges[l].edgeReplacedById=i.id}),ss(a=i.clusteringEdgeReplacingIds).call(a,o,1))})}),r.edges=[]}}class Ebe{constructor(e){this.body=e,this.clusteredNodes={},this.clusteredEdges={},this.options={},this.defaultOptions={},Ht(this.options,this.defaultOptions),this.body.emitter.on("_resetData",()=>{this.clusteredNodes={},this.clusteredEdges={}})}clusterByHubsize(e,r){e===void 0?e=this._getHubSize():typeof e=="object"&&(r=this._checkOptions(e),e=this._getHubSize());const n=[];for(let i=0;i<this.body.nodeIndices.length;i++){const s=this.body.nodes[this.body.nodeIndices[i]];s.edges.length>=e&&n.push(s.id)}for(let i=0;i<n.length;i++)this.clusterByConnection(n[i],r,!0);this.body.emitter.emit("_dataChanged")}cluster(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(e.joinCondition===void 0)throw new Error("Cannot call clusterByNodeData without a joinCondition function in the options.");e=this._checkOptions(e);const n={},i={};De(this.body.nodes,(s,a)=>{s.options&&e.joinCondition(s.options)===!0&&(n[a]=s,De(s.edges,o=>{this.clusteredEdges[o.id]===void 0&&(i[o.id]=o)}))}),this._cluster(n,i,e,r)}clusterByEdgeCount(e,r){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;r=this._checkOptions(r);const i=[],s={};let a,o,l;for(let c=0;c<this.body.nodeIndices.length;c++){const d={},h={},f=this.body.nodeIndices[c],p=this.body.nodes[f];if(s[f]===void 0){l=0,o=[];for(let m=0;m<p.edges.length;m++)a=p.edges[m],this.clusteredEdges[a.id]===void 0&&(a.toId!==a.fromId&&l++,o.push(a));if(l===e){const m=function(x){if(r.joinCondition===void 0||r.joinCondition===null)return!0;const g=Fr.cloneOptions(x);return r.joinCondition(g)};let y=!0;for(let x=0;x<o.length;x++){a=o[x];const g=this._getConnectedId(a,f);if(m(p))h[a.id]=a,d[f]=p,d[g]=this.body.nodes[g],s[f]=!0;else{y=!1;break}}if(Rt(d).length>0&&Rt(h).length>0&&y===!0){const g=function(){for(let v=0;v<i.length;++v)for(const w in d)if(i[v].nodes[w]!==void 0)return i[v]}();if(g!==void 0){for(const v in d)g.nodes[v]===void 0&&(g.nodes[v]=d[v]);for(const v in h)g.edges[v]===void 0&&(g.edges[v]=h[v])}else i.push({nodes:d,edges:h})}}}}for(let c=0;c<i.length;c++)this._cluster(i[c].nodes,i[c].edges,r,!1);n===!0&&this.body.emitter.emit("_dataChanged")}clusterOutliers(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;this.clusterByEdgeCount(1,e,r)}clusterBridges(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;this.clusterByEdgeCount(2,e,r)}clusterByConnection(e,r){var n;let i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(e===void 0)throw new Error("No nodeId supplied to clusterByConnection!");if(this.body.nodes[e]===void 0)throw new Error("The nodeId given to clusterByConnection does not exist!");const s=this.body.nodes[e];r=this._checkOptions(r,s),r.clusterNodeProperties.x===void 0&&(r.clusterNodeProperties.x=s.x),r.clusterNodeProperties.y===void 0&&(r.clusterNodeProperties.y=s.y),r.clusterNodeProperties.fixed===void 0&&(r.clusterNodeProperties.fixed={},r.clusterNodeProperties.fixed.x=s.options.fixed.x,r.clusterNodeProperties.fixed.y=s.options.fixed.y);const a={},o={},l=s.id,c=Fr.cloneOptions(s);a[l]=s;for(let h=0;h<s.edges.length;h++){const f=s.edges[h];if(this.clusteredEdges[f.id]===void 0){const p=this._getConnectedId(f,l);if(this.clusteredNodes[p]===void 0)if(p!==l)if(r.joinCondition===void 0)o[f.id]=f,a[p]=this.body.nodes[p];else{const m=Fr.cloneOptions(this.body.nodes[p]);r.joinCondition(c,m)===!0&&(o[f.id]=f,a[p]=this.body.nodes[p])}else o[f.id]=f}}const d=bu(n=Rt(a)).call(n,function(h){return a[h].id});for(const h in a){if(!Object.prototype.hasOwnProperty.call(a,h))continue;const f=a[h];for(let p=0;p<f.edges.length;p++){const m=f.edges[p];Je(d).call(d,this._getConnectedId(m,f.id))>-1&&(o[m.id]=m)}}this._cluster(a,o,r,i)}_createClusterEdges(e,r,n,i){let s,a,o,l,c,d;const h=Rt(e),f=[];for(let y=0;y<h.length;y++){a=h[y],o=e[a];for(let x=0;x<o.edges.length;x++)s=o.edges[x],this.clusteredEdges[s.id]===void 0&&(s.toId==s.fromId?r[s.id]=s:s.toId==a?(l=n.id,c=s.fromId,d=c):(l=s.toId,c=n.id,d=l),e[d]===void 0&&f.push({edge:s,fromId:c,toId:l}))}const p=[],m=function(y){for(let x=0;x<p.length;x++){const g=p[x],v=y.fromId===g.fromId&&y.toId===g.toId,w=y.fromId===g.toId&&y.toId===g.fromId;if(v||w)return g}return null};for(let y=0;y<f.length;y++){const x=f[y],g=x.edge;let v=m(x);v===null?(v=this._createClusteredEdge(x.fromId,x.toId,g,i),p.push(v)):v.clusteringEdgeReplacingIds.push(g.id),this.body.edges[g.id].edgeReplacedById=v.id,this._backupEdgeOptions(g),g.setOptions({physics:!1})}}_checkOptions(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return e.clusterEdgeProperties===void 0&&(e.clusterEdgeProperties={}),e.clusterNodeProperties===void 0&&(e.clusterNodeProperties={}),e}_cluster(e,r,n){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0;const s=[];for(const d in e)Object.prototype.hasOwnProperty.call(e,d)&&this.clusteredNodes[d]!==void 0&&s.push(d);for(let d=0;d<s.length;++d)delete e[s[d]];if(Rt(e).length==0||Rt(e).length==1&&n.clusterNodeProperties.allowSingleNodeCluster!=!0)return;let a=dt({},n.clusterNodeProperties);if(n.processProperties!==void 0){const d=[];for(const f in e)if(Object.prototype.hasOwnProperty.call(e,f)){const p=Fr.cloneOptions(e[f]);d.push(p)}const h=[];for(const f in r)if(Object.prototype.hasOwnProperty.call(r,f)&&f.substr(0,12)!=="clusterEdge:"){const p=Fr.cloneOptions(r[f],"edge");h.push(p)}if(a=n.processProperties(a,d,h),!a)throw new Error("The processProperties function does not return properties!")}a.id===void 0&&(a.id="cluster:"+Xc());const o=a.id;a.label===void 0&&(a.label="cluster");let l;a.x===void 0&&(l=this._getClusterPosition(e),a.x=l.x),a.y===void 0&&(l===void 0&&(l=this._getClusterPosition(e)),a.y=l.y),a.id=o;const c=this.body.functions.createNode(a,Sbe);c.containedNodes=e,c.containedEdges=r,c.clusterEdgeProperties=n.clusterEdgeProperties,this.body.nodes[a.id]=c,this._clusterEdges(e,r,a,n.clusterEdgeProperties),a.id=void 0,i===!0&&this.body.emitter.emit("_dataChanged")}_backupEdgeOptions(e){this.clusteredEdges[e.id]===void 0&&(this.clusteredEdges[e.id]={physics:e.options.physics})}_restoreEdge(e){const r=this.clusteredEdges[e.id];r!==void 0&&(e.setOptions({physics:r.physics}),delete this.clusteredEdges[e.id])}isCluster(e){return this.body.nodes[e]!==void 0?this.body.nodes[e].isCluster===!0:(console.error("Node does not exist."),!1)}_getClusterPosition(e){const r=Rt(e);let n=e[r[0]].x,i=e[r[0]].x,s=e[r[0]].y,a=e[r[0]].y,o;for(let l=1;l<r.length;l++)o=e[r[l]],n=o.x<n?o.x:n,i=o.x>i?o.x:i,s=o.y<s?o.y:s,a=o.y>a?o.y:a;return{x:.5*(n+i),y:.5*(s+a)}}openCluster(e,r){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(e===void 0)throw new Error("No clusterNodeId supplied to openCluster.");const i=this.body.nodes[e];if(i===void 0)throw new Error("The clusterNodeId supplied to openCluster does not exist.");if(i.isCluster!==!0||i.containedNodes===void 0||i.containedEdges===void 0)throw new Error("The node:"+e+" is not a valid cluster.");const s=this.findNode(e),a=Je(s).call(s,e)-1;if(a>=0){const d=s[a];this.body.nodes[d]._openChildCluster(e),delete this.body.nodes[e],n===!0&&this.body.emitter.emit("_dataChanged");return}const o=i.containedNodes,l=i.containedEdges;if(r!==void 0&&r.releaseFunction!==void 0&&typeof r.releaseFunction=="function"){const d={},h={x:i.x,y:i.y};for(const p in o)if(Object.prototype.hasOwnProperty.call(o,p)){const m=this.body.nodes[p];d[p]={x:m.x,y:m.y}}const f=r.releaseFunction(h,d);for(const p in o)if(Object.prototype.hasOwnProperty.call(o,p)){const m=this.body.nodes[p];f[p]!==void 0&&(m.x=f[p].x===void 0?i.x:f[p].x,m.y=f[p].y===void 0?i.y:f[p].y)}}else De(o,function(d){d.options.fixed.x===!1&&(d.x=i.x),d.options.fixed.y===!1&&(d.y=i.y)});for(const d in o)if(Object.prototype.hasOwnProperty.call(o,d)){const h=this.body.nodes[d];h.vx=i.vx,h.vy=i.vy,h.setOptions({physics:!0}),delete this.clusteredNodes[d]}const c=[];for(let d=0;d<i.edges.length;d++)c.push(i.edges[d]);for(let d=0;d<c.length;d++){const h=c[d],f=this._getConnectedId(h,e),p=this.clusteredNodes[f];for(let m=0;m<h.clusteringEdgeReplacingIds.length;m++){const y=h.clusteringEdgeReplacingIds[m],x=this.body.edges[y];if(x!==void 0)if(p!==void 0){const g=this.body.nodes[p.clusterId];g.containedEdges[x.id]=x,delete l[x.id];let v=x.fromId,w=x.toId;x.toId==f?w=p.clusterId:v=p.clusterId,this._createClusteredEdge(v,w,x,g.clusterEdgeProperties,{hidden:!1,physics:!0})}else this._restoreEdge(x)}h.remove()}for(const d in l)Object.prototype.hasOwnProperty.call(l,d)&&this._restoreEdge(l[d]);delete this.body.nodes[e],n===!0&&this.body.emitter.emit("_dataChanged")}getNodesInCluster(e){const r=[];if(this.isCluster(e)===!0){const n=this.body.nodes[e].containedNodes;for(const i in n)Object.prototype.hasOwnProperty.call(n,i)&&r.push(this.body.nodes[i].id)}return r}findNode(e){const r=[];let i=0,s;for(;this.clusteredNodes[e]!==void 0&&i<100;){if(s=this.body.nodes[e],s===void 0)return[];r.push(s.id),e=this.clusteredNodes[e].clusterId,i++}return s=this.body.nodes[e],s===void 0?[]:(r.push(s.id),fo(r).call(r),r)}updateClusteredNode(e,r){if(e===void 0)throw new Error("No clusteredNodeId supplied to updateClusteredNode.");if(r===void 0)throw new Error("No newOptions supplied to updateClusteredNode.");if(this.body.nodes[e]===void 0)throw new Error("The clusteredNodeId supplied to updateClusteredNode does not exist.");this.body.nodes[e].setOptions(r),this.body.emitter.emit("_dataChanged")}updateEdge(e,r){if(e===void 0)throw new Error("No startEdgeId supplied to updateEdge.");if(r===void 0)throw new Error("No newOptions supplied to updateEdge.");if(this.body.edges[e]===void 0)throw new Error("The startEdgeId supplied to updateEdge does not exist.");const n=this.getClusteredEdges(e);for(let i=0;i<n.length;i++)this.body.edges[n[i]].setOptions(r);this.body.emitter.emit("_dataChanged")}getClusteredEdges(e){const r=[];let i=0;for(;e!==void 0&&this.body.edges[e]!==void 0&&i<100;)r.push(this.body.edges[e].id),e=this.body.edges[e].edgeReplacedById,i++;return fo(r).call(r),r}getBaseEdge(e){return this.getBaseEdges(e)[0]}getBaseEdges(e){const r=[e],n=[],i=[],s=100;let a=0;for(;r.length>0&&a<s;){const o=r.pop();if(o===void 0)continue;const l=this.body.edges[o];if(l===void 0)continue;a++;const c=l.clusteringEdgeReplacingIds;if(c===void 0)i.push(o);else for(let d=0;d<c.length;++d){const h=c[d];Je(r).call(r,c)!==-1||Je(n).call(n,c)!==-1||r.push(h)}n.push(o)}return i}_getConnectedId(e,r){return e.toId!=r?e.toId:(e.fromId!=r,e.fromId)}_getHubSize(){let e=0,r=0,n=0,i=0;for(let l=0;l<this.body.nodeIndices.length;l++){const c=this.body.nodes[this.body.nodeIndices[l]];c.edges.length>i&&(i=c.edges.length),e+=c.edges.length,r+=Math.pow(c.edges.length,2),n+=1}e=e/n,r=r/n;const s=r-Math.pow(e,2),a=Math.sqrt(s);let o=Math.floor(e+2*a);return o>i&&(o=i),o}_createClusteredEdge(e,r,n,i,s){const a=Fr.cloneOptions(n,"edge");dt(a,i),a.from=e,a.to=r,a.id="clusterEdge:"+Xc(),s!==void 0&&dt(a,s);const o=this.body.functions.createEdge(a);return o.clusteringEdgeReplacingIds=[n.id],o.connect(),this.body.edges[o.id]=o,o}_clusterEdges(e,r,n,i){if(r instanceof fa){const s=r,a={};a[s.id]=s,r=a}if(e instanceof xt){const s=e,a={};a[s.id]=s,e=a}if(n==null)throw new Error("_clusterEdges: parameter clusterNode required");i===void 0&&(i=n.clusterEdgeProperties),this._createClusterEdges(e,r,n,i);for(const s in r)if(Object.prototype.hasOwnProperty.call(r,s)&&this.body.edges[s]!==void 0){const a=this.body.edges[s];this._backupEdgeOptions(a),a.setOptions({physics:!1})}for(const s in e)Object.prototype.hasOwnProperty.call(e,s)&&(this.clusteredNodes[s]={clusterId:n.id,node:this.body.nodes[s]},this.body.nodes[s].setOptions({physics:!1}))}_getClusterNodeForNode(e){if(e===void 0)return;const r=this.clusteredNodes[e];if(r===void 0)return;const n=r.clusterId;if(n!==void 0)return this.body.nodes[n]}_filter(e,r){const n=[];return De(e,i=>{r(i)&&n.push(i)}),n}_updateState(){let e;const r=[],n={},i=l=>{De(this.body.nodes,c=>{c.isCluster===!0&&l(c)})};for(e in this.clusteredNodes){if(!Object.prototype.hasOwnProperty.call(this.clusteredNodes,e))continue;this.body.nodes[e]===void 0&&r.push(e)}i(function(l){for(let c=0;c<r.length;c++)delete l.containedNodes[r[c]]});for(let l=0;l<r.length;l++)delete this.clusteredNodes[r[l]];De(this.clusteredEdges,l=>{const c=this.body.edges[l];(c===void 0||!c.endPointsValid())&&(n[l]=l)}),i(function(l){De(l.containedEdges,(c,d)=>{!c.endPointsValid()&&!n[d]&&(n[d]=d)})}),De(this.body.edges,(l,c)=>{let d=!0;const h=l.clusteringEdgeReplacingIds;if(h!==void 0){let f=0;De(h,p=>{const m=this.body.edges[p];m!==void 0&&m.endPointsValid()&&(f+=1)}),d=f>0}(!l.endPointsValid()||!d)&&(n[c]=c)}),i(l=>{De(n,c=>{delete l.containedEdges[c],De(l.edges,(d,h)=>{if(d.id===c){l.edges[h]=null;return}d.clusteringEdgeReplacingIds=this._filter(d.clusteringEdgeReplacingIds,function(f){return!n[f]})}),l.edges=this._filter(l.edges,function(d){return d!==null})})}),De(n,l=>{delete this.clusteredEdges[l]}),De(n,l=>{delete this.body.edges[l]});const s=Rt(this.body.edges);De(s,l=>{const c=this.body.edges[l],d=this._isClusteredNode(c.fromId)||this._isClusteredNode(c.toId);if(d!==this._isClusteredEdge(c.id))if(d){const h=this._getClusterNodeForNode(c.fromId);h!==void 0&&this._clusterEdges(this.body.nodes[c.fromId],c,h);const f=this._getClusterNodeForNode(c.toId);f!==void 0&&this._clusterEdges(this.body.nodes[c.toId],c,f)}else delete this._clusterEdges[l],this._restoreEdge(c)});let a=!1,o=!0;for(;o;){const l=[];i(function(c){const d=Rt(c.containedNodes).length,h=c.options.allowSingleNodeCluster===!0;(h&&d<1||!h&&d<2)&&l.push(c.id)});for(let c=0;c<l.length;++c)this.openCluster(l[c],{},!1);o=l.length>0,a=a||o}a&&this._updateState()}_isClusteredNode(e){return this.clusteredNodes[e]!==void 0}_isClusteredEdge(e){return this.clusteredEdges[e]!==void 0}}class Nbe{constructor(e,r){this.body=e,this.canvas=r,this.redrawRequested=!1,this.requestAnimationFrameRequestId=void 0,this.renderingActive=!1,this.renderRequests=0,this.allowRedraw=!0,this.dragging=!1,this.zooming=!1,this.options={},this.defaultOptions={hideEdgesOnDrag:!1,hideEdgesOnZoom:!1,hideNodesOnDrag:!1},Ht(this.options,this.defaultOptions),this.bindEventListeners()}bindEventListeners(){var e;this.body.emitter.on("dragStart",()=>{this.dragging=!0}),this.body.emitter.on("dragEnd",()=>{this.dragging=!1}),this.body.emitter.on("zoom",()=>{this.zooming=!0,window.clearTimeout(this.zoomTimeoutId),this.zoomTimeoutId=as(()=>{var r;this.zooming=!1,Z(r=this._requestRedraw).call(r,this)()},250)}),this.body.emitter.on("_resizeNodes",()=>{this._resizeNodes()}),this.body.emitter.on("_redraw",()=>{this.renderingActive===!1&&this._redraw()}),this.body.emitter.on("_blockRedraw",()=>{this.allowRedraw=!1}),this.body.emitter.on("_allowRedraw",()=>{this.allowRedraw=!0,this.redrawRequested=!1}),this.body.emitter.on("_requestRedraw",Z(e=this._requestRedraw).call(e,this)),this.body.emitter.on("_startRendering",()=>{this.renderRequests+=1,this.renderingActive=!0,this._startRendering()}),this.body.emitter.on("_stopRendering",()=>{this.renderRequests-=1,this.renderingActive=this.renderRequests>0,this.requestAnimationFrameRequestId=void 0}),this.body.emitter.on("destroy",()=>{this.renderRequests=0,this.allowRedraw=!1,this.renderingActive=!1,window.cancelAnimationFrame(this.requestAnimationFrameRequestId),this.body.emitter.off()})}setOptions(e){e!==void 0&&ac(["hideEdgesOnDrag","hideEdgesOnZoom","hideNodesOnDrag"],this.options,e)}_startRendering(){if(this.renderingActive===!0&&this.requestAnimationFrameRequestId===void 0){var e;this.requestAnimationFrameRequestId=window.requestAnimationFrame(Z(e=this._renderStep).call(e,this),this.simulationInterval)}}_renderStep(){this.renderingActive===!0&&(this.requestAnimationFrameRequestId=void 0,this._startRendering(),this._redraw())}redraw(){this.body.emitter.emit("setSize"),this._redraw()}_requestRedraw(){this.redrawRequested!==!0&&this.renderingActive===!1&&this.allowRedraw===!0&&(this.redrawRequested=!0,window.requestAnimationFrame(()=>{this._redraw(!1)}))}_redraw(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;if(this.allowRedraw===!0){this.body.emitter.emit("initRedraw"),this.redrawRequested=!1;const r={drawExternalLabels:null};(this.canvas.frame.canvas.width===0||this.canvas.frame.canvas.height===0)&&this.canvas.setSize(),this.canvas.setTransform();const n=this.canvas.getContext(),i=this.canvas.frame.canvas.clientWidth,s=this.canvas.frame.canvas.clientHeight;if(n.clearRect(0,0,i,s),this.canvas.frame.clientWidth===0)return;if(n.save(),n.translate(this.body.view.translation.x,this.body.view.translation.y),n.scale(this.body.view.scale,this.body.view.scale),n.beginPath(),this.body.emitter.emit("beforeDrawing",n),n.closePath(),e===!1&&(this.dragging===!1||this.dragging===!0&&this.options.hideEdgesOnDrag===!1)&&(this.zooming===!1||this.zooming===!0&&this.options.hideEdgesOnZoom===!1)&&this._drawEdges(n),this.dragging===!1||this.dragging===!0&&this.options.hideNodesOnDrag===!1){const{drawExternalLabels:a}=this._drawNodes(n,e);r.drawExternalLabels=a}e===!1&&(this.dragging===!1||this.dragging===!0&&this.options.hideEdgesOnDrag===!1)&&(this.zooming===!1||this.zooming===!0&&this.options.hideEdgesOnZoom===!1)&&this._drawArrows(n),r.drawExternalLabels!=null&&r.drawExternalLabels(),e===!1&&this._drawSelectionBox(n),n.beginPath(),this.body.emitter.emit("afterDrawing",n),n.closePath(),n.restore(),e===!0&&n.clearRect(0,0,i,s)}}_resizeNodes(){this.canvas.setTransform();const e=this.canvas.getContext();e.save(),e.translate(this.body.view.translation.x,this.body.view.translation.y),e.scale(this.body.view.scale,this.body.view.scale);const r=this.body.nodes;let n;for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n=r[i],n.resize(e),n.updateBoundingBox(e,n.selected));e.restore()}_drawNodes(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;const n=this.body.nodes,i=this.body.nodeIndices;let s;const a=[],o=[],l=20,c=this.canvas.DOMtoCanvas({x:-l,y:-l}),d=this.canvas.DOMtoCanvas({x:this.canvas.frame.canvas.clientWidth+l,y:this.canvas.frame.canvas.clientHeight+l}),h={top:c.y,left:c.x,bottom:d.y,right:d.x},f=[];for(let x=0;x<i.length;x++)if(s=n[i[x]],s.hover)o.push(i[x]);else if(s.isSelected())a.push(i[x]);else if(r===!0){const g=s.draw(e);g.drawExternalLabel!=null&&f.push(g.drawExternalLabel)}else if(s.isBoundingBoxOverlappingWith(h)===!0){const g=s.draw(e);g.drawExternalLabel!=null&&f.push(g.drawExternalLabel)}else s.updateBoundingBox(e,s.selected);let p;const m=a.length,y=o.length;for(p=0;p<m;p++){s=n[a[p]];const x=s.draw(e);x.drawExternalLabel!=null&&f.push(x.drawExternalLabel)}for(p=0;p<y;p++){s=n[o[p]];const x=s.draw(e);x.drawExternalLabel!=null&&f.push(x.drawExternalLabel)}return{drawExternalLabels:()=>{for(const x of f)x()}}}_drawEdges(e){const r=this.body.edges,n=this.body.edgeIndices;for(let i=0;i<n.length;i++){const s=r[n[i]];s.connected===!0&&s.draw(e)}}_drawArrows(e){const r=this.body.edges,n=this.body.edgeIndices;for(let i=0;i<n.length;i++){const s=r[n[i]];s.connected===!0&&s.drawArrows(e)}}_drawSelectionBox(e){if(this.body.selectionBox.show){e.beginPath();const r=this.body.selectionBox.position.end.x-this.body.selectionBox.position.start.x,n=this.body.selectionBox.position.end.y-this.body.selectionBox.position.start.y;e.rect(this.body.selectionBox.position.start.x,this.body.selectionBox.position.start.y,r,n),e.fillStyle="rgba(151, 194, 252, 0.2)",e.fillRect(this.body.selectionBox.position.start.x,this.body.selectionBox.position.start.y,r,n),e.strokeStyle="rgba(151, 194, 252, 1)",e.stroke()}else e.closePath()}}var r2,lU;function Obe(){if(lU)return r2;lU=1,PY();var t=tt();return r2=t.setInterval,r2}var n2,uU;function Cbe(){return uU||(uU=1,n2=Obe()),n2}var Pbe=Cbe(),Tbe=Pe(Pbe);function Ip(t,e){e.inputHandler=function(r){r.isFirst&&e(r)},t.on("hammer.input",e.inputHandler)}function EQ(t,e){return e.inputHandler=function(r){r.isFinal&&e(r)},t.on("hammer.input",e.inputHandler)}class jbe{constructor(e){this.body=e,this.pixelRatio=1,this.cameraState={},this.initialized=!1,this.canvasViewCenter={},this._cleanupCallbacks=[],this.options={},this.defaultOptions={autoResize:!0,height:"100%",width:"100%"},Ht(this.options,this.defaultOptions),this.bindEventListeners()}bindEventListeners(){var e;this.body.emitter.once("resize",r=>{r.width!==0&&(this.body.view.translation.x=r.width*.5),r.height!==0&&(this.body.view.translation.y=r.height*.5)}),this.body.emitter.on("setSize",Z(e=this.setSize).call(e,this)),this.body.emitter.on("destroy",()=>{this.hammerFrame.destroy(),this.hammer.destroy(),this._cleanUp()})}setOptions(e){if(e!==void 0&&ac(["width","height","autoResize"],this.options,e),this._cleanUp(),this.options.autoResize===!0){var r;if(window.ResizeObserver){const i=new ResizeObserver(()=>{this.setSize()===!0&&this.body.emitter.emit("_requestRedraw")}),{frame:s}=this;i.observe(s),this._cleanupCallbacks.push(()=>{i.unobserve(s)})}else{const i=Tbe(()=>{this.setSize()===!0&&this.body.emitter.emit("_requestRedraw")},1e3);this._cleanupCallbacks.push(()=>{clearInterval(i)})}const n=Z(r=this._onResize).call(r,this);window.addEventListener("resize",n),this._cleanupCallbacks.push(()=>{window.removeEventListener("resize",n)})}}_cleanUp(){var e,r,n;at(e=fo(r=ss(n=this._cleanupCallbacks).call(n,0)).call(r)).call(e,i=>{try{i()}catch(s){console.error(s)}})}_onResize(){this.setSize(),this.body.emitter.emit("_redraw")}_getCameraState(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.pixelRatio;this.initialized===!0&&(this.cameraState.previousWidth=this.frame.canvas.width/e,this.cameraState.previousHeight=this.frame.canvas.height/e,this.cameraState.scale=this.body.view.scale,this.cameraState.position=this.DOMtoCanvas({x:.5*this.frame.canvas.width/e,y:.5*this.frame.canvas.height/e}))}_setCameraState(){if(this.cameraState.scale!==void 0&&this.frame.canvas.clientWidth!==0&&this.frame.canvas.clientHeight!==0&&this.pixelRatio!==0&&this.cameraState.previousWidth>0&&this.cameraState.previousHeight>0){const e=this.frame.canvas.width/this.pixelRatio/this.cameraState.previousWidth,r=this.frame.canvas.height/this.pixelRatio/this.cameraState.previousHeight;let n=this.cameraState.scale;e!=1&&r!=1?n=this.cameraState.scale*.5*(e+r):e!=1?n=this.cameraState.scale*e:r!=1&&(n=this.cameraState.scale*r),this.body.view.scale=n;const i=this.DOMtoCanvas({x:.5*this.frame.canvas.clientWidth,y:.5*this.frame.canvas.clientHeight}),s={x:i.x-this.cameraState.position.x,y:i.y-this.cameraState.position.y};this.body.view.translation.x+=s.x*this.body.view.scale,this.body.view.translation.y+=s.y*this.body.view.scale}}_prepareValue(e){if(typeof e=="number")return e+"px";if(typeof e=="string"){if(Je(e).call(e,"%")!==-1||Je(e).call(e,"px")!==-1)return e;if(Je(e).call(e,"%")===-1)return e+"px"}throw new Error("Could not use the value supplied for width or height:"+e)}_create(){for(;this.body.container.hasChildNodes();)this.body.container.removeChild(this.body.container.firstChild);if(this.frame=document.createElement("div"),this.frame.className="vis-network",this.frame.style.position="relative",this.frame.style.overflow="hidden",this.frame.tabIndex=0,this.frame.canvas=document.createElement("canvas"),this.frame.canvas.style.position="relative",this.frame.appendChild(this.frame.canvas),this.frame.canvas.getContext)this._setPixelRatio(),this.setTransform();else{const e=document.createElement("DIV");e.style.color="red",e.style.fontWeight="bold",e.style.padding="10px",e.innerText="Error: your browser does not support HTML canvas",this.frame.canvas.appendChild(e)}this.body.container.appendChild(this.frame),this.body.view.scale=1,this.body.view.translation={x:.5*this.frame.canvas.clientWidth,y:.5*this.frame.canvas.clientHeight},this._bindHammer()}_bindHammer(){this.hammer!==void 0&&this.hammer.destroy(),this.drag={},this.pinch={},this.hammer=new Al(this.frame.canvas),this.hammer.get("pinch").set({enable:!0}),this.hammer.get("pan").set({threshold:5,direction:Al.DIRECTION_ALL}),Ip(this.hammer,e=>{this.body.eventListeners.onTouch(e)}),this.hammer.on("tap",e=>{this.body.eventListeners.onTap(e)}),this.hammer.on("doubletap",e=>{this.body.eventListeners.onDoubleTap(e)}),this.hammer.on("press",e=>{this.body.eventListeners.onHold(e)}),this.hammer.on("panstart",e=>{this.body.eventListeners.onDragStart(e)}),this.hammer.on("panmove",e=>{this.body.eventListeners.onDrag(e)}),this.hammer.on("panend",e=>{this.body.eventListeners.onDragEnd(e)}),this.hammer.on("pinch",e=>{this.body.eventListeners.onPinch(e)}),this.frame.canvas.addEventListener("wheel",e=>{this.body.eventListeners.onMouseWheel(e)}),this.frame.canvas.addEventListener("mousemove",e=>{this.body.eventListeners.onMouseMove(e)}),this.frame.canvas.addEventListener("contextmenu",e=>{this.body.eventListeners.onContext(e)}),this.hammerFrame=new Al(this.frame),EQ(this.hammerFrame,e=>{this.body.eventListeners.onRelease(e)})}setSize(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.options.width,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.options.height;e=this._prepareValue(e),r=this._prepareValue(r);let n=!1;const i=this.frame.canvas.width,s=this.frame.canvas.height,a=this.pixelRatio;if(this._setPixelRatio(),e!=this.options.width||r!=this.options.height||this.frame.style.width!=e||this.frame.style.height!=r)this._getCameraState(a),this.frame.style.width=e,this.frame.style.height=r,this.frame.canvas.style.width="100%",this.frame.canvas.style.height="100%",this.frame.canvas.width=Math.round(this.frame.canvas.clientWidth*this.pixelRatio),this.frame.canvas.height=Math.round(this.frame.canvas.clientHeight*this.pixelRatio),this.options.width=e,this.options.height=r,this.canvasViewCenter={x:.5*this.frame.clientWidth,y:.5*this.frame.clientHeight},n=!0;else{const o=Math.round(this.frame.canvas.clientWidth*this.pixelRatio),l=Math.round(this.frame.canvas.clientHeight*this.pixelRatio);(this.frame.canvas.width!==o||this.frame.canvas.height!==l)&&this._getCameraState(a),this.frame.canvas.width!==o&&(this.frame.canvas.width=o,n=!0),this.frame.canvas.height!==l&&(this.frame.canvas.height=l,n=!0)}return n===!0&&(this.body.emitter.emit("resize",{width:Math.round(this.frame.canvas.width/this.pixelRatio),height:Math.round(this.frame.canvas.height/this.pixelRatio),oldWidth:Math.round(i/this.pixelRatio),oldHeight:Math.round(s/this.pixelRatio)}),this._setCameraState()),this.initialized=!0,n}getContext(){return this.frame.canvas.getContext("2d")}_determinePixelRatio(){const e=this.getContext();if(e===void 0)throw new Error("Could not get canvax context");let r=1;typeof window<"u"&&(r=window.devicePixelRatio||1);const n=e.webkitBackingStorePixelRatio||e.mozBackingStorePixelRatio||e.msBackingStorePixelRatio||e.oBackingStorePixelRatio||e.backingStorePixelRatio||1;return r/n}_setPixelRatio(){this.pixelRatio=this._determinePixelRatio()}setTransform(){const e=this.getContext();if(e===void 0)throw new Error("Could not get canvax context");e.setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0)}_XconvertDOMtoCanvas(e){return(e-this.body.view.translation.x)/this.body.view.scale}_XconvertCanvasToDOM(e){return e*this.body.view.scale+this.body.view.translation.x}_YconvertDOMtoCanvas(e){return(e-this.body.view.translation.y)/this.body.view.scale}_YconvertCanvasToDOM(e){return e*this.body.view.scale+this.body.view.translation.y}canvasToDOM(e){return{x:this._XconvertCanvasToDOM(e.x),y:this._YconvertCanvasToDOM(e.y)}}DOMtoCanvas(e){return{x:this._XconvertDOMtoCanvas(e.x),y:this._YconvertDOMtoCanvas(e.y)}}}function Ibe(t,e){const r=Ht({nodes:e,minZoomLevel:Number.MIN_VALUE,maxZoomLevel:1},t??{});if(!Dt(r.nodes))throw new TypeError("Nodes has to be an array of ids.");if(r.nodes.length===0&&(r.nodes=e),!(typeof r.minZoomLevel=="number"&&r.minZoomLevel>0))throw new TypeError("Min zoom level has to be a number higher than zero.");if(!(typeof r.maxZoomLevel=="number"&&r.minZoomLevel<=r.maxZoomLevel))throw new TypeError("Max zoom level has to be a number higher than min zoom level.");return r}class Rbe{constructor(e,r){var n,i;this.body=e,this.canvas=r,this.animationSpeed=1/this.renderRefreshRate,this.animationEasingFunction="easeInOutQuint",this.easingTime=0,this.sourceScale=0,this.targetScale=0,this.sourceTranslation=0,this.targetTranslation=0,this.lockedOnNodeId=void 0,this.lockedOnNodeOffset=void 0,this.touchTime=0,this.viewFunction=void 0,this.body.emitter.on("fit",Z(n=this.fit).call(n,this)),this.body.emitter.on("animationFinished",()=>{this.body.emitter.emit("_stopRendering")}),this.body.emitter.on("unlockNode",Z(i=this.releaseNode).call(i,this))}setOptions(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.options=e}fit(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;e=Ibe(e,this.body.nodeIndices);const n=this.canvas.frame.canvas.clientWidth,i=this.canvas.frame.canvas.clientHeight;let s,a;if(n===0||i===0)a=1,s=Fr.getRange(this.body.nodes,e.nodes);else if(r===!0){let c=0;for(const f in this.body.nodes)Object.prototype.hasOwnProperty.call(this.body.nodes,f)&&this.body.nodes[f].predefinedPosition===!0&&(c+=1);if(c>.5*this.body.nodeIndices.length){this.fit(e,!1);return}s=Fr.getRange(this.body.nodes,e.nodes),a=12.662/(this.body.nodeIndices.length+7.4147)+.0964822;const h=Math.min(n/600,i/600);a*=h}else{this.body.emitter.emit("_resizeNodes"),s=Fr.getRange(this.body.nodes,e.nodes);const c=Math.abs(s.maxX-s.minX)*1.1,d=Math.abs(s.maxY-s.minY)*1.1,h=n/c,f=i/d;a=h<=f?h:f}a>e.maxZoomLevel?a=e.maxZoomLevel:a<e.minZoomLevel&&(a=e.minZoomLevel);const l={position:Fr.findCenter(s),scale:a,animation:e.animation};this.moveTo(l)}focus(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(this.body.nodes[e]!==void 0){const n={x:this.body.nodes[e].x,y:this.body.nodes[e].y};r.position=n,r.lockedOnNode=e,this.moveTo(r)}else console.error("Node: "+e+" cannot be found.")}moveTo(e){if(e===void 0){e={};return}if(e.offset!=null){if(e.offset.x!=null){if(e.offset.x=+e.offset.x,!Ya(e.offset.x))throw new TypeError('The option "offset.x" has to be a finite number.')}else e.offset.x=0;if(e.offset.y!=null){if(e.offset.y=+e.offset.y,!Ya(e.offset.y))throw new TypeError('The option "offset.y" has to be a finite number.')}else e.offset.x=0}else e.offset={x:0,y:0};if(e.position!=null){if(e.position.x!=null){if(e.position.x=+e.position.x,!Ya(e.position.x))throw new TypeError('The option "position.x" has to be a finite number.')}else e.position.x=0;if(e.position.y!=null){if(e.position.y=+e.position.y,!Ya(e.position.y))throw new TypeError('The option "position.y" has to be a finite number.')}else e.position.x=0}else e.position=this.getViewPosition();if(e.scale!=null){if(e.scale=+e.scale,!(e.scale>0))throw new TypeError('The option "scale" has to be a number greater than zero.')}else e.scale=this.body.view.scale;e.animation===void 0&&(e.animation={duration:0}),e.animation===!1&&(e.animation={duration:0}),e.animation===!0&&(e.animation={}),e.animation.duration===void 0&&(e.animation.duration=1e3),e.animation.easingFunction===void 0&&(e.animation.easingFunction="easeInOutQuad"),this.animateView(e)}animateView(e){if(e===void 0)return;this.animationEasingFunction=e.animation.easingFunction,this.releaseNode(),e.locked===!0&&(this.lockedOnNodeId=e.lockedOnNode,this.lockedOnNodeOffset=e.offset),this.easingTime!=0&&this._transitionRedraw(!0),this.sourceScale=this.body.view.scale,this.sourceTranslation=this.body.view.translation,this.targetScale=e.scale,this.body.view.scale=this.targetScale;const r=this.canvas.DOMtoCanvas({x:.5*this.canvas.frame.canvas.clientWidth,y:.5*this.canvas.frame.canvas.clientHeight}),n={x:r.x-e.position.x,y:r.y-e.position.y};if(this.targetTranslation={x:this.sourceTranslation.x+n.x*this.targetScale+e.offset.x,y:this.sourceTranslation.y+n.y*this.targetScale+e.offset.y},e.animation.duration===0)if(this.lockedOnNodeId!=null){var i;this.viewFunction=Z(i=this._lockedRedraw).call(i,this),this.body.emitter.on("initRedraw",this.viewFunction)}else this.body.view.scale=this.targetScale,this.body.view.translation=this.targetTranslation,this.body.emitter.emit("_requestRedraw");else{var s;this.animationSpeed=1/(60*e.animation.duration*.001)||1/60,this.animationEasingFunction=e.animation.easingFunction,this.viewFunction=Z(s=this._transitionRedraw).call(s,this),this.body.emitter.on("initRedraw",this.viewFunction),this.body.emitter.emit("_startRendering")}}_lockedRedraw(){const e={x:this.body.nodes[this.lockedOnNodeId].x,y:this.body.nodes[this.lockedOnNodeId].y},r=this.canvas.DOMtoCanvas({x:.5*this.canvas.frame.canvas.clientWidth,y:.5*this.canvas.frame.canvas.clientHeight}),n={x:r.x-e.x,y:r.y-e.y},i=this.body.view.translation,s={x:i.x+n.x*this.body.view.scale+this.lockedOnNodeOffset.x,y:i.y+n.y*this.body.view.scale+this.lockedOnNodeOffset.y};this.body.view.translation=s}releaseNode(){this.lockedOnNodeId!==void 0&&this.viewFunction!==void 0&&(this.body.emitter.off("initRedraw",this.viewFunction),this.lockedOnNodeId=void 0,this.lockedOnNodeOffset=void 0)}_transitionRedraw(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;this.easingTime+=this.animationSpeed,this.easingTime=e===!0?1:this.easingTime;const r=Lve[this.animationEasingFunction](this.easingTime);if(this.body.view.scale=this.sourceScale+(this.targetScale-this.sourceScale)*r,this.body.view.translation={x:this.sourceTranslation.x+(this.targetTranslation.x-this.sourceTranslation.x)*r,y:this.sourceTranslation.y+(this.targetTranslation.y-this.sourceTranslation.y)*r},this.easingTime>=1){if(this.body.emitter.off("initRedraw",this.viewFunction),this.easingTime=0,this.lockedOnNodeId!=null){var n;this.viewFunction=Z(n=this._lockedRedraw).call(n,this),this.body.emitter.on("initRedraw",this.viewFunction)}this.body.emitter.emit("animationFinished")}}getScale(){return this.body.view.scale}getViewPosition(){return this.canvas.DOMtoCanvas({x:.5*this.canvas.frame.canvas.clientWidth,y:.5*this.canvas.frame.canvas.clientHeight})}}function cU(t){var e=t&&t.preventDefault||!1,r=t&&t.container||window,n={},i={keydown:{},keyup:{}},s={},a;for(a=97;a<=122;a++)s[String.fromCharCode(a)]={code:65+(a-97),shift:!1};for(a=65;a<=90;a++)s[String.fromCharCode(a)]={code:a,shift:!0};for(a=0;a<=9;a++)s[""+a]={code:48+a,shift:!1};for(a=1;a<=12;a++)s["F"+a]={code:111+a,shift:!1};for(a=0;a<=9;a++)s["num"+a]={code:96+a,shift:!1};s["num*"]={code:106,shift:!1},s["num+"]={code:107,shift:!1},s["num-"]={code:109,shift:!1},s["num/"]={code:111,shift:!1},s["num."]={code:110,shift:!1},s.left={code:37,shift:!1},s.up={code:38,shift:!1},s.right={code:39,shift:!1},s.down={code:40,shift:!1},s.space={code:32,shift:!1},s.enter={code:13,shift:!1},s.shift={code:16,shift:void 0},s.esc={code:27,shift:!1},s.backspace={code:8,shift:!1},s.tab={code:9,shift:!1},s.ctrl={code:17,shift:!1},s.alt={code:18,shift:!1},s.delete={code:46,shift:!1},s.pageup={code:33,shift:!1},s.pagedown={code:34,shift:!1},s["="]={code:187,shift:!1},s["-"]={code:189,shift:!1},s["]"]={code:221,shift:!1},s["["]={code:219,shift:!1};var o=function(d){c(d,"keydown")},l=function(d){c(d,"keyup")},c=function(d,h){if(i[h][d.keyCode]!==void 0){for(var f=i[h][d.keyCode],p=0;p<f.length;p++)(f[p].shift===void 0||f[p].shift==!0&&d.shiftKey==!0||f[p].shift==!1&&d.shiftKey==!1)&&f[p].fn(d);e==!0&&d.preventDefault()}};return n.bind=function(d,h,f){if(f===void 0&&(f="keydown"),s[d]===void 0)throw new Error("unsupported key: "+d);i[f][s[d].code]===void 0&&(i[f][s[d].code]=[]),i[f][s[d].code].push({fn:h,shift:s[d].shift})},n.bindAll=function(d,h){h===void 0&&(h="keydown");for(var f in s)s.hasOwnProperty(f)&&n.bind(f,d,h)},n.getKey=function(d){for(var h in s)if(s.hasOwnProperty(h)){if(d.shiftKey==!0&&s[h].shift==!0&&d.keyCode==s[h].code)return h;if(d.shiftKey==!1&&s[h].shift==!1&&d.keyCode==s[h].code)return h;if(d.keyCode==s[h].code&&h=="shift")return h}return"unknown key, currently not supported"},n.unbind=function(d,h,f){if(f===void 0&&(f="keydown"),s[d]===void 0)throw new Error("unsupported key: "+d);if(h!==void 0){var p=[],m=i[f][s[d].code];if(m!==void 0)for(var y=0;y<m.length;y++)m[y].fn==h&&m[y].shift==s[d].shift||p.push(i[f][s[d].code][y]);i[f][s[d].code]=p}else i[f][s[d].code]=[]},n.reset=function(){i={keydown:{},keyup:{}}},n.destroy=function(){i={keydown:{},keyup:{}},r.removeEventListener("keydown",o,!0),r.removeEventListener("keyup",l,!0)},r.addEventListener("keydown",o,!0),r.addEventListener("keyup",l,!0),n}class $be{constructor(e,r){this.body=e,this.canvas=r,this.iconsCreated=!1,this.navigationHammers=[],this.boundFunctions={},this.touchTime=0,this.activated=!1,this.body.emitter.on("activate",()=>{this.activated=!0,this.configureKeyboardBindings()}),this.body.emitter.on("deactivate",()=>{this.activated=!1,this.configureKeyboardBindings()}),this.body.emitter.on("destroy",()=>{this.keycharm!==void 0&&this.keycharm.destroy()}),this.options={}}setOptions(e){e!==void 0&&(this.options=e,this.create())}create(){this.options.navigationButtons===!0?this.iconsCreated===!1&&this.loadNavigationElements():this.iconsCreated===!0&&this.cleanNavigation(),this.configureKeyboardBindings()}cleanNavigation(){if(this.navigationHammers.length!=0){for(let e=0;e<this.navigationHammers.length;e++)this.navigationHammers[e].destroy();this.navigationHammers=[]}this.navigationDOM&&this.navigationDOM.wrapper&&this.navigationDOM.wrapper.parentNode&&this.navigationDOM.wrapper.parentNode.removeChild(this.navigationDOM.wrapper),this.iconsCreated=!1}loadNavigationElements(){this.cleanNavigation(),this.navigationDOM={};const e=["up","down","left","right","zoomIn","zoomOut","zoomExtends"],r=["_moveUp","_moveDown","_moveLeft","_moveRight","_zoomIn","_zoomOut","_fit"];this.navigationDOM.wrapper=document.createElement("div"),this.navigationDOM.wrapper.className="vis-navigation",this.canvas.frame.appendChild(this.navigationDOM.wrapper);for(let a=0;a<e.length;a++){this.navigationDOM[e[a]]=document.createElement("div"),this.navigationDOM[e[a]].className="vis-button vis-"+e[a],this.navigationDOM.wrapper.appendChild(this.navigationDOM[e[a]]);const o=new Al(this.navigationDOM[e[a]]);if(r[a]==="_fit"){var n;Ip(o,Z(n=this._fit).call(n,this))}else{var i;Ip(o,Z(i=this.bindToRedraw).call(i,this,r[a]))}this.navigationHammers.push(o)}const s=new Al(this.canvas.frame);EQ(s,()=>{this._stopMovement()}),this.navigationHammers.push(s),this.iconsCreated=!0}bindToRedraw(e){if(this.boundFunctions[e]===void 0){var r;this.boundFunctions[e]=Z(r=this[e]).call(r,this),this.body.emitter.on("initRedraw",this.boundFunctions[e]),this.body.emitter.emit("_startRendering")}}unbindFromRedraw(e){this.boundFunctions[e]!==void 0&&(this.body.emitter.off("initRedraw",this.boundFunctions[e]),this.body.emitter.emit("_stopRendering"),delete this.boundFunctions[e])}_fit(){new Date().valueOf()-this.touchTime>700&&(this.body.emitter.emit("fit",{duration:700}),this.touchTime=new Date().valueOf())}_stopMovement(){for(const e in this.boundFunctions)Object.prototype.hasOwnProperty.call(this.boundFunctions,e)&&(this.body.emitter.off("initRedraw",this.boundFunctions[e]),this.body.emitter.emit("_stopRendering"));this.boundFunctions={}}_moveUp(){this.body.view.translation.y+=this.options.keyboard.speed.y}_moveDown(){this.body.view.translation.y-=this.options.keyboard.speed.y}_moveLeft(){this.body.view.translation.x+=this.options.keyboard.speed.x}_moveRight(){this.body.view.translation.x-=this.options.keyboard.speed.x}_zoomIn(){const e=this.body.view.scale,r=this.body.view.scale*(1+this.options.keyboard.speed.zoom),n=this.body.view.translation,i=r/e,s=(1-i)*this.canvas.canvasViewCenter.x+n.x*i,a=(1-i)*this.canvas.canvasViewCenter.y+n.y*i;this.body.view.scale=r,this.body.view.translation={x:s,y:a},this.body.emitter.emit("zoom",{direction:"+",scale:this.body.view.scale,pointer:null})}_zoomOut(){const e=this.body.view.scale,r=this.body.view.scale/(1+this.options.keyboard.speed.zoom),n=this.body.view.translation,i=r/e,s=(1-i)*this.canvas.canvasViewCenter.x+n.x*i,a=(1-i)*this.canvas.canvasViewCenter.y+n.y*i;this.body.view.scale=r,this.body.view.translation={x:s,y:a},this.body.emitter.emit("zoom",{direction:"-",scale:this.body.view.scale,pointer:null})}configureKeyboardBindings(){if(this.keycharm!==void 0&&this.keycharm.destroy(),this.options.keyboard.enabled===!0&&(this.options.keyboard.bindToWindow===!0?this.keycharm=cU({container:window,preventDefault:!0}):this.keycharm=cU({container:this.canvas.frame,preventDefault:!0}),this.keycharm.reset(),this.activated===!0)){var e,r,n,i,s,a,o,l,c,d,h,f,p,m,y,x,g,v,w,b,_,E,N,S;Z(e=this.keycharm).call(e,"up",()=>{this.bindToRedraw("_moveUp")},"keydown"),Z(r=this.keycharm).call(r,"down",()=>{this.bindToRedraw("_moveDown")},"keydown"),Z(n=this.keycharm).call(n,"left",()=>{this.bindToRedraw("_moveLeft")},"keydown"),Z(i=this.keycharm).call(i,"right",()=>{this.bindToRedraw("_moveRight")},"keydown"),Z(s=this.keycharm).call(s,"=",()=>{this.bindToRedraw("_zoomIn")},"keydown"),Z(a=this.keycharm).call(a,"num+",()=>{this.bindToRedraw("_zoomIn")},"keydown"),Z(o=this.keycharm).call(o,"num-",()=>{this.bindToRedraw("_zoomOut")},"keydown"),Z(l=this.keycharm).call(l,"-",()=>{this.bindToRedraw("_zoomOut")},"keydown"),Z(c=this.keycharm).call(c,"[",()=>{this.bindToRedraw("_zoomOut")},"keydown"),Z(d=this.keycharm).call(d,"]",()=>{this.bindToRedraw("_zoomIn")},"keydown"),Z(h=this.keycharm).call(h,"pageup",()=>{this.bindToRedraw("_zoomIn")},"keydown"),Z(f=this.keycharm).call(f,"pagedown",()=>{this.bindToRedraw("_zoomOut")},"keydown"),Z(p=this.keycharm).call(p,"up",()=>{this.unbindFromRedraw("_moveUp")},"keyup"),Z(m=this.keycharm).call(m,"down",()=>{this.unbindFromRedraw("_moveDown")},"keyup"),Z(y=this.keycharm).call(y,"left",()=>{this.unbindFromRedraw("_moveLeft")},"keyup"),Z(x=this.keycharm).call(x,"right",()=>{this.unbindFromRedraw("_moveRight")},"keyup"),Z(g=this.keycharm).call(g,"=",()=>{this.unbindFromRedraw("_zoomIn")},"keyup"),Z(v=this.keycharm).call(v,"num+",()=>{this.unbindFromRedraw("_zoomIn")},"keyup"),Z(w=this.keycharm).call(w,"num-",()=>{this.unbindFromRedraw("_zoomOut")},"keyup"),Z(b=this.keycharm).call(b,"-",()=>{this.unbindFromRedraw("_zoomOut")},"keyup"),Z(_=this.keycharm).call(_,"[",()=>{this.unbindFromRedraw("_zoomOut")},"keyup"),Z(E=this.keycharm).call(E,"]",()=>{this.unbindFromRedraw("_zoomIn")},"keyup"),Z(N=this.keycharm).call(N,"pageup",()=>{this.unbindFromRedraw("_zoomIn")},"keyup"),Z(S=this.keycharm).call(S,"pagedown",()=>{this.unbindFromRedraw("_zoomOut")},"keyup")}}}class kbe{constructor(e,r,n){var i,s,a,o,l,c,d,h,f,p,m,y,x;this.body=e,this.canvas=r,this.selectionHandler=n,this.navigationHandler=new $be(e,r),this.body.eventListeners.onTap=Z(i=this.onTap).call(i,this),this.body.eventListeners.onTouch=Z(s=this.onTouch).call(s,this),this.body.eventListeners.onDoubleTap=Z(a=this.onDoubleTap).call(a,this),this.body.eventListeners.onHold=Z(o=this.onHold).call(o,this),this.body.eventListeners.onDragStart=Z(l=this.onDragStart).call(l,this),this.body.eventListeners.onDrag=Z(c=this.onDrag).call(c,this),this.body.eventListeners.onDragEnd=Z(d=this.onDragEnd).call(d,this),this.body.eventListeners.onMouseWheel=Z(h=this.onMouseWheel).call(h,this),this.body.eventListeners.onPinch=Z(f=this.onPinch).call(f,this),this.body.eventListeners.onMouseMove=Z(p=this.onMouseMove).call(p,this),this.body.eventListeners.onRelease=Z(m=this.onRelease).call(m,this),this.body.eventListeners.onContext=Z(y=this.onContext).call(y,this),this.touchTime=0,this.drag={},this.pinch={},this.popup=void 0,this.popupObj=void 0,this.popupTimer=void 0,this.body.functions.getPointer=Z(x=this.getPointer).call(x,this),this.options={},this.defaultOptions={dragNodes:!0,dragView:!0,hover:!1,keyboard:{enabled:!1,speed:{x:10,y:10,zoom:.02},bindToWindow:!0,autoFocus:!0},navigationButtons:!1,tooltipDelay:300,zoomView:!0,zoomSpeed:1},Ht(this.options,this.defaultOptions),this.bindEventListeners()}bindEventListeners(){this.body.emitter.on("destroy",()=>{clearTimeout(this.popupTimer),delete this.body.functions.getPointer})}setOptions(e){e!==void 0&&(Pp(["hideEdgesOnDrag","hideEdgesOnZoom","hideNodesOnDrag","keyboard","multiselect","selectable","selectConnectedEdges"],this.options,e),$n(this.options,e,"keyboard"),e.tooltip&&(Ht(this.options.tooltip,e.tooltip),e.tooltip.color&&(this.options.tooltip.color=kO(e.tooltip.color)))),this.navigationHandler.setOptions(this.options)}getPointer(e){return{x:e.x-Mve(this.canvas.frame.canvas),y:e.y-qve(this.canvas.frame.canvas)}}onTouch(e){new Date().valueOf()-this.touchTime>50&&(this.drag.pointer=this.getPointer(e.center),this.drag.pinched=!1,this.pinch.scale=this.body.view.scale,this.touchTime=new Date().valueOf())}onTap(e){const r=this.getPointer(e.center),n=this.selectionHandler.options.multiselect&&(e.changedPointers[0].ctrlKey||e.changedPointers[0].metaKey);this.checkSelectionChanges(r,n),this.selectionHandler.commitAndEmit(r,e),this.selectionHandler.generateClickEvent("click",e,r)}onDoubleTap(e){const r=this.getPointer(e.center);this.selectionHandler.generateClickEvent("doubleClick",e,r)}onHold(e){const r=this.getPointer(e.center),n=this.selectionHandler.options.multiselect;this.checkSelectionChanges(r,n),this.selectionHandler.commitAndEmit(r,e),this.selectionHandler.generateClickEvent("click",e,r),this.selectionHandler.generateClickEvent("hold",e,r)}onRelease(e){if(new Date().valueOf()-this.touchTime>10){const r=this.getPointer(e.center);this.selectionHandler.generateClickEvent("release",e,r),this.touchTime=new Date().valueOf()}}onContext(e){const r=this.getPointer({x:e.clientX,y:e.clientY});this.selectionHandler.generateClickEvent("oncontext",e,r)}checkSelectionChanges(e){(arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1)===!0?this.selectionHandler.selectAdditionalOnPoint(e):this.selectionHandler.selectOnPoint(e)}_determineDifference(e,r){const n=function(i,s){const a=[];for(let o=0;o<i.length;o++){const l=i[o];Je(s).call(s,l)===-1&&a.push(l)}return a};return{nodes:n(e.nodes,r.nodes),edges:n(e.edges,r.edges)}}onDragStart(e){if(this.drag.dragging)return;this.drag.pointer===void 0&&this.onTouch(e);const r=this.selectionHandler.getNodeAt(this.drag.pointer);if(this.drag.dragging=!0,this.drag.selection=[],this.drag.translation=Ht({},this.body.view.translation),this.drag.nodeId=void 0,e.srcEvent.shiftKey){this.body.selectionBox.show=!0;const n=this.getPointer(e.center);this.body.selectionBox.position.start={x:this.canvas._XconvertDOMtoCanvas(n.x),y:this.canvas._YconvertDOMtoCanvas(n.y)},this.body.selectionBox.position.end={x:this.canvas._XconvertDOMtoCanvas(n.x),y:this.canvas._YconvertDOMtoCanvas(n.y)}}else if(r!==void 0&&this.options.dragNodes===!0){this.drag.nodeId=r.id,r.isSelected()===!1&&this.selectionHandler.setSelection({nodes:[r.id]}),this.selectionHandler.generateClickEvent("dragStart",e,this.drag.pointer);for(const n of this.selectionHandler.getSelectedNodes()){const i={id:n.id,node:n,x:n.x,y:n.y,xFixed:n.options.fixed.x,yFixed:n.options.fixed.y};n.options.fixed.x=!0,n.options.fixed.y=!0,this.drag.selection.push(i)}}else this.selectionHandler.generateClickEvent("dragStart",e,this.drag.pointer,void 0,!0)}onDrag(e){if(this.drag.pinched===!0)return;this.body.emitter.emit("unlockNode");const r=this.getPointer(e.center),n=this.drag.selection;if(n&&n.length&&this.options.dragNodes===!0){this.selectionHandler.generateClickEvent("dragging",e,r);const i=r.x-this.drag.pointer.x,s=r.y-this.drag.pointer.y;at(n).call(n,a=>{const o=a.node;a.xFixed===!1&&(o.x=this.canvas._XconvertDOMtoCanvas(this.canvas._XconvertCanvasToDOM(a.x)+i)),a.yFixed===!1&&(o.y=this.canvas._YconvertDOMtoCanvas(this.canvas._YconvertCanvasToDOM(a.y)+s))}),this.body.emitter.emit("startSimulation")}else{if(e.srcEvent.shiftKey){if(this.selectionHandler.generateClickEvent("dragging",e,r,void 0,!0),this.drag.pointer===void 0){this.onDragStart(e);return}this.body.selectionBox.position.end={x:this.canvas._XconvertDOMtoCanvas(r.x),y:this.canvas._YconvertDOMtoCanvas(r.y)},this.body.emitter.emit("_requestRedraw")}if(this.options.dragView===!0&&!e.srcEvent.shiftKey){if(this.selectionHandler.generateClickEvent("dragging",e,r,void 0,!0),this.drag.pointer===void 0){this.onDragStart(e);return}const i=r.x-this.drag.pointer.x,s=r.y-this.drag.pointer.y;this.body.view.translation={x:this.drag.translation.x+i,y:this.drag.translation.y+s},this.body.emitter.emit("_requestRedraw")}}}onDragEnd(e){if(this.drag.dragging=!1,this.body.selectionBox.show){var r;this.body.selectionBox.show=!1;const n=this.body.selectionBox.position,i={minX:Math.min(n.start.x,n.end.x),minY:Math.min(n.start.y,n.end.y),maxX:Math.max(n.start.x,n.end.x),maxY:Math.max(n.start.y,n.end.y)},s=Zr(r=this.body.nodeIndices).call(r,o=>{const l=this.body.nodes[o];return l.x>=i.minX&&l.x<=i.maxX&&l.y>=i.minY&&l.y<=i.maxY});at(s).call(s,o=>this.selectionHandler.selectObject(this.body.nodes[o]));const a=this.getPointer(e.center);this.selectionHandler.commitAndEmit(a,e),this.selectionHandler.generateClickEvent("dragEnd",e,this.getPointer(e.center),void 0,!0),this.body.emitter.emit("_requestRedraw")}else{const n=this.drag.selection;n&&n.length?(at(n).call(n,function(i){i.node.options.fixed.x=i.xFixed,i.node.options.fixed.y=i.yFixed}),this.selectionHandler.generateClickEvent("dragEnd",e,this.getPointer(e.center)),this.body.emitter.emit("startSimulation")):(this.selectionHandler.generateClickEvent("dragEnd",e,this.getPointer(e.center),void 0,!0),this.body.emitter.emit("_requestRedraw"))}}onPinch(e){const r=this.getPointer(e.center);this.drag.pinched=!0,this.pinch.scale===void 0&&(this.pinch.scale=1);const n=this.pinch.scale*e.scale;this.zoom(n,r)}zoom(e,r){if(this.options.zoomView===!0){const n=this.body.view.scale;e<1e-5&&(e=1e-5),e>10&&(e=10);let i;this.drag!==void 0&&this.drag.dragging===!0&&(i=this.canvas.DOMtoCanvas(this.drag.pointer));const s=this.body.view.translation,a=e/n,o=(1-a)*r.x+s.x*a,l=(1-a)*r.y+s.y*a;if(this.body.view.scale=e,this.body.view.translation={x:o,y:l},i!=null){const c=this.canvas.canvasToDOM(i);this.drag.pointer.x=c.x,this.drag.pointer.y=c.y}this.body.emitter.emit("_requestRedraw"),n<e?this.body.emitter.emit("zoom",{direction:"+",scale:this.body.view.scale,pointer:r}):this.body.emitter.emit("zoom",{direction:"-",scale:this.body.view.scale,pointer:r})}}onMouseWheel(e){if(this.options.zoomView===!0){if(e.deltaY!==0){let r=this.body.view.scale;r*=1+(e.deltaY<0?1:-1)*(this.options.zoomSpeed*.1);const n=this.getPointer({x:e.clientX,y:e.clientY});this.zoom(r,n)}e.preventDefault()}}onMouseMove(e){const r=this.getPointer({x:e.clientX,y:e.clientY});let n=!1;this.popup!==void 0&&(this.popup.hidden===!1&&this._checkHidePopup(r),this.popup.hidden===!1&&(n=!0,this.popup.setPosition(r.x+3,r.y-5),this.popup.show())),this.options.keyboard.autoFocus&&this.options.keyboard.bindToWindow===!1&&this.options.keyboard.enabled===!0&&this.canvas.frame.focus(),n===!1&&(this.popupTimer!==void 0&&(clearInterval(this.popupTimer),this.popupTimer=void 0),this.drag.dragging||(this.popupTimer=as(()=>this._checkShowPopup(r),this.options.tooltipDelay))),this.options.hover===!0&&this.selectionHandler.hoverObject(e,r)}_checkShowPopup(e){const r=this.canvas._XconvertDOMtoCanvas(e.x),n=this.canvas._YconvertDOMtoCanvas(e.y),i={left:r,top:n,right:r,bottom:n},s=this.popupObj===void 0?void 0:this.popupObj.id;let a=!1,o="node";if(this.popupObj===void 0){const l=this.body.nodeIndices,c=this.body.nodes;let d;const h=[];for(let f=0;f<l.length;f++)d=c[l[f]],d.isOverlappingWith(i)===!0&&(a=!0,d.getTitle()!==void 0&&h.push(l[f]));h.length>0&&(this.popupObj=c[h[h.length-1]],a=!0)}if(this.popupObj===void 0&&a===!1){const l=this.body.edgeIndices,c=this.body.edges;let d;const h=[];for(let f=0;f<l.length;f++)d=c[l[f]],d.isOverlappingWith(i)===!0&&d.connected===!0&&d.getTitle()!==void 0&&h.push(l[f]);h.length>0&&(this.popupObj=c[h[h.length-1]],o="edge")}this.popupObj!==void 0?this.popupObj.id!==s&&(this.popup===void 0&&(this.popup=new Gve(this.canvas.frame)),this.popup.popupTargetType=o,this.popup.popupTargetId=this.popupObj.id,this.popup.setPosition(e.x+3,e.y-5),this.popup.setText(this.popupObj.getTitle()),this.popup.show(),this.body.emitter.emit("showPopup",this.popupObj.id)):this.popup!==void 0&&(this.popup.hide(),this.body.emitter.emit("hidePopup"))}_checkHidePopup(e){const r=this.selectionHandler._pointerToPositionObject(e);let n=!1;if(this.popup.popupTargetType==="node"){if(this.body.nodes[this.popup.popupTargetId]!==void 0&&(n=this.body.nodes[this.popup.popupTargetId].isOverlappingWith(r),n===!0)){const i=this.selectionHandler.getNodeAt(e);n=i===void 0?!1:i.id===this.popup.popupTargetId}}else this.selectionHandler.getNodeAt(e)===void 0&&this.body.edges[this.popup.popupTargetId]!==void 0&&(n=this.body.edges[this.popup.popupTargetId].isOverlappingWith(r));n===!1&&(this.popupObj=void 0,this.popup.hide(),this.body.emitter.emit("hidePopup"))}}var dU={},hU={},fU;function Dbe(){if(fU)return hU;fU=1;var t=oT(),e=fQ();return t("Set",function(r){return function(){return r(this,arguments.length?arguments[0]:void 0)}},e),hU}var pU;function Mbe(){return pU||(pU=1,Dbe()),dU}var mU={},i2,vU;function Jo(){if(vU)return i2;vU=1;var t=Gu(),e=TypeError;return i2=function(r){if(typeof r=="object"&&"size"in r&&"has"in r&&"add"in r&&"delete"in r&&"keys"in r)return r;throw new e(t(r)+" is not a set")},i2}var s2,gU;function Zo(){if(gU)return s2;gU=1;var t=Nn(),e=pQ(),r=t("Set"),n=r.prototype;return s2={Set:r,add:e("add",1),has:e("has",1),remove:e("delete",1),proto:n},s2}var a2,yU;function el(){if(yU)return a2;yU=1;var t=hn();return a2=function(e,r,n){for(var i=n?e:e.iterator,s=e.next,a,o;!(a=t(s,i)).done;)if(o=r(a.value),o!==void 0)return o},a2}var o2,bU;function Ih(){if(bU)return o2;bU=1;var t=el();return o2=function(e,r,n){return n?t(e.keys(),r,!0):e.forEach(r)},o2}var l2,xU;function pT(){if(xU)return l2;xU=1;var t=Zo(),e=Ih(),r=t.Set,n=t.add;return l2=function(i){var s=new r;return e(i,function(a){n(s,a)}),s},l2}var u2,wU;function Rh(){return wU||(wU=1,u2=function(t){return t.size}),u2}var c2,_U;function qbe(){return _U||(_U=1,c2=function(t){return{iterator:t,next:t.next,done:!1}}),c2}var d2,SU;function tl(){if(SU)return d2;SU=1;var t=Os(),e=Ai(),r=hn(),n=Ju(),i=qbe(),s="Invalid size",a=RangeError,o=TypeError,l=Math.max,c=function(d,h){this.set=d,this.size=l(h,0),this.has=t(d.has),this.keys=t(d.keys)};return c.prototype={getIterator:function(){return i(e(r(this.keys,this.set)))},includes:function(d){return r(this.has,this.set,d)}},d2=function(d){e(d);var h=+d.size;if(h!==h)throw new o(s);var f=n(h);if(f<0)throw new a(s);return new c(d,f)},d2}var h2,EU;function Abe(){if(EU)return h2;EU=1;var t=Jo(),e=Zo(),r=pT(),n=Rh(),i=tl(),s=Ih(),a=el(),o=e.has,l=e.remove;return h2=function(d){var h=t(this),f=i(d),p=r(h);return n(h)<=f.size?s(h,function(m){f.includes(m)&&l(p,m)}):a(f.getIterator(),function(m){o(p,m)&&l(p,m)}),p},h2}var f2,NU;function rl(){return NU||(NU=1,f2=function(){return!1}),f2}var OU;function Fbe(){if(OU)return mU;OU=1;var t=Se(),e=Abe(),r=Be(),n=rl(),i=!n("difference",function(a){return a.size===0}),s=i||r(function(){var a={size:1,has:function(){return!0},keys:function(){var l=0;return{next:function(){var c=l++>1;return o.has(1)&&o.clear(),{done:c,value:2}}}}},o=new Set([1,2,3,4]);return o.difference(a).size!==3});return t({target:"Set",proto:!0,real:!0,forced:s},{difference:e}),mU}var CU={},p2,PU;function Lbe(){if(PU)return p2;PU=1;var t=Jo(),e=Zo(),r=Rh(),n=tl(),i=Ih(),s=el(),a=e.Set,o=e.add,l=e.has;return p2=function(d){var h=t(this),f=n(d),p=new a;return r(h)>f.size?s(f.getIterator(),function(m){l(h,m)&&o(p,m)}):i(h,function(m){f.includes(m)&&o(p,m)}),p},p2}var TU;function Bbe(){if(TU)return CU;TU=1;var t=Se(),e=Be(),r=Lbe(),n=rl(),i=!n("intersection",function(s){return s.size===2&&s.has(1)&&s.has(2)})||e(function(){return String(Array.from(new Set([1,2,3]).intersection(new Set([3,2]))))!=="3,2"});return t({target:"Set",proto:!0,real:!0,forced:i},{intersection:r}),CU}var jU={},m2,IU;function zbe(){if(IU)return m2;IU=1;var t=Jo(),e=Zo().has,r=Rh(),n=tl(),i=Ih(),s=el(),a=sT();return m2=function(l){var c=t(this),d=n(l);if(r(c)<=d.size)return i(c,function(f){if(d.includes(f))return!1},!0)!==!1;var h=d.getIterator();return s(h,function(f){if(e(c,f))return a(h,"normal",!1)})!==!1},m2}var RU;function Ube(){if(RU)return jU;RU=1;var t=Se(),e=zbe(),r=rl(),n=!r("isDisjointFrom",function(i){return!i});return t({target:"Set",proto:!0,real:!0,forced:n},{isDisjointFrom:e}),jU}var $U={},v2,kU;function Wbe(){if(kU)return v2;kU=1;var t=Jo(),e=Rh(),r=Ih(),n=tl();return v2=function(s){var a=t(this),o=n(s);return e(a)>o.size?!1:r(a,function(l){if(!o.includes(l))return!1},!0)!==!1},v2}var DU;function Hbe(){if(DU)return $U;DU=1;var t=Se(),e=Wbe(),r=rl(),n=!r("isSubsetOf",function(i){return i});return t({target:"Set",proto:!0,real:!0,forced:n},{isSubsetOf:e}),$U}var MU={},g2,qU;function Vbe(){if(qU)return g2;qU=1;var t=Jo(),e=Zo().has,r=Rh(),n=tl(),i=el(),s=sT();return g2=function(o){var l=t(this),c=n(o);if(r(l)<c.size)return!1;var d=c.getIterator();return i(d,function(h){if(!e(l,h))return s(d,"normal",!1)})!==!1},g2}var AU;function Kbe(){if(AU)return MU;AU=1;var t=Se(),e=Vbe(),r=rl(),n=!r("isSupersetOf",function(i){return!i});return t({target:"Set",proto:!0,real:!0,forced:n},{isSupersetOf:e}),MU}var FU={},y2,LU;function Gbe(){if(LU)return y2;LU=1;var t=Jo(),e=Zo(),r=pT(),n=tl(),i=el(),s=e.add,a=e.has,o=e.remove;return y2=function(c){var d=t(this),h=n(c).getIterator(),f=r(d);return i(h,function(p){a(d,p)?o(f,p):s(f,p)}),f},y2}var b2,BU;function NQ(){return BU||(BU=1,b2=function(t){try{var e=new Set,r={size:0,has:function(){return!0},keys:function(){return Object.defineProperty({},"next",{get:function(){return e.clear(),e.add(4),function(){return{done:!0}}}})}},n=e[t](r);return n.size===1&&n.values().next().value===4}catch{return!1}}),b2}var zU;function Ybe(){if(zU)return FU;zU=1;var t=Se(),e=Gbe(),r=NQ(),n=rl(),i=!n("symmetricDifference")||!r("symmetricDifference");return t({target:"Set",proto:!0,real:!0,forced:i},{symmetricDifference:e}),FU}var UU={},x2,WU;function Qbe(){if(WU)return x2;WU=1;var t=Jo(),e=Zo().add,r=pT(),n=tl(),i=el();return x2=function(a){var o=t(this),l=n(a).getIterator(),c=r(o);return i(l,function(d){e(c,d)}),c},x2}var HU;function Xbe(){if(HU)return UU;HU=1;var t=Se(),e=Qbe(),r=NQ(),n=rl(),i=!n("union")||!r("union");return t({target:"Set",proto:!0,real:!0,forced:i},{union:e}),UU}var w2,VU;function Jbe(){if(VU)return w2;VU=1,rc(),Mbe(),Fbe(),Bbe(),Ube(),Hbe(),Kbe(),Ybe(),Xbe(),uT();var t=tt();return w2=t.Set,w2}var _2,KU;function Zbe(){if(KU)return _2;KU=1;var t=Jbe();return nc(),_2=t,_2}var S2,GU;function e1e(){return GU||(GU=1,S2=Zbe()),S2}var t1e=e1e(),qs=Pe(t1e),YU={},QU={},E2,XU;function r1e(){if(XU)return E2;XU=1;var t=We(),e=lT(),r=Mm().getWeakData,n=aT(),i=Ai(),s=Hu(),a=fr(),o=qm(),l=Ta(),c=wr(),d=Yo(),h=d.set,f=d.getterFor,p=l.find,m=l.findIndex,y=t([].splice),x=0,g=function(b){return b.frozen||(b.frozen=new v)},v=function(){this.entries=[]},w=function(b,_){return p(b.entries,function(E){return E[0]===_})};return v.prototype={get:function(b){var _=w(this,b);if(_)return _[1]},has:function(b){return!!w(this,b)},set:function(b,_){var E=w(this,b);E?E[1]=_:this.entries.push([b,_])},delete:function(b){var _=m(this.entries,function(E){return E[0]===b});return~_&&y(this.entries,_,1),!!~_}},E2={getConstructor:function(b,_,E,N){var S=b(function(P,j){n(P,O),h(P,{type:_,id:x++,frozen:null}),s(j)||o(j,P[N],{that:P,AS_ENTRIES:E})}),O=S.prototype,C=f(_),T=function(P,j,D){var L=C(P),G=r(i(j),!0);return G===!0?g(L).set(j,D):G[L.id]=D,P};return e(O,{delete:function(P){var j=C(this);if(!a(P))return!1;var D=r(P);return D===!0?g(j).delete(P):D&&c(D,j.id)&&delete D[j.id]},has:function(j){var D=C(this);if(!a(j))return!1;var L=r(j);return L===!0?g(D).has(j):L&&c(L,D.id)}}),e(O,E?{get:function(j){var D=C(this);if(a(j)){var L=r(j);if(L===!0)return g(D).get(j);if(L)return L[D.id]}},set:function(j,D){return T(this,j,D)}}:{add:function(j){return T(this,j,!0)}}),S}},E2}var JU;function n1e(){if(JU)return QU;JU=1;var t=dQ(),e=_t(),r=We(),n=lT(),i=Mm(),s=oT(),a=r1e(),o=fr(),l=Yo().enforce,c=Be(),d=fY(),h=Object,f=Array.isArray,p=h.isExtensible,m=h.isFrozen,y=h.isSealed,x=h.freeze,g=h.seal,v=!e.ActiveXObject&&"ActiveXObject"in e,w,b=function(P){return function(){return P(this,arguments.length?arguments[0]:void 0)}},_=s("WeakMap",b,a),E=_.prototype,N=r(E.set),S=function(){return t&&c(function(){var P=x([]);return N(new _,P,1),!m(P)})};if(d)if(v){w=a.getConstructor(b,"WeakMap",!0),i.enable();var O=r(E.delete),C=r(E.has),T=r(E.get);n(E,{delete:function(P){if(o(P)&&!p(P)){var j=l(this);return j.frozen||(j.frozen=new w),O(this,P)||j.frozen.delete(P)}return O(this,P)},has:function(j){if(o(j)&&!p(j)){var D=l(this);return D.frozen||(D.frozen=new w),C(this,j)||D.frozen.has(j)}return C(this,j)},get:function(j){if(o(j)&&!p(j)){var D=l(this);return D.frozen||(D.frozen=new w),C(this,j)?T(this,j):D.frozen.get(j)}return T(this,j)},set:function(j,D){if(o(j)&&!p(j)){var L=l(this);L.frozen||(L.frozen=new w),C(this,j)?N(this,j,D):L.frozen.set(j,D)}else N(this,j,D);return this}})}else S()&&n(E,{set:function(j,D){var L;return f(j)&&(m(j)?L=x:y(j)&&(L=g)),N(this,j,D),L&&L(j),this}});return QU}var ZU;function i1e(){return ZU||(ZU=1,n1e()),YU}var N2,eW;function s1e(){if(eW)return N2;eW=1,rc(),i1e();var t=tt();return N2=t.WeakMap,N2}var O2,tW;function a1e(){if(tW)return O2;tW=1;var t=s1e();return nc(),O2=t,O2}var C2,rW;function o1e(){return rW||(rW=1,C2=a1e()),C2}var l1e=o1e(),$h=Pe(l1e);function Jc(t,e,r){u1e(t,e),e.set(t,r)}function u1e(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function LO(t,e,r){return t.set(OQ(t,e),r),r}function ct(t,e){return t.get(OQ(t,e))}function OQ(t,e,r){if(typeof t=="function"?t===e:t.has(e))return arguments.length<3?e:r;throw new TypeError("Private element is not present on this object")}function nW(t,e){const r=new qs;for(const n of e)t.has(n)||r.add(n);return r}var cl=new $h,Xn=new $h;class iW{constructor(){Jc(this,cl,new qs),Jc(this,Xn,new qs)}get size(){return ct(Xn,this).size}add(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];for(const i of r)ct(Xn,this).add(i)}delete(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];for(const i of r)ct(Xn,this).delete(i)}clear(){ct(Xn,this).clear()}getSelection(){return[...ct(Xn,this)]}getChanges(){return{added:[...nW(ct(cl,this),ct(Xn,this))],deleted:[...nW(ct(Xn,this),ct(cl,this))],previous:[...new qs(ct(cl,this))],current:[...new qs(ct(Xn,this))]}}commit(){const e=this.getChanges();LO(cl,this,ct(Xn,this)),LO(Xn,this,new qs(ct(cl,this)));for(const r of e.added)r.select();for(const r of e.deleted)r.unselect();return e}}var ka=new $h,Da=new $h,P2=new $h;class c1e{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:()=>{};Jc(this,ka,new iW),Jc(this,Da,new iW),Jc(this,P2,void 0),LO(P2,this,e)}get sizeNodes(){return ct(ka,this).size}get sizeEdges(){return ct(Da,this).size}getNodes(){return ct(ka,this).getSelection()}getEdges(){return ct(Da,this).getSelection()}addNodes(){ct(ka,this).add(...arguments)}addEdges(){ct(Da,this).add(...arguments)}deleteNodes(e){ct(ka,this).delete(e)}deleteEdges(e){ct(Da,this).delete(e)}clear(){ct(ka,this).clear(),ct(Da,this).clear()}commit(){const e={nodes:ct(ka,this).commit(),edges:ct(Da,this).commit()};for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return ct(P2,this).call(this,e,...n),e}}class d1e{constructor(e,r){this.body=e,this.canvas=r,this._selectionAccumulator=new c1e,this.hoverObj={nodes:{},edges:{}},this.options={},this.defaultOptions={multiselect:!1,selectable:!0,selectConnectedEdges:!0,hoverConnectedEdges:!0},Ht(this.options,this.defaultOptions),this.body.emitter.on("_dataChanged",()=>{this.updateSelection()})}setOptions(e){e!==void 0&&ac(["multiselect","hoverConnectedEdges","selectable","selectConnectedEdges"],this.options,e)}selectOnPoint(e){let r=!1;if(this.options.selectable===!0){const n=this.getNodeAt(e)||this.getEdgeAt(e);this.unselectAll(),n!==void 0&&(r=this.selectObject(n)),this.body.emitter.emit("_requestRedraw")}return r}selectAdditionalOnPoint(e){let r=!1;if(this.options.selectable===!0){const n=this.getNodeAt(e)||this.getEdgeAt(e);n!==void 0&&(r=!0,n.isSelected()===!0?this.deselectObject(n):this.selectObject(n),this.body.emitter.emit("_requestRedraw"))}return r}_initBaseEvent(e,r){const n={};return n.pointer={DOM:{x:r.x,y:r.y},canvas:this.canvas.DOMtoCanvas(r)},n.event=e,n}generateClickEvent(e,r,n,i){let s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1;const a=this._initBaseEvent(r,n);if(s===!0)a.nodes=[],a.edges=[];else{const o=this.getSelection();a.nodes=o.nodes,a.edges=o.edges}i!==void 0&&(a.previousSelection=i),e=="click"&&(a.items=this.getClickedItems(n)),r.controlEdge!==void 0&&(a.controlEdge=r.controlEdge),this.body.emitter.emit(e,a)}selectObject(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.options.selectConnectedEdges;return e!==void 0?(e instanceof xt?(r===!0&&this._selectionAccumulator.addEdges(...e.edges),this._selectionAccumulator.addNodes(e)):this._selectionAccumulator.addEdges(e),!0):!1}deselectObject(e){e.isSelected()===!0&&(e.selected=!1,this._removeFromSelection(e))}_getAllNodesOverlappingWith(e){const r=[],n=this.body.nodes;for(let i=0;i<this.body.nodeIndices.length;i++){const s=this.body.nodeIndices[i];n[s].isOverlappingWith(e)&&r.push(s)}return r}_pointerToPositionObject(e){const r=this.canvas.DOMtoCanvas(e);return{left:r.x-1,top:r.y+1,right:r.x+1,bottom:r.y-1}}getNodeAt(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;const n=this._pointerToPositionObject(e),i=this._getAllNodesOverlappingWith(n);if(i.length>0)return r===!0?this.body.nodes[i[i.length-1]]:i[i.length-1]}_getEdgesOverlappingWith(e,r){const n=this.body.edges;for(let i=0;i<this.body.edgeIndices.length;i++){const s=this.body.edgeIndices[i];n[s].isOverlappingWith(e)&&r.push(s)}}_getAllEdgesOverlappingWith(e){const r=[];return this._getEdgesOverlappingWith(e,r),r}getEdgeAt(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;const n=this.canvas.DOMtoCanvas(e);let i=10,s=null;const a=this.body.edges;for(let o=0;o<this.body.edgeIndices.length;o++){const l=this.body.edgeIndices[o],c=a[l];if(c.connected){const d=c.from.x,h=c.from.y,f=c.to.x,p=c.to.y,m=c.edgeType.getDistanceToEdge(d,h,f,p,n.x,n.y);m<i&&(s=l,i=m)}}if(s!==null)return r===!0?this.body.edges[s]:s}_addToHover(e){e instanceof xt?this.hoverObj.nodes[e.id]=e:this.hoverObj.edges[e.id]=e}_removeFromSelection(e){e instanceof xt?(this._selectionAccumulator.deleteNodes(e),this._selectionAccumulator.deleteEdges(...e.edges)):this._selectionAccumulator.deleteEdges(e)}unselectAll(){this._selectionAccumulator.clear()}getSelectedNodeCount(){return this._selectionAccumulator.sizeNodes}getSelectedEdgeCount(){return this._selectionAccumulator.sizeEdges}_hoverConnectedEdges(e){for(let r=0;r<e.edges.length;r++){const n=e.edges[r];n.hover=!0,this._addToHover(n)}}emitBlurEvent(e,r,n){const i=this._initBaseEvent(e,r);n.hover===!0&&(n.hover=!1,n instanceof xt?(i.node=n.id,this.body.emitter.emit("blurNode",i)):(i.edge=n.id,this.body.emitter.emit("blurEdge",i)))}emitHoverEvent(e,r,n){const i=this._initBaseEvent(e,r);let s=!1;return n.hover===!1&&(n.hover=!0,this._addToHover(n),s=!0,n instanceof xt?(i.node=n.id,this.body.emitter.emit("hoverNode",i)):(i.edge=n.id,this.body.emitter.emit("hoverEdge",i))),s}hoverObject(e,r){let n=this.getNodeAt(r);n===void 0&&(n=this.getEdgeAt(r));let i=!1;for(const s in this.hoverObj.nodes)Object.prototype.hasOwnProperty.call(this.hoverObj.nodes,s)&&(n===void 0||n instanceof xt&&n.id!=s||n instanceof fa)&&(this.emitBlurEvent(e,r,this.hoverObj.nodes[s]),delete this.hoverObj.nodes[s],i=!0);for(const s in this.hoverObj.edges)Object.prototype.hasOwnProperty.call(this.hoverObj.edges,s)&&(i===!0?(this.hoverObj.edges[s].hover=!1,delete this.hoverObj.edges[s]):(n===void 0||n instanceof fa&&n.id!=s||n instanceof xt&&!n.hover)&&(this.emitBlurEvent(e,r,this.hoverObj.edges[s]),delete this.hoverObj.edges[s],i=!0));if(n!==void 0){const s=Rt(this.hoverObj.edges).length,a=Rt(this.hoverObj.nodes).length,o=n instanceof fa&&s===0&&a===0,l=n instanceof xt&&s===0&&a===0;(i||o||l)&&(i=this.emitHoverEvent(e,r,n)),n instanceof xt&&this.options.hoverConnectedEdges===!0&&this._hoverConnectedEdges(n)}i===!0&&this.body.emitter.emit("_requestRedraw")}commitWithoutEmitting(){this._selectionAccumulator.commit()}commitAndEmit(e,r){let n=!1;const i=this._selectionAccumulator.commit(),s={nodes:i.nodes.previous,edges:i.edges.previous};i.edges.deleted.length>0&&(this.generateClickEvent("deselectEdge",r,e,s),n=!0),i.nodes.deleted.length>0&&(this.generateClickEvent("deselectNode",r,e,s),n=!0),i.nodes.added.length>0&&(this.generateClickEvent("selectNode",r,e),n=!0),i.edges.added.length>0&&(this.generateClickEvent("selectEdge",r,e),n=!0),n===!0&&this.generateClickEvent("select",r,e)}getSelection(){return{nodes:this.getSelectedNodeIds(),edges:this.getSelectedEdgeIds()}}getSelectedNodes(){return this._selectionAccumulator.getNodes()}getSelectedEdges(){return this._selectionAccumulator.getEdges()}getSelectedNodeIds(){var e;return bu(e=this._selectionAccumulator.getNodes()).call(e,r=>r.id)}getSelectedEdgeIds(){var e;return bu(e=this._selectionAccumulator.getEdges()).call(e,r=>r.id)}setSelection(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!e||!e.nodes&&!e.edges)throw new TypeError("Selection must be an object with nodes and/or edges properties");if((r.unselectAll||r.unselectAll===void 0)&&this.unselectAll(),e.nodes)for(const n of e.nodes){const i=this.body.nodes[n];if(!i)throw new RangeError('Node with id "'+n+'" not found');this.selectObject(i,r.highlightEdges)}if(e.edges)for(const n of e.edges){const i=this.body.edges[n];if(!i)throw new RangeError('Edge with id "'+n+'" not found');this.selectObject(i)}this.body.emitter.emit("_requestRedraw"),this._selectionAccumulator.commit()}selectNodes(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(!e||e.length===void 0)throw"Selection must be an array with ids";this.setSelection({nodes:e},{highlightEdges:r})}selectEdges(e){if(!e||e.length===void 0)throw"Selection must be an array with ids";this.setSelection({edges:e})}updateSelection(){for(const e in this._selectionAccumulator.getNodes())Object.prototype.hasOwnProperty.call(this.body.nodes,e.id)||this._selectionAccumulator.deleteNodes(e);for(const e in this._selectionAccumulator.getEdges())Object.prototype.hasOwnProperty.call(this.body.edges,e.id)||this._selectionAccumulator.deleteEdges(e)}getClickedItems(e){const r=this.canvas.DOMtoCanvas(e),n=[],i=this.body.nodeIndices,s=this.body.nodes;for(let l=i.length-1;l>=0;l--){const d=s[i[l]].getItemsOnPoint(r);n.push.apply(n,d)}const a=this.body.edgeIndices,o=this.body.edges;for(let l=a.length-1;l>=0;l--){const d=o[a[l]].getItemsOnPoint(r);n.push.apply(n,d)}return n}}var sW={},T2,aW;function h1e(){if(aW)return T2;aW=1;var t=Zu(),e=Math.floor,r=function(n,i){var s=n.length;if(s<8)for(var a=1,o,l;a<s;){for(l=a,o=n[a];l&&i(n[l-1],o)>0;)n[l]=n[--l];l!==a++&&(n[l]=o)}else for(var c=e(s/2),d=r(t(n,0,c),i),h=r(t(n,c),i),f=d.length,p=h.length,m=0,y=0;m<f||y<p;)n[m+y]=m<f&&y<p?i(d[m],h[y])<=0?d[m++]:h[y++]:m<f?d[m++]:h[y++];return n};return T2=r,T2}var j2,oW;function f1e(){if(oW)return j2;oW=1;var t=Vu(),e=t.match(/firefox\/(\d+)/i);return j2=!!e&&+e[1],j2}var I2,lW;function p1e(){if(lW)return I2;lW=1;var t=Vu();return I2=/MSIE|Trident/.test(t),I2}var R2,uW;function m1e(){if(uW)return R2;uW=1;var t=Vu(),e=t.match(/AppleWebKit\/(\d+)\./);return R2=!!e&&+e[1],R2}var cW;function v1e(){if(cW)return sW;cW=1;var t=Se(),e=We(),r=Os(),n=On(),i=Cs(),s=EY(),a=Kn(),o=Be(),l=h1e(),c=ic(),d=f1e(),h=p1e(),f=gh(),p=m1e(),m=[],y=e(m.sort),x=e(m.push),g=o(function(){m.sort(void 0)}),v=o(function(){m.sort(null)}),w=c("sort"),b=!o(function(){if(f)return f<70;if(!(d&&d>3)){if(h)return!0;if(p)return p<603;var N="",S,O,C,T;for(S=65;S<76;S++){switch(O=String.fromCharCode(S),S){case 66:case 69:case 70:case 72:C=3;break;case 68:case 71:C=4;break;default:C=2}for(T=0;T<47;T++)m.push({k:O+T,v:C})}for(m.sort(function(P,j){return j.v-P.v}),T=0;T<m.length;T++)O=m[T].k.charAt(0),N.charAt(N.length-1)!==O&&(N+=O);return N!=="DGBEFHACIJK"}}),_=g||!v||!w||!b,E=function(N){return function(S,O){return O===void 0?-1:S===void 0?1:N!==void 0?+N(S,O)||0:a(S)>a(O)?1:-1}};return t({target:"Array",proto:!0,forced:_},{sort:function(S){S!==void 0&&r(S);var O=n(this);if(b)return S===void 0?y(O):y(O,S);var C=[],T=i(O),P,j;for(j=0;j<T;j++)j in O&&x(C,O[j]);for(l(C,E(S)),P=i(C),j=0;j<P;)O[j]=C[j++];for(;j<T;)s(O,j++);return O}}),sW}var $2,dW;function g1e(){if(dW)return $2;dW=1,v1e();var t=_r();return $2=t("Array","sort"),$2}var k2,hW;function y1e(){if(hW)return k2;hW=1;var t=Yt(),e=g1e(),r=Array.prototype;return k2=function(n){var i=n.sort;return n===r||t(r,n)&&i===r.sort?e:i},k2}var D2,fW;function b1e(){if(fW)return D2;fW=1;var t=y1e();return D2=t,D2}var M2,pW;function x1e(){return pW||(pW=1,M2=b1e()),M2}var w1e=x1e(),Ll=Pe(w1e),mW={},q2,vW;function _1e(){if(vW)return q2;vW=1;var t=Os(),e=On(),r=_m(),n=Cs(),i=TypeError,s="Reduce of empty array with no initial value",a=function(o){return function(l,c,d,h){var f=e(l),p=r(f),m=n(f);if(t(c),m===0&&d<2)throw new i(s);var y=o?m-1:0,x=o?-1:1;if(d<2)for(;;){if(y in p){h=p[y],y+=x;break}if(y+=x,o?y<0:m<=y)throw new i(s)}for(;o?y>=0:m>y;y+=x)y in p&&(h=c(h,p[y],y,f));return h}};return q2={left:a(!1),right:a(!0)},q2}var A2,gW;function S1e(){if(gW)return A2;gW=1;var t=OY();return A2=t==="NODE",A2}var yW;function E1e(){if(yW)return mW;yW=1;var t=Se(),e=_1e().left,r=ic(),n=gh(),i=S1e(),s=!i&&n>79&&n<83,a=s||!r("reduce");return t({target:"Array",proto:!0,forced:a},{reduce:function(l){var c=arguments.length;return e(this,l,c,c>1?arguments[1]:void 0)}}),mW}var F2,bW;function N1e(){if(bW)return F2;bW=1,E1e();var t=_r();return F2=t("Array","reduce"),F2}var L2,xW;function O1e(){if(xW)return L2;xW=1;var t=Yt(),e=N1e(),r=Array.prototype;return L2=function(n){var i=n.reduce;return n===r||t(r,n)&&i===r.reduce?e:i},L2}var B2,wW;function C1e(){if(wW)return B2;wW=1;var t=O1e();return B2=t,B2}var z2,_W;function P1e(){return _W||(_W=1,z2=C1e()),z2}var T1e=P1e(),CQ=Pe(T1e);class PQ{abstract(){throw new Error("Can't instantiate abstract class!")}fake_use(){}curveType(){return this.abstract()}getPosition(e){return this.fake_use(e),this.abstract()}setPosition(e,r){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0;this.fake_use(e,r,n),this.abstract()}getTreeSize(e){return this.fake_use(e),this.abstract()}sort(e){this.fake_use(e),this.abstract()}fix(e,r){this.fake_use(e,r),this.abstract()}shift(e,r){this.fake_use(e,r),this.abstract()}}class j1e extends PQ{constructor(e){super(),this.layout=e}curveType(){return"horizontal"}getPosition(e){return e.x}setPosition(e,r){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0;n!==void 0&&this.layout.hierarchical.addToOrdering(e,n),e.x=r}getTreeSize(e){const r=this.layout.hierarchical.getTreeSize(this.layout.body.nodes,e);return{min:r.min_x,max:r.max_x}}sort(e){Ll(e).call(e,function(r,n){return r.x-n.x})}fix(e,r){e.y=this.layout.options.hierarchical.levelSeparation*r,e.options.fixed.y=!0}shift(e,r){this.layout.body.nodes[e].x+=r}}class I1e extends PQ{constructor(e){super(),this.layout=e}curveType(){return"vertical"}getPosition(e){return e.y}setPosition(e,r){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0;n!==void 0&&this.layout.hierarchical.addToOrdering(e,n),e.y=r}getTreeSize(e){const r=this.layout.hierarchical.getTreeSize(this.layout.body.nodes,e);return{min:r.min_y,max:r.max_y}}sort(e){Ll(e).call(e,function(r,n){return r.y-n.y})}fix(e,r){e.x=this.layout.options.hierarchical.levelSeparation*r,e.options.fixed.x=!0}shift(e,r){this.layout.body.nodes[e].y+=r}}var SW={},EW;function R1e(){if(EW)return SW;EW=1;var t=Se(),e=Ta().every,r=ic(),n=r("every");return t({target:"Array",proto:!0,forced:!n},{every:function(s){return e(this,s,arguments.length>1?arguments[1]:void 0)}}),SW}var U2,NW;function $1e(){if(NW)return U2;NW=1,R1e();var t=_r();return U2=t("Array","every"),U2}var W2,OW;function k1e(){if(OW)return W2;OW=1;var t=Yt(),e=$1e(),r=Array.prototype;return W2=function(n){var i=n.every;return n===r||t(r,n)&&i===r.every?e:i},W2}var H2,CW;function D1e(){if(CW)return H2;CW=1;var t=k1e();return H2=t,H2}var V2,PW;function M1e(){return PW||(PW=1,V2=D1e()),V2}var q1e=M1e(),TQ=Pe(q1e);function A1e(t,e){const r=new qs;return at(t).call(t,n=>{var i;at(i=n.edges).call(i,s=>{s.connected&&r.add(s)})}),at(r).call(r,n=>{const i=n.from.id,s=n.to.id;e[i]==null&&(e[i]=0),(e[s]==null||e[i]>=e[s])&&(e[s]=e[i]+1)}),e}function F1e(t){return jQ(e=>{var r,n;return TQ(r=Zr(n=e.edges).call(n,i=>t.has(i.toId))).call(r,i=>i.to===e)},(e,r)=>r>e,"from",t)}function L1e(t){return jQ(e=>{var r,n;return TQ(r=Zr(n=e.edges).call(n,i=>t.has(i.toId))).call(r,i=>i.from===e)},(e,r)=>r<e,"to",t)}function jQ(t,e,r,n){var i;const s=po(null),a=CQ(i=[...xQ(n).call(n)]).call(i,(h,f)=>h+1+f.edges.length,0),o=r+"Id",l=r==="to"?1:-1;for(const[h,f]of n){if(!n.has(h)||!t(f))continue;s[h]=0;const p=[f];let m=0,y;for(;y=p.pop();){var c,d;if(!n.has(h))continue;const x=s[y.id]+l;if(at(c=Zr(d=y.edges).call(d,g=>g.connected&&g.to!==g.from&&g[r]!==y&&n.has(g.toId)&&n.has(g.fromId))).call(c,g=>{const v=g[o],w=s[v];(w==null||e(x,w))&&(s[v]=x,p.push(g[r]))}),m>a)return A1e(n,s);++m}}return s}class B1e{constructor(){this.childrenReference={},this.parentReference={},this.trees={},this.distributionOrdering={},this.levels={},this.distributionIndex={},this.isTree=!1,this.treeIndex=-1}addRelation(e,r){this.childrenReference[e]===void 0&&(this.childrenReference[e]=[]),this.childrenReference[e].push(r),this.parentReference[r]===void 0&&(this.parentReference[r]=[]),this.parentReference[r].push(e)}checkIfTree(){for(const e in this.parentReference)if(this.parentReference[e].length>1){this.isTree=!1;return}this.isTree=!0}numTrees(){return this.treeIndex+1}setTreeIndex(e,r){r!==void 0&&this.trees[e.id]===void 0&&(this.trees[e.id]=r,this.treeIndex=Math.max(r,this.treeIndex))}ensureLevel(e){this.levels[e]===void 0&&(this.levels[e]=0)}getMaxLevel(e){const r={},n=i=>{if(r[i]!==void 0)return r[i];let s=this.levels[i];if(this.childrenReference[i]){const a=this.childrenReference[i];if(a.length>0)for(let o=0;o<a.length;o++)s=Math.max(s,n(a[o]))}return r[i]=s,s};return n(e)}levelDownstream(e,r){this.levels[r.id]===void 0&&(this.levels[e.id]===void 0&&(this.levels[e.id]=0),this.levels[r.id]=this.levels[e.id]+1)}setMinLevelToZero(){var e;const r=new cT;let n=0;const i=Ll(e=[...new qs(rme(this.levels))]).call(e,(s,a)=>s-a);for(const s of i)r.set(s,n++);for(const s in this.levels)Object.prototype.hasOwnProperty.call(this.levels,s)&&(this.levels[s]=r.get(this.levels[s]))}getTreeSize(e,r){let n=1e9,i=-1e9,s=1e9,a=-1e9;for(const o in this.trees)if(Object.prototype.hasOwnProperty.call(this.trees,o)&&this.trees[o]===r){const l=e[o];n=Math.min(l.x,n),i=Math.max(l.x,i),s=Math.min(l.y,s),a=Math.max(l.y,a)}return{min_x:n,max_x:i,min_y:s,max_y:a}}hasSameParent(e,r){const n=this.parentReference[e.id],i=this.parentReference[r.id];if(n===void 0||i===void 0)return!1;for(let s=0;s<n.length;s++)for(let a=0;a<i.length;a++)if(n[s]==i[a])return!0;return!1}inSameSubNetwork(e,r){return this.trees[e.id]===this.trees[r.id]}getLevels(){return Rt(this.distributionOrdering)}addToOrdering(e,r){this.distributionOrdering[r]===void 0&&(this.distributionOrdering[r]=[]);let n=!1;const i=this.distributionOrdering[r];for(const s in i)if(i[s]===e){n=!0;break}n||(this.distributionOrdering[r].push(e),this.distributionIndex[e.id]=this.distributionOrdering[r].length-1)}}class z1e{constructor(e){this.body=e,this._resetRNG(Math.random()+":"+Ep()),this.setPhysics=!1,this.options={},this.optionsBackup={physics:{}},this.defaultOptions={randomSeed:void 0,improvedLayout:!0,clusterThreshold:150,hierarchical:{enabled:!1,levelSeparation:150,nodeSpacing:100,treeSpacing:200,blockShifting:!0,edgeMinimization:!0,parentCentralization:!0,direction:"UD",sortMethod:"hubsize"}},Ht(this.options,this.defaultOptions),this.bindEventListeners()}bindEventListeners(){this.body.emitter.on("_dataChanged",()=>{this.setupHierarchicalLayout()}),this.body.emitter.on("_dataLoaded",()=>{this.layoutNetwork()}),this.body.emitter.on("_resetHierarchicalLayout",()=>{this.setupHierarchicalLayout()}),this.body.emitter.on("_adjustEdgesForHierarchicalLayout",()=>{if(this.options.hierarchical.enabled!==!0)return;const e=this.direction.curveType();this.body.emitter.emit("_forceDisableDynamicCurves",e,!1)})}setOptions(e,r){if(e!==void 0){const n=this.options.hierarchical,i=n.enabled;if(ac(["randomSeed","improvedLayout","clusterThreshold"],this.options,e),$n(this.options,e,"hierarchical"),e.randomSeed!==void 0&&this._resetRNG(e.randomSeed),n.enabled===!0)return i===!0&&this.body.emitter.emit("refresh",!0),n.direction==="RL"||n.direction==="DU"?n.levelSeparation>0&&(n.levelSeparation*=-1):n.levelSeparation<0&&(n.levelSeparation*=-1),this.setDirectionStrategy(),this.body.emitter.emit("_resetHierarchicalLayout"),this.adaptAllOptionsForHierarchicalLayout(r);if(i===!0)return this.body.emitter.emit("refresh"),dt(r,this.optionsBackup)}return r}_resetRNG(e){this.initialRandomSeed=e,this._rng=Dm(this.initialRandomSeed)}adaptAllOptionsForHierarchicalLayout(e){if(this.options.hierarchical.enabled===!0){const r=this.optionsBackup.physics;e.physics===void 0||e.physics===!0?(e.physics={enabled:r.enabled===void 0?!0:r.enabled,solver:"hierarchicalRepulsion"},r.enabled=r.enabled===void 0?!0:r.enabled,r.solver=r.solver||"barnesHut"):typeof e.physics=="object"?(r.enabled=e.physics.enabled===void 0?!0:e.physics.enabled,r.solver=e.physics.solver||"barnesHut",e.physics.solver="hierarchicalRepulsion"):e.physics!==!1&&(r.solver="barnesHut",e.physics={solver:"hierarchicalRepulsion"});let n=this.direction.curveType();if(e.edges===void 0)this.optionsBackup.edges={smooth:{enabled:!0,type:"dynamic"}},e.edges={smooth:!1};else if(e.edges.smooth===void 0)this.optionsBackup.edges={smooth:{enabled:!0,type:"dynamic"}},e.edges.smooth=!1;else if(typeof e.edges.smooth=="boolean")this.optionsBackup.edges={smooth:e.edges.smooth},e.edges.smooth={enabled:e.edges.smooth,type:n};else{const i=e.edges.smooth;i.type!==void 0&&i.type!=="dynamic"&&(n=i.type),this.optionsBackup.edges={smooth:{enabled:i.enabled===void 0?!0:i.enabled,type:i.type===void 0?"dynamic":i.type,roundness:i.roundness===void 0?.5:i.roundness,forceDirection:i.forceDirection===void 0?!1:i.forceDirection}},e.edges.smooth={enabled:i.enabled===void 0?!0:i.enabled,type:n,roundness:i.roundness===void 0?.5:i.roundness,forceDirection:i.forceDirection===void 0?!1:i.forceDirection}}this.body.emitter.emit("_forceDisableDynamicCurves",n)}return e}positionInitially(e){if(this.options.hierarchical.enabled!==!0){this._resetRNG(this.initialRandomSeed);const r=e.length+50;for(let n=0;n<e.length;n++){const i=e[n],s=2*Math.PI*this._rng();i.x===void 0&&(i.x=r*Math.cos(s)),i.y===void 0&&(i.y=r*Math.sin(s))}}}layoutNetwork(){if(this.options.hierarchical.enabled!==!0&&this.options.improvedLayout===!0){const e=this.body.nodeIndices;let r=0;for(let n=0;n<e.length;n++)this.body.nodes[e[n]].predefinedPosition===!0&&(r+=1);if(r<.5*e.length){let i=0;const s=this.options.clusterThreshold,a={clusterNodeProperties:{shape:"ellipse",label:"",group:"",font:{multi:!1}},clusterEdgeProperties:{label:"",font:{multi:!1},smooth:{enabled:!1}}};if(e.length>s){const l=e.length;for(;e.length>s&&i<=10;){i+=1;const c=e.length;i%3===0?this.body.modules.clustering.clusterBridges(a):this.body.modules.clustering.clusterOutliers(a);const d=e.length;if(c==d&&i%3!==0){this._declusterAll(),this.body.emitter.emit("_layoutFailed"),console.info("This network could not be positioned by this version of the improved layout algorithm. Please disable improvedLayout for better performance.");return}}this.body.modules.kamadaKawai.setOptions({springLength:Math.max(150,2*l)})}i>10&&console.info("The clustering didn't succeed within the amount of interations allowed, progressing with partial result."),this.body.modules.kamadaKawai.solve(e,this.body.edgeIndices,!0),this._shiftToCenter();const o=70;for(let l=0;l<e.length;l++){const c=this.body.nodes[e[l]];c.predefinedPosition===!1&&(c.x+=(.5-this._rng())*o,c.y+=(.5-this._rng())*o)}this._declusterAll(),this.body.emitter.emit("_repositionBezierNodes")}}}_shiftToCenter(){const e=Fr.getRangeCore(this.body.nodes,this.body.nodeIndices),r=Fr.findCenter(e);for(let n=0;n<this.body.nodeIndices.length;n++){const i=this.body.nodes[this.body.nodeIndices[n]];i.x-=r.x,i.y-=r.y}}_declusterAll(){let e=!0;for(;e===!0;){e=!1;for(let r=0;r<this.body.nodeIndices.length;r++)this.body.nodes[this.body.nodeIndices[r]].isCluster===!0&&(e=!0,this.body.modules.clustering.openCluster(this.body.nodeIndices[r],{},!1));e===!0&&this.body.emitter.emit("_dataChanged")}}getSeed(){return this.initialRandomSeed}setupHierarchicalLayout(){if(this.options.hierarchical.enabled===!0&&this.body.nodeIndices.length>0){let e,r,n=!1,i=!1;this.lastNodeOnLevel={},this.hierarchical=new B1e;for(r in this.body.nodes)Object.prototype.hasOwnProperty.call(this.body.nodes,r)&&(e=this.body.nodes[r],e.options.level!==void 0?(n=!0,this.hierarchical.levels[r]=e.options.level):i=!0);if(i===!0&&n===!0)throw new Error("To use the hierarchical layout, nodes require either no predefined levels or levels have to be defined for all nodes.");{if(i===!0){const a=this.options.hierarchical.sortMethod;a==="hubsize"?this._determineLevelsByHubsize():a==="directed"?this._determineLevelsDirected():a==="custom"&&this._determineLevelsCustomCallback()}for(const a in this.body.nodes)Object.prototype.hasOwnProperty.call(this.body.nodes,a)&&this.hierarchical.ensureLevel(a);const s=this._getDistribution();this._generateMap(),this._placeNodesByHierarchy(s),this._condenseHierarchy(),this._shiftToCenter()}}}_condenseHierarchy(){var e=this;let r=!1;const n={},i=()=>{const g=a();let v=0;for(let w=0;w<g.length-1;w++){const b=g[w].max-g[w+1].min;v+=b+this.options.hierarchical.treeSpacing,s(w+1,v)}},s=(g,v)=>{const w=this.hierarchical.trees;for(const b in w)Object.prototype.hasOwnProperty.call(w,b)&&w[b]===g&&this.direction.shift(b,v)},a=()=>{const g=[];for(let v=0;v<this.hierarchical.numTrees();v++)g.push(this.direction.getTreeSize(v));return g},o=(g,v)=>{if(!v[g.id]&&(v[g.id]=!0,this.hierarchical.childrenReference[g.id])){const w=this.hierarchical.childrenReference[g.id];if(w.length>0)for(let b=0;b<w.length;b++)o(this.body.nodes[w[b]],v)}},l=function(g){let v=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1e9,w=1e9,b=1e9,_=1e9,E=-1e9;for(const N in g)if(Object.prototype.hasOwnProperty.call(g,N)){const S=e.body.nodes[N],O=e.hierarchical.levels[S.id],C=e.direction.getPosition(S),[T,P]=e._getSpaceAroundNode(S,g);w=Math.min(T,w),b=Math.min(P,b),O<=v&&(_=Math.min(C,_),E=Math.max(C,E))}return[_,E,w,b]},c=(g,v)=>{const w=this.hierarchical.getMaxLevel(g.id),b=this.hierarchical.getMaxLevel(v.id);return Math.min(w,b)},d=(g,v,w)=>{const b=this.hierarchical;for(let _=0;_<v.length;_++){const E=v[_],N=b.distributionOrdering[E];if(N.length>1)for(let S=0;S<N.length-1;S++){const O=N[S],C=N[S+1];b.hasSameParent(O,C)&&b.inSameSubNetwork(O,C)&&g(O,C,w)}}},h=function(g,v){let w=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;const b=e.direction.getPosition(g),_=e.direction.getPosition(v),E=Math.abs(_-b),N=e.options.hierarchical.nodeSpacing;if(E>N){const S={},O={};o(g,S),o(v,O);const C=c(g,v),T=l(S,C),P=l(O,C),j=T[1],D=P[0],L=P[2];if(Math.abs(j-D)>N){let H=j-D+N;H<-L+N&&(H=-L+N),H<0&&(e._shiftBlock(v.id,H),r=!0,w===!0&&e._centerParent(v))}}},f=(g,v)=>{const w=v.id,b=v.edges,_=this.hierarchical.levels[v.id],E=this.options.hierarchical.levelSeparation*this.options.hierarchical.levelSeparation,N={},S=[];for(let L=0;L<b.length;L++){const G=b[L];if(G.toId!=G.fromId){const H=G.toId==w?G.from:G.to;N[b[L].id]=H,this.hierarchical.levels[H.id]<_&&S.push(G)}}const O=(L,G)=>{let H=0;for(let F=0;F<G.length;F++)if(N[G[F].id]!==void 0){const V=this.direction.getPosition(N[G[F].id])-L;H+=V/Math.sqrt(V*V+E)}return H},C=(L,G)=>{let H=0;for(let F=0;F<G.length;F++)if(N[G[F].id]!==void 0){const V=this.direction.getPosition(N[G[F].id])-L;H-=E*Math.pow(V*V+E,-1.5)}return H},T=(L,G)=>{let H=this.direction.getPosition(v);const F={};for(let V=0;V<L;V++){const W=O(H,G),U=C(H,G),K=40,he=Math.max(-K,Math.min(K,Math.round(W/U)));if(H=H-he,F[H]!==void 0)break;F[H]=V}return H},P=L=>{const G=this.direction.getPosition(v);if(n[v.id]===void 0){const K={};o(v,K),n[v.id]=K}const H=l(n[v.id]),F=H[2],V=H[3],W=L-G;let U=0;W>0?U=Math.min(W,V-this.options.hierarchical.nodeSpacing):W<0&&(U=-Math.min(-W,F-this.options.hierarchical.nodeSpacing)),U!=0&&(this._shiftBlock(v.id,U),r=!0)},j=L=>{const G=this.direction.getPosition(v),[H,F]=this._getSpaceAroundNode(v),V=L-G;let W=G;V>0?W=Math.min(G+(F-this.options.hierarchical.nodeSpacing),L):V<0&&(W=Math.max(G-(H-this.options.hierarchical.nodeSpacing),L)),W!==G&&(this.direction.setPosition(v,W),r=!0)};let D=T(g,S);P(D),D=T(g,b),j(D)},p=g=>{let v=this.hierarchical.getLevels();v=fo(v).call(v);for(let w=0;w<g;w++){r=!1;for(let b=0;b<v.length;b++){const _=v[b],E=this.hierarchical.distributionOrdering[_];for(let N=0;N<E.length;N++)f(1e3,E[N])}if(r!==!0)break}},m=g=>{let v=this.hierarchical.getLevels();v=fo(v).call(v);for(let w=0;w<g&&(r=!1,d(h,v,!0),r===!0);w++);},y=()=>{for(const g in this.body.nodes)Object.prototype.hasOwnProperty.call(this.body.nodes,g)&&this._centerParent(this.body.nodes[g])},x=()=>{let g=this.hierarchical.getLevels();g=fo(g).call(g);for(let v=0;v<g.length;v++){const w=g[v],b=this.hierarchical.distributionOrdering[w];for(let _=0;_<b.length;_++)this._centerParent(b[_])}};this.options.hierarchical.blockShifting===!0&&(m(5),y()),this.options.hierarchical.edgeMinimization===!0&&p(20),this.options.hierarchical.parentCentralization===!0&&x(),i()}_getSpaceAroundNode(e,r){let n=!0;r===void 0&&(n=!1);const i=this.hierarchical.levels[e.id];if(i!==void 0){const s=this.hierarchical.distributionIndex[e.id],a=this.direction.getPosition(e),o=this.hierarchical.distributionOrdering[i];let l=1e9,c=1e9;if(s!==0){const d=o[s-1];if(n===!0&&r[d.id]===void 0||n===!1){const h=this.direction.getPosition(d);l=a-h}}if(s!=o.length-1){const d=o[s+1];if(n===!0&&r[d.id]===void 0||n===!1){const h=this.direction.getPosition(d);c=Math.min(c,h-a)}}return[l,c]}else return[0,0]}_centerParent(e){if(this.hierarchical.parentReference[e.id]){const r=this.hierarchical.parentReference[e.id];for(let n=0;n<r.length;n++){const i=r[n],s=this.body.nodes[i],a=this.hierarchical.childrenReference[i];if(a!==void 0){const o=this._getCenterPosition(a),l=this.direction.getPosition(s),[c,d]=this._getSpaceAroundNode(s),h=l-o;(h<0&&Math.abs(h)<d-this.options.hierarchical.nodeSpacing||h>0&&Math.abs(h)<c-this.options.hierarchical.nodeSpacing)&&this.direction.setPosition(s,o)}}}}_placeNodesByHierarchy(e){this.positionedNodes={};for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r;let i=Rt(e[n]);i=this._indexArrayToNodes(i),Ll(r=this.direction).call(r,i);let s=0;for(let a=0;a<i.length;a++){const o=i[a];if(this.positionedNodes[o.id]===void 0){const l=this.options.hierarchical.nodeSpacing;let c=l*s;s>0&&(c=this.direction.getPosition(i[a-1])+l),this.direction.setPosition(o,c,n),this._validatePositionAndContinue(o,n,c),s++}}}}_placeBranchNodes(e,r){var n;const i=this.hierarchical.childrenReference[e];if(i===void 0)return;const s=[];for(let o=0;o<i.length;o++)s.push(this.body.nodes[i[o]]);Ll(n=this.direction).call(n,s);for(let o=0;o<s.length;o++){const l=s[o],c=this.hierarchical.levels[l.id];if(c>r&&this.positionedNodes[l.id]===void 0){const d=this.options.hierarchical.nodeSpacing;let h;o===0?h=this.direction.getPosition(this.body.nodes[e]):h=this.direction.getPosition(s[o-1])+d,this.direction.setPosition(l,h,c),this._validatePositionAndContinue(l,c,h)}else return}const a=this._getCenterPosition(s);this.direction.setPosition(this.body.nodes[e],a,r)}_validatePositionAndContinue(e,r,n){if(this.hierarchical.isTree){if(this.lastNodeOnLevel[r]!==void 0){const i=this.direction.getPosition(this.body.nodes[this.lastNodeOnLevel[r]]);if(n-i<this.options.hierarchical.nodeSpacing){const s=i+this.options.hierarchical.nodeSpacing-n,a=this._findCommonParent(this.lastNodeOnLevel[r],e.id);this._shiftBlock(a.withChild,s)}}this.lastNodeOnLevel[r]=e.id,this.positionedNodes[e.id]=!0,this._placeBranchNodes(e.id,r)}}_indexArrayToNodes(e){const r=[];for(let n=0;n<e.length;n++)r.push(this.body.nodes[e[n]]);return r}_getDistribution(){const e={};let r,n;for(r in this.body.nodes)if(Object.prototype.hasOwnProperty.call(this.body.nodes,r)){n=this.body.nodes[r];const i=this.hierarchical.levels[r]===void 0?0:this.hierarchical.levels[r];this.direction.fix(n,i),e[i]===void 0&&(e[i]={}),e[i][r]=n}return e}_getActiveEdges(e){const r=[];return De(e.edges,n=>{var i;Je(i=this.body.edgeIndices).call(i,n.id)!==-1&&r.push(n)}),r}_getHubSizes(){const e={},r=this.body.nodeIndices;De(r,i=>{const s=this.body.nodes[i],a=this._getActiveEdges(s).length;e[a]=!0});const n=[];return De(e,i=>{n.push(Number(i))}),Ll(n).call(n,function(i,s){return s-i}),n}_determineLevelsByHubsize(){const e=(n,i)=>{this.hierarchical.levelDownstream(n,i)},r=this._getHubSizes();for(let n=0;n<r.length;++n){const i=r[n];if(i===0)break;De(this.body.nodeIndices,s=>{const a=this.body.nodes[s];i===this._getActiveEdges(a).length&&this._crawlNetwork(e,s)})}}_determineLevelsCustomCallback(){const r=function(i,s,a){},n=(i,s,a)=>{let o=this.hierarchical.levels[i.id];o===void 0&&(o=this.hierarchical.levels[i.id]=1e5);const l=r(Fr.cloneOptions(i,"node"),Fr.cloneOptions(s,"node"),Fr.cloneOptions(a,"edge"));this.hierarchical.levels[s.id]=o+l};this._crawlNetwork(n),this.hierarchical.setMinLevelToZero()}_determineLevelsDirected(){var e;const r=CQ(e=this.body.nodeIndices).call(e,(n,i)=>(n.set(i,this.body.nodes[i]),n),new cT);this.options.hierarchical.shakeTowards==="roots"?this.hierarchical.levels=L1e(r):this.hierarchical.levels=F1e(r),this.hierarchical.setMinLevelToZero()}_generateMap(){const e=(r,n)=>{this.hierarchical.levels[n.id]>this.hierarchical.levels[r.id]&&this.hierarchical.addRelation(r.id,n.id)};this._crawlNetwork(e),this.hierarchical.checkIfTree()}_crawlNetwork(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:function(){},r=arguments.length>1?arguments[1]:void 0;const n={},i=(s,a)=>{if(n[s.id]===void 0){this.hierarchical.setTreeIndex(s,a),n[s.id]=!0;let o;const l=this._getActiveEdges(s);for(let c=0;c<l.length;c++){const d=l[c];d.connected===!0&&(d.toId==s.id?o=d.from:o=d.to,s.id!=o.id&&(e(s,o,d),i(o,a)))}}};if(r===void 0){let s=0;for(let a=0;a<this.body.nodeIndices.length;a++){const o=this.body.nodeIndices[a];if(n[o]===void 0){const l=this.body.nodes[o];i(l,s),s+=1}}}else{const s=this.body.nodes[r];if(s===void 0){console.error("Node not found:",r);return}i(s)}}_shiftBlock(e,r){const n={},i=s=>{if(n[s])return;n[s]=!0,this.direction.shift(s,r);const a=this.hierarchical.childrenReference[s];if(a!==void 0)for(let o=0;o<a.length;o++)i(a[o])};i(e)}_findCommonParent(e,r){const n={},i=(a,o)=>{const l=this.hierarchical.parentReference[o];if(l!==void 0)for(let c=0;c<l.length;c++){const d=l[c];a[d]=!0,i(a,d)}},s=(a,o)=>{const l=this.hierarchical.parentReference[o];if(l!==void 0)for(let c=0;c<l.length;c++){const d=l[c];if(a[d]!==void 0)return{foundParent:d,withChild:o};const h=s(a,d);if(h.foundParent!==null)return h}return{foundParent:null,withChild:o}};return i(n,e),s(n,r)}setDirectionStrategy(){this.options.hierarchical.direction==="UD"||this.options.hierarchical.direction==="DU"?this.direction=new j1e(this):this.direction=new I1e(this)}_getCenterPosition(e){let r=1e9,n=-1e9;for(let i=0;i<e.length;i++){let s;if(e[i].id!==void 0)s=e[i];else{const o=e[i];s=this.body.nodes[o]}const a=this.direction.getPosition(s);r=Math.min(r,a),n=Math.max(n,a)}return .5*(r+n)}}class U1e{constructor(e,r,n,i){var s,a;this.body=e,this.canvas=r,this.selectionHandler=n,this.interactionHandler=i,this.editMode=!1,this.manipulationDiv=void 0,this.editModeDiv=void 0,this.closeDiv=void 0,this._domEventListenerCleanupQueue=[],this.temporaryUIFunctions={},this.temporaryEventFunctions=[],this.touchTime=0,this.temporaryIds={nodes:[],edges:[]},this.guiEnabled=!1,this.inMode=!1,this.selectedControlNode=void 0,this.options={},this.defaultOptions={enabled:!1,initiallyActive:!1,addNode:!0,addEdge:!0,editNode:void 0,editEdge:!0,deleteNode:!0,deleteEdge:!0,controlNodeStyle:{shape:"dot",size:6,color:{background:"#ff0000",border:"#3c3c3c",highlight:{background:"#07f968",border:"#3c3c3c"}},borderWidth:2,borderWidthSelected:2}},Ht(this.options,this.defaultOptions),this.body.emitter.on("destroy",()=>{this._clean()}),this.body.emitter.on("_dataChanged",Z(s=this._restore).call(s,this)),this.body.emitter.on("_resetData",Z(a=this._restore).call(a,this))}_restore(){this.inMode!==!1&&(this.options.initiallyActive===!0?this.enableEditMode():this.disableEditMode())}setOptions(e,r,n){r!==void 0&&(r.locale!==void 0?this.options.locale=r.locale:this.options.locale=n.locale,r.locales!==void 0?this.options.locales=r.locales:this.options.locales=n.locales),e!==void 0&&(typeof e=="boolean"?this.options.enabled=e:(this.options.enabled=!0,dt(this.options,e)),this.options.initiallyActive===!0&&(this.editMode=!0),this._setup())}toggleEditMode(){this.editMode===!0?this.disableEditMode():this.enableEditMode()}enableEditMode(){this.editMode=!0,this._clean(),this.guiEnabled===!0&&(this.manipulationDiv.style.display="block",this.closeDiv.style.display="block",this.editModeDiv.style.display="none",this.showManipulatorToolbar())}disableEditMode(){this.editMode=!1,this._clean(),this.guiEnabled===!0&&(this.manipulationDiv.style.display="none",this.closeDiv.style.display="none",this.editModeDiv.style.display="block",this._createEditButton())}showManipulatorToolbar(){if(this._clean(),this.manipulationDOM={},this.guiEnabled===!0){var e,r;this.editMode=!0,this.manipulationDiv.style.display="block",this.closeDiv.style.display="block";const n=this.selectionHandler.getSelectedNodeCount(),i=this.selectionHandler.getSelectedEdgeCount(),s=n+i,a=this.options.locales[this.options.locale];let o=!1;this.options.addNode!==!1&&(this._createAddNodeButton(a),o=!0),this.options.addEdge!==!1&&(o===!0?this._createSeperator(1):o=!0,this._createAddEdgeButton(a)),n===1&&typeof this.options.editNode=="function"?(o===!0?this._createSeperator(2):o=!0,this._createEditNodeButton(a)):i===1&&n===0&&this.options.editEdge!==!1&&(o===!0?this._createSeperator(3):o=!0,this._createEditEdgeButton(a)),s!==0&&(n>0&&this.options.deleteNode!==!1?(o===!0&&this._createSeperator(4),this._createDeleteButton(a)):n===0&&this.options.deleteEdge!==!1&&(o===!0&&this._createSeperator(4),this._createDeleteButton(a))),this._bindElementEvents(this.closeDiv,Z(e=this.toggleEditMode).call(e,this)),this._temporaryBindEvent("select",Z(r=this.showManipulatorToolbar).call(r,this))}this.body.emitter.emit("_redraw")}addNodeMode(){var e;if(this.editMode!==!0&&this.enableEditMode(),this._clean(),this.inMode="addNode",this.guiEnabled===!0){var r;const n=this.options.locales[this.options.locale];this.manipulationDOM={},this._createBackButton(n),this._createSeperator(),this._createDescription(n.addDescription||this.options.locales.en.addDescription),this._bindElementEvents(this.closeDiv,Z(r=this.toggleEditMode).call(r,this))}this._temporaryBindEvent("click",Z(e=this._performAddNode).call(e,this))}editNode(){this.editMode!==!0&&this.enableEditMode(),this._clean();const e=this.selectionHandler.getSelectedNodes()[0];if(e!==void 0)if(this.inMode="editNode",typeof this.options.editNode=="function")if(e.isCluster!==!0){const r=dt({},e.options,!1);if(r.x=e.x,r.y=e.y,this.options.editNode.length===2)this.options.editNode(r,n=>{n!=null&&this.inMode==="editNode"&&this.body.data.nodes.getDataSet().update(n),this.showManipulatorToolbar()});else throw new Error("The function for edit does not support two arguments (data, callback)")}else alert(this.options.locales[this.options.locale].editClusterError||this.options.locales.en.editClusterError);else throw new Error("No function has been configured to handle the editing of nodes.");else this.showManipulatorToolbar()}addEdgeMode(){var e,r,n,i,s;if(this.editMode!==!0&&this.enableEditMode(),this._clean(),this.inMode="addEdge",this.guiEnabled===!0){var a;const o=this.options.locales[this.options.locale];this.manipulationDOM={},this._createBackButton(o),this._createSeperator(),this._createDescription(o.edgeDescription||this.options.locales.en.edgeDescription),this._bindElementEvents(this.closeDiv,Z(a=this.toggleEditMode).call(a,this))}this._temporaryBindUI("onTouch",Z(e=this._handleConnect).call(e,this)),this._temporaryBindUI("onDragEnd",Z(r=this._finishConnect).call(r,this)),this._temporaryBindUI("onDrag",Z(n=this._dragControlNode).call(n,this)),this._temporaryBindUI("onRelease",Z(i=this._finishConnect).call(i,this)),this._temporaryBindUI("onDragStart",Z(s=this._dragStartEdge).call(s,this)),this._temporaryBindUI("onHold",()=>{})}editEdgeMode(){if(this.editMode!==!0&&this.enableEditMode(),this._clean(),this.inMode="editEdge",typeof this.options.editEdge=="object"&&typeof this.options.editEdge.editWithoutDrag=="function"&&(this.edgeBeingEditedId=this.selectionHandler.getSelectedEdgeIds()[0],this.edgeBeingEditedId!==void 0)){const a=this.body.edges[this.edgeBeingEditedId];this._performEditEdge(a.from.id,a.to.id);return}if(this.guiEnabled===!0){var e;const a=this.options.locales[this.options.locale];this.manipulationDOM={},this._createBackButton(a),this._createSeperator(),this._createDescription(a.editEdgeDescription||this.options.locales.en.editEdgeDescription),this._bindElementEvents(this.closeDiv,Z(e=this.toggleEditMode).call(e,this))}if(this.edgeBeingEditedId=this.selectionHandler.getSelectedEdgeIds()[0],this.edgeBeingEditedId!==void 0){var r,n,i,s;const a=this.body.edges[this.edgeBeingEditedId],o=this._getNewTargetNode(a.from.x,a.from.y),l=this._getNewTargetNode(a.to.x,a.to.y);this.temporaryIds.nodes.push(o.id),this.temporaryIds.nodes.push(l.id),this.body.nodes[o.id]=o,this.body.nodeIndices.push(o.id),this.body.nodes[l.id]=l,this.body.nodeIndices.push(l.id),this._temporaryBindUI("onTouch",Z(r=this._controlNodeTouch).call(r,this)),this._temporaryBindUI("onTap",()=>{}),this._temporaryBindUI("onHold",()=>{}),this._temporaryBindUI("onDragStart",Z(n=this._controlNodeDragStart).call(n,this)),this._temporaryBindUI("onDrag",Z(i=this._controlNodeDrag).call(i,this)),this._temporaryBindUI("onDragEnd",Z(s=this._controlNodeDragEnd).call(s,this)),this._temporaryBindUI("onMouseMove",()=>{}),this._temporaryBindEvent("beforeDrawing",c=>{const d=a.edgeType.findBorderPositions(c);o.selected===!1&&(o.x=d.from.x,o.y=d.from.y),l.selected===!1&&(l.x=d.to.x,l.y=d.to.y)}),this.body.emitter.emit("_redraw")}else this.showManipulatorToolbar()}deleteSelected(){this.editMode!==!0&&this.enableEditMode(),this._clean(),this.inMode="delete";const e=this.selectionHandler.getSelectedNodeIds(),r=this.selectionHandler.getSelectedEdgeIds();let n;if(e.length>0){for(let i=0;i<e.length;i++)if(this.body.nodes[e[i]].isCluster===!0){alert(this.options.locales[this.options.locale].deleteClusterError||this.options.locales.en.deleteClusterError);return}typeof this.options.deleteNode=="function"&&(n=this.options.deleteNode)}else r.length>0&&typeof this.options.deleteEdge=="function"&&(n=this.options.deleteEdge);if(typeof n=="function"){const i={nodes:e,edges:r};if(n.length===2)n(i,s=>{s!=null&&this.inMode==="delete"?(this.body.data.edges.getDataSet().remove(s.edges),this.body.data.nodes.getDataSet().remove(s.nodes),this.body.emitter.emit("startSimulation"),this.showManipulatorToolbar()):(this.body.emitter.emit("startSimulation"),this.showManipulatorToolbar())});else throw new Error("The function for delete does not support two arguments (data, callback)")}else this.body.data.edges.getDataSet().remove(r),this.body.data.nodes.getDataSet().remove(e),this.body.emitter.emit("startSimulation"),this.showManipulatorToolbar()}_setup(){this.options.enabled===!0?(this.guiEnabled=!0,this._createWrappers(),this.editMode===!1?this._createEditButton():this.showManipulatorToolbar()):(this._removeManipulationDOM(),this.guiEnabled=!1)}_createWrappers(){if(this.manipulationDiv===void 0&&(this.manipulationDiv=document.createElement("div"),this.manipulationDiv.className="vis-manipulation",this.editMode===!0?this.manipulationDiv.style.display="block":this.manipulationDiv.style.display="none",this.canvas.frame.appendChild(this.manipulationDiv)),this.editModeDiv===void 0&&(this.editModeDiv=document.createElement("div"),this.editModeDiv.className="vis-edit-mode",this.editMode===!0?this.editModeDiv.style.display="none":this.editModeDiv.style.display="block",this.canvas.frame.appendChild(this.editModeDiv)),this.closeDiv===void 0){var e,r;this.closeDiv=document.createElement("button"),this.closeDiv.className="vis-close",this.closeDiv.setAttribute("aria-label",(e=(r=this.options.locales[this.options.locale])===null||r===void 0?void 0:r.close)!==null&&e!==void 0?e:this.options.locales.en.close),this.closeDiv.style.display=this.manipulationDiv.style.display,this.canvas.frame.appendChild(this.closeDiv)}}_getNewTargetNode(e,r){const n=dt({},this.options.controlNodeStyle);n.id="targetNode"+Xc(),n.hidden=!1,n.physics=!1,n.x=e,n.y=r;const i=this.body.functions.createNode(n);return i.shape.boundingBox={left:e,right:e,top:r,bottom:r},i}_createEditButton(){var e;this._clean(),this.manipulationDOM={},$s(this.editModeDiv);const r=this.options.locales[this.options.locale],n=this._createButton("editMode","vis-edit vis-edit-mode",r.edit||this.options.locales.en.edit);this.editModeDiv.appendChild(n),this._bindElementEvents(n,Z(e=this.toggleEditMode).call(e,this))}_clean(){this.inMode=!1,this.guiEnabled===!0&&($s(this.editModeDiv),$s(this.manipulationDiv),this._cleanupDOMEventListeners()),this._cleanupTemporaryNodesAndEdges(),this._unbindTemporaryUIs(),this._unbindTemporaryEvents(),this.body.emitter.emit("restorePhysics")}_cleanupDOMEventListeners(){for(const r of ss(e=this._domEventListenerCleanupQueue).call(e,0)){var e;r()}}_removeManipulationDOM(){this._clean(),$s(this.manipulationDiv),$s(this.editModeDiv),$s(this.closeDiv),this.manipulationDiv&&this.canvas.frame.removeChild(this.manipulationDiv),this.editModeDiv&&this.canvas.frame.removeChild(this.editModeDiv),this.closeDiv&&this.canvas.frame.removeChild(this.closeDiv),this.manipulationDiv=void 0,this.editModeDiv=void 0,this.closeDiv=void 0}_createSeperator(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1;this.manipulationDOM["seperatorLineDiv"+e]=document.createElement("div"),this.manipulationDOM["seperatorLineDiv"+e].className="vis-separator-line",this.manipulationDiv.appendChild(this.manipulationDOM["seperatorLineDiv"+e])}_createAddNodeButton(e){var r;const n=this._createButton("addNode","vis-add",e.addNode||this.options.locales.en.addNode);this.manipulationDiv.appendChild(n),this._bindElementEvents(n,Z(r=this.addNodeMode).call(r,this))}_createAddEdgeButton(e){var r;const n=this._createButton("addEdge","vis-connect",e.addEdge||this.options.locales.en.addEdge);this.manipulationDiv.appendChild(n),this._bindElementEvents(n,Z(r=this.addEdgeMode).call(r,this))}_createEditNodeButton(e){var r;const n=this._createButton("editNode","vis-edit",e.editNode||this.options.locales.en.editNode);this.manipulationDiv.appendChild(n),this._bindElementEvents(n,Z(r=this.editNode).call(r,this))}_createEditEdgeButton(e){var r;const n=this._createButton("editEdge","vis-edit",e.editEdge||this.options.locales.en.editEdge);this.manipulationDiv.appendChild(n),this._bindElementEvents(n,Z(r=this.editEdgeMode).call(r,this))}_createDeleteButton(e){var r;let n;this.options.rtl?n="vis-delete-rtl":n="vis-delete";const i=this._createButton("delete",n,e.del||this.options.locales.en.del);this.manipulationDiv.appendChild(i),this._bindElementEvents(i,Z(r=this.deleteSelected).call(r,this))}_createBackButton(e){var r;const n=this._createButton("back","vis-back",e.back||this.options.locales.en.back);this.manipulationDiv.appendChild(n),this._bindElementEvents(n,Z(r=this.showManipulatorToolbar).call(r,this))}_createButton(e,r,n){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"vis-label";return this.manipulationDOM[e+"Div"]=document.createElement("button"),this.manipulationDOM[e+"Div"].className="vis-button "+r,this.manipulationDOM[e+"Label"]=document.createElement("div"),this.manipulationDOM[e+"Label"].className=i,this.manipulationDOM[e+"Label"].innerText=n,this.manipulationDOM[e+"Div"].appendChild(this.manipulationDOM[e+"Label"]),this.manipulationDOM[e+"Div"]}_createDescription(e){this.manipulationDOM.descriptionLabel=document.createElement("div"),this.manipulationDOM.descriptionLabel.className="vis-none",this.manipulationDOM.descriptionLabel.innerText=e,this.manipulationDiv.appendChild(this.manipulationDOM.descriptionLabel)}_temporaryBindEvent(e,r){this.temporaryEventFunctions.push({event:e,boundFunction:r}),this.body.emitter.on(e,r)}_temporaryBindUI(e,r){if(this.body.eventListeners[e]!==void 0)this.temporaryUIFunctions[e]=this.body.eventListeners[e],this.body.eventListeners[e]=r;else throw new Error("This UI function does not exist. Typo? You tried: "+e+" possible are: "+Eh(Rt(this.body.eventListeners)))}_unbindTemporaryUIs(){for(const e in this.temporaryUIFunctions)Object.prototype.hasOwnProperty.call(this.temporaryUIFunctions,e)&&(this.body.eventListeners[e]=this.temporaryUIFunctions[e],delete this.temporaryUIFunctions[e]);this.temporaryUIFunctions={}}_unbindTemporaryEvents(){for(let e=0;e<this.temporaryEventFunctions.length;e++){const r=this.temporaryEventFunctions[e].event,n=this.temporaryEventFunctions[e].boundFunction;this.body.emitter.off(r,n)}this.temporaryEventFunctions=[]}_bindElementEvents(e,r){const n=new Al(e,{});Ip(n,r),this._domEventListenerCleanupQueue.push(()=>{n.destroy()});const i=s=>{let{keyCode:a,key:o}=s;(o==="Enter"||o===" "||a===13||a===32)&&r()};e.addEventListener("keyup",i,!1),this._domEventListenerCleanupQueue.push(()=>{e.removeEventListener("keyup",i,!1)})}_cleanupTemporaryNodesAndEdges(){for(let s=0;s<this.temporaryIds.edges.length;s++){var e;this.body.edges[this.temporaryIds.edges[s]].disconnect(),delete this.body.edges[this.temporaryIds.edges[s]];const a=Je(e=this.body.edgeIndices).call(e,this.temporaryIds.edges[s]);if(a!==-1){var r;ss(r=this.body.edgeIndices).call(r,a,1)}}for(let s=0;s<this.temporaryIds.nodes.length;s++){var n;delete this.body.nodes[this.temporaryIds.nodes[s]];const a=Je(n=this.body.nodeIndices).call(n,this.temporaryIds.nodes[s]);if(a!==-1){var i;ss(i=this.body.nodeIndices).call(i,a,1)}}this.temporaryIds={nodes:[],edges:[]}}_controlNodeTouch(e){this.selectionHandler.unselectAll(),this.lastTouch=this.body.functions.getPointer(e.center),this.lastTouch.translation=Ht({},this.body.view.translation)}_controlNodeDragStart(){const e=this.lastTouch,r=this.selectionHandler._pointerToPositionObject(e),n=this.body.nodes[this.temporaryIds.nodes[0]],i=this.body.nodes[this.temporaryIds.nodes[1]],s=this.body.edges[this.edgeBeingEditedId];this.selectedControlNode=void 0;const a=n.isOverlappingWith(r),o=i.isOverlappingWith(r);a===!0?(this.selectedControlNode=n,s.edgeType.from=n):o===!0&&(this.selectedControlNode=i,s.edgeType.to=i),this.selectedControlNode!==void 0&&this.selectionHandler.selectObject(this.selectedControlNode),this.body.emitter.emit("_redraw")}_controlNodeDrag(e){this.body.emitter.emit("disablePhysics");const r=this.body.functions.getPointer(e.center),n=this.canvas.DOMtoCanvas(r);this.selectedControlNode!==void 0?(this.selectedControlNode.x=n.x,this.selectedControlNode.y=n.y):this.interactionHandler.onDrag(e),this.body.emitter.emit("_redraw")}_controlNodeDragEnd(e){const r=this.body.functions.getPointer(e.center),n=this.selectionHandler._pointerToPositionObject(r),i=this.body.edges[this.edgeBeingEditedId];if(this.selectedControlNode===void 0)return;this.selectionHandler.unselectAll();const s=this.selectionHandler._getAllNodesOverlappingWith(n);let a;for(let o=s.length-1;o>=0;o--)if(s[o]!==this.selectedControlNode.id){a=this.body.nodes[s[o]];break}if(a!==void 0&&this.selectedControlNode!==void 0)if(a.isCluster===!0)alert(this.options.locales[this.options.locale].createEdgeError||this.options.locales.en.createEdgeError);else{const o=this.body.nodes[this.temporaryIds.nodes[0]];this.selectedControlNode.id===o.id?this._performEditEdge(a.id,i.to.id):this._performEditEdge(i.from.id,a.id)}else i.updateEdgeType(),this.body.emitter.emit("restorePhysics");this.body.emitter.emit("_redraw")}_handleConnect(e){if(new Date().valueOf()-this.touchTime>100){this.lastTouch=this.body.functions.getPointer(e.center),this.lastTouch.translation=Ht({},this.body.view.translation),this.interactionHandler.drag.pointer=this.lastTouch,this.interactionHandler.drag.translation=this.lastTouch.translation;const r=this.lastTouch,n=this.selectionHandler.getNodeAt(r);if(n!==void 0)if(n.isCluster===!0)alert(this.options.locales[this.options.locale].createEdgeError||this.options.locales.en.createEdgeError);else{const i=this._getNewTargetNode(n.x,n.y);this.body.nodes[i.id]=i,this.body.nodeIndices.push(i.id);const s=this.body.functions.createEdge({id:"connectionEdge"+Xc(),from:n.id,to:i.id,physics:!1,smooth:{enabled:!0,type:"continuous",roundness:.5}});this.body.edges[s.id]=s,this.body.edgeIndices.push(s.id),this.temporaryIds.nodes.push(i.id),this.temporaryIds.edges.push(s.id)}this.touchTime=new Date().valueOf()}}_dragControlNode(e){const r=this.body.functions.getPointer(e.center),n=this.selectionHandler._pointerToPositionObject(r);let i;this.temporaryIds.edges[0]!==void 0&&(i=this.body.edges[this.temporaryIds.edges[0]].fromId);const s=this.selectionHandler._getAllNodesOverlappingWith(n);let a;for(let l=s.length-1;l>=0;l--){var o;if(Je(o=this.temporaryIds.nodes).call(o,s[l])===-1){a=this.body.nodes[s[l]];break}}if(e.controlEdge={from:i,to:a?a.id:void 0},this.selectionHandler.generateClickEvent("controlNodeDragging",e,r),this.temporaryIds.nodes[0]!==void 0){const l=this.body.nodes[this.temporaryIds.nodes[0]];l.x=this.canvas._XconvertDOMtoCanvas(r.x),l.y=this.canvas._YconvertDOMtoCanvas(r.y),this.body.emitter.emit("_redraw")}else this.interactionHandler.onDrag(e)}_finishConnect(e){const r=this.body.functions.getPointer(e.center),n=this.selectionHandler._pointerToPositionObject(r);let i;this.temporaryIds.edges[0]!==void 0&&(i=this.body.edges[this.temporaryIds.edges[0]].fromId);const s=this.selectionHandler._getAllNodesOverlappingWith(n);let a;for(let l=s.length-1;l>=0;l--){var o;if(Je(o=this.temporaryIds.nodes).call(o,s[l])===-1){a=this.body.nodes[s[l]];break}}this._cleanupTemporaryNodesAndEdges(),a!==void 0&&(a.isCluster===!0?alert(this.options.locales[this.options.locale].createEdgeError||this.options.locales.en.createEdgeError):this.body.nodes[i]!==void 0&&this.body.nodes[a.id]!==void 0&&this._performAddEdge(i,a.id)),e.controlEdge={from:i,to:a?a.id:void 0},this.selectionHandler.generateClickEvent("controlNodeDragEnd",e,r),this.body.emitter.emit("_redraw")}_dragStartEdge(e){const r=this.lastTouch;this.selectionHandler.generateClickEvent("dragStart",e,r,void 0,!0)}_performAddNode(e){const r={id:Xc(),x:e.pointer.canvas.x,y:e.pointer.canvas.y,label:"new"};if(typeof this.options.addNode=="function")if(this.options.addNode.length===2)this.options.addNode(r,n=>{n!=null&&this.inMode==="addNode"&&this.body.data.nodes.getDataSet().add(n),this.showManipulatorToolbar()});else throw this.showManipulatorToolbar(),new Error("The function for add does not support two arguments (data,callback)");else this.body.data.nodes.getDataSet().add(r),this.showManipulatorToolbar()}_performAddEdge(e,r){const n={from:e,to:r};if(typeof this.options.addEdge=="function")if(this.options.addEdge.length===2)this.options.addEdge(n,i=>{i!=null&&this.inMode==="addEdge"&&(this.body.data.edges.getDataSet().add(i),this.selectionHandler.unselectAll(),this.showManipulatorToolbar())});else throw new Error("The function for connect does not support two arguments (data,callback)");else this.body.data.edges.getDataSet().add(n),this.selectionHandler.unselectAll(),this.showManipulatorToolbar()}_performEditEdge(e,r){const n={id:this.edgeBeingEditedId,from:e,to:r,label:this.body.data.edges.get(this.edgeBeingEditedId).label};let i=this.options.editEdge;if(typeof i=="object"&&(i=i.editWithoutDrag),typeof i=="function")if(i.length===2)i(n,s=>{s==null||this.inMode!=="editEdge"?(this.body.edges[n.id].updateEdgeType(),this.body.emitter.emit("_redraw"),this.showManipulatorToolbar()):(this.body.data.edges.getDataSet().update(s),this.selectionHandler.unselectAll(),this.showManipulatorToolbar())});else throw new Error("The function for edit does not support two arguments (data, callback)");else this.body.data.edges.getDataSet().update(n),this.selectionHandler.unselectAll(),this.showManipulatorToolbar()}}const ne="string",J="boolean",B="number",kc="array",we="object",IQ="dom",W1e="any",K2=["arrow","bar","box","circle","crow","curve","diamond","image","inv_curve","inv_triangle","triangle","vee"],G2={borderWidth:{number:B},borderWidthSelected:{number:B,undefined:"undefined"},brokenImage:{string:ne,undefined:"undefined"},chosen:{label:{boolean:J,function:"function"},node:{boolean:J,function:"function"},__type__:{object:we,boolean:J}},color:{border:{string:ne},background:{string:ne},highlight:{border:{string:ne},background:{string:ne},__type__:{object:we,string:ne}},hover:{border:{string:ne},background:{string:ne},__type__:{object:we,string:ne}},__type__:{object:we,string:ne}},opacity:{number:B,undefined:"undefined"},fixed:{x:{boolean:J},y:{boolean:J},__type__:{object:we,boolean:J}},font:{align:{string:ne},color:{string:ne},size:{number:B},face:{string:ne},background:{string:ne},strokeWidth:{number:B},strokeColor:{string:ne},vadjust:{number:B},multi:{boolean:J,string:ne},bold:{color:{string:ne},size:{number:B},face:{string:ne},mod:{string:ne},vadjust:{number:B},__type__:{object:we,string:ne}},boldital:{color:{string:ne},size:{number:B},face:{string:ne},mod:{string:ne},vadjust:{number:B},__type__:{object:we,string:ne}},ital:{color:{string:ne},size:{number:B},face:{string:ne},mod:{string:ne},vadjust:{number:B},__type__:{object:we,string:ne}},mono:{color:{string:ne},size:{number:B},face:{string:ne},mod:{string:ne},vadjust:{number:B},__type__:{object:we,string:ne}},__type__:{object:we,string:ne}},group:{string:ne,number:B,undefined:"undefined"},heightConstraint:{minimum:{number:B},valign:{string:ne},__type__:{object:we,boolean:J,number:B}},hidden:{boolean:J},icon:{face:{string:ne},code:{string:ne},size:{number:B},color:{string:ne},weight:{string:ne,number:B},__type__:{object:we}},id:{string:ne,number:B},image:{selected:{string:ne,undefined:"undefined"},unselected:{string:ne,undefined:"undefined"},__type__:{object:we,string:ne}},imagePadding:{top:{number:B},right:{number:B},bottom:{number:B},left:{number:B},__type__:{object:we,number:B}},label:{string:ne,undefined:"undefined"},labelHighlightBold:{boolean:J},level:{number:B,undefined:"undefined"},margin:{top:{number:B},right:{number:B},bottom:{number:B},left:{number:B},__type__:{object:we,number:B}},mass:{number:B},physics:{boolean:J},scaling:{min:{number:B},max:{number:B},label:{enabled:{boolean:J},min:{number:B},max:{number:B},maxVisible:{number:B},drawThreshold:{number:B},__type__:{object:we,boolean:J}},customScalingFunction:{function:"function"},__type__:{object:we}},shadow:{enabled:{boolean:J},color:{string:ne},size:{number:B},x:{number:B},y:{number:B},__type__:{object:we,boolean:J}},shape:{string:["custom","ellipse","circle","database","box","text","image","circularImage","diamond","dot","star","triangle","triangleDown","square","icon","hexagon"]},ctxRenderer:{function:"function"},shapeProperties:{borderDashes:{boolean:J,array:kc},borderRadius:{number:B},interpolation:{boolean:J},useImageSize:{boolean:J},useBorderWithImage:{boolean:J},coordinateOrigin:{string:["center","top-left"]},__type__:{object:we}},size:{number:B},title:{string:ne,dom:IQ,undefined:"undefined"},value:{number:B,undefined:"undefined"},widthConstraint:{minimum:{number:B},maximum:{number:B},__type__:{object:we,boolean:J,number:B}},x:{number:B},y:{number:B},__type__:{object:we}},H1e={configure:{enabled:{boolean:J},filter:{boolean:J,string:ne,array:kc,function:"function"},container:{dom:IQ},showButton:{boolean:J},__type__:{object:we,boolean:J,string:ne,array:kc,function:"function"}},edges:{arrows:{to:{enabled:{boolean:J},scaleFactor:{number:B},type:{string:K2},imageHeight:{number:B},imageWidth:{number:B},src:{string:ne},__type__:{object:we,boolean:J}},middle:{enabled:{boolean:J},scaleFactor:{number:B},type:{string:K2},imageWidth:{number:B},imageHeight:{number:B},src:{string:ne},__type__:{object:we,boolean:J}},from:{enabled:{boolean:J},scaleFactor:{number:B},type:{string:K2},imageWidth:{number:B},imageHeight:{number:B},src:{string:ne},__type__:{object:we,boolean:J}},__type__:{string:["from","to","middle"],object:we}},endPointOffset:{from:{number:B},to:{number:B},__type__:{object:we,number:B}},arrowStrikethrough:{boolean:J},background:{enabled:{boolean:J},color:{string:ne},size:{number:B},dashes:{boolean:J,array:kc},__type__:{object:we,boolean:J}},chosen:{label:{boolean:J,function:"function"},edge:{boolean:J,function:"function"},__type__:{object:we,boolean:J}},color:{color:{string:ne},highlight:{string:ne},hover:{string:ne},inherit:{string:["from","to","both"],boolean:J},opacity:{number:B},__type__:{object:we,string:ne}},dashes:{boolean:J,array:kc},font:{color:{string:ne},size:{number:B},face:{string:ne},background:{string:ne},strokeWidth:{number:B},strokeColor:{string:ne},align:{string:["horizontal","top","middle","bottom"]},vadjust:{number:B},multi:{boolean:J,string:ne},bold:{color:{string:ne},size:{number:B},face:{string:ne},mod:{string:ne},vadjust:{number:B},__type__:{object:we,string:ne}},boldital:{color:{string:ne},size:{number:B},face:{string:ne},mod:{string:ne},vadjust:{number:B},__type__:{object:we,string:ne}},ital:{color:{string:ne},size:{number:B},face:{string:ne},mod:{string:ne},vadjust:{number:B},__type__:{object:we,string:ne}},mono:{color:{string:ne},size:{number:B},face:{string:ne},mod:{string:ne},vadjust:{number:B},__type__:{object:we,string:ne}},__type__:{object:we,string:ne}},hidden:{boolean:J},hoverWidth:{function:"function",number:B},label:{string:ne,undefined:"undefined"},labelHighlightBold:{boolean:J},length:{number:B,undefined:"undefined"},physics:{boolean:J},scaling:{min:{number:B},max:{number:B},label:{enabled:{boolean:J},min:{number:B},max:{number:B},maxVisible:{number:B},drawThreshold:{number:B},__type__:{object:we,boolean:J}},customScalingFunction:{function:"function"},__type__:{object:we}},selectionWidth:{function:"function",number:B},selfReferenceSize:{number:B},selfReference:{size:{number:B},angle:{number:B},renderBehindTheNode:{boolean:J},__type__:{object:we}},shadow:{enabled:{boolean:J},color:{string:ne},size:{number:B},x:{number:B},y:{number:B},__type__:{object:we,boolean:J}},smooth:{enabled:{boolean:J},type:{string:["dynamic","continuous","discrete","diagonalCross","straightCross","horizontal","vertical","curvedCW","curvedCCW","cubicBezier"]},roundness:{number:B},forceDirection:{string:["horizontal","vertical","none"],boolean:J},__type__:{object:we,boolean:J}},title:{string:ne,undefined:"undefined"},width:{number:B},widthConstraint:{maximum:{number:B},__type__:{object:we,boolean:J,number:B}},value:{number:B,undefined:"undefined"},__type__:{object:we}},groups:{useDefaultGroups:{boolean:J},__any__:G2,__type__:{object:we}},interaction:{dragNodes:{boolean:J},dragView:{boolean:J},hideEdgesOnDrag:{boolean:J},hideEdgesOnZoom:{boolean:J},hideNodesOnDrag:{boolean:J},hover:{boolean:J},keyboard:{enabled:{boolean:J},speed:{x:{number:B},y:{number:B},zoom:{number:B},__type__:{object:we}},bindToWindow:{boolean:J},autoFocus:{boolean:J},__type__:{object:we,boolean:J}},multiselect:{boolean:J},navigationButtons:{boolean:J},selectable:{boolean:J},selectConnectedEdges:{boolean:J},hoverConnectedEdges:{boolean:J},tooltipDelay:{number:B},zoomView:{boolean:J},zoomSpeed:{number:B},__type__:{object:we}},layout:{randomSeed:{undefined:"undefined",number:B,string:ne},improvedLayout:{boolean:J},clusterThreshold:{number:B},hierarchical:{enabled:{boolean:J},levelSeparation:{number:B},nodeSpacing:{number:B},treeSpacing:{number:B},blockShifting:{boolean:J},edgeMinimization:{boolean:J},parentCentralization:{boolean:J},direction:{string:["UD","DU","LR","RL"]},sortMethod:{string:["hubsize","directed"]},shakeTowards:{string:["leaves","roots"]},__type__:{object:we,boolean:J}},__type__:{object:we}},manipulation:{enabled:{boolean:J},initiallyActive:{boolean:J},addNode:{boolean:J,function:"function"},addEdge:{boolean:J,function:"function"},editNode:{function:"function"},editEdge:{editWithoutDrag:{function:"function"},__type__:{object:we,boolean:J,function:"function"}},deleteNode:{boolean:J,function:"function"},deleteEdge:{boolean:J,function:"function"},controlNodeStyle:G2,__type__:{object:we,boolean:J}},nodes:G2,physics:{enabled:{boolean:J},barnesHut:{theta:{number:B},gravitationalConstant:{number:B},centralGravity:{number:B},springLength:{number:B},springConstant:{number:B},damping:{number:B},avoidOverlap:{number:B},__type__:{object:we}},forceAtlas2Based:{theta:{number:B},gravitationalConstant:{number:B},centralGravity:{number:B},springLength:{number:B},springConstant:{number:B},damping:{number:B},avoidOverlap:{number:B},__type__:{object:we}},repulsion:{centralGravity:{number:B},springLength:{number:B},springConstant:{number:B},nodeDistance:{number:B},damping:{number:B},__type__:{object:we}},hierarchicalRepulsion:{centralGravity:{number:B},springLength:{number:B},springConstant:{number:B},nodeDistance:{number:B},damping:{number:B},avoidOverlap:{number:B},__type__:{object:we}},maxVelocity:{number:B},minVelocity:{number:B},solver:{string:["barnesHut","repulsion","hierarchicalRepulsion","forceAtlas2Based"]},stabilization:{enabled:{boolean:J},iterations:{number:B},updateInterval:{number:B},onlyDynamicEdges:{boolean:J},fit:{boolean:J},__type__:{object:we,boolean:J}},timestep:{number:B},adaptiveTimestep:{boolean:J},wind:{x:{number:B},y:{number:B},__type__:{object:we}},__type__:{object:we,boolean:J}},autoResize:{boolean:J},clickToUse:{boolean:J},locale:{string:ne},locales:{__any__:{any:W1e},__type__:{object:we}},height:{string:ne},width:{string:ne},__type__:{object:we}},RQ={nodes:{borderWidth:[1,0,10,1],borderWidthSelected:[2,0,10,1],color:{border:["color","#2B7CE9"],background:["color","#97C2FC"],highlight:{border:["color","#2B7CE9"],background:["color","#D2E5FF"]},hover:{border:["color","#2B7CE9"],background:["color","#D2E5FF"]}},opacity:[0,0,1,.1],fixed:{x:!1,y:!1},font:{color:["color","#343434"],size:[14,0,100,1],face:["arial","verdana","tahoma"],background:["color","none"],strokeWidth:[0,0,50,1],strokeColor:["color","#ffffff"]},hidden:!1,labelHighlightBold:!0,physics:!0,scaling:{min:[10,0,200,1],max:[30,0,200,1],label:{enabled:!1,min:[14,0,200,1],max:[30,0,200,1],maxVisible:[30,0,200,1],drawThreshold:[5,0,20,1]}},shadow:{enabled:!1,color:"rgba(0,0,0,0.5)",size:[10,0,20,1],x:[5,-30,30,1],y:[5,-30,30,1]},shape:["ellipse","box","circle","database","diamond","dot","square","star","text","triangle","triangleDown","hexagon"],shapeProperties:{borderDashes:!1,borderRadius:[6,0,20,1],interpolation:!0,useImageSize:!1},size:[25,0,200,1]},edges:{arrows:{to:{enabled:!1,scaleFactor:[1,0,3,.05],type:"arrow"},middle:{enabled:!1,scaleFactor:[1,0,3,.05],type:"arrow"},from:{enabled:!1,scaleFactor:[1,0,3,.05],type:"arrow"}},endPointOffset:{from:[0,-10,10,1],to:[0,-10,10,1]},arrowStrikethrough:!0,color:{color:["color","#848484"],highlight:["color","#848484"],hover:["color","#848484"],inherit:["from","to","both",!0,!1],opacity:[1,0,1,.05]},dashes:!1,font:{color:["color","#343434"],size:[14,0,100,1],face:["arial","verdana","tahoma"],background:["color","none"],strokeWidth:[2,0,50,1],strokeColor:["color","#ffffff"],align:["horizontal","top","middle","bottom"]},hidden:!1,hoverWidth:[1.5,0,5,.1],labelHighlightBold:!0,physics:!0,scaling:{min:[1,0,100,1],max:[15,0,100,1],label:{enabled:!0,min:[14,0,200,1],max:[30,0,200,1],maxVisible:[30,0,200,1],drawThreshold:[5,0,20,1]}},selectionWidth:[1.5,0,5,.1],selfReferenceSize:[20,0,200,1],selfReference:{size:[20,0,200,1],angle:[Math.PI/2,-6*Math.PI,6*Math.PI,Math.PI/8],renderBehindTheNode:!0},shadow:{enabled:!1,color:"rgba(0,0,0,0.5)",size:[10,0,20,1],x:[5,-30,30,1],y:[5,-30,30,1]},smooth:{enabled:!0,type:["dynamic","continuous","discrete","diagonalCross","straightCross","horizontal","vertical","curvedCW","curvedCCW","cubicBezier"],forceDirection:["horizontal","vertical","none"],roundness:[.5,0,1,.05]},width:[1,0,30,1]},layout:{hierarchical:{enabled:!1,levelSeparation:[150,20,500,5],nodeSpacing:[100,20,500,5],treeSpacing:[200,20,500,5],blockShifting:!0,edgeMinimization:!0,parentCentralization:!0,direction:["UD","DU","LR","RL"],sortMethod:["hubsize","directed"],shakeTowards:["leaves","roots"]}},interaction:{dragNodes:!0,dragView:!0,hideEdgesOnDrag:!1,hideEdgesOnZoom:!1,hideNodesOnDrag:!1,hover:!1,keyboard:{enabled:!1,speed:{x:[10,0,40,1],y:[10,0,40,1],zoom:[.02,0,.1,.005]},bindToWindow:!0,autoFocus:!0},multiselect:!1,navigationButtons:!1,selectable:!0,selectConnectedEdges:!0,hoverConnectedEdges:!0,tooltipDelay:[300,0,1e3,25],zoomView:!0,zoomSpeed:[1,.1,2,.1]},manipulation:{enabled:!1,initiallyActive:!1},physics:{enabled:!0,barnesHut:{theta:[.5,.1,1,.05],gravitationalConstant:[-2e3,-3e4,0,50],centralGravity:[.3,0,10,.05],springLength:[95,0,500,5],springConstant:[.04,0,1.2,.005],damping:[.09,0,1,.01],avoidOverlap:[0,0,1,.01]},forceAtlas2Based:{theta:[.5,.1,1,.05],gravitationalConstant:[-50,-500,0,1],centralGravity:[.01,0,1,.005],springLength:[95,0,500,5],springConstant:[.08,0,1.2,.005],damping:[.4,0,1,.01],avoidOverlap:[0,0,1,.01]},repulsion:{centralGravity:[.2,0,10,.05],springLength:[200,0,500,5],springConstant:[.05,0,1.2,.005],nodeDistance:[100,0,500,5],damping:[.09,0,1,.01]},hierarchicalRepulsion:{centralGravity:[.2,0,10,.05],springLength:[100,0,500,5],springConstant:[.01,0,1.2,.005],nodeDistance:[120,0,500,5],damping:[.09,0,1,.01],avoidOverlap:[0,0,1,.01]},maxVelocity:[50,0,150,1],minVelocity:[.1,.01,.5,.01],solver:["barnesHut","forceAtlas2Based","repulsion","hierarchicalRepulsion"],timestep:[.5,.01,1,.01],wind:{x:[0,-10,10,.1],y:[0,-10,10,.1]}}},V1e=(t,e,r)=>{var n;return!!(ca(t).call(t,"physics")&&ca(n=RQ.physics.solver).call(n,e)&&r.physics.solver!==e&&e!=="wind")};class K1e{constructor(){}getDistances(e,r,n){const i={},s=e.edges;for(let o=0;o<r.length;o++){const l=r[o],c={};i[l]=c;for(let d=0;d<r.length;d++)c[r[d]]=o==d?0:1e9}for(let o=0;o<n.length;o++){const l=s[n[o]];l.connected===!0&&i[l.fromId]!==void 0&&i[l.toId]!==void 0&&(i[l.fromId][l.toId]=1,i[l.toId][l.fromId]=1)}const a=r.length;for(let o=0;o<a;o++){const l=r[o],c=i[l];for(let d=0;d<a-1;d++){const h=r[d],f=i[h];for(let p=d+1;p<a;p++){const m=r[p],y=i[m],x=Math.min(f[m],f[l]+c[m]);f[m]=x,y[h]=x}}}return i}}class G1e{constructor(e,r,n){this.body=e,this.springLength=r,this.springConstant=n,this.distanceSolver=new K1e}setOptions(e){e&&(e.springLength&&(this.springLength=e.springLength),e.springConstant&&(this.springConstant=e.springConstant))}solve(e,r){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;const i=this.distanceSolver.getDistances(this.body,e,r);this._createL_matrix(i),this._createK_matrix(i),this._createE_matrix();const s=.01,a=1;let o=0;const l=Math.max(1e3,Math.min(10*this.body.nodeIndices.length,6e3)),c=5;let d=1e9,h=0,f=0,p=0,m=0,y=0;for(;d>s&&o<l;)for(o+=1,[h,d,f,p]=this._getHighestEnergyNode(n),m=d,y=0;m>a&&y<c;)y+=1,this._moveNode(h,f,p),[m,f,p]=this._getEnergy(h)}_getHighestEnergyNode(e){const r=this.body.nodeIndices,n=this.body.nodes;let i=0,s=r[0],a=0,o=0;for(let l=0;l<r.length;l++){const c=r[l];if(n[c].predefinedPosition!==!0||n[c].isCluster===!0&&e===!0||n[c].options.fixed.x!==!0||n[c].options.fixed.y!==!0){const[d,h,f]=this._getEnergy(c);i<d&&(i=d,s=c,a=h,o=f)}}return[s,i,a,o]}_getEnergy(e){const[r,n]=this.E_sums[e];return[Math.sqrt(r**2+n**2),r,n]}_moveNode(e,r,n){const i=this.body.nodeIndices,s=this.body.nodes;let a=0,o=0,l=0;const c=s[e].x,d=s[e].y,h=this.K_matrix[e],f=this.L_matrix[e];for(let b=0;b<i.length;b++){const _=i[b];if(_!==e){const E=s[_].x,N=s[_].y,S=h[_],O=f[_],C=1/((c-E)**2+(d-N)**2)**1.5;a+=S*(1-O*(d-N)**2*C),o+=S*(O*(c-E)*(d-N)*C),l+=S*(1-O*(c-E)**2*C)}}const p=a,m=o,y=r,x=l,g=n,v=(y/p+g/m)/(m/p-x/m),w=-(m*v+y)/p;s[e].x+=w,s[e].y+=v,this._updateE_matrix(e)}_createL_matrix(e){const r=this.body.nodeIndices,n=this.springLength;this.L_matrix=[];for(let i=0;i<r.length;i++){this.L_matrix[r[i]]={};for(let s=0;s<r.length;s++)this.L_matrix[r[i]][r[s]]=n*e[r[i]][r[s]]}}_createK_matrix(e){const r=this.body.nodeIndices,n=this.springConstant;this.K_matrix=[];for(let i=0;i<r.length;i++){this.K_matrix[r[i]]={};for(let s=0;s<r.length;s++)this.K_matrix[r[i]][r[s]]=n*e[r[i]][r[s]]**-2}}_createE_matrix(){const e=this.body.nodeIndices,r=this.body.nodes;this.E_matrix={},this.E_sums={};for(let n=0;n<e.length;n++)this.E_matrix[e[n]]=[];for(let n=0;n<e.length;n++){const i=e[n],s=r[i].x,a=r[i].y;let o=0,l=0;for(let c=n;c<e.length;c++){const d=e[c];if(d!==i){const h=r[d].x,f=r[d].y,p=1/Math.sqrt((s-h)**2+(a-f)**2);this.E_matrix[i][c]=[this.K_matrix[i][d]*(s-h-this.L_matrix[i][d]*(s-h)*p),this.K_matrix[i][d]*(a-f-this.L_matrix[i][d]*(a-f)*p)],this.E_matrix[d][n]=this.E_matrix[i][c],o+=this.E_matrix[i][c][0],l+=this.E_matrix[i][c][1]}}this.E_sums[i]=[o,l]}}_updateE_matrix(e){const r=this.body.nodeIndices,n=this.body.nodes,i=this.E_matrix[e],s=this.K_matrix[e],a=this.L_matrix[e],o=n[e].x,l=n[e].y;let c=0,d=0;for(let h=0;h<r.length;h++){const f=r[h];if(f!==e){const p=i[h],m=p[0],y=p[1],x=n[f].x,g=n[f].y,v=1/Math.sqrt((o-x)**2+(l-g)**2),w=s[f]*(o-x-a[f]*(o-x)*v),b=s[f]*(l-g-a[f]*(l-g)*v);i[h]=[w,b],c+=w,d+=b;const _=this.E_sums[f];_[0]+=w-m,_[1]+=b-y}}this.E_sums[e]=[c,d]}}function be(t,e,r){var n,i,s,a;if(!(this instanceof be))throw new SyntaxError("Constructor must be called with the new operator");this.options={},this.defaultOptions={locale:"en",locales:yge,clickToUse:!1},Ht(this.options,this.defaultOptions),this.body={container:t,nodes:{},nodeIndices:[],edges:{},edgeIndices:[],emitter:{on:Z(n=this.on).call(n,this),off:Z(i=this.off).call(i,this),emit:Z(s=this.emit).call(s,this),once:Z(a=this.once).call(a,this)},eventListeners:{onTap:function(){},onTouch:function(){},onDoubleTap:function(){},onHold:function(){},onDragStart:function(){},onDrag:function(){},onDragEnd:function(){},onMouseWheel:function(){},onPinch:function(){},onMouseMove:function(){},onRelease:function(){},onContext:function(){}},data:{nodes:null,edges:null},functions:{createNode:function(){},createEdge:function(){},getPointer:function(){}},modules:{},view:{scale:1,translation:{x:0,y:0}},selectionBox:{show:!1,position:{start:{x:0,y:0},end:{x:0,y:0}}}},this.bindEventListeners(),this.images=new wge(()=>this.body.emitter.emit("_requestRedraw")),this.groups=new Mge,this.canvas=new jbe(this.body),this.selectionHandler=new d1e(this.body,this.canvas),this.interactionHandler=new kbe(this.body,this.canvas,this.selectionHandler),this.view=new Rbe(this.body,this.canvas),this.renderer=new Nbe(this.body,this.canvas),this.physics=new gbe(this.body),this.layoutEngine=new z1e(this.body),this.clustering=new Ebe(this.body),this.manipulation=new U1e(this.body,this.canvas,this.selectionHandler,this.interactionHandler),this.nodesHandler=new H0e(this.body,this.images,this.groups,this.layoutEngine),this.edgesHandler=new dbe(this.body,this.images,this.groups),this.body.modules.kamadaKawai=new G1e(this.body,150,.05),this.body.modules.clustering=this.clustering,this.canvas._create(),this.setOptions(r),this.setData(e)}lY(be.prototype);be.prototype.setOptions=function(t){if(t===null&&(t=void 0),t!==void 0){if(Yve.validate(t,H1e)===!0&&console.error("%cErrors have been found in the supplied options object.",nQ),ac(["locale","locales","clickToUse"],this.options,t),t.locale!==void 0&&(t.locale=bge(t.locales||this.options.locales,t.locale)),t=this.layoutEngine.setOptions(t.layout,t),this.canvas.setOptions(t),this.groups.setOptions(t.groups),this.nodesHandler.setOptions(t.nodes),this.edgesHandler.setOptions(t.edges),this.physics.setOptions(t.physics),this.manipulation.setOptions(t.manipulation,t,this.options),this.interactionHandler.setOptions(t.interaction),this.renderer.setOptions(t.interaction),this.selectionHandler.setOptions(t.interaction),t.groups!==void 0&&this.body.emitter.emit("refreshNodes"),"configure"in t&&(this.configurator||(this.configurator=new Kve(this,this.body.container,RQ,this.canvas.pixelRatio,V1e)),this.configurator.setOptions(t.configure)),this.configurator&&this.configurator.options.enabled===!0){const n={nodes:{},edges:{},layout:{},interaction:{},manipulation:{},physics:{},global:{}};dt(n.nodes,this.nodesHandler.options),dt(n.edges,this.edgesHandler.options),dt(n.layout,this.layoutEngine.options),dt(n.interaction,this.selectionHandler.options),dt(n.interaction,this.renderer.options),dt(n.interaction,this.interactionHandler.options),dt(n.manipulation,this.manipulation.options),dt(n.physics,this.physics.options),dt(n.global,this.canvas.options),dt(n.global,this.options),this.configurator.setModuleOptions(n)}t.clickToUse!==void 0?t.clickToUse===!0?this.activator===void 0&&(this.activator=new Vve(this.canvas.frame),this.activator.on("change",()=>{this.body.emitter.emit("activate")})):(this.activator!==void 0&&(this.activator.destroy(),delete this.activator),this.body.emitter.emit("activate")):this.body.emitter.emit("activate"),this.canvas.setSize(),this.body.emitter.emit("startSimulation")}};be.prototype._updateVisibleIndices=function(){const t=this.body.nodes,e=this.body.edges;this.body.nodeIndices=[],this.body.edgeIndices=[];for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&!this.clustering._isClusteredNode(r)&&t[r].options.hidden===!1&&this.body.nodeIndices.push(t[r].id);for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)){const n=e[r],i=t[n.fromId],s=t[n.toId],a=i!==void 0&&s!==void 0;!this.clustering._isClusteredEdge(r)&&n.options.hidden===!1&&a&&i.options.hidden===!1&&s.options.hidden===!1&&this.body.edgeIndices.push(n.id)}};be.prototype.bindEventListeners=function(){this.body.emitter.on("_dataChanged",()=>{this.edgesHandler._updateState(),this.body.emitter.emit("_dataUpdated")}),this.body.emitter.on("_dataUpdated",()=>{this.clustering._updateState(),this._updateVisibleIndices(),this._updateValueRange(this.body.nodes),this._updateValueRange(this.body.edges),this.body.emitter.emit("startSimulation"),this.body.emitter.emit("_requestRedraw")})};be.prototype.setData=function(t){if(this.body.emitter.emit("resetPhysics"),this.body.emitter.emit("_resetData"),this.selectionHandler.unselectAll(),t&&t.dot&&(t.nodes||t.edges))throw new SyntaxError('Data must contain either parameter "dot" or  parameter pair "nodes" and "edges", but not both.');if(this.setOptions(t&&t.options),t&&t.dot){console.warn("The dot property has been deprecated. Please use the static convertDot method to convert DOT into vis.network format and use the normal data format with nodes and edges. This converter is used like this: var data = vis.network.convertDot(dotString);");const e=sge(t.dot);this.setData(e);return}else if(t&&t.gephi){console.warn("The gephi property has been deprecated. Please use the static convertGephi method to convert gephi into vis.network format and use the normal data format with nodes and edges. This converter is used like this: var data = vis.network.convertGephi(gephiJson);");const e=age(t.gephi);this.setData(e);return}else this.nodesHandler.setData(t&&t.nodes,!0),this.edgesHandler.setData(t&&t.edges,!0);this.body.emitter.emit("_dataChanged"),this.body.emitter.emit("_dataLoaded"),this.body.emitter.emit("initPhysics")};be.prototype.destroy=function(){this.body.emitter.emit("destroy"),this.body.emitter.off(),this.off(),delete this.groups,delete this.canvas,delete this.selectionHandler,delete this.interactionHandler,delete this.view,delete this.renderer,delete this.physics,delete this.layoutEngine,delete this.clustering,delete this.manipulation,delete this.nodesHandler,delete this.edgesHandler,delete this.configurator,delete this.images;for(const t in this.body.nodes)Object.prototype.hasOwnProperty.call(this.body.nodes,t)&&delete this.body.nodes[t];for(const t in this.body.edges)Object.prototype.hasOwnProperty.call(this.body.edges,t)&&delete this.body.edges[t];$s(this.body.container)};be.prototype._updateValueRange=function(t){let e,r,n,i=0;for(e in t)if(Object.prototype.hasOwnProperty.call(t,e)){const s=t[e].getValue();s!==void 0&&(r=r===void 0?s:Math.min(s,r),n=n===void 0?s:Math.max(s,n),i+=s)}if(r!==void 0&&n!==void 0)for(e in t)Object.prototype.hasOwnProperty.call(t,e)&&t[e].setValueRange(r,n,i)};be.prototype.isActive=function(){return!this.activator||this.activator.active};be.prototype.setSize=function(){return this.canvas.setSize.apply(this.canvas,arguments)};be.prototype.canvasToDOM=function(){return this.canvas.canvasToDOM.apply(this.canvas,arguments)};be.prototype.DOMtoCanvas=function(){return this.canvas.DOMtoCanvas.apply(this.canvas,arguments)};be.prototype.findNode=function(){return this.clustering.findNode.apply(this.clustering,arguments)};be.prototype.isCluster=function(){return this.clustering.isCluster.apply(this.clustering,arguments)};be.prototype.openCluster=function(){return this.clustering.openCluster.apply(this.clustering,arguments)};be.prototype.cluster=function(){return this.clustering.cluster.apply(this.clustering,arguments)};be.prototype.getNodesInCluster=function(){return this.clustering.getNodesInCluster.apply(this.clustering,arguments)};be.prototype.clusterByConnection=function(){return this.clustering.clusterByConnection.apply(this.clustering,arguments)};be.prototype.clusterByHubsize=function(){return this.clustering.clusterByHubsize.apply(this.clustering,arguments)};be.prototype.updateClusteredNode=function(){return this.clustering.updateClusteredNode.apply(this.clustering,arguments)};be.prototype.getClusteredEdges=function(){return this.clustering.getClusteredEdges.apply(this.clustering,arguments)};be.prototype.getBaseEdge=function(){return this.clustering.getBaseEdge.apply(this.clustering,arguments)};be.prototype.getBaseEdges=function(){return this.clustering.getBaseEdges.apply(this.clustering,arguments)};be.prototype.updateEdge=function(){return this.clustering.updateEdge.apply(this.clustering,arguments)};be.prototype.clusterOutliers=function(){return this.clustering.clusterOutliers.apply(this.clustering,arguments)};be.prototype.getSeed=function(){return this.layoutEngine.getSeed.apply(this.layoutEngine,arguments)};be.prototype.enableEditMode=function(){return this.manipulation.enableEditMode.apply(this.manipulation,arguments)};be.prototype.disableEditMode=function(){return this.manipulation.disableEditMode.apply(this.manipulation,arguments)};be.prototype.addNodeMode=function(){return this.manipulation.addNodeMode.apply(this.manipulation,arguments)};be.prototype.editNode=function(){return this.manipulation.editNode.apply(this.manipulation,arguments)};be.prototype.editNodeMode=function(){return console.warn("Deprecated: Please use editNode instead of editNodeMode."),this.manipulation.editNode.apply(this.manipulation,arguments)};be.prototype.addEdgeMode=function(){return this.manipulation.addEdgeMode.apply(this.manipulation,arguments)};be.prototype.editEdgeMode=function(){return this.manipulation.editEdgeMode.apply(this.manipulation,arguments)};be.prototype.deleteSelected=function(){return this.manipulation.deleteSelected.apply(this.manipulation,arguments)};be.prototype.getPositions=function(){return this.nodesHandler.getPositions.apply(this.nodesHandler,arguments)};be.prototype.getPosition=function(){return this.nodesHandler.getPosition.apply(this.nodesHandler,arguments)};be.prototype.storePositions=function(){return this.nodesHandler.storePositions.apply(this.nodesHandler,arguments)};be.prototype.moveNode=function(){return this.nodesHandler.moveNode.apply(this.nodesHandler,arguments)};be.prototype.getBoundingBox=function(){return this.nodesHandler.getBoundingBox.apply(this.nodesHandler,arguments)};be.prototype.getConnectedNodes=function(t){return this.body.nodes[t]!==void 0?this.nodesHandler.getConnectedNodes.apply(this.nodesHandler,arguments):this.edgesHandler.getConnectedNodes.apply(this.edgesHandler,arguments)};be.prototype.getConnectedEdges=function(){return this.nodesHandler.getConnectedEdges.apply(this.nodesHandler,arguments)};be.prototype.startSimulation=function(){return this.physics.startSimulation.apply(this.physics,arguments)};be.prototype.stopSimulation=function(){return this.physics.stopSimulation.apply(this.physics,arguments)};be.prototype.stabilize=function(){return this.physics.stabilize.apply(this.physics,arguments)};be.prototype.getSelection=function(){return this.selectionHandler.getSelection.apply(this.selectionHandler,arguments)};be.prototype.setSelection=function(){return this.selectionHandler.setSelection.apply(this.selectionHandler,arguments)};be.prototype.getSelectedNodes=function(){return this.selectionHandler.getSelectedNodeIds.apply(this.selectionHandler,arguments)};be.prototype.getSelectedEdges=function(){return this.selectionHandler.getSelectedEdgeIds.apply(this.selectionHandler,arguments)};be.prototype.getNodeAt=function(){const t=this.selectionHandler.getNodeAt.apply(this.selectionHandler,arguments);return t!==void 0&&t.id!==void 0?t.id:t};be.prototype.getEdgeAt=function(){const t=this.selectionHandler.getEdgeAt.apply(this.selectionHandler,arguments);return t!==void 0&&t.id!==void 0?t.id:t};be.prototype.selectNodes=function(){return this.selectionHandler.selectNodes.apply(this.selectionHandler,arguments)};be.prototype.selectEdges=function(){return this.selectionHandler.selectEdges.apply(this.selectionHandler,arguments)};be.prototype.unselectAll=function(){this.selectionHandler.unselectAll.apply(this.selectionHandler,arguments),this.selectionHandler.commitWithoutEmitting.apply(this.selectionHandler),this.redraw()};be.prototype.redraw=function(){return this.renderer.redraw.apply(this.renderer,arguments)};be.prototype.getScale=function(){return this.view.getScale.apply(this.view,arguments)};be.prototype.getViewPosition=function(){return this.view.getViewPosition.apply(this.view,arguments)};be.prototype.fit=function(){return this.view.fit.apply(this.view,arguments)};be.prototype.moveTo=function(){return this.view.moveTo.apply(this.view,arguments)};be.prototype.focus=function(){return this.view.focus.apply(this.view,arguments)};be.prototype.releaseNode=function(){return this.view.releaseNode.apply(this.view,arguments)};be.prototype.getOptionsFromConfigurator=function(){let t={};return this.configurator&&(t=this.configurator.getOptions.apply(this.configurator)),t};function Y1e({graphData:t,startPersonId:e,onNodeClick:r}){const n=I.useRef(null),i=I.useRef(null),s=un(),a=I.useCallback(d=>{r?r(d):s(`/people/${d}`)},[r,s]);I.useEffect(()=>{if(!n.current||!t||!t.nodes||t.nodes.length===0)return;const d=new yu(t.nodes),h=new yu(t.edges),f={layout:{hierarchical:{enabled:!0,direction:"UD",sortMethod:"directed",levelSeparation:180,nodeSpacing:200,treeSpacing:250,blockShifting:!0,edgeMinimization:!0,parentCentralization:!0}},nodes:{shape:"box",margin:10,font:{size:14,face:'system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif',color:"#1f2937"},color:{border:"#d1d5db",background:"#ffffff",highlight:{border:"#f59e0b",background:"#fef3c7"},hover:{border:"#9ca3af",background:"#f9fafb"}},borderWidth:2,borderWidthSelected:3,shadow:{enabled:!0,color:"rgba(0,0,0,0.1)",size:5,x:0,y:2}},edges:{color:{color:"#9ca3af",highlight:"#6b7280",hover:"#6b7280"},width:2,smooth:{enabled:!0,type:"cubicBezier",forceDirection:"vertical",roundness:.4},arrows:{to:{enabled:!1}}},physics:{enabled:!1},interaction:{hover:!0,tooltipDelay:200,zoomView:!0,dragView:!0,dragNodes:!1,navigationButtons:!1,keyboard:{enabled:!0,bindToWindow:!1}}},p=new be(n.current,{nodes:d,edges:h},f);return i.current=p,p.on("click",m=>{if(m.nodes.length>0){const y=m.nodes[0];a(y)}}),p.on("doubleClick",m=>{m.nodes.length>0&&p.focus(m.nodes[0],{scale:1,animation:{duration:500,easingFunction:"easeInOutQuad"}})}),p.once("stabilized",()=>{const m=t.edges.filter(y=>y.dashes).map(y=>[y.from,y.to]);if(m.length>0){const y=p.getPositions(),x={},g=new Set;m.forEach(([v,w])=>{if(g.has(v)||g.has(w))return;const b=y[v],_=y[w];if(!b||!_)return;const E=(b.x+_.x)/2;x[v]={x:E-60,y:b.y},x[w]={x:E+60,y:_.y},g.add(v),g.add(w)}),Object.entries(x).forEach(([v,w])=>{p.moveNode(v,w.x,w.y)})}setTimeout(()=>{p.fit({animation:{duration:500,easingFunction:"easeInOutQuad"}})},50)}),setTimeout(()=>{e&&p&&p.focus(e,{scale:.8,animation:{duration:500,easingFunction:"easeInOutQuad"}})},100),()=>{p&&p.destroy()}},[t,e,a]);const o=()=>{if(i.current){const d=i.current.getScale();i.current.moveTo({scale:d*1.3,animation:{duration:300,easingFunction:"easeInOutQuad"}})}},l=()=>{if(i.current){const d=i.current.getScale();i.current.moveTo({scale:d/1.3,animation:{duration:300,easingFunction:"easeInOutQuad"}})}},c=()=>{i.current&&i.current.fit({animation:{duration:500,easingFunction:"easeInOutQuad"}})};return!t||!t.nodes||t.nodes.length===0?u.jsx("div",{className:"flex items-center justify-center h-96",children:u.jsx("p",{className:"text-gray-500",children:"No family tree data available"})}):u.jsxs("div",{className:"relative w-full h-full",children:[u.jsxs("div",{className:"absolute top-4 right-4 z-10 flex gap-2 bg-white rounded-lg shadow-lg p-2",children:[u.jsx("button",{onClick:o,className:"p-2 hover:bg-gray-100 rounded",title:"Zoom In",children:u.jsx(Lre,{className:"w-4 h-4"})}),u.jsx("button",{onClick:l,className:"p-2 hover:bg-gray-100 rounded",title:"Zoom Out",children:u.jsx(Bre,{className:"w-4 h-4"})}),u.jsx("button",{onClick:c,className:"p-2 hover:bg-gray-100 rounded",title:"Fit All",children:u.jsx(tK,{className:"w-4 h-4"})})]}),u.jsx("div",{className:"absolute bottom-4 left-4 z-10 text-xs text-gray-500 bg-white/80 px-2 py-1 rounded",children:"Click a person to view details  Double-click to center  Scroll to zoom"}),u.jsx("div",{ref:n,className:"w-full h-full min-h-[600px]",style:{background:"#fafafa"}})]})}const Q1e=["parent","child","spouse","lover","partner"];function X1e(t){return Q1e.includes(t==null?void 0:t.toLowerCase())}function J1e(t){return(t==null?void 0:t.toLowerCase())==="parent"}function Z1e(t){return(t==null?void 0:t.toLowerCase())==="child"}function exe(t){const e=t==null?void 0:t.toLowerCase();return e==="spouse"||e==="lover"||e==="partner"}function txe(t,e,r){var d;const n=new Map,i=[],s=new Set,a=new Map;e.forEach(h=>a.set(h.id,h));const o=[{personId:t,depth:0}];s.add(t);function l(h,f){var v,w,b,_;let p=h.name||((v=h.title)==null?void 0:v.rendered)||h.title||`Person ${f}`;if(p&&typeof p=="string"&&typeof document<"u"){const E=document.createElement("textarea");E.innerHTML=p,p=E.value}let m=null,y=((w=h.acf)==null?void 0:w.birth_date)||null;if(y){const E=new Date(y);isNaN(E.getTime())||(m=Math.floor((new Date-E)/(365.25*24*60*60*1e3)))}let x="";switch((b=h.acf)==null?void 0:b.gender){case"male":x="";break;case"female":x="";break;case"non_binary":case"other":case"prefer_not_to_say":x="";break}let g="";if(y)try{const E=new Date(y);if(!isNaN(E.getTime())){const N=String(E.getDate()).padStart(2,"0"),S=String(E.getMonth()+1).padStart(2,"0"),O=E.getFullYear();g=`${N}-${S}-${O}`}}catch{}return{id:f,name:p,gender:((_=h.acf)==null?void 0:_.gender)||"",genderSymbol:x,photo:h.thumbnail||null,age:m,birthDate:y,formattedBirthDate:g}}const c=a.get(t);for(c&&n.set(t,l(c,t));o.length>0;){const{personId:h,depth:f}=o.shift(),p=r.get(h)||[];for(const m of p){if(m.relationship_type_slug&&!X1e(m.relationship_type_slug))continue;const y=m.related_person;if(!y||!a.has(y))continue;if(!n.has(y)){const w=a.get(y);n.set(y,l(w,y))}const x=`${h}-${y}`,g=`${y}-${h}`;if(!i.some(w=>`${w.from}-${w.to}`===x||`${w.from}-${w.to}`===g)){const w=(d=m.relationship_type_slug)==null?void 0:d.toLowerCase();if(J1e(w))i.push({from:y,to:h,type:"parent-child"});else if(Z1e(w))i.push({from:h,to:y,type:"parent-child"});else if(exe(w)){const[b,_]=h<y?[h,y]:[y,h];i.push({from:b,to:_,type:"spouse"})}}s.has(y)||(s.add(y),o.push({personId:y,depth:f+1}))}}return{nodes:Array.from(n.values()),edges:i}}function rxe(t,e,r={}){const{nodes:n,edges:i}=t;if(n.length===0)return{nodes:[],edges:[]};const s=new Map,a=new Map,o=new Map;n.forEach(x=>{s.set(x.id,[]),a.set(x.id,[]),o.set(x.id,[])}),i.forEach(x=>{var g,v,w,b;x.type==="parent-child"?((g=s.get(x.to))==null||g.push(x.from),(v=a.get(x.from))==null||v.push(x.to)):x.type==="spouse"&&((w=o.get(x.from))==null||w.push(x.to),(b=o.get(x.to))==null||b.push(x.from))});const l=new Map,c=new Set,d=[{id:e,generation:0}];for(l.set(e,0),c.add(e);d.length>0;){const{id:x,generation:g}=d.shift(),v=s.get(x)||[];for(const _ of v)c.has(_)||(c.add(_),l.set(_,g-1),d.push({id:_,generation:g-1}));const w=a.get(x)||[];for(const _ of w)c.has(_)||(c.add(_),l.set(_,g+1),d.push({id:_,generation:g+1}));const b=o.get(x)||[];for(const _ of b)c.has(_)||(c.add(_),l.set(_,g),d.push({id:_,generation:g}))}n.forEach(x=>{l.has(x.id)||l.set(x.id,0)});const h=Math.min(...l.values()),f=new Map;l.forEach((x,g)=>{f.set(g,x-h)});function p(x,g,v=!1){const w=x?x.split(" ").map(N=>N[0]).join("").toUpperCase().slice(0,2):"?";let b,_;v?(b="%23d1d5db",_="%236b7280"):g?(b="%23fef3c7",_="%23b45309"):(b="%23e5e7eb",_="%23374151");const E=`<svg xmlns="http://www.w3.org/2000/svg" width="90" height="90" viewBox="0 0 90 90">
      <circle cx="45" cy="45" r="45" fill="${b}"/>
      <text x="45" y="55" text-anchor="middle" font-family="system-ui, sans-serif" font-size="28" font-weight="500" fill="${_}">${w}</text>
    </svg>`;return"data:image/svg+xml,"+encodeURIComponent(E)}const m=n.map(x=>{const g=f.get(x.id)||0,v=x.id===e,w=r[x.id]||!1;let b=x.name;w&&(b=x.name+" ");let _=[b],E="";x.genderSymbol&&(E+=x.genderSymbol+" "),x.age!==null&&(E+=x.age+" "),x.formattedBirthDate&&(E+=x.formattedBirthDate),E.trim()&&_.push(E.trim());const N=x.photo||p(x.name,v,w);let S="#d1d5db";return v?S="#f59e0b":w&&(S="#9ca3af"),{id:x.id,label:_.join(`
`),level:g,shape:"circularImage",image:N,size:45,font:{size:14,face:"system-ui, -apple-system, sans-serif",vadjust:8,color:w?"#6b7280":"#1f2937"},color:{border:S,background:"#ffffff",highlight:{border:"#f59e0b",background:"#fef3c7"}},borderWidth:v?3:2,data:{...x,isDeceased:w}}}),y=i.map((x,g)=>{const v=x.type==="spouse";return{id:`edge-${g}`,from:x.from,to:x.to,arrows:{to:{enabled:!1}},color:{color:v?"#ec4899":"#9ca3af",highlight:v?"#db2777":"#6b7280"},width:2,dashes:v?[5,5]:!1,smooth:!1,length:v?50:300}});return{nodes:m,edges:y}}function nxe(t){const e=new Map;return t.forEach(r=>{var s;const i=(((s=r.acf)==null?void 0:s.relationships)||[]).map(a=>{var c,d,h,f,p,m;let o="";a.relationship_slug?o=a.relationship_slug.toLowerCase():typeof a.relationship_type=="object"?o=((c=a.relationship_type)==null?void 0:c.slug)||((h=(d=a.relationship_type)==null?void 0:d.name)==null?void 0:h.toLowerCase())||"":typeof a.relationship_type=="string"&&(o=a.relationship_type.toLowerCase());let l=null;return typeof a.related_person=="object"?l=((f=a.related_person)==null?void 0:f.ID)||((p=a.related_person)==null?void 0:p.id)||((m=a.related_person)==null?void 0:m.term_id):(typeof a.related_person=="number"||typeof a.related_person=="string")&&(l=parseInt(a.related_person,10)),{related_person:l,relationship_type:a.relationship_type,relationship_type_slug:o,relationship_name:a.relationship_name||"",relationship_label:a.relationship_label||""}}).filter(a=>a.related_person);e.set(r.id,i)}),e}function ixe(t,e){const r=new Map;e.forEach(n=>{var i;r.set(n.id,n.slug||((i=n.name)==null?void 0:i.toLowerCase()))}),t.forEach(n=>{n.forEach(i=>{if(!i.relationship_type_slug&&i.relationship_type){const s=typeof i.relationship_type=="object"?i.relationship_type.term_id||i.relationship_type.id:i.relationship_type;i.relationship_type_slug=r.get(s)||""}})})}function sxe(){var p,m;const{id:t}=ws(),e=un(),r=parseInt(t,10),{data:n,isLoading:i}=Ru(t),{data:s=[],isLoading:a}=Iu(),{data:o=[]}=yt({queryKey:["relationship-types"],queryFn:async()=>(await Ue.getRelationshipTypes()).data}),l=I.useMemo(()=>s.map(y=>y.id).filter(Boolean),[s]),c=up({queries:l.map(y=>({queryKey:["person-dates",y],queryFn:async()=>(await Me.getPersonDates(y)).data,enabled:!!y,staleTime:5*60*1e3}))}),d=I.useMemo(()=>{const y={};return c.forEach((x,g)=>{if(x.data&&l[g]){const v=l[g],w=x.data.some(b=>{const _=Array.isArray(b.date_type)?b.date_type[0]:b.date_type;return(_==null?void 0:_.toLowerCase())==="died"});y[v]=w}}),y},[c,l]);Sn(n?`Family Tree - ${n.name||((p=n.title)==null?void 0:p.rendered)||n.title||"Person"}`:"Family Tree");const h=I.useMemo(()=>{if(!n||!s.length)return null;try{const y=nxe(s);o.length>0&&ixe(y,o);const x=txe(r,s,y);return!x||x.nodes.length===0?null:rxe(x,r,d)}catch(y){return console.error("Error building family tree:",y),null}},[n,s,o,r,d]),f=y=>{e(`/people/${y}`)};return i||a?u.jsx("div",{className:"flex items-center justify-center h-64",children:u.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"})}):n?u.jsxs("div",{className:"max-w-full mx-auto space-y-6",children:[u.jsx("div",{className:"flex items-center justify-between",children:u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsxs(fe,{to:`/people/${t}`,className:"flex items-center text-gray-600 hover:text-gray-900",children:[u.jsx(xn,{className:"w-4 h-4 md:mr-2"}),u.jsx("span",{className:"hidden md:inline",children:"Back to Person"})]}),u.jsxs("h1",{className:"text-2xl font-bold",children:["Family Tree: ",n.name||((m=n.title)==null?void 0:m.rendered)||n.title||`Person ${t}`]})]})}),u.jsx("div",{className:"card p-6",children:u.jsx("div",{className:"w-full",style:{height:"800px"},children:h&&h.nodes&&h.nodes.length>0?u.jsx(Y1e,{graphData:h,startPersonId:r,onNodeClick:f}):u.jsx("div",{className:"flex items-center justify-center h-full",children:u.jsxs("div",{className:"text-center",children:[u.jsx("p",{className:"text-gray-500 mb-2",children:"No family relationships found."}),u.jsx("p",{className:"text-sm text-gray-400",children:"Add parent or child relationships to see the family tree."})]})})})})]}):u.jsxs("div",{className:"card p-6 text-center",children:[u.jsx("p",{className:"text-red-600 mb-4",children:"Failed to load person."}),u.jsx(fe,{to:"/people",className:"btn-secondary",children:"Back to People"})]})}function axe(){const{loginUrl:t,isLoggedIn:e}=KC();return cK(),I.useEffect(()=>{e||(window.location.href=t)},[e,t]),u.jsx("div",{className:"flex items-center justify-center min-h-screen bg-gray-50",children:u.jsxs("div",{className:"text-center",children:[u.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600 mx-auto mb-4"}),u.jsx("p",{className:"text-gray-600",children:"Redirecting to login..."})]})})}function oxe({children:t}){const{data:e,isLoading:r,error:n}=yt({queryKey:["current-user"],queryFn:async()=>(await Me.getCurrentUser()).data,retry:!1});return r?u.jsx("div",{className:"flex items-center justify-center min-h-screen bg-gray-50",children:u.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"})}):n||!e?u.jsx("div",{className:"flex items-center justify-center min-h-screen bg-gray-50",children:u.jsx("div",{className:"max-w-md w-full mx-4",children:u.jsxs("div",{className:"card p-8 text-center",children:[u.jsx("div",{className:"flex justify-center mb-4",children:u.jsx("div",{className:"p-3 bg-yellow-100 rounded-full",children:u.jsx(va,{className:"w-8 h-8 text-yellow-600"})})}),u.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-2",children:"Account Pending Approval"}),u.jsx("p",{className:"text-gray-600 mb-6",children:"Your account is pending approval by an administrator. You will receive an email notification once your account has been approved."}),u.jsx("p",{className:"text-sm text-gray-500",children:"If you have any questions, please contact your administrator."})]})})}):e!=null&&e.is_admin||e.is_approved?t:u.jsx("div",{className:"flex items-center justify-center min-h-screen bg-gray-50",children:u.jsx("div",{className:"max-w-md w-full mx-4",children:u.jsxs("div",{className:"card p-8 text-center",children:[u.jsx("div",{className:"flex justify-center mb-4",children:u.jsx("div",{className:"p-3 bg-yellow-100 rounded-full",children:u.jsx(va,{className:"w-8 h-8 text-yellow-600"})})}),u.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-2",children:"Account Pending Approval"}),u.jsx("p",{className:"text-gray-600 mb-6",children:"Your account is pending approval by an administrator. You will receive an email notification once your account has been approved."}),u.jsx("p",{className:"text-sm text-gray-500",children:"If you have any questions, please contact your administrator."})]})})})}function lxe({children:t}){const{isLoggedIn:e,isLoading:r}=KC();return r?u.jsx("div",{className:"flex items-center justify-center min-h-screen",children:u.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"})}):e?u.jsx(oxe,{children:t}):u.jsx(lV,{to:"/login",replace:!0})}function uxe(){return u.jsxs(Xj,{children:[u.jsx(it,{path:"/login",element:u.jsx(axe,{})}),u.jsx(it,{path:"/*",element:u.jsx(lxe,{children:u.jsx(Yre,{children:u.jsxs(Xj,{children:[u.jsx(it,{path:"/",element:u.jsx(Rie,{})}),u.jsx(it,{path:"/people",element:u.jsx(Vie,{})}),u.jsx(it,{path:"/people/new",element:u.jsx(eR,{})}),u.jsx(it,{path:"/people/:personId/contact/new",element:u.jsx(rR,{})}),u.jsx(it,{path:"/people/:personId/contact/:index/edit",element:u.jsx(rR,{})}),u.jsx(it,{path:"/people/:personId/work-history/new",element:u.jsx(tR,{})}),u.jsx(it,{path:"/people/:personId/work-history/:index/edit",element:u.jsx(tR,{})}),u.jsx(it,{path:"/people/:personId/relationship/new",element:u.jsx(nR,{})}),u.jsx(it,{path:"/people/:personId/relationship/:index/edit",element:u.jsx(nR,{})}),u.jsx(it,{path:"/people/:id/family-tree",element:u.jsx(sxe,{})}),u.jsx(it,{path:"/people/:id/edit",element:u.jsx(eR,{})}),u.jsx(it,{path:"/people/:id",element:u.jsx(yse,{})}),u.jsx(it,{path:"/companies",element:u.jsx(Use,{})}),u.jsx(it,{path:"/companies/new",element:u.jsx(iR,{})}),u.jsx(it,{path:"/companies/:id",element:u.jsx(Wse,{})}),u.jsx(it,{path:"/companies/:id/edit",element:u.jsx(iR,{})}),u.jsx(it,{path:"/dates",element:u.jsx(Kse,{})}),u.jsx(it,{path:"/dates/new",element:u.jsx(sR,{})}),u.jsx(it,{path:"/dates/:id/edit",element:u.jsx(sR,{})}),u.jsx(it,{path:"/settings",element:u.jsx(Yse,{})}),u.jsx(it,{path:"/settings/relationship-types",element:u.jsx(Qse,{})}),u.jsx(it,{path:"/settings/import",element:u.jsx(tae,{})}),u.jsx(it,{path:"/settings/export",element:u.jsx(rae,{})}),u.jsx(it,{path:"/settings/user-approval",element:u.jsx(nae,{})}),u.jsx(it,{path:"*",element:u.jsx(lV,{to:"/",replace:!0})})]})})})})]})}const cxe=new Bee({defaultOptions:{queries:{staleTime:5*60*1e3,retry:1}}}),Y2=document.getElementById("root");if(!Y2)console.error('Root element not found! Make sure there is a <div id="root"></div> in your HTML.');else try{Q2.createRoot(Y2).render(u.jsx(je.StrictMode,{children:u.jsx(zee,{client:cxe,children:u.jsx(cee,{children:u.jsx(uxe,{})})})}))}catch(t){console.error("Error mounting React app:",t),Y2.innerHTML='<div style="padding: 20px; color: red;"><h1>Error Loading Application</h1><p>Please check the browser console for details.</p></div>'}
