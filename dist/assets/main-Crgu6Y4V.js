var sP=t=>{throw TypeError(t)};var rv=(t,e,r)=>e.has(t)||sP("Cannot "+r);var R=(t,e,r)=>(rv(t,e,"read from private field"),r?r.call(t):e.get(t)),ge=(t,e,r)=>e.has(t)?sP("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,r),ie=(t,e,r,n)=>(rv(t,e,"write to private field"),n?n.call(t,r):e.set(t,r),r),Pe=(t,e,r)=>(rv(t,e,"access private method"),r);var Gh=(t,e,r,n)=>({set _(i){ie(t,e,i,r)},get _(){return R(t,e,n)}});function mX(t,e){for(var r=0;r<e.length;r++){const n=e[r];if(typeof n!="string"&&!Array.isArray(n)){for(const i in n)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(n,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>n[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}function vX(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var uW={exports:{}},Wp={},cW={exports:{}},Ve={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Kd=Symbol.for("react.element"),gX=Symbol.for("react.portal"),yX=Symbol.for("react.fragment"),bX=Symbol.for("react.strict_mode"),xX=Symbol.for("react.profiler"),wX=Symbol.for("react.provider"),_X=Symbol.for("react.context"),SX=Symbol.for("react.forward_ref"),EX=Symbol.for("react.suspense"),NX=Symbol.for("react.memo"),jX=Symbol.for("react.lazy"),aP=Symbol.iterator;function CX(t){return t===null||typeof t!="object"?null:(t=aP&&t[aP]||t["@@iterator"],typeof t=="function"?t:null)}var dW={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},hW=Object.assign,fW={};function $u(t,e,r){this.props=t,this.context=e,this.refs=fW,this.updater=r||dW}$u.prototype.isReactComponent={};$u.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};$u.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function pW(){}pW.prototype=$u.prototype;function oC(t,e,r){this.props=t,this.context=e,this.refs=fW,this.updater=r||dW}var lC=oC.prototype=new pW;lC.constructor=oC;hW(lC,$u.prototype);lC.isPureReactComponent=!0;var oP=Array.isArray,mW=Object.prototype.hasOwnProperty,uC={current:null},vW={key:!0,ref:!0,__self:!0,__source:!0};function gW(t,e,r){var n,i={},s=null,a=null;if(e!=null)for(n in e.ref!==void 0&&(a=e.ref),e.key!==void 0&&(s=""+e.key),e)mW.call(e,n)&&!vW.hasOwnProperty(n)&&(i[n]=e[n]);var o=arguments.length-2;if(o===1)i.children=r;else if(1<o){for(var u=Array(o),c=0;c<o;c++)u[c]=arguments[c+2];i.children=u}if(t&&t.defaultProps)for(n in o=t.defaultProps,o)i[n]===void 0&&(i[n]=o[n]);return{$$typeof:Kd,type:t,key:s,ref:a,props:i,_owner:uC.current}}function OX(t,e){return{$$typeof:Kd,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function cC(t){return typeof t=="object"&&t!==null&&t.$$typeof===Kd}function TX(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(r){return e[r]})}var lP=/\/+/g;function nv(t,e){return typeof t=="object"&&t!==null&&t.key!=null?TX(""+t.key):e.toString(36)}function jf(t,e,r,n,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var a=!1;if(t===null)a=!0;else switch(s){case"string":case"number":a=!0;break;case"object":switch(t.$$typeof){case Kd:case gX:a=!0}}if(a)return a=t,i=i(a),t=n===""?"."+nv(a,0):n,oP(i)?(r="",t!=null&&(r=t.replace(lP,"$&/")+"/"),jf(i,e,r,"",function(c){return c})):i!=null&&(cC(i)&&(i=OX(i,r+(!i.key||a&&a.key===i.key?"":(""+i.key).replace(lP,"$&/")+"/")+t)),e.push(i)),1;if(a=0,n=n===""?".":n+":",oP(t))for(var o=0;o<t.length;o++){s=t[o];var u=n+nv(s,o);a+=jf(s,e,r,u,i)}else if(u=CX(t),typeof u=="function")for(t=u.call(t),o=0;!(s=t.next()).done;)s=s.value,u=n+nv(s,o++),a+=jf(s,e,r,u,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return a}function Yh(t,e,r){if(t==null)return t;var n=[],i=0;return jf(t,n,"","",function(s){return e.call(r,s,i++)}),n}function PX(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(r){(t._status===0||t._status===-1)&&(t._status=1,t._result=r)},function(r){(t._status===0||t._status===-1)&&(t._status=2,t._result=r)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Yr={current:null},Cf={transition:null},IX={ReactCurrentDispatcher:Yr,ReactCurrentBatchConfig:Cf,ReactCurrentOwner:uC};function yW(){throw Error("act(...) is not supported in production builds of React.")}Ve.Children={map:Yh,forEach:function(t,e,r){Yh(t,function(){e.apply(this,arguments)},r)},count:function(t){var e=0;return Yh(t,function(){e++}),e},toArray:function(t){return Yh(t,function(e){return e})||[]},only:function(t){if(!cC(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Ve.Component=$u;Ve.Fragment=yX;Ve.Profiler=xX;Ve.PureComponent=oC;Ve.StrictMode=bX;Ve.Suspense=EX;Ve.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=IX;Ve.act=yW;Ve.cloneElement=function(t,e,r){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var n=hW({},t.props),i=t.key,s=t.ref,a=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,a=uC.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var o=t.type.defaultProps;for(u in e)mW.call(e,u)&&!vW.hasOwnProperty(u)&&(n[u]=e[u]===void 0&&o!==void 0?o[u]:e[u])}var u=arguments.length-2;if(u===1)n.children=r;else if(1<u){o=Array(u);for(var c=0;c<u;c++)o[c]=arguments[c+2];n.children=o}return{$$typeof:Kd,type:t.type,key:i,ref:s,props:n,_owner:a}};Ve.createContext=function(t){return t={$$typeof:_X,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:wX,_context:t},t.Consumer=t};Ve.createElement=gW;Ve.createFactory=function(t){var e=gW.bind(null,t);return e.type=t,e};Ve.createRef=function(){return{current:null}};Ve.forwardRef=function(t){return{$$typeof:SX,render:t}};Ve.isValidElement=cC;Ve.lazy=function(t){return{$$typeof:jX,_payload:{_status:-1,_result:t},_init:PX}};Ve.memo=function(t,e){return{$$typeof:NX,type:t,compare:e===void 0?null:e}};Ve.startTransition=function(t){var e=Cf.transition;Cf.transition={};try{t()}finally{Cf.transition=e}};Ve.unstable_act=yW;Ve.useCallback=function(t,e){return Yr.current.useCallback(t,e)};Ve.useContext=function(t){return Yr.current.useContext(t)};Ve.useDebugValue=function(){};Ve.useDeferredValue=function(t){return Yr.current.useDeferredValue(t)};Ve.useEffect=function(t,e){return Yr.current.useEffect(t,e)};Ve.useId=function(){return Yr.current.useId()};Ve.useImperativeHandle=function(t,e,r){return Yr.current.useImperativeHandle(t,e,r)};Ve.useInsertionEffect=function(t,e){return Yr.current.useInsertionEffect(t,e)};Ve.useLayoutEffect=function(t,e){return Yr.current.useLayoutEffect(t,e)};Ve.useMemo=function(t,e){return Yr.current.useMemo(t,e)};Ve.useReducer=function(t,e,r){return Yr.current.useReducer(t,e,r)};Ve.useRef=function(t){return Yr.current.useRef(t)};Ve.useState=function(t){return Yr.current.useState(t)};Ve.useSyncExternalStore=function(t,e,r){return Yr.current.useSyncExternalStore(t,e,r)};Ve.useTransition=function(){return Yr.current.useTransition()};Ve.version="18.3.1";cW.exports=Ve;var T=cW.exports;const qe=vX(T),RX=mX({__proto__:null,default:qe},[T]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $X=T,kX=Symbol.for("react.element"),DX=Symbol.for("react.fragment"),MX=Object.prototype.hasOwnProperty,qX=$X.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,AX={key:!0,ref:!0,__self:!0,__source:!0};function bW(t,e,r){var n,i={},s=null,a=null;r!==void 0&&(s=""+r),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(a=e.ref);for(n in e)MX.call(e,n)&&!AX.hasOwnProperty(n)&&(i[n]=e[n]);if(t&&t.defaultProps)for(n in e=t.defaultProps,e)i[n]===void 0&&(i[n]=e[n]);return{$$typeof:kX,type:t,key:s,ref:a,props:i,_owner:qX.current}}Wp.Fragment=DX;Wp.jsx=bW;Wp.jsxs=bW;uW.exports=Wp;var l=uW.exports,h2={},xW={exports:{}},Tn={},wW={exports:{}},_W={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(q,H){var B=q.length;q.push(H);e:for(;0<B;){var W=B-1>>>1,G=q[W];if(0<i(G,H))q[W]=H,q[B]=G,B=W;else break e}}function r(q){return q.length===0?null:q[0]}function n(q){if(q.length===0)return null;var H=q[0],B=q.pop();if(B!==H){q[0]=B;e:for(var W=0,G=q.length,de=G>>>1;W<de;){var xe=2*(W+1)-1,Ie=q[xe],me=xe+1,Ce=q[me];if(0>i(Ie,B))me<G&&0>i(Ce,Ie)?(q[W]=Ce,q[me]=B,W=me):(q[W]=Ie,q[xe]=B,W=xe);else if(me<G&&0>i(Ce,B))q[W]=Ce,q[me]=B,W=me;else break e}}return H}function i(q,H){var B=q.sortIndex-H.sortIndex;return B!==0?B:q.id-H.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var a=Date,o=a.now();t.unstable_now=function(){return a.now()-o}}var u=[],c=[],d=1,h=null,f=3,p=!1,v=!1,y=!1,x=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,m=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(q){for(var H=r(c);H!==null;){if(H.callback===null)n(c);else if(H.startTime<=q)n(c),H.sortIndex=H.expirationTime,e(u,H);else break;H=r(c)}}function b(q){if(y=!1,w(q),!v)if(r(u)!==null)v=!0,M(_);else{var H=r(c);H!==null&&V(b,H.startTime-q)}}function _(q,H){v=!1,y&&(y=!1,g(S),S=-1),p=!0;var B=f;try{for(w(H),h=r(u);h!==null&&(!(h.expirationTime>H)||q&&!O());){var W=h.callback;if(typeof W=="function"){h.callback=null,f=h.priorityLevel;var G=W(h.expirationTime<=H);H=t.unstable_now(),typeof G=="function"?h.callback=G:h===r(u)&&n(u),w(H)}else n(u);h=r(u)}if(h!==null)var de=!0;else{var xe=r(c);xe!==null&&V(b,xe.startTime-H),de=!1}return de}finally{h=null,f=B,p=!1}}var E=!1,j=null,S=-1,C=5,N=-1;function O(){return!(t.unstable_now()-N<C)}function P(){if(j!==null){var q=t.unstable_now();N=q;var H=!0;try{H=j(!0,q)}finally{H?I():(E=!1,j=null)}}else E=!1}var I;if(typeof m=="function")I=function(){m(P)};else if(typeof MessageChannel<"u"){var D=new MessageChannel,F=D.port2;D.port1.onmessage=P,I=function(){F.postMessage(null)}}else I=function(){x(P,0)};function M(q){j=q,E||(E=!0,I())}function V(q,H){S=x(function(){q(t.unstable_now())},H)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(q){q.callback=null},t.unstable_continueExecution=function(){v||p||(v=!0,M(_))},t.unstable_forceFrameRate=function(q){0>q||125<q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<q?Math.floor(1e3/q):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return r(u)},t.unstable_next=function(q){switch(f){case 1:case 2:case 3:var H=3;break;default:H=f}var B=f;f=H;try{return q()}finally{f=B}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(q,H){switch(q){case 1:case 2:case 3:case 4:case 5:break;default:q=3}var B=f;f=q;try{return H()}finally{f=B}},t.unstable_scheduleCallback=function(q,H,B){var W=t.unstable_now();switch(typeof B=="object"&&B!==null?(B=B.delay,B=typeof B=="number"&&0<B?W+B:W):B=W,q){case 1:var G=-1;break;case 2:G=250;break;case 5:G=1073741823;break;case 4:G=1e4;break;default:G=5e3}return G=B+G,q={id:d++,callback:H,priorityLevel:q,startTime:B,expirationTime:G,sortIndex:-1},B>W?(q.sortIndex=B,e(c,q),r(u)===null&&q===r(c)&&(y?(g(S),S=-1):y=!0,V(b,B-W))):(q.sortIndex=G,e(u,q),v||p||(v=!0,M(_))),q},t.unstable_shouldYield=O,t.unstable_wrapCallback=function(q){var H=f;return function(){var B=f;f=H;try{return q.apply(this,arguments)}finally{f=B}}}})(_W);wW.exports=_W;var FX=wW.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var LX=T,On=FX;function ee(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,r=1;r<arguments.length;r++)e+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var SW=new Set,sd={};function Uo(t,e){du(t,e),du(t+"Capture",e)}function du(t,e){for(sd[t]=e,t=0;t<e.length;t++)SW.add(e[t])}var gs=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),f2=Object.prototype.hasOwnProperty,BX=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,uP={},cP={};function zX(t){return f2.call(cP,t)?!0:f2.call(uP,t)?!1:BX.test(t)?cP[t]=!0:(uP[t]=!0,!1)}function UX(t,e,r,n){if(r!==null&&r.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function WX(t,e,r,n){if(e===null||typeof e>"u"||UX(t,e,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Qr(t,e,r,n,i,s,a){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=n,this.attributeNamespace=i,this.mustUseProperty=r,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=a}var jr={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){jr[t]=new Qr(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];jr[e]=new Qr(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){jr[t]=new Qr(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){jr[t]=new Qr(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){jr[t]=new Qr(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){jr[t]=new Qr(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){jr[t]=new Qr(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){jr[t]=new Qr(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){jr[t]=new Qr(t,5,!1,t.toLowerCase(),null,!1,!1)});var dC=/[\-:]([a-z])/g;function hC(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(dC,hC);jr[e]=new Qr(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(dC,hC);jr[e]=new Qr(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(dC,hC);jr[e]=new Qr(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){jr[t]=new Qr(t,1,!1,t.toLowerCase(),null,!1,!1)});jr.xlinkHref=new Qr("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){jr[t]=new Qr(t,1,!1,t.toLowerCase(),null,!0,!0)});function fC(t,e,r,n){var i=jr.hasOwnProperty(e)?jr[e]:null;(i!==null?i.type!==0:n||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(WX(e,r,i,n)&&(r=null),n||i===null?zX(e)&&(r===null?t.removeAttribute(e):t.setAttribute(e,""+r)):i.mustUseProperty?t[i.propertyName]=r===null?i.type===3?!1:"":r:(e=i.attributeName,n=i.attributeNamespace,r===null?t.removeAttribute(e):(i=i.type,r=i===3||i===4&&r===!0?"":""+r,n?t.setAttributeNS(n,e,r):t.setAttribute(e,r))))}var Es=LX.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Qh=Symbol.for("react.element"),wl=Symbol.for("react.portal"),_l=Symbol.for("react.fragment"),pC=Symbol.for("react.strict_mode"),p2=Symbol.for("react.profiler"),EW=Symbol.for("react.provider"),NW=Symbol.for("react.context"),mC=Symbol.for("react.forward_ref"),m2=Symbol.for("react.suspense"),v2=Symbol.for("react.suspense_list"),vC=Symbol.for("react.memo"),Fs=Symbol.for("react.lazy"),jW=Symbol.for("react.offscreen"),dP=Symbol.iterator;function vc(t){return t===null||typeof t!="object"?null:(t=dP&&t[dP]||t["@@iterator"],typeof t=="function"?t:null)}var kt=Object.assign,iv;function $c(t){if(iv===void 0)try{throw Error()}catch(r){var e=r.stack.trim().match(/\n( *(at )?)/);iv=e&&e[1]||""}return`
`+iv+t}var sv=!1;function av(t,e){if(!t||sv)return"";sv=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var n=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){n=c}t.call(e.prototype)}else{try{throw Error()}catch(c){n=c}t()}}catch(c){if(c&&n&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),s=n.stack.split(`
`),a=i.length-1,o=s.length-1;1<=a&&0<=o&&i[a]!==s[o];)o--;for(;1<=a&&0<=o;a--,o--)if(i[a]!==s[o]){if(a!==1||o!==1)do if(a--,o--,0>o||i[a]!==s[o]){var u=`
`+i[a].replace(" at new "," at ");return t.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",t.displayName)),u}while(1<=a&&0<=o);break}}}finally{sv=!1,Error.prepareStackTrace=r}return(t=t?t.displayName||t.name:"")?$c(t):""}function VX(t){switch(t.tag){case 5:return $c(t.type);case 16:return $c("Lazy");case 13:return $c("Suspense");case 19:return $c("SuspenseList");case 0:case 2:case 15:return t=av(t.type,!1),t;case 11:return t=av(t.type.render,!1),t;case 1:return t=av(t.type,!0),t;default:return""}}function g2(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case _l:return"Fragment";case wl:return"Portal";case p2:return"Profiler";case pC:return"StrictMode";case m2:return"Suspense";case v2:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case NW:return(t.displayName||"Context")+".Consumer";case EW:return(t._context.displayName||"Context")+".Provider";case mC:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case vC:return e=t.displayName||null,e!==null?e:g2(t.type)||"Memo";case Fs:e=t._payload,t=t._init;try{return g2(t(e))}catch{}}return null}function HX(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return g2(e);case 8:return e===pC?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Sa(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function CW(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function KX(t){var e=CW(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),n=""+t[e];if(!t.hasOwnProperty(e)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var i=r.get,s=r.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(a){n=""+a,s.call(this,a)}}),Object.defineProperty(t,e,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(a){n=""+a},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Xh(t){t._valueTracker||(t._valueTracker=KX(t))}function OW(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var r=e.getValue(),n="";return t&&(n=CW(t)?t.checked?"true":"false":t.value),t=n,t!==r?(e.setValue(t),!0):!1}function Kf(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function y2(t,e){var r=e.checked;return kt({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??t._wrapperState.initialChecked})}function hP(t,e){var r=e.defaultValue==null?"":e.defaultValue,n=e.checked!=null?e.checked:e.defaultChecked;r=Sa(e.value!=null?e.value:r),t._wrapperState={initialChecked:n,initialValue:r,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function TW(t,e){e=e.checked,e!=null&&fC(t,"checked",e,!1)}function b2(t,e){TW(t,e);var r=Sa(e.value),n=e.type;if(r!=null)n==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+r):t.value!==""+r&&(t.value=""+r);else if(n==="submit"||n==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?x2(t,e.type,r):e.hasOwnProperty("defaultValue")&&x2(t,e.type,Sa(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function fP(t,e,r){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var n=e.type;if(!(n!=="submit"&&n!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,r||e===t.value||(t.value=e),t.defaultValue=e}r=t.name,r!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,r!==""&&(t.name=r)}function x2(t,e,r){(e!=="number"||Kf(t.ownerDocument)!==t)&&(r==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+r&&(t.defaultValue=""+r))}var kc=Array.isArray;function Fl(t,e,r,n){if(t=t.options,e){e={};for(var i=0;i<r.length;i++)e["$"+r[i]]=!0;for(r=0;r<t.length;r++)i=e.hasOwnProperty("$"+t[r].value),t[r].selected!==i&&(t[r].selected=i),i&&n&&(t[r].defaultSelected=!0)}else{for(r=""+Sa(r),e=null,i=0;i<t.length;i++){if(t[i].value===r){t[i].selected=!0,n&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function w2(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(ee(91));return kt({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function pP(t,e){var r=e.value;if(r==null){if(r=e.children,e=e.defaultValue,r!=null){if(e!=null)throw Error(ee(92));if(kc(r)){if(1<r.length)throw Error(ee(93));r=r[0]}e=r}e==null&&(e=""),r=e}t._wrapperState={initialValue:Sa(r)}}function PW(t,e){var r=Sa(e.value),n=Sa(e.defaultValue);r!=null&&(r=""+r,r!==t.value&&(t.value=r),e.defaultValue==null&&t.defaultValue!==r&&(t.defaultValue=r)),n!=null&&(t.defaultValue=""+n)}function mP(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function IW(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function _2(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?IW(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Jh,RW=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,r,n,i){MSApp.execUnsafeLocalFunction(function(){return t(e,r,n,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Jh=Jh||document.createElement("div"),Jh.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Jh.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function ad(t,e){if(e){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=e;return}}t.textContent=e}var Lc={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},GX=["Webkit","ms","Moz","O"];Object.keys(Lc).forEach(function(t){GX.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Lc[e]=Lc[t]})});function $W(t,e,r){return e==null||typeof e=="boolean"||e===""?"":r||typeof e!="number"||e===0||Lc.hasOwnProperty(t)&&Lc[t]?(""+e).trim():e+"px"}function kW(t,e){t=t.style;for(var r in e)if(e.hasOwnProperty(r)){var n=r.indexOf("--")===0,i=$W(r,e[r],n);r==="float"&&(r="cssFloat"),n?t.setProperty(r,i):t[r]=i}}var YX=kt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function S2(t,e){if(e){if(YX[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(ee(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(ee(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(ee(61))}if(e.style!=null&&typeof e.style!="object")throw Error(ee(62))}}function E2(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var N2=null;function gC(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var j2=null,Ll=null,Bl=null;function vP(t){if(t=Qd(t)){if(typeof j2!="function")throw Error(ee(280));var e=t.stateNode;e&&(e=Yp(e),j2(t.stateNode,t.type,e))}}function DW(t){Ll?Bl?Bl.push(t):Bl=[t]:Ll=t}function MW(){if(Ll){var t=Ll,e=Bl;if(Bl=Ll=null,vP(t),e)for(t=0;t<e.length;t++)vP(e[t])}}function qW(t,e){return t(e)}function AW(){}var ov=!1;function FW(t,e,r){if(ov)return t(e,r);ov=!0;try{return qW(t,e,r)}finally{ov=!1,(Ll!==null||Bl!==null)&&(AW(),MW())}}function od(t,e){var r=t.stateNode;if(r===null)return null;var n=Yp(r);if(n===null)return null;r=n[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(t=t.type,n=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!n;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(ee(231,e,typeof r));return r}var C2=!1;if(gs)try{var gc={};Object.defineProperty(gc,"passive",{get:function(){C2=!0}}),window.addEventListener("test",gc,gc),window.removeEventListener("test",gc,gc)}catch{C2=!1}function QX(t,e,r,n,i,s,a,o,u){var c=Array.prototype.slice.call(arguments,3);try{e.apply(r,c)}catch(d){this.onError(d)}}var Bc=!1,Gf=null,Yf=!1,O2=null,XX={onError:function(t){Bc=!0,Gf=t}};function JX(t,e,r,n,i,s,a,o,u){Bc=!1,Gf=null,QX.apply(XX,arguments)}function ZX(t,e,r,n,i,s,a,o,u){if(JX.apply(this,arguments),Bc){if(Bc){var c=Gf;Bc=!1,Gf=null}else throw Error(ee(198));Yf||(Yf=!0,O2=c)}}function Wo(t){var e=t,r=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(r=e.return),t=e.return;while(t)}return e.tag===3?r:null}function LW(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function gP(t){if(Wo(t)!==t)throw Error(ee(188))}function eJ(t){var e=t.alternate;if(!e){if(e=Wo(t),e===null)throw Error(ee(188));return e!==t?null:t}for(var r=t,n=e;;){var i=r.return;if(i===null)break;var s=i.alternate;if(s===null){if(n=i.return,n!==null){r=n;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===r)return gP(i),t;if(s===n)return gP(i),e;s=s.sibling}throw Error(ee(188))}if(r.return!==n.return)r=i,n=s;else{for(var a=!1,o=i.child;o;){if(o===r){a=!0,r=i,n=s;break}if(o===n){a=!0,n=i,r=s;break}o=o.sibling}if(!a){for(o=s.child;o;){if(o===r){a=!0,r=s,n=i;break}if(o===n){a=!0,n=s,r=i;break}o=o.sibling}if(!a)throw Error(ee(189))}}if(r.alternate!==n)throw Error(ee(190))}if(r.tag!==3)throw Error(ee(188));return r.stateNode.current===r?t:e}function BW(t){return t=eJ(t),t!==null?zW(t):null}function zW(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=zW(t);if(e!==null)return e;t=t.sibling}return null}var UW=On.unstable_scheduleCallback,yP=On.unstable_cancelCallback,tJ=On.unstable_shouldYield,rJ=On.unstable_requestPaint,Ht=On.unstable_now,nJ=On.unstable_getCurrentPriorityLevel,yC=On.unstable_ImmediatePriority,WW=On.unstable_UserBlockingPriority,Qf=On.unstable_NormalPriority,iJ=On.unstable_LowPriority,VW=On.unstable_IdlePriority,Vp=null,$i=null;function sJ(t){if($i&&typeof $i.onCommitFiberRoot=="function")try{$i.onCommitFiberRoot(Vp,t,void 0,(t.current.flags&128)===128)}catch{}}var hi=Math.clz32?Math.clz32:lJ,aJ=Math.log,oJ=Math.LN2;function lJ(t){return t>>>=0,t===0?32:31-(aJ(t)/oJ|0)|0}var Zh=64,ef=4194304;function Dc(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Xf(t,e){var r=t.pendingLanes;if(r===0)return 0;var n=0,i=t.suspendedLanes,s=t.pingedLanes,a=r&268435455;if(a!==0){var o=a&~i;o!==0?n=Dc(o):(s&=a,s!==0&&(n=Dc(s)))}else a=r&~i,a!==0?n=Dc(a):s!==0&&(n=Dc(s));if(n===0)return 0;if(e!==0&&e!==n&&!(e&i)&&(i=n&-n,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(n&4&&(n|=r&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=n;0<e;)r=31-hi(e),i=1<<r,n|=t[r],e&=~i;return n}function uJ(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function cJ(t,e){for(var r=t.suspendedLanes,n=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var a=31-hi(s),o=1<<a,u=i[a];u===-1?(!(o&r)||o&n)&&(i[a]=uJ(o,e)):u<=e&&(t.expiredLanes|=o),s&=~o}}function T2(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function HW(){var t=Zh;return Zh<<=1,!(Zh&4194240)&&(Zh=64),t}function lv(t){for(var e=[],r=0;31>r;r++)e.push(t);return e}function Gd(t,e,r){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-hi(e),t[e]=r}function dJ(t,e){var r=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var n=t.eventTimes;for(t=t.expirationTimes;0<r;){var i=31-hi(r),s=1<<i;e[i]=0,n[i]=-1,t[i]=-1,r&=~s}}function bC(t,e){var r=t.entangledLanes|=e;for(t=t.entanglements;r;){var n=31-hi(r),i=1<<n;i&e|t[n]&e&&(t[n]|=e),r&=~i}}var dt=0;function KW(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var GW,xC,YW,QW,XW,P2=!1,tf=[],oa=null,la=null,ua=null,ld=new Map,ud=new Map,Ws=[],hJ="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function bP(t,e){switch(t){case"focusin":case"focusout":oa=null;break;case"dragenter":case"dragleave":la=null;break;case"mouseover":case"mouseout":ua=null;break;case"pointerover":case"pointerout":ld.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":ud.delete(e.pointerId)}}function yc(t,e,r,n,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:r,eventSystemFlags:n,nativeEvent:s,targetContainers:[i]},e!==null&&(e=Qd(e),e!==null&&xC(e)),t):(t.eventSystemFlags|=n,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function fJ(t,e,r,n,i){switch(e){case"focusin":return oa=yc(oa,t,e,r,n,i),!0;case"dragenter":return la=yc(la,t,e,r,n,i),!0;case"mouseover":return ua=yc(ua,t,e,r,n,i),!0;case"pointerover":var s=i.pointerId;return ld.set(s,yc(ld.get(s)||null,t,e,r,n,i)),!0;case"gotpointercapture":return s=i.pointerId,ud.set(s,yc(ud.get(s)||null,t,e,r,n,i)),!0}return!1}function JW(t){var e=Ka(t.target);if(e!==null){var r=Wo(e);if(r!==null){if(e=r.tag,e===13){if(e=LW(r),e!==null){t.blockedOn=e,XW(t.priority,function(){YW(r)});return}}else if(e===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Of(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var r=I2(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(r===null){r=t.nativeEvent;var n=new r.constructor(r.type,r);N2=n,r.target.dispatchEvent(n),N2=null}else return e=Qd(r),e!==null&&xC(e),t.blockedOn=r,!1;e.shift()}return!0}function xP(t,e,r){Of(t)&&r.delete(e)}function pJ(){P2=!1,oa!==null&&Of(oa)&&(oa=null),la!==null&&Of(la)&&(la=null),ua!==null&&Of(ua)&&(ua=null),ld.forEach(xP),ud.forEach(xP)}function bc(t,e){t.blockedOn===e&&(t.blockedOn=null,P2||(P2=!0,On.unstable_scheduleCallback(On.unstable_NormalPriority,pJ)))}function cd(t){function e(i){return bc(i,t)}if(0<tf.length){bc(tf[0],t);for(var r=1;r<tf.length;r++){var n=tf[r];n.blockedOn===t&&(n.blockedOn=null)}}for(oa!==null&&bc(oa,t),la!==null&&bc(la,t),ua!==null&&bc(ua,t),ld.forEach(e),ud.forEach(e),r=0;r<Ws.length;r++)n=Ws[r],n.blockedOn===t&&(n.blockedOn=null);for(;0<Ws.length&&(r=Ws[0],r.blockedOn===null);)JW(r),r.blockedOn===null&&Ws.shift()}var zl=Es.ReactCurrentBatchConfig,Jf=!0;function mJ(t,e,r,n){var i=dt,s=zl.transition;zl.transition=null;try{dt=1,wC(t,e,r,n)}finally{dt=i,zl.transition=s}}function vJ(t,e,r,n){var i=dt,s=zl.transition;zl.transition=null;try{dt=4,wC(t,e,r,n)}finally{dt=i,zl.transition=s}}function wC(t,e,r,n){if(Jf){var i=I2(t,e,r,n);if(i===null)yv(t,e,n,Zf,r),bP(t,n);else if(fJ(i,t,e,r,n))n.stopPropagation();else if(bP(t,n),e&4&&-1<hJ.indexOf(t)){for(;i!==null;){var s=Qd(i);if(s!==null&&GW(s),s=I2(t,e,r,n),s===null&&yv(t,e,n,Zf,r),s===i)break;i=s}i!==null&&n.stopPropagation()}else yv(t,e,n,null,r)}}var Zf=null;function I2(t,e,r,n){if(Zf=null,t=gC(n),t=Ka(t),t!==null)if(e=Wo(t),e===null)t=null;else if(r=e.tag,r===13){if(t=LW(e),t!==null)return t;t=null}else if(r===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Zf=t,null}function ZW(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(nJ()){case yC:return 1;case WW:return 4;case Qf:case iJ:return 16;case VW:return 536870912;default:return 16}default:return 16}}var na=null,_C=null,Tf=null;function eV(){if(Tf)return Tf;var t,e=_C,r=e.length,n,i="value"in na?na.value:na.textContent,s=i.length;for(t=0;t<r&&e[t]===i[t];t++);var a=r-t;for(n=1;n<=a&&e[r-n]===i[s-n];n++);return Tf=i.slice(t,1<n?1-n:void 0)}function Pf(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function rf(){return!0}function wP(){return!1}function Pn(t){function e(r,n,i,s,a){this._reactName=r,this._targetInst=i,this.type=n,this.nativeEvent=s,this.target=a,this.currentTarget=null;for(var o in t)t.hasOwnProperty(o)&&(r=t[o],this[o]=r?r(s):s[o]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?rf:wP,this.isPropagationStopped=wP,this}return kt(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=rf)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=rf)},persist:function(){},isPersistent:rf}),e}var ku={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},SC=Pn(ku),Yd=kt({},ku,{view:0,detail:0}),gJ=Pn(Yd),uv,cv,xc,Hp=kt({},Yd,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:EC,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==xc&&(xc&&t.type==="mousemove"?(uv=t.screenX-xc.screenX,cv=t.screenY-xc.screenY):cv=uv=0,xc=t),uv)},movementY:function(t){return"movementY"in t?t.movementY:cv}}),_P=Pn(Hp),yJ=kt({},Hp,{dataTransfer:0}),bJ=Pn(yJ),xJ=kt({},Yd,{relatedTarget:0}),dv=Pn(xJ),wJ=kt({},ku,{animationName:0,elapsedTime:0,pseudoElement:0}),_J=Pn(wJ),SJ=kt({},ku,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),EJ=Pn(SJ),NJ=kt({},ku,{data:0}),SP=Pn(NJ),jJ={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},CJ={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},OJ={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function TJ(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=OJ[t])?!!e[t]:!1}function EC(){return TJ}var PJ=kt({},Yd,{key:function(t){if(t.key){var e=jJ[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Pf(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?CJ[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:EC,charCode:function(t){return t.type==="keypress"?Pf(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Pf(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),IJ=Pn(PJ),RJ=kt({},Hp,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),EP=Pn(RJ),$J=kt({},Yd,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:EC}),kJ=Pn($J),DJ=kt({},ku,{propertyName:0,elapsedTime:0,pseudoElement:0}),MJ=Pn(DJ),qJ=kt({},Hp,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),AJ=Pn(qJ),FJ=[9,13,27,32],NC=gs&&"CompositionEvent"in window,zc=null;gs&&"documentMode"in document&&(zc=document.documentMode);var LJ=gs&&"TextEvent"in window&&!zc,tV=gs&&(!NC||zc&&8<zc&&11>=zc),NP=" ",jP=!1;function rV(t,e){switch(t){case"keyup":return FJ.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function nV(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Sl=!1;function BJ(t,e){switch(t){case"compositionend":return nV(e);case"keypress":return e.which!==32?null:(jP=!0,NP);case"textInput":return t=e.data,t===NP&&jP?null:t;default:return null}}function zJ(t,e){if(Sl)return t==="compositionend"||!NC&&rV(t,e)?(t=eV(),Tf=_C=na=null,Sl=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return tV&&e.locale!=="ko"?null:e.data;default:return null}}var UJ={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function CP(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!UJ[t.type]:e==="textarea"}function iV(t,e,r,n){DW(n),e=ep(e,"onChange"),0<e.length&&(r=new SC("onChange","change",null,r,n),t.push({event:r,listeners:e}))}var Uc=null,dd=null;function WJ(t){mV(t,0)}function Kp(t){var e=jl(t);if(OW(e))return t}function VJ(t,e){if(t==="change")return e}var sV=!1;if(gs){var hv;if(gs){var fv="oninput"in document;if(!fv){var OP=document.createElement("div");OP.setAttribute("oninput","return;"),fv=typeof OP.oninput=="function"}hv=fv}else hv=!1;sV=hv&&(!document.documentMode||9<document.documentMode)}function TP(){Uc&&(Uc.detachEvent("onpropertychange",aV),dd=Uc=null)}function aV(t){if(t.propertyName==="value"&&Kp(dd)){var e=[];iV(e,dd,t,gC(t)),FW(WJ,e)}}function HJ(t,e,r){t==="focusin"?(TP(),Uc=e,dd=r,Uc.attachEvent("onpropertychange",aV)):t==="focusout"&&TP()}function KJ(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Kp(dd)}function GJ(t,e){if(t==="click")return Kp(e)}function YJ(t,e){if(t==="input"||t==="change")return Kp(e)}function QJ(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var pi=typeof Object.is=="function"?Object.is:QJ;function hd(t,e){if(pi(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var i=r[n];if(!f2.call(e,i)||!pi(t[i],e[i]))return!1}return!0}function PP(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function IP(t,e){var r=PP(t);t=0;for(var n;r;){if(r.nodeType===3){if(n=t+r.textContent.length,t<=e&&n>=e)return{node:r,offset:e-t};t=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=PP(r)}}function oV(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?oV(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function lV(){for(var t=window,e=Kf();e instanceof t.HTMLIFrameElement;){try{var r=typeof e.contentWindow.location.href=="string"}catch{r=!1}if(r)t=e.contentWindow;else break;e=Kf(t.document)}return e}function jC(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function XJ(t){var e=lV(),r=t.focusedElem,n=t.selectionRange;if(e!==r&&r&&r.ownerDocument&&oV(r.ownerDocument.documentElement,r)){if(n!==null&&jC(r)){if(e=n.start,t=n.end,t===void 0&&(t=e),"selectionStart"in r)r.selectionStart=e,r.selectionEnd=Math.min(t,r.value.length);else if(t=(e=r.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=r.textContent.length,s=Math.min(n.start,i);n=n.end===void 0?s:Math.min(n.end,i),!t.extend&&s>n&&(i=n,n=s,s=i),i=IP(r,s);var a=IP(r,n);i&&a&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==a.node||t.focusOffset!==a.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>n?(t.addRange(e),t.extend(a.node,a.offset)):(e.setEnd(a.node,a.offset),t.addRange(e)))}}for(e=[],t=r;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<e.length;r++)t=e[r],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var JJ=gs&&"documentMode"in document&&11>=document.documentMode,El=null,R2=null,Wc=null,$2=!1;function RP(t,e,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;$2||El==null||El!==Kf(n)||(n=El,"selectionStart"in n&&jC(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Wc&&hd(Wc,n)||(Wc=n,n=ep(R2,"onSelect"),0<n.length&&(e=new SC("onSelect","select",null,e,r),t.push({event:e,listeners:n}),e.target=El)))}function nf(t,e){var r={};return r[t.toLowerCase()]=e.toLowerCase(),r["Webkit"+t]="webkit"+e,r["Moz"+t]="moz"+e,r}var Nl={animationend:nf("Animation","AnimationEnd"),animationiteration:nf("Animation","AnimationIteration"),animationstart:nf("Animation","AnimationStart"),transitionend:nf("Transition","TransitionEnd")},pv={},uV={};gs&&(uV=document.createElement("div").style,"AnimationEvent"in window||(delete Nl.animationend.animation,delete Nl.animationiteration.animation,delete Nl.animationstart.animation),"TransitionEvent"in window||delete Nl.transitionend.transition);function Gp(t){if(pv[t])return pv[t];if(!Nl[t])return t;var e=Nl[t],r;for(r in e)if(e.hasOwnProperty(r)&&r in uV)return pv[t]=e[r];return t}var cV=Gp("animationend"),dV=Gp("animationiteration"),hV=Gp("animationstart"),fV=Gp("transitionend"),pV=new Map,$P="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ta(t,e){pV.set(t,e),Uo(e,[t])}for(var mv=0;mv<$P.length;mv++){var vv=$P[mv],ZJ=vv.toLowerCase(),eZ=vv[0].toUpperCase()+vv.slice(1);Ta(ZJ,"on"+eZ)}Ta(cV,"onAnimationEnd");Ta(dV,"onAnimationIteration");Ta(hV,"onAnimationStart");Ta("dblclick","onDoubleClick");Ta("focusin","onFocus");Ta("focusout","onBlur");Ta(fV,"onTransitionEnd");du("onMouseEnter",["mouseout","mouseover"]);du("onMouseLeave",["mouseout","mouseover"]);du("onPointerEnter",["pointerout","pointerover"]);du("onPointerLeave",["pointerout","pointerover"]);Uo("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Uo("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Uo("onBeforeInput",["compositionend","keypress","textInput","paste"]);Uo("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Uo("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Uo("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Mc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),tZ=new Set("cancel close invalid load scroll toggle".split(" ").concat(Mc));function kP(t,e,r){var n=t.type||"unknown-event";t.currentTarget=r,ZX(n,e,void 0,t),t.currentTarget=null}function mV(t,e){e=(e&4)!==0;for(var r=0;r<t.length;r++){var n=t[r],i=n.event;n=n.listeners;e:{var s=void 0;if(e)for(var a=n.length-1;0<=a;a--){var o=n[a],u=o.instance,c=o.currentTarget;if(o=o.listener,u!==s&&i.isPropagationStopped())break e;kP(i,o,c),s=u}else for(a=0;a<n.length;a++){if(o=n[a],u=o.instance,c=o.currentTarget,o=o.listener,u!==s&&i.isPropagationStopped())break e;kP(i,o,c),s=u}}}if(Yf)throw t=O2,Yf=!1,O2=null,t}function St(t,e){var r=e[A2];r===void 0&&(r=e[A2]=new Set);var n=t+"__bubble";r.has(n)||(vV(e,t,2,!1),r.add(n))}function gv(t,e,r){var n=0;e&&(n|=4),vV(r,t,n,e)}var sf="_reactListening"+Math.random().toString(36).slice(2);function fd(t){if(!t[sf]){t[sf]=!0,SW.forEach(function(r){r!=="selectionchange"&&(tZ.has(r)||gv(r,!1,t),gv(r,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[sf]||(e[sf]=!0,gv("selectionchange",!1,e))}}function vV(t,e,r,n){switch(ZW(e)){case 1:var i=mJ;break;case 4:i=vJ;break;default:i=wC}r=i.bind(null,e,r,t),i=void 0,!C2||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),n?i!==void 0?t.addEventListener(e,r,{capture:!0,passive:i}):t.addEventListener(e,r,!0):i!==void 0?t.addEventListener(e,r,{passive:i}):t.addEventListener(e,r,!1)}function yv(t,e,r,n,i){var s=n;if(!(e&1)&&!(e&2)&&n!==null)e:for(;;){if(n===null)return;var a=n.tag;if(a===3||a===4){var o=n.stateNode.containerInfo;if(o===i||o.nodeType===8&&o.parentNode===i)break;if(a===4)for(a=n.return;a!==null;){var u=a.tag;if((u===3||u===4)&&(u=a.stateNode.containerInfo,u===i||u.nodeType===8&&u.parentNode===i))return;a=a.return}for(;o!==null;){if(a=Ka(o),a===null)return;if(u=a.tag,u===5||u===6){n=s=a;continue e}o=o.parentNode}}n=n.return}FW(function(){var c=s,d=gC(r),h=[];e:{var f=pV.get(t);if(f!==void 0){var p=SC,v=t;switch(t){case"keypress":if(Pf(r)===0)break e;case"keydown":case"keyup":p=IJ;break;case"focusin":v="focus",p=dv;break;case"focusout":v="blur",p=dv;break;case"beforeblur":case"afterblur":p=dv;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=_P;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=bJ;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=kJ;break;case cV:case dV:case hV:p=_J;break;case fV:p=MJ;break;case"scroll":p=gJ;break;case"wheel":p=AJ;break;case"copy":case"cut":case"paste":p=EJ;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=EP}var y=(e&4)!==0,x=!y&&t==="scroll",g=y?f!==null?f+"Capture":null:f;y=[];for(var m=c,w;m!==null;){w=m;var b=w.stateNode;if(w.tag===5&&b!==null&&(w=b,g!==null&&(b=od(m,g),b!=null&&y.push(pd(m,b,w)))),x)break;m=m.return}0<y.length&&(f=new p(f,v,null,r,d),h.push({event:f,listeners:y}))}}if(!(e&7)){e:{if(f=t==="mouseover"||t==="pointerover",p=t==="mouseout"||t==="pointerout",f&&r!==N2&&(v=r.relatedTarget||r.fromElement)&&(Ka(v)||v[ys]))break e;if((p||f)&&(f=d.window===d?d:(f=d.ownerDocument)?f.defaultView||f.parentWindow:window,p?(v=r.relatedTarget||r.toElement,p=c,v=v?Ka(v):null,v!==null&&(x=Wo(v),v!==x||v.tag!==5&&v.tag!==6)&&(v=null)):(p=null,v=c),p!==v)){if(y=_P,b="onMouseLeave",g="onMouseEnter",m="mouse",(t==="pointerout"||t==="pointerover")&&(y=EP,b="onPointerLeave",g="onPointerEnter",m="pointer"),x=p==null?f:jl(p),w=v==null?f:jl(v),f=new y(b,m+"leave",p,r,d),f.target=x,f.relatedTarget=w,b=null,Ka(d)===c&&(y=new y(g,m+"enter",v,r,d),y.target=w,y.relatedTarget=x,b=y),x=b,p&&v)t:{for(y=p,g=v,m=0,w=y;w;w=pl(w))m++;for(w=0,b=g;b;b=pl(b))w++;for(;0<m-w;)y=pl(y),m--;for(;0<w-m;)g=pl(g),w--;for(;m--;){if(y===g||g!==null&&y===g.alternate)break t;y=pl(y),g=pl(g)}y=null}else y=null;p!==null&&DP(h,f,p,y,!1),v!==null&&x!==null&&DP(h,x,v,y,!0)}}e:{if(f=c?jl(c):window,p=f.nodeName&&f.nodeName.toLowerCase(),p==="select"||p==="input"&&f.type==="file")var _=VJ;else if(CP(f))if(sV)_=YJ;else{_=KJ;var E=HJ}else(p=f.nodeName)&&p.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(_=GJ);if(_&&(_=_(t,c))){iV(h,_,r,d);break e}E&&E(t,f,c),t==="focusout"&&(E=f._wrapperState)&&E.controlled&&f.type==="number"&&x2(f,"number",f.value)}switch(E=c?jl(c):window,t){case"focusin":(CP(E)||E.contentEditable==="true")&&(El=E,R2=c,Wc=null);break;case"focusout":Wc=R2=El=null;break;case"mousedown":$2=!0;break;case"contextmenu":case"mouseup":case"dragend":$2=!1,RP(h,r,d);break;case"selectionchange":if(JJ)break;case"keydown":case"keyup":RP(h,r,d)}var j;if(NC)e:{switch(t){case"compositionstart":var S="onCompositionStart";break e;case"compositionend":S="onCompositionEnd";break e;case"compositionupdate":S="onCompositionUpdate";break e}S=void 0}else Sl?rV(t,r)&&(S="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(S="onCompositionStart");S&&(tV&&r.locale!=="ko"&&(Sl||S!=="onCompositionStart"?S==="onCompositionEnd"&&Sl&&(j=eV()):(na=d,_C="value"in na?na.value:na.textContent,Sl=!0)),E=ep(c,S),0<E.length&&(S=new SP(S,t,null,r,d),h.push({event:S,listeners:E}),j?S.data=j:(j=nV(r),j!==null&&(S.data=j)))),(j=LJ?BJ(t,r):zJ(t,r))&&(c=ep(c,"onBeforeInput"),0<c.length&&(d=new SP("onBeforeInput","beforeinput",null,r,d),h.push({event:d,listeners:c}),d.data=j))}mV(h,e)})}function pd(t,e,r){return{instance:t,listener:e,currentTarget:r}}function ep(t,e){for(var r=e+"Capture",n=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=od(t,r),s!=null&&n.unshift(pd(t,s,i)),s=od(t,e),s!=null&&n.push(pd(t,s,i))),t=t.return}return n}function pl(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function DP(t,e,r,n,i){for(var s=e._reactName,a=[];r!==null&&r!==n;){var o=r,u=o.alternate,c=o.stateNode;if(u!==null&&u===n)break;o.tag===5&&c!==null&&(o=c,i?(u=od(r,s),u!=null&&a.unshift(pd(r,u,o))):i||(u=od(r,s),u!=null&&a.push(pd(r,u,o)))),r=r.return}a.length!==0&&t.push({event:e,listeners:a})}var rZ=/\r\n?/g,nZ=/\u0000|\uFFFD/g;function MP(t){return(typeof t=="string"?t:""+t).replace(rZ,`
`).replace(nZ,"")}function af(t,e,r){if(e=MP(e),MP(t)!==e&&r)throw Error(ee(425))}function tp(){}var k2=null,D2=null;function M2(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var q2=typeof setTimeout=="function"?setTimeout:void 0,iZ=typeof clearTimeout=="function"?clearTimeout:void 0,qP=typeof Promise=="function"?Promise:void 0,sZ=typeof queueMicrotask=="function"?queueMicrotask:typeof qP<"u"?function(t){return qP.resolve(null).then(t).catch(aZ)}:q2;function aZ(t){setTimeout(function(){throw t})}function bv(t,e){var r=e,n=0;do{var i=r.nextSibling;if(t.removeChild(r),i&&i.nodeType===8)if(r=i.data,r==="/$"){if(n===0){t.removeChild(i),cd(e);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=i}while(r);cd(e)}function ca(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function AP(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(e===0)return t;e--}else r==="/$"&&e++}t=t.previousSibling}return null}var Du=Math.random().toString(36).slice(2),Oi="__reactFiber$"+Du,md="__reactProps$"+Du,ys="__reactContainer$"+Du,A2="__reactEvents$"+Du,oZ="__reactListeners$"+Du,lZ="__reactHandles$"+Du;function Ka(t){var e=t[Oi];if(e)return e;for(var r=t.parentNode;r;){if(e=r[ys]||r[Oi]){if(r=e.alternate,e.child!==null||r!==null&&r.child!==null)for(t=AP(t);t!==null;){if(r=t[Oi])return r;t=AP(t)}return e}t=r,r=t.parentNode}return null}function Qd(t){return t=t[Oi]||t[ys],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function jl(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(ee(33))}function Yp(t){return t[md]||null}var F2=[],Cl=-1;function Pa(t){return{current:t}}function Et(t){0>Cl||(t.current=F2[Cl],F2[Cl]=null,Cl--)}function wt(t,e){Cl++,F2[Cl]=t.current,t.current=e}var Ea={},Dr=Pa(Ea),cn=Pa(!1),So=Ea;function hu(t,e){var r=t.type.contextTypes;if(!r)return Ea;var n=t.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===e)return n.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in r)i[s]=e[s];return n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function dn(t){return t=t.childContextTypes,t!=null}function rp(){Et(cn),Et(Dr)}function FP(t,e,r){if(Dr.current!==Ea)throw Error(ee(168));wt(Dr,e),wt(cn,r)}function gV(t,e,r){var n=t.stateNode;if(e=e.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var i in n)if(!(i in e))throw Error(ee(108,HX(t)||"Unknown",i));return kt({},r,n)}function np(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Ea,So=Dr.current,wt(Dr,t),wt(cn,cn.current),!0}function LP(t,e,r){var n=t.stateNode;if(!n)throw Error(ee(169));r?(t=gV(t,e,So),n.__reactInternalMemoizedMergedChildContext=t,Et(cn),Et(Dr),wt(Dr,t)):Et(cn),wt(cn,r)}var Qi=null,Qp=!1,xv=!1;function yV(t){Qi===null?Qi=[t]:Qi.push(t)}function uZ(t){Qp=!0,yV(t)}function Ia(){if(!xv&&Qi!==null){xv=!0;var t=0,e=dt;try{var r=Qi;for(dt=1;t<r.length;t++){var n=r[t];do n=n(!0);while(n!==null)}Qi=null,Qp=!1}catch(i){throw Qi!==null&&(Qi=Qi.slice(t+1)),UW(yC,Ia),i}finally{dt=e,xv=!1}}return null}var Ol=[],Tl=0,ip=null,sp=0,Ln=[],Bn=0,Eo=null,rs=1,ns="";function Wa(t,e){Ol[Tl++]=sp,Ol[Tl++]=ip,ip=t,sp=e}function bV(t,e,r){Ln[Bn++]=rs,Ln[Bn++]=ns,Ln[Bn++]=Eo,Eo=t;var n=rs;t=ns;var i=32-hi(n)-1;n&=~(1<<i),r+=1;var s=32-hi(e)+i;if(30<s){var a=i-i%5;s=(n&(1<<a)-1).toString(32),n>>=a,i-=a,rs=1<<32-hi(e)+i|r<<i|n,ns=s+t}else rs=1<<s|r<<i|n,ns=t}function CC(t){t.return!==null&&(Wa(t,1),bV(t,1,0))}function OC(t){for(;t===ip;)ip=Ol[--Tl],Ol[Tl]=null,sp=Ol[--Tl],Ol[Tl]=null;for(;t===Eo;)Eo=Ln[--Bn],Ln[Bn]=null,ns=Ln[--Bn],Ln[Bn]=null,rs=Ln[--Bn],Ln[Bn]=null}var Cn=null,jn=null,Ct=!1,oi=null;function xV(t,e){var r=Un(5,null,null,0);r.elementType="DELETED",r.stateNode=e,r.return=t,e=t.deletions,e===null?(t.deletions=[r],t.flags|=16):e.push(r)}function BP(t,e){switch(t.tag){case 5:var r=t.type;return e=e.nodeType!==1||r.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Cn=t,jn=ca(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Cn=t,jn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(r=Eo!==null?{id:rs,overflow:ns}:null,t.memoizedState={dehydrated:e,treeContext:r,retryLane:1073741824},r=Un(18,null,null,0),r.stateNode=e,r.return=t,t.child=r,Cn=t,jn=null,!0):!1;default:return!1}}function L2(t){return(t.mode&1)!==0&&(t.flags&128)===0}function B2(t){if(Ct){var e=jn;if(e){var r=e;if(!BP(t,e)){if(L2(t))throw Error(ee(418));e=ca(r.nextSibling);var n=Cn;e&&BP(t,e)?xV(n,r):(t.flags=t.flags&-4097|2,Ct=!1,Cn=t)}}else{if(L2(t))throw Error(ee(418));t.flags=t.flags&-4097|2,Ct=!1,Cn=t}}}function zP(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Cn=t}function of(t){if(t!==Cn)return!1;if(!Ct)return zP(t),Ct=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!M2(t.type,t.memoizedProps)),e&&(e=jn)){if(L2(t))throw wV(),Error(ee(418));for(;e;)xV(t,e),e=ca(e.nextSibling)}if(zP(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(ee(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"){if(e===0){jn=ca(t.nextSibling);break e}e--}else r!=="$"&&r!=="$!"&&r!=="$?"||e++}t=t.nextSibling}jn=null}}else jn=Cn?ca(t.stateNode.nextSibling):null;return!0}function wV(){for(var t=jn;t;)t=ca(t.nextSibling)}function fu(){jn=Cn=null,Ct=!1}function TC(t){oi===null?oi=[t]:oi.push(t)}var cZ=Es.ReactCurrentBatchConfig;function wc(t,e,r){if(t=r.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(ee(309));var n=r.stateNode}if(!n)throw Error(ee(147,t));var i=n,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(a){var o=i.refs;a===null?delete o[s]:o[s]=a},e._stringRef=s,e)}if(typeof t!="string")throw Error(ee(284));if(!r._owner)throw Error(ee(290,t))}return t}function lf(t,e){throw t=Object.prototype.toString.call(e),Error(ee(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function UP(t){var e=t._init;return e(t._payload)}function _V(t){function e(g,m){if(t){var w=g.deletions;w===null?(g.deletions=[m],g.flags|=16):w.push(m)}}function r(g,m){if(!t)return null;for(;m!==null;)e(g,m),m=m.sibling;return null}function n(g,m){for(g=new Map;m!==null;)m.key!==null?g.set(m.key,m):g.set(m.index,m),m=m.sibling;return g}function i(g,m){return g=pa(g,m),g.index=0,g.sibling=null,g}function s(g,m,w){return g.index=w,t?(w=g.alternate,w!==null?(w=w.index,w<m?(g.flags|=2,m):w):(g.flags|=2,m)):(g.flags|=1048576,m)}function a(g){return t&&g.alternate===null&&(g.flags|=2),g}function o(g,m,w,b){return m===null||m.tag!==6?(m=Cv(w,g.mode,b),m.return=g,m):(m=i(m,w),m.return=g,m)}function u(g,m,w,b){var _=w.type;return _===_l?d(g,m,w.props.children,b,w.key):m!==null&&(m.elementType===_||typeof _=="object"&&_!==null&&_.$$typeof===Fs&&UP(_)===m.type)?(b=i(m,w.props),b.ref=wc(g,m,w),b.return=g,b):(b=qf(w.type,w.key,w.props,null,g.mode,b),b.ref=wc(g,m,w),b.return=g,b)}function c(g,m,w,b){return m===null||m.tag!==4||m.stateNode.containerInfo!==w.containerInfo||m.stateNode.implementation!==w.implementation?(m=Ov(w,g.mode,b),m.return=g,m):(m=i(m,w.children||[]),m.return=g,m)}function d(g,m,w,b,_){return m===null||m.tag!==7?(m=po(w,g.mode,b,_),m.return=g,m):(m=i(m,w),m.return=g,m)}function h(g,m,w){if(typeof m=="string"&&m!==""||typeof m=="number")return m=Cv(""+m,g.mode,w),m.return=g,m;if(typeof m=="object"&&m!==null){switch(m.$$typeof){case Qh:return w=qf(m.type,m.key,m.props,null,g.mode,w),w.ref=wc(g,null,m),w.return=g,w;case wl:return m=Ov(m,g.mode,w),m.return=g,m;case Fs:var b=m._init;return h(g,b(m._payload),w)}if(kc(m)||vc(m))return m=po(m,g.mode,w,null),m.return=g,m;lf(g,m)}return null}function f(g,m,w,b){var _=m!==null?m.key:null;if(typeof w=="string"&&w!==""||typeof w=="number")return _!==null?null:o(g,m,""+w,b);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Qh:return w.key===_?u(g,m,w,b):null;case wl:return w.key===_?c(g,m,w,b):null;case Fs:return _=w._init,f(g,m,_(w._payload),b)}if(kc(w)||vc(w))return _!==null?null:d(g,m,w,b,null);lf(g,w)}return null}function p(g,m,w,b,_){if(typeof b=="string"&&b!==""||typeof b=="number")return g=g.get(w)||null,o(m,g,""+b,_);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case Qh:return g=g.get(b.key===null?w:b.key)||null,u(m,g,b,_);case wl:return g=g.get(b.key===null?w:b.key)||null,c(m,g,b,_);case Fs:var E=b._init;return p(g,m,w,E(b._payload),_)}if(kc(b)||vc(b))return g=g.get(w)||null,d(m,g,b,_,null);lf(m,b)}return null}function v(g,m,w,b){for(var _=null,E=null,j=m,S=m=0,C=null;j!==null&&S<w.length;S++){j.index>S?(C=j,j=null):C=j.sibling;var N=f(g,j,w[S],b);if(N===null){j===null&&(j=C);break}t&&j&&N.alternate===null&&e(g,j),m=s(N,m,S),E===null?_=N:E.sibling=N,E=N,j=C}if(S===w.length)return r(g,j),Ct&&Wa(g,S),_;if(j===null){for(;S<w.length;S++)j=h(g,w[S],b),j!==null&&(m=s(j,m,S),E===null?_=j:E.sibling=j,E=j);return Ct&&Wa(g,S),_}for(j=n(g,j);S<w.length;S++)C=p(j,g,S,w[S],b),C!==null&&(t&&C.alternate!==null&&j.delete(C.key===null?S:C.key),m=s(C,m,S),E===null?_=C:E.sibling=C,E=C);return t&&j.forEach(function(O){return e(g,O)}),Ct&&Wa(g,S),_}function y(g,m,w,b){var _=vc(w);if(typeof _!="function")throw Error(ee(150));if(w=_.call(w),w==null)throw Error(ee(151));for(var E=_=null,j=m,S=m=0,C=null,N=w.next();j!==null&&!N.done;S++,N=w.next()){j.index>S?(C=j,j=null):C=j.sibling;var O=f(g,j,N.value,b);if(O===null){j===null&&(j=C);break}t&&j&&O.alternate===null&&e(g,j),m=s(O,m,S),E===null?_=O:E.sibling=O,E=O,j=C}if(N.done)return r(g,j),Ct&&Wa(g,S),_;if(j===null){for(;!N.done;S++,N=w.next())N=h(g,N.value,b),N!==null&&(m=s(N,m,S),E===null?_=N:E.sibling=N,E=N);return Ct&&Wa(g,S),_}for(j=n(g,j);!N.done;S++,N=w.next())N=p(j,g,S,N.value,b),N!==null&&(t&&N.alternate!==null&&j.delete(N.key===null?S:N.key),m=s(N,m,S),E===null?_=N:E.sibling=N,E=N);return t&&j.forEach(function(P){return e(g,P)}),Ct&&Wa(g,S),_}function x(g,m,w,b){if(typeof w=="object"&&w!==null&&w.type===_l&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case Qh:e:{for(var _=w.key,E=m;E!==null;){if(E.key===_){if(_=w.type,_===_l){if(E.tag===7){r(g,E.sibling),m=i(E,w.props.children),m.return=g,g=m;break e}}else if(E.elementType===_||typeof _=="object"&&_!==null&&_.$$typeof===Fs&&UP(_)===E.type){r(g,E.sibling),m=i(E,w.props),m.ref=wc(g,E,w),m.return=g,g=m;break e}r(g,E);break}else e(g,E);E=E.sibling}w.type===_l?(m=po(w.props.children,g.mode,b,w.key),m.return=g,g=m):(b=qf(w.type,w.key,w.props,null,g.mode,b),b.ref=wc(g,m,w),b.return=g,g=b)}return a(g);case wl:e:{for(E=w.key;m!==null;){if(m.key===E)if(m.tag===4&&m.stateNode.containerInfo===w.containerInfo&&m.stateNode.implementation===w.implementation){r(g,m.sibling),m=i(m,w.children||[]),m.return=g,g=m;break e}else{r(g,m);break}else e(g,m);m=m.sibling}m=Ov(w,g.mode,b),m.return=g,g=m}return a(g);case Fs:return E=w._init,x(g,m,E(w._payload),b)}if(kc(w))return v(g,m,w,b);if(vc(w))return y(g,m,w,b);lf(g,w)}return typeof w=="string"&&w!==""||typeof w=="number"?(w=""+w,m!==null&&m.tag===6?(r(g,m.sibling),m=i(m,w),m.return=g,g=m):(r(g,m),m=Cv(w,g.mode,b),m.return=g,g=m),a(g)):r(g,m)}return x}var pu=_V(!0),SV=_V(!1),ap=Pa(null),op=null,Pl=null,PC=null;function IC(){PC=Pl=op=null}function RC(t){var e=ap.current;Et(ap),t._currentValue=e}function z2(t,e,r){for(;t!==null;){var n=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,n!==null&&(n.childLanes|=e)):n!==null&&(n.childLanes&e)!==e&&(n.childLanes|=e),t===r)break;t=t.return}}function Ul(t,e){op=t,PC=Pl=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(ln=!0),t.firstContext=null)}function Kn(t){var e=t._currentValue;if(PC!==t)if(t={context:t,memoizedValue:e,next:null},Pl===null){if(op===null)throw Error(ee(308));Pl=t,op.dependencies={lanes:0,firstContext:t}}else Pl=Pl.next=t;return e}var Ga=null;function $C(t){Ga===null?Ga=[t]:Ga.push(t)}function EV(t,e,r,n){var i=e.interleaved;return i===null?(r.next=r,$C(e)):(r.next=i.next,i.next=r),e.interleaved=r,bs(t,n)}function bs(t,e){t.lanes|=e;var r=t.alternate;for(r!==null&&(r.lanes|=e),r=t,t=t.return;t!==null;)t.childLanes|=e,r=t.alternate,r!==null&&(r.childLanes|=e),r=t,t=t.return;return r.tag===3?r.stateNode:null}var Ls=!1;function kC(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function NV(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function as(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function da(t,e,r){var n=t.updateQueue;if(n===null)return null;if(n=n.shared,tt&2){var i=n.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),n.pending=e,bs(t,r)}return i=n.interleaved,i===null?(e.next=e,$C(n)):(e.next=i.next,i.next=e),n.interleaved=e,bs(t,r)}function If(t,e,r){if(e=e.updateQueue,e!==null&&(e=e.shared,(r&4194240)!==0)){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,bC(t,r)}}function WP(t,e){var r=t.updateQueue,n=t.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var i=null,s=null;if(r=r.firstBaseUpdate,r!==null){do{var a={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};s===null?i=s=a:s=s.next=a,r=r.next}while(r!==null);s===null?i=s=e:s=s.next=e}else i=s=e;r={baseState:n.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:n.shared,effects:n.effects},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=e:t.next=e,r.lastBaseUpdate=e}function lp(t,e,r,n){var i=t.updateQueue;Ls=!1;var s=i.firstBaseUpdate,a=i.lastBaseUpdate,o=i.shared.pending;if(o!==null){i.shared.pending=null;var u=o,c=u.next;u.next=null,a===null?s=c:a.next=c,a=u;var d=t.alternate;d!==null&&(d=d.updateQueue,o=d.lastBaseUpdate,o!==a&&(o===null?d.firstBaseUpdate=c:o.next=c,d.lastBaseUpdate=u))}if(s!==null){var h=i.baseState;a=0,d=c=u=null,o=s;do{var f=o.lane,p=o.eventTime;if((n&f)===f){d!==null&&(d=d.next={eventTime:p,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var v=t,y=o;switch(f=e,p=r,y.tag){case 1:if(v=y.payload,typeof v=="function"){h=v.call(p,h,f);break e}h=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=y.payload,f=typeof v=="function"?v.call(p,h,f):v,f==null)break e;h=kt({},h,f);break e;case 2:Ls=!0}}o.callback!==null&&o.lane!==0&&(t.flags|=64,f=i.effects,f===null?i.effects=[o]:f.push(o))}else p={eventTime:p,lane:f,tag:o.tag,payload:o.payload,callback:o.callback,next:null},d===null?(c=d=p,u=h):d=d.next=p,a|=f;if(o=o.next,o===null){if(o=i.shared.pending,o===null)break;f=o,o=f.next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}while(!0);if(d===null&&(u=h),i.baseState=u,i.firstBaseUpdate=c,i.lastBaseUpdate=d,e=i.shared.interleaved,e!==null){i=e;do a|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);jo|=a,t.lanes=a,t.memoizedState=h}}function VP(t,e,r){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var n=t[e],i=n.callback;if(i!==null){if(n.callback=null,n=r,typeof i!="function")throw Error(ee(191,i));i.call(n)}}}var Xd={},ki=Pa(Xd),vd=Pa(Xd),gd=Pa(Xd);function Ya(t){if(t===Xd)throw Error(ee(174));return t}function DC(t,e){switch(wt(gd,e),wt(vd,t),wt(ki,Xd),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:_2(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=_2(e,t)}Et(ki),wt(ki,e)}function mu(){Et(ki),Et(vd),Et(gd)}function jV(t){Ya(gd.current);var e=Ya(ki.current),r=_2(e,t.type);e!==r&&(wt(vd,t),wt(ki,r))}function MC(t){vd.current===t&&(Et(ki),Et(vd))}var It=Pa(0);function up(t){for(var e=t;e!==null;){if(e.tag===13){var r=e.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var wv=[];function qC(){for(var t=0;t<wv.length;t++)wv[t]._workInProgressVersionPrimary=null;wv.length=0}var Rf=Es.ReactCurrentDispatcher,_v=Es.ReactCurrentBatchConfig,No=0,Rt=null,or=null,pr=null,cp=!1,Vc=!1,yd=0,dZ=0;function Pr(){throw Error(ee(321))}function AC(t,e){if(e===null)return!1;for(var r=0;r<e.length&&r<t.length;r++)if(!pi(t[r],e[r]))return!1;return!0}function FC(t,e,r,n,i,s){if(No=s,Rt=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Rf.current=t===null||t.memoizedState===null?mZ:vZ,t=r(n,i),Vc){s=0;do{if(Vc=!1,yd=0,25<=s)throw Error(ee(301));s+=1,pr=or=null,e.updateQueue=null,Rf.current=gZ,t=r(n,i)}while(Vc)}if(Rf.current=dp,e=or!==null&&or.next!==null,No=0,pr=or=Rt=null,cp=!1,e)throw Error(ee(300));return t}function LC(){var t=yd!==0;return yd=0,t}function Si(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return pr===null?Rt.memoizedState=pr=t:pr=pr.next=t,pr}function Gn(){if(or===null){var t=Rt.alternate;t=t!==null?t.memoizedState:null}else t=or.next;var e=pr===null?Rt.memoizedState:pr.next;if(e!==null)pr=e,or=t;else{if(t===null)throw Error(ee(310));or=t,t={memoizedState:or.memoizedState,baseState:or.baseState,baseQueue:or.baseQueue,queue:or.queue,next:null},pr===null?Rt.memoizedState=pr=t:pr=pr.next=t}return pr}function bd(t,e){return typeof e=="function"?e(t):e}function Sv(t){var e=Gn(),r=e.queue;if(r===null)throw Error(ee(311));r.lastRenderedReducer=t;var n=or,i=n.baseQueue,s=r.pending;if(s!==null){if(i!==null){var a=i.next;i.next=s.next,s.next=a}n.baseQueue=i=s,r.pending=null}if(i!==null){s=i.next,n=n.baseState;var o=a=null,u=null,c=s;do{var d=c.lane;if((No&d)===d)u!==null&&(u=u.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),n=c.hasEagerState?c.eagerState:t(n,c.action);else{var h={lane:d,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};u===null?(o=u=h,a=n):u=u.next=h,Rt.lanes|=d,jo|=d}c=c.next}while(c!==null&&c!==s);u===null?a=n:u.next=o,pi(n,e.memoizedState)||(ln=!0),e.memoizedState=n,e.baseState=a,e.baseQueue=u,r.lastRenderedState=n}if(t=r.interleaved,t!==null){i=t;do s=i.lane,Rt.lanes|=s,jo|=s,i=i.next;while(i!==t)}else i===null&&(r.lanes=0);return[e.memoizedState,r.dispatch]}function Ev(t){var e=Gn(),r=e.queue;if(r===null)throw Error(ee(311));r.lastRenderedReducer=t;var n=r.dispatch,i=r.pending,s=e.memoizedState;if(i!==null){r.pending=null;var a=i=i.next;do s=t(s,a.action),a=a.next;while(a!==i);pi(s,e.memoizedState)||(ln=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),r.lastRenderedState=s}return[s,n]}function CV(){}function OV(t,e){var r=Rt,n=Gn(),i=e(),s=!pi(n.memoizedState,i);if(s&&(n.memoizedState=i,ln=!0),n=n.queue,BC(IV.bind(null,r,n,t),[t]),n.getSnapshot!==e||s||pr!==null&&pr.memoizedState.tag&1){if(r.flags|=2048,xd(9,PV.bind(null,r,n,i,e),void 0,null),mr===null)throw Error(ee(349));No&30||TV(r,e,i)}return i}function TV(t,e,r){t.flags|=16384,t={getSnapshot:e,value:r},e=Rt.updateQueue,e===null?(e={lastEffect:null,stores:null},Rt.updateQueue=e,e.stores=[t]):(r=e.stores,r===null?e.stores=[t]:r.push(t))}function PV(t,e,r,n){e.value=r,e.getSnapshot=n,RV(e)&&$V(t)}function IV(t,e,r){return r(function(){RV(e)&&$V(t)})}function RV(t){var e=t.getSnapshot;t=t.value;try{var r=e();return!pi(t,r)}catch{return!0}}function $V(t){var e=bs(t,1);e!==null&&fi(e,t,1,-1)}function HP(t){var e=Si();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:bd,lastRenderedState:t},e.queue=t,t=t.dispatch=pZ.bind(null,Rt,t),[e.memoizedState,t]}function xd(t,e,r,n){return t={tag:t,create:e,destroy:r,deps:n,next:null},e=Rt.updateQueue,e===null?(e={lastEffect:null,stores:null},Rt.updateQueue=e,e.lastEffect=t.next=t):(r=e.lastEffect,r===null?e.lastEffect=t.next=t:(n=r.next,r.next=t,t.next=n,e.lastEffect=t)),t}function kV(){return Gn().memoizedState}function $f(t,e,r,n){var i=Si();Rt.flags|=t,i.memoizedState=xd(1|e,r,void 0,n===void 0?null:n)}function Xp(t,e,r,n){var i=Gn();n=n===void 0?null:n;var s=void 0;if(or!==null){var a=or.memoizedState;if(s=a.destroy,n!==null&&AC(n,a.deps)){i.memoizedState=xd(e,r,s,n);return}}Rt.flags|=t,i.memoizedState=xd(1|e,r,s,n)}function KP(t,e){return $f(8390656,8,t,e)}function BC(t,e){return Xp(2048,8,t,e)}function DV(t,e){return Xp(4,2,t,e)}function MV(t,e){return Xp(4,4,t,e)}function qV(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function AV(t,e,r){return r=r!=null?r.concat([t]):null,Xp(4,4,qV.bind(null,e,t),r)}function zC(){}function FV(t,e){var r=Gn();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&AC(e,n[1])?n[0]:(r.memoizedState=[t,e],t)}function LV(t,e){var r=Gn();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&AC(e,n[1])?n[0]:(t=t(),r.memoizedState=[t,e],t)}function BV(t,e,r){return No&21?(pi(r,e)||(r=HW(),Rt.lanes|=r,jo|=r,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,ln=!0),t.memoizedState=r)}function hZ(t,e){var r=dt;dt=r!==0&&4>r?r:4,t(!0);var n=_v.transition;_v.transition={};try{t(!1),e()}finally{dt=r,_v.transition=n}}function zV(){return Gn().memoizedState}function fZ(t,e,r){var n=fa(t);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},UV(t))WV(e,r);else if(r=EV(t,e,r,n),r!==null){var i=Hr();fi(r,t,n,i),VV(r,e,n)}}function pZ(t,e,r){var n=fa(t),i={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(UV(t))WV(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var a=e.lastRenderedState,o=s(a,r);if(i.hasEagerState=!0,i.eagerState=o,pi(o,a)){var u=e.interleaved;u===null?(i.next=i,$C(e)):(i.next=u.next,u.next=i),e.interleaved=i;return}}catch{}finally{}r=EV(t,e,i,n),r!==null&&(i=Hr(),fi(r,t,n,i),VV(r,e,n))}}function UV(t){var e=t.alternate;return t===Rt||e!==null&&e===Rt}function WV(t,e){Vc=cp=!0;var r=t.pending;r===null?e.next=e:(e.next=r.next,r.next=e),t.pending=e}function VV(t,e,r){if(r&4194240){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,bC(t,r)}}var dp={readContext:Kn,useCallback:Pr,useContext:Pr,useEffect:Pr,useImperativeHandle:Pr,useInsertionEffect:Pr,useLayoutEffect:Pr,useMemo:Pr,useReducer:Pr,useRef:Pr,useState:Pr,useDebugValue:Pr,useDeferredValue:Pr,useTransition:Pr,useMutableSource:Pr,useSyncExternalStore:Pr,useId:Pr,unstable_isNewReconciler:!1},mZ={readContext:Kn,useCallback:function(t,e){return Si().memoizedState=[t,e===void 0?null:e],t},useContext:Kn,useEffect:KP,useImperativeHandle:function(t,e,r){return r=r!=null?r.concat([t]):null,$f(4194308,4,qV.bind(null,e,t),r)},useLayoutEffect:function(t,e){return $f(4194308,4,t,e)},useInsertionEffect:function(t,e){return $f(4,2,t,e)},useMemo:function(t,e){var r=Si();return e=e===void 0?null:e,t=t(),r.memoizedState=[t,e],t},useReducer:function(t,e,r){var n=Si();return e=r!==void 0?r(e):e,n.memoizedState=n.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},n.queue=t,t=t.dispatch=fZ.bind(null,Rt,t),[n.memoizedState,t]},useRef:function(t){var e=Si();return t={current:t},e.memoizedState=t},useState:HP,useDebugValue:zC,useDeferredValue:function(t){return Si().memoizedState=t},useTransition:function(){var t=HP(!1),e=t[0];return t=hZ.bind(null,t[1]),Si().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,r){var n=Rt,i=Si();if(Ct){if(r===void 0)throw Error(ee(407));r=r()}else{if(r=e(),mr===null)throw Error(ee(349));No&30||TV(n,e,r)}i.memoizedState=r;var s={value:r,getSnapshot:e};return i.queue=s,KP(IV.bind(null,n,s,t),[t]),n.flags|=2048,xd(9,PV.bind(null,n,s,r,e),void 0,null),r},useId:function(){var t=Si(),e=mr.identifierPrefix;if(Ct){var r=ns,n=rs;r=(n&~(1<<32-hi(n)-1)).toString(32)+r,e=":"+e+"R"+r,r=yd++,0<r&&(e+="H"+r.toString(32)),e+=":"}else r=dZ++,e=":"+e+"r"+r.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},vZ={readContext:Kn,useCallback:FV,useContext:Kn,useEffect:BC,useImperativeHandle:AV,useInsertionEffect:DV,useLayoutEffect:MV,useMemo:LV,useReducer:Sv,useRef:kV,useState:function(){return Sv(bd)},useDebugValue:zC,useDeferredValue:function(t){var e=Gn();return BV(e,or.memoizedState,t)},useTransition:function(){var t=Sv(bd)[0],e=Gn().memoizedState;return[t,e]},useMutableSource:CV,useSyncExternalStore:OV,useId:zV,unstable_isNewReconciler:!1},gZ={readContext:Kn,useCallback:FV,useContext:Kn,useEffect:BC,useImperativeHandle:AV,useInsertionEffect:DV,useLayoutEffect:MV,useMemo:LV,useReducer:Ev,useRef:kV,useState:function(){return Ev(bd)},useDebugValue:zC,useDeferredValue:function(t){var e=Gn();return or===null?e.memoizedState=t:BV(e,or.memoizedState,t)},useTransition:function(){var t=Ev(bd)[0],e=Gn().memoizedState;return[t,e]},useMutableSource:CV,useSyncExternalStore:OV,useId:zV,unstable_isNewReconciler:!1};function ni(t,e){if(t&&t.defaultProps){e=kt({},e),t=t.defaultProps;for(var r in t)e[r]===void 0&&(e[r]=t[r]);return e}return e}function U2(t,e,r,n){e=t.memoizedState,r=r(n,e),r=r==null?e:kt({},e,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var Jp={isMounted:function(t){return(t=t._reactInternals)?Wo(t)===t:!1},enqueueSetState:function(t,e,r){t=t._reactInternals;var n=Hr(),i=fa(t),s=as(n,i);s.payload=e,r!=null&&(s.callback=r),e=da(t,s,i),e!==null&&(fi(e,t,i,n),If(e,t,i))},enqueueReplaceState:function(t,e,r){t=t._reactInternals;var n=Hr(),i=fa(t),s=as(n,i);s.tag=1,s.payload=e,r!=null&&(s.callback=r),e=da(t,s,i),e!==null&&(fi(e,t,i,n),If(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var r=Hr(),n=fa(t),i=as(r,n);i.tag=2,e!=null&&(i.callback=e),e=da(t,i,n),e!==null&&(fi(e,t,n,r),If(e,t,n))}};function GP(t,e,r,n,i,s,a){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(n,s,a):e.prototype&&e.prototype.isPureReactComponent?!hd(r,n)||!hd(i,s):!0}function HV(t,e,r){var n=!1,i=Ea,s=e.contextType;return typeof s=="object"&&s!==null?s=Kn(s):(i=dn(e)?So:Dr.current,n=e.contextTypes,s=(n=n!=null)?hu(t,i):Ea),e=new e(r,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Jp,t.stateNode=e,e._reactInternals=t,n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function YP(t,e,r,n){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(r,n),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(r,n),e.state!==t&&Jp.enqueueReplaceState(e,e.state,null)}function W2(t,e,r,n){var i=t.stateNode;i.props=r,i.state=t.memoizedState,i.refs={},kC(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=Kn(s):(s=dn(e)?So:Dr.current,i.context=hu(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(U2(t,e,s,r),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Jp.enqueueReplaceState(i,i.state,null),lp(t,r,i,n),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function vu(t,e){try{var r="",n=e;do r+=VX(n),n=n.return;while(n);var i=r}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function Nv(t,e,r){return{value:t,source:null,stack:r??null,digest:e??null}}function V2(t,e){try{console.error(e.value)}catch(r){setTimeout(function(){throw r})}}var yZ=typeof WeakMap=="function"?WeakMap:Map;function KV(t,e,r){r=as(-1,r),r.tag=3,r.payload={element:null};var n=e.value;return r.callback=function(){fp||(fp=!0,tj=n),V2(t,e)},r}function GV(t,e,r){r=as(-1,r),r.tag=3;var n=t.type.getDerivedStateFromError;if(typeof n=="function"){var i=e.value;r.payload=function(){return n(i)},r.callback=function(){V2(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(r.callback=function(){V2(t,e),typeof n!="function"&&(ha===null?ha=new Set([this]):ha.add(this));var a=e.stack;this.componentDidCatch(e.value,{componentStack:a!==null?a:""})}),r}function QP(t,e,r){var n=t.pingCache;if(n===null){n=t.pingCache=new yZ;var i=new Set;n.set(e,i)}else i=n.get(e),i===void 0&&(i=new Set,n.set(e,i));i.has(r)||(i.add(r),t=RZ.bind(null,t,e,r),e.then(t,t))}function XP(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function JP(t,e,r,n,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(e=as(-1,1),e.tag=2,da(r,e,1))),r.lanes|=1),t)}var bZ=Es.ReactCurrentOwner,ln=!1;function Br(t,e,r,n){e.child=t===null?SV(e,null,r,n):pu(e,t.child,r,n)}function ZP(t,e,r,n,i){r=r.render;var s=e.ref;return Ul(e,i),n=FC(t,e,r,n,s,i),r=LC(),t!==null&&!ln?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,xs(t,e,i)):(Ct&&r&&CC(e),e.flags|=1,Br(t,e,n,i),e.child)}function eI(t,e,r,n,i){if(t===null){var s=r.type;return typeof s=="function"&&!QC(s)&&s.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(e.tag=15,e.type=s,YV(t,e,s,n,i)):(t=qf(r.type,null,n,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var a=s.memoizedProps;if(r=r.compare,r=r!==null?r:hd,r(a,n)&&t.ref===e.ref)return xs(t,e,i)}return e.flags|=1,t=pa(s,n),t.ref=e.ref,t.return=e,e.child=t}function YV(t,e,r,n,i){if(t!==null){var s=t.memoizedProps;if(hd(s,n)&&t.ref===e.ref)if(ln=!1,e.pendingProps=n=s,(t.lanes&i)!==0)t.flags&131072&&(ln=!0);else return e.lanes=t.lanes,xs(t,e,i)}return H2(t,e,r,n,i)}function QV(t,e,r){var n=e.pendingProps,i=n.children,s=t!==null?t.memoizedState:null;if(n.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},wt(Rl,_n),_n|=r;else{if(!(r&1073741824))return t=s!==null?s.baseLanes|r:r,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,wt(Rl,_n),_n|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=s!==null?s.baseLanes:r,wt(Rl,_n),_n|=n}else s!==null?(n=s.baseLanes|r,e.memoizedState=null):n=r,wt(Rl,_n),_n|=n;return Br(t,e,i,r),e.child}function XV(t,e){var r=e.ref;(t===null&&r!==null||t!==null&&t.ref!==r)&&(e.flags|=512,e.flags|=2097152)}function H2(t,e,r,n,i){var s=dn(r)?So:Dr.current;return s=hu(e,s),Ul(e,i),r=FC(t,e,r,n,s,i),n=LC(),t!==null&&!ln?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,xs(t,e,i)):(Ct&&n&&CC(e),e.flags|=1,Br(t,e,r,i),e.child)}function tI(t,e,r,n,i){if(dn(r)){var s=!0;np(e)}else s=!1;if(Ul(e,i),e.stateNode===null)kf(t,e),HV(e,r,n),W2(e,r,n,i),n=!0;else if(t===null){var a=e.stateNode,o=e.memoizedProps;a.props=o;var u=a.context,c=r.contextType;typeof c=="object"&&c!==null?c=Kn(c):(c=dn(r)?So:Dr.current,c=hu(e,c));var d=r.getDerivedStateFromProps,h=typeof d=="function"||typeof a.getSnapshotBeforeUpdate=="function";h||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o!==n||u!==c)&&YP(e,a,n,c),Ls=!1;var f=e.memoizedState;a.state=f,lp(e,n,a,i),u=e.memoizedState,o!==n||f!==u||cn.current||Ls?(typeof d=="function"&&(U2(e,r,d,n),u=e.memoizedState),(o=Ls||GP(e,r,o,n,f,u,c))?(h||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(e.flags|=4194308)):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=n,e.memoizedState=u),a.props=n,a.state=u,a.context=c,n=o):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),n=!1)}else{a=e.stateNode,NV(t,e),o=e.memoizedProps,c=e.type===e.elementType?o:ni(e.type,o),a.props=c,h=e.pendingProps,f=a.context,u=r.contextType,typeof u=="object"&&u!==null?u=Kn(u):(u=dn(r)?So:Dr.current,u=hu(e,u));var p=r.getDerivedStateFromProps;(d=typeof p=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o!==h||f!==u)&&YP(e,a,n,u),Ls=!1,f=e.memoizedState,a.state=f,lp(e,n,a,i);var v=e.memoizedState;o!==h||f!==v||cn.current||Ls?(typeof p=="function"&&(U2(e,r,p,n),v=e.memoizedState),(c=Ls||GP(e,r,c,n,f,v,u)||!1)?(d||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(n,v,u),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(n,v,u)),typeof a.componentDidUpdate=="function"&&(e.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof a.componentDidUpdate!="function"||o===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||o===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=n,e.memoizedState=v),a.props=n,a.state=v,a.context=u,n=c):(typeof a.componentDidUpdate!="function"||o===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||o===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),n=!1)}return K2(t,e,r,n,s,i)}function K2(t,e,r,n,i,s){XV(t,e);var a=(e.flags&128)!==0;if(!n&&!a)return i&&LP(e,r,!1),xs(t,e,s);n=e.stateNode,bZ.current=e;var o=a&&typeof r.getDerivedStateFromError!="function"?null:n.render();return e.flags|=1,t!==null&&a?(e.child=pu(e,t.child,null,s),e.child=pu(e,null,o,s)):Br(t,e,o,s),e.memoizedState=n.state,i&&LP(e,r,!0),e.child}function JV(t){var e=t.stateNode;e.pendingContext?FP(t,e.pendingContext,e.pendingContext!==e.context):e.context&&FP(t,e.context,!1),DC(t,e.containerInfo)}function rI(t,e,r,n,i){return fu(),TC(i),e.flags|=256,Br(t,e,r,n),e.child}var G2={dehydrated:null,treeContext:null,retryLane:0};function Y2(t){return{baseLanes:t,cachePool:null,transitions:null}}function ZV(t,e,r){var n=e.pendingProps,i=It.current,s=!1,a=(e.flags&128)!==0,o;if((o=a)||(o=t!==null&&t.memoizedState===null?!1:(i&2)!==0),o?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),wt(It,i&1),t===null)return B2(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(a=n.children,t=n.fallback,s?(n=e.mode,s=e.child,a={mode:"hidden",children:a},!(n&1)&&s!==null?(s.childLanes=0,s.pendingProps=a):s=tm(a,n,0,null),t=po(t,n,r,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=Y2(r),e.memoizedState=G2,t):UC(e,a));if(i=t.memoizedState,i!==null&&(o=i.dehydrated,o!==null))return xZ(t,e,a,n,o,i,r);if(s){s=n.fallback,a=e.mode,i=t.child,o=i.sibling;var u={mode:"hidden",children:n.children};return!(a&1)&&e.child!==i?(n=e.child,n.childLanes=0,n.pendingProps=u,e.deletions=null):(n=pa(i,u),n.subtreeFlags=i.subtreeFlags&14680064),o!==null?s=pa(o,s):(s=po(s,a,r,null),s.flags|=2),s.return=e,n.return=e,n.sibling=s,e.child=n,n=s,s=e.child,a=t.child.memoizedState,a=a===null?Y2(r):{baseLanes:a.baseLanes|r,cachePool:null,transitions:a.transitions},s.memoizedState=a,s.childLanes=t.childLanes&~r,e.memoizedState=G2,n}return s=t.child,t=s.sibling,n=pa(s,{mode:"visible",children:n.children}),!(e.mode&1)&&(n.lanes=r),n.return=e,n.sibling=null,t!==null&&(r=e.deletions,r===null?(e.deletions=[t],e.flags|=16):r.push(t)),e.child=n,e.memoizedState=null,n}function UC(t,e){return e=tm({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function uf(t,e,r,n){return n!==null&&TC(n),pu(e,t.child,null,r),t=UC(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function xZ(t,e,r,n,i,s,a){if(r)return e.flags&256?(e.flags&=-257,n=Nv(Error(ee(422))),uf(t,e,a,n)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=n.fallback,i=e.mode,n=tm({mode:"visible",children:n.children},i,0,null),s=po(s,i,a,null),s.flags|=2,n.return=e,s.return=e,n.sibling=s,e.child=n,e.mode&1&&pu(e,t.child,null,a),e.child.memoizedState=Y2(a),e.memoizedState=G2,s);if(!(e.mode&1))return uf(t,e,a,null);if(i.data==="$!"){if(n=i.nextSibling&&i.nextSibling.dataset,n)var o=n.dgst;return n=o,s=Error(ee(419)),n=Nv(s,n,void 0),uf(t,e,a,n)}if(o=(a&t.childLanes)!==0,ln||o){if(n=mr,n!==null){switch(a&-a){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(n.suspendedLanes|a)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,bs(t,i),fi(n,t,i,-1))}return YC(),n=Nv(Error(ee(421))),uf(t,e,a,n)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=$Z.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,jn=ca(i.nextSibling),Cn=e,Ct=!0,oi=null,t!==null&&(Ln[Bn++]=rs,Ln[Bn++]=ns,Ln[Bn++]=Eo,rs=t.id,ns=t.overflow,Eo=e),e=UC(e,n.children),e.flags|=4096,e)}function nI(t,e,r){t.lanes|=e;var n=t.alternate;n!==null&&(n.lanes|=e),z2(t.return,e,r)}function jv(t,e,r,n,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=n,s.tail=r,s.tailMode=i)}function eH(t,e,r){var n=e.pendingProps,i=n.revealOrder,s=n.tail;if(Br(t,e,n.children,r),n=It.current,n&2)n=n&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&nI(t,r,e);else if(t.tag===19)nI(t,r,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}n&=1}if(wt(It,n),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(r=e.child,i=null;r!==null;)t=r.alternate,t!==null&&up(t)===null&&(i=r),r=r.sibling;r=i,r===null?(i=e.child,e.child=null):(i=r.sibling,r.sibling=null),jv(e,!1,i,r,s);break;case"backwards":for(r=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&up(t)===null){e.child=i;break}t=i.sibling,i.sibling=r,r=i,i=t}jv(e,!0,r,null,s);break;case"together":jv(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function kf(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function xs(t,e,r){if(t!==null&&(e.dependencies=t.dependencies),jo|=e.lanes,!(r&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(ee(153));if(e.child!==null){for(t=e.child,r=pa(t,t.pendingProps),e.child=r,r.return=e;t.sibling!==null;)t=t.sibling,r=r.sibling=pa(t,t.pendingProps),r.return=e;r.sibling=null}return e.child}function wZ(t,e,r){switch(e.tag){case 3:JV(e),fu();break;case 5:jV(e);break;case 1:dn(e.type)&&np(e);break;case 4:DC(e,e.stateNode.containerInfo);break;case 10:var n=e.type._context,i=e.memoizedProps.value;wt(ap,n._currentValue),n._currentValue=i;break;case 13:if(n=e.memoizedState,n!==null)return n.dehydrated!==null?(wt(It,It.current&1),e.flags|=128,null):r&e.child.childLanes?ZV(t,e,r):(wt(It,It.current&1),t=xs(t,e,r),t!==null?t.sibling:null);wt(It,It.current&1);break;case 19:if(n=(r&e.childLanes)!==0,t.flags&128){if(n)return eH(t,e,r);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),wt(It,It.current),n)break;return null;case 22:case 23:return e.lanes=0,QV(t,e,r)}return xs(t,e,r)}var tH,Q2,rH,nH;tH=function(t,e){for(var r=e.child;r!==null;){if(r.tag===5||r.tag===6)t.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};Q2=function(){};rH=function(t,e,r,n){var i=t.memoizedProps;if(i!==n){t=e.stateNode,Ya(ki.current);var s=null;switch(r){case"input":i=y2(t,i),n=y2(t,n),s=[];break;case"select":i=kt({},i,{value:void 0}),n=kt({},n,{value:void 0}),s=[];break;case"textarea":i=w2(t,i),n=w2(t,n),s=[];break;default:typeof i.onClick!="function"&&typeof n.onClick=="function"&&(t.onclick=tp)}S2(r,n);var a;r=null;for(c in i)if(!n.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var o=i[c];for(a in o)o.hasOwnProperty(a)&&(r||(r={}),r[a]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(sd.hasOwnProperty(c)?s||(s=[]):(s=s||[]).push(c,null));for(c in n){var u=n[c];if(o=i!=null?i[c]:void 0,n.hasOwnProperty(c)&&u!==o&&(u!=null||o!=null))if(c==="style")if(o){for(a in o)!o.hasOwnProperty(a)||u&&u.hasOwnProperty(a)||(r||(r={}),r[a]="");for(a in u)u.hasOwnProperty(a)&&o[a]!==u[a]&&(r||(r={}),r[a]=u[a])}else r||(s||(s=[]),s.push(c,r)),r=u;else c==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,o=o?o.__html:void 0,u!=null&&o!==u&&(s=s||[]).push(c,u)):c==="children"?typeof u!="string"&&typeof u!="number"||(s=s||[]).push(c,""+u):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(sd.hasOwnProperty(c)?(u!=null&&c==="onScroll"&&St("scroll",t),s||o===u||(s=[])):(s=s||[]).push(c,u))}r&&(s=s||[]).push("style",r);var c=s;(e.updateQueue=c)&&(e.flags|=4)}};nH=function(t,e,r,n){r!==n&&(e.flags|=4)};function _c(t,e){if(!Ct)switch(t.tailMode){case"hidden":e=t.tail;for(var r=null;e!==null;)e.alternate!==null&&(r=e),e=e.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:n.sibling=null}}function Ir(t){var e=t.alternate!==null&&t.alternate.child===t.child,r=0,n=0;if(e)for(var i=t.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags&14680064,n|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags,n|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=n,t.childLanes=r,e}function _Z(t,e,r){var n=e.pendingProps;switch(OC(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ir(e),null;case 1:return dn(e.type)&&rp(),Ir(e),null;case 3:return n=e.stateNode,mu(),Et(cn),Et(Dr),qC(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(of(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,oi!==null&&(ij(oi),oi=null))),Q2(t,e),Ir(e),null;case 5:MC(e);var i=Ya(gd.current);if(r=e.type,t!==null&&e.stateNode!=null)rH(t,e,r,n,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!n){if(e.stateNode===null)throw Error(ee(166));return Ir(e),null}if(t=Ya(ki.current),of(e)){n=e.stateNode,r=e.type;var s=e.memoizedProps;switch(n[Oi]=e,n[md]=s,t=(e.mode&1)!==0,r){case"dialog":St("cancel",n),St("close",n);break;case"iframe":case"object":case"embed":St("load",n);break;case"video":case"audio":for(i=0;i<Mc.length;i++)St(Mc[i],n);break;case"source":St("error",n);break;case"img":case"image":case"link":St("error",n),St("load",n);break;case"details":St("toggle",n);break;case"input":hP(n,s),St("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!s.multiple},St("invalid",n);break;case"textarea":pP(n,s),St("invalid",n)}S2(r,s),i=null;for(var a in s)if(s.hasOwnProperty(a)){var o=s[a];a==="children"?typeof o=="string"?n.textContent!==o&&(s.suppressHydrationWarning!==!0&&af(n.textContent,o,t),i=["children",o]):typeof o=="number"&&n.textContent!==""+o&&(s.suppressHydrationWarning!==!0&&af(n.textContent,o,t),i=["children",""+o]):sd.hasOwnProperty(a)&&o!=null&&a==="onScroll"&&St("scroll",n)}switch(r){case"input":Xh(n),fP(n,s,!0);break;case"textarea":Xh(n),mP(n);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(n.onclick=tp)}n=i,e.updateQueue=n,n!==null&&(e.flags|=4)}else{a=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=IW(r)),t==="http://www.w3.org/1999/xhtml"?r==="script"?(t=a.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof n.is=="string"?t=a.createElement(r,{is:n.is}):(t=a.createElement(r),r==="select"&&(a=t,n.multiple?a.multiple=!0:n.size&&(a.size=n.size))):t=a.createElementNS(t,r),t[Oi]=e,t[md]=n,tH(t,e,!1,!1),e.stateNode=t;e:{switch(a=E2(r,n),r){case"dialog":St("cancel",t),St("close",t),i=n;break;case"iframe":case"object":case"embed":St("load",t),i=n;break;case"video":case"audio":for(i=0;i<Mc.length;i++)St(Mc[i],t);i=n;break;case"source":St("error",t),i=n;break;case"img":case"image":case"link":St("error",t),St("load",t),i=n;break;case"details":St("toggle",t),i=n;break;case"input":hP(t,n),i=y2(t,n),St("invalid",t);break;case"option":i=n;break;case"select":t._wrapperState={wasMultiple:!!n.multiple},i=kt({},n,{value:void 0}),St("invalid",t);break;case"textarea":pP(t,n),i=w2(t,n),St("invalid",t);break;default:i=n}S2(r,i),o=i;for(s in o)if(o.hasOwnProperty(s)){var u=o[s];s==="style"?kW(t,u):s==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,u!=null&&RW(t,u)):s==="children"?typeof u=="string"?(r!=="textarea"||u!=="")&&ad(t,u):typeof u=="number"&&ad(t,""+u):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(sd.hasOwnProperty(s)?u!=null&&s==="onScroll"&&St("scroll",t):u!=null&&fC(t,s,u,a))}switch(r){case"input":Xh(t),fP(t,n,!1);break;case"textarea":Xh(t),mP(t);break;case"option":n.value!=null&&t.setAttribute("value",""+Sa(n.value));break;case"select":t.multiple=!!n.multiple,s=n.value,s!=null?Fl(t,!!n.multiple,s,!1):n.defaultValue!=null&&Fl(t,!!n.multiple,n.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=tp)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Ir(e),null;case 6:if(t&&e.stateNode!=null)nH(t,e,t.memoizedProps,n);else{if(typeof n!="string"&&e.stateNode===null)throw Error(ee(166));if(r=Ya(gd.current),Ya(ki.current),of(e)){if(n=e.stateNode,r=e.memoizedProps,n[Oi]=e,(s=n.nodeValue!==r)&&(t=Cn,t!==null))switch(t.tag){case 3:af(n.nodeValue,r,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&af(n.nodeValue,r,(t.mode&1)!==0)}s&&(e.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[Oi]=e,e.stateNode=n}return Ir(e),null;case 13:if(Et(It),n=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Ct&&jn!==null&&e.mode&1&&!(e.flags&128))wV(),fu(),e.flags|=98560,s=!1;else if(s=of(e),n!==null&&n.dehydrated!==null){if(t===null){if(!s)throw Error(ee(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(ee(317));s[Oi]=e}else fu(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Ir(e),s=!1}else oi!==null&&(ij(oi),oi=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=r,e):(n=n!==null,n!==(t!==null&&t.memoizedState!==null)&&n&&(e.child.flags|=8192,e.mode&1&&(t===null||It.current&1?lr===0&&(lr=3):YC())),e.updateQueue!==null&&(e.flags|=4),Ir(e),null);case 4:return mu(),Q2(t,e),t===null&&fd(e.stateNode.containerInfo),Ir(e),null;case 10:return RC(e.type._context),Ir(e),null;case 17:return dn(e.type)&&rp(),Ir(e),null;case 19:if(Et(It),s=e.memoizedState,s===null)return Ir(e),null;if(n=(e.flags&128)!==0,a=s.rendering,a===null)if(n)_c(s,!1);else{if(lr!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(a=up(t),a!==null){for(e.flags|=128,_c(s,!1),n=a.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),e.subtreeFlags=0,n=r,r=e.child;r!==null;)s=r,t=n,s.flags&=14680066,a=s.alternate,a===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=a.childLanes,s.lanes=a.lanes,s.child=a.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=a.memoizedProps,s.memoizedState=a.memoizedState,s.updateQueue=a.updateQueue,s.type=a.type,t=a.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),r=r.sibling;return wt(It,It.current&1|2),e.child}t=t.sibling}s.tail!==null&&Ht()>gu&&(e.flags|=128,n=!0,_c(s,!1),e.lanes=4194304)}else{if(!n)if(t=up(a),t!==null){if(e.flags|=128,n=!0,r=t.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),_c(s,!0),s.tail===null&&s.tailMode==="hidden"&&!a.alternate&&!Ct)return Ir(e),null}else 2*Ht()-s.renderingStartTime>gu&&r!==1073741824&&(e.flags|=128,n=!0,_c(s,!1),e.lanes=4194304);s.isBackwards?(a.sibling=e.child,e.child=a):(r=s.last,r!==null?r.sibling=a:e.child=a,s.last=a)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=Ht(),e.sibling=null,r=It.current,wt(It,n?r&1|2:r&1),e):(Ir(e),null);case 22:case 23:return GC(),n=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==n&&(e.flags|=8192),n&&e.mode&1?_n&1073741824&&(Ir(e),e.subtreeFlags&6&&(e.flags|=8192)):Ir(e),null;case 24:return null;case 25:return null}throw Error(ee(156,e.tag))}function SZ(t,e){switch(OC(e),e.tag){case 1:return dn(e.type)&&rp(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return mu(),Et(cn),Et(Dr),qC(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return MC(e),null;case 13:if(Et(It),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(ee(340));fu()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Et(It),null;case 4:return mu(),null;case 10:return RC(e.type._context),null;case 22:case 23:return GC(),null;case 24:return null;default:return null}}var cf=!1,$r=!1,EZ=typeof WeakSet=="function"?WeakSet:Set,ye=null;function Il(t,e){var r=t.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){Lt(t,e,n)}else r.current=null}function X2(t,e,r){try{r()}catch(n){Lt(t,e,n)}}var iI=!1;function NZ(t,e){if(k2=Jf,t=lV(),jC(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var i=n.anchorOffset,s=n.focusNode;n=n.focusOffset;try{r.nodeType,s.nodeType}catch{r=null;break e}var a=0,o=-1,u=-1,c=0,d=0,h=t,f=null;t:for(;;){for(var p;h!==r||i!==0&&h.nodeType!==3||(o=a+i),h!==s||n!==0&&h.nodeType!==3||(u=a+n),h.nodeType===3&&(a+=h.nodeValue.length),(p=h.firstChild)!==null;)f=h,h=p;for(;;){if(h===t)break t;if(f===r&&++c===i&&(o=a),f===s&&++d===n&&(u=a),(p=h.nextSibling)!==null)break;h=f,f=h.parentNode}h=p}r=o===-1||u===-1?null:{start:o,end:u}}else r=null}r=r||{start:0,end:0}}else r=null;for(D2={focusedElem:t,selectionRange:r},Jf=!1,ye=e;ye!==null;)if(e=ye,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,ye=t;else for(;ye!==null;){e=ye;try{var v=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var y=v.memoizedProps,x=v.memoizedState,g=e.stateNode,m=g.getSnapshotBeforeUpdate(e.elementType===e.type?y:ni(e.type,y),x);g.__reactInternalSnapshotBeforeUpdate=m}break;case 3:var w=e.stateNode.containerInfo;w.nodeType===1?w.textContent="":w.nodeType===9&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(ee(163))}}catch(b){Lt(e,e.return,b)}if(t=e.sibling,t!==null){t.return=e.return,ye=t;break}ye=e.return}return v=iI,iI=!1,v}function Hc(t,e,r){var n=e.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var i=n=n.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&X2(e,r,s)}i=i.next}while(i!==n)}}function Zp(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var r=e=e.next;do{if((r.tag&t)===t){var n=r.create;r.destroy=n()}r=r.next}while(r!==e)}}function J2(t){var e=t.ref;if(e!==null){var r=t.stateNode;switch(t.tag){case 5:t=r;break;default:t=r}typeof e=="function"?e(t):e.current=t}}function iH(t){var e=t.alternate;e!==null&&(t.alternate=null,iH(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Oi],delete e[md],delete e[A2],delete e[oZ],delete e[lZ])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function sH(t){return t.tag===5||t.tag===3||t.tag===4}function sI(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||sH(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Z2(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.nodeType===8?r.parentNode.insertBefore(t,e):r.insertBefore(t,e):(r.nodeType===8?(e=r.parentNode,e.insertBefore(t,r)):(e=r,e.appendChild(t)),r=r._reactRootContainer,r!=null||e.onclick!==null||(e.onclick=tp));else if(n!==4&&(t=t.child,t!==null))for(Z2(t,e,r),t=t.sibling;t!==null;)Z2(t,e,r),t=t.sibling}function ej(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.insertBefore(t,e):r.appendChild(t);else if(n!==4&&(t=t.child,t!==null))for(ej(t,e,r),t=t.sibling;t!==null;)ej(t,e,r),t=t.sibling}var Er=null,ai=!1;function Ds(t,e,r){for(r=r.child;r!==null;)aH(t,e,r),r=r.sibling}function aH(t,e,r){if($i&&typeof $i.onCommitFiberUnmount=="function")try{$i.onCommitFiberUnmount(Vp,r)}catch{}switch(r.tag){case 5:$r||Il(r,e);case 6:var n=Er,i=ai;Er=null,Ds(t,e,r),Er=n,ai=i,Er!==null&&(ai?(t=Er,r=r.stateNode,t.nodeType===8?t.parentNode.removeChild(r):t.removeChild(r)):Er.removeChild(r.stateNode));break;case 18:Er!==null&&(ai?(t=Er,r=r.stateNode,t.nodeType===8?bv(t.parentNode,r):t.nodeType===1&&bv(t,r),cd(t)):bv(Er,r.stateNode));break;case 4:n=Er,i=ai,Er=r.stateNode.containerInfo,ai=!0,Ds(t,e,r),Er=n,ai=i;break;case 0:case 11:case 14:case 15:if(!$r&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){i=n=n.next;do{var s=i,a=s.destroy;s=s.tag,a!==void 0&&(s&2||s&4)&&X2(r,e,a),i=i.next}while(i!==n)}Ds(t,e,r);break;case 1:if(!$r&&(Il(r,e),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(o){Lt(r,e,o)}Ds(t,e,r);break;case 21:Ds(t,e,r);break;case 22:r.mode&1?($r=(n=$r)||r.memoizedState!==null,Ds(t,e,r),$r=n):Ds(t,e,r);break;default:Ds(t,e,r)}}function aI(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var r=t.stateNode;r===null&&(r=t.stateNode=new EZ),e.forEach(function(n){var i=kZ.bind(null,t,n);r.has(n)||(r.add(n),n.then(i,i))})}}function ti(t,e){var r=e.deletions;if(r!==null)for(var n=0;n<r.length;n++){var i=r[n];try{var s=t,a=e,o=a;e:for(;o!==null;){switch(o.tag){case 5:Er=o.stateNode,ai=!1;break e;case 3:Er=o.stateNode.containerInfo,ai=!0;break e;case 4:Er=o.stateNode.containerInfo,ai=!0;break e}o=o.return}if(Er===null)throw Error(ee(160));aH(s,a,i),Er=null,ai=!1;var u=i.alternate;u!==null&&(u.return=null),i.return=null}catch(c){Lt(i,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)oH(e,t),e=e.sibling}function oH(t,e){var r=t.alternate,n=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(ti(e,t),wi(t),n&4){try{Hc(3,t,t.return),Zp(3,t)}catch(y){Lt(t,t.return,y)}try{Hc(5,t,t.return)}catch(y){Lt(t,t.return,y)}}break;case 1:ti(e,t),wi(t),n&512&&r!==null&&Il(r,r.return);break;case 5:if(ti(e,t),wi(t),n&512&&r!==null&&Il(r,r.return),t.flags&32){var i=t.stateNode;try{ad(i,"")}catch(y){Lt(t,t.return,y)}}if(n&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,a=r!==null?r.memoizedProps:s,o=t.type,u=t.updateQueue;if(t.updateQueue=null,u!==null)try{o==="input"&&s.type==="radio"&&s.name!=null&&TW(i,s),E2(o,a);var c=E2(o,s);for(a=0;a<u.length;a+=2){var d=u[a],h=u[a+1];d==="style"?kW(i,h):d==="dangerouslySetInnerHTML"?RW(i,h):d==="children"?ad(i,h):fC(i,d,h,c)}switch(o){case"input":b2(i,s);break;case"textarea":PW(i,s);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var p=s.value;p!=null?Fl(i,!!s.multiple,p,!1):f!==!!s.multiple&&(s.defaultValue!=null?Fl(i,!!s.multiple,s.defaultValue,!0):Fl(i,!!s.multiple,s.multiple?[]:"",!1))}i[md]=s}catch(y){Lt(t,t.return,y)}}break;case 6:if(ti(e,t),wi(t),n&4){if(t.stateNode===null)throw Error(ee(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(y){Lt(t,t.return,y)}}break;case 3:if(ti(e,t),wi(t),n&4&&r!==null&&r.memoizedState.isDehydrated)try{cd(e.containerInfo)}catch(y){Lt(t,t.return,y)}break;case 4:ti(e,t),wi(t);break;case 13:ti(e,t),wi(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(HC=Ht())),n&4&&aI(t);break;case 22:if(d=r!==null&&r.memoizedState!==null,t.mode&1?($r=(c=$r)||d,ti(e,t),$r=c):ti(e,t),wi(t),n&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!d&&t.mode&1)for(ye=t,d=t.child;d!==null;){for(h=ye=d;ye!==null;){switch(f=ye,p=f.child,f.tag){case 0:case 11:case 14:case 15:Hc(4,f,f.return);break;case 1:Il(f,f.return);var v=f.stateNode;if(typeof v.componentWillUnmount=="function"){n=f,r=f.return;try{e=n,v.props=e.memoizedProps,v.state=e.memoizedState,v.componentWillUnmount()}catch(y){Lt(n,r,y)}}break;case 5:Il(f,f.return);break;case 22:if(f.memoizedState!==null){lI(h);continue}}p!==null?(p.return=f,ye=p):lI(h)}d=d.sibling}e:for(d=null,h=t;;){if(h.tag===5){if(d===null){d=h;try{i=h.stateNode,c?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(o=h.stateNode,u=h.memoizedProps.style,a=u!=null&&u.hasOwnProperty("display")?u.display:null,o.style.display=$W("display",a))}catch(y){Lt(t,t.return,y)}}}else if(h.tag===6){if(d===null)try{h.stateNode.nodeValue=c?"":h.memoizedProps}catch(y){Lt(t,t.return,y)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:ti(e,t),wi(t),n&4&&aI(t);break;case 21:break;default:ti(e,t),wi(t)}}function wi(t){var e=t.flags;if(e&2){try{e:{for(var r=t.return;r!==null;){if(sH(r)){var n=r;break e}r=r.return}throw Error(ee(160))}switch(n.tag){case 5:var i=n.stateNode;n.flags&32&&(ad(i,""),n.flags&=-33);var s=sI(t);ej(t,s,i);break;case 3:case 4:var a=n.stateNode.containerInfo,o=sI(t);Z2(t,o,a);break;default:throw Error(ee(161))}}catch(u){Lt(t,t.return,u)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function jZ(t,e,r){ye=t,lH(t)}function lH(t,e,r){for(var n=(t.mode&1)!==0;ye!==null;){var i=ye,s=i.child;if(i.tag===22&&n){var a=i.memoizedState!==null||cf;if(!a){var o=i.alternate,u=o!==null&&o.memoizedState!==null||$r;o=cf;var c=$r;if(cf=a,($r=u)&&!c)for(ye=i;ye!==null;)a=ye,u=a.child,a.tag===22&&a.memoizedState!==null?uI(i):u!==null?(u.return=a,ye=u):uI(i);for(;s!==null;)ye=s,lH(s),s=s.sibling;ye=i,cf=o,$r=c}oI(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,ye=s):oI(t)}}function oI(t){for(;ye!==null;){var e=ye;if(e.flags&8772){var r=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:$r||Zp(5,e);break;case 1:var n=e.stateNode;if(e.flags&4&&!$r)if(r===null)n.componentDidMount();else{var i=e.elementType===e.type?r.memoizedProps:ni(e.type,r.memoizedProps);n.componentDidUpdate(i,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&VP(e,s,n);break;case 3:var a=e.updateQueue;if(a!==null){if(r=null,e.child!==null)switch(e.child.tag){case 5:r=e.child.stateNode;break;case 1:r=e.child.stateNode}VP(e,a,r)}break;case 5:var o=e.stateNode;if(r===null&&e.flags&4){r=o;var u=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&r.focus();break;case"img":u.src&&(r.src=u.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var d=c.memoizedState;if(d!==null){var h=d.dehydrated;h!==null&&cd(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(ee(163))}$r||e.flags&512&&J2(e)}catch(f){Lt(e,e.return,f)}}if(e===t){ye=null;break}if(r=e.sibling,r!==null){r.return=e.return,ye=r;break}ye=e.return}}function lI(t){for(;ye!==null;){var e=ye;if(e===t){ye=null;break}var r=e.sibling;if(r!==null){r.return=e.return,ye=r;break}ye=e.return}}function uI(t){for(;ye!==null;){var e=ye;try{switch(e.tag){case 0:case 11:case 15:var r=e.return;try{Zp(4,e)}catch(u){Lt(e,r,u)}break;case 1:var n=e.stateNode;if(typeof n.componentDidMount=="function"){var i=e.return;try{n.componentDidMount()}catch(u){Lt(e,i,u)}}var s=e.return;try{J2(e)}catch(u){Lt(e,s,u)}break;case 5:var a=e.return;try{J2(e)}catch(u){Lt(e,a,u)}}}catch(u){Lt(e,e.return,u)}if(e===t){ye=null;break}var o=e.sibling;if(o!==null){o.return=e.return,ye=o;break}ye=e.return}}var CZ=Math.ceil,hp=Es.ReactCurrentDispatcher,WC=Es.ReactCurrentOwner,Wn=Es.ReactCurrentBatchConfig,tt=0,mr=null,Xt=null,Nr=0,_n=0,Rl=Pa(0),lr=0,wd=null,jo=0,em=0,VC=0,Kc=null,sn=null,HC=0,gu=1/0,Yi=null,fp=!1,tj=null,ha=null,df=!1,ia=null,pp=0,Gc=0,rj=null,Df=-1,Mf=0;function Hr(){return tt&6?Ht():Df!==-1?Df:Df=Ht()}function fa(t){return t.mode&1?tt&2&&Nr!==0?Nr&-Nr:cZ.transition!==null?(Mf===0&&(Mf=HW()),Mf):(t=dt,t!==0||(t=window.event,t=t===void 0?16:ZW(t.type)),t):1}function fi(t,e,r,n){if(50<Gc)throw Gc=0,rj=null,Error(ee(185));Gd(t,r,n),(!(tt&2)||t!==mr)&&(t===mr&&(!(tt&2)&&(em|=r),lr===4&&Vs(t,Nr)),hn(t,n),r===1&&tt===0&&!(e.mode&1)&&(gu=Ht()+500,Qp&&Ia()))}function hn(t,e){var r=t.callbackNode;cJ(t,e);var n=Xf(t,t===mr?Nr:0);if(n===0)r!==null&&yP(r),t.callbackNode=null,t.callbackPriority=0;else if(e=n&-n,t.callbackPriority!==e){if(r!=null&&yP(r),e===1)t.tag===0?uZ(cI.bind(null,t)):yV(cI.bind(null,t)),sZ(function(){!(tt&6)&&Ia()}),r=null;else{switch(KW(n)){case 1:r=yC;break;case 4:r=WW;break;case 16:r=Qf;break;case 536870912:r=VW;break;default:r=Qf}r=vH(r,uH.bind(null,t))}t.callbackPriority=e,t.callbackNode=r}}function uH(t,e){if(Df=-1,Mf=0,tt&6)throw Error(ee(327));var r=t.callbackNode;if(Wl()&&t.callbackNode!==r)return null;var n=Xf(t,t===mr?Nr:0);if(n===0)return null;if(n&30||n&t.expiredLanes||e)e=mp(t,n);else{e=n;var i=tt;tt|=2;var s=dH();(mr!==t||Nr!==e)&&(Yi=null,gu=Ht()+500,fo(t,e));do try{PZ();break}catch(o){cH(t,o)}while(!0);IC(),hp.current=s,tt=i,Xt!==null?e=0:(mr=null,Nr=0,e=lr)}if(e!==0){if(e===2&&(i=T2(t),i!==0&&(n=i,e=nj(t,i))),e===1)throw r=wd,fo(t,0),Vs(t,n),hn(t,Ht()),r;if(e===6)Vs(t,n);else{if(i=t.current.alternate,!(n&30)&&!OZ(i)&&(e=mp(t,n),e===2&&(s=T2(t),s!==0&&(n=s,e=nj(t,s))),e===1))throw r=wd,fo(t,0),Vs(t,n),hn(t,Ht()),r;switch(t.finishedWork=i,t.finishedLanes=n,e){case 0:case 1:throw Error(ee(345));case 2:Va(t,sn,Yi);break;case 3:if(Vs(t,n),(n&130023424)===n&&(e=HC+500-Ht(),10<e)){if(Xf(t,0)!==0)break;if(i=t.suspendedLanes,(i&n)!==n){Hr(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=q2(Va.bind(null,t,sn,Yi),e);break}Va(t,sn,Yi);break;case 4:if(Vs(t,n),(n&4194240)===n)break;for(e=t.eventTimes,i=-1;0<n;){var a=31-hi(n);s=1<<a,a=e[a],a>i&&(i=a),n&=~s}if(n=i,n=Ht()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*CZ(n/1960))-n,10<n){t.timeoutHandle=q2(Va.bind(null,t,sn,Yi),n);break}Va(t,sn,Yi);break;case 5:Va(t,sn,Yi);break;default:throw Error(ee(329))}}}return hn(t,Ht()),t.callbackNode===r?uH.bind(null,t):null}function nj(t,e){var r=Kc;return t.current.memoizedState.isDehydrated&&(fo(t,e).flags|=256),t=mp(t,e),t!==2&&(e=sn,sn=r,e!==null&&ij(e)),t}function ij(t){sn===null?sn=t:sn.push.apply(sn,t)}function OZ(t){for(var e=t;;){if(e.flags&16384){var r=e.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var i=r[n],s=i.getSnapshot;i=i.value;try{if(!pi(s(),i))return!1}catch{return!1}}}if(r=e.child,e.subtreeFlags&16384&&r!==null)r.return=e,e=r;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Vs(t,e){for(e&=~VC,e&=~em,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var r=31-hi(e),n=1<<r;t[r]=-1,e&=~n}}function cI(t){if(tt&6)throw Error(ee(327));Wl();var e=Xf(t,0);if(!(e&1))return hn(t,Ht()),null;var r=mp(t,e);if(t.tag!==0&&r===2){var n=T2(t);n!==0&&(e=n,r=nj(t,n))}if(r===1)throw r=wd,fo(t,0),Vs(t,e),hn(t,Ht()),r;if(r===6)throw Error(ee(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Va(t,sn,Yi),hn(t,Ht()),null}function KC(t,e){var r=tt;tt|=1;try{return t(e)}finally{tt=r,tt===0&&(gu=Ht()+500,Qp&&Ia())}}function Co(t){ia!==null&&ia.tag===0&&!(tt&6)&&Wl();var e=tt;tt|=1;var r=Wn.transition,n=dt;try{if(Wn.transition=null,dt=1,t)return t()}finally{dt=n,Wn.transition=r,tt=e,!(tt&6)&&Ia()}}function GC(){_n=Rl.current,Et(Rl)}function fo(t,e){t.finishedWork=null,t.finishedLanes=0;var r=t.timeoutHandle;if(r!==-1&&(t.timeoutHandle=-1,iZ(r)),Xt!==null)for(r=Xt.return;r!==null;){var n=r;switch(OC(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&rp();break;case 3:mu(),Et(cn),Et(Dr),qC();break;case 5:MC(n);break;case 4:mu();break;case 13:Et(It);break;case 19:Et(It);break;case 10:RC(n.type._context);break;case 22:case 23:GC()}r=r.return}if(mr=t,Xt=t=pa(t.current,null),Nr=_n=e,lr=0,wd=null,VC=em=jo=0,sn=Kc=null,Ga!==null){for(e=0;e<Ga.length;e++)if(r=Ga[e],n=r.interleaved,n!==null){r.interleaved=null;var i=n.next,s=r.pending;if(s!==null){var a=s.next;s.next=i,n.next=a}r.pending=n}Ga=null}return t}function cH(t,e){do{var r=Xt;try{if(IC(),Rf.current=dp,cp){for(var n=Rt.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}cp=!1}if(No=0,pr=or=Rt=null,Vc=!1,yd=0,WC.current=null,r===null||r.return===null){lr=1,wd=e,Xt=null;break}e:{var s=t,a=r.return,o=r,u=e;if(e=Nr,o.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){var c=u,d=o,h=d.tag;if(!(d.mode&1)&&(h===0||h===11||h===15)){var f=d.alternate;f?(d.updateQueue=f.updateQueue,d.memoizedState=f.memoizedState,d.lanes=f.lanes):(d.updateQueue=null,d.memoizedState=null)}var p=XP(a);if(p!==null){p.flags&=-257,JP(p,a,o,s,e),p.mode&1&&QP(s,c,e),e=p,u=c;var v=e.updateQueue;if(v===null){var y=new Set;y.add(u),e.updateQueue=y}else v.add(u);break e}else{if(!(e&1)){QP(s,c,e),YC();break e}u=Error(ee(426))}}else if(Ct&&o.mode&1){var x=XP(a);if(x!==null){!(x.flags&65536)&&(x.flags|=256),JP(x,a,o,s,e),TC(vu(u,o));break e}}s=u=vu(u,o),lr!==4&&(lr=2),Kc===null?Kc=[s]:Kc.push(s),s=a;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var g=KV(s,u,e);WP(s,g);break e;case 1:o=u;var m=s.type,w=s.stateNode;if(!(s.flags&128)&&(typeof m.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(ha===null||!ha.has(w)))){s.flags|=65536,e&=-e,s.lanes|=e;var b=GV(s,o,e);WP(s,b);break e}}s=s.return}while(s!==null)}fH(r)}catch(_){e=_,Xt===r&&r!==null&&(Xt=r=r.return);continue}break}while(!0)}function dH(){var t=hp.current;return hp.current=dp,t===null?dp:t}function YC(){(lr===0||lr===3||lr===2)&&(lr=4),mr===null||!(jo&268435455)&&!(em&268435455)||Vs(mr,Nr)}function mp(t,e){var r=tt;tt|=2;var n=dH();(mr!==t||Nr!==e)&&(Yi=null,fo(t,e));do try{TZ();break}catch(i){cH(t,i)}while(!0);if(IC(),tt=r,hp.current=n,Xt!==null)throw Error(ee(261));return mr=null,Nr=0,lr}function TZ(){for(;Xt!==null;)hH(Xt)}function PZ(){for(;Xt!==null&&!tJ();)hH(Xt)}function hH(t){var e=mH(t.alternate,t,_n);t.memoizedProps=t.pendingProps,e===null?fH(t):Xt=e,WC.current=null}function fH(t){var e=t;do{var r=e.alternate;if(t=e.return,e.flags&32768){if(r=SZ(r,e),r!==null){r.flags&=32767,Xt=r;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{lr=6,Xt=null;return}}else if(r=_Z(r,e,_n),r!==null){Xt=r;return}if(e=e.sibling,e!==null){Xt=e;return}Xt=e=t}while(e!==null);lr===0&&(lr=5)}function Va(t,e,r){var n=dt,i=Wn.transition;try{Wn.transition=null,dt=1,IZ(t,e,r,n)}finally{Wn.transition=i,dt=n}return null}function IZ(t,e,r,n){do Wl();while(ia!==null);if(tt&6)throw Error(ee(327));r=t.finishedWork;var i=t.finishedLanes;if(r===null)return null;if(t.finishedWork=null,t.finishedLanes=0,r===t.current)throw Error(ee(177));t.callbackNode=null,t.callbackPriority=0;var s=r.lanes|r.childLanes;if(dJ(t,s),t===mr&&(Xt=mr=null,Nr=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||df||(df=!0,vH(Qf,function(){return Wl(),null})),s=(r.flags&15990)!==0,r.subtreeFlags&15990||s){s=Wn.transition,Wn.transition=null;var a=dt;dt=1;var o=tt;tt|=4,WC.current=null,NZ(t,r),oH(r,t),XJ(D2),Jf=!!k2,D2=k2=null,t.current=r,jZ(r),rJ(),tt=o,dt=a,Wn.transition=s}else t.current=r;if(df&&(df=!1,ia=t,pp=i),s=t.pendingLanes,s===0&&(ha=null),sJ(r.stateNode),hn(t,Ht()),e!==null)for(n=t.onRecoverableError,r=0;r<e.length;r++)i=e[r],n(i.value,{componentStack:i.stack,digest:i.digest});if(fp)throw fp=!1,t=tj,tj=null,t;return pp&1&&t.tag!==0&&Wl(),s=t.pendingLanes,s&1?t===rj?Gc++:(Gc=0,rj=t):Gc=0,Ia(),null}function Wl(){if(ia!==null){var t=KW(pp),e=Wn.transition,r=dt;try{if(Wn.transition=null,dt=16>t?16:t,ia===null)var n=!1;else{if(t=ia,ia=null,pp=0,tt&6)throw Error(ee(331));var i=tt;for(tt|=4,ye=t.current;ye!==null;){var s=ye,a=s.child;if(ye.flags&16){var o=s.deletions;if(o!==null){for(var u=0;u<o.length;u++){var c=o[u];for(ye=c;ye!==null;){var d=ye;switch(d.tag){case 0:case 11:case 15:Hc(8,d,s)}var h=d.child;if(h!==null)h.return=d,ye=h;else for(;ye!==null;){d=ye;var f=d.sibling,p=d.return;if(iH(d),d===c){ye=null;break}if(f!==null){f.return=p,ye=f;break}ye=p}}}var v=s.alternate;if(v!==null){var y=v.child;if(y!==null){v.child=null;do{var x=y.sibling;y.sibling=null,y=x}while(y!==null)}}ye=s}}if(s.subtreeFlags&2064&&a!==null)a.return=s,ye=a;else e:for(;ye!==null;){if(s=ye,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Hc(9,s,s.return)}var g=s.sibling;if(g!==null){g.return=s.return,ye=g;break e}ye=s.return}}var m=t.current;for(ye=m;ye!==null;){a=ye;var w=a.child;if(a.subtreeFlags&2064&&w!==null)w.return=a,ye=w;else e:for(a=m;ye!==null;){if(o=ye,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:Zp(9,o)}}catch(_){Lt(o,o.return,_)}if(o===a){ye=null;break e}var b=o.sibling;if(b!==null){b.return=o.return,ye=b;break e}ye=o.return}}if(tt=i,Ia(),$i&&typeof $i.onPostCommitFiberRoot=="function")try{$i.onPostCommitFiberRoot(Vp,t)}catch{}n=!0}return n}finally{dt=r,Wn.transition=e}}return!1}function dI(t,e,r){e=vu(r,e),e=KV(t,e,1),t=da(t,e,1),e=Hr(),t!==null&&(Gd(t,1,e),hn(t,e))}function Lt(t,e,r){if(t.tag===3)dI(t,t,r);else for(;e!==null;){if(e.tag===3){dI(e,t,r);break}else if(e.tag===1){var n=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(ha===null||!ha.has(n))){t=vu(r,t),t=GV(e,t,1),e=da(e,t,1),t=Hr(),e!==null&&(Gd(e,1,t),hn(e,t));break}}e=e.return}}function RZ(t,e,r){var n=t.pingCache;n!==null&&n.delete(e),e=Hr(),t.pingedLanes|=t.suspendedLanes&r,mr===t&&(Nr&r)===r&&(lr===4||lr===3&&(Nr&130023424)===Nr&&500>Ht()-HC?fo(t,0):VC|=r),hn(t,e)}function pH(t,e){e===0&&(t.mode&1?(e=ef,ef<<=1,!(ef&130023424)&&(ef=4194304)):e=1);var r=Hr();t=bs(t,e),t!==null&&(Gd(t,e,r),hn(t,r))}function $Z(t){var e=t.memoizedState,r=0;e!==null&&(r=e.retryLane),pH(t,r)}function kZ(t,e){var r=0;switch(t.tag){case 13:var n=t.stateNode,i=t.memoizedState;i!==null&&(r=i.retryLane);break;case 19:n=t.stateNode;break;default:throw Error(ee(314))}n!==null&&n.delete(e),pH(t,r)}var mH;mH=function(t,e,r){if(t!==null)if(t.memoizedProps!==e.pendingProps||cn.current)ln=!0;else{if(!(t.lanes&r)&&!(e.flags&128))return ln=!1,wZ(t,e,r);ln=!!(t.flags&131072)}else ln=!1,Ct&&e.flags&1048576&&bV(e,sp,e.index);switch(e.lanes=0,e.tag){case 2:var n=e.type;kf(t,e),t=e.pendingProps;var i=hu(e,Dr.current);Ul(e,r),i=FC(null,e,n,t,i,r);var s=LC();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,dn(n)?(s=!0,np(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,kC(e),i.updater=Jp,e.stateNode=i,i._reactInternals=e,W2(e,n,t,r),e=K2(null,e,n,!0,s,r)):(e.tag=0,Ct&&s&&CC(e),Br(null,e,i,r),e=e.child),e;case 16:n=e.elementType;e:{switch(kf(t,e),t=e.pendingProps,i=n._init,n=i(n._payload),e.type=n,i=e.tag=MZ(n),t=ni(n,t),i){case 0:e=H2(null,e,n,t,r);break e;case 1:e=tI(null,e,n,t,r);break e;case 11:e=ZP(null,e,n,t,r);break e;case 14:e=eI(null,e,n,ni(n.type,t),r);break e}throw Error(ee(306,n,""))}return e;case 0:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:ni(n,i),H2(t,e,n,i,r);case 1:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:ni(n,i),tI(t,e,n,i,r);case 3:e:{if(JV(e),t===null)throw Error(ee(387));n=e.pendingProps,s=e.memoizedState,i=s.element,NV(t,e),lp(e,n,null,r);var a=e.memoizedState;if(n=a.element,s.isDehydrated)if(s={element:n,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=vu(Error(ee(423)),e),e=rI(t,e,n,r,i);break e}else if(n!==i){i=vu(Error(ee(424)),e),e=rI(t,e,n,r,i);break e}else for(jn=ca(e.stateNode.containerInfo.firstChild),Cn=e,Ct=!0,oi=null,r=SV(e,null,n,r),e.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(fu(),n===i){e=xs(t,e,r);break e}Br(t,e,n,r)}e=e.child}return e;case 5:return jV(e),t===null&&B2(e),n=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,a=i.children,M2(n,i)?a=null:s!==null&&M2(n,s)&&(e.flags|=32),XV(t,e),Br(t,e,a,r),e.child;case 6:return t===null&&B2(e),null;case 13:return ZV(t,e,r);case 4:return DC(e,e.stateNode.containerInfo),n=e.pendingProps,t===null?e.child=pu(e,null,n,r):Br(t,e,n,r),e.child;case 11:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:ni(n,i),ZP(t,e,n,i,r);case 7:return Br(t,e,e.pendingProps,r),e.child;case 8:return Br(t,e,e.pendingProps.children,r),e.child;case 12:return Br(t,e,e.pendingProps.children,r),e.child;case 10:e:{if(n=e.type._context,i=e.pendingProps,s=e.memoizedProps,a=i.value,wt(ap,n._currentValue),n._currentValue=a,s!==null)if(pi(s.value,a)){if(s.children===i.children&&!cn.current){e=xs(t,e,r);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var o=s.dependencies;if(o!==null){a=s.child;for(var u=o.firstContext;u!==null;){if(u.context===n){if(s.tag===1){u=as(-1,r&-r),u.tag=2;var c=s.updateQueue;if(c!==null){c=c.shared;var d=c.pending;d===null?u.next=u:(u.next=d.next,d.next=u),c.pending=u}}s.lanes|=r,u=s.alternate,u!==null&&(u.lanes|=r),z2(s.return,r,e),o.lanes|=r;break}u=u.next}}else if(s.tag===10)a=s.type===e.type?null:s.child;else if(s.tag===18){if(a=s.return,a===null)throw Error(ee(341));a.lanes|=r,o=a.alternate,o!==null&&(o.lanes|=r),z2(a,r,e),a=s.sibling}else a=s.child;if(a!==null)a.return=s;else for(a=s;a!==null;){if(a===e){a=null;break}if(s=a.sibling,s!==null){s.return=a.return,a=s;break}a=a.return}s=a}Br(t,e,i.children,r),e=e.child}return e;case 9:return i=e.type,n=e.pendingProps.children,Ul(e,r),i=Kn(i),n=n(i),e.flags|=1,Br(t,e,n,r),e.child;case 14:return n=e.type,i=ni(n,e.pendingProps),i=ni(n.type,i),eI(t,e,n,i,r);case 15:return YV(t,e,e.type,e.pendingProps,r);case 17:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:ni(n,i),kf(t,e),e.tag=1,dn(n)?(t=!0,np(e)):t=!1,Ul(e,r),HV(e,n,i),W2(e,n,i,r),K2(null,e,n,!0,t,r);case 19:return eH(t,e,r);case 22:return QV(t,e,r)}throw Error(ee(156,e.tag))};function vH(t,e){return UW(t,e)}function DZ(t,e,r,n){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Un(t,e,r,n){return new DZ(t,e,r,n)}function QC(t){return t=t.prototype,!(!t||!t.isReactComponent)}function MZ(t){if(typeof t=="function")return QC(t)?1:0;if(t!=null){if(t=t.$$typeof,t===mC)return 11;if(t===vC)return 14}return 2}function pa(t,e){var r=t.alternate;return r===null?(r=Un(t.tag,e,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=e,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&14680064,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,e=t.dependencies,r.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r}function qf(t,e,r,n,i,s){var a=2;if(n=t,typeof t=="function")QC(t)&&(a=1);else if(typeof t=="string")a=5;else e:switch(t){case _l:return po(r.children,i,s,e);case pC:a=8,i|=8;break;case p2:return t=Un(12,r,e,i|2),t.elementType=p2,t.lanes=s,t;case m2:return t=Un(13,r,e,i),t.elementType=m2,t.lanes=s,t;case v2:return t=Un(19,r,e,i),t.elementType=v2,t.lanes=s,t;case jW:return tm(r,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case EW:a=10;break e;case NW:a=9;break e;case mC:a=11;break e;case vC:a=14;break e;case Fs:a=16,n=null;break e}throw Error(ee(130,t==null?t:typeof t,""))}return e=Un(a,r,e,i),e.elementType=t,e.type=n,e.lanes=s,e}function po(t,e,r,n){return t=Un(7,t,n,e),t.lanes=r,t}function tm(t,e,r,n){return t=Un(22,t,n,e),t.elementType=jW,t.lanes=r,t.stateNode={isHidden:!1},t}function Cv(t,e,r){return t=Un(6,t,null,e),t.lanes=r,t}function Ov(t,e,r){return e=Un(4,t.children!==null?t.children:[],t.key,e),e.lanes=r,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function qZ(t,e,r,n,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=lv(0),this.expirationTimes=lv(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=lv(0),this.identifierPrefix=n,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function XC(t,e,r,n,i,s,a,o,u){return t=new qZ(t,e,r,o,u),e===1?(e=1,s===!0&&(e|=8)):e=0,s=Un(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},kC(s),t}function AZ(t,e,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:wl,key:n==null?null:""+n,children:t,containerInfo:e,implementation:r}}function gH(t){if(!t)return Ea;t=t._reactInternals;e:{if(Wo(t)!==t||t.tag!==1)throw Error(ee(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(dn(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(ee(171))}if(t.tag===1){var r=t.type;if(dn(r))return gV(t,r,e)}return e}function yH(t,e,r,n,i,s,a,o,u){return t=XC(r,n,!0,t,i,s,a,o,u),t.context=gH(null),r=t.current,n=Hr(),i=fa(r),s=as(n,i),s.callback=e??null,da(r,s,i),t.current.lanes=i,Gd(t,i,n),hn(t,n),t}function rm(t,e,r,n){var i=e.current,s=Hr(),a=fa(i);return r=gH(r),e.context===null?e.context=r:e.pendingContext=r,e=as(s,a),e.payload={element:t},n=n===void 0?null:n,n!==null&&(e.callback=n),t=da(i,e,a),t!==null&&(fi(t,i,a,s),If(t,i,a)),a}function vp(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function hI(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<e?r:e}}function JC(t,e){hI(t,e),(t=t.alternate)&&hI(t,e)}function FZ(){return null}var bH=typeof reportError=="function"?reportError:function(t){console.error(t)};function ZC(t){this._internalRoot=t}nm.prototype.render=ZC.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(ee(409));rm(t,e,null,null)};nm.prototype.unmount=ZC.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Co(function(){rm(null,t,null,null)}),e[ys]=null}};function nm(t){this._internalRoot=t}nm.prototype.unstable_scheduleHydration=function(t){if(t){var e=QW();t={blockedOn:null,target:t,priority:e};for(var r=0;r<Ws.length&&e!==0&&e<Ws[r].priority;r++);Ws.splice(r,0,t),r===0&&JW(t)}};function eO(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function im(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function fI(){}function LZ(t,e,r,n,i){if(i){if(typeof n=="function"){var s=n;n=function(){var c=vp(a);s.call(c)}}var a=yH(e,n,t,0,null,!1,!1,"",fI);return t._reactRootContainer=a,t[ys]=a.current,fd(t.nodeType===8?t.parentNode:t),Co(),a}for(;i=t.lastChild;)t.removeChild(i);if(typeof n=="function"){var o=n;n=function(){var c=vp(u);o.call(c)}}var u=XC(t,0,!1,null,null,!1,!1,"",fI);return t._reactRootContainer=u,t[ys]=u.current,fd(t.nodeType===8?t.parentNode:t),Co(function(){rm(e,u,r,n)}),u}function sm(t,e,r,n,i){var s=r._reactRootContainer;if(s){var a=s;if(typeof i=="function"){var o=i;i=function(){var u=vp(a);o.call(u)}}rm(e,a,t,i)}else a=LZ(r,e,t,i,n);return vp(a)}GW=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var r=Dc(e.pendingLanes);r!==0&&(bC(e,r|1),hn(e,Ht()),!(tt&6)&&(gu=Ht()+500,Ia()))}break;case 13:Co(function(){var n=bs(t,1);if(n!==null){var i=Hr();fi(n,t,1,i)}}),JC(t,1)}};xC=function(t){if(t.tag===13){var e=bs(t,134217728);if(e!==null){var r=Hr();fi(e,t,134217728,r)}JC(t,134217728)}};YW=function(t){if(t.tag===13){var e=fa(t),r=bs(t,e);if(r!==null){var n=Hr();fi(r,t,e,n)}JC(t,e)}};QW=function(){return dt};XW=function(t,e){var r=dt;try{return dt=t,e()}finally{dt=r}};j2=function(t,e,r){switch(e){case"input":if(b2(t,r),e=r.name,r.type==="radio"&&e!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<r.length;e++){var n=r[e];if(n!==t&&n.form===t.form){var i=Yp(n);if(!i)throw Error(ee(90));OW(n),b2(n,i)}}}break;case"textarea":PW(t,r);break;case"select":e=r.value,e!=null&&Fl(t,!!r.multiple,e,!1)}};qW=KC;AW=Co;var BZ={usingClientEntryPoint:!1,Events:[Qd,jl,Yp,DW,MW,KC]},Sc={findFiberByHostInstance:Ka,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},zZ={bundleType:Sc.bundleType,version:Sc.version,rendererPackageName:Sc.rendererPackageName,rendererConfig:Sc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Es.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=BW(t),t===null?null:t.stateNode},findFiberByHostInstance:Sc.findFiberByHostInstance||FZ,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var hf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!hf.isDisabled&&hf.supportsFiber)try{Vp=hf.inject(zZ),$i=hf}catch{}}Tn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=BZ;Tn.createPortal=function(t,e){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!eO(e))throw Error(ee(200));return AZ(t,e,null,r)};Tn.createRoot=function(t,e){if(!eO(t))throw Error(ee(299));var r=!1,n="",i=bH;return e!=null&&(e.unstable_strictMode===!0&&(r=!0),e.identifierPrefix!==void 0&&(n=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=XC(t,1,!1,null,null,r,!1,n,i),t[ys]=e.current,fd(t.nodeType===8?t.parentNode:t),new ZC(e)};Tn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(ee(188)):(t=Object.keys(t).join(","),Error(ee(268,t)));return t=BW(e),t=t===null?null:t.stateNode,t};Tn.flushSync=function(t){return Co(t)};Tn.hydrate=function(t,e,r){if(!im(e))throw Error(ee(200));return sm(null,t,e,!0,r)};Tn.hydrateRoot=function(t,e,r){if(!eO(t))throw Error(ee(405));var n=r!=null&&r.hydratedSources||null,i=!1,s="",a=bH;if(r!=null&&(r.unstable_strictMode===!0&&(i=!0),r.identifierPrefix!==void 0&&(s=r.identifierPrefix),r.onRecoverableError!==void 0&&(a=r.onRecoverableError)),e=yH(e,null,t,1,r??null,i,!1,s,a),t[ys]=e.current,fd(t),n)for(t=0;t<n.length;t++)r=n[t],i=r._getVersion,i=i(r._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[r,i]:e.mutableSourceEagerHydrationData.push(r,i);return new nm(e)};Tn.render=function(t,e,r){if(!im(e))throw Error(ee(200));return sm(null,t,e,!1,r)};Tn.unmountComponentAtNode=function(t){if(!im(t))throw Error(ee(40));return t._reactRootContainer?(Co(function(){sm(null,null,t,!1,function(){t._reactRootContainer=null,t[ys]=null})}),!0):!1};Tn.unstable_batchedUpdates=KC;Tn.unstable_renderSubtreeIntoContainer=function(t,e,r,n){if(!im(r))throw Error(ee(200));if(t==null||t._reactInternals===void 0)throw Error(ee(38));return sm(t,e,r,!1,n)};Tn.version="18.3.1-next-f1338f8080-20240426";function xH(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(xH)}catch(t){console.error(t)}}xH(),xW.exports=Tn;var UZ=xW.exports,pI=UZ;h2.createRoot=pI.createRoot,h2.hydrateRoot=pI.hydrateRoot;/**
 * @remix-run/router v1.23.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function _d(){return _d=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},_d.apply(this,arguments)}var sa;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(sa||(sa={}));const mI="popstate";function WZ(t){t===void 0&&(t={});function e(n,i){let{pathname:s,search:a,hash:o}=n.location;return sj("",{pathname:s,search:a,hash:o},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function r(n,i){return typeof i=="string"?i:gp(i)}return HZ(e,r,null,t)}function $t(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function tO(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function VZ(){return Math.random().toString(36).substr(2,8)}function vI(t,e){return{usr:t.state,key:t.key,idx:e}}function sj(t,e,r,n){return r===void 0&&(r=null),_d({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Mu(e):e,{state:r,key:e&&e.key||n||VZ()})}function gp(t){let{pathname:e="/",search:r="",hash:n=""}=t;return r&&r!=="?"&&(e+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function Mu(t){let e={};if(t){let r=t.indexOf("#");r>=0&&(e.hash=t.substr(r),t=t.substr(0,r));let n=t.indexOf("?");n>=0&&(e.search=t.substr(n),t=t.substr(0,n)),t&&(e.pathname=t)}return e}function HZ(t,e,r,n){n===void 0&&(n={});let{window:i=document.defaultView,v5Compat:s=!1}=n,a=i.history,o=sa.Pop,u=null,c=d();c==null&&(c=0,a.replaceState(_d({},a.state,{idx:c}),""));function d(){return(a.state||{idx:null}).idx}function h(){o=sa.Pop;let x=d(),g=x==null?null:x-c;c=x,u&&u({action:o,location:y.location,delta:g})}function f(x,g){o=sa.Push;let m=sj(y.location,x,g);c=d()+1;let w=vI(m,c),b=y.createHref(m);try{a.pushState(w,"",b)}catch(_){if(_ instanceof DOMException&&_.name==="DataCloneError")throw _;i.location.assign(b)}s&&u&&u({action:o,location:y.location,delta:1})}function p(x,g){o=sa.Replace;let m=sj(y.location,x,g);c=d();let w=vI(m,c),b=y.createHref(m);a.replaceState(w,"",b),s&&u&&u({action:o,location:y.location,delta:0})}function v(x){let g=i.location.origin!=="null"?i.location.origin:i.location.href,m=typeof x=="string"?x:gp(x);return m=m.replace(/ $/,"%20"),$t(g,"No window.location.(origin|href) available to create URL for href: "+m),new URL(m,g)}let y={get action(){return o},get location(){return t(i,a)},listen(x){if(u)throw new Error("A history only accepts one active listener");return i.addEventListener(mI,h),u=x,()=>{i.removeEventListener(mI,h),u=null}},createHref(x){return e(i,x)},createURL:v,encodeLocation(x){let g=v(x);return{pathname:g.pathname,search:g.search,hash:g.hash}},push:f,replace:p,go(x){return a.go(x)}};return y}var gI;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(gI||(gI={}));function KZ(t,e,r){return r===void 0&&(r="/"),GZ(t,e,r)}function GZ(t,e,r,n){let i=typeof e=="string"?Mu(e):e,s=yu(i.pathname||"/",r);if(s==null)return null;let a=wH(t);YZ(a);let o=null;for(let u=0;o==null&&u<a.length;++u){let c=aee(s);o=iee(a[u],c)}return o}function wH(t,e,r,n){e===void 0&&(e=[]),r===void 0&&(r=[]),n===void 0&&(n="");let i=(s,a,o)=>{let u={relativePath:o===void 0?s.path||"":o,caseSensitive:s.caseSensitive===!0,childrenIndex:a,route:s};u.relativePath.startsWith("/")&&($t(u.relativePath.startsWith(n),'Absolute route path "'+u.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),u.relativePath=u.relativePath.slice(n.length));let c=ma([n,u.relativePath]),d=r.concat(u);s.children&&s.children.length>0&&($t(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),wH(s.children,e,d,c)),!(s.path==null&&!s.index)&&e.push({path:c,score:ree(c,s.index),routesMeta:d})};return t.forEach((s,a)=>{var o;if(s.path===""||!((o=s.path)!=null&&o.includes("?")))i(s,a);else for(let u of _H(s.path))i(s,a,u)}),e}function _H(t){let e=t.split("/");if(e.length===0)return[];let[r,...n]=e,i=r.endsWith("?"),s=r.replace(/\?$/,"");if(n.length===0)return i?[s,""]:[s];let a=_H(n.join("/")),o=[];return o.push(...a.map(u=>u===""?s:[s,u].join("/"))),i&&o.push(...a),o.map(u=>t.startsWith("/")&&u===""?"/":u)}function YZ(t){t.sort((e,r)=>e.score!==r.score?r.score-e.score:nee(e.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const QZ=/^:[\w-]+$/,XZ=3,JZ=2,ZZ=1,eee=10,tee=-2,yI=t=>t==="*";function ree(t,e){let r=t.split("/"),n=r.length;return r.some(yI)&&(n+=tee),e&&(n+=JZ),r.filter(i=>!yI(i)).reduce((i,s)=>i+(QZ.test(s)?XZ:s===""?ZZ:eee),n)}function nee(t,e){return t.length===e.length&&t.slice(0,-1).every((n,i)=>n===e[i])?t[t.length-1]-e[e.length-1]:0}function iee(t,e,r){let{routesMeta:n}=t,i={},s="/",a=[];for(let o=0;o<n.length;++o){let u=n[o],c=o===n.length-1,d=s==="/"?e:e.slice(s.length)||"/",h=aj({path:u.relativePath,caseSensitive:u.caseSensitive,end:c},d),f=u.route;if(!h)return null;Object.assign(i,h.params),a.push({params:i,pathname:ma([s,h.pathname]),pathnameBase:dee(ma([s,h.pathnameBase])),route:f}),h.pathnameBase!=="/"&&(s=ma([s,h.pathnameBase]))}return a}function aj(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[r,n]=see(t.path,t.caseSensitive,t.end),i=e.match(r);if(!i)return null;let s=i[0],a=s.replace(/(.)\/+$/,"$1"),o=i.slice(1);return{params:n.reduce((c,d,h)=>{let{paramName:f,isOptional:p}=d;if(f==="*"){let y=o[h]||"";a=s.slice(0,s.length-y.length).replace(/(.)\/+$/,"$1")}const v=o[h];return p&&!v?c[f]=void 0:c[f]=(v||"").replace(/%2F/g,"/"),c},{}),pathname:s,pathnameBase:a,pattern:t}}function see(t,e,r){e===void 0&&(e=!1),r===void 0&&(r=!0),tO(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let n=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,o,u)=>(n.push({paramName:o,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(n.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),n]}function aee(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return tO(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function yu(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let r=e.endsWith("/")?e.length-1:e.length,n=t.charAt(r);return n&&n!=="/"?null:t.slice(r)||"/"}const oee=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,lee=t=>oee.test(t);function uee(t,e){e===void 0&&(e="/");let{pathname:r,search:n="",hash:i=""}=typeof t=="string"?Mu(t):t,s;if(r)if(lee(r))s=r;else{if(r.includes("//")){let a=r;r=r.replace(/\/\/+/g,"/"),tO(!1,"Pathnames cannot have embedded double slashes - normalizing "+(a+" -> "+r))}r.startsWith("/")?s=bI(r.substring(1),"/"):s=bI(r,e)}else s=e;return{pathname:s,search:hee(n),hash:fee(i)}}function bI(t,e){let r=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?r.length>1&&r.pop():i!=="."&&r.push(i)}),r.length>1?r.join("/"):"/"}function Tv(t,e,r,n){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function cee(t){return t.filter((e,r)=>r===0||e.route.path&&e.route.path.length>0)}function rO(t,e){let r=cee(t);return e?r.map((n,i)=>i===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function nO(t,e,r,n){n===void 0&&(n=!1);let i;typeof t=="string"?i=Mu(t):(i=_d({},t),$t(!i.pathname||!i.pathname.includes("?"),Tv("?","pathname","search",i)),$t(!i.pathname||!i.pathname.includes("#"),Tv("#","pathname","hash",i)),$t(!i.search||!i.search.includes("#"),Tv("#","search","hash",i)));let s=t===""||i.pathname==="",a=s?"/":i.pathname,o;if(a==null)o=r;else{let h=e.length-1;if(!n&&a.startsWith("..")){let f=a.split("/");for(;f[0]==="..";)f.shift(),h-=1;i.pathname=f.join("/")}o=h>=0?e[h]:"/"}let u=uee(i,o),c=a&&a!=="/"&&a.endsWith("/"),d=(s||a===".")&&r.endsWith("/");return!u.pathname.endsWith("/")&&(c||d)&&(u.pathname+="/"),u}const ma=t=>t.join("/").replace(/\/\/+/g,"/"),dee=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),hee=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,fee=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function pee(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const SH=["post","put","patch","delete"];new Set(SH);const mee=["get",...SH];new Set(mee);/**
 * React Router v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Sd(){return Sd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Sd.apply(this,arguments)}const am=T.createContext(null),EH=T.createContext(null),Ns=T.createContext(null),om=T.createContext(null),js=T.createContext({outlet:null,matches:[],isDataRoute:!1}),NH=T.createContext(null);function vee(t,e){let{relative:r}=e===void 0?{}:e;qu()||$t(!1);let{basename:n,navigator:i}=T.useContext(Ns),{hash:s,pathname:a,search:o}=lm(t,{relative:r}),u=a;return n!=="/"&&(u=a==="/"?n:ma([n,a])),i.createHref({pathname:u,search:o,hash:s})}function qu(){return T.useContext(om)!=null}function Cs(){return qu()||$t(!1),T.useContext(om).location}function jH(t){T.useContext(Ns).static||T.useLayoutEffect(t)}function qr(){let{isDataRoute:t}=T.useContext(js);return t?Tee():gee()}function gee(){qu()||$t(!1);let t=T.useContext(am),{basename:e,future:r,navigator:n}=T.useContext(Ns),{matches:i}=T.useContext(js),{pathname:s}=Cs(),a=JSON.stringify(rO(i,r.v7_relativeSplatPath)),o=T.useRef(!1);return jH(()=>{o.current=!0}),T.useCallback(function(c,d){if(d===void 0&&(d={}),!o.current)return;if(typeof c=="number"){n.go(c);return}let h=nO(c,JSON.parse(a),s,d.relative==="path");t==null&&e!=="/"&&(h.pathname=h.pathname==="/"?e:ma([e,h.pathname])),(d.replace?n.replace:n.push)(h,d.state,d)},[e,n,a,s,t])}function Fi(){let{matches:t}=T.useContext(js),e=t[t.length-1];return e?e.params:{}}function lm(t,e){let{relative:r}=e===void 0?{}:e,{future:n}=T.useContext(Ns),{matches:i}=T.useContext(js),{pathname:s}=Cs(),a=JSON.stringify(rO(i,n.v7_relativeSplatPath));return T.useMemo(()=>nO(t,JSON.parse(a),s,r==="path"),[t,a,s,r])}function yee(t,e){return bee(t,e)}function bee(t,e,r,n){qu()||$t(!1);let{navigator:i}=T.useContext(Ns),{matches:s}=T.useContext(js),a=s[s.length-1],o=a?a.params:{};a&&a.pathname;let u=a?a.pathnameBase:"/";a&&a.route;let c=Cs(),d;if(e){var h;let x=typeof e=="string"?Mu(e):e;u==="/"||(h=x.pathname)!=null&&h.startsWith(u)||$t(!1),d=x}else d=c;let f=d.pathname||"/",p=f;if(u!=="/"){let x=u.replace(/^\//,"").split("/");p="/"+f.replace(/^\//,"").split("/").slice(x.length).join("/")}let v=KZ(t,{pathname:p}),y=Eee(v&&v.map(x=>Object.assign({},x,{params:Object.assign({},o,x.params),pathname:ma([u,i.encodeLocation?i.encodeLocation(x.pathname).pathname:x.pathname]),pathnameBase:x.pathnameBase==="/"?u:ma([u,i.encodeLocation?i.encodeLocation(x.pathnameBase).pathname:x.pathnameBase])})),s,r,n);return e&&y?T.createElement(om.Provider,{value:{location:Sd({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:sa.Pop}},y):y}function xee(){let t=Oee(),e=pee(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),r=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return T.createElement(T.Fragment,null,T.createElement("h2",null,"Unexpected Application Error!"),T.createElement("h3",{style:{fontStyle:"italic"}},e),r?T.createElement("pre",{style:i},r):null,null)}const wee=T.createElement(xee,null);class _ee extends T.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,r){return r.location!==e.location||r.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:r.error,location:r.location,revalidation:e.revalidation||r.revalidation}}componentDidCatch(e,r){console.error("React Router caught the following error during render",e,r)}render(){return this.state.error!==void 0?T.createElement(js.Provider,{value:this.props.routeContext},T.createElement(NH.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function See(t){let{routeContext:e,match:r,children:n}=t,i=T.useContext(am);return i&&i.static&&i.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=r.route.id),T.createElement(js.Provider,{value:e},n)}function Eee(t,e,r,n){var i;if(e===void 0&&(e=[]),r===void 0&&(r=null),n===void 0&&(n=null),t==null){var s;if(!r)return null;if(r.errors)t=r.matches;else if((s=n)!=null&&s.v7_partialHydration&&e.length===0&&!r.initialized&&r.matches.length>0)t=r.matches;else return null}let a=t,o=(i=r)==null?void 0:i.errors;if(o!=null){let d=a.findIndex(h=>h.route.id&&(o==null?void 0:o[h.route.id])!==void 0);d>=0||$t(!1),a=a.slice(0,Math.min(a.length,d+1))}let u=!1,c=-1;if(r&&n&&n.v7_partialHydration)for(let d=0;d<a.length;d++){let h=a[d];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(c=d),h.route.id){let{loaderData:f,errors:p}=r,v=h.route.loader&&f[h.route.id]===void 0&&(!p||p[h.route.id]===void 0);if(h.route.lazy||v){u=!0,c>=0?a=a.slice(0,c+1):a=[a[0]];break}}}return a.reduceRight((d,h,f)=>{let p,v=!1,y=null,x=null;r&&(p=o&&h.route.id?o[h.route.id]:void 0,y=h.route.errorElement||wee,u&&(c<0&&f===0?(Pee("route-fallback"),v=!0,x=null):c===f&&(v=!0,x=h.route.hydrateFallbackElement||null)));let g=e.concat(a.slice(0,f+1)),m=()=>{let w;return p?w=y:v?w=x:h.route.Component?w=T.createElement(h.route.Component,null):h.route.element?w=h.route.element:w=d,T.createElement(See,{match:h,routeContext:{outlet:d,matches:g,isDataRoute:r!=null},children:w})};return r&&(h.route.ErrorBoundary||h.route.errorElement||f===0)?T.createElement(_ee,{location:r.location,revalidation:r.revalidation,component:y,error:p,children:m(),routeContext:{outlet:null,matches:g,isDataRoute:!0}}):m()},null)}var CH=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(CH||{}),OH=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(OH||{});function Nee(t){let e=T.useContext(am);return e||$t(!1),e}function jee(t){let e=T.useContext(EH);return e||$t(!1),e}function Cee(t){let e=T.useContext(js);return e||$t(!1),e}function TH(t){let e=Cee(),r=e.matches[e.matches.length-1];return r.route.id||$t(!1),r.route.id}function Oee(){var t;let e=T.useContext(NH),r=jee(),n=TH();return e!==void 0?e:(t=r.errors)==null?void 0:t[n]}function Tee(){let{router:t}=Nee(CH.UseNavigateStable),e=TH(OH.UseNavigateStable),r=T.useRef(!1);return jH(()=>{r.current=!0}),T.useCallback(function(i,s){s===void 0&&(s={}),r.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,Sd({fromRouteId:e},s)))},[t,e])}const xI={};function Pee(t,e,r){xI[t]||(xI[t]=!0)}function Iee(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function PH(t){let{to:e,replace:r,state:n,relative:i}=t;qu()||$t(!1);let{future:s,static:a}=T.useContext(Ns),{matches:o}=T.useContext(js),{pathname:u}=Cs(),c=qr(),d=nO(e,rO(o,s.v7_relativeSplatPath),u,i==="path"),h=JSON.stringify(d);return T.useEffect(()=>c(JSON.parse(h),{replace:r,state:n,relative:i}),[c,h,i,r,n]),null}function st(t){$t(!1)}function Ree(t){let{basename:e="/",children:r=null,location:n,navigationType:i=sa.Pop,navigator:s,static:a=!1,future:o}=t;qu()&&$t(!1);let u=e.replace(/^\/*/,"/"),c=T.useMemo(()=>({basename:u,navigator:s,static:a,future:Sd({v7_relativeSplatPath:!1},o)}),[u,o,s,a]);typeof n=="string"&&(n=Mu(n));let{pathname:d="/",search:h="",hash:f="",state:p=null,key:v="default"}=n,y=T.useMemo(()=>{let x=yu(d,u);return x==null?null:{location:{pathname:x,search:h,hash:f,state:p,key:v},navigationType:i}},[u,d,h,f,p,v,i]);return y==null?null:T.createElement(Ns.Provider,{value:c},T.createElement(om.Provider,{children:r,value:y}))}function wI(t){let{children:e,location:r}=t;return yee(oj(e),r)}new Promise(()=>{});function oj(t,e){e===void 0&&(e=[]);let r=[];return T.Children.forEach(t,(n,i)=>{if(!T.isValidElement(n))return;let s=[...e,i];if(n.type===T.Fragment){r.push.apply(r,oj(n.props.children,s));return}n.type!==st&&$t(!1),!n.props.index||!n.props.children||$t(!1);let a={id:n.props.id||s.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(a.children=oj(n.props.children,s)),r.push(a)}),r}/**
 * React Router DOM v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function yp(){return yp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},yp.apply(this,arguments)}function IH(t,e){if(t==null)return{};var r={},n=Object.keys(t),i,s;for(s=0;s<n.length;s++)i=n[s],!(e.indexOf(i)>=0)&&(r[i]=t[i]);return r}function $ee(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function kee(t,e){return t.button===0&&(!e||e==="_self")&&!$ee(t)}function lj(t){return t===void 0&&(t=""),new URLSearchParams(typeof t=="string"||Array.isArray(t)||t instanceof URLSearchParams?t:Object.keys(t).reduce((e,r)=>{let n=t[r];return e.concat(Array.isArray(n)?n.map(i=>[r,i]):[[r,n]])},[]))}function Dee(t,e){let r=lj(t);return e&&e.forEach((n,i)=>{r.has(i)||e.getAll(i).forEach(s=>{r.append(i,s)})}),r}const Mee=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],qee=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],Aee="6";try{window.__reactRouterVersion=Aee}catch{}const Fee=T.createContext({isTransitioning:!1}),Lee="startTransition",_I=RX[Lee];function Bee(t){let{basename:e,children:r,future:n,window:i}=t,s=T.useRef();s.current==null&&(s.current=WZ({window:i,v5Compat:!0}));let a=s.current,[o,u]=T.useState({action:a.action,location:a.location}),{v7_startTransition:c}=n||{},d=T.useCallback(h=>{c&&_I?_I(()=>u(h)):u(h)},[u,c]);return T.useLayoutEffect(()=>a.listen(d),[a,d]),T.useEffect(()=>Iee(n),[n]),T.createElement(Ree,{basename:e,children:r,location:o.location,navigationType:o.action,navigator:a,future:n})}const zee=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Uee=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,oe=T.forwardRef(function(e,r){let{onClick:n,relative:i,reloadDocument:s,replace:a,state:o,target:u,to:c,preventScrollReset:d,viewTransition:h}=e,f=IH(e,Mee),{basename:p}=T.useContext(Ns),v,y=!1;if(typeof c=="string"&&Uee.test(c)&&(v=c,zee))try{let w=new URL(window.location.href),b=c.startsWith("//")?new URL(w.protocol+c):new URL(c),_=yu(b.pathname,p);b.origin===w.origin&&_!=null?c=_+b.search+b.hash:y=!0}catch{}let x=vee(c,{relative:i}),g=Hee(c,{replace:a,state:o,target:u,preventScrollReset:d,relative:i,viewTransition:h});function m(w){n&&n(w),w.defaultPrevented||g(w)}return T.createElement("a",yp({},f,{href:v||x,onClick:y||s?n:m,ref:r,target:u}))}),Wee=T.forwardRef(function(e,r){let{"aria-current":n="page",caseSensitive:i=!1,className:s="",end:a=!1,style:o,to:u,viewTransition:c,children:d}=e,h=IH(e,qee),f=lm(u,{relative:h.relative}),p=Cs(),v=T.useContext(EH),{navigator:y,basename:x}=T.useContext(Ns),g=v!=null&&Kee(f)&&c===!0,m=y.encodeLocation?y.encodeLocation(f).pathname:f.pathname,w=p.pathname,b=v&&v.navigation&&v.navigation.location?v.navigation.location.pathname:null;i||(w=w.toLowerCase(),b=b?b.toLowerCase():null,m=m.toLowerCase()),b&&x&&(b=yu(b,x)||b);const _=m!=="/"&&m.endsWith("/")?m.length-1:m.length;let E=w===m||!a&&w.startsWith(m)&&w.charAt(_)==="/",j=b!=null&&(b===m||!a&&b.startsWith(m)&&b.charAt(m.length)==="/"),S={isActive:E,isPending:j,isTransitioning:g},C=E?n:void 0,N;typeof s=="function"?N=s(S):N=[s,E?"active":null,j?"pending":null,g?"transitioning":null].filter(Boolean).join(" ");let O=typeof o=="function"?o(S):o;return T.createElement(oe,yp({},h,{"aria-current":C,className:N,ref:r,style:O,to:u,viewTransition:c}),typeof d=="function"?d(S):d)});var uj;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(uj||(uj={}));var SI;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(SI||(SI={}));function Vee(t){let e=T.useContext(am);return e||$t(!1),e}function Hee(t,e){let{target:r,replace:n,state:i,preventScrollReset:s,relative:a,viewTransition:o}=e===void 0?{}:e,u=qr(),c=Cs(),d=lm(t,{relative:a});return T.useCallback(h=>{if(kee(h,r)){h.preventDefault();let f=n!==void 0?n:gp(c)===gp(d);u(t,{replace:f,state:i,preventScrollReset:s,relative:a,viewTransition:o})}},[c,u,d,n,i,r,t,s,a,o])}function iO(t){let e=T.useRef(lj(t)),r=T.useRef(!1),n=Cs(),i=T.useMemo(()=>Dee(n.search,r.current?null:e.current),[n.search]),s=qr(),a=T.useCallback((o,u)=>{const c=lj(typeof o=="function"?o(i):o);r.current=!0,s("?"+c,u)},[s,i]);return[i,a]}function Kee(t,e){e===void 0&&(e={});let r=T.useContext(Fee);r==null&&$t(!1);let{basename:n}=Vee(uj.useViewTransitionState),i=lm(t,{relative:e.relative});if(!r.isTransitioning)return!1;let s=yu(r.currentLocation.pathname,n)||r.currentLocation.pathname,a=yu(r.nextLocation.pathname,n)||r.nextLocation.pathname;return aj(i.pathname,a)!=null||aj(i.pathname,s)!=null}var Vo=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Gee={setTimeout:(t,e)=>setTimeout(t,e),clearTimeout:t=>clearTimeout(t),setInterval:(t,e)=>setInterval(t,e),clearInterval:t=>clearInterval(t)},Ks,aC,X9,Yee=(X9=class{constructor(){ge(this,Ks,Gee);ge(this,aC,!1)}setTimeoutProvider(t){ie(this,Ks,t)}setTimeout(t,e){return R(this,Ks).setTimeout(t,e)}clearTimeout(t){R(this,Ks).clearTimeout(t)}setInterval(t,e){return R(this,Ks).setInterval(t,e)}clearInterval(t){R(this,Ks).clearInterval(t)}},Ks=new WeakMap,aC=new WeakMap,X9),Qa=new Yee;function Qee(t){setTimeout(t,0)}var Oo=typeof window>"u"||"Deno"in globalThis;function Rr(){}function Xee(t,e){return typeof t=="function"?t(e):t}function cj(t){return typeof t=="number"&&t>=0&&t!==1/0}function RH(t,e){return Math.max(t+(e||0)-Date.now(),0)}function va(t,e){return typeof t=="function"?t(e):t}function An(t,e){return typeof t=="function"?t(e):t}function EI(t,e){const{type:r="all",exact:n,fetchStatus:i,predicate:s,queryKey:a,stale:o}=t;if(a){if(n){if(e.queryHash!==sO(a,e.options))return!1}else if(!Ed(e.queryKey,a))return!1}if(r!=="all"){const u=e.isActive();if(r==="active"&&!u||r==="inactive"&&u)return!1}return!(typeof o=="boolean"&&e.isStale()!==o||i&&i!==e.state.fetchStatus||s&&!s(e))}function NI(t,e){const{exact:r,status:n,predicate:i,mutationKey:s}=t;if(s){if(!e.options.mutationKey)return!1;if(r){if(To(e.options.mutationKey)!==To(s))return!1}else if(!Ed(e.options.mutationKey,s))return!1}return!(n&&e.state.status!==n||i&&!i(e))}function sO(t,e){return((e==null?void 0:e.queryKeyHashFn)||To)(t)}function To(t){return JSON.stringify(t,(e,r)=>dj(r)?Object.keys(r).sort().reduce((n,i)=>(n[i]=r[i],n),{}):r)}function Ed(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?Object.keys(e).every(r=>Ed(t[r],e[r])):!1}var Jee=Object.prototype.hasOwnProperty;function aO(t,e){if(t===e)return t;const r=jI(t)&&jI(e);if(!r&&!(dj(t)&&dj(e)))return e;const i=(r?t:Object.keys(t)).length,s=r?e:Object.keys(e),a=s.length,o=r?new Array(a):{};let u=0;for(let c=0;c<a;c++){const d=r?c:s[c],h=t[d],f=e[d];if(h===f){o[d]=h,(r?c<i:Jee.call(t,d))&&u++;continue}if(h===null||f===null||typeof h!="object"||typeof f!="object"){o[d]=f;continue}const p=aO(h,f);o[d]=p,p===h&&u++}return i===a&&u===i?t:o}function Nd(t,e){if(!e||Object.keys(t).length!==Object.keys(e).length)return!1;for(const r in t)if(t[r]!==e[r])return!1;return!0}function jI(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function dj(t){if(!CI(t))return!1;const e=t.constructor;if(e===void 0)return!0;const r=e.prototype;return!(!CI(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function CI(t){return Object.prototype.toString.call(t)==="[object Object]"}function Zee(t){return new Promise(e=>{Qa.setTimeout(e,t)})}function hj(t,e,r){return typeof r.structuralSharing=="function"?r.structuralSharing(t,e):r.structuralSharing!==!1?aO(t,e):e}function ete(t,e,r=0){const n=[...t,e];return r&&n.length>r?n.slice(1):n}function tte(t,e,r=0){const n=[e,...t];return r&&n.length>r?n.slice(0,-1):n}var oO=Symbol();function $H(t,e){return!t.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!t.queryFn||t.queryFn===oO?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}function lO(t,e){return typeof t=="function"?t(...e):!!t}function rte(t,e,r){let n=!1,i;return Object.defineProperty(t,"signal",{enumerable:!0,get:()=>(i??(i=e()),n||(n=!0,i.aborted?r():i.addEventListener("abort",r,{once:!0})),i)}),t}var no,Gs,Ql,J9,nte=(J9=class extends Vo{constructor(){super();ge(this,no);ge(this,Gs);ge(this,Ql);ie(this,Ql,e=>{if(!Oo&&window.addEventListener){const r=()=>e();return window.addEventListener("visibilitychange",r,!1),()=>{window.removeEventListener("visibilitychange",r)}}})}onSubscribe(){R(this,Gs)||this.setEventListener(R(this,Ql))}onUnsubscribe(){var e;this.hasListeners()||((e=R(this,Gs))==null||e.call(this),ie(this,Gs,void 0))}setEventListener(e){var r;ie(this,Ql,e),(r=R(this,Gs))==null||r.call(this),ie(this,Gs,e(n=>{typeof n=="boolean"?this.setFocused(n):this.onFocus()}))}setFocused(e){R(this,no)!==e&&(ie(this,no,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(r=>{r(e)})}isFocused(){var e;return typeof R(this,no)=="boolean"?R(this,no):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},no=new WeakMap,Gs=new WeakMap,Ql=new WeakMap,J9),uO=new nte;function fj(){let t,e;const r=new Promise((i,s)=>{t=i,e=s});r.status="pending",r.catch(()=>{});function n(i){Object.assign(r,i),delete r.resolve,delete r.reject}return r.resolve=i=>{n({status:"fulfilled",value:i}),t(i)},r.reject=i=>{n({status:"rejected",reason:i}),e(i)},r}var ite=Qee;function ste(){let t=[],e=0,r=o=>{o()},n=o=>{o()},i=ite;const s=o=>{e?t.push(o):i(()=>{r(o)})},a=()=>{const o=t;t=[],o.length&&i(()=>{n(()=>{o.forEach(u=>{r(u)})})})};return{batch:o=>{let u;e++;try{u=o()}finally{e--,e||a()}return u},batchCalls:o=>(...u)=>{s(()=>{o(...u)})},schedule:s,setNotifyFunction:o=>{r=o},setBatchNotifyFunction:o=>{n=o},setScheduler:o=>{i=o}}}var Wt=ste(),Xl,Ys,Jl,Z9,ate=(Z9=class extends Vo{constructor(){super();ge(this,Xl,!0);ge(this,Ys);ge(this,Jl);ie(this,Jl,e=>{if(!Oo&&window.addEventListener){const r=()=>e(!0),n=()=>e(!1);return window.addEventListener("online",r,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",r),window.removeEventListener("offline",n)}}})}onSubscribe(){R(this,Ys)||this.setEventListener(R(this,Jl))}onUnsubscribe(){var e;this.hasListeners()||((e=R(this,Ys))==null||e.call(this),ie(this,Ys,void 0))}setEventListener(e){var r;ie(this,Jl,e),(r=R(this,Ys))==null||r.call(this),ie(this,Ys,e(this.setOnline.bind(this)))}setOnline(e){R(this,Xl)!==e&&(ie(this,Xl,e),this.listeners.forEach(n=>{n(e)}))}isOnline(){return R(this,Xl)}},Xl=new WeakMap,Ys=new WeakMap,Jl=new WeakMap,Z9),bp=new ate;function ote(t){return Math.min(1e3*2**t,3e4)}function kH(t){return(t??"online")==="online"?bp.isOnline():!0}var pj=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function DH(t){let e=!1,r=0,n;const i=fj(),s=()=>i.status!=="pending",a=y=>{var x;if(!s()){const g=new pj(y);f(g),(x=t.onCancel)==null||x.call(t,g)}},o=()=>{e=!0},u=()=>{e=!1},c=()=>uO.isFocused()&&(t.networkMode==="always"||bp.isOnline())&&t.canRun(),d=()=>kH(t.networkMode)&&t.canRun(),h=y=>{s()||(n==null||n(),i.resolve(y))},f=y=>{s()||(n==null||n(),i.reject(y))},p=()=>new Promise(y=>{var x;n=g=>{(s()||c())&&y(g)},(x=t.onPause)==null||x.call(t)}).then(()=>{var y;n=void 0,s()||(y=t.onContinue)==null||y.call(t)}),v=()=>{if(s())return;let y;const x=r===0?t.initialPromise:void 0;try{y=x??t.fn()}catch(g){y=Promise.reject(g)}Promise.resolve(y).then(h).catch(g=>{var E;if(s())return;const m=t.retry??(Oo?0:3),w=t.retryDelay??ote,b=typeof w=="function"?w(r,g):w,_=m===!0||typeof m=="number"&&r<m||typeof m=="function"&&m(r,g);if(e||!_){f(g);return}r++,(E=t.onFail)==null||E.call(t,r,g),Zee(b).then(()=>c()?void 0:p()).then(()=>{e?f(g):v()})})};return{promise:i,status:()=>i.status,cancel:a,continue:()=>(n==null||n(),i),cancelRetry:o,continueRetry:u,canStart:d,start:()=>(d()?v():p().then(v),i)}}var io,eW,MH=(eW=class{constructor(){ge(this,io)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),cj(this.gcTime)&&ie(this,io,Qa.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(Oo?1/0:5*60*1e3))}clearGcTimeout(){R(this,io)&&(Qa.clearTimeout(R(this,io)),ie(this,io,void 0))}},io=new WeakMap,eW),so,Zl,Mn,ao,fr,Fd,oo,ii,Gi,tW,lte=(tW=class extends MH{constructor(e){super();ge(this,ii);ge(this,so);ge(this,Zl);ge(this,Mn);ge(this,ao);ge(this,fr);ge(this,Fd);ge(this,oo);ie(this,oo,!1),ie(this,Fd,e.defaultOptions),this.setOptions(e.options),this.observers=[],ie(this,ao,e.client),ie(this,Mn,R(this,ao).getQueryCache()),this.queryKey=e.queryKey,this.queryHash=e.queryHash,ie(this,so,TI(this.options)),this.state=e.state??R(this,so),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var e;return(e=R(this,fr))==null?void 0:e.promise}setOptions(e){if(this.options={...R(this,Fd),...e},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const r=TI(this.options);r.data!==void 0&&(this.setState(OI(r.data,r.dataUpdatedAt)),ie(this,so,r))}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&R(this,Mn).remove(this)}setData(e,r){const n=hj(this.state.data,e,this.options);return Pe(this,ii,Gi).call(this,{data:n,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),n}setState(e,r){Pe(this,ii,Gi).call(this,{type:"setState",state:e,setStateOptions:r})}cancel(e){var n,i;const r=(n=R(this,fr))==null?void 0:n.promise;return(i=R(this,fr))==null||i.cancel(e),r?r.then(Rr).catch(Rr):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(R(this,so))}isActive(){return this.observers.some(e=>An(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===oO||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(e=>va(e.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(e=0){return this.state.data===void 0?!0:e==="static"?!1:this.state.isInvalidated?!0:!RH(this.state.dataUpdatedAt,e)}onFocus(){var r;const e=this.observers.find(n=>n.shouldFetchOnWindowFocus());e==null||e.refetch({cancelRefetch:!1}),(r=R(this,fr))==null||r.continue()}onOnline(){var r;const e=this.observers.find(n=>n.shouldFetchOnReconnect());e==null||e.refetch({cancelRefetch:!1}),(r=R(this,fr))==null||r.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),R(this,Mn).notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(r=>r!==e),this.observers.length||(R(this,fr)&&(R(this,oo)?R(this,fr).cancel({revert:!0}):R(this,fr).cancelRetry()),this.scheduleGc()),R(this,Mn).notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||Pe(this,ii,Gi).call(this,{type:"invalidate"})}async fetch(e,r){var u,c,d,h,f,p,v,y,x,g,m,w;if(this.state.fetchStatus!=="idle"&&((u=R(this,fr))==null?void 0:u.status())!=="rejected"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(R(this,fr))return R(this,fr).continueRetry(),R(this,fr).promise}if(e&&this.setOptions(e),!this.options.queryFn){const b=this.observers.find(_=>_.options.queryFn);b&&this.setOptions(b.options)}const n=new AbortController,i=b=>{Object.defineProperty(b,"signal",{enumerable:!0,get:()=>(ie(this,oo,!0),n.signal)})},s=()=>{const b=$H(this.options,r),E=(()=>{const j={client:R(this,ao),queryKey:this.queryKey,meta:this.meta};return i(j),j})();return ie(this,oo,!1),this.options.persister?this.options.persister(b,E,this):b(E)},o=(()=>{const b={fetchOptions:r,options:this.options,queryKey:this.queryKey,client:R(this,ao),state:this.state,fetchFn:s};return i(b),b})();(c=this.options.behavior)==null||c.onFetch(o,this),ie(this,Zl,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((d=o.fetchOptions)==null?void 0:d.meta))&&Pe(this,ii,Gi).call(this,{type:"fetch",meta:(h=o.fetchOptions)==null?void 0:h.meta}),ie(this,fr,DH({initialPromise:r==null?void 0:r.initialPromise,fn:o.fetchFn,onCancel:b=>{b instanceof pj&&b.revert&&this.setState({...R(this,Zl),fetchStatus:"idle"}),n.abort()},onFail:(b,_)=>{Pe(this,ii,Gi).call(this,{type:"failed",failureCount:b,error:_})},onPause:()=>{Pe(this,ii,Gi).call(this,{type:"pause"})},onContinue:()=>{Pe(this,ii,Gi).call(this,{type:"continue"})},retry:o.options.retry,retryDelay:o.options.retryDelay,networkMode:o.options.networkMode,canRun:()=>!0}));try{const b=await R(this,fr).start();if(b===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(b),(p=(f=R(this,Mn).config).onSuccess)==null||p.call(f,b,this),(y=(v=R(this,Mn).config).onSettled)==null||y.call(v,b,this.state.error,this),b}catch(b){if(b instanceof pj){if(b.silent)return R(this,fr).promise;if(b.revert){if(this.state.data===void 0)throw b;return this.state.data}}throw Pe(this,ii,Gi).call(this,{type:"error",error:b}),(g=(x=R(this,Mn).config).onError)==null||g.call(x,b,this),(w=(m=R(this,Mn).config).onSettled)==null||w.call(m,this.state.data,b,this),b}finally{this.scheduleGc()}}},so=new WeakMap,Zl=new WeakMap,Mn=new WeakMap,ao=new WeakMap,fr=new WeakMap,Fd=new WeakMap,oo=new WeakMap,ii=new WeakSet,Gi=function(e){const r=n=>{switch(e.type){case"failed":return{...n,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...qH(n.data,this.options),fetchMeta:e.meta??null};case"success":const i={...n,...OI(e.data,e.dataUpdatedAt),dataUpdateCount:n.dataUpdateCount+1,...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return ie(this,Zl,e.manual?i:void 0),i;case"error":const s=e.error;return{...n,error:s,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:s,fetchStatus:"idle",status:"error",isInvalidated:!0};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...e.state}}};this.state=r(this.state),Wt.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),R(this,Mn).notify({query:this,type:"updated",action:e})})},tW);function qH(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:kH(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function OI(t,e){return{data:t,dataUpdatedAt:e??Date.now(),error:null,isInvalidated:!1,status:"success"}}function TI(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,r=e!==void 0,n=r?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:r?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var en,Ye,Ld,Ar,lo,eu,Xi,Qs,Bd,tu,ru,uo,co,Xs,nu,at,qc,mj,vj,gj,yj,bj,xj,wj,AH,rW,cO=(rW=class extends Vo{constructor(e,r){super();ge(this,at);ge(this,en);ge(this,Ye);ge(this,Ld);ge(this,Ar);ge(this,lo);ge(this,eu);ge(this,Xi);ge(this,Qs);ge(this,Bd);ge(this,tu);ge(this,ru);ge(this,uo);ge(this,co);ge(this,Xs);ge(this,nu,new Set);this.options=r,ie(this,en,e),ie(this,Qs,null),ie(this,Xi,fj()),this.bindMethods(),this.setOptions(r)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(R(this,Ye).addObserver(this),PI(R(this,Ye),this.options)?Pe(this,at,qc).call(this):this.updateResult(),Pe(this,at,yj).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return _j(R(this,Ye),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return _j(R(this,Ye),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,Pe(this,at,bj).call(this),Pe(this,at,xj).call(this),R(this,Ye).removeObserver(this)}setOptions(e){const r=this.options,n=R(this,Ye);if(this.options=R(this,en).defaultQueryOptions(e),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof An(this.options.enabled,R(this,Ye))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");Pe(this,at,wj).call(this),R(this,Ye).setOptions(this.options),r._defaulted&&!Nd(this.options,r)&&R(this,en).getQueryCache().notify({type:"observerOptionsUpdated",query:R(this,Ye),observer:this});const i=this.hasListeners();i&&II(R(this,Ye),n,this.options,r)&&Pe(this,at,qc).call(this),this.updateResult(),i&&(R(this,Ye)!==n||An(this.options.enabled,R(this,Ye))!==An(r.enabled,R(this,Ye))||va(this.options.staleTime,R(this,Ye))!==va(r.staleTime,R(this,Ye)))&&Pe(this,at,mj).call(this);const s=Pe(this,at,vj).call(this);i&&(R(this,Ye)!==n||An(this.options.enabled,R(this,Ye))!==An(r.enabled,R(this,Ye))||s!==R(this,Xs))&&Pe(this,at,gj).call(this,s)}getOptimisticResult(e){const r=R(this,en).getQueryCache().build(R(this,en),e),n=this.createResult(r,e);return cte(this,n)&&(ie(this,Ar,n),ie(this,eu,this.options),ie(this,lo,R(this,Ye).state)),n}getCurrentResult(){return R(this,Ar)}trackResult(e,r){return new Proxy(e,{get:(n,i)=>(this.trackProp(i),r==null||r(i),i==="promise"&&(this.trackProp("data"),!this.options.experimental_prefetchInRender&&R(this,Xi).status==="pending"&&R(this,Xi).reject(new Error("experimental_prefetchInRender feature flag is not enabled"))),Reflect.get(n,i))})}trackProp(e){R(this,nu).add(e)}getCurrentQuery(){return R(this,Ye)}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){const r=R(this,en).defaultQueryOptions(e),n=R(this,en).getQueryCache().build(R(this,en),r);return n.fetch().then(()=>this.createResult(n,r))}fetch(e){return Pe(this,at,qc).call(this,{...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),R(this,Ar)))}createResult(e,r){var C;const n=R(this,Ye),i=this.options,s=R(this,Ar),a=R(this,lo),o=R(this,eu),c=e!==n?e.state:R(this,Ld),{state:d}=e;let h={...d},f=!1,p;if(r._optimisticResults){const N=this.hasListeners(),O=!N&&PI(e,r),P=N&&II(e,n,r,i);(O||P)&&(h={...h,...qH(d.data,e.options)}),r._optimisticResults==="isRestoring"&&(h.fetchStatus="idle")}let{error:v,errorUpdatedAt:y,status:x}=h;p=h.data;let g=!1;if(r.placeholderData!==void 0&&p===void 0&&x==="pending"){let N;s!=null&&s.isPlaceholderData&&r.placeholderData===(o==null?void 0:o.placeholderData)?(N=s.data,g=!0):N=typeof r.placeholderData=="function"?r.placeholderData((C=R(this,ru))==null?void 0:C.state.data,R(this,ru)):r.placeholderData,N!==void 0&&(x="success",p=hj(s==null?void 0:s.data,N,r),f=!0)}if(r.select&&p!==void 0&&!g)if(s&&p===(a==null?void 0:a.data)&&r.select===R(this,Bd))p=R(this,tu);else try{ie(this,Bd,r.select),p=r.select(p),p=hj(s==null?void 0:s.data,p,r),ie(this,tu,p),ie(this,Qs,null)}catch(N){ie(this,Qs,N)}R(this,Qs)&&(v=R(this,Qs),p=R(this,tu),y=Date.now(),x="error");const m=h.fetchStatus==="fetching",w=x==="pending",b=x==="error",_=w&&m,E=p!==void 0,S={status:x,fetchStatus:h.fetchStatus,isPending:w,isSuccess:x==="success",isError:b,isInitialLoading:_,isLoading:_,data:p,dataUpdatedAt:h.dataUpdatedAt,error:v,errorUpdatedAt:y,failureCount:h.fetchFailureCount,failureReason:h.fetchFailureReason,errorUpdateCount:h.errorUpdateCount,isFetched:h.dataUpdateCount>0||h.errorUpdateCount>0,isFetchedAfterMount:h.dataUpdateCount>c.dataUpdateCount||h.errorUpdateCount>c.errorUpdateCount,isFetching:m,isRefetching:m&&!w,isLoadingError:b&&!E,isPaused:h.fetchStatus==="paused",isPlaceholderData:f,isRefetchError:b&&E,isStale:dO(e,r),refetch:this.refetch,promise:R(this,Xi),isEnabled:An(r.enabled,e)!==!1};if(this.options.experimental_prefetchInRender){const N=I=>{S.status==="error"?I.reject(S.error):S.data!==void 0&&I.resolve(S.data)},O=()=>{const I=ie(this,Xi,S.promise=fj());N(I)},P=R(this,Xi);switch(P.status){case"pending":e.queryHash===n.queryHash&&N(P);break;case"fulfilled":(S.status==="error"||S.data!==P.value)&&O();break;case"rejected":(S.status!=="error"||S.error!==P.reason)&&O();break}}return S}updateResult(){const e=R(this,Ar),r=this.createResult(R(this,Ye),this.options);if(ie(this,lo,R(this,Ye).state),ie(this,eu,this.options),R(this,lo).data!==void 0&&ie(this,ru,R(this,Ye)),Nd(r,e))return;ie(this,Ar,r);const n=()=>{if(!e)return!0;const{notifyOnChangeProps:i}=this.options,s=typeof i=="function"?i():i;if(s==="all"||!s&&!R(this,nu).size)return!0;const a=new Set(s??R(this,nu));return this.options.throwOnError&&a.add("error"),Object.keys(R(this,Ar)).some(o=>{const u=o;return R(this,Ar)[u]!==e[u]&&a.has(u)})};Pe(this,at,AH).call(this,{listeners:n()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&Pe(this,at,yj).call(this)}},en=new WeakMap,Ye=new WeakMap,Ld=new WeakMap,Ar=new WeakMap,lo=new WeakMap,eu=new WeakMap,Xi=new WeakMap,Qs=new WeakMap,Bd=new WeakMap,tu=new WeakMap,ru=new WeakMap,uo=new WeakMap,co=new WeakMap,Xs=new WeakMap,nu=new WeakMap,at=new WeakSet,qc=function(e){Pe(this,at,wj).call(this);let r=R(this,Ye).fetch(this.options,e);return e!=null&&e.throwOnError||(r=r.catch(Rr)),r},mj=function(){Pe(this,at,bj).call(this);const e=va(this.options.staleTime,R(this,Ye));if(Oo||R(this,Ar).isStale||!cj(e))return;const n=RH(R(this,Ar).dataUpdatedAt,e)+1;ie(this,uo,Qa.setTimeout(()=>{R(this,Ar).isStale||this.updateResult()},n))},vj=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(R(this,Ye)):this.options.refetchInterval)??!1},gj=function(e){Pe(this,at,xj).call(this),ie(this,Xs,e),!(Oo||An(this.options.enabled,R(this,Ye))===!1||!cj(R(this,Xs))||R(this,Xs)===0)&&ie(this,co,Qa.setInterval(()=>{(this.options.refetchIntervalInBackground||uO.isFocused())&&Pe(this,at,qc).call(this)},R(this,Xs)))},yj=function(){Pe(this,at,mj).call(this),Pe(this,at,gj).call(this,Pe(this,at,vj).call(this))},bj=function(){R(this,uo)&&(Qa.clearTimeout(R(this,uo)),ie(this,uo,void 0))},xj=function(){R(this,co)&&(Qa.clearInterval(R(this,co)),ie(this,co,void 0))},wj=function(){const e=R(this,en).getQueryCache().build(R(this,en),this.options);if(e===R(this,Ye))return;const r=R(this,Ye);ie(this,Ye,e),ie(this,Ld,e.state),this.hasListeners()&&(r==null||r.removeObserver(this),e.addObserver(this))},AH=function(e){Wt.batch(()=>{e.listeners&&this.listeners.forEach(r=>{r(R(this,Ar))}),R(this,en).getQueryCache().notify({query:R(this,Ye),type:"observerResultsUpdated"})})},rW);function ute(t,e){return An(e.enabled,t)!==!1&&t.state.data===void 0&&!(t.state.status==="error"&&e.retryOnMount===!1)}function PI(t,e){return ute(t,e)||t.state.data!==void 0&&_j(t,e,e.refetchOnMount)}function _j(t,e,r){if(An(e.enabled,t)!==!1&&va(e.staleTime,t)!=="static"){const n=typeof r=="function"?r(t):r;return n==="always"||n!==!1&&dO(t,e)}return!1}function II(t,e,r,n){return(t!==e||An(n.enabled,t)===!1)&&(!r.suspense||t.state.status!=="error")&&dO(t,r)}function dO(t,e){return An(e.enabled,t)!==!1&&t.isStaleByTime(va(e.staleTime,t))}function cte(t,e){return!Nd(t.getCurrentResult(),e)}function RI(t){return{onFetch:(e,r)=>{var d,h,f,p,v;const n=e.options,i=(f=(h=(d=e.fetchOptions)==null?void 0:d.meta)==null?void 0:h.fetchMore)==null?void 0:f.direction,s=((p=e.state.data)==null?void 0:p.pages)||[],a=((v=e.state.data)==null?void 0:v.pageParams)||[];let o={pages:[],pageParams:[]},u=0;const c=async()=>{let y=!1;const x=w=>{rte(w,()=>e.signal,()=>y=!0)},g=$H(e.options,e.fetchOptions),m=async(w,b,_)=>{if(y)return Promise.reject();if(b==null&&w.pages.length)return Promise.resolve(w);const j=(()=>{const O={client:e.client,queryKey:e.queryKey,pageParam:b,direction:_?"backward":"forward",meta:e.options.meta};return x(O),O})(),S=await g(j),{maxPages:C}=e.options,N=_?tte:ete;return{pages:N(w.pages,S,C),pageParams:N(w.pageParams,b,C)}};if(i&&s.length){const w=i==="backward",b=w?dte:$I,_={pages:s,pageParams:a},E=b(n,_);o=await m(_,E,w)}else{const w=t??s.length;do{const b=u===0?a[0]??n.initialPageParam:$I(n,o);if(u>0&&b==null)break;o=await m(o,b),u++}while(u<w)}return o};e.options.persister?e.fetchFn=()=>{var y,x;return(x=(y=e.options).persister)==null?void 0:x.call(y,c,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},r)}:e.fetchFn=c}}}function $I(t,{pages:e,pageParams:r}){const n=e.length-1;return e.length>0?t.getNextPageParam(e[n],e,r[n],r):void 0}function dte(t,{pages:e,pageParams:r}){var n;return e.length>0?(n=t.getPreviousPageParam)==null?void 0:n.call(t,e[0],e,r[0],r):void 0}var zd,Ni,Fr,ho,ji,As,nW,hte=(nW=class extends MH{constructor(e){super();ge(this,ji);ge(this,zd);ge(this,Ni);ge(this,Fr);ge(this,ho);ie(this,zd,e.client),this.mutationId=e.mutationId,ie(this,Fr,e.mutationCache),ie(this,Ni,[]),this.state=e.state||FH(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){R(this,Ni).includes(e)||(R(this,Ni).push(e),this.clearGcTimeout(),R(this,Fr).notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){ie(this,Ni,R(this,Ni).filter(r=>r!==e)),this.scheduleGc(),R(this,Fr).notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){R(this,Ni).length||(this.state.status==="pending"?this.scheduleGc():R(this,Fr).remove(this))}continue(){var e;return((e=R(this,ho))==null?void 0:e.continue())??this.execute(this.state.variables)}async execute(e){var a,o,u,c,d,h,f,p,v,y,x,g,m,w,b,_,E,j,S,C;const r=()=>{Pe(this,ji,As).call(this,{type:"continue"})},n={client:R(this,zd),meta:this.options.meta,mutationKey:this.options.mutationKey};ie(this,ho,DH({fn:()=>this.options.mutationFn?this.options.mutationFn(e,n):Promise.reject(new Error("No mutationFn found")),onFail:(N,O)=>{Pe(this,ji,As).call(this,{type:"failed",failureCount:N,error:O})},onPause:()=>{Pe(this,ji,As).call(this,{type:"pause"})},onContinue:r,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>R(this,Fr).canRun(this)}));const i=this.state.status==="pending",s=!R(this,ho).canStart();try{if(i)r();else{Pe(this,ji,As).call(this,{type:"pending",variables:e,isPaused:s}),await((o=(a=R(this,Fr).config).onMutate)==null?void 0:o.call(a,e,this,n));const O=await((c=(u=this.options).onMutate)==null?void 0:c.call(u,e,n));O!==this.state.context&&Pe(this,ji,As).call(this,{type:"pending",context:O,variables:e,isPaused:s})}const N=await R(this,ho).start();return await((h=(d=R(this,Fr).config).onSuccess)==null?void 0:h.call(d,N,e,this.state.context,this,n)),await((p=(f=this.options).onSuccess)==null?void 0:p.call(f,N,e,this.state.context,n)),await((y=(v=R(this,Fr).config).onSettled)==null?void 0:y.call(v,N,null,this.state.variables,this.state.context,this,n)),await((g=(x=this.options).onSettled)==null?void 0:g.call(x,N,null,e,this.state.context,n)),Pe(this,ji,As).call(this,{type:"success",data:N}),N}catch(N){try{await((w=(m=R(this,Fr).config).onError)==null?void 0:w.call(m,N,e,this.state.context,this,n))}catch(O){Promise.reject(O)}try{await((_=(b=this.options).onError)==null?void 0:_.call(b,N,e,this.state.context,n))}catch(O){Promise.reject(O)}try{await((j=(E=R(this,Fr).config).onSettled)==null?void 0:j.call(E,void 0,N,this.state.variables,this.state.context,this,n))}catch(O){Promise.reject(O)}try{await((C=(S=this.options).onSettled)==null?void 0:C.call(S,void 0,N,e,this.state.context,n))}catch(O){Promise.reject(O)}throw Pe(this,ji,As).call(this,{type:"error",error:N}),N}finally{R(this,Fr).runNext(this)}}},zd=new WeakMap,Ni=new WeakMap,Fr=new WeakMap,ho=new WeakMap,ji=new WeakSet,As=function(e){const r=n=>{switch(e.type){case"failed":return{...n,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...n,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:e.error,failureCount:n.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=r(this.state),Wt.batch(()=>{R(this,Ni).forEach(n=>{n.onMutationUpdate(e)}),R(this,Fr).notify({mutation:this,type:"updated",action:e})})},nW);function FH(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Ji,si,Ud,iW,fte=(iW=class extends Vo{constructor(e={}){super();ge(this,Ji);ge(this,si);ge(this,Ud);this.config=e,ie(this,Ji,new Set),ie(this,si,new Map),ie(this,Ud,0)}build(e,r,n){const i=new hte({client:e,mutationCache:this,mutationId:++Gh(this,Ud)._,options:e.defaultMutationOptions(r),state:n});return this.add(i),i}add(e){R(this,Ji).add(e);const r=ff(e);if(typeof r=="string"){const n=R(this,si).get(r);n?n.push(e):R(this,si).set(r,[e])}this.notify({type:"added",mutation:e})}remove(e){if(R(this,Ji).delete(e)){const r=ff(e);if(typeof r=="string"){const n=R(this,si).get(r);if(n)if(n.length>1){const i=n.indexOf(e);i!==-1&&n.splice(i,1)}else n[0]===e&&R(this,si).delete(r)}}this.notify({type:"removed",mutation:e})}canRun(e){const r=ff(e);if(typeof r=="string"){const n=R(this,si).get(r),i=n==null?void 0:n.find(s=>s.state.status==="pending");return!i||i===e}else return!0}runNext(e){var n;const r=ff(e);if(typeof r=="string"){const i=(n=R(this,si).get(r))==null?void 0:n.find(s=>s!==e&&s.state.isPaused);return(i==null?void 0:i.continue())??Promise.resolve()}else return Promise.resolve()}clear(){Wt.batch(()=>{R(this,Ji).forEach(e=>{this.notify({type:"removed",mutation:e})}),R(this,Ji).clear(),R(this,si).clear()})}getAll(){return Array.from(R(this,Ji))}find(e){const r={exact:!0,...e};return this.getAll().find(n=>NI(r,n))}findAll(e={}){return this.getAll().filter(r=>NI(e,r))}notify(e){Wt.batch(()=>{this.listeners.forEach(r=>{r(e)})})}resumePausedMutations(){const e=this.getAll().filter(r=>r.state.isPaused);return Wt.batch(()=>Promise.all(e.map(r=>r.continue().catch(Rr))))}},Ji=new WeakMap,si=new WeakMap,Ud=new WeakMap,iW);function ff(t){var e;return(e=t.options.scope)==null?void 0:e.id}var Zi,Js,tn,es,vs,Af,Sj,sW,pte=(sW=class extends Vo{constructor(e,r){super();ge(this,vs);ge(this,Zi);ge(this,Js);ge(this,tn);ge(this,es);ie(this,Zi,e),this.setOptions(r),this.bindMethods(),Pe(this,vs,Af).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(e){var n;const r=this.options;this.options=R(this,Zi).defaultMutationOptions(e),Nd(this.options,r)||R(this,Zi).getMutationCache().notify({type:"observerOptionsUpdated",mutation:R(this,tn),observer:this}),r!=null&&r.mutationKey&&this.options.mutationKey&&To(r.mutationKey)!==To(this.options.mutationKey)?this.reset():((n=R(this,tn))==null?void 0:n.state.status)==="pending"&&R(this,tn).setOptions(this.options)}onUnsubscribe(){var e;this.hasListeners()||(e=R(this,tn))==null||e.removeObserver(this)}onMutationUpdate(e){Pe(this,vs,Af).call(this),Pe(this,vs,Sj).call(this,e)}getCurrentResult(){return R(this,Js)}reset(){var e;(e=R(this,tn))==null||e.removeObserver(this),ie(this,tn,void 0),Pe(this,vs,Af).call(this),Pe(this,vs,Sj).call(this)}mutate(e,r){var n;return ie(this,es,r),(n=R(this,tn))==null||n.removeObserver(this),ie(this,tn,R(this,Zi).getMutationCache().build(R(this,Zi),this.options)),R(this,tn).addObserver(this),R(this,tn).execute(e)}},Zi=new WeakMap,Js=new WeakMap,tn=new WeakMap,es=new WeakMap,vs=new WeakSet,Af=function(){var r;const e=((r=R(this,tn))==null?void 0:r.state)??FH();ie(this,Js,{...e,isPending:e.status==="pending",isSuccess:e.status==="success",isError:e.status==="error",isIdle:e.status==="idle",mutate:this.mutate,reset:this.reset})},Sj=function(e){Wt.batch(()=>{var r,n,i,s,a,o,u,c;if(R(this,es)&&this.hasListeners()){const d=R(this,Js).variables,h=R(this,Js).context,f={client:R(this,Zi),meta:this.options.meta,mutationKey:this.options.mutationKey};if((e==null?void 0:e.type)==="success"){try{(n=(r=R(this,es)).onSuccess)==null||n.call(r,e.data,d,h,f)}catch(p){Promise.reject(p)}try{(s=(i=R(this,es)).onSettled)==null||s.call(i,e.data,null,d,h,f)}catch(p){Promise.reject(p)}}else if((e==null?void 0:e.type)==="error"){try{(o=(a=R(this,es)).onError)==null||o.call(a,e.error,d,h,f)}catch(p){Promise.reject(p)}try{(c=(u=R(this,es)).onSettled)==null||c.call(u,void 0,e.error,d,h,f)}catch(p){Promise.reject(p)}}}this.listeners.forEach(d=>{d(R(this,Js))})})},sW);function kI(t,e){const r=new Set(e);return t.filter(n=>!r.has(n))}function mte(t,e,r){const n=t.slice(0);return n[e]=r,n}var iu,wn,su,au,qn,Zs,Wd,Vd,Hd,Cr,Ej,Nj,jj,Cj,Oj,aW,vte=(aW=class extends Vo{constructor(e,r,n){super();ge(this,Cr);ge(this,iu);ge(this,wn);ge(this,su);ge(this,au);ge(this,qn);ge(this,Zs);ge(this,Wd);ge(this,Vd);ge(this,Hd,[]);ie(this,iu,e),ie(this,au,n),ie(this,su,[]),ie(this,qn,[]),ie(this,wn,[]),this.setQueries(r)}onSubscribe(){this.listeners.size===1&&R(this,qn).forEach(e=>{e.subscribe(r=>{Pe(this,Cr,Cj).call(this,e,r)})})}onUnsubscribe(){this.listeners.size||this.destroy()}destroy(){this.listeners=new Set,R(this,qn).forEach(e=>{e.destroy()})}setQueries(e,r){ie(this,su,e),ie(this,au,r),Wt.batch(()=>{const n=R(this,qn),i=Pe(this,Cr,jj).call(this,R(this,su));i.forEach(h=>h.observer.setOptions(h.defaultedQueryOptions));const s=i.map(h=>h.observer),a=s.map(h=>h.getCurrentResult()),o=n.length!==s.length,u=s.some((h,f)=>h!==n[f]),c=o||u,d=c?!0:a.some((h,f)=>{const p=R(this,wn)[f];return!p||!Nd(h,p)});!c&&!d||(c&&(ie(this,Hd,i),ie(this,qn,s)),ie(this,wn,a),this.hasListeners()&&(c&&(kI(n,s).forEach(h=>{h.destroy()}),kI(s,n).forEach(h=>{h.subscribe(f=>{Pe(this,Cr,Cj).call(this,h,f)})})),Pe(this,Cr,Oj).call(this)))})}getCurrentResult(){return R(this,wn)}getQueries(){return R(this,qn).map(e=>e.getCurrentQuery())}getObservers(){return R(this,qn)}getOptimisticResult(e,r){const n=Pe(this,Cr,jj).call(this,e),i=n.map(s=>s.observer.getOptimisticResult(s.defaultedQueryOptions));return[i,s=>Pe(this,Cr,Nj).call(this,s??i,r),()=>Pe(this,Cr,Ej).call(this,i,n)]}},iu=new WeakMap,wn=new WeakMap,su=new WeakMap,au=new WeakMap,qn=new WeakMap,Zs=new WeakMap,Wd=new WeakMap,Vd=new WeakMap,Hd=new WeakMap,Cr=new WeakSet,Ej=function(e,r){return r.map((n,i)=>{const s=e[i];return n.defaultedQueryOptions.notifyOnChangeProps?s:n.observer.trackResult(s,a=>{r.forEach(o=>{o.observer.trackProp(a)})})})},Nj=function(e,r){return r?((!R(this,Zs)||R(this,wn)!==R(this,Vd)||r!==R(this,Wd))&&(ie(this,Wd,r),ie(this,Vd,R(this,wn)),ie(this,Zs,aO(R(this,Zs),r(e)))),R(this,Zs)):e},jj=function(e){const r=new Map;R(this,qn).forEach(i=>{const s=i.options.queryHash;if(!s)return;const a=r.get(s);a?a.push(i):r.set(s,[i])});const n=[];return e.forEach(i=>{var u;const s=R(this,iu).defaultQueryOptions(i),o=((u=r.get(s.queryHash))==null?void 0:u.shift())??new cO(R(this,iu),s);n.push({defaultedQueryOptions:s,observer:o})}),n},Cj=function(e,r){const n=R(this,qn).indexOf(e);n!==-1&&(ie(this,wn,mte(R(this,wn),n,r)),Pe(this,Cr,Oj).call(this))},Oj=function(){var e;if(this.hasListeners()){const r=R(this,Zs),n=Pe(this,Cr,Ej).call(this,R(this,wn),R(this,Hd)),i=Pe(this,Cr,Nj).call(this,n,(e=R(this,au))==null?void 0:e.combine);r!==i&&Wt.batch(()=>{this.listeners.forEach(s=>{s(R(this,wn))})})}},aW),Ci,oW,gte=(oW=class extends Vo{constructor(e={}){super();ge(this,Ci);this.config=e,ie(this,Ci,new Map)}build(e,r,n){const i=r.queryKey,s=r.queryHash??sO(i,r);let a=this.get(s);return a||(a=new lte({client:e,queryKey:i,queryHash:s,options:e.defaultQueryOptions(r),state:n,defaultOptions:e.getQueryDefaults(i)}),this.add(a)),a}add(e){R(this,Ci).has(e.queryHash)||(R(this,Ci).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const r=R(this,Ci).get(e.queryHash);r&&(e.destroy(),r===e&&R(this,Ci).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){Wt.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return R(this,Ci).get(e)}getAll(){return[...R(this,Ci).values()]}find(e){const r={exact:!0,...e};return this.getAll().find(n=>EI(r,n))}findAll(e={}){const r=this.getAll();return Object.keys(e).length>0?r.filter(n=>EI(e,n)):r}notify(e){Wt.batch(()=>{this.listeners.forEach(r=>{r(e)})})}onFocus(){Wt.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){Wt.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},Ci=new WeakMap,oW),At,ea,ta,ou,lu,ra,uu,cu,lW,yte=(lW=class{constructor(t={}){ge(this,At);ge(this,ea);ge(this,ta);ge(this,ou);ge(this,lu);ge(this,ra);ge(this,uu);ge(this,cu);ie(this,At,t.queryCache||new gte),ie(this,ea,t.mutationCache||new fte),ie(this,ta,t.defaultOptions||{}),ie(this,ou,new Map),ie(this,lu,new Map),ie(this,ra,0)}mount(){Gh(this,ra)._++,R(this,ra)===1&&(ie(this,uu,uO.subscribe(async t=>{t&&(await this.resumePausedMutations(),R(this,At).onFocus())})),ie(this,cu,bp.subscribe(async t=>{t&&(await this.resumePausedMutations(),R(this,At).onOnline())})))}unmount(){var t,e;Gh(this,ra)._--,R(this,ra)===0&&((t=R(this,uu))==null||t.call(this),ie(this,uu,void 0),(e=R(this,cu))==null||e.call(this),ie(this,cu,void 0))}isFetching(t){return R(this,At).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return R(this,ea).findAll({...t,status:"pending"}).length}getQueryData(t){var r;const e=this.defaultQueryOptions({queryKey:t});return(r=R(this,At).get(e.queryHash))==null?void 0:r.state.data}ensureQueryData(t){const e=this.defaultQueryOptions(t),r=R(this,At).build(this,e),n=r.state.data;return n===void 0?this.fetchQuery(t):(t.revalidateIfStale&&r.isStaleByTime(va(e.staleTime,r))&&this.prefetchQuery(e),Promise.resolve(n))}getQueriesData(t){return R(this,At).findAll(t).map(({queryKey:e,state:r})=>{const n=r.data;return[e,n]})}setQueryData(t,e,r){const n=this.defaultQueryOptions({queryKey:t}),i=R(this,At).get(n.queryHash),s=i==null?void 0:i.state.data,a=Xee(e,s);if(a!==void 0)return R(this,At).build(this,n).setData(a,{...r,manual:!0})}setQueriesData(t,e,r){return Wt.batch(()=>R(this,At).findAll(t).map(({queryKey:n})=>[n,this.setQueryData(n,e,r)]))}getQueryState(t){var r;const e=this.defaultQueryOptions({queryKey:t});return(r=R(this,At).get(e.queryHash))==null?void 0:r.state}removeQueries(t){const e=R(this,At);Wt.batch(()=>{e.findAll(t).forEach(r=>{e.remove(r)})})}resetQueries(t,e){const r=R(this,At);return Wt.batch(()=>(r.findAll(t).forEach(n=>{n.reset()}),this.refetchQueries({type:"active",...t},e)))}cancelQueries(t,e={}){const r={revert:!0,...e},n=Wt.batch(()=>R(this,At).findAll(t).map(i=>i.cancel(r)));return Promise.all(n).then(Rr).catch(Rr)}invalidateQueries(t,e={}){return Wt.batch(()=>(R(this,At).findAll(t).forEach(r=>{r.invalidate()}),(t==null?void 0:t.refetchType)==="none"?Promise.resolve():this.refetchQueries({...t,type:(t==null?void 0:t.refetchType)??(t==null?void 0:t.type)??"active"},e)))}refetchQueries(t,e={}){const r={...e,cancelRefetch:e.cancelRefetch??!0},n=Wt.batch(()=>R(this,At).findAll(t).filter(i=>!i.isDisabled()&&!i.isStatic()).map(i=>{let s=i.fetch(void 0,r);return r.throwOnError||(s=s.catch(Rr)),i.state.fetchStatus==="paused"?Promise.resolve():s}));return Promise.all(n).then(Rr)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const r=R(this,At).build(this,e);return r.isStaleByTime(va(e.staleTime,r))?r.fetch(e):Promise.resolve(r.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(Rr).catch(Rr)}fetchInfiniteQuery(t){return t.behavior=RI(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(Rr).catch(Rr)}ensureInfiniteQueryData(t){return t.behavior=RI(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return bp.isOnline()?R(this,ea).resumePausedMutations():Promise.resolve()}getQueryCache(){return R(this,At)}getMutationCache(){return R(this,ea)}getDefaultOptions(){return R(this,ta)}setDefaultOptions(t){ie(this,ta,t)}setQueryDefaults(t,e){R(this,ou).set(To(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...R(this,ou).values()],r={};return e.forEach(n=>{Ed(t,n.queryKey)&&Object.assign(r,n.defaultOptions)}),r}setMutationDefaults(t,e){R(this,lu).set(To(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...R(this,lu).values()],r={};return e.forEach(n=>{Ed(t,n.mutationKey)&&Object.assign(r,n.defaultOptions)}),r}defaultQueryOptions(t){if(t._defaulted)return t;const e={...R(this,ta).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=sO(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===oO&&(e.enabled=!1),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...R(this,ta).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){R(this,At).clear(),R(this,ea).clear()}},At=new WeakMap,ea=new WeakMap,ta=new WeakMap,ou=new WeakMap,lu=new WeakMap,ra=new WeakMap,uu=new WeakMap,cu=new WeakMap,lW),LH=T.createContext(void 0),ot=t=>{const e=T.useContext(LH);if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},bte=({client:t,children:e})=>(T.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),l.jsx(LH.Provider,{value:t,children:e})),BH=T.createContext(!1),zH=()=>T.useContext(BH);BH.Provider;function xte(){let t=!1;return{clearReset:()=>{t=!1},reset:()=>{t=!0},isReset:()=>t}}var wte=T.createContext(xte()),UH=()=>T.useContext(wte),WH=(t,e,r)=>{const n=r!=null&&r.state.error&&typeof t.throwOnError=="function"?lO(t.throwOnError,[r.state.error,r]):t.throwOnError;(t.suspense||t.experimental_prefetchInRender||n)&&(e.isReset()||(t.retryOnMount=!1))},VH=t=>{T.useEffect(()=>{t.clearReset()},[t])},HH=({result:t,errorResetBoundary:e,throwOnError:r,query:n,suspense:i})=>t.isError&&!e.isReset()&&!t.isFetching&&n&&(i&&t.data===void 0||lO(r,[t.error,n])),KH=t=>{if(t.suspense){const r=i=>i==="static"?i:Math.max(i??1e3,1e3),n=t.staleTime;t.staleTime=typeof n=="function"?(...i)=>r(n(...i)):r(n),typeof t.gcTime=="number"&&(t.gcTime=Math.max(t.gcTime,1e3))}},GH=(t,e)=>t.isLoading&&t.isFetching&&!e,Tj=(t,e)=>(t==null?void 0:t.suspense)&&e.isPending,xp=(t,e,r)=>e.fetchOptimistic(t).catch(()=>{r.clearReset()});function Pj({queries:t,...e},r){const n=ot(),i=zH(),s=UH(),a=T.useMemo(()=>t.map(y=>{const x=n.defaultQueryOptions(y);return x._optimisticResults=i?"isRestoring":"optimistic",x}),[t,n,i]);a.forEach(y=>{KH(y);const x=n.getQueryCache().get(y.queryHash);WH(y,s,x)}),VH(s);const[o]=T.useState(()=>new vte(n,a,e)),[u,c,d]=o.getOptimisticResult(a,e.combine),h=!i&&e.subscribed!==!1;T.useSyncExternalStore(T.useCallback(y=>h?o.subscribe(Wt.batchCalls(y)):Rr,[o,h]),()=>o.getCurrentResult(),()=>o.getCurrentResult()),T.useEffect(()=>{o.setQueries(a,e)},[a,e,o]);const p=u.some((y,x)=>Tj(a[x],y))?u.flatMap((y,x)=>{const g=a[x];if(g){const m=new cO(n,g);if(Tj(g,y))return xp(g,m,s);GH(y,i)&&xp(g,m,s)}return[]}):[];if(p.length>0)throw Promise.all(p);const v=u.find((y,x)=>{const g=a[x];return g&&HH({result:y,errorResetBoundary:s,throwOnError:g.throwOnError,query:n.getQueryCache().get(g.queryHash),suspense:g.suspense})});if(v!=null&&v.error)throw v.error;return c(d())}function _te(t,e,r){var f,p,v,y;const n=zH(),i=UH(),s=ot(),a=s.defaultQueryOptions(t);(p=(f=s.getDefaultOptions().queries)==null?void 0:f._experimental_beforeQuery)==null||p.call(f,a);const o=s.getQueryCache().get(a.queryHash);a._optimisticResults=n?"isRestoring":"optimistic",KH(a),WH(a,i,o),VH(i);const u=!s.getQueryCache().get(a.queryHash),[c]=T.useState(()=>new e(s,a)),d=c.getOptimisticResult(a),h=!n&&t.subscribed!==!1;if(T.useSyncExternalStore(T.useCallback(x=>{const g=h?c.subscribe(Wt.batchCalls(x)):Rr;return c.updateResult(),g},[c,h]),()=>c.getCurrentResult(),()=>c.getCurrentResult()),T.useEffect(()=>{c.setOptions(a)},[a,c]),Tj(a,d))throw xp(a,c,i);if(HH({result:d,errorResetBoundary:i,throwOnError:a.throwOnError,query:o,suspense:a.suspense}))throw d.error;if((y=(v=s.getDefaultOptions().queries)==null?void 0:v._experimental_afterQuery)==null||y.call(v,a,d),a.experimental_prefetchInRender&&!Oo&&GH(d,n)){const x=u?xp(a,c,i):o==null?void 0:o.promise;x==null||x.catch(Rr).finally(()=>{c.updateResult()})}return a.notifyOnChangeProps?d:c.trackResult(d)}function et(t,e){return _te(t,cO)}function rt(t,e){const r=ot(),[n]=T.useState(()=>new pte(r,t));T.useEffect(()=>{n.setOptions(t)},[n,t]);const i=T.useSyncExternalStore(T.useCallback(a=>n.subscribe(Wt.batchCalls(a)),[n]),()=>n.getCurrentResult(),()=>n.getCurrentResult()),s=T.useCallback((a,o)=>{n.mutate(a,o).catch(Rr)},[n]);if(i.error&&lO(n.options.throwOnError,[i.error]))throw i.error;return{...i,mutate:s,mutateAsync:i.mutate}}function hO(){const t=window.prmConfig||{};return T.useMemo(()=>({isLoggedIn:t.isLoggedIn||!1,userId:t.userId||null,loginUrl:t.loginUrl||"/wp-login.php",logoutUrl:t.logoutUrl||"/wp-login.php?action=logout",isLoading:!1}),[t.isLoggedIn,t.userId,t.loginUrl,t.logoutUrl])}function YH(t,e){return function(){return t.apply(e,arguments)}}const{toString:Ste}=Object.prototype,{getPrototypeOf:fO}=Object,{iterator:um,toStringTag:QH}=Symbol,cm=(t=>e=>{const r=Ste.call(e);return t[r]||(t[r]=r.slice(8,-1).toLowerCase())})(Object.create(null)),gi=t=>(t=t.toLowerCase(),e=>cm(e)===t),dm=t=>e=>typeof e===t,{isArray:Au}=Array,bu=dm("undefined");function Jd(t){return t!==null&&!bu(t)&&t.constructor!==null&&!bu(t.constructor)&&fn(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const XH=gi("ArrayBuffer");function Ete(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&XH(t.buffer),e}const Nte=dm("string"),fn=dm("function"),JH=dm("number"),Zd=t=>t!==null&&typeof t=="object",jte=t=>t===!0||t===!1,Ff=t=>{if(cm(t)!=="object")return!1;const e=fO(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(QH in t)&&!(um in t)},Cte=t=>{if(!Zd(t)||Jd(t))return!1;try{return Object.keys(t).length===0&&Object.getPrototypeOf(t)===Object.prototype}catch{return!1}},Ote=gi("Date"),Tte=gi("File"),Pte=gi("Blob"),Ite=gi("FileList"),Rte=t=>Zd(t)&&fn(t.pipe),$te=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||fn(t.append)&&((e=cm(t))==="formdata"||e==="object"&&fn(t.toString)&&t.toString()==="[object FormData]"))},kte=gi("URLSearchParams"),[Dte,Mte,qte,Ate]=["ReadableStream","Request","Response","Headers"].map(gi),Fte=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function eh(t,e,{allOwnKeys:r=!1}={}){if(t===null||typeof t>"u")return;let n,i;if(typeof t!="object"&&(t=[t]),Au(t))for(n=0,i=t.length;n<i;n++)e.call(null,t[n],n,t);else{if(Jd(t))return;const s=r?Object.getOwnPropertyNames(t):Object.keys(t),a=s.length;let o;for(n=0;n<a;n++)o=s[n],e.call(null,t[o],o,t)}}function ZH(t,e){if(Jd(t))return null;e=e.toLowerCase();const r=Object.keys(t);let n=r.length,i;for(;n-- >0;)if(i=r[n],e===i.toLowerCase())return i;return null}const Xa=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,eK=t=>!bu(t)&&t!==Xa;function Ij(){const{caseless:t,skipUndefined:e}=eK(this)&&this||{},r={},n=(i,s)=>{const a=t&&ZH(r,s)||s;Ff(r[a])&&Ff(i)?r[a]=Ij(r[a],i):Ff(i)?r[a]=Ij({},i):Au(i)?r[a]=i.slice():(!e||!bu(i))&&(r[a]=i)};for(let i=0,s=arguments.length;i<s;i++)arguments[i]&&eh(arguments[i],n);return r}const Lte=(t,e,r,{allOwnKeys:n}={})=>(eh(e,(i,s)=>{r&&fn(i)?t[s]=YH(i,r):t[s]=i},{allOwnKeys:n}),t),Bte=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),zte=(t,e,r,n)=>{t.prototype=Object.create(e.prototype,n),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),r&&Object.assign(t.prototype,r)},Ute=(t,e,r,n)=>{let i,s,a;const o={};if(e=e||{},t==null)return e;do{for(i=Object.getOwnPropertyNames(t),s=i.length;s-- >0;)a=i[s],(!n||n(a,t,e))&&!o[a]&&(e[a]=t[a],o[a]=!0);t=r!==!1&&fO(t)}while(t&&(!r||r(t,e))&&t!==Object.prototype);return e},Wte=(t,e,r)=>{t=String(t),(r===void 0||r>t.length)&&(r=t.length),r-=e.length;const n=t.indexOf(e,r);return n!==-1&&n===r},Vte=t=>{if(!t)return null;if(Au(t))return t;let e=t.length;if(!JH(e))return null;const r=new Array(e);for(;e-- >0;)r[e]=t[e];return r},Hte=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&fO(Uint8Array)),Kte=(t,e)=>{const n=(t&&t[um]).call(t);let i;for(;(i=n.next())&&!i.done;){const s=i.value;e.call(t,s[0],s[1])}},Gte=(t,e)=>{let r;const n=[];for(;(r=t.exec(e))!==null;)n.push(r);return n},Yte=gi("HTMLFormElement"),Qte=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(r,n,i){return n.toUpperCase()+i}),DI=(({hasOwnProperty:t})=>(e,r)=>t.call(e,r))(Object.prototype),Xte=gi("RegExp"),tK=(t,e)=>{const r=Object.getOwnPropertyDescriptors(t),n={};eh(r,(i,s)=>{let a;(a=e(i,s,t))!==!1&&(n[s]=a||i)}),Object.defineProperties(t,n)},Jte=t=>{tK(t,(e,r)=>{if(fn(t)&&["arguments","caller","callee"].indexOf(r)!==-1)return!1;const n=t[r];if(fn(n)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")})}})},Zte=(t,e)=>{const r={},n=i=>{i.forEach(s=>{r[s]=!0})};return Au(t)?n(t):n(String(t).split(e)),r},ere=()=>{},tre=(t,e)=>t!=null&&Number.isFinite(t=+t)?t:e;function rre(t){return!!(t&&fn(t.append)&&t[QH]==="FormData"&&t[um])}const nre=t=>{const e=new Array(10),r=(n,i)=>{if(Zd(n)){if(e.indexOf(n)>=0)return;if(Jd(n))return n;if(!("toJSON"in n)){e[i]=n;const s=Au(n)?[]:{};return eh(n,(a,o)=>{const u=r(a,i+1);!bu(u)&&(s[o]=u)}),e[i]=void 0,s}}return n};return r(t,0)},ire=gi("AsyncFunction"),sre=t=>t&&(Zd(t)||fn(t))&&fn(t.then)&&fn(t.catch),rK=((t,e)=>t?setImmediate:e?((r,n)=>(Xa.addEventListener("message",({source:i,data:s})=>{i===Xa&&s===r&&n.length&&n.shift()()},!1),i=>{n.push(i),Xa.postMessage(r,"*")}))(`axios@${Math.random()}`,[]):r=>setTimeout(r))(typeof setImmediate=="function",fn(Xa.postMessage)),are=typeof queueMicrotask<"u"?queueMicrotask.bind(Xa):typeof process<"u"&&process.nextTick||rK,ore=t=>t!=null&&fn(t[um]),L={isArray:Au,isArrayBuffer:XH,isBuffer:Jd,isFormData:$te,isArrayBufferView:Ete,isString:Nte,isNumber:JH,isBoolean:jte,isObject:Zd,isPlainObject:Ff,isEmptyObject:Cte,isReadableStream:Dte,isRequest:Mte,isResponse:qte,isHeaders:Ate,isUndefined:bu,isDate:Ote,isFile:Tte,isBlob:Pte,isRegExp:Xte,isFunction:fn,isStream:Rte,isURLSearchParams:kte,isTypedArray:Hte,isFileList:Ite,forEach:eh,merge:Ij,extend:Lte,trim:Fte,stripBOM:Bte,inherits:zte,toFlatObject:Ute,kindOf:cm,kindOfTest:gi,endsWith:Wte,toArray:Vte,forEachEntry:Kte,matchAll:Gte,isHTMLForm:Yte,hasOwnProperty:DI,hasOwnProp:DI,reduceDescriptors:tK,freezeMethods:Jte,toObjectSet:Zte,toCamelCase:Qte,noop:ere,toFiniteNumber:tre,findKey:ZH,global:Xa,isContextDefined:eK,isSpecCompliantForm:rre,toJSONObject:nre,isAsyncFn:ire,isThenable:sre,setImmediate:rK,asap:are,isIterable:ore};function Ae(t,e,r,n,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),r&&(this.config=r),n&&(this.request=n),i&&(this.response=i,this.status=i.status?i.status:null)}L.inherits(Ae,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:L.toJSONObject(this.config),code:this.code,status:this.status}}});const nK=Ae.prototype,iK={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{iK[t]={value:t}});Object.defineProperties(Ae,iK);Object.defineProperty(nK,"isAxiosError",{value:!0});Ae.from=(t,e,r,n,i,s)=>{const a=Object.create(nK);L.toFlatObject(t,a,function(d){return d!==Error.prototype},c=>c!=="isAxiosError");const o=t&&t.message?t.message:"Error",u=e==null&&t?t.code:e;return Ae.call(a,o,u,r,n,i),t&&a.cause==null&&Object.defineProperty(a,"cause",{value:t,configurable:!0}),a.name=t&&t.name||"Error",s&&Object.assign(a,s),a};const lre=null;function Rj(t){return L.isPlainObject(t)||L.isArray(t)}function sK(t){return L.endsWith(t,"[]")?t.slice(0,-2):t}function MI(t,e,r){return t?t.concat(e).map(function(i,s){return i=sK(i),!r&&s?"["+i+"]":i}).join(r?".":""):e}function ure(t){return L.isArray(t)&&!t.some(Rj)}const cre=L.toFlatObject(L,{},null,function(e){return/^is[A-Z]/.test(e)});function hm(t,e,r){if(!L.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,r=L.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,function(y,x){return!L.isUndefined(x[y])});const n=r.metaTokens,i=r.visitor||d,s=r.dots,a=r.indexes,u=(r.Blob||typeof Blob<"u"&&Blob)&&L.isSpecCompliantForm(e);if(!L.isFunction(i))throw new TypeError("visitor must be a function");function c(v){if(v===null)return"";if(L.isDate(v))return v.toISOString();if(L.isBoolean(v))return v.toString();if(!u&&L.isBlob(v))throw new Ae("Blob is not supported. Use a Buffer instead.");return L.isArrayBuffer(v)||L.isTypedArray(v)?u&&typeof Blob=="function"?new Blob([v]):Buffer.from(v):v}function d(v,y,x){let g=v;if(v&&!x&&typeof v=="object"){if(L.endsWith(y,"{}"))y=n?y:y.slice(0,-2),v=JSON.stringify(v);else if(L.isArray(v)&&ure(v)||(L.isFileList(v)||L.endsWith(y,"[]"))&&(g=L.toArray(v)))return y=sK(y),g.forEach(function(w,b){!(L.isUndefined(w)||w===null)&&e.append(a===!0?MI([y],b,s):a===null?y:y+"[]",c(w))}),!1}return Rj(v)?!0:(e.append(MI(x,y,s),c(v)),!1)}const h=[],f=Object.assign(cre,{defaultVisitor:d,convertValue:c,isVisitable:Rj});function p(v,y){if(!L.isUndefined(v)){if(h.indexOf(v)!==-1)throw Error("Circular reference detected in "+y.join("."));h.push(v),L.forEach(v,function(g,m){(!(L.isUndefined(g)||g===null)&&i.call(e,g,L.isString(m)?m.trim():m,y,f))===!0&&p(g,y?y.concat(m):[m])}),h.pop()}}if(!L.isObject(t))throw new TypeError("data must be an object");return p(t),e}function qI(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(n){return e[n]})}function pO(t,e){this._pairs=[],t&&hm(t,this,e)}const aK=pO.prototype;aK.append=function(e,r){this._pairs.push([e,r])};aK.toString=function(e){const r=e?function(n){return e.call(this,n,qI)}:qI;return this._pairs.map(function(i){return r(i[0])+"="+r(i[1])},"").join("&")};function dre(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function oK(t,e,r){if(!e)return t;const n=r&&r.encode||dre;L.isFunction(r)&&(r={serialize:r});const i=r&&r.serialize;let s;if(i?s=i(e,r):s=L.isURLSearchParams(e)?e.toString():new pO(e,r).toString(n),s){const a=t.indexOf("#");a!==-1&&(t=t.slice(0,a)),t+=(t.indexOf("?")===-1?"?":"&")+s}return t}class AI{constructor(){this.handlers=[]}use(e,r,n){return this.handlers.push({fulfilled:e,rejected:r,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){L.forEach(this.handlers,function(n){n!==null&&e(n)})}}const lK={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},hre=typeof URLSearchParams<"u"?URLSearchParams:pO,fre=typeof FormData<"u"?FormData:null,pre=typeof Blob<"u"?Blob:null,mre={isBrowser:!0,classes:{URLSearchParams:hre,FormData:fre,Blob:pre},protocols:["http","https","file","blob","url","data"]},mO=typeof window<"u"&&typeof document<"u",$j=typeof navigator=="object"&&navigator||void 0,vre=mO&&(!$j||["ReactNative","NativeScript","NS"].indexOf($j.product)<0),gre=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",yre=mO&&window.location.href||"http://localhost",bre=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:mO,hasStandardBrowserEnv:vre,hasStandardBrowserWebWorkerEnv:gre,navigator:$j,origin:yre},Symbol.toStringTag,{value:"Module"})),kr={...bre,...mre};function xre(t,e){return hm(t,new kr.classes.URLSearchParams,{visitor:function(r,n,i,s){return kr.isNode&&L.isBuffer(r)?(this.append(n,r.toString("base64")),!1):s.defaultVisitor.apply(this,arguments)},...e})}function wre(t){return L.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function _re(t){const e={},r=Object.keys(t);let n;const i=r.length;let s;for(n=0;n<i;n++)s=r[n],e[s]=t[s];return e}function uK(t){function e(r,n,i,s){let a=r[s++];if(a==="__proto__")return!0;const o=Number.isFinite(+a),u=s>=r.length;return a=!a&&L.isArray(i)?i.length:a,u?(L.hasOwnProp(i,a)?i[a]=[i[a],n]:i[a]=n,!o):((!i[a]||!L.isObject(i[a]))&&(i[a]=[]),e(r,n,i[a],s)&&L.isArray(i[a])&&(i[a]=_re(i[a])),!o)}if(L.isFormData(t)&&L.isFunction(t.entries)){const r={};return L.forEachEntry(t,(n,i)=>{e(wre(n),i,r,0)}),r}return null}function Sre(t,e,r){if(L.isString(t))try{return(e||JSON.parse)(t),L.trim(t)}catch(n){if(n.name!=="SyntaxError")throw n}return(r||JSON.stringify)(t)}const th={transitional:lK,adapter:["xhr","http","fetch"],transformRequest:[function(e,r){const n=r.getContentType()||"",i=n.indexOf("application/json")>-1,s=L.isObject(e);if(s&&L.isHTMLForm(e)&&(e=new FormData(e)),L.isFormData(e))return i?JSON.stringify(uK(e)):e;if(L.isArrayBuffer(e)||L.isBuffer(e)||L.isStream(e)||L.isFile(e)||L.isBlob(e)||L.isReadableStream(e))return e;if(L.isArrayBufferView(e))return e.buffer;if(L.isURLSearchParams(e))return r.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let o;if(s){if(n.indexOf("application/x-www-form-urlencoded")>-1)return xre(e,this.formSerializer).toString();if((o=L.isFileList(e))||n.indexOf("multipart/form-data")>-1){const u=this.env&&this.env.FormData;return hm(o?{"files[]":e}:e,u&&new u,this.formSerializer)}}return s||i?(r.setContentType("application/json",!1),Sre(e)):e}],transformResponse:[function(e){const r=this.transitional||th.transitional,n=r&&r.forcedJSONParsing,i=this.responseType==="json";if(L.isResponse(e)||L.isReadableStream(e))return e;if(e&&L.isString(e)&&(n&&!this.responseType||i)){const a=!(r&&r.silentJSONParsing)&&i;try{return JSON.parse(e,this.parseReviver)}catch(o){if(a)throw o.name==="SyntaxError"?Ae.from(o,Ae.ERR_BAD_RESPONSE,this,null,this.response):o}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:kr.classes.FormData,Blob:kr.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};L.forEach(["delete","get","head","post","put","patch"],t=>{th.headers[t]={}});const Ere=L.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Nre=t=>{const e={};let r,n,i;return t&&t.split(`
`).forEach(function(a){i=a.indexOf(":"),r=a.substring(0,i).trim().toLowerCase(),n=a.substring(i+1).trim(),!(!r||e[r]&&Ere[r])&&(r==="set-cookie"?e[r]?e[r].push(n):e[r]=[n]:e[r]=e[r]?e[r]+", "+n:n)}),e},FI=Symbol("internals");function Ec(t){return t&&String(t).trim().toLowerCase()}function Lf(t){return t===!1||t==null?t:L.isArray(t)?t.map(Lf):String(t)}function jre(t){const e=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let n;for(;n=r.exec(t);)e[n[1]]=n[2];return e}const Cre=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function Pv(t,e,r,n,i){if(L.isFunction(n))return n.call(this,e,r);if(i&&(e=r),!!L.isString(e)){if(L.isString(n))return e.indexOf(n)!==-1;if(L.isRegExp(n))return n.test(e)}}function Ore(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,r,n)=>r.toUpperCase()+n)}function Tre(t,e){const r=L.toCamelCase(" "+e);["get","set","has"].forEach(n=>{Object.defineProperty(t,n+r,{value:function(i,s,a){return this[n].call(this,e,i,s,a)},configurable:!0})})}let pn=class{constructor(e){e&&this.set(e)}set(e,r,n){const i=this;function s(o,u,c){const d=Ec(u);if(!d)throw new Error("header name must be a non-empty string");const h=L.findKey(i,d);(!h||i[h]===void 0||c===!0||c===void 0&&i[h]!==!1)&&(i[h||u]=Lf(o))}const a=(o,u)=>L.forEach(o,(c,d)=>s(c,d,u));if(L.isPlainObject(e)||e instanceof this.constructor)a(e,r);else if(L.isString(e)&&(e=e.trim())&&!Cre(e))a(Nre(e),r);else if(L.isObject(e)&&L.isIterable(e)){let o={},u,c;for(const d of e){if(!L.isArray(d))throw TypeError("Object iterator must return a key-value pair");o[c=d[0]]=(u=o[c])?L.isArray(u)?[...u,d[1]]:[u,d[1]]:d[1]}a(o,r)}else e!=null&&s(r,e,n);return this}get(e,r){if(e=Ec(e),e){const n=L.findKey(this,e);if(n){const i=this[n];if(!r)return i;if(r===!0)return jre(i);if(L.isFunction(r))return r.call(this,i,n);if(L.isRegExp(r))return r.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,r){if(e=Ec(e),e){const n=L.findKey(this,e);return!!(n&&this[n]!==void 0&&(!r||Pv(this,this[n],n,r)))}return!1}delete(e,r){const n=this;let i=!1;function s(a){if(a=Ec(a),a){const o=L.findKey(n,a);o&&(!r||Pv(n,n[o],o,r))&&(delete n[o],i=!0)}}return L.isArray(e)?e.forEach(s):s(e),i}clear(e){const r=Object.keys(this);let n=r.length,i=!1;for(;n--;){const s=r[n];(!e||Pv(this,this[s],s,e,!0))&&(delete this[s],i=!0)}return i}normalize(e){const r=this,n={};return L.forEach(this,(i,s)=>{const a=L.findKey(n,s);if(a){r[a]=Lf(i),delete r[s];return}const o=e?Ore(s):String(s).trim();o!==s&&delete r[s],r[o]=Lf(i),n[o]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const r=Object.create(null);return L.forEach(this,(n,i)=>{n!=null&&n!==!1&&(r[i]=e&&L.isArray(n)?n.join(", "):n)}),r}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,r])=>e+": "+r).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...r){const n=new this(e);return r.forEach(i=>n.set(i)),n}static accessor(e){const n=(this[FI]=this[FI]={accessors:{}}).accessors,i=this.prototype;function s(a){const o=Ec(a);n[o]||(Tre(i,a),n[o]=!0)}return L.isArray(e)?e.forEach(s):s(e),this}};pn.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);L.reduceDescriptors(pn.prototype,({value:t},e)=>{let r=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(n){this[r]=n}}});L.freezeMethods(pn);function Iv(t,e){const r=this||th,n=e||r,i=pn.from(n.headers);let s=n.data;return L.forEach(t,function(o){s=o.call(r,s,i.normalize(),e?e.status:void 0)}),i.normalize(),s}function cK(t){return!!(t&&t.__CANCEL__)}function Fu(t,e,r){Ae.call(this,t??"canceled",Ae.ERR_CANCELED,e,r),this.name="CanceledError"}L.inherits(Fu,Ae,{__CANCEL__:!0});function dK(t,e,r){const n=r.config.validateStatus;!r.status||!n||n(r.status)?t(r):e(new Ae("Request failed with status code "+r.status,[Ae.ERR_BAD_REQUEST,Ae.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r))}function Pre(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function Ire(t,e){t=t||10;const r=new Array(t),n=new Array(t);let i=0,s=0,a;return e=e!==void 0?e:1e3,function(u){const c=Date.now(),d=n[s];a||(a=c),r[i]=u,n[i]=c;let h=s,f=0;for(;h!==i;)f+=r[h++],h=h%t;if(i=(i+1)%t,i===s&&(s=(s+1)%t),c-a<e)return;const p=d&&c-d;return p?Math.round(f*1e3/p):void 0}}function Rre(t,e){let r=0,n=1e3/e,i,s;const a=(c,d=Date.now())=>{r=d,i=null,s&&(clearTimeout(s),s=null),t(...c)};return[(...c)=>{const d=Date.now(),h=d-r;h>=n?a(c,d):(i=c,s||(s=setTimeout(()=>{s=null,a(i)},n-h)))},()=>i&&a(i)]}const wp=(t,e,r=3)=>{let n=0;const i=Ire(50,250);return Rre(s=>{const a=s.loaded,o=s.lengthComputable?s.total:void 0,u=a-n,c=i(u),d=a<=o;n=a;const h={loaded:a,total:o,progress:o?a/o:void 0,bytes:u,rate:c||void 0,estimated:c&&o&&d?(o-a)/c:void 0,event:s,lengthComputable:o!=null,[e?"download":"upload"]:!0};t(h)},r)},LI=(t,e)=>{const r=t!=null;return[n=>e[0]({lengthComputable:r,total:t,loaded:n}),e[1]]},BI=t=>(...e)=>L.asap(()=>t(...e)),$re=kr.hasStandardBrowserEnv?((t,e)=>r=>(r=new URL(r,kr.origin),t.protocol===r.protocol&&t.host===r.host&&(e||t.port===r.port)))(new URL(kr.origin),kr.navigator&&/(msie|trident)/i.test(kr.navigator.userAgent)):()=>!0,kre=kr.hasStandardBrowserEnv?{write(t,e,r,n,i,s,a){if(typeof document>"u")return;const o=[`${t}=${encodeURIComponent(e)}`];L.isNumber(r)&&o.push(`expires=${new Date(r).toUTCString()}`),L.isString(n)&&o.push(`path=${n}`),L.isString(i)&&o.push(`domain=${i}`),s===!0&&o.push("secure"),L.isString(a)&&o.push(`SameSite=${a}`),document.cookie=o.join("; ")},read(t){if(typeof document>"u")return null;const e=document.cookie.match(new RegExp("(?:^|; )"+t+"=([^;]*)"));return e?decodeURIComponent(e[1]):null},remove(t){this.write(t,"",Date.now()-864e5,"/")}}:{write(){},read(){return null},remove(){}};function Dre(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function Mre(t,e){return e?t.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):t}function hK(t,e,r){let n=!Dre(e);return t&&(n||r==!1)?Mre(t,e):e}const zI=t=>t instanceof pn?{...t}:t;function Po(t,e){e=e||{};const r={};function n(c,d,h,f){return L.isPlainObject(c)&&L.isPlainObject(d)?L.merge.call({caseless:f},c,d):L.isPlainObject(d)?L.merge({},d):L.isArray(d)?d.slice():d}function i(c,d,h,f){if(L.isUndefined(d)){if(!L.isUndefined(c))return n(void 0,c,h,f)}else return n(c,d,h,f)}function s(c,d){if(!L.isUndefined(d))return n(void 0,d)}function a(c,d){if(L.isUndefined(d)){if(!L.isUndefined(c))return n(void 0,c)}else return n(void 0,d)}function o(c,d,h){if(h in e)return n(c,d);if(h in t)return n(void 0,c)}const u={url:s,method:s,data:s,baseURL:a,transformRequest:a,transformResponse:a,paramsSerializer:a,timeout:a,timeoutMessage:a,withCredentials:a,withXSRFToken:a,adapter:a,responseType:a,xsrfCookieName:a,xsrfHeaderName:a,onUploadProgress:a,onDownloadProgress:a,decompress:a,maxContentLength:a,maxBodyLength:a,beforeRedirect:a,transport:a,httpAgent:a,httpsAgent:a,cancelToken:a,socketPath:a,responseEncoding:a,validateStatus:o,headers:(c,d,h)=>i(zI(c),zI(d),h,!0)};return L.forEach(Object.keys({...t,...e}),function(d){const h=u[d]||i,f=h(t[d],e[d],d);L.isUndefined(f)&&h!==o||(r[d]=f)}),r}const fK=t=>{const e=Po({},t);let{data:r,withXSRFToken:n,xsrfHeaderName:i,xsrfCookieName:s,headers:a,auth:o}=e;if(e.headers=a=pn.from(a),e.url=oK(hK(e.baseURL,e.url,e.allowAbsoluteUrls),t.params,t.paramsSerializer),o&&a.set("Authorization","Basic "+btoa((o.username||"")+":"+(o.password?unescape(encodeURIComponent(o.password)):""))),L.isFormData(r)){if(kr.hasStandardBrowserEnv||kr.hasStandardBrowserWebWorkerEnv)a.setContentType(void 0);else if(L.isFunction(r.getHeaders)){const u=r.getHeaders(),c=["content-type","content-length"];Object.entries(u).forEach(([d,h])=>{c.includes(d.toLowerCase())&&a.set(d,h)})}}if(kr.hasStandardBrowserEnv&&(n&&L.isFunction(n)&&(n=n(e)),n||n!==!1&&$re(e.url))){const u=i&&s&&kre.read(s);u&&a.set(i,u)}return e},qre=typeof XMLHttpRequest<"u",Are=qre&&function(t){return new Promise(function(r,n){const i=fK(t);let s=i.data;const a=pn.from(i.headers).normalize();let{responseType:o,onUploadProgress:u,onDownloadProgress:c}=i,d,h,f,p,v;function y(){p&&p(),v&&v(),i.cancelToken&&i.cancelToken.unsubscribe(d),i.signal&&i.signal.removeEventListener("abort",d)}let x=new XMLHttpRequest;x.open(i.method.toUpperCase(),i.url,!0),x.timeout=i.timeout;function g(){if(!x)return;const w=pn.from("getAllResponseHeaders"in x&&x.getAllResponseHeaders()),_={data:!o||o==="text"||o==="json"?x.responseText:x.response,status:x.status,statusText:x.statusText,headers:w,config:t,request:x};dK(function(j){r(j),y()},function(j){n(j),y()},_),x=null}"onloadend"in x?x.onloadend=g:x.onreadystatechange=function(){!x||x.readyState!==4||x.status===0&&!(x.responseURL&&x.responseURL.indexOf("file:")===0)||setTimeout(g)},x.onabort=function(){x&&(n(new Ae("Request aborted",Ae.ECONNABORTED,t,x)),x=null)},x.onerror=function(b){const _=b&&b.message?b.message:"Network Error",E=new Ae(_,Ae.ERR_NETWORK,t,x);E.event=b||null,n(E),x=null},x.ontimeout=function(){let b=i.timeout?"timeout of "+i.timeout+"ms exceeded":"timeout exceeded";const _=i.transitional||lK;i.timeoutErrorMessage&&(b=i.timeoutErrorMessage),n(new Ae(b,_.clarifyTimeoutError?Ae.ETIMEDOUT:Ae.ECONNABORTED,t,x)),x=null},s===void 0&&a.setContentType(null),"setRequestHeader"in x&&L.forEach(a.toJSON(),function(b,_){x.setRequestHeader(_,b)}),L.isUndefined(i.withCredentials)||(x.withCredentials=!!i.withCredentials),o&&o!=="json"&&(x.responseType=i.responseType),c&&([f,v]=wp(c,!0),x.addEventListener("progress",f)),u&&x.upload&&([h,p]=wp(u),x.upload.addEventListener("progress",h),x.upload.addEventListener("loadend",p)),(i.cancelToken||i.signal)&&(d=w=>{x&&(n(!w||w.type?new Fu(null,t,x):w),x.abort(),x=null)},i.cancelToken&&i.cancelToken.subscribe(d),i.signal&&(i.signal.aborted?d():i.signal.addEventListener("abort",d)));const m=Pre(i.url);if(m&&kr.protocols.indexOf(m)===-1){n(new Ae("Unsupported protocol "+m+":",Ae.ERR_BAD_REQUEST,t));return}x.send(s||null)})},Fre=(t,e)=>{const{length:r}=t=t?t.filter(Boolean):[];if(e||r){let n=new AbortController,i;const s=function(c){if(!i){i=!0,o();const d=c instanceof Error?c:this.reason;n.abort(d instanceof Ae?d:new Fu(d instanceof Error?d.message:d))}};let a=e&&setTimeout(()=>{a=null,s(new Ae(`timeout ${e} of ms exceeded`,Ae.ETIMEDOUT))},e);const o=()=>{t&&(a&&clearTimeout(a),a=null,t.forEach(c=>{c.unsubscribe?c.unsubscribe(s):c.removeEventListener("abort",s)}),t=null)};t.forEach(c=>c.addEventListener("abort",s));const{signal:u}=n;return u.unsubscribe=()=>L.asap(o),u}},Lre=function*(t,e){let r=t.byteLength;if(r<e){yield t;return}let n=0,i;for(;n<r;)i=n+e,yield t.slice(n,i),n=i},Bre=async function*(t,e){for await(const r of zre(t))yield*Lre(r,e)},zre=async function*(t){if(t[Symbol.asyncIterator]){yield*t;return}const e=t.getReader();try{for(;;){const{done:r,value:n}=await e.read();if(r)break;yield n}}finally{await e.cancel()}},UI=(t,e,r,n)=>{const i=Bre(t,e);let s=0,a,o=u=>{a||(a=!0,n&&n(u))};return new ReadableStream({async pull(u){try{const{done:c,value:d}=await i.next();if(c){o(),u.close();return}let h=d.byteLength;if(r){let f=s+=h;r(f)}u.enqueue(new Uint8Array(d))}catch(c){throw o(c),c}},cancel(u){return o(u),i.return()}},{highWaterMark:2})},WI=64*1024,{isFunction:pf}=L,Ure=(({Request:t,Response:e})=>({Request:t,Response:e}))(L.global),{ReadableStream:VI,TextEncoder:HI}=L.global,KI=(t,...e)=>{try{return!!t(...e)}catch{return!1}},Wre=t=>{t=L.merge.call({skipUndefined:!0},Ure,t);const{fetch:e,Request:r,Response:n}=t,i=e?pf(e):typeof fetch=="function",s=pf(r),a=pf(n);if(!i)return!1;const o=i&&pf(VI),u=i&&(typeof HI=="function"?(v=>y=>v.encode(y))(new HI):async v=>new Uint8Array(await new r(v).arrayBuffer())),c=s&&o&&KI(()=>{let v=!1;const y=new r(kr.origin,{body:new VI,method:"POST",get duplex(){return v=!0,"half"}}).headers.has("Content-Type");return v&&!y}),d=a&&o&&KI(()=>L.isReadableStream(new n("").body)),h={stream:d&&(v=>v.body)};i&&["text","arrayBuffer","blob","formData","stream"].forEach(v=>{!h[v]&&(h[v]=(y,x)=>{let g=y&&y[v];if(g)return g.call(y);throw new Ae(`Response type '${v}' is not supported`,Ae.ERR_NOT_SUPPORT,x)})});const f=async v=>{if(v==null)return 0;if(L.isBlob(v))return v.size;if(L.isSpecCompliantForm(v))return(await new r(kr.origin,{method:"POST",body:v}).arrayBuffer()).byteLength;if(L.isArrayBufferView(v)||L.isArrayBuffer(v))return v.byteLength;if(L.isURLSearchParams(v)&&(v=v+""),L.isString(v))return(await u(v)).byteLength},p=async(v,y)=>{const x=L.toFiniteNumber(v.getContentLength());return x??f(y)};return async v=>{let{url:y,method:x,data:g,signal:m,cancelToken:w,timeout:b,onDownloadProgress:_,onUploadProgress:E,responseType:j,headers:S,withCredentials:C="same-origin",fetchOptions:N}=fK(v),O=e||fetch;j=j?(j+"").toLowerCase():"text";let P=Fre([m,w&&w.toAbortSignal()],b),I=null;const D=P&&P.unsubscribe&&(()=>{P.unsubscribe()});let F;try{if(E&&c&&x!=="get"&&x!=="head"&&(F=await p(S,g))!==0){let W=new r(y,{method:"POST",body:g,duplex:"half"}),G;if(L.isFormData(g)&&(G=W.headers.get("content-type"))&&S.setContentType(G),W.body){const[de,xe]=LI(F,wp(BI(E)));g=UI(W.body,WI,de,xe)}}L.isString(C)||(C=C?"include":"omit");const M=s&&"credentials"in r.prototype,V={...N,signal:P,method:x.toUpperCase(),headers:S.normalize().toJSON(),body:g,duplex:"half",credentials:M?C:void 0};I=s&&new r(y,V);let q=await(s?O(I,N):O(y,V));const H=d&&(j==="stream"||j==="response");if(d&&(_||H&&D)){const W={};["status","statusText","headers"].forEach(Ie=>{W[Ie]=q[Ie]});const G=L.toFiniteNumber(q.headers.get("content-length")),[de,xe]=_&&LI(G,wp(BI(_),!0))||[];q=new n(UI(q.body,WI,de,()=>{xe&&xe(),D&&D()}),W)}j=j||"text";let B=await h[L.findKey(h,j)||"text"](q,v);return!H&&D&&D(),await new Promise((W,G)=>{dK(W,G,{data:B,headers:pn.from(q.headers),status:q.status,statusText:q.statusText,config:v,request:I})})}catch(M){throw D&&D(),M&&M.name==="TypeError"&&/Load failed|fetch/i.test(M.message)?Object.assign(new Ae("Network Error",Ae.ERR_NETWORK,v,I),{cause:M.cause||M}):Ae.from(M,M&&M.code,v,I)}}},Vre=new Map,pK=t=>{let e=t&&t.env||{};const{fetch:r,Request:n,Response:i}=e,s=[n,i,r];let a=s.length,o=a,u,c,d=Vre;for(;o--;)u=s[o],c=d.get(u),c===void 0&&d.set(u,c=o?new Map:Wre(e)),d=c;return c};pK();const vO={http:lre,xhr:Are,fetch:{get:pK}};L.forEach(vO,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const GI=t=>`- ${t}`,Hre=t=>L.isFunction(t)||t===null||t===!1;function Kre(t,e){t=L.isArray(t)?t:[t];const{length:r}=t;let n,i;const s={};for(let a=0;a<r;a++){n=t[a];let o;if(i=n,!Hre(n)&&(i=vO[(o=String(n)).toLowerCase()],i===void 0))throw new Ae(`Unknown adapter '${o}'`);if(i&&(L.isFunction(i)||(i=i.get(e))))break;s[o||"#"+a]=i}if(!i){const a=Object.entries(s).map(([u,c])=>`adapter ${u} `+(c===!1?"is not supported by the environment":"is not available in the build"));let o=r?a.length>1?`since :
`+a.map(GI).join(`
`):" "+GI(a[0]):"as no adapter specified";throw new Ae("There is no suitable adapter to dispatch the request "+o,"ERR_NOT_SUPPORT")}return i}const mK={getAdapter:Kre,adapters:vO};function Rv(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new Fu(null,t)}function YI(t){return Rv(t),t.headers=pn.from(t.headers),t.data=Iv.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),mK.getAdapter(t.adapter||th.adapter,t)(t).then(function(n){return Rv(t),n.data=Iv.call(t,t.transformResponse,n),n.headers=pn.from(n.headers),n},function(n){return cK(n)||(Rv(t),n&&n.response&&(n.response.data=Iv.call(t,t.transformResponse,n.response),n.response.headers=pn.from(n.response.headers))),Promise.reject(n)})}const vK="1.13.2",fm={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{fm[t]=function(n){return typeof n===t||"a"+(e<1?"n ":" ")+t}});const QI={};fm.transitional=function(e,r,n){function i(s,a){return"[Axios v"+vK+"] Transitional option '"+s+"'"+a+(n?". "+n:"")}return(s,a,o)=>{if(e===!1)throw new Ae(i(a," has been removed"+(r?" in "+r:"")),Ae.ERR_DEPRECATED);return r&&!QI[a]&&(QI[a]=!0,console.warn(i(a," has been deprecated since v"+r+" and will be removed in the near future"))),e?e(s,a,o):!0}};fm.spelling=function(e){return(r,n)=>(console.warn(`${n} is likely a misspelling of ${e}`),!0)};function Gre(t,e,r){if(typeof t!="object")throw new Ae("options must be an object",Ae.ERR_BAD_OPTION_VALUE);const n=Object.keys(t);let i=n.length;for(;i-- >0;){const s=n[i],a=e[s];if(a){const o=t[s],u=o===void 0||a(o,s,t);if(u!==!0)throw new Ae("option "+s+" must be "+u,Ae.ERR_BAD_OPTION_VALUE);continue}if(r!==!0)throw new Ae("Unknown option "+s,Ae.ERR_BAD_OPTION)}}const Bf={assertOptions:Gre,validators:fm},_i=Bf.validators;let mo=class{constructor(e){this.defaults=e||{},this.interceptors={request:new AI,response:new AI}}async request(e,r){try{return await this._request(e,r)}catch(n){if(n instanceof Error){let i={};Error.captureStackTrace?Error.captureStackTrace(i):i=new Error;const s=i.stack?i.stack.replace(/^.+\n/,""):"";try{n.stack?s&&!String(n.stack).endsWith(s.replace(/^.+\n.+\n/,""))&&(n.stack+=`
`+s):n.stack=s}catch{}}throw n}}_request(e,r){typeof e=="string"?(r=r||{},r.url=e):r=e||{},r=Po(this.defaults,r);const{transitional:n,paramsSerializer:i,headers:s}=r;n!==void 0&&Bf.assertOptions(n,{silentJSONParsing:_i.transitional(_i.boolean),forcedJSONParsing:_i.transitional(_i.boolean),clarifyTimeoutError:_i.transitional(_i.boolean)},!1),i!=null&&(L.isFunction(i)?r.paramsSerializer={serialize:i}:Bf.assertOptions(i,{encode:_i.function,serialize:_i.function},!0)),r.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?r.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:r.allowAbsoluteUrls=!0),Bf.assertOptions(r,{baseUrl:_i.spelling("baseURL"),withXsrfToken:_i.spelling("withXSRFToken")},!0),r.method=(r.method||this.defaults.method||"get").toLowerCase();let a=s&&L.merge(s.common,s[r.method]);s&&L.forEach(["delete","get","head","post","put","patch","common"],v=>{delete s[v]}),r.headers=pn.concat(a,s);const o=[];let u=!0;this.interceptors.request.forEach(function(y){typeof y.runWhen=="function"&&y.runWhen(r)===!1||(u=u&&y.synchronous,o.unshift(y.fulfilled,y.rejected))});const c=[];this.interceptors.response.forEach(function(y){c.push(y.fulfilled,y.rejected)});let d,h=0,f;if(!u){const v=[YI.bind(this),void 0];for(v.unshift(...o),v.push(...c),f=v.length,d=Promise.resolve(r);h<f;)d=d.then(v[h++],v[h++]);return d}f=o.length;let p=r;for(;h<f;){const v=o[h++],y=o[h++];try{p=v(p)}catch(x){y.call(this,x);break}}try{d=YI.call(this,p)}catch(v){return Promise.reject(v)}for(h=0,f=c.length;h<f;)d=d.then(c[h++],c[h++]);return d}getUri(e){e=Po(this.defaults,e);const r=hK(e.baseURL,e.url,e.allowAbsoluteUrls);return oK(r,e.params,e.paramsSerializer)}};L.forEach(["delete","get","head","options"],function(e){mo.prototype[e]=function(r,n){return this.request(Po(n||{},{method:e,url:r,data:(n||{}).data}))}});L.forEach(["post","put","patch"],function(e){function r(n){return function(s,a,o){return this.request(Po(o||{},{method:e,headers:n?{"Content-Type":"multipart/form-data"}:{},url:s,data:a}))}}mo.prototype[e]=r(),mo.prototype[e+"Form"]=r(!0)});let Yre=class gK{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let r;this.promise=new Promise(function(s){r=s});const n=this;this.promise.then(i=>{if(!n._listeners)return;let s=n._listeners.length;for(;s-- >0;)n._listeners[s](i);n._listeners=null}),this.promise.then=i=>{let s;const a=new Promise(o=>{n.subscribe(o),s=o}).then(i);return a.cancel=function(){n.unsubscribe(s)},a},e(function(s,a,o){n.reason||(n.reason=new Fu(s,a,o),r(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const r=this._listeners.indexOf(e);r!==-1&&this._listeners.splice(r,1)}toAbortSignal(){const e=new AbortController,r=n=>{e.abort(n)};return this.subscribe(r),e.signal.unsubscribe=()=>this.unsubscribe(r),e.signal}static source(){let e;return{token:new gK(function(i){e=i}),cancel:e}}};function Qre(t){return function(r){return t.apply(null,r)}}function Xre(t){return L.isObject(t)&&t.isAxiosError===!0}const kj={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(kj).forEach(([t,e])=>{kj[e]=t});function yK(t){const e=new mo(t),r=YH(mo.prototype.request,e);return L.extend(r,mo.prototype,e,{allOwnKeys:!0}),L.extend(r,e,null,{allOwnKeys:!0}),r.create=function(i){return yK(Po(t,i))},r}const Gt=yK(th);Gt.Axios=mo;Gt.CanceledError=Fu;Gt.CancelToken=Yre;Gt.isCancel=cK;Gt.VERSION=vK;Gt.toFormData=hm;Gt.AxiosError=Ae;Gt.Cancel=Gt.CanceledError;Gt.all=function(e){return Promise.all(e)};Gt.spread=Qre;Gt.isAxiosError=Xre;Gt.mergeConfig=Po;Gt.AxiosHeaders=pn;Gt.formToJSON=t=>uK(L.isHTMLForm(t)?new FormData(t):t);Gt.getAdapter=mK.getAdapter;Gt.HttpStatusCode=kj;Gt.default=Gt;const{Axios:H1e,AxiosError:K1e,CanceledError:G1e,isCancel:Y1e,CancelToken:Q1e,VERSION:X1e,all:J1e,Cancel:Z1e,isAxiosError:ewe,spread:twe,toFormData:rwe,AxiosHeaders:nwe,HttpStatusCode:iwe,formToJSON:swe,getAdapter:awe,mergeConfig:owe}=Gt,Dj=window.prmConfig||{},ce=Gt.create({baseURL:Dj.apiUrl||"/wp-json",headers:{"Content-Type":"application/json","X-WP-Nonce":Dj.nonce||""}});ce.interceptors.request.use(t=>{var e;return(e=window.prmConfig)!=null&&e.nonce&&(t.headers["X-WP-Nonce"]=window.prmConfig.nonce),t});ce.interceptors.response.use(t=>t,t=>{var e,r;return((e=t.response)==null?void 0:e.status)===401&&(window.location.href=Dj.loginUrl||"/wp-login.php"),((r=t.response)==null?void 0:r.status)===403&&console.error("Access denied:",t.response.data),Promise.reject(t)});const Fe={getPeople:t=>ce.get("/wp/v2/people",{params:t}),getPerson:(t,e={})=>ce.get(`/wp/v2/people/${t}`,{params:e}),createPerson:t=>ce.post("/wp/v2/people",t),updatePerson:(t,e)=>ce.put(`/wp/v2/people/${t}`,e),deletePerson:(t,e={})=>ce.delete(`/wp/v2/people/${t}`,{params:e}),getCompanies:t=>ce.get("/wp/v2/companies",{params:t}),getCompany:(t,e={})=>ce.get(`/wp/v2/companies/${t}`,{params:e}),createCompany:t=>ce.post("/wp/v2/companies",t),updateCompany:(t,e)=>ce.put(`/wp/v2/companies/${t}`,e),deleteCompany:(t,e={})=>ce.delete(`/wp/v2/companies/${t}`,{params:e}),getDates:t=>ce.get("/wp/v2/important-dates",{params:t}),getDate:t=>ce.get(`/wp/v2/important-dates/${t}`),createDate:t=>ce.post("/wp/v2/important-dates",t),updateDate:(t,e)=>ce.put(`/wp/v2/important-dates/${t}`,e),deleteDate:t=>ce.delete(`/wp/v2/important-dates/${t}`),getPersonLabels:()=>ce.get("/wp/v2/person_label"),getCompanyLabels:()=>ce.get("/wp/v2/company_label"),getRelationshipTypes:()=>ce.get("/wp/v2/relationship_type",{params:{per_page:100,_fields:"id,name,slug,acf"}}),createRelationshipType:t=>ce.post("/wp/v2/relationship_type",t),updateRelationshipType:(t,e)=>ce.post(`/wp/v2/relationship_type/${t}`,e),deleteRelationshipType:t=>ce.delete(`/wp/v2/relationship_type/${t}?force=true`),restoreRelationshipTypeDefaults:()=>ce.post("/prm/v1/relationship-types/restore-defaults"),getDateTypes:()=>ce.get("/wp/v2/date_type",{params:{per_page:100}}),uploadMedia:t=>{const e=new FormData;return e.append("file",t),ce.post("/wp/v2/media",e,{headers:{"Content-Type":"multipart/form-data"}})}},$e={getDashboard:()=>ce.get("/prm/v1/dashboard"),sideloadGravatar:(t,e)=>ce.post(`/prm/v1/people/${t}/gravatar`,{email:e}),getCurrentUser:()=>ce.get("/prm/v1/user/me"),getUsers:()=>ce.get("/prm/v1/users"),approveUser:t=>ce.post(`/prm/v1/users/${t}/approve`),denyUser:t=>ce.post(`/prm/v1/users/${t}/deny`),deleteUser:t=>ce.delete(`/prm/v1/users/${t}`),search:t=>ce.get("/prm/v1/search",{params:{q:t}}),getReminders:(t=30)=>ce.get("/prm/v1/reminders",{params:{days_ahead:t}}),triggerReminders:()=>ce.post("/prm/v1/reminders/trigger"),rescheduleCronJobs:()=>ce.post("/prm/v1/reminders/reschedule-cron"),getNotificationChannels:()=>ce.get("/prm/v1/user/notification-channels"),updateNotificationChannels:t=>ce.post("/prm/v1/user/notification-channels",{channels:t}),updateSlackWebhook:t=>ce.post("/prm/v1/user/slack-webhook",{webhook:t}),updateNotificationTime:t=>ce.post("/prm/v1/user/notification-time",{time:t}),getSlackStatus:()=>ce.get("/prm/v1/user/slack-status"),disconnectSlack:()=>ce.post("/prm/v1/slack/disconnect"),getSlackChannels:()=>ce.get("/prm/v1/slack/channels"),getSlackTargets:()=>ce.get("/prm/v1/slack/targets"),updateSlackTargets:t=>ce.post("/prm/v1/slack/targets",{targets:t}),getPersonDates:t=>ce.get(`/prm/v1/people/${t}/dates`),getPersonTimeline:t=>ce.get(`/prm/v1/people/${t}/timeline`),getPersonNotes:t=>ce.get(`/prm/v1/people/${t}/notes`),createNote:(t,e)=>ce.post(`/prm/v1/people/${t}/notes`,{content:e}),updateNote:(t,e)=>ce.put(`/prm/v1/notes/${t}`,{content:e}),deleteNote:t=>ce.delete(`/prm/v1/notes/${t}`),getPersonActivities:t=>ce.get(`/prm/v1/people/${t}/activities`),createActivity:(t,e)=>ce.post(`/prm/v1/people/${t}/activities`,e),updateActivity:(t,e)=>ce.put(`/prm/v1/activities/${t}`,e),deleteActivity:t=>ce.delete(`/prm/v1/activities/${t}`),getAllTodos:(t=!1)=>ce.get("/prm/v1/todos",{params:{completed:t}}),getInvestments:t=>ce.get(`/prm/v1/investments/${t}`),getPersonTodos:t=>ce.get(`/prm/v1/people/${t}/todos`),createTodo:(t,e)=>ce.post(`/prm/v1/people/${t}/todos`,e),updateTodo:(t,e)=>ce.put(`/prm/v1/todos/${t}`,e),deleteTodo:t=>ce.delete(`/prm/v1/todos/${t}`),getCompanyPeople:t=>ce.get(`/prm/v1/companies/${t}/people`),setCompanyLogo:(t,e)=>ce.post(`/prm/v1/companies/${t}/logo`,{media_id:e}),uploadPersonPhoto:(t,e)=>{const r=new FormData;return r.append("file",e),ce.post(`/prm/v1/people/${t}/photo`,r,{headers:{"Content-Type":"multipart/form-data"}})},uploadCompanyLogo:(t,e)=>{const r=new FormData;return r.append("file",e),ce.post(`/prm/v1/companies/${t}/logo/upload`,r,{headers:{"Content-Type":"multipart/form-data"}})}};/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Jre={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zre=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),be=(t,e)=>{const r=T.forwardRef(({color:n="currentColor",size:i=24,strokeWidth:s=2,absoluteStrokeWidth:a,className:o="",children:u,...c},d)=>T.createElement("svg",{ref:d,...Jre,width:i,height:i,stroke:n,strokeWidth:a?Number(s)*24/Number(i):s,className:["lucide",`lucide-${Zre(t)}`,o].join(" "),...c},[...e.map(([h,f])=>T.createElement(h,f)),...Array.isArray(u)?u:[u]]));return r.displayName=`${t}`,r};/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ws=be("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ene=be("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tne=be("ArrowDown",[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mn=be("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $v=be("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rne=be("ArrowUp",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ur=be("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bK=be("Cake",[["path",{d:"M20 21v-8a2 2 0 0 0-2-2H6a2 2 0 0 0-2 2v8",key:"1w3rig"}],["path",{d:"M4 16s.5-1 2-1 2.5 2 4 2 2.5-2 4-2 2.5 2 4 2 2-1 2-1",key:"n2jgmb"}],["path",{d:"M2 21h20",key:"1nyx9w"}],["path",{d:"M7 8v3",key:"1qtyvj"}],["path",{d:"M12 8v3",key:"hwp4zt"}],["path",{d:"M17 8v3",key:"1i6e5u"}],["path",{d:"M7 4h0.01",key:"hsw7lv"}],["path",{d:"M12 4h0.01",key:"1e3d8f"}],["path",{d:"M17 4h0.01",key:"p7cxgy"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const os=be("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yc=be("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XI=be("CheckCircle2",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xu=be("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mj=be("CheckSquare2",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Di=be("CheckSquare",[["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}],["path",{d:"M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11",key:"1jnkn4"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JI=be("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _p=be("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qj=be("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nne=be("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xK=be("Coffee",[["path",{d:"M17 8h1a4 4 0 1 1 0 8h-1",key:"jx4kbh"}],["path",{d:"M3 8h14v9a4 4 0 0 1-4 4H7a4 4 0 0 1-4-4Z",key:"1bxrl0"}],["line",{x1:"6",x2:"6",y1:"2",y2:"4",key:"1cr9l3"}],["line",{x1:"10",x2:"10",y1:"2",y2:"4",key:"170wym"}],["line",{x1:"14",x2:"14",y1:"2",y2:"4",key:"1c5f70"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ine=be("Command",[["path",{d:"M15 6v12a3 3 0 1 0 3-3H6a3 3 0 1 0 3 3V6a3 3 0 1 0-3 3h12a3 3 0 1 0-3-3",key:"11bfej"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sne=be("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Aj=be("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rh=be("FileCode",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["path",{d:"m10 13-2 2 2 2",key:"17smn8"}],["path",{d:"m14 17 2-2-2-2",key:"14mezr"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gO=be("FileSpreadsheet",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["path",{d:"M8 13h2",key:"yr2amv"}],["path",{d:"M8 17h2",key:"2yhykz"}],["path",{d:"M14 13h2",key:"un5t4a"}],["path",{d:"M14 17h2",key:"10kma7"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pm=be("FileText",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["line",{x1:"16",x2:"8",y1:"13",y2:"13",key:"14keom"}],["line",{x1:"16",x2:"8",y1:"17",y2:"17",key:"17nazh"}],["line",{x1:"10",x2:"8",y1:"9",y2:"9",key:"1a5vjj"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fj=be("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ane=be("Gift",[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZI=be("GitBranch",[["line",{x1:"6",x2:"6",y1:"3",y2:"15",key:"17qcm7"}],["circle",{cx:"18",cy:"6",r:"3",key:"1h7g24"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["path",{d:"M18 9a9 9 0 0 1-9 9",key:"n2h4wq"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zf=be("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const one=be("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lne=be("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wK=be("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _K=be("Link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Io=be("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const une=be("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yO=be("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cne=be("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dne=be("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SK=be("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hne=be("Pen",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bs=be("Pencil",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bO=be("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bt=be("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fne=be("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EK=be("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _s=be("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ro=be("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NK=be("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jK=be("ShieldAlert",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pne=be("SkipForward",[["polygon",{points:"5 4 15 12 5 20 5 4",key:"16p6eg"}],["line",{x1:"19",x2:"19",y1:"5",y2:"19",key:"futhcm"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CK=be("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OK=be("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a2.121 2.121 0 1 1 3 3L12 15l-4 1 1-4Z",key:"1lpok0"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wu=be("Square",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _u=be("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TK=be("StickyNote",[["path",{d:"M15.5 3H5a2 2 0 0 0-2 2v14c0 1.1.9 2 2 2h14a2 2 0 0 0 2-2V8.5L15.5 3Z",key:"1wis1t"}],["path",{d:"M15 3v6h6",key:"edgan2"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sn=be("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sp=be("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $o=be("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mne=be("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Na=be("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mi=be("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PK=be("Utensils",[["path",{d:"M3 2v7c0 1.1.9 2 2 2h4a2 2 0 0 0 2-2V2",key:"cjf0a3"}],["path",{d:"M7 2v20",key:"1473qp"}],["path",{d:"M21 15V2v0a5 5 0 0 0-5 5v6c0 1.1.9 2 2 2h3Zm0 0v7",key:"1ogz0v"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eR=be("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mr=be("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vne=be("ZoomIn",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"11",x2:"11",y1:"8",y2:"14",key:"1vmskp"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gne=be("ZoomOut",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]]),Su="Caelis";function Xr(t){T.useEffect(()=>{var e;if(t){const r=((e=window.prmConfig)==null?void 0:e.siteName)||Su;document.title=`${t} - ${r}`}},[t])}function yne(t){const e=t.match(/\/(?:people|companies|dates)\/(\d+)/);return e?e[1]:null}function IK(t=null){const e=Cs();T.useEffect(()=>{var i;let r=t;if(!r){const s=e.pathname,a=yne(s);s==="/"?r="Dashboard":s==="/login"?r="Login":s.startsWith("/people")?s==="/people"||s==="/people/"?r="People":s==="/people/new"?r="New person":s.endsWith("/edit")?r="Edit person":a?r="Person":r="People":s.startsWith("/companies")?s==="/companies"||s==="/companies/"?r="Organizations":s==="/companies/new"?r="New organization":s.endsWith("/edit")?r="Edit organization":a?r="Organization":r="Organizations":s.startsWith("/dates")?s==="/dates"||s==="/dates/"?r="Events":s==="/dates/new"?r="New date":s.endsWith("/edit")?r="Edit date":r="Events":s.startsWith("/settings")?r="Settings":r=Su}const n=((i=window.prmConfig)==null?void 0:i.siteName)||Su;document.title=`${r} - ${n}`},[e.pathname,t])}function bne(){return et({queryKey:["dashboard"],queryFn:async()=>(await $e.getDashboard()).data})}function xne(t=30){return et({queryKey:["reminders",t],queryFn:async()=>(await $e.getReminders(t)).data})}function RK(t=!1){return et({queryKey:["todos",t],queryFn:async()=>(await $e.getAllTodos(t)).data})}function $K(){const t=ot();return rt({mutationFn:({todoId:e,data:r})=>$e.updateTodo(e,r),onSuccess:()=>{t.invalidateQueries({queryKey:["todos"]}),t.invalidateQueries({queryKey:["dashboard"]})}})}function wne(){const t=ot();return rt({mutationFn:e=>$e.deleteTodo(e),onSuccess:()=>{t.invalidateQueries({queryKey:["todos"]}),t.invalidateQueries({queryKey:["dashboard"]})}})}function _ne(t){const e=typeof t=="string"?t:"",r=e.length>=2;return et({queryKey:["search",e],queryFn:async()=>r?(await $e.search(e)).data:{people:[],companies:[]},enabled:r})}function un(t){if(!t)return"";const e=document.createElement("textarea");return e.innerHTML=t,e.value}function Ft(t){var r;if(!t)return"";const e=((r=t.title)==null?void 0:r.rendered)||t.title||t.name||"";return un(e)}function vo(t){var r,n;if(!t)return"";if(t.name&&typeof t.name=="string"&&!((r=t.title)!=null&&r.rendered))return un(t.name);const e=((n=t.title)==null?void 0:n.rendered)||t.title||t.name||"";return un(e)}function ts(t,e={}){const r=["gender"],n=["contact_info","addresses","work_history","relationships","photo_gallery"],i={...t};return r.forEach(s=>{i[s]===""&&(i[s]=null)}),n.forEach(s=>{Array.isArray(i[s])||(i[s]=[])}),Object.assign(i,e),i}const xt={all:["people"],lists:()=>[...xt.all,"list"],list:t=>[...xt.lists(),t],details:()=>[...xt.all,"detail"],detail:t=>[...xt.details(),t],timeline:t=>[...xt.detail(t),"timeline"],dates:t=>[...xt.detail(t),"dates"]};function kK(t){var i,s,a,o,u,c,d,h,f,p,v,y,x,g,m,w,b;const e=((a=(s=(i=t._embedded)==null?void 0:i["wp:featuredmedia"])==null?void 0:s[0])==null?void 0:a.source_url)||((f=(h=(d=(c=(u=(o=t._embedded)==null?void 0:o["wp:featuredmedia"])==null?void 0:u[0])==null?void 0:c.media_details)==null?void 0:d.sizes)==null?void 0:h.thumbnail)==null?void 0:f.source_url)||null,r=((x=(y=(v=(p=t._embedded)==null?void 0:p["wp:term"])==null?void 0:v.flat())==null?void 0:y.filter(_=>(_==null?void 0:_.taxonomy)==="person_label"))==null?void 0:x.map(_=>_.name))||[],n=un(((g=t.title)==null?void 0:g.rendered)||"");return{...t,id:t.id,name:n,first_name:((m=t.acf)==null?void 0:m.first_name)||"",last_name:((w=t.acf)==null?void 0:w.last_name)||"",is_favorite:((b=t.acf)==null?void 0:b.is_favorite)||!1,is_deceased:t.is_deceased||!1,thumbnail:e,labels:r}}function Ho(t={}){return et({queryKey:xt.list(t),queryFn:async()=>{const e=[];let r=1;const n=100;for(;;){const i=await Fe.getPeople({per_page:n,page:r,_embed:!0,...t}),s=i.data.map(kK);if(e.push(...s),s.length<n)break;const a=parseInt(i.headers["x-wp-totalpages"]||i.headers["X-WP-TotalPages"]||"0",10);if(a>0&&r>=a)break;r++}return e}})}function Ko(t){return et({queryKey:xt.detail(t),queryFn:async()=>{const e=await Fe.getPerson(t,{_embed:!0});return kK(e.data)},enabled:!!t})}function Sne(t){return et({queryKey:xt.timeline(t),queryFn:async()=>(await $e.getPersonTimeline(t)).data,enabled:!!t})}function Ene(t){return et({queryKey:xt.dates(t),queryFn:async()=>(await $e.getPersonDates(t)).data,enabled:!!t})}function Nne(){const t=ot();return rt({mutationFn:e=>Fe.createPerson(e),onSuccess:()=>{t.invalidateQueries({queryKey:xt.lists()})}})}function Lu(){const t=ot();return rt({mutationFn:({id:e,data:r})=>Fe.updatePerson(e,r),onSuccess:(e,{id:r,data:n})=>{var i;t.invalidateQueries({queryKey:xt.detail(r)}),t.invalidateQueries({queryKey:xt.lists()}),(i=n==null?void 0:n.acf)!=null&&i.relationships&&(Array.isArray(n.acf.relationships)?n.acf.relationships:[]).forEach(a=>{const o=a.related_person;o&&t.invalidateQueries({queryKey:xt.detail(o)})})}})}function jne(){const t=ot();return rt({mutationFn:e=>Fe.deletePerson(e,{force:!0}),onSuccess:()=>{t.invalidateQueries({queryKey:xt.lists()}),t.invalidateQueries({queryKey:xt.details()})}})}function Cne(){const t=ot();return rt({mutationFn:({personId:e,content:r})=>$e.createNote(e,r),onSuccess:(e,{personId:r})=>{t.invalidateQueries({queryKey:xt.timeline(r)})}})}function One(){const t=ot();return rt({mutationFn:({noteId:e,personId:r})=>$e.deleteNote(e),onSuccess:(e,{personId:r})=>{t.invalidateQueries({queryKey:xt.timeline(r)})}})}function xO(){const t=ot();return rt({mutationFn:({personId:e,data:r})=>$e.createActivity(e,r),onSuccess:(e,{personId:r})=>{t.invalidateQueries({queryKey:xt.timeline(r)})}})}function Tne(){const t=ot();return rt({mutationFn:({activityId:e,data:r,personId:n})=>$e.updateActivity(e,r),onSuccess:(e,{personId:r})=>{r&&t.invalidateQueries({queryKey:xt.timeline(r)})}})}function Pne(){const t=ot();return rt({mutationFn:({activityId:e,personId:r})=>$e.deleteActivity(e),onSuccess:(e,{personId:r})=>{r&&t.invalidateQueries({queryKey:xt.timeline(r)})}})}function DK(){const t=ot();return rt({mutationFn:({personId:e,data:r})=>$e.createTodo(e,r),onSuccess:(e,{personId:r})=>{t.invalidateQueries({queryKey:xt.timeline(r)})}})}function Ine(){const t=ot();return rt({mutationFn:({todoId:e,data:r,personId:n})=>$e.updateTodo(e,r),onSuccess:(e,{personId:r})=>{r&&t.invalidateQueries({queryKey:xt.timeline(r)})}})}function Rne(){const t=ot();return rt({mutationFn:({todoId:e,personId:r})=>$e.deleteTodo(e),onSuccess:(e,{personId:r})=>{r&&t.invalidateQueries({queryKey:xt.timeline(r)})}})}function $ne(){const t=ot();return rt({mutationFn:({dateId:e,personId:r})=>Fe.deleteDate(e),onSuccess:(e,{personId:r})=>{r&&(t.invalidateQueries({queryKey:xt.dates(r)}),t.invalidateQueries({queryKey:xt.detail(r)})),t.invalidateQueries({queryKey:["reminders"]})}})}function MK({isOpen:t,onClose:e}){const[r,n]=T.useState(""),[i,s]=T.useState(""),[a,o]=T.useState(""),[u,c]=T.useState(!1),[d,h]=T.useState(""),{data:f=[],isLoading:p}=Ho(),v=DK(),y=ot(),x=T.useMemo(()=>{const E=d.toLowerCase().trim();let j=f;return E&&(j=f.filter(S=>{var C,N,O;return((C=S.name)==null?void 0:C.toLowerCase().includes(E))||((N=S.first_name)==null?void 0:N.toLowerCase().includes(E))||((O=S.last_name)==null?void 0:O.toLowerCase().includes(E))})),[...j].sort((S,C)=>(S.name||"").localeCompare(C.name||""))},[f,d]),g=T.useMemo(()=>f.find(E=>E.id===parseInt(a)),[f,a]),m=()=>new Date().toISOString().split("T")[0];if(T.useEffect(()=>{t&&(n(""),s(m()),o(""),h(""),c(!1))},[t]),!t)return null;const w=async E=>{if(E.preventDefault(),!(!r.trim()||!a))try{await v.mutateAsync({personId:parseInt(a),data:{content:r.trim(),due_date:i||null,is_completed:!1}}),y.invalidateQueries({queryKey:["todos"]}),e()}catch(j){console.error("Failed to create todo:",j)}},b=()=>{e()},_=E=>{if(!E)return"";try{return new Date(E).toISOString().split("T")[0]}catch{return""}};return l.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50",children:l.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-md mx-4",children:[l.jsxs("div",{className:"flex items-center justify-between p-4 border-b",children:[l.jsx("h2",{className:"text-lg font-semibold",children:"Add todo"}),l.jsx("button",{onClick:b,className:"text-gray-400 hover:text-gray-600",disabled:v.isPending,children:l.jsx(Mr,{className:"w-5 h-5"})})]}),l.jsxs("form",{onSubmit:w,className:"p-4",children:[l.jsxs("div",{className:"mb-4",children:[l.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Person ",l.jsx("span",{className:"text-red-500",children:"*"})]}),l.jsxs("div",{className:"relative",children:[l.jsxs("button",{type:"button",onClick:()=>c(!u),className:"w-full flex items-center justify-between px-3 py-2 border border-gray-300 rounded-md bg-white text-left focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent",disabled:v.isPending,children:[g?l.jsxs("div",{className:"flex items-center gap-2",children:[g.thumbnail?l.jsx("img",{src:g.thumbnail,alt:g.name,className:"w-6 h-6 rounded-full object-cover"}):l.jsx("div",{className:"w-6 h-6 bg-gray-200 rounded-full flex items-center justify-center",children:l.jsx(Na,{className:"w-4 h-4 text-gray-500"})}),l.jsx("span",{className:"text-gray-900",children:g.name})]}):l.jsx("span",{className:"text-gray-400",children:"Select a person..."}),l.jsx(_p,{className:`w-4 h-4 text-gray-400 transition-transform ${u?"rotate-180":""}`})]}),u&&l.jsxs("div",{className:"absolute z-10 w-full mt-1 bg-white border border-gray-200 rounded-lg shadow-lg max-h-60 overflow-hidden",children:[l.jsx("div",{className:"p-2 border-b border-gray-100",children:l.jsxs("div",{className:"relative",children:[l.jsx(Ro,{className:"absolute left-2 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}),l.jsx("input",{type:"text",value:d,onChange:E=>h(E.target.value),placeholder:"Search people...",className:"w-full pl-8 pr-3 py-1.5 text-sm border border-gray-200 rounded focus:outline-none focus:ring-1 focus:ring-primary-500",autoFocus:!0})]})}),l.jsx("div",{className:"overflow-y-auto max-h-48",children:p?l.jsx("div",{className:"p-3 text-center text-gray-500 text-sm",children:"Loading..."}):x.length>0?x.map(E=>l.jsxs("button",{type:"button",onClick:()=>{o(String(E.id)),c(!1),h("")},className:`w-full flex items-center gap-2 px-3 py-2 text-left hover:bg-gray-50 transition-colors ${a===String(E.id)?"bg-primary-50":""}`,children:[E.thumbnail?l.jsx("img",{src:E.thumbnail,alt:E.name,className:"w-6 h-6 rounded-full object-cover"}):l.jsx("div",{className:"w-6 h-6 bg-gray-200 rounded-full flex items-center justify-center",children:l.jsx(Na,{className:"w-4 h-4 text-gray-500"})}),l.jsx("span",{className:"text-sm text-gray-900 truncate",children:E.name})]},E.id)):l.jsx("div",{className:"p-3 text-center text-gray-500 text-sm",children:"No people found"})})]})]})]}),l.jsxs("div",{className:"mb-4",children:[l.jsxs("label",{htmlFor:"todo-content",className:"block text-sm font-medium text-gray-700 mb-2",children:["Description ",l.jsx("span",{className:"text-red-500",children:"*"})]}),l.jsx("textarea",{id:"todo-content",value:r,onChange:E=>n(E.target.value),rows:4,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent",placeholder:"What needs to be done?",disabled:v.isPending})]}),l.jsxs("div",{className:"mb-4",children:[l.jsx("label",{htmlFor:"todo-due-date",className:"block text-sm font-medium text-gray-700 mb-2",children:"Due date (optional)"}),l.jsx("input",{id:"todo-due-date",type:"date",value:_(i),onChange:E=>s(E.target.value||""),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent",disabled:v.isPending})]}),l.jsxs("div",{className:"flex justify-end gap-2",children:[l.jsx("button",{type:"button",onClick:b,className:"btn-secondary",disabled:v.isPending,children:"Cancel"}),l.jsx("button",{type:"submit",className:"btn-primary",disabled:v.isPending||!r.trim()||!a,children:v.isPending?"Adding...":"Add todo"})]})]})]})})}const kne=[{name:"Dashboard",href:"/",icon:lne},{name:"People",href:"/people",icon:Mi},{name:"Organizations",href:"/companies",icon:ur},{name:"Dates",href:"/dates",icon:os},{name:"Todos",href:"/todos",icon:Di},{name:"Settings",href:"/settings",icon:NK}];function tR({mobile:t=!1,onClose:e}){const{logoutUrl:r}=hO();return l.jsxs("div",{className:"flex flex-col h-full bg-white border-r border-gray-200",children:[l.jsxs("div",{className:"flex items-center justify-between h-16 px-4 border-b border-gray-200",children:[l.jsxs(oe,{to:"/",className:"flex items-center gap-2 text-xl font-bold text-primary-600",children:[l.jsx(CK,{className:"w-5 h-5"}),Su]}),t&&l.jsx("button",{onClick:e,className:"p-2 -mr-2",children:l.jsx(Mr,{className:"w-5 h-5"})})]}),l.jsx("nav",{className:"flex-1 px-2 py-4 space-y-1 overflow-y-auto",children:kne.map(n=>l.jsxs(Wee,{to:n.href,onClick:t?e:void 0,className:({isActive:i})=>`flex items-center px-3 py-2 text-sm font-medium rounded-lg transition-colors ${i?"bg-primary-50 text-primary-700":"text-gray-700 hover:bg-gray-50"}`,children:[l.jsx(n.icon,{className:"w-5 h-5 mr-3"}),n.name]},n.name))}),l.jsx("div",{className:"p-4 border-t border-gray-200",children:l.jsxs("a",{href:r,className:"flex items-center px-3 py-2 text-sm font-medium text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:[l.jsx(une,{className:"w-5 h-5 mr-3"}),"Log Out"]})})]})}function Dne(){var a;const[t,e]=T.useState(!1),r=T.useRef(null),{data:n,isLoading:i}=et({queryKey:["current-user"],queryFn:async()=>(await $e.getCurrentUser()).data});if(T.useEffect(()=>{const o=u=>{r.current&&!r.current.contains(u.target)&&e(!1)};if(t)return document.addEventListener("mousedown",o),()=>{document.removeEventListener("mousedown",o)}},[t]),i||!n)return l.jsx("div",{className:"flex items-center ml-auto",children:l.jsx("div",{className:"w-8 h-8 bg-gray-200 rounded-full animate-pulse"})});const s=((a=n.name)==null?void 0:a.split(" ").map(o=>o[0]).join("").toUpperCase().slice(0,2))||"?";return l.jsxs("div",{className:"relative ml-auto",ref:r,children:[l.jsxs("button",{onClick:()=>e(!t),className:"flex items-center gap-2 p-1 rounded-full hover:bg-gray-100 transition-colors","aria-label":"User menu",children:[n.avatar_url?l.jsx("img",{src:n.avatar_url,alt:n.name,className:"w-8 h-8 rounded-full object-cover"}):l.jsx("div",{className:"w-8 h-8 bg-primary-100 rounded-full flex items-center justify-center",children:l.jsx("span",{className:"text-sm font-medium text-primary-700",children:s})}),l.jsx(_p,{className:`w-4 h-4 text-gray-500 transition-transform ${t?"rotate-180":""}`})]}),t&&l.jsx("div",{className:"absolute right-0 mt-2 w-48 bg-white border border-gray-200 rounded-lg shadow-lg z-50",children:l.jsxs("div",{className:"py-1",children:[l.jsxs("a",{href:n.profile_url,target:"_blank",rel:"noopener noreferrer",className:"flex items-center px-4 py-2 text-sm text-gray-700 hover:bg-gray-50 transition-colors",onClick:()=>e(!1),children:[l.jsx(Na,{className:"w-4 h-4 mr-2"}),l.jsx("span",{className:"hidden md:inline",children:"Edit profile"})]}),n.is_admin&&l.jsxs("a",{href:n.admin_url,target:"_blank",rel:"noopener noreferrer",className:"flex items-center px-4 py-2 text-sm text-gray-700 hover:bg-gray-50 transition-colors",onClick:()=>e(!1),children:[l.jsx(NK,{className:"w-4 h-4 mr-2"}),l.jsx("span",{className:"hidden md:inline",children:"WordPress admin"})]})]})})]})}function Mne({isOpen:t,onClose:e}){const[r,n]=T.useState(""),[i,s]=T.useState(0),a=qr(),o=T.useRef(null),u=r.trim(),{data:c,isLoading:d}=_ne(u),h=c||{people:[],companies:[]},f=[...(h.people||[]).map(g=>({...g,type:"person"})),...(h.companies||[]).map(g=>({...g,type:"company"}))],p=f.length>0,v=r.trim().length>=2;T.useEffect(()=>{t&&(n(""),s(0),setTimeout(()=>{var g;return(g=o.current)==null?void 0:g.focus()},50))},[t]),T.useEffect(()=>{s(0)},[c]);const y=g=>{if(g.key==="Escape"){e();return}if(!(!v||!p)){if(g.key==="ArrowDown")g.preventDefault(),s(m=>Math.min(m+1,f.length-1));else if(g.key==="ArrowUp")g.preventDefault(),s(m=>Math.max(m-1,0));else if(g.key==="Enter"){g.preventDefault();const m=f[i];m&&x(m.type,m.id)}}},x=(g,m)=>{e(),g==="person"?a(`/people/${m}`):g==="company"&&a(`/companies/${m}`)};return t?l.jsxs("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:[l.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm",onClick:e}),l.jsx("div",{className:"relative min-h-screen flex items-start justify-center pt-[15vh] px-4",children:l.jsxs("div",{className:"relative w-full max-w-xl bg-white rounded-xl shadow-2xl overflow-hidden",children:[l.jsxs("div",{className:"flex items-center px-4 border-b border-gray-200",children:[l.jsx(Ro,{className:"w-5 h-5 text-gray-400 flex-shrink-0"}),l.jsx("input",{ref:o,type:"text",value:r,onChange:g=>n(g.target.value),onKeyDown:y,placeholder:"Search people & organizations...",className:"flex-1 px-4 py-4 text-lg outline-none placeholder:text-gray-400",autoComplete:"off"}),l.jsxs("div",{className:"flex items-center gap-1 text-xs text-gray-400",children:[l.jsx("kbd",{className:"px-1.5 py-0.5 bg-gray-100 rounded text-gray-500 font-mono",children:"esc"}),l.jsx("span",{children:"to close"})]})]}),l.jsx("div",{className:"max-h-96 overflow-y-auto",children:v?d?l.jsxs("div",{className:"px-4 py-8 text-center",children:[l.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600 mx-auto"}),l.jsx("p",{className:"mt-3 text-sm text-gray-500",children:"Searching..."})]}):p?l.jsxs("div",{className:"py-2",children:[h.people&&h.people.length>0&&l.jsxs("div",{className:"px-2",children:[l.jsx("div",{className:"px-3 py-2 text-xs font-semibold text-gray-500 uppercase tracking-wide",children:"People"}),h.people.map((g,m)=>{const b=i===m;return l.jsxs("button",{onClick:()=>x("person",g.id),className:`w-full flex items-center gap-3 px-3 py-2.5 rounded-lg transition-colors text-left ${b?"bg-primary-50 text-primary-900":"hover:bg-gray-50"}`,children:[g.thumbnail?l.jsx("img",{src:g.thumbnail,alt:g.name,className:"w-8 h-8 rounded-full object-cover"}):l.jsx("div",{className:"w-8 h-8 bg-gray-200 rounded-full flex items-center justify-center",children:l.jsx(Na,{className:"w-4 h-4 text-gray-500"})}),l.jsx("span",{className:"text-sm font-medium flex-1 truncate",children:g.name}),b&&l.jsx("kbd",{className:"px-1.5 py-0.5 bg-gray-100 rounded text-xs text-gray-500 font-mono",children:""})]},g.id)})]}),h.companies&&h.companies.length>0&&l.jsxs("div",{className:"px-2 mt-2",children:[l.jsx("div",{className:"px-3 py-2 text-xs font-semibold text-gray-500 uppercase tracking-wide",children:"Organizations"}),h.companies.map((g,m)=>{var _;const w=(((_=h.people)==null?void 0:_.length)||0)+m,b=i===w;return l.jsxs("button",{onClick:()=>x("company",g.id),className:`w-full flex items-center gap-3 px-3 py-2.5 rounded-lg transition-colors text-left ${b?"bg-primary-50 text-primary-900":"hover:bg-gray-50"}`,children:[g.thumbnail?l.jsx("img",{src:g.thumbnail,alt:g.name,className:"w-8 h-8 rounded object-contain bg-white"}):l.jsx("div",{className:"w-8 h-8 bg-gray-200 rounded flex items-center justify-center",children:l.jsx(ur,{className:"w-4 h-4 text-gray-500"})}),l.jsx("span",{className:"text-sm font-medium flex-1 truncate",children:g.name}),b&&l.jsx("kbd",{className:"px-1.5 py-0.5 bg-gray-100 rounded text-xs text-gray-500 font-mono",children:""})]},g.id)})]})]}):l.jsx("div",{className:"px-4 py-8 text-center text-gray-500",children:l.jsxs("p",{className:"text-sm",children:['No results found for "',r,'"']})}):l.jsxs("div",{className:"px-4 py-8 text-center text-gray-500",children:[l.jsx(Ro,{className:"w-12 h-12 mx-auto mb-3 text-gray-300"}),l.jsx("p",{className:"text-sm",children:"Type at least 2 characters to search"})]})}),l.jsx("div",{className:"px-4 py-3 bg-gray-50 border-t border-gray-200 flex items-center justify-between text-xs text-gray-500",children:l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsxs("span",{className:"flex items-center gap-1",children:[l.jsx("kbd",{className:"px-1.5 py-0.5 bg-white border border-gray-200 rounded font-mono",children:""}),l.jsx("kbd",{className:"px-1.5 py-0.5 bg-white border border-gray-200 rounded font-mono",children:""}),l.jsx("span",{children:"to navigate"})]}),l.jsxs("span",{className:"flex items-center gap-1",children:[l.jsx("kbd",{className:"px-1.5 py-0.5 bg-white border border-gray-200 rounded font-mono",children:""}),l.jsx("span",{children:"to select"})]})]})})]})})]}):null}function qne({onAddTodo:t}){const[e,r]=T.useState(!1),n=T.useRef(null),i=qr();T.useEffect(()=>{const o=u=>{n.current&&!n.current.contains(u.target)&&r(!1)};if(e)return document.addEventListener("mousedown",o),()=>{document.removeEventListener("mousedown",o)}},[e]);const s=o=>{r(!1),i(o)},a=()=>{r(!1),t()};return l.jsxs("div",{className:"relative",ref:n,children:[l.jsx("button",{onClick:()=>r(!e),className:"flex items-center justify-center w-9 h-9 rounded-lg bg-primary-600 hover:bg-primary-700 text-white transition-colors","aria-label":"Quick add",title:"Quick add",children:l.jsx(Bt,{className:"w-5 h-5"})}),e&&l.jsx("div",{className:"absolute right-0 mt-2 w-48 bg-white border border-gray-200 rounded-lg shadow-lg z-50",children:l.jsxs("div",{className:"py-1",children:[l.jsxs("button",{onClick:()=>s("/people/new"),className:"w-full flex items-center px-4 py-2 text-sm text-gray-700 hover:bg-gray-50 transition-colors text-left",children:[l.jsx(Na,{className:"w-4 h-4 mr-3 text-gray-400"}),"New Person"]}),l.jsxs("button",{onClick:()=>s("/companies/new"),className:"w-full flex items-center px-4 py-2 text-sm text-gray-700 hover:bg-gray-50 transition-colors text-left",children:[l.jsx(ur,{className:"w-4 h-4 mr-3 text-gray-400"}),"New Organization"]}),l.jsxs("button",{onClick:a,className:"w-full flex items-center px-4 py-2 text-sm text-gray-700 hover:bg-gray-50 transition-colors text-left",children:[l.jsx(Di,{className:"w-4 h-4 mr-3 text-gray-400"}),"New Todo"]}),l.jsxs("button",{onClick:()=>s("/dates/new"),className:"w-full flex items-center px-4 py-2 text-sm text-gray-700 hover:bg-gray-50 transition-colors text-left",children:[l.jsx(os,{className:"w-4 h-4 mr-3 text-gray-400"}),"New Date"]})]})})]})}function Ane({onMenuClick:t,onAddTodo:e,onOpenSearch:r}){const n=Cs(),i=()=>{const s=n.pathname;return s==="/"?"Dashboard":s.startsWith("/people")?"People":s.startsWith("/companies")?"Organizations":s.startsWith("/dates")?"Important Dates":s.startsWith("/todos")?"Todos":s.startsWith("/settings")?"Settings":""};return l.jsxs("header",{className:"sticky top-0 z-10 flex items-center h-16 px-4 bg-white border-b border-gray-200 lg:px-6",children:[l.jsx("button",{onClick:t,className:"p-2 -ml-2 lg:hidden",children:l.jsx(dne,{className:"w-5 h-5"})}),l.jsx("h1",{className:"ml-2 text-lg font-semibold lg:ml-0",children:i()}),l.jsx("div",{className:"flex-1"}),l.jsxs("button",{onClick:r,className:"flex items-center gap-2 px-3 py-1.5 rounded-lg border border-gray-200 hover:bg-gray-50 text-gray-500 transition-colors","aria-label":"Search",title:"Search (K)",children:[l.jsx(Ro,{className:"w-4 h-4"}),l.jsx("span",{className:"hidden sm:inline text-sm",children:"Search..."}),l.jsxs("kbd",{className:"hidden sm:flex items-center gap-0.5 px-1.5 py-0.5 bg-gray-100 rounded text-xs text-gray-500 font-mono",children:[l.jsx(ine,{className:"w-3 h-3"}),"K"]})]}),l.jsx("div",{className:"ml-2",children:l.jsx(qne,{onAddTodo:e})}),l.jsx("div",{className:"ml-2",children:l.jsx(Dne,{})})]})}function Fne({children:t}){const[e,r]=T.useState(!1),[n,i]=T.useState(!1),[s,a]=T.useState(!1);return IK(),T.useEffect(()=>{const o=u=>{(u.metaKey||u.ctrlKey)&&u.key==="k"&&(u.preventDefault(),a(!0))};return document.addEventListener("keydown",o),()=>document.removeEventListener("keydown",o)},[]),l.jsxs("div",{className:"flex h-screen bg-gray-50",children:[l.jsx("div",{className:"hidden lg:flex lg:w-64 lg:flex-col",children:l.jsx(tR,{})}),e&&l.jsxs("div",{className:"fixed inset-0 z-40 lg:hidden",children:[l.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-75",onClick:()=>r(!1)}),l.jsx("div",{className:"fixed inset-y-0 left-0 flex flex-col w-64 bg-white",children:l.jsx(tR,{mobile:!0,onClose:()=>r(!1)})})]}),l.jsxs("div",{className:"flex flex-col flex-1 min-w-0",children:[l.jsx(Ane,{onMenuClick:()=>r(!0),onAddTodo:()=>i(!0),onOpenSearch:()=>a(!0)}),l.jsx("main",{className:"flex-1 overflow-y-auto p-4 lg:p-6",children:t})]}),l.jsx(Mne,{isOpen:s,onClose:()=>a(!1)}),l.jsx(MK,{isOpen:n,onClose:()=>i(!1)})]})}function Je(t){const e=Object.prototype.toString.call(t);return t instanceof Date||typeof t=="object"&&e==="[object Date]"?new t.constructor(+t):typeof t=="number"||e==="[object Number]"||typeof t=="string"||e==="[object String]"?new Date(t):new Date(NaN)}function Ss(t,e){return t instanceof Date?new t.constructor(e):new Date(e)}function Lne(t,e){const r=Je(t);return isNaN(e)?Ss(t,NaN):(e&&r.setDate(r.getDate()+e),r)}const qK=6048e5,Bne=864e5,AK=6e4,FK=36e5,mf=43200,rR=1440;let zne={};function nh(){return zne}function ko(t,e){var o,u,c,d;const r=nh(),n=(e==null?void 0:e.weekStartsOn)??((u=(o=e==null?void 0:e.locale)==null?void 0:o.options)==null?void 0:u.weekStartsOn)??r.weekStartsOn??((d=(c=r.locale)==null?void 0:c.options)==null?void 0:d.weekStartsOn)??0,i=Je(t),s=i.getDay(),a=(s<n?7:0)+s-n;return i.setDate(i.getDate()-a),i.setHours(0,0,0,0),i}function Ep(t){return ko(t,{weekStartsOn:1})}function LK(t){const e=Je(t),r=e.getFullYear(),n=Ss(t,0);n.setFullYear(r+1,0,4),n.setHours(0,0,0,0);const i=Ep(n),s=Ss(t,0);s.setFullYear(r,0,4),s.setHours(0,0,0,0);const a=Ep(s);return e.getTime()>=i.getTime()?r+1:e.getTime()>=a.getTime()?r:r-1}function Np(t){const e=Je(t);return e.setHours(0,0,0,0),e}function jp(t){const e=Je(t),r=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return r.setUTCFullYear(e.getFullYear()),+t-+r}function Une(t,e){const r=Np(t),n=Np(e),i=+r-jp(r),s=+n-jp(n);return Math.round((i-s)/Bne)}function Wne(t){const e=LK(t),r=Ss(t,0);return r.setFullYear(e,0,4),r.setHours(0,0,0,0),Ep(r)}function Vl(t,e){const r=Je(t),n=Je(e),i=r.getTime()-n.getTime();return i<0?-1:i>0?1:i}function mm(t){return Ss(t,Date.now())}function BK(t,e){const r=Np(t),n=Np(e);return+r==+n}function Vne(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function Hne(t){if(!Vne(t)&&typeof t!="number")return!1;const e=Je(t);return!isNaN(Number(e))}function Kne(t,e){const r=Je(t),n=Je(e),i=r.getFullYear()-n.getFullYear(),s=r.getMonth()-n.getMonth();return i*12+s}function Gne(t,e){const r=Je(t),n=Je(e);return r.getFullYear()-n.getFullYear()}function Yne(t){return e=>{const n=(t?Math[t]:Math.trunc)(e);return n===0?0:n}}function Qne(t,e){return+Je(t)-+Je(e)}function Xne(t){const e=Je(t);return e.setHours(23,59,59,999),e}function Jne(t){const e=Je(t),r=e.getMonth();return e.setFullYear(e.getFullYear(),r+1,0),e.setHours(23,59,59,999),e}function Zne(t){const e=Je(t);return+Xne(e)==+Jne(e)}function eie(t,e){const r=Je(t),n=Je(e),i=Vl(r,n),s=Math.abs(Kne(r,n));let a;if(s<1)a=0;else{r.getMonth()===1&&r.getDate()>27&&r.setDate(30),r.setMonth(r.getMonth()-i*s);let o=Vl(r,n)===-i;Zne(Je(t))&&s===1&&Vl(t,n)===1&&(o=!1),a=i*(s-Number(o))}return a===0?0:a}function tie(t,e,r){const n=Qne(t,e)/1e3;return Yne(r==null?void 0:r.roundingMethod)(n)}function kv(t,e){const r=Je(t),n=Je(e),i=Vl(r,n),s=Math.abs(Gne(r,n));r.setFullYear(1584),n.setFullYear(1584);const a=Vl(r,n)===-i,o=i*(s-+a);return o===0?0:o}function rie(t){const e=Je(t),r=Ss(t,0);return r.setFullYear(e.getFullYear(),0,1),r.setHours(0,0,0,0),r}const nie={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},iie=(t,e,r)=>{let n;const i=nie[t];return typeof i=="string"?n=i:e===1?n=i.one:n=i.other.replace("{{count}}",e.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+n:n+" ago":n};function Dv(t){return(e={})=>{const r=e.width?String(e.width):t.defaultWidth;return t.formats[r]||t.formats[t.defaultWidth]}}const sie={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},aie={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},oie={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},lie={date:Dv({formats:sie,defaultWidth:"full"}),time:Dv({formats:aie,defaultWidth:"full"}),dateTime:Dv({formats:oie,defaultWidth:"full"})},uie={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},cie=(t,e,r,n)=>uie[t];function Nc(t){return(e,r)=>{const n=r!=null&&r.context?String(r.context):"standalone";let i;if(n==="formatting"&&t.formattingValues){const a=t.defaultFormattingWidth||t.defaultWidth,o=r!=null&&r.width?String(r.width):a;i=t.formattingValues[o]||t.formattingValues[a]}else{const a=t.defaultWidth,o=r!=null&&r.width?String(r.width):t.defaultWidth;i=t.values[o]||t.values[a]}const s=t.argumentCallback?t.argumentCallback(e):e;return i[s]}}const die={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},hie={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},fie={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},pie={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},mie={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},vie={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},gie=(t,e)=>{const r=Number(t),n=r%100;if(n>20||n<10)switch(n%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},yie={ordinalNumber:gie,era:Nc({values:die,defaultWidth:"wide"}),quarter:Nc({values:hie,defaultWidth:"wide",argumentCallback:t=>t-1}),month:Nc({values:fie,defaultWidth:"wide"}),day:Nc({values:pie,defaultWidth:"wide"}),dayPeriod:Nc({values:mie,defaultWidth:"wide",formattingValues:vie,defaultFormattingWidth:"wide"})};function jc(t){return(e,r={})=>{const n=r.width,i=n&&t.matchPatterns[n]||t.matchPatterns[t.defaultMatchWidth],s=e.match(i);if(!s)return null;const a=s[0],o=n&&t.parsePatterns[n]||t.parsePatterns[t.defaultParseWidth],u=Array.isArray(o)?xie(o,h=>h.test(a)):bie(o,h=>h.test(a));let c;c=t.valueCallback?t.valueCallback(u):u,c=r.valueCallback?r.valueCallback(c):c;const d=e.slice(a.length);return{value:c,rest:d}}}function bie(t,e){for(const r in t)if(Object.prototype.hasOwnProperty.call(t,r)&&e(t[r]))return r}function xie(t,e){for(let r=0;r<t.length;r++)if(e(t[r]))return r}function wie(t){return(e,r={})=>{const n=e.match(t.matchPattern);if(!n)return null;const i=n[0],s=e.match(t.parsePattern);if(!s)return null;let a=t.valueCallback?t.valueCallback(s[0]):s[0];a=r.valueCallback?r.valueCallback(a):a;const o=e.slice(i.length);return{value:a,rest:o}}}const _ie=/^(\d+)(th|st|nd|rd)?/i,Sie=/\d+/i,Eie={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},Nie={any:[/^b/i,/^(a|c)/i]},jie={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},Cie={any:[/1/i,/2/i,/3/i,/4/i]},Oie={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},Tie={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},Pie={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},Iie={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},Rie={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},$ie={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},kie={ordinalNumber:wie({matchPattern:_ie,parsePattern:Sie,valueCallback:t=>parseInt(t,10)}),era:jc({matchPatterns:Eie,defaultMatchWidth:"wide",parsePatterns:Nie,defaultParseWidth:"any"}),quarter:jc({matchPatterns:jie,defaultMatchWidth:"wide",parsePatterns:Cie,defaultParseWidth:"any",valueCallback:t=>t+1}),month:jc({matchPatterns:Oie,defaultMatchWidth:"wide",parsePatterns:Tie,defaultParseWidth:"any"}),day:jc({matchPatterns:Pie,defaultMatchWidth:"wide",parsePatterns:Iie,defaultParseWidth:"any"}),dayPeriod:jc({matchPatterns:Rie,defaultMatchWidth:"any",parsePatterns:$ie,defaultParseWidth:"any"})},zK={code:"en-US",formatDistance:iie,formatLong:lie,formatRelative:cie,localize:yie,match:kie,options:{weekStartsOn:0,firstWeekContainsDate:1}};function Die(t){const e=Je(t);return Une(e,rie(e))+1}function Mie(t){const e=Je(t),r=+Ep(e)-+Wne(e);return Math.round(r/qK)+1}function UK(t,e){var d,h,f,p;const r=Je(t),n=r.getFullYear(),i=nh(),s=(e==null?void 0:e.firstWeekContainsDate)??((h=(d=e==null?void 0:e.locale)==null?void 0:d.options)==null?void 0:h.firstWeekContainsDate)??i.firstWeekContainsDate??((p=(f=i.locale)==null?void 0:f.options)==null?void 0:p.firstWeekContainsDate)??1,a=Ss(t,0);a.setFullYear(n+1,0,s),a.setHours(0,0,0,0);const o=ko(a,e),u=Ss(t,0);u.setFullYear(n,0,s),u.setHours(0,0,0,0);const c=ko(u,e);return r.getTime()>=o.getTime()?n+1:r.getTime()>=c.getTime()?n:n-1}function qie(t,e){var o,u,c,d;const r=nh(),n=(e==null?void 0:e.firstWeekContainsDate)??((u=(o=e==null?void 0:e.locale)==null?void 0:o.options)==null?void 0:u.firstWeekContainsDate)??r.firstWeekContainsDate??((d=(c=r.locale)==null?void 0:c.options)==null?void 0:d.firstWeekContainsDate)??1,i=UK(t,e),s=Ss(t,0);return s.setFullYear(i,0,n),s.setHours(0,0,0,0),ko(s,e)}function Aie(t,e){const r=Je(t),n=+ko(r,e)-+qie(r,e);return Math.round(n/qK)+1}function ut(t,e){const r=t<0?"-":"",n=Math.abs(t).toString().padStart(e,"0");return r+n}const Ms={y(t,e){const r=t.getFullYear(),n=r>0?r:1-r;return ut(e==="yy"?n%100:n,e.length)},M(t,e){const r=t.getMonth();return e==="M"?String(r+1):ut(r+1,2)},d(t,e){return ut(t.getDate(),e.length)},a(t,e){const r=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h(t,e){return ut(t.getHours()%12||12,e.length)},H(t,e){return ut(t.getHours(),e.length)},m(t,e){return ut(t.getMinutes(),e.length)},s(t,e){return ut(t.getSeconds(),e.length)},S(t,e){const r=e.length,n=t.getMilliseconds(),i=Math.trunc(n*Math.pow(10,r-3));return ut(i,e.length)}},ml={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},nR={G:function(t,e,r){const n=t.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return r.era(n,{width:"abbreviated"});case"GGGGG":return r.era(n,{width:"narrow"});case"GGGG":default:return r.era(n,{width:"wide"})}},y:function(t,e,r){if(e==="yo"){const n=t.getFullYear(),i=n>0?n:1-n;return r.ordinalNumber(i,{unit:"year"})}return Ms.y(t,e)},Y:function(t,e,r,n){const i=UK(t,n),s=i>0?i:1-i;if(e==="YY"){const a=s%100;return ut(a,2)}return e==="Yo"?r.ordinalNumber(s,{unit:"year"}):ut(s,e.length)},R:function(t,e){const r=LK(t);return ut(r,e.length)},u:function(t,e){const r=t.getFullYear();return ut(r,e.length)},Q:function(t,e,r){const n=Math.ceil((t.getMonth()+1)/3);switch(e){case"Q":return String(n);case"QQ":return ut(n,2);case"Qo":return r.ordinalNumber(n,{unit:"quarter"});case"QQQ":return r.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(n,{width:"wide",context:"formatting"})}},q:function(t,e,r){const n=Math.ceil((t.getMonth()+1)/3);switch(e){case"q":return String(n);case"qq":return ut(n,2);case"qo":return r.ordinalNumber(n,{unit:"quarter"});case"qqq":return r.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(n,{width:"wide",context:"standalone"})}},M:function(t,e,r){const n=t.getMonth();switch(e){case"M":case"MM":return Ms.M(t,e);case"Mo":return r.ordinalNumber(n+1,{unit:"month"});case"MMM":return r.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(n,{width:"wide",context:"formatting"})}},L:function(t,e,r){const n=t.getMonth();switch(e){case"L":return String(n+1);case"LL":return ut(n+1,2);case"Lo":return r.ordinalNumber(n+1,{unit:"month"});case"LLL":return r.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(n,{width:"wide",context:"standalone"})}},w:function(t,e,r,n){const i=Aie(t,n);return e==="wo"?r.ordinalNumber(i,{unit:"week"}):ut(i,e.length)},I:function(t,e,r){const n=Mie(t);return e==="Io"?r.ordinalNumber(n,{unit:"week"}):ut(n,e.length)},d:function(t,e,r){return e==="do"?r.ordinalNumber(t.getDate(),{unit:"date"}):Ms.d(t,e)},D:function(t,e,r){const n=Die(t);return e==="Do"?r.ordinalNumber(n,{unit:"dayOfYear"}):ut(n,e.length)},E:function(t,e,r){const n=t.getDay();switch(e){case"E":case"EE":case"EEE":return r.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(n,{width:"short",context:"formatting"});case"EEEE":default:return r.day(n,{width:"wide",context:"formatting"})}},e:function(t,e,r,n){const i=t.getDay(),s=(i-n.weekStartsOn+8)%7||7;switch(e){case"e":return String(s);case"ee":return ut(s,2);case"eo":return r.ordinalNumber(s,{unit:"day"});case"eee":return r.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(i,{width:"short",context:"formatting"});case"eeee":default:return r.day(i,{width:"wide",context:"formatting"})}},c:function(t,e,r,n){const i=t.getDay(),s=(i-n.weekStartsOn+8)%7||7;switch(e){case"c":return String(s);case"cc":return ut(s,e.length);case"co":return r.ordinalNumber(s,{unit:"day"});case"ccc":return r.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(i,{width:"narrow",context:"standalone"});case"cccccc":return r.day(i,{width:"short",context:"standalone"});case"cccc":default:return r.day(i,{width:"wide",context:"standalone"})}},i:function(t,e,r){const n=t.getDay(),i=n===0?7:n;switch(e){case"i":return String(i);case"ii":return ut(i,e.length);case"io":return r.ordinalNumber(i,{unit:"day"});case"iii":return r.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(n,{width:"short",context:"formatting"});case"iiii":default:return r.day(n,{width:"wide",context:"formatting"})}},a:function(t,e,r){const i=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(t,e,r){const n=t.getHours();let i;switch(n===12?i=ml.noon:n===0?i=ml.midnight:i=n/12>=1?"pm":"am",e){case"b":case"bb":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(t,e,r){const n=t.getHours();let i;switch(n>=17?i=ml.evening:n>=12?i=ml.afternoon:n>=4?i=ml.morning:i=ml.night,e){case"B":case"BB":case"BBB":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(t,e,r){if(e==="ho"){let n=t.getHours()%12;return n===0&&(n=12),r.ordinalNumber(n,{unit:"hour"})}return Ms.h(t,e)},H:function(t,e,r){return e==="Ho"?r.ordinalNumber(t.getHours(),{unit:"hour"}):Ms.H(t,e)},K:function(t,e,r){const n=t.getHours()%12;return e==="Ko"?r.ordinalNumber(n,{unit:"hour"}):ut(n,e.length)},k:function(t,e,r){let n=t.getHours();return n===0&&(n=24),e==="ko"?r.ordinalNumber(n,{unit:"hour"}):ut(n,e.length)},m:function(t,e,r){return e==="mo"?r.ordinalNumber(t.getMinutes(),{unit:"minute"}):Ms.m(t,e)},s:function(t,e,r){return e==="so"?r.ordinalNumber(t.getSeconds(),{unit:"second"}):Ms.s(t,e)},S:function(t,e){return Ms.S(t,e)},X:function(t,e,r){const n=t.getTimezoneOffset();if(n===0)return"Z";switch(e){case"X":return sR(n);case"XXXX":case"XX":return Ha(n);case"XXXXX":case"XXX":default:return Ha(n,":")}},x:function(t,e,r){const n=t.getTimezoneOffset();switch(e){case"x":return sR(n);case"xxxx":case"xx":return Ha(n);case"xxxxx":case"xxx":default:return Ha(n,":")}},O:function(t,e,r){const n=t.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+iR(n,":");case"OOOO":default:return"GMT"+Ha(n,":")}},z:function(t,e,r){const n=t.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+iR(n,":");case"zzzz":default:return"GMT"+Ha(n,":")}},t:function(t,e,r){const n=Math.trunc(t.getTime()/1e3);return ut(n,e.length)},T:function(t,e,r){const n=t.getTime();return ut(n,e.length)}};function iR(t,e=""){const r=t>0?"-":"+",n=Math.abs(t),i=Math.trunc(n/60),s=n%60;return s===0?r+String(i):r+String(i)+e+ut(s,2)}function sR(t,e){return t%60===0?(t>0?"-":"+")+ut(Math.abs(t)/60,2):Ha(t,e)}function Ha(t,e=""){const r=t>0?"-":"+",n=Math.abs(t),i=ut(Math.trunc(n/60),2),s=ut(n%60,2);return r+i+e+s}const aR=(t,e)=>{switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},WK=(t,e)=>{switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},Fie=(t,e)=>{const r=t.match(/(P+)(p+)?/)||[],n=r[1],i=r[2];if(!i)return aR(t,e);let s;switch(n){case"P":s=e.dateTime({width:"short"});break;case"PP":s=e.dateTime({width:"medium"});break;case"PPP":s=e.dateTime({width:"long"});break;case"PPPP":default:s=e.dateTime({width:"full"});break}return s.replace("{{date}}",aR(n,e)).replace("{{time}}",WK(i,e))},Lie={p:WK,P:Fie},Bie=/^D+$/,zie=/^Y+$/,Uie=["D","DD","YY","YYYY"];function Wie(t){return Bie.test(t)}function Vie(t){return zie.test(t)}function Hie(t,e,r){const n=Kie(t,e,r);if(console.warn(n),Uie.includes(t))throw new RangeError(n)}function Kie(t,e,r){const n=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${e}\`) for formatting ${n} to the input \`${r}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const Gie=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Yie=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Qie=/^'([^]*?)'?$/,Xie=/''/g,Jie=/[a-zA-Z]/;function an(t,e,r){var d,h,f,p;const n=nh(),i=n.locale??zK,s=n.firstWeekContainsDate??((h=(d=n.locale)==null?void 0:d.options)==null?void 0:h.firstWeekContainsDate)??1,a=n.weekStartsOn??((p=(f=n.locale)==null?void 0:f.options)==null?void 0:p.weekStartsOn)??0,o=Je(t);if(!Hne(o))throw new RangeError("Invalid time value");let u=e.match(Yie).map(v=>{const y=v[0];if(y==="p"||y==="P"){const x=Lie[y];return x(v,i.formatLong)}return v}).join("").match(Gie).map(v=>{if(v==="''")return{isToken:!1,value:"'"};const y=v[0];if(y==="'")return{isToken:!1,value:Zie(v)};if(nR[y])return{isToken:!0,value:v};if(y.match(Jie))throw new RangeError("Format string contains an unescaped latin alphabet character `"+y+"`");return{isToken:!1,value:v}});i.localize.preprocessor&&(u=i.localize.preprocessor(o,u));const c={firstWeekContainsDate:s,weekStartsOn:a,locale:i};return u.map(v=>{if(!v.isToken)return v.value;const y=v.value;(Vie(y)||Wie(y))&&Hie(y,e,String(t));const x=nR[y[0]];return x(o,y,i.localize,c)}).join("")}function Zie(t){const e=t.match(Qie);return e?e[1].replace(Xie,"'"):t}function ese(t,e,r){const n=nh(),i=(r==null?void 0:r.locale)??n.locale??zK,s=2520,a=Vl(t,e);if(isNaN(a))throw new RangeError("Invalid time value");const o=Object.assign({},r,{addSuffix:r==null?void 0:r.addSuffix,comparison:a});let u,c;a>0?(u=Je(e),c=Je(t)):(u=Je(t),c=Je(e));const d=tie(c,u),h=(jp(c)-jp(u))/1e3,f=Math.round((d-h)/60);let p;if(f<2)return r!=null&&r.includeSeconds?d<5?i.formatDistance("lessThanXSeconds",5,o):d<10?i.formatDistance("lessThanXSeconds",10,o):d<20?i.formatDistance("lessThanXSeconds",20,o):d<40?i.formatDistance("halfAMinute",0,o):d<60?i.formatDistance("lessThanXMinutes",1,o):i.formatDistance("xMinutes",1,o):f===0?i.formatDistance("lessThanXMinutes",1,o):i.formatDistance("xMinutes",f,o);if(f<45)return i.formatDistance("xMinutes",f,o);if(f<90)return i.formatDistance("aboutXHours",1,o);if(f<rR){const v=Math.round(f/60);return i.formatDistance("aboutXHours",v,o)}else{if(f<s)return i.formatDistance("xDays",1,o);if(f<mf){const v=Math.round(f/rR);return i.formatDistance("xDays",v,o)}else if(f<mf*2)return p=Math.round(f/mf),i.formatDistance("aboutXMonths",p,o)}if(p=eie(c,u),p<12){const v=Math.round(f/mf);return i.formatDistance("xMonths",v,o)}else{const v=p%12,y=Math.trunc(p/12);return v<3?i.formatDistance("aboutXYears",y,o):v<9?i.formatDistance("overXYears",y,o):i.formatDistance("almostXYears",y+1,o)}}function tse(t,e){return ese(t,mm(t),e)}function rse(t,e){const r=Je(t),n=Je(e);return r.getTime()>n.getTime()}function nse(t,e,r){const n=ko(t,r),i=ko(e,r);return+n==+i}function ise(t,e){return nse(t,mm(t),e)}function VK(t){return BK(t,mm(t))}function HK(t,e){return Lne(t,-e)}function KK(t){return BK(t,HK(mm(t),1))}function jd(t,e){const n=lse(t);let i;if(n.date){const u=use(n.date,2);i=cse(u.restDateString,u.year)}if(!i||isNaN(i.getTime()))return new Date(NaN);const s=i.getTime();let a=0,o;if(n.time&&(a=dse(n.time),isNaN(a)))return new Date(NaN);if(n.timezone){if(o=hse(n.timezone),isNaN(o))return new Date(NaN)}else{const u=new Date(s+a),c=new Date(0);return c.setFullYear(u.getUTCFullYear(),u.getUTCMonth(),u.getUTCDate()),c.setHours(u.getUTCHours(),u.getUTCMinutes(),u.getUTCSeconds(),u.getUTCMilliseconds()),c}return new Date(s+a+o)}const vf={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},sse=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,ase=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,ose=/^([+-])(\d{2})(?::?(\d{2}))?$/;function lse(t){const e={},r=t.split(vf.dateTimeDelimiter);let n;if(r.length>2)return e;if(/:/.test(r[0])?n=r[0]:(e.date=r[0],n=r[1],vf.timeZoneDelimiter.test(e.date)&&(e.date=t.split(vf.timeZoneDelimiter)[0],n=t.substr(e.date.length,t.length))),n){const i=vf.timezone.exec(n);i?(e.time=n.replace(i[1],""),e.timezone=i[1]):e.time=n}return e}function use(t,e){const r=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+e)+"})|(\\d{2}|[+-]\\d{"+(2+e)+"})$)"),n=t.match(r);if(!n)return{year:NaN,restDateString:""};const i=n[1]?parseInt(n[1]):null,s=n[2]?parseInt(n[2]):null;return{year:s===null?i:s*100,restDateString:t.slice((n[1]||n[2]).length)}}function cse(t,e){if(e===null)return new Date(NaN);const r=t.match(sse);if(!r)return new Date(NaN);const n=!!r[4],i=Cc(r[1]),s=Cc(r[2])-1,a=Cc(r[3]),o=Cc(r[4]),u=Cc(r[5])-1;if(n)return gse(e,o,u)?fse(e,o,u):new Date(NaN);{const c=new Date(0);return!mse(e,s,a)||!vse(e,i)?new Date(NaN):(c.setUTCFullYear(e,s,Math.max(i,a)),c)}}function Cc(t){return t?parseInt(t):1}function dse(t){const e=t.match(ase);if(!e)return NaN;const r=Mv(e[1]),n=Mv(e[2]),i=Mv(e[3]);return yse(r,n,i)?r*FK+n*AK+i*1e3:NaN}function Mv(t){return t&&parseFloat(t.replace(",","."))||0}function hse(t){if(t==="Z")return 0;const e=t.match(ose);if(!e)return 0;const r=e[1]==="+"?-1:1,n=parseInt(e[2]),i=e[3]&&parseInt(e[3])||0;return bse(n,i)?r*(n*FK+i*AK):NaN}function fse(t,e,r){const n=new Date(0);n.setUTCFullYear(t,0,4);const i=n.getUTCDay()||7,s=(e-1)*7+r+1-i;return n.setUTCDate(n.getUTCDate()+s),n}const pse=[31,null,31,30,31,30,31,31,30,31,30,31];function GK(t){return t%400===0||t%4===0&&t%100!==0}function mse(t,e,r){return e>=0&&e<=11&&r>=1&&r<=(pse[e]||(GK(t)?29:28))}function vse(t,e){return e>=1&&e<=(GK(t)?366:365)}function gse(t,e,r){return e>=1&&e<=53&&r>=0&&r<=6}function yse(t,e,r){return t===24?e===0&&r===0:r>=0&&r<60&&e>=0&&e<60&&t>=0&&t<25}function bse(t,e){return e>=0&&e<=59}function xse(t){if(!t||t.length===0)return{todos:[],today:[],yesterday:[],thisWeek:[],older:[]};const e={todos:[],today:[],yesterday:[],thisWeek:[],older:[]};return t.forEach(r=>{if(r.type==="todo"){e.todos.push(r);return}const n=jd(r.created),i=r.activity_date?jd(r.activity_date):n;VK(i)?e.today.push(r):KK(i)?e.yesterday.push(r):ise(i)?e.thisWeek.push(r):e.older.push(r)}),e.todos.sort((r,n)=>{if(r.is_completed&&!n.is_completed)return 1;if(!r.is_completed&&n.is_completed)return-1;if(!r.is_completed&&!n.is_completed){if(r.due_date&&n.due_date)return new Date(r.due_date)-new Date(n.due_date);if(r.due_date&&!n.due_date)return-1;if(!r.due_date&&n.due_date)return 1}return new Date(n.created)-new Date(r.created)}),e}function wse(t){if(!t)return"";try{const e=jd(t),r=tse(e,{addSuffix:!0});return VK(e)?r:KK(e)?"Yesterday":an(e,"MMM d, yyyy")}catch{return t}}function _se(t){return{call:"Phone",email:"Mail",chat:"MessageCircle",meeting:"Users",coffee:"Coffee",lunch:"Utensils",note:"FileText"}[t]||"Circle"}function Sse(t){return{call:"Phone call",email:"Email",chat:"Chat",meeting:"Meeting",coffee:"Coffee",lunch:"Lunch",note:"Note"}[t]||t||"Activity"}function ih(t){if(!t.due_date||t.is_completed)return!1;try{const e=jd(t.due_date),r=new Date;return r.setHours(0,0,0,0),e.setHours(0,0,0,0),e<r}catch{return!1}}function Ese(t){const e=[];return t.is_completed?e.push("opacity-60","line-through"):ih(t)&&e.push("text-red-600","font-medium"),e.join(" ")}function wO({isOpen:t,onClose:e,todo:r,onComplete:n,onCompleteAsActivity:i}){return!t||!r?null:l.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50",children:l.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-md mx-4",children:[l.jsxs("div",{className:"flex items-center justify-between p-4 border-b",children:[l.jsx("h2",{className:"text-lg font-semibold",children:"Complete todo"}),l.jsx("button",{onClick:e,className:"text-gray-400 hover:text-gray-600",children:l.jsx(Mr,{className:"w-5 h-5"})})]}),l.jsxs("div",{className:"p-4",children:[l.jsxs("p",{className:"text-sm text-gray-600 mb-4",children:['"',r.content,'"']}),l.jsx("p",{className:"text-sm text-gray-500 mb-4",children:"How would you like to complete this todo?"}),l.jsxs("div",{className:"space-y-3",children:[l.jsxs("button",{onClick:n,className:"w-full flex items-center justify-center gap-2 px-4 py-3 border-2 border-gray-200 rounded-lg hover:border-primary-300 hover:bg-primary-50 transition-colors text-left",children:[l.jsx(Di,{className:"w-5 h-5 text-primary-600 flex-shrink-0"}),l.jsxs("div",{className:"flex-1",children:[l.jsx("p",{className:"font-medium text-gray-900",children:"Just complete"}),l.jsx("p",{className:"text-sm text-gray-500",children:"Mark the todo as done"})]})]}),l.jsxs("button",{onClick:i,className:"w-full flex items-center justify-center gap-2 px-4 py-3 border-2 border-gray-200 rounded-lg hover:border-blue-300 hover:bg-blue-50 transition-colors text-left",children:[l.jsx(pm,{className:"w-5 h-5 text-blue-600 flex-shrink-0"}),l.jsxs("div",{className:"flex-1",children:[l.jsx("p",{className:"font-medium text-gray-900",children:"Complete & log activity"}),l.jsx("p",{className:"text-sm text-gray-500",children:"Record this as an activity on the timeline"})]})]})]})]}),l.jsx("div",{className:"flex justify-end p-4 border-t bg-gray-50 rounded-b-lg",children:l.jsx("button",{type:"button",onClick:e,className:"btn-secondary",children:"Cancel"})})]})})}const qv=[{id:"call",label:"Phone call",icon:bO},{id:"email",label:"Email",icon:yO},{id:"chat",label:"Chat",icon:SK},{id:"meeting",label:"Meeting",icon:Mi},{id:"coffee",label:"Coffee",icon:xK},{id:"lunch",label:"Lunch",icon:PK},{id:"note",label:"Other",icon:pm}];function _O({isOpen:t,onClose:e,onSubmit:r,isLoading:n,personId:i,initialData:s=null,activity:a=null}){const[o,u]=T.useState("call"),[c,d]=T.useState(""),[h,f]=T.useState(""),[p,v]=T.useState([]),[y,x]=T.useState(!1),[g,m]=T.useState(""),{data:w}=Ho(),b=!!a;if(T.useEffect(()=>{if(t){const D=new Date().toISOString().split("T")[0];a?(d(a.activity_date||D),f(a.content||""),v(a.participants||[]),u(a.activity_type||"note")):s?(d(s.activity_date||D),f(s.content||""),v(s.participants||[]),u(s.activity_type||"note")):(d(D),f(""),v([]),u("call"))}},[t,s,a]),!t)return null;const _=(w||[]).filter(D=>D.id.toString()!==(i==null?void 0:i.toString())),E=_.filter(D=>{var F;return(F=D.name)==null?void 0:F.toLowerCase().includes(g.toLowerCase())}),j=D=>{D.preventDefault(),h.trim()&&(r({activity_type:o,activity_date:c||null,content:h.trim(),participants:p}),f(""),v([]),d(new Date().toISOString().split("T")[0]))},S=()=>{f(""),v([]),d(""),x(!1),m(""),e()},C=D=>{v(F=>F.includes(D)?F.filter(M=>M!==D):[...F,D])},N=D=>{v(F=>F.filter(M=>M!==D))},O=()=>_.filter(D=>p.includes(D.id)),P=D=>{if(!D)return"";try{return new Date(D).toISOString().split("T")[0]}catch{return""}};return(qv.find(D=>D.id===o)||qv[0]).icon,l.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50",children:l.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-md mx-4 max-h-[90vh] overflow-y-auto",children:[l.jsxs("div",{className:"flex items-center justify-between p-4 border-b sticky top-0 bg-white z-10",children:[l.jsx("h2",{className:"text-lg font-semibold",children:b?"Edit activity":"Add activity"}),l.jsx("button",{onClick:S,className:"text-gray-400 hover:text-gray-600",disabled:n,children:l.jsx(Mr,{className:"w-5 h-5"})})]}),l.jsxs("form",{onSubmit:j,className:"p-4",children:[l.jsxs("div",{className:"mb-4",children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Activity type"}),l.jsx("div",{className:"grid grid-cols-3 gap-2",children:qv.map(D=>{const F=D.icon,M=o===D.id;return l.jsxs("button",{type:"button",onClick:()=>u(D.id),className:`flex flex-col items-center justify-center p-3 border-2 rounded-lg transition-colors ${M?"border-primary-600 bg-primary-50 text-primary-700":"border-gray-200 hover:border-gray-300 text-gray-700"}`,disabled:n,children:[l.jsx(F,{className:"w-5 h-5 mb-1"}),l.jsx("span",{className:"text-xs",children:D.label})]},D.id)})})]}),l.jsxs("div",{className:"mb-4",children:[l.jsx("label",{htmlFor:"activity-date",className:"block text-sm font-medium text-gray-700 mb-2",children:"Date"}),l.jsx("input",{id:"activity-date",type:"date",value:P(c),onChange:D=>d(D.target.value||""),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent",disabled:n})]}),l.jsxs("div",{className:"mb-4",children:[l.jsx("label",{htmlFor:"activity-content",className:"block text-sm font-medium text-gray-700 mb-2",children:"Description"}),l.jsx("textarea",{id:"activity-content",value:h,onChange:D=>f(D.target.value),rows:4,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent",placeholder:"What happened?",disabled:n,autoFocus:!0})]}),l.jsxs("div",{className:"mb-4",children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Participants (optional)"}),O().length>0&&l.jsx("div",{className:"flex flex-wrap gap-2 mb-2",children:O().map(D=>l.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 bg-primary-100 text-primary-700 rounded-full text-sm",children:[D.name,l.jsx("button",{type:"button",onClick:()=>N(D.id),className:"hover:text-primary-900",disabled:n,children:l.jsx(Mr,{className:"w-3 h-3"})})]},D.id))}),l.jsxs("div",{className:"relative",children:[l.jsx("button",{type:"button",onClick:()=>x(!y),className:"w-full px-3 py-2 border border-gray-300 rounded-md text-left text-sm text-gray-500 hover:border-gray-400",disabled:n,children:p.length===0?"Add participants...":"Add more participants..."}),y&&l.jsxs("div",{className:"absolute z-20 w-full mt-1 bg-white border border-gray-300 rounded-md shadow-lg max-h-60 overflow-y-auto",children:[l.jsx("div",{className:"p-2 border-b",children:l.jsx("input",{type:"text",placeholder:"Search people...",value:g,onChange:D=>m(D.target.value),className:"w-full px-2 py-1 text-sm border border-gray-300 rounded",autoFocus:!0})}),l.jsx("div",{className:"max-h-48 overflow-y-auto",children:E.length===0?l.jsx("div",{className:"p-3 text-sm text-gray-500 text-center",children:"No people found"}):E.map(D=>{var M;const F=p.includes(D.id);return l.jsxs("button",{type:"button",onClick:()=>C(D.id),className:`w-full px-3 py-2 text-left text-sm hover:bg-gray-50 flex items-center gap-2 ${F?"bg-primary-50":""}`,children:[l.jsx("input",{type:"checkbox",checked:F,onChange:()=>{},className:"mr-1"}),D.thumbnail?l.jsx("img",{src:D.thumbnail,alt:D.name,className:"w-6 h-6 rounded-full"}):l.jsx("div",{className:"w-6 h-6 bg-gray-200 rounded-full flex items-center justify-center",children:l.jsx("span",{className:"text-xs text-gray-500",children:((M=D.first_name)==null?void 0:M[0])||"?"})}),l.jsx("span",{children:D.name})]},D.id)})})]})]})]}),l.jsxs("div",{className:"flex justify-end gap-2",children:[l.jsx("button",{type:"button",onClick:S,className:"btn-secondary",disabled:n,children:"Cancel"}),l.jsx("button",{type:"submit",className:"btn-primary",disabled:n||!h.trim(),children:n?b?"Saving...":"Adding...":b?"Save":"Add activity"})]})]})]})})}function qs({title:t,value:e,icon:r,href:n}){return l.jsx(oe,{to:n,className:"card p-6 hover:shadow-md transition-shadow",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-medium text-gray-500",children:t}),l.jsx("p",{className:"mt-1 text-3xl font-semibold",children:e})]}),l.jsx("div",{className:"p-3 bg-primary-50 rounded-lg",children:l.jsx(r,{className:"w-6 h-6 text-primary-600"})})]})})}function oR({person:t,hideStar:e=!1}){var r,n;return l.jsxs(oe,{to:`/people/${t.id}`,className:"flex items-center p-3 rounded-lg hover:bg-gray-50 transition-colors",children:[t.thumbnail?l.jsx("img",{src:t.thumbnail,alt:t.name,loading:"lazy",className:"w-10 h-10 rounded-full object-cover"}):l.jsx("div",{className:"w-10 h-10 bg-gray-200 rounded-full flex items-center justify-center",children:l.jsx("span",{className:"text-sm font-medium text-gray-500",children:((r=t.first_name)==null?void 0:r[0])||"?"})}),l.jsxs("div",{className:"ml-3 flex-1 min-w-0",children:[l.jsx("p",{className:"text-sm font-medium text-gray-900 truncate",children:t.name}),((n=t.labels)==null?void 0:n.length)>0&&l.jsx("p",{className:"text-xs text-gray-500 truncate",children:t.labels.join(", ")})]}),t.is_favorite&&!e&&l.jsx(_u,{className:"w-4 h-4 text-yellow-400 fill-current"})]})}function Nse({reminder:t}){var a,o,u;const e=t.days_until;let r="bg-gray-100 text-gray-700";e===0?r="bg-green-100 text-green-700":e<=3?r="bg-orange-100 text-orange-700":e<=7&&(r="bg-yellow-100 text-yellow-700");const n=(o=(a=t.related_people)==null?void 0:a[0])==null?void 0:o.id,i=((u=t.related_people)==null?void 0:u.length)>0,s=l.jsxs(l.Fragment,{children:[l.jsx("div",{className:`px-2 py-1 rounded text-xs font-medium ${r}`,children:e===0?"Today":`${e}d`}),l.jsxs("div",{className:"ml-3 flex-1 min-w-0",children:[l.jsx("p",{className:"text-sm font-medium text-gray-900",children:t.title}),l.jsx("p",{className:"text-xs text-gray-500",children:an(new Date(t.next_occurrence),"MMMM d, yyyy")})]}),i&&l.jsx("div",{className:"flex -space-x-2 ml-3 flex-shrink-0",children:t.related_people.slice(0,3).map(c=>{var d;return c.thumbnail?l.jsx("img",{src:c.thumbnail,alt:c.name,loading:"lazy",className:"w-10 h-10 rounded-full border-2 border-white object-cover"},c.id):l.jsx("div",{className:"w-10 h-10 bg-gray-300 rounded-full border-2 border-white flex items-center justify-center",children:l.jsx("span",{className:"text-sm",children:(d=c.name)==null?void 0:d[0]})},c.id)})})]});return i&&n?l.jsx(oe,{to:`/people/${n}`,className:"flex items-center p-3 rounded-lg hover:bg-gray-50 transition-colors",children:s}):l.jsx("div",{className:"flex items-center p-3 rounded-lg hover:bg-gray-50 transition-colors",children:s})}function jse({todo:t,onToggle:e}){var n;const r=ih(t);return l.jsxs(oe,{to:`/people/${t.person_id}`,className:"flex items-start p-3 rounded-lg hover:bg-gray-50 transition-colors group",children:[l.jsx("button",{onClick:i=>{i.preventDefault(),i.stopPropagation(),e(t)},className:"mt-0.5 mr-3 flex-shrink-0",title:t.is_completed?"Mark as incomplete":"Mark as complete",children:t.is_completed?l.jsx(Di,{className:"w-5 h-5 text-primary-600"}):l.jsx(wu,{className:`w-5 h-5 ${r?"text-red-600":"text-gray-400"}`})}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx("p",{className:`text-sm font-medium ${t.is_completed?"line-through text-gray-400":r?"text-red-600":"text-gray-900"}`,children:t.content}),l.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[t.person_thumbnail?l.jsx("img",{src:t.person_thumbnail,alt:t.person_name,loading:"lazy",className:"w-5 h-5 rounded-full object-cover"}):l.jsx("div",{className:"w-5 h-5 bg-gray-200 rounded-full flex items-center justify-center",children:l.jsx("span",{className:"text-xs text-gray-500",children:(n=t.person_name)==null?void 0:n[0]})}),l.jsx("span",{className:"text-xs text-gray-500 truncate",children:t.person_name})]})]}),t.due_date&&l.jsxs("div",{className:`ml-3 text-xs text-right flex-shrink-0 ${r&&!t.is_completed?"text-red-600 font-medium":"text-gray-500"}`,children:[l.jsx("div",{children:an(new Date(t.due_date),"MMM d")}),r&&!t.is_completed&&l.jsx("div",{className:"text-red-600",children:"overdue"})]})]})}function Cse(){return l.jsxs("div",{className:"card p-12 text-center",children:[l.jsx("div",{className:"flex justify-center mb-4",children:l.jsx("div",{className:"p-4 bg-primary-50 rounded-full",children:l.jsx(CK,{className:"w-12 h-12 text-primary-600"})})}),l.jsxs("h2",{className:"text-2xl font-semibold text-gray-900 mb-2",children:["Welcome to ",Su,"!"]}),l.jsx("p",{className:"text-gray-600 mb-8 max-w-md mx-auto",children:"Get started by adding your first contact, organization, or important date. Your dashboard will populate as you add more information."}),l.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[l.jsxs(oe,{to:"/people/new",className:"inline-flex items-center px-6 py-3 bg-primary-600 text-white rounded-lg hover:bg-primary-700 transition-colors",children:[l.jsx(Bt,{className:"w-5 h-5 mr-2"}),"Add Your First Person"]}),l.jsxs(oe,{to:"/companies/new",className:"inline-flex items-center px-6 py-3 bg-white text-gray-700 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",children:[l.jsx(Bt,{className:"w-5 h-5 mr-2"}),"Add Your First Organization"]})]})]})}function Ose(){var C,N,O;const{data:t,isLoading:e,error:r}=bne(),{data:n}=RK(!1),i=$K(),s=xO(),[a,o]=T.useState(null),[u,c]=T.useState(!1),[d,h]=T.useState(!1),[f,p]=T.useState(null),v=P=>{if(!P.is_completed){o(P),c(!0);return}i.mutate({todoId:P.id,data:{content:P.content,due_date:P.due_date,is_completed:!1}})},y=()=>{a&&(i.mutate({todoId:a.id,data:{content:a.content,due_date:a.due_date,is_completed:!0}}),c(!1),o(null))},x=()=>{if(!a)return;const P=new Date().toISOString().split("T")[0];p({content:a.content,activity_date:P,activity_type:"note",participants:[]}),c(!1),h(!0)},g=async P=>{if(a)try{await s.mutateAsync({personId:a.person_id,data:P}),await i.mutateAsync({todoId:a.id,data:{content:a.content,due_date:a.due_date,is_completed:!0}}),h(!1),o(null),p(null)}catch(I){console.error("Failed to create activity:",I),alert("Failed to create activity. Please try again.")}};if(e)return l.jsx("div",{className:"flex items-center justify-center h-64",children:l.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"})});if(r){const P=((C=r==null?void 0:r.response)==null?void 0:C.status)>=500||!(r!=null&&r.response);return l.jsx("div",{className:"card p-8 text-center",children:l.jsx("div",{className:"text-red-600 mb-2",children:P?l.jsxs(l.Fragment,{children:[l.jsx("p",{className:"font-medium mb-1",children:"Failed to load dashboard data"}),l.jsx("p",{className:"text-sm text-gray-600",children:"Please check your connection and try refreshing the page."})]}):l.jsxs(l.Fragment,{children:[l.jsx("p",{className:"font-medium mb-1",children:"Unable to load dashboard"}),l.jsx("p",{className:"text-sm text-gray-600",children:((O=(N=r==null?void 0:r.response)==null?void 0:N.data)==null?void 0:O.message)||"An error occurred while loading your data."})]})})})}const{stats:m,recent_people:w,upcoming_reminders:b,favorites:_}=t||{};if(((m==null?void 0:m.total_people)||0)+((m==null?void 0:m.total_companies)||0)+((m==null?void 0:m.total_dates)||0)===0)return l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-4",children:[l.jsx(qs,{title:"Total people",value:0,icon:Mi,href:"/people"}),l.jsx(qs,{title:"Organizations",value:0,icon:ur,href:"/companies"}),l.jsx(qs,{title:"Events",value:0,icon:os,href:"/dates"}),l.jsx(qs,{title:"Open todos",value:0,icon:Di,href:"/todos"})]}),l.jsx(Cse,{})]});const S=(n==null?void 0:n.slice(0,5))||[];return l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-4",children:[l.jsx(qs,{title:"Total people",value:(m==null?void 0:m.total_people)||0,icon:Mi,href:"/people"}),l.jsx(qs,{title:"Organizations",value:(m==null?void 0:m.total_companies)||0,icon:ur,href:"/companies"}),l.jsx(qs,{title:"Events",value:(m==null?void 0:m.total_dates)||0,icon:os,href:"/dates"}),l.jsx(qs,{title:"Open todos",value:(m==null?void 0:m.open_todos_count)||0,icon:Di,href:"/todos"})]}),l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[l.jsxs("div",{className:"card",children:[l.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-200",children:[l.jsxs("h2",{className:"font-semibold flex items-center",children:[l.jsx(os,{className:"w-5 h-5 mr-2 text-gray-500"}),"Upcoming reminders"]}),l.jsxs(oe,{to:"/dates",className:"text-sm text-primary-600 hover:text-primary-700 flex items-center",children:["View all reminders",l.jsx($v,{className:"w-4 h-4 ml-1"})]})]}),l.jsx("div",{className:"divide-y divide-gray-100",children:(b==null?void 0:b.length)>0?b.map(P=>l.jsx(Nse,{reminder:P},P.id)):l.jsx("p",{className:"p-4 text-sm text-gray-500 text-center",children:"No upcoming reminders"})})]}),l.jsxs("div",{className:"card",children:[l.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-200",children:[l.jsxs("h2",{className:"font-semibold flex items-center",children:[l.jsx(Di,{className:"w-5 h-5 mr-2 text-gray-500"}),"Open todos"]}),l.jsxs(oe,{to:"/todos",className:"text-sm text-primary-600 hover:text-primary-700 flex items-center",children:["View all todos",l.jsx($v,{className:"w-4 h-4 ml-1"})]})]}),l.jsx("div",{className:"divide-y divide-gray-100",children:S.length>0?S.map(P=>l.jsx(jse,{todo:P,onToggle:v},P.id)):l.jsx("p",{className:"p-4 text-sm text-gray-500 text-center",children:"No open todos"})})]})]}),l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[l.jsxs("div",{className:"card",children:[l.jsx("div",{className:"flex items-center justify-between p-4 border-b border-gray-200",children:l.jsxs("h2",{className:"font-semibold flex items-center",children:[l.jsx(_u,{className:"w-5 h-5 mr-2 text-yellow-500 fill-current"}),"Favorites"]})}),(_==null?void 0:_.length)>0?l.jsx("div",{className:"divide-y divide-gray-100",children:_.slice(0,5).map(P=>l.jsx(oR,{person:P,hideStar:!0},P.id))}):l.jsx("p",{className:"p-4 text-sm text-gray-500 text-center",children:"No favorites yet"})]}),l.jsxs("div",{className:"card",children:[l.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-200",children:[l.jsxs("h2",{className:"font-semibold flex items-center",children:[l.jsx(Mi,{className:"w-5 h-5 mr-2 text-gray-500"}),"Recently edited people"]}),l.jsxs(oe,{to:"/people",className:"text-sm text-primary-600 hover:text-primary-700 flex items-center",children:["View all people",l.jsx($v,{className:"w-4 h-4 ml-1"})]})]}),l.jsx("div",{className:"divide-y divide-gray-100",children:(w==null?void 0:w.length)>0?w.map(P=>l.jsx(oR,{person:P},P.id)):l.jsxs("p",{className:"p-4 text-sm text-gray-500 text-center",children:["No people yet. ",l.jsx(oe,{to:"/people/new",className:"text-primary-600",children:"Add someone"})]})})]})]}),l.jsx(wO,{isOpen:u,onClose:()=>{c(!1),o(null)},todo:a,onComplete:y,onCompleteAsActivity:x}),l.jsx(_O,{isOpen:d,onClose:()=>{h(!1),o(null),p(null)},onSubmit:g,isLoading:s.isPending,personId:a==null?void 0:a.person_id,initialData:f})]})}function lR(t){var i;const e=((i=t.acf)==null?void 0:i.work_history)||[];if(e.length===0)return null;const r=e.find(s=>s.is_current&&s.company);if(r)return r.company;const n=e.filter(s=>s.company).sort((s,a)=>{const o=s.start_date?new Date(s.start_date):new Date(0);return(a.start_date?new Date(a.start_date):new Date(0))-o});return n.length>0?n[0].company:null}function Tse({person:t,companyName:e,isDeceased:r}){var n,i;return l.jsx(oe,{to:`/people/${t.id}`,className:"card p-4 hover:shadow-md transition-shadow",children:l.jsxs("div",{className:"flex items-start",children:[t.thumbnail?l.jsx("img",{src:t.thumbnail,alt:t.name,loading:"lazy",className:"w-12 h-12 rounded-full object-cover"}):l.jsx("div",{className:"w-12 h-12 bg-gray-200 rounded-full flex items-center justify-center",children:l.jsx("span",{className:"text-lg font-medium text-gray-500",children:((n=t.first_name)==null?void 0:n[0])||"?"})}),l.jsxs("div",{className:"ml-3 flex-1 min-w-0",children:[l.jsxs("div",{className:"flex items-center",children:[l.jsxs("h3",{className:"text-sm font-medium text-gray-900 truncate",children:[t.name,r&&l.jsx("span",{className:"ml-1 text-gray-500",children:""})]}),t.is_favorite&&l.jsx(_u,{className:"w-4 h-4 ml-1 text-yellow-400 fill-current flex-shrink-0"})]}),e&&l.jsx("p",{className:"text-xs text-gray-500 mt-0.5 truncate",children:e}),((i=t.labels)==null?void 0:i.length)>0&&l.jsx("div",{className:"flex flex-wrap gap-1 mt-1",children:t.labels.slice(0,3).map(s=>l.jsx("span",{className:"inline-flex px-2 py-0.5 text-xs rounded-full bg-gray-100 text-gray-600",children:s},s))})]})]})})}function Pse(){const[t,e]=T.useState(!1),[r,n]=T.useState(!1),[i,s]=T.useState([]),[a,o]=T.useState("first_name"),[u,c]=T.useState("asc"),d=T.useRef(null),h=T.useRef(null),{data:f,isLoading:p,error:v}=Ho(),{data:y}=et({queryKey:["person-labels"],queryFn:async()=>(await Fe.getPersonLabels()).data}),x=(y==null?void 0:y.map(C=>C.name))||[];T.useEffect(()=>{const C=N=>{h.current&&!h.current.contains(N.target)&&d.current&&!d.current.contains(N.target)&&e(!1)};return document.addEventListener("mousedown",C),()=>{document.removeEventListener("mousedown",C)}},[]);const g=T.useMemo(()=>{if(!f)return[];let C=[...f];return r&&(C=C.filter(N=>N.is_favorite)),i.length>0&&(C=C.filter(N=>{const O=N.labels||[];return i.some(P=>O.includes(P))})),C.sort((N,O)=>{var F,M,V,q,H,B,W,G;let P,I;if(a==="first_name"?(P=(((F=N.acf)==null?void 0:F.first_name)||N.first_name||"").toLowerCase(),I=(((M=O.acf)==null?void 0:M.first_name)||O.first_name||"").toLowerCase()):(P=(((V=N.acf)==null?void 0:V.last_name)||N.last_name||"").toLowerCase(),I=(((q=O.acf)==null?void 0:q.last_name)||O.last_name||"").toLowerCase()),P===I){const de=a==="first_name"?(((H=N.acf)==null?void 0:H.last_name)||N.last_name||"").toLowerCase():(((B=N.acf)==null?void 0:B.first_name)||N.first_name||"").toLowerCase(),xe=a==="first_name"?(((W=O.acf)==null?void 0:W.last_name)||O.last_name||"").toLowerCase():(((G=O.acf)==null?void 0:G.first_name)||O.first_name||"").toLowerCase(),Ie=de.localeCompare(xe);return u==="asc"?Ie:-Ie}const D=P.localeCompare(I);return u==="asc"?D:-D})},[f,r,i,a,u]),m=r||i.length>0,w=C=>{s(N=>N.includes(C)?N.filter(O=>O!==C):[...N,C])},b=()=>{n(!1),s([])},_=T.useMemo(()=>{if(!g)return[];const C=g.map(N=>lR(N)).filter(Boolean);return[...new Set(C)]},[g]),{data:E}=et({queryKey:["companies","batch",_.sort().join(",")],queryFn:async()=>_.length===0?[]:(await Fe.getCompanies({per_page:100,include:_.join(",")})).data,enabled:_.length>0}),j=T.useMemo(()=>{const C={};return E&&E.forEach(N=>{C[N.id]=Ft(N)}),C},[E]),S=T.useMemo(()=>{const C={};return g.forEach(N=>{const O=lR(N);O&&j[O]&&(C[N.id]=j[O])}),C},[g,j]);return l.jsxs("div",{className:"space-y-4",children:[l.jsx("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:l.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[l.jsxs("div",{className:"flex items-center gap-2 border border-gray-200 rounded-lg p-1",children:[l.jsxs("select",{value:a,onChange:C=>o(C.target.value),className:"text-sm border-0 bg-transparent focus:ring-0 focus:outline-none cursor-pointer",children:[l.jsx("option",{value:"first_name",children:"First name"}),l.jsx("option",{value:"last_name",children:"Last name"})]}),l.jsx("div",{className:"h-4 w-px bg-gray-300"}),l.jsx("button",{onClick:()=>c(u==="asc"?"desc":"asc"),className:"p-1 hover:bg-gray-100 rounded transition-colors",title:`Sort ${u==="asc"?"descending":"ascending"}`,children:u==="asc"?l.jsx(rne,{className:"w-4 h-4 text-gray-600"}):l.jsx(tne,{className:"w-4 h-4 text-gray-600"})})]}),l.jsxs("div",{className:"relative",ref:d,children:[l.jsxs("button",{onClick:()=>e(!t),className:`btn-secondary ${m?"bg-primary-50 text-primary-700 border-primary-200":""}`,children:[l.jsx(Fj,{className:"w-4 h-4 md:mr-2"}),l.jsx("span",{className:"hidden md:inline",children:"Filter"}),m&&l.jsx("span",{className:"ml-2 px-1.5 py-0.5 bg-primary-600 text-white text-xs rounded-full",children:i.length+(r?1:0)})]}),t&&l.jsx("div",{ref:h,className:"absolute top-full left-0 mt-2 w-64 bg-white border border-gray-200 rounded-lg shadow-lg z-50",children:l.jsxs("div",{className:"p-4 space-y-4",children:[l.jsx("div",{children:l.jsxs("label",{className:"flex items-center cursor-pointer",children:[l.jsx("input",{type:"checkbox",checked:r,onChange:C=>n(C.target.checked),className:"sr-only"}),l.jsx("div",{className:`flex items-center justify-center w-5 h-5 border-2 rounded mr-3 ${r?"bg-primary-600 border-primary-600":"border-gray-300"}`,children:r&&l.jsx(JI,{className:"w-3 h-3 text-white"})}),l.jsxs("div",{className:"flex items-center",children:[l.jsx(_u,{className:"w-4 h-4 mr-2 text-yellow-400 fill-current"}),l.jsx("span",{className:"text-sm font-medium text-gray-900",children:"Favorites only"})]})]})}),x.length>0&&l.jsxs("div",{children:[l.jsx("h3",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wide mb-2",children:"Labels"}),l.jsx("div",{className:"space-y-1 max-h-48 overflow-y-auto",children:x.map(C=>l.jsxs("label",{className:"flex items-center cursor-pointer hover:bg-gray-50 p-1 rounded",children:[l.jsx("input",{type:"checkbox",checked:i.includes(C),onChange:()=>w(C),className:"sr-only"}),l.jsx("div",{className:`flex items-center justify-center w-5 h-5 border-2 rounded mr-3 ${i.includes(C)?"bg-primary-600 border-primary-600":"border-gray-300"}`,children:i.includes(C)&&l.jsx(JI,{className:"w-3 h-3 text-white"})}),l.jsx("span",{className:"text-sm text-gray-700",children:C})]},C))})]}),m&&l.jsx("button",{onClick:b,className:"w-full text-sm text-primary-600 hover:text-primary-700 font-medium pt-2 border-t border-gray-200",children:"Clear all filters"})]})})]}),m&&l.jsxs("div",{className:"flex flex-wrap gap-2",children:[r&&l.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 bg-primary-100 text-primary-800 rounded-full text-xs",children:[l.jsx(_u,{className:"w-3 h-3"}),"Favorites",l.jsx("button",{onClick:()=>n(!1),className:"hover:text-primary-600",children:l.jsx(Mr,{className:"w-3 h-3"})})]}),i.map(C=>l.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 bg-gray-100 text-gray-800 rounded-full text-xs",children:[C,l.jsx("button",{onClick:()=>w(C),className:"hover:text-gray-600",children:l.jsx(Mr,{className:"w-3 h-3"})})]},C))]}),l.jsxs(oe,{to:"/people/new",className:"btn-primary",children:[l.jsx(Bt,{className:"w-4 h-4 md:mr-2"}),l.jsx("span",{className:"hidden md:inline",children:"Add person"})]})]})}),p&&l.jsx("div",{className:"flex items-center justify-center h-64",children:l.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"})}),v&&l.jsx("div",{className:"card p-6 text-center",children:l.jsx("p",{className:"text-red-600",children:"Failed to load people."})}),!p&&!v&&(f==null?void 0:f.length)===0&&l.jsxs("div",{className:"card p-12 text-center",children:[l.jsx("div",{className:"w-12 h-12 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4",children:l.jsx(Bt,{className:"w-6 h-6 text-gray-400"})}),l.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-1",children:"No people found"}),l.jsx("p",{className:"text-gray-500 mb-4",children:"Get started by adding your first person."}),l.jsxs(oe,{to:"/people/new",className:"btn-primary",children:[l.jsx(Bt,{className:"w-4 h-4 md:mr-2"}),l.jsx("span",{className:"hidden md:inline",children:"Add person"})]})]}),!p&&!v&&(g==null?void 0:g.length)>0&&l.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:g.map(C=>l.jsx(Tse,{person:C,companyName:S[C.id],isDeceased:C.is_deceased},C.id))}),!p&&!v&&(f==null?void 0:f.length)>0&&(g==null?void 0:g.length)===0&&l.jsxs("div",{className:"card p-12 text-center",children:[l.jsx("div",{className:"w-12 h-12 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4",children:l.jsx(Fj,{className:"w-6 h-6 text-gray-400"})}),l.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-1",children:"No people match your filters"}),l.jsx("p",{className:"text-gray-500 mb-4",children:"Try adjusting your filters to see more results."}),l.jsx("button",{onClick:b,className:"btn-secondary",children:"Clear filters"})]})]})}const Ise="#0285FF",Rse=T.forwardRef(function({title:e="Bluesky",color:r="currentColor",size:n=24,...i},s){return r==="default"&&(r=Ise),l.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:n,height:n,fill:r,viewBox:"0 0 24 24",ref:s,...i,children:[l.jsx("title",{children:e}),l.jsx("path",{d:"M12 10.8c-1.087-2.114-4.046-6.053-6.798-7.995C2.566.944 1.561 1.266.902 1.565.139 1.908 0 3.08 0 3.768c0 .69.378 5.65.624 6.479.815 2.736 3.713 3.66 6.383 3.364.136-.02.275-.039.415-.056-.138.022-.276.04-.415.056-3.912.58-7.387 2.005-2.83 7.078 5.013 5.19 6.87-1.113 7.823-4.308.953 3.195 2.05 9.271 7.733 4.308 4.267-4.308 1.172-6.498-2.74-7.078a8.741 8.741 0 0 1-.415-.056c.14.017.279.036.415.056 2.67.297 5.568-.628 6.383-3.364.246-.828.624-5.79.624-6.478 0-.69-.139-1.861-.902-2.206-.659-.298-1.664-.62-4.3 1.24C16.046 4.748 13.087 8.687 12 10.8Z"})]})}),$se="#0866FF",kse=T.forwardRef(function({title:e="Facebook",color:r="currentColor",size:n=24,...i},s){return r==="default"&&(r=$se),l.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:n,height:n,fill:r,viewBox:"0 0 24 24",ref:s,...i,children:[l.jsx("title",{children:e}),l.jsx("path",{d:"M9.101 23.691v-7.98H6.627v-3.667h2.474v-1.58c0-4.085 1.848-5.978 5.858-5.978.401 0 .955.042 1.468.103a8.68 8.68 0 0 1 1.141.195v3.325a8.623 8.623 0 0 0-.653-.036 26.805 26.805 0 0 0-.733-.009c-.707 0-1.259.096-1.675.309a1.686 1.686 0 0 0-.679.622c-.258.42-.374.995-.374 1.752v1.297h3.919l-.386 2.103-.287 1.564h-3.246v8.245C19.396 23.238 24 18.179 24 12.044c0-6.627-5.373-12-12-12s-12 5.373-12 12c0 5.628 3.874 10.35 9.101 11.647Z"})]})}),Dse="#FF0069",Mse=T.forwardRef(function({title:e="Instagram",color:r="currentColor",size:n=24,...i},s){return r==="default"&&(r=Dse),l.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:n,height:n,fill:r,viewBox:"0 0 24 24",ref:s,...i,children:[l.jsx("title",{children:e}),l.jsx("path",{d:"M7.0301.084c-1.2768.0602-2.1487.264-2.911.5634-.7888.3075-1.4575.72-2.1228 1.3877-.6652.6677-1.075 1.3368-1.3802 2.127-.2954.7638-.4956 1.6365-.552 2.914-.0564 1.2775-.0689 1.6882-.0626 4.947.0062 3.2586.0206 3.6671.0825 4.9473.061 1.2765.264 2.1482.5635 2.9107.308.7889.72 1.4573 1.388 2.1228.6679.6655 1.3365 1.0743 2.1285 1.38.7632.295 1.6361.4961 2.9134.552 1.2773.056 1.6884.069 4.9462.0627 3.2578-.0062 3.668-.0207 4.9478-.0814 1.28-.0607 2.147-.2652 2.9098-.5633.7889-.3086 1.4578-.72 2.1228-1.3881.665-.6682 1.0745-1.3378 1.3795-2.1284.2957-.7632.4966-1.636.552-2.9124.056-1.2809.0692-1.6898.063-4.948-.0063-3.2583-.021-3.6668-.0817-4.9465-.0607-1.2797-.264-2.1487-.5633-2.9117-.3084-.7889-.72-1.4568-1.3876-2.1228C21.2982 1.33 20.628.9208 19.8378.6165 19.074.321 18.2017.1197 16.9244.0645 15.6471.0093 15.236-.005 11.977.0014 8.718.0076 8.31.0215 7.0301.0839m.1402 21.6932c-1.17-.0509-1.8053-.2453-2.2287-.408-.5606-.216-.96-.4771-1.3819-.895-.422-.4178-.6811-.8186-.9-1.378-.1644-.4234-.3624-1.058-.4171-2.228-.0595-1.2645-.072-1.6442-.079-4.848-.007-3.2037.0053-3.583.0607-4.848.05-1.169.2456-1.805.408-2.2282.216-.5613.4762-.96.895-1.3816.4188-.4217.8184-.6814 1.3783-.9003.423-.1651 1.0575-.3614 2.227-.4171 1.2655-.06 1.6447-.072 4.848-.079 3.2033-.007 3.5835.005 4.8495.0608 1.169.0508 1.8053.2445 2.228.408.5608.216.96.4754 1.3816.895.4217.4194.6816.8176.9005 1.3787.1653.4217.3617 1.056.4169 2.2263.0602 1.2655.0739 1.645.0796 4.848.0058 3.203-.0055 3.5834-.061 4.848-.051 1.17-.245 1.8055-.408 2.2294-.216.5604-.4763.96-.8954 1.3814-.419.4215-.8181.6811-1.3783.9-.4224.1649-1.0577.3617-2.2262.4174-1.2656.0595-1.6448.072-4.8493.079-3.2045.007-3.5825-.006-4.848-.0608M16.953 5.5864A1.44 1.44 0 1 0 18.39 4.144a1.44 1.44 0 0 0-1.437 1.4424M5.8385 12.012c.0067 3.4032 2.7706 6.1557 6.173 6.1493 3.4026-.0065 6.157-2.7701 6.1506-6.1733-.0065-3.4032-2.771-6.1565-6.174-6.1498-3.403.0067-6.156 2.771-6.1496 6.1738M8 12.0077a4 4 0 1 1 4.008 3.9921A3.9996 3.9996 0 0 1 8 12.0077"})]})}),qse="#000000",Ase=T.forwardRef(function({title:e="Threads",color:r="currentColor",size:n=24,...i},s){return r==="default"&&(r=qse),l.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:n,height:n,fill:r,viewBox:"0 0 24 24",ref:s,...i,children:[l.jsx("title",{children:e}),l.jsx("path",{d:"M12.186 24h-.007c-3.581-.024-6.334-1.205-8.184-3.509C2.35 18.44 1.5 15.586 1.472 12.01v-.017c.03-3.579.879-6.43 2.525-8.482C5.845 1.205 8.6.024 12.18 0h.014c2.746.02 5.043.725 6.826 2.098 1.677 1.29 2.858 3.13 3.509 5.467l-2.04.569c-1.104-3.96-3.898-5.984-8.304-6.015-2.91.022-5.11.936-6.54 2.717C4.307 6.504 3.616 8.914 3.589 12c.027 3.086.718 5.496 2.057 7.164 1.43 1.783 3.631 2.698 6.54 2.717 2.623-.02 4.358-.631 5.8-2.045 1.647-1.613 1.618-3.593 1.09-4.798-.31-.71-.873-1.3-1.634-1.75-.192 1.352-.622 2.446-1.284 3.272-.886 1.102-2.14 1.704-3.73 1.79-1.202.065-2.361-.218-3.259-.801-1.063-.689-1.685-1.74-1.752-2.964-.065-1.19.408-2.285 1.33-3.082.88-.76 2.119-1.207 3.583-1.291a13.853 13.853 0 0 1 3.02.142c-.126-.742-.375-1.332-.75-1.757-.513-.586-1.308-.883-2.359-.89h-.029c-.844 0-1.992.232-2.721 1.32L7.734 7.847c.98-1.454 2.568-2.256 4.478-2.256h.044c3.194.02 5.097 1.975 5.287 5.388.108.046.216.094.321.142 1.49.7 2.58 1.761 3.154 3.07.797 1.82.871 4.79-1.548 7.158-1.85 1.81-4.094 2.628-7.277 2.65Zm1.003-11.69c-.242 0-.487.007-.739.021-1.836.103-2.98.946-2.916 2.143.067 1.256 1.452 1.839 2.784 1.767 1.224-.065 2.818-.543 3.086-3.71a10.5 10.5 0 0 0-2.215-.221z"})]})}),Fse="#000000",Lse=T.forwardRef(function({title:e="X",color:r="currentColor",size:n=24,...i},s){return r==="default"&&(r=Fse),l.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:n,height:n,fill:r,viewBox:"0 0 24 24",ref:s,...i,children:[l.jsx("title",{children:e}),l.jsx("path",{d:"M18.901 1.153h3.68l-8.04 9.19L24 22.846h-7.406l-5.8-7.584-6.638 7.584H.474l8.6-9.83L0 1.154h7.594l5.243 6.932ZM17.61 20.644h2.039L6.486 3.24H4.298Z"})]})}),Bse={Phone:bO,Mail:yO,Users:Mi,Coffee:xK,Utensils:PK,FileText:pm,Circle:qj};function zse({timeline:t,onEdit:e,onDelete:r,onToggleTodo:n,personId:i,allPeople:s=[]}){const a=T.useMemo(()=>xse(t||[]),[t]),o=f=>s.find(p=>p.id.toString()===f.toString()),u=f=>{if(f.type==="todo")return f.is_completed?Mj:wu;if(f.type==="activity"&&f.activity_type){const p=_se(f.activity_type);return Bse[p]||qj}return f.type==="note"?pm:qj},c=f=>{const p=u(f),v=f.type==="todo",y=f.type==="activity";f.type;const x=f.activity_date||f.created,g=wse(x),m=Ese(f),w=v&&ih(f);return l.jsxs("div",{className:`relative ${v?"pl-0":"pl-8"} pb-6 group`,children:[!v&&l.jsx("div",{className:"absolute left-0 top-1",children:l.jsx("div",{className:`w-4 h-4 rounded-full border-2 ${y?"bg-blue-500 border-blue-500":"bg-gray-400 border-gray-400"}`})}),l.jsx("div",{className:`${m}`,children:l.jsxs("div",{className:"flex items-start justify-between",children:[l.jsxs("div",{className:"flex-1 min-w-0",children:[!v&&l.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[l.jsx(p,{className:`w-4 h-4 flex-shrink-0 ${y?"text-blue-600":"text-gray-500"}`}),y&&f.activity_type&&l.jsx("span",{className:"text-xs font-medium text-gray-600",children:Sse(f.activity_type)}),l.jsx("span",{className:"text-xs text-gray-400",children:""}),l.jsx("span",{className:"text-xs text-gray-500",children:g})]}),l.jsxs("div",{className:"flex items-start gap-2",children:[v&&l.jsx("button",{onClick:()=>n&&n(f),className:"mt-0.5 flex-shrink-0",title:f.is_completed?"Mark as incomplete":"Mark as complete",children:f.is_completed?l.jsx(Mj,{className:`w-5 h-5 ${w?"text-red-600":"text-primary-600"}`}):l.jsx(wu,{className:`w-5 h-5 ${w?"text-red-600":"text-gray-400"}`})}),l.jsx("p",{className:`text-sm flex-1 ${f.is_completed?"line-through opacity-60":""}`,children:f.content})]}),y&&f.participants&&f.participants.length>0&&l.jsxs("div",{className:"mt-2 flex flex-wrap items-center gap-2",children:[l.jsx("span",{className:"text-xs text-gray-500",children:"With:"}),f.participants.map(b=>{const _=o(b);return _?l.jsxs(oe,{to:`/people/${b}`,className:"inline-flex items-center gap-1 text-xs text-primary-600 hover:text-primary-700 hover:underline",children:[l.jsx(_K,{className:"w-3 h-3"}),_.name]},b):null})]}),v&&f.due_date&&l.jsx("div",{className:"mt-2",children:l.jsxs("span",{className:`text-xs ${w?"text-red-600 font-medium":"text-gray-500"}`,children:["Due: ",an(new Date(f.due_date),"MMM d, yyyy"),w&&" (overdue)"]})})]}),l.jsxs("div",{className:"flex items-center gap-1 opacity-0 group-hover:opacity-100 transition-opacity ml-2",children:[e&&l.jsx("button",{onClick:()=>e(f),className:"p-1 hover:bg-gray-100 rounded",title:"Edit",children:l.jsx(Bs,{className:"w-4 h-4 text-gray-400 hover:text-gray-600"})}),r&&l.jsx("button",{onClick:()=>r(f),className:"p-1 hover:bg-red-50 rounded",title:"Delete",children:l.jsx(Sn,{className:"w-4 h-4 text-gray-400 hover:text-red-600"})})]})]})})]},f.id)},d=(f,p)=>!p||p.length===0?null:l.jsxs("div",{className:"mb-6",children:[l.jsx("h3",{className:"text-sm font-semibold text-gray-700 mb-3 uppercase tracking-wide",children:f}),l.jsx("div",{className:"relative pl-4 border-l-2 border-gray-200",children:p.map(c)})]});return a.today.length>0||a.yesterday.length>0||a.thisWeek.length>0||a.older.length>0?l.jsxs("div",{className:"space-y-6",children:[d("Today",a.today),d("Yesterday",a.yesterday),d("This week",a.thisWeek),d("Older",a.older)]}):l.jsx("div",{className:"text-center py-8",children:l.jsx("p",{className:"text-sm text-gray-500",children:"No timeline items yet."})})}function Use({isOpen:t,onClose:e,onSubmit:r,isLoading:n}){const[i,s]=T.useState("");if(!t)return null;const a=u=>{u.preventDefault(),i.trim()&&(r(i),s(""))},o=()=>{s(""),e()};return l.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50",children:l.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-md mx-4",children:[l.jsxs("div",{className:"flex items-center justify-between p-4 border-b",children:[l.jsx("h2",{className:"text-lg font-semibold",children:"Add note"}),l.jsx("button",{onClick:o,className:"text-gray-400 hover:text-gray-600",disabled:n,children:l.jsx(Mr,{className:"w-5 h-5"})})]}),l.jsxs("form",{onSubmit:a,className:"p-4",children:[l.jsxs("div",{className:"mb-4",children:[l.jsx("label",{htmlFor:"note-content",className:"block text-sm font-medium text-gray-700 mb-2",children:"Note"}),l.jsx("textarea",{id:"note-content",value:i,onChange:u=>s(u.target.value),rows:6,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent",placeholder:"Enter your note...",disabled:n,autoFocus:!0})]}),l.jsxs("div",{className:"flex justify-end gap-2",children:[l.jsx("button",{type:"button",onClick:o,className:"btn-secondary",disabled:n,children:"Cancel"}),l.jsx("button",{type:"submit",className:"btn-primary",disabled:n||!i.trim(),children:n?"Adding...":"Add note"})]})]})]})})}function YK({isOpen:t,onClose:e,onSubmit:r,isLoading:n,todo:i=null}){const[s,a]=T.useState(""),[o,u]=T.useState(""),[c,d]=T.useState(!1),h=()=>new Date().toISOString().split("T")[0];if(T.useEffect(()=>{i?(a(i.content||""),u(i.due_date||""),d(i.is_completed||!1)):(a(""),u(h()),d(!1))},[i,t]),!t)return null;const f=y=>{y.preventDefault(),s.trim()&&(r({content:s.trim(),due_date:o||null,is_completed:c}),i||(a(""),u(h()),d(!1)))},p=()=>{i||(a(""),u(h()),d(!1)),e()},v=y=>{if(!y)return"";try{return new Date(y).toISOString().split("T")[0]}catch{return""}};return l.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50",children:l.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-md mx-4",children:[l.jsxs("div",{className:"flex items-center justify-between p-4 border-b",children:[l.jsx("h2",{className:"text-lg font-semibold",children:i?"Edit todo":"Add todo"}),l.jsx("button",{onClick:p,className:"text-gray-400 hover:text-gray-600",disabled:n,children:l.jsx(Mr,{className:"w-5 h-5"})})]}),l.jsxs("form",{onSubmit:f,className:"p-4",children:[l.jsxs("div",{className:"mb-4",children:[l.jsx("label",{htmlFor:"todo-content",className:"block text-sm font-medium text-gray-700 mb-2",children:"Description"}),l.jsx("textarea",{id:"todo-content",value:s,onChange:y=>a(y.target.value),rows:4,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent",placeholder:"What needs to be done?",disabled:n,autoFocus:!0})]}),l.jsxs("div",{className:"mb-4",children:[l.jsx("label",{htmlFor:"todo-due-date",className:"block text-sm font-medium text-gray-700 mb-2",children:"Due date (optional)"}),l.jsx("input",{id:"todo-due-date",type:"date",value:v(o),onChange:y=>u(y.target.value||""),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent",disabled:n})]}),i&&l.jsx("div",{className:"mb-4",children:l.jsxs("label",{className:"flex items-center",children:[l.jsx("input",{type:"checkbox",checked:c,onChange:y=>d(y.target.checked),className:"mr-2",disabled:n}),l.jsx("span",{className:"text-sm text-gray-700",children:"Completed"})]})}),l.jsxs("div",{className:"flex justify-end gap-2",children:[l.jsx("button",{type:"button",onClick:p,className:"btn-secondary",disabled:n,children:"Cancel"}),l.jsx("button",{type:"submit",className:"btn-primary",disabled:n||!s.trim(),children:n?i?"Saving...":"Adding...":i?"Save":"Add todo"})]})]})]})})}function Zr(t){return t?String(t).replace(/\\/g,"\\\\").replace(/;/g,"\\;").replace(/,/g,"\\,").replace(/\n/g,"\\n"):""}function Wse(t){return t?t.replace(/[^\d+]/g,""):""}function uR(t){if(!t)return"";const e=new Date(t);if(isNaN(e.getTime()))return"";const r=e.getFullYear(),n=String(e.getMonth()+1).padStart(2,"0"),i=String(e.getDate()).padStart(2,"0");return`${r}${n}${i}`}function Vse(t,e={}){if(!t||!Array.isArray(t))return{title:"",org:""};const r=t.find(i=>i.is_current);if(r){const i=r.company&&e[r.company]?e[r.company].name||e[r.company]:"";return{title:r.job_title||"",org:i}}const n=[...t].filter(i=>i.start_date).sort((i,s)=>new Date(s.start_date)-new Date(i.start_date));if(n.length>0){const i=n[0].company&&e[n[0].company]?e[n[0].company].name||e[n[0].company]:"";return{title:n[0].job_title||"",org:i}}return{title:"",org:""}}function Hse(t,e={}){if(!t)throw new Error("Person data is required");const{companyMap:r={},personDates:n=[]}=e,i=t.acf||{},s=[];s.push("BEGIN:VCARD"),s.push("VERSION:3.0");const a=i.first_name||"",o=i.last_name||"",u=t.name||`${a} ${o}`.trim()||"Unknown";s.push(`FN:${Zr(u)}`),s.push(`N:${Zr(o)};${Zr(a)};;;`),i.nickname&&s.push(`NICKNAME:${Zr(i.nickname)}`),i.contact_info&&Array.isArray(i.contact_info)&&i.contact_info.forEach(h=>{if(!h.contact_value)return;const f=Zr(h.contact_value),p=h.contact_label?Zr(h.contact_label):"";switch(h.contact_type){case"email":const v=p?`EMAIL;TYPE=INTERNET,${p.toUpperCase()}`:"EMAIL;TYPE=INTERNET";s.push(`${v}:${f}`);break;case"phone":case"mobile":const y=h.contact_type==="mobile"?"CELL":"VOICE",x=p?`TEL;TYPE=${y},${p.toUpperCase()}`:`TEL;TYPE=${y}`,g=Wse(h.contact_value);g&&s.push(`${x}:${g}`);break;case"website":case"linkedin":case"twitter":case"instagram":case"facebook":let m=h.contact_value;m.match(/^https?:\/\//i)||(m=`https://${m}`);const w=h.contact_type==="linkedin"?"PROFILE":"WORK",b=p?`URL;TYPE=${w},${p.toUpperCase()}`:`URL;TYPE=${w}`;s.push(`${b}:${Zr(m)}`);break}}),i.addresses&&Array.isArray(i.addresses)&&i.addresses.forEach(h=>{const f=h.address_label?`ADR;TYPE=${h.address_label.toUpperCase()}`:"ADR;TYPE=HOME",p=Zr(h.street||""),v=Zr(h.city||""),y=Zr(h.state||""),x=Zr(h.postal_code||""),g=Zr(h.country||"");(p||v||y||x||g)&&s.push(`${f}:;;${p};${v};${y};${x};${g}`)});const{title:c,org:d}=Vse(i.work_history,r);if(d&&s.push(`ORG:${Zr(d)}`),c&&s.push(`TITLE:${Zr(c)}`),n&&Array.isArray(n)){const h=n.find(f=>{const p=Array.isArray(f.date_type)?f.date_type[0]:f.date_type;return(p==null?void 0:p.toLowerCase())==="birthday"});if(h!=null&&h.date_value){const f=uR(h.date_value);f&&s.push(`BDAY:${f}`)}}if(t.thumbnail,t.modified){const h=uR(t.modified);h&&s.push(`REV:${h}T000000Z`)}return s.push("END:VCARD"),s.join(`\r
`)}function Kse(t,e={}){const{filename:r,...n}=e,i=Hse(t,n),s=new Blob([i],{type:"text/vcard;charset=utf-8"}),a=URL.createObjectURL(s),o=document.createElement("a");o.href=a,o.download=r||`${t.name||"contact"}.vcf`.replace(/[^a-z0-9.-]/gi,"_"),document.body.appendChild(o),o.click(),document.body.removeChild(o),URL.revokeObjectURL(a)}const Gse=({className:t})=>l.jsx("svg",{className:t,viewBox:"0 0 382 382",xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",children:l.jsx("path",{d:`M347.445,0H34.555C15.471,0,0,15.471,0,34.555v312.889C0,366.529,15.471,382,34.555,382h312.889
      C366.529,382,382,366.529,382,347.444V34.555C382,15.471,366.529,0,347.445,0z M118.207,329.844c0,5.554-4.502,10.056-10.056,10.056
      H65.345c-5.554,0-10.056-4.502-10.056-10.056V150.403c0-5.554,4.502-10.056,10.056-10.056h42.806
      c5.554,0,10.056,4.502,10.056,10.056V329.844z M86.748,123.432c-22.459,0-40.666-18.207-40.666-40.666S64.289,42.1,86.748,42.1
      s40.666,18.207,40.666,40.666S109.208,123.432,86.748,123.432z M341.91,330.654c0,5.106-4.14,9.246-9.246,9.246H286.73
      c-5.106,0-9.246-4.14-9.246-9.246v-84.168c0-12.556,3.683-55.021-32.813-55.021c-28.309,0-34.051,29.066-35.204,42.11v97.079
      c0,5.106-4.139,9.246-9.246,9.246h-44.426c-5.106,0-9.246-4.14-9.246-9.246V149.593c0-5.106,4.14-9.246,9.246-9.246h44.426
      c5.106,0,9.246,4.14,9.246,9.246v15.655c10.497-15.753,26.097-27.912,59.312-27.912c73.552,0,73.131,68.716,73.131,106.472
      L341.91,330.654L341.91,330.654z`})});function gf(t){if(!t)return null;switch(t){case"male":return"";case"female":return"";case"non_binary":case"other":case"prefer_not_to_say":return"";default:return null}}function Yse(){var LT,BT,zT,UT,WT,VT,HT,KT,GT,YT,QT,XT,JT,ZT,eP;const{id:t}=Fi(),e=qr(),r=ot(),{data:n,isLoading:i,error:s}=Ko(t),{data:a}=Sne(t),{data:o}=Ene(t),u=jne(),c=One(),d=$ne(),h=Lu(),f=Cne(),p=xO(),v=Tne(),y=DK(),x=Ine(),g=Pne(),m=Rne(),{data:w}=Ho(),{data:b=[]}=et({queryKey:["investments",t],queryFn:async()=>(await $e.getInvestments(t)).data,enabled:!!t}),[_,E]=T.useState(!1),[j,S]=T.useState(""),[C,N]=T.useState(!1),O=T.useRef(null),[P,I]=T.useState(!1),[D,F]=T.useState(!1),[M,V]=T.useState(!1),[q,H]=T.useState(null),[B,W]=T.useState(null),[G,de]=T.useState(null),[xe,Ie]=T.useState(!1),[me,Ce]=T.useState(null),{data:ke}=et({queryKey:["person-labels"],queryFn:async()=>(await Fe.getPersonLabels()).data}),Ze=ke||[],Tt=(n==null?void 0:n.labels)||[],nt=((UT=(zT=(BT=(LT=n==null?void 0:n._embedded)==null?void 0:LT["wp:term"])==null?void 0:BT.flat())==null?void 0:zT.filter(k=>(k==null?void 0:k.taxonomy)==="person_label"))==null?void 0:UT.map(k=>k.id))||[],X=Ze.filter(k=>!Tt.includes(k.name));Xr((n==null?void 0:n.name)||((WT=n==null?void 0:n.title)==null?void 0:WT.rendered)||(n==null?void 0:n.title)||"Person");const Se=o==null?void 0:o.find(k=>{const Q=Array.isArray(k.date_type)?k.date_type[0]:k.date_type;return(Q==null?void 0:Q.toLowerCase())==="birthday"}),Me=Se!=null&&Se.date_value?new Date(Se.date_value):null,Ue=o==null?void 0:o.find(k=>{const Q=Array.isArray(k.date_type)?k.date_type[0]:k.date_type;return(Q==null?void 0:Q.toLowerCase())==="died"}),Nt=Ue!=null&&Ue.date_value?new Date(Ue.date_value):null,Ne=!!Nt,Le=Me?kv(Ne?Nt:new Date,Me):null,_t=o?[...o].sort((k,Q)=>{const Y=k.date_value?new Date(k.date_value):new Date(0),Oe=Q.date_value?new Date(Q.date_value):new Date(0);return Y-Oe}):[],Pt=async()=>{if(window.confirm("Are you sure you want to delete this person?"))try{await u.mutateAsync(t),e("/people")}catch(k){console.error("Failed to delete person:",k),alert("Failed to delete person. Please try again.")}},$=k=>{if(!k)return"";let Q=k.replace(/[\u200B-\u200D\uFEFF\u200E\u200F\u202A-\u202E]/g,"");const Y=Q.startsWith("+");return Q=Q.replace(/\D/g,""),Y?`+${Q}`:Q},A=async k=>{var Oe;if(!window.confirm("Are you sure you want to delete this contact detail?"))return;const Q=[...((Oe=n.acf)==null?void 0:Oe.contact_info)||[]];Q.splice(k,1);const Y=ts(n.acf,{contact_info:Q});await h.mutateAsync({id:t,data:{acf:Y}})},z=async k=>{var Oe;if(!window.confirm("Are you sure you want to delete this address?"))return;const Q=[...((Oe=n.acf)==null?void 0:Oe.addresses)||[]];Q.splice(k,1);const Y=ts(n.acf,{addresses:Q});await h.mutateAsync({id:t,data:{acf:Y}})},se=async k=>{var Wi,ei,Vi,Hh,tP,rP;if(!window.confirm("Are you sure you want to delete this relationship?"))return;const Q=(ei=(Wi=n.acf)==null?void 0:Wi.relationships)==null?void 0:ei[k];if(!Q)return;const Y=Q.related_person,Oe=Q.relationship_type;let Be=!0;Y&&Oe&&(Be=window.confirm("Do you also want to delete the inverse relationship from the other person?"));let it=null;if(!Be&&Y&&Oe)try{const[xi,Kh]=await Promise.all([Fe.getPerson(Y,{_embed:!0}),Fe.getRelationshipTypes()]),tv={};Kh.data.forEach(pc=>{tv[pc.id]=pc});const Dn=tv[Oe],Ba=(Vi=Dn==null?void 0:Dn.acf)==null?void 0:Vi.inverse_relationship_type;if(Ba){const mc=(((Hh=xi.data.acf)==null?void 0:Hh.relationships)||[]).find(Hi=>{var nP,iP;const fX=typeof Hi.related_person=="object"?(nP=Hi.related_person)==null?void 0:nP.ID:Hi.related_person,pX=typeof Hi.relationship_type=="object"?(iP=Hi.relationship_type)==null?void 0:iP.term_id:Hi.relationship_type;return fX===parseInt(t)&&pX===Ba});mc&&(it={related_person:parseInt(t),relationship_type:Ba,relationship_label:mc.relationship_label||""})}}catch(xi){console.error("Failed to fetch inverse relationship:",xi)}const lt=[...((tP=n.acf)==null?void 0:tP.relationships)||[]];lt.splice(k,1);const ks=ts(n.acf,{relationships:lt});if(await h.mutateAsync({id:t,data:{acf:ks}}),!Be&&it&&Y){await new Promise(xi=>setTimeout(xi,500));try{const xi=await Fe.getPerson(Y,{_embed:!0}),Kh=((rP=xi.data.acf)==null?void 0:rP.relationships)||[];if(!Kh.some(Dn=>{var mc,Hi;const Ba=typeof Dn.related_person=="object"?(mc=Dn.related_person)==null?void 0:mc.ID:Dn.related_person,pc=typeof Dn.relationship_type=="object"?(Hi=Dn.relationship_type)==null?void 0:Hi.term_id:Dn.relationship_type;return Ba===it.related_person&&pc===it.relationship_type})){const Dn=[...Kh,it],Ba=ts(xi.data.acf,{relationships:Dn});await Fe.updatePerson(Y,{acf:Ba})}}catch(xi){console.error("Failed to restore inverse relationship:",xi)}}r.invalidateQueries({queryKey:["person",t]}),Y&&r.invalidateQueries({queryKey:["person",Y]}),r.invalidateQueries({queryKey:["people"]})},Z=async k=>{window.confirm("Are you sure you want to delete this important date?")&&await d.mutateAsync({dateId:k,personId:t})},J=async k=>{window.confirm("Are you sure you want to delete this note?")&&await c.mutateAsync({noteId:k,personId:t})},K=async k=>{try{await f.mutateAsync({personId:t,content:k}),I(!1)}catch(Q){console.error("Failed to create note:",Q),alert("Failed to create note. Please try again.")}},le=async k=>{try{B?(await v.mutateAsync({activityId:B.id,data:k,personId:t}),W(null)):(await p.mutateAsync({personId:t,data:k}),G&&(await x.mutateAsync({todoId:G.id,data:{content:G.content,due_date:G.due_date,is_completed:!0},personId:t}),de(null),Ce(null))),F(!1)}catch(Q){console.error("Failed to save activity:",Q),alert("Failed to save activity. Please try again.")}},pe=async k=>{try{await y.mutateAsync({personId:t,data:k}),V(!1),H(null)}catch(Q){console.error("Failed to create todo:",Q),alert("Failed to create todo. Please try again.")}},Xe=async k=>{if(q)try{await x.mutateAsync({todoId:q.id,data:k,personId:t}),V(!1),H(null)}catch(Q){console.error("Failed to update todo:",Q),alert("Failed to update todo. Please try again.")}},ve=async k=>{if(!k.is_completed){de(k),Ie(!0);return}try{await x.mutateAsync({todoId:k.id,data:{content:k.content,due_date:k.due_date,is_completed:!1},personId:t})}catch(Q){console.error("Failed to toggle todo:",Q),alert("Failed to update todo. Please try again.")}},ne=async()=>{if(G)try{await x.mutateAsync({todoId:G.id,data:{content:G.content,due_date:G.due_date,is_completed:!0},personId:t}),Ie(!1),de(null)}catch(k){console.error("Failed to complete todo:",k),alert("Failed to complete todo. Please try again.")}},he=()=>{if(!G)return;const k=new Date().toISOString().split("T")[0];Ce({content:G.content,activity_date:k,activity_type:"note",participants:[]}),Ie(!1),F(!0)},ue=async k=>{window.confirm("Are you sure you want to delete this activity?")&&await g.mutateAsync({activityId:k,personId:t})},_e=async k=>{window.confirm("Are you sure you want to delete this todo?")&&await m.mutateAsync({todoId:k,personId:t})},He=k=>{k.type==="todo"?(H(k),V(!0)):k.type==="activity"&&(W(k),F(!0))},kn=k=>{k.type==="note"?J(k.id):k.type==="activity"?ue(k.id):k.type==="todo"&&_e(k.id)},Ui=async k=>{var Oe;if(!window.confirm("Are you sure you want to delete this work history item?"))return;const Q=[...((Oe=n.acf)==null?void 0:Oe.work_history)||[]];Q.splice(k,1);const Y=ts(n.acf,{work_history:Q});await h.mutateAsync({id:t,data:{acf:Y}})},zh=async k=>{var Oe,Be,it;const Q=(it=(Be=(Oe=n==null?void 0:n._embedded)==null?void 0:Oe["wp:term"])==null?void 0:Be.flat())==null?void 0:it.find(lt=>(lt==null?void 0:lt.taxonomy)==="person_label"&&(lt==null?void 0:lt.name)===k);if(!Q)return;const Y=nt.filter(lt=>lt!==Q.id);await h.mutateAsync({id:t,data:{person_label:Y}})},sX=async()=>{if(!j)return;const k=Ze.find(Y=>Y.id.toString()===j);if(!k)return;const Q=[...nt,k.id];await h.mutateAsync({id:t,data:{person_label:Q}}),S(""),E(!1)},aX=async k=>{var Y;const Q=(Y=k.target.files)==null?void 0:Y[0];if(Q){if(!Q.type.startsWith("image/")){alert("Please select an image file");return}if(Q.size>5*1024*1024){alert("Image size must be less than 5MB");return}N(!0);try{await $e.uploadPersonPhoto(t,Q),r.invalidateQueries({queryKey:["person",t]}),r.invalidateQueries({queryKey:["people"]})}catch(Oe){console.error("Failed to upload photo:",Oe),alert("Failed to upload photo. Please try again.")}finally{N(!1),O.current&&(O.current.value="")}}},oX=()=>{if(n)try{Kse(n,{companyMap:Zm,personDates:o||[]})}catch(k){console.error("Failed to export vCard:",k),alert("Failed to export vCard. Please try again.")}},MT=((HT=(VT=n==null?void 0:n.acf)==null?void 0:VT.work_history)==null?void 0:HT.map(k=>k.company).filter(Boolean))||[],lX=Pj({queries:MT.map(k=>({queryKey:["company",k],queryFn:async()=>(await Fe.getCompany(k,{_embed:!0})).data,enabled:!!k}))}),La=((GT=(KT=n==null?void 0:n.acf)==null?void 0:KT.relationships)==null?void 0:GT.map(k=>k.related_person).filter(Boolean))||[],Uh=Pj({queries:La.map(k=>({queryKey:["person-dates",k],queryFn:async()=>(await $e.getPersonDates(k)).data,enabled:!!k}))}),Jm=T.useMemo(()=>{const k={};return Uh.forEach((Q,Y)=>{if(Q.data&&La[Y]){const Oe=La[Y],Be=Q.data.find(it=>{const lt=Array.isArray(it.date_type)?it.date_type[0]:it.date_type;return(lt==null?void 0:lt.toLowerCase())==="birthday"});if(Be!=null&&Be.date_value){const it=new Date(Be.date_value);k[Oe]=kv(new Date,it)}else k[Oe]=-1}}),k},[Uh,La]),uX=T.useMemo(()=>{const k={};return Uh.forEach((Q,Y)=>{if(Q.data&&La[Y]){const Oe=La[Y],Be=Q.data.some(it=>{const lt=Array.isArray(it.date_type)?it.date_type[0]:it.date_type;return(lt==null?void 0:lt.toLowerCase())==="died"});k[Oe]=Be}}),k},[Uh,La]),Wh=T.useMemo(()=>{var k;return(k=n==null?void 0:n.acf)!=null&&k.relationships?[...n.acf.relationships].sort((Q,Y)=>{const Oe=Jm[Q.related_person]??-1,Be=Jm[Y.related_person]??-1;return Oe===-1&&Be===-1?0:Oe===-1?1:Be===-1?-1:Be-Oe}):[]},[(YT=n==null?void 0:n.acf)==null?void 0:YT.relationships,Jm]),Zm={};lX.forEach((k,Q)=>{var Y,Oe,Be,it,lt,ks,Wi,ei,Vi;if(k.data){const Hh=MT[Q];Zm[Hh]={name:Ft(k.data),logo:((Be=(Oe=(Y=k.data._embedded)==null?void 0:Y["wp:featuredmedia"])==null?void 0:Oe[0])==null?void 0:Be.source_url)||((Vi=(ei=(Wi=(ks=(lt=(it=k.data._embedded)==null?void 0:it["wp:featuredmedia"])==null?void 0:lt[0])==null?void 0:ks.media_details)==null?void 0:Wi.sizes)==null?void 0:ei.thumbnail)==null?void 0:Vi.source_url)||null}}});const Vh=T.useMemo(()=>{var k;return(k=n==null?void 0:n.acf)!=null&&k.work_history?[...n.acf.work_history].map((Q,Y)=>({...Q,originalIndex:Y})).sort((Q,Y)=>{if(Q.is_current&&!Y.is_current)return-1;if(!Q.is_current&&Y.is_current)return 1;const Oe=Q.start_date?new Date(Q.start_date):new Date(0);return(Y.start_date?new Date(Y.start_date):new Date(0))-Oe}):[]},[(QT=n==null?void 0:n.acf)==null?void 0:QT.work_history]),qT=T.useMemo(()=>a?a.filter(Q=>Q.type==="todo").sort((Q,Y)=>{if(Q.is_completed&&!Y.is_completed)return 1;if(!Q.is_completed&&Y.is_completed)return-1;if(!Q.is_completed&&!Y.is_completed){if(Q.due_date&&Y.due_date)return new Date(Q.due_date)-new Date(Y.due_date);if(Q.due_date&&!Y.due_date)return-1;if(!Q.due_date&&Y.due_date)return 1}return new Date(Y.created)-new Date(Q.created)}):[],[a]);if(T.useEffect(()=>{(n==null?void 0:n.status)==="trash"&&e("/people",{replace:!0})},[n,e]),i)return l.jsx("div",{className:"flex items-center justify-center h-64",children:l.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"})});if(s||!n)return l.jsxs("div",{className:"card p-6 text-center",children:[l.jsx("p",{className:"text-red-600",children:"Failed to load person."}),l.jsx(oe,{to:"/people",className:"btn-secondary mt-4",children:"Back to people"})]});if(n.status==="trash")return null;const dr=n.acf||{},ev=["facebook","linkedin","instagram","twitter","bluesky","threads","website"],cX=((XT=dr.contact_info)==null?void 0:XT.filter(k=>ev.includes(k.contact_type)))||[],AT={linkedin:1,twitter:2,bluesky:3,threads:4,instagram:5,facebook:6,website:7},FT=[...cX].sort((k,Q)=>{const Y=AT[k.contact_type]||99,Oe=AT[Q.contact_type]||99;return Y-Oe}),dX=k=>{switch(k){case"facebook":return kse;case"linkedin":return Gse;case"instagram":return Mse;case"twitter":return Lse;case"bluesky":return Rse;case"threads":return Ase;case"website":return zf;default:return zf}},hX=k=>{switch(k){case"facebook":return"text-[#1877F2]";case"linkedin":return"text-[#0077B7]";case"instagram":return"text-[#E4405F]";case"twitter":return"text-[#1DA1F2]";case"bluesky":return"text-[#00A8E8]";case"threads":return"text-[#000000]";case"website":return"text-gray-600";default:return"text-gray-600"}};return l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs(oe,{to:"/people",className:"flex items-center text-gray-600 hover:text-gray-900",children:[l.jsx(mn,{className:"w-4 h-4 md:mr-2"}),l.jsx("span",{className:"hidden md:inline",children:"Back to people"})]}),l.jsxs("div",{className:"flex gap-2",children:[l.jsxs("button",{onClick:oX,className:"btn-secondary",children:[l.jsx(Aj,{className:"w-4 h-4 md:mr-2"}),l.jsx("span",{className:"hidden md:inline",children:"Export vCard"})]}),l.jsxs(oe,{to:`/people/${t}/edit`,className:"btn-secondary",children:[l.jsx(OK,{className:"w-4 h-4 md:mr-2"}),l.jsx("span",{className:"hidden md:inline",children:"Edit"})]}),l.jsxs("button",{onClick:Pt,className:"btn-danger",children:[l.jsx(Sn,{className:"w-4 h-4 md:mr-2"}),l.jsx("span",{className:"hidden md:inline",children:"Delete"})]})]})]}),l.jsxs("div",{className:"card p-6 relative",children:[l.jsx("div",{className:"absolute top-4 right-4",children:l.jsx(oe,{to:`/people/${t}/family-tree`,className:"btn-secondary text-sm",children:"View family tree"})}),l.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center gap-4",children:[l.jsxs("div",{className:"relative group",children:[n.thumbnail?l.jsx("img",{src:n.thumbnail,alt:n.name,className:"w-28 h-28 rounded-full object-cover"}):l.jsx("div",{className:"w-28 h-28 bg-gray-200 rounded-full flex items-center justify-center",children:l.jsx("span",{className:"text-3xl font-medium text-gray-500",children:((JT=n.first_name)==null?void 0:JT[0])||"?"})}),l.jsx("div",{className:"absolute inset-0 rounded-full bg-black bg-opacity-0 group-hover:bg-opacity-50 transition-all duration-200 flex items-center justify-center cursor-pointer",onClick:()=>{var k;return(k=O.current)==null?void 0:k.click()},children:C?l.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-white"}):l.jsx(Yc,{className:"w-6 h-6 text-white opacity-0 group-hover:opacity-100 transition-opacity"})}),l.jsx("input",{ref:O,type:"file",accept:"image/*",onChange:aX,className:"hidden",disabled:C})]}),l.jsxs("div",{className:"flex-1 space-y-3",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsxs("h1",{className:"text-2xl font-bold",children:[n.name,Ne&&l.jsx("span",{className:"ml-1 text-gray-500",children:""})]}),n.is_favorite&&l.jsx(_u,{className:"w-5 h-5 text-yellow-400 fill-current"})]}),dr.nickname&&l.jsxs("p",{className:"text-gray-500",children:['"',dr.nickname,'"']}),Ne&&Nt&&Le!==null&&l.jsxs("p",{className:"text-gray-500 text-sm",children:[gf(dr.gender)&&l.jsx("span",{className:"mr-1",children:gf(dr.gender)}),"Died ",an(Nt,"MMMM d, yyyy")," at age ",Le]}),!Ne&&Le!==null&&l.jsxs("p",{className:"text-gray-500 text-sm",children:[gf(dr.gender)&&l.jsx("span",{className:"mr-1",children:gf(dr.gender)}),Le," years old"]}),l.jsxs("div",{children:[l.jsxs("div",{className:"flex flex-wrap gap-2 items-center",children:[n.labels&&n.labels.length>0&&n.labels.map((k,Q)=>l.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 rounded-full text-xs font-medium bg-gray-100 text-gray-700 group/label",children:[k,l.jsx("button",{onClick:()=>zh(k),className:"opacity-0 group-hover/label:opacity-100 transition-opacity hover:bg-gray-200 rounded-full p-0.5",title:"Remove label",children:l.jsx(Mr,{className:"w-3 h-3"})})]},Q)),_?l.jsxs("div",{className:"inline-flex items-center gap-2",children:[l.jsxs("select",{value:j,onChange:k=>S(k.target.value),className:"text-xs border border-gray-300 rounded px-2 py-1",autoFocus:!0,disabled:X.length===0,children:[l.jsx("option",{value:"",children:"Select a label..."}),X.map(k=>l.jsx("option",{value:k.id,children:k.name},k.id))]}),l.jsx("button",{onClick:sX,disabled:!j,className:"text-xs px-2 py-1 bg-primary-600 text-white rounded hover:bg-primary-700 disabled:opacity-50 disabled:cursor-not-allowed",children:"Add"}),l.jsx("button",{onClick:()=>{E(!1),S("")},className:"text-xs px-2 py-1 bg-gray-200 text-gray-700 rounded hover:bg-gray-300",children:"Cancel"})]}):X.length>0&&l.jsxs("button",{onClick:()=>E(!0),className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-gray-100 text-gray-700 hover:bg-gray-200 transition-colors",children:[l.jsx(Bt,{className:"w-3 h-3 mr-1"}),"Add label"]})]}),FT.length>0&&l.jsx("div",{className:"flex items-center gap-3 mt-4",children:FT.map((k,Q)=>{const Y=dX(k.contact_type),Oe=hX(k.contact_type);let Be=k.contact_value;return Be.match(/^https?:\/\//i)||(Be=`https://${Be}`),l.jsx("a",{href:Be,target:"_blank",rel:"noopener noreferrer",className:`flex-shrink-0 hover:opacity-80 transition-opacity ${Oe}`,title:`${k.contact_type.charAt(0).toUpperCase()+k.contact_type.slice(1)}: ${k.contact_value}`,children:l.jsx(Y,{className:"w-5 h-5"})},Q)})})]})]})]})]}),l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[l.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[!Ne&&l.jsxs("div",{className:"card p-6",children:[l.jsxs("div",{className:"flex items-center justify-between mb-4",children:[l.jsx("h2",{className:"font-semibold",children:"Contact information"}),l.jsxs(oe,{to:`/people/${t}/contact/new`,className:"btn-secondary text-sm",children:[l.jsx(Bt,{className:"w-4 h-4 md:mr-1"}),l.jsx("span",{className:"hidden md:inline",children:"Add contact detail"})]})]}),((ZT=dr.contact_info)==null?void 0:ZT.filter(k=>!ev.includes(k.contact_type)).length)>0?l.jsx("div",{className:"space-y-2",children:(()=>{const k={email:1,phone:2,mobile:2,calendar:3,other:4};return dr.contact_info.filter(Y=>!ev.includes(Y.contact_type)).map((Y,Oe)=>({...Y,originalIndex:Oe})).sort((Y,Oe)=>{const Be=k[Y.contact_type]||99,it=k[Oe.contact_type]||99;return Be!==it?Be-it:Y.originalIndex-Oe.originalIndex}).map((Y,Oe)=>{dr.contact_info.indexOf(Y);const Be=Y.contact_type==="email"?yO:Y.contact_type==="phone"||Y.contact_type==="mobile"?bO:Y.contact_type==="calendar"?os:zf,it=Y.contact_type==="email",lt=Y.contact_type==="phone"||Y.contact_type==="mobile",ks=Y.contact_type==="mobile",Wi=Y.contact_type==="calendar";let ei=null,Vi=null;return it?ei=`mailto:${Y.contact_value}`:lt?ei=`tel:${$(Y.contact_value)}`:Wi&&(ei=Y.contact_value,Vi="_blank"),l.jsx("div",{className:"group",children:l.jsxs("div",{className:"flex items-center rounded-md -mx-2 px-2 py-1.5 group-hover:bg-gray-50 transition-colors",children:[l.jsx(Be,{className:"w-4 h-4 text-gray-400 mr-3 flex-shrink-0"}),l.jsxs("div",{className:"flex-1 min-w-0 flex items-center gap-2",children:[l.jsxs("span",{className:"text-sm text-gray-500",children:[Y.contact_label||Y.contact_type,": "]}),ei?l.jsx("a",{href:ei,target:Vi||void 0,rel:Vi==="_blank"?"noopener noreferrer":void 0,className:"text-primary-600 hover:text-primary-700 hover:underline",children:Y.contact_value}):l.jsx("span",{children:Y.contact_value}),ks&&l.jsx("a",{href:`https://wa.me/${$(Y.contact_value)}`,target:"_blank",rel:"noopener noreferrer",className:"flex-shrink-0 hover:opacity-80 transition-opacity",title:"Open WhatsApp",children:l.jsx(SK,{className:"w-4 h-4 text-[#25D366]"})})]}),l.jsxs("div",{className:"flex items-center gap-1 opacity-0 group-hover:opacity-100 transition-opacity ml-2",children:[l.jsx(oe,{to:`/people/${t}/contact/${Y.originalIndex}/edit`,className:"p-1 hover:bg-gray-100 rounded",title:"Edit contact detail",children:l.jsx(Bs,{className:"w-4 h-4 text-gray-400 hover:text-gray-600"})}),l.jsx("button",{onClick:()=>A(Y.originalIndex),className:"p-1 hover:bg-red-50 rounded",title:"Delete contact detail",children:l.jsx(Sn,{className:"w-4 h-4 text-gray-400 hover:text-red-600"})})]})]})},Y.originalIndex)})})()}):l.jsx("p",{className:"text-sm text-gray-500 text-center py-4",children:"No contact information yet."})]}),l.jsxs("div",{className:"card p-6",children:[l.jsxs("div",{className:"flex items-center justify-between mb-4",children:[l.jsx("h2",{className:"font-semibold",children:"Events"}),l.jsxs(oe,{to:`/dates/new?person=${t}`,className:"btn-secondary text-sm",children:[l.jsx(Bt,{className:"w-4 h-4 md:mr-1"}),l.jsx("span",{className:"hidden md:inline",children:"Add Important Date"})]})]}),_t.length>0?l.jsx("div",{className:"space-y-3",children:_t.map(k=>{const Q=Array.isArray(k.date_type)?k.date_type[0]:k.date_type,Y=(Q==null?void 0:Q.toLowerCase())||"",Oe=Y.includes("died"),Be=Y.includes("wedding")||Y.includes("marriage")?one:Y.includes("birthday")?ane:os;return l.jsxs("div",{className:"flex items-start group",children:[l.jsx("div",{className:"w-8 h-8 bg-gray-100 rounded-lg flex items-center justify-center mr-3",children:Oe?l.jsx("span",{className:"text-gray-500 text-lg font-semibold",children:""}):l.jsx(Be,{className:"w-4 h-4 text-gray-500"})}),l.jsxs("div",{className:"flex-1",children:[l.jsx("p",{className:"text-sm font-medium",children:k.title}),l.jsx("p",{className:"text-xs text-gray-500",children:k.date_value&&an(new Date(k.date_value),"MMMM d, yyyy")}),Q&&l.jsx("p",{className:"text-xs text-gray-400 capitalize",children:Q})]}),l.jsxs("div",{className:"flex items-center gap-1 opacity-0 group-hover:opacity-100 transition-opacity",children:[l.jsx(oe,{to:`/dates/${k.id}/edit`,className:"p-1 hover:bg-gray-100 rounded",title:"Edit date",children:l.jsx(Bs,{className:"w-4 h-4 text-gray-400 hover:text-gray-600"})}),l.jsx("button",{onClick:()=>Z(k.id),className:"p-1 hover:bg-red-50 rounded",title:"Delete date",children:l.jsx(Sn,{className:"w-4 h-4 text-gray-400 hover:text-red-600"})})]})]},k.id)})}):l.jsx("p",{className:"text-sm text-gray-500 text-center py-4",children:"No important dates yet."})]}),l.jsxs("div",{className:"card p-6",children:[l.jsxs("div",{className:"flex items-center justify-between mb-4",children:[l.jsx("h2",{className:"font-semibold",children:"Timeline"}),l.jsxs("div",{className:"flex gap-2",children:[l.jsxs("button",{onClick:()=>I(!0),className:"btn-secondary text-sm",children:[l.jsx(Bt,{className:"w-4 h-4 md:mr-1"}),l.jsx("span",{className:"hidden md:inline",children:"Note"})]}),l.jsxs("button",{onClick:()=>F(!0),className:"btn-secondary text-sm",children:[l.jsx(Bt,{className:"w-4 h-4 md:mr-1"}),l.jsx("span",{className:"hidden md:inline",children:"Activity"})]})]})]}),l.jsx(zse,{timeline:a||[],onEdit:He,onDelete:kn,onToggleTodo:ve,personId:t,allPeople:w||[]})]}),l.jsxs("div",{className:"card p-6",children:[l.jsxs("div",{className:"flex items-center justify-between mb-4",children:[l.jsx("h2",{className:"font-semibold",children:"Work history"}),l.jsxs(oe,{to:`/people/${t}/work-history/new`,className:"btn-secondary text-sm",children:[l.jsx(Bt,{className:"w-4 h-4 md:mr-1"}),l.jsx("span",{className:"hidden md:inline",children:"Add work history"})]})]}),(Vh==null?void 0:Vh.length)>0?l.jsx("div",{className:"space-y-4",children:Vh.map((k,Q)=>{const Y=k.company?Zm[k.company]:null,Oe=k.originalIndex;return l.jsxs("div",{className:"flex items-start group",children:[Y!=null&&Y.logo?l.jsx("img",{src:Y.logo,alt:Y.name,className:"w-20 h-20 rounded-lg object-contain bg-white mr-3 flex-shrink-0"}):l.jsx("div",{className:"w-20 h-20 bg-white rounded-lg flex items-center justify-center mr-3 flex-shrink-0 border border-gray-200",children:l.jsx(ur,{className:"w-10 h-10 text-gray-500"})}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx("p",{className:"font-medium",children:k.job_title}),k.company&&Y&&l.jsx(oe,{to:`/companies/${k.company}`,className:"text-sm text-primary-600 hover:underline",children:Y.name}),l.jsxs("p",{className:"text-sm text-gray-500",children:[k.start_date&&an(new Date(k.start_date),"MMM yyyy")," - ",k.is_current?"Present":k.end_date?an(new Date(k.end_date),"MMM yyyy"):""]}),k.description&&l.jsx("p",{className:"text-sm text-gray-600 mt-1",children:k.description})]}),l.jsxs("div",{className:"flex items-center gap-1 opacity-0 group-hover:opacity-100 transition-opacity ml-2",children:[l.jsx(oe,{to:`/people/${t}/work-history/${Oe}/edit`,className:"p-1 hover:bg-gray-100 rounded",title:"Edit work history",children:l.jsx(Bs,{className:"w-4 h-4 text-gray-400 hover:text-gray-600"})}),l.jsx("button",{onClick:()=>Ui(Oe),className:"p-1 hover:bg-red-50 rounded",title:"Delete work history",children:l.jsx(Sn,{className:"w-4 h-4 text-gray-400 hover:text-red-600"})})]})]},Oe)})}):l.jsx("p",{className:"text-sm text-gray-500 text-center py-4",children:"No work history yet."})]}),b.length>0&&l.jsxs("div",{className:"card p-6",children:[l.jsxs("h2",{className:"font-semibold mb-4 flex items-center",children:[l.jsx(Sp,{className:"w-5 h-5 mr-2"}),"Investments"]}),l.jsx("div",{className:"space-y-3",children:b.map(k=>l.jsxs(oe,{to:`/companies/${k.id}`,className:"flex items-center p-2 rounded-lg hover:bg-gray-50 transition-colors group",children:[k.thumbnail?l.jsx("img",{src:k.thumbnail,alt:k.name,className:"w-12 h-12 rounded-lg object-contain bg-white border border-gray-200"}):l.jsx("div",{className:"w-12 h-12 bg-white rounded-lg flex items-center justify-center border border-gray-200",children:l.jsx(ur,{className:"w-6 h-6 text-gray-400"})}),l.jsxs("div",{className:"ml-3",children:[l.jsx("p",{className:"text-sm font-medium group-hover:text-primary-600",children:k.name}),k.industry&&l.jsx("p",{className:"text-xs text-gray-500",children:k.industry})]})]},k.id))})]}),l.jsx(Use,{isOpen:P,onClose:()=>I(!1),onSubmit:K,isLoading:f.isPending}),l.jsx(_O,{isOpen:D,onClose:()=>{F(!1),W(null),de(null),Ce(null)},onSubmit:le,isLoading:B?v.isPending:p.isPending,personId:t,initialData:me,activity:B}),l.jsx(wO,{isOpen:xe,onClose:()=>{Ie(!1),de(null)},todo:G,onComplete:ne,onCompleteAsActivity:he}),l.jsx(YK,{isOpen:M,onClose:()=>{V(!1),H(null)},onSubmit:q?Xe:pe,isLoading:q?x.isPending:y.isPending,todo:q})]}),l.jsxs("div",{className:"space-y-6",children:[(dr.how_we_met||dr.met_date)&&l.jsxs("div",{className:"card p-6",children:[l.jsx("h2",{className:"font-semibold mb-3",children:"How we met"}),dr.met_date&&l.jsxs("p",{className:"text-sm text-gray-500 mb-2",children:[l.jsx(os,{className:"w-4 h-4 inline mr-1"}),an(new Date(dr.met_date),"MMMM d, yyyy")]}),dr.how_we_met&&l.jsx("p",{className:"text-sm",children:dr.how_we_met})]}),l.jsxs("div",{className:"card p-6",children:[l.jsxs("div",{className:"flex items-center justify-between mb-3",children:[l.jsx("h2",{className:"font-semibold",children:"Todos"}),l.jsxs("button",{onClick:()=>{H(null),V(!0)},className:"btn-secondary text-sm",children:[l.jsx(Bt,{className:"w-4 h-4 md:mr-1"}),l.jsx("span",{className:"hidden md:inline",children:"Add todo"})]})]}),qT.length>0?l.jsx("div",{className:"space-y-2",children:qT.map(k=>{const Q=ih(k);return l.jsxs("div",{className:"flex items-start p-2 rounded hover:bg-gray-50 group",children:[l.jsx("button",{onClick:()=>ve(k),className:"mt-0.5 mr-2 flex-shrink-0",title:k.is_completed?"Mark as incomplete":"Mark as complete",children:k.is_completed?l.jsx(Mj,{className:"w-5 h-5 text-primary-600"}):l.jsx(wu,{className:`w-5 h-5 ${Q?"text-red-600":"text-gray-400"}`})}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx("p",{className:`text-sm ${k.is_completed?"line-through text-gray-400":Q?"text-red-600":""}`,children:k.content}),k.due_date&&l.jsxs("p",{className:`text-xs mt-0.5 ${Q&&!k.is_completed?"text-red-600 font-medium":"text-gray-500"}`,children:["Due: ",an(new Date(k.due_date),"MMM d, yyyy"),Q&&!k.is_completed&&" (overdue)"]})]}),l.jsxs("div",{className:"flex items-center gap-1 opacity-0 group-hover:opacity-100 transition-opacity ml-2",children:[l.jsx("button",{onClick:()=>{H(k),V(!0)},className:"p-1 hover:bg-gray-100 rounded",title:"Edit todo",children:l.jsx(Bs,{className:"w-4 h-4 text-gray-400 hover:text-gray-600"})}),l.jsx("button",{onClick:()=>_e(k.id),className:"p-1 hover:bg-red-50 rounded",title:"Delete todo",children:l.jsx(Sn,{className:"w-4 h-4 text-gray-400 hover:text-red-600"})})]})]},k.id)})}):l.jsx("p",{className:"text-sm text-gray-500 text-center py-4",children:"No todos yet."})]}),l.jsxs("div",{className:"card p-6",children:[l.jsxs("div",{className:"flex items-center justify-between mb-3",children:[l.jsx("h2",{className:"font-semibold",children:"Relationships"}),l.jsxs(oe,{to:`/people/${t}/relationship/new`,className:"btn-secondary text-sm",children:[l.jsx(Bt,{className:"w-4 h-4 md:mr-1"}),l.jsx("span",{className:"hidden md:inline",children:"Add relationship"})]})]}),(Wh==null?void 0:Wh.length)>0?l.jsx("div",{className:"space-y-2",children:Wh.map((k,Q)=>{var Oe,Be,it;const Y=((Be=(Oe=n==null?void 0:n.acf)==null?void 0:Oe.relationships)==null?void 0:Be.findIndex(lt=>lt.related_person===k.related_person&&lt.relationship_type===k.relationship_type))??Q;return l.jsxs("div",{className:"flex items-center p-2 rounded hover:bg-gray-50 group",children:[l.jsxs(oe,{to:`/people/${k.related_person}`,className:"flex items-center flex-1 min-w-0",children:[k.person_thumbnail?l.jsx("img",{src:k.person_thumbnail,alt:un(k.person_name)||"",className:"w-8 h-8 rounded-full object-cover mr-2"}):l.jsx("div",{className:"w-8 h-8 bg-gray-200 rounded-full mr-2 flex items-center justify-center",children:l.jsx("span",{className:"text-xs font-medium text-gray-500",children:((it=un(k.person_name))==null?void 0:it[0])||"?"})}),l.jsxs("div",{children:[l.jsxs("p",{className:"text-sm font-medium",children:[un(k.person_name)||`Person #${k.related_person}`,uX[k.related_person]&&l.jsx("span",{className:"text-gray-400 ml-1",title:"Deceased",children:""})]}),l.jsx("p",{className:"text-xs text-gray-500",children:un(k.relationship_name||k.relationship_label)})]})]}),l.jsxs("div",{className:"flex items-center gap-1 opacity-0 group-hover:opacity-100 transition-opacity ml-2",children:[l.jsx(oe,{to:`/people/${t}/relationship/${Y}/edit`,className:"p-1 hover:bg-gray-100 rounded",title:"Edit relationship",children:l.jsx(Bs,{className:"w-4 h-4 text-gray-400 hover:text-gray-600"})}),l.jsx("button",{onClick:()=>se(Y),className:"p-1 hover:bg-red-50 rounded",title:"Delete relationship",children:l.jsx(Sn,{className:"w-4 h-4 text-gray-400 hover:text-red-600"})})]})]},Q)})}):l.jsx("p",{className:"text-sm text-gray-500 text-center py-4",children:"No relationships yet."})]}),!Ne&&l.jsxs("div",{className:"card p-6",children:[l.jsxs("div",{className:"flex items-center justify-between mb-4",children:[l.jsx("h2",{className:"font-semibold",children:"Addresses"}),l.jsxs(oe,{to:`/people/${t}/address/new`,className:"btn-secondary text-sm",children:[l.jsx(Bt,{className:"w-4 h-4 md:mr-1"}),l.jsx("span",{className:"hidden md:inline",children:"Add address"})]})]}),((eP=dr.addresses)==null?void 0:eP.length)>0?l.jsx("div",{className:"space-y-4",children:dr.addresses.map((k,Q)=>{const Y=[];k.street&&Y.push(k.street);const Oe=[k.postal_code,k.city].filter(Boolean).join(" ");Oe&&Y.push(Oe);const Be=[k.state,k.country].filter(Boolean).join(", ");Be&&Y.push(Be);const it=[k.street,k.postal_code,k.city,k.state,k.country].filter(Boolean).join(", "),lt=`https://www.google.com/maps/search/?api=1&query=${encodeURIComponent(it)}`;return l.jsx("div",{className:"group",children:l.jsxs("div",{className:"flex items-start rounded-md -mx-2 px-2 py-1.5 group-hover:bg-gray-50 transition-colors",children:[l.jsx(cne,{className:"w-4 h-4 text-gray-400 mr-3 mt-0.5 flex-shrink-0"}),l.jsxs("div",{className:"flex-1 min-w-0",children:[k.address_label&&l.jsx("span",{className:"text-sm text-gray-500 block mb-1",children:k.address_label}),l.jsx("a",{href:lt,target:"_blank",rel:"noopener noreferrer",className:"text-primary-600 hover:text-primary-700 hover:underline text-sm",children:Y.map((ks,Wi)=>l.jsx("span",{className:"block",children:ks},Wi))})]}),l.jsxs("div",{className:"flex items-center gap-1 opacity-0 group-hover:opacity-100 transition-opacity ml-2",children:[l.jsx(oe,{to:`/people/${t}/address/${Q}/edit`,className:"p-1 hover:bg-gray-100 rounded",title:"Edit address",children:l.jsx(Bs,{className:"w-4 h-4 text-gray-400 hover:text-gray-600"})}),l.jsx("button",{onClick:()=>z(Q),className:"p-1 hover:bg-red-50 rounded",title:"Delete address",children:l.jsx(Sn,{className:"w-4 h-4 text-gray-400 hover:text-red-600"})})]})]})},Q)})}):l.jsx("p",{className:"text-sm text-gray-500 text-center py-4",children:"No addresses yet."})]})]})]})]})}var sh=t=>t.type==="checkbox",Ja=t=>t instanceof Date,rn=t=>t==null;const QK=t=>typeof t=="object";var Jt=t=>!rn(t)&&!Array.isArray(t)&&QK(t)&&!Ja(t),XK=t=>Jt(t)&&t.target?sh(t.target)?t.target.checked:t.target.value:t,Qse=t=>t.substring(0,t.search(/\.\d+(\.|$)/))||t,JK=(t,e)=>t.has(Qse(e)),Xse=t=>{const e=t.constructor&&t.constructor.prototype;return Jt(e)&&e.hasOwnProperty("isPrototypeOf")},SO=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function ar(t){if(t instanceof Date)return new Date(t);const e=typeof FileList<"u"&&t instanceof FileList;if(SO&&(t instanceof Blob||e))return t;const r=Array.isArray(t);if(!r&&!(Jt(t)&&Xse(t)))return t;const n=r?[]:Object.create(Object.getPrototypeOf(t));for(const i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=ar(t[i]));return n}var vm=t=>/^\w*$/.test(t),Ut=t=>t===void 0,EO=t=>Array.isArray(t)?t.filter(Boolean):[],NO=t=>EO(t.replace(/["|']|\]/g,"").split(/\.|\[/)),fe=(t,e,r)=>{if(!e||!Jt(t))return r;const n=(vm(e)?[e]:NO(e)).reduce((i,s)=>rn(i)?i:i[s],t);return Ut(n)||n===t?Ut(t[e])?r:t[e]:n},En=t=>typeof t=="boolean",Vr=t=>typeof t=="function",vt=(t,e,r)=>{let n=-1;const i=vm(e)?[e]:NO(e),s=i.length,a=s-1;for(;++n<s;){const o=i[n];let u=r;if(n!==a){const c=t[o];u=Jt(c)||Array.isArray(c)?c:isNaN(+i[n+1])?{}:[]}if(o==="__proto__"||o==="constructor"||o==="prototype")return;t[o]=u,t=t[o]}};const Cp={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},ci={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},Ki={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},ZK=qe.createContext(null);ZK.displayName="HookFormContext";const jO=()=>qe.useContext(ZK);var eG=(t,e,r,n=!0)=>{const i={defaultValues:e._defaultValues};for(const s in t)Object.defineProperty(i,s,{get:()=>{const a=s;return e._proxyFormState[a]!==ci.all&&(e._proxyFormState[a]=!n||ci.all),r&&(r[a]=!0),t[a]}});return i};const CO=typeof window<"u"?qe.useLayoutEffect:qe.useEffect;function Jse(t){const e=jO(),{control:r=e.control,disabled:n,name:i,exact:s}=t||{},[a,o]=qe.useState(r._formState),u=qe.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1});return CO(()=>r._subscribe({name:i,formState:u.current,exact:s,callback:c=>{!n&&o({...r._formState,...c})}}),[i,n,s]),qe.useEffect(()=>{u.current.isValid&&r._setValid(!0)},[r]),qe.useMemo(()=>eG(a,r,u.current,!1),[a,r])}var Nn=t=>typeof t=="string",Lj=(t,e,r,n,i)=>Nn(t)?(n&&e.watch.add(t),fe(r,t,i)):Array.isArray(t)?t.map(s=>(n&&e.watch.add(s),fe(r,s))):(n&&(e.watchAll=!0),r),Bj=t=>rn(t)||!QK(t);function di(t,e,r=new WeakSet){if(Bj(t)||Bj(e))return Object.is(t,e);if(Ja(t)&&Ja(e))return t.getTime()===e.getTime();const n=Object.keys(t),i=Object.keys(e);if(n.length!==i.length)return!1;if(r.has(t)||r.has(e))return!0;r.add(t),r.add(e);for(const s of n){const a=t[s];if(!i.includes(s))return!1;if(s!=="ref"){const o=e[s];if(Ja(a)&&Ja(o)||Jt(a)&&Jt(o)||Array.isArray(a)&&Array.isArray(o)?!di(a,o,r):!Object.is(a,o))return!1}}return!0}function Zse(t){const e=jO(),{control:r=e.control,name:n,defaultValue:i,disabled:s,exact:a,compute:o}=t||{},u=qe.useRef(i),c=qe.useRef(o),d=qe.useRef(void 0),h=qe.useRef(r),f=qe.useRef(n);c.current=o;const[p,v]=qe.useState(()=>{const b=r._getWatch(n,u.current);return c.current?c.current(b):b}),y=qe.useCallback(b=>{const _=Lj(n,r._names,b||r._formValues,!1,u.current);return c.current?c.current(_):_},[r._formValues,r._names,n]),x=qe.useCallback(b=>{if(!s){const _=Lj(n,r._names,b||r._formValues,!1,u.current);if(c.current){const E=c.current(_);di(E,d.current)||(v(E),d.current=E)}else v(_)}},[r._formValues,r._names,s,n]);CO(()=>((h.current!==r||!di(f.current,n))&&(h.current=r,f.current=n,x()),r._subscribe({name:n,formState:{values:!0},exact:a,callback:b=>{x(b.values)}})),[r,a,n,x]),qe.useEffect(()=>r._removeUnmounted());const g=h.current!==r,m=f.current,w=qe.useMemo(()=>{if(s)return null;const b=!g&&!di(m,n);return g||b?y():null},[s,g,n,m,y]);return w!==null?w:p}function eae(t){const e=jO(),{name:r,disabled:n,control:i=e.control,shouldUnregister:s,defaultValue:a,exact:o=!0}=t,u=JK(i._names.array,r),c=qe.useMemo(()=>fe(i._formValues,r,fe(i._defaultValues,r,a)),[i,r,a]),d=Zse({control:i,name:r,defaultValue:c,exact:o}),h=Jse({control:i,name:r,exact:o}),f=qe.useRef(t),p=qe.useRef(void 0),v=qe.useRef(i.register(r,{...t.rules,value:d,...En(t.disabled)?{disabled:t.disabled}:{}}));f.current=t;const y=qe.useMemo(()=>Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!fe(h.errors,r)},isDirty:{enumerable:!0,get:()=>!!fe(h.dirtyFields,r)},isTouched:{enumerable:!0,get:()=>!!fe(h.touchedFields,r)},isValidating:{enumerable:!0,get:()=>!!fe(h.validatingFields,r)},error:{enumerable:!0,get:()=>fe(h.errors,r)}}),[h,r]),x=qe.useCallback(b=>v.current.onChange({target:{value:XK(b),name:r},type:Cp.CHANGE}),[r]),g=qe.useCallback(()=>v.current.onBlur({target:{value:fe(i._formValues,r),name:r},type:Cp.BLUR}),[r,i._formValues]),m=qe.useCallback(b=>{const _=fe(i._fields,r);_&&_._f&&b&&(_._f.ref={focus:()=>Vr(b.focus)&&b.focus(),select:()=>Vr(b.select)&&b.select(),setCustomValidity:E=>Vr(b.setCustomValidity)&&b.setCustomValidity(E),reportValidity:()=>Vr(b.reportValidity)&&b.reportValidity()})},[i._fields,r]),w=qe.useMemo(()=>({name:r,value:d,...En(n)||h.disabled?{disabled:h.disabled||n}:{},onChange:x,onBlur:g,ref:m}),[r,n,h.disabled,x,g,m,d]);return qe.useEffect(()=>{const b=i._options.shouldUnregister||s,_=p.current;_&&_!==r&&!u&&i.unregister(_),i.register(r,{...f.current.rules,...En(f.current.disabled)?{disabled:f.current.disabled}:{}});const E=(j,S)=>{const C=fe(i._fields,j);C&&C._f&&(C._f.mount=S)};if(E(r,!0),b){const j=ar(fe(i._options.defaultValues,r,f.current.defaultValue));vt(i._defaultValues,r,j),Ut(fe(i._formValues,r))&&vt(i._formValues,r,j)}return!u&&i.register(r),p.current=r,()=>{(u?b&&!i._state.action:b)?i.unregister(r):E(r,!1)}},[r,i,u,s]),qe.useEffect(()=>{i._setDisabledField({disabled:n,name:r})},[n,r,i]),qe.useMemo(()=>({field:w,formState:h,fieldState:y}),[w,h,y])}const Op=t=>t.render(eae(t));var tae=(t,e,r,n,i)=>e?{...r[t],types:{...r[t]&&r[t].types?r[t].types:{},[n]:i||!0}}:{},Qc=t=>Array.isArray(t)?t:[t],cR=()=>{let t=[];return{get observers(){return t},next:i=>{for(const s of t)s.next&&s.next(i)},subscribe:i=>(t.push(i),{unsubscribe:()=>{t=t.filter(s=>s!==i)}}),unsubscribe:()=>{t=[]}}};function tG(t,e){const r={};for(const n in t)if(t.hasOwnProperty(n)){const i=t[n],s=e[n];if(i&&Jt(i)&&s){const a=tG(i,s);Jt(a)&&(r[n]=a)}else t[n]&&(r[n]=s)}return r}var Lr=t=>Jt(t)&&!Object.keys(t).length,OO=t=>t.type==="file",Tp=t=>{if(!SO)return!1;const e=t?t.ownerDocument:0;return t instanceof(e&&e.defaultView?e.defaultView.HTMLElement:HTMLElement)},rG=t=>t.type==="select-multiple",TO=t=>t.type==="radio",rae=t=>TO(t)||sh(t),Av=t=>Tp(t)&&t.isConnected;function nae(t,e){const r=e.slice(0,-1).length;let n=0;for(;n<r;)t=Ut(t)?n++:t[e[n++]];return t}function iae(t){for(const e in t)if(t.hasOwnProperty(e)&&!Ut(t[e]))return!1;return!0}function Qt(t,e){const r=Array.isArray(e)?e:vm(e)?[e]:NO(e),n=r.length===1?t:nae(t,r),i=r.length-1,s=r[i];return n&&delete n[s],i!==0&&(Jt(n)&&Lr(n)||Array.isArray(n)&&iae(n))&&Qt(t,r.slice(0,-1)),t}var sae=t=>{for(const e in t)if(Vr(t[e]))return!0;return!1};function nG(t){return Array.isArray(t)||Jt(t)&&!sae(t)}function zj(t,e={}){for(const r in t){const n=t[r];nG(n)?(e[r]=Array.isArray(n)?[]:{},zj(n,e[r])):Ut(n)||(e[r]=!0)}return e}function xl(t,e,r){r||(r=zj(e));for(const n in t){const i=t[n];if(nG(i))Ut(e)||Bj(r[n])?r[n]=zj(i,Array.isArray(i)?[]:{}):xl(i,rn(e)?{}:e[n],r[n]);else{const s=e[n];r[n]=!di(i,s)}}return r}const dR={value:!1,isValid:!1},hR={value:!0,isValid:!0};var iG=t=>{if(Array.isArray(t)){if(t.length>1){const e=t.filter(r=>r&&r.checked&&!r.disabled).map(r=>r.value);return{value:e,isValid:!!e.length}}return t[0].checked&&!t[0].disabled?t[0].attributes&&!Ut(t[0].attributes.value)?Ut(t[0].value)||t[0].value===""?hR:{value:t[0].value,isValid:!0}:hR:dR}return dR},sG=(t,{valueAsNumber:e,valueAsDate:r,setValueAs:n})=>Ut(t)?t:e?t===""?NaN:t&&+t:r&&Nn(t)?new Date(t):n?n(t):t;const fR={isValid:!1,value:null};var aG=t=>Array.isArray(t)?t.reduce((e,r)=>r&&r.checked&&!r.disabled?{isValid:!0,value:r.value}:e,fR):fR;function pR(t){const e=t.ref;return OO(e)?e.files:TO(e)?aG(t.refs).value:rG(e)?[...e.selectedOptions].map(({value:r})=>r):sh(e)?iG(t.refs).value:sG(Ut(e.value)?t.ref.value:e.value,t)}var aae=(t,e,r,n)=>{const i={};for(const s of t){const a=fe(e,s);a&&vt(i,s,a._f)}return{criteriaMode:r,names:[...t],fields:i,shouldUseNativeValidation:n}},Pp=t=>t instanceof RegExp,Oc=t=>Ut(t)?t:Pp(t)?t.source:Jt(t)?Pp(t.value)?t.value.source:t.value:t,mR=t=>({isOnSubmit:!t||t===ci.onSubmit,isOnBlur:t===ci.onBlur,isOnChange:t===ci.onChange,isOnAll:t===ci.all,isOnTouch:t===ci.onTouched});const vR="AsyncFunction";var oae=t=>!!t&&!!t.validate&&!!(Vr(t.validate)&&t.validate.constructor.name===vR||Jt(t.validate)&&Object.values(t.validate).find(e=>e.constructor.name===vR)),lae=t=>t.mount&&(t.required||t.min||t.max||t.maxLength||t.minLength||t.pattern||t.validate),gR=(t,e,r)=>!r&&(e.watchAll||e.watch.has(t)||[...e.watch].some(n=>t.startsWith(n)&&/^\.\w+/.test(t.slice(n.length))));const Xc=(t,e,r,n)=>{for(const i of r||Object.keys(t)){const s=fe(t,i);if(s){const{_f:a,...o}=s;if(a){if(a.refs&&a.refs[0]&&e(a.refs[0],i)&&!n)return!0;if(a.ref&&e(a.ref,a.name)&&!n)return!0;if(Xc(o,e))break}else if(Jt(o)&&Xc(o,e))break}}};function yR(t,e,r){const n=fe(t,r);if(n||vm(r))return{error:n,name:r};const i=r.split(".");for(;i.length;){const s=i.join("."),a=fe(e,s),o=fe(t,s);if(a&&!Array.isArray(a)&&r!==s)return{name:r};if(o&&o.type)return{name:s,error:o};if(o&&o.root&&o.root.type)return{name:`${s}.root`,error:o.root};i.pop()}return{name:r}}var uae=(t,e,r,n)=>{r(t);const{name:i,...s}=t;return Lr(s)||Object.keys(s).length>=Object.keys(e).length||Object.keys(s).find(a=>e[a]===(!n||ci.all))},cae=(t,e,r)=>!t||!e||t===e||Qc(t).some(n=>n&&(r?n===e:n.startsWith(e)||e.startsWith(n))),dae=(t,e,r,n,i)=>i.isOnAll?!1:!r&&i.isOnTouch?!(e||t):(r?n.isOnBlur:i.isOnBlur)?!t:(r?n.isOnChange:i.isOnChange)?t:!0,hae=(t,e)=>!EO(fe(t,e)).length&&Qt(t,e),fae=(t,e,r)=>{const n=Qc(fe(t,r));return vt(n,"root",e[r]),vt(t,r,n),t};function bR(t,e,r="validate"){if(Nn(t)||Array.isArray(t)&&t.every(Nn)||En(t)&&!t)return{type:r,message:Nn(t)?t:"",ref:e}}var vl=t=>Jt(t)&&!Pp(t)?t:{value:t,message:""},xR=async(t,e,r,n,i,s)=>{const{ref:a,refs:o,required:u,maxLength:c,minLength:d,min:h,max:f,pattern:p,validate:v,name:y,valueAsNumber:x,mount:g}=t._f,m=fe(r,y);if(!g||e.has(y))return{};const w=o?o[0]:a,b=P=>{i&&w.reportValidity&&(w.setCustomValidity(En(P)?"":P||""),w.reportValidity())},_={},E=TO(a),j=sh(a),S=E||j,C=(x||OO(a))&&Ut(a.value)&&Ut(m)||Tp(a)&&a.value===""||m===""||Array.isArray(m)&&!m.length,N=tae.bind(null,y,n,_),O=(P,I,D,F=Ki.maxLength,M=Ki.minLength)=>{const V=P?I:D;_[y]={type:P?F:M,message:V,ref:a,...N(P?F:M,V)}};if(s?!Array.isArray(m)||!m.length:u&&(!S&&(C||rn(m))||En(m)&&!m||j&&!iG(o).isValid||E&&!aG(o).isValid)){const{value:P,message:I}=Nn(u)?{value:!!u,message:u}:vl(u);if(P&&(_[y]={type:Ki.required,message:I,ref:w,...N(Ki.required,I)},!n))return b(I),_}if(!C&&(!rn(h)||!rn(f))){let P,I;const D=vl(f),F=vl(h);if(!rn(m)&&!isNaN(m)){const M=a.valueAsNumber||m&&+m;rn(D.value)||(P=M>D.value),rn(F.value)||(I=M<F.value)}else{const M=a.valueAsDate||new Date(m),V=B=>new Date(new Date().toDateString()+" "+B),q=a.type=="time",H=a.type=="week";Nn(D.value)&&m&&(P=q?V(m)>V(D.value):H?m>D.value:M>new Date(D.value)),Nn(F.value)&&m&&(I=q?V(m)<V(F.value):H?m<F.value:M<new Date(F.value))}if((P||I)&&(O(!!P,D.message,F.message,Ki.max,Ki.min),!n))return b(_[y].message),_}if((c||d)&&!C&&(Nn(m)||s&&Array.isArray(m))){const P=vl(c),I=vl(d),D=!rn(P.value)&&m.length>+P.value,F=!rn(I.value)&&m.length<+I.value;if((D||F)&&(O(D,P.message,I.message),!n))return b(_[y].message),_}if(p&&!C&&Nn(m)){const{value:P,message:I}=vl(p);if(Pp(P)&&!m.match(P)&&(_[y]={type:Ki.pattern,message:I,ref:a,...N(Ki.pattern,I)},!n))return b(I),_}if(v){if(Vr(v)){const P=await v(m,r),I=bR(P,w);if(I&&(_[y]={...I,...N(Ki.validate,I.message)},!n))return b(I.message),_}else if(Jt(v)){let P={};for(const I in v){if(!Lr(P)&&!n)break;const D=bR(await v[I](m,r),w,I);D&&(P={...D,...N(I,D.message)},b(D.message),n&&(_[y]=P))}if(!Lr(P)&&(_[y]={ref:w,...P},!n))return _}}return b(!0),_};const pae={mode:ci.onSubmit,reValidateMode:ci.onChange,shouldFocusError:!0};function mae(t={}){let e={...pae,...t},r={submitCount:0,isDirty:!1,isReady:!1,isLoading:Vr(e.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1},n={},i=Jt(e.defaultValues)||Jt(e.values)?ar(e.defaultValues||e.values)||{}:{},s=e.shouldUnregister?{}:ar(i),a={action:!1,mount:!1,watch:!1,keepIsValid:!1},o={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},u,c=0;const d={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},h={...d};let f={...h};const p={array:cR(),state:cR()},v=e.criteriaMode===ci.all,y=$=>A=>{clearTimeout(c),c=setTimeout($,A)},x=async $=>{if(!a.keepIsValid&&!e.disabled&&(h.isValid||f.isValid||$)){let A;e.resolver?(A=Lr((await S()).errors),g()):A=await N(n,!0),A!==r.isValid&&p.state.next({isValid:A})}},g=($,A)=>{!e.disabled&&(h.isValidating||h.validatingFields||f.isValidating||f.validatingFields)&&(($||Array.from(o.mount)).forEach(z=>{z&&(A?vt(r.validatingFields,z,A):Qt(r.validatingFields,z))}),p.state.next({validatingFields:r.validatingFields,isValidating:!Lr(r.validatingFields)}))},m=($,A=[],z,se,Z=!0,J=!0)=>{if(se&&z&&!e.disabled){if(a.action=!0,J&&Array.isArray(fe(n,$))){const K=z(fe(n,$),se.argA,se.argB);Z&&vt(n,$,K)}if(J&&Array.isArray(fe(r.errors,$))){const K=z(fe(r.errors,$),se.argA,se.argB);Z&&vt(r.errors,$,K),hae(r.errors,$)}if((h.touchedFields||f.touchedFields)&&J&&Array.isArray(fe(r.touchedFields,$))){const K=z(fe(r.touchedFields,$),se.argA,se.argB);Z&&vt(r.touchedFields,$,K)}(h.dirtyFields||f.dirtyFields)&&(r.dirtyFields=xl(i,s)),p.state.next({name:$,isDirty:P($,A),dirtyFields:r.dirtyFields,errors:r.errors,isValid:r.isValid})}else vt(s,$,A)},w=($,A)=>{vt(r.errors,$,A),p.state.next({errors:r.errors})},b=$=>{r.errors=$,p.state.next({errors:r.errors,isValid:!1})},_=($,A,z,se)=>{const Z=fe(n,$);if(Z){const J=fe(s,$,Ut(z)?fe(i,$):z);Ut(J)||se&&se.defaultChecked||A?vt(s,$,A?J:pR(Z._f)):F($,J),a.mount&&!a.action&&x()}},E=($,A,z,se,Z)=>{let J=!1,K=!1;const le={name:$};if(!e.disabled){if(!z||se){(h.isDirty||f.isDirty)&&(K=r.isDirty,r.isDirty=le.isDirty=P(),J=K!==le.isDirty);const pe=di(fe(i,$),A);K=!!fe(r.dirtyFields,$),pe?Qt(r.dirtyFields,$):vt(r.dirtyFields,$,!0),le.dirtyFields=r.dirtyFields,J=J||(h.dirtyFields||f.dirtyFields)&&K!==!pe}if(z){const pe=fe(r.touchedFields,$);pe||(vt(r.touchedFields,$,z),le.touchedFields=r.touchedFields,J=J||(h.touchedFields||f.touchedFields)&&pe!==z)}J&&Z&&p.state.next(le)}return J?le:{}},j=($,A,z,se)=>{const Z=fe(r.errors,$),J=(h.isValid||f.isValid)&&En(A)&&r.isValid!==A;if(e.delayError&&z?(u=y(()=>w($,z)),u(e.delayError)):(clearTimeout(c),u=null,z?vt(r.errors,$,z):Qt(r.errors,$)),(z?!di(Z,z):Z)||!Lr(se)||J){const K={...se,...J&&En(A)?{isValid:A}:{},errors:r.errors,name:$};r={...r,...K},p.state.next(K)}},S=async $=>(g($,!0),await e.resolver(s,e.context,aae($||o.mount,n,e.criteriaMode,e.shouldUseNativeValidation))),C=async $=>{const{errors:A}=await S($);if(g($),$)for(const z of $){const se=fe(A,z);se?vt(r.errors,z,se):Qt(r.errors,z)}else r.errors=A;return A},N=async($,A,z={valid:!0})=>{for(const se in $){const Z=$[se];if(Z){const{_f:J,...K}=Z;if(J){const le=o.array.has(J.name),pe=Z._f&&oae(Z._f);pe&&h.validatingFields&&g([J.name],!0);const Xe=await xR(Z,o.disabled,s,v,e.shouldUseNativeValidation&&!A,le);if(pe&&h.validatingFields&&g([J.name]),Xe[J.name]&&(z.valid=!1,A))break;!A&&(fe(Xe,J.name)?le?fae(r.errors,Xe,J.name):vt(r.errors,J.name,Xe[J.name]):Qt(r.errors,J.name))}!Lr(K)&&await N(K,A,z)}}return z.valid},O=()=>{for(const $ of o.unMount){const A=fe(n,$);A&&(A._f.refs?A._f.refs.every(z=>!Av(z)):!Av(A._f.ref))&&ke($)}o.unMount=new Set},P=($,A)=>!e.disabled&&($&&A&&vt(s,$,A),!di(W(),i)),I=($,A,z)=>Lj($,o,{...a.mount?s:Ut(A)?i:Nn($)?{[$]:A}:A},z,A),D=$=>EO(fe(a.mount?s:i,$,e.shouldUnregister?fe(i,$,[]):[])),F=($,A,z={})=>{const se=fe(n,$);let Z=A;if(se){const J=se._f;J&&(!J.disabled&&vt(s,$,sG(A,J)),Z=Tp(J.ref)&&rn(A)?"":A,rG(J.ref)?[...J.ref.options].forEach(K=>K.selected=Z.includes(K.value)):J.refs?sh(J.ref)?J.refs.forEach(K=>{(!K.defaultChecked||!K.disabled)&&(Array.isArray(Z)?K.checked=!!Z.find(le=>le===K.value):K.checked=Z===K.value||!!Z)}):J.refs.forEach(K=>K.checked=K.value===Z):OO(J.ref)?J.ref.value="":(J.ref.value=Z,J.ref.type||p.state.next({name:$,values:ar(s)})))}(z.shouldDirty||z.shouldTouch)&&E($,Z,z.shouldTouch,z.shouldDirty,!0),z.shouldValidate&&B($)},M=($,A,z)=>{for(const se in A){if(!A.hasOwnProperty(se))return;const Z=A[se],J=$+"."+se,K=fe(n,J);(o.array.has($)||Jt(Z)||K&&!K._f)&&!Ja(Z)?M(J,Z,z):F(J,Z,z)}},V=($,A,z={})=>{const se=fe(n,$),Z=o.array.has($),J=ar(A);vt(s,$,J),Z?(p.array.next({name:$,values:ar(s)}),(h.isDirty||h.dirtyFields||f.isDirty||f.dirtyFields)&&z.shouldDirty&&p.state.next({name:$,dirtyFields:xl(i,s),isDirty:P($,J)})):se&&!se._f&&!rn(J)?M($,J,z):F($,J,z),gR($,o)&&p.state.next({...r,name:$}),p.state.next({name:a.mount?$:void 0,values:ar(s)})},q=async $=>{a.mount=!0;const A=$.target;let z=A.name,se=!0;const Z=fe(n,z),J=pe=>{se=Number.isNaN(pe)||Ja(pe)&&isNaN(pe.getTime())||di(pe,fe(s,z,pe))},K=mR(e.mode),le=mR(e.reValidateMode);if(Z){let pe,Xe;const ve=A.type?pR(Z._f):XK($),ne=$.type===Cp.BLUR||$.type===Cp.FOCUS_OUT,he=!lae(Z._f)&&!e.resolver&&!fe(r.errors,z)&&!Z._f.deps||dae(ne,fe(r.touchedFields,z),r.isSubmitted,le,K),ue=gR(z,o,ne);vt(s,z,ve),ne?(!A||!A.readOnly)&&(Z._f.onBlur&&Z._f.onBlur($),u&&u(0)):Z._f.onChange&&Z._f.onChange($);const _e=E(z,ve,ne),He=!Lr(_e)||ue;if(!ne&&p.state.next({name:z,type:$.type,values:ar(s)}),he)return(h.isValid||f.isValid)&&(e.mode==="onBlur"?ne&&x():ne||x()),He&&p.state.next({name:z,...ue?{}:_e});if(!ne&&ue&&p.state.next({...r}),e.resolver){const{errors:kn}=await S([z]);if(g([z]),J(ve),se){const Ui=yR(r.errors,n,z),zh=yR(kn,n,Ui.name||z);pe=zh.error,z=zh.name,Xe=Lr(kn)}}else g([z],!0),pe=(await xR(Z,o.disabled,s,v,e.shouldUseNativeValidation))[z],g([z]),J(ve),se&&(pe?Xe=!1:(h.isValid||f.isValid)&&(Xe=await N(n,!0)));se&&(Z._f.deps&&(!Array.isArray(Z._f.deps)||Z._f.deps.length>0)&&B(Z._f.deps),j(z,Xe,pe,_e))}},H=($,A)=>{if(fe(r.errors,A)&&$.focus)return $.focus(),1},B=async($,A={})=>{let z,se;const Z=Qc($);if(e.resolver){const J=await C(Ut($)?$:Z);z=Lr(J),se=$?!Z.some(K=>fe(J,K)):z}else $?(se=(await Promise.all(Z.map(async J=>{const K=fe(n,J);return await N(K&&K._f?{[J]:K}:K)}))).every(Boolean),!(!se&&!r.isValid)&&x()):se=z=await N(n);return p.state.next({...!Nn($)||(h.isValid||f.isValid)&&z!==r.isValid?{}:{name:$},...e.resolver||!$?{isValid:z}:{},errors:r.errors}),A.shouldFocus&&!se&&Xc(n,H,$?Z:o.mount),se},W=($,A)=>{let z={...a.mount?s:i};return A&&(z=tG(A.dirtyFields?r.dirtyFields:r.touchedFields,z)),Ut($)?z:Nn($)?fe(z,$):$.map(se=>fe(z,se))},G=($,A)=>({invalid:!!fe((A||r).errors,$),isDirty:!!fe((A||r).dirtyFields,$),error:fe((A||r).errors,$),isValidating:!!fe(r.validatingFields,$),isTouched:!!fe((A||r).touchedFields,$)}),de=$=>{$&&Qc($).forEach(A=>Qt(r.errors,A)),p.state.next({errors:$?r.errors:{}})},xe=($,A,z)=>{const se=(fe(n,$,{_f:{}})._f||{}).ref,Z=fe(r.errors,$)||{},{ref:J,message:K,type:le,...pe}=Z;vt(r.errors,$,{...pe,...A,ref:se}),p.state.next({name:$,errors:r.errors,isValid:!1}),z&&z.shouldFocus&&se&&se.focus&&se.focus()},Ie=($,A)=>Vr($)?p.state.subscribe({next:z=>"values"in z&&$(I(void 0,A),z)}):I($,A,!0),me=$=>p.state.subscribe({next:A=>{cae($.name,A.name,$.exact)&&uae(A,$.formState||h,Le,$.reRenderRoot)&&$.callback({values:{...s},...r,...A,defaultValues:i})}}).unsubscribe,Ce=$=>(a.mount=!0,f={...f,...$.formState},me({...$,formState:{...d,...$.formState}})),ke=($,A={})=>{for(const z of $?Qc($):o.mount)o.mount.delete(z),o.array.delete(z),A.keepValue||(Qt(n,z),Qt(s,z)),!A.keepError&&Qt(r.errors,z),!A.keepDirty&&Qt(r.dirtyFields,z),!A.keepTouched&&Qt(r.touchedFields,z),!A.keepIsValidating&&Qt(r.validatingFields,z),!e.shouldUnregister&&!A.keepDefaultValue&&Qt(i,z);p.state.next({values:ar(s)}),p.state.next({...r,...A.keepDirty?{isDirty:P()}:{}}),!A.keepIsValid&&x()},Ze=({disabled:$,name:A})=>{(En($)&&a.mount||$||o.disabled.has(A))&&($?o.disabled.add(A):o.disabled.delete(A))},Tt=($,A={})=>{let z=fe(n,$);const se=En(A.disabled)||En(e.disabled);return vt(n,$,{...z||{},_f:{...z&&z._f?z._f:{ref:{name:$}},name:$,mount:!0,...A}}),o.mount.add($),z?Ze({disabled:En(A.disabled)?A.disabled:e.disabled,name:$}):_($,!0,A.value),{...se?{disabled:A.disabled||e.disabled}:{},...e.progressive?{required:!!A.required,min:Oc(A.min),max:Oc(A.max),minLength:Oc(A.minLength),maxLength:Oc(A.maxLength),pattern:Oc(A.pattern)}:{},name:$,onChange:q,onBlur:q,ref:Z=>{if(Z){Tt($,A),z=fe(n,$);const J=Ut(Z.value)&&Z.querySelectorAll&&Z.querySelectorAll("input,select,textarea")[0]||Z,K=rae(J),le=z._f.refs||[];if(K?le.find(pe=>pe===J):J===z._f.ref)return;vt(n,$,{_f:{...z._f,...K?{refs:[...le.filter(Av),J,...Array.isArray(fe(i,$))?[{}]:[]],ref:{type:J.type,name:$}}:{ref:J}}}),_($,!1,void 0,J)}else z=fe(n,$,{}),z._f&&(z._f.mount=!1),(e.shouldUnregister||A.shouldUnregister)&&!(JK(o.array,$)&&a.action)&&o.unMount.add($)}}},nt=()=>e.shouldFocusError&&Xc(n,H,o.mount),X=$=>{En($)&&(p.state.next({disabled:$}),Xc(n,(A,z)=>{const se=fe(n,z);se&&(A.disabled=se._f.disabled||$,Array.isArray(se._f.refs)&&se._f.refs.forEach(Z=>{Z.disabled=se._f.disabled||$}))},0,!1))},Se=($,A)=>async z=>{let se;z&&(z.preventDefault&&z.preventDefault(),z.persist&&z.persist());let Z=ar(s);if(p.state.next({isSubmitting:!0}),e.resolver){const{errors:J,values:K}=await S();g(),r.errors=J,Z=ar(K)}else await N(n);if(o.disabled.size)for(const J of o.disabled)Qt(Z,J);if(Qt(r.errors,"root"),Lr(r.errors)){p.state.next({errors:{}});try{await $(Z,z)}catch(J){se=J}}else A&&await A({...r.errors},z),nt(),setTimeout(nt);if(p.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:Lr(r.errors)&&!se,submitCount:r.submitCount+1,errors:r.errors}),se)throw se},Me=($,A={})=>{fe(n,$)&&(Ut(A.defaultValue)?V($,ar(fe(i,$))):(V($,A.defaultValue),vt(i,$,ar(A.defaultValue))),A.keepTouched||Qt(r.touchedFields,$),A.keepDirty||(Qt(r.dirtyFields,$),r.isDirty=A.defaultValue?P($,ar(fe(i,$))):P()),A.keepError||(Qt(r.errors,$),h.isValid&&x()),p.state.next({...r}))},Ue=($,A={})=>{const z=$?ar($):i,se=ar(z),Z=Lr($),J=Z?i:se;if(A.keepDefaultValues||(i=z),!A.keepValues){if(A.keepDirtyValues){const K=new Set([...o.mount,...Object.keys(xl(i,s))]);for(const le of Array.from(K))fe(r.dirtyFields,le)?vt(J,le,fe(s,le)):V(le,fe(J,le))}else{if(SO&&Ut($))for(const K of o.mount){const le=fe(n,K);if(le&&le._f){const pe=Array.isArray(le._f.refs)?le._f.refs[0]:le._f.ref;if(Tp(pe)){const Xe=pe.closest("form");if(Xe){Xe.reset();break}}}}if(A.keepFieldsRef)for(const K of o.mount)V(K,fe(J,K));else n={}}s=e.shouldUnregister?A.keepDefaultValues?ar(i):{}:ar(J),p.array.next({values:{...J}}),p.state.next({values:{...J}})}o={mount:A.keepDirtyValues?o.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},a.mount=!h.isValid||!!A.keepIsValid||!!A.keepDirtyValues||!e.shouldUnregister&&!Lr(J),a.watch=!!e.shouldUnregister,a.keepIsValid=!!A.keepIsValid,a.action=!1,A.keepErrors||(r.errors={}),p.state.next({submitCount:A.keepSubmitCount?r.submitCount:0,isDirty:Z?!1:A.keepDirty?r.isDirty:!!(A.keepDefaultValues&&!di($,i)),isSubmitted:A.keepIsSubmitted?r.isSubmitted:!1,dirtyFields:Z?{}:A.keepDirtyValues?A.keepDefaultValues&&s?xl(i,s):r.dirtyFields:A.keepDefaultValues&&$?xl(i,$):A.keepDirty?r.dirtyFields:{},touchedFields:A.keepTouched?r.touchedFields:{},errors:A.keepErrors?r.errors:{},isSubmitSuccessful:A.keepIsSubmitSuccessful?r.isSubmitSuccessful:!1,isSubmitting:!1,defaultValues:i})},Nt=($,A)=>Ue(Vr($)?$(s):$,{...e.resetOptions,...A}),Ne=($,A={})=>{const z=fe(n,$),se=z&&z._f;if(se){const Z=se.refs?se.refs[0]:se.ref;Z.focus&&setTimeout(()=>{Z.focus(),A.shouldSelect&&Vr(Z.select)&&Z.select()})}},Le=$=>{r={...r,...$}},Pt={control:{register:Tt,unregister:ke,getFieldState:G,handleSubmit:Se,setError:xe,_subscribe:me,_runSchema:S,_updateIsValidating:g,_focusError:nt,_getWatch:I,_getDirty:P,_setValid:x,_setFieldArray:m,_setDisabledField:Ze,_setErrors:b,_getFieldArray:D,_reset:Ue,_resetDefaultValues:()=>Vr(e.defaultValues)&&e.defaultValues().then($=>{Nt($,e.resetOptions),p.state.next({isLoading:!1})}),_removeUnmounted:O,_disableForm:X,_subjects:p,_proxyFormState:h,get _fields(){return n},get _formValues(){return s},get _state(){return a},set _state($){a=$},get _defaultValues(){return i},get _names(){return o},set _names($){o=$},get _formState(){return r},get _options(){return e},set _options($){e={...e,...$}}},subscribe:Ce,trigger:B,register:Tt,handleSubmit:Se,watch:Ie,setValue:V,getValues:W,reset:Nt,resetField:Me,clearErrors:de,unregister:ke,setError:xe,setFocus:Ne,getFieldState:G};return{...Pt,formControl:Pt}}function Go(t={}){const e=qe.useRef(void 0),r=qe.useRef(void 0),[n,i]=qe.useState({isDirty:!1,isValidating:!1,isLoading:Vr(t.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1,isReady:!1,defaultValues:Vr(t.defaultValues)?void 0:t.defaultValues});if(!e.current)if(t.formControl)e.current={...t.formControl,formState:n},t.defaultValues&&!Vr(t.defaultValues)&&t.formControl.reset(t.defaultValues,t.resetOptions);else{const{formControl:a,...o}=mae(t);e.current={...o,formState:n}}const s=e.current.control;return s._options=t,CO(()=>{const a=s._subscribe({formState:s._proxyFormState,callback:()=>i({...s._formState}),reRenderRoot:!0});return i(o=>({...o,isReady:!0})),s._formState.isReady=!0,a},[s]),qe.useEffect(()=>s._disableForm(t.disabled),[s,t.disabled]),qe.useEffect(()=>{t.mode&&(s._options.mode=t.mode),t.reValidateMode&&(s._options.reValidateMode=t.reValidateMode)},[s,t.mode,t.reValidateMode]),qe.useEffect(()=>{t.errors&&(s._setErrors(t.errors),s._focusError())},[s,t.errors]),qe.useEffect(()=>{t.shouldUnregister&&s._subjects.state.next({values:s._getWatch()})},[s,t.shouldUnregister]),qe.useEffect(()=>{if(s._proxyFormState.isDirty){const a=s._getDirty();a!==n.isDirty&&s._subjects.state.next({isDirty:a})}},[s,n.isDirty]),qe.useEffect(()=>{var a;t.values&&!di(t.values,r.current)?(s._reset(t.values,{keepFieldsRef:!0,...s._options.resetOptions}),!((a=s._options.resetOptions)===null||a===void 0)&&a.keepIsValid||s._setValid(),r.current=t.values,i(o=>({...o}))):s._resetDefaultValues()},[s,t.values]),qe.useEffect(()=>{s._state.mount||(s._setValid(),s._state.mount=!0),s._state.watch&&(s._state.watch=!1,s._subjects.state.next({...s._formState})),s._removeUnmounted()}),e.current.formState=eG(n,s),e.current}function wR(){var F;const{id:t}=Fi(),e=qr(),[r]=iO(),n=!!t,i=r.get("returnTo"),s=r.get("sourcePersonId"),{data:a,isLoading:o}=Ko(t),u=Nne(),c=Lu(),{data:d=[]}=et({queryKey:["date-types"],queryFn:async()=>(await Fe.getDateTypes()).data}),h=d.find(M=>M.slug==="birthday"||M.name.toLowerCase()==="birthday"),[f,p]=T.useState(!1),[v,y]=T.useState(null),[x,g]=T.useState(null),m=rt({mutationFn:async M=>{const V=new FormData;return V.append("file",M),(await ce.post("/prm/v1/import/vcard/parse",V,{headers:{"Content-Type":"multipart/form-data"}})).data}}),{register:w,handleSubmit:b,reset:_,watch:E,formState:{errors:j,isSubmitting:S}}=Go({defaultValues:{first_name:"",last_name:"",nickname:"",gender:"",email:"",phone:"",phone_type:"mobile",how_we_met:"",is_favorite:!1,birthday:""}});E("phone"),T.useEffect(()=>{var M,V,q,H,B,W,G,de,xe,Ie;if(a){const me=(V=(M=a.acf)==null?void 0:M.contact_info)==null?void 0:V.find(nt=>nt.contact_type==="email"),Ce=(me==null?void 0:me.contact_value)||"",ke=(H=(q=a.acf)==null?void 0:q.contact_info)==null?void 0:H.find(nt=>nt.contact_type==="phone"||nt.contact_type==="mobile"),Ze=(ke==null?void 0:ke.contact_value)||"",Tt=(ke==null?void 0:ke.contact_type)||"mobile";_({first_name:((B=a.acf)==null?void 0:B.first_name)||"",last_name:((W=a.acf)==null?void 0:W.last_name)||"",nickname:((G=a.acf)==null?void 0:G.nickname)||"",gender:((de=a.acf)==null?void 0:de.gender)||"",email:Ce,phone:Ze,phone_type:Tt,how_we_met:((xe=a.acf)==null?void 0:xe.how_we_met)||"",is_favorite:((Ie=a.acf)==null?void 0:Ie.is_favorite)||!1,birthday:""})}},[a,_]),Xr(n&&a?`Edit ${((F=a.title)==null?void 0:F.rendered)||a.title||"person"}`:"New person");const C=T.useCallback(M=>{M.preventDefault(),M.stopPropagation(),M.type==="dragenter"||M.type==="dragover"?p(!0):M.type==="dragleave"&&p(!1)},[]),N=T.useCallback(M=>{M.preventDefault(),M.stopPropagation(),p(!1),g(null),M.dataTransfer.files&&M.dataTransfer.files[0]&&O(M.dataTransfer.files[0])},[]),O=M=>{const V=M.name.split(".").pop().toLowerCase();if(V!=="vcf"&&V!=="vcard"){g("Please select a vCard file (.vcf)");return}y(M),m.mutate(M,{onSuccess:q=>{_({first_name:q.first_name||"",last_name:q.last_name||"",nickname:q.nickname||"",gender:"",email:q.email||"",phone:q.phone||"",phone_type:q.phone_type||"mobile",how_we_met:q.note||"",is_favorite:!1,birthday:q.birthday||""}),q.contact_count>1&&g(`Note: File contains ${q.contact_count} contacts. Only the first contact was loaded.`)},onError:q=>{var H,B;g(((B=(H=q.response)==null?void 0:H.data)==null?void 0:B.message)||"Failed to parse vCard file"),y(null)}})},P=M=>{g(null),M.target.files&&M.target.files[0]&&O(M.target.files[0])},I=()=>{y(null),g(null),m.reset()},D=async M=>{try{const q=`${M.first_name||""} ${M.last_name||""}`.trim()||"Unnamed Person",H={title:q,status:"publish",acf:{first_name:M.first_name,last_name:M.last_name,nickname:M.nickname,gender:M.gender||null,how_we_met:M.how_we_met,is_favorite:M.is_favorite}};if(!n&&(M.email||M.phone)){const B=[];M.email&&B.push({contact_type:"email",contact_value:M.email,contact_label:""}),M.phone&&B.push({contact_type:M.phone_type||"mobile",contact_value:M.phone,contact_label:""}),H.acf.contact_info=B}if(n)H.title=q,await c.mutateAsync({id:t,data:H}),e(`/people/${t}`);else{const W=(await u.mutateAsync(H)).data.id;if(M.email)try{await $e.sideloadGravatar(W,M.email)}catch(G){console.error("Failed to load Gravatar:",G)}if(M.birthday&&h)try{const G=M.first_name||"Person";await Fe.createDate({title:`${G}'s Birthday`,status:"publish",date_type:[h.id],acf:{date_value:M.birthday,is_recurring:!0,related_people:[W],reminder_days_before:7}})}catch(G){console.error("Failed to create birthday:",G)}e(i==="relationship"&&s?`/people/${s}/relationship/new?newPersonId=${W}`:`/people/${W}`)}}catch(V){console.error("Failed to save person:",V)}};return n&&o?l.jsx("div",{className:"flex items-center justify-center h-64",children:l.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"})}):l.jsxs("div",{className:"max-w-2xl mx-auto space-y-6",children:[l.jsx("div",{className:"flex items-center justify-between",children:i==="relationship"&&s?l.jsxs(oe,{to:`/people/${s}/relationship/new`,className:"flex items-center text-gray-600 hover:text-gray-900",children:[l.jsx(mn,{className:"w-4 h-4 md:mr-2"}),l.jsx("span",{className:"hidden md:inline",children:"Back to add relationship"})]}):l.jsxs(oe,{to:"/people",className:"flex items-center text-gray-600 hover:text-gray-900",children:[l.jsx(mn,{className:"w-4 h-4 md:mr-2"}),l.jsx("span",{className:"hidden md:inline",children:"Back to people"})]})}),l.jsxs("div",{className:"card p-6",children:[l.jsx("h1",{className:"text-xl font-bold mb-6",children:n?"Edit person":"Add new person"}),!n&&l.jsxs("div",{className:"mb-6",children:[l.jsxs("div",{className:`relative rounded-lg border-2 border-dashed p-4 text-center transition-colors ${f?"border-primary-500 bg-primary-50":v&&!x?"border-green-300 bg-green-50":"border-gray-300 hover:border-gray-400"}`,onDragEnter:C,onDragLeave:C,onDragOver:C,onDrop:N,children:[l.jsx("input",{type:"file",accept:".vcf,.vcard",onChange:P,className:"absolute inset-0 w-full h-full opacity-0 cursor-pointer"}),m.isPending?l.jsxs("div",{className:"flex items-center justify-center gap-2 py-2",children:[l.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-primary-600"}),l.jsx("span",{className:"text-sm text-gray-600",children:"Parsing vCard..."})]}):v&&!x?l.jsxs("div",{className:"flex items-center justify-center gap-2 py-2",children:[l.jsx(rh,{className:"h-5 w-5 text-green-600"}),l.jsxs("span",{className:"text-sm text-green-700",children:["Loaded from ",v.name]}),l.jsx("button",{type:"button",onClick:M=>{M.preventDefault(),M.stopPropagation(),I()},className:"ml-2 p-1 hover:bg-green-100 rounded",children:l.jsx(Mr,{className:"h-4 w-4 text-green-600"})})]}):l.jsxs("div",{className:"flex items-center justify-center gap-2 py-2",children:[l.jsx($o,{className:"h-5 w-5 text-gray-400"}),l.jsxs("span",{className:"text-sm text-gray-600",children:["Drop a vCard file here to import, or ",l.jsx("span",{className:"text-primary-600",children:"browse"})]})]})]}),x&&l.jsxs("div",{className:"mt-2 flex items-start gap-2 text-sm text-amber-700 bg-amber-50 rounded-lg p-2",children:[l.jsx(ws,{className:"h-4 w-4 mt-0.5 flex-shrink-0"}),l.jsx("span",{children:x})]})]}),l.jsxs("form",{onSubmit:b(D),className:"space-y-6",children:[l.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"label",children:"First name *"}),l.jsx("input",{...w("first_name",{required:"First name is required"}),className:"input",placeholder:"John"}),j.first_name&&l.jsx("p",{className:"text-sm text-red-600 mt-1",children:j.first_name.message})]}),l.jsxs("div",{children:[l.jsx("label",{className:"label",children:"Last name"}),l.jsx("input",{...w("last_name"),className:"input",placeholder:"Doe"})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"label",children:"Nickname"}),l.jsx("input",{...w("nickname"),className:"input",placeholder:"Johnny"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"label",children:"Gender"}),l.jsxs("select",{...w("gender"),className:"input",children:[l.jsx("option",{value:"",children:"Select gender..."}),l.jsx("option",{value:"male",children:"Male"}),l.jsx("option",{value:"female",children:"Female"}),l.jsx("option",{value:"non_binary",children:"Non-binary"}),l.jsx("option",{value:"other",children:"Other"}),l.jsx("option",{value:"prefer_not_to_say",children:"Prefer not to say"})]})]}),!n&&l.jsxs("div",{children:[l.jsx("label",{className:"label",children:"Email"}),l.jsx("input",{type:"email",...w("email"),className:"input",placeholder:"john@example.com"}),l.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Optional: If a Gravatar is associated with this email, it will be automatically set as the profile photo"})]}),!n&&l.jsxs("div",{children:[l.jsx("label",{className:"label",children:"Phone"}),l.jsxs("div",{className:"flex gap-2",children:[l.jsxs("select",{...w("phone_type"),className:"input w-28",children:[l.jsx("option",{value:"mobile",children:"Mobile"}),l.jsx("option",{value:"phone",children:"Phone"})]}),l.jsx("input",{type:"tel",...w("phone"),className:"input flex-1",placeholder:"+1 555 123 4567"})]})]}),!n&&l.jsxs("div",{children:[l.jsx("label",{className:"label",children:"Birthday"}),l.jsx("input",{type:"date",...w("birthday"),className:"input"}),l.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Optional: Set their birthday when creating a new person"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"label",children:"How we met"}),l.jsx("textarea",{...w("how_we_met"),className:"input",rows:4,placeholder:"We met at..."})]}),l.jsxs("div",{className:"flex items-center",children:[l.jsx("input",{type:"checkbox",id:"is_favorite",...w("is_favorite"),className:"w-4 h-4 rounded border-gray-300 text-primary-600 focus:ring-primary-500"}),l.jsx("label",{htmlFor:"is_favorite",className:"ml-2 text-sm text-gray-700 cursor-pointer",children:"Mark as favorite"})]}),l.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t",children:[i==="relationship"&&s?l.jsx(oe,{to:`/people/${s}/relationship/new`,className:"btn-secondary",children:"Cancel"}):l.jsx(oe,{to:"/people",className:"btn-secondary",children:"Cancel"}),l.jsxs("button",{type:"submit",className:"btn-primary",disabled:S,children:[S?l.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}):l.jsx(_s,{className:"w-4 h-4 mr-2"}),n?"Save changes":"Create person"]})]})]})]})]})}function vae({value:t,onChange:e,companies:r,isLoading:n}){return l.jsxs("select",{value:t||"",onChange:i=>e(i.target.value?parseInt(i.target.value,10):null),className:"input",disabled:n,children:[l.jsx("option",{value:"",children:"Select an organization..."}),r.map(i=>{var s;return l.jsx("option",{value:i.id,children:((s=i.title)==null?void 0:s.rendered)||i.title},i.id)})]})}function _R(){var m,w;const{personId:t,index:e}=Fi(),r=qr();ot();const n=parseInt(e,10),i=!isNaN(n),{data:s,isLoading:a}=Ko(t),o=Lu(),{data:u=[],isLoading:c}=et({queryKey:["companies","all"],queryFn:async()=>(await Fe.getCompanies({per_page:100,orderby:"title",order:"asc"})).data}),{register:d,handleSubmit:h,reset:f,watch:p,control:v,formState:{errors:y,isSubmitting:x}}=Go({defaultValues:{company:null,job_title:"",description:"",start_date:"",end_date:"",is_current:!1}});T.useEffect(()=>{var b;if(s&&i){const E=(((b=s.acf)==null?void 0:b.work_history)||[])[n];E&&f({company:E.company||null,job_title:E.job_title||"",description:E.description||"",start_date:E.start_date||"",end_date:E.end_date||"",is_current:E.is_current||!1})}},[s,n,i,f]),Xr(i?`Edit work history - ${((m=s==null?void 0:s.title)==null?void 0:m.rendered)||(s==null?void 0:s.title)||"person"}`:`Add work history - ${((w=s==null?void 0:s.title)==null?void 0:w.rendered)||(s==null?void 0:s.title)||"person"}`);const g=async b=>{var _;try{const E=[...((_=s.acf)==null?void 0:_.work_history)||[]],j={company:b.company||null,job_title:b.job_title||"",description:b.description||"",start_date:b.start_date||"",end_date:b.end_date||"",is_current:b.is_current||!1};i?E[n]=j:E.push(j);const S=ts(s.acf,{work_history:E});await o.mutateAsync({id:t,data:{acf:S}}),r(`/people/${t}`)}catch(E){console.error("Failed to save work history:",E)}};return p("is_current"),a?l.jsx("div",{className:"flex items-center justify-center h-64",children:l.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"})}):s?l.jsxs("div",{className:"max-w-2xl mx-auto space-y-6",children:[l.jsx("div",{className:"flex items-center justify-between",children:l.jsxs(oe,{to:`/people/${t}`,className:"flex items-center text-gray-600 hover:text-gray-900",children:[l.jsx(mn,{className:"w-4 h-4 md:mr-2"}),l.jsx("span",{className:"hidden md:inline",children:"Back to person"})]})}),l.jsxs("div",{className:"card p-6",children:[l.jsx("h1",{className:"text-xl font-bold mb-6",children:i?"Edit work history":"Add work history"}),l.jsxs("form",{onSubmit:h(g),className:"space-y-6",children:[l.jsxs("div",{children:[l.jsx("label",{className:"label",children:"Organization"}),l.jsx(Op,{name:"company",control:v,render:({field:b})=>l.jsx(vae,{value:b.value,onChange:b.onChange,companies:u,isLoading:c})})]}),l.jsxs("div",{children:[l.jsx("label",{className:"label",children:"Job title"}),l.jsx("input",{...d("job_title"),className:"input",placeholder:"e.g., Software Engineer"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"label",children:"Description"}),l.jsx("textarea",{...d("description"),className:"input",rows:4,placeholder:"Job description, responsibilities, achievements..."})]}),l.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"label",children:"Start date"}),l.jsx("input",{type:"date",...d("start_date"),className:"input"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"label",children:"End date"}),l.jsx("input",{type:"date",...d("end_date"),className:"input"}),l.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Optional: Set a future end date to automatically mark as former when it passes"})]})]}),l.jsxs("div",{className:"flex items-center",children:[l.jsx("input",{type:"checkbox",id:"is_current",...d("is_current"),className:"w-4 h-4 rounded border-gray-300 text-primary-600 focus:ring-primary-500"}),l.jsx("label",{htmlFor:"is_current",className:"ml-2 text-sm text-gray-700 cursor-pointer",children:"Currently works here"})]}),l.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t",children:[l.jsx(oe,{to:`/people/${t}`,className:"btn-secondary",children:"Cancel"}),l.jsxs("button",{type:"submit",className:"btn-primary",disabled:x,children:[x?l.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}):l.jsx(_s,{className:"w-4 h-4 mr-2"}),i?"Save changes":"Add work history"]})]})]})]})]}):l.jsxs("div",{className:"card p-6 text-center",children:[l.jsx("p",{className:"text-red-600",children:"Failed to load person."}),l.jsx(oe,{to:"/people",className:"btn-secondary mt-4",children:"Back to people"})]})}const gae=[{value:"email",label:"Email"},{value:"phone",label:"Phone"},{value:"mobile",label:"Mobile"},{value:"website",label:"Website"},{value:"calendar",label:"Calendar link"},{value:"linkedin",label:"LinkedIn"},{value:"twitter",label:"Twitter"},{value:"bluesky",label:"Bluesky"},{value:"threads",label:"Threads"},{value:"instagram",label:"Instagram"},{value:"facebook",label:"Facebook"},{value:"other",label:"Other"}];function SR(){var y,x;const{personId:t,index:e}=Fi(),r=qr(),n=ot(),i=parseInt(e,10),s=!isNaN(i),{data:a,isLoading:o}=Ko(t),u=Lu(),{register:c,handleSubmit:d,reset:h,formState:{errors:f,isSubmitting:p}}=Go({defaultValues:{contact_type:"",contact_label:"",contact_value:""}});T.useEffect(()=>{var g;if(a&&s){const w=(((g=a.acf)==null?void 0:g.contact_info)||[])[i];w&&h({contact_type:w.contact_type||"",contact_label:w.contact_label||"",contact_value:w.contact_value||""})}},[a,i,s,h]),Xr(s?`Edit contact detail - ${((y=a==null?void 0:a.title)==null?void 0:y.rendered)||(a==null?void 0:a.title)||"person"}`:`Add contact detail - ${((x=a==null?void 0:a.title)==null?void 0:x.rendered)||(a==null?void 0:a.title)||"person"}`);const v=async g=>{var m,w,b,_;try{const E=[...((m=a.acf)==null?void 0:m.contact_info)||[]],j={contact_type:g.contact_type||"",contact_label:g.contact_label||"",contact_value:g.contact_value||""};s?E[i]=j:E.push(j);const S=ts(a.acf,{contact_info:E});if(await u.mutateAsync({id:t,data:{acf:S}}),!s&&g.contact_type==="email"&&g.contact_value&&!(a.featured_media>0||((_=(b=(w=a._embedded)==null?void 0:w["wp:featuredmedia"])==null?void 0:b[0])==null?void 0:_.source_url)||a.thumbnail))try{await $e.sideloadGravatar(t,g.contact_value),n.invalidateQueries({queryKey:["person",t]})}catch(N){console.log("No Gravatar found or failed to load:",N)}r(`/people/${t}`)}catch(E){console.error("Failed to save contact detail:",E)}};return o?l.jsx("div",{className:"flex items-center justify-center h-64",children:l.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"})}):a?l.jsxs("div",{className:"max-w-2xl mx-auto space-y-6",children:[l.jsx("div",{className:"flex items-center justify-between",children:l.jsxs(oe,{to:`/people/${t}`,className:"flex items-center text-gray-600 hover:text-gray-900",children:[l.jsx(mn,{className:"w-4 h-4 md:mr-2"}),l.jsx("span",{className:"hidden md:inline",children:"Back to person"})]})}),l.jsxs("div",{className:"card p-6",children:[l.jsx("h1",{className:"text-xl font-bold mb-6",children:s?"Edit contact detail":"Add contact detail"}),l.jsxs("form",{onSubmit:d(v),className:"space-y-6",children:[l.jsxs("div",{children:[l.jsx("label",{className:"label",children:"Contact type *"}),l.jsxs("select",{...c("contact_type",{required:"Please select a contact type"}),className:"input",children:[l.jsx("option",{value:"",children:"Select a type..."}),gae.map(g=>l.jsx("option",{value:g.value,children:g.label},g.value))]}),f.contact_type&&l.jsx("p",{className:"text-sm text-red-600 mt-1",children:f.contact_type.message})]}),l.jsxs("div",{children:[l.jsx("label",{className:"label",children:"Label"}),l.jsx("input",{...c("contact_label"),className:"input",placeholder:"e.g., Work, Personal, Home"}),l.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Optional: Add a label to distinguish multiple entries of the same type"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"label",children:"Value *"}),l.jsx("input",{...c("contact_value",{required:"Please enter a contact value"}),className:"input",placeholder:"e.g., john@example.com, +1 234 567 8900"}),f.contact_value&&l.jsx("p",{className:"text-sm text-red-600 mt-1",children:f.contact_value.message})]}),l.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t",children:[l.jsx(oe,{to:`/people/${t}`,className:"btn-secondary",children:"Cancel"}),l.jsxs("button",{type:"submit",className:"btn-primary",disabled:p,children:[p?l.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}):l.jsx(_s,{className:"w-4 h-4 mr-2"}),s?"Save changes":"Add contact detail"]})]})]})]})]}):l.jsxs("div",{className:"card p-6 text-center",children:[l.jsx("p",{className:"text-red-600",children:"Failed to load person."}),l.jsx(oe,{to:"/people",className:"btn-secondary mt-4",children:"Back to people"})]})}function yae({value:t,onChange:e,people:r,isLoading:n,excludePersonId:i}){const[s,a]=T.useState(""),[o,u]=T.useState(!1),c=T.useRef(null),d=T.useRef(null),h=T.useMemo(()=>r.filter(m=>m.id!==i).sort((m,w)=>{var E,j;const b=(m.first_name||((E=m.acf)==null?void 0:E.first_name)||"").toLowerCase(),_=(w.first_name||((j=w.acf)==null?void 0:j.first_name)||"").toLowerCase();return b<_?-1:b>_?1:0}),[r,i]),f=T.useMemo(()=>{if(!s)return h.slice(0,10);const g=s.toLowerCase();return h.filter(m=>{var E,j;const w=vo(m).toLowerCase(),b=(m.first_name||((E=m.acf)==null?void 0:E.first_name)||"").toLowerCase(),_=(m.last_name||((j=m.acf)==null?void 0:j.last_name)||"").toLowerCase();return w.includes(g)||b.includes(g)||_.includes(g)}).slice(0,10)},[h,s]),p=T.useMemo(()=>h.find(g=>g.id===t),[h,t]);T.useEffect(()=>{const g=m=>{d.current&&!d.current.contains(m.target)&&c.current&&!c.current.contains(m.target)&&u(!1)};return document.addEventListener("mousedown",g),()=>document.removeEventListener("mousedown",g)},[]);const v=g=>{e(g),a(""),u(!1)},y=()=>{e(null),a(""),u(!1)},x=p?vo(p):"";return l.jsxs("div",{className:"relative",children:[l.jsx("div",{className:"relative",children:p&&!o?l.jsxs("div",{className:"flex items-center justify-between input pr-8 cursor-text",onClick:()=>u(!0),children:[l.jsx("span",{children:x}),l.jsx("button",{type:"button",onClick:g=>{g.stopPropagation(),y()},className:"absolute right-2 text-gray-400 hover:text-gray-600",children:l.jsx(Mr,{className:"w-4 h-4"})})]}):l.jsx("input",{ref:c,type:"text",value:s,onChange:g=>{a(g.target.value),u(!0)},onFocus:()=>u(!0),placeholder:"Search for a person...",className:"input",disabled:n})}),o&&(s||!p)&&l.jsx("div",{ref:d,className:"absolute z-10 w-full mt-1 bg-white border border-gray-200 rounded-lg shadow-lg max-h-48 overflow-y-auto",children:f.length>0?f.map(g=>l.jsx("button",{type:"button",onClick:()=>v(g.id),className:`w-full text-left px-4 py-2 hover:bg-gray-50 ${t===g.id?"bg-primary-50":""}`,children:vo(g)},g.id)):l.jsx("p",{className:"px-4 py-2 text-gray-500 text-sm",children:"No people found"})})]})}function ER(){var E,j;const{personId:t,index:e}=Fi(),r=qr(),[n]=iO(),i=ot(),s=parseInt(e,10),a=!isNaN(s),{data:o,isLoading:u}=Ko(t),c=Lu(),{data:d=[],isLoading:h}=Ho(),{data:f=[],isLoading:p}=et({queryKey:["relationship-types"],queryFn:async()=>(await Fe.getRelationshipTypes()).data}),{register:v,handleSubmit:y,reset:x,control:g,setValue:m,formState:{errors:w,isSubmitting:b}}=Go({defaultValues:{related_person:null,relationship_type:"",relationship_label:""}});T.useEffect(()=>{const S=n.get("newPersonId");if(S&&!a&&!h){const C=parseInt(S,10);if(!isNaN(C))if(d.some(O=>O.id===C)){m("related_person",C);const O=new URLSearchParams(n);O.delete("newPersonId"),r({search:O.toString()},{replace:!0})}else(async()=>{try{await i.invalidateQueries({queryKey:["people"]});const{data:P=[]}=await i.refetchQueries({queryKey:["people"]});P.some(F=>F.id===C)&&m("related_person",C);const D=new URLSearchParams(n);D.delete("newPersonId"),r({search:D.toString()},{replace:!0})}catch(P){console.error("Failed to load new person:",P);const I=new URLSearchParams(n);I.delete("newPersonId"),r({search:I.toString()},{replace:!0})}})()}},[n,a,h,d,m,r,i]),T.useEffect(()=>{var S;if(o&&a){const N=(((S=o.acf)==null?void 0:S.relationships)||[])[s];N&&x({related_person:N.related_person||null,relationship_type:N.relationship_type?String(N.relationship_type):"",relationship_label:N.relationship_label||""})}},[o,s,a,x]),Xr(a?`Edit relationship - ${((E=o==null?void 0:o.title)==null?void 0:E.rendered)||(o==null?void 0:o.title)||"person"}`:`Add relationship - ${((j=o==null?void 0:o.title)==null?void 0:j.rendered)||(o==null?void 0:o.title)||"person"}`);const _=async S=>{var C;try{const N=[...((C=o.acf)==null?void 0:C.relationships)||[]],O={related_person:S.related_person||null,relationship_type:S.relationship_type||null,relationship_label:S.relationship_label||""};a?N[s]=O:N.push(O);const P=ts(o.acf,{relationships:N});await c.mutateAsync({id:t,data:{acf:P}}),r(`/people/${t}`)}catch(N){console.error("Failed to save relationship:",N)}};return u?l.jsx("div",{className:"flex items-center justify-center h-64",children:l.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"})}):o?l.jsxs("div",{className:"max-w-2xl mx-auto space-y-6",children:[l.jsx("div",{className:"flex items-center justify-between",children:l.jsxs(oe,{to:`/people/${t}`,className:"flex items-center text-gray-600 hover:text-gray-900",children:[l.jsx(mn,{className:"w-4 h-4 md:mr-2"}),l.jsx("span",{className:"hidden md:inline",children:"Back to person"})]})}),l.jsxs("div",{className:"card p-6",children:[l.jsx("h1",{className:"text-xl font-bold mb-6",children:a?"Edit relationship":"Add relationship"}),l.jsxs("form",{onSubmit:y(_),className:"space-y-6",children:[l.jsxs("div",{children:[l.jsx("label",{className:"label",children:"Related person *"}),l.jsx(Op,{name:"related_person",control:g,rules:{required:"Please select a person"},render:({field:S})=>l.jsx(yae,{value:S.value,onChange:S.onChange,people:d,isLoading:h,excludePersonId:parseInt(t,10)})}),w.related_person&&l.jsx("p",{className:"text-sm text-red-600 mt-1",children:w.related_person.message}),!a&&l.jsx("div",{className:"mt-2",children:l.jsxs(oe,{to:`/people/new?returnTo=relationship&sourcePersonId=${t}`,className:"inline-flex items-center gap-1 text-sm text-primary-600 hover:text-primary-700",children:[l.jsx(Bt,{className:"w-4 h-4"}),"Add new person"]})})]}),l.jsxs("div",{children:[l.jsx("label",{className:"label",children:"Relationship type"}),l.jsxs("select",{...v("relationship_type",{setValueAs:S=>S?parseInt(S,10):null}),className:"input",disabled:p,children:[l.jsx("option",{value:"",children:"Select a type..."}),f.map(S=>l.jsx("option",{value:S.id,children:S.name},S.id))]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"label",children:"Custom label"}),l.jsx("input",{...v("relationship_label"),className:"input",placeholder:"e.g., Brother-in-law"}),l.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Optional: Override the relationship type with a custom label"})]}),l.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t",children:[l.jsx(oe,{to:`/people/${t}`,className:"btn-secondary",children:"Cancel"}),l.jsxs("button",{type:"submit",className:"btn-primary",disabled:b,children:[b?l.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}):l.jsx(_s,{className:"w-4 h-4 mr-2"}),a?"Save changes":"Add relationship"]})]})]})]})]}):l.jsxs("div",{className:"card p-6 text-center",children:[l.jsx("p",{className:"text-red-600",children:"Failed to load person."}),l.jsx(oe,{to:"/people",className:"btn-secondary mt-4",children:"Back to people"})]})}function NR(){var v,y;const{personId:t,index:e}=Fi(),r=qr(),n=parseInt(e,10),i=!isNaN(n),{data:s,isLoading:a}=Ko(t),o=Lu(),{register:u,handleSubmit:c,reset:d,formState:{errors:h,isSubmitting:f}}=Go({defaultValues:{address_label:"",street:"",postal_code:"",city:"",state:"",country:""}});T.useEffect(()=>{var x;if(s&&i){const m=(((x=s.acf)==null?void 0:x.addresses)||[])[n];m&&d({address_label:m.address_label||"",street:m.street||"",postal_code:m.postal_code||"",city:m.city||"",state:m.state||"",country:m.country||""})}},[s,n,i,d]),Xr(i?`Edit address - ${((v=s==null?void 0:s.title)==null?void 0:v.rendered)||(s==null?void 0:s.title)||"person"}`:`Add address - ${((y=s==null?void 0:s.title)==null?void 0:y.rendered)||(s==null?void 0:s.title)||"person"}`);const p=async x=>{var g;try{const m=[...((g=s.acf)==null?void 0:g.addresses)||[]],w={address_label:x.address_label||"",street:x.street||"",postal_code:x.postal_code||"",city:x.city||"",state:x.state||"",country:x.country||""};i?m[n]=w:m.push(w);const b=ts(s.acf,{addresses:m});await o.mutateAsync({id:t,data:{acf:b}}),r(`/people/${t}`)}catch(m){console.error("Failed to save address:",m)}};return a?l.jsx("div",{className:"flex items-center justify-center h-64",children:l.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"})}):s?l.jsxs("div",{className:"max-w-2xl mx-auto space-y-6",children:[l.jsx("div",{className:"flex items-center justify-between",children:l.jsxs(oe,{to:`/people/${t}`,className:"flex items-center text-gray-600 hover:text-gray-900",children:[l.jsx(mn,{className:"w-4 h-4 md:mr-2"}),l.jsx("span",{className:"hidden md:inline",children:"Back to person"})]})}),l.jsxs("div",{className:"card p-6",children:[l.jsx("h1",{className:"text-xl font-bold mb-6",children:i?"Edit address":"Add address"}),l.jsxs("form",{onSubmit:c(p),className:"space-y-6",children:[l.jsxs("div",{children:[l.jsx("label",{className:"label",children:"Label"}),l.jsx("input",{...u("address_label"),className:"input",placeholder:"e.g., Home, Work"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"label",children:"Street"}),l.jsx("input",{...u("street"),className:"input",placeholder:"e.g., 123 Main Street"})]}),l.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"label",children:"Postal code"}),l.jsx("input",{...u("postal_code"),className:"input",placeholder:"e.g., 12345"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"label",children:"City"}),l.jsx("input",{...u("city"),className:"input",placeholder:"e.g., Amsterdam"})]})]}),l.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"label",children:"State/Province"}),l.jsx("input",{...u("state"),className:"input",placeholder:"e.g., North Holland"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"label",children:"Country"}),l.jsx("input",{...u("country"),className:"input",placeholder:"e.g., Netherlands"})]})]}),l.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t",children:[l.jsx(oe,{to:`/people/${t}`,className:"btn-secondary",children:"Cancel"}),l.jsxs("button",{type:"submit",className:"btn-primary",disabled:f,children:[f?l.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}):l.jsx(_s,{className:"w-4 h-4 mr-2"}),i?"Save changes":"Add address"]})]})]})]})]}):l.jsxs("div",{className:"card p-6 text-center",children:[l.jsx("p",{className:"text-red-600",children:"Failed to load person."}),l.jsx(oe,{to:"/people",className:"btn-secondary mt-4",children:"Back to people"})]})}function bae({company:t}){var e,r,n,i,s;return l.jsx(oe,{to:`/companies/${t.id}`,className:"card p-4 hover:shadow-md transition-shadow",children:l.jsxs("div",{className:"flex items-start",children:[(n=(r=(e=t._embedded)==null?void 0:e["wp:featuredmedia"])==null?void 0:r[0])!=null&&n.source_url?l.jsx("img",{src:t._embedded["wp:featuredmedia"][0].source_url,alt:Ft(t),className:"w-12 h-12 rounded-lg object-contain bg-white"}):l.jsx("div",{className:"w-12 h-12 bg-white rounded-lg flex items-center justify-center border border-gray-200",children:l.jsx(ur,{className:"w-6 h-6 text-gray-400"})}),l.jsxs("div",{className:"ml-3 flex-1 min-w-0",children:[l.jsx("h3",{className:"text-sm font-medium text-gray-900 truncate",children:Ft(t)}),((i=t.acf)==null?void 0:i.industry)&&l.jsx("p",{className:"text-sm text-gray-500",children:t.acf.industry}),((s=t.acf)==null?void 0:s.website)&&l.jsx("p",{className:"text-xs text-primary-600 truncate",children:t.acf.website})]})]})})}function xae(){const[t,e]=T.useState(""),{data:r,isLoading:n,error:i}=et({queryKey:["companies",t],queryFn:async()=>(await Fe.getCompanies({search:t,per_page:100,_embed:!0})).data}),s=T.useMemo(()=>r?[...r].sort((a,o)=>{var d,h;const u=(((d=a.title)==null?void 0:d.rendered)||a.title||"").toLowerCase(),c=(((h=o.title)==null?void 0:h.rendered)||o.title||"").toLowerCase();return u.localeCompare(c)}):[],[r]);return l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[l.jsxs("div",{className:"relative flex-1 max-w-md",children:[l.jsx(Ro,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}),l.jsx("input",{type:"search",placeholder:"Search organizations...",value:t,onChange:a=>e(a.target.value),className:"input pl-9"})]}),l.jsxs(oe,{to:"/companies/new",className:"btn-primary",children:[l.jsx(Bt,{className:"w-4 h-4 md:mr-2"}),l.jsx("span",{className:"hidden md:inline",children:"Add organization"})]})]}),n&&l.jsx("div",{className:"flex items-center justify-center h-64",children:l.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"})}),i&&l.jsx("div",{className:"card p-6 text-center",children:l.jsx("p",{className:"text-red-600",children:"Failed to load organizations."})}),!n&&!i&&(s==null?void 0:s.length)===0&&l.jsxs("div",{className:"card p-12 text-center",children:[l.jsx("div",{className:"w-12 h-12 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4",children:l.jsx(ur,{className:"w-6 h-6 text-gray-400"})}),l.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-1",children:"No organizations found"}),l.jsx("p",{className:"text-gray-500 mb-4",children:t?"Try a different search.":"Add your first organization."}),!t&&l.jsxs(oe,{to:"/companies/new",className:"btn-primary",children:[l.jsx(Bt,{className:"w-4 h-4 md:mr-2"}),l.jsx("span",{className:"hidden md:inline",children:"Add organization"})]})]}),!n&&!i&&(s==null?void 0:s.length)>0&&l.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:s.map(a=>l.jsx(bae,{company:a},a.id))})]})}function wae(){var w,b,_,E,j,S,C;const{id:t}=Fi(),e=qr(),r=ot(),n=T.useRef(null),[i,s]=T.useState(!1),{data:a,isLoading:o,error:u}=et({queryKey:["company",t],queryFn:async()=>(await Fe.getCompany(t,{_embed:!0})).data}),{data:c}=et({queryKey:["company-people",t],queryFn:async()=>(await $e.getCompanyPeople(t)).data}),{data:d}=et({queryKey:["company",a==null?void 0:a.parent],queryFn:async()=>(await Fe.getCompany(a.parent,{_embed:!0})).data,enabled:!!(a!=null&&a.parent)}),{data:h=[]}=et({queryKey:["company-children",t],queryFn:async()=>(await Fe.getCompanies({parent:t,per_page:100,_embed:!0})).data}),f=((w=a==null?void 0:a.acf)==null?void 0:w.investors)||[],{data:p=[]}=et({queryKey:["company-investors",t,f],queryFn:async()=>{if(!f.length)return[];const[N,O]=await Promise.all([Fe.getPeople({per_page:100,include:f.join(","),_embed:!0}),Fe.getCompanies({per_page:100,include:f.join(","),_embed:!0})]),P=(N.data||[]).map(F=>{var M,V,q,H;return{id:F.id,type:"person",name:un(((M=F.title)==null?void 0:M.rendered)||""),thumbnail:(H=(q=(V=F._embedded)==null?void 0:V["wp:featuredmedia"])==null?void 0:q[0])==null?void 0:H.source_url}}),I=(O.data||[]).map(F=>{var M,V,q;return{id:F.id,type:"company",name:Ft(F),thumbnail:(q=(V=(M=F._embedded)==null?void 0:M["wp:featuredmedia"])==null?void 0:V[0])==null?void 0:q.source_url}}),D=[...P,...I];return f.map(F=>D.find(M=>M.id===F)).filter(Boolean)},enabled:f.length>0}),{data:v=[]}=et({queryKey:["investments",t],queryFn:async()=>(await $e.getInvestments(t)).data,enabled:!!t}),y=rt({mutationFn:()=>Fe.deleteCompany(t,{force:!0}),onSuccess:()=>{r.invalidateQueries({queryKey:["companies"]}),e("/companies")}});Xr(Ft(a)||"Organization"),T.useEffect(()=>{(a==null?void 0:a.status)==="trash"&&e("/companies",{replace:!0})},[a,e]);const x=async()=>{if(window.confirm("Are you sure you want to delete this organization?"))try{await y.mutateAsync()}catch(N){console.error("Failed to delete company:",N),alert("Failed to delete organization. Please try again.")}},g=async N=>{var P;const O=(P=N.target.files)==null?void 0:P[0];if(O){if(!O.type.startsWith("image/")){alert("Please select an image file");return}if(O.size>5*1024*1024){alert("Image size must be less than 5MB");return}s(!0);try{await $e.uploadCompanyLogo(t,O),r.invalidateQueries({queryKey:["company",t]}),r.invalidateQueries({queryKey:["companies"]})}catch(I){console.error("Failed to upload logo:",I),alert("Failed to upload logo. Please try again.")}finally{s(!1),n.current&&(n.current.value="")}}};if(o)return l.jsx("div",{className:"flex items-center justify-center h-64",children:l.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"})});if(u||!a)return l.jsxs("div",{className:"card p-6 text-center",children:[l.jsx("p",{className:"text-red-600",children:"Failed to load organization."}),l.jsx(oe,{to:"/companies",className:"btn-secondary mt-4",children:"Back to organizations"})]});if(a.status==="trash")return null;const m=a.acf||{};return l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs(oe,{to:"/companies",className:"flex items-center text-gray-600 hover:text-gray-900",children:[l.jsx(mn,{className:"w-4 h-4 md:mr-2"}),l.jsx("span",{className:"hidden md:inline",children:"Back to organizations"})]}),l.jsxs("div",{className:"flex gap-2",children:[l.jsxs(oe,{to:`/companies/${t}/edit`,className:"btn-secondary",children:[l.jsx(OK,{className:"w-4 h-4 mr-2"}),"Edit"]}),l.jsxs("button",{onClick:x,className:"btn-danger",children:[l.jsx(Sn,{className:"w-4 h-4 mr-2"}),"Delete"]})]})]}),l.jsx("div",{className:"card p-6",children:l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsxs("div",{className:"relative group",children:[(E=(_=(b=a._embedded)==null?void 0:b["wp:featuredmedia"])==null?void 0:_[0])!=null&&E.source_url?l.jsx("img",{src:a._embedded["wp:featuredmedia"][0].source_url,alt:Ft(a),className:"w-24 h-24 rounded-lg object-contain bg-white"}):l.jsx("div",{className:"w-24 h-24 bg-white rounded-lg flex items-center justify-center border border-gray-200",children:l.jsx(ur,{className:"w-12 h-12 text-gray-400"})}),l.jsx("div",{className:"absolute inset-0 rounded-lg bg-black bg-opacity-0 group-hover:bg-opacity-50 transition-all duration-200 flex items-center justify-center cursor-pointer",onClick:()=>{var N;return(N=n.current)==null?void 0:N.click()},children:i?l.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-white"}):l.jsx(Yc,{className:"w-6 h-6 text-white opacity-0 group-hover:opacity-100 transition-opacity"})}),l.jsx("input",{ref:n,type:"file",accept:"image/*",onChange:g,className:"hidden",disabled:i})]}),l.jsxs("div",{children:[d&&l.jsxs(oe,{to:`/companies/${d.id}`,className:"text-sm text-primary-600 hover:underline flex items-center mb-1",children:[l.jsx(ZI,{className:"w-3 h-3 mr-1"}),"Subsidiary of ",Ft(d)]}),l.jsx("h1",{className:"text-2xl font-bold",children:Ft(a)}),m.industry&&l.jsx("p",{className:"text-gray-500",children:m.industry}),m.website&&l.jsxs("a",{href:m.website,target:"_blank",rel:"noopener noreferrer",className:"text-primary-600 hover:underline flex items-center mt-1",children:[l.jsx(zf,{className:"w-4 h-4 mr-1"}),m.website]})]})]})}),h.length>0&&l.jsxs("div",{className:"card p-6",children:[l.jsxs("h2",{className:"font-semibold mb-4 flex items-center",children:[l.jsx(ZI,{className:"w-5 h-5 mr-2"}),"Subsidiaries"]}),l.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3",children:h.map(N=>{var O,P,I,D;return l.jsxs(oe,{to:`/companies/${N.id}`,className:"flex items-center p-3 rounded-lg hover:bg-gray-50 border border-gray-200",children:[(I=(P=(O=N._embedded)==null?void 0:O["wp:featuredmedia"])==null?void 0:P[0])!=null&&I.source_url?l.jsx("img",{src:N._embedded["wp:featuredmedia"][0].source_url,alt:Ft(N),className:"w-10 h-10 rounded object-contain bg-white"}):l.jsx("div",{className:"w-10 h-10 bg-gray-100 rounded flex items-center justify-center",children:l.jsx(ur,{className:"w-5 h-5 text-gray-400"})}),l.jsxs("div",{className:"ml-3",children:[l.jsx("p",{className:"text-sm font-medium",children:Ft(N)}),((D=N.acf)==null?void 0:D.industry)&&l.jsx("p",{className:"text-xs text-gray-500",children:N.acf.industry})]})]},N.id)})})]}),l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[l.jsxs("div",{className:"card p-6",children:[l.jsxs("h2",{className:"font-semibold mb-4 flex items-center",children:[l.jsx(Mi,{className:"w-5 h-5 mr-2"}),"Current employees"]}),((j=c==null?void 0:c.current)==null?void 0:j.length)>0?l.jsx("div",{className:"space-y-2",children:c.current.map(N=>{var O;return l.jsxs(oe,{to:`/people/${N.id}`,className:"flex items-center p-2 rounded hover:bg-gray-50",children:[N.thumbnail?l.jsx("img",{src:N.thumbnail,alt:"",loading:"lazy",className:"w-8 h-8 rounded-full"}):l.jsx("div",{className:"w-8 h-8 bg-gray-200 rounded-full flex items-center justify-center",children:l.jsx("span",{className:"text-xs text-gray-500",children:((O=N.name)==null?void 0:O[0])||"?"})}),l.jsxs("div",{className:"ml-2",children:[l.jsx("p",{className:"text-sm font-medium",children:N.name}),N.job_title&&l.jsx("p",{className:"text-xs text-gray-500",children:N.job_title})]})]},N.id)})}):l.jsx("p",{className:"text-sm text-gray-500",children:"No current employees."})]}),l.jsxs("div",{className:"card p-6",children:[l.jsxs("h2",{className:"font-semibold mb-4 flex items-center",children:[l.jsx(Mi,{className:"w-5 h-5 mr-2"}),"Former employees"]}),((S=c==null?void 0:c.former)==null?void 0:S.length)>0?l.jsx("div",{className:"space-y-2",children:c.former.map(N=>{var O;return l.jsxs(oe,{to:`/people/${N.id}`,className:"flex items-center p-2 rounded hover:bg-gray-50",children:[N.thumbnail?l.jsx("img",{src:N.thumbnail,alt:"",loading:"lazy",className:"w-8 h-8 rounded-full opacity-75"}):l.jsx("div",{className:"w-8 h-8 bg-gray-200 rounded-full flex items-center justify-center opacity-75",children:l.jsx("span",{className:"text-xs text-gray-500",children:((O=N.name)==null?void 0:O[0])||"?"})}),l.jsxs("div",{className:"ml-2",children:[l.jsx("p",{className:"text-sm font-medium text-gray-700",children:N.name}),N.job_title&&l.jsx("p",{className:"text-xs text-gray-500",children:N.job_title})]})]},N.id)})}):l.jsx("p",{className:"text-sm text-gray-500",children:"No former employees."})]})]}),p.length>0&&l.jsxs("div",{className:"card p-6",children:[l.jsxs("h2",{className:"font-semibold mb-4 flex items-center",children:[l.jsx(Sp,{className:"w-5 h-5 mr-2"}),"Investors"]}),l.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3",children:p.map(N=>{const O=N.type==="person",P=O?`/people/${N.id}`:`/companies/${N.id}`;return l.jsxs(oe,{to:P,className:"flex items-center p-3 rounded-lg hover:bg-gray-50 border border-gray-200",children:[N.thumbnail?l.jsx("img",{src:N.thumbnail,alt:N.name,loading:"lazy",className:`w-10 h-10 object-cover ${O?"rounded-full":"rounded"}`}):l.jsx("div",{className:`w-10 h-10 bg-gray-100 flex items-center justify-center ${O?"rounded-full":"rounded"}`,children:O?l.jsx(Na,{className:"w-5 h-5 text-gray-400"}):l.jsx(ur,{className:"w-5 h-5 text-gray-400"})}),l.jsxs("div",{className:"ml-3",children:[l.jsx("p",{className:"text-sm font-medium",children:N.name}),l.jsx("p",{className:"text-xs text-gray-500",children:O?"Person":"Organization"})]})]},`${N.type}-${N.id}`)})})]}),v.length>0&&l.jsxs("div",{className:"card p-6",children:[l.jsxs("h2",{className:"font-semibold mb-4 flex items-center",children:[l.jsx(Sp,{className:"w-5 h-5 mr-2"}),"Invested in"]}),l.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3",children:v.map(N=>l.jsxs(oe,{to:`/companies/${N.id}`,className:"flex items-center p-3 rounded-lg hover:bg-gray-50 border border-gray-200",children:[N.thumbnail?l.jsx("img",{src:N.thumbnail,alt:N.name,loading:"lazy",className:"w-10 h-10 object-contain rounded"}):l.jsx("div",{className:"w-10 h-10 bg-gray-100 flex items-center justify-center rounded",children:l.jsx(ur,{className:"w-5 h-5 text-gray-400"})}),l.jsxs("div",{className:"ml-3",children:[l.jsx("p",{className:"text-sm font-medium",children:N.name}),N.industry&&l.jsx("p",{className:"text-xs text-gray-500",children:N.industry})]})]},N.id))})]}),((C=m.contact_info)==null?void 0:C.length)>0&&l.jsxs("div",{className:"card p-6",children:[l.jsx("h2",{className:"font-semibold mb-4",children:"Contact information"}),l.jsx("div",{className:"space-y-3",children:m.contact_info.map((N,O)=>l.jsxs("div",{children:[l.jsxs("span",{className:"text-sm text-gray-500",children:[N.contact_label||N.contact_type,":"]}),l.jsx("span",{className:"ml-2",children:N.contact_value})]},O))})]})]})}function jR(){var de,xe,Ie,me,Ce,ke,Ze,Tt,nt;const{id:t}=Fi(),e=qr(),r=ot(),n=!!t,{data:i,isLoading:s}=et({queryKey:["company",t],queryFn:async()=>(await Fe.getCompany(t,{_embed:!0})).data,enabled:n}),{data:a=[],isLoading:o}=et({queryKey:["companies","all"],queryFn:async()=>(await Fe.getCompanies({per_page:100,_embed:!0})).data}),{data:u=[],isLoading:c}=et({queryKey:["people","all"],queryFn:async()=>(await Fe.getPeople({per_page:100,_embed:!0})).data}),[d,h]=T.useState(!1),[f,p]=T.useState(!1),[v,y]=T.useState(""),[x,g]=T.useState(""),[m,w]=T.useState(!1),[b,_]=T.useState(""),[E,j]=T.useState([]),S=T.useRef(null),C=T.useRef(null),N=T.useRef(null),O=T.useMemo(()=>{const X=v.toLowerCase().trim();let Se=a.filter(Me=>!(n&&Me.id===parseInt(t)||n&&Me.parent===parseInt(t)));return X&&(Se=Se.filter(Me=>{var Ue;return(Ue=Ft(Me))==null?void 0:Ue.toLowerCase().includes(X)})),[...Se].sort((Me,Ue)=>(Ft(Me)||"").localeCompare(Ft(Ue)||""))},[a,v,t,n]),P=T.useMemo(()=>a.find(X=>X.id===parseInt(x)),[a,x]),I=T.useMemo(()=>{const X=b.toLowerCase().trim(),Se=u.map(Ne=>{var Le,_t,Pt,$;return{id:Ne.id,type:"person",name:un(((Le=Ne.title)==null?void 0:Le.rendered)||""),thumbnail:($=(Pt=(_t=Ne._embedded)==null?void 0:_t["wp:featuredmedia"])==null?void 0:Pt[0])==null?void 0:$.source_url}}),Me=a.filter(Ne=>!n||Ne.id!==parseInt(t)).map(Ne=>{var Le,_t,Pt;return{id:Ne.id,type:"company",name:Ft(Ne),thumbnail:(Pt=(_t=(Le=Ne._embedded)==null?void 0:Le["wp:featuredmedia"])==null?void 0:_t[0])==null?void 0:Pt.source_url}});let Ue=[...Se,...Me];X&&(Ue=Ue.filter(Ne=>{var Le;return(Le=Ne.name)==null?void 0:Le.toLowerCase().includes(X)}));const Nt=E.map(Ne=>`${Ne.type}-${Ne.id}`);return Ue=Ue.filter(Ne=>!Nt.includes(`${Ne.type}-${Ne.id}`)),Ue.sort((Ne,Le)=>(Ne.name||"").localeCompare(Le.name||""))},[u,a,b,E,t,n]);T.useEffect(()=>{const X=Se=>{C.current&&!C.current.contains(Se.target)&&p(!1)};if(f)return document.addEventListener("mousedown",X),()=>document.removeEventListener("mousedown",X)},[f]),T.useEffect(()=>{const X=Se=>{N.current&&!N.current.contains(Se.target)&&w(!1)};if(m)return document.addEventListener("mousedown",X),()=>document.removeEventListener("mousedown",X)},[m]);const D=rt({mutationFn:X=>Fe.createCompany(X),onSuccess:X=>{r.invalidateQueries({queryKey:["companies"]}),e(`/companies/${X.data.id}`)}}),F=rt({mutationFn:X=>Fe.updateCompany(t,X),onSuccess:()=>{r.invalidateQueries({queryKey:["company",t]}),r.invalidateQueries({queryKey:["companies"]}),r.invalidateQueries({queryKey:["people"]}),e(`/companies/${t}`)}}),M=async X=>{var Me;const Se=(Me=X.target.files)==null?void 0:Me[0];if(Se){if(!Se.type.startsWith("image/")){alert("Please select an image file");return}if(Se.size>5*1024*1024){alert("Image size must be less than 5MB");return}h(!0);try{await $e.uploadCompanyLogo(t,Se),r.invalidateQueries({queryKey:["company",t]}),r.invalidateQueries({queryKey:["companies"]}),r.invalidateQueries({queryKey:["people"]}),r.refetchQueries({queryKey:["company",t]}),r.refetchQueries({queryKey:["companies"]}),r.refetchQueries({queryKey:["people"]})}catch(Ue){console.error("Failed to upload logo:",Ue),alert("Failed to upload logo. Please try again.")}finally{h(!1),S.current&&(S.current.value="")}}},{register:V,handleSubmit:q,reset:H,formState:{errors:B,isSubmitting:W}}=Go();T.useEffect(()=>{var X,Se,Me;i&&(H({title:un(((X=i.title)==null?void 0:X.rendered)||""),website:((Se=i.acf)==null?void 0:Se.website)||"",industry:((Me=i.acf)==null?void 0:Me.industry)||""}),i.parent&&g(String(i.parent)))},[i,H]),T.useEffect(()=>{var X,Se;if(((Se=(X=i==null?void 0:i.acf)==null?void 0:X.investors)==null?void 0:Se.length)>0&&u.length>0&&a.length>0){const Ue=i.acf.investors.map(Nt=>{var _t,Pt,$,A,z,se,Z;const Ne=u.find(J=>J.id===Nt);if(Ne)return{id:Ne.id,type:"person",name:un(((_t=Ne.title)==null?void 0:_t.rendered)||""),thumbnail:(A=($=(Pt=Ne._embedded)==null?void 0:Pt["wp:featuredmedia"])==null?void 0:$[0])==null?void 0:A.source_url};const Le=a.find(J=>J.id===Nt);return Le?{id:Le.id,type:"company",name:Ft(Le),thumbnail:(Z=(se=(z=Le._embedded)==null?void 0:z["wp:featuredmedia"])==null?void 0:se[0])==null?void 0:Z.source_url}:null}).filter(Boolean);j(Ue)}},[i,u,a]),Xr(n&&i?`Edit ${Ft(i)||"organization"}`:"New organization");const G=async X=>{const Se=E.map(Ue=>Ue.id),Me={title:X.title,status:"publish",parent:x?parseInt(x):0,acf:{website:X.website,industry:X.industry,investors:Se}};n?F.mutate(Me):D.mutate(Me)};return n&&s?l.jsx("div",{className:"flex items-center justify-center h-64",children:l.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"})}):l.jsxs("div",{className:"max-w-2xl mx-auto space-y-6",children:[l.jsx("div",{className:"flex items-center justify-between",children:l.jsxs(oe,{to:"/companies",className:"flex items-center text-gray-600 hover:text-gray-900",children:[l.jsx(mn,{className:"w-4 h-4 md:mr-2"}),l.jsx("span",{className:"hidden md:inline",children:"Back to organizations"})]})}),l.jsxs("div",{className:"card p-6",children:[l.jsx("h1",{className:"text-xl font-bold mb-6",children:n?"Edit organization":"Add new organization"}),l.jsxs("form",{onSubmit:q(G),className:"space-y-6",children:[n&&l.jsxs("div",{children:[l.jsx("label",{className:"label",children:"Logo"}),l.jsxs("div",{className:"flex items-center gap-4",children:[(Ie=(xe=(de=i==null?void 0:i._embedded)==null?void 0:de["wp:featuredmedia"])==null?void 0:xe[0])!=null&&Ie.source_url?l.jsxs("div",{className:"relative group",children:[l.jsx("img",{src:i._embedded["wp:featuredmedia"][0].source_url,alt:Ft(i)||"Organization logo",className:"w-20 h-20 rounded-lg object-contain bg-white"}),l.jsx("div",{className:"absolute inset-0 rounded-lg bg-black bg-opacity-0 group-hover:bg-opacity-50 transition-all duration-200 flex items-center justify-center cursor-pointer",onClick:()=>{var X;return(X=S.current)==null?void 0:X.click()},children:d?l.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-white"}):l.jsx(Yc,{className:"w-6 h-6 text-white opacity-0 group-hover:opacity-100 transition-opacity"})})]}):l.jsxs("div",{className:"relative group",children:[l.jsx("div",{className:"w-20 h-20 bg-gray-200 rounded-lg flex items-center justify-center",children:l.jsx(Yc,{className:"w-8 h-8 text-gray-400"})}),l.jsx("div",{className:"absolute inset-0 rounded-lg bg-black bg-opacity-0 group-hover:bg-opacity-50 transition-all duration-200 flex items-center justify-center cursor-pointer",onClick:()=>{var X;return(X=S.current)==null?void 0:X.click()},children:d?l.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-white"}):l.jsx(Yc,{className:"w-6 h-6 text-white opacity-0 group-hover:opacity-100 transition-opacity"})})]}),l.jsxs("div",{children:[l.jsx("button",{type:"button",onClick:()=>{var X;return(X=S.current)==null?void 0:X.click()},className:"btn-secondary text-sm",disabled:d,children:(ke=(Ce=(me=i==null?void 0:i._embedded)==null?void 0:me["wp:featuredmedia"])==null?void 0:Ce[0])!=null&&ke.source_url?"Change logo":"Upload logo"}),l.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Click the logo or button to upload a new logo"})]}),l.jsx("input",{ref:S,type:"file",accept:"image/*",onChange:M,className:"hidden",disabled:d})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"label",children:"Organization name *"}),l.jsx("input",{...V("title",{required:"Organization name is required"}),className:"input",placeholder:"Acme Inc."}),B.title&&l.jsx("p",{className:"text-sm text-red-600 mt-1",children:B.title.message})]}),l.jsxs("div",{children:[l.jsx("label",{className:"label",children:"Website"}),l.jsx("input",{...V("website"),type:"url",className:"input",placeholder:"https://example.com"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"label",children:"Industry"}),l.jsx("input",{...V("industry"),className:"input",placeholder:"Technology"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"label",children:"Parent organization"}),l.jsxs("div",{className:"relative",ref:C,children:[l.jsxs("button",{type:"button",onClick:()=>p(!f),className:"w-full flex items-center justify-between px-3 py-2 border border-gray-300 rounded-md bg-white text-left focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent",disabled:o,children:[P?l.jsxs("div",{className:"flex items-center gap-2",children:[(nt=(Tt=(Ze=P._embedded)==null?void 0:Ze["wp:featuredmedia"])==null?void 0:Tt[0])!=null&&nt.source_url?l.jsx("img",{src:P._embedded["wp:featuredmedia"][0].source_url,alt:Ft(P),className:"w-6 h-6 rounded object-contain bg-white"}):l.jsx("div",{className:"w-6 h-6 bg-gray-200 rounded flex items-center justify-center",children:l.jsx(ur,{className:"w-4 h-4 text-gray-500"})}),l.jsx("span",{className:"text-gray-900",children:Ft(P)})]}):l.jsx("span",{className:"text-gray-400",children:"No parent organization"}),l.jsx(_p,{className:`w-4 h-4 text-gray-400 transition-transform ${f?"rotate-180":""}`})]}),f&&l.jsxs("div",{className:"absolute z-10 w-full mt-1 bg-white border border-gray-200 rounded-lg shadow-lg max-h-60 overflow-hidden",children:[l.jsx("div",{className:"p-2 border-b border-gray-100",children:l.jsxs("div",{className:"relative",children:[l.jsx(Ro,{className:"absolute left-2 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}),l.jsx("input",{type:"text",value:v,onChange:X=>y(X.target.value),placeholder:"Search organizations...",className:"w-full pl-8 pr-3 py-1.5 text-sm border border-gray-200 rounded focus:outline-none focus:ring-1 focus:ring-primary-500",autoFocus:!0})]})}),l.jsxs("div",{className:"overflow-y-auto max-h-48",children:[l.jsx("button",{type:"button",onClick:()=>{g(""),p(!1),y("")},className:`w-full flex items-center gap-2 px-3 py-2 text-left hover:bg-gray-50 transition-colors ${x?"":"bg-primary-50"}`,children:l.jsx("span",{className:"text-sm text-gray-500 italic",children:"No parent organization"})}),o?l.jsx("div",{className:"p-3 text-center text-gray-500 text-sm",children:"Loading..."}):O.length>0?O.map(X=>{var Se,Me,Ue;return l.jsxs("button",{type:"button",onClick:()=>{g(String(X.id)),p(!1),y("")},className:`w-full flex items-center gap-2 px-3 py-2 text-left hover:bg-gray-50 transition-colors ${x===String(X.id)?"bg-primary-50":""}`,children:[(Ue=(Me=(Se=X._embedded)==null?void 0:Se["wp:featuredmedia"])==null?void 0:Me[0])!=null&&Ue.source_url?l.jsx("img",{src:X._embedded["wp:featuredmedia"][0].source_url,alt:Ft(X),className:"w-6 h-6 rounded object-contain bg-white"}):l.jsx("div",{className:"w-6 h-6 bg-gray-200 rounded flex items-center justify-center",children:l.jsx(ur,{className:"w-4 h-4 text-gray-500"})}),l.jsx("span",{className:"text-sm text-gray-900 truncate",children:Ft(X)})]},X.id)}):l.jsx("div",{className:"p-3 text-center text-gray-500 text-sm",children:"No organizations found"})]})]})]}),l.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Select if this organization is a subsidiary or division of another"})]}),l.jsxs("div",{children:[l.jsxs("label",{className:"label flex items-center",children:[l.jsx(Sp,{className:"w-4 h-4 mr-2"}),"Investors"]}),E.length>0&&l.jsx("div",{className:"flex flex-wrap gap-2 mb-2",children:E.map(X=>l.jsxs("div",{className:"flex items-center gap-1.5 bg-gray-100 rounded-full pl-1 pr-2 py-1",children:[X.thumbnail?l.jsx("img",{src:X.thumbnail,alt:X.name,className:`w-5 h-5 object-cover ${X.type==="person"?"rounded-full":"rounded"}`}):l.jsx("div",{className:`w-5 h-5 bg-gray-300 flex items-center justify-center ${X.type==="person"?"rounded-full":"rounded"}`,children:X.type==="person"?l.jsx(Na,{className:"w-3 h-3 text-gray-500"}):l.jsx(ur,{className:"w-3 h-3 text-gray-500"})}),l.jsx("span",{className:"text-sm text-gray-700",children:X.name}),l.jsx("button",{type:"button",onClick:()=>j(Se=>Se.filter(Me=>!(Me.id===X.id&&Me.type===X.type))),className:"ml-1 text-gray-400 hover:text-gray-600",children:l.jsx(Mr,{className:"w-3.5 h-3.5"})})]},`${X.type}-${X.id}`))}),l.jsxs("div",{className:"relative",ref:N,children:[l.jsxs("button",{type:"button",onClick:()=>w(!m),className:"w-full flex items-center justify-between px-3 py-2 border border-gray-300 rounded-md bg-white text-left focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent",disabled:o||c,children:[l.jsx("span",{className:"text-gray-400",children:"Add investor..."}),l.jsx(_p,{className:`w-4 h-4 text-gray-400 transition-transform ${m?"rotate-180":""}`})]}),m&&l.jsxs("div",{className:"absolute z-10 w-full mt-1 bg-white border border-gray-200 rounded-lg shadow-lg max-h-60 overflow-hidden",children:[l.jsx("div",{className:"p-2 border-b border-gray-100",children:l.jsxs("div",{className:"relative",children:[l.jsx(Ro,{className:"absolute left-2 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}),l.jsx("input",{type:"text",value:b,onChange:X=>_(X.target.value),placeholder:"Search people and organizations...",className:"w-full pl-8 pr-3 py-1.5 text-sm border border-gray-200 rounded focus:outline-none focus:ring-1 focus:ring-primary-500",autoFocus:!0})]})}),l.jsx("div",{className:"overflow-y-auto max-h-48",children:o||c?l.jsx("div",{className:"p-3 text-center text-gray-500 text-sm",children:"Loading..."}):I.length>0?I.map(X=>l.jsxs("button",{type:"button",onClick:()=>{j(Se=>[...Se,X]),_("")},className:"w-full flex items-center gap-2 px-3 py-2 text-left hover:bg-gray-50 transition-colors",children:[X.thumbnail?l.jsx("img",{src:X.thumbnail,alt:X.name,className:`w-6 h-6 object-cover ${X.type==="person"?"rounded-full":"rounded"}`}):l.jsx("div",{className:`w-6 h-6 bg-gray-200 flex items-center justify-center ${X.type==="person"?"rounded-full":"rounded"}`,children:X.type==="person"?l.jsx(Na,{className:"w-4 h-4 text-gray-500"}):l.jsx(ur,{className:"w-4 h-4 text-gray-500"})}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx("span",{className:"text-sm text-gray-900 truncate block",children:X.name}),l.jsx("span",{className:"text-xs text-gray-500",children:X.type==="person"?"Person":"Organization"})]})]},`${X.type}-${X.id}`)):l.jsx("div",{className:"p-3 text-center text-gray-500 text-sm",children:b?"No results found":"No people or organizations available"})})]})]}),l.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Select people or organizations that have invested in this company"})]}),l.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t",children:[l.jsx(oe,{to:"/companies",className:"btn-secondary",children:"Cancel"}),l.jsxs("button",{type:"submit",className:"btn-primary",disabled:W,children:[l.jsx(_s,{className:"w-4 h-4 mr-2"}),n?"Save changes":"Create organization"]})]})]})]})]})}function _ae({person:t,dateType:e}){var r;return l.jsx("div",{className:"flex items-center gap-3 py-2",children:l.jsxs(oe,{to:`/people/${t.id}`,className:"flex items-center gap-3 flex-1 min-w-0 hover:opacity-80",children:[t.thumbnail?l.jsx("img",{src:t.thumbnail,alt:t.name,loading:"lazy",className:"w-10 h-10 rounded-full object-cover flex-shrink-0"}):l.jsx("div",{className:"w-10 h-10 rounded-full bg-gray-200 flex items-center justify-center flex-shrink-0",children:l.jsx("span",{className:"text-sm font-medium text-gray-500",children:(r=t.name)==null?void 0:r[0]})}),l.jsx("span",{className:"font-medium truncate",children:t.name}),l.jsx("span",{className:"text-sm text-gray-500 capitalize flex-shrink-0",children:e})]})})}function Sae({dates:t}){const e=t[0],n=e.days_until===0?"bg-green-100 text-green-700":"bg-gray-100 text-gray-600",i=[];return t.forEach(s=>{var o,u;const a=((o=s.date_type)==null?void 0:o[0])||"Date";((u=s.related_people)==null?void 0:u.length)>0?s.related_people.forEach(c=>{i.push({person:c,dateType:a})}):i.push({person:{id:null,name:s.title,thumbnail:null},dateType:a})}),l.jsx("div",{className:"card p-4 break-inside-avoid mb-4",children:l.jsxs("div",{className:"flex items-start gap-4",children:[l.jsx("div",{className:`w-14 h-14 rounded-lg ${n} flex items-center justify-center flex-shrink-0`,children:l.jsx("span",{className:"text-2xl font-bold leading-none",children:an(new Date(e.next_occurrence),"d")})}),l.jsx("div",{className:"flex-1 min-w-0 divide-y divide-gray-100",children:i.map(({person:s,dateType:a},o)=>l.jsx(_ae,{person:s,dateType:a},s.id?`${s.id}-${a}`:`${o}-${a}`))})]})})}function Eae(){const{data:t,isLoading:e,error:r}=xne(365),n=(t==null?void 0:t.reduce((s,a)=>{const o=an(new Date(a.next_occurrence),"yyyy-MM-dd");return s[o]||(s[o]=[]),s[o].push(a),s},{}))||{},i=Object.entries(n).reduce((s,[a,o])=>{const u=an(new Date(a),"MMMM yyyy");return s[u]||(s[u]=[]),s[u].push(o),s},{});return l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("p",{className:"text-gray-600",children:[(t==null?void 0:t.length)||0," upcoming dates"]}),l.jsxs(oe,{to:"/dates/new",className:"btn-primary",children:[l.jsx(Bt,{className:"w-4 h-4 md:mr-2"}),l.jsx("span",{className:"hidden md:inline",children:"Add date"})]})]}),e&&l.jsx("div",{className:"flex items-center justify-center h-64",children:l.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"})}),r&&l.jsx("div",{className:"card p-6 text-center",children:l.jsx("p",{className:"text-red-600",children:"Failed to load dates."})}),!e&&!r&&(t==null?void 0:t.length)===0&&l.jsxs("div",{className:"card p-12 text-center",children:[l.jsx(os,{className:"w-12 h-12 text-gray-300 mx-auto mb-4"}),l.jsx("h3",{className:"text-lg font-medium mb-1",children:"No important dates"}),l.jsx("p",{className:"text-gray-500 mb-4",children:"Add birthdays, anniversaries, and more."}),l.jsxs(oe,{to:"/dates/new",className:"btn-primary",children:[l.jsx(Bt,{className:"w-4 h-4 md:mr-2"}),l.jsx("span",{className:"hidden md:inline",children:"Add date"})]})]}),Object.entries(i).map(([s,a])=>l.jsxs("div",{children:[l.jsx("h2",{className:"text-2xl font-semibold text-gray-700 mb-4",children:s}),l.jsx("div",{className:"columns-1 md:columns-2 lg:columns-3 gap-4",children:a.map(o=>l.jsx(Sae,{dates:o},o[0].next_occurrence))})]},s))]})}function Nae({value:t=[],onChange:e,people:r=[],isLoading:n}){const[i,s]=T.useState(""),a=T.useMemo(()=>{if(!i)return r.slice(0,10);const d=i.toLowerCase();return r.filter(h=>vo(h).toLowerCase().includes(d)).slice(0,10)},[r,i]),o=T.useMemo(()=>t.map(d=>r.find(h=>h.id===d)).filter(Boolean),[t,r]),u=d=>{t.includes(d)||e([...t,d]),s("")},c=d=>{e(t.filter(h=>h!==d))};return l.jsxs("div",{className:"space-y-2",children:[o.length>0&&l.jsx("div",{className:"flex flex-wrap gap-2",children:o.map(d=>l.jsxs("span",{className:"inline-flex items-center gap-1 px-3 py-1 bg-primary-100 text-primary-800 rounded-full text-sm",children:[vo(d),l.jsx("button",{type:"button",onClick:()=>c(d.id),className:"hover:text-primary-600",children:l.jsx(Mr,{className:"w-3 h-3"})})]},d.id))}),l.jsxs("div",{className:"relative",children:[l.jsx("input",{type:"text",value:i,onChange:d=>s(d.target.value),placeholder:"Search for people...",className:"input",disabled:n}),i&&l.jsx("div",{className:"absolute z-10 w-full mt-1 bg-white border border-gray-200 rounded-lg shadow-lg max-h-48 overflow-y-auto",children:a.length>0?a.map(d=>l.jsx("button",{type:"button",onClick:()=>u(d.id),disabled:t.includes(d.id),className:`w-full text-left px-4 py-2 hover:bg-gray-50 ${t.includes(d.id)?"opacity-50 cursor-not-allowed":""}`,children:vo(d)},d.id)):l.jsx("p",{className:"px-4 py-2 text-gray-500 text-sm",children:"No people found"})})]})]})}function CR(){var H;const{id:t}=Fi(),[e]=iO(),r=qr(),n=ot(),i=!!t,s=e.get("person"),a=e.get("type"),{data:o,isLoading:u}=et({queryKey:["important-date",t],queryFn:async()=>(await Fe.getDate(t)).data,enabled:i}),c=T.useMemo(()=>{var W;if(!((W=o==null?void 0:o.acf)!=null&&W.related_people))return[];const B=o.acf.related_people;return Array.isArray(B)?B.map(G=>parseInt(typeof G=="object"&&G!==null?G.ID||G.id||G.post_id:G,10)).filter(G=>!isNaN(G)&&G>0):[]},[o]),{data:d=[],isLoading:h}=Ho({orderby:"title",order:"asc"}),{data:f=[]}=et({queryKey:["people","specific",c],queryFn:async()=>{const B=c.map(G=>Fe.getPerson(G,{_embed:!0}).then(de=>de.data).catch(()=>null));return(await Promise.all(B)).filter(Boolean)},enabled:c.length>0}),p=T.useMemo(()=>{const B=new Map;return d.forEach(W=>B.set(W.id,W)),f.forEach(W=>{var de,xe,Ie,me,Ce,ke,Ze,Tt,nt,X,Se,Me,Ue,Nt,Ne,Le;const G={...W,id:W.id,name:vo(W),first_name:((de=W.acf)==null?void 0:de.first_name)||"",last_name:((xe=W.acf)==null?void 0:xe.last_name)||"",is_favorite:((Ie=W.acf)==null?void 0:Ie.is_favorite)||!1,thumbnail:((ke=(Ce=(me=W._embedded)==null?void 0:me["wp:featuredmedia"])==null?void 0:Ce[0])==null?void 0:ke.source_url)||((Me=(Se=(X=(nt=(Tt=(Ze=W._embedded)==null?void 0:Ze["wp:featuredmedia"])==null?void 0:Tt[0])==null?void 0:nt.media_details)==null?void 0:X.sizes)==null?void 0:Se.thumbnail)==null?void 0:Me.source_url)||null,labels:((Le=(Ne=(Nt=(Ue=W._embedded)==null?void 0:Ue["wp:term"])==null?void 0:Nt.flat())==null?void 0:Ne.filter(_t=>(_t==null?void 0:_t.taxonomy)==="person_label"))==null?void 0:Le.map(_t=>_t.name))||[]};B.set(G.id,G)}),Array.from(B.values())},[d,f]),{data:v=[]}=et({queryKey:["date-types"],queryFn:async()=>((await Fe.getDateTypes()).data||[]).sort((G,de)=>{const xe=G.name||"",Ie=de.name||"";return xe.localeCompare(Ie)})}),y=rt({mutationFn:B=>Fe.createDate(B),onSuccess:()=>{n.invalidateQueries({queryKey:["reminders"]}),r(s?`/people/${s}`:"/dates")}}),x=rt({mutationFn:B=>Fe.updateDate(t,B),onSuccess:()=>{n.invalidateQueries({queryKey:["reminders"]}),n.invalidateQueries({queryKey:["important-date",t]}),n.invalidateQueries({queryKey:["people"]});const B=b("related_people");(B==null?void 0:B.length)>0?r(`/people/${B[0]}`):r("/dates")}}),{register:g,handleSubmit:m,reset:w,watch:b,setValue:_,control:E,formState:{errors:j,isSubmitting:S}}=Go({defaultValues:{title:"",date_value:"",date_type:"",related_people:[],is_recurring:!0}}),C=b("related_people"),N=b("date_type"),O=b("title");T.useEffect(()=>{var G;if((!O||["'s Birthday","Wedding of "].some(de=>O.endsWith(de)||O.startsWith(de)))&&(C==null?void 0:C.length)>0&&N){const de=v.find(Ce=>Ce.id===parseInt(N)),xe=(de==null?void 0:de.name)||"",Ie=((G=de==null?void 0:de.slug)==null?void 0:G.toLowerCase())||xe.toLowerCase(),me=C.map(Ce=>{var Ze,Tt,nt;const ke=p.find(X=>X.id===Ce);return ke?un(((Ze=ke.acf)==null?void 0:Ze.first_name)||((nt=(Tt=ke.title)==null?void 0:Tt.rendered)==null?void 0:nt.split(" ")[0])||""):null}).filter(Boolean);if(me.length>0&&xe){let Ce;Ie==="wedding"?me.length>=2?Ce=`Wedding of ${me[0]} & ${me[1]}`:Ce=`Wedding of ${me[0]}`:Ce=`${me[0]}'s ${xe}`,_("title",Ce)}}},[C,N,p,v,_,O]);const[P,I]=T.useState(!1);T.useEffect(()=>{var W,G,de,xe,Ie;if(P&&!i)return;const B=c.length===0||f.length>0;if(o&&p.length>0&&B){let me=[];const Ce=(W=o.acf)==null?void 0:W.related_people;Ce&&(Array.isArray(Ce)?me=Ce.map(Ze=>parseInt(typeof Ze=="object"&&Ze!==null?Ze.ID||Ze.id||Ze.post_id:Ze,10)).filter(Ze=>!isNaN(Ze)&&Ze>0):typeof Ce=="number"&&(me=[Ce]));let ke="";((G=o.date_type)==null?void 0:G.length)>0&&(ke=o.date_type[0].toString()),w({title:un(((de=o.title)==null?void 0:de.rendered)||""),date_value:((xe=o.acf)==null?void 0:xe.date_value)||"",date_type:ke,related_people:me,is_recurring:((Ie=o.acf)==null?void 0:Ie.is_recurring)??!0}),I(!0)}else if(!i&&p.length>0&&v.length>0){const me={title:"",date_value:"",date_type:"",related_people:[],is_recurring:!0};if(s&&(me.related_people=[parseInt(s)]),a){const Ce=v.find(ke=>ke.slug===a||ke.name.toLowerCase()===a.toLowerCase());Ce&&(me.date_type=Ce.id.toString())}w(me),I(!0)}},[o,w,i,s,a,v,p,c,f,P]),Xr(i&&o?`Edit ${((H=o.title)==null?void 0:H.rendered)||o.title||"date"}`:"New date");const D=async B=>{const W={title:B.title,status:"publish",date_type:B.date_type?[parseInt(B.date_type)]:[],acf:{date_value:B.date_value,related_people:B.related_people,is_recurring:B.is_recurring}};i?x.mutate(W):y.mutate(W)};if(i&&u)return l.jsx("div",{className:"flex items-center justify-center h-64",children:l.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"})});const F=b("related_people"),M=i&&(F==null?void 0:F.length)>0?F[0]:s,V=M?`/people/${M}`:"/dates",q=M?"Back to person":"Back to dates";return l.jsxs("div",{className:"max-w-2xl mx-auto space-y-6",children:[l.jsx("div",{className:"flex items-center justify-between",children:l.jsxs(oe,{to:V,className:"flex items-center text-gray-600 hover:text-gray-900",children:[l.jsx(mn,{className:"w-4 h-4 md:mr-2"}),l.jsx("span",{className:"hidden md:inline",children:q})]})}),l.jsxs("div",{className:"card p-6",children:[l.jsx("h1",{className:"text-xl font-bold mb-6",children:i?"Edit date":"Add new date"}),l.jsxs("form",{onSubmit:m(D),className:"space-y-6",children:[l.jsxs("div",{children:[l.jsx("label",{className:"label",children:"Related people"}),l.jsx(Op,{name:"related_people",control:E,render:({field:B})=>l.jsx(Nae,{value:B.value,onChange:B.onChange,people:p,isLoading:h})})]}),l.jsxs("div",{children:[l.jsx("label",{className:"label",children:"Date type *"}),l.jsx(Op,{name:"date_type",control:E,rules:{required:"Please select a date type"},render:({field:B})=>{const W=B.value?String(B.value):"";return l.jsxs("select",{value:W,onChange:G=>{const de=G.target.value;B.onChange(de)},onBlur:B.onBlur,name:B.name,ref:B.ref,className:"input",children:[l.jsx("option",{value:"",children:"Select a type..."}),v.map(G=>l.jsx("option",{value:String(G.id),children:G.name},G.id))]})}}),j.date_type&&l.jsx("p",{className:"text-sm text-red-600 mt-1",children:j.date_type.message})]}),l.jsxs("div",{children:[l.jsx("label",{className:"label",children:"Label"}),l.jsx("input",{...g("title"),className:"input",placeholder:"e.g., Mom's Birthday, Wedding Anniversary"}),l.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Auto-generated from person and date type. You can customize it."})]}),l.jsxs("div",{children:[l.jsx("label",{className:"label",children:"Date *"}),l.jsx("input",{...g("date_value",{required:"Date is required"}),type:"date",className:"input"}),j.date_value&&l.jsx("p",{className:"text-sm text-red-600 mt-1",children:j.date_value.message})]}),l.jsxs("div",{className:"flex items-center",children:[l.jsx("input",{type:"checkbox",id:"is_recurring",...g("is_recurring"),className:"w-4 h-4 rounded border-gray-300 text-primary-600 focus:ring-primary-500"}),l.jsx("label",{htmlFor:"is_recurring",className:"ml-2 text-sm text-gray-700 cursor-pointer",children:"Repeats every year"})]}),l.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t",children:[l.jsx(oe,{to:V,className:"btn-secondary",children:"Cancel"}),l.jsxs("button",{type:"submit",className:"btn-primary",disabled:S,children:[l.jsx(_s,{className:"w-4 h-4 mr-2"}),i?"Save changes":"Create date"]})]})]})]})]})}function jae(){Xr("Todos");const[t,e]=T.useState(!1),[r,n]=T.useState(null),[i,s]=T.useState(!1),[a,o]=T.useState(!1),[u,c]=T.useState(null),[d,h]=T.useState(!1),[f,p]=T.useState(!1),[v,y]=T.useState(null),{data:x,isLoading:g}=RK(!0),m=$K(),w=wne(),b=xO(),_=T.useMemo(()=>HK(new Date,3),[]),{incompleteTodos:E,recentlyCompletedTodos:j,olderCompletedTodos:S}=T.useMemo(()=>{if(!x)return{incompleteTodos:[],recentlyCompletedTodos:[],olderCompletedTodos:[]};const M=[],V=[],q=[];return x.forEach(H=>{if(!H.is_completed)M.push(H);else try{const B=jd(H.created);rse(B,_)?V.push(H):q.push(H)}catch{q.push(H)}}),{incompleteTodos:M,recentlyCompletedTodos:V,olderCompletedTodos:q}},[x,_]),C=M=>{if(!M.is_completed){c(M),h(!0);return}m.mutate({todoId:M.id,data:{content:M.content,due_date:M.due_date,is_completed:!1}})},N=()=>{u&&(m.mutate({todoId:u.id,data:{content:u.content,due_date:u.due_date,is_completed:!0}}),h(!1),c(null))},O=()=>{if(!u)return;const M=new Date().toISOString().split("T")[0];y({content:u.content,activity_date:M,activity_type:"note",participants:[]}),h(!1),p(!0)},P=async M=>{if(u)try{await b.mutateAsync({personId:u.person_id,data:M}),await m.mutateAsync({todoId:u.id,data:{content:u.content,due_date:u.due_date,is_completed:!0}}),p(!1),c(null),y(null)}catch(V){console.error("Failed to create activity:",V),alert("Failed to create activity. Please try again.")}},I=async M=>{r&&(await m.mutateAsync({todoId:r.id,data:M}),s(!1),n(null))},D=async M=>{window.confirm("Are you sure you want to delete this todo?")&&await w.mutateAsync(M)};if(g)return l.jsx("div",{className:"flex items-center justify-center h-64",children:l.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"})});const F=[...j,...S];return l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[l.jsx("h1",{className:"text-2xl font-bold",children:"Todos"}),l.jsxs("div",{className:"flex items-center gap-2",children:[S.length>0&&l.jsxs("button",{onClick:()=>e(!t),className:`btn-secondary text-sm flex items-center gap-2 ${t?"bg-primary-50 border-primary-300":""}`,children:[l.jsx(Fj,{className:"w-4 h-4"}),t?"Hide older":"Show all completed"]}),l.jsxs("button",{onClick:()=>o(!0),className:"btn-primary text-sm flex items-center gap-2",children:[l.jsx(Bt,{className:"w-4 h-4"}),"Add todo"]})]})]}),l.jsxs("div",{className:"card",children:[l.jsx("div",{className:"p-4 border-b border-gray-200",children:l.jsxs("h2",{className:"font-semibold flex items-center",children:[l.jsx(wu,{className:"w-5 h-5 mr-2 text-gray-500"}),"Open todos (",E.length,")"]})}),E.length>0?l.jsx("div",{className:"divide-y divide-gray-100",children:E.map(M=>l.jsx(Fv,{todo:M,onToggle:C,onEdit:V=>{n(V),s(!0)},onDelete:D},M.id))}):l.jsxs("div",{className:"p-8 text-center",children:[l.jsx(Di,{className:"w-12 h-12 text-gray-300 mx-auto mb-3"}),l.jsx("p",{className:"text-gray-500",children:"No open todos"}),l.jsx("p",{className:"text-sm text-gray-400 mt-1",children:"Create todos from a person's detail page"})]})]}),j.length>0&&!t&&l.jsxs("div",{className:"card",children:[l.jsx("div",{className:"p-4 border-b border-gray-200",children:l.jsxs("h2",{className:"font-semibold flex items-center",children:[l.jsx(nne,{className:"w-5 h-5 mr-2 text-primary-600"}),"Recently completed (",j.length,")"]})}),l.jsx("div",{className:"divide-y divide-gray-100",children:j.map(M=>l.jsx(Fv,{todo:M,onToggle:C,onEdit:V=>{n(V),s(!0)},onDelete:D},M.id))})]}),t&&F.length>0&&l.jsxs("div",{className:"card",children:[l.jsx("div",{className:"p-4 border-b border-gray-200",children:l.jsxs("h2",{className:"font-semibold flex items-center",children:[l.jsx(Di,{className:"w-5 h-5 mr-2 text-primary-600"}),"All completed todos (",F.length,")"]})}),l.jsx("div",{className:"divide-y divide-gray-100",children:F.map(M=>l.jsx(Fv,{todo:M,onToggle:C,onEdit:V=>{n(V),s(!0)},onDelete:D},M.id))})]}),l.jsx(YK,{isOpen:i,onClose:()=>{s(!1),n(null)},onSubmit:I,isLoading:m.isPending,todo:r}),l.jsx(MK,{isOpen:a,onClose:()=>o(!1)}),l.jsx(wO,{isOpen:d,onClose:()=>{h(!1),c(null)},todo:u,onComplete:N,onCompleteAsActivity:O}),l.jsx(_O,{isOpen:f,onClose:()=>{p(!1),c(null),y(null)},onSubmit:P,isLoading:b.isPending,personId:u==null?void 0:u.person_id,initialData:v})]})}function Fv({todo:t,onToggle:e,onEdit:r,onDelete:n}){var s;const i=ih(t);return l.jsxs("div",{className:"flex items-start p-4 hover:bg-gray-50 transition-colors group",children:[l.jsx("button",{onClick:()=>e(t),className:"mt-0.5 mr-3 flex-shrink-0",title:t.is_completed?"Mark as incomplete":"Mark as complete",children:t.is_completed?l.jsx(Di,{className:"w-5 h-5 text-primary-600"}):l.jsx(wu,{className:`w-5 h-5 ${i?"text-red-600":"text-gray-400"}`})}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx("p",{className:`text-sm ${t.is_completed?"line-through text-gray-400":i?"text-red-600 font-medium":"text-gray-900"}`,children:t.content}),l.jsxs("div",{className:"flex flex-wrap items-center gap-3 mt-2",children:[l.jsxs(oe,{to:`/people/${t.person_id}`,className:"flex items-center gap-2 text-xs text-primary-600 hover:text-primary-700 hover:underline",children:[t.person_thumbnail?l.jsx("img",{src:t.person_thumbnail,alt:t.person_name,className:"w-5 h-5 rounded-full object-cover"}):l.jsx("div",{className:"w-5 h-5 bg-gray-200 rounded-full flex items-center justify-center",children:l.jsx("span",{className:"text-xs text-gray-500",children:(s=t.person_name)==null?void 0:s[0]})}),t.person_name]}),t.due_date&&l.jsxs("span",{className:`text-xs ${i&&!t.is_completed?"text-red-600 font-medium":"text-gray-500"}`,children:["Due: ",an(new Date(t.due_date),"MMM d, yyyy"),i&&!t.is_completed&&" (overdue)"]})]})]}),l.jsxs("div",{className:"flex items-center gap-1 opacity-0 group-hover:opacity-100 transition-opacity ml-2",children:[l.jsx("button",{onClick:()=>r(t),className:"p-1 hover:bg-gray-100 rounded",title:"Edit todo",children:l.jsx(Bs,{className:"w-4 h-4 text-gray-400 hover:text-gray-600"})}),l.jsx("button",{onClick:()=>n(t.id),className:"p-1 hover:bg-red-50 rounded",title:"Delete todo",children:l.jsx(Sn,{className:"w-4 h-4 text-gray-400 hover:text-red-600"})})]})]})}function Cae(){const t=window.prmConfig||{},e=t.isAdmin||!1,[r,n]=T.useState(""),[i,s]=T.useState(""),[a,o]=T.useState(!0),[u,c]=T.useState(!1),[d,h]=T.useState(!1),[f,p]=T.useState([]),[v,y]=T.useState(""),[x,g]=T.useState(!1),[m,w]=T.useState(""),[b,_]=T.useState("09:00"),[E,j]=T.useState(!0),[S,C]=T.useState(!1),[N,O]=T.useState(!1),[P,I]=T.useState(!1),[D,F]=T.useState(""),[M,V]=T.useState(!1),[q,H]=T.useState([]),[B,W]=T.useState([]),[G,de]=T.useState([]),[xe,Ie]=T.useState(!1),[me,Ce]=T.useState(!1),[ke,Ze]=T.useState(!1),[Tt,nt]=T.useState(""),[X,Se]=T.useState(!1),[Me,Ue]=T.useState("");T.useEffect(()=>{(async()=>{try{const le=await ce.get("/prm/v1/user/ical-url");n(le.data.url),s(le.data.webcal_url)}catch(le){console.error("Failed to fetch iCal URL:",le)}finally{o(!1)}})()},[]);const Nt=async()=>{Ie(!0);try{const[K,le]=await Promise.all([$e.getSlackChannels(),$e.getSlackTargets()]);H(K.data.channels||[]),W(K.data.users||[]),de(le.data.targets||[])}catch(K){console.error("Failed to fetch Slack data:",K),F("Failed to load Slack channels and users. Please try refreshing the page.")}finally{Ie(!1)}};T.useEffect(()=>{(async()=>{try{const le=await $e.getNotificationChannels();p(le.data.channels||["email"]),y(le.data.slack_webhook||""),_(le.data.notification_time||"09:00");const pe=await $e.getSlackStatus(),Xe=pe.data.connected||!1;g(Xe),w(pe.data.workspace_name||""),Xe&&await Nt()}catch(le){console.error("Failed to fetch notification channels:",le)}finally{j(!1)}})()},[]),T.useEffect(()=>{x&&Nt()},[x]),T.useEffect(()=>{const K=new URLSearchParams(window.location.search),le=K.get("slack_connected"),pe=K.get("slack_error");le==="1"?(F("Slack connected successfully!"),$e.getSlackStatus().then(Xe=>{g(Xe.data.connected||!1),w(Xe.data.workspace_name||"")}),window.history.replaceState({},"",window.location.pathname)):pe&&(F(`Slack connection failed: ${pe}`),window.history.replaceState({},"",window.location.pathname))},[]);const Ne=async()=>{var K,le;try{const pe=await ce.get("/prm/v1/slack/oauth/authorize");window.location.href=pe.data.oauth_url}catch(pe){console.error("Failed to get Slack OAuth URL:",pe),alert(((le=(K=pe.response)==null?void 0:K.data)==null?void 0:le.message)||"Failed to connect Slack")}},Le=async()=>{var K,le;if(confirm("Are you sure you want to disconnect Slack? You will stop receiving Slack notifications.")){V(!0);try{await $e.disconnectSlack(),g(!1),w(""),H([]),W([]),de([]),F("Slack disconnected successfully"),f.includes("slack")&&await z("slack")}catch(pe){console.error("Failed to disconnect Slack:",pe),alert(((le=(K=pe.response)==null?void 0:K.data)==null?void 0:le.message)||"Failed to disconnect Slack")}finally{V(!1)}}},_t=K=>{const le=G.includes(K)?G.filter(pe=>pe!==K):[...G,K];de(le)},Pt=async()=>{var K,le;Ce(!0);try{await $e.updateSlackTargets(G),F("Notification targets saved successfully"),setTimeout(()=>F(""),3e3)}catch(pe){console.error("Failed to save Slack targets:",pe),alert(((le=(K=pe.response)==null?void 0:K.data)==null?void 0:le.message)||"Failed to save notification targets")}finally{Ce(!1)}},$=async()=>{try{await navigator.clipboard.writeText(r),c(!0),setTimeout(()=>c(!1),2e3)}catch(K){console.error("Failed to copy:",K)}},A=async()=>{if(confirm("Are you sure you want to regenerate your calendar URL? Any existing calendar subscriptions will stop working until you update them with the new URL.")){h(!0);try{const K=await ce.post("/prm/v1/user/regenerate-ical-token");n(K.data.url),s(K.data.webcal_url)}catch(K){console.error("Failed to regenerate token:",K)}finally{h(!1)}}},z=async K=>{var pe,Xe;const le=f.includes(K)?f.filter(ve=>ve!==K):[...f,K];C(!0);try{await $e.updateNotificationChannels(le),p(le)}catch(ve){console.error("Failed to update notification channels:",ve),alert(((Xe=(pe=ve.response)==null?void 0:pe.data)==null?void 0:Xe.message)||"Failed to update notification channels")}finally{C(!1)}},se=async K=>{var ue,_e;const[le,pe]=K.split(":").map(Number),Xe=Math.round(pe/5)*5,ve=Xe===60?(le+1)%24:le,ne=Xe===60?0:Xe,he=`${String(ve).padStart(2,"0")}:${String(ne).padStart(2,"0")}`;_(he),I(!0);try{await $e.updateNotificationTime(he)}catch(He){console.error("Failed to update notification time:",He),alert(((_e=(ue=He.response)==null?void 0:ue.data)==null?void 0:_e.message)||"Failed to update notification time");const kn=await $e.getNotificationChannels();_(kn.data.notification_time||"09:00")}finally{I(!1)}},Z=async()=>{var K,le;if(confirm("This will send reminder emails for all reminders due today. Continue?")){Ze(!0),nt("");try{const pe=await $e.triggerReminders();nt(pe.data.message||"Reminders triggered successfully.")}catch(pe){console.error("Failed to trigger reminders:",pe),nt(((le=(K=pe.response)==null?void 0:K.data)==null?void 0:le.message)||"Failed to trigger reminders. Please check server logs.")}finally{Ze(!1)}}},J=async()=>{var K,le;if(confirm("This will reschedule all user reminder cron jobs based on their notification time preferences. Continue?")){Se(!0),Ue("");try{const pe=await $e.rescheduleCronJobs();Ue(pe.data.message||"Cron jobs rescheduled successfully.")}catch(pe){console.error("Failed to reschedule cron jobs:",pe),Ue(((le=(K=pe.response)==null?void 0:K.data)==null?void 0:le.message)||"Failed to reschedule cron jobs. Please check server logs.")}finally{Se(!1)}}};return l.jsxs("div",{className:"max-w-2xl mx-auto space-y-6",children:[l.jsxs("div",{className:"card p-6",children:[l.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Calendar Subscription"}),l.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Subscribe to your important dates in any calendar app (Apple Calendar, Google Calendar, Outlook, etc.)"}),a?l.jsxs("div",{className:"animate-pulse",children:[l.jsx("div",{className:"h-10 bg-gray-200 rounded mb-3"}),l.jsx("div",{className:"h-9 bg-gray-200 rounded w-24"})]}):l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"label mb-1",children:"Your Calendar Feed URL"}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx("input",{type:"text",readOnly:!0,value:r,className:"input flex-1 text-sm font-mono bg-gray-50",onClick:K=>K.target.select()}),l.jsx("button",{onClick:$,className:"btn-secondary whitespace-nowrap",title:"Copy URL",children:u?l.jsxs("span",{className:"flex items-center gap-1",children:[l.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),"Copied"]}):l.jsxs("span",{className:"flex items-center gap-1",children:[l.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 5H6a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2v-1M8 5a2 2 0 002 2h2a2 2 0 002-2M8 5a2 2 0 012-2h2a2 2 0 012 2m0 0h2a2 2 0 012 2v3m2 4H10m0 0l3-3m-3 3l3 3"})}),"Copy"]})})]})]}),l.jsxs("div",{className:"flex flex-wrap gap-2",children:[l.jsx("a",{href:i,className:"btn-primary",children:l.jsxs("span",{className:"flex items-center gap-1",children:[l.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})}),"Subscribe in Calendar App"]})}),l.jsx("button",{onClick:A,disabled:d,className:"btn-secondary",children:d?"Regenerating...":"Regenerate URL"})]}),l.jsx("p",{className:"text-xs text-gray-500",children:'Keep this URL private. Anyone with access to it can see your important dates. If you think it has been compromised, click "Regenerate URL" to get a new one.'})]})]}),l.jsxs("div",{className:"card p-6",children:[l.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Data"}),l.jsxs("div",{className:"space-y-3",children:[l.jsxs(oe,{to:"/settings/import",className:"block p-3 rounded-lg border border-gray-200 hover:bg-gray-50",children:[l.jsx("p",{className:"font-medium",children:"Import Data"}),l.jsx("p",{className:"text-sm text-gray-500",children:"Import contacts from Monica CRM or other sources"})]}),l.jsxs(oe,{to:"/settings/export",className:"block p-3 rounded-lg border border-gray-200 hover:bg-gray-50",children:[l.jsx("p",{className:"font-medium",children:"Export Data"}),l.jsx("p",{className:"text-sm text-gray-500",children:"Export all contacts as vCard or Google Contacts CSV"})]})]})]}),l.jsxs("div",{className:"card p-6",children:[l.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Notifications"}),l.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Choose how you want to receive daily reminders about your important dates."}),E?l.jsxs("div",{className:"animate-pulse",children:[l.jsx("div",{className:"h-10 bg-gray-200 rounded mb-3"}),l.jsx("div",{className:"h-10 bg-gray-200 rounded"})]}):l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg border border-gray-200",children:[l.jsxs("div",{children:[l.jsx("p",{className:"font-medium",children:"Email"}),l.jsx("p",{className:"text-sm text-gray-500",children:"Receive daily digest emails"})]}),l.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[l.jsx("input",{type:"checkbox",checked:f.includes("email"),onChange:()=>z("email"),disabled:S,className:"sr-only peer"}),l.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-primary-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-primary-600"})]})]}),l.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg border border-gray-200",children:[l.jsxs("div",{children:[l.jsx("p",{className:"font-medium",children:"Slack"}),l.jsx("p",{className:"text-sm text-gray-500",children:"Receive notifications in Slack"})]}),l.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[l.jsx("input",{type:"checkbox",checked:f.includes("slack"),onChange:()=>z("slack"),disabled:S||!x,className:"sr-only peer"}),l.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-primary-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-primary-600"})]})]}),l.jsx("div",{children:x?l.jsxs("div",{className:"space-y-3",children:[l.jsx("div",{className:"p-3 bg-green-50 border border-green-200 rounded-lg",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("p",{className:"font-medium text-green-900",children:"Connected to Slack"}),m&&l.jsxs("p",{className:"text-sm text-green-700",children:["Workspace: ",m]})]}),l.jsx("button",{onClick:Le,disabled:M,className:"btn-secondary text-sm",children:M?"Disconnecting...":"Disconnect"})]})}),D&&l.jsx("p",{className:`text-sm ${D.includes("successfully")||D.includes("disconnected")?"text-green-600":"text-red-600"}`,children:D}),f.includes("slack")&&l.jsxs("div",{className:"mt-4 p-4 border border-gray-200 rounded-lg",children:[l.jsx("h3",{className:"font-medium mb-3",children:"Notification targets"}),l.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Choose where to send Slack notifications. You can select multiple channels and users."}),xe?l.jsx("p",{className:"text-sm text-gray-500",children:"Loading channels and users..."}):l.jsxs(l.Fragment,{children:[q.length>0&&l.jsxs("div",{className:"mb-4",children:[l.jsx("h4",{className:"text-sm font-medium mb-2",children:"Channels"}),l.jsx("div",{className:"space-y-2 max-h-48 overflow-y-auto",children:q.map(K=>l.jsxs("label",{className:"flex items-center p-2 hover:bg-gray-50 rounded cursor-pointer",children:[l.jsx("input",{type:"checkbox",checked:G.includes(K.id),onChange:()=>_t(K.id),className:"mr-2 cursor-pointer"}),l.jsx("span",{className:"text-sm",children:K.name})]},K.id))})]}),B.length>0&&l.jsxs("div",{className:"mb-4",children:[l.jsx("h4",{className:"text-sm font-medium mb-2",children:"Direct messages"}),l.jsx("div",{className:"space-y-2 max-h-48 overflow-y-auto",children:B.map(K=>l.jsxs("label",{className:"flex items-center p-2 hover:bg-gray-50 rounded cursor-pointer",children:[l.jsx("input",{type:"checkbox",checked:G.includes(K.id),onChange:()=>_t(K.id),className:"mr-2 cursor-pointer"}),l.jsxs("span",{className:"text-sm",children:[K.name,K.is_me&&l.jsx("span",{className:"text-gray-500 ml-1",children:"(you)"})]})]},K.id))})]}),q.length===0&&B.length===0&&!xe&&l.jsx("p",{className:"text-sm text-gray-500 mb-4",children:"No channels or users found. Make sure the Slack app has the necessary permissions."}),l.jsx("button",{onClick:Pt,disabled:me,className:"btn-primary text-sm mt-4",children:me?"Saving...":"Save targets"})]})]})]}):l.jsxs("div",{className:"space-y-3",children:[l.jsx("button",{onClick:Ne,className:"btn-primary w-full",disabled:M,children:"Connect Slack"}),D&&l.jsx("p",{className:`text-sm ${D.includes("successfully")?"text-green-600":"text-red-600"}`,children:D}),l.jsx("p",{className:"text-xs text-gray-500",children:"Connect your Slack workspace to receive daily reminder notifications. You'll be able to message channels or receive direct messages."})]})}),v&&!x&&l.jsx("div",{className:"p-3 bg-yellow-50 border border-yellow-200 rounded-lg",children:l.jsxs("p",{className:"text-sm text-yellow-800",children:[l.jsx("strong",{children:"Legacy webhook detected."})," Please connect via OAuth for better functionality. Your webhook will continue to work until you connect via OAuth."]})}),l.jsxs("div",{children:[l.jsx("label",{className:"label mb-1",children:"Notification Time (UTC)"}),l.jsx("input",{type:"time",value:b,onChange:K=>se(K.target.value),className:"input",disabled:P,step:"300"}),b&&l.jsxs("div",{className:"mt-2 p-2 bg-gray-50 rounded text-sm",children:[l.jsxs("p",{className:"text-gray-700",children:[l.jsx("span",{className:"font-medium",children:"UTC:"})," ",b]}),l.jsxs("p",{className:"text-gray-700 mt-1",children:[l.jsxs("span",{className:"font-medium",children:["Your time (",Intl.DateTimeFormat().resolvedOptions().timeZone,"):"]})," ",(()=>{try{const[K,le]=b.split(":"),pe=new Date;return pe.setUTCHours(parseInt(K),parseInt(le),0,0),pe.toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit",hour12:!1})}catch{return b}})()]})]}),l.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Choose the UTC time when you want to receive your daily reminder digest. Reminders are sent within a 1-hour window of your selected time."})]})]})]}),e&&l.jsxs("div",{className:"card p-6",children:[l.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Administration"}),l.jsxs("div",{className:"space-y-3",children:[l.jsxs(oe,{to:"/settings/relationship-types",className:"block p-3 rounded-lg border border-gray-200 hover:bg-gray-50",children:[l.jsx("p",{className:"font-medium",children:"Relationship Types"}),l.jsx("p",{className:"text-sm text-gray-500",children:"Manage relationship types and their inverse mappings"})]}),l.jsxs(oe,{to:"/settings/user-approval",className:"block p-3 rounded-lg border border-gray-200 hover:bg-gray-50",children:[l.jsx("p",{className:"font-medium",children:"User Approval"}),l.jsx("p",{className:"text-sm text-gray-500",children:"Approve or deny access for new users"})]}),l.jsxs("button",{onClick:Z,disabled:ke,className:"w-full text-left p-3 rounded-lg border border-gray-200 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:[l.jsx("p",{className:"font-medium",children:"Trigger reminders"}),l.jsx("p",{className:"text-sm text-gray-500",children:ke?"Sending...":"Manually send reminders for today"}),Tt&&l.jsx("p",{className:"text-sm text-green-600 mt-1",children:Tt})]}),l.jsxs("button",{onClick:J,disabled:X,className:"w-full text-left p-3 rounded-lg border border-gray-200 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:[l.jsx("p",{className:"font-medium",children:"Reschedule cron jobs"}),l.jsx("p",{className:"text-sm text-gray-500",children:X?"Rescheduling...":"Reschedule all user reminder cron jobs"}),Me&&l.jsx("p",{className:"text-sm text-green-600 mt-1",children:Me})]})]})]}),l.jsxs("div",{className:"card p-6",children:[l.jsx("h2",{className:"text-lg font-semibold mb-4",children:"About"}),l.jsxs("p",{className:"text-sm text-gray-600",children:[Su," v",t.version||"1.0.0",l.jsx("br",{}),"Built with WordPress, React, and Tailwind CSS."]})]})]})}function OR({value:t,onChange:e,relationshipTypes:r,currentTypeId:n=null}){const[i,s]=T.useState(""),[a,o]=T.useState(!1),u=T.useRef(null),c=T.useRef(null),d=T.useMemo(()=>r.sort((x,g)=>{const m=(x.name||"").toLowerCase(),w=(g.name||"").toLowerCase();return m<w?-1:m>w?1:0}),[r]),h=T.useMemo(()=>{if(!i)return d.slice(0,10);const x=i.toLowerCase();return d.filter(g=>(g.name||"").toLowerCase().includes(x)).slice(0,10)},[d,i]),f=T.useMemo(()=>d.find(x=>x.id===parseInt(t,10)),[d,t]);T.useEffect(()=>{const x=g=>{c.current&&!c.current.contains(g.target)&&u.current&&!u.current.contains(g.target)&&o(!1)};return document.addEventListener("mousedown",x),()=>document.removeEventListener("mousedown",x)},[]);const p=x=>{e(x?x.toString():""),s(""),o(!1)},v=()=>{e(""),s(""),o(!1)},y=f?f.name:"";return l.jsxs("div",{className:"relative",children:[l.jsx("div",{className:"relative",children:f&&!a?l.jsxs("div",{className:"flex items-center justify-between input pr-8 cursor-text",onClick:()=>o(!0),children:[l.jsx("span",{children:y}),l.jsx("button",{type:"button",onClick:x=>{x.stopPropagation(),v()},className:"absolute right-2 text-gray-400 hover:text-gray-600",children:l.jsx(Mr,{className:"w-4 h-4"})})]}):l.jsx("input",{ref:u,type:"text",value:i,onChange:x=>{s(x.target.value),o(!0)},onFocus:()=>o(!0),placeholder:"Search for a relationship type...",className:"input"})}),a&&(i||!f)&&l.jsx("div",{ref:c,className:"absolute z-10 w-full mt-1 bg-white border border-gray-200 rounded-lg shadow-lg max-h-48 overflow-y-auto",children:h.length>0?l.jsxs(l.Fragment,{children:[l.jsx("button",{type:"button",onClick:()=>p(null),className:`w-full text-left px-4 py-2 hover:bg-gray-50 ${t?"":"bg-primary-50"}`,children:l.jsx("span",{className:"text-gray-500 italic",children:"None (no inverse)"})}),h.map(x=>l.jsx("button",{type:"button",onClick:()=>p(x.id),className:`w-full text-left px-4 py-2 hover:bg-gray-50 ${t===x.id.toString()?"bg-primary-50":""}`,children:x.name},x.id))]}):l.jsx("p",{className:"px-4 py-2 text-gray-500 text-sm",children:"No relationship types found"})})]})}function Oae(){Xr("Relationship Types - Settings");const t=ot();if(!((window.prmConfig||{}).isAdmin||!1))return l.jsx("div",{className:"max-w-2xl mx-auto",children:l.jsxs("div",{className:"card p-8 text-center",children:[l.jsx(jK,{className:"w-16 h-16 mx-auto text-amber-500 mb-4"}),l.jsx("h1",{className:"text-2xl font-bold mb-2",children:"Access Denied"}),l.jsx("p",{className:"text-gray-600 mb-6",children:"You don't have permission to manage relationship types. This feature is only available to administrators."}),l.jsx(oe,{to:"/settings",className:"btn-primary",children:"Back to Settings"})]})});const{data:n=[],isLoading:i}=et({queryKey:["relationship-types"],queryFn:async()=>(await Fe.getRelationshipTypes()).data}),[s,a]=T.useState(null),[o,u]=T.useState(""),[c,d]=T.useState(""),[h,f]=T.useState(""),[p,v]=T.useState(""),[y,x]=T.useState(!1),g=rt({mutationFn:async({id:O,name:P,inverseId:I})=>{const D={name:P};return I&&(D.acf={inverse_relationship_type:parseInt(I,10)}),Fe.updateRelationshipType(O,D)},onSuccess:()=>{t.invalidateQueries({queryKey:["relationship-types"]}),a(null),u(""),d("")}}),m=rt({mutationFn:async({name:O,inverseId:P})=>{const I={name:O};return P&&(I.acf={inverse_relationship_type:parseInt(P,10)}),Fe.createRelationshipType(I)},onSuccess:()=>{t.invalidateQueries({queryKey:["relationship-types"]}),f(""),v(""),x(!1)}}),w=rt({mutationFn:O=>Fe.deleteRelationshipType(O),onSuccess:()=>{t.invalidateQueries({queryKey:["relationship-types"]})}}),b=rt({mutationFn:()=>Fe.restoreRelationshipTypeDefaults(),onSuccess:()=>{t.invalidateQueries({queryKey:["relationship-types"]}),alert("Default relationship type configurations have been restored.")},onError:()=>{alert("Failed to restore defaults. Please try again.")}});function _(){return l.jsxs("button",{onClick:()=>{window.confirm("This will restore all default inverse mappings and gender-dependent settings. Continue?")&&b.mutate()},disabled:b.isPending,className:"btn-secondary flex items-center gap-2",title:"Restore default inverse mappings and gender-dependent settings",children:[b.isPending?l.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-gray-600"}):l.jsx(EK,{className:"w-4 h-4"}),l.jsx("span",{className:"hidden md:inline",children:"Restore Defaults"})]})}const E=O=>{var I;a(O.id),u(O.name);const P=(I=O.acf)==null?void 0:I.inverse_relationship_type;d(P?P.toString():"")},j=()=>{a(null),u(""),d("")},S=()=>{if(!o.trim()){alert("Name is required");return}g.mutate({id:s,name:o.trim(),inverseId:c||null})},C=()=>{if(!h.trim()){alert("Name is required");return}m.mutate({name:h.trim(),inverseId:p||null})},N=(O,P)=>{window.confirm(`Are you sure you want to delete "${P}"? This cannot be undone.`)&&w.mutate(O)};return i?l.jsx("div",{className:"flex items-center justify-center h-64",children:l.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"})}):l.jsx("div",{className:"max-w-4xl mx-auto space-y-6",children:l.jsxs("div",{className:"card p-6",children:[l.jsxs("div",{className:"flex items-center justify-between mb-6",children:[l.jsx("h1",{className:"text-2xl font-bold",children:"Relationship Types"}),l.jsx("div",{className:"flex gap-2",children:!y&&l.jsxs(l.Fragment,{children:[l.jsx(_,{}),l.jsxs("button",{onClick:()=>x(!0),className:"btn-primary flex items-center gap-2",children:[l.jsx(Bt,{className:"w-4 h-4"}),l.jsx("span",{className:"hidden md:inline",children:"Add Relationship Type"})]})]})})]}),y&&l.jsxs("div",{className:"mb-6 p-4 border border-gray-200 rounded-lg bg-gray-50",children:[l.jsx("h3",{className:"font-semibold mb-4",children:"Add New Relationship Type"}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"label",children:"Name *"}),l.jsx("input",{type:"text",value:h,onChange:O=>f(O.target.value),className:"input",placeholder:"e.g., Parent, Spouse, Colleague"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"label",children:"Inverse Relationship Type"}),l.jsx(OR,{value:p,onChange:v,relationshipTypes:n}),l.jsx("p",{className:"text-xs text-gray-500 mt-1",children:'Select the inverse relationship type. For example, if this is "Parent", select "Child". If this is "Spouse" or "Acquaintance", select the same type (e.g., "Spouse"  "Spouse").'})]}),l.jsxs("div",{className:"flex gap-2",children:[l.jsxs("button",{onClick:C,disabled:m.isPending,className:"btn-primary flex items-center gap-2",children:[m.isPending?l.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}):l.jsx(_s,{className:"w-4 h-4"}),l.jsx("span",{className:"hidden md:inline",children:"Save"})]}),l.jsx("button",{onClick:()=>{x(!1),f(""),v("")},className:"btn-secondary",children:"Cancel"})]})]})]}),l.jsx("div",{className:"space-y-2",children:n.length===0?l.jsx("p",{className:"text-gray-500 text-center py-8",children:"No relationship types found."}):n.map(O=>{var M,V;const P=s===O.id,I=(M=O.acf)==null?void 0:M.inverse_relationship_type,D=typeof I=="object"&&(I!=null&&I.ID)?I.ID:typeof I=="object"&&(I!=null&&I.id)?I.id:I,F=D?n.find(q=>q.id===D):null;return l.jsx("div",{className:"p-4 border border-gray-200 rounded-lg hover:bg-gray-50",children:P?l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"label",children:"Name *"}),l.jsx("input",{type:"text",value:o,onChange:q=>u(q.target.value),className:"input"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"label",children:"Inverse Relationship Type"}),l.jsx(OR,{value:c,onChange:d,relationshipTypes:n,currentTypeId:O.id}),l.jsx("p",{className:"text-xs text-gray-500 mt-1",children:'Select the inverse relationship type. For example, if this is "Parent", select "Child". If this is "Spouse" or "Acquaintance", select the same type (e.g., "Spouse"  "Spouse").'})]}),l.jsxs("div",{className:"flex gap-2",children:[l.jsxs("button",{onClick:S,disabled:g.isPending,className:"btn-primary flex items-center gap-2",children:[g.isPending?l.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}):l.jsx(_s,{className:"w-4 h-4"}),l.jsx("span",{className:"hidden md:inline",children:"Save"})]}),l.jsxs("button",{onClick:j,className:"btn-secondary flex items-center gap-2",children:[l.jsx(Mr,{className:"w-4 h-4"}),l.jsx("span",{className:"hidden md:inline",children:"Cancel"})]})]})]}):l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex-1",children:[l.jsx("div",{className:"font-medium",children:O.name}),F&&l.jsxs("div",{className:"text-sm text-gray-500 mt-1",children:["Inverse: ",l.jsx("span",{className:"font-medium",children:F.name})]}),!F&&((V=O.acf)==null?void 0:V.inverse_relationship_type)===null&&l.jsx("div",{className:"text-sm text-gray-400 mt-1 italic",children:"No inverse relationship"})]}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx("button",{onClick:()=>E(O),className:"p-2 text-gray-600 hover:text-primary-600 hover:bg-primary-50 rounded",title:"Edit",children:l.jsx(hne,{className:"w-4 h-4"})}),l.jsx("button",{onClick:()=>N(O.id,O.name),className:"p-2 text-gray-600 hover:text-red-600 hover:bg-red-50 rounded",title:"Delete",children:l.jsx(Sn,{className:"w-4 h-4"})})]})]})},O.id)})})]})})}function Tae(){var g,m,w;const[t,e]=T.useState(null),[r,n]=T.useState(""),[i,s]=T.useState(!1),[a,o]=T.useState(null),u=ot(),c=rt({mutationFn:async b=>{const _=new FormData;return _.append("file",b),(await ce.post("/prm/v1/import/monica/validate",_,{headers:{"Content-Type":"multipart/form-data"}})).data},onSuccess:b=>{o(b)},onError:b=>{var _,E;o({valid:!1,error:((E=(_=b.response)==null?void 0:_.data)==null?void 0:E.message)||"Failed to validate file"})}}),d=rt({mutationFn:async({file:b,monicaUrl:_})=>{const E=new FormData;return E.append("file",b),E.append("monica_url",_),(await ce.post("/prm/v1/import/monica",E,{headers:{"Content-Type":"multipart/form-data"}})).data},onSuccess:()=>{u.invalidateQueries({queryKey:["people"]}),u.invalidateQueries({queryKey:["companies"]}),u.invalidateQueries({queryKey:["dates"]}),u.invalidateQueries({queryKey:["dashboard"]})}}),h=T.useCallback(b=>{b.preventDefault(),b.stopPropagation(),b.type==="dragenter"||b.type==="dragover"?s(!0):b.type==="dragleave"&&s(!1)},[]),f=T.useCallback(b=>{b.preventDefault(),b.stopPropagation(),s(!1),b.dataTransfer.files&&b.dataTransfer.files[0]&&v(b.dataTransfer.files[0])},[]),p=b=>{b.target.files&&b.target.files[0]&&v(b.target.files[0])},v=b=>{if(!b.name.endsWith(".sql")){o({valid:!1,error:"Please select a SQL file"});return}e(b),o(null),d.reset(),c.mutate(b)},y=()=>{if(!r.trim()){o(b=>({...b,urlError:"Please enter your Monica instance URL"}));return}t&&(a!=null&&a.valid)&&d.mutate({file:t,monicaUrl:r.trim()})},x=()=>{e(null),n(""),o(null),c.reset(),d.reset()};return l.jsxs("div",{className:"space-y-4",children:[l.jsx("h2",{className:"text-lg font-semibold",children:"Import from Monica"}),l.jsx("p",{className:"text-sm text-gray-600",children:"Import contacts, relationships, notes, and photos from a Monica CRM SQL export file. Reimporting the same file will update existing contacts instead of creating duplicates."}),d.isSuccess?l.jsx("div",{className:"rounded-lg border border-green-200 bg-green-50 p-4",children:l.jsxs("div",{className:"flex items-start gap-3",children:[l.jsx(xu,{className:"h-5 w-5 text-green-600 mt-0.5"}),l.jsxs("div",{className:"flex-1",children:[l.jsx("h3",{className:"font-medium text-green-900",children:"Import Complete"}),l.jsxs("div",{className:"mt-2 text-sm text-green-800 space-y-1",children:[l.jsxs("p",{children:["Contacts imported: ",d.data.stats.contacts_imported]}),l.jsxs("p",{children:["Contacts updated: ",d.data.stats.contacts_updated]}),l.jsxs("p",{children:["Contacts skipped (partial): ",d.data.stats.contacts_skipped]}),l.jsxs("p",{children:["Photos imported: ",d.data.stats.photos_imported]}),l.jsxs("p",{children:["Organizations created: ",d.data.stats.companies_created]}),l.jsxs("p",{children:["Relationships created: ",d.data.stats.relationships_created]}),l.jsxs("p",{children:["Important dates created: ",d.data.stats.dates_created]}),l.jsxs("p",{children:["Notes created: ",d.data.stats.notes_created]}),((g=d.data.stats.errors)==null?void 0:g.length)>0&&l.jsxs("div",{className:"mt-2 pt-2 border-t border-green-200",children:[l.jsx("p",{className:"font-medium",children:"Errors:"}),l.jsx("ul",{className:"list-disc list-inside",children:d.data.stats.errors.map((b,_)=>l.jsx("li",{children:b},_))})]})]}),l.jsx("button",{onClick:x,className:"mt-3 text-sm text-green-700 hover:text-green-800 font-medium",children:"Import another file"})]})]})}):l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:`relative rounded-lg border-2 border-dashed p-8 text-center transition-colors ${i?"border-primary-500 bg-primary-50":t?"border-green-300 bg-green-50":"border-gray-300 hover:border-gray-400"}`,onDragEnter:h,onDragLeave:h,onDragOver:h,onDrop:f,children:[l.jsx("input",{type:"file",accept:".sql",onChange:p,className:"absolute inset-0 w-full h-full opacity-0 cursor-pointer"}),c.isPending?l.jsxs("div",{className:"flex flex-col items-center gap-2",children:[l.jsx(Io,{className:"h-8 w-8 text-primary-600 animate-spin"}),l.jsx("p",{className:"text-gray-600",children:"Validating file..."})]}):t?l.jsxs("div",{className:"flex flex-col items-center gap-2",children:[l.jsx(rh,{className:"h-8 w-8 text-green-600"}),l.jsx("p",{className:"font-medium text-gray-900",children:t.name}),l.jsxs("p",{className:"text-sm text-gray-500",children:[(t.size/1024/1024).toFixed(2)," MB"]})]}):l.jsxs("div",{className:"flex flex-col items-center gap-2",children:[l.jsx($o,{className:"h-8 w-8 text-gray-400"}),l.jsx("p",{className:"text-gray-600",children:"Drag and drop your Monica SQL export file here, or click to browse"}),l.jsx("p",{className:"text-sm text-gray-500",children:"Supports SQL export files"})]})]}),a&&l.jsx("div",{className:`rounded-lg border p-4 ${a.valid?"border-green-200 bg-green-50":"border-red-200 bg-red-50"}`,children:a.valid?l.jsxs("div",{className:"flex items-start gap-3",children:[l.jsx(xu,{className:"h-5 w-5 text-green-600 mt-0.5"}),l.jsxs("div",{className:"flex-1",children:[l.jsx("h3",{className:"font-medium text-green-900",children:"File validated successfully"}),l.jsxs("div",{className:"mt-2 text-sm text-green-800",children:[l.jsxs("p",{children:["Export format: ",a.version]}),l.jsxs("p",{children:["Contacts to import: ",a.summary.contacts]}),l.jsxs("p",{children:["Relationships: ",a.summary.relationships]}),l.jsxs("p",{children:["Notes: ",a.summary.notes]}),l.jsxs("p",{children:["Dates: ",a.summary.reminders]}),l.jsxs("p",{children:["Photos: ",a.summary.photos]}),l.jsxs("p",{children:["Organizations: ",a.summary.companies_count]})]})]})]}):l.jsxs("div",{className:"flex items-start gap-3",children:[l.jsx(ws,{className:"h-5 w-5 text-red-600 mt-0.5"}),l.jsxs("div",{children:[l.jsx("h3",{className:"font-medium text-red-900",children:"Validation failed"}),l.jsx("p",{className:"text-sm text-red-700 mt-1",children:a.error})]})]})}),(a==null?void 0:a.valid)&&l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{htmlFor:"monica-url",className:"block text-sm font-medium text-gray-700",children:"Monica Instance URL"}),l.jsxs("div",{className:"relative",children:[l.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:l.jsx(_K,{className:"h-4 w-4 text-gray-400"})}),l.jsx("input",{type:"url",id:"monica-url",value:r,onChange:b=>n(b.target.value),placeholder:"https://your-monica-instance.com",className:`block w-full pl-10 pr-3 py-2 border rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500 ${a.urlError?"border-red-300":"border-gray-300"}`})]}),a.urlError&&l.jsx("p",{className:"text-sm text-red-600",children:a.urlError}),l.jsx("p",{className:"text-xs text-gray-500",children:"Enter the URL of your Monica instance to import photos. Photos will be downloaded from this URL."})]}),(a==null?void 0:a.valid)&&l.jsxs("div",{className:"flex gap-3",children:[l.jsx("button",{onClick:y,disabled:d.isPending,className:"btn-primary flex items-center gap-2",children:d.isPending?l.jsxs(l.Fragment,{children:[l.jsx(Io,{className:"h-4 w-4 animate-spin"}),l.jsx("span",{className:"hidden md:inline",children:"Importing..."})]}):l.jsxs(l.Fragment,{children:[l.jsx($o,{className:"h-4 w-4"}),l.jsx("span",{className:"hidden md:inline",children:"Start Import"})]})}),l.jsx("button",{onClick:x,disabled:d.isPending,className:"btn-secondary",children:"Cancel"})]}),d.isError&&l.jsx("div",{className:"rounded-lg border border-red-200 bg-red-50 p-4",children:l.jsxs("div",{className:"flex items-start gap-3",children:[l.jsx(ws,{className:"h-5 w-5 text-red-600 mt-0.5"}),l.jsxs("div",{children:[l.jsx("h3",{className:"font-medium text-red-900",children:"Import failed"}),l.jsx("p",{className:"text-sm text-red-700 mt-1",children:((w=(m=d.error.response)==null?void 0:m.data)==null?void 0:w.message)||"An error occurred during import"})]})]})})]})]})}function Pae(){var y,x,g;const[t,e]=T.useState(null),[r,n]=T.useState(!1),[i,s]=T.useState(null),a=ot(),o=rt({mutationFn:async m=>{const w=new FormData;return w.append("file",m),(await ce.post("/prm/v1/import/vcard/validate",w,{headers:{"Content-Type":"multipart/form-data"}})).data},onSuccess:m=>{s(m)},onError:m=>{var w,b;s({valid:!1,error:((b=(w=m.response)==null?void 0:w.data)==null?void 0:b.message)||"Failed to validate file"})}}),u=rt({mutationFn:async m=>{const w=new FormData;return w.append("file",m),(await ce.post("/prm/v1/import/vcard",w,{headers:{"Content-Type":"multipart/form-data"}})).data},onSuccess:()=>{a.invalidateQueries({queryKey:["people"]}),a.invalidateQueries({queryKey:["companies"]}),a.invalidateQueries({queryKey:["dates"]}),a.invalidateQueries({queryKey:["dashboard"]})}}),c=T.useCallback(m=>{m.preventDefault(),m.stopPropagation(),m.type==="dragenter"||m.type==="dragover"?n(!0):m.type==="dragleave"&&n(!1)},[]),d=T.useCallback(m=>{m.preventDefault(),m.stopPropagation(),n(!1),m.dataTransfer.files&&m.dataTransfer.files[0]&&f(m.dataTransfer.files[0])},[]),h=m=>{m.target.files&&m.target.files[0]&&f(m.target.files[0])},f=m=>{const w=m.name.split(".").pop().toLowerCase();if(w!=="vcf"&&w!=="vcard"){s({valid:!1,error:"Please select a vCard file (.vcf)"});return}e(m),s(null),u.reset(),o.mutate(m)},p=()=>{t&&(i!=null&&i.valid)&&u.mutate(t)},v=()=>{e(null),s(null),o.reset(),u.reset()};return l.jsxs("div",{className:"space-y-4",children:[l.jsx("h2",{className:"text-lg font-semibold",children:"Import from vCard"}),l.jsx("p",{className:"text-sm text-gray-600",children:"Import contacts from a vCard (.vcf) file. vCard is a standard format supported by most contact apps including Apple Contacts, Outlook, and Android. Files can contain one or multiple contacts."}),u.isSuccess?l.jsx("div",{className:"rounded-lg border border-green-200 bg-green-50 p-4",children:l.jsxs("div",{className:"flex items-start gap-3",children:[l.jsx(xu,{className:"h-5 w-5 text-green-600 mt-0.5"}),l.jsxs("div",{className:"flex-1",children:[l.jsx("h3",{className:"font-medium text-green-900",children:"Import Complete"}),l.jsxs("div",{className:"mt-2 text-sm text-green-800 space-y-1",children:[l.jsxs("p",{children:["Contacts imported: ",u.data.stats.contacts_imported]}),l.jsxs("p",{children:["Contacts updated: ",u.data.stats.contacts_updated]}),l.jsxs("p",{children:["Contacts skipped: ",u.data.stats.contacts_skipped]}),l.jsxs("p",{children:["Photos imported: ",u.data.stats.photos_imported]}),l.jsxs("p",{children:["Organizations created: ",u.data.stats.companies_created]}),l.jsxs("p",{children:["Birthdays created: ",u.data.stats.dates_created]}),l.jsxs("p",{children:["Notes created: ",u.data.stats.notes_created]}),((y=u.data.stats.errors)==null?void 0:y.length)>0&&l.jsxs("div",{className:"mt-2 pt-2 border-t border-green-200",children:[l.jsx("p",{className:"font-medium",children:"Errors:"}),l.jsx("ul",{className:"list-disc list-inside",children:u.data.stats.errors.map((m,w)=>l.jsx("li",{children:m},w))})]})]}),l.jsx("button",{onClick:v,className:"mt-3 text-sm text-green-700 hover:text-green-800 font-medium",children:"Import another file"})]})]})}):l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:`relative rounded-lg border-2 border-dashed p-8 text-center transition-colors ${r?"border-primary-500 bg-primary-50":t?"border-green-300 bg-green-50":"border-gray-300 hover:border-gray-400"}`,onDragEnter:c,onDragLeave:c,onDragOver:c,onDrop:d,children:[l.jsx("input",{type:"file",accept:".vcf,.vcard",onChange:h,className:"absolute inset-0 w-full h-full opacity-0 cursor-pointer"}),o.isPending?l.jsxs("div",{className:"flex flex-col items-center gap-2",children:[l.jsx(Io,{className:"h-8 w-8 text-primary-600 animate-spin"}),l.jsx("p",{className:"text-gray-600",children:"Validating file..."})]}):t?l.jsxs("div",{className:"flex flex-col items-center gap-2",children:[l.jsx(rh,{className:"h-8 w-8 text-green-600"}),l.jsx("p",{className:"font-medium text-gray-900",children:t.name}),l.jsxs("p",{className:"text-sm text-gray-500",children:[(t.size/1024).toFixed(2)," KB"]})]}):l.jsxs("div",{className:"flex flex-col items-center gap-2",children:[l.jsx($o,{className:"h-8 w-8 text-gray-400"}),l.jsx("p",{className:"text-gray-600",children:"Drag and drop your vCard file here, or click to browse"}),l.jsx("p",{className:"text-sm text-gray-500",children:"Supports .vcf and .vcard files"})]})]}),i&&l.jsx("div",{className:`rounded-lg border p-4 ${i.valid?"border-green-200 bg-green-50":"border-red-200 bg-red-50"}`,children:i.valid?l.jsxs("div",{className:"flex items-start gap-3",children:[l.jsx(xu,{className:"h-5 w-5 text-green-600 mt-0.5"}),l.jsxs("div",{className:"flex-1",children:[l.jsx("h3",{className:"font-medium text-green-900",children:"File validated successfully"}),l.jsxs("div",{className:"mt-3 grid grid-cols-2 sm:grid-cols-3 gap-3",children:[l.jsxs("div",{className:"flex items-center gap-2 text-sm text-green-800",children:[l.jsx(Mi,{className:"h-4 w-4"}),l.jsxs("span",{children:[i.summary.contacts," contacts"]})]}),i.summary.companies_count>0&&l.jsxs("div",{className:"flex items-center gap-2 text-sm text-green-800",children:[l.jsx(ur,{className:"h-4 w-4"}),l.jsxs("span",{children:[i.summary.companies_count," organizations"]})]}),i.summary.birthdays>0&&l.jsxs("div",{className:"flex items-center gap-2 text-sm text-green-800",children:[l.jsx(bK,{className:"h-4 w-4"}),l.jsxs("span",{children:[i.summary.birthdays," birthdays"]})]}),i.summary.photos>0&&l.jsxs("div",{className:"flex items-center gap-2 text-sm text-green-800",children:[l.jsx(wK,{className:"h-4 w-4"}),l.jsxs("span",{children:[i.summary.photos," photos"]})]}),i.summary.notes>0&&l.jsxs("div",{className:"flex items-center gap-2 text-sm text-green-800",children:[l.jsx(TK,{className:"h-4 w-4"}),l.jsxs("span",{children:[i.summary.notes," notes"]})]})]})]})]}):l.jsxs("div",{className:"flex items-start gap-3",children:[l.jsx(ws,{className:"h-5 w-5 text-red-600 mt-0.5"}),l.jsxs("div",{children:[l.jsx("h3",{className:"font-medium text-red-900",children:"Validation failed"}),l.jsx("p",{className:"text-sm text-red-700 mt-1",children:i.error})]})]})}),(i==null?void 0:i.valid)&&l.jsxs("div",{className:"flex gap-3",children:[l.jsx("button",{onClick:p,disabled:u.isPending,className:"btn-primary flex items-center gap-2",children:u.isPending?l.jsxs(l.Fragment,{children:[l.jsx(Io,{className:"h-4 w-4 animate-spin"}),l.jsx("span",{className:"hidden md:inline",children:"Importing..."})]}):l.jsxs(l.Fragment,{children:[l.jsx($o,{className:"h-4 w-4"}),l.jsx("span",{className:"hidden md:inline",children:"Start Import"})]})}),l.jsx("button",{onClick:v,disabled:u.isPending,className:"btn-secondary",children:"Cancel"})]}),u.isError&&l.jsx("div",{className:"rounded-lg border border-red-200 bg-red-50 p-4",children:l.jsxs("div",{className:"flex items-start gap-3",children:[l.jsx(ws,{className:"h-5 w-5 text-red-600 mt-0.5"}),l.jsxs("div",{children:[l.jsx("h3",{className:"font-medium text-red-900",children:"Import failed"}),l.jsx("p",{className:"text-sm text-red-700 mt-1",children:((g=(x=u.error.response)==null?void 0:x.data)==null?void 0:g.message)||"An error occurred during import"})]})]})})]})]})}function Iae(){var b,_,E;const[t,e]=T.useState(null),[r,n]=T.useState(!1),[i,s]=T.useState(null),[a,o]=T.useState({}),u=ot(),c=rt({mutationFn:async j=>{const S=new FormData;return S.append("file",j),(await ce.post("/prm/v1/import/google-contacts/validate",S,{headers:{"Content-Type":"multipart/form-data"}})).data},onSuccess:j=>{var S;if(s(j),((S=j.duplicates)==null?void 0:S.length)>0){const C={};j.duplicates.forEach(N=>{C[N.index]="merge"}),o(C)}},onError:j=>{var S,C;s({valid:!1,error:((C=(S=j.response)==null?void 0:S.data)==null?void 0:C.message)||"Failed to validate file"})}}),d=rt({mutationFn:async({file:j,decisions:S})=>{const C=new FormData;return C.append("file",j),C.append("decisions",JSON.stringify(S)),(await ce.post("/prm/v1/import/google-contacts",C,{headers:{"Content-Type":"multipart/form-data"}})).data},onSuccess:()=>{u.invalidateQueries({queryKey:["people"]}),u.invalidateQueries({queryKey:["companies"]}),u.invalidateQueries({queryKey:["dates"]}),u.invalidateQueries({queryKey:["dashboard"]})}}),h=T.useCallback(j=>{j.preventDefault(),j.stopPropagation(),j.type==="dragenter"||j.type==="dragover"?n(!0):j.type==="dragleave"&&n(!1)},[]),f=T.useCallback(j=>{j.preventDefault(),j.stopPropagation(),n(!1),j.dataTransfer.files&&j.dataTransfer.files[0]&&v(j.dataTransfer.files[0])},[]),p=j=>{j.target.files&&j.target.files[0]&&v(j.target.files[0])},v=j=>{if(!j.name.endsWith(".csv")){s({valid:!1,error:"Please select a CSV file"});return}e(j),s(null),o({}),d.reset(),c.mutate(j)},y=(j,S)=>{o(C=>({...C,[j]:S}))},x=()=>{t&&(i!=null&&i.valid)&&d.mutate({file:t,decisions:a})},g=()=>{e(null),s(null),o({}),c.reset(),d.reset()},m=(i==null?void 0:i.duplicates)||[],w=m.length>0;return l.jsxs("div",{className:"space-y-4",children:[l.jsx("h2",{className:"text-lg font-semibold",children:"Import from Google Contacts"}),l.jsx("p",{className:"text-sm text-gray-600",children:"Import contacts from a Google Contacts CSV export. To export from Google:"}),l.jsxs("ol",{className:"text-sm text-gray-600 list-decimal list-inside space-y-1 ml-2",children:[l.jsxs("li",{children:["Go to ",l.jsx("a",{href:"https://contacts.google.com",target:"_blank",rel:"noopener noreferrer",className:"text-primary-600 hover:underline",children:"contacts.google.com"})]}),l.jsx("li",{children:'Click "Export" in the left sidebar'}),l.jsx("li",{children:'Select "Google CSV" format and click "Export"'})]}),d.isSuccess?l.jsx("div",{className:"rounded-lg border border-green-200 bg-green-50 p-4",children:l.jsxs("div",{className:"flex items-start gap-3",children:[l.jsx(xu,{className:"h-5 w-5 text-green-600 mt-0.5"}),l.jsxs("div",{className:"flex-1",children:[l.jsx("h3",{className:"font-medium text-green-900",children:"Import Complete"}),l.jsxs("div",{className:"mt-2 text-sm text-green-800 space-y-1",children:[l.jsxs("p",{children:["Contacts imported: ",d.data.stats.contacts_imported]}),l.jsxs("p",{children:["Contacts updated: ",d.data.stats.contacts_updated]}),l.jsxs("p",{children:["Contacts skipped: ",d.data.stats.contacts_skipped]}),l.jsxs("p",{children:["Organizations created: ",d.data.stats.companies_created]}),l.jsxs("p",{children:["Birthdays created: ",d.data.stats.dates_created]}),l.jsxs("p",{children:["Notes created: ",d.data.stats.notes_created]}),l.jsxs("p",{children:["Photos imported: ",d.data.stats.photos_imported]}),((b=d.data.stats.errors)==null?void 0:b.length)>0&&l.jsxs("div",{className:"mt-2 pt-2 border-t border-green-200",children:[l.jsx("p",{className:"font-medium",children:"Errors:"}),l.jsx("ul",{className:"list-disc list-inside",children:d.data.stats.errors.map((j,S)=>l.jsx("li",{children:j},S))})]})]}),l.jsx("button",{onClick:g,className:"mt-3 text-sm text-green-700 hover:text-green-800 font-medium",children:"Import another file"})]})]})}):l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:`relative rounded-lg border-2 border-dashed p-8 text-center transition-colors ${r?"border-primary-500 bg-primary-50":t?"border-green-300 bg-green-50":"border-gray-300 hover:border-gray-400"}`,onDragEnter:h,onDragLeave:h,onDragOver:h,onDrop:f,children:[l.jsx("input",{type:"file",accept:".csv",onChange:p,className:"absolute inset-0 w-full h-full opacity-0 cursor-pointer"}),c.isPending?l.jsxs("div",{className:"flex flex-col items-center gap-2",children:[l.jsx(Io,{className:"h-8 w-8 text-primary-600 animate-spin"}),l.jsx("p",{className:"text-gray-600",children:"Validating file..."})]}):t?l.jsxs("div",{className:"flex flex-col items-center gap-2",children:[l.jsx(gO,{className:"h-8 w-8 text-green-600"}),l.jsx("p",{className:"font-medium text-gray-900",children:t.name}),l.jsxs("p",{className:"text-sm text-gray-500",children:[(t.size/1024).toFixed(2)," KB"]})]}):l.jsxs("div",{className:"flex flex-col items-center gap-2",children:[l.jsx($o,{className:"h-8 w-8 text-gray-400"}),l.jsx("p",{className:"text-gray-600",children:"Drag and drop your Google Contacts CSV here, or click to browse"}),l.jsx("p",{className:"text-sm text-gray-500",children:"Supports Google CSV format"})]})]}),i&&l.jsx("div",{className:`rounded-lg border p-4 ${i.valid?"border-green-200 bg-green-50":"border-red-200 bg-red-50"}`,children:i.valid?l.jsxs("div",{className:"flex items-start gap-3",children:[l.jsx(xu,{className:"h-5 w-5 text-green-600 mt-0.5"}),l.jsxs("div",{className:"flex-1",children:[l.jsx("h3",{className:"font-medium text-green-900",children:"File validated successfully"}),l.jsxs("div",{className:"mt-3 grid grid-cols-2 sm:grid-cols-3 gap-3",children:[l.jsxs("div",{className:"flex items-center gap-2 text-sm text-green-800",children:[l.jsx(Mi,{className:"h-4 w-4"}),l.jsxs("span",{children:[i.summary.contacts," contacts"]})]}),i.summary.companies_count>0&&l.jsxs("div",{className:"flex items-center gap-2 text-sm text-green-800",children:[l.jsx(ur,{className:"h-4 w-4"}),l.jsxs("span",{children:[i.summary.companies_count," organizations"]})]}),i.summary.birthdays>0&&l.jsxs("div",{className:"flex items-center gap-2 text-sm text-green-800",children:[l.jsx(bK,{className:"h-4 w-4"}),l.jsxs("span",{children:[i.summary.birthdays," birthdays"]})]}),i.summary.notes>0&&l.jsxs("div",{className:"flex items-center gap-2 text-sm text-green-800",children:[l.jsx(TK,{className:"h-4 w-4"}),l.jsxs("span",{children:[i.summary.notes," notes"]})]}),i.summary.photos>0&&l.jsxs("div",{className:"flex items-center gap-2 text-sm text-green-800",children:[l.jsx(wK,{className:"h-4 w-4"}),l.jsxs("span",{children:[i.summary.photos," photos"]})]})]})]})]}):l.jsxs("div",{className:"flex items-start gap-3",children:[l.jsx(ws,{className:"h-5 w-5 text-red-600 mt-0.5"}),l.jsxs("div",{children:[l.jsx("h3",{className:"font-medium text-red-900",children:"Validation failed"}),l.jsx("p",{className:"text-sm text-red-700 mt-1",children:i.error})]})]})}),(i==null?void 0:i.valid)&&w&&l.jsx("div",{className:"rounded-lg border border-amber-200 bg-amber-50 p-4",children:l.jsxs("div",{className:"flex items-start gap-3",children:[l.jsx(ene,{className:"h-5 w-5 text-amber-600 mt-0.5 flex-shrink-0"}),l.jsxs("div",{className:"flex-1",children:[l.jsxs("h3",{className:"font-medium text-amber-900",children:[m.length," contact",m.length>1?"s":""," may already exist"]}),l.jsx("p",{className:"text-sm text-amber-700 mt-1",children:"Choose how to handle each potential duplicate:"}),l.jsx("div",{className:"mt-4 space-y-4",children:m.map(j=>l.jsx(Rae,{duplicate:j,decision:a[j.index]||"merge",onDecision:S=>y(j.index,S)},j.index))})]})]})}),(i==null?void 0:i.valid)&&l.jsxs("div",{className:"flex gap-3",children:[l.jsx("button",{onClick:x,disabled:d.isPending,className:"btn-primary flex items-center gap-2",children:d.isPending?l.jsxs(l.Fragment,{children:[l.jsx(Io,{className:"h-4 w-4 animate-spin"}),l.jsx("span",{className:"hidden md:inline",children:"Importing..."})]}):l.jsxs(l.Fragment,{children:[l.jsx($o,{className:"h-4 w-4"}),l.jsx("span",{className:"hidden md:inline",children:"Start Import"})]})}),l.jsx("button",{onClick:g,disabled:d.isPending,className:"btn-secondary",children:"Cancel"})]}),d.isError&&l.jsx("div",{className:"rounded-lg border border-red-200 bg-red-50 p-4",children:l.jsxs("div",{className:"flex items-start gap-3",children:[l.jsx(ws,{className:"h-5 w-5 text-red-600 mt-0.5"}),l.jsxs("div",{children:[l.jsx("h3",{className:"font-medium text-red-900",children:"Import failed"}),l.jsx("p",{className:"text-sm text-red-700 mt-1",children:((E=(_=d.error.response)==null?void 0:_.data)==null?void 0:E.message)||"An error occurred during import"})]})]})})]})]})}function Rae({duplicate:t,decision:e,onDecision:r}){var n,i;return l.jsxs("div",{className:"bg-white rounded-lg border border-amber-200 p-4",children:[l.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx("p",{className:"text-xs font-medium text-gray-500 uppercase tracking-wide mb-1",children:"From CSV"}),l.jsx("p",{className:"font-medium text-gray-900 truncate",children:t.csv_name}),t.csv_org&&l.jsx("p",{className:"text-sm text-gray-600 truncate",children:t.csv_org}),t.csv_email&&l.jsx("p",{className:"text-sm text-gray-500 truncate",children:t.csv_email})]}),l.jsx("div",{className:"hidden sm:flex items-center text-gray-400",children:l.jsx("span",{className:"text-lg",children:""})}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx("p",{className:"text-xs font-medium text-gray-500 uppercase tracking-wide mb-1",children:"Existing Contact"}),l.jsxs("div",{className:"flex items-start gap-3",children:[t.existing_photo?l.jsx("img",{src:t.existing_photo,alt:"",className:"w-10 h-10 rounded-full object-cover flex-shrink-0"}):l.jsx("div",{className:"w-10 h-10 rounded-full bg-gray-200 flex items-center justify-center flex-shrink-0",children:l.jsx("span",{className:"text-gray-500 text-sm font-medium",children:((i=(n=t.existing_name)==null?void 0:n.charAt(0))==null?void 0:i.toUpperCase())||"?"})}),l.jsxs("div",{className:"min-w-0",children:[l.jsx("p",{className:"font-medium text-gray-900 truncate",children:t.existing_name}),t.existing_org&&l.jsx("p",{className:"text-sm text-gray-600 truncate",children:t.existing_org}),t.existing_email&&l.jsx("p",{className:"text-sm text-gray-500 truncate",children:t.existing_email})]})]})]})]}),l.jsxs("div",{className:"mt-4 flex flex-wrap gap-2",children:[l.jsxs("button",{type:"button",onClick:()=>r("merge"),className:`flex items-center gap-1.5 px-3 py-1.5 rounded-md text-sm font-medium transition-colors ${e==="merge"?"bg-primary-100 text-primary-800 ring-2 ring-primary-500":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:[l.jsx(fne,{className:"h-4 w-4"}),"Update existing"]}),l.jsxs("button",{type:"button",onClick:()=>r("new"),className:`flex items-center gap-1.5 px-3 py-1.5 rounded-md text-sm font-medium transition-colors ${e==="new"?"bg-green-100 text-green-800 ring-2 ring-green-500":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:[l.jsx(mne,{className:"h-4 w-4"}),"Create new"]}),l.jsxs("button",{type:"button",onClick:()=>r("skip"),className:`flex items-center gap-1.5 px-3 py-1.5 rounded-md text-sm font-medium transition-colors ${e==="skip"?"bg-gray-200 text-gray-800 ring-2 ring-gray-500":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:[l.jsx(pne,{className:"h-4 w-4"}),"Skip"]})]})]})}const TR=[{id:"vcard",name:"vCard",description:"Apple Contacts, Outlook, Android",icon:rh,component:Pae},{id:"google",name:"Google Contacts",description:"CSV export from Google",icon:gO,component:Iae},{id:"monica",name:"Monica CRM",description:"SQL export from Monica",icon:sne,component:Tae}];function $ae(){var n;Xr("Import - Settings");const[t,e]=T.useState("vcard"),r=(n=TR.find(i=>i.id===t))==null?void 0:n.component;return l.jsxs("div",{className:"max-w-2xl mx-auto space-y-6",children:[l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsxs(oe,{to:"/settings",className:"btn-secondary flex items-center gap-2",children:[l.jsx(mn,{className:"w-4 h-4"}),l.jsx("span",{className:"hidden md:inline",children:"Back to Settings"})]}),l.jsx("h1",{className:"text-2xl font-semibold",children:"Import Contacts"})]}),l.jsxs("div",{className:"card p-6",children:[l.jsx("p",{className:"text-sm text-gray-600 mb-6",children:"Import your contacts from various sources. Existing contacts with matching names will be updated instead of duplicated."}),l.jsx("div",{className:"border-b border-gray-200 mb-6",children:l.jsx("nav",{className:"-mb-px flex space-x-6","aria-label":"Import types",children:TR.map(i=>{const s=i.icon,a=t===i.id;return l.jsxs("button",{onClick:()=>e(i.id),className:`group inline-flex items-center py-3 px-1 border-b-2 font-medium text-sm transition-colors ${a?"border-primary-500 text-primary-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[l.jsx(s,{className:`mr-2 h-5 w-5 ${a?"text-primary-500":"text-gray-400 group-hover:text-gray-500"}`}),l.jsxs("div",{className:"text-left",children:[l.jsx("span",{className:"block",children:i.name}),l.jsx("span",{className:`block text-xs font-normal ${a?"text-primary-400":"text-gray-400"}`,children:i.description})]})]},i.id)})})}),r&&l.jsx(r,{})]})]})}function kae(){Xr("Export Data - Settings");const t=e=>{e==="vcard"?window.location.href="/wp-json/prm/v1/export/vcard":e==="google-csv"&&(window.location.href="/wp-json/prm/v1/export/google-csv")};return l.jsxs("div",{className:"max-w-2xl mx-auto space-y-6",children:[l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsxs(oe,{to:"/settings",className:"btn-secondary flex items-center gap-2",children:[l.jsx(mn,{className:"w-4 h-4"}),l.jsx("span",{className:"hidden md:inline",children:"Back to Settings"})]}),l.jsx("h1",{className:"text-2xl font-semibold",children:"Export Data"})]}),l.jsxs("div",{className:"card p-6",children:[l.jsx("p",{className:"text-sm text-gray-600 mb-6",children:"Export all your contacts in a format compatible with other contact management systems."}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("button",{onClick:()=>t("vcard"),className:"w-full p-4 rounded-lg border border-gray-200 hover:bg-gray-50 text-left flex items-center gap-4",children:[l.jsx("div",{className:"p-3 bg-primary-50 rounded-lg",children:l.jsx(rh,{className:"w-6 h-6 text-primary-600"})}),l.jsxs("div",{className:"flex-1",children:[l.jsx("p",{className:"font-medium",children:"Export as vCard (.vcf)"}),l.jsx("p",{className:"text-sm text-gray-500",children:"Compatible with Apple Contacts, Outlook, Android, and most contact apps"})]}),l.jsx(Aj,{className:"w-5 h-5 text-gray-400"})]}),l.jsxs("button",{onClick:()=>t("google-csv"),className:"w-full p-4 rounded-lg border border-gray-200 hover:bg-gray-50 text-left flex items-center gap-4",children:[l.jsx("div",{className:"p-3 bg-primary-50 rounded-lg",children:l.jsx(gO,{className:"w-6 h-6 text-primary-600"})}),l.jsxs("div",{className:"flex-1",children:[l.jsx("p",{className:"font-medium",children:"Export as Google Contacts CSV"}),l.jsx("p",{className:"text-sm text-gray-500",children:"Import directly into Google Contacts or other CSV-compatible systems"})]}),l.jsx(Aj,{className:"w-5 h-5 text-gray-400"})]})]})]})]})}function Dae(){Xr("User Approval - Settings");const t=ot();if(!((window.prmConfig||{}).isAdmin||!1))return l.jsx("div",{className:"max-w-2xl mx-auto",children:l.jsxs("div",{className:"card p-8 text-center",children:[l.jsx(jK,{className:"w-16 h-16 mx-auto text-amber-500 mb-4"}),l.jsx("h1",{className:"text-2xl font-bold mb-2",children:"Access Denied"}),l.jsx("p",{className:"text-gray-600 mb-6",children:"You don't have permission to manage user approvals. This feature is only available to administrators."}),l.jsx(oe,{to:"/settings",className:"btn-primary",children:"Back to Settings"})]})});const{data:n=[],isLoading:i}=et({queryKey:["users"],queryFn:async()=>(await $e.getUsers()).data}),s=rt({mutationFn:p=>$e.approveUser(p),onSuccess:()=>{t.invalidateQueries({queryKey:["users"]})}}),a=rt({mutationFn:p=>$e.denyUser(p),onSuccess:()=>{t.invalidateQueries({queryKey:["users"]})}}),o=rt({mutationFn:p=>$e.deleteUser(p),onSuccess:()=>{t.invalidateQueries({queryKey:["users"]})}}),u=p=>{window.confirm("Are you sure you want to approve this user?")&&s.mutate(p)},c=p=>{window.confirm("Are you sure you want to deny this user? They will not be able to access the system.")&&a.mutate(p)},d=(p,v)=>{window.confirm(`Are you sure you want to delete ${v}? This will permanently delete their account and all their related data (people, organizations, dates). This action cannot be undone.`)&&o.mutate(p)};if(i)return l.jsx("div",{className:"flex items-center justify-center h-64",children:l.jsx(Io,{className:"w-8 h-8 animate-spin text-primary-600"})});const h=n.filter(p=>!p.is_approved),f=n.filter(p=>p.is_approved);return l.jsxs("div",{className:"max-w-2xl mx-auto space-y-6",children:[l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsxs(oe,{to:"/settings",className:"btn-secondary flex items-center gap-2",children:[l.jsx(mn,{className:"w-4 h-4"}),l.jsx("span",{className:"hidden md:inline",children:"Back to Settings"})]}),l.jsx("h1",{className:"text-2xl font-semibold",children:"User Approval"})]}),l.jsxs("div",{className:"space-y-6",children:[h.length>0&&l.jsxs("div",{children:[l.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Pending Approval"}),l.jsx("div",{className:"space-y-3",children:h.map(p=>l.jsxs("div",{className:"card p-4 flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("p",{className:"font-medium",children:p.name}),l.jsx("p",{className:"text-sm text-gray-500",children:p.email}),l.jsxs("p",{className:"text-xs text-gray-400",children:["Registered: ",new Date(p.registered).toLocaleDateString()]})]}),l.jsxs("div",{className:"flex gap-2",children:[l.jsxs("button",{onClick:()=>u(p.id),disabled:s.isPending||o.isPending,className:"btn-primary flex items-center gap-2",children:[l.jsx(XI,{className:"w-4 h-4"}),"Approve"]}),l.jsxs("button",{onClick:()=>c(p.id),disabled:a.isPending||o.isPending,className:"btn-secondary flex items-center gap-2",children:[l.jsx(eR,{className:"w-4 h-4"}),"Deny"]}),l.jsxs("button",{onClick:()=>d(p.id,p.name),disabled:s.isPending||a.isPending||o.isPending,className:"btn-danger flex items-center gap-2",children:[l.jsx(Sn,{className:"w-4 h-4"}),"Delete"]})]})]},p.id))})]}),f.length>0&&l.jsxs("div",{children:[l.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Approved Users"}),l.jsx("div",{className:"space-y-3",children:f.map(p=>l.jsxs("div",{className:"card p-4 flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsxs("p",{className:"font-medium flex items-center gap-2",children:[p.name,l.jsx(XI,{className:"w-4 h-4 text-green-600"})]}),l.jsx("p",{className:"text-sm text-gray-500",children:p.email})]}),l.jsxs("div",{className:"flex gap-2",children:[l.jsxs("button",{onClick:()=>c(p.id),disabled:a.isPending||o.isPending,className:"btn-secondary flex items-center gap-2",children:[l.jsx(eR,{className:"w-4 h-4"}),"Revoke Access"]}),l.jsxs("button",{onClick:()=>d(p.id,p.name),disabled:a.isPending||o.isPending,className:"btn-danger flex items-center gap-2",children:[l.jsx(Sn,{className:"w-4 h-4"}),"Delete"]})]})]},p.id))})]}),n.length===0&&l.jsx("div",{className:"card p-8 text-center",children:l.jsx("p",{className:"text-gray-600",children:"No Caelis users found."})})]})]})}/**
 * vis-data
 * http://visjs.org/
 *
 * Manage unstructured data using DataSet. Add, update, and remove data, and listen for changes in the data.
 *
 * @version 8.0.3
 * @date    2025-09-10T16:22:00.613Z
 *
 * @copyright (c) 2011-2017 Almende B.V, http://almende.com
 * @copyright (c) 2017-2019 visjs contributors, https://github.com/visjs
 *
 * @license
 * vis.js is dual licensed under both
 *
 *   1. The Apache 2.0 License
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 *   and
 *
 *   2. The MIT License
 *      http://opensource.org/licenses/MIT
 *
 * vis.js may be distributed under either license.
 */var PR=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Ke(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Lv={exports:{}},IR={},Tc,RR;function rr(){if(RR)return Tc;RR=1;var t=function(e){return e&&e.Math===Math&&e};return Tc=t(typeof globalThis=="object"&&globalThis)||t(typeof window=="object"&&window)||t(typeof self=="object"&&self)||t(typeof PR=="object"&&PR)||t(typeof Tc=="object"&&Tc)||function(){return this}()||Function("return this")(),Tc}var Bv,$R;function ht(){return $R||($R=1,Bv=function(t){try{return!!t()}catch{return!0}}),Bv}var zv,kR;function ah(){if(kR)return zv;kR=1;var t=ht();return zv=!t(function(){var e=(function(){}).bind();return typeof e!="function"||e.hasOwnProperty("prototype")}),zv}var Uv,DR;function gm(){if(DR)return Uv;DR=1;var t=ah(),e=Function.prototype,r=e.apply,n=e.call;return Uv=typeof Reflect=="object"&&Reflect.apply||(t?n.bind(r):function(){return n.apply(r,arguments)}),Uv}var Wv,MR;function mt(){if(MR)return Wv;MR=1;var t=ah(),e=Function.prototype,r=e.call,n=t&&e.bind.bind(r,r);return Wv=t?n:function(i){return function(){return r.apply(i,arguments)}},Wv}var Vv,qR;function Os(){if(qR)return Vv;qR=1;var t=mt(),e=t({}.toString),r=t("".slice);return Vv=function(n){return r(e(n),8,-1)},Vv}var Hv,AR;function oG(){if(AR)return Hv;AR=1;var t=Os(),e=mt();return Hv=function(r){if(t(r)==="Function")return e(r)},Hv}var Kv,FR;function vr(){if(FR)return Kv;FR=1;var t=typeof document=="object"&&document.all;return Kv=typeof t>"u"&&t!==void 0?function(e){return typeof e=="function"||e===t}:function(e){return typeof e=="function"},Kv}var Gv={},Yv,LR;function nr(){if(LR)return Yv;LR=1;var t=ht();return Yv=!t(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!==7}),Yv}var Qv,BR;function yn(){if(BR)return Qv;BR=1;var t=ah(),e=Function.prototype.call;return Qv=t?e.bind(e):function(){return e.apply(e,arguments)},Qv}var Xv={},zR;function PO(){if(zR)return Xv;zR=1;var t={}.propertyIsEnumerable,e=Object.getOwnPropertyDescriptor,r=e&&!t.call({1:2},1);return Xv.f=r?function(i){var s=e(this,i);return!!s&&s.enumerable}:t,Xv}var Jv,UR;function oh(){return UR||(UR=1,Jv=function(t,e){return{enumerable:!(t&1),configurable:!(t&2),writable:!(t&4),value:e}}),Jv}var Zv,WR;function ym(){if(WR)return Zv;WR=1;var t=mt(),e=ht(),r=Os(),n=Object,i=t("".split);return Zv=e(function(){return!n("z").propertyIsEnumerable(0)})?function(s){return r(s)==="String"?i(s,""):n(s)}:n,Zv}var eg,VR;function lh(){return VR||(VR=1,eg=function(t){return t==null}),eg}var tg,HR;function Yo(){if(HR)return tg;HR=1;var t=lh(),e=TypeError;return tg=function(r){if(t(r))throw new e("Can't call method on "+r);return r},tg}var rg,KR;function Li(){if(KR)return rg;KR=1;var t=ym(),e=Yo();return rg=function(r){return t(e(r))},rg}var ng,GR;function Jr(){if(GR)return ng;GR=1;var t=vr();return ng=function(e){return typeof e=="object"?e!==null:t(e)},ng}var ig,YR;function cr(){return YR||(YR=1,ig={}),ig}var sg,QR;function In(){if(QR)return sg;QR=1;var t=cr(),e=rr(),r=vr(),n=function(i){return r(i)?i:void 0};return sg=function(i,s){return arguments.length<2?n(t[i])||n(e[i]):t[i]&&t[i][s]||e[i]&&e[i][s]},sg}var ag,XR;function gr(){if(XR)return ag;XR=1;var t=mt();return ag=t({}.isPrototypeOf),ag}var og,JR;function Bu(){if(JR)return og;JR=1;var t=rr(),e=t.navigator,r=e&&e.userAgent;return og=r?String(r):"",og}var lg,ZR;function uh(){if(ZR)return lg;ZR=1;var t=rr(),e=Bu(),r=t.process,n=t.Deno,i=r&&r.versions||n&&n.version,s=i&&i.v8,a,o;return s&&(a=s.split("."),o=a[0]>0&&a[0]<4?1:+(a[0]+a[1])),!o&&e&&(a=e.match(/Edge\/(\d+)/),(!a||a[1]>=74)&&(a=e.match(/Chrome\/(\d+)/),a&&(o=+a[1]))),lg=o,lg}var ug,e$;function zu(){if(e$)return ug;e$=1;var t=uh(),e=ht(),r=rr(),n=r.String;return ug=!!Object.getOwnPropertySymbols&&!e(function(){var i=Symbol("symbol detection");return!n(i)||!(Object(i)instanceof Symbol)||!Symbol.sham&&t&&t<41}),ug}var cg,t$;function lG(){if(t$)return cg;t$=1;var t=zu();return cg=t&&!Symbol.sham&&typeof Symbol.iterator=="symbol",cg}var dg,r$;function ch(){if(r$)return dg;r$=1;var t=In(),e=vr(),r=gr(),n=lG(),i=Object;return dg=n?function(s){return typeof s=="symbol"}:function(s){var a=t("Symbol");return e(a)&&r(a.prototype,i(s))},dg}var hg,n$;function Uu(){if(n$)return hg;n$=1;var t=String;return hg=function(e){try{return t(e)}catch{return"Object"}},hg}var fg,i$;function Ts(){if(i$)return fg;i$=1;var t=vr(),e=Uu(),r=TypeError;return fg=function(n){if(t(n))return n;throw new r(e(n)+" is not a function")},fg}var pg,s$;function IO(){if(s$)return pg;s$=1;var t=Ts(),e=lh();return pg=function(r,n){var i=r[n];return e(i)?void 0:t(i)},pg}var mg,a$;function Mae(){if(a$)return mg;a$=1;var t=yn(),e=vr(),r=Jr(),n=TypeError;return mg=function(i,s){var a,o;if(s==="string"&&e(a=i.toString)&&!r(o=t(a,i))||e(a=i.valueOf)&&!r(o=t(a,i))||s!=="string"&&e(a=i.toString)&&!r(o=t(a,i)))return o;throw new n("Can't convert object to primitive value")},mg}var vg={exports:{}},gg,o$;function Wu(){return o$||(o$=1,gg=!0),gg}var yg,l$;function qae(){if(l$)return yg;l$=1;var t=rr(),e=Object.defineProperty;return yg=function(r,n){try{e(t,r,{value:n,configurable:!0,writable:!0})}catch{t[r]=n}return n},yg}var u$;function RO(){if(u$)return vg.exports;u$=1;var t=Wu(),e=rr(),r=qae(),n="__core-js_shared__",i=vg.exports=e[n]||r(n,{});return(i.versions||(i.versions=[])).push({version:"3.44.0",mode:t?"pure":"global",copyright:" 2014-2025 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.44.0/LICENSE",source:"https://github.com/zloirock/core-js"}),vg.exports}var bg,c$;function Vu(){if(c$)return bg;c$=1;var t=RO();return bg=function(e,r){return t[e]||(t[e]=r||{})},bg}var xg,d$;function yi(){if(d$)return xg;d$=1;var t=Yo(),e=Object;return xg=function(r){return e(t(r))},xg}var wg,h$;function yr(){if(h$)return wg;h$=1;var t=mt(),e=yi(),r=t({}.hasOwnProperty);return wg=Object.hasOwn||function(i,s){return r(e(i),s)},wg}var _g,f$;function bm(){if(f$)return _g;f$=1;var t=mt(),e=0,r=Math.random(),n=t(1.1.toString);return _g=function(i){return"Symbol("+(i===void 0?"":i)+")_"+n(++e+r,36)},_g}var Sg,p$;function br(){if(p$)return Sg;p$=1;var t=rr(),e=Vu(),r=yr(),n=bm(),i=zu(),s=lG(),a=t.Symbol,o=e("wks"),u=s?a.for||a:a&&a.withoutSetter||n;return Sg=function(c){return r(o,c)||(o[c]=i&&r(a,c)?a[c]:u("Symbol."+c)),o[c]},Sg}var Eg,m$;function uG(){if(m$)return Eg;m$=1;var t=yn(),e=Jr(),r=ch(),n=IO(),i=Mae(),s=br(),a=TypeError,o=s("toPrimitive");return Eg=function(u,c){if(!e(u)||r(u))return u;var d=n(u,o),h;if(d){if(c===void 0&&(c="default"),h=t(d,u,c),!e(h)||r(h))return h;throw new a("Can't convert object to primitive value")}return c===void 0&&(c="number"),i(u,c)},Eg}var Ng,v$;function $O(){if(v$)return Ng;v$=1;var t=uG(),e=ch();return Ng=function(r){var n=t(r,"string");return e(n)?n:n+""},Ng}var jg,g$;function cG(){if(g$)return jg;g$=1;var t=rr(),e=Jr(),r=t.document,n=e(r)&&e(r.createElement);return jg=function(i){return n?r.createElement(i):{}},jg}var Cg,y$;function dG(){if(y$)return Cg;y$=1;var t=nr(),e=ht(),r=cG();return Cg=!t&&!e(function(){return Object.defineProperty(r("div"),"a",{get:function(){return 7}}).a!==7}),Cg}var b$;function xm(){if(b$)return Gv;b$=1;var t=nr(),e=yn(),r=PO(),n=oh(),i=Li(),s=$O(),a=yr(),o=dG(),u=Object.getOwnPropertyDescriptor;return Gv.f=t?u:function(d,h){if(d=i(d),h=s(h),o)try{return u(d,h)}catch{}if(a(d,h))return n(!e(r.f,d,h),d[h])},Gv}var Og,x$;function Aae(){if(x$)return Og;x$=1;var t=ht(),e=vr(),r=/#|\.prototype\./,n=function(u,c){var d=s[i(u)];return d===o?!0:d===a?!1:e(c)?t(c):!!c},i=n.normalize=function(u){return String(u).replace(r,".").toLowerCase()},s=n.data={},a=n.NATIVE="N",o=n.POLYFILL="P";return Og=n,Og}var Tg,w$;function wm(){if(w$)return Tg;w$=1;var t=oG(),e=Ts(),r=ah(),n=t(t.bind);return Tg=function(i,s){return e(i),s===void 0?i:r?n(i,s):function(){return i.apply(s,arguments)}},Tg}var Pg={},Ig,_$;function hG(){if(_$)return Ig;_$=1;var t=nr(),e=ht();return Ig=t&&e(function(){return Object.defineProperty(function(){},"prototype",{value:42,writable:!1}).prototype!==42}),Ig}var Rg,S$;function Ps(){if(S$)return Rg;S$=1;var t=Jr(),e=String,r=TypeError;return Rg=function(n){if(t(n))return n;throw new r(e(n)+" is not an object")},Rg}var E$;function Yn(){if(E$)return Pg;E$=1;var t=nr(),e=dG(),r=hG(),n=Ps(),i=$O(),s=TypeError,a=Object.defineProperty,o=Object.getOwnPropertyDescriptor,u="enumerable",c="configurable",d="writable";return Pg.f=t?r?function(f,p,v){if(n(f),p=i(p),n(v),typeof f=="function"&&p==="prototype"&&"value"in v&&d in v&&!v[d]){var y=o(f,p);y&&y[d]&&(f[p]=v.value,v={configurable:c in v?v[c]:y[c],enumerable:u in v?v[u]:y[u],writable:!1})}return a(f,p,v)}:a:function(f,p,v){if(n(f),p=i(p),n(v),e)try{return a(f,p,v)}catch{}if("get"in v||"set"in v)throw new s("Accessors not supported");return"value"in v&&(f[p]=v.value),f},Pg}var $g,N$;function Hu(){if(N$)return $g;N$=1;var t=nr(),e=Yn(),r=oh();return $g=t?function(n,i,s){return e.f(n,i,r(1,s))}:function(n,i,s){return n[i]=s,n},$g}var kg,j$;function De(){if(j$)return kg;j$=1;var t=rr(),e=gm(),r=oG(),n=vr(),i=xm().f,s=Aae(),a=cr(),o=wm(),u=Hu(),c=yr(),d=function(h){var f=function(p,v,y){if(this instanceof f){switch(arguments.length){case 0:return new h;case 1:return new h(p);case 2:return new h(p,v)}return new h(p,v,y)}return e(h,this,arguments)};return f.prototype=h.prototype,f};return kg=function(h,f){var p=h.target,v=h.global,y=h.stat,x=h.proto,g=v?t:y?t[p]:t[p]&&t[p].prototype,m=v?a:a[p]||u(a,p,{})[p],w=m.prototype,b,_,E,j,S,C,N,O,P;for(j in f)b=s(v?j:p+(y?".":"#")+j,h.forced),_=!b&&g&&c(g,j),C=m[j],_&&(h.dontCallGetSet?(P=i(g,j),N=P&&P.value):N=g[j]),S=_&&N?N:f[j],!(!b&&!x&&typeof C==typeof S)&&(h.bind&&_?O=o(S,t):h.wrap&&_?O=d(S):x&&n(S)?O=r(S):O=S,(h.sham||S&&S.sham||C&&C.sham)&&u(O,"sham",!0),u(m,j,O),x&&(E=p+"Prototype",c(a,E)||u(a,E,{}),u(a[E],j,S),h.real&&w&&(b||!w[j])&&u(w,j,S)))},kg}var C$;function Fae(){if(C$)return IR;C$=1;var t=De(),e=nr(),r=Yn().f;return t({target:"Object",stat:!0,forced:Object.defineProperty!==r,sham:!e},{defineProperty:r}),IR}var O$;function Lae(){if(O$)return Lv.exports;O$=1,Fae();var t=cr(),e=t.Object,r=Lv.exports=function(i,s,a){return e.defineProperty(i,s,a)};return e.defineProperty.sham&&(r.sham=!0),Lv.exports}var Dg,T$;function fG(){if(T$)return Dg;T$=1;var t=Lae();return Dg=t,Dg}var Mg,P$;function Bae(){if(P$)return Mg;P$=1;var t=fG();return Mg=t,Mg}var qg,I$;function zae(){if(I$)return qg;I$=1;var t=Bae();return qg=t,qg}var Ag,R$;function Uae(){return R$||(R$=1,Ag=zae()),Ag}var Wae=Uae(),Vae=Ke(Wae),$$={},Fg,k$;function Qo(){if(k$)return Fg;k$=1;var t=Os();return Fg=Array.isArray||function(r){return t(r)==="Array"},Fg}var Lg,D$;function Hae(){if(D$)return Lg;D$=1;var t=Math.ceil,e=Math.floor;return Lg=Math.trunc||function(n){var i=+n;return(i>0?e:t)(i)},Lg}var Bg,M$;function Ku(){if(M$)return Bg;M$=1;var t=Hae();return Bg=function(e){var r=+e;return r!==r||r===0?0:t(r)},Bg}var zg,q$;function pG(){if(q$)return zg;q$=1;var t=Ku(),e=Math.min;return zg=function(r){var n=t(r);return n>0?e(n,9007199254740991):0},zg}var Ug,A$;function Ra(){if(A$)return Ug;A$=1;var t=pG();return Ug=function(e){return t(e.length)},Ug}var Wg,F$;function mG(){if(F$)return Wg;F$=1;var t=TypeError,e=9007199254740991;return Wg=function(r){if(r>e)throw t("Maximum allowed index exceeded");return r},Wg}var Vg,L$;function _m(){if(L$)return Vg;L$=1;var t=nr(),e=Yn(),r=oh();return Vg=function(n,i,s){t?e.f(n,i,r(0,s)):n[i]=s},Vg}var Hg,B$;function kO(){if(B$)return Hg;B$=1;var t=br(),e=t("toStringTag"),r={};return r[e]="z",Hg=String(r)==="[object z]",Hg}var Kg,z$;function $a(){if(z$)return Kg;z$=1;var t=kO(),e=vr(),r=Os(),n=br(),i=n("toStringTag"),s=Object,a=r(function(){return arguments}())==="Arguments",o=function(u,c){try{return u[c]}catch{}};return Kg=t?r:function(u){var c,d,h;return u===void 0?"Undefined":u===null?"Null":typeof(d=o(c=s(u),i))=="string"?d:a?r(c):(h=r(c))==="Object"&&e(c.callee)?"Arguments":h},Kg}var Gg,U$;function Kae(){if(U$)return Gg;U$=1;var t=mt(),e=vr(),r=RO(),n=t(Function.toString);return e(r.inspectSource)||(r.inspectSource=function(i){return n(i)}),Gg=r.inspectSource,Gg}var Yg,W$;function vG(){if(W$)return Yg;W$=1;var t=mt(),e=ht(),r=vr(),n=$a(),i=In(),s=Kae(),a=function(){},o=i("Reflect","construct"),u=/^\s*(?:class|function)\b/,c=t(u.exec),d=!u.test(a),h=function(v){if(!r(v))return!1;try{return o(a,[],v),!0}catch{return!1}},f=function(v){if(!r(v))return!1;switch(n(v)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return d||!!c(u,s(v))}catch{return!0}};return f.sham=!0,Yg=!o||e(function(){var p;return h(h.call)||!h(Object)||!h(function(){p=!0})||p})?f:h,Yg}var Qg,V$;function Gae(){if(V$)return Qg;V$=1;var t=Qo(),e=vG(),r=Jr(),n=br(),i=n("species"),s=Array;return Qg=function(a){var o;return t(a)&&(o=a.constructor,e(o)&&(o===s||t(o.prototype))?o=void 0:r(o)&&(o=o[i],o===null&&(o=void 0))),o===void 0?s:o},Qg}var Xg,H$;function DO(){if(H$)return Xg;H$=1;var t=Gae();return Xg=function(e,r){return new(t(e))(r===0?0:r)},Xg}var Jg,K$;function dh(){if(K$)return Jg;K$=1;var t=ht(),e=br(),r=uh(),n=e("species");return Jg=function(i){return r>=51||!t(function(){var s=[],a=s.constructor={};return a[n]=function(){return{foo:1}},s[i](Boolean).foo!==1})},Jg}var G$;function gG(){if(G$)return $$;G$=1;var t=De(),e=ht(),r=Qo(),n=Jr(),i=yi(),s=Ra(),a=mG(),o=_m(),u=DO(),c=dh(),d=br(),h=uh(),f=d("isConcatSpreadable"),p=h>=51||!e(function(){var x=[];return x[f]=!1,x.concat()[0]!==x}),v=function(x){if(!n(x))return!1;var g=x[f];return g!==void 0?!!g:r(x)},y=!p||!c("concat");return t({target:"Array",proto:!0,arity:1,forced:y},{concat:function(g){var m=i(this),w=u(m,0),b=0,_,E,j,S,C;for(_=-1,j=arguments.length;_<j;_++)if(C=_===-1?m:arguments[_],v(C))for(S=s(C),a(b+S),E=0;E<S;E++,b++)E in C&&o(w,b,C[E]);else a(b+1),o(w,b++,C);return w.length=b,w}}),$$}var Y$={},Q$={},Zg,X$;function ka(){if(X$)return Zg;X$=1;var t=$a(),e=String;return Zg=function(r){if(t(r)==="Symbol")throw new TypeError("Cannot convert a Symbol value to a string");return e(r)},Zg}var ey={},ty,J$;function MO(){if(J$)return ty;J$=1;var t=Ku(),e=Math.max,r=Math.min;return ty=function(n,i){var s=t(n);return s<0?e(s+i,0):r(s,i)},ty}var ry,Z$;function Yae(){if(Z$)return ry;Z$=1;var t=Li(),e=MO(),r=Ra(),n=function(i){return function(s,a,o){var u=t(s),c=r(u);if(c===0)return!i&&-1;var d=e(o,c),h;if(i&&a!==a){for(;c>d;)if(h=u[d++],h!==h)return!0}else for(;c>d;d++)if((i||d in u)&&u[d]===a)return i||d||0;return!i&&-1}};return ry={includes:n(!0),indexOf:n(!1)},ry}var ny,ek;function hh(){return ek||(ek=1,ny={}),ny}var iy,tk;function yG(){if(tk)return iy;tk=1;var t=mt(),e=yr(),r=Li(),n=Yae().indexOf,i=hh(),s=t([].push);return iy=function(a,o){var u=r(a),c=0,d=[],h;for(h in u)!e(i,h)&&e(u,h)&&s(d,h);for(;o.length>c;)e(u,h=o[c++])&&(~n(d,h)||s(d,h));return d},iy}var sy,rk;function qO(){return rk||(rk=1,sy=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]),sy}var ay,nk;function Sm(){if(nk)return ay;nk=1;var t=yG(),e=qO();return ay=Object.keys||function(n){return t(n,e)},ay}var ik;function AO(){if(ik)return ey;ik=1;var t=nr(),e=hG(),r=Yn(),n=Ps(),i=Li(),s=Sm();return ey.f=t&&!e?Object.defineProperties:function(o,u){n(o);for(var c=i(u),d=s(u),h=d.length,f=0,p;h>f;)r.f(o,p=d[f++],c[p]);return o},ey}var oy,sk;function Qae(){if(sk)return oy;sk=1;var t=In();return oy=t("document","documentElement"),oy}var ly,ak;function Em(){if(ak)return ly;ak=1;var t=Vu(),e=bm(),r=t("keys");return ly=function(n){return r[n]||(r[n]=e(n))},ly}var uy,ok;function fh(){if(ok)return uy;ok=1;var t=Ps(),e=AO(),r=qO(),n=hh(),i=Qae(),s=cG(),a=Em(),o=">",u="<",c="prototype",d="script",h=a("IE_PROTO"),f=function(){},p=function(m){return u+d+o+m+u+"/"+d+o},v=function(m){m.write(p("")),m.close();var w=m.parentWindow.Object;return m=null,w},y=function(){var m=s("iframe"),w="java"+d+":",b;return m.style.display="none",i.appendChild(m),m.src=String(w),b=m.contentWindow.document,b.open(),b.write(p("document.F=Object")),b.close(),b.F},x,g=function(){try{x=new ActiveXObject("htmlfile")}catch{}g=typeof document<"u"?document.domain&&x?v(x):y():v(x);for(var m=r.length;m--;)delete g[c][r[m]];return g()};return n[h]=!0,uy=Object.create||function(w,b){var _;return w!==null?(f[c]=t(w),_=new f,f[c]=null,_[h]=w):_=g(),b===void 0?_:e.f(_,b)},uy}var cy={},lk;function Nm(){if(lk)return cy;lk=1;var t=yG(),e=qO(),r=e.concat("length","prototype");return cy.f=Object.getOwnPropertyNames||function(i){return t(i,r)},cy}var dy={},hy,uk;function Gu(){if(uk)return hy;uk=1;var t=mt();return hy=t([].slice),hy}var ck;function bG(){if(ck)return dy;ck=1;var t=Os(),e=Li(),r=Nm().f,n=Gu(),i=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],s=function(a){try{return r(a)}catch{return n(i)}};return dy.f=function(o){return i&&t(o)==="Window"?s(o):r(e(o))},dy}var fy={},dk;function jm(){return dk||(dk=1,fy.f=Object.getOwnPropertySymbols),fy}var py,hk;function ph(){if(hk)return py;hk=1;var t=Hu();return py=function(e,r,n,i){return i&&i.enumerable?e[r]=n:t(e,r,n),e},py}var my,fk;function FO(){if(fk)return my;fk=1;var t=Yn();return my=function(e,r,n){return t.f(e,r,n)},my}var vy={},pk;function Cm(){if(pk)return vy;pk=1;var t=br();return vy.f=t,vy}var gy,mk;function Dt(){if(mk)return gy;mk=1;var t=cr(),e=yr(),r=Cm(),n=Yn().f;return gy=function(i){var s=t.Symbol||(t.Symbol={});e(s,i)||n(s,i,{value:r.f(i)})},gy}var yy,vk;function xG(){if(vk)return yy;vk=1;var t=yn(),e=In(),r=br(),n=ph();return yy=function(){var i=e("Symbol"),s=i&&i.prototype,a=s&&s.valueOf,o=r("toPrimitive");s&&!s[o]&&n(s,o,function(u){return t(a,this)},{arity:1})},yy}var by,gk;function Xae(){if(gk)return by;gk=1;var t=kO(),e=$a();return by=t?{}.toString:function(){return"[object "+e(this)+"]"},by}var xy,yk;function Xo(){if(yk)return xy;yk=1;var t=kO(),e=Yn().f,r=Hu(),n=yr(),i=Xae(),s=br(),a=s("toStringTag");return xy=function(o,u,c,d){var h=c?o:o&&o.prototype;h&&(n(h,a)||e(h,a,{configurable:!0,value:u}),d&&!t&&r(h,"toString",i))},xy}var wy,bk;function Jae(){if(bk)return wy;bk=1;var t=rr(),e=vr(),r=t.WeakMap;return wy=e(r)&&/native code/.test(String(r)),wy}var _y,xk;function mh(){if(xk)return _y;xk=1;var t=Jae(),e=rr(),r=Jr(),n=Hu(),i=yr(),s=RO(),a=Em(),o=hh(),u="Object already initialized",c=e.TypeError,d=e.WeakMap,h,f,p,v=function(m){return p(m)?f(m):h(m,{})},y=function(m){return function(w){var b;if(!r(w)||(b=f(w)).type!==m)throw new c("Incompatible receiver, "+m+" required");return b}};if(t||s.state){var x=s.state||(s.state=new d);x.get=x.get,x.has=x.has,x.set=x.set,h=function(m,w){if(x.has(m))throw new c(u);return w.facade=m,x.set(m,w),w},f=function(m){return x.get(m)||{}},p=function(m){return x.has(m)}}else{var g=a("state");o[g]=!0,h=function(m,w){if(i(m,g))throw new c(u);return w.facade=m,n(m,g,w),w},f=function(m){return i(m,g)?m[g]:{}},p=function(m){return i(m,g)}}return _y={set:h,get:f,has:p,enforce:v,getterFor:y},_y}var Sy,wk;function Yu(){if(wk)return Sy;wk=1;var t=wm(),e=mt(),r=ym(),n=yi(),i=Ra(),s=DO(),a=e([].push),o=function(u){var c=u===1,d=u===2,h=u===3,f=u===4,p=u===6,v=u===7,y=u===5||p;return function(x,g,m,w){for(var b=n(x),_=r(b),E=i(_),j=t(g,m),S=0,C=w||s,N=c?C(x,E):d||v?C(x,0):void 0,O,P;E>S;S++)if((y||S in _)&&(O=_[S],P=j(O,S,b),u))if(c)N[S]=P;else if(P)switch(u){case 3:return!0;case 5:return O;case 6:return S;case 2:a(N,O)}else switch(u){case 4:return!1;case 7:a(N,O)}return p?-1:h||f?f:N}};return Sy={forEach:o(0),map:o(1),filter:o(2),some:o(3),every:o(4),find:o(5),findIndex:o(6),filterReject:o(7)},Sy}var _k;function Zae(){if(_k)return Q$;_k=1;var t=De(),e=rr(),r=yn(),n=mt(),i=Wu(),s=nr(),a=zu(),o=ht(),u=yr(),c=gr(),d=Ps(),h=Li(),f=$O(),p=ka(),v=oh(),y=fh(),x=Sm(),g=Nm(),m=bG(),w=jm(),b=xm(),_=Yn(),E=AO(),j=PO(),S=ph(),C=FO(),N=Vu(),O=Em(),P=hh(),I=bm(),D=br(),F=Cm(),M=Dt(),V=xG(),q=Xo(),H=mh(),B=Yu().forEach,W=O("hidden"),G="Symbol",de="prototype",xe=H.set,Ie=H.getterFor(G),me=Object[de],Ce=e.Symbol,ke=Ce&&Ce[de],Ze=e.RangeError,Tt=e.TypeError,nt=e.QObject,X=b.f,Se=_.f,Me=m.f,Ue=j.f,Nt=n([].push),Ne=N("symbols"),Le=N("op-symbols"),_t=N("wks"),Pt=!nt||!nt[de]||!nt[de].findChild,$=function(ve,ne,he){var ue=X(me,ne);ue&&delete me[ne],Se(ve,ne,he),ue&&ve!==me&&Se(me,ne,ue)},A=s&&o(function(){return y(Se({},"a",{get:function(){return Se(this,"a",{value:7}).a}})).a!==7})?$:Se,z=function(ve,ne){var he=Ne[ve]=y(ke);return xe(he,{type:G,tag:ve,description:ne}),s||(he.description=ne),he},se=function(ne,he,ue){ne===me&&se(Le,he,ue),d(ne);var _e=f(he);return d(ue),u(Ne,_e)?(ue.enumerable?(u(ne,W)&&ne[W][_e]&&(ne[W][_e]=!1),ue=y(ue,{enumerable:v(0,!1)})):(u(ne,W)||Se(ne,W,v(1,y(null))),ne[W][_e]=!0),A(ne,_e,ue)):Se(ne,_e,ue)},Z=function(ne,he){d(ne);var ue=h(he),_e=x(ue).concat(Xe(ue));return B(_e,function(He){(!s||r(K,ue,He))&&se(ne,He,ue[He])}),ne},J=function(ne,he){return he===void 0?y(ne):Z(y(ne),he)},K=function(ne){var he=f(ne),ue=r(Ue,this,he);return this===me&&u(Ne,he)&&!u(Le,he)?!1:ue||!u(this,he)||!u(Ne,he)||u(this,W)&&this[W][he]?ue:!0},le=function(ne,he){var ue=h(ne),_e=f(he);if(!(ue===me&&u(Ne,_e)&&!u(Le,_e))){var He=X(ue,_e);return He&&u(Ne,_e)&&!(u(ue,W)&&ue[W][_e])&&(He.enumerable=!0),He}},pe=function(ne){var he=Me(h(ne)),ue=[];return B(he,function(_e){!u(Ne,_e)&&!u(P,_e)&&Nt(ue,_e)}),ue},Xe=function(ve){var ne=ve===me,he=Me(ne?Le:h(ve)),ue=[];return B(he,function(_e){u(Ne,_e)&&(!ne||u(me,_e))&&Nt(ue,Ne[_e])}),ue};return a||(Ce=function(){if(c(ke,this))throw new Tt("Symbol is not a constructor");var ne=!arguments.length||arguments[0]===void 0?void 0:p(arguments[0]),he=I(ne),ue=function(_e){var He=this===void 0?e:this;He===me&&r(ue,Le,_e),u(He,W)&&u(He[W],he)&&(He[W][he]=!1);var kn=v(1,_e);try{A(He,he,kn)}catch(Ui){if(!(Ui instanceof Ze))throw Ui;$(He,he,kn)}};return s&&Pt&&A(me,he,{configurable:!0,set:ue}),z(he,ne)},ke=Ce[de],S(ke,"toString",function(){return Ie(this).tag}),S(Ce,"withoutSetter",function(ve){return z(I(ve),ve)}),j.f=K,_.f=se,E.f=Z,b.f=le,g.f=m.f=pe,w.f=Xe,F.f=function(ve){return z(D(ve),ve)},s&&(C(ke,"description",{configurable:!0,get:function(){return Ie(this).description}}),i||S(me,"propertyIsEnumerable",K,{unsafe:!0}))),t({global:!0,constructor:!0,wrap:!0,forced:!a,sham:!a},{Symbol:Ce}),B(x(_t),function(ve){M(ve)}),t({target:G,stat:!0,forced:!a},{useSetter:function(){Pt=!0},useSimple:function(){Pt=!1}}),t({target:"Object",stat:!0,forced:!a,sham:!s},{create:J,defineProperty:se,defineProperties:Z,getOwnPropertyDescriptor:le}),t({target:"Object",stat:!0,forced:!a},{getOwnPropertyNames:pe}),V(),q(Ce,G),P[W]=!0,Q$}var Sk={},Ey,Ek;function wG(){if(Ek)return Ey;Ek=1;var t=zu();return Ey=t&&!!Symbol.for&&!!Symbol.keyFor,Ey}var Nk;function eoe(){if(Nk)return Sk;Nk=1;var t=De(),e=In(),r=yr(),n=ka(),i=Vu(),s=wG(),a=i("string-to-symbol-registry"),o=i("symbol-to-string-registry");return t({target:"Symbol",stat:!0,forced:!s},{for:function(u){var c=n(u);if(r(a,c))return a[c];var d=e("Symbol")(c);return a[c]=d,o[d]=c,d}}),Sk}var jk={},Ck;function toe(){if(Ck)return jk;Ck=1;var t=De(),e=yr(),r=ch(),n=Uu(),i=Vu(),s=wG(),a=i("symbol-to-string-registry");return t({target:"Symbol",stat:!0,forced:!s},{keyFor:function(u){if(!r(u))throw new TypeError(n(u)+" is not a symbol");if(e(a,u))return a[u]}}),jk}var Ok={},Ny,Tk;function roe(){if(Tk)return Ny;Tk=1;var t=mt(),e=Qo(),r=vr(),n=Os(),i=ka(),s=t([].push);return Ny=function(a){if(r(a))return a;if(e(a)){for(var o=a.length,u=[],c=0;c<o;c++){var d=a[c];typeof d=="string"?s(u,d):(typeof d=="number"||n(d)==="Number"||n(d)==="String")&&s(u,i(d))}var h=u.length,f=!0;return function(p,v){if(f)return f=!1,v;if(e(this))return v;for(var y=0;y<h;y++)if(u[y]===p)return v}}},Ny}var Pk;function _G(){if(Pk)return Ok;Pk=1;var t=De(),e=In(),r=gm(),n=yn(),i=mt(),s=ht(),a=vr(),o=ch(),u=Gu(),c=roe(),d=zu(),h=String,f=e("JSON","stringify"),p=i(/./.exec),v=i("".charAt),y=i("".charCodeAt),x=i("".replace),g=i(1.1.toString),m=/[\uD800-\uDFFF]/g,w=/^[\uD800-\uDBFF]$/,b=/^[\uDC00-\uDFFF]$/,_=!d||s(function(){var C=e("Symbol")("stringify detection");return f([C])!=="[null]"||f({a:C})!=="{}"||f(Object(C))!=="{}"}),E=s(function(){return f("\uDF06\uD834")!=='"\\udf06\\ud834"'||f("\uDEAD")!=='"\\udead"'}),j=function(C,N){var O=u(arguments),P=c(N);if(!(!a(P)&&(C===void 0||o(C))))return O[1]=function(I,D){if(a(P)&&(D=n(P,this,h(I),D)),!o(D))return D},r(f,null,O)},S=function(C,N,O){var P=v(O,N-1),I=v(O,N+1);return p(w,C)&&!p(b,I)||p(b,C)&&!p(w,P)?"\\u"+g(y(C,0),16):C};return f&&t({target:"JSON",stat:!0,arity:3,forced:_||E},{stringify:function(N,O,P){var I=u(arguments),D=r(_?j:f,null,I);return E&&typeof D=="string"?x(D,m,S):D}}),Ok}var Ik={},Rk;function noe(){if(Rk)return Ik;Rk=1;var t=De(),e=zu(),r=ht(),n=jm(),i=yi(),s=!e||r(function(){n.f(1)});return t({target:"Object",stat:!0,forced:s},{getOwnPropertySymbols:function(o){var u=n.f;return u?u(i(o)):[]}}),Ik}var $k;function SG(){return $k||($k=1,Zae(),eoe(),toe(),_G(),noe()),Y$}var kk={},Dk;function EG(){if(Dk)return kk;Dk=1;var t=Dt();return t("asyncDispose"),kk}var Mk={},qk;function ioe(){if(qk)return Mk;qk=1;var t=Dt();return t("asyncIterator"),Mk}var Ak={},Fk;function NG(){if(Fk)return Ak;Fk=1;var t=Dt();return t("dispose"),Ak}var Lk={},Bk;function soe(){if(Bk)return Lk;Bk=1;var t=Dt();return t("hasInstance"),Lk}var zk={},Uk;function aoe(){if(Uk)return zk;Uk=1;var t=Dt();return t("isConcatSpreadable"),zk}var Wk={},Vk;function jG(){if(Vk)return Wk;Vk=1;var t=Dt();return t("iterator"),Wk}var Hk={},Kk;function ooe(){if(Kk)return Hk;Kk=1;var t=Dt();return t("match"),Hk}var Gk={},Yk;function loe(){if(Yk)return Gk;Yk=1;var t=Dt();return t("matchAll"),Gk}var Qk={},Xk;function uoe(){if(Xk)return Qk;Xk=1;var t=Dt();return t("replace"),Qk}var Jk={},Zk;function coe(){if(Zk)return Jk;Zk=1;var t=Dt();return t("search"),Jk}var eD={},tD;function doe(){if(tD)return eD;tD=1;var t=Dt();return t("species"),eD}var rD={},nD;function hoe(){if(nD)return rD;nD=1;var t=Dt();return t("split"),rD}var iD={},sD;function CG(){if(sD)return iD;sD=1;var t=Dt(),e=xG();return t("toPrimitive"),e(),iD}var aD={},oD;function foe(){if(oD)return aD;oD=1;var t=In(),e=Dt(),r=Xo();return e("toStringTag"),r(t("Symbol"),"Symbol"),aD}var lD={},uD;function poe(){if(uD)return lD;uD=1;var t=Dt();return t("unscopables"),lD}var cD={},dD;function moe(){if(dD)return cD;dD=1;var t=rr(),e=Xo();return e(t.JSON,"JSON",!0),cD}var jy,hD;function voe(){if(hD)return jy;hD=1,gG(),SG(),EG(),ioe(),NG(),soe(),aoe(),jG(),ooe(),loe(),uoe(),coe(),doe(),hoe(),CG(),foe(),poe(),moe();var t=cr();return jy=t.Symbol,jy}var fD={},Cy,pD;function goe(){return pD||(pD=1,Cy=function(){}),Cy}var Oy,mD;function Qu(){return mD||(mD=1,Oy={}),Oy}var Ty,vD;function yoe(){if(vD)return Ty;vD=1;var t=nr(),e=yr(),r=Function.prototype,n=t&&Object.getOwnPropertyDescriptor,i=e(r,"name"),s=i&&(function(){}).name==="something",a=i&&(!t||t&&n(r,"name").configurable);return Ty={EXISTS:i,PROPER:s,CONFIGURABLE:a},Ty}var Py,gD;function boe(){if(gD)return Py;gD=1;var t=ht();return Py=!t(function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype}),Py}var Iy,yD;function OG(){if(yD)return Iy;yD=1;var t=yr(),e=vr(),r=yi(),n=Em(),i=boe(),s=n("IE_PROTO"),a=Object,o=a.prototype;return Iy=i?a.getPrototypeOf:function(u){var c=r(u);if(t(c,s))return c[s];var d=c.constructor;return e(d)&&c instanceof d?d.prototype:c instanceof a?o:null},Iy}var Ry,bD;function TG(){if(bD)return Ry;bD=1;var t=ht(),e=vr(),r=Jr(),n=fh(),i=OG(),s=ph(),a=br(),o=Wu(),u=a("iterator"),c=!1,d,h,f;[].keys&&(f=[].keys(),"next"in f?(h=i(i(f)),h!==Object.prototype&&(d=h)):c=!0);var p=!r(d)||t(function(){var v={};return d[u].call(v)!==v});return p?d={}:o&&(d=n(d)),e(d[u])||s(d,u,function(){return this}),Ry={IteratorPrototype:d,BUGGY_SAFARI_ITERATORS:c},Ry}var $y,xD;function xoe(){if(xD)return $y;xD=1;var t=TG().IteratorPrototype,e=fh(),r=oh(),n=Xo(),i=Qu(),s=function(){return this};return $y=function(a,o,u,c){var d=o+" Iterator";return a.prototype=e(t,{next:r(+!c,u)}),n(a,d,!1,!0),i[d]=s,a},$y}var ky,wD;function woe(){if(wD)return ky;wD=1;var t=mt(),e=Ts();return ky=function(r,n,i){try{return t(e(Object.getOwnPropertyDescriptor(r,n)[i]))}catch{}},ky}var Dy,_D;function _oe(){if(_D)return Dy;_D=1;var t=Jr();return Dy=function(e){return t(e)||e===null},Dy}var My,SD;function Soe(){if(SD)return My;SD=1;var t=_oe(),e=String,r=TypeError;return My=function(n){if(t(n))return n;throw new r("Can't set "+e(n)+" as a prototype")},My}var qy,ED;function Eoe(){if(ED)return qy;ED=1;var t=woe(),e=Jr(),r=Yo(),n=Soe();return qy=Object.setPrototypeOf||("__proto__"in{}?function(){var i=!1,s={},a;try{a=t(Object.prototype,"__proto__","set"),a(s,[]),i=s instanceof Array}catch{}return function(u,c){return r(u),n(c),e(u)&&(i?a(u,c):u.__proto__=c),u}}():void 0),qy}var Ay,ND;function LO(){if(ND)return Ay;ND=1;var t=De(),e=yn(),r=Wu(),n=yoe(),i=vr(),s=xoe(),a=OG(),o=Eoe(),u=Xo(),c=Hu(),d=ph(),h=br(),f=Qu(),p=TG(),v=n.PROPER,y=n.CONFIGURABLE,x=p.IteratorPrototype,g=p.BUGGY_SAFARI_ITERATORS,m=h("iterator"),w="keys",b="values",_="entries",E=function(){return this};return Ay=function(j,S,C,N,O,P,I){s(C,S,N);var D=function(xe){if(xe===O&&H)return H;if(!g&&xe&&xe in V)return V[xe];switch(xe){case w:return function(){return new C(this,xe)};case b:return function(){return new C(this,xe)};case _:return function(){return new C(this,xe)}}return function(){return new C(this)}},F=S+" Iterator",M=!1,V=j.prototype,q=V[m]||V["@@iterator"]||O&&V[O],H=!g&&q||D(O),B=S==="Array"&&V.entries||q,W,G,de;if(B&&(W=a(B.call(new j)),W!==Object.prototype&&W.next&&(!r&&a(W)!==x&&(o?o(W,x):i(W[m])||d(W,m,E)),u(W,F,!0,!0),r&&(f[F]=E))),v&&O===b&&q&&q.name!==b&&(!r&&y?c(V,"name",b):(M=!0,H=function(){return e(q,this)})),O)if(G={values:D(b),keys:P?H:D(w),entries:D(_)},I)for(de in G)(g||M||!(de in V))&&d(V,de,G[de]);else t({target:S,proto:!0,forced:g||M},G);return(!r||I)&&V[m]!==H&&d(V,m,H,{name:O}),f[S]=H,G},Ay}var Fy,jD;function BO(){return jD||(jD=1,Fy=function(t,e){return{value:t,done:e}}),Fy}var Ly,CD;function Da(){if(CD)return Ly;CD=1;var t=Li(),e=goe(),r=Qu(),n=mh(),i=Yn().f,s=LO(),a=BO(),o=Wu(),u=nr(),c="Array Iterator",d=n.set,h=n.getterFor(c);Ly=s(Array,"Array",function(p,v){d(this,{type:c,target:t(p),index:0,kind:v})},function(){var p=h(this),v=p.target,y=p.index++;if(!v||y>=v.length)return p.target=null,a(void 0,!0);switch(p.kind){case"keys":return a(y,!1);case"values":return a(v[y],!1)}return a([y,v[y]],!1)},"values");var f=r.Arguments=r.Array;if(e("keys"),e("values"),e("entries"),!o&&u&&f.name!=="values")try{i(f,"name",{value:"values"})}catch{}return Ly}var By,OD;function Noe(){return OD||(OD=1,By={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}),By}var TD;function Ma(){if(TD)return fD;TD=1,Da();var t=Noe(),e=rr(),r=Xo(),n=Qu();for(var i in t)r(e[i],i),n[i]=n.Array;return fD}var zy,PD;function PG(){if(PD)return zy;PD=1;var t=voe();return Ma(),zy=t,zy}var ID={},RD;function joe(){if(RD)return ID;RD=1;var t=br(),e=Yn().f,r=t("metadata"),n=Function.prototype;return n[r]===void 0&&e(n,r,{value:null}),ID}var $D={},kD;function Coe(){return kD||(kD=1,EG()),$D}var DD={},MD;function Ooe(){return MD||(MD=1,NG()),DD}var qD={},AD;function Toe(){if(AD)return qD;AD=1;var t=Dt();return t("metadata"),qD}var Uy,FD;function Poe(){if(FD)return Uy;FD=1;var t=PG();return joe(),Coe(),Ooe(),Toe(),Uy=t,Uy}var LD={},Wy,BD;function IG(){if(BD)return Wy;BD=1;var t=In(),e=mt(),r=t("Symbol"),n=r.keyFor,i=e(r.prototype.valueOf);return Wy=r.isRegisteredSymbol||function(a){try{return n(i(a))!==void 0}catch{return!1}},Wy}var zD;function Ioe(){if(zD)return LD;zD=1;var t=De(),e=IG();return t({target:"Symbol",stat:!0},{isRegisteredSymbol:e}),LD}var UD={},Vy,WD;function RG(){if(WD)return Vy;WD=1;for(var t=Vu(),e=In(),r=mt(),n=ch(),i=br(),s=e("Symbol"),a=s.isWellKnownSymbol,o=e("Object","getOwnPropertyNames"),u=r(s.prototype.valueOf),c=t("wks"),d=0,h=o(s),f=h.length;d<f;d++)try{var p=h[d];n(s[p])&&i(p)}catch{}return Vy=function(y){if(a&&a(y))return!0;try{for(var x=u(y),g=0,m=o(c),w=m.length;g<w;g++)if(c[m[g]]==x)return!0}catch{}return!1},Vy}var VD;function Roe(){if(VD)return UD;VD=1;var t=De(),e=RG();return t({target:"Symbol",stat:!0,forced:!0},{isWellKnownSymbol:e}),UD}var HD={},KD;function $oe(){if(KD)return HD;KD=1;var t=Dt();return t("customMatcher"),HD}var GD={},YD;function koe(){if(YD)return GD;YD=1;var t=Dt();return t("observable"),GD}var QD={},XD;function Doe(){if(XD)return QD;XD=1;var t=De(),e=IG();return t({target:"Symbol",stat:!0,name:"isRegisteredSymbol"},{isRegistered:e}),QD}var JD={},ZD;function Moe(){if(ZD)return JD;ZD=1;var t=De(),e=RG();return t({target:"Symbol",stat:!0,name:"isWellKnownSymbol",forced:!0},{isWellKnown:e}),JD}var eM={},tM;function qoe(){if(tM)return eM;tM=1;var t=Dt();return t("matcher"),eM}var rM={},nM;function Aoe(){if(nM)return rM;nM=1;var t=Dt();return t("metadataKey"),rM}var iM={},sM;function Foe(){if(sM)return iM;sM=1;var t=Dt();return t("patternMatch"),iM}var aM={},oM;function Loe(){if(oM)return aM;oM=1;var t=Dt();return t("replaceAll"),aM}var Hy,lM;function Boe(){if(lM)return Hy;lM=1;var t=Poe();return Ioe(),Roe(),$oe(),koe(),Doe(),Moe(),qoe(),Aoe(),Foe(),Loe(),Hy=t,Hy}var Ky,uM;function zoe(){return uM||(uM=1,Ky=Boe()),Ky}var Uoe=zoe(),yf=Ke(Uoe),cM={},Gy,dM;function Woe(){if(dM)return Gy;dM=1;var t=mt(),e=Ku(),r=ka(),n=Yo(),i=t("".charAt),s=t("".charCodeAt),a=t("".slice),o=function(u){return function(c,d){var h=r(n(c)),f=e(d),p=h.length,v,y;return f<0||f>=p?u?"":void 0:(v=s(h,f),v<55296||v>56319||f+1===p||(y=s(h,f+1))<56320||y>57343?u?i(h,f):v:u?a(h,f,f+2):(v-55296<<10)+(y-56320)+65536)}};return Gy={codeAt:o(!1),charAt:o(!0)},Gy}var hM;function Om(){if(hM)return cM;hM=1;var t=Woe().charAt,e=ka(),r=mh(),n=LO(),i=BO(),s="String Iterator",a=r.set,o=r.getterFor(s);return n(String,"String",function(u){a(this,{type:s,string:e(u),index:0})},function(){var c=o(this),d=c.string,h=c.index,f;return h>=d.length?i(void 0,!0):(f=t(d,h),c.index+=f.length,i(f,!1))}),cM}var Yy,fM;function Voe(){if(fM)return Yy;fM=1,Da(),Om(),jG();var t=Cm();return Yy=t.f("iterator"),Yy}var Qy,pM;function $G(){if(pM)return Qy;pM=1;var t=Voe();return Ma(),Qy=t,Qy}var Xy,mM;function Hoe(){if(mM)return Xy;mM=1;var t=$G();return Xy=t,Xy}var Jy,vM;function Koe(){if(vM)return Jy;vM=1;var t=Hoe();return Jy=t,Jy}var Zy,gM;function Goe(){return gM||(gM=1,Zy=Koe()),Zy}var Yoe=Goe(),Qoe=Ke(Yoe);function Cd(t){"@babel/helpers - typeof";return Cd=typeof yf=="function"&&typeof Qoe=="symbol"?function(e){return typeof e}:function(e){return e&&typeof yf=="function"&&e.constructor===yf&&e!==yf.prototype?"symbol":typeof e},Cd(t)}var e0,yM;function Xoe(){if(yM)return e0;yM=1,CG();var t=Cm();return e0=t.f("toPrimitive"),e0}var t0,bM;function Joe(){if(bM)return t0;bM=1;var t=Xoe();return t0=t,t0}var r0,xM;function Zoe(){if(xM)return r0;xM=1;var t=Joe();return r0=t,r0}var n0,wM;function ele(){if(wM)return n0;wM=1;var t=Zoe();return n0=t,n0}var i0,_M;function tle(){return _M||(_M=1,i0=ele()),i0}var rle=tle(),nle=Ke(rle);function ile(t,e){if(Cd(t)!="object"||!t)return t;var r=t[nle];if(r!==void 0){var n=r.call(t,e);if(Cd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function sle(t){var e=ile(t,"string");return Cd(e)=="symbol"?e:e+""}function ga(t,e,r){return(e=sle(e))in t?Vae(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var SM={},s0,EM;function ale(){if(EM)return s0;EM=1;var t=mt(),e=Ts(),r=Jr(),n=yr(),i=Gu(),s=ah(),a=Function,o=t([].concat),u=t([].join),c={},d=function(h,f,p){if(!n(c,f)){for(var v=[],y=0;y<f;y++)v[y]="a["+y+"]";c[f]=a("C,a","return new C("+u(v,",")+")")}return c[f](h,p)};return s0=s?a.bind:function(f){var p=e(this),v=p.prototype,y=i(arguments,1),x=function(){var m=o(y,i(arguments));return this instanceof x?d(p,m.length,m):p.apply(f,m)};return r(v)&&(x.prototype=v),x},s0}var NM;function ole(){if(NM)return SM;NM=1;var t=De(),e=ale();return t({target:"Function",proto:!0,forced:Function.bind!==e},{bind:e}),SM}var a0,jM;function bn(){if(jM)return a0;jM=1;var t=rr(),e=cr();return a0=function(r,n){var i=e[r+"Prototype"],s=i&&i[n];if(s)return s;var a=t[r],o=a&&a.prototype;return o&&o[n]},a0}var o0,CM;function lle(){if(CM)return o0;CM=1,ole();var t=bn();return o0=t("Function","bind"),o0}var l0,OM;function ule(){if(OM)return l0;OM=1;var t=gr(),e=lle(),r=Function.prototype;return l0=function(n){var i=n.bind;return n===r||t(r,n)&&i===r.bind?e:i},l0}var u0,TM;function cle(){if(TM)return u0;TM=1;var t=ule();return u0=t,u0}var c0,PM;function dle(){return PM||(PM=1,c0=cle()),c0}var hle=dle(),kG=Ke(hle),IM={},d0,RM;function fle(){if(RM)return d0;RM=1;var t=Ts(),e=yi(),r=ym(),n=Ra(),i=TypeError,s="Reduce of empty array with no initial value",a=function(o){return function(u,c,d,h){var f=e(u),p=r(f),v=n(f);if(t(c),v===0&&d<2)throw new i(s);var y=o?v-1:0,x=o?-1:1;if(d<2)for(;;){if(y in p){h=p[y],y+=x;break}if(y+=x,o?y<0:v<=y)throw new i(s)}for(;o?y>=0:v>y;y+=x)y in p&&(h=c(h,p[y],y,f));return h}};return d0={left:a(!1),right:a(!0)},d0}var h0,$M;function Tm(){if($M)return h0;$M=1;var t=ht();return h0=function(e,r){var n=[][e];return!!n&&t(function(){n.call(null,r||function(){return 1},1)})},h0}var f0,kM;function DG(){if(kM)return f0;kM=1;var t=rr(),e=Bu(),r=Os(),n=function(i){return e.slice(0,i.length)===i};return f0=function(){return n("Bun/")?"BUN":n("Cloudflare-Workers")?"CLOUDFLARE":n("Deno/")?"DENO":n("Node.js/")?"NODE":t.Bun&&typeof Bun.version=="string"?"BUN":t.Deno&&typeof Deno.version=="object"?"DENO":r(t.process)==="process"?"NODE":t.window&&t.document?"BROWSER":"REST"}(),f0}var p0,DM;function ple(){if(DM)return p0;DM=1;var t=DG();return p0=t==="NODE",p0}var MM;function mle(){if(MM)return IM;MM=1;var t=De(),e=fle().left,r=Tm(),n=uh(),i=ple(),s=!i&&n>79&&n<83,a=s||!r("reduce");return t({target:"Array",proto:!0,forced:a},{reduce:function(u){var c=arguments.length;return e(this,u,c,c>1?arguments[1]:void 0)}}),IM}var m0,qM;function vle(){if(qM)return m0;qM=1,mle();var t=bn();return m0=t("Array","reduce"),m0}var v0,AM;function gle(){if(AM)return v0;AM=1;var t=gr(),e=vle(),r=Array.prototype;return v0=function(n){var i=n.reduce;return n===r||t(r,n)&&i===r.reduce?e:i},v0}var g0,FM;function yle(){if(FM)return g0;FM=1;var t=gle();return g0=t,g0}var y0,LM;function ble(){return LM||(LM=1,y0=yle()),y0}var xle=ble(),wle=Ke(xle),BM={},zM;function _le(){if(zM)return BM;zM=1;var t=De(),e=Yu().filter,r=dh(),n=r("filter");return t({target:"Array",proto:!0,forced:!n},{filter:function(s){return e(this,s,arguments.length>1?arguments[1]:void 0)}}),BM}var b0,UM;function Sle(){if(UM)return b0;UM=1,_le();var t=bn();return b0=t("Array","filter"),b0}var x0,WM;function Ele(){if(WM)return x0;WM=1;var t=gr(),e=Sle(),r=Array.prototype;return x0=function(n){var i=n.filter;return n===r||t(r,n)&&i===r.filter?e:i},x0}var w0,VM;function Nle(){if(VM)return w0;VM=1;var t=Ele();return w0=t,w0}var _0,HM;function jle(){return HM||(HM=1,_0=Nle()),_0}var Cle=jle(),$l=Ke(Cle),KM={},GM;function Ole(){if(GM)return KM;GM=1;var t=De(),e=Yu().map,r=dh(),n=r("map");return t({target:"Array",proto:!0,forced:!n},{map:function(s){return e(this,s,arguments.length>1?arguments[1]:void 0)}}),KM}var S0,YM;function Tle(){if(YM)return S0;YM=1,Ole();var t=bn();return S0=t("Array","map"),S0}var E0,QM;function Ple(){if(QM)return E0;QM=1;var t=gr(),e=Tle(),r=Array.prototype;return E0=function(n){var i=n.map;return n===r||t(r,n)&&i===r.map?e:i},E0}var N0,XM;function Ile(){if(XM)return N0;XM=1;var t=Ple();return N0=t,N0}var j0,JM;function Rle(){return JM||(JM=1,j0=Ile()),j0}var $le=Rle(),li=Ke($le),C0,ZM;function kle(){return ZM||(ZM=1,C0=PG()),C0}var Dle=kle(),Mle=Ke(Dle),eq={},tq;function qle(){if(tq)return eq;tq=1;var t=De(),e=Qo(),r=vG(),n=Jr(),i=MO(),s=Ra(),a=Li(),o=_m(),u=br(),c=dh(),d=Gu(),h=c("slice"),f=u("species"),p=Array,v=Math.max;return t({target:"Array",proto:!0,forced:!h},{slice:function(x,g){var m=a(this),w=s(m),b=i(x,w),_=i(g===void 0?w:g,w),E,j,S;if(e(m)&&(E=m.constructor,r(E)&&(E===p||e(E.prototype))?E=void 0:n(E)&&(E=E[f],E===null&&(E=void 0)),E===p||E===void 0))return d(m,b,_);for(j=new(E===void 0?p:E)(v(_-b,0)),S=0;b<_;b++,S++)b in m&&o(j,S,m[b]);return j.length=S,j}}),eq}var O0,rq;function Ale(){if(rq)return O0;rq=1,qle();var t=bn();return O0=t("Array","slice"),O0}var T0,nq;function Fle(){if(nq)return T0;nq=1;var t=gr(),e=Ale(),r=Array.prototype;return T0=function(n){var i=n.slice;return n===r||t(r,n)&&i===r.slice?e:i},T0}var P0,iq;function Lle(){if(iq)return P0;iq=1;var t=Fle();return P0=t,P0}var I0,sq;function Ble(){return sq||(sq=1,I0=Lle()),I0}var zle=Ble(),Ule=Ke(zle),aq={},R0,oq;function MG(){if(oq)return R0;oq=1;var t=In(),e=mt(),r=Nm(),n=jm(),i=Ps(),s=e([].concat);return R0=t("Reflect","ownKeys")||function(o){var u=r.f(i(o)),c=n.f;return c?s(u,c(o)):u},R0}var lq;function Wle(){if(lq)return aq;lq=1;var t=De(),e=MG();return t({target:"Reflect",stat:!0},{ownKeys:e}),aq}var $0,uq;function Vle(){if(uq)return $0;uq=1,Wle();var t=cr();return $0=t.Reflect.ownKeys,$0}var k0,cq;function Hle(){if(cq)return k0;cq=1;var t=Vle();return k0=t,k0}var D0,dq;function Kle(){return dq||(dq=1,D0=Hle()),D0}var Gle=Kle(),Yle=Ke(Gle),hq={},fq;function Qle(){if(fq)return hq;fq=1;var t=De(),e=Qo();return t({target:"Array",stat:!0},{isArray:e}),hq}var M0,pq;function Xle(){if(pq)return M0;pq=1,Qle();var t=cr();return M0=t.Array.isArray,M0}var q0,mq;function Jle(){if(mq)return q0;mq=1;var t=Xle();return q0=t,q0}var A0,vq;function Zle(){return vq||(vq=1,A0=Jle()),A0}var eue=Zle(),Ei=Ke(eue),gq={},yq;function tue(){if(yq)return gq;yq=1;var t=De(),e=yi(),r=Sm(),n=ht(),i=n(function(){r(1)});return t({target:"Object",stat:!0,forced:i},{keys:function(a){return r(e(a))}}),gq}var F0,bq;function rue(){if(bq)return F0;bq=1,tue();var t=cr();return F0=t.Object.keys,F0}var L0,xq;function nue(){if(xq)return L0;xq=1;var t=rue();return L0=t,L0}var B0,wq;function iue(){return wq||(wq=1,B0=nue()),B0}var sue=iue(),zO=Ke(sue),_q={},z0,Sq;function aue(){if(Sq)return z0;Sq=1;var t=Yu().forEach,e=Tm(),r=e("forEach");return z0=r?[].forEach:function(i){return t(this,i,arguments.length>1?arguments[1]:void 0)},z0}var Eq;function oue(){if(Eq)return _q;Eq=1;var t=De(),e=aue();return t({target:"Array",proto:!0,forced:[].forEach!==e},{forEach:e}),_q}var U0,Nq;function lue(){if(Nq)return U0;Nq=1,oue();var t=bn();return U0=t("Array","forEach"),U0}var W0,jq;function uue(){if(jq)return W0;jq=1;var t=lue();return W0=t,W0}var V0,Cq;function cue(){if(Cq)return V0;Cq=1;var t=$a(),e=yr(),r=gr(),n=uue(),i=Array.prototype,s={DOMTokenList:!0,NodeList:!0};return V0=function(a){var o=a.forEach;return a===i||r(i,a)&&o===i.forEach||e(s,t(a))?n:o},V0}var H0,Oq;function due(){return Oq||(Oq=1,H0=cue()),H0}var hue=due(),Do=Ke(hue),Tq={},Pq;function fue(){if(Pq)return Tq;Pq=1;var t=De(),e=mt(),r=Qo(),n=e([].reverse),i=[1,2];return t({target:"Array",proto:!0,forced:String(i)===String(i.reverse())},{reverse:function(){return r(this)&&(this.length=this.length),n(this)}}),Tq}var K0,Iq;function pue(){if(Iq)return K0;Iq=1,fue();var t=bn();return K0=t("Array","reverse"),K0}var G0,Rq;function mue(){if(Rq)return G0;Rq=1;var t=gr(),e=pue(),r=Array.prototype;return G0=function(n){var i=n.reverse;return n===r||t(r,n)&&i===r.reverse?e:i},G0}var Y0,$q;function vue(){if($q)return Y0;$q=1;var t=mue();return Y0=t,Y0}var Q0,kq;function gue(){return kq||(kq=1,Q0=vue()),Q0}var yue=gue(),bue=Ke(yue),Dq={},X0,Mq;function xue(){if(Mq)return X0;Mq=1;var t=nr(),e=Qo(),r=TypeError,n=Object.getOwnPropertyDescriptor,i=t&&!function(){if(this!==void 0)return!0;try{Object.defineProperty([],"length",{writable:!1}).length=1}catch(s){return s instanceof TypeError}}();return X0=i?function(s,a){if(e(s)&&!n(s,"length").writable)throw new r("Cannot set read only .length");return s.length=a}:function(s,a){return s.length=a},X0}var J0,qq;function qG(){if(qq)return J0;qq=1;var t=Uu(),e=TypeError;return J0=function(r,n){if(!delete r[n])throw new e("Cannot delete property "+t(n)+" of "+t(r))},J0}var Aq;function wue(){if(Aq)return Dq;Aq=1;var t=De(),e=yi(),r=MO(),n=Ku(),i=Ra(),s=xue(),a=mG(),o=DO(),u=_m(),c=qG(),d=dh(),h=d("splice"),f=Math.max,p=Math.min;return t({target:"Array",proto:!0,forced:!h},{splice:function(y,x){var g=e(this),m=i(g),w=r(y,m),b=arguments.length,_,E,j,S,C,N;for(b===0?_=E=0:b===1?(_=0,E=m-w):(_=b-2,E=p(f(n(x),0),m-w)),a(m+_-E),j=o(g,E),S=0;S<E;S++)C=w+S,C in g&&u(j,S,g[C]);if(j.length=E,_<E){for(S=w;S<m-E;S++)C=S+E,N=S+_,C in g?g[N]=g[C]:c(g,N);for(S=m;S>m-E+_;S--)c(g,S-1)}else if(_>E)for(S=m-E;S>w;S--)C=S+E-1,N=S+_-1,C in g?g[N]=g[C]:c(g,N);for(S=0;S<_;S++)g[S+w]=arguments[S+2];return s(g,m-E+_),j}}),Dq}var Z0,Fq;function _ue(){if(Fq)return Z0;Fq=1,wue();var t=bn();return Z0=t("Array","splice"),Z0}var eb,Lq;function Sue(){if(Lq)return eb;Lq=1;var t=gr(),e=_ue(),r=Array.prototype;return eb=function(n){var i=n.splice;return n===r||t(r,n)&&i===r.splice?e:i},eb}var tb,Bq;function Eue(){if(Bq)return tb;Bq=1;var t=Sue();return tb=t,tb}var rb,zq;function Nue(){return zq||(zq=1,rb=Eue()),rb}var jue=Nue(),AG=Ke(jue),Uq={},nb,Wq;function Cue(){if(Wq)return nb;Wq=1;var t=nr(),e=mt(),r=yn(),n=ht(),i=Sm(),s=jm(),a=PO(),o=yi(),u=ym(),c=Object.assign,d=Object.defineProperty,h=e([].concat);return nb=!c||n(function(){if(t&&c({b:1},c(d({},"a",{enumerable:!0,get:function(){d(this,"b",{value:3,enumerable:!1})}}),{b:2})).b!==1)return!0;var f={},p={},v=Symbol("assign detection"),y="abcdefghijklmnopqrst";return f[v]=7,y.split("").forEach(function(x){p[x]=x}),c({},f)[v]!==7||i(c({},p)).join("")!==y})?function(p,v){for(var y=o(p),x=arguments.length,g=1,m=s.f,w=a.f;x>g;)for(var b=u(arguments[g++]),_=m?h(i(b),m(b)):i(b),E=_.length,j=0,S;E>j;)S=_[j++],(!t||r(w,b,S))&&(y[S]=b[S]);return y}:c,nb}var Vq;function Oue(){if(Vq)return Uq;Vq=1;var t=De(),e=Cue();return t({target:"Object",stat:!0,arity:2,forced:Object.assign!==e},{assign:e}),Uq}var ib,Hq;function Tue(){if(Hq)return ib;Hq=1,Oue();var t=cr();return ib=t.Object.assign,ib}var sb,Kq;function Pue(){if(Kq)return sb;Kq=1;var t=Tue();return sb=t,sb}var ab,Gq;function Iue(){return Gq||(Gq=1,ab=Pue()),ab}var Rue=Iue(),$ue=Ke(Rue),ob,Yq;function kue(){if(Yq)return ob;Yq=1,gG();var t=bn();return ob=t("Array","concat"),ob}var lb,Qq;function Due(){if(Qq)return lb;Qq=1;var t=gr(),e=kue(),r=Array.prototype;return lb=function(n){var i=n.concat;return n===r||t(r,n)&&i===r.concat?e:i},lb}var ub,Xq;function Mue(){if(Xq)return ub;Xq=1;var t=Due();return ub=t,ub}var cb,Jq;function que(){return Jq||(Jq=1,cb=Mue()),cb}var Aue=que(),Fue=Ke(Aue),Zq={},eA;function Lue(){if(eA)return Zq;eA=1;var t=De(),e=nr(),r=fh();return t({target:"Object",stat:!0,sham:!e},{create:r}),Zq}var db,tA;function Bue(){if(tA)return db;tA=1,Lue();var t=cr(),e=t.Object;return db=function(n,i){return e.create(n,i)},db}var hb,rA;function zue(){if(rA)return hb;rA=1;var t=Bue();return hb=t,hb}var fb,nA;function Uue(){return nA||(nA=1,fb=zue()),fb}var Wue=Uue(),Vue=Ke(Wue),iA={},pb,sA;function Hue(){if(sA)return pb;sA=1;var t=Ku(),e=ka(),r=Yo(),n=RangeError;return pb=function(s){var a=e(r(this)),o="",u=t(s);if(u<0||u===1/0)throw new n("Wrong number of repetitions");for(;u>0;(u>>>=1)&&(a+=a))u&1&&(o+=a);return o},pb}var mb,aA;function Kue(){if(aA)return mb;aA=1;var t=mt(),e=pG(),r=ka(),n=Hue(),i=Yo(),s=t(n),a=t("".slice),o=Math.ceil,u=function(c){return function(d,h,f){var p=r(i(d)),v=e(h),y=p.length,x=f===void 0?" ":r(f),g,m;return v<=y||x===""?p:(g=v-y,m=s(x,o(g/x.length)),m.length>g&&(m=a(m,0,g)),c?p+m:m+p)}};return mb={start:u(!1),end:u(!0)},mb}var vb,oA;function Gue(){if(oA)return vb;oA=1;var t=mt(),e=ht(),r=Kue().start,n=RangeError,i=isFinite,s=Math.abs,a=Date.prototype,o=a.toISOString,u=t(a.getTime),c=t(a.getUTCDate),d=t(a.getUTCFullYear),h=t(a.getUTCHours),f=t(a.getUTCMilliseconds),p=t(a.getUTCMinutes),v=t(a.getUTCMonth),y=t(a.getUTCSeconds);return vb=e(function(){return o.call(new Date(-5e13-1))!=="0385-07-25T07:06:39.999Z"})||!e(function(){o.call(new Date(NaN))})?function(){if(!i(u(this)))throw new n("Invalid time value");var g=this,m=d(g),w=f(g),b=m<0?"-":m>9999?"+":"";return b+r(s(m),b?6:4,0)+"-"+r(v(g)+1,2,0)+"-"+r(c(g),2,0)+"T"+r(h(g),2,0)+":"+r(p(g),2,0)+":"+r(y(g),2,0)+"."+r(w,3,0)+"Z"}:o,vb}var lA;function Yue(){if(lA)return iA;lA=1;var t=De(),e=yn(),r=yi(),n=uG(),i=Gue(),s=Os(),a=ht(),o=a(function(){return new Date(NaN).toJSON()!==null||e(Date.prototype.toJSON,{toISOString:function(){return 1}})!==1});return t({target:"Date",proto:!0,forced:o},{toJSON:function(c){var d=r(this),h=n(d,"number");return typeof h=="number"&&!isFinite(h)?null:!("toISOString"in d)&&s(d)==="Date"?e(i,d):d.toISOString()}}),iA}var gb,uA;function Que(){if(uA)return gb;uA=1,Yue(),_G();var t=cr(),e=gm();return t.JSON||(t.JSON={stringify:JSON.stringify}),gb=function(n,i,s){return e(t.JSON.stringify,null,arguments)},gb}var yb,cA;function Xue(){if(cA)return yb;cA=1;var t=Que();return yb=t,yb}var bb,dA;function Jue(){return dA||(dA=1,bb=Xue()),bb}var Zue=Jue(),ece=Ke(Zue),hA={},fA={},xb,pA;function tce(){if(pA)return xb;pA=1;var t=TypeError;return xb=function(e,r){if(e<r)throw new t("Not enough arguments");return e},xb}var wb,mA;function FG(){if(mA)return wb;mA=1;var t=rr(),e=gm(),r=vr(),n=DG(),i=Bu(),s=Gu(),a=tce(),o=t.Function,u=/MSIE .\./.test(i)||n==="BUN"&&function(){var c=t.Bun.version.split(".");return c.length<3||c[0]==="0"&&(c[1]<3||c[1]==="3"&&c[2]==="0")}();return wb=function(c,d){var h=d?2:1;return u?function(f,p){var v=a(arguments.length,1)>h,y=r(f)?f:o(f),x=v?s(arguments,h):[],g=v?function(){e(y,this,x)}:y;return d?c(g,p):c(g)}:c},wb}var vA;function rce(){if(vA)return fA;vA=1;var t=De(),e=rr(),r=FG(),n=r(e.setInterval,!0);return t({global:!0,bind:!0,forced:e.setInterval!==n},{setInterval:n}),fA}var gA={},yA;function nce(){if(yA)return gA;yA=1;var t=De(),e=rr(),r=FG(),n=r(e.setTimeout,!0);return t({global:!0,bind:!0,forced:e.setTimeout!==n},{setTimeout:n}),gA}var bA;function ice(){return bA||(bA=1,rce(),nce()),hA}var _b,xA;function sce(){if(xA)return _b;xA=1,ice();var t=cr();return _b=t.setTimeout,_b}var Sb,wA;function ace(){return wA||(wA=1,Sb=sce()),Sb}var oce=ace(),lce=Ke(oce),Eb={exports:{}},_A;function uce(){return _A||(_A=1,function(t){function e(n){if(n)return r(n);this._callbacks=new Map}function r(n){return Object.assign(n,e.prototype),n._callbacks=new Map,n}e.prototype.on=function(n,i){const s=this._callbacks.get(n)??[];return s.push(i),this._callbacks.set(n,s),this},e.prototype.once=function(n,i){const s=(...a)=>{this.off(n,s),i.apply(this,a)};return s.fn=i,this.on(n,s),this},e.prototype.off=function(n,i){if(n===void 0&&i===void 0)return this._callbacks.clear(),this;if(i===void 0)return this._callbacks.delete(n),this;const s=this._callbacks.get(n);if(s){for(const[a,o]of s.entries())if(o===i||o.fn===i){s.splice(a,1);break}s.length===0?this._callbacks.delete(n):this._callbacks.set(n,s)}return this},e.prototype.emit=function(n,...i){const s=this._callbacks.get(n);if(s){const a=[...s];for(const o of a)o.apply(this,i)}return this},e.prototype.listeners=function(n){return this._callbacks.get(n)??[]},e.prototype.listenerCount=function(n){if(n)return this.listeners(n).length;let i=0;for(const s of this._callbacks.values())i+=s.length;return i},e.prototype.hasListeners=function(n){return this.listenerCount(n)>0},e.prototype.addEventListener=e.prototype.on,e.prototype.removeListener=e.prototype.off,e.prototype.removeEventListener=e.prototype.off,e.prototype.removeAllListeners=e.prototype.off,t.exports=e}(Eb)),Eb.exports}var cce=uce(),dce=Ke(cce);/*! Hammer.JS - v2.0.17-rc - 2019-12-16
 * http://naver.github.io/egjs
 *
 * Forked By Naver egjs
 * Copyright (c) hammerjs
 * Licensed under the MIT license */function mi(){return mi=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},mi.apply(this,arguments)}function Qn(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}function bf(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}var Uj;typeof Object.assign!="function"?Uj=function(e){if(e==null)throw new TypeError("Cannot convert undefined or null to object");for(var r=Object(e),n=1;n<arguments.length;n++){var i=arguments[n];if(i!=null)for(var s in i)i.hasOwnProperty(s)&&(r[s]=i[s])}return r}:Uj=Object.assign;var Mo=Uj,SA=["","webkit","Moz","MS","ms","o"],hce=typeof document>"u"?{style:{}}:document.createElement("div"),fce="function",kl=Math.round,qo=Math.abs,UO=Date.now;function Pm(t,e){for(var r,n,i=e[0].toUpperCase()+e.slice(1),s=0;s<SA.length;){if(r=SA[s],n=r?r+i:e,n in t)return n;s++}}var ls;typeof window>"u"?ls={}:ls=window;var LG=Pm(hce.style,"touchAction"),BG=LG!==void 0;function pce(){if(!BG)return!1;var t={},e=ls.CSS&&ls.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach(function(r){return t[r]=e?ls.CSS.supports("touch-action",r):!0}),t}var zG="compute",UG="auto",Wj="manipulation",go="none",Od="pan-x",Td="pan-y",xf=pce(),mce=/mobile|tablet|ip(ad|hone|od)|android/i,WG="ontouchstart"in ls,vce=Pm(ls,"PointerEvent")!==void 0,gce=WG&&mce.test(navigator.userAgent),vh="touch",yce="pen",WO="mouse",bce="kinect",xce=25,Kr=1,Jo=2,Zt=4,vn=8,Ip=1,gh=2,yh=4,bh=8,Eu=16,qi=gh|yh,yo=bh|Eu,VG=qi|yo,HG=["x","y"],Rp=["clientX","clientY"];function us(t,e,r){var n;if(t)if(t.forEach)t.forEach(e,r);else if(t.length!==void 0)for(n=0;n<t.length;)e.call(r,t[n],n,t),n++;else for(n in t)t.hasOwnProperty(n)&&e.call(r,t[n],n,t)}function Im(t,e){return typeof t===fce?t.apply(e&&e[0]||void 0,e):t}function Za(t,e){return t.indexOf(e)>-1}function wce(t){if(Za(t,go))return go;var e=Za(t,Od),r=Za(t,Td);return e&&r?go:e||r?e?Od:Td:Za(t,Wj)?Wj:UG}var KG=function(){function t(r,n){this.manager=r,this.set(n)}var e=t.prototype;return e.set=function(n){n===zG&&(n=this.compute()),BG&&this.manager.element.style&&xf[n]&&(this.manager.element.style[LG]=n),this.actions=n.toLowerCase().trim()},e.update=function(){this.set(this.manager.options.touchAction)},e.compute=function(){var n=[];return us(this.manager.recognizers,function(i){Im(i.options.enable,[i])&&(n=n.concat(i.getTouchAction()))}),wce(n.join(" "))},e.preventDefaults=function(n){var i=n.srcEvent,s=n.offsetDirection;if(this.manager.session.prevented){i.preventDefault();return}var a=this.actions,o=Za(a,go)&&!xf[go],u=Za(a,Td)&&!xf[Td],c=Za(a,Od)&&!xf[Od];if(o){var d=n.pointers.length===1,h=n.distance<2,f=n.deltaTime<250;if(d&&h&&f)return}if(!(c&&u)&&(o||u&&s&qi||c&&s&yo))return this.preventSrc(i)},e.preventSrc=function(n){this.manager.session.prevented=!0,n.preventDefault()},t}();function VO(t,e){for(;t;){if(t===e)return!0;t=t.parentNode}return!1}function GG(t){var e=t.length;if(e===1)return{x:kl(t[0].clientX),y:kl(t[0].clientY)};for(var r=0,n=0,i=0;i<e;)r+=t[i].clientX,n+=t[i].clientY,i++;return{x:kl(r/e),y:kl(n/e)}}function EA(t){for(var e=[],r=0;r<t.pointers.length;)e[r]={clientX:kl(t.pointers[r].clientX),clientY:kl(t.pointers[r].clientY)},r++;return{timeStamp:UO(),pointers:e,center:GG(e),deltaX:t.deltaX,deltaY:t.deltaY}}function $p(t,e,r){r||(r=HG);var n=e[r[0]]-t[r[0]],i=e[r[1]]-t[r[1]];return Math.sqrt(n*n+i*i)}function Vj(t,e,r){r||(r=HG);var n=e[r[0]]-t[r[0]],i=e[r[1]]-t[r[1]];return Math.atan2(i,n)*180/Math.PI}function YG(t,e){return t===e?Ip:qo(t)>=qo(e)?t<0?gh:yh:e<0?bh:Eu}function _ce(t,e){var r=e.center,n=t.offsetDelta||{},i=t.prevDelta||{},s=t.prevInput||{};(e.eventType===Kr||s.eventType===Zt)&&(i=t.prevDelta={x:s.deltaX||0,y:s.deltaY||0},n=t.offsetDelta={x:r.x,y:r.y}),e.deltaX=i.x+(r.x-n.x),e.deltaY=i.y+(r.y-n.y)}function QG(t,e,r){return{x:e/t||0,y:r/t||0}}function Sce(t,e){return $p(e[0],e[1],Rp)/$p(t[0],t[1],Rp)}function Ece(t,e){return Vj(e[1],e[0],Rp)+Vj(t[1],t[0],Rp)}function Nce(t,e){var r=t.lastInterval||e,n=e.timeStamp-r.timeStamp,i,s,a,o;if(e.eventType!==vn&&(n>xce||r.velocity===void 0)){var u=e.deltaX-r.deltaX,c=e.deltaY-r.deltaY,d=QG(n,u,c);s=d.x,a=d.y,i=qo(d.x)>qo(d.y)?d.x:d.y,o=YG(u,c),t.lastInterval=e}else i=r.velocity,s=r.velocityX,a=r.velocityY,o=r.direction;e.velocity=i,e.velocityX=s,e.velocityY=a,e.direction=o}function jce(t,e){var r=t.session,n=e.pointers,i=n.length;r.firstInput||(r.firstInput=EA(e)),i>1&&!r.firstMultiple?r.firstMultiple=EA(e):i===1&&(r.firstMultiple=!1);var s=r.firstInput,a=r.firstMultiple,o=a?a.center:s.center,u=e.center=GG(n);e.timeStamp=UO(),e.deltaTime=e.timeStamp-s.timeStamp,e.angle=Vj(o,u),e.distance=$p(o,u),_ce(r,e),e.offsetDirection=YG(e.deltaX,e.deltaY);var c=QG(e.deltaTime,e.deltaX,e.deltaY);e.overallVelocityX=c.x,e.overallVelocityY=c.y,e.overallVelocity=qo(c.x)>qo(c.y)?c.x:c.y,e.scale=a?Sce(a.pointers,n):1,e.rotation=a?Ece(a.pointers,n):0,e.maxPointers=r.prevInput?e.pointers.length>r.prevInput.maxPointers?e.pointers.length:r.prevInput.maxPointers:e.pointers.length,Nce(r,e);var d=t.element,h=e.srcEvent,f;h.composedPath?f=h.composedPath()[0]:h.path?f=h.path[0]:f=h.target,VO(f,d)&&(d=f),e.target=d}function Cce(t,e,r){var n=r.pointers.length,i=r.changedPointers.length,s=e&Kr&&n-i===0,a=e&(Zt|vn)&&n-i===0;r.isFirst=!!s,r.isFinal=!!a,s&&(t.session={}),r.eventType=e,jce(t,r),t.emit("hammer.input",r),t.recognize(r),t.session.prevInput=r}function Pd(t){return t.trim().split(/\s+/g)}function Jc(t,e,r){us(Pd(e),function(n){t.addEventListener(n,r,!1)})}function Zc(t,e,r){us(Pd(e),function(n){t.removeEventListener(n,r,!1)})}function NA(t){var e=t.ownerDocument||t;return e.defaultView||e.parentWindow||window}var Xu=function(){function t(r,n){var i=this;this.manager=r,this.callback=n,this.element=r.element,this.target=r.options.inputTarget,this.domHandler=function(s){Im(r.options.enable,[r])&&i.handler(s)},this.init()}var e=t.prototype;return e.handler=function(){},e.init=function(){this.evEl&&Jc(this.element,this.evEl,this.domHandler),this.evTarget&&Jc(this.target,this.evTarget,this.domHandler),this.evWin&&Jc(NA(this.element),this.evWin,this.domHandler)},e.destroy=function(){this.evEl&&Zc(this.element,this.evEl,this.domHandler),this.evTarget&&Zc(this.target,this.evTarget,this.domHandler),this.evWin&&Zc(NA(this.element),this.evWin,this.domHandler)},t}();function Ao(t,e,r){if(t.indexOf&&!r)return t.indexOf(e);for(var n=0;n<t.length;){if(r&&t[n][r]==e||!r&&t[n]===e)return n;n++}return-1}var Oce={pointerdown:Kr,pointermove:Jo,pointerup:Zt,pointercancel:vn,pointerout:vn},Tce={2:vh,3:yce,4:WO,5:bce},XG="pointerdown",JG="pointermove pointerup pointercancel";ls.MSPointerEvent&&!ls.PointerEvent&&(XG="MSPointerDown",JG="MSPointerMove MSPointerUp MSPointerCancel");var ZG=function(t){Qn(e,t);function e(){var n,i=e.prototype;return i.evEl=XG,i.evWin=JG,n=t.apply(this,arguments)||this,n.store=n.manager.session.pointerEvents=[],n}var r=e.prototype;return r.handler=function(i){var s=this.store,a=!1,o=i.type.toLowerCase().replace("ms",""),u=Oce[o],c=Tce[i.pointerType]||i.pointerType,d=c===vh,h=Ao(s,i.pointerId,"pointerId");u&Kr&&(i.button===0||d)?h<0&&(s.push(i),h=s.length-1):u&(Zt|vn)&&(a=!0),!(h<0)&&(s[h]=i,this.callback(this.manager,u,{pointers:s,changedPointers:[i],pointerType:c,srcEvent:i}),a&&s.splice(h,1))},e}(Xu);function Id(t){return Array.prototype.slice.call(t,0)}function HO(t,e,r){for(var n=[],i=[],s=0;s<t.length;){var a=e?t[s][e]:t[s];Ao(i,a)<0&&n.push(t[s]),i[s]=a,s++}return r&&(e?n=n.sort(function(o,u){return o[e]>u[e]}):n=n.sort()),n}var Pce={touchstart:Kr,touchmove:Jo,touchend:Zt,touchcancel:vn},Ice="touchstart touchmove touchend touchcancel",KO=function(t){Qn(e,t);function e(){var n;return e.prototype.evTarget=Ice,n=t.apply(this,arguments)||this,n.targetIds={},n}var r=e.prototype;return r.handler=function(i){var s=Pce[i.type],a=Rce.call(this,i,s);a&&this.callback(this.manager,s,{pointers:a[0],changedPointers:a[1],pointerType:vh,srcEvent:i})},e}(Xu);function Rce(t,e){var r=Id(t.touches),n=this.targetIds;if(e&(Kr|Jo)&&r.length===1)return n[r[0].identifier]=!0,[r,r];var i,s,a=Id(t.changedTouches),o=[],u=this.target;if(s=r.filter(function(c){return VO(c.target,u)}),e===Kr)for(i=0;i<s.length;)n[s[i].identifier]=!0,i++;for(i=0;i<a.length;)n[a[i].identifier]&&o.push(a[i]),e&(Zt|vn)&&delete n[a[i].identifier],i++;if(o.length)return[HO(s.concat(o),"identifier",!0),o]}var $ce={mousedown:Kr,mousemove:Jo,mouseup:Zt},kce="mousedown",Dce="mousemove mouseup",GO=function(t){Qn(e,t);function e(){var n,i=e.prototype;return i.evEl=kce,i.evWin=Dce,n=t.apply(this,arguments)||this,n.pressed=!1,n}var r=e.prototype;return r.handler=function(i){var s=$ce[i.type];s&Kr&&i.button===0&&(this.pressed=!0),s&Jo&&i.which!==1&&(s=Zt),this.pressed&&(s&Zt&&(this.pressed=!1),this.callback(this.manager,s,{pointers:[i],changedPointers:[i],pointerType:WO,srcEvent:i}))},e}(Xu),Mce=2500,jA=25;function CA(t){var e=t.changedPointers,r=e[0];if(r.identifier===this.primaryTouch){var n={x:r.clientX,y:r.clientY},i=this.lastTouches;this.lastTouches.push(n);var s=function(){var o=i.indexOf(n);o>-1&&i.splice(o,1)};setTimeout(s,Mce)}}function qce(t,e){t&Kr?(this.primaryTouch=e.changedPointers[0].identifier,CA.call(this,e)):t&(Zt|vn)&&CA.call(this,e)}function Ace(t){for(var e=t.srcEvent.clientX,r=t.srcEvent.clientY,n=0;n<this.lastTouches.length;n++){var i=this.lastTouches[n],s=Math.abs(e-i.x),a=Math.abs(r-i.y);if(s<=jA&&a<=jA)return!0}return!1}var eY=function(){var t=function(e){Qn(r,e);function r(i,s){var a;return a=e.call(this,i,s)||this,a.handler=function(o,u,c){var d=c.pointerType===vh,h=c.pointerType===WO;if(!(h&&c.sourceCapabilities&&c.sourceCapabilities.firesTouchEvents)){if(d)qce.call(bf(bf(a)),u,c);else if(h&&Ace.call(bf(bf(a)),c))return;a.callback(o,u,c)}},a.touch=new KO(a.manager,a.handler),a.mouse=new GO(a.manager,a.handler),a.primaryTouch=null,a.lastTouches=[],a}var n=r.prototype;return n.destroy=function(){this.touch.destroy(),this.mouse.destroy()},r}(Xu);return t}();function Fce(t){var e,r=t.options.inputClass;return r?e=r:vce?e=ZG:gce?e=KO:WG?e=eY:e=GO,new e(t,Cce)}function Dl(t,e,r){return Array.isArray(t)?(us(t,r[e],r),!0):!1}var Uf=1,Vn=2,Nu=4,ya=8,cs=ya,Rd=16,Pi=32,Lce=1;function Bce(){return Lce++}function wf(t,e){var r=e.manager;return r?r.get(t):t}function OA(t){return t&Rd?"cancel":t&ya?"end":t&Nu?"move":t&Vn?"start":""}var xh=function(){function t(r){r===void 0&&(r={}),this.options=mi({enable:!0},r),this.id=Bce(),this.manager=null,this.state=Uf,this.simultaneous={},this.requireFail=[]}var e=t.prototype;return e.set=function(n){return Mo(this.options,n),this.manager&&this.manager.touchAction.update(),this},e.recognizeWith=function(n){if(Dl(n,"recognizeWith",this))return this;var i=this.simultaneous;return n=wf(n,this),i[n.id]||(i[n.id]=n,n.recognizeWith(this)),this},e.dropRecognizeWith=function(n){return Dl(n,"dropRecognizeWith",this)?this:(n=wf(n,this),delete this.simultaneous[n.id],this)},e.requireFailure=function(n){if(Dl(n,"requireFailure",this))return this;var i=this.requireFail;return n=wf(n,this),Ao(i,n)===-1&&(i.push(n),n.requireFailure(this)),this},e.dropRequireFailure=function(n){if(Dl(n,"dropRequireFailure",this))return this;n=wf(n,this);var i=Ao(this.requireFail,n);return i>-1&&this.requireFail.splice(i,1),this},e.hasRequireFailures=function(){return this.requireFail.length>0},e.canRecognizeWith=function(n){return!!this.simultaneous[n.id]},e.emit=function(n){var i=this,s=this.state;function a(o){i.manager.emit(o,n)}s<ya&&a(i.options.event+OA(s)),a(i.options.event),n.additionalEvent&&a(n.additionalEvent),s>=ya&&a(i.options.event+OA(s))},e.tryEmit=function(n){if(this.canEmit())return this.emit(n);this.state=Pi},e.canEmit=function(){for(var n=0;n<this.requireFail.length;){if(!(this.requireFail[n].state&(Pi|Uf)))return!1;n++}return!0},e.recognize=function(n){var i=Mo({},n);if(!Im(this.options.enable,[this,i])){this.reset(),this.state=Pi;return}this.state&(cs|Rd|Pi)&&(this.state=Uf),this.state=this.process(i),this.state&(Vn|Nu|ya|Rd)&&this.tryEmit(i)},e.process=function(n){},e.getTouchAction=function(){},e.reset=function(){},t}(),Hj=function(t){Qn(e,t);function e(n){var i;return n===void 0&&(n={}),i=t.call(this,mi({event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},n))||this,i.pTime=!1,i.pCenter=!1,i._timer=null,i._input=null,i.count=0,i}var r=e.prototype;return r.getTouchAction=function(){return[Wj]},r.process=function(i){var s=this,a=this.options,o=i.pointers.length===a.pointers,u=i.distance<a.threshold,c=i.deltaTime<a.time;if(this.reset(),i.eventType&Kr&&this.count===0)return this.failTimeout();if(u&&c&&o){if(i.eventType!==Zt)return this.failTimeout();var d=this.pTime?i.timeStamp-this.pTime<a.interval:!0,h=!this.pCenter||$p(this.pCenter,i.center)<a.posThreshold;this.pTime=i.timeStamp,this.pCenter=i.center,!h||!d?this.count=1:this.count+=1,this._input=i;var f=this.count%a.taps;if(f===0)return this.hasRequireFailures()?(this._timer=setTimeout(function(){s.state=cs,s.tryEmit()},a.interval),Vn):cs}return Pi},r.failTimeout=function(){var i=this;return this._timer=setTimeout(function(){i.state=Pi},this.options.interval),Pi},r.reset=function(){clearTimeout(this._timer)},r.emit=function(){this.state===cs&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))},e}(xh),ju=function(t){Qn(e,t);function e(n){return n===void 0&&(n={}),t.call(this,mi({pointers:1},n))||this}var r=e.prototype;return r.attrTest=function(i){var s=this.options.pointers;return s===0||i.pointers.length===s},r.process=function(i){var s=this.state,a=i.eventType,o=s&(Vn|Nu),u=this.attrTest(i);return o&&(a&vn||!u)?s|Rd:o||u?a&Zt?s|ya:s&Vn?s|Nu:Vn:Pi},e}(xh);function tY(t){return t===Eu?"down":t===bh?"up":t===gh?"left":t===yh?"right":""}var YO=function(t){Qn(e,t);function e(n){var i;return n===void 0&&(n={}),i=t.call(this,mi({event:"pan",threshold:10,pointers:1,direction:VG},n))||this,i.pX=null,i.pY=null,i}var r=e.prototype;return r.getTouchAction=function(){var i=this.options.direction,s=[];return i&qi&&s.push(Td),i&yo&&s.push(Od),s},r.directionTest=function(i){var s=this.options,a=!0,o=i.distance,u=i.direction,c=i.deltaX,d=i.deltaY;return u&s.direction||(s.direction&qi?(u=c===0?Ip:c<0?gh:yh,a=c!==this.pX,o=Math.abs(i.deltaX)):(u=d===0?Ip:d<0?bh:Eu,a=d!==this.pY,o=Math.abs(i.deltaY))),i.direction=u,a&&o>s.threshold&&u&s.direction},r.attrTest=function(i){return ju.prototype.attrTest.call(this,i)&&(this.state&Vn||!(this.state&Vn)&&this.directionTest(i))},r.emit=function(i){this.pX=i.deltaX,this.pY=i.deltaY;var s=tY(i.direction);s&&(i.additionalEvent=this.options.event+s),t.prototype.emit.call(this,i)},e}(ju),rY=function(t){Qn(e,t);function e(n){return n===void 0&&(n={}),t.call(this,mi({event:"swipe",threshold:10,velocity:.3,direction:qi|yo,pointers:1},n))||this}var r=e.prototype;return r.getTouchAction=function(){return YO.prototype.getTouchAction.call(this)},r.attrTest=function(i){var s=this.options.direction,a;return s&(qi|yo)?a=i.overallVelocity:s&qi?a=i.overallVelocityX:s&yo&&(a=i.overallVelocityY),t.prototype.attrTest.call(this,i)&&s&i.offsetDirection&&i.distance>this.options.threshold&&i.maxPointers===this.options.pointers&&qo(a)>this.options.velocity&&i.eventType&Zt},r.emit=function(i){var s=tY(i.offsetDirection);s&&this.manager.emit(this.options.event+s,i),this.manager.emit(this.options.event,i)},e}(ju),nY=function(t){Qn(e,t);function e(n){return n===void 0&&(n={}),t.call(this,mi({event:"pinch",threshold:0,pointers:2},n))||this}var r=e.prototype;return r.getTouchAction=function(){return[go]},r.attrTest=function(i){return t.prototype.attrTest.call(this,i)&&(Math.abs(i.scale-1)>this.options.threshold||this.state&Vn)},r.emit=function(i){if(i.scale!==1){var s=i.scale<1?"in":"out";i.additionalEvent=this.options.event+s}t.prototype.emit.call(this,i)},e}(ju),iY=function(t){Qn(e,t);function e(n){return n===void 0&&(n={}),t.call(this,mi({event:"rotate",threshold:0,pointers:2},n))||this}var r=e.prototype;return r.getTouchAction=function(){return[go]},r.attrTest=function(i){return t.prototype.attrTest.call(this,i)&&(Math.abs(i.rotation)>this.options.threshold||this.state&Vn)},e}(ju),sY=function(t){Qn(e,t);function e(n){var i;return n===void 0&&(n={}),i=t.call(this,mi({event:"press",pointers:1,time:251,threshold:9},n))||this,i._timer=null,i._input=null,i}var r=e.prototype;return r.getTouchAction=function(){return[UG]},r.process=function(i){var s=this,a=this.options,o=i.pointers.length===a.pointers,u=i.distance<a.threshold,c=i.deltaTime>a.time;if(this._input=i,!u||!o||i.eventType&(Zt|vn)&&!c)this.reset();else if(i.eventType&Kr)this.reset(),this._timer=setTimeout(function(){s.state=cs,s.tryEmit()},a.time);else if(i.eventType&Zt)return cs;return Pi},r.reset=function(){clearTimeout(this._timer)},r.emit=function(i){this.state===cs&&(i&&i.eventType&Zt?this.manager.emit(this.options.event+"up",i):(this._input.timeStamp=UO(),this.manager.emit(this.options.event,this._input)))},e}(xh),aY={domEvents:!1,touchAction:zG,enable:!0,inputTarget:null,inputClass:null,cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}},TA=[[iY,{enable:!1}],[nY,{enable:!1},["rotate"]],[rY,{direction:qi}],[YO,{direction:qi},["swipe"]],[Hj],[Hj,{event:"doubletap",taps:2},["tap"]],[sY]],zce=1,PA=2;function IA(t,e){var r=t.element;if(r.style){var n;us(t.options.cssProps,function(i,s){n=Pm(r.style,s),e?(t.oldCssProps[n]=r.style[n],r.style[n]=i):r.style[n]=t.oldCssProps[n]||""}),e||(t.oldCssProps={})}}function Uce(t,e){var r=document.createEvent("Event");r.initEvent(t,!0,!0),r.gesture=e,e.target.dispatchEvent(r)}var RA=function(){function t(r,n){var i=this;this.options=Mo({},aY,n||{}),this.options.inputTarget=this.options.inputTarget||r,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=r,this.input=Fce(this),this.touchAction=new KG(this,this.options.touchAction),IA(this,!0),us(this.options.recognizers,function(s){var a=i.add(new s[0](s[1]));s[2]&&a.recognizeWith(s[2]),s[3]&&a.requireFailure(s[3])},this)}var e=t.prototype;return e.set=function(n){return Mo(this.options,n),n.touchAction&&this.touchAction.update(),n.inputTarget&&(this.input.destroy(),this.input.target=n.inputTarget,this.input.init()),this},e.stop=function(n){this.session.stopped=n?PA:zce},e.recognize=function(n){var i=this.session;if(!i.stopped){this.touchAction.preventDefaults(n);var s,a=this.recognizers,o=i.curRecognizer;(!o||o&&o.state&cs)&&(i.curRecognizer=null,o=null);for(var u=0;u<a.length;)s=a[u],i.stopped!==PA&&(!o||s===o||s.canRecognizeWith(o))?s.recognize(n):s.reset(),!o&&s.state&(Vn|Nu|ya)&&(i.curRecognizer=s,o=s),u++}},e.get=function(n){if(n instanceof xh)return n;for(var i=this.recognizers,s=0;s<i.length;s++)if(i[s].options.event===n)return i[s];return null},e.add=function(n){if(Dl(n,"add",this))return this;var i=this.get(n.options.event);return i&&this.remove(i),this.recognizers.push(n),n.manager=this,this.touchAction.update(),n},e.remove=function(n){if(Dl(n,"remove",this))return this;var i=this.get(n);if(n){var s=this.recognizers,a=Ao(s,i);a!==-1&&(s.splice(a,1),this.touchAction.update())}return this},e.on=function(n,i){if(n===void 0||i===void 0)return this;var s=this.handlers;return us(Pd(n),function(a){s[a]=s[a]||[],s[a].push(i)}),this},e.off=function(n,i){if(n===void 0)return this;var s=this.handlers;return us(Pd(n),function(a){i?s[a]&&s[a].splice(Ao(s[a],i),1):delete s[a]}),this},e.emit=function(n,i){this.options.domEvents&&Uce(n,i);var s=this.handlers[n]&&this.handlers[n].slice();if(!(!s||!s.length)){i.type=n,i.preventDefault=function(){i.srcEvent.preventDefault()};for(var a=0;a<s.length;)s[a](i),a++}},e.destroy=function(){this.element&&IA(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null},t}(),Wce={touchstart:Kr,touchmove:Jo,touchend:Zt,touchcancel:vn},Vce="touchstart",Hce="touchstart touchmove touchend touchcancel",Kce=function(t){Qn(e,t);function e(){var n,i=e.prototype;return i.evTarget=Vce,i.evWin=Hce,n=t.apply(this,arguments)||this,n.started=!1,n}var r=e.prototype;return r.handler=function(i){var s=Wce[i.type];if(s===Kr&&(this.started=!0),!!this.started){var a=Gce.call(this,i,s);s&(Zt|vn)&&a[0].length-a[1].length===0&&(this.started=!1),this.callback(this.manager,s,{pointers:a[0],changedPointers:a[1],pointerType:vh,srcEvent:i})}},e}(Xu);function Gce(t,e){var r=Id(t.touches),n=Id(t.changedTouches);return e&(Zt|vn)&&(r=HO(r.concat(n),"identifier",!0)),[r,n]}function oY(t,e,r){var n="DEPRECATED METHOD: "+e+`
`+r+` AT 
`;return function(){var i=new Error("get-stack-trace"),s=i&&i.stack?i.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",a=window.console&&(window.console.warn||window.console.log);return a&&a.call(window.console,n,s),t.apply(this,arguments)}}var lY=oY(function(t,e,r){for(var n=Object.keys(e),i=0;i<n.length;)(!r||r&&t[n[i]]===void 0)&&(t[n[i]]=e[n[i]]),i++;return t},"extend","Use `assign`."),Yce=oY(function(t,e){return lY(t,e,!0)},"merge","Use `assign`.");function Qce(t,e,r){var n=e.prototype,i;i=t.prototype=Object.create(n),i.constructor=t,i._super=n,r&&Mo(i,r)}function $A(t,e){return function(){return t.apply(e,arguments)}}var Xce=function(){var t=function(r,n){return n===void 0&&(n={}),new RA(r,mi({recognizers:TA.concat()},n))};return t.VERSION="2.0.17-rc",t.DIRECTION_ALL=VG,t.DIRECTION_DOWN=Eu,t.DIRECTION_LEFT=gh,t.DIRECTION_RIGHT=yh,t.DIRECTION_UP=bh,t.DIRECTION_HORIZONTAL=qi,t.DIRECTION_VERTICAL=yo,t.DIRECTION_NONE=Ip,t.DIRECTION_DOWN=Eu,t.INPUT_START=Kr,t.INPUT_MOVE=Jo,t.INPUT_END=Zt,t.INPUT_CANCEL=vn,t.STATE_POSSIBLE=Uf,t.STATE_BEGAN=Vn,t.STATE_CHANGED=Nu,t.STATE_ENDED=ya,t.STATE_RECOGNIZED=cs,t.STATE_CANCELLED=Rd,t.STATE_FAILED=Pi,t.Manager=RA,t.Input=Xu,t.TouchAction=KG,t.TouchInput=KO,t.MouseInput=GO,t.PointerEventInput=ZG,t.TouchMouseInput=eY,t.SingleTouchInput=Kce,t.Recognizer=xh,t.AttrRecognizer=ju,t.Tap=Hj,t.Pan=YO,t.Swipe=rY,t.Pinch=nY,t.Rotate=iY,t.Press=sY,t.on=Jc,t.off=Zc,t.each=us,t.merge=Yce,t.extend=lY,t.bindFn=$A,t.assign=Mo,t.inherit=Qce,t.bindFn=$A,t.prefixed=Pm,t.toArray=Id,t.inArray=Ao,t.uniqueArray=HO,t.splitStr=Pd,t.boolOrFn=Im,t.hasParent=VO,t.addEventListeners=Jc,t.removeEventListeners=Zc,t.defaults=Mo({},aY,{preset:TA}),t}();const uY=Mle("DELETE");function Jce(t){for(var e=arguments.length,r=new Array(e>1?e-1:0),n=1;n<e;n++)r[n-1]=arguments[n];return cY({},t,...r)}function cY(){const t=kp(...arguments);return hY(t),t}function kp(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];if(e.length<2)return e[0];if(e.length>2)return kp(cY(e[0],e[1]),...Ule(e).call(e,2));const n=e[0],i=e[1];if(n instanceof Date&&i instanceof Date)return n.setTime(i.getTime()),n;for(const s of Yle(i))Object.prototype.propertyIsEnumerable.call(i,s)&&(i[s]===uY?delete n[s]:n[s]!==null&&i[s]!==null&&typeof n[s]=="object"&&typeof i[s]=="object"&&!Ei(n[s])&&!Ei(i[s])?n[s]=kp(n[s],i[s]):n[s]=dY(i[s]));return n}function dY(t){return Ei(t)?li(t).call(t,e=>dY(e)):typeof t=="object"&&t!==null?t instanceof Date?new Date(t.getTime()):kp({},t):t}function hY(t){for(const e of zO(t))t[e]===uY?delete t[e]:typeof t[e]=="object"&&t[e]!==null&&hY(t[e])}function Zce(){const t=()=>{};return{on:t,off:t,destroy:t,emit:t,get(){return{set:t}}}}const ede=typeof window<"u"?window.Hammer||Xce:function(){return Zce()};function is(t){var e;this._cleanupQueue=[],this.active=!1,this._dom={container:t,overlay:document.createElement("div")},this._dom.overlay.classList.add("vis-overlay"),this._dom.container.appendChild(this._dom.overlay),this._cleanupQueue.push(()=>{this._dom.overlay.parentNode.removeChild(this._dom.overlay)});const r=ede(this._dom.overlay);r.on("tap",kG(e=this._onTapOverlay).call(e,this)),this._cleanupQueue.push(()=>{r.destroy()});const n=["tap","doubletap","press","pinch","pan","panstart","panmove","panend"];Do(n).call(n,i=>{r.on(i,s=>{s.srcEvent.stopPropagation()})}),document&&document.body&&(this._onClick=i=>{tde(i.target,t)||this.deactivate()},document.body.addEventListener("click",this._onClick),this._cleanupQueue.push(()=>{document.body.removeEventListener("click",this._onClick)})),this._escListener=i=>{("key"in i?i.key==="Escape":i.keyCode===27)&&this.deactivate()}}dce(is.prototype);is.current=null;is.prototype.destroy=function(){this.deactivate();for(const r of bue(t=AG(e=this._cleanupQueue).call(e,0)).call(t)){var t,e;r()}};is.prototype.activate=function(){is.current&&is.current.deactivate(),is.current=this,this.active=!0,this._dom.overlay.style.display="none",this._dom.container.classList.add("vis-active"),this.emit("change"),this.emit("activate"),document.body.addEventListener("keydown",this._escListener)};is.prototype.deactivate=function(){this.active=!1,this._dom.overlay.style.display="block",this._dom.container.classList.remove("vis-active"),document.body.removeEventListener("keydown",this._escListener),this.emit("change"),this.emit("deactivate")};is.prototype._onTapOverlay=function(t){this.activate(),t.srcEvent.stopPropagation()};function tde(t,e){for(;t;){if(t===e)return!0;t=t.parentNode}return!1}var Nb,kA;function rde(){if(kA)return Nb;kA=1,SG();var t=cr();return Nb=t.Object.getOwnPropertySymbols,Nb}var jb,DA;function nde(){if(DA)return jb;DA=1;var t=rde();return jb=t,jb}var Cb,MA;function ide(){return MA||(MA=1,Cb=nde()),Cb}var sde=ide(),qA=Ke(sde),Ob={exports:{}},AA={},FA;function ade(){if(FA)return AA;FA=1;var t=De(),e=ht(),r=Li(),n=xm().f,i=nr(),s=!i||e(function(){n(1)});return t({target:"Object",stat:!0,forced:s,sham:!i},{getOwnPropertyDescriptor:function(o,u){return n(r(o),u)}}),AA}var LA;function ode(){if(LA)return Ob.exports;LA=1,ade();var t=cr(),e=t.Object,r=Ob.exports=function(i,s){return e.getOwnPropertyDescriptor(i,s)};return e.getOwnPropertyDescriptor.sham&&(r.sham=!0),Ob.exports}var Tb,BA;function lde(){if(BA)return Tb;BA=1;var t=ode();return Tb=t,Tb}var Pb,zA;function ude(){return zA||(zA=1,Pb=lde()),Pb}var cde=ude(),fY=Ke(cde),UA={},WA;function dde(){if(WA)return UA;WA=1;var t=De(),e=nr(),r=MG(),n=Li(),i=xm(),s=_m();return t({target:"Object",stat:!0,sham:!e},{getOwnPropertyDescriptors:function(o){for(var u=n(o),c=i.f,d=r(u),h={},f=0,p,v;d.length>f;)v=c(u,p=d[f++]),v!==void 0&&s(h,p,v);return h}}),UA}var Ib,VA;function hde(){if(VA)return Ib;VA=1,dde();var t=cr();return Ib=t.Object.getOwnPropertyDescriptors,Ib}var Rb,HA;function fde(){if(HA)return Rb;HA=1;var t=hde();return Rb=t,Rb}var $b,KA;function pde(){return KA||(KA=1,$b=fde()),$b}var mde=pde(),GA=Ke(mde),kb={exports:{}},YA={},QA;function vde(){if(QA)return YA;QA=1;var t=De(),e=nr(),r=AO().f;return t({target:"Object",stat:!0,forced:Object.defineProperties!==r,sham:!e},{defineProperties:r}),YA}var XA;function gde(){if(XA)return kb.exports;XA=1,vde();var t=cr(),e=t.Object,r=kb.exports=function(i,s){return e.defineProperties(i,s)};return e.defineProperties.sham&&(r.sham=!0),kb.exports}var Db,JA;function yde(){if(JA)return Db;JA=1;var t=gde();return Db=t,Db}var Mb,ZA;function bde(){return ZA||(ZA=1,Mb=yde()),Mb}var xde=bde(),wde=Ke(xde),qb,eF;function _de(){return eF||(eF=1,qb=fG()),qb}var Sde=_de(),Ede=Ke(Sde),tF={},rF={},Ab={exports:{}},Fb,nF;function Nde(){if(nF)return Fb;nF=1;var t=ht();return Fb=t(function(){if(typeof ArrayBuffer=="function"){var e=new ArrayBuffer(8);Object.isExtensible(e)&&Object.defineProperty(e,"a",{value:8})}}),Fb}var Lb,iF;function jde(){if(iF)return Lb;iF=1;var t=ht(),e=Jr(),r=Os(),n=Nde(),i=Object.isExtensible,s=t(function(){});return Lb=s||n?function(o){return!e(o)||n&&r(o)==="ArrayBuffer"?!1:i?i(o):!0}:i,Lb}var Bb,sF;function Cde(){if(sF)return Bb;sF=1;var t=ht();return Bb=!t(function(){return Object.isExtensible(Object.preventExtensions({}))}),Bb}var aF;function pY(){if(aF)return Ab.exports;aF=1;var t=De(),e=mt(),r=hh(),n=Jr(),i=yr(),s=Yn().f,a=Nm(),o=bG(),u=jde(),c=bm(),d=Cde(),h=!1,f=c("meta"),p=0,v=function(b){s(b,f,{value:{objectID:"O"+p++,weakData:{}}})},y=function(b,_){if(!n(b))return typeof b=="symbol"?b:(typeof b=="string"?"S":"P")+b;if(!i(b,f)){if(!u(b))return"F";if(!_)return"E";v(b)}return b[f].objectID},x=function(b,_){if(!i(b,f)){if(!u(b))return!0;if(!_)return!1;v(b)}return b[f].weakData},g=function(b){return d&&h&&u(b)&&!i(b,f)&&v(b),b},m=function(){w.enable=function(){},h=!0;var b=a.f,_=e([].splice),E={};E[f]=1,b(E).length&&(a.f=function(j){for(var S=b(j),C=0,N=S.length;C<N;C++)if(S[C]===f){_(S,C,1);break}return S},t({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:o.f}))},w=Ab.exports={enable:m,fastKey:y,getWeakData:x,onFreeze:g};return r[f]=!0,Ab.exports}var zb,oF;function Ode(){if(oF)return zb;oF=1;var t=br(),e=Qu(),r=t("iterator"),n=Array.prototype;return zb=function(i){return i!==void 0&&(e.Array===i||n[r]===i)},zb}var Ub,lF;function mY(){if(lF)return Ub;lF=1;var t=$a(),e=IO(),r=lh(),n=Qu(),i=br(),s=i("iterator");return Ub=function(a){if(!r(a))return e(a,s)||e(a,"@@iterator")||n[t(a)]},Ub}var Wb,uF;function vY(){if(uF)return Wb;uF=1;var t=yn(),e=Ts(),r=Ps(),n=Uu(),i=mY(),s=TypeError;return Wb=function(a,o){var u=arguments.length<2?i(a):o;if(e(u))return r(t(u,a));throw new s(n(a)+" is not iterable")},Wb}var Vb,cF;function QO(){if(cF)return Vb;cF=1;var t=yn(),e=Ps(),r=IO();return Vb=function(n,i,s){var a,o;e(n);try{if(a=r(n,"return"),!a){if(i==="throw")throw s;return s}a=t(a,n)}catch(u){o=!0,a=u}if(i==="throw")throw s;if(o)throw a;return e(a),s},Vb}var Hb,dF;function XO(){if(dF)return Hb;dF=1;var t=wm(),e=yn(),r=Ps(),n=Uu(),i=Ode(),s=Ra(),a=gr(),o=vY(),u=mY(),c=QO(),d=TypeError,h=function(p,v){this.stopped=p,this.result=v},f=h.prototype;return Hb=function(p,v,y){var x=y&&y.that,g=!!(y&&y.AS_ENTRIES),m=!!(y&&y.IS_RECORD),w=!!(y&&y.IS_ITERATOR),b=!!(y&&y.INTERRUPTED),_=t(v,x),E,j,S,C,N,O,P,I=function(F){return E&&c(E,"normal"),new h(!0,F)},D=function(F){return g?(r(F),b?_(F[0],F[1],I):_(F[0],F[1])):b?_(F,I):_(F)};if(m)E=p.iterator;else if(w)E=p;else{if(j=u(p),!j)throw new d(n(p)+" is not iterable");if(i(j)){for(S=0,C=s(p);C>S;S++)if(N=D(p[S]),N&&a(f,N))return N;return new h(!1)}E=o(p,j)}for(O=m?p.next:E.next;!(P=e(O,E)).done;){try{N=D(P.value)}catch(F){c(E,"throw",F)}if(typeof N=="object"&&N&&a(f,N))return N}return new h(!1)},Hb}var Kb,hF;function gY(){if(hF)return Kb;hF=1;var t=gr(),e=TypeError;return Kb=function(r,n){if(t(n,r))return r;throw new e("Incorrect invocation")},Kb}var Gb,fF;function yY(){if(fF)return Gb;fF=1;var t=De(),e=rr(),r=pY(),n=ht(),i=Hu(),s=XO(),a=gY(),o=vr(),u=Jr(),c=lh(),d=Xo(),h=Yn().f,f=Yu().forEach,p=nr(),v=mh(),y=v.set,x=v.getterFor;return Gb=function(g,m,w){var b=g.indexOf("Map")!==-1,_=g.indexOf("Weak")!==-1,E=b?"set":"add",j=e[g],S=j&&j.prototype,C={},N;if(!p||!o(j)||!(_||S.forEach&&!n(function(){new j().entries().next()})))N=w.getConstructor(m,g,b,E),r.enable();else{N=m(function(I,D){y(a(I,O),{type:g,collection:new j}),c(D)||s(D,I[E],{that:I,AS_ENTRIES:b})});var O=N.prototype,P=x(g);f(["add","clear","delete","forEach","get","has","set","keys","values","entries"],function(I){var D=I==="add"||I==="set";I in S&&!(_&&I==="clear")&&i(O,I,function(F,M){var V=P(this).collection;if(!D&&_&&!u(F))return I==="get"?void 0:!1;var q=V[I](F===0?0:F,M);return D?this:q})}),_||h(O,"size",{configurable:!0,get:function(){return P(this).collection.size}})}return d(N,g,!1,!0),C[g]=N,t({global:!0,forced:!0},C),_||w.setStrong(N,g,b),N},Gb}var Yb,pF;function Tde(){if(pF)return Yb;pF=1;var t=ph();return Yb=function(e,r,n){for(var i in r)n&&n.unsafe&&e[i]?e[i]=r[i]:t(e,i,r[i],n);return e},Yb}var Qb,mF;function Pde(){if(mF)return Qb;mF=1;var t=In(),e=FO(),r=br(),n=nr(),i=r("species");return Qb=function(s){var a=t(s);n&&a&&!a[i]&&e(a,i,{configurable:!0,get:function(){return this}})},Qb}var Xb,vF;function bY(){if(vF)return Xb;vF=1;var t=fh(),e=FO(),r=Tde(),n=wm(),i=gY(),s=lh(),a=XO(),o=LO(),u=BO(),c=Pde(),d=nr(),h=pY().fastKey,f=mh(),p=f.set,v=f.getterFor;return Xb={getConstructor:function(y,x,g,m){var w=y(function(S,C){i(S,b),p(S,{type:x,index:t(null),first:null,last:null,size:0}),d||(S.size=0),s(C)||a(C,S[m],{that:S,AS_ENTRIES:g})}),b=w.prototype,_=v(x),E=function(S,C,N){var O=_(S),P=j(S,C),I,D;return P?P.value=N:(O.last=P={index:D=h(C,!0),key:C,value:N,previous:I=O.last,next:null,removed:!1},O.first||(O.first=P),I&&(I.next=P),d?O.size++:S.size++,D!=="F"&&(O.index[D]=P)),S},j=function(S,C){var N=_(S),O=h(C),P;if(O!=="F")return N.index[O];for(P=N.first;P;P=P.next)if(P.key===C)return P};return r(b,{clear:function(){for(var C=this,N=_(C),O=N.first;O;)O.removed=!0,O.previous&&(O.previous=O.previous.next=null),O=O.next;N.first=N.last=null,N.index=t(null),d?N.size=0:C.size=0},delete:function(S){var C=this,N=_(C),O=j(C,S);if(O){var P=O.next,I=O.previous;delete N.index[O.index],O.removed=!0,I&&(I.next=P),P&&(P.previous=I),N.first===O&&(N.first=P),N.last===O&&(N.last=I),d?N.size--:C.size--}return!!O},forEach:function(C){for(var N=_(this),O=n(C,arguments.length>1?arguments[1]:void 0),P;P=P?P.next:N.first;)for(O(P.value,P.key,this);P&&P.removed;)P=P.previous},has:function(C){return!!j(this,C)}}),r(b,g?{get:function(C){var N=j(this,C);return N&&N.value},set:function(C,N){return E(this,C===0?0:C,N)}}:{add:function(C){return E(this,C=C===0?0:C,C)}}),d&&e(b,"size",{configurable:!0,get:function(){return _(this).size}}),w},setStrong:function(y,x,g){var m=x+" Iterator",w=v(x),b=v(m);o(y,x,function(_,E){p(this,{type:m,target:_,state:w(_),kind:E,last:null})},function(){for(var _=b(this),E=_.kind,j=_.last;j&&j.removed;)j=j.previous;return!_.target||!(_.last=j=j?j.next:_.state.first)?(_.target=null,u(void 0,!0)):u(E==="keys"?j.key:E==="values"?j.value:[j.key,j.value],!1)},g?"entries":"values",!g,!0),c(x)}},Xb}var gF;function Ide(){if(gF)return rF;gF=1;var t=yY(),e=bY();return t("Map",function(r){return function(){return r(this,arguments.length?arguments[0]:void 0)}},e),rF}var yF;function Rde(){return yF||(yF=1,Ide()),tF}var bF={},Jb,xF;function xY(){return xF||(xF=1,Jb=function(t,e){return e===1?function(r,n){return r[t](n)}:function(r,n,i){return r[t](n,i)}}),Jb}var Zb,wF;function $de(){if(wF)return Zb;wF=1;var t=In(),e=xY(),r=t("Map");return Zb={Map:r,set:e("set",2),get:e("get",1),has:e("has",1),remove:e("delete",1),proto:r.prototype},Zb}var _F;function kde(){if(_F)return bF;_F=1;var t=De(),e=mt(),r=Ts(),n=Yo(),i=XO(),s=$de(),a=Wu(),o=ht(),u=s.Map,c=s.has,d=s.get,h=s.set,f=e([].push),p=a||o(function(){return u.groupBy("ab",function(v){return v}).get("a").length!==1});return t({target:"Map",stat:!0,forced:a||p},{groupBy:function(y,x){n(y),r(x);var g=new u,m=0;return i(y,function(w){var b=x(w,m++);c(g,b)?f(d(g,b),w):h(g,b,[w])}),g}}),bF}var ex,SF;function Dde(){if(SF)return ex;SF=1,Da(),Rde(),kde(),Om();var t=cr();return ex=t.Map,ex}var tx,EF;function Mde(){if(EF)return tx;EF=1;var t=Dde();return Ma(),tx=t,tx}var rx,NF;function qde(){return NF||(NF=1,rx=Mde()),rx}var Ade=qde(),wY=Ke(Ade),jF={},CF;function Fde(){if(CF)return jF;CF=1;var t=De(),e=Yu().some,r=Tm(),n=r("some");return t({target:"Array",proto:!0,forced:!n},{some:function(s){return e(this,s,arguments.length>1?arguments[1]:void 0)}}),jF}var nx,OF;function Lde(){if(OF)return nx;OF=1,Fde();var t=bn();return nx=t("Array","some"),nx}var ix,TF;function Bde(){if(TF)return ix;TF=1;var t=gr(),e=Lde(),r=Array.prototype;return ix=function(n){var i=n.some;return n===r||t(r,n)&&i===r.some?e:i},ix}var sx,PF;function zde(){if(PF)return sx;PF=1;var t=Bde();return sx=t,sx}var ax,IF;function Ude(){return IF||(IF=1,ax=zde()),ax}var Wde=Ude(),Vde=Ke(Wde),ox,RF;function Hde(){if(RF)return ox;RF=1,Da();var t=bn();return ox=t("Array","keys"),ox}var lx,$F;function Kde(){if($F)return lx;$F=1;var t=Hde();return lx=t,lx}var ux,kF;function Gde(){if(kF)return ux;kF=1,Ma();var t=$a(),e=yr(),r=gr(),n=Kde(),i=Array.prototype,s={DOMTokenList:!0,NodeList:!0};return ux=function(a){var o=a.keys;return a===i||r(i,a)&&o===i.keys||e(s,t(a))?n:o},ux}var cx,DF;function Yde(){return DF||(DF=1,cx=Gde()),cx}var Qde=Yde(),gl=Ke(Qde),MF={},dx,qF;function Xde(){if(qF)return dx;qF=1;var t=Gu(),e=Math.floor,r=function(n,i){var s=n.length;if(s<8)for(var a=1,o,u;a<s;){for(u=a,o=n[a];u&&i(n[u-1],o)>0;)n[u]=n[--u];u!==a++&&(n[u]=o)}else for(var c=e(s/2),d=r(t(n,0,c),i),h=r(t(n,c),i),f=d.length,p=h.length,v=0,y=0;v<f||y<p;)n[v+y]=v<f&&y<p?i(d[v],h[y])<=0?d[v++]:h[y++]:v<f?d[v++]:h[y++];return n};return dx=r,dx}var hx,AF;function Jde(){if(AF)return hx;AF=1;var t=Bu(),e=t.match(/firefox\/(\d+)/i);return hx=!!e&&+e[1],hx}var fx,FF;function Zde(){if(FF)return fx;FF=1;var t=Bu();return fx=/MSIE|Trident/.test(t),fx}var px,LF;function ehe(){if(LF)return px;LF=1;var t=Bu(),e=t.match(/AppleWebKit\/(\d+)\./);return px=!!e&&+e[1],px}var BF;function the(){if(BF)return MF;BF=1;var t=De(),e=mt(),r=Ts(),n=yi(),i=Ra(),s=qG(),a=ka(),o=ht(),u=Xde(),c=Tm(),d=Jde(),h=Zde(),f=uh(),p=ehe(),v=[],y=e(v.sort),x=e(v.push),g=o(function(){v.sort(void 0)}),m=o(function(){v.sort(null)}),w=c("sort"),b=!o(function(){if(f)return f<70;if(!(d&&d>3)){if(h)return!0;if(p)return p<603;var j="",S,C,N,O;for(S=65;S<76;S++){switch(C=String.fromCharCode(S),S){case 66:case 69:case 70:case 72:N=3;break;case 68:case 71:N=4;break;default:N=2}for(O=0;O<47;O++)v.push({k:C+O,v:N})}for(v.sort(function(P,I){return I.v-P.v}),O=0;O<v.length;O++)C=v[O].k.charAt(0),j.charAt(j.length-1)!==C&&(j+=C);return j!=="DGBEFHACIJK"}}),_=g||!m||!w||!b,E=function(j){return function(S,C){return C===void 0?-1:S===void 0?1:j!==void 0?+j(S,C)||0:a(S)>a(C)?1:-1}};return t({target:"Array",proto:!0,forced:_},{sort:function(S){S!==void 0&&r(S);var C=n(this);if(b)return S===void 0?y(C):y(C,S);var N=[],O=i(C),P,I;for(I=0;I<O;I++)I in C&&x(N,C[I]);for(u(N,E(S)),P=i(N),I=0;I<P;)C[I]=N[I++];for(;I<O;)s(C,I++);return C}}),MF}var mx,zF;function rhe(){if(zF)return mx;zF=1,the();var t=bn();return mx=t("Array","sort"),mx}var vx,UF;function nhe(){if(UF)return vx;UF=1;var t=gr(),e=rhe(),r=Array.prototype;return vx=function(n){var i=n.sort;return n===r||t(r,n)&&i===r.sort?e:i},vx}var gx,WF;function ihe(){if(WF)return gx;WF=1;var t=nhe();return gx=t,gx}var yx,VF;function she(){return VF||(VF=1,yx=ihe()),yx}var ahe=she(),Kj=Ke(ahe),bx,HF;function ohe(){if(HF)return bx;HF=1,Da();var t=bn();return bx=t("Array","values"),bx}var xx,KF;function lhe(){if(KF)return xx;KF=1;var t=ohe();return xx=t,xx}var wx,GF;function uhe(){if(GF)return wx;GF=1,Ma();var t=$a(),e=yr(),r=gr(),n=lhe(),i=Array.prototype,s={DOMTokenList:!0,NodeList:!0};return wx=function(a){var o=a.values;return a===i||r(i,a)&&o===i.values||e(s,t(a))?n:o},wx}var _x,YF;function che(){return YF||(YF=1,_x=uhe()),_x}var dhe=che(),QF=Ke(dhe),Sx,XF;function hhe(){return XF||(XF=1,Sx=$G()),Sx}var fhe=hhe(),Ml=Ke(fhe),Ex,JF;function phe(){if(JF)return Ex;JF=1,Da();var t=bn();return Ex=t("Array","entries"),Ex}var Nx,ZF;function mhe(){if(ZF)return Nx;ZF=1;var t=phe();return Nx=t,Nx}var jx,e4;function vhe(){if(e4)return jx;e4=1,Ma();var t=$a(),e=yr(),r=gr(),n=mhe(),i=Array.prototype,s={DOMTokenList:!0,NodeList:!0};return jx=function(a){var o=a.entries;return a===i||r(i,a)&&o===i.entries||e(s,t(a))?n:o},jx}var Cx,t4;function ghe(){return t4||(t4=1,Cx=vhe()),Cx}var yhe=ghe(),bhe=Ke(yhe);const _r=[];for(let t=0;t<256;++t)_r.push((t+256).toString(16).slice(1));function xhe(t,e=0){return(_r[t[e+0]]+_r[t[e+1]]+_r[t[e+2]]+_r[t[e+3]]+"-"+_r[t[e+4]]+_r[t[e+5]]+"-"+_r[t[e+6]]+_r[t[e+7]]+"-"+_r[t[e+8]]+_r[t[e+9]]+"-"+_r[t[e+10]]+_r[t[e+11]]+_r[t[e+12]]+_r[t[e+13]]+_r[t[e+14]]+_r[t[e+15]]).toLowerCase()}let Ox;const whe=new Uint8Array(16);function _he(){if(!Ox){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");Ox=crypto.getRandomValues.bind(crypto)}return Ox(whe)}const She=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto);var r4={randomUUID:She};function Ehe(t,e,r){var i;t=t||{};const n=t.random??((i=t.rng)==null?void 0:i.call(t))??_he();if(n.length<16)throw new Error("Random bytes length must be >= 16");return n[6]=n[6]&15|64,n[8]=n[8]&63|128,xhe(n)}function Nhe(t,e,r){return r4.randomUUID&&!t?r4.randomUUID():Ehe(t)}function n4(t){return typeof t=="string"||typeof t=="number"}class JO{constructor(e){ga(this,"_queue",[]),ga(this,"_timeout",null),ga(this,"_extended",null),this.delay=null,this.max=1/0,this.setOptions(e)}setOptions(e){e&&typeof e.delay<"u"&&(this.delay=e.delay),e&&typeof e.max<"u"&&(this.max=e.max),this._flushIfNeeded()}static extend(e,r){const n=new JO(r);if(e.flush!==void 0)throw new Error("Target object already has a property flush");e.flush=()=>{n.flush()};const i=[{name:"flush",original:void 0}];if(r&&r.replace)for(let s=0;s<r.replace.length;s++){const a=r.replace[s];i.push({name:a,original:e[a]}),n.replace(e,a)}return n._extended={object:e,methods:i},n}destroy(){if(this.flush(),this._extended){const e=this._extended.object,r=this._extended.methods;for(let n=0;n<r.length;n++){const i=r[n];i.original?e[i.name]=i.original:delete e[i.name]}this._extended=null}}replace(e,r){const n=this,i=e[r];if(!i)throw new Error("Method "+r+" undefined");e[r]=function(){for(var s=arguments.length,a=new Array(s),o=0;o<s;o++)a[o]=arguments[o];n.queue({args:a,fn:i,context:this})}}queue(e){typeof e=="function"?this._queue.push({fn:e}):this._queue.push(e),this._flushIfNeeded()}_flushIfNeeded(){this._queue.length>this.max&&this.flush(),this._timeout!=null&&(clearTimeout(this._timeout),this._timeout=null),this.queue.length>0&&typeof this.delay=="number"&&(this._timeout=lce(()=>{this.flush()},this.delay))}flush(){var e,r;Do(e=AG(r=this._queue).call(r,0)).call(e,n=>{n.fn.apply(n.context||n.fn,n.args||[])})}}class Dp{constructor(){ga(this,"_subscribers",{"*":[],add:[],remove:[],update:[]}),ga(this,"subscribe",Dp.prototype.on),ga(this,"unsubscribe",Dp.prototype.off)}_trigger(e,r,n){var i;if(e==="*")throw new Error("Cannot trigger event *");Do(i=[...this._subscribers[e],...this._subscribers["*"]]).call(i,s=>{s(e,r,n??null)})}on(e,r){typeof r=="function"&&this._subscribers[e].push(r)}off(e,r){var n;this._subscribers[e]=$l(n=this._subscribers[e]).call(n,i=>i!==r)}}var i4={},s4={},a4;function jhe(){if(a4)return s4;a4=1;var t=yY(),e=bY();return t("Set",function(r){return function(){return r(this,arguments.length?arguments[0]:void 0)}},e),s4}var o4;function Che(){return o4||(o4=1,jhe()),i4}var l4={},Tx,u4;function Zo(){if(u4)return Tx;u4=1;var t=Uu(),e=TypeError;return Tx=function(r){if(typeof r=="object"&&"size"in r&&"has"in r&&"add"in r&&"delete"in r&&"keys"in r)return r;throw new e(t(r)+" is not a set")},Tx}var Px,c4;function el(){if(c4)return Px;c4=1;var t=In(),e=xY(),r=t("Set"),n=r.prototype;return Px={Set:r,add:e("add",1),has:e("has",1),remove:e("delete",1),proto:n},Px}var Ix,d4;function tl(){if(d4)return Ix;d4=1;var t=yn();return Ix=function(e,r,n){for(var i=n?e:e.iterator,s=e.next,a,o;!(a=t(s,i)).done;)if(o=r(a.value),o!==void 0)return o},Ix}var Rx,h4;function wh(){if(h4)return Rx;h4=1;var t=tl();return Rx=function(e,r,n){return n?t(e.keys(),r,!0):e.forEach(r)},Rx}var $x,f4;function ZO(){if(f4)return $x;f4=1;var t=el(),e=wh(),r=t.Set,n=t.add;return $x=function(i){var s=new r;return e(i,function(a){n(s,a)}),s},$x}var kx,p4;function _h(){return p4||(p4=1,kx=function(t){return t.size}),kx}var Dx,m4;function Ohe(){return m4||(m4=1,Dx=function(t){return{iterator:t,next:t.next,done:!1}}),Dx}var Mx,v4;function rl(){if(v4)return Mx;v4=1;var t=Ts(),e=Ps(),r=yn(),n=Ku(),i=Ohe(),s="Invalid size",a=RangeError,o=TypeError,u=Math.max,c=function(d,h){this.set=d,this.size=u(h,0),this.has=t(d.has),this.keys=t(d.keys)};return c.prototype={getIterator:function(){return i(e(r(this.keys,this.set)))},includes:function(d){return r(this.has,this.set,d)}},Mx=function(d){e(d);var h=+d.size;if(h!==h)throw new o(s);var f=n(h);if(f<0)throw new a(s);return new c(d,f)},Mx}var qx,g4;function The(){if(g4)return qx;g4=1;var t=Zo(),e=el(),r=ZO(),n=_h(),i=rl(),s=wh(),a=tl(),o=e.has,u=e.remove;return qx=function(d){var h=t(this),f=i(d),p=r(h);return n(h)<=f.size?s(h,function(v){f.includes(v)&&u(p,v)}):a(f.getIterator(),function(v){o(p,v)&&u(p,v)}),p},qx}var Ax,y4;function nl(){return y4||(y4=1,Ax=function(){return!1}),Ax}var b4;function Phe(){if(b4)return l4;b4=1;var t=De(),e=The(),r=ht(),n=nl(),i=!n("difference",function(a){return a.size===0}),s=i||r(function(){var a={size:1,has:function(){return!0},keys:function(){var u=0;return{next:function(){var c=u++>1;return o.has(1)&&o.clear(),{done:c,value:2}}}}},o=new Set([1,2,3,4]);return o.difference(a).size!==3});return t({target:"Set",proto:!0,real:!0,forced:s},{difference:e}),l4}var x4={},Fx,w4;function Ihe(){if(w4)return Fx;w4=1;var t=Zo(),e=el(),r=_h(),n=rl(),i=wh(),s=tl(),a=e.Set,o=e.add,u=e.has;return Fx=function(d){var h=t(this),f=n(d),p=new a;return r(h)>f.size?s(f.getIterator(),function(v){u(h,v)&&o(p,v)}):i(h,function(v){f.includes(v)&&o(p,v)}),p},Fx}var _4;function Rhe(){if(_4)return x4;_4=1;var t=De(),e=ht(),r=Ihe(),n=nl(),i=!n("intersection",function(s){return s.size===2&&s.has(1)&&s.has(2)})||e(function(){return String(Array.from(new Set([1,2,3]).intersection(new Set([3,2]))))!=="3,2"});return t({target:"Set",proto:!0,real:!0,forced:i},{intersection:r}),x4}var S4={},Lx,E4;function $he(){if(E4)return Lx;E4=1;var t=Zo(),e=el().has,r=_h(),n=rl(),i=wh(),s=tl(),a=QO();return Lx=function(u){var c=t(this),d=n(u);if(r(c)<=d.size)return i(c,function(f){if(d.includes(f))return!1},!0)!==!1;var h=d.getIterator();return s(h,function(f){if(e(c,f))return a(h,"normal",!1)})!==!1},Lx}var N4;function khe(){if(N4)return S4;N4=1;var t=De(),e=$he(),r=nl(),n=!r("isDisjointFrom",function(i){return!i});return t({target:"Set",proto:!0,real:!0,forced:n},{isDisjointFrom:e}),S4}var j4={},Bx,C4;function Dhe(){if(C4)return Bx;C4=1;var t=Zo(),e=_h(),r=wh(),n=rl();return Bx=function(s){var a=t(this),o=n(s);return e(a)>o.size?!1:r(a,function(u){if(!o.includes(u))return!1},!0)!==!1},Bx}var O4;function Mhe(){if(O4)return j4;O4=1;var t=De(),e=Dhe(),r=nl(),n=!r("isSubsetOf",function(i){return i});return t({target:"Set",proto:!0,real:!0,forced:n},{isSubsetOf:e}),j4}var T4={},zx,P4;function qhe(){if(P4)return zx;P4=1;var t=Zo(),e=el().has,r=_h(),n=rl(),i=tl(),s=QO();return zx=function(o){var u=t(this),c=n(o);if(r(u)<c.size)return!1;var d=c.getIterator();return i(d,function(h){if(!e(u,h))return s(d,"normal",!1)})!==!1},zx}var I4;function Ahe(){if(I4)return T4;I4=1;var t=De(),e=qhe(),r=nl(),n=!r("isSupersetOf",function(i){return!i});return t({target:"Set",proto:!0,real:!0,forced:n},{isSupersetOf:e}),T4}var R4={},Ux,$4;function Fhe(){if($4)return Ux;$4=1;var t=Zo(),e=el(),r=ZO(),n=rl(),i=tl(),s=e.add,a=e.has,o=e.remove;return Ux=function(c){var d=t(this),h=n(c).getIterator(),f=r(d);return i(h,function(p){a(d,p)?o(f,p):s(f,p)}),f},Ux}var Wx,k4;function _Y(){return k4||(k4=1,Wx=function(t){try{var e=new Set,r={size:0,has:function(){return!0},keys:function(){return Object.defineProperty({},"next",{get:function(){return e.clear(),e.add(4),function(){return{done:!0}}}})}},n=e[t](r);return n.size===1&&n.values().next().value===4}catch{return!1}}),Wx}var D4;function Lhe(){if(D4)return R4;D4=1;var t=De(),e=Fhe(),r=_Y(),n=nl(),i=!n("symmetricDifference")||!r("symmetricDifference");return t({target:"Set",proto:!0,real:!0,forced:i},{symmetricDifference:e}),R4}var M4={},Vx,q4;function Bhe(){if(q4)return Vx;q4=1;var t=Zo(),e=el().add,r=ZO(),n=rl(),i=tl();return Vx=function(a){var o=t(this),u=n(a).getIterator(),c=r(o);return i(u,function(d){e(c,d)}),c},Vx}var A4;function zhe(){if(A4)return M4;A4=1;var t=De(),e=Bhe(),r=_Y(),n=nl(),i=!n("union")||!r("union");return t({target:"Set",proto:!0,real:!0,forced:i},{union:e}),M4}var Hx,F4;function Uhe(){if(F4)return Hx;F4=1,Da(),Che(),Phe(),Rhe(),khe(),Mhe(),Ahe(),Lhe(),zhe(),Om();var t=cr();return Hx=t.Set,Hx}var Kx,L4;function Whe(){if(L4)return Kx;L4=1;var t=Uhe();return Ma(),Kx=t,Kx}var Gx,B4;function Vhe(){return B4||(B4=1,Gx=Whe()),Gx}var Hhe=Vhe(),Yx=Ke(Hhe),Qx,z4;function Khe(){if(z4)return Qx;z4=1,Da(),Om();var t=vY();return Qx=t,Qx}var Xx,U4;function Ghe(){if(U4)return Xx;U4=1;var t=Khe();return Ma(),Xx=t,Xx}var Jx,W4;function Yhe(){if(W4)return Jx;W4=1;var t=Ghe();return Jx=t,Jx}var Zx,V4;function Qhe(){if(V4)return Zx;V4=1;var t=Yhe();return Zx=t,Zx}var e1,H4;function Xhe(){return H4||(H4=1,e1=Qhe()),e1}var t1,K4;function Jhe(){return K4||(K4=1,t1=Xhe()),t1}var Zhe=Jhe(),r1=Ke(Zhe);class eo{constructor(e){this._pairs=e}*[Ml](){for(const[e,r]of this._pairs)yield[e,r]}*entries(){for(const[e,r]of this._pairs)yield[e,r]}*keys(){for(const[e]of this._pairs)yield e}*values(){for(const[,e]of this._pairs)yield e}toIdArray(){var e;return li(e=[...this._pairs]).call(e,r=>r[0])}toItemArray(){var e;return li(e=[...this._pairs]).call(e,r=>r[1])}toEntryArray(){return[...this._pairs]}toObjectMap(){const e=Vue(null);for(const[r,n]of this._pairs)e[r]=n;return e}toMap(){return new wY(this._pairs)}toIdSet(){return new Yx(this.toIdArray())}toItemSet(){return new Yx(this.toItemArray())}cache(){return new eo([...this._pairs])}distinct(e){const r=new Yx;for(const[n,i]of this._pairs)r.add(e(i,n));return r}filter(e){const r=this._pairs;return new eo({*[Ml](){for(const[n,i]of r)e(i,n)&&(yield[n,i])}})}forEach(e){for(const[r,n]of this._pairs)e(n,r)}map(e){const r=this._pairs;return new eo({*[Ml](){for(const[n,i]of r)yield[n,e(i,n)]}})}max(e){const r=r1(this._pairs);let n=r.next();if(n.done)return null;let i=n.value[1],s=e(n.value[1],n.value[0]);for(;!(n=r.next()).done;){const[a,o]=n.value,u=e(o,a);u>s&&(s=u,i=o)}return i}min(e){const r=r1(this._pairs);let n=r.next();if(n.done)return null;let i=n.value[1],s=e(n.value[1],n.value[0]);for(;!(n=r.next()).done;){const[a,o]=n.value,u=e(o,a);u<s&&(s=u,i=o)}return i}reduce(e,r){for(const[n,i]of this._pairs)r=e(r,i,n);return r}sort(e){return new eo({[Ml]:()=>{var r;return r1(Kj(r=[...this._pairs]).call(r,(n,i)=>{let[s,a]=n,[o,u]=i;return e(a,u,s,o)}))}})}}function G4(t,e){var r=zO(t);if(qA){var n=qA(t);e&&(n=$l(n).call(n,function(i){return fY(t,i).enumerable})),r.push.apply(r,n)}return r}function Y4(t){for(var e=1;e<arguments.length;e++){var r,n,i=arguments[e]!=null?arguments[e]:{};e%2?Do(r=G4(Object(i),!0)).call(r,function(s){ga(t,s,i[s])}):GA?wde(t,GA(i)):Do(n=G4(Object(i))).call(n,function(s){Ede(t,s,fY(i,s))})}return t}function efe(t,e){return t[e]==null&&(t[e]=Nhe()),t}class Cu extends Dp{get idProp(){return this._idProp}constructor(e,r){super(),ga(this,"_queue",null),e&&!Ei(e)&&(r=e,e=[]),this._options=r||{},this._data=new wY,this.length=0,this._idProp=this._options.fieldId||"id",e&&e.length&&this.add(e),this.setOptions(r)}setOptions(e){e&&e.queue!==void 0&&(e.queue===!1?this._queue&&(this._queue.destroy(),this._queue=null):(this._queue||(this._queue=JO.extend(this,{replace:["add","update","remove"]})),e.queue&&typeof e.queue=="object"&&this._queue.setOptions(e.queue)))}add(e,r){const n=[];let i;if(Ei(e)){const s=li(e).call(e,a=>a[this._idProp]);if(Vde(s).call(s,a=>this._data.has(a)))throw new Error("A duplicate id was found in the parameter array.");for(let a=0,o=e.length;a<o;a++)i=this._addItem(e[a]),n.push(i)}else if(e&&typeof e=="object")i=this._addItem(e),n.push(i);else throw new Error("Unknown dataType");return n.length&&this._trigger("add",{items:n},r),n}update(e,r){const n=[],i=[],s=[],a=[],o=this._idProp,u=c=>{const d=c[o];if(d!=null&&this._data.has(d)){const h=c,f=$ue({},this._data.get(d)),p=this._updateItem(h);i.push(p),a.push(h),s.push(f)}else{const h=this._addItem(c);n.push(h)}};if(Ei(e))for(let c=0,d=e.length;c<d;c++)e[c]&&typeof e[c]=="object"?u(e[c]):console.warn("Ignoring input item, which is not an object at index "+c);else if(e&&typeof e=="object")u(e);else throw new Error("Unknown dataType");if(n.length&&this._trigger("add",{items:n},r),i.length){const c={items:i,oldData:s,data:a};this._trigger("update",c,r)}return Fue(n).call(n,i)}updateOnly(e,r){var n;Ei(e)||(e=[e]);const i=li(n=li(e).call(e,s=>{const a=this._data.get(s[this._idProp]);if(a==null)throw new Error("Updating non-existent items is not allowed.");return{oldData:a,update:s}})).call(n,s=>{let{oldData:a,update:o}=s;const u=a[this._idProp],c=Jce(a,o);return this._data.set(u,c),{id:u,oldData:a,updatedData:c}});if(i.length){const s={items:li(i).call(i,a=>a.id),oldData:li(i).call(i,a=>a.oldData),data:li(i).call(i,a=>a.updatedData)};return this._trigger("update",s,r),s.items}else return[]}get(e,r){let n,i,s;n4(e)?(n=e,s=r):Ei(e)?(i=e,s=r):s=e;const a=s&&s.returnType==="Object"?"Object":"Array",o=s&&$l(s),u=[];let c,d,h;if(n!=null)c=this._data.get(n),c&&o&&!o(c)&&(c=void 0);else if(i!=null)for(let p=0,v=i.length;p<v;p++)c=this._data.get(i[p]),c!=null&&(!o||o(c))&&u.push(c);else{var f;d=[...gl(f=this._data).call(f)];for(let p=0,v=d.length;p<v;p++)h=d[p],c=this._data.get(h),c!=null&&(!o||o(c))&&u.push(c)}if(s&&s.order&&n==null&&this._sort(u,s.order),s&&s.fields){const p=s.fields;if(n!=null&&c!=null)c=this._filterFields(c,p);else for(let v=0,y=u.length;v<y;v++)u[v]=this._filterFields(u[v],p)}if(a=="Object"){const p={};for(let v=0,y=u.length;v<y;v++){const x=u[v],g=x[this._idProp];p[g]=x}return p}else return n!=null?c??null:u}getIds(e){const r=this._data,n=e&&$l(e),i=e&&e.order,s=[...gl(r).call(r)],a=[];if(n)if(i){const o=[];for(let u=0,c=s.length;u<c;u++){const d=s[u],h=this._data.get(d);h!=null&&n(h)&&o.push(h)}this._sort(o,i);for(let u=0,c=o.length;u<c;u++)a.push(o[u][this._idProp])}else for(let o=0,u=s.length;o<u;o++){const c=s[o],d=this._data.get(c);d!=null&&n(d)&&a.push(d[this._idProp])}else if(i){const o=[];for(let u=0,c=s.length;u<c;u++){const d=s[u];o.push(r.get(d))}this._sort(o,i);for(let u=0,c=o.length;u<c;u++)a.push(o[u][this._idProp])}else for(let o=0,u=s.length;o<u;o++){const c=s[o],d=r.get(c);d!=null&&a.push(d[this._idProp])}return a}getDataSet(){return this}forEach(e,r){const n=r&&$l(r),i=this._data,s=[...gl(i).call(i)];if(r&&r.order){const a=this.get(r);for(let o=0,u=a.length;o<u;o++){const c=a[o],d=c[this._idProp];e(c,d)}}else for(let a=0,o=s.length;a<o;a++){const u=s[a],c=this._data.get(u);c!=null&&(!n||n(c))&&e(c,u)}}map(e,r){const n=r&&$l(r),i=[],s=this._data,a=[...gl(s).call(s)];for(let o=0,u=a.length;o<u;o++){const c=a[o],d=this._data.get(c);d!=null&&(!n||n(d))&&i.push(e(d,c))}return r&&r.order&&this._sort(i,r.order),i}_filterFields(e,r){var n;return e&&wle(n=Ei(r)?r:zO(r)).call(n,(i,s)=>(i[s]=e[s],i),{})}_sort(e,r){if(typeof r=="string"){const n=r;Kj(e).call(e,(i,s)=>{const a=i[n],o=s[n];return a>o?1:a<o?-1:0})}else if(typeof r=="function")Kj(e).call(e,r);else throw new TypeError("Order must be a function or a string")}remove(e,r){const n=[],i=[],s=Ei(e)?e:[e];for(let a=0,o=s.length;a<o;a++){const u=this._remove(s[a]);if(u){const c=u[this._idProp];c!=null&&(n.push(c),i.push(u))}}return n.length&&this._trigger("remove",{items:n,oldData:i},r),n}_remove(e){let r;if(n4(e)?r=e:e&&typeof e=="object"&&(r=e[this._idProp]),r!=null&&this._data.has(r)){const n=this._data.get(r)||null;return this._data.delete(r),--this.length,n}return null}clear(e){var r;const n=[...gl(r=this._data).call(r)],i=[];for(let s=0,a=n.length;s<a;s++)i.push(this._data.get(n[s]));return this._data.clear(),this.length=0,this._trigger("remove",{items:n,oldData:i},e),n}max(e){let r=null,n=null;for(const s of QF(i=this._data).call(i)){var i;const a=s[e];typeof a=="number"&&(n==null||a>n)&&(r=s,n=a)}return r||null}min(e){let r=null,n=null;for(const s of QF(i=this._data).call(i)){var i;const a=s[e];typeof a=="number"&&(n==null||a<n)&&(r=s,n=a)}return r||null}distinct(e){const r=this._data,n=[...gl(r).call(r)],i=[];let s=0;for(let a=0,o=n.length;a<o;a++){const u=n[a],d=r.get(u)[e];let h=!1;for(let f=0;f<s;f++)if(i[f]==d){h=!0;break}!h&&d!==void 0&&(i[s]=d,s++)}return i}_addItem(e){const r=efe(e,this._idProp),n=r[this._idProp];if(this._data.has(n))throw new Error("Cannot add item: item with id "+n+" already exists");return this._data.set(n,r),++this.length,n}_updateItem(e){const r=e[this._idProp];if(r==null)throw new Error("Cannot update item: item has no id (item: "+ece(e)+")");const n=this._data.get(r);if(!n)throw new Error("Cannot update item: no item with id "+r+" found");return this._data.set(r,Y4(Y4({},n),e)),r}stream(e){if(e){const n=this._data;return new eo({*[Ml](){for(const i of e){const s=n.get(i);s!=null&&(yield[i,s])}}})}else{var r;return new eo({[Ml]:kG(r=bhe(this._data)).call(r,this._data)})}}}function tfe(t,e){return typeof e=="object"&&e!==null&&t===e.idProp&&typeof e.add=="function"&&typeof e.clear=="function"&&typeof e.distinct=="function"&&typeof Do(e)=="function"&&typeof e.get=="function"&&typeof e.getDataSet=="function"&&typeof e.getIds=="function"&&typeof e.length=="number"&&typeof li(e)=="function"&&typeof e.max=="function"&&typeof e.min=="function"&&typeof e.off=="function"&&typeof e.on=="function"&&typeof e.remove=="function"&&typeof e.setOptions=="function"&&typeof e.stream=="function"&&typeof e.update=="function"&&typeof e.updateOnly=="function"}function SY(t,e){return typeof e=="object"&&e!==null&&t===e.idProp&&typeof Do(e)=="function"&&typeof e.get=="function"&&typeof e.getDataSet=="function"&&typeof e.getIds=="function"&&typeof e.length=="number"&&typeof li(e)=="function"&&typeof e.off=="function"&&typeof e.on=="function"&&typeof e.stream=="function"&&tfe(t,e.getDataSet())}/**
 * vis-network
 * https://visjs.github.io/vis-network/
 *
 * A dynamic, browser-based visualization library.
 *
 * @version 10.0.2
 * @date    2025-09-15T17:48:13.838Z
 *
 * @copyright (c) 2011-2017 Almende B.V, http://almende.com
 * @copyright (c) 2017-2019 visjs contributors, https://github.com/visjs
 *
 * @license
 * vis.js is dual licensed under both
 *
 *   1. The Apache 2.0 License
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 *   and
 *
 *   2. The MIT License
 *      http://opensource.org/licenses/MIT
 *
 * vis.js may be distributed under either license.
 */var Q4=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Re(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var X4={},Pc,J4;function Ot(){if(J4)return Pc;J4=1;var t=function(e){return e&&e.Math===Math&&e};return Pc=t(typeof globalThis=="object"&&globalThis)||t(typeof window=="object"&&window)||t(typeof self=="object"&&self)||t(typeof Q4=="object"&&Q4)||t(typeof Pc=="object"&&Pc)||function(){return this}()||Function("return this")(),Pc}var n1,Z4;function Ge(){return Z4||(Z4=1,n1=function(t){try{return!!t()}catch{return!0}}),n1}var i1,e5;function Sh(){if(e5)return i1;e5=1;var t=Ge();return i1=!t(function(){var e=(function(){}).bind();return typeof e!="function"||e.hasOwnProperty("prototype")}),i1}var s1,t5;function Rm(){if(t5)return s1;t5=1;var t=Sh(),e=Function.prototype,r=e.apply,n=e.call;return s1=typeof Reflect=="object"&&Reflect.apply||(t?n.bind(r):function(){return n.apply(r,arguments)}),s1}var a1,r5;function Qe(){if(r5)return a1;r5=1;var t=Sh(),e=Function.prototype,r=e.call,n=t&&e.bind.bind(r,r);return a1=t?n:function(i){return function(){return r.apply(i,arguments)}},a1}var o1,n5;function Bi(){if(n5)return o1;n5=1;var t=Qe(),e=t({}.toString),r=t("".slice);return o1=function(n){return r(e(n),8,-1)},o1}var l1,i5;function eT(){if(i5)return l1;i5=1;var t=Bi(),e=Qe();return l1=function(r){if(t(r)==="Function")return e(r)},l1}var u1,s5;function xr(){if(s5)return u1;s5=1;var t=typeof document=="object"&&document.all;return u1=typeof t>"u"&&t!==void 0?function(e){return typeof e=="function"||e===t}:function(e){return typeof e=="function"},u1}var c1={},d1,a5;function Yt(){if(a5)return d1;a5=1;var t=Ge();return d1=!t(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!==7}),d1}var h1,o5;function xn(){if(o5)return h1;o5=1;var t=Sh(),e=Function.prototype.call;return h1=t?e.bind(e):function(){return e.apply(e,arguments)},h1}var f1={},l5;function $m(){if(l5)return f1;l5=1;var t={}.propertyIsEnumerable,e=Object.getOwnPropertyDescriptor,r=e&&!t.call({1:2},1);return f1.f=r?function(i){var s=e(this,i);return!!s&&s.enumerable}:t,f1}var p1,u5;function Eh(){return u5||(u5=1,p1=function(t,e){return{enumerable:!(t&1),configurable:!(t&2),writable:!(t&4),value:e}}),p1}var m1,c5;function km(){if(c5)return m1;c5=1;var t=Qe(),e=Ge(),r=Bi(),n=Object,i=t("".split);return m1=e(function(){return!n("z").propertyIsEnumerable(0)})?function(s){return r(s)==="String"?i(s,""):n(s)}:n,m1}var v1,d5;function Ju(){return d5||(d5=1,v1=function(t){return t==null}),v1}var g1,h5;function Is(){if(h5)return g1;h5=1;var t=Ju(),e=TypeError;return g1=function(r){if(t(r))throw new e("Can't call method on "+r);return r},g1}var y1,f5;function bi(){if(f5)return y1;f5=1;var t=km(),e=Is();return y1=function(r){return t(e(r))},y1}var b1,p5;function wr(){if(p5)return b1;p5=1;var t=xr();return b1=function(e){return typeof e=="object"?e!==null:t(e)},b1}var x1,m5;function ft(){return m5||(m5=1,x1={}),x1}var w1,v5;function Rn(){if(v5)return w1;v5=1;var t=ft(),e=Ot(),r=xr(),n=function(i){return r(i)?i:void 0};return w1=function(i,s){return arguments.length<2?n(t[i])||n(e[i]):t[i]&&t[i][s]||e[i]&&e[i][s]},w1}var _1,g5;function ir(){if(g5)return _1;g5=1;var t=Qe();return _1=t({}.isPrototypeOf),_1}var S1,y5;function Zu(){if(y5)return S1;y5=1;var t=Ot(),e=t.navigator,r=e&&e.userAgent;return S1=r?String(r):"",S1}var E1,b5;function Nh(){if(b5)return E1;b5=1;var t=Ot(),e=Zu(),r=t.process,n=t.Deno,i=r&&r.versions||n&&n.version,s=i&&i.v8,a,o;return s&&(a=s.split("."),o=a[0]>0&&a[0]<4?1:+(a[0]+a[1])),!o&&e&&(a=e.match(/Edge\/(\d+)/),(!a||a[1]>=74)&&(a=e.match(/Chrome\/(\d+)/),a&&(o=+a[1]))),E1=o,E1}var N1,x5;function ec(){if(x5)return N1;x5=1;var t=Nh(),e=Ge(),r=Ot(),n=r.String;return N1=!!Object.getOwnPropertySymbols&&!e(function(){var i=Symbol("symbol detection");return!n(i)||!(Object(i)instanceof Symbol)||!Symbol.sham&&t&&t<41}),N1}var j1,w5;function EY(){if(w5)return j1;w5=1;var t=ec();return j1=t&&!Symbol.sham&&typeof Symbol.iterator=="symbol",j1}var C1,_5;function jh(){if(_5)return C1;_5=1;var t=Rn(),e=xr(),r=ir(),n=EY(),i=Object;return C1=n?function(s){return typeof s=="symbol"}:function(s){var a=t("Symbol");return e(a)&&r(a.prototype,i(s))},C1}var O1,S5;function tc(){if(S5)return O1;S5=1;var t=String;return O1=function(e){try{return t(e)}catch{return"Object"}},O1}var T1,E5;function Rs(){if(E5)return T1;E5=1;var t=xr(),e=tc(),r=TypeError;return T1=function(n){if(t(n))return n;throw new r(e(n)+" is not a function")},T1}var P1,N5;function tT(){if(N5)return P1;N5=1;var t=Rs(),e=Ju();return P1=function(r,n){var i=r[n];return e(i)?void 0:t(i)},P1}var I1,j5;function rfe(){if(j5)return I1;j5=1;var t=xn(),e=xr(),r=wr(),n=TypeError;return I1=function(i,s){var a,o;if(s==="string"&&e(a=i.toString)&&!r(o=t(a,i))||e(a=i.valueOf)&&!r(o=t(a,i))||s!=="string"&&e(a=i.toString)&&!r(o=t(a,i)))return o;throw new n("Can't convert object to primitive value")},I1}var R1={exports:{}},$1,C5;function rc(){return C5||(C5=1,$1=!0),$1}var k1,O5;function nfe(){if(O5)return k1;O5=1;var t=Ot(),e=Object.defineProperty;return k1=function(r,n){try{e(t,r,{value:n,configurable:!0,writable:!0})}catch{t[r]=n}return n},k1}var T5;function rT(){if(T5)return R1.exports;T5=1;var t=rc(),e=Ot(),r=nfe(),n="__core-js_shared__",i=R1.exports=e[n]||r(n,{});return(i.versions||(i.versions=[])).push({version:"3.44.0",mode:t?"pure":"global",copyright:" 2014-2025 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.44.0/LICENSE",source:"https://github.com/zloirock/core-js"}),R1.exports}var D1,P5;function nc(){if(P5)return D1;P5=1;var t=rT();return D1=function(e,r){return t[e]||(t[e]=r||{})},D1}var M1,I5;function $n(){if(I5)return M1;I5=1;var t=Is(),e=Object;return M1=function(r){return e(t(r))},M1}var q1,R5;function Or(){if(R5)return q1;R5=1;var t=Qe(),e=$n(),r=t({}.hasOwnProperty);return q1=Object.hasOwn||function(i,s){return r(e(i),s)},q1}var A1,$5;function Dm(){if($5)return A1;$5=1;var t=Qe(),e=0,r=Math.random(),n=t(1.1.toString);return A1=function(i){return"Symbol("+(i===void 0?"":i)+")_"+n(++e+r,36)},A1}var F1,k5;function sr(){if(k5)return F1;k5=1;var t=Ot(),e=nc(),r=Or(),n=Dm(),i=ec(),s=EY(),a=t.Symbol,o=e("wks"),u=s?a.for||a:a&&a.withoutSetter||n;return F1=function(c){return r(o,c)||(o[c]=i&&r(a,c)?a[c]:u("Symbol."+c)),o[c]},F1}var L1,D5;function NY(){if(D5)return L1;D5=1;var t=xn(),e=wr(),r=jh(),n=tT(),i=rfe(),s=sr(),a=TypeError,o=s("toPrimitive");return L1=function(u,c){if(!e(u)||r(u))return u;var d=n(u,o),h;if(d){if(c===void 0&&(c="default"),h=t(d,u,c),!e(h)||r(h))return h;throw new a("Can't convert object to primitive value")}return c===void 0&&(c="number"),i(u,c)},L1}var B1,M5;function nT(){if(M5)return B1;M5=1;var t=NY(),e=jh();return B1=function(r){var n=t(r,"string");return e(n)?n:n+""},B1}var z1,q5;function jY(){if(q5)return z1;q5=1;var t=Ot(),e=wr(),r=t.document,n=e(r)&&e(r.createElement);return z1=function(i){return n?r.createElement(i):{}},z1}var U1,A5;function CY(){if(A5)return U1;A5=1;var t=Yt(),e=Ge(),r=jY();return U1=!t&&!e(function(){return Object.defineProperty(r("div"),"a",{get:function(){return 7}}).a!==7}),U1}var F5;function Mm(){if(F5)return c1;F5=1;var t=Yt(),e=xn(),r=$m(),n=Eh(),i=bi(),s=nT(),a=Or(),o=CY(),u=Object.getOwnPropertyDescriptor;return c1.f=t?u:function(d,h){if(d=i(d),h=s(h),o)try{return u(d,h)}catch{}if(a(d,h))return n(!e(r.f,d,h),d[h])},c1}var W1,L5;function ife(){if(L5)return W1;L5=1;var t=Ge(),e=xr(),r=/#|\.prototype\./,n=function(u,c){var d=s[i(u)];return d===o?!0:d===a?!1:e(c)?t(c):!!c},i=n.normalize=function(u){return String(u).replace(r,".").toLowerCase()},s=n.data={},a=n.NATIVE="N",o=n.POLYFILL="P";return W1=n,W1}var V1,B5;function qm(){if(B5)return V1;B5=1;var t=eT(),e=Rs(),r=Sh(),n=t(t.bind);return V1=function(i,s){return e(i),s===void 0?i:r?n(i,s):function(){return i.apply(s,arguments)}},V1}var H1={},K1,z5;function OY(){if(z5)return K1;z5=1;var t=Yt(),e=Ge();return K1=t&&e(function(){return Object.defineProperty(function(){},"prototype",{value:42,writable:!1}).prototype!==42}),K1}var G1,U5;function zi(){if(U5)return G1;U5=1;var t=wr(),e=String,r=TypeError;return G1=function(n){if(t(n))return n;throw new r(e(n)+" is not an object")},G1}var W5;function Xn(){if(W5)return H1;W5=1;var t=Yt(),e=CY(),r=OY(),n=zi(),i=nT(),s=TypeError,a=Object.defineProperty,o=Object.getOwnPropertyDescriptor,u="enumerable",c="configurable",d="writable";return H1.f=t?r?function(f,p,v){if(n(f),p=i(p),n(v),typeof f=="function"&&p==="prototype"&&"value"in v&&d in v&&!v[d]){var y=o(f,p);y&&y[d]&&(f[p]=v.value,v={configurable:c in v?v[c]:y[c],enumerable:u in v?v[u]:y[u],writable:!1})}return a(f,p,v)}:a:function(f,p,v){if(n(f),p=i(p),n(v),e)try{return a(f,p,v)}catch{}if("get"in v||"set"in v)throw new s("Accessors not supported");return"value"in v&&(f[p]=v.value),f},H1}var Y1,V5;function ic(){if(V5)return Y1;V5=1;var t=Yt(),e=Xn(),r=Eh();return Y1=t?function(n,i,s){return e.f(n,i,r(1,s))}:function(n,i,s){return n[i]=s,n},Y1}var Q1,H5;function je(){if(H5)return Q1;H5=1;var t=Ot(),e=Rm(),r=eT(),n=xr(),i=Mm().f,s=ife(),a=ft(),o=qm(),u=ic(),c=Or(),d=function(h){var f=function(p,v,y){if(this instanceof f){switch(arguments.length){case 0:return new h;case 1:return new h(p);case 2:return new h(p,v)}return new h(p,v,y)}return e(h,this,arguments)};return f.prototype=h.prototype,f};return Q1=function(h,f){var p=h.target,v=h.global,y=h.stat,x=h.proto,g=v?t:y?t[p]:t[p]&&t[p].prototype,m=v?a:a[p]||u(a,p,{})[p],w=m.prototype,b,_,E,j,S,C,N,O,P;for(j in f)b=s(v?j:p+(y?".":"#")+j,h.forced),_=!b&&g&&c(g,j),C=m[j],_&&(h.dontCallGetSet?(P=i(g,j),N=P&&P.value):N=g[j]),S=_&&N?N:f[j],!(!b&&!x&&typeof C==typeof S)&&(h.bind&&_?O=o(S,t):h.wrap&&_?O=d(S):x&&n(S)?O=r(S):O=S,(h.sham||S&&S.sham||C&&C.sham)&&u(O,"sham",!0),u(m,j,O),x&&(E=p+"Prototype",c(a,E)||u(a,E,{}),u(a[E],j,S),h.real&&w&&(b||!w[j])&&u(w,j,S)))},Q1}var X1,K5;function sfe(){if(K5)return X1;K5=1;var t=Math.ceil,e=Math.floor;return X1=Math.trunc||function(n){var i=+n;return(i>0?e:t)(i)},X1}var J1,G5;function sc(){if(G5)return J1;G5=1;var t=sfe();return J1=function(e){var r=+e;return r!==r||r===0?0:t(r)},J1}var Z1,Y5;function Am(){if(Y5)return Z1;Y5=1;var t=sc(),e=Math.max,r=Math.min;return Z1=function(n,i){var s=t(n);return s<0?e(s+i,0):r(s,i)},Z1}var ew,Q5;function TY(){if(Q5)return ew;Q5=1;var t=sc(),e=Math.min;return ew=function(r){var n=t(r);return n>0?e(n,9007199254740991):0},ew}var tw,X5;function $s(){if(X5)return tw;X5=1;var t=TY();return tw=function(e){return t(e.length)},tw}var rw,J5;function iT(){if(J5)return rw;J5=1;var t=bi(),e=Am(),r=$s(),n=function(i){return function(s,a,o){var u=t(s),c=r(u);if(c===0)return!i&&-1;var d=e(o,c),h;if(i&&a!==a){for(;c>d;)if(h=u[d++],h!==h)return!0}else for(;c>d;d++)if((i||d in u)&&u[d]===a)return i||d||0;return!i&&-1}};return rw={includes:n(!0),indexOf:n(!1)},rw}var nw,Z5;function Ch(){return Z5||(Z5=1,nw={}),nw}var iw,e3;function PY(){if(e3)return iw;e3=1;var t=Qe(),e=Or(),r=bi(),n=iT().indexOf,i=Ch(),s=t([].push);return iw=function(a,o){var u=r(a),c=0,d=[],h;for(h in u)!e(i,h)&&e(u,h)&&s(d,h);for(;o.length>c;)e(u,h=o[c++])&&(~n(d,h)||s(d,h));return d},iw}var sw,t3;function sT(){return t3||(t3=1,sw=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]),sw}var aw,r3;function Oh(){if(r3)return aw;r3=1;var t=PY(),e=sT();return aw=Object.keys||function(n){return t(n,e)},aw}var ow={},n3;function Fm(){return n3||(n3=1,ow.f=Object.getOwnPropertySymbols),ow}var lw,i3;function afe(){if(i3)return lw;i3=1;var t=Yt(),e=Qe(),r=xn(),n=Ge(),i=Oh(),s=Fm(),a=$m(),o=$n(),u=km(),c=Object.assign,d=Object.defineProperty,h=e([].concat);return lw=!c||n(function(){if(t&&c({b:1},c(d({},"a",{enumerable:!0,get:function(){d(this,"b",{value:3,enumerable:!1})}}),{b:2})).b!==1)return!0;var f={},p={},v=Symbol("assign detection"),y="abcdefghijklmnopqrst";return f[v]=7,y.split("").forEach(function(x){p[x]=x}),c({},f)[v]!==7||i(c({},p)).join("")!==y})?function(p,v){for(var y=o(p),x=arguments.length,g=1,m=s.f,w=a.f;x>g;)for(var b=u(arguments[g++]),_=m?h(i(b),m(b)):i(b),E=_.length,j=0,S;E>j;)S=_[j++],(!t||r(w,b,S))&&(y[S]=b[S]);return y}:c,lw}var s3;function ofe(){if(s3)return X4;s3=1;var t=je(),e=afe();return t({target:"Object",stat:!0,arity:2,forced:Object.assign!==e},{assign:e}),X4}var uw,a3;function lfe(){if(a3)return uw;a3=1,ofe();var t=ft();return uw=t.Object.assign,uw}var cw,o3;function ufe(){if(o3)return cw;o3=1;var t=lfe();return cw=t,cw}var dw,l3;function cfe(){return l3||(l3=1,dw=ufe()),dw}var dfe=cfe(),er=Re(dfe),u3={},hw,c3;function ac(){if(c3)return hw;c3=1;var t=Qe();return hw=t([].slice),hw}var fw,d3;function hfe(){if(d3)return fw;d3=1;var t=Qe(),e=Rs(),r=wr(),n=Or(),i=ac(),s=Sh(),a=Function,o=t([].concat),u=t([].join),c={},d=function(h,f,p){if(!n(c,f)){for(var v=[],y=0;y<f;y++)v[y]="a["+y+"]";c[f]=a("C,a","return new C("+u(v,",")+")")}return c[f](h,p)};return fw=s?a.bind:function(f){var p=e(this),v=p.prototype,y=i(arguments,1),x=function(){var m=o(y,i(arguments));return this instanceof x?d(p,m.length,m):p.apply(f,m)};return r(v)&&(x.prototype=v),x},fw}var h3;function ffe(){if(h3)return u3;h3=1;var t=je(),e=hfe();return t({target:"Function",proto:!0,forced:Function.bind!==e},{bind:e}),u3}var pw,f3;function Tr(){if(f3)return pw;f3=1;var t=Ot(),e=ft();return pw=function(r,n){var i=e[r+"Prototype"],s=i&&i[n];if(s)return s;var a=t[r],o=a&&a.prototype;return o&&o[n]},pw}var mw,p3;function pfe(){if(p3)return mw;p3=1,ffe();var t=Tr();return mw=t("Function","bind"),mw}var vw,m3;function mfe(){if(m3)return vw;m3=1;var t=ir(),e=pfe(),r=Function.prototype;return vw=function(n){var i=n.bind;return n===r||t(r,n)&&i===r.bind?e:i},vw}var gw,v3;function vfe(){if(v3)return gw;v3=1;var t=mfe();return gw=t,gw}var yw,g3;function gfe(){return g3||(g3=1,yw=vfe()),yw}var yfe=gfe(),re=Re(yfe);function aT(t,e,r,n){t.beginPath(),t.arc(e,r,n,0,2*Math.PI,!1),t.closePath()}function bfe(t,e,r,n){t.beginPath(),t.rect(e-n,r-n,n*2,n*2),t.closePath()}function xfe(t,e,r,n){t.beginPath(),n*=1.15,r+=.275*n;const i=n*2,s=i/2,a=Math.sqrt(3)/6*i,o=Math.sqrt(i*i-s*s);t.moveTo(e,r-(o-a)),t.lineTo(e+s,r+a),t.lineTo(e-s,r+a),t.lineTo(e,r-(o-a)),t.closePath()}function wfe(t,e,r,n){t.beginPath(),n*=1.15,r-=.275*n;const i=n*2,s=i/2,a=Math.sqrt(3)/6*i,o=Math.sqrt(i*i-s*s);t.moveTo(e,r+(o-a)),t.lineTo(e+s,r-a),t.lineTo(e-s,r-a),t.lineTo(e,r+(o-a)),t.closePath()}function _fe(t,e,r,n){t.beginPath(),n*=.82,r+=.1*n;for(let i=0;i<10;i++){const s=i%2===0?n*1.3:n*.5;t.lineTo(e+s*Math.sin(i*2*Math.PI/10),r-s*Math.cos(i*2*Math.PI/10))}t.closePath()}function Sfe(t,e,r,n){t.beginPath(),t.lineTo(e,r+n),t.lineTo(e+n,r),t.lineTo(e,r-n),t.lineTo(e-n,r),t.closePath()}function IY(t,e,r,n,i,s){const a=Math.PI/180;n-2*s<0&&(s=n/2),i-2*s<0&&(s=i/2),t.beginPath(),t.moveTo(e+s,r),t.lineTo(e+n-s,r),t.arc(e+n-s,r+s,s,a*270,a*360,!1),t.lineTo(e+n,r+i-s),t.arc(e+n-s,r+i-s,s,0,a*90,!1),t.lineTo(e+s,r+i),t.arc(e+s,r+i-s,s,a*90,a*180,!1),t.lineTo(e,r+s),t.arc(e+s,r+s,s,a*180,a*270,!1),t.closePath()}function Gj(t,e,r,n,i){const s=.5522848,a=n/2*s,o=i/2*s,u=e+n,c=r+i,d=e+n/2,h=r+i/2;t.beginPath(),t.moveTo(e,h),t.bezierCurveTo(e,h-o,d-a,r,d,r),t.bezierCurveTo(d+a,r,u,h-o,u,h),t.bezierCurveTo(u,h+o,d+a,c,d,c),t.bezierCurveTo(d-a,c,e,h+o,e,h),t.closePath()}function RY(t,e,r,n,i){const s=.3333333333333333,a=n,o=i*s,u=.5522848,c=a/2*u,d=o/2*u,h=e+a,f=r+o,p=e+a/2,v=r+o/2,y=r+(i-o/2),x=r+i;t.beginPath(),t.moveTo(h,v),t.bezierCurveTo(h,v+d,p+c,f,p,f),t.bezierCurveTo(p-c,f,e,v+d,e,v),t.bezierCurveTo(e,v-d,p-c,r,p,r),t.bezierCurveTo(p+c,r,h,v-d,h,v),t.lineTo(h,y),t.bezierCurveTo(h,y+d,p+c,x,p,x),t.bezierCurveTo(p-c,x,e,y+d,e,y),t.lineTo(e,v)}function $Y(t,e,r,n,i,s){t.beginPath(),t.moveTo(e,r);const a=s.length,o=n-e,u=i-r,c=u/o;let d=Math.sqrt(o*o+u*u),h=0,f=!0,p=0,v=+s[0];for(;d>=.1;)v=+s[h++%a],v>d&&(v=d),p=Math.sqrt(v*v/(1+c*c)),p=o<0?-p:p,e+=p,r+=c*p,f===!0?t.lineTo(e,r):t.moveTo(e,r),d-=v,f=!f}function Efe(t,e,r,n){t.beginPath();const i=6,s=Math.PI*2/i;t.moveTo(e+n,r);for(let a=1;a<i;a++)t.lineTo(e+n*Math.cos(s*a),r+n*Math.sin(s*a));t.closePath()}const y3={circle:aT,dashedLine:$Y,database:RY,diamond:Sfe,ellipse:Gj,ellipse_vis:Gj,hexagon:Efe,roundRect:IY,square:bfe,star:_fe,triangle:xfe,triangleDown:wfe};function Nfe(t){return Object.prototype.hasOwnProperty.call(y3,t)?y3[t]:function(e){for(var r=arguments.length,n=new Array(r>1?r-1:0),i=1;i<r;i++)n[i-1]=arguments[i];CanvasRenderingContext2D.prototype[t].call(e,n)}}var bw={exports:{}},b3;function jfe(){return b3||(b3=1,function(t){t.exports=e;function e(n){if(n)return r(n)}function r(n){for(var i in e.prototype)n[i]=e.prototype[i];return n}e.prototype.on=e.prototype.addEventListener=function(n,i){return this._callbacks=this._callbacks||{},(this._callbacks["$"+n]=this._callbacks["$"+n]||[]).push(i),this},e.prototype.once=function(n,i){function s(){this.off(n,s),i.apply(this,arguments)}return s.fn=i,this.on(n,s),this},e.prototype.off=e.prototype.removeListener=e.prototype.removeAllListeners=e.prototype.removeEventListener=function(n,i){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var s=this._callbacks["$"+n];if(!s)return this;if(arguments.length==1)return delete this._callbacks["$"+n],this;for(var a,o=0;o<s.length;o++)if(a=s[o],a===i||a.fn===i){s.splice(o,1);break}return s.length===0&&delete this._callbacks["$"+n],this},e.prototype.emit=function(n){this._callbacks=this._callbacks||{};for(var i=new Array(arguments.length-1),s=this._callbacks["$"+n],a=1;a<arguments.length;a++)i[a-1]=arguments[a];if(s){s=s.slice(0);for(var a=0,o=s.length;a<o;++a)s[a].apply(this,i)}return this},e.prototype.listeners=function(n){return this._callbacks=this._callbacks||{},this._callbacks["$"+n]||[]},e.prototype.hasListeners=function(n){return!!this.listeners(n).length}}(bw)),bw.exports}var Cfe=jfe(),kY=Re(Cfe),x3={},xw,w3;function il(){if(w3)return xw;w3=1;var t=Bi();return xw=Array.isArray||function(r){return t(r)==="Array"},xw}var ww,_3;function DY(){if(_3)return ww;_3=1;var t=TypeError,e=9007199254740991;return ww=function(r){if(r>e)throw t("Maximum allowed index exceeded");return r},ww}var _w,S3;function Lm(){if(S3)return _w;S3=1;var t=Yt(),e=Xn(),r=Eh();return _w=function(n,i,s){t?e.f(n,i,r(0,s)):n[i]=s},_w}var Sw,E3;function oT(){if(E3)return Sw;E3=1;var t=sr(),e=t("toStringTag"),r={};return r[e]="z",Sw=String(r)==="[object z]",Sw}var Ew,N3;function oc(){if(N3)return Ew;N3=1;var t=oT(),e=xr(),r=Bi(),n=sr(),i=n("toStringTag"),s=Object,a=r(function(){return arguments}())==="Arguments",o=function(u,c){try{return u[c]}catch{}};return Ew=t?r:function(u){var c,d,h;return u===void 0?"Undefined":u===null?"Null":typeof(d=o(c=s(u),i))=="string"?d:a?r(c):(h=r(c))==="Object"&&e(c.callee)?"Arguments":h},Ew}var Nw,j3;function Ofe(){if(j3)return Nw;j3=1;var t=Qe(),e=xr(),r=rT(),n=t(Function.toString);return e(r.inspectSource)||(r.inspectSource=function(i){return n(i)}),Nw=r.inspectSource,Nw}var jw,C3;function MY(){if(C3)return jw;C3=1;var t=Qe(),e=Ge(),r=xr(),n=oc(),i=Rn(),s=Ofe(),a=function(){},o=i("Reflect","construct"),u=/^\s*(?:class|function)\b/,c=t(u.exec),d=!u.test(a),h=function(v){if(!r(v))return!1;try{return o(a,[],v),!0}catch{return!1}},f=function(v){if(!r(v))return!1;switch(n(v)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return d||!!c(u,s(v))}catch{return!0}};return f.sham=!0,jw=!o||e(function(){var p;return h(h.call)||!h(Object)||!h(function(){p=!0})||p})?f:h,jw}var Cw,O3;function Tfe(){if(O3)return Cw;O3=1;var t=il(),e=MY(),r=wr(),n=sr(),i=n("species"),s=Array;return Cw=function(a){var o;return t(a)&&(o=a.constructor,e(o)&&(o===s||t(o.prototype))?o=void 0:r(o)&&(o=o[i],o===null&&(o=void 0))),o===void 0?s:o},Cw}var Ow,T3;function lT(){if(T3)return Ow;T3=1;var t=Tfe();return Ow=function(e,r){return new(t(e))(r===0?0:r)},Ow}var Tw,P3;function Th(){if(P3)return Tw;P3=1;var t=Ge(),e=sr(),r=Nh(),n=e("species");return Tw=function(i){return r>=51||!t(function(){var s=[],a=s.constructor={};return a[n]=function(){return{foo:1}},s[i](Boolean).foo!==1})},Tw}var I3;function qY(){if(I3)return x3;I3=1;var t=je(),e=Ge(),r=il(),n=wr(),i=$n(),s=$s(),a=DY(),o=Lm(),u=lT(),c=Th(),d=sr(),h=Nh(),f=d("isConcatSpreadable"),p=h>=51||!e(function(){var x=[];return x[f]=!1,x.concat()[0]!==x}),v=function(x){if(!n(x))return!1;var g=x[f];return g!==void 0?!!g:r(x)},y=!p||!c("concat");return t({target:"Array",proto:!0,arity:1,forced:y},{concat:function(g){var m=i(this),w=u(m,0),b=0,_,E,j,S,C;for(_=-1,j=arguments.length;_<j;_++)if(C=_===-1?m:arguments[_],v(C))for(S=s(C),a(b+S),E=0;E<S;E++,b++)E in C&&o(w,b,C[E]);else a(b+1),o(w,b++,C);return w.length=b,w}}),x3}var R3={},$3={},Pw,k3;function Jn(){if(k3)return Pw;k3=1;var t=oc(),e=String;return Pw=function(r){if(t(r)==="Symbol")throw new TypeError("Cannot convert a Symbol value to a string");return e(r)},Pw}var Iw={},D3;function uT(){if(D3)return Iw;D3=1;var t=Yt(),e=OY(),r=Xn(),n=zi(),i=bi(),s=Oh();return Iw.f=t&&!e?Object.defineProperties:function(o,u){n(o);for(var c=i(u),d=s(u),h=d.length,f=0,p;h>f;)r.f(o,p=d[f++],c[p]);return o},Iw}var Rw,M3;function Pfe(){if(M3)return Rw;M3=1;var t=Rn();return Rw=t("document","documentElement"),Rw}var $w,q3;function Bm(){if(q3)return $w;q3=1;var t=nc(),e=Dm(),r=t("keys");return $w=function(n){return r[n]||(r[n]=e(n))},$w}var kw,A3;function Ph(){if(A3)return kw;A3=1;var t=zi(),e=uT(),r=sT(),n=Ch(),i=Pfe(),s=jY(),a=Bm(),o=">",u="<",c="prototype",d="script",h=a("IE_PROTO"),f=function(){},p=function(m){return u+d+o+m+u+"/"+d+o},v=function(m){m.write(p("")),m.close();var w=m.parentWindow.Object;return m=null,w},y=function(){var m=s("iframe"),w="java"+d+":",b;return m.style.display="none",i.appendChild(m),m.src=String(w),b=m.contentWindow.document,b.open(),b.write(p("document.F=Object")),b.close(),b.F},x,g=function(){try{x=new ActiveXObject("htmlfile")}catch{}g=typeof document<"u"?document.domain&&x?v(x):y():v(x);for(var m=r.length;m--;)delete g[c][r[m]];return g()};return n[h]=!0,kw=Object.create||function(w,b){var _;return w!==null?(f[c]=t(w),_=new f,f[c]=null,_[h]=w):_=g(),b===void 0?_:e.f(_,b)},kw}var Dw={},F3;function zm(){if(F3)return Dw;F3=1;var t=PY(),e=sT(),r=e.concat("length","prototype");return Dw.f=Object.getOwnPropertyNames||function(i){return t(i,r)},Dw}var Mw={},L3;function cT(){if(L3)return Mw;L3=1;var t=Bi(),e=bi(),r=zm().f,n=ac(),i=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],s=function(a){try{return r(a)}catch{return n(i)}};return Mw.f=function(o){return i&&t(o)==="Window"?s(o):r(e(o))},Mw}var qw,B3;function Ih(){if(B3)return qw;B3=1;var t=ic();return qw=function(e,r,n,i){return i&&i.enumerable?e[r]=n:t(e,r,n),e},qw}var Aw,z3;function dT(){if(z3)return Aw;z3=1;var t=Xn();return Aw=function(e,r,n){return t.f(e,r,n)},Aw}var Fw={},U3;function Um(){if(U3)return Fw;U3=1;var t=sr();return Fw.f=t,Fw}var Lw,W3;function Mt(){if(W3)return Lw;W3=1;var t=ft(),e=Or(),r=Um(),n=Xn().f;return Lw=function(i){var s=t.Symbol||(t.Symbol={});e(s,i)||n(s,i,{value:r.f(i)})},Lw}var Bw,V3;function AY(){if(V3)return Bw;V3=1;var t=xn(),e=Rn(),r=sr(),n=Ih();return Bw=function(){var i=e("Symbol"),s=i&&i.prototype,a=s&&s.valueOf,o=r("toPrimitive");s&&!s[o]&&n(s,o,function(u){return t(a,this)},{arity:1})},Bw}var zw,H3;function Ife(){if(H3)return zw;H3=1;var t=oT(),e=oc();return zw=t?{}.toString:function(){return"[object "+e(this)+"]"},zw}var Uw,K3;function sl(){if(K3)return Uw;K3=1;var t=oT(),e=Xn().f,r=ic(),n=Or(),i=Ife(),s=sr(),a=s("toStringTag");return Uw=function(o,u,c,d){var h=c?o:o&&o.prototype;h&&(n(h,a)||e(h,a,{configurable:!0,value:u}),d&&!t&&r(h,"toString",i))},Uw}var Ww,G3;function FY(){if(G3)return Ww;G3=1;var t=Ot(),e=xr(),r=t.WeakMap;return Ww=e(r)&&/native code/.test(String(r)),Ww}var Vw,Y3;function al(){if(Y3)return Vw;Y3=1;var t=FY(),e=Ot(),r=wr(),n=ic(),i=Or(),s=rT(),a=Bm(),o=Ch(),u="Object already initialized",c=e.TypeError,d=e.WeakMap,h,f,p,v=function(m){return p(m)?f(m):h(m,{})},y=function(m){return function(w){var b;if(!r(w)||(b=f(w)).type!==m)throw new c("Incompatible receiver, "+m+" required");return b}};if(t||s.state){var x=s.state||(s.state=new d);x.get=x.get,x.has=x.has,x.set=x.set,h=function(m,w){if(x.has(m))throw new c(u);return w.facade=m,x.set(m,w),w},f=function(m){return x.get(m)||{}},p=function(m){return x.has(m)}}else{var g=a("state");o[g]=!0,h=function(m,w){if(i(m,g))throw new c(u);return w.facade=m,n(m,g,w),w},f=function(m){return i(m,g)?m[g]:{}},p=function(m){return i(m,g)}}return Vw={set:h,get:f,has:p,enforce:v,getterFor:y},Vw}var Hw,Q3;function qa(){if(Q3)return Hw;Q3=1;var t=qm(),e=Qe(),r=km(),n=$n(),i=$s(),s=lT(),a=e([].push),o=function(u){var c=u===1,d=u===2,h=u===3,f=u===4,p=u===6,v=u===7,y=u===5||p;return function(x,g,m,w){for(var b=n(x),_=r(b),E=i(_),j=t(g,m),S=0,C=w||s,N=c?C(x,E):d||v?C(x,0):void 0,O,P;E>S;S++)if((y||S in _)&&(O=_[S],P=j(O,S,b),u))if(c)N[S]=P;else if(P)switch(u){case 3:return!0;case 5:return O;case 6:return S;case 2:a(N,O)}else switch(u){case 4:return!1;case 7:a(N,O)}return p?-1:h||f?f:N}};return Hw={forEach:o(0),map:o(1),filter:o(2),some:o(3),every:o(4),find:o(5),findIndex:o(6),filterReject:o(7)},Hw}var X3;function Rfe(){if(X3)return $3;X3=1;var t=je(),e=Ot(),r=xn(),n=Qe(),i=rc(),s=Yt(),a=ec(),o=Ge(),u=Or(),c=ir(),d=zi(),h=bi(),f=nT(),p=Jn(),v=Eh(),y=Ph(),x=Oh(),g=zm(),m=cT(),w=Fm(),b=Mm(),_=Xn(),E=uT(),j=$m(),S=Ih(),C=dT(),N=nc(),O=Bm(),P=Ch(),I=Dm(),D=sr(),F=Um(),M=Mt(),V=AY(),q=sl(),H=al(),B=qa().forEach,W=O("hidden"),G="Symbol",de="prototype",xe=H.set,Ie=H.getterFor(G),me=Object[de],Ce=e.Symbol,ke=Ce&&Ce[de],Ze=e.RangeError,Tt=e.TypeError,nt=e.QObject,X=b.f,Se=_.f,Me=m.f,Ue=j.f,Nt=n([].push),Ne=N("symbols"),Le=N("op-symbols"),_t=N("wks"),Pt=!nt||!nt[de]||!nt[de].findChild,$=function(ve,ne,he){var ue=X(me,ne);ue&&delete me[ne],Se(ve,ne,he),ue&&ve!==me&&Se(me,ne,ue)},A=s&&o(function(){return y(Se({},"a",{get:function(){return Se(this,"a",{value:7}).a}})).a!==7})?$:Se,z=function(ve,ne){var he=Ne[ve]=y(ke);return xe(he,{type:G,tag:ve,description:ne}),s||(he.description=ne),he},se=function(ne,he,ue){ne===me&&se(Le,he,ue),d(ne);var _e=f(he);return d(ue),u(Ne,_e)?(ue.enumerable?(u(ne,W)&&ne[W][_e]&&(ne[W][_e]=!1),ue=y(ue,{enumerable:v(0,!1)})):(u(ne,W)||Se(ne,W,v(1,y(null))),ne[W][_e]=!0),A(ne,_e,ue)):Se(ne,_e,ue)},Z=function(ne,he){d(ne);var ue=h(he),_e=x(ue).concat(Xe(ue));return B(_e,function(He){(!s||r(K,ue,He))&&se(ne,He,ue[He])}),ne},J=function(ne,he){return he===void 0?y(ne):Z(y(ne),he)},K=function(ne){var he=f(ne),ue=r(Ue,this,he);return this===me&&u(Ne,he)&&!u(Le,he)?!1:ue||!u(this,he)||!u(Ne,he)||u(this,W)&&this[W][he]?ue:!0},le=function(ne,he){var ue=h(ne),_e=f(he);if(!(ue===me&&u(Ne,_e)&&!u(Le,_e))){var He=X(ue,_e);return He&&u(Ne,_e)&&!(u(ue,W)&&ue[W][_e])&&(He.enumerable=!0),He}},pe=function(ne){var he=Me(h(ne)),ue=[];return B(he,function(_e){!u(Ne,_e)&&!u(P,_e)&&Nt(ue,_e)}),ue},Xe=function(ve){var ne=ve===me,he=Me(ne?Le:h(ve)),ue=[];return B(he,function(_e){u(Ne,_e)&&(!ne||u(me,_e))&&Nt(ue,Ne[_e])}),ue};return a||(Ce=function(){if(c(ke,this))throw new Tt("Symbol is not a constructor");var ne=!arguments.length||arguments[0]===void 0?void 0:p(arguments[0]),he=I(ne),ue=function(_e){var He=this===void 0?e:this;He===me&&r(ue,Le,_e),u(He,W)&&u(He[W],he)&&(He[W][he]=!1);var kn=v(1,_e);try{A(He,he,kn)}catch(Ui){if(!(Ui instanceof Ze))throw Ui;$(He,he,kn)}};return s&&Pt&&A(me,he,{configurable:!0,set:ue}),z(he,ne)},ke=Ce[de],S(ke,"toString",function(){return Ie(this).tag}),S(Ce,"withoutSetter",function(ve){return z(I(ve),ve)}),j.f=K,_.f=se,E.f=Z,b.f=le,g.f=m.f=pe,w.f=Xe,F.f=function(ve){return z(D(ve),ve)},s&&(C(ke,"description",{configurable:!0,get:function(){return Ie(this).description}}),i||S(me,"propertyIsEnumerable",K,{unsafe:!0}))),t({global:!0,constructor:!0,wrap:!0,forced:!a,sham:!a},{Symbol:Ce}),B(x(_t),function(ve){M(ve)}),t({target:G,stat:!0,forced:!a},{useSetter:function(){Pt=!0},useSimple:function(){Pt=!1}}),t({target:"Object",stat:!0,forced:!a,sham:!s},{create:J,defineProperty:se,defineProperties:Z,getOwnPropertyDescriptor:le}),t({target:"Object",stat:!0,forced:!a},{getOwnPropertyNames:pe}),V(),q(Ce,G),P[W]=!0,$3}var J3={},Kw,Z3;function LY(){if(Z3)return Kw;Z3=1;var t=ec();return Kw=t&&!!Symbol.for&&!!Symbol.keyFor,Kw}var eL;function $fe(){if(eL)return J3;eL=1;var t=je(),e=Rn(),r=Or(),n=Jn(),i=nc(),s=LY(),a=i("string-to-symbol-registry"),o=i("symbol-to-string-registry");return t({target:"Symbol",stat:!0,forced:!s},{for:function(u){var c=n(u);if(r(a,c))return a[c];var d=e("Symbol")(c);return a[c]=d,o[d]=c,d}}),J3}var tL={},rL;function kfe(){if(rL)return tL;rL=1;var t=je(),e=Or(),r=jh(),n=tc(),i=nc(),s=LY(),a=i("symbol-to-string-registry");return t({target:"Symbol",stat:!0,forced:!s},{keyFor:function(u){if(!r(u))throw new TypeError(n(u)+" is not a symbol");if(e(a,u))return a[u]}}),tL}var nL={},Gw,iL;function Dfe(){if(iL)return Gw;iL=1;var t=Qe(),e=il(),r=xr(),n=Bi(),i=Jn(),s=t([].push);return Gw=function(a){if(r(a))return a;if(e(a)){for(var o=a.length,u=[],c=0;c<o;c++){var d=a[c];typeof d=="string"?s(u,d):(typeof d=="number"||n(d)==="Number"||n(d)==="String")&&s(u,i(d))}var h=u.length,f=!0;return function(p,v){if(f)return f=!1,v;if(e(this))return v;for(var y=0;y<h;y++)if(u[y]===p)return v}}},Gw}var sL;function BY(){if(sL)return nL;sL=1;var t=je(),e=Rn(),r=Rm(),n=xn(),i=Qe(),s=Ge(),a=xr(),o=jh(),u=ac(),c=Dfe(),d=ec(),h=String,f=e("JSON","stringify"),p=i(/./.exec),v=i("".charAt),y=i("".charCodeAt),x=i("".replace),g=i(1.1.toString),m=/[\uD800-\uDFFF]/g,w=/^[\uD800-\uDBFF]$/,b=/^[\uDC00-\uDFFF]$/,_=!d||s(function(){var C=e("Symbol")("stringify detection");return f([C])!=="[null]"||f({a:C})!=="{}"||f(Object(C))!=="{}"}),E=s(function(){return f("\uDF06\uD834")!=='"\\udf06\\ud834"'||f("\uDEAD")!=='"\\udead"'}),j=function(C,N){var O=u(arguments),P=c(N);if(!(!a(P)&&(C===void 0||o(C))))return O[1]=function(I,D){if(a(P)&&(D=n(P,this,h(I),D)),!o(D))return D},r(f,null,O)},S=function(C,N,O){var P=v(O,N-1),I=v(O,N+1);return p(w,C)&&!p(b,I)||p(b,C)&&!p(w,P)?"\\u"+g(y(C,0),16):C};return f&&t({target:"JSON",stat:!0,arity:3,forced:_||E},{stringify:function(N,O,P){var I=u(arguments),D=r(_?j:f,null,I);return E&&typeof D=="string"?x(D,m,S):D}}),nL}var aL={},oL;function Mfe(){if(oL)return aL;oL=1;var t=je(),e=ec(),r=Ge(),n=Fm(),i=$n(),s=!e||r(function(){n.f(1)});return t({target:"Object",stat:!0,forced:s},{getOwnPropertySymbols:function(o){var u=n.f;return u?u(i(o)):[]}}),aL}var lL;function zY(){return lL||(lL=1,Rfe(),$fe(),kfe(),BY(),Mfe()),R3}var uL={},cL;function UY(){if(cL)return uL;cL=1;var t=Mt();return t("asyncDispose"),uL}var dL={},hL;function qfe(){if(hL)return dL;hL=1;var t=Mt();return t("asyncIterator"),dL}var fL={},pL;function WY(){if(pL)return fL;pL=1;var t=Mt();return t("dispose"),fL}var mL={},vL;function Afe(){if(vL)return mL;vL=1;var t=Mt();return t("hasInstance"),mL}var gL={},yL;function Ffe(){if(yL)return gL;yL=1;var t=Mt();return t("isConcatSpreadable"),gL}var bL={},xL;function VY(){if(xL)return bL;xL=1;var t=Mt();return t("iterator"),bL}var wL={},_L;function Lfe(){if(_L)return wL;_L=1;var t=Mt();return t("match"),wL}var SL={},EL;function Bfe(){if(EL)return SL;EL=1;var t=Mt();return t("matchAll"),SL}var NL={},jL;function zfe(){if(jL)return NL;jL=1;var t=Mt();return t("replace"),NL}var CL={},OL;function Ufe(){if(OL)return CL;OL=1;var t=Mt();return t("search"),CL}var TL={},PL;function Wfe(){if(PL)return TL;PL=1;var t=Mt();return t("species"),TL}var IL={},RL;function Vfe(){if(RL)return IL;RL=1;var t=Mt();return t("split"),IL}var $L={},kL;function HY(){if(kL)return $L;kL=1;var t=Mt(),e=AY();return t("toPrimitive"),e(),$L}var DL={},ML;function Hfe(){if(ML)return DL;ML=1;var t=Rn(),e=Mt(),r=sl();return e("toStringTag"),r(t("Symbol"),"Symbol"),DL}var qL={},AL;function Kfe(){if(AL)return qL;AL=1;var t=Mt();return t("unscopables"),qL}var FL={},LL;function Gfe(){if(LL)return FL;LL=1;var t=Ot(),e=sl();return e(t.JSON,"JSON",!0),FL}var Yw,BL;function Yfe(){if(BL)return Yw;BL=1,qY(),zY(),UY(),qfe(),WY(),Afe(),Ffe(),VY(),Lfe(),Bfe(),zfe(),Ufe(),Wfe(),Vfe(),HY(),Hfe(),Kfe(),Gfe();var t=ft();return Yw=t.Symbol,Yw}var zL={},Qw,UL;function hT(){return UL||(UL=1,Qw=function(){}),Qw}var Xw,WL;function lc(){return WL||(WL=1,Xw={}),Xw}var Jw,VL;function Qfe(){if(VL)return Jw;VL=1;var t=Yt(),e=Or(),r=Function.prototype,n=t&&Object.getOwnPropertyDescriptor,i=e(r,"name"),s=i&&(function(){}).name==="something",a=i&&(!t||t&&n(r,"name").configurable);return Jw={EXISTS:i,PROPER:s,CONFIGURABLE:a},Jw}var Zw,HL;function KY(){if(HL)return Zw;HL=1;var t=Ge();return Zw=!t(function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype}),Zw}var e_,KL;function Wm(){if(KL)return e_;KL=1;var t=Or(),e=xr(),r=$n(),n=Bm(),i=KY(),s=n("IE_PROTO"),a=Object,o=a.prototype;return e_=i?a.getPrototypeOf:function(u){var c=r(u);if(t(c,s))return c[s];var d=c.constructor;return e(d)&&c instanceof d?d.prototype:c instanceof a?o:null},e_}var t_,GL;function GY(){if(GL)return t_;GL=1;var t=Ge(),e=xr(),r=wr(),n=Ph(),i=Wm(),s=Ih(),a=sr(),o=rc(),u=a("iterator"),c=!1,d,h,f;[].keys&&(f=[].keys(),"next"in f?(h=i(i(f)),h!==Object.prototype&&(d=h)):c=!0);var p=!r(d)||t(function(){var v={};return d[u].call(v)!==v});return p?d={}:o&&(d=n(d)),e(d[u])||s(d,u,function(){return this}),t_={IteratorPrototype:d,BUGGY_SAFARI_ITERATORS:c},t_}var r_,YL;function Xfe(){if(YL)return r_;YL=1;var t=GY().IteratorPrototype,e=Ph(),r=Eh(),n=sl(),i=lc(),s=function(){return this};return r_=function(a,o,u,c){var d=o+" Iterator";return a.prototype=e(t,{next:r(+!c,u)}),n(a,d,!1,!0),i[d]=s,a},r_}var n_,QL;function Jfe(){if(QL)return n_;QL=1;var t=Qe(),e=Rs();return n_=function(r,n,i){try{return t(e(Object.getOwnPropertyDescriptor(r,n)[i]))}catch{}},n_}var i_,XL;function Zfe(){if(XL)return i_;XL=1;var t=wr();return i_=function(e){return t(e)||e===null},i_}var s_,JL;function epe(){if(JL)return s_;JL=1;var t=Zfe(),e=String,r=TypeError;return s_=function(n){if(t(n))return n;throw new r("Can't set "+e(n)+" as a prototype")},s_}var a_,ZL;function tpe(){if(ZL)return a_;ZL=1;var t=Jfe(),e=wr(),r=Is(),n=epe();return a_=Object.setPrototypeOf||("__proto__"in{}?function(){var i=!1,s={},a;try{a=t(Object.prototype,"__proto__","set"),a(s,[]),i=s instanceof Array}catch{}return function(u,c){return r(u),n(c),e(u)&&(i?a(u,c):u.__proto__=c),u}}():void 0),a_}var o_,e6;function fT(){if(e6)return o_;e6=1;var t=je(),e=xn(),r=rc(),n=Qfe(),i=xr(),s=Xfe(),a=Wm(),o=tpe(),u=sl(),c=ic(),d=Ih(),h=sr(),f=lc(),p=GY(),v=n.PROPER,y=n.CONFIGURABLE,x=p.IteratorPrototype,g=p.BUGGY_SAFARI_ITERATORS,m=h("iterator"),w="keys",b="values",_="entries",E=function(){return this};return o_=function(j,S,C,N,O,P,I){s(C,S,N);var D=function(xe){if(xe===O&&H)return H;if(!g&&xe&&xe in V)return V[xe];switch(xe){case w:return function(){return new C(this,xe)};case b:return function(){return new C(this,xe)};case _:return function(){return new C(this,xe)}}return function(){return new C(this)}},F=S+" Iterator",M=!1,V=j.prototype,q=V[m]||V["@@iterator"]||O&&V[O],H=!g&&q||D(O),B=S==="Array"&&V.entries||q,W,G,de;if(B&&(W=a(B.call(new j)),W!==Object.prototype&&W.next&&(!r&&a(W)!==x&&(o?o(W,x):i(W[m])||d(W,m,E)),u(W,F,!0,!0),r&&(f[F]=E))),v&&O===b&&q&&q.name!==b&&(!r&&y?c(V,"name",b):(M=!0,H=function(){return e(q,this)})),O)if(G={values:D(b),keys:P?H:D(w),entries:D(_)},I)for(de in G)(g||M||!(de in V))&&d(V,de,G[de]);else t({target:S,proto:!0,forced:g||M},G);return(!r||I)&&V[m]!==H&&d(V,m,H,{name:O}),f[S]=H,G},o_}var l_,t6;function pT(){return t6||(t6=1,l_=function(t,e){return{value:t,done:e}}),l_}var u_,r6;function uc(){if(r6)return u_;r6=1;var t=bi(),e=hT(),r=lc(),n=al(),i=Xn().f,s=fT(),a=pT(),o=rc(),u=Yt(),c="Array Iterator",d=n.set,h=n.getterFor(c);u_=s(Array,"Array",function(p,v){d(this,{type:c,target:t(p),index:0,kind:v})},function(){var p=h(this),v=p.target,y=p.index++;if(!v||y>=v.length)return p.target=null,a(void 0,!0);switch(p.kind){case"keys":return a(y,!1);case"values":return a(v[y],!1)}return a([y,v[y]],!1)},"values");var f=r.Arguments=r.Array;if(e("keys"),e("values"),e("entries"),!o&&u&&f.name!=="values")try{i(f,"name",{value:"values"})}catch{}return u_}var c_,n6;function rpe(){return n6||(n6=1,c_={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}),c_}var i6;function cc(){if(i6)return zL;i6=1,uc();var t=rpe(),e=Ot(),r=sl(),n=lc();for(var i in t)r(e[i],i),n[i]=n.Array;return zL}var d_,s6;function YY(){if(s6)return d_;s6=1;var t=Yfe();return cc(),d_=t,d_}var h_,a6;function npe(){return a6||(a6=1,h_=YY()),h_}var ipe=npe(),spe=Re(ipe),o6={},l6;function ape(){if(l6)return o6;l6=1;var t=je(),e=il(),r=MY(),n=wr(),i=Am(),s=$s(),a=bi(),o=Lm(),u=sr(),c=Th(),d=ac(),h=c("slice"),f=u("species"),p=Array,v=Math.max;return t({target:"Array",proto:!0,forced:!h},{slice:function(x,g){var m=a(this),w=s(m),b=i(x,w),_=i(g===void 0?w:g,w),E,j,S;if(e(m)&&(E=m.constructor,r(E)&&(E===p||e(E.prototype))?E=void 0:n(E)&&(E=E[f],E===null&&(E=void 0)),E===p||E===void 0))return d(m,b,_);for(j=new(E===void 0?p:E)(v(_-b,0)),S=0;b<_;b++,S++)b in m&&o(j,S,m[b]);return j.length=S,j}}),o6}var f_,u6;function ope(){if(u6)return f_;u6=1,ape();var t=Tr();return f_=t("Array","slice"),f_}var p_,c6;function lpe(){if(c6)return p_;c6=1;var t=ir(),e=ope(),r=Array.prototype;return p_=function(n){var i=n.slice;return n===r||t(r,n)&&i===r.slice?e:i},p_}var m_,d6;function upe(){if(d6)return m_;d6=1;var t=lpe();return m_=t,m_}var v_,h6;function cpe(){return h6||(h6=1,v_=upe()),v_}var dpe=cpe(),Ti=Re(dpe),g_,f6;function hpe(){if(f6)return g_;f6=1;var t=Rn(),e=Qe(),r=zm(),n=Fm(),i=zi(),s=e([].concat);return g_=t("Reflect","ownKeys")||function(o){var u=r.f(i(o)),c=n.f;return c?s(u,c(o)):u},g_}var p6={},m6;function fpe(){if(m6)return p6;m6=1;var t=je(),e=il();return t({target:"Array",stat:!0},{isArray:e}),p6}var y_,v6;function ppe(){if(v6)return y_;v6=1,fpe();var t=ft();return y_=t.Array.isArray,y_}var b_,g6;function mpe(){if(g6)return b_;g6=1;var t=ppe();return b_=t,b_}var x_,y6;function vpe(){return y6||(y6=1,x_=mpe()),x_}var gpe=vpe(),Vt=Re(gpe),b6={},x6;function ype(){if(x6)return b6;x6=1;var t=je(),e=qa().map,r=Th(),n=r("map");return t({target:"Array",proto:!0,forced:!n},{map:function(s){return e(this,s,arguments.length>1?arguments[1]:void 0)}}),b6}var w_,w6;function bpe(){if(w6)return w_;w6=1,ype();var t=Tr();return w_=t("Array","map"),w_}var __,_6;function xpe(){if(_6)return __;_6=1;var t=ir(),e=bpe(),r=Array.prototype;return __=function(n){var i=n.map;return n===r||t(r,n)&&i===r.map?e:i},__}var S_,S6;function wpe(){if(S6)return S_;S6=1;var t=xpe();return S_=t,S_}var E_,E6;function _pe(){return E6||(E6=1,E_=wpe()),E_}var Spe=_pe(),Ou=Re(Spe),N6={},j6;function Epe(){if(j6)return N6;j6=1;var t=je(),e=$n(),r=Oh(),n=Ge(),i=n(function(){r(1)});return t({target:"Object",stat:!0,forced:i},{keys:function(a){return r(e(a))}}),N6}var N_,C6;function Npe(){if(C6)return N_;C6=1,Epe();var t=ft();return N_=t.Object.keys,N_}var j_,O6;function jpe(){if(O6)return j_;O6=1;var t=Npe();return j_=t,j_}var C_,T6;function Cpe(){return T6||(T6=1,C_=jpe()),C_}var Ope=Cpe(),zt=Re(Ope),P6={},I6;function Tpe(){if(I6)return P6;I6=1;var t=je(),e=Qe(),r=Date,n=e(r.prototype.getTime);return t({target:"Date",stat:!0},{now:function(){return n(new r)}}),P6}var O_,R6;function Ppe(){if(R6)return O_;R6=1,Tpe();var t=ft();return O_=t.Date.now,O_}var T_,$6;function Ipe(){if($6)return T_;$6=1;var t=Ppe();return T_=t,T_}var P_,k6;function Rpe(){return k6||(k6=1,P_=Ipe()),P_}var $pe=Rpe(),Mp=Re($pe),D6={},I_,M6;function dc(){if(M6)return I_;M6=1;var t=Ge();return I_=function(e,r){var n=[][e];return!!n&&t(function(){n.call(null,r||function(){return 1},1)})},I_}var R_,q6;function kpe(){if(q6)return R_;q6=1;var t=qa().forEach,e=dc(),r=e("forEach");return R_=r?[].forEach:function(i){return t(this,i,arguments.length>1?arguments[1]:void 0)},R_}var A6;function Dpe(){if(A6)return D6;A6=1;var t=je(),e=kpe();return t({target:"Array",proto:!0,forced:[].forEach!==e},{forEach:e}),D6}var $_,F6;function Mpe(){if(F6)return $_;F6=1,Dpe();var t=Tr();return $_=t("Array","forEach"),$_}var k_,L6;function qpe(){if(L6)return k_;L6=1;var t=Mpe();return k_=t,k_}var D_,B6;function Ape(){if(B6)return D_;B6=1;var t=oc(),e=Or(),r=ir(),n=qpe(),i=Array.prototype,s={DOMTokenList:!0,NodeList:!0};return D_=function(a){var o=a.forEach;return a===i||r(i,a)&&o===i.forEach||e(s,t(a))?n:o},D_}var M_,z6;function Fpe(){return z6||(z6=1,M_=Ape()),M_}var Lpe=Fpe(),pt=Re(Lpe),U6={},W6;function Bpe(){if(W6)return U6;W6=1;var t=je(),e=Qe(),r=il(),n=e([].reverse),i=[1,2];return t({target:"Array",proto:!0,forced:String(i)===String(i.reverse())},{reverse:function(){return r(this)&&(this.length=this.length),n(this)}}),U6}var q_,V6;function zpe(){if(V6)return q_;V6=1,Bpe();var t=Tr();return q_=t("Array","reverse"),q_}var A_,H6;function Upe(){if(H6)return A_;H6=1;var t=ir(),e=zpe(),r=Array.prototype;return A_=function(n){var i=n.reverse;return n===r||t(r,n)&&i===r.reverse?e:i},A_}var F_,K6;function Wpe(){if(K6)return F_;K6=1;var t=Upe();return F_=t,F_}var L_,G6;function Vpe(){return G6||(G6=1,L_=Wpe()),L_}var Hpe=Vpe(),bo=Re(Hpe),Y6={},B_,Q6;function Kpe(){if(Q6)return B_;Q6=1;var t=Yt(),e=il(),r=TypeError,n=Object.getOwnPropertyDescriptor,i=t&&!function(){if(this!==void 0)return!0;try{Object.defineProperty([],"length",{writable:!1}).length=1}catch(s){return s instanceof TypeError}}();return B_=i?function(s,a){if(e(s)&&!n(s,"length").writable)throw new r("Cannot set read only .length");return s.length=a}:function(s,a){return s.length=a},B_}var z_,X6;function QY(){if(X6)return z_;X6=1;var t=tc(),e=TypeError;return z_=function(r,n){if(!delete r[n])throw new e("Cannot delete property "+t(n)+" of "+t(r))},z_}var J6;function Gpe(){if(J6)return Y6;J6=1;var t=je(),e=$n(),r=Am(),n=sc(),i=$s(),s=Kpe(),a=DY(),o=lT(),u=Lm(),c=QY(),d=Th(),h=d("splice"),f=Math.max,p=Math.min;return t({target:"Array",proto:!0,forced:!h},{splice:function(y,x){var g=e(this),m=i(g),w=r(y,m),b=arguments.length,_,E,j,S,C,N;for(b===0?_=E=0:b===1?(_=0,E=m-w):(_=b-2,E=p(f(n(x),0),m-w)),a(m+_-E),j=o(g,E),S=0;S<E;S++)C=w+S,C in g&&u(j,S,g[C]);if(j.length=E,_<E){for(S=w;S<m-E;S++)C=S+E,N=S+_,C in g?g[N]=g[C]:c(g,N);for(S=m;S>m-E+_;S--)c(g,S-1)}else if(_>E)for(S=m-E;S>w;S--)C=S+E-1,N=S+_-1,C in g?g[N]=g[C]:c(g,N);for(S=0;S<_;S++)g[S+w]=arguments[S+2];return s(g,m-E+_),j}}),Y6}var U_,Z6;function Ype(){if(Z6)return U_;Z6=1,Gpe();var t=Tr();return U_=t("Array","splice"),U_}var W_,eB;function Qpe(){if(eB)return W_;eB=1;var t=ir(),e=Ype(),r=Array.prototype;return W_=function(n){var i=n.splice;return n===r||t(r,n)&&i===r.splice?e:i},W_}var V_,tB;function Xpe(){if(tB)return V_;tB=1;var t=Qpe();return V_=t,V_}var H_,rB;function Jpe(){return rB||(rB=1,H_=Xpe()),H_}var Zpe=Jpe(),ds=Re(Zpe),nB={},iB;function eme(){if(iB)return nB;iB=1;var t=je(),e=iT().includes,r=Ge(),n=hT(),i=r(function(){return!Array(1).includes()});return t({target:"Array",proto:!0,forced:i},{includes:function(a){return e(this,a,arguments.length>1?arguments[1]:void 0)}}),n("includes"),nB}var K_,sB;function tme(){if(sB)return K_;sB=1,eme();var t=Tr();return K_=t("Array","includes"),K_}var aB={},G_,oB;function rme(){if(oB)return G_;oB=1;var t=wr(),e=Bi(),r=sr(),n=r("match");return G_=function(i){var s;return t(i)&&((s=i[n])!==void 0?!!s:e(i)==="RegExp")},G_}var Y_,lB;function nme(){if(lB)return Y_;lB=1;var t=rme(),e=TypeError;return Y_=function(r){if(t(r))throw new e("The method doesn't accept regular expressions");return r},Y_}var Q_,uB;function ime(){if(uB)return Q_;uB=1;var t=sr(),e=t("match");return Q_=function(r){var n=/./;try{"/./"[r](n)}catch{try{return n[e]=!1,"/./"[r](n)}catch{}}return!1},Q_}var cB;function sme(){if(cB)return aB;cB=1;var t=je(),e=Qe(),r=nme(),n=Is(),i=Jn(),s=ime(),a=e("".indexOf);return t({target:"String",proto:!0,forced:!s("includes")},{includes:function(u){return!!~a(i(n(this)),i(r(u)),arguments.length>1?arguments[1]:void 0)}}),aB}var X_,dB;function ame(){if(dB)return X_;dB=1,sme();var t=Tr();return X_=t("String","includes"),X_}var J_,hB;function ome(){if(hB)return J_;hB=1;var t=ir(),e=tme(),r=ame(),n=Array.prototype,i=String.prototype;return J_=function(s){var a=s.includes;return s===n||t(n,s)&&a===n.includes?e:typeof s=="string"||s===i||t(i,s)&&a===i.includes?r:a},J_}var Z_,fB;function lme(){if(fB)return Z_;fB=1;var t=ome();return Z_=t,Z_}var eS,pB;function ume(){return pB||(pB=1,eS=lme()),eS}var cme=ume(),ba=Re(cme),mB={},vB;function dme(){if(vB)return mB;vB=1;var t=je(),e=Ge(),r=$n(),n=Wm(),i=KY(),s=e(function(){n(1)});return t({target:"Object",stat:!0,forced:s,sham:!i},{getPrototypeOf:function(o){return n(r(o))}}),mB}var tS,gB;function hme(){if(gB)return tS;gB=1,dme();var t=ft();return tS=t.Object.getPrototypeOf,tS}var rS,yB;function fme(){if(yB)return rS;yB=1;var t=hme();return rS=t,rS}var nS,bB;function pme(){return bB||(bB=1,nS=fme()),nS}var mme=pme(),xB=Re(mme),iS,wB;function vme(){if(wB)return iS;wB=1,qY();var t=Tr();return iS=t("Array","concat"),iS}var sS,_B;function gme(){if(_B)return sS;_B=1;var t=ir(),e=vme(),r=Array.prototype;return sS=function(n){var i=n.concat;return n===r||t(r,n)&&i===r.concat?e:i},sS}var aS,SB;function yme(){if(SB)return aS;SB=1;var t=gme();return aS=t,aS}var oS,EB;function bme(){return EB||(EB=1,oS=yme()),oS}var xme=bme(),wme=Re(xme),NB={},jB;function _me(){if(jB)return NB;jB=1;var t=je(),e=qa().filter,r=Th(),n=r("filter");return t({target:"Array",proto:!0,forced:!n},{filter:function(s){return e(this,s,arguments.length>1?arguments[1]:void 0)}}),NB}var lS,CB;function Sme(){if(CB)return lS;CB=1,_me();var t=Tr();return lS=t("Array","filter"),lS}var uS,OB;function Eme(){if(OB)return uS;OB=1;var t=ir(),e=Sme(),r=Array.prototype;return uS=function(n){var i=n.filter;return n===r||t(r,n)&&i===r.filter?e:i},uS}var cS,TB;function Nme(){if(TB)return cS;TB=1;var t=Eme();return cS=t,cS}var dS,PB;function jme(){return PB||(PB=1,dS=Nme()),dS}var Cme=jme(),on=Re(Cme),IB={},hS,RB;function Ome(){if(RB)return hS;RB=1;var t=Yt(),e=Ge(),r=Qe(),n=Wm(),i=Oh(),s=bi(),a=$m().f,o=r(a),u=r([].push),c=t&&e(function(){var h=Object.create(null);return h[2]=2,!o(h,2)}),d=function(h){return function(f){for(var p=s(f),v=i(p),y=c&&n(p)===null,x=v.length,g=0,m=[],w;x>g;)w=v[g++],(!t||(y?w in p:o(p,w)))&&u(m,h?[w,p[w]]:p[w]);return m}};return hS={entries:d(!0),values:d(!1)},hS}var $B;function Tme(){if($B)return IB;$B=1;var t=je(),e=Ome().values;return t({target:"Object",stat:!0},{values:function(n){return e(n)}}),IB}var fS,kB;function Pme(){if(kB)return fS;kB=1,Tme();var t=ft();return fS=t.Object.values,fS}var pS,DB;function Ime(){if(DB)return pS;DB=1;var t=Pme();return pS=t,pS}var mS,MB;function Rme(){return MB||(MB=1,mS=Ime()),mS}var $me=Rme(),kme=Re($me),qB={},vS,AB;function mT(){return AB||(AB=1,vS=`	
\v\f\r \u2028\u2029\uFEFF`),vS}var gS,FB;function XY(){if(FB)return gS;FB=1;var t=Qe(),e=Is(),r=Jn(),n=mT(),i=t("".replace),s=RegExp("^["+n+"]+"),a=RegExp("(^|[^"+n+"])["+n+"]+$"),o=function(u){return function(c){var d=r(e(c));return u&1&&(d=i(d,s,"")),u&2&&(d=i(d,a,"$1")),d}};return gS={start:o(1),end:o(2),trim:o(3)},gS}var yS,LB;function Dme(){if(LB)return yS;LB=1;var t=Ot(),e=Ge(),r=Qe(),n=Jn(),i=XY().trim,s=mT(),a=t.parseInt,o=t.Symbol,u=o&&o.iterator,c=/^[+-]?0x/i,d=r(c.exec),h=a(s+"08")!==8||a(s+"0x16")!==22||u&&!e(function(){a(Object(u))});return yS=h?function(p,v){var y=i(n(p));return a(y,v>>>0||(d(c,y)?16:10))}:a,yS}var BB;function Mme(){if(BB)return qB;BB=1;var t=je(),e=Dme();return t({global:!0,forced:parseInt!==e},{parseInt:e}),qB}var bS,zB;function qme(){if(zB)return bS;zB=1,Mme();var t=ft();return bS=t.parseInt,bS}var xS,UB;function Ame(){if(UB)return xS;UB=1;var t=qme();return xS=t,xS}var wS,WB;function Fme(){return WB||(WB=1,wS=Ame()),wS}var Lme=Fme(),ui=Re(Lme),VB={},HB;function Bme(){if(HB)return VB;HB=1;var t=je(),e=eT(),r=iT().indexOf,n=dc(),i=e([].indexOf),s=!!i&&1/i([1],1,-0)<0,a=s||!n("indexOf");return t({target:"Array",proto:!0,forced:a},{indexOf:function(u){var c=arguments.length>1?arguments[1]:void 0;return s?i(this,u,c)||0:r(this,u,c)}}),VB}var _S,KB;function zme(){if(KB)return _S;KB=1,Bme();var t=Tr();return _S=t("Array","indexOf"),_S}var SS,GB;function Ume(){if(GB)return SS;GB=1;var t=ir(),e=zme(),r=Array.prototype;return SS=function(n){var i=n.indexOf;return n===r||t(r,n)&&i===r.indexOf?e:i},SS}var ES,YB;function Wme(){if(YB)return ES;YB=1;var t=Ume();return ES=t,ES}var NS,QB;function Vme(){return QB||(QB=1,NS=Wme()),NS}var Hme=Vme(),ct=Re(Hme),XB={},JB;function Kme(){if(JB)return XB;JB=1;var t=je(),e=Yt(),r=Ph();return t({target:"Object",stat:!0,sham:!e},{create:r}),XB}var jS,ZB;function Gme(){if(ZB)return jS;ZB=1,Kme();var t=ft(),e=t.Object;return jS=function(n,i){return e.create(n,i)},jS}var CS,ez;function Yme(){if(ez)return CS;ez=1;var t=Gme();return CS=t,CS}var OS,tz;function Qme(){return tz||(tz=1,OS=Yme()),OS}var Xme=Qme(),xo=Re(Xme),rz={},TS,nz;function Jme(){if(nz)return TS;nz=1;var t=sc(),e=Jn(),r=Is(),n=RangeError;return TS=function(s){var a=e(r(this)),o="",u=t(s);if(u<0||u===1/0)throw new n("Wrong number of repetitions");for(;u>0;(u>>>=1)&&(a+=a))u&1&&(o+=a);return o},TS}var PS,iz;function Zme(){if(iz)return PS;iz=1;var t=Qe(),e=TY(),r=Jn(),n=Jme(),i=Is(),s=t(n),a=t("".slice),o=Math.ceil,u=function(c){return function(d,h,f){var p=r(i(d)),v=e(h),y=p.length,x=f===void 0?" ":r(f),g,m;return v<=y||x===""?p:(g=v-y,m=s(x,o(g/x.length)),m.length>g&&(m=a(m,0,g)),c?p+m:m+p)}};return PS={start:u(!1),end:u(!0)},PS}var IS,sz;function eve(){if(sz)return IS;sz=1;var t=Qe(),e=Ge(),r=Zme().start,n=RangeError,i=isFinite,s=Math.abs,a=Date.prototype,o=a.toISOString,u=t(a.getTime),c=t(a.getUTCDate),d=t(a.getUTCFullYear),h=t(a.getUTCHours),f=t(a.getUTCMilliseconds),p=t(a.getUTCMinutes),v=t(a.getUTCMonth),y=t(a.getUTCSeconds);return IS=e(function(){return o.call(new Date(-5e13-1))!=="0385-07-25T07:06:39.999Z"})||!e(function(){o.call(new Date(NaN))})?function(){if(!i(u(this)))throw new n("Invalid time value");var g=this,m=d(g),w=f(g),b=m<0?"-":m>9999?"+":"";return b+r(s(m),b?6:4,0)+"-"+r(v(g)+1,2,0)+"-"+r(c(g),2,0)+"T"+r(h(g),2,0)+":"+r(p(g),2,0)+":"+r(y(g),2,0)+"."+r(w,3,0)+"Z"}:o,IS}var az;function tve(){if(az)return rz;az=1;var t=je(),e=xn(),r=$n(),n=NY(),i=eve(),s=Bi(),a=Ge(),o=a(function(){return new Date(NaN).toJSON()!==null||e(Date.prototype.toJSON,{toISOString:function(){return 1}})!==1});return t({target:"Date",proto:!0,forced:o},{toJSON:function(c){var d=r(this),h=n(d,"number");return typeof h=="number"&&!isFinite(h)?null:!("toISOString"in d)&&s(d)==="Date"?e(i,d):d.toISOString()}}),rz}var RS,oz;function rve(){if(oz)return RS;oz=1,tve(),BY();var t=ft(),e=Rm();return t.JSON||(t.JSON={stringify:JSON.stringify}),RS=function(n,i,s){return e(t.JSON.stringify,null,arguments)},RS}var $S,lz;function nve(){if(lz)return $S;lz=1;var t=rve();return $S=t,$S}var kS,uz;function ive(){return uz||(uz=1,kS=nve()),kS}var sve=ive(),Rh=Re(sve),cz={},dz={},DS,hz;function JY(){if(hz)return DS;hz=1;var t=Ot(),e=Zu(),r=Bi(),n=function(i){return e.slice(0,i.length)===i};return DS=function(){return n("Bun/")?"BUN":n("Cloudflare-Workers")?"CLOUDFLARE":n("Deno/")?"DENO":n("Node.js/")?"NODE":t.Bun&&typeof Bun.version=="string"?"BUN":t.Deno&&typeof Deno.version=="object"?"DENO":r(t.process)==="process"?"NODE":t.window&&t.document?"BROWSER":"REST"}(),DS}var MS,fz;function ave(){if(fz)return MS;fz=1;var t=TypeError;return MS=function(e,r){if(e<r)throw new t("Not enough arguments");return e},MS}var qS,pz;function ZY(){if(pz)return qS;pz=1;var t=Ot(),e=Rm(),r=xr(),n=JY(),i=Zu(),s=ac(),a=ave(),o=t.Function,u=/MSIE .\./.test(i)||n==="BUN"&&function(){var c=t.Bun.version.split(".");return c.length<3||c[0]==="0"&&(c[1]<3||c[1]==="3"&&c[2]==="0")}();return qS=function(c,d){var h=d?2:1;return u?function(f,p){var v=a(arguments.length,1)>h,y=r(f)?f:o(f),x=v?s(arguments,h):[],g=v?function(){e(y,this,x)}:y;return d?c(g,p):c(g)}:c},qS}var mz;function ove(){if(mz)return dz;mz=1;var t=je(),e=Ot(),r=ZY(),n=r(e.setInterval,!0);return t({global:!0,bind:!0,forced:e.setInterval!==n},{setInterval:n}),dz}var vz={},gz;function lve(){if(gz)return vz;gz=1;var t=je(),e=Ot(),r=ZY(),n=r(e.setTimeout,!0);return t({global:!0,bind:!0,forced:e.setTimeout!==n},{setTimeout:n}),vz}var yz;function eQ(){return yz||(yz=1,ove(),lve()),cz}var AS,bz;function uve(){if(bz)return AS;bz=1,eQ();var t=ft();return AS=t.setTimeout,AS}var FS,xz;function cve(){return xz||(xz=1,FS=uve()),FS}var dve=cve(),hs=Re(dve),wz={},LS,_z;function hve(){if(_z)return LS;_z=1;var t=$n(),e=Am(),r=$s();return LS=function(i){for(var s=t(this),a=r(s),o=arguments.length,u=e(o>1?arguments[1]:void 0,a),c=o>2?arguments[2]:void 0,d=c===void 0?a:e(c,a);d>u;)s[u++]=i;return s},LS}var Sz;function fve(){if(Sz)return wz;Sz=1;var t=je(),e=hve(),r=hT();return t({target:"Array",proto:!0},{fill:e}),r("fill"),wz}var BS,Ez;function pve(){if(Ez)return BS;Ez=1,fve();var t=Tr();return BS=t("Array","fill"),BS}var zS,Nz;function mve(){if(Nz)return zS;Nz=1;var t=ir(),e=pve(),r=Array.prototype;return zS=function(n){var i=n.fill;return n===r||t(r,n)&&i===r.fill?e:i},zS}var US,jz;function vve(){if(jz)return US;jz=1;var t=mve();return US=t,US}var WS,Cz;function gve(){return Cz||(Cz=1,WS=vve()),WS}var yve=gve(),$h=Re(yve);/*! Hammer.JS - v2.0.17-rc - 2019-12-16
 * http://naver.github.io/egjs
 *
 * Forked By Naver egjs
 * Copyright (c) hammerjs
 * Licensed under the MIT license */function vi(){return vi=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},vi.apply(this,arguments)}function Zn(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}function _f(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}var Yj;typeof Object.assign!="function"?Yj=function(e){if(e==null)throw new TypeError("Cannot convert undefined or null to object");for(var r=Object(e),n=1;n<arguments.length;n++){var i=arguments[n];if(i!=null)for(var s in i)i.hasOwnProperty(s)&&(r[s]=i[s])}return r}:Yj=Object.assign;var Fo=Yj,Oz=["","webkit","Moz","MS","ms","o"],bve=typeof document>"u"?{style:{}}:document.createElement("div"),xve="function",ql=Math.round,Lo=Math.abs,vT=Date.now;function Vm(t,e){for(var r,n,i=e[0].toUpperCase()+e.slice(1),s=0;s<Oz.length;){if(r=Oz[s],n=r?r+i:e,n in t)return n;s++}}var fs;typeof window>"u"?fs={}:fs=window;var tQ=Vm(bve.style,"touchAction"),rQ=tQ!==void 0;function wve(){if(!rQ)return!1;var t={},e=fs.CSS&&fs.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach(function(r){return t[r]=e?fs.CSS.supports("touch-action",r):!0}),t}var nQ="compute",iQ="auto",Qj="manipulation",wo="none",$d="pan-x",kd="pan-y",Sf=wve(),_ve=/mobile|tablet|ip(ad|hone|od)|android/i,sQ="ontouchstart"in fs,Sve=Vm(fs,"PointerEvent")!==void 0,Eve=sQ&&_ve.test(navigator.userAgent),kh="touch",Nve="pen",gT="mouse",jve="kinect",Cve=25,Gr=1,ol=2,tr=4,gn=8,qp=1,Dh=2,Mh=4,qh=8,Tu=16,Ai=Dh|Mh,_o=qh|Tu,aQ=Ai|_o,oQ=["x","y"],Ap=["clientX","clientY"];function ps(t,e,r){var n;if(t)if(t.forEach)t.forEach(e,r);else if(t.length!==void 0)for(n=0;n<t.length;)e.call(r,t[n],n,t),n++;else for(n in t)t.hasOwnProperty(n)&&e.call(r,t[n],n,t)}function Hm(t,e){return typeof t===xve?t.apply(e&&e[0]||void 0,e):t}function to(t,e){return t.indexOf(e)>-1}function Ove(t){if(to(t,wo))return wo;var e=to(t,$d),r=to(t,kd);return e&&r?wo:e||r?e?$d:kd:to(t,Qj)?Qj:iQ}var lQ=function(){function t(r,n){this.manager=r,this.set(n)}var e=t.prototype;return e.set=function(n){n===nQ&&(n=this.compute()),rQ&&this.manager.element.style&&Sf[n]&&(this.manager.element.style[tQ]=n),this.actions=n.toLowerCase().trim()},e.update=function(){this.set(this.manager.options.touchAction)},e.compute=function(){var n=[];return ps(this.manager.recognizers,function(i){Hm(i.options.enable,[i])&&(n=n.concat(i.getTouchAction()))}),Ove(n.join(" "))},e.preventDefaults=function(n){var i=n.srcEvent,s=n.offsetDirection;if(this.manager.session.prevented){i.preventDefault();return}var a=this.actions,o=to(a,wo)&&!Sf[wo],u=to(a,kd)&&!Sf[kd],c=to(a,$d)&&!Sf[$d];if(o){var d=n.pointers.length===1,h=n.distance<2,f=n.deltaTime<250;if(d&&h&&f)return}if(!(c&&u)&&(o||u&&s&Ai||c&&s&_o))return this.preventSrc(i)},e.preventSrc=function(n){this.manager.session.prevented=!0,n.preventDefault()},t}();function yT(t,e){for(;t;){if(t===e)return!0;t=t.parentNode}return!1}function uQ(t){var e=t.length;if(e===1)return{x:ql(t[0].clientX),y:ql(t[0].clientY)};for(var r=0,n=0,i=0;i<e;)r+=t[i].clientX,n+=t[i].clientY,i++;return{x:ql(r/e),y:ql(n/e)}}function Tz(t){for(var e=[],r=0;r<t.pointers.length;)e[r]={clientX:ql(t.pointers[r].clientX),clientY:ql(t.pointers[r].clientY)},r++;return{timeStamp:vT(),pointers:e,center:uQ(e),deltaX:t.deltaX,deltaY:t.deltaY}}function Fp(t,e,r){r||(r=oQ);var n=e[r[0]]-t[r[0]],i=e[r[1]]-t[r[1]];return Math.sqrt(n*n+i*i)}function Xj(t,e,r){r||(r=oQ);var n=e[r[0]]-t[r[0]],i=e[r[1]]-t[r[1]];return Math.atan2(i,n)*180/Math.PI}function cQ(t,e){return t===e?qp:Lo(t)>=Lo(e)?t<0?Dh:Mh:e<0?qh:Tu}function Tve(t,e){var r=e.center,n=t.offsetDelta||{},i=t.prevDelta||{},s=t.prevInput||{};(e.eventType===Gr||s.eventType===tr)&&(i=t.prevDelta={x:s.deltaX||0,y:s.deltaY||0},n=t.offsetDelta={x:r.x,y:r.y}),e.deltaX=i.x+(r.x-n.x),e.deltaY=i.y+(r.y-n.y)}function dQ(t,e,r){return{x:e/t||0,y:r/t||0}}function Pve(t,e){return Fp(e[0],e[1],Ap)/Fp(t[0],t[1],Ap)}function Ive(t,e){return Xj(e[1],e[0],Ap)+Xj(t[1],t[0],Ap)}function Rve(t,e){var r=t.lastInterval||e,n=e.timeStamp-r.timeStamp,i,s,a,o;if(e.eventType!==gn&&(n>Cve||r.velocity===void 0)){var u=e.deltaX-r.deltaX,c=e.deltaY-r.deltaY,d=dQ(n,u,c);s=d.x,a=d.y,i=Lo(d.x)>Lo(d.y)?d.x:d.y,o=cQ(u,c),t.lastInterval=e}else i=r.velocity,s=r.velocityX,a=r.velocityY,o=r.direction;e.velocity=i,e.velocityX=s,e.velocityY=a,e.direction=o}function $ve(t,e){var r=t.session,n=e.pointers,i=n.length;r.firstInput||(r.firstInput=Tz(e)),i>1&&!r.firstMultiple?r.firstMultiple=Tz(e):i===1&&(r.firstMultiple=!1);var s=r.firstInput,a=r.firstMultiple,o=a?a.center:s.center,u=e.center=uQ(n);e.timeStamp=vT(),e.deltaTime=e.timeStamp-s.timeStamp,e.angle=Xj(o,u),e.distance=Fp(o,u),Tve(r,e),e.offsetDirection=cQ(e.deltaX,e.deltaY);var c=dQ(e.deltaTime,e.deltaX,e.deltaY);e.overallVelocityX=c.x,e.overallVelocityY=c.y,e.overallVelocity=Lo(c.x)>Lo(c.y)?c.x:c.y,e.scale=a?Pve(a.pointers,n):1,e.rotation=a?Ive(a.pointers,n):0,e.maxPointers=r.prevInput?e.pointers.length>r.prevInput.maxPointers?e.pointers.length:r.prevInput.maxPointers:e.pointers.length,Rve(r,e);var d=t.element,h=e.srcEvent,f;h.composedPath?f=h.composedPath()[0]:h.path?f=h.path[0]:f=h.target,yT(f,d)&&(d=f),e.target=d}function kve(t,e,r){var n=r.pointers.length,i=r.changedPointers.length,s=e&Gr&&n-i===0,a=e&(tr|gn)&&n-i===0;r.isFirst=!!s,r.isFinal=!!a,s&&(t.session={}),r.eventType=e,$ve(t,r),t.emit("hammer.input",r),t.recognize(r),t.session.prevInput=r}function Dd(t){return t.trim().split(/\s+/g)}function ed(t,e,r){ps(Dd(e),function(n){t.addEventListener(n,r,!1)})}function td(t,e,r){ps(Dd(e),function(n){t.removeEventListener(n,r,!1)})}function Pz(t){var e=t.ownerDocument||t;return e.defaultView||e.parentWindow||window}var hc=function(){function t(r,n){var i=this;this.manager=r,this.callback=n,this.element=r.element,this.target=r.options.inputTarget,this.domHandler=function(s){Hm(r.options.enable,[r])&&i.handler(s)},this.init()}var e=t.prototype;return e.handler=function(){},e.init=function(){this.evEl&&ed(this.element,this.evEl,this.domHandler),this.evTarget&&ed(this.target,this.evTarget,this.domHandler),this.evWin&&ed(Pz(this.element),this.evWin,this.domHandler)},e.destroy=function(){this.evEl&&td(this.element,this.evEl,this.domHandler),this.evTarget&&td(this.target,this.evTarget,this.domHandler),this.evWin&&td(Pz(this.element),this.evWin,this.domHandler)},t}();function Bo(t,e,r){if(t.indexOf&&!r)return t.indexOf(e);for(var n=0;n<t.length;){if(r&&t[n][r]==e||!r&&t[n]===e)return n;n++}return-1}var Dve={pointerdown:Gr,pointermove:ol,pointerup:tr,pointercancel:gn,pointerout:gn},Mve={2:kh,3:Nve,4:gT,5:jve},hQ="pointerdown",fQ="pointermove pointerup pointercancel";fs.MSPointerEvent&&!fs.PointerEvent&&(hQ="MSPointerDown",fQ="MSPointerMove MSPointerUp MSPointerCancel");var pQ=function(t){Zn(e,t);function e(){var n,i=e.prototype;return i.evEl=hQ,i.evWin=fQ,n=t.apply(this,arguments)||this,n.store=n.manager.session.pointerEvents=[],n}var r=e.prototype;return r.handler=function(i){var s=this.store,a=!1,o=i.type.toLowerCase().replace("ms",""),u=Dve[o],c=Mve[i.pointerType]||i.pointerType,d=c===kh,h=Bo(s,i.pointerId,"pointerId");u&Gr&&(i.button===0||d)?h<0&&(s.push(i),h=s.length-1):u&(tr|gn)&&(a=!0),!(h<0)&&(s[h]=i,this.callback(this.manager,u,{pointers:s,changedPointers:[i],pointerType:c,srcEvent:i}),a&&s.splice(h,1))},e}(hc);function Md(t){return Array.prototype.slice.call(t,0)}function bT(t,e,r){for(var n=[],i=[],s=0;s<t.length;){var a=e?t[s][e]:t[s];Bo(i,a)<0&&n.push(t[s]),i[s]=a,s++}return r&&(e?n=n.sort(function(o,u){return o[e]>u[e]}):n=n.sort()),n}var qve={touchstart:Gr,touchmove:ol,touchend:tr,touchcancel:gn},Ave="touchstart touchmove touchend touchcancel",xT=function(t){Zn(e,t);function e(){var n;return e.prototype.evTarget=Ave,n=t.apply(this,arguments)||this,n.targetIds={},n}var r=e.prototype;return r.handler=function(i){var s=qve[i.type],a=Fve.call(this,i,s);a&&this.callback(this.manager,s,{pointers:a[0],changedPointers:a[1],pointerType:kh,srcEvent:i})},e}(hc);function Fve(t,e){var r=Md(t.touches),n=this.targetIds;if(e&(Gr|ol)&&r.length===1)return n[r[0].identifier]=!0,[r,r];var i,s,a=Md(t.changedTouches),o=[],u=this.target;if(s=r.filter(function(c){return yT(c.target,u)}),e===Gr)for(i=0;i<s.length;)n[s[i].identifier]=!0,i++;for(i=0;i<a.length;)n[a[i].identifier]&&o.push(a[i]),e&(tr|gn)&&delete n[a[i].identifier],i++;if(o.length)return[bT(s.concat(o),"identifier",!0),o]}var Lve={mousedown:Gr,mousemove:ol,mouseup:tr},Bve="mousedown",zve="mousemove mouseup",wT=function(t){Zn(e,t);function e(){var n,i=e.prototype;return i.evEl=Bve,i.evWin=zve,n=t.apply(this,arguments)||this,n.pressed=!1,n}var r=e.prototype;return r.handler=function(i){var s=Lve[i.type];s&Gr&&i.button===0&&(this.pressed=!0),s&ol&&i.which!==1&&(s=tr),this.pressed&&(s&tr&&(this.pressed=!1),this.callback(this.manager,s,{pointers:[i],changedPointers:[i],pointerType:gT,srcEvent:i}))},e}(hc),Uve=2500,Iz=25;function Rz(t){var e=t.changedPointers,r=e[0];if(r.identifier===this.primaryTouch){var n={x:r.clientX,y:r.clientY},i=this.lastTouches;this.lastTouches.push(n);var s=function(){var o=i.indexOf(n);o>-1&&i.splice(o,1)};setTimeout(s,Uve)}}function Wve(t,e){t&Gr?(this.primaryTouch=e.changedPointers[0].identifier,Rz.call(this,e)):t&(tr|gn)&&Rz.call(this,e)}function Vve(t){for(var e=t.srcEvent.clientX,r=t.srcEvent.clientY,n=0;n<this.lastTouches.length;n++){var i=this.lastTouches[n],s=Math.abs(e-i.x),a=Math.abs(r-i.y);if(s<=Iz&&a<=Iz)return!0}return!1}var mQ=function(){var t=function(e){Zn(r,e);function r(i,s){var a;return a=e.call(this,i,s)||this,a.handler=function(o,u,c){var d=c.pointerType===kh,h=c.pointerType===gT;if(!(h&&c.sourceCapabilities&&c.sourceCapabilities.firesTouchEvents)){if(d)Wve.call(_f(_f(a)),u,c);else if(h&&Vve.call(_f(_f(a)),c))return;a.callback(o,u,c)}},a.touch=new xT(a.manager,a.handler),a.mouse=new wT(a.manager,a.handler),a.primaryTouch=null,a.lastTouches=[],a}var n=r.prototype;return n.destroy=function(){this.touch.destroy(),this.mouse.destroy()},r}(hc);return t}();function Hve(t){var e,r=t.options.inputClass;return r?e=r:Sve?e=pQ:Eve?e=xT:sQ?e=mQ:e=wT,new e(t,kve)}function Al(t,e,r){return Array.isArray(t)?(ps(t,r[e],r),!0):!1}var Wf=1,Hn=2,Pu=4,xa=8,ms=xa,qd=16,Ii=32,Kve=1;function Gve(){return Kve++}function Ef(t,e){var r=e.manager;return r?r.get(t):t}function $z(t){return t&qd?"cancel":t&xa?"end":t&Pu?"move":t&Hn?"start":""}var Ah=function(){function t(r){r===void 0&&(r={}),this.options=vi({enable:!0},r),this.id=Gve(),this.manager=null,this.state=Wf,this.simultaneous={},this.requireFail=[]}var e=t.prototype;return e.set=function(n){return Fo(this.options,n),this.manager&&this.manager.touchAction.update(),this},e.recognizeWith=function(n){if(Al(n,"recognizeWith",this))return this;var i=this.simultaneous;return n=Ef(n,this),i[n.id]||(i[n.id]=n,n.recognizeWith(this)),this},e.dropRecognizeWith=function(n){return Al(n,"dropRecognizeWith",this)?this:(n=Ef(n,this),delete this.simultaneous[n.id],this)},e.requireFailure=function(n){if(Al(n,"requireFailure",this))return this;var i=this.requireFail;return n=Ef(n,this),Bo(i,n)===-1&&(i.push(n),n.requireFailure(this)),this},e.dropRequireFailure=function(n){if(Al(n,"dropRequireFailure",this))return this;n=Ef(n,this);var i=Bo(this.requireFail,n);return i>-1&&this.requireFail.splice(i,1),this},e.hasRequireFailures=function(){return this.requireFail.length>0},e.canRecognizeWith=function(n){return!!this.simultaneous[n.id]},e.emit=function(n){var i=this,s=this.state;function a(o){i.manager.emit(o,n)}s<xa&&a(i.options.event+$z(s)),a(i.options.event),n.additionalEvent&&a(n.additionalEvent),s>=xa&&a(i.options.event+$z(s))},e.tryEmit=function(n){if(this.canEmit())return this.emit(n);this.state=Ii},e.canEmit=function(){for(var n=0;n<this.requireFail.length;){if(!(this.requireFail[n].state&(Ii|Wf)))return!1;n++}return!0},e.recognize=function(n){var i=Fo({},n);if(!Hm(this.options.enable,[this,i])){this.reset(),this.state=Ii;return}this.state&(ms|qd|Ii)&&(this.state=Wf),this.state=this.process(i),this.state&(Hn|Pu|xa|qd)&&this.tryEmit(i)},e.process=function(n){},e.getTouchAction=function(){},e.reset=function(){},t}(),Jj=function(t){Zn(e,t);function e(n){var i;return n===void 0&&(n={}),i=t.call(this,vi({event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},n))||this,i.pTime=!1,i.pCenter=!1,i._timer=null,i._input=null,i.count=0,i}var r=e.prototype;return r.getTouchAction=function(){return[Qj]},r.process=function(i){var s=this,a=this.options,o=i.pointers.length===a.pointers,u=i.distance<a.threshold,c=i.deltaTime<a.time;if(this.reset(),i.eventType&Gr&&this.count===0)return this.failTimeout();if(u&&c&&o){if(i.eventType!==tr)return this.failTimeout();var d=this.pTime?i.timeStamp-this.pTime<a.interval:!0,h=!this.pCenter||Fp(this.pCenter,i.center)<a.posThreshold;this.pTime=i.timeStamp,this.pCenter=i.center,!h||!d?this.count=1:this.count+=1,this._input=i;var f=this.count%a.taps;if(f===0)return this.hasRequireFailures()?(this._timer=setTimeout(function(){s.state=ms,s.tryEmit()},a.interval),Hn):ms}return Ii},r.failTimeout=function(){var i=this;return this._timer=setTimeout(function(){i.state=Ii},this.options.interval),Ii},r.reset=function(){clearTimeout(this._timer)},r.emit=function(){this.state===ms&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))},e}(Ah),Iu=function(t){Zn(e,t);function e(n){return n===void 0&&(n={}),t.call(this,vi({pointers:1},n))||this}var r=e.prototype;return r.attrTest=function(i){var s=this.options.pointers;return s===0||i.pointers.length===s},r.process=function(i){var s=this.state,a=i.eventType,o=s&(Hn|Pu),u=this.attrTest(i);return o&&(a&gn||!u)?s|qd:o||u?a&tr?s|xa:s&Hn?s|Pu:Hn:Ii},e}(Ah);function vQ(t){return t===Tu?"down":t===qh?"up":t===Dh?"left":t===Mh?"right":""}var _T=function(t){Zn(e,t);function e(n){var i;return n===void 0&&(n={}),i=t.call(this,vi({event:"pan",threshold:10,pointers:1,direction:aQ},n))||this,i.pX=null,i.pY=null,i}var r=e.prototype;return r.getTouchAction=function(){var i=this.options.direction,s=[];return i&Ai&&s.push(kd),i&_o&&s.push($d),s},r.directionTest=function(i){var s=this.options,a=!0,o=i.distance,u=i.direction,c=i.deltaX,d=i.deltaY;return u&s.direction||(s.direction&Ai?(u=c===0?qp:c<0?Dh:Mh,a=c!==this.pX,o=Math.abs(i.deltaX)):(u=d===0?qp:d<0?qh:Tu,a=d!==this.pY,o=Math.abs(i.deltaY))),i.direction=u,a&&o>s.threshold&&u&s.direction},r.attrTest=function(i){return Iu.prototype.attrTest.call(this,i)&&(this.state&Hn||!(this.state&Hn)&&this.directionTest(i))},r.emit=function(i){this.pX=i.deltaX,this.pY=i.deltaY;var s=vQ(i.direction);s&&(i.additionalEvent=this.options.event+s),t.prototype.emit.call(this,i)},e}(Iu),gQ=function(t){Zn(e,t);function e(n){return n===void 0&&(n={}),t.call(this,vi({event:"swipe",threshold:10,velocity:.3,direction:Ai|_o,pointers:1},n))||this}var r=e.prototype;return r.getTouchAction=function(){return _T.prototype.getTouchAction.call(this)},r.attrTest=function(i){var s=this.options.direction,a;return s&(Ai|_o)?a=i.overallVelocity:s&Ai?a=i.overallVelocityX:s&_o&&(a=i.overallVelocityY),t.prototype.attrTest.call(this,i)&&s&i.offsetDirection&&i.distance>this.options.threshold&&i.maxPointers===this.options.pointers&&Lo(a)>this.options.velocity&&i.eventType&tr},r.emit=function(i){var s=vQ(i.offsetDirection);s&&this.manager.emit(this.options.event+s,i),this.manager.emit(this.options.event,i)},e}(Iu),yQ=function(t){Zn(e,t);function e(n){return n===void 0&&(n={}),t.call(this,vi({event:"pinch",threshold:0,pointers:2},n))||this}var r=e.prototype;return r.getTouchAction=function(){return[wo]},r.attrTest=function(i){return t.prototype.attrTest.call(this,i)&&(Math.abs(i.scale-1)>this.options.threshold||this.state&Hn)},r.emit=function(i){if(i.scale!==1){var s=i.scale<1?"in":"out";i.additionalEvent=this.options.event+s}t.prototype.emit.call(this,i)},e}(Iu),bQ=function(t){Zn(e,t);function e(n){return n===void 0&&(n={}),t.call(this,vi({event:"rotate",threshold:0,pointers:2},n))||this}var r=e.prototype;return r.getTouchAction=function(){return[wo]},r.attrTest=function(i){return t.prototype.attrTest.call(this,i)&&(Math.abs(i.rotation)>this.options.threshold||this.state&Hn)},e}(Iu),xQ=function(t){Zn(e,t);function e(n){var i;return n===void 0&&(n={}),i=t.call(this,vi({event:"press",pointers:1,time:251,threshold:9},n))||this,i._timer=null,i._input=null,i}var r=e.prototype;return r.getTouchAction=function(){return[iQ]},r.process=function(i){var s=this,a=this.options,o=i.pointers.length===a.pointers,u=i.distance<a.threshold,c=i.deltaTime>a.time;if(this._input=i,!u||!o||i.eventType&(tr|gn)&&!c)this.reset();else if(i.eventType&Gr)this.reset(),this._timer=setTimeout(function(){s.state=ms,s.tryEmit()},a.time);else if(i.eventType&tr)return ms;return Ii},r.reset=function(){clearTimeout(this._timer)},r.emit=function(i){this.state===ms&&(i&&i.eventType&tr?this.manager.emit(this.options.event+"up",i):(this._input.timeStamp=vT(),this.manager.emit(this.options.event,this._input)))},e}(Ah),wQ={domEvents:!1,touchAction:nQ,enable:!0,inputTarget:null,inputClass:null,cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}},kz=[[bQ,{enable:!1}],[yQ,{enable:!1},["rotate"]],[gQ,{direction:Ai}],[_T,{direction:Ai},["swipe"]],[Jj],[Jj,{event:"doubletap",taps:2},["tap"]],[xQ]],Yve=1,Dz=2;function Mz(t,e){var r=t.element;if(r.style){var n;ps(t.options.cssProps,function(i,s){n=Vm(r.style,s),e?(t.oldCssProps[n]=r.style[n],r.style[n]=i):r.style[n]=t.oldCssProps[n]||""}),e||(t.oldCssProps={})}}function Qve(t,e){var r=document.createEvent("Event");r.initEvent(t,!0,!0),r.gesture=e,e.target.dispatchEvent(r)}var qz=function(){function t(r,n){var i=this;this.options=Fo({},wQ,n||{}),this.options.inputTarget=this.options.inputTarget||r,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=r,this.input=Hve(this),this.touchAction=new lQ(this,this.options.touchAction),Mz(this,!0),ps(this.options.recognizers,function(s){var a=i.add(new s[0](s[1]));s[2]&&a.recognizeWith(s[2]),s[3]&&a.requireFailure(s[3])},this)}var e=t.prototype;return e.set=function(n){return Fo(this.options,n),n.touchAction&&this.touchAction.update(),n.inputTarget&&(this.input.destroy(),this.input.target=n.inputTarget,this.input.init()),this},e.stop=function(n){this.session.stopped=n?Dz:Yve},e.recognize=function(n){var i=this.session;if(!i.stopped){this.touchAction.preventDefaults(n);var s,a=this.recognizers,o=i.curRecognizer;(!o||o&&o.state&ms)&&(i.curRecognizer=null,o=null);for(var u=0;u<a.length;)s=a[u],i.stopped!==Dz&&(!o||s===o||s.canRecognizeWith(o))?s.recognize(n):s.reset(),!o&&s.state&(Hn|Pu|xa)&&(i.curRecognizer=s,o=s),u++}},e.get=function(n){if(n instanceof Ah)return n;for(var i=this.recognizers,s=0;s<i.length;s++)if(i[s].options.event===n)return i[s];return null},e.add=function(n){if(Al(n,"add",this))return this;var i=this.get(n.options.event);return i&&this.remove(i),this.recognizers.push(n),n.manager=this,this.touchAction.update(),n},e.remove=function(n){if(Al(n,"remove",this))return this;var i=this.get(n);if(n){var s=this.recognizers,a=Bo(s,i);a!==-1&&(s.splice(a,1),this.touchAction.update())}return this},e.on=function(n,i){if(n===void 0||i===void 0)return this;var s=this.handlers;return ps(Dd(n),function(a){s[a]=s[a]||[],s[a].push(i)}),this},e.off=function(n,i){if(n===void 0)return this;var s=this.handlers;return ps(Dd(n),function(a){i?s[a]&&s[a].splice(Bo(s[a],i),1):delete s[a]}),this},e.emit=function(n,i){this.options.domEvents&&Qve(n,i);var s=this.handlers[n]&&this.handlers[n].slice();if(!(!s||!s.length)){i.type=n,i.preventDefault=function(){i.srcEvent.preventDefault()};for(var a=0;a<s.length;)s[a](i),a++}},e.destroy=function(){this.element&&Mz(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null},t}(),Xve={touchstart:Gr,touchmove:ol,touchend:tr,touchcancel:gn},Jve="touchstart",Zve="touchstart touchmove touchend touchcancel",ege=function(t){Zn(e,t);function e(){var n,i=e.prototype;return i.evTarget=Jve,i.evWin=Zve,n=t.apply(this,arguments)||this,n.started=!1,n}var r=e.prototype;return r.handler=function(i){var s=Xve[i.type];if(s===Gr&&(this.started=!0),!!this.started){var a=tge.call(this,i,s);s&(tr|gn)&&a[0].length-a[1].length===0&&(this.started=!1),this.callback(this.manager,s,{pointers:a[0],changedPointers:a[1],pointerType:kh,srcEvent:i})}},e}(hc);function tge(t,e){var r=Md(t.touches),n=Md(t.changedTouches);return e&(tr|gn)&&(r=bT(r.concat(n),"identifier",!0)),[r,n]}function _Q(t,e,r){var n="DEPRECATED METHOD: "+e+`
`+r+` AT 
`;return function(){var i=new Error("get-stack-trace"),s=i&&i.stack?i.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",a=window.console&&(window.console.warn||window.console.log);return a&&a.call(window.console,n,s),t.apply(this,arguments)}}var SQ=_Q(function(t,e,r){for(var n=Object.keys(e),i=0;i<n.length;)(!r||r&&t[n[i]]===void 0)&&(t[n[i]]=e[n[i]]),i++;return t},"extend","Use `assign`."),rge=_Q(function(t,e){return SQ(t,e,!0)},"merge","Use `assign`.");function nge(t,e,r){var n=e.prototype,i;i=t.prototype=Object.create(n),i.constructor=t,i._super=n,r&&Fo(i,r)}function Az(t,e){return function(){return t.apply(e,arguments)}}var EQ=function(){var t=function(r,n){return n===void 0&&(n={}),new qz(r,vi({recognizers:kz.concat()},n))};return t.VERSION="2.0.17-rc",t.DIRECTION_ALL=aQ,t.DIRECTION_DOWN=Tu,t.DIRECTION_LEFT=Dh,t.DIRECTION_RIGHT=Mh,t.DIRECTION_UP=qh,t.DIRECTION_HORIZONTAL=Ai,t.DIRECTION_VERTICAL=_o,t.DIRECTION_NONE=qp,t.DIRECTION_DOWN=Tu,t.INPUT_START=Gr,t.INPUT_MOVE=ol,t.INPUT_END=tr,t.INPUT_CANCEL=gn,t.STATE_POSSIBLE=Wf,t.STATE_BEGAN=Hn,t.STATE_CHANGED=Pu,t.STATE_ENDED=xa,t.STATE_RECOGNIZED=ms,t.STATE_CANCELLED=qd,t.STATE_FAILED=Ii,t.Manager=qz,t.Input=hc,t.TouchAction=lQ,t.TouchInput=xT,t.MouseInput=wT,t.PointerEventInput=pQ,t.TouchMouseInput=mQ,t.SingleTouchInput=ege,t.Recognizer=Ah,t.AttrRecognizer=Iu,t.Tap=Jj,t.Pan=_T,t.Swipe=gQ,t.Pinch=yQ,t.Rotate=bQ,t.Press=xQ,t.on=ed,t.off=td,t.each=ps,t.merge=rge,t.extend=SQ,t.bindFn=Az,t.assign=Fo,t.inherit=nge,t.bindFn=Az,t.prefixed=Vm,t.toArray=Md,t.inArray=Bo,t.uniqueArray=bT,t.splitStr=Dd,t.boolOrFn=Hm,t.hasParent=yT,t.addEventListeners=ed,t.removeEventListeners=td,t.defaults=Fo({},wQ,{preset:kz}),t}();EQ.defaults;spe("DELETE");function Km(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return ige(e.length?e:[Mp()])}function ige(t){let[e,r,n]=sge(t),i=1;const s=()=>{const a=2091639*e+i*23283064365386963e-26;return e=r,r=n,n=a-(i=a|0)};return s.uint32=()=>s()*4294967296,s.fract53=()=>s()+(s()*2097152|0)*11102230246251565e-32,s.algorithm="Alea",s.seed=t,s.version="0.9",s}function sge(){const t=age();let e=t(" "),r=t(" "),n=t(" ");for(let i=0;i<arguments.length;i++)e-=t(i<0||arguments.length<=i?void 0:arguments[i]),e<0&&(e+=1),r-=t(i<0||arguments.length<=i?void 0:arguments[i]),r<0&&(r+=1),n-=t(i<0||arguments.length<=i?void 0:arguments[i]),n<0&&(n+=1);return[e,r,n]}function age(){let t=4022871197;return function(e){const r=e.toString();for(let n=0;n<r.length;n++){t+=r.charCodeAt(n);let i=.02519603282416938*t;t=i>>>0,i-=t,i*=t,t=i>>>0,i-=t,t+=i*4294967296}return(t>>>0)*23283064365386963e-26}}function oge(){const t=()=>{};return{on:t,off:t,destroy:t,emit:t,get(){return{set:t}}}}const ST=typeof window<"u"?window.Hammer||EQ:function(){return oge()};function Ri(t){var e;this._cleanupQueue=[],this.active=!1,this._dom={container:t,overlay:document.createElement("div")},this._dom.overlay.classList.add("vis-overlay"),this._dom.container.appendChild(this._dom.overlay),this._cleanupQueue.push(()=>{this._dom.overlay.parentNode.removeChild(this._dom.overlay)});const r=ST(this._dom.overlay);r.on("tap",re(e=this._onTapOverlay).call(e,this)),this._cleanupQueue.push(()=>{r.destroy()});const n=["tap","doubletap","press","pinch","pan","panstart","panmove","panend"];pt(n).call(n,i=>{r.on(i,s=>{s.srcEvent.stopPropagation()})}),document&&document.body&&(this._onClick=i=>{lge(i.target,t)||this.deactivate()},document.body.addEventListener("click",this._onClick),this._cleanupQueue.push(()=>{document.body.removeEventListener("click",this._onClick)})),this._escListener=i=>{("key"in i?i.key==="Escape":i.keyCode===27)&&this.deactivate()}}kY(Ri.prototype);Ri.current=null;Ri.prototype.destroy=function(){this.deactivate();for(const r of bo(t=ds(e=this._cleanupQueue).call(e,0)).call(t)){var t,e;r()}};Ri.prototype.activate=function(){Ri.current&&Ri.current.deactivate(),Ri.current=this,this.active=!0,this._dom.overlay.style.display="none",this._dom.container.classList.add("vis-active"),this.emit("change"),this.emit("activate"),document.body.addEventListener("keydown",this._escListener)};Ri.prototype.deactivate=function(){this.active=!1,this._dom.overlay.style.display="block",this._dom.container.classList.remove("vis-active"),document.body.removeEventListener("keydown",this._escListener),this.emit("change"),this.emit("deactivate")};Ri.prototype._onTapOverlay=function(t){this.activate(),t.srcEvent.stopPropagation()};function lge(t,e){for(;t;){if(t===e)return!0;t=t.parentNode}return!1}const uge=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i,cge=/^#?([a-f\d])([a-f\d])([a-f\d])$/i,dge=/^rgb\( *(1?\d{1,2}|2[0-4]\d|25[0-5]) *, *(1?\d{1,2}|2[0-4]\d|25[0-5]) *, *(1?\d{1,2}|2[0-4]\d|25[0-5]) *\)$/i,hge=/^rgba\( *(1?\d{1,2}|2[0-4]\d|25[0-5]) *, *(1?\d{1,2}|2[0-4]\d|25[0-5]) *, *(1?\d{1,2}|2[0-4]\d|25[0-5]) *, *([01]|0?\.\d+) *\)$/i;function zs(t){if(t)for(;t.hasChildNodes()===!0;){const e=t.firstChild;e&&(zs(e),t.removeChild(e))}}function Hl(t){return t instanceof String||typeof t=="string"}function Fz(t){return typeof t=="object"&&t!==null}function zo(t,e,r,n){let i=!1;n===!0&&(i=e[r]===null&&t[r]!==void 0),i?delete t[r]:t[r]=e[r]}function NQ(t,e){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;for(const n in t)if(e[n]!==void 0)if(e[n]===null||typeof e[n]!="object")zo(t,e,n,r);else{const i=t[n],s=e[n];Fz(i)&&Fz(s)&&NQ(i,s,r)}}function fc(t,e,r){let n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(Vt(r))throw new TypeError("Arrays are not supported by deepExtend");for(let i=0;i<t.length;i++){const s=t[i];if(Object.prototype.hasOwnProperty.call(r,s))if(r[s]&&r[s].constructor===Object)e[s]===void 0&&(e[s]={}),e[s].constructor===Object?yt(e[s],r[s],!1,n):zo(e,r,s,n);else{if(Vt(r[s]))throw new TypeError("Arrays are not supported by deepExtend");zo(e,r,s,n)}}return e}function Lp(t,e,r){let n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(Vt(r))throw new TypeError("Arrays are not supported by deepExtend");for(const i in r)if(Object.prototype.hasOwnProperty.call(r,i)&&!ba(t).call(t,i))if(r[i]&&r[i].constructor===Object)e[i]===void 0&&(e[i]={}),e[i].constructor===Object?yt(e[i],r[i]):zo(e,r,i,n);else if(Vt(r[i])){e[i]=[];for(let s=0;s<r[i].length;s++)e[i].push(r[i][s])}else zo(e,r,i,n);return e}function yt(t,e){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;for(const s in e)if(Object.prototype.hasOwnProperty.call(e,s)||r===!0)if(typeof e[s]=="object"&&e[s]!==null&&xB(e[s])===Object.prototype)t[s]===void 0?t[s]=yt({},e[s],r):typeof t[s]=="object"&&t[s]!==null&&xB(t[s])===Object.prototype?yt(t[s],e[s],r):zo(t,e,s,n);else if(Vt(e[s])){var i;t[s]=Ti(i=e[s]).call(i)}else zo(t,e,s,n);return t}function Bp(t,e){return[...t,e]}function fge(t){return Ti(t).call(t)}function pge(t){return t.getBoundingClientRect().left}function mge(t){return t.getBoundingClientRect().top}function We(t,e){if(Vt(t)){const r=t.length;for(let n=0;n<r;n++)e(t[n],n,t)}else for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&e(t[r],r,t)}function ET(t){let e;switch(t.length){case 3:case 4:return e=cge.exec(t),e?{r:ui(e[1]+e[1],16),g:ui(e[2]+e[2],16),b:ui(e[3]+e[3],16)}:null;case 6:case 7:return e=uge.exec(t),e?{r:ui(e[1],16),g:ui(e[2],16),b:ui(e[3],16)}:null;default:return null}}function zn(t,e){if(ba(t).call(t,"rgba"))return t;if(ba(t).call(t,"rgb")){const r=t.substr(ct(t).call(t,"(")+1).replace(")","").split(",");return"rgba("+r[0]+","+r[1]+","+r[2]+","+e+")"}else{const r=ET(t);return r==null?t:"rgba("+r.r+","+r.g+","+r.b+","+e+")"}}function jQ(t,e,r){var n;return"#"+Ti(n=((1<<24)+(t<<16)+(e<<8)+r).toString(16)).call(n,1)}function Zj(t,e){if(Hl(t)){let n=t;if(OQ(n)){var r;const i=Ou(r=n.substr(4).substr(0,n.length-5).split(",")).call(r,function(s){return ui(s)});n=jQ(i[0],i[1],i[2])}if(CQ(n)===!0){const i=vge(n),s={h:i.h,s:i.s*.8,v:Math.min(1,i.v*1.02)},a={h:i.h,s:Math.min(1,i.s*1.25),v:i.v*.8},o=eC(a.h,a.s,a.v),u=eC(s.h,s.s,s.v);return{background:n,border:o,highlight:{background:u,border:o},hover:{background:u,border:o}}}else return{background:n,border:n,highlight:{background:n,border:n},hover:{background:n,border:n}}}else return{background:t.background||void 0,border:t.border||void 0,highlight:Hl(t.highlight)?{border:t.highlight,background:t.highlight}:{background:t.highlight&&t.highlight.background||void 0,border:t.highlight&&t.highlight.border||void 0},hover:Hl(t.hover)?{border:t.hover,background:t.hover}:{border:t.hover&&t.hover.border||void 0,background:t.hover&&t.hover.background||void 0}}}function Ac(t,e,r){t=t/255,e=e/255,r=r/255;const n=Math.min(t,Math.min(e,r)),i=Math.max(t,Math.max(e,r));if(n===i)return{h:0,s:0,v:n};const s=t===n?e-r:r===n?t-e:r-t,o=60*((t===n?3:r===n?1:5)-s/(i-n))/360,u=(i-n)/i;return{h:o,s:u,v:i}}function Vf(t,e,r){let n,i,s;const a=Math.floor(t*6),o=t*6-a,u=r*(1-e),c=r*(1-o*e),d=r*(1-(1-o)*e);switch(a%6){case 0:n=r,i=d,s=u;break;case 1:n=c,i=r,s=u;break;case 2:n=u,i=r,s=d;break;case 3:n=u,i=c,s=r;break;case 4:n=d,i=u,s=r;break;case 5:n=r,i=u,s=c;break}return{r:Math.floor(n*255),g:Math.floor(i*255),b:Math.floor(s*255)}}function eC(t,e,r){const n=Vf(t,e,r);return jQ(n.r,n.g,n.b)}function vge(t){const e=ET(t);if(!e)throw new TypeError("'".concat(t,"' is not a valid color."));return Ac(e.r,e.g,e.b)}function CQ(t){return/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i.test(t)}function OQ(t){return dge.test(t)}function gge(t){return hge.test(t)}function wa(t){if(t===null||typeof t!="object")return null;if(t instanceof Element)return t;const e=xo(t);for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&typeof t[r]=="object"&&(e[r]=wa(t[r]));return e}function Fn(t,e,r){let n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};const i=function(p){return p!=null},s=function(p){return p!==null&&typeof p=="object"},a=function(p){for(const v in p)if(Object.prototype.hasOwnProperty.call(p,v))return!1;return!0};if(!s(t))throw new Error("Parameter mergeTarget must be an object");if(!s(e))throw new Error("Parameter options must be an object");if(!i(r))throw new Error("Parameter option must have a value");if(!s(n))throw new Error("Parameter globalOptions must be an object");const o=function(p,v,y){s(p[y])||(p[y]={});const x=v[y],g=p[y];for(const m in x)Object.prototype.hasOwnProperty.call(x,m)&&(g[m]=x[m])},u=e[r],d=s(n)&&!a(n)?n[r]:void 0,h=d?d.enabled:void 0;if(u===void 0)return;if(typeof u=="boolean"){s(t[r])||(t[r]={}),t[r].enabled=u;return}if(u===null&&!s(t[r]))if(i(d))t[r]=xo(d);else return;if(!s(u))return;let f=!0;u.enabled!==void 0?f=u.enabled:h!==void 0&&(f=d.enabled),o(t,e,r),t[r].enabled=f}const yge={linear(t){return t},easeInQuad(t){return t*t},easeOutQuad(t){return t*(2-t)},easeInOutQuad(t){return t<.5?2*t*t:-1+(4-2*t)*t},easeInCubic(t){return t*t*t},easeOutCubic(t){return--t*t*t+1},easeInOutCubic(t){return t<.5?4*t*t*t:(t-1)*(2*t-2)*(2*t-2)+1},easeInQuart(t){return t*t*t*t},easeOutQuart(t){return 1- --t*t*t*t},easeInOutQuart(t){return t<.5?8*t*t*t*t:1-8*--t*t*t*t},easeInQuint(t){return t*t*t*t*t},easeOutQuint(t){return 1+--t*t*t*t*t},easeInOutQuint(t){return t<.5?16*t*t*t*t*t:1+16*--t*t*t*t*t}};function Us(t,e){let r;Vt(e)||(e=[e]);for(const n of t)if(n){r=n[e[0]];for(let i=1;i<e.length;i++)r&&(r=r[e[i]]);if(typeof r<"u")break}return r}const bge={black:"#000000",navy:"#000080",darkblue:"#00008B",mediumblue:"#0000CD",blue:"#0000FF",darkgreen:"#006400",green:"#008000",teal:"#008080",darkcyan:"#008B8B",deepskyblue:"#00BFFF",darkturquoise:"#00CED1",mediumspringgreen:"#00FA9A",lime:"#00FF00",springgreen:"#00FF7F",aqua:"#00FFFF",cyan:"#00FFFF",midnightblue:"#191970",dodgerblue:"#1E90FF",lightseagreen:"#20B2AA",forestgreen:"#228B22",seagreen:"#2E8B57",darkslategray:"#2F4F4F",limegreen:"#32CD32",mediumseagreen:"#3CB371",turquoise:"#40E0D0",royalblue:"#4169E1",steelblue:"#4682B4",darkslateblue:"#483D8B",mediumturquoise:"#48D1CC",indigo:"#4B0082",darkolivegreen:"#556B2F",cadetblue:"#5F9EA0",cornflowerblue:"#6495ED",mediumaquamarine:"#66CDAA",dimgray:"#696969",slateblue:"#6A5ACD",olivedrab:"#6B8E23",slategray:"#708090",lightslategray:"#778899",mediumslateblue:"#7B68EE",lawngreen:"#7CFC00",chartreuse:"#7FFF00",aquamarine:"#7FFFD4",maroon:"#800000",purple:"#800080",olive:"#808000",gray:"#808080",skyblue:"#87CEEB",lightskyblue:"#87CEFA",blueviolet:"#8A2BE2",darkred:"#8B0000",darkmagenta:"#8B008B",saddlebrown:"#8B4513",darkseagreen:"#8FBC8F",lightgreen:"#90EE90",mediumpurple:"#9370D8",darkviolet:"#9400D3",palegreen:"#98FB98",darkorchid:"#9932CC",yellowgreen:"#9ACD32",sienna:"#A0522D",brown:"#A52A2A",darkgray:"#A9A9A9",lightblue:"#ADD8E6",greenyellow:"#ADFF2F",paleturquoise:"#AFEEEE",lightsteelblue:"#B0C4DE",powderblue:"#B0E0E6",firebrick:"#B22222",darkgoldenrod:"#B8860B",mediumorchid:"#BA55D3",rosybrown:"#BC8F8F",darkkhaki:"#BDB76B",silver:"#C0C0C0",mediumvioletred:"#C71585",indianred:"#CD5C5C",peru:"#CD853F",chocolate:"#D2691E",tan:"#D2B48C",lightgrey:"#D3D3D3",palevioletred:"#D87093",thistle:"#D8BFD8",orchid:"#DA70D6",goldenrod:"#DAA520",crimson:"#DC143C",gainsboro:"#DCDCDC",plum:"#DDA0DD",burlywood:"#DEB887",lightcyan:"#E0FFFF",lavender:"#E6E6FA",darksalmon:"#E9967A",violet:"#EE82EE",palegoldenrod:"#EEE8AA",lightcoral:"#F08080",khaki:"#F0E68C",aliceblue:"#F0F8FF",honeydew:"#F0FFF0",azure:"#F0FFFF",sandybrown:"#F4A460",wheat:"#F5DEB3",beige:"#F5F5DC",whitesmoke:"#F5F5F5",mintcream:"#F5FFFA",ghostwhite:"#F8F8FF",salmon:"#FA8072",antiquewhite:"#FAEBD7",linen:"#FAF0E6",lightgoldenrodyellow:"#FAFAD2",oldlace:"#FDF5E6",red:"#FF0000",fuchsia:"#FF00FF",magenta:"#FF00FF",deeppink:"#FF1493",orangered:"#FF4500",tomato:"#FF6347",hotpink:"#FF69B4",coral:"#FF7F50",darkorange:"#FF8C00",lightsalmon:"#FFA07A",orange:"#FFA500",lightpink:"#FFB6C1",pink:"#FFC0CB",gold:"#FFD700",peachpuff:"#FFDAB9",navajowhite:"#FFDEAD",moccasin:"#FFE4B5",bisque:"#FFE4C4",mistyrose:"#FFE4E1",blanchedalmond:"#FFEBCD",papayawhip:"#FFEFD5",lavenderblush:"#FFF0F5",seashell:"#FFF5EE",cornsilk:"#FFF8DC",lemonchiffon:"#FFFACD",floralwhite:"#FFFAF0",snow:"#FFFAFA",yellow:"#FFFF00",lightyellow:"#FFFFE0",ivory:"#FFFFF0",white:"#FFFFFF"};let xge=class{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1;this.pixelRatio=e,this.generated=!1,this.centerCoordinates={x:289/2,y:289/2},this.r=289*.49,this.color={r:255,g:255,b:255,a:1},this.hueCircle=void 0,this.initialColor={r:255,g:255,b:255,a:1},this.previousColor=void 0,this.applied=!1,this.updateCallback=()=>{},this.closeCallback=()=>{},this._create()}insertTo(e){this.hammer!==void 0&&(this.hammer.destroy(),this.hammer=void 0),this.container=e,this.container.appendChild(this.frame),this._bindHammer(),this._setSize()}setUpdateCallback(e){if(typeof e=="function")this.updateCallback=e;else throw new Error("Function attempted to set as colorPicker update callback is not a function.")}setCloseCallback(e){if(typeof e=="function")this.closeCallback=e;else throw new Error("Function attempted to set as colorPicker closing callback is not a function.")}_isColorString(e){if(typeof e=="string")return bge[e]}setColor(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(e==="none")return;let n;const i=this._isColorString(e);if(i!==void 0&&(e=i),Hl(e)===!0){if(OQ(e)===!0){const s=e.substr(4).substr(0,e.length-5).split(",");n={r:s[0],g:s[1],b:s[2],a:1}}else if(gge(e)===!0){const s=e.substr(5).substr(0,e.length-6).split(",");n={r:s[0],g:s[1],b:s[2],a:s[3]}}else if(CQ(e)===!0){const s=ET(e);n={r:s.r,g:s.g,b:s.b,a:1}}}else if(e instanceof Object&&e.r!==void 0&&e.g!==void 0&&e.b!==void 0){const s=e.a!==void 0?e.a:"1.0";n={r:e.r,g:e.g,b:e.b,a:s}}if(n===void 0)throw new Error("Unknown color passed to the colorPicker. Supported are strings: rgb, hex, rgba. Object: rgb ({r:r,g:g,b:b,[a:a]}). Supplied: "+Rh(e));this._setColor(n,r)}show(){this.closeCallback!==void 0&&(this.closeCallback(),this.closeCallback=void 0),this.applied=!1,this.frame.style.display="block",this._generateHueCircle()}_hide(){(arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0)===!0&&(this.previousColor=er({},this.color)),this.applied===!0&&this.updateCallback(this.initialColor),this.frame.style.display="none",hs(()=>{this.closeCallback!==void 0&&(this.closeCallback(),this.closeCallback=void 0)},0)}_save(){this.updateCallback(this.color),this.applied=!1,this._hide()}_apply(){this.applied=!0,this.updateCallback(this.color),this._updatePicker(this.color)}_loadLast(){this.previousColor!==void 0?this.setColor(this.previousColor,!1):alert("There is no last color to load...")}_setColor(e){(arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0)===!0&&(this.initialColor=er({},e)),this.color=e;const n=Ac(e.r,e.g,e.b),i=2*Math.PI,s=this.r*n.s,a=this.centerCoordinates.x+s*Math.sin(i*n.h),o=this.centerCoordinates.y+s*Math.cos(i*n.h);this.colorPickerSelector.style.left=a-.5*this.colorPickerSelector.clientWidth+"px",this.colorPickerSelector.style.top=o-.5*this.colorPickerSelector.clientHeight+"px",this._updatePicker(e)}_setOpacity(e){this.color.a=e/100,this._updatePicker(this.color)}_setBrightness(e){const r=Ac(this.color.r,this.color.g,this.color.b);r.v=e/100;const n=Vf(r.h,r.s,r.v);n.a=this.color.a,this.color=n,this._updatePicker()}_updatePicker(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.color;const r=Ac(e.r,e.g,e.b),n=this.colorPickerCanvas.getContext("2d");this.pixelRation===void 0&&(this.pixelRatio=(window.devicePixelRatio||1)/(n.webkitBackingStorePixelRatio||n.mozBackingStorePixelRatio||n.msBackingStorePixelRatio||n.oBackingStorePixelRatio||n.backingStorePixelRatio||1)),n.setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0);const i=this.colorPickerCanvas.clientWidth,s=this.colorPickerCanvas.clientHeight;n.clearRect(0,0,i,s),n.putImageData(this.hueCircle,0,0),n.fillStyle="rgba(0,0,0,"+(1-r.v)+")",n.circle(this.centerCoordinates.x,this.centerCoordinates.y,this.r),$h(n).call(n),this.brightnessRange.value=100*r.v,this.opacityRange.value=100*e.a,this.initialColorDiv.style.backgroundColor="rgba("+this.initialColor.r+","+this.initialColor.g+","+this.initialColor.b+","+this.initialColor.a+")",this.newColorDiv.style.backgroundColor="rgba("+this.color.r+","+this.color.g+","+this.color.b+","+this.color.a+")"}_setSize(){this.colorPickerCanvas.style.width="100%",this.colorPickerCanvas.style.height="100%",this.colorPickerCanvas.width=289*this.pixelRatio,this.colorPickerCanvas.height=289*this.pixelRatio}_create(){var e,r,n,i;if(this.frame=document.createElement("div"),this.frame.className="vis-color-picker",this.colorPickerDiv=document.createElement("div"),this.colorPickerSelector=document.createElement("div"),this.colorPickerSelector.className="vis-selector",this.colorPickerDiv.appendChild(this.colorPickerSelector),this.colorPickerCanvas=document.createElement("canvas"),this.colorPickerDiv.appendChild(this.colorPickerCanvas),this.colorPickerCanvas.getContext){const a=this.colorPickerCanvas.getContext("2d");this.pixelRatio=(window.devicePixelRatio||1)/(a.webkitBackingStorePixelRatio||a.mozBackingStorePixelRatio||a.msBackingStorePixelRatio||a.oBackingStorePixelRatio||a.backingStorePixelRatio||1),this.colorPickerCanvas.getContext("2d").setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0)}else{const a=document.createElement("DIV");a.style.color="red",a.style.fontWeight="bold",a.style.padding="10px",a.innerText="Error: your browser does not support HTML canvas",this.colorPickerCanvas.appendChild(a)}this.colorPickerDiv.className="vis-color",this.opacityDiv=document.createElement("div"),this.opacityDiv.className="vis-opacity",this.brightnessDiv=document.createElement("div"),this.brightnessDiv.className="vis-brightness",this.arrowDiv=document.createElement("div"),this.arrowDiv.className="vis-arrow",this.opacityRange=document.createElement("input");try{this.opacityRange.type="range",this.opacityRange.min="0",this.opacityRange.max="100"}catch{}this.opacityRange.value="100",this.opacityRange.className="vis-range",this.brightnessRange=document.createElement("input");try{this.brightnessRange.type="range",this.brightnessRange.min="0",this.brightnessRange.max="100"}catch{}this.brightnessRange.value="100",this.brightnessRange.className="vis-range",this.opacityDiv.appendChild(this.opacityRange),this.brightnessDiv.appendChild(this.brightnessRange);const s=this;this.opacityRange.onchange=function(){s._setOpacity(this.value)},this.opacityRange.oninput=function(){s._setOpacity(this.value)},this.brightnessRange.onchange=function(){s._setBrightness(this.value)},this.brightnessRange.oninput=function(){s._setBrightness(this.value)},this.brightnessLabel=document.createElement("div"),this.brightnessLabel.className="vis-label vis-brightness",this.brightnessLabel.innerText="brightness:",this.opacityLabel=document.createElement("div"),this.opacityLabel.className="vis-label vis-opacity",this.opacityLabel.innerText="opacity:",this.newColorDiv=document.createElement("div"),this.newColorDiv.className="vis-new-color",this.newColorDiv.innerText="new",this.initialColorDiv=document.createElement("div"),this.initialColorDiv.className="vis-initial-color",this.initialColorDiv.innerText="initial",this.cancelButton=document.createElement("div"),this.cancelButton.className="vis-button vis-cancel",this.cancelButton.innerText="cancel",this.cancelButton.onclick=re(e=this._hide).call(e,this,!1),this.applyButton=document.createElement("div"),this.applyButton.className="vis-button vis-apply",this.applyButton.innerText="apply",this.applyButton.onclick=re(r=this._apply).call(r,this),this.saveButton=document.createElement("div"),this.saveButton.className="vis-button vis-save",this.saveButton.innerText="save",this.saveButton.onclick=re(n=this._save).call(n,this),this.loadButton=document.createElement("div"),this.loadButton.className="vis-button vis-load",this.loadButton.innerText="load last",this.loadButton.onclick=re(i=this._loadLast).call(i,this),this.frame.appendChild(this.colorPickerDiv),this.frame.appendChild(this.arrowDiv),this.frame.appendChild(this.brightnessLabel),this.frame.appendChild(this.brightnessDiv),this.frame.appendChild(this.opacityLabel),this.frame.appendChild(this.opacityDiv),this.frame.appendChild(this.newColorDiv),this.frame.appendChild(this.initialColorDiv),this.frame.appendChild(this.cancelButton),this.frame.appendChild(this.applyButton),this.frame.appendChild(this.saveButton),this.frame.appendChild(this.loadButton)}_bindHammer(){this.drag={},this.pinch={},this.hammer=new ST(this.colorPickerCanvas),this.hammer.get("pinch").set({enable:!0}),this.hammer.on("hammer.input",e=>{e.isFirst&&this._moveSelector(e)}),this.hammer.on("tap",e=>{this._moveSelector(e)}),this.hammer.on("panstart",e=>{this._moveSelector(e)}),this.hammer.on("panmove",e=>{this._moveSelector(e)}),this.hammer.on("panend",e=>{this._moveSelector(e)})}_generateHueCircle(){if(this.generated===!1){const e=this.colorPickerCanvas.getContext("2d");this.pixelRation===void 0&&(this.pixelRatio=(window.devicePixelRatio||1)/(e.webkitBackingStorePixelRatio||e.mozBackingStorePixelRatio||e.msBackingStorePixelRatio||e.oBackingStorePixelRatio||e.backingStorePixelRatio||1)),e.setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0);const r=this.colorPickerCanvas.clientWidth,n=this.colorPickerCanvas.clientHeight;e.clearRect(0,0,r,n);let i,s,a,o;this.centerCoordinates={x:r*.5,y:n*.5},this.r=.49*r;const u=2*Math.PI/360,c=1/360,d=1/this.r;let h;for(a=0;a<360;a++)for(o=0;o<this.r;o++)i=this.centerCoordinates.x+o*Math.sin(u*a),s=this.centerCoordinates.y+o*Math.cos(u*a),h=Vf(a*c,o*d,1),e.fillStyle="rgb("+h.r+","+h.g+","+h.b+")",e.fillRect(i-.5,s-.5,2,2);e.strokeStyle="rgba(0,0,0,1)",e.circle(this.centerCoordinates.x,this.centerCoordinates.y,this.r),e.stroke(),this.hueCircle=e.getImageData(0,0,r,n)}this.generated=!0}_moveSelector(e){const r=this.colorPickerDiv.getBoundingClientRect(),n=e.center.x-r.left,i=e.center.y-r.top,s=.5*this.colorPickerDiv.clientHeight,a=.5*this.colorPickerDiv.clientWidth,o=n-a,u=i-s,c=Math.atan2(o,u),d=.98*Math.min(Math.sqrt(o*o+u*u),a),h=Math.cos(c)*d+s,f=Math.sin(c)*d+a;this.colorPickerSelector.style.top=h-.5*this.colorPickerSelector.clientHeight+"px",this.colorPickerSelector.style.left=f-.5*this.colorPickerSelector.clientWidth+"px";let p=c/(2*Math.PI);p=p<0?p+1:p;const v=d/this.r,y=Ac(this.color.r,this.color.g,this.color.b);y.h=p,y.s=v;const x=Vf(y.h,y.s,y.v);x.a=this.color.a,this.color=x,this.initialColorDiv.style.backgroundColor="rgba("+this.initialColor.r+","+this.initialColor.g+","+this.initialColor.b+","+this.initialColor.a+")",this.newColorDiv.style.backgroundColor="rgba("+this.color.r+","+this.color.g+","+this.color.b+","+this.color.a+")"}};function tC(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];if(e.length<1)throw new TypeError("Invalid arguments.");if(e.length===1)return document.createTextNode(e[0]);{const n=document.createElement(e[0]);return n.appendChild(tC(...Ti(e).call(e,1))),n}}let wge=class{constructor(e,r,n){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:1,s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:()=>!1;this.parent=e,this.changedOptions=[],this.container=r,this.allowCreation=!1,this.hideOption=s,this.options={},this.initialized=!1,this.popupCounter=0,this.defaultOptions={enabled:!1,filter:!0,container:void 0,showButton:!0},er(this.options,this.defaultOptions),this.configureOptions=n,this.moduleOptions={},this.domElements=[],this.popupDiv={},this.popupLimit=5,this.popupHistory={},this.colorPicker=new xge(i),this.wrapper=void 0}setOptions(e){if(e!==void 0){this.popupHistory={},this._removePopup();let r=!0;if(typeof e=="string")this.options.filter=e;else if(Vt(e))this.options.filter=e.join();else if(typeof e=="object"){if(e==null)throw new TypeError("options cannot be null");e.container!==void 0&&(this.options.container=e.container),on(e)!==void 0&&(this.options.filter=on(e)),e.showButton!==void 0&&(this.options.showButton=e.showButton),e.enabled!==void 0&&(r=e.enabled)}else typeof e=="boolean"?(this.options.filter=!0,r=e):typeof e=="function"&&(this.options.filter=e,r=!0);on(this.options)===!1&&(r=!1),this.options.enabled=r}this._clean()}setModuleOptions(e){this.moduleOptions=e,this.options.enabled===!0&&(this._clean(),this.options.container!==void 0&&(this.container=this.options.container),this._create())}_create(){this._clean(),this.changedOptions=[];const e=on(this.options);let r=0,n=!1;for(const i in this.configureOptions)Object.prototype.hasOwnProperty.call(this.configureOptions,i)&&(this.allowCreation=!1,n=!1,typeof e=="function"?(n=e(i,[]),n=n||this._handleObject(this.configureOptions[i],[i],!0)):(e===!0||ct(e).call(e,i)!==-1)&&(n=!0),n!==!1&&(this.allowCreation=!0,r>0&&this._makeItem([]),this._makeHeader(i),this._handleObject(this.configureOptions[i],[i])),r++);this._makeButton(),this._push()}_push(){this.wrapper=document.createElement("div"),this.wrapper.className="vis-configuration-wrapper",this.container.appendChild(this.wrapper);for(let e=0;e<this.domElements.length;e++)this.wrapper.appendChild(this.domElements[e]);this._showPopupIfNeeded()}_clean(){for(let e=0;e<this.domElements.length;e++)this.wrapper.removeChild(this.domElements[e]);this.wrapper!==void 0&&(this.container.removeChild(this.wrapper),this.wrapper=void 0),this.domElements=[],this._removePopup()}_getValue(e){let r=this.moduleOptions;for(let n=0;n<e.length;n++)if(r[e[n]]!==void 0)r=r[e[n]];else{r=void 0;break}return r}_makeItem(e){if(this.allowCreation===!0){const s=document.createElement("div");s.className="vis-configuration vis-config-item vis-config-s"+e.length;for(var r=arguments.length,n=new Array(r>1?r-1:0),i=1;i<r;i++)n[i-1]=arguments[i];return pt(n).call(n,a=>{s.appendChild(a)}),this.domElements.push(s),this.domElements.length}return 0}_makeHeader(e){const r=document.createElement("div");r.className="vis-configuration vis-config-header",r.innerText=e,this._makeItem([],r)}_makeLabel(e,r){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;const i=document.createElement("div");if(i.className="vis-configuration vis-config-label vis-config-s"+r.length,n===!0){for(;i.firstChild;)i.removeChild(i.firstChild);i.appendChild(tC("i","b",e))}else i.innerText=e+":";return i}_makeDropdown(e,r,n){const i=document.createElement("select");i.className="vis-configuration vis-config-select";let s=0;r!==void 0&&ct(e).call(e,r)!==-1&&(s=ct(e).call(e,r));for(let u=0;u<e.length;u++){const c=document.createElement("option");c.value=e[u],u===s&&(c.selected="selected"),c.innerText=e[u],i.appendChild(c)}const a=this;i.onchange=function(){a._update(this.value,n)};const o=this._makeLabel(n[n.length-1],n);this._makeItem(n,o,i)}_makeRange(e,r,n){const i=e[0],s=e[1],a=e[2],o=e[3],u=document.createElement("input");u.className="vis-configuration vis-config-range";try{u.type="range",u.min=s,u.max=a}catch{}u.step=o;let c="",d=0;r!==void 0?(r<0&&r*1.2<s?(u.min=Math.ceil(r*1.2),d=u.min,c="range increased"):r/1.2<s&&(u.min=Math.ceil(r/1.2),d=u.min,c="range increased"),r*1.2>a&&a!==1&&(u.max=Math.ceil(r*1.2),d=u.max,c="range increased"),u.value=r):u.value=i;const h=document.createElement("input");h.className="vis-configuration vis-config-rangeinput",h.value=u.value;const f=this;u.onchange=function(){h.value=this.value,f._update(Number(this.value),n)},u.oninput=function(){h.value=this.value};const p=this._makeLabel(n[n.length-1],n),v=this._makeItem(n,p,u,h);c!==""&&this.popupHistory[v]!==d&&(this.popupHistory[v]=d,this._setupPopup(c,v))}_makeButton(){if(this.options.showButton===!0){const e=document.createElement("div");e.className="vis-configuration vis-config-button",e.innerText="generate options",e.onclick=()=>{this._printOptions()},e.onmouseover=()=>{e.className="vis-configuration vis-config-button hover"},e.onmouseout=()=>{e.className="vis-configuration vis-config-button"},this.optionsContainer=document.createElement("div"),this.optionsContainer.className="vis-configuration vis-config-option-container",this.domElements.push(this.optionsContainer),this.domElements.push(e)}}_setupPopup(e,r){if(this.initialized===!0&&this.allowCreation===!0&&this.popupCounter<this.popupLimit){const n=document.createElement("div");n.id="vis-configuration-popup",n.className="vis-configuration-popup",n.innerText=e,n.onclick=()=>{this._removePopup()},this.popupCounter+=1,this.popupDiv={html:n,index:r}}}_removePopup(){this.popupDiv.html!==void 0&&(this.popupDiv.html.parentNode.removeChild(this.popupDiv.html),clearTimeout(this.popupDiv.hideTimeout),clearTimeout(this.popupDiv.deleteTimeout),this.popupDiv={})}_showPopupIfNeeded(){if(this.popupDiv.html!==void 0){const r=this.domElements[this.popupDiv.index].getBoundingClientRect();this.popupDiv.html.style.left=r.left+"px",this.popupDiv.html.style.top=r.top-30+"px",document.body.appendChild(this.popupDiv.html),this.popupDiv.hideTimeout=hs(()=>{this.popupDiv.html.style.opacity=0},1500),this.popupDiv.deleteTimeout=hs(()=>{this._removePopup()},1800)}}_makeCheckbox(e,r,n){const i=document.createElement("input");i.type="checkbox",i.className="vis-configuration vis-config-checkbox",i.checked=e,r!==void 0&&(i.checked=r,r!==e&&(typeof e=="object"?r!==e.enabled&&this.changedOptions.push({path:n,value:r}):this.changedOptions.push({path:n,value:r})));const s=this;i.onchange=function(){s._update(this.checked,n)};const a=this._makeLabel(n[n.length-1],n);this._makeItem(n,a,i)}_makeTextInput(e,r,n){const i=document.createElement("input");i.type="text",i.className="vis-configuration vis-config-text",i.value=r,r!==e&&this.changedOptions.push({path:n,value:r});const s=this;i.onchange=function(){s._update(this.value,n)};const a=this._makeLabel(n[n.length-1],n);this._makeItem(n,a,i)}_makeColorField(e,r,n){const i=e[1],s=document.createElement("div");r=r===void 0?i:r,r!=="none"?(s.className="vis-configuration vis-config-colorBlock",s.style.backgroundColor=r):s.className="vis-configuration vis-config-colorBlock none",r=r===void 0?i:r,s.onclick=()=>{this._showColorPicker(r,s,n)};const a=this._makeLabel(n[n.length-1],n);this._makeItem(n,a,s)}_showColorPicker(e,r,n){r.onclick=function(){},this.colorPicker.insertTo(r),this.colorPicker.show(),this.colorPicker.setColor(e),this.colorPicker.setUpdateCallback(i=>{const s="rgba("+i.r+","+i.g+","+i.b+","+i.a+")";r.style.backgroundColor=s,this._update(s,n)}),this.colorPicker.setCloseCallback(()=>{r.onclick=()=>{this._showColorPicker(e,r,n)}})}_handleObject(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,i=!1;const s=on(this.options);let a=!1;for(const o in e)if(Object.prototype.hasOwnProperty.call(e,o)){i=!0;const u=e[o],c=Bp(r,o);if(typeof s=="function"&&(i=s(o,r),i===!1&&!Vt(u)&&typeof u!="string"&&typeof u!="boolean"&&u instanceof Object&&(this.allowCreation=!1,i=this._handleObject(u,c,!0),this.allowCreation=n===!1)),i!==!1){a=!0;const d=this._getValue(c);if(Vt(u))this._handleArray(u,d,c);else if(typeof u=="string")this._makeTextInput(u,d,c);else if(typeof u=="boolean")this._makeCheckbox(u,d,c);else if(u instanceof Object){if(!this.hideOption(r,o,this.moduleOptions))if(u.enabled!==void 0){const h=Bp(c,"enabled"),f=this._getValue(h);if(f===!0){const p=this._makeLabel(o,c,!0);this._makeItem(c,p),a=this._handleObject(u,c)||a}else this._makeCheckbox(u,f,c)}else{const h=this._makeLabel(o,c,!0);this._makeItem(c,h),a=this._handleObject(u,c)||a}}else console.error("dont know how to handle",u,o,c)}}return a}_handleArray(e,r,n){typeof e[0]=="string"&&e[0]==="color"?(this._makeColorField(e,r,n),e[1]!==r&&this.changedOptions.push({path:n,value:r})):typeof e[0]=="string"?(this._makeDropdown(e,r,n),e[0]!==r&&this.changedOptions.push({path:n,value:r})):typeof e[0]=="number"&&(this._makeRange(e,r,n),e[0]!==r&&this.changedOptions.push({path:n,value:Number(r)}))}_update(e,r){const n=this._constructOptions(e,r);this.parent.body&&this.parent.body.emitter&&this.parent.body.emitter.emit&&this.parent.body.emitter.emit("configChange",n),this.initialized=!0,this.parent.setOptions(n)}_constructOptions(e,r){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},i=n;e=e==="true"?!0:e,e=e==="false"?!1:e;for(let s=0;s<r.length;s++)r[s]!=="global"&&(i[r[s]]===void 0&&(i[r[s]]={}),s!==r.length-1?i=i[r[s]]:i[r[s]]=e);return n}_printOptions(){const e=this.getOptions();for(;this.optionsContainer.firstChild;)this.optionsContainer.removeChild(this.optionsContainer.firstChild);this.optionsContainer.appendChild(tC("pre","const options = "+Rh(e,null,2)))}getOptions(){const e={};for(let r=0;r<this.changedOptions.length;r++)this._constructOptions(this.changedOptions[r].value,this.changedOptions[r].path,e);return e}},_ge=class{constructor(e,r){this.container=e,this.overflowMethod=r||"cap",this.x=0,this.y=0,this.padding=5,this.hidden=!1,this.frame=document.createElement("div"),this.frame.className="vis-tooltip",this.container.appendChild(this.frame)}setPosition(e,r){this.x=ui(e),this.y=ui(r)}setText(e){if(e instanceof Element){for(;this.frame.firstChild;)this.frame.removeChild(this.frame.firstChild);this.frame.appendChild(e)}else this.frame.innerText=e}show(e){if(e===void 0&&(e=!0),e===!0){const r=this.frame.clientHeight,n=this.frame.clientWidth,i=this.frame.parentNode.clientHeight,s=this.frame.parentNode.clientWidth;let a=0,o=0;if(this.overflowMethod=="flip"){let u=!1,c=!0;this.y-r<this.padding&&(c=!1),this.x+n>s-this.padding&&(u=!0),u?a=this.x-n:a=this.x,c?o=this.y-r:o=this.y}else o=this.y-r,o+r+this.padding>i&&(o=i-r-this.padding),o<this.padding&&(o=this.padding),a=this.x,a+n+this.padding>s&&(a=s-n-this.padding),a<this.padding&&(a=this.padding);this.frame.style.left=a+"px",this.frame.style.top=o+"px",this.frame.style.visibility="visible",this.hidden=!1}else this.hide()}hide(){this.hidden=!0,this.frame.style.left="0",this.frame.style.top="0",this.frame.style.visibility="hidden"}destroy(){this.frame.parentNode.removeChild(this.frame)}},Ic=!1,Lz;const rC="background: #FFeeee; color: #dd0000";let Sge=class qt{static validate(e,r,n){Ic=!1,Lz=r;let i=r;return n!==void 0&&(i=r[n]),qt.parse(e,i,[]),Ic}static parse(e,r,n){for(const i in e)Object.prototype.hasOwnProperty.call(e,i)&&qt.check(i,e,r,n)}static check(e,r,n,i){if(n[e]===void 0&&n.__any__===void 0){qt.getSuggestion(e,n,i);return}let s=e,a=!0;n[e]===void 0&&n.__any__!==void 0&&(s="__any__",a=qt.getType(r[e])==="object");let o=n[s];a&&o.__type__!==void 0&&(o=o.__type__),qt.checkFields(e,r,n,s,o,i)}static checkFields(e,r,n,i,s,a){const o=function(d){console.error("%c"+d+qt.printLocation(a,e),rC)},u=qt.getType(r[e]),c=s[u];c!==void 0?qt.getType(c)==="array"&&ct(c).call(c,r[e])===-1?(o('Invalid option detected in "'+e+'". Allowed values are:'+qt.print(c)+' not "'+r[e]+'". '),Ic=!0):u==="object"&&i!=="__any__"&&(a=Bp(a,e),qt.parse(r[e],n[i],a)):s.any===void 0&&(o('Invalid type received for "'+e+'". Expected: '+qt.print(zt(s))+". Received ["+u+'] "'+r[e]+'"'),Ic=!0)}static getType(e){const r=typeof e;return r==="object"?e===null?"null":e instanceof Boolean?"boolean":e instanceof Number?"number":e instanceof String?"string":Vt(e)?"array":e instanceof Date?"date":e.nodeType!==void 0?"dom":e._isAMomentObject===!0?"moment":"object":r==="number"?"number":r==="boolean"?"boolean":r==="string"?"string":r===void 0?"undefined":r}static getSuggestion(e,r,n){const i=qt.findInOptions(e,r,n,!1),s=qt.findInOptions(e,Lz,[],!0),a=8,o=4;let u;i.indexMatch!==void 0?u=" in "+qt.printLocation(i.path,e,"")+'Perhaps it was incomplete? Did you mean: "'+i.indexMatch+`"?

`:s.distance<=o&&i.distance>s.distance?u=" in "+qt.printLocation(i.path,e,"")+"Perhaps it was misplaced? Matching option found at: "+qt.printLocation(s.path,s.closestMatch,""):i.distance<=a?u='. Did you mean "'+i.closestMatch+'"?'+qt.printLocation(i.path,e):u=". Did you mean one of these: "+qt.print(zt(r))+qt.printLocation(n,e),console.error('%cUnknown option detected: "'+e+'"'+u,rC),Ic=!0}static findInOptions(e,r,n){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1,s=1e9,a="",o=[];const u=e.toLowerCase();let c;for(const h in r){let f;if(r[h].__type__!==void 0&&i===!0){const p=qt.findInOptions(e,r[h],Bp(n,h));s>p.distance&&(a=p.closestMatch,o=p.path,s=p.distance,c=p.indexMatch)}else{var d;ct(d=h.toLowerCase()).call(d,u)!==-1&&(c=h),f=qt.levenshteinDistance(e,h),s>f&&(a=h,o=fge(n),s=f)}}return{closestMatch:a,path:o,distance:s,indexMatch:c}}static printLocation(e,r){let i=`

`+(arguments.length>2&&arguments[2]!==void 0?arguments[2]:`Problem value found at: 
`)+`options = {
`;for(let s=0;s<e.length;s++){for(let a=0;a<s+1;a++)i+="  ";i+=e[s]+`: {
`}for(let s=0;s<e.length+1;s++)i+="  ";i+=r+`
`;for(let s=0;s<e.length+1;s++){for(let a=0;a<e.length-s;a++)i+="  ";i+=`}
`}return i+`

`}static print(e){return Rh(e).replace(/(")|(\[)|(\])|(,"__type__")/g,"").replace(/(,)/g,", ")}static levenshteinDistance(e,r){if(e.length===0)return r.length;if(r.length===0)return e.length;const n=[];let i;for(i=0;i<=r.length;i++)n[i]=[i];let s;for(s=0;s<=e.length;s++)n[0][s]=s;for(i=1;i<=r.length;i++)for(s=1;s<=e.length;s++)r.charAt(i-1)==e.charAt(s-1)?n[i][s]=n[i-1][s-1]:n[i][s]=Math.min(n[i-1][s-1]+1,Math.min(n[i][s-1]+1,n[i-1][s]+1));return n[r.length][e.length]}};const Ege=Ri,Nge=wge,Kl=ST,jge=_ge,TQ=rC,Cge=Sge;function Oge(t){return aa=t,Rge()}var PQ={fontsize:"font.size",fontcolor:"font.color",labelfontcolor:"font.color",fontname:"font.face",color:["color.border","color.background"],fillcolor:"color.background",tooltip:"title",labeltooltip:"title"},NT=xo(PQ);NT.color="color.color";NT.style="dashes";var zr={NULL:0,DELIMITER:1,IDENTIFIER:2,UNKNOWN:3},Bz={"{":!0,"}":!0,"[":!0,"]":!0,";":!0,"=":!0,",":!0,"->":!0,"--":!0},aa="",Ru=0,ze="",Te="",nn=zr.NULL;function Tge(){Ru=0,ze=aa.charAt(0)}function hr(){Ru++,ze=aa.charAt(Ru)}function yl(){return aa.charAt(Ru+1)}function zz(t){var e=t.charCodeAt(0);return e<47?e===35||e===46:e<59?e>47:e<91?e>64:e<96?e===95:e<123?e>96:!1}function ja(t,e){if(t||(t={}),e)for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);return t}function Pge(t,e,r){for(var n=e.split("."),i=t;n.length;){var s=n.shift();n.length?(i[s]||(i[s]={}),i=i[s]):i[s]=r}}function IQ(t,e){for(var r,n,i=null,s=[t],a=t;a.parent;)s.push(a.parent),a=a.parent;if(a.nodes){for(r=0,n=a.nodes.length;r<n;r++)if(e.id===a.nodes[r].id){i=a.nodes[r];break}}for(i||(i={id:e.id},t.node&&(i.attr=ja(i.attr,t.node))),r=s.length-1;r>=0;r--){var o,u=s[r];u.nodes||(u.nodes=[]),ct(o=u.nodes).call(o,i)===-1&&u.nodes.push(i)}e.attr&&(i.attr=ja(i.attr,e.attr))}function Ige(t,e){if(t.edges||(t.edges=[]),t.edges.push(e),t.edge){var r=ja({},t.edge);e.attr=ja(r,e.attr)}}function RQ(t,e,r,n,i){var s={from:e,to:r,type:n};return t.edge&&(s.attr=ja({},t.edge)),s.attr=ja(s.attr||{},i),i!=null&&i.hasOwnProperty("arrows")&&i.arrows!=null&&(s.arrows={to:{enabled:!0,type:i.arrows.type}},i.arrows=null),s}function bt(){for(nn=zr.NULL,Te="";ze===" "||ze==="	"||ze===`
`||ze==="\r";)hr();do{var t=!1;if(ze==="#"){for(var e=Ru-1;aa.charAt(e)===" "||aa.charAt(e)==="	";)e--;if(aa.charAt(e)===`
`||aa.charAt(e)===""){for(;ze!=""&&ze!=`
`;)hr();t=!0}}if(ze==="/"&&yl()==="/"){for(;ze!=""&&ze!=`
`;)hr();t=!0}if(ze==="/"&&yl()==="*"){for(;ze!="";)if(ze==="*"&&yl()==="/"){hr(),hr();break}else hr();t=!0}for(;ze===" "||ze==="	"||ze===`
`||ze==="\r";)hr()}while(t);if(ze===""){nn=zr.DELIMITER;return}var r=ze+yl();if(Bz[r]){nn=zr.DELIMITER,Te=r,hr(),hr();return}if(Bz[ze]){nn=zr.DELIMITER,Te=ze,hr();return}if(zz(ze)||ze==="-"){for(Te+=ze,hr();zz(ze);)Te+=ze,hr();Te==="false"?Te=!1:Te==="true"?Te=!0:isNaN(Number(Te))||(Te=Number(Te)),nn=zr.IDENTIFIER;return}if(ze==='"'){for(hr();ze!=""&&(ze!='"'||ze==='"'&&yl()==='"');)ze==='"'?(Te+=ze,hr()):ze==="\\"&&yl()==="n"?(Te+=`
`,hr()):Te+=ze,hr();if(ze!='"')throw Ur('End of string " expected');hr(),nn=zr.IDENTIFIER;return}for(nn=zr.UNKNOWN;ze!="";)Te+=ze,hr();throw new SyntaxError('Syntax error in part "'+MQ(Te,30)+'"')}function Rge(){var t={};if(Tge(),bt(),Te==="strict"&&(t.strict=!0,bt()),(Te==="graph"||Te==="digraph")&&(t.type=Te,bt()),nn===zr.IDENTIFIER&&(t.id=Te,bt()),Te!="{")throw Ur("Angle bracket { expected");if(bt(),$Q(t),Te!="}")throw Ur("Angle bracket } expected");if(bt(),Te!=="")throw Ur("End of file expected");return bt(),delete t.node,delete t.edge,delete t.graph,t}function $Q(t){for(;Te!==""&&Te!="}";)$ge(t),Te===";"&&bt()}function $ge(t){var e=kQ(t);if(e){DQ(t,e);return}var r=kge(t);if(!r){if(nn!=zr.IDENTIFIER)throw Ur("Identifier expected");var n=Te;if(bt(),Te==="="){if(bt(),nn!=zr.IDENTIFIER)throw Ur("Identifier expected");t[n]=Te,bt()}else Dge(t,n)}}function kQ(t){var e=null;if(Te==="subgraph"&&(e={},e.type="subgraph",bt(),nn===zr.IDENTIFIER&&(e.id=Te,bt())),Te==="{"){if(bt(),e||(e={}),e.parent=t,e.node=t.node,e.edge=t.edge,e.graph=t.graph,$Q(e),Te!="}")throw Ur("Angle bracket } expected");bt(),delete e.node,delete e.edge,delete e.graph,delete e.parent,t.subgraphs||(t.subgraphs=[]),t.subgraphs.push(e)}return e}function kge(t){return Te==="node"?(bt(),t.node=rd(),"node"):Te==="edge"?(bt(),t.edge=rd(),"edge"):Te==="graph"?(bt(),t.graph=rd(),"graph"):null}function Dge(t,e){var r={id:e},n=rd();n&&(r.attr=n),IQ(t,r),DQ(t,e)}function DQ(t,e){for(;Te==="->"||Te==="--";){var r,n=Te;bt();var i=kQ(t);if(i)r=i;else{if(nn!=zr.IDENTIFIER)throw Ur("Identifier or subgraph expected");r=Te,IQ(t,{id:r}),bt()}var s=rd(),a=RQ(t,e,r,n,s);Ige(t,a),e=r}}function rd(){for(var t,e=null,r={dashed:!0,solid:!1,dotted:[1,5]},n={dot:"circle",box:"box",crow:"crow",curve:"curve",icurve:"inv_curve",normal:"triangle",inv:"inv_triangle",diamond:"diamond",tee:"bar",vee:"vee"},i=new Array,s=new Array;Te==="[";){for(bt(),e={};Te!==""&&Te!="]";){if(nn!=zr.IDENTIFIER)throw Ur("Attribute name expected");var a=Te;if(bt(),Te!="=")throw Ur("Equal sign = expected");if(bt(),nn!=zr.IDENTIFIER)throw Ur("Attribute value expected");var o=Te;a==="style"&&(o=r[o]);var u;a==="arrowhead"&&(u=n[o],a="arrows",o={to:{enabled:!0,type:u}}),a==="arrowtail"&&(u=n[o],a="arrows",o={from:{enabled:!0,type:u}}),i.push({attr:e,name:a,value:o}),s.push(a),bt(),Te==","&&bt()}if(Te!="]")throw Ur("Bracket ] expected");bt()}if(ba(s).call(s,"dir")){var c={};for(c.arrows={},t=0;t<i.length;t++)if(i[t].name==="arrows")if(i[t].value.to!=null)c.arrows.to=t;else if(i[t].value.from!=null)c.arrows.from=t;else throw Ur("Invalid value of arrows");else i[t].name==="dir"&&(c.dir=t);var d=i[c.dir].value;if(!ba(s).call(s,"arrows"))if(d==="both")i.push({attr:i[c.dir].attr,name:"arrows",value:{to:{enabled:!0}}}),c.arrows.to=i.length-1,i.push({attr:i[c.dir].attr,name:"arrows",value:{from:{enabled:!0}}}),c.arrows.from=i.length-1;else if(d==="forward")i.push({attr:i[c.dir].attr,name:"arrows",value:{to:{enabled:!0}}}),c.arrows.to=i.length-1;else if(d==="back")i.push({attr:i[c.dir].attr,name:"arrows",value:{from:{enabled:!0}}}),c.arrows.from=i.length-1;else if(d==="none")i.push({attr:i[c.dir].attr,name:"arrows",value:""}),c.arrows.to=i.length-1;else throw Ur('Invalid dir type "'+d+'"');var h,f;if(d==="both")c.arrows.to&&c.arrows.from?(f=i[c.arrows.to].value.to.type,h=i[c.arrows.from].value.from.type,i[c.arrows.to]={attr:i[c.arrows.to].attr,name:i[c.arrows.to].name,value:{to:{enabled:!0,type:f},from:{enabled:!0,type:h}}},ds(i).call(i,c.arrows.from,1)):c.arrows.to?(f=i[c.arrows.to].value.to.type,h="arrow",i[c.arrows.to]={attr:i[c.arrows.to].attr,name:i[c.arrows.to].name,value:{to:{enabled:!0,type:f},from:{enabled:!0,type:h}}}):c.arrows.from&&(f="arrow",h=i[c.arrows.from].value.from.type,i[c.arrows.from]={attr:i[c.arrows.from].attr,name:i[c.arrows.from].name,value:{to:{enabled:!0,type:f},from:{enabled:!0,type:h}}});else if(d==="back")c.arrows.to&&c.arrows.from?(f="",h=i[c.arrows.from].value.from.type,i[c.arrows.from]={attr:i[c.arrows.from].attr,name:i[c.arrows.from].name,value:{to:{enabled:!0,type:f},from:{enabled:!0,type:h}}}):c.arrows.to?(f="",h="arrow",c.arrows.from=c.arrows.to,i[c.arrows.from]={attr:i[c.arrows.from].attr,name:i[c.arrows.from].name,value:{to:{enabled:!0,type:f},from:{enabled:!0,type:h}}}):c.arrows.from&&(f="",h=i[c.arrows.from].value.from.type,i[c.arrows.to]={attr:i[c.arrows.from].attr,name:i[c.arrows.from].name,value:{to:{enabled:!0,type:f},from:{enabled:!0,type:h}}}),i[c.arrows.from]={attr:i[c.arrows.from].attr,name:i[c.arrows.from].name,value:{from:{enabled:!0,type:i[c.arrows.from].value.from.type}}};else if(d==="none"){var p;c.arrows.to?p=c.arrows.to:p=c.arrows.from,i[p]={attr:i[p].attr,name:i[p].name,value:""}}else if(d==="forward")c.arrows.to&&c.arrows.from?(f=i[c.arrows.to].value.to.type,h="",i[c.arrows.to]={attr:i[c.arrows.to].attr,name:i[c.arrows.to].name,value:{to:{enabled:!0,type:f},from:{enabled:!0,type:h}}}):c.arrows.to?(f=i[c.arrows.to].value.to.type,h="",i[c.arrows.to]={attr:i[c.arrows.to].attr,name:i[c.arrows.to].name,value:{to:{enabled:!0,type:f},from:{enabled:!0,type:h}}}):c.arrows.from&&(f="arrow",h="",c.arrows.to=c.arrows.from,i[c.arrows.to]={attr:i[c.arrows.to].attr,name:i[c.arrows.to].name,value:{to:{enabled:!0,type:f},from:{enabled:!0,type:h}}}),i[c.arrows.to]={attr:i[c.arrows.to].attr,name:i[c.arrows.to].name,value:{to:{enabled:!0,type:i[c.arrows.to].value.to.type}}};else throw Ur('Invalid dir type "'+d+'"');ds(i).call(i,c.dir,1)}var v;if(ba(s).call(s,"penwidth")){var y=[];for(v=i.length,t=0;t<v;t++)i[t].name!=="width"&&(i[t].name==="penwidth"&&(i[t].name="width"),y.push(i[t]));i=y}for(v=i.length,t=0;t<v;t++)Pge(i[t].attr,i[t].name,i[t].value);return e}function Ur(t){return new SyntaxError(t+', got "'+MQ(Te,30)+'" (char '+Ru+")")}function MQ(t,e){return t.length<=e?t:t.substr(0,27)+"..."}function Mge(t,e,r){Vt(t)?pt(t).call(t,function(n){Vt(e)?pt(e).call(e,function(i){r(n,i)}):r(n,e)}):Vt(e)?pt(e).call(e,function(n){r(t,n)}):r(t,e)}function VS(t,e,r){for(var n=e.split("."),i=n.pop(),s=t,a=0;a<n.length;a++){var o=n[a];o in s||(s[o]={}),s=s[o]}return s[i]=r,t}function Uz(t,e){var r={};for(var n in t)if(t.hasOwnProperty(n)){var i=e[n];Vt(i)?pt(i).call(i,function(s){VS(r,s,t[n])}):typeof i=="string"?VS(r,i,t[n]):VS(r,n,t[n])}return r}function qge(t){var e=Oge(t),r={nodes:[],edges:[],options:{}};if(e.nodes){var n;pt(n=e.nodes).call(n,function(a){var o={id:a.id,label:String(a.label||a.id)};ja(o,Uz(a.attr,PQ)),o.image&&(o.shape="image"),r.nodes.push(o)})}if(e.edges){var i,s=function(a){var o={from:a.from,to:a.to};return ja(o,Uz(a.attr,NT)),o.arrows==null&&a.type==="->"&&(o.arrows="to"),o};pt(i=e.edges).call(i,function(a){var o,u;if(a.from instanceof Object?o=a.from.nodes:o={id:a.from},a.to instanceof Object?u=a.to.nodes:u={id:a.to},a.from instanceof Object&&a.from.edges){var c;pt(c=a.from.edges).call(c,function(h){var f=s(h);r.edges.push(f)})}if(Mge(o,u,function(h,f){var p=RQ(r,h.id,f.id,a.type,a.attr),v=s(p);r.edges.push(v)}),a.to instanceof Object&&a.to.edges){var d;pt(d=a.to.edges).call(d,function(h){var f=s(h);r.edges.push(f)})}})}return e.attr&&(r.options=e.attr),r}function Age(t,e){var r;const n={edges:{inheritColor:!1},nodes:{fixed:!1,parseColor:!1}};e!=null&&(e.fixed!=null&&(n.nodes.fixed=e.fixed),e.parseColor!=null&&(n.nodes.parseColor=e.parseColor),e.inheritColor!=null&&(n.edges.inheritColor=e.inheritColor));const i=t.edges,s=Ou(i).call(i,o=>{const u={from:o.source,id:o.id,to:o.target};return o.attributes!=null&&(u.attributes=o.attributes),o.label!=null&&(u.label=o.label),o.attributes!=null&&o.attributes.title!=null&&(u.title=o.attributes.title),o.type==="Directed"&&(u.arrows="to"),o.color&&n.edges.inheritColor===!1&&(u.color=o.color),u});return{nodes:Ou(r=t.nodes).call(r,o=>{const u={id:o.id,fixed:n.nodes.fixed&&o.x!=null&&o.y!=null};return o.attributes!=null&&(u.attributes=o.attributes),o.label!=null&&(u.label=o.label),o.size!=null&&(u.size=o.size),o.attributes!=null&&o.attributes.title!=null&&(u.title=o.attributes.title),o.title!=null&&(u.title=o.title),o.x!=null&&(u.x=o.x),o.y!=null&&(u.y=o.y),o.color!=null&&(n.nodes.parseColor===!0?u.color=o.color:u.color={background:o.color,border:o.color,highlight:{background:o.color,border:o.color},hover:{background:o.color,border:o.color}}),u}),edges:s}}const Fge={addDescription:"Click in an empty space to place a new node.",addEdge:"Add Edge",addNode:"Add Node",back:"Back",close:"Close",createEdgeError:"Cannot link edges to a cluster.",del:"Delete selected",deleteClusterError:"Clusters cannot be deleted.",edgeDescription:"Click on a node and drag the edge to another node to connect them.",edit:"Edit",editClusterError:"Clusters cannot be edited.",editEdge:"Edit Edge",editEdgeDescription:"Click on the control points and drag them to a node to connect to it.",editNode:"Edit Node"},Lge={addDescription:"Klicke auf eine freie Stelle, um einen neuen Knoten zu plazieren.",addEdge:"Kante hinzufgen",addNode:"Knoten hinzufgen",back:"Zurck",close:"Schlieen",createEdgeError:"Es ist nicht mglich, Kanten mit Clustern zu verbinden.",del:"Lsche Auswahl",deleteClusterError:"Cluster knnen nicht gelscht werden.",edgeDescription:"Klicke auf einen Knoten und ziehe die Kante zu einem anderen Knoten, um diese zu verbinden.",edit:"Editieren",editClusterError:"Cluster knnen nicht editiert werden.",editEdge:"Kante editieren",editEdgeDescription:"Klicke auf die Verbindungspunkte und ziehe diese auf einen Knoten, um sie zu verbinden.",editNode:"Knoten editieren"},Bge={addDescription:"Haga clic en un lugar vaco para colocar un nuevo nodo.",addEdge:"Aadir arista",addNode:"Aadir nodo",back:"Atrs",close:"Cerrar",createEdgeError:"No se puede conectar una arista a un grupo.",del:"Eliminar seleccin",deleteClusterError:"No es posible eliminar grupos.",edgeDescription:"Haga clic en un nodo y arrastre la arista hacia otro nodo para conectarlos.",edit:"Editar",editClusterError:"No es posible editar grupos.",editEdge:"Editar arista",editEdgeDescription:"Haga clic en un punto de control y arrastrelo a un nodo para conectarlo.",editNode:"Editar nodo"},zge={addDescription:"Clicca per aggiungere un nuovo nodo",addEdge:"Aggiungi un vertice",addNode:"Aggiungi un nodo",back:"Indietro",close:"Chiudere",createEdgeError:"Non si possono collegare vertici ad un cluster",del:"Cancella la selezione",deleteClusterError:"I cluster non possono essere cancellati",edgeDescription:"Clicca su un nodo e trascinalo ad un altro nodo per connetterli.",edit:"Modifica",editClusterError:"I clusters non possono essere modificati.",editEdge:"Modifica il vertice",editEdgeDescription:"Clicca sui Punti di controllo e trascinali ad un nodo per connetterli.",editNode:"Modifica il nodo"},Uge={addDescription:"Klik op een leeg gebied om een nieuwe node te maken.",addEdge:"Link toevoegen",addNode:"Node toevoegen",back:"Terug",close:"Sluiten",createEdgeError:"Kan geen link maken naar een cluster.",del:"Selectie verwijderen",deleteClusterError:"Clusters kunnen niet worden verwijderd.",edgeDescription:"Klik op een node en sleep de link naar een andere node om ze te verbinden.",edit:"Wijzigen",editClusterError:"Clusters kunnen niet worden aangepast.",editEdge:"Link wijzigen",editEdgeDescription:"Klik op de verbindingspunten en sleep ze naar een node om daarmee te verbinden.",editNode:"Node wijzigen"},Wge={addDescription:"Clique em um espao em branco para adicionar um novo n",addEdge:"Adicionar aresta",addNode:"Adicionar n",back:"Voltar",close:"Fechar",createEdgeError:"No foi possvel linkar arestas a um cluster.",del:"Remover selecionado",deleteClusterError:"Clusters no puderam ser removidos.",edgeDescription:"Clique em um n e arraste a aresta at outro n para conect-los",edit:"Editar",editClusterError:"Clusters no puderam ser editados.",editEdge:"Editar aresta",editEdgeDescription:"Clique nos pontos de controle e os arraste para um n para conect-los",editNode:"Editar n"},Vge={addDescription:"   ,    .",addEdge:" ",addNode:" ",back:"",close:"",createEdgeError:"    .",del:" ",deleteClusterError:"    ",edgeDescription:"        ,   .",edit:"",editClusterError:"   .",editEdge:" ",editEdgeDescription:"        ,    .",editNode:" "},Hge={addDescription:"",addEdge:"",addNode:"",back:"",close:"",createEdgeError:"",del:"",deleteClusterError:"",edgeDescription:"",edit:"",editClusterError:"",editEdge:"",editEdgeDescription:"",editNode:""},Kge={addDescription:"K   ,    .",addEdge:" ",addNode:" ",back:"",close:"",createEdgeError:"  '   .",del:" ",deleteClusterError:"    .",edgeDescription:"        ,   '.",edit:"",editClusterError:"   .",editEdge:" ",editEdgeDescription:"        ,    .",editNode:" "},Gge={addDescription:"Cliquez dans un endroit vide pour placer un nud.",addEdge:"Ajouter un lien",addNode:"Ajouter un nud",back:"Retour",close:"Fermer",createEdgeError:"Impossible de crer un lien vers un cluster.",del:"Effacer la slection",deleteClusterError:"Les clusters ne peuvent pas tre effacs.",edgeDescription:"Cliquez sur un nud et glissez le lien vers un autre nud pour les connecter.",edit:"diter",editClusterError:"Les clusters ne peuvent pas tre dits.",editEdge:"diter le lien",editEdgeDescription:"Cliquez sur les points de contrle et glissez-les pour connecter un nud.",editNode:"diter le nud"},Yge={addDescription:"Kluknutm do przdnho prostoru mete pidat nov vrchol.",addEdge:"Pidat hranu",addNode:"Pidat vrchol",back:"Zpt",close:"Zavt",createEdgeError:"Nelze pipojit hranu ke shluku.",del:"Smazat vbr",deleteClusterError:"Nelze mazat shluky.",edgeDescription:"Petaenm z jednoho vrcholu do druhho mete spojit tyto vrcholy novou hranou.",edit:"Upravit",editClusterError:"Nelze upravovat shluky.",editEdge:"Upravit hranu",editEdgeDescription:"Petaenm kontrolnho vrcholu hrany ji mete pipojit k jinmu vrcholu.",editNode:"Upravit vrchol"};var Qge=Object.freeze({__proto__:null,cn:Hge,cs:Yge,de:Lge,en:Fge,es:Bge,fr:Gge,it:zge,nl:Uge,pt:Wge,ru:Vge,uk:Kge});function Xge(t,e){try{const[n,i]=e.split(/[-_ /]/,2),s=n!=null?n.toLowerCase():null,a=i!=null?i.toUpperCase():null;if(s&&a){const o=s+"-"+a;if(Object.prototype.hasOwnProperty.call(t,o))return o;var r;console.warn(wme(r="Unknown variant ".concat(a," of language ")).call(r,s,"."))}if(s){const o=s;if(Object.prototype.hasOwnProperty.call(t,o))return o;console.warn("Unknown language ".concat(s))}return console.warn("Unknown locale ".concat(e,", falling back to English.")),"en"}catch(n){return console.error(n),console.warn("Unexpected error while normalizing locale ".concat(e,", falling back to English.")),"en"}}class Jge{constructor(){this.NUM_ITERATIONS=4,this.image=new Image,this.canvas=document.createElement("canvas")}init(){if(this.initialized())return;this.src=this.image.src;const e=this.image.width,r=this.image.height;this.width=e,this.height=r;const n=Math.floor(r/2),i=Math.floor(r/4),s=Math.floor(r/8),a=Math.floor(r/16),o=Math.floor(e/2),u=Math.floor(e/4),c=Math.floor(e/8),d=Math.floor(e/16);this.canvas.width=3*u,this.canvas.height=n,this.coordinates=[[0,0,o,n],[o,0,u,i],[o,i,c,s],[5*c,i,d,a]],this._fillMipMap()}initialized(){return this.coordinates!==void 0}_fillMipMap(){const e=this.canvas.getContext("2d"),r=this.coordinates[0];e.drawImage(this.image,r[0],r[1],r[2],r[3]);for(let n=1;n<this.NUM_ITERATIONS;n++){const i=this.coordinates[n-1],s=this.coordinates[n];e.drawImage(this.canvas,i[0],i[1],i[2],i[3],s[0],s[1],s[2],s[3])}}drawImageAtPosition(e,r,n,i,s,a){if(this.initialized())if(r>2){r*=.5;let o=0;for(;r>2&&o<this.NUM_ITERATIONS;)r*=.5,o+=1;o>=this.NUM_ITERATIONS&&(o=this.NUM_ITERATIONS-1);const u=this.coordinates[o];e.drawImage(this.canvas,u[0],u[1],u[2],u[3],n,i,s,a)}else e.drawImage(this.image,n,i,s,a)}}class Zge{constructor(e){this.images={},this.imageBroken={},this.callback=e}_tryloadBrokenUrl(e,r,n){if(!(e===void 0||n===void 0)){if(r===void 0){console.warn("No broken url image defined");return}n.image.onerror=()=>{console.error("Could not load brokenImage:",r)},n.image.src=r}}_redrawWithImage(e){this.callback&&this.callback(e)}load(e,r){const n=this.images[e];if(n)return n;const i=new Jge;return this.images[e]=i,i.image.onload=()=>{this._fixImageCoordinates(i.image),i.init(),this._redrawWithImage(i)},i.image.onerror=()=>{console.error("Could not load image:",e),this._tryloadBrokenUrl(e,r,i)},i.image.src=e,i}_fixImageCoordinates(e){e.width===0&&(document.body.appendChild(e),e.width=e.offsetWidth,e.height=e.offsetHeight,document.body.removeChild(e))}}var Wz={},Vz={},HS={exports:{}},KS,Hz;function eye(){if(Hz)return KS;Hz=1;var t=Ge();return KS=t(function(){if(typeof ArrayBuffer=="function"){var e=new ArrayBuffer(8);Object.isExtensible(e)&&Object.defineProperty(e,"a",{value:8})}}),KS}var GS,Kz;function tye(){if(Kz)return GS;Kz=1;var t=Ge(),e=wr(),r=Bi(),n=eye(),i=Object.isExtensible,s=t(function(){});return GS=s||n?function(o){return!e(o)||n&&r(o)==="ArrayBuffer"?!1:i?i(o):!0}:i,GS}var YS,Gz;function qQ(){if(Gz)return YS;Gz=1;var t=Ge();return YS=!t(function(){return Object.isExtensible(Object.preventExtensions({}))}),YS}var Yz;function Gm(){if(Yz)return HS.exports;Yz=1;var t=je(),e=Qe(),r=Ch(),n=wr(),i=Or(),s=Xn().f,a=zm(),o=cT(),u=tye(),c=Dm(),d=qQ(),h=!1,f=c("meta"),p=0,v=function(b){s(b,f,{value:{objectID:"O"+p++,weakData:{}}})},y=function(b,_){if(!n(b))return typeof b=="symbol"?b:(typeof b=="string"?"S":"P")+b;if(!i(b,f)){if(!u(b))return"F";if(!_)return"E";v(b)}return b[f].objectID},x=function(b,_){if(!i(b,f)){if(!u(b))return!0;if(!_)return!1;v(b)}return b[f].weakData},g=function(b){return d&&h&&u(b)&&!i(b,f)&&v(b),b},m=function(){w.enable=function(){},h=!0;var b=a.f,_=e([].splice),E={};E[f]=1,b(E).length&&(a.f=function(j){for(var S=b(j),C=0,N=S.length;C<N;C++)if(S[C]===f){_(S,C,1);break}return S},t({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:o.f}))},w=HS.exports={enable:m,fastKey:y,getWeakData:x,onFreeze:g};return r[f]=!0,HS.exports}var QS,Qz;function rye(){if(Qz)return QS;Qz=1;var t=sr(),e=lc(),r=t("iterator"),n=Array.prototype;return QS=function(i){return i!==void 0&&(e.Array===i||n[r]===i)},QS}var XS,Xz;function AQ(){if(Xz)return XS;Xz=1;var t=oc(),e=tT(),r=Ju(),n=lc(),i=sr(),s=i("iterator");return XS=function(a){if(!r(a))return e(a,s)||e(a,"@@iterator")||n[t(a)]},XS}var JS,Jz;function nye(){if(Jz)return JS;Jz=1;var t=xn(),e=Rs(),r=zi(),n=tc(),i=AQ(),s=TypeError;return JS=function(a,o){var u=arguments.length<2?i(a):o;if(e(u))return r(t(u,a));throw new s(n(a)+" is not iterable")},JS}var ZS,Zz;function jT(){if(Zz)return ZS;Zz=1;var t=xn(),e=zi(),r=tT();return ZS=function(n,i,s){var a,o;e(n);try{if(a=r(n,"return"),!a){if(i==="throw")throw s;return s}a=t(a,n)}catch(u){o=!0,a=u}if(i==="throw")throw s;if(o)throw a;return e(a),s},ZS}var eE,e8;function Ym(){if(e8)return eE;e8=1;var t=qm(),e=xn(),r=zi(),n=tc(),i=rye(),s=$s(),a=ir(),o=nye(),u=AQ(),c=jT(),d=TypeError,h=function(p,v){this.stopped=p,this.result=v},f=h.prototype;return eE=function(p,v,y){var x=y&&y.that,g=!!(y&&y.AS_ENTRIES),m=!!(y&&y.IS_RECORD),w=!!(y&&y.IS_ITERATOR),b=!!(y&&y.INTERRUPTED),_=t(v,x),E,j,S,C,N,O,P,I=function(F){return E&&c(E,"normal"),new h(!0,F)},D=function(F){return g?(r(F),b?_(F[0],F[1],I):_(F[0],F[1])):b?_(F,I):_(F)};if(m)E=p.iterator;else if(w)E=p;else{if(j=u(p),!j)throw new d(n(p)+" is not iterable");if(i(j)){for(S=0,C=s(p);C>S;S++)if(N=D(p[S]),N&&a(f,N))return N;return new h(!1)}E=o(p,j)}for(O=m?p.next:E.next;!(P=e(O,E)).done;){try{N=D(P.value)}catch(F){c(E,"throw",F)}if(typeof N=="object"&&N&&a(f,N))return N}return new h(!1)},eE}var tE,t8;function CT(){if(t8)return tE;t8=1;var t=ir(),e=TypeError;return tE=function(r,n){if(t(n,r))return r;throw new e("Incorrect invocation")},tE}var rE,r8;function OT(){if(r8)return rE;r8=1;var t=je(),e=Ot(),r=Gm(),n=Ge(),i=ic(),s=Ym(),a=CT(),o=xr(),u=wr(),c=Ju(),d=sl(),h=Xn().f,f=qa().forEach,p=Yt(),v=al(),y=v.set,x=v.getterFor;return rE=function(g,m,w){var b=g.indexOf("Map")!==-1,_=g.indexOf("Weak")!==-1,E=b?"set":"add",j=e[g],S=j&&j.prototype,C={},N;if(!p||!o(j)||!(_||S.forEach&&!n(function(){new j().entries().next()})))N=w.getConstructor(m,g,b,E),r.enable();else{N=m(function(I,D){y(a(I,O),{type:g,collection:new j}),c(D)||s(D,I[E],{that:I,AS_ENTRIES:b})});var O=N.prototype,P=x(g);f(["add","clear","delete","forEach","get","has","set","keys","values","entries"],function(I){var D=I==="add"||I==="set";I in S&&!(_&&I==="clear")&&i(O,I,function(F,M){var V=P(this).collection;if(!D&&_&&!u(F))return I==="get"?void 0:!1;var q=V[I](F===0?0:F,M);return D?this:q})}),_||h(O,"size",{configurable:!0,get:function(){return P(this).collection.size}})}return d(N,g,!1,!0),C[g]=N,t({global:!0,forced:!0},C),_||w.setStrong(N,g,b),N},rE}var nE,n8;function TT(){if(n8)return nE;n8=1;var t=Ih();return nE=function(e,r,n){for(var i in r)n&&n.unsafe&&e[i]?e[i]=r[i]:t(e,i,r[i],n);return e},nE}var iE,i8;function iye(){if(i8)return iE;i8=1;var t=Rn(),e=dT(),r=sr(),n=Yt(),i=r("species");return iE=function(s){var a=t(s);n&&a&&!a[i]&&e(a,i,{configurable:!0,get:function(){return this}})},iE}var sE,s8;function FQ(){if(s8)return sE;s8=1;var t=Ph(),e=dT(),r=TT(),n=qm(),i=CT(),s=Ju(),a=Ym(),o=fT(),u=pT(),c=iye(),d=Yt(),h=Gm().fastKey,f=al(),p=f.set,v=f.getterFor;return sE={getConstructor:function(y,x,g,m){var w=y(function(S,C){i(S,b),p(S,{type:x,index:t(null),first:null,last:null,size:0}),d||(S.size=0),s(C)||a(C,S[m],{that:S,AS_ENTRIES:g})}),b=w.prototype,_=v(x),E=function(S,C,N){var O=_(S),P=j(S,C),I,D;return P?P.value=N:(O.last=P={index:D=h(C,!0),key:C,value:N,previous:I=O.last,next:null,removed:!1},O.first||(O.first=P),I&&(I.next=P),d?O.size++:S.size++,D!=="F"&&(O.index[D]=P)),S},j=function(S,C){var N=_(S),O=h(C),P;if(O!=="F")return N.index[O];for(P=N.first;P;P=P.next)if(P.key===C)return P};return r(b,{clear:function(){for(var C=this,N=_(C),O=N.first;O;)O.removed=!0,O.previous&&(O.previous=O.previous.next=null),O=O.next;N.first=N.last=null,N.index=t(null),d?N.size=0:C.size=0},delete:function(S){var C=this,N=_(C),O=j(C,S);if(O){var P=O.next,I=O.previous;delete N.index[O.index],O.removed=!0,I&&(I.next=P),P&&(P.previous=I),N.first===O&&(N.first=P),N.last===O&&(N.last=I),d?N.size--:C.size--}return!!O},forEach:function(C){for(var N=_(this),O=n(C,arguments.length>1?arguments[1]:void 0),P;P=P?P.next:N.first;)for(O(P.value,P.key,this);P&&P.removed;)P=P.previous},has:function(C){return!!j(this,C)}}),r(b,g?{get:function(C){var N=j(this,C);return N&&N.value},set:function(C,N){return E(this,C===0?0:C,N)}}:{add:function(C){return E(this,C=C===0?0:C,C)}}),d&&e(b,"size",{configurable:!0,get:function(){return _(this).size}}),w},setStrong:function(y,x,g){var m=x+" Iterator",w=v(x),b=v(m);o(y,x,function(_,E){p(this,{type:m,target:_,state:w(_),kind:E,last:null})},function(){for(var _=b(this),E=_.kind,j=_.last;j&&j.removed;)j=j.previous;return!_.target||!(_.last=j=j?j.next:_.state.first)?(_.target=null,u(void 0,!0)):u(E==="keys"?j.key:E==="values"?j.value:[j.key,j.value],!1)},g?"entries":"values",!g,!0),c(x)}},sE}var a8;function sye(){if(a8)return Vz;a8=1;var t=OT(),e=FQ();return t("Map",function(r){return function(){return r(this,arguments.length?arguments[0]:void 0)}},e),Vz}var o8;function aye(){return o8||(o8=1,sye()),Wz}var l8={},aE,u8;function LQ(){return u8||(u8=1,aE=function(t,e){return e===1?function(r,n){return r[t](n)}:function(r,n,i){return r[t](n,i)}}),aE}var oE,c8;function oye(){if(c8)return oE;c8=1;var t=Rn(),e=LQ(),r=t("Map");return oE={Map:r,set:e("set",2),get:e("get",1),has:e("has",1),remove:e("delete",1),proto:r.prototype},oE}var d8;function lye(){if(d8)return l8;d8=1;var t=je(),e=Qe(),r=Rs(),n=Is(),i=Ym(),s=oye(),a=rc(),o=Ge(),u=s.Map,c=s.has,d=s.get,h=s.set,f=e([].push),p=a||o(function(){return u.groupBy("ab",function(v){return v}).get("a").length!==1});return t({target:"Map",stat:!0,forced:a||p},{groupBy:function(y,x){n(y),r(x);var g=new u,m=0;return i(y,function(w){var b=x(w,m++);c(g,b)?f(d(g,b),w):h(g,b,[w])}),g}}),l8}var h8={},lE,f8;function uye(){if(f8)return lE;f8=1;var t=Qe(),e=sc(),r=Jn(),n=Is(),i=t("".charAt),s=t("".charCodeAt),a=t("".slice),o=function(u){return function(c,d){var h=r(n(c)),f=e(d),p=h.length,v,y;return f<0||f>=p?u?"":void 0:(v=s(h,f),v<55296||v>56319||f+1===p||(y=s(h,f+1))<56320||y>57343?u?i(h,f):v:u?a(h,f,f+2):(v-55296<<10)+(y-56320)+65536)}};return lE={codeAt:o(!1),charAt:o(!0)},lE}var p8;function PT(){if(p8)return h8;p8=1;var t=uye().charAt,e=Jn(),r=al(),n=fT(),i=pT(),s="String Iterator",a=r.set,o=r.getterFor(s);return n(String,"String",function(u){a(this,{type:s,string:e(u),index:0})},function(){var c=o(this),d=c.string,h=c.index,f;return h>=d.length?i(void 0,!0):(f=t(d,h),c.index+=f.length,i(f,!1))}),h8}var uE,m8;function cye(){if(m8)return uE;m8=1,uc(),aye(),lye(),PT();var t=ft();return uE=t.Map,uE}var cE,v8;function dye(){if(v8)return cE;v8=1;var t=cye();return cc(),cE=t,cE}var dE,g8;function hye(){return g8||(g8=1,dE=dye()),dE}var fye=hye(),IT=Re(fye);class pye{constructor(){this.clear(),this._defaultIndex=0,this._groupIndex=0,this._defaultGroups=[{border:"#2B7CE9",background:"#97C2FC",highlight:{border:"#2B7CE9",background:"#D2E5FF"},hover:{border:"#2B7CE9",background:"#D2E5FF"}},{border:"#FFA500",background:"#FFFF00",highlight:{border:"#FFA500",background:"#FFFFA3"},hover:{border:"#FFA500",background:"#FFFFA3"}},{border:"#FA0A10",background:"#FB7E81",highlight:{border:"#FA0A10",background:"#FFAFB1"},hover:{border:"#FA0A10",background:"#FFAFB1"}},{border:"#41A906",background:"#7BE141",highlight:{border:"#41A906",background:"#A1EC76"},hover:{border:"#41A906",background:"#A1EC76"}},{border:"#E129F0",background:"#EB7DF4",highlight:{border:"#E129F0",background:"#F0B3F5"},hover:{border:"#E129F0",background:"#F0B3F5"}},{border:"#7C29F0",background:"#AD85E4",highlight:{border:"#7C29F0",background:"#D3BDF0"},hover:{border:"#7C29F0",background:"#D3BDF0"}},{border:"#C37F00",background:"#FFA807",highlight:{border:"#C37F00",background:"#FFCA66"},hover:{border:"#C37F00",background:"#FFCA66"}},{border:"#4220FB",background:"#6E6EFD",highlight:{border:"#4220FB",background:"#9B9BFD"},hover:{border:"#4220FB",background:"#9B9BFD"}},{border:"#FD5A77",background:"#FFC0CB",highlight:{border:"#FD5A77",background:"#FFD1D9"},hover:{border:"#FD5A77",background:"#FFD1D9"}},{border:"#4AD63A",background:"#C2FABC",highlight:{border:"#4AD63A",background:"#E6FFE3"},hover:{border:"#4AD63A",background:"#E6FFE3"}},{border:"#990000",background:"#EE0000",highlight:{border:"#BB0000",background:"#FF3333"},hover:{border:"#BB0000",background:"#FF3333"}},{border:"#FF6000",background:"#FF6000",highlight:{border:"#FF6000",background:"#FF6000"},hover:{border:"#FF6000",background:"#FF6000"}},{border:"#97C2FC",background:"#2B7CE9",highlight:{border:"#D2E5FF",background:"#2B7CE9"},hover:{border:"#D2E5FF",background:"#2B7CE9"}},{border:"#399605",background:"#255C03",highlight:{border:"#399605",background:"#255C03"},hover:{border:"#399605",background:"#255C03"}},{border:"#B70054",background:"#FF007E",highlight:{border:"#B70054",background:"#FF007E"},hover:{border:"#B70054",background:"#FF007E"}},{border:"#AD85E4",background:"#7C29F0",highlight:{border:"#D3BDF0",background:"#7C29F0"},hover:{border:"#D3BDF0",background:"#7C29F0"}},{border:"#4557FA",background:"#000EA1",highlight:{border:"#6E6EFD",background:"#000EA1"},hover:{border:"#6E6EFD",background:"#000EA1"}},{border:"#FFC0CB",background:"#FD5A77",highlight:{border:"#FFD1D9",background:"#FD5A77"},hover:{border:"#FFD1D9",background:"#FD5A77"}},{border:"#C2FABC",background:"#74D66A",highlight:{border:"#E6FFE3",background:"#74D66A"},hover:{border:"#E6FFE3",background:"#74D66A"}},{border:"#EE0000",background:"#990000",highlight:{border:"#FF3333",background:"#BB0000"},hover:{border:"#FF3333",background:"#BB0000"}}],this.options={},this.defaultOptions={useDefaultGroups:!0},er(this.options,this.defaultOptions)}setOptions(e){const r=["useDefaultGroups"];if(e!==void 0){for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&ct(r).call(r,n)===-1){const i=e[n];this.add(n,i)}}}clear(){this._groups=new IT,this._groupNames=[]}get(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,n=this._groups.get(e);if(n===void 0&&r)if(this.options.useDefaultGroups===!1&&this._groupNames.length>0){const i=this._groupIndex%this._groupNames.length;++this._groupIndex,n={},n.color=this._groups.get(this._groupNames[i]),this._groups.set(e,n)}else{const i=this._defaultIndex%this._defaultGroups.length;this._defaultIndex++,n={},n.color=this._defaultGroups[i],this._groups.set(e,n)}return n}add(e,r){return this._groups.has(e)||this._groupNames.push(e),this._groups.set(e,r),r}}var y8={},b8;function mye(){if(b8)return y8;b8=1;var t=je();return t({target:"Number",stat:!0},{isNaN:function(r){return r!==r}}),y8}var hE,x8;function vye(){if(x8)return hE;x8=1,mye();var t=ft();return hE=t.Number.isNaN,hE}var fE,w8;function gye(){if(w8)return fE;w8=1;var t=vye();return fE=t,fE}var pE,_8;function yye(){return _8||(_8=1,pE=gye()),pE}var bye=yye(),nC=Re(bye),S8={},mE,E8;function xye(){if(E8)return mE;E8=1;var t=Ot(),e=t.isFinite;return mE=Number.isFinite||function(n){return typeof n=="number"&&e(n)},mE}var N8;function wye(){if(N8)return S8;N8=1;var t=je(),e=xye();return t({target:"Number",stat:!0},{isFinite:e}),S8}var vE,j8;function _ye(){if(j8)return vE;j8=1,wye();var t=ft();return vE=t.Number.isFinite,vE}var gE,C8;function Sye(){if(C8)return gE;C8=1;var t=_ye();return gE=t,gE}var yE,O8;function Eye(){return O8||(O8=1,yE=Sye()),yE}var Nye=Eye(),ro=Re(Nye),T8={},P8;function jye(){if(P8)return T8;P8=1;var t=je(),e=qa().some,r=dc(),n=r("some");return t({target:"Array",proto:!0,forced:!n},{some:function(s){return e(this,s,arguments.length>1?arguments[1]:void 0)}}),T8}var bE,I8;function Cye(){if(I8)return bE;I8=1,jye();var t=Tr();return bE=t("Array","some"),bE}var xE,R8;function Oye(){if(R8)return xE;R8=1;var t=ir(),e=Cye(),r=Array.prototype;return xE=function(n){var i=n.some;return n===r||t(r,n)&&i===r.some?e:i},xE}var wE,$8;function Tye(){if($8)return wE;$8=1;var t=Oye();return wE=t,wE}var _E,k8;function Pye(){return k8||(k8=1,_E=Tye()),_E}var Iye=Pye(),Rye=Re(Iye),SE={exports:{}},D8={},M8;function $ye(){if(M8)return D8;M8=1;var t=je(),e=Yt(),r=Xn().f;return t({target:"Object",stat:!0,forced:Object.defineProperty!==r,sham:!e},{defineProperty:r}),D8}var q8;function kye(){if(q8)return SE.exports;q8=1,$ye();var t=ft(),e=t.Object,r=SE.exports=function(i,s,a){return e.defineProperty(i,s,a)};return e.defineProperty.sham&&(r.sham=!0),SE.exports}var EE,A8;function BQ(){if(A8)return EE;A8=1;var t=kye();return EE=t,EE}var NE,F8;function Dye(){if(F8)return NE;F8=1;var t=BQ();return NE=t,NE}var jE,L8;function Mye(){if(L8)return jE;L8=1;var t=Dye();return jE=t,jE}var CE,B8;function qye(){return B8||(B8=1,CE=Mye()),CE}var Aye=qye(),Fye=Re(Aye),z8={},U8;function Lye(){if(U8)return z8;U8=1;var t=sr(),e=Xn().f,r=t("metadata"),n=Function.prototype;return n[r]===void 0&&e(n,r,{value:null}),z8}var W8={},V8;function Bye(){return V8||(V8=1,UY()),W8}var H8={},K8;function zye(){return K8||(K8=1,WY()),H8}var G8={},Y8;function Uye(){if(Y8)return G8;Y8=1;var t=Mt();return t("metadata"),G8}var OE,Q8;function Wye(){if(Q8)return OE;Q8=1;var t=YY();return Lye(),Bye(),zye(),Uye(),OE=t,OE}var X8={},TE,J8;function zQ(){if(J8)return TE;J8=1;var t=Rn(),e=Qe(),r=t("Symbol"),n=r.keyFor,i=e(r.prototype.valueOf);return TE=r.isRegisteredSymbol||function(a){try{return n(i(a))!==void 0}catch{return!1}},TE}var Z8;function Vye(){if(Z8)return X8;Z8=1;var t=je(),e=zQ();return t({target:"Symbol",stat:!0},{isRegisteredSymbol:e}),X8}var e7={},PE,t7;function UQ(){if(t7)return PE;t7=1;for(var t=nc(),e=Rn(),r=Qe(),n=jh(),i=sr(),s=e("Symbol"),a=s.isWellKnownSymbol,o=e("Object","getOwnPropertyNames"),u=r(s.prototype.valueOf),c=t("wks"),d=0,h=o(s),f=h.length;d<f;d++)try{var p=h[d];n(s[p])&&i(p)}catch{}return PE=function(y){if(a&&a(y))return!0;try{for(var x=u(y),g=0,m=o(c),w=m.length;g<w;g++)if(c[m[g]]==x)return!0}catch{}return!1},PE}var r7;function Hye(){if(r7)return e7;r7=1;var t=je(),e=UQ();return t({target:"Symbol",stat:!0,forced:!0},{isWellKnownSymbol:e}),e7}var n7={},i7;function Kye(){if(i7)return n7;i7=1;var t=Mt();return t("customMatcher"),n7}var s7={},a7;function Gye(){if(a7)return s7;a7=1;var t=Mt();return t("observable"),s7}var o7={},l7;function Yye(){if(l7)return o7;l7=1;var t=je(),e=zQ();return t({target:"Symbol",stat:!0,name:"isRegisteredSymbol"},{isRegistered:e}),o7}var u7={},c7;function Qye(){if(c7)return u7;c7=1;var t=je(),e=UQ();return t({target:"Symbol",stat:!0,name:"isWellKnownSymbol",forced:!0},{isWellKnown:e}),u7}var d7={},h7;function Xye(){if(h7)return d7;h7=1;var t=Mt();return t("matcher"),d7}var f7={},p7;function Jye(){if(p7)return f7;p7=1;var t=Mt();return t("metadataKey"),f7}var m7={},v7;function Zye(){if(v7)return m7;v7=1;var t=Mt();return t("patternMatch"),m7}var g7={},y7;function e0e(){if(y7)return g7;y7=1;var t=Mt();return t("replaceAll"),g7}var IE,b7;function t0e(){if(b7)return IE;b7=1;var t=Wye();return Vye(),Hye(),Kye(),Gye(),Yye(),Qye(),Xye(),Jye(),Zye(),e0e(),IE=t,IE}var RE,x7;function r0e(){return x7||(x7=1,RE=t0e()),RE}var n0e=r0e(),Nf=Re(n0e),$E,w7;function i0e(){if(w7)return $E;w7=1,uc(),PT(),VY();var t=Um();return $E=t.f("iterator"),$E}var kE,_7;function s0e(){if(_7)return kE;_7=1;var t=i0e();return cc(),kE=t,kE}var DE,S7;function a0e(){if(S7)return DE;S7=1;var t=s0e();return DE=t,DE}var ME,E7;function o0e(){if(E7)return ME;E7=1;var t=a0e();return ME=t,ME}var qE,N7;function l0e(){return N7||(N7=1,qE=o0e()),qE}var u0e=l0e(),c0e=Re(u0e);function Ad(t){"@babel/helpers - typeof";return Ad=typeof Nf=="function"&&typeof c0e=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Nf=="function"&&e.constructor===Nf&&e!==Nf.prototype?"symbol":typeof e},Ad(t)}var AE,j7;function d0e(){if(j7)return AE;j7=1,HY();var t=Um();return AE=t.f("toPrimitive"),AE}var FE,C7;function h0e(){if(C7)return FE;C7=1;var t=d0e();return FE=t,FE}var LE,O7;function f0e(){if(O7)return LE;O7=1;var t=h0e();return LE=t,LE}var BE,T7;function p0e(){if(T7)return BE;T7=1;var t=f0e();return BE=t,BE}var zE,P7;function m0e(){return P7||(P7=1,zE=p0e()),zE}var v0e=m0e(),g0e=Re(v0e);function y0e(t,e){if(Ad(t)!="object"||!t)return t;var r=t[g0e];if(r!==void 0){var n=r.call(t,e);if(Ad(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function b0e(t){var e=y0e(t,"string");return Ad(e)=="symbol"?e:e+""}function ss(t,e,r){return(e=b0e(e))in t?Fye(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var I7={},UE,R7;function x0e(){if(R7)return UE;R7=1;var t=Ot(),e=Ge(),r=Qe(),n=Jn(),i=XY().trim,s=mT(),a=r("".charAt),o=t.parseFloat,u=t.Symbol,c=u&&u.iterator,d=1/o(s+"-0")!==-1/0||c&&!e(function(){o(Object(c))});return UE=d?function(f){var p=i(n(f)),v=o(p);return v===0&&a(p,0)==="-"?-0:v}:o,UE}var $7;function w0e(){if($7)return I7;$7=1;var t=je(),e=x0e();return t({global:!0,forced:parseFloat!==e},{parseFloat:e}),I7}var WE,k7;function _0e(){if(k7)return WE;k7=1,w0e();var t=ft();return WE=t.parseFloat,WE}var VE,D7;function S0e(){if(D7)return VE;D7=1;var t=_0e();return VE=t,VE}var HE,M7;function E0e(){return M7||(M7=1,HE=S0e()),HE}var N0e=E0e(),WQ=Re(N0e),q7={},A7;function j0e(){if(A7)return q7;A7=1;var t=je(),e=Ge(),r=cT().f,n=e(function(){return!Object.getOwnPropertyNames(1)});return t({target:"Object",stat:!0,forced:n},{getOwnPropertyNames:r}),q7}var KE,F7;function C0e(){if(F7)return KE;F7=1,j0e();var t=ft(),e=t.Object;return KE=function(n){return e.getOwnPropertyNames(n)},KE}var GE,L7;function O0e(){if(L7)return GE;L7=1;var t=C0e();return GE=t,GE}var YE,B7;function T0e(){return B7||(B7=1,YE=O0e()),YE}var P0e=T0e(),I0e=Re(P0e),QE,z7;function R0e(){if(z7)return QE;z7=1,zY();var t=ft();return QE=t.Object.getOwnPropertySymbols,QE}var XE,U7;function $0e(){if(U7)return XE;U7=1;var t=R0e();return XE=t,XE}var JE,W7;function k0e(){return W7||(W7=1,JE=$0e()),JE}var D0e=k0e(),Ca=Re(D0e),ZE={exports:{}},V7={},H7;function M0e(){if(H7)return V7;H7=1;var t=je(),e=Ge(),r=bi(),n=Mm().f,i=Yt(),s=!i||e(function(){n(1)});return t({target:"Object",stat:!0,forced:s,sham:!i},{getOwnPropertyDescriptor:function(o,u){return n(r(o),u)}}),V7}var K7;function q0e(){if(K7)return ZE.exports;K7=1,M0e();var t=ft(),e=t.Object,r=ZE.exports=function(i,s){return e.getOwnPropertyDescriptor(i,s)};return e.getOwnPropertyDescriptor.sham&&(r.sham=!0),ZE.exports}var eN,G7;function A0e(){if(G7)return eN;G7=1;var t=q0e();return eN=t,eN}var tN,Y7;function F0e(){return Y7||(Y7=1,tN=A0e()),tN}var L0e=F0e(),Aa=Re(L0e),Q7={},X7;function B0e(){if(X7)return Q7;X7=1;var t=je(),e=Yt(),r=hpe(),n=bi(),i=Mm(),s=Lm();return t({target:"Object",stat:!0,sham:!e},{getOwnPropertyDescriptors:function(o){for(var u=n(o),c=i.f,d=r(u),h={},f=0,p,v;d.length>f;)v=c(u,p=d[f++]),v!==void 0&&s(h,p,v);return h}}),Q7}var rN,J7;function z0e(){if(J7)return rN;J7=1,B0e();var t=ft();return rN=t.Object.getOwnPropertyDescriptors,rN}var nN,Z7;function U0e(){if(Z7)return nN;Z7=1;var t=z0e();return nN=t,nN}var iN,eU;function W0e(){return eU||(eU=1,iN=U0e()),iN}var V0e=W0e(),Oa=Re(V0e),sN={exports:{}},tU={},rU;function H0e(){if(rU)return tU;rU=1;var t=je(),e=Yt(),r=uT().f;return t({target:"Object",stat:!0,forced:Object.defineProperties!==r,sham:!e},{defineProperties:r}),tU}var nU;function K0e(){if(nU)return sN.exports;nU=1,H0e();var t=ft(),e=t.Object,r=sN.exports=function(i,s){return e.defineProperties(i,s)};return e.defineProperties.sham&&(r.sham=!0),sN.exports}var aN,iU;function G0e(){if(iU)return aN;iU=1;var t=K0e();return aN=t,aN}var oN,sU;function Y0e(){return sU||(sU=1,oN=G0e()),oN}var Q0e=Y0e(),Qm=Re(Q0e),lN,aU;function X0e(){return aU||(aU=1,lN=BQ()),lN}var J0e=X0e(),Xm=Re(J0e);function RT(t,e){const r=["node","edge","label"];let n=!0;const i=Us(e,"chosen");if(typeof i=="boolean")n=i;else if(typeof i=="object"){if(ct(r).call(r,t)===-1)throw new Error("choosify: subOption '"+t+"' should be one of '"+r.join("', '")+"'");const s=Us(e,["chosen",t]);(typeof s=="boolean"||typeof s=="function")&&(n=s)}return n}function iC(t,e,r){if(t.width<=0||t.height<=0)return!1;if(r!==void 0){const s={x:e.x-r.x,y:e.y-r.y};if(r.angle!==0){const a=-r.angle;e={x:Math.cos(a)*s.x-Math.sin(a)*s.y,y:Math.sin(a)*s.x+Math.cos(a)*s.y}}else e=s}const n=t.x+t.width,i=t.y+t.width;return t.left<e.x&&n>e.x&&t.top<e.y&&i>e.y}function zp(t){return typeof t=="string"&&t!==""}function VQ(t,e,r,n){let i=n.x,s=n.y;if(typeof n.distanceToBorder=="function"){const a=n.distanceToBorder(t,e),o=Math.sin(e)*a,u=Math.cos(e)*a;u===a?(i+=a,s=n.y):o===a?(i=n.x,s-=a):(i+=u,s-=o)}else n.shape.width>n.shape.height?(i=n.x+n.shape.width*.5,s=n.y-r):(i=n.x+r,s=n.y-n.shape.height*.5);return{x:i,y:s}}var uN,oU;function Z0e(){if(oU)return uN;oU=1,uc();var t=Tr();return uN=t("Array","values"),uN}var cN,lU;function ebe(){if(lU)return cN;lU=1;var t=Z0e();return cN=t,cN}var dN,uU;function tbe(){if(uU)return dN;uU=1,cc();var t=oc(),e=Or(),r=ir(),n=ebe(),i=Array.prototype,s={DOMTokenList:!0,NodeList:!0};return dN=function(a){var o=a.values;return a===i||r(i,a)&&o===i.values||e(s,t(a))?n:o},dN}var hN,cU;function rbe(){return cU||(cU=1,hN=tbe()),hN}var nbe=rbe(),HQ=Re(nbe);class ibe{constructor(e){this.measureText=e,this.current=0,this.width=0,this.height=0,this.lines=[]}_add(e,r){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"normal";this.lines[e]===void 0&&(this.lines[e]={width:0,height:0,blocks:[]});let i=r;(r===void 0||r==="")&&(i=" ");const s=this.measureText(i,n),a=er({},HQ(s));a.text=r,a.width=s.width,a.mod=n,(r===void 0||r==="")&&(a.width=0),this.lines[e].blocks.push(a),this.lines[e].width+=a.width}curWidth(){const e=this.lines[this.current];return e===void 0?0:e.width}append(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"normal";this._add(this.current,e,r)}newLine(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"normal";this._add(this.current,e,r),this.current++}determineLineHeights(){for(let e=0;e<this.lines.length;e++){const r=this.lines[e];let n=0;if(r.blocks!==void 0)for(let i=0;i<r.blocks.length;i++){const s=r.blocks[i];n<s.height&&(n=s.height)}r.height=n}}determineLabelSize(){let e=0,r=0;for(let n=0;n<this.lines.length;n++){const i=this.lines[n];i.width>e&&(e=i.width),r+=i.height}this.width=e,this.height=r}removeEmptyBlocks(){const e=[];for(let r=0;r<this.lines.length;r++){const n=this.lines[r];if(n.blocks.length===0||r===this.lines.length-1&&n.width===0)continue;const i={};er(i,n),i.blocks=[];let s;const a=[];for(let o=0;o<n.blocks.length;o++){const u=n.blocks[o];u.width!==0?a.push(u):s===void 0&&(s=u)}a.length===0&&s!==void 0&&a.push(s),i.blocks=a,e.push(i)}return e}finalize(){this.determineLineHeights(),this.determineLabelSize();const e=this.removeEmptyBlocks();return{width:this.width,height:this.height,lines:e}}}const sbe={"<b>":/<b>/,"<i>":/<i>/,"<code>":/<code>/,"</b>":/<\/b>/,"</i>":/<\/i>/,"</code>":/<\/code>/,"*":/\*/,_:/_/,"`":/`/,afterBold:/[^*]/,afterItal:/[^_]/,afterMono:/[^`]/};class dU{constructor(e){this.text=e,this.bold=!1,this.ital=!1,this.mono=!1,this.spacing=!1,this.position=0,this.buffer="",this.modStack=[],this.blocks=[]}mod(){return this.modStack.length===0?"normal":this.modStack[0]}modName(){if(this.modStack.length===0)return"normal";if(this.modStack[0]==="mono")return"mono";if(this.bold&&this.ital)return"boldital";if(this.bold)return"bold";if(this.ital)return"ital"}emitBlock(){this.spacing&&(this.add(" "),this.spacing=!1),this.buffer.length>0&&(this.blocks.push({text:this.buffer,mod:this.modName()}),this.buffer="")}add(e){e===" "&&(this.spacing=!0),this.spacing&&(this.buffer+=" ",this.spacing=!1),e!=" "&&(this.buffer+=e)}parseWS(e){return/[ \t]/.test(e)?(this.mono?this.add(e):this.spacing=!0,!0):!1}setTag(e){this.emitBlock(),this[e]=!0,this.modStack.unshift(e)}unsetTag(e){this.emitBlock(),this[e]=!1,this.modStack.shift()}parseStartTag(e,r){return!this.mono&&!this[e]&&this.match(r)?(this.setTag(e),!0):!1}match(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;const[n,i]=this.prepareRegExp(e),s=n.test(this.text.substr(this.position,i));return s&&r&&(this.position+=i-1),s}parseEndTag(e,r,n){let i=this.mod()===e;return e==="mono"?i=i&&this.mono:i=i&&!this.mono,i&&this.match(r)?(n!==void 0?(this.position===this.text.length-1||this.match(n,!1))&&this.unsetTag(e):this.unsetTag(e),!0):!1}replace(e,r){return this.match(e)?(this.add(r),this.position+=length-1,!0):!1}prepareRegExp(e){let r,n;if(e instanceof RegExp)n=e,r=1;else{const i=sbe[e];i!==void 0?n=i:n=new RegExp(e),r=e.length}return[n,r]}}class abe{constructor(e,r,n,i){this.ctx=e,this.parent=r,this.selected=n,this.hover=i;const s=(a,o)=>{if(a===void 0)return 0;const u=this.parent.getFormattingValues(e,n,i,o);let c=0;return a!==""&&(c=this.ctx.measureText(a).width),{width:c,values:u}};this.lines=new ibe(s)}process(e){if(!zp(e))return this.lines.finalize();const r=this.parent.fontOptions;e=e.replace(/\r\n/g,`
`),e=e.replace(/\r/g,`
`);const n=String(e).split(`
`),i=n.length;if(r.multi)for(let s=0;s<i;s++){const a=this.splitBlocks(n[s],r.multi);if(a!==void 0){if(a.length===0){this.lines.newLine("");continue}if(r.maxWdt>0)for(let o=0;o<a.length;o++){const u=a[o].mod,c=a[o].text;this.splitStringIntoLines(c,u,!0)}else for(let o=0;o<a.length;o++){const u=a[o].mod,c=a[o].text;this.lines.append(c,u)}this.lines.newLine()}}else if(r.maxWdt>0)for(let s=0;s<i;s++)this.splitStringIntoLines(n[s]);else for(let s=0;s<i;s++)this.lines.newLine(n[s]);return this.lines.finalize()}decodeMarkupSystem(e){let r="none";return e==="markdown"||e==="md"?r="markdown":(e===!0||e==="html")&&(r="html"),r}splitHtmlBlocks(e){const r=new dU(e),n=i=>/&/.test(i)?(r.replace(r.text,"&lt;","<")||r.replace(r.text,"&amp;","&")||r.add("&"),!0):!1;for(;r.position<r.text.length;){const i=r.text.charAt(r.position);r.parseWS(i)||/</.test(i)&&(r.parseStartTag("bold","<b>")||r.parseStartTag("ital","<i>")||r.parseStartTag("mono","<code>")||r.parseEndTag("bold","</b>")||r.parseEndTag("ital","</i>")||r.parseEndTag("mono","</code>"))||n(i)||r.add(i),r.position++}return r.emitBlock(),r.blocks}splitMarkdownBlocks(e){const r=new dU(e);let n=!0;const i=s=>/\\/.test(s)?(r.position<this.text.length+1&&(r.position++,s=this.text.charAt(r.position),/ \t/.test(s)?r.spacing=!0:(r.add(s),n=!1)),!0):!1;for(;r.position<r.text.length;){const s=r.text.charAt(r.position);r.parseWS(s)||i(s)||(n||r.spacing)&&(r.parseStartTag("bold","*")||r.parseStartTag("ital","_")||r.parseStartTag("mono","`"))||r.parseEndTag("bold","*","afterBold")||r.parseEndTag("ital","_","afterItal")||r.parseEndTag("mono","`","afterMono")||(r.add(s),n=!1),r.position++}return r.emitBlock(),r.blocks}splitBlocks(e,r){const n=this.decodeMarkupSystem(r);if(n==="none")return[{text:e,mod:"normal"}];if(n==="markdown")return this.splitMarkdownBlocks(e);if(n==="html")return this.splitHtmlBlocks(e)}overMaxWidth(e){const r=this.ctx.measureText(e).width;return this.lines.curWidth()+r>this.parent.fontOptions.maxWdt}getLongestFit(e){let r="",n=0;for(;n<e.length;){const s=r+(r===""?"":" ")+e[n];if(this.overMaxWidth(s))break;r=s,n++}return n}getLongestFitWord(e){let r=0;for(;r<e.length&&!this.overMaxWidth(Ti(e).call(e,0,r));)r++;return r}splitStringIntoLines(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"normal",n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;this.parent.getFormattingValues(this.ctx,this.selected,this.hover,r),e=e.replace(/^( +)/g,"$1\r"),e=e.replace(/([^\r][^ ]*)( +)/g,"$1\r$2\r");let i=e.split("\r");for(;i.length>0;){let s=this.getLongestFit(i);if(s===0){const a=i[0],o=this.getLongestFitWord(a);this.lines.newLine(Ti(a).call(a,0,o),r),i[0]=Ti(a).call(a,o)}else{let a=s;i[s-1]===" "?s--:i[a]===" "&&a++;const o=Ti(i).call(i,0,s).join("");s==i.length&&n?this.lines.append(o,r):this.lines.newLine(o,r),i=Ti(i).call(i,a)}}}}const Rc=["bold","ital","boldital","mono"];class Gl{constructor(e,r){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;this.body=e,this.pointToSelf=!1,this.baseSize=void 0,this.fontOptions={},this.setOptions(r),this.size={top:0,left:0,width:0,height:0,yLine:0},this.isEdgeLabel=n}setOptions(e){if(this.elementOptions=e,this.initFontOptions(e.font),zp(e.label)?this.labelDirty=!0:e.label=void 0,e.font!==void 0&&e.font!==null){if(typeof e.font=="string")this.baseSize=this.fontOptions.size;else if(typeof e.font=="object"){const r=e.font.size;r!==void 0&&(this.baseSize=r)}}}initFontOptions(e){if(We(Rc,r=>{this.fontOptions[r]={}}),Gl.parseFontString(this.fontOptions,e)){this.fontOptions.vadjust=0;return}We(e,(r,n)=>{r!=null&&typeof r!="object"&&(this.fontOptions[n]=r)})}static parseFontString(e,r){if(!r||typeof r!="string")return!1;const n=r.split(" ");return e.size=+n[0].replace("px",""),e.face=n[1],e.color=n[2],!0}constrain(e){const r={constrainWidth:!1,maxWdt:-1,minWdt:-1,constrainHeight:!1,minHgt:-1,valign:"middle"},n=Us(e,"widthConstraint");if(typeof n=="number")r.maxWdt=Number(n),r.minWdt=Number(n);else if(typeof n=="object"){const s=Us(e,["widthConstraint","maximum"]);typeof s=="number"&&(r.maxWdt=Number(s));const a=Us(e,["widthConstraint","minimum"]);typeof a=="number"&&(r.minWdt=Number(a))}const i=Us(e,"heightConstraint");if(typeof i=="number")r.minHgt=Number(i);else if(typeof i=="object"){const s=Us(e,["heightConstraint","minimum"]);typeof s=="number"&&(r.minHgt=Number(s));const a=Us(e,["heightConstraint","valign"]);typeof a=="string"&&(a==="top"||a==="bottom")&&(r.valign=a)}return r}update(e,r){this.setOptions(e,!0),this.propagateFonts(r),yt(this.fontOptions,this.constrain(r)),this.fontOptions.chooser=RT("label",r)}adjustSizes(e){const r=e?e.right+e.left:0;this.fontOptions.constrainWidth&&(this.fontOptions.maxWdt-=r,this.fontOptions.minWdt-=r);const n=e?e.top+e.bottom:0;this.fontOptions.constrainHeight&&(this.fontOptions.minHgt-=n)}addFontOptionsToPile(e,r){for(let n=0;n<r.length;++n)this.addFontToPile(e,r[n])}addFontToPile(e,r){if(r===void 0||r.font===void 0||r.font===null)return;const n=r.font;e.push(n)}getBasicOptions(e){const r={};for(let n=0;n<e.length;++n){let i=e[n];const s={};Gl.parseFontString(s,i)&&(i=s),We(i,(a,o)=>{a!==void 0&&(Object.prototype.hasOwnProperty.call(r,o)||(ct(Rc).call(Rc,o)!==-1?r[o]={}:r[o]=a))})}return r}getFontOption(e,r,n){let i;for(let s=0;s<e.length;++s){const a=e[s];if(Object.prototype.hasOwnProperty.call(a,r)){if(i=a[r],i==null)continue;const o={};if(Gl.parseFontString(o,i)&&(i=o),Object.prototype.hasOwnProperty.call(i,n))return i[n]}}if(Object.prototype.hasOwnProperty.call(this.fontOptions,n))return this.fontOptions[n];throw new Error("Did not find value for multi-font for property: '"+n+"'")}getFontOptions(e,r){const n={},i=["color","size","face","mod","vadjust"];for(let s=0;s<i.length;++s){const a=i[s];n[a]=this.getFontOption(e,r,a)}return n}propagateFonts(e){const r=[];this.addFontOptionsToPile(r,e),this.fontOptions=this.getBasicOptions(r);for(let n=0;n<Rc.length;++n){const i=Rc[n],s=this.fontOptions[i],a=this.getFontOptions(r,i);We(a,(o,u)=>{s[u]=o}),s.size=Number(s.size),s.vadjust=Number(s.vadjust)}}draw(e,r,n,i,s){let a=arguments.length>5&&arguments[5]!==void 0?arguments[5]:"middle";if(this.elementOptions.label===void 0)return;let o=this.fontOptions.size*this.body.view.scale;this.elementOptions.label&&o<this.elementOptions.scaling.label.drawThreshold-1||(o>=this.elementOptions.scaling.label.maxVisible&&(o=Number(this.elementOptions.scaling.label.maxVisible)/this.body.view.scale),this.calculateLabelSize(e,i,s,r,n,a),this._drawBackground(e),this._drawText(e,r,this.size.yLine,a,o))}_drawBackground(e){if(this.fontOptions.background!==void 0&&this.fontOptions.background!=="none"){e.fillStyle=this.fontOptions.background;const r=this.getSize();e.fillRect(r.left,r.top,r.width,r.height)}}_drawText(e,r,n){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"middle",s=arguments.length>4?arguments[4]:void 0;[r,n]=this._setAlignment(e,r,n,i),e.textAlign="left",r=r-this.size.width/2,this.fontOptions.valign&&this.size.height>this.size.labelHeight&&(this.fontOptions.valign==="top"&&(n-=(this.size.height-this.size.labelHeight)/2),this.fontOptions.valign==="bottom"&&(n+=(this.size.height-this.size.labelHeight)/2));for(let a=0;a<this.lineCount;a++){const o=this.lines[a];if(o&&o.blocks){let u=0;this.isEdgeLabel||this.fontOptions.align==="center"?u+=(this.size.width-o.width)/2:this.fontOptions.align==="right"&&(u+=this.size.width-o.width);for(let c=0;c<o.blocks.length;c++){const d=o.blocks[c];e.font=d.font;const[h,f]=this._getColor(d.color,s,d.strokeColor);d.strokeWidth>0&&(e.lineWidth=d.strokeWidth,e.strokeStyle=f,e.lineJoin="round"),e.fillStyle=h,d.strokeWidth>0&&e.strokeText(d.text,r+u,n+d.vadjust),e.fillText(d.text,r+u,n+d.vadjust),u+=d.width}n+=o.height}}}_setAlignment(e,r,n,i){if(this.isEdgeLabel&&this.fontOptions.align!=="horizontal"&&this.pointToSelf===!1){r=0,n=0;const s=2;this.fontOptions.align==="top"?(e.textBaseline="alphabetic",n-=2*s):this.fontOptions.align==="bottom"?(e.textBaseline="hanging",n+=2*s):e.textBaseline="middle"}else e.textBaseline=i;return[r,n]}_getColor(e,r,n){let i=e||"#000000",s=n||"#ffffff";if(r<=this.elementOptions.scaling.label.drawThreshold){const a=Math.max(0,Math.min(1,1-(this.elementOptions.scaling.label.drawThreshold-r)));i=zn(i,a),s=zn(s,a)}return[i,s]}getTextSize(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;return this._processLabel(e,r,n),{width:this.size.width,height:this.size.height,lineCount:this.lineCount}}getSize(){let r=this.size.left,n=this.size.top-.5*2;if(this.isEdgeLabel){const s=-this.size.width*.5;switch(this.fontOptions.align){case"middle":r=s,n=-this.size.height*.5;break;case"top":r=s,n=-(this.size.height+2);break;case"bottom":r=s,n=2;break}}return{left:r,top:n,width:this.size.width,height:this.size.height}}calculateLabelSize(e,r,n){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0,a=arguments.length>5&&arguments[5]!==void 0?arguments[5]:"middle";this._processLabel(e,r,n),this.size.left=i-this.size.width*.5,this.size.top=s-this.size.height*.5,this.size.yLine=s+(1-this.lineCount)*.5*this.fontOptions.size,a==="hanging"&&(this.size.top+=.5*this.fontOptions.size,this.size.top+=4,this.size.yLine+=4)}getFormattingValues(e,r,n,i){const s=function(u,c,d){return c==="normal"?d==="mod"?"":u[d]:u[c][d]!==void 0?u[c][d]:u[d]},a={color:s(this.fontOptions,i,"color"),size:s(this.fontOptions,i,"size"),face:s(this.fontOptions,i,"face"),mod:s(this.fontOptions,i,"mod"),vadjust:s(this.fontOptions,i,"vadjust"),strokeWidth:this.fontOptions.strokeWidth,strokeColor:this.fontOptions.strokeColor};(r||n)&&(i==="normal"&&this.fontOptions.chooser===!0&&this.elementOptions.labelHighlightBold?a.mod="bold":typeof this.fontOptions.chooser=="function"&&this.fontOptions.chooser(a,this.elementOptions.id,r,n));let o="";return a.mod!==void 0&&a.mod!==""&&(o+=a.mod+" "),o+=a.size+"px "+a.face,e.font=o.replace(/"/g,""),a.font=e.font,a.height=a.size,a}differentState(e,r){return e!==this.selectedState||r!==this.hoverState}_processLabelText(e,r,n,i){return new abe(e,this,r,n).process(i)}_processLabel(e,r,n){if(this.labelDirty===!1&&!this.differentState(r,n))return;const i=this._processLabelText(e,r,n,this.elementOptions.label);this.fontOptions.minWdt>0&&i.width<this.fontOptions.minWdt&&(i.width=this.fontOptions.minWdt),this.size.labelHeight=i.height,this.fontOptions.minHgt>0&&i.height<this.fontOptions.minHgt&&(i.height=this.fontOptions.minHgt),this.lines=i.lines,this.lineCount=i.lines.length,this.size.width=i.width,this.size.height=i.height,this.selectedState=r,this.hoverState=n,this.labelDirty=!1}visible(){return!(this.size.width===0||this.size.height===0||this.elementOptions.label===void 0||this.fontOptions.size*this.body.view.scale<this.elementOptions.scaling.label.drawThreshold-1)}}class ll{constructor(e,r,n){this.body=r,this.labelModule=n,this.setOptions(e),this.top=void 0,this.left=void 0,this.height=void 0,this.width=void 0,this.radius=void 0,this.margin=void 0,this.refreshNeeded=!0,this.boundingBox={top:0,left:0,right:0,bottom:0}}setOptions(e){this.options=e}_setMargins(e){this.margin={},this.options.margin&&(typeof this.options.margin=="object"?(this.margin.top=this.options.margin.top,this.margin.right=this.options.margin.right,this.margin.bottom=this.options.margin.bottom,this.margin.left=this.options.margin.left):(this.margin.top=this.options.margin,this.margin.right=this.options.margin,this.margin.bottom=this.options.margin,this.margin.left=this.options.margin)),e.adjustSizes(this.margin)}_distanceToBorder(e,r){const n=this.options.borderWidth;return e&&this.resize(e),Math.min(Math.abs(this.width/2/Math.cos(r)),Math.abs(this.height/2/Math.sin(r)))+n}enableShadow(e,r){r.shadow&&(e.shadowColor=r.shadowColor,e.shadowBlur=r.shadowSize,e.shadowOffsetX=r.shadowX,e.shadowOffsetY=r.shadowY)}disableShadow(e,r){r.shadow&&(e.shadowColor="rgba(0,0,0,0)",e.shadowBlur=0,e.shadowOffsetX=0,e.shadowOffsetY=0)}enableBorderDashes(e,r){if(r.borderDashes!==!1)if(e.setLineDash!==void 0){let n=r.borderDashes;n===!0&&(n=[5,15]),e.setLineDash(n)}else console.warn("setLineDash is not supported in this browser. The dashed borders cannot be used."),this.options.shapeProperties.borderDashes=!1,r.borderDashes=!1}disableBorderDashes(e,r){r.borderDashes!==!1&&(e.setLineDash!==void 0?e.setLineDash([0]):(console.warn("setLineDash is not supported in this browser. The dashed borders cannot be used."),this.options.shapeProperties.borderDashes=!1,r.borderDashes=!1))}needsRefresh(e,r){return this.refreshNeeded===!0?(this.refreshNeeded=!1,!0):this.width===void 0||this.labelModule.differentState(e,r)}initContextForDraw(e,r){const n=r.borderWidth/this.body.view.scale;e.lineWidth=Math.min(this.width,n),e.strokeStyle=r.borderColor,e.fillStyle=r.color}performStroke(e,r){const n=r.borderWidth/this.body.view.scale;e.save(),n>0&&(this.enableBorderDashes(e,r),e.stroke(),this.disableBorderDashes(e,r)),e.restore()}performFill(e,r){e.save(),e.fillStyle=r.color,this.enableShadow(e,r),$h(e).call(e),this.disableShadow(e,r),e.restore(),this.performStroke(e,r)}_addBoundingBoxMargin(e){this.boundingBox.left-=e,this.boundingBox.top-=e,this.boundingBox.bottom+=e,this.boundingBox.right+=e}_updateBoundingBox(e,r,n,i,s){n!==void 0&&this.resize(n,i,s),this.left=e-this.width/2,this.top=r-this.height/2,this.boundingBox.left=this.left,this.boundingBox.top=this.top,this.boundingBox.bottom=this.top+this.height,this.boundingBox.right=this.left+this.width}updateBoundingBox(e,r,n,i,s){this._updateBoundingBox(e,r,n,i,s)}getDimensionsFromLabel(e,r,n){this.textSize=this.labelModule.getTextSize(e,r,n);let i=this.textSize.width,s=this.textSize.height;const a=14;return i===0&&(i=a,s=a),{width:i,height:s}}}let obe=class extends ll{constructor(e,r,n){super(e,r,n),this._setMargins(n)}resize(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.selected,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.hover;if(this.needsRefresh(r,n)){const i=this.getDimensionsFromLabel(e,r,n);this.width=i.width+this.margin.right+this.margin.left,this.height=i.height+this.margin.top+this.margin.bottom,this.radius=this.width/2}}draw(e,r,n,i,s,a){this.resize(e,i,s),this.left=r-this.width/2,this.top=n-this.height/2,this.initContextForDraw(e,a),IY(e,this.left,this.top,this.width,this.height,a.borderRadius),this.performFill(e,a),this.updateBoundingBox(r,n,e,i,s),this.labelModule.draw(e,this.left+this.textSize.width/2+this.margin.left,this.top+this.textSize.height/2+this.margin.top,i,s)}updateBoundingBox(e,r,n,i,s){this._updateBoundingBox(e,r,n,i,s);const a=this.options.shapeProperties.borderRadius;this._addBoundingBoxMargin(a)}distanceToBorder(e,r){e&&this.resize(e);const n=this.options.borderWidth;return Math.min(Math.abs(this.width/2/Math.cos(r)),Math.abs(this.height/2/Math.sin(r)))+n}};class $T extends ll{constructor(e,r,n){super(e,r,n),this.labelOffset=0,this.selected=!1}setOptions(e,r,n){this.options=e,r===void 0&&n===void 0||this.setImages(r,n)}setImages(e,r){r&&this.selected?(this.imageObj=r,this.imageObjAlt=e):(this.imageObj=e,this.imageObjAlt=r)}switchImages(e){const r=e&&!this.selected||!e&&this.selected;if(this.selected=e,this.imageObjAlt!==void 0&&r){const n=this.imageObj;this.imageObj=this.imageObjAlt,this.imageObjAlt=n}}_getImagePadding(){const e={top:0,right:0,bottom:0,left:0};if(this.options.imagePadding){const r=this.options.imagePadding;typeof r=="object"?(e.top=r.top,e.right=r.right,e.bottom=r.bottom,e.left=r.left):(e.top=r,e.right=r,e.bottom=r,e.left=r)}return e}_resizeImage(){let e,r;if(this.options.shapeProperties.useImageSize===!1){let n=1,i=1;this.imageObj.width&&this.imageObj.height&&(this.imageObj.width>this.imageObj.height?n=this.imageObj.width/this.imageObj.height:i=this.imageObj.height/this.imageObj.width),e=this.options.size*2*n,r=this.options.size*2*i}else{const n=this._getImagePadding();e=this.imageObj.width+n.left+n.right,r=this.imageObj.height+n.top+n.bottom}this.width=e,this.height=r,this.radius=.5*this.width}_drawRawCircle(e,r,n,i){this.initContextForDraw(e,i),aT(e,r,n,i.size),this.performFill(e,i)}_drawImageAtPosition(e,r){if(this.imageObj.width!=0){e.globalAlpha=r.opacity!==void 0?r.opacity:1,this.enableShadow(e,r);let n=1;this.options.shapeProperties.interpolation===!0&&(n=this.imageObj.width/this.width/this.body.view.scale);const i=this._getImagePadding(),s=this.left+i.left,a=this.top+i.top,o=this.width-i.left-i.right,u=this.height-i.top-i.bottom;this.imageObj.drawImageAtPosition(e,n,s,a,o,u),this.disableShadow(e,r)}}_drawImageLabel(e,r,n,i,s){let a=0;if(this.height!==void 0){a=this.height*.5;const u=this.labelModule.getTextSize(e,i,s);u.lineCount>=1&&(a+=u.height/2)}const o=n+a;this.options.label&&(this.labelOffset=a),this.labelModule.draw(e,r,o,i,s,"hanging")}}let lbe=class extends $T{constructor(e,r,n){super(e,r,n),this._setMargins(n)}resize(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.selected,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.hover;if(this.needsRefresh(r,n)){const i=this.getDimensionsFromLabel(e,r,n),s=Math.max(i.width+this.margin.right+this.margin.left,i.height+this.margin.top+this.margin.bottom);this.options.size=s/2,this.width=s,this.height=s,this.radius=this.width/2}}draw(e,r,n,i,s,a){this.resize(e,i,s),this.left=r-this.width/2,this.top=n-this.height/2,this._drawRawCircle(e,r,n,a),this.updateBoundingBox(r,n),this.labelModule.draw(e,this.left+this.textSize.width/2+this.margin.left,n,i,s)}updateBoundingBox(e,r){this.boundingBox.top=r-this.options.size,this.boundingBox.left=e-this.options.size,this.boundingBox.right=e+this.options.size,this.boundingBox.bottom=r+this.options.size}distanceToBorder(e){return e&&this.resize(e),this.width*.5}};class ube extends $T{constructor(e,r,n,i,s){super(e,r,n),this.setImages(i,s)}resize(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.selected,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.hover;if(this.imageObj.src===void 0||this.imageObj.width===void 0||this.imageObj.height===void 0){const s=this.options.size*2;this.width=s,this.height=s,this.radius=.5*this.width;return}this.needsRefresh(r,n)&&this._resizeImage()}draw(e,r,n,i,s,a){this.switchImages(i),this.resize();let o=r,u=n;this.options.shapeProperties.coordinateOrigin==="top-left"?(this.left=r,this.top=n,o+=this.width/2,u+=this.height/2):(this.left=r-this.width/2,this.top=n-this.height/2),this._drawRawCircle(e,o,u,a),e.save(),e.clip(),this._drawImageAtPosition(e,a),e.restore(),this._drawImageLabel(e,o,u,i,s),this.updateBoundingBox(r,n)}updateBoundingBox(e,r){this.options.shapeProperties.coordinateOrigin==="top-left"?(this.boundingBox.top=r,this.boundingBox.left=e,this.boundingBox.right=e+this.options.size*2,this.boundingBox.bottom=r+this.options.size*2):(this.boundingBox.top=r-this.options.size,this.boundingBox.left=e-this.options.size,this.boundingBox.right=e+this.options.size,this.boundingBox.bottom=r+this.options.size),this.boundingBox.left=Math.min(this.boundingBox.left,this.labelModule.size.left),this.boundingBox.right=Math.max(this.boundingBox.right,this.labelModule.size.left+this.labelModule.size.width),this.boundingBox.bottom=Math.max(this.boundingBox.bottom,this.boundingBox.bottom+this.labelOffset)}distanceToBorder(e){return e&&this.resize(e),this.width*.5}}class Fa extends ll{constructor(e,r,n){super(e,r,n)}resize(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.selected,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.hover,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{size:this.options.size};if(this.needsRefresh(r,n)){var s,a;this.labelModule.getTextSize(e,r,n);const o=2*i.size;this.width=(s=this.customSizeWidth)!==null&&s!==void 0?s:o,this.height=(a=this.customSizeHeight)!==null&&a!==void 0?a:o,this.radius=.5*this.width}}_drawShape(e,r,n,i,s,a,o,u){return this.resize(e,a,o,u),this.left=i-this.width/2,this.top=s-this.height/2,this.initContextForDraw(e,u),Nfe(r)(e,i,s,u.size),this.performFill(e,u),this.options.icon!==void 0&&this.options.icon.code!==void 0&&(e.font=(a?"bold ":"")+this.height/2+"px "+(this.options.icon.face||"FontAwesome"),e.fillStyle=this.options.icon.color||"black",e.textAlign="center",e.textBaseline="middle",e.fillText(this.options.icon.code,i,s)),{drawExternalLabel:()=>{if(this.options.label!==void 0){this.labelModule.calculateLabelSize(e,a,o,i,s,"hanging");const c=s+.5*this.height+.5*this.labelModule.size.height;this.labelModule.draw(e,i,c,a,o,"hanging")}this.updateBoundingBox(i,s)}}}updateBoundingBox(e,r){this.boundingBox.top=r-this.options.size,this.boundingBox.left=e-this.options.size,this.boundingBox.right=e+this.options.size,this.boundingBox.bottom=r+this.options.size,this.options.label!==void 0&&this.labelModule.size.width>0&&(this.boundingBox.left=Math.min(this.boundingBox.left,this.labelModule.size.left),this.boundingBox.right=Math.max(this.boundingBox.right,this.labelModule.size.left+this.labelModule.size.width),this.boundingBox.bottom=Math.max(this.boundingBox.bottom,this.boundingBox.bottom+this.labelModule.size.height))}}function hU(t,e){var r=zt(t);if(Ca){var n=Ca(t);e&&(n=on(n).call(n,function(i){return Aa(t,i).enumerable})),r.push.apply(r,n)}return r}function cbe(t){for(var e=1;e<arguments.length;e++){var r,n,i=arguments[e]!=null?arguments[e]:{};e%2?pt(r=hU(Object(i),!0)).call(r,function(s){ss(t,s,i[s])}):Oa?Qm(t,Oa(i)):pt(n=hU(Object(i))).call(n,function(s){Xm(t,s,Aa(i,s))})}return t}class dbe extends Fa{constructor(e,r,n,i){super(e,r,n,i),this.ctxRenderer=i}draw(e,r,n,i,s,a){this.resize(e,i,s,a),this.left=r-this.width/2,this.top=n-this.height/2,e.save();const o=this.ctxRenderer({ctx:e,id:this.options.id,x:r,y:n,state:{selected:i,hover:s},style:cbe({},a),label:this.options.label});if(o.drawNode!=null&&o.drawNode(),e.restore(),o.drawExternalLabel){const u=o.drawExternalLabel;o.drawExternalLabel=()=>{e.save(),u(),e.restore()}}return o.nodeDimensions&&(this.customSizeWidth=o.nodeDimensions.width,this.customSizeHeight=o.nodeDimensions.height),o}distanceToBorder(e,r){return this._distanceToBorder(e,r)}}class hbe extends ll{constructor(e,r,n){super(e,r,n),this._setMargins(n)}resize(e,r,n){if(this.needsRefresh(r,n)){const s=this.getDimensionsFromLabel(e,r,n).width+this.margin.right+this.margin.left;this.width=s,this.height=s,this.radius=this.width/2}}draw(e,r,n,i,s,a){this.resize(e,i,s),this.left=r-this.width/2,this.top=n-this.height/2,this.initContextForDraw(e,a),RY(e,r-this.width/2,n-this.height/2,this.width,this.height),this.performFill(e,a),this.updateBoundingBox(r,n,e,i,s),this.labelModule.draw(e,this.left+this.textSize.width/2+this.margin.left,this.top+this.textSize.height/2+this.margin.top,i,s)}distanceToBorder(e,r){return this._distanceToBorder(e,r)}}let fbe=class extends Fa{constructor(e,r,n){super(e,r,n)}draw(e,r,n,i,s,a){return this._drawShape(e,"diamond",4,r,n,i,s,a)}distanceToBorder(e,r){return this._distanceToBorder(e,r)}};class pbe extends Fa{constructor(e,r,n){super(e,r,n)}draw(e,r,n,i,s,a){return this._drawShape(e,"circle",2,r,n,i,s,a)}distanceToBorder(e){return e&&this.resize(e),this.options.size}}class fU extends ll{constructor(e,r,n){super(e,r,n)}resize(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.selected,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.hover;if(this.needsRefresh(r,n)){const i=this.getDimensionsFromLabel(e,r,n);this.height=i.height*2,this.width=i.width+i.height,this.radius=.5*this.width}}draw(e,r,n,i,s,a){this.resize(e,i,s),this.left=r-this.width*.5,this.top=n-this.height*.5,this.initContextForDraw(e,a),Gj(e,this.left,this.top,this.width,this.height),this.performFill(e,a),this.updateBoundingBox(r,n,e,i,s),this.labelModule.draw(e,r,n,i,s)}distanceToBorder(e,r){e&&this.resize(e);const n=this.width*.5,i=this.height*.5,s=Math.sin(r)*n,a=Math.cos(r)*i;return n*i/Math.sqrt(s*s+a*a)}}class mbe extends ll{constructor(e,r,n){super(e,r,n),this._setMargins(n)}resize(e,r,n){this.needsRefresh(r,n)&&(this.iconSize={width:Number(this.options.icon.size),height:Number(this.options.icon.size)},this.width=this.iconSize.width+this.margin.right+this.margin.left,this.height=this.iconSize.height+this.margin.top+this.margin.bottom,this.radius=.5*this.width)}draw(e,r,n,i,s,a){return this.resize(e,i,s),this.options.icon.size=this.options.icon.size||50,this.left=r-this.width/2,this.top=n-this.height/2,this._icon(e,r,n,i,s,a),{drawExternalLabel:()=>{this.options.label!==void 0&&this.labelModule.draw(e,this.left+this.iconSize.width/2+this.margin.left,n+this.height/2+5,i),this.updateBoundingBox(r,n)}}}updateBoundingBox(e,r){this.boundingBox.top=r-this.options.icon.size*.5,this.boundingBox.left=e-this.options.icon.size*.5,this.boundingBox.right=e+this.options.icon.size*.5,this.boundingBox.bottom=r+this.options.icon.size*.5,this.options.label!==void 0&&this.labelModule.size.width>0&&(this.boundingBox.left=Math.min(this.boundingBox.left,this.labelModule.size.left),this.boundingBox.right=Math.max(this.boundingBox.right,this.labelModule.size.left+this.labelModule.size.width),this.boundingBox.bottom=Math.max(this.boundingBox.bottom,this.boundingBox.bottom+this.labelModule.size.height+5))}_icon(e,r,n,i,s,a){const o=Number(this.options.icon.size);this.options.icon.code!==void 0?(e.font=[this.options.icon.weight!=null?this.options.icon.weight:i?"bold":"",(this.options.icon.weight!=null&&i?5:0)+o+"px",this.options.icon.face].join(" "),e.fillStyle=this.options.icon.color||"black",e.textAlign="center",e.textBaseline="middle",this.enableShadow(e,a),e.fillText(this.options.icon.code,r,n),this.disableShadow(e,a)):console.error("When using the icon shape, you need to define the code in the icon options object. This can be done per node or globally.")}distanceToBorder(e,r){return this._distanceToBorder(e,r)}}let vbe=class extends $T{constructor(e,r,n,i,s){super(e,r,n),this.setImages(i,s)}resize(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.selected,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.hover;if(this.imageObj.src===void 0||this.imageObj.width===void 0||this.imageObj.height===void 0){const s=this.options.size*2;this.width=s,this.height=s;return}this.needsRefresh(r,n)&&this._resizeImage()}draw(e,r,n,i,s,a){e.save(),this.switchImages(i),this.resize();let o=r,u=n;if(this.options.shapeProperties.coordinateOrigin==="top-left"?(this.left=r,this.top=n,o+=this.width/2,u+=this.height/2):(this.left=r-this.width/2,this.top=n-this.height/2),this.options.shapeProperties.useBorderWithImage===!0){const c=this.options.borderWidth,d=this.options.borderWidthSelected||2*this.options.borderWidth,h=(i?d:c)/this.body.view.scale;e.lineWidth=Math.min(this.width,h),e.beginPath();let f=i?this.options.color.highlight.border:s?this.options.color.hover.border:this.options.color.border,p=i?this.options.color.highlight.background:s?this.options.color.hover.background:this.options.color.background;a.opacity!==void 0&&(f=zn(f,a.opacity),p=zn(p,a.opacity)),e.strokeStyle=f,e.fillStyle=p,e.rect(this.left-.5*e.lineWidth,this.top-.5*e.lineWidth,this.width+e.lineWidth,this.height+e.lineWidth),$h(e).call(e),this.performStroke(e,a),e.closePath()}this._drawImageAtPosition(e,a),this._drawImageLabel(e,o,u,i,s),this.updateBoundingBox(r,n),e.restore()}updateBoundingBox(e,r){this.resize(),this.options.shapeProperties.coordinateOrigin==="top-left"?(this.left=e,this.top=r):(this.left=e-this.width/2,this.top=r-this.height/2),this.boundingBox.left=this.left,this.boundingBox.top=this.top,this.boundingBox.bottom=this.top+this.height,this.boundingBox.right=this.left+this.width,this.options.label!==void 0&&this.labelModule.size.width>0&&(this.boundingBox.left=Math.min(this.boundingBox.left,this.labelModule.size.left),this.boundingBox.right=Math.max(this.boundingBox.right,this.labelModule.size.left+this.labelModule.size.width),this.boundingBox.bottom=Math.max(this.boundingBox.bottom,this.boundingBox.bottom+this.labelOffset))}distanceToBorder(e,r){return this._distanceToBorder(e,r)}};class gbe extends Fa{constructor(e,r,n){super(e,r,n)}draw(e,r,n,i,s,a){return this._drawShape(e,"square",2,r,n,i,s,a)}distanceToBorder(e,r){return this._distanceToBorder(e,r)}}class ybe extends Fa{constructor(e,r,n){super(e,r,n)}draw(e,r,n,i,s,a){return this._drawShape(e,"hexagon",4,r,n,i,s,a)}distanceToBorder(e,r){return this._distanceToBorder(e,r)}}class bbe extends Fa{constructor(e,r,n){super(e,r,n)}draw(e,r,n,i,s,a){return this._drawShape(e,"star",4,r,n,i,s,a)}distanceToBorder(e,r){return this._distanceToBorder(e,r)}}class xbe extends ll{constructor(e,r,n){super(e,r,n),this._setMargins(n)}resize(e,r,n){this.needsRefresh(r,n)&&(this.textSize=this.labelModule.getTextSize(e,r,n),this.width=this.textSize.width+this.margin.right+this.margin.left,this.height=this.textSize.height+this.margin.top+this.margin.bottom,this.radius=.5*this.width)}draw(e,r,n,i,s,a){this.resize(e,i,s),this.left=r-this.width/2,this.top=n-this.height/2,this.enableShadow(e,a),this.labelModule.draw(e,this.left+this.textSize.width/2+this.margin.left,this.top+this.textSize.height/2+this.margin.top,i,s),this.disableShadow(e,a),this.updateBoundingBox(r,n,e,i,s)}distanceToBorder(e,r){return this._distanceToBorder(e,r)}}let wbe=class extends Fa{constructor(e,r,n){super(e,r,n)}draw(e,r,n,i,s,a){return this._drawShape(e,"triangle",3,r,n,i,s,a)}distanceToBorder(e,r){return this._distanceToBorder(e,r)}};class _be extends Fa{constructor(e,r,n){super(e,r,n)}draw(e,r,n,i,s,a){return this._drawShape(e,"triangleDown",3,r,n,i,s,a)}distanceToBorder(e,r){return this._distanceToBorder(e,r)}}function pU(t,e){var r=zt(t);if(Ca){var n=Ca(t);e&&(n=on(n).call(n,function(i){return Aa(t,i).enumerable})),r.push.apply(r,n)}return r}function mU(t){for(var e=1;e<arguments.length;e++){var r,n,i=arguments[e]!=null?arguments[e]:{};e%2?pt(r=pU(Object(i),!0)).call(r,function(s){ss(t,s,i[s])}):Oa?Qm(t,Oa(i)):pt(n=pU(Object(i))).call(n,function(s){Xm(t,s,Aa(i,s))})}return t}class jt{constructor(e,r,n,i,s,a){this.options=wa(s),this.globalOptions=s,this.defaultOptions=a,this.body=r,this.edges=[],this.id=void 0,this.imagelist=n,this.grouplist=i,this.x=void 0,this.y=void 0,this.baseSize=this.options.size,this.baseFontSize=this.options.font.size,this.predefinedPosition=!1,this.selected=!1,this.hover=!1,this.labelModule=new Gl(this.body,this.options,!1),this.setOptions(e)}attachEdge(e){var r;ct(r=this.edges).call(r,e)===-1&&this.edges.push(e)}detachEdge(e){var r;const n=ct(r=this.edges).call(r,e);if(n!=-1){var i;ds(i=this.edges).call(i,n,1)}}setOptions(e){const r=this.options.shape;if(!e)return;if(typeof e.color<"u"&&(this._localColor=e.color),e.id!==void 0&&(this.id=e.id),this.id===void 0)throw new Error("Node must have an id");jt.checkMass(e,this.id),e.x!==void 0&&(e.x===null?(this.x=void 0,this.predefinedPosition=!1):(this.x=ui(e.x),this.predefinedPosition=!0)),e.y!==void 0&&(e.y===null?(this.y=void 0,this.predefinedPosition=!1):(this.y=ui(e.y),this.predefinedPosition=!0)),e.size!==void 0&&(this.baseSize=e.size),e.value!==void 0&&(e.value=WQ(e.value)),jt.parseOptions(this.options,e,!0,this.globalOptions,this.grouplist);const n=[e,this.options,this.defaultOptions];return this.chooser=RT("node",n),this._load_images(),this.updateLabelModule(e),e.opacity!==void 0&&jt.checkOpacity(e.opacity)&&(this.options.opacity=e.opacity),this.updateShape(r),e.hidden!==void 0||e.physics!==void 0}_load_images(){if((this.options.shape==="circularImage"||this.options.shape==="image")&&this.options.image===void 0)throw new Error("Option image must be defined for node type '"+this.options.shape+"'");if(this.options.image!==void 0){if(this.imagelist===void 0)throw new Error("Internal Error: No images provided");if(typeof this.options.image=="string")this.imageObj=this.imagelist.load(this.options.image,this.options.brokenImage,this.id);else{if(this.options.image.unselected===void 0)throw new Error("No unselected image provided");this.imageObj=this.imagelist.load(this.options.image.unselected,this.options.brokenImage,this.id),this.options.image.selected!==void 0?this.imageObjAlt=this.imagelist.load(this.options.image.selected,this.options.brokenImage,this.id):this.imageObjAlt=void 0}}}static checkOpacity(e){return 0<=e&&e<=1}static checkCoordinateOrigin(e){return e===void 0||e==="center"||e==="top-left"}static updateGroupOptions(e,r,n){var i;if(n===void 0)return;const s=e.group;if(r!==void 0&&r.group!==void 0&&s!==r.group)throw new Error("updateGroupOptions: group values in options don't match.");if(!(typeof s=="number"||typeof s=="string"&&s!=""))return;const o=n.get(s);o.opacity!==void 0&&r.opacity===void 0&&(jt.checkOpacity(o.opacity)||(console.error("Invalid option for node opacity. Value must be between 0 and 1, found: "+o.opacity),o.opacity=void 0));const u=on(i=I0e(r)).call(i,c=>r[c]!=null);u.push("font"),Lp(u,e,o),e.color=Zj(e.color)}static parseOptions(e,r){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},s=arguments.length>4?arguments[4]:void 0;if(Lp(["color","fixed","shadow"],e,r,n),jt.checkMass(r),e.opacity!==void 0&&(jt.checkOpacity(e.opacity)||(console.error("Invalid option for node opacity. Value must be between 0 and 1, found: "+e.opacity),e.opacity=void 0)),r.opacity!==void 0&&(jt.checkOpacity(r.opacity)||(console.error("Invalid option for node opacity. Value must be between 0 and 1, found: "+r.opacity),r.opacity=void 0)),r.shapeProperties&&!jt.checkCoordinateOrigin(r.shapeProperties.coordinateOrigin)&&console.error("Invalid option for node coordinateOrigin, found: "+r.shapeProperties.coordinateOrigin),Fn(e,r,"shadow",i),r.color!==void 0&&r.color!==null){const o=Zj(r.color);NQ(e.color,o)}else n===!0&&r.color===null&&(e.color=wa(i.color));r.fixed!==void 0&&r.fixed!==null&&(typeof r.fixed=="boolean"?(e.fixed.x=r.fixed,e.fixed.y=r.fixed):(r.fixed.x!==void 0&&typeof r.fixed.x=="boolean"&&(e.fixed.x=r.fixed.x),r.fixed.y!==void 0&&typeof r.fixed.y=="boolean"&&(e.fixed.y=r.fixed.y))),n===!0&&r.font===null&&(e.font=wa(i.font)),jt.updateGroupOptions(e,r,s),r.scaling!==void 0&&Fn(e.scaling,r.scaling,"label",i.scaling)}getFormattingValues(){const e={color:this.options.color.background,opacity:this.options.opacity,borderWidth:this.options.borderWidth,borderColor:this.options.color.border,size:this.options.size,borderDashes:this.options.shapeProperties.borderDashes,borderRadius:this.options.shapeProperties.borderRadius,shadow:this.options.shadow.enabled,shadowColor:this.options.shadow.color,shadowSize:this.options.shadow.size,shadowX:this.options.shadow.x,shadowY:this.options.shadow.y};if(this.selected||this.hover?this.chooser===!0?this.selected?(this.options.borderWidthSelected!=null?e.borderWidth=this.options.borderWidthSelected:e.borderWidth*=2,e.color=this.options.color.highlight.background,e.borderColor=this.options.color.highlight.border,e.shadow=this.options.shadow.enabled):this.hover&&(e.color=this.options.color.hover.background,e.borderColor=this.options.color.hover.border,e.shadow=this.options.shadow.enabled):typeof this.chooser=="function"&&(this.chooser(e,this.options.id,this.selected,this.hover),e.shadow===!1&&(e.shadowColor!==this.options.shadow.color||e.shadowSize!==this.options.shadow.size||e.shadowX!==this.options.shadow.x||e.shadowY!==this.options.shadow.y)&&(e.shadow=!0)):e.shadow=this.options.shadow.enabled,this.options.opacity!==void 0){const r=this.options.opacity;e.borderColor=zn(e.borderColor,r),e.color=zn(e.color,r),e.shadowColor=zn(e.shadowColor,r)}return e}updateLabelModule(e){(this.options.label===void 0||this.options.label===null)&&(this.options.label=""),jt.updateGroupOptions(this.options,mU(mU({},e),{},{color:e&&e.color||this._localColor||void 0}),this.grouplist);const r=this.grouplist.get(this.options.group,!1),n=[e,this.options,r,this.globalOptions,this.defaultOptions];this.labelModule.update(this.options,n),this.labelModule.baseSize!==void 0&&(this.baseFontSize=this.labelModule.baseSize)}updateShape(e){if(e===this.options.shape&&this.shape)this.shape.setOptions(this.options,this.imageObj,this.imageObjAlt);else switch(this.options.shape){case"box":this.shape=new obe(this.options,this.body,this.labelModule);break;case"circle":this.shape=new lbe(this.options,this.body,this.labelModule);break;case"circularImage":this.shape=new ube(this.options,this.body,this.labelModule,this.imageObj,this.imageObjAlt);break;case"custom":this.shape=new dbe(this.options,this.body,this.labelModule,this.options.ctxRenderer);break;case"database":this.shape=new hbe(this.options,this.body,this.labelModule);break;case"diamond":this.shape=new fbe(this.options,this.body,this.labelModule);break;case"dot":this.shape=new pbe(this.options,this.body,this.labelModule);break;case"ellipse":this.shape=new fU(this.options,this.body,this.labelModule);break;case"icon":this.shape=new mbe(this.options,this.body,this.labelModule);break;case"image":this.shape=new vbe(this.options,this.body,this.labelModule,this.imageObj,this.imageObjAlt);break;case"square":this.shape=new gbe(this.options,this.body,this.labelModule);break;case"hexagon":this.shape=new ybe(this.options,this.body,this.labelModule);break;case"star":this.shape=new bbe(this.options,this.body,this.labelModule);break;case"text":this.shape=new xbe(this.options,this.body,this.labelModule);break;case"triangle":this.shape=new wbe(this.options,this.body,this.labelModule);break;case"triangleDown":this.shape=new _be(this.options,this.body,this.labelModule);break;default:this.shape=new fU(this.options,this.body,this.labelModule);break}this.needsRefresh()}select(){this.selected=!0,this.needsRefresh()}unselect(){this.selected=!1,this.needsRefresh()}needsRefresh(){this.shape.refreshNeeded=!0}getTitle(){return this.options.title}distanceToBorder(e,r){return this.shape.distanceToBorder(e,r)}isFixed(){return this.options.fixed.x&&this.options.fixed.y}isSelected(){return this.selected}getValue(){return this.options.value}getLabelSize(){return this.labelModule.size()}setValueRange(e,r,n){if(this.options.value!==void 0){const i=this.options.scaling.customScalingFunction(e,r,n,this.options.value),s=this.options.scaling.max-this.options.scaling.min;if(this.options.scaling.label.enabled===!0){const a=this.options.scaling.label.max-this.options.scaling.label.min;this.options.font.size=this.options.scaling.label.min+i*a}this.options.size=this.options.scaling.min+i*s}else this.options.size=this.baseSize,this.options.font.size=this.baseFontSize;this.updateLabelModule()}draw(e){const r=this.getFormattingValues();return this.shape.draw(e,this.x,this.y,this.selected,this.hover,r)||{}}updateBoundingBox(e){this.shape.updateBoundingBox(this.x,this.y,e)}resize(e){const r=this.getFormattingValues();this.shape.resize(e,this.selected,this.hover,r)}getItemsOnPoint(e){const r=[];return this.labelModule.visible()&&iC(this.labelModule.getSize(),e)&&r.push({nodeId:this.id,labelId:0}),iC(this.shape.boundingBox,e)&&r.push({nodeId:this.id}),r}isOverlappingWith(e){return this.shape.left<e.right&&this.shape.left+this.shape.width>e.left&&this.shape.top<e.bottom&&this.shape.top+this.shape.height>e.top}isBoundingBoxOverlappingWith(e){return this.shape.boundingBox.left<e.right&&this.shape.boundingBox.right>e.left&&this.shape.boundingBox.top<e.bottom&&this.shape.boundingBox.bottom>e.top}static checkMass(e,r){if(e.mass!==void 0&&e.mass<=0){let n="";r!==void 0&&(n=" in node id: "+r),console.error("%cNegative or zero mass disallowed"+n+", setting mass to 1.",TQ),e.mass=1}}}class Sbe{constructor(e,r,n,i){var s;if(this.body=e,this.images=r,this.groups=n,this.layoutEngine=i,this.body.functions.createNode=re(s=this.create).call(s,this),this.nodesListeners={add:(a,o)=>{this.add(o.items)},update:(a,o)=>{this.update(o.items,o.data,o.oldData)},remove:(a,o)=>{this.remove(o.items)}},this.defaultOptions={borderWidth:1,borderWidthSelected:void 0,brokenImage:void 0,color:{border:"#2B7CE9",background:"#97C2FC",highlight:{border:"#2B7CE9",background:"#D2E5FF"},hover:{border:"#2B7CE9",background:"#D2E5FF"}},opacity:void 0,fixed:{x:!1,y:!1},font:{color:"#343434",size:14,face:"arial",background:"none",strokeWidth:0,strokeColor:"#ffffff",align:"center",vadjust:0,multi:!1,bold:{mod:"bold"},boldital:{mod:"bold italic"},ital:{mod:"italic"},mono:{mod:"",size:15,face:"monospace",vadjust:2}},group:void 0,hidden:!1,icon:{face:"FontAwesome",code:void 0,size:50,color:"#2B7CE9"},image:void 0,imagePadding:{top:0,right:0,bottom:0,left:0},label:void 0,labelHighlightBold:!0,level:void 0,margin:{top:5,right:5,bottom:5,left:5},mass:1,physics:!0,scaling:{min:10,max:30,label:{enabled:!1,min:14,max:30,maxVisible:30,drawThreshold:5},customScalingFunction:function(a,o,u,c){if(o===a)return .5;{const d=1/(o-a);return Math.max(0,(c-a)*d)}}},shadow:{enabled:!1,color:"rgba(0,0,0,0.5)",size:10,x:5,y:5},shape:"ellipse",shapeProperties:{borderDashes:!1,borderRadius:6,interpolation:!0,useImageSize:!1,useBorderWithImage:!1,coordinateOrigin:"center"},size:25,title:void 0,value:void 0,x:void 0,y:void 0},this.defaultOptions.mass<=0)throw"Internal error: mass in defaultOptions of NodesHandler may not be zero or negative";this.options=wa(this.defaultOptions),this.bindEventListeners()}bindEventListeners(){var e,r;this.body.emitter.on("refreshNodes",re(e=this.refresh).call(e,this)),this.body.emitter.on("refresh",re(r=this.refresh).call(r,this)),this.body.emitter.on("destroy",()=>{We(this.nodesListeners,(n,i)=>{this.body.data.nodes&&this.body.data.nodes.off(i,n)}),delete this.body.functions.createNode,delete this.nodesListeners.add,delete this.nodesListeners.update,delete this.nodesListeners.remove,delete this.nodesListeners})}setOptions(e){if(e!==void 0){if(jt.parseOptions(this.options,e),e.opacity!==void 0&&(nC(e.opacity)||!ro(e.opacity)||e.opacity<0||e.opacity>1?console.error("Invalid option for node opacity. Value must be between 0 and 1, found: "+e.opacity):this.options.opacity=e.opacity),e.shape!==void 0)for(const r in this.body.nodes)Object.prototype.hasOwnProperty.call(this.body.nodes,r)&&this.body.nodes[r].updateShape();if(typeof e.font<"u"||typeof e.widthConstraint<"u"||typeof e.heightConstraint<"u")for(const r of zt(this.body.nodes))this.body.nodes[r].updateLabelModule(),this.body.nodes[r].needsRefresh();if(e.size!==void 0)for(const r in this.body.nodes)Object.prototype.hasOwnProperty.call(this.body.nodes,r)&&this.body.nodes[r].needsRefresh();(e.hidden!==void 0||e.physics!==void 0)&&this.body.emitter.emit("_dataChanged")}}setData(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;const n=this.body.data.nodes;if(SY("id",e))this.body.data.nodes=e;else if(Vt(e))this.body.data.nodes=new Cu,this.body.data.nodes.add(e);else if(!e)this.body.data.nodes=new Cu;else throw new TypeError("Array or DataSet expected");if(n&&We(this.nodesListeners,function(i,s){n.off(s,i)}),this.body.nodes={},this.body.data.nodes){const i=this;We(this.nodesListeners,function(a,o){i.body.data.nodes.on(o,a)});const s=this.body.data.nodes.getIds();this.add(s,!0)}r===!1&&this.body.emitter.emit("_dataChanged")}add(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,n;const i=[];for(let s=0;s<e.length;s++){n=e[s];const a=this.body.data.nodes.get(n),o=this.create(a);i.push(o),this.body.nodes[n]=o}this.layoutEngine.positionInitially(i),r===!1&&this.body.emitter.emit("_dataChanged")}update(e,r,n){const i=this.body.nodes;let s=!1;for(let a=0;a<e.length;a++){const o=e[a];let u=i[o];const c=r[a];u!==void 0?u.setOptions(c)&&(s=!0):(s=!0,u=this.create(c),i[o]=u)}!s&&n!==void 0&&(s=Rye(r).call(r,function(a,o){const u=n[o];return u&&u.level!==a.level})),s===!0?this.body.emitter.emit("_dataChanged"):this.body.emitter.emit("_dataUpdated")}remove(e){const r=this.body.nodes;for(let n=0;n<e.length;n++){const i=e[n];delete r[i]}this.body.emitter.emit("_dataChanged")}create(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:jt;return new r(e,this.body,this.images,this.groups,this.options,this.defaultOptions)}refresh(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;We(this.body.nodes,(r,n)=>{const i=this.body.data.nodes.get(n);i!==void 0&&(e===!0&&r.setOptions({x:null,y:null}),r.setOptions({fixed:!1}),r.setOptions(i))})}getPositions(e){const r={};if(e!==void 0){if(Vt(e)===!0){for(let n=0;n<e.length;n++)if(this.body.nodes[e[n]]!==void 0){const i=this.body.nodes[e[n]];r[e[n]]={x:Math.round(i.x),y:Math.round(i.y)}}}else if(this.body.nodes[e]!==void 0){const n=this.body.nodes[e];r[e]={x:Math.round(n.x),y:Math.round(n.y)}}}else for(let n=0;n<this.body.nodeIndices.length;n++){const i=this.body.nodes[this.body.nodeIndices[n]];r[this.body.nodeIndices[n]]={x:Math.round(i.x),y:Math.round(i.y)}}return r}getPosition(e){if(e==null)throw new TypeError("No id was specified for getPosition method.");if(this.body.nodes[e]==null)throw new ReferenceError("NodeId provided for getPosition does not exist. Provided: ".concat(e));return{x:Math.round(this.body.nodes[e].x),y:Math.round(this.body.nodes[e].y)}}storePositions(){const e=[],r=this.body.data.nodes.getDataSet();for(const n of r.get()){const i=n.id,s=this.body.nodes[i],a=Math.round(s.x),o=Math.round(s.y);(n.x!==a||n.y!==o)&&e.push({id:i,x:a,y:o})}r.update(e)}getBoundingBox(e){if(this.body.nodes[e]!==void 0)return this.body.nodes[e].shape.boundingBox}getConnectedNodes(e,r){const n=[];if(this.body.nodes[e]!==void 0){const i=this.body.nodes[e],s={};for(let a=0;a<i.edges.length;a++){const o=i.edges[a];r!=="to"&&o.toId==i.id?s[o.fromId]===void 0&&(n.push(o.fromId),s[o.fromId]=!0):r!=="from"&&o.fromId==i.id&&s[o.toId]===void 0&&(n.push(o.toId),s[o.toId]=!0)}}return n}getConnectedEdges(e){const r=[];if(this.body.nodes[e]!==void 0){const n=this.body.nodes[e];for(let i=0;i<n.edges.length;i++)r.push(n.edges[i].id)}else console.error("NodeId provided for getConnectedEdges does not exist. Provided: ",e);return r}moveNode(e,r,n){this.body.nodes[e]!==void 0?(this.body.nodes[e].x=Number(r),this.body.nodes[e].y=Number(n),hs(()=>{this.body.emitter.emit("startSimulation")},0)):console.error("Node id supplied to moveNode does not exist. Provided: ",e)}}var vU={},gU;function Ebe(){if(gU)return vU;gU=1;var t=je(),e=Math.hypot,r=Math.abs,n=Math.sqrt,i=!!e&&e(1/0,NaN)!==1/0;return t({target:"Math",stat:!0,arity:2,forced:i},{hypot:function(a,o){for(var u=0,c=0,d=arguments.length,h=0,f,p;c<d;)f=r(arguments[c++]),h<f?(p=h/f,u=u*p*p+1,h=f):f>0?(p=f/h,u+=p*p):u+=f;return h===1/0?1/0:h*n(u)}}),vU}var fN,yU;function Nbe(){if(yU)return fN;yU=1,Ebe();var t=ft();return fN=t.Math.hypot,fN}var pN,bU;function jbe(){if(bU)return pN;bU=1;var t=Nbe();return pN=t,pN}var mN,xU;function Cbe(){return xU||(xU=1,mN=jbe()),mN}var Obe=Cbe(),Tbe=Re(Obe);class Kt{static transform(e,r){Vt(e)||(e=[e]);const n=r.point.x,i=r.point.y,s=r.angle,a=r.length;for(let o=0;o<e.length;++o){const u=e[o],c=u.x*Math.cos(s)-u.y*Math.sin(s),d=u.x*Math.sin(s)+u.y*Math.cos(s);u.x=n+a*c,u.y=i+a*d}}static drawPath(e,r){e.beginPath(),e.moveTo(r[0].x,r[0].y);for(let n=1;n<r.length;++n)e.lineTo(r[n].x,r[n].y);e.closePath()}}let Pbe=class extends Kt{static draw(e,r){if(r.image){e.save(),e.translate(r.point.x,r.point.y),e.rotate(Math.PI/2+r.angle);const n=r.imageWidth!=null?r.imageWidth:r.image.width,i=r.imageHeight!=null?r.imageHeight:r.image.height;r.image.drawImageAtPosition(e,1,-n/2,0,n,i),e.restore()}return!1}};class Ibe extends Kt{static draw(e,r){const n=[{x:0,y:0},{x:-1,y:.3},{x:-.9,y:0},{x:-1,y:-.3}];return Kt.transform(n,r),Kt.drawPath(e,n),!0}}class Rbe{static draw(e,r){const n=[{x:-1,y:0},{x:0,y:.3},{x:-.4,y:0},{x:0,y:-.3}];return Kt.transform(n,r),Kt.drawPath(e,n),!0}}class $be{static draw(e,r){const n={x:-.4,y:0};Kt.transform(n,r),e.strokeStyle=e.fillStyle,e.fillStyle="rgba(0, 0, 0, 0)";const i=Math.PI,s=r.angle-i/2,a=r.angle+i/2;return e.beginPath(),e.arc(n.x,n.y,r.length*.4,s,a,!1),e.stroke(),!0}}class kbe{static draw(e,r){const n={x:-.3,y:0};Kt.transform(n,r),e.strokeStyle=e.fillStyle,e.fillStyle="rgba(0, 0, 0, 0)";const i=Math.PI,s=r.angle+i/2,a=r.angle+3*i/2;return e.beginPath(),e.arc(n.x,n.y,r.length*.4,s,a,!1),e.stroke(),!0}}class Dbe{static draw(e,r){const n=[{x:.02,y:0},{x:-1,y:.3},{x:-1,y:-.3}];return Kt.transform(n,r),Kt.drawPath(e,n),!0}}class Mbe{static draw(e,r){const n=[{x:0,y:.3},{x:0,y:-.3},{x:-1,y:0}];return Kt.transform(n,r),Kt.drawPath(e,n),!0}}class qbe{static draw(e,r){const n={x:-.4,y:0};return Kt.transform(n,r),aT(e,n.x,n.y,r.length*.4),!0}}class Abe{static draw(e,r){const n=[{x:0,y:.5},{x:0,y:-.5},{x:-.15,y:-.5},{x:-.15,y:.5}];return Kt.transform(n,r),Kt.drawPath(e,n),!0}}class Fbe{static draw(e,r){const n=[{x:0,y:.3},{x:0,y:-.3},{x:-.6,y:-.3},{x:-.6,y:.3}];return Kt.transform(n,r),Kt.drawPath(e,n),!0}}class Lbe{static draw(e,r){const n=[{x:0,y:0},{x:-.5,y:-.3},{x:-1,y:0},{x:-.5,y:.3}];return Kt.transform(n,r),Kt.drawPath(e,n),!0}}class Bbe{static draw(e,r){const n=[{x:-1,y:.3},{x:-.5,y:0},{x:-1,y:-.3},{x:0,y:0}];return Kt.transform(n,r),Kt.drawPath(e,n),!0}}class KQ{static draw(e,r){let n;switch(r.type&&(n=r.type.toLowerCase()),n){case"image":return Pbe.draw(e,r);case"circle":return qbe.draw(e,r);case"box":return Fbe.draw(e,r);case"crow":return Rbe.draw(e,r);case"curve":return $be.draw(e,r);case"diamond":return Lbe.draw(e,r);case"inv_curve":return kbe.draw(e,r);case"triangle":return Dbe.draw(e,r);case"inv_triangle":return Mbe.draw(e,r);case"bar":return Abe.draw(e,r);case"vee":return Bbe.draw(e,r);case"arrow":default:return Ibe.draw(e,r)}}}function wU(t,e){var r=zt(t);if(Ca){var n=Ca(t);e&&(n=on(n).call(n,function(i){return Aa(t,i).enumerable})),r.push.apply(r,n)}return r}function _U(t){for(var e=1;e<arguments.length;e++){var r,n,i=arguments[e]!=null?arguments[e]:{};e%2?pt(r=wU(Object(i),!0)).call(r,function(s){ss(t,s,i[s])}):Oa?Qm(t,Oa(i)):pt(n=wU(Object(i))).call(n,function(s){Xm(t,s,Aa(i,s))})}return t}class GQ{constructor(e,r,n){ss(this,"color",{}),ss(this,"colorDirty",!0),ss(this,"hoverWidth",1.5),ss(this,"selectionWidth",2),this._body=r,this._labelModule=n,this.setOptions(e),this.fromPoint=this.from,this.toPoint=this.to}connect(){this.from=this._body.nodes[this.options.from],this.to=this._body.nodes[this.options.to]}cleanup(){return!1}setOptions(e){this.options=e,this.from=this._body.nodes[this.options.from],this.to=this._body.nodes[this.options.to],this.id=this.options.id}drawLine(e,r,n,i){let s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:this.getViaNode();e.strokeStyle=this.getColor(e,r),e.lineWidth=r.width,r.dashes!==!1?this._drawDashedLine(e,r,s):this._drawLine(e,r,s)}_drawLine(e,r,n,i,s){if(this.from!=this.to)this._line(e,r,n,i,s);else{const[a,o,u]=this._getCircleData(e);this._circle(e,r,a,o,u)}}_drawDashedLine(e,r,n,i,s){e.lineCap="round";const a=Vt(r.dashes)?r.dashes:[5,5];if(e.setLineDash!==void 0){if(e.save(),e.setLineDash(a),e.lineDashOffset=0,this.from!=this.to)this._line(e,r,n);else{const[o,u,c]=this._getCircleData(e);this._circle(e,r,o,u,c)}e.setLineDash([0]),e.lineDashOffset=0,e.restore()}else{if(this.from!=this.to)$Y(e,this.from.x,this.from.y,this.to.x,this.to.y,a);else{const[o,u,c]=this._getCircleData(e);this._circle(e,r,o,u,c)}this.enableShadow(e,r),e.stroke(),this.disableShadow(e,r)}}findBorderPosition(e,r,n){return this.from!=this.to?this._findBorderPosition(e,r,n):this._findBorderPositionCircle(e,r,n)}findBorderPositions(e){if(this.from!=this.to)return{from:this._findBorderPosition(this.from,e),to:this._findBorderPosition(this.to,e)};{var r;const[n,i]=Ti(r=this._getCircleData(e)).call(r,0,2);return{from:this._findBorderPositionCircle(this.from,e,{x:n,y:i,low:.25,high:.6,direction:-1}),to:this._findBorderPositionCircle(this.from,e,{x:n,y:i,low:.6,high:.8,direction:1})}}}_getCircleData(e){const r=this.options.selfReference.size;e!==void 0&&this.from.shape.width===void 0&&this.from.shape.resize(e);const n=VQ(e,this.options.selfReference.angle,r,this.from);return[n.x,n.y,r]}_pointOnCircle(e,r,n,i){const s=i*2*Math.PI;return{x:e+n*Math.cos(s),y:r-n*Math.sin(s)}}_findBorderPositionCircle(e,r,n){const i=n.x,s=n.y;let a=n.low,o=n.high;const u=n.direction,c=10,d=this.options.selfReference.size,h=.05;let f,p=(a+o)*.5,v=0;this.options.arrowStrikethrough===!0&&(u===-1?v=this.options.endPointOffset.from:u===1&&(v=this.options.endPointOffset.to));let y=0;do{p=(a+o)*.5,f=this._pointOnCircle(i,s,d,p);const x=Math.atan2(e.y-f.y,e.x-f.x),g=e.distanceToBorder(r,x)+v,m=Math.sqrt(Math.pow(f.x-e.x,2)+Math.pow(f.y-e.y,2)),w=g-m;if(Math.abs(w)<h)break;w>0?u>0?a=p:o=p:u>0?o=p:a=p,++y}while(a<=o&&y<c);return _U(_U({},f),{},{t:p})}getLineWidth(e,r){return e===!0?Math.max(this.selectionWidth,.3/this._body.view.scale):r===!0?Math.max(this.hoverWidth,.3/this._body.view.scale):Math.max(this.options.width,.3/this._body.view.scale)}getColor(e,r){if(r.inheritsColor!==!1){if(r.inheritsColor==="both"&&this.from.id!==this.to.id){const n=e.createLinearGradient(this.from.x,this.from.y,this.to.x,this.to.y);let i=this.from.options.color.highlight.border,s=this.to.options.color.highlight.border;return this.from.selected===!1&&this.to.selected===!1?(i=zn(this.from.options.color.border,r.opacity),s=zn(this.to.options.color.border,r.opacity)):this.from.selected===!0&&this.to.selected===!1?s=this.to.options.color.border:this.from.selected===!1&&this.to.selected===!0&&(i=this.from.options.color.border),n.addColorStop(0,i),n.addColorStop(1,s),n}return r.inheritsColor==="to"?zn(this.to.options.color.border,r.opacity):zn(this.from.options.color.border,r.opacity)}else return zn(r.color,r.opacity)}_circle(e,r,n,i,s){this.enableShadow(e,r);let a=0,o=Math.PI*2;if(!this.options.selfReference.renderBehindTheNode){const u=this.options.selfReference.angle,c=this.options.selfReference.angle+Math.PI,d=this._findBorderPositionCircle(this.from,e,{x:n,y:i,low:u,high:c,direction:-1}),h=this._findBorderPositionCircle(this.from,e,{x:n,y:i,low:u,high:c,direction:1});a=Math.atan2(d.y-i,d.x-n),o=Math.atan2(h.y-i,h.x-n)}e.beginPath(),e.arc(n,i,s,a,o,!1),e.stroke(),this.disableShadow(e,r)}getDistanceToEdge(e,r,n,i,s,a){if(this.from!=this.to)return this._getDistanceToEdge(e,r,n,i,s,a);{const[o,u,c]=this._getCircleData(void 0),d=o-s,h=u-a;return Math.abs(Math.sqrt(d*d+h*h)-c)}}_getDistanceToLine(e,r,n,i,s,a){const o=n-e,u=i-r,c=o*o+u*u;let d=((s-e)*o+(a-r)*u)/c;d>1?d=1:d<0&&(d=0);const h=e+d*o,f=r+d*u,p=h-s,v=f-a;return Math.sqrt(p*p+v*v)}getArrowData(e,r,n,i,s,a){let o,u,c,d,h,f,p;const v=a.width;r==="from"?(c=this.from,d=this.to,h=a.fromArrowScale<0,f=Math.abs(a.fromArrowScale),p=a.fromArrowType):r==="to"?(c=this.to,d=this.from,h=a.toArrowScale<0,f=Math.abs(a.toArrowScale),p=a.toArrowType):(c=this.to,d=this.from,h=a.middleArrowScale<0,f=Math.abs(a.middleArrowScale),p=a.middleArrowType);const y=15*f+3*v;if(c!=d){const w=Tbe(c.x-d.x,c.y-d.y),b=y/w;if(r!=="middle")if(this.options.smooth.enabled===!0){const _=this._findBorderPosition(c,e,{via:n}),E=this.getPoint(_.t+b*(r==="from"?1:-1),n);o=Math.atan2(_.y-E.y,_.x-E.x),u=_}else o=Math.atan2(c.y-d.y,c.x-d.x),u=this._findBorderPosition(c,e);else{const _=(h?-b:b)/2,E=this.getPoint(.5+_,n),j=this.getPoint(.5-_,n);o=Math.atan2(E.y-j.y,E.x-j.x),u=this.getPoint(.5,n)}}else{const[w,b,_]=this._getCircleData(e);if(r==="from"){const E=this.options.selfReference.angle,j=this.options.selfReference.angle+Math.PI,S=this._findBorderPositionCircle(this.from,e,{x:w,y:b,low:E,high:j,direction:-1});o=S.t*-2*Math.PI+1.5*Math.PI+.1*Math.PI,u=S}else if(r==="to"){const E=this.options.selfReference.angle,j=this.options.selfReference.angle+Math.PI,S=this._findBorderPositionCircle(this.from,e,{x:w,y:b,low:E,high:j,direction:1});o=S.t*-2*Math.PI+1.5*Math.PI-1.1*Math.PI,u=S}else{const E=this.options.selfReference.angle/(2*Math.PI);u=this._pointOnCircle(w,b,_,E),o=E*-2*Math.PI+1.5*Math.PI+.1*Math.PI}}const x=u.x-y*.9*Math.cos(o),g=u.y-y*.9*Math.sin(o);return{point:u,core:{x,y:g},angle:o,length:y,type:p}}drawArrowHead(e,r,n,i,s){e.strokeStyle=this.getColor(e,r),e.fillStyle=e.strokeStyle,e.lineWidth=r.width,KQ.draw(e,s)&&(this.enableShadow(e,r),$h(e).call(e),this.disableShadow(e,r))}enableShadow(e,r){r.shadow===!0&&(e.shadowColor=r.shadowColor,e.shadowBlur=r.shadowSize,e.shadowOffsetX=r.shadowX,e.shadowOffsetY=r.shadowY)}disableShadow(e,r){r.shadow===!0&&(e.shadowColor="rgba(0,0,0,0)",e.shadowBlur=0,e.shadowOffsetX=0,e.shadowOffsetY=0)}drawBackground(e,r){if(r.background!==!1){const n={strokeStyle:e.strokeStyle,lineWidth:e.lineWidth,dashes:e.dashes};e.strokeStyle=r.backgroundColor,e.lineWidth=r.backgroundSize,this.setStrokeDashed(e,r.backgroundDashes),e.stroke(),e.strokeStyle=n.strokeStyle,e.lineWidth=n.lineWidth,e.dashes=n.dashes,this.setStrokeDashed(e,r.dashes)}}setStrokeDashed(e,r){if(r!==!1)if(e.setLineDash!==void 0){const n=Vt(r)?r:[5,5];e.setLineDash(n)}else console.warn("setLineDash is not supported in this browser. The dashed stroke cannot be used.");else e.setLineDash!==void 0?e.setLineDash([]):console.warn("setLineDash is not supported in this browser. The dashed stroke cannot be used.")}}function SU(t,e){var r=zt(t);if(Ca){var n=Ca(t);e&&(n=on(n).call(n,function(i){return Aa(t,i).enumerable})),r.push.apply(r,n)}return r}function EU(t){for(var e=1;e<arguments.length;e++){var r,n,i=arguments[e]!=null?arguments[e]:{};e%2?pt(r=SU(Object(i),!0)).call(r,function(s){ss(t,s,i[s])}):Oa?Qm(t,Oa(i)):pt(n=SU(Object(i))).call(n,function(s){Xm(t,s,Aa(i,s))})}return t}class kT extends GQ{constructor(e,r,n){super(e,r,n)}_findBorderPositionBezier(e,r){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this._getViaCoordinates();const i=10,s=.2;let a=!1,o=1,u=0,c=this.to,d,h,f=this.options.endPointOffset?this.options.endPointOffset.to:0;e.id===this.from.id&&(c=this.from,a=!0,f=this.options.endPointOffset?this.options.endPointOffset.from:0),this.options.arrowStrikethrough===!1&&(f=0);let p=0;do{h=(u+o)*.5,d=this.getPoint(h,n);const v=Math.atan2(c.y-d.y,c.x-d.x),y=c.distanceToBorder(r,v)+f,x=Math.sqrt(Math.pow(d.x-c.x,2)+Math.pow(d.y-c.y,2)),g=y-x;if(Math.abs(g)<s)break;g<0?a===!1?u=h:o=h:a===!1?o=h:u=h,++p}while(u<=o&&p<i);return EU(EU({},d),{},{t:h})}_getDistanceToBezierEdge(e,r,n,i,s,a,o){let u=1e9,c,d,h,f,p,v=e,y=r;for(d=1;d<10;d++)h=.1*d,f=Math.pow(1-h,2)*e+2*h*(1-h)*o.x+Math.pow(h,2)*n,p=Math.pow(1-h,2)*r+2*h*(1-h)*o.y+Math.pow(h,2)*i,d>0&&(c=this._getDistanceToLine(v,y,f,p,s,a),u=c<u?c:u),v=f,y=p;return u}_bezierCurve(e,r,n,i){e.beginPath(),e.moveTo(this.fromPoint.x,this.fromPoint.y),n!=null&&n.x!=null?i!=null&&i.x!=null?e.bezierCurveTo(n.x,n.y,i.x,i.y,this.toPoint.x,this.toPoint.y):e.quadraticCurveTo(n.x,n.y,this.toPoint.x,this.toPoint.y):e.lineTo(this.toPoint.x,this.toPoint.y),this.drawBackground(e,r),this.enableShadow(e,r),e.stroke(),this.disableShadow(e,r)}getViaNode(){return this._getViaCoordinates()}}class NU extends kT{constructor(e,r,n){super(e,r,n),ss(this,"via",this.via),this._boundFunction=()=>{this.positionBezierNode()},this._body.emitter.on("_repositionBezierNodes",this._boundFunction)}setOptions(e){super.setOptions(e);let r=!1;this.options.physics!==e.physics&&(r=!0),this.options=e,this.id=this.options.id,this.from=this._body.nodes[this.options.from],this.to=this._body.nodes[this.options.to],this.setupSupportNode(),this.connect(),r===!0&&(this.via.setOptions({physics:this.options.physics}),this.positionBezierNode())}connect(){this.from=this._body.nodes[this.options.from],this.to=this._body.nodes[this.options.to],this.from===void 0||this.to===void 0||this.options.physics===!1?this.via.setOptions({physics:!1}):this.from.id===this.to.id?this.via.setOptions({physics:!1}):this.via.setOptions({physics:!0})}cleanup(){return this._body.emitter.off("_repositionBezierNodes",this._boundFunction),this.via!==void 0?(delete this._body.nodes[this.via.id],this.via=void 0,!0):!1}setupSupportNode(){if(this.via===void 0){const e="edgeId:"+this.id,r=this._body.functions.createNode({id:e,shape:"circle",physics:!0,hidden:!0});this._body.nodes[e]=r,this.via=r,this.via.parentEdgeId=this.id,this.positionBezierNode()}}positionBezierNode(){this.via!==void 0&&this.from!==void 0&&this.to!==void 0?(this.via.x=.5*(this.from.x+this.to.x),this.via.y=.5*(this.from.y+this.to.y)):this.via!==void 0&&(this.via.x=0,this.via.y=0)}_line(e,r,n){this._bezierCurve(e,r,n)}_getViaCoordinates(){return this.via}getViaNode(){return this.via}getPoint(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.via;if(this.from===this.to){const[n,i,s]=this._getCircleData(),a=2*Math.PI*(1-e);return{x:n+s*Math.sin(a),y:i+s-s*(1-Math.cos(a))}}else return{x:Math.pow(1-e,2)*this.fromPoint.x+2*e*(1-e)*r.x+Math.pow(e,2)*this.toPoint.x,y:Math.pow(1-e,2)*this.fromPoint.y+2*e*(1-e)*r.y+Math.pow(e,2)*this.toPoint.y}}_findBorderPosition(e,r){return this._findBorderPositionBezier(e,r,this.via)}_getDistanceToEdge(e,r,n,i,s,a){return this._getDistanceToBezierEdge(e,r,n,i,s,a,this.via)}}class jU extends kT{constructor(e,r,n){super(e,r,n)}_line(e,r,n){this._bezierCurve(e,r,n)}getViaNode(){return this._getViaCoordinates()}_getViaCoordinates(){const e=this.options.smooth.roundness,r=this.options.smooth.type;let n=Math.abs(this.from.x-this.to.x),i=Math.abs(this.from.y-this.to.y);if(r==="discrete"||r==="diagonalCross"){let s,a;n<=i?s=a=e*i:s=a=e*n,this.from.x>this.to.x&&(s=-s),this.from.y>=this.to.y&&(a=-a);let o=this.from.x+s,u=this.from.y+a;return r==="discrete"&&(n<=i?o=n<e*i?this.from.x:o:u=i<e*n?this.from.y:u),{x:o,y:u}}else if(r==="straightCross"){let s=(1-e)*n,a=(1-e)*i;return n<=i?(s=0,this.from.y<this.to.y&&(a=-a)):(this.from.x<this.to.x&&(s=-s),a=0),{x:this.to.x+s,y:this.to.y+a}}else if(r==="horizontal"){let s=(1-e)*n;return this.from.x<this.to.x&&(s=-s),{x:this.to.x+s,y:this.from.y}}else if(r==="vertical"){let s=(1-e)*i;return this.from.y<this.to.y&&(s=-s),{x:this.from.x,y:this.to.y+s}}else if(r==="curvedCW"){n=this.to.x-this.from.x,i=this.from.y-this.to.y;const s=Math.sqrt(n*n+i*i),a=Math.PI,u=(Math.atan2(i,n)+(e*.5+.5)*a)%(2*a);return{x:this.from.x+(e*.5+.5)*s*Math.sin(u),y:this.from.y+(e*.5+.5)*s*Math.cos(u)}}else if(r==="curvedCCW"){n=this.to.x-this.from.x,i=this.from.y-this.to.y;const s=Math.sqrt(n*n+i*i),a=Math.PI,u=(Math.atan2(i,n)+(-e*.5+.5)*a)%(2*a);return{x:this.from.x+(e*.5+.5)*s*Math.sin(u),y:this.from.y+(e*.5+.5)*s*Math.cos(u)}}else{let s,a;n<=i?s=a=e*i:s=a=e*n,this.from.x>this.to.x&&(s=-s),this.from.y>=this.to.y&&(a=-a);let o=this.from.x+s,u=this.from.y+a;return n<=i?this.from.x<=this.to.x?o=this.to.x<o?this.to.x:o:o=this.to.x>o?this.to.x:o:this.from.y>=this.to.y?u=this.to.y>u?this.to.y:u:u=this.to.y<u?this.to.y:u,{x:o,y:u}}}_findBorderPosition(e,r){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this._findBorderPositionBezier(e,r,n.via)}_getDistanceToEdge(e,r,n,i,s,a){let o=arguments.length>6&&arguments[6]!==void 0?arguments[6]:this._getViaCoordinates();return this._getDistanceToBezierEdge(e,r,n,i,s,a,o)}getPoint(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this._getViaCoordinates();const n=e,i=Math.pow(1-n,2)*this.fromPoint.x+2*n*(1-n)*r.x+Math.pow(n,2)*this.toPoint.x,s=Math.pow(1-n,2)*this.fromPoint.y+2*n*(1-n)*r.y+Math.pow(n,2)*this.toPoint.y;return{x:i,y:s}}}class zbe extends kT{constructor(e,r,n){super(e,r,n)}_getDistanceToBezierEdge2(e,r,n,i,s,a,o,u){let c=1e9,d=e,h=r;const f=[0,0,0,0];for(let p=1;p<10;p++){const v=.1*p;f[0]=Math.pow(1-v,3),f[1]=3*v*Math.pow(1-v,2),f[2]=3*Math.pow(v,2)*(1-v),f[3]=Math.pow(v,3);const y=f[0]*e+f[1]*o.x+f[2]*u.x+f[3]*n,x=f[0]*r+f[1]*o.y+f[2]*u.y+f[3]*i;if(p>0){const g=this._getDistanceToLine(d,h,y,x,s,a);c=g<c?g:c}d=y,h=x}return c}}class CU extends zbe{constructor(e,r,n){super(e,r,n)}_line(e,r,n){const i=n[0],s=n[1];this._bezierCurve(e,r,i,s)}_getViaCoordinates(){const e=this.from.x-this.to.x,r=this.from.y-this.to.y;let n,i,s,a;const o=this.options.smooth.roundness;return(Math.abs(e)>Math.abs(r)||this.options.smooth.forceDirection===!0||this.options.smooth.forceDirection==="horizontal")&&this.options.smooth.forceDirection!=="vertical"?(i=this.from.y,a=this.to.y,n=this.from.x-o*e,s=this.to.x+o*e):(i=this.from.y-o*r,a=this.to.y+o*r,n=this.from.x,s=this.to.x),[{x:n,y:i},{x:s,y:a}]}getViaNode(){return this._getViaCoordinates()}_findBorderPosition(e,r){return this._findBorderPositionBezier(e,r)}_getDistanceToEdge(e,r,n,i,s,a){let[o,u]=arguments.length>6&&arguments[6]!==void 0?arguments[6]:this._getViaCoordinates();return this._getDistanceToBezierEdge2(e,r,n,i,s,a,o,u)}getPoint(e){let[r,n]=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this._getViaCoordinates();const i=e,s=[Math.pow(1-i,3),3*i*Math.pow(1-i,2),3*Math.pow(i,2)*(1-i),Math.pow(i,3)],a=s[0]*this.fromPoint.x+s[1]*r.x+s[2]*n.x+s[3]*this.toPoint.x,o=s[0]*this.fromPoint.y+s[1]*r.y+s[2]*n.y+s[3]*this.toPoint.y;return{x:a,y:o}}}class OU extends GQ{constructor(e,r,n){super(e,r,n)}_line(e,r){e.beginPath(),e.moveTo(this.fromPoint.x,this.fromPoint.y),e.lineTo(this.toPoint.x,this.toPoint.y),this.enableShadow(e,r),e.stroke(),this.disableShadow(e,r)}getViaNode(){}getPoint(e){return{x:(1-e)*this.fromPoint.x+e*this.toPoint.x,y:(1-e)*this.fromPoint.y+e*this.toPoint.y}}_findBorderPosition(e,r){let n=this.to,i=this.from;e.id===this.from.id&&(n=this.from,i=this.to);const s=Math.atan2(n.y-i.y,n.x-i.x),a=n.x-i.x,o=n.y-i.y,u=Math.sqrt(a*a+o*o),c=e.distanceToBorder(r,s),d=(u-c)/u;return{x:(1-d)*i.x+d*n.x,y:(1-d)*i.y+d*n.y,t:0}}_getDistanceToEdge(e,r,n,i,s,a){return this._getDistanceToLine(e,r,n,i,s,a)}}class _a{constructor(e,r,n,i,s){if(r===void 0)throw new Error("No body provided");this.options=wa(i),this.globalOptions=i,this.defaultOptions=s,this.body=r,this.imagelist=n,this.id=void 0,this.fromId=void 0,this.toId=void 0,this.selected=!1,this.hover=!1,this.labelDirty=!0,this.baseWidth=this.options.width,this.baseFontSize=this.options.font.size,this.from=void 0,this.to=void 0,this.edgeType=void 0,this.connected=!1,this.labelModule=new Gl(this.body,this.options,!0),this.setOptions(e)}setOptions(e){if(!e)return;let r=typeof e.physics<"u"&&this.options.physics!==e.physics||typeof e.hidden<"u"&&(this.options.hidden||!1)!==(e.hidden||!1)||typeof e.from<"u"&&this.options.from!==e.from||typeof e.to<"u"&&this.options.to!==e.to;_a.parseOptions(this.options,e,!0,this.globalOptions),e.id!==void 0&&(this.id=e.id),e.from!==void 0&&(this.fromId=e.from),e.to!==void 0&&(this.toId=e.to),e.title!==void 0&&(this.title=e.title),e.value!==void 0&&(e.value=WQ(e.value));const n=[e,this.options,this.defaultOptions];return this.chooser=RT("edge",n),this.updateLabelModule(e),r=this.updateEdgeType()||r,this._setInteractionWidths(),this.connect(),r}static parseOptions(e,r){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1;if(fc(["endPointOffset","arrowStrikethrough","id","from","hidden","hoverWidth","labelHighlightBold","length","line","opacity","physics","scaling","selectionWidth","selfReferenceSize","selfReference","to","title","value","width","font","chosen","widthConstraint"],e,r,n),r.endPointOffset!==void 0&&r.endPointOffset.from!==void 0&&(ro(r.endPointOffset.from)?e.endPointOffset.from=r.endPointOffset.from:(e.endPointOffset.from=i.endPointOffset.from!==void 0?i.endPointOffset.from:0,console.error("endPointOffset.from is not a valid number"))),r.endPointOffset!==void 0&&r.endPointOffset.to!==void 0&&(ro(r.endPointOffset.to)?e.endPointOffset.to=r.endPointOffset.to:(e.endPointOffset.to=i.endPointOffset.to!==void 0?i.endPointOffset.to:0,console.error("endPointOffset.to is not a valid number"))),zp(r.label)?e.label=r.label:zp(e.label)||(e.label=void 0),Fn(e,r,"smooth",i),Fn(e,r,"shadow",i),Fn(e,r,"background",i),r.dashes!==void 0&&r.dashes!==null?e.dashes=r.dashes:n===!0&&r.dashes===null&&(e.dashes=xo(i.dashes)),r.scaling!==void 0&&r.scaling!==null?(r.scaling.min!==void 0&&(e.scaling.min=r.scaling.min),r.scaling.max!==void 0&&(e.scaling.max=r.scaling.max),Fn(e.scaling,r.scaling,"label",i.scaling)):n===!0&&r.scaling===null&&(e.scaling=xo(i.scaling)),r.arrows!==void 0&&r.arrows!==null)if(typeof r.arrows=="string"){const o=r.arrows.toLowerCase();e.arrows.to.enabled=ct(o).call(o,"to")!=-1,e.arrows.middle.enabled=ct(o).call(o,"middle")!=-1,e.arrows.from.enabled=ct(o).call(o,"from")!=-1}else if(typeof r.arrows=="object")Fn(e.arrows,r.arrows,"to",i.arrows),Fn(e.arrows,r.arrows,"middle",i.arrows),Fn(e.arrows,r.arrows,"from",i.arrows);else throw new Error("The arrow newOptions can only be an object or a string. Refer to the documentation. You used:"+Rh(r.arrows));else n===!0&&r.arrows===null&&(e.arrows=xo(i.arrows));if(r.color!==void 0&&r.color!==null){const o=Hl(r.color)?{color:r.color,highlight:r.color,hover:r.color,inherit:!1,opacity:1}:r.color,u=e.color;if(s)yt(u,i.color,!1,n);else for(const c in u)Object.prototype.hasOwnProperty.call(u,c)&&delete u[c];if(Hl(u))u.color=u,u.highlight=u,u.hover=u,u.inherit=!1,o.opacity===void 0&&(u.opacity=1);else{let c=!1;o.color!==void 0&&(u.color=o.color,c=!0),o.highlight!==void 0&&(u.highlight=o.highlight,c=!0),o.hover!==void 0&&(u.hover=o.hover,c=!0),o.inherit!==void 0&&(u.inherit=o.inherit),o.opacity!==void 0&&(u.opacity=Math.min(1,Math.max(0,o.opacity))),c===!0?u.inherit=!1:u.inherit===void 0&&(u.inherit="from")}}else n===!0&&r.color===null&&(e.color=wa(i.color));n===!0&&r.font===null&&(e.font=wa(i.font)),Object.prototype.hasOwnProperty.call(r,"selfReferenceSize")&&(console.warn("The selfReferenceSize property has been deprecated. Please use selfReference property instead. The selfReference can be set like thise selfReference:{size:30, angle:Math.PI / 4}"),e.selfReference.size=r.selfReferenceSize)}getFormattingValues(){const e=this.options.arrows.to===!0||this.options.arrows.to.enabled===!0,r=this.options.arrows.from===!0||this.options.arrows.from.enabled===!0,n=this.options.arrows.middle===!0||this.options.arrows.middle.enabled===!0,i=this.options.color.inherit,s={toArrow:e,toArrowScale:this.options.arrows.to.scaleFactor,toArrowType:this.options.arrows.to.type,toArrowSrc:this.options.arrows.to.src,toArrowImageWidth:this.options.arrows.to.imageWidth,toArrowImageHeight:this.options.arrows.to.imageHeight,middleArrow:n,middleArrowScale:this.options.arrows.middle.scaleFactor,middleArrowType:this.options.arrows.middle.type,middleArrowSrc:this.options.arrows.middle.src,middleArrowImageWidth:this.options.arrows.middle.imageWidth,middleArrowImageHeight:this.options.arrows.middle.imageHeight,fromArrow:r,fromArrowScale:this.options.arrows.from.scaleFactor,fromArrowType:this.options.arrows.from.type,fromArrowSrc:this.options.arrows.from.src,fromArrowImageWidth:this.options.arrows.from.imageWidth,fromArrowImageHeight:this.options.arrows.from.imageHeight,arrowStrikethrough:this.options.arrowStrikethrough,color:i?void 0:this.options.color.color,inheritsColor:i,opacity:this.options.color.opacity,hidden:this.options.hidden,length:this.options.length,shadow:this.options.shadow.enabled,shadowColor:this.options.shadow.color,shadowSize:this.options.shadow.size,shadowX:this.options.shadow.x,shadowY:this.options.shadow.y,dashes:this.options.dashes,width:this.options.width,background:this.options.background.enabled,backgroundColor:this.options.background.color,backgroundSize:this.options.background.size,backgroundDashes:this.options.background.dashes};if(this.selected||this.hover)if(this.chooser===!0){if(this.selected){const a=this.options.selectionWidth;typeof a=="function"?s.width=a(s.width):typeof a=="number"&&(s.width+=a),s.width=Math.max(s.width,.3/this.body.view.scale),s.color=this.options.color.highlight,s.shadow=this.options.shadow.enabled}else if(this.hover){const a=this.options.hoverWidth;typeof a=="function"?s.width=a(s.width):typeof a=="number"&&(s.width+=a),s.width=Math.max(s.width,.3/this.body.view.scale),s.color=this.options.color.hover,s.shadow=this.options.shadow.enabled}}else typeof this.chooser=="function"&&(this.chooser(s,this.options.id,this.selected,this.hover),s.color!==void 0&&(s.inheritsColor=!1),s.shadow===!1&&(s.shadowColor!==this.options.shadow.color||s.shadowSize!==this.options.shadow.size||s.shadowX!==this.options.shadow.x||s.shadowY!==this.options.shadow.y)&&(s.shadow=!0));else s.shadow=this.options.shadow.enabled,s.width=Math.max(s.width,.3/this.body.view.scale);return s}updateLabelModule(e){const r=[e,this.options,this.globalOptions,this.defaultOptions];this.labelModule.update(this.options,r),this.labelModule.baseSize!==void 0&&(this.baseFontSize=this.labelModule.baseSize)}updateEdgeType(){const e=this.options.smooth;let r=!1,n=!0;return this.edgeType!==void 0&&((this.edgeType instanceof NU&&e.enabled===!0&&e.type==="dynamic"||this.edgeType instanceof CU&&e.enabled===!0&&e.type==="cubicBezier"||this.edgeType instanceof jU&&e.enabled===!0&&e.type!=="dynamic"&&e.type!=="cubicBezier"||this.edgeType instanceof OU&&e.type.enabled===!1)&&(n=!1),n===!0&&(r=this.cleanup())),n===!0?e.enabled===!0?e.type==="dynamic"?(r=!0,this.edgeType=new NU(this.options,this.body,this.labelModule)):e.type==="cubicBezier"?this.edgeType=new CU(this.options,this.body,this.labelModule):this.edgeType=new jU(this.options,this.body,this.labelModule):this.edgeType=new OU(this.options,this.body,this.labelModule):this.edgeType.setOptions(this.options),r}connect(){this.disconnect(),this.from=this.body.nodes[this.fromId]||void 0,this.to=this.body.nodes[this.toId]||void 0,this.connected=this.from!==void 0&&this.to!==void 0,this.connected===!0?(this.from.attachEdge(this),this.to.attachEdge(this)):(this.from&&this.from.detachEdge(this),this.to&&this.to.detachEdge(this)),this.edgeType.connect()}disconnect(){this.from&&(this.from.detachEdge(this),this.from=void 0),this.to&&(this.to.detachEdge(this),this.to=void 0),this.connected=!1}getTitle(){return this.title}isSelected(){return this.selected}getValue(){return this.options.value}setValueRange(e,r,n){if(this.options.value!==void 0){const i=this.options.scaling.customScalingFunction(e,r,n,this.options.value),s=this.options.scaling.max-this.options.scaling.min;if(this.options.scaling.label.enabled===!0){const a=this.options.scaling.label.max-this.options.scaling.label.min;this.options.font.size=this.options.scaling.label.min+i*a}this.options.width=this.options.scaling.min+i*s}else this.options.width=this.baseWidth,this.options.font.size=this.baseFontSize;this._setInteractionWidths(),this.updateLabelModule()}_setInteractionWidths(){typeof this.options.hoverWidth=="function"?this.edgeType.hoverWidth=this.options.hoverWidth(this.options.width):this.edgeType.hoverWidth=this.options.hoverWidth+this.options.width,typeof this.options.selectionWidth=="function"?this.edgeType.selectionWidth=this.options.selectionWidth(this.options.width):this.edgeType.selectionWidth=this.options.selectionWidth+this.options.width}draw(e){const r=this.getFormattingValues();if(r.hidden)return;const n=this.edgeType.getViaNode();this.edgeType.drawLine(e,r,this.selected,this.hover,n),this.drawLabel(e,n)}drawArrows(e){const r=this.getFormattingValues();if(r.hidden)return;const n=this.edgeType.getViaNode(),i={};this.edgeType.fromPoint=this.edgeType.from,this.edgeType.toPoint=this.edgeType.to,r.fromArrow&&(i.from=this.edgeType.getArrowData(e,"from",n,this.selected,this.hover,r),r.arrowStrikethrough===!1&&(this.edgeType.fromPoint=i.from.core),r.fromArrowSrc&&(i.from.image=this.imagelist.load(r.fromArrowSrc)),r.fromArrowImageWidth&&(i.from.imageWidth=r.fromArrowImageWidth),r.fromArrowImageHeight&&(i.from.imageHeight=r.fromArrowImageHeight)),r.toArrow&&(i.to=this.edgeType.getArrowData(e,"to",n,this.selected,this.hover,r),r.arrowStrikethrough===!1&&(this.edgeType.toPoint=i.to.core),r.toArrowSrc&&(i.to.image=this.imagelist.load(r.toArrowSrc)),r.toArrowImageWidth&&(i.to.imageWidth=r.toArrowImageWidth),r.toArrowImageHeight&&(i.to.imageHeight=r.toArrowImageHeight)),r.middleArrow&&(i.middle=this.edgeType.getArrowData(e,"middle",n,this.selected,this.hover,r),r.middleArrowSrc&&(i.middle.image=this.imagelist.load(r.middleArrowSrc)),r.middleArrowImageWidth&&(i.middle.imageWidth=r.middleArrowImageWidth),r.middleArrowImageHeight&&(i.middle.imageHeight=r.middleArrowImageHeight)),r.fromArrow&&this.edgeType.drawArrowHead(e,r,this.selected,this.hover,i.from),r.middleArrow&&this.edgeType.drawArrowHead(e,r,this.selected,this.hover,i.middle),r.toArrow&&this.edgeType.drawArrowHead(e,r,this.selected,this.hover,i.to)}drawLabel(e,r){if(this.options.label!==void 0){const n=this.from,i=this.to;this.labelModule.differentState(this.selected,this.hover)&&this.labelModule.getTextSize(e,this.selected,this.hover);let s;if(n.id!=i.id){this.labelModule.pointToSelf=!1,s=this.edgeType.getPoint(.5,r),e.save();const a=this._getRotation(e);a.angle!=0&&(e.translate(a.x,a.y),e.rotate(a.angle)),this.labelModule.draw(e,s.x,s.y,this.selected,this.hover),e.restore()}else{this.labelModule.pointToSelf=!0;const a=VQ(e,this.options.selfReference.angle,this.options.selfReference.size,n);s=this._pointOnCircle(a.x,a.y,this.options.selfReference.size,this.options.selfReference.angle),this.labelModule.draw(e,s.x,s.y,this.selected,this.hover)}}}getItemsOnPoint(e){const r=[];if(this.labelModule.visible()){const i=this._getRotation();iC(this.labelModule.getSize(),e,i)&&r.push({edgeId:this.id,labelId:0})}const n={left:e.x,top:e.y};return this.isOverlappingWith(n)&&r.push({edgeId:this.id}),r}isOverlappingWith(e){if(this.connected){const n=this.from.x,i=this.from.y,s=this.to.x,a=this.to.y,o=e.left,u=e.top;return this.edgeType.getDistanceToEdge(n,i,s,a,o,u)<10}else return!1}_getRotation(e){const r=this.edgeType.getViaNode(),n=this.edgeType.getPoint(.5,r);e!==void 0&&this.labelModule.calculateLabelSize(e,this.selected,this.hover,n.x,n.y);const i={x:n.x,y:this.labelModule.size.yLine,angle:0};if(!this.labelModule.visible()||this.options.font.align==="horizontal")return i;const s=this.from.y-this.to.y,a=this.from.x-this.to.x;let o=Math.atan2(s,a);return(o<-1&&a<0||o>0&&a<0)&&(o+=Math.PI),i.angle=o,i}_pointOnCircle(e,r,n,i){return{x:e+n*Math.cos(i),y:r-n*Math.sin(i)}}select(){this.selected=!0}unselect(){this.selected=!1}cleanup(){return this.edgeType.cleanup()}remove(){this.cleanup(),this.disconnect(),delete this.body.edges[this.id]}endPointsValid(){return this.body.nodes[this.fromId]!==void 0&&this.body.nodes[this.toId]!==void 0}}class Ube{constructor(e,r,n){var i;this.body=e,this.images=r,this.groups=n,this.body.functions.createEdge=re(i=this.create).call(i,this),this.edgesListeners={add:(s,a)=>{this.add(a.items)},update:(s,a)=>{this.update(a.items)},remove:(s,a)=>{this.remove(a.items)}},this.options={},this.defaultOptions={arrows:{to:{enabled:!1,scaleFactor:1,type:"arrow"},middle:{enabled:!1,scaleFactor:1,type:"arrow"},from:{enabled:!1,scaleFactor:1,type:"arrow"}},endPointOffset:{from:0,to:0},arrowStrikethrough:!0,color:{color:"#848484",highlight:"#848484",hover:"#848484",inherit:"from",opacity:1},dashes:!1,font:{color:"#343434",size:14,face:"arial",background:"none",strokeWidth:2,strokeColor:"#ffffff",align:"horizontal",multi:!1,vadjust:0,bold:{mod:"bold"},boldital:{mod:"bold italic"},ital:{mod:"italic"},mono:{mod:"",size:15,face:"courier new",vadjust:2}},hidden:!1,hoverWidth:1.5,label:void 0,labelHighlightBold:!0,length:void 0,physics:!0,scaling:{min:1,max:15,label:{enabled:!0,min:14,max:30,maxVisible:30,drawThreshold:5},customScalingFunction:function(s,a,o,u){if(a===s)return .5;{const c=1/(a-s);return Math.max(0,(u-s)*c)}}},selectionWidth:1.5,selfReference:{size:20,angle:Math.PI/4,renderBehindTheNode:!0},shadow:{enabled:!1,color:"rgba(0,0,0,0.5)",size:10,x:5,y:5},background:{enabled:!1,color:"rgba(111,111,111,1)",size:10,dashes:!1},smooth:{enabled:!0,type:"dynamic",forceDirection:"none",roundness:.5},title:void 0,width:1,value:void 0},yt(this.options,this.defaultOptions),this.bindEventListeners()}bindEventListeners(){var e=this,r,n;this.body.emitter.on("_forceDisableDynamicCurves",function(i){let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;i==="dynamic"&&(i="continuous");let a=!1;for(const o in e.body.edges)if(Object.prototype.hasOwnProperty.call(e.body.edges,o)){const u=e.body.edges[o],c=e.body.data.edges.get(o);if(c!=null){const d=c.smooth;d!==void 0&&d.enabled===!0&&d.type==="dynamic"&&(i===void 0?u.setOptions({smooth:!1}):u.setOptions({smooth:{type:i}}),a=!0)}}s===!0&&a===!0&&e.body.emitter.emit("_dataChanged")}),this.body.emitter.on("_dataUpdated",()=>{this.reconnectEdges()}),this.body.emitter.on("refreshEdges",re(r=this.refresh).call(r,this)),this.body.emitter.on("refresh",re(n=this.refresh).call(n,this)),this.body.emitter.on("destroy",()=>{We(this.edgesListeners,(i,s)=>{this.body.data.edges&&this.body.data.edges.off(s,i)}),delete this.body.functions.createEdge,delete this.edgesListeners.add,delete this.edgesListeners.update,delete this.edgesListeners.remove,delete this.edgesListeners})}setOptions(e){if(e!==void 0){_a.parseOptions(this.options,e,!0,this.defaultOptions,!0);let r=!1;if(e.smooth!==void 0)for(const n in this.body.edges)Object.prototype.hasOwnProperty.call(this.body.edges,n)&&(r=this.body.edges[n].updateEdgeType()||r);if(e.font!==void 0)for(const n in this.body.edges)Object.prototype.hasOwnProperty.call(this.body.edges,n)&&this.body.edges[n].updateLabelModule();(e.hidden!==void 0||e.physics!==void 0||r===!0)&&this.body.emitter.emit("_dataChanged")}}setData(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;const n=this.body.data.edges;if(SY("id",e))this.body.data.edges=e;else if(Vt(e))this.body.data.edges=new Cu,this.body.data.edges.add(e);else if(!e)this.body.data.edges=new Cu;else throw new TypeError("Array or DataSet expected");if(n&&We(this.edgesListeners,(i,s)=>{n.off(s,i)}),this.body.edges={},this.body.data.edges){We(this.edgesListeners,(s,a)=>{this.body.data.edges.on(a,s)});const i=this.body.data.edges.getIds();this.add(i,!0)}this.body.emitter.emit("_adjustEdgesForHierarchicalLayout"),r===!1&&this.body.emitter.emit("_dataChanged")}add(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;const n=this.body.edges,i=this.body.data.edges;for(let s=0;s<e.length;s++){const a=e[s],o=n[a];o&&o.disconnect();const u=i.get(a,{showInternalIds:!0});n[a]=this.create(u)}this.body.emitter.emit("_adjustEdgesForHierarchicalLayout"),r===!1&&this.body.emitter.emit("_dataChanged")}update(e){const r=this.body.edges,n=this.body.data.edges;let i=!1;for(let s=0;s<e.length;s++){const a=e[s],o=n.get(a),u=r[a];u!==void 0?(u.disconnect(),i=u.setOptions(o)||i,u.connect()):(this.body.edges[a]=this.create(o),i=!0)}i===!0?(this.body.emitter.emit("_adjustEdgesForHierarchicalLayout"),this.body.emitter.emit("_dataChanged")):this.body.emitter.emit("_dataUpdated")}remove(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(e.length===0)return;const n=this.body.edges;We(e,i=>{const s=n[i];s!==void 0&&s.remove()}),r&&this.body.emitter.emit("_dataChanged")}refresh(){We(this.body.edges,(e,r)=>{const n=this.body.data.edges.get(r);n!==void 0&&e.setOptions(n)})}create(e){return new _a(e,this.body,this.images,this.options,this.defaultOptions)}reconnectEdges(){let e;const r=this.body.nodes,n=this.body.edges;for(e in r)Object.prototype.hasOwnProperty.call(r,e)&&(r[e].edges=[]);for(e in n)if(Object.prototype.hasOwnProperty.call(n,e)){const i=n[e];i.from=null,i.to=null,i.connect()}}getConnectedNodes(e){const r=[];if(this.body.edges[e]!==void 0){const n=this.body.edges[e];n.fromId!==void 0&&r.push(n.fromId),n.toId!==void 0&&r.push(n.toId)}return r}_updateState(){this._addMissingEdges(),this._removeInvalidEdges()}_removeInvalidEdges(){const e=[];We(this.body.edges,(r,n)=>{const i=this.body.nodes[r.toId],s=this.body.nodes[r.fromId];i!==void 0&&i.isCluster===!0||s!==void 0&&s.isCluster===!0||(i===void 0||s===void 0)&&e.push(n)}),this.remove(e,!1)}_addMissingEdges(){const e=this.body.data.edges;if(e==null)return;const r=this.body.edges,n=[];pt(e).call(e,(i,s)=>{r[s]===void 0&&n.push(s)}),this.add(n,!0)}}class YQ{constructor(e,r,n){this.body=e,this.physicsBody=r,this.barnesHutTree,this.setOptions(n),this._rng=Km("BARNES HUT SOLVER")}setOptions(e){this.options=e,this.thetaInversed=1/this.options.theta,this.overlapAvoidanceFactor=1-Math.max(0,Math.min(1,this.options.avoidOverlap))}solve(){if(this.options.gravitationalConstant!==0&&this.physicsBody.physicsNodeIndices.length>0){let e;const r=this.body.nodes,n=this.physicsBody.physicsNodeIndices,i=n.length,s=this._formBarnesHutTree(r,n);this.barnesHutTree=s;for(let a=0;a<i;a++)e=r[n[a]],e.options.mass>0&&this._getForceContributions(s.root,e)}}_getForceContributions(e,r){this._getForceContribution(e.children.NW,r),this._getForceContribution(e.children.NE,r),this._getForceContribution(e.children.SW,r),this._getForceContribution(e.children.SE,r)}_getForceContribution(e,r){if(e.childrenCount>0){const n=e.centerOfMass.x-r.x,i=e.centerOfMass.y-r.y,s=Math.sqrt(n*n+i*i);s*e.calcSize>this.thetaInversed?this._calculateForces(s,n,i,r,e):e.childrenCount===4?this._getForceContributions(e,r):e.children.data.id!=r.id&&this._calculateForces(s,n,i,r,e)}}_calculateForces(e,r,n,i,s){e===0&&(e=.1,r=e),this.overlapAvoidanceFactor<1&&i.shape.radius&&(e=Math.max(.1+this.overlapAvoidanceFactor*i.shape.radius,e-i.shape.radius));const a=this.options.gravitationalConstant*s.mass*i.options.mass/Math.pow(e,3),o=r*a,u=n*a;this.physicsBody.forces[i.id].x+=o,this.physicsBody.forces[i.id].y+=u}_formBarnesHutTree(e,r){let n;const i=r.length;let s=e[r[0]].x,a=e[r[0]].y,o=e[r[0]].x,u=e[r[0]].y;for(let x=1;x<i;x++){const g=e[r[x]],m=g.x,w=g.y;g.options.mass>0&&(m<s&&(s=m),m>o&&(o=m),w<a&&(a=w),w>u&&(u=w))}const c=Math.abs(o-s)-Math.abs(u-a);c>0?(a-=.5*c,u+=.5*c):(s+=.5*c,o-=.5*c);const h=Math.max(1e-5,Math.abs(o-s)),f=.5*h,p=.5*(s+o),v=.5*(a+u),y={root:{centerOfMass:{x:0,y:0},mass:0,range:{minX:p-f,maxX:p+f,minY:v-f,maxY:v+f},size:h,calcSize:1/h,children:{data:null},maxWidth:0,level:0,childrenCount:4}};this._splitBranch(y.root);for(let x=0;x<i;x++)n=e[r[x]],n.options.mass>0&&this._placeInTree(y.root,n);return y}_updateBranchMass(e,r){const n=e.centerOfMass,i=e.mass+r.options.mass,s=1/i;n.x=n.x*e.mass+r.x*r.options.mass,n.x*=s,n.y=n.y*e.mass+r.y*r.options.mass,n.y*=s,e.mass=i;const a=Math.max(Math.max(r.height,r.radius),r.width);e.maxWidth=e.maxWidth<a?a:e.maxWidth}_placeInTree(e,r,n){(n!=!0||n===void 0)&&this._updateBranchMass(e,r);const i=e.children.NW.range;let s;i.maxX>r.x?i.maxY>r.y?s="NW":s="SW":i.maxY>r.y?s="NE":s="SE",this._placeInRegion(e,r,s)}_placeInRegion(e,r,n){const i=e.children[n];switch(i.childrenCount){case 0:i.children.data=r,i.childrenCount=1,this._updateBranchMass(i,r);break;case 1:i.children.data.x===r.x&&i.children.data.y===r.y?(r.x+=this._rng(),r.y+=this._rng()):(this._splitBranch(i),this._placeInTree(i,r));break;case 4:this._placeInTree(i,r);break}}_splitBranch(e){let r=null;e.childrenCount===1&&(r=e.children.data,e.mass=0,e.centerOfMass.x=0,e.centerOfMass.y=0),e.childrenCount=4,e.children.data=null,this._insertRegion(e,"NW"),this._insertRegion(e,"NE"),this._insertRegion(e,"SW"),this._insertRegion(e,"SE"),r!=null&&this._placeInTree(e,r)}_insertRegion(e,r){let n,i,s,a;const o=.5*e.size;switch(r){case"NW":n=e.range.minX,i=e.range.minX+o,s=e.range.minY,a=e.range.minY+o;break;case"NE":n=e.range.minX+o,i=e.range.maxX,s=e.range.minY,a=e.range.minY+o;break;case"SW":n=e.range.minX,i=e.range.minX+o,s=e.range.minY+o,a=e.range.maxY;break;case"SE":n=e.range.minX+o,i=e.range.maxX,s=e.range.minY+o,a=e.range.maxY;break}e.children[r]={centerOfMass:{x:0,y:0},mass:0,range:{minX:n,maxX:i,minY:s,maxY:a},size:.5*e.size,calcSize:2*e.calcSize,children:{data:null},maxWidth:0,level:e.level+1,childrenCount:0}}_debug(e,r){this.barnesHutTree!==void 0&&(e.lineWidth=1,this._drawBranch(this.barnesHutTree.root,e,r))}_drawBranch(e,r,n){n===void 0&&(n="#FF0000"),e.childrenCount===4&&(this._drawBranch(e.children.NW,r),this._drawBranch(e.children.NE,r),this._drawBranch(e.children.SE,r),this._drawBranch(e.children.SW,r)),r.strokeStyle=n,r.beginPath(),r.moveTo(e.range.minX,e.range.minY),r.lineTo(e.range.maxX,e.range.minY),r.stroke(),r.beginPath(),r.moveTo(e.range.maxX,e.range.minY),r.lineTo(e.range.maxX,e.range.maxY),r.stroke(),r.beginPath(),r.moveTo(e.range.maxX,e.range.maxY),r.lineTo(e.range.minX,e.range.maxY),r.stroke(),r.beginPath(),r.moveTo(e.range.minX,e.range.maxY),r.lineTo(e.range.minX,e.range.minY),r.stroke()}}class Wbe{constructor(e,r,n){this._rng=Km("REPULSION SOLVER"),this.body=e,this.physicsBody=r,this.setOptions(n)}setOptions(e){this.options=e}solve(){let e,r,n,i,s,a,o,u;const c=this.body.nodes,d=this.physicsBody.physicsNodeIndices,h=this.physicsBody.forces,f=this.options.nodeDistance,p=-2/3/f,v=4/3;for(let y=0;y<d.length-1;y++){o=c[d[y]];for(let x=y+1;x<d.length;x++)u=c[d[x]],e=u.x-o.x,r=u.y-o.y,n=Math.sqrt(e*e+r*r),n===0&&(n=.1*this._rng(),e=n),n<2*f&&(n<.5*f?a=1:a=p*n+v,a=a/n,i=e*a,s=r*a,h[o.id].x-=i,h[o.id].y-=s,h[u.id].x+=i,h[u.id].y+=s)}}}class Vbe{constructor(e,r,n){this.body=e,this.physicsBody=r,this.setOptions(n)}setOptions(e){this.options=e,this.overlapAvoidanceFactor=Math.max(0,Math.min(1,this.options.avoidOverlap||0))}solve(){const e=this.body.nodes,r=this.physicsBody.physicsNodeIndices,n=this.physicsBody.forces,i=this.options.nodeDistance;for(let s=0;s<r.length-1;s++){const a=e[r[s]];for(let o=s+1;o<r.length;o++){const u=e[r[o]];if(a.level===u.level){const c=i+this.overlapAvoidanceFactor*((a.shape.radius||0)/2+(u.shape.radius||0)/2),d=u.x-a.x,h=u.y-a.y,f=Math.sqrt(d*d+h*h),p=.05;let v;f<c?v=-Math.pow(p*f,2)+Math.pow(p*c,2):v=0,f!==0&&(v=v/f);const y=d*v,x=h*v;n[a.id].x-=y,n[a.id].y-=x,n[u.id].x+=y,n[u.id].y+=x}}}}}class vN{constructor(e,r,n){this.body=e,this.physicsBody=r,this.setOptions(n)}setOptions(e){this.options=e}solve(){let e,r;const n=this.physicsBody.physicsEdgeIndices,i=this.body.edges;let s,a,o;for(let u=0;u<n.length;u++)r=i[n[u]],r.connected===!0&&r.toId!==r.fromId&&this.body.nodes[r.toId]!==void 0&&this.body.nodes[r.fromId]!==void 0&&(r.edgeType.via!==void 0?(e=r.options.length===void 0?this.options.springLength:r.options.length,s=r.to,a=r.edgeType.via,o=r.from,this._calculateSpringForce(s,a,.5*e),this._calculateSpringForce(a,o,.5*e)):(e=r.options.length===void 0?this.options.springLength*1.5:r.options.length,this._calculateSpringForce(r.from,r.to,e)))}_calculateSpringForce(e,r,n){const i=e.x-r.x,s=e.y-r.y,a=Math.max(Math.sqrt(i*i+s*s),.01),o=this.options.springConstant*(n-a)/a,u=i*o,c=s*o;this.physicsBody.forces[e.id]!==void 0&&(this.physicsBody.forces[e.id].x+=u,this.physicsBody.forces[e.id].y+=c),this.physicsBody.forces[r.id]!==void 0&&(this.physicsBody.forces[r.id].x-=u,this.physicsBody.forces[r.id].y-=c)}}class Hbe{constructor(e,r,n){this.body=e,this.physicsBody=r,this.setOptions(n)}setOptions(e){this.options=e}solve(){let e,r,n,i,s,a,o,u;const c=this.body.edges,d=.5,h=this.physicsBody.physicsEdgeIndices,f=this.physicsBody.physicsNodeIndices,p=this.physicsBody.forces;for(let b=0;b<f.length;b++){const _=f[b];p[_].springFx=0,p[_].springFy=0}for(let b=0;b<h.length;b++)r=c[h[b]],r.connected===!0&&(e=r.options.length===void 0?this.options.springLength:r.options.length,n=r.from.x-r.to.x,i=r.from.y-r.to.y,u=Math.sqrt(n*n+i*i),u=u===0?.01:u,o=this.options.springConstant*(e-u)/u,s=n*o,a=i*o,r.to.level!=r.from.level?(p[r.toId]!==void 0&&(p[r.toId].springFx-=s,p[r.toId].springFy-=a),p[r.fromId]!==void 0&&(p[r.fromId].springFx+=s,p[r.fromId].springFy+=a)):(p[r.toId]!==void 0&&(p[r.toId].x-=d*s,p[r.toId].y-=d*a),p[r.fromId]!==void 0&&(p[r.fromId].x+=d*s,p[r.fromId].y+=d*a)));o=1;let v,y;for(let b=0;b<f.length;b++){const _=f[b];v=Math.min(o,Math.max(-o,p[_].springFx)),y=Math.min(o,Math.max(-o,p[_].springFy)),p[_].x+=v,p[_].y+=y}let x=0,g=0;for(let b=0;b<f.length;b++){const _=f[b];x+=p[_].x,g+=p[_].y}const m=x/f.length,w=g/f.length;for(let b=0;b<f.length;b++){const _=f[b];p[_].x-=m,p[_].y-=w}}}class Hf{constructor(e,r,n){this.body=e,this.physicsBody=r,this.setOptions(n)}setOptions(e){this.options=e}solve(){let e,r,n,i;const s=this.body.nodes,a=this.physicsBody.physicsNodeIndices,o=this.physicsBody.forces;for(let u=0;u<a.length;u++){const c=a[u];i=s[c],e=-i.x,r=-i.y,n=Math.sqrt(e*e+r*r),this._calculateForces(n,e,r,o,i)}}_calculateForces(e,r,n,i,s){const a=e===0?0:this.options.centralGravity/e;i[s.id].x=r*a,i[s.id].y=n*a}}class Kbe extends YQ{constructor(e,r,n){super(e,r,n),this._rng=Km("FORCE ATLAS 2 BASED REPULSION SOLVER")}_calculateForces(e,r,n,i,s){e===0&&(e=.1*this._rng(),r=e),this.overlapAvoidanceFactor<1&&i.shape.radius&&(e=Math.max(.1+this.overlapAvoidanceFactor*i.shape.radius,e-i.shape.radius));const a=i.edges.length+1,o=this.options.gravitationalConstant*s.mass*i.options.mass*a/Math.pow(e,2),u=r*o,c=n*o;this.physicsBody.forces[i.id].x+=u,this.physicsBody.forces[i.id].y+=c}}class Gbe extends Hf{constructor(e,r,n){super(e,r,n)}_calculateForces(e,r,n,i,s){if(e>0){const a=s.edges.length+1,o=this.options.centralGravity*a*s.options.mass;i[s.id].x=r*o,i[s.id].y=n*o}}}class Ybe{constructor(e){this.body=e,this.physicsBody={physicsNodeIndices:[],physicsEdgeIndices:[],forces:{},velocities:{}},this.physicsEnabled=!0,this.simulationInterval=1e3/60,this.requiresTimeout=!0,this.previousStates={},this.referenceState={},this.freezeCache={},this.renderTimer=void 0,this.adaptiveTimestep=!1,this.adaptiveTimestepEnabled=!1,this.adaptiveCounter=0,this.adaptiveInterval=3,this.stabilized=!1,this.startedStabilization=!1,this.stabilizationIterations=0,this.ready=!1,this.options={},this.defaultOptions={enabled:!0,barnesHut:{theta:.5,gravitationalConstant:-2e3,centralGravity:.3,springLength:95,springConstant:.04,damping:.09,avoidOverlap:0},forceAtlas2Based:{theta:.5,gravitationalConstant:-50,centralGravity:.01,springConstant:.08,springLength:100,damping:.4,avoidOverlap:0},repulsion:{centralGravity:.2,springLength:200,springConstant:.05,nodeDistance:100,damping:.09,avoidOverlap:0},hierarchicalRepulsion:{centralGravity:0,springLength:100,springConstant:.01,nodeDistance:120,damping:.09},maxVelocity:50,minVelocity:.75,solver:"barnesHut",stabilization:{enabled:!0,iterations:1e3,updateInterval:50,onlyDynamicEdges:!1,fit:!0},timestep:.5,adaptiveTimestep:!0,wind:{x:0,y:0}},er(this.options,this.defaultOptions),this.timestep=.5,this.layoutFailed=!1,this.bindEventListeners()}bindEventListeners(){this.body.emitter.on("initPhysics",()=>{this.initPhysics()}),this.body.emitter.on("_layoutFailed",()=>{this.layoutFailed=!0}),this.body.emitter.on("resetPhysics",()=>{this.stopSimulation(),this.ready=!1}),this.body.emitter.on("disablePhysics",()=>{this.physicsEnabled=!1,this.stopSimulation()}),this.body.emitter.on("restorePhysics",()=>{this.setOptions(this.options),this.ready===!0&&this.startSimulation()}),this.body.emitter.on("startSimulation",()=>{this.ready===!0&&this.startSimulation()}),this.body.emitter.on("stopSimulation",()=>{this.stopSimulation()}),this.body.emitter.on("destroy",()=>{this.stopSimulation(!1),this.body.emitter.off()}),this.body.emitter.on("_dataChanged",()=>{this.updatePhysicsData()})}setOptions(e){if(e!==void 0)if(e===!1)this.options.enabled=!1,this.physicsEnabled=!1,this.stopSimulation();else if(e===!0)this.options.enabled=!0,this.physicsEnabled=!0,this.startSimulation();else{this.physicsEnabled=!0,Lp(["stabilization"],this.options,e),Fn(this.options,e,"stabilization"),e.enabled===void 0&&(this.options.enabled=!0),this.options.enabled===!1&&(this.physicsEnabled=!1,this.stopSimulation());const r=this.options.wind;r&&((typeof r.x!="number"||nC(r.x))&&(r.x=0),(typeof r.y!="number"||nC(r.y))&&(r.y=0)),this.timestep=this.options.timestep}this.init()}init(){let e;this.options.solver==="forceAtlas2Based"?(e=this.options.forceAtlas2Based,this.nodesSolver=new Kbe(this.body,this.physicsBody,e),this.edgesSolver=new vN(this.body,this.physicsBody,e),this.gravitySolver=new Gbe(this.body,this.physicsBody,e)):this.options.solver==="repulsion"?(e=this.options.repulsion,this.nodesSolver=new Wbe(this.body,this.physicsBody,e),this.edgesSolver=new vN(this.body,this.physicsBody,e),this.gravitySolver=new Hf(this.body,this.physicsBody,e)):this.options.solver==="hierarchicalRepulsion"?(e=this.options.hierarchicalRepulsion,this.nodesSolver=new Vbe(this.body,this.physicsBody,e),this.edgesSolver=new Hbe(this.body,this.physicsBody,e),this.gravitySolver=new Hf(this.body,this.physicsBody,e)):(e=this.options.barnesHut,this.nodesSolver=new YQ(this.body,this.physicsBody,e),this.edgesSolver=new vN(this.body,this.physicsBody,e),this.gravitySolver=new Hf(this.body,this.physicsBody,e)),this.modelOptions=e}initPhysics(){this.physicsEnabled===!0&&this.options.enabled===!0?this.options.stabilization.enabled===!0?this.stabilize():(this.stabilized=!1,this.ready=!0,this.body.emitter.emit("fit",{},this.layoutFailed),this.startSimulation()):(this.ready=!0,this.body.emitter.emit("fit"))}startSimulation(){if(this.physicsEnabled===!0&&this.options.enabled===!0){if(this.stabilized=!1,this.adaptiveTimestep=!1,this.body.emitter.emit("_resizeNodes"),this.viewFunction===void 0){var e;this.viewFunction=re(e=this.simulationStep).call(e,this),this.body.emitter.on("initRedraw",this.viewFunction),this.body.emitter.emit("_startRendering")}}else this.body.emitter.emit("_redraw")}stopSimulation(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.stabilized=!0,e===!0&&this._emitStabilized(),this.viewFunction!==void 0&&(this.body.emitter.off("initRedraw",this.viewFunction),this.viewFunction=void 0,e===!0&&this.body.emitter.emit("_stopRendering"))}simulationStep(){const e=Mp();this.physicsTick(),(Mp()-e<.4*this.simulationInterval||this.runDoubleSpeed===!0)&&this.stabilized===!1&&(this.physicsTick(),this.runDoubleSpeed=!0),this.stabilized===!0&&this.stopSimulation()}_emitStabilized(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.stabilizationIterations;(this.stabilizationIterations>1||this.startedStabilization===!0)&&hs(()=>{this.body.emitter.emit("stabilized",{iterations:e}),this.startedStabilization=!1,this.stabilizationIterations=0},0)}physicsStep(){this.gravitySolver.solve(),this.nodesSolver.solve(),this.edgesSolver.solve(),this.moveNodes()}adjustTimeStep(){this._evaluateStepQuality()===!0?this.timestep=1.2*this.timestep:this.timestep/1.2<this.options.timestep?this.timestep=this.options.timestep:(this.adaptiveCounter=-1,this.timestep=Math.max(this.options.timestep,this.timestep/1.2))}physicsTick(){this._startStabilizing(),this.stabilized!==!0&&(this.adaptiveTimestep===!0&&this.adaptiveTimestepEnabled===!0?(this.adaptiveCounter%this.adaptiveInterval===0?(this.timestep=2*this.timestep,this.physicsStep(),this.revert(),this.timestep=.5*this.timestep,this.physicsStep(),this.physicsStep(),this.adjustTimeStep()):this.physicsStep(),this.adaptiveCounter+=1):(this.timestep=this.options.timestep,this.physicsStep()),this.stabilized===!0&&this.revert(),this.stabilizationIterations++)}updatePhysicsData(){this.physicsBody.forces={},this.physicsBody.physicsNodeIndices=[],this.physicsBody.physicsEdgeIndices=[];const e=this.body.nodes,r=this.body.edges;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&e[n].options.physics===!0&&this.physicsBody.physicsNodeIndices.push(e[n].id);for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&r[n].options.physics===!0&&this.physicsBody.physicsEdgeIndices.push(r[n].id);for(let n=0;n<this.physicsBody.physicsNodeIndices.length;n++){const i=this.physicsBody.physicsNodeIndices[n];this.physicsBody.forces[i]={x:0,y:0},this.physicsBody.velocities[i]===void 0&&(this.physicsBody.velocities[i]={x:0,y:0})}for(const n in this.physicsBody.velocities)e[n]===void 0&&delete this.physicsBody.velocities[n]}revert(){const e=zt(this.previousStates),r=this.body.nodes,n=this.physicsBody.velocities;this.referenceState={};for(let i=0;i<e.length;i++){const s=e[i];r[s]!==void 0?r[s].options.physics===!0&&(this.referenceState[s]={positions:{x:r[s].x,y:r[s].y}},n[s].x=this.previousStates[s].vx,n[s].y=this.previousStates[s].vy,r[s].x=this.previousStates[s].x,r[s].y=this.previousStates[s].y):delete this.previousStates[s]}}_evaluateStepQuality(){let e,r,n;const i=this.body.nodes,s=this.referenceState,a=.3;for(const o in this.referenceState)if(Object.prototype.hasOwnProperty.call(this.referenceState,o)&&i[o]!==void 0&&(e=i[o].x-s[o].positions.x,r=i[o].y-s[o].positions.y,n=Math.sqrt(Math.pow(e,2)+Math.pow(r,2)),n>a))return!1;return!0}moveNodes(){const e=this.physicsBody.physicsNodeIndices;let r=0,n=0;const i=5;for(let s=0;s<e.length;s++){const a=e[s],o=this._performStep(a);r=Math.max(r,o),n+=o}this.adaptiveTimestepEnabled=n/e.length<i,this.stabilized=r<this.options.minVelocity}calculateComponentVelocity(e,r,n){const i=this.modelOptions.damping*e,s=(r-i)/n;e+=s*this.timestep;const a=this.options.maxVelocity||1e9;return Math.abs(e)>a&&(e=e>0?a:-a),e}_performStep(e){const r=this.body.nodes[e],n=this.physicsBody.forces[e];this.options.wind&&(n.x+=this.options.wind.x,n.y+=this.options.wind.y);const i=this.physicsBody.velocities[e];return this.previousStates[e]={x:r.x,y:r.y,vx:i.x,vy:i.y},r.options.fixed.x===!1?(i.x=this.calculateComponentVelocity(i.x,n.x,r.options.mass),r.x+=i.x*this.timestep):(n.x=0,i.x=0),r.options.fixed.y===!1?(i.y=this.calculateComponentVelocity(i.y,n.y,r.options.mass),r.y+=i.y*this.timestep):(n.y=0,i.y=0),Math.sqrt(Math.pow(i.x,2)+Math.pow(i.y,2))}_freezeNodes(){const e=this.body.nodes;for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&e[r].x&&e[r].y){const n=e[r].options.fixed;this.freezeCache[r]={x:n.x,y:n.y},n.x=!0,n.y=!0}}_restoreFrozenNodes(){const e=this.body.nodes;for(const r in e)Object.prototype.hasOwnProperty.call(e,r)&&this.freezeCache[r]!==void 0&&(e[r].options.fixed.x=this.freezeCache[r].x,e[r].options.fixed.y=this.freezeCache[r].y);this.freezeCache={}}stabilize(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.options.stabilization.iterations;if(typeof e!="number"&&(e=this.options.stabilization.iterations,console.error("The stabilize method needs a numeric amount of iterations. Switching to default: ",e)),this.physicsBody.physicsNodeIndices.length===0){this.ready=!0;return}this.adaptiveTimestep=this.options.adaptiveTimestep,this.body.emitter.emit("_resizeNodes"),this.stopSimulation(),this.stabilized=!1,this.body.emitter.emit("_blockRedraw"),this.targetIterations=e,this.options.stabilization.onlyDynamicEdges===!0&&this._freezeNodes(),this.stabilizationIterations=0,hs(()=>this._stabilizationBatch(),0)}_startStabilizing(){return this.startedStabilization===!0?!1:(this.body.emitter.emit("startStabilizing"),this.startedStabilization=!0,!0)}_stabilizationBatch(){const e=()=>this.stabilized===!1&&this.stabilizationIterations<this.targetIterations,r=()=>{this.body.emitter.emit("stabilizationProgress",{iterations:this.stabilizationIterations,total:this.targetIterations})};this._startStabilizing()&&r();let n=0;for(;e()&&n<this.options.stabilization.updateInterval;)this.physicsTick(),n++;if(r(),e()){var i;hs(re(i=this._stabilizationBatch).call(i,this),0)}else this._finalizeStabilization()}_finalizeStabilization(){this.body.emitter.emit("_allowRedraw"),this.options.stabilization.fit===!0&&this.body.emitter.emit("fit"),this.options.stabilization.onlyDynamicEdges===!0&&this._restoreFrozenNodes(),this.body.emitter.emit("stabilizationIterationsDone"),this.body.emitter.emit("_requestRedraw"),this.stabilized===!0?this._emitStabilized():this.startSimulation(),this.ready=!0}_drawForces(e){for(let r=0;r<this.physicsBody.physicsNodeIndices.length;r++){const n=this.physicsBody.physicsNodeIndices[r],i=this.body.nodes[n],s=this.physicsBody.forces[n],a=20,o=.03,u=Math.sqrt(Math.pow(s.x,2)+Math.pow(s.x,2)),c=Math.min(Math.max(5,u),15),d=3*c,h=eC((180-Math.min(1,Math.max(0,o*u))*180)/360,1,1),f={x:i.x+a*s.x,y:i.y+a*s.y};e.lineWidth=c,e.strokeStyle=h,e.beginPath(),e.moveTo(i.x,i.y),e.lineTo(f.x,f.y),e.stroke();const p=Math.atan2(s.y,s.x);e.fillStyle=h,KQ.draw(e,{type:"arrow",point:f,angle:p,length:d}),$h(e).call(e)}}}const Sr=[];for(let t=0;t<256;++t)Sr.push((t+256).toString(16).slice(1));function Qbe(t,e=0){return(Sr[t[e+0]]+Sr[t[e+1]]+Sr[t[e+2]]+Sr[t[e+3]]+"-"+Sr[t[e+4]]+Sr[t[e+5]]+"-"+Sr[t[e+6]]+Sr[t[e+7]]+"-"+Sr[t[e+8]]+Sr[t[e+9]]+"-"+Sr[t[e+10]]+Sr[t[e+11]]+Sr[t[e+12]]+Sr[t[e+13]]+Sr[t[e+14]]+Sr[t[e+15]]).toLowerCase()}let gN;const Xbe=new Uint8Array(16);function Jbe(){if(!gN){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");gN=crypto.getRandomValues.bind(crypto)}return gN(Xbe)}const Zbe=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto);var TU={randomUUID:Zbe};function exe(t,e,r){var i;t=t||{};const n=t.random??((i=t.rng)==null?void 0:i.call(t))??Jbe();if(n.length<16)throw new Error("Random bytes length must be >= 16");return n[6]=n[6]&15|64,n[8]=n[8]&63|128,Qbe(n)}function nd(t,e,r){return TU.randomUUID&&!t?TU.randomUUID():exe(t)}class Wr{constructor(){}static getRange(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],n=1e9,i=-1e9,s=1e9,a=-1e9,o;if(r.length>0)for(let u=0;u<r.length;u++)o=e[r[u]],s>o.shape.boundingBox.left&&(s=o.shape.boundingBox.left),a<o.shape.boundingBox.right&&(a=o.shape.boundingBox.right),n>o.shape.boundingBox.top&&(n=o.shape.boundingBox.top),i<o.shape.boundingBox.bottom&&(i=o.shape.boundingBox.bottom);return s===1e9&&a===-1e9&&n===1e9&&i===-1e9&&(n=0,i=0,s=0,a=0),{minX:s,maxX:a,minY:n,maxY:i}}static getRangeCore(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],n=1e9,i=-1e9,s=1e9,a=-1e9,o;if(r.length>0)for(let u=0;u<r.length;u++)o=e[r[u]],s>o.x&&(s=o.x),a<o.x&&(a=o.x),n>o.y&&(n=o.y),i<o.y&&(i=o.y);return s===1e9&&a===-1e9&&n===1e9&&i===-1e9&&(n=0,i=0,s=0,a=0),{minX:s,maxX:a,minY:n,maxY:i}}static findCenter(e){return{x:.5*(e.maxX+e.minX),y:.5*(e.maxY+e.minY)}}static cloneOptions(e,r){const n={};return r===void 0||r==="node"?(yt(n,e.options,!0),n.x=e.x,n.y=e.y,n.amountOfConnections=e.edges.length):yt(n,e.options,!0),n}}class txe extends jt{constructor(e,r,n,i,s,a){super(e,r,n,i,s,a),this.isCluster=!0,this.containedNodes={},this.containedEdges={}}_openChildCluster(e){const r=this.body.nodes[e];if(this.containedNodes[e]===void 0)throw new Error("node with id: "+e+" not in current cluster");if(!r.isCluster)throw new Error("node with id: "+e+" is not a cluster");delete this.containedNodes[e],We(r.edges,n=>{delete this.containedEdges[n.id]}),We(r.containedNodes,(n,i)=>{this.containedNodes[i]=n}),r.containedNodes={},We(r.containedEdges,(n,i)=>{this.containedEdges[i]=n}),r.containedEdges={},We(r.edges,n=>{We(this.edges,i=>{var s,a;const o=ct(s=i.clusteringEdgeReplacingIds).call(s,n.id);o!==-1&&(We(n.clusteringEdgeReplacingIds,u=>{i.clusteringEdgeReplacingIds.push(u),this.body.edges[u].edgeReplacedById=i.id}),ds(a=i.clusteringEdgeReplacingIds).call(a,o,1))})}),r.edges=[]}}class rxe{constructor(e){this.body=e,this.clusteredNodes={},this.clusteredEdges={},this.options={},this.defaultOptions={},er(this.options,this.defaultOptions),this.body.emitter.on("_resetData",()=>{this.clusteredNodes={},this.clusteredEdges={}})}clusterByHubsize(e,r){e===void 0?e=this._getHubSize():typeof e=="object"&&(r=this._checkOptions(e),e=this._getHubSize());const n=[];for(let i=0;i<this.body.nodeIndices.length;i++){const s=this.body.nodes[this.body.nodeIndices[i]];s.edges.length>=e&&n.push(s.id)}for(let i=0;i<n.length;i++)this.clusterByConnection(n[i],r,!0);this.body.emitter.emit("_dataChanged")}cluster(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(e.joinCondition===void 0)throw new Error("Cannot call clusterByNodeData without a joinCondition function in the options.");e=this._checkOptions(e);const n={},i={};We(this.body.nodes,(s,a)=>{s.options&&e.joinCondition(s.options)===!0&&(n[a]=s,We(s.edges,o=>{this.clusteredEdges[o.id]===void 0&&(i[o.id]=o)}))}),this._cluster(n,i,e,r)}clusterByEdgeCount(e,r){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;r=this._checkOptions(r);const i=[],s={};let a,o,u;for(let c=0;c<this.body.nodeIndices.length;c++){const d={},h={},f=this.body.nodeIndices[c],p=this.body.nodes[f];if(s[f]===void 0){u=0,o=[];for(let v=0;v<p.edges.length;v++)a=p.edges[v],this.clusteredEdges[a.id]===void 0&&(a.toId!==a.fromId&&u++,o.push(a));if(u===e){const v=function(x){if(r.joinCondition===void 0||r.joinCondition===null)return!0;const g=Wr.cloneOptions(x);return r.joinCondition(g)};let y=!0;for(let x=0;x<o.length;x++){a=o[x];const g=this._getConnectedId(a,f);if(v(p))h[a.id]=a,d[f]=p,d[g]=this.body.nodes[g],s[f]=!0;else{y=!1;break}}if(zt(d).length>0&&zt(h).length>0&&y===!0){const g=function(){for(let m=0;m<i.length;++m)for(const w in d)if(i[m].nodes[w]!==void 0)return i[m]}();if(g!==void 0){for(const m in d)g.nodes[m]===void 0&&(g.nodes[m]=d[m]);for(const m in h)g.edges[m]===void 0&&(g.edges[m]=h[m])}else i.push({nodes:d,edges:h})}}}}for(let c=0;c<i.length;c++)this._cluster(i[c].nodes,i[c].edges,r,!1);n===!0&&this.body.emitter.emit("_dataChanged")}clusterOutliers(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;this.clusterByEdgeCount(1,e,r)}clusterBridges(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;this.clusterByEdgeCount(2,e,r)}clusterByConnection(e,r){var n;let i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(e===void 0)throw new Error("No nodeId supplied to clusterByConnection!");if(this.body.nodes[e]===void 0)throw new Error("The nodeId given to clusterByConnection does not exist!");const s=this.body.nodes[e];r=this._checkOptions(r,s),r.clusterNodeProperties.x===void 0&&(r.clusterNodeProperties.x=s.x),r.clusterNodeProperties.y===void 0&&(r.clusterNodeProperties.y=s.y),r.clusterNodeProperties.fixed===void 0&&(r.clusterNodeProperties.fixed={},r.clusterNodeProperties.fixed.x=s.options.fixed.x,r.clusterNodeProperties.fixed.y=s.options.fixed.y);const a={},o={},u=s.id,c=Wr.cloneOptions(s);a[u]=s;for(let h=0;h<s.edges.length;h++){const f=s.edges[h];if(this.clusteredEdges[f.id]===void 0){const p=this._getConnectedId(f,u);if(this.clusteredNodes[p]===void 0)if(p!==u)if(r.joinCondition===void 0)o[f.id]=f,a[p]=this.body.nodes[p];else{const v=Wr.cloneOptions(this.body.nodes[p]);r.joinCondition(c,v)===!0&&(o[f.id]=f,a[p]=this.body.nodes[p])}else o[f.id]=f}}const d=Ou(n=zt(a)).call(n,function(h){return a[h].id});for(const h in a){if(!Object.prototype.hasOwnProperty.call(a,h))continue;const f=a[h];for(let p=0;p<f.edges.length;p++){const v=f.edges[p];ct(d).call(d,this._getConnectedId(v,f.id))>-1&&(o[v.id]=v)}}this._cluster(a,o,r,i)}_createClusterEdges(e,r,n,i){let s,a,o,u,c,d;const h=zt(e),f=[];for(let y=0;y<h.length;y++){a=h[y],o=e[a];for(let x=0;x<o.edges.length;x++)s=o.edges[x],this.clusteredEdges[s.id]===void 0&&(s.toId==s.fromId?r[s.id]=s:s.toId==a?(u=n.id,c=s.fromId,d=c):(u=s.toId,c=n.id,d=u),e[d]===void 0&&f.push({edge:s,fromId:c,toId:u}))}const p=[],v=function(y){for(let x=0;x<p.length;x++){const g=p[x],m=y.fromId===g.fromId&&y.toId===g.toId,w=y.fromId===g.toId&&y.toId===g.fromId;if(m||w)return g}return null};for(let y=0;y<f.length;y++){const x=f[y],g=x.edge;let m=v(x);m===null?(m=this._createClusteredEdge(x.fromId,x.toId,g,i),p.push(m)):m.clusteringEdgeReplacingIds.push(g.id),this.body.edges[g.id].edgeReplacedById=m.id,this._backupEdgeOptions(g),g.setOptions({physics:!1})}}_checkOptions(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return e.clusterEdgeProperties===void 0&&(e.clusterEdgeProperties={}),e.clusterNodeProperties===void 0&&(e.clusterNodeProperties={}),e}_cluster(e,r,n){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0;const s=[];for(const d in e)Object.prototype.hasOwnProperty.call(e,d)&&this.clusteredNodes[d]!==void 0&&s.push(d);for(let d=0;d<s.length;++d)delete e[s[d]];if(zt(e).length==0||zt(e).length==1&&n.clusterNodeProperties.allowSingleNodeCluster!=!0)return;let a=yt({},n.clusterNodeProperties);if(n.processProperties!==void 0){const d=[];for(const f in e)if(Object.prototype.hasOwnProperty.call(e,f)){const p=Wr.cloneOptions(e[f]);d.push(p)}const h=[];for(const f in r)if(Object.prototype.hasOwnProperty.call(r,f)&&f.substr(0,12)!=="clusterEdge:"){const p=Wr.cloneOptions(r[f],"edge");h.push(p)}if(a=n.processProperties(a,d,h),!a)throw new Error("The processProperties function does not return properties!")}a.id===void 0&&(a.id="cluster:"+nd());const o=a.id;a.label===void 0&&(a.label="cluster");let u;a.x===void 0&&(u=this._getClusterPosition(e),a.x=u.x),a.y===void 0&&(u===void 0&&(u=this._getClusterPosition(e)),a.y=u.y),a.id=o;const c=this.body.functions.createNode(a,txe);c.containedNodes=e,c.containedEdges=r,c.clusterEdgeProperties=n.clusterEdgeProperties,this.body.nodes[a.id]=c,this._clusterEdges(e,r,a,n.clusterEdgeProperties),a.id=void 0,i===!0&&this.body.emitter.emit("_dataChanged")}_backupEdgeOptions(e){this.clusteredEdges[e.id]===void 0&&(this.clusteredEdges[e.id]={physics:e.options.physics})}_restoreEdge(e){const r=this.clusteredEdges[e.id];r!==void 0&&(e.setOptions({physics:r.physics}),delete this.clusteredEdges[e.id])}isCluster(e){return this.body.nodes[e]!==void 0?this.body.nodes[e].isCluster===!0:(console.error("Node does not exist."),!1)}_getClusterPosition(e){const r=zt(e);let n=e[r[0]].x,i=e[r[0]].x,s=e[r[0]].y,a=e[r[0]].y,o;for(let u=1;u<r.length;u++)o=e[r[u]],n=o.x<n?o.x:n,i=o.x>i?o.x:i,s=o.y<s?o.y:s,a=o.y>a?o.y:a;return{x:.5*(n+i),y:.5*(s+a)}}openCluster(e,r){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(e===void 0)throw new Error("No clusterNodeId supplied to openCluster.");const i=this.body.nodes[e];if(i===void 0)throw new Error("The clusterNodeId supplied to openCluster does not exist.");if(i.isCluster!==!0||i.containedNodes===void 0||i.containedEdges===void 0)throw new Error("The node:"+e+" is not a valid cluster.");const s=this.findNode(e),a=ct(s).call(s,e)-1;if(a>=0){const d=s[a];this.body.nodes[d]._openChildCluster(e),delete this.body.nodes[e],n===!0&&this.body.emitter.emit("_dataChanged");return}const o=i.containedNodes,u=i.containedEdges;if(r!==void 0&&r.releaseFunction!==void 0&&typeof r.releaseFunction=="function"){const d={},h={x:i.x,y:i.y};for(const p in o)if(Object.prototype.hasOwnProperty.call(o,p)){const v=this.body.nodes[p];d[p]={x:v.x,y:v.y}}const f=r.releaseFunction(h,d);for(const p in o)if(Object.prototype.hasOwnProperty.call(o,p)){const v=this.body.nodes[p];f[p]!==void 0&&(v.x=f[p].x===void 0?i.x:f[p].x,v.y=f[p].y===void 0?i.y:f[p].y)}}else We(o,function(d){d.options.fixed.x===!1&&(d.x=i.x),d.options.fixed.y===!1&&(d.y=i.y)});for(const d in o)if(Object.prototype.hasOwnProperty.call(o,d)){const h=this.body.nodes[d];h.vx=i.vx,h.vy=i.vy,h.setOptions({physics:!0}),delete this.clusteredNodes[d]}const c=[];for(let d=0;d<i.edges.length;d++)c.push(i.edges[d]);for(let d=0;d<c.length;d++){const h=c[d],f=this._getConnectedId(h,e),p=this.clusteredNodes[f];for(let v=0;v<h.clusteringEdgeReplacingIds.length;v++){const y=h.clusteringEdgeReplacingIds[v],x=this.body.edges[y];if(x!==void 0)if(p!==void 0){const g=this.body.nodes[p.clusterId];g.containedEdges[x.id]=x,delete u[x.id];let m=x.fromId,w=x.toId;x.toId==f?w=p.clusterId:m=p.clusterId,this._createClusteredEdge(m,w,x,g.clusterEdgeProperties,{hidden:!1,physics:!0})}else this._restoreEdge(x)}h.remove()}for(const d in u)Object.prototype.hasOwnProperty.call(u,d)&&this._restoreEdge(u[d]);delete this.body.nodes[e],n===!0&&this.body.emitter.emit("_dataChanged")}getNodesInCluster(e){const r=[];if(this.isCluster(e)===!0){const n=this.body.nodes[e].containedNodes;for(const i in n)Object.prototype.hasOwnProperty.call(n,i)&&r.push(this.body.nodes[i].id)}return r}findNode(e){const r=[];let i=0,s;for(;this.clusteredNodes[e]!==void 0&&i<100;){if(s=this.body.nodes[e],s===void 0)return[];r.push(s.id),e=this.clusteredNodes[e].clusterId,i++}return s=this.body.nodes[e],s===void 0?[]:(r.push(s.id),bo(r).call(r),r)}updateClusteredNode(e,r){if(e===void 0)throw new Error("No clusteredNodeId supplied to updateClusteredNode.");if(r===void 0)throw new Error("No newOptions supplied to updateClusteredNode.");if(this.body.nodes[e]===void 0)throw new Error("The clusteredNodeId supplied to updateClusteredNode does not exist.");this.body.nodes[e].setOptions(r),this.body.emitter.emit("_dataChanged")}updateEdge(e,r){if(e===void 0)throw new Error("No startEdgeId supplied to updateEdge.");if(r===void 0)throw new Error("No newOptions supplied to updateEdge.");if(this.body.edges[e]===void 0)throw new Error("The startEdgeId supplied to updateEdge does not exist.");const n=this.getClusteredEdges(e);for(let i=0;i<n.length;i++)this.body.edges[n[i]].setOptions(r);this.body.emitter.emit("_dataChanged")}getClusteredEdges(e){const r=[];let i=0;for(;e!==void 0&&this.body.edges[e]!==void 0&&i<100;)r.push(this.body.edges[e].id),e=this.body.edges[e].edgeReplacedById,i++;return bo(r).call(r),r}getBaseEdge(e){return this.getBaseEdges(e)[0]}getBaseEdges(e){const r=[e],n=[],i=[],s=100;let a=0;for(;r.length>0&&a<s;){const o=r.pop();if(o===void 0)continue;const u=this.body.edges[o];if(u===void 0)continue;a++;const c=u.clusteringEdgeReplacingIds;if(c===void 0)i.push(o);else for(let d=0;d<c.length;++d){const h=c[d];ct(r).call(r,c)!==-1||ct(n).call(n,c)!==-1||r.push(h)}n.push(o)}return i}_getConnectedId(e,r){return e.toId!=r?e.toId:(e.fromId!=r,e.fromId)}_getHubSize(){let e=0,r=0,n=0,i=0;for(let u=0;u<this.body.nodeIndices.length;u++){const c=this.body.nodes[this.body.nodeIndices[u]];c.edges.length>i&&(i=c.edges.length),e+=c.edges.length,r+=Math.pow(c.edges.length,2),n+=1}e=e/n,r=r/n;const s=r-Math.pow(e,2),a=Math.sqrt(s);let o=Math.floor(e+2*a);return o>i&&(o=i),o}_createClusteredEdge(e,r,n,i,s){const a=Wr.cloneOptions(n,"edge");yt(a,i),a.from=e,a.to=r,a.id="clusterEdge:"+nd(),s!==void 0&&yt(a,s);const o=this.body.functions.createEdge(a);return o.clusteringEdgeReplacingIds=[n.id],o.connect(),this.body.edges[o.id]=o,o}_clusterEdges(e,r,n,i){if(r instanceof _a){const s=r,a={};a[s.id]=s,r=a}if(e instanceof jt){const s=e,a={};a[s.id]=s,e=a}if(n==null)throw new Error("_clusterEdges: parameter clusterNode required");i===void 0&&(i=n.clusterEdgeProperties),this._createClusterEdges(e,r,n,i);for(const s in r)if(Object.prototype.hasOwnProperty.call(r,s)&&this.body.edges[s]!==void 0){const a=this.body.edges[s];this._backupEdgeOptions(a),a.setOptions({physics:!1})}for(const s in e)Object.prototype.hasOwnProperty.call(e,s)&&(this.clusteredNodes[s]={clusterId:n.id,node:this.body.nodes[s]},this.body.nodes[s].setOptions({physics:!1}))}_getClusterNodeForNode(e){if(e===void 0)return;const r=this.clusteredNodes[e];if(r===void 0)return;const n=r.clusterId;if(n!==void 0)return this.body.nodes[n]}_filter(e,r){const n=[];return We(e,i=>{r(i)&&n.push(i)}),n}_updateState(){let e;const r=[],n={},i=u=>{We(this.body.nodes,c=>{c.isCluster===!0&&u(c)})};for(e in this.clusteredNodes){if(!Object.prototype.hasOwnProperty.call(this.clusteredNodes,e))continue;this.body.nodes[e]===void 0&&r.push(e)}i(function(u){for(let c=0;c<r.length;c++)delete u.containedNodes[r[c]]});for(let u=0;u<r.length;u++)delete this.clusteredNodes[r[u]];We(this.clusteredEdges,u=>{const c=this.body.edges[u];(c===void 0||!c.endPointsValid())&&(n[u]=u)}),i(function(u){We(u.containedEdges,(c,d)=>{!c.endPointsValid()&&!n[d]&&(n[d]=d)})}),We(this.body.edges,(u,c)=>{let d=!0;const h=u.clusteringEdgeReplacingIds;if(h!==void 0){let f=0;We(h,p=>{const v=this.body.edges[p];v!==void 0&&v.endPointsValid()&&(f+=1)}),d=f>0}(!u.endPointsValid()||!d)&&(n[c]=c)}),i(u=>{We(n,c=>{delete u.containedEdges[c],We(u.edges,(d,h)=>{if(d.id===c){u.edges[h]=null;return}d.clusteringEdgeReplacingIds=this._filter(d.clusteringEdgeReplacingIds,function(f){return!n[f]})}),u.edges=this._filter(u.edges,function(d){return d!==null})})}),We(n,u=>{delete this.clusteredEdges[u]}),We(n,u=>{delete this.body.edges[u]});const s=zt(this.body.edges);We(s,u=>{const c=this.body.edges[u],d=this._isClusteredNode(c.fromId)||this._isClusteredNode(c.toId);if(d!==this._isClusteredEdge(c.id))if(d){const h=this._getClusterNodeForNode(c.fromId);h!==void 0&&this._clusterEdges(this.body.nodes[c.fromId],c,h);const f=this._getClusterNodeForNode(c.toId);f!==void 0&&this._clusterEdges(this.body.nodes[c.toId],c,f)}else delete this._clusterEdges[u],this._restoreEdge(c)});let a=!1,o=!0;for(;o;){const u=[];i(function(c){const d=zt(c.containedNodes).length,h=c.options.allowSingleNodeCluster===!0;(h&&d<1||!h&&d<2)&&u.push(c.id)});for(let c=0;c<u.length;++c)this.openCluster(u[c],{},!1);o=u.length>0,a=a||o}a&&this._updateState()}_isClusteredNode(e){return this.clusteredNodes[e]!==void 0}_isClusteredEdge(e){return this.clusteredEdges[e]!==void 0}}class nxe{constructor(e,r){this.body=e,this.canvas=r,this.redrawRequested=!1,this.requestAnimationFrameRequestId=void 0,this.renderingActive=!1,this.renderRequests=0,this.allowRedraw=!0,this.dragging=!1,this.zooming=!1,this.options={},this.defaultOptions={hideEdgesOnDrag:!1,hideEdgesOnZoom:!1,hideNodesOnDrag:!1},er(this.options,this.defaultOptions),this.bindEventListeners()}bindEventListeners(){var e;this.body.emitter.on("dragStart",()=>{this.dragging=!0}),this.body.emitter.on("dragEnd",()=>{this.dragging=!1}),this.body.emitter.on("zoom",()=>{this.zooming=!0,window.clearTimeout(this.zoomTimeoutId),this.zoomTimeoutId=hs(()=>{var r;this.zooming=!1,re(r=this._requestRedraw).call(r,this)()},250)}),this.body.emitter.on("_resizeNodes",()=>{this._resizeNodes()}),this.body.emitter.on("_redraw",()=>{this.renderingActive===!1&&this._redraw()}),this.body.emitter.on("_blockRedraw",()=>{this.allowRedraw=!1}),this.body.emitter.on("_allowRedraw",()=>{this.allowRedraw=!0,this.redrawRequested=!1}),this.body.emitter.on("_requestRedraw",re(e=this._requestRedraw).call(e,this)),this.body.emitter.on("_startRendering",()=>{this.renderRequests+=1,this.renderingActive=!0,this._startRendering()}),this.body.emitter.on("_stopRendering",()=>{this.renderRequests-=1,this.renderingActive=this.renderRequests>0,this.requestAnimationFrameRequestId=void 0}),this.body.emitter.on("destroy",()=>{this.renderRequests=0,this.allowRedraw=!1,this.renderingActive=!1,window.cancelAnimationFrame(this.requestAnimationFrameRequestId),this.body.emitter.off()})}setOptions(e){e!==void 0&&fc(["hideEdgesOnDrag","hideEdgesOnZoom","hideNodesOnDrag"],this.options,e)}_startRendering(){if(this.renderingActive===!0&&this.requestAnimationFrameRequestId===void 0){var e;this.requestAnimationFrameRequestId=window.requestAnimationFrame(re(e=this._renderStep).call(e,this),this.simulationInterval)}}_renderStep(){this.renderingActive===!0&&(this.requestAnimationFrameRequestId=void 0,this._startRendering(),this._redraw())}redraw(){this.body.emitter.emit("setSize"),this._redraw()}_requestRedraw(){this.redrawRequested!==!0&&this.renderingActive===!1&&this.allowRedraw===!0&&(this.redrawRequested=!0,window.requestAnimationFrame(()=>{this._redraw(!1)}))}_redraw(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;if(this.allowRedraw===!0){this.body.emitter.emit("initRedraw"),this.redrawRequested=!1;const r={drawExternalLabels:null};(this.canvas.frame.canvas.width===0||this.canvas.frame.canvas.height===0)&&this.canvas.setSize(),this.canvas.setTransform();const n=this.canvas.getContext(),i=this.canvas.frame.canvas.clientWidth,s=this.canvas.frame.canvas.clientHeight;if(n.clearRect(0,0,i,s),this.canvas.frame.clientWidth===0)return;if(n.save(),n.translate(this.body.view.translation.x,this.body.view.translation.y),n.scale(this.body.view.scale,this.body.view.scale),n.beginPath(),this.body.emitter.emit("beforeDrawing",n),n.closePath(),e===!1&&(this.dragging===!1||this.dragging===!0&&this.options.hideEdgesOnDrag===!1)&&(this.zooming===!1||this.zooming===!0&&this.options.hideEdgesOnZoom===!1)&&this._drawEdges(n),this.dragging===!1||this.dragging===!0&&this.options.hideNodesOnDrag===!1){const{drawExternalLabels:a}=this._drawNodes(n,e);r.drawExternalLabels=a}e===!1&&(this.dragging===!1||this.dragging===!0&&this.options.hideEdgesOnDrag===!1)&&(this.zooming===!1||this.zooming===!0&&this.options.hideEdgesOnZoom===!1)&&this._drawArrows(n),r.drawExternalLabels!=null&&r.drawExternalLabels(),e===!1&&this._drawSelectionBox(n),n.beginPath(),this.body.emitter.emit("afterDrawing",n),n.closePath(),n.restore(),e===!0&&n.clearRect(0,0,i,s)}}_resizeNodes(){this.canvas.setTransform();const e=this.canvas.getContext();e.save(),e.translate(this.body.view.translation.x,this.body.view.translation.y),e.scale(this.body.view.scale,this.body.view.scale);const r=this.body.nodes;let n;for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n=r[i],n.resize(e),n.updateBoundingBox(e,n.selected));e.restore()}_drawNodes(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;const n=this.body.nodes,i=this.body.nodeIndices;let s;const a=[],o=[],u=20,c=this.canvas.DOMtoCanvas({x:-u,y:-u}),d=this.canvas.DOMtoCanvas({x:this.canvas.frame.canvas.clientWidth+u,y:this.canvas.frame.canvas.clientHeight+u}),h={top:c.y,left:c.x,bottom:d.y,right:d.x},f=[];for(let x=0;x<i.length;x++)if(s=n[i[x]],s.hover)o.push(i[x]);else if(s.isSelected())a.push(i[x]);else if(r===!0){const g=s.draw(e);g.drawExternalLabel!=null&&f.push(g.drawExternalLabel)}else if(s.isBoundingBoxOverlappingWith(h)===!0){const g=s.draw(e);g.drawExternalLabel!=null&&f.push(g.drawExternalLabel)}else s.updateBoundingBox(e,s.selected);let p;const v=a.length,y=o.length;for(p=0;p<v;p++){s=n[a[p]];const x=s.draw(e);x.drawExternalLabel!=null&&f.push(x.drawExternalLabel)}for(p=0;p<y;p++){s=n[o[p]];const x=s.draw(e);x.drawExternalLabel!=null&&f.push(x.drawExternalLabel)}return{drawExternalLabels:()=>{for(const x of f)x()}}}_drawEdges(e){const r=this.body.edges,n=this.body.edgeIndices;for(let i=0;i<n.length;i++){const s=r[n[i]];s.connected===!0&&s.draw(e)}}_drawArrows(e){const r=this.body.edges,n=this.body.edgeIndices;for(let i=0;i<n.length;i++){const s=r[n[i]];s.connected===!0&&s.drawArrows(e)}}_drawSelectionBox(e){if(this.body.selectionBox.show){e.beginPath();const r=this.body.selectionBox.position.end.x-this.body.selectionBox.position.start.x,n=this.body.selectionBox.position.end.y-this.body.selectionBox.position.start.y;e.rect(this.body.selectionBox.position.start.x,this.body.selectionBox.position.start.y,r,n),e.fillStyle="rgba(151, 194, 252, 0.2)",e.fillRect(this.body.selectionBox.position.start.x,this.body.selectionBox.position.start.y,r,n),e.strokeStyle="rgba(151, 194, 252, 1)",e.stroke()}else e.closePath()}}var yN,PU;function ixe(){if(PU)return yN;PU=1,eQ();var t=ft();return yN=t.setInterval,yN}var bN,IU;function sxe(){return IU||(IU=1,bN=ixe()),bN}var axe=sxe(),oxe=Re(axe);function Up(t,e){e.inputHandler=function(r){r.isFirst&&e(r)},t.on("hammer.input",e.inputHandler)}function QQ(t,e){return e.inputHandler=function(r){r.isFinal&&e(r)},t.on("hammer.input",e.inputHandler)}class lxe{constructor(e){this.body=e,this.pixelRatio=1,this.cameraState={},this.initialized=!1,this.canvasViewCenter={},this._cleanupCallbacks=[],this.options={},this.defaultOptions={autoResize:!0,height:"100%",width:"100%"},er(this.options,this.defaultOptions),this.bindEventListeners()}bindEventListeners(){var e;this.body.emitter.once("resize",r=>{r.width!==0&&(this.body.view.translation.x=r.width*.5),r.height!==0&&(this.body.view.translation.y=r.height*.5)}),this.body.emitter.on("setSize",re(e=this.setSize).call(e,this)),this.body.emitter.on("destroy",()=>{this.hammerFrame.destroy(),this.hammer.destroy(),this._cleanUp()})}setOptions(e){if(e!==void 0&&fc(["width","height","autoResize"],this.options,e),this._cleanUp(),this.options.autoResize===!0){var r;if(window.ResizeObserver){const i=new ResizeObserver(()=>{this.setSize()===!0&&this.body.emitter.emit("_requestRedraw")}),{frame:s}=this;i.observe(s),this._cleanupCallbacks.push(()=>{i.unobserve(s)})}else{const i=oxe(()=>{this.setSize()===!0&&this.body.emitter.emit("_requestRedraw")},1e3);this._cleanupCallbacks.push(()=>{clearInterval(i)})}const n=re(r=this._onResize).call(r,this);window.addEventListener("resize",n),this._cleanupCallbacks.push(()=>{window.removeEventListener("resize",n)})}}_cleanUp(){var e,r,n;pt(e=bo(r=ds(n=this._cleanupCallbacks).call(n,0)).call(r)).call(e,i=>{try{i()}catch(s){console.error(s)}})}_onResize(){this.setSize(),this.body.emitter.emit("_redraw")}_getCameraState(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.pixelRatio;this.initialized===!0&&(this.cameraState.previousWidth=this.frame.canvas.width/e,this.cameraState.previousHeight=this.frame.canvas.height/e,this.cameraState.scale=this.body.view.scale,this.cameraState.position=this.DOMtoCanvas({x:.5*this.frame.canvas.width/e,y:.5*this.frame.canvas.height/e}))}_setCameraState(){if(this.cameraState.scale!==void 0&&this.frame.canvas.clientWidth!==0&&this.frame.canvas.clientHeight!==0&&this.pixelRatio!==0&&this.cameraState.previousWidth>0&&this.cameraState.previousHeight>0){const e=this.frame.canvas.width/this.pixelRatio/this.cameraState.previousWidth,r=this.frame.canvas.height/this.pixelRatio/this.cameraState.previousHeight;let n=this.cameraState.scale;e!=1&&r!=1?n=this.cameraState.scale*.5*(e+r):e!=1?n=this.cameraState.scale*e:r!=1&&(n=this.cameraState.scale*r),this.body.view.scale=n;const i=this.DOMtoCanvas({x:.5*this.frame.canvas.clientWidth,y:.5*this.frame.canvas.clientHeight}),s={x:i.x-this.cameraState.position.x,y:i.y-this.cameraState.position.y};this.body.view.translation.x+=s.x*this.body.view.scale,this.body.view.translation.y+=s.y*this.body.view.scale}}_prepareValue(e){if(typeof e=="number")return e+"px";if(typeof e=="string"){if(ct(e).call(e,"%")!==-1||ct(e).call(e,"px")!==-1)return e;if(ct(e).call(e,"%")===-1)return e+"px"}throw new Error("Could not use the value supplied for width or height:"+e)}_create(){for(;this.body.container.hasChildNodes();)this.body.container.removeChild(this.body.container.firstChild);if(this.frame=document.createElement("div"),this.frame.className="vis-network",this.frame.style.position="relative",this.frame.style.overflow="hidden",this.frame.tabIndex=0,this.frame.canvas=document.createElement("canvas"),this.frame.canvas.style.position="relative",this.frame.appendChild(this.frame.canvas),this.frame.canvas.getContext)this._setPixelRatio(),this.setTransform();else{const e=document.createElement("DIV");e.style.color="red",e.style.fontWeight="bold",e.style.padding="10px",e.innerText="Error: your browser does not support HTML canvas",this.frame.canvas.appendChild(e)}this.body.container.appendChild(this.frame),this.body.view.scale=1,this.body.view.translation={x:.5*this.frame.canvas.clientWidth,y:.5*this.frame.canvas.clientHeight},this._bindHammer()}_bindHammer(){this.hammer!==void 0&&this.hammer.destroy(),this.drag={},this.pinch={},this.hammer=new Kl(this.frame.canvas),this.hammer.get("pinch").set({enable:!0}),this.hammer.get("pan").set({threshold:5,direction:Kl.DIRECTION_ALL}),Up(this.hammer,e=>{this.body.eventListeners.onTouch(e)}),this.hammer.on("tap",e=>{this.body.eventListeners.onTap(e)}),this.hammer.on("doubletap",e=>{this.body.eventListeners.onDoubleTap(e)}),this.hammer.on("press",e=>{this.body.eventListeners.onHold(e)}),this.hammer.on("panstart",e=>{this.body.eventListeners.onDragStart(e)}),this.hammer.on("panmove",e=>{this.body.eventListeners.onDrag(e)}),this.hammer.on("panend",e=>{this.body.eventListeners.onDragEnd(e)}),this.hammer.on("pinch",e=>{this.body.eventListeners.onPinch(e)}),this.frame.canvas.addEventListener("wheel",e=>{this.body.eventListeners.onMouseWheel(e)}),this.frame.canvas.addEventListener("mousemove",e=>{this.body.eventListeners.onMouseMove(e)}),this.frame.canvas.addEventListener("contextmenu",e=>{this.body.eventListeners.onContext(e)}),this.hammerFrame=new Kl(this.frame),QQ(this.hammerFrame,e=>{this.body.eventListeners.onRelease(e)})}setSize(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.options.width,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.options.height;e=this._prepareValue(e),r=this._prepareValue(r);let n=!1;const i=this.frame.canvas.width,s=this.frame.canvas.height,a=this.pixelRatio;if(this._setPixelRatio(),e!=this.options.width||r!=this.options.height||this.frame.style.width!=e||this.frame.style.height!=r)this._getCameraState(a),this.frame.style.width=e,this.frame.style.height=r,this.frame.canvas.style.width="100%",this.frame.canvas.style.height="100%",this.frame.canvas.width=Math.round(this.frame.canvas.clientWidth*this.pixelRatio),this.frame.canvas.height=Math.round(this.frame.canvas.clientHeight*this.pixelRatio),this.options.width=e,this.options.height=r,this.canvasViewCenter={x:.5*this.frame.clientWidth,y:.5*this.frame.clientHeight},n=!0;else{const o=Math.round(this.frame.canvas.clientWidth*this.pixelRatio),u=Math.round(this.frame.canvas.clientHeight*this.pixelRatio);(this.frame.canvas.width!==o||this.frame.canvas.height!==u)&&this._getCameraState(a),this.frame.canvas.width!==o&&(this.frame.canvas.width=o,n=!0),this.frame.canvas.height!==u&&(this.frame.canvas.height=u,n=!0)}return n===!0&&(this.body.emitter.emit("resize",{width:Math.round(this.frame.canvas.width/this.pixelRatio),height:Math.round(this.frame.canvas.height/this.pixelRatio),oldWidth:Math.round(i/this.pixelRatio),oldHeight:Math.round(s/this.pixelRatio)}),this._setCameraState()),this.initialized=!0,n}getContext(){return this.frame.canvas.getContext("2d")}_determinePixelRatio(){const e=this.getContext();if(e===void 0)throw new Error("Could not get canvax context");let r=1;typeof window<"u"&&(r=window.devicePixelRatio||1);const n=e.webkitBackingStorePixelRatio||e.mozBackingStorePixelRatio||e.msBackingStorePixelRatio||e.oBackingStorePixelRatio||e.backingStorePixelRatio||1;return r/n}_setPixelRatio(){this.pixelRatio=this._determinePixelRatio()}setTransform(){const e=this.getContext();if(e===void 0)throw new Error("Could not get canvax context");e.setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0)}_XconvertDOMtoCanvas(e){return(e-this.body.view.translation.x)/this.body.view.scale}_XconvertCanvasToDOM(e){return e*this.body.view.scale+this.body.view.translation.x}_YconvertDOMtoCanvas(e){return(e-this.body.view.translation.y)/this.body.view.scale}_YconvertCanvasToDOM(e){return e*this.body.view.scale+this.body.view.translation.y}canvasToDOM(e){return{x:this._XconvertCanvasToDOM(e.x),y:this._YconvertCanvasToDOM(e.y)}}DOMtoCanvas(e){return{x:this._XconvertDOMtoCanvas(e.x),y:this._YconvertDOMtoCanvas(e.y)}}}function uxe(t,e){const r=er({nodes:e,minZoomLevel:Number.MIN_VALUE,maxZoomLevel:1},t??{});if(!Vt(r.nodes))throw new TypeError("Nodes has to be an array of ids.");if(r.nodes.length===0&&(r.nodes=e),!(typeof r.minZoomLevel=="number"&&r.minZoomLevel>0))throw new TypeError("Min zoom level has to be a number higher than zero.");if(!(typeof r.maxZoomLevel=="number"&&r.minZoomLevel<=r.maxZoomLevel))throw new TypeError("Max zoom level has to be a number higher than min zoom level.");return r}class cxe{constructor(e,r){var n,i;this.body=e,this.canvas=r,this.animationSpeed=1/this.renderRefreshRate,this.animationEasingFunction="easeInOutQuint",this.easingTime=0,this.sourceScale=0,this.targetScale=0,this.sourceTranslation=0,this.targetTranslation=0,this.lockedOnNodeId=void 0,this.lockedOnNodeOffset=void 0,this.touchTime=0,this.viewFunction=void 0,this.body.emitter.on("fit",re(n=this.fit).call(n,this)),this.body.emitter.on("animationFinished",()=>{this.body.emitter.emit("_stopRendering")}),this.body.emitter.on("unlockNode",re(i=this.releaseNode).call(i,this))}setOptions(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.options=e}fit(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;e=uxe(e,this.body.nodeIndices);const n=this.canvas.frame.canvas.clientWidth,i=this.canvas.frame.canvas.clientHeight;let s,a;if(n===0||i===0)a=1,s=Wr.getRange(this.body.nodes,e.nodes);else if(r===!0){let c=0;for(const f in this.body.nodes)Object.prototype.hasOwnProperty.call(this.body.nodes,f)&&this.body.nodes[f].predefinedPosition===!0&&(c+=1);if(c>.5*this.body.nodeIndices.length){this.fit(e,!1);return}s=Wr.getRange(this.body.nodes,e.nodes),a=12.662/(this.body.nodeIndices.length+7.4147)+.0964822;const h=Math.min(n/600,i/600);a*=h}else{this.body.emitter.emit("_resizeNodes"),s=Wr.getRange(this.body.nodes,e.nodes);const c=Math.abs(s.maxX-s.minX)*1.1,d=Math.abs(s.maxY-s.minY)*1.1,h=n/c,f=i/d;a=h<=f?h:f}a>e.maxZoomLevel?a=e.maxZoomLevel:a<e.minZoomLevel&&(a=e.minZoomLevel);const u={position:Wr.findCenter(s),scale:a,animation:e.animation};this.moveTo(u)}focus(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(this.body.nodes[e]!==void 0){const n={x:this.body.nodes[e].x,y:this.body.nodes[e].y};r.position=n,r.lockedOnNode=e,this.moveTo(r)}else console.error("Node: "+e+" cannot be found.")}moveTo(e){if(e===void 0){e={};return}if(e.offset!=null){if(e.offset.x!=null){if(e.offset.x=+e.offset.x,!ro(e.offset.x))throw new TypeError('The option "offset.x" has to be a finite number.')}else e.offset.x=0;if(e.offset.y!=null){if(e.offset.y=+e.offset.y,!ro(e.offset.y))throw new TypeError('The option "offset.y" has to be a finite number.')}else e.offset.x=0}else e.offset={x:0,y:0};if(e.position!=null){if(e.position.x!=null){if(e.position.x=+e.position.x,!ro(e.position.x))throw new TypeError('The option "position.x" has to be a finite number.')}else e.position.x=0;if(e.position.y!=null){if(e.position.y=+e.position.y,!ro(e.position.y))throw new TypeError('The option "position.y" has to be a finite number.')}else e.position.x=0}else e.position=this.getViewPosition();if(e.scale!=null){if(e.scale=+e.scale,!(e.scale>0))throw new TypeError('The option "scale" has to be a number greater than zero.')}else e.scale=this.body.view.scale;e.animation===void 0&&(e.animation={duration:0}),e.animation===!1&&(e.animation={duration:0}),e.animation===!0&&(e.animation={}),e.animation.duration===void 0&&(e.animation.duration=1e3),e.animation.easingFunction===void 0&&(e.animation.easingFunction="easeInOutQuad"),this.animateView(e)}animateView(e){if(e===void 0)return;this.animationEasingFunction=e.animation.easingFunction,this.releaseNode(),e.locked===!0&&(this.lockedOnNodeId=e.lockedOnNode,this.lockedOnNodeOffset=e.offset),this.easingTime!=0&&this._transitionRedraw(!0),this.sourceScale=this.body.view.scale,this.sourceTranslation=this.body.view.translation,this.targetScale=e.scale,this.body.view.scale=this.targetScale;const r=this.canvas.DOMtoCanvas({x:.5*this.canvas.frame.canvas.clientWidth,y:.5*this.canvas.frame.canvas.clientHeight}),n={x:r.x-e.position.x,y:r.y-e.position.y};if(this.targetTranslation={x:this.sourceTranslation.x+n.x*this.targetScale+e.offset.x,y:this.sourceTranslation.y+n.y*this.targetScale+e.offset.y},e.animation.duration===0)if(this.lockedOnNodeId!=null){var i;this.viewFunction=re(i=this._lockedRedraw).call(i,this),this.body.emitter.on("initRedraw",this.viewFunction)}else this.body.view.scale=this.targetScale,this.body.view.translation=this.targetTranslation,this.body.emitter.emit("_requestRedraw");else{var s;this.animationSpeed=1/(60*e.animation.duration*.001)||1/60,this.animationEasingFunction=e.animation.easingFunction,this.viewFunction=re(s=this._transitionRedraw).call(s,this),this.body.emitter.on("initRedraw",this.viewFunction),this.body.emitter.emit("_startRendering")}}_lockedRedraw(){const e={x:this.body.nodes[this.lockedOnNodeId].x,y:this.body.nodes[this.lockedOnNodeId].y},r=this.canvas.DOMtoCanvas({x:.5*this.canvas.frame.canvas.clientWidth,y:.5*this.canvas.frame.canvas.clientHeight}),n={x:r.x-e.x,y:r.y-e.y},i=this.body.view.translation,s={x:i.x+n.x*this.body.view.scale+this.lockedOnNodeOffset.x,y:i.y+n.y*this.body.view.scale+this.lockedOnNodeOffset.y};this.body.view.translation=s}releaseNode(){this.lockedOnNodeId!==void 0&&this.viewFunction!==void 0&&(this.body.emitter.off("initRedraw",this.viewFunction),this.lockedOnNodeId=void 0,this.lockedOnNodeOffset=void 0)}_transitionRedraw(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;this.easingTime+=this.animationSpeed,this.easingTime=e===!0?1:this.easingTime;const r=yge[this.animationEasingFunction](this.easingTime);if(this.body.view.scale=this.sourceScale+(this.targetScale-this.sourceScale)*r,this.body.view.translation={x:this.sourceTranslation.x+(this.targetTranslation.x-this.sourceTranslation.x)*r,y:this.sourceTranslation.y+(this.targetTranslation.y-this.sourceTranslation.y)*r},this.easingTime>=1){if(this.body.emitter.off("initRedraw",this.viewFunction),this.easingTime=0,this.lockedOnNodeId!=null){var n;this.viewFunction=re(n=this._lockedRedraw).call(n,this),this.body.emitter.on("initRedraw",this.viewFunction)}this.body.emitter.emit("animationFinished")}}getScale(){return this.body.view.scale}getViewPosition(){return this.canvas.DOMtoCanvas({x:.5*this.canvas.frame.canvas.clientWidth,y:.5*this.canvas.frame.canvas.clientHeight})}}function RU(t){var e=t&&t.preventDefault||!1,r=t&&t.container||window,n={},i={keydown:{},keyup:{}},s={},a;for(a=97;a<=122;a++)s[String.fromCharCode(a)]={code:65+(a-97),shift:!1};for(a=65;a<=90;a++)s[String.fromCharCode(a)]={code:a,shift:!0};for(a=0;a<=9;a++)s[""+a]={code:48+a,shift:!1};for(a=1;a<=12;a++)s["F"+a]={code:111+a,shift:!1};for(a=0;a<=9;a++)s["num"+a]={code:96+a,shift:!1};s["num*"]={code:106,shift:!1},s["num+"]={code:107,shift:!1},s["num-"]={code:109,shift:!1},s["num/"]={code:111,shift:!1},s["num."]={code:110,shift:!1},s.left={code:37,shift:!1},s.up={code:38,shift:!1},s.right={code:39,shift:!1},s.down={code:40,shift:!1},s.space={code:32,shift:!1},s.enter={code:13,shift:!1},s.shift={code:16,shift:void 0},s.esc={code:27,shift:!1},s.backspace={code:8,shift:!1},s.tab={code:9,shift:!1},s.ctrl={code:17,shift:!1},s.alt={code:18,shift:!1},s.delete={code:46,shift:!1},s.pageup={code:33,shift:!1},s.pagedown={code:34,shift:!1},s["="]={code:187,shift:!1},s["-"]={code:189,shift:!1},s["]"]={code:221,shift:!1},s["["]={code:219,shift:!1};var o=function(d){c(d,"keydown")},u=function(d){c(d,"keyup")},c=function(d,h){if(i[h][d.keyCode]!==void 0){for(var f=i[h][d.keyCode],p=0;p<f.length;p++)(f[p].shift===void 0||f[p].shift==!0&&d.shiftKey==!0||f[p].shift==!1&&d.shiftKey==!1)&&f[p].fn(d);e==!0&&d.preventDefault()}};return n.bind=function(d,h,f){if(f===void 0&&(f="keydown"),s[d]===void 0)throw new Error("unsupported key: "+d);i[f][s[d].code]===void 0&&(i[f][s[d].code]=[]),i[f][s[d].code].push({fn:h,shift:s[d].shift})},n.bindAll=function(d,h){h===void 0&&(h="keydown");for(var f in s)s.hasOwnProperty(f)&&n.bind(f,d,h)},n.getKey=function(d){for(var h in s)if(s.hasOwnProperty(h)){if(d.shiftKey==!0&&s[h].shift==!0&&d.keyCode==s[h].code)return h;if(d.shiftKey==!1&&s[h].shift==!1&&d.keyCode==s[h].code)return h;if(d.keyCode==s[h].code&&h=="shift")return h}return"unknown key, currently not supported"},n.unbind=function(d,h,f){if(f===void 0&&(f="keydown"),s[d]===void 0)throw new Error("unsupported key: "+d);if(h!==void 0){var p=[],v=i[f][s[d].code];if(v!==void 0)for(var y=0;y<v.length;y++)v[y].fn==h&&v[y].shift==s[d].shift||p.push(i[f][s[d].code][y]);i[f][s[d].code]=p}else i[f][s[d].code]=[]},n.reset=function(){i={keydown:{},keyup:{}}},n.destroy=function(){i={keydown:{},keyup:{}},r.removeEventListener("keydown",o,!0),r.removeEventListener("keyup",u,!0)},r.addEventListener("keydown",o,!0),r.addEventListener("keyup",u,!0),n}class dxe{constructor(e,r){this.body=e,this.canvas=r,this.iconsCreated=!1,this.navigationHammers=[],this.boundFunctions={},this.touchTime=0,this.activated=!1,this.body.emitter.on("activate",()=>{this.activated=!0,this.configureKeyboardBindings()}),this.body.emitter.on("deactivate",()=>{this.activated=!1,this.configureKeyboardBindings()}),this.body.emitter.on("destroy",()=>{this.keycharm!==void 0&&this.keycharm.destroy()}),this.options={}}setOptions(e){e!==void 0&&(this.options=e,this.create())}create(){this.options.navigationButtons===!0?this.iconsCreated===!1&&this.loadNavigationElements():this.iconsCreated===!0&&this.cleanNavigation(),this.configureKeyboardBindings()}cleanNavigation(){if(this.navigationHammers.length!=0){for(let e=0;e<this.navigationHammers.length;e++)this.navigationHammers[e].destroy();this.navigationHammers=[]}this.navigationDOM&&this.navigationDOM.wrapper&&this.navigationDOM.wrapper.parentNode&&this.navigationDOM.wrapper.parentNode.removeChild(this.navigationDOM.wrapper),this.iconsCreated=!1}loadNavigationElements(){this.cleanNavigation(),this.navigationDOM={};const e=["up","down","left","right","zoomIn","zoomOut","zoomExtends"],r=["_moveUp","_moveDown","_moveLeft","_moveRight","_zoomIn","_zoomOut","_fit"];this.navigationDOM.wrapper=document.createElement("div"),this.navigationDOM.wrapper.className="vis-navigation",this.canvas.frame.appendChild(this.navigationDOM.wrapper);for(let a=0;a<e.length;a++){this.navigationDOM[e[a]]=document.createElement("div"),this.navigationDOM[e[a]].className="vis-button vis-"+e[a],this.navigationDOM.wrapper.appendChild(this.navigationDOM[e[a]]);const o=new Kl(this.navigationDOM[e[a]]);if(r[a]==="_fit"){var n;Up(o,re(n=this._fit).call(n,this))}else{var i;Up(o,re(i=this.bindToRedraw).call(i,this,r[a]))}this.navigationHammers.push(o)}const s=new Kl(this.canvas.frame);QQ(s,()=>{this._stopMovement()}),this.navigationHammers.push(s),this.iconsCreated=!0}bindToRedraw(e){if(this.boundFunctions[e]===void 0){var r;this.boundFunctions[e]=re(r=this[e]).call(r,this),this.body.emitter.on("initRedraw",this.boundFunctions[e]),this.body.emitter.emit("_startRendering")}}unbindFromRedraw(e){this.boundFunctions[e]!==void 0&&(this.body.emitter.off("initRedraw",this.boundFunctions[e]),this.body.emitter.emit("_stopRendering"),delete this.boundFunctions[e])}_fit(){new Date().valueOf()-this.touchTime>700&&(this.body.emitter.emit("fit",{duration:700}),this.touchTime=new Date().valueOf())}_stopMovement(){for(const e in this.boundFunctions)Object.prototype.hasOwnProperty.call(this.boundFunctions,e)&&(this.body.emitter.off("initRedraw",this.boundFunctions[e]),this.body.emitter.emit("_stopRendering"));this.boundFunctions={}}_moveUp(){this.body.view.translation.y+=this.options.keyboard.speed.y}_moveDown(){this.body.view.translation.y-=this.options.keyboard.speed.y}_moveLeft(){this.body.view.translation.x+=this.options.keyboard.speed.x}_moveRight(){this.body.view.translation.x-=this.options.keyboard.speed.x}_zoomIn(){const e=this.body.view.scale,r=this.body.view.scale*(1+this.options.keyboard.speed.zoom),n=this.body.view.translation,i=r/e,s=(1-i)*this.canvas.canvasViewCenter.x+n.x*i,a=(1-i)*this.canvas.canvasViewCenter.y+n.y*i;this.body.view.scale=r,this.body.view.translation={x:s,y:a},this.body.emitter.emit("zoom",{direction:"+",scale:this.body.view.scale,pointer:null})}_zoomOut(){const e=this.body.view.scale,r=this.body.view.scale/(1+this.options.keyboard.speed.zoom),n=this.body.view.translation,i=r/e,s=(1-i)*this.canvas.canvasViewCenter.x+n.x*i,a=(1-i)*this.canvas.canvasViewCenter.y+n.y*i;this.body.view.scale=r,this.body.view.translation={x:s,y:a},this.body.emitter.emit("zoom",{direction:"-",scale:this.body.view.scale,pointer:null})}configureKeyboardBindings(){if(this.keycharm!==void 0&&this.keycharm.destroy(),this.options.keyboard.enabled===!0&&(this.options.keyboard.bindToWindow===!0?this.keycharm=RU({container:window,preventDefault:!0}):this.keycharm=RU({container:this.canvas.frame,preventDefault:!0}),this.keycharm.reset(),this.activated===!0)){var e,r,n,i,s,a,o,u,c,d,h,f,p,v,y,x,g,m,w,b,_,E,j,S;re(e=this.keycharm).call(e,"up",()=>{this.bindToRedraw("_moveUp")},"keydown"),re(r=this.keycharm).call(r,"down",()=>{this.bindToRedraw("_moveDown")},"keydown"),re(n=this.keycharm).call(n,"left",()=>{this.bindToRedraw("_moveLeft")},"keydown"),re(i=this.keycharm).call(i,"right",()=>{this.bindToRedraw("_moveRight")},"keydown"),re(s=this.keycharm).call(s,"=",()=>{this.bindToRedraw("_zoomIn")},"keydown"),re(a=this.keycharm).call(a,"num+",()=>{this.bindToRedraw("_zoomIn")},"keydown"),re(o=this.keycharm).call(o,"num-",()=>{this.bindToRedraw("_zoomOut")},"keydown"),re(u=this.keycharm).call(u,"-",()=>{this.bindToRedraw("_zoomOut")},"keydown"),re(c=this.keycharm).call(c,"[",()=>{this.bindToRedraw("_zoomOut")},"keydown"),re(d=this.keycharm).call(d,"]",()=>{this.bindToRedraw("_zoomIn")},"keydown"),re(h=this.keycharm).call(h,"pageup",()=>{this.bindToRedraw("_zoomIn")},"keydown"),re(f=this.keycharm).call(f,"pagedown",()=>{this.bindToRedraw("_zoomOut")},"keydown"),re(p=this.keycharm).call(p,"up",()=>{this.unbindFromRedraw("_moveUp")},"keyup"),re(v=this.keycharm).call(v,"down",()=>{this.unbindFromRedraw("_moveDown")},"keyup"),re(y=this.keycharm).call(y,"left",()=>{this.unbindFromRedraw("_moveLeft")},"keyup"),re(x=this.keycharm).call(x,"right",()=>{this.unbindFromRedraw("_moveRight")},"keyup"),re(g=this.keycharm).call(g,"=",()=>{this.unbindFromRedraw("_zoomIn")},"keyup"),re(m=this.keycharm).call(m,"num+",()=>{this.unbindFromRedraw("_zoomIn")},"keyup"),re(w=this.keycharm).call(w,"num-",()=>{this.unbindFromRedraw("_zoomOut")},"keyup"),re(b=this.keycharm).call(b,"-",()=>{this.unbindFromRedraw("_zoomOut")},"keyup"),re(_=this.keycharm).call(_,"[",()=>{this.unbindFromRedraw("_zoomOut")},"keyup"),re(E=this.keycharm).call(E,"]",()=>{this.unbindFromRedraw("_zoomIn")},"keyup"),re(j=this.keycharm).call(j,"pageup",()=>{this.unbindFromRedraw("_zoomIn")},"keyup"),re(S=this.keycharm).call(S,"pagedown",()=>{this.unbindFromRedraw("_zoomOut")},"keyup")}}}class hxe{constructor(e,r,n){var i,s,a,o,u,c,d,h,f,p,v,y,x;this.body=e,this.canvas=r,this.selectionHandler=n,this.navigationHandler=new dxe(e,r),this.body.eventListeners.onTap=re(i=this.onTap).call(i,this),this.body.eventListeners.onTouch=re(s=this.onTouch).call(s,this),this.body.eventListeners.onDoubleTap=re(a=this.onDoubleTap).call(a,this),this.body.eventListeners.onHold=re(o=this.onHold).call(o,this),this.body.eventListeners.onDragStart=re(u=this.onDragStart).call(u,this),this.body.eventListeners.onDrag=re(c=this.onDrag).call(c,this),this.body.eventListeners.onDragEnd=re(d=this.onDragEnd).call(d,this),this.body.eventListeners.onMouseWheel=re(h=this.onMouseWheel).call(h,this),this.body.eventListeners.onPinch=re(f=this.onPinch).call(f,this),this.body.eventListeners.onMouseMove=re(p=this.onMouseMove).call(p,this),this.body.eventListeners.onRelease=re(v=this.onRelease).call(v,this),this.body.eventListeners.onContext=re(y=this.onContext).call(y,this),this.touchTime=0,this.drag={},this.pinch={},this.popup=void 0,this.popupObj=void 0,this.popupTimer=void 0,this.body.functions.getPointer=re(x=this.getPointer).call(x,this),this.options={},this.defaultOptions={dragNodes:!0,dragView:!0,hover:!1,keyboard:{enabled:!1,speed:{x:10,y:10,zoom:.02},bindToWindow:!0,autoFocus:!0},navigationButtons:!1,tooltipDelay:300,zoomView:!0,zoomSpeed:1},er(this.options,this.defaultOptions),this.bindEventListeners()}bindEventListeners(){this.body.emitter.on("destroy",()=>{clearTimeout(this.popupTimer),delete this.body.functions.getPointer})}setOptions(e){e!==void 0&&(Lp(["hideEdgesOnDrag","hideEdgesOnZoom","hideNodesOnDrag","keyboard","multiselect","selectable","selectConnectedEdges"],this.options,e),Fn(this.options,e,"keyboard"),e.tooltip&&(er(this.options.tooltip,e.tooltip),e.tooltip.color&&(this.options.tooltip.color=Zj(e.tooltip.color)))),this.navigationHandler.setOptions(this.options)}getPointer(e){return{x:e.x-pge(this.canvas.frame.canvas),y:e.y-mge(this.canvas.frame.canvas)}}onTouch(e){new Date().valueOf()-this.touchTime>50&&(this.drag.pointer=this.getPointer(e.center),this.drag.pinched=!1,this.pinch.scale=this.body.view.scale,this.touchTime=new Date().valueOf())}onTap(e){const r=this.getPointer(e.center),n=this.selectionHandler.options.multiselect&&(e.changedPointers[0].ctrlKey||e.changedPointers[0].metaKey);this.checkSelectionChanges(r,n),this.selectionHandler.commitAndEmit(r,e),this.selectionHandler.generateClickEvent("click",e,r)}onDoubleTap(e){const r=this.getPointer(e.center);this.selectionHandler.generateClickEvent("doubleClick",e,r)}onHold(e){const r=this.getPointer(e.center),n=this.selectionHandler.options.multiselect;this.checkSelectionChanges(r,n),this.selectionHandler.commitAndEmit(r,e),this.selectionHandler.generateClickEvent("click",e,r),this.selectionHandler.generateClickEvent("hold",e,r)}onRelease(e){if(new Date().valueOf()-this.touchTime>10){const r=this.getPointer(e.center);this.selectionHandler.generateClickEvent("release",e,r),this.touchTime=new Date().valueOf()}}onContext(e){const r=this.getPointer({x:e.clientX,y:e.clientY});this.selectionHandler.generateClickEvent("oncontext",e,r)}checkSelectionChanges(e){(arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1)===!0?this.selectionHandler.selectAdditionalOnPoint(e):this.selectionHandler.selectOnPoint(e)}_determineDifference(e,r){const n=function(i,s){const a=[];for(let o=0;o<i.length;o++){const u=i[o];ct(s).call(s,u)===-1&&a.push(u)}return a};return{nodes:n(e.nodes,r.nodes),edges:n(e.edges,r.edges)}}onDragStart(e){if(this.drag.dragging)return;this.drag.pointer===void 0&&this.onTouch(e);const r=this.selectionHandler.getNodeAt(this.drag.pointer);if(this.drag.dragging=!0,this.drag.selection=[],this.drag.translation=er({},this.body.view.translation),this.drag.nodeId=void 0,e.srcEvent.shiftKey){this.body.selectionBox.show=!0;const n=this.getPointer(e.center);this.body.selectionBox.position.start={x:this.canvas._XconvertDOMtoCanvas(n.x),y:this.canvas._YconvertDOMtoCanvas(n.y)},this.body.selectionBox.position.end={x:this.canvas._XconvertDOMtoCanvas(n.x),y:this.canvas._YconvertDOMtoCanvas(n.y)}}else if(r!==void 0&&this.options.dragNodes===!0){this.drag.nodeId=r.id,r.isSelected()===!1&&this.selectionHandler.setSelection({nodes:[r.id]}),this.selectionHandler.generateClickEvent("dragStart",e,this.drag.pointer);for(const n of this.selectionHandler.getSelectedNodes()){const i={id:n.id,node:n,x:n.x,y:n.y,xFixed:n.options.fixed.x,yFixed:n.options.fixed.y};n.options.fixed.x=!0,n.options.fixed.y=!0,this.drag.selection.push(i)}}else this.selectionHandler.generateClickEvent("dragStart",e,this.drag.pointer,void 0,!0)}onDrag(e){if(this.drag.pinched===!0)return;this.body.emitter.emit("unlockNode");const r=this.getPointer(e.center),n=this.drag.selection;if(n&&n.length&&this.options.dragNodes===!0){this.selectionHandler.generateClickEvent("dragging",e,r);const i=r.x-this.drag.pointer.x,s=r.y-this.drag.pointer.y;pt(n).call(n,a=>{const o=a.node;a.xFixed===!1&&(o.x=this.canvas._XconvertDOMtoCanvas(this.canvas._XconvertCanvasToDOM(a.x)+i)),a.yFixed===!1&&(o.y=this.canvas._YconvertDOMtoCanvas(this.canvas._YconvertCanvasToDOM(a.y)+s))}),this.body.emitter.emit("startSimulation")}else{if(e.srcEvent.shiftKey){if(this.selectionHandler.generateClickEvent("dragging",e,r,void 0,!0),this.drag.pointer===void 0){this.onDragStart(e);return}this.body.selectionBox.position.end={x:this.canvas._XconvertDOMtoCanvas(r.x),y:this.canvas._YconvertDOMtoCanvas(r.y)},this.body.emitter.emit("_requestRedraw")}if(this.options.dragView===!0&&!e.srcEvent.shiftKey){if(this.selectionHandler.generateClickEvent("dragging",e,r,void 0,!0),this.drag.pointer===void 0){this.onDragStart(e);return}const i=r.x-this.drag.pointer.x,s=r.y-this.drag.pointer.y;this.body.view.translation={x:this.drag.translation.x+i,y:this.drag.translation.y+s},this.body.emitter.emit("_requestRedraw")}}}onDragEnd(e){if(this.drag.dragging=!1,this.body.selectionBox.show){var r;this.body.selectionBox.show=!1;const n=this.body.selectionBox.position,i={minX:Math.min(n.start.x,n.end.x),minY:Math.min(n.start.y,n.end.y),maxX:Math.max(n.start.x,n.end.x),maxY:Math.max(n.start.y,n.end.y)},s=on(r=this.body.nodeIndices).call(r,o=>{const u=this.body.nodes[o];return u.x>=i.minX&&u.x<=i.maxX&&u.y>=i.minY&&u.y<=i.maxY});pt(s).call(s,o=>this.selectionHandler.selectObject(this.body.nodes[o]));const a=this.getPointer(e.center);this.selectionHandler.commitAndEmit(a,e),this.selectionHandler.generateClickEvent("dragEnd",e,this.getPointer(e.center),void 0,!0),this.body.emitter.emit("_requestRedraw")}else{const n=this.drag.selection;n&&n.length?(pt(n).call(n,function(i){i.node.options.fixed.x=i.xFixed,i.node.options.fixed.y=i.yFixed}),this.selectionHandler.generateClickEvent("dragEnd",e,this.getPointer(e.center)),this.body.emitter.emit("startSimulation")):(this.selectionHandler.generateClickEvent("dragEnd",e,this.getPointer(e.center),void 0,!0),this.body.emitter.emit("_requestRedraw"))}}onPinch(e){const r=this.getPointer(e.center);this.drag.pinched=!0,this.pinch.scale===void 0&&(this.pinch.scale=1);const n=this.pinch.scale*e.scale;this.zoom(n,r)}zoom(e,r){if(this.options.zoomView===!0){const n=this.body.view.scale;e<1e-5&&(e=1e-5),e>10&&(e=10);let i;this.drag!==void 0&&this.drag.dragging===!0&&(i=this.canvas.DOMtoCanvas(this.drag.pointer));const s=this.body.view.translation,a=e/n,o=(1-a)*r.x+s.x*a,u=(1-a)*r.y+s.y*a;if(this.body.view.scale=e,this.body.view.translation={x:o,y:u},i!=null){const c=this.canvas.canvasToDOM(i);this.drag.pointer.x=c.x,this.drag.pointer.y=c.y}this.body.emitter.emit("_requestRedraw"),n<e?this.body.emitter.emit("zoom",{direction:"+",scale:this.body.view.scale,pointer:r}):this.body.emitter.emit("zoom",{direction:"-",scale:this.body.view.scale,pointer:r})}}onMouseWheel(e){if(this.options.zoomView===!0){if(e.deltaY!==0){let r=this.body.view.scale;r*=1+(e.deltaY<0?1:-1)*(this.options.zoomSpeed*.1);const n=this.getPointer({x:e.clientX,y:e.clientY});this.zoom(r,n)}e.preventDefault()}}onMouseMove(e){const r=this.getPointer({x:e.clientX,y:e.clientY});let n=!1;this.popup!==void 0&&(this.popup.hidden===!1&&this._checkHidePopup(r),this.popup.hidden===!1&&(n=!0,this.popup.setPosition(r.x+3,r.y-5),this.popup.show())),this.options.keyboard.autoFocus&&this.options.keyboard.bindToWindow===!1&&this.options.keyboard.enabled===!0&&this.canvas.frame.focus(),n===!1&&(this.popupTimer!==void 0&&(clearInterval(this.popupTimer),this.popupTimer=void 0),this.drag.dragging||(this.popupTimer=hs(()=>this._checkShowPopup(r),this.options.tooltipDelay))),this.options.hover===!0&&this.selectionHandler.hoverObject(e,r)}_checkShowPopup(e){const r=this.canvas._XconvertDOMtoCanvas(e.x),n=this.canvas._YconvertDOMtoCanvas(e.y),i={left:r,top:n,right:r,bottom:n},s=this.popupObj===void 0?void 0:this.popupObj.id;let a=!1,o="node";if(this.popupObj===void 0){const u=this.body.nodeIndices,c=this.body.nodes;let d;const h=[];for(let f=0;f<u.length;f++)d=c[u[f]],d.isOverlappingWith(i)===!0&&(a=!0,d.getTitle()!==void 0&&h.push(u[f]));h.length>0&&(this.popupObj=c[h[h.length-1]],a=!0)}if(this.popupObj===void 0&&a===!1){const u=this.body.edgeIndices,c=this.body.edges;let d;const h=[];for(let f=0;f<u.length;f++)d=c[u[f]],d.isOverlappingWith(i)===!0&&d.connected===!0&&d.getTitle()!==void 0&&h.push(u[f]);h.length>0&&(this.popupObj=c[h[h.length-1]],o="edge")}this.popupObj!==void 0?this.popupObj.id!==s&&(this.popup===void 0&&(this.popup=new jge(this.canvas.frame)),this.popup.popupTargetType=o,this.popup.popupTargetId=this.popupObj.id,this.popup.setPosition(e.x+3,e.y-5),this.popup.setText(this.popupObj.getTitle()),this.popup.show(),this.body.emitter.emit("showPopup",this.popupObj.id)):this.popup!==void 0&&(this.popup.hide(),this.body.emitter.emit("hidePopup"))}_checkHidePopup(e){const r=this.selectionHandler._pointerToPositionObject(e);let n=!1;if(this.popup.popupTargetType==="node"){if(this.body.nodes[this.popup.popupTargetId]!==void 0&&(n=this.body.nodes[this.popup.popupTargetId].isOverlappingWith(r),n===!0)){const i=this.selectionHandler.getNodeAt(e);n=i===void 0?!1:i.id===this.popup.popupTargetId}}else this.selectionHandler.getNodeAt(e)===void 0&&this.body.edges[this.popup.popupTargetId]!==void 0&&(n=this.body.edges[this.popup.popupTargetId].isOverlappingWith(r));n===!1&&(this.popupObj=void 0,this.popup.hide(),this.body.emitter.emit("hidePopup"))}}var $U={},kU={},DU;function fxe(){if(DU)return kU;DU=1;var t=OT(),e=FQ();return t("Set",function(r){return function(){return r(this,arguments.length?arguments[0]:void 0)}},e),kU}var MU;function pxe(){return MU||(MU=1,fxe()),$U}var qU={},xN,AU;function ul(){if(AU)return xN;AU=1;var t=tc(),e=TypeError;return xN=function(r){if(typeof r=="object"&&"size"in r&&"has"in r&&"add"in r&&"delete"in r&&"keys"in r)return r;throw new e(t(r)+" is not a set")},xN}var wN,FU;function cl(){if(FU)return wN;FU=1;var t=Rn(),e=LQ(),r=t("Set"),n=r.prototype;return wN={Set:r,add:e("add",1),has:e("has",1),remove:e("delete",1),proto:n},wN}var _N,LU;function dl(){if(LU)return _N;LU=1;var t=xn();return _N=function(e,r,n){for(var i=n?e:e.iterator,s=e.next,a,o;!(a=t(s,i)).done;)if(o=r(a.value),o!==void 0)return o},_N}var SN,BU;function Fh(){if(BU)return SN;BU=1;var t=dl();return SN=function(e,r,n){return n?t(e.keys(),r,!0):e.forEach(r)},SN}var EN,zU;function DT(){if(zU)return EN;zU=1;var t=cl(),e=Fh(),r=t.Set,n=t.add;return EN=function(i){var s=new r;return e(i,function(a){n(s,a)}),s},EN}var NN,UU;function Lh(){return UU||(UU=1,NN=function(t){return t.size}),NN}var jN,WU;function mxe(){return WU||(WU=1,jN=function(t){return{iterator:t,next:t.next,done:!1}}),jN}var CN,VU;function hl(){if(VU)return CN;VU=1;var t=Rs(),e=zi(),r=xn(),n=sc(),i=mxe(),s="Invalid size",a=RangeError,o=TypeError,u=Math.max,c=function(d,h){this.set=d,this.size=u(h,0),this.has=t(d.has),this.keys=t(d.keys)};return c.prototype={getIterator:function(){return i(e(r(this.keys,this.set)))},includes:function(d){return r(this.has,this.set,d)}},CN=function(d){e(d);var h=+d.size;if(h!==h)throw new o(s);var f=n(h);if(f<0)throw new a(s);return new c(d,f)},CN}var ON,HU;function vxe(){if(HU)return ON;HU=1;var t=ul(),e=cl(),r=DT(),n=Lh(),i=hl(),s=Fh(),a=dl(),o=e.has,u=e.remove;return ON=function(d){var h=t(this),f=i(d),p=r(h);return n(h)<=f.size?s(h,function(v){f.includes(v)&&u(p,v)}):a(f.getIterator(),function(v){o(p,v)&&u(p,v)}),p},ON}var TN,KU;function fl(){return KU||(KU=1,TN=function(){return!1}),TN}var GU;function gxe(){if(GU)return qU;GU=1;var t=je(),e=vxe(),r=Ge(),n=fl(),i=!n("difference",function(a){return a.size===0}),s=i||r(function(){var a={size:1,has:function(){return!0},keys:function(){var u=0;return{next:function(){var c=u++>1;return o.has(1)&&o.clear(),{done:c,value:2}}}}},o=new Set([1,2,3,4]);return o.difference(a).size!==3});return t({target:"Set",proto:!0,real:!0,forced:s},{difference:e}),qU}var YU={},PN,QU;function yxe(){if(QU)return PN;QU=1;var t=ul(),e=cl(),r=Lh(),n=hl(),i=Fh(),s=dl(),a=e.Set,o=e.add,u=e.has;return PN=function(d){var h=t(this),f=n(d),p=new a;return r(h)>f.size?s(f.getIterator(),function(v){u(h,v)&&o(p,v)}):i(h,function(v){f.includes(v)&&o(p,v)}),p},PN}var XU;function bxe(){if(XU)return YU;XU=1;var t=je(),e=Ge(),r=yxe(),n=fl(),i=!n("intersection",function(s){return s.size===2&&s.has(1)&&s.has(2)})||e(function(){return String(Array.from(new Set([1,2,3]).intersection(new Set([3,2]))))!=="3,2"});return t({target:"Set",proto:!0,real:!0,forced:i},{intersection:r}),YU}var JU={},IN,ZU;function xxe(){if(ZU)return IN;ZU=1;var t=ul(),e=cl().has,r=Lh(),n=hl(),i=Fh(),s=dl(),a=jT();return IN=function(u){var c=t(this),d=n(u);if(r(c)<=d.size)return i(c,function(f){if(d.includes(f))return!1},!0)!==!1;var h=d.getIterator();return s(h,function(f){if(e(c,f))return a(h,"normal",!1)})!==!1},IN}var e9;function wxe(){if(e9)return JU;e9=1;var t=je(),e=xxe(),r=fl(),n=!r("isDisjointFrom",function(i){return!i});return t({target:"Set",proto:!0,real:!0,forced:n},{isDisjointFrom:e}),JU}var t9={},RN,r9;function _xe(){if(r9)return RN;r9=1;var t=ul(),e=Lh(),r=Fh(),n=hl();return RN=function(s){var a=t(this),o=n(s);return e(a)>o.size?!1:r(a,function(u){if(!o.includes(u))return!1},!0)!==!1},RN}var n9;function Sxe(){if(n9)return t9;n9=1;var t=je(),e=_xe(),r=fl(),n=!r("isSubsetOf",function(i){return i});return t({target:"Set",proto:!0,real:!0,forced:n},{isSubsetOf:e}),t9}var i9={},$N,s9;function Exe(){if(s9)return $N;s9=1;var t=ul(),e=cl().has,r=Lh(),n=hl(),i=dl(),s=jT();return $N=function(o){var u=t(this),c=n(o);if(r(u)<c.size)return!1;var d=c.getIterator();return i(d,function(h){if(!e(u,h))return s(d,"normal",!1)})!==!1},$N}var a9;function Nxe(){if(a9)return i9;a9=1;var t=je(),e=Exe(),r=fl(),n=!r("isSupersetOf",function(i){return!i});return t({target:"Set",proto:!0,real:!0,forced:n},{isSupersetOf:e}),i9}var o9={},kN,l9;function jxe(){if(l9)return kN;l9=1;var t=ul(),e=cl(),r=DT(),n=hl(),i=dl(),s=e.add,a=e.has,o=e.remove;return kN=function(c){var d=t(this),h=n(c).getIterator(),f=r(d);return i(h,function(p){a(d,p)?o(f,p):s(f,p)}),f},kN}var DN,u9;function XQ(){return u9||(u9=1,DN=function(t){try{var e=new Set,r={size:0,has:function(){return!0},keys:function(){return Object.defineProperty({},"next",{get:function(){return e.clear(),e.add(4),function(){return{done:!0}}}})}},n=e[t](r);return n.size===1&&n.values().next().value===4}catch{return!1}}),DN}var c9;function Cxe(){if(c9)return o9;c9=1;var t=je(),e=jxe(),r=XQ(),n=fl(),i=!n("symmetricDifference")||!r("symmetricDifference");return t({target:"Set",proto:!0,real:!0,forced:i},{symmetricDifference:e}),o9}var d9={},MN,h9;function Oxe(){if(h9)return MN;h9=1;var t=ul(),e=cl().add,r=DT(),n=hl(),i=dl();return MN=function(a){var o=t(this),u=n(a).getIterator(),c=r(o);return i(u,function(d){e(c,d)}),c},MN}var f9;function Txe(){if(f9)return d9;f9=1;var t=je(),e=Oxe(),r=XQ(),n=fl(),i=!n("union")||!r("union");return t({target:"Set",proto:!0,real:!0,forced:i},{union:e}),d9}var qN,p9;function Pxe(){if(p9)return qN;p9=1,uc(),pxe(),gxe(),bxe(),wxe(),Sxe(),Nxe(),Cxe(),Txe(),PT();var t=ft();return qN=t.Set,qN}var AN,m9;function Ixe(){if(m9)return AN;m9=1;var t=Pxe();return cc(),AN=t,AN}var FN,v9;function Rxe(){return v9||(v9=1,FN=Ixe()),FN}var $xe=Rxe(),Hs=Re($xe),g9={},y9={},LN,b9;function kxe(){if(b9)return LN;b9=1;var t=Qe(),e=TT(),r=Gm().getWeakData,n=CT(),i=zi(),s=Ju(),a=wr(),o=Ym(),u=qa(),c=Or(),d=al(),h=d.set,f=d.getterFor,p=u.find,v=u.findIndex,y=t([].splice),x=0,g=function(b){return b.frozen||(b.frozen=new m)},m=function(){this.entries=[]},w=function(b,_){return p(b.entries,function(E){return E[0]===_})};return m.prototype={get:function(b){var _=w(this,b);if(_)return _[1]},has:function(b){return!!w(this,b)},set:function(b,_){var E=w(this,b);E?E[1]=_:this.entries.push([b,_])},delete:function(b){var _=v(this.entries,function(E){return E[0]===b});return~_&&y(this.entries,_,1),!!~_}},LN={getConstructor:function(b,_,E,j){var S=b(function(P,I){n(P,C),h(P,{type:_,id:x++,frozen:null}),s(I)||o(I,P[j],{that:P,AS_ENTRIES:E})}),C=S.prototype,N=f(_),O=function(P,I,D){var F=N(P),M=r(i(I),!0);return M===!0?g(F).set(I,D):M[F.id]=D,P};return e(C,{delete:function(P){var I=N(this);if(!a(P))return!1;var D=r(P);return D===!0?g(I).delete(P):D&&c(D,I.id)&&delete D[I.id]},has:function(I){var D=N(this);if(!a(I))return!1;var F=r(I);return F===!0?g(D).has(I):F&&c(F,D.id)}}),e(C,E?{get:function(I){var D=N(this);if(a(I)){var F=r(I);if(F===!0)return g(D).get(I);if(F)return F[D.id]}},set:function(I,D){return O(this,I,D)}}:{add:function(I){return O(this,I,!0)}}),S}},LN}var x9;function Dxe(){if(x9)return y9;x9=1;var t=qQ(),e=Ot(),r=Qe(),n=TT(),i=Gm(),s=OT(),a=kxe(),o=wr(),u=al().enforce,c=Ge(),d=FY(),h=Object,f=Array.isArray,p=h.isExtensible,v=h.isFrozen,y=h.isSealed,x=h.freeze,g=h.seal,m=!e.ActiveXObject&&"ActiveXObject"in e,w,b=function(P){return function(){return P(this,arguments.length?arguments[0]:void 0)}},_=s("WeakMap",b,a),E=_.prototype,j=r(E.set),S=function(){return t&&c(function(){var P=x([]);return j(new _,P,1),!v(P)})};if(d)if(m){w=a.getConstructor(b,"WeakMap",!0),i.enable();var C=r(E.delete),N=r(E.has),O=r(E.get);n(E,{delete:function(P){if(o(P)&&!p(P)){var I=u(this);return I.frozen||(I.frozen=new w),C(this,P)||I.frozen.delete(P)}return C(this,P)},has:function(I){if(o(I)&&!p(I)){var D=u(this);return D.frozen||(D.frozen=new w),N(this,I)||D.frozen.has(I)}return N(this,I)},get:function(I){if(o(I)&&!p(I)){var D=u(this);return D.frozen||(D.frozen=new w),N(this,I)?O(this,I):D.frozen.get(I)}return O(this,I)},set:function(I,D){if(o(I)&&!p(I)){var F=u(this);F.frozen||(F.frozen=new w),N(this,I)?j(this,I,D):F.frozen.set(I,D)}else j(this,I,D);return this}})}else S()&&n(E,{set:function(I,D){var F;return f(I)&&(v(I)?F=x:y(I)&&(F=g)),j(this,I,D),F&&F(I),this}});return y9}var w9;function Mxe(){return w9||(w9=1,Dxe()),g9}var BN,_9;function qxe(){if(_9)return BN;_9=1,uc(),Mxe();var t=ft();return BN=t.WeakMap,BN}var zN,S9;function Axe(){if(S9)return zN;S9=1;var t=qxe();return cc(),zN=t,zN}var UN,E9;function Fxe(){return E9||(E9=1,UN=Axe()),UN}var Lxe=Fxe(),Bh=Re(Lxe);function id(t,e,r){Bxe(t,e),e.set(t,r)}function Bxe(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function sC(t,e,r){return t.set(JQ(t,e),r),r}function gt(t,e){return t.get(JQ(t,e))}function JQ(t,e,r){if(typeof t=="function"?t===e:t.has(e))return arguments.length<3?e:r;throw new TypeError("Private element is not present on this object")}function N9(t,e){const r=new Hs;for(const n of e)t.has(n)||r.add(n);return r}var bl=new Bh,ri=new Bh;class j9{constructor(){id(this,bl,new Hs),id(this,ri,new Hs)}get size(){return gt(ri,this).size}add(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];for(const i of r)gt(ri,this).add(i)}delete(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];for(const i of r)gt(ri,this).delete(i)}clear(){gt(ri,this).clear()}getSelection(){return[...gt(ri,this)]}getChanges(){return{added:[...N9(gt(bl,this),gt(ri,this))],deleted:[...N9(gt(ri,this),gt(bl,this))],previous:[...new Hs(gt(bl,this))],current:[...new Hs(gt(ri,this))]}}commit(){const e=this.getChanges();sC(bl,this,gt(ri,this)),sC(ri,this,new Hs(gt(bl,this)));for(const r of e.added)r.select();for(const r of e.deleted)r.unselect();return e}}var za=new Bh,Ua=new Bh,WN=new Bh;class zxe{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:()=>{};id(this,za,new j9),id(this,Ua,new j9),id(this,WN,void 0),sC(WN,this,e)}get sizeNodes(){return gt(za,this).size}get sizeEdges(){return gt(Ua,this).size}getNodes(){return gt(za,this).getSelection()}getEdges(){return gt(Ua,this).getSelection()}addNodes(){gt(za,this).add(...arguments)}addEdges(){gt(Ua,this).add(...arguments)}deleteNodes(e){gt(za,this).delete(e)}deleteEdges(e){gt(Ua,this).delete(e)}clear(){gt(za,this).clear(),gt(Ua,this).clear()}commit(){const e={nodes:gt(za,this).commit(),edges:gt(Ua,this).commit()};for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return gt(WN,this).call(this,e,...n),e}}class Uxe{constructor(e,r){this.body=e,this.canvas=r,this._selectionAccumulator=new zxe,this.hoverObj={nodes:{},edges:{}},this.options={},this.defaultOptions={multiselect:!1,selectable:!0,selectConnectedEdges:!0,hoverConnectedEdges:!0},er(this.options,this.defaultOptions),this.body.emitter.on("_dataChanged",()=>{this.updateSelection()})}setOptions(e){e!==void 0&&fc(["multiselect","hoverConnectedEdges","selectable","selectConnectedEdges"],this.options,e)}selectOnPoint(e){let r=!1;if(this.options.selectable===!0){const n=this.getNodeAt(e)||this.getEdgeAt(e);this.unselectAll(),n!==void 0&&(r=this.selectObject(n)),this.body.emitter.emit("_requestRedraw")}return r}selectAdditionalOnPoint(e){let r=!1;if(this.options.selectable===!0){const n=this.getNodeAt(e)||this.getEdgeAt(e);n!==void 0&&(r=!0,n.isSelected()===!0?this.deselectObject(n):this.selectObject(n),this.body.emitter.emit("_requestRedraw"))}return r}_initBaseEvent(e,r){const n={};return n.pointer={DOM:{x:r.x,y:r.y},canvas:this.canvas.DOMtoCanvas(r)},n.event=e,n}generateClickEvent(e,r,n,i){let s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1;const a=this._initBaseEvent(r,n);if(s===!0)a.nodes=[],a.edges=[];else{const o=this.getSelection();a.nodes=o.nodes,a.edges=o.edges}i!==void 0&&(a.previousSelection=i),e=="click"&&(a.items=this.getClickedItems(n)),r.controlEdge!==void 0&&(a.controlEdge=r.controlEdge),this.body.emitter.emit(e,a)}selectObject(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.options.selectConnectedEdges;return e!==void 0?(e instanceof jt?(r===!0&&this._selectionAccumulator.addEdges(...e.edges),this._selectionAccumulator.addNodes(e)):this._selectionAccumulator.addEdges(e),!0):!1}deselectObject(e){e.isSelected()===!0&&(e.selected=!1,this._removeFromSelection(e))}_getAllNodesOverlappingWith(e){const r=[],n=this.body.nodes;for(let i=0;i<this.body.nodeIndices.length;i++){const s=this.body.nodeIndices[i];n[s].isOverlappingWith(e)&&r.push(s)}return r}_pointerToPositionObject(e){const r=this.canvas.DOMtoCanvas(e);return{left:r.x-1,top:r.y+1,right:r.x+1,bottom:r.y-1}}getNodeAt(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;const n=this._pointerToPositionObject(e),i=this._getAllNodesOverlappingWith(n);if(i.length>0)return r===!0?this.body.nodes[i[i.length-1]]:i[i.length-1]}_getEdgesOverlappingWith(e,r){const n=this.body.edges;for(let i=0;i<this.body.edgeIndices.length;i++){const s=this.body.edgeIndices[i];n[s].isOverlappingWith(e)&&r.push(s)}}_getAllEdgesOverlappingWith(e){const r=[];return this._getEdgesOverlappingWith(e,r),r}getEdgeAt(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;const n=this.canvas.DOMtoCanvas(e);let i=10,s=null;const a=this.body.edges;for(let o=0;o<this.body.edgeIndices.length;o++){const u=this.body.edgeIndices[o],c=a[u];if(c.connected){const d=c.from.x,h=c.from.y,f=c.to.x,p=c.to.y,v=c.edgeType.getDistanceToEdge(d,h,f,p,n.x,n.y);v<i&&(s=u,i=v)}}if(s!==null)return r===!0?this.body.edges[s]:s}_addToHover(e){e instanceof jt?this.hoverObj.nodes[e.id]=e:this.hoverObj.edges[e.id]=e}_removeFromSelection(e){e instanceof jt?(this._selectionAccumulator.deleteNodes(e),this._selectionAccumulator.deleteEdges(...e.edges)):this._selectionAccumulator.deleteEdges(e)}unselectAll(){this._selectionAccumulator.clear()}getSelectedNodeCount(){return this._selectionAccumulator.sizeNodes}getSelectedEdgeCount(){return this._selectionAccumulator.sizeEdges}_hoverConnectedEdges(e){for(let r=0;r<e.edges.length;r++){const n=e.edges[r];n.hover=!0,this._addToHover(n)}}emitBlurEvent(e,r,n){const i=this._initBaseEvent(e,r);n.hover===!0&&(n.hover=!1,n instanceof jt?(i.node=n.id,this.body.emitter.emit("blurNode",i)):(i.edge=n.id,this.body.emitter.emit("blurEdge",i)))}emitHoverEvent(e,r,n){const i=this._initBaseEvent(e,r);let s=!1;return n.hover===!1&&(n.hover=!0,this._addToHover(n),s=!0,n instanceof jt?(i.node=n.id,this.body.emitter.emit("hoverNode",i)):(i.edge=n.id,this.body.emitter.emit("hoverEdge",i))),s}hoverObject(e,r){let n=this.getNodeAt(r);n===void 0&&(n=this.getEdgeAt(r));let i=!1;for(const s in this.hoverObj.nodes)Object.prototype.hasOwnProperty.call(this.hoverObj.nodes,s)&&(n===void 0||n instanceof jt&&n.id!=s||n instanceof _a)&&(this.emitBlurEvent(e,r,this.hoverObj.nodes[s]),delete this.hoverObj.nodes[s],i=!0);for(const s in this.hoverObj.edges)Object.prototype.hasOwnProperty.call(this.hoverObj.edges,s)&&(i===!0?(this.hoverObj.edges[s].hover=!1,delete this.hoverObj.edges[s]):(n===void 0||n instanceof _a&&n.id!=s||n instanceof jt&&!n.hover)&&(this.emitBlurEvent(e,r,this.hoverObj.edges[s]),delete this.hoverObj.edges[s],i=!0));if(n!==void 0){const s=zt(this.hoverObj.edges).length,a=zt(this.hoverObj.nodes).length,o=n instanceof _a&&s===0&&a===0,u=n instanceof jt&&s===0&&a===0;(i||o||u)&&(i=this.emitHoverEvent(e,r,n)),n instanceof jt&&this.options.hoverConnectedEdges===!0&&this._hoverConnectedEdges(n)}i===!0&&this.body.emitter.emit("_requestRedraw")}commitWithoutEmitting(){this._selectionAccumulator.commit()}commitAndEmit(e,r){let n=!1;const i=this._selectionAccumulator.commit(),s={nodes:i.nodes.previous,edges:i.edges.previous};i.edges.deleted.length>0&&(this.generateClickEvent("deselectEdge",r,e,s),n=!0),i.nodes.deleted.length>0&&(this.generateClickEvent("deselectNode",r,e,s),n=!0),i.nodes.added.length>0&&(this.generateClickEvent("selectNode",r,e),n=!0),i.edges.added.length>0&&(this.generateClickEvent("selectEdge",r,e),n=!0),n===!0&&this.generateClickEvent("select",r,e)}getSelection(){return{nodes:this.getSelectedNodeIds(),edges:this.getSelectedEdgeIds()}}getSelectedNodes(){return this._selectionAccumulator.getNodes()}getSelectedEdges(){return this._selectionAccumulator.getEdges()}getSelectedNodeIds(){var e;return Ou(e=this._selectionAccumulator.getNodes()).call(e,r=>r.id)}getSelectedEdgeIds(){var e;return Ou(e=this._selectionAccumulator.getEdges()).call(e,r=>r.id)}setSelection(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!e||!e.nodes&&!e.edges)throw new TypeError("Selection must be an object with nodes and/or edges properties");if((r.unselectAll||r.unselectAll===void 0)&&this.unselectAll(),e.nodes)for(const n of e.nodes){const i=this.body.nodes[n];if(!i)throw new RangeError('Node with id "'+n+'" not found');this.selectObject(i,r.highlightEdges)}if(e.edges)for(const n of e.edges){const i=this.body.edges[n];if(!i)throw new RangeError('Edge with id "'+n+'" not found');this.selectObject(i)}this.body.emitter.emit("_requestRedraw"),this._selectionAccumulator.commit()}selectNodes(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(!e||e.length===void 0)throw"Selection must be an array with ids";this.setSelection({nodes:e},{highlightEdges:r})}selectEdges(e){if(!e||e.length===void 0)throw"Selection must be an array with ids";this.setSelection({edges:e})}updateSelection(){for(const e in this._selectionAccumulator.getNodes())Object.prototype.hasOwnProperty.call(this.body.nodes,e.id)||this._selectionAccumulator.deleteNodes(e);for(const e in this._selectionAccumulator.getEdges())Object.prototype.hasOwnProperty.call(this.body.edges,e.id)||this._selectionAccumulator.deleteEdges(e)}getClickedItems(e){const r=this.canvas.DOMtoCanvas(e),n=[],i=this.body.nodeIndices,s=this.body.nodes;for(let u=i.length-1;u>=0;u--){const d=s[i[u]].getItemsOnPoint(r);n.push.apply(n,d)}const a=this.body.edgeIndices,o=this.body.edges;for(let u=a.length-1;u>=0;u--){const d=o[a[u]].getItemsOnPoint(r);n.push.apply(n,d)}return n}}var C9={},VN,O9;function Wxe(){if(O9)return VN;O9=1;var t=ac(),e=Math.floor,r=function(n,i){var s=n.length;if(s<8)for(var a=1,o,u;a<s;){for(u=a,o=n[a];u&&i(n[u-1],o)>0;)n[u]=n[--u];u!==a++&&(n[u]=o)}else for(var c=e(s/2),d=r(t(n,0,c),i),h=r(t(n,c),i),f=d.length,p=h.length,v=0,y=0;v<f||y<p;)n[v+y]=v<f&&y<p?i(d[v],h[y])<=0?d[v++]:h[y++]:v<f?d[v++]:h[y++];return n};return VN=r,VN}var HN,T9;function Vxe(){if(T9)return HN;T9=1;var t=Zu(),e=t.match(/firefox\/(\d+)/i);return HN=!!e&&+e[1],HN}var KN,P9;function Hxe(){if(P9)return KN;P9=1;var t=Zu();return KN=/MSIE|Trident/.test(t),KN}var GN,I9;function Kxe(){if(I9)return GN;I9=1;var t=Zu(),e=t.match(/AppleWebKit\/(\d+)\./);return GN=!!e&&+e[1],GN}var R9;function Gxe(){if(R9)return C9;R9=1;var t=je(),e=Qe(),r=Rs(),n=$n(),i=$s(),s=QY(),a=Jn(),o=Ge(),u=Wxe(),c=dc(),d=Vxe(),h=Hxe(),f=Nh(),p=Kxe(),v=[],y=e(v.sort),x=e(v.push),g=o(function(){v.sort(void 0)}),m=o(function(){v.sort(null)}),w=c("sort"),b=!o(function(){if(f)return f<70;if(!(d&&d>3)){if(h)return!0;if(p)return p<603;var j="",S,C,N,O;for(S=65;S<76;S++){switch(C=String.fromCharCode(S),S){case 66:case 69:case 70:case 72:N=3;break;case 68:case 71:N=4;break;default:N=2}for(O=0;O<47;O++)v.push({k:C+O,v:N})}for(v.sort(function(P,I){return I.v-P.v}),O=0;O<v.length;O++)C=v[O].k.charAt(0),j.charAt(j.length-1)!==C&&(j+=C);return j!=="DGBEFHACIJK"}}),_=g||!m||!w||!b,E=function(j){return function(S,C){return C===void 0?-1:S===void 0?1:j!==void 0?+j(S,C)||0:a(S)>a(C)?1:-1}};return t({target:"Array",proto:!0,forced:_},{sort:function(S){S!==void 0&&r(S);var C=n(this);if(b)return S===void 0?y(C):y(C,S);var N=[],O=i(C),P,I;for(I=0;I<O;I++)I in C&&x(N,C[I]);for(u(N,E(S)),P=i(N),I=0;I<P;)C[I]=N[I++];for(;I<O;)s(C,I++);return C}}),C9}var YN,$9;function Yxe(){if($9)return YN;$9=1,Gxe();var t=Tr();return YN=t("Array","sort"),YN}var QN,k9;function Qxe(){if(k9)return QN;k9=1;var t=ir(),e=Yxe(),r=Array.prototype;return QN=function(n){var i=n.sort;return n===r||t(r,n)&&i===r.sort?e:i},QN}var XN,D9;function Xxe(){if(D9)return XN;D9=1;var t=Qxe();return XN=t,XN}var JN,M9;function Jxe(){return M9||(M9=1,JN=Xxe()),JN}var Zxe=Jxe(),Yl=Re(Zxe),q9={},ZN,A9;function e1e(){if(A9)return ZN;A9=1;var t=Rs(),e=$n(),r=km(),n=$s(),i=TypeError,s="Reduce of empty array with no initial value",a=function(o){return function(u,c,d,h){var f=e(u),p=r(f),v=n(f);if(t(c),v===0&&d<2)throw new i(s);var y=o?v-1:0,x=o?-1:1;if(d<2)for(;;){if(y in p){h=p[y],y+=x;break}if(y+=x,o?y<0:v<=y)throw new i(s)}for(;o?y>=0:v>y;y+=x)y in p&&(h=c(h,p[y],y,f));return h}};return ZN={left:a(!1),right:a(!0)},ZN}var e2,F9;function t1e(){if(F9)return e2;F9=1;var t=JY();return e2=t==="NODE",e2}var L9;function r1e(){if(L9)return q9;L9=1;var t=je(),e=e1e().left,r=dc(),n=Nh(),i=t1e(),s=!i&&n>79&&n<83,a=s||!r("reduce");return t({target:"Array",proto:!0,forced:a},{reduce:function(u){var c=arguments.length;return e(this,u,c,c>1?arguments[1]:void 0)}}),q9}var t2,B9;function n1e(){if(B9)return t2;B9=1,r1e();var t=Tr();return t2=t("Array","reduce"),t2}var r2,z9;function i1e(){if(z9)return r2;z9=1;var t=ir(),e=n1e(),r=Array.prototype;return r2=function(n){var i=n.reduce;return n===r||t(r,n)&&i===r.reduce?e:i},r2}var n2,U9;function s1e(){if(U9)return n2;U9=1;var t=i1e();return n2=t,n2}var i2,W9;function a1e(){return W9||(W9=1,i2=s1e()),i2}var o1e=a1e(),ZQ=Re(o1e);class eX{abstract(){throw new Error("Can't instantiate abstract class!")}fake_use(){}curveType(){return this.abstract()}getPosition(e){return this.fake_use(e),this.abstract()}setPosition(e,r){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0;this.fake_use(e,r,n),this.abstract()}getTreeSize(e){return this.fake_use(e),this.abstract()}sort(e){this.fake_use(e),this.abstract()}fix(e,r){this.fake_use(e,r),this.abstract()}shift(e,r){this.fake_use(e,r),this.abstract()}}class l1e extends eX{constructor(e){super(),this.layout=e}curveType(){return"horizontal"}getPosition(e){return e.x}setPosition(e,r){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0;n!==void 0&&this.layout.hierarchical.addToOrdering(e,n),e.x=r}getTreeSize(e){const r=this.layout.hierarchical.getTreeSize(this.layout.body.nodes,e);return{min:r.min_x,max:r.max_x}}sort(e){Yl(e).call(e,function(r,n){return r.x-n.x})}fix(e,r){e.y=this.layout.options.hierarchical.levelSeparation*r,e.options.fixed.y=!0}shift(e,r){this.layout.body.nodes[e].x+=r}}class u1e extends eX{constructor(e){super(),this.layout=e}curveType(){return"vertical"}getPosition(e){return e.y}setPosition(e,r){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0;n!==void 0&&this.layout.hierarchical.addToOrdering(e,n),e.y=r}getTreeSize(e){const r=this.layout.hierarchical.getTreeSize(this.layout.body.nodes,e);return{min:r.min_y,max:r.max_y}}sort(e){Yl(e).call(e,function(r,n){return r.y-n.y})}fix(e,r){e.x=this.layout.options.hierarchical.levelSeparation*r,e.options.fixed.x=!0}shift(e,r){this.layout.body.nodes[e].y+=r}}var V9={},H9;function c1e(){if(H9)return V9;H9=1;var t=je(),e=qa().every,r=dc(),n=r("every");return t({target:"Array",proto:!0,forced:!n},{every:function(s){return e(this,s,arguments.length>1?arguments[1]:void 0)}}),V9}var s2,K9;function d1e(){if(K9)return s2;K9=1,c1e();var t=Tr();return s2=t("Array","every"),s2}var a2,G9;function h1e(){if(G9)return a2;G9=1;var t=ir(),e=d1e(),r=Array.prototype;return a2=function(n){var i=n.every;return n===r||t(r,n)&&i===r.every?e:i},a2}var o2,Y9;function f1e(){if(Y9)return o2;Y9=1;var t=h1e();return o2=t,o2}var l2,Q9;function p1e(){return Q9||(Q9=1,l2=f1e()),l2}var m1e=p1e(),tX=Re(m1e);function v1e(t,e){const r=new Hs;return pt(t).call(t,n=>{var i;pt(i=n.edges).call(i,s=>{s.connected&&r.add(s)})}),pt(r).call(r,n=>{const i=n.from.id,s=n.to.id;e[i]==null&&(e[i]=0),(e[s]==null||e[i]>=e[s])&&(e[s]=e[i]+1)}),e}function g1e(t){return rX(e=>{var r,n;return tX(r=on(n=e.edges).call(n,i=>t.has(i.toId))).call(r,i=>i.to===e)},(e,r)=>r>e,"from",t)}function y1e(t){return rX(e=>{var r,n;return tX(r=on(n=e.edges).call(n,i=>t.has(i.toId))).call(r,i=>i.from===e)},(e,r)=>r<e,"to",t)}function rX(t,e,r,n){var i;const s=xo(null),a=ZQ(i=[...HQ(n).call(n)]).call(i,(h,f)=>h+1+f.edges.length,0),o=r+"Id",u=r==="to"?1:-1;for(const[h,f]of n){if(!n.has(h)||!t(f))continue;s[h]=0;const p=[f];let v=0,y;for(;y=p.pop();){var c,d;if(!n.has(h))continue;const x=s[y.id]+u;if(pt(c=on(d=y.edges).call(d,g=>g.connected&&g.to!==g.from&&g[r]!==y&&n.has(g.toId)&&n.has(g.fromId))).call(c,g=>{const m=g[o],w=s[m];(w==null||e(x,w))&&(s[m]=x,p.push(g[r]))}),v>a)return v1e(n,s);++v}}return s}class b1e{constructor(){this.childrenReference={},this.parentReference={},this.trees={},this.distributionOrdering={},this.levels={},this.distributionIndex={},this.isTree=!1,this.treeIndex=-1}addRelation(e,r){this.childrenReference[e]===void 0&&(this.childrenReference[e]=[]),this.childrenReference[e].push(r),this.parentReference[r]===void 0&&(this.parentReference[r]=[]),this.parentReference[r].push(e)}checkIfTree(){for(const e in this.parentReference)if(this.parentReference[e].length>1){this.isTree=!1;return}this.isTree=!0}numTrees(){return this.treeIndex+1}setTreeIndex(e,r){r!==void 0&&this.trees[e.id]===void 0&&(this.trees[e.id]=r,this.treeIndex=Math.max(r,this.treeIndex))}ensureLevel(e){this.levels[e]===void 0&&(this.levels[e]=0)}getMaxLevel(e){const r={},n=i=>{if(r[i]!==void 0)return r[i];let s=this.levels[i];if(this.childrenReference[i]){const a=this.childrenReference[i];if(a.length>0)for(let o=0;o<a.length;o++)s=Math.max(s,n(a[o]))}return r[i]=s,s};return n(e)}levelDownstream(e,r){this.levels[r.id]===void 0&&(this.levels[e.id]===void 0&&(this.levels[e.id]=0),this.levels[r.id]=this.levels[e.id]+1)}setMinLevelToZero(){var e;const r=new IT;let n=0;const i=Yl(e=[...new Hs(kme(this.levels))]).call(e,(s,a)=>s-a);for(const s of i)r.set(s,n++);for(const s in this.levels)Object.prototype.hasOwnProperty.call(this.levels,s)&&(this.levels[s]=r.get(this.levels[s]))}getTreeSize(e,r){let n=1e9,i=-1e9,s=1e9,a=-1e9;for(const o in this.trees)if(Object.prototype.hasOwnProperty.call(this.trees,o)&&this.trees[o]===r){const u=e[o];n=Math.min(u.x,n),i=Math.max(u.x,i),s=Math.min(u.y,s),a=Math.max(u.y,a)}return{min_x:n,max_x:i,min_y:s,max_y:a}}hasSameParent(e,r){const n=this.parentReference[e.id],i=this.parentReference[r.id];if(n===void 0||i===void 0)return!1;for(let s=0;s<n.length;s++)for(let a=0;a<i.length;a++)if(n[s]==i[a])return!0;return!1}inSameSubNetwork(e,r){return this.trees[e.id]===this.trees[r.id]}getLevels(){return zt(this.distributionOrdering)}addToOrdering(e,r){this.distributionOrdering[r]===void 0&&(this.distributionOrdering[r]=[]);let n=!1;const i=this.distributionOrdering[r];for(const s in i)if(i[s]===e){n=!0;break}n||(this.distributionOrdering[r].push(e),this.distributionIndex[e.id]=this.distributionOrdering[r].length-1)}}class x1e{constructor(e){this.body=e,this._resetRNG(Math.random()+":"+Mp()),this.setPhysics=!1,this.options={},this.optionsBackup={physics:{}},this.defaultOptions={randomSeed:void 0,improvedLayout:!0,clusterThreshold:150,hierarchical:{enabled:!1,levelSeparation:150,nodeSpacing:100,treeSpacing:200,blockShifting:!0,edgeMinimization:!0,parentCentralization:!0,direction:"UD",sortMethod:"hubsize"}},er(this.options,this.defaultOptions),this.bindEventListeners()}bindEventListeners(){this.body.emitter.on("_dataChanged",()=>{this.setupHierarchicalLayout()}),this.body.emitter.on("_dataLoaded",()=>{this.layoutNetwork()}),this.body.emitter.on("_resetHierarchicalLayout",()=>{this.setupHierarchicalLayout()}),this.body.emitter.on("_adjustEdgesForHierarchicalLayout",()=>{if(this.options.hierarchical.enabled!==!0)return;const e=this.direction.curveType();this.body.emitter.emit("_forceDisableDynamicCurves",e,!1)})}setOptions(e,r){if(e!==void 0){const n=this.options.hierarchical,i=n.enabled;if(fc(["randomSeed","improvedLayout","clusterThreshold"],this.options,e),Fn(this.options,e,"hierarchical"),e.randomSeed!==void 0&&this._resetRNG(e.randomSeed),n.enabled===!0)return i===!0&&this.body.emitter.emit("refresh",!0),n.direction==="RL"||n.direction==="DU"?n.levelSeparation>0&&(n.levelSeparation*=-1):n.levelSeparation<0&&(n.levelSeparation*=-1),this.setDirectionStrategy(),this.body.emitter.emit("_resetHierarchicalLayout"),this.adaptAllOptionsForHierarchicalLayout(r);if(i===!0)return this.body.emitter.emit("refresh"),yt(r,this.optionsBackup)}return r}_resetRNG(e){this.initialRandomSeed=e,this._rng=Km(this.initialRandomSeed)}adaptAllOptionsForHierarchicalLayout(e){if(this.options.hierarchical.enabled===!0){const r=this.optionsBackup.physics;e.physics===void 0||e.physics===!0?(e.physics={enabled:r.enabled===void 0?!0:r.enabled,solver:"hierarchicalRepulsion"},r.enabled=r.enabled===void 0?!0:r.enabled,r.solver=r.solver||"barnesHut"):typeof e.physics=="object"?(r.enabled=e.physics.enabled===void 0?!0:e.physics.enabled,r.solver=e.physics.solver||"barnesHut",e.physics.solver="hierarchicalRepulsion"):e.physics!==!1&&(r.solver="barnesHut",e.physics={solver:"hierarchicalRepulsion"});let n=this.direction.curveType();if(e.edges===void 0)this.optionsBackup.edges={smooth:{enabled:!0,type:"dynamic"}},e.edges={smooth:!1};else if(e.edges.smooth===void 0)this.optionsBackup.edges={smooth:{enabled:!0,type:"dynamic"}},e.edges.smooth=!1;else if(typeof e.edges.smooth=="boolean")this.optionsBackup.edges={smooth:e.edges.smooth},e.edges.smooth={enabled:e.edges.smooth,type:n};else{const i=e.edges.smooth;i.type!==void 0&&i.type!=="dynamic"&&(n=i.type),this.optionsBackup.edges={smooth:{enabled:i.enabled===void 0?!0:i.enabled,type:i.type===void 0?"dynamic":i.type,roundness:i.roundness===void 0?.5:i.roundness,forceDirection:i.forceDirection===void 0?!1:i.forceDirection}},e.edges.smooth={enabled:i.enabled===void 0?!0:i.enabled,type:n,roundness:i.roundness===void 0?.5:i.roundness,forceDirection:i.forceDirection===void 0?!1:i.forceDirection}}this.body.emitter.emit("_forceDisableDynamicCurves",n)}return e}positionInitially(e){if(this.options.hierarchical.enabled!==!0){this._resetRNG(this.initialRandomSeed);const r=e.length+50;for(let n=0;n<e.length;n++){const i=e[n],s=2*Math.PI*this._rng();i.x===void 0&&(i.x=r*Math.cos(s)),i.y===void 0&&(i.y=r*Math.sin(s))}}}layoutNetwork(){if(this.options.hierarchical.enabled!==!0&&this.options.improvedLayout===!0){const e=this.body.nodeIndices;let r=0;for(let n=0;n<e.length;n++)this.body.nodes[e[n]].predefinedPosition===!0&&(r+=1);if(r<.5*e.length){let i=0;const s=this.options.clusterThreshold,a={clusterNodeProperties:{shape:"ellipse",label:"",group:"",font:{multi:!1}},clusterEdgeProperties:{label:"",font:{multi:!1},smooth:{enabled:!1}}};if(e.length>s){const u=e.length;for(;e.length>s&&i<=10;){i+=1;const c=e.length;i%3===0?this.body.modules.clustering.clusterBridges(a):this.body.modules.clustering.clusterOutliers(a);const d=e.length;if(c==d&&i%3!==0){this._declusterAll(),this.body.emitter.emit("_layoutFailed"),console.info("This network could not be positioned by this version of the improved layout algorithm. Please disable improvedLayout for better performance.");return}}this.body.modules.kamadaKawai.setOptions({springLength:Math.max(150,2*u)})}i>10&&console.info("The clustering didn't succeed within the amount of interations allowed, progressing with partial result."),this.body.modules.kamadaKawai.solve(e,this.body.edgeIndices,!0),this._shiftToCenter();const o=70;for(let u=0;u<e.length;u++){const c=this.body.nodes[e[u]];c.predefinedPosition===!1&&(c.x+=(.5-this._rng())*o,c.y+=(.5-this._rng())*o)}this._declusterAll(),this.body.emitter.emit("_repositionBezierNodes")}}}_shiftToCenter(){const e=Wr.getRangeCore(this.body.nodes,this.body.nodeIndices),r=Wr.findCenter(e);for(let n=0;n<this.body.nodeIndices.length;n++){const i=this.body.nodes[this.body.nodeIndices[n]];i.x-=r.x,i.y-=r.y}}_declusterAll(){let e=!0;for(;e===!0;){e=!1;for(let r=0;r<this.body.nodeIndices.length;r++)this.body.nodes[this.body.nodeIndices[r]].isCluster===!0&&(e=!0,this.body.modules.clustering.openCluster(this.body.nodeIndices[r],{},!1));e===!0&&this.body.emitter.emit("_dataChanged")}}getSeed(){return this.initialRandomSeed}setupHierarchicalLayout(){if(this.options.hierarchical.enabled===!0&&this.body.nodeIndices.length>0){let e,r,n=!1,i=!1;this.lastNodeOnLevel={},this.hierarchical=new b1e;for(r in this.body.nodes)Object.prototype.hasOwnProperty.call(this.body.nodes,r)&&(e=this.body.nodes[r],e.options.level!==void 0?(n=!0,this.hierarchical.levels[r]=e.options.level):i=!0);if(i===!0&&n===!0)throw new Error("To use the hierarchical layout, nodes require either no predefined levels or levels have to be defined for all nodes.");{if(i===!0){const a=this.options.hierarchical.sortMethod;a==="hubsize"?this._determineLevelsByHubsize():a==="directed"?this._determineLevelsDirected():a==="custom"&&this._determineLevelsCustomCallback()}for(const a in this.body.nodes)Object.prototype.hasOwnProperty.call(this.body.nodes,a)&&this.hierarchical.ensureLevel(a);const s=this._getDistribution();this._generateMap(),this._placeNodesByHierarchy(s),this._condenseHierarchy(),this._shiftToCenter()}}}_condenseHierarchy(){var e=this;let r=!1;const n={},i=()=>{const g=a();let m=0;for(let w=0;w<g.length-1;w++){const b=g[w].max-g[w+1].min;m+=b+this.options.hierarchical.treeSpacing,s(w+1,m)}},s=(g,m)=>{const w=this.hierarchical.trees;for(const b in w)Object.prototype.hasOwnProperty.call(w,b)&&w[b]===g&&this.direction.shift(b,m)},a=()=>{const g=[];for(let m=0;m<this.hierarchical.numTrees();m++)g.push(this.direction.getTreeSize(m));return g},o=(g,m)=>{if(!m[g.id]&&(m[g.id]=!0,this.hierarchical.childrenReference[g.id])){const w=this.hierarchical.childrenReference[g.id];if(w.length>0)for(let b=0;b<w.length;b++)o(this.body.nodes[w[b]],m)}},u=function(g){let m=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1e9,w=1e9,b=1e9,_=1e9,E=-1e9;for(const j in g)if(Object.prototype.hasOwnProperty.call(g,j)){const S=e.body.nodes[j],C=e.hierarchical.levels[S.id],N=e.direction.getPosition(S),[O,P]=e._getSpaceAroundNode(S,g);w=Math.min(O,w),b=Math.min(P,b),C<=m&&(_=Math.min(N,_),E=Math.max(N,E))}return[_,E,w,b]},c=(g,m)=>{const w=this.hierarchical.getMaxLevel(g.id),b=this.hierarchical.getMaxLevel(m.id);return Math.min(w,b)},d=(g,m,w)=>{const b=this.hierarchical;for(let _=0;_<m.length;_++){const E=m[_],j=b.distributionOrdering[E];if(j.length>1)for(let S=0;S<j.length-1;S++){const C=j[S],N=j[S+1];b.hasSameParent(C,N)&&b.inSameSubNetwork(C,N)&&g(C,N,w)}}},h=function(g,m){let w=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;const b=e.direction.getPosition(g),_=e.direction.getPosition(m),E=Math.abs(_-b),j=e.options.hierarchical.nodeSpacing;if(E>j){const S={},C={};o(g,S),o(m,C);const N=c(g,m),O=u(S,N),P=u(C,N),I=O[1],D=P[0],F=P[2];if(Math.abs(I-D)>j){let V=I-D+j;V<-F+j&&(V=-F+j),V<0&&(e._shiftBlock(m.id,V),r=!0,w===!0&&e._centerParent(m))}}},f=(g,m)=>{const w=m.id,b=m.edges,_=this.hierarchical.levels[m.id],E=this.options.hierarchical.levelSeparation*this.options.hierarchical.levelSeparation,j={},S=[];for(let F=0;F<b.length;F++){const M=b[F];if(M.toId!=M.fromId){const V=M.toId==w?M.from:M.to;j[b[F].id]=V,this.hierarchical.levels[V.id]<_&&S.push(M)}}const C=(F,M)=>{let V=0;for(let q=0;q<M.length;q++)if(j[M[q].id]!==void 0){const H=this.direction.getPosition(j[M[q].id])-F;V+=H/Math.sqrt(H*H+E)}return V},N=(F,M)=>{let V=0;for(let q=0;q<M.length;q++)if(j[M[q].id]!==void 0){const H=this.direction.getPosition(j[M[q].id])-F;V-=E*Math.pow(H*H+E,-1.5)}return V},O=(F,M)=>{let V=this.direction.getPosition(m);const q={};for(let H=0;H<F;H++){const B=C(V,M),W=N(V,M),G=40,de=Math.max(-G,Math.min(G,Math.round(B/W)));if(V=V-de,q[V]!==void 0)break;q[V]=H}return V},P=F=>{const M=this.direction.getPosition(m);if(n[m.id]===void 0){const G={};o(m,G),n[m.id]=G}const V=u(n[m.id]),q=V[2],H=V[3],B=F-M;let W=0;B>0?W=Math.min(B,H-this.options.hierarchical.nodeSpacing):B<0&&(W=-Math.min(-B,q-this.options.hierarchical.nodeSpacing)),W!=0&&(this._shiftBlock(m.id,W),r=!0)},I=F=>{const M=this.direction.getPosition(m),[V,q]=this._getSpaceAroundNode(m),H=F-M;let B=M;H>0?B=Math.min(M+(q-this.options.hierarchical.nodeSpacing),F):H<0&&(B=Math.max(M-(V-this.options.hierarchical.nodeSpacing),F)),B!==M&&(this.direction.setPosition(m,B),r=!0)};let D=O(g,S);P(D),D=O(g,b),I(D)},p=g=>{let m=this.hierarchical.getLevels();m=bo(m).call(m);for(let w=0;w<g;w++){r=!1;for(let b=0;b<m.length;b++){const _=m[b],E=this.hierarchical.distributionOrdering[_];for(let j=0;j<E.length;j++)f(1e3,E[j])}if(r!==!0)break}},v=g=>{let m=this.hierarchical.getLevels();m=bo(m).call(m);for(let w=0;w<g&&(r=!1,d(h,m,!0),r===!0);w++);},y=()=>{for(const g in this.body.nodes)Object.prototype.hasOwnProperty.call(this.body.nodes,g)&&this._centerParent(this.body.nodes[g])},x=()=>{let g=this.hierarchical.getLevels();g=bo(g).call(g);for(let m=0;m<g.length;m++){const w=g[m],b=this.hierarchical.distributionOrdering[w];for(let _=0;_<b.length;_++)this._centerParent(b[_])}};this.options.hierarchical.blockShifting===!0&&(v(5),y()),this.options.hierarchical.edgeMinimization===!0&&p(20),this.options.hierarchical.parentCentralization===!0&&x(),i()}_getSpaceAroundNode(e,r){let n=!0;r===void 0&&(n=!1);const i=this.hierarchical.levels[e.id];if(i!==void 0){const s=this.hierarchical.distributionIndex[e.id],a=this.direction.getPosition(e),o=this.hierarchical.distributionOrdering[i];let u=1e9,c=1e9;if(s!==0){const d=o[s-1];if(n===!0&&r[d.id]===void 0||n===!1){const h=this.direction.getPosition(d);u=a-h}}if(s!=o.length-1){const d=o[s+1];if(n===!0&&r[d.id]===void 0||n===!1){const h=this.direction.getPosition(d);c=Math.min(c,h-a)}}return[u,c]}else return[0,0]}_centerParent(e){if(this.hierarchical.parentReference[e.id]){const r=this.hierarchical.parentReference[e.id];for(let n=0;n<r.length;n++){const i=r[n],s=this.body.nodes[i],a=this.hierarchical.childrenReference[i];if(a!==void 0){const o=this._getCenterPosition(a),u=this.direction.getPosition(s),[c,d]=this._getSpaceAroundNode(s),h=u-o;(h<0&&Math.abs(h)<d-this.options.hierarchical.nodeSpacing||h>0&&Math.abs(h)<c-this.options.hierarchical.nodeSpacing)&&this.direction.setPosition(s,o)}}}}_placeNodesByHierarchy(e){this.positionedNodes={};for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r;let i=zt(e[n]);i=this._indexArrayToNodes(i),Yl(r=this.direction).call(r,i);let s=0;for(let a=0;a<i.length;a++){const o=i[a];if(this.positionedNodes[o.id]===void 0){const u=this.options.hierarchical.nodeSpacing;let c=u*s;s>0&&(c=this.direction.getPosition(i[a-1])+u),this.direction.setPosition(o,c,n),this._validatePositionAndContinue(o,n,c),s++}}}}_placeBranchNodes(e,r){var n;const i=this.hierarchical.childrenReference[e];if(i===void 0)return;const s=[];for(let o=0;o<i.length;o++)s.push(this.body.nodes[i[o]]);Yl(n=this.direction).call(n,s);for(let o=0;o<s.length;o++){const u=s[o],c=this.hierarchical.levels[u.id];if(c>r&&this.positionedNodes[u.id]===void 0){const d=this.options.hierarchical.nodeSpacing;let h;o===0?h=this.direction.getPosition(this.body.nodes[e]):h=this.direction.getPosition(s[o-1])+d,this.direction.setPosition(u,h,c),this._validatePositionAndContinue(u,c,h)}else return}const a=this._getCenterPosition(s);this.direction.setPosition(this.body.nodes[e],a,r)}_validatePositionAndContinue(e,r,n){if(this.hierarchical.isTree){if(this.lastNodeOnLevel[r]!==void 0){const i=this.direction.getPosition(this.body.nodes[this.lastNodeOnLevel[r]]);if(n-i<this.options.hierarchical.nodeSpacing){const s=i+this.options.hierarchical.nodeSpacing-n,a=this._findCommonParent(this.lastNodeOnLevel[r],e.id);this._shiftBlock(a.withChild,s)}}this.lastNodeOnLevel[r]=e.id,this.positionedNodes[e.id]=!0,this._placeBranchNodes(e.id,r)}}_indexArrayToNodes(e){const r=[];for(let n=0;n<e.length;n++)r.push(this.body.nodes[e[n]]);return r}_getDistribution(){const e={};let r,n;for(r in this.body.nodes)if(Object.prototype.hasOwnProperty.call(this.body.nodes,r)){n=this.body.nodes[r];const i=this.hierarchical.levels[r]===void 0?0:this.hierarchical.levels[r];this.direction.fix(n,i),e[i]===void 0&&(e[i]={}),e[i][r]=n}return e}_getActiveEdges(e){const r=[];return We(e.edges,n=>{var i;ct(i=this.body.edgeIndices).call(i,n.id)!==-1&&r.push(n)}),r}_getHubSizes(){const e={},r=this.body.nodeIndices;We(r,i=>{const s=this.body.nodes[i],a=this._getActiveEdges(s).length;e[a]=!0});const n=[];return We(e,i=>{n.push(Number(i))}),Yl(n).call(n,function(i,s){return s-i}),n}_determineLevelsByHubsize(){const e=(n,i)=>{this.hierarchical.levelDownstream(n,i)},r=this._getHubSizes();for(let n=0;n<r.length;++n){const i=r[n];if(i===0)break;We(this.body.nodeIndices,s=>{const a=this.body.nodes[s];i===this._getActiveEdges(a).length&&this._crawlNetwork(e,s)})}}_determineLevelsCustomCallback(){const r=function(i,s,a){},n=(i,s,a)=>{let o=this.hierarchical.levels[i.id];o===void 0&&(o=this.hierarchical.levels[i.id]=1e5);const u=r(Wr.cloneOptions(i,"node"),Wr.cloneOptions(s,"node"),Wr.cloneOptions(a,"edge"));this.hierarchical.levels[s.id]=o+u};this._crawlNetwork(n),this.hierarchical.setMinLevelToZero()}_determineLevelsDirected(){var e;const r=ZQ(e=this.body.nodeIndices).call(e,(n,i)=>(n.set(i,this.body.nodes[i]),n),new IT);this.options.hierarchical.shakeTowards==="roots"?this.hierarchical.levels=y1e(r):this.hierarchical.levels=g1e(r),this.hierarchical.setMinLevelToZero()}_generateMap(){const e=(r,n)=>{this.hierarchical.levels[n.id]>this.hierarchical.levels[r.id]&&this.hierarchical.addRelation(r.id,n.id)};this._crawlNetwork(e),this.hierarchical.checkIfTree()}_crawlNetwork(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:function(){},r=arguments.length>1?arguments[1]:void 0;const n={},i=(s,a)=>{if(n[s.id]===void 0){this.hierarchical.setTreeIndex(s,a),n[s.id]=!0;let o;const u=this._getActiveEdges(s);for(let c=0;c<u.length;c++){const d=u[c];d.connected===!0&&(d.toId==s.id?o=d.from:o=d.to,s.id!=o.id&&(e(s,o,d),i(o,a)))}}};if(r===void 0){let s=0;for(let a=0;a<this.body.nodeIndices.length;a++){const o=this.body.nodeIndices[a];if(n[o]===void 0){const u=this.body.nodes[o];i(u,s),s+=1}}}else{const s=this.body.nodes[r];if(s===void 0){console.error("Node not found:",r);return}i(s)}}_shiftBlock(e,r){const n={},i=s=>{if(n[s])return;n[s]=!0,this.direction.shift(s,r);const a=this.hierarchical.childrenReference[s];if(a!==void 0)for(let o=0;o<a.length;o++)i(a[o])};i(e)}_findCommonParent(e,r){const n={},i=(a,o)=>{const u=this.hierarchical.parentReference[o];if(u!==void 0)for(let c=0;c<u.length;c++){const d=u[c];a[d]=!0,i(a,d)}},s=(a,o)=>{const u=this.hierarchical.parentReference[o];if(u!==void 0)for(let c=0;c<u.length;c++){const d=u[c];if(a[d]!==void 0)return{foundParent:d,withChild:o};const h=s(a,d);if(h.foundParent!==null)return h}return{foundParent:null,withChild:o}};return i(n,e),s(n,r)}setDirectionStrategy(){this.options.hierarchical.direction==="UD"||this.options.hierarchical.direction==="DU"?this.direction=new l1e(this):this.direction=new u1e(this)}_getCenterPosition(e){let r=1e9,n=-1e9;for(let i=0;i<e.length;i++){let s;if(e[i].id!==void 0)s=e[i];else{const o=e[i];s=this.body.nodes[o]}const a=this.direction.getPosition(s);r=Math.min(r,a),n=Math.max(n,a)}return .5*(r+n)}}class w1e{constructor(e,r,n,i){var s,a;this.body=e,this.canvas=r,this.selectionHandler=n,this.interactionHandler=i,this.editMode=!1,this.manipulationDiv=void 0,this.editModeDiv=void 0,this.closeDiv=void 0,this._domEventListenerCleanupQueue=[],this.temporaryUIFunctions={},this.temporaryEventFunctions=[],this.touchTime=0,this.temporaryIds={nodes:[],edges:[]},this.guiEnabled=!1,this.inMode=!1,this.selectedControlNode=void 0,this.options={},this.defaultOptions={enabled:!1,initiallyActive:!1,addNode:!0,addEdge:!0,editNode:void 0,editEdge:!0,deleteNode:!0,deleteEdge:!0,controlNodeStyle:{shape:"dot",size:6,color:{background:"#ff0000",border:"#3c3c3c",highlight:{background:"#07f968",border:"#3c3c3c"}},borderWidth:2,borderWidthSelected:2}},er(this.options,this.defaultOptions),this.body.emitter.on("destroy",()=>{this._clean()}),this.body.emitter.on("_dataChanged",re(s=this._restore).call(s,this)),this.body.emitter.on("_resetData",re(a=this._restore).call(a,this))}_restore(){this.inMode!==!1&&(this.options.initiallyActive===!0?this.enableEditMode():this.disableEditMode())}setOptions(e,r,n){r!==void 0&&(r.locale!==void 0?this.options.locale=r.locale:this.options.locale=n.locale,r.locales!==void 0?this.options.locales=r.locales:this.options.locales=n.locales),e!==void 0&&(typeof e=="boolean"?this.options.enabled=e:(this.options.enabled=!0,yt(this.options,e)),this.options.initiallyActive===!0&&(this.editMode=!0),this._setup())}toggleEditMode(){this.editMode===!0?this.disableEditMode():this.enableEditMode()}enableEditMode(){this.editMode=!0,this._clean(),this.guiEnabled===!0&&(this.manipulationDiv.style.display="block",this.closeDiv.style.display="block",this.editModeDiv.style.display="none",this.showManipulatorToolbar())}disableEditMode(){this.editMode=!1,this._clean(),this.guiEnabled===!0&&(this.manipulationDiv.style.display="none",this.closeDiv.style.display="none",this.editModeDiv.style.display="block",this._createEditButton())}showManipulatorToolbar(){if(this._clean(),this.manipulationDOM={},this.guiEnabled===!0){var e,r;this.editMode=!0,this.manipulationDiv.style.display="block",this.closeDiv.style.display="block";const n=this.selectionHandler.getSelectedNodeCount(),i=this.selectionHandler.getSelectedEdgeCount(),s=n+i,a=this.options.locales[this.options.locale];let o=!1;this.options.addNode!==!1&&(this._createAddNodeButton(a),o=!0),this.options.addEdge!==!1&&(o===!0?this._createSeperator(1):o=!0,this._createAddEdgeButton(a)),n===1&&typeof this.options.editNode=="function"?(o===!0?this._createSeperator(2):o=!0,this._createEditNodeButton(a)):i===1&&n===0&&this.options.editEdge!==!1&&(o===!0?this._createSeperator(3):o=!0,this._createEditEdgeButton(a)),s!==0&&(n>0&&this.options.deleteNode!==!1?(o===!0&&this._createSeperator(4),this._createDeleteButton(a)):n===0&&this.options.deleteEdge!==!1&&(o===!0&&this._createSeperator(4),this._createDeleteButton(a))),this._bindElementEvents(this.closeDiv,re(e=this.toggleEditMode).call(e,this)),this._temporaryBindEvent("select",re(r=this.showManipulatorToolbar).call(r,this))}this.body.emitter.emit("_redraw")}addNodeMode(){var e;if(this.editMode!==!0&&this.enableEditMode(),this._clean(),this.inMode="addNode",this.guiEnabled===!0){var r;const n=this.options.locales[this.options.locale];this.manipulationDOM={},this._createBackButton(n),this._createSeperator(),this._createDescription(n.addDescription||this.options.locales.en.addDescription),this._bindElementEvents(this.closeDiv,re(r=this.toggleEditMode).call(r,this))}this._temporaryBindEvent("click",re(e=this._performAddNode).call(e,this))}editNode(){this.editMode!==!0&&this.enableEditMode(),this._clean();const e=this.selectionHandler.getSelectedNodes()[0];if(e!==void 0)if(this.inMode="editNode",typeof this.options.editNode=="function")if(e.isCluster!==!0){const r=yt({},e.options,!1);if(r.x=e.x,r.y=e.y,this.options.editNode.length===2)this.options.editNode(r,n=>{n!=null&&this.inMode==="editNode"&&this.body.data.nodes.getDataSet().update(n),this.showManipulatorToolbar()});else throw new Error("The function for edit does not support two arguments (data, callback)")}else alert(this.options.locales[this.options.locale].editClusterError||this.options.locales.en.editClusterError);else throw new Error("No function has been configured to handle the editing of nodes.");else this.showManipulatorToolbar()}addEdgeMode(){var e,r,n,i,s;if(this.editMode!==!0&&this.enableEditMode(),this._clean(),this.inMode="addEdge",this.guiEnabled===!0){var a;const o=this.options.locales[this.options.locale];this.manipulationDOM={},this._createBackButton(o),this._createSeperator(),this._createDescription(o.edgeDescription||this.options.locales.en.edgeDescription),this._bindElementEvents(this.closeDiv,re(a=this.toggleEditMode).call(a,this))}this._temporaryBindUI("onTouch",re(e=this._handleConnect).call(e,this)),this._temporaryBindUI("onDragEnd",re(r=this._finishConnect).call(r,this)),this._temporaryBindUI("onDrag",re(n=this._dragControlNode).call(n,this)),this._temporaryBindUI("onRelease",re(i=this._finishConnect).call(i,this)),this._temporaryBindUI("onDragStart",re(s=this._dragStartEdge).call(s,this)),this._temporaryBindUI("onHold",()=>{})}editEdgeMode(){if(this.editMode!==!0&&this.enableEditMode(),this._clean(),this.inMode="editEdge",typeof this.options.editEdge=="object"&&typeof this.options.editEdge.editWithoutDrag=="function"&&(this.edgeBeingEditedId=this.selectionHandler.getSelectedEdgeIds()[0],this.edgeBeingEditedId!==void 0)){const a=this.body.edges[this.edgeBeingEditedId];this._performEditEdge(a.from.id,a.to.id);return}if(this.guiEnabled===!0){var e;const a=this.options.locales[this.options.locale];this.manipulationDOM={},this._createBackButton(a),this._createSeperator(),this._createDescription(a.editEdgeDescription||this.options.locales.en.editEdgeDescription),this._bindElementEvents(this.closeDiv,re(e=this.toggleEditMode).call(e,this))}if(this.edgeBeingEditedId=this.selectionHandler.getSelectedEdgeIds()[0],this.edgeBeingEditedId!==void 0){var r,n,i,s;const a=this.body.edges[this.edgeBeingEditedId],o=this._getNewTargetNode(a.from.x,a.from.y),u=this._getNewTargetNode(a.to.x,a.to.y);this.temporaryIds.nodes.push(o.id),this.temporaryIds.nodes.push(u.id),this.body.nodes[o.id]=o,this.body.nodeIndices.push(o.id),this.body.nodes[u.id]=u,this.body.nodeIndices.push(u.id),this._temporaryBindUI("onTouch",re(r=this._controlNodeTouch).call(r,this)),this._temporaryBindUI("onTap",()=>{}),this._temporaryBindUI("onHold",()=>{}),this._temporaryBindUI("onDragStart",re(n=this._controlNodeDragStart).call(n,this)),this._temporaryBindUI("onDrag",re(i=this._controlNodeDrag).call(i,this)),this._temporaryBindUI("onDragEnd",re(s=this._controlNodeDragEnd).call(s,this)),this._temporaryBindUI("onMouseMove",()=>{}),this._temporaryBindEvent("beforeDrawing",c=>{const d=a.edgeType.findBorderPositions(c);o.selected===!1&&(o.x=d.from.x,o.y=d.from.y),u.selected===!1&&(u.x=d.to.x,u.y=d.to.y)}),this.body.emitter.emit("_redraw")}else this.showManipulatorToolbar()}deleteSelected(){this.editMode!==!0&&this.enableEditMode(),this._clean(),this.inMode="delete";const e=this.selectionHandler.getSelectedNodeIds(),r=this.selectionHandler.getSelectedEdgeIds();let n;if(e.length>0){for(let i=0;i<e.length;i++)if(this.body.nodes[e[i]].isCluster===!0){alert(this.options.locales[this.options.locale].deleteClusterError||this.options.locales.en.deleteClusterError);return}typeof this.options.deleteNode=="function"&&(n=this.options.deleteNode)}else r.length>0&&typeof this.options.deleteEdge=="function"&&(n=this.options.deleteEdge);if(typeof n=="function"){const i={nodes:e,edges:r};if(n.length===2)n(i,s=>{s!=null&&this.inMode==="delete"?(this.body.data.edges.getDataSet().remove(s.edges),this.body.data.nodes.getDataSet().remove(s.nodes),this.body.emitter.emit("startSimulation"),this.showManipulatorToolbar()):(this.body.emitter.emit("startSimulation"),this.showManipulatorToolbar())});else throw new Error("The function for delete does not support two arguments (data, callback)")}else this.body.data.edges.getDataSet().remove(r),this.body.data.nodes.getDataSet().remove(e),this.body.emitter.emit("startSimulation"),this.showManipulatorToolbar()}_setup(){this.options.enabled===!0?(this.guiEnabled=!0,this._createWrappers(),this.editMode===!1?this._createEditButton():this.showManipulatorToolbar()):(this._removeManipulationDOM(),this.guiEnabled=!1)}_createWrappers(){if(this.manipulationDiv===void 0&&(this.manipulationDiv=document.createElement("div"),this.manipulationDiv.className="vis-manipulation",this.editMode===!0?this.manipulationDiv.style.display="block":this.manipulationDiv.style.display="none",this.canvas.frame.appendChild(this.manipulationDiv)),this.editModeDiv===void 0&&(this.editModeDiv=document.createElement("div"),this.editModeDiv.className="vis-edit-mode",this.editMode===!0?this.editModeDiv.style.display="none":this.editModeDiv.style.display="block",this.canvas.frame.appendChild(this.editModeDiv)),this.closeDiv===void 0){var e,r;this.closeDiv=document.createElement("button"),this.closeDiv.className="vis-close",this.closeDiv.setAttribute("aria-label",(e=(r=this.options.locales[this.options.locale])===null||r===void 0?void 0:r.close)!==null&&e!==void 0?e:this.options.locales.en.close),this.closeDiv.style.display=this.manipulationDiv.style.display,this.canvas.frame.appendChild(this.closeDiv)}}_getNewTargetNode(e,r){const n=yt({},this.options.controlNodeStyle);n.id="targetNode"+nd(),n.hidden=!1,n.physics=!1,n.x=e,n.y=r;const i=this.body.functions.createNode(n);return i.shape.boundingBox={left:e,right:e,top:r,bottom:r},i}_createEditButton(){var e;this._clean(),this.manipulationDOM={},zs(this.editModeDiv);const r=this.options.locales[this.options.locale],n=this._createButton("editMode","vis-edit vis-edit-mode",r.edit||this.options.locales.en.edit);this.editModeDiv.appendChild(n),this._bindElementEvents(n,re(e=this.toggleEditMode).call(e,this))}_clean(){this.inMode=!1,this.guiEnabled===!0&&(zs(this.editModeDiv),zs(this.manipulationDiv),this._cleanupDOMEventListeners()),this._cleanupTemporaryNodesAndEdges(),this._unbindTemporaryUIs(),this._unbindTemporaryEvents(),this.body.emitter.emit("restorePhysics")}_cleanupDOMEventListeners(){for(const r of ds(e=this._domEventListenerCleanupQueue).call(e,0)){var e;r()}}_removeManipulationDOM(){this._clean(),zs(this.manipulationDiv),zs(this.editModeDiv),zs(this.closeDiv),this.manipulationDiv&&this.canvas.frame.removeChild(this.manipulationDiv),this.editModeDiv&&this.canvas.frame.removeChild(this.editModeDiv),this.closeDiv&&this.canvas.frame.removeChild(this.closeDiv),this.manipulationDiv=void 0,this.editModeDiv=void 0,this.closeDiv=void 0}_createSeperator(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1;this.manipulationDOM["seperatorLineDiv"+e]=document.createElement("div"),this.manipulationDOM["seperatorLineDiv"+e].className="vis-separator-line",this.manipulationDiv.appendChild(this.manipulationDOM["seperatorLineDiv"+e])}_createAddNodeButton(e){var r;const n=this._createButton("addNode","vis-add",e.addNode||this.options.locales.en.addNode);this.manipulationDiv.appendChild(n),this._bindElementEvents(n,re(r=this.addNodeMode).call(r,this))}_createAddEdgeButton(e){var r;const n=this._createButton("addEdge","vis-connect",e.addEdge||this.options.locales.en.addEdge);this.manipulationDiv.appendChild(n),this._bindElementEvents(n,re(r=this.addEdgeMode).call(r,this))}_createEditNodeButton(e){var r;const n=this._createButton("editNode","vis-edit",e.editNode||this.options.locales.en.editNode);this.manipulationDiv.appendChild(n),this._bindElementEvents(n,re(r=this.editNode).call(r,this))}_createEditEdgeButton(e){var r;const n=this._createButton("editEdge","vis-edit",e.editEdge||this.options.locales.en.editEdge);this.manipulationDiv.appendChild(n),this._bindElementEvents(n,re(r=this.editEdgeMode).call(r,this))}_createDeleteButton(e){var r;let n;this.options.rtl?n="vis-delete-rtl":n="vis-delete";const i=this._createButton("delete",n,e.del||this.options.locales.en.del);this.manipulationDiv.appendChild(i),this._bindElementEvents(i,re(r=this.deleteSelected).call(r,this))}_createBackButton(e){var r;const n=this._createButton("back","vis-back",e.back||this.options.locales.en.back);this.manipulationDiv.appendChild(n),this._bindElementEvents(n,re(r=this.showManipulatorToolbar).call(r,this))}_createButton(e,r,n){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"vis-label";return this.manipulationDOM[e+"Div"]=document.createElement("button"),this.manipulationDOM[e+"Div"].className="vis-button "+r,this.manipulationDOM[e+"Label"]=document.createElement("div"),this.manipulationDOM[e+"Label"].className=i,this.manipulationDOM[e+"Label"].innerText=n,this.manipulationDOM[e+"Div"].appendChild(this.manipulationDOM[e+"Label"]),this.manipulationDOM[e+"Div"]}_createDescription(e){this.manipulationDOM.descriptionLabel=document.createElement("div"),this.manipulationDOM.descriptionLabel.className="vis-none",this.manipulationDOM.descriptionLabel.innerText=e,this.manipulationDiv.appendChild(this.manipulationDOM.descriptionLabel)}_temporaryBindEvent(e,r){this.temporaryEventFunctions.push({event:e,boundFunction:r}),this.body.emitter.on(e,r)}_temporaryBindUI(e,r){if(this.body.eventListeners[e]!==void 0)this.temporaryUIFunctions[e]=this.body.eventListeners[e],this.body.eventListeners[e]=r;else throw new Error("This UI function does not exist. Typo? You tried: "+e+" possible are: "+Rh(zt(this.body.eventListeners)))}_unbindTemporaryUIs(){for(const e in this.temporaryUIFunctions)Object.prototype.hasOwnProperty.call(this.temporaryUIFunctions,e)&&(this.body.eventListeners[e]=this.temporaryUIFunctions[e],delete this.temporaryUIFunctions[e]);this.temporaryUIFunctions={}}_unbindTemporaryEvents(){for(let e=0;e<this.temporaryEventFunctions.length;e++){const r=this.temporaryEventFunctions[e].event,n=this.temporaryEventFunctions[e].boundFunction;this.body.emitter.off(r,n)}this.temporaryEventFunctions=[]}_bindElementEvents(e,r){const n=new Kl(e,{});Up(n,r),this._domEventListenerCleanupQueue.push(()=>{n.destroy()});const i=s=>{let{keyCode:a,key:o}=s;(o==="Enter"||o===" "||a===13||a===32)&&r()};e.addEventListener("keyup",i,!1),this._domEventListenerCleanupQueue.push(()=>{e.removeEventListener("keyup",i,!1)})}_cleanupTemporaryNodesAndEdges(){for(let s=0;s<this.temporaryIds.edges.length;s++){var e;this.body.edges[this.temporaryIds.edges[s]].disconnect(),delete this.body.edges[this.temporaryIds.edges[s]];const a=ct(e=this.body.edgeIndices).call(e,this.temporaryIds.edges[s]);if(a!==-1){var r;ds(r=this.body.edgeIndices).call(r,a,1)}}for(let s=0;s<this.temporaryIds.nodes.length;s++){var n;delete this.body.nodes[this.temporaryIds.nodes[s]];const a=ct(n=this.body.nodeIndices).call(n,this.temporaryIds.nodes[s]);if(a!==-1){var i;ds(i=this.body.nodeIndices).call(i,a,1)}}this.temporaryIds={nodes:[],edges:[]}}_controlNodeTouch(e){this.selectionHandler.unselectAll(),this.lastTouch=this.body.functions.getPointer(e.center),this.lastTouch.translation=er({},this.body.view.translation)}_controlNodeDragStart(){const e=this.lastTouch,r=this.selectionHandler._pointerToPositionObject(e),n=this.body.nodes[this.temporaryIds.nodes[0]],i=this.body.nodes[this.temporaryIds.nodes[1]],s=this.body.edges[this.edgeBeingEditedId];this.selectedControlNode=void 0;const a=n.isOverlappingWith(r),o=i.isOverlappingWith(r);a===!0?(this.selectedControlNode=n,s.edgeType.from=n):o===!0&&(this.selectedControlNode=i,s.edgeType.to=i),this.selectedControlNode!==void 0&&this.selectionHandler.selectObject(this.selectedControlNode),this.body.emitter.emit("_redraw")}_controlNodeDrag(e){this.body.emitter.emit("disablePhysics");const r=this.body.functions.getPointer(e.center),n=this.canvas.DOMtoCanvas(r);this.selectedControlNode!==void 0?(this.selectedControlNode.x=n.x,this.selectedControlNode.y=n.y):this.interactionHandler.onDrag(e),this.body.emitter.emit("_redraw")}_controlNodeDragEnd(e){const r=this.body.functions.getPointer(e.center),n=this.selectionHandler._pointerToPositionObject(r),i=this.body.edges[this.edgeBeingEditedId];if(this.selectedControlNode===void 0)return;this.selectionHandler.unselectAll();const s=this.selectionHandler._getAllNodesOverlappingWith(n);let a;for(let o=s.length-1;o>=0;o--)if(s[o]!==this.selectedControlNode.id){a=this.body.nodes[s[o]];break}if(a!==void 0&&this.selectedControlNode!==void 0)if(a.isCluster===!0)alert(this.options.locales[this.options.locale].createEdgeError||this.options.locales.en.createEdgeError);else{const o=this.body.nodes[this.temporaryIds.nodes[0]];this.selectedControlNode.id===o.id?this._performEditEdge(a.id,i.to.id):this._performEditEdge(i.from.id,a.id)}else i.updateEdgeType(),this.body.emitter.emit("restorePhysics");this.body.emitter.emit("_redraw")}_handleConnect(e){if(new Date().valueOf()-this.touchTime>100){this.lastTouch=this.body.functions.getPointer(e.center),this.lastTouch.translation=er({},this.body.view.translation),this.interactionHandler.drag.pointer=this.lastTouch,this.interactionHandler.drag.translation=this.lastTouch.translation;const r=this.lastTouch,n=this.selectionHandler.getNodeAt(r);if(n!==void 0)if(n.isCluster===!0)alert(this.options.locales[this.options.locale].createEdgeError||this.options.locales.en.createEdgeError);else{const i=this._getNewTargetNode(n.x,n.y);this.body.nodes[i.id]=i,this.body.nodeIndices.push(i.id);const s=this.body.functions.createEdge({id:"connectionEdge"+nd(),from:n.id,to:i.id,physics:!1,smooth:{enabled:!0,type:"continuous",roundness:.5}});this.body.edges[s.id]=s,this.body.edgeIndices.push(s.id),this.temporaryIds.nodes.push(i.id),this.temporaryIds.edges.push(s.id)}this.touchTime=new Date().valueOf()}}_dragControlNode(e){const r=this.body.functions.getPointer(e.center),n=this.selectionHandler._pointerToPositionObject(r);let i;this.temporaryIds.edges[0]!==void 0&&(i=this.body.edges[this.temporaryIds.edges[0]].fromId);const s=this.selectionHandler._getAllNodesOverlappingWith(n);let a;for(let u=s.length-1;u>=0;u--){var o;if(ct(o=this.temporaryIds.nodes).call(o,s[u])===-1){a=this.body.nodes[s[u]];break}}if(e.controlEdge={from:i,to:a?a.id:void 0},this.selectionHandler.generateClickEvent("controlNodeDragging",e,r),this.temporaryIds.nodes[0]!==void 0){const u=this.body.nodes[this.temporaryIds.nodes[0]];u.x=this.canvas._XconvertDOMtoCanvas(r.x),u.y=this.canvas._YconvertDOMtoCanvas(r.y),this.body.emitter.emit("_redraw")}else this.interactionHandler.onDrag(e)}_finishConnect(e){const r=this.body.functions.getPointer(e.center),n=this.selectionHandler._pointerToPositionObject(r);let i;this.temporaryIds.edges[0]!==void 0&&(i=this.body.edges[this.temporaryIds.edges[0]].fromId);const s=this.selectionHandler._getAllNodesOverlappingWith(n);let a;for(let u=s.length-1;u>=0;u--){var o;if(ct(o=this.temporaryIds.nodes).call(o,s[u])===-1){a=this.body.nodes[s[u]];break}}this._cleanupTemporaryNodesAndEdges(),a!==void 0&&(a.isCluster===!0?alert(this.options.locales[this.options.locale].createEdgeError||this.options.locales.en.createEdgeError):this.body.nodes[i]!==void 0&&this.body.nodes[a.id]!==void 0&&this._performAddEdge(i,a.id)),e.controlEdge={from:i,to:a?a.id:void 0},this.selectionHandler.generateClickEvent("controlNodeDragEnd",e,r),this.body.emitter.emit("_redraw")}_dragStartEdge(e){const r=this.lastTouch;this.selectionHandler.generateClickEvent("dragStart",e,r,void 0,!0)}_performAddNode(e){const r={id:nd(),x:e.pointer.canvas.x,y:e.pointer.canvas.y,label:"new"};if(typeof this.options.addNode=="function")if(this.options.addNode.length===2)this.options.addNode(r,n=>{n!=null&&this.inMode==="addNode"&&this.body.data.nodes.getDataSet().add(n),this.showManipulatorToolbar()});else throw this.showManipulatorToolbar(),new Error("The function for add does not support two arguments (data,callback)");else this.body.data.nodes.getDataSet().add(r),this.showManipulatorToolbar()}_performAddEdge(e,r){const n={from:e,to:r};if(typeof this.options.addEdge=="function")if(this.options.addEdge.length===2)this.options.addEdge(n,i=>{i!=null&&this.inMode==="addEdge"&&(this.body.data.edges.getDataSet().add(i),this.selectionHandler.unselectAll(),this.showManipulatorToolbar())});else throw new Error("The function for connect does not support two arguments (data,callback)");else this.body.data.edges.getDataSet().add(n),this.selectionHandler.unselectAll(),this.showManipulatorToolbar()}_performEditEdge(e,r){const n={id:this.edgeBeingEditedId,from:e,to:r,label:this.body.data.edges.get(this.edgeBeingEditedId).label};let i=this.options.editEdge;if(typeof i=="object"&&(i=i.editWithoutDrag),typeof i=="function")if(i.length===2)i(n,s=>{s==null||this.inMode!=="editEdge"?(this.body.edges[n.id].updateEdgeType(),this.body.emitter.emit("_redraw"),this.showManipulatorToolbar()):(this.body.data.edges.getDataSet().update(s),this.selectionHandler.unselectAll(),this.showManipulatorToolbar())});else throw new Error("The function for edit does not support two arguments (data, callback)");else this.body.data.edges.getDataSet().update(n),this.selectionHandler.unselectAll(),this.showManipulatorToolbar()}}const ae="string",te="boolean",U="number",Fc="array",Ee="object",nX="dom",_1e="any",u2=["arrow","bar","box","circle","crow","curve","diamond","image","inv_curve","inv_triangle","triangle","vee"],c2={borderWidth:{number:U},borderWidthSelected:{number:U,undefined:"undefined"},brokenImage:{string:ae,undefined:"undefined"},chosen:{label:{boolean:te,function:"function"},node:{boolean:te,function:"function"},__type__:{object:Ee,boolean:te}},color:{border:{string:ae},background:{string:ae},highlight:{border:{string:ae},background:{string:ae},__type__:{object:Ee,string:ae}},hover:{border:{string:ae},background:{string:ae},__type__:{object:Ee,string:ae}},__type__:{object:Ee,string:ae}},opacity:{number:U,undefined:"undefined"},fixed:{x:{boolean:te},y:{boolean:te},__type__:{object:Ee,boolean:te}},font:{align:{string:ae},color:{string:ae},size:{number:U},face:{string:ae},background:{string:ae},strokeWidth:{number:U},strokeColor:{string:ae},vadjust:{number:U},multi:{boolean:te,string:ae},bold:{color:{string:ae},size:{number:U},face:{string:ae},mod:{string:ae},vadjust:{number:U},__type__:{object:Ee,string:ae}},boldital:{color:{string:ae},size:{number:U},face:{string:ae},mod:{string:ae},vadjust:{number:U},__type__:{object:Ee,string:ae}},ital:{color:{string:ae},size:{number:U},face:{string:ae},mod:{string:ae},vadjust:{number:U},__type__:{object:Ee,string:ae}},mono:{color:{string:ae},size:{number:U},face:{string:ae},mod:{string:ae},vadjust:{number:U},__type__:{object:Ee,string:ae}},__type__:{object:Ee,string:ae}},group:{string:ae,number:U,undefined:"undefined"},heightConstraint:{minimum:{number:U},valign:{string:ae},__type__:{object:Ee,boolean:te,number:U}},hidden:{boolean:te},icon:{face:{string:ae},code:{string:ae},size:{number:U},color:{string:ae},weight:{string:ae,number:U},__type__:{object:Ee}},id:{string:ae,number:U},image:{selected:{string:ae,undefined:"undefined"},unselected:{string:ae,undefined:"undefined"},__type__:{object:Ee,string:ae}},imagePadding:{top:{number:U},right:{number:U},bottom:{number:U},left:{number:U},__type__:{object:Ee,number:U}},label:{string:ae,undefined:"undefined"},labelHighlightBold:{boolean:te},level:{number:U,undefined:"undefined"},margin:{top:{number:U},right:{number:U},bottom:{number:U},left:{number:U},__type__:{object:Ee,number:U}},mass:{number:U},physics:{boolean:te},scaling:{min:{number:U},max:{number:U},label:{enabled:{boolean:te},min:{number:U},max:{number:U},maxVisible:{number:U},drawThreshold:{number:U},__type__:{object:Ee,boolean:te}},customScalingFunction:{function:"function"},__type__:{object:Ee}},shadow:{enabled:{boolean:te},color:{string:ae},size:{number:U},x:{number:U},y:{number:U},__type__:{object:Ee,boolean:te}},shape:{string:["custom","ellipse","circle","database","box","text","image","circularImage","diamond","dot","star","triangle","triangleDown","square","icon","hexagon"]},ctxRenderer:{function:"function"},shapeProperties:{borderDashes:{boolean:te,array:Fc},borderRadius:{number:U},interpolation:{boolean:te},useImageSize:{boolean:te},useBorderWithImage:{boolean:te},coordinateOrigin:{string:["center","top-left"]},__type__:{object:Ee}},size:{number:U},title:{string:ae,dom:nX,undefined:"undefined"},value:{number:U,undefined:"undefined"},widthConstraint:{minimum:{number:U},maximum:{number:U},__type__:{object:Ee,boolean:te,number:U}},x:{number:U},y:{number:U},__type__:{object:Ee}},S1e={configure:{enabled:{boolean:te},filter:{boolean:te,string:ae,array:Fc,function:"function"},container:{dom:nX},showButton:{boolean:te},__type__:{object:Ee,boolean:te,string:ae,array:Fc,function:"function"}},edges:{arrows:{to:{enabled:{boolean:te},scaleFactor:{number:U},type:{string:u2},imageHeight:{number:U},imageWidth:{number:U},src:{string:ae},__type__:{object:Ee,boolean:te}},middle:{enabled:{boolean:te},scaleFactor:{number:U},type:{string:u2},imageWidth:{number:U},imageHeight:{number:U},src:{string:ae},__type__:{object:Ee,boolean:te}},from:{enabled:{boolean:te},scaleFactor:{number:U},type:{string:u2},imageWidth:{number:U},imageHeight:{number:U},src:{string:ae},__type__:{object:Ee,boolean:te}},__type__:{string:["from","to","middle"],object:Ee}},endPointOffset:{from:{number:U},to:{number:U},__type__:{object:Ee,number:U}},arrowStrikethrough:{boolean:te},background:{enabled:{boolean:te},color:{string:ae},size:{number:U},dashes:{boolean:te,array:Fc},__type__:{object:Ee,boolean:te}},chosen:{label:{boolean:te,function:"function"},edge:{boolean:te,function:"function"},__type__:{object:Ee,boolean:te}},color:{color:{string:ae},highlight:{string:ae},hover:{string:ae},inherit:{string:["from","to","both"],boolean:te},opacity:{number:U},__type__:{object:Ee,string:ae}},dashes:{boolean:te,array:Fc},font:{color:{string:ae},size:{number:U},face:{string:ae},background:{string:ae},strokeWidth:{number:U},strokeColor:{string:ae},align:{string:["horizontal","top","middle","bottom"]},vadjust:{number:U},multi:{boolean:te,string:ae},bold:{color:{string:ae},size:{number:U},face:{string:ae},mod:{string:ae},vadjust:{number:U},__type__:{object:Ee,string:ae}},boldital:{color:{string:ae},size:{number:U},face:{string:ae},mod:{string:ae},vadjust:{number:U},__type__:{object:Ee,string:ae}},ital:{color:{string:ae},size:{number:U},face:{string:ae},mod:{string:ae},vadjust:{number:U},__type__:{object:Ee,string:ae}},mono:{color:{string:ae},size:{number:U},face:{string:ae},mod:{string:ae},vadjust:{number:U},__type__:{object:Ee,string:ae}},__type__:{object:Ee,string:ae}},hidden:{boolean:te},hoverWidth:{function:"function",number:U},label:{string:ae,undefined:"undefined"},labelHighlightBold:{boolean:te},length:{number:U,undefined:"undefined"},physics:{boolean:te},scaling:{min:{number:U},max:{number:U},label:{enabled:{boolean:te},min:{number:U},max:{number:U},maxVisible:{number:U},drawThreshold:{number:U},__type__:{object:Ee,boolean:te}},customScalingFunction:{function:"function"},__type__:{object:Ee}},selectionWidth:{function:"function",number:U},selfReferenceSize:{number:U},selfReference:{size:{number:U},angle:{number:U},renderBehindTheNode:{boolean:te},__type__:{object:Ee}},shadow:{enabled:{boolean:te},color:{string:ae},size:{number:U},x:{number:U},y:{number:U},__type__:{object:Ee,boolean:te}},smooth:{enabled:{boolean:te},type:{string:["dynamic","continuous","discrete","diagonalCross","straightCross","horizontal","vertical","curvedCW","curvedCCW","cubicBezier"]},roundness:{number:U},forceDirection:{string:["horizontal","vertical","none"],boolean:te},__type__:{object:Ee,boolean:te}},title:{string:ae,undefined:"undefined"},width:{number:U},widthConstraint:{maximum:{number:U},__type__:{object:Ee,boolean:te,number:U}},value:{number:U,undefined:"undefined"},__type__:{object:Ee}},groups:{useDefaultGroups:{boolean:te},__any__:c2,__type__:{object:Ee}},interaction:{dragNodes:{boolean:te},dragView:{boolean:te},hideEdgesOnDrag:{boolean:te},hideEdgesOnZoom:{boolean:te},hideNodesOnDrag:{boolean:te},hover:{boolean:te},keyboard:{enabled:{boolean:te},speed:{x:{number:U},y:{number:U},zoom:{number:U},__type__:{object:Ee}},bindToWindow:{boolean:te},autoFocus:{boolean:te},__type__:{object:Ee,boolean:te}},multiselect:{boolean:te},navigationButtons:{boolean:te},selectable:{boolean:te},selectConnectedEdges:{boolean:te},hoverConnectedEdges:{boolean:te},tooltipDelay:{number:U},zoomView:{boolean:te},zoomSpeed:{number:U},__type__:{object:Ee}},layout:{randomSeed:{undefined:"undefined",number:U,string:ae},improvedLayout:{boolean:te},clusterThreshold:{number:U},hierarchical:{enabled:{boolean:te},levelSeparation:{number:U},nodeSpacing:{number:U},treeSpacing:{number:U},blockShifting:{boolean:te},edgeMinimization:{boolean:te},parentCentralization:{boolean:te},direction:{string:["UD","DU","LR","RL"]},sortMethod:{string:["hubsize","directed"]},shakeTowards:{string:["leaves","roots"]},__type__:{object:Ee,boolean:te}},__type__:{object:Ee}},manipulation:{enabled:{boolean:te},initiallyActive:{boolean:te},addNode:{boolean:te,function:"function"},addEdge:{boolean:te,function:"function"},editNode:{function:"function"},editEdge:{editWithoutDrag:{function:"function"},__type__:{object:Ee,boolean:te,function:"function"}},deleteNode:{boolean:te,function:"function"},deleteEdge:{boolean:te,function:"function"},controlNodeStyle:c2,__type__:{object:Ee,boolean:te}},nodes:c2,physics:{enabled:{boolean:te},barnesHut:{theta:{number:U},gravitationalConstant:{number:U},centralGravity:{number:U},springLength:{number:U},springConstant:{number:U},damping:{number:U},avoidOverlap:{number:U},__type__:{object:Ee}},forceAtlas2Based:{theta:{number:U},gravitationalConstant:{number:U},centralGravity:{number:U},springLength:{number:U},springConstant:{number:U},damping:{number:U},avoidOverlap:{number:U},__type__:{object:Ee}},repulsion:{centralGravity:{number:U},springLength:{number:U},springConstant:{number:U},nodeDistance:{number:U},damping:{number:U},__type__:{object:Ee}},hierarchicalRepulsion:{centralGravity:{number:U},springLength:{number:U},springConstant:{number:U},nodeDistance:{number:U},damping:{number:U},avoidOverlap:{number:U},__type__:{object:Ee}},maxVelocity:{number:U},minVelocity:{number:U},solver:{string:["barnesHut","repulsion","hierarchicalRepulsion","forceAtlas2Based"]},stabilization:{enabled:{boolean:te},iterations:{number:U},updateInterval:{number:U},onlyDynamicEdges:{boolean:te},fit:{boolean:te},__type__:{object:Ee,boolean:te}},timestep:{number:U},adaptiveTimestep:{boolean:te},wind:{x:{number:U},y:{number:U},__type__:{object:Ee}},__type__:{object:Ee,boolean:te}},autoResize:{boolean:te},clickToUse:{boolean:te},locale:{string:ae},locales:{__any__:{any:_1e},__type__:{object:Ee}},height:{string:ae},width:{string:ae},__type__:{object:Ee}},iX={nodes:{borderWidth:[1,0,10,1],borderWidthSelected:[2,0,10,1],color:{border:["color","#2B7CE9"],background:["color","#97C2FC"],highlight:{border:["color","#2B7CE9"],background:["color","#D2E5FF"]},hover:{border:["color","#2B7CE9"],background:["color","#D2E5FF"]}},opacity:[0,0,1,.1],fixed:{x:!1,y:!1},font:{color:["color","#343434"],size:[14,0,100,1],face:["arial","verdana","tahoma"],background:["color","none"],strokeWidth:[0,0,50,1],strokeColor:["color","#ffffff"]},hidden:!1,labelHighlightBold:!0,physics:!0,scaling:{min:[10,0,200,1],max:[30,0,200,1],label:{enabled:!1,min:[14,0,200,1],max:[30,0,200,1],maxVisible:[30,0,200,1],drawThreshold:[5,0,20,1]}},shadow:{enabled:!1,color:"rgba(0,0,0,0.5)",size:[10,0,20,1],x:[5,-30,30,1],y:[5,-30,30,1]},shape:["ellipse","box","circle","database","diamond","dot","square","star","text","triangle","triangleDown","hexagon"],shapeProperties:{borderDashes:!1,borderRadius:[6,0,20,1],interpolation:!0,useImageSize:!1},size:[25,0,200,1]},edges:{arrows:{to:{enabled:!1,scaleFactor:[1,0,3,.05],type:"arrow"},middle:{enabled:!1,scaleFactor:[1,0,3,.05],type:"arrow"},from:{enabled:!1,scaleFactor:[1,0,3,.05],type:"arrow"}},endPointOffset:{from:[0,-10,10,1],to:[0,-10,10,1]},arrowStrikethrough:!0,color:{color:["color","#848484"],highlight:["color","#848484"],hover:["color","#848484"],inherit:["from","to","both",!0,!1],opacity:[1,0,1,.05]},dashes:!1,font:{color:["color","#343434"],size:[14,0,100,1],face:["arial","verdana","tahoma"],background:["color","none"],strokeWidth:[2,0,50,1],strokeColor:["color","#ffffff"],align:["horizontal","top","middle","bottom"]},hidden:!1,hoverWidth:[1.5,0,5,.1],labelHighlightBold:!0,physics:!0,scaling:{min:[1,0,100,1],max:[15,0,100,1],label:{enabled:!0,min:[14,0,200,1],max:[30,0,200,1],maxVisible:[30,0,200,1],drawThreshold:[5,0,20,1]}},selectionWidth:[1.5,0,5,.1],selfReferenceSize:[20,0,200,1],selfReference:{size:[20,0,200,1],angle:[Math.PI/2,-6*Math.PI,6*Math.PI,Math.PI/8],renderBehindTheNode:!0},shadow:{enabled:!1,color:"rgba(0,0,0,0.5)",size:[10,0,20,1],x:[5,-30,30,1],y:[5,-30,30,1]},smooth:{enabled:!0,type:["dynamic","continuous","discrete","diagonalCross","straightCross","horizontal","vertical","curvedCW","curvedCCW","cubicBezier"],forceDirection:["horizontal","vertical","none"],roundness:[.5,0,1,.05]},width:[1,0,30,1]},layout:{hierarchical:{enabled:!1,levelSeparation:[150,20,500,5],nodeSpacing:[100,20,500,5],treeSpacing:[200,20,500,5],blockShifting:!0,edgeMinimization:!0,parentCentralization:!0,direction:["UD","DU","LR","RL"],sortMethod:["hubsize","directed"],shakeTowards:["leaves","roots"]}},interaction:{dragNodes:!0,dragView:!0,hideEdgesOnDrag:!1,hideEdgesOnZoom:!1,hideNodesOnDrag:!1,hover:!1,keyboard:{enabled:!1,speed:{x:[10,0,40,1],y:[10,0,40,1],zoom:[.02,0,.1,.005]},bindToWindow:!0,autoFocus:!0},multiselect:!1,navigationButtons:!1,selectable:!0,selectConnectedEdges:!0,hoverConnectedEdges:!0,tooltipDelay:[300,0,1e3,25],zoomView:!0,zoomSpeed:[1,.1,2,.1]},manipulation:{enabled:!1,initiallyActive:!1},physics:{enabled:!0,barnesHut:{theta:[.5,.1,1,.05],gravitationalConstant:[-2e3,-3e4,0,50],centralGravity:[.3,0,10,.05],springLength:[95,0,500,5],springConstant:[.04,0,1.2,.005],damping:[.09,0,1,.01],avoidOverlap:[0,0,1,.01]},forceAtlas2Based:{theta:[.5,.1,1,.05],gravitationalConstant:[-50,-500,0,1],centralGravity:[.01,0,1,.005],springLength:[95,0,500,5],springConstant:[.08,0,1.2,.005],damping:[.4,0,1,.01],avoidOverlap:[0,0,1,.01]},repulsion:{centralGravity:[.2,0,10,.05],springLength:[200,0,500,5],springConstant:[.05,0,1.2,.005],nodeDistance:[100,0,500,5],damping:[.09,0,1,.01]},hierarchicalRepulsion:{centralGravity:[.2,0,10,.05],springLength:[100,0,500,5],springConstant:[.01,0,1.2,.005],nodeDistance:[120,0,500,5],damping:[.09,0,1,.01],avoidOverlap:[0,0,1,.01]},maxVelocity:[50,0,150,1],minVelocity:[.1,.01,.5,.01],solver:["barnesHut","forceAtlas2Based","repulsion","hierarchicalRepulsion"],timestep:[.5,.01,1,.01],wind:{x:[0,-10,10,.1],y:[0,-10,10,.1]}}},E1e=(t,e,r)=>{var n;return!!(ba(t).call(t,"physics")&&ba(n=iX.physics.solver).call(n,e)&&r.physics.solver!==e&&e!=="wind")};class N1e{constructor(){}getDistances(e,r,n){const i={},s=e.edges;for(let o=0;o<r.length;o++){const u=r[o],c={};i[u]=c;for(let d=0;d<r.length;d++)c[r[d]]=o==d?0:1e9}for(let o=0;o<n.length;o++){const u=s[n[o]];u.connected===!0&&i[u.fromId]!==void 0&&i[u.toId]!==void 0&&(i[u.fromId][u.toId]=1,i[u.toId][u.fromId]=1)}const a=r.length;for(let o=0;o<a;o++){const u=r[o],c=i[u];for(let d=0;d<a-1;d++){const h=r[d],f=i[h];for(let p=d+1;p<a;p++){const v=r[p],y=i[v],x=Math.min(f[v],f[u]+c[v]);f[v]=x,y[h]=x}}}return i}}class j1e{constructor(e,r,n){this.body=e,this.springLength=r,this.springConstant=n,this.distanceSolver=new N1e}setOptions(e){e&&(e.springLength&&(this.springLength=e.springLength),e.springConstant&&(this.springConstant=e.springConstant))}solve(e,r){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;const i=this.distanceSolver.getDistances(this.body,e,r);this._createL_matrix(i),this._createK_matrix(i),this._createE_matrix();const s=.01,a=1;let o=0;const u=Math.max(1e3,Math.min(10*this.body.nodeIndices.length,6e3)),c=5;let d=1e9,h=0,f=0,p=0,v=0,y=0;for(;d>s&&o<u;)for(o+=1,[h,d,f,p]=this._getHighestEnergyNode(n),v=d,y=0;v>a&&y<c;)y+=1,this._moveNode(h,f,p),[v,f,p]=this._getEnergy(h)}_getHighestEnergyNode(e){const r=this.body.nodeIndices,n=this.body.nodes;let i=0,s=r[0],a=0,o=0;for(let u=0;u<r.length;u++){const c=r[u];if(n[c].predefinedPosition!==!0||n[c].isCluster===!0&&e===!0||n[c].options.fixed.x!==!0||n[c].options.fixed.y!==!0){const[d,h,f]=this._getEnergy(c);i<d&&(i=d,s=c,a=h,o=f)}}return[s,i,a,o]}_getEnergy(e){const[r,n]=this.E_sums[e];return[Math.sqrt(r**2+n**2),r,n]}_moveNode(e,r,n){const i=this.body.nodeIndices,s=this.body.nodes;let a=0,o=0,u=0;const c=s[e].x,d=s[e].y,h=this.K_matrix[e],f=this.L_matrix[e];for(let b=0;b<i.length;b++){const _=i[b];if(_!==e){const E=s[_].x,j=s[_].y,S=h[_],C=f[_],N=1/((c-E)**2+(d-j)**2)**1.5;a+=S*(1-C*(d-j)**2*N),o+=S*(C*(c-E)*(d-j)*N),u+=S*(1-C*(c-E)**2*N)}}const p=a,v=o,y=r,x=u,g=n,m=(y/p+g/v)/(v/p-x/v),w=-(v*m+y)/p;s[e].x+=w,s[e].y+=m,this._updateE_matrix(e)}_createL_matrix(e){const r=this.body.nodeIndices,n=this.springLength;this.L_matrix=[];for(let i=0;i<r.length;i++){this.L_matrix[r[i]]={};for(let s=0;s<r.length;s++)this.L_matrix[r[i]][r[s]]=n*e[r[i]][r[s]]}}_createK_matrix(e){const r=this.body.nodeIndices,n=this.springConstant;this.K_matrix=[];for(let i=0;i<r.length;i++){this.K_matrix[r[i]]={};for(let s=0;s<r.length;s++)this.K_matrix[r[i]][r[s]]=n*e[r[i]][r[s]]**-2}}_createE_matrix(){const e=this.body.nodeIndices,r=this.body.nodes;this.E_matrix={},this.E_sums={};for(let n=0;n<e.length;n++)this.E_matrix[e[n]]=[];for(let n=0;n<e.length;n++){const i=e[n],s=r[i].x,a=r[i].y;let o=0,u=0;for(let c=n;c<e.length;c++){const d=e[c];if(d!==i){const h=r[d].x,f=r[d].y,p=1/Math.sqrt((s-h)**2+(a-f)**2);this.E_matrix[i][c]=[this.K_matrix[i][d]*(s-h-this.L_matrix[i][d]*(s-h)*p),this.K_matrix[i][d]*(a-f-this.L_matrix[i][d]*(a-f)*p)],this.E_matrix[d][n]=this.E_matrix[i][c],o+=this.E_matrix[i][c][0],u+=this.E_matrix[i][c][1]}}this.E_sums[i]=[o,u]}}_updateE_matrix(e){const r=this.body.nodeIndices,n=this.body.nodes,i=this.E_matrix[e],s=this.K_matrix[e],a=this.L_matrix[e],o=n[e].x,u=n[e].y;let c=0,d=0;for(let h=0;h<r.length;h++){const f=r[h];if(f!==e){const p=i[h],v=p[0],y=p[1],x=n[f].x,g=n[f].y,m=1/Math.sqrt((o-x)**2+(u-g)**2),w=s[f]*(o-x-a[f]*(o-x)*m),b=s[f]*(u-g-a[f]*(u-g)*m);i[h]=[w,b],c+=w,d+=b;const _=this.E_sums[f];_[0]+=w-v,_[1]+=b-y}}this.E_sums[e]=[c,d]}}function we(t,e,r){var n,i,s,a;if(!(this instanceof we))throw new SyntaxError("Constructor must be called with the new operator");this.options={},this.defaultOptions={locale:"en",locales:Qge,clickToUse:!1},er(this.options,this.defaultOptions),this.body={container:t,nodes:{},nodeIndices:[],edges:{},edgeIndices:[],emitter:{on:re(n=this.on).call(n,this),off:re(i=this.off).call(i,this),emit:re(s=this.emit).call(s,this),once:re(a=this.once).call(a,this)},eventListeners:{onTap:function(){},onTouch:function(){},onDoubleTap:function(){},onHold:function(){},onDragStart:function(){},onDrag:function(){},onDragEnd:function(){},onMouseWheel:function(){},onPinch:function(){},onMouseMove:function(){},onRelease:function(){},onContext:function(){}},data:{nodes:null,edges:null},functions:{createNode:function(){},createEdge:function(){},getPointer:function(){}},modules:{},view:{scale:1,translation:{x:0,y:0}},selectionBox:{show:!1,position:{start:{x:0,y:0},end:{x:0,y:0}}}},this.bindEventListeners(),this.images=new Zge(()=>this.body.emitter.emit("_requestRedraw")),this.groups=new pye,this.canvas=new lxe(this.body),this.selectionHandler=new Uxe(this.body,this.canvas),this.interactionHandler=new hxe(this.body,this.canvas,this.selectionHandler),this.view=new cxe(this.body,this.canvas),this.renderer=new nxe(this.body,this.canvas),this.physics=new Ybe(this.body),this.layoutEngine=new x1e(this.body),this.clustering=new rxe(this.body),this.manipulation=new w1e(this.body,this.canvas,this.selectionHandler,this.interactionHandler),this.nodesHandler=new Sbe(this.body,this.images,this.groups,this.layoutEngine),this.edgesHandler=new Ube(this.body,this.images,this.groups),this.body.modules.kamadaKawai=new j1e(this.body,150,.05),this.body.modules.clustering=this.clustering,this.canvas._create(),this.setOptions(r),this.setData(e)}kY(we.prototype);we.prototype.setOptions=function(t){if(t===null&&(t=void 0),t!==void 0){if(Cge.validate(t,S1e)===!0&&console.error("%cErrors have been found in the supplied options object.",TQ),fc(["locale","locales","clickToUse"],this.options,t),t.locale!==void 0&&(t.locale=Xge(t.locales||this.options.locales,t.locale)),t=this.layoutEngine.setOptions(t.layout,t),this.canvas.setOptions(t),this.groups.setOptions(t.groups),this.nodesHandler.setOptions(t.nodes),this.edgesHandler.setOptions(t.edges),this.physics.setOptions(t.physics),this.manipulation.setOptions(t.manipulation,t,this.options),this.interactionHandler.setOptions(t.interaction),this.renderer.setOptions(t.interaction),this.selectionHandler.setOptions(t.interaction),t.groups!==void 0&&this.body.emitter.emit("refreshNodes"),"configure"in t&&(this.configurator||(this.configurator=new Nge(this,this.body.container,iX,this.canvas.pixelRatio,E1e)),this.configurator.setOptions(t.configure)),this.configurator&&this.configurator.options.enabled===!0){const n={nodes:{},edges:{},layout:{},interaction:{},manipulation:{},physics:{},global:{}};yt(n.nodes,this.nodesHandler.options),yt(n.edges,this.edgesHandler.options),yt(n.layout,this.layoutEngine.options),yt(n.interaction,this.selectionHandler.options),yt(n.interaction,this.renderer.options),yt(n.interaction,this.interactionHandler.options),yt(n.manipulation,this.manipulation.options),yt(n.physics,this.physics.options),yt(n.global,this.canvas.options),yt(n.global,this.options),this.configurator.setModuleOptions(n)}t.clickToUse!==void 0?t.clickToUse===!0?this.activator===void 0&&(this.activator=new Ege(this.canvas.frame),this.activator.on("change",()=>{this.body.emitter.emit("activate")})):(this.activator!==void 0&&(this.activator.destroy(),delete this.activator),this.body.emitter.emit("activate")):this.body.emitter.emit("activate"),this.canvas.setSize(),this.body.emitter.emit("startSimulation")}};we.prototype._updateVisibleIndices=function(){const t=this.body.nodes,e=this.body.edges;this.body.nodeIndices=[],this.body.edgeIndices=[];for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&!this.clustering._isClusteredNode(r)&&t[r].options.hidden===!1&&this.body.nodeIndices.push(t[r].id);for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)){const n=e[r],i=t[n.fromId],s=t[n.toId],a=i!==void 0&&s!==void 0;!this.clustering._isClusteredEdge(r)&&n.options.hidden===!1&&a&&i.options.hidden===!1&&s.options.hidden===!1&&this.body.edgeIndices.push(n.id)}};we.prototype.bindEventListeners=function(){this.body.emitter.on("_dataChanged",()=>{this.edgesHandler._updateState(),this.body.emitter.emit("_dataUpdated")}),this.body.emitter.on("_dataUpdated",()=>{this.clustering._updateState(),this._updateVisibleIndices(),this._updateValueRange(this.body.nodes),this._updateValueRange(this.body.edges),this.body.emitter.emit("startSimulation"),this.body.emitter.emit("_requestRedraw")})};we.prototype.setData=function(t){if(this.body.emitter.emit("resetPhysics"),this.body.emitter.emit("_resetData"),this.selectionHandler.unselectAll(),t&&t.dot&&(t.nodes||t.edges))throw new SyntaxError('Data must contain either parameter "dot" or  parameter pair "nodes" and "edges", but not both.');if(this.setOptions(t&&t.options),t&&t.dot){console.warn("The dot property has been deprecated. Please use the static convertDot method to convert DOT into vis.network format and use the normal data format with nodes and edges. This converter is used like this: var data = vis.network.convertDot(dotString);");const e=qge(t.dot);this.setData(e);return}else if(t&&t.gephi){console.warn("The gephi property has been deprecated. Please use the static convertGephi method to convert gephi into vis.network format and use the normal data format with nodes and edges. This converter is used like this: var data = vis.network.convertGephi(gephiJson);");const e=Age(t.gephi);this.setData(e);return}else this.nodesHandler.setData(t&&t.nodes,!0),this.edgesHandler.setData(t&&t.edges,!0);this.body.emitter.emit("_dataChanged"),this.body.emitter.emit("_dataLoaded"),this.body.emitter.emit("initPhysics")};we.prototype.destroy=function(){this.body.emitter.emit("destroy"),this.body.emitter.off(),this.off(),delete this.groups,delete this.canvas,delete this.selectionHandler,delete this.interactionHandler,delete this.view,delete this.renderer,delete this.physics,delete this.layoutEngine,delete this.clustering,delete this.manipulation,delete this.nodesHandler,delete this.edgesHandler,delete this.configurator,delete this.images;for(const t in this.body.nodes)Object.prototype.hasOwnProperty.call(this.body.nodes,t)&&delete this.body.nodes[t];for(const t in this.body.edges)Object.prototype.hasOwnProperty.call(this.body.edges,t)&&delete this.body.edges[t];zs(this.body.container)};we.prototype._updateValueRange=function(t){let e,r,n,i=0;for(e in t)if(Object.prototype.hasOwnProperty.call(t,e)){const s=t[e].getValue();s!==void 0&&(r=r===void 0?s:Math.min(s,r),n=n===void 0?s:Math.max(s,n),i+=s)}if(r!==void 0&&n!==void 0)for(e in t)Object.prototype.hasOwnProperty.call(t,e)&&t[e].setValueRange(r,n,i)};we.prototype.isActive=function(){return!this.activator||this.activator.active};we.prototype.setSize=function(){return this.canvas.setSize.apply(this.canvas,arguments)};we.prototype.canvasToDOM=function(){return this.canvas.canvasToDOM.apply(this.canvas,arguments)};we.prototype.DOMtoCanvas=function(){return this.canvas.DOMtoCanvas.apply(this.canvas,arguments)};we.prototype.findNode=function(){return this.clustering.findNode.apply(this.clustering,arguments)};we.prototype.isCluster=function(){return this.clustering.isCluster.apply(this.clustering,arguments)};we.prototype.openCluster=function(){return this.clustering.openCluster.apply(this.clustering,arguments)};we.prototype.cluster=function(){return this.clustering.cluster.apply(this.clustering,arguments)};we.prototype.getNodesInCluster=function(){return this.clustering.getNodesInCluster.apply(this.clustering,arguments)};we.prototype.clusterByConnection=function(){return this.clustering.clusterByConnection.apply(this.clustering,arguments)};we.prototype.clusterByHubsize=function(){return this.clustering.clusterByHubsize.apply(this.clustering,arguments)};we.prototype.updateClusteredNode=function(){return this.clustering.updateClusteredNode.apply(this.clustering,arguments)};we.prototype.getClusteredEdges=function(){return this.clustering.getClusteredEdges.apply(this.clustering,arguments)};we.prototype.getBaseEdge=function(){return this.clustering.getBaseEdge.apply(this.clustering,arguments)};we.prototype.getBaseEdges=function(){return this.clustering.getBaseEdges.apply(this.clustering,arguments)};we.prototype.updateEdge=function(){return this.clustering.updateEdge.apply(this.clustering,arguments)};we.prototype.clusterOutliers=function(){return this.clustering.clusterOutliers.apply(this.clustering,arguments)};we.prototype.getSeed=function(){return this.layoutEngine.getSeed.apply(this.layoutEngine,arguments)};we.prototype.enableEditMode=function(){return this.manipulation.enableEditMode.apply(this.manipulation,arguments)};we.prototype.disableEditMode=function(){return this.manipulation.disableEditMode.apply(this.manipulation,arguments)};we.prototype.addNodeMode=function(){return this.manipulation.addNodeMode.apply(this.manipulation,arguments)};we.prototype.editNode=function(){return this.manipulation.editNode.apply(this.manipulation,arguments)};we.prototype.editNodeMode=function(){return console.warn("Deprecated: Please use editNode instead of editNodeMode."),this.manipulation.editNode.apply(this.manipulation,arguments)};we.prototype.addEdgeMode=function(){return this.manipulation.addEdgeMode.apply(this.manipulation,arguments)};we.prototype.editEdgeMode=function(){return this.manipulation.editEdgeMode.apply(this.manipulation,arguments)};we.prototype.deleteSelected=function(){return this.manipulation.deleteSelected.apply(this.manipulation,arguments)};we.prototype.getPositions=function(){return this.nodesHandler.getPositions.apply(this.nodesHandler,arguments)};we.prototype.getPosition=function(){return this.nodesHandler.getPosition.apply(this.nodesHandler,arguments)};we.prototype.storePositions=function(){return this.nodesHandler.storePositions.apply(this.nodesHandler,arguments)};we.prototype.moveNode=function(){return this.nodesHandler.moveNode.apply(this.nodesHandler,arguments)};we.prototype.getBoundingBox=function(){return this.nodesHandler.getBoundingBox.apply(this.nodesHandler,arguments)};we.prototype.getConnectedNodes=function(t){return this.body.nodes[t]!==void 0?this.nodesHandler.getConnectedNodes.apply(this.nodesHandler,arguments):this.edgesHandler.getConnectedNodes.apply(this.edgesHandler,arguments)};we.prototype.getConnectedEdges=function(){return this.nodesHandler.getConnectedEdges.apply(this.nodesHandler,arguments)};we.prototype.startSimulation=function(){return this.physics.startSimulation.apply(this.physics,arguments)};we.prototype.stopSimulation=function(){return this.physics.stopSimulation.apply(this.physics,arguments)};we.prototype.stabilize=function(){return this.physics.stabilize.apply(this.physics,arguments)};we.prototype.getSelection=function(){return this.selectionHandler.getSelection.apply(this.selectionHandler,arguments)};we.prototype.setSelection=function(){return this.selectionHandler.setSelection.apply(this.selectionHandler,arguments)};we.prototype.getSelectedNodes=function(){return this.selectionHandler.getSelectedNodeIds.apply(this.selectionHandler,arguments)};we.prototype.getSelectedEdges=function(){return this.selectionHandler.getSelectedEdgeIds.apply(this.selectionHandler,arguments)};we.prototype.getNodeAt=function(){const t=this.selectionHandler.getNodeAt.apply(this.selectionHandler,arguments);return t!==void 0&&t.id!==void 0?t.id:t};we.prototype.getEdgeAt=function(){const t=this.selectionHandler.getEdgeAt.apply(this.selectionHandler,arguments);return t!==void 0&&t.id!==void 0?t.id:t};we.prototype.selectNodes=function(){return this.selectionHandler.selectNodes.apply(this.selectionHandler,arguments)};we.prototype.selectEdges=function(){return this.selectionHandler.selectEdges.apply(this.selectionHandler,arguments)};we.prototype.unselectAll=function(){this.selectionHandler.unselectAll.apply(this.selectionHandler,arguments),this.selectionHandler.commitWithoutEmitting.apply(this.selectionHandler),this.redraw()};we.prototype.redraw=function(){return this.renderer.redraw.apply(this.renderer,arguments)};we.prototype.getScale=function(){return this.view.getScale.apply(this.view,arguments)};we.prototype.getViewPosition=function(){return this.view.getViewPosition.apply(this.view,arguments)};we.prototype.fit=function(){return this.view.fit.apply(this.view,arguments)};we.prototype.moveTo=function(){return this.view.moveTo.apply(this.view,arguments)};we.prototype.focus=function(){return this.view.focus.apply(this.view,arguments)};we.prototype.releaseNode=function(){return this.view.releaseNode.apply(this.view,arguments)};we.prototype.getOptionsFromConfigurator=function(){let t={};return this.configurator&&(t=this.configurator.getOptions.apply(this.configurator)),t};function C1e({graphData:t,startPersonId:e,onNodeClick:r}){const n=T.useRef(null),i=T.useRef(null),s=qr(),a=T.useCallback(d=>{r?r(d):s(`/people/${d}`)},[r,s]);T.useEffect(()=>{if(!n.current||!t||!t.nodes||t.nodes.length===0)return;const d=new Cu(t.nodes),h=new Cu(t.edges),f={layout:{hierarchical:{enabled:!0,direction:"UD",sortMethod:"directed",levelSeparation:180,nodeSpacing:200,treeSpacing:250,blockShifting:!0,edgeMinimization:!0,parentCentralization:!0}},nodes:{shape:"box",margin:10,font:{size:14,face:'system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif',color:"#1f2937"},color:{border:"#d1d5db",background:"#ffffff",highlight:{border:"#f59e0b",background:"#fef3c7"},hover:{border:"#9ca3af",background:"#f9fafb"}},borderWidth:2,borderWidthSelected:3,shadow:{enabled:!0,color:"rgba(0,0,0,0.1)",size:5,x:0,y:2}},edges:{color:{color:"#9ca3af",highlight:"#6b7280",hover:"#6b7280"},width:2,smooth:{enabled:!0,type:"cubicBezier",forceDirection:"vertical",roundness:.4},arrows:{to:{enabled:!1}}},physics:{enabled:!1},interaction:{hover:!0,tooltipDelay:200,zoomView:!0,dragView:!0,dragNodes:!1,navigationButtons:!1,keyboard:{enabled:!0,bindToWindow:!1}}},p=new we(n.current,{nodes:d,edges:h},f);return i.current=p,p.on("click",v=>{if(v.nodes.length>0){const y=v.nodes[0];a(y)}}),p.on("doubleClick",v=>{v.nodes.length>0&&p.focus(v.nodes[0],{scale:1,animation:{duration:500,easingFunction:"easeInOutQuad"}})}),p.once("stabilized",()=>{const v=t.edges.filter(y=>y.dashes).map(y=>[y.from,y.to]);if(v.length>0){const y=p.getPositions(),x={},g=new Set;v.forEach(([m,w])=>{if(g.has(m)||g.has(w))return;const b=y[m],_=y[w];if(!b||!_)return;const E=(b.x+_.x)/2;x[m]={x:E-60,y:b.y},x[w]={x:E+60,y:_.y},g.add(m),g.add(w)}),Object.entries(x).forEach(([m,w])=>{p.moveNode(m,w.x,w.y)})}setTimeout(()=>{p.fit({animation:{duration:500,easingFunction:"easeInOutQuad"}})},50)}),setTimeout(()=>{e&&p&&p.focus(e,{scale:.8,animation:{duration:500,easingFunction:"easeInOutQuad"}})},100),()=>{p&&p.destroy()}},[t,e,a]);const o=()=>{if(i.current){const d=i.current.getScale();i.current.moveTo({scale:d*1.3,animation:{duration:300,easingFunction:"easeInOutQuad"}})}},u=()=>{if(i.current){const d=i.current.getScale();i.current.moveTo({scale:d/1.3,animation:{duration:300,easingFunction:"easeInOutQuad"}})}},c=()=>{i.current&&i.current.fit({animation:{duration:500,easingFunction:"easeInOutQuad"}})};return!t||!t.nodes||t.nodes.length===0?l.jsx("div",{className:"flex items-center justify-center h-96",children:l.jsx("p",{className:"text-gray-500",children:"No family tree data available"})}):l.jsxs("div",{className:"relative w-full h-full",children:[l.jsxs("div",{className:"absolute top-4 right-4 z-10 flex gap-2 bg-white rounded-lg shadow-lg p-2",children:[l.jsx("button",{onClick:o,className:"p-2 hover:bg-gray-100 rounded",title:"Zoom In",children:l.jsx(vne,{className:"w-4 h-4"})}),l.jsx("button",{onClick:u,className:"p-2 hover:bg-gray-100 rounded",title:"Zoom Out",children:l.jsx(gne,{className:"w-4 h-4"})}),l.jsx("button",{onClick:c,className:"p-2 hover:bg-gray-100 rounded",title:"Fit All",children:l.jsx(EK,{className:"w-4 h-4"})})]}),l.jsx("div",{className:"absolute bottom-4 left-4 z-10 text-xs text-gray-500 bg-white/80 px-2 py-1 rounded",children:"Click a person to view details  Double-click to center  Scroll to zoom"}),l.jsx("div",{ref:n,className:"w-full h-full min-h-[600px]",style:{background:"#fafafa"}})]})}const O1e=["parent","child","spouse","lover","partner"];function T1e(t){return O1e.includes(t==null?void 0:t.toLowerCase())}function P1e(t){return(t==null?void 0:t.toLowerCase())==="parent"}function I1e(t){return(t==null?void 0:t.toLowerCase())==="child"}function R1e(t){const e=t==null?void 0:t.toLowerCase();return e==="spouse"||e==="lover"||e==="partner"}function $1e(t,e,r){var d;const n=new Map,i=[],s=new Set,a=new Map;e.forEach(h=>a.set(h.id,h));const o=[{personId:t,depth:0}];s.add(t);function u(h,f){var m,w,b,_;let p=h.name||((m=h.title)==null?void 0:m.rendered)||h.title||`Person ${f}`;if(p&&typeof p=="string"&&typeof document<"u"){const E=document.createElement("textarea");E.innerHTML=p,p=E.value}let v=null,y=((w=h.acf)==null?void 0:w.birth_date)||null;if(y){const E=new Date(y);isNaN(E.getTime())||(v=Math.floor((new Date-E)/(365.25*24*60*60*1e3)))}let x="";switch((b=h.acf)==null?void 0:b.gender){case"male":x="";break;case"female":x="";break;case"non_binary":case"other":case"prefer_not_to_say":x="";break}let g="";if(y)try{const E=new Date(y);if(!isNaN(E.getTime())){const j=String(E.getDate()).padStart(2,"0"),S=String(E.getMonth()+1).padStart(2,"0"),C=E.getFullYear();g=`${j}-${S}-${C}`}}catch{}return{id:f,name:p,gender:((_=h.acf)==null?void 0:_.gender)||"",genderSymbol:x,photo:h.thumbnail||null,age:v,birthDate:y,formattedBirthDate:g}}const c=a.get(t);for(c&&n.set(t,u(c,t));o.length>0;){const{personId:h,depth:f}=o.shift(),p=r.get(h)||[];for(const v of p){if(v.relationship_type_slug&&!T1e(v.relationship_type_slug))continue;const y=v.related_person;if(!y||!a.has(y))continue;if(!n.has(y)){const w=a.get(y);n.set(y,u(w,y))}const x=`${h}-${y}`,g=`${y}-${h}`;if(!i.some(w=>`${w.from}-${w.to}`===x||`${w.from}-${w.to}`===g)){const w=(d=v.relationship_type_slug)==null?void 0:d.toLowerCase();if(P1e(w))i.push({from:y,to:h,type:"parent-child"});else if(I1e(w))i.push({from:h,to:y,type:"parent-child"});else if(R1e(w)){const[b,_]=h<y?[h,y]:[y,h];i.push({from:b,to:_,type:"spouse"})}}s.has(y)||(s.add(y),o.push({personId:y,depth:f+1}))}}return{nodes:Array.from(n.values()),edges:i}}function k1e(t,e,r={}){const{nodes:n,edges:i}=t;if(n.length===0)return{nodes:[],edges:[]};const s=new Map,a=new Map,o=new Map;n.forEach(x=>{s.set(x.id,[]),a.set(x.id,[]),o.set(x.id,[])}),i.forEach(x=>{var g,m,w,b;x.type==="parent-child"?((g=s.get(x.to))==null||g.push(x.from),(m=a.get(x.from))==null||m.push(x.to)):x.type==="spouse"&&((w=o.get(x.from))==null||w.push(x.to),(b=o.get(x.to))==null||b.push(x.from))});const u=new Map,c=new Set,d=[{id:e,generation:0}];for(u.set(e,0),c.add(e);d.length>0;){const{id:x,generation:g}=d.shift(),m=s.get(x)||[];for(const _ of m)c.has(_)||(c.add(_),u.set(_,g-1),d.push({id:_,generation:g-1}));const w=a.get(x)||[];for(const _ of w)c.has(_)||(c.add(_),u.set(_,g+1),d.push({id:_,generation:g+1}));const b=o.get(x)||[];for(const _ of b)c.has(_)||(c.add(_),u.set(_,g),d.push({id:_,generation:g}))}n.forEach(x=>{u.has(x.id)||u.set(x.id,0)});const h=Math.min(...u.values()),f=new Map;u.forEach((x,g)=>{f.set(g,x-h)});function p(x,g,m=!1){const w=x?x.split(" ").map(j=>j[0]).join("").toUpperCase().slice(0,2):"?";let b,_;m?(b="%23d1d5db",_="%236b7280"):g?(b="%23fef3c7",_="%23b45309"):(b="%23e5e7eb",_="%23374151");const E=`<svg xmlns="http://www.w3.org/2000/svg" width="90" height="90" viewBox="0 0 90 90">
      <circle cx="45" cy="45" r="45" fill="${b}"/>
      <text x="45" y="55" text-anchor="middle" font-family="system-ui, sans-serif" font-size="28" font-weight="500" fill="${_}">${w}</text>
    </svg>`;return"data:image/svg+xml,"+encodeURIComponent(E)}const v=n.map(x=>{const g=f.get(x.id)||0,m=x.id===e,w=r[x.id]||!1;let b=x.name;w&&(b=x.name+" ");let _=[b],E="";x.genderSymbol&&(E+=x.genderSymbol+" "),x.age!==null&&(E+=x.age+" "),x.formattedBirthDate&&(E+=x.formattedBirthDate),E.trim()&&_.push(E.trim());const j=x.photo||p(x.name,m,w);let S="#d1d5db";return m?S="#f59e0b":w&&(S="#9ca3af"),{id:x.id,label:_.join(`
`),level:g,shape:"circularImage",image:j,size:45,font:{size:14,face:"system-ui, -apple-system, sans-serif",vadjust:8,color:w?"#6b7280":"#1f2937"},color:{border:S,background:"#ffffff",highlight:{border:"#f59e0b",background:"#fef3c7"}},borderWidth:m?3:2,data:{...x,isDeceased:w}}}),y=i.map((x,g)=>{const m=x.type==="spouse";return{id:`edge-${g}`,from:x.from,to:x.to,arrows:{to:{enabled:!1}},color:{color:m?"#ec4899":"#9ca3af",highlight:m?"#db2777":"#6b7280"},width:2,dashes:m?[5,5]:!1,smooth:!1,length:m?50:300}});return{nodes:v,edges:y}}function D1e(t){const e=new Map;return t.forEach(r=>{var s;const i=(((s=r.acf)==null?void 0:s.relationships)||[]).map(a=>{var c,d,h,f,p,v;let o="";a.relationship_slug?o=a.relationship_slug.toLowerCase():typeof a.relationship_type=="object"?o=((c=a.relationship_type)==null?void 0:c.slug)||((h=(d=a.relationship_type)==null?void 0:d.name)==null?void 0:h.toLowerCase())||"":typeof a.relationship_type=="string"&&(o=a.relationship_type.toLowerCase());let u=null;return typeof a.related_person=="object"?u=((f=a.related_person)==null?void 0:f.ID)||((p=a.related_person)==null?void 0:p.id)||((v=a.related_person)==null?void 0:v.term_id):(typeof a.related_person=="number"||typeof a.related_person=="string")&&(u=parseInt(a.related_person,10)),{related_person:u,relationship_type:a.relationship_type,relationship_type_slug:o,relationship_name:a.relationship_name||"",relationship_label:a.relationship_label||""}}).filter(a=>a.related_person);e.set(r.id,i)}),e}function M1e(t,e){const r=new Map;e.forEach(n=>{var i;r.set(n.id,n.slug||((i=n.name)==null?void 0:i.toLowerCase()))}),t.forEach(n=>{n.forEach(i=>{if(!i.relationship_type_slug&&i.relationship_type){const s=typeof i.relationship_type=="object"?i.relationship_type.term_id||i.relationship_type.id:i.relationship_type;i.relationship_type_slug=r.get(s)||""}})})}function q1e(){var p,v;const{id:t}=Fi(),e=qr(),r=parseInt(t,10),{data:n,isLoading:i}=Ko(t),{data:s=[],isLoading:a}=Ho(),{data:o=[]}=et({queryKey:["relationship-types"],queryFn:async()=>(await Fe.getRelationshipTypes()).data}),u=T.useMemo(()=>s.map(y=>y.id).filter(Boolean),[s]),c=Pj({queries:u.map(y=>({queryKey:["person-dates",y],queryFn:async()=>(await $e.getPersonDates(y)).data,enabled:!!y,staleTime:5*60*1e3}))}),d=T.useMemo(()=>{const y={};return c.forEach((x,g)=>{if(x.data&&u[g]){const m=u[g],w=x.data.some(b=>{const _=Array.isArray(b.date_type)?b.date_type[0]:b.date_type;return(_==null?void 0:_.toLowerCase())==="died"});y[m]=w}}),y},[c,u]);Xr(n?`Family Tree - ${n.name||((p=n.title)==null?void 0:p.rendered)||n.title||"Person"}`:"Family Tree");const h=T.useMemo(()=>{if(!n||!s.length)return null;try{const y=D1e(s);o.length>0&&M1e(y,o);const x=$1e(r,s,y);return!x||x.nodes.length===0?null:k1e(x,r,d)}catch(y){return console.error("Error building family tree:",y),null}},[n,s,o,r,d]),f=y=>{e(`/people/${y}`)};return i||a?l.jsx("div",{className:"flex items-center justify-center h-64",children:l.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"})}):n?l.jsxs("div",{className:"max-w-full mx-auto space-y-6",children:[l.jsx("div",{className:"flex items-center justify-between",children:l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsxs(oe,{to:`/people/${t}`,className:"flex items-center text-gray-600 hover:text-gray-900",children:[l.jsx(mn,{className:"w-4 h-4 md:mr-2"}),l.jsx("span",{className:"hidden md:inline",children:"Back to Person"})]}),l.jsxs("h1",{className:"text-2xl font-bold",children:["Family Tree: ",n.name||((v=n.title)==null?void 0:v.rendered)||n.title||`Person ${t}`]})]})}),l.jsx("div",{className:"card p-6",children:l.jsx("div",{className:"w-full",style:{height:"800px"},children:h&&h.nodes&&h.nodes.length>0?l.jsx(C1e,{graphData:h,startPersonId:r,onNodeClick:f}):l.jsx("div",{className:"flex items-center justify-center h-full",children:l.jsxs("div",{className:"text-center",children:[l.jsx("p",{className:"text-gray-500 mb-2",children:"No family relationships found."}),l.jsx("p",{className:"text-sm text-gray-400",children:"Add parent or child relationships to see the family tree."})]})})})})]}):l.jsxs("div",{className:"card p-6 text-center",children:[l.jsx("p",{className:"text-red-600 mb-4",children:"Failed to load person."}),l.jsx(oe,{to:"/people",className:"btn-secondary",children:"Back to People"})]})}function A1e(){const{loginUrl:t,isLoggedIn:e}=hO();return IK(),T.useEffect(()=>{e||(window.location.href=t)},[e,t]),l.jsx("div",{className:"flex items-center justify-center min-h-screen bg-gray-50",children:l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600 mx-auto mb-4"}),l.jsx("p",{className:"text-gray-600",children:"Redirecting to login..."})]})})}function F1e({children:t}){const{data:e,isLoading:r,error:n}=et({queryKey:["current-user"],queryFn:async()=>(await $e.getCurrentUser()).data,retry:!1});return r?l.jsx("div",{className:"flex items-center justify-center min-h-screen bg-gray-50",children:l.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"})}):n||!e?l.jsx("div",{className:"flex items-center justify-center min-h-screen bg-gray-50",children:l.jsx("div",{className:"max-w-md w-full mx-4",children:l.jsxs("div",{className:"card p-8 text-center",children:[l.jsx("div",{className:"flex justify-center mb-4",children:l.jsx("div",{className:"p-3 bg-yellow-100 rounded-full",children:l.jsx(ws,{className:"w-8 h-8 text-yellow-600"})})}),l.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-2",children:"Account Pending Approval"}),l.jsx("p",{className:"text-gray-600 mb-6",children:"Your account is pending approval by an administrator. You will receive an email notification once your account has been approved."}),l.jsx("p",{className:"text-sm text-gray-500",children:"If you have any questions, please contact your administrator."})]})})}):e!=null&&e.is_admin||e.is_approved?t:l.jsx("div",{className:"flex items-center justify-center min-h-screen bg-gray-50",children:l.jsx("div",{className:"max-w-md w-full mx-4",children:l.jsxs("div",{className:"card p-8 text-center",children:[l.jsx("div",{className:"flex justify-center mb-4",children:l.jsx("div",{className:"p-3 bg-yellow-100 rounded-full",children:l.jsx(ws,{className:"w-8 h-8 text-yellow-600"})})}),l.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-2",children:"Account Pending Approval"}),l.jsx("p",{className:"text-gray-600 mb-6",children:"Your account is pending approval by an administrator. You will receive an email notification once your account has been approved."}),l.jsx("p",{className:"text-sm text-gray-500",children:"If you have any questions, please contact your administrator."})]})})})}function L1e({children:t}){const{isLoggedIn:e,isLoading:r}=hO();return r?l.jsx("div",{className:"flex items-center justify-center min-h-screen",children:l.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"})}):e?l.jsx(F1e,{children:t}):l.jsx(PH,{to:"/login",replace:!0})}function B1e(){return l.jsxs(wI,{children:[l.jsx(st,{path:"/login",element:l.jsx(A1e,{})}),l.jsx(st,{path:"/*",element:l.jsx(L1e,{children:l.jsx(Fne,{children:l.jsxs(wI,{children:[l.jsx(st,{path:"/",element:l.jsx(Ose,{})}),l.jsx(st,{path:"/people",element:l.jsx(Pse,{})}),l.jsx(st,{path:"/people/new",element:l.jsx(wR,{})}),l.jsx(st,{path:"/people/:personId/contact/new",element:l.jsx(SR,{})}),l.jsx(st,{path:"/people/:personId/contact/:index/edit",element:l.jsx(SR,{})}),l.jsx(st,{path:"/people/:personId/address/new",element:l.jsx(NR,{})}),l.jsx(st,{path:"/people/:personId/address/:index/edit",element:l.jsx(NR,{})}),l.jsx(st,{path:"/people/:personId/work-history/new",element:l.jsx(_R,{})}),l.jsx(st,{path:"/people/:personId/work-history/:index/edit",element:l.jsx(_R,{})}),l.jsx(st,{path:"/people/:personId/relationship/new",element:l.jsx(ER,{})}),l.jsx(st,{path:"/people/:personId/relationship/:index/edit",element:l.jsx(ER,{})}),l.jsx(st,{path:"/people/:id/family-tree",element:l.jsx(q1e,{})}),l.jsx(st,{path:"/people/:id/edit",element:l.jsx(wR,{})}),l.jsx(st,{path:"/people/:id",element:l.jsx(Yse,{})}),l.jsx(st,{path:"/companies",element:l.jsx(xae,{})}),l.jsx(st,{path:"/companies/new",element:l.jsx(jR,{})}),l.jsx(st,{path:"/companies/:id",element:l.jsx(wae,{})}),l.jsx(st,{path:"/companies/:id/edit",element:l.jsx(jR,{})}),l.jsx(st,{path:"/dates",element:l.jsx(Eae,{})}),l.jsx(st,{path:"/dates/new",element:l.jsx(CR,{})}),l.jsx(st,{path:"/dates/:id/edit",element:l.jsx(CR,{})}),l.jsx(st,{path:"/todos",element:l.jsx(jae,{})}),l.jsx(st,{path:"/settings",element:l.jsx(Cae,{})}),l.jsx(st,{path:"/settings/relationship-types",element:l.jsx(Oae,{})}),l.jsx(st,{path:"/settings/import",element:l.jsx($ae,{})}),l.jsx(st,{path:"/settings/export",element:l.jsx(kae,{})}),l.jsx(st,{path:"/settings/user-approval",element:l.jsx(Dae,{})}),l.jsx(st,{path:"*",element:l.jsx(PH,{to:"/",replace:!0})})]})})})})]})}const z1e=new yte({defaultOptions:{queries:{staleTime:5*60*1e3,retry:1}}}),d2=document.getElementById("root");if(!d2)console.error('Root element not found! Make sure there is a <div id="root"></div> in your HTML.');else try{h2.createRoot(d2).render(l.jsx(qe.StrictMode,{children:l.jsx(bte,{client:z1e,children:l.jsx(Bee,{children:l.jsx(B1e,{})})})}))}catch(t){console.error("Error mounting React app:",t),d2.innerHTML='<div style="padding: 20px; color: red;"><h1>Error Loading Application</h1><p>Please check the browser console for details.</p></div>'}
