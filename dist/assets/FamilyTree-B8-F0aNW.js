import{r as xr,e as iF,j as ie,m as i2,c as n2,n as s2,L as Ab}from"./vendor-CjdX6t1i.js";import{c as nF,I as o2,o as a2,f as u2,p as l2,H as d2,w as c2}from"./main-D6r1FXj6.js";import{R as h2}from"./rotate-ccw-DxI9kbTe.js";import{A as f2}from"./arrow-left-C9KexAZo.js";import"./utils-D5Yy9kBW.js";/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v2=nF("ZoomIn",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"11",x2:"11",y1:"8",y2:"14",key:"1vmskp"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p2=nF("ZoomOut",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]]);/**
 * vis-data
 * http://visjs.org/
 *
 * Manage unstructured data using DataSet. Add, update, and remove data, and listen for changes in the data.
 *
 * @version 8.0.3
 * @date    2025-09-10T16:22:00.613Z
 *
 * @copyright (c) 2011-2017 Almende B.V, http://almende.com
 * @copyright (c) 2017-2019 visjs contributors, https://github.com/visjs
 *
 * @license
 * vis.js is dual licensed under both
 *
 *   1. The Apache 2.0 License
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 *   and
 *
 *   2. The MIT License
 *      http://opensource.org/licenses/MIT
 *
 * vis.js may be distributed under either license.
 */var Fb=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function ee(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var jo={exports:{}},Nb={},wn,kb;function qe(){if(kb)return wn;kb=1;var n=function(e){return e&&e.Math===Math&&e};return wn=n(typeof globalThis=="object"&&globalThis)||n(typeof window=="object"&&window)||n(typeof self=="object"&&self)||n(typeof Fb=="object"&&Fb)||n(typeof wn=="object"&&wn)||function(){return this}()||Function("return this")(),wn}var Lo,Bb;function oe(){return Bb||(Bb=1,Lo=function(n){try{return!!n()}catch{return!0}}),Lo}var zo,jb;function Vn(){if(jb)return zo;jb=1;var n=oe();return zo=!n(function(){var e=(function(){}).bind();return typeof e!="function"||e.hasOwnProperty("prototype")}),zo}var Wo,Lb;function Qs(){if(Lb)return Wo;Lb=1;var n=Vn(),e=Function.prototype,t=e.apply,r=e.call;return Wo=typeof Reflect=="object"&&Reflect.apply||(n?r.bind(t):function(){return r.apply(t,arguments)}),Wo}var Ho,zb;function ce(){if(zb)return Ho;zb=1;var n=Vn(),e=Function.prototype,t=e.call,r=n&&e.bind.bind(t,t);return Ho=n?r:function(i){return function(){return t.apply(i,arguments)}},Ho}var Uo,Wb;function Zt(){if(Wb)return Uo;Wb=1;var n=ce(),e=n({}.toString),t=n("".slice);return Uo=function(r){return t(e(r),8,-1)},Uo}var Vo,Hb;function sF(){if(Hb)return Vo;Hb=1;var n=Zt(),e=ce();return Vo=function(t){if(n(t)==="Function")return e(t)},Vo}var Go,Ub;function Ne(){if(Ub)return Go;Ub=1;var n=typeof document=="object"&&document.all;return Go=typeof n>"u"&&n!==void 0?function(e){return typeof e=="function"||e===n}:function(e){return typeof e=="function"},Go}var Ko={},Yo,Vb;function Ce(){if(Vb)return Yo;Vb=1;var n=oe();return Yo=!n(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!==7}),Yo}var Xo,Gb;function st(){if(Gb)return Xo;Gb=1;var n=Vn(),e=Function.prototype.call;return Xo=n?e.bind(e):function(){return e.apply(e,arguments)},Xo}var Zo={},Kb;function Rm(){if(Kb)return Zo;Kb=1;var n={}.propertyIsEnumerable,e=Object.getOwnPropertyDescriptor,t=e&&!n.call({1:2},1);return Zo.f=t?function(i){var s=e(this,i);return!!s&&s.enumerable}:n,Zo}var Jo,Yb;function Gn(){return Yb||(Yb=1,Jo=function(n,e){return{enumerable:!(n&1),configurable:!(n&2),writable:!(n&4),value:e}}),Jo}var Qo,Xb;function eo(){if(Xb)return Qo;Xb=1;var n=ce(),e=oe(),t=Zt(),r=Object,i=n("".split);return Qo=e(function(){return!r("z").propertyIsEnumerable(0)})?function(s){return t(s)==="String"?i(s,""):r(s)}:r,Qo}var ea,Zb;function Kn(){return Zb||(Zb=1,ea=function(n){return n==null}),ea}var ta,Jb;function Zr(){if(Jb)return ta;Jb=1;var n=Kn(),e=TypeError;return ta=function(t){if(n(t))throw new e("Can't call method on "+t);return t},ta}var ra,Qb;function Nt(){if(Qb)return ra;Qb=1;var n=eo(),e=Zr();return ra=function(t){return n(e(t))},ra}var ia,e1;function et(){if(e1)return ia;e1=1;var n=Ne();return ia=function(e){return typeof e=="object"?e!==null:n(e)},ia}var na,t1;function Ae(){return t1||(t1=1,na={}),na}var sa,r1;function ut(){if(r1)return sa;r1=1;var n=Ae(),e=qe(),t=Ne(),r=function(i){return t(i)?i:void 0};return sa=function(i,s){return arguments.length<2?r(n[i])||r(e[i]):n[i]&&n[i][s]||e[i]&&e[i][s]},sa}var oa,i1;function ke(){if(i1)return oa;i1=1;var n=ce();return oa=n({}.isPrototypeOf),oa}var aa,n1;function ki(){if(n1)return aa;n1=1;var n=qe(),e=n.navigator,t=e&&e.userAgent;return aa=t?String(t):"",aa}var ua,s1;function Yn(){if(s1)return ua;s1=1;var n=qe(),e=ki(),t=n.process,r=n.Deno,i=t&&t.versions||r&&r.version,s=i&&i.v8,o,a;return s&&(o=s.split("."),a=o[0]>0&&o[0]<4?1:+(o[0]+o[1])),!a&&e&&(o=e.match(/Edge\/(\d+)/),(!o||o[1]>=74)&&(o=e.match(/Chrome\/(\d+)/),o&&(a=+o[1]))),ua=a,ua}var la,o1;function Bi(){if(o1)return la;o1=1;var n=Yn(),e=oe(),t=qe(),r=t.String;return la=!!Object.getOwnPropertySymbols&&!e(function(){var i=Symbol("symbol detection");return!r(i)||!(Object(i)instanceof Symbol)||!Symbol.sham&&n&&n<41}),la}var da,a1;function oF(){if(a1)return da;a1=1;var n=Bi();return da=n&&!Symbol.sham&&typeof Symbol.iterator=="symbol",da}var ca,u1;function Xn(){if(u1)return ca;u1=1;var n=ut(),e=Ne(),t=ke(),r=oF(),i=Object;return ca=r?function(s){return typeof s=="symbol"}:function(s){var o=n("Symbol");return e(o)&&t(o.prototype,i(s))},ca}var ha,l1;function ji(){if(l1)return ha;l1=1;var n=String;return ha=function(e){try{return n(e)}catch{return"Object"}},ha}var fa,d1;function Jt(){if(d1)return fa;d1=1;var n=Ne(),e=ji(),t=TypeError;return fa=function(r){if(n(r))return r;throw new t(e(r)+" is not a function")},fa}var va,c1;function qm(){if(c1)return va;c1=1;var n=Jt(),e=Kn();return va=function(t,r){var i=t[r];return e(i)?void 0:n(i)},va}var pa,h1;function g2(){if(h1)return pa;h1=1;var n=st(),e=Ne(),t=et(),r=TypeError;return pa=function(i,s){var o,a;if(s==="string"&&e(o=i.toString)&&!t(a=n(o,i))||e(o=i.valueOf)&&!t(a=n(o,i))||s!=="string"&&e(o=i.toString)&&!t(a=n(o,i)))return a;throw new r("Can't convert object to primitive value")},pa}var ga={exports:{}},ya,f1;function Li(){return f1||(f1=1,ya=!0),ya}var ma,v1;function y2(){if(v1)return ma;v1=1;var n=qe(),e=Object.defineProperty;return ma=function(t,r){try{e(n,t,{value:r,configurable:!0,writable:!0})}catch{n[t]=r}return r},ma}var p1;function Cm(){if(p1)return ga.exports;p1=1;var n=Li(),e=qe(),t=y2(),r="__core-js_shared__",i=ga.exports=e[r]||t(r,{});return(i.versions||(i.versions=[])).push({version:"3.44.0",mode:n?"pure":"global",copyright:"Â© 2014-2025 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.44.0/LICENSE",source:"https://github.com/zloirock/core-js"}),ga.exports}var ba,g1;function zi(){if(g1)return ba;g1=1;var n=Cm();return ba=function(e,t){return n[e]||(n[e]=t||{})},ba}var _a,y1;function Pt(){if(y1)return _a;y1=1;var n=Zr(),e=Object;return _a=function(t){return e(n(t))},_a}var wa,m1;function Be(){if(m1)return wa;m1=1;var n=ce(),e=Pt(),t=n({}.hasOwnProperty);return wa=Object.hasOwn||function(i,s){return t(e(i),s)},wa}var Ea,b1;function to(){if(b1)return Ea;b1=1;var n=ce(),e=0,t=Math.random(),r=n(1.1.toString);return Ea=function(i){return"Symbol("+(i===void 0?"":i)+")_"+r(++e+t,36)},Ea}var Sa,_1;function je(){if(_1)return Sa;_1=1;var n=qe(),e=zi(),t=Be(),r=to(),i=Bi(),s=oF(),o=n.Symbol,a=e("wks"),u=s?o.for||o:o&&o.withoutSetter||r;return Sa=function(l){return t(a,l)||(a[l]=i&&t(o,l)?o[l]:u("Symbol."+l)),a[l]},Sa}var Oa,w1;function aF(){if(w1)return Oa;w1=1;var n=st(),e=et(),t=Xn(),r=qm(),i=g2(),s=je(),o=TypeError,a=s("toPrimitive");return Oa=function(u,l){if(!e(u)||t(u))return u;var d=r(u,a),c;if(d){if(l===void 0&&(l="default"),c=n(d,u,l),!e(c)||t(c))return c;throw new o("Can't convert object to primitive value")}return l===void 0&&(l="number"),i(u,l)},Oa}var Ia,E1;function xm(){if(E1)return Ia;E1=1;var n=aF(),e=Xn();return Ia=function(t){var r=n(t,"string");return e(r)?r:r+""},Ia}var $a,S1;function uF(){if(S1)return $a;S1=1;var n=qe(),e=et(),t=n.document,r=e(t)&&e(t.createElement);return $a=function(i){return r?t.createElement(i):{}},$a}var Ta,O1;function lF(){if(O1)return Ta;O1=1;var n=Ce(),e=oe(),t=uF();return Ta=!n&&!e(function(){return Object.defineProperty(t("div"),"a",{get:function(){return 7}}).a!==7}),Ta}var I1;function ro(){if(I1)return Ko;I1=1;var n=Ce(),e=st(),t=Rm(),r=Gn(),i=Nt(),s=xm(),o=Be(),a=lF(),u=Object.getOwnPropertyDescriptor;return Ko.f=n?u:function(d,c){if(d=i(d),c=s(c),a)try{return u(d,c)}catch{}if(o(d,c))return r(!e(t.f,d,c),d[c])},Ko}var Pa,$1;function m2(){if($1)return Pa;$1=1;var n=oe(),e=Ne(),t=/#|\.prototype\./,r=function(u,l){var d=s[i(u)];return d===a?!0:d===o?!1:e(l)?n(l):!!l},i=r.normalize=function(u){return String(u).replace(t,".").toLowerCase()},s=r.data={},o=r.NATIVE="N",a=r.POLYFILL="P";return Pa=r,Pa}var Ra,T1;function io(){if(T1)return Ra;T1=1;var n=sF(),e=Jt(),t=Vn(),r=n(n.bind);return Ra=function(i,s){return e(i),s===void 0?i:t?r(i,s):function(){return i.apply(s,arguments)}},Ra}var qa={},Ca,P1;function dF(){if(P1)return Ca;P1=1;var n=Ce(),e=oe();return Ca=n&&e(function(){return Object.defineProperty(function(){},"prototype",{value:42,writable:!1}).prototype!==42}),Ca}var xa,R1;function Qt(){if(R1)return xa;R1=1;var n=et(),e=String,t=TypeError;return xa=function(r){if(n(r))return r;throw new t(e(r)+" is not an object")},xa}var q1;function pt(){if(q1)return qa;q1=1;var n=Ce(),e=lF(),t=dF(),r=Qt(),i=xm(),s=TypeError,o=Object.defineProperty,a=Object.getOwnPropertyDescriptor,u="enumerable",l="configurable",d="writable";return qa.f=n?t?function(h,f,v){if(r(h),f=i(f),r(v),typeof h=="function"&&f==="prototype"&&"value"in v&&d in v&&!v[d]){var p=a(h,f);p&&p[d]&&(h[f]=v.value,v={configurable:l in v?v[l]:p[l],enumerable:u in v?v[u]:p[u],writable:!1})}return o(h,f,v)}:o:function(h,f,v){if(r(h),f=i(f),r(v),e)try{return o(h,f,v)}catch{}if("get"in v||"set"in v)throw new s("Accessors not supported");return"value"in v&&(h[f]=v.value),h},qa}var Da,C1;function Wi(){if(C1)return Da;C1=1;var n=Ce(),e=pt(),t=Gn();return Da=n?function(r,i,s){return e.f(r,i,t(1,s))}:function(r,i,s){return r[i]=s,r},Da}var Ma,x1;function Y(){if(x1)return Ma;x1=1;var n=qe(),e=Qs(),t=sF(),r=Ne(),i=ro().f,s=m2(),o=Ae(),a=io(),u=Wi(),l=Be(),d=function(c){var h=function(f,v,p){if(this instanceof h){switch(arguments.length){case 0:return new c;case 1:return new c(f);case 2:return new c(f,v)}return new c(f,v,p)}return e(c,this,arguments)};return h.prototype=c.prototype,h};return Ma=function(c,h){var f=c.target,v=c.global,p=c.stat,m=c.proto,y=v?n:p?n[f]:n[f]&&n[f].prototype,g=v?o:o[f]||u(o,f,{})[f],E=g.prototype,b,w,O,I,_,S,$,T,P;for(I in h)b=s(v?I:f+(p?".":"#")+I,c.forced),w=!b&&y&&l(y,I),S=g[I],w&&(c.dontCallGetSet?(P=i(y,I),$=P&&P.value):$=y[I]),_=w&&$?$:h[I],!(!b&&!m&&typeof S==typeof _)&&(c.bind&&w?T=a(_,n):c.wrap&&w?T=d(_):m&&r(_)?T=t(_):T=_,(c.sham||_&&_.sham||S&&S.sham)&&u(T,"sham",!0),u(g,I,T),m&&(O=f+"Prototype",l(o,O)||u(o,O,{}),u(o[O],I,_),c.real&&E&&(b||!E[I])&&u(E,I,_)))},Ma}var D1;function b2(){if(D1)return Nb;D1=1;var n=Y(),e=Ce(),t=pt().f;return n({target:"Object",stat:!0,forced:Object.defineProperty!==t,sham:!e},{defineProperty:t}),Nb}var M1;function _2(){if(M1)return jo.exports;M1=1,b2();var n=Ae(),e=n.Object,t=jo.exports=function(i,s,o){return e.defineProperty(i,s,o)};return e.defineProperty.sham&&(t.sham=!0),jo.exports}var Aa,A1;function cF(){if(A1)return Aa;A1=1;var n=_2();return Aa=n,Aa}var Fa,F1;function w2(){if(F1)return Fa;F1=1;var n=cF();return Fa=n,Fa}var Na,N1;function E2(){if(N1)return Na;N1=1;var n=w2();return Na=n,Na}var ka,k1;function S2(){return k1||(k1=1,ka=E2()),ka}var O2=S2(),I2=ee(O2),B1={},Ba,j1;function Jr(){if(j1)return Ba;j1=1;var n=Zt();return Ba=Array.isArray||function(t){return n(t)==="Array"},Ba}var ja,L1;function $2(){if(L1)return ja;L1=1;var n=Math.ceil,e=Math.floor;return ja=Math.trunc||function(r){var i=+r;return(i>0?e:n)(i)},ja}var La,z1;function Hi(){if(z1)return La;z1=1;var n=$2();return La=function(e){var t=+e;return t!==t||t===0?0:n(t)},La}var za,W1;function hF(){if(W1)return za;W1=1;var n=Hi(),e=Math.min;return za=function(t){var r=n(t);return r>0?e(r,9007199254740991):0},za}var Wa,H1;function gr(){if(H1)return Wa;H1=1;var n=hF();return Wa=function(e){return n(e.length)},Wa}var Ha,U1;function fF(){if(U1)return Ha;U1=1;var n=TypeError,e=9007199254740991;return Ha=function(t){if(t>e)throw n("Maximum allowed index exceeded");return t},Ha}var Ua,V1;function no(){if(V1)return Ua;V1=1;var n=Ce(),e=pt(),t=Gn();return Ua=function(r,i,s){n?e.f(r,i,t(0,s)):r[i]=s},Ua}var Va,G1;function Dm(){if(G1)return Va;G1=1;var n=je(),e=n("toStringTag"),t={};return t[e]="z",Va=String(t)==="[object z]",Va}var Ga,K1;function yr(){if(K1)return Ga;K1=1;var n=Dm(),e=Ne(),t=Zt(),r=je(),i=r("toStringTag"),s=Object,o=t(function(){return arguments}())==="Arguments",a=function(u,l){try{return u[l]}catch{}};return Ga=n?t:function(u){var l,d,c;return u===void 0?"Undefined":u===null?"Null":typeof(d=a(l=s(u),i))=="string"?d:o?t(l):(c=t(l))==="Object"&&e(l.callee)?"Arguments":c},Ga}var Ka,Y1;function T2(){if(Y1)return Ka;Y1=1;var n=ce(),e=Ne(),t=Cm(),r=n(Function.toString);return e(t.inspectSource)||(t.inspectSource=function(i){return r(i)}),Ka=t.inspectSource,Ka}var Ya,X1;function vF(){if(X1)return Ya;X1=1;var n=ce(),e=oe(),t=Ne(),r=yr(),i=ut(),s=T2(),o=function(){},a=i("Reflect","construct"),u=/^\s*(?:class|function)\b/,l=n(u.exec),d=!u.test(o),c=function(v){if(!t(v))return!1;try{return a(o,[],v),!0}catch{return!1}},h=function(v){if(!t(v))return!1;switch(r(v)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return d||!!l(u,s(v))}catch{return!0}};return h.sham=!0,Ya=!a||e(function(){var f;return c(c.call)||!c(Object)||!c(function(){f=!0})||f})?h:c,Ya}var Xa,Z1;function P2(){if(Z1)return Xa;Z1=1;var n=Jr(),e=vF(),t=et(),r=je(),i=r("species"),s=Array;return Xa=function(o){var a;return n(o)&&(a=o.constructor,e(a)&&(a===s||n(a.prototype))?a=void 0:t(a)&&(a=a[i],a===null&&(a=void 0))),a===void 0?s:a},Xa}var Za,J1;function Mm(){if(J1)return Za;J1=1;var n=P2();return Za=function(e,t){return new(n(e))(t===0?0:t)},Za}var Ja,Q1;function Zn(){if(Q1)return Ja;Q1=1;var n=oe(),e=je(),t=Yn(),r=e("species");return Ja=function(i){return t>=51||!n(function(){var s=[],o=s.constructor={};return o[r]=function(){return{foo:1}},s[i](Boolean).foo!==1})},Ja}var e_;function pF(){if(e_)return B1;e_=1;var n=Y(),e=oe(),t=Jr(),r=et(),i=Pt(),s=gr(),o=fF(),a=no(),u=Mm(),l=Zn(),d=je(),c=Yn(),h=d("isConcatSpreadable"),f=c>=51||!e(function(){var m=[];return m[h]=!1,m.concat()[0]!==m}),v=function(m){if(!r(m))return!1;var y=m[h];return y!==void 0?!!y:t(m)},p=!f||!l("concat");return n({target:"Array",proto:!0,arity:1,forced:p},{concat:function(y){var g=i(this),E=u(g,0),b=0,w,O,I,_,S;for(w=-1,I=arguments.length;w<I;w++)if(S=w===-1?g:arguments[w],v(S))for(_=s(S),o(b+_),O=0;O<_;O++,b++)O in S&&a(E,b,S[O]);else o(b+1),a(E,b++,S);return E.length=b,E}}),B1}var t_={},r_={},Qa,i_;function mr(){if(i_)return Qa;i_=1;var n=yr(),e=String;return Qa=function(t){if(n(t)==="Symbol")throw new TypeError("Cannot convert a Symbol value to a string");return e(t)},Qa}var eu={},tu,n_;function Am(){if(n_)return tu;n_=1;var n=Hi(),e=Math.max,t=Math.min;return tu=function(r,i){var s=n(r);return s<0?e(s+i,0):t(s,i)},tu}var ru,s_;function R2(){if(s_)return ru;s_=1;var n=Nt(),e=Am(),t=gr(),r=function(i){return function(s,o,a){var u=n(s),l=t(u);if(l===0)return!i&&-1;var d=e(a,l),c;if(i&&o!==o){for(;l>d;)if(c=u[d++],c!==c)return!0}else for(;l>d;d++)if((i||d in u)&&u[d]===o)return i||d||0;return!i&&-1}};return ru={includes:r(!0),indexOf:r(!1)},ru}var iu,o_;function Jn(){return o_||(o_=1,iu={}),iu}var nu,a_;function gF(){if(a_)return nu;a_=1;var n=ce(),e=Be(),t=Nt(),r=R2().indexOf,i=Jn(),s=n([].push);return nu=function(o,a){var u=t(o),l=0,d=[],c;for(c in u)!e(i,c)&&e(u,c)&&s(d,c);for(;a.length>l;)e(u,c=a[l++])&&(~r(d,c)||s(d,c));return d},nu}var su,u_;function Fm(){return u_||(u_=1,su=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]),su}var ou,l_;function so(){if(l_)return ou;l_=1;var n=gF(),e=Fm();return ou=Object.keys||function(r){return n(r,e)},ou}var d_;function Nm(){if(d_)return eu;d_=1;var n=Ce(),e=dF(),t=pt(),r=Qt(),i=Nt(),s=so();return eu.f=n&&!e?Object.defineProperties:function(a,u){r(a);for(var l=i(u),d=s(u),c=d.length,h=0,f;c>h;)t.f(a,f=d[h++],l[f]);return a},eu}var au,c_;function q2(){if(c_)return au;c_=1;var n=ut();return au=n("document","documentElement"),au}var uu,h_;function oo(){if(h_)return uu;h_=1;var n=zi(),e=to(),t=n("keys");return uu=function(r){return t[r]||(t[r]=e(r))},uu}var lu,f_;function Qn(){if(f_)return lu;f_=1;var n=Qt(),e=Nm(),t=Fm(),r=Jn(),i=q2(),s=uF(),o=oo(),a=">",u="<",l="prototype",d="script",c=o("IE_PROTO"),h=function(){},f=function(g){return u+d+a+g+u+"/"+d+a},v=function(g){g.write(f("")),g.close();var E=g.parentWindow.Object;return g=null,E},p=function(){var g=s("iframe"),E="java"+d+":",b;return g.style.display="none",i.appendChild(g),g.src=String(E),b=g.contentWindow.document,b.open(),b.write(f("document.F=Object")),b.close(),b.F},m,y=function(){try{m=new ActiveXObject("htmlfile")}catch{}y=typeof document<"u"?document.domain&&m?v(m):p():v(m);for(var g=t.length;g--;)delete y[l][t[g]];return y()};return r[c]=!0,lu=Object.create||function(E,b){var w;return E!==null?(h[l]=n(E),w=new h,h[l]=null,w[c]=E):w=y(),b===void 0?w:e.f(w,b)},lu}var du={},v_;function ao(){if(v_)return du;v_=1;var n=gF(),e=Fm(),t=e.concat("length","prototype");return du.f=Object.getOwnPropertyNames||function(i){return n(i,t)},du}var cu={},hu,p_;function Ui(){if(p_)return hu;p_=1;var n=ce();return hu=n([].slice),hu}var g_;function yF(){if(g_)return cu;g_=1;var n=Zt(),e=Nt(),t=ao().f,r=Ui(),i=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],s=function(o){try{return t(o)}catch{return r(i)}};return cu.f=function(a){return i&&n(a)==="Window"?s(a):t(e(a))},cu}var fu={},y_;function uo(){return y_||(y_=1,fu.f=Object.getOwnPropertySymbols),fu}var vu,m_;function es(){if(m_)return vu;m_=1;var n=Wi();return vu=function(e,t,r,i){return i&&i.enumerable?e[t]=r:n(e,t,r),e},vu}var pu,b_;function km(){if(b_)return pu;b_=1;var n=pt();return pu=function(e,t,r){return n.f(e,t,r)},pu}var gu={},__;function lo(){if(__)return gu;__=1;var n=je();return gu.f=n,gu}var yu,w_;function _e(){if(w_)return yu;w_=1;var n=Ae(),e=Be(),t=lo(),r=pt().f;return yu=function(i){var s=n.Symbol||(n.Symbol={});e(s,i)||r(s,i,{value:t.f(i)})},yu}var mu,E_;function mF(){if(E_)return mu;E_=1;var n=st(),e=ut(),t=je(),r=es();return mu=function(){var i=e("Symbol"),s=i&&i.prototype,o=s&&s.valueOf,a=t("toPrimitive");s&&!s[a]&&r(s,a,function(u){return n(o,this)},{arity:1})},mu}var bu,S_;function C2(){if(S_)return bu;S_=1;var n=Dm(),e=yr();return bu=n?{}.toString:function(){return"[object "+e(this)+"]"},bu}var _u,O_;function Qr(){if(O_)return _u;O_=1;var n=Dm(),e=pt().f,t=Wi(),r=Be(),i=C2(),s=je(),o=s("toStringTag");return _u=function(a,u,l,d){var c=l?a:a&&a.prototype;c&&(r(c,o)||e(c,o,{configurable:!0,value:u}),d&&!n&&t(c,"toString",i))},_u}var wu,I_;function x2(){if(I_)return wu;I_=1;var n=qe(),e=Ne(),t=n.WeakMap;return wu=e(t)&&/native code/.test(String(t)),wu}var Eu,$_;function ts(){if($_)return Eu;$_=1;var n=x2(),e=qe(),t=et(),r=Wi(),i=Be(),s=Cm(),o=oo(),a=Jn(),u="Object already initialized",l=e.TypeError,d=e.WeakMap,c,h,f,v=function(g){return f(g)?h(g):c(g,{})},p=function(g){return function(E){var b;if(!t(E)||(b=h(E)).type!==g)throw new l("Incompatible receiver, "+g+" required");return b}};if(n||s.state){var m=s.state||(s.state=new d);m.get=m.get,m.has=m.has,m.set=m.set,c=function(g,E){if(m.has(g))throw new l(u);return E.facade=g,m.set(g,E),E},h=function(g){return m.get(g)||{}},f=function(g){return m.has(g)}}else{var y=o("state");a[y]=!0,c=function(g,E){if(i(g,y))throw new l(u);return E.facade=g,r(g,y,E),E},h=function(g){return i(g,y)?g[y]:{}},f=function(g){return i(g,y)}}return Eu={set:c,get:h,has:f,enforce:v,getterFor:p},Eu}var Su,T_;function Vi(){if(T_)return Su;T_=1;var n=io(),e=ce(),t=eo(),r=Pt(),i=gr(),s=Mm(),o=e([].push),a=function(u){var l=u===1,d=u===2,c=u===3,h=u===4,f=u===6,v=u===7,p=u===5||f;return function(m,y,g,E){for(var b=r(m),w=t(b),O=i(w),I=n(y,g),_=0,S=E||s,$=l?S(m,O):d||v?S(m,0):void 0,T,P;O>_;_++)if((p||_ in w)&&(T=w[_],P=I(T,_,b),u))if(l)$[_]=P;else if(P)switch(u){case 3:return!0;case 5:return T;case 6:return _;case 2:o($,T)}else switch(u){case 4:return!1;case 7:o($,T)}return f?-1:c||h?h:$}};return Su={forEach:a(0),map:a(1),filter:a(2),some:a(3),every:a(4),find:a(5),findIndex:a(6),filterReject:a(7)},Su}var P_;function D2(){if(P_)return r_;P_=1;var n=Y(),e=qe(),t=st(),r=ce(),i=Li(),s=Ce(),o=Bi(),a=oe(),u=Be(),l=ke(),d=Qt(),c=Nt(),h=xm(),f=mr(),v=Gn(),p=Qn(),m=so(),y=ao(),g=yF(),E=uo(),b=ro(),w=pt(),O=Nm(),I=Rm(),_=es(),S=km(),$=zi(),T=oo(),P=Jn(),R=to(),C=je(),A=lo(),K=_e(),L=mF(),Z=Qr(),Q=ts(),ue=Vi().forEach,W=T("hidden"),le="Symbol",me="prototype",be=Q.set,_t=Q.getterFor(le),pe=Object[me],Ge=e.Symbol,wt=Ge&&Ge[me],Ao=e.RangeError,Fo=e.TypeError,Or=e.QObject,hn=b.f,Ke=w.f,fn=g.f,No=I.f,vn=r([].push),Me=$("symbols"),Et=$("op-symbols"),ko=$("wks"),Ir=!Or||!Or[me]||!Or[me].findChild,pn=function(H,F,N){var k=hn(pe,F);k&&delete pe[F],Ke(H,F,N),k&&H!==pe&&Ke(pe,F,k)},$r=s&&a(function(){return p(Ke({},"a",{get:function(){return Ke(this,"a",{value:7}).a}})).a!==7})?pn:Ke,Tr=function(H,F){var N=Me[H]=p(wt);return be(N,{type:le,tag:H,description:F}),s||(N.description=F),N},jt=function(F,N,k){F===pe&&jt(Et,N,k),d(F);var U=h(N);return d(k),u(Me,U)?(k.enumerable?(u(F,W)&&F[W][U]&&(F[W][U]=!1),k=p(k,{enumerable:v(0,!1)})):(u(F,W)||Ke(F,W,v(1,p(null))),F[W][U]=!0),$r(F,U,k)):Ke(F,U,k)},Pr=function(F,N){d(F);var k=c(N),U=m(k).concat(mn(k));return ue(U,function(ne){(!s||t(Rr,k,ne))&&jt(F,ne,k[ne])}),F},Bo=function(F,N){return N===void 0?p(F):Pr(p(F),N)},Rr=function(F){var N=h(F),k=t(No,this,N);return this===pe&&u(Me,N)&&!u(Et,N)?!1:k||!u(this,N)||!u(Me,N)||u(this,W)&&this[W][N]?k:!0},gn=function(F,N){var k=c(F),U=h(N);if(!(k===pe&&u(Me,U)&&!u(Et,U))){var ne=hn(k,U);return ne&&u(Me,U)&&!(u(k,W)&&k[W][U])&&(ne.enumerable=!0),ne}},yn=function(F){var N=fn(c(F)),k=[];return ue(N,function(U){!u(Me,U)&&!u(P,U)&&vn(k,U)}),k},mn=function(H){var F=H===pe,N=fn(F?Et:c(H)),k=[];return ue(N,function(U){u(Me,U)&&(!F||u(pe,U))&&vn(k,Me[U])}),k};return o||(Ge=function(){if(l(wt,this))throw new Fo("Symbol is not a constructor");var F=!arguments.length||arguments[0]===void 0?void 0:f(arguments[0]),N=R(F),k=function(U){var ne=this===void 0?e:this;ne===pe&&t(k,Et,U),u(ne,W)&&u(ne[W],N)&&(ne[W][N]=!1);var bn=v(1,U);try{$r(ne,N,bn)}catch(_n){if(!(_n instanceof Ao))throw _n;pn(ne,N,bn)}};return s&&Ir&&$r(pe,N,{configurable:!0,set:k}),Tr(N,F)},wt=Ge[me],_(wt,"toString",function(){return _t(this).tag}),_(Ge,"withoutSetter",function(H){return Tr(R(H),H)}),I.f=Rr,w.f=jt,O.f=Pr,b.f=gn,y.f=g.f=yn,E.f=mn,A.f=function(H){return Tr(C(H),H)},s&&(S(wt,"description",{configurable:!0,get:function(){return _t(this).description}}),i||_(pe,"propertyIsEnumerable",Rr,{unsafe:!0}))),n({global:!0,constructor:!0,wrap:!0,forced:!o,sham:!o},{Symbol:Ge}),ue(m(ko),function(H){K(H)}),n({target:le,stat:!0,forced:!o},{useSetter:function(){Ir=!0},useSimple:function(){Ir=!1}}),n({target:"Object",stat:!0,forced:!o,sham:!s},{create:Bo,defineProperty:jt,defineProperties:Pr,getOwnPropertyDescriptor:gn}),n({target:"Object",stat:!0,forced:!o},{getOwnPropertyNames:yn}),L(),Z(Ge,le),P[W]=!0,r_}var R_={},Ou,q_;function bF(){if(q_)return Ou;q_=1;var n=Bi();return Ou=n&&!!Symbol.for&&!!Symbol.keyFor,Ou}var C_;function M2(){if(C_)return R_;C_=1;var n=Y(),e=ut(),t=Be(),r=mr(),i=zi(),s=bF(),o=i("string-to-symbol-registry"),a=i("symbol-to-string-registry");return n({target:"Symbol",stat:!0,forced:!s},{for:function(u){var l=r(u);if(t(o,l))return o[l];var d=e("Symbol")(l);return o[l]=d,a[d]=l,d}}),R_}var x_={},D_;function A2(){if(D_)return x_;D_=1;var n=Y(),e=Be(),t=Xn(),r=ji(),i=zi(),s=bF(),o=i("symbol-to-string-registry");return n({target:"Symbol",stat:!0,forced:!s},{keyFor:function(u){if(!t(u))throw new TypeError(r(u)+" is not a symbol");if(e(o,u))return o[u]}}),x_}var M_={},Iu,A_;function F2(){if(A_)return Iu;A_=1;var n=ce(),e=Jr(),t=Ne(),r=Zt(),i=mr(),s=n([].push);return Iu=function(o){if(t(o))return o;if(e(o)){for(var a=o.length,u=[],l=0;l<a;l++){var d=o[l];typeof d=="string"?s(u,d):(typeof d=="number"||r(d)==="Number"||r(d)==="String")&&s(u,i(d))}var c=u.length,h=!0;return function(f,v){if(h)return h=!1,v;if(e(this))return v;for(var p=0;p<c;p++)if(u[p]===f)return v}}},Iu}var F_;function _F(){if(F_)return M_;F_=1;var n=Y(),e=ut(),t=Qs(),r=st(),i=ce(),s=oe(),o=Ne(),a=Xn(),u=Ui(),l=F2(),d=Bi(),c=String,h=e("JSON","stringify"),f=i(/./.exec),v=i("".charAt),p=i("".charCodeAt),m=i("".replace),y=i(1.1.toString),g=/[\uD800-\uDFFF]/g,E=/^[\uD800-\uDBFF]$/,b=/^[\uDC00-\uDFFF]$/,w=!d||s(function(){var S=e("Symbol")("stringify detection");return h([S])!=="[null]"||h({a:S})!=="{}"||h(Object(S))!=="{}"}),O=s(function(){return h("\uDF06\uD834")!=='"\\udf06\\ud834"'||h("\uDEAD")!=='"\\udead"'}),I=function(S,$){var T=u(arguments),P=l($);if(!(!o(P)&&(S===void 0||a(S))))return T[1]=function(R,C){if(o(P)&&(C=r(P,this,c(R),C)),!a(C))return C},t(h,null,T)},_=function(S,$,T){var P=v(T,$-1),R=v(T,$+1);return f(E,S)&&!f(b,R)||f(b,S)&&!f(E,P)?"\\u"+y(p(S,0),16):S};return h&&n({target:"JSON",stat:!0,arity:3,forced:w||O},{stringify:function($,T,P){var R=u(arguments),C=t(w?I:h,null,R);return O&&typeof C=="string"?m(C,g,_):C}}),M_}var N_={},k_;function N2(){if(k_)return N_;k_=1;var n=Y(),e=Bi(),t=oe(),r=uo(),i=Pt(),s=!e||t(function(){r.f(1)});return n({target:"Object",stat:!0,forced:s},{getOwnPropertySymbols:function(a){var u=r.f;return u?u(i(a)):[]}}),N_}var B_;function wF(){return B_||(B_=1,D2(),M2(),A2(),_F(),N2()),t_}var j_={},L_;function EF(){if(L_)return j_;L_=1;var n=_e();return n("asyncDispose"),j_}var z_={},W_;function k2(){if(W_)return z_;W_=1;var n=_e();return n("asyncIterator"),z_}var H_={},U_;function SF(){if(U_)return H_;U_=1;var n=_e();return n("dispose"),H_}var V_={},G_;function B2(){if(G_)return V_;G_=1;var n=_e();return n("hasInstance"),V_}var K_={},Y_;function j2(){if(Y_)return K_;Y_=1;var n=_e();return n("isConcatSpreadable"),K_}var X_={},Z_;function OF(){if(Z_)return X_;Z_=1;var n=_e();return n("iterator"),X_}var J_={},Q_;function L2(){if(Q_)return J_;Q_=1;var n=_e();return n("match"),J_}var ew={},tw;function z2(){if(tw)return ew;tw=1;var n=_e();return n("matchAll"),ew}var rw={},iw;function W2(){if(iw)return rw;iw=1;var n=_e();return n("replace"),rw}var nw={},sw;function H2(){if(sw)return nw;sw=1;var n=_e();return n("search"),nw}var ow={},aw;function U2(){if(aw)return ow;aw=1;var n=_e();return n("species"),ow}var uw={},lw;function V2(){if(lw)return uw;lw=1;var n=_e();return n("split"),uw}var dw={},cw;function IF(){if(cw)return dw;cw=1;var n=_e(),e=mF();return n("toPrimitive"),e(),dw}var hw={},fw;function G2(){if(fw)return hw;fw=1;var n=ut(),e=_e(),t=Qr();return e("toStringTag"),t(n("Symbol"),"Symbol"),hw}var vw={},pw;function K2(){if(pw)return vw;pw=1;var n=_e();return n("unscopables"),vw}var gw={},yw;function Y2(){if(yw)return gw;yw=1;var n=qe(),e=Qr();return e(n.JSON,"JSON",!0),gw}var $u,mw;function X2(){if(mw)return $u;mw=1,pF(),wF(),EF(),k2(),SF(),B2(),j2(),OF(),L2(),z2(),W2(),H2(),U2(),V2(),IF(),G2(),K2(),Y2();var n=Ae();return $u=n.Symbol,$u}var bw={},Tu,_w;function Z2(){return _w||(_w=1,Tu=function(){}),Tu}var Pu,ww;function Gi(){return ww||(ww=1,Pu={}),Pu}var Ru,Ew;function J2(){if(Ew)return Ru;Ew=1;var n=Ce(),e=Be(),t=Function.prototype,r=n&&Object.getOwnPropertyDescriptor,i=e(t,"name"),s=i&&(function(){}).name==="something",o=i&&(!n||n&&r(t,"name").configurable);return Ru={EXISTS:i,PROPER:s,CONFIGURABLE:o},Ru}var qu,Sw;function Q2(){if(Sw)return qu;Sw=1;var n=oe();return qu=!n(function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype}),qu}var Cu,Ow;function $F(){if(Ow)return Cu;Ow=1;var n=Be(),e=Ne(),t=Pt(),r=oo(),i=Q2(),s=r("IE_PROTO"),o=Object,a=o.prototype;return Cu=i?o.getPrototypeOf:function(u){var l=t(u);if(n(l,s))return l[s];var d=l.constructor;return e(d)&&l instanceof d?d.prototype:l instanceof o?a:null},Cu}var xu,Iw;function TF(){if(Iw)return xu;Iw=1;var n=oe(),e=Ne(),t=et(),r=Qn(),i=$F(),s=es(),o=je(),a=Li(),u=o("iterator"),l=!1,d,c,h;[].keys&&(h=[].keys(),"next"in h?(c=i(i(h)),c!==Object.prototype&&(d=c)):l=!0);var f=!t(d)||n(function(){var v={};return d[u].call(v)!==v});return f?d={}:a&&(d=r(d)),e(d[u])||s(d,u,function(){return this}),xu={IteratorPrototype:d,BUGGY_SAFARI_ITERATORS:l},xu}var Du,$w;function eB(){if($w)return Du;$w=1;var n=TF().IteratorPrototype,e=Qn(),t=Gn(),r=Qr(),i=Gi(),s=function(){return this};return Du=function(o,a,u,l){var d=a+" Iterator";return o.prototype=e(n,{next:t(+!l,u)}),r(o,d,!1,!0),i[d]=s,o},Du}var Mu,Tw;function tB(){if(Tw)return Mu;Tw=1;var n=ce(),e=Jt();return Mu=function(t,r,i){try{return n(e(Object.getOwnPropertyDescriptor(t,r)[i]))}catch{}},Mu}var Au,Pw;function rB(){if(Pw)return Au;Pw=1;var n=et();return Au=function(e){return n(e)||e===null},Au}var Fu,Rw;function iB(){if(Rw)return Fu;Rw=1;var n=rB(),e=String,t=TypeError;return Fu=function(r){if(n(r))return r;throw new t("Can't set "+e(r)+" as a prototype")},Fu}var Nu,qw;function nB(){if(qw)return Nu;qw=1;var n=tB(),e=et(),t=Zr(),r=iB();return Nu=Object.setPrototypeOf||("__proto__"in{}?function(){var i=!1,s={},o;try{o=n(Object.prototype,"__proto__","set"),o(s,[]),i=s instanceof Array}catch{}return function(u,l){return t(u),r(l),e(u)&&(i?o(u,l):u.__proto__=l),u}}():void 0),Nu}var ku,Cw;function Bm(){if(Cw)return ku;Cw=1;var n=Y(),e=st(),t=Li(),r=J2(),i=Ne(),s=eB(),o=$F(),a=nB(),u=Qr(),l=Wi(),d=es(),c=je(),h=Gi(),f=TF(),v=r.PROPER,p=r.CONFIGURABLE,m=f.IteratorPrototype,y=f.BUGGY_SAFARI_ITERATORS,g=c("iterator"),E="keys",b="values",w="entries",O=function(){return this};return ku=function(I,_,S,$,T,P,R){s(S,_,$);var C=function(be){if(be===T&&Q)return Q;if(!y&&be&&be in L)return L[be];switch(be){case E:return function(){return new S(this,be)};case b:return function(){return new S(this,be)};case w:return function(){return new S(this,be)}}return function(){return new S(this)}},A=_+" Iterator",K=!1,L=I.prototype,Z=L[g]||L["@@iterator"]||T&&L[T],Q=!y&&Z||C(T),ue=_==="Array"&&L.entries||Z,W,le,me;if(ue&&(W=o(ue.call(new I)),W!==Object.prototype&&W.next&&(!t&&o(W)!==m&&(a?a(W,m):i(W[g])||d(W,g,O)),u(W,A,!0,!0),t&&(h[A]=O))),v&&T===b&&Z&&Z.name!==b&&(!t&&p?l(L,"name",b):(K=!0,Q=function(){return e(Z,this)})),T)if(le={values:C(b),keys:P?Q:C(E),entries:C(w)},R)for(me in le)(y||K||!(me in L))&&d(L,me,le[me]);else n({target:_,proto:!0,forced:y||K},le);return(!t||R)&&L[g]!==Q&&d(L,g,Q,{name:T}),h[_]=Q,le},ku}var Bu,xw;function jm(){return xw||(xw=1,Bu=function(n,e){return{value:n,done:e}}),Bu}var ju,Dw;function br(){if(Dw)return ju;Dw=1;var n=Nt(),e=Z2(),t=Gi(),r=ts(),i=pt().f,s=Bm(),o=jm(),a=Li(),u=Ce(),l="Array Iterator",d=r.set,c=r.getterFor(l);ju=s(Array,"Array",function(f,v){d(this,{type:l,target:n(f),index:0,kind:v})},function(){var f=c(this),v=f.target,p=f.index++;if(!v||p>=v.length)return f.target=null,o(void 0,!0);switch(f.kind){case"keys":return o(p,!1);case"values":return o(v[p],!1)}return o([p,v[p]],!1)},"values");var h=t.Arguments=t.Array;if(e("keys"),e("values"),e("entries"),!a&&u&&h.name!=="values")try{i(h,"name",{value:"values"})}catch{}return ju}var Lu,Mw;function sB(){return Mw||(Mw=1,Lu={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}),Lu}var Aw;function _r(){if(Aw)return bw;Aw=1,br();var n=sB(),e=qe(),t=Qr(),r=Gi();for(var i in n)t(e[i],i),r[i]=r.Array;return bw}var zu,Fw;function PF(){if(Fw)return zu;Fw=1;var n=X2();return _r(),zu=n,zu}var Nw={},kw;function oB(){if(kw)return Nw;kw=1;var n=je(),e=pt().f,t=n("metadata"),r=Function.prototype;return r[t]===void 0&&e(r,t,{value:null}),Nw}var Bw={},jw;function aB(){return jw||(jw=1,EF()),Bw}var Lw={},zw;function uB(){return zw||(zw=1,SF()),Lw}var Ww={},Hw;function lB(){if(Hw)return Ww;Hw=1;var n=_e();return n("metadata"),Ww}var Wu,Uw;function dB(){if(Uw)return Wu;Uw=1;var n=PF();return oB(),aB(),uB(),lB(),Wu=n,Wu}var Vw={},Hu,Gw;function RF(){if(Gw)return Hu;Gw=1;var n=ut(),e=ce(),t=n("Symbol"),r=t.keyFor,i=e(t.prototype.valueOf);return Hu=t.isRegisteredSymbol||function(o){try{return r(i(o))!==void 0}catch{return!1}},Hu}var Kw;function cB(){if(Kw)return Vw;Kw=1;var n=Y(),e=RF();return n({target:"Symbol",stat:!0},{isRegisteredSymbol:e}),Vw}var Yw={},Uu,Xw;function qF(){if(Xw)return Uu;Xw=1;for(var n=zi(),e=ut(),t=ce(),r=Xn(),i=je(),s=e("Symbol"),o=s.isWellKnownSymbol,a=e("Object","getOwnPropertyNames"),u=t(s.prototype.valueOf),l=n("wks"),d=0,c=a(s),h=c.length;d<h;d++)try{var f=c[d];r(s[f])&&i(f)}catch{}return Uu=function(p){if(o&&o(p))return!0;try{for(var m=u(p),y=0,g=a(l),E=g.length;y<E;y++)if(l[g[y]]==m)return!0}catch{}return!1},Uu}var Zw;function hB(){if(Zw)return Yw;Zw=1;var n=Y(),e=qF();return n({target:"Symbol",stat:!0,forced:!0},{isWellKnownSymbol:e}),Yw}var Jw={},Qw;function fB(){if(Qw)return Jw;Qw=1;var n=_e();return n("customMatcher"),Jw}var eE={},tE;function vB(){if(tE)return eE;tE=1;var n=_e();return n("observable"),eE}var rE={},iE;function pB(){if(iE)return rE;iE=1;var n=Y(),e=RF();return n({target:"Symbol",stat:!0,name:"isRegisteredSymbol"},{isRegistered:e}),rE}var nE={},sE;function gB(){if(sE)return nE;sE=1;var n=Y(),e=qF();return n({target:"Symbol",stat:!0,name:"isWellKnownSymbol",forced:!0},{isWellKnown:e}),nE}var oE={},aE;function yB(){if(aE)return oE;aE=1;var n=_e();return n("matcher"),oE}var uE={},lE;function mB(){if(lE)return uE;lE=1;var n=_e();return n("metadataKey"),uE}var dE={},cE;function bB(){if(cE)return dE;cE=1;var n=_e();return n("patternMatch"),dE}var hE={},fE;function _B(){if(fE)return hE;fE=1;var n=_e();return n("replaceAll"),hE}var Vu,vE;function wB(){if(vE)return Vu;vE=1;var n=dB();return cB(),hB(),fB(),vB(),pB(),gB(),yB(),mB(),bB(),_B(),Vu=n,Vu}var Gu,pE;function EB(){return pE||(pE=1,Gu=wB()),Gu}var SB=EB(),Ps=ee(SB),gE={},Ku,yE;function OB(){if(yE)return Ku;yE=1;var n=ce(),e=Hi(),t=mr(),r=Zr(),i=n("".charAt),s=n("".charCodeAt),o=n("".slice),a=function(u){return function(l,d){var c=t(r(l)),h=e(d),f=c.length,v,p;return h<0||h>=f?u?"":void 0:(v=s(c,h),v<55296||v>56319||h+1===f||(p=s(c,h+1))<56320||p>57343?u?i(c,h):v:u?o(c,h,h+2):(v-55296<<10)+(p-56320)+65536)}};return Ku={codeAt:a(!1),charAt:a(!0)},Ku}var mE;function co(){if(mE)return gE;mE=1;var n=OB().charAt,e=mr(),t=ts(),r=Bm(),i=jm(),s="String Iterator",o=t.set,a=t.getterFor(s);return r(String,"String",function(u){o(this,{type:s,string:e(u),index:0})},function(){var l=a(this),d=l.string,c=l.index,h;return c>=d.length?i(void 0,!0):(h=n(d,c),l.index+=h.length,i(h,!1))}),gE}var Yu,bE;function IB(){if(bE)return Yu;bE=1,br(),co(),OF();var n=lo();return Yu=n.f("iterator"),Yu}var Xu,_E;function CF(){if(_E)return Xu;_E=1;var n=IB();return _r(),Xu=n,Xu}var Zu,wE;function $B(){if(wE)return Zu;wE=1;var n=CF();return Zu=n,Zu}var Ju,EE;function TB(){if(EE)return Ju;EE=1;var n=$B();return Ju=n,Ju}var Qu,SE;function PB(){return SE||(SE=1,Qu=TB()),Qu}var RB=PB(),qB=ee(RB);function Mn(n){"@babel/helpers - typeof";return Mn=typeof Ps=="function"&&typeof qB=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Ps=="function"&&e.constructor===Ps&&e!==Ps.prototype?"symbol":typeof e},Mn(n)}var el,OE;function CB(){if(OE)return el;OE=1,IF();var n=lo();return el=n.f("toPrimitive"),el}var tl,IE;function xB(){if(IE)return tl;IE=1;var n=CB();return tl=n,tl}var rl,$E;function DB(){if($E)return rl;$E=1;var n=xB();return rl=n,rl}var il,TE;function MB(){if(TE)return il;TE=1;var n=DB();return il=n,il}var nl,PE;function AB(){return PE||(PE=1,nl=MB()),nl}var FB=AB(),NB=ee(FB);function kB(n,e){if(Mn(n)!="object"||!n)return n;var t=n[NB];if(t!==void 0){var r=t.call(n,e);if(Mn(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function BB(n){var e=kB(n,"string");return Mn(e)=="symbol"?e:e+""}function ar(n,e,t){return(e=BB(e))in n?I2(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}var RE={},sl,qE;function jB(){if(qE)return sl;qE=1;var n=ce(),e=Jt(),t=et(),r=Be(),i=Ui(),s=Vn(),o=Function,a=n([].concat),u=n([].join),l={},d=function(c,h,f){if(!r(l,h)){for(var v=[],p=0;p<h;p++)v[p]="a["+p+"]";l[h]=o("C,a","return new C("+u(v,",")+")")}return l[h](c,f)};return sl=s?o.bind:function(h){var f=e(this),v=f.prototype,p=i(arguments,1),m=function(){var g=a(p,i(arguments));return this instanceof m?d(f,g.length,g):f.apply(h,g)};return t(v)&&(m.prototype=v),m},sl}var CE;function LB(){if(CE)return RE;CE=1;var n=Y(),e=jB();return n({target:"Function",proto:!0,forced:Function.bind!==e},{bind:e}),RE}var ol,xE;function ot(){if(xE)return ol;xE=1;var n=qe(),e=Ae();return ol=function(t,r){var i=e[t+"Prototype"],s=i&&i[r];if(s)return s;var o=n[t],a=o&&o.prototype;return a&&a[r]},ol}var al,DE;function zB(){if(DE)return al;DE=1,LB();var n=ot();return al=n("Function","bind"),al}var ul,ME;function WB(){if(ME)return ul;ME=1;var n=ke(),e=zB(),t=Function.prototype;return ul=function(r){var i=r.bind;return r===t||n(t,r)&&i===t.bind?e:i},ul}var ll,AE;function HB(){if(AE)return ll;AE=1;var n=WB();return ll=n,ll}var dl,FE;function UB(){return FE||(FE=1,dl=HB()),dl}var VB=UB(),xF=ee(VB),NE={},cl,kE;function GB(){if(kE)return cl;kE=1;var n=Jt(),e=Pt(),t=eo(),r=gr(),i=TypeError,s="Reduce of empty array with no initial value",o=function(a){return function(u,l,d,c){var h=e(u),f=t(h),v=r(h);if(n(l),v===0&&d<2)throw new i(s);var p=a?v-1:0,m=a?-1:1;if(d<2)for(;;){if(p in f){c=f[p],p+=m;break}if(p+=m,a?p<0:v<=p)throw new i(s)}for(;a?p>=0:v>p;p+=m)p in f&&(c=l(c,f[p],p,h));return c}};return cl={left:o(!1),right:o(!0)},cl}var hl,BE;function ho(){if(BE)return hl;BE=1;var n=oe();return hl=function(e,t){var r=[][e];return!!r&&n(function(){r.call(null,t||function(){return 1},1)})},hl}var fl,jE;function DF(){if(jE)return fl;jE=1;var n=qe(),e=ki(),t=Zt(),r=function(i){return e.slice(0,i.length)===i};return fl=function(){return r("Bun/")?"BUN":r("Cloudflare-Workers")?"CLOUDFLARE":r("Deno/")?"DENO":r("Node.js/")?"NODE":n.Bun&&typeof Bun.version=="string"?"BUN":n.Deno&&typeof Deno.version=="object"?"DENO":t(n.process)==="process"?"NODE":n.window&&n.document?"BROWSER":"REST"}(),fl}var vl,LE;function KB(){if(LE)return vl;LE=1;var n=DF();return vl=n==="NODE",vl}var zE;function YB(){if(zE)return NE;zE=1;var n=Y(),e=GB().left,t=ho(),r=Yn(),i=KB(),s=!i&&r>79&&r<83,o=s||!t("reduce");return n({target:"Array",proto:!0,forced:o},{reduce:function(u){var l=arguments.length;return e(this,u,l,l>1?arguments[1]:void 0)}}),NE}var pl,WE;function XB(){if(WE)return pl;WE=1,YB();var n=ot();return pl=n("Array","reduce"),pl}var gl,HE;function ZB(){if(HE)return gl;HE=1;var n=ke(),e=XB(),t=Array.prototype;return gl=function(r){var i=r.reduce;return r===t||n(t,r)&&i===t.reduce?e:i},gl}var yl,UE;function JB(){if(UE)return yl;UE=1;var n=ZB();return yl=n,yl}var ml,VE;function QB(){return VE||(VE=1,ml=JB()),ml}var ej=QB(),tj=ee(ej),GE={},KE;function rj(){if(KE)return GE;KE=1;var n=Y(),e=Vi().filter,t=Zn(),r=t("filter");return n({target:"Array",proto:!0,forced:!r},{filter:function(s){return e(this,s,arguments.length>1?arguments[1]:void 0)}}),GE}var bl,YE;function ij(){if(YE)return bl;YE=1,rj();var n=ot();return bl=n("Array","filter"),bl}var _l,XE;function nj(){if(XE)return _l;XE=1;var n=ke(),e=ij(),t=Array.prototype;return _l=function(r){var i=r.filter;return r===t||n(t,r)&&i===t.filter?e:i},_l}var wl,ZE;function sj(){if(ZE)return wl;ZE=1;var n=nj();return wl=n,wl}var El,JE;function oj(){return JE||(JE=1,El=sj()),El}var aj=oj(),bi=ee(aj),QE={},e0;function uj(){if(e0)return QE;e0=1;var n=Y(),e=Vi().map,t=Zn(),r=t("map");return n({target:"Array",proto:!0,forced:!r},{map:function(s){return e(this,s,arguments.length>1?arguments[1]:void 0)}}),QE}var Sl,t0;function lj(){if(t0)return Sl;t0=1,uj();var n=ot();return Sl=n("Array","map"),Sl}var Ol,r0;function dj(){if(r0)return Ol;r0=1;var n=ke(),e=lj(),t=Array.prototype;return Ol=function(r){var i=r.map;return r===t||n(t,r)&&i===t.map?e:i},Ol}var Il,i0;function cj(){if(i0)return Il;i0=1;var n=dj();return Il=n,Il}var $l,n0;function hj(){return n0||(n0=1,$l=cj()),$l}var fj=hj(),Ot=ee(fj),Tl,s0;function vj(){return s0||(s0=1,Tl=PF()),Tl}var pj=vj(),gj=ee(pj),o0={},a0;function yj(){if(a0)return o0;a0=1;var n=Y(),e=Jr(),t=vF(),r=et(),i=Am(),s=gr(),o=Nt(),a=no(),u=je(),l=Zn(),d=Ui(),c=l("slice"),h=u("species"),f=Array,v=Math.max;return n({target:"Array",proto:!0,forced:!c},{slice:function(m,y){var g=o(this),E=s(g),b=i(m,E),w=i(y===void 0?E:y,E),O,I,_;if(e(g)&&(O=g.constructor,t(O)&&(O===f||e(O.prototype))?O=void 0:r(O)&&(O=O[h],O===null&&(O=void 0)),O===f||O===void 0))return d(g,b,w);for(I=new(O===void 0?f:O)(v(w-b,0)),_=0;b<w;b++,_++)b in g&&a(I,_,g[b]);return I.length=_,I}}),o0}var Pl,u0;function mj(){if(u0)return Pl;u0=1,yj();var n=ot();return Pl=n("Array","slice"),Pl}var Rl,l0;function bj(){if(l0)return Rl;l0=1;var n=ke(),e=mj(),t=Array.prototype;return Rl=function(r){var i=r.slice;return r===t||n(t,r)&&i===t.slice?e:i},Rl}var ql,d0;function _j(){if(d0)return ql;d0=1;var n=bj();return ql=n,ql}var Cl,c0;function wj(){return c0||(c0=1,Cl=_j()),Cl}var Ej=wj(),Sj=ee(Ej),h0={},xl,f0;function MF(){if(f0)return xl;f0=1;var n=ut(),e=ce(),t=ao(),r=uo(),i=Qt(),s=e([].concat);return xl=n("Reflect","ownKeys")||function(a){var u=t.f(i(a)),l=r.f;return l?s(u,l(a)):u},xl}var v0;function Oj(){if(v0)return h0;v0=1;var n=Y(),e=MF();return n({target:"Reflect",stat:!0},{ownKeys:e}),h0}var Dl,p0;function Ij(){if(p0)return Dl;p0=1,Oj();var n=Ae();return Dl=n.Reflect.ownKeys,Dl}var Ml,g0;function $j(){if(g0)return Ml;g0=1;var n=Ij();return Ml=n,Ml}var Al,y0;function Tj(){return y0||(y0=1,Al=$j()),Al}var Pj=Tj(),Rj=ee(Pj),m0={},b0;function qj(){if(b0)return m0;b0=1;var n=Y(),e=Jr();return n({target:"Array",stat:!0},{isArray:e}),m0}var Fl,_0;function Cj(){if(_0)return Fl;_0=1,qj();var n=Ae();return Fl=n.Array.isArray,Fl}var Nl,w0;function xj(){if(w0)return Nl;w0=1;var n=Cj();return Nl=n,Nl}var kl,E0;function Dj(){return E0||(E0=1,kl=xj()),kl}var Mj=Dj(),qt=ee(Mj),S0={},O0;function Aj(){if(O0)return S0;O0=1;var n=Y(),e=Pt(),t=so(),r=oe(),i=r(function(){t(1)});return n({target:"Object",stat:!0,forced:i},{keys:function(o){return t(e(o))}}),S0}var Bl,I0;function Fj(){if(I0)return Bl;I0=1,Aj();var n=Ae();return Bl=n.Object.keys,Bl}var jl,$0;function Nj(){if($0)return jl;$0=1;var n=Fj();return jl=n,jl}var Ll,T0;function kj(){return T0||(T0=1,Ll=Nj()),Ll}var Bj=kj(),Lm=ee(Bj),P0={},zl,R0;function jj(){if(R0)return zl;R0=1;var n=Vi().forEach,e=ho(),t=e("forEach");return zl=t?[].forEach:function(i){return n(this,i,arguments.length>1?arguments[1]:void 0)},zl}var q0;function Lj(){if(q0)return P0;q0=1;var n=Y(),e=jj();return n({target:"Array",proto:!0,forced:[].forEach!==e},{forEach:e}),P0}var Wl,C0;function zj(){if(C0)return Wl;C0=1,Lj();var n=ot();return Wl=n("Array","forEach"),Wl}var Hl,x0;function Wj(){if(x0)return Hl;x0=1;var n=zj();return Hl=n,Hl}var Ul,D0;function Hj(){if(D0)return Ul;D0=1;var n=yr(),e=Be(),t=ke(),r=Wj(),i=Array.prototype,s={DOMTokenList:!0,NodeList:!0};return Ul=function(o){var a=o.forEach;return o===i||t(i,o)&&a===i.forEach||e(s,n(o))?r:a},Ul}var Vl,M0;function Uj(){return M0||(M0=1,Vl=Hj()),Vl}var Vj=Uj(),Wr=ee(Vj),A0={},F0;function Gj(){if(F0)return A0;F0=1;var n=Y(),e=ce(),t=Jr(),r=e([].reverse),i=[1,2];return n({target:"Array",proto:!0,forced:String(i)===String(i.reverse())},{reverse:function(){return t(this)&&(this.length=this.length),r(this)}}),A0}var Gl,N0;function Kj(){if(N0)return Gl;N0=1,Gj();var n=ot();return Gl=n("Array","reverse"),Gl}var Kl,k0;function Yj(){if(k0)return Kl;k0=1;var n=ke(),e=Kj(),t=Array.prototype;return Kl=function(r){var i=r.reverse;return r===t||n(t,r)&&i===t.reverse?e:i},Kl}var Yl,B0;function Xj(){if(B0)return Yl;B0=1;var n=Yj();return Yl=n,Yl}var Xl,j0;function Zj(){return j0||(j0=1,Xl=Xj()),Xl}var Jj=Zj(),Qj=ee(Jj),L0={},Zl,z0;function eL(){if(z0)return Zl;z0=1;var n=Ce(),e=Jr(),t=TypeError,r=Object.getOwnPropertyDescriptor,i=n&&!function(){if(this!==void 0)return!0;try{Object.defineProperty([],"length",{writable:!1}).length=1}catch(s){return s instanceof TypeError}}();return Zl=i?function(s,o){if(e(s)&&!r(s,"length").writable)throw new t("Cannot set read only .length");return s.length=o}:function(s,o){return s.length=o},Zl}var Jl,W0;function AF(){if(W0)return Jl;W0=1;var n=ji(),e=TypeError;return Jl=function(t,r){if(!delete t[r])throw new e("Cannot delete property "+n(r)+" of "+n(t))},Jl}var H0;function tL(){if(H0)return L0;H0=1;var n=Y(),e=Pt(),t=Am(),r=Hi(),i=gr(),s=eL(),o=fF(),a=Mm(),u=no(),l=AF(),d=Zn(),c=d("splice"),h=Math.max,f=Math.min;return n({target:"Array",proto:!0,forced:!c},{splice:function(p,m){var y=e(this),g=i(y),E=t(p,g),b=arguments.length,w,O,I,_,S,$;for(b===0?w=O=0:b===1?(w=0,O=g-E):(w=b-2,O=f(h(r(m),0),g-E)),o(g+w-O),I=a(y,O),_=0;_<O;_++)S=E+_,S in y&&u(I,_,y[S]);if(I.length=O,w<O){for(_=E;_<g-O;_++)S=_+O,$=_+w,S in y?y[$]=y[S]:l(y,$);for(_=g;_>g-O+w;_--)l(y,_-1)}else if(w>O)for(_=g-O;_>E;_--)S=_+O-1,$=_+w-1,S in y?y[$]=y[S]:l(y,$);for(_=0;_<w;_++)y[_+E]=arguments[_+2];return s(y,g-O+w),I}}),L0}var Ql,U0;function rL(){if(U0)return Ql;U0=1,tL();var n=ot();return Ql=n("Array","splice"),Ql}var ed,V0;function iL(){if(V0)return ed;V0=1;var n=ke(),e=rL(),t=Array.prototype;return ed=function(r){var i=r.splice;return r===t||n(t,r)&&i===t.splice?e:i},ed}var td,G0;function nL(){if(G0)return td;G0=1;var n=iL();return td=n,td}var rd,K0;function sL(){return K0||(K0=1,rd=nL()),rd}var oL=sL(),FF=ee(oL),Y0={},id,X0;function aL(){if(X0)return id;X0=1;var n=Ce(),e=ce(),t=st(),r=oe(),i=so(),s=uo(),o=Rm(),a=Pt(),u=eo(),l=Object.assign,d=Object.defineProperty,c=e([].concat);return id=!l||r(function(){if(n&&l({b:1},l(d({},"a",{enumerable:!0,get:function(){d(this,"b",{value:3,enumerable:!1})}}),{b:2})).b!==1)return!0;var h={},f={},v=Symbol("assign detection"),p="abcdefghijklmnopqrst";return h[v]=7,p.split("").forEach(function(m){f[m]=m}),l({},h)[v]!==7||i(l({},f)).join("")!==p})?function(f,v){for(var p=a(f),m=arguments.length,y=1,g=s.f,E=o.f;m>y;)for(var b=u(arguments[y++]),w=g?c(i(b),g(b)):i(b),O=w.length,I=0,_;O>I;)_=w[I++],(!n||t(E,b,_))&&(p[_]=b[_]);return p}:l,id}var Z0;function uL(){if(Z0)return Y0;Z0=1;var n=Y(),e=aL();return n({target:"Object",stat:!0,arity:2,forced:Object.assign!==e},{assign:e}),Y0}var nd,J0;function lL(){if(J0)return nd;J0=1,uL();var n=Ae();return nd=n.Object.assign,nd}var sd,Q0;function dL(){if(Q0)return sd;Q0=1;var n=lL();return sd=n,sd}var od,eS;function cL(){return eS||(eS=1,od=dL()),od}var hL=cL(),fL=ee(hL),ad,tS;function vL(){if(tS)return ad;tS=1,pF();var n=ot();return ad=n("Array","concat"),ad}var ud,rS;function pL(){if(rS)return ud;rS=1;var n=ke(),e=vL(),t=Array.prototype;return ud=function(r){var i=r.concat;return r===t||n(t,r)&&i===t.concat?e:i},ud}var ld,iS;function gL(){if(iS)return ld;iS=1;var n=pL();return ld=n,ld}var dd,nS;function yL(){return nS||(nS=1,dd=gL()),dd}var mL=yL(),bL=ee(mL),sS={},oS;function _L(){if(oS)return sS;oS=1;var n=Y(),e=Ce(),t=Qn();return n({target:"Object",stat:!0,sham:!e},{create:t}),sS}var cd,aS;function wL(){if(aS)return cd;aS=1,_L();var n=Ae(),e=n.Object;return cd=function(r,i){return e.create(r,i)},cd}var hd,uS;function EL(){if(uS)return hd;uS=1;var n=wL();return hd=n,hd}var fd,lS;function SL(){return lS||(lS=1,fd=EL()),fd}var OL=SL(),IL=ee(OL),dS={},vd,cS;function $L(){if(cS)return vd;cS=1;var n=Hi(),e=mr(),t=Zr(),r=RangeError;return vd=function(s){var o=e(t(this)),a="",u=n(s);if(u<0||u===1/0)throw new r("Wrong number of repetitions");for(;u>0;(u>>>=1)&&(o+=o))u&1&&(a+=o);return a},vd}var pd,hS;function TL(){if(hS)return pd;hS=1;var n=ce(),e=hF(),t=mr(),r=$L(),i=Zr(),s=n(r),o=n("".slice),a=Math.ceil,u=function(l){return function(d,c,h){var f=t(i(d)),v=e(c),p=f.length,m=h===void 0?" ":t(h),y,g;return v<=p||m===""?f:(y=v-p,g=s(m,a(y/m.length)),g.length>y&&(g=o(g,0,y)),l?f+g:g+f)}};return pd={start:u(!1),end:u(!0)},pd}var gd,fS;function PL(){if(fS)return gd;fS=1;var n=ce(),e=oe(),t=TL().start,r=RangeError,i=isFinite,s=Math.abs,o=Date.prototype,a=o.toISOString,u=n(o.getTime),l=n(o.getUTCDate),d=n(o.getUTCFullYear),c=n(o.getUTCHours),h=n(o.getUTCMilliseconds),f=n(o.getUTCMinutes),v=n(o.getUTCMonth),p=n(o.getUTCSeconds);return gd=e(function(){return a.call(new Date(-5e13-1))!=="0385-07-25T07:06:39.999Z"})||!e(function(){a.call(new Date(NaN))})?function(){if(!i(u(this)))throw new r("Invalid time value");var y=this,g=d(y),E=h(y),b=g<0?"-":g>9999?"+":"";return b+t(s(g),b?6:4,0)+"-"+t(v(y)+1,2,0)+"-"+t(l(y),2,0)+"T"+t(c(y),2,0)+":"+t(f(y),2,0)+":"+t(p(y),2,0)+"."+t(E,3,0)+"Z"}:a,gd}var vS;function RL(){if(vS)return dS;vS=1;var n=Y(),e=st(),t=Pt(),r=aF(),i=PL(),s=Zt(),o=oe(),a=o(function(){return new Date(NaN).toJSON()!==null||e(Date.prototype.toJSON,{toISOString:function(){return 1}})!==1});return n({target:"Date",proto:!0,forced:a},{toJSON:function(l){var d=t(this),c=r(d,"number");return typeof c=="number"&&!isFinite(c)?null:!("toISOString"in d)&&s(d)==="Date"?e(i,d):d.toISOString()}}),dS}var yd,pS;function qL(){if(pS)return yd;pS=1,RL(),_F();var n=Ae(),e=Qs();return n.JSON||(n.JSON={stringify:JSON.stringify}),yd=function(r,i,s){return e(n.JSON.stringify,null,arguments)},yd}var md,gS;function CL(){if(gS)return md;gS=1;var n=qL();return md=n,md}var bd,yS;function xL(){return yS||(yS=1,bd=CL()),bd}var DL=xL(),ML=ee(DL),mS={},bS={},_d,_S;function AL(){if(_S)return _d;_S=1;var n=TypeError;return _d=function(e,t){if(e<t)throw new n("Not enough arguments");return e},_d}var wd,wS;function NF(){if(wS)return wd;wS=1;var n=qe(),e=Qs(),t=Ne(),r=DF(),i=ki(),s=Ui(),o=AL(),a=n.Function,u=/MSIE .\./.test(i)||r==="BUN"&&function(){var l=n.Bun.version.split(".");return l.length<3||l[0]==="0"&&(l[1]<3||l[1]==="3"&&l[2]==="0")}();return wd=function(l,d){var c=d?2:1;return u?function(h,f){var v=o(arguments.length,1)>c,p=t(h)?h:a(h),m=v?s(arguments,c):[],y=v?function(){e(p,this,m)}:p;return d?l(y,f):l(y)}:l},wd}var ES;function FL(){if(ES)return bS;ES=1;var n=Y(),e=qe(),t=NF(),r=t(e.setInterval,!0);return n({global:!0,bind:!0,forced:e.setInterval!==r},{setInterval:r}),bS}var SS={},OS;function NL(){if(OS)return SS;OS=1;var n=Y(),e=qe(),t=NF(),r=t(e.setTimeout,!0);return n({global:!0,bind:!0,forced:e.setTimeout!==r},{setTimeout:r}),SS}var IS;function kL(){return IS||(IS=1,FL(),NL()),mS}var Ed,$S;function BL(){if($S)return Ed;$S=1,kL();var n=Ae();return Ed=n.setTimeout,Ed}var Sd,TS;function jL(){return TS||(TS=1,Sd=BL()),Sd}var LL=jL(),zL=ee(LL),Od={exports:{}},PS;function WL(){return PS||(PS=1,function(n){function e(r){if(r)return t(r);this._callbacks=new Map}function t(r){return Object.assign(r,e.prototype),r._callbacks=new Map,r}e.prototype.on=function(r,i){const s=this._callbacks.get(r)??[];return s.push(i),this._callbacks.set(r,s),this},e.prototype.once=function(r,i){const s=(...o)=>{this.off(r,s),i.apply(this,o)};return s.fn=i,this.on(r,s),this},e.prototype.off=function(r,i){if(r===void 0&&i===void 0)return this._callbacks.clear(),this;if(i===void 0)return this._callbacks.delete(r),this;const s=this._callbacks.get(r);if(s){for(const[o,a]of s.entries())if(a===i||a.fn===i){s.splice(o,1);break}s.length===0?this._callbacks.delete(r):this._callbacks.set(r,s)}return this},e.prototype.emit=function(r,...i){const s=this._callbacks.get(r);if(s){const o=[...s];for(const a of o)a.apply(this,i)}return this},e.prototype.listeners=function(r){return this._callbacks.get(r)??[]},e.prototype.listenerCount=function(r){if(r)return this.listeners(r).length;let i=0;for(const s of this._callbacks.values())i+=s.length;return i},e.prototype.hasListeners=function(r){return this.listenerCount(r)>0},e.prototype.addEventListener=e.prototype.on,e.prototype.removeListener=e.prototype.off,e.prototype.removeEventListener=e.prototype.off,e.prototype.removeAllListeners=e.prototype.off,n.exports=e}(Od)),Od.exports}var HL=WL(),UL=ee(HL);/*! Hammer.JS - v2.0.17-rc - 2019-12-16
 * http://naver.github.io/egjs
 *
 * Forked By Naver egjs
 * Copyright (c) hammerjs
 * Licensed under the MIT license */function $t(){return $t=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},$t.apply(this,arguments)}function gt(n,e){n.prototype=Object.create(e.prototype),n.prototype.constructor=n,n.__proto__=e}function Rs(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}var hm;typeof Object.assign!="function"?hm=function(e){if(e==null)throw new TypeError("Cannot convert undefined or null to object");for(var t=Object(e),r=1;r<arguments.length;r++){var i=arguments[r];if(i!=null)for(var s in i)i.hasOwnProperty(s)&&(t[s]=i[s])}return t}:hm=Object.assign;var Hr=hm,RS=["","webkit","Moz","MS","ms","o"],VL=typeof document>"u"?{style:{}}:document.createElement("div"),GL="function",_i=Math.round,Ur=Math.abs,zm=Date.now;function fo(n,e){for(var t,r,i=e[0].toUpperCase()+e.slice(1),s=0;s<RS.length;){if(t=RS[s],r=t?t+i:e,r in n)return r;s++}}var Wt;typeof window>"u"?Wt={}:Wt=window;var kF=fo(VL.style,"touchAction"),BF=kF!==void 0;function KL(){if(!BF)return!1;var n={},e=Wt.CSS&&Wt.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach(function(t){return n[t]=e?Wt.CSS.supports("touch-action",t):!0}),n}var jF="compute",LF="auto",fm="manipulation",Nr="none",An="pan-x",Fn="pan-y",qs=KL(),YL=/mobile|tablet|ip(ad|hone|od)|android/i,zF="ontouchstart"in Wt,XL=fo(Wt,"PointerEvent")!==void 0,ZL=zF&&YL.test(navigator.userAgent),rs="touch",JL="pen",Wm="mouse",QL="kinect",ez=25,Je=1,ei=2,Te=4,it=8,js=1,is=2,ns=4,ss=8,Ri=16,At=is|ns,kr=ss|Ri,WF=At|kr,HF=["x","y"],Ls=["clientX","clientY"];function Ht(n,e,t){var r;if(n)if(n.forEach)n.forEach(e,t);else if(n.length!==void 0)for(r=0;r<n.length;)e.call(t,n[r],r,n),r++;else for(r in n)n.hasOwnProperty(r)&&e.call(t,n[r],r,n)}function vo(n,e){return typeof n===GL?n.apply(e&&e[0]||void 0,e):n}function Dr(n,e){return n.indexOf(e)>-1}function tz(n){if(Dr(n,Nr))return Nr;var e=Dr(n,An),t=Dr(n,Fn);return e&&t?Nr:e||t?e?An:Fn:Dr(n,fm)?fm:LF}var UF=function(){function n(t,r){this.manager=t,this.set(r)}var e=n.prototype;return e.set=function(r){r===jF&&(r=this.compute()),BF&&this.manager.element.style&&qs[r]&&(this.manager.element.style[kF]=r),this.actions=r.toLowerCase().trim()},e.update=function(){this.set(this.manager.options.touchAction)},e.compute=function(){var r=[];return Ht(this.manager.recognizers,function(i){vo(i.options.enable,[i])&&(r=r.concat(i.getTouchAction()))}),tz(r.join(" "))},e.preventDefaults=function(r){var i=r.srcEvent,s=r.offsetDirection;if(this.manager.session.prevented){i.preventDefault();return}var o=this.actions,a=Dr(o,Nr)&&!qs[Nr],u=Dr(o,Fn)&&!qs[Fn],l=Dr(o,An)&&!qs[An];if(a){var d=r.pointers.length===1,c=r.distance<2,h=r.deltaTime<250;if(d&&c&&h)return}if(!(l&&u)&&(a||u&&s&At||l&&s&kr))return this.preventSrc(i)},e.preventSrc=function(r){this.manager.session.prevented=!0,r.preventDefault()},n}();function Hm(n,e){for(;n;){if(n===e)return!0;n=n.parentNode}return!1}function VF(n){var e=n.length;if(e===1)return{x:_i(n[0].clientX),y:_i(n[0].clientY)};for(var t=0,r=0,i=0;i<e;)t+=n[i].clientX,r+=n[i].clientY,i++;return{x:_i(t/e),y:_i(r/e)}}function qS(n){for(var e=[],t=0;t<n.pointers.length;)e[t]={clientX:_i(n.pointers[t].clientX),clientY:_i(n.pointers[t].clientY)},t++;return{timeStamp:zm(),pointers:e,center:VF(e),deltaX:n.deltaX,deltaY:n.deltaY}}function zs(n,e,t){t||(t=HF);var r=e[t[0]]-n[t[0]],i=e[t[1]]-n[t[1]];return Math.sqrt(r*r+i*i)}function vm(n,e,t){t||(t=HF);var r=e[t[0]]-n[t[0]],i=e[t[1]]-n[t[1]];return Math.atan2(i,r)*180/Math.PI}function GF(n,e){return n===e?js:Ur(n)>=Ur(e)?n<0?is:ns:e<0?ss:Ri}function rz(n,e){var t=e.center,r=n.offsetDelta||{},i=n.prevDelta||{},s=n.prevInput||{};(e.eventType===Je||s.eventType===Te)&&(i=n.prevDelta={x:s.deltaX||0,y:s.deltaY||0},r=n.offsetDelta={x:t.x,y:t.y}),e.deltaX=i.x+(t.x-r.x),e.deltaY=i.y+(t.y-r.y)}function KF(n,e,t){return{x:e/n||0,y:t/n||0}}function iz(n,e){return zs(e[0],e[1],Ls)/zs(n[0],n[1],Ls)}function nz(n,e){return vm(e[1],e[0],Ls)+vm(n[1],n[0],Ls)}function sz(n,e){var t=n.lastInterval||e,r=e.timeStamp-t.timeStamp,i,s,o,a;if(e.eventType!==it&&(r>ez||t.velocity===void 0)){var u=e.deltaX-t.deltaX,l=e.deltaY-t.deltaY,d=KF(r,u,l);s=d.x,o=d.y,i=Ur(d.x)>Ur(d.y)?d.x:d.y,a=GF(u,l),n.lastInterval=e}else i=t.velocity,s=t.velocityX,o=t.velocityY,a=t.direction;e.velocity=i,e.velocityX=s,e.velocityY=o,e.direction=a}function oz(n,e){var t=n.session,r=e.pointers,i=r.length;t.firstInput||(t.firstInput=qS(e)),i>1&&!t.firstMultiple?t.firstMultiple=qS(e):i===1&&(t.firstMultiple=!1);var s=t.firstInput,o=t.firstMultiple,a=o?o.center:s.center,u=e.center=VF(r);e.timeStamp=zm(),e.deltaTime=e.timeStamp-s.timeStamp,e.angle=vm(a,u),e.distance=zs(a,u),rz(t,e),e.offsetDirection=GF(e.deltaX,e.deltaY);var l=KF(e.deltaTime,e.deltaX,e.deltaY);e.overallVelocityX=l.x,e.overallVelocityY=l.y,e.overallVelocity=Ur(l.x)>Ur(l.y)?l.x:l.y,e.scale=o?iz(o.pointers,r):1,e.rotation=o?nz(o.pointers,r):0,e.maxPointers=t.prevInput?e.pointers.length>t.prevInput.maxPointers?e.pointers.length:t.prevInput.maxPointers:e.pointers.length,sz(t,e);var d=n.element,c=e.srcEvent,h;c.composedPath?h=c.composedPath()[0]:c.path?h=c.path[0]:h=c.target,Hm(h,d)&&(d=h),e.target=d}function az(n,e,t){var r=t.pointers.length,i=t.changedPointers.length,s=e&Je&&r-i===0,o=e&(Te|it)&&r-i===0;t.isFirst=!!s,t.isFinal=!!o,s&&(n.session={}),t.eventType=e,oz(n,t),n.emit("hammer.input",t),n.recognize(t),n.session.prevInput=t}function Nn(n){return n.trim().split(/\s+/g)}function Tn(n,e,t){Ht(Nn(e),function(r){n.addEventListener(r,t,!1)})}function Pn(n,e,t){Ht(Nn(e),function(r){n.removeEventListener(r,t,!1)})}function CS(n){var e=n.ownerDocument||n;return e.defaultView||e.parentWindow||window}var Ki=function(){function n(t,r){var i=this;this.manager=t,this.callback=r,this.element=t.element,this.target=t.options.inputTarget,this.domHandler=function(s){vo(t.options.enable,[t])&&i.handler(s)},this.init()}var e=n.prototype;return e.handler=function(){},e.init=function(){this.evEl&&Tn(this.element,this.evEl,this.domHandler),this.evTarget&&Tn(this.target,this.evTarget,this.domHandler),this.evWin&&Tn(CS(this.element),this.evWin,this.domHandler)},e.destroy=function(){this.evEl&&Pn(this.element,this.evEl,this.domHandler),this.evTarget&&Pn(this.target,this.evTarget,this.domHandler),this.evWin&&Pn(CS(this.element),this.evWin,this.domHandler)},n}();function Vr(n,e,t){if(n.indexOf&&!t)return n.indexOf(e);for(var r=0;r<n.length;){if(t&&n[r][t]==e||!t&&n[r]===e)return r;r++}return-1}var uz={pointerdown:Je,pointermove:ei,pointerup:Te,pointercancel:it,pointerout:it},lz={2:rs,3:JL,4:Wm,5:QL},YF="pointerdown",XF="pointermove pointerup pointercancel";Wt.MSPointerEvent&&!Wt.PointerEvent&&(YF="MSPointerDown",XF="MSPointerMove MSPointerUp MSPointerCancel");var ZF=function(n){gt(e,n);function e(){var r,i=e.prototype;return i.evEl=YF,i.evWin=XF,r=n.apply(this,arguments)||this,r.store=r.manager.session.pointerEvents=[],r}var t=e.prototype;return t.handler=function(i){var s=this.store,o=!1,a=i.type.toLowerCase().replace("ms",""),u=uz[a],l=lz[i.pointerType]||i.pointerType,d=l===rs,c=Vr(s,i.pointerId,"pointerId");u&Je&&(i.button===0||d)?c<0&&(s.push(i),c=s.length-1):u&(Te|it)&&(o=!0),!(c<0)&&(s[c]=i,this.callback(this.manager,u,{pointers:s,changedPointers:[i],pointerType:l,srcEvent:i}),o&&s.splice(c,1))},e}(Ki);function kn(n){return Array.prototype.slice.call(n,0)}function Um(n,e,t){for(var r=[],i=[],s=0;s<n.length;){var o=e?n[s][e]:n[s];Vr(i,o)<0&&r.push(n[s]),i[s]=o,s++}return t&&(e?r=r.sort(function(a,u){return a[e]>u[e]}):r=r.sort()),r}var dz={touchstart:Je,touchmove:ei,touchend:Te,touchcancel:it},cz="touchstart touchmove touchend touchcancel",Vm=function(n){gt(e,n);function e(){var r;return e.prototype.evTarget=cz,r=n.apply(this,arguments)||this,r.targetIds={},r}var t=e.prototype;return t.handler=function(i){var s=dz[i.type],o=hz.call(this,i,s);o&&this.callback(this.manager,s,{pointers:o[0],changedPointers:o[1],pointerType:rs,srcEvent:i})},e}(Ki);function hz(n,e){var t=kn(n.touches),r=this.targetIds;if(e&(Je|ei)&&t.length===1)return r[t[0].identifier]=!0,[t,t];var i,s,o=kn(n.changedTouches),a=[],u=this.target;if(s=t.filter(function(l){return Hm(l.target,u)}),e===Je)for(i=0;i<s.length;)r[s[i].identifier]=!0,i++;for(i=0;i<o.length;)r[o[i].identifier]&&a.push(o[i]),e&(Te|it)&&delete r[o[i].identifier],i++;if(a.length)return[Um(s.concat(a),"identifier",!0),a]}var fz={mousedown:Je,mousemove:ei,mouseup:Te},vz="mousedown",pz="mousemove mouseup",Gm=function(n){gt(e,n);function e(){var r,i=e.prototype;return i.evEl=vz,i.evWin=pz,r=n.apply(this,arguments)||this,r.pressed=!1,r}var t=e.prototype;return t.handler=function(i){var s=fz[i.type];s&Je&&i.button===0&&(this.pressed=!0),s&ei&&i.which!==1&&(s=Te),this.pressed&&(s&Te&&(this.pressed=!1),this.callback(this.manager,s,{pointers:[i],changedPointers:[i],pointerType:Wm,srcEvent:i}))},e}(Ki),gz=2500,xS=25;function DS(n){var e=n.changedPointers,t=e[0];if(t.identifier===this.primaryTouch){var r={x:t.clientX,y:t.clientY},i=this.lastTouches;this.lastTouches.push(r);var s=function(){var a=i.indexOf(r);a>-1&&i.splice(a,1)};setTimeout(s,gz)}}function yz(n,e){n&Je?(this.primaryTouch=e.changedPointers[0].identifier,DS.call(this,e)):n&(Te|it)&&DS.call(this,e)}function mz(n){for(var e=n.srcEvent.clientX,t=n.srcEvent.clientY,r=0;r<this.lastTouches.length;r++){var i=this.lastTouches[r],s=Math.abs(e-i.x),o=Math.abs(t-i.y);if(s<=xS&&o<=xS)return!0}return!1}var JF=function(){var n=function(e){gt(t,e);function t(i,s){var o;return o=e.call(this,i,s)||this,o.handler=function(a,u,l){var d=l.pointerType===rs,c=l.pointerType===Wm;if(!(c&&l.sourceCapabilities&&l.sourceCapabilities.firesTouchEvents)){if(d)yz.call(Rs(Rs(o)),u,l);else if(c&&mz.call(Rs(Rs(o)),l))return;o.callback(a,u,l)}},o.touch=new Vm(o.manager,o.handler),o.mouse=new Gm(o.manager,o.handler),o.primaryTouch=null,o.lastTouches=[],o}var r=t.prototype;return r.destroy=function(){this.touch.destroy(),this.mouse.destroy()},t}(Ki);return n}();function bz(n){var e,t=n.options.inputClass;return t?e=t:XL?e=ZF:ZL?e=Vm:zF?e=JF:e=Gm,new e(n,az)}function wi(n,e,t){return Array.isArray(n)?(Ht(n,t[e],t),!0):!1}var Fs=1,ft=2,qi=4,ur=8,Ut=ur,Bn=16,xt=32,_z=1;function wz(){return _z++}function Cs(n,e){var t=e.manager;return t?t.get(n):n}function MS(n){return n&Bn?"cancel":n&ur?"end":n&qi?"move":n&ft?"start":""}var os=function(){function n(t){t===void 0&&(t={}),this.options=$t({enable:!0},t),this.id=wz(),this.manager=null,this.state=Fs,this.simultaneous={},this.requireFail=[]}var e=n.prototype;return e.set=function(r){return Hr(this.options,r),this.manager&&this.manager.touchAction.update(),this},e.recognizeWith=function(r){if(wi(r,"recognizeWith",this))return this;var i=this.simultaneous;return r=Cs(r,this),i[r.id]||(i[r.id]=r,r.recognizeWith(this)),this},e.dropRecognizeWith=function(r){return wi(r,"dropRecognizeWith",this)?this:(r=Cs(r,this),delete this.simultaneous[r.id],this)},e.requireFailure=function(r){if(wi(r,"requireFailure",this))return this;var i=this.requireFail;return r=Cs(r,this),Vr(i,r)===-1&&(i.push(r),r.requireFailure(this)),this},e.dropRequireFailure=function(r){if(wi(r,"dropRequireFailure",this))return this;r=Cs(r,this);var i=Vr(this.requireFail,r);return i>-1&&this.requireFail.splice(i,1),this},e.hasRequireFailures=function(){return this.requireFail.length>0},e.canRecognizeWith=function(r){return!!this.simultaneous[r.id]},e.emit=function(r){var i=this,s=this.state;function o(a){i.manager.emit(a,r)}s<ur&&o(i.options.event+MS(s)),o(i.options.event),r.additionalEvent&&o(r.additionalEvent),s>=ur&&o(i.options.event+MS(s))},e.tryEmit=function(r){if(this.canEmit())return this.emit(r);this.state=xt},e.canEmit=function(){for(var r=0;r<this.requireFail.length;){if(!(this.requireFail[r].state&(xt|Fs)))return!1;r++}return!0},e.recognize=function(r){var i=Hr({},r);if(!vo(this.options.enable,[this,i])){this.reset(),this.state=xt;return}this.state&(Ut|Bn|xt)&&(this.state=Fs),this.state=this.process(i),this.state&(ft|qi|ur|Bn)&&this.tryEmit(i)},e.process=function(r){},e.getTouchAction=function(){},e.reset=function(){},n}(),pm=function(n){gt(e,n);function e(r){var i;return r===void 0&&(r={}),i=n.call(this,$t({event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},r))||this,i.pTime=!1,i.pCenter=!1,i._timer=null,i._input=null,i.count=0,i}var t=e.prototype;return t.getTouchAction=function(){return[fm]},t.process=function(i){var s=this,o=this.options,a=i.pointers.length===o.pointers,u=i.distance<o.threshold,l=i.deltaTime<o.time;if(this.reset(),i.eventType&Je&&this.count===0)return this.failTimeout();if(u&&l&&a){if(i.eventType!==Te)return this.failTimeout();var d=this.pTime?i.timeStamp-this.pTime<o.interval:!0,c=!this.pCenter||zs(this.pCenter,i.center)<o.posThreshold;this.pTime=i.timeStamp,this.pCenter=i.center,!c||!d?this.count=1:this.count+=1,this._input=i;var h=this.count%o.taps;if(h===0)return this.hasRequireFailures()?(this._timer=setTimeout(function(){s.state=Ut,s.tryEmit()},o.interval),ft):Ut}return xt},t.failTimeout=function(){var i=this;return this._timer=setTimeout(function(){i.state=xt},this.options.interval),xt},t.reset=function(){clearTimeout(this._timer)},t.emit=function(){this.state===Ut&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))},e}(os),Ci=function(n){gt(e,n);function e(r){return r===void 0&&(r={}),n.call(this,$t({pointers:1},r))||this}var t=e.prototype;return t.attrTest=function(i){var s=this.options.pointers;return s===0||i.pointers.length===s},t.process=function(i){var s=this.state,o=i.eventType,a=s&(ft|qi),u=this.attrTest(i);return a&&(o&it||!u)?s|Bn:a||u?o&Te?s|ur:s&ft?s|qi:ft:xt},e}(os);function QF(n){return n===Ri?"down":n===ss?"up":n===is?"left":n===ns?"right":""}var Km=function(n){gt(e,n);function e(r){var i;return r===void 0&&(r={}),i=n.call(this,$t({event:"pan",threshold:10,pointers:1,direction:WF},r))||this,i.pX=null,i.pY=null,i}var t=e.prototype;return t.getTouchAction=function(){var i=this.options.direction,s=[];return i&At&&s.push(Fn),i&kr&&s.push(An),s},t.directionTest=function(i){var s=this.options,o=!0,a=i.distance,u=i.direction,l=i.deltaX,d=i.deltaY;return u&s.direction||(s.direction&At?(u=l===0?js:l<0?is:ns,o=l!==this.pX,a=Math.abs(i.deltaX)):(u=d===0?js:d<0?ss:Ri,o=d!==this.pY,a=Math.abs(i.deltaY))),i.direction=u,o&&a>s.threshold&&u&s.direction},t.attrTest=function(i){return Ci.prototype.attrTest.call(this,i)&&(this.state&ft||!(this.state&ft)&&this.directionTest(i))},t.emit=function(i){this.pX=i.deltaX,this.pY=i.deltaY;var s=QF(i.direction);s&&(i.additionalEvent=this.options.event+s),n.prototype.emit.call(this,i)},e}(Ci),eN=function(n){gt(e,n);function e(r){return r===void 0&&(r={}),n.call(this,$t({event:"swipe",threshold:10,velocity:.3,direction:At|kr,pointers:1},r))||this}var t=e.prototype;return t.getTouchAction=function(){return Km.prototype.getTouchAction.call(this)},t.attrTest=function(i){var s=this.options.direction,o;return s&(At|kr)?o=i.overallVelocity:s&At?o=i.overallVelocityX:s&kr&&(o=i.overallVelocityY),n.prototype.attrTest.call(this,i)&&s&i.offsetDirection&&i.distance>this.options.threshold&&i.maxPointers===this.options.pointers&&Ur(o)>this.options.velocity&&i.eventType&Te},t.emit=function(i){var s=QF(i.offsetDirection);s&&this.manager.emit(this.options.event+s,i),this.manager.emit(this.options.event,i)},e}(Ci),tN=function(n){gt(e,n);function e(r){return r===void 0&&(r={}),n.call(this,$t({event:"pinch",threshold:0,pointers:2},r))||this}var t=e.prototype;return t.getTouchAction=function(){return[Nr]},t.attrTest=function(i){return n.prototype.attrTest.call(this,i)&&(Math.abs(i.scale-1)>this.options.threshold||this.state&ft)},t.emit=function(i){if(i.scale!==1){var s=i.scale<1?"in":"out";i.additionalEvent=this.options.event+s}n.prototype.emit.call(this,i)},e}(Ci),rN=function(n){gt(e,n);function e(r){return r===void 0&&(r={}),n.call(this,$t({event:"rotate",threshold:0,pointers:2},r))||this}var t=e.prototype;return t.getTouchAction=function(){return[Nr]},t.attrTest=function(i){return n.prototype.attrTest.call(this,i)&&(Math.abs(i.rotation)>this.options.threshold||this.state&ft)},e}(Ci),iN=function(n){gt(e,n);function e(r){var i;return r===void 0&&(r={}),i=n.call(this,$t({event:"press",pointers:1,time:251,threshold:9},r))||this,i._timer=null,i._input=null,i}var t=e.prototype;return t.getTouchAction=function(){return[LF]},t.process=function(i){var s=this,o=this.options,a=i.pointers.length===o.pointers,u=i.distance<o.threshold,l=i.deltaTime>o.time;if(this._input=i,!u||!a||i.eventType&(Te|it)&&!l)this.reset();else if(i.eventType&Je)this.reset(),this._timer=setTimeout(function(){s.state=Ut,s.tryEmit()},o.time);else if(i.eventType&Te)return Ut;return xt},t.reset=function(){clearTimeout(this._timer)},t.emit=function(i){this.state===Ut&&(i&&i.eventType&Te?this.manager.emit(this.options.event+"up",i):(this._input.timeStamp=zm(),this.manager.emit(this.options.event,this._input)))},e}(os),nN={domEvents:!1,touchAction:jF,enable:!0,inputTarget:null,inputClass:null,cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}},AS=[[rN,{enable:!1}],[tN,{enable:!1},["rotate"]],[eN,{direction:At}],[Km,{direction:At},["swipe"]],[pm],[pm,{event:"doubletap",taps:2},["tap"]],[iN]],Ez=1,FS=2;function NS(n,e){var t=n.element;if(t.style){var r;Ht(n.options.cssProps,function(i,s){r=fo(t.style,s),e?(n.oldCssProps[r]=t.style[r],t.style[r]=i):t.style[r]=n.oldCssProps[r]||""}),e||(n.oldCssProps={})}}function Sz(n,e){var t=document.createEvent("Event");t.initEvent(n,!0,!0),t.gesture=e,e.target.dispatchEvent(t)}var kS=function(){function n(t,r){var i=this;this.options=Hr({},nN,r||{}),this.options.inputTarget=this.options.inputTarget||t,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=t,this.input=bz(this),this.touchAction=new UF(this,this.options.touchAction),NS(this,!0),Ht(this.options.recognizers,function(s){var o=i.add(new s[0](s[1]));s[2]&&o.recognizeWith(s[2]),s[3]&&o.requireFailure(s[3])},this)}var e=n.prototype;return e.set=function(r){return Hr(this.options,r),r.touchAction&&this.touchAction.update(),r.inputTarget&&(this.input.destroy(),this.input.target=r.inputTarget,this.input.init()),this},e.stop=function(r){this.session.stopped=r?FS:Ez},e.recognize=function(r){var i=this.session;if(!i.stopped){this.touchAction.preventDefaults(r);var s,o=this.recognizers,a=i.curRecognizer;(!a||a&&a.state&Ut)&&(i.curRecognizer=null,a=null);for(var u=0;u<o.length;)s=o[u],i.stopped!==FS&&(!a||s===a||s.canRecognizeWith(a))?s.recognize(r):s.reset(),!a&&s.state&(ft|qi|ur)&&(i.curRecognizer=s,a=s),u++}},e.get=function(r){if(r instanceof os)return r;for(var i=this.recognizers,s=0;s<i.length;s++)if(i[s].options.event===r)return i[s];return null},e.add=function(r){if(wi(r,"add",this))return this;var i=this.get(r.options.event);return i&&this.remove(i),this.recognizers.push(r),r.manager=this,this.touchAction.update(),r},e.remove=function(r){if(wi(r,"remove",this))return this;var i=this.get(r);if(r){var s=this.recognizers,o=Vr(s,i);o!==-1&&(s.splice(o,1),this.touchAction.update())}return this},e.on=function(r,i){if(r===void 0||i===void 0)return this;var s=this.handlers;return Ht(Nn(r),function(o){s[o]=s[o]||[],s[o].push(i)}),this},e.off=function(r,i){if(r===void 0)return this;var s=this.handlers;return Ht(Nn(r),function(o){i?s[o]&&s[o].splice(Vr(s[o],i),1):delete s[o]}),this},e.emit=function(r,i){this.options.domEvents&&Sz(r,i);var s=this.handlers[r]&&this.handlers[r].slice();if(!(!s||!s.length)){i.type=r,i.preventDefault=function(){i.srcEvent.preventDefault()};for(var o=0;o<s.length;)s[o](i),o++}},e.destroy=function(){this.element&&NS(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null},n}(),Oz={touchstart:Je,touchmove:ei,touchend:Te,touchcancel:it},Iz="touchstart",$z="touchstart touchmove touchend touchcancel",Tz=function(n){gt(e,n);function e(){var r,i=e.prototype;return i.evTarget=Iz,i.evWin=$z,r=n.apply(this,arguments)||this,r.started=!1,r}var t=e.prototype;return t.handler=function(i){var s=Oz[i.type];if(s===Je&&(this.started=!0),!!this.started){var o=Pz.call(this,i,s);s&(Te|it)&&o[0].length-o[1].length===0&&(this.started=!1),this.callback(this.manager,s,{pointers:o[0],changedPointers:o[1],pointerType:rs,srcEvent:i})}},e}(Ki);function Pz(n,e){var t=kn(n.touches),r=kn(n.changedTouches);return e&(Te|it)&&(t=Um(t.concat(r),"identifier",!0)),[t,r]}function sN(n,e,t){var r="DEPRECATED METHOD: "+e+`
`+t+` AT 
`;return function(){var i=new Error("get-stack-trace"),s=i&&i.stack?i.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",o=window.console&&(window.console.warn||window.console.log);return o&&o.call(window.console,r,s),n.apply(this,arguments)}}var oN=sN(function(n,e,t){for(var r=Object.keys(e),i=0;i<r.length;)(!t||t&&n[r[i]]===void 0)&&(n[r[i]]=e[r[i]]),i++;return n},"extend","Use `assign`."),Rz=sN(function(n,e){return oN(n,e,!0)},"merge","Use `assign`.");function qz(n,e,t){var r=e.prototype,i;i=n.prototype=Object.create(r),i.constructor=n,i._super=r,t&&Hr(i,t)}function BS(n,e){return function(){return n.apply(e,arguments)}}var Cz=function(){var n=function(t,r){return r===void 0&&(r={}),new kS(t,$t({recognizers:AS.concat()},r))};return n.VERSION="2.0.17-rc",n.DIRECTION_ALL=WF,n.DIRECTION_DOWN=Ri,n.DIRECTION_LEFT=is,n.DIRECTION_RIGHT=ns,n.DIRECTION_UP=ss,n.DIRECTION_HORIZONTAL=At,n.DIRECTION_VERTICAL=kr,n.DIRECTION_NONE=js,n.DIRECTION_DOWN=Ri,n.INPUT_START=Je,n.INPUT_MOVE=ei,n.INPUT_END=Te,n.INPUT_CANCEL=it,n.STATE_POSSIBLE=Fs,n.STATE_BEGAN=ft,n.STATE_CHANGED=qi,n.STATE_ENDED=ur,n.STATE_RECOGNIZED=Ut,n.STATE_CANCELLED=Bn,n.STATE_FAILED=xt,n.Manager=kS,n.Input=Ki,n.TouchAction=UF,n.TouchInput=Vm,n.MouseInput=Gm,n.PointerEventInput=ZF,n.TouchMouseInput=JF,n.SingleTouchInput=Tz,n.Recognizer=os,n.AttrRecognizer=Ci,n.Tap=pm,n.Pan=Km,n.Swipe=eN,n.Pinch=tN,n.Rotate=rN,n.Press=iN,n.on=Tn,n.off=Pn,n.each=Ht,n.merge=Rz,n.extend=oN,n.bindFn=BS,n.assign=Hr,n.inherit=qz,n.bindFn=BS,n.prefixed=fo,n.toArray=kn,n.inArray=Vr,n.uniqueArray=Um,n.splitStr=Nn,n.boolOrFn=vo,n.hasParent=Hm,n.addEventListeners=Tn,n.removeEventListeners=Pn,n.defaults=Hr({},nN,{preset:AS}),n}();const aN=gj("DELETE");function xz(n){for(var e=arguments.length,t=new Array(e>1?e-1:0),r=1;r<e;r++)t[r-1]=arguments[r];return uN({},n,...t)}function uN(){const n=Ws(...arguments);return dN(n),n}function Ws(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];if(e.length<2)return e[0];if(e.length>2)return Ws(uN(e[0],e[1]),...Sj(e).call(e,2));const r=e[0],i=e[1];if(r instanceof Date&&i instanceof Date)return r.setTime(i.getTime()),r;for(const s of Rj(i))Object.prototype.propertyIsEnumerable.call(i,s)&&(i[s]===aN?delete r[s]:r[s]!==null&&i[s]!==null&&typeof r[s]=="object"&&typeof i[s]=="object"&&!qt(r[s])&&!qt(i[s])?r[s]=Ws(r[s],i[s]):r[s]=lN(i[s]));return r}function lN(n){return qt(n)?Ot(n).call(n,e=>lN(e)):typeof n=="object"&&n!==null?n instanceof Date?new Date(n.getTime()):Ws({},n):n}function dN(n){for(const e of Lm(n))n[e]===aN?delete n[e]:typeof n[e]=="object"&&n[e]!==null&&dN(n[e])}function Dz(){const n=()=>{};return{on:n,off:n,destroy:n,emit:n,get(){return{set:n}}}}const Mz=typeof window<"u"?window.Hammer||Cz:function(){return Dz()};function Lt(n){var e;this._cleanupQueue=[],this.active=!1,this._dom={container:n,overlay:document.createElement("div")},this._dom.overlay.classList.add("vis-overlay"),this._dom.container.appendChild(this._dom.overlay),this._cleanupQueue.push(()=>{this._dom.overlay.parentNode.removeChild(this._dom.overlay)});const t=Mz(this._dom.overlay);t.on("tap",xF(e=this._onTapOverlay).call(e,this)),this._cleanupQueue.push(()=>{t.destroy()});const r=["tap","doubletap","press","pinch","pan","panstart","panmove","panend"];Wr(r).call(r,i=>{t.on(i,s=>{s.srcEvent.stopPropagation()})}),document&&document.body&&(this._onClick=i=>{Az(i.target,n)||this.deactivate()},document.body.addEventListener("click",this._onClick),this._cleanupQueue.push(()=>{document.body.removeEventListener("click",this._onClick)})),this._escListener=i=>{("key"in i?i.key==="Escape":i.keyCode===27)&&this.deactivate()}}UL(Lt.prototype);Lt.current=null;Lt.prototype.destroy=function(){this.deactivate();for(const t of Qj(n=FF(e=this._cleanupQueue).call(e,0)).call(n)){var n,e;t()}};Lt.prototype.activate=function(){Lt.current&&Lt.current.deactivate(),Lt.current=this,this.active=!0,this._dom.overlay.style.display="none",this._dom.container.classList.add("vis-active"),this.emit("change"),this.emit("activate"),document.body.addEventListener("keydown",this._escListener)};Lt.prototype.deactivate=function(){this.active=!1,this._dom.overlay.style.display="block",this._dom.container.classList.remove("vis-active"),document.body.removeEventListener("keydown",this._escListener),this.emit("change"),this.emit("deactivate")};Lt.prototype._onTapOverlay=function(n){this.activate(),n.srcEvent.stopPropagation()};function Az(n,e){for(;n;){if(n===e)return!0;n=n.parentNode}return!1}var Id,jS;function Fz(){if(jS)return Id;jS=1,wF();var n=Ae();return Id=n.Object.getOwnPropertySymbols,Id}var $d,LS;function Nz(){if(LS)return $d;LS=1;var n=Fz();return $d=n,$d}var Td,zS;function kz(){return zS||(zS=1,Td=Nz()),Td}var Bz=kz(),WS=ee(Bz),Pd={exports:{}},HS={},US;function jz(){if(US)return HS;US=1;var n=Y(),e=oe(),t=Nt(),r=ro().f,i=Ce(),s=!i||e(function(){r(1)});return n({target:"Object",stat:!0,forced:s,sham:!i},{getOwnPropertyDescriptor:function(a,u){return r(t(a),u)}}),HS}var VS;function Lz(){if(VS)return Pd.exports;VS=1,jz();var n=Ae(),e=n.Object,t=Pd.exports=function(i,s){return e.getOwnPropertyDescriptor(i,s)};return e.getOwnPropertyDescriptor.sham&&(t.sham=!0),Pd.exports}var Rd,GS;function zz(){if(GS)return Rd;GS=1;var n=Lz();return Rd=n,Rd}var qd,KS;function Wz(){return KS||(KS=1,qd=zz()),qd}var Hz=Wz(),cN=ee(Hz),YS={},XS;function Uz(){if(XS)return YS;XS=1;var n=Y(),e=Ce(),t=MF(),r=Nt(),i=ro(),s=no();return n({target:"Object",stat:!0,sham:!e},{getOwnPropertyDescriptors:function(a){for(var u=r(a),l=i.f,d=t(u),c={},h=0,f,v;d.length>h;)v=l(u,f=d[h++]),v!==void 0&&s(c,f,v);return c}}),YS}var Cd,ZS;function Vz(){if(ZS)return Cd;ZS=1,Uz();var n=Ae();return Cd=n.Object.getOwnPropertyDescriptors,Cd}var xd,JS;function Gz(){if(JS)return xd;JS=1;var n=Vz();return xd=n,xd}var Dd,QS;function Kz(){return QS||(QS=1,Dd=Gz()),Dd}var Yz=Kz(),eO=ee(Yz),Md={exports:{}},tO={},rO;function Xz(){if(rO)return tO;rO=1;var n=Y(),e=Ce(),t=Nm().f;return n({target:"Object",stat:!0,forced:Object.defineProperties!==t,sham:!e},{defineProperties:t}),tO}var iO;function Zz(){if(iO)return Md.exports;iO=1,Xz();var n=Ae(),e=n.Object,t=Md.exports=function(i,s){return e.defineProperties(i,s)};return e.defineProperties.sham&&(t.sham=!0),Md.exports}var Ad,nO;function Jz(){if(nO)return Ad;nO=1;var n=Zz();return Ad=n,Ad}var Fd,sO;function Qz(){return sO||(sO=1,Fd=Jz()),Fd}var eW=Qz(),tW=ee(eW),Nd,oO;function rW(){return oO||(oO=1,Nd=cF()),Nd}var iW=rW(),nW=ee(iW),aO={},uO={},kd={exports:{}},Bd,lO;function sW(){if(lO)return Bd;lO=1;var n=oe();return Bd=n(function(){if(typeof ArrayBuffer=="function"){var e=new ArrayBuffer(8);Object.isExtensible(e)&&Object.defineProperty(e,"a",{value:8})}}),Bd}var jd,dO;function oW(){if(dO)return jd;dO=1;var n=oe(),e=et(),t=Zt(),r=sW(),i=Object.isExtensible,s=n(function(){});return jd=s||r?function(a){return!e(a)||r&&t(a)==="ArrayBuffer"?!1:i?i(a):!0}:i,jd}var Ld,cO;function aW(){if(cO)return Ld;cO=1;var n=oe();return Ld=!n(function(){return Object.isExtensible(Object.preventExtensions({}))}),Ld}var hO;function hN(){if(hO)return kd.exports;hO=1;var n=Y(),e=ce(),t=Jn(),r=et(),i=Be(),s=pt().f,o=ao(),a=yF(),u=oW(),l=to(),d=aW(),c=!1,h=l("meta"),f=0,v=function(b){s(b,h,{value:{objectID:"O"+f++,weakData:{}}})},p=function(b,w){if(!r(b))return typeof b=="symbol"?b:(typeof b=="string"?"S":"P")+b;if(!i(b,h)){if(!u(b))return"F";if(!w)return"E";v(b)}return b[h].objectID},m=function(b,w){if(!i(b,h)){if(!u(b))return!0;if(!w)return!1;v(b)}return b[h].weakData},y=function(b){return d&&c&&u(b)&&!i(b,h)&&v(b),b},g=function(){E.enable=function(){},c=!0;var b=o.f,w=e([].splice),O={};O[h]=1,b(O).length&&(o.f=function(I){for(var _=b(I),S=0,$=_.length;S<$;S++)if(_[S]===h){w(_,S,1);break}return _},n({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:a.f}))},E=kd.exports={enable:g,fastKey:p,getWeakData:m,onFreeze:y};return t[h]=!0,kd.exports}var zd,fO;function uW(){if(fO)return zd;fO=1;var n=je(),e=Gi(),t=n("iterator"),r=Array.prototype;return zd=function(i){return i!==void 0&&(e.Array===i||r[t]===i)},zd}var Wd,vO;function fN(){if(vO)return Wd;vO=1;var n=yr(),e=qm(),t=Kn(),r=Gi(),i=je(),s=i("iterator");return Wd=function(o){if(!t(o))return e(o,s)||e(o,"@@iterator")||r[n(o)]},Wd}var Hd,pO;function vN(){if(pO)return Hd;pO=1;var n=st(),e=Jt(),t=Qt(),r=ji(),i=fN(),s=TypeError;return Hd=function(o,a){var u=arguments.length<2?i(o):a;if(e(u))return t(n(u,o));throw new s(r(o)+" is not iterable")},Hd}var Ud,gO;function Ym(){if(gO)return Ud;gO=1;var n=st(),e=Qt(),t=qm();return Ud=function(r,i,s){var o,a;e(r);try{if(o=t(r,"return"),!o){if(i==="throw")throw s;return s}o=n(o,r)}catch(u){a=!0,o=u}if(i==="throw")throw s;if(a)throw o;return e(o),s},Ud}var Vd,yO;function Xm(){if(yO)return Vd;yO=1;var n=io(),e=st(),t=Qt(),r=ji(),i=uW(),s=gr(),o=ke(),a=vN(),u=fN(),l=Ym(),d=TypeError,c=function(f,v){this.stopped=f,this.result=v},h=c.prototype;return Vd=function(f,v,p){var m=p&&p.that,y=!!(p&&p.AS_ENTRIES),g=!!(p&&p.IS_RECORD),E=!!(p&&p.IS_ITERATOR),b=!!(p&&p.INTERRUPTED),w=n(v,m),O,I,_,S,$,T,P,R=function(A){return O&&l(O,"normal"),new c(!0,A)},C=function(A){return y?(t(A),b?w(A[0],A[1],R):w(A[0],A[1])):b?w(A,R):w(A)};if(g)O=f.iterator;else if(E)O=f;else{if(I=u(f),!I)throw new d(r(f)+" is not iterable");if(i(I)){for(_=0,S=s(f);S>_;_++)if($=C(f[_]),$&&o(h,$))return $;return new c(!1)}O=a(f,I)}for(T=g?f.next:O.next;!(P=e(T,O)).done;){try{$=C(P.value)}catch(A){l(O,"throw",A)}if(typeof $=="object"&&$&&o(h,$))return $}return new c(!1)},Vd}var Gd,mO;function pN(){if(mO)return Gd;mO=1;var n=ke(),e=TypeError;return Gd=function(t,r){if(n(r,t))return t;throw new e("Incorrect invocation")},Gd}var Kd,bO;function gN(){if(bO)return Kd;bO=1;var n=Y(),e=qe(),t=hN(),r=oe(),i=Wi(),s=Xm(),o=pN(),a=Ne(),u=et(),l=Kn(),d=Qr(),c=pt().f,h=Vi().forEach,f=Ce(),v=ts(),p=v.set,m=v.getterFor;return Kd=function(y,g,E){var b=y.indexOf("Map")!==-1,w=y.indexOf("Weak")!==-1,O=b?"set":"add",I=e[y],_=I&&I.prototype,S={},$;if(!f||!a(I)||!(w||_.forEach&&!r(function(){new I().entries().next()})))$=E.getConstructor(g,y,b,O),t.enable();else{$=g(function(R,C){p(o(R,T),{type:y,collection:new I}),l(C)||s(C,R[O],{that:R,AS_ENTRIES:b})});var T=$.prototype,P=m(y);h(["add","clear","delete","forEach","get","has","set","keys","values","entries"],function(R){var C=R==="add"||R==="set";R in _&&!(w&&R==="clear")&&i(T,R,function(A,K){var L=P(this).collection;if(!C&&w&&!u(A))return R==="get"?void 0:!1;var Z=L[R](A===0?0:A,K);return C?this:Z})}),w||c(T,"size",{configurable:!0,get:function(){return P(this).collection.size}})}return d($,y,!1,!0),S[y]=$,n({global:!0,forced:!0},S),w||E.setStrong($,y,b),$},Kd}var Yd,_O;function lW(){if(_O)return Yd;_O=1;var n=es();return Yd=function(e,t,r){for(var i in t)r&&r.unsafe&&e[i]?e[i]=t[i]:n(e,i,t[i],r);return e},Yd}var Xd,wO;function dW(){if(wO)return Xd;wO=1;var n=ut(),e=km(),t=je(),r=Ce(),i=t("species");return Xd=function(s){var o=n(s);r&&o&&!o[i]&&e(o,i,{configurable:!0,get:function(){return this}})},Xd}var Zd,EO;function yN(){if(EO)return Zd;EO=1;var n=Qn(),e=km(),t=lW(),r=io(),i=pN(),s=Kn(),o=Xm(),a=Bm(),u=jm(),l=dW(),d=Ce(),c=hN().fastKey,h=ts(),f=h.set,v=h.getterFor;return Zd={getConstructor:function(p,m,y,g){var E=p(function(_,S){i(_,b),f(_,{type:m,index:n(null),first:null,last:null,size:0}),d||(_.size=0),s(S)||o(S,_[g],{that:_,AS_ENTRIES:y})}),b=E.prototype,w=v(m),O=function(_,S,$){var T=w(_),P=I(_,S),R,C;return P?P.value=$:(T.last=P={index:C=c(S,!0),key:S,value:$,previous:R=T.last,next:null,removed:!1},T.first||(T.first=P),R&&(R.next=P),d?T.size++:_.size++,C!=="F"&&(T.index[C]=P)),_},I=function(_,S){var $=w(_),T=c(S),P;if(T!=="F")return $.index[T];for(P=$.first;P;P=P.next)if(P.key===S)return P};return t(b,{clear:function(){for(var S=this,$=w(S),T=$.first;T;)T.removed=!0,T.previous&&(T.previous=T.previous.next=null),T=T.next;$.first=$.last=null,$.index=n(null),d?$.size=0:S.size=0},delete:function(_){var S=this,$=w(S),T=I(S,_);if(T){var P=T.next,R=T.previous;delete $.index[T.index],T.removed=!0,R&&(R.next=P),P&&(P.previous=R),$.first===T&&($.first=P),$.last===T&&($.last=R),d?$.size--:S.size--}return!!T},forEach:function(S){for(var $=w(this),T=r(S,arguments.length>1?arguments[1]:void 0),P;P=P?P.next:$.first;)for(T(P.value,P.key,this);P&&P.removed;)P=P.previous},has:function(S){return!!I(this,S)}}),t(b,y?{get:function(S){var $=I(this,S);return $&&$.value},set:function(S,$){return O(this,S===0?0:S,$)}}:{add:function(S){return O(this,S=S===0?0:S,S)}}),d&&e(b,"size",{configurable:!0,get:function(){return w(this).size}}),E},setStrong:function(p,m,y){var g=m+" Iterator",E=v(m),b=v(g);a(p,m,function(w,O){f(this,{type:g,target:w,state:E(w),kind:O,last:null})},function(){for(var w=b(this),O=w.kind,I=w.last;I&&I.removed;)I=I.previous;return!w.target||!(w.last=I=I?I.next:w.state.first)?(w.target=null,u(void 0,!0)):u(O==="keys"?I.key:O==="values"?I.value:[I.key,I.value],!1)},y?"entries":"values",!y,!0),l(m)}},Zd}var SO;function cW(){if(SO)return uO;SO=1;var n=gN(),e=yN();return n("Map",function(t){return function(){return t(this,arguments.length?arguments[0]:void 0)}},e),uO}var OO;function hW(){return OO||(OO=1,cW()),aO}var IO={},Jd,$O;function mN(){return $O||($O=1,Jd=function(n,e){return e===1?function(t,r){return t[n](r)}:function(t,r,i){return t[n](r,i)}}),Jd}var Qd,TO;function fW(){if(TO)return Qd;TO=1;var n=ut(),e=mN(),t=n("Map");return Qd={Map:t,set:e("set",2),get:e("get",1),has:e("has",1),remove:e("delete",1),proto:t.prototype},Qd}var PO;function vW(){if(PO)return IO;PO=1;var n=Y(),e=ce(),t=Jt(),r=Zr(),i=Xm(),s=fW(),o=Li(),a=oe(),u=s.Map,l=s.has,d=s.get,c=s.set,h=e([].push),f=o||a(function(){return u.groupBy("ab",function(v){return v}).get("a").length!==1});return n({target:"Map",stat:!0,forced:o||f},{groupBy:function(p,m){r(p),t(m);var y=new u,g=0;return i(p,function(E){var b=m(E,g++);l(y,b)?h(d(y,b),E):c(y,b,[E])}),y}}),IO}var ec,RO;function pW(){if(RO)return ec;RO=1,br(),hW(),vW(),co();var n=Ae();return ec=n.Map,ec}var tc,qO;function gW(){if(qO)return tc;qO=1;var n=pW();return _r(),tc=n,tc}var rc,CO;function yW(){return CO||(CO=1,rc=gW()),rc}var mW=yW(),bN=ee(mW),xO={},DO;function bW(){if(DO)return xO;DO=1;var n=Y(),e=Vi().some,t=ho(),r=t("some");return n({target:"Array",proto:!0,forced:!r},{some:function(s){return e(this,s,arguments.length>1?arguments[1]:void 0)}}),xO}var ic,MO;function _W(){if(MO)return ic;MO=1,bW();var n=ot();return ic=n("Array","some"),ic}var nc,AO;function wW(){if(AO)return nc;AO=1;var n=ke(),e=_W(),t=Array.prototype;return nc=function(r){var i=r.some;return r===t||n(t,r)&&i===t.some?e:i},nc}var sc,FO;function EW(){if(FO)return sc;FO=1;var n=wW();return sc=n,sc}var oc,NO;function SW(){return NO||(NO=1,oc=EW()),oc}var OW=SW(),IW=ee(OW),ac,kO;function $W(){if(kO)return ac;kO=1,br();var n=ot();return ac=n("Array","keys"),ac}var uc,BO;function TW(){if(BO)return uc;BO=1;var n=$W();return uc=n,uc}var lc,jO;function PW(){if(jO)return lc;jO=1,_r();var n=yr(),e=Be(),t=ke(),r=TW(),i=Array.prototype,s={DOMTokenList:!0,NodeList:!0};return lc=function(o){var a=o.keys;return o===i||t(i,o)&&a===i.keys||e(s,n(o))?r:a},lc}var dc,LO;function RW(){return LO||(LO=1,dc=PW()),dc}var qW=RW(),gi=ee(qW),zO={},cc,WO;function CW(){if(WO)return cc;WO=1;var n=Ui(),e=Math.floor,t=function(r,i){var s=r.length;if(s<8)for(var o=1,a,u;o<s;){for(u=o,a=r[o];u&&i(r[u-1],a)>0;)r[u]=r[--u];u!==o++&&(r[u]=a)}else for(var l=e(s/2),d=t(n(r,0,l),i),c=t(n(r,l),i),h=d.length,f=c.length,v=0,p=0;v<h||p<f;)r[v+p]=v<h&&p<f?i(d[v],c[p])<=0?d[v++]:c[p++]:v<h?d[v++]:c[p++];return r};return cc=t,cc}var hc,HO;function xW(){if(HO)return hc;HO=1;var n=ki(),e=n.match(/firefox\/(\d+)/i);return hc=!!e&&+e[1],hc}var fc,UO;function DW(){if(UO)return fc;UO=1;var n=ki();return fc=/MSIE|Trident/.test(n),fc}var vc,VO;function MW(){if(VO)return vc;VO=1;var n=ki(),e=n.match(/AppleWebKit\/(\d+)\./);return vc=!!e&&+e[1],vc}var GO;function AW(){if(GO)return zO;GO=1;var n=Y(),e=ce(),t=Jt(),r=Pt(),i=gr(),s=AF(),o=mr(),a=oe(),u=CW(),l=ho(),d=xW(),c=DW(),h=Yn(),f=MW(),v=[],p=e(v.sort),m=e(v.push),y=a(function(){v.sort(void 0)}),g=a(function(){v.sort(null)}),E=l("sort"),b=!a(function(){if(h)return h<70;if(!(d&&d>3)){if(c)return!0;if(f)return f<603;var I="",_,S,$,T;for(_=65;_<76;_++){switch(S=String.fromCharCode(_),_){case 66:case 69:case 70:case 72:$=3;break;case 68:case 71:$=4;break;default:$=2}for(T=0;T<47;T++)v.push({k:S+T,v:$})}for(v.sort(function(P,R){return R.v-P.v}),T=0;T<v.length;T++)S=v[T].k.charAt(0),I.charAt(I.length-1)!==S&&(I+=S);return I!=="DGBEFHACIJK"}}),w=y||!g||!E||!b,O=function(I){return function(_,S){return S===void 0?-1:_===void 0?1:I!==void 0?+I(_,S)||0:o(_)>o(S)?1:-1}};return n({target:"Array",proto:!0,forced:w},{sort:function(_){_!==void 0&&t(_);var S=r(this);if(b)return _===void 0?p(S):p(S,_);var $=[],T=i(S),P,R;for(R=0;R<T;R++)R in S&&m($,S[R]);for(u($,O(_)),P=i($),R=0;R<P;)S[R]=$[R++];for(;R<T;)s(S,R++);return S}}),zO}var pc,KO;function FW(){if(KO)return pc;KO=1,AW();var n=ot();return pc=n("Array","sort"),pc}var gc,YO;function NW(){if(YO)return gc;YO=1;var n=ke(),e=FW(),t=Array.prototype;return gc=function(r){var i=r.sort;return r===t||n(t,r)&&i===t.sort?e:i},gc}var yc,XO;function kW(){if(XO)return yc;XO=1;var n=NW();return yc=n,yc}var mc,ZO;function BW(){return ZO||(ZO=1,mc=kW()),mc}var jW=BW(),gm=ee(jW),bc,JO;function LW(){if(JO)return bc;JO=1,br();var n=ot();return bc=n("Array","values"),bc}var _c,QO;function zW(){if(QO)return _c;QO=1;var n=LW();return _c=n,_c}var wc,eI;function WW(){if(eI)return wc;eI=1,_r();var n=yr(),e=Be(),t=ke(),r=zW(),i=Array.prototype,s={DOMTokenList:!0,NodeList:!0};return wc=function(o){var a=o.values;return o===i||t(i,o)&&a===i.values||e(s,n(o))?r:a},wc}var Ec,tI;function HW(){return tI||(tI=1,Ec=WW()),Ec}var UW=HW(),rI=ee(UW),Sc,iI;function VW(){return iI||(iI=1,Sc=CF()),Sc}var GW=VW(),Ei=ee(GW),Oc,nI;function KW(){if(nI)return Oc;nI=1,br();var n=ot();return Oc=n("Array","entries"),Oc}var Ic,sI;function YW(){if(sI)return Ic;sI=1;var n=KW();return Ic=n,Ic}var $c,oI;function XW(){if(oI)return $c;oI=1,_r();var n=yr(),e=Be(),t=ke(),r=YW(),i=Array.prototype,s={DOMTokenList:!0,NodeList:!0};return $c=function(o){var a=o.entries;return o===i||t(i,o)&&a===i.entries||e(s,n(o))?r:a},$c}var Tc,aI;function ZW(){return aI||(aI=1,Tc=XW()),Tc}var JW=ZW(),QW=ee(JW);const We=[];for(let n=0;n<256;++n)We.push((n+256).toString(16).slice(1));function e5(n,e=0){return(We[n[e+0]]+We[n[e+1]]+We[n[e+2]]+We[n[e+3]]+"-"+We[n[e+4]]+We[n[e+5]]+"-"+We[n[e+6]]+We[n[e+7]]+"-"+We[n[e+8]]+We[n[e+9]]+"-"+We[n[e+10]]+We[n[e+11]]+We[n[e+12]]+We[n[e+13]]+We[n[e+14]]+We[n[e+15]]).toLowerCase()}let Pc;const t5=new Uint8Array(16);function r5(){if(!Pc){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");Pc=crypto.getRandomValues.bind(crypto)}return Pc(t5)}const i5=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto);var uI={randomUUID:i5};function n5(n,e,t){var i;n=n||{};const r=n.random??((i=n.rng)==null?void 0:i.call(n))??r5();if(r.length<16)throw new Error("Random bytes length must be >= 16");return r[6]=r[6]&15|64,r[8]=r[8]&63|128,e5(r)}function s5(n,e,t){return uI.randomUUID&&!n?uI.randomUUID():n5(n)}function lI(n){return typeof n=="string"||typeof n=="number"}class Zm{constructor(e){ar(this,"_queue",[]),ar(this,"_timeout",null),ar(this,"_extended",null),this.delay=null,this.max=1/0,this.setOptions(e)}setOptions(e){e&&typeof e.delay<"u"&&(this.delay=e.delay),e&&typeof e.max<"u"&&(this.max=e.max),this._flushIfNeeded()}static extend(e,t){const r=new Zm(t);if(e.flush!==void 0)throw new Error("Target object already has a property flush");e.flush=()=>{r.flush()};const i=[{name:"flush",original:void 0}];if(t&&t.replace)for(let s=0;s<t.replace.length;s++){const o=t.replace[s];i.push({name:o,original:e[o]}),r.replace(e,o)}return r._extended={object:e,methods:i},r}destroy(){if(this.flush(),this._extended){const e=this._extended.object,t=this._extended.methods;for(let r=0;r<t.length;r++){const i=t[r];i.original?e[i.name]=i.original:delete e[i.name]}this._extended=null}}replace(e,t){const r=this,i=e[t];if(!i)throw new Error("Method "+t+" undefined");e[t]=function(){for(var s=arguments.length,o=new Array(s),a=0;a<s;a++)o[a]=arguments[a];r.queue({args:o,fn:i,context:this})}}queue(e){typeof e=="function"?this._queue.push({fn:e}):this._queue.push(e),this._flushIfNeeded()}_flushIfNeeded(){this._queue.length>this.max&&this.flush(),this._timeout!=null&&(clearTimeout(this._timeout),this._timeout=null),this.queue.length>0&&typeof this.delay=="number"&&(this._timeout=zL(()=>{this.flush()},this.delay))}flush(){var e,t;Wr(e=FF(t=this._queue).call(t,0)).call(e,r=>{r.fn.apply(r.context||r.fn,r.args||[])})}}class Hs{constructor(){ar(this,"_subscribers",{"*":[],add:[],remove:[],update:[]}),ar(this,"subscribe",Hs.prototype.on),ar(this,"unsubscribe",Hs.prototype.off)}_trigger(e,t,r){var i;if(e==="*")throw new Error("Cannot trigger event *");Wr(i=[...this._subscribers[e],...this._subscribers["*"]]).call(i,s=>{s(e,t,r??null)})}on(e,t){typeof t=="function"&&this._subscribers[e].push(t)}off(e,t){var r;this._subscribers[e]=bi(r=this._subscribers[e]).call(r,i=>i!==t)}}var dI={},cI={},hI;function o5(){if(hI)return cI;hI=1;var n=gN(),e=yN();return n("Set",function(t){return function(){return t(this,arguments.length?arguments[0]:void 0)}},e),cI}var fI;function a5(){return fI||(fI=1,o5()),dI}var vI={},Rc,pI;function ti(){if(pI)return Rc;pI=1;var n=ji(),e=TypeError;return Rc=function(t){if(typeof t=="object"&&"size"in t&&"has"in t&&"add"in t&&"delete"in t&&"keys"in t)return t;throw new e(n(t)+" is not a set")},Rc}var qc,gI;function ri(){if(gI)return qc;gI=1;var n=ut(),e=mN(),t=n("Set"),r=t.prototype;return qc={Set:t,add:e("add",1),has:e("has",1),remove:e("delete",1),proto:r},qc}var Cc,yI;function ii(){if(yI)return Cc;yI=1;var n=st();return Cc=function(e,t,r){for(var i=r?e:e.iterator,s=e.next,o,a;!(o=n(s,i)).done;)if(a=t(o.value),a!==void 0)return a},Cc}var xc,mI;function as(){if(mI)return xc;mI=1;var n=ii();return xc=function(e,t,r){return r?n(e.keys(),t,!0):e.forEach(t)},xc}var Dc,bI;function Jm(){if(bI)return Dc;bI=1;var n=ri(),e=as(),t=n.Set,r=n.add;return Dc=function(i){var s=new t;return e(i,function(o){r(s,o)}),s},Dc}var Mc,_I;function us(){return _I||(_I=1,Mc=function(n){return n.size}),Mc}var Ac,wI;function u5(){return wI||(wI=1,Ac=function(n){return{iterator:n,next:n.next,done:!1}}),Ac}var Fc,EI;function ni(){if(EI)return Fc;EI=1;var n=Jt(),e=Qt(),t=st(),r=Hi(),i=u5(),s="Invalid size",o=RangeError,a=TypeError,u=Math.max,l=function(d,c){this.set=d,this.size=u(c,0),this.has=n(d.has),this.keys=n(d.keys)};return l.prototype={getIterator:function(){return i(e(t(this.keys,this.set)))},includes:function(d){return t(this.has,this.set,d)}},Fc=function(d){e(d);var c=+d.size;if(c!==c)throw new a(s);var h=r(c);if(h<0)throw new o(s);return new l(d,h)},Fc}var Nc,SI;function l5(){if(SI)return Nc;SI=1;var n=ti(),e=ri(),t=Jm(),r=us(),i=ni(),s=as(),o=ii(),a=e.has,u=e.remove;return Nc=function(d){var c=n(this),h=i(d),f=t(c);return r(c)<=h.size?s(c,function(v){h.includes(v)&&u(f,v)}):o(h.getIterator(),function(v){a(f,v)&&u(f,v)}),f},Nc}var kc,OI;function si(){return OI||(OI=1,kc=function(){return!1}),kc}var II;function d5(){if(II)return vI;II=1;var n=Y(),e=l5(),t=oe(),r=si(),i=!r("difference",function(o){return o.size===0}),s=i||t(function(){var o={size:1,has:function(){return!0},keys:function(){var u=0;return{next:function(){var l=u++>1;return a.has(1)&&a.clear(),{done:l,value:2}}}}},a=new Set([1,2,3,4]);return a.difference(o).size!==3});return n({target:"Set",proto:!0,real:!0,forced:s},{difference:e}),vI}var $I={},Bc,TI;function c5(){if(TI)return Bc;TI=1;var n=ti(),e=ri(),t=us(),r=ni(),i=as(),s=ii(),o=e.Set,a=e.add,u=e.has;return Bc=function(d){var c=n(this),h=r(d),f=new o;return t(c)>h.size?s(h.getIterator(),function(v){u(c,v)&&a(f,v)}):i(c,function(v){h.includes(v)&&a(f,v)}),f},Bc}var PI;function h5(){if(PI)return $I;PI=1;var n=Y(),e=oe(),t=c5(),r=si(),i=!r("intersection",function(s){return s.size===2&&s.has(1)&&s.has(2)})||e(function(){return String(Array.from(new Set([1,2,3]).intersection(new Set([3,2]))))!=="3,2"});return n({target:"Set",proto:!0,real:!0,forced:i},{intersection:t}),$I}var RI={},jc,qI;function f5(){if(qI)return jc;qI=1;var n=ti(),e=ri().has,t=us(),r=ni(),i=as(),s=ii(),o=Ym();return jc=function(u){var l=n(this),d=r(u);if(t(l)<=d.size)return i(l,function(h){if(d.includes(h))return!1},!0)!==!1;var c=d.getIterator();return s(c,function(h){if(e(l,h))return o(c,"normal",!1)})!==!1},jc}var CI;function v5(){if(CI)return RI;CI=1;var n=Y(),e=f5(),t=si(),r=!t("isDisjointFrom",function(i){return!i});return n({target:"Set",proto:!0,real:!0,forced:r},{isDisjointFrom:e}),RI}var xI={},Lc,DI;function p5(){if(DI)return Lc;DI=1;var n=ti(),e=us(),t=as(),r=ni();return Lc=function(s){var o=n(this),a=r(s);return e(o)>a.size?!1:t(o,function(u){if(!a.includes(u))return!1},!0)!==!1},Lc}var MI;function g5(){if(MI)return xI;MI=1;var n=Y(),e=p5(),t=si(),r=!t("isSubsetOf",function(i){return i});return n({target:"Set",proto:!0,real:!0,forced:r},{isSubsetOf:e}),xI}var AI={},zc,FI;function y5(){if(FI)return zc;FI=1;var n=ti(),e=ri().has,t=us(),r=ni(),i=ii(),s=Ym();return zc=function(a){var u=n(this),l=r(a);if(t(u)<l.size)return!1;var d=l.getIterator();return i(d,function(c){if(!e(u,c))return s(d,"normal",!1)})!==!1},zc}var NI;function m5(){if(NI)return AI;NI=1;var n=Y(),e=y5(),t=si(),r=!t("isSupersetOf",function(i){return!i});return n({target:"Set",proto:!0,real:!0,forced:r},{isSupersetOf:e}),AI}var kI={},Wc,BI;function b5(){if(BI)return Wc;BI=1;var n=ti(),e=ri(),t=Jm(),r=ni(),i=ii(),s=e.add,o=e.has,a=e.remove;return Wc=function(l){var d=n(this),c=r(l).getIterator(),h=t(d);return i(c,function(f){o(d,f)?a(h,f):s(h,f)}),h},Wc}var Hc,jI;function _N(){return jI||(jI=1,Hc=function(n){try{var e=new Set,t={size:0,has:function(){return!0},keys:function(){return Object.defineProperty({},"next",{get:function(){return e.clear(),e.add(4),function(){return{done:!0}}}})}},r=e[n](t);return r.size===1&&r.values().next().value===4}catch{return!1}}),Hc}var LI;function _5(){if(LI)return kI;LI=1;var n=Y(),e=b5(),t=_N(),r=si(),i=!r("symmetricDifference")||!t("symmetricDifference");return n({target:"Set",proto:!0,real:!0,forced:i},{symmetricDifference:e}),kI}var zI={},Uc,WI;function w5(){if(WI)return Uc;WI=1;var n=ti(),e=ri().add,t=Jm(),r=ni(),i=ii();return Uc=function(o){var a=n(this),u=r(o).getIterator(),l=t(a);return i(u,function(d){e(l,d)}),l},Uc}var HI;function E5(){if(HI)return zI;HI=1;var n=Y(),e=w5(),t=_N(),r=si(),i=!r("union")||!t("union");return n({target:"Set",proto:!0,real:!0,forced:i},{union:e}),zI}var Vc,UI;function S5(){if(UI)return Vc;UI=1,br(),a5(),d5(),h5(),v5(),g5(),m5(),_5(),E5(),co();var n=Ae();return Vc=n.Set,Vc}var Gc,VI;function O5(){if(VI)return Gc;VI=1;var n=S5();return _r(),Gc=n,Gc}var Kc,GI;function I5(){return GI||(GI=1,Kc=O5()),Kc}var $5=I5(),Yc=ee($5),Xc,KI;function T5(){if(KI)return Xc;KI=1,br(),co();var n=vN();return Xc=n,Xc}var Zc,YI;function P5(){if(YI)return Zc;YI=1;var n=T5();return _r(),Zc=n,Zc}var Jc,XI;function R5(){if(XI)return Jc;XI=1;var n=P5();return Jc=n,Jc}var Qc,ZI;function q5(){if(ZI)return Qc;ZI=1;var n=R5();return Qc=n,Qc}var eh,JI;function C5(){return JI||(JI=1,eh=q5()),eh}var th,QI;function x5(){return QI||(QI=1,th=C5()),th}var D5=x5(),rh=ee(D5);class Mr{constructor(e){this._pairs=e}*[Ei](){for(const[e,t]of this._pairs)yield[e,t]}*entries(){for(const[e,t]of this._pairs)yield[e,t]}*keys(){for(const[e]of this._pairs)yield e}*values(){for(const[,e]of this._pairs)yield e}toIdArray(){var e;return Ot(e=[...this._pairs]).call(e,t=>t[0])}toItemArray(){var e;return Ot(e=[...this._pairs]).call(e,t=>t[1])}toEntryArray(){return[...this._pairs]}toObjectMap(){const e=IL(null);for(const[t,r]of this._pairs)e[t]=r;return e}toMap(){return new bN(this._pairs)}toIdSet(){return new Yc(this.toIdArray())}toItemSet(){return new Yc(this.toItemArray())}cache(){return new Mr([...this._pairs])}distinct(e){const t=new Yc;for(const[r,i]of this._pairs)t.add(e(i,r));return t}filter(e){const t=this._pairs;return new Mr({*[Ei](){for(const[r,i]of t)e(i,r)&&(yield[r,i])}})}forEach(e){for(const[t,r]of this._pairs)e(r,t)}map(e){const t=this._pairs;return new Mr({*[Ei](){for(const[r,i]of t)yield[r,e(i,r)]}})}max(e){const t=rh(this._pairs);let r=t.next();if(r.done)return null;let i=r.value[1],s=e(r.value[1],r.value[0]);for(;!(r=t.next()).done;){const[o,a]=r.value,u=e(a,o);u>s&&(s=u,i=a)}return i}min(e){const t=rh(this._pairs);let r=t.next();if(r.done)return null;let i=r.value[1],s=e(r.value[1],r.value[0]);for(;!(r=t.next()).done;){const[o,a]=r.value,u=e(a,o);u<s&&(s=u,i=a)}return i}reduce(e,t){for(const[r,i]of this._pairs)t=e(t,i,r);return t}sort(e){return new Mr({[Ei]:()=>{var t;return rh(gm(t=[...this._pairs]).call(t,(r,i)=>{let[s,o]=r,[a,u]=i;return e(o,u,s,a)}))}})}}function e$(n,e){var t=Lm(n);if(WS){var r=WS(n);e&&(r=bi(r).call(r,function(i){return cN(n,i).enumerable})),t.push.apply(t,r)}return t}function t$(n){for(var e=1;e<arguments.length;e++){var t,r,i=arguments[e]!=null?arguments[e]:{};e%2?Wr(t=e$(Object(i),!0)).call(t,function(s){ar(n,s,i[s])}):eO?tW(n,eO(i)):Wr(r=e$(Object(i))).call(r,function(s){nW(n,s,cN(i,s))})}return n}function M5(n,e){return n[e]==null&&(n[e]=s5()),n}class xi extends Hs{get idProp(){return this._idProp}constructor(e,t){super(),ar(this,"_queue",null),e&&!qt(e)&&(t=e,e=[]),this._options=t||{},this._data=new bN,this.length=0,this._idProp=this._options.fieldId||"id",e&&e.length&&this.add(e),this.setOptions(t)}setOptions(e){e&&e.queue!==void 0&&(e.queue===!1?this._queue&&(this._queue.destroy(),this._queue=null):(this._queue||(this._queue=Zm.extend(this,{replace:["add","update","remove"]})),e.queue&&typeof e.queue=="object"&&this._queue.setOptions(e.queue)))}add(e,t){const r=[];let i;if(qt(e)){const s=Ot(e).call(e,o=>o[this._idProp]);if(IW(s).call(s,o=>this._data.has(o)))throw new Error("A duplicate id was found in the parameter array.");for(let o=0,a=e.length;o<a;o++)i=this._addItem(e[o]),r.push(i)}else if(e&&typeof e=="object")i=this._addItem(e),r.push(i);else throw new Error("Unknown dataType");return r.length&&this._trigger("add",{items:r},t),r}update(e,t){const r=[],i=[],s=[],o=[],a=this._idProp,u=l=>{const d=l[a];if(d!=null&&this._data.has(d)){const c=l,h=fL({},this._data.get(d)),f=this._updateItem(c);i.push(f),o.push(c),s.push(h)}else{const c=this._addItem(l);r.push(c)}};if(qt(e))for(let l=0,d=e.length;l<d;l++)e[l]&&typeof e[l]=="object"?u(e[l]):console.warn("Ignoring input item, which is not an object at index "+l);else if(e&&typeof e=="object")u(e);else throw new Error("Unknown dataType");if(r.length&&this._trigger("add",{items:r},t),i.length){const l={items:i,oldData:s,data:o};this._trigger("update",l,t)}return bL(r).call(r,i)}updateOnly(e,t){var r;qt(e)||(e=[e]);const i=Ot(r=Ot(e).call(e,s=>{const o=this._data.get(s[this._idProp]);if(o==null)throw new Error("Updating non-existent items is not allowed.");return{oldData:o,update:s}})).call(r,s=>{let{oldData:o,update:a}=s;const u=o[this._idProp],l=xz(o,a);return this._data.set(u,l),{id:u,oldData:o,updatedData:l}});if(i.length){const s={items:Ot(i).call(i,o=>o.id),oldData:Ot(i).call(i,o=>o.oldData),data:Ot(i).call(i,o=>o.updatedData)};return this._trigger("update",s,t),s.items}else return[]}get(e,t){let r,i,s;lI(e)?(r=e,s=t):qt(e)?(i=e,s=t):s=e;const o=s&&s.returnType==="Object"?"Object":"Array",a=s&&bi(s),u=[];let l,d,c;if(r!=null)l=this._data.get(r),l&&a&&!a(l)&&(l=void 0);else if(i!=null)for(let f=0,v=i.length;f<v;f++)l=this._data.get(i[f]),l!=null&&(!a||a(l))&&u.push(l);else{var h;d=[...gi(h=this._data).call(h)];for(let f=0,v=d.length;f<v;f++)c=d[f],l=this._data.get(c),l!=null&&(!a||a(l))&&u.push(l)}if(s&&s.order&&r==null&&this._sort(u,s.order),s&&s.fields){const f=s.fields;if(r!=null&&l!=null)l=this._filterFields(l,f);else for(let v=0,p=u.length;v<p;v++)u[v]=this._filterFields(u[v],f)}if(o=="Object"){const f={};for(let v=0,p=u.length;v<p;v++){const m=u[v],y=m[this._idProp];f[y]=m}return f}else return r!=null?l??null:u}getIds(e){const t=this._data,r=e&&bi(e),i=e&&e.order,s=[...gi(t).call(t)],o=[];if(r)if(i){const a=[];for(let u=0,l=s.length;u<l;u++){const d=s[u],c=this._data.get(d);c!=null&&r(c)&&a.push(c)}this._sort(a,i);for(let u=0,l=a.length;u<l;u++)o.push(a[u][this._idProp])}else for(let a=0,u=s.length;a<u;a++){const l=s[a],d=this._data.get(l);d!=null&&r(d)&&o.push(d[this._idProp])}else if(i){const a=[];for(let u=0,l=s.length;u<l;u++){const d=s[u];a.push(t.get(d))}this._sort(a,i);for(let u=0,l=a.length;u<l;u++)o.push(a[u][this._idProp])}else for(let a=0,u=s.length;a<u;a++){const l=s[a],d=t.get(l);d!=null&&o.push(d[this._idProp])}return o}getDataSet(){return this}forEach(e,t){const r=t&&bi(t),i=this._data,s=[...gi(i).call(i)];if(t&&t.order){const o=this.get(t);for(let a=0,u=o.length;a<u;a++){const l=o[a],d=l[this._idProp];e(l,d)}}else for(let o=0,a=s.length;o<a;o++){const u=s[o],l=this._data.get(u);l!=null&&(!r||r(l))&&e(l,u)}}map(e,t){const r=t&&bi(t),i=[],s=this._data,o=[...gi(s).call(s)];for(let a=0,u=o.length;a<u;a++){const l=o[a],d=this._data.get(l);d!=null&&(!r||r(d))&&i.push(e(d,l))}return t&&t.order&&this._sort(i,t.order),i}_filterFields(e,t){var r;return e&&tj(r=qt(t)?t:Lm(t)).call(r,(i,s)=>(i[s]=e[s],i),{})}_sort(e,t){if(typeof t=="string"){const r=t;gm(e).call(e,(i,s)=>{const o=i[r],a=s[r];return o>a?1:o<a?-1:0})}else if(typeof t=="function")gm(e).call(e,t);else throw new TypeError("Order must be a function or a string")}remove(e,t){const r=[],i=[],s=qt(e)?e:[e];for(let o=0,a=s.length;o<a;o++){const u=this._remove(s[o]);if(u){const l=u[this._idProp];l!=null&&(r.push(l),i.push(u))}}return r.length&&this._trigger("remove",{items:r,oldData:i},t),r}_remove(e){let t;if(lI(e)?t=e:e&&typeof e=="object"&&(t=e[this._idProp]),t!=null&&this._data.has(t)){const r=this._data.get(t)||null;return this._data.delete(t),--this.length,r}return null}clear(e){var t;const r=[...gi(t=this._data).call(t)],i=[];for(let s=0,o=r.length;s<o;s++)i.push(this._data.get(r[s]));return this._data.clear(),this.length=0,this._trigger("remove",{items:r,oldData:i},e),r}max(e){let t=null,r=null;for(const s of rI(i=this._data).call(i)){var i;const o=s[e];typeof o=="number"&&(r==null||o>r)&&(t=s,r=o)}return t||null}min(e){let t=null,r=null;for(const s of rI(i=this._data).call(i)){var i;const o=s[e];typeof o=="number"&&(r==null||o<r)&&(t=s,r=o)}return t||null}distinct(e){const t=this._data,r=[...gi(t).call(t)],i=[];let s=0;for(let o=0,a=r.length;o<a;o++){const u=r[o],d=t.get(u)[e];let c=!1;for(let h=0;h<s;h++)if(i[h]==d){c=!0;break}!c&&d!==void 0&&(i[s]=d,s++)}return i}_addItem(e){const t=M5(e,this._idProp),r=t[this._idProp];if(this._data.has(r))throw new Error("Cannot add item: item with id "+r+" already exists");return this._data.set(r,t),++this.length,r}_updateItem(e){const t=e[this._idProp];if(t==null)throw new Error("Cannot update item: item has no id (item: "+ML(e)+")");const r=this._data.get(t);if(!r)throw new Error("Cannot update item: no item with id "+t+" found");return this._data.set(t,t$(t$({},r),e)),t}stream(e){if(e){const r=this._data;return new Mr({*[Ei](){for(const i of e){const s=r.get(i);s!=null&&(yield[i,s])}}})}else{var t;return new Mr({[Ei]:xF(t=QW(this._data)).call(t,this._data)})}}}function A5(n,e){return typeof e=="object"&&e!==null&&n===e.idProp&&typeof e.add=="function"&&typeof e.clear=="function"&&typeof e.distinct=="function"&&typeof Wr(e)=="function"&&typeof e.get=="function"&&typeof e.getDataSet=="function"&&typeof e.getIds=="function"&&typeof e.length=="number"&&typeof Ot(e)=="function"&&typeof e.max=="function"&&typeof e.min=="function"&&typeof e.off=="function"&&typeof e.on=="function"&&typeof e.remove=="function"&&typeof e.setOptions=="function"&&typeof e.stream=="function"&&typeof e.update=="function"&&typeof e.updateOnly=="function"}function wN(n,e){return typeof e=="object"&&e!==null&&n===e.idProp&&typeof Wr(e)=="function"&&typeof e.get=="function"&&typeof e.getDataSet=="function"&&typeof e.getIds=="function"&&typeof e.length=="number"&&typeof Ot(e)=="function"&&typeof e.off=="function"&&typeof e.on=="function"&&typeof e.stream=="function"&&A5(n,e.getDataSet())}/**
 * vis-network
 * https://visjs.github.io/vis-network/
 *
 * A dynamic, browser-based visualization library.
 *
 * @version 10.0.2
 * @date    2025-09-15T17:48:13.838Z
 *
 * @copyright (c) 2011-2017 Almende B.V, http://almende.com
 * @copyright (c) 2017-2019 visjs contributors, https://github.com/visjs
 *
 * @license
 * vis.js is dual licensed under both
 *
 *   1. The Apache 2.0 License
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 *   and
 *
 *   2. The MIT License
 *      http://opensource.org/licenses/MIT
 *
 * vis.js may be distributed under either license.
 */var r$=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function G(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var i$={},En,n$;function ye(){if(n$)return En;n$=1;var n=function(e){return e&&e.Math===Math&&e};return En=n(typeof globalThis=="object"&&globalThis)||n(typeof window=="object"&&window)||n(typeof self=="object"&&self)||n(typeof r$=="object"&&r$)||n(typeof En=="object"&&En)||function(){return this}()||Function("return this")(),En}var ih,s$;function te(){return s$||(s$=1,ih=function(n){try{return!!n()}catch{return!0}}),ih}var nh,o$;function ls(){if(o$)return nh;o$=1;var n=te();return nh=!n(function(){var e=(function(){}).bind();return typeof e!="function"||e.hasOwnProperty("prototype")}),nh}var sh,a$;function po(){if(a$)return sh;a$=1;var n=ls(),e=Function.prototype,t=e.apply,r=e.call;return sh=typeof Reflect=="object"&&Reflect.apply||(n?r.bind(t):function(){return r.apply(t,arguments)}),sh}var oh,u$;function re(){if(u$)return oh;u$=1;var n=ls(),e=Function.prototype,t=e.call,r=n&&e.bind.bind(t,t);return oh=n?r:function(i){return function(){return t.apply(i,arguments)}},oh}var ah,l$;function kt(){if(l$)return ah;l$=1;var n=re(),e=n({}.toString),t=n("".slice);return ah=function(r){return t(e(r),8,-1)},ah}var uh,d$;function Qm(){if(d$)return uh;d$=1;var n=kt(),e=re();return uh=function(t){if(n(t)==="Function")return e(t)},uh}var lh,c$;function Le(){if(c$)return lh;c$=1;var n=typeof document=="object"&&document.all;return lh=typeof n>"u"&&n!==void 0?function(e){return typeof e=="function"||e===n}:function(e){return typeof e=="function"},lh}var dh={},ch,h$;function $e(){if(h$)return ch;h$=1;var n=te();return ch=!n(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!==7}),ch}var hh,f$;function at(){if(f$)return hh;f$=1;var n=ls(),e=Function.prototype.call;return hh=n?e.bind(e):function(){return e.apply(e,arguments)},hh}var fh={},v$;function go(){if(v$)return fh;v$=1;var n={}.propertyIsEnumerable,e=Object.getOwnPropertyDescriptor,t=e&&!n.call({1:2},1);return fh.f=t?function(i){var s=e(this,i);return!!s&&s.enumerable}:n,fh}var vh,p$;function ds(){return p$||(p$=1,vh=function(n,e){return{enumerable:!(n&1),configurable:!(n&2),writable:!(n&4),value:e}}),vh}var ph,g$;function yo(){if(g$)return ph;g$=1;var n=re(),e=te(),t=kt(),r=Object,i=n("".split);return ph=e(function(){return!r("z").propertyIsEnumerable(0)})?function(s){return t(s)==="String"?i(s,""):r(s)}:r,ph}var gh,y$;function Yi(){return y$||(y$=1,gh=function(n){return n==null}),gh}var yh,m$;function er(){if(m$)return yh;m$=1;var n=Yi(),e=TypeError;return yh=function(t){if(n(t))throw new e("Can't call method on "+t);return t},yh}var mh,b$;function Rt(){if(b$)return mh;b$=1;var n=yo(),e=er();return mh=function(t){return n(e(t))},mh}var bh,_$;function ze(){if(_$)return bh;_$=1;var n=Le();return bh=function(e){return typeof e=="object"?e!==null:n(e)},bh}var _h,w$;function ae(){return w$||(w$=1,_h={}),_h}var wh,E$;function lt(){if(E$)return wh;E$=1;var n=ae(),e=ye(),t=Le(),r=function(i){return t(i)?i:void 0};return wh=function(i,s){return arguments.length<2?r(n[i])||r(e[i]):n[i]&&n[i][s]||e[i]&&e[i][s]},wh}var Eh,S$;function xe(){if(S$)return Eh;S$=1;var n=re();return Eh=n({}.isPrototypeOf),Eh}var Sh,O$;function Xi(){if(O$)return Sh;O$=1;var n=ye(),e=n.navigator,t=e&&e.userAgent;return Sh=t?String(t):"",Sh}var Oh,I$;function cs(){if(I$)return Oh;I$=1;var n=ye(),e=Xi(),t=n.process,r=n.Deno,i=t&&t.versions||r&&r.version,s=i&&i.v8,o,a;return s&&(o=s.split("."),a=o[0]>0&&o[0]<4?1:+(o[0]+o[1])),!a&&e&&(o=e.match(/Edge\/(\d+)/),(!o||o[1]>=74)&&(o=e.match(/Chrome\/(\d+)/),o&&(a=+o[1]))),Oh=a,Oh}var Ih,$$;function Zi(){if($$)return Ih;$$=1;var n=cs(),e=te(),t=ye(),r=t.String;return Ih=!!Object.getOwnPropertySymbols&&!e(function(){var i=Symbol("symbol detection");return!r(i)||!(Object(i)instanceof Symbol)||!Symbol.sham&&n&&n<41}),Ih}var $h,T$;function EN(){if(T$)return $h;T$=1;var n=Zi();return $h=n&&!Symbol.sham&&typeof Symbol.iterator=="symbol",$h}var Th,P$;function hs(){if(P$)return Th;P$=1;var n=lt(),e=Le(),t=xe(),r=EN(),i=Object;return Th=r?function(s){return typeof s=="symbol"}:function(s){var o=n("Symbol");return e(o)&&t(o.prototype,i(s))},Th}var Ph,R$;function Ji(){if(R$)return Ph;R$=1;var n=String;return Ph=function(e){try{return n(e)}catch{return"Object"}},Ph}var Rh,q$;function tr(){if(q$)return Rh;q$=1;var n=Le(),e=Ji(),t=TypeError;return Rh=function(r){if(n(r))return r;throw new t(e(r)+" is not a function")},Rh}var qh,C$;function eb(){if(C$)return qh;C$=1;var n=tr(),e=Yi();return qh=function(t,r){var i=t[r];return e(i)?void 0:n(i)},qh}var Ch,x$;function F5(){if(x$)return Ch;x$=1;var n=at(),e=Le(),t=ze(),r=TypeError;return Ch=function(i,s){var o,a;if(s==="string"&&e(o=i.toString)&&!t(a=n(o,i))||e(o=i.valueOf)&&!t(a=n(o,i))||s!=="string"&&e(o=i.toString)&&!t(a=n(o,i)))return a;throw new r("Can't convert object to primitive value")},Ch}var xh={exports:{}},Dh,D$;function Qi(){return D$||(D$=1,Dh=!0),Dh}var Mh,M$;function N5(){if(M$)return Mh;M$=1;var n=ye(),e=Object.defineProperty;return Mh=function(t,r){try{e(n,t,{value:r,configurable:!0,writable:!0})}catch{n[t]=r}return r},Mh}var A$;function tb(){if(A$)return xh.exports;A$=1;var n=Qi(),e=ye(),t=N5(),r="__core-js_shared__",i=xh.exports=e[r]||t(r,{});return(i.versions||(i.versions=[])).push({version:"3.44.0",mode:n?"pure":"global",copyright:"Â© 2014-2025 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.44.0/LICENSE",source:"https://github.com/zloirock/core-js"}),xh.exports}var Ah,F$;function en(){if(F$)return Ah;F$=1;var n=tb();return Ah=function(e,t){return n[e]||(n[e]=t||{})},Ah}var Fh,N$;function dt(){if(N$)return Fh;N$=1;var n=er(),e=Object;return Fh=function(t){return e(n(t))},Fh}var Nh,k$;function Ue(){if(k$)return Nh;k$=1;var n=re(),e=dt(),t=n({}.hasOwnProperty);return Nh=Object.hasOwn||function(i,s){return t(e(i),s)},Nh}var kh,B$;function mo(){if(B$)return kh;B$=1;var n=re(),e=0,t=Math.random(),r=n(1.1.toString);return kh=function(i){return"Symbol("+(i===void 0?"":i)+")_"+r(++e+t,36)},kh}var Bh,j$;function De(){if(j$)return Bh;j$=1;var n=ye(),e=en(),t=Ue(),r=mo(),i=Zi(),s=EN(),o=n.Symbol,a=e("wks"),u=s?o.for||o:o&&o.withoutSetter||r;return Bh=function(l){return t(a,l)||(a[l]=i&&t(o,l)?o[l]:u("Symbol."+l)),a[l]},Bh}var jh,L$;function SN(){if(L$)return jh;L$=1;var n=at(),e=ze(),t=hs(),r=eb(),i=F5(),s=De(),o=TypeError,a=s("toPrimitive");return jh=function(u,l){if(!e(u)||t(u))return u;var d=r(u,a),c;if(d){if(l===void 0&&(l="default"),c=n(d,u,l),!e(c)||t(c))return c;throw new o("Can't convert object to primitive value")}return l===void 0&&(l="number"),i(u,l)},jh}var Lh,z$;function rb(){if(z$)return Lh;z$=1;var n=SN(),e=hs();return Lh=function(t){var r=n(t,"string");return e(r)?r:r+""},Lh}var zh,W$;function ON(){if(W$)return zh;W$=1;var n=ye(),e=ze(),t=n.document,r=e(t)&&e(t.createElement);return zh=function(i){return r?t.createElement(i):{}},zh}var Wh,H$;function IN(){if(H$)return Wh;H$=1;var n=$e(),e=te(),t=ON();return Wh=!n&&!e(function(){return Object.defineProperty(t("div"),"a",{get:function(){return 7}}).a!==7}),Wh}var U$;function bo(){if(U$)return dh;U$=1;var n=$e(),e=at(),t=go(),r=ds(),i=Rt(),s=rb(),o=Ue(),a=IN(),u=Object.getOwnPropertyDescriptor;return dh.f=n?u:function(d,c){if(d=i(d),c=s(c),a)try{return u(d,c)}catch{}if(o(d,c))return r(!e(t.f,d,c),d[c])},dh}var Hh,V$;function k5(){if(V$)return Hh;V$=1;var n=te(),e=Le(),t=/#|\.prototype\./,r=function(u,l){var d=s[i(u)];return d===a?!0:d===o?!1:e(l)?n(l):!!l},i=r.normalize=function(u){return String(u).replace(t,".").toLowerCase()},s=r.data={},o=r.NATIVE="N",a=r.POLYFILL="P";return Hh=r,Hh}var Uh,G$;function _o(){if(G$)return Uh;G$=1;var n=Qm(),e=tr(),t=ls(),r=n(n.bind);return Uh=function(i,s){return e(i),s===void 0?i:t?r(i,s):function(){return i.apply(s,arguments)}},Uh}var Vh={},Gh,K$;function $N(){if(K$)return Gh;K$=1;var n=$e(),e=te();return Gh=n&&e(function(){return Object.defineProperty(function(){},"prototype",{value:42,writable:!1}).prototype!==42}),Gh}var Kh,Y$;function Bt(){if(Y$)return Kh;Y$=1;var n=ze(),e=String,t=TypeError;return Kh=function(r){if(n(r))return r;throw new t(e(r)+" is not an object")},Kh}var X$;function yt(){if(X$)return Vh;X$=1;var n=$e(),e=IN(),t=$N(),r=Bt(),i=rb(),s=TypeError,o=Object.defineProperty,a=Object.getOwnPropertyDescriptor,u="enumerable",l="configurable",d="writable";return Vh.f=n?t?function(h,f,v){if(r(h),f=i(f),r(v),typeof h=="function"&&f==="prototype"&&"value"in v&&d in v&&!v[d]){var p=a(h,f);p&&p[d]&&(h[f]=v.value,v={configurable:l in v?v[l]:p[l],enumerable:u in v?v[u]:p[u],writable:!1})}return o(h,f,v)}:o:function(h,f,v){if(r(h),f=i(f),r(v),e)try{return o(h,f,v)}catch{}if("get"in v||"set"in v)throw new s("Accessors not supported");return"value"in v&&(h[f]=v.value),h},Vh}var Yh,Z$;function tn(){if(Z$)return Yh;Z$=1;var n=$e(),e=yt(),t=ds();return Yh=n?function(r,i,s){return e.f(r,i,t(1,s))}:function(r,i,s){return r[i]=s,r},Yh}var Xh,J$;function z(){if(J$)return Xh;J$=1;var n=ye(),e=po(),t=Qm(),r=Le(),i=bo().f,s=k5(),o=ae(),a=_o(),u=tn(),l=Ue(),d=function(c){var h=function(f,v,p){if(this instanceof h){switch(arguments.length){case 0:return new c;case 1:return new c(f);case 2:return new c(f,v)}return new c(f,v,p)}return e(c,this,arguments)};return h.prototype=c.prototype,h};return Xh=function(c,h){var f=c.target,v=c.global,p=c.stat,m=c.proto,y=v?n:p?n[f]:n[f]&&n[f].prototype,g=v?o:o[f]||u(o,f,{})[f],E=g.prototype,b,w,O,I,_,S,$,T,P;for(I in h)b=s(v?I:f+(p?".":"#")+I,c.forced),w=!b&&y&&l(y,I),S=g[I],w&&(c.dontCallGetSet?(P=i(y,I),$=P&&P.value):$=y[I]),_=w&&$?$:h[I],!(!b&&!m&&typeof S==typeof _)&&(c.bind&&w?T=a(_,n):c.wrap&&w?T=d(_):m&&r(_)?T=t(_):T=_,(c.sham||_&&_.sham||S&&S.sham)&&u(T,"sham",!0),u(g,I,T),m&&(O=f+"Prototype",l(o,O)||u(o,O,{}),u(o[O],I,_),c.real&&E&&(b||!E[I])&&u(E,I,_)))},Xh}var Zh,Q$;function B5(){if(Q$)return Zh;Q$=1;var n=Math.ceil,e=Math.floor;return Zh=Math.trunc||function(r){var i=+r;return(i>0?e:n)(i)},Zh}var Jh,eT;function rn(){if(eT)return Jh;eT=1;var n=B5();return Jh=function(e){var t=+e;return t!==t||t===0?0:n(t)},Jh}var Qh,tT;function wo(){if(tT)return Qh;tT=1;var n=rn(),e=Math.max,t=Math.min;return Qh=function(r,i){var s=n(r);return s<0?e(s+i,0):t(s,i)},Qh}var ef,rT;function TN(){if(rT)return ef;rT=1;var n=rn(),e=Math.min;return ef=function(t){var r=n(t);return r>0?e(r,9007199254740991):0},ef}var tf,iT;function rr(){if(iT)return tf;iT=1;var n=TN();return tf=function(e){return n(e.length)},tf}var rf,nT;function ib(){if(nT)return rf;nT=1;var n=Rt(),e=wo(),t=rr(),r=function(i){return function(s,o,a){var u=n(s),l=t(u);if(l===0)return!i&&-1;var d=e(a,l),c;if(i&&o!==o){for(;l>d;)if(c=u[d++],c!==c)return!0}else for(;l>d;d++)if((i||d in u)&&u[d]===o)return i||d||0;return!i&&-1}};return rf={includes:r(!0),indexOf:r(!1)},rf}var nf,sT;function fs(){return sT||(sT=1,nf={}),nf}var sf,oT;function PN(){if(oT)return sf;oT=1;var n=re(),e=Ue(),t=Rt(),r=ib().indexOf,i=fs(),s=n([].push);return sf=function(o,a){var u=t(o),l=0,d=[],c;for(c in u)!e(i,c)&&e(u,c)&&s(d,c);for(;a.length>l;)e(u,c=a[l++])&&(~r(d,c)||s(d,c));return d},sf}var of,aT;function nb(){return aT||(aT=1,of=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]),of}var af,uT;function vs(){if(uT)return af;uT=1;var n=PN(),e=nb();return af=Object.keys||function(r){return n(r,e)},af}var uf={},lT;function Eo(){return lT||(lT=1,uf.f=Object.getOwnPropertySymbols),uf}var lf,dT;function j5(){if(dT)return lf;dT=1;var n=$e(),e=re(),t=at(),r=te(),i=vs(),s=Eo(),o=go(),a=dt(),u=yo(),l=Object.assign,d=Object.defineProperty,c=e([].concat);return lf=!l||r(function(){if(n&&l({b:1},l(d({},"a",{enumerable:!0,get:function(){d(this,"b",{value:3,enumerable:!1})}}),{b:2})).b!==1)return!0;var h={},f={},v=Symbol("assign detection"),p="abcdefghijklmnopqrst";return h[v]=7,p.split("").forEach(function(m){f[m]=m}),l({},h)[v]!==7||i(l({},f)).join("")!==p})?function(f,v){for(var p=a(f),m=arguments.length,y=1,g=s.f,E=o.f;m>y;)for(var b=u(arguments[y++]),w=g?c(i(b),g(b)):i(b),O=w.length,I=0,_;O>I;)_=w[I++],(!n||t(E,b,_))&&(p[_]=b[_]);return p}:l,lf}var cT;function L5(){if(cT)return i$;cT=1;var n=z(),e=j5();return n({target:"Object",stat:!0,arity:2,forced:Object.assign!==e},{assign:e}),i$}var df,hT;function z5(){if(hT)return df;hT=1,L5();var n=ae();return df=n.Object.assign,df}var cf,fT;function W5(){if(fT)return cf;fT=1;var n=z5();return cf=n,cf}var hf,vT;function H5(){return vT||(vT=1,hf=W5()),hf}var U5=H5(),Pe=G(U5),pT={},ff,gT;function nn(){if(gT)return ff;gT=1;var n=re();return ff=n([].slice),ff}var vf,yT;function V5(){if(yT)return vf;yT=1;var n=re(),e=tr(),t=ze(),r=Ue(),i=nn(),s=ls(),o=Function,a=n([].concat),u=n([].join),l={},d=function(c,h,f){if(!r(l,h)){for(var v=[],p=0;p<h;p++)v[p]="a["+p+"]";l[h]=o("C,a","return new C("+u(v,",")+")")}return l[h](c,f)};return vf=s?o.bind:function(h){var f=e(this),v=f.prototype,p=i(arguments,1),m=function(){var g=a(p,i(arguments));return this instanceof m?d(f,g.length,g):f.apply(h,g)};return t(v)&&(m.prototype=v),m},vf}var mT;function G5(){if(mT)return pT;mT=1;var n=z(),e=V5();return n({target:"Function",proto:!0,forced:Function.bind!==e},{bind:e}),pT}var pf,bT;function Ve(){if(bT)return pf;bT=1;var n=ye(),e=ae();return pf=function(t,r){var i=e[t+"Prototype"],s=i&&i[r];if(s)return s;var o=n[t],a=o&&o.prototype;return a&&a[r]},pf}var gf,_T;function K5(){if(_T)return gf;_T=1,G5();var n=Ve();return gf=n("Function","bind"),gf}var yf,wT;function Y5(){if(wT)return yf;wT=1;var n=xe(),e=K5(),t=Function.prototype;return yf=function(r){var i=r.bind;return r===t||n(t,r)&&i===t.bind?e:i},yf}var mf,ET;function X5(){if(ET)return mf;ET=1;var n=Y5();return mf=n,mf}var bf,ST;function Z5(){return ST||(ST=1,bf=X5()),bf}var J5=Z5(),D=G(J5);function sb(n,e,t,r){n.beginPath(),n.arc(e,t,r,0,2*Math.PI,!1),n.closePath()}function Q5(n,e,t,r){n.beginPath(),n.rect(e-r,t-r,r*2,r*2),n.closePath()}function e3(n,e,t,r){n.beginPath(),r*=1.15,t+=.275*r;const i=r*2,s=i/2,o=Math.sqrt(3)/6*i,a=Math.sqrt(i*i-s*s);n.moveTo(e,t-(a-o)),n.lineTo(e+s,t+o),n.lineTo(e-s,t+o),n.lineTo(e,t-(a-o)),n.closePath()}function t3(n,e,t,r){n.beginPath(),r*=1.15,t-=.275*r;const i=r*2,s=i/2,o=Math.sqrt(3)/6*i,a=Math.sqrt(i*i-s*s);n.moveTo(e,t+(a-o)),n.lineTo(e+s,t-o),n.lineTo(e-s,t-o),n.lineTo(e,t+(a-o)),n.closePath()}function r3(n,e,t,r){n.beginPath(),r*=.82,t+=.1*r;for(let i=0;i<10;i++){const s=i%2===0?r*1.3:r*.5;n.lineTo(e+s*Math.sin(i*2*Math.PI/10),t-s*Math.cos(i*2*Math.PI/10))}n.closePath()}function i3(n,e,t,r){n.beginPath(),n.lineTo(e,t+r),n.lineTo(e+r,t),n.lineTo(e,t-r),n.lineTo(e-r,t),n.closePath()}function RN(n,e,t,r,i,s){const o=Math.PI/180;r-2*s<0&&(s=r/2),i-2*s<0&&(s=i/2),n.beginPath(),n.moveTo(e+s,t),n.lineTo(e+r-s,t),n.arc(e+r-s,t+s,s,o*270,o*360,!1),n.lineTo(e+r,t+i-s),n.arc(e+r-s,t+i-s,s,0,o*90,!1),n.lineTo(e+s,t+i),n.arc(e+s,t+i-s,s,o*90,o*180,!1),n.lineTo(e,t+s),n.arc(e+s,t+s,s,o*180,o*270,!1),n.closePath()}function ym(n,e,t,r,i){const s=.5522848,o=r/2*s,a=i/2*s,u=e+r,l=t+i,d=e+r/2,c=t+i/2;n.beginPath(),n.moveTo(e,c),n.bezierCurveTo(e,c-a,d-o,t,d,t),n.bezierCurveTo(d+o,t,u,c-a,u,c),n.bezierCurveTo(u,c+a,d+o,l,d,l),n.bezierCurveTo(d-o,l,e,c+a,e,c),n.closePath()}function qN(n,e,t,r,i){const s=.3333333333333333,o=r,a=i*s,u=.5522848,l=o/2*u,d=a/2*u,c=e+o,h=t+a,f=e+o/2,v=t+a/2,p=t+(i-a/2),m=t+i;n.beginPath(),n.moveTo(c,v),n.bezierCurveTo(c,v+d,f+l,h,f,h),n.bezierCurveTo(f-l,h,e,v+d,e,v),n.bezierCurveTo(e,v-d,f-l,t,f,t),n.bezierCurveTo(f+l,t,c,v-d,c,v),n.lineTo(c,p),n.bezierCurveTo(c,p+d,f+l,m,f,m),n.bezierCurveTo(f-l,m,e,p+d,e,p),n.lineTo(e,v)}function CN(n,e,t,r,i,s){n.beginPath(),n.moveTo(e,t);const o=s.length,a=r-e,u=i-t,l=u/a;let d=Math.sqrt(a*a+u*u),c=0,h=!0,f=0,v=+s[0];for(;d>=.1;)v=+s[c++%o],v>d&&(v=d),f=Math.sqrt(v*v/(1+l*l)),f=a<0?-f:f,e+=f,t+=l*f,h===!0?n.lineTo(e,t):n.moveTo(e,t),d-=v,h=!h}function n3(n,e,t,r){n.beginPath();const i=6,s=Math.PI*2/i;n.moveTo(e+r,t);for(let o=1;o<i;o++)n.lineTo(e+r*Math.cos(s*o),t+r*Math.sin(s*o));n.closePath()}const OT={circle:sb,dashedLine:CN,database:qN,diamond:i3,ellipse:ym,ellipse_vis:ym,hexagon:n3,roundRect:RN,square:Q5,star:r3,triangle:e3,triangleDown:t3};function s3(n){return Object.prototype.hasOwnProperty.call(OT,n)?OT[n]:function(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),i=1;i<t;i++)r[i-1]=arguments[i];CanvasRenderingContext2D.prototype[n].call(e,r)}}var _f={exports:{}},IT;function o3(){return IT||(IT=1,function(n){n.exports=e;function e(r){if(r)return t(r)}function t(r){for(var i in e.prototype)r[i]=e.prototype[i];return r}e.prototype.on=e.prototype.addEventListener=function(r,i){return this._callbacks=this._callbacks||{},(this._callbacks["$"+r]=this._callbacks["$"+r]||[]).push(i),this},e.prototype.once=function(r,i){function s(){this.off(r,s),i.apply(this,arguments)}return s.fn=i,this.on(r,s),this},e.prototype.off=e.prototype.removeListener=e.prototype.removeAllListeners=e.prototype.removeEventListener=function(r,i){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var s=this._callbacks["$"+r];if(!s)return this;if(arguments.length==1)return delete this._callbacks["$"+r],this;for(var o,a=0;a<s.length;a++)if(o=s[a],o===i||o.fn===i){s.splice(a,1);break}return s.length===0&&delete this._callbacks["$"+r],this},e.prototype.emit=function(r){this._callbacks=this._callbacks||{};for(var i=new Array(arguments.length-1),s=this._callbacks["$"+r],o=1;o<arguments.length;o++)i[o-1]=arguments[o];if(s){s=s.slice(0);for(var o=0,a=s.length;o<a;++o)s[o].apply(this,i)}return this},e.prototype.listeners=function(r){return this._callbacks=this._callbacks||{},this._callbacks["$"+r]||[]},e.prototype.hasListeners=function(r){return!!this.listeners(r).length}}(_f)),_f.exports}var a3=o3(),xN=G(a3),$T={},wf,TT;function oi(){if(TT)return wf;TT=1;var n=kt();return wf=Array.isArray||function(t){return n(t)==="Array"},wf}var Ef,PT;function DN(){if(PT)return Ef;PT=1;var n=TypeError,e=9007199254740991;return Ef=function(t){if(t>e)throw n("Maximum allowed index exceeded");return t},Ef}var Sf,RT;function So(){if(RT)return Sf;RT=1;var n=$e(),e=yt(),t=ds();return Sf=function(r,i,s){n?e.f(r,i,t(0,s)):r[i]=s},Sf}var Of,qT;function ob(){if(qT)return Of;qT=1;var n=De(),e=n("toStringTag"),t={};return t[e]="z",Of=String(t)==="[object z]",Of}var If,CT;function sn(){if(CT)return If;CT=1;var n=ob(),e=Le(),t=kt(),r=De(),i=r("toStringTag"),s=Object,o=t(function(){return arguments}())==="Arguments",a=function(u,l){try{return u[l]}catch{}};return If=n?t:function(u){var l,d,c;return u===void 0?"Undefined":u===null?"Null":typeof(d=a(l=s(u),i))=="string"?d:o?t(l):(c=t(l))==="Object"&&e(l.callee)?"Arguments":c},If}var $f,xT;function u3(){if(xT)return $f;xT=1;var n=re(),e=Le(),t=tb(),r=n(Function.toString);return e(t.inspectSource)||(t.inspectSource=function(i){return r(i)}),$f=t.inspectSource,$f}var Tf,DT;function MN(){if(DT)return Tf;DT=1;var n=re(),e=te(),t=Le(),r=sn(),i=lt(),s=u3(),o=function(){},a=i("Reflect","construct"),u=/^\s*(?:class|function)\b/,l=n(u.exec),d=!u.test(o),c=function(v){if(!t(v))return!1;try{return a(o,[],v),!0}catch{return!1}},h=function(v){if(!t(v))return!1;switch(r(v)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return d||!!l(u,s(v))}catch{return!0}};return h.sham=!0,Tf=!a||e(function(){var f;return c(c.call)||!c(Object)||!c(function(){f=!0})||f})?h:c,Tf}var Pf,MT;function l3(){if(MT)return Pf;MT=1;var n=oi(),e=MN(),t=ze(),r=De(),i=r("species"),s=Array;return Pf=function(o){var a;return n(o)&&(a=o.constructor,e(a)&&(a===s||n(a.prototype))?a=void 0:t(a)&&(a=a[i],a===null&&(a=void 0))),a===void 0?s:a},Pf}var Rf,AT;function ab(){if(AT)return Rf;AT=1;var n=l3();return Rf=function(e,t){return new(n(e))(t===0?0:t)},Rf}var qf,FT;function ps(){if(FT)return qf;FT=1;var n=te(),e=De(),t=cs(),r=e("species");return qf=function(i){return t>=51||!n(function(){var s=[],o=s.constructor={};return o[r]=function(){return{foo:1}},s[i](Boolean).foo!==1})},qf}var NT;function AN(){if(NT)return $T;NT=1;var n=z(),e=te(),t=oi(),r=ze(),i=dt(),s=rr(),o=DN(),a=So(),u=ab(),l=ps(),d=De(),c=cs(),h=d("isConcatSpreadable"),f=c>=51||!e(function(){var m=[];return m[h]=!1,m.concat()[0]!==m}),v=function(m){if(!r(m))return!1;var y=m[h];return y!==void 0?!!y:t(m)},p=!f||!l("concat");return n({target:"Array",proto:!0,arity:1,forced:p},{concat:function(y){var g=i(this),E=u(g,0),b=0,w,O,I,_,S;for(w=-1,I=arguments.length;w<I;w++)if(S=w===-1?g:arguments[w],v(S))for(_=s(S),o(b+_),O=0;O<_;O++,b++)O in S&&a(E,b,S[O]);else o(b+1),a(E,b++,S);return E.length=b,E}}),$T}var kT={},BT={},Cf,jT;function mt(){if(jT)return Cf;jT=1;var n=sn(),e=String;return Cf=function(t){if(n(t)==="Symbol")throw new TypeError("Cannot convert a Symbol value to a string");return e(t)},Cf}var xf={},LT;function ub(){if(LT)return xf;LT=1;var n=$e(),e=$N(),t=yt(),r=Bt(),i=Rt(),s=vs();return xf.f=n&&!e?Object.defineProperties:function(a,u){r(a);for(var l=i(u),d=s(u),c=d.length,h=0,f;c>h;)t.f(a,f=d[h++],l[f]);return a},xf}var Df,zT;function d3(){if(zT)return Df;zT=1;var n=lt();return Df=n("document","documentElement"),Df}var Mf,WT;function Oo(){if(WT)return Mf;WT=1;var n=en(),e=mo(),t=n("keys");return Mf=function(r){return t[r]||(t[r]=e(r))},Mf}var Af,HT;function gs(){if(HT)return Af;HT=1;var n=Bt(),e=ub(),t=nb(),r=fs(),i=d3(),s=ON(),o=Oo(),a=">",u="<",l="prototype",d="script",c=o("IE_PROTO"),h=function(){},f=function(g){return u+d+a+g+u+"/"+d+a},v=function(g){g.write(f("")),g.close();var E=g.parentWindow.Object;return g=null,E},p=function(){var g=s("iframe"),E="java"+d+":",b;return g.style.display="none",i.appendChild(g),g.src=String(E),b=g.contentWindow.document,b.open(),b.write(f("document.F=Object")),b.close(),b.F},m,y=function(){try{m=new ActiveXObject("htmlfile")}catch{}y=typeof document<"u"?document.domain&&m?v(m):p():v(m);for(var g=t.length;g--;)delete y[l][t[g]];return y()};return r[c]=!0,Af=Object.create||function(E,b){var w;return E!==null?(h[l]=n(E),w=new h,h[l]=null,w[c]=E):w=y(),b===void 0?w:e.f(w,b)},Af}var Ff={},UT;function Io(){if(UT)return Ff;UT=1;var n=PN(),e=nb(),t=e.concat("length","prototype");return Ff.f=Object.getOwnPropertyNames||function(i){return n(i,t)},Ff}var Nf={},VT;function lb(){if(VT)return Nf;VT=1;var n=kt(),e=Rt(),t=Io().f,r=nn(),i=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],s=function(o){try{return t(o)}catch{return r(i)}};return Nf.f=function(a){return i&&n(a)==="Window"?s(a):t(e(a))},Nf}var kf,GT;function ys(){if(GT)return kf;GT=1;var n=tn();return kf=function(e,t,r,i){return i&&i.enumerable?e[t]=r:n(e,t,r),e},kf}var Bf,KT;function db(){if(KT)return Bf;KT=1;var n=yt();return Bf=function(e,t,r){return n.f(e,t,r)},Bf}var jf={},YT;function $o(){if(YT)return jf;YT=1;var n=De();return jf.f=n,jf}var Lf,XT;function we(){if(XT)return Lf;XT=1;var n=ae(),e=Ue(),t=$o(),r=yt().f;return Lf=function(i){var s=n.Symbol||(n.Symbol={});e(s,i)||r(s,i,{value:t.f(i)})},Lf}var zf,ZT;function FN(){if(ZT)return zf;ZT=1;var n=at(),e=lt(),t=De(),r=ys();return zf=function(){var i=e("Symbol"),s=i&&i.prototype,o=s&&s.valueOf,a=t("toPrimitive");s&&!s[a]&&r(s,a,function(u){return n(o,this)},{arity:1})},zf}var Wf,JT;function c3(){if(JT)return Wf;JT=1;var n=ob(),e=sn();return Wf=n?{}.toString:function(){return"[object "+e(this)+"]"},Wf}var Hf,QT;function ai(){if(QT)return Hf;QT=1;var n=ob(),e=yt().f,t=tn(),r=Ue(),i=c3(),s=De(),o=s("toStringTag");return Hf=function(a,u,l,d){var c=l?a:a&&a.prototype;c&&(r(c,o)||e(c,o,{configurable:!0,value:u}),d&&!n&&t(c,"toString",i))},Hf}var Uf,eP;function NN(){if(eP)return Uf;eP=1;var n=ye(),e=Le(),t=n.WeakMap;return Uf=e(t)&&/native code/.test(String(t)),Uf}var Vf,tP;function ui(){if(tP)return Vf;tP=1;var n=NN(),e=ye(),t=ze(),r=tn(),i=Ue(),s=tb(),o=Oo(),a=fs(),u="Object already initialized",l=e.TypeError,d=e.WeakMap,c,h,f,v=function(g){return f(g)?h(g):c(g,{})},p=function(g){return function(E){var b;if(!t(E)||(b=h(E)).type!==g)throw new l("Incompatible receiver, "+g+" required");return b}};if(n||s.state){var m=s.state||(s.state=new d);m.get=m.get,m.has=m.has,m.set=m.set,c=function(g,E){if(m.has(g))throw new l(u);return E.facade=g,m.set(g,E),E},h=function(g){return m.get(g)||{}},f=function(g){return m.has(g)}}else{var y=o("state");a[y]=!0,c=function(g,E){if(i(g,y))throw new l(u);return E.facade=g,r(g,y,E),E},h=function(g){return i(g,y)?g[y]:{}},f=function(g){return i(g,y)}}return Vf={set:c,get:h,has:f,enforce:v,getterFor:p},Vf}var Gf,rP;function wr(){if(rP)return Gf;rP=1;var n=_o(),e=re(),t=yo(),r=dt(),i=rr(),s=ab(),o=e([].push),a=function(u){var l=u===1,d=u===2,c=u===3,h=u===4,f=u===6,v=u===7,p=u===5||f;return function(m,y,g,E){for(var b=r(m),w=t(b),O=i(w),I=n(y,g),_=0,S=E||s,$=l?S(m,O):d||v?S(m,0):void 0,T,P;O>_;_++)if((p||_ in w)&&(T=w[_],P=I(T,_,b),u))if(l)$[_]=P;else if(P)switch(u){case 3:return!0;case 5:return T;case 6:return _;case 2:o($,T)}else switch(u){case 4:return!1;case 7:o($,T)}return f?-1:c||h?h:$}};return Gf={forEach:a(0),map:a(1),filter:a(2),some:a(3),every:a(4),find:a(5),findIndex:a(6),filterReject:a(7)},Gf}var iP;function h3(){if(iP)return BT;iP=1;var n=z(),e=ye(),t=at(),r=re(),i=Qi(),s=$e(),o=Zi(),a=te(),u=Ue(),l=xe(),d=Bt(),c=Rt(),h=rb(),f=mt(),v=ds(),p=gs(),m=vs(),y=Io(),g=lb(),E=Eo(),b=bo(),w=yt(),O=ub(),I=go(),_=ys(),S=db(),$=en(),T=Oo(),P=fs(),R=mo(),C=De(),A=$o(),K=we(),L=FN(),Z=ai(),Q=ui(),ue=wr().forEach,W=T("hidden"),le="Symbol",me="prototype",be=Q.set,_t=Q.getterFor(le),pe=Object[me],Ge=e.Symbol,wt=Ge&&Ge[me],Ao=e.RangeError,Fo=e.TypeError,Or=e.QObject,hn=b.f,Ke=w.f,fn=g.f,No=I.f,vn=r([].push),Me=$("symbols"),Et=$("op-symbols"),ko=$("wks"),Ir=!Or||!Or[me]||!Or[me].findChild,pn=function(H,F,N){var k=hn(pe,F);k&&delete pe[F],Ke(H,F,N),k&&H!==pe&&Ke(pe,F,k)},$r=s&&a(function(){return p(Ke({},"a",{get:function(){return Ke(this,"a",{value:7}).a}})).a!==7})?pn:Ke,Tr=function(H,F){var N=Me[H]=p(wt);return be(N,{type:le,tag:H,description:F}),s||(N.description=F),N},jt=function(F,N,k){F===pe&&jt(Et,N,k),d(F);var U=h(N);return d(k),u(Me,U)?(k.enumerable?(u(F,W)&&F[W][U]&&(F[W][U]=!1),k=p(k,{enumerable:v(0,!1)})):(u(F,W)||Ke(F,W,v(1,p(null))),F[W][U]=!0),$r(F,U,k)):Ke(F,U,k)},Pr=function(F,N){d(F);var k=c(N),U=m(k).concat(mn(k));return ue(U,function(ne){(!s||t(Rr,k,ne))&&jt(F,ne,k[ne])}),F},Bo=function(F,N){return N===void 0?p(F):Pr(p(F),N)},Rr=function(F){var N=h(F),k=t(No,this,N);return this===pe&&u(Me,N)&&!u(Et,N)?!1:k||!u(this,N)||!u(Me,N)||u(this,W)&&this[W][N]?k:!0},gn=function(F,N){var k=c(F),U=h(N);if(!(k===pe&&u(Me,U)&&!u(Et,U))){var ne=hn(k,U);return ne&&u(Me,U)&&!(u(k,W)&&k[W][U])&&(ne.enumerable=!0),ne}},yn=function(F){var N=fn(c(F)),k=[];return ue(N,function(U){!u(Me,U)&&!u(P,U)&&vn(k,U)}),k},mn=function(H){var F=H===pe,N=fn(F?Et:c(H)),k=[];return ue(N,function(U){u(Me,U)&&(!F||u(pe,U))&&vn(k,Me[U])}),k};return o||(Ge=function(){if(l(wt,this))throw new Fo("Symbol is not a constructor");var F=!arguments.length||arguments[0]===void 0?void 0:f(arguments[0]),N=R(F),k=function(U){var ne=this===void 0?e:this;ne===pe&&t(k,Et,U),u(ne,W)&&u(ne[W],N)&&(ne[W][N]=!1);var bn=v(1,U);try{$r(ne,N,bn)}catch(_n){if(!(_n instanceof Ao))throw _n;pn(ne,N,bn)}};return s&&Ir&&$r(pe,N,{configurable:!0,set:k}),Tr(N,F)},wt=Ge[me],_(wt,"toString",function(){return _t(this).tag}),_(Ge,"withoutSetter",function(H){return Tr(R(H),H)}),I.f=Rr,w.f=jt,O.f=Pr,b.f=gn,y.f=g.f=yn,E.f=mn,A.f=function(H){return Tr(C(H),H)},s&&(S(wt,"description",{configurable:!0,get:function(){return _t(this).description}}),i||_(pe,"propertyIsEnumerable",Rr,{unsafe:!0}))),n({global:!0,constructor:!0,wrap:!0,forced:!o,sham:!o},{Symbol:Ge}),ue(m(ko),function(H){K(H)}),n({target:le,stat:!0,forced:!o},{useSetter:function(){Ir=!0},useSimple:function(){Ir=!1}}),n({target:"Object",stat:!0,forced:!o,sham:!s},{create:Bo,defineProperty:jt,defineProperties:Pr,getOwnPropertyDescriptor:gn}),n({target:"Object",stat:!0,forced:!o},{getOwnPropertyNames:yn}),L(),Z(Ge,le),P[W]=!0,BT}var nP={},Kf,sP;function kN(){if(sP)return Kf;sP=1;var n=Zi();return Kf=n&&!!Symbol.for&&!!Symbol.keyFor,Kf}var oP;function f3(){if(oP)return nP;oP=1;var n=z(),e=lt(),t=Ue(),r=mt(),i=en(),s=kN(),o=i("string-to-symbol-registry"),a=i("symbol-to-string-registry");return n({target:"Symbol",stat:!0,forced:!s},{for:function(u){var l=r(u);if(t(o,l))return o[l];var d=e("Symbol")(l);return o[l]=d,a[d]=l,d}}),nP}var aP={},uP;function v3(){if(uP)return aP;uP=1;var n=z(),e=Ue(),t=hs(),r=Ji(),i=en(),s=kN(),o=i("symbol-to-string-registry");return n({target:"Symbol",stat:!0,forced:!s},{keyFor:function(u){if(!t(u))throw new TypeError(r(u)+" is not a symbol");if(e(o,u))return o[u]}}),aP}var lP={},Yf,dP;function p3(){if(dP)return Yf;dP=1;var n=re(),e=oi(),t=Le(),r=kt(),i=mt(),s=n([].push);return Yf=function(o){if(t(o))return o;if(e(o)){for(var a=o.length,u=[],l=0;l<a;l++){var d=o[l];typeof d=="string"?s(u,d):(typeof d=="number"||r(d)==="Number"||r(d)==="String")&&s(u,i(d))}var c=u.length,h=!0;return function(f,v){if(h)return h=!1,v;if(e(this))return v;for(var p=0;p<c;p++)if(u[p]===f)return v}}},Yf}var cP;function BN(){if(cP)return lP;cP=1;var n=z(),e=lt(),t=po(),r=at(),i=re(),s=te(),o=Le(),a=hs(),u=nn(),l=p3(),d=Zi(),c=String,h=e("JSON","stringify"),f=i(/./.exec),v=i("".charAt),p=i("".charCodeAt),m=i("".replace),y=i(1.1.toString),g=/[\uD800-\uDFFF]/g,E=/^[\uD800-\uDBFF]$/,b=/^[\uDC00-\uDFFF]$/,w=!d||s(function(){var S=e("Symbol")("stringify detection");return h([S])!=="[null]"||h({a:S})!=="{}"||h(Object(S))!=="{}"}),O=s(function(){return h("\uDF06\uD834")!=='"\\udf06\\ud834"'||h("\uDEAD")!=='"\\udead"'}),I=function(S,$){var T=u(arguments),P=l($);if(!(!o(P)&&(S===void 0||a(S))))return T[1]=function(R,C){if(o(P)&&(C=r(P,this,c(R),C)),!a(C))return C},t(h,null,T)},_=function(S,$,T){var P=v(T,$-1),R=v(T,$+1);return f(E,S)&&!f(b,R)||f(b,S)&&!f(E,P)?"\\u"+y(p(S,0),16):S};return h&&n({target:"JSON",stat:!0,arity:3,forced:w||O},{stringify:function($,T,P){var R=u(arguments),C=t(w?I:h,null,R);return O&&typeof C=="string"?m(C,g,_):C}}),lP}var hP={},fP;function g3(){if(fP)return hP;fP=1;var n=z(),e=Zi(),t=te(),r=Eo(),i=dt(),s=!e||t(function(){r.f(1)});return n({target:"Object",stat:!0,forced:s},{getOwnPropertySymbols:function(a){var u=r.f;return u?u(i(a)):[]}}),hP}var vP;function jN(){return vP||(vP=1,h3(),f3(),v3(),BN(),g3()),kT}var pP={},gP;function LN(){if(gP)return pP;gP=1;var n=we();return n("asyncDispose"),pP}var yP={},mP;function y3(){if(mP)return yP;mP=1;var n=we();return n("asyncIterator"),yP}var bP={},_P;function zN(){if(_P)return bP;_P=1;var n=we();return n("dispose"),bP}var wP={},EP;function m3(){if(EP)return wP;EP=1;var n=we();return n("hasInstance"),wP}var SP={},OP;function b3(){if(OP)return SP;OP=1;var n=we();return n("isConcatSpreadable"),SP}var IP={},$P;function WN(){if($P)return IP;$P=1;var n=we();return n("iterator"),IP}var TP={},PP;function _3(){if(PP)return TP;PP=1;var n=we();return n("match"),TP}var RP={},qP;function w3(){if(qP)return RP;qP=1;var n=we();return n("matchAll"),RP}var CP={},xP;function E3(){if(xP)return CP;xP=1;var n=we();return n("replace"),CP}var DP={},MP;function S3(){if(MP)return DP;MP=1;var n=we();return n("search"),DP}var AP={},FP;function O3(){if(FP)return AP;FP=1;var n=we();return n("species"),AP}var NP={},kP;function I3(){if(kP)return NP;kP=1;var n=we();return n("split"),NP}var BP={},jP;function HN(){if(jP)return BP;jP=1;var n=we(),e=FN();return n("toPrimitive"),e(),BP}var LP={},zP;function $3(){if(zP)return LP;zP=1;var n=lt(),e=we(),t=ai();return e("toStringTag"),t(n("Symbol"),"Symbol"),LP}var WP={},HP;function T3(){if(HP)return WP;HP=1;var n=we();return n("unscopables"),WP}var UP={},VP;function P3(){if(VP)return UP;VP=1;var n=ye(),e=ai();return e(n.JSON,"JSON",!0),UP}var Xf,GP;function R3(){if(GP)return Xf;GP=1,AN(),jN(),LN(),y3(),zN(),m3(),b3(),WN(),_3(),w3(),E3(),S3(),O3(),I3(),HN(),$3(),T3(),P3();var n=ae();return Xf=n.Symbol,Xf}var KP={},Zf,YP;function cb(){return YP||(YP=1,Zf=function(){}),Zf}var Jf,XP;function on(){return XP||(XP=1,Jf={}),Jf}var Qf,ZP;function q3(){if(ZP)return Qf;ZP=1;var n=$e(),e=Ue(),t=Function.prototype,r=n&&Object.getOwnPropertyDescriptor,i=e(t,"name"),s=i&&(function(){}).name==="something",o=i&&(!n||n&&r(t,"name").configurable);return Qf={EXISTS:i,PROPER:s,CONFIGURABLE:o},Qf}var ev,JP;function UN(){if(JP)return ev;JP=1;var n=te();return ev=!n(function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype}),ev}var tv,QP;function To(){if(QP)return tv;QP=1;var n=Ue(),e=Le(),t=dt(),r=Oo(),i=UN(),s=r("IE_PROTO"),o=Object,a=o.prototype;return tv=i?o.getPrototypeOf:function(u){var l=t(u);if(n(l,s))return l[s];var d=l.constructor;return e(d)&&l instanceof d?d.prototype:l instanceof o?a:null},tv}var rv,eR;function VN(){if(eR)return rv;eR=1;var n=te(),e=Le(),t=ze(),r=gs(),i=To(),s=ys(),o=De(),a=Qi(),u=o("iterator"),l=!1,d,c,h;[].keys&&(h=[].keys(),"next"in h?(c=i(i(h)),c!==Object.prototype&&(d=c)):l=!0);var f=!t(d)||n(function(){var v={};return d[u].call(v)!==v});return f?d={}:a&&(d=r(d)),e(d[u])||s(d,u,function(){return this}),rv={IteratorPrototype:d,BUGGY_SAFARI_ITERATORS:l},rv}var iv,tR;function C3(){if(tR)return iv;tR=1;var n=VN().IteratorPrototype,e=gs(),t=ds(),r=ai(),i=on(),s=function(){return this};return iv=function(o,a,u,l){var d=a+" Iterator";return o.prototype=e(n,{next:t(+!l,u)}),r(o,d,!1,!0),i[d]=s,o},iv}var nv,rR;function x3(){if(rR)return nv;rR=1;var n=re(),e=tr();return nv=function(t,r,i){try{return n(e(Object.getOwnPropertyDescriptor(t,r)[i]))}catch{}},nv}var sv,iR;function D3(){if(iR)return sv;iR=1;var n=ze();return sv=function(e){return n(e)||e===null},sv}var ov,nR;function M3(){if(nR)return ov;nR=1;var n=D3(),e=String,t=TypeError;return ov=function(r){if(n(r))return r;throw new t("Can't set "+e(r)+" as a prototype")},ov}var av,sR;function A3(){if(sR)return av;sR=1;var n=x3(),e=ze(),t=er(),r=M3();return av=Object.setPrototypeOf||("__proto__"in{}?function(){var i=!1,s={},o;try{o=n(Object.prototype,"__proto__","set"),o(s,[]),i=s instanceof Array}catch{}return function(u,l){return t(u),r(l),e(u)&&(i?o(u,l):u.__proto__=l),u}}():void 0),av}var uv,oR;function hb(){if(oR)return uv;oR=1;var n=z(),e=at(),t=Qi(),r=q3(),i=Le(),s=C3(),o=To(),a=A3(),u=ai(),l=tn(),d=ys(),c=De(),h=on(),f=VN(),v=r.PROPER,p=r.CONFIGURABLE,m=f.IteratorPrototype,y=f.BUGGY_SAFARI_ITERATORS,g=c("iterator"),E="keys",b="values",w="entries",O=function(){return this};return uv=function(I,_,S,$,T,P,R){s(S,_,$);var C=function(be){if(be===T&&Q)return Q;if(!y&&be&&be in L)return L[be];switch(be){case E:return function(){return new S(this,be)};case b:return function(){return new S(this,be)};case w:return function(){return new S(this,be)}}return function(){return new S(this)}},A=_+" Iterator",K=!1,L=I.prototype,Z=L[g]||L["@@iterator"]||T&&L[T],Q=!y&&Z||C(T),ue=_==="Array"&&L.entries||Z,W,le,me;if(ue&&(W=o(ue.call(new I)),W!==Object.prototype&&W.next&&(!t&&o(W)!==m&&(a?a(W,m):i(W[g])||d(W,g,O)),u(W,A,!0,!0),t&&(h[A]=O))),v&&T===b&&Z&&Z.name!==b&&(!t&&p?l(L,"name",b):(K=!0,Q=function(){return e(Z,this)})),T)if(le={values:C(b),keys:P?Q:C(E),entries:C(w)},R)for(me in le)(y||K||!(me in L))&&d(L,me,le[me]);else n({target:_,proto:!0,forced:y||K},le);return(!t||R)&&L[g]!==Q&&d(L,g,Q,{name:T}),h[_]=Q,le},uv}var lv,aR;function fb(){return aR||(aR=1,lv=function(n,e){return{value:n,done:e}}),lv}var dv,uR;function an(){if(uR)return dv;uR=1;var n=Rt(),e=cb(),t=on(),r=ui(),i=yt().f,s=hb(),o=fb(),a=Qi(),u=$e(),l="Array Iterator",d=r.set,c=r.getterFor(l);dv=s(Array,"Array",function(f,v){d(this,{type:l,target:n(f),index:0,kind:v})},function(){var f=c(this),v=f.target,p=f.index++;if(!v||p>=v.length)return f.target=null,o(void 0,!0);switch(f.kind){case"keys":return o(p,!1);case"values":return o(v[p],!1)}return o([p,v[p]],!1)},"values");var h=t.Arguments=t.Array;if(e("keys"),e("values"),e("entries"),!a&&u&&h.name!=="values")try{i(h,"name",{value:"values"})}catch{}return dv}var cv,lR;function F3(){return lR||(lR=1,cv={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}),cv}var dR;function un(){if(dR)return KP;dR=1,an();var n=F3(),e=ye(),t=ai(),r=on();for(var i in n)t(e[i],i),r[i]=r.Array;return KP}var hv,cR;function GN(){if(cR)return hv;cR=1;var n=R3();return un(),hv=n,hv}var fv,hR;function N3(){return hR||(hR=1,fv=GN()),fv}var k3=N3(),B3=G(k3),fR={},vR;function j3(){if(vR)return fR;vR=1;var n=z(),e=oi(),t=MN(),r=ze(),i=wo(),s=rr(),o=Rt(),a=So(),u=De(),l=ps(),d=nn(),c=l("slice"),h=u("species"),f=Array,v=Math.max;return n({target:"Array",proto:!0,forced:!c},{slice:function(m,y){var g=o(this),E=s(g),b=i(m,E),w=i(y===void 0?E:y,E),O,I,_;if(e(g)&&(O=g.constructor,t(O)&&(O===f||e(O.prototype))?O=void 0:r(O)&&(O=O[h],O===null&&(O=void 0)),O===f||O===void 0))return d(g,b,w);for(I=new(O===void 0?f:O)(v(w-b,0)),_=0;b<w;b++,_++)b in g&&a(I,_,g[b]);return I.length=_,I}}),fR}var vv,pR;function L3(){if(pR)return vv;pR=1,j3();var n=Ve();return vv=n("Array","slice"),vv}var pv,gR;function z3(){if(gR)return pv;gR=1;var n=xe(),e=L3(),t=Array.prototype;return pv=function(r){var i=r.slice;return r===t||n(t,r)&&i===t.slice?e:i},pv}var gv,yR;function W3(){if(yR)return gv;yR=1;var n=z3();return gv=n,gv}var yv,mR;function H3(){return mR||(mR=1,yv=W3()),yv}var U3=H3(),Ct=G(U3),mv,bR;function V3(){if(bR)return mv;bR=1;var n=lt(),e=re(),t=Io(),r=Eo(),i=Bt(),s=e([].concat);return mv=n("Reflect","ownKeys")||function(a){var u=t.f(i(a)),l=r.f;return l?s(u,l(a)):u},mv}var _R={},wR;function G3(){if(wR)return _R;wR=1;var n=z(),e=oi();return n({target:"Array",stat:!0},{isArray:e}),_R}var bv,ER;function K3(){if(ER)return bv;ER=1,G3();var n=ae();return bv=n.Array.isArray,bv}var _v,SR;function Y3(){if(SR)return _v;SR=1;var n=K3();return _v=n,_v}var wv,OR;function X3(){return OR||(OR=1,wv=Y3()),wv}var Z3=X3(),Oe=G(Z3),IR={},$R;function J3(){if($R)return IR;$R=1;var n=z(),e=wr().map,t=ps(),r=t("map");return n({target:"Array",proto:!0,forced:!r},{map:function(s){return e(this,s,arguments.length>1?arguments[1]:void 0)}}),IR}var Ev,TR;function Q3(){if(TR)return Ev;TR=1,J3();var n=Ve();return Ev=n("Array","map"),Ev}var Sv,PR;function eH(){if(PR)return Sv;PR=1;var n=xe(),e=Q3(),t=Array.prototype;return Sv=function(r){var i=r.map;return r===t||n(t,r)&&i===t.map?e:i},Sv}var Ov,RR;function tH(){if(RR)return Ov;RR=1;var n=eH();return Ov=n,Ov}var Iv,qR;function rH(){return qR||(qR=1,Iv=tH()),Iv}var iH=rH(),Di=G(iH),CR={},xR;function nH(){if(xR)return CR;xR=1;var n=z(),e=dt(),t=vs(),r=te(),i=r(function(){t(1)});return n({target:"Object",stat:!0,forced:i},{keys:function(o){return t(e(o))}}),CR}var $v,DR;function sH(){if(DR)return $v;DR=1,nH();var n=ae();return $v=n.Object.keys,$v}var Tv,MR;function oH(){if(MR)return Tv;MR=1;var n=sH();return Tv=n,Tv}var Pv,AR;function aH(){return AR||(AR=1,Pv=oH()),Pv}var uH=aH(),Se=G(uH),FR={},NR;function lH(){if(NR)return FR;NR=1;var n=z(),e=re(),t=Date,r=e(t.prototype.getTime);return n({target:"Date",stat:!0},{now:function(){return r(new t)}}),FR}var Rv,kR;function dH(){if(kR)return Rv;kR=1,lH();var n=ae();return Rv=n.Date.now,Rv}var qv,BR;function cH(){if(BR)return qv;BR=1;var n=dH();return qv=n,qv}var Cv,jR;function hH(){return jR||(jR=1,Cv=cH()),Cv}var fH=hH(),Us=G(fH),LR={},xv,zR;function ln(){if(zR)return xv;zR=1;var n=te();return xv=function(e,t){var r=[][e];return!!r&&n(function(){r.call(null,t||function(){return 1},1)})},xv}var Dv,WR;function vH(){if(WR)return Dv;WR=1;var n=wr().forEach,e=ln(),t=e("forEach");return Dv=t?[].forEach:function(i){return n(this,i,arguments.length>1?arguments[1]:void 0)},Dv}var HR;function pH(){if(HR)return LR;HR=1;var n=z(),e=vH();return n({target:"Array",proto:!0,forced:[].forEach!==e},{forEach:e}),LR}var Mv,UR;function gH(){if(UR)return Mv;UR=1,pH();var n=Ve();return Mv=n("Array","forEach"),Mv}var Av,VR;function yH(){if(VR)return Av;VR=1;var n=gH();return Av=n,Av}var Fv,GR;function mH(){if(GR)return Fv;GR=1;var n=sn(),e=Ue(),t=xe(),r=yH(),i=Array.prototype,s={DOMTokenList:!0,NodeList:!0};return Fv=function(o){var a=o.forEach;return o===i||t(i,o)&&a===i.forEach||e(s,n(o))?r:a},Fv}var Nv,KR;function bH(){return KR||(KR=1,Nv=mH()),Nv}var _H=bH(),de=G(_H),YR={},XR;function wH(){if(XR)return YR;XR=1;var n=z(),e=re(),t=oi(),r=e([].reverse),i=[1,2];return n({target:"Array",proto:!0,forced:String(i)===String(i.reverse())},{reverse:function(){return t(this)&&(this.length=this.length),r(this)}}),YR}var kv,ZR;function EH(){if(ZR)return kv;ZR=1,wH();var n=Ve();return kv=n("Array","reverse"),kv}var Bv,JR;function SH(){if(JR)return Bv;JR=1;var n=xe(),e=EH(),t=Array.prototype;return Bv=function(r){var i=r.reverse;return r===t||n(t,r)&&i===t.reverse?e:i},Bv}var jv,QR;function OH(){if(QR)return jv;QR=1;var n=SH();return jv=n,jv}var Lv,eq;function IH(){return eq||(eq=1,Lv=OH()),Lv}var $H=IH(),Br=G($H),tq={},zv,rq;function TH(){if(rq)return zv;rq=1;var n=$e(),e=oi(),t=TypeError,r=Object.getOwnPropertyDescriptor,i=n&&!function(){if(this!==void 0)return!0;try{Object.defineProperty([],"length",{writable:!1}).length=1}catch(s){return s instanceof TypeError}}();return zv=i?function(s,o){if(e(s)&&!r(s,"length").writable)throw new t("Cannot set read only .length");return s.length=o}:function(s,o){return s.length=o},zv}var Wv,iq;function KN(){if(iq)return Wv;iq=1;var n=Ji(),e=TypeError;return Wv=function(t,r){if(!delete t[r])throw new e("Cannot delete property "+n(r)+" of "+n(t))},Wv}var nq;function PH(){if(nq)return tq;nq=1;var n=z(),e=dt(),t=wo(),r=rn(),i=rr(),s=TH(),o=DN(),a=ab(),u=So(),l=KN(),d=ps(),c=d("splice"),h=Math.max,f=Math.min;return n({target:"Array",proto:!0,forced:!c},{splice:function(p,m){var y=e(this),g=i(y),E=t(p,g),b=arguments.length,w,O,I,_,S,$;for(b===0?w=O=0:b===1?(w=0,O=g-E):(w=b-2,O=f(h(r(m),0),g-E)),o(g+w-O),I=a(y,O),_=0;_<O;_++)S=E+_,S in y&&u(I,_,y[S]);if(I.length=O,w<O){for(_=E;_<g-O;_++)S=_+O,$=_+w,S in y?y[$]=y[S]:l(y,$);for(_=g;_>g-O+w;_--)l(y,_-1)}else if(w>O)for(_=g-O;_>E;_--)S=_+O-1,$=_+w-1,S in y?y[$]=y[S]:l(y,$);for(_=0;_<w;_++)y[_+E]=arguments[_+2];return s(y,g-O+w),I}}),tq}var Hv,sq;function RH(){if(sq)return Hv;sq=1,PH();var n=Ve();return Hv=n("Array","splice"),Hv}var Uv,oq;function qH(){if(oq)return Uv;oq=1;var n=xe(),e=RH(),t=Array.prototype;return Uv=function(r){var i=r.splice;return r===t||n(t,r)&&i===t.splice?e:i},Uv}var Vv,aq;function CH(){if(aq)return Vv;aq=1;var n=qH();return Vv=n,Vv}var Gv,uq;function xH(){return uq||(uq=1,Gv=CH()),Gv}var DH=xH(),Vt=G(DH),lq={},dq;function MH(){if(dq)return lq;dq=1;var n=z(),e=ib().includes,t=te(),r=cb(),i=t(function(){return!Array(1).includes()});return n({target:"Array",proto:!0,forced:i},{includes:function(o){return e(this,o,arguments.length>1?arguments[1]:void 0)}}),r("includes"),lq}var Kv,cq;function AH(){if(cq)return Kv;cq=1,MH();var n=Ve();return Kv=n("Array","includes"),Kv}var hq={},Yv,fq;function FH(){if(fq)return Yv;fq=1;var n=ze(),e=kt(),t=De(),r=t("match");return Yv=function(i){var s;return n(i)&&((s=i[r])!==void 0?!!s:e(i)==="RegExp")},Yv}var Xv,vq;function NH(){if(vq)return Xv;vq=1;var n=FH(),e=TypeError;return Xv=function(t){if(n(t))throw new e("The method doesn't accept regular expressions");return t},Xv}var Zv,pq;function kH(){if(pq)return Zv;pq=1;var n=De(),e=n("match");return Zv=function(t){var r=/./;try{"/./"[t](r)}catch{try{return r[e]=!1,"/./"[t](r)}catch{}}return!1},Zv}var gq;function BH(){if(gq)return hq;gq=1;var n=z(),e=re(),t=NH(),r=er(),i=mt(),s=kH(),o=e("".indexOf);return n({target:"String",proto:!0,forced:!s("includes")},{includes:function(u){return!!~o(i(r(this)),i(t(u)),arguments.length>1?arguments[1]:void 0)}}),hq}var Jv,yq;function jH(){if(yq)return Jv;yq=1,BH();var n=Ve();return Jv=n("String","includes"),Jv}var Qv,mq;function LH(){if(mq)return Qv;mq=1;var n=xe(),e=AH(),t=jH(),r=Array.prototype,i=String.prototype;return Qv=function(s){var o=s.includes;return s===r||n(r,s)&&o===r.includes?e:typeof s=="string"||s===i||n(i,s)&&o===i.includes?t:o},Qv}var ep,bq;function zH(){if(bq)return ep;bq=1;var n=LH();return ep=n,ep}var tp,_q;function WH(){return _q||(_q=1,tp=zH()),tp}var HH=WH(),lr=G(HH),wq={},Eq;function UH(){if(Eq)return wq;Eq=1;var n=z(),e=te(),t=dt(),r=To(),i=UN(),s=e(function(){r(1)});return n({target:"Object",stat:!0,forced:s,sham:!i},{getPrototypeOf:function(a){return r(t(a))}}),wq}var rp,Sq;function VH(){if(Sq)return rp;Sq=1,UH();var n=ae();return rp=n.Object.getPrototypeOf,rp}var ip,Oq;function GH(){if(Oq)return ip;Oq=1;var n=VH();return ip=n,ip}var np,Iq;function KH(){return Iq||(Iq=1,np=GH()),np}var YH=KH(),$q=G(YH),sp,Tq;function XH(){if(Tq)return sp;Tq=1,AN();var n=Ve();return sp=n("Array","concat"),sp}var op,Pq;function ZH(){if(Pq)return op;Pq=1;var n=xe(),e=XH(),t=Array.prototype;return op=function(r){var i=r.concat;return r===t||n(t,r)&&i===t.concat?e:i},op}var ap,Rq;function JH(){if(Rq)return ap;Rq=1;var n=ZH();return ap=n,ap}var up,qq;function QH(){return qq||(qq=1,up=JH()),up}var eU=QH(),tU=G(eU),Cq={},xq;function rU(){if(xq)return Cq;xq=1;var n=z(),e=wr().filter,t=ps(),r=t("filter");return n({target:"Array",proto:!0,forced:!r},{filter:function(s){return e(this,s,arguments.length>1?arguments[1]:void 0)}}),Cq}var lp,Dq;function iU(){if(Dq)return lp;Dq=1,rU();var n=Ve();return lp=n("Array","filter"),lp}var dp,Mq;function nU(){if(Mq)return dp;Mq=1;var n=xe(),e=iU(),t=Array.prototype;return dp=function(r){var i=r.filter;return r===t||n(t,r)&&i===t.filter?e:i},dp}var cp,Aq;function sU(){if(Aq)return cp;Aq=1;var n=nU();return cp=n,cp}var hp,Fq;function oU(){return Fq||(Fq=1,hp=sU()),hp}var aU=oU(),rt=G(aU),Nq={},fp,kq;function uU(){if(kq)return fp;kq=1;var n=$e(),e=te(),t=re(),r=To(),i=vs(),s=Rt(),o=go().f,a=t(o),u=t([].push),l=n&&e(function(){var c=Object.create(null);return c[2]=2,!a(c,2)}),d=function(c){return function(h){for(var f=s(h),v=i(f),p=l&&r(f)===null,m=v.length,y=0,g=[],E;m>y;)E=v[y++],(!n||(p?E in f:a(f,E)))&&u(g,c?[E,f[E]]:f[E]);return g}};return fp={entries:d(!0),values:d(!1)},fp}var Bq;function lU(){if(Bq)return Nq;Bq=1;var n=z(),e=uU().values;return n({target:"Object",stat:!0},{values:function(r){return e(r)}}),Nq}var vp,jq;function dU(){if(jq)return vp;jq=1,lU();var n=ae();return vp=n.Object.values,vp}var pp,Lq;function cU(){if(Lq)return pp;Lq=1;var n=dU();return pp=n,pp}var gp,zq;function hU(){return zq||(zq=1,gp=cU()),gp}var fU=hU(),vU=G(fU),Wq={},yp,Hq;function vb(){return Hq||(Hq=1,yp=`	
\v\f\r Â áââââââââââââ¯âã\u2028\u2029\uFEFF`),yp}var mp,Uq;function YN(){if(Uq)return mp;Uq=1;var n=re(),e=er(),t=mt(),r=vb(),i=n("".replace),s=RegExp("^["+r+"]+"),o=RegExp("(^|[^"+r+"])["+r+"]+$"),a=function(u){return function(l){var d=t(e(l));return u&1&&(d=i(d,s,"")),u&2&&(d=i(d,o,"$1")),d}};return mp={start:a(1),end:a(2),trim:a(3)},mp}var bp,Vq;function pU(){if(Vq)return bp;Vq=1;var n=ye(),e=te(),t=re(),r=mt(),i=YN().trim,s=vb(),o=n.parseInt,a=n.Symbol,u=a&&a.iterator,l=/^[+-]?0x/i,d=t(l.exec),c=o(s+"08")!==8||o(s+"0x16")!==22||u&&!e(function(){o(Object(u))});return bp=c?function(f,v){var p=i(r(f));return o(p,v>>>0||(d(l,p)?16:10))}:o,bp}var Gq;function gU(){if(Gq)return Wq;Gq=1;var n=z(),e=pU();return n({global:!0,forced:parseInt!==e},{parseInt:e}),Wq}var _p,Kq;function yU(){if(Kq)return _p;Kq=1,gU();var n=ae();return _p=n.parseInt,_p}var wp,Yq;function mU(){if(Yq)return wp;Yq=1;var n=yU();return wp=n,wp}var Ep,Xq;function bU(){return Xq||(Xq=1,Ep=mU()),Ep}var _U=bU(),It=G(_U),Zq={},Jq;function wU(){if(Jq)return Zq;Jq=1;var n=z(),e=Qm(),t=ib().indexOf,r=ln(),i=e([].indexOf),s=!!i&&1/i([1],1,-0)<0,o=s||!r("indexOf");return n({target:"Array",proto:!0,forced:o},{indexOf:function(u){var l=arguments.length>1?arguments[1]:void 0;return s?i(this,u,l)||0:t(this,u,l)}}),Zq}var Sp,Qq;function EU(){if(Qq)return Sp;Qq=1,wU();var n=Ve();return Sp=n("Array","indexOf"),Sp}var Op,eC;function SU(){if(eC)return Op;eC=1;var n=xe(),e=EU(),t=Array.prototype;return Op=function(r){var i=r.indexOf;return r===t||n(t,r)&&i===t.indexOf?e:i},Op}var Ip,tC;function OU(){if(tC)return Ip;tC=1;var n=SU();return Ip=n,Ip}var $p,rC;function IU(){return rC||(rC=1,$p=OU()),$p}var $U=IU(),se=G($U),iC={},nC;function TU(){if(nC)return iC;nC=1;var n=z(),e=$e(),t=gs();return n({target:"Object",stat:!0,sham:!e},{create:t}),iC}var Tp,sC;function PU(){if(sC)return Tp;sC=1,TU();var n=ae(),e=n.Object;return Tp=function(r,i){return e.create(r,i)},Tp}var Pp,oC;function RU(){if(oC)return Pp;oC=1;var n=PU();return Pp=n,Pp}var Rp,aC;function qU(){return aC||(aC=1,Rp=RU()),Rp}var CU=qU(),jr=G(CU),uC={},qp,lC;function xU(){if(lC)return qp;lC=1;var n=rn(),e=mt(),t=er(),r=RangeError;return qp=function(s){var o=e(t(this)),a="",u=n(s);if(u<0||u===1/0)throw new r("Wrong number of repetitions");for(;u>0;(u>>>=1)&&(o+=o))u&1&&(a+=o);return a},qp}var Cp,dC;function DU(){if(dC)return Cp;dC=1;var n=re(),e=TN(),t=mt(),r=xU(),i=er(),s=n(r),o=n("".slice),a=Math.ceil,u=function(l){return function(d,c,h){var f=t(i(d)),v=e(c),p=f.length,m=h===void 0?" ":t(h),y,g;return v<=p||m===""?f:(y=v-p,g=s(m,a(y/m.length)),g.length>y&&(g=o(g,0,y)),l?f+g:g+f)}};return Cp={start:u(!1),end:u(!0)},Cp}var xp,cC;function MU(){if(cC)return xp;cC=1;var n=re(),e=te(),t=DU().start,r=RangeError,i=isFinite,s=Math.abs,o=Date.prototype,a=o.toISOString,u=n(o.getTime),l=n(o.getUTCDate),d=n(o.getUTCFullYear),c=n(o.getUTCHours),h=n(o.getUTCMilliseconds),f=n(o.getUTCMinutes),v=n(o.getUTCMonth),p=n(o.getUTCSeconds);return xp=e(function(){return a.call(new Date(-5e13-1))!=="0385-07-25T07:06:39.999Z"})||!e(function(){a.call(new Date(NaN))})?function(){if(!i(u(this)))throw new r("Invalid time value");var y=this,g=d(y),E=h(y),b=g<0?"-":g>9999?"+":"";return b+t(s(g),b?6:4,0)+"-"+t(v(y)+1,2,0)+"-"+t(l(y),2,0)+"T"+t(c(y),2,0)+":"+t(f(y),2,0)+":"+t(p(y),2,0)+"."+t(E,3,0)+"Z"}:a,xp}var hC;function AU(){if(hC)return uC;hC=1;var n=z(),e=at(),t=dt(),r=SN(),i=MU(),s=kt(),o=te(),a=o(function(){return new Date(NaN).toJSON()!==null||e(Date.prototype.toJSON,{toISOString:function(){return 1}})!==1});return n({target:"Date",proto:!0,forced:a},{toJSON:function(l){var d=t(this),c=r(d,"number");return typeof c=="number"&&!isFinite(c)?null:!("toISOString"in d)&&s(d)==="Date"?e(i,d):d.toISOString()}}),uC}var Dp,fC;function FU(){if(fC)return Dp;fC=1,AU(),BN();var n=ae(),e=po();return n.JSON||(n.JSON={stringify:JSON.stringify}),Dp=function(r,i,s){return e(n.JSON.stringify,null,arguments)},Dp}var Mp,vC;function NU(){if(vC)return Mp;vC=1;var n=FU();return Mp=n,Mp}var Ap,pC;function kU(){return pC||(pC=1,Ap=NU()),Ap}var BU=kU(),ms=G(BU),gC={},yC={},Fp,mC;function XN(){if(mC)return Fp;mC=1;var n=ye(),e=Xi(),t=kt(),r=function(i){return e.slice(0,i.length)===i};return Fp=function(){return r("Bun/")?"BUN":r("Cloudflare-Workers")?"CLOUDFLARE":r("Deno/")?"DENO":r("Node.js/")?"NODE":n.Bun&&typeof Bun.version=="string"?"BUN":n.Deno&&typeof Deno.version=="object"?"DENO":t(n.process)==="process"?"NODE":n.window&&n.document?"BROWSER":"REST"}(),Fp}var Np,bC;function jU(){if(bC)return Np;bC=1;var n=TypeError;return Np=function(e,t){if(e<t)throw new n("Not enough arguments");return e},Np}var kp,_C;function ZN(){if(_C)return kp;_C=1;var n=ye(),e=po(),t=Le(),r=XN(),i=Xi(),s=nn(),o=jU(),a=n.Function,u=/MSIE .\./.test(i)||r==="BUN"&&function(){var l=n.Bun.version.split(".");return l.length<3||l[0]==="0"&&(l[1]<3||l[1]==="3"&&l[2]==="0")}();return kp=function(l,d){var c=d?2:1;return u?function(h,f){var v=o(arguments.length,1)>c,p=t(h)?h:a(h),m=v?s(arguments,c):[],y=v?function(){e(p,this,m)}:p;return d?l(y,f):l(y)}:l},kp}var wC;function LU(){if(wC)return yC;wC=1;var n=z(),e=ye(),t=ZN(),r=t(e.setInterval,!0);return n({global:!0,bind:!0,forced:e.setInterval!==r},{setInterval:r}),yC}var EC={},SC;function zU(){if(SC)return EC;SC=1;var n=z(),e=ye(),t=ZN(),r=t(e.setTimeout,!0);return n({global:!0,bind:!0,forced:e.setTimeout!==r},{setTimeout:r}),EC}var OC;function JN(){return OC||(OC=1,LU(),zU()),gC}var Bp,IC;function WU(){if(IC)return Bp;IC=1,JN();var n=ae();return Bp=n.setTimeout,Bp}var jp,$C;function HU(){return $C||($C=1,jp=WU()),jp}var UU=HU(),Gt=G(UU),TC={},Lp,PC;function VU(){if(PC)return Lp;PC=1;var n=dt(),e=wo(),t=rr();return Lp=function(i){for(var s=n(this),o=t(s),a=arguments.length,u=e(a>1?arguments[1]:void 0,o),l=a>2?arguments[2]:void 0,d=l===void 0?o:e(l,o);d>u;)s[u++]=i;return s},Lp}var RC;function GU(){if(RC)return TC;RC=1;var n=z(),e=VU(),t=cb();return n({target:"Array",proto:!0},{fill:e}),t("fill"),TC}var zp,qC;function KU(){if(qC)return zp;qC=1,GU();var n=Ve();return zp=n("Array","fill"),zp}var Wp,CC;function YU(){if(CC)return Wp;CC=1;var n=xe(),e=KU(),t=Array.prototype;return Wp=function(r){var i=r.fill;return r===t||n(t,r)&&i===t.fill?e:i},Wp}var Hp,xC;function XU(){if(xC)return Hp;xC=1;var n=YU();return Hp=n,Hp}var Up,DC;function ZU(){return DC||(DC=1,Up=XU()),Up}var JU=ZU(),bs=G(JU);/*! Hammer.JS - v2.0.17-rc - 2019-12-16
 * http://naver.github.io/egjs
 *
 * Forked By Naver egjs
 * Copyright (c) hammerjs
 * Licensed under the MIT license */function Tt(){return Tt=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},Tt.apply(this,arguments)}function bt(n,e){n.prototype=Object.create(e.prototype),n.prototype.constructor=n,n.__proto__=e}function xs(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}var mm;typeof Object.assign!="function"?mm=function(e){if(e==null)throw new TypeError("Cannot convert undefined or null to object");for(var t=Object(e),r=1;r<arguments.length;r++){var i=arguments[r];if(i!=null)for(var s in i)i.hasOwnProperty(s)&&(t[s]=i[s])}return t}:mm=Object.assign;var Gr=mm,MC=["","webkit","Moz","MS","ms","o"],QU=typeof document>"u"?{style:{}}:document.createElement("div"),eV="function",Si=Math.round,Kr=Math.abs,pb=Date.now;function Po(n,e){for(var t,r,i=e[0].toUpperCase()+e.slice(1),s=0;s<MC.length;){if(t=MC[s],r=t?t+i:e,r in n)return r;s++}}var Kt;typeof window>"u"?Kt={}:Kt=window;var QN=Po(QU.style,"touchAction"),ek=QN!==void 0;function tV(){if(!ek)return!1;var n={},e=Kt.CSS&&Kt.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach(function(t){return n[t]=e?Kt.CSS.supports("touch-action",t):!0}),n}var tk="compute",rk="auto",bm="manipulation",Lr="none",jn="pan-x",Ln="pan-y",Ds=tV(),rV=/mobile|tablet|ip(ad|hone|od)|android/i,ik="ontouchstart"in Kt,iV=Po(Kt,"PointerEvent")!==void 0,nV=ik&&rV.test(navigator.userAgent),_s="touch",sV="pen",gb="mouse",oV="kinect",aV=25,Qe=1,li=2,Re=4,nt=8,Vs=1,ws=2,Es=4,Ss=8,Mi=16,Ft=ws|Es,zr=Ss|Mi,nk=Ft|zr,sk=["x","y"],Gs=["clientX","clientY"];function Yt(n,e,t){var r;if(n)if(n.forEach)n.forEach(e,t);else if(n.length!==void 0)for(r=0;r<n.length;)e.call(t,n[r],r,n),r++;else for(r in n)n.hasOwnProperty(r)&&e.call(t,n[r],r,n)}function Ro(n,e){return typeof n===eV?n.apply(e&&e[0]||void 0,e):n}function Ar(n,e){return n.indexOf(e)>-1}function uV(n){if(Ar(n,Lr))return Lr;var e=Ar(n,jn),t=Ar(n,Ln);return e&&t?Lr:e||t?e?jn:Ln:Ar(n,bm)?bm:rk}var ok=function(){function n(t,r){this.manager=t,this.set(r)}var e=n.prototype;return e.set=function(r){r===tk&&(r=this.compute()),ek&&this.manager.element.style&&Ds[r]&&(this.manager.element.style[QN]=r),this.actions=r.toLowerCase().trim()},e.update=function(){this.set(this.manager.options.touchAction)},e.compute=function(){var r=[];return Yt(this.manager.recognizers,function(i){Ro(i.options.enable,[i])&&(r=r.concat(i.getTouchAction()))}),uV(r.join(" "))},e.preventDefaults=function(r){var i=r.srcEvent,s=r.offsetDirection;if(this.manager.session.prevented){i.preventDefault();return}var o=this.actions,a=Ar(o,Lr)&&!Ds[Lr],u=Ar(o,Ln)&&!Ds[Ln],l=Ar(o,jn)&&!Ds[jn];if(a){var d=r.pointers.length===1,c=r.distance<2,h=r.deltaTime<250;if(d&&c&&h)return}if(!(l&&u)&&(a||u&&s&Ft||l&&s&zr))return this.preventSrc(i)},e.preventSrc=function(r){this.manager.session.prevented=!0,r.preventDefault()},n}();function yb(n,e){for(;n;){if(n===e)return!0;n=n.parentNode}return!1}function ak(n){var e=n.length;if(e===1)return{x:Si(n[0].clientX),y:Si(n[0].clientY)};for(var t=0,r=0,i=0;i<e;)t+=n[i].clientX,r+=n[i].clientY,i++;return{x:Si(t/e),y:Si(r/e)}}function AC(n){for(var e=[],t=0;t<n.pointers.length;)e[t]={clientX:Si(n.pointers[t].clientX),clientY:Si(n.pointers[t].clientY)},t++;return{timeStamp:pb(),pointers:e,center:ak(e),deltaX:n.deltaX,deltaY:n.deltaY}}function Ks(n,e,t){t||(t=sk);var r=e[t[0]]-n[t[0]],i=e[t[1]]-n[t[1]];return Math.sqrt(r*r+i*i)}function _m(n,e,t){t||(t=sk);var r=e[t[0]]-n[t[0]],i=e[t[1]]-n[t[1]];return Math.atan2(i,r)*180/Math.PI}function uk(n,e){return n===e?Vs:Kr(n)>=Kr(e)?n<0?ws:Es:e<0?Ss:Mi}function lV(n,e){var t=e.center,r=n.offsetDelta||{},i=n.prevDelta||{},s=n.prevInput||{};(e.eventType===Qe||s.eventType===Re)&&(i=n.prevDelta={x:s.deltaX||0,y:s.deltaY||0},r=n.offsetDelta={x:t.x,y:t.y}),e.deltaX=i.x+(t.x-r.x),e.deltaY=i.y+(t.y-r.y)}function lk(n,e,t){return{x:e/n||0,y:t/n||0}}function dV(n,e){return Ks(e[0],e[1],Gs)/Ks(n[0],n[1],Gs)}function cV(n,e){return _m(e[1],e[0],Gs)+_m(n[1],n[0],Gs)}function hV(n,e){var t=n.lastInterval||e,r=e.timeStamp-t.timeStamp,i,s,o,a;if(e.eventType!==nt&&(r>aV||t.velocity===void 0)){var u=e.deltaX-t.deltaX,l=e.deltaY-t.deltaY,d=lk(r,u,l);s=d.x,o=d.y,i=Kr(d.x)>Kr(d.y)?d.x:d.y,a=uk(u,l),n.lastInterval=e}else i=t.velocity,s=t.velocityX,o=t.velocityY,a=t.direction;e.velocity=i,e.velocityX=s,e.velocityY=o,e.direction=a}function fV(n,e){var t=n.session,r=e.pointers,i=r.length;t.firstInput||(t.firstInput=AC(e)),i>1&&!t.firstMultiple?t.firstMultiple=AC(e):i===1&&(t.firstMultiple=!1);var s=t.firstInput,o=t.firstMultiple,a=o?o.center:s.center,u=e.center=ak(r);e.timeStamp=pb(),e.deltaTime=e.timeStamp-s.timeStamp,e.angle=_m(a,u),e.distance=Ks(a,u),lV(t,e),e.offsetDirection=uk(e.deltaX,e.deltaY);var l=lk(e.deltaTime,e.deltaX,e.deltaY);e.overallVelocityX=l.x,e.overallVelocityY=l.y,e.overallVelocity=Kr(l.x)>Kr(l.y)?l.x:l.y,e.scale=o?dV(o.pointers,r):1,e.rotation=o?cV(o.pointers,r):0,e.maxPointers=t.prevInput?e.pointers.length>t.prevInput.maxPointers?e.pointers.length:t.prevInput.maxPointers:e.pointers.length,hV(t,e);var d=n.element,c=e.srcEvent,h;c.composedPath?h=c.composedPath()[0]:c.path?h=c.path[0]:h=c.target,yb(h,d)&&(d=h),e.target=d}function vV(n,e,t){var r=t.pointers.length,i=t.changedPointers.length,s=e&Qe&&r-i===0,o=e&(Re|nt)&&r-i===0;t.isFirst=!!s,t.isFinal=!!o,s&&(n.session={}),t.eventType=e,fV(n,t),n.emit("hammer.input",t),n.recognize(t),n.session.prevInput=t}function zn(n){return n.trim().split(/\s+/g)}function Rn(n,e,t){Yt(zn(e),function(r){n.addEventListener(r,t,!1)})}function qn(n,e,t){Yt(zn(e),function(r){n.removeEventListener(r,t,!1)})}function FC(n){var e=n.ownerDocument||n;return e.defaultView||e.parentWindow||window}var dn=function(){function n(t,r){var i=this;this.manager=t,this.callback=r,this.element=t.element,this.target=t.options.inputTarget,this.domHandler=function(s){Ro(t.options.enable,[t])&&i.handler(s)},this.init()}var e=n.prototype;return e.handler=function(){},e.init=function(){this.evEl&&Rn(this.element,this.evEl,this.domHandler),this.evTarget&&Rn(this.target,this.evTarget,this.domHandler),this.evWin&&Rn(FC(this.element),this.evWin,this.domHandler)},e.destroy=function(){this.evEl&&qn(this.element,this.evEl,this.domHandler),this.evTarget&&qn(this.target,this.evTarget,this.domHandler),this.evWin&&qn(FC(this.element),this.evWin,this.domHandler)},n}();function Yr(n,e,t){if(n.indexOf&&!t)return n.indexOf(e);for(var r=0;r<n.length;){if(t&&n[r][t]==e||!t&&n[r]===e)return r;r++}return-1}var pV={pointerdown:Qe,pointermove:li,pointerup:Re,pointercancel:nt,pointerout:nt},gV={2:_s,3:sV,4:gb,5:oV},dk="pointerdown",ck="pointermove pointerup pointercancel";Kt.MSPointerEvent&&!Kt.PointerEvent&&(dk="MSPointerDown",ck="MSPointerMove MSPointerUp MSPointerCancel");var hk=function(n){bt(e,n);function e(){var r,i=e.prototype;return i.evEl=dk,i.evWin=ck,r=n.apply(this,arguments)||this,r.store=r.manager.session.pointerEvents=[],r}var t=e.prototype;return t.handler=function(i){var s=this.store,o=!1,a=i.type.toLowerCase().replace("ms",""),u=pV[a],l=gV[i.pointerType]||i.pointerType,d=l===_s,c=Yr(s,i.pointerId,"pointerId");u&Qe&&(i.button===0||d)?c<0&&(s.push(i),c=s.length-1):u&(Re|nt)&&(o=!0),!(c<0)&&(s[c]=i,this.callback(this.manager,u,{pointers:s,changedPointers:[i],pointerType:l,srcEvent:i}),o&&s.splice(c,1))},e}(dn);function Wn(n){return Array.prototype.slice.call(n,0)}function mb(n,e,t){for(var r=[],i=[],s=0;s<n.length;){var o=e?n[s][e]:n[s];Yr(i,o)<0&&r.push(n[s]),i[s]=o,s++}return t&&(e?r=r.sort(function(a,u){return a[e]>u[e]}):r=r.sort()),r}var yV={touchstart:Qe,touchmove:li,touchend:Re,touchcancel:nt},mV="touchstart touchmove touchend touchcancel",bb=function(n){bt(e,n);function e(){var r;return e.prototype.evTarget=mV,r=n.apply(this,arguments)||this,r.targetIds={},r}var t=e.prototype;return t.handler=function(i){var s=yV[i.type],o=bV.call(this,i,s);o&&this.callback(this.manager,s,{pointers:o[0],changedPointers:o[1],pointerType:_s,srcEvent:i})},e}(dn);function bV(n,e){var t=Wn(n.touches),r=this.targetIds;if(e&(Qe|li)&&t.length===1)return r[t[0].identifier]=!0,[t,t];var i,s,o=Wn(n.changedTouches),a=[],u=this.target;if(s=t.filter(function(l){return yb(l.target,u)}),e===Qe)for(i=0;i<s.length;)r[s[i].identifier]=!0,i++;for(i=0;i<o.length;)r[o[i].identifier]&&a.push(o[i]),e&(Re|nt)&&delete r[o[i].identifier],i++;if(a.length)return[mb(s.concat(a),"identifier",!0),a]}var _V={mousedown:Qe,mousemove:li,mouseup:Re},wV="mousedown",EV="mousemove mouseup",_b=function(n){bt(e,n);function e(){var r,i=e.prototype;return i.evEl=wV,i.evWin=EV,r=n.apply(this,arguments)||this,r.pressed=!1,r}var t=e.prototype;return t.handler=function(i){var s=_V[i.type];s&Qe&&i.button===0&&(this.pressed=!0),s&li&&i.which!==1&&(s=Re),this.pressed&&(s&Re&&(this.pressed=!1),this.callback(this.manager,s,{pointers:[i],changedPointers:[i],pointerType:gb,srcEvent:i}))},e}(dn),SV=2500,NC=25;function kC(n){var e=n.changedPointers,t=e[0];if(t.identifier===this.primaryTouch){var r={x:t.clientX,y:t.clientY},i=this.lastTouches;this.lastTouches.push(r);var s=function(){var a=i.indexOf(r);a>-1&&i.splice(a,1)};setTimeout(s,SV)}}function OV(n,e){n&Qe?(this.primaryTouch=e.changedPointers[0].identifier,kC.call(this,e)):n&(Re|nt)&&kC.call(this,e)}function IV(n){for(var e=n.srcEvent.clientX,t=n.srcEvent.clientY,r=0;r<this.lastTouches.length;r++){var i=this.lastTouches[r],s=Math.abs(e-i.x),o=Math.abs(t-i.y);if(s<=NC&&o<=NC)return!0}return!1}var fk=function(){var n=function(e){bt(t,e);function t(i,s){var o;return o=e.call(this,i,s)||this,o.handler=function(a,u,l){var d=l.pointerType===_s,c=l.pointerType===gb;if(!(c&&l.sourceCapabilities&&l.sourceCapabilities.firesTouchEvents)){if(d)OV.call(xs(xs(o)),u,l);else if(c&&IV.call(xs(xs(o)),l))return;o.callback(a,u,l)}},o.touch=new bb(o.manager,o.handler),o.mouse=new _b(o.manager,o.handler),o.primaryTouch=null,o.lastTouches=[],o}var r=t.prototype;return r.destroy=function(){this.touch.destroy(),this.mouse.destroy()},t}(dn);return n}();function $V(n){var e,t=n.options.inputClass;return t?e=t:iV?e=hk:nV?e=bb:ik?e=fk:e=_b,new e(n,vV)}function Oi(n,e,t){return Array.isArray(n)?(Yt(n,t[e],t),!0):!1}var Ns=1,vt=2,Ai=4,dr=8,Xt=dr,Hn=16,Dt=32,TV=1;function PV(){return TV++}function Ms(n,e){var t=e.manager;return t?t.get(n):n}function BC(n){return n&Hn?"cancel":n&dr?"end":n&Ai?"move":n&vt?"start":""}var Os=function(){function n(t){t===void 0&&(t={}),this.options=Tt({enable:!0},t),this.id=PV(),this.manager=null,this.state=Ns,this.simultaneous={},this.requireFail=[]}var e=n.prototype;return e.set=function(r){return Gr(this.options,r),this.manager&&this.manager.touchAction.update(),this},e.recognizeWith=function(r){if(Oi(r,"recognizeWith",this))return this;var i=this.simultaneous;return r=Ms(r,this),i[r.id]||(i[r.id]=r,r.recognizeWith(this)),this},e.dropRecognizeWith=function(r){return Oi(r,"dropRecognizeWith",this)?this:(r=Ms(r,this),delete this.simultaneous[r.id],this)},e.requireFailure=function(r){if(Oi(r,"requireFailure",this))return this;var i=this.requireFail;return r=Ms(r,this),Yr(i,r)===-1&&(i.push(r),r.requireFailure(this)),this},e.dropRequireFailure=function(r){if(Oi(r,"dropRequireFailure",this))return this;r=Ms(r,this);var i=Yr(this.requireFail,r);return i>-1&&this.requireFail.splice(i,1),this},e.hasRequireFailures=function(){return this.requireFail.length>0},e.canRecognizeWith=function(r){return!!this.simultaneous[r.id]},e.emit=function(r){var i=this,s=this.state;function o(a){i.manager.emit(a,r)}s<dr&&o(i.options.event+BC(s)),o(i.options.event),r.additionalEvent&&o(r.additionalEvent),s>=dr&&o(i.options.event+BC(s))},e.tryEmit=function(r){if(this.canEmit())return this.emit(r);this.state=Dt},e.canEmit=function(){for(var r=0;r<this.requireFail.length;){if(!(this.requireFail[r].state&(Dt|Ns)))return!1;r++}return!0},e.recognize=function(r){var i=Gr({},r);if(!Ro(this.options.enable,[this,i])){this.reset(),this.state=Dt;return}this.state&(Xt|Hn|Dt)&&(this.state=Ns),this.state=this.process(i),this.state&(vt|Ai|dr|Hn)&&this.tryEmit(i)},e.process=function(r){},e.getTouchAction=function(){},e.reset=function(){},n}(),wm=function(n){bt(e,n);function e(r){var i;return r===void 0&&(r={}),i=n.call(this,Tt({event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},r))||this,i.pTime=!1,i.pCenter=!1,i._timer=null,i._input=null,i.count=0,i}var t=e.prototype;return t.getTouchAction=function(){return[bm]},t.process=function(i){var s=this,o=this.options,a=i.pointers.length===o.pointers,u=i.distance<o.threshold,l=i.deltaTime<o.time;if(this.reset(),i.eventType&Qe&&this.count===0)return this.failTimeout();if(u&&l&&a){if(i.eventType!==Re)return this.failTimeout();var d=this.pTime?i.timeStamp-this.pTime<o.interval:!0,c=!this.pCenter||Ks(this.pCenter,i.center)<o.posThreshold;this.pTime=i.timeStamp,this.pCenter=i.center,!c||!d?this.count=1:this.count+=1,this._input=i;var h=this.count%o.taps;if(h===0)return this.hasRequireFailures()?(this._timer=setTimeout(function(){s.state=Xt,s.tryEmit()},o.interval),vt):Xt}return Dt},t.failTimeout=function(){var i=this;return this._timer=setTimeout(function(){i.state=Dt},this.options.interval),Dt},t.reset=function(){clearTimeout(this._timer)},t.emit=function(){this.state===Xt&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))},e}(Os),Fi=function(n){bt(e,n);function e(r){return r===void 0&&(r={}),n.call(this,Tt({pointers:1},r))||this}var t=e.prototype;return t.attrTest=function(i){var s=this.options.pointers;return s===0||i.pointers.length===s},t.process=function(i){var s=this.state,o=i.eventType,a=s&(vt|Ai),u=this.attrTest(i);return a&&(o&nt||!u)?s|Hn:a||u?o&Re?s|dr:s&vt?s|Ai:vt:Dt},e}(Os);function vk(n){return n===Mi?"down":n===Ss?"up":n===ws?"left":n===Es?"right":""}var wb=function(n){bt(e,n);function e(r){var i;return r===void 0&&(r={}),i=n.call(this,Tt({event:"pan",threshold:10,pointers:1,direction:nk},r))||this,i.pX=null,i.pY=null,i}var t=e.prototype;return t.getTouchAction=function(){var i=this.options.direction,s=[];return i&Ft&&s.push(Ln),i&zr&&s.push(jn),s},t.directionTest=function(i){var s=this.options,o=!0,a=i.distance,u=i.direction,l=i.deltaX,d=i.deltaY;return u&s.direction||(s.direction&Ft?(u=l===0?Vs:l<0?ws:Es,o=l!==this.pX,a=Math.abs(i.deltaX)):(u=d===0?Vs:d<0?Ss:Mi,o=d!==this.pY,a=Math.abs(i.deltaY))),i.direction=u,o&&a>s.threshold&&u&s.direction},t.attrTest=function(i){return Fi.prototype.attrTest.call(this,i)&&(this.state&vt||!(this.state&vt)&&this.directionTest(i))},t.emit=function(i){this.pX=i.deltaX,this.pY=i.deltaY;var s=vk(i.direction);s&&(i.additionalEvent=this.options.event+s),n.prototype.emit.call(this,i)},e}(Fi),pk=function(n){bt(e,n);function e(r){return r===void 0&&(r={}),n.call(this,Tt({event:"swipe",threshold:10,velocity:.3,direction:Ft|zr,pointers:1},r))||this}var t=e.prototype;return t.getTouchAction=function(){return wb.prototype.getTouchAction.call(this)},t.attrTest=function(i){var s=this.options.direction,o;return s&(Ft|zr)?o=i.overallVelocity:s&Ft?o=i.overallVelocityX:s&zr&&(o=i.overallVelocityY),n.prototype.attrTest.call(this,i)&&s&i.offsetDirection&&i.distance>this.options.threshold&&i.maxPointers===this.options.pointers&&Kr(o)>this.options.velocity&&i.eventType&Re},t.emit=function(i){var s=vk(i.offsetDirection);s&&this.manager.emit(this.options.event+s,i),this.manager.emit(this.options.event,i)},e}(Fi),gk=function(n){bt(e,n);function e(r){return r===void 0&&(r={}),n.call(this,Tt({event:"pinch",threshold:0,pointers:2},r))||this}var t=e.prototype;return t.getTouchAction=function(){return[Lr]},t.attrTest=function(i){return n.prototype.attrTest.call(this,i)&&(Math.abs(i.scale-1)>this.options.threshold||this.state&vt)},t.emit=function(i){if(i.scale!==1){var s=i.scale<1?"in":"out";i.additionalEvent=this.options.event+s}n.prototype.emit.call(this,i)},e}(Fi),yk=function(n){bt(e,n);function e(r){return r===void 0&&(r={}),n.call(this,Tt({event:"rotate",threshold:0,pointers:2},r))||this}var t=e.prototype;return t.getTouchAction=function(){return[Lr]},t.attrTest=function(i){return n.prototype.attrTest.call(this,i)&&(Math.abs(i.rotation)>this.options.threshold||this.state&vt)},e}(Fi),mk=function(n){bt(e,n);function e(r){var i;return r===void 0&&(r={}),i=n.call(this,Tt({event:"press",pointers:1,time:251,threshold:9},r))||this,i._timer=null,i._input=null,i}var t=e.prototype;return t.getTouchAction=function(){return[rk]},t.process=function(i){var s=this,o=this.options,a=i.pointers.length===o.pointers,u=i.distance<o.threshold,l=i.deltaTime>o.time;if(this._input=i,!u||!a||i.eventType&(Re|nt)&&!l)this.reset();else if(i.eventType&Qe)this.reset(),this._timer=setTimeout(function(){s.state=Xt,s.tryEmit()},o.time);else if(i.eventType&Re)return Xt;return Dt},t.reset=function(){clearTimeout(this._timer)},t.emit=function(i){this.state===Xt&&(i&&i.eventType&Re?this.manager.emit(this.options.event+"up",i):(this._input.timeStamp=pb(),this.manager.emit(this.options.event,this._input)))},e}(Os),bk={domEvents:!1,touchAction:tk,enable:!0,inputTarget:null,inputClass:null,cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}},jC=[[yk,{enable:!1}],[gk,{enable:!1},["rotate"]],[pk,{direction:Ft}],[wb,{direction:Ft},["swipe"]],[wm],[wm,{event:"doubletap",taps:2},["tap"]],[mk]],RV=1,LC=2;function zC(n,e){var t=n.element;if(t.style){var r;Yt(n.options.cssProps,function(i,s){r=Po(t.style,s),e?(n.oldCssProps[r]=t.style[r],t.style[r]=i):t.style[r]=n.oldCssProps[r]||""}),e||(n.oldCssProps={})}}function qV(n,e){var t=document.createEvent("Event");t.initEvent(n,!0,!0),t.gesture=e,e.target.dispatchEvent(t)}var WC=function(){function n(t,r){var i=this;this.options=Gr({},bk,r||{}),this.options.inputTarget=this.options.inputTarget||t,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=t,this.input=$V(this),this.touchAction=new ok(this,this.options.touchAction),zC(this,!0),Yt(this.options.recognizers,function(s){var o=i.add(new s[0](s[1]));s[2]&&o.recognizeWith(s[2]),s[3]&&o.requireFailure(s[3])},this)}var e=n.prototype;return e.set=function(r){return Gr(this.options,r),r.touchAction&&this.touchAction.update(),r.inputTarget&&(this.input.destroy(),this.input.target=r.inputTarget,this.input.init()),this},e.stop=function(r){this.session.stopped=r?LC:RV},e.recognize=function(r){var i=this.session;if(!i.stopped){this.touchAction.preventDefaults(r);var s,o=this.recognizers,a=i.curRecognizer;(!a||a&&a.state&Xt)&&(i.curRecognizer=null,a=null);for(var u=0;u<o.length;)s=o[u],i.stopped!==LC&&(!a||s===a||s.canRecognizeWith(a))?s.recognize(r):s.reset(),!a&&s.state&(vt|Ai|dr)&&(i.curRecognizer=s,a=s),u++}},e.get=function(r){if(r instanceof Os)return r;for(var i=this.recognizers,s=0;s<i.length;s++)if(i[s].options.event===r)return i[s];return null},e.add=function(r){if(Oi(r,"add",this))return this;var i=this.get(r.options.event);return i&&this.remove(i),this.recognizers.push(r),r.manager=this,this.touchAction.update(),r},e.remove=function(r){if(Oi(r,"remove",this))return this;var i=this.get(r);if(r){var s=this.recognizers,o=Yr(s,i);o!==-1&&(s.splice(o,1),this.touchAction.update())}return this},e.on=function(r,i){if(r===void 0||i===void 0)return this;var s=this.handlers;return Yt(zn(r),function(o){s[o]=s[o]||[],s[o].push(i)}),this},e.off=function(r,i){if(r===void 0)return this;var s=this.handlers;return Yt(zn(r),function(o){i?s[o]&&s[o].splice(Yr(s[o],i),1):delete s[o]}),this},e.emit=function(r,i){this.options.domEvents&&qV(r,i);var s=this.handlers[r]&&this.handlers[r].slice();if(!(!s||!s.length)){i.type=r,i.preventDefault=function(){i.srcEvent.preventDefault()};for(var o=0;o<s.length;)s[o](i),o++}},e.destroy=function(){this.element&&zC(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null},n}(),CV={touchstart:Qe,touchmove:li,touchend:Re,touchcancel:nt},xV="touchstart",DV="touchstart touchmove touchend touchcancel",MV=function(n){bt(e,n);function e(){var r,i=e.prototype;return i.evTarget=xV,i.evWin=DV,r=n.apply(this,arguments)||this,r.started=!1,r}var t=e.prototype;return t.handler=function(i){var s=CV[i.type];if(s===Qe&&(this.started=!0),!!this.started){var o=AV.call(this,i,s);s&(Re|nt)&&o[0].length-o[1].length===0&&(this.started=!1),this.callback(this.manager,s,{pointers:o[0],changedPointers:o[1],pointerType:_s,srcEvent:i})}},e}(dn);function AV(n,e){var t=Wn(n.touches),r=Wn(n.changedTouches);return e&(Re|nt)&&(t=mb(t.concat(r),"identifier",!0)),[t,r]}function _k(n,e,t){var r="DEPRECATED METHOD: "+e+`
`+t+` AT 
`;return function(){var i=new Error("get-stack-trace"),s=i&&i.stack?i.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",o=window.console&&(window.console.warn||window.console.log);return o&&o.call(window.console,r,s),n.apply(this,arguments)}}var wk=_k(function(n,e,t){for(var r=Object.keys(e),i=0;i<r.length;)(!t||t&&n[r[i]]===void 0)&&(n[r[i]]=e[r[i]]),i++;return n},"extend","Use `assign`."),FV=_k(function(n,e){return wk(n,e,!0)},"merge","Use `assign`.");function NV(n,e,t){var r=e.prototype,i;i=n.prototype=Object.create(r),i.constructor=n,i._super=r,t&&Gr(i,t)}function HC(n,e){return function(){return n.apply(e,arguments)}}var Ek=function(){var n=function(t,r){return r===void 0&&(r={}),new WC(t,Tt({recognizers:jC.concat()},r))};return n.VERSION="2.0.17-rc",n.DIRECTION_ALL=nk,n.DIRECTION_DOWN=Mi,n.DIRECTION_LEFT=ws,n.DIRECTION_RIGHT=Es,n.DIRECTION_UP=Ss,n.DIRECTION_HORIZONTAL=Ft,n.DIRECTION_VERTICAL=zr,n.DIRECTION_NONE=Vs,n.DIRECTION_DOWN=Mi,n.INPUT_START=Qe,n.INPUT_MOVE=li,n.INPUT_END=Re,n.INPUT_CANCEL=nt,n.STATE_POSSIBLE=Ns,n.STATE_BEGAN=vt,n.STATE_CHANGED=Ai,n.STATE_ENDED=dr,n.STATE_RECOGNIZED=Xt,n.STATE_CANCELLED=Hn,n.STATE_FAILED=Dt,n.Manager=WC,n.Input=dn,n.TouchAction=ok,n.TouchInput=bb,n.MouseInput=_b,n.PointerEventInput=hk,n.TouchMouseInput=fk,n.SingleTouchInput=MV,n.Recognizer=Os,n.AttrRecognizer=Fi,n.Tap=wm,n.Pan=wb,n.Swipe=pk,n.Pinch=gk,n.Rotate=yk,n.Press=mk,n.on=Rn,n.off=qn,n.each=Yt,n.merge=FV,n.extend=wk,n.bindFn=HC,n.assign=Gr,n.inherit=NV,n.bindFn=HC,n.prefixed=Po,n.toArray=Wn,n.inArray=Yr,n.uniqueArray=mb,n.splitStr=zn,n.boolOrFn=Ro,n.hasParent=yb,n.addEventListeners=Rn,n.removeEventListeners=qn,n.defaults=Gr({},bk,{preset:jC}),n}();Ek.defaults;B3("DELETE");function qo(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];return kV(e.length?e:[Us()])}function kV(n){let[e,t,r]=BV(n),i=1;const s=()=>{const o=2091639*e+i*23283064365386963e-26;return e=t,t=r,r=o-(i=o|0)};return s.uint32=()=>s()*4294967296,s.fract53=()=>s()+(s()*2097152|0)*11102230246251565e-32,s.algorithm="Alea",s.seed=n,s.version="0.9",s}function BV(){const n=jV();let e=n(" "),t=n(" "),r=n(" ");for(let i=0;i<arguments.length;i++)e-=n(i<0||arguments.length<=i?void 0:arguments[i]),e<0&&(e+=1),t-=n(i<0||arguments.length<=i?void 0:arguments[i]),t<0&&(t+=1),r-=n(i<0||arguments.length<=i?void 0:arguments[i]),r<0&&(r+=1);return[e,t,r]}function jV(){let n=4022871197;return function(e){const t=e.toString();for(let r=0;r<t.length;r++){n+=t.charCodeAt(r);let i=.02519603282416938*n;n=i>>>0,i-=n,i*=n,n=i>>>0,i-=n,n+=i*4294967296}return(n>>>0)*23283064365386963e-26}}function LV(){const n=()=>{};return{on:n,off:n,destroy:n,emit:n,get(){return{set:n}}}}const Eb=typeof window<"u"?window.Hammer||Ek:function(){return LV()};function Mt(n){var e;this._cleanupQueue=[],this.active=!1,this._dom={container:n,overlay:document.createElement("div")},this._dom.overlay.classList.add("vis-overlay"),this._dom.container.appendChild(this._dom.overlay),this._cleanupQueue.push(()=>{this._dom.overlay.parentNode.removeChild(this._dom.overlay)});const t=Eb(this._dom.overlay);t.on("tap",D(e=this._onTapOverlay).call(e,this)),this._cleanupQueue.push(()=>{t.destroy()});const r=["tap","doubletap","press","pinch","pan","panstart","panmove","panend"];de(r).call(r,i=>{t.on(i,s=>{s.srcEvent.stopPropagation()})}),document&&document.body&&(this._onClick=i=>{zV(i.target,n)||this.deactivate()},document.body.addEventListener("click",this._onClick),this._cleanupQueue.push(()=>{document.body.removeEventListener("click",this._onClick)})),this._escListener=i=>{("key"in i?i.key==="Escape":i.keyCode===27)&&this.deactivate()}}xN(Mt.prototype);Mt.current=null;Mt.prototype.destroy=function(){this.deactivate();for(const t of Br(n=Vt(e=this._cleanupQueue).call(e,0)).call(n)){var n,e;t()}};Mt.prototype.activate=function(){Mt.current&&Mt.current.deactivate(),Mt.current=this,this.active=!0,this._dom.overlay.style.display="none",this._dom.container.classList.add("vis-active"),this.emit("change"),this.emit("activate"),document.body.addEventListener("keydown",this._escListener)};Mt.prototype.deactivate=function(){this.active=!1,this._dom.overlay.style.display="block",this._dom.container.classList.remove("vis-active"),document.body.removeEventListener("keydown",this._escListener),this.emit("change"),this.emit("deactivate")};Mt.prototype._onTapOverlay=function(n){this.activate(),n.srcEvent.stopPropagation()};function zV(n,e){for(;n;){if(n===e)return!0;n=n.parentNode}return!1}const WV=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i,HV=/^#?([a-f\d])([a-f\d])([a-f\d])$/i,UV=/^rgb\( *(1?\d{1,2}|2[0-4]\d|25[0-5]) *, *(1?\d{1,2}|2[0-4]\d|25[0-5]) *, *(1?\d{1,2}|2[0-4]\d|25[0-5]) *\)$/i,VV=/^rgba\( *(1?\d{1,2}|2[0-4]\d|25[0-5]) *, *(1?\d{1,2}|2[0-4]\d|25[0-5]) *, *(1?\d{1,2}|2[0-4]\d|25[0-5]) *, *([01]|0?\.\d+) *\)$/i;function ir(n){if(n)for(;n.hasChildNodes()===!0;){const e=n.firstChild;e&&(ir(e),n.removeChild(e))}}function Ii(n){return n instanceof String||typeof n=="string"}function UC(n){return typeof n=="object"&&n!==null}function Xr(n,e,t,r){let i=!1;r===!0&&(i=e[t]===null&&n[t]!==void 0),i?delete n[t]:n[t]=e[t]}function Sk(n,e){let t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;for(const r in n)if(e[r]!==void 0)if(e[r]===null||typeof e[r]!="object")Xr(n,e,r,t);else{const i=n[r],s=e[r];UC(i)&&UC(s)&&Sk(i,s,t)}}function cn(n,e,t){let r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(Oe(t))throw new TypeError("Arrays are not supported by deepExtend");for(let i=0;i<n.length;i++){const s=n[i];if(Object.prototype.hasOwnProperty.call(t,s))if(t[s]&&t[s].constructor===Object)e[s]===void 0&&(e[s]={}),e[s].constructor===Object?fe(e[s],t[s],!1,r):Xr(e,t,s,r);else{if(Oe(t[s]))throw new TypeError("Arrays are not supported by deepExtend");Xr(e,t,s,r)}}return e}function Ys(n,e,t){let r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(Oe(t))throw new TypeError("Arrays are not supported by deepExtend");for(const i in t)if(Object.prototype.hasOwnProperty.call(t,i)&&!lr(n).call(n,i))if(t[i]&&t[i].constructor===Object)e[i]===void 0&&(e[i]={}),e[i].constructor===Object?fe(e[i],t[i]):Xr(e,t,i,r);else if(Oe(t[i])){e[i]=[];for(let s=0;s<t[i].length;s++)e[i].push(t[i][s])}else Xr(e,t,i,r);return e}function fe(n,e){let t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;for(const s in e)if(Object.prototype.hasOwnProperty.call(e,s)||t===!0)if(typeof e[s]=="object"&&e[s]!==null&&$q(e[s])===Object.prototype)n[s]===void 0?n[s]=fe({},e[s],t):typeof n[s]=="object"&&n[s]!==null&&$q(n[s])===Object.prototype?fe(n[s],e[s],t):Xr(n,e,s,r);else if(Oe(e[s])){var i;n[s]=Ct(i=e[s]).call(i)}else Xr(n,e,s,r);return n}function Xs(n,e){return[...n,e]}function GV(n){return Ct(n).call(n)}function KV(n){return n.getBoundingClientRect().left}function YV(n){return n.getBoundingClientRect().top}function J(n,e){if(Oe(n)){const t=n.length;for(let r=0;r<t;r++)e(n[r],r,n)}else for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(n[t],t,n)}function Sb(n){let e;switch(n.length){case 3:case 4:return e=HV.exec(n),e?{r:It(e[1]+e[1],16),g:It(e[2]+e[2],16),b:It(e[3]+e[3],16)}:null;case 6:case 7:return e=WV.exec(n),e?{r:It(e[1],16),g:It(e[2],16),b:It(e[3],16)}:null;default:return null}}function ht(n,e){if(lr(n).call(n,"rgba"))return n;if(lr(n).call(n,"rgb")){const t=n.substr(se(n).call(n,"(")+1).replace(")","").split(",");return"rgba("+t[0]+","+t[1]+","+t[2]+","+e+")"}else{const t=Sb(n);return t==null?n:"rgba("+t.r+","+t.g+","+t.b+","+e+")"}}function Ok(n,e,t){var r;return"#"+Ct(r=((1<<24)+(n<<16)+(e<<8)+t).toString(16)).call(r,1)}function Em(n,e){if(Ii(n)){let r=n;if($k(r)){var t;const i=Di(t=r.substr(4).substr(0,r.length-5).split(",")).call(t,function(s){return It(s)});r=Ok(i[0],i[1],i[2])}if(Ik(r)===!0){const i=XV(r),s={h:i.h,s:i.s*.8,v:Math.min(1,i.v*1.02)},o={h:i.h,s:Math.min(1,i.s*1.25),v:i.v*.8},a=Sm(o.h,o.s,o.v),u=Sm(s.h,s.s,s.v);return{background:r,border:a,highlight:{background:u,border:a},hover:{background:u,border:a}}}else return{background:r,border:r,highlight:{background:r,border:r},hover:{background:r,border:r}}}else return{background:n.background||void 0,border:n.border||void 0,highlight:Ii(n.highlight)?{border:n.highlight,background:n.highlight}:{background:n.highlight&&n.highlight.background||void 0,border:n.highlight&&n.highlight.border||void 0},hover:Ii(n.hover)?{border:n.hover,background:n.hover}:{border:n.hover&&n.hover.border||void 0,background:n.hover&&n.hover.background||void 0}}}function In(n,e,t){n=n/255,e=e/255,t=t/255;const r=Math.min(n,Math.min(e,t)),i=Math.max(n,Math.max(e,t));if(r===i)return{h:0,s:0,v:r};const s=n===r?e-t:t===r?n-e:t-n,a=60*((n===r?3:t===r?1:5)-s/(i-r))/360,u=(i-r)/i;return{h:a,s:u,v:i}}function ks(n,e,t){let r,i,s;const o=Math.floor(n*6),a=n*6-o,u=t*(1-e),l=t*(1-a*e),d=t*(1-(1-a)*e);switch(o%6){case 0:r=t,i=d,s=u;break;case 1:r=l,i=t,s=u;break;case 2:r=u,i=t,s=d;break;case 3:r=u,i=l,s=t;break;case 4:r=d,i=u,s=t;break;case 5:r=t,i=u,s=l;break}return{r:Math.floor(r*255),g:Math.floor(i*255),b:Math.floor(s*255)}}function Sm(n,e,t){const r=ks(n,e,t);return Ok(r.r,r.g,r.b)}function XV(n){const e=Sb(n);if(!e)throw new TypeError("'".concat(n,"' is not a valid color."));return In(e.r,e.g,e.b)}function Ik(n){return/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i.test(n)}function $k(n){return UV.test(n)}function ZV(n){return VV.test(n)}function cr(n){if(n===null||typeof n!="object")return null;if(n instanceof Element)return n;const e=jr(n);for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&typeof n[t]=="object"&&(e[t]=cr(n[t]));return e}function ct(n,e,t){let r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};const i=function(f){return f!=null},s=function(f){return f!==null&&typeof f=="object"},o=function(f){for(const v in f)if(Object.prototype.hasOwnProperty.call(f,v))return!1;return!0};if(!s(n))throw new Error("Parameter mergeTarget must be an object");if(!s(e))throw new Error("Parameter options must be an object");if(!i(t))throw new Error("Parameter option must have a value");if(!s(r))throw new Error("Parameter globalOptions must be an object");const a=function(f,v,p){s(f[p])||(f[p]={});const m=v[p],y=f[p];for(const g in m)Object.prototype.hasOwnProperty.call(m,g)&&(y[g]=m[g])},u=e[t],d=s(r)&&!o(r)?r[t]:void 0,c=d?d.enabled:void 0;if(u===void 0)return;if(typeof u=="boolean"){s(n[t])||(n[t]={}),n[t].enabled=u;return}if(u===null&&!s(n[t]))if(i(d))n[t]=jr(d);else return;if(!s(u))return;let h=!0;u.enabled!==void 0?h=u.enabled:c!==void 0&&(h=d.enabled),a(n,e,t),n[t].enabled=h}const JV={linear(n){return n},easeInQuad(n){return n*n},easeOutQuad(n){return n*(2-n)},easeInOutQuad(n){return n<.5?2*n*n:-1+(4-2*n)*n},easeInCubic(n){return n*n*n},easeOutCubic(n){return--n*n*n+1},easeInOutCubic(n){return n<.5?4*n*n*n:(n-1)*(2*n-2)*(2*n-2)+1},easeInQuart(n){return n*n*n*n},easeOutQuart(n){return 1- --n*n*n*n},easeInOutQuart(n){return n<.5?8*n*n*n*n:1-8*--n*n*n*n},easeInQuint(n){return n*n*n*n*n},easeOutQuint(n){return 1+--n*n*n*n*n},easeInOutQuint(n){return n<.5?16*n*n*n*n*n:1+16*--n*n*n*n*n}};function nr(n,e){let t;Oe(e)||(e=[e]);for(const r of n)if(r){t=r[e[0]];for(let i=1;i<e.length;i++)t&&(t=t[e[i]]);if(typeof t<"u")break}return t}const QV={black:"#000000",navy:"#000080",darkblue:"#00008B",mediumblue:"#0000CD",blue:"#0000FF",darkgreen:"#006400",green:"#008000",teal:"#008080",darkcyan:"#008B8B",deepskyblue:"#00BFFF",darkturquoise:"#00CED1",mediumspringgreen:"#00FA9A",lime:"#00FF00",springgreen:"#00FF7F",aqua:"#00FFFF",cyan:"#00FFFF",midnightblue:"#191970",dodgerblue:"#1E90FF",lightseagreen:"#20B2AA",forestgreen:"#228B22",seagreen:"#2E8B57",darkslategray:"#2F4F4F",limegreen:"#32CD32",mediumseagreen:"#3CB371",turquoise:"#40E0D0",royalblue:"#4169E1",steelblue:"#4682B4",darkslateblue:"#483D8B",mediumturquoise:"#48D1CC",indigo:"#4B0082",darkolivegreen:"#556B2F",cadetblue:"#5F9EA0",cornflowerblue:"#6495ED",mediumaquamarine:"#66CDAA",dimgray:"#696969",slateblue:"#6A5ACD",olivedrab:"#6B8E23",slategray:"#708090",lightslategray:"#778899",mediumslateblue:"#7B68EE",lawngreen:"#7CFC00",chartreuse:"#7FFF00",aquamarine:"#7FFFD4",maroon:"#800000",purple:"#800080",olive:"#808000",gray:"#808080",skyblue:"#87CEEB",lightskyblue:"#87CEFA",blueviolet:"#8A2BE2",darkred:"#8B0000",darkmagenta:"#8B008B",saddlebrown:"#8B4513",darkseagreen:"#8FBC8F",lightgreen:"#90EE90",mediumpurple:"#9370D8",darkviolet:"#9400D3",palegreen:"#98FB98",darkorchid:"#9932CC",yellowgreen:"#9ACD32",sienna:"#A0522D",brown:"#A52A2A",darkgray:"#A9A9A9",lightblue:"#ADD8E6",greenyellow:"#ADFF2F",paleturquoise:"#AFEEEE",lightsteelblue:"#B0C4DE",powderblue:"#B0E0E6",firebrick:"#B22222",darkgoldenrod:"#B8860B",mediumorchid:"#BA55D3",rosybrown:"#BC8F8F",darkkhaki:"#BDB76B",silver:"#C0C0C0",mediumvioletred:"#C71585",indianred:"#CD5C5C",peru:"#CD853F",chocolate:"#D2691E",tan:"#D2B48C",lightgrey:"#D3D3D3",palevioletred:"#D87093",thistle:"#D8BFD8",orchid:"#DA70D6",goldenrod:"#DAA520",crimson:"#DC143C",gainsboro:"#DCDCDC",plum:"#DDA0DD",burlywood:"#DEB887",lightcyan:"#E0FFFF",lavender:"#E6E6FA",darksalmon:"#E9967A",violet:"#EE82EE",palegoldenrod:"#EEE8AA",lightcoral:"#F08080",khaki:"#F0E68C",aliceblue:"#F0F8FF",honeydew:"#F0FFF0",azure:"#F0FFFF",sandybrown:"#F4A460",wheat:"#F5DEB3",beige:"#F5F5DC",whitesmoke:"#F5F5F5",mintcream:"#F5FFFA",ghostwhite:"#F8F8FF",salmon:"#FA8072",antiquewhite:"#FAEBD7",linen:"#FAF0E6",lightgoldenrodyellow:"#FAFAD2",oldlace:"#FDF5E6",red:"#FF0000",fuchsia:"#FF00FF",magenta:"#FF00FF",deeppink:"#FF1493",orangered:"#FF4500",tomato:"#FF6347",hotpink:"#FF69B4",coral:"#FF7F50",darkorange:"#FF8C00",lightsalmon:"#FFA07A",orange:"#FFA500",lightpink:"#FFB6C1",pink:"#FFC0CB",gold:"#FFD700",peachpuff:"#FFDAB9",navajowhite:"#FFDEAD",moccasin:"#FFE4B5",bisque:"#FFE4C4",mistyrose:"#FFE4E1",blanchedalmond:"#FFEBCD",papayawhip:"#FFEFD5",lavenderblush:"#FFF0F5",seashell:"#FFF5EE",cornsilk:"#FFF8DC",lemonchiffon:"#FFFACD",floralwhite:"#FFFAF0",snow:"#FFFAFA",yellow:"#FFFF00",lightyellow:"#FFFFE0",ivory:"#FFFFF0",white:"#FFFFFF"};let eG=class{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1;this.pixelRatio=e,this.generated=!1,this.centerCoordinates={x:289/2,y:289/2},this.r=289*.49,this.color={r:255,g:255,b:255,a:1},this.hueCircle=void 0,this.initialColor={r:255,g:255,b:255,a:1},this.previousColor=void 0,this.applied=!1,this.updateCallback=()=>{},this.closeCallback=()=>{},this._create()}insertTo(e){this.hammer!==void 0&&(this.hammer.destroy(),this.hammer=void 0),this.container=e,this.container.appendChild(this.frame),this._bindHammer(),this._setSize()}setUpdateCallback(e){if(typeof e=="function")this.updateCallback=e;else throw new Error("Function attempted to set as colorPicker update callback is not a function.")}setCloseCallback(e){if(typeof e=="function")this.closeCallback=e;else throw new Error("Function attempted to set as colorPicker closing callback is not a function.")}_isColorString(e){if(typeof e=="string")return QV[e]}setColor(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(e==="none")return;let r;const i=this._isColorString(e);if(i!==void 0&&(e=i),Ii(e)===!0){if($k(e)===!0){const s=e.substr(4).substr(0,e.length-5).split(",");r={r:s[0],g:s[1],b:s[2],a:1}}else if(ZV(e)===!0){const s=e.substr(5).substr(0,e.length-6).split(",");r={r:s[0],g:s[1],b:s[2],a:s[3]}}else if(Ik(e)===!0){const s=Sb(e);r={r:s.r,g:s.g,b:s.b,a:1}}}else if(e instanceof Object&&e.r!==void 0&&e.g!==void 0&&e.b!==void 0){const s=e.a!==void 0?e.a:"1.0";r={r:e.r,g:e.g,b:e.b,a:s}}if(r===void 0)throw new Error("Unknown color passed to the colorPicker. Supported are strings: rgb, hex, rgba. Object: rgb ({r:r,g:g,b:b,[a:a]}). Supplied: "+ms(e));this._setColor(r,t)}show(){this.closeCallback!==void 0&&(this.closeCallback(),this.closeCallback=void 0),this.applied=!1,this.frame.style.display="block",this._generateHueCircle()}_hide(){(arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0)===!0&&(this.previousColor=Pe({},this.color)),this.applied===!0&&this.updateCallback(this.initialColor),this.frame.style.display="none",Gt(()=>{this.closeCallback!==void 0&&(this.closeCallback(),this.closeCallback=void 0)},0)}_save(){this.updateCallback(this.color),this.applied=!1,this._hide()}_apply(){this.applied=!0,this.updateCallback(this.color),this._updatePicker(this.color)}_loadLast(){this.previousColor!==void 0?this.setColor(this.previousColor,!1):alert("There is no last color to load...")}_setColor(e){(arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0)===!0&&(this.initialColor=Pe({},e)),this.color=e;const r=In(e.r,e.g,e.b),i=2*Math.PI,s=this.r*r.s,o=this.centerCoordinates.x+s*Math.sin(i*r.h),a=this.centerCoordinates.y+s*Math.cos(i*r.h);this.colorPickerSelector.style.left=o-.5*this.colorPickerSelector.clientWidth+"px",this.colorPickerSelector.style.top=a-.5*this.colorPickerSelector.clientHeight+"px",this._updatePicker(e)}_setOpacity(e){this.color.a=e/100,this._updatePicker(this.color)}_setBrightness(e){const t=In(this.color.r,this.color.g,this.color.b);t.v=e/100;const r=ks(t.h,t.s,t.v);r.a=this.color.a,this.color=r,this._updatePicker()}_updatePicker(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.color;const t=In(e.r,e.g,e.b),r=this.colorPickerCanvas.getContext("2d");this.pixelRation===void 0&&(this.pixelRatio=(window.devicePixelRatio||1)/(r.webkitBackingStorePixelRatio||r.mozBackingStorePixelRatio||r.msBackingStorePixelRatio||r.oBackingStorePixelRatio||r.backingStorePixelRatio||1)),r.setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0);const i=this.colorPickerCanvas.clientWidth,s=this.colorPickerCanvas.clientHeight;r.clearRect(0,0,i,s),r.putImageData(this.hueCircle,0,0),r.fillStyle="rgba(0,0,0,"+(1-t.v)+")",r.circle(this.centerCoordinates.x,this.centerCoordinates.y,this.r),bs(r).call(r),this.brightnessRange.value=100*t.v,this.opacityRange.value=100*e.a,this.initialColorDiv.style.backgroundColor="rgba("+this.initialColor.r+","+this.initialColor.g+","+this.initialColor.b+","+this.initialColor.a+")",this.newColorDiv.style.backgroundColor="rgba("+this.color.r+","+this.color.g+","+this.color.b+","+this.color.a+")"}_setSize(){this.colorPickerCanvas.style.width="100%",this.colorPickerCanvas.style.height="100%",this.colorPickerCanvas.width=289*this.pixelRatio,this.colorPickerCanvas.height=289*this.pixelRatio}_create(){var e,t,r,i;if(this.frame=document.createElement("div"),this.frame.className="vis-color-picker",this.colorPickerDiv=document.createElement("div"),this.colorPickerSelector=document.createElement("div"),this.colorPickerSelector.className="vis-selector",this.colorPickerDiv.appendChild(this.colorPickerSelector),this.colorPickerCanvas=document.createElement("canvas"),this.colorPickerDiv.appendChild(this.colorPickerCanvas),this.colorPickerCanvas.getContext){const o=this.colorPickerCanvas.getContext("2d");this.pixelRatio=(window.devicePixelRatio||1)/(o.webkitBackingStorePixelRatio||o.mozBackingStorePixelRatio||o.msBackingStorePixelRatio||o.oBackingStorePixelRatio||o.backingStorePixelRatio||1),this.colorPickerCanvas.getContext("2d").setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0)}else{const o=document.createElement("DIV");o.style.color="red",o.style.fontWeight="bold",o.style.padding="10px",o.innerText="Error: your browser does not support HTML canvas",this.colorPickerCanvas.appendChild(o)}this.colorPickerDiv.className="vis-color",this.opacityDiv=document.createElement("div"),this.opacityDiv.className="vis-opacity",this.brightnessDiv=document.createElement("div"),this.brightnessDiv.className="vis-brightness",this.arrowDiv=document.createElement("div"),this.arrowDiv.className="vis-arrow",this.opacityRange=document.createElement("input");try{this.opacityRange.type="range",this.opacityRange.min="0",this.opacityRange.max="100"}catch{}this.opacityRange.value="100",this.opacityRange.className="vis-range",this.brightnessRange=document.createElement("input");try{this.brightnessRange.type="range",this.brightnessRange.min="0",this.brightnessRange.max="100"}catch{}this.brightnessRange.value="100",this.brightnessRange.className="vis-range",this.opacityDiv.appendChild(this.opacityRange),this.brightnessDiv.appendChild(this.brightnessRange);const s=this;this.opacityRange.onchange=function(){s._setOpacity(this.value)},this.opacityRange.oninput=function(){s._setOpacity(this.value)},this.brightnessRange.onchange=function(){s._setBrightness(this.value)},this.brightnessRange.oninput=function(){s._setBrightness(this.value)},this.brightnessLabel=document.createElement("div"),this.brightnessLabel.className="vis-label vis-brightness",this.brightnessLabel.innerText="brightness:",this.opacityLabel=document.createElement("div"),this.opacityLabel.className="vis-label vis-opacity",this.opacityLabel.innerText="opacity:",this.newColorDiv=document.createElement("div"),this.newColorDiv.className="vis-new-color",this.newColorDiv.innerText="new",this.initialColorDiv=document.createElement("div"),this.initialColorDiv.className="vis-initial-color",this.initialColorDiv.innerText="initial",this.cancelButton=document.createElement("div"),this.cancelButton.className="vis-button vis-cancel",this.cancelButton.innerText="cancel",this.cancelButton.onclick=D(e=this._hide).call(e,this,!1),this.applyButton=document.createElement("div"),this.applyButton.className="vis-button vis-apply",this.applyButton.innerText="apply",this.applyButton.onclick=D(t=this._apply).call(t,this),this.saveButton=document.createElement("div"),this.saveButton.className="vis-button vis-save",this.saveButton.innerText="save",this.saveButton.onclick=D(r=this._save).call(r,this),this.loadButton=document.createElement("div"),this.loadButton.className="vis-button vis-load",this.loadButton.innerText="load last",this.loadButton.onclick=D(i=this._loadLast).call(i,this),this.frame.appendChild(this.colorPickerDiv),this.frame.appendChild(this.arrowDiv),this.frame.appendChild(this.brightnessLabel),this.frame.appendChild(this.brightnessDiv),this.frame.appendChild(this.opacityLabel),this.frame.appendChild(this.opacityDiv),this.frame.appendChild(this.newColorDiv),this.frame.appendChild(this.initialColorDiv),this.frame.appendChild(this.cancelButton),this.frame.appendChild(this.applyButton),this.frame.appendChild(this.saveButton),this.frame.appendChild(this.loadButton)}_bindHammer(){this.drag={},this.pinch={},this.hammer=new Eb(this.colorPickerCanvas),this.hammer.get("pinch").set({enable:!0}),this.hammer.on("hammer.input",e=>{e.isFirst&&this._moveSelector(e)}),this.hammer.on("tap",e=>{this._moveSelector(e)}),this.hammer.on("panstart",e=>{this._moveSelector(e)}),this.hammer.on("panmove",e=>{this._moveSelector(e)}),this.hammer.on("panend",e=>{this._moveSelector(e)})}_generateHueCircle(){if(this.generated===!1){const e=this.colorPickerCanvas.getContext("2d");this.pixelRation===void 0&&(this.pixelRatio=(window.devicePixelRatio||1)/(e.webkitBackingStorePixelRatio||e.mozBackingStorePixelRatio||e.msBackingStorePixelRatio||e.oBackingStorePixelRatio||e.backingStorePixelRatio||1)),e.setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0);const t=this.colorPickerCanvas.clientWidth,r=this.colorPickerCanvas.clientHeight;e.clearRect(0,0,t,r);let i,s,o,a;this.centerCoordinates={x:t*.5,y:r*.5},this.r=.49*t;const u=2*Math.PI/360,l=1/360,d=1/this.r;let c;for(o=0;o<360;o++)for(a=0;a<this.r;a++)i=this.centerCoordinates.x+a*Math.sin(u*o),s=this.centerCoordinates.y+a*Math.cos(u*o),c=ks(o*l,a*d,1),e.fillStyle="rgb("+c.r+","+c.g+","+c.b+")",e.fillRect(i-.5,s-.5,2,2);e.strokeStyle="rgba(0,0,0,1)",e.circle(this.centerCoordinates.x,this.centerCoordinates.y,this.r),e.stroke(),this.hueCircle=e.getImageData(0,0,t,r)}this.generated=!0}_moveSelector(e){const t=this.colorPickerDiv.getBoundingClientRect(),r=e.center.x-t.left,i=e.center.y-t.top,s=.5*this.colorPickerDiv.clientHeight,o=.5*this.colorPickerDiv.clientWidth,a=r-o,u=i-s,l=Math.atan2(a,u),d=.98*Math.min(Math.sqrt(a*a+u*u),o),c=Math.cos(l)*d+s,h=Math.sin(l)*d+o;this.colorPickerSelector.style.top=c-.5*this.colorPickerSelector.clientHeight+"px",this.colorPickerSelector.style.left=h-.5*this.colorPickerSelector.clientWidth+"px";let f=l/(2*Math.PI);f=f<0?f+1:f;const v=d/this.r,p=In(this.color.r,this.color.g,this.color.b);p.h=f,p.s=v;const m=ks(p.h,p.s,p.v);m.a=this.color.a,this.color=m,this.initialColorDiv.style.backgroundColor="rgba("+this.initialColor.r+","+this.initialColor.g+","+this.initialColor.b+","+this.initialColor.a+")",this.newColorDiv.style.backgroundColor="rgba("+this.color.r+","+this.color.g+","+this.color.b+","+this.color.a+")"}};function Om(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];if(e.length<1)throw new TypeError("Invalid arguments.");if(e.length===1)return document.createTextNode(e[0]);{const r=document.createElement(e[0]);return r.appendChild(Om(...Ct(e).call(e,1))),r}}let tG=class{constructor(e,t,r){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:1,s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:()=>!1;this.parent=e,this.changedOptions=[],this.container=t,this.allowCreation=!1,this.hideOption=s,this.options={},this.initialized=!1,this.popupCounter=0,this.defaultOptions={enabled:!1,filter:!0,container:void 0,showButton:!0},Pe(this.options,this.defaultOptions),this.configureOptions=r,this.moduleOptions={},this.domElements=[],this.popupDiv={},this.popupLimit=5,this.popupHistory={},this.colorPicker=new eG(i),this.wrapper=void 0}setOptions(e){if(e!==void 0){this.popupHistory={},this._removePopup();let t=!0;if(typeof e=="string")this.options.filter=e;else if(Oe(e))this.options.filter=e.join();else if(typeof e=="object"){if(e==null)throw new TypeError("options cannot be null");e.container!==void 0&&(this.options.container=e.container),rt(e)!==void 0&&(this.options.filter=rt(e)),e.showButton!==void 0&&(this.options.showButton=e.showButton),e.enabled!==void 0&&(t=e.enabled)}else typeof e=="boolean"?(this.options.filter=!0,t=e):typeof e=="function"&&(this.options.filter=e,t=!0);rt(this.options)===!1&&(t=!1),this.options.enabled=t}this._clean()}setModuleOptions(e){this.moduleOptions=e,this.options.enabled===!0&&(this._clean(),this.options.container!==void 0&&(this.container=this.options.container),this._create())}_create(){this._clean(),this.changedOptions=[];const e=rt(this.options);let t=0,r=!1;for(const i in this.configureOptions)Object.prototype.hasOwnProperty.call(this.configureOptions,i)&&(this.allowCreation=!1,r=!1,typeof e=="function"?(r=e(i,[]),r=r||this._handleObject(this.configureOptions[i],[i],!0)):(e===!0||se(e).call(e,i)!==-1)&&(r=!0),r!==!1&&(this.allowCreation=!0,t>0&&this._makeItem([]),this._makeHeader(i),this._handleObject(this.configureOptions[i],[i])),t++);this._makeButton(),this._push()}_push(){this.wrapper=document.createElement("div"),this.wrapper.className="vis-configuration-wrapper",this.container.appendChild(this.wrapper);for(let e=0;e<this.domElements.length;e++)this.wrapper.appendChild(this.domElements[e]);this._showPopupIfNeeded()}_clean(){for(let e=0;e<this.domElements.length;e++)this.wrapper.removeChild(this.domElements[e]);this.wrapper!==void 0&&(this.container.removeChild(this.wrapper),this.wrapper=void 0),this.domElements=[],this._removePopup()}_getValue(e){let t=this.moduleOptions;for(let r=0;r<e.length;r++)if(t[e[r]]!==void 0)t=t[e[r]];else{t=void 0;break}return t}_makeItem(e){if(this.allowCreation===!0){const s=document.createElement("div");s.className="vis-configuration vis-config-item vis-config-s"+e.length;for(var t=arguments.length,r=new Array(t>1?t-1:0),i=1;i<t;i++)r[i-1]=arguments[i];return de(r).call(r,o=>{s.appendChild(o)}),this.domElements.push(s),this.domElements.length}return 0}_makeHeader(e){const t=document.createElement("div");t.className="vis-configuration vis-config-header",t.innerText=e,this._makeItem([],t)}_makeLabel(e,t){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;const i=document.createElement("div");if(i.className="vis-configuration vis-config-label vis-config-s"+t.length,r===!0){for(;i.firstChild;)i.removeChild(i.firstChild);i.appendChild(Om("i","b",e))}else i.innerText=e+":";return i}_makeDropdown(e,t,r){const i=document.createElement("select");i.className="vis-configuration vis-config-select";let s=0;t!==void 0&&se(e).call(e,t)!==-1&&(s=se(e).call(e,t));for(let u=0;u<e.length;u++){const l=document.createElement("option");l.value=e[u],u===s&&(l.selected="selected"),l.innerText=e[u],i.appendChild(l)}const o=this;i.onchange=function(){o._update(this.value,r)};const a=this._makeLabel(r[r.length-1],r);this._makeItem(r,a,i)}_makeRange(e,t,r){const i=e[0],s=e[1],o=e[2],a=e[3],u=document.createElement("input");u.className="vis-configuration vis-config-range";try{u.type="range",u.min=s,u.max=o}catch{}u.step=a;let l="",d=0;t!==void 0?(t<0&&t*1.2<s?(u.min=Math.ceil(t*1.2),d=u.min,l="range increased"):t/1.2<s&&(u.min=Math.ceil(t/1.2),d=u.min,l="range increased"),t*1.2>o&&o!==1&&(u.max=Math.ceil(t*1.2),d=u.max,l="range increased"),u.value=t):u.value=i;const c=document.createElement("input");c.className="vis-configuration vis-config-rangeinput",c.value=u.value;const h=this;u.onchange=function(){c.value=this.value,h._update(Number(this.value),r)},u.oninput=function(){c.value=this.value};const f=this._makeLabel(r[r.length-1],r),v=this._makeItem(r,f,u,c);l!==""&&this.popupHistory[v]!==d&&(this.popupHistory[v]=d,this._setupPopup(l,v))}_makeButton(){if(this.options.showButton===!0){const e=document.createElement("div");e.className="vis-configuration vis-config-button",e.innerText="generate options",e.onclick=()=>{this._printOptions()},e.onmouseover=()=>{e.className="vis-configuration vis-config-button hover"},e.onmouseout=()=>{e.className="vis-configuration vis-config-button"},this.optionsContainer=document.createElement("div"),this.optionsContainer.className="vis-configuration vis-config-option-container",this.domElements.push(this.optionsContainer),this.domElements.push(e)}}_setupPopup(e,t){if(this.initialized===!0&&this.allowCreation===!0&&this.popupCounter<this.popupLimit){const r=document.createElement("div");r.id="vis-configuration-popup",r.className="vis-configuration-popup",r.innerText=e,r.onclick=()=>{this._removePopup()},this.popupCounter+=1,this.popupDiv={html:r,index:t}}}_removePopup(){this.popupDiv.html!==void 0&&(this.popupDiv.html.parentNode.removeChild(this.popupDiv.html),clearTimeout(this.popupDiv.hideTimeout),clearTimeout(this.popupDiv.deleteTimeout),this.popupDiv={})}_showPopupIfNeeded(){if(this.popupDiv.html!==void 0){const t=this.domElements[this.popupDiv.index].getBoundingClientRect();this.popupDiv.html.style.left=t.left+"px",this.popupDiv.html.style.top=t.top-30+"px",document.body.appendChild(this.popupDiv.html),this.popupDiv.hideTimeout=Gt(()=>{this.popupDiv.html.style.opacity=0},1500),this.popupDiv.deleteTimeout=Gt(()=>{this._removePopup()},1800)}}_makeCheckbox(e,t,r){const i=document.createElement("input");i.type="checkbox",i.className="vis-configuration vis-config-checkbox",i.checked=e,t!==void 0&&(i.checked=t,t!==e&&(typeof e=="object"?t!==e.enabled&&this.changedOptions.push({path:r,value:t}):this.changedOptions.push({path:r,value:t})));const s=this;i.onchange=function(){s._update(this.checked,r)};const o=this._makeLabel(r[r.length-1],r);this._makeItem(r,o,i)}_makeTextInput(e,t,r){const i=document.createElement("input");i.type="text",i.className="vis-configuration vis-config-text",i.value=t,t!==e&&this.changedOptions.push({path:r,value:t});const s=this;i.onchange=function(){s._update(this.value,r)};const o=this._makeLabel(r[r.length-1],r);this._makeItem(r,o,i)}_makeColorField(e,t,r){const i=e[1],s=document.createElement("div");t=t===void 0?i:t,t!=="none"?(s.className="vis-configuration vis-config-colorBlock",s.style.backgroundColor=t):s.className="vis-configuration vis-config-colorBlock none",t=t===void 0?i:t,s.onclick=()=>{this._showColorPicker(t,s,r)};const o=this._makeLabel(r[r.length-1],r);this._makeItem(r,o,s)}_showColorPicker(e,t,r){t.onclick=function(){},this.colorPicker.insertTo(t),this.colorPicker.show(),this.colorPicker.setColor(e),this.colorPicker.setUpdateCallback(i=>{const s="rgba("+i.r+","+i.g+","+i.b+","+i.a+")";t.style.backgroundColor=s,this._update(s,r)}),this.colorPicker.setCloseCallback(()=>{t.onclick=()=>{this._showColorPicker(e,t,r)}})}_handleObject(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,i=!1;const s=rt(this.options);let o=!1;for(const a in e)if(Object.prototype.hasOwnProperty.call(e,a)){i=!0;const u=e[a],l=Xs(t,a);if(typeof s=="function"&&(i=s(a,t),i===!1&&!Oe(u)&&typeof u!="string"&&typeof u!="boolean"&&u instanceof Object&&(this.allowCreation=!1,i=this._handleObject(u,l,!0),this.allowCreation=r===!1)),i!==!1){o=!0;const d=this._getValue(l);if(Oe(u))this._handleArray(u,d,l);else if(typeof u=="string")this._makeTextInput(u,d,l);else if(typeof u=="boolean")this._makeCheckbox(u,d,l);else if(u instanceof Object){if(!this.hideOption(t,a,this.moduleOptions))if(u.enabled!==void 0){const c=Xs(l,"enabled"),h=this._getValue(c);if(h===!0){const f=this._makeLabel(a,l,!0);this._makeItem(l,f),o=this._handleObject(u,l)||o}else this._makeCheckbox(u,h,l)}else{const c=this._makeLabel(a,l,!0);this._makeItem(l,c),o=this._handleObject(u,l)||o}}else console.error("dont know how to handle",u,a,l)}}return o}_handleArray(e,t,r){typeof e[0]=="string"&&e[0]==="color"?(this._makeColorField(e,t,r),e[1]!==t&&this.changedOptions.push({path:r,value:t})):typeof e[0]=="string"?(this._makeDropdown(e,t,r),e[0]!==t&&this.changedOptions.push({path:r,value:t})):typeof e[0]=="number"&&(this._makeRange(e,t,r),e[0]!==t&&this.changedOptions.push({path:r,value:Number(t)}))}_update(e,t){const r=this._constructOptions(e,t);this.parent.body&&this.parent.body.emitter&&this.parent.body.emitter.emit&&this.parent.body.emitter.emit("configChange",r),this.initialized=!0,this.parent.setOptions(r)}_constructOptions(e,t){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},i=r;e=e==="true"?!0:e,e=e==="false"?!1:e;for(let s=0;s<t.length;s++)t[s]!=="global"&&(i[t[s]]===void 0&&(i[t[s]]={}),s!==t.length-1?i=i[t[s]]:i[t[s]]=e);return r}_printOptions(){const e=this.getOptions();for(;this.optionsContainer.firstChild;)this.optionsContainer.removeChild(this.optionsContainer.firstChild);this.optionsContainer.appendChild(Om("pre","const options = "+ms(e,null,2)))}getOptions(){const e={};for(let t=0;t<this.changedOptions.length;t++)this._constructOptions(this.changedOptions[t].value,this.changedOptions[t].path,e);return e}},rG=class{constructor(e,t){this.container=e,this.overflowMethod=t||"cap",this.x=0,this.y=0,this.padding=5,this.hidden=!1,this.frame=document.createElement("div"),this.frame.className="vis-tooltip",this.container.appendChild(this.frame)}setPosition(e,t){this.x=It(e),this.y=It(t)}setText(e){if(e instanceof Element){for(;this.frame.firstChild;)this.frame.removeChild(this.frame.firstChild);this.frame.appendChild(e)}else this.frame.innerText=e}show(e){if(e===void 0&&(e=!0),e===!0){const t=this.frame.clientHeight,r=this.frame.clientWidth,i=this.frame.parentNode.clientHeight,s=this.frame.parentNode.clientWidth;let o=0,a=0;if(this.overflowMethod=="flip"){let u=!1,l=!0;this.y-t<this.padding&&(l=!1),this.x+r>s-this.padding&&(u=!0),u?o=this.x-r:o=this.x,l?a=this.y-t:a=this.y}else a=this.y-t,a+t+this.padding>i&&(a=i-t-this.padding),a<this.padding&&(a=this.padding),o=this.x,o+r+this.padding>s&&(o=s-r-this.padding),o<this.padding&&(o=this.padding);this.frame.style.left=o+"px",this.frame.style.top=a+"px",this.frame.style.visibility="visible",this.hidden=!1}else this.hide()}hide(){this.hidden=!0,this.frame.style.left="0",this.frame.style.top="0",this.frame.style.visibility="hidden"}destroy(){this.frame.parentNode.removeChild(this.frame)}},Sn=!1,VC;const Im="background: #FFeeee; color: #dd0000";let iG=class Ee{static validate(e,t,r){Sn=!1,VC=t;let i=t;return r!==void 0&&(i=t[r]),Ee.parse(e,i,[]),Sn}static parse(e,t,r){for(const i in e)Object.prototype.hasOwnProperty.call(e,i)&&Ee.check(i,e,t,r)}static check(e,t,r,i){if(r[e]===void 0&&r.__any__===void 0){Ee.getSuggestion(e,r,i);return}let s=e,o=!0;r[e]===void 0&&r.__any__!==void 0&&(s="__any__",o=Ee.getType(t[e])==="object");let a=r[s];o&&a.__type__!==void 0&&(a=a.__type__),Ee.checkFields(e,t,r,s,a,i)}static checkFields(e,t,r,i,s,o){const a=function(d){console.error("%c"+d+Ee.printLocation(o,e),Im)},u=Ee.getType(t[e]),l=s[u];l!==void 0?Ee.getType(l)==="array"&&se(l).call(l,t[e])===-1?(a('Invalid option detected in "'+e+'". Allowed values are:'+Ee.print(l)+' not "'+t[e]+'". '),Sn=!0):u==="object"&&i!=="__any__"&&(o=Xs(o,e),Ee.parse(t[e],r[i],o)):s.any===void 0&&(a('Invalid type received for "'+e+'". Expected: '+Ee.print(Se(s))+". Received ["+u+'] "'+t[e]+'"'),Sn=!0)}static getType(e){const t=typeof e;return t==="object"?e===null?"null":e instanceof Boolean?"boolean":e instanceof Number?"number":e instanceof String?"string":Oe(e)?"array":e instanceof Date?"date":e.nodeType!==void 0?"dom":e._isAMomentObject===!0?"moment":"object":t==="number"?"number":t==="boolean"?"boolean":t==="string"?"string":t===void 0?"undefined":t}static getSuggestion(e,t,r){const i=Ee.findInOptions(e,t,r,!1),s=Ee.findInOptions(e,VC,[],!0),o=8,a=4;let u;i.indexMatch!==void 0?u=" in "+Ee.printLocation(i.path,e,"")+'Perhaps it was incomplete? Did you mean: "'+i.indexMatch+`"?

`:s.distance<=a&&i.distance>s.distance?u=" in "+Ee.printLocation(i.path,e,"")+"Perhaps it was misplaced? Matching option found at: "+Ee.printLocation(s.path,s.closestMatch,""):i.distance<=o?u='. Did you mean "'+i.closestMatch+'"?'+Ee.printLocation(i.path,e):u=". Did you mean one of these: "+Ee.print(Se(t))+Ee.printLocation(r,e),console.error('%cUnknown option detected: "'+e+'"'+u,Im),Sn=!0}static findInOptions(e,t,r){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1,s=1e9,o="",a=[];const u=e.toLowerCase();let l;for(const c in t){let h;if(t[c].__type__!==void 0&&i===!0){const f=Ee.findInOptions(e,t[c],Xs(r,c));s>f.distance&&(o=f.closestMatch,a=f.path,s=f.distance,l=f.indexMatch)}else{var d;se(d=c.toLowerCase()).call(d,u)!==-1&&(l=c),h=Ee.levenshteinDistance(e,c),s>h&&(o=c,a=GV(r),s=h)}}return{closestMatch:o,path:a,distance:s,indexMatch:l}}static printLocation(e,t){let i=`

`+(arguments.length>2&&arguments[2]!==void 0?arguments[2]:`Problem value found at: 
`)+`options = {
`;for(let s=0;s<e.length;s++){for(let o=0;o<s+1;o++)i+="  ";i+=e[s]+`: {
`}for(let s=0;s<e.length+1;s++)i+="  ";i+=t+`
`;for(let s=0;s<e.length+1;s++){for(let o=0;o<e.length-s;o++)i+="  ";i+=`}
`}return i+`

`}static print(e){return ms(e).replace(/(")|(\[)|(\])|(,"__type__")/g,"").replace(/(,)/g,", ")}static levenshteinDistance(e,t){if(e.length===0)return t.length;if(t.length===0)return e.length;const r=[];let i;for(i=0;i<=t.length;i++)r[i]=[i];let s;for(s=0;s<=e.length;s++)r[0][s]=s;for(i=1;i<=t.length;i++)for(s=1;s<=e.length;s++)t.charAt(i-1)==e.charAt(s-1)?r[i][s]=r[i-1][s-1]:r[i][s]=Math.min(r[i-1][s-1]+1,Math.min(r[i][s-1]+1,r[i-1][s]+1));return r[t.length][e.length]}};const nG=Mt,sG=tG,$i=Eb,oG=rG,Tk=Im,aG=iG;function uG(n){return or=n,hG()}var Pk={fontsize:"font.size",fontcolor:"font.color",labelfontcolor:"font.color",fontname:"font.face",color:["color.border","color.background"],fillcolor:"color.background",tooltip:"title",labeltooltip:"title"},Ob=jr(Pk);Ob.color="color.color";Ob.style="dashes";var Ye={NULL:0,DELIMITER:1,IDENTIFIER:2,UNKNOWN:3},GC={"{":!0,"}":!0,"[":!0,"]":!0,";":!0,"=":!0,",":!0,"->":!0,"--":!0},or="",Ni=0,X="",V="",tt=Ye.NULL;function lG(){Ni=0,X=or.charAt(0)}function Fe(){Ni++,X=or.charAt(Ni)}function yi(){return or.charAt(Ni+1)}function KC(n){var e=n.charCodeAt(0);return e<47?e===35||e===46:e<59?e>47:e<91?e>64:e<96?e===95:e<123?e>96:!1}function fr(n,e){if(n||(n={}),e)for(var t in e)e.hasOwnProperty(t)&&(n[t]=e[t]);return n}function dG(n,e,t){for(var r=e.split("."),i=n;r.length;){var s=r.shift();r.length?(i[s]||(i[s]={}),i=i[s]):i[s]=t}}function Rk(n,e){for(var t,r,i=null,s=[n],o=n;o.parent;)s.push(o.parent),o=o.parent;if(o.nodes){for(t=0,r=o.nodes.length;t<r;t++)if(e.id===o.nodes[t].id){i=o.nodes[t];break}}for(i||(i={id:e.id},n.node&&(i.attr=fr(i.attr,n.node))),t=s.length-1;t>=0;t--){var a,u=s[t];u.nodes||(u.nodes=[]),se(a=u.nodes).call(a,i)===-1&&u.nodes.push(i)}e.attr&&(i.attr=fr(i.attr,e.attr))}function cG(n,e){if(n.edges||(n.edges=[]),n.edges.push(e),n.edge){var t=fr({},n.edge);e.attr=fr(t,e.attr)}}function qk(n,e,t,r,i){var s={from:e,to:t,type:r};return n.edge&&(s.attr=fr({},n.edge)),s.attr=fr(s.attr||{},i),i!=null&&i.hasOwnProperty("arrows")&&i.arrows!=null&&(s.arrows={to:{enabled:!0,type:i.arrows.type}},i.arrows=null),s}function ve(){for(tt=Ye.NULL,V="";X===" "||X==="	"||X===`
`||X==="\r";)Fe();do{var n=!1;if(X==="#"){for(var e=Ni-1;or.charAt(e)===" "||or.charAt(e)==="	";)e--;if(or.charAt(e)===`
`||or.charAt(e)===""){for(;X!=""&&X!=`
`;)Fe();n=!0}}if(X==="/"&&yi()==="/"){for(;X!=""&&X!=`
`;)Fe();n=!0}if(X==="/"&&yi()==="*"){for(;X!="";)if(X==="*"&&yi()==="/"){Fe(),Fe();break}else Fe();n=!0}for(;X===" "||X==="	"||X===`
`||X==="\r";)Fe()}while(n);if(X===""){tt=Ye.DELIMITER;return}var t=X+yi();if(GC[t]){tt=Ye.DELIMITER,V=t,Fe(),Fe();return}if(GC[X]){tt=Ye.DELIMITER,V=X,Fe();return}if(KC(X)||X==="-"){for(V+=X,Fe();KC(X);)V+=X,Fe();V==="false"?V=!1:V==="true"?V=!0:isNaN(Number(V))||(V=Number(V)),tt=Ye.IDENTIFIER;return}if(X==='"'){for(Fe();X!=""&&(X!='"'||X==='"'&&yi()==='"');)X==='"'?(V+=X,Fe()):X==="\\"&&yi()==="n"?(V+=`
`,Fe()):V+=X,Fe();if(X!='"')throw Xe('End of string " expected');Fe(),tt=Ye.IDENTIFIER;return}for(tt=Ye.UNKNOWN;X!="";)V+=X,Fe();throw new SyntaxError('Syntax error in part "'+Mk(V,30)+'"')}function hG(){var n={};if(lG(),ve(),V==="strict"&&(n.strict=!0,ve()),(V==="graph"||V==="digraph")&&(n.type=V,ve()),tt===Ye.IDENTIFIER&&(n.id=V,ve()),V!="{")throw Xe("Angle bracket { expected");if(ve(),Ck(n),V!="}")throw Xe("Angle bracket } expected");if(ve(),V!=="")throw Xe("End of file expected");return ve(),delete n.node,delete n.edge,delete n.graph,n}function Ck(n){for(;V!==""&&V!="}";)fG(n),V===";"&&ve()}function fG(n){var e=xk(n);if(e){Dk(n,e);return}var t=vG(n);if(!t){if(tt!=Ye.IDENTIFIER)throw Xe("Identifier expected");var r=V;if(ve(),V==="="){if(ve(),tt!=Ye.IDENTIFIER)throw Xe("Identifier expected");n[r]=V,ve()}else pG(n,r)}}function xk(n){var e=null;if(V==="subgraph"&&(e={},e.type="subgraph",ve(),tt===Ye.IDENTIFIER&&(e.id=V,ve())),V==="{"){if(ve(),e||(e={}),e.parent=n,e.node=n.node,e.edge=n.edge,e.graph=n.graph,Ck(e),V!="}")throw Xe("Angle bracket } expected");ve(),delete e.node,delete e.edge,delete e.graph,delete e.parent,n.subgraphs||(n.subgraphs=[]),n.subgraphs.push(e)}return e}function vG(n){return V==="node"?(ve(),n.node=Cn(),"node"):V==="edge"?(ve(),n.edge=Cn(),"edge"):V==="graph"?(ve(),n.graph=Cn(),"graph"):null}function pG(n,e){var t={id:e},r=Cn();r&&(t.attr=r),Rk(n,t),Dk(n,e)}function Dk(n,e){for(;V==="->"||V==="--";){var t,r=V;ve();var i=xk(n);if(i)t=i;else{if(tt!=Ye.IDENTIFIER)throw Xe("Identifier or subgraph expected");t=V,Rk(n,{id:t}),ve()}var s=Cn(),o=qk(n,e,t,r,s);cG(n,o),e=t}}function Cn(){for(var n,e=null,t={dashed:!0,solid:!1,dotted:[1,5]},r={dot:"circle",box:"box",crow:"crow",curve:"curve",icurve:"inv_curve",normal:"triangle",inv:"inv_triangle",diamond:"diamond",tee:"bar",vee:"vee"},i=new Array,s=new Array;V==="[";){for(ve(),e={};V!==""&&V!="]";){if(tt!=Ye.IDENTIFIER)throw Xe("Attribute name expected");var o=V;if(ve(),V!="=")throw Xe("Equal sign = expected");if(ve(),tt!=Ye.IDENTIFIER)throw Xe("Attribute value expected");var a=V;o==="style"&&(a=t[a]);var u;o==="arrowhead"&&(u=r[a],o="arrows",a={to:{enabled:!0,type:u}}),o==="arrowtail"&&(u=r[a],o="arrows",a={from:{enabled:!0,type:u}}),i.push({attr:e,name:o,value:a}),s.push(o),ve(),V==","&&ve()}if(V!="]")throw Xe("Bracket ] expected");ve()}if(lr(s).call(s,"dir")){var l={};for(l.arrows={},n=0;n<i.length;n++)if(i[n].name==="arrows")if(i[n].value.to!=null)l.arrows.to=n;else if(i[n].value.from!=null)l.arrows.from=n;else throw Xe("Invalid value of arrows");else i[n].name==="dir"&&(l.dir=n);var d=i[l.dir].value;if(!lr(s).call(s,"arrows"))if(d==="both")i.push({attr:i[l.dir].attr,name:"arrows",value:{to:{enabled:!0}}}),l.arrows.to=i.length-1,i.push({attr:i[l.dir].attr,name:"arrows",value:{from:{enabled:!0}}}),l.arrows.from=i.length-1;else if(d==="forward")i.push({attr:i[l.dir].attr,name:"arrows",value:{to:{enabled:!0}}}),l.arrows.to=i.length-1;else if(d==="back")i.push({attr:i[l.dir].attr,name:"arrows",value:{from:{enabled:!0}}}),l.arrows.from=i.length-1;else if(d==="none")i.push({attr:i[l.dir].attr,name:"arrows",value:""}),l.arrows.to=i.length-1;else throw Xe('Invalid dir type "'+d+'"');var c,h;if(d==="both")l.arrows.to&&l.arrows.from?(h=i[l.arrows.to].value.to.type,c=i[l.arrows.from].value.from.type,i[l.arrows.to]={attr:i[l.arrows.to].attr,name:i[l.arrows.to].name,value:{to:{enabled:!0,type:h},from:{enabled:!0,type:c}}},Vt(i).call(i,l.arrows.from,1)):l.arrows.to?(h=i[l.arrows.to].value.to.type,c="arrow",i[l.arrows.to]={attr:i[l.arrows.to].attr,name:i[l.arrows.to].name,value:{to:{enabled:!0,type:h},from:{enabled:!0,type:c}}}):l.arrows.from&&(h="arrow",c=i[l.arrows.from].value.from.type,i[l.arrows.from]={attr:i[l.arrows.from].attr,name:i[l.arrows.from].name,value:{to:{enabled:!0,type:h},from:{enabled:!0,type:c}}});else if(d==="back")l.arrows.to&&l.arrows.from?(h="",c=i[l.arrows.from].value.from.type,i[l.arrows.from]={attr:i[l.arrows.from].attr,name:i[l.arrows.from].name,value:{to:{enabled:!0,type:h},from:{enabled:!0,type:c}}}):l.arrows.to?(h="",c="arrow",l.arrows.from=l.arrows.to,i[l.arrows.from]={attr:i[l.arrows.from].attr,name:i[l.arrows.from].name,value:{to:{enabled:!0,type:h},from:{enabled:!0,type:c}}}):l.arrows.from&&(h="",c=i[l.arrows.from].value.from.type,i[l.arrows.to]={attr:i[l.arrows.from].attr,name:i[l.arrows.from].name,value:{to:{enabled:!0,type:h},from:{enabled:!0,type:c}}}),i[l.arrows.from]={attr:i[l.arrows.from].attr,name:i[l.arrows.from].name,value:{from:{enabled:!0,type:i[l.arrows.from].value.from.type}}};else if(d==="none"){var f;l.arrows.to?f=l.arrows.to:f=l.arrows.from,i[f]={attr:i[f].attr,name:i[f].name,value:""}}else if(d==="forward")l.arrows.to&&l.arrows.from?(h=i[l.arrows.to].value.to.type,c="",i[l.arrows.to]={attr:i[l.arrows.to].attr,name:i[l.arrows.to].name,value:{to:{enabled:!0,type:h},from:{enabled:!0,type:c}}}):l.arrows.to?(h=i[l.arrows.to].value.to.type,c="",i[l.arrows.to]={attr:i[l.arrows.to].attr,name:i[l.arrows.to].name,value:{to:{enabled:!0,type:h},from:{enabled:!0,type:c}}}):l.arrows.from&&(h="arrow",c="",l.arrows.to=l.arrows.from,i[l.arrows.to]={attr:i[l.arrows.to].attr,name:i[l.arrows.to].name,value:{to:{enabled:!0,type:h},from:{enabled:!0,type:c}}}),i[l.arrows.to]={attr:i[l.arrows.to].attr,name:i[l.arrows.to].name,value:{to:{enabled:!0,type:i[l.arrows.to].value.to.type}}};else throw Xe('Invalid dir type "'+d+'"');Vt(i).call(i,l.dir,1)}var v;if(lr(s).call(s,"penwidth")){var p=[];for(v=i.length,n=0;n<v;n++)i[n].name!=="width"&&(i[n].name==="penwidth"&&(i[n].name="width"),p.push(i[n]));i=p}for(v=i.length,n=0;n<v;n++)dG(i[n].attr,i[n].name,i[n].value);return e}function Xe(n){return new SyntaxError(n+', got "'+Mk(V,30)+'" (char '+Ni+")")}function Mk(n,e){return n.length<=e?n:n.substr(0,27)+"..."}function gG(n,e,t){Oe(n)?de(n).call(n,function(r){Oe(e)?de(e).call(e,function(i){t(r,i)}):t(r,e)}):Oe(e)?de(e).call(e,function(r){t(n,r)}):t(n,e)}function Vp(n,e,t){for(var r=e.split("."),i=r.pop(),s=n,o=0;o<r.length;o++){var a=r[o];a in s||(s[a]={}),s=s[a]}return s[i]=t,n}function YC(n,e){var t={};for(var r in n)if(n.hasOwnProperty(r)){var i=e[r];Oe(i)?de(i).call(i,function(s){Vp(t,s,n[r])}):typeof i=="string"?Vp(t,i,n[r]):Vp(t,r,n[r])}return t}function yG(n){var e=uG(n),t={nodes:[],edges:[],options:{}};if(e.nodes){var r;de(r=e.nodes).call(r,function(o){var a={id:o.id,label:String(o.label||o.id)};fr(a,YC(o.attr,Pk)),a.image&&(a.shape="image"),t.nodes.push(a)})}if(e.edges){var i,s=function(o){var a={from:o.from,to:o.to};return fr(a,YC(o.attr,Ob)),a.arrows==null&&o.type==="->"&&(a.arrows="to"),a};de(i=e.edges).call(i,function(o){var a,u;if(o.from instanceof Object?a=o.from.nodes:a={id:o.from},o.to instanceof Object?u=o.to.nodes:u={id:o.to},o.from instanceof Object&&o.from.edges){var l;de(l=o.from.edges).call(l,function(c){var h=s(c);t.edges.push(h)})}if(gG(a,u,function(c,h){var f=qk(t,c.id,h.id,o.type,o.attr),v=s(f);t.edges.push(v)}),o.to instanceof Object&&o.to.edges){var d;de(d=o.to.edges).call(d,function(c){var h=s(c);t.edges.push(h)})}})}return e.attr&&(t.options=e.attr),t}function mG(n,e){var t;const r={edges:{inheritColor:!1},nodes:{fixed:!1,parseColor:!1}};e!=null&&(e.fixed!=null&&(r.nodes.fixed=e.fixed),e.parseColor!=null&&(r.nodes.parseColor=e.parseColor),e.inheritColor!=null&&(r.edges.inheritColor=e.inheritColor));const i=n.edges,s=Di(i).call(i,a=>{const u={from:a.source,id:a.id,to:a.target};return a.attributes!=null&&(u.attributes=a.attributes),a.label!=null&&(u.label=a.label),a.attributes!=null&&a.attributes.title!=null&&(u.title=a.attributes.title),a.type==="Directed"&&(u.arrows="to"),a.color&&r.edges.inheritColor===!1&&(u.color=a.color),u});return{nodes:Di(t=n.nodes).call(t,a=>{const u={id:a.id,fixed:r.nodes.fixed&&a.x!=null&&a.y!=null};return a.attributes!=null&&(u.attributes=a.attributes),a.label!=null&&(u.label=a.label),a.size!=null&&(u.size=a.size),a.attributes!=null&&a.attributes.title!=null&&(u.title=a.attributes.title),a.title!=null&&(u.title=a.title),a.x!=null&&(u.x=a.x),a.y!=null&&(u.y=a.y),a.color!=null&&(r.nodes.parseColor===!0?u.color=a.color:u.color={background:a.color,border:a.color,highlight:{background:a.color,border:a.color},hover:{background:a.color,border:a.color}}),u}),edges:s}}const bG={addDescription:"Click in an empty space to place a new node.",addEdge:"Add Edge",addNode:"Add Node",back:"Back",close:"Close",createEdgeError:"Cannot link edges to a cluster.",del:"Delete selected",deleteClusterError:"Clusters cannot be deleted.",edgeDescription:"Click on a node and drag the edge to another node to connect them.",edit:"Edit",editClusterError:"Clusters cannot be edited.",editEdge:"Edit Edge",editEdgeDescription:"Click on the control points and drag them to a node to connect to it.",editNode:"Edit Node"},_G={addDescription:"Klicke auf eine freie Stelle, um einen neuen Knoten zu plazieren.",addEdge:"Kante hinzufÃ¼gen",addNode:"Knoten hinzufÃ¼gen",back:"ZurÃ¼ck",close:"SchlieÃen",createEdgeError:"Es ist nicht mÃ¶glich, Kanten mit Clustern zu verbinden.",del:"LÃ¶sche Auswahl",deleteClusterError:"Cluster kÃ¶nnen nicht gelÃ¶scht werden.",edgeDescription:"Klicke auf einen Knoten und ziehe die Kante zu einem anderen Knoten, um diese zu verbinden.",edit:"Editieren",editClusterError:"Cluster kÃ¶nnen nicht editiert werden.",editEdge:"Kante editieren",editEdgeDescription:"Klicke auf die Verbindungspunkte und ziehe diese auf einen Knoten, um sie zu verbinden.",editNode:"Knoten editieren"},wG={addDescription:"Haga clic en un lugar vacÃ­o para colocar un nuevo nodo.",addEdge:"AÃ±adir arista",addNode:"AÃ±adir nodo",back:"AtrÃ¡s",close:"Cerrar",createEdgeError:"No se puede conectar una arista a un grupo.",del:"Eliminar selecciÃ³n",deleteClusterError:"No es posible eliminar grupos.",edgeDescription:"Haga clic en un nodo y arrastre la arista hacia otro nodo para conectarlos.",edit:"Editar",editClusterError:"No es posible editar grupos.",editEdge:"Editar arista",editEdgeDescription:"Haga clic en un punto de control y arrastrelo a un nodo para conectarlo.",editNode:"Editar nodo"},EG={addDescription:"Clicca per aggiungere un nuovo nodo",addEdge:"Aggiungi un vertice",addNode:"Aggiungi un nodo",back:"Indietro",close:"Chiudere",createEdgeError:"Non si possono collegare vertici ad un cluster",del:"Cancella la selezione",deleteClusterError:"I cluster non possono essere cancellati",edgeDescription:"Clicca su un nodo e trascinalo ad un altro nodo per connetterli.",edit:"Modifica",editClusterError:"I clusters non possono essere modificati.",editEdge:"Modifica il vertice",editEdgeDescription:"Clicca sui Punti di controllo e trascinali ad un nodo per connetterli.",editNode:"Modifica il nodo"},SG={addDescription:"Klik op een leeg gebied om een nieuwe node te maken.",addEdge:"Link toevoegen",addNode:"Node toevoegen",back:"Terug",close:"Sluiten",createEdgeError:"Kan geen link maken naar een cluster.",del:"Selectie verwijderen",deleteClusterError:"Clusters kunnen niet worden verwijderd.",edgeDescription:"Klik op een node en sleep de link naar een andere node om ze te verbinden.",edit:"Wijzigen",editClusterError:"Clusters kunnen niet worden aangepast.",editEdge:"Link wijzigen",editEdgeDescription:"Klik op de verbindingspunten en sleep ze naar een node om daarmee te verbinden.",editNode:"Node wijzigen"},OG={addDescription:"Clique em um espaÃ§o em branco para adicionar um novo nÃ³",addEdge:"Adicionar aresta",addNode:"Adicionar nÃ³",back:"Voltar",close:"Fechar",createEdgeError:"NÃ£o foi possÃ­vel linkar arestas a um cluster.",del:"Remover selecionado",deleteClusterError:"Clusters nÃ£o puderam ser removidos.",edgeDescription:"Clique em um nÃ³ e arraste a aresta atÃ© outro nÃ³ para conectÃ¡-los",edit:"Editar",editClusterError:"Clusters nÃ£o puderam ser editados.",editEdge:"Editar aresta",editEdgeDescription:"Clique nos pontos de controle e os arraste para um nÃ³ para conectÃ¡-los",editNode:"Editar nÃ³"},IG={addDescription:"ÐÐ»Ð¸ÐºÐ½Ð¸ÑÐµ Ð² ÑÐ²Ð¾Ð±Ð¾Ð´Ð½Ð¾Ðµ Ð¼ÐµÑÑÐ¾, ÑÑÐ¾Ð±Ñ Ð´Ð¾Ð±Ð°Ð²Ð¸ÑÑ Ð½Ð¾Ð²ÑÐ¹ ÑÐ·ÐµÐ».",addEdge:"ÐÐ¾Ð±Ð°Ð²Ð¸ÑÑ ÑÐµÐ±ÑÐ¾",addNode:"ÐÐ¾Ð±Ð°Ð²Ð¸ÑÑ ÑÐ·ÐµÐ»",back:"ÐÐ°Ð·Ð°Ð´",close:"ÐÐ°ÐºÑÑÐ²Ð°ÑÑ",createEdgeError:"ÐÐµÐ²Ð¾Ð·Ð¼Ð¾Ð¶Ð½Ð¾ ÑÐ¾ÐµÐ´Ð¸Ð½Ð¸ÑÑ ÑÐµÐ±ÑÐ° Ð² ÐºÐ»Ð°ÑÑÐµÑ.",del:"Ð£Ð´Ð°Ð»Ð¸ÑÑ Ð²ÑÐ±ÑÐ°Ð½Ð½Ð¾Ðµ",deleteClusterError:"ÐÐ»Ð°ÑÑÐµÑÑ Ð½Ðµ Ð¼Ð¾Ð³ÑÑ Ð±ÑÑÑ ÑÐ´Ð°Ð»ÐµÐ½Ñ",edgeDescription:"ÐÐ»Ð¸ÐºÐ½Ð¸ÑÐµ Ð½Ð° ÑÐ·ÐµÐ» Ð¸ Ð¿ÑÐ¾ÑÑÐ½Ð¸ÑÐµ ÑÐµÐ±ÑÐ¾ Ðº Ð´ÑÑÐ³Ð¾Ð¼Ñ ÑÐ·Ð»Ñ, ÑÑÐ¾Ð±Ñ ÑÐ¾ÐµÐ´Ð¸Ð½Ð¸ÑÑ Ð¸Ñ.",edit:"Ð ÐµÐ´Ð°ÐºÑÐ¸ÑÐ¾Ð²Ð°ÑÑ",editClusterError:"ÐÐ»Ð°ÑÑÐµÑÑ Ð½ÐµÐ´Ð¾ÑÑÑÐ¿Ð½Ñ Ð´Ð»Ñ ÑÐµÐ´Ð°ÐºÑÐ¸ÑÐ¾Ð²Ð°Ð½Ð¸Ñ.",editEdge:"Ð ÐµÐ´Ð°ÐºÑÐ¸ÑÐ¾Ð²Ð°ÑÑ ÑÐµÐ±ÑÐ¾",editEdgeDescription:"ÐÐ»Ð¸ÐºÐ½Ð¸ÑÐµ Ð½Ð° ÐºÐ¾Ð½ÑÑÐ¾Ð»ÑÐ½ÑÐµ ÑÐ¾ÑÐºÐ¸ Ð¸ Ð¿ÐµÑÐµÑÐ°ÑÐ¸ÑÐµ Ð¸Ñ Ð² ÑÐ·ÐµÐ», ÑÑÐ¾Ð±Ñ Ð¿Ð¾Ð´ÐºÐ»ÑÑÐ¸ÑÑÑÑ Ðº Ð½ÐµÐ¼Ñ.",editNode:"Ð ÐµÐ´Ð°ÐºÑÐ¸ÑÐ¾Ð²Ð°ÑÑ ÑÐ·ÐµÐ»"},$G={addDescription:"åå»ç©ºç½å¤æ¾ç½®æ°èç¹ã",addEdge:"æ·»å è¿æ¥çº¿",addNode:"æ·»å èç¹",back:"è¿å",close:"éé",createEdgeError:"æ æ³å°è¿æ¥çº¿è¿æ¥å°ç¾¤éã",del:"å é¤éå®",deleteClusterError:"æ æ³å é¤ç¾¤éã",edgeDescription:"åå»æä¸ªèç¹å¹¶å°è¯¥è¿æ¥çº¿æå¨å°å¦ä¸ä¸ªèç¹ä»¥è¿æ¥å®ä»¬ã",edit:"ç¼è¾",editClusterError:"æ æ³ç¼è¾ç¾¤éã",editEdge:"ç¼è¾è¿æ¥çº¿",editEdgeDescription:"åå»æ§å¶èç¹å¹¶å°å®ä»¬æå°èç¹ä¸è¿æ¥ã",editNode:"ç¼è¾èç¹"},TG={addDescription:"KÐ»ÑÐºÐ½ÑÑÑ Ð½Ð° Ð²ÑÐ»ÑÐ½Ðµ Ð¼ÑÑÑÐµ, ÑÐ¾Ð± Ð´Ð¾Ð´Ð°ÑÐ¸ Ð½Ð¾Ð²Ð¸Ð¹ Ð²ÑÐ·Ð¾Ð».",addEdge:"ÐÐ¾Ð´Ð°ÑÐ¸ ÐºÑÐ°Ð¹",addNode:"ÐÐ¾Ð´Ð°ÑÐ¸ Ð²ÑÐ·Ð¾Ð»",back:"ÐÐ°Ð·Ð°Ð´",close:"ÐÐ°ÐºÑÐ¸ÑÐ¸",createEdgeError:"ÐÐµ Ð¼Ð¾Ð¶Ð»Ð¸Ð²Ð¾ Ð¾Ð±'ÑÐ´Ð½Ð°ÑÐ¸ ÐºÑÐ°Ñ Ð² Ð³ÑÑÐ¿Ñ.",del:"ÐÐ¸Ð´Ð°Ð»Ð¸ÑÐ¸ Ð¾Ð±ÑÐ°Ð½Ðµ",deleteClusterError:"ÐÑÑÐ¿Ð¸ Ð½Ðµ Ð¼Ð¾Ð¶ÑÑÑ Ð±ÑÑÐ¸ Ð²Ð¸Ð´Ð°Ð»ÐµÐ½Ñ.",edgeDescription:"ÐÐ»ÑÐºÐ½ÑÑÑ Ð½Ð° Ð²ÑÐ·Ð¾Ð» Ñ Ð¿ÐµÑÐµÑÑÐ³Ð½ÑÑÑ ÐºÑÐ°Ð¹ Ð´Ð¾ ÑÐ½ÑÐ¾Ð³Ð¾ Ð²ÑÐ·Ð»Ð°, ÑÐ¾Ð± ÑÑ Ð·'ÑÐ´Ð½Ð°ÑÐ¸.",edit:"Ð ÐµÐ´Ð°Ð³ÑÐ²Ð°ÑÐ¸",editClusterError:"ÐÑÑÐ¿Ð¸ Ð½ÐµÐ´Ð¾ÑÑÑÐ¿Ð½Ñ Ð´Ð»Ñ ÑÐµÐ´Ð°Ð³ÑÐ²Ð°Ð½Ð½Ñ.",editEdge:"Ð ÐµÐ´Ð°Ð³ÑÐ²Ð°ÑÐ¸ ÐºÑÐ°Ð¹",editEdgeDescription:"ÐÐ»ÑÐºÐ½ÑÑÑ Ð½Ð° ÐºÐ¾Ð½ÑÑÐ¾Ð»ÑÐ½Ñ ÑÐ¾ÑÐºÐ¸ Ñ Ð¿ÐµÑÐµÑÑÐ³Ð½ÑÑÑ ÑÑ Ñ Ð²ÑÐ·Ð¾Ð», ÑÐ¾Ð± Ð¿ÑÐ´ÐºÐ»ÑÑÐ¸ÑÐ¸ÑÑ Ð´Ð¾ Ð½ÑÐ¾Ð³Ð¾.",editNode:"Ð ÐµÐ´Ð°Ð³ÑÐ²Ð°ÑÐ¸ Ð²ÑÐ·Ð¾Ð»"},PG={addDescription:"Cliquez dans un endroit vide pour placer un nÅud.",addEdge:"Ajouter un lien",addNode:"Ajouter un nÅud",back:"Retour",close:"Fermer",createEdgeError:"Impossible de crÃ©er un lien vers un cluster.",del:"Effacer la sÃ©lection",deleteClusterError:"Les clusters ne peuvent pas Ãªtre effacÃ©s.",edgeDescription:"Cliquez sur un nÅud et glissez le lien vers un autre nÅud pour les connecter.",edit:"Ãditer",editClusterError:"Les clusters ne peuvent pas Ãªtre Ã©ditÃ©s.",editEdge:"Ãditer le lien",editEdgeDescription:"Cliquez sur les points de contrÃ´le et glissez-les pour connecter un nÅud.",editNode:"Ãditer le nÅud"},RG={addDescription:"KluknutÃ­m do prÃ¡zdnÃ©ho prostoru mÅ¯Å¾ete pÅidat novÃ½ vrchol.",addEdge:"PÅidat hranu",addNode:"PÅidat vrchol",back:"ZpÄt",close:"ZavÅÃ­t",createEdgeError:"Nelze pÅipojit hranu ke shluku.",del:"Smazat vÃ½bÄr",deleteClusterError:"Nelze mazat shluky.",edgeDescription:"PÅetaÅ¾enÃ­m z jednoho vrcholu do druhÃ©ho mÅ¯Å¾ete spojit tyto vrcholy novou hranou.",edit:"Upravit",editClusterError:"Nelze upravovat shluky.",editEdge:"Upravit hranu",editEdgeDescription:"PÅetaÅ¾enÃ­m kontrolnÃ­ho vrcholu hrany ji mÅ¯Å¾ete pÅipojit k jinÃ©mu vrcholu.",editNode:"Upravit vrchol"};var qG=Object.freeze({__proto__:null,cn:$G,cs:RG,de:_G,en:bG,es:wG,fr:PG,it:EG,nl:SG,pt:OG,ru:IG,uk:TG});function CG(n,e){try{const[r,i]=e.split(/[-_ /]/,2),s=r!=null?r.toLowerCase():null,o=i!=null?i.toUpperCase():null;if(s&&o){const a=s+"-"+o;if(Object.prototype.hasOwnProperty.call(n,a))return a;var t;console.warn(tU(t="Unknown variant ".concat(o," of language ")).call(t,s,"."))}if(s){const a=s;if(Object.prototype.hasOwnProperty.call(n,a))return a;console.warn("Unknown language ".concat(s))}return console.warn("Unknown locale ".concat(e,", falling back to English.")),"en"}catch(r){return console.error(r),console.warn("Unexpected error while normalizing locale ".concat(e,", falling back to English.")),"en"}}class xG{constructor(){this.NUM_ITERATIONS=4,this.image=new Image,this.canvas=document.createElement("canvas")}init(){if(this.initialized())return;this.src=this.image.src;const e=this.image.width,t=this.image.height;this.width=e,this.height=t;const r=Math.floor(t/2),i=Math.floor(t/4),s=Math.floor(t/8),o=Math.floor(t/16),a=Math.floor(e/2),u=Math.floor(e/4),l=Math.floor(e/8),d=Math.floor(e/16);this.canvas.width=3*u,this.canvas.height=r,this.coordinates=[[0,0,a,r],[a,0,u,i],[a,i,l,s],[5*l,i,d,o]],this._fillMipMap()}initialized(){return this.coordinates!==void 0}_fillMipMap(){const e=this.canvas.getContext("2d"),t=this.coordinates[0];e.drawImage(this.image,t[0],t[1],t[2],t[3]);for(let r=1;r<this.NUM_ITERATIONS;r++){const i=this.coordinates[r-1],s=this.coordinates[r];e.drawImage(this.canvas,i[0],i[1],i[2],i[3],s[0],s[1],s[2],s[3])}}drawImageAtPosition(e,t,r,i,s,o){if(this.initialized())if(t>2){t*=.5;let a=0;for(;t>2&&a<this.NUM_ITERATIONS;)t*=.5,a+=1;a>=this.NUM_ITERATIONS&&(a=this.NUM_ITERATIONS-1);const u=this.coordinates[a];e.drawImage(this.canvas,u[0],u[1],u[2],u[3],r,i,s,o)}else e.drawImage(this.image,r,i,s,o)}}class DG{constructor(e){this.images={},this.imageBroken={},this.callback=e}_tryloadBrokenUrl(e,t,r){if(!(e===void 0||r===void 0)){if(t===void 0){console.warn("No broken url image defined");return}r.image.onerror=()=>{console.error("Could not load brokenImage:",t)},r.image.src=t}}_redrawWithImage(e){this.callback&&this.callback(e)}load(e,t){const r=this.images[e];if(r)return r;const i=new xG;return this.images[e]=i,i.image.onload=()=>{this._fixImageCoordinates(i.image),i.init(),this._redrawWithImage(i)},i.image.onerror=()=>{console.error("Could not load image:",e),this._tryloadBrokenUrl(e,t,i)},i.image.src=e,i}_fixImageCoordinates(e){e.width===0&&(document.body.appendChild(e),e.width=e.offsetWidth,e.height=e.offsetHeight,document.body.removeChild(e))}}var XC={},ZC={},Gp={exports:{}},Kp,JC;function MG(){if(JC)return Kp;JC=1;var n=te();return Kp=n(function(){if(typeof ArrayBuffer=="function"){var e=new ArrayBuffer(8);Object.isExtensible(e)&&Object.defineProperty(e,"a",{value:8})}}),Kp}var Yp,QC;function AG(){if(QC)return Yp;QC=1;var n=te(),e=ze(),t=kt(),r=MG(),i=Object.isExtensible,s=n(function(){});return Yp=s||r?function(a){return!e(a)||r&&t(a)==="ArrayBuffer"?!1:i?i(a):!0}:i,Yp}var Xp,ex;function Ak(){if(ex)return Xp;ex=1;var n=te();return Xp=!n(function(){return Object.isExtensible(Object.preventExtensions({}))}),Xp}var tx;function Co(){if(tx)return Gp.exports;tx=1;var n=z(),e=re(),t=fs(),r=ze(),i=Ue(),s=yt().f,o=Io(),a=lb(),u=AG(),l=mo(),d=Ak(),c=!1,h=l("meta"),f=0,v=function(b){s(b,h,{value:{objectID:"O"+f++,weakData:{}}})},p=function(b,w){if(!r(b))return typeof b=="symbol"?b:(typeof b=="string"?"S":"P")+b;if(!i(b,h)){if(!u(b))return"F";if(!w)return"E";v(b)}return b[h].objectID},m=function(b,w){if(!i(b,h)){if(!u(b))return!0;if(!w)return!1;v(b)}return b[h].weakData},y=function(b){return d&&c&&u(b)&&!i(b,h)&&v(b),b},g=function(){E.enable=function(){},c=!0;var b=o.f,w=e([].splice),O={};O[h]=1,b(O).length&&(o.f=function(I){for(var _=b(I),S=0,$=_.length;S<$;S++)if(_[S]===h){w(_,S,1);break}return _},n({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:a.f}))},E=Gp.exports={enable:g,fastKey:p,getWeakData:m,onFreeze:y};return t[h]=!0,Gp.exports}var Zp,rx;function FG(){if(rx)return Zp;rx=1;var n=De(),e=on(),t=n("iterator"),r=Array.prototype;return Zp=function(i){return i!==void 0&&(e.Array===i||r[t]===i)},Zp}var Jp,ix;function Fk(){if(ix)return Jp;ix=1;var n=sn(),e=eb(),t=Yi(),r=on(),i=De(),s=i("iterator");return Jp=function(o){if(!t(o))return e(o,s)||e(o,"@@iterator")||r[n(o)]},Jp}var Qp,nx;function NG(){if(nx)return Qp;nx=1;var n=at(),e=tr(),t=Bt(),r=Ji(),i=Fk(),s=TypeError;return Qp=function(o,a){var u=arguments.length<2?i(o):a;if(e(u))return t(n(u,o));throw new s(r(o)+" is not iterable")},Qp}var eg,sx;function Ib(){if(sx)return eg;sx=1;var n=at(),e=Bt(),t=eb();return eg=function(r,i,s){var o,a;e(r);try{if(o=t(r,"return"),!o){if(i==="throw")throw s;return s}o=n(o,r)}catch(u){a=!0,o=u}if(i==="throw")throw s;if(a)throw o;return e(o),s},eg}var tg,ox;function xo(){if(ox)return tg;ox=1;var n=_o(),e=at(),t=Bt(),r=Ji(),i=FG(),s=rr(),o=xe(),a=NG(),u=Fk(),l=Ib(),d=TypeError,c=function(f,v){this.stopped=f,this.result=v},h=c.prototype;return tg=function(f,v,p){var m=p&&p.that,y=!!(p&&p.AS_ENTRIES),g=!!(p&&p.IS_RECORD),E=!!(p&&p.IS_ITERATOR),b=!!(p&&p.INTERRUPTED),w=n(v,m),O,I,_,S,$,T,P,R=function(A){return O&&l(O,"normal"),new c(!0,A)},C=function(A){return y?(t(A),b?w(A[0],A[1],R):w(A[0],A[1])):b?w(A,R):w(A)};if(g)O=f.iterator;else if(E)O=f;else{if(I=u(f),!I)throw new d(r(f)+" is not iterable");if(i(I)){for(_=0,S=s(f);S>_;_++)if($=C(f[_]),$&&o(h,$))return $;return new c(!1)}O=a(f,I)}for(T=g?f.next:O.next;!(P=e(T,O)).done;){try{$=C(P.value)}catch(A){l(O,"throw",A)}if(typeof $=="object"&&$&&o(h,$))return $}return new c(!1)},tg}var rg,ax;function $b(){if(ax)return rg;ax=1;var n=xe(),e=TypeError;return rg=function(t,r){if(n(r,t))return t;throw new e("Incorrect invocation")},rg}var ig,ux;function Tb(){if(ux)return ig;ux=1;var n=z(),e=ye(),t=Co(),r=te(),i=tn(),s=xo(),o=$b(),a=Le(),u=ze(),l=Yi(),d=ai(),c=yt().f,h=wr().forEach,f=$e(),v=ui(),p=v.set,m=v.getterFor;return ig=function(y,g,E){var b=y.indexOf("Map")!==-1,w=y.indexOf("Weak")!==-1,O=b?"set":"add",I=e[y],_=I&&I.prototype,S={},$;if(!f||!a(I)||!(w||_.forEach&&!r(function(){new I().entries().next()})))$=E.getConstructor(g,y,b,O),t.enable();else{$=g(function(R,C){p(o(R,T),{type:y,collection:new I}),l(C)||s(C,R[O],{that:R,AS_ENTRIES:b})});var T=$.prototype,P=m(y);h(["add","clear","delete","forEach","get","has","set","keys","values","entries"],function(R){var C=R==="add"||R==="set";R in _&&!(w&&R==="clear")&&i(T,R,function(A,K){var L=P(this).collection;if(!C&&w&&!u(A))return R==="get"?void 0:!1;var Z=L[R](A===0?0:A,K);return C?this:Z})}),w||c(T,"size",{configurable:!0,get:function(){return P(this).collection.size}})}return d($,y,!1,!0),S[y]=$,n({global:!0,forced:!0},S),w||E.setStrong($,y,b),$},ig}var ng,lx;function Pb(){if(lx)return ng;lx=1;var n=ys();return ng=function(e,t,r){for(var i in t)r&&r.unsafe&&e[i]?e[i]=t[i]:n(e,i,t[i],r);return e},ng}var sg,dx;function kG(){if(dx)return sg;dx=1;var n=lt(),e=db(),t=De(),r=$e(),i=t("species");return sg=function(s){var o=n(s);r&&o&&!o[i]&&e(o,i,{configurable:!0,get:function(){return this}})},sg}var og,cx;function Nk(){if(cx)return og;cx=1;var n=gs(),e=db(),t=Pb(),r=_o(),i=$b(),s=Yi(),o=xo(),a=hb(),u=fb(),l=kG(),d=$e(),c=Co().fastKey,h=ui(),f=h.set,v=h.getterFor;return og={getConstructor:function(p,m,y,g){var E=p(function(_,S){i(_,b),f(_,{type:m,index:n(null),first:null,last:null,size:0}),d||(_.size=0),s(S)||o(S,_[g],{that:_,AS_ENTRIES:y})}),b=E.prototype,w=v(m),O=function(_,S,$){var T=w(_),P=I(_,S),R,C;return P?P.value=$:(T.last=P={index:C=c(S,!0),key:S,value:$,previous:R=T.last,next:null,removed:!1},T.first||(T.first=P),R&&(R.next=P),d?T.size++:_.size++,C!=="F"&&(T.index[C]=P)),_},I=function(_,S){var $=w(_),T=c(S),P;if(T!=="F")return $.index[T];for(P=$.first;P;P=P.next)if(P.key===S)return P};return t(b,{clear:function(){for(var S=this,$=w(S),T=$.first;T;)T.removed=!0,T.previous&&(T.previous=T.previous.next=null),T=T.next;$.first=$.last=null,$.index=n(null),d?$.size=0:S.size=0},delete:function(_){var S=this,$=w(S),T=I(S,_);if(T){var P=T.next,R=T.previous;delete $.index[T.index],T.removed=!0,R&&(R.next=P),P&&(P.previous=R),$.first===T&&($.first=P),$.last===T&&($.last=R),d?$.size--:S.size--}return!!T},forEach:function(S){for(var $=w(this),T=r(S,arguments.length>1?arguments[1]:void 0),P;P=P?P.next:$.first;)for(T(P.value,P.key,this);P&&P.removed;)P=P.previous},has:function(S){return!!I(this,S)}}),t(b,y?{get:function(S){var $=I(this,S);return $&&$.value},set:function(S,$){return O(this,S===0?0:S,$)}}:{add:function(S){return O(this,S=S===0?0:S,S)}}),d&&e(b,"size",{configurable:!0,get:function(){return w(this).size}}),E},setStrong:function(p,m,y){var g=m+" Iterator",E=v(m),b=v(g);a(p,m,function(w,O){f(this,{type:g,target:w,state:E(w),kind:O,last:null})},function(){for(var w=b(this),O=w.kind,I=w.last;I&&I.removed;)I=I.previous;return!w.target||!(w.last=I=I?I.next:w.state.first)?(w.target=null,u(void 0,!0)):u(O==="keys"?I.key:O==="values"?I.value:[I.key,I.value],!1)},y?"entries":"values",!y,!0),l(m)}},og}var hx;function BG(){if(hx)return ZC;hx=1;var n=Tb(),e=Nk();return n("Map",function(t){return function(){return t(this,arguments.length?arguments[0]:void 0)}},e),ZC}var fx;function jG(){return fx||(fx=1,BG()),XC}var vx={},ag,px;function kk(){return px||(px=1,ag=function(n,e){return e===1?function(t,r){return t[n](r)}:function(t,r,i){return t[n](r,i)}}),ag}var ug,gx;function LG(){if(gx)return ug;gx=1;var n=lt(),e=kk(),t=n("Map");return ug={Map:t,set:e("set",2),get:e("get",1),has:e("has",1),remove:e("delete",1),proto:t.prototype},ug}var yx;function zG(){if(yx)return vx;yx=1;var n=z(),e=re(),t=tr(),r=er(),i=xo(),s=LG(),o=Qi(),a=te(),u=s.Map,l=s.has,d=s.get,c=s.set,h=e([].push),f=o||a(function(){return u.groupBy("ab",function(v){return v}).get("a").length!==1});return n({target:"Map",stat:!0,forced:o||f},{groupBy:function(p,m){r(p),t(m);var y=new u,g=0;return i(p,function(E){var b=m(E,g++);l(y,b)?h(d(y,b),E):c(y,b,[E])}),y}}),vx}var mx={},lg,bx;function WG(){if(bx)return lg;bx=1;var n=re(),e=rn(),t=mt(),r=er(),i=n("".charAt),s=n("".charCodeAt),o=n("".slice),a=function(u){return function(l,d){var c=t(r(l)),h=e(d),f=c.length,v,p;return h<0||h>=f?u?"":void 0:(v=s(c,h),v<55296||v>56319||h+1===f||(p=s(c,h+1))<56320||p>57343?u?i(c,h):v:u?o(c,h,h+2):(v-55296<<10)+(p-56320)+65536)}};return lg={codeAt:a(!1),charAt:a(!0)},lg}var _x;function Rb(){if(_x)return mx;_x=1;var n=WG().charAt,e=mt(),t=ui(),r=hb(),i=fb(),s="String Iterator",o=t.set,a=t.getterFor(s);return r(String,"String",function(u){o(this,{type:s,string:e(u),index:0})},function(){var l=a(this),d=l.string,c=l.index,h;return c>=d.length?i(void 0,!0):(h=n(d,c),l.index+=h.length,i(h,!1))}),mx}var dg,wx;function HG(){if(wx)return dg;wx=1,an(),jG(),zG(),Rb();var n=ae();return dg=n.Map,dg}var cg,Ex;function UG(){if(Ex)return cg;Ex=1;var n=HG();return un(),cg=n,cg}var hg,Sx;function VG(){return Sx||(Sx=1,hg=UG()),hg}var GG=VG(),qb=G(GG);class KG{constructor(){this.clear(),this._defaultIndex=0,this._groupIndex=0,this._defaultGroups=[{border:"#2B7CE9",background:"#97C2FC",highlight:{border:"#2B7CE9",background:"#D2E5FF"},hover:{border:"#2B7CE9",background:"#D2E5FF"}},{border:"#FFA500",background:"#FFFF00",highlight:{border:"#FFA500",background:"#FFFFA3"},hover:{border:"#FFA500",background:"#FFFFA3"}},{border:"#FA0A10",background:"#FB7E81",highlight:{border:"#FA0A10",background:"#FFAFB1"},hover:{border:"#FA0A10",background:"#FFAFB1"}},{border:"#41A906",background:"#7BE141",highlight:{border:"#41A906",background:"#A1EC76"},hover:{border:"#41A906",background:"#A1EC76"}},{border:"#E129F0",background:"#EB7DF4",highlight:{border:"#E129F0",background:"#F0B3F5"},hover:{border:"#E129F0",background:"#F0B3F5"}},{border:"#7C29F0",background:"#AD85E4",highlight:{border:"#7C29F0",background:"#D3BDF0"},hover:{border:"#7C29F0",background:"#D3BDF0"}},{border:"#C37F00",background:"#FFA807",highlight:{border:"#C37F00",background:"#FFCA66"},hover:{border:"#C37F00",background:"#FFCA66"}},{border:"#4220FB",background:"#6E6EFD",highlight:{border:"#4220FB",background:"#9B9BFD"},hover:{border:"#4220FB",background:"#9B9BFD"}},{border:"#FD5A77",background:"#FFC0CB",highlight:{border:"#FD5A77",background:"#FFD1D9"},hover:{border:"#FD5A77",background:"#FFD1D9"}},{border:"#4AD63A",background:"#C2FABC",highlight:{border:"#4AD63A",background:"#E6FFE3"},hover:{border:"#4AD63A",background:"#E6FFE3"}},{border:"#990000",background:"#EE0000",highlight:{border:"#BB0000",background:"#FF3333"},hover:{border:"#BB0000",background:"#FF3333"}},{border:"#FF6000",background:"#FF6000",highlight:{border:"#FF6000",background:"#FF6000"},hover:{border:"#FF6000",background:"#FF6000"}},{border:"#97C2FC",background:"#2B7CE9",highlight:{border:"#D2E5FF",background:"#2B7CE9"},hover:{border:"#D2E5FF",background:"#2B7CE9"}},{border:"#399605",background:"#255C03",highlight:{border:"#399605",background:"#255C03"},hover:{border:"#399605",background:"#255C03"}},{border:"#B70054",background:"#FF007E",highlight:{border:"#B70054",background:"#FF007E"},hover:{border:"#B70054",background:"#FF007E"}},{border:"#AD85E4",background:"#7C29F0",highlight:{border:"#D3BDF0",background:"#7C29F0"},hover:{border:"#D3BDF0",background:"#7C29F0"}},{border:"#4557FA",background:"#000EA1",highlight:{border:"#6E6EFD",background:"#000EA1"},hover:{border:"#6E6EFD",background:"#000EA1"}},{border:"#FFC0CB",background:"#FD5A77",highlight:{border:"#FFD1D9",background:"#FD5A77"},hover:{border:"#FFD1D9",background:"#FD5A77"}},{border:"#C2FABC",background:"#74D66A",highlight:{border:"#E6FFE3",background:"#74D66A"},hover:{border:"#E6FFE3",background:"#74D66A"}},{border:"#EE0000",background:"#990000",highlight:{border:"#FF3333",background:"#BB0000"},hover:{border:"#FF3333",background:"#BB0000"}}],this.options={},this.defaultOptions={useDefaultGroups:!0},Pe(this.options,this.defaultOptions)}setOptions(e){const t=["useDefaultGroups"];if(e!==void 0){for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&se(t).call(t,r)===-1){const i=e[r];this.add(r,i)}}}clear(){this._groups=new qb,this._groupNames=[]}get(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,r=this._groups.get(e);if(r===void 0&&t)if(this.options.useDefaultGroups===!1&&this._groupNames.length>0){const i=this._groupIndex%this._groupNames.length;++this._groupIndex,r={},r.color=this._groups.get(this._groupNames[i]),this._groups.set(e,r)}else{const i=this._defaultIndex%this._defaultGroups.length;this._defaultIndex++,r={},r.color=this._defaultGroups[i],this._groups.set(e,r)}return r}add(e,t){return this._groups.has(e)||this._groupNames.push(e),this._groups.set(e,t),t}}var Ox={},Ix;function YG(){if(Ix)return Ox;Ix=1;var n=z();return n({target:"Number",stat:!0},{isNaN:function(t){return t!==t}}),Ox}var fg,$x;function XG(){if($x)return fg;$x=1,YG();var n=ae();return fg=n.Number.isNaN,fg}var vg,Tx;function ZG(){if(Tx)return vg;Tx=1;var n=XG();return vg=n,vg}var pg,Px;function JG(){return Px||(Px=1,pg=ZG()),pg}var QG=JG(),$m=G(QG),Rx={},gg,qx;function eK(){if(qx)return gg;qx=1;var n=ye(),e=n.isFinite;return gg=Number.isFinite||function(r){return typeof r=="number"&&e(r)},gg}var Cx;function tK(){if(Cx)return Rx;Cx=1;var n=z(),e=eK();return n({target:"Number",stat:!0},{isFinite:e}),Rx}var yg,xx;function rK(){if(xx)return yg;xx=1,tK();var n=ae();return yg=n.Number.isFinite,yg}var mg,Dx;function iK(){if(Dx)return mg;Dx=1;var n=rK();return mg=n,mg}var bg,Mx;function nK(){return Mx||(Mx=1,bg=iK()),bg}var sK=nK(),Fr=G(sK),Ax={},Fx;function oK(){if(Fx)return Ax;Fx=1;var n=z(),e=wr().some,t=ln(),r=t("some");return n({target:"Array",proto:!0,forced:!r},{some:function(s){return e(this,s,arguments.length>1?arguments[1]:void 0)}}),Ax}var _g,Nx;function aK(){if(Nx)return _g;Nx=1,oK();var n=Ve();return _g=n("Array","some"),_g}var wg,kx;function uK(){if(kx)return wg;kx=1;var n=xe(),e=aK(),t=Array.prototype;return wg=function(r){var i=r.some;return r===t||n(t,r)&&i===t.some?e:i},wg}var Eg,Bx;function lK(){if(Bx)return Eg;Bx=1;var n=uK();return Eg=n,Eg}var Sg,jx;function dK(){return jx||(jx=1,Sg=lK()),Sg}var cK=dK(),hK=G(cK),Og={exports:{}},Lx={},zx;function fK(){if(zx)return Lx;zx=1;var n=z(),e=$e(),t=yt().f;return n({target:"Object",stat:!0,forced:Object.defineProperty!==t,sham:!e},{defineProperty:t}),Lx}var Wx;function vK(){if(Wx)return Og.exports;Wx=1,fK();var n=ae(),e=n.Object,t=Og.exports=function(i,s,o){return e.defineProperty(i,s,o)};return e.defineProperty.sham&&(t.sham=!0),Og.exports}var Ig,Hx;function Bk(){if(Hx)return Ig;Hx=1;var n=vK();return Ig=n,Ig}var $g,Ux;function pK(){if(Ux)return $g;Ux=1;var n=Bk();return $g=n,$g}var Tg,Vx;function gK(){if(Vx)return Tg;Vx=1;var n=pK();return Tg=n,Tg}var Pg,Gx;function yK(){return Gx||(Gx=1,Pg=gK()),Pg}var mK=yK(),bK=G(mK),Kx={},Yx;function _K(){if(Yx)return Kx;Yx=1;var n=De(),e=yt().f,t=n("metadata"),r=Function.prototype;return r[t]===void 0&&e(r,t,{value:null}),Kx}var Xx={},Zx;function wK(){return Zx||(Zx=1,LN()),Xx}var Jx={},Qx;function EK(){return Qx||(Qx=1,zN()),Jx}var eD={},tD;function SK(){if(tD)return eD;tD=1;var n=we();return n("metadata"),eD}var Rg,rD;function OK(){if(rD)return Rg;rD=1;var n=GN();return _K(),wK(),EK(),SK(),Rg=n,Rg}var iD={},qg,nD;function jk(){if(nD)return qg;nD=1;var n=lt(),e=re(),t=n("Symbol"),r=t.keyFor,i=e(t.prototype.valueOf);return qg=t.isRegisteredSymbol||function(o){try{return r(i(o))!==void 0}catch{return!1}},qg}var sD;function IK(){if(sD)return iD;sD=1;var n=z(),e=jk();return n({target:"Symbol",stat:!0},{isRegisteredSymbol:e}),iD}var oD={},Cg,aD;function Lk(){if(aD)return Cg;aD=1;for(var n=en(),e=lt(),t=re(),r=hs(),i=De(),s=e("Symbol"),o=s.isWellKnownSymbol,a=e("Object","getOwnPropertyNames"),u=t(s.prototype.valueOf),l=n("wks"),d=0,c=a(s),h=c.length;d<h;d++)try{var f=c[d];r(s[f])&&i(f)}catch{}return Cg=function(p){if(o&&o(p))return!0;try{for(var m=u(p),y=0,g=a(l),E=g.length;y<E;y++)if(l[g[y]]==m)return!0}catch{}return!1},Cg}var uD;function $K(){if(uD)return oD;uD=1;var n=z(),e=Lk();return n({target:"Symbol",stat:!0,forced:!0},{isWellKnownSymbol:e}),oD}var lD={},dD;function TK(){if(dD)return lD;dD=1;var n=we();return n("customMatcher"),lD}var cD={},hD;function PK(){if(hD)return cD;hD=1;var n=we();return n("observable"),cD}var fD={},vD;function RK(){if(vD)return fD;vD=1;var n=z(),e=jk();return n({target:"Symbol",stat:!0,name:"isRegisteredSymbol"},{isRegistered:e}),fD}var pD={},gD;function qK(){if(gD)return pD;gD=1;var n=z(),e=Lk();return n({target:"Symbol",stat:!0,name:"isWellKnownSymbol",forced:!0},{isWellKnown:e}),pD}var yD={},mD;function CK(){if(mD)return yD;mD=1;var n=we();return n("matcher"),yD}var bD={},_D;function xK(){if(_D)return bD;_D=1;var n=we();return n("metadataKey"),bD}var wD={},ED;function DK(){if(ED)return wD;ED=1;var n=we();return n("patternMatch"),wD}var SD={},OD;function MK(){if(OD)return SD;OD=1;var n=we();return n("replaceAll"),SD}var xg,ID;function AK(){if(ID)return xg;ID=1;var n=OK();return IK(),$K(),TK(),PK(),RK(),qK(),CK(),xK(),DK(),MK(),xg=n,xg}var Dg,$D;function FK(){return $D||($D=1,Dg=AK()),Dg}var NK=FK(),As=G(NK),Mg,TD;function kK(){if(TD)return Mg;TD=1,an(),Rb(),WN();var n=$o();return Mg=n.f("iterator"),Mg}var Ag,PD;function BK(){if(PD)return Ag;PD=1;var n=kK();return un(),Ag=n,Ag}var Fg,RD;function jK(){if(RD)return Fg;RD=1;var n=BK();return Fg=n,Fg}var Ng,qD;function LK(){if(qD)return Ng;qD=1;var n=jK();return Ng=n,Ng}var kg,CD;function zK(){return CD||(CD=1,kg=LK()),kg}var WK=zK(),HK=G(WK);function Un(n){"@babel/helpers - typeof";return Un=typeof As=="function"&&typeof HK=="symbol"?function(e){return typeof e}:function(e){return e&&typeof As=="function"&&e.constructor===As&&e!==As.prototype?"symbol":typeof e},Un(n)}var Bg,xD;function UK(){if(xD)return Bg;xD=1,HN();var n=$o();return Bg=n.f("toPrimitive"),Bg}var jg,DD;function VK(){if(DD)return jg;DD=1;var n=UK();return jg=n,jg}var Lg,MD;function GK(){if(MD)return Lg;MD=1;var n=VK();return Lg=n,Lg}var zg,AD;function KK(){if(AD)return zg;AD=1;var n=GK();return zg=n,zg}var Wg,FD;function YK(){return FD||(FD=1,Wg=KK()),Wg}var XK=YK(),ZK=G(XK);function JK(n,e){if(Un(n)!="object"||!n)return n;var t=n[ZK];if(t!==void 0){var r=t.call(n,e);if(Un(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function QK(n){var e=JK(n,"string");return Un(e)=="symbol"?e:e+""}function zt(n,e,t){return(e=QK(e))in n?bK(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}var ND={},Hg,kD;function e4(){if(kD)return Hg;kD=1;var n=ye(),e=te(),t=re(),r=mt(),i=YN().trim,s=vb(),o=t("".charAt),a=n.parseFloat,u=n.Symbol,l=u&&u.iterator,d=1/a(s+"-0")!==-1/0||l&&!e(function(){a(Object(l))});return Hg=d?function(h){var f=i(r(h)),v=a(f);return v===0&&o(f,0)==="-"?-0:v}:a,Hg}var BD;function t4(){if(BD)return ND;BD=1;var n=z(),e=e4();return n({global:!0,forced:parseFloat!==e},{parseFloat:e}),ND}var Ug,jD;function r4(){if(jD)return Ug;jD=1,t4();var n=ae();return Ug=n.parseFloat,Ug}var Vg,LD;function i4(){if(LD)return Vg;LD=1;var n=r4();return Vg=n,Vg}var Gg,zD;function n4(){return zD||(zD=1,Gg=i4()),Gg}var s4=n4(),zk=G(s4),WD={},HD;function o4(){if(HD)return WD;HD=1;var n=z(),e=te(),t=lb().f,r=e(function(){return!Object.getOwnPropertyNames(1)});return n({target:"Object",stat:!0,forced:r},{getOwnPropertyNames:t}),WD}var Kg,UD;function a4(){if(UD)return Kg;UD=1,o4();var n=ae(),e=n.Object;return Kg=function(r){return e.getOwnPropertyNames(r)},Kg}var Yg,VD;function u4(){if(VD)return Yg;VD=1;var n=a4();return Yg=n,Yg}var Xg,GD;function l4(){return GD||(GD=1,Xg=u4()),Xg}var d4=l4(),c4=G(d4),Zg,KD;function h4(){if(KD)return Zg;KD=1,jN();var n=ae();return Zg=n.Object.getOwnPropertySymbols,Zg}var Jg,YD;function f4(){if(YD)return Jg;YD=1;var n=h4();return Jg=n,Jg}var Qg,XD;function v4(){return XD||(XD=1,Qg=f4()),Qg}var p4=v4(),vr=G(p4),ey={exports:{}},ZD={},JD;function g4(){if(JD)return ZD;JD=1;var n=z(),e=te(),t=Rt(),r=bo().f,i=$e(),s=!i||e(function(){r(1)});return n({target:"Object",stat:!0,forced:s,sham:!i},{getOwnPropertyDescriptor:function(a,u){return r(t(a),u)}}),ZD}var QD;function y4(){if(QD)return ey.exports;QD=1,g4();var n=ae(),e=n.Object,t=ey.exports=function(i,s){return e.getOwnPropertyDescriptor(i,s)};return e.getOwnPropertyDescriptor.sham&&(t.sham=!0),ey.exports}var ty,eM;function m4(){if(eM)return ty;eM=1;var n=y4();return ty=n,ty}var ry,tM;function b4(){return tM||(tM=1,ry=m4()),ry}var _4=b4(),Er=G(_4),rM={},iM;function w4(){if(iM)return rM;iM=1;var n=z(),e=$e(),t=V3(),r=Rt(),i=bo(),s=So();return n({target:"Object",stat:!0,sham:!e},{getOwnPropertyDescriptors:function(a){for(var u=r(a),l=i.f,d=t(u),c={},h=0,f,v;d.length>h;)v=l(u,f=d[h++]),v!==void 0&&s(c,f,v);return c}}),rM}var iy,nM;function E4(){if(nM)return iy;nM=1,w4();var n=ae();return iy=n.Object.getOwnPropertyDescriptors,iy}var ny,sM;function S4(){if(sM)return ny;sM=1;var n=E4();return ny=n,ny}var sy,oM;function O4(){return oM||(oM=1,sy=S4()),sy}var I4=O4(),pr=G(I4),oy={exports:{}},aM={},uM;function $4(){if(uM)return aM;uM=1;var n=z(),e=$e(),t=ub().f;return n({target:"Object",stat:!0,forced:Object.defineProperties!==t,sham:!e},{defineProperties:t}),aM}var lM;function T4(){if(lM)return oy.exports;lM=1,$4();var n=ae(),e=n.Object,t=oy.exports=function(i,s){return e.defineProperties(i,s)};return e.defineProperties.sham&&(t.sham=!0),oy.exports}var ay,dM;function P4(){if(dM)return ay;dM=1;var n=T4();return ay=n,ay}var uy,cM;function R4(){return cM||(cM=1,uy=P4()),uy}var q4=R4(),Do=G(q4),ly,hM;function C4(){return hM||(hM=1,ly=Bk()),ly}var x4=C4(),Mo=G(x4);function Cb(n,e){const t=["node","edge","label"];let r=!0;const i=nr(e,"chosen");if(typeof i=="boolean")r=i;else if(typeof i=="object"){if(se(t).call(t,n)===-1)throw new Error("choosify: subOption '"+n+"' should be one of '"+t.join("', '")+"'");const s=nr(e,["chosen",n]);(typeof s=="boolean"||typeof s=="function")&&(r=s)}return r}function Tm(n,e,t){if(n.width<=0||n.height<=0)return!1;if(t!==void 0){const s={x:e.x-t.x,y:e.y-t.y};if(t.angle!==0){const o=-t.angle;e={x:Math.cos(o)*s.x-Math.sin(o)*s.y,y:Math.sin(o)*s.x+Math.cos(o)*s.y}}else e=s}const r=n.x+n.width,i=n.y+n.width;return n.left<e.x&&r>e.x&&n.top<e.y&&i>e.y}function Zs(n){return typeof n=="string"&&n!==""}function Wk(n,e,t,r){let i=r.x,s=r.y;if(typeof r.distanceToBorder=="function"){const o=r.distanceToBorder(n,e),a=Math.sin(e)*o,u=Math.cos(e)*o;u===o?(i+=o,s=r.y):a===o?(i=r.x,s-=o):(i+=u,s-=a)}else r.shape.width>r.shape.height?(i=r.x+r.shape.width*.5,s=r.y-t):(i=r.x+t,s=r.y-r.shape.height*.5);return{x:i,y:s}}var dy,fM;function D4(){if(fM)return dy;fM=1,an();var n=Ve();return dy=n("Array","values"),dy}var cy,vM;function M4(){if(vM)return cy;vM=1;var n=D4();return cy=n,cy}var hy,pM;function A4(){if(pM)return hy;pM=1,un();var n=sn(),e=Ue(),t=xe(),r=M4(),i=Array.prototype,s={DOMTokenList:!0,NodeList:!0};return hy=function(o){var a=o.values;return o===i||t(i,o)&&a===i.values||e(s,n(o))?r:a},hy}var fy,gM;function F4(){return gM||(gM=1,fy=A4()),fy}var N4=F4(),Hk=G(N4);class k4{constructor(e){this.measureText=e,this.current=0,this.width=0,this.height=0,this.lines=[]}_add(e,t){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"normal";this.lines[e]===void 0&&(this.lines[e]={width:0,height:0,blocks:[]});let i=t;(t===void 0||t==="")&&(i=" ");const s=this.measureText(i,r),o=Pe({},Hk(s));o.text=t,o.width=s.width,o.mod=r,(t===void 0||t==="")&&(o.width=0),this.lines[e].blocks.push(o),this.lines[e].width+=o.width}curWidth(){const e=this.lines[this.current];return e===void 0?0:e.width}append(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"normal";this._add(this.current,e,t)}newLine(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"normal";this._add(this.current,e,t),this.current++}determineLineHeights(){for(let e=0;e<this.lines.length;e++){const t=this.lines[e];let r=0;if(t.blocks!==void 0)for(let i=0;i<t.blocks.length;i++){const s=t.blocks[i];r<s.height&&(r=s.height)}t.height=r}}determineLabelSize(){let e=0,t=0;for(let r=0;r<this.lines.length;r++){const i=this.lines[r];i.width>e&&(e=i.width),t+=i.height}this.width=e,this.height=t}removeEmptyBlocks(){const e=[];for(let t=0;t<this.lines.length;t++){const r=this.lines[t];if(r.blocks.length===0||t===this.lines.length-1&&r.width===0)continue;const i={};Pe(i,r),i.blocks=[];let s;const o=[];for(let a=0;a<r.blocks.length;a++){const u=r.blocks[a];u.width!==0?o.push(u):s===void 0&&(s=u)}o.length===0&&s!==void 0&&o.push(s),i.blocks=o,e.push(i)}return e}finalize(){this.determineLineHeights(),this.determineLabelSize();const e=this.removeEmptyBlocks();return{width:this.width,height:this.height,lines:e}}}const B4={"<b>":/<b>/,"<i>":/<i>/,"<code>":/<code>/,"</b>":/<\/b>/,"</i>":/<\/i>/,"</code>":/<\/code>/,"*":/\*/,_:/_/,"`":/`/,afterBold:/[^*]/,afterItal:/[^_]/,afterMono:/[^`]/};class yM{constructor(e){this.text=e,this.bold=!1,this.ital=!1,this.mono=!1,this.spacing=!1,this.position=0,this.buffer="",this.modStack=[],this.blocks=[]}mod(){return this.modStack.length===0?"normal":this.modStack[0]}modName(){if(this.modStack.length===0)return"normal";if(this.modStack[0]==="mono")return"mono";if(this.bold&&this.ital)return"boldital";if(this.bold)return"bold";if(this.ital)return"ital"}emitBlock(){this.spacing&&(this.add(" "),this.spacing=!1),this.buffer.length>0&&(this.blocks.push({text:this.buffer,mod:this.modName()}),this.buffer="")}add(e){e===" "&&(this.spacing=!0),this.spacing&&(this.buffer+=" ",this.spacing=!1),e!=" "&&(this.buffer+=e)}parseWS(e){return/[ \t]/.test(e)?(this.mono?this.add(e):this.spacing=!0,!0):!1}setTag(e){this.emitBlock(),this[e]=!0,this.modStack.unshift(e)}unsetTag(e){this.emitBlock(),this[e]=!1,this.modStack.shift()}parseStartTag(e,t){return!this.mono&&!this[e]&&this.match(t)?(this.setTag(e),!0):!1}match(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;const[r,i]=this.prepareRegExp(e),s=r.test(this.text.substr(this.position,i));return s&&t&&(this.position+=i-1),s}parseEndTag(e,t,r){let i=this.mod()===e;return e==="mono"?i=i&&this.mono:i=i&&!this.mono,i&&this.match(t)?(r!==void 0?(this.position===this.text.length-1||this.match(r,!1))&&this.unsetTag(e):this.unsetTag(e),!0):!1}replace(e,t){return this.match(e)?(this.add(t),this.position+=length-1,!0):!1}prepareRegExp(e){let t,r;if(e instanceof RegExp)r=e,t=1;else{const i=B4[e];i!==void 0?r=i:r=new RegExp(e),t=e.length}return[r,t]}}class j4{constructor(e,t,r,i){this.ctx=e,this.parent=t,this.selected=r,this.hover=i;const s=(o,a)=>{if(o===void 0)return 0;const u=this.parent.getFormattingValues(e,r,i,a);let l=0;return o!==""&&(l=this.ctx.measureText(o).width),{width:l,values:u}};this.lines=new k4(s)}process(e){if(!Zs(e))return this.lines.finalize();const t=this.parent.fontOptions;e=e.replace(/\r\n/g,`
`),e=e.replace(/\r/g,`
`);const r=String(e).split(`
`),i=r.length;if(t.multi)for(let s=0;s<i;s++){const o=this.splitBlocks(r[s],t.multi);if(o!==void 0){if(o.length===0){this.lines.newLine("");continue}if(t.maxWdt>0)for(let a=0;a<o.length;a++){const u=o[a].mod,l=o[a].text;this.splitStringIntoLines(l,u,!0)}else for(let a=0;a<o.length;a++){const u=o[a].mod,l=o[a].text;this.lines.append(l,u)}this.lines.newLine()}}else if(t.maxWdt>0)for(let s=0;s<i;s++)this.splitStringIntoLines(r[s]);else for(let s=0;s<i;s++)this.lines.newLine(r[s]);return this.lines.finalize()}decodeMarkupSystem(e){let t="none";return e==="markdown"||e==="md"?t="markdown":(e===!0||e==="html")&&(t="html"),t}splitHtmlBlocks(e){const t=new yM(e),r=i=>/&/.test(i)?(t.replace(t.text,"&lt;","<")||t.replace(t.text,"&amp;","&")||t.add("&"),!0):!1;for(;t.position<t.text.length;){const i=t.text.charAt(t.position);t.parseWS(i)||/</.test(i)&&(t.parseStartTag("bold","<b>")||t.parseStartTag("ital","<i>")||t.parseStartTag("mono","<code>")||t.parseEndTag("bold","</b>")||t.parseEndTag("ital","</i>")||t.parseEndTag("mono","</code>"))||r(i)||t.add(i),t.position++}return t.emitBlock(),t.blocks}splitMarkdownBlocks(e){const t=new yM(e);let r=!0;const i=s=>/\\/.test(s)?(t.position<this.text.length+1&&(t.position++,s=this.text.charAt(t.position),/ \t/.test(s)?t.spacing=!0:(t.add(s),r=!1)),!0):!1;for(;t.position<t.text.length;){const s=t.text.charAt(t.position);t.parseWS(s)||i(s)||(r||t.spacing)&&(t.parseStartTag("bold","*")||t.parseStartTag("ital","_")||t.parseStartTag("mono","`"))||t.parseEndTag("bold","*","afterBold")||t.parseEndTag("ital","_","afterItal")||t.parseEndTag("mono","`","afterMono")||(t.add(s),r=!1),t.position++}return t.emitBlock(),t.blocks}splitBlocks(e,t){const r=this.decodeMarkupSystem(t);if(r==="none")return[{text:e,mod:"normal"}];if(r==="markdown")return this.splitMarkdownBlocks(e);if(r==="html")return this.splitHtmlBlocks(e)}overMaxWidth(e){const t=this.ctx.measureText(e).width;return this.lines.curWidth()+t>this.parent.fontOptions.maxWdt}getLongestFit(e){let t="",r=0;for(;r<e.length;){const s=t+(t===""?"":" ")+e[r];if(this.overMaxWidth(s))break;t=s,r++}return r}getLongestFitWord(e){let t=0;for(;t<e.length&&!this.overMaxWidth(Ct(e).call(e,0,t));)t++;return t}splitStringIntoLines(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"normal",r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;this.parent.getFormattingValues(this.ctx,this.selected,this.hover,t),e=e.replace(/^( +)/g,"$1\r"),e=e.replace(/([^\r][^ ]*)( +)/g,"$1\r$2\r");let i=e.split("\r");for(;i.length>0;){let s=this.getLongestFit(i);if(s===0){const o=i[0],a=this.getLongestFitWord(o);this.lines.newLine(Ct(o).call(o,0,a),t),i[0]=Ct(o).call(o,a)}else{let o=s;i[s-1]===" "?s--:i[o]===" "&&o++;const a=Ct(i).call(i,0,s).join("");s==i.length&&r?this.lines.append(a,t):this.lines.newLine(a,t),i=Ct(i).call(i,o)}}}}const On=["bold","ital","boldital","mono"];class Ti{constructor(e,t){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;this.body=e,this.pointToSelf=!1,this.baseSize=void 0,this.fontOptions={},this.setOptions(t),this.size={top:0,left:0,width:0,height:0,yLine:0},this.isEdgeLabel=r}setOptions(e){if(this.elementOptions=e,this.initFontOptions(e.font),Zs(e.label)?this.labelDirty=!0:e.label=void 0,e.font!==void 0&&e.font!==null){if(typeof e.font=="string")this.baseSize=this.fontOptions.size;else if(typeof e.font=="object"){const t=e.font.size;t!==void 0&&(this.baseSize=t)}}}initFontOptions(e){if(J(On,t=>{this.fontOptions[t]={}}),Ti.parseFontString(this.fontOptions,e)){this.fontOptions.vadjust=0;return}J(e,(t,r)=>{t!=null&&typeof t!="object"&&(this.fontOptions[r]=t)})}static parseFontString(e,t){if(!t||typeof t!="string")return!1;const r=t.split(" ");return e.size=+r[0].replace("px",""),e.face=r[1],e.color=r[2],!0}constrain(e){const t={constrainWidth:!1,maxWdt:-1,minWdt:-1,constrainHeight:!1,minHgt:-1,valign:"middle"},r=nr(e,"widthConstraint");if(typeof r=="number")t.maxWdt=Number(r),t.minWdt=Number(r);else if(typeof r=="object"){const s=nr(e,["widthConstraint","maximum"]);typeof s=="number"&&(t.maxWdt=Number(s));const o=nr(e,["widthConstraint","minimum"]);typeof o=="number"&&(t.minWdt=Number(o))}const i=nr(e,"heightConstraint");if(typeof i=="number")t.minHgt=Number(i);else if(typeof i=="object"){const s=nr(e,["heightConstraint","minimum"]);typeof s=="number"&&(t.minHgt=Number(s));const o=nr(e,["heightConstraint","valign"]);typeof o=="string"&&(o==="top"||o==="bottom")&&(t.valign=o)}return t}update(e,t){this.setOptions(e,!0),this.propagateFonts(t),fe(this.fontOptions,this.constrain(t)),this.fontOptions.chooser=Cb("label",t)}adjustSizes(e){const t=e?e.right+e.left:0;this.fontOptions.constrainWidth&&(this.fontOptions.maxWdt-=t,this.fontOptions.minWdt-=t);const r=e?e.top+e.bottom:0;this.fontOptions.constrainHeight&&(this.fontOptions.minHgt-=r)}addFontOptionsToPile(e,t){for(let r=0;r<t.length;++r)this.addFontToPile(e,t[r])}addFontToPile(e,t){if(t===void 0||t.font===void 0||t.font===null)return;const r=t.font;e.push(r)}getBasicOptions(e){const t={};for(let r=0;r<e.length;++r){let i=e[r];const s={};Ti.parseFontString(s,i)&&(i=s),J(i,(o,a)=>{o!==void 0&&(Object.prototype.hasOwnProperty.call(t,a)||(se(On).call(On,a)!==-1?t[a]={}:t[a]=o))})}return t}getFontOption(e,t,r){let i;for(let s=0;s<e.length;++s){const o=e[s];if(Object.prototype.hasOwnProperty.call(o,t)){if(i=o[t],i==null)continue;const a={};if(Ti.parseFontString(a,i)&&(i=a),Object.prototype.hasOwnProperty.call(i,r))return i[r]}}if(Object.prototype.hasOwnProperty.call(this.fontOptions,r))return this.fontOptions[r];throw new Error("Did not find value for multi-font for property: '"+r+"'")}getFontOptions(e,t){const r={},i=["color","size","face","mod","vadjust"];for(let s=0;s<i.length;++s){const o=i[s];r[o]=this.getFontOption(e,t,o)}return r}propagateFonts(e){const t=[];this.addFontOptionsToPile(t,e),this.fontOptions=this.getBasicOptions(t);for(let r=0;r<On.length;++r){const i=On[r],s=this.fontOptions[i],o=this.getFontOptions(t,i);J(o,(a,u)=>{s[u]=a}),s.size=Number(s.size),s.vadjust=Number(s.vadjust)}}draw(e,t,r,i,s){let o=arguments.length>5&&arguments[5]!==void 0?arguments[5]:"middle";if(this.elementOptions.label===void 0)return;let a=this.fontOptions.size*this.body.view.scale;this.elementOptions.label&&a<this.elementOptions.scaling.label.drawThreshold-1||(a>=this.elementOptions.scaling.label.maxVisible&&(a=Number(this.elementOptions.scaling.label.maxVisible)/this.body.view.scale),this.calculateLabelSize(e,i,s,t,r,o),this._drawBackground(e),this._drawText(e,t,this.size.yLine,o,a))}_drawBackground(e){if(this.fontOptions.background!==void 0&&this.fontOptions.background!=="none"){e.fillStyle=this.fontOptions.background;const t=this.getSize();e.fillRect(t.left,t.top,t.width,t.height)}}_drawText(e,t,r){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"middle",s=arguments.length>4?arguments[4]:void 0;[t,r]=this._setAlignment(e,t,r,i),e.textAlign="left",t=t-this.size.width/2,this.fontOptions.valign&&this.size.height>this.size.labelHeight&&(this.fontOptions.valign==="top"&&(r-=(this.size.height-this.size.labelHeight)/2),this.fontOptions.valign==="bottom"&&(r+=(this.size.height-this.size.labelHeight)/2));for(let o=0;o<this.lineCount;o++){const a=this.lines[o];if(a&&a.blocks){let u=0;this.isEdgeLabel||this.fontOptions.align==="center"?u+=(this.size.width-a.width)/2:this.fontOptions.align==="right"&&(u+=this.size.width-a.width);for(let l=0;l<a.blocks.length;l++){const d=a.blocks[l];e.font=d.font;const[c,h]=this._getColor(d.color,s,d.strokeColor);d.strokeWidth>0&&(e.lineWidth=d.strokeWidth,e.strokeStyle=h,e.lineJoin="round"),e.fillStyle=c,d.strokeWidth>0&&e.strokeText(d.text,t+u,r+d.vadjust),e.fillText(d.text,t+u,r+d.vadjust),u+=d.width}r+=a.height}}}_setAlignment(e,t,r,i){if(this.isEdgeLabel&&this.fontOptions.align!=="horizontal"&&this.pointToSelf===!1){t=0,r=0;const s=2;this.fontOptions.align==="top"?(e.textBaseline="alphabetic",r-=2*s):this.fontOptions.align==="bottom"?(e.textBaseline="hanging",r+=2*s):e.textBaseline="middle"}else e.textBaseline=i;return[t,r]}_getColor(e,t,r){let i=e||"#000000",s=r||"#ffffff";if(t<=this.elementOptions.scaling.label.drawThreshold){const o=Math.max(0,Math.min(1,1-(this.elementOptions.scaling.label.drawThreshold-t)));i=ht(i,o),s=ht(s,o)}return[i,s]}getTextSize(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;return this._processLabel(e,t,r),{width:this.size.width,height:this.size.height,lineCount:this.lineCount}}getSize(){let t=this.size.left,r=this.size.top-.5*2;if(this.isEdgeLabel){const s=-this.size.width*.5;switch(this.fontOptions.align){case"middle":t=s,r=-this.size.height*.5;break;case"top":t=s,r=-(this.size.height+2);break;case"bottom":t=s,r=2;break}}return{left:t,top:r,width:this.size.width,height:this.size.height}}calculateLabelSize(e,t,r){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0,o=arguments.length>5&&arguments[5]!==void 0?arguments[5]:"middle";this._processLabel(e,t,r),this.size.left=i-this.size.width*.5,this.size.top=s-this.size.height*.5,this.size.yLine=s+(1-this.lineCount)*.5*this.fontOptions.size,o==="hanging"&&(this.size.top+=.5*this.fontOptions.size,this.size.top+=4,this.size.yLine+=4)}getFormattingValues(e,t,r,i){const s=function(u,l,d){return l==="normal"?d==="mod"?"":u[d]:u[l][d]!==void 0?u[l][d]:u[d]},o={color:s(this.fontOptions,i,"color"),size:s(this.fontOptions,i,"size"),face:s(this.fontOptions,i,"face"),mod:s(this.fontOptions,i,"mod"),vadjust:s(this.fontOptions,i,"vadjust"),strokeWidth:this.fontOptions.strokeWidth,strokeColor:this.fontOptions.strokeColor};(t||r)&&(i==="normal"&&this.fontOptions.chooser===!0&&this.elementOptions.labelHighlightBold?o.mod="bold":typeof this.fontOptions.chooser=="function"&&this.fontOptions.chooser(o,this.elementOptions.id,t,r));let a="";return o.mod!==void 0&&o.mod!==""&&(a+=o.mod+" "),a+=o.size+"px "+o.face,e.font=a.replace(/"/g,""),o.font=e.font,o.height=o.size,o}differentState(e,t){return e!==this.selectedState||t!==this.hoverState}_processLabelText(e,t,r,i){return new j4(e,this,t,r).process(i)}_processLabel(e,t,r){if(this.labelDirty===!1&&!this.differentState(t,r))return;const i=this._processLabelText(e,t,r,this.elementOptions.label);this.fontOptions.minWdt>0&&i.width<this.fontOptions.minWdt&&(i.width=this.fontOptions.minWdt),this.size.labelHeight=i.height,this.fontOptions.minHgt>0&&i.height<this.fontOptions.minHgt&&(i.height=this.fontOptions.minHgt),this.lines=i.lines,this.lineCount=i.lines.length,this.size.width=i.width,this.size.height=i.height,this.selectedState=t,this.hoverState=r,this.labelDirty=!1}visible(){return!(this.size.width===0||this.size.height===0||this.elementOptions.label===void 0||this.fontOptions.size*this.body.view.scale<this.elementOptions.scaling.label.drawThreshold-1)}}class di{constructor(e,t,r){this.body=t,this.labelModule=r,this.setOptions(e),this.top=void 0,this.left=void 0,this.height=void 0,this.width=void 0,this.radius=void 0,this.margin=void 0,this.refreshNeeded=!0,this.boundingBox={top:0,left:0,right:0,bottom:0}}setOptions(e){this.options=e}_setMargins(e){this.margin={},this.options.margin&&(typeof this.options.margin=="object"?(this.margin.top=this.options.margin.top,this.margin.right=this.options.margin.right,this.margin.bottom=this.options.margin.bottom,this.margin.left=this.options.margin.left):(this.margin.top=this.options.margin,this.margin.right=this.options.margin,this.margin.bottom=this.options.margin,this.margin.left=this.options.margin)),e.adjustSizes(this.margin)}_distanceToBorder(e,t){const r=this.options.borderWidth;return e&&this.resize(e),Math.min(Math.abs(this.width/2/Math.cos(t)),Math.abs(this.height/2/Math.sin(t)))+r}enableShadow(e,t){t.shadow&&(e.shadowColor=t.shadowColor,e.shadowBlur=t.shadowSize,e.shadowOffsetX=t.shadowX,e.shadowOffsetY=t.shadowY)}disableShadow(e,t){t.shadow&&(e.shadowColor="rgba(0,0,0,0)",e.shadowBlur=0,e.shadowOffsetX=0,e.shadowOffsetY=0)}enableBorderDashes(e,t){if(t.borderDashes!==!1)if(e.setLineDash!==void 0){let r=t.borderDashes;r===!0&&(r=[5,15]),e.setLineDash(r)}else console.warn("setLineDash is not supported in this browser. The dashed borders cannot be used."),this.options.shapeProperties.borderDashes=!1,t.borderDashes=!1}disableBorderDashes(e,t){t.borderDashes!==!1&&(e.setLineDash!==void 0?e.setLineDash([0]):(console.warn("setLineDash is not supported in this browser. The dashed borders cannot be used."),this.options.shapeProperties.borderDashes=!1,t.borderDashes=!1))}needsRefresh(e,t){return this.refreshNeeded===!0?(this.refreshNeeded=!1,!0):this.width===void 0||this.labelModule.differentState(e,t)}initContextForDraw(e,t){const r=t.borderWidth/this.body.view.scale;e.lineWidth=Math.min(this.width,r),e.strokeStyle=t.borderColor,e.fillStyle=t.color}performStroke(e,t){const r=t.borderWidth/this.body.view.scale;e.save(),r>0&&(this.enableBorderDashes(e,t),e.stroke(),this.disableBorderDashes(e,t)),e.restore()}performFill(e,t){e.save(),e.fillStyle=t.color,this.enableShadow(e,t),bs(e).call(e),this.disableShadow(e,t),e.restore(),this.performStroke(e,t)}_addBoundingBoxMargin(e){this.boundingBox.left-=e,this.boundingBox.top-=e,this.boundingBox.bottom+=e,this.boundingBox.right+=e}_updateBoundingBox(e,t,r,i,s){r!==void 0&&this.resize(r,i,s),this.left=e-this.width/2,this.top=t-this.height/2,this.boundingBox.left=this.left,this.boundingBox.top=this.top,this.boundingBox.bottom=this.top+this.height,this.boundingBox.right=this.left+this.width}updateBoundingBox(e,t,r,i,s){this._updateBoundingBox(e,t,r,i,s)}getDimensionsFromLabel(e,t,r){this.textSize=this.labelModule.getTextSize(e,t,r);let i=this.textSize.width,s=this.textSize.height;const o=14;return i===0&&(i=o,s=o),{width:i,height:s}}}let L4=class extends di{constructor(e,t,r){super(e,t,r),this._setMargins(r)}resize(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.selected,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.hover;if(this.needsRefresh(t,r)){const i=this.getDimensionsFromLabel(e,t,r);this.width=i.width+this.margin.right+this.margin.left,this.height=i.height+this.margin.top+this.margin.bottom,this.radius=this.width/2}}draw(e,t,r,i,s,o){this.resize(e,i,s),this.left=t-this.width/2,this.top=r-this.height/2,this.initContextForDraw(e,o),RN(e,this.left,this.top,this.width,this.height,o.borderRadius),this.performFill(e,o),this.updateBoundingBox(t,r,e,i,s),this.labelModule.draw(e,this.left+this.textSize.width/2+this.margin.left,this.top+this.textSize.height/2+this.margin.top,i,s)}updateBoundingBox(e,t,r,i,s){this._updateBoundingBox(e,t,r,i,s);const o=this.options.shapeProperties.borderRadius;this._addBoundingBoxMargin(o)}distanceToBorder(e,t){e&&this.resize(e);const r=this.options.borderWidth;return Math.min(Math.abs(this.width/2/Math.cos(t)),Math.abs(this.height/2/Math.sin(t)))+r}};class xb extends di{constructor(e,t,r){super(e,t,r),this.labelOffset=0,this.selected=!1}setOptions(e,t,r){this.options=e,t===void 0&&r===void 0||this.setImages(t,r)}setImages(e,t){t&&this.selected?(this.imageObj=t,this.imageObjAlt=e):(this.imageObj=e,this.imageObjAlt=t)}switchImages(e){const t=e&&!this.selected||!e&&this.selected;if(this.selected=e,this.imageObjAlt!==void 0&&t){const r=this.imageObj;this.imageObj=this.imageObjAlt,this.imageObjAlt=r}}_getImagePadding(){const e={top:0,right:0,bottom:0,left:0};if(this.options.imagePadding){const t=this.options.imagePadding;typeof t=="object"?(e.top=t.top,e.right=t.right,e.bottom=t.bottom,e.left=t.left):(e.top=t,e.right=t,e.bottom=t,e.left=t)}return e}_resizeImage(){let e,t;if(this.options.shapeProperties.useImageSize===!1){let r=1,i=1;this.imageObj.width&&this.imageObj.height&&(this.imageObj.width>this.imageObj.height?r=this.imageObj.width/this.imageObj.height:i=this.imageObj.height/this.imageObj.width),e=this.options.size*2*r,t=this.options.size*2*i}else{const r=this._getImagePadding();e=this.imageObj.width+r.left+r.right,t=this.imageObj.height+r.top+r.bottom}this.width=e,this.height=t,this.radius=.5*this.width}_drawRawCircle(e,t,r,i){this.initContextForDraw(e,i),sb(e,t,r,i.size),this.performFill(e,i)}_drawImageAtPosition(e,t){if(this.imageObj.width!=0){e.globalAlpha=t.opacity!==void 0?t.opacity:1,this.enableShadow(e,t);let r=1;this.options.shapeProperties.interpolation===!0&&(r=this.imageObj.width/this.width/this.body.view.scale);const i=this._getImagePadding(),s=this.left+i.left,o=this.top+i.top,a=this.width-i.left-i.right,u=this.height-i.top-i.bottom;this.imageObj.drawImageAtPosition(e,r,s,o,a,u),this.disableShadow(e,t)}}_drawImageLabel(e,t,r,i,s){let o=0;if(this.height!==void 0){o=this.height*.5;const u=this.labelModule.getTextSize(e,i,s);u.lineCount>=1&&(o+=u.height/2)}const a=r+o;this.options.label&&(this.labelOffset=o),this.labelModule.draw(e,t,a,i,s,"hanging")}}let z4=class extends xb{constructor(e,t,r){super(e,t,r),this._setMargins(r)}resize(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.selected,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.hover;if(this.needsRefresh(t,r)){const i=this.getDimensionsFromLabel(e,t,r),s=Math.max(i.width+this.margin.right+this.margin.left,i.height+this.margin.top+this.margin.bottom);this.options.size=s/2,this.width=s,this.height=s,this.radius=this.width/2}}draw(e,t,r,i,s,o){this.resize(e,i,s),this.left=t-this.width/2,this.top=r-this.height/2,this._drawRawCircle(e,t,r,o),this.updateBoundingBox(t,r),this.labelModule.draw(e,this.left+this.textSize.width/2+this.margin.left,r,i,s)}updateBoundingBox(e,t){this.boundingBox.top=t-this.options.size,this.boundingBox.left=e-this.options.size,this.boundingBox.right=e+this.options.size,this.boundingBox.bottom=t+this.options.size}distanceToBorder(e){return e&&this.resize(e),this.width*.5}};class W4 extends xb{constructor(e,t,r,i,s){super(e,t,r),this.setImages(i,s)}resize(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.selected,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.hover;if(this.imageObj.src===void 0||this.imageObj.width===void 0||this.imageObj.height===void 0){const s=this.options.size*2;this.width=s,this.height=s,this.radius=.5*this.width;return}this.needsRefresh(t,r)&&this._resizeImage()}draw(e,t,r,i,s,o){this.switchImages(i),this.resize();let a=t,u=r;this.options.shapeProperties.coordinateOrigin==="top-left"?(this.left=t,this.top=r,a+=this.width/2,u+=this.height/2):(this.left=t-this.width/2,this.top=r-this.height/2),this._drawRawCircle(e,a,u,o),e.save(),e.clip(),this._drawImageAtPosition(e,o),e.restore(),this._drawImageLabel(e,a,u,i,s),this.updateBoundingBox(t,r)}updateBoundingBox(e,t){this.options.shapeProperties.coordinateOrigin==="top-left"?(this.boundingBox.top=t,this.boundingBox.left=e,this.boundingBox.right=e+this.options.size*2,this.boundingBox.bottom=t+this.options.size*2):(this.boundingBox.top=t-this.options.size,this.boundingBox.left=e-this.options.size,this.boundingBox.right=e+this.options.size,this.boundingBox.bottom=t+this.options.size),this.boundingBox.left=Math.min(this.boundingBox.left,this.labelModule.size.left),this.boundingBox.right=Math.max(this.boundingBox.right,this.labelModule.size.left+this.labelModule.size.width),this.boundingBox.bottom=Math.max(this.boundingBox.bottom,this.boundingBox.bottom+this.labelOffset)}distanceToBorder(e){return e&&this.resize(e),this.width*.5}}class Sr extends di{constructor(e,t,r){super(e,t,r)}resize(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.selected,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.hover,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{size:this.options.size};if(this.needsRefresh(t,r)){var s,o;this.labelModule.getTextSize(e,t,r);const a=2*i.size;this.width=(s=this.customSizeWidth)!==null&&s!==void 0?s:a,this.height=(o=this.customSizeHeight)!==null&&o!==void 0?o:a,this.radius=.5*this.width}}_drawShape(e,t,r,i,s,o,a,u){return this.resize(e,o,a,u),this.left=i-this.width/2,this.top=s-this.height/2,this.initContextForDraw(e,u),s3(t)(e,i,s,u.size),this.performFill(e,u),this.options.icon!==void 0&&this.options.icon.code!==void 0&&(e.font=(o?"bold ":"")+this.height/2+"px "+(this.options.icon.face||"FontAwesome"),e.fillStyle=this.options.icon.color||"black",e.textAlign="center",e.textBaseline="middle",e.fillText(this.options.icon.code,i,s)),{drawExternalLabel:()=>{if(this.options.label!==void 0){this.labelModule.calculateLabelSize(e,o,a,i,s,"hanging");const l=s+.5*this.height+.5*this.labelModule.size.height;this.labelModule.draw(e,i,l,o,a,"hanging")}this.updateBoundingBox(i,s)}}}updateBoundingBox(e,t){this.boundingBox.top=t-this.options.size,this.boundingBox.left=e-this.options.size,this.boundingBox.right=e+this.options.size,this.boundingBox.bottom=t+this.options.size,this.options.label!==void 0&&this.labelModule.size.width>0&&(this.boundingBox.left=Math.min(this.boundingBox.left,this.labelModule.size.left),this.boundingBox.right=Math.max(this.boundingBox.right,this.labelModule.size.left+this.labelModule.size.width),this.boundingBox.bottom=Math.max(this.boundingBox.bottom,this.boundingBox.bottom+this.labelModule.size.height))}}function mM(n,e){var t=Se(n);if(vr){var r=vr(n);e&&(r=rt(r).call(r,function(i){return Er(n,i).enumerable})),t.push.apply(t,r)}return t}function H4(n){for(var e=1;e<arguments.length;e++){var t,r,i=arguments[e]!=null?arguments[e]:{};e%2?de(t=mM(Object(i),!0)).call(t,function(s){zt(n,s,i[s])}):pr?Do(n,pr(i)):de(r=mM(Object(i))).call(r,function(s){Mo(n,s,Er(i,s))})}return n}class U4 extends Sr{constructor(e,t,r,i){super(e,t,r,i),this.ctxRenderer=i}draw(e,t,r,i,s,o){this.resize(e,i,s,o),this.left=t-this.width/2,this.top=r-this.height/2,e.save();const a=this.ctxRenderer({ctx:e,id:this.options.id,x:t,y:r,state:{selected:i,hover:s},style:H4({},o),label:this.options.label});if(a.drawNode!=null&&a.drawNode(),e.restore(),a.drawExternalLabel){const u=a.drawExternalLabel;a.drawExternalLabel=()=>{e.save(),u(),e.restore()}}return a.nodeDimensions&&(this.customSizeWidth=a.nodeDimensions.width,this.customSizeHeight=a.nodeDimensions.height),a}distanceToBorder(e,t){return this._distanceToBorder(e,t)}}class V4 extends di{constructor(e,t,r){super(e,t,r),this._setMargins(r)}resize(e,t,r){if(this.needsRefresh(t,r)){const s=this.getDimensionsFromLabel(e,t,r).width+this.margin.right+this.margin.left;this.width=s,this.height=s,this.radius=this.width/2}}draw(e,t,r,i,s,o){this.resize(e,i,s),this.left=t-this.width/2,this.top=r-this.height/2,this.initContextForDraw(e,o),qN(e,t-this.width/2,r-this.height/2,this.width,this.height),this.performFill(e,o),this.updateBoundingBox(t,r,e,i,s),this.labelModule.draw(e,this.left+this.textSize.width/2+this.margin.left,this.top+this.textSize.height/2+this.margin.top,i,s)}distanceToBorder(e,t){return this._distanceToBorder(e,t)}}let G4=class extends Sr{constructor(e,t,r){super(e,t,r)}draw(e,t,r,i,s,o){return this._drawShape(e,"diamond",4,t,r,i,s,o)}distanceToBorder(e,t){return this._distanceToBorder(e,t)}};class K4 extends Sr{constructor(e,t,r){super(e,t,r)}draw(e,t,r,i,s,o){return this._drawShape(e,"circle",2,t,r,i,s,o)}distanceToBorder(e){return e&&this.resize(e),this.options.size}}class bM extends di{constructor(e,t,r){super(e,t,r)}resize(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.selected,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.hover;if(this.needsRefresh(t,r)){const i=this.getDimensionsFromLabel(e,t,r);this.height=i.height*2,this.width=i.width+i.height,this.radius=.5*this.width}}draw(e,t,r,i,s,o){this.resize(e,i,s),this.left=t-this.width*.5,this.top=r-this.height*.5,this.initContextForDraw(e,o),ym(e,this.left,this.top,this.width,this.height),this.performFill(e,o),this.updateBoundingBox(t,r,e,i,s),this.labelModule.draw(e,t,r,i,s)}distanceToBorder(e,t){e&&this.resize(e);const r=this.width*.5,i=this.height*.5,s=Math.sin(t)*r,o=Math.cos(t)*i;return r*i/Math.sqrt(s*s+o*o)}}class Y4 extends di{constructor(e,t,r){super(e,t,r),this._setMargins(r)}resize(e,t,r){this.needsRefresh(t,r)&&(this.iconSize={width:Number(this.options.icon.size),height:Number(this.options.icon.size)},this.width=this.iconSize.width+this.margin.right+this.margin.left,this.height=this.iconSize.height+this.margin.top+this.margin.bottom,this.radius=.5*this.width)}draw(e,t,r,i,s,o){return this.resize(e,i,s),this.options.icon.size=this.options.icon.size||50,this.left=t-this.width/2,this.top=r-this.height/2,this._icon(e,t,r,i,s,o),{drawExternalLabel:()=>{this.options.label!==void 0&&this.labelModule.draw(e,this.left+this.iconSize.width/2+this.margin.left,r+this.height/2+5,i),this.updateBoundingBox(t,r)}}}updateBoundingBox(e,t){this.boundingBox.top=t-this.options.icon.size*.5,this.boundingBox.left=e-this.options.icon.size*.5,this.boundingBox.right=e+this.options.icon.size*.5,this.boundingBox.bottom=t+this.options.icon.size*.5,this.options.label!==void 0&&this.labelModule.size.width>0&&(this.boundingBox.left=Math.min(this.boundingBox.left,this.labelModule.size.left),this.boundingBox.right=Math.max(this.boundingBox.right,this.labelModule.size.left+this.labelModule.size.width),this.boundingBox.bottom=Math.max(this.boundingBox.bottom,this.boundingBox.bottom+this.labelModule.size.height+5))}_icon(e,t,r,i,s,o){const a=Number(this.options.icon.size);this.options.icon.code!==void 0?(e.font=[this.options.icon.weight!=null?this.options.icon.weight:i?"bold":"",(this.options.icon.weight!=null&&i?5:0)+a+"px",this.options.icon.face].join(" "),e.fillStyle=this.options.icon.color||"black",e.textAlign="center",e.textBaseline="middle",this.enableShadow(e,o),e.fillText(this.options.icon.code,t,r),this.disableShadow(e,o)):console.error("When using the icon shape, you need to define the code in the icon options object. This can be done per node or globally.")}distanceToBorder(e,t){return this._distanceToBorder(e,t)}}let X4=class extends xb{constructor(e,t,r,i,s){super(e,t,r),this.setImages(i,s)}resize(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.selected,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.hover;if(this.imageObj.src===void 0||this.imageObj.width===void 0||this.imageObj.height===void 0){const s=this.options.size*2;this.width=s,this.height=s;return}this.needsRefresh(t,r)&&this._resizeImage()}draw(e,t,r,i,s,o){e.save(),this.switchImages(i),this.resize();let a=t,u=r;if(this.options.shapeProperties.coordinateOrigin==="top-left"?(this.left=t,this.top=r,a+=this.width/2,u+=this.height/2):(this.left=t-this.width/2,this.top=r-this.height/2),this.options.shapeProperties.useBorderWithImage===!0){const l=this.options.borderWidth,d=this.options.borderWidthSelected||2*this.options.borderWidth,c=(i?d:l)/this.body.view.scale;e.lineWidth=Math.min(this.width,c),e.beginPath();let h=i?this.options.color.highlight.border:s?this.options.color.hover.border:this.options.color.border,f=i?this.options.color.highlight.background:s?this.options.color.hover.background:this.options.color.background;o.opacity!==void 0&&(h=ht(h,o.opacity),f=ht(f,o.opacity)),e.strokeStyle=h,e.fillStyle=f,e.rect(this.left-.5*e.lineWidth,this.top-.5*e.lineWidth,this.width+e.lineWidth,this.height+e.lineWidth),bs(e).call(e),this.performStroke(e,o),e.closePath()}this._drawImageAtPosition(e,o),this._drawImageLabel(e,a,u,i,s),this.updateBoundingBox(t,r),e.restore()}updateBoundingBox(e,t){this.resize(),this.options.shapeProperties.coordinateOrigin==="top-left"?(this.left=e,this.top=t):(this.left=e-this.width/2,this.top=t-this.height/2),this.boundingBox.left=this.left,this.boundingBox.top=this.top,this.boundingBox.bottom=this.top+this.height,this.boundingBox.right=this.left+this.width,this.options.label!==void 0&&this.labelModule.size.width>0&&(this.boundingBox.left=Math.min(this.boundingBox.left,this.labelModule.size.left),this.boundingBox.right=Math.max(this.boundingBox.right,this.labelModule.size.left+this.labelModule.size.width),this.boundingBox.bottom=Math.max(this.boundingBox.bottom,this.boundingBox.bottom+this.labelOffset))}distanceToBorder(e,t){return this._distanceToBorder(e,t)}};class Z4 extends Sr{constructor(e,t,r){super(e,t,r)}draw(e,t,r,i,s,o){return this._drawShape(e,"square",2,t,r,i,s,o)}distanceToBorder(e,t){return this._distanceToBorder(e,t)}}class J4 extends Sr{constructor(e,t,r){super(e,t,r)}draw(e,t,r,i,s,o){return this._drawShape(e,"hexagon",4,t,r,i,s,o)}distanceToBorder(e,t){return this._distanceToBorder(e,t)}}class Q4 extends Sr{constructor(e,t,r){super(e,t,r)}draw(e,t,r,i,s,o){return this._drawShape(e,"star",4,t,r,i,s,o)}distanceToBorder(e,t){return this._distanceToBorder(e,t)}}class e6 extends di{constructor(e,t,r){super(e,t,r),this._setMargins(r)}resize(e,t,r){this.needsRefresh(t,r)&&(this.textSize=this.labelModule.getTextSize(e,t,r),this.width=this.textSize.width+this.margin.right+this.margin.left,this.height=this.textSize.height+this.margin.top+this.margin.bottom,this.radius=.5*this.width)}draw(e,t,r,i,s,o){this.resize(e,i,s),this.left=t-this.width/2,this.top=r-this.height/2,this.enableShadow(e,o),this.labelModule.draw(e,this.left+this.textSize.width/2+this.margin.left,this.top+this.textSize.height/2+this.margin.top,i,s),this.disableShadow(e,o),this.updateBoundingBox(t,r,e,i,s)}distanceToBorder(e,t){return this._distanceToBorder(e,t)}}let t6=class extends Sr{constructor(e,t,r){super(e,t,r)}draw(e,t,r,i,s,o){return this._drawShape(e,"triangle",3,t,r,i,s,o)}distanceToBorder(e,t){return this._distanceToBorder(e,t)}};class r6 extends Sr{constructor(e,t,r){super(e,t,r)}draw(e,t,r,i,s,o){return this._drawShape(e,"triangleDown",3,t,r,i,s,o)}distanceToBorder(e,t){return this._distanceToBorder(e,t)}}function _M(n,e){var t=Se(n);if(vr){var r=vr(n);e&&(r=rt(r).call(r,function(i){return Er(n,i).enumerable})),t.push.apply(t,r)}return t}function wM(n){for(var e=1;e<arguments.length;e++){var t,r,i=arguments[e]!=null?arguments[e]:{};e%2?de(t=_M(Object(i),!0)).call(t,function(s){zt(n,s,i[s])}):pr?Do(n,pr(i)):de(r=_M(Object(i))).call(r,function(s){Mo(n,s,Er(i,s))})}return n}class ge{constructor(e,t,r,i,s,o){this.options=cr(s),this.globalOptions=s,this.defaultOptions=o,this.body=t,this.edges=[],this.id=void 0,this.imagelist=r,this.grouplist=i,this.x=void 0,this.y=void 0,this.baseSize=this.options.size,this.baseFontSize=this.options.font.size,this.predefinedPosition=!1,this.selected=!1,this.hover=!1,this.labelModule=new Ti(this.body,this.options,!1),this.setOptions(e)}attachEdge(e){var t;se(t=this.edges).call(t,e)===-1&&this.edges.push(e)}detachEdge(e){var t;const r=se(t=this.edges).call(t,e);if(r!=-1){var i;Vt(i=this.edges).call(i,r,1)}}setOptions(e){const t=this.options.shape;if(!e)return;if(typeof e.color<"u"&&(this._localColor=e.color),e.id!==void 0&&(this.id=e.id),this.id===void 0)throw new Error("Node must have an id");ge.checkMass(e,this.id),e.x!==void 0&&(e.x===null?(this.x=void 0,this.predefinedPosition=!1):(this.x=It(e.x),this.predefinedPosition=!0)),e.y!==void 0&&(e.y===null?(this.y=void 0,this.predefinedPosition=!1):(this.y=It(e.y),this.predefinedPosition=!0)),e.size!==void 0&&(this.baseSize=e.size),e.value!==void 0&&(e.value=zk(e.value)),ge.parseOptions(this.options,e,!0,this.globalOptions,this.grouplist);const r=[e,this.options,this.defaultOptions];return this.chooser=Cb("node",r),this._load_images(),this.updateLabelModule(e),e.opacity!==void 0&&ge.checkOpacity(e.opacity)&&(this.options.opacity=e.opacity),this.updateShape(t),e.hidden!==void 0||e.physics!==void 0}_load_images(){if((this.options.shape==="circularImage"||this.options.shape==="image")&&this.options.image===void 0)throw new Error("Option image must be defined for node type '"+this.options.shape+"'");if(this.options.image!==void 0){if(this.imagelist===void 0)throw new Error("Internal Error: No images provided");if(typeof this.options.image=="string")this.imageObj=this.imagelist.load(this.options.image,this.options.brokenImage,this.id);else{if(this.options.image.unselected===void 0)throw new Error("No unselected image provided");this.imageObj=this.imagelist.load(this.options.image.unselected,this.options.brokenImage,this.id),this.options.image.selected!==void 0?this.imageObjAlt=this.imagelist.load(this.options.image.selected,this.options.brokenImage,this.id):this.imageObjAlt=void 0}}}static checkOpacity(e){return 0<=e&&e<=1}static checkCoordinateOrigin(e){return e===void 0||e==="center"||e==="top-left"}static updateGroupOptions(e,t,r){var i;if(r===void 0)return;const s=e.group;if(t!==void 0&&t.group!==void 0&&s!==t.group)throw new Error("updateGroupOptions: group values in options don't match.");if(!(typeof s=="number"||typeof s=="string"&&s!=""))return;const a=r.get(s);a.opacity!==void 0&&t.opacity===void 0&&(ge.checkOpacity(a.opacity)||(console.error("Invalid option for node opacity. Value must be between 0 and 1, found: "+a.opacity),a.opacity=void 0));const u=rt(i=c4(t)).call(i,l=>t[l]!=null);u.push("font"),Ys(u,e,a),e.color=Em(e.color)}static parseOptions(e,t){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},s=arguments.length>4?arguments[4]:void 0;if(Ys(["color","fixed","shadow"],e,t,r),ge.checkMass(t),e.opacity!==void 0&&(ge.checkOpacity(e.opacity)||(console.error("Invalid option for node opacity. Value must be between 0 and 1, found: "+e.opacity),e.opacity=void 0)),t.opacity!==void 0&&(ge.checkOpacity(t.opacity)||(console.error("Invalid option for node opacity. Value must be between 0 and 1, found: "+t.opacity),t.opacity=void 0)),t.shapeProperties&&!ge.checkCoordinateOrigin(t.shapeProperties.coordinateOrigin)&&console.error("Invalid option for node coordinateOrigin, found: "+t.shapeProperties.coordinateOrigin),ct(e,t,"shadow",i),t.color!==void 0&&t.color!==null){const a=Em(t.color);Sk(e.color,a)}else r===!0&&t.color===null&&(e.color=cr(i.color));t.fixed!==void 0&&t.fixed!==null&&(typeof t.fixed=="boolean"?(e.fixed.x=t.fixed,e.fixed.y=t.fixed):(t.fixed.x!==void 0&&typeof t.fixed.x=="boolean"&&(e.fixed.x=t.fixed.x),t.fixed.y!==void 0&&typeof t.fixed.y=="boolean"&&(e.fixed.y=t.fixed.y))),r===!0&&t.font===null&&(e.font=cr(i.font)),ge.updateGroupOptions(e,t,s),t.scaling!==void 0&&ct(e.scaling,t.scaling,"label",i.scaling)}getFormattingValues(){const e={color:this.options.color.background,opacity:this.options.opacity,borderWidth:this.options.borderWidth,borderColor:this.options.color.border,size:this.options.size,borderDashes:this.options.shapeProperties.borderDashes,borderRadius:this.options.shapeProperties.borderRadius,shadow:this.options.shadow.enabled,shadowColor:this.options.shadow.color,shadowSize:this.options.shadow.size,shadowX:this.options.shadow.x,shadowY:this.options.shadow.y};if(this.selected||this.hover?this.chooser===!0?this.selected?(this.options.borderWidthSelected!=null?e.borderWidth=this.options.borderWidthSelected:e.borderWidth*=2,e.color=this.options.color.highlight.background,e.borderColor=this.options.color.highlight.border,e.shadow=this.options.shadow.enabled):this.hover&&(e.color=this.options.color.hover.background,e.borderColor=this.options.color.hover.border,e.shadow=this.options.shadow.enabled):typeof this.chooser=="function"&&(this.chooser(e,this.options.id,this.selected,this.hover),e.shadow===!1&&(e.shadowColor!==this.options.shadow.color||e.shadowSize!==this.options.shadow.size||e.shadowX!==this.options.shadow.x||e.shadowY!==this.options.shadow.y)&&(e.shadow=!0)):e.shadow=this.options.shadow.enabled,this.options.opacity!==void 0){const t=this.options.opacity;e.borderColor=ht(e.borderColor,t),e.color=ht(e.color,t),e.shadowColor=ht(e.shadowColor,t)}return e}updateLabelModule(e){(this.options.label===void 0||this.options.label===null)&&(this.options.label=""),ge.updateGroupOptions(this.options,wM(wM({},e),{},{color:e&&e.color||this._localColor||void 0}),this.grouplist);const t=this.grouplist.get(this.options.group,!1),r=[e,this.options,t,this.globalOptions,this.defaultOptions];this.labelModule.update(this.options,r),this.labelModule.baseSize!==void 0&&(this.baseFontSize=this.labelModule.baseSize)}updateShape(e){if(e===this.options.shape&&this.shape)this.shape.setOptions(this.options,this.imageObj,this.imageObjAlt);else switch(this.options.shape){case"box":this.shape=new L4(this.options,this.body,this.labelModule);break;case"circle":this.shape=new z4(this.options,this.body,this.labelModule);break;case"circularImage":this.shape=new W4(this.options,this.body,this.labelModule,this.imageObj,this.imageObjAlt);break;case"custom":this.shape=new U4(this.options,this.body,this.labelModule,this.options.ctxRenderer);break;case"database":this.shape=new V4(this.options,this.body,this.labelModule);break;case"diamond":this.shape=new G4(this.options,this.body,this.labelModule);break;case"dot":this.shape=new K4(this.options,this.body,this.labelModule);break;case"ellipse":this.shape=new bM(this.options,this.body,this.labelModule);break;case"icon":this.shape=new Y4(this.options,this.body,this.labelModule);break;case"image":this.shape=new X4(this.options,this.body,this.labelModule,this.imageObj,this.imageObjAlt);break;case"square":this.shape=new Z4(this.options,this.body,this.labelModule);break;case"hexagon":this.shape=new J4(this.options,this.body,this.labelModule);break;case"star":this.shape=new Q4(this.options,this.body,this.labelModule);break;case"text":this.shape=new e6(this.options,this.body,this.labelModule);break;case"triangle":this.shape=new t6(this.options,this.body,this.labelModule);break;case"triangleDown":this.shape=new r6(this.options,this.body,this.labelModule);break;default:this.shape=new bM(this.options,this.body,this.labelModule);break}this.needsRefresh()}select(){this.selected=!0,this.needsRefresh()}unselect(){this.selected=!1,this.needsRefresh()}needsRefresh(){this.shape.refreshNeeded=!0}getTitle(){return this.options.title}distanceToBorder(e,t){return this.shape.distanceToBorder(e,t)}isFixed(){return this.options.fixed.x&&this.options.fixed.y}isSelected(){return this.selected}getValue(){return this.options.value}getLabelSize(){return this.labelModule.size()}setValueRange(e,t,r){if(this.options.value!==void 0){const i=this.options.scaling.customScalingFunction(e,t,r,this.options.value),s=this.options.scaling.max-this.options.scaling.min;if(this.options.scaling.label.enabled===!0){const o=this.options.scaling.label.max-this.options.scaling.label.min;this.options.font.size=this.options.scaling.label.min+i*o}this.options.size=this.options.scaling.min+i*s}else this.options.size=this.baseSize,this.options.font.size=this.baseFontSize;this.updateLabelModule()}draw(e){const t=this.getFormattingValues();return this.shape.draw(e,this.x,this.y,this.selected,this.hover,t)||{}}updateBoundingBox(e){this.shape.updateBoundingBox(this.x,this.y,e)}resize(e){const t=this.getFormattingValues();this.shape.resize(e,this.selected,this.hover,t)}getItemsOnPoint(e){const t=[];return this.labelModule.visible()&&Tm(this.labelModule.getSize(),e)&&t.push({nodeId:this.id,labelId:0}),Tm(this.shape.boundingBox,e)&&t.push({nodeId:this.id}),t}isOverlappingWith(e){return this.shape.left<e.right&&this.shape.left+this.shape.width>e.left&&this.shape.top<e.bottom&&this.shape.top+this.shape.height>e.top}isBoundingBoxOverlappingWith(e){return this.shape.boundingBox.left<e.right&&this.shape.boundingBox.right>e.left&&this.shape.boundingBox.top<e.bottom&&this.shape.boundingBox.bottom>e.top}static checkMass(e,t){if(e.mass!==void 0&&e.mass<=0){let r="";t!==void 0&&(r=" in node id: "+t),console.error("%cNegative or zero mass disallowed"+r+", setting mass to 1.",Tk),e.mass=1}}}class i6{constructor(e,t,r,i){var s;if(this.body=e,this.images=t,this.groups=r,this.layoutEngine=i,this.body.functions.createNode=D(s=this.create).call(s,this),this.nodesListeners={add:(o,a)=>{this.add(a.items)},update:(o,a)=>{this.update(a.items,a.data,a.oldData)},remove:(o,a)=>{this.remove(a.items)}},this.defaultOptions={borderWidth:1,borderWidthSelected:void 0,brokenImage:void 0,color:{border:"#2B7CE9",background:"#97C2FC",highlight:{border:"#2B7CE9",background:"#D2E5FF"},hover:{border:"#2B7CE9",background:"#D2E5FF"}},opacity:void 0,fixed:{x:!1,y:!1},font:{color:"#343434",size:14,face:"arial",background:"none",strokeWidth:0,strokeColor:"#ffffff",align:"center",vadjust:0,multi:!1,bold:{mod:"bold"},boldital:{mod:"bold italic"},ital:{mod:"italic"},mono:{mod:"",size:15,face:"monospace",vadjust:2}},group:void 0,hidden:!1,icon:{face:"FontAwesome",code:void 0,size:50,color:"#2B7CE9"},image:void 0,imagePadding:{top:0,right:0,bottom:0,left:0},label:void 0,labelHighlightBold:!0,level:void 0,margin:{top:5,right:5,bottom:5,left:5},mass:1,physics:!0,scaling:{min:10,max:30,label:{enabled:!1,min:14,max:30,maxVisible:30,drawThreshold:5},customScalingFunction:function(o,a,u,l){if(a===o)return .5;{const d=1/(a-o);return Math.max(0,(l-o)*d)}}},shadow:{enabled:!1,color:"rgba(0,0,0,0.5)",size:10,x:5,y:5},shape:"ellipse",shapeProperties:{borderDashes:!1,borderRadius:6,interpolation:!0,useImageSize:!1,useBorderWithImage:!1,coordinateOrigin:"center"},size:25,title:void 0,value:void 0,x:void 0,y:void 0},this.defaultOptions.mass<=0)throw"Internal error: mass in defaultOptions of NodesHandler may not be zero or negative";this.options=cr(this.defaultOptions),this.bindEventListeners()}bindEventListeners(){var e,t;this.body.emitter.on("refreshNodes",D(e=this.refresh).call(e,this)),this.body.emitter.on("refresh",D(t=this.refresh).call(t,this)),this.body.emitter.on("destroy",()=>{J(this.nodesListeners,(r,i)=>{this.body.data.nodes&&this.body.data.nodes.off(i,r)}),delete this.body.functions.createNode,delete this.nodesListeners.add,delete this.nodesListeners.update,delete this.nodesListeners.remove,delete this.nodesListeners})}setOptions(e){if(e!==void 0){if(ge.parseOptions(this.options,e),e.opacity!==void 0&&($m(e.opacity)||!Fr(e.opacity)||e.opacity<0||e.opacity>1?console.error("Invalid option for node opacity. Value must be between 0 and 1, found: "+e.opacity):this.options.opacity=e.opacity),e.shape!==void 0)for(const t in this.body.nodes)Object.prototype.hasOwnProperty.call(this.body.nodes,t)&&this.body.nodes[t].updateShape();if(typeof e.font<"u"||typeof e.widthConstraint<"u"||typeof e.heightConstraint<"u")for(const t of Se(this.body.nodes))this.body.nodes[t].updateLabelModule(),this.body.nodes[t].needsRefresh();if(e.size!==void 0)for(const t in this.body.nodes)Object.prototype.hasOwnProperty.call(this.body.nodes,t)&&this.body.nodes[t].needsRefresh();(e.hidden!==void 0||e.physics!==void 0)&&this.body.emitter.emit("_dataChanged")}}setData(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;const r=this.body.data.nodes;if(wN("id",e))this.body.data.nodes=e;else if(Oe(e))this.body.data.nodes=new xi,this.body.data.nodes.add(e);else if(!e)this.body.data.nodes=new xi;else throw new TypeError("Array or DataSet expected");if(r&&J(this.nodesListeners,function(i,s){r.off(s,i)}),this.body.nodes={},this.body.data.nodes){const i=this;J(this.nodesListeners,function(o,a){i.body.data.nodes.on(a,o)});const s=this.body.data.nodes.getIds();this.add(s,!0)}t===!1&&this.body.emitter.emit("_dataChanged")}add(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,r;const i=[];for(let s=0;s<e.length;s++){r=e[s];const o=this.body.data.nodes.get(r),a=this.create(o);i.push(a),this.body.nodes[r]=a}this.layoutEngine.positionInitially(i),t===!1&&this.body.emitter.emit("_dataChanged")}update(e,t,r){const i=this.body.nodes;let s=!1;for(let o=0;o<e.length;o++){const a=e[o];let u=i[a];const l=t[o];u!==void 0?u.setOptions(l)&&(s=!0):(s=!0,u=this.create(l),i[a]=u)}!s&&r!==void 0&&(s=hK(t).call(t,function(o,a){const u=r[a];return u&&u.level!==o.level})),s===!0?this.body.emitter.emit("_dataChanged"):this.body.emitter.emit("_dataUpdated")}remove(e){const t=this.body.nodes;for(let r=0;r<e.length;r++){const i=e[r];delete t[i]}this.body.emitter.emit("_dataChanged")}create(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:ge;return new t(e,this.body,this.images,this.groups,this.options,this.defaultOptions)}refresh(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;J(this.body.nodes,(t,r)=>{const i=this.body.data.nodes.get(r);i!==void 0&&(e===!0&&t.setOptions({x:null,y:null}),t.setOptions({fixed:!1}),t.setOptions(i))})}getPositions(e){const t={};if(e!==void 0){if(Oe(e)===!0){for(let r=0;r<e.length;r++)if(this.body.nodes[e[r]]!==void 0){const i=this.body.nodes[e[r]];t[e[r]]={x:Math.round(i.x),y:Math.round(i.y)}}}else if(this.body.nodes[e]!==void 0){const r=this.body.nodes[e];t[e]={x:Math.round(r.x),y:Math.round(r.y)}}}else for(let r=0;r<this.body.nodeIndices.length;r++){const i=this.body.nodes[this.body.nodeIndices[r]];t[this.body.nodeIndices[r]]={x:Math.round(i.x),y:Math.round(i.y)}}return t}getPosition(e){if(e==null)throw new TypeError("No id was specified for getPosition method.");if(this.body.nodes[e]==null)throw new ReferenceError("NodeId provided for getPosition does not exist. Provided: ".concat(e));return{x:Math.round(this.body.nodes[e].x),y:Math.round(this.body.nodes[e].y)}}storePositions(){const e=[],t=this.body.data.nodes.getDataSet();for(const r of t.get()){const i=r.id,s=this.body.nodes[i],o=Math.round(s.x),a=Math.round(s.y);(r.x!==o||r.y!==a)&&e.push({id:i,x:o,y:a})}t.update(e)}getBoundingBox(e){if(this.body.nodes[e]!==void 0)return this.body.nodes[e].shape.boundingBox}getConnectedNodes(e,t){const r=[];if(this.body.nodes[e]!==void 0){const i=this.body.nodes[e],s={};for(let o=0;o<i.edges.length;o++){const a=i.edges[o];t!=="to"&&a.toId==i.id?s[a.fromId]===void 0&&(r.push(a.fromId),s[a.fromId]=!0):t!=="from"&&a.fromId==i.id&&s[a.toId]===void 0&&(r.push(a.toId),s[a.toId]=!0)}}return r}getConnectedEdges(e){const t=[];if(this.body.nodes[e]!==void 0){const r=this.body.nodes[e];for(let i=0;i<r.edges.length;i++)t.push(r.edges[i].id)}else console.error("NodeId provided for getConnectedEdges does not exist. Provided: ",e);return t}moveNode(e,t,r){this.body.nodes[e]!==void 0?(this.body.nodes[e].x=Number(t),this.body.nodes[e].y=Number(r),Gt(()=>{this.body.emitter.emit("startSimulation")},0)):console.error("Node id supplied to moveNode does not exist. Provided: ",e)}}var EM={},SM;function n6(){if(SM)return EM;SM=1;var n=z(),e=Math.hypot,t=Math.abs,r=Math.sqrt,i=!!e&&e(1/0,NaN)!==1/0;return n({target:"Math",stat:!0,arity:2,forced:i},{hypot:function(o,a){for(var u=0,l=0,d=arguments.length,c=0,h,f;l<d;)h=t(arguments[l++]),c<h?(f=c/h,u=u*f*f+1,c=h):h>0?(f=h/c,u+=f*f):u+=h;return c===1/0?1/0:c*r(u)}}),EM}var vy,OM;function s6(){if(OM)return vy;OM=1,n6();var n=ae();return vy=n.Math.hypot,vy}var py,IM;function o6(){if(IM)return py;IM=1;var n=s6();return py=n,py}var gy,$M;function a6(){return $M||($M=1,gy=o6()),gy}var u6=a6(),l6=G(u6);class Ie{static transform(e,t){Oe(e)||(e=[e]);const r=t.point.x,i=t.point.y,s=t.angle,o=t.length;for(let a=0;a<e.length;++a){const u=e[a],l=u.x*Math.cos(s)-u.y*Math.sin(s),d=u.x*Math.sin(s)+u.y*Math.cos(s);u.x=r+o*l,u.y=i+o*d}}static drawPath(e,t){e.beginPath(),e.moveTo(t[0].x,t[0].y);for(let r=1;r<t.length;++r)e.lineTo(t[r].x,t[r].y);e.closePath()}}let d6=class extends Ie{static draw(e,t){if(t.image){e.save(),e.translate(t.point.x,t.point.y),e.rotate(Math.PI/2+t.angle);const r=t.imageWidth!=null?t.imageWidth:t.image.width,i=t.imageHeight!=null?t.imageHeight:t.image.height;t.image.drawImageAtPosition(e,1,-r/2,0,r,i),e.restore()}return!1}};class c6 extends Ie{static draw(e,t){const r=[{x:0,y:0},{x:-1,y:.3},{x:-.9,y:0},{x:-1,y:-.3}];return Ie.transform(r,t),Ie.drawPath(e,r),!0}}class h6{static draw(e,t){const r=[{x:-1,y:0},{x:0,y:.3},{x:-.4,y:0},{x:0,y:-.3}];return Ie.transform(r,t),Ie.drawPath(e,r),!0}}class f6{static draw(e,t){const r={x:-.4,y:0};Ie.transform(r,t),e.strokeStyle=e.fillStyle,e.fillStyle="rgba(0, 0, 0, 0)";const i=Math.PI,s=t.angle-i/2,o=t.angle+i/2;return e.beginPath(),e.arc(r.x,r.y,t.length*.4,s,o,!1),e.stroke(),!0}}class v6{static draw(e,t){const r={x:-.3,y:0};Ie.transform(r,t),e.strokeStyle=e.fillStyle,e.fillStyle="rgba(0, 0, 0, 0)";const i=Math.PI,s=t.angle+i/2,o=t.angle+3*i/2;return e.beginPath(),e.arc(r.x,r.y,t.length*.4,s,o,!1),e.stroke(),!0}}class p6{static draw(e,t){const r=[{x:.02,y:0},{x:-1,y:.3},{x:-1,y:-.3}];return Ie.transform(r,t),Ie.drawPath(e,r),!0}}class g6{static draw(e,t){const r=[{x:0,y:.3},{x:0,y:-.3},{x:-1,y:0}];return Ie.transform(r,t),Ie.drawPath(e,r),!0}}class y6{static draw(e,t){const r={x:-.4,y:0};return Ie.transform(r,t),sb(e,r.x,r.y,t.length*.4),!0}}class m6{static draw(e,t){const r=[{x:0,y:.5},{x:0,y:-.5},{x:-.15,y:-.5},{x:-.15,y:.5}];return Ie.transform(r,t),Ie.drawPath(e,r),!0}}class b6{static draw(e,t){const r=[{x:0,y:.3},{x:0,y:-.3},{x:-.6,y:-.3},{x:-.6,y:.3}];return Ie.transform(r,t),Ie.drawPath(e,r),!0}}class _6{static draw(e,t){const r=[{x:0,y:0},{x:-.5,y:-.3},{x:-1,y:0},{x:-.5,y:.3}];return Ie.transform(r,t),Ie.drawPath(e,r),!0}}class w6{static draw(e,t){const r=[{x:-1,y:.3},{x:-.5,y:0},{x:-1,y:-.3},{x:0,y:0}];return Ie.transform(r,t),Ie.drawPath(e,r),!0}}class Uk{static draw(e,t){let r;switch(t.type&&(r=t.type.toLowerCase()),r){case"image":return d6.draw(e,t);case"circle":return y6.draw(e,t);case"box":return b6.draw(e,t);case"crow":return h6.draw(e,t);case"curve":return f6.draw(e,t);case"diamond":return _6.draw(e,t);case"inv_curve":return v6.draw(e,t);case"triangle":return p6.draw(e,t);case"inv_triangle":return g6.draw(e,t);case"bar":return m6.draw(e,t);case"vee":return w6.draw(e,t);case"arrow":default:return c6.draw(e,t)}}}function TM(n,e){var t=Se(n);if(vr){var r=vr(n);e&&(r=rt(r).call(r,function(i){return Er(n,i).enumerable})),t.push.apply(t,r)}return t}function PM(n){for(var e=1;e<arguments.length;e++){var t,r,i=arguments[e]!=null?arguments[e]:{};e%2?de(t=TM(Object(i),!0)).call(t,function(s){zt(n,s,i[s])}):pr?Do(n,pr(i)):de(r=TM(Object(i))).call(r,function(s){Mo(n,s,Er(i,s))})}return n}class Vk{constructor(e,t,r){zt(this,"color",{}),zt(this,"colorDirty",!0),zt(this,"hoverWidth",1.5),zt(this,"selectionWidth",2),this._body=t,this._labelModule=r,this.setOptions(e),this.fromPoint=this.from,this.toPoint=this.to}connect(){this.from=this._body.nodes[this.options.from],this.to=this._body.nodes[this.options.to]}cleanup(){return!1}setOptions(e){this.options=e,this.from=this._body.nodes[this.options.from],this.to=this._body.nodes[this.options.to],this.id=this.options.id}drawLine(e,t,r,i){let s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:this.getViaNode();e.strokeStyle=this.getColor(e,t),e.lineWidth=t.width,t.dashes!==!1?this._drawDashedLine(e,t,s):this._drawLine(e,t,s)}_drawLine(e,t,r,i,s){if(this.from!=this.to)this._line(e,t,r,i,s);else{const[o,a,u]=this._getCircleData(e);this._circle(e,t,o,a,u)}}_drawDashedLine(e,t,r,i,s){e.lineCap="round";const o=Oe(t.dashes)?t.dashes:[5,5];if(e.setLineDash!==void 0){if(e.save(),e.setLineDash(o),e.lineDashOffset=0,this.from!=this.to)this._line(e,t,r);else{const[a,u,l]=this._getCircleData(e);this._circle(e,t,a,u,l)}e.setLineDash([0]),e.lineDashOffset=0,e.restore()}else{if(this.from!=this.to)CN(e,this.from.x,this.from.y,this.to.x,this.to.y,o);else{const[a,u,l]=this._getCircleData(e);this._circle(e,t,a,u,l)}this.enableShadow(e,t),e.stroke(),this.disableShadow(e,t)}}findBorderPosition(e,t,r){return this.from!=this.to?this._findBorderPosition(e,t,r):this._findBorderPositionCircle(e,t,r)}findBorderPositions(e){if(this.from!=this.to)return{from:this._findBorderPosition(this.from,e),to:this._findBorderPosition(this.to,e)};{var t;const[r,i]=Ct(t=this._getCircleData(e)).call(t,0,2);return{from:this._findBorderPositionCircle(this.from,e,{x:r,y:i,low:.25,high:.6,direction:-1}),to:this._findBorderPositionCircle(this.from,e,{x:r,y:i,low:.6,high:.8,direction:1})}}}_getCircleData(e){const t=this.options.selfReference.size;e!==void 0&&this.from.shape.width===void 0&&this.from.shape.resize(e);const r=Wk(e,this.options.selfReference.angle,t,this.from);return[r.x,r.y,t]}_pointOnCircle(e,t,r,i){const s=i*2*Math.PI;return{x:e+r*Math.cos(s),y:t-r*Math.sin(s)}}_findBorderPositionCircle(e,t,r){const i=r.x,s=r.y;let o=r.low,a=r.high;const u=r.direction,l=10,d=this.options.selfReference.size,c=.05;let h,f=(o+a)*.5,v=0;this.options.arrowStrikethrough===!0&&(u===-1?v=this.options.endPointOffset.from:u===1&&(v=this.options.endPointOffset.to));let p=0;do{f=(o+a)*.5,h=this._pointOnCircle(i,s,d,f);const m=Math.atan2(e.y-h.y,e.x-h.x),y=e.distanceToBorder(t,m)+v,g=Math.sqrt(Math.pow(h.x-e.x,2)+Math.pow(h.y-e.y,2)),E=y-g;if(Math.abs(E)<c)break;E>0?u>0?o=f:a=f:u>0?a=f:o=f,++p}while(o<=a&&p<l);return PM(PM({},h),{},{t:f})}getLineWidth(e,t){return e===!0?Math.max(this.selectionWidth,.3/this._body.view.scale):t===!0?Math.max(this.hoverWidth,.3/this._body.view.scale):Math.max(this.options.width,.3/this._body.view.scale)}getColor(e,t){if(t.inheritsColor!==!1){if(t.inheritsColor==="both"&&this.from.id!==this.to.id){const r=e.createLinearGradient(this.from.x,this.from.y,this.to.x,this.to.y);let i=this.from.options.color.highlight.border,s=this.to.options.color.highlight.border;return this.from.selected===!1&&this.to.selected===!1?(i=ht(this.from.options.color.border,t.opacity),s=ht(this.to.options.color.border,t.opacity)):this.from.selected===!0&&this.to.selected===!1?s=this.to.options.color.border:this.from.selected===!1&&this.to.selected===!0&&(i=this.from.options.color.border),r.addColorStop(0,i),r.addColorStop(1,s),r}return t.inheritsColor==="to"?ht(this.to.options.color.border,t.opacity):ht(this.from.options.color.border,t.opacity)}else return ht(t.color,t.opacity)}_circle(e,t,r,i,s){this.enableShadow(e,t);let o=0,a=Math.PI*2;if(!this.options.selfReference.renderBehindTheNode){const u=this.options.selfReference.angle,l=this.options.selfReference.angle+Math.PI,d=this._findBorderPositionCircle(this.from,e,{x:r,y:i,low:u,high:l,direction:-1}),c=this._findBorderPositionCircle(this.from,e,{x:r,y:i,low:u,high:l,direction:1});o=Math.atan2(d.y-i,d.x-r),a=Math.atan2(c.y-i,c.x-r)}e.beginPath(),e.arc(r,i,s,o,a,!1),e.stroke(),this.disableShadow(e,t)}getDistanceToEdge(e,t,r,i,s,o){if(this.from!=this.to)return this._getDistanceToEdge(e,t,r,i,s,o);{const[a,u,l]=this._getCircleData(void 0),d=a-s,c=u-o;return Math.abs(Math.sqrt(d*d+c*c)-l)}}_getDistanceToLine(e,t,r,i,s,o){const a=r-e,u=i-t,l=a*a+u*u;let d=((s-e)*a+(o-t)*u)/l;d>1?d=1:d<0&&(d=0);const c=e+d*a,h=t+d*u,f=c-s,v=h-o;return Math.sqrt(f*f+v*v)}getArrowData(e,t,r,i,s,o){let a,u,l,d,c,h,f;const v=o.width;t==="from"?(l=this.from,d=this.to,c=o.fromArrowScale<0,h=Math.abs(o.fromArrowScale),f=o.fromArrowType):t==="to"?(l=this.to,d=this.from,c=o.toArrowScale<0,h=Math.abs(o.toArrowScale),f=o.toArrowType):(l=this.to,d=this.from,c=o.middleArrowScale<0,h=Math.abs(o.middleArrowScale),f=o.middleArrowType);const p=15*h+3*v;if(l!=d){const E=l6(l.x-d.x,l.y-d.y),b=p/E;if(t!=="middle")if(this.options.smooth.enabled===!0){const w=this._findBorderPosition(l,e,{via:r}),O=this.getPoint(w.t+b*(t==="from"?1:-1),r);a=Math.atan2(w.y-O.y,w.x-O.x),u=w}else a=Math.atan2(l.y-d.y,l.x-d.x),u=this._findBorderPosition(l,e);else{const w=(c?-b:b)/2,O=this.getPoint(.5+w,r),I=this.getPoint(.5-w,r);a=Math.atan2(O.y-I.y,O.x-I.x),u=this.getPoint(.5,r)}}else{const[E,b,w]=this._getCircleData(e);if(t==="from"){const O=this.options.selfReference.angle,I=this.options.selfReference.angle+Math.PI,_=this._findBorderPositionCircle(this.from,e,{x:E,y:b,low:O,high:I,direction:-1});a=_.t*-2*Math.PI+1.5*Math.PI+.1*Math.PI,u=_}else if(t==="to"){const O=this.options.selfReference.angle,I=this.options.selfReference.angle+Math.PI,_=this._findBorderPositionCircle(this.from,e,{x:E,y:b,low:O,high:I,direction:1});a=_.t*-2*Math.PI+1.5*Math.PI-1.1*Math.PI,u=_}else{const O=this.options.selfReference.angle/(2*Math.PI);u=this._pointOnCircle(E,b,w,O),a=O*-2*Math.PI+1.5*Math.PI+.1*Math.PI}}const m=u.x-p*.9*Math.cos(a),y=u.y-p*.9*Math.sin(a);return{point:u,core:{x:m,y},angle:a,length:p,type:f}}drawArrowHead(e,t,r,i,s){e.strokeStyle=this.getColor(e,t),e.fillStyle=e.strokeStyle,e.lineWidth=t.width,Uk.draw(e,s)&&(this.enableShadow(e,t),bs(e).call(e),this.disableShadow(e,t))}enableShadow(e,t){t.shadow===!0&&(e.shadowColor=t.shadowColor,e.shadowBlur=t.shadowSize,e.shadowOffsetX=t.shadowX,e.shadowOffsetY=t.shadowY)}disableShadow(e,t){t.shadow===!0&&(e.shadowColor="rgba(0,0,0,0)",e.shadowBlur=0,e.shadowOffsetX=0,e.shadowOffsetY=0)}drawBackground(e,t){if(t.background!==!1){const r={strokeStyle:e.strokeStyle,lineWidth:e.lineWidth,dashes:e.dashes};e.strokeStyle=t.backgroundColor,e.lineWidth=t.backgroundSize,this.setStrokeDashed(e,t.backgroundDashes),e.stroke(),e.strokeStyle=r.strokeStyle,e.lineWidth=r.lineWidth,e.dashes=r.dashes,this.setStrokeDashed(e,t.dashes)}}setStrokeDashed(e,t){if(t!==!1)if(e.setLineDash!==void 0){const r=Oe(t)?t:[5,5];e.setLineDash(r)}else console.warn("setLineDash is not supported in this browser. The dashed stroke cannot be used.");else e.setLineDash!==void 0?e.setLineDash([]):console.warn("setLineDash is not supported in this browser. The dashed stroke cannot be used.")}}function RM(n,e){var t=Se(n);if(vr){var r=vr(n);e&&(r=rt(r).call(r,function(i){return Er(n,i).enumerable})),t.push.apply(t,r)}return t}function qM(n){for(var e=1;e<arguments.length;e++){var t,r,i=arguments[e]!=null?arguments[e]:{};e%2?de(t=RM(Object(i),!0)).call(t,function(s){zt(n,s,i[s])}):pr?Do(n,pr(i)):de(r=RM(Object(i))).call(r,function(s){Mo(n,s,Er(i,s))})}return n}class Db extends Vk{constructor(e,t,r){super(e,t,r)}_findBorderPositionBezier(e,t){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this._getViaCoordinates();const i=10,s=.2;let o=!1,a=1,u=0,l=this.to,d,c,h=this.options.endPointOffset?this.options.endPointOffset.to:0;e.id===this.from.id&&(l=this.from,o=!0,h=this.options.endPointOffset?this.options.endPointOffset.from:0),this.options.arrowStrikethrough===!1&&(h=0);let f=0;do{c=(u+a)*.5,d=this.getPoint(c,r);const v=Math.atan2(l.y-d.y,l.x-d.x),p=l.distanceToBorder(t,v)+h,m=Math.sqrt(Math.pow(d.x-l.x,2)+Math.pow(d.y-l.y,2)),y=p-m;if(Math.abs(y)<s)break;y<0?o===!1?u=c:a=c:o===!1?a=c:u=c,++f}while(u<=a&&f<i);return qM(qM({},d),{},{t:c})}_getDistanceToBezierEdge(e,t,r,i,s,o,a){let u=1e9,l,d,c,h,f,v=e,p=t;for(d=1;d<10;d++)c=.1*d,h=Math.pow(1-c,2)*e+2*c*(1-c)*a.x+Math.pow(c,2)*r,f=Math.pow(1-c,2)*t+2*c*(1-c)*a.y+Math.pow(c,2)*i,d>0&&(l=this._getDistanceToLine(v,p,h,f,s,o),u=l<u?l:u),v=h,p=f;return u}_bezierCurve(e,t,r,i){e.beginPath(),e.moveTo(this.fromPoint.x,this.fromPoint.y),r!=null&&r.x!=null?i!=null&&i.x!=null?e.bezierCurveTo(r.x,r.y,i.x,i.y,this.toPoint.x,this.toPoint.y):e.quadraticCurveTo(r.x,r.y,this.toPoint.x,this.toPoint.y):e.lineTo(this.toPoint.x,this.toPoint.y),this.drawBackground(e,t),this.enableShadow(e,t),e.stroke(),this.disableShadow(e,t)}getViaNode(){return this._getViaCoordinates()}}class CM extends Db{constructor(e,t,r){super(e,t,r),zt(this,"via",this.via),this._boundFunction=()=>{this.positionBezierNode()},this._body.emitter.on("_repositionBezierNodes",this._boundFunction)}setOptions(e){super.setOptions(e);let t=!1;this.options.physics!==e.physics&&(t=!0),this.options=e,this.id=this.options.id,this.from=this._body.nodes[this.options.from],this.to=this._body.nodes[this.options.to],this.setupSupportNode(),this.connect(),t===!0&&(this.via.setOptions({physics:this.options.physics}),this.positionBezierNode())}connect(){this.from=this._body.nodes[this.options.from],this.to=this._body.nodes[this.options.to],this.from===void 0||this.to===void 0||this.options.physics===!1?this.via.setOptions({physics:!1}):this.from.id===this.to.id?this.via.setOptions({physics:!1}):this.via.setOptions({physics:!0})}cleanup(){return this._body.emitter.off("_repositionBezierNodes",this._boundFunction),this.via!==void 0?(delete this._body.nodes[this.via.id],this.via=void 0,!0):!1}setupSupportNode(){if(this.via===void 0){const e="edgeId:"+this.id,t=this._body.functions.createNode({id:e,shape:"circle",physics:!0,hidden:!0});this._body.nodes[e]=t,this.via=t,this.via.parentEdgeId=this.id,this.positionBezierNode()}}positionBezierNode(){this.via!==void 0&&this.from!==void 0&&this.to!==void 0?(this.via.x=.5*(this.from.x+this.to.x),this.via.y=.5*(this.from.y+this.to.y)):this.via!==void 0&&(this.via.x=0,this.via.y=0)}_line(e,t,r){this._bezierCurve(e,t,r)}_getViaCoordinates(){return this.via}getViaNode(){return this.via}getPoint(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.via;if(this.from===this.to){const[r,i,s]=this._getCircleData(),o=2*Math.PI*(1-e);return{x:r+s*Math.sin(o),y:i+s-s*(1-Math.cos(o))}}else return{x:Math.pow(1-e,2)*this.fromPoint.x+2*e*(1-e)*t.x+Math.pow(e,2)*this.toPoint.x,y:Math.pow(1-e,2)*this.fromPoint.y+2*e*(1-e)*t.y+Math.pow(e,2)*this.toPoint.y}}_findBorderPosition(e,t){return this._findBorderPositionBezier(e,t,this.via)}_getDistanceToEdge(e,t,r,i,s,o){return this._getDistanceToBezierEdge(e,t,r,i,s,o,this.via)}}class xM extends Db{constructor(e,t,r){super(e,t,r)}_line(e,t,r){this._bezierCurve(e,t,r)}getViaNode(){return this._getViaCoordinates()}_getViaCoordinates(){const e=this.options.smooth.roundness,t=this.options.smooth.type;let r=Math.abs(this.from.x-this.to.x),i=Math.abs(this.from.y-this.to.y);if(t==="discrete"||t==="diagonalCross"){let s,o;r<=i?s=o=e*i:s=o=e*r,this.from.x>this.to.x&&(s=-s),this.from.y>=this.to.y&&(o=-o);let a=this.from.x+s,u=this.from.y+o;return t==="discrete"&&(r<=i?a=r<e*i?this.from.x:a:u=i<e*r?this.from.y:u),{x:a,y:u}}else if(t==="straightCross"){let s=(1-e)*r,o=(1-e)*i;return r<=i?(s=0,this.from.y<this.to.y&&(o=-o)):(this.from.x<this.to.x&&(s=-s),o=0),{x:this.to.x+s,y:this.to.y+o}}else if(t==="horizontal"){let s=(1-e)*r;return this.from.x<this.to.x&&(s=-s),{x:this.to.x+s,y:this.from.y}}else if(t==="vertical"){let s=(1-e)*i;return this.from.y<this.to.y&&(s=-s),{x:this.from.x,y:this.to.y+s}}else if(t==="curvedCW"){r=this.to.x-this.from.x,i=this.from.y-this.to.y;const s=Math.sqrt(r*r+i*i),o=Math.PI,u=(Math.atan2(i,r)+(e*.5+.5)*o)%(2*o);return{x:this.from.x+(e*.5+.5)*s*Math.sin(u),y:this.from.y+(e*.5+.5)*s*Math.cos(u)}}else if(t==="curvedCCW"){r=this.to.x-this.from.x,i=this.from.y-this.to.y;const s=Math.sqrt(r*r+i*i),o=Math.PI,u=(Math.atan2(i,r)+(-e*.5+.5)*o)%(2*o);return{x:this.from.x+(e*.5+.5)*s*Math.sin(u),y:this.from.y+(e*.5+.5)*s*Math.cos(u)}}else{let s,o;r<=i?s=o=e*i:s=o=e*r,this.from.x>this.to.x&&(s=-s),this.from.y>=this.to.y&&(o=-o);let a=this.from.x+s,u=this.from.y+o;return r<=i?this.from.x<=this.to.x?a=this.to.x<a?this.to.x:a:a=this.to.x>a?this.to.x:a:this.from.y>=this.to.y?u=this.to.y>u?this.to.y:u:u=this.to.y<u?this.to.y:u,{x:a,y:u}}}_findBorderPosition(e,t){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this._findBorderPositionBezier(e,t,r.via)}_getDistanceToEdge(e,t,r,i,s,o){let a=arguments.length>6&&arguments[6]!==void 0?arguments[6]:this._getViaCoordinates();return this._getDistanceToBezierEdge(e,t,r,i,s,o,a)}getPoint(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this._getViaCoordinates();const r=e,i=Math.pow(1-r,2)*this.fromPoint.x+2*r*(1-r)*t.x+Math.pow(r,2)*this.toPoint.x,s=Math.pow(1-r,2)*this.fromPoint.y+2*r*(1-r)*t.y+Math.pow(r,2)*this.toPoint.y;return{x:i,y:s}}}class E6 extends Db{constructor(e,t,r){super(e,t,r)}_getDistanceToBezierEdge2(e,t,r,i,s,o,a,u){let l=1e9,d=e,c=t;const h=[0,0,0,0];for(let f=1;f<10;f++){const v=.1*f;h[0]=Math.pow(1-v,3),h[1]=3*v*Math.pow(1-v,2),h[2]=3*Math.pow(v,2)*(1-v),h[3]=Math.pow(v,3);const p=h[0]*e+h[1]*a.x+h[2]*u.x+h[3]*r,m=h[0]*t+h[1]*a.y+h[2]*u.y+h[3]*i;if(f>0){const y=this._getDistanceToLine(d,c,p,m,s,o);l=y<l?y:l}d=p,c=m}return l}}class DM extends E6{constructor(e,t,r){super(e,t,r)}_line(e,t,r){const i=r[0],s=r[1];this._bezierCurve(e,t,i,s)}_getViaCoordinates(){const e=this.from.x-this.to.x,t=this.from.y-this.to.y;let r,i,s,o;const a=this.options.smooth.roundness;return(Math.abs(e)>Math.abs(t)||this.options.smooth.forceDirection===!0||this.options.smooth.forceDirection==="horizontal")&&this.options.smooth.forceDirection!=="vertical"?(i=this.from.y,o=this.to.y,r=this.from.x-a*e,s=this.to.x+a*e):(i=this.from.y-a*t,o=this.to.y+a*t,r=this.from.x,s=this.to.x),[{x:r,y:i},{x:s,y:o}]}getViaNode(){return this._getViaCoordinates()}_findBorderPosition(e,t){return this._findBorderPositionBezier(e,t)}_getDistanceToEdge(e,t,r,i,s,o){let[a,u]=arguments.length>6&&arguments[6]!==void 0?arguments[6]:this._getViaCoordinates();return this._getDistanceToBezierEdge2(e,t,r,i,s,o,a,u)}getPoint(e){let[t,r]=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this._getViaCoordinates();const i=e,s=[Math.pow(1-i,3),3*i*Math.pow(1-i,2),3*Math.pow(i,2)*(1-i),Math.pow(i,3)],o=s[0]*this.fromPoint.x+s[1]*t.x+s[2]*r.x+s[3]*this.toPoint.x,a=s[0]*this.fromPoint.y+s[1]*t.y+s[2]*r.y+s[3]*this.toPoint.y;return{x:o,y:a}}}class MM extends Vk{constructor(e,t,r){super(e,t,r)}_line(e,t){e.beginPath(),e.moveTo(this.fromPoint.x,this.fromPoint.y),e.lineTo(this.toPoint.x,this.toPoint.y),this.enableShadow(e,t),e.stroke(),this.disableShadow(e,t)}getViaNode(){}getPoint(e){return{x:(1-e)*this.fromPoint.x+e*this.toPoint.x,y:(1-e)*this.fromPoint.y+e*this.toPoint.y}}_findBorderPosition(e,t){let r=this.to,i=this.from;e.id===this.from.id&&(r=this.from,i=this.to);const s=Math.atan2(r.y-i.y,r.x-i.x),o=r.x-i.x,a=r.y-i.y,u=Math.sqrt(o*o+a*a),l=e.distanceToBorder(t,s),d=(u-l)/u;return{x:(1-d)*i.x+d*r.x,y:(1-d)*i.y+d*r.y,t:0}}_getDistanceToEdge(e,t,r,i,s,o){return this._getDistanceToLine(e,t,r,i,s,o)}}class hr{constructor(e,t,r,i,s){if(t===void 0)throw new Error("No body provided");this.options=cr(i),this.globalOptions=i,this.defaultOptions=s,this.body=t,this.imagelist=r,this.id=void 0,this.fromId=void 0,this.toId=void 0,this.selected=!1,this.hover=!1,this.labelDirty=!0,this.baseWidth=this.options.width,this.baseFontSize=this.options.font.size,this.from=void 0,this.to=void 0,this.edgeType=void 0,this.connected=!1,this.labelModule=new Ti(this.body,this.options,!0),this.setOptions(e)}setOptions(e){if(!e)return;let t=typeof e.physics<"u"&&this.options.physics!==e.physics||typeof e.hidden<"u"&&(this.options.hidden||!1)!==(e.hidden||!1)||typeof e.from<"u"&&this.options.from!==e.from||typeof e.to<"u"&&this.options.to!==e.to;hr.parseOptions(this.options,e,!0,this.globalOptions),e.id!==void 0&&(this.id=e.id),e.from!==void 0&&(this.fromId=e.from),e.to!==void 0&&(this.toId=e.to),e.title!==void 0&&(this.title=e.title),e.value!==void 0&&(e.value=zk(e.value));const r=[e,this.options,this.defaultOptions];return this.chooser=Cb("edge",r),this.updateLabelModule(e),t=this.updateEdgeType()||t,this._setInteractionWidths(),this.connect(),t}static parseOptions(e,t){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1;if(cn(["endPointOffset","arrowStrikethrough","id","from","hidden","hoverWidth","labelHighlightBold","length","line","opacity","physics","scaling","selectionWidth","selfReferenceSize","selfReference","to","title","value","width","font","chosen","widthConstraint"],e,t,r),t.endPointOffset!==void 0&&t.endPointOffset.from!==void 0&&(Fr(t.endPointOffset.from)?e.endPointOffset.from=t.endPointOffset.from:(e.endPointOffset.from=i.endPointOffset.from!==void 0?i.endPointOffset.from:0,console.error("endPointOffset.from is not a valid number"))),t.endPointOffset!==void 0&&t.endPointOffset.to!==void 0&&(Fr(t.endPointOffset.to)?e.endPointOffset.to=t.endPointOffset.to:(e.endPointOffset.to=i.endPointOffset.to!==void 0?i.endPointOffset.to:0,console.error("endPointOffset.to is not a valid number"))),Zs(t.label)?e.label=t.label:Zs(e.label)||(e.label=void 0),ct(e,t,"smooth",i),ct(e,t,"shadow",i),ct(e,t,"background",i),t.dashes!==void 0&&t.dashes!==null?e.dashes=t.dashes:r===!0&&t.dashes===null&&(e.dashes=jr(i.dashes)),t.scaling!==void 0&&t.scaling!==null?(t.scaling.min!==void 0&&(e.scaling.min=t.scaling.min),t.scaling.max!==void 0&&(e.scaling.max=t.scaling.max),ct(e.scaling,t.scaling,"label",i.scaling)):r===!0&&t.scaling===null&&(e.scaling=jr(i.scaling)),t.arrows!==void 0&&t.arrows!==null)if(typeof t.arrows=="string"){const a=t.arrows.toLowerCase();e.arrows.to.enabled=se(a).call(a,"to")!=-1,e.arrows.middle.enabled=se(a).call(a,"middle")!=-1,e.arrows.from.enabled=se(a).call(a,"from")!=-1}else if(typeof t.arrows=="object")ct(e.arrows,t.arrows,"to",i.arrows),ct(e.arrows,t.arrows,"middle",i.arrows),ct(e.arrows,t.arrows,"from",i.arrows);else throw new Error("The arrow newOptions can only be an object or a string. Refer to the documentation. You used:"+ms(t.arrows));else r===!0&&t.arrows===null&&(e.arrows=jr(i.arrows));if(t.color!==void 0&&t.color!==null){const a=Ii(t.color)?{color:t.color,highlight:t.color,hover:t.color,inherit:!1,opacity:1}:t.color,u=e.color;if(s)fe(u,i.color,!1,r);else for(const l in u)Object.prototype.hasOwnProperty.call(u,l)&&delete u[l];if(Ii(u))u.color=u,u.highlight=u,u.hover=u,u.inherit=!1,a.opacity===void 0&&(u.opacity=1);else{let l=!1;a.color!==void 0&&(u.color=a.color,l=!0),a.highlight!==void 0&&(u.highlight=a.highlight,l=!0),a.hover!==void 0&&(u.hover=a.hover,l=!0),a.inherit!==void 0&&(u.inherit=a.inherit),a.opacity!==void 0&&(u.opacity=Math.min(1,Math.max(0,a.opacity))),l===!0?u.inherit=!1:u.inherit===void 0&&(u.inherit="from")}}else r===!0&&t.color===null&&(e.color=cr(i.color));r===!0&&t.font===null&&(e.font=cr(i.font)),Object.prototype.hasOwnProperty.call(t,"selfReferenceSize")&&(console.warn("The selfReferenceSize property has been deprecated. Please use selfReference property instead. The selfReference can be set like thise selfReference:{size:30, angle:Math.PI / 4}"),e.selfReference.size=t.selfReferenceSize)}getFormattingValues(){const e=this.options.arrows.to===!0||this.options.arrows.to.enabled===!0,t=this.options.arrows.from===!0||this.options.arrows.from.enabled===!0,r=this.options.arrows.middle===!0||this.options.arrows.middle.enabled===!0,i=this.options.color.inherit,s={toArrow:e,toArrowScale:this.options.arrows.to.scaleFactor,toArrowType:this.options.arrows.to.type,toArrowSrc:this.options.arrows.to.src,toArrowImageWidth:this.options.arrows.to.imageWidth,toArrowImageHeight:this.options.arrows.to.imageHeight,middleArrow:r,middleArrowScale:this.options.arrows.middle.scaleFactor,middleArrowType:this.options.arrows.middle.type,middleArrowSrc:this.options.arrows.middle.src,middleArrowImageWidth:this.options.arrows.middle.imageWidth,middleArrowImageHeight:this.options.arrows.middle.imageHeight,fromArrow:t,fromArrowScale:this.options.arrows.from.scaleFactor,fromArrowType:this.options.arrows.from.type,fromArrowSrc:this.options.arrows.from.src,fromArrowImageWidth:this.options.arrows.from.imageWidth,fromArrowImageHeight:this.options.arrows.from.imageHeight,arrowStrikethrough:this.options.arrowStrikethrough,color:i?void 0:this.options.color.color,inheritsColor:i,opacity:this.options.color.opacity,hidden:this.options.hidden,length:this.options.length,shadow:this.options.shadow.enabled,shadowColor:this.options.shadow.color,shadowSize:this.options.shadow.size,shadowX:this.options.shadow.x,shadowY:this.options.shadow.y,dashes:this.options.dashes,width:this.options.width,background:this.options.background.enabled,backgroundColor:this.options.background.color,backgroundSize:this.options.background.size,backgroundDashes:this.options.background.dashes};if(this.selected||this.hover)if(this.chooser===!0){if(this.selected){const o=this.options.selectionWidth;typeof o=="function"?s.width=o(s.width):typeof o=="number"&&(s.width+=o),s.width=Math.max(s.width,.3/this.body.view.scale),s.color=this.options.color.highlight,s.shadow=this.options.shadow.enabled}else if(this.hover){const o=this.options.hoverWidth;typeof o=="function"?s.width=o(s.width):typeof o=="number"&&(s.width+=o),s.width=Math.max(s.width,.3/this.body.view.scale),s.color=this.options.color.hover,s.shadow=this.options.shadow.enabled}}else typeof this.chooser=="function"&&(this.chooser(s,this.options.id,this.selected,this.hover),s.color!==void 0&&(s.inheritsColor=!1),s.shadow===!1&&(s.shadowColor!==this.options.shadow.color||s.shadowSize!==this.options.shadow.size||s.shadowX!==this.options.shadow.x||s.shadowY!==this.options.shadow.y)&&(s.shadow=!0));else s.shadow=this.options.shadow.enabled,s.width=Math.max(s.width,.3/this.body.view.scale);return s}updateLabelModule(e){const t=[e,this.options,this.globalOptions,this.defaultOptions];this.labelModule.update(this.options,t),this.labelModule.baseSize!==void 0&&(this.baseFontSize=this.labelModule.baseSize)}updateEdgeType(){const e=this.options.smooth;let t=!1,r=!0;return this.edgeType!==void 0&&((this.edgeType instanceof CM&&e.enabled===!0&&e.type==="dynamic"||this.edgeType instanceof DM&&e.enabled===!0&&e.type==="cubicBezier"||this.edgeType instanceof xM&&e.enabled===!0&&e.type!=="dynamic"&&e.type!=="cubicBezier"||this.edgeType instanceof MM&&e.type.enabled===!1)&&(r=!1),r===!0&&(t=this.cleanup())),r===!0?e.enabled===!0?e.type==="dynamic"?(t=!0,this.edgeType=new CM(this.options,this.body,this.labelModule)):e.type==="cubicBezier"?this.edgeType=new DM(this.options,this.body,this.labelModule):this.edgeType=new xM(this.options,this.body,this.labelModule):this.edgeType=new MM(this.options,this.body,this.labelModule):this.edgeType.setOptions(this.options),t}connect(){this.disconnect(),this.from=this.body.nodes[this.fromId]||void 0,this.to=this.body.nodes[this.toId]||void 0,this.connected=this.from!==void 0&&this.to!==void 0,this.connected===!0?(this.from.attachEdge(this),this.to.attachEdge(this)):(this.from&&this.from.detachEdge(this),this.to&&this.to.detachEdge(this)),this.edgeType.connect()}disconnect(){this.from&&(this.from.detachEdge(this),this.from=void 0),this.to&&(this.to.detachEdge(this),this.to=void 0),this.connected=!1}getTitle(){return this.title}isSelected(){return this.selected}getValue(){return this.options.value}setValueRange(e,t,r){if(this.options.value!==void 0){const i=this.options.scaling.customScalingFunction(e,t,r,this.options.value),s=this.options.scaling.max-this.options.scaling.min;if(this.options.scaling.label.enabled===!0){const o=this.options.scaling.label.max-this.options.scaling.label.min;this.options.font.size=this.options.scaling.label.min+i*o}this.options.width=this.options.scaling.min+i*s}else this.options.width=this.baseWidth,this.options.font.size=this.baseFontSize;this._setInteractionWidths(),this.updateLabelModule()}_setInteractionWidths(){typeof this.options.hoverWidth=="function"?this.edgeType.hoverWidth=this.options.hoverWidth(this.options.width):this.edgeType.hoverWidth=this.options.hoverWidth+this.options.width,typeof this.options.selectionWidth=="function"?this.edgeType.selectionWidth=this.options.selectionWidth(this.options.width):this.edgeType.selectionWidth=this.options.selectionWidth+this.options.width}draw(e){const t=this.getFormattingValues();if(t.hidden)return;const r=this.edgeType.getViaNode();this.edgeType.drawLine(e,t,this.selected,this.hover,r),this.drawLabel(e,r)}drawArrows(e){const t=this.getFormattingValues();if(t.hidden)return;const r=this.edgeType.getViaNode(),i={};this.edgeType.fromPoint=this.edgeType.from,this.edgeType.toPoint=this.edgeType.to,t.fromArrow&&(i.from=this.edgeType.getArrowData(e,"from",r,this.selected,this.hover,t),t.arrowStrikethrough===!1&&(this.edgeType.fromPoint=i.from.core),t.fromArrowSrc&&(i.from.image=this.imagelist.load(t.fromArrowSrc)),t.fromArrowImageWidth&&(i.from.imageWidth=t.fromArrowImageWidth),t.fromArrowImageHeight&&(i.from.imageHeight=t.fromArrowImageHeight)),t.toArrow&&(i.to=this.edgeType.getArrowData(e,"to",r,this.selected,this.hover,t),t.arrowStrikethrough===!1&&(this.edgeType.toPoint=i.to.core),t.toArrowSrc&&(i.to.image=this.imagelist.load(t.toArrowSrc)),t.toArrowImageWidth&&(i.to.imageWidth=t.toArrowImageWidth),t.toArrowImageHeight&&(i.to.imageHeight=t.toArrowImageHeight)),t.middleArrow&&(i.middle=this.edgeType.getArrowData(e,"middle",r,this.selected,this.hover,t),t.middleArrowSrc&&(i.middle.image=this.imagelist.load(t.middleArrowSrc)),t.middleArrowImageWidth&&(i.middle.imageWidth=t.middleArrowImageWidth),t.middleArrowImageHeight&&(i.middle.imageHeight=t.middleArrowImageHeight)),t.fromArrow&&this.edgeType.drawArrowHead(e,t,this.selected,this.hover,i.from),t.middleArrow&&this.edgeType.drawArrowHead(e,t,this.selected,this.hover,i.middle),t.toArrow&&this.edgeType.drawArrowHead(e,t,this.selected,this.hover,i.to)}drawLabel(e,t){if(this.options.label!==void 0){const r=this.from,i=this.to;this.labelModule.differentState(this.selected,this.hover)&&this.labelModule.getTextSize(e,this.selected,this.hover);let s;if(r.id!=i.id){this.labelModule.pointToSelf=!1,s=this.edgeType.getPoint(.5,t),e.save();const o=this._getRotation(e);o.angle!=0&&(e.translate(o.x,o.y),e.rotate(o.angle)),this.labelModule.draw(e,s.x,s.y,this.selected,this.hover),e.restore()}else{this.labelModule.pointToSelf=!0;const o=Wk(e,this.options.selfReference.angle,this.options.selfReference.size,r);s=this._pointOnCircle(o.x,o.y,this.options.selfReference.size,this.options.selfReference.angle),this.labelModule.draw(e,s.x,s.y,this.selected,this.hover)}}}getItemsOnPoint(e){const t=[];if(this.labelModule.visible()){const i=this._getRotation();Tm(this.labelModule.getSize(),e,i)&&t.push({edgeId:this.id,labelId:0})}const r={left:e.x,top:e.y};return this.isOverlappingWith(r)&&t.push({edgeId:this.id}),t}isOverlappingWith(e){if(this.connected){const r=this.from.x,i=this.from.y,s=this.to.x,o=this.to.y,a=e.left,u=e.top;return this.edgeType.getDistanceToEdge(r,i,s,o,a,u)<10}else return!1}_getRotation(e){const t=this.edgeType.getViaNode(),r=this.edgeType.getPoint(.5,t);e!==void 0&&this.labelModule.calculateLabelSize(e,this.selected,this.hover,r.x,r.y);const i={x:r.x,y:this.labelModule.size.yLine,angle:0};if(!this.labelModule.visible()||this.options.font.align==="horizontal")return i;const s=this.from.y-this.to.y,o=this.from.x-this.to.x;let a=Math.atan2(s,o);return(a<-1&&o<0||a>0&&o<0)&&(a+=Math.PI),i.angle=a,i}_pointOnCircle(e,t,r,i){return{x:e+r*Math.cos(i),y:t-r*Math.sin(i)}}select(){this.selected=!0}unselect(){this.selected=!1}cleanup(){return this.edgeType.cleanup()}remove(){this.cleanup(),this.disconnect(),delete this.body.edges[this.id]}endPointsValid(){return this.body.nodes[this.fromId]!==void 0&&this.body.nodes[this.toId]!==void 0}}class S6{constructor(e,t,r){var i;this.body=e,this.images=t,this.groups=r,this.body.functions.createEdge=D(i=this.create).call(i,this),this.edgesListeners={add:(s,o)=>{this.add(o.items)},update:(s,o)=>{this.update(o.items)},remove:(s,o)=>{this.remove(o.items)}},this.options={},this.defaultOptions={arrows:{to:{enabled:!1,scaleFactor:1,type:"arrow"},middle:{enabled:!1,scaleFactor:1,type:"arrow"},from:{enabled:!1,scaleFactor:1,type:"arrow"}},endPointOffset:{from:0,to:0},arrowStrikethrough:!0,color:{color:"#848484",highlight:"#848484",hover:"#848484",inherit:"from",opacity:1},dashes:!1,font:{color:"#343434",size:14,face:"arial",background:"none",strokeWidth:2,strokeColor:"#ffffff",align:"horizontal",multi:!1,vadjust:0,bold:{mod:"bold"},boldital:{mod:"bold italic"},ital:{mod:"italic"},mono:{mod:"",size:15,face:"courier new",vadjust:2}},hidden:!1,hoverWidth:1.5,label:void 0,labelHighlightBold:!0,length:void 0,physics:!0,scaling:{min:1,max:15,label:{enabled:!0,min:14,max:30,maxVisible:30,drawThreshold:5},customScalingFunction:function(s,o,a,u){if(o===s)return .5;{const l=1/(o-s);return Math.max(0,(u-s)*l)}}},selectionWidth:1.5,selfReference:{size:20,angle:Math.PI/4,renderBehindTheNode:!0},shadow:{enabled:!1,color:"rgba(0,0,0,0.5)",size:10,x:5,y:5},background:{enabled:!1,color:"rgba(111,111,111,1)",size:10,dashes:!1},smooth:{enabled:!0,type:"dynamic",forceDirection:"none",roundness:.5},title:void 0,width:1,value:void 0},fe(this.options,this.defaultOptions),this.bindEventListeners()}bindEventListeners(){var e=this,t,r;this.body.emitter.on("_forceDisableDynamicCurves",function(i){let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;i==="dynamic"&&(i="continuous");let o=!1;for(const a in e.body.edges)if(Object.prototype.hasOwnProperty.call(e.body.edges,a)){const u=e.body.edges[a],l=e.body.data.edges.get(a);if(l!=null){const d=l.smooth;d!==void 0&&d.enabled===!0&&d.type==="dynamic"&&(i===void 0?u.setOptions({smooth:!1}):u.setOptions({smooth:{type:i}}),o=!0)}}s===!0&&o===!0&&e.body.emitter.emit("_dataChanged")}),this.body.emitter.on("_dataUpdated",()=>{this.reconnectEdges()}),this.body.emitter.on("refreshEdges",D(t=this.refresh).call(t,this)),this.body.emitter.on("refresh",D(r=this.refresh).call(r,this)),this.body.emitter.on("destroy",()=>{J(this.edgesListeners,(i,s)=>{this.body.data.edges&&this.body.data.edges.off(s,i)}),delete this.body.functions.createEdge,delete this.edgesListeners.add,delete this.edgesListeners.update,delete this.edgesListeners.remove,delete this.edgesListeners})}setOptions(e){if(e!==void 0){hr.parseOptions(this.options,e,!0,this.defaultOptions,!0);let t=!1;if(e.smooth!==void 0)for(const r in this.body.edges)Object.prototype.hasOwnProperty.call(this.body.edges,r)&&(t=this.body.edges[r].updateEdgeType()||t);if(e.font!==void 0)for(const r in this.body.edges)Object.prototype.hasOwnProperty.call(this.body.edges,r)&&this.body.edges[r].updateLabelModule();(e.hidden!==void 0||e.physics!==void 0||t===!0)&&this.body.emitter.emit("_dataChanged")}}setData(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;const r=this.body.data.edges;if(wN("id",e))this.body.data.edges=e;else if(Oe(e))this.body.data.edges=new xi,this.body.data.edges.add(e);else if(!e)this.body.data.edges=new xi;else throw new TypeError("Array or DataSet expected");if(r&&J(this.edgesListeners,(i,s)=>{r.off(s,i)}),this.body.edges={},this.body.data.edges){J(this.edgesListeners,(s,o)=>{this.body.data.edges.on(o,s)});const i=this.body.data.edges.getIds();this.add(i,!0)}this.body.emitter.emit("_adjustEdgesForHierarchicalLayout"),t===!1&&this.body.emitter.emit("_dataChanged")}add(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;const r=this.body.edges,i=this.body.data.edges;for(let s=0;s<e.length;s++){const o=e[s],a=r[o];a&&a.disconnect();const u=i.get(o,{showInternalIds:!0});r[o]=this.create(u)}this.body.emitter.emit("_adjustEdgesForHierarchicalLayout"),t===!1&&this.body.emitter.emit("_dataChanged")}update(e){const t=this.body.edges,r=this.body.data.edges;let i=!1;for(let s=0;s<e.length;s++){const o=e[s],a=r.get(o),u=t[o];u!==void 0?(u.disconnect(),i=u.setOptions(a)||i,u.connect()):(this.body.edges[o]=this.create(a),i=!0)}i===!0?(this.body.emitter.emit("_adjustEdgesForHierarchicalLayout"),this.body.emitter.emit("_dataChanged")):this.body.emitter.emit("_dataUpdated")}remove(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(e.length===0)return;const r=this.body.edges;J(e,i=>{const s=r[i];s!==void 0&&s.remove()}),t&&this.body.emitter.emit("_dataChanged")}refresh(){J(this.body.edges,(e,t)=>{const r=this.body.data.edges.get(t);r!==void 0&&e.setOptions(r)})}create(e){return new hr(e,this.body,this.images,this.options,this.defaultOptions)}reconnectEdges(){let e;const t=this.body.nodes,r=this.body.edges;for(e in t)Object.prototype.hasOwnProperty.call(t,e)&&(t[e].edges=[]);for(e in r)if(Object.prototype.hasOwnProperty.call(r,e)){const i=r[e];i.from=null,i.to=null,i.connect()}}getConnectedNodes(e){const t=[];if(this.body.edges[e]!==void 0){const r=this.body.edges[e];r.fromId!==void 0&&t.push(r.fromId),r.toId!==void 0&&t.push(r.toId)}return t}_updateState(){this._addMissingEdges(),this._removeInvalidEdges()}_removeInvalidEdges(){const e=[];J(this.body.edges,(t,r)=>{const i=this.body.nodes[t.toId],s=this.body.nodes[t.fromId];i!==void 0&&i.isCluster===!0||s!==void 0&&s.isCluster===!0||(i===void 0||s===void 0)&&e.push(r)}),this.remove(e,!1)}_addMissingEdges(){const e=this.body.data.edges;if(e==null)return;const t=this.body.edges,r=[];de(e).call(e,(i,s)=>{t[s]===void 0&&r.push(s)}),this.add(r,!0)}}class Gk{constructor(e,t,r){this.body=e,this.physicsBody=t,this.barnesHutTree,this.setOptions(r),this._rng=qo("BARNES HUT SOLVER")}setOptions(e){this.options=e,this.thetaInversed=1/this.options.theta,this.overlapAvoidanceFactor=1-Math.max(0,Math.min(1,this.options.avoidOverlap))}solve(){if(this.options.gravitationalConstant!==0&&this.physicsBody.physicsNodeIndices.length>0){let e;const t=this.body.nodes,r=this.physicsBody.physicsNodeIndices,i=r.length,s=this._formBarnesHutTree(t,r);this.barnesHutTree=s;for(let o=0;o<i;o++)e=t[r[o]],e.options.mass>0&&this._getForceContributions(s.root,e)}}_getForceContributions(e,t){this._getForceContribution(e.children.NW,t),this._getForceContribution(e.children.NE,t),this._getForceContribution(e.children.SW,t),this._getForceContribution(e.children.SE,t)}_getForceContribution(e,t){if(e.childrenCount>0){const r=e.centerOfMass.x-t.x,i=e.centerOfMass.y-t.y,s=Math.sqrt(r*r+i*i);s*e.calcSize>this.thetaInversed?this._calculateForces(s,r,i,t,e):e.childrenCount===4?this._getForceContributions(e,t):e.children.data.id!=t.id&&this._calculateForces(s,r,i,t,e)}}_calculateForces(e,t,r,i,s){e===0&&(e=.1,t=e),this.overlapAvoidanceFactor<1&&i.shape.radius&&(e=Math.max(.1+this.overlapAvoidanceFactor*i.shape.radius,e-i.shape.radius));const o=this.options.gravitationalConstant*s.mass*i.options.mass/Math.pow(e,3),a=t*o,u=r*o;this.physicsBody.forces[i.id].x+=a,this.physicsBody.forces[i.id].y+=u}_formBarnesHutTree(e,t){let r;const i=t.length;let s=e[t[0]].x,o=e[t[0]].y,a=e[t[0]].x,u=e[t[0]].y;for(let m=1;m<i;m++){const y=e[t[m]],g=y.x,E=y.y;y.options.mass>0&&(g<s&&(s=g),g>a&&(a=g),E<o&&(o=E),E>u&&(u=E))}const l=Math.abs(a-s)-Math.abs(u-o);l>0?(o-=.5*l,u+=.5*l):(s+=.5*l,a-=.5*l);const c=Math.max(1e-5,Math.abs(a-s)),h=.5*c,f=.5*(s+a),v=.5*(o+u),p={root:{centerOfMass:{x:0,y:0},mass:0,range:{minX:f-h,maxX:f+h,minY:v-h,maxY:v+h},size:c,calcSize:1/c,children:{data:null},maxWidth:0,level:0,childrenCount:4}};this._splitBranch(p.root);for(let m=0;m<i;m++)r=e[t[m]],r.options.mass>0&&this._placeInTree(p.root,r);return p}_updateBranchMass(e,t){const r=e.centerOfMass,i=e.mass+t.options.mass,s=1/i;r.x=r.x*e.mass+t.x*t.options.mass,r.x*=s,r.y=r.y*e.mass+t.y*t.options.mass,r.y*=s,e.mass=i;const o=Math.max(Math.max(t.height,t.radius),t.width);e.maxWidth=e.maxWidth<o?o:e.maxWidth}_placeInTree(e,t,r){(r!=!0||r===void 0)&&this._updateBranchMass(e,t);const i=e.children.NW.range;let s;i.maxX>t.x?i.maxY>t.y?s="NW":s="SW":i.maxY>t.y?s="NE":s="SE",this._placeInRegion(e,t,s)}_placeInRegion(e,t,r){const i=e.children[r];switch(i.childrenCount){case 0:i.children.data=t,i.childrenCount=1,this._updateBranchMass(i,t);break;case 1:i.children.data.x===t.x&&i.children.data.y===t.y?(t.x+=this._rng(),t.y+=this._rng()):(this._splitBranch(i),this._placeInTree(i,t));break;case 4:this._placeInTree(i,t);break}}_splitBranch(e){let t=null;e.childrenCount===1&&(t=e.children.data,e.mass=0,e.centerOfMass.x=0,e.centerOfMass.y=0),e.childrenCount=4,e.children.data=null,this._insertRegion(e,"NW"),this._insertRegion(e,"NE"),this._insertRegion(e,"SW"),this._insertRegion(e,"SE"),t!=null&&this._placeInTree(e,t)}_insertRegion(e,t){let r,i,s,o;const a=.5*e.size;switch(t){case"NW":r=e.range.minX,i=e.range.minX+a,s=e.range.minY,o=e.range.minY+a;break;case"NE":r=e.range.minX+a,i=e.range.maxX,s=e.range.minY,o=e.range.minY+a;break;case"SW":r=e.range.minX,i=e.range.minX+a,s=e.range.minY+a,o=e.range.maxY;break;case"SE":r=e.range.minX+a,i=e.range.maxX,s=e.range.minY+a,o=e.range.maxY;break}e.children[t]={centerOfMass:{x:0,y:0},mass:0,range:{minX:r,maxX:i,minY:s,maxY:o},size:.5*e.size,calcSize:2*e.calcSize,children:{data:null},maxWidth:0,level:e.level+1,childrenCount:0}}_debug(e,t){this.barnesHutTree!==void 0&&(e.lineWidth=1,this._drawBranch(this.barnesHutTree.root,e,t))}_drawBranch(e,t,r){r===void 0&&(r="#FF0000"),e.childrenCount===4&&(this._drawBranch(e.children.NW,t),this._drawBranch(e.children.NE,t),this._drawBranch(e.children.SE,t),this._drawBranch(e.children.SW,t)),t.strokeStyle=r,t.beginPath(),t.moveTo(e.range.minX,e.range.minY),t.lineTo(e.range.maxX,e.range.minY),t.stroke(),t.beginPath(),t.moveTo(e.range.maxX,e.range.minY),t.lineTo(e.range.maxX,e.range.maxY),t.stroke(),t.beginPath(),t.moveTo(e.range.maxX,e.range.maxY),t.lineTo(e.range.minX,e.range.maxY),t.stroke(),t.beginPath(),t.moveTo(e.range.minX,e.range.maxY),t.lineTo(e.range.minX,e.range.minY),t.stroke()}}class O6{constructor(e,t,r){this._rng=qo("REPULSION SOLVER"),this.body=e,this.physicsBody=t,this.setOptions(r)}setOptions(e){this.options=e}solve(){let e,t,r,i,s,o,a,u;const l=this.body.nodes,d=this.physicsBody.physicsNodeIndices,c=this.physicsBody.forces,h=this.options.nodeDistance,f=-2/3/h,v=4/3;for(let p=0;p<d.length-1;p++){a=l[d[p]];for(let m=p+1;m<d.length;m++)u=l[d[m]],e=u.x-a.x,t=u.y-a.y,r=Math.sqrt(e*e+t*t),r===0&&(r=.1*this._rng(),e=r),r<2*h&&(r<.5*h?o=1:o=f*r+v,o=o/r,i=e*o,s=t*o,c[a.id].x-=i,c[a.id].y-=s,c[u.id].x+=i,c[u.id].y+=s)}}}class I6{constructor(e,t,r){this.body=e,this.physicsBody=t,this.setOptions(r)}setOptions(e){this.options=e,this.overlapAvoidanceFactor=Math.max(0,Math.min(1,this.options.avoidOverlap||0))}solve(){const e=this.body.nodes,t=this.physicsBody.physicsNodeIndices,r=this.physicsBody.forces,i=this.options.nodeDistance;for(let s=0;s<t.length-1;s++){const o=e[t[s]];for(let a=s+1;a<t.length;a++){const u=e[t[a]];if(o.level===u.level){const l=i+this.overlapAvoidanceFactor*((o.shape.radius||0)/2+(u.shape.radius||0)/2),d=u.x-o.x,c=u.y-o.y,h=Math.sqrt(d*d+c*c),f=.05;let v;h<l?v=-Math.pow(f*h,2)+Math.pow(f*l,2):v=0,h!==0&&(v=v/h);const p=d*v,m=c*v;r[o.id].x-=p,r[o.id].y-=m,r[u.id].x+=p,r[u.id].y+=m}}}}}class yy{constructor(e,t,r){this.body=e,this.physicsBody=t,this.setOptions(r)}setOptions(e){this.options=e}solve(){let e,t;const r=this.physicsBody.physicsEdgeIndices,i=this.body.edges;let s,o,a;for(let u=0;u<r.length;u++)t=i[r[u]],t.connected===!0&&t.toId!==t.fromId&&this.body.nodes[t.toId]!==void 0&&this.body.nodes[t.fromId]!==void 0&&(t.edgeType.via!==void 0?(e=t.options.length===void 0?this.options.springLength:t.options.length,s=t.to,o=t.edgeType.via,a=t.from,this._calculateSpringForce(s,o,.5*e),this._calculateSpringForce(o,a,.5*e)):(e=t.options.length===void 0?this.options.springLength*1.5:t.options.length,this._calculateSpringForce(t.from,t.to,e)))}_calculateSpringForce(e,t,r){const i=e.x-t.x,s=e.y-t.y,o=Math.max(Math.sqrt(i*i+s*s),.01),a=this.options.springConstant*(r-o)/o,u=i*a,l=s*a;this.physicsBody.forces[e.id]!==void 0&&(this.physicsBody.forces[e.id].x+=u,this.physicsBody.forces[e.id].y+=l),this.physicsBody.forces[t.id]!==void 0&&(this.physicsBody.forces[t.id].x-=u,this.physicsBody.forces[t.id].y-=l)}}class $6{constructor(e,t,r){this.body=e,this.physicsBody=t,this.setOptions(r)}setOptions(e){this.options=e}solve(){let e,t,r,i,s,o,a,u;const l=this.body.edges,d=.5,c=this.physicsBody.physicsEdgeIndices,h=this.physicsBody.physicsNodeIndices,f=this.physicsBody.forces;for(let b=0;b<h.length;b++){const w=h[b];f[w].springFx=0,f[w].springFy=0}for(let b=0;b<c.length;b++)t=l[c[b]],t.connected===!0&&(e=t.options.length===void 0?this.options.springLength:t.options.length,r=t.from.x-t.to.x,i=t.from.y-t.to.y,u=Math.sqrt(r*r+i*i),u=u===0?.01:u,a=this.options.springConstant*(e-u)/u,s=r*a,o=i*a,t.to.level!=t.from.level?(f[t.toId]!==void 0&&(f[t.toId].springFx-=s,f[t.toId].springFy-=o),f[t.fromId]!==void 0&&(f[t.fromId].springFx+=s,f[t.fromId].springFy+=o)):(f[t.toId]!==void 0&&(f[t.toId].x-=d*s,f[t.toId].y-=d*o),f[t.fromId]!==void 0&&(f[t.fromId].x+=d*s,f[t.fromId].y+=d*o)));a=1;let v,p;for(let b=0;b<h.length;b++){const w=h[b];v=Math.min(a,Math.max(-a,f[w].springFx)),p=Math.min(a,Math.max(-a,f[w].springFy)),f[w].x+=v,f[w].y+=p}let m=0,y=0;for(let b=0;b<h.length;b++){const w=h[b];m+=f[w].x,y+=f[w].y}const g=m/h.length,E=y/h.length;for(let b=0;b<h.length;b++){const w=h[b];f[w].x-=g,f[w].y-=E}}}class Bs{constructor(e,t,r){this.body=e,this.physicsBody=t,this.setOptions(r)}setOptions(e){this.options=e}solve(){let e,t,r,i;const s=this.body.nodes,o=this.physicsBody.physicsNodeIndices,a=this.physicsBody.forces;for(let u=0;u<o.length;u++){const l=o[u];i=s[l],e=-i.x,t=-i.y,r=Math.sqrt(e*e+t*t),this._calculateForces(r,e,t,a,i)}}_calculateForces(e,t,r,i,s){const o=e===0?0:this.options.centralGravity/e;i[s.id].x=t*o,i[s.id].y=r*o}}class T6 extends Gk{constructor(e,t,r){super(e,t,r),this._rng=qo("FORCE ATLAS 2 BASED REPULSION SOLVER")}_calculateForces(e,t,r,i,s){e===0&&(e=.1*this._rng(),t=e),this.overlapAvoidanceFactor<1&&i.shape.radius&&(e=Math.max(.1+this.overlapAvoidanceFactor*i.shape.radius,e-i.shape.radius));const o=i.edges.length+1,a=this.options.gravitationalConstant*s.mass*i.options.mass*o/Math.pow(e,2),u=t*a,l=r*a;this.physicsBody.forces[i.id].x+=u,this.physicsBody.forces[i.id].y+=l}}class P6 extends Bs{constructor(e,t,r){super(e,t,r)}_calculateForces(e,t,r,i,s){if(e>0){const o=s.edges.length+1,a=this.options.centralGravity*o*s.options.mass;i[s.id].x=t*a,i[s.id].y=r*a}}}class R6{constructor(e){this.body=e,this.physicsBody={physicsNodeIndices:[],physicsEdgeIndices:[],forces:{},velocities:{}},this.physicsEnabled=!0,this.simulationInterval=1e3/60,this.requiresTimeout=!0,this.previousStates={},this.referenceState={},this.freezeCache={},this.renderTimer=void 0,this.adaptiveTimestep=!1,this.adaptiveTimestepEnabled=!1,this.adaptiveCounter=0,this.adaptiveInterval=3,this.stabilized=!1,this.startedStabilization=!1,this.stabilizationIterations=0,this.ready=!1,this.options={},this.defaultOptions={enabled:!0,barnesHut:{theta:.5,gravitationalConstant:-2e3,centralGravity:.3,springLength:95,springConstant:.04,damping:.09,avoidOverlap:0},forceAtlas2Based:{theta:.5,gravitationalConstant:-50,centralGravity:.01,springConstant:.08,springLength:100,damping:.4,avoidOverlap:0},repulsion:{centralGravity:.2,springLength:200,springConstant:.05,nodeDistance:100,damping:.09,avoidOverlap:0},hierarchicalRepulsion:{centralGravity:0,springLength:100,springConstant:.01,nodeDistance:120,damping:.09},maxVelocity:50,minVelocity:.75,solver:"barnesHut",stabilization:{enabled:!0,iterations:1e3,updateInterval:50,onlyDynamicEdges:!1,fit:!0},timestep:.5,adaptiveTimestep:!0,wind:{x:0,y:0}},Pe(this.options,this.defaultOptions),this.timestep=.5,this.layoutFailed=!1,this.bindEventListeners()}bindEventListeners(){this.body.emitter.on("initPhysics",()=>{this.initPhysics()}),this.body.emitter.on("_layoutFailed",()=>{this.layoutFailed=!0}),this.body.emitter.on("resetPhysics",()=>{this.stopSimulation(),this.ready=!1}),this.body.emitter.on("disablePhysics",()=>{this.physicsEnabled=!1,this.stopSimulation()}),this.body.emitter.on("restorePhysics",()=>{this.setOptions(this.options),this.ready===!0&&this.startSimulation()}),this.body.emitter.on("startSimulation",()=>{this.ready===!0&&this.startSimulation()}),this.body.emitter.on("stopSimulation",()=>{this.stopSimulation()}),this.body.emitter.on("destroy",()=>{this.stopSimulation(!1),this.body.emitter.off()}),this.body.emitter.on("_dataChanged",()=>{this.updatePhysicsData()})}setOptions(e){if(e!==void 0)if(e===!1)this.options.enabled=!1,this.physicsEnabled=!1,this.stopSimulation();else if(e===!0)this.options.enabled=!0,this.physicsEnabled=!0,this.startSimulation();else{this.physicsEnabled=!0,Ys(["stabilization"],this.options,e),ct(this.options,e,"stabilization"),e.enabled===void 0&&(this.options.enabled=!0),this.options.enabled===!1&&(this.physicsEnabled=!1,this.stopSimulation());const t=this.options.wind;t&&((typeof t.x!="number"||$m(t.x))&&(t.x=0),(typeof t.y!="number"||$m(t.y))&&(t.y=0)),this.timestep=this.options.timestep}this.init()}init(){let e;this.options.solver==="forceAtlas2Based"?(e=this.options.forceAtlas2Based,this.nodesSolver=new T6(this.body,this.physicsBody,e),this.edgesSolver=new yy(this.body,this.physicsBody,e),this.gravitySolver=new P6(this.body,this.physicsBody,e)):this.options.solver==="repulsion"?(e=this.options.repulsion,this.nodesSolver=new O6(this.body,this.physicsBody,e),this.edgesSolver=new yy(this.body,this.physicsBody,e),this.gravitySolver=new Bs(this.body,this.physicsBody,e)):this.options.solver==="hierarchicalRepulsion"?(e=this.options.hierarchicalRepulsion,this.nodesSolver=new I6(this.body,this.physicsBody,e),this.edgesSolver=new $6(this.body,this.physicsBody,e),this.gravitySolver=new Bs(this.body,this.physicsBody,e)):(e=this.options.barnesHut,this.nodesSolver=new Gk(this.body,this.physicsBody,e),this.edgesSolver=new yy(this.body,this.physicsBody,e),this.gravitySolver=new Bs(this.body,this.physicsBody,e)),this.modelOptions=e}initPhysics(){this.physicsEnabled===!0&&this.options.enabled===!0?this.options.stabilization.enabled===!0?this.stabilize():(this.stabilized=!1,this.ready=!0,this.body.emitter.emit("fit",{},this.layoutFailed),this.startSimulation()):(this.ready=!0,this.body.emitter.emit("fit"))}startSimulation(){if(this.physicsEnabled===!0&&this.options.enabled===!0){if(this.stabilized=!1,this.adaptiveTimestep=!1,this.body.emitter.emit("_resizeNodes"),this.viewFunction===void 0){var e;this.viewFunction=D(e=this.simulationStep).call(e,this),this.body.emitter.on("initRedraw",this.viewFunction),this.body.emitter.emit("_startRendering")}}else this.body.emitter.emit("_redraw")}stopSimulation(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.stabilized=!0,e===!0&&this._emitStabilized(),this.viewFunction!==void 0&&(this.body.emitter.off("initRedraw",this.viewFunction),this.viewFunction=void 0,e===!0&&this.body.emitter.emit("_stopRendering"))}simulationStep(){const e=Us();this.physicsTick(),(Us()-e<.4*this.simulationInterval||this.runDoubleSpeed===!0)&&this.stabilized===!1&&(this.physicsTick(),this.runDoubleSpeed=!0),this.stabilized===!0&&this.stopSimulation()}_emitStabilized(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.stabilizationIterations;(this.stabilizationIterations>1||this.startedStabilization===!0)&&Gt(()=>{this.body.emitter.emit("stabilized",{iterations:e}),this.startedStabilization=!1,this.stabilizationIterations=0},0)}physicsStep(){this.gravitySolver.solve(),this.nodesSolver.solve(),this.edgesSolver.solve(),this.moveNodes()}adjustTimeStep(){this._evaluateStepQuality()===!0?this.timestep=1.2*this.timestep:this.timestep/1.2<this.options.timestep?this.timestep=this.options.timestep:(this.adaptiveCounter=-1,this.timestep=Math.max(this.options.timestep,this.timestep/1.2))}physicsTick(){this._startStabilizing(),this.stabilized!==!0&&(this.adaptiveTimestep===!0&&this.adaptiveTimestepEnabled===!0?(this.adaptiveCounter%this.adaptiveInterval===0?(this.timestep=2*this.timestep,this.physicsStep(),this.revert(),this.timestep=.5*this.timestep,this.physicsStep(),this.physicsStep(),this.adjustTimeStep()):this.physicsStep(),this.adaptiveCounter+=1):(this.timestep=this.options.timestep,this.physicsStep()),this.stabilized===!0&&this.revert(),this.stabilizationIterations++)}updatePhysicsData(){this.physicsBody.forces={},this.physicsBody.physicsNodeIndices=[],this.physicsBody.physicsEdgeIndices=[];const e=this.body.nodes,t=this.body.edges;for(const r in e)Object.prototype.hasOwnProperty.call(e,r)&&e[r].options.physics===!0&&this.physicsBody.physicsNodeIndices.push(e[r].id);for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&t[r].options.physics===!0&&this.physicsBody.physicsEdgeIndices.push(t[r].id);for(let r=0;r<this.physicsBody.physicsNodeIndices.length;r++){const i=this.physicsBody.physicsNodeIndices[r];this.physicsBody.forces[i]={x:0,y:0},this.physicsBody.velocities[i]===void 0&&(this.physicsBody.velocities[i]={x:0,y:0})}for(const r in this.physicsBody.velocities)e[r]===void 0&&delete this.physicsBody.velocities[r]}revert(){const e=Se(this.previousStates),t=this.body.nodes,r=this.physicsBody.velocities;this.referenceState={};for(let i=0;i<e.length;i++){const s=e[i];t[s]!==void 0?t[s].options.physics===!0&&(this.referenceState[s]={positions:{x:t[s].x,y:t[s].y}},r[s].x=this.previousStates[s].vx,r[s].y=this.previousStates[s].vy,t[s].x=this.previousStates[s].x,t[s].y=this.previousStates[s].y):delete this.previousStates[s]}}_evaluateStepQuality(){let e,t,r;const i=this.body.nodes,s=this.referenceState,o=.3;for(const a in this.referenceState)if(Object.prototype.hasOwnProperty.call(this.referenceState,a)&&i[a]!==void 0&&(e=i[a].x-s[a].positions.x,t=i[a].y-s[a].positions.y,r=Math.sqrt(Math.pow(e,2)+Math.pow(t,2)),r>o))return!1;return!0}moveNodes(){const e=this.physicsBody.physicsNodeIndices;let t=0,r=0;const i=5;for(let s=0;s<e.length;s++){const o=e[s],a=this._performStep(o);t=Math.max(t,a),r+=a}this.adaptiveTimestepEnabled=r/e.length<i,this.stabilized=t<this.options.minVelocity}calculateComponentVelocity(e,t,r){const i=this.modelOptions.damping*e,s=(t-i)/r;e+=s*this.timestep;const o=this.options.maxVelocity||1e9;return Math.abs(e)>o&&(e=e>0?o:-o),e}_performStep(e){const t=this.body.nodes[e],r=this.physicsBody.forces[e];this.options.wind&&(r.x+=this.options.wind.x,r.y+=this.options.wind.y);const i=this.physicsBody.velocities[e];return this.previousStates[e]={x:t.x,y:t.y,vx:i.x,vy:i.y},t.options.fixed.x===!1?(i.x=this.calculateComponentVelocity(i.x,r.x,t.options.mass),t.x+=i.x*this.timestep):(r.x=0,i.x=0),t.options.fixed.y===!1?(i.y=this.calculateComponentVelocity(i.y,r.y,t.options.mass),t.y+=i.y*this.timestep):(r.y=0,i.y=0),Math.sqrt(Math.pow(i.x,2)+Math.pow(i.y,2))}_freezeNodes(){const e=this.body.nodes;for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t)&&e[t].x&&e[t].y){const r=e[t].options.fixed;this.freezeCache[t]={x:r.x,y:r.y},r.x=!0,r.y=!0}}_restoreFrozenNodes(){const e=this.body.nodes;for(const t in e)Object.prototype.hasOwnProperty.call(e,t)&&this.freezeCache[t]!==void 0&&(e[t].options.fixed.x=this.freezeCache[t].x,e[t].options.fixed.y=this.freezeCache[t].y);this.freezeCache={}}stabilize(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.options.stabilization.iterations;if(typeof e!="number"&&(e=this.options.stabilization.iterations,console.error("The stabilize method needs a numeric amount of iterations. Switching to default: ",e)),this.physicsBody.physicsNodeIndices.length===0){this.ready=!0;return}this.adaptiveTimestep=this.options.adaptiveTimestep,this.body.emitter.emit("_resizeNodes"),this.stopSimulation(),this.stabilized=!1,this.body.emitter.emit("_blockRedraw"),this.targetIterations=e,this.options.stabilization.onlyDynamicEdges===!0&&this._freezeNodes(),this.stabilizationIterations=0,Gt(()=>this._stabilizationBatch(),0)}_startStabilizing(){return this.startedStabilization===!0?!1:(this.body.emitter.emit("startStabilizing"),this.startedStabilization=!0,!0)}_stabilizationBatch(){const e=()=>this.stabilized===!1&&this.stabilizationIterations<this.targetIterations,t=()=>{this.body.emitter.emit("stabilizationProgress",{iterations:this.stabilizationIterations,total:this.targetIterations})};this._startStabilizing()&&t();let r=0;for(;e()&&r<this.options.stabilization.updateInterval;)this.physicsTick(),r++;if(t(),e()){var i;Gt(D(i=this._stabilizationBatch).call(i,this),0)}else this._finalizeStabilization()}_finalizeStabilization(){this.body.emitter.emit("_allowRedraw"),this.options.stabilization.fit===!0&&this.body.emitter.emit("fit"),this.options.stabilization.onlyDynamicEdges===!0&&this._restoreFrozenNodes(),this.body.emitter.emit("stabilizationIterationsDone"),this.body.emitter.emit("_requestRedraw"),this.stabilized===!0?this._emitStabilized():this.startSimulation(),this.ready=!0}_drawForces(e){for(let t=0;t<this.physicsBody.physicsNodeIndices.length;t++){const r=this.physicsBody.physicsNodeIndices[t],i=this.body.nodes[r],s=this.physicsBody.forces[r],o=20,a=.03,u=Math.sqrt(Math.pow(s.x,2)+Math.pow(s.x,2)),l=Math.min(Math.max(5,u),15),d=3*l,c=Sm((180-Math.min(1,Math.max(0,a*u))*180)/360,1,1),h={x:i.x+o*s.x,y:i.y+o*s.y};e.lineWidth=l,e.strokeStyle=c,e.beginPath(),e.moveTo(i.x,i.y),e.lineTo(h.x,h.y),e.stroke();const f=Math.atan2(s.y,s.x);e.fillStyle=c,Uk.draw(e,{type:"arrow",point:h,angle:f,length:d}),bs(e).call(e)}}}const He=[];for(let n=0;n<256;++n)He.push((n+256).toString(16).slice(1));function q6(n,e=0){return(He[n[e+0]]+He[n[e+1]]+He[n[e+2]]+He[n[e+3]]+"-"+He[n[e+4]]+He[n[e+5]]+"-"+He[n[e+6]]+He[n[e+7]]+"-"+He[n[e+8]]+He[n[e+9]]+"-"+He[n[e+10]]+He[n[e+11]]+He[n[e+12]]+He[n[e+13]]+He[n[e+14]]+He[n[e+15]]).toLowerCase()}let my;const C6=new Uint8Array(16);function x6(){if(!my){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");my=crypto.getRandomValues.bind(crypto)}return my(C6)}const D6=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto);var AM={randomUUID:D6};function M6(n,e,t){var i;n=n||{};const r=n.random??((i=n.rng)==null?void 0:i.call(n))??x6();if(r.length<16)throw new Error("Random bytes length must be >= 16");return r[6]=r[6]&15|64,r[8]=r[8]&63|128,q6(r)}function xn(n,e,t){return AM.randomUUID&&!n?AM.randomUUID():M6(n)}class Ze{constructor(){}static getRange(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],r=1e9,i=-1e9,s=1e9,o=-1e9,a;if(t.length>0)for(let u=0;u<t.length;u++)a=e[t[u]],s>a.shape.boundingBox.left&&(s=a.shape.boundingBox.left),o<a.shape.boundingBox.right&&(o=a.shape.boundingBox.right),r>a.shape.boundingBox.top&&(r=a.shape.boundingBox.top),i<a.shape.boundingBox.bottom&&(i=a.shape.boundingBox.bottom);return s===1e9&&o===-1e9&&r===1e9&&i===-1e9&&(r=0,i=0,s=0,o=0),{minX:s,maxX:o,minY:r,maxY:i}}static getRangeCore(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],r=1e9,i=-1e9,s=1e9,o=-1e9,a;if(t.length>0)for(let u=0;u<t.length;u++)a=e[t[u]],s>a.x&&(s=a.x),o<a.x&&(o=a.x),r>a.y&&(r=a.y),i<a.y&&(i=a.y);return s===1e9&&o===-1e9&&r===1e9&&i===-1e9&&(r=0,i=0,s=0,o=0),{minX:s,maxX:o,minY:r,maxY:i}}static findCenter(e){return{x:.5*(e.maxX+e.minX),y:.5*(e.maxY+e.minY)}}static cloneOptions(e,t){const r={};return t===void 0||t==="node"?(fe(r,e.options,!0),r.x=e.x,r.y=e.y,r.amountOfConnections=e.edges.length):fe(r,e.options,!0),r}}class A6 extends ge{constructor(e,t,r,i,s,o){super(e,t,r,i,s,o),this.isCluster=!0,this.containedNodes={},this.containedEdges={}}_openChildCluster(e){const t=this.body.nodes[e];if(this.containedNodes[e]===void 0)throw new Error("node with id: "+e+" not in current cluster");if(!t.isCluster)throw new Error("node with id: "+e+" is not a cluster");delete this.containedNodes[e],J(t.edges,r=>{delete this.containedEdges[r.id]}),J(t.containedNodes,(r,i)=>{this.containedNodes[i]=r}),t.containedNodes={},J(t.containedEdges,(r,i)=>{this.containedEdges[i]=r}),t.containedEdges={},J(t.edges,r=>{J(this.edges,i=>{var s,o;const a=se(s=i.clusteringEdgeReplacingIds).call(s,r.id);a!==-1&&(J(r.clusteringEdgeReplacingIds,u=>{i.clusteringEdgeReplacingIds.push(u),this.body.edges[u].edgeReplacedById=i.id}),Vt(o=i.clusteringEdgeReplacingIds).call(o,a,1))})}),t.edges=[]}}class F6{constructor(e){this.body=e,this.clusteredNodes={},this.clusteredEdges={},this.options={},this.defaultOptions={},Pe(this.options,this.defaultOptions),this.body.emitter.on("_resetData",()=>{this.clusteredNodes={},this.clusteredEdges={}})}clusterByHubsize(e,t){e===void 0?e=this._getHubSize():typeof e=="object"&&(t=this._checkOptions(e),e=this._getHubSize());const r=[];for(let i=0;i<this.body.nodeIndices.length;i++){const s=this.body.nodes[this.body.nodeIndices[i]];s.edges.length>=e&&r.push(s.id)}for(let i=0;i<r.length;i++)this.clusterByConnection(r[i],t,!0);this.body.emitter.emit("_dataChanged")}cluster(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(e.joinCondition===void 0)throw new Error("Cannot call clusterByNodeData without a joinCondition function in the options.");e=this._checkOptions(e);const r={},i={};J(this.body.nodes,(s,o)=>{s.options&&e.joinCondition(s.options)===!0&&(r[o]=s,J(s.edges,a=>{this.clusteredEdges[a.id]===void 0&&(i[a.id]=a)}))}),this._cluster(r,i,e,t)}clusterByEdgeCount(e,t){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;t=this._checkOptions(t);const i=[],s={};let o,a,u;for(let l=0;l<this.body.nodeIndices.length;l++){const d={},c={},h=this.body.nodeIndices[l],f=this.body.nodes[h];if(s[h]===void 0){u=0,a=[];for(let v=0;v<f.edges.length;v++)o=f.edges[v],this.clusteredEdges[o.id]===void 0&&(o.toId!==o.fromId&&u++,a.push(o));if(u===e){const v=function(m){if(t.joinCondition===void 0||t.joinCondition===null)return!0;const y=Ze.cloneOptions(m);return t.joinCondition(y)};let p=!0;for(let m=0;m<a.length;m++){o=a[m];const y=this._getConnectedId(o,h);if(v(f))c[o.id]=o,d[h]=f,d[y]=this.body.nodes[y],s[h]=!0;else{p=!1;break}}if(Se(d).length>0&&Se(c).length>0&&p===!0){const y=function(){for(let g=0;g<i.length;++g)for(const E in d)if(i[g].nodes[E]!==void 0)return i[g]}();if(y!==void 0){for(const g in d)y.nodes[g]===void 0&&(y.nodes[g]=d[g]);for(const g in c)y.edges[g]===void 0&&(y.edges[g]=c[g])}else i.push({nodes:d,edges:c})}}}}for(let l=0;l<i.length;l++)this._cluster(i[l].nodes,i[l].edges,t,!1);r===!0&&this.body.emitter.emit("_dataChanged")}clusterOutliers(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;this.clusterByEdgeCount(1,e,t)}clusterBridges(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;this.clusterByEdgeCount(2,e,t)}clusterByConnection(e,t){var r;let i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(e===void 0)throw new Error("No nodeId supplied to clusterByConnection!");if(this.body.nodes[e]===void 0)throw new Error("The nodeId given to clusterByConnection does not exist!");const s=this.body.nodes[e];t=this._checkOptions(t,s),t.clusterNodeProperties.x===void 0&&(t.clusterNodeProperties.x=s.x),t.clusterNodeProperties.y===void 0&&(t.clusterNodeProperties.y=s.y),t.clusterNodeProperties.fixed===void 0&&(t.clusterNodeProperties.fixed={},t.clusterNodeProperties.fixed.x=s.options.fixed.x,t.clusterNodeProperties.fixed.y=s.options.fixed.y);const o={},a={},u=s.id,l=Ze.cloneOptions(s);o[u]=s;for(let c=0;c<s.edges.length;c++){const h=s.edges[c];if(this.clusteredEdges[h.id]===void 0){const f=this._getConnectedId(h,u);if(this.clusteredNodes[f]===void 0)if(f!==u)if(t.joinCondition===void 0)a[h.id]=h,o[f]=this.body.nodes[f];else{const v=Ze.cloneOptions(this.body.nodes[f]);t.joinCondition(l,v)===!0&&(a[h.id]=h,o[f]=this.body.nodes[f])}else a[h.id]=h}}const d=Di(r=Se(o)).call(r,function(c){return o[c].id});for(const c in o){if(!Object.prototype.hasOwnProperty.call(o,c))continue;const h=o[c];for(let f=0;f<h.edges.length;f++){const v=h.edges[f];se(d).call(d,this._getConnectedId(v,h.id))>-1&&(a[v.id]=v)}}this._cluster(o,a,t,i)}_createClusterEdges(e,t,r,i){let s,o,a,u,l,d;const c=Se(e),h=[];for(let p=0;p<c.length;p++){o=c[p],a=e[o];for(let m=0;m<a.edges.length;m++)s=a.edges[m],this.clusteredEdges[s.id]===void 0&&(s.toId==s.fromId?t[s.id]=s:s.toId==o?(u=r.id,l=s.fromId,d=l):(u=s.toId,l=r.id,d=u),e[d]===void 0&&h.push({edge:s,fromId:l,toId:u}))}const f=[],v=function(p){for(let m=0;m<f.length;m++){const y=f[m],g=p.fromId===y.fromId&&p.toId===y.toId,E=p.fromId===y.toId&&p.toId===y.fromId;if(g||E)return y}return null};for(let p=0;p<h.length;p++){const m=h[p],y=m.edge;let g=v(m);g===null?(g=this._createClusteredEdge(m.fromId,m.toId,y,i),f.push(g)):g.clusteringEdgeReplacingIds.push(y.id),this.body.edges[y.id].edgeReplacedById=g.id,this._backupEdgeOptions(y),y.setOptions({physics:!1})}}_checkOptions(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return e.clusterEdgeProperties===void 0&&(e.clusterEdgeProperties={}),e.clusterNodeProperties===void 0&&(e.clusterNodeProperties={}),e}_cluster(e,t,r){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0;const s=[];for(const d in e)Object.prototype.hasOwnProperty.call(e,d)&&this.clusteredNodes[d]!==void 0&&s.push(d);for(let d=0;d<s.length;++d)delete e[s[d]];if(Se(e).length==0||Se(e).length==1&&r.clusterNodeProperties.allowSingleNodeCluster!=!0)return;let o=fe({},r.clusterNodeProperties);if(r.processProperties!==void 0){const d=[];for(const h in e)if(Object.prototype.hasOwnProperty.call(e,h)){const f=Ze.cloneOptions(e[h]);d.push(f)}const c=[];for(const h in t)if(Object.prototype.hasOwnProperty.call(t,h)&&h.substr(0,12)!=="clusterEdge:"){const f=Ze.cloneOptions(t[h],"edge");c.push(f)}if(o=r.processProperties(o,d,c),!o)throw new Error("The processProperties function does not return properties!")}o.id===void 0&&(o.id="cluster:"+xn());const a=o.id;o.label===void 0&&(o.label="cluster");let u;o.x===void 0&&(u=this._getClusterPosition(e),o.x=u.x),o.y===void 0&&(u===void 0&&(u=this._getClusterPosition(e)),o.y=u.y),o.id=a;const l=this.body.functions.createNode(o,A6);l.containedNodes=e,l.containedEdges=t,l.clusterEdgeProperties=r.clusterEdgeProperties,this.body.nodes[o.id]=l,this._clusterEdges(e,t,o,r.clusterEdgeProperties),o.id=void 0,i===!0&&this.body.emitter.emit("_dataChanged")}_backupEdgeOptions(e){this.clusteredEdges[e.id]===void 0&&(this.clusteredEdges[e.id]={physics:e.options.physics})}_restoreEdge(e){const t=this.clusteredEdges[e.id];t!==void 0&&(e.setOptions({physics:t.physics}),delete this.clusteredEdges[e.id])}isCluster(e){return this.body.nodes[e]!==void 0?this.body.nodes[e].isCluster===!0:(console.error("Node does not exist."),!1)}_getClusterPosition(e){const t=Se(e);let r=e[t[0]].x,i=e[t[0]].x,s=e[t[0]].y,o=e[t[0]].y,a;for(let u=1;u<t.length;u++)a=e[t[u]],r=a.x<r?a.x:r,i=a.x>i?a.x:i,s=a.y<s?a.y:s,o=a.y>o?a.y:o;return{x:.5*(r+i),y:.5*(s+o)}}openCluster(e,t){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(e===void 0)throw new Error("No clusterNodeId supplied to openCluster.");const i=this.body.nodes[e];if(i===void 0)throw new Error("The clusterNodeId supplied to openCluster does not exist.");if(i.isCluster!==!0||i.containedNodes===void 0||i.containedEdges===void 0)throw new Error("The node:"+e+" is not a valid cluster.");const s=this.findNode(e),o=se(s).call(s,e)-1;if(o>=0){const d=s[o];this.body.nodes[d]._openChildCluster(e),delete this.body.nodes[e],r===!0&&this.body.emitter.emit("_dataChanged");return}const a=i.containedNodes,u=i.containedEdges;if(t!==void 0&&t.releaseFunction!==void 0&&typeof t.releaseFunction=="function"){const d={},c={x:i.x,y:i.y};for(const f in a)if(Object.prototype.hasOwnProperty.call(a,f)){const v=this.body.nodes[f];d[f]={x:v.x,y:v.y}}const h=t.releaseFunction(c,d);for(const f in a)if(Object.prototype.hasOwnProperty.call(a,f)){const v=this.body.nodes[f];h[f]!==void 0&&(v.x=h[f].x===void 0?i.x:h[f].x,v.y=h[f].y===void 0?i.y:h[f].y)}}else J(a,function(d){d.options.fixed.x===!1&&(d.x=i.x),d.options.fixed.y===!1&&(d.y=i.y)});for(const d in a)if(Object.prototype.hasOwnProperty.call(a,d)){const c=this.body.nodes[d];c.vx=i.vx,c.vy=i.vy,c.setOptions({physics:!0}),delete this.clusteredNodes[d]}const l=[];for(let d=0;d<i.edges.length;d++)l.push(i.edges[d]);for(let d=0;d<l.length;d++){const c=l[d],h=this._getConnectedId(c,e),f=this.clusteredNodes[h];for(let v=0;v<c.clusteringEdgeReplacingIds.length;v++){const p=c.clusteringEdgeReplacingIds[v],m=this.body.edges[p];if(m!==void 0)if(f!==void 0){const y=this.body.nodes[f.clusterId];y.containedEdges[m.id]=m,delete u[m.id];let g=m.fromId,E=m.toId;m.toId==h?E=f.clusterId:g=f.clusterId,this._createClusteredEdge(g,E,m,y.clusterEdgeProperties,{hidden:!1,physics:!0})}else this._restoreEdge(m)}c.remove()}for(const d in u)Object.prototype.hasOwnProperty.call(u,d)&&this._restoreEdge(u[d]);delete this.body.nodes[e],r===!0&&this.body.emitter.emit("_dataChanged")}getNodesInCluster(e){const t=[];if(this.isCluster(e)===!0){const r=this.body.nodes[e].containedNodes;for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&t.push(this.body.nodes[i].id)}return t}findNode(e){const t=[];let i=0,s;for(;this.clusteredNodes[e]!==void 0&&i<100;){if(s=this.body.nodes[e],s===void 0)return[];t.push(s.id),e=this.clusteredNodes[e].clusterId,i++}return s=this.body.nodes[e],s===void 0?[]:(t.push(s.id),Br(t).call(t),t)}updateClusteredNode(e,t){if(e===void 0)throw new Error("No clusteredNodeId supplied to updateClusteredNode.");if(t===void 0)throw new Error("No newOptions supplied to updateClusteredNode.");if(this.body.nodes[e]===void 0)throw new Error("The clusteredNodeId supplied to updateClusteredNode does not exist.");this.body.nodes[e].setOptions(t),this.body.emitter.emit("_dataChanged")}updateEdge(e,t){if(e===void 0)throw new Error("No startEdgeId supplied to updateEdge.");if(t===void 0)throw new Error("No newOptions supplied to updateEdge.");if(this.body.edges[e]===void 0)throw new Error("The startEdgeId supplied to updateEdge does not exist.");const r=this.getClusteredEdges(e);for(let i=0;i<r.length;i++)this.body.edges[r[i]].setOptions(t);this.body.emitter.emit("_dataChanged")}getClusteredEdges(e){const t=[];let i=0;for(;e!==void 0&&this.body.edges[e]!==void 0&&i<100;)t.push(this.body.edges[e].id),e=this.body.edges[e].edgeReplacedById,i++;return Br(t).call(t),t}getBaseEdge(e){return this.getBaseEdges(e)[0]}getBaseEdges(e){const t=[e],r=[],i=[],s=100;let o=0;for(;t.length>0&&o<s;){const a=t.pop();if(a===void 0)continue;const u=this.body.edges[a];if(u===void 0)continue;o++;const l=u.clusteringEdgeReplacingIds;if(l===void 0)i.push(a);else for(let d=0;d<l.length;++d){const c=l[d];se(t).call(t,l)!==-1||se(r).call(r,l)!==-1||t.push(c)}r.push(a)}return i}_getConnectedId(e,t){return e.toId!=t?e.toId:(e.fromId!=t,e.fromId)}_getHubSize(){let e=0,t=0,r=0,i=0;for(let u=0;u<this.body.nodeIndices.length;u++){const l=this.body.nodes[this.body.nodeIndices[u]];l.edges.length>i&&(i=l.edges.length),e+=l.edges.length,t+=Math.pow(l.edges.length,2),r+=1}e=e/r,t=t/r;const s=t-Math.pow(e,2),o=Math.sqrt(s);let a=Math.floor(e+2*o);return a>i&&(a=i),a}_createClusteredEdge(e,t,r,i,s){const o=Ze.cloneOptions(r,"edge");fe(o,i),o.from=e,o.to=t,o.id="clusterEdge:"+xn(),s!==void 0&&fe(o,s);const a=this.body.functions.createEdge(o);return a.clusteringEdgeReplacingIds=[r.id],a.connect(),this.body.edges[a.id]=a,a}_clusterEdges(e,t,r,i){if(t instanceof hr){const s=t,o={};o[s.id]=s,t=o}if(e instanceof ge){const s=e,o={};o[s.id]=s,e=o}if(r==null)throw new Error("_clusterEdges: parameter clusterNode required");i===void 0&&(i=r.clusterEdgeProperties),this._createClusterEdges(e,t,r,i);for(const s in t)if(Object.prototype.hasOwnProperty.call(t,s)&&this.body.edges[s]!==void 0){const o=this.body.edges[s];this._backupEdgeOptions(o),o.setOptions({physics:!1})}for(const s in e)Object.prototype.hasOwnProperty.call(e,s)&&(this.clusteredNodes[s]={clusterId:r.id,node:this.body.nodes[s]},this.body.nodes[s].setOptions({physics:!1}))}_getClusterNodeForNode(e){if(e===void 0)return;const t=this.clusteredNodes[e];if(t===void 0)return;const r=t.clusterId;if(r!==void 0)return this.body.nodes[r]}_filter(e,t){const r=[];return J(e,i=>{t(i)&&r.push(i)}),r}_updateState(){let e;const t=[],r={},i=u=>{J(this.body.nodes,l=>{l.isCluster===!0&&u(l)})};for(e in this.clusteredNodes){if(!Object.prototype.hasOwnProperty.call(this.clusteredNodes,e))continue;this.body.nodes[e]===void 0&&t.push(e)}i(function(u){for(let l=0;l<t.length;l++)delete u.containedNodes[t[l]]});for(let u=0;u<t.length;u++)delete this.clusteredNodes[t[u]];J(this.clusteredEdges,u=>{const l=this.body.edges[u];(l===void 0||!l.endPointsValid())&&(r[u]=u)}),i(function(u){J(u.containedEdges,(l,d)=>{!l.endPointsValid()&&!r[d]&&(r[d]=d)})}),J(this.body.edges,(u,l)=>{let d=!0;const c=u.clusteringEdgeReplacingIds;if(c!==void 0){let h=0;J(c,f=>{const v=this.body.edges[f];v!==void 0&&v.endPointsValid()&&(h+=1)}),d=h>0}(!u.endPointsValid()||!d)&&(r[l]=l)}),i(u=>{J(r,l=>{delete u.containedEdges[l],J(u.edges,(d,c)=>{if(d.id===l){u.edges[c]=null;return}d.clusteringEdgeReplacingIds=this._filter(d.clusteringEdgeReplacingIds,function(h){return!r[h]})}),u.edges=this._filter(u.edges,function(d){return d!==null})})}),J(r,u=>{delete this.clusteredEdges[u]}),J(r,u=>{delete this.body.edges[u]});const s=Se(this.body.edges);J(s,u=>{const l=this.body.edges[u],d=this._isClusteredNode(l.fromId)||this._isClusteredNode(l.toId);if(d!==this._isClusteredEdge(l.id))if(d){const c=this._getClusterNodeForNode(l.fromId);c!==void 0&&this._clusterEdges(this.body.nodes[l.fromId],l,c);const h=this._getClusterNodeForNode(l.toId);h!==void 0&&this._clusterEdges(this.body.nodes[l.toId],l,h)}else delete this._clusterEdges[u],this._restoreEdge(l)});let o=!1,a=!0;for(;a;){const u=[];i(function(l){const d=Se(l.containedNodes).length,c=l.options.allowSingleNodeCluster===!0;(c&&d<1||!c&&d<2)&&u.push(l.id)});for(let l=0;l<u.length;++l)this.openCluster(u[l],{},!1);a=u.length>0,o=o||a}o&&this._updateState()}_isClusteredNode(e){return this.clusteredNodes[e]!==void 0}_isClusteredEdge(e){return this.clusteredEdges[e]!==void 0}}class N6{constructor(e,t){this.body=e,this.canvas=t,this.redrawRequested=!1,this.requestAnimationFrameRequestId=void 0,this.renderingActive=!1,this.renderRequests=0,this.allowRedraw=!0,this.dragging=!1,this.zooming=!1,this.options={},this.defaultOptions={hideEdgesOnDrag:!1,hideEdgesOnZoom:!1,hideNodesOnDrag:!1},Pe(this.options,this.defaultOptions),this.bindEventListeners()}bindEventListeners(){var e;this.body.emitter.on("dragStart",()=>{this.dragging=!0}),this.body.emitter.on("dragEnd",()=>{this.dragging=!1}),this.body.emitter.on("zoom",()=>{this.zooming=!0,window.clearTimeout(this.zoomTimeoutId),this.zoomTimeoutId=Gt(()=>{var t;this.zooming=!1,D(t=this._requestRedraw).call(t,this)()},250)}),this.body.emitter.on("_resizeNodes",()=>{this._resizeNodes()}),this.body.emitter.on("_redraw",()=>{this.renderingActive===!1&&this._redraw()}),this.body.emitter.on("_blockRedraw",()=>{this.allowRedraw=!1}),this.body.emitter.on("_allowRedraw",()=>{this.allowRedraw=!0,this.redrawRequested=!1}),this.body.emitter.on("_requestRedraw",D(e=this._requestRedraw).call(e,this)),this.body.emitter.on("_startRendering",()=>{this.renderRequests+=1,this.renderingActive=!0,this._startRendering()}),this.body.emitter.on("_stopRendering",()=>{this.renderRequests-=1,this.renderingActive=this.renderRequests>0,this.requestAnimationFrameRequestId=void 0}),this.body.emitter.on("destroy",()=>{this.renderRequests=0,this.allowRedraw=!1,this.renderingActive=!1,window.cancelAnimationFrame(this.requestAnimationFrameRequestId),this.body.emitter.off()})}setOptions(e){e!==void 0&&cn(["hideEdgesOnDrag","hideEdgesOnZoom","hideNodesOnDrag"],this.options,e)}_startRendering(){if(this.renderingActive===!0&&this.requestAnimationFrameRequestId===void 0){var e;this.requestAnimationFrameRequestId=window.requestAnimationFrame(D(e=this._renderStep).call(e,this),this.simulationInterval)}}_renderStep(){this.renderingActive===!0&&(this.requestAnimationFrameRequestId=void 0,this._startRendering(),this._redraw())}redraw(){this.body.emitter.emit("setSize"),this._redraw()}_requestRedraw(){this.redrawRequested!==!0&&this.renderingActive===!1&&this.allowRedraw===!0&&(this.redrawRequested=!0,window.requestAnimationFrame(()=>{this._redraw(!1)}))}_redraw(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;if(this.allowRedraw===!0){this.body.emitter.emit("initRedraw"),this.redrawRequested=!1;const t={drawExternalLabels:null};(this.canvas.frame.canvas.width===0||this.canvas.frame.canvas.height===0)&&this.canvas.setSize(),this.canvas.setTransform();const r=this.canvas.getContext(),i=this.canvas.frame.canvas.clientWidth,s=this.canvas.frame.canvas.clientHeight;if(r.clearRect(0,0,i,s),this.canvas.frame.clientWidth===0)return;if(r.save(),r.translate(this.body.view.translation.x,this.body.view.translation.y),r.scale(this.body.view.scale,this.body.view.scale),r.beginPath(),this.body.emitter.emit("beforeDrawing",r),r.closePath(),e===!1&&(this.dragging===!1||this.dragging===!0&&this.options.hideEdgesOnDrag===!1)&&(this.zooming===!1||this.zooming===!0&&this.options.hideEdgesOnZoom===!1)&&this._drawEdges(r),this.dragging===!1||this.dragging===!0&&this.options.hideNodesOnDrag===!1){const{drawExternalLabels:o}=this._drawNodes(r,e);t.drawExternalLabels=o}e===!1&&(this.dragging===!1||this.dragging===!0&&this.options.hideEdgesOnDrag===!1)&&(this.zooming===!1||this.zooming===!0&&this.options.hideEdgesOnZoom===!1)&&this._drawArrows(r),t.drawExternalLabels!=null&&t.drawExternalLabels(),e===!1&&this._drawSelectionBox(r),r.beginPath(),this.body.emitter.emit("afterDrawing",r),r.closePath(),r.restore(),e===!0&&r.clearRect(0,0,i,s)}}_resizeNodes(){this.canvas.setTransform();const e=this.canvas.getContext();e.save(),e.translate(this.body.view.translation.x,this.body.view.translation.y),e.scale(this.body.view.scale,this.body.view.scale);const t=this.body.nodes;let r;for(const i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r=t[i],r.resize(e),r.updateBoundingBox(e,r.selected));e.restore()}_drawNodes(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;const r=this.body.nodes,i=this.body.nodeIndices;let s;const o=[],a=[],u=20,l=this.canvas.DOMtoCanvas({x:-u,y:-u}),d=this.canvas.DOMtoCanvas({x:this.canvas.frame.canvas.clientWidth+u,y:this.canvas.frame.canvas.clientHeight+u}),c={top:l.y,left:l.x,bottom:d.y,right:d.x},h=[];for(let m=0;m<i.length;m++)if(s=r[i[m]],s.hover)a.push(i[m]);else if(s.isSelected())o.push(i[m]);else if(t===!0){const y=s.draw(e);y.drawExternalLabel!=null&&h.push(y.drawExternalLabel)}else if(s.isBoundingBoxOverlappingWith(c)===!0){const y=s.draw(e);y.drawExternalLabel!=null&&h.push(y.drawExternalLabel)}else s.updateBoundingBox(e,s.selected);let f;const v=o.length,p=a.length;for(f=0;f<v;f++){s=r[o[f]];const m=s.draw(e);m.drawExternalLabel!=null&&h.push(m.drawExternalLabel)}for(f=0;f<p;f++){s=r[a[f]];const m=s.draw(e);m.drawExternalLabel!=null&&h.push(m.drawExternalLabel)}return{drawExternalLabels:()=>{for(const m of h)m()}}}_drawEdges(e){const t=this.body.edges,r=this.body.edgeIndices;for(let i=0;i<r.length;i++){const s=t[r[i]];s.connected===!0&&s.draw(e)}}_drawArrows(e){const t=this.body.edges,r=this.body.edgeIndices;for(let i=0;i<r.length;i++){const s=t[r[i]];s.connected===!0&&s.drawArrows(e)}}_drawSelectionBox(e){if(this.body.selectionBox.show){e.beginPath();const t=this.body.selectionBox.position.end.x-this.body.selectionBox.position.start.x,r=this.body.selectionBox.position.end.y-this.body.selectionBox.position.start.y;e.rect(this.body.selectionBox.position.start.x,this.body.selectionBox.position.start.y,t,r),e.fillStyle="rgba(151, 194, 252, 0.2)",e.fillRect(this.body.selectionBox.position.start.x,this.body.selectionBox.position.start.y,t,r),e.strokeStyle="rgba(151, 194, 252, 1)",e.stroke()}else e.closePath()}}var by,FM;function k6(){if(FM)return by;FM=1,JN();var n=ae();return by=n.setInterval,by}var _y,NM;function B6(){return NM||(NM=1,_y=k6()),_y}var j6=B6(),L6=G(j6);function Js(n,e){e.inputHandler=function(t){t.isFirst&&e(t)},n.on("hammer.input",e.inputHandler)}function Kk(n,e){return e.inputHandler=function(t){t.isFinal&&e(t)},n.on("hammer.input",e.inputHandler)}class z6{constructor(e){this.body=e,this.pixelRatio=1,this.cameraState={},this.initialized=!1,this.canvasViewCenter={},this._cleanupCallbacks=[],this.options={},this.defaultOptions={autoResize:!0,height:"100%",width:"100%"},Pe(this.options,this.defaultOptions),this.bindEventListeners()}bindEventListeners(){var e;this.body.emitter.once("resize",t=>{t.width!==0&&(this.body.view.translation.x=t.width*.5),t.height!==0&&(this.body.view.translation.y=t.height*.5)}),this.body.emitter.on("setSize",D(e=this.setSize).call(e,this)),this.body.emitter.on("destroy",()=>{this.hammerFrame.destroy(),this.hammer.destroy(),this._cleanUp()})}setOptions(e){if(e!==void 0&&cn(["width","height","autoResize"],this.options,e),this._cleanUp(),this.options.autoResize===!0){var t;if(window.ResizeObserver){const i=new ResizeObserver(()=>{this.setSize()===!0&&this.body.emitter.emit("_requestRedraw")}),{frame:s}=this;i.observe(s),this._cleanupCallbacks.push(()=>{i.unobserve(s)})}else{const i=L6(()=>{this.setSize()===!0&&this.body.emitter.emit("_requestRedraw")},1e3);this._cleanupCallbacks.push(()=>{clearInterval(i)})}const r=D(t=this._onResize).call(t,this);window.addEventListener("resize",r),this._cleanupCallbacks.push(()=>{window.removeEventListener("resize",r)})}}_cleanUp(){var e,t,r;de(e=Br(t=Vt(r=this._cleanupCallbacks).call(r,0)).call(t)).call(e,i=>{try{i()}catch(s){console.error(s)}})}_onResize(){this.setSize(),this.body.emitter.emit("_redraw")}_getCameraState(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.pixelRatio;this.initialized===!0&&(this.cameraState.previousWidth=this.frame.canvas.width/e,this.cameraState.previousHeight=this.frame.canvas.height/e,this.cameraState.scale=this.body.view.scale,this.cameraState.position=this.DOMtoCanvas({x:.5*this.frame.canvas.width/e,y:.5*this.frame.canvas.height/e}))}_setCameraState(){if(this.cameraState.scale!==void 0&&this.frame.canvas.clientWidth!==0&&this.frame.canvas.clientHeight!==0&&this.pixelRatio!==0&&this.cameraState.previousWidth>0&&this.cameraState.previousHeight>0){const e=this.frame.canvas.width/this.pixelRatio/this.cameraState.previousWidth,t=this.frame.canvas.height/this.pixelRatio/this.cameraState.previousHeight;let r=this.cameraState.scale;e!=1&&t!=1?r=this.cameraState.scale*.5*(e+t):e!=1?r=this.cameraState.scale*e:t!=1&&(r=this.cameraState.scale*t),this.body.view.scale=r;const i=this.DOMtoCanvas({x:.5*this.frame.canvas.clientWidth,y:.5*this.frame.canvas.clientHeight}),s={x:i.x-this.cameraState.position.x,y:i.y-this.cameraState.position.y};this.body.view.translation.x+=s.x*this.body.view.scale,this.body.view.translation.y+=s.y*this.body.view.scale}}_prepareValue(e){if(typeof e=="number")return e+"px";if(typeof e=="string"){if(se(e).call(e,"%")!==-1||se(e).call(e,"px")!==-1)return e;if(se(e).call(e,"%")===-1)return e+"px"}throw new Error("Could not use the value supplied for width or height:"+e)}_create(){for(;this.body.container.hasChildNodes();)this.body.container.removeChild(this.body.container.firstChild);if(this.frame=document.createElement("div"),this.frame.className="vis-network",this.frame.style.position="relative",this.frame.style.overflow="hidden",this.frame.tabIndex=0,this.frame.canvas=document.createElement("canvas"),this.frame.canvas.style.position="relative",this.frame.appendChild(this.frame.canvas),this.frame.canvas.getContext)this._setPixelRatio(),this.setTransform();else{const e=document.createElement("DIV");e.style.color="red",e.style.fontWeight="bold",e.style.padding="10px",e.innerText="Error: your browser does not support HTML canvas",this.frame.canvas.appendChild(e)}this.body.container.appendChild(this.frame),this.body.view.scale=1,this.body.view.translation={x:.5*this.frame.canvas.clientWidth,y:.5*this.frame.canvas.clientHeight},this._bindHammer()}_bindHammer(){this.hammer!==void 0&&this.hammer.destroy(),this.drag={},this.pinch={},this.hammer=new $i(this.frame.canvas),this.hammer.get("pinch").set({enable:!0}),this.hammer.get("pan").set({threshold:5,direction:$i.DIRECTION_ALL}),Js(this.hammer,e=>{this.body.eventListeners.onTouch(e)}),this.hammer.on("tap",e=>{this.body.eventListeners.onTap(e)}),this.hammer.on("doubletap",e=>{this.body.eventListeners.onDoubleTap(e)}),this.hammer.on("press",e=>{this.body.eventListeners.onHold(e)}),this.hammer.on("panstart",e=>{this.body.eventListeners.onDragStart(e)}),this.hammer.on("panmove",e=>{this.body.eventListeners.onDrag(e)}),this.hammer.on("panend",e=>{this.body.eventListeners.onDragEnd(e)}),this.hammer.on("pinch",e=>{this.body.eventListeners.onPinch(e)}),this.frame.canvas.addEventListener("wheel",e=>{this.body.eventListeners.onMouseWheel(e)}),this.frame.canvas.addEventListener("mousemove",e=>{this.body.eventListeners.onMouseMove(e)}),this.frame.canvas.addEventListener("contextmenu",e=>{this.body.eventListeners.onContext(e)}),this.hammerFrame=new $i(this.frame),Kk(this.hammerFrame,e=>{this.body.eventListeners.onRelease(e)})}setSize(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.options.width,t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.options.height;e=this._prepareValue(e),t=this._prepareValue(t);let r=!1;const i=this.frame.canvas.width,s=this.frame.canvas.height,o=this.pixelRatio;if(this._setPixelRatio(),e!=this.options.width||t!=this.options.height||this.frame.style.width!=e||this.frame.style.height!=t)this._getCameraState(o),this.frame.style.width=e,this.frame.style.height=t,this.frame.canvas.style.width="100%",this.frame.canvas.style.height="100%",this.frame.canvas.width=Math.round(this.frame.canvas.clientWidth*this.pixelRatio),this.frame.canvas.height=Math.round(this.frame.canvas.clientHeight*this.pixelRatio),this.options.width=e,this.options.height=t,this.canvasViewCenter={x:.5*this.frame.clientWidth,y:.5*this.frame.clientHeight},r=!0;else{const a=Math.round(this.frame.canvas.clientWidth*this.pixelRatio),u=Math.round(this.frame.canvas.clientHeight*this.pixelRatio);(this.frame.canvas.width!==a||this.frame.canvas.height!==u)&&this._getCameraState(o),this.frame.canvas.width!==a&&(this.frame.canvas.width=a,r=!0),this.frame.canvas.height!==u&&(this.frame.canvas.height=u,r=!0)}return r===!0&&(this.body.emitter.emit("resize",{width:Math.round(this.frame.canvas.width/this.pixelRatio),height:Math.round(this.frame.canvas.height/this.pixelRatio),oldWidth:Math.round(i/this.pixelRatio),oldHeight:Math.round(s/this.pixelRatio)}),this._setCameraState()),this.initialized=!0,r}getContext(){return this.frame.canvas.getContext("2d")}_determinePixelRatio(){const e=this.getContext();if(e===void 0)throw new Error("Could not get canvax context");let t=1;typeof window<"u"&&(t=window.devicePixelRatio||1);const r=e.webkitBackingStorePixelRatio||e.mozBackingStorePixelRatio||e.msBackingStorePixelRatio||e.oBackingStorePixelRatio||e.backingStorePixelRatio||1;return t/r}_setPixelRatio(){this.pixelRatio=this._determinePixelRatio()}setTransform(){const e=this.getContext();if(e===void 0)throw new Error("Could not get canvax context");e.setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0)}_XconvertDOMtoCanvas(e){return(e-this.body.view.translation.x)/this.body.view.scale}_XconvertCanvasToDOM(e){return e*this.body.view.scale+this.body.view.translation.x}_YconvertDOMtoCanvas(e){return(e-this.body.view.translation.y)/this.body.view.scale}_YconvertCanvasToDOM(e){return e*this.body.view.scale+this.body.view.translation.y}canvasToDOM(e){return{x:this._XconvertCanvasToDOM(e.x),y:this._YconvertCanvasToDOM(e.y)}}DOMtoCanvas(e){return{x:this._XconvertDOMtoCanvas(e.x),y:this._YconvertDOMtoCanvas(e.y)}}}function W6(n,e){const t=Pe({nodes:e,minZoomLevel:Number.MIN_VALUE,maxZoomLevel:1},n??{});if(!Oe(t.nodes))throw new TypeError("Nodes has to be an array of ids.");if(t.nodes.length===0&&(t.nodes=e),!(typeof t.minZoomLevel=="number"&&t.minZoomLevel>0))throw new TypeError("Min zoom level has to be a number higher than zero.");if(!(typeof t.maxZoomLevel=="number"&&t.minZoomLevel<=t.maxZoomLevel))throw new TypeError("Max zoom level has to be a number higher than min zoom level.");return t}class H6{constructor(e,t){var r,i;this.body=e,this.canvas=t,this.animationSpeed=1/this.renderRefreshRate,this.animationEasingFunction="easeInOutQuint",this.easingTime=0,this.sourceScale=0,this.targetScale=0,this.sourceTranslation=0,this.targetTranslation=0,this.lockedOnNodeId=void 0,this.lockedOnNodeOffset=void 0,this.touchTime=0,this.viewFunction=void 0,this.body.emitter.on("fit",D(r=this.fit).call(r,this)),this.body.emitter.on("animationFinished",()=>{this.body.emitter.emit("_stopRendering")}),this.body.emitter.on("unlockNode",D(i=this.releaseNode).call(i,this))}setOptions(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.options=e}fit(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;e=W6(e,this.body.nodeIndices);const r=this.canvas.frame.canvas.clientWidth,i=this.canvas.frame.canvas.clientHeight;let s,o;if(r===0||i===0)o=1,s=Ze.getRange(this.body.nodes,e.nodes);else if(t===!0){let l=0;for(const h in this.body.nodes)Object.prototype.hasOwnProperty.call(this.body.nodes,h)&&this.body.nodes[h].predefinedPosition===!0&&(l+=1);if(l>.5*this.body.nodeIndices.length){this.fit(e,!1);return}s=Ze.getRange(this.body.nodes,e.nodes),o=12.662/(this.body.nodeIndices.length+7.4147)+.0964822;const c=Math.min(r/600,i/600);o*=c}else{this.body.emitter.emit("_resizeNodes"),s=Ze.getRange(this.body.nodes,e.nodes);const l=Math.abs(s.maxX-s.minX)*1.1,d=Math.abs(s.maxY-s.minY)*1.1,c=r/l,h=i/d;o=c<=h?c:h}o>e.maxZoomLevel?o=e.maxZoomLevel:o<e.minZoomLevel&&(o=e.minZoomLevel);const u={position:Ze.findCenter(s),scale:o,animation:e.animation};this.moveTo(u)}focus(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(this.body.nodes[e]!==void 0){const r={x:this.body.nodes[e].x,y:this.body.nodes[e].y};t.position=r,t.lockedOnNode=e,this.moveTo(t)}else console.error("Node: "+e+" cannot be found.")}moveTo(e){if(e===void 0){e={};return}if(e.offset!=null){if(e.offset.x!=null){if(e.offset.x=+e.offset.x,!Fr(e.offset.x))throw new TypeError('The option "offset.x" has to be a finite number.')}else e.offset.x=0;if(e.offset.y!=null){if(e.offset.y=+e.offset.y,!Fr(e.offset.y))throw new TypeError('The option "offset.y" has to be a finite number.')}else e.offset.x=0}else e.offset={x:0,y:0};if(e.position!=null){if(e.position.x!=null){if(e.position.x=+e.position.x,!Fr(e.position.x))throw new TypeError('The option "position.x" has to be a finite number.')}else e.position.x=0;if(e.position.y!=null){if(e.position.y=+e.position.y,!Fr(e.position.y))throw new TypeError('The option "position.y" has to be a finite number.')}else e.position.x=0}else e.position=this.getViewPosition();if(e.scale!=null){if(e.scale=+e.scale,!(e.scale>0))throw new TypeError('The option "scale" has to be a number greater than zero.')}else e.scale=this.body.view.scale;e.animation===void 0&&(e.animation={duration:0}),e.animation===!1&&(e.animation={duration:0}),e.animation===!0&&(e.animation={}),e.animation.duration===void 0&&(e.animation.duration=1e3),e.animation.easingFunction===void 0&&(e.animation.easingFunction="easeInOutQuad"),this.animateView(e)}animateView(e){if(e===void 0)return;this.animationEasingFunction=e.animation.easingFunction,this.releaseNode(),e.locked===!0&&(this.lockedOnNodeId=e.lockedOnNode,this.lockedOnNodeOffset=e.offset),this.easingTime!=0&&this._transitionRedraw(!0),this.sourceScale=this.body.view.scale,this.sourceTranslation=this.body.view.translation,this.targetScale=e.scale,this.body.view.scale=this.targetScale;const t=this.canvas.DOMtoCanvas({x:.5*this.canvas.frame.canvas.clientWidth,y:.5*this.canvas.frame.canvas.clientHeight}),r={x:t.x-e.position.x,y:t.y-e.position.y};if(this.targetTranslation={x:this.sourceTranslation.x+r.x*this.targetScale+e.offset.x,y:this.sourceTranslation.y+r.y*this.targetScale+e.offset.y},e.animation.duration===0)if(this.lockedOnNodeId!=null){var i;this.viewFunction=D(i=this._lockedRedraw).call(i,this),this.body.emitter.on("initRedraw",this.viewFunction)}else this.body.view.scale=this.targetScale,this.body.view.translation=this.targetTranslation,this.body.emitter.emit("_requestRedraw");else{var s;this.animationSpeed=1/(60*e.animation.duration*.001)||1/60,this.animationEasingFunction=e.animation.easingFunction,this.viewFunction=D(s=this._transitionRedraw).call(s,this),this.body.emitter.on("initRedraw",this.viewFunction),this.body.emitter.emit("_startRendering")}}_lockedRedraw(){const e={x:this.body.nodes[this.lockedOnNodeId].x,y:this.body.nodes[this.lockedOnNodeId].y},t=this.canvas.DOMtoCanvas({x:.5*this.canvas.frame.canvas.clientWidth,y:.5*this.canvas.frame.canvas.clientHeight}),r={x:t.x-e.x,y:t.y-e.y},i=this.body.view.translation,s={x:i.x+r.x*this.body.view.scale+this.lockedOnNodeOffset.x,y:i.y+r.y*this.body.view.scale+this.lockedOnNodeOffset.y};this.body.view.translation=s}releaseNode(){this.lockedOnNodeId!==void 0&&this.viewFunction!==void 0&&(this.body.emitter.off("initRedraw",this.viewFunction),this.lockedOnNodeId=void 0,this.lockedOnNodeOffset=void 0)}_transitionRedraw(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;this.easingTime+=this.animationSpeed,this.easingTime=e===!0?1:this.easingTime;const t=JV[this.animationEasingFunction](this.easingTime);if(this.body.view.scale=this.sourceScale+(this.targetScale-this.sourceScale)*t,this.body.view.translation={x:this.sourceTranslation.x+(this.targetTranslation.x-this.sourceTranslation.x)*t,y:this.sourceTranslation.y+(this.targetTranslation.y-this.sourceTranslation.y)*t},this.easingTime>=1){if(this.body.emitter.off("initRedraw",this.viewFunction),this.easingTime=0,this.lockedOnNodeId!=null){var r;this.viewFunction=D(r=this._lockedRedraw).call(r,this),this.body.emitter.on("initRedraw",this.viewFunction)}this.body.emitter.emit("animationFinished")}}getScale(){return this.body.view.scale}getViewPosition(){return this.canvas.DOMtoCanvas({x:.5*this.canvas.frame.canvas.clientWidth,y:.5*this.canvas.frame.canvas.clientHeight})}}function kM(n){var e=n&&n.preventDefault||!1,t=n&&n.container||window,r={},i={keydown:{},keyup:{}},s={},o;for(o=97;o<=122;o++)s[String.fromCharCode(o)]={code:65+(o-97),shift:!1};for(o=65;o<=90;o++)s[String.fromCharCode(o)]={code:o,shift:!0};for(o=0;o<=9;o++)s[""+o]={code:48+o,shift:!1};for(o=1;o<=12;o++)s["F"+o]={code:111+o,shift:!1};for(o=0;o<=9;o++)s["num"+o]={code:96+o,shift:!1};s["num*"]={code:106,shift:!1},s["num+"]={code:107,shift:!1},s["num-"]={code:109,shift:!1},s["num/"]={code:111,shift:!1},s["num."]={code:110,shift:!1},s.left={code:37,shift:!1},s.up={code:38,shift:!1},s.right={code:39,shift:!1},s.down={code:40,shift:!1},s.space={code:32,shift:!1},s.enter={code:13,shift:!1},s.shift={code:16,shift:void 0},s.esc={code:27,shift:!1},s.backspace={code:8,shift:!1},s.tab={code:9,shift:!1},s.ctrl={code:17,shift:!1},s.alt={code:18,shift:!1},s.delete={code:46,shift:!1},s.pageup={code:33,shift:!1},s.pagedown={code:34,shift:!1},s["="]={code:187,shift:!1},s["-"]={code:189,shift:!1},s["]"]={code:221,shift:!1},s["["]={code:219,shift:!1};var a=function(d){l(d,"keydown")},u=function(d){l(d,"keyup")},l=function(d,c){if(i[c][d.keyCode]!==void 0){for(var h=i[c][d.keyCode],f=0;f<h.length;f++)(h[f].shift===void 0||h[f].shift==!0&&d.shiftKey==!0||h[f].shift==!1&&d.shiftKey==!1)&&h[f].fn(d);e==!0&&d.preventDefault()}};return r.bind=function(d,c,h){if(h===void 0&&(h="keydown"),s[d]===void 0)throw new Error("unsupported key: "+d);i[h][s[d].code]===void 0&&(i[h][s[d].code]=[]),i[h][s[d].code].push({fn:c,shift:s[d].shift})},r.bindAll=function(d,c){c===void 0&&(c="keydown");for(var h in s)s.hasOwnProperty(h)&&r.bind(h,d,c)},r.getKey=function(d){for(var c in s)if(s.hasOwnProperty(c)){if(d.shiftKey==!0&&s[c].shift==!0&&d.keyCode==s[c].code)return c;if(d.shiftKey==!1&&s[c].shift==!1&&d.keyCode==s[c].code)return c;if(d.keyCode==s[c].code&&c=="shift")return c}return"unknown key, currently not supported"},r.unbind=function(d,c,h){if(h===void 0&&(h="keydown"),s[d]===void 0)throw new Error("unsupported key: "+d);if(c!==void 0){var f=[],v=i[h][s[d].code];if(v!==void 0)for(var p=0;p<v.length;p++)v[p].fn==c&&v[p].shift==s[d].shift||f.push(i[h][s[d].code][p]);i[h][s[d].code]=f}else i[h][s[d].code]=[]},r.reset=function(){i={keydown:{},keyup:{}}},r.destroy=function(){i={keydown:{},keyup:{}},t.removeEventListener("keydown",a,!0),t.removeEventListener("keyup",u,!0)},t.addEventListener("keydown",a,!0),t.addEventListener("keyup",u,!0),r}class U6{constructor(e,t){this.body=e,this.canvas=t,this.iconsCreated=!1,this.navigationHammers=[],this.boundFunctions={},this.touchTime=0,this.activated=!1,this.body.emitter.on("activate",()=>{this.activated=!0,this.configureKeyboardBindings()}),this.body.emitter.on("deactivate",()=>{this.activated=!1,this.configureKeyboardBindings()}),this.body.emitter.on("destroy",()=>{this.keycharm!==void 0&&this.keycharm.destroy()}),this.options={}}setOptions(e){e!==void 0&&(this.options=e,this.create())}create(){this.options.navigationButtons===!0?this.iconsCreated===!1&&this.loadNavigationElements():this.iconsCreated===!0&&this.cleanNavigation(),this.configureKeyboardBindings()}cleanNavigation(){if(this.navigationHammers.length!=0){for(let e=0;e<this.navigationHammers.length;e++)this.navigationHammers[e].destroy();this.navigationHammers=[]}this.navigationDOM&&this.navigationDOM.wrapper&&this.navigationDOM.wrapper.parentNode&&this.navigationDOM.wrapper.parentNode.removeChild(this.navigationDOM.wrapper),this.iconsCreated=!1}loadNavigationElements(){this.cleanNavigation(),this.navigationDOM={};const e=["up","down","left","right","zoomIn","zoomOut","zoomExtends"],t=["_moveUp","_moveDown","_moveLeft","_moveRight","_zoomIn","_zoomOut","_fit"];this.navigationDOM.wrapper=document.createElement("div"),this.navigationDOM.wrapper.className="vis-navigation",this.canvas.frame.appendChild(this.navigationDOM.wrapper);for(let o=0;o<e.length;o++){this.navigationDOM[e[o]]=document.createElement("div"),this.navigationDOM[e[o]].className="vis-button vis-"+e[o],this.navigationDOM.wrapper.appendChild(this.navigationDOM[e[o]]);const a=new $i(this.navigationDOM[e[o]]);if(t[o]==="_fit"){var r;Js(a,D(r=this._fit).call(r,this))}else{var i;Js(a,D(i=this.bindToRedraw).call(i,this,t[o]))}this.navigationHammers.push(a)}const s=new $i(this.canvas.frame);Kk(s,()=>{this._stopMovement()}),this.navigationHammers.push(s),this.iconsCreated=!0}bindToRedraw(e){if(this.boundFunctions[e]===void 0){var t;this.boundFunctions[e]=D(t=this[e]).call(t,this),this.body.emitter.on("initRedraw",this.boundFunctions[e]),this.body.emitter.emit("_startRendering")}}unbindFromRedraw(e){this.boundFunctions[e]!==void 0&&(this.body.emitter.off("initRedraw",this.boundFunctions[e]),this.body.emitter.emit("_stopRendering"),delete this.boundFunctions[e])}_fit(){new Date().valueOf()-this.touchTime>700&&(this.body.emitter.emit("fit",{duration:700}),this.touchTime=new Date().valueOf())}_stopMovement(){for(const e in this.boundFunctions)Object.prototype.hasOwnProperty.call(this.boundFunctions,e)&&(this.body.emitter.off("initRedraw",this.boundFunctions[e]),this.body.emitter.emit("_stopRendering"));this.boundFunctions={}}_moveUp(){this.body.view.translation.y+=this.options.keyboard.speed.y}_moveDown(){this.body.view.translation.y-=this.options.keyboard.speed.y}_moveLeft(){this.body.view.translation.x+=this.options.keyboard.speed.x}_moveRight(){this.body.view.translation.x-=this.options.keyboard.speed.x}_zoomIn(){const e=this.body.view.scale,t=this.body.view.scale*(1+this.options.keyboard.speed.zoom),r=this.body.view.translation,i=t/e,s=(1-i)*this.canvas.canvasViewCenter.x+r.x*i,o=(1-i)*this.canvas.canvasViewCenter.y+r.y*i;this.body.view.scale=t,this.body.view.translation={x:s,y:o},this.body.emitter.emit("zoom",{direction:"+",scale:this.body.view.scale,pointer:null})}_zoomOut(){const e=this.body.view.scale,t=this.body.view.scale/(1+this.options.keyboard.speed.zoom),r=this.body.view.translation,i=t/e,s=(1-i)*this.canvas.canvasViewCenter.x+r.x*i,o=(1-i)*this.canvas.canvasViewCenter.y+r.y*i;this.body.view.scale=t,this.body.view.translation={x:s,y:o},this.body.emitter.emit("zoom",{direction:"-",scale:this.body.view.scale,pointer:null})}configureKeyboardBindings(){if(this.keycharm!==void 0&&this.keycharm.destroy(),this.options.keyboard.enabled===!0&&(this.options.keyboard.bindToWindow===!0?this.keycharm=kM({container:window,preventDefault:!0}):this.keycharm=kM({container:this.canvas.frame,preventDefault:!0}),this.keycharm.reset(),this.activated===!0)){var e,t,r,i,s,o,a,u,l,d,c,h,f,v,p,m,y,g,E,b,w,O,I,_;D(e=this.keycharm).call(e,"up",()=>{this.bindToRedraw("_moveUp")},"keydown"),D(t=this.keycharm).call(t,"down",()=>{this.bindToRedraw("_moveDown")},"keydown"),D(r=this.keycharm).call(r,"left",()=>{this.bindToRedraw("_moveLeft")},"keydown"),D(i=this.keycharm).call(i,"right",()=>{this.bindToRedraw("_moveRight")},"keydown"),D(s=this.keycharm).call(s,"=",()=>{this.bindToRedraw("_zoomIn")},"keydown"),D(o=this.keycharm).call(o,"num+",()=>{this.bindToRedraw("_zoomIn")},"keydown"),D(a=this.keycharm).call(a,"num-",()=>{this.bindToRedraw("_zoomOut")},"keydown"),D(u=this.keycharm).call(u,"-",()=>{this.bindToRedraw("_zoomOut")},"keydown"),D(l=this.keycharm).call(l,"[",()=>{this.bindToRedraw("_zoomOut")},"keydown"),D(d=this.keycharm).call(d,"]",()=>{this.bindToRedraw("_zoomIn")},"keydown"),D(c=this.keycharm).call(c,"pageup",()=>{this.bindToRedraw("_zoomIn")},"keydown"),D(h=this.keycharm).call(h,"pagedown",()=>{this.bindToRedraw("_zoomOut")},"keydown"),D(f=this.keycharm).call(f,"up",()=>{this.unbindFromRedraw("_moveUp")},"keyup"),D(v=this.keycharm).call(v,"down",()=>{this.unbindFromRedraw("_moveDown")},"keyup"),D(p=this.keycharm).call(p,"left",()=>{this.unbindFromRedraw("_moveLeft")},"keyup"),D(m=this.keycharm).call(m,"right",()=>{this.unbindFromRedraw("_moveRight")},"keyup"),D(y=this.keycharm).call(y,"=",()=>{this.unbindFromRedraw("_zoomIn")},"keyup"),D(g=this.keycharm).call(g,"num+",()=>{this.unbindFromRedraw("_zoomIn")},"keyup"),D(E=this.keycharm).call(E,"num-",()=>{this.unbindFromRedraw("_zoomOut")},"keyup"),D(b=this.keycharm).call(b,"-",()=>{this.unbindFromRedraw("_zoomOut")},"keyup"),D(w=this.keycharm).call(w,"[",()=>{this.unbindFromRedraw("_zoomOut")},"keyup"),D(O=this.keycharm).call(O,"]",()=>{this.unbindFromRedraw("_zoomIn")},"keyup"),D(I=this.keycharm).call(I,"pageup",()=>{this.unbindFromRedraw("_zoomIn")},"keyup"),D(_=this.keycharm).call(_,"pagedown",()=>{this.unbindFromRedraw("_zoomOut")},"keyup")}}}class V6{constructor(e,t,r){var i,s,o,a,u,l,d,c,h,f,v,p,m;this.body=e,this.canvas=t,this.selectionHandler=r,this.navigationHandler=new U6(e,t),this.body.eventListeners.onTap=D(i=this.onTap).call(i,this),this.body.eventListeners.onTouch=D(s=this.onTouch).call(s,this),this.body.eventListeners.onDoubleTap=D(o=this.onDoubleTap).call(o,this),this.body.eventListeners.onHold=D(a=this.onHold).call(a,this),this.body.eventListeners.onDragStart=D(u=this.onDragStart).call(u,this),this.body.eventListeners.onDrag=D(l=this.onDrag).call(l,this),this.body.eventListeners.onDragEnd=D(d=this.onDragEnd).call(d,this),this.body.eventListeners.onMouseWheel=D(c=this.onMouseWheel).call(c,this),this.body.eventListeners.onPinch=D(h=this.onPinch).call(h,this),this.body.eventListeners.onMouseMove=D(f=this.onMouseMove).call(f,this),this.body.eventListeners.onRelease=D(v=this.onRelease).call(v,this),this.body.eventListeners.onContext=D(p=this.onContext).call(p,this),this.touchTime=0,this.drag={},this.pinch={},this.popup=void 0,this.popupObj=void 0,this.popupTimer=void 0,this.body.functions.getPointer=D(m=this.getPointer).call(m,this),this.options={},this.defaultOptions={dragNodes:!0,dragView:!0,hover:!1,keyboard:{enabled:!1,speed:{x:10,y:10,zoom:.02},bindToWindow:!0,autoFocus:!0},navigationButtons:!1,tooltipDelay:300,zoomView:!0,zoomSpeed:1},Pe(this.options,this.defaultOptions),this.bindEventListeners()}bindEventListeners(){this.body.emitter.on("destroy",()=>{clearTimeout(this.popupTimer),delete this.body.functions.getPointer})}setOptions(e){e!==void 0&&(Ys(["hideEdgesOnDrag","hideEdgesOnZoom","hideNodesOnDrag","keyboard","multiselect","selectable","selectConnectedEdges"],this.options,e),ct(this.options,e,"keyboard"),e.tooltip&&(Pe(this.options.tooltip,e.tooltip),e.tooltip.color&&(this.options.tooltip.color=Em(e.tooltip.color)))),this.navigationHandler.setOptions(this.options)}getPointer(e){return{x:e.x-KV(this.canvas.frame.canvas),y:e.y-YV(this.canvas.frame.canvas)}}onTouch(e){new Date().valueOf()-this.touchTime>50&&(this.drag.pointer=this.getPointer(e.center),this.drag.pinched=!1,this.pinch.scale=this.body.view.scale,this.touchTime=new Date().valueOf())}onTap(e){const t=this.getPointer(e.center),r=this.selectionHandler.options.multiselect&&(e.changedPointers[0].ctrlKey||e.changedPointers[0].metaKey);this.checkSelectionChanges(t,r),this.selectionHandler.commitAndEmit(t,e),this.selectionHandler.generateClickEvent("click",e,t)}onDoubleTap(e){const t=this.getPointer(e.center);this.selectionHandler.generateClickEvent("doubleClick",e,t)}onHold(e){const t=this.getPointer(e.center),r=this.selectionHandler.options.multiselect;this.checkSelectionChanges(t,r),this.selectionHandler.commitAndEmit(t,e),this.selectionHandler.generateClickEvent("click",e,t),this.selectionHandler.generateClickEvent("hold",e,t)}onRelease(e){if(new Date().valueOf()-this.touchTime>10){const t=this.getPointer(e.center);this.selectionHandler.generateClickEvent("release",e,t),this.touchTime=new Date().valueOf()}}onContext(e){const t=this.getPointer({x:e.clientX,y:e.clientY});this.selectionHandler.generateClickEvent("oncontext",e,t)}checkSelectionChanges(e){(arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1)===!0?this.selectionHandler.selectAdditionalOnPoint(e):this.selectionHandler.selectOnPoint(e)}_determineDifference(e,t){const r=function(i,s){const o=[];for(let a=0;a<i.length;a++){const u=i[a];se(s).call(s,u)===-1&&o.push(u)}return o};return{nodes:r(e.nodes,t.nodes),edges:r(e.edges,t.edges)}}onDragStart(e){if(this.drag.dragging)return;this.drag.pointer===void 0&&this.onTouch(e);const t=this.selectionHandler.getNodeAt(this.drag.pointer);if(this.drag.dragging=!0,this.drag.selection=[],this.drag.translation=Pe({},this.body.view.translation),this.drag.nodeId=void 0,e.srcEvent.shiftKey){this.body.selectionBox.show=!0;const r=this.getPointer(e.center);this.body.selectionBox.position.start={x:this.canvas._XconvertDOMtoCanvas(r.x),y:this.canvas._YconvertDOMtoCanvas(r.y)},this.body.selectionBox.position.end={x:this.canvas._XconvertDOMtoCanvas(r.x),y:this.canvas._YconvertDOMtoCanvas(r.y)}}else if(t!==void 0&&this.options.dragNodes===!0){this.drag.nodeId=t.id,t.isSelected()===!1&&this.selectionHandler.setSelection({nodes:[t.id]}),this.selectionHandler.generateClickEvent("dragStart",e,this.drag.pointer);for(const r of this.selectionHandler.getSelectedNodes()){const i={id:r.id,node:r,x:r.x,y:r.y,xFixed:r.options.fixed.x,yFixed:r.options.fixed.y};r.options.fixed.x=!0,r.options.fixed.y=!0,this.drag.selection.push(i)}}else this.selectionHandler.generateClickEvent("dragStart",e,this.drag.pointer,void 0,!0)}onDrag(e){if(this.drag.pinched===!0)return;this.body.emitter.emit("unlockNode");const t=this.getPointer(e.center),r=this.drag.selection;if(r&&r.length&&this.options.dragNodes===!0){this.selectionHandler.generateClickEvent("dragging",e,t);const i=t.x-this.drag.pointer.x,s=t.y-this.drag.pointer.y;de(r).call(r,o=>{const a=o.node;o.xFixed===!1&&(a.x=this.canvas._XconvertDOMtoCanvas(this.canvas._XconvertCanvasToDOM(o.x)+i)),o.yFixed===!1&&(a.y=this.canvas._YconvertDOMtoCanvas(this.canvas._YconvertCanvasToDOM(o.y)+s))}),this.body.emitter.emit("startSimulation")}else{if(e.srcEvent.shiftKey){if(this.selectionHandler.generateClickEvent("dragging",e,t,void 0,!0),this.drag.pointer===void 0){this.onDragStart(e);return}this.body.selectionBox.position.end={x:this.canvas._XconvertDOMtoCanvas(t.x),y:this.canvas._YconvertDOMtoCanvas(t.y)},this.body.emitter.emit("_requestRedraw")}if(this.options.dragView===!0&&!e.srcEvent.shiftKey){if(this.selectionHandler.generateClickEvent("dragging",e,t,void 0,!0),this.drag.pointer===void 0){this.onDragStart(e);return}const i=t.x-this.drag.pointer.x,s=t.y-this.drag.pointer.y;this.body.view.translation={x:this.drag.translation.x+i,y:this.drag.translation.y+s},this.body.emitter.emit("_requestRedraw")}}}onDragEnd(e){if(this.drag.dragging=!1,this.body.selectionBox.show){var t;this.body.selectionBox.show=!1;const r=this.body.selectionBox.position,i={minX:Math.min(r.start.x,r.end.x),minY:Math.min(r.start.y,r.end.y),maxX:Math.max(r.start.x,r.end.x),maxY:Math.max(r.start.y,r.end.y)},s=rt(t=this.body.nodeIndices).call(t,a=>{const u=this.body.nodes[a];return u.x>=i.minX&&u.x<=i.maxX&&u.y>=i.minY&&u.y<=i.maxY});de(s).call(s,a=>this.selectionHandler.selectObject(this.body.nodes[a]));const o=this.getPointer(e.center);this.selectionHandler.commitAndEmit(o,e),this.selectionHandler.generateClickEvent("dragEnd",e,this.getPointer(e.center),void 0,!0),this.body.emitter.emit("_requestRedraw")}else{const r=this.drag.selection;r&&r.length?(de(r).call(r,function(i){i.node.options.fixed.x=i.xFixed,i.node.options.fixed.y=i.yFixed}),this.selectionHandler.generateClickEvent("dragEnd",e,this.getPointer(e.center)),this.body.emitter.emit("startSimulation")):(this.selectionHandler.generateClickEvent("dragEnd",e,this.getPointer(e.center),void 0,!0),this.body.emitter.emit("_requestRedraw"))}}onPinch(e){const t=this.getPointer(e.center);this.drag.pinched=!0,this.pinch.scale===void 0&&(this.pinch.scale=1);const r=this.pinch.scale*e.scale;this.zoom(r,t)}zoom(e,t){if(this.options.zoomView===!0){const r=this.body.view.scale;e<1e-5&&(e=1e-5),e>10&&(e=10);let i;this.drag!==void 0&&this.drag.dragging===!0&&(i=this.canvas.DOMtoCanvas(this.drag.pointer));const s=this.body.view.translation,o=e/r,a=(1-o)*t.x+s.x*o,u=(1-o)*t.y+s.y*o;if(this.body.view.scale=e,this.body.view.translation={x:a,y:u},i!=null){const l=this.canvas.canvasToDOM(i);this.drag.pointer.x=l.x,this.drag.pointer.y=l.y}this.body.emitter.emit("_requestRedraw"),r<e?this.body.emitter.emit("zoom",{direction:"+",scale:this.body.view.scale,pointer:t}):this.body.emitter.emit("zoom",{direction:"-",scale:this.body.view.scale,pointer:t})}}onMouseWheel(e){if(this.options.zoomView===!0){if(e.deltaY!==0){let t=this.body.view.scale;t*=1+(e.deltaY<0?1:-1)*(this.options.zoomSpeed*.1);const r=this.getPointer({x:e.clientX,y:e.clientY});this.zoom(t,r)}e.preventDefault()}}onMouseMove(e){const t=this.getPointer({x:e.clientX,y:e.clientY});let r=!1;this.popup!==void 0&&(this.popup.hidden===!1&&this._checkHidePopup(t),this.popup.hidden===!1&&(r=!0,this.popup.setPosition(t.x+3,t.y-5),this.popup.show())),this.options.keyboard.autoFocus&&this.options.keyboard.bindToWindow===!1&&this.options.keyboard.enabled===!0&&this.canvas.frame.focus(),r===!1&&(this.popupTimer!==void 0&&(clearInterval(this.popupTimer),this.popupTimer=void 0),this.drag.dragging||(this.popupTimer=Gt(()=>this._checkShowPopup(t),this.options.tooltipDelay))),this.options.hover===!0&&this.selectionHandler.hoverObject(e,t)}_checkShowPopup(e){const t=this.canvas._XconvertDOMtoCanvas(e.x),r=this.canvas._YconvertDOMtoCanvas(e.y),i={left:t,top:r,right:t,bottom:r},s=this.popupObj===void 0?void 0:this.popupObj.id;let o=!1,a="node";if(this.popupObj===void 0){const u=this.body.nodeIndices,l=this.body.nodes;let d;const c=[];for(let h=0;h<u.length;h++)d=l[u[h]],d.isOverlappingWith(i)===!0&&(o=!0,d.getTitle()!==void 0&&c.push(u[h]));c.length>0&&(this.popupObj=l[c[c.length-1]],o=!0)}if(this.popupObj===void 0&&o===!1){const u=this.body.edgeIndices,l=this.body.edges;let d;const c=[];for(let h=0;h<u.length;h++)d=l[u[h]],d.isOverlappingWith(i)===!0&&d.connected===!0&&d.getTitle()!==void 0&&c.push(u[h]);c.length>0&&(this.popupObj=l[c[c.length-1]],a="edge")}this.popupObj!==void 0?this.popupObj.id!==s&&(this.popup===void 0&&(this.popup=new oG(this.canvas.frame)),this.popup.popupTargetType=a,this.popup.popupTargetId=this.popupObj.id,this.popup.setPosition(e.x+3,e.y-5),this.popup.setText(this.popupObj.getTitle()),this.popup.show(),this.body.emitter.emit("showPopup",this.popupObj.id)):this.popup!==void 0&&(this.popup.hide(),this.body.emitter.emit("hidePopup"))}_checkHidePopup(e){const t=this.selectionHandler._pointerToPositionObject(e);let r=!1;if(this.popup.popupTargetType==="node"){if(this.body.nodes[this.popup.popupTargetId]!==void 0&&(r=this.body.nodes[this.popup.popupTargetId].isOverlappingWith(t),r===!0)){const i=this.selectionHandler.getNodeAt(e);r=i===void 0?!1:i.id===this.popup.popupTargetId}}else this.selectionHandler.getNodeAt(e)===void 0&&this.body.edges[this.popup.popupTargetId]!==void 0&&(r=this.body.edges[this.popup.popupTargetId].isOverlappingWith(t));r===!1&&(this.popupObj=void 0,this.popup.hide(),this.body.emitter.emit("hidePopup"))}}var BM={},jM={},LM;function G6(){if(LM)return jM;LM=1;var n=Tb(),e=Nk();return n("Set",function(t){return function(){return t(this,arguments.length?arguments[0]:void 0)}},e),jM}var zM;function K6(){return zM||(zM=1,G6()),BM}var WM={},wy,HM;function ci(){if(HM)return wy;HM=1;var n=Ji(),e=TypeError;return wy=function(t){if(typeof t=="object"&&"size"in t&&"has"in t&&"add"in t&&"delete"in t&&"keys"in t)return t;throw new e(n(t)+" is not a set")},wy}var Ey,UM;function hi(){if(UM)return Ey;UM=1;var n=lt(),e=kk(),t=n("Set"),r=t.prototype;return Ey={Set:t,add:e("add",1),has:e("has",1),remove:e("delete",1),proto:r},Ey}var Sy,VM;function fi(){if(VM)return Sy;VM=1;var n=at();return Sy=function(e,t,r){for(var i=r?e:e.iterator,s=e.next,o,a;!(o=n(s,i)).done;)if(a=t(o.value),a!==void 0)return a},Sy}var Oy,GM;function Is(){if(GM)return Oy;GM=1;var n=fi();return Oy=function(e,t,r){return r?n(e.keys(),t,!0):e.forEach(t)},Oy}var Iy,KM;function Mb(){if(KM)return Iy;KM=1;var n=hi(),e=Is(),t=n.Set,r=n.add;return Iy=function(i){var s=new t;return e(i,function(o){r(s,o)}),s},Iy}var $y,YM;function $s(){return YM||(YM=1,$y=function(n){return n.size}),$y}var Ty,XM;function Y6(){return XM||(XM=1,Ty=function(n){return{iterator:n,next:n.next,done:!1}}),Ty}var Py,ZM;function vi(){if(ZM)return Py;ZM=1;var n=tr(),e=Bt(),t=at(),r=rn(),i=Y6(),s="Invalid size",o=RangeError,a=TypeError,u=Math.max,l=function(d,c){this.set=d,this.size=u(c,0),this.has=n(d.has),this.keys=n(d.keys)};return l.prototype={getIterator:function(){return i(e(t(this.keys,this.set)))},includes:function(d){return t(this.has,this.set,d)}},Py=function(d){e(d);var c=+d.size;if(c!==c)throw new a(s);var h=r(c);if(h<0)throw new o(s);return new l(d,h)},Py}var Ry,JM;function X6(){if(JM)return Ry;JM=1;var n=ci(),e=hi(),t=Mb(),r=$s(),i=vi(),s=Is(),o=fi(),a=e.has,u=e.remove;return Ry=function(d){var c=n(this),h=i(d),f=t(c);return r(c)<=h.size?s(c,function(v){h.includes(v)&&u(f,v)}):o(h.getIterator(),function(v){a(f,v)&&u(f,v)}),f},Ry}var qy,QM;function pi(){return QM||(QM=1,qy=function(){return!1}),qy}var eA;function Z6(){if(eA)return WM;eA=1;var n=z(),e=X6(),t=te(),r=pi(),i=!r("difference",function(o){return o.size===0}),s=i||t(function(){var o={size:1,has:function(){return!0},keys:function(){var u=0;return{next:function(){var l=u++>1;return a.has(1)&&a.clear(),{done:l,value:2}}}}},a=new Set([1,2,3,4]);return a.difference(o).size!==3});return n({target:"Set",proto:!0,real:!0,forced:s},{difference:e}),WM}var tA={},Cy,rA;function J6(){if(rA)return Cy;rA=1;var n=ci(),e=hi(),t=$s(),r=vi(),i=Is(),s=fi(),o=e.Set,a=e.add,u=e.has;return Cy=function(d){var c=n(this),h=r(d),f=new o;return t(c)>h.size?s(h.getIterator(),function(v){u(c,v)&&a(f,v)}):i(c,function(v){h.includes(v)&&a(f,v)}),f},Cy}var iA;function Q6(){if(iA)return tA;iA=1;var n=z(),e=te(),t=J6(),r=pi(),i=!r("intersection",function(s){return s.size===2&&s.has(1)&&s.has(2)})||e(function(){return String(Array.from(new Set([1,2,3]).intersection(new Set([3,2]))))!=="3,2"});return n({target:"Set",proto:!0,real:!0,forced:i},{intersection:t}),tA}var nA={},xy,sA;function e8(){if(sA)return xy;sA=1;var n=ci(),e=hi().has,t=$s(),r=vi(),i=Is(),s=fi(),o=Ib();return xy=function(u){var l=n(this),d=r(u);if(t(l)<=d.size)return i(l,function(h){if(d.includes(h))return!1},!0)!==!1;var c=d.getIterator();return s(c,function(h){if(e(l,h))return o(c,"normal",!1)})!==!1},xy}var oA;function t8(){if(oA)return nA;oA=1;var n=z(),e=e8(),t=pi(),r=!t("isDisjointFrom",function(i){return!i});return n({target:"Set",proto:!0,real:!0,forced:r},{isDisjointFrom:e}),nA}var aA={},Dy,uA;function r8(){if(uA)return Dy;uA=1;var n=ci(),e=$s(),t=Is(),r=vi();return Dy=function(s){var o=n(this),a=r(s);return e(o)>a.size?!1:t(o,function(u){if(!a.includes(u))return!1},!0)!==!1},Dy}var lA;function i8(){if(lA)return aA;lA=1;var n=z(),e=r8(),t=pi(),r=!t("isSubsetOf",function(i){return i});return n({target:"Set",proto:!0,real:!0,forced:r},{isSubsetOf:e}),aA}var dA={},My,cA;function n8(){if(cA)return My;cA=1;var n=ci(),e=hi().has,t=$s(),r=vi(),i=fi(),s=Ib();return My=function(a){var u=n(this),l=r(a);if(t(u)<l.size)return!1;var d=l.getIterator();return i(d,function(c){if(!e(u,c))return s(d,"normal",!1)})!==!1},My}var hA;function s8(){if(hA)return dA;hA=1;var n=z(),e=n8(),t=pi(),r=!t("isSupersetOf",function(i){return!i});return n({target:"Set",proto:!0,real:!0,forced:r},{isSupersetOf:e}),dA}var fA={},Ay,vA;function o8(){if(vA)return Ay;vA=1;var n=ci(),e=hi(),t=Mb(),r=vi(),i=fi(),s=e.add,o=e.has,a=e.remove;return Ay=function(l){var d=n(this),c=r(l).getIterator(),h=t(d);return i(c,function(f){o(d,f)?a(h,f):s(h,f)}),h},Ay}var Fy,pA;function Yk(){return pA||(pA=1,Fy=function(n){try{var e=new Set,t={size:0,has:function(){return!0},keys:function(){return Object.defineProperty({},"next",{get:function(){return e.clear(),e.add(4),function(){return{done:!0}}}})}},r=e[n](t);return r.size===1&&r.values().next().value===4}catch{return!1}}),Fy}var gA;function a8(){if(gA)return fA;gA=1;var n=z(),e=o8(),t=Yk(),r=pi(),i=!r("symmetricDifference")||!t("symmetricDifference");return n({target:"Set",proto:!0,real:!0,forced:i},{symmetricDifference:e}),fA}var yA={},Ny,mA;function u8(){if(mA)return Ny;mA=1;var n=ci(),e=hi().add,t=Mb(),r=vi(),i=fi();return Ny=function(o){var a=n(this),u=r(o).getIterator(),l=t(a);return i(u,function(d){e(l,d)}),l},Ny}var bA;function l8(){if(bA)return yA;bA=1;var n=z(),e=u8(),t=Yk(),r=pi(),i=!r("union")||!t("union");return n({target:"Set",proto:!0,real:!0,forced:i},{union:e}),yA}var ky,_A;function d8(){if(_A)return ky;_A=1,an(),K6(),Z6(),Q6(),t8(),i8(),s8(),a8(),l8(),Rb();var n=ae();return ky=n.Set,ky}var By,wA;function c8(){if(wA)return By;wA=1;var n=d8();return un(),By=n,By}var jy,EA;function h8(){return EA||(EA=1,jy=c8()),jy}var f8=h8(),sr=G(f8),SA={},OA={},Ly,IA;function v8(){if(IA)return Ly;IA=1;var n=re(),e=Pb(),t=Co().getWeakData,r=$b(),i=Bt(),s=Yi(),o=ze(),a=xo(),u=wr(),l=Ue(),d=ui(),c=d.set,h=d.getterFor,f=u.find,v=u.findIndex,p=n([].splice),m=0,y=function(b){return b.frozen||(b.frozen=new g)},g=function(){this.entries=[]},E=function(b,w){return f(b.entries,function(O){return O[0]===w})};return g.prototype={get:function(b){var w=E(this,b);if(w)return w[1]},has:function(b){return!!E(this,b)},set:function(b,w){var O=E(this,b);O?O[1]=w:this.entries.push([b,w])},delete:function(b){var w=v(this.entries,function(O){return O[0]===b});return~w&&p(this.entries,w,1),!!~w}},Ly={getConstructor:function(b,w,O,I){var _=b(function(P,R){r(P,S),c(P,{type:w,id:m++,frozen:null}),s(R)||a(R,P[I],{that:P,AS_ENTRIES:O})}),S=_.prototype,$=h(w),T=function(P,R,C){var A=$(P),K=t(i(R),!0);return K===!0?y(A).set(R,C):K[A.id]=C,P};return e(S,{delete:function(P){var R=$(this);if(!o(P))return!1;var C=t(P);return C===!0?y(R).delete(P):C&&l(C,R.id)&&delete C[R.id]},has:function(R){var C=$(this);if(!o(R))return!1;var A=t(R);return A===!0?y(C).has(R):A&&l(A,C.id)}}),e(S,O?{get:function(R){var C=$(this);if(o(R)){var A=t(R);if(A===!0)return y(C).get(R);if(A)return A[C.id]}},set:function(R,C){return T(this,R,C)}}:{add:function(R){return T(this,R,!0)}}),_}},Ly}var $A;function p8(){if($A)return OA;$A=1;var n=Ak(),e=ye(),t=re(),r=Pb(),i=Co(),s=Tb(),o=v8(),a=ze(),u=ui().enforce,l=te(),d=NN(),c=Object,h=Array.isArray,f=c.isExtensible,v=c.isFrozen,p=c.isSealed,m=c.freeze,y=c.seal,g=!e.ActiveXObject&&"ActiveXObject"in e,E,b=function(P){return function(){return P(this,arguments.length?arguments[0]:void 0)}},w=s("WeakMap",b,o),O=w.prototype,I=t(O.set),_=function(){return n&&l(function(){var P=m([]);return I(new w,P,1),!v(P)})};if(d)if(g){E=o.getConstructor(b,"WeakMap",!0),i.enable();var S=t(O.delete),$=t(O.has),T=t(O.get);r(O,{delete:function(P){if(a(P)&&!f(P)){var R=u(this);return R.frozen||(R.frozen=new E),S(this,P)||R.frozen.delete(P)}return S(this,P)},has:function(R){if(a(R)&&!f(R)){var C=u(this);return C.frozen||(C.frozen=new E),$(this,R)||C.frozen.has(R)}return $(this,R)},get:function(R){if(a(R)&&!f(R)){var C=u(this);return C.frozen||(C.frozen=new E),$(this,R)?T(this,R):C.frozen.get(R)}return T(this,R)},set:function(R,C){if(a(R)&&!f(R)){var A=u(this);A.frozen||(A.frozen=new E),$(this,R)?I(this,R,C):A.frozen.set(R,C)}else I(this,R,C);return this}})}else _()&&r(O,{set:function(R,C){var A;return h(R)&&(v(R)?A=m:p(R)&&(A=y)),I(this,R,C),A&&A(R),this}});return OA}var TA;function g8(){return TA||(TA=1,p8()),SA}var zy,PA;function y8(){if(PA)return zy;PA=1,an(),g8();var n=ae();return zy=n.WeakMap,zy}var Wy,RA;function m8(){if(RA)return Wy;RA=1;var n=y8();return un(),Wy=n,Wy}var Hy,qA;function b8(){return qA||(qA=1,Hy=m8()),Hy}var _8=b8(),Ts=G(_8);function Dn(n,e,t){w8(n,e),e.set(n,t)}function w8(n,e){if(e.has(n))throw new TypeError("Cannot initialize the same private elements twice on an object")}function Pm(n,e,t){return n.set(Xk(n,e),t),t}function he(n,e){return n.get(Xk(n,e))}function Xk(n,e,t){if(typeof n=="function"?n===e:n.has(e))return arguments.length<3?e:t;throw new TypeError("Private element is not present on this object")}function CA(n,e){const t=new sr;for(const r of e)n.has(r)||t.add(r);return t}var mi=new Ts,St=new Ts;class xA{constructor(){Dn(this,mi,new sr),Dn(this,St,new sr)}get size(){return he(St,this).size}add(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];for(const i of t)he(St,this).add(i)}delete(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];for(const i of t)he(St,this).delete(i)}clear(){he(St,this).clear()}getSelection(){return[...he(St,this)]}getChanges(){return{added:[...CA(he(mi,this),he(St,this))],deleted:[...CA(he(St,this),he(mi,this))],previous:[...new sr(he(mi,this))],current:[...new sr(he(St,this))]}}commit(){const e=this.getChanges();Pm(mi,this,he(St,this)),Pm(St,this,new sr(he(mi,this)));for(const t of e.added)t.select();for(const t of e.deleted)t.unselect();return e}}var qr=new Ts,Cr=new Ts,Uy=new Ts;class E8{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:()=>{};Dn(this,qr,new xA),Dn(this,Cr,new xA),Dn(this,Uy,void 0),Pm(Uy,this,e)}get sizeNodes(){return he(qr,this).size}get sizeEdges(){return he(Cr,this).size}getNodes(){return he(qr,this).getSelection()}getEdges(){return he(Cr,this).getSelection()}addNodes(){he(qr,this).add(...arguments)}addEdges(){he(Cr,this).add(...arguments)}deleteNodes(e){he(qr,this).delete(e)}deleteEdges(e){he(Cr,this).delete(e)}clear(){he(qr,this).clear(),he(Cr,this).clear()}commit(){const e={nodes:he(qr,this).commit(),edges:he(Cr,this).commit()};for(var t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];return he(Uy,this).call(this,e,...r),e}}class S8{constructor(e,t){this.body=e,this.canvas=t,this._selectionAccumulator=new E8,this.hoverObj={nodes:{},edges:{}},this.options={},this.defaultOptions={multiselect:!1,selectable:!0,selectConnectedEdges:!0,hoverConnectedEdges:!0},Pe(this.options,this.defaultOptions),this.body.emitter.on("_dataChanged",()=>{this.updateSelection()})}setOptions(e){e!==void 0&&cn(["multiselect","hoverConnectedEdges","selectable","selectConnectedEdges"],this.options,e)}selectOnPoint(e){let t=!1;if(this.options.selectable===!0){const r=this.getNodeAt(e)||this.getEdgeAt(e);this.unselectAll(),r!==void 0&&(t=this.selectObject(r)),this.body.emitter.emit("_requestRedraw")}return t}selectAdditionalOnPoint(e){let t=!1;if(this.options.selectable===!0){const r=this.getNodeAt(e)||this.getEdgeAt(e);r!==void 0&&(t=!0,r.isSelected()===!0?this.deselectObject(r):this.selectObject(r),this.body.emitter.emit("_requestRedraw"))}return t}_initBaseEvent(e,t){const r={};return r.pointer={DOM:{x:t.x,y:t.y},canvas:this.canvas.DOMtoCanvas(t)},r.event=e,r}generateClickEvent(e,t,r,i){let s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1;const o=this._initBaseEvent(t,r);if(s===!0)o.nodes=[],o.edges=[];else{const a=this.getSelection();o.nodes=a.nodes,o.edges=a.edges}i!==void 0&&(o.previousSelection=i),e=="click"&&(o.items=this.getClickedItems(r)),t.controlEdge!==void 0&&(o.controlEdge=t.controlEdge),this.body.emitter.emit(e,o)}selectObject(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.options.selectConnectedEdges;return e!==void 0?(e instanceof ge?(t===!0&&this._selectionAccumulator.addEdges(...e.edges),this._selectionAccumulator.addNodes(e)):this._selectionAccumulator.addEdges(e),!0):!1}deselectObject(e){e.isSelected()===!0&&(e.selected=!1,this._removeFromSelection(e))}_getAllNodesOverlappingWith(e){const t=[],r=this.body.nodes;for(let i=0;i<this.body.nodeIndices.length;i++){const s=this.body.nodeIndices[i];r[s].isOverlappingWith(e)&&t.push(s)}return t}_pointerToPositionObject(e){const t=this.canvas.DOMtoCanvas(e);return{left:t.x-1,top:t.y+1,right:t.x+1,bottom:t.y-1}}getNodeAt(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;const r=this._pointerToPositionObject(e),i=this._getAllNodesOverlappingWith(r);if(i.length>0)return t===!0?this.body.nodes[i[i.length-1]]:i[i.length-1]}_getEdgesOverlappingWith(e,t){const r=this.body.edges;for(let i=0;i<this.body.edgeIndices.length;i++){const s=this.body.edgeIndices[i];r[s].isOverlappingWith(e)&&t.push(s)}}_getAllEdgesOverlappingWith(e){const t=[];return this._getEdgesOverlappingWith(e,t),t}getEdgeAt(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;const r=this.canvas.DOMtoCanvas(e);let i=10,s=null;const o=this.body.edges;for(let a=0;a<this.body.edgeIndices.length;a++){const u=this.body.edgeIndices[a],l=o[u];if(l.connected){const d=l.from.x,c=l.from.y,h=l.to.x,f=l.to.y,v=l.edgeType.getDistanceToEdge(d,c,h,f,r.x,r.y);v<i&&(s=u,i=v)}}if(s!==null)return t===!0?this.body.edges[s]:s}_addToHover(e){e instanceof ge?this.hoverObj.nodes[e.id]=e:this.hoverObj.edges[e.id]=e}_removeFromSelection(e){e instanceof ge?(this._selectionAccumulator.deleteNodes(e),this._selectionAccumulator.deleteEdges(...e.edges)):this._selectionAccumulator.deleteEdges(e)}unselectAll(){this._selectionAccumulator.clear()}getSelectedNodeCount(){return this._selectionAccumulator.sizeNodes}getSelectedEdgeCount(){return this._selectionAccumulator.sizeEdges}_hoverConnectedEdges(e){for(let t=0;t<e.edges.length;t++){const r=e.edges[t];r.hover=!0,this._addToHover(r)}}emitBlurEvent(e,t,r){const i=this._initBaseEvent(e,t);r.hover===!0&&(r.hover=!1,r instanceof ge?(i.node=r.id,this.body.emitter.emit("blurNode",i)):(i.edge=r.id,this.body.emitter.emit("blurEdge",i)))}emitHoverEvent(e,t,r){const i=this._initBaseEvent(e,t);let s=!1;return r.hover===!1&&(r.hover=!0,this._addToHover(r),s=!0,r instanceof ge?(i.node=r.id,this.body.emitter.emit("hoverNode",i)):(i.edge=r.id,this.body.emitter.emit("hoverEdge",i))),s}hoverObject(e,t){let r=this.getNodeAt(t);r===void 0&&(r=this.getEdgeAt(t));let i=!1;for(const s in this.hoverObj.nodes)Object.prototype.hasOwnProperty.call(this.hoverObj.nodes,s)&&(r===void 0||r instanceof ge&&r.id!=s||r instanceof hr)&&(this.emitBlurEvent(e,t,this.hoverObj.nodes[s]),delete this.hoverObj.nodes[s],i=!0);for(const s in this.hoverObj.edges)Object.prototype.hasOwnProperty.call(this.hoverObj.edges,s)&&(i===!0?(this.hoverObj.edges[s].hover=!1,delete this.hoverObj.edges[s]):(r===void 0||r instanceof hr&&r.id!=s||r instanceof ge&&!r.hover)&&(this.emitBlurEvent(e,t,this.hoverObj.edges[s]),delete this.hoverObj.edges[s],i=!0));if(r!==void 0){const s=Se(this.hoverObj.edges).length,o=Se(this.hoverObj.nodes).length,a=r instanceof hr&&s===0&&o===0,u=r instanceof ge&&s===0&&o===0;(i||a||u)&&(i=this.emitHoverEvent(e,t,r)),r instanceof ge&&this.options.hoverConnectedEdges===!0&&this._hoverConnectedEdges(r)}i===!0&&this.body.emitter.emit("_requestRedraw")}commitWithoutEmitting(){this._selectionAccumulator.commit()}commitAndEmit(e,t){let r=!1;const i=this._selectionAccumulator.commit(),s={nodes:i.nodes.previous,edges:i.edges.previous};i.edges.deleted.length>0&&(this.generateClickEvent("deselectEdge",t,e,s),r=!0),i.nodes.deleted.length>0&&(this.generateClickEvent("deselectNode",t,e,s),r=!0),i.nodes.added.length>0&&(this.generateClickEvent("selectNode",t,e),r=!0),i.edges.added.length>0&&(this.generateClickEvent("selectEdge",t,e),r=!0),r===!0&&this.generateClickEvent("select",t,e)}getSelection(){return{nodes:this.getSelectedNodeIds(),edges:this.getSelectedEdgeIds()}}getSelectedNodes(){return this._selectionAccumulator.getNodes()}getSelectedEdges(){return this._selectionAccumulator.getEdges()}getSelectedNodeIds(){var e;return Di(e=this._selectionAccumulator.getNodes()).call(e,t=>t.id)}getSelectedEdgeIds(){var e;return Di(e=this._selectionAccumulator.getEdges()).call(e,t=>t.id)}setSelection(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!e||!e.nodes&&!e.edges)throw new TypeError("Selection must be an object with nodes and/or edges properties");if((t.unselectAll||t.unselectAll===void 0)&&this.unselectAll(),e.nodes)for(const r of e.nodes){const i=this.body.nodes[r];if(!i)throw new RangeError('Node with id "'+r+'" not found');this.selectObject(i,t.highlightEdges)}if(e.edges)for(const r of e.edges){const i=this.body.edges[r];if(!i)throw new RangeError('Edge with id "'+r+'" not found');this.selectObject(i)}this.body.emitter.emit("_requestRedraw"),this._selectionAccumulator.commit()}selectNodes(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(!e||e.length===void 0)throw"Selection must be an array with ids";this.setSelection({nodes:e},{highlightEdges:t})}selectEdges(e){if(!e||e.length===void 0)throw"Selection must be an array with ids";this.setSelection({edges:e})}updateSelection(){for(const e in this._selectionAccumulator.getNodes())Object.prototype.hasOwnProperty.call(this.body.nodes,e.id)||this._selectionAccumulator.deleteNodes(e);for(const e in this._selectionAccumulator.getEdges())Object.prototype.hasOwnProperty.call(this.body.edges,e.id)||this._selectionAccumulator.deleteEdges(e)}getClickedItems(e){const t=this.canvas.DOMtoCanvas(e),r=[],i=this.body.nodeIndices,s=this.body.nodes;for(let u=i.length-1;u>=0;u--){const d=s[i[u]].getItemsOnPoint(t);r.push.apply(r,d)}const o=this.body.edgeIndices,a=this.body.edges;for(let u=o.length-1;u>=0;u--){const d=a[o[u]].getItemsOnPoint(t);r.push.apply(r,d)}return r}}var DA={},Vy,MA;function O8(){if(MA)return Vy;MA=1;var n=nn(),e=Math.floor,t=function(r,i){var s=r.length;if(s<8)for(var o=1,a,u;o<s;){for(u=o,a=r[o];u&&i(r[u-1],a)>0;)r[u]=r[--u];u!==o++&&(r[u]=a)}else for(var l=e(s/2),d=t(n(r,0,l),i),c=t(n(r,l),i),h=d.length,f=c.length,v=0,p=0;v<h||p<f;)r[v+p]=v<h&&p<f?i(d[v],c[p])<=0?d[v++]:c[p++]:v<h?d[v++]:c[p++];return r};return Vy=t,Vy}var Gy,AA;function I8(){if(AA)return Gy;AA=1;var n=Xi(),e=n.match(/firefox\/(\d+)/i);return Gy=!!e&&+e[1],Gy}var Ky,FA;function $8(){if(FA)return Ky;FA=1;var n=Xi();return Ky=/MSIE|Trident/.test(n),Ky}var Yy,NA;function T8(){if(NA)return Yy;NA=1;var n=Xi(),e=n.match(/AppleWebKit\/(\d+)\./);return Yy=!!e&&+e[1],Yy}var kA;function P8(){if(kA)return DA;kA=1;var n=z(),e=re(),t=tr(),r=dt(),i=rr(),s=KN(),o=mt(),a=te(),u=O8(),l=ln(),d=I8(),c=$8(),h=cs(),f=T8(),v=[],p=e(v.sort),m=e(v.push),y=a(function(){v.sort(void 0)}),g=a(function(){v.sort(null)}),E=l("sort"),b=!a(function(){if(h)return h<70;if(!(d&&d>3)){if(c)return!0;if(f)return f<603;var I="",_,S,$,T;for(_=65;_<76;_++){switch(S=String.fromCharCode(_),_){case 66:case 69:case 70:case 72:$=3;break;case 68:case 71:$=4;break;default:$=2}for(T=0;T<47;T++)v.push({k:S+T,v:$})}for(v.sort(function(P,R){return R.v-P.v}),T=0;T<v.length;T++)S=v[T].k.charAt(0),I.charAt(I.length-1)!==S&&(I+=S);return I!=="DGBEFHACIJK"}}),w=y||!g||!E||!b,O=function(I){return function(_,S){return S===void 0?-1:_===void 0?1:I!==void 0?+I(_,S)||0:o(_)>o(S)?1:-1}};return n({target:"Array",proto:!0,forced:w},{sort:function(_){_!==void 0&&t(_);var S=r(this);if(b)return _===void 0?p(S):p(S,_);var $=[],T=i(S),P,R;for(R=0;R<T;R++)R in S&&m($,S[R]);for(u($,O(_)),P=i($),R=0;R<P;)S[R]=$[R++];for(;R<T;)s(S,R++);return S}}),DA}var Xy,BA;function R8(){if(BA)return Xy;BA=1,P8();var n=Ve();return Xy=n("Array","sort"),Xy}var Zy,jA;function q8(){if(jA)return Zy;jA=1;var n=xe(),e=R8(),t=Array.prototype;return Zy=function(r){var i=r.sort;return r===t||n(t,r)&&i===t.sort?e:i},Zy}var Jy,LA;function C8(){if(LA)return Jy;LA=1;var n=q8();return Jy=n,Jy}var Qy,zA;function x8(){return zA||(zA=1,Qy=C8()),Qy}var D8=x8(),Pi=G(D8),WA={},em,HA;function M8(){if(HA)return em;HA=1;var n=tr(),e=dt(),t=yo(),r=rr(),i=TypeError,s="Reduce of empty array with no initial value",o=function(a){return function(u,l,d,c){var h=e(u),f=t(h),v=r(h);if(n(l),v===0&&d<2)throw new i(s);var p=a?v-1:0,m=a?-1:1;if(d<2)for(;;){if(p in f){c=f[p],p+=m;break}if(p+=m,a?p<0:v<=p)throw new i(s)}for(;a?p>=0:v>p;p+=m)p in f&&(c=l(c,f[p],p,h));return c}};return em={left:o(!1),right:o(!0)},em}var tm,UA;function A8(){if(UA)return tm;UA=1;var n=XN();return tm=n==="NODE",tm}var VA;function F8(){if(VA)return WA;VA=1;var n=z(),e=M8().left,t=ln(),r=cs(),i=A8(),s=!i&&r>79&&r<83,o=s||!t("reduce");return n({target:"Array",proto:!0,forced:o},{reduce:function(u){var l=arguments.length;return e(this,u,l,l>1?arguments[1]:void 0)}}),WA}var rm,GA;function N8(){if(GA)return rm;GA=1,F8();var n=Ve();return rm=n("Array","reduce"),rm}var im,KA;function k8(){if(KA)return im;KA=1;var n=xe(),e=N8(),t=Array.prototype;return im=function(r){var i=r.reduce;return r===t||n(t,r)&&i===t.reduce?e:i},im}var nm,YA;function B8(){if(YA)return nm;YA=1;var n=k8();return nm=n,nm}var sm,XA;function j8(){return XA||(XA=1,sm=B8()),sm}var L8=j8(),Zk=G(L8);class Jk{abstract(){throw new Error("Can't instantiate abstract class!")}fake_use(){}curveType(){return this.abstract()}getPosition(e){return this.fake_use(e),this.abstract()}setPosition(e,t){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0;this.fake_use(e,t,r),this.abstract()}getTreeSize(e){return this.fake_use(e),this.abstract()}sort(e){this.fake_use(e),this.abstract()}fix(e,t){this.fake_use(e,t),this.abstract()}shift(e,t){this.fake_use(e,t),this.abstract()}}class z8 extends Jk{constructor(e){super(),this.layout=e}curveType(){return"horizontal"}getPosition(e){return e.x}setPosition(e,t){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0;r!==void 0&&this.layout.hierarchical.addToOrdering(e,r),e.x=t}getTreeSize(e){const t=this.layout.hierarchical.getTreeSize(this.layout.body.nodes,e);return{min:t.min_x,max:t.max_x}}sort(e){Pi(e).call(e,function(t,r){return t.x-r.x})}fix(e,t){e.y=this.layout.options.hierarchical.levelSeparation*t,e.options.fixed.y=!0}shift(e,t){this.layout.body.nodes[e].x+=t}}class W8 extends Jk{constructor(e){super(),this.layout=e}curveType(){return"vertical"}getPosition(e){return e.y}setPosition(e,t){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0;r!==void 0&&this.layout.hierarchical.addToOrdering(e,r),e.y=t}getTreeSize(e){const t=this.layout.hierarchical.getTreeSize(this.layout.body.nodes,e);return{min:t.min_y,max:t.max_y}}sort(e){Pi(e).call(e,function(t,r){return t.y-r.y})}fix(e,t){e.x=this.layout.options.hierarchical.levelSeparation*t,e.options.fixed.x=!0}shift(e,t){this.layout.body.nodes[e].y+=t}}var ZA={},JA;function H8(){if(JA)return ZA;JA=1;var n=z(),e=wr().every,t=ln(),r=t("every");return n({target:"Array",proto:!0,forced:!r},{every:function(s){return e(this,s,arguments.length>1?arguments[1]:void 0)}}),ZA}var om,QA;function U8(){if(QA)return om;QA=1,H8();var n=Ve();return om=n("Array","every"),om}var am,eF;function V8(){if(eF)return am;eF=1;var n=xe(),e=U8(),t=Array.prototype;return am=function(r){var i=r.every;return r===t||n(t,r)&&i===t.every?e:i},am}var um,tF;function G8(){if(tF)return um;tF=1;var n=V8();return um=n,um}var lm,rF;function K8(){return rF||(rF=1,lm=G8()),lm}var Y8=K8(),Qk=G(Y8);function X8(n,e){const t=new sr;return de(n).call(n,r=>{var i;de(i=r.edges).call(i,s=>{s.connected&&t.add(s)})}),de(t).call(t,r=>{const i=r.from.id,s=r.to.id;e[i]==null&&(e[i]=0),(e[s]==null||e[i]>=e[s])&&(e[s]=e[i]+1)}),e}function Z8(n){return e2(e=>{var t,r;return Qk(t=rt(r=e.edges).call(r,i=>n.has(i.toId))).call(t,i=>i.to===e)},(e,t)=>t>e,"from",n)}function J8(n){return e2(e=>{var t,r;return Qk(t=rt(r=e.edges).call(r,i=>n.has(i.toId))).call(t,i=>i.from===e)},(e,t)=>t<e,"to",n)}function e2(n,e,t,r){var i;const s=jr(null),o=Zk(i=[...Hk(r).call(r)]).call(i,(c,h)=>c+1+h.edges.length,0),a=t+"Id",u=t==="to"?1:-1;for(const[c,h]of r){if(!r.has(c)||!n(h))continue;s[c]=0;const f=[h];let v=0,p;for(;p=f.pop();){var l,d;if(!r.has(c))continue;const m=s[p.id]+u;if(de(l=rt(d=p.edges).call(d,y=>y.connected&&y.to!==y.from&&y[t]!==p&&r.has(y.toId)&&r.has(y.fromId))).call(l,y=>{const g=y[a],E=s[g];(E==null||e(m,E))&&(s[g]=m,f.push(y[t]))}),v>o)return X8(r,s);++v}}return s}class Q8{constructor(){this.childrenReference={},this.parentReference={},this.trees={},this.distributionOrdering={},this.levels={},this.distributionIndex={},this.isTree=!1,this.treeIndex=-1}addRelation(e,t){this.childrenReference[e]===void 0&&(this.childrenReference[e]=[]),this.childrenReference[e].push(t),this.parentReference[t]===void 0&&(this.parentReference[t]=[]),this.parentReference[t].push(e)}checkIfTree(){for(const e in this.parentReference)if(this.parentReference[e].length>1){this.isTree=!1;return}this.isTree=!0}numTrees(){return this.treeIndex+1}setTreeIndex(e,t){t!==void 0&&this.trees[e.id]===void 0&&(this.trees[e.id]=t,this.treeIndex=Math.max(t,this.treeIndex))}ensureLevel(e){this.levels[e]===void 0&&(this.levels[e]=0)}getMaxLevel(e){const t={},r=i=>{if(t[i]!==void 0)return t[i];let s=this.levels[i];if(this.childrenReference[i]){const o=this.childrenReference[i];if(o.length>0)for(let a=0;a<o.length;a++)s=Math.max(s,r(o[a]))}return t[i]=s,s};return r(e)}levelDownstream(e,t){this.levels[t.id]===void 0&&(this.levels[e.id]===void 0&&(this.levels[e.id]=0),this.levels[t.id]=this.levels[e.id]+1)}setMinLevelToZero(){var e;const t=new qb;let r=0;const i=Pi(e=[...new sr(vU(this.levels))]).call(e,(s,o)=>s-o);for(const s of i)t.set(s,r++);for(const s in this.levels)Object.prototype.hasOwnProperty.call(this.levels,s)&&(this.levels[s]=t.get(this.levels[s]))}getTreeSize(e,t){let r=1e9,i=-1e9,s=1e9,o=-1e9;for(const a in this.trees)if(Object.prototype.hasOwnProperty.call(this.trees,a)&&this.trees[a]===t){const u=e[a];r=Math.min(u.x,r),i=Math.max(u.x,i),s=Math.min(u.y,s),o=Math.max(u.y,o)}return{min_x:r,max_x:i,min_y:s,max_y:o}}hasSameParent(e,t){const r=this.parentReference[e.id],i=this.parentReference[t.id];if(r===void 0||i===void 0)return!1;for(let s=0;s<r.length;s++)for(let o=0;o<i.length;o++)if(r[s]==i[o])return!0;return!1}inSameSubNetwork(e,t){return this.trees[e.id]===this.trees[t.id]}getLevels(){return Se(this.distributionOrdering)}addToOrdering(e,t){this.distributionOrdering[t]===void 0&&(this.distributionOrdering[t]=[]);let r=!1;const i=this.distributionOrdering[t];for(const s in i)if(i[s]===e){r=!0;break}r||(this.distributionOrdering[t].push(e),this.distributionIndex[e.id]=this.distributionOrdering[t].length-1)}}class e9{constructor(e){this.body=e,this._resetRNG(Math.random()+":"+Us()),this.setPhysics=!1,this.options={},this.optionsBackup={physics:{}},this.defaultOptions={randomSeed:void 0,improvedLayout:!0,clusterThreshold:150,hierarchical:{enabled:!1,levelSeparation:150,nodeSpacing:100,treeSpacing:200,blockShifting:!0,edgeMinimization:!0,parentCentralization:!0,direction:"UD",sortMethod:"hubsize"}},Pe(this.options,this.defaultOptions),this.bindEventListeners()}bindEventListeners(){this.body.emitter.on("_dataChanged",()=>{this.setupHierarchicalLayout()}),this.body.emitter.on("_dataLoaded",()=>{this.layoutNetwork()}),this.body.emitter.on("_resetHierarchicalLayout",()=>{this.setupHierarchicalLayout()}),this.body.emitter.on("_adjustEdgesForHierarchicalLayout",()=>{if(this.options.hierarchical.enabled!==!0)return;const e=this.direction.curveType();this.body.emitter.emit("_forceDisableDynamicCurves",e,!1)})}setOptions(e,t){if(e!==void 0){const r=this.options.hierarchical,i=r.enabled;if(cn(["randomSeed","improvedLayout","clusterThreshold"],this.options,e),ct(this.options,e,"hierarchical"),e.randomSeed!==void 0&&this._resetRNG(e.randomSeed),r.enabled===!0)return i===!0&&this.body.emitter.emit("refresh",!0),r.direction==="RL"||r.direction==="DU"?r.levelSeparation>0&&(r.levelSeparation*=-1):r.levelSeparation<0&&(r.levelSeparation*=-1),this.setDirectionStrategy(),this.body.emitter.emit("_resetHierarchicalLayout"),this.adaptAllOptionsForHierarchicalLayout(t);if(i===!0)return this.body.emitter.emit("refresh"),fe(t,this.optionsBackup)}return t}_resetRNG(e){this.initialRandomSeed=e,this._rng=qo(this.initialRandomSeed)}adaptAllOptionsForHierarchicalLayout(e){if(this.options.hierarchical.enabled===!0){const t=this.optionsBackup.physics;e.physics===void 0||e.physics===!0?(e.physics={enabled:t.enabled===void 0?!0:t.enabled,solver:"hierarchicalRepulsion"},t.enabled=t.enabled===void 0?!0:t.enabled,t.solver=t.solver||"barnesHut"):typeof e.physics=="object"?(t.enabled=e.physics.enabled===void 0?!0:e.physics.enabled,t.solver=e.physics.solver||"barnesHut",e.physics.solver="hierarchicalRepulsion"):e.physics!==!1&&(t.solver="barnesHut",e.physics={solver:"hierarchicalRepulsion"});let r=this.direction.curveType();if(e.edges===void 0)this.optionsBackup.edges={smooth:{enabled:!0,type:"dynamic"}},e.edges={smooth:!1};else if(e.edges.smooth===void 0)this.optionsBackup.edges={smooth:{enabled:!0,type:"dynamic"}},e.edges.smooth=!1;else if(typeof e.edges.smooth=="boolean")this.optionsBackup.edges={smooth:e.edges.smooth},e.edges.smooth={enabled:e.edges.smooth,type:r};else{const i=e.edges.smooth;i.type!==void 0&&i.type!=="dynamic"&&(r=i.type),this.optionsBackup.edges={smooth:{enabled:i.enabled===void 0?!0:i.enabled,type:i.type===void 0?"dynamic":i.type,roundness:i.roundness===void 0?.5:i.roundness,forceDirection:i.forceDirection===void 0?!1:i.forceDirection}},e.edges.smooth={enabled:i.enabled===void 0?!0:i.enabled,type:r,roundness:i.roundness===void 0?.5:i.roundness,forceDirection:i.forceDirection===void 0?!1:i.forceDirection}}this.body.emitter.emit("_forceDisableDynamicCurves",r)}return e}positionInitially(e){if(this.options.hierarchical.enabled!==!0){this._resetRNG(this.initialRandomSeed);const t=e.length+50;for(let r=0;r<e.length;r++){const i=e[r],s=2*Math.PI*this._rng();i.x===void 0&&(i.x=t*Math.cos(s)),i.y===void 0&&(i.y=t*Math.sin(s))}}}layoutNetwork(){if(this.options.hierarchical.enabled!==!0&&this.options.improvedLayout===!0){const e=this.body.nodeIndices;let t=0;for(let r=0;r<e.length;r++)this.body.nodes[e[r]].predefinedPosition===!0&&(t+=1);if(t<.5*e.length){let i=0;const s=this.options.clusterThreshold,o={clusterNodeProperties:{shape:"ellipse",label:"",group:"",font:{multi:!1}},clusterEdgeProperties:{label:"",font:{multi:!1},smooth:{enabled:!1}}};if(e.length>s){const u=e.length;for(;e.length>s&&i<=10;){i+=1;const l=e.length;i%3===0?this.body.modules.clustering.clusterBridges(o):this.body.modules.clustering.clusterOutliers(o);const d=e.length;if(l==d&&i%3!==0){this._declusterAll(),this.body.emitter.emit("_layoutFailed"),console.info("This network could not be positioned by this version of the improved layout algorithm. Please disable improvedLayout for better performance.");return}}this.body.modules.kamadaKawai.setOptions({springLength:Math.max(150,2*u)})}i>10&&console.info("The clustering didn't succeed within the amount of interations allowed, progressing with partial result."),this.body.modules.kamadaKawai.solve(e,this.body.edgeIndices,!0),this._shiftToCenter();const a=70;for(let u=0;u<e.length;u++){const l=this.body.nodes[e[u]];l.predefinedPosition===!1&&(l.x+=(.5-this._rng())*a,l.y+=(.5-this._rng())*a)}this._declusterAll(),this.body.emitter.emit("_repositionBezierNodes")}}}_shiftToCenter(){const e=Ze.getRangeCore(this.body.nodes,this.body.nodeIndices),t=Ze.findCenter(e);for(let r=0;r<this.body.nodeIndices.length;r++){const i=this.body.nodes[this.body.nodeIndices[r]];i.x-=t.x,i.y-=t.y}}_declusterAll(){let e=!0;for(;e===!0;){e=!1;for(let t=0;t<this.body.nodeIndices.length;t++)this.body.nodes[this.body.nodeIndices[t]].isCluster===!0&&(e=!0,this.body.modules.clustering.openCluster(this.body.nodeIndices[t],{},!1));e===!0&&this.body.emitter.emit("_dataChanged")}}getSeed(){return this.initialRandomSeed}setupHierarchicalLayout(){if(this.options.hierarchical.enabled===!0&&this.body.nodeIndices.length>0){let e,t,r=!1,i=!1;this.lastNodeOnLevel={},this.hierarchical=new Q8;for(t in this.body.nodes)Object.prototype.hasOwnProperty.call(this.body.nodes,t)&&(e=this.body.nodes[t],e.options.level!==void 0?(r=!0,this.hierarchical.levels[t]=e.options.level):i=!0);if(i===!0&&r===!0)throw new Error("To use the hierarchical layout, nodes require either no predefined levels or levels have to be defined for all nodes.");{if(i===!0){const o=this.options.hierarchical.sortMethod;o==="hubsize"?this._determineLevelsByHubsize():o==="directed"?this._determineLevelsDirected():o==="custom"&&this._determineLevelsCustomCallback()}for(const o in this.body.nodes)Object.prototype.hasOwnProperty.call(this.body.nodes,o)&&this.hierarchical.ensureLevel(o);const s=this._getDistribution();this._generateMap(),this._placeNodesByHierarchy(s),this._condenseHierarchy(),this._shiftToCenter()}}}_condenseHierarchy(){var e=this;let t=!1;const r={},i=()=>{const y=o();let g=0;for(let E=0;E<y.length-1;E++){const b=y[E].max-y[E+1].min;g+=b+this.options.hierarchical.treeSpacing,s(E+1,g)}},s=(y,g)=>{const E=this.hierarchical.trees;for(const b in E)Object.prototype.hasOwnProperty.call(E,b)&&E[b]===y&&this.direction.shift(b,g)},o=()=>{const y=[];for(let g=0;g<this.hierarchical.numTrees();g++)y.push(this.direction.getTreeSize(g));return y},a=(y,g)=>{if(!g[y.id]&&(g[y.id]=!0,this.hierarchical.childrenReference[y.id])){const E=this.hierarchical.childrenReference[y.id];if(E.length>0)for(let b=0;b<E.length;b++)a(this.body.nodes[E[b]],g)}},u=function(y){let g=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1e9,E=1e9,b=1e9,w=1e9,O=-1e9;for(const I in y)if(Object.prototype.hasOwnProperty.call(y,I)){const _=e.body.nodes[I],S=e.hierarchical.levels[_.id],$=e.direction.getPosition(_),[T,P]=e._getSpaceAroundNode(_,y);E=Math.min(T,E),b=Math.min(P,b),S<=g&&(w=Math.min($,w),O=Math.max($,O))}return[w,O,E,b]},l=(y,g)=>{const E=this.hierarchical.getMaxLevel(y.id),b=this.hierarchical.getMaxLevel(g.id);return Math.min(E,b)},d=(y,g,E)=>{const b=this.hierarchical;for(let w=0;w<g.length;w++){const O=g[w],I=b.distributionOrdering[O];if(I.length>1)for(let _=0;_<I.length-1;_++){const S=I[_],$=I[_+1];b.hasSameParent(S,$)&&b.inSameSubNetwork(S,$)&&y(S,$,E)}}},c=function(y,g){let E=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;const b=e.direction.getPosition(y),w=e.direction.getPosition(g),O=Math.abs(w-b),I=e.options.hierarchical.nodeSpacing;if(O>I){const _={},S={};a(y,_),a(g,S);const $=l(y,g),T=u(_,$),P=u(S,$),R=T[1],C=P[0],A=P[2];if(Math.abs(R-C)>I){let L=R-C+I;L<-A+I&&(L=-A+I),L<0&&(e._shiftBlock(g.id,L),t=!0,E===!0&&e._centerParent(g))}}},h=(y,g)=>{const E=g.id,b=g.edges,w=this.hierarchical.levels[g.id],O=this.options.hierarchical.levelSeparation*this.options.hierarchical.levelSeparation,I={},_=[];for(let A=0;A<b.length;A++){const K=b[A];if(K.toId!=K.fromId){const L=K.toId==E?K.from:K.to;I[b[A].id]=L,this.hierarchical.levels[L.id]<w&&_.push(K)}}const S=(A,K)=>{let L=0;for(let Z=0;Z<K.length;Z++)if(I[K[Z].id]!==void 0){const Q=this.direction.getPosition(I[K[Z].id])-A;L+=Q/Math.sqrt(Q*Q+O)}return L},$=(A,K)=>{let L=0;for(let Z=0;Z<K.length;Z++)if(I[K[Z].id]!==void 0){const Q=this.direction.getPosition(I[K[Z].id])-A;L-=O*Math.pow(Q*Q+O,-1.5)}return L},T=(A,K)=>{let L=this.direction.getPosition(g);const Z={};for(let Q=0;Q<A;Q++){const ue=S(L,K),W=$(L,K),le=40,me=Math.max(-le,Math.min(le,Math.round(ue/W)));if(L=L-me,Z[L]!==void 0)break;Z[L]=Q}return L},P=A=>{const K=this.direction.getPosition(g);if(r[g.id]===void 0){const le={};a(g,le),r[g.id]=le}const L=u(r[g.id]),Z=L[2],Q=L[3],ue=A-K;let W=0;ue>0?W=Math.min(ue,Q-this.options.hierarchical.nodeSpacing):ue<0&&(W=-Math.min(-ue,Z-this.options.hierarchical.nodeSpacing)),W!=0&&(this._shiftBlock(g.id,W),t=!0)},R=A=>{const K=this.direction.getPosition(g),[L,Z]=this._getSpaceAroundNode(g),Q=A-K;let ue=K;Q>0?ue=Math.min(K+(Z-this.options.hierarchical.nodeSpacing),A):Q<0&&(ue=Math.max(K-(L-this.options.hierarchical.nodeSpacing),A)),ue!==K&&(this.direction.setPosition(g,ue),t=!0)};let C=T(y,_);P(C),C=T(y,b),R(C)},f=y=>{let g=this.hierarchical.getLevels();g=Br(g).call(g);for(let E=0;E<y;E++){t=!1;for(let b=0;b<g.length;b++){const w=g[b],O=this.hierarchical.distributionOrdering[w];for(let I=0;I<O.length;I++)h(1e3,O[I])}if(t!==!0)break}},v=y=>{let g=this.hierarchical.getLevels();g=Br(g).call(g);for(let E=0;E<y&&(t=!1,d(c,g,!0),t===!0);E++);},p=()=>{for(const y in this.body.nodes)Object.prototype.hasOwnProperty.call(this.body.nodes,y)&&this._centerParent(this.body.nodes[y])},m=()=>{let y=this.hierarchical.getLevels();y=Br(y).call(y);for(let g=0;g<y.length;g++){const E=y[g],b=this.hierarchical.distributionOrdering[E];for(let w=0;w<b.length;w++)this._centerParent(b[w])}};this.options.hierarchical.blockShifting===!0&&(v(5),p()),this.options.hierarchical.edgeMinimization===!0&&f(20),this.options.hierarchical.parentCentralization===!0&&m(),i()}_getSpaceAroundNode(e,t){let r=!0;t===void 0&&(r=!1);const i=this.hierarchical.levels[e.id];if(i!==void 0){const s=this.hierarchical.distributionIndex[e.id],o=this.direction.getPosition(e),a=this.hierarchical.distributionOrdering[i];let u=1e9,l=1e9;if(s!==0){const d=a[s-1];if(r===!0&&t[d.id]===void 0||r===!1){const c=this.direction.getPosition(d);u=o-c}}if(s!=a.length-1){const d=a[s+1];if(r===!0&&t[d.id]===void 0||r===!1){const c=this.direction.getPosition(d);l=Math.min(l,c-o)}}return[u,l]}else return[0,0]}_centerParent(e){if(this.hierarchical.parentReference[e.id]){const t=this.hierarchical.parentReference[e.id];for(let r=0;r<t.length;r++){const i=t[r],s=this.body.nodes[i],o=this.hierarchical.childrenReference[i];if(o!==void 0){const a=this._getCenterPosition(o),u=this.direction.getPosition(s),[l,d]=this._getSpaceAroundNode(s),c=u-a;(c<0&&Math.abs(c)<d-this.options.hierarchical.nodeSpacing||c>0&&Math.abs(c)<l-this.options.hierarchical.nodeSpacing)&&this.direction.setPosition(s,a)}}}}_placeNodesByHierarchy(e){this.positionedNodes={};for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var t;let i=Se(e[r]);i=this._indexArrayToNodes(i),Pi(t=this.direction).call(t,i);let s=0;for(let o=0;o<i.length;o++){const a=i[o];if(this.positionedNodes[a.id]===void 0){const u=this.options.hierarchical.nodeSpacing;let l=u*s;s>0&&(l=this.direction.getPosition(i[o-1])+u),this.direction.setPosition(a,l,r),this._validatePositionAndContinue(a,r,l),s++}}}}_placeBranchNodes(e,t){var r;const i=this.hierarchical.childrenReference[e];if(i===void 0)return;const s=[];for(let a=0;a<i.length;a++)s.push(this.body.nodes[i[a]]);Pi(r=this.direction).call(r,s);for(let a=0;a<s.length;a++){const u=s[a],l=this.hierarchical.levels[u.id];if(l>t&&this.positionedNodes[u.id]===void 0){const d=this.options.hierarchical.nodeSpacing;let c;a===0?c=this.direction.getPosition(this.body.nodes[e]):c=this.direction.getPosition(s[a-1])+d,this.direction.setPosition(u,c,l),this._validatePositionAndContinue(u,l,c)}else return}const o=this._getCenterPosition(s);this.direction.setPosition(this.body.nodes[e],o,t)}_validatePositionAndContinue(e,t,r){if(this.hierarchical.isTree){if(this.lastNodeOnLevel[t]!==void 0){const i=this.direction.getPosition(this.body.nodes[this.lastNodeOnLevel[t]]);if(r-i<this.options.hierarchical.nodeSpacing){const s=i+this.options.hierarchical.nodeSpacing-r,o=this._findCommonParent(this.lastNodeOnLevel[t],e.id);this._shiftBlock(o.withChild,s)}}this.lastNodeOnLevel[t]=e.id,this.positionedNodes[e.id]=!0,this._placeBranchNodes(e.id,t)}}_indexArrayToNodes(e){const t=[];for(let r=0;r<e.length;r++)t.push(this.body.nodes[e[r]]);return t}_getDistribution(){const e={};let t,r;for(t in this.body.nodes)if(Object.prototype.hasOwnProperty.call(this.body.nodes,t)){r=this.body.nodes[t];const i=this.hierarchical.levels[t]===void 0?0:this.hierarchical.levels[t];this.direction.fix(r,i),e[i]===void 0&&(e[i]={}),e[i][t]=r}return e}_getActiveEdges(e){const t=[];return J(e.edges,r=>{var i;se(i=this.body.edgeIndices).call(i,r.id)!==-1&&t.push(r)}),t}_getHubSizes(){const e={},t=this.body.nodeIndices;J(t,i=>{const s=this.body.nodes[i],o=this._getActiveEdges(s).length;e[o]=!0});const r=[];return J(e,i=>{r.push(Number(i))}),Pi(r).call(r,function(i,s){return s-i}),r}_determineLevelsByHubsize(){const e=(r,i)=>{this.hierarchical.levelDownstream(r,i)},t=this._getHubSizes();for(let r=0;r<t.length;++r){const i=t[r];if(i===0)break;J(this.body.nodeIndices,s=>{const o=this.body.nodes[s];i===this._getActiveEdges(o).length&&this._crawlNetwork(e,s)})}}_determineLevelsCustomCallback(){const t=function(i,s,o){},r=(i,s,o)=>{let a=this.hierarchical.levels[i.id];a===void 0&&(a=this.hierarchical.levels[i.id]=1e5);const u=t(Ze.cloneOptions(i,"node"),Ze.cloneOptions(s,"node"),Ze.cloneOptions(o,"edge"));this.hierarchical.levels[s.id]=a+u};this._crawlNetwork(r),this.hierarchical.setMinLevelToZero()}_determineLevelsDirected(){var e;const t=Zk(e=this.body.nodeIndices).call(e,(r,i)=>(r.set(i,this.body.nodes[i]),r),new qb);this.options.hierarchical.shakeTowards==="roots"?this.hierarchical.levels=J8(t):this.hierarchical.levels=Z8(t),this.hierarchical.setMinLevelToZero()}_generateMap(){const e=(t,r)=>{this.hierarchical.levels[r.id]>this.hierarchical.levels[t.id]&&this.hierarchical.addRelation(t.id,r.id)};this._crawlNetwork(e),this.hierarchical.checkIfTree()}_crawlNetwork(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:function(){},t=arguments.length>1?arguments[1]:void 0;const r={},i=(s,o)=>{if(r[s.id]===void 0){this.hierarchical.setTreeIndex(s,o),r[s.id]=!0;let a;const u=this._getActiveEdges(s);for(let l=0;l<u.length;l++){const d=u[l];d.connected===!0&&(d.toId==s.id?a=d.from:a=d.to,s.id!=a.id&&(e(s,a,d),i(a,o)))}}};if(t===void 0){let s=0;for(let o=0;o<this.body.nodeIndices.length;o++){const a=this.body.nodeIndices[o];if(r[a]===void 0){const u=this.body.nodes[a];i(u,s),s+=1}}}else{const s=this.body.nodes[t];if(s===void 0){console.error("Node not found:",t);return}i(s)}}_shiftBlock(e,t){const r={},i=s=>{if(r[s])return;r[s]=!0,this.direction.shift(s,t);const o=this.hierarchical.childrenReference[s];if(o!==void 0)for(let a=0;a<o.length;a++)i(o[a])};i(e)}_findCommonParent(e,t){const r={},i=(o,a)=>{const u=this.hierarchical.parentReference[a];if(u!==void 0)for(let l=0;l<u.length;l++){const d=u[l];o[d]=!0,i(o,d)}},s=(o,a)=>{const u=this.hierarchical.parentReference[a];if(u!==void 0)for(let l=0;l<u.length;l++){const d=u[l];if(o[d]!==void 0)return{foundParent:d,withChild:a};const c=s(o,d);if(c.foundParent!==null)return c}return{foundParent:null,withChild:a}};return i(r,e),s(r,t)}setDirectionStrategy(){this.options.hierarchical.direction==="UD"||this.options.hierarchical.direction==="DU"?this.direction=new z8(this):this.direction=new W8(this)}_getCenterPosition(e){let t=1e9,r=-1e9;for(let i=0;i<e.length;i++){let s;if(e[i].id!==void 0)s=e[i];else{const a=e[i];s=this.body.nodes[a]}const o=this.direction.getPosition(s);t=Math.min(t,o),r=Math.max(r,o)}return .5*(t+r)}}class t9{constructor(e,t,r,i){var s,o;this.body=e,this.canvas=t,this.selectionHandler=r,this.interactionHandler=i,this.editMode=!1,this.manipulationDiv=void 0,this.editModeDiv=void 0,this.closeDiv=void 0,this._domEventListenerCleanupQueue=[],this.temporaryUIFunctions={},this.temporaryEventFunctions=[],this.touchTime=0,this.temporaryIds={nodes:[],edges:[]},this.guiEnabled=!1,this.inMode=!1,this.selectedControlNode=void 0,this.options={},this.defaultOptions={enabled:!1,initiallyActive:!1,addNode:!0,addEdge:!0,editNode:void 0,editEdge:!0,deleteNode:!0,deleteEdge:!0,controlNodeStyle:{shape:"dot",size:6,color:{background:"#ff0000",border:"#3c3c3c",highlight:{background:"#07f968",border:"#3c3c3c"}},borderWidth:2,borderWidthSelected:2}},Pe(this.options,this.defaultOptions),this.body.emitter.on("destroy",()=>{this._clean()}),this.body.emitter.on("_dataChanged",D(s=this._restore).call(s,this)),this.body.emitter.on("_resetData",D(o=this._restore).call(o,this))}_restore(){this.inMode!==!1&&(this.options.initiallyActive===!0?this.enableEditMode():this.disableEditMode())}setOptions(e,t,r){t!==void 0&&(t.locale!==void 0?this.options.locale=t.locale:this.options.locale=r.locale,t.locales!==void 0?this.options.locales=t.locales:this.options.locales=r.locales),e!==void 0&&(typeof e=="boolean"?this.options.enabled=e:(this.options.enabled=!0,fe(this.options,e)),this.options.initiallyActive===!0&&(this.editMode=!0),this._setup())}toggleEditMode(){this.editMode===!0?this.disableEditMode():this.enableEditMode()}enableEditMode(){this.editMode=!0,this._clean(),this.guiEnabled===!0&&(this.manipulationDiv.style.display="block",this.closeDiv.style.display="block",this.editModeDiv.style.display="none",this.showManipulatorToolbar())}disableEditMode(){this.editMode=!1,this._clean(),this.guiEnabled===!0&&(this.manipulationDiv.style.display="none",this.closeDiv.style.display="none",this.editModeDiv.style.display="block",this._createEditButton())}showManipulatorToolbar(){if(this._clean(),this.manipulationDOM={},this.guiEnabled===!0){var e,t;this.editMode=!0,this.manipulationDiv.style.display="block",this.closeDiv.style.display="block";const r=this.selectionHandler.getSelectedNodeCount(),i=this.selectionHandler.getSelectedEdgeCount(),s=r+i,o=this.options.locales[this.options.locale];let a=!1;this.options.addNode!==!1&&(this._createAddNodeButton(o),a=!0),this.options.addEdge!==!1&&(a===!0?this._createSeperator(1):a=!0,this._createAddEdgeButton(o)),r===1&&typeof this.options.editNode=="function"?(a===!0?this._createSeperator(2):a=!0,this._createEditNodeButton(o)):i===1&&r===0&&this.options.editEdge!==!1&&(a===!0?this._createSeperator(3):a=!0,this._createEditEdgeButton(o)),s!==0&&(r>0&&this.options.deleteNode!==!1?(a===!0&&this._createSeperator(4),this._createDeleteButton(o)):r===0&&this.options.deleteEdge!==!1&&(a===!0&&this._createSeperator(4),this._createDeleteButton(o))),this._bindElementEvents(this.closeDiv,D(e=this.toggleEditMode).call(e,this)),this._temporaryBindEvent("select",D(t=this.showManipulatorToolbar).call(t,this))}this.body.emitter.emit("_redraw")}addNodeMode(){var e;if(this.editMode!==!0&&this.enableEditMode(),this._clean(),this.inMode="addNode",this.guiEnabled===!0){var t;const r=this.options.locales[this.options.locale];this.manipulationDOM={},this._createBackButton(r),this._createSeperator(),this._createDescription(r.addDescription||this.options.locales.en.addDescription),this._bindElementEvents(this.closeDiv,D(t=this.toggleEditMode).call(t,this))}this._temporaryBindEvent("click",D(e=this._performAddNode).call(e,this))}editNode(){this.editMode!==!0&&this.enableEditMode(),this._clean();const e=this.selectionHandler.getSelectedNodes()[0];if(e!==void 0)if(this.inMode="editNode",typeof this.options.editNode=="function")if(e.isCluster!==!0){const t=fe({},e.options,!1);if(t.x=e.x,t.y=e.y,this.options.editNode.length===2)this.options.editNode(t,r=>{r!=null&&this.inMode==="editNode"&&this.body.data.nodes.getDataSet().update(r),this.showManipulatorToolbar()});else throw new Error("The function for edit does not support two arguments (data, callback)")}else alert(this.options.locales[this.options.locale].editClusterError||this.options.locales.en.editClusterError);else throw new Error("No function has been configured to handle the editing of nodes.");else this.showManipulatorToolbar()}addEdgeMode(){var e,t,r,i,s;if(this.editMode!==!0&&this.enableEditMode(),this._clean(),this.inMode="addEdge",this.guiEnabled===!0){var o;const a=this.options.locales[this.options.locale];this.manipulationDOM={},this._createBackButton(a),this._createSeperator(),this._createDescription(a.edgeDescription||this.options.locales.en.edgeDescription),this._bindElementEvents(this.closeDiv,D(o=this.toggleEditMode).call(o,this))}this._temporaryBindUI("onTouch",D(e=this._handleConnect).call(e,this)),this._temporaryBindUI("onDragEnd",D(t=this._finishConnect).call(t,this)),this._temporaryBindUI("onDrag",D(r=this._dragControlNode).call(r,this)),this._temporaryBindUI("onRelease",D(i=this._finishConnect).call(i,this)),this._temporaryBindUI("onDragStart",D(s=this._dragStartEdge).call(s,this)),this._temporaryBindUI("onHold",()=>{})}editEdgeMode(){if(this.editMode!==!0&&this.enableEditMode(),this._clean(),this.inMode="editEdge",typeof this.options.editEdge=="object"&&typeof this.options.editEdge.editWithoutDrag=="function"&&(this.edgeBeingEditedId=this.selectionHandler.getSelectedEdgeIds()[0],this.edgeBeingEditedId!==void 0)){const o=this.body.edges[this.edgeBeingEditedId];this._performEditEdge(o.from.id,o.to.id);return}if(this.guiEnabled===!0){var e;const o=this.options.locales[this.options.locale];this.manipulationDOM={},this._createBackButton(o),this._createSeperator(),this._createDescription(o.editEdgeDescription||this.options.locales.en.editEdgeDescription),this._bindElementEvents(this.closeDiv,D(e=this.toggleEditMode).call(e,this))}if(this.edgeBeingEditedId=this.selectionHandler.getSelectedEdgeIds()[0],this.edgeBeingEditedId!==void 0){var t,r,i,s;const o=this.body.edges[this.edgeBeingEditedId],a=this._getNewTargetNode(o.from.x,o.from.y),u=this._getNewTargetNode(o.to.x,o.to.y);this.temporaryIds.nodes.push(a.id),this.temporaryIds.nodes.push(u.id),this.body.nodes[a.id]=a,this.body.nodeIndices.push(a.id),this.body.nodes[u.id]=u,this.body.nodeIndices.push(u.id),this._temporaryBindUI("onTouch",D(t=this._controlNodeTouch).call(t,this)),this._temporaryBindUI("onTap",()=>{}),this._temporaryBindUI("onHold",()=>{}),this._temporaryBindUI("onDragStart",D(r=this._controlNodeDragStart).call(r,this)),this._temporaryBindUI("onDrag",D(i=this._controlNodeDrag).call(i,this)),this._temporaryBindUI("onDragEnd",D(s=this._controlNodeDragEnd).call(s,this)),this._temporaryBindUI("onMouseMove",()=>{}),this._temporaryBindEvent("beforeDrawing",l=>{const d=o.edgeType.findBorderPositions(l);a.selected===!1&&(a.x=d.from.x,a.y=d.from.y),u.selected===!1&&(u.x=d.to.x,u.y=d.to.y)}),this.body.emitter.emit("_redraw")}else this.showManipulatorToolbar()}deleteSelected(){this.editMode!==!0&&this.enableEditMode(),this._clean(),this.inMode="delete";const e=this.selectionHandler.getSelectedNodeIds(),t=this.selectionHandler.getSelectedEdgeIds();let r;if(e.length>0){for(let i=0;i<e.length;i++)if(this.body.nodes[e[i]].isCluster===!0){alert(this.options.locales[this.options.locale].deleteClusterError||this.options.locales.en.deleteClusterError);return}typeof this.options.deleteNode=="function"&&(r=this.options.deleteNode)}else t.length>0&&typeof this.options.deleteEdge=="function"&&(r=this.options.deleteEdge);if(typeof r=="function"){const i={nodes:e,edges:t};if(r.length===2)r(i,s=>{s!=null&&this.inMode==="delete"?(this.body.data.edges.getDataSet().remove(s.edges),this.body.data.nodes.getDataSet().remove(s.nodes),this.body.emitter.emit("startSimulation"),this.showManipulatorToolbar()):(this.body.emitter.emit("startSimulation"),this.showManipulatorToolbar())});else throw new Error("The function for delete does not support two arguments (data, callback)")}else this.body.data.edges.getDataSet().remove(t),this.body.data.nodes.getDataSet().remove(e),this.body.emitter.emit("startSimulation"),this.showManipulatorToolbar()}_setup(){this.options.enabled===!0?(this.guiEnabled=!0,this._createWrappers(),this.editMode===!1?this._createEditButton():this.showManipulatorToolbar()):(this._removeManipulationDOM(),this.guiEnabled=!1)}_createWrappers(){if(this.manipulationDiv===void 0&&(this.manipulationDiv=document.createElement("div"),this.manipulationDiv.className="vis-manipulation",this.editMode===!0?this.manipulationDiv.style.display="block":this.manipulationDiv.style.display="none",this.canvas.frame.appendChild(this.manipulationDiv)),this.editModeDiv===void 0&&(this.editModeDiv=document.createElement("div"),this.editModeDiv.className="vis-edit-mode",this.editMode===!0?this.editModeDiv.style.display="none":this.editModeDiv.style.display="block",this.canvas.frame.appendChild(this.editModeDiv)),this.closeDiv===void 0){var e,t;this.closeDiv=document.createElement("button"),this.closeDiv.className="vis-close",this.closeDiv.setAttribute("aria-label",(e=(t=this.options.locales[this.options.locale])===null||t===void 0?void 0:t.close)!==null&&e!==void 0?e:this.options.locales.en.close),this.closeDiv.style.display=this.manipulationDiv.style.display,this.canvas.frame.appendChild(this.closeDiv)}}_getNewTargetNode(e,t){const r=fe({},this.options.controlNodeStyle);r.id="targetNode"+xn(),r.hidden=!1,r.physics=!1,r.x=e,r.y=t;const i=this.body.functions.createNode(r);return i.shape.boundingBox={left:e,right:e,top:t,bottom:t},i}_createEditButton(){var e;this._clean(),this.manipulationDOM={},ir(this.editModeDiv);const t=this.options.locales[this.options.locale],r=this._createButton("editMode","vis-edit vis-edit-mode",t.edit||this.options.locales.en.edit);this.editModeDiv.appendChild(r),this._bindElementEvents(r,D(e=this.toggleEditMode).call(e,this))}_clean(){this.inMode=!1,this.guiEnabled===!0&&(ir(this.editModeDiv),ir(this.manipulationDiv),this._cleanupDOMEventListeners()),this._cleanupTemporaryNodesAndEdges(),this._unbindTemporaryUIs(),this._unbindTemporaryEvents(),this.body.emitter.emit("restorePhysics")}_cleanupDOMEventListeners(){for(const t of Vt(e=this._domEventListenerCleanupQueue).call(e,0)){var e;t()}}_removeManipulationDOM(){this._clean(),ir(this.manipulationDiv),ir(this.editModeDiv),ir(this.closeDiv),this.manipulationDiv&&this.canvas.frame.removeChild(this.manipulationDiv),this.editModeDiv&&this.canvas.frame.removeChild(this.editModeDiv),this.closeDiv&&this.canvas.frame.removeChild(this.closeDiv),this.manipulationDiv=void 0,this.editModeDiv=void 0,this.closeDiv=void 0}_createSeperator(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1;this.manipulationDOM["seperatorLineDiv"+e]=document.createElement("div"),this.manipulationDOM["seperatorLineDiv"+e].className="vis-separator-line",this.manipulationDiv.appendChild(this.manipulationDOM["seperatorLineDiv"+e])}_createAddNodeButton(e){var t;const r=this._createButton("addNode","vis-add",e.addNode||this.options.locales.en.addNode);this.manipulationDiv.appendChild(r),this._bindElementEvents(r,D(t=this.addNodeMode).call(t,this))}_createAddEdgeButton(e){var t;const r=this._createButton("addEdge","vis-connect",e.addEdge||this.options.locales.en.addEdge);this.manipulationDiv.appendChild(r),this._bindElementEvents(r,D(t=this.addEdgeMode).call(t,this))}_createEditNodeButton(e){var t;const r=this._createButton("editNode","vis-edit",e.editNode||this.options.locales.en.editNode);this.manipulationDiv.appendChild(r),this._bindElementEvents(r,D(t=this.editNode).call(t,this))}_createEditEdgeButton(e){var t;const r=this._createButton("editEdge","vis-edit",e.editEdge||this.options.locales.en.editEdge);this.manipulationDiv.appendChild(r),this._bindElementEvents(r,D(t=this.editEdgeMode).call(t,this))}_createDeleteButton(e){var t;let r;this.options.rtl?r="vis-delete-rtl":r="vis-delete";const i=this._createButton("delete",r,e.del||this.options.locales.en.del);this.manipulationDiv.appendChild(i),this._bindElementEvents(i,D(t=this.deleteSelected).call(t,this))}_createBackButton(e){var t;const r=this._createButton("back","vis-back",e.back||this.options.locales.en.back);this.manipulationDiv.appendChild(r),this._bindElementEvents(r,D(t=this.showManipulatorToolbar).call(t,this))}_createButton(e,t,r){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"vis-label";return this.manipulationDOM[e+"Div"]=document.createElement("button"),this.manipulationDOM[e+"Div"].className="vis-button "+t,this.manipulationDOM[e+"Label"]=document.createElement("div"),this.manipulationDOM[e+"Label"].className=i,this.manipulationDOM[e+"Label"].innerText=r,this.manipulationDOM[e+"Div"].appendChild(this.manipulationDOM[e+"Label"]),this.manipulationDOM[e+"Div"]}_createDescription(e){this.manipulationDOM.descriptionLabel=document.createElement("div"),this.manipulationDOM.descriptionLabel.className="vis-none",this.manipulationDOM.descriptionLabel.innerText=e,this.manipulationDiv.appendChild(this.manipulationDOM.descriptionLabel)}_temporaryBindEvent(e,t){this.temporaryEventFunctions.push({event:e,boundFunction:t}),this.body.emitter.on(e,t)}_temporaryBindUI(e,t){if(this.body.eventListeners[e]!==void 0)this.temporaryUIFunctions[e]=this.body.eventListeners[e],this.body.eventListeners[e]=t;else throw new Error("This UI function does not exist. Typo? You tried: "+e+" possible are: "+ms(Se(this.body.eventListeners)))}_unbindTemporaryUIs(){for(const e in this.temporaryUIFunctions)Object.prototype.hasOwnProperty.call(this.temporaryUIFunctions,e)&&(this.body.eventListeners[e]=this.temporaryUIFunctions[e],delete this.temporaryUIFunctions[e]);this.temporaryUIFunctions={}}_unbindTemporaryEvents(){for(let e=0;e<this.temporaryEventFunctions.length;e++){const t=this.temporaryEventFunctions[e].event,r=this.temporaryEventFunctions[e].boundFunction;this.body.emitter.off(t,r)}this.temporaryEventFunctions=[]}_bindElementEvents(e,t){const r=new $i(e,{});Js(r,t),this._domEventListenerCleanupQueue.push(()=>{r.destroy()});const i=s=>{let{keyCode:o,key:a}=s;(a==="Enter"||a===" "||o===13||o===32)&&t()};e.addEventListener("keyup",i,!1),this._domEventListenerCleanupQueue.push(()=>{e.removeEventListener("keyup",i,!1)})}_cleanupTemporaryNodesAndEdges(){for(let s=0;s<this.temporaryIds.edges.length;s++){var e;this.body.edges[this.temporaryIds.edges[s]].disconnect(),delete this.body.edges[this.temporaryIds.edges[s]];const o=se(e=this.body.edgeIndices).call(e,this.temporaryIds.edges[s]);if(o!==-1){var t;Vt(t=this.body.edgeIndices).call(t,o,1)}}for(let s=0;s<this.temporaryIds.nodes.length;s++){var r;delete this.body.nodes[this.temporaryIds.nodes[s]];const o=se(r=this.body.nodeIndices).call(r,this.temporaryIds.nodes[s]);if(o!==-1){var i;Vt(i=this.body.nodeIndices).call(i,o,1)}}this.temporaryIds={nodes:[],edges:[]}}_controlNodeTouch(e){this.selectionHandler.unselectAll(),this.lastTouch=this.body.functions.getPointer(e.center),this.lastTouch.translation=Pe({},this.body.view.translation)}_controlNodeDragStart(){const e=this.lastTouch,t=this.selectionHandler._pointerToPositionObject(e),r=this.body.nodes[this.temporaryIds.nodes[0]],i=this.body.nodes[this.temporaryIds.nodes[1]],s=this.body.edges[this.edgeBeingEditedId];this.selectedControlNode=void 0;const o=r.isOverlappingWith(t),a=i.isOverlappingWith(t);o===!0?(this.selectedControlNode=r,s.edgeType.from=r):a===!0&&(this.selectedControlNode=i,s.edgeType.to=i),this.selectedControlNode!==void 0&&this.selectionHandler.selectObject(this.selectedControlNode),this.body.emitter.emit("_redraw")}_controlNodeDrag(e){this.body.emitter.emit("disablePhysics");const t=this.body.functions.getPointer(e.center),r=this.canvas.DOMtoCanvas(t);this.selectedControlNode!==void 0?(this.selectedControlNode.x=r.x,this.selectedControlNode.y=r.y):this.interactionHandler.onDrag(e),this.body.emitter.emit("_redraw")}_controlNodeDragEnd(e){const t=this.body.functions.getPointer(e.center),r=this.selectionHandler._pointerToPositionObject(t),i=this.body.edges[this.edgeBeingEditedId];if(this.selectedControlNode===void 0)return;this.selectionHandler.unselectAll();const s=this.selectionHandler._getAllNodesOverlappingWith(r);let o;for(let a=s.length-1;a>=0;a--)if(s[a]!==this.selectedControlNode.id){o=this.body.nodes[s[a]];break}if(o!==void 0&&this.selectedControlNode!==void 0)if(o.isCluster===!0)alert(this.options.locales[this.options.locale].createEdgeError||this.options.locales.en.createEdgeError);else{const a=this.body.nodes[this.temporaryIds.nodes[0]];this.selectedControlNode.id===a.id?this._performEditEdge(o.id,i.to.id):this._performEditEdge(i.from.id,o.id)}else i.updateEdgeType(),this.body.emitter.emit("restorePhysics");this.body.emitter.emit("_redraw")}_handleConnect(e){if(new Date().valueOf()-this.touchTime>100){this.lastTouch=this.body.functions.getPointer(e.center),this.lastTouch.translation=Pe({},this.body.view.translation),this.interactionHandler.drag.pointer=this.lastTouch,this.interactionHandler.drag.translation=this.lastTouch.translation;const t=this.lastTouch,r=this.selectionHandler.getNodeAt(t);if(r!==void 0)if(r.isCluster===!0)alert(this.options.locales[this.options.locale].createEdgeError||this.options.locales.en.createEdgeError);else{const i=this._getNewTargetNode(r.x,r.y);this.body.nodes[i.id]=i,this.body.nodeIndices.push(i.id);const s=this.body.functions.createEdge({id:"connectionEdge"+xn(),from:r.id,to:i.id,physics:!1,smooth:{enabled:!0,type:"continuous",roundness:.5}});this.body.edges[s.id]=s,this.body.edgeIndices.push(s.id),this.temporaryIds.nodes.push(i.id),this.temporaryIds.edges.push(s.id)}this.touchTime=new Date().valueOf()}}_dragControlNode(e){const t=this.body.functions.getPointer(e.center),r=this.selectionHandler._pointerToPositionObject(t);let i;this.temporaryIds.edges[0]!==void 0&&(i=this.body.edges[this.temporaryIds.edges[0]].fromId);const s=this.selectionHandler._getAllNodesOverlappingWith(r);let o;for(let u=s.length-1;u>=0;u--){var a;if(se(a=this.temporaryIds.nodes).call(a,s[u])===-1){o=this.body.nodes[s[u]];break}}if(e.controlEdge={from:i,to:o?o.id:void 0},this.selectionHandler.generateClickEvent("controlNodeDragging",e,t),this.temporaryIds.nodes[0]!==void 0){const u=this.body.nodes[this.temporaryIds.nodes[0]];u.x=this.canvas._XconvertDOMtoCanvas(t.x),u.y=this.canvas._YconvertDOMtoCanvas(t.y),this.body.emitter.emit("_redraw")}else this.interactionHandler.onDrag(e)}_finishConnect(e){const t=this.body.functions.getPointer(e.center),r=this.selectionHandler._pointerToPositionObject(t);let i;this.temporaryIds.edges[0]!==void 0&&(i=this.body.edges[this.temporaryIds.edges[0]].fromId);const s=this.selectionHandler._getAllNodesOverlappingWith(r);let o;for(let u=s.length-1;u>=0;u--){var a;if(se(a=this.temporaryIds.nodes).call(a,s[u])===-1){o=this.body.nodes[s[u]];break}}this._cleanupTemporaryNodesAndEdges(),o!==void 0&&(o.isCluster===!0?alert(this.options.locales[this.options.locale].createEdgeError||this.options.locales.en.createEdgeError):this.body.nodes[i]!==void 0&&this.body.nodes[o.id]!==void 0&&this._performAddEdge(i,o.id)),e.controlEdge={from:i,to:o?o.id:void 0},this.selectionHandler.generateClickEvent("controlNodeDragEnd",e,t),this.body.emitter.emit("_redraw")}_dragStartEdge(e){const t=this.lastTouch;this.selectionHandler.generateClickEvent("dragStart",e,t,void 0,!0)}_performAddNode(e){const t={id:xn(),x:e.pointer.canvas.x,y:e.pointer.canvas.y,label:"new"};if(typeof this.options.addNode=="function")if(this.options.addNode.length===2)this.options.addNode(t,r=>{r!=null&&this.inMode==="addNode"&&this.body.data.nodes.getDataSet().add(r),this.showManipulatorToolbar()});else throw this.showManipulatorToolbar(),new Error("The function for add does not support two arguments (data,callback)");else this.body.data.nodes.getDataSet().add(t),this.showManipulatorToolbar()}_performAddEdge(e,t){const r={from:e,to:t};if(typeof this.options.addEdge=="function")if(this.options.addEdge.length===2)this.options.addEdge(r,i=>{i!=null&&this.inMode==="addEdge"&&(this.body.data.edges.getDataSet().add(i),this.selectionHandler.unselectAll(),this.showManipulatorToolbar())});else throw new Error("The function for connect does not support two arguments (data,callback)");else this.body.data.edges.getDataSet().add(r),this.selectionHandler.unselectAll(),this.showManipulatorToolbar()}_performEditEdge(e,t){const r={id:this.edgeBeingEditedId,from:e,to:t,label:this.body.data.edges.get(this.edgeBeingEditedId).label};let i=this.options.editEdge;if(typeof i=="object"&&(i=i.editWithoutDrag),typeof i=="function")if(i.length===2)i(r,s=>{s==null||this.inMode!=="editEdge"?(this.body.edges[r.id].updateEdgeType(),this.body.emitter.emit("_redraw"),this.showManipulatorToolbar()):(this.body.data.edges.getDataSet().update(s),this.selectionHandler.unselectAll(),this.showManipulatorToolbar())});else throw new Error("The function for edit does not support two arguments (data, callback)");else this.body.data.edges.getDataSet().update(r),this.selectionHandler.unselectAll(),this.showManipulatorToolbar()}}const M="string",x="boolean",q="number",$n="array",j="object",t2="dom",r9="any",dm=["arrow","bar","box","circle","crow","curve","diamond","image","inv_curve","inv_triangle","triangle","vee"],cm={borderWidth:{number:q},borderWidthSelected:{number:q,undefined:"undefined"},brokenImage:{string:M,undefined:"undefined"},chosen:{label:{boolean:x,function:"function"},node:{boolean:x,function:"function"},__type__:{object:j,boolean:x}},color:{border:{string:M},background:{string:M},highlight:{border:{string:M},background:{string:M},__type__:{object:j,string:M}},hover:{border:{string:M},background:{string:M},__type__:{object:j,string:M}},__type__:{object:j,string:M}},opacity:{number:q,undefined:"undefined"},fixed:{x:{boolean:x},y:{boolean:x},__type__:{object:j,boolean:x}},font:{align:{string:M},color:{string:M},size:{number:q},face:{string:M},background:{string:M},strokeWidth:{number:q},strokeColor:{string:M},vadjust:{number:q},multi:{boolean:x,string:M},bold:{color:{string:M},size:{number:q},face:{string:M},mod:{string:M},vadjust:{number:q},__type__:{object:j,string:M}},boldital:{color:{string:M},size:{number:q},face:{string:M},mod:{string:M},vadjust:{number:q},__type__:{object:j,string:M}},ital:{color:{string:M},size:{number:q},face:{string:M},mod:{string:M},vadjust:{number:q},__type__:{object:j,string:M}},mono:{color:{string:M},size:{number:q},face:{string:M},mod:{string:M},vadjust:{number:q},__type__:{object:j,string:M}},__type__:{object:j,string:M}},group:{string:M,number:q,undefined:"undefined"},heightConstraint:{minimum:{number:q},valign:{string:M},__type__:{object:j,boolean:x,number:q}},hidden:{boolean:x},icon:{face:{string:M},code:{string:M},size:{number:q},color:{string:M},weight:{string:M,number:q},__type__:{object:j}},id:{string:M,number:q},image:{selected:{string:M,undefined:"undefined"},unselected:{string:M,undefined:"undefined"},__type__:{object:j,string:M}},imagePadding:{top:{number:q},right:{number:q},bottom:{number:q},left:{number:q},__type__:{object:j,number:q}},label:{string:M,undefined:"undefined"},labelHighlightBold:{boolean:x},level:{number:q,undefined:"undefined"},margin:{top:{number:q},right:{number:q},bottom:{number:q},left:{number:q},__type__:{object:j,number:q}},mass:{number:q},physics:{boolean:x},scaling:{min:{number:q},max:{number:q},label:{enabled:{boolean:x},min:{number:q},max:{number:q},maxVisible:{number:q},drawThreshold:{number:q},__type__:{object:j,boolean:x}},customScalingFunction:{function:"function"},__type__:{object:j}},shadow:{enabled:{boolean:x},color:{string:M},size:{number:q},x:{number:q},y:{number:q},__type__:{object:j,boolean:x}},shape:{string:["custom","ellipse","circle","database","box","text","image","circularImage","diamond","dot","star","triangle","triangleDown","square","icon","hexagon"]},ctxRenderer:{function:"function"},shapeProperties:{borderDashes:{boolean:x,array:$n},borderRadius:{number:q},interpolation:{boolean:x},useImageSize:{boolean:x},useBorderWithImage:{boolean:x},coordinateOrigin:{string:["center","top-left"]},__type__:{object:j}},size:{number:q},title:{string:M,dom:t2,undefined:"undefined"},value:{number:q,undefined:"undefined"},widthConstraint:{minimum:{number:q},maximum:{number:q},__type__:{object:j,boolean:x,number:q}},x:{number:q},y:{number:q},__type__:{object:j}},i9={configure:{enabled:{boolean:x},filter:{boolean:x,string:M,array:$n,function:"function"},container:{dom:t2},showButton:{boolean:x},__type__:{object:j,boolean:x,string:M,array:$n,function:"function"}},edges:{arrows:{to:{enabled:{boolean:x},scaleFactor:{number:q},type:{string:dm},imageHeight:{number:q},imageWidth:{number:q},src:{string:M},__type__:{object:j,boolean:x}},middle:{enabled:{boolean:x},scaleFactor:{number:q},type:{string:dm},imageWidth:{number:q},imageHeight:{number:q},src:{string:M},__type__:{object:j,boolean:x}},from:{enabled:{boolean:x},scaleFactor:{number:q},type:{string:dm},imageWidth:{number:q},imageHeight:{number:q},src:{string:M},__type__:{object:j,boolean:x}},__type__:{string:["from","to","middle"],object:j}},endPointOffset:{from:{number:q},to:{number:q},__type__:{object:j,number:q}},arrowStrikethrough:{boolean:x},background:{enabled:{boolean:x},color:{string:M},size:{number:q},dashes:{boolean:x,array:$n},__type__:{object:j,boolean:x}},chosen:{label:{boolean:x,function:"function"},edge:{boolean:x,function:"function"},__type__:{object:j,boolean:x}},color:{color:{string:M},highlight:{string:M},hover:{string:M},inherit:{string:["from","to","both"],boolean:x},opacity:{number:q},__type__:{object:j,string:M}},dashes:{boolean:x,array:$n},font:{color:{string:M},size:{number:q},face:{string:M},background:{string:M},strokeWidth:{number:q},strokeColor:{string:M},align:{string:["horizontal","top","middle","bottom"]},vadjust:{number:q},multi:{boolean:x,string:M},bold:{color:{string:M},size:{number:q},face:{string:M},mod:{string:M},vadjust:{number:q},__type__:{object:j,string:M}},boldital:{color:{string:M},size:{number:q},face:{string:M},mod:{string:M},vadjust:{number:q},__type__:{object:j,string:M}},ital:{color:{string:M},size:{number:q},face:{string:M},mod:{string:M},vadjust:{number:q},__type__:{object:j,string:M}},mono:{color:{string:M},size:{number:q},face:{string:M},mod:{string:M},vadjust:{number:q},__type__:{object:j,string:M}},__type__:{object:j,string:M}},hidden:{boolean:x},hoverWidth:{function:"function",number:q},label:{string:M,undefined:"undefined"},labelHighlightBold:{boolean:x},length:{number:q,undefined:"undefined"},physics:{boolean:x},scaling:{min:{number:q},max:{number:q},label:{enabled:{boolean:x},min:{number:q},max:{number:q},maxVisible:{number:q},drawThreshold:{number:q},__type__:{object:j,boolean:x}},customScalingFunction:{function:"function"},__type__:{object:j}},selectionWidth:{function:"function",number:q},selfReferenceSize:{number:q},selfReference:{size:{number:q},angle:{number:q},renderBehindTheNode:{boolean:x},__type__:{object:j}},shadow:{enabled:{boolean:x},color:{string:M},size:{number:q},x:{number:q},y:{number:q},__type__:{object:j,boolean:x}},smooth:{enabled:{boolean:x},type:{string:["dynamic","continuous","discrete","diagonalCross","straightCross","horizontal","vertical","curvedCW","curvedCCW","cubicBezier"]},roundness:{number:q},forceDirection:{string:["horizontal","vertical","none"],boolean:x},__type__:{object:j,boolean:x}},title:{string:M,undefined:"undefined"},width:{number:q},widthConstraint:{maximum:{number:q},__type__:{object:j,boolean:x,number:q}},value:{number:q,undefined:"undefined"},__type__:{object:j}},groups:{useDefaultGroups:{boolean:x},__any__:cm,__type__:{object:j}},interaction:{dragNodes:{boolean:x},dragView:{boolean:x},hideEdgesOnDrag:{boolean:x},hideEdgesOnZoom:{boolean:x},hideNodesOnDrag:{boolean:x},hover:{boolean:x},keyboard:{enabled:{boolean:x},speed:{x:{number:q},y:{number:q},zoom:{number:q},__type__:{object:j}},bindToWindow:{boolean:x},autoFocus:{boolean:x},__type__:{object:j,boolean:x}},multiselect:{boolean:x},navigationButtons:{boolean:x},selectable:{boolean:x},selectConnectedEdges:{boolean:x},hoverConnectedEdges:{boolean:x},tooltipDelay:{number:q},zoomView:{boolean:x},zoomSpeed:{number:q},__type__:{object:j}},layout:{randomSeed:{undefined:"undefined",number:q,string:M},improvedLayout:{boolean:x},clusterThreshold:{number:q},hierarchical:{enabled:{boolean:x},levelSeparation:{number:q},nodeSpacing:{number:q},treeSpacing:{number:q},blockShifting:{boolean:x},edgeMinimization:{boolean:x},parentCentralization:{boolean:x},direction:{string:["UD","DU","LR","RL"]},sortMethod:{string:["hubsize","directed"]},shakeTowards:{string:["leaves","roots"]},__type__:{object:j,boolean:x}},__type__:{object:j}},manipulation:{enabled:{boolean:x},initiallyActive:{boolean:x},addNode:{boolean:x,function:"function"},addEdge:{boolean:x,function:"function"},editNode:{function:"function"},editEdge:{editWithoutDrag:{function:"function"},__type__:{object:j,boolean:x,function:"function"}},deleteNode:{boolean:x,function:"function"},deleteEdge:{boolean:x,function:"function"},controlNodeStyle:cm,__type__:{object:j,boolean:x}},nodes:cm,physics:{enabled:{boolean:x},barnesHut:{theta:{number:q},gravitationalConstant:{number:q},centralGravity:{number:q},springLength:{number:q},springConstant:{number:q},damping:{number:q},avoidOverlap:{number:q},__type__:{object:j}},forceAtlas2Based:{theta:{number:q},gravitationalConstant:{number:q},centralGravity:{number:q},springLength:{number:q},springConstant:{number:q},damping:{number:q},avoidOverlap:{number:q},__type__:{object:j}},repulsion:{centralGravity:{number:q},springLength:{number:q},springConstant:{number:q},nodeDistance:{number:q},damping:{number:q},__type__:{object:j}},hierarchicalRepulsion:{centralGravity:{number:q},springLength:{number:q},springConstant:{number:q},nodeDistance:{number:q},damping:{number:q},avoidOverlap:{number:q},__type__:{object:j}},maxVelocity:{number:q},minVelocity:{number:q},solver:{string:["barnesHut","repulsion","hierarchicalRepulsion","forceAtlas2Based"]},stabilization:{enabled:{boolean:x},iterations:{number:q},updateInterval:{number:q},onlyDynamicEdges:{boolean:x},fit:{boolean:x},__type__:{object:j,boolean:x}},timestep:{number:q},adaptiveTimestep:{boolean:x},wind:{x:{number:q},y:{number:q},__type__:{object:j}},__type__:{object:j,boolean:x}},autoResize:{boolean:x},clickToUse:{boolean:x},locale:{string:M},locales:{__any__:{any:r9},__type__:{object:j}},height:{string:M},width:{string:M},__type__:{object:j}},r2={nodes:{borderWidth:[1,0,10,1],borderWidthSelected:[2,0,10,1],color:{border:["color","#2B7CE9"],background:["color","#97C2FC"],highlight:{border:["color","#2B7CE9"],background:["color","#D2E5FF"]},hover:{border:["color","#2B7CE9"],background:["color","#D2E5FF"]}},opacity:[0,0,1,.1],fixed:{x:!1,y:!1},font:{color:["color","#343434"],size:[14,0,100,1],face:["arial","verdana","tahoma"],background:["color","none"],strokeWidth:[0,0,50,1],strokeColor:["color","#ffffff"]},hidden:!1,labelHighlightBold:!0,physics:!0,scaling:{min:[10,0,200,1],max:[30,0,200,1],label:{enabled:!1,min:[14,0,200,1],max:[30,0,200,1],maxVisible:[30,0,200,1],drawThreshold:[5,0,20,1]}},shadow:{enabled:!1,color:"rgba(0,0,0,0.5)",size:[10,0,20,1],x:[5,-30,30,1],y:[5,-30,30,1]},shape:["ellipse","box","circle","database","diamond","dot","square","star","text","triangle","triangleDown","hexagon"],shapeProperties:{borderDashes:!1,borderRadius:[6,0,20,1],interpolation:!0,useImageSize:!1},size:[25,0,200,1]},edges:{arrows:{to:{enabled:!1,scaleFactor:[1,0,3,.05],type:"arrow"},middle:{enabled:!1,scaleFactor:[1,0,3,.05],type:"arrow"},from:{enabled:!1,scaleFactor:[1,0,3,.05],type:"arrow"}},endPointOffset:{from:[0,-10,10,1],to:[0,-10,10,1]},arrowStrikethrough:!0,color:{color:["color","#848484"],highlight:["color","#848484"],hover:["color","#848484"],inherit:["from","to","both",!0,!1],opacity:[1,0,1,.05]},dashes:!1,font:{color:["color","#343434"],size:[14,0,100,1],face:["arial","verdana","tahoma"],background:["color","none"],strokeWidth:[2,0,50,1],strokeColor:["color","#ffffff"],align:["horizontal","top","middle","bottom"]},hidden:!1,hoverWidth:[1.5,0,5,.1],labelHighlightBold:!0,physics:!0,scaling:{min:[1,0,100,1],max:[15,0,100,1],label:{enabled:!0,min:[14,0,200,1],max:[30,0,200,1],maxVisible:[30,0,200,1],drawThreshold:[5,0,20,1]}},selectionWidth:[1.5,0,5,.1],selfReferenceSize:[20,0,200,1],selfReference:{size:[20,0,200,1],angle:[Math.PI/2,-6*Math.PI,6*Math.PI,Math.PI/8],renderBehindTheNode:!0},shadow:{enabled:!1,color:"rgba(0,0,0,0.5)",size:[10,0,20,1],x:[5,-30,30,1],y:[5,-30,30,1]},smooth:{enabled:!0,type:["dynamic","continuous","discrete","diagonalCross","straightCross","horizontal","vertical","curvedCW","curvedCCW","cubicBezier"],forceDirection:["horizontal","vertical","none"],roundness:[.5,0,1,.05]},width:[1,0,30,1]},layout:{hierarchical:{enabled:!1,levelSeparation:[150,20,500,5],nodeSpacing:[100,20,500,5],treeSpacing:[200,20,500,5],blockShifting:!0,edgeMinimization:!0,parentCentralization:!0,direction:["UD","DU","LR","RL"],sortMethod:["hubsize","directed"],shakeTowards:["leaves","roots"]}},interaction:{dragNodes:!0,dragView:!0,hideEdgesOnDrag:!1,hideEdgesOnZoom:!1,hideNodesOnDrag:!1,hover:!1,keyboard:{enabled:!1,speed:{x:[10,0,40,1],y:[10,0,40,1],zoom:[.02,0,.1,.005]},bindToWindow:!0,autoFocus:!0},multiselect:!1,navigationButtons:!1,selectable:!0,selectConnectedEdges:!0,hoverConnectedEdges:!0,tooltipDelay:[300,0,1e3,25],zoomView:!0,zoomSpeed:[1,.1,2,.1]},manipulation:{enabled:!1,initiallyActive:!1},physics:{enabled:!0,barnesHut:{theta:[.5,.1,1,.05],gravitationalConstant:[-2e3,-3e4,0,50],centralGravity:[.3,0,10,.05],springLength:[95,0,500,5],springConstant:[.04,0,1.2,.005],damping:[.09,0,1,.01],avoidOverlap:[0,0,1,.01]},forceAtlas2Based:{theta:[.5,.1,1,.05],gravitationalConstant:[-50,-500,0,1],centralGravity:[.01,0,1,.005],springLength:[95,0,500,5],springConstant:[.08,0,1.2,.005],damping:[.4,0,1,.01],avoidOverlap:[0,0,1,.01]},repulsion:{centralGravity:[.2,0,10,.05],springLength:[200,0,500,5],springConstant:[.05,0,1.2,.005],nodeDistance:[100,0,500,5],damping:[.09,0,1,.01]},hierarchicalRepulsion:{centralGravity:[.2,0,10,.05],springLength:[100,0,500,5],springConstant:[.01,0,1.2,.005],nodeDistance:[120,0,500,5],damping:[.09,0,1,.01],avoidOverlap:[0,0,1,.01]},maxVelocity:[50,0,150,1],minVelocity:[.1,.01,.5,.01],solver:["barnesHut","forceAtlas2Based","repulsion","hierarchicalRepulsion"],timestep:[.5,.01,1,.01],wind:{x:[0,-10,10,.1],y:[0,-10,10,.1]}}},n9=(n,e,t)=>{var r;return!!(lr(n).call(n,"physics")&&lr(r=r2.physics.solver).call(r,e)&&t.physics.solver!==e&&e!=="wind")};class s9{constructor(){}getDistances(e,t,r){const i={},s=e.edges;for(let a=0;a<t.length;a++){const u=t[a],l={};i[u]=l;for(let d=0;d<t.length;d++)l[t[d]]=a==d?0:1e9}for(let a=0;a<r.length;a++){const u=s[r[a]];u.connected===!0&&i[u.fromId]!==void 0&&i[u.toId]!==void 0&&(i[u.fromId][u.toId]=1,i[u.toId][u.fromId]=1)}const o=t.length;for(let a=0;a<o;a++){const u=t[a],l=i[u];for(let d=0;d<o-1;d++){const c=t[d],h=i[c];for(let f=d+1;f<o;f++){const v=t[f],p=i[v],m=Math.min(h[v],h[u]+l[v]);h[v]=m,p[c]=m}}}return i}}class o9{constructor(e,t,r){this.body=e,this.springLength=t,this.springConstant=r,this.distanceSolver=new s9}setOptions(e){e&&(e.springLength&&(this.springLength=e.springLength),e.springConstant&&(this.springConstant=e.springConstant))}solve(e,t){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;const i=this.distanceSolver.getDistances(this.body,e,t);this._createL_matrix(i),this._createK_matrix(i),this._createE_matrix();const s=.01,o=1;let a=0;const u=Math.max(1e3,Math.min(10*this.body.nodeIndices.length,6e3)),l=5;let d=1e9,c=0,h=0,f=0,v=0,p=0;for(;d>s&&a<u;)for(a+=1,[c,d,h,f]=this._getHighestEnergyNode(r),v=d,p=0;v>o&&p<l;)p+=1,this._moveNode(c,h,f),[v,h,f]=this._getEnergy(c)}_getHighestEnergyNode(e){const t=this.body.nodeIndices,r=this.body.nodes;let i=0,s=t[0],o=0,a=0;for(let u=0;u<t.length;u++){const l=t[u];if(r[l].predefinedPosition!==!0||r[l].isCluster===!0&&e===!0||r[l].options.fixed.x!==!0||r[l].options.fixed.y!==!0){const[d,c,h]=this._getEnergy(l);i<d&&(i=d,s=l,o=c,a=h)}}return[s,i,o,a]}_getEnergy(e){const[t,r]=this.E_sums[e];return[Math.sqrt(t**2+r**2),t,r]}_moveNode(e,t,r){const i=this.body.nodeIndices,s=this.body.nodes;let o=0,a=0,u=0;const l=s[e].x,d=s[e].y,c=this.K_matrix[e],h=this.L_matrix[e];for(let b=0;b<i.length;b++){const w=i[b];if(w!==e){const O=s[w].x,I=s[w].y,_=c[w],S=h[w],$=1/((l-O)**2+(d-I)**2)**1.5;o+=_*(1-S*(d-I)**2*$),a+=_*(S*(l-O)*(d-I)*$),u+=_*(1-S*(l-O)**2*$)}}const f=o,v=a,p=t,m=u,y=r,g=(p/f+y/v)/(v/f-m/v),E=-(v*g+p)/f;s[e].x+=E,s[e].y+=g,this._updateE_matrix(e)}_createL_matrix(e){const t=this.body.nodeIndices,r=this.springLength;this.L_matrix=[];for(let i=0;i<t.length;i++){this.L_matrix[t[i]]={};for(let s=0;s<t.length;s++)this.L_matrix[t[i]][t[s]]=r*e[t[i]][t[s]]}}_createK_matrix(e){const t=this.body.nodeIndices,r=this.springConstant;this.K_matrix=[];for(let i=0;i<t.length;i++){this.K_matrix[t[i]]={};for(let s=0;s<t.length;s++)this.K_matrix[t[i]][t[s]]=r*e[t[i]][t[s]]**-2}}_createE_matrix(){const e=this.body.nodeIndices,t=this.body.nodes;this.E_matrix={},this.E_sums={};for(let r=0;r<e.length;r++)this.E_matrix[e[r]]=[];for(let r=0;r<e.length;r++){const i=e[r],s=t[i].x,o=t[i].y;let a=0,u=0;for(let l=r;l<e.length;l++){const d=e[l];if(d!==i){const c=t[d].x,h=t[d].y,f=1/Math.sqrt((s-c)**2+(o-h)**2);this.E_matrix[i][l]=[this.K_matrix[i][d]*(s-c-this.L_matrix[i][d]*(s-c)*f),this.K_matrix[i][d]*(o-h-this.L_matrix[i][d]*(o-h)*f)],this.E_matrix[d][r]=this.E_matrix[i][l],a+=this.E_matrix[i][l][0],u+=this.E_matrix[i][l][1]}}this.E_sums[i]=[a,u]}}_updateE_matrix(e){const t=this.body.nodeIndices,r=this.body.nodes,i=this.E_matrix[e],s=this.K_matrix[e],o=this.L_matrix[e],a=r[e].x,u=r[e].y;let l=0,d=0;for(let c=0;c<t.length;c++){const h=t[c];if(h!==e){const f=i[c],v=f[0],p=f[1],m=r[h].x,y=r[h].y,g=1/Math.sqrt((a-m)**2+(u-y)**2),E=s[h]*(a-m-o[h]*(a-m)*g),b=s[h]*(u-y-o[h]*(u-y)*g);i[c]=[E,b],l+=E,d+=b;const w=this.E_sums[h];w[0]+=E-v,w[1]+=b-p}}this.E_sums[e]=[l,d]}}function B(n,e,t){var r,i,s,o;if(!(this instanceof B))throw new SyntaxError("Constructor must be called with the new operator");this.options={},this.defaultOptions={locale:"en",locales:qG,clickToUse:!1},Pe(this.options,this.defaultOptions),this.body={container:n,nodes:{},nodeIndices:[],edges:{},edgeIndices:[],emitter:{on:D(r=this.on).call(r,this),off:D(i=this.off).call(i,this),emit:D(s=this.emit).call(s,this),once:D(o=this.once).call(o,this)},eventListeners:{onTap:function(){},onTouch:function(){},onDoubleTap:function(){},onHold:function(){},onDragStart:function(){},onDrag:function(){},onDragEnd:function(){},onMouseWheel:function(){},onPinch:function(){},onMouseMove:function(){},onRelease:function(){},onContext:function(){}},data:{nodes:null,edges:null},functions:{createNode:function(){},createEdge:function(){},getPointer:function(){}},modules:{},view:{scale:1,translation:{x:0,y:0}},selectionBox:{show:!1,position:{start:{x:0,y:0},end:{x:0,y:0}}}},this.bindEventListeners(),this.images=new DG(()=>this.body.emitter.emit("_requestRedraw")),this.groups=new KG,this.canvas=new z6(this.body),this.selectionHandler=new S8(this.body,this.canvas),this.interactionHandler=new V6(this.body,this.canvas,this.selectionHandler),this.view=new H6(this.body,this.canvas),this.renderer=new N6(this.body,this.canvas),this.physics=new R6(this.body),this.layoutEngine=new e9(this.body),this.clustering=new F6(this.body),this.manipulation=new t9(this.body,this.canvas,this.selectionHandler,this.interactionHandler),this.nodesHandler=new i6(this.body,this.images,this.groups,this.layoutEngine),this.edgesHandler=new S6(this.body,this.images,this.groups),this.body.modules.kamadaKawai=new o9(this.body,150,.05),this.body.modules.clustering=this.clustering,this.canvas._create(),this.setOptions(t),this.setData(e)}xN(B.prototype);B.prototype.setOptions=function(n){if(n===null&&(n=void 0),n!==void 0){if(aG.validate(n,i9)===!0&&console.error("%cErrors have been found in the supplied options object.",Tk),cn(["locale","locales","clickToUse"],this.options,n),n.locale!==void 0&&(n.locale=CG(n.locales||this.options.locales,n.locale)),n=this.layoutEngine.setOptions(n.layout,n),this.canvas.setOptions(n),this.groups.setOptions(n.groups),this.nodesHandler.setOptions(n.nodes),this.edgesHandler.setOptions(n.edges),this.physics.setOptions(n.physics),this.manipulation.setOptions(n.manipulation,n,this.options),this.interactionHandler.setOptions(n.interaction),this.renderer.setOptions(n.interaction),this.selectionHandler.setOptions(n.interaction),n.groups!==void 0&&this.body.emitter.emit("refreshNodes"),"configure"in n&&(this.configurator||(this.configurator=new sG(this,this.body.container,r2,this.canvas.pixelRatio,n9)),this.configurator.setOptions(n.configure)),this.configurator&&this.configurator.options.enabled===!0){const r={nodes:{},edges:{},layout:{},interaction:{},manipulation:{},physics:{},global:{}};fe(r.nodes,this.nodesHandler.options),fe(r.edges,this.edgesHandler.options),fe(r.layout,this.layoutEngine.options),fe(r.interaction,this.selectionHandler.options),fe(r.interaction,this.renderer.options),fe(r.interaction,this.interactionHandler.options),fe(r.manipulation,this.manipulation.options),fe(r.physics,this.physics.options),fe(r.global,this.canvas.options),fe(r.global,this.options),this.configurator.setModuleOptions(r)}n.clickToUse!==void 0?n.clickToUse===!0?this.activator===void 0&&(this.activator=new nG(this.canvas.frame),this.activator.on("change",()=>{this.body.emitter.emit("activate")})):(this.activator!==void 0&&(this.activator.destroy(),delete this.activator),this.body.emitter.emit("activate")):this.body.emitter.emit("activate"),this.canvas.setSize(),this.body.emitter.emit("startSimulation")}};B.prototype._updateVisibleIndices=function(){const n=this.body.nodes,e=this.body.edges;this.body.nodeIndices=[],this.body.edgeIndices=[];for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&!this.clustering._isClusteredNode(t)&&n[t].options.hidden===!1&&this.body.nodeIndices.push(n[t].id);for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t)){const r=e[t],i=n[r.fromId],s=n[r.toId],o=i!==void 0&&s!==void 0;!this.clustering._isClusteredEdge(t)&&r.options.hidden===!1&&o&&i.options.hidden===!1&&s.options.hidden===!1&&this.body.edgeIndices.push(r.id)}};B.prototype.bindEventListeners=function(){this.body.emitter.on("_dataChanged",()=>{this.edgesHandler._updateState(),this.body.emitter.emit("_dataUpdated")}),this.body.emitter.on("_dataUpdated",()=>{this.clustering._updateState(),this._updateVisibleIndices(),this._updateValueRange(this.body.nodes),this._updateValueRange(this.body.edges),this.body.emitter.emit("startSimulation"),this.body.emitter.emit("_requestRedraw")})};B.prototype.setData=function(n){if(this.body.emitter.emit("resetPhysics"),this.body.emitter.emit("_resetData"),this.selectionHandler.unselectAll(),n&&n.dot&&(n.nodes||n.edges))throw new SyntaxError('Data must contain either parameter "dot" or  parameter pair "nodes" and "edges", but not both.');if(this.setOptions(n&&n.options),n&&n.dot){console.warn("The dot property has been deprecated. Please use the static convertDot method to convert DOT into vis.network format and use the normal data format with nodes and edges. This converter is used like this: var data = vis.network.convertDot(dotString);");const e=yG(n.dot);this.setData(e);return}else if(n&&n.gephi){console.warn("The gephi property has been deprecated. Please use the static convertGephi method to convert gephi into vis.network format and use the normal data format with nodes and edges. This converter is used like this: var data = vis.network.convertGephi(gephiJson);");const e=mG(n.gephi);this.setData(e);return}else this.nodesHandler.setData(n&&n.nodes,!0),this.edgesHandler.setData(n&&n.edges,!0);this.body.emitter.emit("_dataChanged"),this.body.emitter.emit("_dataLoaded"),this.body.emitter.emit("initPhysics")};B.prototype.destroy=function(){this.body.emitter.emit("destroy"),this.body.emitter.off(),this.off(),delete this.groups,delete this.canvas,delete this.selectionHandler,delete this.interactionHandler,delete this.view,delete this.renderer,delete this.physics,delete this.layoutEngine,delete this.clustering,delete this.manipulation,delete this.nodesHandler,delete this.edgesHandler,delete this.configurator,delete this.images;for(const n in this.body.nodes)Object.prototype.hasOwnProperty.call(this.body.nodes,n)&&delete this.body.nodes[n];for(const n in this.body.edges)Object.prototype.hasOwnProperty.call(this.body.edges,n)&&delete this.body.edges[n];ir(this.body.container)};B.prototype._updateValueRange=function(n){let e,t,r,i=0;for(e in n)if(Object.prototype.hasOwnProperty.call(n,e)){const s=n[e].getValue();s!==void 0&&(t=t===void 0?s:Math.min(s,t),r=r===void 0?s:Math.max(s,r),i+=s)}if(t!==void 0&&r!==void 0)for(e in n)Object.prototype.hasOwnProperty.call(n,e)&&n[e].setValueRange(t,r,i)};B.prototype.isActive=function(){return!this.activator||this.activator.active};B.prototype.setSize=function(){return this.canvas.setSize.apply(this.canvas,arguments)};B.prototype.canvasToDOM=function(){return this.canvas.canvasToDOM.apply(this.canvas,arguments)};B.prototype.DOMtoCanvas=function(){return this.canvas.DOMtoCanvas.apply(this.canvas,arguments)};B.prototype.findNode=function(){return this.clustering.findNode.apply(this.clustering,arguments)};B.prototype.isCluster=function(){return this.clustering.isCluster.apply(this.clustering,arguments)};B.prototype.openCluster=function(){return this.clustering.openCluster.apply(this.clustering,arguments)};B.prototype.cluster=function(){return this.clustering.cluster.apply(this.clustering,arguments)};B.prototype.getNodesInCluster=function(){return this.clustering.getNodesInCluster.apply(this.clustering,arguments)};B.prototype.clusterByConnection=function(){return this.clustering.clusterByConnection.apply(this.clustering,arguments)};B.prototype.clusterByHubsize=function(){return this.clustering.clusterByHubsize.apply(this.clustering,arguments)};B.prototype.updateClusteredNode=function(){return this.clustering.updateClusteredNode.apply(this.clustering,arguments)};B.prototype.getClusteredEdges=function(){return this.clustering.getClusteredEdges.apply(this.clustering,arguments)};B.prototype.getBaseEdge=function(){return this.clustering.getBaseEdge.apply(this.clustering,arguments)};B.prototype.getBaseEdges=function(){return this.clustering.getBaseEdges.apply(this.clustering,arguments)};B.prototype.updateEdge=function(){return this.clustering.updateEdge.apply(this.clustering,arguments)};B.prototype.clusterOutliers=function(){return this.clustering.clusterOutliers.apply(this.clustering,arguments)};B.prototype.getSeed=function(){return this.layoutEngine.getSeed.apply(this.layoutEngine,arguments)};B.prototype.enableEditMode=function(){return this.manipulation.enableEditMode.apply(this.manipulation,arguments)};B.prototype.disableEditMode=function(){return this.manipulation.disableEditMode.apply(this.manipulation,arguments)};B.prototype.addNodeMode=function(){return this.manipulation.addNodeMode.apply(this.manipulation,arguments)};B.prototype.editNode=function(){return this.manipulation.editNode.apply(this.manipulation,arguments)};B.prototype.editNodeMode=function(){return console.warn("Deprecated: Please use editNode instead of editNodeMode."),this.manipulation.editNode.apply(this.manipulation,arguments)};B.prototype.addEdgeMode=function(){return this.manipulation.addEdgeMode.apply(this.manipulation,arguments)};B.prototype.editEdgeMode=function(){return this.manipulation.editEdgeMode.apply(this.manipulation,arguments)};B.prototype.deleteSelected=function(){return this.manipulation.deleteSelected.apply(this.manipulation,arguments)};B.prototype.getPositions=function(){return this.nodesHandler.getPositions.apply(this.nodesHandler,arguments)};B.prototype.getPosition=function(){return this.nodesHandler.getPosition.apply(this.nodesHandler,arguments)};B.prototype.storePositions=function(){return this.nodesHandler.storePositions.apply(this.nodesHandler,arguments)};B.prototype.moveNode=function(){return this.nodesHandler.moveNode.apply(this.nodesHandler,arguments)};B.prototype.getBoundingBox=function(){return this.nodesHandler.getBoundingBox.apply(this.nodesHandler,arguments)};B.prototype.getConnectedNodes=function(n){return this.body.nodes[n]!==void 0?this.nodesHandler.getConnectedNodes.apply(this.nodesHandler,arguments):this.edgesHandler.getConnectedNodes.apply(this.edgesHandler,arguments)};B.prototype.getConnectedEdges=function(){return this.nodesHandler.getConnectedEdges.apply(this.nodesHandler,arguments)};B.prototype.startSimulation=function(){return this.physics.startSimulation.apply(this.physics,arguments)};B.prototype.stopSimulation=function(){return this.physics.stopSimulation.apply(this.physics,arguments)};B.prototype.stabilize=function(){return this.physics.stabilize.apply(this.physics,arguments)};B.prototype.getSelection=function(){return this.selectionHandler.getSelection.apply(this.selectionHandler,arguments)};B.prototype.setSelection=function(){return this.selectionHandler.setSelection.apply(this.selectionHandler,arguments)};B.prototype.getSelectedNodes=function(){return this.selectionHandler.getSelectedNodeIds.apply(this.selectionHandler,arguments)};B.prototype.getSelectedEdges=function(){return this.selectionHandler.getSelectedEdgeIds.apply(this.selectionHandler,arguments)};B.prototype.getNodeAt=function(){const n=this.selectionHandler.getNodeAt.apply(this.selectionHandler,arguments);return n!==void 0&&n.id!==void 0?n.id:n};B.prototype.getEdgeAt=function(){const n=this.selectionHandler.getEdgeAt.apply(this.selectionHandler,arguments);return n!==void 0&&n.id!==void 0?n.id:n};B.prototype.selectNodes=function(){return this.selectionHandler.selectNodes.apply(this.selectionHandler,arguments)};B.prototype.selectEdges=function(){return this.selectionHandler.selectEdges.apply(this.selectionHandler,arguments)};B.prototype.unselectAll=function(){this.selectionHandler.unselectAll.apply(this.selectionHandler,arguments),this.selectionHandler.commitWithoutEmitting.apply(this.selectionHandler),this.redraw()};B.prototype.redraw=function(){return this.renderer.redraw.apply(this.renderer,arguments)};B.prototype.getScale=function(){return this.view.getScale.apply(this.view,arguments)};B.prototype.getViewPosition=function(){return this.view.getViewPosition.apply(this.view,arguments)};B.prototype.fit=function(){return this.view.fit.apply(this.view,arguments)};B.prototype.moveTo=function(){return this.view.moveTo.apply(this.view,arguments)};B.prototype.focus=function(){return this.view.focus.apply(this.view,arguments)};B.prototype.releaseNode=function(){return this.view.releaseNode.apply(this.view,arguments)};B.prototype.getOptionsFromConfigurator=function(){let n={};return this.configurator&&(n=this.configurator.getOptions.apply(this.configurator)),n};function a9({graphData:n,startPersonId:e,onNodeClick:t}){const r=xr.useRef(null),i=xr.useRef(null),s=iF(),o=xr.useCallback(d=>{t?t(d):s(`/people/${d}`)},[t,s]);xr.useEffect(()=>{if(!r.current||!n||!n.nodes||n.nodes.length===0)return;const d=new xi(n.nodes),c=new xi(n.edges),h={layout:{hierarchical:{enabled:!0,direction:"UD",sortMethod:"directed",levelSeparation:180,nodeSpacing:200,treeSpacing:250,blockShifting:!0,edgeMinimization:!0,parentCentralization:!0}},nodes:{shape:"box",margin:10,font:{size:14,face:'system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif',color:"#1f2937"},color:{border:"#d1d5db",background:"#ffffff",highlight:{border:"#f59e0b",background:"#fef3c7"},hover:{border:"#9ca3af",background:"#f9fafb"}},borderWidth:2,borderWidthSelected:3,shadow:{enabled:!0,color:"rgba(0,0,0,0.1)",size:5,x:0,y:2}},edges:{color:{color:"#9ca3af",highlight:"#6b7280",hover:"#6b7280"},width:2,smooth:{enabled:!0,type:"cubicBezier",forceDirection:"vertical",roundness:.4},arrows:{to:{enabled:!1}}},physics:{enabled:!1},interaction:{hover:!0,tooltipDelay:200,zoomView:!0,dragView:!0,dragNodes:!1,navigationButtons:!1,keyboard:{enabled:!0,bindToWindow:!1}}},f=new B(r.current,{nodes:d,edges:c},h);return i.current=f,f.on("click",v=>{if(v.nodes.length>0){const p=v.nodes[0];o(p)}}),f.on("doubleClick",v=>{v.nodes.length>0&&f.focus(v.nodes[0],{scale:1,animation:{duration:500,easingFunction:"easeInOutQuad"}})}),f.once("stabilized",()=>{const v=n.edges.filter(p=>p.dashes).map(p=>[p.from,p.to]);if(v.length>0){const p=f.getPositions(),m={},y=new Set;v.forEach(([g,E])=>{if(y.has(g)||y.has(E))return;const b=p[g],w=p[E];if(!b||!w)return;const O=(b.x+w.x)/2;m[g]={x:O-60,y:b.y},m[E]={x:O+60,y:w.y},y.add(g),y.add(E)}),Object.entries(m).forEach(([g,E])=>{f.moveNode(g,E.x,E.y)})}setTimeout(()=>{f.fit({animation:{duration:500,easingFunction:"easeInOutQuad"}})},50)}),setTimeout(()=>{e&&f&&f.focus(e,{scale:.8,animation:{duration:500,easingFunction:"easeInOutQuad"}})},100),()=>{f&&f.destroy()}},[n,e,o]);const a=()=>{if(i.current){const d=i.current.getScale();i.current.moveTo({scale:d*1.3,animation:{duration:300,easingFunction:"easeInOutQuad"}})}},u=()=>{if(i.current){const d=i.current.getScale();i.current.moveTo({scale:d/1.3,animation:{duration:300,easingFunction:"easeInOutQuad"}})}},l=()=>{i.current&&i.current.fit({animation:{duration:500,easingFunction:"easeInOutQuad"}})};return!n||!n.nodes||n.nodes.length===0?ie.jsx("div",{className:"flex items-center justify-center h-96",children:ie.jsx("p",{className:"text-gray-500",children:"No family tree data available"})}):ie.jsxs("div",{className:"relative w-full h-full",children:[ie.jsxs("div",{className:"absolute top-4 right-4 z-10 flex gap-2 bg-white rounded-lg shadow-lg p-2",children:[ie.jsx("button",{onClick:a,className:"p-2 hover:bg-gray-100 rounded",title:"Zoom In",children:ie.jsx(v2,{className:"w-4 h-4"})}),ie.jsx("button",{onClick:u,className:"p-2 hover:bg-gray-100 rounded",title:"Zoom Out",children:ie.jsx(p2,{className:"w-4 h-4"})}),ie.jsx("button",{onClick:l,className:"p-2 hover:bg-gray-100 rounded",title:"Fit All",children:ie.jsx(h2,{className:"w-4 h-4"})})]}),ie.jsx("div",{className:"absolute bottom-4 left-4 z-10 text-xs text-gray-500 bg-white/80 px-2 py-1 rounded",children:"Click a person to view details â¢ Double-click to center â¢ Scroll to zoom"}),ie.jsx("div",{ref:r,className:"w-full h-full min-h-[600px]",style:{background:"#fafafa"}})]})}const u9=["parent","child","spouse","lover","partner"];function l9(n){return u9.includes(n==null?void 0:n.toLowerCase())}function d9(n){return(n==null?void 0:n.toLowerCase())==="parent"}function c9(n){return(n==null?void 0:n.toLowerCase())==="child"}function h9(n){const e=n==null?void 0:n.toLowerCase();return e==="spouse"||e==="lover"||e==="partner"}function f9(n,e,t){var d;const r=new Map,i=[],s=new Set,o=new Map;e.forEach(c=>o.set(c.id,c));const a=[{personId:n,depth:0}];s.add(n);function u(c,h){var E,b,w,O;const f=c.name||((E=c.title)==null?void 0:E.rendered)||c.title||`Person ${h}`,v=o2(f);let p=null,m=((b=c.acf)==null?void 0:b.birth_date)||null;if(m){const I=new Date(m);isNaN(I.getTime())||(p=Math.floor((new Date-I)/(365.25*24*60*60*1e3)))}let y="";switch((w=c.acf)==null?void 0:w.gender){case"male":y="â";break;case"female":y="â";break;case"non_binary":case"other":case"prefer_not_to_say":y="â§";break}let g="";if(m)try{const I=new Date(m);if(!isNaN(I.getTime())){const _=String(I.getDate()).padStart(2,"0"),S=String(I.getMonth()+1).padStart(2,"0"),$=I.getFullYear();g=`${_}-${S}-${$}`}}catch{}return{id:h,name:v,gender:((O=c.acf)==null?void 0:O.gender)||"",genderSymbol:y,photo:c.thumbnail||null,age:p,birthDate:m,formattedBirthDate:g}}const l=o.get(n);for(l&&r.set(n,u(l,n));a.length>0;){const{personId:c,depth:h}=a.shift(),f=t.get(c)||[];for(const v of f){if(v.relationship_type_slug&&!l9(v.relationship_type_slug))continue;const p=v.related_person;if(!p||!o.has(p))continue;if(!r.has(p)){const E=o.get(p);r.set(p,u(E,p))}const m=`${c}-${p}`,y=`${p}-${c}`;if(!i.some(E=>`${E.from}-${E.to}`===m||`${E.from}-${E.to}`===y)){const E=(d=v.relationship_type_slug)==null?void 0:d.toLowerCase();if(d9(E))i.push({from:p,to:c,type:"parent-child"});else if(c9(E))i.push({from:c,to:p,type:"parent-child"});else if(h9(E)){const[b,w]=c<p?[c,p]:[p,c];i.push({from:b,to:w,type:"spouse"})}}s.has(p)||(s.add(p),a.push({personId:p,depth:h+1}))}}return{nodes:Array.from(r.values()),edges:i}}function v9(n,e,t={}){const{nodes:r,edges:i}=n;if(r.length===0)return{nodes:[],edges:[]};const s=new Map,o=new Map,a=new Map;r.forEach(m=>{s.set(m.id,[]),o.set(m.id,[]),a.set(m.id,[])}),i.forEach(m=>{var y,g,E,b;m.type==="parent-child"?((y=s.get(m.to))==null||y.push(m.from),(g=o.get(m.from))==null||g.push(m.to)):m.type==="spouse"&&((E=a.get(m.from))==null||E.push(m.to),(b=a.get(m.to))==null||b.push(m.from))});const u=new Map,l=new Set,d=[{id:e,generation:0}];for(u.set(e,0),l.add(e);d.length>0;){const{id:m,generation:y}=d.shift(),g=s.get(m)||[];for(const w of g)l.has(w)||(l.add(w),u.set(w,y-1),d.push({id:w,generation:y-1}));const E=o.get(m)||[];for(const w of E)l.has(w)||(l.add(w),u.set(w,y+1),d.push({id:w,generation:y+1}));const b=a.get(m)||[];for(const w of b)l.has(w)||(l.add(w),u.set(w,y),d.push({id:w,generation:y}))}r.forEach(m=>{u.has(m.id)||u.set(m.id,0)});const c=Math.min(...u.values()),h=new Map;u.forEach((m,y)=>{h.set(y,m-c)});function f(m,y,g=!1){const E=m?m.split(" ").map(I=>I[0]).join("").toUpperCase().slice(0,2):"?";let b,w;g?(b="%23d1d5db",w="%236b7280"):y?(b="%23fef3c7",w="%23b45309"):(b="%23e5e7eb",w="%23374151");const O=`<svg xmlns="http://www.w3.org/2000/svg" width="90" height="90" viewBox="0 0 90 90">
      <circle cx="45" cy="45" r="45" fill="${b}"/>
      <text x="45" y="55" text-anchor="middle" font-family="system-ui, sans-serif" font-size="28" font-weight="500" fill="${w}">${E}</text>
    </svg>`;return"data:image/svg+xml,"+encodeURIComponent(O)}const v=r.map(m=>{const y=h.get(m.id)||0,g=m.id===e,E=t[m.id]||!1;let b=m.name;E&&(b=m.name+" â ");let w=[b],O="";m.genderSymbol&&(O+=m.genderSymbol+" "),m.age!==null&&(O+=m.age+" "),m.formattedBirthDate&&(O+=m.formattedBirthDate),O.trim()&&w.push(O.trim());const I=m.photo||f(m.name,g,E);let _="#d1d5db";return g?_="#f59e0b":E&&(_="#9ca3af"),{id:m.id,label:w.join(`
`),level:y,shape:"circularImage",image:I,size:45,font:{size:14,face:"system-ui, -apple-system, sans-serif",vadjust:8,color:E?"#6b7280":"#1f2937"},color:{border:_,background:"#ffffff",highlight:{border:"#f59e0b",background:"#fef3c7"}},borderWidth:g?3:2,data:{...m,isDeceased:E}}}),p=i.map((m,y)=>{const g=m.type==="spouse";return{id:`edge-${y}`,from:m.from,to:m.to,arrows:{to:{enabled:!1}},color:{color:g?"#ec4899":"#9ca3af",highlight:g?"#db2777":"#6b7280"},width:2,dashes:g?[5,5]:!1,smooth:!1,length:g?50:300}});return{nodes:v,edges:p}}function p9(n){const e=new Map;return n.forEach(t=>{var s;const i=(((s=t.acf)==null?void 0:s.relationships)||[]).map(o=>{var l,d,c,h,f,v;let a="";o.relationship_slug?a=o.relationship_slug.toLowerCase():typeof o.relationship_type=="object"?a=((l=o.relationship_type)==null?void 0:l.slug)||((c=(d=o.relationship_type)==null?void 0:d.name)==null?void 0:c.toLowerCase())||"":typeof o.relationship_type=="string"&&(a=o.relationship_type.toLowerCase());let u=null;return typeof o.related_person=="object"?u=((h=o.related_person)==null?void 0:h.ID)||((f=o.related_person)==null?void 0:f.id)||((v=o.related_person)==null?void 0:v.term_id):(typeof o.related_person=="number"||typeof o.related_person=="string")&&(u=parseInt(o.related_person,10)),{related_person:u,relationship_type:o.relationship_type,relationship_type_slug:a,relationship_name:o.relationship_name||"",relationship_label:o.relationship_label||""}}).filter(o=>o.related_person);e.set(t.id,i)}),e}function g9(n,e){const t=new Map;e.forEach(r=>{var i;t.set(r.id,r.slug||((i=r.name)==null?void 0:i.toLowerCase()))}),n.forEach(r=>{r.forEach(i=>{if(!i.relationship_type_slug&&i.relationship_type){const s=typeof i.relationship_type=="object"?i.relationship_type.term_id||i.relationship_type.id:i.relationship_type;i.relationship_type_slug=t.get(s)||""}})})}function C9(){var f,v;const{id:n}=i2(),e=iF(),t=parseInt(n,10),{data:r,isLoading:i}=a2(n),{data:s=[],isLoading:o}=u2(),{data:a=[]}=n2({queryKey:["relationship-types"],queryFn:async()=>(await c2.getRelationshipTypes()).data}),u=xr.useMemo(()=>s.map(p=>p.id).filter(Boolean),[s]),l=s2({queries:u.map(p=>({queryKey:["person-dates",p],queryFn:async()=>(await l2.getPersonDates(p)).data,enabled:!!p,staleTime:5*60*1e3}))}),d=xr.useMemo(()=>{const p={};return l.forEach((m,y)=>{if(m.data&&u[y]){const g=u[y],E=m.data.some(b=>{const w=Array.isArray(b.date_type)?b.date_type[0]:b.date_type;return(w==null?void 0:w.toLowerCase())==="died"});p[g]=E}}),p},[l,u]);d2(r?`Family Tree - ${r.name||((f=r.title)==null?void 0:f.rendered)||r.title||"Person"}`:"Family Tree");const c=xr.useMemo(()=>{if(!r||!s.length)return null;try{const p=p9(s);a.length>0&&g9(p,a);const m=f9(t,s,p);return!m||m.nodes.length===0?null:v9(m,t,d)}catch{return null}},[r,s,a,t,d]),h=p=>{e(`/people/${p}`)};return i||o?ie.jsx("div",{className:"flex items-center justify-center h-64",children:ie.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"})}):r?ie.jsxs("div",{className:"max-w-full mx-auto space-y-6",children:[ie.jsx("div",{className:"flex items-center justify-between",children:ie.jsxs("div",{className:"flex items-center gap-4",children:[ie.jsxs(Ab,{to:`/people/${n}`,className:"flex items-center text-gray-600 hover:text-gray-900",children:[ie.jsx(f2,{className:"w-4 h-4 md:mr-2"}),ie.jsx("span",{className:"hidden md:inline",children:"Back to Person"})]}),ie.jsxs("h1",{className:"text-2xl font-bold",children:["Family Tree: ",r.name||((v=r.title)==null?void 0:v.rendered)||r.title||`Person ${n}`]})]})}),ie.jsx("div",{className:"card p-6",children:ie.jsx("div",{className:"w-full",style:{height:"800px"},children:c&&c.nodes&&c.nodes.length>0?ie.jsx(a9,{graphData:c,startPersonId:t,onNodeClick:h}):ie.jsx("div",{className:"flex items-center justify-center h-full",children:ie.jsxs("div",{className:"text-center",children:[ie.jsx("p",{className:"text-gray-500 mb-2",children:"No family relationships found."}),ie.jsx("p",{className:"text-sm text-gray-400",children:"Add parent or child relationships to see the family tree."})]})})})})]}):ie.jsxs("div",{className:"card p-6 text-center",children:[ie.jsx("p",{className:"text-red-600 mb-4",children:"Failed to load person."}),ie.jsx(Ab,{to:"/people",className:"btn-secondary",children:"Back to People"})]})}export{C9 as default};
