var eT=t=>{throw TypeError(t)};var Tm=(t,e,r)=>e.has(t)||eT("Cannot "+r);var R=(t,e,r)=>(Tm(t,e,"read from private field"),r?r.call(t):e.get(t)),de=(t,e,r)=>e.has(t)?eT("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,r),re=(t,e,r,n)=>(Tm(t,e,"write to private field"),n?n.call(t,r):e.set(t,r),r),Oe=(t,e,r)=>(Tm(t,e,"access private method"),r);var Nh=(t,e,r,n)=>({set _(i){re(t,e,i,r)},get _(){return R(t,e,n)}});function UY(t,e){for(var r=0;r<e.length;r++){const n=e[r];if(typeof n!="string"&&!Array.isArray(n)){for(const i in n)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(n,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>n[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}function WY(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var aW={exports:{}},bp={},oW={exports:{}},ke={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Rd=Symbol.for("react.element"),VY=Symbol.for("react.portal"),HY=Symbol.for("react.fragment"),KY=Symbol.for("react.strict_mode"),GY=Symbol.for("react.profiler"),YY=Symbol.for("react.provider"),QY=Symbol.for("react.context"),XY=Symbol.for("react.forward_ref"),JY=Symbol.for("react.suspense"),ZY=Symbol.for("react.memo"),eQ=Symbol.for("react.lazy"),tT=Symbol.iterator;function tQ(t){return t===null||typeof t!="object"?null:(t=tT&&t[tT]||t["@@iterator"],typeof t=="function"?t:null)}var lW={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},uW=Object.assign,cW={};function yu(t,e,r){this.props=t,this.context=e,this.refs=cW,this.updater=r||lW}yu.prototype.isReactComponent={};yu.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};yu.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function dW(){}dW.prototype=yu.prototype;function NN(t,e,r){this.props=t,this.context=e,this.refs=cW,this.updater=r||lW}var PN=NN.prototype=new dW;PN.constructor=NN;uW(PN,yu.prototype);PN.isPureReactComponent=!0;var rT=Array.isArray,hW=Object.prototype.hasOwnProperty,CN={current:null},fW={key:!0,ref:!0,__self:!0,__source:!0};function pW(t,e,r){var n,i={},s=null,a=null;if(e!=null)for(n in e.ref!==void 0&&(a=e.ref),e.key!==void 0&&(s=""+e.key),e)hW.call(e,n)&&!fW.hasOwnProperty(n)&&(i[n]=e[n]);var o=arguments.length-2;if(o===1)i.children=r;else if(1<o){for(var l=Array(o),c=0;c<o;c++)l[c]=arguments[c+2];i.children=l}if(t&&t.defaultProps)for(n in o=t.defaultProps,o)i[n]===void 0&&(i[n]=o[n]);return{$$typeof:Rd,type:t,key:s,ref:a,props:i,_owner:CN.current}}function rQ(t,e){return{$$typeof:Rd,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function TN(t){return typeof t=="object"&&t!==null&&t.$$typeof===Rd}function nQ(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(r){return e[r]})}var nT=/\/+/g;function jm(t,e){return typeof t=="object"&&t!==null&&t.key!=null?nQ(""+t.key):e.toString(36)}function rf(t,e,r,n,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var a=!1;if(t===null)a=!0;else switch(s){case"string":case"number":a=!0;break;case"object":switch(t.$$typeof){case Rd:case VY:a=!0}}if(a)return a=t,i=i(a),t=n===""?"."+jm(a,0):n,rT(i)?(r="",t!=null&&(r=t.replace(nT,"$&/")+"/"),rf(i,e,r,"",function(c){return c})):i!=null&&(TN(i)&&(i=rQ(i,r+(!i.key||a&&a.key===i.key?"":(""+i.key).replace(nT,"$&/")+"/")+t)),e.push(i)),1;if(a=0,n=n===""?".":n+":",rT(t))for(var o=0;o<t.length;o++){s=t[o];var l=n+jm(s,o);a+=rf(s,e,r,l,i)}else if(l=tQ(t),typeof l=="function")for(t=l.call(t),o=0;!(s=t.next()).done;)s=s.value,l=n+jm(s,o++),a+=rf(s,e,r,l,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return a}function Ph(t,e,r){if(t==null)return t;var n=[],i=0;return rf(t,n,"","",function(s){return e.call(r,s,i++)}),n}function iQ(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(r){(t._status===0||t._status===-1)&&(t._status=1,t._result=r)},function(r){(t._status===0||t._status===-1)&&(t._status=2,t._result=r)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var zr={current:null},nf={transition:null},sQ={ReactCurrentDispatcher:zr,ReactCurrentBatchConfig:nf,ReactCurrentOwner:CN};function mW(){throw Error("act(...) is not supported in production builds of React.")}ke.Children={map:Ph,forEach:function(t,e,r){Ph(t,function(){e.apply(this,arguments)},r)},count:function(t){var e=0;return Ph(t,function(){e++}),e},toArray:function(t){return Ph(t,function(e){return e})||[]},only:function(t){if(!TN(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};ke.Component=yu;ke.Fragment=HY;ke.Profiler=GY;ke.PureComponent=NN;ke.StrictMode=KY;ke.Suspense=JY;ke.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=sQ;ke.act=mW;ke.cloneElement=function(t,e,r){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var n=uW({},t.props),i=t.key,s=t.ref,a=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,a=CN.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var o=t.type.defaultProps;for(l in e)hW.call(e,l)&&!fW.hasOwnProperty(l)&&(n[l]=e[l]===void 0&&o!==void 0?o[l]:e[l])}var l=arguments.length-2;if(l===1)n.children=r;else if(1<l){o=Array(l);for(var c=0;c<l;c++)o[c]=arguments[c+2];n.children=o}return{$$typeof:Rd,type:t.type,key:i,ref:s,props:n,_owner:a}};ke.createContext=function(t){return t={$$typeof:QY,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:YY,_context:t},t.Consumer=t};ke.createElement=pW;ke.createFactory=function(t){var e=pW.bind(null,t);return e.type=t,e};ke.createRef=function(){return{current:null}};ke.forwardRef=function(t){return{$$typeof:XY,render:t}};ke.isValidElement=TN;ke.lazy=function(t){return{$$typeof:eQ,_payload:{_status:-1,_result:t},_init:iQ}};ke.memo=function(t,e){return{$$typeof:ZY,type:t,compare:e===void 0?null:e}};ke.startTransition=function(t){var e=nf.transition;nf.transition={};try{t()}finally{nf.transition=e}};ke.unstable_act=mW;ke.useCallback=function(t,e){return zr.current.useCallback(t,e)};ke.useContext=function(t){return zr.current.useContext(t)};ke.useDebugValue=function(){};ke.useDeferredValue=function(t){return zr.current.useDeferredValue(t)};ke.useEffect=function(t,e){return zr.current.useEffect(t,e)};ke.useId=function(){return zr.current.useId()};ke.useImperativeHandle=function(t,e,r){return zr.current.useImperativeHandle(t,e,r)};ke.useInsertionEffect=function(t,e){return zr.current.useInsertionEffect(t,e)};ke.useLayoutEffect=function(t,e){return zr.current.useLayoutEffect(t,e)};ke.useMemo=function(t,e){return zr.current.useMemo(t,e)};ke.useReducer=function(t,e,r){return zr.current.useReducer(t,e,r)};ke.useRef=function(t){return zr.current.useRef(t)};ke.useState=function(t){return zr.current.useState(t)};ke.useSyncExternalStore=function(t,e,r){return zr.current.useSyncExternalStore(t,e,r)};ke.useTransition=function(){return zr.current.useTransition()};ke.version="18.3.1";oW.exports=ke;var $=oW.exports;const Te=WY($),aQ=UY({__proto__:null,default:Te},[$]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var oQ=$,lQ=Symbol.for("react.element"),uQ=Symbol.for("react.fragment"),cQ=Object.prototype.hasOwnProperty,dQ=oQ.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,hQ={key:!0,ref:!0,__self:!0,__source:!0};function vW(t,e,r){var n,i={},s=null,a=null;r!==void 0&&(s=""+r),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(a=e.ref);for(n in e)cQ.call(e,n)&&!hQ.hasOwnProperty(n)&&(i[n]=e[n]);if(t&&t.defaultProps)for(n in e=t.defaultProps,e)i[n]===void 0&&(i[n]=e[n]);return{$$typeof:lQ,type:t,key:s,ref:a,props:i,_owner:dQ.current}}bp.Fragment=uQ;bp.jsx=vW;bp.jsxs=vW;aW.exports=bp;var u=aW.exports,D2={},gW={exports:{}},bn={},yW={exports:{}},bW={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(F,W){var U=F.length;F.push(W);e:for(;0<U;){var z=U-1>>>1,Y=F[z];if(0<i(Y,W))F[z]=W,F[U]=Y,U=z;else break e}}function r(F){return F.length===0?null:F[0]}function n(F){if(F.length===0)return null;var W=F[0],U=F.pop();if(U!==W){F[0]=U;e:for(var z=0,Y=F.length,fe=Y>>>1;z<fe;){var ye=2*(z+1)-1,De=F[ye],pe=ye+1,Ee=F[pe];if(0>i(De,U))pe<Y&&0>i(Ee,De)?(F[z]=Ee,F[pe]=U,z=pe):(F[z]=De,F[ye]=U,z=ye);else if(pe<Y&&0>i(Ee,U))F[z]=Ee,F[pe]=U,z=pe;else break e}}return W}function i(F,W){var U=F.sortIndex-W.sortIndex;return U!==0?U:F.id-W.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var a=Date,o=a.now();t.unstable_now=function(){return a.now()-o}}var l=[],c=[],d=1,h=null,f=3,p=!1,m=!1,y=!1,w=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,v=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function x(F){for(var W=r(c);W!==null;){if(W.callback===null)n(c);else if(W.startTime<=F)n(c),W.sortIndex=W.expirationTime,e(l,W);else break;W=r(c)}}function b(F){if(y=!1,x(F),!m)if(r(l)!==null)m=!0,Q(_);else{var W=r(c);W!==null&&G(b,W.startTime-F)}}function _(F,W){m=!1,y&&(y=!1,g(S),S=-1),p=!0;var U=f;try{for(x(W),h=r(l);h!==null&&(!(h.expirationTime>W)||F&&!I());){var z=h.callback;if(typeof z=="function"){h.callback=null,f=h.priorityLevel;var Y=z(h.expirationTime<=W);W=t.unstable_now(),typeof Y=="function"?h.callback=Y:h===r(l)&&n(l),x(W)}else n(l);h=r(l)}if(h!==null)var fe=!0;else{var ye=r(c);ye!==null&&G(b,ye.startTime-W),fe=!1}return fe}finally{h=null,f=U,p=!1}}var E=!1,O=null,S=-1,N=5,P=-1;function I(){return!(t.unstable_now()-P<N)}function C(){if(O!==null){var F=t.unstable_now();P=F;var W=!0;try{W=O(!0,F)}finally{W?T():(E=!1,O=null)}}else E=!1}var T;if(typeof v=="function")T=function(){v(C)};else if(typeof MessageChannel<"u"){var M=new MessageChannel,B=M.port2;M.port1.onmessage=C,T=function(){B.postMessage(null)}}else T=function(){w(C,0)};function Q(F){O=F,E||(E=!0,T())}function G(F,W){S=w(function(){F(t.unstable_now())},W)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(F){F.callback=null},t.unstable_continueExecution=function(){m||p||(m=!0,Q(_))},t.unstable_forceFrameRate=function(F){0>F||125<F?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):N=0<F?Math.floor(1e3/F):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return r(l)},t.unstable_next=function(F){switch(f){case 1:case 2:case 3:var W=3;break;default:W=f}var U=f;f=W;try{return F()}finally{f=U}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(F,W){switch(F){case 1:case 2:case 3:case 4:case 5:break;default:F=3}var U=f;f=F;try{return W()}finally{f=U}},t.unstable_scheduleCallback=function(F,W,U){var z=t.unstable_now();switch(typeof U=="object"&&U!==null?(U=U.delay,U=typeof U=="number"&&0<U?z+U:z):U=z,F){case 1:var Y=-1;break;case 2:Y=250;break;case 5:Y=1073741823;break;case 4:Y=1e4;break;default:Y=5e3}return Y=U+Y,F={id:d++,callback:W,priorityLevel:F,startTime:U,expirationTime:Y,sortIndex:-1},U>z?(F.sortIndex=U,e(c,F),r(l)===null&&F===r(c)&&(y?(g(S),S=-1):y=!0,G(b,U-z))):(F.sortIndex=Y,e(l,F),m||p||(m=!0,Q(_))),F},t.unstable_shouldYield=I,t.unstable_wrapCallback=function(F){var W=f;return function(){var U=f;f=W;try{return F.apply(this,arguments)}finally{f=U}}}})(bW);yW.exports=bW;var fQ=yW.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pQ=$,gn=fQ;function X(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,r=1;r<arguments.length;r++)e+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var wW=new Set,Wc={};function jo(t,e){Ql(t,e),Ql(t+"Capture",e)}function Ql(t,e){for(Wc[t]=e,t=0;t<e.length;t++)wW.add(e[t])}var ss=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),q2=Object.prototype.hasOwnProperty,mQ=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,iT={},sT={};function vQ(t){return q2.call(sT,t)?!0:q2.call(iT,t)?!1:mQ.test(t)?sT[t]=!0:(iT[t]=!0,!1)}function gQ(t,e,r,n){if(r!==null&&r.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function yQ(t,e,r,n){if(e===null||typeof e>"u"||gQ(t,e,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Ur(t,e,r,n,i,s,a){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=n,this.attributeNamespace=i,this.mustUseProperty=r,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=a}var br={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){br[t]=new Ur(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];br[e]=new Ur(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){br[t]=new Ur(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){br[t]=new Ur(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){br[t]=new Ur(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){br[t]=new Ur(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){br[t]=new Ur(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){br[t]=new Ur(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){br[t]=new Ur(t,5,!1,t.toLowerCase(),null,!1,!1)});var jN=/[\-:]([a-z])/g;function IN(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(jN,IN);br[e]=new Ur(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(jN,IN);br[e]=new Ur(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(jN,IN);br[e]=new Ur(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){br[t]=new Ur(t,1,!1,t.toLowerCase(),null,!1,!1)});br.xlinkHref=new Ur("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){br[t]=new Ur(t,1,!1,t.toLowerCase(),null,!0,!0)});function RN(t,e,r,n){var i=br.hasOwnProperty(e)?br[e]:null;(i!==null?i.type!==0:n||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(yQ(e,r,i,n)&&(r=null),n||i===null?vQ(e)&&(r===null?t.removeAttribute(e):t.setAttribute(e,""+r)):i.mustUseProperty?t[i.propertyName]=r===null?i.type===3?!1:"":r:(e=i.attributeName,n=i.attributeNamespace,r===null?t.removeAttribute(e):(i=i.type,r=i===3||i===4&&r===!0?"":""+r,n?t.setAttributeNS(n,e,r):t.setAttribute(e,r))))}var cs=pQ.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Ch=Symbol.for("react.element"),ol=Symbol.for("react.portal"),ll=Symbol.for("react.fragment"),$N=Symbol.for("react.strict_mode"),M2=Symbol.for("react.profiler"),xW=Symbol.for("react.provider"),_W=Symbol.for("react.context"),kN=Symbol.for("react.forward_ref"),A2=Symbol.for("react.suspense"),F2=Symbol.for("react.suspense_list"),DN=Symbol.for("react.memo"),Es=Symbol.for("react.lazy"),SW=Symbol.for("react.offscreen"),aT=Symbol.iterator;function nc(t){return t===null||typeof t!="object"?null:(t=aT&&t[aT]||t["@@iterator"],typeof t=="function"?t:null)}var St=Object.assign,Im;function bc(t){if(Im===void 0)try{throw Error()}catch(r){var e=r.stack.trim().match(/\n( *(at )?)/);Im=e&&e[1]||""}return`
`+Im+t}var Rm=!1;function $m(t,e){if(!t||Rm)return"";Rm=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var n=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){n=c}t.call(e.prototype)}else{try{throw Error()}catch(c){n=c}t()}}catch(c){if(c&&n&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),s=n.stack.split(`
`),a=i.length-1,o=s.length-1;1<=a&&0<=o&&i[a]!==s[o];)o--;for(;1<=a&&0<=o;a--,o--)if(i[a]!==s[o]){if(a!==1||o!==1)do if(a--,o--,0>o||i[a]!==s[o]){var l=`
`+i[a].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=a&&0<=o);break}}}finally{Rm=!1,Error.prepareStackTrace=r}return(t=t?t.displayName||t.name:"")?bc(t):""}function bQ(t){switch(t.tag){case 5:return bc(t.type);case 16:return bc("Lazy");case 13:return bc("Suspense");case 19:return bc("SuspenseList");case 0:case 2:case 15:return t=$m(t.type,!1),t;case 11:return t=$m(t.type.render,!1),t;case 1:return t=$m(t.type,!0),t;default:return""}}function L2(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case ll:return"Fragment";case ol:return"Portal";case M2:return"Profiler";case $N:return"StrictMode";case A2:return"Suspense";case F2:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case _W:return(t.displayName||"Context")+".Consumer";case xW:return(t._context.displayName||"Context")+".Provider";case kN:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case DN:return e=t.displayName||null,e!==null?e:L2(t.type)||"Memo";case Es:e=t._payload,t=t._init;try{return L2(t(e))}catch{}}return null}function wQ(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return L2(e);case 8:return e===$N?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function la(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function EW(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function xQ(t){var e=EW(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),n=""+t[e];if(!t.hasOwnProperty(e)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var i=r.get,s=r.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(a){n=""+a,s.call(this,a)}}),Object.defineProperty(t,e,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(a){n=""+a},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Th(t){t._valueTracker||(t._valueTracker=xQ(t))}function OW(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var r=e.getValue(),n="";return t&&(n=EW(t)?t.checked?"true":"false":t.value),t=n,t!==r?(e.setValue(t),!0):!1}function Of(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function B2(t,e){var r=e.checked;return St({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??t._wrapperState.initialChecked})}function oT(t,e){var r=e.defaultValue==null?"":e.defaultValue,n=e.checked!=null?e.checked:e.defaultChecked;r=la(e.value!=null?e.value:r),t._wrapperState={initialChecked:n,initialValue:r,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function NW(t,e){e=e.checked,e!=null&&RN(t,"checked",e,!1)}function z2(t,e){NW(t,e);var r=la(e.value),n=e.type;if(r!=null)n==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+r):t.value!==""+r&&(t.value=""+r);else if(n==="submit"||n==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?U2(t,e.type,r):e.hasOwnProperty("defaultValue")&&U2(t,e.type,la(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function lT(t,e,r){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var n=e.type;if(!(n!=="submit"&&n!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,r||e===t.value||(t.value=e),t.defaultValue=e}r=t.name,r!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,r!==""&&(t.name=r)}function U2(t,e,r){(e!=="number"||Of(t.ownerDocument)!==t)&&(r==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+r&&(t.defaultValue=""+r))}var wc=Array.isArray;function Ol(t,e,r,n){if(t=t.options,e){e={};for(var i=0;i<r.length;i++)e["$"+r[i]]=!0;for(r=0;r<t.length;r++)i=e.hasOwnProperty("$"+t[r].value),t[r].selected!==i&&(t[r].selected=i),i&&n&&(t[r].defaultSelected=!0)}else{for(r=""+la(r),e=null,i=0;i<t.length;i++){if(t[i].value===r){t[i].selected=!0,n&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function W2(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(X(91));return St({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function uT(t,e){var r=e.value;if(r==null){if(r=e.children,e=e.defaultValue,r!=null){if(e!=null)throw Error(X(92));if(wc(r)){if(1<r.length)throw Error(X(93));r=r[0]}e=r}e==null&&(e=""),r=e}t._wrapperState={initialValue:la(r)}}function PW(t,e){var r=la(e.value),n=la(e.defaultValue);r!=null&&(r=""+r,r!==t.value&&(t.value=r),e.defaultValue==null&&t.defaultValue!==r&&(t.defaultValue=r)),n!=null&&(t.defaultValue=""+n)}function cT(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function CW(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function V2(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?CW(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var jh,TW=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,r,n,i){MSApp.execUnsafeLocalFunction(function(){return t(e,r,n,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(jh=jh||document.createElement("div"),jh.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=jh.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Vc(t,e){if(e){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=e;return}}t.textContent=e}var Nc={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},_Q=["Webkit","ms","Moz","O"];Object.keys(Nc).forEach(function(t){_Q.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Nc[e]=Nc[t]})});function jW(t,e,r){return e==null||typeof e=="boolean"||e===""?"":r||typeof e!="number"||e===0||Nc.hasOwnProperty(t)&&Nc[t]?(""+e).trim():e+"px"}function IW(t,e){t=t.style;for(var r in e)if(e.hasOwnProperty(r)){var n=r.indexOf("--")===0,i=jW(r,e[r],n);r==="float"&&(r="cssFloat"),n?t.setProperty(r,i):t[r]=i}}var SQ=St({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function H2(t,e){if(e){if(SQ[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(X(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(X(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(X(61))}if(e.style!=null&&typeof e.style!="object")throw Error(X(62))}}function K2(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var G2=null;function qN(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Y2=null,Nl=null,Pl=null;function dT(t){if(t=Dd(t)){if(typeof Y2!="function")throw Error(X(280));var e=t.stateNode;e&&(e=Ep(e),Y2(t.stateNode,t.type,e))}}function RW(t){Nl?Pl?Pl.push(t):Pl=[t]:Nl=t}function $W(){if(Nl){var t=Nl,e=Pl;if(Pl=Nl=null,dT(t),e)for(t=0;t<e.length;t++)dT(e[t])}}function kW(t,e){return t(e)}function DW(){}var km=!1;function qW(t,e,r){if(km)return t(e,r);km=!0;try{return kW(t,e,r)}finally{km=!1,(Nl!==null||Pl!==null)&&(DW(),$W())}}function Hc(t,e){var r=t.stateNode;if(r===null)return null;var n=Ep(r);if(n===null)return null;r=n[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(t=t.type,n=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!n;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(X(231,e,typeof r));return r}var Q2=!1;if(ss)try{var ic={};Object.defineProperty(ic,"passive",{get:function(){Q2=!0}}),window.addEventListener("test",ic,ic),window.removeEventListener("test",ic,ic)}catch{Q2=!1}function EQ(t,e,r,n,i,s,a,o,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(r,c)}catch(d){this.onError(d)}}var Pc=!1,Nf=null,Pf=!1,X2=null,OQ={onError:function(t){Pc=!0,Nf=t}};function NQ(t,e,r,n,i,s,a,o,l){Pc=!1,Nf=null,EQ.apply(OQ,arguments)}function PQ(t,e,r,n,i,s,a,o,l){if(NQ.apply(this,arguments),Pc){if(Pc){var c=Nf;Pc=!1,Nf=null}else throw Error(X(198));Pf||(Pf=!0,X2=c)}}function Io(t){var e=t,r=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(r=e.return),t=e.return;while(t)}return e.tag===3?r:null}function MW(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function hT(t){if(Io(t)!==t)throw Error(X(188))}function CQ(t){var e=t.alternate;if(!e){if(e=Io(t),e===null)throw Error(X(188));return e!==t?null:t}for(var r=t,n=e;;){var i=r.return;if(i===null)break;var s=i.alternate;if(s===null){if(n=i.return,n!==null){r=n;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===r)return hT(i),t;if(s===n)return hT(i),e;s=s.sibling}throw Error(X(188))}if(r.return!==n.return)r=i,n=s;else{for(var a=!1,o=i.child;o;){if(o===r){a=!0,r=i,n=s;break}if(o===n){a=!0,n=i,r=s;break}o=o.sibling}if(!a){for(o=s.child;o;){if(o===r){a=!0,r=s,n=i;break}if(o===n){a=!0,n=s,r=i;break}o=o.sibling}if(!a)throw Error(X(189))}}if(r.alternate!==n)throw Error(X(190))}if(r.tag!==3)throw Error(X(188));return r.stateNode.current===r?t:e}function AW(t){return t=CQ(t),t!==null?FW(t):null}function FW(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=FW(t);if(e!==null)return e;t=t.sibling}return null}var LW=gn.unstable_scheduleCallback,fT=gn.unstable_cancelCallback,TQ=gn.unstable_shouldYield,jQ=gn.unstable_requestPaint,kt=gn.unstable_now,IQ=gn.unstable_getCurrentPriorityLevel,MN=gn.unstable_ImmediatePriority,BW=gn.unstable_UserBlockingPriority,Cf=gn.unstable_NormalPriority,RQ=gn.unstable_LowPriority,zW=gn.unstable_IdlePriority,wp=null,Ni=null;function $Q(t){if(Ni&&typeof Ni.onCommitFiberRoot=="function")try{Ni.onCommitFiberRoot(wp,t,void 0,(t.current.flags&128)===128)}catch{}}var ni=Math.clz32?Math.clz32:qQ,kQ=Math.log,DQ=Math.LN2;function qQ(t){return t>>>=0,t===0?32:31-(kQ(t)/DQ|0)|0}var Ih=64,Rh=4194304;function xc(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Tf(t,e){var r=t.pendingLanes;if(r===0)return 0;var n=0,i=t.suspendedLanes,s=t.pingedLanes,a=r&268435455;if(a!==0){var o=a&~i;o!==0?n=xc(o):(s&=a,s!==0&&(n=xc(s)))}else a=r&~i,a!==0?n=xc(a):s!==0&&(n=xc(s));if(n===0)return 0;if(e!==0&&e!==n&&!(e&i)&&(i=n&-n,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(n&4&&(n|=r&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=n;0<e;)r=31-ni(e),i=1<<r,n|=t[r],e&=~i;return n}function MQ(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function AQ(t,e){for(var r=t.suspendedLanes,n=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var a=31-ni(s),o=1<<a,l=i[a];l===-1?(!(o&r)||o&n)&&(i[a]=MQ(o,e)):l<=e&&(t.expiredLanes|=o),s&=~o}}function J2(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function UW(){var t=Ih;return Ih<<=1,!(Ih&4194240)&&(Ih=64),t}function Dm(t){for(var e=[],r=0;31>r;r++)e.push(t);return e}function $d(t,e,r){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-ni(e),t[e]=r}function FQ(t,e){var r=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var n=t.eventTimes;for(t=t.expirationTimes;0<r;){var i=31-ni(r),s=1<<i;e[i]=0,n[i]=-1,t[i]=-1,r&=~s}}function AN(t,e){var r=t.entangledLanes|=e;for(t=t.entanglements;r;){var n=31-ni(r),i=1<<n;i&e|t[n]&e&&(t[n]|=e),r&=~i}}var Qe=0;function WW(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var VW,FN,HW,KW,GW,Z2=!1,$h=[],Vs=null,Hs=null,Ks=null,Kc=new Map,Gc=new Map,Cs=[],LQ="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function pT(t,e){switch(t){case"focusin":case"focusout":Vs=null;break;case"dragenter":case"dragleave":Hs=null;break;case"mouseover":case"mouseout":Ks=null;break;case"pointerover":case"pointerout":Kc.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Gc.delete(e.pointerId)}}function sc(t,e,r,n,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:r,eventSystemFlags:n,nativeEvent:s,targetContainers:[i]},e!==null&&(e=Dd(e),e!==null&&FN(e)),t):(t.eventSystemFlags|=n,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function BQ(t,e,r,n,i){switch(e){case"focusin":return Vs=sc(Vs,t,e,r,n,i),!0;case"dragenter":return Hs=sc(Hs,t,e,r,n,i),!0;case"mouseover":return Ks=sc(Ks,t,e,r,n,i),!0;case"pointerover":var s=i.pointerId;return Kc.set(s,sc(Kc.get(s)||null,t,e,r,n,i)),!0;case"gotpointercapture":return s=i.pointerId,Gc.set(s,sc(Gc.get(s)||null,t,e,r,n,i)),!0}return!1}function YW(t){var e=ka(t.target);if(e!==null){var r=Io(e);if(r!==null){if(e=r.tag,e===13){if(e=MW(r),e!==null){t.blockedOn=e,GW(t.priority,function(){HW(r)});return}}else if(e===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function sf(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var r=eO(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(r===null){r=t.nativeEvent;var n=new r.constructor(r.type,r);G2=n,r.target.dispatchEvent(n),G2=null}else return e=Dd(r),e!==null&&FN(e),t.blockedOn=r,!1;e.shift()}return!0}function mT(t,e,r){sf(t)&&r.delete(e)}function zQ(){Z2=!1,Vs!==null&&sf(Vs)&&(Vs=null),Hs!==null&&sf(Hs)&&(Hs=null),Ks!==null&&sf(Ks)&&(Ks=null),Kc.forEach(mT),Gc.forEach(mT)}function ac(t,e){t.blockedOn===e&&(t.blockedOn=null,Z2||(Z2=!0,gn.unstable_scheduleCallback(gn.unstable_NormalPriority,zQ)))}function Yc(t){function e(i){return ac(i,t)}if(0<$h.length){ac($h[0],t);for(var r=1;r<$h.length;r++){var n=$h[r];n.blockedOn===t&&(n.blockedOn=null)}}for(Vs!==null&&ac(Vs,t),Hs!==null&&ac(Hs,t),Ks!==null&&ac(Ks,t),Kc.forEach(e),Gc.forEach(e),r=0;r<Cs.length;r++)n=Cs[r],n.blockedOn===t&&(n.blockedOn=null);for(;0<Cs.length&&(r=Cs[0],r.blockedOn===null);)YW(r),r.blockedOn===null&&Cs.shift()}var Cl=cs.ReactCurrentBatchConfig,jf=!0;function UQ(t,e,r,n){var i=Qe,s=Cl.transition;Cl.transition=null;try{Qe=1,LN(t,e,r,n)}finally{Qe=i,Cl.transition=s}}function WQ(t,e,r,n){var i=Qe,s=Cl.transition;Cl.transition=null;try{Qe=4,LN(t,e,r,n)}finally{Qe=i,Cl.transition=s}}function LN(t,e,r,n){if(jf){var i=eO(t,e,r,n);if(i===null)Vm(t,e,n,If,r),pT(t,n);else if(BQ(i,t,e,r,n))n.stopPropagation();else if(pT(t,n),e&4&&-1<LQ.indexOf(t)){for(;i!==null;){var s=Dd(i);if(s!==null&&VW(s),s=eO(t,e,r,n),s===null&&Vm(t,e,n,If,r),s===i)break;i=s}i!==null&&n.stopPropagation()}else Vm(t,e,n,null,r)}}var If=null;function eO(t,e,r,n){if(If=null,t=qN(n),t=ka(t),t!==null)if(e=Io(t),e===null)t=null;else if(r=e.tag,r===13){if(t=MW(e),t!==null)return t;t=null}else if(r===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return If=t,null}function QW(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(IQ()){case MN:return 1;case BW:return 4;case Cf:case RQ:return 16;case zW:return 536870912;default:return 16}default:return 16}}var Bs=null,BN=null,af=null;function XW(){if(af)return af;var t,e=BN,r=e.length,n,i="value"in Bs?Bs.value:Bs.textContent,s=i.length;for(t=0;t<r&&e[t]===i[t];t++);var a=r-t;for(n=1;n<=a&&e[r-n]===i[s-n];n++);return af=i.slice(t,1<n?1-n:void 0)}function of(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function kh(){return!0}function vT(){return!1}function wn(t){function e(r,n,i,s,a){this._reactName=r,this._targetInst=i,this.type=n,this.nativeEvent=s,this.target=a,this.currentTarget=null;for(var o in t)t.hasOwnProperty(o)&&(r=t[o],this[o]=r?r(s):s[o]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?kh:vT,this.isPropagationStopped=vT,this}return St(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=kh)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=kh)},persist:function(){},isPersistent:kh}),e}var bu={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},zN=wn(bu),kd=St({},bu,{view:0,detail:0}),VQ=wn(kd),qm,Mm,oc,xp=St({},kd,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:UN,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==oc&&(oc&&t.type==="mousemove"?(qm=t.screenX-oc.screenX,Mm=t.screenY-oc.screenY):Mm=qm=0,oc=t),qm)},movementY:function(t){return"movementY"in t?t.movementY:Mm}}),gT=wn(xp),HQ=St({},xp,{dataTransfer:0}),KQ=wn(HQ),GQ=St({},kd,{relatedTarget:0}),Am=wn(GQ),YQ=St({},bu,{animationName:0,elapsedTime:0,pseudoElement:0}),QQ=wn(YQ),XQ=St({},bu,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),JQ=wn(XQ),ZQ=St({},bu,{data:0}),yT=wn(ZQ),eX={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},tX={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},rX={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function nX(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=rX[t])?!!e[t]:!1}function UN(){return nX}var iX=St({},kd,{key:function(t){if(t.key){var e=eX[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=of(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?tX[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:UN,charCode:function(t){return t.type==="keypress"?of(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?of(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),sX=wn(iX),aX=St({},xp,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),bT=wn(aX),oX=St({},kd,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:UN}),lX=wn(oX),uX=St({},bu,{propertyName:0,elapsedTime:0,pseudoElement:0}),cX=wn(uX),dX=St({},xp,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),hX=wn(dX),fX=[9,13,27,32],WN=ss&&"CompositionEvent"in window,Cc=null;ss&&"documentMode"in document&&(Cc=document.documentMode);var pX=ss&&"TextEvent"in window&&!Cc,JW=ss&&(!WN||Cc&&8<Cc&&11>=Cc),wT=" ",xT=!1;function ZW(t,e){switch(t){case"keyup":return fX.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function e9(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var ul=!1;function mX(t,e){switch(t){case"compositionend":return e9(e);case"keypress":return e.which!==32?null:(xT=!0,wT);case"textInput":return t=e.data,t===wT&&xT?null:t;default:return null}}function vX(t,e){if(ul)return t==="compositionend"||!WN&&ZW(t,e)?(t=XW(),af=BN=Bs=null,ul=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return JW&&e.locale!=="ko"?null:e.data;default:return null}}var gX={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function _T(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!gX[t.type]:e==="textarea"}function t9(t,e,r,n){RW(n),e=Rf(e,"onChange"),0<e.length&&(r=new zN("onChange","change",null,r,n),t.push({event:r,listeners:e}))}var Tc=null,Qc=null;function yX(t){h9(t,0)}function _p(t){var e=hl(t);if(OW(e))return t}function bX(t,e){if(t==="change")return e}var r9=!1;if(ss){var Fm;if(ss){var Lm="oninput"in document;if(!Lm){var ST=document.createElement("div");ST.setAttribute("oninput","return;"),Lm=typeof ST.oninput=="function"}Fm=Lm}else Fm=!1;r9=Fm&&(!document.documentMode||9<document.documentMode)}function ET(){Tc&&(Tc.detachEvent("onpropertychange",n9),Qc=Tc=null)}function n9(t){if(t.propertyName==="value"&&_p(Qc)){var e=[];t9(e,Qc,t,qN(t)),qW(yX,e)}}function wX(t,e,r){t==="focusin"?(ET(),Tc=e,Qc=r,Tc.attachEvent("onpropertychange",n9)):t==="focusout"&&ET()}function xX(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return _p(Qc)}function _X(t,e){if(t==="click")return _p(e)}function SX(t,e){if(t==="input"||t==="change")return _p(e)}function EX(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var si=typeof Object.is=="function"?Object.is:EX;function Xc(t,e){if(si(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var i=r[n];if(!q2.call(e,i)||!si(t[i],e[i]))return!1}return!0}function OT(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function NT(t,e){var r=OT(t);t=0;for(var n;r;){if(r.nodeType===3){if(n=t+r.textContent.length,t<=e&&n>=e)return{node:r,offset:e-t};t=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=OT(r)}}function i9(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?i9(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function s9(){for(var t=window,e=Of();e instanceof t.HTMLIFrameElement;){try{var r=typeof e.contentWindow.location.href=="string"}catch{r=!1}if(r)t=e.contentWindow;else break;e=Of(t.document)}return e}function VN(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function OX(t){var e=s9(),r=t.focusedElem,n=t.selectionRange;if(e!==r&&r&&r.ownerDocument&&i9(r.ownerDocument.documentElement,r)){if(n!==null&&VN(r)){if(e=n.start,t=n.end,t===void 0&&(t=e),"selectionStart"in r)r.selectionStart=e,r.selectionEnd=Math.min(t,r.value.length);else if(t=(e=r.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=r.textContent.length,s=Math.min(n.start,i);n=n.end===void 0?s:Math.min(n.end,i),!t.extend&&s>n&&(i=n,n=s,s=i),i=NT(r,s);var a=NT(r,n);i&&a&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==a.node||t.focusOffset!==a.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>n?(t.addRange(e),t.extend(a.node,a.offset)):(e.setEnd(a.node,a.offset),t.addRange(e)))}}for(e=[],t=r;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<e.length;r++)t=e[r],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var NX=ss&&"documentMode"in document&&11>=document.documentMode,cl=null,tO=null,jc=null,rO=!1;function PT(t,e,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;rO||cl==null||cl!==Of(n)||(n=cl,"selectionStart"in n&&VN(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),jc&&Xc(jc,n)||(jc=n,n=Rf(tO,"onSelect"),0<n.length&&(e=new zN("onSelect","select",null,e,r),t.push({event:e,listeners:n}),e.target=cl)))}function Dh(t,e){var r={};return r[t.toLowerCase()]=e.toLowerCase(),r["Webkit"+t]="webkit"+e,r["Moz"+t]="moz"+e,r}var dl={animationend:Dh("Animation","AnimationEnd"),animationiteration:Dh("Animation","AnimationIteration"),animationstart:Dh("Animation","AnimationStart"),transitionend:Dh("Transition","TransitionEnd")},Bm={},a9={};ss&&(a9=document.createElement("div").style,"AnimationEvent"in window||(delete dl.animationend.animation,delete dl.animationiteration.animation,delete dl.animationstart.animation),"TransitionEvent"in window||delete dl.transitionend.transition);function Sp(t){if(Bm[t])return Bm[t];if(!dl[t])return t;var e=dl[t],r;for(r in e)if(e.hasOwnProperty(r)&&r in a9)return Bm[t]=e[r];return t}var o9=Sp("animationend"),l9=Sp("animationiteration"),u9=Sp("animationstart"),c9=Sp("transitionend"),d9=new Map,CT="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function va(t,e){d9.set(t,e),jo(e,[t])}for(var zm=0;zm<CT.length;zm++){var Um=CT[zm],PX=Um.toLowerCase(),CX=Um[0].toUpperCase()+Um.slice(1);va(PX,"on"+CX)}va(o9,"onAnimationEnd");va(l9,"onAnimationIteration");va(u9,"onAnimationStart");va("dblclick","onDoubleClick");va("focusin","onFocus");va("focusout","onBlur");va(c9,"onTransitionEnd");Ql("onMouseEnter",["mouseout","mouseover"]);Ql("onMouseLeave",["mouseout","mouseover"]);Ql("onPointerEnter",["pointerout","pointerover"]);Ql("onPointerLeave",["pointerout","pointerover"]);jo("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));jo("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));jo("onBeforeInput",["compositionend","keypress","textInput","paste"]);jo("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));jo("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));jo("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var _c="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),TX=new Set("cancel close invalid load scroll toggle".split(" ").concat(_c));function TT(t,e,r){var n=t.type||"unknown-event";t.currentTarget=r,PQ(n,e,void 0,t),t.currentTarget=null}function h9(t,e){e=(e&4)!==0;for(var r=0;r<t.length;r++){var n=t[r],i=n.event;n=n.listeners;e:{var s=void 0;if(e)for(var a=n.length-1;0<=a;a--){var o=n[a],l=o.instance,c=o.currentTarget;if(o=o.listener,l!==s&&i.isPropagationStopped())break e;TT(i,o,c),s=l}else for(a=0;a<n.length;a++){if(o=n[a],l=o.instance,c=o.currentTarget,o=o.listener,l!==s&&i.isPropagationStopped())break e;TT(i,o,c),s=l}}}if(Pf)throw t=X2,Pf=!1,X2=null,t}function dt(t,e){var r=e[oO];r===void 0&&(r=e[oO]=new Set);var n=t+"__bubble";r.has(n)||(f9(e,t,2,!1),r.add(n))}function Wm(t,e,r){var n=0;e&&(n|=4),f9(r,t,n,e)}var qh="_reactListening"+Math.random().toString(36).slice(2);function Jc(t){if(!t[qh]){t[qh]=!0,wW.forEach(function(r){r!=="selectionchange"&&(TX.has(r)||Wm(r,!1,t),Wm(r,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[qh]||(e[qh]=!0,Wm("selectionchange",!1,e))}}function f9(t,e,r,n){switch(QW(e)){case 1:var i=UQ;break;case 4:i=WQ;break;default:i=LN}r=i.bind(null,e,r,t),i=void 0,!Q2||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),n?i!==void 0?t.addEventListener(e,r,{capture:!0,passive:i}):t.addEventListener(e,r,!0):i!==void 0?t.addEventListener(e,r,{passive:i}):t.addEventListener(e,r,!1)}function Vm(t,e,r,n,i){var s=n;if(!(e&1)&&!(e&2)&&n!==null)e:for(;;){if(n===null)return;var a=n.tag;if(a===3||a===4){var o=n.stateNode.containerInfo;if(o===i||o.nodeType===8&&o.parentNode===i)break;if(a===4)for(a=n.return;a!==null;){var l=a.tag;if((l===3||l===4)&&(l=a.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;a=a.return}for(;o!==null;){if(a=ka(o),a===null)return;if(l=a.tag,l===5||l===6){n=s=a;continue e}o=o.parentNode}}n=n.return}qW(function(){var c=s,d=qN(r),h=[];e:{var f=d9.get(t);if(f!==void 0){var p=zN,m=t;switch(t){case"keypress":if(of(r)===0)break e;case"keydown":case"keyup":p=sX;break;case"focusin":m="focus",p=Am;break;case"focusout":m="blur",p=Am;break;case"beforeblur":case"afterblur":p=Am;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=gT;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=KQ;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=lX;break;case o9:case l9:case u9:p=QQ;break;case c9:p=cX;break;case"scroll":p=VQ;break;case"wheel":p=hX;break;case"copy":case"cut":case"paste":p=JQ;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=bT}var y=(e&4)!==0,w=!y&&t==="scroll",g=y?f!==null?f+"Capture":null:f;y=[];for(var v=c,x;v!==null;){x=v;var b=x.stateNode;if(x.tag===5&&b!==null&&(x=b,g!==null&&(b=Hc(v,g),b!=null&&y.push(Zc(v,b,x)))),w)break;v=v.return}0<y.length&&(f=new p(f,m,null,r,d),h.push({event:f,listeners:y}))}}if(!(e&7)){e:{if(f=t==="mouseover"||t==="pointerover",p=t==="mouseout"||t==="pointerout",f&&r!==G2&&(m=r.relatedTarget||r.fromElement)&&(ka(m)||m[as]))break e;if((p||f)&&(f=d.window===d?d:(f=d.ownerDocument)?f.defaultView||f.parentWindow:window,p?(m=r.relatedTarget||r.toElement,p=c,m=m?ka(m):null,m!==null&&(w=Io(m),m!==w||m.tag!==5&&m.tag!==6)&&(m=null)):(p=null,m=c),p!==m)){if(y=gT,b="onMouseLeave",g="onMouseEnter",v="mouse",(t==="pointerout"||t==="pointerover")&&(y=bT,b="onPointerLeave",g="onPointerEnter",v="pointer"),w=p==null?f:hl(p),x=m==null?f:hl(m),f=new y(b,v+"leave",p,r,d),f.target=w,f.relatedTarget=x,b=null,ka(d)===c&&(y=new y(g,v+"enter",m,r,d),y.target=x,y.relatedTarget=w,b=y),w=b,p&&m)t:{for(y=p,g=m,v=0,x=y;x;x=Zo(x))v++;for(x=0,b=g;b;b=Zo(b))x++;for(;0<v-x;)y=Zo(y),v--;for(;0<x-v;)g=Zo(g),x--;for(;v--;){if(y===g||g!==null&&y===g.alternate)break t;y=Zo(y),g=Zo(g)}y=null}else y=null;p!==null&&jT(h,f,p,y,!1),m!==null&&w!==null&&jT(h,w,m,y,!0)}}e:{if(f=c?hl(c):window,p=f.nodeName&&f.nodeName.toLowerCase(),p==="select"||p==="input"&&f.type==="file")var _=bX;else if(_T(f))if(r9)_=SX;else{_=xX;var E=wX}else(p=f.nodeName)&&p.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(_=_X);if(_&&(_=_(t,c))){t9(h,_,r,d);break e}E&&E(t,f,c),t==="focusout"&&(E=f._wrapperState)&&E.controlled&&f.type==="number"&&U2(f,"number",f.value)}switch(E=c?hl(c):window,t){case"focusin":(_T(E)||E.contentEditable==="true")&&(cl=E,tO=c,jc=null);break;case"focusout":jc=tO=cl=null;break;case"mousedown":rO=!0;break;case"contextmenu":case"mouseup":case"dragend":rO=!1,PT(h,r,d);break;case"selectionchange":if(NX)break;case"keydown":case"keyup":PT(h,r,d)}var O;if(WN)e:{switch(t){case"compositionstart":var S="onCompositionStart";break e;case"compositionend":S="onCompositionEnd";break e;case"compositionupdate":S="onCompositionUpdate";break e}S=void 0}else ul?ZW(t,r)&&(S="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(S="onCompositionStart");S&&(JW&&r.locale!=="ko"&&(ul||S!=="onCompositionStart"?S==="onCompositionEnd"&&ul&&(O=XW()):(Bs=d,BN="value"in Bs?Bs.value:Bs.textContent,ul=!0)),E=Rf(c,S),0<E.length&&(S=new yT(S,t,null,r,d),h.push({event:S,listeners:E}),O?S.data=O:(O=e9(r),O!==null&&(S.data=O)))),(O=pX?mX(t,r):vX(t,r))&&(c=Rf(c,"onBeforeInput"),0<c.length&&(d=new yT("onBeforeInput","beforeinput",null,r,d),h.push({event:d,listeners:c}),d.data=O))}h9(h,e)})}function Zc(t,e,r){return{instance:t,listener:e,currentTarget:r}}function Rf(t,e){for(var r=e+"Capture",n=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=Hc(t,r),s!=null&&n.unshift(Zc(t,s,i)),s=Hc(t,e),s!=null&&n.push(Zc(t,s,i))),t=t.return}return n}function Zo(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function jT(t,e,r,n,i){for(var s=e._reactName,a=[];r!==null&&r!==n;){var o=r,l=o.alternate,c=o.stateNode;if(l!==null&&l===n)break;o.tag===5&&c!==null&&(o=c,i?(l=Hc(r,s),l!=null&&a.unshift(Zc(r,l,o))):i||(l=Hc(r,s),l!=null&&a.push(Zc(r,l,o)))),r=r.return}a.length!==0&&t.push({event:e,listeners:a})}var jX=/\r\n?/g,IX=/\u0000|\uFFFD/g;function IT(t){return(typeof t=="string"?t:""+t).replace(jX,`
`).replace(IX,"")}function Mh(t,e,r){if(e=IT(e),IT(t)!==e&&r)throw Error(X(425))}function $f(){}var nO=null,iO=null;function sO(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var aO=typeof setTimeout=="function"?setTimeout:void 0,RX=typeof clearTimeout=="function"?clearTimeout:void 0,RT=typeof Promise=="function"?Promise:void 0,$X=typeof queueMicrotask=="function"?queueMicrotask:typeof RT<"u"?function(t){return RT.resolve(null).then(t).catch(kX)}:aO;function kX(t){setTimeout(function(){throw t})}function Hm(t,e){var r=e,n=0;do{var i=r.nextSibling;if(t.removeChild(r),i&&i.nodeType===8)if(r=i.data,r==="/$"){if(n===0){t.removeChild(i),Yc(e);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=i}while(r);Yc(e)}function Gs(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function $T(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(e===0)return t;e--}else r==="/$"&&e++}t=t.previousSibling}return null}var wu=Math.random().toString(36).slice(2),xi="__reactFiber$"+wu,ed="__reactProps$"+wu,as="__reactContainer$"+wu,oO="__reactEvents$"+wu,DX="__reactListeners$"+wu,qX="__reactHandles$"+wu;function ka(t){var e=t[xi];if(e)return e;for(var r=t.parentNode;r;){if(e=r[as]||r[xi]){if(r=e.alternate,e.child!==null||r!==null&&r.child!==null)for(t=$T(t);t!==null;){if(r=t[xi])return r;t=$T(t)}return e}t=r,r=t.parentNode}return null}function Dd(t){return t=t[xi]||t[as],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function hl(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(X(33))}function Ep(t){return t[ed]||null}var lO=[],fl=-1;function ga(t){return{current:t}}function ht(t){0>fl||(t.current=lO[fl],lO[fl]=null,fl--)}function ct(t,e){fl++,lO[fl]=t.current,t.current=e}var ua={},Tr=ga(ua),Zr=ga(!1),ho=ua;function Xl(t,e){var r=t.type.contextTypes;if(!r)return ua;var n=t.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===e)return n.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in r)i[s]=e[s];return n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function en(t){return t=t.childContextTypes,t!=null}function kf(){ht(Zr),ht(Tr)}function kT(t,e,r){if(Tr.current!==ua)throw Error(X(168));ct(Tr,e),ct(Zr,r)}function p9(t,e,r){var n=t.stateNode;if(e=e.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var i in n)if(!(i in e))throw Error(X(108,wQ(t)||"Unknown",i));return St({},r,n)}function Df(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||ua,ho=Tr.current,ct(Tr,t),ct(Zr,Zr.current),!0}function DT(t,e,r){var n=t.stateNode;if(!n)throw Error(X(169));r?(t=p9(t,e,ho),n.__reactInternalMemoizedMergedChildContext=t,ht(Zr),ht(Tr),ct(Tr,t)):ht(Zr),ct(Zr,r)}var Fi=null,Op=!1,Km=!1;function m9(t){Fi===null?Fi=[t]:Fi.push(t)}function MX(t){Op=!0,m9(t)}function ya(){if(!Km&&Fi!==null){Km=!0;var t=0,e=Qe;try{var r=Fi;for(Qe=1;t<r.length;t++){var n=r[t];do n=n(!0);while(n!==null)}Fi=null,Op=!1}catch(i){throw Fi!==null&&(Fi=Fi.slice(t+1)),LW(MN,ya),i}finally{Qe=e,Km=!1}}return null}var pl=[],ml=0,qf=null,Mf=0,jn=[],In=0,fo=null,Wi=1,Vi="";function Ia(t,e){pl[ml++]=Mf,pl[ml++]=qf,qf=t,Mf=e}function v9(t,e,r){jn[In++]=Wi,jn[In++]=Vi,jn[In++]=fo,fo=t;var n=Wi;t=Vi;var i=32-ni(n)-1;n&=~(1<<i),r+=1;var s=32-ni(e)+i;if(30<s){var a=i-i%5;s=(n&(1<<a)-1).toString(32),n>>=a,i-=a,Wi=1<<32-ni(e)+i|r<<i|n,Vi=s+t}else Wi=1<<s|r<<i|n,Vi=t}function HN(t){t.return!==null&&(Ia(t,1),v9(t,1,0))}function KN(t){for(;t===qf;)qf=pl[--ml],pl[ml]=null,Mf=pl[--ml],pl[ml]=null;for(;t===fo;)fo=jn[--In],jn[In]=null,Vi=jn[--In],jn[In]=null,Wi=jn[--In],jn[In]=null}var vn=null,mn=null,mt=!1,Xn=null;function g9(t,e){var r=$n(5,null,null,0);r.elementType="DELETED",r.stateNode=e,r.return=t,e=t.deletions,e===null?(t.deletions=[r],t.flags|=16):e.push(r)}function qT(t,e){switch(t.tag){case 5:var r=t.type;return e=e.nodeType!==1||r.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,vn=t,mn=Gs(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,vn=t,mn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(r=fo!==null?{id:Wi,overflow:Vi}:null,t.memoizedState={dehydrated:e,treeContext:r,retryLane:1073741824},r=$n(18,null,null,0),r.stateNode=e,r.return=t,t.child=r,vn=t,mn=null,!0):!1;default:return!1}}function uO(t){return(t.mode&1)!==0&&(t.flags&128)===0}function cO(t){if(mt){var e=mn;if(e){var r=e;if(!qT(t,e)){if(uO(t))throw Error(X(418));e=Gs(r.nextSibling);var n=vn;e&&qT(t,e)?g9(n,r):(t.flags=t.flags&-4097|2,mt=!1,vn=t)}}else{if(uO(t))throw Error(X(418));t.flags=t.flags&-4097|2,mt=!1,vn=t}}}function MT(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;vn=t}function Ah(t){if(t!==vn)return!1;if(!mt)return MT(t),mt=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!sO(t.type,t.memoizedProps)),e&&(e=mn)){if(uO(t))throw y9(),Error(X(418));for(;e;)g9(t,e),e=Gs(e.nextSibling)}if(MT(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(X(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"){if(e===0){mn=Gs(t.nextSibling);break e}e--}else r!=="$"&&r!=="$!"&&r!=="$?"||e++}t=t.nextSibling}mn=null}}else mn=vn?Gs(t.stateNode.nextSibling):null;return!0}function y9(){for(var t=mn;t;)t=Gs(t.nextSibling)}function Jl(){mn=vn=null,mt=!1}function GN(t){Xn===null?Xn=[t]:Xn.push(t)}var AX=cs.ReactCurrentBatchConfig;function lc(t,e,r){if(t=r.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(X(309));var n=r.stateNode}if(!n)throw Error(X(147,t));var i=n,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(a){var o=i.refs;a===null?delete o[s]:o[s]=a},e._stringRef=s,e)}if(typeof t!="string")throw Error(X(284));if(!r._owner)throw Error(X(290,t))}return t}function Fh(t,e){throw t=Object.prototype.toString.call(e),Error(X(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function AT(t){var e=t._init;return e(t._payload)}function b9(t){function e(g,v){if(t){var x=g.deletions;x===null?(g.deletions=[v],g.flags|=16):x.push(v)}}function r(g,v){if(!t)return null;for(;v!==null;)e(g,v),v=v.sibling;return null}function n(g,v){for(g=new Map;v!==null;)v.key!==null?g.set(v.key,v):g.set(v.index,v),v=v.sibling;return g}function i(g,v){return g=Js(g,v),g.index=0,g.sibling=null,g}function s(g,v,x){return g.index=x,t?(x=g.alternate,x!==null?(x=x.index,x<v?(g.flags|=2,v):x):(g.flags|=2,v)):(g.flags|=1048576,v)}function a(g){return t&&g.alternate===null&&(g.flags|=2),g}function o(g,v,x,b){return v===null||v.tag!==6?(v=ev(x,g.mode,b),v.return=g,v):(v=i(v,x),v.return=g,v)}function l(g,v,x,b){var _=x.type;return _===ll?d(g,v,x.props.children,b,x.key):v!==null&&(v.elementType===_||typeof _=="object"&&_!==null&&_.$$typeof===Es&&AT(_)===v.type)?(b=i(v,x.props),b.ref=lc(g,v,x),b.return=g,b):(b=pf(x.type,x.key,x.props,null,g.mode,b),b.ref=lc(g,v,x),b.return=g,b)}function c(g,v,x,b){return v===null||v.tag!==4||v.stateNode.containerInfo!==x.containerInfo||v.stateNode.implementation!==x.implementation?(v=tv(x,g.mode,b),v.return=g,v):(v=i(v,x.children||[]),v.return=g,v)}function d(g,v,x,b,_){return v===null||v.tag!==7?(v=to(x,g.mode,b,_),v.return=g,v):(v=i(v,x),v.return=g,v)}function h(g,v,x){if(typeof v=="string"&&v!==""||typeof v=="number")return v=ev(""+v,g.mode,x),v.return=g,v;if(typeof v=="object"&&v!==null){switch(v.$$typeof){case Ch:return x=pf(v.type,v.key,v.props,null,g.mode,x),x.ref=lc(g,null,v),x.return=g,x;case ol:return v=tv(v,g.mode,x),v.return=g,v;case Es:var b=v._init;return h(g,b(v._payload),x)}if(wc(v)||nc(v))return v=to(v,g.mode,x,null),v.return=g,v;Fh(g,v)}return null}function f(g,v,x,b){var _=v!==null?v.key:null;if(typeof x=="string"&&x!==""||typeof x=="number")return _!==null?null:o(g,v,""+x,b);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case Ch:return x.key===_?l(g,v,x,b):null;case ol:return x.key===_?c(g,v,x,b):null;case Es:return _=x._init,f(g,v,_(x._payload),b)}if(wc(x)||nc(x))return _!==null?null:d(g,v,x,b,null);Fh(g,x)}return null}function p(g,v,x,b,_){if(typeof b=="string"&&b!==""||typeof b=="number")return g=g.get(x)||null,o(v,g,""+b,_);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case Ch:return g=g.get(b.key===null?x:b.key)||null,l(v,g,b,_);case ol:return g=g.get(b.key===null?x:b.key)||null,c(v,g,b,_);case Es:var E=b._init;return p(g,v,x,E(b._payload),_)}if(wc(b)||nc(b))return g=g.get(x)||null,d(v,g,b,_,null);Fh(v,b)}return null}function m(g,v,x,b){for(var _=null,E=null,O=v,S=v=0,N=null;O!==null&&S<x.length;S++){O.index>S?(N=O,O=null):N=O.sibling;var P=f(g,O,x[S],b);if(P===null){O===null&&(O=N);break}t&&O&&P.alternate===null&&e(g,O),v=s(P,v,S),E===null?_=P:E.sibling=P,E=P,O=N}if(S===x.length)return r(g,O),mt&&Ia(g,S),_;if(O===null){for(;S<x.length;S++)O=h(g,x[S],b),O!==null&&(v=s(O,v,S),E===null?_=O:E.sibling=O,E=O);return mt&&Ia(g,S),_}for(O=n(g,O);S<x.length;S++)N=p(O,g,S,x[S],b),N!==null&&(t&&N.alternate!==null&&O.delete(N.key===null?S:N.key),v=s(N,v,S),E===null?_=N:E.sibling=N,E=N);return t&&O.forEach(function(I){return e(g,I)}),mt&&Ia(g,S),_}function y(g,v,x,b){var _=nc(x);if(typeof _!="function")throw Error(X(150));if(x=_.call(x),x==null)throw Error(X(151));for(var E=_=null,O=v,S=v=0,N=null,P=x.next();O!==null&&!P.done;S++,P=x.next()){O.index>S?(N=O,O=null):N=O.sibling;var I=f(g,O,P.value,b);if(I===null){O===null&&(O=N);break}t&&O&&I.alternate===null&&e(g,O),v=s(I,v,S),E===null?_=I:E.sibling=I,E=I,O=N}if(P.done)return r(g,O),mt&&Ia(g,S),_;if(O===null){for(;!P.done;S++,P=x.next())P=h(g,P.value,b),P!==null&&(v=s(P,v,S),E===null?_=P:E.sibling=P,E=P);return mt&&Ia(g,S),_}for(O=n(g,O);!P.done;S++,P=x.next())P=p(O,g,S,P.value,b),P!==null&&(t&&P.alternate!==null&&O.delete(P.key===null?S:P.key),v=s(P,v,S),E===null?_=P:E.sibling=P,E=P);return t&&O.forEach(function(C){return e(g,C)}),mt&&Ia(g,S),_}function w(g,v,x,b){if(typeof x=="object"&&x!==null&&x.type===ll&&x.key===null&&(x=x.props.children),typeof x=="object"&&x!==null){switch(x.$$typeof){case Ch:e:{for(var _=x.key,E=v;E!==null;){if(E.key===_){if(_=x.type,_===ll){if(E.tag===7){r(g,E.sibling),v=i(E,x.props.children),v.return=g,g=v;break e}}else if(E.elementType===_||typeof _=="object"&&_!==null&&_.$$typeof===Es&&AT(_)===E.type){r(g,E.sibling),v=i(E,x.props),v.ref=lc(g,E,x),v.return=g,g=v;break e}r(g,E);break}else e(g,E);E=E.sibling}x.type===ll?(v=to(x.props.children,g.mode,b,x.key),v.return=g,g=v):(b=pf(x.type,x.key,x.props,null,g.mode,b),b.ref=lc(g,v,x),b.return=g,g=b)}return a(g);case ol:e:{for(E=x.key;v!==null;){if(v.key===E)if(v.tag===4&&v.stateNode.containerInfo===x.containerInfo&&v.stateNode.implementation===x.implementation){r(g,v.sibling),v=i(v,x.children||[]),v.return=g,g=v;break e}else{r(g,v);break}else e(g,v);v=v.sibling}v=tv(x,g.mode,b),v.return=g,g=v}return a(g);case Es:return E=x._init,w(g,v,E(x._payload),b)}if(wc(x))return m(g,v,x,b);if(nc(x))return y(g,v,x,b);Fh(g,x)}return typeof x=="string"&&x!==""||typeof x=="number"?(x=""+x,v!==null&&v.tag===6?(r(g,v.sibling),v=i(v,x),v.return=g,g=v):(r(g,v),v=ev(x,g.mode,b),v.return=g,g=v),a(g)):r(g,v)}return w}var Zl=b9(!0),w9=b9(!1),Af=ga(null),Ff=null,vl=null,YN=null;function QN(){YN=vl=Ff=null}function XN(t){var e=Af.current;ht(Af),t._currentValue=e}function dO(t,e,r){for(;t!==null;){var n=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,n!==null&&(n.childLanes|=e)):n!==null&&(n.childLanes&e)!==e&&(n.childLanes|=e),t===r)break;t=t.return}}function Tl(t,e){Ff=t,YN=vl=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Jr=!0),t.firstContext=null)}function Mn(t){var e=t._currentValue;if(YN!==t)if(t={context:t,memoizedValue:e,next:null},vl===null){if(Ff===null)throw Error(X(308));vl=t,Ff.dependencies={lanes:0,firstContext:t}}else vl=vl.next=t;return e}var Da=null;function JN(t){Da===null?Da=[t]:Da.push(t)}function x9(t,e,r,n){var i=e.interleaved;return i===null?(r.next=r,JN(e)):(r.next=i.next,i.next=r),e.interleaved=r,os(t,n)}function os(t,e){t.lanes|=e;var r=t.alternate;for(r!==null&&(r.lanes|=e),r=t,t=t.return;t!==null;)t.childLanes|=e,r=t.alternate,r!==null&&(r.childLanes|=e),r=t,t=t.return;return r.tag===3?r.stateNode:null}var Os=!1;function ZN(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function _9(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Gi(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Ys(t,e,r){var n=t.updateQueue;if(n===null)return null;if(n=n.shared,Ue&2){var i=n.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),n.pending=e,os(t,r)}return i=n.interleaved,i===null?(e.next=e,JN(n)):(e.next=i.next,i.next=e),n.interleaved=e,os(t,r)}function lf(t,e,r){if(e=e.updateQueue,e!==null&&(e=e.shared,(r&4194240)!==0)){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,AN(t,r)}}function FT(t,e){var r=t.updateQueue,n=t.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var i=null,s=null;if(r=r.firstBaseUpdate,r!==null){do{var a={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};s===null?i=s=a:s=s.next=a,r=r.next}while(r!==null);s===null?i=s=e:s=s.next=e}else i=s=e;r={baseState:n.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:n.shared,effects:n.effects},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=e:t.next=e,r.lastBaseUpdate=e}function Lf(t,e,r,n){var i=t.updateQueue;Os=!1;var s=i.firstBaseUpdate,a=i.lastBaseUpdate,o=i.shared.pending;if(o!==null){i.shared.pending=null;var l=o,c=l.next;l.next=null,a===null?s=c:a.next=c,a=l;var d=t.alternate;d!==null&&(d=d.updateQueue,o=d.lastBaseUpdate,o!==a&&(o===null?d.firstBaseUpdate=c:o.next=c,d.lastBaseUpdate=l))}if(s!==null){var h=i.baseState;a=0,d=c=l=null,o=s;do{var f=o.lane,p=o.eventTime;if((n&f)===f){d!==null&&(d=d.next={eventTime:p,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var m=t,y=o;switch(f=e,p=r,y.tag){case 1:if(m=y.payload,typeof m=="function"){h=m.call(p,h,f);break e}h=m;break e;case 3:m.flags=m.flags&-65537|128;case 0:if(m=y.payload,f=typeof m=="function"?m.call(p,h,f):m,f==null)break e;h=St({},h,f);break e;case 2:Os=!0}}o.callback!==null&&o.lane!==0&&(t.flags|=64,f=i.effects,f===null?i.effects=[o]:f.push(o))}else p={eventTime:p,lane:f,tag:o.tag,payload:o.payload,callback:o.callback,next:null},d===null?(c=d=p,l=h):d=d.next=p,a|=f;if(o=o.next,o===null){if(o=i.shared.pending,o===null)break;f=o,o=f.next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}while(!0);if(d===null&&(l=h),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=d,e=i.shared.interleaved,e!==null){i=e;do a|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);mo|=a,t.lanes=a,t.memoizedState=h}}function LT(t,e,r){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var n=t[e],i=n.callback;if(i!==null){if(n.callback=null,n=r,typeof i!="function")throw Error(X(191,i));i.call(n)}}}var qd={},Pi=ga(qd),td=ga(qd),rd=ga(qd);function qa(t){if(t===qd)throw Error(X(174));return t}function eP(t,e){switch(ct(rd,e),ct(td,t),ct(Pi,qd),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:V2(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=V2(e,t)}ht(Pi),ct(Pi,e)}function eu(){ht(Pi),ht(td),ht(rd)}function S9(t){qa(rd.current);var e=qa(Pi.current),r=V2(e,t.type);e!==r&&(ct(td,t),ct(Pi,r))}function tP(t){td.current===t&&(ht(Pi),ht(td))}var bt=ga(0);function Bf(t){for(var e=t;e!==null;){if(e.tag===13){var r=e.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Gm=[];function rP(){for(var t=0;t<Gm.length;t++)Gm[t]._workInProgressVersionPrimary=null;Gm.length=0}var uf=cs.ReactCurrentDispatcher,Ym=cs.ReactCurrentBatchConfig,po=0,xt=null,Jt=null,sr=null,zf=!1,Ic=!1,nd=0,FX=0;function Er(){throw Error(X(321))}function nP(t,e){if(e===null)return!1;for(var r=0;r<e.length&&r<t.length;r++)if(!si(t[r],e[r]))return!1;return!0}function iP(t,e,r,n,i,s){if(po=s,xt=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,uf.current=t===null||t.memoizedState===null?UX:WX,t=r(n,i),Ic){s=0;do{if(Ic=!1,nd=0,25<=s)throw Error(X(301));s+=1,sr=Jt=null,e.updateQueue=null,uf.current=VX,t=r(n,i)}while(Ic)}if(uf.current=Uf,e=Jt!==null&&Jt.next!==null,po=0,sr=Jt=xt=null,zf=!1,e)throw Error(X(300));return t}function sP(){var t=nd!==0;return nd=0,t}function pi(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return sr===null?xt.memoizedState=sr=t:sr=sr.next=t,sr}function An(){if(Jt===null){var t=xt.alternate;t=t!==null?t.memoizedState:null}else t=Jt.next;var e=sr===null?xt.memoizedState:sr.next;if(e!==null)sr=e,Jt=t;else{if(t===null)throw Error(X(310));Jt=t,t={memoizedState:Jt.memoizedState,baseState:Jt.baseState,baseQueue:Jt.baseQueue,queue:Jt.queue,next:null},sr===null?xt.memoizedState=sr=t:sr=sr.next=t}return sr}function id(t,e){return typeof e=="function"?e(t):e}function Qm(t){var e=An(),r=e.queue;if(r===null)throw Error(X(311));r.lastRenderedReducer=t;var n=Jt,i=n.baseQueue,s=r.pending;if(s!==null){if(i!==null){var a=i.next;i.next=s.next,s.next=a}n.baseQueue=i=s,r.pending=null}if(i!==null){s=i.next,n=n.baseState;var o=a=null,l=null,c=s;do{var d=c.lane;if((po&d)===d)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),n=c.hasEagerState?c.eagerState:t(n,c.action);else{var h={lane:d,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(o=l=h,a=n):l=l.next=h,xt.lanes|=d,mo|=d}c=c.next}while(c!==null&&c!==s);l===null?a=n:l.next=o,si(n,e.memoizedState)||(Jr=!0),e.memoizedState=n,e.baseState=a,e.baseQueue=l,r.lastRenderedState=n}if(t=r.interleaved,t!==null){i=t;do s=i.lane,xt.lanes|=s,mo|=s,i=i.next;while(i!==t)}else i===null&&(r.lanes=0);return[e.memoizedState,r.dispatch]}function Xm(t){var e=An(),r=e.queue;if(r===null)throw Error(X(311));r.lastRenderedReducer=t;var n=r.dispatch,i=r.pending,s=e.memoizedState;if(i!==null){r.pending=null;var a=i=i.next;do s=t(s,a.action),a=a.next;while(a!==i);si(s,e.memoizedState)||(Jr=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),r.lastRenderedState=s}return[s,n]}function E9(){}function O9(t,e){var r=xt,n=An(),i=e(),s=!si(n.memoizedState,i);if(s&&(n.memoizedState=i,Jr=!0),n=n.queue,aP(C9.bind(null,r,n,t),[t]),n.getSnapshot!==e||s||sr!==null&&sr.memoizedState.tag&1){if(r.flags|=2048,sd(9,P9.bind(null,r,n,i,e),void 0,null),ar===null)throw Error(X(349));po&30||N9(r,e,i)}return i}function N9(t,e,r){t.flags|=16384,t={getSnapshot:e,value:r},e=xt.updateQueue,e===null?(e={lastEffect:null,stores:null},xt.updateQueue=e,e.stores=[t]):(r=e.stores,r===null?e.stores=[t]:r.push(t))}function P9(t,e,r,n){e.value=r,e.getSnapshot=n,T9(e)&&j9(t)}function C9(t,e,r){return r(function(){T9(e)&&j9(t)})}function T9(t){var e=t.getSnapshot;t=t.value;try{var r=e();return!si(t,r)}catch{return!0}}function j9(t){var e=os(t,1);e!==null&&ii(e,t,1,-1)}function BT(t){var e=pi();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:id,lastRenderedState:t},e.queue=t,t=t.dispatch=zX.bind(null,xt,t),[e.memoizedState,t]}function sd(t,e,r,n){return t={tag:t,create:e,destroy:r,deps:n,next:null},e=xt.updateQueue,e===null?(e={lastEffect:null,stores:null},xt.updateQueue=e,e.lastEffect=t.next=t):(r=e.lastEffect,r===null?e.lastEffect=t.next=t:(n=r.next,r.next=t,t.next=n,e.lastEffect=t)),t}function I9(){return An().memoizedState}function cf(t,e,r,n){var i=pi();xt.flags|=t,i.memoizedState=sd(1|e,r,void 0,n===void 0?null:n)}function Np(t,e,r,n){var i=An();n=n===void 0?null:n;var s=void 0;if(Jt!==null){var a=Jt.memoizedState;if(s=a.destroy,n!==null&&nP(n,a.deps)){i.memoizedState=sd(e,r,s,n);return}}xt.flags|=t,i.memoizedState=sd(1|e,r,s,n)}function zT(t,e){return cf(8390656,8,t,e)}function aP(t,e){return Np(2048,8,t,e)}function R9(t,e){return Np(4,2,t,e)}function $9(t,e){return Np(4,4,t,e)}function k9(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function D9(t,e,r){return r=r!=null?r.concat([t]):null,Np(4,4,k9.bind(null,e,t),r)}function oP(){}function q9(t,e){var r=An();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&nP(e,n[1])?n[0]:(r.memoizedState=[t,e],t)}function M9(t,e){var r=An();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&nP(e,n[1])?n[0]:(t=t(),r.memoizedState=[t,e],t)}function A9(t,e,r){return po&21?(si(r,e)||(r=UW(),xt.lanes|=r,mo|=r,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Jr=!0),t.memoizedState=r)}function LX(t,e){var r=Qe;Qe=r!==0&&4>r?r:4,t(!0);var n=Ym.transition;Ym.transition={};try{t(!1),e()}finally{Qe=r,Ym.transition=n}}function F9(){return An().memoizedState}function BX(t,e,r){var n=Xs(t);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},L9(t))B9(e,r);else if(r=x9(t,e,r,n),r!==null){var i=Fr();ii(r,t,n,i),z9(r,e,n)}}function zX(t,e,r){var n=Xs(t),i={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(L9(t))B9(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var a=e.lastRenderedState,o=s(a,r);if(i.hasEagerState=!0,i.eagerState=o,si(o,a)){var l=e.interleaved;l===null?(i.next=i,JN(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}r=x9(t,e,i,n),r!==null&&(i=Fr(),ii(r,t,n,i),z9(r,e,n))}}function L9(t){var e=t.alternate;return t===xt||e!==null&&e===xt}function B9(t,e){Ic=zf=!0;var r=t.pending;r===null?e.next=e:(e.next=r.next,r.next=e),t.pending=e}function z9(t,e,r){if(r&4194240){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,AN(t,r)}}var Uf={readContext:Mn,useCallback:Er,useContext:Er,useEffect:Er,useImperativeHandle:Er,useInsertionEffect:Er,useLayoutEffect:Er,useMemo:Er,useReducer:Er,useRef:Er,useState:Er,useDebugValue:Er,useDeferredValue:Er,useTransition:Er,useMutableSource:Er,useSyncExternalStore:Er,useId:Er,unstable_isNewReconciler:!1},UX={readContext:Mn,useCallback:function(t,e){return pi().memoizedState=[t,e===void 0?null:e],t},useContext:Mn,useEffect:zT,useImperativeHandle:function(t,e,r){return r=r!=null?r.concat([t]):null,cf(4194308,4,k9.bind(null,e,t),r)},useLayoutEffect:function(t,e){return cf(4194308,4,t,e)},useInsertionEffect:function(t,e){return cf(4,2,t,e)},useMemo:function(t,e){var r=pi();return e=e===void 0?null:e,t=t(),r.memoizedState=[t,e],t},useReducer:function(t,e,r){var n=pi();return e=r!==void 0?r(e):e,n.memoizedState=n.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},n.queue=t,t=t.dispatch=BX.bind(null,xt,t),[n.memoizedState,t]},useRef:function(t){var e=pi();return t={current:t},e.memoizedState=t},useState:BT,useDebugValue:oP,useDeferredValue:function(t){return pi().memoizedState=t},useTransition:function(){var t=BT(!1),e=t[0];return t=LX.bind(null,t[1]),pi().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,r){var n=xt,i=pi();if(mt){if(r===void 0)throw Error(X(407));r=r()}else{if(r=e(),ar===null)throw Error(X(349));po&30||N9(n,e,r)}i.memoizedState=r;var s={value:r,getSnapshot:e};return i.queue=s,zT(C9.bind(null,n,s,t),[t]),n.flags|=2048,sd(9,P9.bind(null,n,s,r,e),void 0,null),r},useId:function(){var t=pi(),e=ar.identifierPrefix;if(mt){var r=Vi,n=Wi;r=(n&~(1<<32-ni(n)-1)).toString(32)+r,e=":"+e+"R"+r,r=nd++,0<r&&(e+="H"+r.toString(32)),e+=":"}else r=FX++,e=":"+e+"r"+r.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},WX={readContext:Mn,useCallback:q9,useContext:Mn,useEffect:aP,useImperativeHandle:D9,useInsertionEffect:R9,useLayoutEffect:$9,useMemo:M9,useReducer:Qm,useRef:I9,useState:function(){return Qm(id)},useDebugValue:oP,useDeferredValue:function(t){var e=An();return A9(e,Jt.memoizedState,t)},useTransition:function(){var t=Qm(id)[0],e=An().memoizedState;return[t,e]},useMutableSource:E9,useSyncExternalStore:O9,useId:F9,unstable_isNewReconciler:!1},VX={readContext:Mn,useCallback:q9,useContext:Mn,useEffect:aP,useImperativeHandle:D9,useInsertionEffect:R9,useLayoutEffect:$9,useMemo:M9,useReducer:Xm,useRef:I9,useState:function(){return Xm(id)},useDebugValue:oP,useDeferredValue:function(t){var e=An();return Jt===null?e.memoizedState=t:A9(e,Jt.memoizedState,t)},useTransition:function(){var t=Xm(id)[0],e=An().memoizedState;return[t,e]},useMutableSource:E9,useSyncExternalStore:O9,useId:F9,unstable_isNewReconciler:!1};function Kn(t,e){if(t&&t.defaultProps){e=St({},e),t=t.defaultProps;for(var r in t)e[r]===void 0&&(e[r]=t[r]);return e}return e}function hO(t,e,r,n){e=t.memoizedState,r=r(n,e),r=r==null?e:St({},e,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var Pp={isMounted:function(t){return(t=t._reactInternals)?Io(t)===t:!1},enqueueSetState:function(t,e,r){t=t._reactInternals;var n=Fr(),i=Xs(t),s=Gi(n,i);s.payload=e,r!=null&&(s.callback=r),e=Ys(t,s,i),e!==null&&(ii(e,t,i,n),lf(e,t,i))},enqueueReplaceState:function(t,e,r){t=t._reactInternals;var n=Fr(),i=Xs(t),s=Gi(n,i);s.tag=1,s.payload=e,r!=null&&(s.callback=r),e=Ys(t,s,i),e!==null&&(ii(e,t,i,n),lf(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var r=Fr(),n=Xs(t),i=Gi(r,n);i.tag=2,e!=null&&(i.callback=e),e=Ys(t,i,n),e!==null&&(ii(e,t,n,r),lf(e,t,n))}};function UT(t,e,r,n,i,s,a){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(n,s,a):e.prototype&&e.prototype.isPureReactComponent?!Xc(r,n)||!Xc(i,s):!0}function U9(t,e,r){var n=!1,i=ua,s=e.contextType;return typeof s=="object"&&s!==null?s=Mn(s):(i=en(e)?ho:Tr.current,n=e.contextTypes,s=(n=n!=null)?Xl(t,i):ua),e=new e(r,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Pp,t.stateNode=e,e._reactInternals=t,n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function WT(t,e,r,n){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(r,n),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(r,n),e.state!==t&&Pp.enqueueReplaceState(e,e.state,null)}function fO(t,e,r,n){var i=t.stateNode;i.props=r,i.state=t.memoizedState,i.refs={},ZN(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=Mn(s):(s=en(e)?ho:Tr.current,i.context=Xl(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(hO(t,e,s,r),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Pp.enqueueReplaceState(i,i.state,null),Lf(t,r,i,n),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function tu(t,e){try{var r="",n=e;do r+=bQ(n),n=n.return;while(n);var i=r}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function Jm(t,e,r){return{value:t,source:null,stack:r??null,digest:e??null}}function pO(t,e){try{console.error(e.value)}catch(r){setTimeout(function(){throw r})}}var HX=typeof WeakMap=="function"?WeakMap:Map;function W9(t,e,r){r=Gi(-1,r),r.tag=3,r.payload={element:null};var n=e.value;return r.callback=function(){Vf||(Vf=!0,EO=n),pO(t,e)},r}function V9(t,e,r){r=Gi(-1,r),r.tag=3;var n=t.type.getDerivedStateFromError;if(typeof n=="function"){var i=e.value;r.payload=function(){return n(i)},r.callback=function(){pO(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(r.callback=function(){pO(t,e),typeof n!="function"&&(Qs===null?Qs=new Set([this]):Qs.add(this));var a=e.stack;this.componentDidCatch(e.value,{componentStack:a!==null?a:""})}),r}function VT(t,e,r){var n=t.pingCache;if(n===null){n=t.pingCache=new HX;var i=new Set;n.set(e,i)}else i=n.get(e),i===void 0&&(i=new Set,n.set(e,i));i.has(r)||(i.add(r),t=aJ.bind(null,t,e,r),e.then(t,t))}function HT(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function KT(t,e,r,n,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(e=Gi(-1,1),e.tag=2,Ys(r,e,1))),r.lanes|=1),t)}var KX=cs.ReactCurrentOwner,Jr=!1;function kr(t,e,r,n){e.child=t===null?w9(e,null,r,n):Zl(e,t.child,r,n)}function GT(t,e,r,n,i){r=r.render;var s=e.ref;return Tl(e,i),n=iP(t,e,r,n,s,i),r=sP(),t!==null&&!Jr?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,ls(t,e,i)):(mt&&r&&HN(e),e.flags|=1,kr(t,e,n,i),e.child)}function YT(t,e,r,n,i){if(t===null){var s=r.type;return typeof s=="function"&&!mP(s)&&s.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(e.tag=15,e.type=s,H9(t,e,s,n,i)):(t=pf(r.type,null,n,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var a=s.memoizedProps;if(r=r.compare,r=r!==null?r:Xc,r(a,n)&&t.ref===e.ref)return ls(t,e,i)}return e.flags|=1,t=Js(s,n),t.ref=e.ref,t.return=e,e.child=t}function H9(t,e,r,n,i){if(t!==null){var s=t.memoizedProps;if(Xc(s,n)&&t.ref===e.ref)if(Jr=!1,e.pendingProps=n=s,(t.lanes&i)!==0)t.flags&131072&&(Jr=!0);else return e.lanes=t.lanes,ls(t,e,i)}return mO(t,e,r,n,i)}function K9(t,e,r){var n=e.pendingProps,i=n.children,s=t!==null?t.memoizedState:null;if(n.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},ct(yl,hn),hn|=r;else{if(!(r&1073741824))return t=s!==null?s.baseLanes|r:r,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,ct(yl,hn),hn|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=s!==null?s.baseLanes:r,ct(yl,hn),hn|=n}else s!==null?(n=s.baseLanes|r,e.memoizedState=null):n=r,ct(yl,hn),hn|=n;return kr(t,e,i,r),e.child}function G9(t,e){var r=e.ref;(t===null&&r!==null||t!==null&&t.ref!==r)&&(e.flags|=512,e.flags|=2097152)}function mO(t,e,r,n,i){var s=en(r)?ho:Tr.current;return s=Xl(e,s),Tl(e,i),r=iP(t,e,r,n,s,i),n=sP(),t!==null&&!Jr?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,ls(t,e,i)):(mt&&n&&HN(e),e.flags|=1,kr(t,e,r,i),e.child)}function QT(t,e,r,n,i){if(en(r)){var s=!0;Df(e)}else s=!1;if(Tl(e,i),e.stateNode===null)df(t,e),U9(e,r,n),fO(e,r,n,i),n=!0;else if(t===null){var a=e.stateNode,o=e.memoizedProps;a.props=o;var l=a.context,c=r.contextType;typeof c=="object"&&c!==null?c=Mn(c):(c=en(r)?ho:Tr.current,c=Xl(e,c));var d=r.getDerivedStateFromProps,h=typeof d=="function"||typeof a.getSnapshotBeforeUpdate=="function";h||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o!==n||l!==c)&&WT(e,a,n,c),Os=!1;var f=e.memoizedState;a.state=f,Lf(e,n,a,i),l=e.memoizedState,o!==n||f!==l||Zr.current||Os?(typeof d=="function"&&(hO(e,r,d,n),l=e.memoizedState),(o=Os||UT(e,r,o,n,f,l,c))?(h||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(e.flags|=4194308)):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=n,e.memoizedState=l),a.props=n,a.state=l,a.context=c,n=o):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),n=!1)}else{a=e.stateNode,_9(t,e),o=e.memoizedProps,c=e.type===e.elementType?o:Kn(e.type,o),a.props=c,h=e.pendingProps,f=a.context,l=r.contextType,typeof l=="object"&&l!==null?l=Mn(l):(l=en(r)?ho:Tr.current,l=Xl(e,l));var p=r.getDerivedStateFromProps;(d=typeof p=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o!==h||f!==l)&&WT(e,a,n,l),Os=!1,f=e.memoizedState,a.state=f,Lf(e,n,a,i);var m=e.memoizedState;o!==h||f!==m||Zr.current||Os?(typeof p=="function"&&(hO(e,r,p,n),m=e.memoizedState),(c=Os||UT(e,r,c,n,f,m,l)||!1)?(d||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(n,m,l),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(n,m,l)),typeof a.componentDidUpdate=="function"&&(e.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof a.componentDidUpdate!="function"||o===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||o===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=n,e.memoizedState=m),a.props=n,a.state=m,a.context=l,n=c):(typeof a.componentDidUpdate!="function"||o===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||o===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),n=!1)}return vO(t,e,r,n,s,i)}function vO(t,e,r,n,i,s){G9(t,e);var a=(e.flags&128)!==0;if(!n&&!a)return i&&DT(e,r,!1),ls(t,e,s);n=e.stateNode,KX.current=e;var o=a&&typeof r.getDerivedStateFromError!="function"?null:n.render();return e.flags|=1,t!==null&&a?(e.child=Zl(e,t.child,null,s),e.child=Zl(e,null,o,s)):kr(t,e,o,s),e.memoizedState=n.state,i&&DT(e,r,!0),e.child}function Y9(t){var e=t.stateNode;e.pendingContext?kT(t,e.pendingContext,e.pendingContext!==e.context):e.context&&kT(t,e.context,!1),eP(t,e.containerInfo)}function XT(t,e,r,n,i){return Jl(),GN(i),e.flags|=256,kr(t,e,r,n),e.child}var gO={dehydrated:null,treeContext:null,retryLane:0};function yO(t){return{baseLanes:t,cachePool:null,transitions:null}}function Q9(t,e,r){var n=e.pendingProps,i=bt.current,s=!1,a=(e.flags&128)!==0,o;if((o=a)||(o=t!==null&&t.memoizedState===null?!1:(i&2)!==0),o?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),ct(bt,i&1),t===null)return cO(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(a=n.children,t=n.fallback,s?(n=e.mode,s=e.child,a={mode:"hidden",children:a},!(n&1)&&s!==null?(s.childLanes=0,s.pendingProps=a):s=jp(a,n,0,null),t=to(t,n,r,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=yO(r),e.memoizedState=gO,t):lP(e,a));if(i=t.memoizedState,i!==null&&(o=i.dehydrated,o!==null))return GX(t,e,a,n,o,i,r);if(s){s=n.fallback,a=e.mode,i=t.child,o=i.sibling;var l={mode:"hidden",children:n.children};return!(a&1)&&e.child!==i?(n=e.child,n.childLanes=0,n.pendingProps=l,e.deletions=null):(n=Js(i,l),n.subtreeFlags=i.subtreeFlags&14680064),o!==null?s=Js(o,s):(s=to(s,a,r,null),s.flags|=2),s.return=e,n.return=e,n.sibling=s,e.child=n,n=s,s=e.child,a=t.child.memoizedState,a=a===null?yO(r):{baseLanes:a.baseLanes|r,cachePool:null,transitions:a.transitions},s.memoizedState=a,s.childLanes=t.childLanes&~r,e.memoizedState=gO,n}return s=t.child,t=s.sibling,n=Js(s,{mode:"visible",children:n.children}),!(e.mode&1)&&(n.lanes=r),n.return=e,n.sibling=null,t!==null&&(r=e.deletions,r===null?(e.deletions=[t],e.flags|=16):r.push(t)),e.child=n,e.memoizedState=null,n}function lP(t,e){return e=jp({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Lh(t,e,r,n){return n!==null&&GN(n),Zl(e,t.child,null,r),t=lP(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function GX(t,e,r,n,i,s,a){if(r)return e.flags&256?(e.flags&=-257,n=Jm(Error(X(422))),Lh(t,e,a,n)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=n.fallback,i=e.mode,n=jp({mode:"visible",children:n.children},i,0,null),s=to(s,i,a,null),s.flags|=2,n.return=e,s.return=e,n.sibling=s,e.child=n,e.mode&1&&Zl(e,t.child,null,a),e.child.memoizedState=yO(a),e.memoizedState=gO,s);if(!(e.mode&1))return Lh(t,e,a,null);if(i.data==="$!"){if(n=i.nextSibling&&i.nextSibling.dataset,n)var o=n.dgst;return n=o,s=Error(X(419)),n=Jm(s,n,void 0),Lh(t,e,a,n)}if(o=(a&t.childLanes)!==0,Jr||o){if(n=ar,n!==null){switch(a&-a){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(n.suspendedLanes|a)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,os(t,i),ii(n,t,i,-1))}return pP(),n=Jm(Error(X(421))),Lh(t,e,a,n)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=oJ.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,mn=Gs(i.nextSibling),vn=e,mt=!0,Xn=null,t!==null&&(jn[In++]=Wi,jn[In++]=Vi,jn[In++]=fo,Wi=t.id,Vi=t.overflow,fo=e),e=lP(e,n.children),e.flags|=4096,e)}function JT(t,e,r){t.lanes|=e;var n=t.alternate;n!==null&&(n.lanes|=e),dO(t.return,e,r)}function Zm(t,e,r,n,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=n,s.tail=r,s.tailMode=i)}function X9(t,e,r){var n=e.pendingProps,i=n.revealOrder,s=n.tail;if(kr(t,e,n.children,r),n=bt.current,n&2)n=n&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&JT(t,r,e);else if(t.tag===19)JT(t,r,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}n&=1}if(ct(bt,n),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(r=e.child,i=null;r!==null;)t=r.alternate,t!==null&&Bf(t)===null&&(i=r),r=r.sibling;r=i,r===null?(i=e.child,e.child=null):(i=r.sibling,r.sibling=null),Zm(e,!1,i,r,s);break;case"backwards":for(r=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Bf(t)===null){e.child=i;break}t=i.sibling,i.sibling=r,r=i,i=t}Zm(e,!0,r,null,s);break;case"together":Zm(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function df(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function ls(t,e,r){if(t!==null&&(e.dependencies=t.dependencies),mo|=e.lanes,!(r&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(X(153));if(e.child!==null){for(t=e.child,r=Js(t,t.pendingProps),e.child=r,r.return=e;t.sibling!==null;)t=t.sibling,r=r.sibling=Js(t,t.pendingProps),r.return=e;r.sibling=null}return e.child}function YX(t,e,r){switch(e.tag){case 3:Y9(e),Jl();break;case 5:S9(e);break;case 1:en(e.type)&&Df(e);break;case 4:eP(e,e.stateNode.containerInfo);break;case 10:var n=e.type._context,i=e.memoizedProps.value;ct(Af,n._currentValue),n._currentValue=i;break;case 13:if(n=e.memoizedState,n!==null)return n.dehydrated!==null?(ct(bt,bt.current&1),e.flags|=128,null):r&e.child.childLanes?Q9(t,e,r):(ct(bt,bt.current&1),t=ls(t,e,r),t!==null?t.sibling:null);ct(bt,bt.current&1);break;case 19:if(n=(r&e.childLanes)!==0,t.flags&128){if(n)return X9(t,e,r);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),ct(bt,bt.current),n)break;return null;case 22:case 23:return e.lanes=0,K9(t,e,r)}return ls(t,e,r)}var J9,bO,Z9,eV;J9=function(t,e){for(var r=e.child;r!==null;){if(r.tag===5||r.tag===6)t.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};bO=function(){};Z9=function(t,e,r,n){var i=t.memoizedProps;if(i!==n){t=e.stateNode,qa(Pi.current);var s=null;switch(r){case"input":i=B2(t,i),n=B2(t,n),s=[];break;case"select":i=St({},i,{value:void 0}),n=St({},n,{value:void 0}),s=[];break;case"textarea":i=W2(t,i),n=W2(t,n),s=[];break;default:typeof i.onClick!="function"&&typeof n.onClick=="function"&&(t.onclick=$f)}H2(r,n);var a;r=null;for(c in i)if(!n.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var o=i[c];for(a in o)o.hasOwnProperty(a)&&(r||(r={}),r[a]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Wc.hasOwnProperty(c)?s||(s=[]):(s=s||[]).push(c,null));for(c in n){var l=n[c];if(o=i!=null?i[c]:void 0,n.hasOwnProperty(c)&&l!==o&&(l!=null||o!=null))if(c==="style")if(o){for(a in o)!o.hasOwnProperty(a)||l&&l.hasOwnProperty(a)||(r||(r={}),r[a]="");for(a in l)l.hasOwnProperty(a)&&o[a]!==l[a]&&(r||(r={}),r[a]=l[a])}else r||(s||(s=[]),s.push(c,r)),r=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,o=o?o.__html:void 0,l!=null&&o!==l&&(s=s||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Wc.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&dt("scroll",t),s||o===l||(s=[])):(s=s||[]).push(c,l))}r&&(s=s||[]).push("style",r);var c=s;(e.updateQueue=c)&&(e.flags|=4)}};eV=function(t,e,r,n){r!==n&&(e.flags|=4)};function uc(t,e){if(!mt)switch(t.tailMode){case"hidden":e=t.tail;for(var r=null;e!==null;)e.alternate!==null&&(r=e),e=e.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:n.sibling=null}}function Or(t){var e=t.alternate!==null&&t.alternate.child===t.child,r=0,n=0;if(e)for(var i=t.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags&14680064,n|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags,n|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=n,t.childLanes=r,e}function QX(t,e,r){var n=e.pendingProps;switch(KN(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Or(e),null;case 1:return en(e.type)&&kf(),Or(e),null;case 3:return n=e.stateNode,eu(),ht(Zr),ht(Tr),rP(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(Ah(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Xn!==null&&(PO(Xn),Xn=null))),bO(t,e),Or(e),null;case 5:tP(e);var i=qa(rd.current);if(r=e.type,t!==null&&e.stateNode!=null)Z9(t,e,r,n,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!n){if(e.stateNode===null)throw Error(X(166));return Or(e),null}if(t=qa(Pi.current),Ah(e)){n=e.stateNode,r=e.type;var s=e.memoizedProps;switch(n[xi]=e,n[ed]=s,t=(e.mode&1)!==0,r){case"dialog":dt("cancel",n),dt("close",n);break;case"iframe":case"object":case"embed":dt("load",n);break;case"video":case"audio":for(i=0;i<_c.length;i++)dt(_c[i],n);break;case"source":dt("error",n);break;case"img":case"image":case"link":dt("error",n),dt("load",n);break;case"details":dt("toggle",n);break;case"input":oT(n,s),dt("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!s.multiple},dt("invalid",n);break;case"textarea":uT(n,s),dt("invalid",n)}H2(r,s),i=null;for(var a in s)if(s.hasOwnProperty(a)){var o=s[a];a==="children"?typeof o=="string"?n.textContent!==o&&(s.suppressHydrationWarning!==!0&&Mh(n.textContent,o,t),i=["children",o]):typeof o=="number"&&n.textContent!==""+o&&(s.suppressHydrationWarning!==!0&&Mh(n.textContent,o,t),i=["children",""+o]):Wc.hasOwnProperty(a)&&o!=null&&a==="onScroll"&&dt("scroll",n)}switch(r){case"input":Th(n),lT(n,s,!0);break;case"textarea":Th(n),cT(n);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(n.onclick=$f)}n=i,e.updateQueue=n,n!==null&&(e.flags|=4)}else{a=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=CW(r)),t==="http://www.w3.org/1999/xhtml"?r==="script"?(t=a.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof n.is=="string"?t=a.createElement(r,{is:n.is}):(t=a.createElement(r),r==="select"&&(a=t,n.multiple?a.multiple=!0:n.size&&(a.size=n.size))):t=a.createElementNS(t,r),t[xi]=e,t[ed]=n,J9(t,e,!1,!1),e.stateNode=t;e:{switch(a=K2(r,n),r){case"dialog":dt("cancel",t),dt("close",t),i=n;break;case"iframe":case"object":case"embed":dt("load",t),i=n;break;case"video":case"audio":for(i=0;i<_c.length;i++)dt(_c[i],t);i=n;break;case"source":dt("error",t),i=n;break;case"img":case"image":case"link":dt("error",t),dt("load",t),i=n;break;case"details":dt("toggle",t),i=n;break;case"input":oT(t,n),i=B2(t,n),dt("invalid",t);break;case"option":i=n;break;case"select":t._wrapperState={wasMultiple:!!n.multiple},i=St({},n,{value:void 0}),dt("invalid",t);break;case"textarea":uT(t,n),i=W2(t,n),dt("invalid",t);break;default:i=n}H2(r,i),o=i;for(s in o)if(o.hasOwnProperty(s)){var l=o[s];s==="style"?IW(t,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&TW(t,l)):s==="children"?typeof l=="string"?(r!=="textarea"||l!=="")&&Vc(t,l):typeof l=="number"&&Vc(t,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Wc.hasOwnProperty(s)?l!=null&&s==="onScroll"&&dt("scroll",t):l!=null&&RN(t,s,l,a))}switch(r){case"input":Th(t),lT(t,n,!1);break;case"textarea":Th(t),cT(t);break;case"option":n.value!=null&&t.setAttribute("value",""+la(n.value));break;case"select":t.multiple=!!n.multiple,s=n.value,s!=null?Ol(t,!!n.multiple,s,!1):n.defaultValue!=null&&Ol(t,!!n.multiple,n.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=$f)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Or(e),null;case 6:if(t&&e.stateNode!=null)eV(t,e,t.memoizedProps,n);else{if(typeof n!="string"&&e.stateNode===null)throw Error(X(166));if(r=qa(rd.current),qa(Pi.current),Ah(e)){if(n=e.stateNode,r=e.memoizedProps,n[xi]=e,(s=n.nodeValue!==r)&&(t=vn,t!==null))switch(t.tag){case 3:Mh(n.nodeValue,r,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Mh(n.nodeValue,r,(t.mode&1)!==0)}s&&(e.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[xi]=e,e.stateNode=n}return Or(e),null;case 13:if(ht(bt),n=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(mt&&mn!==null&&e.mode&1&&!(e.flags&128))y9(),Jl(),e.flags|=98560,s=!1;else if(s=Ah(e),n!==null&&n.dehydrated!==null){if(t===null){if(!s)throw Error(X(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(X(317));s[xi]=e}else Jl(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Or(e),s=!1}else Xn!==null&&(PO(Xn),Xn=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=r,e):(n=n!==null,n!==(t!==null&&t.memoizedState!==null)&&n&&(e.child.flags|=8192,e.mode&1&&(t===null||bt.current&1?er===0&&(er=3):pP())),e.updateQueue!==null&&(e.flags|=4),Or(e),null);case 4:return eu(),bO(t,e),t===null&&Jc(e.stateNode.containerInfo),Or(e),null;case 10:return XN(e.type._context),Or(e),null;case 17:return en(e.type)&&kf(),Or(e),null;case 19:if(ht(bt),s=e.memoizedState,s===null)return Or(e),null;if(n=(e.flags&128)!==0,a=s.rendering,a===null)if(n)uc(s,!1);else{if(er!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(a=Bf(t),a!==null){for(e.flags|=128,uc(s,!1),n=a.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),e.subtreeFlags=0,n=r,r=e.child;r!==null;)s=r,t=n,s.flags&=14680066,a=s.alternate,a===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=a.childLanes,s.lanes=a.lanes,s.child=a.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=a.memoizedProps,s.memoizedState=a.memoizedState,s.updateQueue=a.updateQueue,s.type=a.type,t=a.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),r=r.sibling;return ct(bt,bt.current&1|2),e.child}t=t.sibling}s.tail!==null&&kt()>ru&&(e.flags|=128,n=!0,uc(s,!1),e.lanes=4194304)}else{if(!n)if(t=Bf(a),t!==null){if(e.flags|=128,n=!0,r=t.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),uc(s,!0),s.tail===null&&s.tailMode==="hidden"&&!a.alternate&&!mt)return Or(e),null}else 2*kt()-s.renderingStartTime>ru&&r!==1073741824&&(e.flags|=128,n=!0,uc(s,!1),e.lanes=4194304);s.isBackwards?(a.sibling=e.child,e.child=a):(r=s.last,r!==null?r.sibling=a:e.child=a,s.last=a)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=kt(),e.sibling=null,r=bt.current,ct(bt,n?r&1|2:r&1),e):(Or(e),null);case 22:case 23:return fP(),n=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==n&&(e.flags|=8192),n&&e.mode&1?hn&1073741824&&(Or(e),e.subtreeFlags&6&&(e.flags|=8192)):Or(e),null;case 24:return null;case 25:return null}throw Error(X(156,e.tag))}function XX(t,e){switch(KN(e),e.tag){case 1:return en(e.type)&&kf(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return eu(),ht(Zr),ht(Tr),rP(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return tP(e),null;case 13:if(ht(bt),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(X(340));Jl()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return ht(bt),null;case 4:return eu(),null;case 10:return XN(e.type._context),null;case 22:case 23:return fP(),null;case 24:return null;default:return null}}var Bh=!1,Pr=!1,JX=typeof WeakSet=="function"?WeakSet:Set,he=null;function gl(t,e){var r=t.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){Ct(t,e,n)}else r.current=null}function wO(t,e,r){try{r()}catch(n){Ct(t,e,n)}}var ZT=!1;function ZX(t,e){if(nO=jf,t=s9(),VN(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var i=n.anchorOffset,s=n.focusNode;n=n.focusOffset;try{r.nodeType,s.nodeType}catch{r=null;break e}var a=0,o=-1,l=-1,c=0,d=0,h=t,f=null;t:for(;;){for(var p;h!==r||i!==0&&h.nodeType!==3||(o=a+i),h!==s||n!==0&&h.nodeType!==3||(l=a+n),h.nodeType===3&&(a+=h.nodeValue.length),(p=h.firstChild)!==null;)f=h,h=p;for(;;){if(h===t)break t;if(f===r&&++c===i&&(o=a),f===s&&++d===n&&(l=a),(p=h.nextSibling)!==null)break;h=f,f=h.parentNode}h=p}r=o===-1||l===-1?null:{start:o,end:l}}else r=null}r=r||{start:0,end:0}}else r=null;for(iO={focusedElem:t,selectionRange:r},jf=!1,he=e;he!==null;)if(e=he,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,he=t;else for(;he!==null;){e=he;try{var m=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(m!==null){var y=m.memoizedProps,w=m.memoizedState,g=e.stateNode,v=g.getSnapshotBeforeUpdate(e.elementType===e.type?y:Kn(e.type,y),w);g.__reactInternalSnapshotBeforeUpdate=v}break;case 3:var x=e.stateNode.containerInfo;x.nodeType===1?x.textContent="":x.nodeType===9&&x.documentElement&&x.removeChild(x.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(X(163))}}catch(b){Ct(e,e.return,b)}if(t=e.sibling,t!==null){t.return=e.return,he=t;break}he=e.return}return m=ZT,ZT=!1,m}function Rc(t,e,r){var n=e.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var i=n=n.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&wO(e,r,s)}i=i.next}while(i!==n)}}function Cp(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var r=e=e.next;do{if((r.tag&t)===t){var n=r.create;r.destroy=n()}r=r.next}while(r!==e)}}function xO(t){var e=t.ref;if(e!==null){var r=t.stateNode;switch(t.tag){case 5:t=r;break;default:t=r}typeof e=="function"?e(t):e.current=t}}function tV(t){var e=t.alternate;e!==null&&(t.alternate=null,tV(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[xi],delete e[ed],delete e[oO],delete e[DX],delete e[qX])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function rV(t){return t.tag===5||t.tag===3||t.tag===4}function ej(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||rV(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function _O(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.nodeType===8?r.parentNode.insertBefore(t,e):r.insertBefore(t,e):(r.nodeType===8?(e=r.parentNode,e.insertBefore(t,r)):(e=r,e.appendChild(t)),r=r._reactRootContainer,r!=null||e.onclick!==null||(e.onclick=$f));else if(n!==4&&(t=t.child,t!==null))for(_O(t,e,r),t=t.sibling;t!==null;)_O(t,e,r),t=t.sibling}function SO(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.insertBefore(t,e):r.appendChild(t);else if(n!==4&&(t=t.child,t!==null))for(SO(t,e,r),t=t.sibling;t!==null;)SO(t,e,r),t=t.sibling}var vr=null,Qn=!1;function xs(t,e,r){for(r=r.child;r!==null;)nV(t,e,r),r=r.sibling}function nV(t,e,r){if(Ni&&typeof Ni.onCommitFiberUnmount=="function")try{Ni.onCommitFiberUnmount(wp,r)}catch{}switch(r.tag){case 5:Pr||gl(r,e);case 6:var n=vr,i=Qn;vr=null,xs(t,e,r),vr=n,Qn=i,vr!==null&&(Qn?(t=vr,r=r.stateNode,t.nodeType===8?t.parentNode.removeChild(r):t.removeChild(r)):vr.removeChild(r.stateNode));break;case 18:vr!==null&&(Qn?(t=vr,r=r.stateNode,t.nodeType===8?Hm(t.parentNode,r):t.nodeType===1&&Hm(t,r),Yc(t)):Hm(vr,r.stateNode));break;case 4:n=vr,i=Qn,vr=r.stateNode.containerInfo,Qn=!0,xs(t,e,r),vr=n,Qn=i;break;case 0:case 11:case 14:case 15:if(!Pr&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){i=n=n.next;do{var s=i,a=s.destroy;s=s.tag,a!==void 0&&(s&2||s&4)&&wO(r,e,a),i=i.next}while(i!==n)}xs(t,e,r);break;case 1:if(!Pr&&(gl(r,e),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(o){Ct(r,e,o)}xs(t,e,r);break;case 21:xs(t,e,r);break;case 22:r.mode&1?(Pr=(n=Pr)||r.memoizedState!==null,xs(t,e,r),Pr=n):xs(t,e,r);break;default:xs(t,e,r)}}function tj(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var r=t.stateNode;r===null&&(r=t.stateNode=new JX),e.forEach(function(n){var i=lJ.bind(null,t,n);r.has(n)||(r.add(n),n.then(i,i))})}}function Vn(t,e){var r=e.deletions;if(r!==null)for(var n=0;n<r.length;n++){var i=r[n];try{var s=t,a=e,o=a;e:for(;o!==null;){switch(o.tag){case 5:vr=o.stateNode,Qn=!1;break e;case 3:vr=o.stateNode.containerInfo,Qn=!0;break e;case 4:vr=o.stateNode.containerInfo,Qn=!0;break e}o=o.return}if(vr===null)throw Error(X(160));nV(s,a,i),vr=null,Qn=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(c){Ct(i,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)iV(e,t),e=e.sibling}function iV(t,e){var r=t.alternate,n=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Vn(e,t),hi(t),n&4){try{Rc(3,t,t.return),Cp(3,t)}catch(y){Ct(t,t.return,y)}try{Rc(5,t,t.return)}catch(y){Ct(t,t.return,y)}}break;case 1:Vn(e,t),hi(t),n&512&&r!==null&&gl(r,r.return);break;case 5:if(Vn(e,t),hi(t),n&512&&r!==null&&gl(r,r.return),t.flags&32){var i=t.stateNode;try{Vc(i,"")}catch(y){Ct(t,t.return,y)}}if(n&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,a=r!==null?r.memoizedProps:s,o=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{o==="input"&&s.type==="radio"&&s.name!=null&&NW(i,s),K2(o,a);var c=K2(o,s);for(a=0;a<l.length;a+=2){var d=l[a],h=l[a+1];d==="style"?IW(i,h):d==="dangerouslySetInnerHTML"?TW(i,h):d==="children"?Vc(i,h):RN(i,d,h,c)}switch(o){case"input":z2(i,s);break;case"textarea":PW(i,s);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var p=s.value;p!=null?Ol(i,!!s.multiple,p,!1):f!==!!s.multiple&&(s.defaultValue!=null?Ol(i,!!s.multiple,s.defaultValue,!0):Ol(i,!!s.multiple,s.multiple?[]:"",!1))}i[ed]=s}catch(y){Ct(t,t.return,y)}}break;case 6:if(Vn(e,t),hi(t),n&4){if(t.stateNode===null)throw Error(X(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(y){Ct(t,t.return,y)}}break;case 3:if(Vn(e,t),hi(t),n&4&&r!==null&&r.memoizedState.isDehydrated)try{Yc(e.containerInfo)}catch(y){Ct(t,t.return,y)}break;case 4:Vn(e,t),hi(t);break;case 13:Vn(e,t),hi(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(dP=kt())),n&4&&tj(t);break;case 22:if(d=r!==null&&r.memoizedState!==null,t.mode&1?(Pr=(c=Pr)||d,Vn(e,t),Pr=c):Vn(e,t),hi(t),n&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!d&&t.mode&1)for(he=t,d=t.child;d!==null;){for(h=he=d;he!==null;){switch(f=he,p=f.child,f.tag){case 0:case 11:case 14:case 15:Rc(4,f,f.return);break;case 1:gl(f,f.return);var m=f.stateNode;if(typeof m.componentWillUnmount=="function"){n=f,r=f.return;try{e=n,m.props=e.memoizedProps,m.state=e.memoizedState,m.componentWillUnmount()}catch(y){Ct(n,r,y)}}break;case 5:gl(f,f.return);break;case 22:if(f.memoizedState!==null){nj(h);continue}}p!==null?(p.return=f,he=p):nj(h)}d=d.sibling}e:for(d=null,h=t;;){if(h.tag===5){if(d===null){d=h;try{i=h.stateNode,c?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(o=h.stateNode,l=h.memoizedProps.style,a=l!=null&&l.hasOwnProperty("display")?l.display:null,o.style.display=jW("display",a))}catch(y){Ct(t,t.return,y)}}}else if(h.tag===6){if(d===null)try{h.stateNode.nodeValue=c?"":h.memoizedProps}catch(y){Ct(t,t.return,y)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:Vn(e,t),hi(t),n&4&&tj(t);break;case 21:break;default:Vn(e,t),hi(t)}}function hi(t){var e=t.flags;if(e&2){try{e:{for(var r=t.return;r!==null;){if(rV(r)){var n=r;break e}r=r.return}throw Error(X(160))}switch(n.tag){case 5:var i=n.stateNode;n.flags&32&&(Vc(i,""),n.flags&=-33);var s=ej(t);SO(t,s,i);break;case 3:case 4:var a=n.stateNode.containerInfo,o=ej(t);_O(t,o,a);break;default:throw Error(X(161))}}catch(l){Ct(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function eJ(t,e,r){he=t,sV(t)}function sV(t,e,r){for(var n=(t.mode&1)!==0;he!==null;){var i=he,s=i.child;if(i.tag===22&&n){var a=i.memoizedState!==null||Bh;if(!a){var o=i.alternate,l=o!==null&&o.memoizedState!==null||Pr;o=Bh;var c=Pr;if(Bh=a,(Pr=l)&&!c)for(he=i;he!==null;)a=he,l=a.child,a.tag===22&&a.memoizedState!==null?ij(i):l!==null?(l.return=a,he=l):ij(i);for(;s!==null;)he=s,sV(s),s=s.sibling;he=i,Bh=o,Pr=c}rj(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,he=s):rj(t)}}function rj(t){for(;he!==null;){var e=he;if(e.flags&8772){var r=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Pr||Cp(5,e);break;case 1:var n=e.stateNode;if(e.flags&4&&!Pr)if(r===null)n.componentDidMount();else{var i=e.elementType===e.type?r.memoizedProps:Kn(e.type,r.memoizedProps);n.componentDidUpdate(i,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&LT(e,s,n);break;case 3:var a=e.updateQueue;if(a!==null){if(r=null,e.child!==null)switch(e.child.tag){case 5:r=e.child.stateNode;break;case 1:r=e.child.stateNode}LT(e,a,r)}break;case 5:var o=e.stateNode;if(r===null&&e.flags&4){r=o;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&r.focus();break;case"img":l.src&&(r.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var d=c.memoizedState;if(d!==null){var h=d.dehydrated;h!==null&&Yc(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(X(163))}Pr||e.flags&512&&xO(e)}catch(f){Ct(e,e.return,f)}}if(e===t){he=null;break}if(r=e.sibling,r!==null){r.return=e.return,he=r;break}he=e.return}}function nj(t){for(;he!==null;){var e=he;if(e===t){he=null;break}var r=e.sibling;if(r!==null){r.return=e.return,he=r;break}he=e.return}}function ij(t){for(;he!==null;){var e=he;try{switch(e.tag){case 0:case 11:case 15:var r=e.return;try{Cp(4,e)}catch(l){Ct(e,r,l)}break;case 1:var n=e.stateNode;if(typeof n.componentDidMount=="function"){var i=e.return;try{n.componentDidMount()}catch(l){Ct(e,i,l)}}var s=e.return;try{xO(e)}catch(l){Ct(e,s,l)}break;case 5:var a=e.return;try{xO(e)}catch(l){Ct(e,a,l)}}}catch(l){Ct(e,e.return,l)}if(e===t){he=null;break}var o=e.sibling;if(o!==null){o.return=e.return,he=o;break}he=e.return}}var tJ=Math.ceil,Wf=cs.ReactCurrentDispatcher,uP=cs.ReactCurrentOwner,kn=cs.ReactCurrentBatchConfig,Ue=0,ar=null,Lt=null,yr=0,hn=0,yl=ga(0),er=0,ad=null,mo=0,Tp=0,cP=0,$c=null,Qr=null,dP=0,ru=1/0,Ai=null,Vf=!1,EO=null,Qs=null,zh=!1,zs=null,Hf=0,kc=0,OO=null,hf=-1,ff=0;function Fr(){return Ue&6?kt():hf!==-1?hf:hf=kt()}function Xs(t){return t.mode&1?Ue&2&&yr!==0?yr&-yr:AX.transition!==null?(ff===0&&(ff=UW()),ff):(t=Qe,t!==0||(t=window.event,t=t===void 0?16:QW(t.type)),t):1}function ii(t,e,r,n){if(50<kc)throw kc=0,OO=null,Error(X(185));$d(t,r,n),(!(Ue&2)||t!==ar)&&(t===ar&&(!(Ue&2)&&(Tp|=r),er===4&&Ts(t,yr)),tn(t,n),r===1&&Ue===0&&!(e.mode&1)&&(ru=kt()+500,Op&&ya()))}function tn(t,e){var r=t.callbackNode;AQ(t,e);var n=Tf(t,t===ar?yr:0);if(n===0)r!==null&&fT(r),t.callbackNode=null,t.callbackPriority=0;else if(e=n&-n,t.callbackPriority!==e){if(r!=null&&fT(r),e===1)t.tag===0?MX(sj.bind(null,t)):m9(sj.bind(null,t)),$X(function(){!(Ue&6)&&ya()}),r=null;else{switch(WW(n)){case 1:r=MN;break;case 4:r=BW;break;case 16:r=Cf;break;case 536870912:r=zW;break;default:r=Cf}r=fV(r,aV.bind(null,t))}t.callbackPriority=e,t.callbackNode=r}}function aV(t,e){if(hf=-1,ff=0,Ue&6)throw Error(X(327));var r=t.callbackNode;if(jl()&&t.callbackNode!==r)return null;var n=Tf(t,t===ar?yr:0);if(n===0)return null;if(n&30||n&t.expiredLanes||e)e=Kf(t,n);else{e=n;var i=Ue;Ue|=2;var s=lV();(ar!==t||yr!==e)&&(Ai=null,ru=kt()+500,eo(t,e));do try{iJ();break}catch(o){oV(t,o)}while(!0);QN(),Wf.current=s,Ue=i,Lt!==null?e=0:(ar=null,yr=0,e=er)}if(e!==0){if(e===2&&(i=J2(t),i!==0&&(n=i,e=NO(t,i))),e===1)throw r=ad,eo(t,0),Ts(t,n),tn(t,kt()),r;if(e===6)Ts(t,n);else{if(i=t.current.alternate,!(n&30)&&!rJ(i)&&(e=Kf(t,n),e===2&&(s=J2(t),s!==0&&(n=s,e=NO(t,s))),e===1))throw r=ad,eo(t,0),Ts(t,n),tn(t,kt()),r;switch(t.finishedWork=i,t.finishedLanes=n,e){case 0:case 1:throw Error(X(345));case 2:Ra(t,Qr,Ai);break;case 3:if(Ts(t,n),(n&130023424)===n&&(e=dP+500-kt(),10<e)){if(Tf(t,0)!==0)break;if(i=t.suspendedLanes,(i&n)!==n){Fr(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=aO(Ra.bind(null,t,Qr,Ai),e);break}Ra(t,Qr,Ai);break;case 4:if(Ts(t,n),(n&4194240)===n)break;for(e=t.eventTimes,i=-1;0<n;){var a=31-ni(n);s=1<<a,a=e[a],a>i&&(i=a),n&=~s}if(n=i,n=kt()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*tJ(n/1960))-n,10<n){t.timeoutHandle=aO(Ra.bind(null,t,Qr,Ai),n);break}Ra(t,Qr,Ai);break;case 5:Ra(t,Qr,Ai);break;default:throw Error(X(329))}}}return tn(t,kt()),t.callbackNode===r?aV.bind(null,t):null}function NO(t,e){var r=$c;return t.current.memoizedState.isDehydrated&&(eo(t,e).flags|=256),t=Kf(t,e),t!==2&&(e=Qr,Qr=r,e!==null&&PO(e)),t}function PO(t){Qr===null?Qr=t:Qr.push.apply(Qr,t)}function rJ(t){for(var e=t;;){if(e.flags&16384){var r=e.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var i=r[n],s=i.getSnapshot;i=i.value;try{if(!si(s(),i))return!1}catch{return!1}}}if(r=e.child,e.subtreeFlags&16384&&r!==null)r.return=e,e=r;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Ts(t,e){for(e&=~cP,e&=~Tp,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var r=31-ni(e),n=1<<r;t[r]=-1,e&=~n}}function sj(t){if(Ue&6)throw Error(X(327));jl();var e=Tf(t,0);if(!(e&1))return tn(t,kt()),null;var r=Kf(t,e);if(t.tag!==0&&r===2){var n=J2(t);n!==0&&(e=n,r=NO(t,n))}if(r===1)throw r=ad,eo(t,0),Ts(t,e),tn(t,kt()),r;if(r===6)throw Error(X(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Ra(t,Qr,Ai),tn(t,kt()),null}function hP(t,e){var r=Ue;Ue|=1;try{return t(e)}finally{Ue=r,Ue===0&&(ru=kt()+500,Op&&ya())}}function vo(t){zs!==null&&zs.tag===0&&!(Ue&6)&&jl();var e=Ue;Ue|=1;var r=kn.transition,n=Qe;try{if(kn.transition=null,Qe=1,t)return t()}finally{Qe=n,kn.transition=r,Ue=e,!(Ue&6)&&ya()}}function fP(){hn=yl.current,ht(yl)}function eo(t,e){t.finishedWork=null,t.finishedLanes=0;var r=t.timeoutHandle;if(r!==-1&&(t.timeoutHandle=-1,RX(r)),Lt!==null)for(r=Lt.return;r!==null;){var n=r;switch(KN(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&kf();break;case 3:eu(),ht(Zr),ht(Tr),rP();break;case 5:tP(n);break;case 4:eu();break;case 13:ht(bt);break;case 19:ht(bt);break;case 10:XN(n.type._context);break;case 22:case 23:fP()}r=r.return}if(ar=t,Lt=t=Js(t.current,null),yr=hn=e,er=0,ad=null,cP=Tp=mo=0,Qr=$c=null,Da!==null){for(e=0;e<Da.length;e++)if(r=Da[e],n=r.interleaved,n!==null){r.interleaved=null;var i=n.next,s=r.pending;if(s!==null){var a=s.next;s.next=i,n.next=a}r.pending=n}Da=null}return t}function oV(t,e){do{var r=Lt;try{if(QN(),uf.current=Uf,zf){for(var n=xt.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}zf=!1}if(po=0,sr=Jt=xt=null,Ic=!1,nd=0,uP.current=null,r===null||r.return===null){er=1,ad=e,Lt=null;break}e:{var s=t,a=r.return,o=r,l=e;if(e=yr,o.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,d=o,h=d.tag;if(!(d.mode&1)&&(h===0||h===11||h===15)){var f=d.alternate;f?(d.updateQueue=f.updateQueue,d.memoizedState=f.memoizedState,d.lanes=f.lanes):(d.updateQueue=null,d.memoizedState=null)}var p=HT(a);if(p!==null){p.flags&=-257,KT(p,a,o,s,e),p.mode&1&&VT(s,c,e),e=p,l=c;var m=e.updateQueue;if(m===null){var y=new Set;y.add(l),e.updateQueue=y}else m.add(l);break e}else{if(!(e&1)){VT(s,c,e),pP();break e}l=Error(X(426))}}else if(mt&&o.mode&1){var w=HT(a);if(w!==null){!(w.flags&65536)&&(w.flags|=256),KT(w,a,o,s,e),GN(tu(l,o));break e}}s=l=tu(l,o),er!==4&&(er=2),$c===null?$c=[s]:$c.push(s),s=a;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var g=W9(s,l,e);FT(s,g);break e;case 1:o=l;var v=s.type,x=s.stateNode;if(!(s.flags&128)&&(typeof v.getDerivedStateFromError=="function"||x!==null&&typeof x.componentDidCatch=="function"&&(Qs===null||!Qs.has(x)))){s.flags|=65536,e&=-e,s.lanes|=e;var b=V9(s,o,e);FT(s,b);break e}}s=s.return}while(s!==null)}cV(r)}catch(_){e=_,Lt===r&&r!==null&&(Lt=r=r.return);continue}break}while(!0)}function lV(){var t=Wf.current;return Wf.current=Uf,t===null?Uf:t}function pP(){(er===0||er===3||er===2)&&(er=4),ar===null||!(mo&268435455)&&!(Tp&268435455)||Ts(ar,yr)}function Kf(t,e){var r=Ue;Ue|=2;var n=lV();(ar!==t||yr!==e)&&(Ai=null,eo(t,e));do try{nJ();break}catch(i){oV(t,i)}while(!0);if(QN(),Ue=r,Wf.current=n,Lt!==null)throw Error(X(261));return ar=null,yr=0,er}function nJ(){for(;Lt!==null;)uV(Lt)}function iJ(){for(;Lt!==null&&!TQ();)uV(Lt)}function uV(t){var e=hV(t.alternate,t,hn);t.memoizedProps=t.pendingProps,e===null?cV(t):Lt=e,uP.current=null}function cV(t){var e=t;do{var r=e.alternate;if(t=e.return,e.flags&32768){if(r=XX(r,e),r!==null){r.flags&=32767,Lt=r;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{er=6,Lt=null;return}}else if(r=QX(r,e,hn),r!==null){Lt=r;return}if(e=e.sibling,e!==null){Lt=e;return}Lt=e=t}while(e!==null);er===0&&(er=5)}function Ra(t,e,r){var n=Qe,i=kn.transition;try{kn.transition=null,Qe=1,sJ(t,e,r,n)}finally{kn.transition=i,Qe=n}return null}function sJ(t,e,r,n){do jl();while(zs!==null);if(Ue&6)throw Error(X(327));r=t.finishedWork;var i=t.finishedLanes;if(r===null)return null;if(t.finishedWork=null,t.finishedLanes=0,r===t.current)throw Error(X(177));t.callbackNode=null,t.callbackPriority=0;var s=r.lanes|r.childLanes;if(FQ(t,s),t===ar&&(Lt=ar=null,yr=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||zh||(zh=!0,fV(Cf,function(){return jl(),null})),s=(r.flags&15990)!==0,r.subtreeFlags&15990||s){s=kn.transition,kn.transition=null;var a=Qe;Qe=1;var o=Ue;Ue|=4,uP.current=null,ZX(t,r),iV(r,t),OX(iO),jf=!!nO,iO=nO=null,t.current=r,eJ(r),jQ(),Ue=o,Qe=a,kn.transition=s}else t.current=r;if(zh&&(zh=!1,zs=t,Hf=i),s=t.pendingLanes,s===0&&(Qs=null),$Q(r.stateNode),tn(t,kt()),e!==null)for(n=t.onRecoverableError,r=0;r<e.length;r++)i=e[r],n(i.value,{componentStack:i.stack,digest:i.digest});if(Vf)throw Vf=!1,t=EO,EO=null,t;return Hf&1&&t.tag!==0&&jl(),s=t.pendingLanes,s&1?t===OO?kc++:(kc=0,OO=t):kc=0,ya(),null}function jl(){if(zs!==null){var t=WW(Hf),e=kn.transition,r=Qe;try{if(kn.transition=null,Qe=16>t?16:t,zs===null)var n=!1;else{if(t=zs,zs=null,Hf=0,Ue&6)throw Error(X(331));var i=Ue;for(Ue|=4,he=t.current;he!==null;){var s=he,a=s.child;if(he.flags&16){var o=s.deletions;if(o!==null){for(var l=0;l<o.length;l++){var c=o[l];for(he=c;he!==null;){var d=he;switch(d.tag){case 0:case 11:case 15:Rc(8,d,s)}var h=d.child;if(h!==null)h.return=d,he=h;else for(;he!==null;){d=he;var f=d.sibling,p=d.return;if(tV(d),d===c){he=null;break}if(f!==null){f.return=p,he=f;break}he=p}}}var m=s.alternate;if(m!==null){var y=m.child;if(y!==null){m.child=null;do{var w=y.sibling;y.sibling=null,y=w}while(y!==null)}}he=s}}if(s.subtreeFlags&2064&&a!==null)a.return=s,he=a;else e:for(;he!==null;){if(s=he,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Rc(9,s,s.return)}var g=s.sibling;if(g!==null){g.return=s.return,he=g;break e}he=s.return}}var v=t.current;for(he=v;he!==null;){a=he;var x=a.child;if(a.subtreeFlags&2064&&x!==null)x.return=a,he=x;else e:for(a=v;he!==null;){if(o=he,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:Cp(9,o)}}catch(_){Ct(o,o.return,_)}if(o===a){he=null;break e}var b=o.sibling;if(b!==null){b.return=o.return,he=b;break e}he=o.return}}if(Ue=i,ya(),Ni&&typeof Ni.onPostCommitFiberRoot=="function")try{Ni.onPostCommitFiberRoot(wp,t)}catch{}n=!0}return n}finally{Qe=r,kn.transition=e}}return!1}function aj(t,e,r){e=tu(r,e),e=W9(t,e,1),t=Ys(t,e,1),e=Fr(),t!==null&&($d(t,1,e),tn(t,e))}function Ct(t,e,r){if(t.tag===3)aj(t,t,r);else for(;e!==null;){if(e.tag===3){aj(e,t,r);break}else if(e.tag===1){var n=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Qs===null||!Qs.has(n))){t=tu(r,t),t=V9(e,t,1),e=Ys(e,t,1),t=Fr(),e!==null&&($d(e,1,t),tn(e,t));break}}e=e.return}}function aJ(t,e,r){var n=t.pingCache;n!==null&&n.delete(e),e=Fr(),t.pingedLanes|=t.suspendedLanes&r,ar===t&&(yr&r)===r&&(er===4||er===3&&(yr&130023424)===yr&&500>kt()-dP?eo(t,0):cP|=r),tn(t,e)}function dV(t,e){e===0&&(t.mode&1?(e=Rh,Rh<<=1,!(Rh&130023424)&&(Rh=4194304)):e=1);var r=Fr();t=os(t,e),t!==null&&($d(t,e,r),tn(t,r))}function oJ(t){var e=t.memoizedState,r=0;e!==null&&(r=e.retryLane),dV(t,r)}function lJ(t,e){var r=0;switch(t.tag){case 13:var n=t.stateNode,i=t.memoizedState;i!==null&&(r=i.retryLane);break;case 19:n=t.stateNode;break;default:throw Error(X(314))}n!==null&&n.delete(e),dV(t,r)}var hV;hV=function(t,e,r){if(t!==null)if(t.memoizedProps!==e.pendingProps||Zr.current)Jr=!0;else{if(!(t.lanes&r)&&!(e.flags&128))return Jr=!1,YX(t,e,r);Jr=!!(t.flags&131072)}else Jr=!1,mt&&e.flags&1048576&&v9(e,Mf,e.index);switch(e.lanes=0,e.tag){case 2:var n=e.type;df(t,e),t=e.pendingProps;var i=Xl(e,Tr.current);Tl(e,r),i=iP(null,e,n,t,i,r);var s=sP();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,en(n)?(s=!0,Df(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,ZN(e),i.updater=Pp,e.stateNode=i,i._reactInternals=e,fO(e,n,t,r),e=vO(null,e,n,!0,s,r)):(e.tag=0,mt&&s&&HN(e),kr(null,e,i,r),e=e.child),e;case 16:n=e.elementType;e:{switch(df(t,e),t=e.pendingProps,i=n._init,n=i(n._payload),e.type=n,i=e.tag=cJ(n),t=Kn(n,t),i){case 0:e=mO(null,e,n,t,r);break e;case 1:e=QT(null,e,n,t,r);break e;case 11:e=GT(null,e,n,t,r);break e;case 14:e=YT(null,e,n,Kn(n.type,t),r);break e}throw Error(X(306,n,""))}return e;case 0:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:Kn(n,i),mO(t,e,n,i,r);case 1:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:Kn(n,i),QT(t,e,n,i,r);case 3:e:{if(Y9(e),t===null)throw Error(X(387));n=e.pendingProps,s=e.memoizedState,i=s.element,_9(t,e),Lf(e,n,null,r);var a=e.memoizedState;if(n=a.element,s.isDehydrated)if(s={element:n,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=tu(Error(X(423)),e),e=XT(t,e,n,r,i);break e}else if(n!==i){i=tu(Error(X(424)),e),e=XT(t,e,n,r,i);break e}else for(mn=Gs(e.stateNode.containerInfo.firstChild),vn=e,mt=!0,Xn=null,r=w9(e,null,n,r),e.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Jl(),n===i){e=ls(t,e,r);break e}kr(t,e,n,r)}e=e.child}return e;case 5:return S9(e),t===null&&cO(e),n=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,a=i.children,sO(n,i)?a=null:s!==null&&sO(n,s)&&(e.flags|=32),G9(t,e),kr(t,e,a,r),e.child;case 6:return t===null&&cO(e),null;case 13:return Q9(t,e,r);case 4:return eP(e,e.stateNode.containerInfo),n=e.pendingProps,t===null?e.child=Zl(e,null,n,r):kr(t,e,n,r),e.child;case 11:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:Kn(n,i),GT(t,e,n,i,r);case 7:return kr(t,e,e.pendingProps,r),e.child;case 8:return kr(t,e,e.pendingProps.children,r),e.child;case 12:return kr(t,e,e.pendingProps.children,r),e.child;case 10:e:{if(n=e.type._context,i=e.pendingProps,s=e.memoizedProps,a=i.value,ct(Af,n._currentValue),n._currentValue=a,s!==null)if(si(s.value,a)){if(s.children===i.children&&!Zr.current){e=ls(t,e,r);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var o=s.dependencies;if(o!==null){a=s.child;for(var l=o.firstContext;l!==null;){if(l.context===n){if(s.tag===1){l=Gi(-1,r&-r),l.tag=2;var c=s.updateQueue;if(c!==null){c=c.shared;var d=c.pending;d===null?l.next=l:(l.next=d.next,d.next=l),c.pending=l}}s.lanes|=r,l=s.alternate,l!==null&&(l.lanes|=r),dO(s.return,r,e),o.lanes|=r;break}l=l.next}}else if(s.tag===10)a=s.type===e.type?null:s.child;else if(s.tag===18){if(a=s.return,a===null)throw Error(X(341));a.lanes|=r,o=a.alternate,o!==null&&(o.lanes|=r),dO(a,r,e),a=s.sibling}else a=s.child;if(a!==null)a.return=s;else for(a=s;a!==null;){if(a===e){a=null;break}if(s=a.sibling,s!==null){s.return=a.return,a=s;break}a=a.return}s=a}kr(t,e,i.children,r),e=e.child}return e;case 9:return i=e.type,n=e.pendingProps.children,Tl(e,r),i=Mn(i),n=n(i),e.flags|=1,kr(t,e,n,r),e.child;case 14:return n=e.type,i=Kn(n,e.pendingProps),i=Kn(n.type,i),YT(t,e,n,i,r);case 15:return H9(t,e,e.type,e.pendingProps,r);case 17:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:Kn(n,i),df(t,e),e.tag=1,en(n)?(t=!0,Df(e)):t=!1,Tl(e,r),U9(e,n,i),fO(e,n,i,r),vO(null,e,n,!0,t,r);case 19:return X9(t,e,r);case 22:return K9(t,e,r)}throw Error(X(156,e.tag))};function fV(t,e){return LW(t,e)}function uJ(t,e,r,n){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function $n(t,e,r,n){return new uJ(t,e,r,n)}function mP(t){return t=t.prototype,!(!t||!t.isReactComponent)}function cJ(t){if(typeof t=="function")return mP(t)?1:0;if(t!=null){if(t=t.$$typeof,t===kN)return 11;if(t===DN)return 14}return 2}function Js(t,e){var r=t.alternate;return r===null?(r=$n(t.tag,e,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=e,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&14680064,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,e=t.dependencies,r.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r}function pf(t,e,r,n,i,s){var a=2;if(n=t,typeof t=="function")mP(t)&&(a=1);else if(typeof t=="string")a=5;else e:switch(t){case ll:return to(r.children,i,s,e);case $N:a=8,i|=8;break;case M2:return t=$n(12,r,e,i|2),t.elementType=M2,t.lanes=s,t;case A2:return t=$n(13,r,e,i),t.elementType=A2,t.lanes=s,t;case F2:return t=$n(19,r,e,i),t.elementType=F2,t.lanes=s,t;case SW:return jp(r,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case xW:a=10;break e;case _W:a=9;break e;case kN:a=11;break e;case DN:a=14;break e;case Es:a=16,n=null;break e}throw Error(X(130,t==null?t:typeof t,""))}return e=$n(a,r,e,i),e.elementType=t,e.type=n,e.lanes=s,e}function to(t,e,r,n){return t=$n(7,t,n,e),t.lanes=r,t}function jp(t,e,r,n){return t=$n(22,t,n,e),t.elementType=SW,t.lanes=r,t.stateNode={isHidden:!1},t}function ev(t,e,r){return t=$n(6,t,null,e),t.lanes=r,t}function tv(t,e,r){return e=$n(4,t.children!==null?t.children:[],t.key,e),e.lanes=r,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function dJ(t,e,r,n,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Dm(0),this.expirationTimes=Dm(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Dm(0),this.identifierPrefix=n,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function vP(t,e,r,n,i,s,a,o,l){return t=new dJ(t,e,r,o,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=$n(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},ZN(s),t}function hJ(t,e,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ol,key:n==null?null:""+n,children:t,containerInfo:e,implementation:r}}function pV(t){if(!t)return ua;t=t._reactInternals;e:{if(Io(t)!==t||t.tag!==1)throw Error(X(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(en(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(X(171))}if(t.tag===1){var r=t.type;if(en(r))return p9(t,r,e)}return e}function mV(t,e,r,n,i,s,a,o,l){return t=vP(r,n,!0,t,i,s,a,o,l),t.context=pV(null),r=t.current,n=Fr(),i=Xs(r),s=Gi(n,i),s.callback=e??null,Ys(r,s,i),t.current.lanes=i,$d(t,i,n),tn(t,n),t}function Ip(t,e,r,n){var i=e.current,s=Fr(),a=Xs(i);return r=pV(r),e.context===null?e.context=r:e.pendingContext=r,e=Gi(s,a),e.payload={element:t},n=n===void 0?null:n,n!==null&&(e.callback=n),t=Ys(i,e,a),t!==null&&(ii(t,i,a,s),lf(t,i,a)),a}function Gf(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function oj(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<e?r:e}}function gP(t,e){oj(t,e),(t=t.alternate)&&oj(t,e)}function fJ(){return null}var vV=typeof reportError=="function"?reportError:function(t){console.error(t)};function yP(t){this._internalRoot=t}Rp.prototype.render=yP.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(X(409));Ip(t,e,null,null)};Rp.prototype.unmount=yP.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;vo(function(){Ip(null,t,null,null)}),e[as]=null}};function Rp(t){this._internalRoot=t}Rp.prototype.unstable_scheduleHydration=function(t){if(t){var e=KW();t={blockedOn:null,target:t,priority:e};for(var r=0;r<Cs.length&&e!==0&&e<Cs[r].priority;r++);Cs.splice(r,0,t),r===0&&YW(t)}};function bP(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function $p(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function lj(){}function pJ(t,e,r,n,i){if(i){if(typeof n=="function"){var s=n;n=function(){var c=Gf(a);s.call(c)}}var a=mV(e,n,t,0,null,!1,!1,"",lj);return t._reactRootContainer=a,t[as]=a.current,Jc(t.nodeType===8?t.parentNode:t),vo(),a}for(;i=t.lastChild;)t.removeChild(i);if(typeof n=="function"){var o=n;n=function(){var c=Gf(l);o.call(c)}}var l=vP(t,0,!1,null,null,!1,!1,"",lj);return t._reactRootContainer=l,t[as]=l.current,Jc(t.nodeType===8?t.parentNode:t),vo(function(){Ip(e,l,r,n)}),l}function kp(t,e,r,n,i){var s=r._reactRootContainer;if(s){var a=s;if(typeof i=="function"){var o=i;i=function(){var l=Gf(a);o.call(l)}}Ip(e,a,t,i)}else a=pJ(r,e,t,i,n);return Gf(a)}VW=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var r=xc(e.pendingLanes);r!==0&&(AN(e,r|1),tn(e,kt()),!(Ue&6)&&(ru=kt()+500,ya()))}break;case 13:vo(function(){var n=os(t,1);if(n!==null){var i=Fr();ii(n,t,1,i)}}),gP(t,1)}};FN=function(t){if(t.tag===13){var e=os(t,134217728);if(e!==null){var r=Fr();ii(e,t,134217728,r)}gP(t,134217728)}};HW=function(t){if(t.tag===13){var e=Xs(t),r=os(t,e);if(r!==null){var n=Fr();ii(r,t,e,n)}gP(t,e)}};KW=function(){return Qe};GW=function(t,e){var r=Qe;try{return Qe=t,e()}finally{Qe=r}};Y2=function(t,e,r){switch(e){case"input":if(z2(t,r),e=r.name,r.type==="radio"&&e!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<r.length;e++){var n=r[e];if(n!==t&&n.form===t.form){var i=Ep(n);if(!i)throw Error(X(90));OW(n),z2(n,i)}}}break;case"textarea":PW(t,r);break;case"select":e=r.value,e!=null&&Ol(t,!!r.multiple,e,!1)}};kW=hP;DW=vo;var mJ={usingClientEntryPoint:!1,Events:[Dd,hl,Ep,RW,$W,hP]},cc={findFiberByHostInstance:ka,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},vJ={bundleType:cc.bundleType,version:cc.version,rendererPackageName:cc.rendererPackageName,rendererConfig:cc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:cs.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=AW(t),t===null?null:t.stateNode},findFiberByHostInstance:cc.findFiberByHostInstance||fJ,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Uh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Uh.isDisabled&&Uh.supportsFiber)try{wp=Uh.inject(vJ),Ni=Uh}catch{}}bn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=mJ;bn.createPortal=function(t,e){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!bP(e))throw Error(X(200));return hJ(t,e,null,r)};bn.createRoot=function(t,e){if(!bP(t))throw Error(X(299));var r=!1,n="",i=vV;return e!=null&&(e.unstable_strictMode===!0&&(r=!0),e.identifierPrefix!==void 0&&(n=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=vP(t,1,!1,null,null,r,!1,n,i),t[as]=e.current,Jc(t.nodeType===8?t.parentNode:t),new yP(e)};bn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(X(188)):(t=Object.keys(t).join(","),Error(X(268,t)));return t=AW(e),t=t===null?null:t.stateNode,t};bn.flushSync=function(t){return vo(t)};bn.hydrate=function(t,e,r){if(!$p(e))throw Error(X(200));return kp(null,t,e,!0,r)};bn.hydrateRoot=function(t,e,r){if(!bP(t))throw Error(X(405));var n=r!=null&&r.hydratedSources||null,i=!1,s="",a=vV;if(r!=null&&(r.unstable_strictMode===!0&&(i=!0),r.identifierPrefix!==void 0&&(s=r.identifierPrefix),r.onRecoverableError!==void 0&&(a=r.onRecoverableError)),e=mV(e,null,t,1,r??null,i,!1,s,a),t[as]=e.current,Jc(t),n)for(t=0;t<n.length;t++)r=n[t],i=r._getVersion,i=i(r._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[r,i]:e.mutableSourceEagerHydrationData.push(r,i);return new Rp(e)};bn.render=function(t,e,r){if(!$p(e))throw Error(X(200));return kp(null,t,e,!1,r)};bn.unmountComponentAtNode=function(t){if(!$p(t))throw Error(X(40));return t._reactRootContainer?(vo(function(){kp(null,null,t,!1,function(){t._reactRootContainer=null,t[as]=null})}),!0):!1};bn.unstable_batchedUpdates=hP;bn.unstable_renderSubtreeIntoContainer=function(t,e,r,n){if(!$p(r))throw Error(X(200));if(t==null||t._reactInternals===void 0)throw Error(X(38));return kp(t,e,r,!1,n)};bn.version="18.3.1-next-f1338f8080-20240426";function gV(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(gV)}catch(t){console.error(t)}}gV(),gW.exports=bn;var gJ=gW.exports,uj=gJ;D2.createRoot=uj.createRoot,D2.hydrateRoot=uj.hydrateRoot;/**
 * @remix-run/router v1.23.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function od(){return od=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},od.apply(this,arguments)}var Us;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Us||(Us={}));const cj="popstate";function yJ(t){t===void 0&&(t={});function e(n,i){let{pathname:s,search:a,hash:o}=n.location;return CO("",{pathname:s,search:a,hash:o},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function r(n,i){return typeof i=="string"?i:Yf(i)}return wJ(e,r,null,t)}function _t(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function wP(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function bJ(){return Math.random().toString(36).substr(2,8)}function dj(t,e){return{usr:t.state,key:t.key,idx:e}}function CO(t,e,r,n){return r===void 0&&(r=null),od({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?xu(e):e,{state:r,key:e&&e.key||n||bJ()})}function Yf(t){let{pathname:e="/",search:r="",hash:n=""}=t;return r&&r!=="?"&&(e+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function xu(t){let e={};if(t){let r=t.indexOf("#");r>=0&&(e.hash=t.substr(r),t=t.substr(0,r));let n=t.indexOf("?");n>=0&&(e.search=t.substr(n),t=t.substr(0,n)),t&&(e.pathname=t)}return e}function wJ(t,e,r,n){n===void 0&&(n={});let{window:i=document.defaultView,v5Compat:s=!1}=n,a=i.history,o=Us.Pop,l=null,c=d();c==null&&(c=0,a.replaceState(od({},a.state,{idx:c}),""));function d(){return(a.state||{idx:null}).idx}function h(){o=Us.Pop;let w=d(),g=w==null?null:w-c;c=w,l&&l({action:o,location:y.location,delta:g})}function f(w,g){o=Us.Push;let v=CO(y.location,w,g);c=d()+1;let x=dj(v,c),b=y.createHref(v);try{a.pushState(x,"",b)}catch(_){if(_ instanceof DOMException&&_.name==="DataCloneError")throw _;i.location.assign(b)}s&&l&&l({action:o,location:y.location,delta:1})}function p(w,g){o=Us.Replace;let v=CO(y.location,w,g);c=d();let x=dj(v,c),b=y.createHref(v);a.replaceState(x,"",b),s&&l&&l({action:o,location:y.location,delta:0})}function m(w){let g=i.location.origin!=="null"?i.location.origin:i.location.href,v=typeof w=="string"?w:Yf(w);return v=v.replace(/ $/,"%20"),_t(g,"No window.location.(origin|href) available to create URL for href: "+v),new URL(v,g)}let y={get action(){return o},get location(){return t(i,a)},listen(w){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(cj,h),l=w,()=>{i.removeEventListener(cj,h),l=null}},createHref(w){return e(i,w)},createURL:m,encodeLocation(w){let g=m(w);return{pathname:g.pathname,search:g.search,hash:g.hash}},push:f,replace:p,go(w){return a.go(w)}};return y}var hj;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(hj||(hj={}));function xJ(t,e,r){return r===void 0&&(r="/"),_J(t,e,r)}function _J(t,e,r,n){let i=typeof e=="string"?xu(e):e,s=nu(i.pathname||"/",r);if(s==null)return null;let a=yV(t);SJ(a);let o=null;for(let l=0;o==null&&l<a.length;++l){let c=kJ(s);o=RJ(a[l],c)}return o}function yV(t,e,r,n){e===void 0&&(e=[]),r===void 0&&(r=[]),n===void 0&&(n="");let i=(s,a,o)=>{let l={relativePath:o===void 0?s.path||"":o,caseSensitive:s.caseSensitive===!0,childrenIndex:a,route:s};l.relativePath.startsWith("/")&&(_t(l.relativePath.startsWith(n),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(n.length));let c=Zs([n,l.relativePath]),d=r.concat(l);s.children&&s.children.length>0&&(_t(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),yV(s.children,e,d,c)),!(s.path==null&&!s.index)&&e.push({path:c,score:jJ(c,s.index),routesMeta:d})};return t.forEach((s,a)=>{var o;if(s.path===""||!((o=s.path)!=null&&o.includes("?")))i(s,a);else for(let l of bV(s.path))i(s,a,l)}),e}function bV(t){let e=t.split("/");if(e.length===0)return[];let[r,...n]=e,i=r.endsWith("?"),s=r.replace(/\?$/,"");if(n.length===0)return i?[s,""]:[s];let a=bV(n.join("/")),o=[];return o.push(...a.map(l=>l===""?s:[s,l].join("/"))),i&&o.push(...a),o.map(l=>t.startsWith("/")&&l===""?"/":l)}function SJ(t){t.sort((e,r)=>e.score!==r.score?r.score-e.score:IJ(e.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const EJ=/^:[\w-]+$/,OJ=3,NJ=2,PJ=1,CJ=10,TJ=-2,fj=t=>t==="*";function jJ(t,e){let r=t.split("/"),n=r.length;return r.some(fj)&&(n+=TJ),e&&(n+=NJ),r.filter(i=>!fj(i)).reduce((i,s)=>i+(EJ.test(s)?OJ:s===""?PJ:CJ),n)}function IJ(t,e){return t.length===e.length&&t.slice(0,-1).every((n,i)=>n===e[i])?t[t.length-1]-e[e.length-1]:0}function RJ(t,e,r){let{routesMeta:n}=t,i={},s="/",a=[];for(let o=0;o<n.length;++o){let l=n[o],c=o===n.length-1,d=s==="/"?e:e.slice(s.length)||"/",h=TO({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},d),f=l.route;if(!h)return null;Object.assign(i,h.params),a.push({params:i,pathname:Zs([s,h.pathname]),pathnameBase:FJ(Zs([s,h.pathnameBase])),route:f}),h.pathnameBase!=="/"&&(s=Zs([s,h.pathnameBase]))}return a}function TO(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[r,n]=$J(t.path,t.caseSensitive,t.end),i=e.match(r);if(!i)return null;let s=i[0],a=s.replace(/(.)\/+$/,"$1"),o=i.slice(1);return{params:n.reduce((c,d,h)=>{let{paramName:f,isOptional:p}=d;if(f==="*"){let y=o[h]||"";a=s.slice(0,s.length-y.length).replace(/(.)\/+$/,"$1")}const m=o[h];return p&&!m?c[f]=void 0:c[f]=(m||"").replace(/%2F/g,"/"),c},{}),pathname:s,pathnameBase:a,pattern:t}}function $J(t,e,r){e===void 0&&(e=!1),r===void 0&&(r=!0),wP(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let n=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,o,l)=>(n.push({paramName:o,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(n.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),n]}function kJ(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return wP(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function nu(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let r=e.endsWith("/")?e.length-1:e.length,n=t.charAt(r);return n&&n!=="/"?null:t.slice(r)||"/"}const DJ=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,qJ=t=>DJ.test(t);function MJ(t,e){e===void 0&&(e="/");let{pathname:r,search:n="",hash:i=""}=typeof t=="string"?xu(t):t,s;if(r)if(qJ(r))s=r;else{if(r.includes("//")){let a=r;r=r.replace(/\/\/+/g,"/"),wP(!1,"Pathnames cannot have embedded double slashes - normalizing "+(a+" -> "+r))}r.startsWith("/")?s=pj(r.substring(1),"/"):s=pj(r,e)}else s=e;return{pathname:s,search:LJ(n),hash:BJ(i)}}function pj(t,e){let r=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?r.length>1&&r.pop():i!=="."&&r.push(i)}),r.length>1?r.join("/"):"/"}function rv(t,e,r,n){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function AJ(t){return t.filter((e,r)=>r===0||e.route.path&&e.route.path.length>0)}function xP(t,e){let r=AJ(t);return e?r.map((n,i)=>i===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function _P(t,e,r,n){n===void 0&&(n=!1);let i;typeof t=="string"?i=xu(t):(i=od({},t),_t(!i.pathname||!i.pathname.includes("?"),rv("?","pathname","search",i)),_t(!i.pathname||!i.pathname.includes("#"),rv("#","pathname","hash",i)),_t(!i.search||!i.search.includes("#"),rv("#","search","hash",i)));let s=t===""||i.pathname==="",a=s?"/":i.pathname,o;if(a==null)o=r;else{let h=e.length-1;if(!n&&a.startsWith("..")){let f=a.split("/");for(;f[0]==="..";)f.shift(),h-=1;i.pathname=f.join("/")}o=h>=0?e[h]:"/"}let l=MJ(i,o),c=a&&a!=="/"&&a.endsWith("/"),d=(s||a===".")&&r.endsWith("/");return!l.pathname.endsWith("/")&&(c||d)&&(l.pathname+="/"),l}const Zs=t=>t.join("/").replace(/\/\/+/g,"/"),FJ=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),LJ=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,BJ=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function zJ(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const wV=["post","put","patch","delete"];new Set(wV);const UJ=["get",...wV];new Set(UJ);/**
 * React Router v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ld(){return ld=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},ld.apply(this,arguments)}const Dp=$.createContext(null),xV=$.createContext(null),ds=$.createContext(null),qp=$.createContext(null),hs=$.createContext({outlet:null,matches:[],isDataRoute:!1}),_V=$.createContext(null);function WJ(t,e){let{relative:r}=e===void 0?{}:e;_u()||_t(!1);let{basename:n,navigator:i}=$.useContext(ds),{hash:s,pathname:a,search:o}=Mp(t,{relative:r}),l=a;return n!=="/"&&(l=a==="/"?n:Zs([n,a])),i.createHref({pathname:l,search:o,hash:s})}function _u(){return $.useContext(qp)!=null}function fs(){return _u()||_t(!1),$.useContext(qp).location}function SV(t){$.useContext(ds).static||$.useLayoutEffect(t)}function on(){let{isDataRoute:t}=$.useContext(hs);return t?nZ():VJ()}function VJ(){_u()||_t(!1);let t=$.useContext(Dp),{basename:e,future:r,navigator:n}=$.useContext(ds),{matches:i}=$.useContext(hs),{pathname:s}=fs(),a=JSON.stringify(xP(i,r.v7_relativeSplatPath)),o=$.useRef(!1);return SV(()=>{o.current=!0}),$.useCallback(function(c,d){if(d===void 0&&(d={}),!o.current)return;if(typeof c=="number"){n.go(c);return}let h=_P(c,JSON.parse(a),s,d.relative==="path");t==null&&e!=="/"&&(h.pathname=h.pathname==="/"?e:Zs([e,h.pathname])),(d.replace?n.replace:n.push)(h,d.state,d)},[e,n,a,s,t])}function ps(){let{matches:t}=$.useContext(hs),e=t[t.length-1];return e?e.params:{}}function Mp(t,e){let{relative:r}=e===void 0?{}:e,{future:n}=$.useContext(ds),{matches:i}=$.useContext(hs),{pathname:s}=fs(),a=JSON.stringify(xP(i,n.v7_relativeSplatPath));return $.useMemo(()=>_P(t,JSON.parse(a),s,r==="path"),[t,a,s,r])}function HJ(t,e){return KJ(t,e)}function KJ(t,e,r,n){_u()||_t(!1);let{navigator:i}=$.useContext(ds),{matches:s}=$.useContext(hs),a=s[s.length-1],o=a?a.params:{};a&&a.pathname;let l=a?a.pathnameBase:"/";a&&a.route;let c=fs(),d;if(e){var h;let w=typeof e=="string"?xu(e):e;l==="/"||(h=w.pathname)!=null&&h.startsWith(l)||_t(!1),d=w}else d=c;let f=d.pathname||"/",p=f;if(l!=="/"){let w=l.replace(/^\//,"").split("/");p="/"+f.replace(/^\//,"").split("/").slice(w.length).join("/")}let m=xJ(t,{pathname:p}),y=JJ(m&&m.map(w=>Object.assign({},w,{params:Object.assign({},o,w.params),pathname:Zs([l,i.encodeLocation?i.encodeLocation(w.pathname).pathname:w.pathname]),pathnameBase:w.pathnameBase==="/"?l:Zs([l,i.encodeLocation?i.encodeLocation(w.pathnameBase).pathname:w.pathnameBase])})),s,r,n);return e&&y?$.createElement(qp.Provider,{value:{location:ld({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:Us.Pop}},y):y}function GJ(){let t=rZ(),e=zJ(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),r=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return $.createElement($.Fragment,null,$.createElement("h2",null,"Unexpected Application Error!"),$.createElement("h3",{style:{fontStyle:"italic"}},e),r?$.createElement("pre",{style:i},r):null,null)}const YJ=$.createElement(GJ,null);class QJ extends $.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,r){return r.location!==e.location||r.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:r.error,location:r.location,revalidation:e.revalidation||r.revalidation}}componentDidCatch(e,r){console.error("React Router caught the following error during render",e,r)}render(){return this.state.error!==void 0?$.createElement(hs.Provider,{value:this.props.routeContext},$.createElement(_V.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function XJ(t){let{routeContext:e,match:r,children:n}=t,i=$.useContext(Dp);return i&&i.static&&i.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=r.route.id),$.createElement(hs.Provider,{value:e},n)}function JJ(t,e,r,n){var i;if(e===void 0&&(e=[]),r===void 0&&(r=null),n===void 0&&(n=null),t==null){var s;if(!r)return null;if(r.errors)t=r.matches;else if((s=n)!=null&&s.v7_partialHydration&&e.length===0&&!r.initialized&&r.matches.length>0)t=r.matches;else return null}let a=t,o=(i=r)==null?void 0:i.errors;if(o!=null){let d=a.findIndex(h=>h.route.id&&(o==null?void 0:o[h.route.id])!==void 0);d>=0||_t(!1),a=a.slice(0,Math.min(a.length,d+1))}let l=!1,c=-1;if(r&&n&&n.v7_partialHydration)for(let d=0;d<a.length;d++){let h=a[d];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(c=d),h.route.id){let{loaderData:f,errors:p}=r,m=h.route.loader&&f[h.route.id]===void 0&&(!p||p[h.route.id]===void 0);if(h.route.lazy||m){l=!0,c>=0?a=a.slice(0,c+1):a=[a[0]];break}}}return a.reduceRight((d,h,f)=>{let p,m=!1,y=null,w=null;r&&(p=o&&h.route.id?o[h.route.id]:void 0,y=h.route.errorElement||YJ,l&&(c<0&&f===0?(iZ("route-fallback"),m=!0,w=null):c===f&&(m=!0,w=h.route.hydrateFallbackElement||null)));let g=e.concat(a.slice(0,f+1)),v=()=>{let x;return p?x=y:m?x=w:h.route.Component?x=$.createElement(h.route.Component,null):h.route.element?x=h.route.element:x=d,$.createElement(XJ,{match:h,routeContext:{outlet:d,matches:g,isDataRoute:r!=null},children:x})};return r&&(h.route.ErrorBoundary||h.route.errorElement||f===0)?$.createElement(QJ,{location:r.location,revalidation:r.revalidation,component:y,error:p,children:v(),routeContext:{outlet:null,matches:g,isDataRoute:!0}}):v()},null)}var EV=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(EV||{}),OV=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(OV||{});function ZJ(t){let e=$.useContext(Dp);return e||_t(!1),e}function eZ(t){let e=$.useContext(xV);return e||_t(!1),e}function tZ(t){let e=$.useContext(hs);return e||_t(!1),e}function NV(t){let e=tZ(),r=e.matches[e.matches.length-1];return r.route.id||_t(!1),r.route.id}function rZ(){var t;let e=$.useContext(_V),r=eZ(),n=NV();return e!==void 0?e:(t=r.errors)==null?void 0:t[n]}function nZ(){let{router:t}=ZJ(EV.UseNavigateStable),e=NV(OV.UseNavigateStable),r=$.useRef(!1);return SV(()=>{r.current=!0}),$.useCallback(function(i,s){s===void 0&&(s={}),r.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,ld({fromRouteId:e},s)))},[t,e])}const mj={};function iZ(t,e,r){mj[t]||(mj[t]=!0)}function sZ(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function PV(t){let{to:e,replace:r,state:n,relative:i}=t;_u()||_t(!1);let{future:s,static:a}=$.useContext(ds),{matches:o}=$.useContext(hs),{pathname:l}=fs(),c=on(),d=_P(e,xP(o,s.v7_relativeSplatPath),l,i==="path"),h=JSON.stringify(d);return $.useEffect(()=>c(JSON.parse(h),{replace:r,state:n,relative:i}),[c,h,i,r,n]),null}function tt(t){_t(!1)}function aZ(t){let{basename:e="/",children:r=null,location:n,navigationType:i=Us.Pop,navigator:s,static:a=!1,future:o}=t;_u()&&_t(!1);let l=e.replace(/^\/*/,"/"),c=$.useMemo(()=>({basename:l,navigator:s,static:a,future:ld({v7_relativeSplatPath:!1},o)}),[l,o,s,a]);typeof n=="string"&&(n=xu(n));let{pathname:d="/",search:h="",hash:f="",state:p=null,key:m="default"}=n,y=$.useMemo(()=>{let w=nu(d,l);return w==null?null:{location:{pathname:w,search:h,hash:f,state:p,key:m},navigationType:i}},[l,d,h,f,p,m,i]);return y==null?null:$.createElement(ds.Provider,{value:c},$.createElement(qp.Provider,{children:r,value:y}))}function vj(t){let{children:e,location:r}=t;return HJ(jO(e),r)}new Promise(()=>{});function jO(t,e){e===void 0&&(e=[]);let r=[];return $.Children.forEach(t,(n,i)=>{if(!$.isValidElement(n))return;let s=[...e,i];if(n.type===$.Fragment){r.push.apply(r,jO(n.props.children,s));return}n.type!==tt&&_t(!1),!n.props.index||!n.props.children||_t(!1);let a={id:n.props.id||s.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(a.children=jO(n.props.children,s)),r.push(a)}),r}/**
 * React Router DOM v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Qf(){return Qf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Qf.apply(this,arguments)}function CV(t,e){if(t==null)return{};var r={},n=Object.keys(t),i,s;for(s=0;s<n.length;s++)i=n[s],!(e.indexOf(i)>=0)&&(r[i]=t[i]);return r}function oZ(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function lZ(t,e){return t.button===0&&(!e||e==="_self")&&!oZ(t)}function IO(t){return t===void 0&&(t=""),new URLSearchParams(typeof t=="string"||Array.isArray(t)||t instanceof URLSearchParams?t:Object.keys(t).reduce((e,r)=>{let n=t[r];return e.concat(Array.isArray(n)?n.map(i=>[r,i]):[[r,n]])},[]))}function uZ(t,e){let r=IO(t);return e&&e.forEach((n,i)=>{r.has(i)||e.getAll(i).forEach(s=>{r.append(i,s)})}),r}const cZ=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],dZ=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],hZ="6";try{window.__reactRouterVersion=hZ}catch{}const fZ=$.createContext({isTransitioning:!1}),pZ="startTransition",gj=aQ[pZ];function mZ(t){let{basename:e,children:r,future:n,window:i}=t,s=$.useRef();s.current==null&&(s.current=yJ({window:i,v5Compat:!0}));let a=s.current,[o,l]=$.useState({action:a.action,location:a.location}),{v7_startTransition:c}=n||{},d=$.useCallback(h=>{c&&gj?gj(()=>l(h)):l(h)},[l,c]);return $.useLayoutEffect(()=>a.listen(d),[a,d]),$.useEffect(()=>sZ(n),[n]),$.createElement(aZ,{basename:e,children:r,location:o.location,navigationType:o.action,navigator:a,future:n})}const vZ=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",gZ=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ce=$.forwardRef(function(e,r){let{onClick:n,relative:i,reloadDocument:s,replace:a,state:o,target:l,to:c,preventScrollReset:d,viewTransition:h}=e,f=CV(e,cZ),{basename:p}=$.useContext(ds),m,y=!1;if(typeof c=="string"&&gZ.test(c)&&(m=c,vZ))try{let x=new URL(window.location.href),b=c.startsWith("//")?new URL(x.protocol+c):new URL(c),_=nu(b.pathname,p);b.origin===x.origin&&_!=null?c=_+b.search+b.hash:y=!0}catch{}let w=WJ(c,{relative:i}),g=wZ(c,{replace:a,state:o,target:l,preventScrollReset:d,relative:i,viewTransition:h});function v(x){n&&n(x),x.defaultPrevented||g(x)}return $.createElement("a",Qf({},f,{href:m||w,onClick:y||s?n:v,ref:r,target:l}))}),yZ=$.forwardRef(function(e,r){let{"aria-current":n="page",caseSensitive:i=!1,className:s="",end:a=!1,style:o,to:l,viewTransition:c,children:d}=e,h=CV(e,dZ),f=Mp(l,{relative:h.relative}),p=fs(),m=$.useContext(xV),{navigator:y,basename:w}=$.useContext(ds),g=m!=null&&xZ(f)&&c===!0,v=y.encodeLocation?y.encodeLocation(f).pathname:f.pathname,x=p.pathname,b=m&&m.navigation&&m.navigation.location?m.navigation.location.pathname:null;i||(x=x.toLowerCase(),b=b?b.toLowerCase():null,v=v.toLowerCase()),b&&w&&(b=nu(b,w)||b);const _=v!=="/"&&v.endsWith("/")?v.length-1:v.length;let E=x===v||!a&&x.startsWith(v)&&x.charAt(_)==="/",O=b!=null&&(b===v||!a&&b.startsWith(v)&&b.charAt(v.length)==="/"),S={isActive:E,isPending:O,isTransitioning:g},N=E?n:void 0,P;typeof s=="function"?P=s(S):P=[s,E?"active":null,O?"pending":null,g?"transitioning":null].filter(Boolean).join(" ");let I=typeof o=="function"?o(S):o;return $.createElement(ce,Qf({},h,{"aria-current":N,className:P,ref:r,style:I,to:l,viewTransition:c}),typeof d=="function"?d(S):d)});var RO;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(RO||(RO={}));var yj;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(yj||(yj={}));function bZ(t){let e=$.useContext(Dp);return e||_t(!1),e}function wZ(t,e){let{target:r,replace:n,state:i,preventScrollReset:s,relative:a,viewTransition:o}=e===void 0?{}:e,l=on(),c=fs(),d=Mp(t,{relative:a});return $.useCallback(h=>{if(lZ(h,r)){h.preventDefault();let f=n!==void 0?n:Yf(c)===Yf(d);l(t,{replace:f,state:i,preventScrollReset:s,relative:a,viewTransition:o})}},[c,l,d,n,i,r,t,s,a,o])}function SP(t){let e=$.useRef(IO(t)),r=$.useRef(!1),n=fs(),i=$.useMemo(()=>uZ(n.search,r.current?null:e.current),[n.search]),s=on(),a=$.useCallback((o,l)=>{const c=IO(typeof o=="function"?o(i):o);r.current=!0,s("?"+c,l)},[s,i]);return[i,a]}function xZ(t,e){e===void 0&&(e={});let r=$.useContext(fZ);r==null&&_t(!1);let{basename:n}=bZ(RO.useViewTransitionState),i=Mp(t,{relative:e.relative});if(!r.isTransitioning)return!1;let s=nu(r.currentLocation.pathname,n)||r.currentLocation.pathname,a=nu(r.nextLocation.pathname,n)||r.nextLocation.pathname;return TO(i.pathname,a)!=null||TO(i.pathname,s)!=null}var Ro=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},_Z={setTimeout:(t,e)=>setTimeout(t,e),clearTimeout:t=>clearTimeout(t),setInterval:(t,e)=>setInterval(t,e),clearInterval:t=>clearInterval(t)},Is,ON,GU,SZ=(GU=class{constructor(){de(this,Is,_Z);de(this,ON,!1)}setTimeoutProvider(t){re(this,Is,t)}setTimeout(t,e){return R(this,Is).setTimeout(t,e)}clearTimeout(t){R(this,Is).clearTimeout(t)}setInterval(t,e){return R(this,Is).setInterval(t,e)}clearInterval(t){R(this,Is).clearInterval(t)}},Is=new WeakMap,ON=new WeakMap,GU),Ma=new SZ;function EZ(t){setTimeout(t,0)}var go=typeof window>"u"||"Deno"in globalThis;function Nr(){}function OZ(t,e){return typeof t=="function"?t(e):t}function $O(t){return typeof t=="number"&&t>=0&&t!==1/0}function TV(t,e){return Math.max(t+(e||0)-Date.now(),0)}function ea(t,e){return typeof t=="function"?t(e):t}function Cn(t,e){return typeof t=="function"?t(e):t}function bj(t,e){const{type:r="all",exact:n,fetchStatus:i,predicate:s,queryKey:a,stale:o}=t;if(a){if(n){if(e.queryHash!==EP(a,e.options))return!1}else if(!ud(e.queryKey,a))return!1}if(r!=="all"){const l=e.isActive();if(r==="active"&&!l||r==="inactive"&&l)return!1}return!(typeof o=="boolean"&&e.isStale()!==o||i&&i!==e.state.fetchStatus||s&&!s(e))}function wj(t,e){const{exact:r,status:n,predicate:i,mutationKey:s}=t;if(s){if(!e.options.mutationKey)return!1;if(r){if(yo(e.options.mutationKey)!==yo(s))return!1}else if(!ud(e.options.mutationKey,s))return!1}return!(n&&e.state.status!==n||i&&!i(e))}function EP(t,e){return((e==null?void 0:e.queryKeyHashFn)||yo)(t)}function yo(t){return JSON.stringify(t,(e,r)=>kO(r)?Object.keys(r).sort().reduce((n,i)=>(n[i]=r[i],n),{}):r)}function ud(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?Object.keys(e).every(r=>ud(t[r],e[r])):!1}var NZ=Object.prototype.hasOwnProperty;function OP(t,e){if(t===e)return t;const r=xj(t)&&xj(e);if(!r&&!(kO(t)&&kO(e)))return e;const i=(r?t:Object.keys(t)).length,s=r?e:Object.keys(e),a=s.length,o=r?new Array(a):{};let l=0;for(let c=0;c<a;c++){const d=r?c:s[c],h=t[d],f=e[d];if(h===f){o[d]=h,(r?c<i:NZ.call(t,d))&&l++;continue}if(h===null||f===null||typeof h!="object"||typeof f!="object"){o[d]=f;continue}const p=OP(h,f);o[d]=p,p===h&&l++}return i===a&&l===i?t:o}function cd(t,e){if(!e||Object.keys(t).length!==Object.keys(e).length)return!1;for(const r in t)if(t[r]!==e[r])return!1;return!0}function xj(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function kO(t){if(!_j(t))return!1;const e=t.constructor;if(e===void 0)return!0;const r=e.prototype;return!(!_j(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function _j(t){return Object.prototype.toString.call(t)==="[object Object]"}function PZ(t){return new Promise(e=>{Ma.setTimeout(e,t)})}function DO(t,e,r){return typeof r.structuralSharing=="function"?r.structuralSharing(t,e):r.structuralSharing!==!1?OP(t,e):e}function CZ(t,e,r=0){const n=[...t,e];return r&&n.length>r?n.slice(1):n}function TZ(t,e,r=0){const n=[e,...t];return r&&n.length>r?n.slice(0,-1):n}var NP=Symbol();function jV(t,e){return!t.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!t.queryFn||t.queryFn===NP?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}function PP(t,e){return typeof t=="function"?t(...e):!!t}function jZ(t,e,r){let n=!1,i;return Object.defineProperty(t,"signal",{enumerable:!0,get:()=>(i??(i=e()),n||(n=!0,i.aborted?r():i.addEventListener("abort",r,{once:!0})),i)}),t}var Va,Rs,Dl,YU,IZ=(YU=class extends Ro{constructor(){super();de(this,Va);de(this,Rs);de(this,Dl);re(this,Dl,e=>{if(!go&&window.addEventListener){const r=()=>e();return window.addEventListener("visibilitychange",r,!1),()=>{window.removeEventListener("visibilitychange",r)}}})}onSubscribe(){R(this,Rs)||this.setEventListener(R(this,Dl))}onUnsubscribe(){var e;this.hasListeners()||((e=R(this,Rs))==null||e.call(this),re(this,Rs,void 0))}setEventListener(e){var r;re(this,Dl,e),(r=R(this,Rs))==null||r.call(this),re(this,Rs,e(n=>{typeof n=="boolean"?this.setFocused(n):this.onFocus()}))}setFocused(e){R(this,Va)!==e&&(re(this,Va,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(r=>{r(e)})}isFocused(){var e;return typeof R(this,Va)=="boolean"?R(this,Va):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},Va=new WeakMap,Rs=new WeakMap,Dl=new WeakMap,YU),CP=new IZ;function qO(){let t,e;const r=new Promise((i,s)=>{t=i,e=s});r.status="pending",r.catch(()=>{});function n(i){Object.assign(r,i),delete r.resolve,delete r.reject}return r.resolve=i=>{n({status:"fulfilled",value:i}),t(i)},r.reject=i=>{n({status:"rejected",reason:i}),e(i)},r}var RZ=EZ;function $Z(){let t=[],e=0,r=o=>{o()},n=o=>{o()},i=RZ;const s=o=>{e?t.push(o):i(()=>{r(o)})},a=()=>{const o=t;t=[],o.length&&i(()=>{n(()=>{o.forEach(l=>{r(l)})})})};return{batch:o=>{let l;e++;try{l=o()}finally{e--,e||a()}return l},batchCalls:o=>(...l)=>{s(()=>{o(...l)})},schedule:s,setNotifyFunction:o=>{r=o},setBatchNotifyFunction:o=>{n=o},setScheduler:o=>{i=o}}}var It=$Z(),ql,$s,Ml,QU,kZ=(QU=class extends Ro{constructor(){super();de(this,ql,!0);de(this,$s);de(this,Ml);re(this,Ml,e=>{if(!go&&window.addEventListener){const r=()=>e(!0),n=()=>e(!1);return window.addEventListener("online",r,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",r),window.removeEventListener("offline",n)}}})}onSubscribe(){R(this,$s)||this.setEventListener(R(this,Ml))}onUnsubscribe(){var e;this.hasListeners()||((e=R(this,$s))==null||e.call(this),re(this,$s,void 0))}setEventListener(e){var r;re(this,Ml,e),(r=R(this,$s))==null||r.call(this),re(this,$s,e(this.setOnline.bind(this)))}setOnline(e){R(this,ql)!==e&&(re(this,ql,e),this.listeners.forEach(n=>{n(e)}))}isOnline(){return R(this,ql)}},ql=new WeakMap,$s=new WeakMap,Ml=new WeakMap,QU),Xf=new kZ;function DZ(t){return Math.min(1e3*2**t,3e4)}function IV(t){return(t??"online")==="online"?Xf.isOnline():!0}var MO=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function RV(t){let e=!1,r=0,n;const i=qO(),s=()=>i.status!=="pending",a=y=>{var w;if(!s()){const g=new MO(y);f(g),(w=t.onCancel)==null||w.call(t,g)}},o=()=>{e=!0},l=()=>{e=!1},c=()=>CP.isFocused()&&(t.networkMode==="always"||Xf.isOnline())&&t.canRun(),d=()=>IV(t.networkMode)&&t.canRun(),h=y=>{s()||(n==null||n(),i.resolve(y))},f=y=>{s()||(n==null||n(),i.reject(y))},p=()=>new Promise(y=>{var w;n=g=>{(s()||c())&&y(g)},(w=t.onPause)==null||w.call(t)}).then(()=>{var y;n=void 0,s()||(y=t.onContinue)==null||y.call(t)}),m=()=>{if(s())return;let y;const w=r===0?t.initialPromise:void 0;try{y=w??t.fn()}catch(g){y=Promise.reject(g)}Promise.resolve(y).then(h).catch(g=>{var E;if(s())return;const v=t.retry??(go?0:3),x=t.retryDelay??DZ,b=typeof x=="function"?x(r,g):x,_=v===!0||typeof v=="number"&&r<v||typeof v=="function"&&v(r,g);if(e||!_){f(g);return}r++,(E=t.onFail)==null||E.call(t,r,g),PZ(b).then(()=>c()?void 0:p()).then(()=>{e?f(g):m()})})};return{promise:i,status:()=>i.status,cancel:a,continue:()=>(n==null||n(),i),cancelRetry:o,continueRetry:l,canStart:d,start:()=>(d()?m():p().then(m),i)}}var Ha,XU,$V=(XU=class{constructor(){de(this,Ha)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),$O(this.gcTime)&&re(this,Ha,Ma.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(go?1/0:5*60*1e3))}clearGcTimeout(){R(this,Ha)&&(Ma.clearTimeout(R(this,Ha)),re(this,Ha,void 0))}},Ha=new WeakMap,XU),Ka,Al,Nn,Ga,ir,Ed,Ya,Gn,Mi,JU,qZ=(JU=class extends $V{constructor(e){super();de(this,Gn);de(this,Ka);de(this,Al);de(this,Nn);de(this,Ga);de(this,ir);de(this,Ed);de(this,Ya);re(this,Ya,!1),re(this,Ed,e.defaultOptions),this.setOptions(e.options),this.observers=[],re(this,Ga,e.client),re(this,Nn,R(this,Ga).getQueryCache()),this.queryKey=e.queryKey,this.queryHash=e.queryHash,re(this,Ka,Ej(this.options)),this.state=e.state??R(this,Ka),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var e;return(e=R(this,ir))==null?void 0:e.promise}setOptions(e){if(this.options={...R(this,Ed),...e},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const r=Ej(this.options);r.data!==void 0&&(this.setState(Sj(r.data,r.dataUpdatedAt)),re(this,Ka,r))}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&R(this,Nn).remove(this)}setData(e,r){const n=DO(this.state.data,e,this.options);return Oe(this,Gn,Mi).call(this,{data:n,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),n}setState(e,r){Oe(this,Gn,Mi).call(this,{type:"setState",state:e,setStateOptions:r})}cancel(e){var n,i;const r=(n=R(this,ir))==null?void 0:n.promise;return(i=R(this,ir))==null||i.cancel(e),r?r.then(Nr).catch(Nr):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(R(this,Ka))}isActive(){return this.observers.some(e=>Cn(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===NP||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(e=>ea(e.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(e=0){return this.state.data===void 0?!0:e==="static"?!1:this.state.isInvalidated?!0:!TV(this.state.dataUpdatedAt,e)}onFocus(){var r;const e=this.observers.find(n=>n.shouldFetchOnWindowFocus());e==null||e.refetch({cancelRefetch:!1}),(r=R(this,ir))==null||r.continue()}onOnline(){var r;const e=this.observers.find(n=>n.shouldFetchOnReconnect());e==null||e.refetch({cancelRefetch:!1}),(r=R(this,ir))==null||r.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),R(this,Nn).notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(r=>r!==e),this.observers.length||(R(this,ir)&&(R(this,Ya)?R(this,ir).cancel({revert:!0}):R(this,ir).cancelRetry()),this.scheduleGc()),R(this,Nn).notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||Oe(this,Gn,Mi).call(this,{type:"invalidate"})}async fetch(e,r){var l,c,d,h,f,p,m,y,w,g,v,x;if(this.state.fetchStatus!=="idle"&&((l=R(this,ir))==null?void 0:l.status())!=="rejected"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(R(this,ir))return R(this,ir).continueRetry(),R(this,ir).promise}if(e&&this.setOptions(e),!this.options.queryFn){const b=this.observers.find(_=>_.options.queryFn);b&&this.setOptions(b.options)}const n=new AbortController,i=b=>{Object.defineProperty(b,"signal",{enumerable:!0,get:()=>(re(this,Ya,!0),n.signal)})},s=()=>{const b=jV(this.options,r),E=(()=>{const O={client:R(this,Ga),queryKey:this.queryKey,meta:this.meta};return i(O),O})();return re(this,Ya,!1),this.options.persister?this.options.persister(b,E,this):b(E)},o=(()=>{const b={fetchOptions:r,options:this.options,queryKey:this.queryKey,client:R(this,Ga),state:this.state,fetchFn:s};return i(b),b})();(c=this.options.behavior)==null||c.onFetch(o,this),re(this,Al,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((d=o.fetchOptions)==null?void 0:d.meta))&&Oe(this,Gn,Mi).call(this,{type:"fetch",meta:(h=o.fetchOptions)==null?void 0:h.meta}),re(this,ir,RV({initialPromise:r==null?void 0:r.initialPromise,fn:o.fetchFn,onCancel:b=>{b instanceof MO&&b.revert&&this.setState({...R(this,Al),fetchStatus:"idle"}),n.abort()},onFail:(b,_)=>{Oe(this,Gn,Mi).call(this,{type:"failed",failureCount:b,error:_})},onPause:()=>{Oe(this,Gn,Mi).call(this,{type:"pause"})},onContinue:()=>{Oe(this,Gn,Mi).call(this,{type:"continue"})},retry:o.options.retry,retryDelay:o.options.retryDelay,networkMode:o.options.networkMode,canRun:()=>!0}));try{const b=await R(this,ir).start();if(b===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(b),(p=(f=R(this,Nn).config).onSuccess)==null||p.call(f,b,this),(y=(m=R(this,Nn).config).onSettled)==null||y.call(m,b,this.state.error,this),b}catch(b){if(b instanceof MO){if(b.silent)return R(this,ir).promise;if(b.revert){if(this.state.data===void 0)throw b;return this.state.data}}throw Oe(this,Gn,Mi).call(this,{type:"error",error:b}),(g=(w=R(this,Nn).config).onError)==null||g.call(w,b,this),(x=(v=R(this,Nn).config).onSettled)==null||x.call(v,this.state.data,b,this),b}finally{this.scheduleGc()}}},Ka=new WeakMap,Al=new WeakMap,Nn=new WeakMap,Ga=new WeakMap,ir=new WeakMap,Ed=new WeakMap,Ya=new WeakMap,Gn=new WeakSet,Mi=function(e){const r=n=>{switch(e.type){case"failed":return{...n,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...kV(n.data,this.options),fetchMeta:e.meta??null};case"success":const i={...n,...Sj(e.data,e.dataUpdatedAt),dataUpdateCount:n.dataUpdateCount+1,...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return re(this,Al,e.manual?i:void 0),i;case"error":const s=e.error;return{...n,error:s,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:s,fetchStatus:"idle",status:"error",isInvalidated:!0};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...e.state}}};this.state=r(this.state),It.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),R(this,Nn).notify({query:this,type:"updated",action:e})})},JU);function kV(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:IV(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function Sj(t,e){return{data:t,dataUpdatedAt:e??Date.now(),error:null,isInvalidated:!1,status:"success"}}function Ej(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,r=e!==void 0,n=r?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:r?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var Hr,Le,Od,Ir,Qa,Fl,Li,ks,Nd,Ll,Bl,Xa,Ja,Ds,zl,He,Sc,AO,FO,LO,BO,zO,UO,WO,DV,ZU,TP=(ZU=class extends Ro{constructor(e,r){super();de(this,He);de(this,Hr);de(this,Le);de(this,Od);de(this,Ir);de(this,Qa);de(this,Fl);de(this,Li);de(this,ks);de(this,Nd);de(this,Ll);de(this,Bl);de(this,Xa);de(this,Ja);de(this,Ds);de(this,zl,new Set);this.options=r,re(this,Hr,e),re(this,ks,null),re(this,Li,qO()),this.bindMethods(),this.setOptions(r)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(R(this,Le).addObserver(this),Oj(R(this,Le),this.options)?Oe(this,He,Sc).call(this):this.updateResult(),Oe(this,He,BO).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return VO(R(this,Le),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return VO(R(this,Le),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,Oe(this,He,zO).call(this),Oe(this,He,UO).call(this),R(this,Le).removeObserver(this)}setOptions(e){const r=this.options,n=R(this,Le);if(this.options=R(this,Hr).defaultQueryOptions(e),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof Cn(this.options.enabled,R(this,Le))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");Oe(this,He,WO).call(this),R(this,Le).setOptions(this.options),r._defaulted&&!cd(this.options,r)&&R(this,Hr).getQueryCache().notify({type:"observerOptionsUpdated",query:R(this,Le),observer:this});const i=this.hasListeners();i&&Nj(R(this,Le),n,this.options,r)&&Oe(this,He,Sc).call(this),this.updateResult(),i&&(R(this,Le)!==n||Cn(this.options.enabled,R(this,Le))!==Cn(r.enabled,R(this,Le))||ea(this.options.staleTime,R(this,Le))!==ea(r.staleTime,R(this,Le)))&&Oe(this,He,AO).call(this);const s=Oe(this,He,FO).call(this);i&&(R(this,Le)!==n||Cn(this.options.enabled,R(this,Le))!==Cn(r.enabled,R(this,Le))||s!==R(this,Ds))&&Oe(this,He,LO).call(this,s)}getOptimisticResult(e){const r=R(this,Hr).getQueryCache().build(R(this,Hr),e),n=this.createResult(r,e);return AZ(this,n)&&(re(this,Ir,n),re(this,Fl,this.options),re(this,Qa,R(this,Le).state)),n}getCurrentResult(){return R(this,Ir)}trackResult(e,r){return new Proxy(e,{get:(n,i)=>(this.trackProp(i),r==null||r(i),i==="promise"&&(this.trackProp("data"),!this.options.experimental_prefetchInRender&&R(this,Li).status==="pending"&&R(this,Li).reject(new Error("experimental_prefetchInRender feature flag is not enabled"))),Reflect.get(n,i))})}trackProp(e){R(this,zl).add(e)}getCurrentQuery(){return R(this,Le)}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){const r=R(this,Hr).defaultQueryOptions(e),n=R(this,Hr).getQueryCache().build(R(this,Hr),r);return n.fetch().then(()=>this.createResult(n,r))}fetch(e){return Oe(this,He,Sc).call(this,{...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),R(this,Ir)))}createResult(e,r){var N;const n=R(this,Le),i=this.options,s=R(this,Ir),a=R(this,Qa),o=R(this,Fl),c=e!==n?e.state:R(this,Od),{state:d}=e;let h={...d},f=!1,p;if(r._optimisticResults){const P=this.hasListeners(),I=!P&&Oj(e,r),C=P&&Nj(e,n,r,i);(I||C)&&(h={...h,...kV(d.data,e.options)}),r._optimisticResults==="isRestoring"&&(h.fetchStatus="idle")}let{error:m,errorUpdatedAt:y,status:w}=h;p=h.data;let g=!1;if(r.placeholderData!==void 0&&p===void 0&&w==="pending"){let P;s!=null&&s.isPlaceholderData&&r.placeholderData===(o==null?void 0:o.placeholderData)?(P=s.data,g=!0):P=typeof r.placeholderData=="function"?r.placeholderData((N=R(this,Bl))==null?void 0:N.state.data,R(this,Bl)):r.placeholderData,P!==void 0&&(w="success",p=DO(s==null?void 0:s.data,P,r),f=!0)}if(r.select&&p!==void 0&&!g)if(s&&p===(a==null?void 0:a.data)&&r.select===R(this,Nd))p=R(this,Ll);else try{re(this,Nd,r.select),p=r.select(p),p=DO(s==null?void 0:s.data,p,r),re(this,Ll,p),re(this,ks,null)}catch(P){re(this,ks,P)}R(this,ks)&&(m=R(this,ks),p=R(this,Ll),y=Date.now(),w="error");const v=h.fetchStatus==="fetching",x=w==="pending",b=w==="error",_=x&&v,E=p!==void 0,S={status:w,fetchStatus:h.fetchStatus,isPending:x,isSuccess:w==="success",isError:b,isInitialLoading:_,isLoading:_,data:p,dataUpdatedAt:h.dataUpdatedAt,error:m,errorUpdatedAt:y,failureCount:h.fetchFailureCount,failureReason:h.fetchFailureReason,errorUpdateCount:h.errorUpdateCount,isFetched:h.dataUpdateCount>0||h.errorUpdateCount>0,isFetchedAfterMount:h.dataUpdateCount>c.dataUpdateCount||h.errorUpdateCount>c.errorUpdateCount,isFetching:v,isRefetching:v&&!x,isLoadingError:b&&!E,isPaused:h.fetchStatus==="paused",isPlaceholderData:f,isRefetchError:b&&E,isStale:jP(e,r),refetch:this.refetch,promise:R(this,Li),isEnabled:Cn(r.enabled,e)!==!1};if(this.options.experimental_prefetchInRender){const P=T=>{S.status==="error"?T.reject(S.error):S.data!==void 0&&T.resolve(S.data)},I=()=>{const T=re(this,Li,S.promise=qO());P(T)},C=R(this,Li);switch(C.status){case"pending":e.queryHash===n.queryHash&&P(C);break;case"fulfilled":(S.status==="error"||S.data!==C.value)&&I();break;case"rejected":(S.status!=="error"||S.error!==C.reason)&&I();break}}return S}updateResult(){const e=R(this,Ir),r=this.createResult(R(this,Le),this.options);if(re(this,Qa,R(this,Le).state),re(this,Fl,this.options),R(this,Qa).data!==void 0&&re(this,Bl,R(this,Le)),cd(r,e))return;re(this,Ir,r);const n=()=>{if(!e)return!0;const{notifyOnChangeProps:i}=this.options,s=typeof i=="function"?i():i;if(s==="all"||!s&&!R(this,zl).size)return!0;const a=new Set(s??R(this,zl));return this.options.throwOnError&&a.add("error"),Object.keys(R(this,Ir)).some(o=>{const l=o;return R(this,Ir)[l]!==e[l]&&a.has(l)})};Oe(this,He,DV).call(this,{listeners:n()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&Oe(this,He,BO).call(this)}},Hr=new WeakMap,Le=new WeakMap,Od=new WeakMap,Ir=new WeakMap,Qa=new WeakMap,Fl=new WeakMap,Li=new WeakMap,ks=new WeakMap,Nd=new WeakMap,Ll=new WeakMap,Bl=new WeakMap,Xa=new WeakMap,Ja=new WeakMap,Ds=new WeakMap,zl=new WeakMap,He=new WeakSet,Sc=function(e){Oe(this,He,WO).call(this);let r=R(this,Le).fetch(this.options,e);return e!=null&&e.throwOnError||(r=r.catch(Nr)),r},AO=function(){Oe(this,He,zO).call(this);const e=ea(this.options.staleTime,R(this,Le));if(go||R(this,Ir).isStale||!$O(e))return;const n=TV(R(this,Ir).dataUpdatedAt,e)+1;re(this,Xa,Ma.setTimeout(()=>{R(this,Ir).isStale||this.updateResult()},n))},FO=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(R(this,Le)):this.options.refetchInterval)??!1},LO=function(e){Oe(this,He,UO).call(this),re(this,Ds,e),!(go||Cn(this.options.enabled,R(this,Le))===!1||!$O(R(this,Ds))||R(this,Ds)===0)&&re(this,Ja,Ma.setInterval(()=>{(this.options.refetchIntervalInBackground||CP.isFocused())&&Oe(this,He,Sc).call(this)},R(this,Ds)))},BO=function(){Oe(this,He,AO).call(this),Oe(this,He,LO).call(this,Oe(this,He,FO).call(this))},zO=function(){R(this,Xa)&&(Ma.clearTimeout(R(this,Xa)),re(this,Xa,void 0))},UO=function(){R(this,Ja)&&(Ma.clearInterval(R(this,Ja)),re(this,Ja,void 0))},WO=function(){const e=R(this,Hr).getQueryCache().build(R(this,Hr),this.options);if(e===R(this,Le))return;const r=R(this,Le);re(this,Le,e),re(this,Od,e.state),this.hasListeners()&&(r==null||r.removeObserver(this),e.addObserver(this))},DV=function(e){It.batch(()=>{e.listeners&&this.listeners.forEach(r=>{r(R(this,Ir))}),R(this,Hr).getQueryCache().notify({query:R(this,Le),type:"observerResultsUpdated"})})},ZU);function MZ(t,e){return Cn(e.enabled,t)!==!1&&t.state.data===void 0&&!(t.state.status==="error"&&e.retryOnMount===!1)}function Oj(t,e){return MZ(t,e)||t.state.data!==void 0&&VO(t,e,e.refetchOnMount)}function VO(t,e,r){if(Cn(e.enabled,t)!==!1&&ea(e.staleTime,t)!=="static"){const n=typeof r=="function"?r(t):r;return n==="always"||n!==!1&&jP(t,e)}return!1}function Nj(t,e,r,n){return(t!==e||Cn(n.enabled,t)===!1)&&(!r.suspense||t.state.status!=="error")&&jP(t,r)}function jP(t,e){return Cn(e.enabled,t)!==!1&&t.isStaleByTime(ea(e.staleTime,t))}function AZ(t,e){return!cd(t.getCurrentResult(),e)}function Pj(t){return{onFetch:(e,r)=>{var d,h,f,p,m;const n=e.options,i=(f=(h=(d=e.fetchOptions)==null?void 0:d.meta)==null?void 0:h.fetchMore)==null?void 0:f.direction,s=((p=e.state.data)==null?void 0:p.pages)||[],a=((m=e.state.data)==null?void 0:m.pageParams)||[];let o={pages:[],pageParams:[]},l=0;const c=async()=>{let y=!1;const w=x=>{jZ(x,()=>e.signal,()=>y=!0)},g=jV(e.options,e.fetchOptions),v=async(x,b,_)=>{if(y)return Promise.reject();if(b==null&&x.pages.length)return Promise.resolve(x);const O=(()=>{const I={client:e.client,queryKey:e.queryKey,pageParam:b,direction:_?"backward":"forward",meta:e.options.meta};return w(I),I})(),S=await g(O),{maxPages:N}=e.options,P=_?TZ:CZ;return{pages:P(x.pages,S,N),pageParams:P(x.pageParams,b,N)}};if(i&&s.length){const x=i==="backward",b=x?FZ:Cj,_={pages:s,pageParams:a},E=b(n,_);o=await v(_,E,x)}else{const x=t??s.length;do{const b=l===0?a[0]??n.initialPageParam:Cj(n,o);if(l>0&&b==null)break;o=await v(o,b),l++}while(l<x)}return o};e.options.persister?e.fetchFn=()=>{var y,w;return(w=(y=e.options).persister)==null?void 0:w.call(y,c,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},r)}:e.fetchFn=c}}}function Cj(t,{pages:e,pageParams:r}){const n=e.length-1;return e.length>0?t.getNextPageParam(e[n],e,r[n],r):void 0}function FZ(t,{pages:e,pageParams:r}){var n;return e.length>0?(n=t.getPreviousPageParam)==null?void 0:n.call(t,e[0],e,r[0],r):void 0}var Pd,vi,Rr,Za,gi,Ss,eW,LZ=(eW=class extends $V{constructor(e){super();de(this,gi);de(this,Pd);de(this,vi);de(this,Rr);de(this,Za);re(this,Pd,e.client),this.mutationId=e.mutationId,re(this,Rr,e.mutationCache),re(this,vi,[]),this.state=e.state||qV(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){R(this,vi).includes(e)||(R(this,vi).push(e),this.clearGcTimeout(),R(this,Rr).notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){re(this,vi,R(this,vi).filter(r=>r!==e)),this.scheduleGc(),R(this,Rr).notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){R(this,vi).length||(this.state.status==="pending"?this.scheduleGc():R(this,Rr).remove(this))}continue(){var e;return((e=R(this,Za))==null?void 0:e.continue())??this.execute(this.state.variables)}async execute(e){var a,o,l,c,d,h,f,p,m,y,w,g,v,x,b,_,E,O,S,N;const r=()=>{Oe(this,gi,Ss).call(this,{type:"continue"})},n={client:R(this,Pd),meta:this.options.meta,mutationKey:this.options.mutationKey};re(this,Za,RV({fn:()=>this.options.mutationFn?this.options.mutationFn(e,n):Promise.reject(new Error("No mutationFn found")),onFail:(P,I)=>{Oe(this,gi,Ss).call(this,{type:"failed",failureCount:P,error:I})},onPause:()=>{Oe(this,gi,Ss).call(this,{type:"pause"})},onContinue:r,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>R(this,Rr).canRun(this)}));const i=this.state.status==="pending",s=!R(this,Za).canStart();try{if(i)r();else{Oe(this,gi,Ss).call(this,{type:"pending",variables:e,isPaused:s}),await((o=(a=R(this,Rr).config).onMutate)==null?void 0:o.call(a,e,this,n));const I=await((c=(l=this.options).onMutate)==null?void 0:c.call(l,e,n));I!==this.state.context&&Oe(this,gi,Ss).call(this,{type:"pending",context:I,variables:e,isPaused:s})}const P=await R(this,Za).start();return await((h=(d=R(this,Rr).config).onSuccess)==null?void 0:h.call(d,P,e,this.state.context,this,n)),await((p=(f=this.options).onSuccess)==null?void 0:p.call(f,P,e,this.state.context,n)),await((y=(m=R(this,Rr).config).onSettled)==null?void 0:y.call(m,P,null,this.state.variables,this.state.context,this,n)),await((g=(w=this.options).onSettled)==null?void 0:g.call(w,P,null,e,this.state.context,n)),Oe(this,gi,Ss).call(this,{type:"success",data:P}),P}catch(P){try{await((x=(v=R(this,Rr).config).onError)==null?void 0:x.call(v,P,e,this.state.context,this,n))}catch(I){Promise.reject(I)}try{await((_=(b=this.options).onError)==null?void 0:_.call(b,P,e,this.state.context,n))}catch(I){Promise.reject(I)}try{await((O=(E=R(this,Rr).config).onSettled)==null?void 0:O.call(E,void 0,P,this.state.variables,this.state.context,this,n))}catch(I){Promise.reject(I)}try{await((N=(S=this.options).onSettled)==null?void 0:N.call(S,void 0,P,e,this.state.context,n))}catch(I){Promise.reject(I)}throw Oe(this,gi,Ss).call(this,{type:"error",error:P}),P}finally{R(this,Rr).runNext(this)}}},Pd=new WeakMap,vi=new WeakMap,Rr=new WeakMap,Za=new WeakMap,gi=new WeakSet,Ss=function(e){const r=n=>{switch(e.type){case"failed":return{...n,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...n,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:e.error,failureCount:n.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=r(this.state),It.batch(()=>{R(this,vi).forEach(n=>{n.onMutationUpdate(e)}),R(this,Rr).notify({mutation:this,type:"updated",action:e})})},eW);function qV(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Bi,Yn,Cd,tW,BZ=(tW=class extends Ro{constructor(e={}){super();de(this,Bi);de(this,Yn);de(this,Cd);this.config=e,re(this,Bi,new Set),re(this,Yn,new Map),re(this,Cd,0)}build(e,r,n){const i=new LZ({client:e,mutationCache:this,mutationId:++Nh(this,Cd)._,options:e.defaultMutationOptions(r),state:n});return this.add(i),i}add(e){R(this,Bi).add(e);const r=Wh(e);if(typeof r=="string"){const n=R(this,Yn).get(r);n?n.push(e):R(this,Yn).set(r,[e])}this.notify({type:"added",mutation:e})}remove(e){if(R(this,Bi).delete(e)){const r=Wh(e);if(typeof r=="string"){const n=R(this,Yn).get(r);if(n)if(n.length>1){const i=n.indexOf(e);i!==-1&&n.splice(i,1)}else n[0]===e&&R(this,Yn).delete(r)}}this.notify({type:"removed",mutation:e})}canRun(e){const r=Wh(e);if(typeof r=="string"){const n=R(this,Yn).get(r),i=n==null?void 0:n.find(s=>s.state.status==="pending");return!i||i===e}else return!0}runNext(e){var n;const r=Wh(e);if(typeof r=="string"){const i=(n=R(this,Yn).get(r))==null?void 0:n.find(s=>s!==e&&s.state.isPaused);return(i==null?void 0:i.continue())??Promise.resolve()}else return Promise.resolve()}clear(){It.batch(()=>{R(this,Bi).forEach(e=>{this.notify({type:"removed",mutation:e})}),R(this,Bi).clear(),R(this,Yn).clear()})}getAll(){return Array.from(R(this,Bi))}find(e){const r={exact:!0,...e};return this.getAll().find(n=>wj(r,n))}findAll(e={}){return this.getAll().filter(r=>wj(e,r))}notify(e){It.batch(()=>{this.listeners.forEach(r=>{r(e)})})}resumePausedMutations(){const e=this.getAll().filter(r=>r.state.isPaused);return It.batch(()=>Promise.all(e.map(r=>r.continue().catch(Nr))))}},Bi=new WeakMap,Yn=new WeakMap,Cd=new WeakMap,tW);function Wh(t){var e;return(e=t.options.scope)==null?void 0:e.id}var zi,qs,Kr,Ui,is,mf,HO,rW,zZ=(rW=class extends Ro{constructor(e,r){super();de(this,is);de(this,zi);de(this,qs);de(this,Kr);de(this,Ui);re(this,zi,e),this.setOptions(r),this.bindMethods(),Oe(this,is,mf).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(e){var n;const r=this.options;this.options=R(this,zi).defaultMutationOptions(e),cd(this.options,r)||R(this,zi).getMutationCache().notify({type:"observerOptionsUpdated",mutation:R(this,Kr),observer:this}),r!=null&&r.mutationKey&&this.options.mutationKey&&yo(r.mutationKey)!==yo(this.options.mutationKey)?this.reset():((n=R(this,Kr))==null?void 0:n.state.status)==="pending"&&R(this,Kr).setOptions(this.options)}onUnsubscribe(){var e;this.hasListeners()||(e=R(this,Kr))==null||e.removeObserver(this)}onMutationUpdate(e){Oe(this,is,mf).call(this),Oe(this,is,HO).call(this,e)}getCurrentResult(){return R(this,qs)}reset(){var e;(e=R(this,Kr))==null||e.removeObserver(this),re(this,Kr,void 0),Oe(this,is,mf).call(this),Oe(this,is,HO).call(this)}mutate(e,r){var n;return re(this,Ui,r),(n=R(this,Kr))==null||n.removeObserver(this),re(this,Kr,R(this,zi).getMutationCache().build(R(this,zi),this.options)),R(this,Kr).addObserver(this),R(this,Kr).execute(e)}},zi=new WeakMap,qs=new WeakMap,Kr=new WeakMap,Ui=new WeakMap,is=new WeakSet,mf=function(){var r;const e=((r=R(this,Kr))==null?void 0:r.state)??qV();re(this,qs,{...e,isPending:e.status==="pending",isSuccess:e.status==="success",isError:e.status==="error",isIdle:e.status==="idle",mutate:this.mutate,reset:this.reset})},HO=function(e){It.batch(()=>{var r,n,i,s,a,o,l,c;if(R(this,Ui)&&this.hasListeners()){const d=R(this,qs).variables,h=R(this,qs).context,f={client:R(this,zi),meta:this.options.meta,mutationKey:this.options.mutationKey};if((e==null?void 0:e.type)==="success"){try{(n=(r=R(this,Ui)).onSuccess)==null||n.call(r,e.data,d,h,f)}catch(p){Promise.reject(p)}try{(s=(i=R(this,Ui)).onSettled)==null||s.call(i,e.data,null,d,h,f)}catch(p){Promise.reject(p)}}else if((e==null?void 0:e.type)==="error"){try{(o=(a=R(this,Ui)).onError)==null||o.call(a,e.error,d,h,f)}catch(p){Promise.reject(p)}try{(c=(l=R(this,Ui)).onSettled)==null||c.call(l,void 0,e.error,d,h,f)}catch(p){Promise.reject(p)}}}this.listeners.forEach(d=>{d(R(this,qs))})})},rW);function Tj(t,e){const r=new Set(e);return t.filter(n=>!r.has(n))}function UZ(t,e,r){const n=t.slice(0);return n[e]=r,n}var Ul,dn,Wl,Vl,Pn,Ms,Td,jd,Id,xr,KO,GO,YO,QO,XO,nW,WZ=(nW=class extends Ro{constructor(e,r,n){super();de(this,xr);de(this,Ul);de(this,dn);de(this,Wl);de(this,Vl);de(this,Pn);de(this,Ms);de(this,Td);de(this,jd);de(this,Id,[]);re(this,Ul,e),re(this,Vl,n),re(this,Wl,[]),re(this,Pn,[]),re(this,dn,[]),this.setQueries(r)}onSubscribe(){this.listeners.size===1&&R(this,Pn).forEach(e=>{e.subscribe(r=>{Oe(this,xr,QO).call(this,e,r)})})}onUnsubscribe(){this.listeners.size||this.destroy()}destroy(){this.listeners=new Set,R(this,Pn).forEach(e=>{e.destroy()})}setQueries(e,r){re(this,Wl,e),re(this,Vl,r),It.batch(()=>{const n=R(this,Pn),i=Oe(this,xr,YO).call(this,R(this,Wl));i.forEach(h=>h.observer.setOptions(h.defaultedQueryOptions));const s=i.map(h=>h.observer),a=s.map(h=>h.getCurrentResult()),o=n.length!==s.length,l=s.some((h,f)=>h!==n[f]),c=o||l,d=c?!0:a.some((h,f)=>{const p=R(this,dn)[f];return!p||!cd(h,p)});!c&&!d||(c&&(re(this,Id,i),re(this,Pn,s)),re(this,dn,a),this.hasListeners()&&(c&&(Tj(n,s).forEach(h=>{h.destroy()}),Tj(s,n).forEach(h=>{h.subscribe(f=>{Oe(this,xr,QO).call(this,h,f)})})),Oe(this,xr,XO).call(this)))})}getCurrentResult(){return R(this,dn)}getQueries(){return R(this,Pn).map(e=>e.getCurrentQuery())}getObservers(){return R(this,Pn)}getOptimisticResult(e,r){const n=Oe(this,xr,YO).call(this,e),i=n.map(s=>s.observer.getOptimisticResult(s.defaultedQueryOptions));return[i,s=>Oe(this,xr,GO).call(this,s??i,r),()=>Oe(this,xr,KO).call(this,i,n)]}},Ul=new WeakMap,dn=new WeakMap,Wl=new WeakMap,Vl=new WeakMap,Pn=new WeakMap,Ms=new WeakMap,Td=new WeakMap,jd=new WeakMap,Id=new WeakMap,xr=new WeakSet,KO=function(e,r){return r.map((n,i)=>{const s=e[i];return n.defaultedQueryOptions.notifyOnChangeProps?s:n.observer.trackResult(s,a=>{r.forEach(o=>{o.observer.trackProp(a)})})})},GO=function(e,r){return r?((!R(this,Ms)||R(this,dn)!==R(this,jd)||r!==R(this,Td))&&(re(this,Td,r),re(this,jd,R(this,dn)),re(this,Ms,OP(R(this,Ms),r(e)))),R(this,Ms)):e},YO=function(e){const r=new Map;R(this,Pn).forEach(i=>{const s=i.options.queryHash;if(!s)return;const a=r.get(s);a?a.push(i):r.set(s,[i])});const n=[];return e.forEach(i=>{var l;const s=R(this,Ul).defaultQueryOptions(i),o=((l=r.get(s.queryHash))==null?void 0:l.shift())??new TP(R(this,Ul),s);n.push({defaultedQueryOptions:s,observer:o})}),n},QO=function(e,r){const n=R(this,Pn).indexOf(e);n!==-1&&(re(this,dn,UZ(R(this,dn),n,r)),Oe(this,xr,XO).call(this))},XO=function(){var e;if(this.hasListeners()){const r=R(this,Ms),n=Oe(this,xr,KO).call(this,R(this,dn),R(this,Id)),i=Oe(this,xr,GO).call(this,n,(e=R(this,Vl))==null?void 0:e.combine);r!==i&&It.batch(()=>{this.listeners.forEach(s=>{s(R(this,dn))})})}},nW),yi,iW,VZ=(iW=class extends Ro{constructor(e={}){super();de(this,yi);this.config=e,re(this,yi,new Map)}build(e,r,n){const i=r.queryKey,s=r.queryHash??EP(i,r);let a=this.get(s);return a||(a=new qZ({client:e,queryKey:i,queryHash:s,options:e.defaultQueryOptions(r),state:n,defaultOptions:e.getQueryDefaults(i)}),this.add(a)),a}add(e){R(this,yi).has(e.queryHash)||(R(this,yi).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const r=R(this,yi).get(e.queryHash);r&&(e.destroy(),r===e&&R(this,yi).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){It.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return R(this,yi).get(e)}getAll(){return[...R(this,yi).values()]}find(e){const r={exact:!0,...e};return this.getAll().find(n=>bj(r,n))}findAll(e={}){const r=this.getAll();return Object.keys(e).length>0?r.filter(n=>bj(e,n)):r}notify(e){It.batch(()=>{this.listeners.forEach(r=>{r(e)})})}onFocus(){It.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){It.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},yi=new WeakMap,iW),Pt,As,Fs,Hl,Kl,Ls,Gl,Yl,sW,HZ=(sW=class{constructor(t={}){de(this,Pt);de(this,As);de(this,Fs);de(this,Hl);de(this,Kl);de(this,Ls);de(this,Gl);de(this,Yl);re(this,Pt,t.queryCache||new VZ),re(this,As,t.mutationCache||new BZ),re(this,Fs,t.defaultOptions||{}),re(this,Hl,new Map),re(this,Kl,new Map),re(this,Ls,0)}mount(){Nh(this,Ls)._++,R(this,Ls)===1&&(re(this,Gl,CP.subscribe(async t=>{t&&(await this.resumePausedMutations(),R(this,Pt).onFocus())})),re(this,Yl,Xf.subscribe(async t=>{t&&(await this.resumePausedMutations(),R(this,Pt).onOnline())})))}unmount(){var t,e;Nh(this,Ls)._--,R(this,Ls)===0&&((t=R(this,Gl))==null||t.call(this),re(this,Gl,void 0),(e=R(this,Yl))==null||e.call(this),re(this,Yl,void 0))}isFetching(t){return R(this,Pt).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return R(this,As).findAll({...t,status:"pending"}).length}getQueryData(t){var r;const e=this.defaultQueryOptions({queryKey:t});return(r=R(this,Pt).get(e.queryHash))==null?void 0:r.state.data}ensureQueryData(t){const e=this.defaultQueryOptions(t),r=R(this,Pt).build(this,e),n=r.state.data;return n===void 0?this.fetchQuery(t):(t.revalidateIfStale&&r.isStaleByTime(ea(e.staleTime,r))&&this.prefetchQuery(e),Promise.resolve(n))}getQueriesData(t){return R(this,Pt).findAll(t).map(({queryKey:e,state:r})=>{const n=r.data;return[e,n]})}setQueryData(t,e,r){const n=this.defaultQueryOptions({queryKey:t}),i=R(this,Pt).get(n.queryHash),s=i==null?void 0:i.state.data,a=OZ(e,s);if(a!==void 0)return R(this,Pt).build(this,n).setData(a,{...r,manual:!0})}setQueriesData(t,e,r){return It.batch(()=>R(this,Pt).findAll(t).map(({queryKey:n})=>[n,this.setQueryData(n,e,r)]))}getQueryState(t){var r;const e=this.defaultQueryOptions({queryKey:t});return(r=R(this,Pt).get(e.queryHash))==null?void 0:r.state}removeQueries(t){const e=R(this,Pt);It.batch(()=>{e.findAll(t).forEach(r=>{e.remove(r)})})}resetQueries(t,e){const r=R(this,Pt);return It.batch(()=>(r.findAll(t).forEach(n=>{n.reset()}),this.refetchQueries({type:"active",...t},e)))}cancelQueries(t,e={}){const r={revert:!0,...e},n=It.batch(()=>R(this,Pt).findAll(t).map(i=>i.cancel(r)));return Promise.all(n).then(Nr).catch(Nr)}invalidateQueries(t,e={}){return It.batch(()=>(R(this,Pt).findAll(t).forEach(r=>{r.invalidate()}),(t==null?void 0:t.refetchType)==="none"?Promise.resolve():this.refetchQueries({...t,type:(t==null?void 0:t.refetchType)??(t==null?void 0:t.type)??"active"},e)))}refetchQueries(t,e={}){const r={...e,cancelRefetch:e.cancelRefetch??!0},n=It.batch(()=>R(this,Pt).findAll(t).filter(i=>!i.isDisabled()&&!i.isStatic()).map(i=>{let s=i.fetch(void 0,r);return r.throwOnError||(s=s.catch(Nr)),i.state.fetchStatus==="paused"?Promise.resolve():s}));return Promise.all(n).then(Nr)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const r=R(this,Pt).build(this,e);return r.isStaleByTime(ea(e.staleTime,r))?r.fetch(e):Promise.resolve(r.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(Nr).catch(Nr)}fetchInfiniteQuery(t){return t.behavior=Pj(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(Nr).catch(Nr)}ensureInfiniteQueryData(t){return t.behavior=Pj(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return Xf.isOnline()?R(this,As).resumePausedMutations():Promise.resolve()}getQueryCache(){return R(this,Pt)}getMutationCache(){return R(this,As)}getDefaultOptions(){return R(this,Fs)}setDefaultOptions(t){re(this,Fs,t)}setQueryDefaults(t,e){R(this,Hl).set(yo(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...R(this,Hl).values()],r={};return e.forEach(n=>{ud(t,n.queryKey)&&Object.assign(r,n.defaultOptions)}),r}setMutationDefaults(t,e){R(this,Kl).set(yo(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...R(this,Kl).values()],r={};return e.forEach(n=>{ud(t,n.mutationKey)&&Object.assign(r,n.defaultOptions)}),r}defaultQueryOptions(t){if(t._defaulted)return t;const e={...R(this,Fs).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=EP(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===NP&&(e.enabled=!1),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...R(this,Fs).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){R(this,Pt).clear(),R(this,As).clear()}},Pt=new WeakMap,As=new WeakMap,Fs=new WeakMap,Hl=new WeakMap,Kl=new WeakMap,Ls=new WeakMap,Gl=new WeakMap,Yl=new WeakMap,sW),MV=$.createContext(void 0),Vt=t=>{const e=$.useContext(MV);if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},KZ=({client:t,children:e})=>($.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),u.jsx(MV.Provider,{value:t,children:e})),AV=$.createContext(!1),FV=()=>$.useContext(AV);AV.Provider;function GZ(){let t=!1;return{clearReset:()=>{t=!1},reset:()=>{t=!0},isReset:()=>t}}var YZ=$.createContext(GZ()),LV=()=>$.useContext(YZ),BV=(t,e,r)=>{const n=r!=null&&r.state.error&&typeof t.throwOnError=="function"?PP(t.throwOnError,[r.state.error,r]):t.throwOnError;(t.suspense||t.experimental_prefetchInRender||n)&&(e.isReset()||(t.retryOnMount=!1))},zV=t=>{$.useEffect(()=>{t.clearReset()},[t])},UV=({result:t,errorResetBoundary:e,throwOnError:r,query:n,suspense:i})=>t.isError&&!e.isReset()&&!t.isFetching&&n&&(i&&t.data===void 0||PP(r,[t.error,n])),WV=t=>{if(t.suspense){const r=i=>i==="static"?i:Math.max(i??1e3,1e3),n=t.staleTime;t.staleTime=typeof n=="function"?(...i)=>r(n(...i)):r(n),typeof t.gcTime=="number"&&(t.gcTime=Math.max(t.gcTime,1e3))}},VV=(t,e)=>t.isLoading&&t.isFetching&&!e,JO=(t,e)=>(t==null?void 0:t.suspense)&&e.isPending,Jf=(t,e,r)=>e.fetchOptimistic(t).catch(()=>{r.clearReset()});function Zf({queries:t,...e},r){const n=Vt(),i=FV(),s=LV(),a=$.useMemo(()=>t.map(y=>{const w=n.defaultQueryOptions(y);return w._optimisticResults=i?"isRestoring":"optimistic",w}),[t,n,i]);a.forEach(y=>{WV(y);const w=n.getQueryCache().get(y.queryHash);BV(y,s,w)}),zV(s);const[o]=$.useState(()=>new WZ(n,a,e)),[l,c,d]=o.getOptimisticResult(a,e.combine),h=!i&&e.subscribed!==!1;$.useSyncExternalStore($.useCallback(y=>h?o.subscribe(It.batchCalls(y)):Nr,[o,h]),()=>o.getCurrentResult(),()=>o.getCurrentResult()),$.useEffect(()=>{o.setQueries(a,e)},[a,e,o]);const p=l.some((y,w)=>JO(a[w],y))?l.flatMap((y,w)=>{const g=a[w];if(g){const v=new TP(n,g);if(JO(g,y))return Jf(g,v,s);VV(y,i)&&Jf(g,v,s)}return[]}):[];if(p.length>0)throw Promise.all(p);const m=l.find((y,w)=>{const g=a[w];return g&&UV({result:y,errorResetBoundary:s,throwOnError:g.throwOnError,query:n.getQueryCache().get(g.queryHash),suspense:g.suspense})});if(m!=null&&m.error)throw m.error;return c(d())}function QZ(t,e,r){var f,p,m,y;const n=FV(),i=LV(),s=Vt(),a=s.defaultQueryOptions(t);(p=(f=s.getDefaultOptions().queries)==null?void 0:f._experimental_beforeQuery)==null||p.call(f,a);const o=s.getQueryCache().get(a.queryHash);a._optimisticResults=n?"isRestoring":"optimistic",WV(a),BV(a,i,o),zV(i);const l=!s.getQueryCache().get(a.queryHash),[c]=$.useState(()=>new e(s,a)),d=c.getOptimisticResult(a),h=!n&&t.subscribed!==!1;if($.useSyncExternalStore($.useCallback(w=>{const g=h?c.subscribe(It.batchCalls(w)):Nr;return c.updateResult(),g},[c,h]),()=>c.getCurrentResult(),()=>c.getCurrentResult()),$.useEffect(()=>{c.setOptions(a)},[a,c]),JO(a,d))throw Jf(a,c,i);if(UV({result:d,errorResetBoundary:i,throwOnError:a.throwOnError,query:o,suspense:a.suspense}))throw d.error;if((y=(m=s.getDefaultOptions().queries)==null?void 0:m._experimental_afterQuery)==null||y.call(m,a,d),a.experimental_prefetchInRender&&!go&&VV(d,n)){const w=l?Jf(a,c,i):o==null?void 0:o.promise;w==null||w.catch(Nr).finally(()=>{c.updateResult()})}return a.notifyOnChangeProps?d:c.trackResult(d)}function ft(t,e){return QZ(t,TP)}function wt(t,e){const r=Vt(),[n]=$.useState(()=>new zZ(r,t));$.useEffect(()=>{n.setOptions(t)},[n,t]);const i=$.useSyncExternalStore($.useCallback(a=>n.subscribe(It.batchCalls(a)),[n]),()=>n.getCurrentResult(),()=>n.getCurrentResult()),s=$.useCallback((a,o)=>{n.mutate(a,o).catch(Nr)},[n]);if(i.error&&PP(n.options.throwOnError,[i.error]))throw i.error;return{...i,mutate:s,mutateAsync:i.mutate}}function IP(){const t=window.prmConfig||{};return $.useMemo(()=>({isLoggedIn:t.isLoggedIn||!1,userId:t.userId||null,loginUrl:t.loginUrl||"/wp-login.php",logoutUrl:t.logoutUrl||"/wp-login.php?action=logout",isLoading:!1}),[t.isLoggedIn,t.userId,t.loginUrl,t.logoutUrl])}function HV(t,e){return function(){return t.apply(e,arguments)}}const{toString:XZ}=Object.prototype,{getPrototypeOf:RP}=Object,{iterator:Ap,toStringTag:KV}=Symbol,Fp=(t=>e=>{const r=XZ.call(e);return t[r]||(t[r]=r.slice(8,-1).toLowerCase())})(Object.create(null)),li=t=>(t=t.toLowerCase(),e=>Fp(e)===t),Lp=t=>e=>typeof e===t,{isArray:Su}=Array,iu=Lp("undefined");function Md(t){return t!==null&&!iu(t)&&t.constructor!==null&&!iu(t.constructor)&&rn(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const GV=li("ArrayBuffer");function JZ(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&GV(t.buffer),e}const ZZ=Lp("string"),rn=Lp("function"),YV=Lp("number"),Ad=t=>t!==null&&typeof t=="object",eee=t=>t===!0||t===!1,vf=t=>{if(Fp(t)!=="object")return!1;const e=RP(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(KV in t)&&!(Ap in t)},tee=t=>{if(!Ad(t)||Md(t))return!1;try{return Object.keys(t).length===0&&Object.getPrototypeOf(t)===Object.prototype}catch{return!1}},ree=li("Date"),nee=li("File"),iee=li("Blob"),see=li("FileList"),aee=t=>Ad(t)&&rn(t.pipe),oee=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||rn(t.append)&&((e=Fp(t))==="formdata"||e==="object"&&rn(t.toString)&&t.toString()==="[object FormData]"))},lee=li("URLSearchParams"),[uee,cee,dee,hee]=["ReadableStream","Request","Response","Headers"].map(li),fee=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Fd(t,e,{allOwnKeys:r=!1}={}){if(t===null||typeof t>"u")return;let n,i;if(typeof t!="object"&&(t=[t]),Su(t))for(n=0,i=t.length;n<i;n++)e.call(null,t[n],n,t);else{if(Md(t))return;const s=r?Object.getOwnPropertyNames(t):Object.keys(t),a=s.length;let o;for(n=0;n<a;n++)o=s[n],e.call(null,t[o],o,t)}}function QV(t,e){if(Md(t))return null;e=e.toLowerCase();const r=Object.keys(t);let n=r.length,i;for(;n-- >0;)if(i=r[n],e===i.toLowerCase())return i;return null}const Aa=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,XV=t=>!iu(t)&&t!==Aa;function ZO(){const{caseless:t,skipUndefined:e}=XV(this)&&this||{},r={},n=(i,s)=>{const a=t&&QV(r,s)||s;vf(r[a])&&vf(i)?r[a]=ZO(r[a],i):vf(i)?r[a]=ZO({},i):Su(i)?r[a]=i.slice():(!e||!iu(i))&&(r[a]=i)};for(let i=0,s=arguments.length;i<s;i++)arguments[i]&&Fd(arguments[i],n);return r}const pee=(t,e,r,{allOwnKeys:n}={})=>(Fd(e,(i,s)=>{r&&rn(i)?t[s]=HV(i,r):t[s]=i},{allOwnKeys:n}),t),mee=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),vee=(t,e,r,n)=>{t.prototype=Object.create(e.prototype,n),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),r&&Object.assign(t.prototype,r)},gee=(t,e,r,n)=>{let i,s,a;const o={};if(e=e||{},t==null)return e;do{for(i=Object.getOwnPropertyNames(t),s=i.length;s-- >0;)a=i[s],(!n||n(a,t,e))&&!o[a]&&(e[a]=t[a],o[a]=!0);t=r!==!1&&RP(t)}while(t&&(!r||r(t,e))&&t!==Object.prototype);return e},yee=(t,e,r)=>{t=String(t),(r===void 0||r>t.length)&&(r=t.length),r-=e.length;const n=t.indexOf(e,r);return n!==-1&&n===r},bee=t=>{if(!t)return null;if(Su(t))return t;let e=t.length;if(!YV(e))return null;const r=new Array(e);for(;e-- >0;)r[e]=t[e];return r},wee=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&RP(Uint8Array)),xee=(t,e)=>{const n=(t&&t[Ap]).call(t);let i;for(;(i=n.next())&&!i.done;){const s=i.value;e.call(t,s[0],s[1])}},_ee=(t,e)=>{let r;const n=[];for(;(r=t.exec(e))!==null;)n.push(r);return n},See=li("HTMLFormElement"),Eee=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(r,n,i){return n.toUpperCase()+i}),jj=(({hasOwnProperty:t})=>(e,r)=>t.call(e,r))(Object.prototype),Oee=li("RegExp"),JV=(t,e)=>{const r=Object.getOwnPropertyDescriptors(t),n={};Fd(r,(i,s)=>{let a;(a=e(i,s,t))!==!1&&(n[s]=a||i)}),Object.defineProperties(t,n)},Nee=t=>{JV(t,(e,r)=>{if(rn(t)&&["arguments","caller","callee"].indexOf(r)!==-1)return!1;const n=t[r];if(rn(n)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")})}})},Pee=(t,e)=>{const r={},n=i=>{i.forEach(s=>{r[s]=!0})};return Su(t)?n(t):n(String(t).split(e)),r},Cee=()=>{},Tee=(t,e)=>t!=null&&Number.isFinite(t=+t)?t:e;function jee(t){return!!(t&&rn(t.append)&&t[KV]==="FormData"&&t[Ap])}const Iee=t=>{const e=new Array(10),r=(n,i)=>{if(Ad(n)){if(e.indexOf(n)>=0)return;if(Md(n))return n;if(!("toJSON"in n)){e[i]=n;const s=Su(n)?[]:{};return Fd(n,(a,o)=>{const l=r(a,i+1);!iu(l)&&(s[o]=l)}),e[i]=void 0,s}}return n};return r(t,0)},Ree=li("AsyncFunction"),$ee=t=>t&&(Ad(t)||rn(t))&&rn(t.then)&&rn(t.catch),ZV=((t,e)=>t?setImmediate:e?((r,n)=>(Aa.addEventListener("message",({source:i,data:s})=>{i===Aa&&s===r&&n.length&&n.shift()()},!1),i=>{n.push(i),Aa.postMessage(r,"*")}))(`axios@${Math.random()}`,[]):r=>setTimeout(r))(typeof setImmediate=="function",rn(Aa.postMessage)),kee=typeof queueMicrotask<"u"?queueMicrotask.bind(Aa):typeof process<"u"&&process.nextTick||ZV,Dee=t=>t!=null&&rn(t[Ap]),A={isArray:Su,isArrayBuffer:GV,isBuffer:Md,isFormData:oee,isArrayBufferView:JZ,isString:ZZ,isNumber:YV,isBoolean:eee,isObject:Ad,isPlainObject:vf,isEmptyObject:tee,isReadableStream:uee,isRequest:cee,isResponse:dee,isHeaders:hee,isUndefined:iu,isDate:ree,isFile:nee,isBlob:iee,isRegExp:Oee,isFunction:rn,isStream:aee,isURLSearchParams:lee,isTypedArray:wee,isFileList:see,forEach:Fd,merge:ZO,extend:pee,trim:fee,stripBOM:mee,inherits:vee,toFlatObject:gee,kindOf:Fp,kindOfTest:li,endsWith:yee,toArray:bee,forEachEntry:xee,matchAll:_ee,isHTMLForm:See,hasOwnProperty:jj,hasOwnProp:jj,reduceDescriptors:JV,freezeMethods:Nee,toObjectSet:Pee,toCamelCase:Eee,noop:Cee,toFiniteNumber:Tee,findKey:QV,global:Aa,isContextDefined:XV,isSpecCompliantForm:jee,toJSONObject:Iee,isAsyncFn:Ree,isThenable:$ee,setImmediate:ZV,asap:kee,isIterable:Dee};function je(t,e,r,n,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),r&&(this.config=r),n&&(this.request=n),i&&(this.response=i,this.status=i.status?i.status:null)}A.inherits(je,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:A.toJSONObject(this.config),code:this.code,status:this.status}}});const eH=je.prototype,tH={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{tH[t]={value:t}});Object.defineProperties(je,tH);Object.defineProperty(eH,"isAxiosError",{value:!0});je.from=(t,e,r,n,i,s)=>{const a=Object.create(eH);A.toFlatObject(t,a,function(d){return d!==Error.prototype},c=>c!=="isAxiosError");const o=t&&t.message?t.message:"Error",l=e==null&&t?t.code:e;return je.call(a,o,l,r,n,i),t&&a.cause==null&&Object.defineProperty(a,"cause",{value:t,configurable:!0}),a.name=t&&t.name||"Error",s&&Object.assign(a,s),a};const qee=null;function eN(t){return A.isPlainObject(t)||A.isArray(t)}function rH(t){return A.endsWith(t,"[]")?t.slice(0,-2):t}function Ij(t,e,r){return t?t.concat(e).map(function(i,s){return i=rH(i),!r&&s?"["+i+"]":i}).join(r?".":""):e}function Mee(t){return A.isArray(t)&&!t.some(eN)}const Aee=A.toFlatObject(A,{},null,function(e){return/^is[A-Z]/.test(e)});function Bp(t,e,r){if(!A.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,r=A.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,function(y,w){return!A.isUndefined(w[y])});const n=r.metaTokens,i=r.visitor||d,s=r.dots,a=r.indexes,l=(r.Blob||typeof Blob<"u"&&Blob)&&A.isSpecCompliantForm(e);if(!A.isFunction(i))throw new TypeError("visitor must be a function");function c(m){if(m===null)return"";if(A.isDate(m))return m.toISOString();if(A.isBoolean(m))return m.toString();if(!l&&A.isBlob(m))throw new je("Blob is not supported. Use a Buffer instead.");return A.isArrayBuffer(m)||A.isTypedArray(m)?l&&typeof Blob=="function"?new Blob([m]):Buffer.from(m):m}function d(m,y,w){let g=m;if(m&&!w&&typeof m=="object"){if(A.endsWith(y,"{}"))y=n?y:y.slice(0,-2),m=JSON.stringify(m);else if(A.isArray(m)&&Mee(m)||(A.isFileList(m)||A.endsWith(y,"[]"))&&(g=A.toArray(m)))return y=rH(y),g.forEach(function(x,b){!(A.isUndefined(x)||x===null)&&e.append(a===!0?Ij([y],b,s):a===null?y:y+"[]",c(x))}),!1}return eN(m)?!0:(e.append(Ij(w,y,s),c(m)),!1)}const h=[],f=Object.assign(Aee,{defaultVisitor:d,convertValue:c,isVisitable:eN});function p(m,y){if(!A.isUndefined(m)){if(h.indexOf(m)!==-1)throw Error("Circular reference detected in "+y.join("."));h.push(m),A.forEach(m,function(g,v){(!(A.isUndefined(g)||g===null)&&i.call(e,g,A.isString(v)?v.trim():v,y,f))===!0&&p(g,y?y.concat(v):[v])}),h.pop()}}if(!A.isObject(t))throw new TypeError("data must be an object");return p(t),e}function Rj(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(n){return e[n]})}function $P(t,e){this._pairs=[],t&&Bp(t,this,e)}const nH=$P.prototype;nH.append=function(e,r){this._pairs.push([e,r])};nH.toString=function(e){const r=e?function(n){return e.call(this,n,Rj)}:Rj;return this._pairs.map(function(i){return r(i[0])+"="+r(i[1])},"").join("&")};function Fee(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function iH(t,e,r){if(!e)return t;const n=r&&r.encode||Fee;A.isFunction(r)&&(r={serialize:r});const i=r&&r.serialize;let s;if(i?s=i(e,r):s=A.isURLSearchParams(e)?e.toString():new $P(e,r).toString(n),s){const a=t.indexOf("#");a!==-1&&(t=t.slice(0,a)),t+=(t.indexOf("?")===-1?"?":"&")+s}return t}class $j{constructor(){this.handlers=[]}use(e,r,n){return this.handlers.push({fulfilled:e,rejected:r,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){A.forEach(this.handlers,function(n){n!==null&&e(n)})}}const sH={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Lee=typeof URLSearchParams<"u"?URLSearchParams:$P,Bee=typeof FormData<"u"?FormData:null,zee=typeof Blob<"u"?Blob:null,Uee={isBrowser:!0,classes:{URLSearchParams:Lee,FormData:Bee,Blob:zee},protocols:["http","https","file","blob","url","data"]},kP=typeof window<"u"&&typeof document<"u",tN=typeof navigator=="object"&&navigator||void 0,Wee=kP&&(!tN||["ReactNative","NativeScript","NS"].indexOf(tN.product)<0),Vee=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",Hee=kP&&window.location.href||"http://localhost",Kee=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:kP,hasStandardBrowserEnv:Wee,hasStandardBrowserWebWorkerEnv:Vee,navigator:tN,origin:Hee},Symbol.toStringTag,{value:"Module"})),Cr={...Kee,...Uee};function Gee(t,e){return Bp(t,new Cr.classes.URLSearchParams,{visitor:function(r,n,i,s){return Cr.isNode&&A.isBuffer(r)?(this.append(n,r.toString("base64")),!1):s.defaultVisitor.apply(this,arguments)},...e})}function Yee(t){return A.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function Qee(t){const e={},r=Object.keys(t);let n;const i=r.length;let s;for(n=0;n<i;n++)s=r[n],e[s]=t[s];return e}function aH(t){function e(r,n,i,s){let a=r[s++];if(a==="__proto__")return!0;const o=Number.isFinite(+a),l=s>=r.length;return a=!a&&A.isArray(i)?i.length:a,l?(A.hasOwnProp(i,a)?i[a]=[i[a],n]:i[a]=n,!o):((!i[a]||!A.isObject(i[a]))&&(i[a]=[]),e(r,n,i[a],s)&&A.isArray(i[a])&&(i[a]=Qee(i[a])),!o)}if(A.isFormData(t)&&A.isFunction(t.entries)){const r={};return A.forEachEntry(t,(n,i)=>{e(Yee(n),i,r,0)}),r}return null}function Xee(t,e,r){if(A.isString(t))try{return(e||JSON.parse)(t),A.trim(t)}catch(n){if(n.name!=="SyntaxError")throw n}return(r||JSON.stringify)(t)}const Ld={transitional:sH,adapter:["xhr","http","fetch"],transformRequest:[function(e,r){const n=r.getContentType()||"",i=n.indexOf("application/json")>-1,s=A.isObject(e);if(s&&A.isHTMLForm(e)&&(e=new FormData(e)),A.isFormData(e))return i?JSON.stringify(aH(e)):e;if(A.isArrayBuffer(e)||A.isBuffer(e)||A.isStream(e)||A.isFile(e)||A.isBlob(e)||A.isReadableStream(e))return e;if(A.isArrayBufferView(e))return e.buffer;if(A.isURLSearchParams(e))return r.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let o;if(s){if(n.indexOf("application/x-www-form-urlencoded")>-1)return Gee(e,this.formSerializer).toString();if((o=A.isFileList(e))||n.indexOf("multipart/form-data")>-1){const l=this.env&&this.env.FormData;return Bp(o?{"files[]":e}:e,l&&new l,this.formSerializer)}}return s||i?(r.setContentType("application/json",!1),Xee(e)):e}],transformResponse:[function(e){const r=this.transitional||Ld.transitional,n=r&&r.forcedJSONParsing,i=this.responseType==="json";if(A.isResponse(e)||A.isReadableStream(e))return e;if(e&&A.isString(e)&&(n&&!this.responseType||i)){const a=!(r&&r.silentJSONParsing)&&i;try{return JSON.parse(e,this.parseReviver)}catch(o){if(a)throw o.name==="SyntaxError"?je.from(o,je.ERR_BAD_RESPONSE,this,null,this.response):o}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Cr.classes.FormData,Blob:Cr.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};A.forEach(["delete","get","head","post","put","patch"],t=>{Ld.headers[t]={}});const Jee=A.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Zee=t=>{const e={};let r,n,i;return t&&t.split(`
`).forEach(function(a){i=a.indexOf(":"),r=a.substring(0,i).trim().toLowerCase(),n=a.substring(i+1).trim(),!(!r||e[r]&&Jee[r])&&(r==="set-cookie"?e[r]?e[r].push(n):e[r]=[n]:e[r]=e[r]?e[r]+", "+n:n)}),e},kj=Symbol("internals");function dc(t){return t&&String(t).trim().toLowerCase()}function gf(t){return t===!1||t==null?t:A.isArray(t)?t.map(gf):String(t)}function ete(t){const e=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let n;for(;n=r.exec(t);)e[n[1]]=n[2];return e}const tte=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function nv(t,e,r,n,i){if(A.isFunction(n))return n.call(this,e,r);if(i&&(e=r),!!A.isString(e)){if(A.isString(n))return e.indexOf(n)!==-1;if(A.isRegExp(n))return n.test(e)}}function rte(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,r,n)=>r.toUpperCase()+n)}function nte(t,e){const r=A.toCamelCase(" "+e);["get","set","has"].forEach(n=>{Object.defineProperty(t,n+r,{value:function(i,s,a){return this[n].call(this,e,i,s,a)},configurable:!0})})}let nn=class{constructor(e){e&&this.set(e)}set(e,r,n){const i=this;function s(o,l,c){const d=dc(l);if(!d)throw new Error("header name must be a non-empty string");const h=A.findKey(i,d);(!h||i[h]===void 0||c===!0||c===void 0&&i[h]!==!1)&&(i[h||l]=gf(o))}const a=(o,l)=>A.forEach(o,(c,d)=>s(c,d,l));if(A.isPlainObject(e)||e instanceof this.constructor)a(e,r);else if(A.isString(e)&&(e=e.trim())&&!tte(e))a(Zee(e),r);else if(A.isObject(e)&&A.isIterable(e)){let o={},l,c;for(const d of e){if(!A.isArray(d))throw TypeError("Object iterator must return a key-value pair");o[c=d[0]]=(l=o[c])?A.isArray(l)?[...l,d[1]]:[l,d[1]]:d[1]}a(o,r)}else e!=null&&s(r,e,n);return this}get(e,r){if(e=dc(e),e){const n=A.findKey(this,e);if(n){const i=this[n];if(!r)return i;if(r===!0)return ete(i);if(A.isFunction(r))return r.call(this,i,n);if(A.isRegExp(r))return r.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,r){if(e=dc(e),e){const n=A.findKey(this,e);return!!(n&&this[n]!==void 0&&(!r||nv(this,this[n],n,r)))}return!1}delete(e,r){const n=this;let i=!1;function s(a){if(a=dc(a),a){const o=A.findKey(n,a);o&&(!r||nv(n,n[o],o,r))&&(delete n[o],i=!0)}}return A.isArray(e)?e.forEach(s):s(e),i}clear(e){const r=Object.keys(this);let n=r.length,i=!1;for(;n--;){const s=r[n];(!e||nv(this,this[s],s,e,!0))&&(delete this[s],i=!0)}return i}normalize(e){const r=this,n={};return A.forEach(this,(i,s)=>{const a=A.findKey(n,s);if(a){r[a]=gf(i),delete r[s];return}const o=e?rte(s):String(s).trim();o!==s&&delete r[s],r[o]=gf(i),n[o]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const r=Object.create(null);return A.forEach(this,(n,i)=>{n!=null&&n!==!1&&(r[i]=e&&A.isArray(n)?n.join(", "):n)}),r}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,r])=>e+": "+r).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...r){const n=new this(e);return r.forEach(i=>n.set(i)),n}static accessor(e){const n=(this[kj]=this[kj]={accessors:{}}).accessors,i=this.prototype;function s(a){const o=dc(a);n[o]||(nte(i,a),n[o]=!0)}return A.isArray(e)?e.forEach(s):s(e),this}};nn.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);A.reduceDescriptors(nn.prototype,({value:t},e)=>{let r=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(n){this[r]=n}}});A.freezeMethods(nn);function iv(t,e){const r=this||Ld,n=e||r,i=nn.from(n.headers);let s=n.data;return A.forEach(t,function(o){s=o.call(r,s,i.normalize(),e?e.status:void 0)}),i.normalize(),s}function oH(t){return!!(t&&t.__CANCEL__)}function Eu(t,e,r){je.call(this,t??"canceled",je.ERR_CANCELED,e,r),this.name="CanceledError"}A.inherits(Eu,je,{__CANCEL__:!0});function lH(t,e,r){const n=r.config.validateStatus;!r.status||!n||n(r.status)?t(r):e(new je("Request failed with status code "+r.status,[je.ERR_BAD_REQUEST,je.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r))}function ite(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function ste(t,e){t=t||10;const r=new Array(t),n=new Array(t);let i=0,s=0,a;return e=e!==void 0?e:1e3,function(l){const c=Date.now(),d=n[s];a||(a=c),r[i]=l,n[i]=c;let h=s,f=0;for(;h!==i;)f+=r[h++],h=h%t;if(i=(i+1)%t,i===s&&(s=(s+1)%t),c-a<e)return;const p=d&&c-d;return p?Math.round(f*1e3/p):void 0}}function ate(t,e){let r=0,n=1e3/e,i,s;const a=(c,d=Date.now())=>{r=d,i=null,s&&(clearTimeout(s),s=null),t(...c)};return[(...c)=>{const d=Date.now(),h=d-r;h>=n?a(c,d):(i=c,s||(s=setTimeout(()=>{s=null,a(i)},n-h)))},()=>i&&a(i)]}const ep=(t,e,r=3)=>{let n=0;const i=ste(50,250);return ate(s=>{const a=s.loaded,o=s.lengthComputable?s.total:void 0,l=a-n,c=i(l),d=a<=o;n=a;const h={loaded:a,total:o,progress:o?a/o:void 0,bytes:l,rate:c||void 0,estimated:c&&o&&d?(o-a)/c:void 0,event:s,lengthComputable:o!=null,[e?"download":"upload"]:!0};t(h)},r)},Dj=(t,e)=>{const r=t!=null;return[n=>e[0]({lengthComputable:r,total:t,loaded:n}),e[1]]},qj=t=>(...e)=>A.asap(()=>t(...e)),ote=Cr.hasStandardBrowserEnv?((t,e)=>r=>(r=new URL(r,Cr.origin),t.protocol===r.protocol&&t.host===r.host&&(e||t.port===r.port)))(new URL(Cr.origin),Cr.navigator&&/(msie|trident)/i.test(Cr.navigator.userAgent)):()=>!0,lte=Cr.hasStandardBrowserEnv?{write(t,e,r,n,i,s,a){if(typeof document>"u")return;const o=[`${t}=${encodeURIComponent(e)}`];A.isNumber(r)&&o.push(`expires=${new Date(r).toUTCString()}`),A.isString(n)&&o.push(`path=${n}`),A.isString(i)&&o.push(`domain=${i}`),s===!0&&o.push("secure"),A.isString(a)&&o.push(`SameSite=${a}`),document.cookie=o.join("; ")},read(t){if(typeof document>"u")return null;const e=document.cookie.match(new RegExp("(?:^|; )"+t+"=([^;]*)"));return e?decodeURIComponent(e[1]):null},remove(t){this.write(t,"",Date.now()-864e5,"/")}}:{write(){},read(){return null},remove(){}};function ute(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function cte(t,e){return e?t.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):t}function uH(t,e,r){let n=!ute(e);return t&&(n||r==!1)?cte(t,e):e}const Mj=t=>t instanceof nn?{...t}:t;function bo(t,e){e=e||{};const r={};function n(c,d,h,f){return A.isPlainObject(c)&&A.isPlainObject(d)?A.merge.call({caseless:f},c,d):A.isPlainObject(d)?A.merge({},d):A.isArray(d)?d.slice():d}function i(c,d,h,f){if(A.isUndefined(d)){if(!A.isUndefined(c))return n(void 0,c,h,f)}else return n(c,d,h,f)}function s(c,d){if(!A.isUndefined(d))return n(void 0,d)}function a(c,d){if(A.isUndefined(d)){if(!A.isUndefined(c))return n(void 0,c)}else return n(void 0,d)}function o(c,d,h){if(h in e)return n(c,d);if(h in t)return n(void 0,c)}const l={url:s,method:s,data:s,baseURL:a,transformRequest:a,transformResponse:a,paramsSerializer:a,timeout:a,timeoutMessage:a,withCredentials:a,withXSRFToken:a,adapter:a,responseType:a,xsrfCookieName:a,xsrfHeaderName:a,onUploadProgress:a,onDownloadProgress:a,decompress:a,maxContentLength:a,maxBodyLength:a,beforeRedirect:a,transport:a,httpAgent:a,httpsAgent:a,cancelToken:a,socketPath:a,responseEncoding:a,validateStatus:o,headers:(c,d,h)=>i(Mj(c),Mj(d),h,!0)};return A.forEach(Object.keys({...t,...e}),function(d){const h=l[d]||i,f=h(t[d],e[d],d);A.isUndefined(f)&&h!==o||(r[d]=f)}),r}const cH=t=>{const e=bo({},t);let{data:r,withXSRFToken:n,xsrfHeaderName:i,xsrfCookieName:s,headers:a,auth:o}=e;if(e.headers=a=nn.from(a),e.url=iH(uH(e.baseURL,e.url,e.allowAbsoluteUrls),t.params,t.paramsSerializer),o&&a.set("Authorization","Basic "+btoa((o.username||"")+":"+(o.password?unescape(encodeURIComponent(o.password)):""))),A.isFormData(r)){if(Cr.hasStandardBrowserEnv||Cr.hasStandardBrowserWebWorkerEnv)a.setContentType(void 0);else if(A.isFunction(r.getHeaders)){const l=r.getHeaders(),c=["content-type","content-length"];Object.entries(l).forEach(([d,h])=>{c.includes(d.toLowerCase())&&a.set(d,h)})}}if(Cr.hasStandardBrowserEnv&&(n&&A.isFunction(n)&&(n=n(e)),n||n!==!1&&ote(e.url))){const l=i&&s&&lte.read(s);l&&a.set(i,l)}return e},dte=typeof XMLHttpRequest<"u",hte=dte&&function(t){return new Promise(function(r,n){const i=cH(t);let s=i.data;const a=nn.from(i.headers).normalize();let{responseType:o,onUploadProgress:l,onDownloadProgress:c}=i,d,h,f,p,m;function y(){p&&p(),m&&m(),i.cancelToken&&i.cancelToken.unsubscribe(d),i.signal&&i.signal.removeEventListener("abort",d)}let w=new XMLHttpRequest;w.open(i.method.toUpperCase(),i.url,!0),w.timeout=i.timeout;function g(){if(!w)return;const x=nn.from("getAllResponseHeaders"in w&&w.getAllResponseHeaders()),_={data:!o||o==="text"||o==="json"?w.responseText:w.response,status:w.status,statusText:w.statusText,headers:x,config:t,request:w};lH(function(O){r(O),y()},function(O){n(O),y()},_),w=null}"onloadend"in w?w.onloadend=g:w.onreadystatechange=function(){!w||w.readyState!==4||w.status===0&&!(w.responseURL&&w.responseURL.indexOf("file:")===0)||setTimeout(g)},w.onabort=function(){w&&(n(new je("Request aborted",je.ECONNABORTED,t,w)),w=null)},w.onerror=function(b){const _=b&&b.message?b.message:"Network Error",E=new je(_,je.ERR_NETWORK,t,w);E.event=b||null,n(E),w=null},w.ontimeout=function(){let b=i.timeout?"timeout of "+i.timeout+"ms exceeded":"timeout exceeded";const _=i.transitional||sH;i.timeoutErrorMessage&&(b=i.timeoutErrorMessage),n(new je(b,_.clarifyTimeoutError?je.ETIMEDOUT:je.ECONNABORTED,t,w)),w=null},s===void 0&&a.setContentType(null),"setRequestHeader"in w&&A.forEach(a.toJSON(),function(b,_){w.setRequestHeader(_,b)}),A.isUndefined(i.withCredentials)||(w.withCredentials=!!i.withCredentials),o&&o!=="json"&&(w.responseType=i.responseType),c&&([f,m]=ep(c,!0),w.addEventListener("progress",f)),l&&w.upload&&([h,p]=ep(l),w.upload.addEventListener("progress",h),w.upload.addEventListener("loadend",p)),(i.cancelToken||i.signal)&&(d=x=>{w&&(n(!x||x.type?new Eu(null,t,w):x),w.abort(),w=null)},i.cancelToken&&i.cancelToken.subscribe(d),i.signal&&(i.signal.aborted?d():i.signal.addEventListener("abort",d)));const v=ite(i.url);if(v&&Cr.protocols.indexOf(v)===-1){n(new je("Unsupported protocol "+v+":",je.ERR_BAD_REQUEST,t));return}w.send(s||null)})},fte=(t,e)=>{const{length:r}=t=t?t.filter(Boolean):[];if(e||r){let n=new AbortController,i;const s=function(c){if(!i){i=!0,o();const d=c instanceof Error?c:this.reason;n.abort(d instanceof je?d:new Eu(d instanceof Error?d.message:d))}};let a=e&&setTimeout(()=>{a=null,s(new je(`timeout ${e} of ms exceeded`,je.ETIMEDOUT))},e);const o=()=>{t&&(a&&clearTimeout(a),a=null,t.forEach(c=>{c.unsubscribe?c.unsubscribe(s):c.removeEventListener("abort",s)}),t=null)};t.forEach(c=>c.addEventListener("abort",s));const{signal:l}=n;return l.unsubscribe=()=>A.asap(o),l}},pte=function*(t,e){let r=t.byteLength;if(r<e){yield t;return}let n=0,i;for(;n<r;)i=n+e,yield t.slice(n,i),n=i},mte=async function*(t,e){for await(const r of vte(t))yield*pte(r,e)},vte=async function*(t){if(t[Symbol.asyncIterator]){yield*t;return}const e=t.getReader();try{for(;;){const{done:r,value:n}=await e.read();if(r)break;yield n}}finally{await e.cancel()}},Aj=(t,e,r,n)=>{const i=mte(t,e);let s=0,a,o=l=>{a||(a=!0,n&&n(l))};return new ReadableStream({async pull(l){try{const{done:c,value:d}=await i.next();if(c){o(),l.close();return}let h=d.byteLength;if(r){let f=s+=h;r(f)}l.enqueue(new Uint8Array(d))}catch(c){throw o(c),c}},cancel(l){return o(l),i.return()}},{highWaterMark:2})},Fj=64*1024,{isFunction:Vh}=A,gte=(({Request:t,Response:e})=>({Request:t,Response:e}))(A.global),{ReadableStream:Lj,TextEncoder:Bj}=A.global,zj=(t,...e)=>{try{return!!t(...e)}catch{return!1}},yte=t=>{t=A.merge.call({skipUndefined:!0},gte,t);const{fetch:e,Request:r,Response:n}=t,i=e?Vh(e):typeof fetch=="function",s=Vh(r),a=Vh(n);if(!i)return!1;const o=i&&Vh(Lj),l=i&&(typeof Bj=="function"?(m=>y=>m.encode(y))(new Bj):async m=>new Uint8Array(await new r(m).arrayBuffer())),c=s&&o&&zj(()=>{let m=!1;const y=new r(Cr.origin,{body:new Lj,method:"POST",get duplex(){return m=!0,"half"}}).headers.has("Content-Type");return m&&!y}),d=a&&o&&zj(()=>A.isReadableStream(new n("").body)),h={stream:d&&(m=>m.body)};i&&["text","arrayBuffer","blob","formData","stream"].forEach(m=>{!h[m]&&(h[m]=(y,w)=>{let g=y&&y[m];if(g)return g.call(y);throw new je(`Response type '${m}' is not supported`,je.ERR_NOT_SUPPORT,w)})});const f=async m=>{if(m==null)return 0;if(A.isBlob(m))return m.size;if(A.isSpecCompliantForm(m))return(await new r(Cr.origin,{method:"POST",body:m}).arrayBuffer()).byteLength;if(A.isArrayBufferView(m)||A.isArrayBuffer(m))return m.byteLength;if(A.isURLSearchParams(m)&&(m=m+""),A.isString(m))return(await l(m)).byteLength},p=async(m,y)=>{const w=A.toFiniteNumber(m.getContentLength());return w??f(y)};return async m=>{let{url:y,method:w,data:g,signal:v,cancelToken:x,timeout:b,onDownloadProgress:_,onUploadProgress:E,responseType:O,headers:S,withCredentials:N="same-origin",fetchOptions:P}=cH(m),I=e||fetch;O=O?(O+"").toLowerCase():"text";let C=fte([v,x&&x.toAbortSignal()],b),T=null;const M=C&&C.unsubscribe&&(()=>{C.unsubscribe()});let B;try{if(E&&c&&w!=="get"&&w!=="head"&&(B=await p(S,g))!==0){let z=new r(y,{method:"POST",body:g,duplex:"half"}),Y;if(A.isFormData(g)&&(Y=z.headers.get("content-type"))&&S.setContentType(Y),z.body){const[fe,ye]=Dj(B,ep(qj(E)));g=Aj(z.body,Fj,fe,ye)}}A.isString(N)||(N=N?"include":"omit");const Q=s&&"credentials"in r.prototype,G={...P,signal:C,method:w.toUpperCase(),headers:S.normalize().toJSON(),body:g,duplex:"half",credentials:Q?N:void 0};T=s&&new r(y,G);let F=await(s?I(T,P):I(y,G));const W=d&&(O==="stream"||O==="response");if(d&&(_||W&&M)){const z={};["status","statusText","headers"].forEach(De=>{z[De]=F[De]});const Y=A.toFiniteNumber(F.headers.get("content-length")),[fe,ye]=_&&Dj(Y,ep(qj(_),!0))||[];F=new n(Aj(F.body,Fj,fe,()=>{ye&&ye(),M&&M()}),z)}O=O||"text";let U=await h[A.findKey(h,O)||"text"](F,m);return!W&&M&&M(),await new Promise((z,Y)=>{lH(z,Y,{data:U,headers:nn.from(F.headers),status:F.status,statusText:F.statusText,config:m,request:T})})}catch(Q){throw M&&M(),Q&&Q.name==="TypeError"&&/Load failed|fetch/i.test(Q.message)?Object.assign(new je("Network Error",je.ERR_NETWORK,m,T),{cause:Q.cause||Q}):je.from(Q,Q&&Q.code,m,T)}}},bte=new Map,dH=t=>{let e=t&&t.env||{};const{fetch:r,Request:n,Response:i}=e,s=[n,i,r];let a=s.length,o=a,l,c,d=bte;for(;o--;)l=s[o],c=d.get(l),c===void 0&&d.set(l,c=o?new Map:yte(e)),d=c;return c};dH();const DP={http:qee,xhr:hte,fetch:{get:dH}};A.forEach(DP,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const Uj=t=>`- ${t}`,wte=t=>A.isFunction(t)||t===null||t===!1;function xte(t,e){t=A.isArray(t)?t:[t];const{length:r}=t;let n,i;const s={};for(let a=0;a<r;a++){n=t[a];let o;if(i=n,!wte(n)&&(i=DP[(o=String(n)).toLowerCase()],i===void 0))throw new je(`Unknown adapter '${o}'`);if(i&&(A.isFunction(i)||(i=i.get(e))))break;s[o||"#"+a]=i}if(!i){const a=Object.entries(s).map(([l,c])=>`adapter ${l} `+(c===!1?"is not supported by the environment":"is not available in the build"));let o=r?a.length>1?`since :
`+a.map(Uj).join(`
`):" "+Uj(a[0]):"as no adapter specified";throw new je("There is no suitable adapter to dispatch the request "+o,"ERR_NOT_SUPPORT")}return i}const hH={getAdapter:xte,adapters:DP};function sv(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new Eu(null,t)}function Wj(t){return sv(t),t.headers=nn.from(t.headers),t.data=iv.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),hH.getAdapter(t.adapter||Ld.adapter,t)(t).then(function(n){return sv(t),n.data=iv.call(t,t.transformResponse,n),n.headers=nn.from(n.headers),n},function(n){return oH(n)||(sv(t),n&&n.response&&(n.response.data=iv.call(t,t.transformResponse,n.response),n.response.headers=nn.from(n.response.headers))),Promise.reject(n)})}const fH="1.13.2",zp={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{zp[t]=function(n){return typeof n===t||"a"+(e<1?"n ":" ")+t}});const Vj={};zp.transitional=function(e,r,n){function i(s,a){return"[Axios v"+fH+"] Transitional option '"+s+"'"+a+(n?". "+n:"")}return(s,a,o)=>{if(e===!1)throw new je(i(a," has been removed"+(r?" in "+r:"")),je.ERR_DEPRECATED);return r&&!Vj[a]&&(Vj[a]=!0,console.warn(i(a," has been deprecated since v"+r+" and will be removed in the near future"))),e?e(s,a,o):!0}};zp.spelling=function(e){return(r,n)=>(console.warn(`${n} is likely a misspelling of ${e}`),!0)};function _te(t,e,r){if(typeof t!="object")throw new je("options must be an object",je.ERR_BAD_OPTION_VALUE);const n=Object.keys(t);let i=n.length;for(;i-- >0;){const s=n[i],a=e[s];if(a){const o=t[s],l=o===void 0||a(o,s,t);if(l!==!0)throw new je("option "+s+" must be "+l,je.ERR_BAD_OPTION_VALUE);continue}if(r!==!0)throw new je("Unknown option "+s,je.ERR_BAD_OPTION)}}const yf={assertOptions:_te,validators:zp},fi=yf.validators;let ro=class{constructor(e){this.defaults=e||{},this.interceptors={request:new $j,response:new $j}}async request(e,r){try{return await this._request(e,r)}catch(n){if(n instanceof Error){let i={};Error.captureStackTrace?Error.captureStackTrace(i):i=new Error;const s=i.stack?i.stack.replace(/^.+\n/,""):"";try{n.stack?s&&!String(n.stack).endsWith(s.replace(/^.+\n.+\n/,""))&&(n.stack+=`
`+s):n.stack=s}catch{}}throw n}}_request(e,r){typeof e=="string"?(r=r||{},r.url=e):r=e||{},r=bo(this.defaults,r);const{transitional:n,paramsSerializer:i,headers:s}=r;n!==void 0&&yf.assertOptions(n,{silentJSONParsing:fi.transitional(fi.boolean),forcedJSONParsing:fi.transitional(fi.boolean),clarifyTimeoutError:fi.transitional(fi.boolean)},!1),i!=null&&(A.isFunction(i)?r.paramsSerializer={serialize:i}:yf.assertOptions(i,{encode:fi.function,serialize:fi.function},!0)),r.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?r.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:r.allowAbsoluteUrls=!0),yf.assertOptions(r,{baseUrl:fi.spelling("baseURL"),withXsrfToken:fi.spelling("withXSRFToken")},!0),r.method=(r.method||this.defaults.method||"get").toLowerCase();let a=s&&A.merge(s.common,s[r.method]);s&&A.forEach(["delete","get","head","post","put","patch","common"],m=>{delete s[m]}),r.headers=nn.concat(a,s);const o=[];let l=!0;this.interceptors.request.forEach(function(y){typeof y.runWhen=="function"&&y.runWhen(r)===!1||(l=l&&y.synchronous,o.unshift(y.fulfilled,y.rejected))});const c=[];this.interceptors.response.forEach(function(y){c.push(y.fulfilled,y.rejected)});let d,h=0,f;if(!l){const m=[Wj.bind(this),void 0];for(m.unshift(...o),m.push(...c),f=m.length,d=Promise.resolve(r);h<f;)d=d.then(m[h++],m[h++]);return d}f=o.length;let p=r;for(;h<f;){const m=o[h++],y=o[h++];try{p=m(p)}catch(w){y.call(this,w);break}}try{d=Wj.call(this,p)}catch(m){return Promise.reject(m)}for(h=0,f=c.length;h<f;)d=d.then(c[h++],c[h++]);return d}getUri(e){e=bo(this.defaults,e);const r=uH(e.baseURL,e.url,e.allowAbsoluteUrls);return iH(r,e.params,e.paramsSerializer)}};A.forEach(["delete","get","head","options"],function(e){ro.prototype[e]=function(r,n){return this.request(bo(n||{},{method:e,url:r,data:(n||{}).data}))}});A.forEach(["post","put","patch"],function(e){function r(n){return function(s,a,o){return this.request(bo(o||{},{method:e,headers:n?{"Content-Type":"multipart/form-data"}:{},url:s,data:a}))}}ro.prototype[e]=r(),ro.prototype[e+"Form"]=r(!0)});let Ste=class pH{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let r;this.promise=new Promise(function(s){r=s});const n=this;this.promise.then(i=>{if(!n._listeners)return;let s=n._listeners.length;for(;s-- >0;)n._listeners[s](i);n._listeners=null}),this.promise.then=i=>{let s;const a=new Promise(o=>{n.subscribe(o),s=o}).then(i);return a.cancel=function(){n.unsubscribe(s)},a},e(function(s,a,o){n.reason||(n.reason=new Eu(s,a,o),r(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const r=this._listeners.indexOf(e);r!==-1&&this._listeners.splice(r,1)}toAbortSignal(){const e=new AbortController,r=n=>{e.abort(n)};return this.subscribe(r),e.signal.unsubscribe=()=>this.unsubscribe(r),e.signal}static source(){let e;return{token:new pH(function(i){e=i}),cancel:e}}};function Ete(t){return function(r){return t.apply(null,r)}}function Ote(t){return A.isObject(t)&&t.isAxiosError===!0}const rN={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(rN).forEach(([t,e])=>{rN[e]=t});function mH(t){const e=new ro(t),r=HV(ro.prototype.request,e);return A.extend(r,ro.prototype,e,{allOwnKeys:!0}),A.extend(r,e,null,{allOwnKeys:!0}),r.create=function(i){return mH(bo(t,i))},r}const qt=mH(Ld);qt.Axios=ro;qt.CanceledError=Eu;qt.CancelToken=Ste;qt.isCancel=oH;qt.VERSION=fH;qt.toFormData=Bp;qt.AxiosError=je;qt.Cancel=qt.CanceledError;qt.all=function(e){return Promise.all(e)};qt.spread=Ete;qt.isAxiosError=Ote;qt.mergeConfig=bo;qt.AxiosHeaders=nn;qt.formToJSON=t=>aH(A.isHTMLForm(t)?new FormData(t):t);qt.getAdapter=hH.getAdapter;qt.HttpStatusCode=rN;qt.default=qt;const{Axios:R0e,AxiosError:$0e,CanceledError:k0e,isCancel:D0e,CancelToken:q0e,VERSION:M0e,all:A0e,Cancel:F0e,isAxiosError:L0e,spread:B0e,toFormData:z0e,AxiosHeaders:U0e,HttpStatusCode:W0e,formToJSON:V0e,getAdapter:H0e,mergeConfig:K0e}=qt,nN=window.prmConfig||{},le=qt.create({baseURL:nN.apiUrl||"/wp-json",headers:{"Content-Type":"application/json","X-WP-Nonce":nN.nonce||""}});le.interceptors.request.use(t=>{var e;return(e=window.prmConfig)!=null&&e.nonce&&(t.headers["X-WP-Nonce"]=window.prmConfig.nonce),t});le.interceptors.response.use(t=>t,t=>{var e,r;return((e=t.response)==null?void 0:e.status)===401&&(window.location.href=nN.loginUrl||"/wp-login.php"),((r=t.response)==null?void 0:r.status)===403&&console.error("Access denied:",t.response.data),Promise.reject(t)});const Be={getPeople:t=>le.get("/wp/v2/people",{params:t}),getPerson:(t,e={})=>le.get(`/wp/v2/people/${t}`,{params:e}),createPerson:t=>le.post("/wp/v2/people",t),updatePerson:(t,e)=>le.put(`/wp/v2/people/${t}`,e),deletePerson:(t,e={})=>le.delete(`/wp/v2/people/${t}`,{params:e}),getCompanies:t=>le.get("/wp/v2/companies",{params:t}),getCompany:(t,e={})=>le.get(`/wp/v2/companies/${t}`,{params:e}),createCompany:t=>le.post("/wp/v2/companies",t),updateCompany:(t,e)=>le.put(`/wp/v2/companies/${t}`,e),deleteCompany:(t,e={})=>le.delete(`/wp/v2/companies/${t}`,{params:e}),getDates:t=>le.get("/wp/v2/important-dates",{params:t}),getDate:t=>le.get(`/wp/v2/important-dates/${t}`),createDate:t=>le.post("/wp/v2/important-dates",t),updateDate:(t,e)=>le.put(`/wp/v2/important-dates/${t}`,e),deleteDate:t=>le.delete(`/wp/v2/important-dates/${t}`),getPersonLabels:()=>le.get("/wp/v2/person_label"),getCompanyLabels:()=>le.get("/wp/v2/company_label"),getRelationshipTypes:()=>le.get("/wp/v2/relationship_type",{params:{per_page:100,_fields:"id,name,slug,acf"}}),createRelationshipType:t=>le.post("/wp/v2/relationship_type",t),updateRelationshipType:(t,e)=>le.post(`/wp/v2/relationship_type/${t}`,e),deleteRelationshipType:t=>le.delete(`/wp/v2/relationship_type/${t}?force=true`),restoreRelationshipTypeDefaults:()=>le.post("/prm/v1/relationship-types/restore-defaults"),getDateTypes:()=>le.get("/wp/v2/date_type",{params:{per_page:100}}),uploadMedia:t=>{const e=new FormData;return e.append("file",t),le.post("/wp/v2/media",e,{headers:{"Content-Type":"multipart/form-data"}})}},We={getDashboard:()=>le.get("/prm/v1/dashboard"),sideloadGravatar:(t,e)=>le.post(`/prm/v1/people/${t}/gravatar`,{email:e}),getCurrentUser:()=>le.get("/prm/v1/user/me"),getUsers:()=>le.get("/prm/v1/users"),approveUser:t=>le.post(`/prm/v1/users/${t}/approve`),denyUser:t=>le.post(`/prm/v1/users/${t}/deny`),deleteUser:t=>le.delete(`/prm/v1/users/${t}`),search:t=>le.get("/prm/v1/search",{params:{q:t}}),getReminders:(t=30)=>le.get("/prm/v1/reminders",{params:{days_ahead:t}}),triggerReminders:()=>le.post("/prm/v1/reminders/trigger"),getNotificationChannels:()=>le.get("/prm/v1/user/notification-channels"),updateNotificationChannels:t=>le.post("/prm/v1/user/notification-channels",{channels:t}),updateSlackWebhook:t=>le.post("/prm/v1/user/slack-webhook",{webhook:t}),updateNotificationTime:t=>le.post("/prm/v1/user/notification-time",{time:t}),getSlackStatus:()=>le.get("/prm/v1/user/slack-status"),disconnectSlack:()=>le.post("/prm/v1/slack/disconnect"),getSlackChannels:()=>le.get("/prm/v1/slack/channels"),getSlackTargets:()=>le.get("/prm/v1/slack/targets"),updateSlackTargets:t=>le.post("/prm/v1/slack/targets",{targets:t}),getPersonDates:t=>le.get(`/prm/v1/people/${t}/dates`),getPersonTimeline:t=>le.get(`/prm/v1/people/${t}/timeline`),getPersonNotes:t=>le.get(`/prm/v1/people/${t}/notes`),createNote:(t,e)=>le.post(`/prm/v1/people/${t}/notes`,{content:e}),updateNote:(t,e)=>le.put(`/prm/v1/notes/${t}`,{content:e}),deleteNote:t=>le.delete(`/prm/v1/notes/${t}`),getPersonActivities:t=>le.get(`/prm/v1/people/${t}/activities`),createActivity:(t,e)=>le.post(`/prm/v1/people/${t}/activities`,e),updateActivity:(t,e)=>le.put(`/prm/v1/activities/${t}`,e),deleteActivity:t=>le.delete(`/prm/v1/activities/${t}`),getCompanyPeople:t=>le.get(`/prm/v1/companies/${t}/people`),setCompanyLogo:(t,e)=>le.post(`/prm/v1/companies/${t}/logo`,{media_id:e}),uploadPersonPhoto:(t,e)=>{const r=new FormData;return r.append("file",e),le.post(`/prm/v1/people/${t}/photo`,r,{headers:{"Content-Type":"multipart/form-data"}})},uploadCompanyLogo:(t,e)=>{const r=new FormData;return r.append("file",e),le.post(`/prm/v1/companies/${t}/logo/upload`,r,{headers:{"Content-Type":"multipart/form-data"}})}};/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Nte={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pte=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),we=(t,e)=>{const r=$.forwardRef(({color:n="currentColor",size:i=24,strokeWidth:s=2,absoluteStrokeWidth:a,className:o="",children:l,...c},d)=>$.createElement("svg",{ref:d,...Nte,width:i,height:i,stroke:n,strokeWidth:a?Number(s)*24/Number(i):s,className:["lucide",`lucide-${Pte(t)}`,o].join(" "),...c},[...e.map(([h,f])=>$.createElement(h,f)),...Array.isArray(l)?l:[l]]));return r.displayName=`${t}`,r};/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ca=we("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cte=we("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tte=we("ArrowDown",[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yn=we("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hj=we("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jte=we("ArrowUp",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ite=we("Briefcase",[["rect",{width:"20",height:"14",x:"2",y:"7",rx:"2",ry:"2",key:"eto64e"}],["path",{d:"M16 21V5a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"zwj3tp"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const us=we("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vH=we("Cake",[["path",{d:"M20 21v-8a2 2 0 0 0-2-2H6a2 2 0 0 0-2 2v8",key:"1w3rig"}],["path",{d:"M4 16s.5-1 2-1 2.5 2 4 2 2.5-2 4-2 2.5 2 4 2 2-1 2-1",key:"n2jgmb"}],["path",{d:"M2 21h20",key:"1nyx9w"}],["path",{d:"M7 8v3",key:"1qtyvj"}],["path",{d:"M12 8v3",key:"hwp4zt"}],["path",{d:"M17 8v3",key:"1i6e5u"}],["path",{d:"M7 4h0.01",key:"hsw7lv"}],["path",{d:"M12 4h0.01",key:"1e3d8f"}],["path",{d:"M17 4h0.01",key:"p7cxgy"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const no=we("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bf=we("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kj=we("CheckCircle2",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const su=we("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gj=we("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rte=we("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $te=we("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iN=we("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Up=we("FileCode",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["path",{d:"m10 13-2 2 2 2",key:"17smn8"}],["path",{d:"m14 17 2-2-2-2",key:"14mezr"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qP=we("FileSpreadsheet",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["path",{d:"M8 13h2",key:"yr2amv"}],["path",{d:"M8 17h2",key:"2yhykz"}],["path",{d:"M14 13h2",key:"un5t4a"}],["path",{d:"M14 17h2",key:"10kma7"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yj=we("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kte=we("Gift",[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wf=we("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dte=we("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qte=we("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gH=we("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mte=we("Link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wo=we("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ate=we("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fte=we("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lte=we("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bte=we("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zte=we("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ute=we("Pen",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hh=we("Pencil",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wte=we("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gr=we("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vte=we("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yH=we("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const da=we("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bH=we("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wH=we("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xH=we("ShieldAlert",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hte=we("SkipForward",[["polygon",{points:"5 4 15 12 5 20 5 4",key:"16p6eg"}],["line",{x1:"19",x2:"19",y1:"5",y2:"19",key:"futhcm"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _H=we("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SH=we("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a2.121 2.121 0 1 1 3 3L12 15l-4 1 1-4Z",key:"1lpok0"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const au=we("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EH=we("StickyNote",[["path",{d:"M15.5 3H5a2 2 0 0 0-2 2v14c0 1.1.9 2 2 2h14a2 2 0 0 0 2-2V8.5L15.5 3Z",key:"1wis1t"}],["path",{d:"M15 3v6h6",key:"edgan2"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bi=we("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ou=we("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kte=we("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OH=we("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ta=we("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qj=we("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ha=we("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gte=we("ZoomIn",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"11",x2:"11",y1:"8",y2:"14",key:"1vmskp"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yte=we("ZoomOut",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]]),lu="Caelis";function xn(t){$.useEffect(()=>{var e;if(t){const r=((e=window.prmConfig)==null?void 0:e.siteName)||lu;document.title=`${t} - ${r}`}},[t])}function Qte(t){const e=t.match(/\/(?:people|companies|dates)\/(\d+)/);return e?e[1]:null}function NH(t=null){const e=fs();$.useEffect(()=>{var i;let r=t;if(!r){const s=e.pathname,a=Qte(s);s==="/"?r="Dashboard":s==="/login"?r="Login":s.startsWith("/people")?s==="/people"||s==="/people/"?r="People":s==="/people/new"?r="New person":s.endsWith("/edit")?r="Edit person":a?r="Person":r="People":s.startsWith("/companies")?s==="/companies"||s==="/companies/"?r="Organizations":s==="/companies/new"?r="New organization":s.endsWith("/edit")?r="Edit organization":a?r="Organization":r="Organizations":s.startsWith("/dates")?s==="/dates"||s==="/dates/"?r="Events":s==="/dates/new"?r="New date":s.endsWith("/edit")?r="Edit date":r="Events":s.startsWith("/settings")?r="Settings":r=lu}const n=((i=window.prmConfig)==null?void 0:i.siteName)||lu;document.title=`${r} - ${n}`},[e.pathname,t])}function Xte(){return ft({queryKey:["dashboard"],queryFn:async()=>(await We.getDashboard()).data})}function Jte(t=30){return ft({queryKey:["reminders",t],queryFn:async()=>(await We.getReminders(t)).data})}function Zte(t){const e=typeof t=="string"?t:"",r=e.length>=2;return ft({queryKey:["search",e],queryFn:async()=>r?(await We.search(e)).data:{people:[],companies:[]},enabled:r})}const ere=[{name:"Dashboard",href:"/",icon:qte},{name:"People",href:"/people",icon:ta},{name:"Organizations",href:"/companies",icon:us},{name:"Dates",href:"/dates",icon:no},{name:"Settings",href:"/settings",icon:wH}];function Xj({mobile:t=!1,onClose:e}){const{logoutUrl:r}=IP();return u.jsxs("div",{className:"flex flex-col h-full bg-white border-r border-gray-200",children:[u.jsxs("div",{className:"flex items-center justify-between h-16 px-4 border-b border-gray-200",children:[u.jsxs(ce,{to:"/",className:"flex items-center gap-2 text-xl font-bold text-primary-600",children:[u.jsx(_H,{className:"w-5 h-5"}),lu]}),t&&u.jsx("button",{onClick:e,className:"p-2 -mr-2",children:u.jsx(ha,{className:"w-5 h-5"})})]}),u.jsx("nav",{className:"flex-1 px-2 py-4 space-y-1 overflow-y-auto",children:ere.map(n=>u.jsxs(yZ,{to:n.href,onClick:t?e:void 0,className:({isActive:i})=>`flex items-center px-3 py-2 text-sm font-medium rounded-lg transition-colors ${i?"bg-primary-50 text-primary-700":"text-gray-700 hover:bg-gray-50"}`,children:[u.jsx(n.icon,{className:"w-5 h-5 mr-3"}),u.jsx("span",{className:"hidden md:inline",children:n.name})]},n.name))}),u.jsx("div",{className:"p-4 border-t border-gray-200",children:u.jsxs("a",{href:r,className:"flex items-center px-3 py-2 text-sm font-medium text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:[u.jsx(Ate,{className:"w-5 h-5 mr-3"}),u.jsx("span",{className:"hidden md:inline",children:"Log Out"})]})})]})}function tre(){var a;const[t,e]=$.useState(!1),r=$.useRef(null),{data:n,isLoading:i}=ft({queryKey:["current-user"],queryFn:async()=>(await We.getCurrentUser()).data});if($.useEffect(()=>{const o=l=>{r.current&&!r.current.contains(l.target)&&e(!1)};if(t)return document.addEventListener("mousedown",o),()=>{document.removeEventListener("mousedown",o)}},[t]),i||!n)return u.jsx("div",{className:"flex items-center ml-auto",children:u.jsx("div",{className:"w-8 h-8 bg-gray-200 rounded-full animate-pulse"})});const s=((a=n.name)==null?void 0:a.split(" ").map(o=>o[0]).join("").toUpperCase().slice(0,2))||"?";return u.jsxs("div",{className:"relative ml-auto",ref:r,children:[u.jsxs("button",{onClick:()=>e(!t),className:"flex items-center gap-2 p-1 rounded-full hover:bg-gray-100 transition-colors","aria-label":"User menu",children:[n.avatar_url?u.jsx("img",{src:n.avatar_url,alt:n.name,className:"w-8 h-8 rounded-full object-cover"}):u.jsx("div",{className:"w-8 h-8 bg-primary-100 rounded-full flex items-center justify-center",children:u.jsx("span",{className:"text-sm font-medium text-primary-700",children:s})}),u.jsx(Rte,{className:`w-4 h-4 text-gray-500 transition-transform ${t?"rotate-180":""}`})]}),t&&u.jsx("div",{className:"absolute right-0 mt-2 w-48 bg-white border border-gray-200 rounded-lg shadow-lg z-50",children:u.jsxs("div",{className:"py-1",children:[u.jsxs("a",{href:n.profile_url,target:"_blank",rel:"noopener noreferrer",className:"flex items-center px-4 py-2 text-sm text-gray-700 hover:bg-gray-50 transition-colors",onClick:()=>e(!1),children:[u.jsx(OH,{className:"w-4 h-4 mr-2"}),u.jsx("span",{className:"hidden md:inline",children:"Edit profile"})]}),n.is_admin&&u.jsxs("a",{href:n.admin_url,target:"_blank",rel:"noopener noreferrer",className:"flex items-center px-4 py-2 text-sm text-gray-700 hover:bg-gray-50 transition-colors",onClick:()=>e(!1),children:[u.jsx(wH,{className:"w-4 h-4 mr-2"}),u.jsx("span",{className:"hidden md:inline",children:"WordPress admin"})]})]})})]})}function rre({onMenuClick:t}){const[e,r]=$.useState(""),[n,i]=$.useState(!1),s=fs(),a=on(),o=$.useRef(null),l=$.useRef(null),c=e.trim(),{data:d,isLoading:h}=Zte(c),f=()=>{const g=s.pathname;return g==="/"?"Dashboard":g.startsWith("/people")?"People":g.startsWith("/companies")?"Organizations":g.startsWith("/dates")?"Important Dates":g.startsWith("/settings")?"Settings":""};$.useEffect(()=>{const g=v=>{l.current&&!l.current.contains(v.target)&&o.current&&!o.current.contains(v.target)&&i(!1)};return document.addEventListener("mousedown",g),()=>{document.removeEventListener("mousedown",g)}},[]);const p=(g,v)=>{i(!1),r(""),g==="person"?a(`/people/${v}`):g==="company"&&a(`/companies/${v}`)},m=d||{people:[],companies:[]},y=m.people&&m.people.length>0||m.companies&&m.companies.length>0,w=n&&e.trim().length>=2;return u.jsxs("header",{className:"sticky top-0 z-10 flex items-center h-16 px-4 bg-white border-b border-gray-200 lg:px-6",children:[u.jsx("button",{onClick:t,className:"p-2 -ml-2 lg:hidden",children:u.jsx(Bte,{className:"w-5 h-5"})}),u.jsx("h1",{className:"ml-2 text-lg font-semibold lg:ml-0",children:f()}),u.jsx("div",{className:"flex-1 flex justify-center max-w-2xl mx-4 lg:mx-8",children:u.jsxs("div",{className:"relative w-full",ref:o,children:[u.jsx(bH,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}),u.jsx("input",{type:"search",placeholder:"Search people & organizations...",value:e,onChange:g=>r(g.target.value),onFocus:()=>i(!0),className:"input pl-9 w-full"}),w&&u.jsx("div",{ref:l,className:"absolute top-full left-0 right-0 mt-2 bg-white border border-gray-200 rounded-lg shadow-lg max-h-96 overflow-y-auto z-50",children:h?u.jsxs("div",{className:"p-4 text-center text-gray-500",children:[u.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-primary-600 mx-auto"}),u.jsx("p",{className:"mt-2 text-sm",children:"Searching..."})]}):y?u.jsxs("div",{className:"py-2",children:[m.people&&m.people.length>0&&u.jsxs("div",{className:"px-3 py-2",children:[u.jsx("div",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wide mb-2 px-2",children:"People"}),m.people.map(g=>u.jsxs("button",{onClick:()=>p("person",g.id),className:"w-full flex items-center gap-3 px-2 py-2 rounded-lg hover:bg-gray-50 transition-colors text-left",children:[u.jsx(OH,{className:"w-4 h-4 text-gray-400 flex-shrink-0"}),u.jsx("span",{className:"text-sm font-medium text-gray-900 flex-1 truncate",children:g.name})]},g.id))]}),m.companies&&m.companies.length>0&&u.jsxs("div",{className:"px-3 py-2 border-t border-gray-100",children:[u.jsx("div",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wide mb-2 px-2",children:"Organizations"}),m.companies.map(g=>u.jsxs("button",{onClick:()=>p("company",g.id),className:"w-full flex items-center gap-3 px-2 py-2 rounded-lg hover:bg-gray-50 transition-colors text-left",children:[u.jsx(Ite,{className:"w-4 h-4 text-gray-400 flex-shrink-0"}),u.jsx("span",{className:"text-sm font-medium text-gray-900 flex-1 truncate",children:g.name})]},g.id))]})]}):u.jsx("div",{className:"p-4 text-center text-gray-500",children:u.jsx("p",{className:"text-sm",children:"No results found"})})})]})}),u.jsx(tre,{})]})}function nre({children:t}){const[e,r]=$.useState(!1);return NH(),u.jsxs("div",{className:"flex h-screen bg-gray-50",children:[u.jsx("div",{className:"hidden lg:flex lg:w-64 lg:flex-col",children:u.jsx(Xj,{})}),e&&u.jsxs("div",{className:"fixed inset-0 z-40 lg:hidden",children:[u.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-75",onClick:()=>r(!1)}),u.jsx("div",{className:"fixed inset-y-0 left-0 flex flex-col w-64 bg-white",children:u.jsx(Xj,{mobile:!0,onClose:()=>r(!1)})})]}),u.jsxs("div",{className:"flex flex-col flex-1 min-w-0",children:[u.jsx(rre,{onMenuClick:()=>r(!0)}),u.jsx("main",{className:"flex-1 overflow-y-auto p-4 lg:p-6",children:t})]})]})}function wr(t){const e=Object.prototype.toString.call(t);return t instanceof Date||typeof t=="object"&&e==="[object Date]"?new t.constructor(+t):typeof t=="number"||e==="[object Number]"||typeof t=="string"||e==="[object String]"?new Date(t):new Date(NaN)}function xo(t,e){return t instanceof Date?new t.constructor(e):new Date(e)}const PH=6048e5,ire=864e5;let sre={};function Wp(){return sre}function dd(t,e){var o,l,c,d;const r=Wp(),n=(e==null?void 0:e.weekStartsOn)??((l=(o=e==null?void 0:e.locale)==null?void 0:o.options)==null?void 0:l.weekStartsOn)??r.weekStartsOn??((d=(c=r.locale)==null?void 0:c.options)==null?void 0:d.weekStartsOn)??0,i=wr(t),s=i.getDay(),a=(s<n?7:0)+s-n;return i.setDate(i.getDate()-a),i.setHours(0,0,0,0),i}function tp(t){return dd(t,{weekStartsOn:1})}function CH(t){const e=wr(t),r=e.getFullYear(),n=xo(t,0);n.setFullYear(r+1,0,4),n.setHours(0,0,0,0);const i=tp(n),s=xo(t,0);s.setFullYear(r,0,4),s.setHours(0,0,0,0);const a=tp(s);return e.getTime()>=i.getTime()?r+1:e.getTime()>=a.getTime()?r:r-1}function Jj(t){const e=wr(t);return e.setHours(0,0,0,0),e}function Zj(t){const e=wr(t),r=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return r.setUTCFullYear(e.getFullYear()),+t-+r}function are(t,e){const r=Jj(t),n=Jj(e),i=+r-Zj(r),s=+n-Zj(n);return Math.round((i-s)/ire)}function ore(t){const e=CH(t),r=xo(t,0);return r.setFullYear(e,0,4),r.setHours(0,0,0,0),tp(r)}function eI(t,e){const r=wr(t),n=wr(e),i=r.getTime()-n.getTime();return i<0?-1:i>0?1:i}function lre(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function ure(t){if(!lre(t)&&typeof t!="number")return!1;const e=wr(t);return!isNaN(Number(e))}function cre(t,e){const r=wr(t),n=wr(e);return r.getFullYear()-n.getFullYear()}function av(t,e){const r=wr(t),n=wr(e),i=eI(r,n),s=Math.abs(cre(r,n));r.setFullYear(1584),n.setFullYear(1584);const a=eI(r,n)===-i,o=i*(s-+a);return o===0?0:o}function dre(t){const e=wr(t),r=xo(t,0);return r.setFullYear(e.getFullYear(),0,1),r.setHours(0,0,0,0),r}const hre={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},fre=(t,e,r)=>{let n;const i=hre[t];return typeof i=="string"?n=i:e===1?n=i.one:n=i.other.replace("{{count}}",e.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+n:n+" ago":n};function ov(t){return(e={})=>{const r=e.width?String(e.width):t.defaultWidth;return t.formats[r]||t.formats[t.defaultWidth]}}const pre={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},mre={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},vre={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},gre={date:ov({formats:pre,defaultWidth:"full"}),time:ov({formats:mre,defaultWidth:"full"}),dateTime:ov({formats:vre,defaultWidth:"full"})},yre={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},bre=(t,e,r,n)=>yre[t];function hc(t){return(e,r)=>{const n=r!=null&&r.context?String(r.context):"standalone";let i;if(n==="formatting"&&t.formattingValues){const a=t.defaultFormattingWidth||t.defaultWidth,o=r!=null&&r.width?String(r.width):a;i=t.formattingValues[o]||t.formattingValues[a]}else{const a=t.defaultWidth,o=r!=null&&r.width?String(r.width):t.defaultWidth;i=t.values[o]||t.values[a]}const s=t.argumentCallback?t.argumentCallback(e):e;return i[s]}}const wre={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},xre={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},_re={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},Sre={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},Ere={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},Ore={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},Nre=(t,e)=>{const r=Number(t),n=r%100;if(n>20||n<10)switch(n%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},Pre={ordinalNumber:Nre,era:hc({values:wre,defaultWidth:"wide"}),quarter:hc({values:xre,defaultWidth:"wide",argumentCallback:t=>t-1}),month:hc({values:_re,defaultWidth:"wide"}),day:hc({values:Sre,defaultWidth:"wide"}),dayPeriod:hc({values:Ere,defaultWidth:"wide",formattingValues:Ore,defaultFormattingWidth:"wide"})};function fc(t){return(e,r={})=>{const n=r.width,i=n&&t.matchPatterns[n]||t.matchPatterns[t.defaultMatchWidth],s=e.match(i);if(!s)return null;const a=s[0],o=n&&t.parsePatterns[n]||t.parsePatterns[t.defaultParseWidth],l=Array.isArray(o)?Tre(o,h=>h.test(a)):Cre(o,h=>h.test(a));let c;c=t.valueCallback?t.valueCallback(l):l,c=r.valueCallback?r.valueCallback(c):c;const d=e.slice(a.length);return{value:c,rest:d}}}function Cre(t,e){for(const r in t)if(Object.prototype.hasOwnProperty.call(t,r)&&e(t[r]))return r}function Tre(t,e){for(let r=0;r<t.length;r++)if(e(t[r]))return r}function jre(t){return(e,r={})=>{const n=e.match(t.matchPattern);if(!n)return null;const i=n[0],s=e.match(t.parsePattern);if(!s)return null;let a=t.valueCallback?t.valueCallback(s[0]):s[0];a=r.valueCallback?r.valueCallback(a):a;const o=e.slice(i.length);return{value:a,rest:o}}}const Ire=/^(\d+)(th|st|nd|rd)?/i,Rre=/\d+/i,$re={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},kre={any:[/^b/i,/^(a|c)/i]},Dre={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},qre={any:[/1/i,/2/i,/3/i,/4/i]},Mre={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},Are={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},Fre={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},Lre={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},Bre={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},zre={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},Ure={ordinalNumber:jre({matchPattern:Ire,parsePattern:Rre,valueCallback:t=>parseInt(t,10)}),era:fc({matchPatterns:$re,defaultMatchWidth:"wide",parsePatterns:kre,defaultParseWidth:"any"}),quarter:fc({matchPatterns:Dre,defaultMatchWidth:"wide",parsePatterns:qre,defaultParseWidth:"any",valueCallback:t=>t+1}),month:fc({matchPatterns:Mre,defaultMatchWidth:"wide",parsePatterns:Are,defaultParseWidth:"any"}),day:fc({matchPatterns:Fre,defaultMatchWidth:"wide",parsePatterns:Lre,defaultParseWidth:"any"}),dayPeriod:fc({matchPatterns:Bre,defaultMatchWidth:"any",parsePatterns:zre,defaultParseWidth:"any"})},Wre={code:"en-US",formatDistance:fre,formatLong:gre,formatRelative:bre,localize:Pre,match:Ure,options:{weekStartsOn:0,firstWeekContainsDate:1}};function Vre(t){const e=wr(t);return are(e,dre(e))+1}function Hre(t){const e=wr(t),r=+tp(e)-+ore(e);return Math.round(r/PH)+1}function TH(t,e){var d,h,f,p;const r=wr(t),n=r.getFullYear(),i=Wp(),s=(e==null?void 0:e.firstWeekContainsDate)??((h=(d=e==null?void 0:e.locale)==null?void 0:d.options)==null?void 0:h.firstWeekContainsDate)??i.firstWeekContainsDate??((p=(f=i.locale)==null?void 0:f.options)==null?void 0:p.firstWeekContainsDate)??1,a=xo(t,0);a.setFullYear(n+1,0,s),a.setHours(0,0,0,0);const o=dd(a,e),l=xo(t,0);l.setFullYear(n,0,s),l.setHours(0,0,0,0);const c=dd(l,e);return r.getTime()>=o.getTime()?n+1:r.getTime()>=c.getTime()?n:n-1}function Kre(t,e){var o,l,c,d;const r=Wp(),n=(e==null?void 0:e.firstWeekContainsDate)??((l=(o=e==null?void 0:e.locale)==null?void 0:o.options)==null?void 0:l.firstWeekContainsDate)??r.firstWeekContainsDate??((d=(c=r.locale)==null?void 0:c.options)==null?void 0:d.firstWeekContainsDate)??1,i=TH(t,e),s=xo(t,0);return s.setFullYear(i,0,n),s.setHours(0,0,0,0),dd(s,e)}function Gre(t,e){const r=wr(t),n=+dd(r,e)-+Kre(r,e);return Math.round(n/PH)+1}function Ge(t,e){const r=t<0?"-":"",n=Math.abs(t).toString().padStart(e,"0");return r+n}const _s={y(t,e){const r=t.getFullYear(),n=r>0?r:1-r;return Ge(e==="yy"?n%100:n,e.length)},M(t,e){const r=t.getMonth();return e==="M"?String(r+1):Ge(r+1,2)},d(t,e){return Ge(t.getDate(),e.length)},a(t,e){const r=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h(t,e){return Ge(t.getHours()%12||12,e.length)},H(t,e){return Ge(t.getHours(),e.length)},m(t,e){return Ge(t.getMinutes(),e.length)},s(t,e){return Ge(t.getSeconds(),e.length)},S(t,e){const r=e.length,n=t.getMilliseconds(),i=Math.trunc(n*Math.pow(10,r-3));return Ge(i,e.length)}},el={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},tI={G:function(t,e,r){const n=t.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return r.era(n,{width:"abbreviated"});case"GGGGG":return r.era(n,{width:"narrow"});case"GGGG":default:return r.era(n,{width:"wide"})}},y:function(t,e,r){if(e==="yo"){const n=t.getFullYear(),i=n>0?n:1-n;return r.ordinalNumber(i,{unit:"year"})}return _s.y(t,e)},Y:function(t,e,r,n){const i=TH(t,n),s=i>0?i:1-i;if(e==="YY"){const a=s%100;return Ge(a,2)}return e==="Yo"?r.ordinalNumber(s,{unit:"year"}):Ge(s,e.length)},R:function(t,e){const r=CH(t);return Ge(r,e.length)},u:function(t,e){const r=t.getFullYear();return Ge(r,e.length)},Q:function(t,e,r){const n=Math.ceil((t.getMonth()+1)/3);switch(e){case"Q":return String(n);case"QQ":return Ge(n,2);case"Qo":return r.ordinalNumber(n,{unit:"quarter"});case"QQQ":return r.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(n,{width:"wide",context:"formatting"})}},q:function(t,e,r){const n=Math.ceil((t.getMonth()+1)/3);switch(e){case"q":return String(n);case"qq":return Ge(n,2);case"qo":return r.ordinalNumber(n,{unit:"quarter"});case"qqq":return r.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(n,{width:"wide",context:"standalone"})}},M:function(t,e,r){const n=t.getMonth();switch(e){case"M":case"MM":return _s.M(t,e);case"Mo":return r.ordinalNumber(n+1,{unit:"month"});case"MMM":return r.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(n,{width:"wide",context:"formatting"})}},L:function(t,e,r){const n=t.getMonth();switch(e){case"L":return String(n+1);case"LL":return Ge(n+1,2);case"Lo":return r.ordinalNumber(n+1,{unit:"month"});case"LLL":return r.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(n,{width:"wide",context:"standalone"})}},w:function(t,e,r,n){const i=Gre(t,n);return e==="wo"?r.ordinalNumber(i,{unit:"week"}):Ge(i,e.length)},I:function(t,e,r){const n=Hre(t);return e==="Io"?r.ordinalNumber(n,{unit:"week"}):Ge(n,e.length)},d:function(t,e,r){return e==="do"?r.ordinalNumber(t.getDate(),{unit:"date"}):_s.d(t,e)},D:function(t,e,r){const n=Vre(t);return e==="Do"?r.ordinalNumber(n,{unit:"dayOfYear"}):Ge(n,e.length)},E:function(t,e,r){const n=t.getDay();switch(e){case"E":case"EE":case"EEE":return r.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(n,{width:"short",context:"formatting"});case"EEEE":default:return r.day(n,{width:"wide",context:"formatting"})}},e:function(t,e,r,n){const i=t.getDay(),s=(i-n.weekStartsOn+8)%7||7;switch(e){case"e":return String(s);case"ee":return Ge(s,2);case"eo":return r.ordinalNumber(s,{unit:"day"});case"eee":return r.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(i,{width:"short",context:"formatting"});case"eeee":default:return r.day(i,{width:"wide",context:"formatting"})}},c:function(t,e,r,n){const i=t.getDay(),s=(i-n.weekStartsOn+8)%7||7;switch(e){case"c":return String(s);case"cc":return Ge(s,e.length);case"co":return r.ordinalNumber(s,{unit:"day"});case"ccc":return r.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(i,{width:"narrow",context:"standalone"});case"cccccc":return r.day(i,{width:"short",context:"standalone"});case"cccc":default:return r.day(i,{width:"wide",context:"standalone"})}},i:function(t,e,r){const n=t.getDay(),i=n===0?7:n;switch(e){case"i":return String(i);case"ii":return Ge(i,e.length);case"io":return r.ordinalNumber(i,{unit:"day"});case"iii":return r.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(n,{width:"short",context:"formatting"});case"iiii":default:return r.day(n,{width:"wide",context:"formatting"})}},a:function(t,e,r){const i=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(t,e,r){const n=t.getHours();let i;switch(n===12?i=el.noon:n===0?i=el.midnight:i=n/12>=1?"pm":"am",e){case"b":case"bb":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(t,e,r){const n=t.getHours();let i;switch(n>=17?i=el.evening:n>=12?i=el.afternoon:n>=4?i=el.morning:i=el.night,e){case"B":case"BB":case"BBB":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(t,e,r){if(e==="ho"){let n=t.getHours()%12;return n===0&&(n=12),r.ordinalNumber(n,{unit:"hour"})}return _s.h(t,e)},H:function(t,e,r){return e==="Ho"?r.ordinalNumber(t.getHours(),{unit:"hour"}):_s.H(t,e)},K:function(t,e,r){const n=t.getHours()%12;return e==="Ko"?r.ordinalNumber(n,{unit:"hour"}):Ge(n,e.length)},k:function(t,e,r){let n=t.getHours();return n===0&&(n=24),e==="ko"?r.ordinalNumber(n,{unit:"hour"}):Ge(n,e.length)},m:function(t,e,r){return e==="mo"?r.ordinalNumber(t.getMinutes(),{unit:"minute"}):_s.m(t,e)},s:function(t,e,r){return e==="so"?r.ordinalNumber(t.getSeconds(),{unit:"second"}):_s.s(t,e)},S:function(t,e){return _s.S(t,e)},X:function(t,e,r){const n=t.getTimezoneOffset();if(n===0)return"Z";switch(e){case"X":return nI(n);case"XXXX":case"XX":return $a(n);case"XXXXX":case"XXX":default:return $a(n,":")}},x:function(t,e,r){const n=t.getTimezoneOffset();switch(e){case"x":return nI(n);case"xxxx":case"xx":return $a(n);case"xxxxx":case"xxx":default:return $a(n,":")}},O:function(t,e,r){const n=t.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+rI(n,":");case"OOOO":default:return"GMT"+$a(n,":")}},z:function(t,e,r){const n=t.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+rI(n,":");case"zzzz":default:return"GMT"+$a(n,":")}},t:function(t,e,r){const n=Math.trunc(t.getTime()/1e3);return Ge(n,e.length)},T:function(t,e,r){const n=t.getTime();return Ge(n,e.length)}};function rI(t,e=""){const r=t>0?"-":"+",n=Math.abs(t),i=Math.trunc(n/60),s=n%60;return s===0?r+String(i):r+String(i)+e+Ge(s,2)}function nI(t,e){return t%60===0?(t>0?"-":"+")+Ge(Math.abs(t)/60,2):$a(t,e)}function $a(t,e=""){const r=t>0?"-":"+",n=Math.abs(t),i=Ge(Math.trunc(n/60),2),s=Ge(n%60,2);return r+i+e+s}const iI=(t,e)=>{switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},jH=(t,e)=>{switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},Yre=(t,e)=>{const r=t.match(/(P+)(p+)?/)||[],n=r[1],i=r[2];if(!i)return iI(t,e);let s;switch(n){case"P":s=e.dateTime({width:"short"});break;case"PP":s=e.dateTime({width:"medium"});break;case"PPP":s=e.dateTime({width:"long"});break;case"PPPP":default:s=e.dateTime({width:"full"});break}return s.replace("{{date}}",iI(n,e)).replace("{{time}}",jH(i,e))},Qre={p:jH,P:Yre},Xre=/^D+$/,Jre=/^Y+$/,Zre=["D","DD","YY","YYYY"];function ene(t){return Xre.test(t)}function tne(t){return Jre.test(t)}function rne(t,e,r){const n=nne(t,e,r);if(console.warn(n),Zre.includes(t))throw new RangeError(n)}function nne(t,e,r){const n=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${e}\`) for formatting ${n} to the input \`${r}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const ine=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,sne=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,ane=/^'([^]*?)'?$/,one=/''/g,lne=/[a-zA-Z]/;function wi(t,e,r){var d,h,f,p;const n=Wp(),i=n.locale??Wre,s=n.firstWeekContainsDate??((h=(d=n.locale)==null?void 0:d.options)==null?void 0:h.firstWeekContainsDate)??1,a=n.weekStartsOn??((p=(f=n.locale)==null?void 0:f.options)==null?void 0:p.weekStartsOn)??0,o=wr(t);if(!ure(o))throw new RangeError("Invalid time value");let l=e.match(sne).map(m=>{const y=m[0];if(y==="p"||y==="P"){const w=Qre[y];return w(m,i.formatLong)}return m}).join("").match(ine).map(m=>{if(m==="''")return{isToken:!1,value:"'"};const y=m[0];if(y==="'")return{isToken:!1,value:une(m)};if(tI[y])return{isToken:!0,value:m};if(y.match(lne))throw new RangeError("Format string contains an unescaped latin alphabet character `"+y+"`");return{isToken:!1,value:m}});i.localize.preprocessor&&(l=i.localize.preprocessor(o,l));const c={firstWeekContainsDate:s,weekStartsOn:a,locale:i};return l.map(m=>{if(!m.isToken)return m.value;const y=m.value;(tne(y)||ene(y))&&rne(y,e,String(t));const w=tI[y[0]];return w(o,y,i.localize,c)}).join("")}function une(t){const e=t.match(ane);return e?e[1].replace(one,"'"):t}function tl({title:t,value:e,icon:r,href:n}){return u.jsx(ce,{to:n,className:"card p-6 hover:shadow-md transition-shadow",children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsx("p",{className:"text-sm font-medium text-gray-500",children:t}),u.jsx("p",{className:"mt-1 text-3xl font-semibold",children:e})]}),u.jsx("div",{className:"p-3 bg-primary-50 rounded-lg",children:u.jsx(r,{className:"w-6 h-6 text-primary-600"})})]})})}function sI({person:t,hideStar:e=!1}){var r,n;return u.jsxs(ce,{to:`/people/${t.id}`,className:"flex items-center p-3 rounded-lg hover:bg-gray-50 transition-colors",children:[t.thumbnail?u.jsx("img",{src:t.thumbnail,alt:t.name,loading:"lazy",className:"w-10 h-10 rounded-full object-cover"}):u.jsx("div",{className:"w-10 h-10 bg-gray-200 rounded-full flex items-center justify-center",children:u.jsx("span",{className:"text-sm font-medium text-gray-500",children:((r=t.first_name)==null?void 0:r[0])||"?"})}),u.jsxs("div",{className:"ml-3 flex-1 min-w-0",children:[u.jsx("p",{className:"text-sm font-medium text-gray-900 truncate",children:t.name}),((n=t.labels)==null?void 0:n.length)>0&&u.jsx("p",{className:"text-xs text-gray-500 truncate",children:t.labels.join(", ")})]}),t.is_favorite&&!e&&u.jsx(au,{className:"w-4 h-4 text-yellow-400 fill-current"})]})}function cne({reminder:t}){var o,l,c,d,h;const e=t.days_until;let r="bg-gray-100 text-gray-700";e===0?r="bg-green-100 text-green-700":e<=3?r="bg-orange-100 text-orange-700":e<=7&&(r="bg-yellow-100 text-yellow-700");const n=((l=(o=t.related_people)==null?void 0:o[0])==null?void 0:l.name)||t.title,i=(d=(c=t.related_people)==null?void 0:c[0])==null?void 0:d.id,s=((h=t.related_people)==null?void 0:h.length)>0,a=u.jsxs(u.Fragment,{children:[u.jsx("div",{className:`px-2 py-1 rounded text-xs font-medium ${r}`,children:e===0?"Today":`${e}d`}),u.jsxs("div",{className:"ml-3 flex-1 min-w-0",children:[u.jsx("p",{className:"text-sm font-medium text-gray-900",children:n}),u.jsx("p",{className:"text-xs text-gray-500",children:wi(new Date(t.next_occurrence),"MMMM d, yyyy")}),s&&u.jsx("div",{className:"flex -space-x-2 mt-1",children:t.related_people.slice(0,3).map(f=>{var p;return f.thumbnail?u.jsx("img",{src:f.thumbnail,alt:f.name,loading:"lazy",className:"w-10 h-10 rounded-full border-2 border-white object-cover"},f.id):u.jsx("div",{className:"w-10 h-10 bg-gray-300 rounded-full border-2 border-white flex items-center justify-center",children:u.jsx("span",{className:"text-sm",children:(p=f.name)==null?void 0:p[0]})},f.id)})})]})]});return s&&i?u.jsx(ce,{to:`/people/${i}`,className:"flex items-start p-3 rounded-lg hover:bg-gray-50 transition-colors",children:a}):u.jsx("div",{className:"flex items-start p-3 rounded-lg hover:bg-gray-50 transition-colors",children:a})}function dne(){return u.jsxs("div",{className:"card p-12 text-center",children:[u.jsx("div",{className:"flex justify-center mb-4",children:u.jsx("div",{className:"p-4 bg-primary-50 rounded-full",children:u.jsx(_H,{className:"w-12 h-12 text-primary-600"})})}),u.jsxs("h2",{className:"text-2xl font-semibold text-gray-900 mb-2",children:["Welcome to ",lu,"!"]}),u.jsx("p",{className:"text-gray-600 mb-8 max-w-md mx-auto",children:"Get started by adding your first contact, organization, or important date. Your dashboard will populate as you add more information."}),u.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[u.jsxs(ce,{to:"/people/new",className:"inline-flex items-center px-6 py-3 bg-primary-600 text-white rounded-lg hover:bg-primary-700 transition-colors",children:[u.jsx(gr,{className:"w-5 h-5 mr-2"}),"Add Your First Person"]}),u.jsxs(ce,{to:"/companies/new",className:"inline-flex items-center px-6 py-3 bg-white text-gray-700 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",children:[u.jsx(gr,{className:"w-5 h-5 mr-2"}),"Add Your First Organization"]})]})]})}function hne(){var c,d,h;const{data:t,isLoading:e,error:r}=Xte();if(e)return u.jsx("div",{className:"flex items-center justify-center h-64",children:u.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"})});if(r){const f=((c=r==null?void 0:r.response)==null?void 0:c.status)>=500||!(r!=null&&r.response);return u.jsx("div",{className:"card p-8 text-center",children:u.jsx("div",{className:"text-red-600 mb-2",children:f?u.jsxs(u.Fragment,{children:[u.jsx("p",{className:"font-medium mb-1",children:"Failed to load dashboard data"}),u.jsx("p",{className:"text-sm text-gray-600",children:"Please check your connection and try refreshing the page."})]}):u.jsxs(u.Fragment,{children:[u.jsx("p",{className:"font-medium mb-1",children:"Unable to load dashboard"}),u.jsx("p",{className:"text-sm text-gray-600",children:((h=(d=r==null?void 0:r.response)==null?void 0:d.data)==null?void 0:h.message)||"An error occurred while loading your data."})]})})})}const{stats:n,recent_people:i,upcoming_reminders:s,favorites:a}=t||{};return((n==null?void 0:n.total_people)||0)+((n==null?void 0:n.total_companies)||0)+((n==null?void 0:n.total_dates)||0)===0?u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:[u.jsx(tl,{title:"Total people",value:0,icon:ta,href:"/people"}),u.jsx(tl,{title:"Organizations",value:0,icon:us,href:"/companies"}),u.jsx(tl,{title:"Events",value:0,icon:no,href:"/dates"})]}),u.jsx(dne,{})]}):u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:[u.jsx(tl,{title:"Total people",value:(n==null?void 0:n.total_people)||0,icon:ta,href:"/people"}),u.jsx(tl,{title:"Companies",value:(n==null?void 0:n.total_companies)||0,icon:us,href:"/companies"}),u.jsx(tl,{title:"Events",value:(n==null?void 0:n.total_dates)||0,icon:no,href:"/dates"})]}),u.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[u.jsxs("div",{className:"card",children:[u.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-200",children:[u.jsxs("h2",{className:"font-semibold flex items-center",children:[u.jsx(no,{className:"w-5 h-5 mr-2 text-gray-500"}),"Upcoming reminders"]}),u.jsxs(ce,{to:"/dates",className:"text-sm text-primary-600 hover:text-primary-700 flex items-center",children:["View all reminders",u.jsx(Hj,{className:"w-4 h-4 ml-1"})]})]}),u.jsx("div",{className:"divide-y divide-gray-100",children:(s==null?void 0:s.length)>0?s.map(f=>u.jsx(cne,{reminder:f},f.id)):u.jsx("p",{className:"p-4 text-sm text-gray-500 text-center",children:"No upcoming reminders"})})]}),u.jsxs("div",{className:"card",children:[u.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-200",children:[u.jsxs("h2",{className:"font-semibold flex items-center",children:[u.jsx(ta,{className:"w-5 h-5 mr-2 text-gray-500"}),"Recently edited people"]}),u.jsxs(ce,{to:"/people",className:"text-sm text-primary-600 hover:text-primary-700 flex items-center",children:["View all people",u.jsx(Hj,{className:"w-4 h-4 ml-1"})]})]}),u.jsx("div",{className:"divide-y divide-gray-100",children:(i==null?void 0:i.length)>0?i.map(f=>u.jsx(sI,{person:f},f.id)):u.jsxs("p",{className:"p-4 text-sm text-gray-500 text-center",children:["No people yet. ",u.jsx(ce,{to:"/people/new",className:"text-primary-600",children:"Add someone"})]})})]})]}),(a==null?void 0:a.length)>0&&u.jsxs("div",{className:"card",children:[u.jsx("div",{className:"flex items-center justify-between p-4 border-b border-gray-200",children:u.jsxs("h2",{className:"font-semibold flex items-center",children:[u.jsx(au,{className:"w-5 h-5 mr-2 text-yellow-500 fill-current"}),"Favorites"]})}),u.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-2 p-2",children:a.map(f=>u.jsx(sI,{person:f,hideStar:!0},f.id))})]})]})}function ri(t){if(!t)return"";const e=document.createElement("textarea");return e.innerHTML=t,e.value}function Yi(t){var r;if(!t)return"";const e=((r=t.title)==null?void 0:r.rendered)||t.title||t.name||"";return ri(e)}function io(t){var r,n;if(!t)return"";if(t.name&&typeof t.name=="string"&&!((r=t.title)!=null&&r.rendered))return ri(t.name);const e=((n=t.title)==null?void 0:n.rendered)||t.title||t.name||"";return ri(e)}function Fa(t,e={}){const r=["gender"],n=["contact_info","work_history","relationships","photo_gallery"],i={...t};return r.forEach(s=>{i[s]===""&&(i[s]=null)}),n.forEach(s=>{Array.isArray(i[s])||(i[s]=[])}),Object.assign(i,e),i}const Zt={all:["people"],lists:()=>[...Zt.all,"list"],list:t=>[...Zt.lists(),t],details:()=>[...Zt.all,"detail"],detail:t=>[...Zt.details(),t],timeline:t=>[...Zt.detail(t),"timeline"],dates:t=>[...Zt.detail(t),"dates"]};function IH(t){var i,s,a,o,l,c,d,h,f,p,m,y,w,g,v,x,b;const e=((a=(s=(i=t._embedded)==null?void 0:i["wp:featuredmedia"])==null?void 0:s[0])==null?void 0:a.source_url)||((f=(h=(d=(c=(l=(o=t._embedded)==null?void 0:o["wp:featuredmedia"])==null?void 0:l[0])==null?void 0:c.media_details)==null?void 0:d.sizes)==null?void 0:h.thumbnail)==null?void 0:f.source_url)||null,r=((w=(y=(m=(p=t._embedded)==null?void 0:p["wp:term"])==null?void 0:m.flat())==null?void 0:y.filter(_=>(_==null?void 0:_.taxonomy)==="person_label"))==null?void 0:w.map(_=>_.name))||[],n=ri(((g=t.title)==null?void 0:g.rendered)||"");return{...t,id:t.id,name:n,first_name:((v=t.acf)==null?void 0:v.first_name)||"",last_name:((x=t.acf)==null?void 0:x.last_name)||"",is_favorite:((b=t.acf)==null?void 0:b.is_favorite)||!1,thumbnail:e,labels:r}}function Vp(t={}){return ft({queryKey:Zt.list(t),queryFn:async()=>{const e=[];let r=1;const n=100;for(;;){const i=await Be.getPeople({per_page:n,page:r,_embed:!0,...t}),s=i.data.map(IH);if(e.push(...s),s.length<n)break;const a=parseInt(i.headers["x-wp-totalpages"]||i.headers["X-WP-TotalPages"]||"0",10);if(a>0&&r>=a)break;r++}return e}})}function Ou(t){return ft({queryKey:Zt.detail(t),queryFn:async()=>{const e=await Be.getPerson(t,{_embed:!0});return IH(e.data)},enabled:!!t})}function fne(t){return ft({queryKey:Zt.timeline(t),queryFn:async()=>(await We.getPersonTimeline(t)).data,enabled:!!t})}function pne(t){return ft({queryKey:Zt.dates(t),queryFn:async()=>(await We.getPersonDates(t)).data,enabled:!!t})}function mne(){const t=Vt();return wt({mutationFn:e=>Be.createPerson(e),onSuccess:()=>{t.invalidateQueries({queryKey:Zt.lists()})}})}function Bd(){const t=Vt();return wt({mutationFn:({id:e,data:r})=>Be.updatePerson(e,r),onSuccess:(e,{id:r,data:n})=>{var i;t.invalidateQueries({queryKey:Zt.detail(r)}),t.invalidateQueries({queryKey:Zt.lists()}),(i=n==null?void 0:n.acf)!=null&&i.relationships&&(Array.isArray(n.acf.relationships)?n.acf.relationships:[]).forEach(a=>{const o=a.related_person;o&&t.invalidateQueries({queryKey:Zt.detail(o)})})}})}function vne(){const t=Vt();return wt({mutationFn:e=>Be.deletePerson(e,{force:!0}),onSuccess:()=>{t.invalidateQueries({queryKey:Zt.lists()}),t.invalidateQueries({queryKey:Zt.details()})}})}function gne(){const t=Vt();return wt({mutationFn:({noteId:e,personId:r})=>We.deleteNote(e),onSuccess:(e,{personId:r})=>{t.invalidateQueries({queryKey:Zt.timeline(r)})}})}function yne(){const t=Vt();return wt({mutationFn:({dateId:e,personId:r})=>Be.deleteDate(e),onSuccess:(e,{personId:r})=>{r&&(t.invalidateQueries({queryKey:Zt.dates(r)}),t.invalidateQueries({queryKey:Zt.detail(r)})),t.invalidateQueries({queryKey:["reminders"]})}})}function aI(t){var i;const e=((i=t.acf)==null?void 0:i.work_history)||[];if(e.length===0)return null;const r=e.find(s=>s.is_current&&s.company);if(r)return r.company;const n=e.filter(s=>s.company).sort((s,a)=>{const o=s.start_date?new Date(s.start_date):new Date(0);return(a.start_date?new Date(a.start_date):new Date(0))-o});return n.length>0?n[0].company:null}function bne({person:t,companyName:e,isDeceased:r}){var n,i;return u.jsx(ce,{to:`/people/${t.id}`,className:"card p-4 hover:shadow-md transition-shadow",children:u.jsxs("div",{className:"flex items-start",children:[t.thumbnail?u.jsx("img",{src:t.thumbnail,alt:t.name,loading:"lazy",className:"w-12 h-12 rounded-full object-cover"}):u.jsx("div",{className:"w-12 h-12 bg-gray-200 rounded-full flex items-center justify-center",children:u.jsx("span",{className:"text-lg font-medium text-gray-500",children:((n=t.first_name)==null?void 0:n[0])||"?"})}),u.jsxs("div",{className:"ml-3 flex-1 min-w-0",children:[u.jsxs("div",{className:"flex items-center",children:[u.jsxs("h3",{className:"text-sm font-medium text-gray-900 truncate",children:[t.name,r&&u.jsx("span",{className:"ml-1 text-gray-500",children:""})]}),t.is_favorite&&u.jsx(au,{className:"w-4 h-4 ml-1 text-yellow-400 fill-current flex-shrink-0"})]}),e&&u.jsx("p",{className:"text-xs text-gray-500 mt-0.5 truncate",children:e}),((i=t.labels)==null?void 0:i.length)>0&&u.jsx("div",{className:"flex flex-wrap gap-1 mt-1",children:t.labels.slice(0,3).map(s=>u.jsx("span",{className:"inline-flex px-2 py-0.5 text-xs rounded-full bg-gray-100 text-gray-600",children:s},s))})]})]})})}function wne(){const[t,e]=$.useState(!1),[r,n]=$.useState(!1),[i,s]=$.useState([]),[a,o]=$.useState("first_name"),[l,c]=$.useState("asc"),d=$.useRef(null),h=$.useRef(null),{data:f,isLoading:p,error:m}=Vp(),{data:y}=ft({queryKey:["person-labels"],queryFn:async()=>(await Be.getPersonLabels()).data}),w=(y==null?void 0:y.map(C=>C.name))||[];$.useEffect(()=>{const C=T=>{h.current&&!h.current.contains(T.target)&&d.current&&!d.current.contains(T.target)&&e(!1)};return document.addEventListener("mousedown",C),()=>{document.removeEventListener("mousedown",C)}},[]);const g=$.useMemo(()=>{if(!f)return[];let C=[...f];return r&&(C=C.filter(T=>T.is_favorite)),i.length>0&&(C=C.filter(T=>{const M=T.labels||[];return i.some(B=>M.includes(B))})),C.sort((T,M)=>{var F,W,U,z,Y,fe,ye,De;let B,Q;if(a==="first_name"?(B=(((F=T.acf)==null?void 0:F.first_name)||T.first_name||"").toLowerCase(),Q=(((W=M.acf)==null?void 0:W.first_name)||M.first_name||"").toLowerCase()):(B=(((U=T.acf)==null?void 0:U.last_name)||T.last_name||"").toLowerCase(),Q=(((z=M.acf)==null?void 0:z.last_name)||M.last_name||"").toLowerCase()),B===Q){const pe=a==="first_name"?(((Y=T.acf)==null?void 0:Y.last_name)||T.last_name||"").toLowerCase():(((fe=T.acf)==null?void 0:fe.first_name)||T.first_name||"").toLowerCase(),Ee=a==="first_name"?(((ye=M.acf)==null?void 0:ye.last_name)||M.last_name||"").toLowerCase():(((De=M.acf)==null?void 0:De.first_name)||M.first_name||"").toLowerCase(),Ce=pe.localeCompare(Ee);return l==="asc"?Ce:-Ce}const G=B.localeCompare(Q);return l==="asc"?G:-G})},[f,r,i,a,l]),v=r||i.length>0,x=C=>{s(T=>T.includes(C)?T.filter(M=>M!==C):[...T,C])},b=()=>{n(!1),s([])},_=$.useMemo(()=>{if(!g)return[];const C=g.map(T=>aI(T)).filter(Boolean);return[...new Set(C)]},[g]),{data:E}=ft({queryKey:["companies","batch",_.sort().join(",")],queryFn:async()=>_.length===0?[]:(await Be.getCompanies({per_page:100,include:_.join(",")})).data,enabled:_.length>0}),O=$.useMemo(()=>{const C={};return E&&E.forEach(T=>{C[T.id]=Yi(T)}),C},[E]),S=$.useMemo(()=>{const C={};return g.forEach(T=>{const M=aI(T);M&&O[M]&&(C[T.id]=O[M])}),C},[g,O]),N=$.useMemo(()=>g.map(C=>C.id).filter(Boolean),[g]),P=Zf({queries:N.map(C=>({queryKey:["person-dates",C],queryFn:async()=>(await We.getPersonDates(C)).data,enabled:!!C}))}),I=$.useMemo(()=>{const C={};return P.forEach((T,M)=>{if(T.data&&N[M]){const B=N[M],Q=T.data.some(G=>{const F=Array.isArray(G.date_type)?G.date_type[0]:G.date_type;return(F==null?void 0:F.toLowerCase())==="died"});C[B]=Q}}),C},[P,N]);return u.jsxs("div",{className:"space-y-4",children:[u.jsx("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:u.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[u.jsxs("div",{className:"flex items-center gap-2 border border-gray-200 rounded-lg p-1",children:[u.jsxs("select",{value:a,onChange:C=>o(C.target.value),className:"text-sm border-0 bg-transparent focus:ring-0 focus:outline-none cursor-pointer",children:[u.jsx("option",{value:"first_name",children:"First name"}),u.jsx("option",{value:"last_name",children:"Last name"})]}),u.jsx("div",{className:"h-4 w-px bg-gray-300"}),u.jsx("button",{onClick:()=>c(l==="asc"?"desc":"asc"),className:"p-1 hover:bg-gray-100 rounded transition-colors",title:`Sort ${l==="asc"?"descending":"ascending"}`,children:l==="asc"?u.jsx(jte,{className:"w-4 h-4 text-gray-600"}):u.jsx(Tte,{className:"w-4 h-4 text-gray-600"})})]}),u.jsxs("div",{className:"relative",ref:d,children:[u.jsxs("button",{onClick:()=>e(!t),className:`btn-secondary ${v?"bg-primary-50 text-primary-700 border-primary-200":""}`,children:[u.jsx(Yj,{className:"w-4 h-4 md:mr-2"}),u.jsx("span",{className:"hidden md:inline",children:"Filter"}),v&&u.jsx("span",{className:"ml-2 px-1.5 py-0.5 bg-primary-600 text-white text-xs rounded-full",children:i.length+(r?1:0)})]}),t&&u.jsx("div",{ref:h,className:"absolute top-full left-0 mt-2 w-64 bg-white border border-gray-200 rounded-lg shadow-lg z-50",children:u.jsxs("div",{className:"p-4 space-y-4",children:[u.jsx("div",{children:u.jsxs("label",{className:"flex items-center cursor-pointer",children:[u.jsx("input",{type:"checkbox",checked:r,onChange:C=>n(C.target.checked),className:"sr-only"}),u.jsx("div",{className:`flex items-center justify-center w-5 h-5 border-2 rounded mr-3 ${r?"bg-primary-600 border-primary-600":"border-gray-300"}`,children:r&&u.jsx(Gj,{className:"w-3 h-3 text-white"})}),u.jsxs("div",{className:"flex items-center",children:[u.jsx(au,{className:"w-4 h-4 mr-2 text-yellow-400 fill-current"}),u.jsx("span",{className:"text-sm font-medium text-gray-900",children:"Favorites only"})]})]})}),w.length>0&&u.jsxs("div",{children:[u.jsx("h3",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wide mb-2",children:"Labels"}),u.jsx("div",{className:"space-y-1 max-h-48 overflow-y-auto",children:w.map(C=>u.jsxs("label",{className:"flex items-center cursor-pointer hover:bg-gray-50 p-1 rounded",children:[u.jsx("input",{type:"checkbox",checked:i.includes(C),onChange:()=>x(C),className:"sr-only"}),u.jsx("div",{className:`flex items-center justify-center w-5 h-5 border-2 rounded mr-3 ${i.includes(C)?"bg-primary-600 border-primary-600":"border-gray-300"}`,children:i.includes(C)&&u.jsx(Gj,{className:"w-3 h-3 text-white"})}),u.jsx("span",{className:"text-sm text-gray-700",children:C})]},C))})]}),v&&u.jsx("button",{onClick:b,className:"w-full text-sm text-primary-600 hover:text-primary-700 font-medium pt-2 border-t border-gray-200",children:"Clear all filters"})]})})]}),v&&u.jsxs("div",{className:"flex flex-wrap gap-2",children:[r&&u.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 bg-primary-100 text-primary-800 rounded-full text-xs",children:[u.jsx(au,{className:"w-3 h-3"}),"Favorites",u.jsx("button",{onClick:()=>n(!1),className:"hover:text-primary-600",children:u.jsx(ha,{className:"w-3 h-3"})})]}),i.map(C=>u.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 bg-gray-100 text-gray-800 rounded-full text-xs",children:[C,u.jsx("button",{onClick:()=>x(C),className:"hover:text-gray-600",children:u.jsx(ha,{className:"w-3 h-3"})})]},C))]}),u.jsxs(ce,{to:"/people/new",className:"btn-primary",children:[u.jsx(gr,{className:"w-4 h-4 md:mr-2"}),u.jsx("span",{className:"hidden md:inline",children:"Add person"})]})]})}),p&&u.jsx("div",{className:"flex items-center justify-center h-64",children:u.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"})}),m&&u.jsx("div",{className:"card p-6 text-center",children:u.jsx("p",{className:"text-red-600",children:"Failed to load people."})}),!p&&!m&&(f==null?void 0:f.length)===0&&u.jsxs("div",{className:"card p-12 text-center",children:[u.jsx("div",{className:"w-12 h-12 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4",children:u.jsx(gr,{className:"w-6 h-6 text-gray-400"})}),u.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-1",children:"No people found"}),u.jsx("p",{className:"text-gray-500 mb-4",children:"Get started by adding your first person."}),u.jsxs(ce,{to:"/people/new",className:"btn-primary",children:[u.jsx(gr,{className:"w-4 h-4 md:mr-2"}),u.jsx("span",{className:"hidden md:inline",children:"Add person"})]})]}),!p&&!m&&(g==null?void 0:g.length)>0&&u.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:g.map(C=>u.jsx(bne,{person:C,companyName:S[C.id],isDeceased:I[C.id]||!1},C.id))}),!p&&!m&&(f==null?void 0:f.length)>0&&(g==null?void 0:g.length)===0&&u.jsxs("div",{className:"card p-12 text-center",children:[u.jsx("div",{className:"w-12 h-12 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4",children:u.jsx(Yj,{className:"w-6 h-6 text-gray-400"})}),u.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-1",children:"No people match your filters"}),u.jsx("p",{className:"text-gray-500 mb-4",children:"Try adjusting your filters to see more results."}),u.jsx("button",{onClick:b,className:"btn-secondary",children:"Clear filters"})]})]})}const xne="#0285FF",_ne=$.forwardRef(function({title:e="Bluesky",color:r="currentColor",size:n=24,...i},s){return r==="default"&&(r=xne),u.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:n,height:n,fill:r,viewBox:"0 0 24 24",ref:s,...i,children:[u.jsx("title",{children:e}),u.jsx("path",{d:"M12 10.8c-1.087-2.114-4.046-6.053-6.798-7.995C2.566.944 1.561 1.266.902 1.565.139 1.908 0 3.08 0 3.768c0 .69.378 5.65.624 6.479.815 2.736 3.713 3.66 6.383 3.364.136-.02.275-.039.415-.056-.138.022-.276.04-.415.056-3.912.58-7.387 2.005-2.83 7.078 5.013 5.19 6.87-1.113 7.823-4.308.953 3.195 2.05 9.271 7.733 4.308 4.267-4.308 1.172-6.498-2.74-7.078a8.741 8.741 0 0 1-.415-.056c.14.017.279.036.415.056 2.67.297 5.568-.628 6.383-3.364.246-.828.624-5.79.624-6.478 0-.69-.139-1.861-.902-2.206-.659-.298-1.664-.62-4.3 1.24C16.046 4.748 13.087 8.687 12 10.8Z"})]})}),Sne="#0866FF",Ene=$.forwardRef(function({title:e="Facebook",color:r="currentColor",size:n=24,...i},s){return r==="default"&&(r=Sne),u.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:n,height:n,fill:r,viewBox:"0 0 24 24",ref:s,...i,children:[u.jsx("title",{children:e}),u.jsx("path",{d:"M9.101 23.691v-7.98H6.627v-3.667h2.474v-1.58c0-4.085 1.848-5.978 5.858-5.978.401 0 .955.042 1.468.103a8.68 8.68 0 0 1 1.141.195v3.325a8.623 8.623 0 0 0-.653-.036 26.805 26.805 0 0 0-.733-.009c-.707 0-1.259.096-1.675.309a1.686 1.686 0 0 0-.679.622c-.258.42-.374.995-.374 1.752v1.297h3.919l-.386 2.103-.287 1.564h-3.246v8.245C19.396 23.238 24 18.179 24 12.044c0-6.627-5.373-12-12-12s-12 5.373-12 12c0 5.628 3.874 10.35 9.101 11.647Z"})]})}),One="#FF0069",Nne=$.forwardRef(function({title:e="Instagram",color:r="currentColor",size:n=24,...i},s){return r==="default"&&(r=One),u.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:n,height:n,fill:r,viewBox:"0 0 24 24",ref:s,...i,children:[u.jsx("title",{children:e}),u.jsx("path",{d:"M7.0301.084c-1.2768.0602-2.1487.264-2.911.5634-.7888.3075-1.4575.72-2.1228 1.3877-.6652.6677-1.075 1.3368-1.3802 2.127-.2954.7638-.4956 1.6365-.552 2.914-.0564 1.2775-.0689 1.6882-.0626 4.947.0062 3.2586.0206 3.6671.0825 4.9473.061 1.2765.264 2.1482.5635 2.9107.308.7889.72 1.4573 1.388 2.1228.6679.6655 1.3365 1.0743 2.1285 1.38.7632.295 1.6361.4961 2.9134.552 1.2773.056 1.6884.069 4.9462.0627 3.2578-.0062 3.668-.0207 4.9478-.0814 1.28-.0607 2.147-.2652 2.9098-.5633.7889-.3086 1.4578-.72 2.1228-1.3881.665-.6682 1.0745-1.3378 1.3795-2.1284.2957-.7632.4966-1.636.552-2.9124.056-1.2809.0692-1.6898.063-4.948-.0063-3.2583-.021-3.6668-.0817-4.9465-.0607-1.2797-.264-2.1487-.5633-2.9117-.3084-.7889-.72-1.4568-1.3876-2.1228C21.2982 1.33 20.628.9208 19.8378.6165 19.074.321 18.2017.1197 16.9244.0645 15.6471.0093 15.236-.005 11.977.0014 8.718.0076 8.31.0215 7.0301.0839m.1402 21.6932c-1.17-.0509-1.8053-.2453-2.2287-.408-.5606-.216-.96-.4771-1.3819-.895-.422-.4178-.6811-.8186-.9-1.378-.1644-.4234-.3624-1.058-.4171-2.228-.0595-1.2645-.072-1.6442-.079-4.848-.007-3.2037.0053-3.583.0607-4.848.05-1.169.2456-1.805.408-2.2282.216-.5613.4762-.96.895-1.3816.4188-.4217.8184-.6814 1.3783-.9003.423-.1651 1.0575-.3614 2.227-.4171 1.2655-.06 1.6447-.072 4.848-.079 3.2033-.007 3.5835.005 4.8495.0608 1.169.0508 1.8053.2445 2.228.408.5608.216.96.4754 1.3816.895.4217.4194.6816.8176.9005 1.3787.1653.4217.3617 1.056.4169 2.2263.0602 1.2655.0739 1.645.0796 4.848.0058 3.203-.0055 3.5834-.061 4.848-.051 1.17-.245 1.8055-.408 2.2294-.216.5604-.4763.96-.8954 1.3814-.419.4215-.8181.6811-1.3783.9-.4224.1649-1.0577.3617-2.2262.4174-1.2656.0595-1.6448.072-4.8493.079-3.2045.007-3.5825-.006-4.848-.0608M16.953 5.5864A1.44 1.44 0 1 0 18.39 4.144a1.44 1.44 0 0 0-1.437 1.4424M5.8385 12.012c.0067 3.4032 2.7706 6.1557 6.173 6.1493 3.4026-.0065 6.157-2.7701 6.1506-6.1733-.0065-3.4032-2.771-6.1565-6.174-6.1498-3.403.0067-6.156 2.771-6.1496 6.1738M8 12.0077a4 4 0 1 1 4.008 3.9921A3.9996 3.9996 0 0 1 8 12.0077"})]})}),Pne="#000000",Cne=$.forwardRef(function({title:e="Threads",color:r="currentColor",size:n=24,...i},s){return r==="default"&&(r=Pne),u.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:n,height:n,fill:r,viewBox:"0 0 24 24",ref:s,...i,children:[u.jsx("title",{children:e}),u.jsx("path",{d:"M12.186 24h-.007c-3.581-.024-6.334-1.205-8.184-3.509C2.35 18.44 1.5 15.586 1.472 12.01v-.017c.03-3.579.879-6.43 2.525-8.482C5.845 1.205 8.6.024 12.18 0h.014c2.746.02 5.043.725 6.826 2.098 1.677 1.29 2.858 3.13 3.509 5.467l-2.04.569c-1.104-3.96-3.898-5.984-8.304-6.015-2.91.022-5.11.936-6.54 2.717C4.307 6.504 3.616 8.914 3.589 12c.027 3.086.718 5.496 2.057 7.164 1.43 1.783 3.631 2.698 6.54 2.717 2.623-.02 4.358-.631 5.8-2.045 1.647-1.613 1.618-3.593 1.09-4.798-.31-.71-.873-1.3-1.634-1.75-.192 1.352-.622 2.446-1.284 3.272-.886 1.102-2.14 1.704-3.73 1.79-1.202.065-2.361-.218-3.259-.801-1.063-.689-1.685-1.74-1.752-2.964-.065-1.19.408-2.285 1.33-3.082.88-.76 2.119-1.207 3.583-1.291a13.853 13.853 0 0 1 3.02.142c-.126-.742-.375-1.332-.75-1.757-.513-.586-1.308-.883-2.359-.89h-.029c-.844 0-1.992.232-2.721 1.32L7.734 7.847c.98-1.454 2.568-2.256 4.478-2.256h.044c3.194.02 5.097 1.975 5.287 5.388.108.046.216.094.321.142 1.49.7 2.58 1.761 3.154 3.07.797 1.82.871 4.79-1.548 7.158-1.85 1.81-4.094 2.628-7.277 2.65Zm1.003-11.69c-.242 0-.487.007-.739.021-1.836.103-2.98.946-2.916 2.143.067 1.256 1.452 1.839 2.784 1.767 1.224-.065 2.818-.543 3.086-3.71a10.5 10.5 0 0 0-2.215-.221z"})]})}),Tne="#000000",jne=$.forwardRef(function({title:e="X",color:r="currentColor",size:n=24,...i},s){return r==="default"&&(r=Tne),u.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:n,height:n,fill:r,viewBox:"0 0 24 24",ref:s,...i,children:[u.jsx("title",{children:e}),u.jsx("path",{d:"M18.901 1.153h3.68l-8.04 9.19L24 22.846h-7.406l-5.8-7.584-6.638 7.584H.474l8.6-9.83L0 1.154h7.594l5.243 6.932ZM17.61 20.644h2.039L6.486 3.24H4.298Z"})]})});function Di(t){return t?String(t).replace(/\\/g,"\\\\").replace(/;/g,"\\;").replace(/,/g,"\\,").replace(/\n/g,"\\n"):""}function Ine(t){return t?t.replace(/[^\d+]/g,""):""}function oI(t){if(!t)return"";const e=new Date(t);if(isNaN(e.getTime()))return"";const r=e.getFullYear(),n=String(e.getMonth()+1).padStart(2,"0"),i=String(e.getDate()).padStart(2,"0");return`${r}${n}${i}`}function Rne(t,e={}){if(!t||!Array.isArray(t))return{title:"",org:""};const r=t.find(i=>i.is_current);if(r){const i=r.company&&e[r.company]?e[r.company].name||e[r.company]:"";return{title:r.job_title||"",org:i}}const n=[...t].filter(i=>i.start_date).sort((i,s)=>new Date(s.start_date)-new Date(i.start_date));if(n.length>0){const i=n[0].company&&e[n[0].company]?e[n[0].company].name||e[n[0].company]:"";return{title:n[0].job_title||"",org:i}}return{title:"",org:""}}function $ne(t,e={}){if(!t)throw new Error("Person data is required");const{companyMap:r={},personDates:n=[]}=e,i=t.acf||{},s=[];s.push("BEGIN:VCARD"),s.push("VERSION:3.0");const a=i.first_name||"",o=i.last_name||"",l=t.name||`${a} ${o}`.trim()||"Unknown";s.push(`FN:${Di(l)}`),s.push(`N:${Di(o)};${Di(a)};;;`),i.nickname&&s.push(`NICKNAME:${Di(i.nickname)}`),i.contact_info&&Array.isArray(i.contact_info)&&i.contact_info.forEach(h=>{if(!h.contact_value)return;const f=Di(h.contact_value),p=h.contact_label?Di(h.contact_label):"";switch(h.contact_type){case"email":const m=p?`EMAIL;TYPE=INTERNET,${p.toUpperCase()}`:"EMAIL;TYPE=INTERNET";s.push(`${m}:${f}`);break;case"phone":case"mobile":const y=h.contact_type==="mobile"?"CELL":"VOICE",w=p?`TEL;TYPE=${y},${p.toUpperCase()}`:`TEL;TYPE=${y}`,g=Ine(h.contact_value);g&&s.push(`${w}:${g}`);break;case"address":s.push(`ADR;TYPE=HOME:;;${f};;;;`);break;case"website":case"linkedin":case"twitter":case"instagram":case"facebook":let v=h.contact_value;v.match(/^https?:\/\//i)||(v=`https://${v}`);const x=h.contact_type==="linkedin"?"PROFILE":"WORK",b=p?`URL;TYPE=${x},${p.toUpperCase()}`:`URL;TYPE=${x}`;s.push(`${b}:${Di(v)}`);break}});const{title:c,org:d}=Rne(i.work_history,r);if(d&&s.push(`ORG:${Di(d)}`),c&&s.push(`TITLE:${Di(c)}`),n&&Array.isArray(n)){const h=n.find(f=>{const p=Array.isArray(f.date_type)?f.date_type[0]:f.date_type;return(p==null?void 0:p.toLowerCase())==="birthday"});if(h!=null&&h.date_value){const f=oI(h.date_value);f&&s.push(`BDAY:${f}`)}}if(t.thumbnail,t.modified){const h=oI(t.modified);h&&s.push(`REV:${h}T000000Z`)}return s.push("END:VCARD"),s.join(`\r
`)}function kne(t,e={}){const{filename:r,...n}=e,i=$ne(t,n),s=new Blob([i],{type:"text/vcard;charset=utf-8"}),a=URL.createObjectURL(s),o=document.createElement("a");o.href=a,o.download=r||`${t.name||"contact"}.vcf`.replace(/[^a-z0-9.-]/gi,"_"),document.body.appendChild(o),o.click(),document.body.removeChild(o),URL.revokeObjectURL(a)}const Dne=({className:t})=>u.jsx("svg",{className:t,viewBox:"0 0 382 382",xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",children:u.jsx("path",{d:`M347.445,0H34.555C15.471,0,0,15.471,0,34.555v312.889C0,366.529,15.471,382,34.555,382h312.889
      C366.529,382,382,366.529,382,347.444V34.555C382,15.471,366.529,0,347.445,0z M118.207,329.844c0,5.554-4.502,10.056-10.056,10.056
      H65.345c-5.554,0-10.056-4.502-10.056-10.056V150.403c0-5.554,4.502-10.056,10.056-10.056h42.806
      c5.554,0,10.056,4.502,10.056,10.056V329.844z M86.748,123.432c-22.459,0-40.666-18.207-40.666-40.666S64.289,42.1,86.748,42.1
      s40.666,18.207,40.666,40.666S109.208,123.432,86.748,123.432z M341.91,330.654c0,5.106-4.14,9.246-9.246,9.246H286.73
      c-5.106,0-9.246-4.14-9.246-9.246v-84.168c0-12.556,3.683-55.021-32.813-55.021c-28.309,0-34.051,29.066-35.204,42.11v97.079
      c0,5.106-4.139,9.246-9.246,9.246h-44.426c-5.106,0-9.246-4.14-9.246-9.246V149.593c0-5.106,4.14-9.246,9.246-9.246h44.426
      c5.106,0,9.246,4.14,9.246,9.246v15.655c10.497-15.753,26.097-27.912,59.312-27.912c73.552,0,73.131,68.716,73.131,106.472
      L341.91,330.654L341.91,330.654z`})});function Kh(t){if(!t)return null;switch(t){case"male":return"";case"female":return"";case"non_binary":case"other":case"prefer_not_to_say":return"";default:return null}}function qne(){var k,q,J,V,H,ue,Re,Fe,$t,ve,te,oe,se,be;const{id:t}=ps(),e=on(),r=Vt(),{data:n,isLoading:i,error:s}=Ou(t),{data:a}=fne(t),{data:o}=pne(t),l=vne(),c=gne(),d=yne(),h=Bd(),[f,p]=$.useState(!1),[m,y]=$.useState(""),[w,g]=$.useState(!1),v=$.useRef(null),{data:x}=ft({queryKey:["person-labels"],queryFn:async()=>(await Be.getPersonLabels()).data}),b=x||[],_=(n==null?void 0:n.labels)||[],E=((V=(J=(q=(k=n==null?void 0:n._embedded)==null?void 0:k["wp:term"])==null?void 0:q.flat())==null?void 0:J.filter(D=>(D==null?void 0:D.taxonomy)==="person_label"))==null?void 0:V.map(D=>D.id))||[],O=b.filter(D=>!_.includes(D.name));xn((n==null?void 0:n.name)||((H=n==null?void 0:n.title)==null?void 0:H.rendered)||(n==null?void 0:n.title)||"Person");const S=o==null?void 0:o.find(D=>{const ie=Array.isArray(D.date_type)?D.date_type[0]:D.date_type;return(ie==null?void 0:ie.toLowerCase())==="birthday"}),N=S!=null&&S.date_value?new Date(S.date_value):null,P=o==null?void 0:o.find(D=>{const ie=Array.isArray(D.date_type)?D.date_type[0]:D.date_type;return(ie==null?void 0:ie.toLowerCase())==="died"}),I=P!=null&&P.date_value?new Date(P.date_value):null,C=!!I,T=N?av(C?I:new Date,N):null,M=o?[...o].sort((D,ie)=>{const K=D.date_value?new Date(D.date_value):new Date(0),_e=ie.date_value?new Date(ie.date_value):new Date(0);return K-_e}):[],B=async()=>{if(window.confirm("Are you sure you want to delete this person?"))try{await l.mutateAsync(t),e("/people")}catch(D){console.error("Failed to delete person:",D),alert("Failed to delete person. Please try again.")}},Q=D=>{if(!D)return"";let ie=D.replace(/[\u200B-\u200D\uFEFF\u200E\u200F\u202A-\u202E]/g,"");const K=ie.startsWith("+");return ie=ie.replace(/\D/g,""),K?`+${ie}`:ie},G=async D=>{var _e;if(!window.confirm("Are you sure you want to delete this contact detail?"))return;const ie=[...((_e=n.acf)==null?void 0:_e.contact_info)||[]];ie.splice(D,1);const K=Fa(n.acf,{contact_info:ie});await h.mutateAsync({id:t,data:{acf:K}})},F=async D=>{var Pa,Wn,$i,ec,QC,XC;if(!window.confirm("Are you sure you want to delete this relationship?"))return;const ie=(Wn=(Pa=n.acf)==null?void 0:Pa.relationships)==null?void 0:Wn[D];if(!ie)return;const K=ie.related_person,_e=ie.relationship_type;let qe=!0;K&&_e&&(qe=window.confirm("Do you also want to delete the inverse relationship from the other person?"));let Ke=null;if(!qe&&K&&_e)try{const[di,Oh]=await Promise.all([Be.getPerson(K,{_embed:!0}),Be.getRelationshipTypes()]),Cm={};Oh.data.forEach(tc=>{Cm[tc.id]=tc});const On=Cm[_e],Ca=($i=On==null?void 0:On.acf)==null?void 0:$i.inverse_relationship_type;if(Ca){const rc=(((ec=di.data.acf)==null?void 0:ec.relationships)||[]).find(ki=>{var JC,ZC;const BY=typeof ki.related_person=="object"?(JC=ki.related_person)==null?void 0:JC.ID:ki.related_person,zY=typeof ki.relationship_type=="object"?(ZC=ki.relationship_type)==null?void 0:ZC.term_id:ki.relationship_type;return BY===parseInt(t)&&zY===Ca});rc&&(Ke={related_person:parseInt(t),relationship_type:Ca,relationship_label:rc.relationship_label||""})}}catch(di){console.error("Failed to fetch inverse relationship:",di)}const nt=[...((QC=n.acf)==null?void 0:QC.relationships)||[]];nt.splice(D,1);const Jo=Fa(n.acf,{relationships:nt});if(await h.mutateAsync({id:t,data:{acf:Jo}}),!qe&&Ke&&K){await new Promise(di=>setTimeout(di,500));try{const di=await Be.getPerson(K,{_embed:!0}),Oh=((XC=di.data.acf)==null?void 0:XC.relationships)||[];if(!Oh.some(On=>{var rc,ki;const Ca=typeof On.related_person=="object"?(rc=On.related_person)==null?void 0:rc.ID:On.related_person,tc=typeof On.relationship_type=="object"?(ki=On.relationship_type)==null?void 0:ki.term_id:On.relationship_type;return Ca===Ke.related_person&&tc===Ke.relationship_type})){const On=[...Oh,Ke],Ca=Fa(di.data.acf,{relationships:On});await Be.updatePerson(K,{acf:Ca})}}catch(di){console.error("Failed to restore inverse relationship:",di)}}r.invalidateQueries({queryKey:["person",t]}),K&&r.invalidateQueries({queryKey:["person",K]}),r.invalidateQueries({queryKey:["people"]})},W=async D=>{window.confirm("Are you sure you want to delete this important date?")&&await d.mutateAsync({dateId:D,personId:t})},U=async D=>{window.confirm("Are you sure you want to delete this note?")&&await c.mutateAsync({noteId:D,personId:t})},z=async D=>{var _e;if(!window.confirm("Are you sure you want to delete this work history item?"))return;const ie=[...((_e=n.acf)==null?void 0:_e.work_history)||[]];ie.splice(D,1);const K=Fa(n.acf,{work_history:ie});await h.mutateAsync({id:t,data:{acf:K}})},Y=async D=>{var _e,qe,Ke;const ie=(Ke=(qe=(_e=n==null?void 0:n._embedded)==null?void 0:_e["wp:term"])==null?void 0:qe.flat())==null?void 0:Ke.find(nt=>(nt==null?void 0:nt.taxonomy)==="person_label"&&(nt==null?void 0:nt.name)===D);if(!ie)return;const K=E.filter(nt=>nt!==ie.id);await h.mutateAsync({id:t,data:{person_label:K}})},fe=async()=>{if(!m)return;const D=b.find(K=>K.id.toString()===m);if(!D)return;const ie=[...E,D.id];await h.mutateAsync({id:t,data:{person_label:ie}}),y(""),p(!1)},ye=async D=>{var K;const ie=(K=D.target.files)==null?void 0:K[0];if(ie){if(!ie.type.startsWith("image/")){alert("Please select an image file");return}if(ie.size>5*1024*1024){alert("Image size must be less than 5MB");return}g(!0);try{await We.uploadPersonPhoto(t,ie),r.invalidateQueries({queryKey:["person",t]}),r.invalidateQueries({queryKey:["people"]})}catch(_e){console.error("Failed to upload photo:",_e),alert("Failed to upload photo. Please try again.")}finally{g(!1),v.current&&(v.current.value="")}}},De=()=>{if(n)try{kne(n,{companyMap:rt,personDates:o||[]})}catch(D){console.error("Failed to export vCard:",D),alert("Failed to export vCard. Please try again.")}},pe=((Re=(ue=n==null?void 0:n.acf)==null?void 0:ue.work_history)==null?void 0:Re.map(D=>D.company).filter(Boolean))||[],Ee=Zf({queries:pe.map(D=>({queryKey:["company",D],queryFn:async()=>(await Be.getCompany(D,{_embed:!0})).data,enabled:!!D}))}),Ce=(($t=(Fe=n==null?void 0:n.acf)==null?void 0:Fe.relationships)==null?void 0:$t.map(D=>D.related_person).filter(Boolean))||[],Ve=Zf({queries:Ce.map(D=>({queryKey:["person-dates",D],queryFn:async()=>(await We.getPersonDates(D)).data,enabled:!!D}))}),At=$.useMemo(()=>{const D={};return Ve.forEach((ie,K)=>{if(ie.data&&Ce[K]){const _e=Ce[K],qe=ie.data.find(Ke=>{const nt=Array.isArray(Ke.date_type)?Ke.date_type[0]:Ke.date_type;return(nt==null?void 0:nt.toLowerCase())==="birthday"});if(qe!=null&&qe.date_value){const Ke=new Date(qe.date_value);D[_e]=av(new Date,Ke)}else D[_e]=-1}}),D},[Ve,Ce]),gt=$.useMemo(()=>{const D={};return Ve.forEach((ie,K)=>{if(ie.data&&Ce[K]){const _e=Ce[K],qe=ie.data.some(Ke=>{const nt=Array.isArray(Ke.date_type)?Ke.date_type[0]:Ke.date_type;return(nt==null?void 0:nt.toLowerCase())==="died"});D[_e]=qe}}),D},[Ve,Ce]),Qt=$.useMemo(()=>{var D;return(D=n==null?void 0:n.acf)!=null&&D.relationships?[...n.acf.relationships].sort((ie,K)=>{const _e=At[ie.related_person]??-1,qe=At[K.related_person]??-1;return _e===-1&&qe===-1?0:_e===-1?1:qe===-1?-1:qe-_e}):[]},[(ve=n==null?void 0:n.acf)==null?void 0:ve.relationships,At]),rt={};Ee.forEach((D,ie)=>{var K,_e,qe,Ke,nt,Jo,Pa,Wn,$i;if(D.data){const ec=pe[ie];rt[ec]={name:Yi(D.data),logo:((qe=(_e=(K=D.data._embedded)==null?void 0:K["wp:featuredmedia"])==null?void 0:_e[0])==null?void 0:qe.source_url)||(($i=(Wn=(Pa=(Jo=(nt=(Ke=D.data._embedded)==null?void 0:Ke["wp:featuredmedia"])==null?void 0:nt[0])==null?void 0:Jo.media_details)==null?void 0:Pa.sizes)==null?void 0:Wn.thumbnail)==null?void 0:$i.source_url)||null}}});const rr=$.useMemo(()=>{var D;return(D=n==null?void 0:n.acf)!=null&&D.work_history?[...n.acf.work_history].map((ie,K)=>({...ie,originalIndex:K})).sort((ie,K)=>{if(ie.is_current&&!K.is_current)return-1;if(!ie.is_current&&K.is_current)return 1;const _e=ie.start_date?new Date(ie.start_date):new Date(0);return(K.start_date?new Date(K.start_date):new Date(0))-_e}):[]},[(te=n==null?void 0:n.acf)==null?void 0:te.work_history]);if($.useEffect(()=>{(n==null?void 0:n.status)==="trash"&&e("/people",{replace:!0})},[n,e]),i)return u.jsx("div",{className:"flex items-center justify-center h-64",children:u.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"})});if(s||!n)return u.jsxs("div",{className:"card p-6 text-center",children:[u.jsx("p",{className:"text-red-600",children:"Failed to load person."}),u.jsx(ce,{to:"/people",className:"btn-secondary mt-4",children:"Back to people"})]});if(n.status==="trash")return null;const Ze=n.acf||{},fr=["facebook","linkedin","instagram","twitter","bluesky","threads","website"],et=((oe=Ze.contact_info)==null?void 0:oe.filter(D=>fr.includes(D.contact_type)))||[],yt={linkedin:1,twitter:2,bluesky:3,threads:4,instagram:5,facebook:6,website:7},jr=[...et].sort((D,ie)=>{const K=yt[D.contact_type]||99,_e=yt[ie.contact_type]||99;return K-_e}),Vr=D=>{switch(D){case"facebook":return Ene;case"linkedin":return Dne;case"instagram":return Nne;case"twitter":return jne;case"bluesky":return _ne;case"threads":return Cne;case"website":return wf;default:return wf}},j=D=>{switch(D){case"facebook":return"text-[#1877F2]";case"linkedin":return"text-[#0077B7]";case"instagram":return"text-[#E4405F]";case"twitter":return"text-[#1DA1F2]";case"bluesky":return"text-[#00A8E8]";case"threads":return"text-[#000000]";case"website":return"text-gray-600";default:return"text-gray-600"}};return u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs(ce,{to:"/people",className:"flex items-center text-gray-600 hover:text-gray-900",children:[u.jsx(yn,{className:"w-4 h-4 md:mr-2"}),u.jsx("span",{className:"hidden md:inline",children:"Back to people"})]}),u.jsxs("div",{className:"flex gap-2",children:[u.jsxs("button",{onClick:De,className:"btn-secondary",children:[u.jsx(iN,{className:"w-4 h-4 md:mr-2"}),u.jsx("span",{className:"hidden md:inline",children:"Export vCard"})]}),u.jsxs(ce,{to:`/people/${t}/edit`,className:"btn-secondary",children:[u.jsx(SH,{className:"w-4 h-4 md:mr-2"}),u.jsx("span",{className:"hidden md:inline",children:"Edit"})]}),u.jsxs("button",{onClick:B,className:"btn-danger",children:[u.jsx(bi,{className:"w-4 h-4 md:mr-2"}),u.jsx("span",{className:"hidden md:inline",children:"Delete"})]})]})]}),u.jsxs("div",{className:"card p-6 relative",children:[u.jsx("div",{className:"absolute top-4 right-4",children:u.jsx(ce,{to:`/people/${t}/family-tree`,className:"btn-secondary text-sm",children:"View family tree"})}),u.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center gap-4",children:[u.jsxs("div",{className:"relative group",children:[n.thumbnail?u.jsx("img",{src:n.thumbnail,alt:n.name,className:"w-28 h-28 rounded-full object-cover"}):u.jsx("div",{className:"w-28 h-28 bg-gray-200 rounded-full flex items-center justify-center",children:u.jsx("span",{className:"text-3xl font-medium text-gray-500",children:((se=n.first_name)==null?void 0:se[0])||"?"})}),u.jsx("div",{className:"absolute inset-0 rounded-full bg-black bg-opacity-0 group-hover:bg-opacity-50 transition-all duration-200 flex items-center justify-center cursor-pointer",onClick:()=>{var D;return(D=v.current)==null?void 0:D.click()},children:w?u.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-white"}):u.jsx(bf,{className:"w-6 h-6 text-white opacity-0 group-hover:opacity-100 transition-opacity"})}),u.jsx("input",{ref:v,type:"file",accept:"image/*",onChange:ye,className:"hidden",disabled:w})]}),u.jsxs("div",{className:"flex-1 space-y-3",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsxs("h1",{className:"text-2xl font-bold",children:[n.name,C&&u.jsx("span",{className:"ml-1 text-gray-500",children:""})]}),n.is_favorite&&u.jsx(au,{className:"w-5 h-5 text-yellow-400 fill-current"})]}),Ze.nickname&&u.jsxs("p",{className:"text-gray-500",children:['"',Ze.nickname,'"']}),C&&I&&T!==null&&u.jsxs("p",{className:"text-gray-500 text-sm",children:[Kh(Ze.gender)&&u.jsx("span",{className:"mr-1",children:Kh(Ze.gender)}),"Died ",wi(I,"MMMM d, yyyy")," at age ",T]}),!C&&T!==null&&u.jsxs("p",{className:"text-gray-500 text-sm",children:[Kh(Ze.gender)&&u.jsx("span",{className:"mr-1",children:Kh(Ze.gender)}),T," years old"]}),u.jsxs("div",{children:[u.jsxs("div",{className:"flex flex-wrap gap-2 items-center",children:[n.labels&&n.labels.length>0&&n.labels.map((D,ie)=>u.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 rounded-full text-xs font-medium bg-gray-100 text-gray-700 group/label",children:[D,u.jsx("button",{onClick:()=>Y(D),className:"opacity-0 group-hover/label:opacity-100 transition-opacity hover:bg-gray-200 rounded-full p-0.5",title:"Remove label",children:u.jsx(ha,{className:"w-3 h-3"})})]},ie)),f?u.jsxs("div",{className:"inline-flex items-center gap-2",children:[u.jsxs("select",{value:m,onChange:D=>y(D.target.value),className:"text-xs border border-gray-300 rounded px-2 py-1",autoFocus:!0,disabled:O.length===0,children:[u.jsx("option",{value:"",children:"Select a label..."}),O.map(D=>u.jsx("option",{value:D.id,children:D.name},D.id))]}),u.jsx("button",{onClick:fe,disabled:!m,className:"text-xs px-2 py-1 bg-primary-600 text-white rounded hover:bg-primary-700 disabled:opacity-50 disabled:cursor-not-allowed",children:"Add"}),u.jsx("button",{onClick:()=>{p(!1),y("")},className:"text-xs px-2 py-1 bg-gray-200 text-gray-700 rounded hover:bg-gray-300",children:"Cancel"})]}):O.length>0&&u.jsxs("button",{onClick:()=>p(!0),className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-gray-100 text-gray-700 hover:bg-gray-200 transition-colors",children:[u.jsx(gr,{className:"w-3 h-3 mr-1"}),"Add label"]})]}),jr.length>0&&u.jsx("div",{className:"flex items-center gap-3 mt-4",children:jr.map((D,ie)=>{const K=Vr(D.contact_type),_e=j(D.contact_type);let qe=D.contact_value;return qe.match(/^https?:\/\//i)||(qe=`https://${qe}`),u.jsx("a",{href:qe,target:"_blank",rel:"noopener noreferrer",className:`flex-shrink-0 hover:opacity-80 transition-opacity ${_e}`,title:`${D.contact_type.charAt(0).toUpperCase()+D.contact_type.slice(1)}: ${D.contact_value}`,children:u.jsx(K,{className:"w-5 h-5"})},ie)})})]})]})]})]}),u.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[u.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[!C&&u.jsxs("div",{className:"card p-6",children:[u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsx("h2",{className:"font-semibold",children:"Contact information"}),u.jsxs(ce,{to:`/people/${t}/contact/new`,className:"btn-secondary text-sm",children:[u.jsx(gr,{className:"w-4 h-4 md:mr-1"}),u.jsx("span",{className:"hidden md:inline",children:"Add contact detail"})]})]}),((be=Ze.contact_info)==null?void 0:be.filter(D=>!fr.includes(D.contact_type)).length)>0?u.jsx("div",{className:"space-y-2",children:(()=>{const D={email:1,phone:2,mobile:2,address:3,other:4};return Ze.contact_info.filter(K=>!fr.includes(K.contact_type)).map((K,_e)=>({...K,originalIndex:_e})).sort((K,_e)=>{const qe=D[K.contact_type]||99,Ke=D[_e.contact_type]||99;return qe!==Ke?qe-Ke:K.originalIndex-_e.originalIndex}).map((K,_e)=>{Ze.contact_info.indexOf(K);const qe=K.contact_type==="email"?Fte:K.contact_type==="phone"||K.contact_type==="mobile"?Wte:K.contact_type==="address"?Lte:wf,Ke=K.contact_type==="email",nt=K.contact_type==="phone"||K.contact_type==="mobile",Jo=K.contact_type==="mobile",Pa=K.contact_type==="address";let Wn=null,$i=null;return Ke?Wn=`mailto:${K.contact_value}`:nt?Wn=`tel:${Q(K.contact_value)}`:Pa&&(Wn=`https://www.google.com/maps/search/?api=1&query=${encodeURIComponent(K.contact_value)}`,$i="_blank"),u.jsx("div",{className:"group",children:u.jsxs("div",{className:"flex items-center rounded-md -mx-2 px-2 py-1.5 group-hover:bg-gray-50 transition-colors",children:[u.jsx(qe,{className:"w-4 h-4 text-gray-400 mr-3 flex-shrink-0"}),u.jsxs("div",{className:"flex-1 min-w-0 flex items-center gap-2",children:[u.jsxs("span",{className:"text-sm text-gray-500",children:[K.contact_label||K.contact_type,": "]}),Wn?u.jsx("a",{href:Wn,target:$i||void 0,rel:$i==="_blank"?"noopener noreferrer":void 0,className:"text-primary-600 hover:text-primary-700 hover:underline",children:K.contact_value}):u.jsx("span",{children:K.contact_value}),Jo&&u.jsx("a",{href:`https://wa.me/${Q(K.contact_value)}`,target:"_blank",rel:"noopener noreferrer",className:"flex-shrink-0 hover:opacity-80 transition-opacity",title:"Open WhatsApp",children:u.jsx(zte,{className:"w-4 h-4 text-[#25D366]"})})]}),u.jsxs("div",{className:"flex items-center gap-1 opacity-0 group-hover:opacity-100 transition-opacity ml-2",children:[u.jsx(ce,{to:`/people/${t}/contact/${K.originalIndex}/edit`,className:"p-1 hover:bg-gray-100 rounded",title:"Edit contact detail",children:u.jsx(Hh,{className:"w-4 h-4 text-gray-400 hover:text-gray-600"})}),u.jsx("button",{onClick:()=>G(K.originalIndex),className:"p-1 hover:bg-red-50 rounded",title:"Delete contact detail",children:u.jsx(bi,{className:"w-4 h-4 text-gray-400 hover:text-red-600"})})]})]})},K.originalIndex)})})()}):u.jsx("p",{className:"text-sm text-gray-500 text-center py-4",children:"No contact information yet."})]}),u.jsxs("div",{className:"card p-6",children:[u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsx("h2",{className:"font-semibold",children:"Events"}),u.jsxs(ce,{to:`/dates/new?person=${t}`,className:"btn-secondary text-sm",children:[u.jsx(gr,{className:"w-4 h-4 md:mr-1"}),u.jsx("span",{className:"hidden md:inline",children:"Add Important Date"})]})]}),M.length>0?u.jsx("div",{className:"space-y-3",children:M.map(D=>{const ie=Array.isArray(D.date_type)?D.date_type[0]:D.date_type,K=(ie==null?void 0:ie.toLowerCase())||"",_e=K.includes("died"),qe=K.includes("wedding")||K.includes("marriage")?Dte:K.includes("birthday")?kte:no;return u.jsxs("div",{className:"flex items-start group",children:[u.jsx("div",{className:"w-8 h-8 bg-gray-100 rounded-lg flex items-center justify-center mr-3",children:_e?u.jsx("span",{className:"text-gray-500 text-lg font-semibold",children:""}):u.jsx(qe,{className:"w-4 h-4 text-gray-500"})}),u.jsxs("div",{className:"flex-1",children:[u.jsx("p",{className:"text-sm font-medium",children:D.title}),u.jsx("p",{className:"text-xs text-gray-500",children:D.date_value&&wi(new Date(D.date_value),"MMMM d, yyyy")}),ie&&u.jsx("p",{className:"text-xs text-gray-400 capitalize",children:ie})]}),u.jsxs("div",{className:"flex items-center gap-1 opacity-0 group-hover:opacity-100 transition-opacity",children:[u.jsx(ce,{to:`/dates/${D.id}/edit`,className:"p-1 hover:bg-gray-100 rounded",title:"Edit date",children:u.jsx(Hh,{className:"w-4 h-4 text-gray-400 hover:text-gray-600"})}),u.jsx("button",{onClick:()=>W(D.id),className:"p-1 hover:bg-red-50 rounded",title:"Delete date",children:u.jsx(bi,{className:"w-4 h-4 text-gray-400 hover:text-red-600"})})]})]},D.id)})}):u.jsx("p",{className:"text-sm text-gray-500 text-center py-4",children:"No important dates yet."})]}),u.jsxs("div",{className:"card p-6",children:[u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsx("h2",{className:"font-semibold",children:"Work history"}),u.jsxs(ce,{to:`/people/${t}/work-history/new`,className:"btn-secondary text-sm",children:[u.jsx(gr,{className:"w-4 h-4 md:mr-1"}),u.jsx("span",{className:"hidden md:inline",children:"Add work history"})]})]}),(rr==null?void 0:rr.length)>0?u.jsx("div",{className:"space-y-4",children:rr.map((D,ie)=>{const K=D.company?rt[D.company]:null,_e=D.originalIndex;return u.jsxs("div",{className:"flex items-start group",children:[K!=null&&K.logo?u.jsx("img",{src:K.logo,alt:K.name,className:"w-20 h-20 rounded-lg object-contain bg-white mr-3 flex-shrink-0"}):u.jsx("div",{className:"w-20 h-20 bg-white rounded-lg flex items-center justify-center mr-3 flex-shrink-0 border border-gray-200",children:u.jsx(us,{className:"w-10 h-10 text-gray-500"})}),u.jsxs("div",{className:"flex-1 min-w-0",children:[u.jsx("p",{className:"font-medium",children:D.job_title}),D.company&&K&&u.jsx(ce,{to:`/companies/${D.company}`,className:"text-sm text-primary-600 hover:underline",children:K.name}),u.jsxs("p",{className:"text-sm text-gray-500",children:[D.start_date&&wi(new Date(D.start_date),"MMM yyyy")," - ",D.is_current?"Present":D.end_date?wi(new Date(D.end_date),"MMM yyyy"):""]}),D.description&&u.jsx("p",{className:"text-sm text-gray-600 mt-1",children:D.description})]}),u.jsxs("div",{className:"flex items-center gap-1 opacity-0 group-hover:opacity-100 transition-opacity ml-2",children:[u.jsx(ce,{to:`/people/${t}/work-history/${_e}/edit`,className:"p-1 hover:bg-gray-100 rounded",title:"Edit work history",children:u.jsx(Hh,{className:"w-4 h-4 text-gray-400 hover:text-gray-600"})}),u.jsx("button",{onClick:()=>z(_e),className:"p-1 hover:bg-red-50 rounded",title:"Delete work history",children:u.jsx(bi,{className:"w-4 h-4 text-gray-400 hover:text-red-600"})})]})]},_e)})}):u.jsx("p",{className:"text-sm text-gray-500 text-center py-4",children:"No work history yet."})]}),u.jsxs("div",{className:"card p-6",children:[u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsx("h2",{className:"font-semibold",children:"Timeline"}),u.jsxs("button",{className:"btn-secondary text-sm",children:[u.jsx(gr,{className:"w-4 h-4 md:mr-1"}),u.jsx("span",{className:"hidden md:inline",children:"Add Note"})]})]}),(a==null?void 0:a.length)>0?u.jsx("div",{className:"space-y-4",children:a.map(D=>u.jsxs("div",{className:"border-l-2 border-gray-200 pl-4 pb-4 group",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-500",children:[u.jsx("span",{className:"capitalize",children:D.type}),u.jsx("span",{children:""}),u.jsx("span",{children:wi(new Date(D.created),"MMM d, yyyy")})]}),u.jsx("button",{onClick:()=>U(D.id),className:"opacity-0 group-hover:opacity-100 transition-opacity p-1 hover:bg-red-50 rounded",title:"Delete note",children:u.jsx(bi,{className:"w-4 h-4 text-gray-400 hover:text-red-600"})})]}),u.jsx("p",{className:"mt-1",children:D.content})]},D.id))}):u.jsx("p",{className:"text-sm text-gray-500 text-center py-4",children:"No notes or activities yet."})]})]}),u.jsxs("div",{className:"space-y-6",children:[(Ze.how_we_met||Ze.met_date)&&u.jsxs("div",{className:"card p-6",children:[u.jsx("h2",{className:"font-semibold mb-3",children:"How we met"}),Ze.met_date&&u.jsxs("p",{className:"text-sm text-gray-500 mb-2",children:[u.jsx(no,{className:"w-4 h-4 inline mr-1"}),wi(new Date(Ze.met_date),"MMMM d, yyyy")]}),Ze.how_we_met&&u.jsx("p",{className:"text-sm",children:Ze.how_we_met})]}),u.jsxs("div",{className:"card p-6",children:[u.jsxs("div",{className:"flex items-center justify-between mb-3",children:[u.jsx("h2",{className:"font-semibold",children:"Relationships"}),u.jsxs(ce,{to:`/people/${t}/relationship/new`,className:"btn-secondary text-sm",children:[u.jsx(gr,{className:"w-4 h-4 md:mr-1"}),u.jsx("span",{className:"hidden md:inline",children:"Add relationship"})]})]}),(Qt==null?void 0:Qt.length)>0?u.jsx("div",{className:"space-y-2",children:Qt.map((D,ie)=>{var _e,qe,Ke;const K=((qe=(_e=n==null?void 0:n.acf)==null?void 0:_e.relationships)==null?void 0:qe.findIndex(nt=>nt.related_person===D.related_person&&nt.relationship_type===D.relationship_type))??ie;return u.jsxs("div",{className:"flex items-center p-2 rounded hover:bg-gray-50 group",children:[u.jsxs(ce,{to:`/people/${D.related_person}`,className:"flex items-center flex-1 min-w-0",children:[D.person_thumbnail?u.jsx("img",{src:D.person_thumbnail,alt:ri(D.person_name)||"",className:"w-8 h-8 rounded-full object-cover mr-2"}):u.jsx("div",{className:"w-8 h-8 bg-gray-200 rounded-full mr-2 flex items-center justify-center",children:u.jsx("span",{className:"text-xs font-medium text-gray-500",children:((Ke=ri(D.person_name))==null?void 0:Ke[0])||"?"})}),u.jsxs("div",{children:[u.jsxs("p",{className:"text-sm font-medium",children:[ri(D.person_name)||`Person #${D.related_person}`,gt[D.related_person]&&u.jsx("span",{className:"text-gray-400 ml-1",title:"Deceased",children:""})]}),u.jsx("p",{className:"text-xs text-gray-500",children:ri(D.relationship_name||D.relationship_label)})]})]}),u.jsxs("div",{className:"flex items-center gap-1 opacity-0 group-hover:opacity-100 transition-opacity ml-2",children:[u.jsx(ce,{to:`/people/${t}/relationship/${K}/edit`,className:"p-1 hover:bg-gray-100 rounded",title:"Edit relationship",children:u.jsx(Hh,{className:"w-4 h-4 text-gray-400 hover:text-gray-600"})}),u.jsx("button",{onClick:()=>F(K),className:"p-1 hover:bg-red-50 rounded",title:"Delete relationship",children:u.jsx(bi,{className:"w-4 h-4 text-gray-400 hover:text-red-600"})})]})]},ie)})}):u.jsx("p",{className:"text-sm text-gray-500 text-center py-4",children:"No relationships yet."})]})]})]})]})}var zd=t=>t.type==="checkbox",La=t=>t instanceof Date,Gr=t=>t==null;const RH=t=>typeof t=="object";var Bt=t=>!Gr(t)&&!Array.isArray(t)&&RH(t)&&!La(t),$H=t=>Bt(t)&&t.target?zd(t.target)?t.target.checked:t.target.value:t,Mne=t=>t.substring(0,t.search(/\.\d+(\.|$)/))||t,kH=(t,e)=>t.has(Mne(e)),Ane=t=>{const e=t.constructor&&t.constructor.prototype;return Bt(e)&&e.hasOwnProperty("isPrototypeOf")},MP=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function Xt(t){if(t instanceof Date)return new Date(t);const e=typeof FileList<"u"&&t instanceof FileList;if(MP&&(t instanceof Blob||e))return t;const r=Array.isArray(t);if(!r&&!(Bt(t)&&Ane(t)))return t;const n=r?[]:Object.create(Object.getPrototypeOf(t));for(const i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=Xt(t[i]));return n}var Hp=t=>/^\w*$/.test(t),jt=t=>t===void 0,AP=t=>Array.isArray(t)?t.filter(Boolean):[],FP=t=>AP(t.replace(/["|']|\]/g,"").split(/\.|\[/)),ae=(t,e,r)=>{if(!e||!Bt(t))return r;const n=(Hp(e)?[e]:FP(e)).reduce((i,s)=>Gr(i)?i:i[s],t);return jt(n)||n===t?jt(t[e])?r:t[e]:n},fn=t=>typeof t=="boolean",Ar=t=>typeof t=="function",at=(t,e,r)=>{let n=-1;const i=Hp(e)?[e]:FP(e),s=i.length,a=s-1;for(;++n<s;){const o=i[n];let l=r;if(n!==a){const c=t[o];l=Bt(c)||Array.isArray(c)?c:isNaN(+i[n+1])?{}:[]}if(o==="__proto__"||o==="constructor"||o==="prototype")return;t[o]=l,t=t[o]}};const rp={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},ei={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},qi={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},DH=Te.createContext(null);DH.displayName="HookFormContext";const LP=()=>Te.useContext(DH);var qH=(t,e,r,n=!0)=>{const i={defaultValues:e._defaultValues};for(const s in t)Object.defineProperty(i,s,{get:()=>{const a=s;return e._proxyFormState[a]!==ei.all&&(e._proxyFormState[a]=!n||ei.all),r&&(r[a]=!0),t[a]}});return i};const BP=typeof window<"u"?Te.useLayoutEffect:Te.useEffect;function Fne(t){const e=LP(),{control:r=e.control,disabled:n,name:i,exact:s}=t||{},[a,o]=Te.useState(r._formState),l=Te.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1});return BP(()=>r._subscribe({name:i,formState:l.current,exact:s,callback:c=>{!n&&o({...r._formState,...c})}}),[i,n,s]),Te.useEffect(()=>{l.current.isValid&&r._setValid(!0)},[r]),Te.useMemo(()=>qH(a,r,l.current,!1),[a,r])}var pn=t=>typeof t=="string",sN=(t,e,r,n,i)=>pn(t)?(n&&e.watch.add(t),ae(r,t,i)):Array.isArray(t)?t.map(s=>(n&&e.watch.add(s),ae(r,s))):(n&&(e.watchAll=!0),r),aN=t=>Gr(t)||!RH(t);function ti(t,e,r=new WeakSet){if(aN(t)||aN(e))return Object.is(t,e);if(La(t)&&La(e))return t.getTime()===e.getTime();const n=Object.keys(t),i=Object.keys(e);if(n.length!==i.length)return!1;if(r.has(t)||r.has(e))return!0;r.add(t),r.add(e);for(const s of n){const a=t[s];if(!i.includes(s))return!1;if(s!=="ref"){const o=e[s];if(La(a)&&La(o)||Bt(a)&&Bt(o)||Array.isArray(a)&&Array.isArray(o)?!ti(a,o,r):!Object.is(a,o))return!1}}return!0}function Lne(t){const e=LP(),{control:r=e.control,name:n,defaultValue:i,disabled:s,exact:a,compute:o}=t||{},l=Te.useRef(i),c=Te.useRef(o),d=Te.useRef(void 0),h=Te.useRef(r),f=Te.useRef(n);c.current=o;const[p,m]=Te.useState(()=>{const b=r._getWatch(n,l.current);return c.current?c.current(b):b}),y=Te.useCallback(b=>{const _=sN(n,r._names,b||r._formValues,!1,l.current);return c.current?c.current(_):_},[r._formValues,r._names,n]),w=Te.useCallback(b=>{if(!s){const _=sN(n,r._names,b||r._formValues,!1,l.current);if(c.current){const E=c.current(_);ti(E,d.current)||(m(E),d.current=E)}else m(_)}},[r._formValues,r._names,s,n]);BP(()=>((h.current!==r||!ti(f.current,n))&&(h.current=r,f.current=n,w()),r._subscribe({name:n,formState:{values:!0},exact:a,callback:b=>{w(b.values)}})),[r,a,n,w]),Te.useEffect(()=>r._removeUnmounted());const g=h.current!==r,v=f.current,x=Te.useMemo(()=>{if(s)return null;const b=!g&&!ti(v,n);return g||b?y():null},[s,g,n,v,y]);return x!==null?x:p}function Bne(t){const e=LP(),{name:r,disabled:n,control:i=e.control,shouldUnregister:s,defaultValue:a,exact:o=!0}=t,l=kH(i._names.array,r),c=Te.useMemo(()=>ae(i._formValues,r,ae(i._defaultValues,r,a)),[i,r,a]),d=Lne({control:i,name:r,defaultValue:c,exact:o}),h=Fne({control:i,name:r,exact:o}),f=Te.useRef(t),p=Te.useRef(void 0),m=Te.useRef(i.register(r,{...t.rules,value:d,...fn(t.disabled)?{disabled:t.disabled}:{}}));f.current=t;const y=Te.useMemo(()=>Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!ae(h.errors,r)},isDirty:{enumerable:!0,get:()=>!!ae(h.dirtyFields,r)},isTouched:{enumerable:!0,get:()=>!!ae(h.touchedFields,r)},isValidating:{enumerable:!0,get:()=>!!ae(h.validatingFields,r)},error:{enumerable:!0,get:()=>ae(h.errors,r)}}),[h,r]),w=Te.useCallback(b=>m.current.onChange({target:{value:$H(b),name:r},type:rp.CHANGE}),[r]),g=Te.useCallback(()=>m.current.onBlur({target:{value:ae(i._formValues,r),name:r},type:rp.BLUR}),[r,i._formValues]),v=Te.useCallback(b=>{const _=ae(i._fields,r);_&&_._f&&b&&(_._f.ref={focus:()=>Ar(b.focus)&&b.focus(),select:()=>Ar(b.select)&&b.select(),setCustomValidity:E=>Ar(b.setCustomValidity)&&b.setCustomValidity(E),reportValidity:()=>Ar(b.reportValidity)&&b.reportValidity()})},[i._fields,r]),x=Te.useMemo(()=>({name:r,value:d,...fn(n)||h.disabled?{disabled:h.disabled||n}:{},onChange:w,onBlur:g,ref:v}),[r,n,h.disabled,w,g,v,d]);return Te.useEffect(()=>{const b=i._options.shouldUnregister||s,_=p.current;_&&_!==r&&!l&&i.unregister(_),i.register(r,{...f.current.rules,...fn(f.current.disabled)?{disabled:f.current.disabled}:{}});const E=(O,S)=>{const N=ae(i._fields,O);N&&N._f&&(N._f.mount=S)};if(E(r,!0),b){const O=Xt(ae(i._options.defaultValues,r,f.current.defaultValue));at(i._defaultValues,r,O),jt(ae(i._formValues,r))&&at(i._formValues,r,O)}return!l&&i.register(r),p.current=r,()=>{(l?b&&!i._state.action:b)?i.unregister(r):E(r,!1)}},[r,i,l,s]),Te.useEffect(()=>{i._setDisabledField({disabled:n,name:r})},[n,r,i]),Te.useMemo(()=>({field:x,formState:h,fieldState:y}),[x,h,y])}const np=t=>t.render(Bne(t));var zne=(t,e,r,n,i)=>e?{...r[t],types:{...r[t]&&r[t].types?r[t].types:{},[n]:i||!0}}:{},Dc=t=>Array.isArray(t)?t:[t],lI=()=>{let t=[];return{get observers(){return t},next:i=>{for(const s of t)s.next&&s.next(i)},subscribe:i=>(t.push(i),{unsubscribe:()=>{t=t.filter(s=>s!==i)}}),unsubscribe:()=>{t=[]}}};function MH(t,e){const r={};for(const n in t)if(t.hasOwnProperty(n)){const i=t[n],s=e[n];if(i&&Bt(i)&&s){const a=MH(i,s);Bt(a)&&(r[n]=a)}else t[n]&&(r[n]=s)}return r}var $r=t=>Bt(t)&&!Object.keys(t).length,zP=t=>t.type==="file",ip=t=>{if(!MP)return!1;const e=t?t.ownerDocument:0;return t instanceof(e&&e.defaultView?e.defaultView.HTMLElement:HTMLElement)},AH=t=>t.type==="select-multiple",UP=t=>t.type==="radio",Une=t=>UP(t)||zd(t),lv=t=>ip(t)&&t.isConnected;function Wne(t,e){const r=e.slice(0,-1).length;let n=0;for(;n<r;)t=jt(t)?n++:t[e[n++]];return t}function Vne(t){for(const e in t)if(t.hasOwnProperty(e)&&!jt(t[e]))return!1;return!0}function Ft(t,e){const r=Array.isArray(e)?e:Hp(e)?[e]:FP(e),n=r.length===1?t:Wne(t,r),i=r.length-1,s=r[i];return n&&delete n[s],i!==0&&(Bt(n)&&$r(n)||Array.isArray(n)&&Vne(n))&&Ft(t,r.slice(0,-1)),t}var Hne=t=>{for(const e in t)if(Ar(t[e]))return!0;return!1};function FH(t){return Array.isArray(t)||Bt(t)&&!Hne(t)}function oN(t,e={}){for(const r in t){const n=t[r];FH(n)?(e[r]=Array.isArray(n)?[]:{},oN(n,e[r])):jt(n)||(e[r]=!0)}return e}function al(t,e,r){r||(r=oN(e));for(const n in t){const i=t[n];if(FH(i))jt(e)||aN(r[n])?r[n]=oN(i,Array.isArray(i)?[]:{}):al(i,Gr(e)?{}:e[n],r[n]);else{const s=e[n];r[n]=!ti(i,s)}}return r}const uI={value:!1,isValid:!1},cI={value:!0,isValid:!0};var LH=t=>{if(Array.isArray(t)){if(t.length>1){const e=t.filter(r=>r&&r.checked&&!r.disabled).map(r=>r.value);return{value:e,isValid:!!e.length}}return t[0].checked&&!t[0].disabled?t[0].attributes&&!jt(t[0].attributes.value)?jt(t[0].value)||t[0].value===""?cI:{value:t[0].value,isValid:!0}:cI:uI}return uI},BH=(t,{valueAsNumber:e,valueAsDate:r,setValueAs:n})=>jt(t)?t:e?t===""?NaN:t&&+t:r&&pn(t)?new Date(t):n?n(t):t;const dI={isValid:!1,value:null};var zH=t=>Array.isArray(t)?t.reduce((e,r)=>r&&r.checked&&!r.disabled?{isValid:!0,value:r.value}:e,dI):dI;function hI(t){const e=t.ref;return zP(e)?e.files:UP(e)?zH(t.refs).value:AH(e)?[...e.selectedOptions].map(({value:r})=>r):zd(e)?LH(t.refs).value:BH(jt(e.value)?t.ref.value:e.value,t)}var Kne=(t,e,r,n)=>{const i={};for(const s of t){const a=ae(e,s);a&&at(i,s,a._f)}return{criteriaMode:r,names:[...t],fields:i,shouldUseNativeValidation:n}},sp=t=>t instanceof RegExp,pc=t=>jt(t)?t:sp(t)?t.source:Bt(t)?sp(t.value)?t.value.source:t.value:t,fI=t=>({isOnSubmit:!t||t===ei.onSubmit,isOnBlur:t===ei.onBlur,isOnChange:t===ei.onChange,isOnAll:t===ei.all,isOnTouch:t===ei.onTouched});const pI="AsyncFunction";var Gne=t=>!!t&&!!t.validate&&!!(Ar(t.validate)&&t.validate.constructor.name===pI||Bt(t.validate)&&Object.values(t.validate).find(e=>e.constructor.name===pI)),Yne=t=>t.mount&&(t.required||t.min||t.max||t.maxLength||t.minLength||t.pattern||t.validate),mI=(t,e,r)=>!r&&(e.watchAll||e.watch.has(t)||[...e.watch].some(n=>t.startsWith(n)&&/^\.\w+/.test(t.slice(n.length))));const qc=(t,e,r,n)=>{for(const i of r||Object.keys(t)){const s=ae(t,i);if(s){const{_f:a,...o}=s;if(a){if(a.refs&&a.refs[0]&&e(a.refs[0],i)&&!n)return!0;if(a.ref&&e(a.ref,a.name)&&!n)return!0;if(qc(o,e))break}else if(Bt(o)&&qc(o,e))break}}};function vI(t,e,r){const n=ae(t,r);if(n||Hp(r))return{error:n,name:r};const i=r.split(".");for(;i.length;){const s=i.join("."),a=ae(e,s),o=ae(t,s);if(a&&!Array.isArray(a)&&r!==s)return{name:r};if(o&&o.type)return{name:s,error:o};if(o&&o.root&&o.root.type)return{name:`${s}.root`,error:o.root};i.pop()}return{name:r}}var Qne=(t,e,r,n)=>{r(t);const{name:i,...s}=t;return $r(s)||Object.keys(s).length>=Object.keys(e).length||Object.keys(s).find(a=>e[a]===(!n||ei.all))},Xne=(t,e,r)=>!t||!e||t===e||Dc(t).some(n=>n&&(r?n===e:n.startsWith(e)||e.startsWith(n))),Jne=(t,e,r,n,i)=>i.isOnAll?!1:!r&&i.isOnTouch?!(e||t):(r?n.isOnBlur:i.isOnBlur)?!t:(r?n.isOnChange:i.isOnChange)?t:!0,Zne=(t,e)=>!AP(ae(t,e)).length&&Ft(t,e),eie=(t,e,r)=>{const n=Dc(ae(t,r));return at(n,"root",e[r]),at(t,r,n),t};function gI(t,e,r="validate"){if(pn(t)||Array.isArray(t)&&t.every(pn)||fn(t)&&!t)return{type:r,message:pn(t)?t:"",ref:e}}var rl=t=>Bt(t)&&!sp(t)?t:{value:t,message:""},yI=async(t,e,r,n,i,s)=>{const{ref:a,refs:o,required:l,maxLength:c,minLength:d,min:h,max:f,pattern:p,validate:m,name:y,valueAsNumber:w,mount:g}=t._f,v=ae(r,y);if(!g||e.has(y))return{};const x=o?o[0]:a,b=C=>{i&&x.reportValidity&&(x.setCustomValidity(fn(C)?"":C||""),x.reportValidity())},_={},E=UP(a),O=zd(a),S=E||O,N=(w||zP(a))&&jt(a.value)&&jt(v)||ip(a)&&a.value===""||v===""||Array.isArray(v)&&!v.length,P=zne.bind(null,y,n,_),I=(C,T,M,B=qi.maxLength,Q=qi.minLength)=>{const G=C?T:M;_[y]={type:C?B:Q,message:G,ref:a,...P(C?B:Q,G)}};if(s?!Array.isArray(v)||!v.length:l&&(!S&&(N||Gr(v))||fn(v)&&!v||O&&!LH(o).isValid||E&&!zH(o).isValid)){const{value:C,message:T}=pn(l)?{value:!!l,message:l}:rl(l);if(C&&(_[y]={type:qi.required,message:T,ref:x,...P(qi.required,T)},!n))return b(T),_}if(!N&&(!Gr(h)||!Gr(f))){let C,T;const M=rl(f),B=rl(h);if(!Gr(v)&&!isNaN(v)){const Q=a.valueAsNumber||v&&+v;Gr(M.value)||(C=Q>M.value),Gr(B.value)||(T=Q<B.value)}else{const Q=a.valueAsDate||new Date(v),G=U=>new Date(new Date().toDateString()+" "+U),F=a.type=="time",W=a.type=="week";pn(M.value)&&v&&(C=F?G(v)>G(M.value):W?v>M.value:Q>new Date(M.value)),pn(B.value)&&v&&(T=F?G(v)<G(B.value):W?v<B.value:Q<new Date(B.value))}if((C||T)&&(I(!!C,M.message,B.message,qi.max,qi.min),!n))return b(_[y].message),_}if((c||d)&&!N&&(pn(v)||s&&Array.isArray(v))){const C=rl(c),T=rl(d),M=!Gr(C.value)&&v.length>+C.value,B=!Gr(T.value)&&v.length<+T.value;if((M||B)&&(I(M,C.message,T.message),!n))return b(_[y].message),_}if(p&&!N&&pn(v)){const{value:C,message:T}=rl(p);if(sp(C)&&!v.match(C)&&(_[y]={type:qi.pattern,message:T,ref:a,...P(qi.pattern,T)},!n))return b(T),_}if(m){if(Ar(m)){const C=await m(v,r),T=gI(C,x);if(T&&(_[y]={...T,...P(qi.validate,T.message)},!n))return b(T.message),_}else if(Bt(m)){let C={};for(const T in m){if(!$r(C)&&!n)break;const M=gI(await m[T](v,r),x,T);M&&(C={...M,...P(T,M.message)},b(M.message),n&&(_[y]=C))}if(!$r(C)&&(_[y]={ref:x,...C},!n))return _}}return b(!0),_};const tie={mode:ei.onSubmit,reValidateMode:ei.onChange,shouldFocusError:!0};function rie(t={}){let e={...tie,...t},r={submitCount:0,isDirty:!1,isReady:!1,isLoading:Ar(e.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1},n={},i=Bt(e.defaultValues)||Bt(e.values)?Xt(e.defaultValues||e.values)||{}:{},s=e.shouldUnregister?{}:Xt(i),a={action:!1,mount:!1,watch:!1,keepIsValid:!1},o={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},l,c=0;const d={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},h={...d};let f={...h};const p={array:lI(),state:lI()},m=e.criteriaMode===ei.all,y=j=>k=>{clearTimeout(c),c=setTimeout(j,k)},w=async j=>{if(!a.keepIsValid&&!e.disabled&&(h.isValid||f.isValid||j)){let k;e.resolver?(k=$r((await S()).errors),g()):k=await P(n,!0),k!==r.isValid&&p.state.next({isValid:k})}},g=(j,k)=>{!e.disabled&&(h.isValidating||h.validatingFields||f.isValidating||f.validatingFields)&&((j||Array.from(o.mount)).forEach(q=>{q&&(k?at(r.validatingFields,q,k):Ft(r.validatingFields,q))}),p.state.next({validatingFields:r.validatingFields,isValidating:!$r(r.validatingFields)}))},v=(j,k=[],q,J,V=!0,H=!0)=>{if(J&&q&&!e.disabled){if(a.action=!0,H&&Array.isArray(ae(n,j))){const ue=q(ae(n,j),J.argA,J.argB);V&&at(n,j,ue)}if(H&&Array.isArray(ae(r.errors,j))){const ue=q(ae(r.errors,j),J.argA,J.argB);V&&at(r.errors,j,ue),Zne(r.errors,j)}if((h.touchedFields||f.touchedFields)&&H&&Array.isArray(ae(r.touchedFields,j))){const ue=q(ae(r.touchedFields,j),J.argA,J.argB);V&&at(r.touchedFields,j,ue)}(h.dirtyFields||f.dirtyFields)&&(r.dirtyFields=al(i,s)),p.state.next({name:j,isDirty:C(j,k),dirtyFields:r.dirtyFields,errors:r.errors,isValid:r.isValid})}else at(s,j,k)},x=(j,k)=>{at(r.errors,j,k),p.state.next({errors:r.errors})},b=j=>{r.errors=j,p.state.next({errors:r.errors,isValid:!1})},_=(j,k,q,J)=>{const V=ae(n,j);if(V){const H=ae(s,j,jt(q)?ae(i,j):q);jt(H)||J&&J.defaultChecked||k?at(s,j,k?H:hI(V._f)):B(j,H),a.mount&&!a.action&&w()}},E=(j,k,q,J,V)=>{let H=!1,ue=!1;const Re={name:j};if(!e.disabled){if(!q||J){(h.isDirty||f.isDirty)&&(ue=r.isDirty,r.isDirty=Re.isDirty=C(),H=ue!==Re.isDirty);const Fe=ti(ae(i,j),k);ue=!!ae(r.dirtyFields,j),Fe?Ft(r.dirtyFields,j):at(r.dirtyFields,j,!0),Re.dirtyFields=r.dirtyFields,H=H||(h.dirtyFields||f.dirtyFields)&&ue!==!Fe}if(q){const Fe=ae(r.touchedFields,j);Fe||(at(r.touchedFields,j,q),Re.touchedFields=r.touchedFields,H=H||(h.touchedFields||f.touchedFields)&&Fe!==q)}H&&V&&p.state.next(Re)}return H?Re:{}},O=(j,k,q,J)=>{const V=ae(r.errors,j),H=(h.isValid||f.isValid)&&fn(k)&&r.isValid!==k;if(e.delayError&&q?(l=y(()=>x(j,q)),l(e.delayError)):(clearTimeout(c),l=null,q?at(r.errors,j,q):Ft(r.errors,j)),(q?!ti(V,q):V)||!$r(J)||H){const ue={...J,...H&&fn(k)?{isValid:k}:{},errors:r.errors,name:j};r={...r,...ue},p.state.next(ue)}},S=async j=>(g(j,!0),await e.resolver(s,e.context,Kne(j||o.mount,n,e.criteriaMode,e.shouldUseNativeValidation))),N=async j=>{const{errors:k}=await S(j);if(g(j),j)for(const q of j){const J=ae(k,q);J?at(r.errors,q,J):Ft(r.errors,q)}else r.errors=k;return k},P=async(j,k,q={valid:!0})=>{for(const J in j){const V=j[J];if(V){const{_f:H,...ue}=V;if(H){const Re=o.array.has(H.name),Fe=V._f&&Gne(V._f);Fe&&h.validatingFields&&g([H.name],!0);const $t=await yI(V,o.disabled,s,m,e.shouldUseNativeValidation&&!k,Re);if(Fe&&h.validatingFields&&g([H.name]),$t[H.name]&&(q.valid=!1,k))break;!k&&(ae($t,H.name)?Re?eie(r.errors,$t,H.name):at(r.errors,H.name,$t[H.name]):Ft(r.errors,H.name))}!$r(ue)&&await P(ue,k,q)}}return q.valid},I=()=>{for(const j of o.unMount){const k=ae(n,j);k&&(k._f.refs?k._f.refs.every(q=>!lv(q)):!lv(k._f.ref))&&Ce(j)}o.unMount=new Set},C=(j,k)=>!e.disabled&&(j&&k&&at(s,j,k),!ti(z(),i)),T=(j,k,q)=>sN(j,o,{...a.mount?s:jt(k)?i:pn(j)?{[j]:k}:k},q,k),M=j=>AP(ae(a.mount?s:i,j,e.shouldUnregister?ae(i,j,[]):[])),B=(j,k,q={})=>{const J=ae(n,j);let V=k;if(J){const H=J._f;H&&(!H.disabled&&at(s,j,BH(k,H)),V=ip(H.ref)&&Gr(k)?"":k,AH(H.ref)?[...H.ref.options].forEach(ue=>ue.selected=V.includes(ue.value)):H.refs?zd(H.ref)?H.refs.forEach(ue=>{(!ue.defaultChecked||!ue.disabled)&&(Array.isArray(V)?ue.checked=!!V.find(Re=>Re===ue.value):ue.checked=V===ue.value||!!V)}):H.refs.forEach(ue=>ue.checked=ue.value===V):zP(H.ref)?H.ref.value="":(H.ref.value=V,H.ref.type||p.state.next({name:j,values:Xt(s)})))}(q.shouldDirty||q.shouldTouch)&&E(j,V,q.shouldTouch,q.shouldDirty,!0),q.shouldValidate&&U(j)},Q=(j,k,q)=>{for(const J in k){if(!k.hasOwnProperty(J))return;const V=k[J],H=j+"."+J,ue=ae(n,H);(o.array.has(j)||Bt(V)||ue&&!ue._f)&&!La(V)?Q(H,V,q):B(H,V,q)}},G=(j,k,q={})=>{const J=ae(n,j),V=o.array.has(j),H=Xt(k);at(s,j,H),V?(p.array.next({name:j,values:Xt(s)}),(h.isDirty||h.dirtyFields||f.isDirty||f.dirtyFields)&&q.shouldDirty&&p.state.next({name:j,dirtyFields:al(i,s),isDirty:C(j,H)})):J&&!J._f&&!Gr(H)?Q(j,H,q):B(j,H,q),mI(j,o)&&p.state.next({...r,name:j}),p.state.next({name:a.mount?j:void 0,values:Xt(s)})},F=async j=>{a.mount=!0;const k=j.target;let q=k.name,J=!0;const V=ae(n,q),H=Fe=>{J=Number.isNaN(Fe)||La(Fe)&&isNaN(Fe.getTime())||ti(Fe,ae(s,q,Fe))},ue=fI(e.mode),Re=fI(e.reValidateMode);if(V){let Fe,$t;const ve=k.type?hI(V._f):$H(j),te=j.type===rp.BLUR||j.type===rp.FOCUS_OUT,oe=!Yne(V._f)&&!e.resolver&&!ae(r.errors,q)&&!V._f.deps||Jne(te,ae(r.touchedFields,q),r.isSubmitted,Re,ue),se=mI(q,o,te);at(s,q,ve),te?(!k||!k.readOnly)&&(V._f.onBlur&&V._f.onBlur(j),l&&l(0)):V._f.onChange&&V._f.onChange(j);const be=E(q,ve,te),D=!$r(be)||se;if(!te&&p.state.next({name:q,type:j.type,values:Xt(s)}),oe)return(h.isValid||f.isValid)&&(e.mode==="onBlur"?te&&w():te||w()),D&&p.state.next({name:q,...se?{}:be});if(!te&&se&&p.state.next({...r}),e.resolver){const{errors:ie}=await S([q]);if(g([q]),H(ve),J){const K=vI(r.errors,n,q),_e=vI(ie,n,K.name||q);Fe=_e.error,q=_e.name,$t=$r(ie)}}else g([q],!0),Fe=(await yI(V,o.disabled,s,m,e.shouldUseNativeValidation))[q],g([q]),H(ve),J&&(Fe?$t=!1:(h.isValid||f.isValid)&&($t=await P(n,!0)));J&&(V._f.deps&&(!Array.isArray(V._f.deps)||V._f.deps.length>0)&&U(V._f.deps),O(q,$t,Fe,be))}},W=(j,k)=>{if(ae(r.errors,k)&&j.focus)return j.focus(),1},U=async(j,k={})=>{let q,J;const V=Dc(j);if(e.resolver){const H=await N(jt(j)?j:V);q=$r(H),J=j?!V.some(ue=>ae(H,ue)):q}else j?(J=(await Promise.all(V.map(async H=>{const ue=ae(n,H);return await P(ue&&ue._f?{[H]:ue}:ue)}))).every(Boolean),!(!J&&!r.isValid)&&w()):J=q=await P(n);return p.state.next({...!pn(j)||(h.isValid||f.isValid)&&q!==r.isValid?{}:{name:j},...e.resolver||!j?{isValid:q}:{},errors:r.errors}),k.shouldFocus&&!J&&qc(n,W,j?V:o.mount),J},z=(j,k)=>{let q={...a.mount?s:i};return k&&(q=MH(k.dirtyFields?r.dirtyFields:r.touchedFields,q)),jt(j)?q:pn(j)?ae(q,j):j.map(J=>ae(q,J))},Y=(j,k)=>({invalid:!!ae((k||r).errors,j),isDirty:!!ae((k||r).dirtyFields,j),error:ae((k||r).errors,j),isValidating:!!ae(r.validatingFields,j),isTouched:!!ae((k||r).touchedFields,j)}),fe=j=>{j&&Dc(j).forEach(k=>Ft(r.errors,k)),p.state.next({errors:j?r.errors:{}})},ye=(j,k,q)=>{const J=(ae(n,j,{_f:{}})._f||{}).ref,V=ae(r.errors,j)||{},{ref:H,message:ue,type:Re,...Fe}=V;at(r.errors,j,{...Fe,...k,ref:J}),p.state.next({name:j,errors:r.errors,isValid:!1}),q&&q.shouldFocus&&J&&J.focus&&J.focus()},De=(j,k)=>Ar(j)?p.state.subscribe({next:q=>"values"in q&&j(T(void 0,k),q)}):T(j,k,!0),pe=j=>p.state.subscribe({next:k=>{Xne(j.name,k.name,j.exact)&&Qne(k,j.formState||h,yt,j.reRenderRoot)&&j.callback({values:{...s},...r,...k,defaultValues:i})}}).unsubscribe,Ee=j=>(a.mount=!0,f={...f,...j.formState},pe({...j,formState:{...d,...j.formState}})),Ce=(j,k={})=>{for(const q of j?Dc(j):o.mount)o.mount.delete(q),o.array.delete(q),k.keepValue||(Ft(n,q),Ft(s,q)),!k.keepError&&Ft(r.errors,q),!k.keepDirty&&Ft(r.dirtyFields,q),!k.keepTouched&&Ft(r.touchedFields,q),!k.keepIsValidating&&Ft(r.validatingFields,q),!e.shouldUnregister&&!k.keepDefaultValue&&Ft(i,q);p.state.next({values:Xt(s)}),p.state.next({...r,...k.keepDirty?{isDirty:C()}:{}}),!k.keepIsValid&&w()},Ve=({disabled:j,name:k})=>{(fn(j)&&a.mount||j||o.disabled.has(k))&&(j?o.disabled.add(k):o.disabled.delete(k))},At=(j,k={})=>{let q=ae(n,j);const J=fn(k.disabled)||fn(e.disabled);return at(n,j,{...q||{},_f:{...q&&q._f?q._f:{ref:{name:j}},name:j,mount:!0,...k}}),o.mount.add(j),q?Ve({disabled:fn(k.disabled)?k.disabled:e.disabled,name:j}):_(j,!0,k.value),{...J?{disabled:k.disabled||e.disabled}:{},...e.progressive?{required:!!k.required,min:pc(k.min),max:pc(k.max),minLength:pc(k.minLength),maxLength:pc(k.maxLength),pattern:pc(k.pattern)}:{},name:j,onChange:F,onBlur:F,ref:V=>{if(V){At(j,k),q=ae(n,j);const H=jt(V.value)&&V.querySelectorAll&&V.querySelectorAll("input,select,textarea")[0]||V,ue=Une(H),Re=q._f.refs||[];if(ue?Re.find(Fe=>Fe===H):H===q._f.ref)return;at(n,j,{_f:{...q._f,...ue?{refs:[...Re.filter(lv),H,...Array.isArray(ae(i,j))?[{}]:[]],ref:{type:H.type,name:j}}:{ref:H}}}),_(j,!1,void 0,H)}else q=ae(n,j,{}),q._f&&(q._f.mount=!1),(e.shouldUnregister||k.shouldUnregister)&&!(kH(o.array,j)&&a.action)&&o.unMount.add(j)}}},gt=()=>e.shouldFocusError&&qc(n,W,o.mount),Qt=j=>{fn(j)&&(p.state.next({disabled:j}),qc(n,(k,q)=>{const J=ae(n,q);J&&(k.disabled=J._f.disabled||j,Array.isArray(J._f.refs)&&J._f.refs.forEach(V=>{V.disabled=J._f.disabled||j}))},0,!1))},rt=(j,k)=>async q=>{let J;q&&(q.preventDefault&&q.preventDefault(),q.persist&&q.persist());let V=Xt(s);if(p.state.next({isSubmitting:!0}),e.resolver){const{errors:H,values:ue}=await S();g(),r.errors=H,V=Xt(ue)}else await P(n);if(o.disabled.size)for(const H of o.disabled)Ft(V,H);if(Ft(r.errors,"root"),$r(r.errors)){p.state.next({errors:{}});try{await j(V,q)}catch(H){J=H}}else k&&await k({...r.errors},q),gt(),setTimeout(gt);if(p.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:$r(r.errors)&&!J,submitCount:r.submitCount+1,errors:r.errors}),J)throw J},rr=(j,k={})=>{ae(n,j)&&(jt(k.defaultValue)?G(j,Xt(ae(i,j))):(G(j,k.defaultValue),at(i,j,Xt(k.defaultValue))),k.keepTouched||Ft(r.touchedFields,j),k.keepDirty||(Ft(r.dirtyFields,j),r.isDirty=k.defaultValue?C(j,Xt(ae(i,j))):C()),k.keepError||(Ft(r.errors,j),h.isValid&&w()),p.state.next({...r}))},Ze=(j,k={})=>{const q=j?Xt(j):i,J=Xt(q),V=$r(j),H=V?i:J;if(k.keepDefaultValues||(i=q),!k.keepValues){if(k.keepDirtyValues){const ue=new Set([...o.mount,...Object.keys(al(i,s))]);for(const Re of Array.from(ue))ae(r.dirtyFields,Re)?at(H,Re,ae(s,Re)):G(Re,ae(H,Re))}else{if(MP&&jt(j))for(const ue of o.mount){const Re=ae(n,ue);if(Re&&Re._f){const Fe=Array.isArray(Re._f.refs)?Re._f.refs[0]:Re._f.ref;if(ip(Fe)){const $t=Fe.closest("form");if($t){$t.reset();break}}}}if(k.keepFieldsRef)for(const ue of o.mount)G(ue,ae(H,ue));else n={}}s=e.shouldUnregister?k.keepDefaultValues?Xt(i):{}:Xt(H),p.array.next({values:{...H}}),p.state.next({values:{...H}})}o={mount:k.keepDirtyValues?o.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},a.mount=!h.isValid||!!k.keepIsValid||!!k.keepDirtyValues||!e.shouldUnregister&&!$r(H),a.watch=!!e.shouldUnregister,a.keepIsValid=!!k.keepIsValid,a.action=!1,k.keepErrors||(r.errors={}),p.state.next({submitCount:k.keepSubmitCount?r.submitCount:0,isDirty:V?!1:k.keepDirty?r.isDirty:!!(k.keepDefaultValues&&!ti(j,i)),isSubmitted:k.keepIsSubmitted?r.isSubmitted:!1,dirtyFields:V?{}:k.keepDirtyValues?k.keepDefaultValues&&s?al(i,s):r.dirtyFields:k.keepDefaultValues&&j?al(i,j):k.keepDirty?r.dirtyFields:{},touchedFields:k.keepTouched?r.touchedFields:{},errors:k.keepErrors?r.errors:{},isSubmitSuccessful:k.keepIsSubmitSuccessful?r.isSubmitSuccessful:!1,isSubmitting:!1,defaultValues:i})},fr=(j,k)=>Ze(Ar(j)?j(s):j,{...e.resetOptions,...k}),et=(j,k={})=>{const q=ae(n,j),J=q&&q._f;if(J){const V=J.refs?J.refs[0]:J.ref;V.focus&&setTimeout(()=>{V.focus(),k.shouldSelect&&Ar(V.select)&&V.select()})}},yt=j=>{r={...r,...j}},Vr={control:{register:At,unregister:Ce,getFieldState:Y,handleSubmit:rt,setError:ye,_subscribe:pe,_runSchema:S,_updateIsValidating:g,_focusError:gt,_getWatch:T,_getDirty:C,_setValid:w,_setFieldArray:v,_setDisabledField:Ve,_setErrors:b,_getFieldArray:M,_reset:Ze,_resetDefaultValues:()=>Ar(e.defaultValues)&&e.defaultValues().then(j=>{fr(j,e.resetOptions),p.state.next({isLoading:!1})}),_removeUnmounted:I,_disableForm:Qt,_subjects:p,_proxyFormState:h,get _fields(){return n},get _formValues(){return s},get _state(){return a},set _state(j){a=j},get _defaultValues(){return i},get _names(){return o},set _names(j){o=j},get _formState(){return r},get _options(){return e},set _options(j){e={...e,...j}}},subscribe:Ee,trigger:U,register:At,handleSubmit:rt,watch:De,setValue:G,getValues:z,reset:fr,resetField:rr,clearErrors:fe,unregister:Ce,setError:ye,setFocus:et,getFieldState:Y};return{...Vr,formControl:Vr}}function Nu(t={}){const e=Te.useRef(void 0),r=Te.useRef(void 0),[n,i]=Te.useState({isDirty:!1,isValidating:!1,isLoading:Ar(t.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1,isReady:!1,defaultValues:Ar(t.defaultValues)?void 0:t.defaultValues});if(!e.current)if(t.formControl)e.current={...t.formControl,formState:n},t.defaultValues&&!Ar(t.defaultValues)&&t.formControl.reset(t.defaultValues,t.resetOptions);else{const{formControl:a,...o}=rie(t);e.current={...o,formState:n}}const s=e.current.control;return s._options=t,BP(()=>{const a=s._subscribe({formState:s._proxyFormState,callback:()=>i({...s._formState}),reRenderRoot:!0});return i(o=>({...o,isReady:!0})),s._formState.isReady=!0,a},[s]),Te.useEffect(()=>s._disableForm(t.disabled),[s,t.disabled]),Te.useEffect(()=>{t.mode&&(s._options.mode=t.mode),t.reValidateMode&&(s._options.reValidateMode=t.reValidateMode)},[s,t.mode,t.reValidateMode]),Te.useEffect(()=>{t.errors&&(s._setErrors(t.errors),s._focusError())},[s,t.errors]),Te.useEffect(()=>{t.shouldUnregister&&s._subjects.state.next({values:s._getWatch()})},[s,t.shouldUnregister]),Te.useEffect(()=>{if(s._proxyFormState.isDirty){const a=s._getDirty();a!==n.isDirty&&s._subjects.state.next({isDirty:a})}},[s,n.isDirty]),Te.useEffect(()=>{var a;t.values&&!ti(t.values,r.current)?(s._reset(t.values,{keepFieldsRef:!0,...s._options.resetOptions}),!((a=s._options.resetOptions)===null||a===void 0)&&a.keepIsValid||s._setValid(),r.current=t.values,i(o=>({...o}))):s._resetDefaultValues()},[s,t.values]),Te.useEffect(()=>{s._state.mount||(s._setValid(),s._state.mount=!0),s._state.watch&&(s._state.watch=!1,s._subjects.state.next({...s._formState})),s._removeUnmounted()}),e.current.formState=qH(n,s),e.current}function bI(){var v;const{id:t}=ps(),e=on(),[r]=SP(),n=!!t,i=r.get("returnTo"),s=r.get("sourcePersonId"),{data:a,isLoading:o}=Ou(t),l=mne(),c=Bd(),{data:d=[]}=ft({queryKey:["date-types"],queryFn:async()=>(await Be.getDateTypes()).data}),h=d.find(x=>x.slug==="birthday"||x.name.toLowerCase()==="birthday"),{register:f,handleSubmit:p,reset:m,formState:{errors:y,isSubmitting:w}}=Nu({defaultValues:{first_name:"",last_name:"",nickname:"",gender:"",email:"",how_we_met:"",is_favorite:!1,birthday:""}});$.useEffect(()=>{var x,b,_,E,O,S,N,P;if(a){const I=(b=(x=a.acf)==null?void 0:x.contact_info)==null?void 0:b.find(T=>T.contact_type==="email"),C=(I==null?void 0:I.contact_value)||"";m({first_name:((_=a.acf)==null?void 0:_.first_name)||"",last_name:((E=a.acf)==null?void 0:E.last_name)||"",nickname:((O=a.acf)==null?void 0:O.nickname)||"",gender:((S=a.acf)==null?void 0:S.gender)||"",email:C,how_we_met:((N=a.acf)==null?void 0:N.how_we_met)||"",is_favorite:((P=a.acf)==null?void 0:P.is_favorite)||!1,birthday:""})}},[a,m]),xn(n&&a?`Edit ${((v=a.title)==null?void 0:v.rendered)||a.title||"person"}`:"New person");const g=async x=>{try{const _=`${x.first_name||""} ${x.last_name||""}`.trim()||"Unnamed Person",E={title:_,status:"publish",acf:{first_name:x.first_name,last_name:x.last_name,nickname:x.nickname,gender:x.gender||null,how_we_met:x.how_we_met,is_favorite:x.is_favorite}};if(!n&&x.email&&(E.acf.contact_info=[{contact_type:"email",contact_value:x.email,contact_label:""}]),n)E.title=_,await c.mutateAsync({id:t,data:E}),e(`/people/${t}`);else{const S=(await l.mutateAsync(E)).data.id;if(x.email)try{await We.sideloadGravatar(S,x.email)}catch(N){console.error("Failed to load Gravatar:",N)}if(x.birthday&&h)try{const N=x.first_name||"Person";await Be.createDate({title:`${N}'s Birthday`,status:"publish",date_type:[h.id],acf:{date_value:x.birthday,is_recurring:!0,related_people:[S],reminder_days_before:7}})}catch(N){console.error("Failed to create birthday:",N)}e(i==="relationship"&&s?`/people/${s}/relationship/new?newPersonId=${S}`:`/people/${S}`)}}catch(b){console.error("Failed to save person:",b)}};return n&&o?u.jsx("div",{className:"flex items-center justify-center h-64",children:u.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"})}):u.jsxs("div",{className:"max-w-2xl mx-auto space-y-6",children:[u.jsx("div",{className:"flex items-center justify-between",children:i==="relationship"&&s?u.jsxs(ce,{to:`/people/${s}/relationship/new`,className:"flex items-center text-gray-600 hover:text-gray-900",children:[u.jsx(yn,{className:"w-4 h-4 md:mr-2"}),u.jsx("span",{className:"hidden md:inline",children:"Back to add relationship"})]}):u.jsxs(ce,{to:"/people",className:"flex items-center text-gray-600 hover:text-gray-900",children:[u.jsx(yn,{className:"w-4 h-4 md:mr-2"}),u.jsx("span",{className:"hidden md:inline",children:"Back to people"})]})}),u.jsxs("div",{className:"card p-6",children:[u.jsx("h1",{className:"text-xl font-bold mb-6",children:n?"Edit person":"Add new person"}),u.jsxs("form",{onSubmit:p(g),className:"space-y-6",children:[u.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"label",children:"First name *"}),u.jsx("input",{...f("first_name",{required:"First name is required"}),className:"input",placeholder:"John"}),y.first_name&&u.jsx("p",{className:"text-sm text-red-600 mt-1",children:y.first_name.message})]}),u.jsxs("div",{children:[u.jsx("label",{className:"label",children:"Last name"}),u.jsx("input",{...f("last_name"),className:"input",placeholder:"Doe"})]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"label",children:"Nickname"}),u.jsx("input",{...f("nickname"),className:"input",placeholder:"Johnny"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"label",children:"Gender"}),u.jsxs("select",{...f("gender"),className:"input",children:[u.jsx("option",{value:"",children:"Select gender..."}),u.jsx("option",{value:"male",children:"Male"}),u.jsx("option",{value:"female",children:"Female"}),u.jsx("option",{value:"non_binary",children:"Non-binary"}),u.jsx("option",{value:"other",children:"Other"}),u.jsx("option",{value:"prefer_not_to_say",children:"Prefer not to say"})]})]}),!n&&u.jsxs("div",{children:[u.jsx("label",{className:"label",children:"Email"}),u.jsx("input",{type:"email",...f("email"),className:"input",placeholder:"john@example.com"}),u.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Optional: If a Gravatar is associated with this email, it will be automatically set as the profile photo"})]}),!n&&u.jsxs("div",{children:[u.jsx("label",{className:"label",children:"Birthday"}),u.jsx("input",{type:"date",...f("birthday"),className:"input"}),u.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Optional: Set their birthday when creating a new person"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"label",children:"How we met"}),u.jsx("textarea",{...f("how_we_met"),className:"input",rows:4,placeholder:"We met at..."})]}),u.jsxs("div",{className:"flex items-center",children:[u.jsx("input",{type:"checkbox",...f("is_favorite"),className:"w-4 h-4 rounded border-gray-300 text-primary-600 focus:ring-primary-500"}),u.jsx("label",{className:"ml-2 text-sm text-gray-700",children:"Mark as favorite"})]}),u.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t",children:[i==="relationship"&&s?u.jsx(ce,{to:`/people/${s}/relationship/new`,className:"btn-secondary",children:"Cancel"}):u.jsx(ce,{to:"/people",className:"btn-secondary",children:"Cancel"}),u.jsxs("button",{type:"submit",className:"btn-primary",disabled:w,children:[w?u.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}):u.jsx(da,{className:"w-4 h-4 mr-2"}),n?"Save changes":"Create person"]})]})]})]})]})}function nie({value:t,onChange:e,companies:r,isLoading:n}){return u.jsxs("select",{value:t||"",onChange:i=>e(i.target.value?parseInt(i.target.value,10):null),className:"input",disabled:n,children:[u.jsx("option",{value:"",children:"Select an organization..."}),r.map(i=>{var s;return u.jsx("option",{value:i.id,children:((s=i.title)==null?void 0:s.rendered)||i.title},i.id)})]})}function wI(){var v,x;const{personId:t,index:e}=ps(),r=on();Vt();const n=parseInt(e,10),i=!isNaN(n),{data:s,isLoading:a}=Ou(t),o=Bd(),{data:l=[],isLoading:c}=ft({queryKey:["companies","all"],queryFn:async()=>(await Be.getCompanies({per_page:100,orderby:"title",order:"asc"})).data}),{register:d,handleSubmit:h,reset:f,watch:p,control:m,formState:{errors:y,isSubmitting:w}}=Nu({defaultValues:{company:null,job_title:"",description:"",start_date:"",end_date:"",is_current:!1}});$.useEffect(()=>{var b;if(s&&i){const E=(((b=s.acf)==null?void 0:b.work_history)||[])[n];E&&f({company:E.company||null,job_title:E.job_title||"",description:E.description||"",start_date:E.start_date||"",end_date:E.end_date||"",is_current:E.is_current||!1})}},[s,n,i,f]),xn(i?`Edit work history - ${((v=s==null?void 0:s.title)==null?void 0:v.rendered)||(s==null?void 0:s.title)||"person"}`:`Add work history - ${((x=s==null?void 0:s.title)==null?void 0:x.rendered)||(s==null?void 0:s.title)||"person"}`);const g=async b=>{var _;try{const E=[...((_=s.acf)==null?void 0:_.work_history)||[]],O={company:b.company||null,job_title:b.job_title||"",description:b.description||"",start_date:b.start_date||"",end_date:b.end_date||"",is_current:b.is_current||!1};i?E[n]=O:E.push(O);const S=Fa(s.acf,{work_history:E});await o.mutateAsync({id:t,data:{acf:S}}),r(`/people/${t}`)}catch(E){console.error("Failed to save work history:",E)}};return p("is_current"),a?u.jsx("div",{className:"flex items-center justify-center h-64",children:u.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"})}):s?u.jsxs("div",{className:"max-w-2xl mx-auto space-y-6",children:[u.jsx("div",{className:"flex items-center justify-between",children:u.jsxs(ce,{to:`/people/${t}`,className:"flex items-center text-gray-600 hover:text-gray-900",children:[u.jsx(yn,{className:"w-4 h-4 md:mr-2"}),u.jsx("span",{className:"hidden md:inline",children:"Back to person"})]})}),u.jsxs("div",{className:"card p-6",children:[u.jsx("h1",{className:"text-xl font-bold mb-6",children:i?"Edit work history":"Add work history"}),u.jsxs("form",{onSubmit:h(g),className:"space-y-6",children:[u.jsxs("div",{children:[u.jsx("label",{className:"label",children:"Organization"}),u.jsx(np,{name:"company",control:m,render:({field:b})=>u.jsx(nie,{value:b.value,onChange:b.onChange,companies:l,isLoading:c})})]}),u.jsxs("div",{children:[u.jsx("label",{className:"label",children:"Job title"}),u.jsx("input",{...d("job_title"),className:"input",placeholder:"e.g., Software Engineer"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"label",children:"Description"}),u.jsx("textarea",{...d("description"),className:"input",rows:4,placeholder:"Job description, responsibilities, achievements..."})]}),u.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"label",children:"Start date"}),u.jsx("input",{type:"date",...d("start_date"),className:"input"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"label",children:"End date"}),u.jsx("input",{type:"date",...d("end_date"),className:"input"}),u.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Optional: Set a future end date to automatically mark as former when it passes"})]})]}),u.jsxs("div",{className:"flex items-center",children:[u.jsx("input",{type:"checkbox",...d("is_current"),className:"w-4 h-4 rounded border-gray-300 text-primary-600 focus:ring-primary-500"}),u.jsx("label",{className:"ml-2 text-sm text-gray-700",children:"Currently works here"})]}),u.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t",children:[u.jsx(ce,{to:`/people/${t}`,className:"btn-secondary",children:"Cancel"}),u.jsxs("button",{type:"submit",className:"btn-primary",disabled:w,children:[w?u.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}):u.jsx(da,{className:"w-4 h-4 mr-2"}),i?"Save changes":"Add work history"]})]})]})]})]}):u.jsxs("div",{className:"card p-6 text-center",children:[u.jsx("p",{className:"text-red-600",children:"Failed to load person."}),u.jsx(ce,{to:"/people",className:"btn-secondary mt-4",children:"Back to people"})]})}const iie=[{value:"email",label:"Email"},{value:"phone",label:"Phone"},{value:"mobile",label:"Mobile"},{value:"address",label:"Address"},{value:"website",label:"Website"},{value:"linkedin",label:"LinkedIn"},{value:"twitter",label:"Twitter"},{value:"bluesky",label:"Bluesky"},{value:"threads",label:"Threads"},{value:"instagram",label:"Instagram"},{value:"facebook",label:"Facebook"},{value:"other",label:"Other"}];function xI(){var y,w;const{personId:t,index:e}=ps(),r=on(),n=Vt(),i=parseInt(e,10),s=!isNaN(i),{data:a,isLoading:o}=Ou(t),l=Bd(),{register:c,handleSubmit:d,reset:h,formState:{errors:f,isSubmitting:p}}=Nu({defaultValues:{contact_type:"",contact_label:"",contact_value:""}});$.useEffect(()=>{var g;if(a&&s){const x=(((g=a.acf)==null?void 0:g.contact_info)||[])[i];x&&h({contact_type:x.contact_type||"",contact_label:x.contact_label||"",contact_value:x.contact_value||""})}},[a,i,s,h]),xn(s?`Edit contact detail - ${((y=a==null?void 0:a.title)==null?void 0:y.rendered)||(a==null?void 0:a.title)||"person"}`:`Add contact detail - ${((w=a==null?void 0:a.title)==null?void 0:w.rendered)||(a==null?void 0:a.title)||"person"}`);const m=async g=>{var v,x,b,_;try{const E=[...((v=a.acf)==null?void 0:v.contact_info)||[]],O={contact_type:g.contact_type||"",contact_label:g.contact_label||"",contact_value:g.contact_value||""};s?E[i]=O:E.push(O);const S=Fa(a.acf,{contact_info:E});if(await l.mutateAsync({id:t,data:{acf:S}}),!s&&g.contact_type==="email"&&g.contact_value&&!(a.featured_media>0||((_=(b=(x=a._embedded)==null?void 0:x["wp:featuredmedia"])==null?void 0:b[0])==null?void 0:_.source_url)||a.thumbnail))try{await We.sideloadGravatar(t,g.contact_value),n.invalidateQueries({queryKey:["person",t]})}catch(P){console.log("No Gravatar found or failed to load:",P)}r(`/people/${t}`)}catch(E){console.error("Failed to save contact detail:",E)}};return o?u.jsx("div",{className:"flex items-center justify-center h-64",children:u.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"})}):a?u.jsxs("div",{className:"max-w-2xl mx-auto space-y-6",children:[u.jsx("div",{className:"flex items-center justify-between",children:u.jsxs(ce,{to:`/people/${t}`,className:"flex items-center text-gray-600 hover:text-gray-900",children:[u.jsx(yn,{className:"w-4 h-4 md:mr-2"}),u.jsx("span",{className:"hidden md:inline",children:"Back to person"})]})}),u.jsxs("div",{className:"card p-6",children:[u.jsx("h1",{className:"text-xl font-bold mb-6",children:s?"Edit contact detail":"Add contact detail"}),u.jsxs("form",{onSubmit:d(m),className:"space-y-6",children:[u.jsxs("div",{children:[u.jsx("label",{className:"label",children:"Contact type *"}),u.jsxs("select",{...c("contact_type",{required:"Please select a contact type"}),className:"input",children:[u.jsx("option",{value:"",children:"Select a type..."}),iie.map(g=>u.jsx("option",{value:g.value,children:g.label},g.value))]}),f.contact_type&&u.jsx("p",{className:"text-sm text-red-600 mt-1",children:f.contact_type.message})]}),u.jsxs("div",{children:[u.jsx("label",{className:"label",children:"Label"}),u.jsx("input",{...c("contact_label"),className:"input",placeholder:"e.g., Work, Personal, Home"}),u.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Optional: Add a label to distinguish multiple entries of the same type"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"label",children:"Value *"}),u.jsx("input",{...c("contact_value",{required:"Please enter a contact value"}),className:"input",placeholder:"e.g., john@example.com, +1 234 567 8900"}),f.contact_value&&u.jsx("p",{className:"text-sm text-red-600 mt-1",children:f.contact_value.message})]}),u.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t",children:[u.jsx(ce,{to:`/people/${t}`,className:"btn-secondary",children:"Cancel"}),u.jsxs("button",{type:"submit",className:"btn-primary",disabled:p,children:[p?u.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}):u.jsx(da,{className:"w-4 h-4 mr-2"}),s?"Save changes":"Add contact detail"]})]})]})]})]}):u.jsxs("div",{className:"card p-6 text-center",children:[u.jsx("p",{className:"text-red-600",children:"Failed to load person."}),u.jsx(ce,{to:"/people",className:"btn-secondary mt-4",children:"Back to people"})]})}function sie({value:t,onChange:e,people:r,isLoading:n,excludePersonId:i}){const[s,a]=$.useState(""),[o,l]=$.useState(!1),c=$.useRef(null),d=$.useRef(null),h=$.useMemo(()=>r.filter(v=>v.id!==i).sort((v,x)=>{var E,O;const b=(v.first_name||((E=v.acf)==null?void 0:E.first_name)||"").toLowerCase(),_=(x.first_name||((O=x.acf)==null?void 0:O.first_name)||"").toLowerCase();return b<_?-1:b>_?1:0}),[r,i]),f=$.useMemo(()=>{if(!s)return h.slice(0,10);const g=s.toLowerCase();return h.filter(v=>{var E,O;const x=io(v).toLowerCase(),b=(v.first_name||((E=v.acf)==null?void 0:E.first_name)||"").toLowerCase(),_=(v.last_name||((O=v.acf)==null?void 0:O.last_name)||"").toLowerCase();return x.includes(g)||b.includes(g)||_.includes(g)}).slice(0,10)},[h,s]),p=$.useMemo(()=>h.find(g=>g.id===t),[h,t]);$.useEffect(()=>{const g=v=>{d.current&&!d.current.contains(v.target)&&c.current&&!c.current.contains(v.target)&&l(!1)};return document.addEventListener("mousedown",g),()=>document.removeEventListener("mousedown",g)},[]);const m=g=>{e(g),a(""),l(!1)},y=()=>{e(null),a(""),l(!1)},w=p?io(p):"";return u.jsxs("div",{className:"relative",children:[u.jsx("div",{className:"relative",children:p&&!o?u.jsxs("div",{className:"flex items-center justify-between input pr-8 cursor-text",onClick:()=>l(!0),children:[u.jsx("span",{children:w}),u.jsx("button",{type:"button",onClick:g=>{g.stopPropagation(),y()},className:"absolute right-2 text-gray-400 hover:text-gray-600",children:u.jsx(ha,{className:"w-4 h-4"})})]}):u.jsx("input",{ref:c,type:"text",value:s,onChange:g=>{a(g.target.value),l(!0)},onFocus:()=>l(!0),placeholder:"Search for a person...",className:"input",disabled:n})}),o&&(s||!p)&&u.jsx("div",{ref:d,className:"absolute z-10 w-full mt-1 bg-white border border-gray-200 rounded-lg shadow-lg max-h-48 overflow-y-auto",children:f.length>0?f.map(g=>u.jsx("button",{type:"button",onClick:()=>m(g.id),className:`w-full text-left px-4 py-2 hover:bg-gray-50 ${t===g.id?"bg-primary-50":""}`,children:io(g)},g.id)):u.jsx("p",{className:"px-4 py-2 text-gray-500 text-sm",children:"No people found"})})]})}function _I(){var E,O;const{personId:t,index:e}=ps(),r=on(),[n]=SP(),i=Vt(),s=parseInt(e,10),a=!isNaN(s),{data:o,isLoading:l}=Ou(t),c=Bd(),{data:d=[],isLoading:h}=Vp(),{data:f=[],isLoading:p}=ft({queryKey:["relationship-types"],queryFn:async()=>(await Be.getRelationshipTypes()).data}),{register:m,handleSubmit:y,reset:w,control:g,setValue:v,formState:{errors:x,isSubmitting:b}}=Nu({defaultValues:{related_person:null,relationship_type:"",relationship_label:""}});$.useEffect(()=>{const S=n.get("newPersonId");if(S&&!a&&!h){const N=parseInt(S,10);if(!isNaN(N))if(d.some(I=>I.id===N)){v("related_person",N);const I=new URLSearchParams(n);I.delete("newPersonId"),r({search:I.toString()},{replace:!0})}else(async()=>{try{await i.invalidateQueries({queryKey:["people"]});const{data:C=[]}=await i.refetchQueries({queryKey:["people"]});C.some(B=>B.id===N)&&v("related_person",N);const M=new URLSearchParams(n);M.delete("newPersonId"),r({search:M.toString()},{replace:!0})}catch(C){console.error("Failed to load new person:",C);const T=new URLSearchParams(n);T.delete("newPersonId"),r({search:T.toString()},{replace:!0})}})()}},[n,a,h,d,v,r,i]),$.useEffect(()=>{var S;if(o&&a){const P=(((S=o.acf)==null?void 0:S.relationships)||[])[s];P&&w({related_person:P.related_person||null,relationship_type:P.relationship_type?String(P.relationship_type):"",relationship_label:P.relationship_label||""})}},[o,s,a,w]),xn(a?`Edit relationship - ${((E=o==null?void 0:o.title)==null?void 0:E.rendered)||(o==null?void 0:o.title)||"person"}`:`Add relationship - ${((O=o==null?void 0:o.title)==null?void 0:O.rendered)||(o==null?void 0:o.title)||"person"}`);const _=async S=>{var N;try{const P=[...((N=o.acf)==null?void 0:N.relationships)||[]],I={related_person:S.related_person||null,relationship_type:S.relationship_type||null,relationship_label:S.relationship_label||""};a?P[s]=I:P.push(I);const C=Fa(o.acf,{relationships:P});await c.mutateAsync({id:t,data:{acf:C}}),r(`/people/${t}`)}catch(P){console.error("Failed to save relationship:",P)}};return l?u.jsx("div",{className:"flex items-center justify-center h-64",children:u.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"})}):o?u.jsxs("div",{className:"max-w-2xl mx-auto space-y-6",children:[u.jsx("div",{className:"flex items-center justify-between",children:u.jsxs(ce,{to:`/people/${t}`,className:"flex items-center text-gray-600 hover:text-gray-900",children:[u.jsx(yn,{className:"w-4 h-4 md:mr-2"}),u.jsx("span",{className:"hidden md:inline",children:"Back to person"})]})}),u.jsxs("div",{className:"card p-6",children:[u.jsx("h1",{className:"text-xl font-bold mb-6",children:a?"Edit relationship":"Add relationship"}),u.jsxs("form",{onSubmit:y(_),className:"space-y-6",children:[u.jsxs("div",{children:[u.jsx("label",{className:"label",children:"Related person *"}),u.jsx(np,{name:"related_person",control:g,rules:{required:"Please select a person"},render:({field:S})=>u.jsx(sie,{value:S.value,onChange:S.onChange,people:d,isLoading:h,excludePersonId:parseInt(t,10)})}),x.related_person&&u.jsx("p",{className:"text-sm text-red-600 mt-1",children:x.related_person.message}),!a&&u.jsx("div",{className:"mt-2",children:u.jsxs(ce,{to:`/people/new?returnTo=relationship&sourcePersonId=${t}`,className:"inline-flex items-center gap-1 text-sm text-primary-600 hover:text-primary-700",children:[u.jsx(gr,{className:"w-4 h-4"}),"Add new person"]})})]}),u.jsxs("div",{children:[u.jsx("label",{className:"label",children:"Relationship type"}),u.jsxs("select",{...m("relationship_type",{setValueAs:S=>S?parseInt(S,10):null}),className:"input",disabled:p,children:[u.jsx("option",{value:"",children:"Select a type..."}),f.map(S=>u.jsx("option",{value:S.id,children:S.name},S.id))]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"label",children:"Custom label"}),u.jsx("input",{...m("relationship_label"),className:"input",placeholder:"e.g., Brother-in-law"}),u.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Optional: Override the relationship type with a custom label"})]}),u.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t",children:[u.jsx(ce,{to:`/people/${t}`,className:"btn-secondary",children:"Cancel"}),u.jsxs("button",{type:"submit",className:"btn-primary",disabled:b,children:[b?u.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}):u.jsx(da,{className:"w-4 h-4 mr-2"}),a?"Save changes":"Add relationship"]})]})]})]})]}):u.jsxs("div",{className:"card p-6 text-center",children:[u.jsx("p",{className:"text-red-600",children:"Failed to load person."}),u.jsx(ce,{to:"/people",className:"btn-secondary mt-4",children:"Back to people"})]})}function aie({company:t}){var e,r,n,i,s;return u.jsx(ce,{to:`/companies/${t.id}`,className:"card p-4 hover:shadow-md transition-shadow",children:u.jsxs("div",{className:"flex items-start",children:[(n=(r=(e=t._embedded)==null?void 0:e["wp:featuredmedia"])==null?void 0:r[0])!=null&&n.source_url?u.jsx("img",{src:t._embedded["wp:featuredmedia"][0].source_url,alt:Yi(t),className:"w-12 h-12 rounded-lg object-contain bg-white"}):u.jsx("div",{className:"w-12 h-12 bg-white rounded-lg flex items-center justify-center border border-gray-200",children:u.jsx(us,{className:"w-6 h-6 text-gray-400"})}),u.jsxs("div",{className:"ml-3 flex-1 min-w-0",children:[u.jsx("h3",{className:"text-sm font-medium text-gray-900 truncate",children:Yi(t)}),((i=t.acf)==null?void 0:i.industry)&&u.jsx("p",{className:"text-sm text-gray-500",children:t.acf.industry}),((s=t.acf)==null?void 0:s.website)&&u.jsx("p",{className:"text-xs text-primary-600 truncate",children:t.acf.website})]})]})})}function oie(){const[t,e]=$.useState(""),{data:r,isLoading:n,error:i}=ft({queryKey:["companies",t],queryFn:async()=>(await Be.getCompanies({search:t,per_page:100,_embed:!0})).data}),s=$.useMemo(()=>r?[...r].sort((a,o)=>{var d,h;const l=(((d=a.title)==null?void 0:d.rendered)||a.title||"").toLowerCase(),c=(((h=o.title)==null?void 0:h.rendered)||o.title||"").toLowerCase();return l.localeCompare(c)}):[],[r]);return u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[u.jsxs("div",{className:"relative flex-1 max-w-md",children:[u.jsx(bH,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}),u.jsx("input",{type:"search",placeholder:"Search organizations...",value:t,onChange:a=>e(a.target.value),className:"input pl-9"})]}),u.jsxs(ce,{to:"/companies/new",className:"btn-primary",children:[u.jsx(gr,{className:"w-4 h-4 md:mr-2"}),u.jsx("span",{className:"hidden md:inline",children:"Add organization"})]})]}),n&&u.jsx("div",{className:"flex items-center justify-center h-64",children:u.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"})}),i&&u.jsx("div",{className:"card p-6 text-center",children:u.jsx("p",{className:"text-red-600",children:"Failed to load organizations."})}),!n&&!i&&(s==null?void 0:s.length)===0&&u.jsxs("div",{className:"card p-12 text-center",children:[u.jsx("div",{className:"w-12 h-12 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4",children:u.jsx(us,{className:"w-6 h-6 text-gray-400"})}),u.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-1",children:"No organizations found"}),u.jsx("p",{className:"text-gray-500 mb-4",children:t?"Try a different search.":"Add your first organization."}),!t&&u.jsxs(ce,{to:"/companies/new",className:"btn-primary",children:[u.jsx(gr,{className:"w-4 h-4 md:mr-2"}),u.jsx("span",{className:"hidden md:inline",children:"Add organization"})]})]}),!n&&!i&&(s==null?void 0:s.length)>0&&u.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:s.map(a=>u.jsx(aie,{company:a},a.id))})]})}function lie(){var d,h,f,p,m,y;const{id:t}=ps(),e=on(),r=Vt(),{data:n,isLoading:i,error:s}=ft({queryKey:["company",t],queryFn:async()=>(await Be.getCompany(t,{_embed:!0})).data}),{data:a}=ft({queryKey:["company-people",t],queryFn:async()=>(await We.getCompanyPeople(t)).data}),o=wt({mutationFn:()=>Be.deleteCompany(t,{force:!0}),onSuccess:()=>{r.invalidateQueries({queryKey:["companies"]}),e("/companies")}});xn(Yi(n)||"Organization"),$.useEffect(()=>{(n==null?void 0:n.status)==="trash"&&e("/companies",{replace:!0})},[n,e]);const l=async()=>{if(window.confirm("Are you sure you want to delete this organization?"))try{await o.mutateAsync()}catch(w){console.error("Failed to delete company:",w),alert("Failed to delete organization. Please try again.")}};if(i)return u.jsx("div",{className:"flex items-center justify-center h-64",children:u.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"})});if(s||!n)return u.jsxs("div",{className:"card p-6 text-center",children:[u.jsx("p",{className:"text-red-600",children:"Failed to load organization."}),u.jsx(ce,{to:"/companies",className:"btn-secondary mt-4",children:"Back to organizations"})]});if(n.status==="trash")return null;const c=n.acf||{};return u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs(ce,{to:"/companies",className:"flex items-center text-gray-600 hover:text-gray-900",children:[u.jsx(yn,{className:"w-4 h-4 md:mr-2"}),u.jsx("span",{className:"hidden md:inline",children:"Back to organizations"})]}),u.jsxs("div",{className:"flex gap-2",children:[u.jsxs(ce,{to:`/companies/${t}/edit`,className:"btn-secondary",children:[u.jsx(SH,{className:"w-4 h-4 mr-2"}),"Edit"]}),u.jsxs("button",{onClick:l,className:"btn-danger",children:[u.jsx(bi,{className:"w-4 h-4 mr-2"}),"Delete"]})]})]}),u.jsx("div",{className:"card p-6",children:u.jsxs("div",{className:"flex items-center gap-4",children:[(f=(h=(d=n._embedded)==null?void 0:d["wp:featuredmedia"])==null?void 0:h[0])!=null&&f.source_url?u.jsx("img",{src:n._embedded["wp:featuredmedia"][0].source_url,alt:Yi(n),className:"w-24 h-24 rounded-lg object-contain bg-white"}):u.jsx("div",{className:"w-24 h-24 bg-white rounded-lg flex items-center justify-center border border-gray-200",children:u.jsx(us,{className:"w-12 h-12 text-gray-400"})}),u.jsxs("div",{children:[u.jsx("h1",{className:"text-2xl font-bold",children:Yi(n)}),c.industry&&u.jsx("p",{className:"text-gray-500",children:c.industry}),c.website&&u.jsxs("a",{href:c.website,target:"_blank",rel:"noopener noreferrer",className:"text-primary-600 hover:underline flex items-center mt-1",children:[u.jsx(wf,{className:"w-4 h-4 mr-1"}),c.website]})]})]})}),u.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[u.jsxs("div",{className:"card p-6",children:[u.jsxs("h2",{className:"font-semibold mb-4 flex items-center",children:[u.jsx(ta,{className:"w-5 h-5 mr-2"}),"Current employees"]}),((p=a==null?void 0:a.current)==null?void 0:p.length)>0?u.jsx("div",{className:"space-y-2",children:a.current.map(w=>{var g;return u.jsxs(ce,{to:`/people/${w.id}`,className:"flex items-center p-2 rounded hover:bg-gray-50",children:[w.thumbnail?u.jsx("img",{src:w.thumbnail,alt:"",loading:"lazy",className:"w-8 h-8 rounded-full"}):u.jsx("div",{className:"w-8 h-8 bg-gray-200 rounded-full flex items-center justify-center",children:u.jsx("span",{className:"text-xs text-gray-500",children:((g=w.name)==null?void 0:g[0])||"?"})}),u.jsxs("div",{className:"ml-2",children:[u.jsx("p",{className:"text-sm font-medium",children:w.name}),w.job_title&&u.jsx("p",{className:"text-xs text-gray-500",children:w.job_title})]})]},w.id)})}):u.jsx("p",{className:"text-sm text-gray-500",children:"No current employees."})]}),u.jsxs("div",{className:"card p-6",children:[u.jsxs("h2",{className:"font-semibold mb-4 flex items-center",children:[u.jsx(ta,{className:"w-5 h-5 mr-2"}),"Former employees"]}),((m=a==null?void 0:a.former)==null?void 0:m.length)>0?u.jsx("div",{className:"space-y-2",children:a.former.map(w=>{var g;return u.jsxs(ce,{to:`/people/${w.id}`,className:"flex items-center p-2 rounded hover:bg-gray-50",children:[w.thumbnail?u.jsx("img",{src:w.thumbnail,alt:"",loading:"lazy",className:"w-8 h-8 rounded-full opacity-75"}):u.jsx("div",{className:"w-8 h-8 bg-gray-200 rounded-full flex items-center justify-center opacity-75",children:u.jsx("span",{className:"text-xs text-gray-500",children:((g=w.name)==null?void 0:g[0])||"?"})}),u.jsxs("div",{className:"ml-2",children:[u.jsx("p",{className:"text-sm font-medium text-gray-700",children:w.name}),w.job_title&&u.jsx("p",{className:"text-xs text-gray-500",children:w.job_title})]})]},w.id)})}):u.jsx("p",{className:"text-sm text-gray-500",children:"No former employees."})]})]}),((y=c.contact_info)==null?void 0:y.length)>0&&u.jsxs("div",{className:"card p-6",children:[u.jsx("h2",{className:"font-semibold mb-4",children:"Contact information"}),u.jsx("div",{className:"space-y-3",children:c.contact_info.map((w,g)=>u.jsxs("div",{children:[u.jsxs("span",{className:"text-sm text-gray-500",children:[w.contact_label||w.contact_type,":"]}),u.jsx("span",{className:"ml-2",children:w.contact_value})]},g))})]})]})}function SI(){var v,x,b,_,E,O;const{id:t}=ps(),e=on(),r=Vt(),n=!!t,{data:i,isLoading:s}=ft({queryKey:["company",t],queryFn:async()=>(await Be.getCompany(t,{_embed:!0})).data,enabled:n}),[a,o]=$.useState(!1),l=$.useRef(null),c=wt({mutationFn:S=>Be.createCompany(S),onSuccess:S=>{r.invalidateQueries({queryKey:["companies"]}),e(`/companies/${S.data.id}`)}}),d=wt({mutationFn:S=>Be.updateCompany(t,S),onSuccess:()=>{r.invalidateQueries({queryKey:["company",t]}),r.invalidateQueries({queryKey:["companies"]}),r.invalidateQueries({queryKey:["people"]}),e(`/companies/${t}`)}}),h=async S=>{var P;const N=(P=S.target.files)==null?void 0:P[0];if(N){if(!N.type.startsWith("image/")){alert("Please select an image file");return}if(N.size>5*1024*1024){alert("Image size must be less than 5MB");return}o(!0);try{await We.uploadCompanyLogo(t,N),r.invalidateQueries({queryKey:["company",t]}),r.invalidateQueries({queryKey:["companies"]}),r.invalidateQueries({queryKey:["people"]}),r.refetchQueries({queryKey:["company",t]}),r.refetchQueries({queryKey:["companies"]}),r.refetchQueries({queryKey:["people"]})}catch(I){console.error("Failed to upload logo:",I),alert("Failed to upload logo. Please try again.")}finally{o(!1),l.current&&(l.current.value="")}}},{register:f,handleSubmit:p,reset:m,formState:{errors:y,isSubmitting:w}}=Nu();$.useEffect(()=>{var S,N,P;i&&m({title:ri(((S=i.title)==null?void 0:S.rendered)||""),website:((N=i.acf)==null?void 0:N.website)||"",industry:((P=i.acf)==null?void 0:P.industry)||""})},[i,m]),xn(n&&i?`Edit ${Yi(i)||"organization"}`:"New organization");const g=async S=>{const N={title:S.title,status:"publish",acf:{website:S.website,industry:S.industry}};n?d.mutate(N):c.mutate(N)};return n&&s?u.jsx("div",{className:"flex items-center justify-center h-64",children:u.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"})}):u.jsxs("div",{className:"max-w-2xl mx-auto space-y-6",children:[u.jsx("div",{className:"flex items-center justify-between",children:u.jsxs(ce,{to:"/companies",className:"flex items-center text-gray-600 hover:text-gray-900",children:[u.jsx(yn,{className:"w-4 h-4 md:mr-2"}),u.jsx("span",{className:"hidden md:inline",children:"Back to organizations"})]})}),u.jsxs("div",{className:"card p-6",children:[u.jsx("h1",{className:"text-xl font-bold mb-6",children:n?"Edit organization":"Add new organization"}),u.jsxs("form",{onSubmit:p(g),className:"space-y-6",children:[n&&u.jsxs("div",{children:[u.jsx("label",{className:"label",children:"Logo"}),u.jsxs("div",{className:"flex items-center gap-4",children:[(b=(x=(v=i==null?void 0:i._embedded)==null?void 0:v["wp:featuredmedia"])==null?void 0:x[0])!=null&&b.source_url?u.jsxs("div",{className:"relative group",children:[u.jsx("img",{src:i._embedded["wp:featuredmedia"][0].source_url,alt:Yi(i)||"Organization logo",className:"w-20 h-20 rounded-lg object-contain bg-white"}),u.jsx("div",{className:"absolute inset-0 rounded-lg bg-black bg-opacity-0 group-hover:bg-opacity-50 transition-all duration-200 flex items-center justify-center cursor-pointer",onClick:()=>{var S;return(S=l.current)==null?void 0:S.click()},children:a?u.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-white"}):u.jsx(bf,{className:"w-6 h-6 text-white opacity-0 group-hover:opacity-100 transition-opacity"})})]}):u.jsxs("div",{className:"relative group",children:[u.jsx("div",{className:"w-20 h-20 bg-gray-200 rounded-lg flex items-center justify-center",children:u.jsx(bf,{className:"w-8 h-8 text-gray-400"})}),u.jsx("div",{className:"absolute inset-0 rounded-lg bg-black bg-opacity-0 group-hover:bg-opacity-50 transition-all duration-200 flex items-center justify-center cursor-pointer",onClick:()=>{var S;return(S=l.current)==null?void 0:S.click()},children:a?u.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-white"}):u.jsx(bf,{className:"w-6 h-6 text-white opacity-0 group-hover:opacity-100 transition-opacity"})})]}),u.jsxs("div",{children:[u.jsx("button",{type:"button",onClick:()=>{var S;return(S=l.current)==null?void 0:S.click()},className:"btn-secondary text-sm",disabled:a,children:(O=(E=(_=i==null?void 0:i._embedded)==null?void 0:_["wp:featuredmedia"])==null?void 0:E[0])!=null&&O.source_url?"Change logo":"Upload logo"}),u.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Click the logo or button to upload a new logo"})]}),u.jsx("input",{ref:l,type:"file",accept:"image/*",onChange:h,className:"hidden",disabled:a})]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"label",children:"Organization name *"}),u.jsx("input",{...f("title",{required:"Organization name is required"}),className:"input",placeholder:"Acme Inc."}),y.title&&u.jsx("p",{className:"text-sm text-red-600 mt-1",children:y.title.message})]}),u.jsxs("div",{children:[u.jsx("label",{className:"label",children:"Website"}),u.jsx("input",{...f("website"),type:"url",className:"input",placeholder:"https://example.com"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"label",children:"Industry"}),u.jsx("input",{...f("industry"),className:"input",placeholder:"Technology"})]}),u.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t",children:[u.jsx(ce,{to:"/companies",className:"btn-secondary",children:"Cancel"}),u.jsxs("button",{type:"submit",className:"btn-primary",disabled:w,children:[u.jsx(da,{className:"w-4 h-4 mr-2"}),n?"Save changes":"Create organization"]})]})]})]})]})}function uie({person:t,dateType:e}){var r;return u.jsx("div",{className:"flex items-center gap-3 py-2",children:u.jsxs(ce,{to:`/people/${t.id}`,className:"flex items-center gap-3 flex-1 min-w-0 hover:opacity-80",children:[t.thumbnail?u.jsx("img",{src:t.thumbnail,alt:t.name,loading:"lazy",className:"w-10 h-10 rounded-full object-cover flex-shrink-0"}):u.jsx("div",{className:"w-10 h-10 rounded-full bg-gray-200 flex items-center justify-center flex-shrink-0",children:u.jsx("span",{className:"text-sm font-medium text-gray-500",children:(r=t.name)==null?void 0:r[0]})}),u.jsx("span",{className:"font-medium truncate",children:t.name}),u.jsx("span",{className:"text-sm text-gray-500 capitalize flex-shrink-0",children:e})]})})}function cie({dates:t}){const e=t[0],n=e.days_until===0?"bg-green-100 text-green-700":"bg-gray-100 text-gray-600",i=[];return t.forEach(s=>{var o,l;const a=((o=s.date_type)==null?void 0:o[0])||"Date";((l=s.related_people)==null?void 0:l.length)>0?s.related_people.forEach(c=>{i.push({person:c,dateType:a})}):i.push({person:{id:null,name:s.title,thumbnail:null},dateType:a})}),u.jsx("div",{className:"card p-4 break-inside-avoid mb-4",children:u.jsxs("div",{className:"flex items-start gap-4",children:[u.jsx("div",{className:`w-14 h-14 rounded-lg ${n} flex items-center justify-center flex-shrink-0`,children:u.jsx("span",{className:"text-2xl font-bold leading-none",children:wi(new Date(e.next_occurrence),"d")})}),u.jsx("div",{className:"flex-1 min-w-0 divide-y divide-gray-100",children:i.map(({person:s,dateType:a},o)=>u.jsx(uie,{person:s,dateType:a},s.id?`${s.id}-${a}`:`${o}-${a}`))})]})})}function die(){const{data:t,isLoading:e,error:r}=Jte(365),n=(t==null?void 0:t.reduce((s,a)=>{const o=wi(new Date(a.next_occurrence),"yyyy-MM-dd");return s[o]||(s[o]=[]),s[o].push(a),s},{}))||{},i=Object.entries(n).reduce((s,[a,o])=>{const l=wi(new Date(a),"MMMM yyyy");return s[l]||(s[l]=[]),s[l].push(o),s},{});return u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("p",{className:"text-gray-600",children:[(t==null?void 0:t.length)||0," upcoming dates"]}),u.jsxs(ce,{to:"/dates/new",className:"btn-primary",children:[u.jsx(gr,{className:"w-4 h-4 md:mr-2"}),u.jsx("span",{className:"hidden md:inline",children:"Add date"})]})]}),e&&u.jsx("div",{className:"flex items-center justify-center h-64",children:u.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"})}),r&&u.jsx("div",{className:"card p-6 text-center",children:u.jsx("p",{className:"text-red-600",children:"Failed to load dates."})}),!e&&!r&&(t==null?void 0:t.length)===0&&u.jsxs("div",{className:"card p-12 text-center",children:[u.jsx(no,{className:"w-12 h-12 text-gray-300 mx-auto mb-4"}),u.jsx("h3",{className:"text-lg font-medium mb-1",children:"No important dates"}),u.jsx("p",{className:"text-gray-500 mb-4",children:"Add birthdays, anniversaries, and more."}),u.jsxs(ce,{to:"/dates/new",className:"btn-primary",children:[u.jsx(gr,{className:"w-4 h-4 md:mr-2"}),u.jsx("span",{className:"hidden md:inline",children:"Add date"})]})]}),Object.entries(i).map(([s,a])=>u.jsxs("div",{children:[u.jsx("h2",{className:"text-2xl font-semibold text-gray-700 mb-4",children:s}),u.jsx("div",{className:"columns-1 md:columns-2 lg:columns-3 gap-4",children:a.map(o=>u.jsx(cie,{dates:o},o[0].next_occurrence))})]},s))]})}function hie({value:t=[],onChange:e,people:r=[],isLoading:n}){const[i,s]=$.useState(""),a=$.useMemo(()=>{if(!i)return r.slice(0,10);const d=i.toLowerCase();return r.filter(h=>io(h).toLowerCase().includes(d)).slice(0,10)},[r,i]),o=$.useMemo(()=>t.map(d=>r.find(h=>h.id===d)).filter(Boolean),[t,r]),l=d=>{t.includes(d)||e([...t,d]),s("")},c=d=>{e(t.filter(h=>h!==d))};return u.jsxs("div",{className:"space-y-2",children:[o.length>0&&u.jsx("div",{className:"flex flex-wrap gap-2",children:o.map(d=>u.jsxs("span",{className:"inline-flex items-center gap-1 px-3 py-1 bg-primary-100 text-primary-800 rounded-full text-sm",children:[io(d),u.jsx("button",{type:"button",onClick:()=>c(d.id),className:"hover:text-primary-600",children:u.jsx(ha,{className:"w-3 h-3"})})]},d.id))}),u.jsxs("div",{className:"relative",children:[u.jsx("input",{type:"text",value:i,onChange:d=>s(d.target.value),placeholder:"Search for people...",className:"input",disabled:n}),i&&u.jsx("div",{className:"absolute z-10 w-full mt-1 bg-white border border-gray-200 rounded-lg shadow-lg max-h-48 overflow-y-auto",children:a.length>0?a.map(d=>u.jsx("button",{type:"button",onClick:()=>l(d.id),disabled:t.includes(d.id),className:`w-full text-left px-4 py-2 hover:bg-gray-50 ${t.includes(d.id)?"opacity-50 cursor-not-allowed":""}`,children:io(d)},d.id)):u.jsx("p",{className:"px-4 py-2 text-gray-500 text-sm",children:"No people found"})})]})]})}function EI(){var W;const{id:t}=ps(),[e]=SP(),r=on(),n=Vt(),i=!!t,s=e.get("person"),a=e.get("type"),{data:o,isLoading:l}=ft({queryKey:["important-date",t],queryFn:async()=>(await Be.getDate(t)).data,enabled:i}),c=$.useMemo(()=>{var z;if(!((z=o==null?void 0:o.acf)!=null&&z.related_people))return[];const U=o.acf.related_people;return Array.isArray(U)?U.map(Y=>parseInt(typeof Y=="object"&&Y!==null?Y.ID||Y.id||Y.post_id:Y,10)).filter(Y=>!isNaN(Y)&&Y>0):[]},[o]),{data:d=[],isLoading:h}=Vp({orderby:"title",order:"asc"}),{data:f=[]}=ft({queryKey:["people","specific",c],queryFn:async()=>{const U=c.map(Y=>Be.getPerson(Y,{_embed:!0}).then(fe=>fe.data).catch(()=>null));return(await Promise.all(U)).filter(Boolean)},enabled:c.length>0}),p=$.useMemo(()=>{const U=new Map;return d.forEach(z=>U.set(z.id,z)),f.forEach(z=>{var fe,ye,De,pe,Ee,Ce,Ve,At,gt,Qt,rt,rr,Ze,fr,et,yt;const Y={...z,id:z.id,name:io(z),first_name:((fe=z.acf)==null?void 0:fe.first_name)||"",last_name:((ye=z.acf)==null?void 0:ye.last_name)||"",is_favorite:((De=z.acf)==null?void 0:De.is_favorite)||!1,thumbnail:((Ce=(Ee=(pe=z._embedded)==null?void 0:pe["wp:featuredmedia"])==null?void 0:Ee[0])==null?void 0:Ce.source_url)||((rr=(rt=(Qt=(gt=(At=(Ve=z._embedded)==null?void 0:Ve["wp:featuredmedia"])==null?void 0:At[0])==null?void 0:gt.media_details)==null?void 0:Qt.sizes)==null?void 0:rt.thumbnail)==null?void 0:rr.source_url)||null,labels:((yt=(et=(fr=(Ze=z._embedded)==null?void 0:Ze["wp:term"])==null?void 0:fr.flat())==null?void 0:et.filter(jr=>(jr==null?void 0:jr.taxonomy)==="person_label"))==null?void 0:yt.map(jr=>jr.name))||[]};U.set(Y.id,Y)}),Array.from(U.values())},[d,f]),{data:m=[]}=ft({queryKey:["date-types"],queryFn:async()=>((await Be.getDateTypes()).data||[]).sort((Y,fe)=>{const ye=Y.name||"",De=fe.name||"";return ye.localeCompare(De)})}),y=wt({mutationFn:U=>Be.createDate(U),onSuccess:()=>{n.invalidateQueries({queryKey:["reminders"]}),r(s?`/people/${s}`:"/dates")}}),w=wt({mutationFn:U=>Be.updateDate(t,U),onSuccess:()=>{n.invalidateQueries({queryKey:["reminders"]}),n.invalidateQueries({queryKey:["important-date",t]}),n.invalidateQueries({queryKey:["people"]});const U=b("related_people");(U==null?void 0:U.length)>0?r(`/people/${U[0]}`):r("/dates")}}),{register:g,handleSubmit:v,reset:x,watch:b,setValue:_,control:E,formState:{errors:O,isSubmitting:S}}=Nu({defaultValues:{title:"",date_value:"",date_type:"",related_people:[],is_recurring:!0}}),N=b("related_people"),P=b("date_type"),I=b("title");$.useEffect(()=>{var Y;if((!I||["'s Birthday","Wedding of "].some(fe=>I.endsWith(fe)||I.startsWith(fe)))&&(N==null?void 0:N.length)>0&&P){const fe=m.find(Ee=>Ee.id===parseInt(P)),ye=(fe==null?void 0:fe.name)||"",De=((Y=fe==null?void 0:fe.slug)==null?void 0:Y.toLowerCase())||ye.toLowerCase(),pe=N.map(Ee=>{var Ve,At,gt;const Ce=p.find(Qt=>Qt.id===Ee);return Ce?ri(((Ve=Ce.acf)==null?void 0:Ve.first_name)||((gt=(At=Ce.title)==null?void 0:At.rendered)==null?void 0:gt.split(" ")[0])||""):null}).filter(Boolean);if(pe.length>0&&ye){let Ee;De==="wedding"?pe.length>=2?Ee=`Wedding of ${pe[0]} & ${pe[1]}`:Ee=`Wedding of ${pe[0]}`:Ee=`${pe[0]}'s ${ye}`,_("title",Ee)}}},[N,P,p,m,_,I]);const[C,T]=$.useState(!1);$.useEffect(()=>{var z,Y,fe,ye,De;if(C&&!i)return;const U=c.length===0||f.length>0;if(o&&p.length>0&&U){let pe=[];const Ee=(z=o.acf)==null?void 0:z.related_people;Ee&&(Array.isArray(Ee)?pe=Ee.map(Ve=>parseInt(typeof Ve=="object"&&Ve!==null?Ve.ID||Ve.id||Ve.post_id:Ve,10)).filter(Ve=>!isNaN(Ve)&&Ve>0):typeof Ee=="number"&&(pe=[Ee]));let Ce="";((Y=o.date_type)==null?void 0:Y.length)>0&&(Ce=o.date_type[0].toString()),x({title:ri(((fe=o.title)==null?void 0:fe.rendered)||""),date_value:((ye=o.acf)==null?void 0:ye.date_value)||"",date_type:Ce,related_people:pe,is_recurring:((De=o.acf)==null?void 0:De.is_recurring)??!0}),T(!0)}else if(!i&&p.length>0&&m.length>0){const pe={title:"",date_value:"",date_type:"",related_people:[],is_recurring:!0};if(s&&(pe.related_people=[parseInt(s)]),a){const Ee=m.find(Ce=>Ce.slug===a||Ce.name.toLowerCase()===a.toLowerCase());Ee&&(pe.date_type=Ee.id.toString())}x(pe),T(!0)}},[o,x,i,s,a,m,p,c,f,C]),xn(i&&o?`Edit ${((W=o.title)==null?void 0:W.rendered)||o.title||"date"}`:"New date");const M=async U=>{const z={title:U.title,status:"publish",date_type:U.date_type?[parseInt(U.date_type)]:[],acf:{date_value:U.date_value,related_people:U.related_people,is_recurring:U.is_recurring}};i?w.mutate(z):y.mutate(z)};if(i&&l)return u.jsx("div",{className:"flex items-center justify-center h-64",children:u.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"})});const B=b("related_people"),Q=i&&(B==null?void 0:B.length)>0?B[0]:s,G=Q?`/people/${Q}`:"/dates",F=Q?"Back to person":"Back to dates";return u.jsxs("div",{className:"max-w-2xl mx-auto space-y-6",children:[u.jsx("div",{className:"flex items-center justify-between",children:u.jsxs(ce,{to:G,className:"flex items-center text-gray-600 hover:text-gray-900",children:[u.jsx(yn,{className:"w-4 h-4 md:mr-2"}),u.jsx("span",{className:"hidden md:inline",children:F})]})}),u.jsxs("div",{className:"card p-6",children:[u.jsx("h1",{className:"text-xl font-bold mb-6",children:i?"Edit date":"Add new date"}),u.jsxs("form",{onSubmit:v(M),className:"space-y-6",children:[u.jsxs("div",{children:[u.jsx("label",{className:"label",children:"Related people"}),u.jsx(np,{name:"related_people",control:E,render:({field:U})=>u.jsx(hie,{value:U.value,onChange:U.onChange,people:p,isLoading:h})})]}),u.jsxs("div",{children:[u.jsx("label",{className:"label",children:"Date type *"}),u.jsx(np,{name:"date_type",control:E,rules:{required:"Please select a date type"},render:({field:U})=>{const z=U.value?String(U.value):"";return u.jsxs("select",{value:z,onChange:Y=>{const fe=Y.target.value;U.onChange(fe)},onBlur:U.onBlur,name:U.name,ref:U.ref,className:"input",children:[u.jsx("option",{value:"",children:"Select a type..."}),m.map(Y=>u.jsx("option",{value:String(Y.id),children:Y.name},Y.id))]})}}),O.date_type&&u.jsx("p",{className:"text-sm text-red-600 mt-1",children:O.date_type.message})]}),u.jsxs("div",{children:[u.jsx("label",{className:"label",children:"Label"}),u.jsx("input",{...g("title"),className:"input",placeholder:"e.g., Mom's Birthday, Wedding Anniversary"}),u.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Auto-generated from person and date type. You can customize it."})]}),u.jsxs("div",{children:[u.jsx("label",{className:"label",children:"Date *"}),u.jsx("input",{...g("date_value",{required:"Date is required"}),type:"date",className:"input"}),O.date_value&&u.jsx("p",{className:"text-sm text-red-600 mt-1",children:O.date_value.message})]}),u.jsxs("div",{className:"flex items-center",children:[u.jsx("input",{type:"checkbox",...g("is_recurring"),className:"w-4 h-4 rounded border-gray-300 text-primary-600 focus:ring-primary-500"}),u.jsx("label",{className:"ml-2 text-sm text-gray-700",children:"Repeats every year"})]}),u.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t",children:[u.jsx(ce,{to:G,className:"btn-secondary",children:"Cancel"}),u.jsxs("button",{type:"submit",className:"btn-primary",disabled:S,children:[u.jsx(da,{className:"w-4 h-4 mr-2"}),i?"Save changes":"Create date"]})]})]})]})]})}function fie(){const t=window.prmConfig||{},e=t.isAdmin||!1,[r,n]=$.useState(""),[i,s]=$.useState(""),[a,o]=$.useState(!0),[l,c]=$.useState(!1),[d,h]=$.useState(!1),[f,p]=$.useState([]),[m,y]=$.useState(""),[w,g]=$.useState(!1),[v,x]=$.useState(""),[b,_]=$.useState("09:00"),[E,O]=$.useState(!0),[S,N]=$.useState(!1),[P,I]=$.useState(!1),[C,T]=$.useState(!1),[M,B]=$.useState(""),[Q,G]=$.useState(!1),[F,W]=$.useState([]),[U,z]=$.useState([]),[Y,fe]=$.useState([]),[ye,De]=$.useState(!1),[pe,Ee]=$.useState(!1),[Ce,Ve]=$.useState(!1),[At,gt]=$.useState("");$.useEffect(()=>{(async()=>{try{const k=await le.get("/prm/v1/user/ical-url");n(k.data.url),s(k.data.webcal_url)}catch(k){console.error("Failed to fetch iCal URL:",k)}finally{o(!1)}})()},[]),$.useEffect(()=>{(async()=>{try{const k=await We.getNotificationChannels();p(k.data.channels||["email"]),y(k.data.slack_webhook||""),_(k.data.notification_time||"09:00");const q=await We.getSlackStatus();g(q.data.connected||!1),x(q.data.workspace_name||"")}catch(k){console.error("Failed to fetch notification channels:",k)}finally{O(!1)}})()},[]),$.useEffect(()=>{const j=new URLSearchParams(window.location.search),k=j.get("slack_connected"),q=j.get("slack_error");k==="1"?(B("Slack connected successfully!"),We.getSlackStatus().then(async J=>{const V=J.data.connected||!1;if(g(V),x(J.data.workspace_name||""),V)try{const[H,ue]=await Promise.all([We.getSlackChannels(),We.getSlackTargets()]);W(H.data.channels||[]),z(H.data.users||[]),fe(ue.data.targets||[])}catch(H){console.error("Failed to fetch Slack data:",H)}}),window.history.replaceState({},"",window.location.pathname)):q&&(B(`Slack connection failed: ${q}`),window.history.replaceState({},"",window.location.pathname))},[]);const Qt=async()=>{var j,k;try{const q=await le.get("/prm/v1/slack/oauth/authorize");window.location.href=q.data.oauth_url}catch(q){console.error("Failed to get Slack OAuth URL:",q),alert(((k=(j=q.response)==null?void 0:j.data)==null?void 0:k.message)||"Failed to connect Slack")}},rt=async()=>{var j,k;if(confirm("Are you sure you want to disconnect Slack? You will stop receiving Slack notifications.")){G(!0);try{await We.disconnectSlack(),g(!1),x(""),W([]),z([]),fe([]),B("Slack disconnected successfully"),f.includes("slack")&&await yt("slack")}catch(q){console.error("Failed to disconnect Slack:",q),alert(((k=(j=q.response)==null?void 0:j.data)==null?void 0:k.message)||"Failed to disconnect Slack")}finally{G(!1)}}},rr=j=>{const k=Y.includes(j)?Y.filter(q=>q!==j):[...Y,j];fe(k)},Ze=async()=>{var j,k;Ee(!0);try{await We.updateSlackTargets(Y),B("Notification targets saved successfully"),setTimeout(()=>B(""),3e3)}catch(q){console.error("Failed to save Slack targets:",q),alert(((k=(j=q.response)==null?void 0:j.data)==null?void 0:k.message)||"Failed to save notification targets")}finally{Ee(!1)}},fr=async()=>{try{await navigator.clipboard.writeText(r),c(!0),setTimeout(()=>c(!1),2e3)}catch(j){console.error("Failed to copy:",j)}},et=async()=>{if(confirm("Are you sure you want to regenerate your calendar URL? Any existing calendar subscriptions will stop working until you update them with the new URL.")){h(!0);try{const j=await le.post("/prm/v1/user/regenerate-ical-token");n(j.data.url),s(j.data.webcal_url)}catch(j){console.error("Failed to regenerate token:",j)}finally{h(!1)}}},yt=async j=>{var q,J;const k=f.includes(j)?f.filter(V=>V!==j):[...f,j];N(!0);try{await We.updateNotificationChannels(k),p(k)}catch(V){console.error("Failed to update notification channels:",V),alert(((J=(q=V.response)==null?void 0:q.data)==null?void 0:J.message)||"Failed to update notification channels")}finally{N(!1)}},jr=async j=>{var k,q;_(j),T(!0);try{await We.updateNotificationTime(j)}catch(J){console.error("Failed to update notification time:",J),alert(((q=(k=J.response)==null?void 0:k.data)==null?void 0:q.message)||"Failed to update notification time");const V=await We.getNotificationChannels();_(V.data.notification_time||"09:00")}finally{T(!1)}},Vr=async()=>{var j,k;if(confirm("This will send reminder emails for all reminders due today. Continue?")){Ve(!0),gt("");try{const q=await We.triggerReminders();gt(q.data.message||"Reminders triggered successfully.")}catch(q){console.error("Failed to trigger reminders:",q),gt(((k=(j=q.response)==null?void 0:j.data)==null?void 0:k.message)||"Failed to trigger reminders. Please check server logs.")}finally{Ve(!1)}}};return u.jsxs("div",{className:"max-w-2xl mx-auto space-y-6",children:[u.jsxs("div",{className:"card p-6",children:[u.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Calendar Subscription"}),u.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Subscribe to your important dates in any calendar app (Apple Calendar, Google Calendar, Outlook, etc.)"}),a?u.jsxs("div",{className:"animate-pulse",children:[u.jsx("div",{className:"h-10 bg-gray-200 rounded mb-3"}),u.jsx("div",{className:"h-9 bg-gray-200 rounded w-24"})]}):u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"label mb-1",children:"Your Calendar Feed URL"}),u.jsxs("div",{className:"flex gap-2",children:[u.jsx("input",{type:"text",readOnly:!0,value:r,className:"input flex-1 text-sm font-mono bg-gray-50",onClick:j=>j.target.select()}),u.jsx("button",{onClick:fr,className:"btn-secondary whitespace-nowrap",title:"Copy URL",children:l?u.jsxs("span",{className:"flex items-center gap-1",children:[u.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),"Copied"]}):u.jsxs("span",{className:"flex items-center gap-1",children:[u.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 5H6a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2v-1M8 5a2 2 0 002 2h2a2 2 0 002-2M8 5a2 2 0 012-2h2a2 2 0 012 2m0 0h2a2 2 0 012 2v3m2 4H10m0 0l3-3m-3 3l3 3"})}),"Copy"]})})]})]}),u.jsxs("div",{className:"flex flex-wrap gap-2",children:[u.jsx("a",{href:i,className:"btn-primary",children:u.jsxs("span",{className:"flex items-center gap-1",children:[u.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})}),"Subscribe in Calendar App"]})}),u.jsx("button",{onClick:et,disabled:d,className:"btn-secondary",children:d?"Regenerating...":"Regenerate URL"})]}),u.jsx("p",{className:"text-xs text-gray-500",children:'Keep this URL private. Anyone with access to it can see your important dates. If you think it has been compromised, click "Regenerate URL" to get a new one.'})]})]}),u.jsxs("div",{className:"card p-6",children:[u.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Data"}),u.jsxs("div",{className:"space-y-3",children:[u.jsxs(ce,{to:"/settings/import",className:"block p-3 rounded-lg border border-gray-200 hover:bg-gray-50",children:[u.jsx("p",{className:"font-medium",children:"Import Data"}),u.jsx("p",{className:"text-sm text-gray-500",children:"Import contacts from Monica CRM or other sources"})]}),u.jsxs(ce,{to:"/settings/export",className:"block p-3 rounded-lg border border-gray-200 hover:bg-gray-50",children:[u.jsx("p",{className:"font-medium",children:"Export Data"}),u.jsx("p",{className:"text-sm text-gray-500",children:"Export all contacts as vCard or Google Contacts CSV"})]})]})]}),u.jsxs("div",{className:"card p-6",children:[u.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Notifications"}),u.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Choose how you want to receive daily reminders about your important dates."}),E?u.jsxs("div",{className:"animate-pulse",children:[u.jsx("div",{className:"h-10 bg-gray-200 rounded mb-3"}),u.jsx("div",{className:"h-10 bg-gray-200 rounded"})]}):u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg border border-gray-200",children:[u.jsxs("div",{children:[u.jsx("p",{className:"font-medium",children:"Email"}),u.jsx("p",{className:"text-sm text-gray-500",children:"Receive daily digest emails"})]}),u.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[u.jsx("input",{type:"checkbox",checked:f.includes("email"),onChange:()=>yt("email"),disabled:S,className:"sr-only peer"}),u.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-primary-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-primary-600"})]})]}),u.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg border border-gray-200",children:[u.jsxs("div",{children:[u.jsx("p",{className:"font-medium",children:"Slack"}),u.jsx("p",{className:"text-sm text-gray-500",children:"Receive notifications in Slack"})]}),u.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[u.jsx("input",{type:"checkbox",checked:f.includes("slack"),onChange:()=>yt("slack"),disabled:S||!w,className:"sr-only peer"}),u.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-primary-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-primary-600"})]})]}),u.jsx("div",{children:w?u.jsxs("div",{className:"space-y-3",children:[u.jsx("div",{className:"p-3 bg-green-50 border border-green-200 rounded-lg",children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsx("p",{className:"font-medium text-green-900",children:"Connected to Slack"}),v&&u.jsxs("p",{className:"text-sm text-green-700",children:["Workspace: ",v]})]}),u.jsx("button",{onClick:rt,disabled:Q,className:"btn-secondary text-sm",children:Q?"Disconnecting...":"Disconnect"})]})}),M&&u.jsx("p",{className:`text-sm ${M.includes("successfully")||M.includes("disconnected")?"text-green-600":"text-red-600"}`,children:M}),f.includes("slack")&&u.jsxs("div",{className:"mt-4 p-4 border border-gray-200 rounded-lg",children:[u.jsx("h3",{className:"font-medium mb-3",children:"Notification targets"}),u.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Choose where to send Slack notifications. You can select multiple channels and users."}),ye?u.jsx("p",{className:"text-sm text-gray-500",children:"Loading channels and users..."}):u.jsxs(u.Fragment,{children:[F.length>0&&u.jsxs("div",{className:"mb-4",children:[u.jsx("h4",{className:"text-sm font-medium mb-2",children:"Channels"}),u.jsx("div",{className:"space-y-2 max-h-48 overflow-y-auto",children:F.map(j=>u.jsxs("label",{className:"flex items-center p-2 hover:bg-gray-50 rounded cursor-pointer",children:[u.jsx("input",{type:"checkbox",checked:Y.includes(j.id),onChange:()=>rr(j.id),className:"mr-2"}),u.jsx("span",{className:"text-sm",children:j.name})]},j.id))})]}),U.length>0&&u.jsxs("div",{className:"mb-4",children:[u.jsx("h4",{className:"text-sm font-medium mb-2",children:"Direct messages"}),u.jsx("div",{className:"space-y-2 max-h-48 overflow-y-auto",children:U.map(j=>u.jsxs("label",{className:"flex items-center p-2 hover:bg-gray-50 rounded cursor-pointer",children:[u.jsx("input",{type:"checkbox",checked:Y.includes(j.id),onChange:()=>rr(j.id),className:"mr-2"}),u.jsxs("span",{className:"text-sm",children:[j.name,j.is_me&&u.jsx("span",{className:"text-gray-500 ml-1",children:"(you)"})]})]},j.id))})]}),u.jsx("button",{onClick:Ze,disabled:pe,className:"btn-primary text-sm",children:pe?"Saving...":"Save targets"})]})]})]}):u.jsxs("div",{className:"space-y-3",children:[u.jsx("button",{onClick:Qt,className:"btn-primary w-full",disabled:Q,children:"Connect Slack"}),M&&u.jsx("p",{className:`text-sm ${M.includes("successfully")?"text-green-600":"text-red-600"}`,children:M}),u.jsx("p",{className:"text-xs text-gray-500",children:"Connect your Slack workspace to receive daily reminder notifications. You'll be able to message channels or receive direct messages."})]})}),m&&!w&&u.jsx("div",{className:"p-3 bg-yellow-50 border border-yellow-200 rounded-lg",children:u.jsxs("p",{className:"text-sm text-yellow-800",children:[u.jsx("strong",{children:"Legacy webhook detected."})," Please connect via OAuth for better functionality. Your webhook will continue to work until you connect via OAuth."]})}),u.jsxs("div",{children:[u.jsx("label",{className:"label mb-1",children:"Notification Time (UTC)"}),u.jsx("input",{type:"time",value:b,onChange:j=>jr(j.target.value),className:"input",disabled:C}),b&&u.jsxs("div",{className:"mt-2 p-2 bg-gray-50 rounded text-sm",children:[u.jsxs("p",{className:"text-gray-700",children:[u.jsx("span",{className:"font-medium",children:"UTC:"})," ",b]}),u.jsxs("p",{className:"text-gray-700 mt-1",children:[u.jsxs("span",{className:"font-medium",children:["Your time (",Intl.DateTimeFormat().resolvedOptions().timeZone,"):"]})," ",(()=>{try{const[j,k]=b.split(":"),q=new Date;return q.setUTCHours(parseInt(j),parseInt(k),0,0),q.toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit",hour12:!1})}catch{return b}})()]})]}),u.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Choose the UTC time when you want to receive your daily reminder digest. Reminders are sent within a 1-hour window of your selected time."})]})]})]}),e&&u.jsxs("div",{className:"card p-6",children:[u.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Administration"}),u.jsxs("div",{className:"space-y-3",children:[u.jsxs(ce,{to:"/settings/relationship-types",className:"block p-3 rounded-lg border border-gray-200 hover:bg-gray-50",children:[u.jsx("p",{className:"font-medium",children:"Relationship Types"}),u.jsx("p",{className:"text-sm text-gray-500",children:"Manage relationship types and their inverse mappings"})]}),u.jsxs(ce,{to:"/settings/user-approval",className:"block p-3 rounded-lg border border-gray-200 hover:bg-gray-50",children:[u.jsx("p",{className:"font-medium",children:"User Approval"}),u.jsx("p",{className:"text-sm text-gray-500",children:"Approve or deny access for new users"})]}),u.jsxs("button",{onClick:Vr,disabled:Ce,className:"w-full text-left p-3 rounded-lg border border-gray-200 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:[u.jsx("p",{className:"font-medium",children:"Trigger reminders"}),u.jsx("p",{className:"text-sm text-gray-500",children:Ce?"Sending...":"Manually send reminders for today"}),At&&u.jsx("p",{className:"text-sm text-green-600 mt-1",children:At})]})]})]}),u.jsxs("div",{className:"card p-6",children:[u.jsx("h2",{className:"text-lg font-semibold mb-4",children:"About"}),u.jsxs("p",{className:"text-sm text-gray-600",children:[lu," v",t.version||"1.0.0",u.jsx("br",{}),"Built with WordPress, React, and Tailwind CSS."]})]})]})}function OI({value:t,onChange:e,relationshipTypes:r,currentTypeId:n=null}){const[i,s]=$.useState(""),[a,o]=$.useState(!1),l=$.useRef(null),c=$.useRef(null),d=$.useMemo(()=>r.sort((w,g)=>{const v=(w.name||"").toLowerCase(),x=(g.name||"").toLowerCase();return v<x?-1:v>x?1:0}),[r]),h=$.useMemo(()=>{if(!i)return d.slice(0,10);const w=i.toLowerCase();return d.filter(g=>(g.name||"").toLowerCase().includes(w)).slice(0,10)},[d,i]),f=$.useMemo(()=>d.find(w=>w.id===parseInt(t,10)),[d,t]);$.useEffect(()=>{const w=g=>{c.current&&!c.current.contains(g.target)&&l.current&&!l.current.contains(g.target)&&o(!1)};return document.addEventListener("mousedown",w),()=>document.removeEventListener("mousedown",w)},[]);const p=w=>{e(w?w.toString():""),s(""),o(!1)},m=()=>{e(""),s(""),o(!1)},y=f?f.name:"";return u.jsxs("div",{className:"relative",children:[u.jsx("div",{className:"relative",children:f&&!a?u.jsxs("div",{className:"flex items-center justify-between input pr-8 cursor-text",onClick:()=>o(!0),children:[u.jsx("span",{children:y}),u.jsx("button",{type:"button",onClick:w=>{w.stopPropagation(),m()},className:"absolute right-2 text-gray-400 hover:text-gray-600",children:u.jsx(ha,{className:"w-4 h-4"})})]}):u.jsx("input",{ref:l,type:"text",value:i,onChange:w=>{s(w.target.value),o(!0)},onFocus:()=>o(!0),placeholder:"Search for a relationship type...",className:"input"})}),a&&(i||!f)&&u.jsx("div",{ref:c,className:"absolute z-10 w-full mt-1 bg-white border border-gray-200 rounded-lg shadow-lg max-h-48 overflow-y-auto",children:h.length>0?u.jsxs(u.Fragment,{children:[u.jsx("button",{type:"button",onClick:()=>p(null),className:`w-full text-left px-4 py-2 hover:bg-gray-50 ${t?"":"bg-primary-50"}`,children:u.jsx("span",{className:"text-gray-500 italic",children:"None (no inverse)"})}),h.map(w=>u.jsx("button",{type:"button",onClick:()=>p(w.id),className:`w-full text-left px-4 py-2 hover:bg-gray-50 ${t===w.id.toString()?"bg-primary-50":""}`,children:w.name},w.id))]}):u.jsx("p",{className:"px-4 py-2 text-gray-500 text-sm",children:"No relationship types found"})})]})}function pie(){xn("Relationship Types - Settings");const t=Vt();if(!((window.prmConfig||{}).isAdmin||!1))return u.jsx("div",{className:"max-w-2xl mx-auto",children:u.jsxs("div",{className:"card p-8 text-center",children:[u.jsx(xH,{className:"w-16 h-16 mx-auto text-amber-500 mb-4"}),u.jsx("h1",{className:"text-2xl font-bold mb-2",children:"Access Denied"}),u.jsx("p",{className:"text-gray-600 mb-6",children:"You don't have permission to manage relationship types. This feature is only available to administrators."}),u.jsx(ce,{to:"/settings",className:"btn-primary",children:"Back to Settings"})]})});const{data:n=[],isLoading:i}=ft({queryKey:["relationship-types"],queryFn:async()=>(await Be.getRelationshipTypes()).data}),[s,a]=$.useState(null),[o,l]=$.useState(""),[c,d]=$.useState(""),[h,f]=$.useState(""),[p,m]=$.useState(""),[y,w]=$.useState(!1),g=wt({mutationFn:async({id:I,name:C,inverseId:T})=>{const M={name:C};return T&&(M.acf={inverse_relationship_type:parseInt(T,10)}),Be.updateRelationshipType(I,M)},onSuccess:()=>{t.invalidateQueries({queryKey:["relationship-types"]}),a(null),l(""),d("")}}),v=wt({mutationFn:async({name:I,inverseId:C})=>{const T={name:I};return C&&(T.acf={inverse_relationship_type:parseInt(C,10)}),Be.createRelationshipType(T)},onSuccess:()=>{t.invalidateQueries({queryKey:["relationship-types"]}),f(""),m(""),w(!1)}}),x=wt({mutationFn:I=>Be.deleteRelationshipType(I),onSuccess:()=>{t.invalidateQueries({queryKey:["relationship-types"]})}}),b=wt({mutationFn:()=>Be.restoreRelationshipTypeDefaults(),onSuccess:()=>{t.invalidateQueries({queryKey:["relationship-types"]}),alert("Default relationship type configurations have been restored.")},onError:()=>{alert("Failed to restore defaults. Please try again.")}});function _(){return u.jsxs("button",{onClick:()=>{window.confirm("This will restore all default inverse mappings and gender-dependent settings. Continue?")&&b.mutate()},disabled:b.isPending,className:"btn-secondary flex items-center gap-2",title:"Restore default inverse mappings and gender-dependent settings",children:[b.isPending?u.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-gray-600"}):u.jsx(yH,{className:"w-4 h-4"}),u.jsx("span",{className:"hidden md:inline",children:"Restore Defaults"})]})}const E=I=>{var T;a(I.id),l(I.name);const C=(T=I.acf)==null?void 0:T.inverse_relationship_type;d(C?C.toString():"")},O=()=>{a(null),l(""),d("")},S=()=>{if(!o.trim()){alert("Name is required");return}g.mutate({id:s,name:o.trim(),inverseId:c||null})},N=()=>{if(!h.trim()){alert("Name is required");return}v.mutate({name:h.trim(),inverseId:p||null})},P=(I,C)=>{window.confirm(`Are you sure you want to delete "${C}"? This cannot be undone.`)&&x.mutate(I)};return i?u.jsx("div",{className:"flex items-center justify-center h-64",children:u.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"})}):u.jsx("div",{className:"max-w-4xl mx-auto space-y-6",children:u.jsxs("div",{className:"card p-6",children:[u.jsxs("div",{className:"flex items-center justify-between mb-6",children:[u.jsx("h1",{className:"text-2xl font-bold",children:"Relationship Types"}),u.jsx("div",{className:"flex gap-2",children:!y&&u.jsxs(u.Fragment,{children:[u.jsx(_,{}),u.jsxs("button",{onClick:()=>w(!0),className:"btn-primary flex items-center gap-2",children:[u.jsx(gr,{className:"w-4 h-4"}),u.jsx("span",{className:"hidden md:inline",children:"Add Relationship Type"})]})]})})]}),y&&u.jsxs("div",{className:"mb-6 p-4 border border-gray-200 rounded-lg bg-gray-50",children:[u.jsx("h3",{className:"font-semibold mb-4",children:"Add New Relationship Type"}),u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"label",children:"Name *"}),u.jsx("input",{type:"text",value:h,onChange:I=>f(I.target.value),className:"input",placeholder:"e.g., Parent, Spouse, Colleague"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"label",children:"Inverse Relationship Type"}),u.jsx(OI,{value:p,onChange:m,relationshipTypes:n}),u.jsx("p",{className:"text-xs text-gray-500 mt-1",children:'Select the inverse relationship type. For example, if this is "Parent", select "Child". If this is "Spouse" or "Acquaintance", select the same type (e.g., "Spouse"  "Spouse").'})]}),u.jsxs("div",{className:"flex gap-2",children:[u.jsxs("button",{onClick:N,disabled:v.isPending,className:"btn-primary flex items-center gap-2",children:[v.isPending?u.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}):u.jsx(da,{className:"w-4 h-4"}),u.jsx("span",{className:"hidden md:inline",children:"Save"})]}),u.jsx("button",{onClick:()=>{w(!1),f(""),m("")},className:"btn-secondary",children:"Cancel"})]})]})]}),u.jsx("div",{className:"space-y-2",children:n.length===0?u.jsx("p",{className:"text-gray-500 text-center py-8",children:"No relationship types found."}):n.map(I=>{var Q,G;const C=s===I.id,T=(Q=I.acf)==null?void 0:Q.inverse_relationship_type,M=typeof T=="object"&&(T!=null&&T.ID)?T.ID:typeof T=="object"&&(T!=null&&T.id)?T.id:T,B=M?n.find(F=>F.id===M):null;return u.jsx("div",{className:"p-4 border border-gray-200 rounded-lg hover:bg-gray-50",children:C?u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"label",children:"Name *"}),u.jsx("input",{type:"text",value:o,onChange:F=>l(F.target.value),className:"input"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"label",children:"Inverse Relationship Type"}),u.jsx(OI,{value:c,onChange:d,relationshipTypes:n,currentTypeId:I.id}),u.jsx("p",{className:"text-xs text-gray-500 mt-1",children:'Select the inverse relationship type. For example, if this is "Parent", select "Child". If this is "Spouse" or "Acquaintance", select the same type (e.g., "Spouse"  "Spouse").'})]}),u.jsxs("div",{className:"flex gap-2",children:[u.jsxs("button",{onClick:S,disabled:g.isPending,className:"btn-primary flex items-center gap-2",children:[g.isPending?u.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}):u.jsx(da,{className:"w-4 h-4"}),u.jsx("span",{className:"hidden md:inline",children:"Save"})]}),u.jsxs("button",{onClick:O,className:"btn-secondary flex items-center gap-2",children:[u.jsx(ha,{className:"w-4 h-4"}),u.jsx("span",{className:"hidden md:inline",children:"Cancel"})]})]})]}):u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{className:"flex-1",children:[u.jsx("div",{className:"font-medium",children:I.name}),B&&u.jsxs("div",{className:"text-sm text-gray-500 mt-1",children:["Inverse: ",u.jsx("span",{className:"font-medium",children:B.name})]}),!B&&((G=I.acf)==null?void 0:G.inverse_relationship_type)===null&&u.jsx("div",{className:"text-sm text-gray-400 mt-1 italic",children:"No inverse relationship"})]}),u.jsxs("div",{className:"flex gap-2",children:[u.jsx("button",{onClick:()=>E(I),className:"p-2 text-gray-600 hover:text-primary-600 hover:bg-primary-50 rounded",title:"Edit",children:u.jsx(Ute,{className:"w-4 h-4"})}),u.jsx("button",{onClick:()=>P(I.id,I.name),className:"p-2 text-gray-600 hover:text-red-600 hover:bg-red-50 rounded",title:"Delete",children:u.jsx(bi,{className:"w-4 h-4"})})]})]})},I.id)})})]})})}function mie(){var g,v,x;const[t,e]=$.useState(null),[r,n]=$.useState(""),[i,s]=$.useState(!1),[a,o]=$.useState(null),l=Vt(),c=wt({mutationFn:async b=>{const _=new FormData;return _.append("file",b),(await le.post("/prm/v1/import/monica/validate",_,{headers:{"Content-Type":"multipart/form-data"}})).data},onSuccess:b=>{o(b)},onError:b=>{var _,E;o({valid:!1,error:((E=(_=b.response)==null?void 0:_.data)==null?void 0:E.message)||"Failed to validate file"})}}),d=wt({mutationFn:async({file:b,monicaUrl:_})=>{const E=new FormData;return E.append("file",b),E.append("monica_url",_),(await le.post("/prm/v1/import/monica",E,{headers:{"Content-Type":"multipart/form-data"}})).data},onSuccess:()=>{l.invalidateQueries({queryKey:["people"]}),l.invalidateQueries({queryKey:["companies"]}),l.invalidateQueries({queryKey:["dates"]}),l.invalidateQueries({queryKey:["dashboard"]})}}),h=$.useCallback(b=>{b.preventDefault(),b.stopPropagation(),b.type==="dragenter"||b.type==="dragover"?s(!0):b.type==="dragleave"&&s(!1)},[]),f=$.useCallback(b=>{b.preventDefault(),b.stopPropagation(),s(!1),b.dataTransfer.files&&b.dataTransfer.files[0]&&m(b.dataTransfer.files[0])},[]),p=b=>{b.target.files&&b.target.files[0]&&m(b.target.files[0])},m=b=>{if(!b.name.endsWith(".sql")){o({valid:!1,error:"Please select a SQL file"});return}e(b),o(null),d.reset(),c.mutate(b)},y=()=>{if(!r.trim()){o(b=>({...b,urlError:"Please enter your Monica instance URL"}));return}t&&(a!=null&&a.valid)&&d.mutate({file:t,monicaUrl:r.trim()})},w=()=>{e(null),n(""),o(null),c.reset(),d.reset()};return u.jsxs("div",{className:"space-y-4",children:[u.jsx("h2",{className:"text-lg font-semibold",children:"Import from Monica"}),u.jsx("p",{className:"text-sm text-gray-600",children:"Import contacts, relationships, notes, and photos from a Monica CRM SQL export file. Reimporting the same file will update existing contacts instead of creating duplicates."}),d.isSuccess?u.jsx("div",{className:"rounded-lg border border-green-200 bg-green-50 p-4",children:u.jsxs("div",{className:"flex items-start gap-3",children:[u.jsx(su,{className:"h-5 w-5 text-green-600 mt-0.5"}),u.jsxs("div",{className:"flex-1",children:[u.jsx("h3",{className:"font-medium text-green-900",children:"Import Complete"}),u.jsxs("div",{className:"mt-2 text-sm text-green-800 space-y-1",children:[u.jsxs("p",{children:["Contacts imported: ",d.data.stats.contacts_imported]}),u.jsxs("p",{children:["Contacts updated: ",d.data.stats.contacts_updated]}),u.jsxs("p",{children:["Contacts skipped (partial): ",d.data.stats.contacts_skipped]}),u.jsxs("p",{children:["Photos imported: ",d.data.stats.photos_imported]}),u.jsxs("p",{children:["Organizations created: ",d.data.stats.companies_created]}),u.jsxs("p",{children:["Relationships created: ",d.data.stats.relationships_created]}),u.jsxs("p",{children:["Important dates created: ",d.data.stats.dates_created]}),u.jsxs("p",{children:["Notes created: ",d.data.stats.notes_created]}),((g=d.data.stats.errors)==null?void 0:g.length)>0&&u.jsxs("div",{className:"mt-2 pt-2 border-t border-green-200",children:[u.jsx("p",{className:"font-medium",children:"Errors:"}),u.jsx("ul",{className:"list-disc list-inside",children:d.data.stats.errors.map((b,_)=>u.jsx("li",{children:b},_))})]})]}),u.jsx("button",{onClick:w,className:"mt-3 text-sm text-green-700 hover:text-green-800 font-medium",children:"Import another file"})]})]})}):u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:`relative rounded-lg border-2 border-dashed p-8 text-center transition-colors ${i?"border-primary-500 bg-primary-50":t?"border-green-300 bg-green-50":"border-gray-300 hover:border-gray-400"}`,onDragEnter:h,onDragLeave:h,onDragOver:h,onDrop:f,children:[u.jsx("input",{type:"file",accept:".sql",onChange:p,className:"absolute inset-0 w-full h-full opacity-0 cursor-pointer"}),c.isPending?u.jsxs("div",{className:"flex flex-col items-center gap-2",children:[u.jsx(wo,{className:"h-8 w-8 text-primary-600 animate-spin"}),u.jsx("p",{className:"text-gray-600",children:"Validating file..."})]}):t?u.jsxs("div",{className:"flex flex-col items-center gap-2",children:[u.jsx(Up,{className:"h-8 w-8 text-green-600"}),u.jsx("p",{className:"font-medium text-gray-900",children:t.name}),u.jsxs("p",{className:"text-sm text-gray-500",children:[(t.size/1024/1024).toFixed(2)," MB"]})]}):u.jsxs("div",{className:"flex flex-col items-center gap-2",children:[u.jsx(ou,{className:"h-8 w-8 text-gray-400"}),u.jsx("p",{className:"text-gray-600",children:"Drag and drop your Monica SQL export file here, or click to browse"}),u.jsx("p",{className:"text-sm text-gray-500",children:"Supports SQL export files"})]})]}),a&&u.jsx("div",{className:`rounded-lg border p-4 ${a.valid?"border-green-200 bg-green-50":"border-red-200 bg-red-50"}`,children:a.valid?u.jsxs("div",{className:"flex items-start gap-3",children:[u.jsx(su,{className:"h-5 w-5 text-green-600 mt-0.5"}),u.jsxs("div",{className:"flex-1",children:[u.jsx("h3",{className:"font-medium text-green-900",children:"File validated successfully"}),u.jsxs("div",{className:"mt-2 text-sm text-green-800",children:[u.jsxs("p",{children:["Export format: ",a.version]}),u.jsxs("p",{children:["Contacts to import: ",a.summary.contacts]}),u.jsxs("p",{children:["Relationships: ",a.summary.relationships]}),u.jsxs("p",{children:["Notes: ",a.summary.notes]}),u.jsxs("p",{children:["Dates: ",a.summary.reminders]}),u.jsxs("p",{children:["Photos: ",a.summary.photos]}),u.jsxs("p",{children:["Organizations: ",a.summary.companies_count]})]})]})]}):u.jsxs("div",{className:"flex items-start gap-3",children:[u.jsx(ca,{className:"h-5 w-5 text-red-600 mt-0.5"}),u.jsxs("div",{children:[u.jsx("h3",{className:"font-medium text-red-900",children:"Validation failed"}),u.jsx("p",{className:"text-sm text-red-700 mt-1",children:a.error})]})]})}),(a==null?void 0:a.valid)&&u.jsxs("div",{className:"space-y-2",children:[u.jsx("label",{htmlFor:"monica-url",className:"block text-sm font-medium text-gray-700",children:"Monica Instance URL"}),u.jsxs("div",{className:"relative",children:[u.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:u.jsx(Mte,{className:"h-4 w-4 text-gray-400"})}),u.jsx("input",{type:"url",id:"monica-url",value:r,onChange:b=>n(b.target.value),placeholder:"https://your-monica-instance.com",className:`block w-full pl-10 pr-3 py-2 border rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500 ${a.urlError?"border-red-300":"border-gray-300"}`})]}),a.urlError&&u.jsx("p",{className:"text-sm text-red-600",children:a.urlError}),u.jsx("p",{className:"text-xs text-gray-500",children:"Enter the URL of your Monica instance to import photos. Photos will be downloaded from this URL."})]}),(a==null?void 0:a.valid)&&u.jsxs("div",{className:"flex gap-3",children:[u.jsx("button",{onClick:y,disabled:d.isPending,className:"btn-primary flex items-center gap-2",children:d.isPending?u.jsxs(u.Fragment,{children:[u.jsx(wo,{className:"h-4 w-4 animate-spin"}),u.jsx("span",{className:"hidden md:inline",children:"Importing..."})]}):u.jsxs(u.Fragment,{children:[u.jsx(ou,{className:"h-4 w-4"}),u.jsx("span",{className:"hidden md:inline",children:"Start Import"})]})}),u.jsx("button",{onClick:w,disabled:d.isPending,className:"btn-secondary",children:"Cancel"})]}),d.isError&&u.jsx("div",{className:"rounded-lg border border-red-200 bg-red-50 p-4",children:u.jsxs("div",{className:"flex items-start gap-3",children:[u.jsx(ca,{className:"h-5 w-5 text-red-600 mt-0.5"}),u.jsxs("div",{children:[u.jsx("h3",{className:"font-medium text-red-900",children:"Import failed"}),u.jsx("p",{className:"text-sm text-red-700 mt-1",children:((x=(v=d.error.response)==null?void 0:v.data)==null?void 0:x.message)||"An error occurred during import"})]})]})})]})]})}function vie(){var y,w,g;const[t,e]=$.useState(null),[r,n]=$.useState(!1),[i,s]=$.useState(null),a=Vt(),o=wt({mutationFn:async v=>{const x=new FormData;return x.append("file",v),(await le.post("/prm/v1/import/vcard/validate",x,{headers:{"Content-Type":"multipart/form-data"}})).data},onSuccess:v=>{s(v)},onError:v=>{var x,b;s({valid:!1,error:((b=(x=v.response)==null?void 0:x.data)==null?void 0:b.message)||"Failed to validate file"})}}),l=wt({mutationFn:async v=>{const x=new FormData;return x.append("file",v),(await le.post("/prm/v1/import/vcard",x,{headers:{"Content-Type":"multipart/form-data"}})).data},onSuccess:()=>{a.invalidateQueries({queryKey:["people"]}),a.invalidateQueries({queryKey:["companies"]}),a.invalidateQueries({queryKey:["dates"]}),a.invalidateQueries({queryKey:["dashboard"]})}}),c=$.useCallback(v=>{v.preventDefault(),v.stopPropagation(),v.type==="dragenter"||v.type==="dragover"?n(!0):v.type==="dragleave"&&n(!1)},[]),d=$.useCallback(v=>{v.preventDefault(),v.stopPropagation(),n(!1),v.dataTransfer.files&&v.dataTransfer.files[0]&&f(v.dataTransfer.files[0])},[]),h=v=>{v.target.files&&v.target.files[0]&&f(v.target.files[0])},f=v=>{const x=v.name.split(".").pop().toLowerCase();if(x!=="vcf"&&x!=="vcard"){s({valid:!1,error:"Please select a vCard file (.vcf)"});return}e(v),s(null),l.reset(),o.mutate(v)},p=()=>{t&&(i!=null&&i.valid)&&l.mutate(t)},m=()=>{e(null),s(null),o.reset(),l.reset()};return u.jsxs("div",{className:"space-y-4",children:[u.jsx("h2",{className:"text-lg font-semibold",children:"Import from vCard"}),u.jsx("p",{className:"text-sm text-gray-600",children:"Import contacts from a vCard (.vcf) file. vCard is a standard format supported by most contact apps including Apple Contacts, Outlook, and Android. Files can contain one or multiple contacts."}),l.isSuccess?u.jsx("div",{className:"rounded-lg border border-green-200 bg-green-50 p-4",children:u.jsxs("div",{className:"flex items-start gap-3",children:[u.jsx(su,{className:"h-5 w-5 text-green-600 mt-0.5"}),u.jsxs("div",{className:"flex-1",children:[u.jsx("h3",{className:"font-medium text-green-900",children:"Import Complete"}),u.jsxs("div",{className:"mt-2 text-sm text-green-800 space-y-1",children:[u.jsxs("p",{children:["Contacts imported: ",l.data.stats.contacts_imported]}),u.jsxs("p",{children:["Contacts updated: ",l.data.stats.contacts_updated]}),u.jsxs("p",{children:["Contacts skipped: ",l.data.stats.contacts_skipped]}),u.jsxs("p",{children:["Photos imported: ",l.data.stats.photos_imported]}),u.jsxs("p",{children:["Organizations created: ",l.data.stats.companies_created]}),u.jsxs("p",{children:["Birthdays created: ",l.data.stats.dates_created]}),u.jsxs("p",{children:["Notes created: ",l.data.stats.notes_created]}),((y=l.data.stats.errors)==null?void 0:y.length)>0&&u.jsxs("div",{className:"mt-2 pt-2 border-t border-green-200",children:[u.jsx("p",{className:"font-medium",children:"Errors:"}),u.jsx("ul",{className:"list-disc list-inside",children:l.data.stats.errors.map((v,x)=>u.jsx("li",{children:v},x))})]})]}),u.jsx("button",{onClick:m,className:"mt-3 text-sm text-green-700 hover:text-green-800 font-medium",children:"Import another file"})]})]})}):u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:`relative rounded-lg border-2 border-dashed p-8 text-center transition-colors ${r?"border-primary-500 bg-primary-50":t?"border-green-300 bg-green-50":"border-gray-300 hover:border-gray-400"}`,onDragEnter:c,onDragLeave:c,onDragOver:c,onDrop:d,children:[u.jsx("input",{type:"file",accept:".vcf,.vcard",onChange:h,className:"absolute inset-0 w-full h-full opacity-0 cursor-pointer"}),o.isPending?u.jsxs("div",{className:"flex flex-col items-center gap-2",children:[u.jsx(wo,{className:"h-8 w-8 text-primary-600 animate-spin"}),u.jsx("p",{className:"text-gray-600",children:"Validating file..."})]}):t?u.jsxs("div",{className:"flex flex-col items-center gap-2",children:[u.jsx(Up,{className:"h-8 w-8 text-green-600"}),u.jsx("p",{className:"font-medium text-gray-900",children:t.name}),u.jsxs("p",{className:"text-sm text-gray-500",children:[(t.size/1024).toFixed(2)," KB"]})]}):u.jsxs("div",{className:"flex flex-col items-center gap-2",children:[u.jsx(ou,{className:"h-8 w-8 text-gray-400"}),u.jsx("p",{className:"text-gray-600",children:"Drag and drop your vCard file here, or click to browse"}),u.jsx("p",{className:"text-sm text-gray-500",children:"Supports .vcf and .vcard files"})]})]}),i&&u.jsx("div",{className:`rounded-lg border p-4 ${i.valid?"border-green-200 bg-green-50":"border-red-200 bg-red-50"}`,children:i.valid?u.jsxs("div",{className:"flex items-start gap-3",children:[u.jsx(su,{className:"h-5 w-5 text-green-600 mt-0.5"}),u.jsxs("div",{className:"flex-1",children:[u.jsx("h3",{className:"font-medium text-green-900",children:"File validated successfully"}),u.jsxs("div",{className:"mt-3 grid grid-cols-2 sm:grid-cols-3 gap-3",children:[u.jsxs("div",{className:"flex items-center gap-2 text-sm text-green-800",children:[u.jsx(ta,{className:"h-4 w-4"}),u.jsxs("span",{children:[i.summary.contacts," contacts"]})]}),i.summary.companies_count>0&&u.jsxs("div",{className:"flex items-center gap-2 text-sm text-green-800",children:[u.jsx(us,{className:"h-4 w-4"}),u.jsxs("span",{children:[i.summary.companies_count," organizations"]})]}),i.summary.birthdays>0&&u.jsxs("div",{className:"flex items-center gap-2 text-sm text-green-800",children:[u.jsx(vH,{className:"h-4 w-4"}),u.jsxs("span",{children:[i.summary.birthdays," birthdays"]})]}),i.summary.photos>0&&u.jsxs("div",{className:"flex items-center gap-2 text-sm text-green-800",children:[u.jsx(gH,{className:"h-4 w-4"}),u.jsxs("span",{children:[i.summary.photos," photos"]})]}),i.summary.notes>0&&u.jsxs("div",{className:"flex items-center gap-2 text-sm text-green-800",children:[u.jsx(EH,{className:"h-4 w-4"}),u.jsxs("span",{children:[i.summary.notes," notes"]})]})]})]})]}):u.jsxs("div",{className:"flex items-start gap-3",children:[u.jsx(ca,{className:"h-5 w-5 text-red-600 mt-0.5"}),u.jsxs("div",{children:[u.jsx("h3",{className:"font-medium text-red-900",children:"Validation failed"}),u.jsx("p",{className:"text-sm text-red-700 mt-1",children:i.error})]})]})}),(i==null?void 0:i.valid)&&u.jsxs("div",{className:"flex gap-3",children:[u.jsx("button",{onClick:p,disabled:l.isPending,className:"btn-primary flex items-center gap-2",children:l.isPending?u.jsxs(u.Fragment,{children:[u.jsx(wo,{className:"h-4 w-4 animate-spin"}),u.jsx("span",{className:"hidden md:inline",children:"Importing..."})]}):u.jsxs(u.Fragment,{children:[u.jsx(ou,{className:"h-4 w-4"}),u.jsx("span",{className:"hidden md:inline",children:"Start Import"})]})}),u.jsx("button",{onClick:m,disabled:l.isPending,className:"btn-secondary",children:"Cancel"})]}),l.isError&&u.jsx("div",{className:"rounded-lg border border-red-200 bg-red-50 p-4",children:u.jsxs("div",{className:"flex items-start gap-3",children:[u.jsx(ca,{className:"h-5 w-5 text-red-600 mt-0.5"}),u.jsxs("div",{children:[u.jsx("h3",{className:"font-medium text-red-900",children:"Import failed"}),u.jsx("p",{className:"text-sm text-red-700 mt-1",children:((g=(w=l.error.response)==null?void 0:w.data)==null?void 0:g.message)||"An error occurred during import"})]})]})})]})]})}function gie(){var b,_,E;const[t,e]=$.useState(null),[r,n]=$.useState(!1),[i,s]=$.useState(null),[a,o]=$.useState({}),l=Vt(),c=wt({mutationFn:async O=>{const S=new FormData;return S.append("file",O),(await le.post("/prm/v1/import/google-contacts/validate",S,{headers:{"Content-Type":"multipart/form-data"}})).data},onSuccess:O=>{var S;if(s(O),((S=O.duplicates)==null?void 0:S.length)>0){const N={};O.duplicates.forEach(P=>{N[P.index]="merge"}),o(N)}},onError:O=>{var S,N;s({valid:!1,error:((N=(S=O.response)==null?void 0:S.data)==null?void 0:N.message)||"Failed to validate file"})}}),d=wt({mutationFn:async({file:O,decisions:S})=>{const N=new FormData;return N.append("file",O),N.append("decisions",JSON.stringify(S)),(await le.post("/prm/v1/import/google-contacts",N,{headers:{"Content-Type":"multipart/form-data"}})).data},onSuccess:()=>{l.invalidateQueries({queryKey:["people"]}),l.invalidateQueries({queryKey:["companies"]}),l.invalidateQueries({queryKey:["dates"]}),l.invalidateQueries({queryKey:["dashboard"]})}}),h=$.useCallback(O=>{O.preventDefault(),O.stopPropagation(),O.type==="dragenter"||O.type==="dragover"?n(!0):O.type==="dragleave"&&n(!1)},[]),f=$.useCallback(O=>{O.preventDefault(),O.stopPropagation(),n(!1),O.dataTransfer.files&&O.dataTransfer.files[0]&&m(O.dataTransfer.files[0])},[]),p=O=>{O.target.files&&O.target.files[0]&&m(O.target.files[0])},m=O=>{if(!O.name.endsWith(".csv")){s({valid:!1,error:"Please select a CSV file"});return}e(O),s(null),o({}),d.reset(),c.mutate(O)},y=(O,S)=>{o(N=>({...N,[O]:S}))},w=()=>{t&&(i!=null&&i.valid)&&d.mutate({file:t,decisions:a})},g=()=>{e(null),s(null),o({}),c.reset(),d.reset()},v=(i==null?void 0:i.duplicates)||[],x=v.length>0;return u.jsxs("div",{className:"space-y-4",children:[u.jsx("h2",{className:"text-lg font-semibold",children:"Import from Google Contacts"}),u.jsx("p",{className:"text-sm text-gray-600",children:"Import contacts from a Google Contacts CSV export. To export from Google:"}),u.jsxs("ol",{className:"text-sm text-gray-600 list-decimal list-inside space-y-1 ml-2",children:[u.jsxs("li",{children:["Go to ",u.jsx("a",{href:"https://contacts.google.com",target:"_blank",rel:"noopener noreferrer",className:"text-primary-600 hover:underline",children:"contacts.google.com"})]}),u.jsx("li",{children:'Click "Export" in the left sidebar'}),u.jsx("li",{children:'Select "Google CSV" format and click "Export"'})]}),d.isSuccess?u.jsx("div",{className:"rounded-lg border border-green-200 bg-green-50 p-4",children:u.jsxs("div",{className:"flex items-start gap-3",children:[u.jsx(su,{className:"h-5 w-5 text-green-600 mt-0.5"}),u.jsxs("div",{className:"flex-1",children:[u.jsx("h3",{className:"font-medium text-green-900",children:"Import Complete"}),u.jsxs("div",{className:"mt-2 text-sm text-green-800 space-y-1",children:[u.jsxs("p",{children:["Contacts imported: ",d.data.stats.contacts_imported]}),u.jsxs("p",{children:["Contacts updated: ",d.data.stats.contacts_updated]}),u.jsxs("p",{children:["Contacts skipped: ",d.data.stats.contacts_skipped]}),u.jsxs("p",{children:["Organizations created: ",d.data.stats.companies_created]}),u.jsxs("p",{children:["Birthdays created: ",d.data.stats.dates_created]}),u.jsxs("p",{children:["Notes created: ",d.data.stats.notes_created]}),u.jsxs("p",{children:["Photos imported: ",d.data.stats.photos_imported]}),((b=d.data.stats.errors)==null?void 0:b.length)>0&&u.jsxs("div",{className:"mt-2 pt-2 border-t border-green-200",children:[u.jsx("p",{className:"font-medium",children:"Errors:"}),u.jsx("ul",{className:"list-disc list-inside",children:d.data.stats.errors.map((O,S)=>u.jsx("li",{children:O},S))})]})]}),u.jsx("button",{onClick:g,className:"mt-3 text-sm text-green-700 hover:text-green-800 font-medium",children:"Import another file"})]})]})}):u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:`relative rounded-lg border-2 border-dashed p-8 text-center transition-colors ${r?"border-primary-500 bg-primary-50":t?"border-green-300 bg-green-50":"border-gray-300 hover:border-gray-400"}`,onDragEnter:h,onDragLeave:h,onDragOver:h,onDrop:f,children:[u.jsx("input",{type:"file",accept:".csv",onChange:p,className:"absolute inset-0 w-full h-full opacity-0 cursor-pointer"}),c.isPending?u.jsxs("div",{className:"flex flex-col items-center gap-2",children:[u.jsx(wo,{className:"h-8 w-8 text-primary-600 animate-spin"}),u.jsx("p",{className:"text-gray-600",children:"Validating file..."})]}):t?u.jsxs("div",{className:"flex flex-col items-center gap-2",children:[u.jsx(qP,{className:"h-8 w-8 text-green-600"}),u.jsx("p",{className:"font-medium text-gray-900",children:t.name}),u.jsxs("p",{className:"text-sm text-gray-500",children:[(t.size/1024).toFixed(2)," KB"]})]}):u.jsxs("div",{className:"flex flex-col items-center gap-2",children:[u.jsx(ou,{className:"h-8 w-8 text-gray-400"}),u.jsx("p",{className:"text-gray-600",children:"Drag and drop your Google Contacts CSV here, or click to browse"}),u.jsx("p",{className:"text-sm text-gray-500",children:"Supports Google CSV format"})]})]}),i&&u.jsx("div",{className:`rounded-lg border p-4 ${i.valid?"border-green-200 bg-green-50":"border-red-200 bg-red-50"}`,children:i.valid?u.jsxs("div",{className:"flex items-start gap-3",children:[u.jsx(su,{className:"h-5 w-5 text-green-600 mt-0.5"}),u.jsxs("div",{className:"flex-1",children:[u.jsx("h3",{className:"font-medium text-green-900",children:"File validated successfully"}),u.jsxs("div",{className:"mt-3 grid grid-cols-2 sm:grid-cols-3 gap-3",children:[u.jsxs("div",{className:"flex items-center gap-2 text-sm text-green-800",children:[u.jsx(ta,{className:"h-4 w-4"}),u.jsxs("span",{children:[i.summary.contacts," contacts"]})]}),i.summary.companies_count>0&&u.jsxs("div",{className:"flex items-center gap-2 text-sm text-green-800",children:[u.jsx(us,{className:"h-4 w-4"}),u.jsxs("span",{children:[i.summary.companies_count," organizations"]})]}),i.summary.birthdays>0&&u.jsxs("div",{className:"flex items-center gap-2 text-sm text-green-800",children:[u.jsx(vH,{className:"h-4 w-4"}),u.jsxs("span",{children:[i.summary.birthdays," birthdays"]})]}),i.summary.notes>0&&u.jsxs("div",{className:"flex items-center gap-2 text-sm text-green-800",children:[u.jsx(EH,{className:"h-4 w-4"}),u.jsxs("span",{children:[i.summary.notes," notes"]})]}),i.summary.photos>0&&u.jsxs("div",{className:"flex items-center gap-2 text-sm text-green-800",children:[u.jsx(gH,{className:"h-4 w-4"}),u.jsxs("span",{children:[i.summary.photos," photos"]})]})]})]})]}):u.jsxs("div",{className:"flex items-start gap-3",children:[u.jsx(ca,{className:"h-5 w-5 text-red-600 mt-0.5"}),u.jsxs("div",{children:[u.jsx("h3",{className:"font-medium text-red-900",children:"Validation failed"}),u.jsx("p",{className:"text-sm text-red-700 mt-1",children:i.error})]})]})}),(i==null?void 0:i.valid)&&x&&u.jsx("div",{className:"rounded-lg border border-amber-200 bg-amber-50 p-4",children:u.jsxs("div",{className:"flex items-start gap-3",children:[u.jsx(Cte,{className:"h-5 w-5 text-amber-600 mt-0.5 flex-shrink-0"}),u.jsxs("div",{className:"flex-1",children:[u.jsxs("h3",{className:"font-medium text-amber-900",children:[v.length," contact",v.length>1?"s":""," may already exist"]}),u.jsx("p",{className:"text-sm text-amber-700 mt-1",children:"Choose how to handle each potential duplicate:"}),u.jsx("div",{className:"mt-4 space-y-4",children:v.map(O=>u.jsx(yie,{duplicate:O,decision:a[O.index]||"merge",onDecision:S=>y(O.index,S)},O.index))})]})]})}),(i==null?void 0:i.valid)&&u.jsxs("div",{className:"flex gap-3",children:[u.jsx("button",{onClick:w,disabled:d.isPending,className:"btn-primary flex items-center gap-2",children:d.isPending?u.jsxs(u.Fragment,{children:[u.jsx(wo,{className:"h-4 w-4 animate-spin"}),u.jsx("span",{className:"hidden md:inline",children:"Importing..."})]}):u.jsxs(u.Fragment,{children:[u.jsx(ou,{className:"h-4 w-4"}),u.jsx("span",{className:"hidden md:inline",children:"Start Import"})]})}),u.jsx("button",{onClick:g,disabled:d.isPending,className:"btn-secondary",children:"Cancel"})]}),d.isError&&u.jsx("div",{className:"rounded-lg border border-red-200 bg-red-50 p-4",children:u.jsxs("div",{className:"flex items-start gap-3",children:[u.jsx(ca,{className:"h-5 w-5 text-red-600 mt-0.5"}),u.jsxs("div",{children:[u.jsx("h3",{className:"font-medium text-red-900",children:"Import failed"}),u.jsx("p",{className:"text-sm text-red-700 mt-1",children:((E=(_=d.error.response)==null?void 0:_.data)==null?void 0:E.message)||"An error occurred during import"})]})]})})]})]})}function yie({duplicate:t,decision:e,onDecision:r}){var n,i;return u.jsxs("div",{className:"bg-white rounded-lg border border-amber-200 p-4",children:[u.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[u.jsxs("div",{className:"flex-1 min-w-0",children:[u.jsx("p",{className:"text-xs font-medium text-gray-500 uppercase tracking-wide mb-1",children:"From CSV"}),u.jsx("p",{className:"font-medium text-gray-900 truncate",children:t.csv_name}),t.csv_org&&u.jsx("p",{className:"text-sm text-gray-600 truncate",children:t.csv_org}),t.csv_email&&u.jsx("p",{className:"text-sm text-gray-500 truncate",children:t.csv_email})]}),u.jsx("div",{className:"hidden sm:flex items-center text-gray-400",children:u.jsx("span",{className:"text-lg",children:""})}),u.jsxs("div",{className:"flex-1 min-w-0",children:[u.jsx("p",{className:"text-xs font-medium text-gray-500 uppercase tracking-wide mb-1",children:"Existing Contact"}),u.jsxs("div",{className:"flex items-start gap-3",children:[t.existing_photo?u.jsx("img",{src:t.existing_photo,alt:"",className:"w-10 h-10 rounded-full object-cover flex-shrink-0"}):u.jsx("div",{className:"w-10 h-10 rounded-full bg-gray-200 flex items-center justify-center flex-shrink-0",children:u.jsx("span",{className:"text-gray-500 text-sm font-medium",children:((i=(n=t.existing_name)==null?void 0:n.charAt(0))==null?void 0:i.toUpperCase())||"?"})}),u.jsxs("div",{className:"min-w-0",children:[u.jsx("p",{className:"font-medium text-gray-900 truncate",children:t.existing_name}),t.existing_org&&u.jsx("p",{className:"text-sm text-gray-600 truncate",children:t.existing_org}),t.existing_email&&u.jsx("p",{className:"text-sm text-gray-500 truncate",children:t.existing_email})]})]})]})]}),u.jsxs("div",{className:"mt-4 flex flex-wrap gap-2",children:[u.jsxs("button",{type:"button",onClick:()=>r("merge"),className:`flex items-center gap-1.5 px-3 py-1.5 rounded-md text-sm font-medium transition-colors ${e==="merge"?"bg-primary-100 text-primary-800 ring-2 ring-primary-500":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:[u.jsx(Vte,{className:"h-4 w-4"}),"Update existing"]}),u.jsxs("button",{type:"button",onClick:()=>r("new"),className:`flex items-center gap-1.5 px-3 py-1.5 rounded-md text-sm font-medium transition-colors ${e==="new"?"bg-green-100 text-green-800 ring-2 ring-green-500":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:[u.jsx(Kte,{className:"h-4 w-4"}),"Create new"]}),u.jsxs("button",{type:"button",onClick:()=>r("skip"),className:`flex items-center gap-1.5 px-3 py-1.5 rounded-md text-sm font-medium transition-colors ${e==="skip"?"bg-gray-200 text-gray-800 ring-2 ring-gray-500":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:[u.jsx(Hte,{className:"h-4 w-4"}),"Skip"]})]})]})}const NI=[{id:"vcard",name:"vCard",description:"Apple Contacts, Outlook, Android",icon:Up,component:vie},{id:"google",name:"Google Contacts",description:"CSV export from Google",icon:qP,component:gie},{id:"monica",name:"Monica CRM",description:"SQL export from Monica",icon:$te,component:mie}];function bie(){var n;xn("Import - Settings");const[t,e]=$.useState("vcard"),r=(n=NI.find(i=>i.id===t))==null?void 0:n.component;return u.jsxs("div",{className:"max-w-2xl mx-auto space-y-6",children:[u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsxs(ce,{to:"/settings",className:"btn-secondary flex items-center gap-2",children:[u.jsx(yn,{className:"w-4 h-4"}),u.jsx("span",{className:"hidden md:inline",children:"Back to Settings"})]}),u.jsx("h1",{className:"text-2xl font-semibold",children:"Import Contacts"})]}),u.jsxs("div",{className:"card p-6",children:[u.jsx("p",{className:"text-sm text-gray-600 mb-6",children:"Import your contacts from various sources. Existing contacts with matching names will be updated instead of duplicated."}),u.jsx("div",{className:"border-b border-gray-200 mb-6",children:u.jsx("nav",{className:"-mb-px flex space-x-6","aria-label":"Import types",children:NI.map(i=>{const s=i.icon,a=t===i.id;return u.jsxs("button",{onClick:()=>e(i.id),className:`group inline-flex items-center py-3 px-1 border-b-2 font-medium text-sm transition-colors ${a?"border-primary-500 text-primary-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[u.jsx(s,{className:`mr-2 h-5 w-5 ${a?"text-primary-500":"text-gray-400 group-hover:text-gray-500"}`}),u.jsxs("div",{className:"text-left",children:[u.jsx("span",{className:"block",children:i.name}),u.jsx("span",{className:`block text-xs font-normal ${a?"text-primary-400":"text-gray-400"}`,children:i.description})]})]},i.id)})})}),r&&u.jsx(r,{})]})]})}function wie(){xn("Export Data - Settings");const t=e=>{e==="vcard"?window.location.href="/wp-json/prm/v1/export/vcard":e==="google-csv"&&(window.location.href="/wp-json/prm/v1/export/google-csv")};return u.jsxs("div",{className:"max-w-2xl mx-auto space-y-6",children:[u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsxs(ce,{to:"/settings",className:"btn-secondary flex items-center gap-2",children:[u.jsx(yn,{className:"w-4 h-4"}),u.jsx("span",{className:"hidden md:inline",children:"Back to Settings"})]}),u.jsx("h1",{className:"text-2xl font-semibold",children:"Export Data"})]}),u.jsxs("div",{className:"card p-6",children:[u.jsx("p",{className:"text-sm text-gray-600 mb-6",children:"Export all your contacts in a format compatible with other contact management systems."}),u.jsxs("div",{className:"space-y-4",children:[u.jsxs("button",{onClick:()=>t("vcard"),className:"w-full p-4 rounded-lg border border-gray-200 hover:bg-gray-50 text-left flex items-center gap-4",children:[u.jsx("div",{className:"p-3 bg-primary-50 rounded-lg",children:u.jsx(Up,{className:"w-6 h-6 text-primary-600"})}),u.jsxs("div",{className:"flex-1",children:[u.jsx("p",{className:"font-medium",children:"Export as vCard (.vcf)"}),u.jsx("p",{className:"text-sm text-gray-500",children:"Compatible with Apple Contacts, Outlook, Android, and most contact apps"})]}),u.jsx(iN,{className:"w-5 h-5 text-gray-400"})]}),u.jsxs("button",{onClick:()=>t("google-csv"),className:"w-full p-4 rounded-lg border border-gray-200 hover:bg-gray-50 text-left flex items-center gap-4",children:[u.jsx("div",{className:"p-3 bg-primary-50 rounded-lg",children:u.jsx(qP,{className:"w-6 h-6 text-primary-600"})}),u.jsxs("div",{className:"flex-1",children:[u.jsx("p",{className:"font-medium",children:"Export as Google Contacts CSV"}),u.jsx("p",{className:"text-sm text-gray-500",children:"Import directly into Google Contacts or other CSV-compatible systems"})]}),u.jsx(iN,{className:"w-5 h-5 text-gray-400"})]})]})]})]})}function xie(){xn("User Approval - Settings");const t=Vt();if(!((window.prmConfig||{}).isAdmin||!1))return u.jsx("div",{className:"max-w-2xl mx-auto",children:u.jsxs("div",{className:"card p-8 text-center",children:[u.jsx(xH,{className:"w-16 h-16 mx-auto text-amber-500 mb-4"}),u.jsx("h1",{className:"text-2xl font-bold mb-2",children:"Access Denied"}),u.jsx("p",{className:"text-gray-600 mb-6",children:"You don't have permission to manage user approvals. This feature is only available to administrators."}),u.jsx(ce,{to:"/settings",className:"btn-primary",children:"Back to Settings"})]})});const{data:n=[],isLoading:i}=ft({queryKey:["users"],queryFn:async()=>(await We.getUsers()).data}),s=wt({mutationFn:p=>We.approveUser(p),onSuccess:()=>{t.invalidateQueries({queryKey:["users"]})}}),a=wt({mutationFn:p=>We.denyUser(p),onSuccess:()=>{t.invalidateQueries({queryKey:["users"]})}}),o=wt({mutationFn:p=>We.deleteUser(p),onSuccess:()=>{t.invalidateQueries({queryKey:["users"]})}}),l=p=>{window.confirm("Are you sure you want to approve this user?")&&s.mutate(p)},c=p=>{window.confirm("Are you sure you want to deny this user? They will not be able to access the system.")&&a.mutate(p)},d=(p,m)=>{window.confirm(`Are you sure you want to delete ${m}? This will permanently delete their account and all their related data (people, organizations, dates). This action cannot be undone.`)&&o.mutate(p)};if(i)return u.jsx("div",{className:"flex items-center justify-center h-64",children:u.jsx(wo,{className:"w-8 h-8 animate-spin text-primary-600"})});const h=n.filter(p=>!p.is_approved),f=n.filter(p=>p.is_approved);return u.jsxs("div",{className:"max-w-2xl mx-auto space-y-6",children:[u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsxs(ce,{to:"/settings",className:"btn-secondary flex items-center gap-2",children:[u.jsx(yn,{className:"w-4 h-4"}),u.jsx("span",{className:"hidden md:inline",children:"Back to Settings"})]}),u.jsx("h1",{className:"text-2xl font-semibold",children:"User Approval"})]}),u.jsxs("div",{className:"space-y-6",children:[h.length>0&&u.jsxs("div",{children:[u.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Pending Approval"}),u.jsx("div",{className:"space-y-3",children:h.map(p=>u.jsxs("div",{className:"card p-4 flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsx("p",{className:"font-medium",children:p.name}),u.jsx("p",{className:"text-sm text-gray-500",children:p.email}),u.jsxs("p",{className:"text-xs text-gray-400",children:["Registered: ",new Date(p.registered).toLocaleDateString()]})]}),u.jsxs("div",{className:"flex gap-2",children:[u.jsxs("button",{onClick:()=>l(p.id),disabled:s.isPending||o.isPending,className:"btn-primary flex items-center gap-2",children:[u.jsx(Kj,{className:"w-4 h-4"}),"Approve"]}),u.jsxs("button",{onClick:()=>c(p.id),disabled:a.isPending||o.isPending,className:"btn-secondary flex items-center gap-2",children:[u.jsx(Qj,{className:"w-4 h-4"}),"Deny"]}),u.jsxs("button",{onClick:()=>d(p.id,p.name),disabled:s.isPending||a.isPending||o.isPending,className:"btn-danger flex items-center gap-2",children:[u.jsx(bi,{className:"w-4 h-4"}),"Delete"]})]})]},p.id))})]}),f.length>0&&u.jsxs("div",{children:[u.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Approved Users"}),u.jsx("div",{className:"space-y-3",children:f.map(p=>u.jsxs("div",{className:"card p-4 flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsxs("p",{className:"font-medium flex items-center gap-2",children:[p.name,u.jsx(Kj,{className:"w-4 h-4 text-green-600"})]}),u.jsx("p",{className:"text-sm text-gray-500",children:p.email})]}),u.jsxs("div",{className:"flex gap-2",children:[u.jsxs("button",{onClick:()=>c(p.id),disabled:a.isPending||o.isPending,className:"btn-secondary flex items-center gap-2",children:[u.jsx(Qj,{className:"w-4 h-4"}),"Revoke Access"]}),u.jsxs("button",{onClick:()=>d(p.id,p.name),disabled:a.isPending||o.isPending,className:"btn-danger flex items-center gap-2",children:[u.jsx(bi,{className:"w-4 h-4"}),"Delete"]})]})]},p.id))})]}),n.length===0&&u.jsx("div",{className:"card p-8 text-center",children:u.jsx("p",{className:"text-gray-600",children:"No Caelis users found."})})]})]})}/**
 * vis-data
 * http://visjs.org/
 *
 * Manage unstructured data using DataSet. Add, update, and remove data, and listen for changes in the data.
 *
 * @version 8.0.3
 * @date    2025-09-10T16:22:00.613Z
 *
 * @copyright (c) 2011-2017 Almende B.V, http://almende.com
 * @copyright (c) 2017-2019 visjs contributors, https://github.com/visjs
 *
 * @license
 * vis.js is dual licensed under both
 *
 *   1. The Apache 2.0 License
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 *   and
 *
 *   2. The MIT License
 *      http://opensource.org/licenses/MIT
 *
 * vis.js may be distributed under either license.
 */var PI=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Me(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var uv={exports:{}},CI={},mc,TI;function Ht(){if(TI)return mc;TI=1;var t=function(e){return e&&e.Math===Math&&e};return mc=t(typeof globalThis=="object"&&globalThis)||t(typeof window=="object"&&window)||t(typeof self=="object"&&self)||t(typeof PI=="object"&&PI)||t(typeof mc=="object"&&mc)||function(){return this}()||Function("return this")(),mc}var cv,jI;function Xe(){return jI||(jI=1,cv=function(t){try{return!!t()}catch{return!0}}),cv}var dv,II;function Ud(){if(II)return dv;II=1;var t=Xe();return dv=!t(function(){var e=(function(){}).bind();return typeof e!="function"||e.hasOwnProperty("prototype")}),dv}var hv,RI;function Kp(){if(RI)return hv;RI=1;var t=Ud(),e=Function.prototype,r=e.apply,n=e.call;return hv=typeof Reflect=="object"&&Reflect.apply||(t?n.bind(r):function(){return n.apply(r,arguments)}),hv}var fv,$I;function st(){if($I)return fv;$I=1;var t=Ud(),e=Function.prototype,r=e.call,n=t&&e.bind.bind(r,r);return fv=t?n:function(i){return function(){return r.apply(i,arguments)}},fv}var pv,kI;function ms(){if(kI)return pv;kI=1;var t=st(),e=t({}.toString),r=t("".slice);return pv=function(n){return r(e(n),8,-1)},pv}var mv,DI;function UH(){if(DI)return mv;DI=1;var t=ms(),e=st();return mv=function(r){if(t(r)==="Function")return e(r)},mv}var vv,qI;function or(){if(qI)return vv;qI=1;var t=typeof document=="object"&&document.all;return vv=typeof t>"u"&&t!==void 0?function(e){return typeof e=="function"||e===t}:function(e){return typeof e=="function"},vv}var gv={},yv,MI;function Kt(){if(MI)return yv;MI=1;var t=Xe();return yv=!t(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!==7}),yv}var bv,AI;function ln(){if(AI)return bv;AI=1;var t=Ud(),e=Function.prototype.call;return bv=t?e.bind(e):function(){return e.apply(e,arguments)},bv}var wv={},FI;function WP(){if(FI)return wv;FI=1;var t={}.propertyIsEnumerable,e=Object.getOwnPropertyDescriptor,r=e&&!t.call({1:2},1);return wv.f=r?function(i){var s=e(this,i);return!!s&&s.enumerable}:t,wv}var xv,LI;function Wd(){return LI||(LI=1,xv=function(t,e){return{enumerable:!(t&1),configurable:!(t&2),writable:!(t&4),value:e}}),xv}var _v,BI;function Gp(){if(BI)return _v;BI=1;var t=st(),e=Xe(),r=ms(),n=Object,i=t("".split);return _v=e(function(){return!n("z").propertyIsEnumerable(0)})?function(s){return r(s)==="String"?i(s,""):n(s)}:n,_v}var Sv,zI;function Vd(){return zI||(zI=1,Sv=function(t){return t==null}),Sv}var Ev,UI;function $o(){if(UI)return Ev;UI=1;var t=Vd(),e=TypeError;return Ev=function(r){if(t(r))throw new e("Can't call method on "+r);return r},Ev}var Ov,WI;function ji(){if(WI)return Ov;WI=1;var t=Gp(),e=$o();return Ov=function(r){return t(e(r))},Ov}var Nv,VI;function Wr(){if(VI)return Nv;VI=1;var t=or();return Nv=function(e){return typeof e=="object"?e!==null:t(e)},Nv}var Pv,HI;function tr(){return HI||(HI=1,Pv={}),Pv}var Cv,KI;function _n(){if(KI)return Cv;KI=1;var t=tr(),e=Ht(),r=or(),n=function(i){return r(i)?i:void 0};return Cv=function(i,s){return arguments.length<2?n(t[i])||n(e[i]):t[i]&&t[i][s]||e[i]&&e[i][s]},Cv}var Tv,GI;function lr(){if(GI)return Tv;GI=1;var t=st();return Tv=t({}.isPrototypeOf),Tv}var jv,YI;function Pu(){if(YI)return jv;YI=1;var t=Ht(),e=t.navigator,r=e&&e.userAgent;return jv=r?String(r):"",jv}var Iv,QI;function Hd(){if(QI)return Iv;QI=1;var t=Ht(),e=Pu(),r=t.process,n=t.Deno,i=r&&r.versions||n&&n.version,s=i&&i.v8,a,o;return s&&(a=s.split("."),o=a[0]>0&&a[0]<4?1:+(a[0]+a[1])),!o&&e&&(a=e.match(/Edge\/(\d+)/),(!a||a[1]>=74)&&(a=e.match(/Chrome\/(\d+)/),a&&(o=+a[1]))),Iv=o,Iv}var Rv,XI;function Cu(){if(XI)return Rv;XI=1;var t=Hd(),e=Xe(),r=Ht(),n=r.String;return Rv=!!Object.getOwnPropertySymbols&&!e(function(){var i=Symbol("symbol detection");return!n(i)||!(Object(i)instanceof Symbol)||!Symbol.sham&&t&&t<41}),Rv}var $v,JI;function WH(){if(JI)return $v;JI=1;var t=Cu();return $v=t&&!Symbol.sham&&typeof Symbol.iterator=="symbol",$v}var kv,ZI;function Kd(){if(ZI)return kv;ZI=1;var t=_n(),e=or(),r=lr(),n=WH(),i=Object;return kv=n?function(s){return typeof s=="symbol"}:function(s){var a=t("Symbol");return e(a)&&r(a.prototype,i(s))},kv}var Dv,eR;function Tu(){if(eR)return Dv;eR=1;var t=String;return Dv=function(e){try{return t(e)}catch{return"Object"}},Dv}var qv,tR;function vs(){if(tR)return qv;tR=1;var t=or(),e=Tu(),r=TypeError;return qv=function(n){if(t(n))return n;throw new r(e(n)+" is not a function")},qv}var Mv,rR;function VP(){if(rR)return Mv;rR=1;var t=vs(),e=Vd();return Mv=function(r,n){var i=r[n];return e(i)?void 0:t(i)},Mv}var Av,nR;function _ie(){if(nR)return Av;nR=1;var t=ln(),e=or(),r=Wr(),n=TypeError;return Av=function(i,s){var a,o;if(s==="string"&&e(a=i.toString)&&!r(o=t(a,i))||e(a=i.valueOf)&&!r(o=t(a,i))||s!=="string"&&e(a=i.toString)&&!r(o=t(a,i)))return o;throw new n("Can't convert object to primitive value")},Av}var Fv={exports:{}},Lv,iR;function ju(){return iR||(iR=1,Lv=!0),Lv}var Bv,sR;function Sie(){if(sR)return Bv;sR=1;var t=Ht(),e=Object.defineProperty;return Bv=function(r,n){try{e(t,r,{value:n,configurable:!0,writable:!0})}catch{t[r]=n}return n},Bv}var aR;function HP(){if(aR)return Fv.exports;aR=1;var t=ju(),e=Ht(),r=Sie(),n="__core-js_shared__",i=Fv.exports=e[n]||r(n,{});return(i.versions||(i.versions=[])).push({version:"3.44.0",mode:t?"pure":"global",copyright:" 2014-2025 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.44.0/LICENSE",source:"https://github.com/zloirock/core-js"}),Fv.exports}var zv,oR;function Iu(){if(oR)return zv;oR=1;var t=HP();return zv=function(e,r){return t[e]||(t[e]=r||{})},zv}var Uv,lR;function ui(){if(lR)return Uv;lR=1;var t=$o(),e=Object;return Uv=function(r){return e(t(r))},Uv}var Wv,uR;function ur(){if(uR)return Wv;uR=1;var t=st(),e=ui(),r=t({}.hasOwnProperty);return Wv=Object.hasOwn||function(i,s){return r(e(i),s)},Wv}var Vv,cR;function Yp(){if(cR)return Vv;cR=1;var t=st(),e=0,r=Math.random(),n=t(1.1.toString);return Vv=function(i){return"Symbol("+(i===void 0?"":i)+")_"+n(++e+r,36)},Vv}var Hv,dR;function cr(){if(dR)return Hv;dR=1;var t=Ht(),e=Iu(),r=ur(),n=Yp(),i=Cu(),s=WH(),a=t.Symbol,o=e("wks"),l=s?a.for||a:a&&a.withoutSetter||n;return Hv=function(c){return r(o,c)||(o[c]=i&&r(a,c)?a[c]:l("Symbol."+c)),o[c]},Hv}var Kv,hR;function VH(){if(hR)return Kv;hR=1;var t=ln(),e=Wr(),r=Kd(),n=VP(),i=_ie(),s=cr(),a=TypeError,o=s("toPrimitive");return Kv=function(l,c){if(!e(l)||r(l))return l;var d=n(l,o),h;if(d){if(c===void 0&&(c="default"),h=t(d,l,c),!e(h)||r(h))return h;throw new a("Can't convert object to primitive value")}return c===void 0&&(c="number"),i(l,c)},Kv}var Gv,fR;function KP(){if(fR)return Gv;fR=1;var t=VH(),e=Kd();return Gv=function(r){var n=t(r,"string");return e(n)?n:n+""},Gv}var Yv,pR;function HH(){if(pR)return Yv;pR=1;var t=Ht(),e=Wr(),r=t.document,n=e(r)&&e(r.createElement);return Yv=function(i){return n?r.createElement(i):{}},Yv}var Qv,mR;function KH(){if(mR)return Qv;mR=1;var t=Kt(),e=Xe(),r=HH();return Qv=!t&&!e(function(){return Object.defineProperty(r("div"),"a",{get:function(){return 7}}).a!==7}),Qv}var vR;function Qp(){if(vR)return gv;vR=1;var t=Kt(),e=ln(),r=WP(),n=Wd(),i=ji(),s=KP(),a=ur(),o=KH(),l=Object.getOwnPropertyDescriptor;return gv.f=t?l:function(d,h){if(d=i(d),h=s(h),o)try{return l(d,h)}catch{}if(a(d,h))return n(!e(r.f,d,h),d[h])},gv}var Xv,gR;function Eie(){if(gR)return Xv;gR=1;var t=Xe(),e=or(),r=/#|\.prototype\./,n=function(l,c){var d=s[i(l)];return d===o?!0:d===a?!1:e(c)?t(c):!!c},i=n.normalize=function(l){return String(l).replace(r,".").toLowerCase()},s=n.data={},a=n.NATIVE="N",o=n.POLYFILL="P";return Xv=n,Xv}var Jv,yR;function Xp(){if(yR)return Jv;yR=1;var t=UH(),e=vs(),r=Ud(),n=t(t.bind);return Jv=function(i,s){return e(i),s===void 0?i:r?n(i,s):function(){return i.apply(s,arguments)}},Jv}var Zv={},eg,bR;function GH(){if(bR)return eg;bR=1;var t=Kt(),e=Xe();return eg=t&&e(function(){return Object.defineProperty(function(){},"prototype",{value:42,writable:!1}).prototype!==42}),eg}var tg,wR;function gs(){if(wR)return tg;wR=1;var t=Wr(),e=String,r=TypeError;return tg=function(n){if(t(n))return n;throw new r(e(n)+" is not an object")},tg}var xR;function Fn(){if(xR)return Zv;xR=1;var t=Kt(),e=KH(),r=GH(),n=gs(),i=KP(),s=TypeError,a=Object.defineProperty,o=Object.getOwnPropertyDescriptor,l="enumerable",c="configurable",d="writable";return Zv.f=t?r?function(f,p,m){if(n(f),p=i(p),n(m),typeof f=="function"&&p==="prototype"&&"value"in m&&d in m&&!m[d]){var y=o(f,p);y&&y[d]&&(f[p]=m.value,m={configurable:c in m?m[c]:y[c],enumerable:l in m?m[l]:y[l],writable:!1})}return a(f,p,m)}:a:function(f,p,m){if(n(f),p=i(p),n(m),e)try{return a(f,p,m)}catch{}if("get"in m||"set"in m)throw new s("Accessors not supported");return"value"in m&&(f[p]=m.value),f},Zv}var rg,_R;function Ru(){if(_R)return rg;_R=1;var t=Kt(),e=Fn(),r=Wd();return rg=t?function(n,i,s){return e.f(n,i,r(1,s))}:function(n,i,s){return n[i]=s,n},rg}var ng,SR;function Pe(){if(SR)return ng;SR=1;var t=Ht(),e=Kp(),r=UH(),n=or(),i=Qp().f,s=Eie(),a=tr(),o=Xp(),l=Ru(),c=ur(),d=function(h){var f=function(p,m,y){if(this instanceof f){switch(arguments.length){case 0:return new h;case 1:return new h(p);case 2:return new h(p,m)}return new h(p,m,y)}return e(h,this,arguments)};return f.prototype=h.prototype,f};return ng=function(h,f){var p=h.target,m=h.global,y=h.stat,w=h.proto,g=m?t:y?t[p]:t[p]&&t[p].prototype,v=m?a:a[p]||l(a,p,{})[p],x=v.prototype,b,_,E,O,S,N,P,I,C;for(O in f)b=s(m?O:p+(y?".":"#")+O,h.forced),_=!b&&g&&c(g,O),N=v[O],_&&(h.dontCallGetSet?(C=i(g,O),P=C&&C.value):P=g[O]),S=_&&P?P:f[O],!(!b&&!w&&typeof N==typeof S)&&(h.bind&&_?I=o(S,t):h.wrap&&_?I=d(S):w&&n(S)?I=r(S):I=S,(h.sham||S&&S.sham||N&&N.sham)&&l(I,"sham",!0),l(v,O,I),w&&(E=p+"Prototype",c(a,E)||l(a,E,{}),l(a[E],O,S),h.real&&x&&(b||!x[O])&&l(x,O,S)))},ng}var ER;function Oie(){if(ER)return CI;ER=1;var t=Pe(),e=Kt(),r=Fn().f;return t({target:"Object",stat:!0,forced:Object.defineProperty!==r,sham:!e},{defineProperty:r}),CI}var OR;function Nie(){if(OR)return uv.exports;OR=1,Oie();var t=tr(),e=t.Object,r=uv.exports=function(i,s,a){return e.defineProperty(i,s,a)};return e.defineProperty.sham&&(r.sham=!0),uv.exports}var ig,NR;function YH(){if(NR)return ig;NR=1;var t=Nie();return ig=t,ig}var sg,PR;function Pie(){if(PR)return sg;PR=1;var t=YH();return sg=t,sg}var ag,CR;function Cie(){if(CR)return ag;CR=1;var t=Pie();return ag=t,ag}var og,TR;function Tie(){return TR||(TR=1,og=Cie()),og}var jie=Tie(),Iie=Me(jie),jR={},lg,IR;function ko(){if(IR)return lg;IR=1;var t=ms();return lg=Array.isArray||function(r){return t(r)==="Array"},lg}var ug,RR;function Rie(){if(RR)return ug;RR=1;var t=Math.ceil,e=Math.floor;return ug=Math.trunc||function(n){var i=+n;return(i>0?e:t)(i)},ug}var cg,$R;function $u(){if($R)return cg;$R=1;var t=Rie();return cg=function(e){var r=+e;return r!==r||r===0?0:t(r)},cg}var dg,kR;function QH(){if(kR)return dg;kR=1;var t=$u(),e=Math.min;return dg=function(r){var n=t(r);return n>0?e(n,9007199254740991):0},dg}var hg,DR;function ba(){if(DR)return hg;DR=1;var t=QH();return hg=function(e){return t(e.length)},hg}var fg,qR;function XH(){if(qR)return fg;qR=1;var t=TypeError,e=9007199254740991;return fg=function(r){if(r>e)throw t("Maximum allowed index exceeded");return r},fg}var pg,MR;function Jp(){if(MR)return pg;MR=1;var t=Kt(),e=Fn(),r=Wd();return pg=function(n,i,s){t?e.f(n,i,r(0,s)):n[i]=s},pg}var mg,AR;function GP(){if(AR)return mg;AR=1;var t=cr(),e=t("toStringTag"),r={};return r[e]="z",mg=String(r)==="[object z]",mg}var vg,FR;function wa(){if(FR)return vg;FR=1;var t=GP(),e=or(),r=ms(),n=cr(),i=n("toStringTag"),s=Object,a=r(function(){return arguments}())==="Arguments",o=function(l,c){try{return l[c]}catch{}};return vg=t?r:function(l){var c,d,h;return l===void 0?"Undefined":l===null?"Null":typeof(d=o(c=s(l),i))=="string"?d:a?r(c):(h=r(c))==="Object"&&e(c.callee)?"Arguments":h},vg}var gg,LR;function $ie(){if(LR)return gg;LR=1;var t=st(),e=or(),r=HP(),n=t(Function.toString);return e(r.inspectSource)||(r.inspectSource=function(i){return n(i)}),gg=r.inspectSource,gg}var yg,BR;function JH(){if(BR)return yg;BR=1;var t=st(),e=Xe(),r=or(),n=wa(),i=_n(),s=$ie(),a=function(){},o=i("Reflect","construct"),l=/^\s*(?:class|function)\b/,c=t(l.exec),d=!l.test(a),h=function(m){if(!r(m))return!1;try{return o(a,[],m),!0}catch{return!1}},f=function(m){if(!r(m))return!1;switch(n(m)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return d||!!c(l,s(m))}catch{return!0}};return f.sham=!0,yg=!o||e(function(){var p;return h(h.call)||!h(Object)||!h(function(){p=!0})||p})?f:h,yg}var bg,zR;function kie(){if(zR)return bg;zR=1;var t=ko(),e=JH(),r=Wr(),n=cr(),i=n("species"),s=Array;return bg=function(a){var o;return t(a)&&(o=a.constructor,e(o)&&(o===s||t(o.prototype))?o=void 0:r(o)&&(o=o[i],o===null&&(o=void 0))),o===void 0?s:o},bg}var wg,UR;function YP(){if(UR)return wg;UR=1;var t=kie();return wg=function(e,r){return new(t(e))(r===0?0:r)},wg}var xg,WR;function Gd(){if(WR)return xg;WR=1;var t=Xe(),e=cr(),r=Hd(),n=e("species");return xg=function(i){return r>=51||!t(function(){var s=[],a=s.constructor={};return a[n]=function(){return{foo:1}},s[i](Boolean).foo!==1})},xg}var VR;function ZH(){if(VR)return jR;VR=1;var t=Pe(),e=Xe(),r=ko(),n=Wr(),i=ui(),s=ba(),a=XH(),o=Jp(),l=YP(),c=Gd(),d=cr(),h=Hd(),f=d("isConcatSpreadable"),p=h>=51||!e(function(){var w=[];return w[f]=!1,w.concat()[0]!==w}),m=function(w){if(!n(w))return!1;var g=w[f];return g!==void 0?!!g:r(w)},y=!p||!c("concat");return t({target:"Array",proto:!0,arity:1,forced:y},{concat:function(g){var v=i(this),x=l(v,0),b=0,_,E,O,S,N;for(_=-1,O=arguments.length;_<O;_++)if(N=_===-1?v:arguments[_],m(N))for(S=s(N),a(b+S),E=0;E<S;E++,b++)E in N&&o(x,b,N[E]);else a(b+1),o(x,b++,N);return x.length=b,x}}),jR}var HR={},KR={},_g,GR;function xa(){if(GR)return _g;GR=1;var t=wa(),e=String;return _g=function(r){if(t(r)==="Symbol")throw new TypeError("Cannot convert a Symbol value to a string");return e(r)},_g}var Sg={},Eg,YR;function QP(){if(YR)return Eg;YR=1;var t=$u(),e=Math.max,r=Math.min;return Eg=function(n,i){var s=t(n);return s<0?e(s+i,0):r(s,i)},Eg}var Og,QR;function Die(){if(QR)return Og;QR=1;var t=ji(),e=QP(),r=ba(),n=function(i){return function(s,a,o){var l=t(s),c=r(l);if(c===0)return!i&&-1;var d=e(o,c),h;if(i&&a!==a){for(;c>d;)if(h=l[d++],h!==h)return!0}else for(;c>d;d++)if((i||d in l)&&l[d]===a)return i||d||0;return!i&&-1}};return Og={includes:n(!0),indexOf:n(!1)},Og}var Ng,XR;function Yd(){return XR||(XR=1,Ng={}),Ng}var Pg,JR;function eK(){if(JR)return Pg;JR=1;var t=st(),e=ur(),r=ji(),n=Die().indexOf,i=Yd(),s=t([].push);return Pg=function(a,o){var l=r(a),c=0,d=[],h;for(h in l)!e(i,h)&&e(l,h)&&s(d,h);for(;o.length>c;)e(l,h=o[c++])&&(~n(d,h)||s(d,h));return d},Pg}var Cg,ZR;function XP(){return ZR||(ZR=1,Cg=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]),Cg}var Tg,e$;function Zp(){if(e$)return Tg;e$=1;var t=eK(),e=XP();return Tg=Object.keys||function(n){return t(n,e)},Tg}var t$;function JP(){if(t$)return Sg;t$=1;var t=Kt(),e=GH(),r=Fn(),n=gs(),i=ji(),s=Zp();return Sg.f=t&&!e?Object.defineProperties:function(o,l){n(o);for(var c=i(l),d=s(l),h=d.length,f=0,p;h>f;)r.f(o,p=d[f++],c[p]);return o},Sg}var jg,r$;function qie(){if(r$)return jg;r$=1;var t=_n();return jg=t("document","documentElement"),jg}var Ig,n$;function em(){if(n$)return Ig;n$=1;var t=Iu(),e=Yp(),r=t("keys");return Ig=function(n){return r[n]||(r[n]=e(n))},Ig}var Rg,i$;function Qd(){if(i$)return Rg;i$=1;var t=gs(),e=JP(),r=XP(),n=Yd(),i=qie(),s=HH(),a=em(),o=">",l="<",c="prototype",d="script",h=a("IE_PROTO"),f=function(){},p=function(v){return l+d+o+v+l+"/"+d+o},m=function(v){v.write(p("")),v.close();var x=v.parentWindow.Object;return v=null,x},y=function(){var v=s("iframe"),x="java"+d+":",b;return v.style.display="none",i.appendChild(v),v.src=String(x),b=v.contentWindow.document,b.open(),b.write(p("document.F=Object")),b.close(),b.F},w,g=function(){try{w=new ActiveXObject("htmlfile")}catch{}g=typeof document<"u"?document.domain&&w?m(w):y():m(w);for(var v=r.length;v--;)delete g[c][r[v]];return g()};return n[h]=!0,Rg=Object.create||function(x,b){var _;return x!==null?(f[c]=t(x),_=new f,f[c]=null,_[h]=x):_=g(),b===void 0?_:e.f(_,b)},Rg}var $g={},s$;function tm(){if(s$)return $g;s$=1;var t=eK(),e=XP(),r=e.concat("length","prototype");return $g.f=Object.getOwnPropertyNames||function(i){return t(i,r)},$g}var kg={},Dg,a$;function ku(){if(a$)return Dg;a$=1;var t=st();return Dg=t([].slice),Dg}var o$;function tK(){if(o$)return kg;o$=1;var t=ms(),e=ji(),r=tm().f,n=ku(),i=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],s=function(a){try{return r(a)}catch{return n(i)}};return kg.f=function(o){return i&&t(o)==="Window"?s(o):r(e(o))},kg}var qg={},l$;function rm(){return l$||(l$=1,qg.f=Object.getOwnPropertySymbols),qg}var Mg,u$;function Xd(){if(u$)return Mg;u$=1;var t=Ru();return Mg=function(e,r,n,i){return i&&i.enumerable?e[r]=n:t(e,r,n),e},Mg}var Ag,c$;function ZP(){if(c$)return Ag;c$=1;var t=Fn();return Ag=function(e,r,n){return t.f(e,r,n)},Ag}var Fg={},d$;function nm(){if(d$)return Fg;d$=1;var t=cr();return Fg.f=t,Fg}var Lg,h$;function Et(){if(h$)return Lg;h$=1;var t=tr(),e=ur(),r=nm(),n=Fn().f;return Lg=function(i){var s=t.Symbol||(t.Symbol={});e(s,i)||n(s,i,{value:r.f(i)})},Lg}var Bg,f$;function rK(){if(f$)return Bg;f$=1;var t=ln(),e=_n(),r=cr(),n=Xd();return Bg=function(){var i=e("Symbol"),s=i&&i.prototype,a=s&&s.valueOf,o=r("toPrimitive");s&&!s[o]&&n(s,o,function(l){return t(a,this)},{arity:1})},Bg}var zg,p$;function Mie(){if(p$)return zg;p$=1;var t=GP(),e=wa();return zg=t?{}.toString:function(){return"[object "+e(this)+"]"},zg}var Ug,m$;function Do(){if(m$)return Ug;m$=1;var t=GP(),e=Fn().f,r=Ru(),n=ur(),i=Mie(),s=cr(),a=s("toStringTag");return Ug=function(o,l,c,d){var h=c?o:o&&o.prototype;h&&(n(h,a)||e(h,a,{configurable:!0,value:l}),d&&!t&&r(h,"toString",i))},Ug}var Wg,v$;function Aie(){if(v$)return Wg;v$=1;var t=Ht(),e=or(),r=t.WeakMap;return Wg=e(r)&&/native code/.test(String(r)),Wg}var Vg,g$;function Jd(){if(g$)return Vg;g$=1;var t=Aie(),e=Ht(),r=Wr(),n=Ru(),i=ur(),s=HP(),a=em(),o=Yd(),l="Object already initialized",c=e.TypeError,d=e.WeakMap,h,f,p,m=function(v){return p(v)?f(v):h(v,{})},y=function(v){return function(x){var b;if(!r(x)||(b=f(x)).type!==v)throw new c("Incompatible receiver, "+v+" required");return b}};if(t||s.state){var w=s.state||(s.state=new d);w.get=w.get,w.has=w.has,w.set=w.set,h=function(v,x){if(w.has(v))throw new c(l);return x.facade=v,w.set(v,x),x},f=function(v){return w.get(v)||{}},p=function(v){return w.has(v)}}else{var g=a("state");o[g]=!0,h=function(v,x){if(i(v,g))throw new c(l);return x.facade=v,n(v,g,x),x},f=function(v){return i(v,g)?v[g]:{}},p=function(v){return i(v,g)}}return Vg={set:h,get:f,has:p,enforce:m,getterFor:y},Vg}var Hg,y$;function Du(){if(y$)return Hg;y$=1;var t=Xp(),e=st(),r=Gp(),n=ui(),i=ba(),s=YP(),a=e([].push),o=function(l){var c=l===1,d=l===2,h=l===3,f=l===4,p=l===6,m=l===7,y=l===5||p;return function(w,g,v,x){for(var b=n(w),_=r(b),E=i(_),O=t(g,v),S=0,N=x||s,P=c?N(w,E):d||m?N(w,0):void 0,I,C;E>S;S++)if((y||S in _)&&(I=_[S],C=O(I,S,b),l))if(c)P[S]=C;else if(C)switch(l){case 3:return!0;case 5:return I;case 6:return S;case 2:a(P,I)}else switch(l){case 4:return!1;case 7:a(P,I)}return p?-1:h||f?f:P}};return Hg={forEach:o(0),map:o(1),filter:o(2),some:o(3),every:o(4),find:o(5),findIndex:o(6),filterReject:o(7)},Hg}var b$;function Fie(){if(b$)return KR;b$=1;var t=Pe(),e=Ht(),r=ln(),n=st(),i=ju(),s=Kt(),a=Cu(),o=Xe(),l=ur(),c=lr(),d=gs(),h=ji(),f=KP(),p=xa(),m=Wd(),y=Qd(),w=Zp(),g=tm(),v=tK(),x=rm(),b=Qp(),_=Fn(),E=JP(),O=WP(),S=Xd(),N=ZP(),P=Iu(),I=em(),C=Yd(),T=Yp(),M=cr(),B=nm(),Q=Et(),G=rK(),F=Do(),W=Jd(),U=Du().forEach,z=I("hidden"),Y="Symbol",fe="prototype",ye=W.set,De=W.getterFor(Y),pe=Object[fe],Ee=e.Symbol,Ce=Ee&&Ee[fe],Ve=e.RangeError,At=e.TypeError,gt=e.QObject,Qt=b.f,rt=_.f,rr=v.f,Ze=O.f,fr=n([].push),et=P("symbols"),yt=P("op-symbols"),jr=P("wks"),Vr=!gt||!gt[fe]||!gt[fe].findChild,j=function(ve,te,oe){var se=Qt(pe,te);se&&delete pe[te],rt(ve,te,oe),se&&ve!==pe&&rt(pe,te,se)},k=s&&o(function(){return y(rt({},"a",{get:function(){return rt(this,"a",{value:7}).a}})).a!==7})?j:rt,q=function(ve,te){var oe=et[ve]=y(Ce);return ye(oe,{type:Y,tag:ve,description:te}),s||(oe.description=te),oe},J=function(te,oe,se){te===pe&&J(yt,oe,se),d(te);var be=f(oe);return d(se),l(et,be)?(se.enumerable?(l(te,z)&&te[z][be]&&(te[z][be]=!1),se=y(se,{enumerable:m(0,!1)})):(l(te,z)||rt(te,z,m(1,y(null))),te[z][be]=!0),k(te,be,se)):rt(te,be,se)},V=function(te,oe){d(te);var se=h(oe),be=w(se).concat($t(se));return U(be,function(D){(!s||r(ue,se,D))&&J(te,D,se[D])}),te},H=function(te,oe){return oe===void 0?y(te):V(y(te),oe)},ue=function(te){var oe=f(te),se=r(Ze,this,oe);return this===pe&&l(et,oe)&&!l(yt,oe)?!1:se||!l(this,oe)||!l(et,oe)||l(this,z)&&this[z][oe]?se:!0},Re=function(te,oe){var se=h(te),be=f(oe);if(!(se===pe&&l(et,be)&&!l(yt,be))){var D=Qt(se,be);return D&&l(et,be)&&!(l(se,z)&&se[z][be])&&(D.enumerable=!0),D}},Fe=function(te){var oe=rr(h(te)),se=[];return U(oe,function(be){!l(et,be)&&!l(C,be)&&fr(se,be)}),se},$t=function(ve){var te=ve===pe,oe=rr(te?yt:h(ve)),se=[];return U(oe,function(be){l(et,be)&&(!te||l(pe,be))&&fr(se,et[be])}),se};return a||(Ee=function(){if(c(Ce,this))throw new At("Symbol is not a constructor");var te=!arguments.length||arguments[0]===void 0?void 0:p(arguments[0]),oe=T(te),se=function(be){var D=this===void 0?e:this;D===pe&&r(se,yt,be),l(D,z)&&l(D[z],oe)&&(D[z][oe]=!1);var ie=m(1,be);try{k(D,oe,ie)}catch(K){if(!(K instanceof Ve))throw K;j(D,oe,ie)}};return s&&Vr&&k(pe,oe,{configurable:!0,set:se}),q(oe,te)},Ce=Ee[fe],S(Ce,"toString",function(){return De(this).tag}),S(Ee,"withoutSetter",function(ve){return q(T(ve),ve)}),O.f=ue,_.f=J,E.f=V,b.f=Re,g.f=v.f=Fe,x.f=$t,B.f=function(ve){return q(M(ve),ve)},s&&(N(Ce,"description",{configurable:!0,get:function(){return De(this).description}}),i||S(pe,"propertyIsEnumerable",ue,{unsafe:!0}))),t({global:!0,constructor:!0,wrap:!0,forced:!a,sham:!a},{Symbol:Ee}),U(w(jr),function(ve){Q(ve)}),t({target:Y,stat:!0,forced:!a},{useSetter:function(){Vr=!0},useSimple:function(){Vr=!1}}),t({target:"Object",stat:!0,forced:!a,sham:!s},{create:H,defineProperty:J,defineProperties:V,getOwnPropertyDescriptor:Re}),t({target:"Object",stat:!0,forced:!a},{getOwnPropertyNames:Fe}),G(),F(Ee,Y),C[z]=!0,KR}var w$={},Kg,x$;function nK(){if(x$)return Kg;x$=1;var t=Cu();return Kg=t&&!!Symbol.for&&!!Symbol.keyFor,Kg}var _$;function Lie(){if(_$)return w$;_$=1;var t=Pe(),e=_n(),r=ur(),n=xa(),i=Iu(),s=nK(),a=i("string-to-symbol-registry"),o=i("symbol-to-string-registry");return t({target:"Symbol",stat:!0,forced:!s},{for:function(l){var c=n(l);if(r(a,c))return a[c];var d=e("Symbol")(c);return a[c]=d,o[d]=c,d}}),w$}var S$={},E$;function Bie(){if(E$)return S$;E$=1;var t=Pe(),e=ur(),r=Kd(),n=Tu(),i=Iu(),s=nK(),a=i("symbol-to-string-registry");return t({target:"Symbol",stat:!0,forced:!s},{keyFor:function(l){if(!r(l))throw new TypeError(n(l)+" is not a symbol");if(e(a,l))return a[l]}}),S$}var O$={},Gg,N$;function zie(){if(N$)return Gg;N$=1;var t=st(),e=ko(),r=or(),n=ms(),i=xa(),s=t([].push);return Gg=function(a){if(r(a))return a;if(e(a)){for(var o=a.length,l=[],c=0;c<o;c++){var d=a[c];typeof d=="string"?s(l,d):(typeof d=="number"||n(d)==="Number"||n(d)==="String")&&s(l,i(d))}var h=l.length,f=!0;return function(p,m){if(f)return f=!1,m;if(e(this))return m;for(var y=0;y<h;y++)if(l[y]===p)return m}}},Gg}var P$;function iK(){if(P$)return O$;P$=1;var t=Pe(),e=_n(),r=Kp(),n=ln(),i=st(),s=Xe(),a=or(),o=Kd(),l=ku(),c=zie(),d=Cu(),h=String,f=e("JSON","stringify"),p=i(/./.exec),m=i("".charAt),y=i("".charCodeAt),w=i("".replace),g=i(1.1.toString),v=/[\uD800-\uDFFF]/g,x=/^[\uD800-\uDBFF]$/,b=/^[\uDC00-\uDFFF]$/,_=!d||s(function(){var N=e("Symbol")("stringify detection");return f([N])!=="[null]"||f({a:N})!=="{}"||f(Object(N))!=="{}"}),E=s(function(){return f("\uDF06\uD834")!=='"\\udf06\\ud834"'||f("\uDEAD")!=='"\\udead"'}),O=function(N,P){var I=l(arguments),C=c(P);if(!(!a(C)&&(N===void 0||o(N))))return I[1]=function(T,M){if(a(C)&&(M=n(C,this,h(T),M)),!o(M))return M},r(f,null,I)},S=function(N,P,I){var C=m(I,P-1),T=m(I,P+1);return p(x,N)&&!p(b,T)||p(b,N)&&!p(x,C)?"\\u"+g(y(N,0),16):N};return f&&t({target:"JSON",stat:!0,arity:3,forced:_||E},{stringify:function(P,I,C){var T=l(arguments),M=r(_?O:f,null,T);return E&&typeof M=="string"?w(M,v,S):M}}),O$}var C$={},T$;function Uie(){if(T$)return C$;T$=1;var t=Pe(),e=Cu(),r=Xe(),n=rm(),i=ui(),s=!e||r(function(){n.f(1)});return t({target:"Object",stat:!0,forced:s},{getOwnPropertySymbols:function(o){var l=n.f;return l?l(i(o)):[]}}),C$}var j$;function sK(){return j$||(j$=1,Fie(),Lie(),Bie(),iK(),Uie()),HR}var I$={},R$;function aK(){if(R$)return I$;R$=1;var t=Et();return t("asyncDispose"),I$}var $$={},k$;function Wie(){if(k$)return $$;k$=1;var t=Et();return t("asyncIterator"),$$}var D$={},q$;function oK(){if(q$)return D$;q$=1;var t=Et();return t("dispose"),D$}var M$={},A$;function Vie(){if(A$)return M$;A$=1;var t=Et();return t("hasInstance"),M$}var F$={},L$;function Hie(){if(L$)return F$;L$=1;var t=Et();return t("isConcatSpreadable"),F$}var B$={},z$;function lK(){if(z$)return B$;z$=1;var t=Et();return t("iterator"),B$}var U$={},W$;function Kie(){if(W$)return U$;W$=1;var t=Et();return t("match"),U$}var V$={},H$;function Gie(){if(H$)return V$;H$=1;var t=Et();return t("matchAll"),V$}var K$={},G$;function Yie(){if(G$)return K$;G$=1;var t=Et();return t("replace"),K$}var Y$={},Q$;function Qie(){if(Q$)return Y$;Q$=1;var t=Et();return t("search"),Y$}var X$={},J$;function Xie(){if(J$)return X$;J$=1;var t=Et();return t("species"),X$}var Z$={},ek;function Jie(){if(ek)return Z$;ek=1;var t=Et();return t("split"),Z$}var tk={},rk;function uK(){if(rk)return tk;rk=1;var t=Et(),e=rK();return t("toPrimitive"),e(),tk}var nk={},ik;function Zie(){if(ik)return nk;ik=1;var t=_n(),e=Et(),r=Do();return e("toStringTag"),r(t("Symbol"),"Symbol"),nk}var sk={},ak;function ese(){if(ak)return sk;ak=1;var t=Et();return t("unscopables"),sk}var ok={},lk;function tse(){if(lk)return ok;lk=1;var t=Ht(),e=Do();return e(t.JSON,"JSON",!0),ok}var Yg,uk;function rse(){if(uk)return Yg;uk=1,ZH(),sK(),aK(),Wie(),oK(),Vie(),Hie(),lK(),Kie(),Gie(),Yie(),Qie(),Xie(),Jie(),uK(),Zie(),ese(),tse();var t=tr();return Yg=t.Symbol,Yg}var ck={},Qg,dk;function nse(){return dk||(dk=1,Qg=function(){}),Qg}var Xg,hk;function qu(){return hk||(hk=1,Xg={}),Xg}var Jg,fk;function ise(){if(fk)return Jg;fk=1;var t=Kt(),e=ur(),r=Function.prototype,n=t&&Object.getOwnPropertyDescriptor,i=e(r,"name"),s=i&&(function(){}).name==="something",a=i&&(!t||t&&n(r,"name").configurable);return Jg={EXISTS:i,PROPER:s,CONFIGURABLE:a},Jg}var Zg,pk;function sse(){if(pk)return Zg;pk=1;var t=Xe();return Zg=!t(function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype}),Zg}var ey,mk;function cK(){if(mk)return ey;mk=1;var t=ur(),e=or(),r=ui(),n=em(),i=sse(),s=n("IE_PROTO"),a=Object,o=a.prototype;return ey=i?a.getPrototypeOf:function(l){var c=r(l);if(t(c,s))return c[s];var d=c.constructor;return e(d)&&c instanceof d?d.prototype:c instanceof a?o:null},ey}var ty,vk;function dK(){if(vk)return ty;vk=1;var t=Xe(),e=or(),r=Wr(),n=Qd(),i=cK(),s=Xd(),a=cr(),o=ju(),l=a("iterator"),c=!1,d,h,f;[].keys&&(f=[].keys(),"next"in f?(h=i(i(f)),h!==Object.prototype&&(d=h)):c=!0);var p=!r(d)||t(function(){var m={};return d[l].call(m)!==m});return p?d={}:o&&(d=n(d)),e(d[l])||s(d,l,function(){return this}),ty={IteratorPrototype:d,BUGGY_SAFARI_ITERATORS:c},ty}var ry,gk;function ase(){if(gk)return ry;gk=1;var t=dK().IteratorPrototype,e=Qd(),r=Wd(),n=Do(),i=qu(),s=function(){return this};return ry=function(a,o,l,c){var d=o+" Iterator";return a.prototype=e(t,{next:r(+!c,l)}),n(a,d,!1,!0),i[d]=s,a},ry}var ny,yk;function ose(){if(yk)return ny;yk=1;var t=st(),e=vs();return ny=function(r,n,i){try{return t(e(Object.getOwnPropertyDescriptor(r,n)[i]))}catch{}},ny}var iy,bk;function lse(){if(bk)return iy;bk=1;var t=Wr();return iy=function(e){return t(e)||e===null},iy}var sy,wk;function use(){if(wk)return sy;wk=1;var t=lse(),e=String,r=TypeError;return sy=function(n){if(t(n))return n;throw new r("Can't set "+e(n)+" as a prototype")},sy}var ay,xk;function cse(){if(xk)return ay;xk=1;var t=ose(),e=Wr(),r=$o(),n=use();return ay=Object.setPrototypeOf||("__proto__"in{}?function(){var i=!1,s={},a;try{a=t(Object.prototype,"__proto__","set"),a(s,[]),i=s instanceof Array}catch{}return function(l,c){return r(l),n(c),e(l)&&(i?a(l,c):l.__proto__=c),l}}():void 0),ay}var oy,_k;function eC(){if(_k)return oy;_k=1;var t=Pe(),e=ln(),r=ju(),n=ise(),i=or(),s=ase(),a=cK(),o=cse(),l=Do(),c=Ru(),d=Xd(),h=cr(),f=qu(),p=dK(),m=n.PROPER,y=n.CONFIGURABLE,w=p.IteratorPrototype,g=p.BUGGY_SAFARI_ITERATORS,v=h("iterator"),x="keys",b="values",_="entries",E=function(){return this};return oy=function(O,S,N,P,I,C,T){s(N,S,P);var M=function(ye){if(ye===I&&W)return W;if(!g&&ye&&ye in G)return G[ye];switch(ye){case x:return function(){return new N(this,ye)};case b:return function(){return new N(this,ye)};case _:return function(){return new N(this,ye)}}return function(){return new N(this)}},B=S+" Iterator",Q=!1,G=O.prototype,F=G[v]||G["@@iterator"]||I&&G[I],W=!g&&F||M(I),U=S==="Array"&&G.entries||F,z,Y,fe;if(U&&(z=a(U.call(new O)),z!==Object.prototype&&z.next&&(!r&&a(z)!==w&&(o?o(z,w):i(z[v])||d(z,v,E)),l(z,B,!0,!0),r&&(f[B]=E))),m&&I===b&&F&&F.name!==b&&(!r&&y?c(G,"name",b):(Q=!0,W=function(){return e(F,this)})),I)if(Y={values:M(b),keys:C?W:M(x),entries:M(_)},T)for(fe in Y)(g||Q||!(fe in G))&&d(G,fe,Y[fe]);else t({target:S,proto:!0,forced:g||Q},Y);return(!r||T)&&G[v]!==W&&d(G,v,W,{name:I}),f[S]=W,Y},oy}var ly,Sk;function tC(){return Sk||(Sk=1,ly=function(t,e){return{value:t,done:e}}),ly}var uy,Ek;function _a(){if(Ek)return uy;Ek=1;var t=ji(),e=nse(),r=qu(),n=Jd(),i=Fn().f,s=eC(),a=tC(),o=ju(),l=Kt(),c="Array Iterator",d=n.set,h=n.getterFor(c);uy=s(Array,"Array",function(p,m){d(this,{type:c,target:t(p),index:0,kind:m})},function(){var p=h(this),m=p.target,y=p.index++;if(!m||y>=m.length)return p.target=null,a(void 0,!0);switch(p.kind){case"keys":return a(y,!1);case"values":return a(m[y],!1)}return a([y,m[y]],!1)},"values");var f=r.Arguments=r.Array;if(e("keys"),e("values"),e("entries"),!o&&l&&f.name!=="values")try{i(f,"name",{value:"values"})}catch{}return uy}var cy,Ok;function dse(){return Ok||(Ok=1,cy={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}),cy}var Nk;function Sa(){if(Nk)return ck;Nk=1,_a();var t=dse(),e=Ht(),r=Do(),n=qu();for(var i in t)r(e[i],i),n[i]=n.Array;return ck}var dy,Pk;function hK(){if(Pk)return dy;Pk=1;var t=rse();return Sa(),dy=t,dy}var Ck={},Tk;function hse(){if(Tk)return Ck;Tk=1;var t=cr(),e=Fn().f,r=t("metadata"),n=Function.prototype;return n[r]===void 0&&e(n,r,{value:null}),Ck}var jk={},Ik;function fse(){return Ik||(Ik=1,aK()),jk}var Rk={},$k;function pse(){return $k||($k=1,oK()),Rk}var kk={},Dk;function mse(){if(Dk)return kk;Dk=1;var t=Et();return t("metadata"),kk}var hy,qk;function vse(){if(qk)return hy;qk=1;var t=hK();return hse(),fse(),pse(),mse(),hy=t,hy}var Mk={},fy,Ak;function fK(){if(Ak)return fy;Ak=1;var t=_n(),e=st(),r=t("Symbol"),n=r.keyFor,i=e(r.prototype.valueOf);return fy=r.isRegisteredSymbol||function(a){try{return n(i(a))!==void 0}catch{return!1}},fy}var Fk;function gse(){if(Fk)return Mk;Fk=1;var t=Pe(),e=fK();return t({target:"Symbol",stat:!0},{isRegisteredSymbol:e}),Mk}var Lk={},py,Bk;function pK(){if(Bk)return py;Bk=1;for(var t=Iu(),e=_n(),r=st(),n=Kd(),i=cr(),s=e("Symbol"),a=s.isWellKnownSymbol,o=e("Object","getOwnPropertyNames"),l=r(s.prototype.valueOf),c=t("wks"),d=0,h=o(s),f=h.length;d<f;d++)try{var p=h[d];n(s[p])&&i(p)}catch{}return py=function(y){if(a&&a(y))return!0;try{for(var w=l(y),g=0,v=o(c),x=v.length;g<x;g++)if(c[v[g]]==w)return!0}catch{}return!1},py}var zk;function yse(){if(zk)return Lk;zk=1;var t=Pe(),e=pK();return t({target:"Symbol",stat:!0,forced:!0},{isWellKnownSymbol:e}),Lk}var Uk={},Wk;function bse(){if(Wk)return Uk;Wk=1;var t=Et();return t("customMatcher"),Uk}var Vk={},Hk;function wse(){if(Hk)return Vk;Hk=1;var t=Et();return t("observable"),Vk}var Kk={},Gk;function xse(){if(Gk)return Kk;Gk=1;var t=Pe(),e=fK();return t({target:"Symbol",stat:!0,name:"isRegisteredSymbol"},{isRegistered:e}),Kk}var Yk={},Qk;function _se(){if(Qk)return Yk;Qk=1;var t=Pe(),e=pK();return t({target:"Symbol",stat:!0,name:"isWellKnownSymbol",forced:!0},{isWellKnown:e}),Yk}var Xk={},Jk;function Sse(){if(Jk)return Xk;Jk=1;var t=Et();return t("matcher"),Xk}var Zk={},eD;function Ese(){if(eD)return Zk;eD=1;var t=Et();return t("metadataKey"),Zk}var tD={},rD;function Ose(){if(rD)return tD;rD=1;var t=Et();return t("patternMatch"),tD}var nD={},iD;function Nse(){if(iD)return nD;iD=1;var t=Et();return t("replaceAll"),nD}var my,sD;function Pse(){if(sD)return my;sD=1;var t=vse();return gse(),yse(),bse(),wse(),xse(),_se(),Sse(),Ese(),Ose(),Nse(),my=t,my}var vy,aD;function Cse(){return aD||(aD=1,vy=Pse()),vy}var Tse=Cse(),Gh=Me(Tse),oD={},gy,lD;function jse(){if(lD)return gy;lD=1;var t=st(),e=$u(),r=xa(),n=$o(),i=t("".charAt),s=t("".charCodeAt),a=t("".slice),o=function(l){return function(c,d){var h=r(n(c)),f=e(d),p=h.length,m,y;return f<0||f>=p?l?"":void 0:(m=s(h,f),m<55296||m>56319||f+1===p||(y=s(h,f+1))<56320||y>57343?l?i(h,f):m:l?a(h,f,f+2):(m-55296<<10)+(y-56320)+65536)}};return gy={codeAt:o(!1),charAt:o(!0)},gy}var uD;function im(){if(uD)return oD;uD=1;var t=jse().charAt,e=xa(),r=Jd(),n=eC(),i=tC(),s="String Iterator",a=r.set,o=r.getterFor(s);return n(String,"String",function(l){a(this,{type:s,string:e(l),index:0})},function(){var c=o(this),d=c.string,h=c.index,f;return h>=d.length?i(void 0,!0):(f=t(d,h),c.index+=f.length,i(f,!1))}),oD}var yy,cD;function Ise(){if(cD)return yy;cD=1,_a(),im(),lK();var t=nm();return yy=t.f("iterator"),yy}var by,dD;function mK(){if(dD)return by;dD=1;var t=Ise();return Sa(),by=t,by}var wy,hD;function Rse(){if(hD)return wy;hD=1;var t=mK();return wy=t,wy}var xy,fD;function $se(){if(fD)return xy;fD=1;var t=Rse();return xy=t,xy}var _y,pD;function kse(){return pD||(pD=1,_y=$se()),_y}var Dse=kse(),qse=Me(Dse);function hd(t){"@babel/helpers - typeof";return hd=typeof Gh=="function"&&typeof qse=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Gh=="function"&&e.constructor===Gh&&e!==Gh.prototype?"symbol":typeof e},hd(t)}var Sy,mD;function Mse(){if(mD)return Sy;mD=1,uK();var t=nm();return Sy=t.f("toPrimitive"),Sy}var Ey,vD;function Ase(){if(vD)return Ey;vD=1;var t=Mse();return Ey=t,Ey}var Oy,gD;function Fse(){if(gD)return Oy;gD=1;var t=Ase();return Oy=t,Oy}var Ny,yD;function Lse(){if(yD)return Ny;yD=1;var t=Fse();return Ny=t,Ny}var Py,bD;function Bse(){return bD||(bD=1,Py=Lse()),Py}var zse=Bse(),Use=Me(zse);function Wse(t,e){if(hd(t)!="object"||!t)return t;var r=t[Use];if(r!==void 0){var n=r.call(t,e);if(hd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Vse(t){var e=Wse(t,"string");return hd(e)=="symbol"?e:e+""}function ra(t,e,r){return(e=Vse(e))in t?Iie(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var wD={},Cy,xD;function Hse(){if(xD)return Cy;xD=1;var t=st(),e=vs(),r=Wr(),n=ur(),i=ku(),s=Ud(),a=Function,o=t([].concat),l=t([].join),c={},d=function(h,f,p){if(!n(c,f)){for(var m=[],y=0;y<f;y++)m[y]="a["+y+"]";c[f]=a("C,a","return new C("+l(m,",")+")")}return c[f](h,p)};return Cy=s?a.bind:function(f){var p=e(this),m=p.prototype,y=i(arguments,1),w=function(){var v=o(y,i(arguments));return this instanceof w?d(p,v.length,v):p.apply(f,v)};return r(m)&&(w.prototype=m),w},Cy}var _D;function Kse(){if(_D)return wD;_D=1;var t=Pe(),e=Hse();return t({target:"Function",proto:!0,forced:Function.bind!==e},{bind:e}),wD}var Ty,SD;function un(){if(SD)return Ty;SD=1;var t=Ht(),e=tr();return Ty=function(r,n){var i=e[r+"Prototype"],s=i&&i[n];if(s)return s;var a=t[r],o=a&&a.prototype;return o&&o[n]},Ty}var jy,ED;function Gse(){if(ED)return jy;ED=1,Kse();var t=un();return jy=t("Function","bind"),jy}var Iy,OD;function Yse(){if(OD)return Iy;OD=1;var t=lr(),e=Gse(),r=Function.prototype;return Iy=function(n){var i=n.bind;return n===r||t(r,n)&&i===r.bind?e:i},Iy}var Ry,ND;function Qse(){if(ND)return Ry;ND=1;var t=Yse();return Ry=t,Ry}var $y,PD;function Xse(){return PD||(PD=1,$y=Qse()),$y}var Jse=Xse(),vK=Me(Jse),CD={},ky,TD;function Zse(){if(TD)return ky;TD=1;var t=vs(),e=ui(),r=Gp(),n=ba(),i=TypeError,s="Reduce of empty array with no initial value",a=function(o){return function(l,c,d,h){var f=e(l),p=r(f),m=n(f);if(t(c),m===0&&d<2)throw new i(s);var y=o?m-1:0,w=o?-1:1;if(d<2)for(;;){if(y in p){h=p[y],y+=w;break}if(y+=w,o?y<0:m<=y)throw new i(s)}for(;o?y>=0:m>y;y+=w)y in p&&(h=c(h,p[y],y,f));return h}};return ky={left:a(!1),right:a(!0)},ky}var Dy,jD;function sm(){if(jD)return Dy;jD=1;var t=Xe();return Dy=function(e,r){var n=[][e];return!!n&&t(function(){n.call(null,r||function(){return 1},1)})},Dy}var qy,ID;function gK(){if(ID)return qy;ID=1;var t=Ht(),e=Pu(),r=ms(),n=function(i){return e.slice(0,i.length)===i};return qy=function(){return n("Bun/")?"BUN":n("Cloudflare-Workers")?"CLOUDFLARE":n("Deno/")?"DENO":n("Node.js/")?"NODE":t.Bun&&typeof Bun.version=="string"?"BUN":t.Deno&&typeof Deno.version=="object"?"DENO":r(t.process)==="process"?"NODE":t.window&&t.document?"BROWSER":"REST"}(),qy}var My,RD;function eae(){if(RD)return My;RD=1;var t=gK();return My=t==="NODE",My}var $D;function tae(){if($D)return CD;$D=1;var t=Pe(),e=Zse().left,r=sm(),n=Hd(),i=eae(),s=!i&&n>79&&n<83,a=s||!r("reduce");return t({target:"Array",proto:!0,forced:a},{reduce:function(l){var c=arguments.length;return e(this,l,c,c>1?arguments[1]:void 0)}}),CD}var Ay,kD;function rae(){if(kD)return Ay;kD=1,tae();var t=un();return Ay=t("Array","reduce"),Ay}var Fy,DD;function nae(){if(DD)return Fy;DD=1;var t=lr(),e=rae(),r=Array.prototype;return Fy=function(n){var i=n.reduce;return n===r||t(r,n)&&i===r.reduce?e:i},Fy}var Ly,qD;function iae(){if(qD)return Ly;qD=1;var t=nae();return Ly=t,Ly}var By,MD;function sae(){return MD||(MD=1,By=iae()),By}var aae=sae(),oae=Me(aae),AD={},FD;function lae(){if(FD)return AD;FD=1;var t=Pe(),e=Du().filter,r=Gd(),n=r("filter");return t({target:"Array",proto:!0,forced:!n},{filter:function(s){return e(this,s,arguments.length>1?arguments[1]:void 0)}}),AD}var zy,LD;function uae(){if(LD)return zy;LD=1,lae();var t=un();return zy=t("Array","filter"),zy}var Uy,BD;function cae(){if(BD)return Uy;BD=1;var t=lr(),e=uae(),r=Array.prototype;return Uy=function(n){var i=n.filter;return n===r||t(r,n)&&i===r.filter?e:i},Uy}var Wy,zD;function dae(){if(zD)return Wy;zD=1;var t=cae();return Wy=t,Wy}var Vy,UD;function hae(){return UD||(UD=1,Vy=dae()),Vy}var fae=hae(),bl=Me(fae),WD={},VD;function pae(){if(VD)return WD;VD=1;var t=Pe(),e=Du().map,r=Gd(),n=r("map");return t({target:"Array",proto:!0,forced:!n},{map:function(s){return e(this,s,arguments.length>1?arguments[1]:void 0)}}),WD}var Hy,HD;function mae(){if(HD)return Hy;HD=1,pae();var t=un();return Hy=t("Array","map"),Hy}var Ky,KD;function vae(){if(KD)return Ky;KD=1;var t=lr(),e=mae(),r=Array.prototype;return Ky=function(n){var i=n.map;return n===r||t(r,n)&&i===r.map?e:i},Ky}var Gy,GD;function gae(){if(GD)return Gy;GD=1;var t=vae();return Gy=t,Gy}var Yy,YD;function yae(){return YD||(YD=1,Yy=gae()),Yy}var bae=yae(),Jn=Me(bae),Qy,QD;function wae(){return QD||(QD=1,Qy=hK()),Qy}var xae=wae(),_ae=Me(xae),XD={},JD;function Sae(){if(JD)return XD;JD=1;var t=Pe(),e=ko(),r=JH(),n=Wr(),i=QP(),s=ba(),a=ji(),o=Jp(),l=cr(),c=Gd(),d=ku(),h=c("slice"),f=l("species"),p=Array,m=Math.max;return t({target:"Array",proto:!0,forced:!h},{slice:function(w,g){var v=a(this),x=s(v),b=i(w,x),_=i(g===void 0?x:g,x),E,O,S;if(e(v)&&(E=v.constructor,r(E)&&(E===p||e(E.prototype))?E=void 0:n(E)&&(E=E[f],E===null&&(E=void 0)),E===p||E===void 0))return d(v,b,_);for(O=new(E===void 0?p:E)(m(_-b,0)),S=0;b<_;b++,S++)b in v&&o(O,S,v[b]);return O.length=S,O}}),XD}var Xy,ZD;function Eae(){if(ZD)return Xy;ZD=1,Sae();var t=un();return Xy=t("Array","slice"),Xy}var Jy,eq;function Oae(){if(eq)return Jy;eq=1;var t=lr(),e=Eae(),r=Array.prototype;return Jy=function(n){var i=n.slice;return n===r||t(r,n)&&i===r.slice?e:i},Jy}var Zy,tq;function Nae(){if(tq)return Zy;tq=1;var t=Oae();return Zy=t,Zy}var eb,rq;function Pae(){return rq||(rq=1,eb=Nae()),eb}var Cae=Pae(),Tae=Me(Cae),nq={},tb,iq;function yK(){if(iq)return tb;iq=1;var t=_n(),e=st(),r=tm(),n=rm(),i=gs(),s=e([].concat);return tb=t("Reflect","ownKeys")||function(o){var l=r.f(i(o)),c=n.f;return c?s(l,c(o)):l},tb}var sq;function jae(){if(sq)return nq;sq=1;var t=Pe(),e=yK();return t({target:"Reflect",stat:!0},{ownKeys:e}),nq}var rb,aq;function Iae(){if(aq)return rb;aq=1,jae();var t=tr();return rb=t.Reflect.ownKeys,rb}var nb,oq;function Rae(){if(oq)return nb;oq=1;var t=Iae();return nb=t,nb}var ib,lq;function $ae(){return lq||(lq=1,ib=Rae()),ib}var kae=$ae(),Dae=Me(kae),uq={},cq;function qae(){if(cq)return uq;cq=1;var t=Pe(),e=ko();return t({target:"Array",stat:!0},{isArray:e}),uq}var sb,dq;function Mae(){if(dq)return sb;dq=1,qae();var t=tr();return sb=t.Array.isArray,sb}var ab,hq;function Aae(){if(hq)return ab;hq=1;var t=Mae();return ab=t,ab}var ob,fq;function Fae(){return fq||(fq=1,ob=Aae()),ob}var Lae=Fae(),mi=Me(Lae),pq={},mq;function Bae(){if(mq)return pq;mq=1;var t=Pe(),e=ui(),r=Zp(),n=Xe(),i=n(function(){r(1)});return t({target:"Object",stat:!0,forced:i},{keys:function(a){return r(e(a))}}),pq}var lb,vq;function zae(){if(vq)return lb;vq=1,Bae();var t=tr();return lb=t.Object.keys,lb}var ub,gq;function Uae(){if(gq)return ub;gq=1;var t=zae();return ub=t,ub}var cb,yq;function Wae(){return yq||(yq=1,cb=Uae()),cb}var Vae=Wae(),rC=Me(Vae),bq={},db,wq;function Hae(){if(wq)return db;wq=1;var t=Du().forEach,e=sm(),r=e("forEach");return db=r?[].forEach:function(i){return t(this,i,arguments.length>1?arguments[1]:void 0)},db}var xq;function Kae(){if(xq)return bq;xq=1;var t=Pe(),e=Hae();return t({target:"Array",proto:!0,forced:[].forEach!==e},{forEach:e}),bq}var hb,_q;function Gae(){if(_q)return hb;_q=1,Kae();var t=un();return hb=t("Array","forEach"),hb}var fb,Sq;function Yae(){if(Sq)return fb;Sq=1;var t=Gae();return fb=t,fb}var pb,Eq;function Qae(){if(Eq)return pb;Eq=1;var t=wa(),e=ur(),r=lr(),n=Yae(),i=Array.prototype,s={DOMTokenList:!0,NodeList:!0};return pb=function(a){var o=a.forEach;return a===i||r(i,a)&&o===i.forEach||e(s,t(a))?n:o},pb}var mb,Oq;function Xae(){return Oq||(Oq=1,mb=Qae()),mb}var Jae=Xae(),_o=Me(Jae),Nq={},Pq;function Zae(){if(Pq)return Nq;Pq=1;var t=Pe(),e=st(),r=ko(),n=e([].reverse),i=[1,2];return t({target:"Array",proto:!0,forced:String(i)===String(i.reverse())},{reverse:function(){return r(this)&&(this.length=this.length),n(this)}}),Nq}var vb,Cq;function eoe(){if(Cq)return vb;Cq=1,Zae();var t=un();return vb=t("Array","reverse"),vb}var gb,Tq;function toe(){if(Tq)return gb;Tq=1;var t=lr(),e=eoe(),r=Array.prototype;return gb=function(n){var i=n.reverse;return n===r||t(r,n)&&i===r.reverse?e:i},gb}var yb,jq;function roe(){if(jq)return yb;jq=1;var t=toe();return yb=t,yb}var bb,Iq;function noe(){return Iq||(Iq=1,bb=roe()),bb}var ioe=noe(),soe=Me(ioe),Rq={},wb,$q;function aoe(){if($q)return wb;$q=1;var t=Kt(),e=ko(),r=TypeError,n=Object.getOwnPropertyDescriptor,i=t&&!function(){if(this!==void 0)return!0;try{Object.defineProperty([],"length",{writable:!1}).length=1}catch(s){return s instanceof TypeError}}();return wb=i?function(s,a){if(e(s)&&!n(s,"length").writable)throw new r("Cannot set read only .length");return s.length=a}:function(s,a){return s.length=a},wb}var xb,kq;function bK(){if(kq)return xb;kq=1;var t=Tu(),e=TypeError;return xb=function(r,n){if(!delete r[n])throw new e("Cannot delete property "+t(n)+" of "+t(r))},xb}var Dq;function ooe(){if(Dq)return Rq;Dq=1;var t=Pe(),e=ui(),r=QP(),n=$u(),i=ba(),s=aoe(),a=XH(),o=YP(),l=Jp(),c=bK(),d=Gd(),h=d("splice"),f=Math.max,p=Math.min;return t({target:"Array",proto:!0,forced:!h},{splice:function(y,w){var g=e(this),v=i(g),x=r(y,v),b=arguments.length,_,E,O,S,N,P;for(b===0?_=E=0:b===1?(_=0,E=v-x):(_=b-2,E=p(f(n(w),0),v-x)),a(v+_-E),O=o(g,E),S=0;S<E;S++)N=x+S,N in g&&l(O,S,g[N]);if(O.length=E,_<E){for(S=x;S<v-E;S++)N=S+E,P=S+_,N in g?g[P]=g[N]:c(g,P);for(S=v;S>v-E+_;S--)c(g,S-1)}else if(_>E)for(S=v-E;S>x;S--)N=S+E-1,P=S+_-1,N in g?g[P]=g[N]:c(g,P);for(S=0;S<_;S++)g[S+x]=arguments[S+2];return s(g,v-E+_),O}}),Rq}var _b,qq;function loe(){if(qq)return _b;qq=1,ooe();var t=un();return _b=t("Array","splice"),_b}var Sb,Mq;function uoe(){if(Mq)return Sb;Mq=1;var t=lr(),e=loe(),r=Array.prototype;return Sb=function(n){var i=n.splice;return n===r||t(r,n)&&i===r.splice?e:i},Sb}var Eb,Aq;function coe(){if(Aq)return Eb;Aq=1;var t=uoe();return Eb=t,Eb}var Ob,Fq;function doe(){return Fq||(Fq=1,Ob=coe()),Ob}var hoe=doe(),wK=Me(hoe),Lq={},Nb,Bq;function foe(){if(Bq)return Nb;Bq=1;var t=Kt(),e=st(),r=ln(),n=Xe(),i=Zp(),s=rm(),a=WP(),o=ui(),l=Gp(),c=Object.assign,d=Object.defineProperty,h=e([].concat);return Nb=!c||n(function(){if(t&&c({b:1},c(d({},"a",{enumerable:!0,get:function(){d(this,"b",{value:3,enumerable:!1})}}),{b:2})).b!==1)return!0;var f={},p={},m=Symbol("assign detection"),y="abcdefghijklmnopqrst";return f[m]=7,y.split("").forEach(function(w){p[w]=w}),c({},f)[m]!==7||i(c({},p)).join("")!==y})?function(p,m){for(var y=o(p),w=arguments.length,g=1,v=s.f,x=a.f;w>g;)for(var b=l(arguments[g++]),_=v?h(i(b),v(b)):i(b),E=_.length,O=0,S;E>O;)S=_[O++],(!t||r(x,b,S))&&(y[S]=b[S]);return y}:c,Nb}var zq;function poe(){if(zq)return Lq;zq=1;var t=Pe(),e=foe();return t({target:"Object",stat:!0,arity:2,forced:Object.assign!==e},{assign:e}),Lq}var Pb,Uq;function moe(){if(Uq)return Pb;Uq=1,poe();var t=tr();return Pb=t.Object.assign,Pb}var Cb,Wq;function voe(){if(Wq)return Cb;Wq=1;var t=moe();return Cb=t,Cb}var Tb,Vq;function goe(){return Vq||(Vq=1,Tb=voe()),Tb}var yoe=goe(),boe=Me(yoe),jb,Hq;function woe(){if(Hq)return jb;Hq=1,ZH();var t=un();return jb=t("Array","concat"),jb}var Ib,Kq;function xoe(){if(Kq)return Ib;Kq=1;var t=lr(),e=woe(),r=Array.prototype;return Ib=function(n){var i=n.concat;return n===r||t(r,n)&&i===r.concat?e:i},Ib}var Rb,Gq;function _oe(){if(Gq)return Rb;Gq=1;var t=xoe();return Rb=t,Rb}var $b,Yq;function Soe(){return Yq||(Yq=1,$b=_oe()),$b}var Eoe=Soe(),Ooe=Me(Eoe),Qq={},Xq;function Noe(){if(Xq)return Qq;Xq=1;var t=Pe(),e=Kt(),r=Qd();return t({target:"Object",stat:!0,sham:!e},{create:r}),Qq}var kb,Jq;function Poe(){if(Jq)return kb;Jq=1,Noe();var t=tr(),e=t.Object;return kb=function(n,i){return e.create(n,i)},kb}var Db,Zq;function Coe(){if(Zq)return Db;Zq=1;var t=Poe();return Db=t,Db}var qb,eM;function Toe(){return eM||(eM=1,qb=Coe()),qb}var joe=Toe(),Ioe=Me(joe),tM={},Mb,rM;function Roe(){if(rM)return Mb;rM=1;var t=$u(),e=xa(),r=$o(),n=RangeError;return Mb=function(s){var a=e(r(this)),o="",l=t(s);if(l<0||l===1/0)throw new n("Wrong number of repetitions");for(;l>0;(l>>>=1)&&(a+=a))l&1&&(o+=a);return o},Mb}var Ab,nM;function $oe(){if(nM)return Ab;nM=1;var t=st(),e=QH(),r=xa(),n=Roe(),i=$o(),s=t(n),a=t("".slice),o=Math.ceil,l=function(c){return function(d,h,f){var p=r(i(d)),m=e(h),y=p.length,w=f===void 0?" ":r(f),g,v;return m<=y||w===""?p:(g=m-y,v=s(w,o(g/w.length)),v.length>g&&(v=a(v,0,g)),c?p+v:v+p)}};return Ab={start:l(!1),end:l(!0)},Ab}var Fb,iM;function koe(){if(iM)return Fb;iM=1;var t=st(),e=Xe(),r=$oe().start,n=RangeError,i=isFinite,s=Math.abs,a=Date.prototype,o=a.toISOString,l=t(a.getTime),c=t(a.getUTCDate),d=t(a.getUTCFullYear),h=t(a.getUTCHours),f=t(a.getUTCMilliseconds),p=t(a.getUTCMinutes),m=t(a.getUTCMonth),y=t(a.getUTCSeconds);return Fb=e(function(){return o.call(new Date(-5e13-1))!=="0385-07-25T07:06:39.999Z"})||!e(function(){o.call(new Date(NaN))})?function(){if(!i(l(this)))throw new n("Invalid time value");var g=this,v=d(g),x=f(g),b=v<0?"-":v>9999?"+":"";return b+r(s(v),b?6:4,0)+"-"+r(m(g)+1,2,0)+"-"+r(c(g),2,0)+"T"+r(h(g),2,0)+":"+r(p(g),2,0)+":"+r(y(g),2,0)+"."+r(x,3,0)+"Z"}:o,Fb}var sM;function Doe(){if(sM)return tM;sM=1;var t=Pe(),e=ln(),r=ui(),n=VH(),i=koe(),s=ms(),a=Xe(),o=a(function(){return new Date(NaN).toJSON()!==null||e(Date.prototype.toJSON,{toISOString:function(){return 1}})!==1});return t({target:"Date",proto:!0,forced:o},{toJSON:function(c){var d=r(this),h=n(d,"number");return typeof h=="number"&&!isFinite(h)?null:!("toISOString"in d)&&s(d)==="Date"?e(i,d):d.toISOString()}}),tM}var Lb,aM;function qoe(){if(aM)return Lb;aM=1,Doe(),iK();var t=tr(),e=Kp();return t.JSON||(t.JSON={stringify:JSON.stringify}),Lb=function(n,i,s){return e(t.JSON.stringify,null,arguments)},Lb}var Bb,oM;function Moe(){if(oM)return Bb;oM=1;var t=qoe();return Bb=t,Bb}var zb,lM;function Aoe(){return lM||(lM=1,zb=Moe()),zb}var Foe=Aoe(),Loe=Me(Foe),uM={},cM={},Ub,dM;function Boe(){if(dM)return Ub;dM=1;var t=TypeError;return Ub=function(e,r){if(e<r)throw new t("Not enough arguments");return e},Ub}var Wb,hM;function xK(){if(hM)return Wb;hM=1;var t=Ht(),e=Kp(),r=or(),n=gK(),i=Pu(),s=ku(),a=Boe(),o=t.Function,l=/MSIE .\./.test(i)||n==="BUN"&&function(){var c=t.Bun.version.split(".");return c.length<3||c[0]==="0"&&(c[1]<3||c[1]==="3"&&c[2]==="0")}();return Wb=function(c,d){var h=d?2:1;return l?function(f,p){var m=a(arguments.length,1)>h,y=r(f)?f:o(f),w=m?s(arguments,h):[],g=m?function(){e(y,this,w)}:y;return d?c(g,p):c(g)}:c},Wb}var fM;function zoe(){if(fM)return cM;fM=1;var t=Pe(),e=Ht(),r=xK(),n=r(e.setInterval,!0);return t({global:!0,bind:!0,forced:e.setInterval!==n},{setInterval:n}),cM}var pM={},mM;function Uoe(){if(mM)return pM;mM=1;var t=Pe(),e=Ht(),r=xK(),n=r(e.setTimeout,!0);return t({global:!0,bind:!0,forced:e.setTimeout!==n},{setTimeout:n}),pM}var vM;function Woe(){return vM||(vM=1,zoe(),Uoe()),uM}var Vb,gM;function Voe(){if(gM)return Vb;gM=1,Woe();var t=tr();return Vb=t.setTimeout,Vb}var Hb,yM;function Hoe(){return yM||(yM=1,Hb=Voe()),Hb}var Koe=Hoe(),Goe=Me(Koe),Kb={exports:{}},bM;function Yoe(){return bM||(bM=1,function(t){function e(n){if(n)return r(n);this._callbacks=new Map}function r(n){return Object.assign(n,e.prototype),n._callbacks=new Map,n}e.prototype.on=function(n,i){const s=this._callbacks.get(n)??[];return s.push(i),this._callbacks.set(n,s),this},e.prototype.once=function(n,i){const s=(...a)=>{this.off(n,s),i.apply(this,a)};return s.fn=i,this.on(n,s),this},e.prototype.off=function(n,i){if(n===void 0&&i===void 0)return this._callbacks.clear(),this;if(i===void 0)return this._callbacks.delete(n),this;const s=this._callbacks.get(n);if(s){for(const[a,o]of s.entries())if(o===i||o.fn===i){s.splice(a,1);break}s.length===0?this._callbacks.delete(n):this._callbacks.set(n,s)}return this},e.prototype.emit=function(n,...i){const s=this._callbacks.get(n);if(s){const a=[...s];for(const o of a)o.apply(this,i)}return this},e.prototype.listeners=function(n){return this._callbacks.get(n)??[]},e.prototype.listenerCount=function(n){if(n)return this.listeners(n).length;let i=0;for(const s of this._callbacks.values())i+=s.length;return i},e.prototype.hasListeners=function(n){return this.listenerCount(n)>0},e.prototype.addEventListener=e.prototype.on,e.prototype.removeListener=e.prototype.off,e.prototype.removeEventListener=e.prototype.off,e.prototype.removeAllListeners=e.prototype.off,t.exports=e}(Kb)),Kb.exports}var Qoe=Yoe(),Xoe=Me(Qoe);/*! Hammer.JS - v2.0.17-rc - 2019-12-16
 * http://naver.github.io/egjs
 *
 * Forked By Naver egjs
 * Copyright (c) hammerjs
 * Licensed under the MIT license */function ai(){return ai=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},ai.apply(this,arguments)}function Ln(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}function Yh(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}var lN;typeof Object.assign!="function"?lN=function(e){if(e==null)throw new TypeError("Cannot convert undefined or null to object");for(var r=Object(e),n=1;n<arguments.length;n++){var i=arguments[n];if(i!=null)for(var s in i)i.hasOwnProperty(s)&&(r[s]=i[s])}return r}:lN=Object.assign;var So=lN,wM=["","webkit","Moz","MS","ms","o"],Joe=typeof document>"u"?{style:{}}:document.createElement("div"),Zoe="function",wl=Math.round,Eo=Math.abs,nC=Date.now;function am(t,e){for(var r,n,i=e[0].toUpperCase()+e.slice(1),s=0;s<wM.length;){if(r=wM[s],n=r?r+i:e,n in t)return n;s++}}var Qi;typeof window>"u"?Qi={}:Qi=window;var _K=am(Joe.style,"touchAction"),SK=_K!==void 0;function ele(){if(!SK)return!1;var t={},e=Qi.CSS&&Qi.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach(function(r){return t[r]=e?Qi.CSS.supports("touch-action",r):!0}),t}var EK="compute",OK="auto",uN="manipulation",so="none",fd="pan-x",pd="pan-y",Qh=ele(),tle=/mobile|tablet|ip(ad|hone|od)|android/i,NK="ontouchstart"in Qi,rle=am(Qi,"PointerEvent")!==void 0,nle=NK&&tle.test(navigator.userAgent),Zd="touch",ile="pen",iC="mouse",sle="kinect",ale=25,Lr=1,qo=2,zt=4,sn=8,ap=1,eh=2,th=4,rh=8,uu=16,Ci=eh|th,ao=rh|uu,PK=Ci|ao,CK=["x","y"],op=["clientX","clientY"];function Xi(t,e,r){var n;if(t)if(t.forEach)t.forEach(e,r);else if(t.length!==void 0)for(n=0;n<t.length;)e.call(r,t[n],n,t),n++;else for(n in t)t.hasOwnProperty(n)&&e.call(r,t[n],n,t)}function om(t,e){return typeof t===Zoe?t.apply(e&&e[0]||void 0,e):t}function Ba(t,e){return t.indexOf(e)>-1}function ole(t){if(Ba(t,so))return so;var e=Ba(t,fd),r=Ba(t,pd);return e&&r?so:e||r?e?fd:pd:Ba(t,uN)?uN:OK}var TK=function(){function t(r,n){this.manager=r,this.set(n)}var e=t.prototype;return e.set=function(n){n===EK&&(n=this.compute()),SK&&this.manager.element.style&&Qh[n]&&(this.manager.element.style[_K]=n),this.actions=n.toLowerCase().trim()},e.update=function(){this.set(this.manager.options.touchAction)},e.compute=function(){var n=[];return Xi(this.manager.recognizers,function(i){om(i.options.enable,[i])&&(n=n.concat(i.getTouchAction()))}),ole(n.join(" "))},e.preventDefaults=function(n){var i=n.srcEvent,s=n.offsetDirection;if(this.manager.session.prevented){i.preventDefault();return}var a=this.actions,o=Ba(a,so)&&!Qh[so],l=Ba(a,pd)&&!Qh[pd],c=Ba(a,fd)&&!Qh[fd];if(o){var d=n.pointers.length===1,h=n.distance<2,f=n.deltaTime<250;if(d&&h&&f)return}if(!(c&&l)&&(o||l&&s&Ci||c&&s&ao))return this.preventSrc(i)},e.preventSrc=function(n){this.manager.session.prevented=!0,n.preventDefault()},t}();function sC(t,e){for(;t;){if(t===e)return!0;t=t.parentNode}return!1}function jK(t){var e=t.length;if(e===1)return{x:wl(t[0].clientX),y:wl(t[0].clientY)};for(var r=0,n=0,i=0;i<e;)r+=t[i].clientX,n+=t[i].clientY,i++;return{x:wl(r/e),y:wl(n/e)}}function xM(t){for(var e=[],r=0;r<t.pointers.length;)e[r]={clientX:wl(t.pointers[r].clientX),clientY:wl(t.pointers[r].clientY)},r++;return{timeStamp:nC(),pointers:e,center:jK(e),deltaX:t.deltaX,deltaY:t.deltaY}}function lp(t,e,r){r||(r=CK);var n=e[r[0]]-t[r[0]],i=e[r[1]]-t[r[1]];return Math.sqrt(n*n+i*i)}function cN(t,e,r){r||(r=CK);var n=e[r[0]]-t[r[0]],i=e[r[1]]-t[r[1]];return Math.atan2(i,n)*180/Math.PI}function IK(t,e){return t===e?ap:Eo(t)>=Eo(e)?t<0?eh:th:e<0?rh:uu}function lle(t,e){var r=e.center,n=t.offsetDelta||{},i=t.prevDelta||{},s=t.prevInput||{};(e.eventType===Lr||s.eventType===zt)&&(i=t.prevDelta={x:s.deltaX||0,y:s.deltaY||0},n=t.offsetDelta={x:r.x,y:r.y}),e.deltaX=i.x+(r.x-n.x),e.deltaY=i.y+(r.y-n.y)}function RK(t,e,r){return{x:e/t||0,y:r/t||0}}function ule(t,e){return lp(e[0],e[1],op)/lp(t[0],t[1],op)}function cle(t,e){return cN(e[1],e[0],op)+cN(t[1],t[0],op)}function dle(t,e){var r=t.lastInterval||e,n=e.timeStamp-r.timeStamp,i,s,a,o;if(e.eventType!==sn&&(n>ale||r.velocity===void 0)){var l=e.deltaX-r.deltaX,c=e.deltaY-r.deltaY,d=RK(n,l,c);s=d.x,a=d.y,i=Eo(d.x)>Eo(d.y)?d.x:d.y,o=IK(l,c),t.lastInterval=e}else i=r.velocity,s=r.velocityX,a=r.velocityY,o=r.direction;e.velocity=i,e.velocityX=s,e.velocityY=a,e.direction=o}function hle(t,e){var r=t.session,n=e.pointers,i=n.length;r.firstInput||(r.firstInput=xM(e)),i>1&&!r.firstMultiple?r.firstMultiple=xM(e):i===1&&(r.firstMultiple=!1);var s=r.firstInput,a=r.firstMultiple,o=a?a.center:s.center,l=e.center=jK(n);e.timeStamp=nC(),e.deltaTime=e.timeStamp-s.timeStamp,e.angle=cN(o,l),e.distance=lp(o,l),lle(r,e),e.offsetDirection=IK(e.deltaX,e.deltaY);var c=RK(e.deltaTime,e.deltaX,e.deltaY);e.overallVelocityX=c.x,e.overallVelocityY=c.y,e.overallVelocity=Eo(c.x)>Eo(c.y)?c.x:c.y,e.scale=a?ule(a.pointers,n):1,e.rotation=a?cle(a.pointers,n):0,e.maxPointers=r.prevInput?e.pointers.length>r.prevInput.maxPointers?e.pointers.length:r.prevInput.maxPointers:e.pointers.length,dle(r,e);var d=t.element,h=e.srcEvent,f;h.composedPath?f=h.composedPath()[0]:h.path?f=h.path[0]:f=h.target,sC(f,d)&&(d=f),e.target=d}function fle(t,e,r){var n=r.pointers.length,i=r.changedPointers.length,s=e&Lr&&n-i===0,a=e&(zt|sn)&&n-i===0;r.isFirst=!!s,r.isFinal=!!a,s&&(t.session={}),r.eventType=e,hle(t,r),t.emit("hammer.input",r),t.recognize(r),t.session.prevInput=r}function md(t){return t.trim().split(/\s+/g)}function Mc(t,e,r){Xi(md(e),function(n){t.addEventListener(n,r,!1)})}function Ac(t,e,r){Xi(md(e),function(n){t.removeEventListener(n,r,!1)})}function _M(t){var e=t.ownerDocument||t;return e.defaultView||e.parentWindow||window}var Mu=function(){function t(r,n){var i=this;this.manager=r,this.callback=n,this.element=r.element,this.target=r.options.inputTarget,this.domHandler=function(s){om(r.options.enable,[r])&&i.handler(s)},this.init()}var e=t.prototype;return e.handler=function(){},e.init=function(){this.evEl&&Mc(this.element,this.evEl,this.domHandler),this.evTarget&&Mc(this.target,this.evTarget,this.domHandler),this.evWin&&Mc(_M(this.element),this.evWin,this.domHandler)},e.destroy=function(){this.evEl&&Ac(this.element,this.evEl,this.domHandler),this.evTarget&&Ac(this.target,this.evTarget,this.domHandler),this.evWin&&Ac(_M(this.element),this.evWin,this.domHandler)},t}();function Oo(t,e,r){if(t.indexOf&&!r)return t.indexOf(e);for(var n=0;n<t.length;){if(r&&t[n][r]==e||!r&&t[n]===e)return n;n++}return-1}var ple={pointerdown:Lr,pointermove:qo,pointerup:zt,pointercancel:sn,pointerout:sn},mle={2:Zd,3:ile,4:iC,5:sle},$K="pointerdown",kK="pointermove pointerup pointercancel";Qi.MSPointerEvent&&!Qi.PointerEvent&&($K="MSPointerDown",kK="MSPointerMove MSPointerUp MSPointerCancel");var DK=function(t){Ln(e,t);function e(){var n,i=e.prototype;return i.evEl=$K,i.evWin=kK,n=t.apply(this,arguments)||this,n.store=n.manager.session.pointerEvents=[],n}var r=e.prototype;return r.handler=function(i){var s=this.store,a=!1,o=i.type.toLowerCase().replace("ms",""),l=ple[o],c=mle[i.pointerType]||i.pointerType,d=c===Zd,h=Oo(s,i.pointerId,"pointerId");l&Lr&&(i.button===0||d)?h<0&&(s.push(i),h=s.length-1):l&(zt|sn)&&(a=!0),!(h<0)&&(s[h]=i,this.callback(this.manager,l,{pointers:s,changedPointers:[i],pointerType:c,srcEvent:i}),a&&s.splice(h,1))},e}(Mu);function vd(t){return Array.prototype.slice.call(t,0)}function aC(t,e,r){for(var n=[],i=[],s=0;s<t.length;){var a=e?t[s][e]:t[s];Oo(i,a)<0&&n.push(t[s]),i[s]=a,s++}return r&&(e?n=n.sort(function(o,l){return o[e]>l[e]}):n=n.sort()),n}var vle={touchstart:Lr,touchmove:qo,touchend:zt,touchcancel:sn},gle="touchstart touchmove touchend touchcancel",oC=function(t){Ln(e,t);function e(){var n;return e.prototype.evTarget=gle,n=t.apply(this,arguments)||this,n.targetIds={},n}var r=e.prototype;return r.handler=function(i){var s=vle[i.type],a=yle.call(this,i,s);a&&this.callback(this.manager,s,{pointers:a[0],changedPointers:a[1],pointerType:Zd,srcEvent:i})},e}(Mu);function yle(t,e){var r=vd(t.touches),n=this.targetIds;if(e&(Lr|qo)&&r.length===1)return n[r[0].identifier]=!0,[r,r];var i,s,a=vd(t.changedTouches),o=[],l=this.target;if(s=r.filter(function(c){return sC(c.target,l)}),e===Lr)for(i=0;i<s.length;)n[s[i].identifier]=!0,i++;for(i=0;i<a.length;)n[a[i].identifier]&&o.push(a[i]),e&(zt|sn)&&delete n[a[i].identifier],i++;if(o.length)return[aC(s.concat(o),"identifier",!0),o]}var ble={mousedown:Lr,mousemove:qo,mouseup:zt},wle="mousedown",xle="mousemove mouseup",lC=function(t){Ln(e,t);function e(){var n,i=e.prototype;return i.evEl=wle,i.evWin=xle,n=t.apply(this,arguments)||this,n.pressed=!1,n}var r=e.prototype;return r.handler=function(i){var s=ble[i.type];s&Lr&&i.button===0&&(this.pressed=!0),s&qo&&i.which!==1&&(s=zt),this.pressed&&(s&zt&&(this.pressed=!1),this.callback(this.manager,s,{pointers:[i],changedPointers:[i],pointerType:iC,srcEvent:i}))},e}(Mu),_le=2500,SM=25;function EM(t){var e=t.changedPointers,r=e[0];if(r.identifier===this.primaryTouch){var n={x:r.clientX,y:r.clientY},i=this.lastTouches;this.lastTouches.push(n);var s=function(){var o=i.indexOf(n);o>-1&&i.splice(o,1)};setTimeout(s,_le)}}function Sle(t,e){t&Lr?(this.primaryTouch=e.changedPointers[0].identifier,EM.call(this,e)):t&(zt|sn)&&EM.call(this,e)}function Ele(t){for(var e=t.srcEvent.clientX,r=t.srcEvent.clientY,n=0;n<this.lastTouches.length;n++){var i=this.lastTouches[n],s=Math.abs(e-i.x),a=Math.abs(r-i.y);if(s<=SM&&a<=SM)return!0}return!1}var qK=function(){var t=function(e){Ln(r,e);function r(i,s){var a;return a=e.call(this,i,s)||this,a.handler=function(o,l,c){var d=c.pointerType===Zd,h=c.pointerType===iC;if(!(h&&c.sourceCapabilities&&c.sourceCapabilities.firesTouchEvents)){if(d)Sle.call(Yh(Yh(a)),l,c);else if(h&&Ele.call(Yh(Yh(a)),c))return;a.callback(o,l,c)}},a.touch=new oC(a.manager,a.handler),a.mouse=new lC(a.manager,a.handler),a.primaryTouch=null,a.lastTouches=[],a}var n=r.prototype;return n.destroy=function(){this.touch.destroy(),this.mouse.destroy()},r}(Mu);return t}();function Ole(t){var e,r=t.options.inputClass;return r?e=r:rle?e=DK:nle?e=oC:NK?e=qK:e=lC,new e(t,fle)}function xl(t,e,r){return Array.isArray(t)?(Xi(t,r[e],r),!0):!1}var xf=1,Dn=2,cu=4,na=8,Ji=na,gd=16,Si=32,Nle=1;function Ple(){return Nle++}function Xh(t,e){var r=e.manager;return r?r.get(t):t}function OM(t){return t&gd?"cancel":t&na?"end":t&cu?"move":t&Dn?"start":""}var nh=function(){function t(r){r===void 0&&(r={}),this.options=ai({enable:!0},r),this.id=Ple(),this.manager=null,this.state=xf,this.simultaneous={},this.requireFail=[]}var e=t.prototype;return e.set=function(n){return So(this.options,n),this.manager&&this.manager.touchAction.update(),this},e.recognizeWith=function(n){if(xl(n,"recognizeWith",this))return this;var i=this.simultaneous;return n=Xh(n,this),i[n.id]||(i[n.id]=n,n.recognizeWith(this)),this},e.dropRecognizeWith=function(n){return xl(n,"dropRecognizeWith",this)?this:(n=Xh(n,this),delete this.simultaneous[n.id],this)},e.requireFailure=function(n){if(xl(n,"requireFailure",this))return this;var i=this.requireFail;return n=Xh(n,this),Oo(i,n)===-1&&(i.push(n),n.requireFailure(this)),this},e.dropRequireFailure=function(n){if(xl(n,"dropRequireFailure",this))return this;n=Xh(n,this);var i=Oo(this.requireFail,n);return i>-1&&this.requireFail.splice(i,1),this},e.hasRequireFailures=function(){return this.requireFail.length>0},e.canRecognizeWith=function(n){return!!this.simultaneous[n.id]},e.emit=function(n){var i=this,s=this.state;function a(o){i.manager.emit(o,n)}s<na&&a(i.options.event+OM(s)),a(i.options.event),n.additionalEvent&&a(n.additionalEvent),s>=na&&a(i.options.event+OM(s))},e.tryEmit=function(n){if(this.canEmit())return this.emit(n);this.state=Si},e.canEmit=function(){for(var n=0;n<this.requireFail.length;){if(!(this.requireFail[n].state&(Si|xf)))return!1;n++}return!0},e.recognize=function(n){var i=So({},n);if(!om(this.options.enable,[this,i])){this.reset(),this.state=Si;return}this.state&(Ji|gd|Si)&&(this.state=xf),this.state=this.process(i),this.state&(Dn|cu|na|gd)&&this.tryEmit(i)},e.process=function(n){},e.getTouchAction=function(){},e.reset=function(){},t}(),dN=function(t){Ln(e,t);function e(n){var i;return n===void 0&&(n={}),i=t.call(this,ai({event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},n))||this,i.pTime=!1,i.pCenter=!1,i._timer=null,i._input=null,i.count=0,i}var r=e.prototype;return r.getTouchAction=function(){return[uN]},r.process=function(i){var s=this,a=this.options,o=i.pointers.length===a.pointers,l=i.distance<a.threshold,c=i.deltaTime<a.time;if(this.reset(),i.eventType&Lr&&this.count===0)return this.failTimeout();if(l&&c&&o){if(i.eventType!==zt)return this.failTimeout();var d=this.pTime?i.timeStamp-this.pTime<a.interval:!0,h=!this.pCenter||lp(this.pCenter,i.center)<a.posThreshold;this.pTime=i.timeStamp,this.pCenter=i.center,!h||!d?this.count=1:this.count+=1,this._input=i;var f=this.count%a.taps;if(f===0)return this.hasRequireFailures()?(this._timer=setTimeout(function(){s.state=Ji,s.tryEmit()},a.interval),Dn):Ji}return Si},r.failTimeout=function(){var i=this;return this._timer=setTimeout(function(){i.state=Si},this.options.interval),Si},r.reset=function(){clearTimeout(this._timer)},r.emit=function(){this.state===Ji&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))},e}(nh),du=function(t){Ln(e,t);function e(n){return n===void 0&&(n={}),t.call(this,ai({pointers:1},n))||this}var r=e.prototype;return r.attrTest=function(i){var s=this.options.pointers;return s===0||i.pointers.length===s},r.process=function(i){var s=this.state,a=i.eventType,o=s&(Dn|cu),l=this.attrTest(i);return o&&(a&sn||!l)?s|gd:o||l?a&zt?s|na:s&Dn?s|cu:Dn:Si},e}(nh);function MK(t){return t===uu?"down":t===rh?"up":t===eh?"left":t===th?"right":""}var uC=function(t){Ln(e,t);function e(n){var i;return n===void 0&&(n={}),i=t.call(this,ai({event:"pan",threshold:10,pointers:1,direction:PK},n))||this,i.pX=null,i.pY=null,i}var r=e.prototype;return r.getTouchAction=function(){var i=this.options.direction,s=[];return i&Ci&&s.push(pd),i&ao&&s.push(fd),s},r.directionTest=function(i){var s=this.options,a=!0,o=i.distance,l=i.direction,c=i.deltaX,d=i.deltaY;return l&s.direction||(s.direction&Ci?(l=c===0?ap:c<0?eh:th,a=c!==this.pX,o=Math.abs(i.deltaX)):(l=d===0?ap:d<0?rh:uu,a=d!==this.pY,o=Math.abs(i.deltaY))),i.direction=l,a&&o>s.threshold&&l&s.direction},r.attrTest=function(i){return du.prototype.attrTest.call(this,i)&&(this.state&Dn||!(this.state&Dn)&&this.directionTest(i))},r.emit=function(i){this.pX=i.deltaX,this.pY=i.deltaY;var s=MK(i.direction);s&&(i.additionalEvent=this.options.event+s),t.prototype.emit.call(this,i)},e}(du),AK=function(t){Ln(e,t);function e(n){return n===void 0&&(n={}),t.call(this,ai({event:"swipe",threshold:10,velocity:.3,direction:Ci|ao,pointers:1},n))||this}var r=e.prototype;return r.getTouchAction=function(){return uC.prototype.getTouchAction.call(this)},r.attrTest=function(i){var s=this.options.direction,a;return s&(Ci|ao)?a=i.overallVelocity:s&Ci?a=i.overallVelocityX:s&ao&&(a=i.overallVelocityY),t.prototype.attrTest.call(this,i)&&s&i.offsetDirection&&i.distance>this.options.threshold&&i.maxPointers===this.options.pointers&&Eo(a)>this.options.velocity&&i.eventType&zt},r.emit=function(i){var s=MK(i.offsetDirection);s&&this.manager.emit(this.options.event+s,i),this.manager.emit(this.options.event,i)},e}(du),FK=function(t){Ln(e,t);function e(n){return n===void 0&&(n={}),t.call(this,ai({event:"pinch",threshold:0,pointers:2},n))||this}var r=e.prototype;return r.getTouchAction=function(){return[so]},r.attrTest=function(i){return t.prototype.attrTest.call(this,i)&&(Math.abs(i.scale-1)>this.options.threshold||this.state&Dn)},r.emit=function(i){if(i.scale!==1){var s=i.scale<1?"in":"out";i.additionalEvent=this.options.event+s}t.prototype.emit.call(this,i)},e}(du),LK=function(t){Ln(e,t);function e(n){return n===void 0&&(n={}),t.call(this,ai({event:"rotate",threshold:0,pointers:2},n))||this}var r=e.prototype;return r.getTouchAction=function(){return[so]},r.attrTest=function(i){return t.prototype.attrTest.call(this,i)&&(Math.abs(i.rotation)>this.options.threshold||this.state&Dn)},e}(du),BK=function(t){Ln(e,t);function e(n){var i;return n===void 0&&(n={}),i=t.call(this,ai({event:"press",pointers:1,time:251,threshold:9},n))||this,i._timer=null,i._input=null,i}var r=e.prototype;return r.getTouchAction=function(){return[OK]},r.process=function(i){var s=this,a=this.options,o=i.pointers.length===a.pointers,l=i.distance<a.threshold,c=i.deltaTime>a.time;if(this._input=i,!l||!o||i.eventType&(zt|sn)&&!c)this.reset();else if(i.eventType&Lr)this.reset(),this._timer=setTimeout(function(){s.state=Ji,s.tryEmit()},a.time);else if(i.eventType&zt)return Ji;return Si},r.reset=function(){clearTimeout(this._timer)},r.emit=function(i){this.state===Ji&&(i&&i.eventType&zt?this.manager.emit(this.options.event+"up",i):(this._input.timeStamp=nC(),this.manager.emit(this.options.event,this._input)))},e}(nh),zK={domEvents:!1,touchAction:EK,enable:!0,inputTarget:null,inputClass:null,cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}},NM=[[LK,{enable:!1}],[FK,{enable:!1},["rotate"]],[AK,{direction:Ci}],[uC,{direction:Ci},["swipe"]],[dN],[dN,{event:"doubletap",taps:2},["tap"]],[BK]],Cle=1,PM=2;function CM(t,e){var r=t.element;if(r.style){var n;Xi(t.options.cssProps,function(i,s){n=am(r.style,s),e?(t.oldCssProps[n]=r.style[n],r.style[n]=i):r.style[n]=t.oldCssProps[n]||""}),e||(t.oldCssProps={})}}function Tle(t,e){var r=document.createEvent("Event");r.initEvent(t,!0,!0),r.gesture=e,e.target.dispatchEvent(r)}var TM=function(){function t(r,n){var i=this;this.options=So({},zK,n||{}),this.options.inputTarget=this.options.inputTarget||r,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=r,this.input=Ole(this),this.touchAction=new TK(this,this.options.touchAction),CM(this,!0),Xi(this.options.recognizers,function(s){var a=i.add(new s[0](s[1]));s[2]&&a.recognizeWith(s[2]),s[3]&&a.requireFailure(s[3])},this)}var e=t.prototype;return e.set=function(n){return So(this.options,n),n.touchAction&&this.touchAction.update(),n.inputTarget&&(this.input.destroy(),this.input.target=n.inputTarget,this.input.init()),this},e.stop=function(n){this.session.stopped=n?PM:Cle},e.recognize=function(n){var i=this.session;if(!i.stopped){this.touchAction.preventDefaults(n);var s,a=this.recognizers,o=i.curRecognizer;(!o||o&&o.state&Ji)&&(i.curRecognizer=null,o=null);for(var l=0;l<a.length;)s=a[l],i.stopped!==PM&&(!o||s===o||s.canRecognizeWith(o))?s.recognize(n):s.reset(),!o&&s.state&(Dn|cu|na)&&(i.curRecognizer=s,o=s),l++}},e.get=function(n){if(n instanceof nh)return n;for(var i=this.recognizers,s=0;s<i.length;s++)if(i[s].options.event===n)return i[s];return null},e.add=function(n){if(xl(n,"add",this))return this;var i=this.get(n.options.event);return i&&this.remove(i),this.recognizers.push(n),n.manager=this,this.touchAction.update(),n},e.remove=function(n){if(xl(n,"remove",this))return this;var i=this.get(n);if(n){var s=this.recognizers,a=Oo(s,i);a!==-1&&(s.splice(a,1),this.touchAction.update())}return this},e.on=function(n,i){if(n===void 0||i===void 0)return this;var s=this.handlers;return Xi(md(n),function(a){s[a]=s[a]||[],s[a].push(i)}),this},e.off=function(n,i){if(n===void 0)return this;var s=this.handlers;return Xi(md(n),function(a){i?s[a]&&s[a].splice(Oo(s[a],i),1):delete s[a]}),this},e.emit=function(n,i){this.options.domEvents&&Tle(n,i);var s=this.handlers[n]&&this.handlers[n].slice();if(!(!s||!s.length)){i.type=n,i.preventDefault=function(){i.srcEvent.preventDefault()};for(var a=0;a<s.length;)s[a](i),a++}},e.destroy=function(){this.element&&CM(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null},t}(),jle={touchstart:Lr,touchmove:qo,touchend:zt,touchcancel:sn},Ile="touchstart",Rle="touchstart touchmove touchend touchcancel",$le=function(t){Ln(e,t);function e(){var n,i=e.prototype;return i.evTarget=Ile,i.evWin=Rle,n=t.apply(this,arguments)||this,n.started=!1,n}var r=e.prototype;return r.handler=function(i){var s=jle[i.type];if(s===Lr&&(this.started=!0),!!this.started){var a=kle.call(this,i,s);s&(zt|sn)&&a[0].length-a[1].length===0&&(this.started=!1),this.callback(this.manager,s,{pointers:a[0],changedPointers:a[1],pointerType:Zd,srcEvent:i})}},e}(Mu);function kle(t,e){var r=vd(t.touches),n=vd(t.changedTouches);return e&(zt|sn)&&(r=aC(r.concat(n),"identifier",!0)),[r,n]}function UK(t,e,r){var n="DEPRECATED METHOD: "+e+`
`+r+` AT 
`;return function(){var i=new Error("get-stack-trace"),s=i&&i.stack?i.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",a=window.console&&(window.console.warn||window.console.log);return a&&a.call(window.console,n,s),t.apply(this,arguments)}}var WK=UK(function(t,e,r){for(var n=Object.keys(e),i=0;i<n.length;)(!r||r&&t[n[i]]===void 0)&&(t[n[i]]=e[n[i]]),i++;return t},"extend","Use `assign`."),Dle=UK(function(t,e){return WK(t,e,!0)},"merge","Use `assign`.");function qle(t,e,r){var n=e.prototype,i;i=t.prototype=Object.create(n),i.constructor=t,i._super=n,r&&So(i,r)}function jM(t,e){return function(){return t.apply(e,arguments)}}var Mle=function(){var t=function(r,n){return n===void 0&&(n={}),new TM(r,ai({recognizers:NM.concat()},n))};return t.VERSION="2.0.17-rc",t.DIRECTION_ALL=PK,t.DIRECTION_DOWN=uu,t.DIRECTION_LEFT=eh,t.DIRECTION_RIGHT=th,t.DIRECTION_UP=rh,t.DIRECTION_HORIZONTAL=Ci,t.DIRECTION_VERTICAL=ao,t.DIRECTION_NONE=ap,t.DIRECTION_DOWN=uu,t.INPUT_START=Lr,t.INPUT_MOVE=qo,t.INPUT_END=zt,t.INPUT_CANCEL=sn,t.STATE_POSSIBLE=xf,t.STATE_BEGAN=Dn,t.STATE_CHANGED=cu,t.STATE_ENDED=na,t.STATE_RECOGNIZED=Ji,t.STATE_CANCELLED=gd,t.STATE_FAILED=Si,t.Manager=TM,t.Input=Mu,t.TouchAction=TK,t.TouchInput=oC,t.MouseInput=lC,t.PointerEventInput=DK,t.TouchMouseInput=qK,t.SingleTouchInput=$le,t.Recognizer=nh,t.AttrRecognizer=du,t.Tap=dN,t.Pan=uC,t.Swipe=AK,t.Pinch=FK,t.Rotate=LK,t.Press=BK,t.on=Mc,t.off=Ac,t.each=Xi,t.merge=Dle,t.extend=WK,t.bindFn=jM,t.assign=So,t.inherit=qle,t.bindFn=jM,t.prefixed=am,t.toArray=vd,t.inArray=Oo,t.uniqueArray=aC,t.splitStr=md,t.boolOrFn=om,t.hasParent=sC,t.addEventListeners=Mc,t.removeEventListeners=Ac,t.defaults=So({},zK,{preset:NM}),t}();const VK=_ae("DELETE");function Ale(t){for(var e=arguments.length,r=new Array(e>1?e-1:0),n=1;n<e;n++)r[n-1]=arguments[n];return HK({},t,...r)}function HK(){const t=up(...arguments);return GK(t),t}function up(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];if(e.length<2)return e[0];if(e.length>2)return up(HK(e[0],e[1]),...Tae(e).call(e,2));const n=e[0],i=e[1];if(n instanceof Date&&i instanceof Date)return n.setTime(i.getTime()),n;for(const s of Dae(i))Object.prototype.propertyIsEnumerable.call(i,s)&&(i[s]===VK?delete n[s]:n[s]!==null&&i[s]!==null&&typeof n[s]=="object"&&typeof i[s]=="object"&&!mi(n[s])&&!mi(i[s])?n[s]=up(n[s],i[s]):n[s]=KK(i[s]));return n}function KK(t){return mi(t)?Jn(t).call(t,e=>KK(e)):typeof t=="object"&&t!==null?t instanceof Date?new Date(t.getTime()):up({},t):t}function GK(t){for(const e of rC(t))t[e]===VK?delete t[e]:typeof t[e]=="object"&&t[e]!==null&&GK(t[e])}function Fle(){const t=()=>{};return{on:t,off:t,destroy:t,emit:t,get(){return{set:t}}}}const Lle=typeof window<"u"?window.Hammer||Mle:function(){return Fle()};function Hi(t){var e;this._cleanupQueue=[],this.active=!1,this._dom={container:t,overlay:document.createElement("div")},this._dom.overlay.classList.add("vis-overlay"),this._dom.container.appendChild(this._dom.overlay),this._cleanupQueue.push(()=>{this._dom.overlay.parentNode.removeChild(this._dom.overlay)});const r=Lle(this._dom.overlay);r.on("tap",vK(e=this._onTapOverlay).call(e,this)),this._cleanupQueue.push(()=>{r.destroy()});const n=["tap","doubletap","press","pinch","pan","panstart","panmove","panend"];_o(n).call(n,i=>{r.on(i,s=>{s.srcEvent.stopPropagation()})}),document&&document.body&&(this._onClick=i=>{Ble(i.target,t)||this.deactivate()},document.body.addEventListener("click",this._onClick),this._cleanupQueue.push(()=>{document.body.removeEventListener("click",this._onClick)})),this._escListener=i=>{("key"in i?i.key==="Escape":i.keyCode===27)&&this.deactivate()}}Xoe(Hi.prototype);Hi.current=null;Hi.prototype.destroy=function(){this.deactivate();for(const r of soe(t=wK(e=this._cleanupQueue).call(e,0)).call(t)){var t,e;r()}};Hi.prototype.activate=function(){Hi.current&&Hi.current.deactivate(),Hi.current=this,this.active=!0,this._dom.overlay.style.display="none",this._dom.container.classList.add("vis-active"),this.emit("change"),this.emit("activate"),document.body.addEventListener("keydown",this._escListener)};Hi.prototype.deactivate=function(){this.active=!1,this._dom.overlay.style.display="block",this._dom.container.classList.remove("vis-active"),document.body.removeEventListener("keydown",this._escListener),this.emit("change"),this.emit("deactivate")};Hi.prototype._onTapOverlay=function(t){this.activate(),t.srcEvent.stopPropagation()};function Ble(t,e){for(;t;){if(t===e)return!0;t=t.parentNode}return!1}var Gb,IM;function zle(){if(IM)return Gb;IM=1,sK();var t=tr();return Gb=t.Object.getOwnPropertySymbols,Gb}var Yb,RM;function Ule(){if(RM)return Yb;RM=1;var t=zle();return Yb=t,Yb}var Qb,$M;function Wle(){return $M||($M=1,Qb=Ule()),Qb}var Vle=Wle(),kM=Me(Vle),Xb={exports:{}},DM={},qM;function Hle(){if(qM)return DM;qM=1;var t=Pe(),e=Xe(),r=ji(),n=Qp().f,i=Kt(),s=!i||e(function(){n(1)});return t({target:"Object",stat:!0,forced:s,sham:!i},{getOwnPropertyDescriptor:function(o,l){return n(r(o),l)}}),DM}var MM;function Kle(){if(MM)return Xb.exports;MM=1,Hle();var t=tr(),e=t.Object,r=Xb.exports=function(i,s){return e.getOwnPropertyDescriptor(i,s)};return e.getOwnPropertyDescriptor.sham&&(r.sham=!0),Xb.exports}var Jb,AM;function Gle(){if(AM)return Jb;AM=1;var t=Kle();return Jb=t,Jb}var Zb,FM;function Yle(){return FM||(FM=1,Zb=Gle()),Zb}var Qle=Yle(),YK=Me(Qle),LM={},BM;function Xle(){if(BM)return LM;BM=1;var t=Pe(),e=Kt(),r=yK(),n=ji(),i=Qp(),s=Jp();return t({target:"Object",stat:!0,sham:!e},{getOwnPropertyDescriptors:function(o){for(var l=n(o),c=i.f,d=r(l),h={},f=0,p,m;d.length>f;)m=c(l,p=d[f++]),m!==void 0&&s(h,p,m);return h}}),LM}var e0,zM;function Jle(){if(zM)return e0;zM=1,Xle();var t=tr();return e0=t.Object.getOwnPropertyDescriptors,e0}var t0,UM;function Zle(){if(UM)return t0;UM=1;var t=Jle();return t0=t,t0}var r0,WM;function eue(){return WM||(WM=1,r0=Zle()),r0}var tue=eue(),VM=Me(tue),n0={exports:{}},HM={},KM;function rue(){if(KM)return HM;KM=1;var t=Pe(),e=Kt(),r=JP().f;return t({target:"Object",stat:!0,forced:Object.defineProperties!==r,sham:!e},{defineProperties:r}),HM}var GM;function nue(){if(GM)return n0.exports;GM=1,rue();var t=tr(),e=t.Object,r=n0.exports=function(i,s){return e.defineProperties(i,s)};return e.defineProperties.sham&&(r.sham=!0),n0.exports}var i0,YM;function iue(){if(YM)return i0;YM=1;var t=nue();return i0=t,i0}var s0,QM;function sue(){return QM||(QM=1,s0=iue()),s0}var aue=sue(),oue=Me(aue),a0,XM;function lue(){return XM||(XM=1,a0=YH()),a0}var uue=lue(),cue=Me(uue),JM={},ZM={},o0={exports:{}},l0,eA;function due(){if(eA)return l0;eA=1;var t=Xe();return l0=t(function(){if(typeof ArrayBuffer=="function"){var e=new ArrayBuffer(8);Object.isExtensible(e)&&Object.defineProperty(e,"a",{value:8})}}),l0}var u0,tA;function hue(){if(tA)return u0;tA=1;var t=Xe(),e=Wr(),r=ms(),n=due(),i=Object.isExtensible,s=t(function(){});return u0=s||n?function(o){return!e(o)||n&&r(o)==="ArrayBuffer"?!1:i?i(o):!0}:i,u0}var c0,rA;function fue(){if(rA)return c0;rA=1;var t=Xe();return c0=!t(function(){return Object.isExtensible(Object.preventExtensions({}))}),c0}var nA;function QK(){if(nA)return o0.exports;nA=1;var t=Pe(),e=st(),r=Yd(),n=Wr(),i=ur(),s=Fn().f,a=tm(),o=tK(),l=hue(),c=Yp(),d=fue(),h=!1,f=c("meta"),p=0,m=function(b){s(b,f,{value:{objectID:"O"+p++,weakData:{}}})},y=function(b,_){if(!n(b))return typeof b=="symbol"?b:(typeof b=="string"?"S":"P")+b;if(!i(b,f)){if(!l(b))return"F";if(!_)return"E";m(b)}return b[f].objectID},w=function(b,_){if(!i(b,f)){if(!l(b))return!0;if(!_)return!1;m(b)}return b[f].weakData},g=function(b){return d&&h&&l(b)&&!i(b,f)&&m(b),b},v=function(){x.enable=function(){},h=!0;var b=a.f,_=e([].splice),E={};E[f]=1,b(E).length&&(a.f=function(O){for(var S=b(O),N=0,P=S.length;N<P;N++)if(S[N]===f){_(S,N,1);break}return S},t({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:o.f}))},x=o0.exports={enable:v,fastKey:y,getWeakData:w,onFreeze:g};return r[f]=!0,o0.exports}var d0,iA;function pue(){if(iA)return d0;iA=1;var t=cr(),e=qu(),r=t("iterator"),n=Array.prototype;return d0=function(i){return i!==void 0&&(e.Array===i||n[r]===i)},d0}var h0,sA;function XK(){if(sA)return h0;sA=1;var t=wa(),e=VP(),r=Vd(),n=qu(),i=cr(),s=i("iterator");return h0=function(a){if(!r(a))return e(a,s)||e(a,"@@iterator")||n[t(a)]},h0}var f0,aA;function JK(){if(aA)return f0;aA=1;var t=ln(),e=vs(),r=gs(),n=Tu(),i=XK(),s=TypeError;return f0=function(a,o){var l=arguments.length<2?i(a):o;if(e(l))return r(t(l,a));throw new s(n(a)+" is not iterable")},f0}var p0,oA;function cC(){if(oA)return p0;oA=1;var t=ln(),e=gs(),r=VP();return p0=function(n,i,s){var a,o;e(n);try{if(a=r(n,"return"),!a){if(i==="throw")throw s;return s}a=t(a,n)}catch(l){o=!0,a=l}if(i==="throw")throw s;if(o)throw a;return e(a),s},p0}var m0,lA;function dC(){if(lA)return m0;lA=1;var t=Xp(),e=ln(),r=gs(),n=Tu(),i=pue(),s=ba(),a=lr(),o=JK(),l=XK(),c=cC(),d=TypeError,h=function(p,m){this.stopped=p,this.result=m},f=h.prototype;return m0=function(p,m,y){var w=y&&y.that,g=!!(y&&y.AS_ENTRIES),v=!!(y&&y.IS_RECORD),x=!!(y&&y.IS_ITERATOR),b=!!(y&&y.INTERRUPTED),_=t(m,w),E,O,S,N,P,I,C,T=function(B){return E&&c(E,"normal"),new h(!0,B)},M=function(B){return g?(r(B),b?_(B[0],B[1],T):_(B[0],B[1])):b?_(B,T):_(B)};if(v)E=p.iterator;else if(x)E=p;else{if(O=l(p),!O)throw new d(n(p)+" is not iterable");if(i(O)){for(S=0,N=s(p);N>S;S++)if(P=M(p[S]),P&&a(f,P))return P;return new h(!1)}E=o(p,O)}for(I=v?p.next:E.next;!(C=e(I,E)).done;){try{P=M(C.value)}catch(B){c(E,"throw",B)}if(typeof P=="object"&&P&&a(f,P))return P}return new h(!1)},m0}var v0,uA;function ZK(){if(uA)return v0;uA=1;var t=lr(),e=TypeError;return v0=function(r,n){if(t(n,r))return r;throw new e("Incorrect invocation")},v0}var g0,cA;function eG(){if(cA)return g0;cA=1;var t=Pe(),e=Ht(),r=QK(),n=Xe(),i=Ru(),s=dC(),a=ZK(),o=or(),l=Wr(),c=Vd(),d=Do(),h=Fn().f,f=Du().forEach,p=Kt(),m=Jd(),y=m.set,w=m.getterFor;return g0=function(g,v,x){var b=g.indexOf("Map")!==-1,_=g.indexOf("Weak")!==-1,E=b?"set":"add",O=e[g],S=O&&O.prototype,N={},P;if(!p||!o(O)||!(_||S.forEach&&!n(function(){new O().entries().next()})))P=x.getConstructor(v,g,b,E),r.enable();else{P=v(function(T,M){y(a(T,I),{type:g,collection:new O}),c(M)||s(M,T[E],{that:T,AS_ENTRIES:b})});var I=P.prototype,C=w(g);f(["add","clear","delete","forEach","get","has","set","keys","values","entries"],function(T){var M=T==="add"||T==="set";T in S&&!(_&&T==="clear")&&i(I,T,function(B,Q){var G=C(this).collection;if(!M&&_&&!l(B))return T==="get"?void 0:!1;var F=G[T](B===0?0:B,Q);return M?this:F})}),_||h(I,"size",{configurable:!0,get:function(){return C(this).collection.size}})}return d(P,g,!1,!0),N[g]=P,t({global:!0,forced:!0},N),_||x.setStrong(P,g,b),P},g0}var y0,dA;function mue(){if(dA)return y0;dA=1;var t=Xd();return y0=function(e,r,n){for(var i in r)n&&n.unsafe&&e[i]?e[i]=r[i]:t(e,i,r[i],n);return e},y0}var b0,hA;function vue(){if(hA)return b0;hA=1;var t=_n(),e=ZP(),r=cr(),n=Kt(),i=r("species");return b0=function(s){var a=t(s);n&&a&&!a[i]&&e(a,i,{configurable:!0,get:function(){return this}})},b0}var w0,fA;function tG(){if(fA)return w0;fA=1;var t=Qd(),e=ZP(),r=mue(),n=Xp(),i=ZK(),s=Vd(),a=dC(),o=eC(),l=tC(),c=vue(),d=Kt(),h=QK().fastKey,f=Jd(),p=f.set,m=f.getterFor;return w0={getConstructor:function(y,w,g,v){var x=y(function(S,N){i(S,b),p(S,{type:w,index:t(null),first:null,last:null,size:0}),d||(S.size=0),s(N)||a(N,S[v],{that:S,AS_ENTRIES:g})}),b=x.prototype,_=m(w),E=function(S,N,P){var I=_(S),C=O(S,N),T,M;return C?C.value=P:(I.last=C={index:M=h(N,!0),key:N,value:P,previous:T=I.last,next:null,removed:!1},I.first||(I.first=C),T&&(T.next=C),d?I.size++:S.size++,M!=="F"&&(I.index[M]=C)),S},O=function(S,N){var P=_(S),I=h(N),C;if(I!=="F")return P.index[I];for(C=P.first;C;C=C.next)if(C.key===N)return C};return r(b,{clear:function(){for(var N=this,P=_(N),I=P.first;I;)I.removed=!0,I.previous&&(I.previous=I.previous.next=null),I=I.next;P.first=P.last=null,P.index=t(null),d?P.size=0:N.size=0},delete:function(S){var N=this,P=_(N),I=O(N,S);if(I){var C=I.next,T=I.previous;delete P.index[I.index],I.removed=!0,T&&(T.next=C),C&&(C.previous=T),P.first===I&&(P.first=C),P.last===I&&(P.last=T),d?P.size--:N.size--}return!!I},forEach:function(N){for(var P=_(this),I=n(N,arguments.length>1?arguments[1]:void 0),C;C=C?C.next:P.first;)for(I(C.value,C.key,this);C&&C.removed;)C=C.previous},has:function(N){return!!O(this,N)}}),r(b,g?{get:function(N){var P=O(this,N);return P&&P.value},set:function(N,P){return E(this,N===0?0:N,P)}}:{add:function(N){return E(this,N=N===0?0:N,N)}}),d&&e(b,"size",{configurable:!0,get:function(){return _(this).size}}),x},setStrong:function(y,w,g){var v=w+" Iterator",x=m(w),b=m(v);o(y,w,function(_,E){p(this,{type:v,target:_,state:x(_),kind:E,last:null})},function(){for(var _=b(this),E=_.kind,O=_.last;O&&O.removed;)O=O.previous;return!_.target||!(_.last=O=O?O.next:_.state.first)?(_.target=null,l(void 0,!0)):l(E==="keys"?O.key:E==="values"?O.value:[O.key,O.value],!1)},g?"entries":"values",!g,!0),c(w)}},w0}var pA;function gue(){if(pA)return ZM;pA=1;var t=eG(),e=tG();return t("Map",function(r){return function(){return r(this,arguments.length?arguments[0]:void 0)}},e),ZM}var mA;function yue(){return mA||(mA=1,gue()),JM}var vA={},x0,gA;function rG(){return gA||(gA=1,x0=function(t,e){return e===1?function(r,n){return r[t](n)}:function(r,n,i){return r[t](n,i)}}),x0}var _0,yA;function bue(){if(yA)return _0;yA=1;var t=_n(),e=rG(),r=t("Map");return _0={Map:r,set:e("set",2),get:e("get",1),has:e("has",1),remove:e("delete",1),proto:r.prototype},_0}var bA;function wue(){if(bA)return vA;bA=1;var t=Pe(),e=st(),r=vs(),n=$o(),i=dC(),s=bue(),a=ju(),o=Xe(),l=s.Map,c=s.has,d=s.get,h=s.set,f=e([].push),p=a||o(function(){return l.groupBy("ab",function(m){return m}).get("a").length!==1});return t({target:"Map",stat:!0,forced:a||p},{groupBy:function(y,w){n(y),r(w);var g=new l,v=0;return i(y,function(x){var b=w(x,v++);c(g,b)?f(d(g,b),x):h(g,b,[x])}),g}}),vA}var S0,wA;function xue(){if(wA)return S0;wA=1,_a(),yue(),wue(),im();var t=tr();return S0=t.Map,S0}var E0,xA;function _ue(){if(xA)return E0;xA=1;var t=xue();return Sa(),E0=t,E0}var O0,_A;function Sue(){return _A||(_A=1,O0=_ue()),O0}var Eue=Sue(),nG=Me(Eue),SA={},EA;function Oue(){if(EA)return SA;EA=1;var t=Pe(),e=Du().some,r=sm(),n=r("some");return t({target:"Array",proto:!0,forced:!n},{some:function(s){return e(this,s,arguments.length>1?arguments[1]:void 0)}}),SA}var N0,OA;function Nue(){if(OA)return N0;OA=1,Oue();var t=un();return N0=t("Array","some"),N0}var P0,NA;function Pue(){if(NA)return P0;NA=1;var t=lr(),e=Nue(),r=Array.prototype;return P0=function(n){var i=n.some;return n===r||t(r,n)&&i===r.some?e:i},P0}var C0,PA;function Cue(){if(PA)return C0;PA=1;var t=Pue();return C0=t,C0}var T0,CA;function Tue(){return CA||(CA=1,T0=Cue()),T0}var jue=Tue(),Iue=Me(jue),j0,TA;function Rue(){if(TA)return j0;TA=1,_a();var t=un();return j0=t("Array","keys"),j0}var I0,jA;function $ue(){if(jA)return I0;jA=1;var t=Rue();return I0=t,I0}var R0,IA;function kue(){if(IA)return R0;IA=1,Sa();var t=wa(),e=ur(),r=lr(),n=$ue(),i=Array.prototype,s={DOMTokenList:!0,NodeList:!0};return R0=function(a){var o=a.keys;return a===i||r(i,a)&&o===i.keys||e(s,t(a))?n:o},R0}var $0,RA;function Due(){return RA||(RA=1,$0=kue()),$0}var que=Due(),nl=Me(que),$A={},k0,kA;function Mue(){if(kA)return k0;kA=1;var t=ku(),e=Math.floor,r=function(n,i){var s=n.length;if(s<8)for(var a=1,o,l;a<s;){for(l=a,o=n[a];l&&i(n[l-1],o)>0;)n[l]=n[--l];l!==a++&&(n[l]=o)}else for(var c=e(s/2),d=r(t(n,0,c),i),h=r(t(n,c),i),f=d.length,p=h.length,m=0,y=0;m<f||y<p;)n[m+y]=m<f&&y<p?i(d[m],h[y])<=0?d[m++]:h[y++]:m<f?d[m++]:h[y++];return n};return k0=r,k0}var D0,DA;function Aue(){if(DA)return D0;DA=1;var t=Pu(),e=t.match(/firefox\/(\d+)/i);return D0=!!e&&+e[1],D0}var q0,qA;function Fue(){if(qA)return q0;qA=1;var t=Pu();return q0=/MSIE|Trident/.test(t),q0}var M0,MA;function Lue(){if(MA)return M0;MA=1;var t=Pu(),e=t.match(/AppleWebKit\/(\d+)\./);return M0=!!e&&+e[1],M0}var AA;function Bue(){if(AA)return $A;AA=1;var t=Pe(),e=st(),r=vs(),n=ui(),i=ba(),s=bK(),a=xa(),o=Xe(),l=Mue(),c=sm(),d=Aue(),h=Fue(),f=Hd(),p=Lue(),m=[],y=e(m.sort),w=e(m.push),g=o(function(){m.sort(void 0)}),v=o(function(){m.sort(null)}),x=c("sort"),b=!o(function(){if(f)return f<70;if(!(d&&d>3)){if(h)return!0;if(p)return p<603;var O="",S,N,P,I;for(S=65;S<76;S++){switch(N=String.fromCharCode(S),S){case 66:case 69:case 70:case 72:P=3;break;case 68:case 71:P=4;break;default:P=2}for(I=0;I<47;I++)m.push({k:N+I,v:P})}for(m.sort(function(C,T){return T.v-C.v}),I=0;I<m.length;I++)N=m[I].k.charAt(0),O.charAt(O.length-1)!==N&&(O+=N);return O!=="DGBEFHACIJK"}}),_=g||!v||!x||!b,E=function(O){return function(S,N){return N===void 0?-1:S===void 0?1:O!==void 0?+O(S,N)||0:a(S)>a(N)?1:-1}};return t({target:"Array",proto:!0,forced:_},{sort:function(S){S!==void 0&&r(S);var N=n(this);if(b)return S===void 0?y(N):y(N,S);var P=[],I=i(N),C,T;for(T=0;T<I;T++)T in N&&w(P,N[T]);for(l(P,E(S)),C=i(P),T=0;T<C;)N[T]=P[T++];for(;T<I;)s(N,T++);return N}}),$A}var A0,FA;function zue(){if(FA)return A0;FA=1,Bue();var t=un();return A0=t("Array","sort"),A0}var F0,LA;function Uue(){if(LA)return F0;LA=1;var t=lr(),e=zue(),r=Array.prototype;return F0=function(n){var i=n.sort;return n===r||t(r,n)&&i===r.sort?e:i},F0}var L0,BA;function Wue(){if(BA)return L0;BA=1;var t=Uue();return L0=t,L0}var B0,zA;function Vue(){return zA||(zA=1,B0=Wue()),B0}var Hue=Vue(),hN=Me(Hue),z0,UA;function Kue(){if(UA)return z0;UA=1,_a();var t=un();return z0=t("Array","values"),z0}var U0,WA;function Gue(){if(WA)return U0;WA=1;var t=Kue();return U0=t,U0}var W0,VA;function Yue(){if(VA)return W0;VA=1,Sa();var t=wa(),e=ur(),r=lr(),n=Gue(),i=Array.prototype,s={DOMTokenList:!0,NodeList:!0};return W0=function(a){var o=a.values;return a===i||r(i,a)&&o===i.values||e(s,t(a))?n:o},W0}var V0,HA;function Que(){return HA||(HA=1,V0=Yue()),V0}var Xue=Que(),KA=Me(Xue),H0,GA;function Jue(){return GA||(GA=1,H0=mK()),H0}var Zue=Jue(),_l=Me(Zue),K0,YA;function ece(){if(YA)return K0;YA=1,_a();var t=un();return K0=t("Array","entries"),K0}var G0,QA;function tce(){if(QA)return G0;QA=1;var t=ece();return G0=t,G0}var Y0,XA;function rce(){if(XA)return Y0;XA=1,Sa();var t=wa(),e=ur(),r=lr(),n=tce(),i=Array.prototype,s={DOMTokenList:!0,NodeList:!0};return Y0=function(a){var o=a.entries;return a===i||r(i,a)&&o===i.entries||e(s,t(a))?n:o},Y0}var Q0,JA;function nce(){return JA||(JA=1,Q0=rce()),Q0}var ice=nce(),sce=Me(ice);const pr=[];for(let t=0;t<256;++t)pr.push((t+256).toString(16).slice(1));function ace(t,e=0){return(pr[t[e+0]]+pr[t[e+1]]+pr[t[e+2]]+pr[t[e+3]]+"-"+pr[t[e+4]]+pr[t[e+5]]+"-"+pr[t[e+6]]+pr[t[e+7]]+"-"+pr[t[e+8]]+pr[t[e+9]]+"-"+pr[t[e+10]]+pr[t[e+11]]+pr[t[e+12]]+pr[t[e+13]]+pr[t[e+14]]+pr[t[e+15]]).toLowerCase()}let X0;const oce=new Uint8Array(16);function lce(){if(!X0){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");X0=crypto.getRandomValues.bind(crypto)}return X0(oce)}const uce=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto);var ZA={randomUUID:uce};function cce(t,e,r){var i;t=t||{};const n=t.random??((i=t.rng)==null?void 0:i.call(t))??lce();if(n.length<16)throw new Error("Random bytes length must be >= 16");return n[6]=n[6]&15|64,n[8]=n[8]&63|128,ace(n)}function dce(t,e,r){return ZA.randomUUID&&!t?ZA.randomUUID():cce(t)}function eF(t){return typeof t=="string"||typeof t=="number"}class hC{constructor(e){ra(this,"_queue",[]),ra(this,"_timeout",null),ra(this,"_extended",null),this.delay=null,this.max=1/0,this.setOptions(e)}setOptions(e){e&&typeof e.delay<"u"&&(this.delay=e.delay),e&&typeof e.max<"u"&&(this.max=e.max),this._flushIfNeeded()}static extend(e,r){const n=new hC(r);if(e.flush!==void 0)throw new Error("Target object already has a property flush");e.flush=()=>{n.flush()};const i=[{name:"flush",original:void 0}];if(r&&r.replace)for(let s=0;s<r.replace.length;s++){const a=r.replace[s];i.push({name:a,original:e[a]}),n.replace(e,a)}return n._extended={object:e,methods:i},n}destroy(){if(this.flush(),this._extended){const e=this._extended.object,r=this._extended.methods;for(let n=0;n<r.length;n++){const i=r[n];i.original?e[i.name]=i.original:delete e[i.name]}this._extended=null}}replace(e,r){const n=this,i=e[r];if(!i)throw new Error("Method "+r+" undefined");e[r]=function(){for(var s=arguments.length,a=new Array(s),o=0;o<s;o++)a[o]=arguments[o];n.queue({args:a,fn:i,context:this})}}queue(e){typeof e=="function"?this._queue.push({fn:e}):this._queue.push(e),this._flushIfNeeded()}_flushIfNeeded(){this._queue.length>this.max&&this.flush(),this._timeout!=null&&(clearTimeout(this._timeout),this._timeout=null),this.queue.length>0&&typeof this.delay=="number"&&(this._timeout=Goe(()=>{this.flush()},this.delay))}flush(){var e,r;_o(e=wK(r=this._queue).call(r,0)).call(e,n=>{n.fn.apply(n.context||n.fn,n.args||[])})}}class cp{constructor(){ra(this,"_subscribers",{"*":[],add:[],remove:[],update:[]}),ra(this,"subscribe",cp.prototype.on),ra(this,"unsubscribe",cp.prototype.off)}_trigger(e,r,n){var i;if(e==="*")throw new Error("Cannot trigger event *");_o(i=[...this._subscribers[e],...this._subscribers["*"]]).call(i,s=>{s(e,r,n??null)})}on(e,r){typeof r=="function"&&this._subscribers[e].push(r)}off(e,r){var n;this._subscribers[e]=bl(n=this._subscribers[e]).call(n,i=>i!==r)}}var tF={},rF={},nF;function hce(){if(nF)return rF;nF=1;var t=eG(),e=tG();return t("Set",function(r){return function(){return r(this,arguments.length?arguments[0]:void 0)}},e),rF}var iF;function fce(){return iF||(iF=1,hce()),tF}var sF={},J0,aF;function Mo(){if(aF)return J0;aF=1;var t=Tu(),e=TypeError;return J0=function(r){if(typeof r=="object"&&"size"in r&&"has"in r&&"add"in r&&"delete"in r&&"keys"in r)return r;throw new e(t(r)+" is not a set")},J0}var Z0,oF;function Ao(){if(oF)return Z0;oF=1;var t=_n(),e=rG(),r=t("Set"),n=r.prototype;return Z0={Set:r,add:e("add",1),has:e("has",1),remove:e("delete",1),proto:n},Z0}var e1,lF;function Fo(){if(lF)return e1;lF=1;var t=ln();return e1=function(e,r,n){for(var i=n?e:e.iterator,s=e.next,a,o;!(a=t(s,i)).done;)if(o=r(a.value),o!==void 0)return o},e1}var t1,uF;function ih(){if(uF)return t1;uF=1;var t=Fo();return t1=function(e,r,n){return n?t(e.keys(),r,!0):e.forEach(r)},t1}var r1,cF;function fC(){if(cF)return r1;cF=1;var t=Ao(),e=ih(),r=t.Set,n=t.add;return r1=function(i){var s=new r;return e(i,function(a){n(s,a)}),s},r1}var n1,dF;function sh(){return dF||(dF=1,n1=function(t){return t.size}),n1}var i1,hF;function pce(){return hF||(hF=1,i1=function(t){return{iterator:t,next:t.next,done:!1}}),i1}var s1,fF;function Lo(){if(fF)return s1;fF=1;var t=vs(),e=gs(),r=ln(),n=$u(),i=pce(),s="Invalid size",a=RangeError,o=TypeError,l=Math.max,c=function(d,h){this.set=d,this.size=l(h,0),this.has=t(d.has),this.keys=t(d.keys)};return c.prototype={getIterator:function(){return i(e(r(this.keys,this.set)))},includes:function(d){return r(this.has,this.set,d)}},s1=function(d){e(d);var h=+d.size;if(h!==h)throw new o(s);var f=n(h);if(f<0)throw new a(s);return new c(d,f)},s1}var a1,pF;function mce(){if(pF)return a1;pF=1;var t=Mo(),e=Ao(),r=fC(),n=sh(),i=Lo(),s=ih(),a=Fo(),o=e.has,l=e.remove;return a1=function(d){var h=t(this),f=i(d),p=r(h);return n(h)<=f.size?s(h,function(m){f.includes(m)&&l(p,m)}):a(f.getIterator(),function(m){o(p,m)&&l(p,m)}),p},a1}var o1,mF;function Bo(){return mF||(mF=1,o1=function(){return!1}),o1}var vF;function vce(){if(vF)return sF;vF=1;var t=Pe(),e=mce(),r=Xe(),n=Bo(),i=!n("difference",function(a){return a.size===0}),s=i||r(function(){var a={size:1,has:function(){return!0},keys:function(){var l=0;return{next:function(){var c=l++>1;return o.has(1)&&o.clear(),{done:c,value:2}}}}},o=new Set([1,2,3,4]);return o.difference(a).size!==3});return t({target:"Set",proto:!0,real:!0,forced:s},{difference:e}),sF}var gF={},l1,yF;function gce(){if(yF)return l1;yF=1;var t=Mo(),e=Ao(),r=sh(),n=Lo(),i=ih(),s=Fo(),a=e.Set,o=e.add,l=e.has;return l1=function(d){var h=t(this),f=n(d),p=new a;return r(h)>f.size?s(f.getIterator(),function(m){l(h,m)&&o(p,m)}):i(h,function(m){f.includes(m)&&o(p,m)}),p},l1}var bF;function yce(){if(bF)return gF;bF=1;var t=Pe(),e=Xe(),r=gce(),n=Bo(),i=!n("intersection",function(s){return s.size===2&&s.has(1)&&s.has(2)})||e(function(){return String(Array.from(new Set([1,2,3]).intersection(new Set([3,2]))))!=="3,2"});return t({target:"Set",proto:!0,real:!0,forced:i},{intersection:r}),gF}var wF={},u1,xF;function bce(){if(xF)return u1;xF=1;var t=Mo(),e=Ao().has,r=sh(),n=Lo(),i=ih(),s=Fo(),a=cC();return u1=function(l){var c=t(this),d=n(l);if(r(c)<=d.size)return i(c,function(f){if(d.includes(f))return!1},!0)!==!1;var h=d.getIterator();return s(h,function(f){if(e(c,f))return a(h,"normal",!1)})!==!1},u1}var _F;function wce(){if(_F)return wF;_F=1;var t=Pe(),e=bce(),r=Bo(),n=!r("isDisjointFrom",function(i){return!i});return t({target:"Set",proto:!0,real:!0,forced:n},{isDisjointFrom:e}),wF}var SF={},c1,EF;function xce(){if(EF)return c1;EF=1;var t=Mo(),e=sh(),r=ih(),n=Lo();return c1=function(s){var a=t(this),o=n(s);return e(a)>o.size?!1:r(a,function(l){if(!o.includes(l))return!1},!0)!==!1},c1}var OF;function _ce(){if(OF)return SF;OF=1;var t=Pe(),e=xce(),r=Bo(),n=!r("isSubsetOf",function(i){return i});return t({target:"Set",proto:!0,real:!0,forced:n},{isSubsetOf:e}),SF}var NF={},d1,PF;function Sce(){if(PF)return d1;PF=1;var t=Mo(),e=Ao().has,r=sh(),n=Lo(),i=Fo(),s=cC();return d1=function(o){var l=t(this),c=n(o);if(r(l)<c.size)return!1;var d=c.getIterator();return i(d,function(h){if(!e(l,h))return s(d,"normal",!1)})!==!1},d1}var CF;function Ece(){if(CF)return NF;CF=1;var t=Pe(),e=Sce(),r=Bo(),n=!r("isSupersetOf",function(i){return!i});return t({target:"Set",proto:!0,real:!0,forced:n},{isSupersetOf:e}),NF}var TF={},h1,jF;function Oce(){if(jF)return h1;jF=1;var t=Mo(),e=Ao(),r=fC(),n=Lo(),i=Fo(),s=e.add,a=e.has,o=e.remove;return h1=function(c){var d=t(this),h=n(c).getIterator(),f=r(d);return i(h,function(p){a(d,p)?o(f,p):s(f,p)}),f},h1}var f1,IF;function iG(){return IF||(IF=1,f1=function(t){try{var e=new Set,r={size:0,has:function(){return!0},keys:function(){return Object.defineProperty({},"next",{get:function(){return e.clear(),e.add(4),function(){return{done:!0}}}})}},n=e[t](r);return n.size===1&&n.values().next().value===4}catch{return!1}}),f1}var RF;function Nce(){if(RF)return TF;RF=1;var t=Pe(),e=Oce(),r=iG(),n=Bo(),i=!n("symmetricDifference")||!r("symmetricDifference");return t({target:"Set",proto:!0,real:!0,forced:i},{symmetricDifference:e}),TF}var $F={},p1,kF;function Pce(){if(kF)return p1;kF=1;var t=Mo(),e=Ao().add,r=fC(),n=Lo(),i=Fo();return p1=function(a){var o=t(this),l=n(a).getIterator(),c=r(o);return i(l,function(d){e(c,d)}),c},p1}var DF;function Cce(){if(DF)return $F;DF=1;var t=Pe(),e=Pce(),r=iG(),n=Bo(),i=!n("union")||!r("union");return t({target:"Set",proto:!0,real:!0,forced:i},{union:e}),$F}var m1,qF;function Tce(){if(qF)return m1;qF=1,_a(),fce(),vce(),yce(),wce(),_ce(),Ece(),Nce(),Cce(),im();var t=tr();return m1=t.Set,m1}var v1,MF;function jce(){if(MF)return v1;MF=1;var t=Tce();return Sa(),v1=t,v1}var g1,AF;function Ice(){return AF||(AF=1,g1=jce()),g1}var Rce=Ice(),y1=Me(Rce),b1,FF;function $ce(){if(FF)return b1;FF=1,_a(),im();var t=JK();return b1=t,b1}var w1,LF;function kce(){if(LF)return w1;LF=1;var t=$ce();return Sa(),w1=t,w1}var x1,BF;function Dce(){if(BF)return x1;BF=1;var t=kce();return x1=t,x1}var _1,zF;function qce(){if(zF)return _1;zF=1;var t=Dce();return _1=t,_1}var S1,UF;function Mce(){return UF||(UF=1,S1=qce()),S1}var E1,WF;function Ace(){return WF||(WF=1,E1=Mce()),E1}var Fce=Ace(),O1=Me(Fce);class za{constructor(e){this._pairs=e}*[_l](){for(const[e,r]of this._pairs)yield[e,r]}*entries(){for(const[e,r]of this._pairs)yield[e,r]}*keys(){for(const[e]of this._pairs)yield e}*values(){for(const[,e]of this._pairs)yield e}toIdArray(){var e;return Jn(e=[...this._pairs]).call(e,r=>r[0])}toItemArray(){var e;return Jn(e=[...this._pairs]).call(e,r=>r[1])}toEntryArray(){return[...this._pairs]}toObjectMap(){const e=Ioe(null);for(const[r,n]of this._pairs)e[r]=n;return e}toMap(){return new nG(this._pairs)}toIdSet(){return new y1(this.toIdArray())}toItemSet(){return new y1(this.toItemArray())}cache(){return new za([...this._pairs])}distinct(e){const r=new y1;for(const[n,i]of this._pairs)r.add(e(i,n));return r}filter(e){const r=this._pairs;return new za({*[_l](){for(const[n,i]of r)e(i,n)&&(yield[n,i])}})}forEach(e){for(const[r,n]of this._pairs)e(n,r)}map(e){const r=this._pairs;return new za({*[_l](){for(const[n,i]of r)yield[n,e(i,n)]}})}max(e){const r=O1(this._pairs);let n=r.next();if(n.done)return null;let i=n.value[1],s=e(n.value[1],n.value[0]);for(;!(n=r.next()).done;){const[a,o]=n.value,l=e(o,a);l>s&&(s=l,i=o)}return i}min(e){const r=O1(this._pairs);let n=r.next();if(n.done)return null;let i=n.value[1],s=e(n.value[1],n.value[0]);for(;!(n=r.next()).done;){const[a,o]=n.value,l=e(o,a);l<s&&(s=l,i=o)}return i}reduce(e,r){for(const[n,i]of this._pairs)r=e(r,i,n);return r}sort(e){return new za({[_l]:()=>{var r;return O1(hN(r=[...this._pairs]).call(r,(n,i)=>{let[s,a]=n,[o,l]=i;return e(a,l,s,o)}))}})}}function VF(t,e){var r=rC(t);if(kM){var n=kM(t);e&&(n=bl(n).call(n,function(i){return YK(t,i).enumerable})),r.push.apply(r,n)}return r}function HF(t){for(var e=1;e<arguments.length;e++){var r,n,i=arguments[e]!=null?arguments[e]:{};e%2?_o(r=VF(Object(i),!0)).call(r,function(s){ra(t,s,i[s])}):VM?oue(t,VM(i)):_o(n=VF(Object(i))).call(n,function(s){cue(t,s,YK(i,s))})}return t}function Lce(t,e){return t[e]==null&&(t[e]=dce()),t}class hu extends cp{get idProp(){return this._idProp}constructor(e,r){super(),ra(this,"_queue",null),e&&!mi(e)&&(r=e,e=[]),this._options=r||{},this._data=new nG,this.length=0,this._idProp=this._options.fieldId||"id",e&&e.length&&this.add(e),this.setOptions(r)}setOptions(e){e&&e.queue!==void 0&&(e.queue===!1?this._queue&&(this._queue.destroy(),this._queue=null):(this._queue||(this._queue=hC.extend(this,{replace:["add","update","remove"]})),e.queue&&typeof e.queue=="object"&&this._queue.setOptions(e.queue)))}add(e,r){const n=[];let i;if(mi(e)){const s=Jn(e).call(e,a=>a[this._idProp]);if(Iue(s).call(s,a=>this._data.has(a)))throw new Error("A duplicate id was found in the parameter array.");for(let a=0,o=e.length;a<o;a++)i=this._addItem(e[a]),n.push(i)}else if(e&&typeof e=="object")i=this._addItem(e),n.push(i);else throw new Error("Unknown dataType");return n.length&&this._trigger("add",{items:n},r),n}update(e,r){const n=[],i=[],s=[],a=[],o=this._idProp,l=c=>{const d=c[o];if(d!=null&&this._data.has(d)){const h=c,f=boe({},this._data.get(d)),p=this._updateItem(h);i.push(p),a.push(h),s.push(f)}else{const h=this._addItem(c);n.push(h)}};if(mi(e))for(let c=0,d=e.length;c<d;c++)e[c]&&typeof e[c]=="object"?l(e[c]):console.warn("Ignoring input item, which is not an object at index "+c);else if(e&&typeof e=="object")l(e);else throw new Error("Unknown dataType");if(n.length&&this._trigger("add",{items:n},r),i.length){const c={items:i,oldData:s,data:a};this._trigger("update",c,r)}return Ooe(n).call(n,i)}updateOnly(e,r){var n;mi(e)||(e=[e]);const i=Jn(n=Jn(e).call(e,s=>{const a=this._data.get(s[this._idProp]);if(a==null)throw new Error("Updating non-existent items is not allowed.");return{oldData:a,update:s}})).call(n,s=>{let{oldData:a,update:o}=s;const l=a[this._idProp],c=Ale(a,o);return this._data.set(l,c),{id:l,oldData:a,updatedData:c}});if(i.length){const s={items:Jn(i).call(i,a=>a.id),oldData:Jn(i).call(i,a=>a.oldData),data:Jn(i).call(i,a=>a.updatedData)};return this._trigger("update",s,r),s.items}else return[]}get(e,r){let n,i,s;eF(e)?(n=e,s=r):mi(e)?(i=e,s=r):s=e;const a=s&&s.returnType==="Object"?"Object":"Array",o=s&&bl(s),l=[];let c,d,h;if(n!=null)c=this._data.get(n),c&&o&&!o(c)&&(c=void 0);else if(i!=null)for(let p=0,m=i.length;p<m;p++)c=this._data.get(i[p]),c!=null&&(!o||o(c))&&l.push(c);else{var f;d=[...nl(f=this._data).call(f)];for(let p=0,m=d.length;p<m;p++)h=d[p],c=this._data.get(h),c!=null&&(!o||o(c))&&l.push(c)}if(s&&s.order&&n==null&&this._sort(l,s.order),s&&s.fields){const p=s.fields;if(n!=null&&c!=null)c=this._filterFields(c,p);else for(let m=0,y=l.length;m<y;m++)l[m]=this._filterFields(l[m],p)}if(a=="Object"){const p={};for(let m=0,y=l.length;m<y;m++){const w=l[m],g=w[this._idProp];p[g]=w}return p}else return n!=null?c??null:l}getIds(e){const r=this._data,n=e&&bl(e),i=e&&e.order,s=[...nl(r).call(r)],a=[];if(n)if(i){const o=[];for(let l=0,c=s.length;l<c;l++){const d=s[l],h=this._data.get(d);h!=null&&n(h)&&o.push(h)}this._sort(o,i);for(let l=0,c=o.length;l<c;l++)a.push(o[l][this._idProp])}else for(let o=0,l=s.length;o<l;o++){const c=s[o],d=this._data.get(c);d!=null&&n(d)&&a.push(d[this._idProp])}else if(i){const o=[];for(let l=0,c=s.length;l<c;l++){const d=s[l];o.push(r.get(d))}this._sort(o,i);for(let l=0,c=o.length;l<c;l++)a.push(o[l][this._idProp])}else for(let o=0,l=s.length;o<l;o++){const c=s[o],d=r.get(c);d!=null&&a.push(d[this._idProp])}return a}getDataSet(){return this}forEach(e,r){const n=r&&bl(r),i=this._data,s=[...nl(i).call(i)];if(r&&r.order){const a=this.get(r);for(let o=0,l=a.length;o<l;o++){const c=a[o],d=c[this._idProp];e(c,d)}}else for(let a=0,o=s.length;a<o;a++){const l=s[a],c=this._data.get(l);c!=null&&(!n||n(c))&&e(c,l)}}map(e,r){const n=r&&bl(r),i=[],s=this._data,a=[...nl(s).call(s)];for(let o=0,l=a.length;o<l;o++){const c=a[o],d=this._data.get(c);d!=null&&(!n||n(d))&&i.push(e(d,c))}return r&&r.order&&this._sort(i,r.order),i}_filterFields(e,r){var n;return e&&oae(n=mi(r)?r:rC(r)).call(n,(i,s)=>(i[s]=e[s],i),{})}_sort(e,r){if(typeof r=="string"){const n=r;hN(e).call(e,(i,s)=>{const a=i[n],o=s[n];return a>o?1:a<o?-1:0})}else if(typeof r=="function")hN(e).call(e,r);else throw new TypeError("Order must be a function or a string")}remove(e,r){const n=[],i=[],s=mi(e)?e:[e];for(let a=0,o=s.length;a<o;a++){const l=this._remove(s[a]);if(l){const c=l[this._idProp];c!=null&&(n.push(c),i.push(l))}}return n.length&&this._trigger("remove",{items:n,oldData:i},r),n}_remove(e){let r;if(eF(e)?r=e:e&&typeof e=="object"&&(r=e[this._idProp]),r!=null&&this._data.has(r)){const n=this._data.get(r)||null;return this._data.delete(r),--this.length,n}return null}clear(e){var r;const n=[...nl(r=this._data).call(r)],i=[];for(let s=0,a=n.length;s<a;s++)i.push(this._data.get(n[s]));return this._data.clear(),this.length=0,this._trigger("remove",{items:n,oldData:i},e),n}max(e){let r=null,n=null;for(const s of KA(i=this._data).call(i)){var i;const a=s[e];typeof a=="number"&&(n==null||a>n)&&(r=s,n=a)}return r||null}min(e){let r=null,n=null;for(const s of KA(i=this._data).call(i)){var i;const a=s[e];typeof a=="number"&&(n==null||a<n)&&(r=s,n=a)}return r||null}distinct(e){const r=this._data,n=[...nl(r).call(r)],i=[];let s=0;for(let a=0,o=n.length;a<o;a++){const l=n[a],d=r.get(l)[e];let h=!1;for(let f=0;f<s;f++)if(i[f]==d){h=!0;break}!h&&d!==void 0&&(i[s]=d,s++)}return i}_addItem(e){const r=Lce(e,this._idProp),n=r[this._idProp];if(this._data.has(n))throw new Error("Cannot add item: item with id "+n+" already exists");return this._data.set(n,r),++this.length,n}_updateItem(e){const r=e[this._idProp];if(r==null)throw new Error("Cannot update item: item has no id (item: "+Loe(e)+")");const n=this._data.get(r);if(!n)throw new Error("Cannot update item: no item with id "+r+" found");return this._data.set(r,HF(HF({},n),e)),r}stream(e){if(e){const n=this._data;return new za({*[_l](){for(const i of e){const s=n.get(i);s!=null&&(yield[i,s])}}})}else{var r;return new za({[_l]:vK(r=sce(this._data)).call(r,this._data)})}}}function Bce(t,e){return typeof e=="object"&&e!==null&&t===e.idProp&&typeof e.add=="function"&&typeof e.clear=="function"&&typeof e.distinct=="function"&&typeof _o(e)=="function"&&typeof e.get=="function"&&typeof e.getDataSet=="function"&&typeof e.getIds=="function"&&typeof e.length=="number"&&typeof Jn(e)=="function"&&typeof e.max=="function"&&typeof e.min=="function"&&typeof e.off=="function"&&typeof e.on=="function"&&typeof e.remove=="function"&&typeof e.setOptions=="function"&&typeof e.stream=="function"&&typeof e.update=="function"&&typeof e.updateOnly=="function"}function sG(t,e){return typeof e=="object"&&e!==null&&t===e.idProp&&typeof _o(e)=="function"&&typeof e.get=="function"&&typeof e.getDataSet=="function"&&typeof e.getIds=="function"&&typeof e.length=="number"&&typeof Jn(e)=="function"&&typeof e.off=="function"&&typeof e.on=="function"&&typeof e.stream=="function"&&Bce(t,e.getDataSet())}/**
 * vis-network
 * https://visjs.github.io/vis-network/
 *
 * A dynamic, browser-based visualization library.
 *
 * @version 10.0.2
 * @date    2025-09-15T17:48:13.838Z
 *
 * @copyright (c) 2011-2017 Almende B.V, http://almende.com
 * @copyright (c) 2017-2019 visjs contributors, https://github.com/visjs
 *
 * @license
 * vis.js is dual licensed under both
 *
 *   1. The Apache 2.0 License
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 *   and
 *
 *   2. The MIT License
 *      http://opensource.org/licenses/MIT
 *
 * vis.js may be distributed under either license.
 */var KF=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Ne(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var GF={},vc,YF;function vt(){if(YF)return vc;YF=1;var t=function(e){return e&&e.Math===Math&&e};return vc=t(typeof globalThis=="object"&&globalThis)||t(typeof window=="object"&&window)||t(typeof self=="object"&&self)||t(typeof KF=="object"&&KF)||t(typeof vc=="object"&&vc)||function(){return this}()||Function("return this")(),vc}var N1,QF;function Ae(){return QF||(QF=1,N1=function(t){try{return!!t()}catch{return!0}}),N1}var P1,XF;function ah(){if(XF)return P1;XF=1;var t=Ae();return P1=!t(function(){var e=(function(){}).bind();return typeof e!="function"||e.hasOwnProperty("prototype")}),P1}var C1,JF;function lm(){if(JF)return C1;JF=1;var t=ah(),e=Function.prototype,r=e.apply,n=e.call;return C1=typeof Reflect=="object"&&Reflect.apply||(t?n.bind(r):function(){return n.apply(r,arguments)}),C1}var T1,ZF;function ze(){if(ZF)return T1;ZF=1;var t=ah(),e=Function.prototype,r=e.call,n=t&&e.bind.bind(r,r);return T1=t?n:function(i){return function(){return r.apply(i,arguments)}},T1}var j1,e4;function Ii(){if(e4)return j1;e4=1;var t=ze(),e=t({}.toString),r=t("".slice);return j1=function(n){return r(e(n),8,-1)},j1}var I1,t4;function pC(){if(t4)return I1;t4=1;var t=Ii(),e=ze();return I1=function(r){if(t(r)==="Function")return e(r)},I1}var R1,r4;function dr(){if(r4)return R1;r4=1;var t=typeof document=="object"&&document.all;return R1=typeof t>"u"&&t!==void 0?function(e){return typeof e=="function"||e===t}:function(e){return typeof e=="function"},R1}var $1={},k1,n4;function Mt(){if(n4)return k1;n4=1;var t=Ae();return k1=!t(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!==7}),k1}var D1,i4;function cn(){if(i4)return D1;i4=1;var t=ah(),e=Function.prototype.call;return D1=t?e.bind(e):function(){return e.apply(e,arguments)},D1}var q1={},s4;function um(){if(s4)return q1;s4=1;var t={}.propertyIsEnumerable,e=Object.getOwnPropertyDescriptor,r=e&&!t.call({1:2},1);return q1.f=r?function(i){var s=e(this,i);return!!s&&s.enumerable}:t,q1}var M1,a4;function oh(){return a4||(a4=1,M1=function(t,e){return{enumerable:!(t&1),configurable:!(t&2),writable:!(t&4),value:e}}),M1}var A1,o4;function cm(){if(o4)return A1;o4=1;var t=ze(),e=Ae(),r=Ii(),n=Object,i=t("".split);return A1=e(function(){return!n("z").propertyIsEnumerable(0)})?function(s){return r(s)==="String"?i(s,""):n(s)}:n,A1}var F1,l4;function Au(){return l4||(l4=1,F1=function(t){return t==null}),F1}var L1,u4;function ys(){if(u4)return L1;u4=1;var t=Au(),e=TypeError;return L1=function(r){if(t(r))throw new e("Can't call method on "+r);return r},L1}var B1,c4;function ci(){if(c4)return B1;c4=1;var t=cm(),e=ys();return B1=function(r){return t(e(r))},B1}var z1,d4;function hr(){if(d4)return z1;d4=1;var t=dr();return z1=function(e){return typeof e=="object"?e!==null:t(e)},z1}var U1,h4;function Je(){return h4||(h4=1,U1={}),U1}var W1,f4;function Sn(){if(f4)return W1;f4=1;var t=Je(),e=vt(),r=dr(),n=function(i){return r(i)?i:void 0};return W1=function(i,s){return arguments.length<2?n(t[i])||n(e[i]):t[i]&&t[i][s]||e[i]&&e[i][s]},W1}var V1,p4;function Gt(){if(p4)return V1;p4=1;var t=ze();return V1=t({}.isPrototypeOf),V1}var H1,m4;function Fu(){if(m4)return H1;m4=1;var t=vt(),e=t.navigator,r=e&&e.userAgent;return H1=r?String(r):"",H1}var K1,v4;function lh(){if(v4)return K1;v4=1;var t=vt(),e=Fu(),r=t.process,n=t.Deno,i=r&&r.versions||n&&n.version,s=i&&i.v8,a,o;return s&&(a=s.split("."),o=a[0]>0&&a[0]<4?1:+(a[0]+a[1])),!o&&e&&(a=e.match(/Edge\/(\d+)/),(!a||a[1]>=74)&&(a=e.match(/Chrome\/(\d+)/),a&&(o=+a[1]))),K1=o,K1}var G1,g4;function Lu(){if(g4)return G1;g4=1;var t=lh(),e=Ae(),r=vt(),n=r.String;return G1=!!Object.getOwnPropertySymbols&&!e(function(){var i=Symbol("symbol detection");return!n(i)||!(Object(i)instanceof Symbol)||!Symbol.sham&&t&&t<41}),G1}var Y1,y4;function aG(){if(y4)return Y1;y4=1;var t=Lu();return Y1=t&&!Symbol.sham&&typeof Symbol.iterator=="symbol",Y1}var Q1,b4;function uh(){if(b4)return Q1;b4=1;var t=Sn(),e=dr(),r=Gt(),n=aG(),i=Object;return Q1=n?function(s){return typeof s=="symbol"}:function(s){var a=t("Symbol");return e(a)&&r(a.prototype,i(s))},Q1}var X1,w4;function Bu(){if(w4)return X1;w4=1;var t=String;return X1=function(e){try{return t(e)}catch{return"Object"}},X1}var J1,x4;function bs(){if(x4)return J1;x4=1;var t=dr(),e=Bu(),r=TypeError;return J1=function(n){if(t(n))return n;throw new r(e(n)+" is not a function")},J1}var Z1,_4;function mC(){if(_4)return Z1;_4=1;var t=bs(),e=Au();return Z1=function(r,n){var i=r[n];return e(i)?void 0:t(i)},Z1}var ew,S4;function zce(){if(S4)return ew;S4=1;var t=cn(),e=dr(),r=hr(),n=TypeError;return ew=function(i,s){var a,o;if(s==="string"&&e(a=i.toString)&&!r(o=t(a,i))||e(a=i.valueOf)&&!r(o=t(a,i))||s!=="string"&&e(a=i.toString)&&!r(o=t(a,i)))return o;throw new n("Can't convert object to primitive value")},ew}var tw={exports:{}},rw,E4;function zu(){return E4||(E4=1,rw=!0),rw}var nw,O4;function Uce(){if(O4)return nw;O4=1;var t=vt(),e=Object.defineProperty;return nw=function(r,n){try{e(t,r,{value:n,configurable:!0,writable:!0})}catch{t[r]=n}return n},nw}var N4;function vC(){if(N4)return tw.exports;N4=1;var t=zu(),e=vt(),r=Uce(),n="__core-js_shared__",i=tw.exports=e[n]||r(n,{});return(i.versions||(i.versions=[])).push({version:"3.44.0",mode:t?"pure":"global",copyright:" 2014-2025 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.44.0/LICENSE",source:"https://github.com/zloirock/core-js"}),tw.exports}var iw,P4;function Uu(){if(P4)return iw;P4=1;var t=vC();return iw=function(e,r){return t[e]||(t[e]=r||{})},iw}var sw,C4;function En(){if(C4)return sw;C4=1;var t=ys(),e=Object;return sw=function(r){return e(t(r))},sw}var aw,T4;function _r(){if(T4)return aw;T4=1;var t=ze(),e=En(),r=t({}.hasOwnProperty);return aw=Object.hasOwn||function(i,s){return r(e(i),s)},aw}var ow,j4;function dm(){if(j4)return ow;j4=1;var t=ze(),e=0,r=Math.random(),n=t(1.1.toString);return ow=function(i){return"Symbol("+(i===void 0?"":i)+")_"+n(++e+r,36)},ow}var lw,I4;function Yt(){if(I4)return lw;I4=1;var t=vt(),e=Uu(),r=_r(),n=dm(),i=Lu(),s=aG(),a=t.Symbol,o=e("wks"),l=s?a.for||a:a&&a.withoutSetter||n;return lw=function(c){return r(o,c)||(o[c]=i&&r(a,c)?a[c]:l("Symbol."+c)),o[c]},lw}var uw,R4;function oG(){if(R4)return uw;R4=1;var t=cn(),e=hr(),r=uh(),n=mC(),i=zce(),s=Yt(),a=TypeError,o=s("toPrimitive");return uw=function(l,c){if(!e(l)||r(l))return l;var d=n(l,o),h;if(d){if(c===void 0&&(c="default"),h=t(d,l,c),!e(h)||r(h))return h;throw new a("Can't convert object to primitive value")}return c===void 0&&(c="number"),i(l,c)},uw}var cw,$4;function gC(){if($4)return cw;$4=1;var t=oG(),e=uh();return cw=function(r){var n=t(r,"string");return e(n)?n:n+""},cw}var dw,k4;function lG(){if(k4)return dw;k4=1;var t=vt(),e=hr(),r=t.document,n=e(r)&&e(r.createElement);return dw=function(i){return n?r.createElement(i):{}},dw}var hw,D4;function uG(){if(D4)return hw;D4=1;var t=Mt(),e=Ae(),r=lG();return hw=!t&&!e(function(){return Object.defineProperty(r("div"),"a",{get:function(){return 7}}).a!==7}),hw}var q4;function hm(){if(q4)return $1;q4=1;var t=Mt(),e=cn(),r=um(),n=oh(),i=ci(),s=gC(),a=_r(),o=uG(),l=Object.getOwnPropertyDescriptor;return $1.f=t?l:function(d,h){if(d=i(d),h=s(h),o)try{return l(d,h)}catch{}if(a(d,h))return n(!e(r.f,d,h),d[h])},$1}var fw,M4;function Wce(){if(M4)return fw;M4=1;var t=Ae(),e=dr(),r=/#|\.prototype\./,n=function(l,c){var d=s[i(l)];return d===o?!0:d===a?!1:e(c)?t(c):!!c},i=n.normalize=function(l){return String(l).replace(r,".").toLowerCase()},s=n.data={},a=n.NATIVE="N",o=n.POLYFILL="P";return fw=n,fw}var pw,A4;function fm(){if(A4)return pw;A4=1;var t=pC(),e=bs(),r=ah(),n=t(t.bind);return pw=function(i,s){return e(i),s===void 0?i:r?n(i,s):function(){return i.apply(s,arguments)}},pw}var mw={},vw,F4;function cG(){if(F4)return vw;F4=1;var t=Mt(),e=Ae();return vw=t&&e(function(){return Object.defineProperty(function(){},"prototype",{value:42,writable:!1}).prototype!==42}),vw}var gw,L4;function Ri(){if(L4)return gw;L4=1;var t=hr(),e=String,r=TypeError;return gw=function(n){if(t(n))return n;throw new r(e(n)+" is not an object")},gw}var B4;function Bn(){if(B4)return mw;B4=1;var t=Mt(),e=uG(),r=cG(),n=Ri(),i=gC(),s=TypeError,a=Object.defineProperty,o=Object.getOwnPropertyDescriptor,l="enumerable",c="configurable",d="writable";return mw.f=t?r?function(f,p,m){if(n(f),p=i(p),n(m),typeof f=="function"&&p==="prototype"&&"value"in m&&d in m&&!m[d]){var y=o(f,p);y&&y[d]&&(f[p]=m.value,m={configurable:c in m?m[c]:y[c],enumerable:l in m?m[l]:y[l],writable:!1})}return a(f,p,m)}:a:function(f,p,m){if(n(f),p=i(p),n(m),e)try{return a(f,p,m)}catch{}if("get"in m||"set"in m)throw new s("Accessors not supported");return"value"in m&&(f[p]=m.value),f},mw}var yw,z4;function Wu(){if(z4)return yw;z4=1;var t=Mt(),e=Bn(),r=oh();return yw=t?function(n,i,s){return e.f(n,i,r(1,s))}:function(n,i,s){return n[i]=s,n},yw}var bw,U4;function xe(){if(U4)return bw;U4=1;var t=vt(),e=lm(),r=pC(),n=dr(),i=hm().f,s=Wce(),a=Je(),o=fm(),l=Wu(),c=_r(),d=function(h){var f=function(p,m,y){if(this instanceof f){switch(arguments.length){case 0:return new h;case 1:return new h(p);case 2:return new h(p,m)}return new h(p,m,y)}return e(h,this,arguments)};return f.prototype=h.prototype,f};return bw=function(h,f){var p=h.target,m=h.global,y=h.stat,w=h.proto,g=m?t:y?t[p]:t[p]&&t[p].prototype,v=m?a:a[p]||l(a,p,{})[p],x=v.prototype,b,_,E,O,S,N,P,I,C;for(O in f)b=s(m?O:p+(y?".":"#")+O,h.forced),_=!b&&g&&c(g,O),N=v[O],_&&(h.dontCallGetSet?(C=i(g,O),P=C&&C.value):P=g[O]),S=_&&P?P:f[O],!(!b&&!w&&typeof N==typeof S)&&(h.bind&&_?I=o(S,t):h.wrap&&_?I=d(S):w&&n(S)?I=r(S):I=S,(h.sham||S&&S.sham||N&&N.sham)&&l(I,"sham",!0),l(v,O,I),w&&(E=p+"Prototype",c(a,E)||l(a,E,{}),l(a[E],O,S),h.real&&x&&(b||!x[O])&&l(x,O,S)))},bw}var ww,W4;function Vce(){if(W4)return ww;W4=1;var t=Math.ceil,e=Math.floor;return ww=Math.trunc||function(n){var i=+n;return(i>0?e:t)(i)},ww}var xw,V4;function Vu(){if(V4)return xw;V4=1;var t=Vce();return xw=function(e){var r=+e;return r!==r||r===0?0:t(r)},xw}var _w,H4;function pm(){if(H4)return _w;H4=1;var t=Vu(),e=Math.max,r=Math.min;return _w=function(n,i){var s=t(n);return s<0?e(s+i,0):r(s,i)},_w}var Sw,K4;function dG(){if(K4)return Sw;K4=1;var t=Vu(),e=Math.min;return Sw=function(r){var n=t(r);return n>0?e(n,9007199254740991):0},Sw}var Ew,G4;function ws(){if(G4)return Ew;G4=1;var t=dG();return Ew=function(e){return t(e.length)},Ew}var Ow,Y4;function yC(){if(Y4)return Ow;Y4=1;var t=ci(),e=pm(),r=ws(),n=function(i){return function(s,a,o){var l=t(s),c=r(l);if(c===0)return!i&&-1;var d=e(o,c),h;if(i&&a!==a){for(;c>d;)if(h=l[d++],h!==h)return!0}else for(;c>d;d++)if((i||d in l)&&l[d]===a)return i||d||0;return!i&&-1}};return Ow={includes:n(!0),indexOf:n(!1)},Ow}var Nw,Q4;function ch(){return Q4||(Q4=1,Nw={}),Nw}var Pw,X4;function hG(){if(X4)return Pw;X4=1;var t=ze(),e=_r(),r=ci(),n=yC().indexOf,i=ch(),s=t([].push);return Pw=function(a,o){var l=r(a),c=0,d=[],h;for(h in l)!e(i,h)&&e(l,h)&&s(d,h);for(;o.length>c;)e(l,h=o[c++])&&(~n(d,h)||s(d,h));return d},Pw}var Cw,J4;function bC(){return J4||(J4=1,Cw=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]),Cw}var Tw,Z4;function dh(){if(Z4)return Tw;Z4=1;var t=hG(),e=bC();return Tw=Object.keys||function(n){return t(n,e)},Tw}var jw={},e5;function mm(){return e5||(e5=1,jw.f=Object.getOwnPropertySymbols),jw}var Iw,t5;function Hce(){if(t5)return Iw;t5=1;var t=Mt(),e=ze(),r=cn(),n=Ae(),i=dh(),s=mm(),a=um(),o=En(),l=cm(),c=Object.assign,d=Object.defineProperty,h=e([].concat);return Iw=!c||n(function(){if(t&&c({b:1},c(d({},"a",{enumerable:!0,get:function(){d(this,"b",{value:3,enumerable:!1})}}),{b:2})).b!==1)return!0;var f={},p={},m=Symbol("assign detection"),y="abcdefghijklmnopqrst";return f[m]=7,y.split("").forEach(function(w){p[w]=w}),c({},f)[m]!==7||i(c({},p)).join("")!==y})?function(p,m){for(var y=o(p),w=arguments.length,g=1,v=s.f,x=a.f;w>g;)for(var b=l(arguments[g++]),_=v?h(i(b),v(b)):i(b),E=_.length,O=0,S;E>O;)S=_[O++],(!t||r(x,b,S))&&(y[S]=b[S]);return y}:c,Iw}var r5;function Kce(){if(r5)return GF;r5=1;var t=xe(),e=Hce();return t({target:"Object",stat:!0,arity:2,forced:Object.assign!==e},{assign:e}),GF}var Rw,n5;function Gce(){if(n5)return Rw;n5=1,Kce();var t=Je();return Rw=t.Object.assign,Rw}var $w,i5;function Yce(){if(i5)return $w;i5=1;var t=Gce();return $w=t,$w}var kw,s5;function Qce(){return s5||(s5=1,kw=Yce()),kw}var Xce=Qce(),Ut=Ne(Xce),a5={},Dw,o5;function Hu(){if(o5)return Dw;o5=1;var t=ze();return Dw=t([].slice),Dw}var qw,l5;function Jce(){if(l5)return qw;l5=1;var t=ze(),e=bs(),r=hr(),n=_r(),i=Hu(),s=ah(),a=Function,o=t([].concat),l=t([].join),c={},d=function(h,f,p){if(!n(c,f)){for(var m=[],y=0;y<f;y++)m[y]="a["+y+"]";c[f]=a("C,a","return new C("+l(m,",")+")")}return c[f](h,p)};return qw=s?a.bind:function(f){var p=e(this),m=p.prototype,y=i(arguments,1),w=function(){var v=o(y,i(arguments));return this instanceof w?d(p,v.length,v):p.apply(f,v)};return r(m)&&(w.prototype=m),w},qw}var u5;function Zce(){if(u5)return a5;u5=1;var t=xe(),e=Jce();return t({target:"Function",proto:!0,forced:Function.bind!==e},{bind:e}),a5}var Mw,c5;function Sr(){if(c5)return Mw;c5=1;var t=vt(),e=Je();return Mw=function(r,n){var i=e[r+"Prototype"],s=i&&i[n];if(s)return s;var a=t[r],o=a&&a.prototype;return o&&o[n]},Mw}var Aw,d5;function ede(){if(d5)return Aw;d5=1,Zce();var t=Sr();return Aw=t("Function","bind"),Aw}var Fw,h5;function tde(){if(h5)return Fw;h5=1;var t=Gt(),e=ede(),r=Function.prototype;return Fw=function(n){var i=n.bind;return n===r||t(r,n)&&i===r.bind?e:i},Fw}var Lw,f5;function rde(){if(f5)return Lw;f5=1;var t=tde();return Lw=t,Lw}var Bw,p5;function nde(){return p5||(p5=1,Bw=rde()),Bw}var ide=nde(),ee=Ne(ide);function wC(t,e,r,n){t.beginPath(),t.arc(e,r,n,0,2*Math.PI,!1),t.closePath()}function sde(t,e,r,n){t.beginPath(),t.rect(e-n,r-n,n*2,n*2),t.closePath()}function ade(t,e,r,n){t.beginPath(),n*=1.15,r+=.275*n;const i=n*2,s=i/2,a=Math.sqrt(3)/6*i,o=Math.sqrt(i*i-s*s);t.moveTo(e,r-(o-a)),t.lineTo(e+s,r+a),t.lineTo(e-s,r+a),t.lineTo(e,r-(o-a)),t.closePath()}function ode(t,e,r,n){t.beginPath(),n*=1.15,r-=.275*n;const i=n*2,s=i/2,a=Math.sqrt(3)/6*i,o=Math.sqrt(i*i-s*s);t.moveTo(e,r+(o-a)),t.lineTo(e+s,r-a),t.lineTo(e-s,r-a),t.lineTo(e,r+(o-a)),t.closePath()}function lde(t,e,r,n){t.beginPath(),n*=.82,r+=.1*n;for(let i=0;i<10;i++){const s=i%2===0?n*1.3:n*.5;t.lineTo(e+s*Math.sin(i*2*Math.PI/10),r-s*Math.cos(i*2*Math.PI/10))}t.closePath()}function ude(t,e,r,n){t.beginPath(),t.lineTo(e,r+n),t.lineTo(e+n,r),t.lineTo(e,r-n),t.lineTo(e-n,r),t.closePath()}function fG(t,e,r,n,i,s){const a=Math.PI/180;n-2*s<0&&(s=n/2),i-2*s<0&&(s=i/2),t.beginPath(),t.moveTo(e+s,r),t.lineTo(e+n-s,r),t.arc(e+n-s,r+s,s,a*270,a*360,!1),t.lineTo(e+n,r+i-s),t.arc(e+n-s,r+i-s,s,0,a*90,!1),t.lineTo(e+s,r+i),t.arc(e+s,r+i-s,s,a*90,a*180,!1),t.lineTo(e,r+s),t.arc(e+s,r+s,s,a*180,a*270,!1),t.closePath()}function fN(t,e,r,n,i){const s=.5522848,a=n/2*s,o=i/2*s,l=e+n,c=r+i,d=e+n/2,h=r+i/2;t.beginPath(),t.moveTo(e,h),t.bezierCurveTo(e,h-o,d-a,r,d,r),t.bezierCurveTo(d+a,r,l,h-o,l,h),t.bezierCurveTo(l,h+o,d+a,c,d,c),t.bezierCurveTo(d-a,c,e,h+o,e,h),t.closePath()}function pG(t,e,r,n,i){const s=.3333333333333333,a=n,o=i*s,l=.5522848,c=a/2*l,d=o/2*l,h=e+a,f=r+o,p=e+a/2,m=r+o/2,y=r+(i-o/2),w=r+i;t.beginPath(),t.moveTo(h,m),t.bezierCurveTo(h,m+d,p+c,f,p,f),t.bezierCurveTo(p-c,f,e,m+d,e,m),t.bezierCurveTo(e,m-d,p-c,r,p,r),t.bezierCurveTo(p+c,r,h,m-d,h,m),t.lineTo(h,y),t.bezierCurveTo(h,y+d,p+c,w,p,w),t.bezierCurveTo(p-c,w,e,y+d,e,y),t.lineTo(e,m)}function mG(t,e,r,n,i,s){t.beginPath(),t.moveTo(e,r);const a=s.length,o=n-e,l=i-r,c=l/o;let d=Math.sqrt(o*o+l*l),h=0,f=!0,p=0,m=+s[0];for(;d>=.1;)m=+s[h++%a],m>d&&(m=d),p=Math.sqrt(m*m/(1+c*c)),p=o<0?-p:p,e+=p,r+=c*p,f===!0?t.lineTo(e,r):t.moveTo(e,r),d-=m,f=!f}function cde(t,e,r,n){t.beginPath();const i=6,s=Math.PI*2/i;t.moveTo(e+n,r);for(let a=1;a<i;a++)t.lineTo(e+n*Math.cos(s*a),r+n*Math.sin(s*a));t.closePath()}const m5={circle:wC,dashedLine:mG,database:pG,diamond:ude,ellipse:fN,ellipse_vis:fN,hexagon:cde,roundRect:fG,square:sde,star:lde,triangle:ade,triangleDown:ode};function dde(t){return Object.prototype.hasOwnProperty.call(m5,t)?m5[t]:function(e){for(var r=arguments.length,n=new Array(r>1?r-1:0),i=1;i<r;i++)n[i-1]=arguments[i];CanvasRenderingContext2D.prototype[t].call(e,n)}}var zw={exports:{}},v5;function hde(){return v5||(v5=1,function(t){t.exports=e;function e(n){if(n)return r(n)}function r(n){for(var i in e.prototype)n[i]=e.prototype[i];return n}e.prototype.on=e.prototype.addEventListener=function(n,i){return this._callbacks=this._callbacks||{},(this._callbacks["$"+n]=this._callbacks["$"+n]||[]).push(i),this},e.prototype.once=function(n,i){function s(){this.off(n,s),i.apply(this,arguments)}return s.fn=i,this.on(n,s),this},e.prototype.off=e.prototype.removeListener=e.prototype.removeAllListeners=e.prototype.removeEventListener=function(n,i){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var s=this._callbacks["$"+n];if(!s)return this;if(arguments.length==1)return delete this._callbacks["$"+n],this;for(var a,o=0;o<s.length;o++)if(a=s[o],a===i||a.fn===i){s.splice(o,1);break}return s.length===0&&delete this._callbacks["$"+n],this},e.prototype.emit=function(n){this._callbacks=this._callbacks||{};for(var i=new Array(arguments.length-1),s=this._callbacks["$"+n],a=1;a<arguments.length;a++)i[a-1]=arguments[a];if(s){s=s.slice(0);for(var a=0,o=s.length;a<o;++a)s[a].apply(this,i)}return this},e.prototype.listeners=function(n){return this._callbacks=this._callbacks||{},this._callbacks["$"+n]||[]},e.prototype.hasListeners=function(n){return!!this.listeners(n).length}}(zw)),zw.exports}var fde=hde(),vG=Ne(fde),g5={},Uw,y5;function zo(){if(y5)return Uw;y5=1;var t=Ii();return Uw=Array.isArray||function(r){return t(r)==="Array"},Uw}var Ww,b5;function gG(){if(b5)return Ww;b5=1;var t=TypeError,e=9007199254740991;return Ww=function(r){if(r>e)throw t("Maximum allowed index exceeded");return r},Ww}var Vw,w5;function vm(){if(w5)return Vw;w5=1;var t=Mt(),e=Bn(),r=oh();return Vw=function(n,i,s){t?e.f(n,i,r(0,s)):n[i]=s},Vw}var Hw,x5;function xC(){if(x5)return Hw;x5=1;var t=Yt(),e=t("toStringTag"),r={};return r[e]="z",Hw=String(r)==="[object z]",Hw}var Kw,_5;function Ku(){if(_5)return Kw;_5=1;var t=xC(),e=dr(),r=Ii(),n=Yt(),i=n("toStringTag"),s=Object,a=r(function(){return arguments}())==="Arguments",o=function(l,c){try{return l[c]}catch{}};return Kw=t?r:function(l){var c,d,h;return l===void 0?"Undefined":l===null?"Null":typeof(d=o(c=s(l),i))=="string"?d:a?r(c):(h=r(c))==="Object"&&e(c.callee)?"Arguments":h},Kw}var Gw,S5;function pde(){if(S5)return Gw;S5=1;var t=ze(),e=dr(),r=vC(),n=t(Function.toString);return e(r.inspectSource)||(r.inspectSource=function(i){return n(i)}),Gw=r.inspectSource,Gw}var Yw,E5;function yG(){if(E5)return Yw;E5=1;var t=ze(),e=Ae(),r=dr(),n=Ku(),i=Sn(),s=pde(),a=function(){},o=i("Reflect","construct"),l=/^\s*(?:class|function)\b/,c=t(l.exec),d=!l.test(a),h=function(m){if(!r(m))return!1;try{return o(a,[],m),!0}catch{return!1}},f=function(m){if(!r(m))return!1;switch(n(m)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return d||!!c(l,s(m))}catch{return!0}};return f.sham=!0,Yw=!o||e(function(){var p;return h(h.call)||!h(Object)||!h(function(){p=!0})||p})?f:h,Yw}var Qw,O5;function mde(){if(O5)return Qw;O5=1;var t=zo(),e=yG(),r=hr(),n=Yt(),i=n("species"),s=Array;return Qw=function(a){var o;return t(a)&&(o=a.constructor,e(o)&&(o===s||t(o.prototype))?o=void 0:r(o)&&(o=o[i],o===null&&(o=void 0))),o===void 0?s:o},Qw}var Xw,N5;function _C(){if(N5)return Xw;N5=1;var t=mde();return Xw=function(e,r){return new(t(e))(r===0?0:r)},Xw}var Jw,P5;function hh(){if(P5)return Jw;P5=1;var t=Ae(),e=Yt(),r=lh(),n=e("species");return Jw=function(i){return r>=51||!t(function(){var s=[],a=s.constructor={};return a[n]=function(){return{foo:1}},s[i](Boolean).foo!==1})},Jw}var C5;function bG(){if(C5)return g5;C5=1;var t=xe(),e=Ae(),r=zo(),n=hr(),i=En(),s=ws(),a=gG(),o=vm(),l=_C(),c=hh(),d=Yt(),h=lh(),f=d("isConcatSpreadable"),p=h>=51||!e(function(){var w=[];return w[f]=!1,w.concat()[0]!==w}),m=function(w){if(!n(w))return!1;var g=w[f];return g!==void 0?!!g:r(w)},y=!p||!c("concat");return t({target:"Array",proto:!0,arity:1,forced:y},{concat:function(g){var v=i(this),x=l(v,0),b=0,_,E,O,S,N;for(_=-1,O=arguments.length;_<O;_++)if(N=_===-1?v:arguments[_],m(N))for(S=s(N),a(b+S),E=0;E<S;E++,b++)E in N&&o(x,b,N[E]);else a(b+1),o(x,b++,N);return x.length=b,x}}),g5}var T5={},j5={},Zw,I5;function zn(){if(I5)return Zw;I5=1;var t=Ku(),e=String;return Zw=function(r){if(t(r)==="Symbol")throw new TypeError("Cannot convert a Symbol value to a string");return e(r)},Zw}var ex={},R5;function SC(){if(R5)return ex;R5=1;var t=Mt(),e=cG(),r=Bn(),n=Ri(),i=ci(),s=dh();return ex.f=t&&!e?Object.defineProperties:function(o,l){n(o);for(var c=i(l),d=s(l),h=d.length,f=0,p;h>f;)r.f(o,p=d[f++],c[p]);return o},ex}var tx,$5;function vde(){if($5)return tx;$5=1;var t=Sn();return tx=t("document","documentElement"),tx}var rx,k5;function gm(){if(k5)return rx;k5=1;var t=Uu(),e=dm(),r=t("keys");return rx=function(n){return r[n]||(r[n]=e(n))},rx}var nx,D5;function fh(){if(D5)return nx;D5=1;var t=Ri(),e=SC(),r=bC(),n=ch(),i=vde(),s=lG(),a=gm(),o=">",l="<",c="prototype",d="script",h=a("IE_PROTO"),f=function(){},p=function(v){return l+d+o+v+l+"/"+d+o},m=function(v){v.write(p("")),v.close();var x=v.parentWindow.Object;return v=null,x},y=function(){var v=s("iframe"),x="java"+d+":",b;return v.style.display="none",i.appendChild(v),v.src=String(x),b=v.contentWindow.document,b.open(),b.write(p("document.F=Object")),b.close(),b.F},w,g=function(){try{w=new ActiveXObject("htmlfile")}catch{}g=typeof document<"u"?document.domain&&w?m(w):y():m(w);for(var v=r.length;v--;)delete g[c][r[v]];return g()};return n[h]=!0,nx=Object.create||function(x,b){var _;return x!==null?(f[c]=t(x),_=new f,f[c]=null,_[h]=x):_=g(),b===void 0?_:e.f(_,b)},nx}var ix={},q5;function ym(){if(q5)return ix;q5=1;var t=hG(),e=bC(),r=e.concat("length","prototype");return ix.f=Object.getOwnPropertyNames||function(i){return t(i,r)},ix}var sx={},M5;function EC(){if(M5)return sx;M5=1;var t=Ii(),e=ci(),r=ym().f,n=Hu(),i=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],s=function(a){try{return r(a)}catch{return n(i)}};return sx.f=function(o){return i&&t(o)==="Window"?s(o):r(e(o))},sx}var ax,A5;function ph(){if(A5)return ax;A5=1;var t=Wu();return ax=function(e,r,n,i){return i&&i.enumerable?e[r]=n:t(e,r,n),e},ax}var ox,F5;function OC(){if(F5)return ox;F5=1;var t=Bn();return ox=function(e,r,n){return t.f(e,r,n)},ox}var lx={},L5;function bm(){if(L5)return lx;L5=1;var t=Yt();return lx.f=t,lx}var ux,B5;function Ot(){if(B5)return ux;B5=1;var t=Je(),e=_r(),r=bm(),n=Bn().f;return ux=function(i){var s=t.Symbol||(t.Symbol={});e(s,i)||n(s,i,{value:r.f(i)})},ux}var cx,z5;function wG(){if(z5)return cx;z5=1;var t=cn(),e=Sn(),r=Yt(),n=ph();return cx=function(){var i=e("Symbol"),s=i&&i.prototype,a=s&&s.valueOf,o=r("toPrimitive");s&&!s[o]&&n(s,o,function(l){return t(a,this)},{arity:1})},cx}var dx,U5;function gde(){if(U5)return dx;U5=1;var t=xC(),e=Ku();return dx=t?{}.toString:function(){return"[object "+e(this)+"]"},dx}var hx,W5;function Uo(){if(W5)return hx;W5=1;var t=xC(),e=Bn().f,r=Wu(),n=_r(),i=gde(),s=Yt(),a=s("toStringTag");return hx=function(o,l,c,d){var h=c?o:o&&o.prototype;h&&(n(h,a)||e(h,a,{configurable:!0,value:l}),d&&!t&&r(h,"toString",i))},hx}var fx,V5;function xG(){if(V5)return fx;V5=1;var t=vt(),e=dr(),r=t.WeakMap;return fx=e(r)&&/native code/.test(String(r)),fx}var px,H5;function Wo(){if(H5)return px;H5=1;var t=xG(),e=vt(),r=hr(),n=Wu(),i=_r(),s=vC(),a=gm(),o=ch(),l="Object already initialized",c=e.TypeError,d=e.WeakMap,h,f,p,m=function(v){return p(v)?f(v):h(v,{})},y=function(v){return function(x){var b;if(!r(x)||(b=f(x)).type!==v)throw new c("Incompatible receiver, "+v+" required");return b}};if(t||s.state){var w=s.state||(s.state=new d);w.get=w.get,w.has=w.has,w.set=w.set,h=function(v,x){if(w.has(v))throw new c(l);return x.facade=v,w.set(v,x),x},f=function(v){return w.get(v)||{}},p=function(v){return w.has(v)}}else{var g=a("state");o[g]=!0,h=function(v,x){if(i(v,g))throw new c(l);return x.facade=v,n(v,g,x),x},f=function(v){return i(v,g)?v[g]:{}},p=function(v){return i(v,g)}}return px={set:h,get:f,has:p,enforce:m,getterFor:y},px}var mx,K5;function Ea(){if(K5)return mx;K5=1;var t=fm(),e=ze(),r=cm(),n=En(),i=ws(),s=_C(),a=e([].push),o=function(l){var c=l===1,d=l===2,h=l===3,f=l===4,p=l===6,m=l===7,y=l===5||p;return function(w,g,v,x){for(var b=n(w),_=r(b),E=i(_),O=t(g,v),S=0,N=x||s,P=c?N(w,E):d||m?N(w,0):void 0,I,C;E>S;S++)if((y||S in _)&&(I=_[S],C=O(I,S,b),l))if(c)P[S]=C;else if(C)switch(l){case 3:return!0;case 5:return I;case 6:return S;case 2:a(P,I)}else switch(l){case 4:return!1;case 7:a(P,I)}return p?-1:h||f?f:P}};return mx={forEach:o(0),map:o(1),filter:o(2),some:o(3),every:o(4),find:o(5),findIndex:o(6),filterReject:o(7)},mx}var G5;function yde(){if(G5)return j5;G5=1;var t=xe(),e=vt(),r=cn(),n=ze(),i=zu(),s=Mt(),a=Lu(),o=Ae(),l=_r(),c=Gt(),d=Ri(),h=ci(),f=gC(),p=zn(),m=oh(),y=fh(),w=dh(),g=ym(),v=EC(),x=mm(),b=hm(),_=Bn(),E=SC(),O=um(),S=ph(),N=OC(),P=Uu(),I=gm(),C=ch(),T=dm(),M=Yt(),B=bm(),Q=Ot(),G=wG(),F=Uo(),W=Wo(),U=Ea().forEach,z=I("hidden"),Y="Symbol",fe="prototype",ye=W.set,De=W.getterFor(Y),pe=Object[fe],Ee=e.Symbol,Ce=Ee&&Ee[fe],Ve=e.RangeError,At=e.TypeError,gt=e.QObject,Qt=b.f,rt=_.f,rr=v.f,Ze=O.f,fr=n([].push),et=P("symbols"),yt=P("op-symbols"),jr=P("wks"),Vr=!gt||!gt[fe]||!gt[fe].findChild,j=function(ve,te,oe){var se=Qt(pe,te);se&&delete pe[te],rt(ve,te,oe),se&&ve!==pe&&rt(pe,te,se)},k=s&&o(function(){return y(rt({},"a",{get:function(){return rt(this,"a",{value:7}).a}})).a!==7})?j:rt,q=function(ve,te){var oe=et[ve]=y(Ce);return ye(oe,{type:Y,tag:ve,description:te}),s||(oe.description=te),oe},J=function(te,oe,se){te===pe&&J(yt,oe,se),d(te);var be=f(oe);return d(se),l(et,be)?(se.enumerable?(l(te,z)&&te[z][be]&&(te[z][be]=!1),se=y(se,{enumerable:m(0,!1)})):(l(te,z)||rt(te,z,m(1,y(null))),te[z][be]=!0),k(te,be,se)):rt(te,be,se)},V=function(te,oe){d(te);var se=h(oe),be=w(se).concat($t(se));return U(be,function(D){(!s||r(ue,se,D))&&J(te,D,se[D])}),te},H=function(te,oe){return oe===void 0?y(te):V(y(te),oe)},ue=function(te){var oe=f(te),se=r(Ze,this,oe);return this===pe&&l(et,oe)&&!l(yt,oe)?!1:se||!l(this,oe)||!l(et,oe)||l(this,z)&&this[z][oe]?se:!0},Re=function(te,oe){var se=h(te),be=f(oe);if(!(se===pe&&l(et,be)&&!l(yt,be))){var D=Qt(se,be);return D&&l(et,be)&&!(l(se,z)&&se[z][be])&&(D.enumerable=!0),D}},Fe=function(te){var oe=rr(h(te)),se=[];return U(oe,function(be){!l(et,be)&&!l(C,be)&&fr(se,be)}),se},$t=function(ve){var te=ve===pe,oe=rr(te?yt:h(ve)),se=[];return U(oe,function(be){l(et,be)&&(!te||l(pe,be))&&fr(se,et[be])}),se};return a||(Ee=function(){if(c(Ce,this))throw new At("Symbol is not a constructor");var te=!arguments.length||arguments[0]===void 0?void 0:p(arguments[0]),oe=T(te),se=function(be){var D=this===void 0?e:this;D===pe&&r(se,yt,be),l(D,z)&&l(D[z],oe)&&(D[z][oe]=!1);var ie=m(1,be);try{k(D,oe,ie)}catch(K){if(!(K instanceof Ve))throw K;j(D,oe,ie)}};return s&&Vr&&k(pe,oe,{configurable:!0,set:se}),q(oe,te)},Ce=Ee[fe],S(Ce,"toString",function(){return De(this).tag}),S(Ee,"withoutSetter",function(ve){return q(T(ve),ve)}),O.f=ue,_.f=J,E.f=V,b.f=Re,g.f=v.f=Fe,x.f=$t,B.f=function(ve){return q(M(ve),ve)},s&&(N(Ce,"description",{configurable:!0,get:function(){return De(this).description}}),i||S(pe,"propertyIsEnumerable",ue,{unsafe:!0}))),t({global:!0,constructor:!0,wrap:!0,forced:!a,sham:!a},{Symbol:Ee}),U(w(jr),function(ve){Q(ve)}),t({target:Y,stat:!0,forced:!a},{useSetter:function(){Vr=!0},useSimple:function(){Vr=!1}}),t({target:"Object",stat:!0,forced:!a,sham:!s},{create:H,defineProperty:J,defineProperties:V,getOwnPropertyDescriptor:Re}),t({target:"Object",stat:!0,forced:!a},{getOwnPropertyNames:Fe}),G(),F(Ee,Y),C[z]=!0,j5}var Y5={},vx,Q5;function _G(){if(Q5)return vx;Q5=1;var t=Lu();return vx=t&&!!Symbol.for&&!!Symbol.keyFor,vx}var X5;function bde(){if(X5)return Y5;X5=1;var t=xe(),e=Sn(),r=_r(),n=zn(),i=Uu(),s=_G(),a=i("string-to-symbol-registry"),o=i("symbol-to-string-registry");return t({target:"Symbol",stat:!0,forced:!s},{for:function(l){var c=n(l);if(r(a,c))return a[c];var d=e("Symbol")(c);return a[c]=d,o[d]=c,d}}),Y5}var J5={},Z5;function wde(){if(Z5)return J5;Z5=1;var t=xe(),e=_r(),r=uh(),n=Bu(),i=Uu(),s=_G(),a=i("symbol-to-string-registry");return t({target:"Symbol",stat:!0,forced:!s},{keyFor:function(l){if(!r(l))throw new TypeError(n(l)+" is not a symbol");if(e(a,l))return a[l]}}),J5}var e3={},gx,t3;function xde(){if(t3)return gx;t3=1;var t=ze(),e=zo(),r=dr(),n=Ii(),i=zn(),s=t([].push);return gx=function(a){if(r(a))return a;if(e(a)){for(var o=a.length,l=[],c=0;c<o;c++){var d=a[c];typeof d=="string"?s(l,d):(typeof d=="number"||n(d)==="Number"||n(d)==="String")&&s(l,i(d))}var h=l.length,f=!0;return function(p,m){if(f)return f=!1,m;if(e(this))return m;for(var y=0;y<h;y++)if(l[y]===p)return m}}},gx}var r3;function SG(){if(r3)return e3;r3=1;var t=xe(),e=Sn(),r=lm(),n=cn(),i=ze(),s=Ae(),a=dr(),o=uh(),l=Hu(),c=xde(),d=Lu(),h=String,f=e("JSON","stringify"),p=i(/./.exec),m=i("".charAt),y=i("".charCodeAt),w=i("".replace),g=i(1.1.toString),v=/[\uD800-\uDFFF]/g,x=/^[\uD800-\uDBFF]$/,b=/^[\uDC00-\uDFFF]$/,_=!d||s(function(){var N=e("Symbol")("stringify detection");return f([N])!=="[null]"||f({a:N})!=="{}"||f(Object(N))!=="{}"}),E=s(function(){return f("\uDF06\uD834")!=='"\\udf06\\ud834"'||f("\uDEAD")!=='"\\udead"'}),O=function(N,P){var I=l(arguments),C=c(P);if(!(!a(C)&&(N===void 0||o(N))))return I[1]=function(T,M){if(a(C)&&(M=n(C,this,h(T),M)),!o(M))return M},r(f,null,I)},S=function(N,P,I){var C=m(I,P-1),T=m(I,P+1);return p(x,N)&&!p(b,T)||p(b,N)&&!p(x,C)?"\\u"+g(y(N,0),16):N};return f&&t({target:"JSON",stat:!0,arity:3,forced:_||E},{stringify:function(P,I,C){var T=l(arguments),M=r(_?O:f,null,T);return E&&typeof M=="string"?w(M,v,S):M}}),e3}var n3={},i3;function _de(){if(i3)return n3;i3=1;var t=xe(),e=Lu(),r=Ae(),n=mm(),i=En(),s=!e||r(function(){n.f(1)});return t({target:"Object",stat:!0,forced:s},{getOwnPropertySymbols:function(o){var l=n.f;return l?l(i(o)):[]}}),n3}var s3;function EG(){return s3||(s3=1,yde(),bde(),wde(),SG(),_de()),T5}var a3={},o3;function OG(){if(o3)return a3;o3=1;var t=Ot();return t("asyncDispose"),a3}var l3={},u3;function Sde(){if(u3)return l3;u3=1;var t=Ot();return t("asyncIterator"),l3}var c3={},d3;function NG(){if(d3)return c3;d3=1;var t=Ot();return t("dispose"),c3}var h3={},f3;function Ede(){if(f3)return h3;f3=1;var t=Ot();return t("hasInstance"),h3}var p3={},m3;function Ode(){if(m3)return p3;m3=1;var t=Ot();return t("isConcatSpreadable"),p3}var v3={},g3;function PG(){if(g3)return v3;g3=1;var t=Ot();return t("iterator"),v3}var y3={},b3;function Nde(){if(b3)return y3;b3=1;var t=Ot();return t("match"),y3}var w3={},x3;function Pde(){if(x3)return w3;x3=1;var t=Ot();return t("matchAll"),w3}var _3={},S3;function Cde(){if(S3)return _3;S3=1;var t=Ot();return t("replace"),_3}var E3={},O3;function Tde(){if(O3)return E3;O3=1;var t=Ot();return t("search"),E3}var N3={},P3;function jde(){if(P3)return N3;P3=1;var t=Ot();return t("species"),N3}var C3={},T3;function Ide(){if(T3)return C3;T3=1;var t=Ot();return t("split"),C3}var j3={},I3;function CG(){if(I3)return j3;I3=1;var t=Ot(),e=wG();return t("toPrimitive"),e(),j3}var R3={},$3;function Rde(){if($3)return R3;$3=1;var t=Sn(),e=Ot(),r=Uo();return e("toStringTag"),r(t("Symbol"),"Symbol"),R3}var k3={},D3;function $de(){if(D3)return k3;D3=1;var t=Ot();return t("unscopables"),k3}var q3={},M3;function kde(){if(M3)return q3;M3=1;var t=vt(),e=Uo();return e(t.JSON,"JSON",!0),q3}var yx,A3;function Dde(){if(A3)return yx;A3=1,bG(),EG(),OG(),Sde(),NG(),Ede(),Ode(),PG(),Nde(),Pde(),Cde(),Tde(),jde(),Ide(),CG(),Rde(),$de(),kde();var t=Je();return yx=t.Symbol,yx}var F3={},bx,L3;function NC(){return L3||(L3=1,bx=function(){}),bx}var wx,B3;function Gu(){return B3||(B3=1,wx={}),wx}var xx,z3;function qde(){if(z3)return xx;z3=1;var t=Mt(),e=_r(),r=Function.prototype,n=t&&Object.getOwnPropertyDescriptor,i=e(r,"name"),s=i&&(function(){}).name==="something",a=i&&(!t||t&&n(r,"name").configurable);return xx={EXISTS:i,PROPER:s,CONFIGURABLE:a},xx}var _x,U3;function TG(){if(U3)return _x;U3=1;var t=Ae();return _x=!t(function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype}),_x}var Sx,W3;function wm(){if(W3)return Sx;W3=1;var t=_r(),e=dr(),r=En(),n=gm(),i=TG(),s=n("IE_PROTO"),a=Object,o=a.prototype;return Sx=i?a.getPrototypeOf:function(l){var c=r(l);if(t(c,s))return c[s];var d=c.constructor;return e(d)&&c instanceof d?d.prototype:c instanceof a?o:null},Sx}var Ex,V3;function jG(){if(V3)return Ex;V3=1;var t=Ae(),e=dr(),r=hr(),n=fh(),i=wm(),s=ph(),a=Yt(),o=zu(),l=a("iterator"),c=!1,d,h,f;[].keys&&(f=[].keys(),"next"in f?(h=i(i(f)),h!==Object.prototype&&(d=h)):c=!0);var p=!r(d)||t(function(){var m={};return d[l].call(m)!==m});return p?d={}:o&&(d=n(d)),e(d[l])||s(d,l,function(){return this}),Ex={IteratorPrototype:d,BUGGY_SAFARI_ITERATORS:c},Ex}var Ox,H3;function Mde(){if(H3)return Ox;H3=1;var t=jG().IteratorPrototype,e=fh(),r=oh(),n=Uo(),i=Gu(),s=function(){return this};return Ox=function(a,o,l,c){var d=o+" Iterator";return a.prototype=e(t,{next:r(+!c,l)}),n(a,d,!1,!0),i[d]=s,a},Ox}var Nx,K3;function Ade(){if(K3)return Nx;K3=1;var t=ze(),e=bs();return Nx=function(r,n,i){try{return t(e(Object.getOwnPropertyDescriptor(r,n)[i]))}catch{}},Nx}var Px,G3;function Fde(){if(G3)return Px;G3=1;var t=hr();return Px=function(e){return t(e)||e===null},Px}var Cx,Y3;function Lde(){if(Y3)return Cx;Y3=1;var t=Fde(),e=String,r=TypeError;return Cx=function(n){if(t(n))return n;throw new r("Can't set "+e(n)+" as a prototype")},Cx}var Tx,Q3;function Bde(){if(Q3)return Tx;Q3=1;var t=Ade(),e=hr(),r=ys(),n=Lde();return Tx=Object.setPrototypeOf||("__proto__"in{}?function(){var i=!1,s={},a;try{a=t(Object.prototype,"__proto__","set"),a(s,[]),i=s instanceof Array}catch{}return function(l,c){return r(l),n(c),e(l)&&(i?a(l,c):l.__proto__=c),l}}():void 0),Tx}var jx,X3;function PC(){if(X3)return jx;X3=1;var t=xe(),e=cn(),r=zu(),n=qde(),i=dr(),s=Mde(),a=wm(),o=Bde(),l=Uo(),c=Wu(),d=ph(),h=Yt(),f=Gu(),p=jG(),m=n.PROPER,y=n.CONFIGURABLE,w=p.IteratorPrototype,g=p.BUGGY_SAFARI_ITERATORS,v=h("iterator"),x="keys",b="values",_="entries",E=function(){return this};return jx=function(O,S,N,P,I,C,T){s(N,S,P);var M=function(ye){if(ye===I&&W)return W;if(!g&&ye&&ye in G)return G[ye];switch(ye){case x:return function(){return new N(this,ye)};case b:return function(){return new N(this,ye)};case _:return function(){return new N(this,ye)}}return function(){return new N(this)}},B=S+" Iterator",Q=!1,G=O.prototype,F=G[v]||G["@@iterator"]||I&&G[I],W=!g&&F||M(I),U=S==="Array"&&G.entries||F,z,Y,fe;if(U&&(z=a(U.call(new O)),z!==Object.prototype&&z.next&&(!r&&a(z)!==w&&(o?o(z,w):i(z[v])||d(z,v,E)),l(z,B,!0,!0),r&&(f[B]=E))),m&&I===b&&F&&F.name!==b&&(!r&&y?c(G,"name",b):(Q=!0,W=function(){return e(F,this)})),I)if(Y={values:M(b),keys:C?W:M(x),entries:M(_)},T)for(fe in Y)(g||Q||!(fe in G))&&d(G,fe,Y[fe]);else t({target:S,proto:!0,forced:g||Q},Y);return(!r||T)&&G[v]!==W&&d(G,v,W,{name:I}),f[S]=W,Y},jx}var Ix,J3;function CC(){return J3||(J3=1,Ix=function(t,e){return{value:t,done:e}}),Ix}var Rx,Z3;function Yu(){if(Z3)return Rx;Z3=1;var t=ci(),e=NC(),r=Gu(),n=Wo(),i=Bn().f,s=PC(),a=CC(),o=zu(),l=Mt(),c="Array Iterator",d=n.set,h=n.getterFor(c);Rx=s(Array,"Array",function(p,m){d(this,{type:c,target:t(p),index:0,kind:m})},function(){var p=h(this),m=p.target,y=p.index++;if(!m||y>=m.length)return p.target=null,a(void 0,!0);switch(p.kind){case"keys":return a(y,!1);case"values":return a(m[y],!1)}return a([y,m[y]],!1)},"values");var f=r.Arguments=r.Array;if(e("keys"),e("values"),e("entries"),!o&&l&&f.name!=="values")try{i(f,"name",{value:"values"})}catch{}return Rx}var $x,eL;function zde(){return eL||(eL=1,$x={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}),$x}var tL;function Qu(){if(tL)return F3;tL=1,Yu();var t=zde(),e=vt(),r=Uo(),n=Gu();for(var i in t)r(e[i],i),n[i]=n.Array;return F3}var kx,rL;function IG(){if(rL)return kx;rL=1;var t=Dde();return Qu(),kx=t,kx}var Dx,nL;function Ude(){return nL||(nL=1,Dx=IG()),Dx}var Wde=Ude(),Vde=Ne(Wde),iL={},sL;function Hde(){if(sL)return iL;sL=1;var t=xe(),e=zo(),r=yG(),n=hr(),i=pm(),s=ws(),a=ci(),o=vm(),l=Yt(),c=hh(),d=Hu(),h=c("slice"),f=l("species"),p=Array,m=Math.max;return t({target:"Array",proto:!0,forced:!h},{slice:function(w,g){var v=a(this),x=s(v),b=i(w,x),_=i(g===void 0?x:g,x),E,O,S;if(e(v)&&(E=v.constructor,r(E)&&(E===p||e(E.prototype))?E=void 0:n(E)&&(E=E[f],E===null&&(E=void 0)),E===p||E===void 0))return d(v,b,_);for(O=new(E===void 0?p:E)(m(_-b,0)),S=0;b<_;b++,S++)b in v&&o(O,S,v[b]);return O.length=S,O}}),iL}var qx,aL;function Kde(){if(aL)return qx;aL=1,Hde();var t=Sr();return qx=t("Array","slice"),qx}var Mx,oL;function Gde(){if(oL)return Mx;oL=1;var t=Gt(),e=Kde(),r=Array.prototype;return Mx=function(n){var i=n.slice;return n===r||t(r,n)&&i===r.slice?e:i},Mx}var Ax,lL;function Yde(){if(lL)return Ax;lL=1;var t=Gde();return Ax=t,Ax}var Fx,uL;function Qde(){return uL||(uL=1,Fx=Yde()),Fx}var Xde=Qde(),_i=Ne(Xde),Lx,cL;function Jde(){if(cL)return Lx;cL=1;var t=Sn(),e=ze(),r=ym(),n=mm(),i=Ri(),s=e([].concat);return Lx=t("Reflect","ownKeys")||function(o){var l=r.f(i(o)),c=n.f;return c?s(l,c(o)):l},Lx}var dL={},hL;function Zde(){if(hL)return dL;hL=1;var t=xe(),e=zo();return t({target:"Array",stat:!0},{isArray:e}),dL}var Bx,fL;function ehe(){if(fL)return Bx;fL=1,Zde();var t=Je();return Bx=t.Array.isArray,Bx}var zx,pL;function the(){if(pL)return zx;pL=1;var t=ehe();return zx=t,zx}var Ux,mL;function rhe(){return mL||(mL=1,Ux=the()),Ux}var nhe=rhe(),Rt=Ne(nhe),vL={},gL;function ihe(){if(gL)return vL;gL=1;var t=xe(),e=Ea().map,r=hh(),n=r("map");return t({target:"Array",proto:!0,forced:!n},{map:function(s){return e(this,s,arguments.length>1?arguments[1]:void 0)}}),vL}var Wx,yL;function she(){if(yL)return Wx;yL=1,ihe();var t=Sr();return Wx=t("Array","map"),Wx}var Vx,bL;function ahe(){if(bL)return Vx;bL=1;var t=Gt(),e=she(),r=Array.prototype;return Vx=function(n){var i=n.map;return n===r||t(r,n)&&i===r.map?e:i},Vx}var Hx,wL;function ohe(){if(wL)return Hx;wL=1;var t=ahe();return Hx=t,Hx}var Kx,xL;function lhe(){return xL||(xL=1,Kx=ohe()),Kx}var uhe=lhe(),fu=Ne(uhe),_L={},SL;function che(){if(SL)return _L;SL=1;var t=xe(),e=En(),r=dh(),n=Ae(),i=n(function(){r(1)});return t({target:"Object",stat:!0,forced:i},{keys:function(a){return r(e(a))}}),_L}var Gx,EL;function dhe(){if(EL)return Gx;EL=1,che();var t=Je();return Gx=t.Object.keys,Gx}var Yx,OL;function hhe(){if(OL)return Yx;OL=1;var t=dhe();return Yx=t,Yx}var Qx,NL;function fhe(){return NL||(NL=1,Qx=hhe()),Qx}var phe=fhe(),Tt=Ne(phe),PL={},CL;function mhe(){if(CL)return PL;CL=1;var t=xe(),e=ze(),r=Date,n=e(r.prototype.getTime);return t({target:"Date",stat:!0},{now:function(){return n(new r)}}),PL}var Xx,TL;function vhe(){if(TL)return Xx;TL=1,mhe();var t=Je();return Xx=t.Date.now,Xx}var Jx,jL;function ghe(){if(jL)return Jx;jL=1;var t=vhe();return Jx=t,Jx}var Zx,IL;function yhe(){return IL||(IL=1,Zx=ghe()),Zx}var bhe=yhe(),dp=Ne(bhe),RL={},e_,$L;function Xu(){if($L)return e_;$L=1;var t=Ae();return e_=function(e,r){var n=[][e];return!!n&&t(function(){n.call(null,r||function(){return 1},1)})},e_}var t_,kL;function whe(){if(kL)return t_;kL=1;var t=Ea().forEach,e=Xu(),r=e("forEach");return t_=r?[].forEach:function(i){return t(this,i,arguments.length>1?arguments[1]:void 0)},t_}var DL;function xhe(){if(DL)return RL;DL=1;var t=xe(),e=whe();return t({target:"Array",proto:!0,forced:[].forEach!==e},{forEach:e}),RL}var r_,qL;function _he(){if(qL)return r_;qL=1,xhe();var t=Sr();return r_=t("Array","forEach"),r_}var n_,ML;function She(){if(ML)return n_;ML=1;var t=_he();return n_=t,n_}var i_,AL;function Ehe(){if(AL)return i_;AL=1;var t=Ku(),e=_r(),r=Gt(),n=She(),i=Array.prototype,s={DOMTokenList:!0,NodeList:!0};return i_=function(a){var o=a.forEach;return a===i||r(i,a)&&o===i.forEach||e(s,t(a))?n:o},i_}var s_,FL;function Ohe(){return FL||(FL=1,s_=Ehe()),s_}var Nhe=Ohe(),it=Ne(Nhe),LL={},BL;function Phe(){if(BL)return LL;BL=1;var t=xe(),e=ze(),r=zo(),n=e([].reverse),i=[1,2];return t({target:"Array",proto:!0,forced:String(i)===String(i.reverse())},{reverse:function(){return r(this)&&(this.length=this.length),n(this)}}),LL}var a_,zL;function Che(){if(zL)return a_;zL=1,Phe();var t=Sr();return a_=t("Array","reverse"),a_}var o_,UL;function The(){if(UL)return o_;UL=1;var t=Gt(),e=Che(),r=Array.prototype;return o_=function(n){var i=n.reverse;return n===r||t(r,n)&&i===r.reverse?e:i},o_}var l_,WL;function jhe(){if(WL)return l_;WL=1;var t=The();return l_=t,l_}var u_,VL;function Ihe(){return VL||(VL=1,u_=jhe()),u_}var Rhe=Ihe(),oo=Ne(Rhe),HL={},c_,KL;function $he(){if(KL)return c_;KL=1;var t=Mt(),e=zo(),r=TypeError,n=Object.getOwnPropertyDescriptor,i=t&&!function(){if(this!==void 0)return!0;try{Object.defineProperty([],"length",{writable:!1}).length=1}catch(s){return s instanceof TypeError}}();return c_=i?function(s,a){if(e(s)&&!n(s,"length").writable)throw new r("Cannot set read only .length");return s.length=a}:function(s,a){return s.length=a},c_}var d_,GL;function RG(){if(GL)return d_;GL=1;var t=Bu(),e=TypeError;return d_=function(r,n){if(!delete r[n])throw new e("Cannot delete property "+t(n)+" of "+t(r))},d_}var YL;function khe(){if(YL)return HL;YL=1;var t=xe(),e=En(),r=pm(),n=Vu(),i=ws(),s=$he(),a=gG(),o=_C(),l=vm(),c=RG(),d=hh(),h=d("splice"),f=Math.max,p=Math.min;return t({target:"Array",proto:!0,forced:!h},{splice:function(y,w){var g=e(this),v=i(g),x=r(y,v),b=arguments.length,_,E,O,S,N,P;for(b===0?_=E=0:b===1?(_=0,E=v-x):(_=b-2,E=p(f(n(w),0),v-x)),a(v+_-E),O=o(g,E),S=0;S<E;S++)N=x+S,N in g&&l(O,S,g[N]);if(O.length=E,_<E){for(S=x;S<v-E;S++)N=S+E,P=S+_,N in g?g[P]=g[N]:c(g,P);for(S=v;S>v-E+_;S--)c(g,S-1)}else if(_>E)for(S=v-E;S>x;S--)N=S+E-1,P=S+_-1,N in g?g[P]=g[N]:c(g,P);for(S=0;S<_;S++)g[S+x]=arguments[S+2];return s(g,v-E+_),O}}),HL}var h_,QL;function Dhe(){if(QL)return h_;QL=1,khe();var t=Sr();return h_=t("Array","splice"),h_}var f_,XL;function qhe(){if(XL)return f_;XL=1;var t=Gt(),e=Dhe(),r=Array.prototype;return f_=function(n){var i=n.splice;return n===r||t(r,n)&&i===r.splice?e:i},f_}var p_,JL;function Mhe(){if(JL)return p_;JL=1;var t=qhe();return p_=t,p_}var m_,ZL;function Ahe(){return ZL||(ZL=1,m_=Mhe()),m_}var Fhe=Ahe(),Zi=Ne(Fhe),eB={},tB;function Lhe(){if(tB)return eB;tB=1;var t=xe(),e=yC().includes,r=Ae(),n=NC(),i=r(function(){return!Array(1).includes()});return t({target:"Array",proto:!0,forced:i},{includes:function(a){return e(this,a,arguments.length>1?arguments[1]:void 0)}}),n("includes"),eB}var v_,rB;function Bhe(){if(rB)return v_;rB=1,Lhe();var t=Sr();return v_=t("Array","includes"),v_}var nB={},g_,iB;function zhe(){if(iB)return g_;iB=1;var t=hr(),e=Ii(),r=Yt(),n=r("match");return g_=function(i){var s;return t(i)&&((s=i[n])!==void 0?!!s:e(i)==="RegExp")},g_}var y_,sB;function Uhe(){if(sB)return y_;sB=1;var t=zhe(),e=TypeError;return y_=function(r){if(t(r))throw new e("The method doesn't accept regular expressions");return r},y_}var b_,aB;function Whe(){if(aB)return b_;aB=1;var t=Yt(),e=t("match");return b_=function(r){var n=/./;try{"/./"[r](n)}catch{try{return n[e]=!1,"/./"[r](n)}catch{}}return!1},b_}var oB;function Vhe(){if(oB)return nB;oB=1;var t=xe(),e=ze(),r=Uhe(),n=ys(),i=zn(),s=Whe(),a=e("".indexOf);return t({target:"String",proto:!0,forced:!s("includes")},{includes:function(l){return!!~a(i(n(this)),i(r(l)),arguments.length>1?arguments[1]:void 0)}}),nB}var w_,lB;function Hhe(){if(lB)return w_;lB=1,Vhe();var t=Sr();return w_=t("String","includes"),w_}var x_,uB;function Khe(){if(uB)return x_;uB=1;var t=Gt(),e=Bhe(),r=Hhe(),n=Array.prototype,i=String.prototype;return x_=function(s){var a=s.includes;return s===n||t(n,s)&&a===n.includes?e:typeof s=="string"||s===i||t(i,s)&&a===i.includes?r:a},x_}var __,cB;function Ghe(){if(cB)return __;cB=1;var t=Khe();return __=t,__}var S_,dB;function Yhe(){return dB||(dB=1,S_=Ghe()),S_}var Qhe=Yhe(),ia=Ne(Qhe),hB={},fB;function Xhe(){if(fB)return hB;fB=1;var t=xe(),e=Ae(),r=En(),n=wm(),i=TG(),s=e(function(){n(1)});return t({target:"Object",stat:!0,forced:s,sham:!i},{getPrototypeOf:function(o){return n(r(o))}}),hB}var E_,pB;function Jhe(){if(pB)return E_;pB=1,Xhe();var t=Je();return E_=t.Object.getPrototypeOf,E_}var O_,mB;function Zhe(){if(mB)return O_;mB=1;var t=Jhe();return O_=t,O_}var N_,vB;function efe(){return vB||(vB=1,N_=Zhe()),N_}var tfe=efe(),gB=Ne(tfe),P_,yB;function rfe(){if(yB)return P_;yB=1,bG();var t=Sr();return P_=t("Array","concat"),P_}var C_,bB;function nfe(){if(bB)return C_;bB=1;var t=Gt(),e=rfe(),r=Array.prototype;return C_=function(n){var i=n.concat;return n===r||t(r,n)&&i===r.concat?e:i},C_}var T_,wB;function ife(){if(wB)return T_;wB=1;var t=nfe();return T_=t,T_}var j_,xB;function sfe(){return xB||(xB=1,j_=ife()),j_}var afe=sfe(),ofe=Ne(afe),_B={},SB;function lfe(){if(SB)return _B;SB=1;var t=xe(),e=Ea().filter,r=hh(),n=r("filter");return t({target:"Array",proto:!0,forced:!n},{filter:function(s){return e(this,s,arguments.length>1?arguments[1]:void 0)}}),_B}var I_,EB;function ufe(){if(EB)return I_;EB=1,lfe();var t=Sr();return I_=t("Array","filter"),I_}var R_,OB;function cfe(){if(OB)return R_;OB=1;var t=Gt(),e=ufe(),r=Array.prototype;return R_=function(n){var i=n.filter;return n===r||t(r,n)&&i===r.filter?e:i},R_}var $_,NB;function dfe(){if(NB)return $_;NB=1;var t=cfe();return $_=t,$_}var k_,PB;function hfe(){return PB||(PB=1,k_=dfe()),k_}var ffe=hfe(),Xr=Ne(ffe),CB={},D_,TB;function pfe(){if(TB)return D_;TB=1;var t=Mt(),e=Ae(),r=ze(),n=wm(),i=dh(),s=ci(),a=um().f,o=r(a),l=r([].push),c=t&&e(function(){var h=Object.create(null);return h[2]=2,!o(h,2)}),d=function(h){return function(f){for(var p=s(f),m=i(p),y=c&&n(p)===null,w=m.length,g=0,v=[],x;w>g;)x=m[g++],(!t||(y?x in p:o(p,x)))&&l(v,h?[x,p[x]]:p[x]);return v}};return D_={entries:d(!0),values:d(!1)},D_}var jB;function mfe(){if(jB)return CB;jB=1;var t=xe(),e=pfe().values;return t({target:"Object",stat:!0},{values:function(n){return e(n)}}),CB}var q_,IB;function vfe(){if(IB)return q_;IB=1,mfe();var t=Je();return q_=t.Object.values,q_}var M_,RB;function gfe(){if(RB)return M_;RB=1;var t=vfe();return M_=t,M_}var A_,$B;function yfe(){return $B||($B=1,A_=gfe()),A_}var bfe=yfe(),wfe=Ne(bfe),kB={},F_,DB;function TC(){return DB||(DB=1,F_=`	
\v\f\r \u2028\u2029\uFEFF`),F_}var L_,qB;function $G(){if(qB)return L_;qB=1;var t=ze(),e=ys(),r=zn(),n=TC(),i=t("".replace),s=RegExp("^["+n+"]+"),a=RegExp("(^|[^"+n+"])["+n+"]+$"),o=function(l){return function(c){var d=r(e(c));return l&1&&(d=i(d,s,"")),l&2&&(d=i(d,a,"$1")),d}};return L_={start:o(1),end:o(2),trim:o(3)},L_}var B_,MB;function xfe(){if(MB)return B_;MB=1;var t=vt(),e=Ae(),r=ze(),n=zn(),i=$G().trim,s=TC(),a=t.parseInt,o=t.Symbol,l=o&&o.iterator,c=/^[+-]?0x/i,d=r(c.exec),h=a(s+"08")!==8||a(s+"0x16")!==22||l&&!e(function(){a(Object(l))});return B_=h?function(p,m){var y=i(n(p));return a(y,m>>>0||(d(c,y)?16:10))}:a,B_}var AB;function _fe(){if(AB)return kB;AB=1;var t=xe(),e=xfe();return t({global:!0,forced:parseInt!==e},{parseInt:e}),kB}var z_,FB;function Sfe(){if(FB)return z_;FB=1,_fe();var t=Je();return z_=t.parseInt,z_}var U_,LB;function Efe(){if(LB)return U_;LB=1;var t=Sfe();return U_=t,U_}var W_,BB;function Ofe(){return BB||(BB=1,W_=Efe()),W_}var Nfe=Ofe(),Zn=Ne(Nfe),zB={},UB;function Pfe(){if(UB)return zB;UB=1;var t=xe(),e=pC(),r=yC().indexOf,n=Xu(),i=e([].indexOf),s=!!i&&1/i([1],1,-0)<0,a=s||!n("indexOf");return t({target:"Array",proto:!0,forced:a},{indexOf:function(l){var c=arguments.length>1?arguments[1]:void 0;return s?i(this,l,c)||0:r(this,l,c)}}),zB}var V_,WB;function Cfe(){if(WB)return V_;WB=1,Pfe();var t=Sr();return V_=t("Array","indexOf"),V_}var H_,VB;function Tfe(){if(VB)return H_;VB=1;var t=Gt(),e=Cfe(),r=Array.prototype;return H_=function(n){var i=n.indexOf;return n===r||t(r,n)&&i===r.indexOf?e:i},H_}var K_,HB;function jfe(){if(HB)return K_;HB=1;var t=Tfe();return K_=t,K_}var G_,KB;function Ife(){return KB||(KB=1,G_=jfe()),G_}var Rfe=Ife(),Ye=Ne(Rfe),GB={},YB;function $fe(){if(YB)return GB;YB=1;var t=xe(),e=Mt(),r=fh();return t({target:"Object",stat:!0,sham:!e},{create:r}),GB}var Y_,QB;function kfe(){if(QB)return Y_;QB=1,$fe();var t=Je(),e=t.Object;return Y_=function(n,i){return e.create(n,i)},Y_}var Q_,XB;function Dfe(){if(XB)return Q_;XB=1;var t=kfe();return Q_=t,Q_}var X_,JB;function qfe(){return JB||(JB=1,X_=Dfe()),X_}var Mfe=qfe(),lo=Ne(Mfe),ZB={},J_,e6;function Afe(){if(e6)return J_;e6=1;var t=Vu(),e=zn(),r=ys(),n=RangeError;return J_=function(s){var a=e(r(this)),o="",l=t(s);if(l<0||l===1/0)throw new n("Wrong number of repetitions");for(;l>0;(l>>>=1)&&(a+=a))l&1&&(o+=a);return o},J_}var Z_,t6;function Ffe(){if(t6)return Z_;t6=1;var t=ze(),e=dG(),r=zn(),n=Afe(),i=ys(),s=t(n),a=t("".slice),o=Math.ceil,l=function(c){return function(d,h,f){var p=r(i(d)),m=e(h),y=p.length,w=f===void 0?" ":r(f),g,v;return m<=y||w===""?p:(g=m-y,v=s(w,o(g/w.length)),v.length>g&&(v=a(v,0,g)),c?p+v:v+p)}};return Z_={start:l(!1),end:l(!0)},Z_}var eS,r6;function Lfe(){if(r6)return eS;r6=1;var t=ze(),e=Ae(),r=Ffe().start,n=RangeError,i=isFinite,s=Math.abs,a=Date.prototype,o=a.toISOString,l=t(a.getTime),c=t(a.getUTCDate),d=t(a.getUTCFullYear),h=t(a.getUTCHours),f=t(a.getUTCMilliseconds),p=t(a.getUTCMinutes),m=t(a.getUTCMonth),y=t(a.getUTCSeconds);return eS=e(function(){return o.call(new Date(-5e13-1))!=="0385-07-25T07:06:39.999Z"})||!e(function(){o.call(new Date(NaN))})?function(){if(!i(l(this)))throw new n("Invalid time value");var g=this,v=d(g),x=f(g),b=v<0?"-":v>9999?"+":"";return b+r(s(v),b?6:4,0)+"-"+r(m(g)+1,2,0)+"-"+r(c(g),2,0)+"T"+r(h(g),2,0)+":"+r(p(g),2,0)+":"+r(y(g),2,0)+"."+r(x,3,0)+"Z"}:o,eS}var n6;function Bfe(){if(n6)return ZB;n6=1;var t=xe(),e=cn(),r=En(),n=oG(),i=Lfe(),s=Ii(),a=Ae(),o=a(function(){return new Date(NaN).toJSON()!==null||e(Date.prototype.toJSON,{toISOString:function(){return 1}})!==1});return t({target:"Date",proto:!0,forced:o},{toJSON:function(c){var d=r(this),h=n(d,"number");return typeof h=="number"&&!isFinite(h)?null:!("toISOString"in d)&&s(d)==="Date"?e(i,d):d.toISOString()}}),ZB}var tS,i6;function zfe(){if(i6)return tS;i6=1,Bfe(),SG();var t=Je(),e=lm();return t.JSON||(t.JSON={stringify:JSON.stringify}),tS=function(n,i,s){return e(t.JSON.stringify,null,arguments)},tS}var rS,s6;function Ufe(){if(s6)return rS;s6=1;var t=zfe();return rS=t,rS}var nS,a6;function Wfe(){return a6||(a6=1,nS=Ufe()),nS}var Vfe=Wfe(),mh=Ne(Vfe),o6={},l6={},iS,u6;function kG(){if(u6)return iS;u6=1;var t=vt(),e=Fu(),r=Ii(),n=function(i){return e.slice(0,i.length)===i};return iS=function(){return n("Bun/")?"BUN":n("Cloudflare-Workers")?"CLOUDFLARE":n("Deno/")?"DENO":n("Node.js/")?"NODE":t.Bun&&typeof Bun.version=="string"?"BUN":t.Deno&&typeof Deno.version=="object"?"DENO":r(t.process)==="process"?"NODE":t.window&&t.document?"BROWSER":"REST"}(),iS}var sS,c6;function Hfe(){if(c6)return sS;c6=1;var t=TypeError;return sS=function(e,r){if(e<r)throw new t("Not enough arguments");return e},sS}var aS,d6;function DG(){if(d6)return aS;d6=1;var t=vt(),e=lm(),r=dr(),n=kG(),i=Fu(),s=Hu(),a=Hfe(),o=t.Function,l=/MSIE .\./.test(i)||n==="BUN"&&function(){var c=t.Bun.version.split(".");return c.length<3||c[0]==="0"&&(c[1]<3||c[1]==="3"&&c[2]==="0")}();return aS=function(c,d){var h=d?2:1;return l?function(f,p){var m=a(arguments.length,1)>h,y=r(f)?f:o(f),w=m?s(arguments,h):[],g=m?function(){e(y,this,w)}:y;return d?c(g,p):c(g)}:c},aS}var h6;function Kfe(){if(h6)return l6;h6=1;var t=xe(),e=vt(),r=DG(),n=r(e.setInterval,!0);return t({global:!0,bind:!0,forced:e.setInterval!==n},{setInterval:n}),l6}var f6={},p6;function Gfe(){if(p6)return f6;p6=1;var t=xe(),e=vt(),r=DG(),n=r(e.setTimeout,!0);return t({global:!0,bind:!0,forced:e.setTimeout!==n},{setTimeout:n}),f6}var m6;function qG(){return m6||(m6=1,Kfe(),Gfe()),o6}var oS,v6;function Yfe(){if(v6)return oS;v6=1,qG();var t=Je();return oS=t.setTimeout,oS}var lS,g6;function Qfe(){return g6||(g6=1,lS=Yfe()),lS}var Xfe=Qfe(),es=Ne(Xfe),y6={},uS,b6;function Jfe(){if(b6)return uS;b6=1;var t=En(),e=pm(),r=ws();return uS=function(i){for(var s=t(this),a=r(s),o=arguments.length,l=e(o>1?arguments[1]:void 0,a),c=o>2?arguments[2]:void 0,d=c===void 0?a:e(c,a);d>l;)s[l++]=i;return s},uS}var w6;function Zfe(){if(w6)return y6;w6=1;var t=xe(),e=Jfe(),r=NC();return t({target:"Array",proto:!0},{fill:e}),r("fill"),y6}var cS,x6;function epe(){if(x6)return cS;x6=1,Zfe();var t=Sr();return cS=t("Array","fill"),cS}var dS,_6;function tpe(){if(_6)return dS;_6=1;var t=Gt(),e=epe(),r=Array.prototype;return dS=function(n){var i=n.fill;return n===r||t(r,n)&&i===r.fill?e:i},dS}var hS,S6;function rpe(){if(S6)return hS;S6=1;var t=tpe();return hS=t,hS}var fS,E6;function npe(){return E6||(E6=1,fS=rpe()),fS}var ipe=npe(),vh=Ne(ipe);/*! Hammer.JS - v2.0.17-rc - 2019-12-16
 * http://naver.github.io/egjs
 *
 * Forked By Naver egjs
 * Copyright (c) hammerjs
 * Licensed under the MIT license */function oi(){return oi=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},oi.apply(this,arguments)}function Un(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}function Jh(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}var pN;typeof Object.assign!="function"?pN=function(e){if(e==null)throw new TypeError("Cannot convert undefined or null to object");for(var r=Object(e),n=1;n<arguments.length;n++){var i=arguments[n];if(i!=null)for(var s in i)i.hasOwnProperty(s)&&(r[s]=i[s])}return r}:pN=Object.assign;var No=pN,O6=["","webkit","Moz","MS","ms","o"],spe=typeof document>"u"?{style:{}}:document.createElement("div"),ape="function",Sl=Math.round,Po=Math.abs,jC=Date.now;function xm(t,e){for(var r,n,i=e[0].toUpperCase()+e.slice(1),s=0;s<O6.length;){if(r=O6[s],n=r?r+i:e,n in t)return n;s++}}var ts;typeof window>"u"?ts={}:ts=window;var MG=xm(spe.style,"touchAction"),AG=MG!==void 0;function ope(){if(!AG)return!1;var t={},e=ts.CSS&&ts.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach(function(r){return t[r]=e?ts.CSS.supports("touch-action",r):!0}),t}var FG="compute",LG="auto",mN="manipulation",uo="none",yd="pan-x",bd="pan-y",Zh=ope(),lpe=/mobile|tablet|ip(ad|hone|od)|android/i,BG="ontouchstart"in ts,upe=xm(ts,"PointerEvent")!==void 0,cpe=BG&&lpe.test(navigator.userAgent),gh="touch",dpe="pen",IC="mouse",hpe="kinect",fpe=25,Br=1,Vo=2,Wt=4,an=8,hp=1,yh=2,bh=4,wh=8,pu=16,Ti=yh|bh,co=wh|pu,zG=Ti|co,UG=["x","y"],fp=["clientX","clientY"];function rs(t,e,r){var n;if(t)if(t.forEach)t.forEach(e,r);else if(t.length!==void 0)for(n=0;n<t.length;)e.call(r,t[n],n,t),n++;else for(n in t)t.hasOwnProperty(n)&&e.call(r,t[n],n,t)}function _m(t,e){return typeof t===ape?t.apply(e&&e[0]||void 0,e):t}function Ua(t,e){return t.indexOf(e)>-1}function ppe(t){if(Ua(t,uo))return uo;var e=Ua(t,yd),r=Ua(t,bd);return e&&r?uo:e||r?e?yd:bd:Ua(t,mN)?mN:LG}var WG=function(){function t(r,n){this.manager=r,this.set(n)}var e=t.prototype;return e.set=function(n){n===FG&&(n=this.compute()),AG&&this.manager.element.style&&Zh[n]&&(this.manager.element.style[MG]=n),this.actions=n.toLowerCase().trim()},e.update=function(){this.set(this.manager.options.touchAction)},e.compute=function(){var n=[];return rs(this.manager.recognizers,function(i){_m(i.options.enable,[i])&&(n=n.concat(i.getTouchAction()))}),ppe(n.join(" "))},e.preventDefaults=function(n){var i=n.srcEvent,s=n.offsetDirection;if(this.manager.session.prevented){i.preventDefault();return}var a=this.actions,o=Ua(a,uo)&&!Zh[uo],l=Ua(a,bd)&&!Zh[bd],c=Ua(a,yd)&&!Zh[yd];if(o){var d=n.pointers.length===1,h=n.distance<2,f=n.deltaTime<250;if(d&&h&&f)return}if(!(c&&l)&&(o||l&&s&Ti||c&&s&co))return this.preventSrc(i)},e.preventSrc=function(n){this.manager.session.prevented=!0,n.preventDefault()},t}();function RC(t,e){for(;t;){if(t===e)return!0;t=t.parentNode}return!1}function VG(t){var e=t.length;if(e===1)return{x:Sl(t[0].clientX),y:Sl(t[0].clientY)};for(var r=0,n=0,i=0;i<e;)r+=t[i].clientX,n+=t[i].clientY,i++;return{x:Sl(r/e),y:Sl(n/e)}}function N6(t){for(var e=[],r=0;r<t.pointers.length;)e[r]={clientX:Sl(t.pointers[r].clientX),clientY:Sl(t.pointers[r].clientY)},r++;return{timeStamp:jC(),pointers:e,center:VG(e),deltaX:t.deltaX,deltaY:t.deltaY}}function pp(t,e,r){r||(r=UG);var n=e[r[0]]-t[r[0]],i=e[r[1]]-t[r[1]];return Math.sqrt(n*n+i*i)}function vN(t,e,r){r||(r=UG);var n=e[r[0]]-t[r[0]],i=e[r[1]]-t[r[1]];return Math.atan2(i,n)*180/Math.PI}function HG(t,e){return t===e?hp:Po(t)>=Po(e)?t<0?yh:bh:e<0?wh:pu}function mpe(t,e){var r=e.center,n=t.offsetDelta||{},i=t.prevDelta||{},s=t.prevInput||{};(e.eventType===Br||s.eventType===Wt)&&(i=t.prevDelta={x:s.deltaX||0,y:s.deltaY||0},n=t.offsetDelta={x:r.x,y:r.y}),e.deltaX=i.x+(r.x-n.x),e.deltaY=i.y+(r.y-n.y)}function KG(t,e,r){return{x:e/t||0,y:r/t||0}}function vpe(t,e){return pp(e[0],e[1],fp)/pp(t[0],t[1],fp)}function gpe(t,e){return vN(e[1],e[0],fp)+vN(t[1],t[0],fp)}function ype(t,e){var r=t.lastInterval||e,n=e.timeStamp-r.timeStamp,i,s,a,o;if(e.eventType!==an&&(n>fpe||r.velocity===void 0)){var l=e.deltaX-r.deltaX,c=e.deltaY-r.deltaY,d=KG(n,l,c);s=d.x,a=d.y,i=Po(d.x)>Po(d.y)?d.x:d.y,o=HG(l,c),t.lastInterval=e}else i=r.velocity,s=r.velocityX,a=r.velocityY,o=r.direction;e.velocity=i,e.velocityX=s,e.velocityY=a,e.direction=o}function bpe(t,e){var r=t.session,n=e.pointers,i=n.length;r.firstInput||(r.firstInput=N6(e)),i>1&&!r.firstMultiple?r.firstMultiple=N6(e):i===1&&(r.firstMultiple=!1);var s=r.firstInput,a=r.firstMultiple,o=a?a.center:s.center,l=e.center=VG(n);e.timeStamp=jC(),e.deltaTime=e.timeStamp-s.timeStamp,e.angle=vN(o,l),e.distance=pp(o,l),mpe(r,e),e.offsetDirection=HG(e.deltaX,e.deltaY);var c=KG(e.deltaTime,e.deltaX,e.deltaY);e.overallVelocityX=c.x,e.overallVelocityY=c.y,e.overallVelocity=Po(c.x)>Po(c.y)?c.x:c.y,e.scale=a?vpe(a.pointers,n):1,e.rotation=a?gpe(a.pointers,n):0,e.maxPointers=r.prevInput?e.pointers.length>r.prevInput.maxPointers?e.pointers.length:r.prevInput.maxPointers:e.pointers.length,ype(r,e);var d=t.element,h=e.srcEvent,f;h.composedPath?f=h.composedPath()[0]:h.path?f=h.path[0]:f=h.target,RC(f,d)&&(d=f),e.target=d}function wpe(t,e,r){var n=r.pointers.length,i=r.changedPointers.length,s=e&Br&&n-i===0,a=e&(Wt|an)&&n-i===0;r.isFirst=!!s,r.isFinal=!!a,s&&(t.session={}),r.eventType=e,bpe(t,r),t.emit("hammer.input",r),t.recognize(r),t.session.prevInput=r}function wd(t){return t.trim().split(/\s+/g)}function Fc(t,e,r){rs(wd(e),function(n){t.addEventListener(n,r,!1)})}function Lc(t,e,r){rs(wd(e),function(n){t.removeEventListener(n,r,!1)})}function P6(t){var e=t.ownerDocument||t;return e.defaultView||e.parentWindow||window}var Ju=function(){function t(r,n){var i=this;this.manager=r,this.callback=n,this.element=r.element,this.target=r.options.inputTarget,this.domHandler=function(s){_m(r.options.enable,[r])&&i.handler(s)},this.init()}var e=t.prototype;return e.handler=function(){},e.init=function(){this.evEl&&Fc(this.element,this.evEl,this.domHandler),this.evTarget&&Fc(this.target,this.evTarget,this.domHandler),this.evWin&&Fc(P6(this.element),this.evWin,this.domHandler)},e.destroy=function(){this.evEl&&Lc(this.element,this.evEl,this.domHandler),this.evTarget&&Lc(this.target,this.evTarget,this.domHandler),this.evWin&&Lc(P6(this.element),this.evWin,this.domHandler)},t}();function Co(t,e,r){if(t.indexOf&&!r)return t.indexOf(e);for(var n=0;n<t.length;){if(r&&t[n][r]==e||!r&&t[n]===e)return n;n++}return-1}var xpe={pointerdown:Br,pointermove:Vo,pointerup:Wt,pointercancel:an,pointerout:an},_pe={2:gh,3:dpe,4:IC,5:hpe},GG="pointerdown",YG="pointermove pointerup pointercancel";ts.MSPointerEvent&&!ts.PointerEvent&&(GG="MSPointerDown",YG="MSPointerMove MSPointerUp MSPointerCancel");var QG=function(t){Un(e,t);function e(){var n,i=e.prototype;return i.evEl=GG,i.evWin=YG,n=t.apply(this,arguments)||this,n.store=n.manager.session.pointerEvents=[],n}var r=e.prototype;return r.handler=function(i){var s=this.store,a=!1,o=i.type.toLowerCase().replace("ms",""),l=xpe[o],c=_pe[i.pointerType]||i.pointerType,d=c===gh,h=Co(s,i.pointerId,"pointerId");l&Br&&(i.button===0||d)?h<0&&(s.push(i),h=s.length-1):l&(Wt|an)&&(a=!0),!(h<0)&&(s[h]=i,this.callback(this.manager,l,{pointers:s,changedPointers:[i],pointerType:c,srcEvent:i}),a&&s.splice(h,1))},e}(Ju);function xd(t){return Array.prototype.slice.call(t,0)}function $C(t,e,r){for(var n=[],i=[],s=0;s<t.length;){var a=e?t[s][e]:t[s];Co(i,a)<0&&n.push(t[s]),i[s]=a,s++}return r&&(e?n=n.sort(function(o,l){return o[e]>l[e]}):n=n.sort()),n}var Spe={touchstart:Br,touchmove:Vo,touchend:Wt,touchcancel:an},Epe="touchstart touchmove touchend touchcancel",kC=function(t){Un(e,t);function e(){var n;return e.prototype.evTarget=Epe,n=t.apply(this,arguments)||this,n.targetIds={},n}var r=e.prototype;return r.handler=function(i){var s=Spe[i.type],a=Ope.call(this,i,s);a&&this.callback(this.manager,s,{pointers:a[0],changedPointers:a[1],pointerType:gh,srcEvent:i})},e}(Ju);function Ope(t,e){var r=xd(t.touches),n=this.targetIds;if(e&(Br|Vo)&&r.length===1)return n[r[0].identifier]=!0,[r,r];var i,s,a=xd(t.changedTouches),o=[],l=this.target;if(s=r.filter(function(c){return RC(c.target,l)}),e===Br)for(i=0;i<s.length;)n[s[i].identifier]=!0,i++;for(i=0;i<a.length;)n[a[i].identifier]&&o.push(a[i]),e&(Wt|an)&&delete n[a[i].identifier],i++;if(o.length)return[$C(s.concat(o),"identifier",!0),o]}var Npe={mousedown:Br,mousemove:Vo,mouseup:Wt},Ppe="mousedown",Cpe="mousemove mouseup",DC=function(t){Un(e,t);function e(){var n,i=e.prototype;return i.evEl=Ppe,i.evWin=Cpe,n=t.apply(this,arguments)||this,n.pressed=!1,n}var r=e.prototype;return r.handler=function(i){var s=Npe[i.type];s&Br&&i.button===0&&(this.pressed=!0),s&Vo&&i.which!==1&&(s=Wt),this.pressed&&(s&Wt&&(this.pressed=!1),this.callback(this.manager,s,{pointers:[i],changedPointers:[i],pointerType:IC,srcEvent:i}))},e}(Ju),Tpe=2500,C6=25;function T6(t){var e=t.changedPointers,r=e[0];if(r.identifier===this.primaryTouch){var n={x:r.clientX,y:r.clientY},i=this.lastTouches;this.lastTouches.push(n);var s=function(){var o=i.indexOf(n);o>-1&&i.splice(o,1)};setTimeout(s,Tpe)}}function jpe(t,e){t&Br?(this.primaryTouch=e.changedPointers[0].identifier,T6.call(this,e)):t&(Wt|an)&&T6.call(this,e)}function Ipe(t){for(var e=t.srcEvent.clientX,r=t.srcEvent.clientY,n=0;n<this.lastTouches.length;n++){var i=this.lastTouches[n],s=Math.abs(e-i.x),a=Math.abs(r-i.y);if(s<=C6&&a<=C6)return!0}return!1}var XG=function(){var t=function(e){Un(r,e);function r(i,s){var a;return a=e.call(this,i,s)||this,a.handler=function(o,l,c){var d=c.pointerType===gh,h=c.pointerType===IC;if(!(h&&c.sourceCapabilities&&c.sourceCapabilities.firesTouchEvents)){if(d)jpe.call(Jh(Jh(a)),l,c);else if(h&&Ipe.call(Jh(Jh(a)),c))return;a.callback(o,l,c)}},a.touch=new kC(a.manager,a.handler),a.mouse=new DC(a.manager,a.handler),a.primaryTouch=null,a.lastTouches=[],a}var n=r.prototype;return n.destroy=function(){this.touch.destroy(),this.mouse.destroy()},r}(Ju);return t}();function Rpe(t){var e,r=t.options.inputClass;return r?e=r:upe?e=QG:cpe?e=kC:BG?e=XG:e=DC,new e(t,wpe)}function El(t,e,r){return Array.isArray(t)?(rs(t,r[e],r),!0):!1}var _f=1,qn=2,mu=4,sa=8,ns=sa,_d=16,Ei=32,$pe=1;function kpe(){return $pe++}function ef(t,e){var r=e.manager;return r?r.get(t):t}function j6(t){return t&_d?"cancel":t&sa?"end":t&mu?"move":t&qn?"start":""}var xh=function(){function t(r){r===void 0&&(r={}),this.options=oi({enable:!0},r),this.id=kpe(),this.manager=null,this.state=_f,this.simultaneous={},this.requireFail=[]}var e=t.prototype;return e.set=function(n){return No(this.options,n),this.manager&&this.manager.touchAction.update(),this},e.recognizeWith=function(n){if(El(n,"recognizeWith",this))return this;var i=this.simultaneous;return n=ef(n,this),i[n.id]||(i[n.id]=n,n.recognizeWith(this)),this},e.dropRecognizeWith=function(n){return El(n,"dropRecognizeWith",this)?this:(n=ef(n,this),delete this.simultaneous[n.id],this)},e.requireFailure=function(n){if(El(n,"requireFailure",this))return this;var i=this.requireFail;return n=ef(n,this),Co(i,n)===-1&&(i.push(n),n.requireFailure(this)),this},e.dropRequireFailure=function(n){if(El(n,"dropRequireFailure",this))return this;n=ef(n,this);var i=Co(this.requireFail,n);return i>-1&&this.requireFail.splice(i,1),this},e.hasRequireFailures=function(){return this.requireFail.length>0},e.canRecognizeWith=function(n){return!!this.simultaneous[n.id]},e.emit=function(n){var i=this,s=this.state;function a(o){i.manager.emit(o,n)}s<sa&&a(i.options.event+j6(s)),a(i.options.event),n.additionalEvent&&a(n.additionalEvent),s>=sa&&a(i.options.event+j6(s))},e.tryEmit=function(n){if(this.canEmit())return this.emit(n);this.state=Ei},e.canEmit=function(){for(var n=0;n<this.requireFail.length;){if(!(this.requireFail[n].state&(Ei|_f)))return!1;n++}return!0},e.recognize=function(n){var i=No({},n);if(!_m(this.options.enable,[this,i])){this.reset(),this.state=Ei;return}this.state&(ns|_d|Ei)&&(this.state=_f),this.state=this.process(i),this.state&(qn|mu|sa|_d)&&this.tryEmit(i)},e.process=function(n){},e.getTouchAction=function(){},e.reset=function(){},t}(),gN=function(t){Un(e,t);function e(n){var i;return n===void 0&&(n={}),i=t.call(this,oi({event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},n))||this,i.pTime=!1,i.pCenter=!1,i._timer=null,i._input=null,i.count=0,i}var r=e.prototype;return r.getTouchAction=function(){return[mN]},r.process=function(i){var s=this,a=this.options,o=i.pointers.length===a.pointers,l=i.distance<a.threshold,c=i.deltaTime<a.time;if(this.reset(),i.eventType&Br&&this.count===0)return this.failTimeout();if(l&&c&&o){if(i.eventType!==Wt)return this.failTimeout();var d=this.pTime?i.timeStamp-this.pTime<a.interval:!0,h=!this.pCenter||pp(this.pCenter,i.center)<a.posThreshold;this.pTime=i.timeStamp,this.pCenter=i.center,!h||!d?this.count=1:this.count+=1,this._input=i;var f=this.count%a.taps;if(f===0)return this.hasRequireFailures()?(this._timer=setTimeout(function(){s.state=ns,s.tryEmit()},a.interval),qn):ns}return Ei},r.failTimeout=function(){var i=this;return this._timer=setTimeout(function(){i.state=Ei},this.options.interval),Ei},r.reset=function(){clearTimeout(this._timer)},r.emit=function(){this.state===ns&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))},e}(xh),vu=function(t){Un(e,t);function e(n){return n===void 0&&(n={}),t.call(this,oi({pointers:1},n))||this}var r=e.prototype;return r.attrTest=function(i){var s=this.options.pointers;return s===0||i.pointers.length===s},r.process=function(i){var s=this.state,a=i.eventType,o=s&(qn|mu),l=this.attrTest(i);return o&&(a&an||!l)?s|_d:o||l?a&Wt?s|sa:s&qn?s|mu:qn:Ei},e}(xh);function JG(t){return t===pu?"down":t===wh?"up":t===yh?"left":t===bh?"right":""}var qC=function(t){Un(e,t);function e(n){var i;return n===void 0&&(n={}),i=t.call(this,oi({event:"pan",threshold:10,pointers:1,direction:zG},n))||this,i.pX=null,i.pY=null,i}var r=e.prototype;return r.getTouchAction=function(){var i=this.options.direction,s=[];return i&Ti&&s.push(bd),i&co&&s.push(yd),s},r.directionTest=function(i){var s=this.options,a=!0,o=i.distance,l=i.direction,c=i.deltaX,d=i.deltaY;return l&s.direction||(s.direction&Ti?(l=c===0?hp:c<0?yh:bh,a=c!==this.pX,o=Math.abs(i.deltaX)):(l=d===0?hp:d<0?wh:pu,a=d!==this.pY,o=Math.abs(i.deltaY))),i.direction=l,a&&o>s.threshold&&l&s.direction},r.attrTest=function(i){return vu.prototype.attrTest.call(this,i)&&(this.state&qn||!(this.state&qn)&&this.directionTest(i))},r.emit=function(i){this.pX=i.deltaX,this.pY=i.deltaY;var s=JG(i.direction);s&&(i.additionalEvent=this.options.event+s),t.prototype.emit.call(this,i)},e}(vu),ZG=function(t){Un(e,t);function e(n){return n===void 0&&(n={}),t.call(this,oi({event:"swipe",threshold:10,velocity:.3,direction:Ti|co,pointers:1},n))||this}var r=e.prototype;return r.getTouchAction=function(){return qC.prototype.getTouchAction.call(this)},r.attrTest=function(i){var s=this.options.direction,a;return s&(Ti|co)?a=i.overallVelocity:s&Ti?a=i.overallVelocityX:s&co&&(a=i.overallVelocityY),t.prototype.attrTest.call(this,i)&&s&i.offsetDirection&&i.distance>this.options.threshold&&i.maxPointers===this.options.pointers&&Po(a)>this.options.velocity&&i.eventType&Wt},r.emit=function(i){var s=JG(i.offsetDirection);s&&this.manager.emit(this.options.event+s,i),this.manager.emit(this.options.event,i)},e}(vu),eY=function(t){Un(e,t);function e(n){return n===void 0&&(n={}),t.call(this,oi({event:"pinch",threshold:0,pointers:2},n))||this}var r=e.prototype;return r.getTouchAction=function(){return[uo]},r.attrTest=function(i){return t.prototype.attrTest.call(this,i)&&(Math.abs(i.scale-1)>this.options.threshold||this.state&qn)},r.emit=function(i){if(i.scale!==1){var s=i.scale<1?"in":"out";i.additionalEvent=this.options.event+s}t.prototype.emit.call(this,i)},e}(vu),tY=function(t){Un(e,t);function e(n){return n===void 0&&(n={}),t.call(this,oi({event:"rotate",threshold:0,pointers:2},n))||this}var r=e.prototype;return r.getTouchAction=function(){return[uo]},r.attrTest=function(i){return t.prototype.attrTest.call(this,i)&&(Math.abs(i.rotation)>this.options.threshold||this.state&qn)},e}(vu),rY=function(t){Un(e,t);function e(n){var i;return n===void 0&&(n={}),i=t.call(this,oi({event:"press",pointers:1,time:251,threshold:9},n))||this,i._timer=null,i._input=null,i}var r=e.prototype;return r.getTouchAction=function(){return[LG]},r.process=function(i){var s=this,a=this.options,o=i.pointers.length===a.pointers,l=i.distance<a.threshold,c=i.deltaTime>a.time;if(this._input=i,!l||!o||i.eventType&(Wt|an)&&!c)this.reset();else if(i.eventType&Br)this.reset(),this._timer=setTimeout(function(){s.state=ns,s.tryEmit()},a.time);else if(i.eventType&Wt)return ns;return Ei},r.reset=function(){clearTimeout(this._timer)},r.emit=function(i){this.state===ns&&(i&&i.eventType&Wt?this.manager.emit(this.options.event+"up",i):(this._input.timeStamp=jC(),this.manager.emit(this.options.event,this._input)))},e}(xh),nY={domEvents:!1,touchAction:FG,enable:!0,inputTarget:null,inputClass:null,cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}},I6=[[tY,{enable:!1}],[eY,{enable:!1},["rotate"]],[ZG,{direction:Ti}],[qC,{direction:Ti},["swipe"]],[gN],[gN,{event:"doubletap",taps:2},["tap"]],[rY]],Dpe=1,R6=2;function $6(t,e){var r=t.element;if(r.style){var n;rs(t.options.cssProps,function(i,s){n=xm(r.style,s),e?(t.oldCssProps[n]=r.style[n],r.style[n]=i):r.style[n]=t.oldCssProps[n]||""}),e||(t.oldCssProps={})}}function qpe(t,e){var r=document.createEvent("Event");r.initEvent(t,!0,!0),r.gesture=e,e.target.dispatchEvent(r)}var k6=function(){function t(r,n){var i=this;this.options=No({},nY,n||{}),this.options.inputTarget=this.options.inputTarget||r,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=r,this.input=Rpe(this),this.touchAction=new WG(this,this.options.touchAction),$6(this,!0),rs(this.options.recognizers,function(s){var a=i.add(new s[0](s[1]));s[2]&&a.recognizeWith(s[2]),s[3]&&a.requireFailure(s[3])},this)}var e=t.prototype;return e.set=function(n){return No(this.options,n),n.touchAction&&this.touchAction.update(),n.inputTarget&&(this.input.destroy(),this.input.target=n.inputTarget,this.input.init()),this},e.stop=function(n){this.session.stopped=n?R6:Dpe},e.recognize=function(n){var i=this.session;if(!i.stopped){this.touchAction.preventDefaults(n);var s,a=this.recognizers,o=i.curRecognizer;(!o||o&&o.state&ns)&&(i.curRecognizer=null,o=null);for(var l=0;l<a.length;)s=a[l],i.stopped!==R6&&(!o||s===o||s.canRecognizeWith(o))?s.recognize(n):s.reset(),!o&&s.state&(qn|mu|sa)&&(i.curRecognizer=s,o=s),l++}},e.get=function(n){if(n instanceof xh)return n;for(var i=this.recognizers,s=0;s<i.length;s++)if(i[s].options.event===n)return i[s];return null},e.add=function(n){if(El(n,"add",this))return this;var i=this.get(n.options.event);return i&&this.remove(i),this.recognizers.push(n),n.manager=this,this.touchAction.update(),n},e.remove=function(n){if(El(n,"remove",this))return this;var i=this.get(n);if(n){var s=this.recognizers,a=Co(s,i);a!==-1&&(s.splice(a,1),this.touchAction.update())}return this},e.on=function(n,i){if(n===void 0||i===void 0)return this;var s=this.handlers;return rs(wd(n),function(a){s[a]=s[a]||[],s[a].push(i)}),this},e.off=function(n,i){if(n===void 0)return this;var s=this.handlers;return rs(wd(n),function(a){i?s[a]&&s[a].splice(Co(s[a],i),1):delete s[a]}),this},e.emit=function(n,i){this.options.domEvents&&qpe(n,i);var s=this.handlers[n]&&this.handlers[n].slice();if(!(!s||!s.length)){i.type=n,i.preventDefault=function(){i.srcEvent.preventDefault()};for(var a=0;a<s.length;)s[a](i),a++}},e.destroy=function(){this.element&&$6(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null},t}(),Mpe={touchstart:Br,touchmove:Vo,touchend:Wt,touchcancel:an},Ape="touchstart",Fpe="touchstart touchmove touchend touchcancel",Lpe=function(t){Un(e,t);function e(){var n,i=e.prototype;return i.evTarget=Ape,i.evWin=Fpe,n=t.apply(this,arguments)||this,n.started=!1,n}var r=e.prototype;return r.handler=function(i){var s=Mpe[i.type];if(s===Br&&(this.started=!0),!!this.started){var a=Bpe.call(this,i,s);s&(Wt|an)&&a[0].length-a[1].length===0&&(this.started=!1),this.callback(this.manager,s,{pointers:a[0],changedPointers:a[1],pointerType:gh,srcEvent:i})}},e}(Ju);function Bpe(t,e){var r=xd(t.touches),n=xd(t.changedTouches);return e&(Wt|an)&&(r=$C(r.concat(n),"identifier",!0)),[r,n]}function iY(t,e,r){var n="DEPRECATED METHOD: "+e+`
`+r+` AT 
`;return function(){var i=new Error("get-stack-trace"),s=i&&i.stack?i.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",a=window.console&&(window.console.warn||window.console.log);return a&&a.call(window.console,n,s),t.apply(this,arguments)}}var sY=iY(function(t,e,r){for(var n=Object.keys(e),i=0;i<n.length;)(!r||r&&t[n[i]]===void 0)&&(t[n[i]]=e[n[i]]),i++;return t},"extend","Use `assign`."),zpe=iY(function(t,e){return sY(t,e,!0)},"merge","Use `assign`.");function Upe(t,e,r){var n=e.prototype,i;i=t.prototype=Object.create(n),i.constructor=t,i._super=n,r&&No(i,r)}function D6(t,e){return function(){return t.apply(e,arguments)}}var aY=function(){var t=function(r,n){return n===void 0&&(n={}),new k6(r,oi({recognizers:I6.concat()},n))};return t.VERSION="2.0.17-rc",t.DIRECTION_ALL=zG,t.DIRECTION_DOWN=pu,t.DIRECTION_LEFT=yh,t.DIRECTION_RIGHT=bh,t.DIRECTION_UP=wh,t.DIRECTION_HORIZONTAL=Ti,t.DIRECTION_VERTICAL=co,t.DIRECTION_NONE=hp,t.DIRECTION_DOWN=pu,t.INPUT_START=Br,t.INPUT_MOVE=Vo,t.INPUT_END=Wt,t.INPUT_CANCEL=an,t.STATE_POSSIBLE=_f,t.STATE_BEGAN=qn,t.STATE_CHANGED=mu,t.STATE_ENDED=sa,t.STATE_RECOGNIZED=ns,t.STATE_CANCELLED=_d,t.STATE_FAILED=Ei,t.Manager=k6,t.Input=Ju,t.TouchAction=WG,t.TouchInput=kC,t.MouseInput=DC,t.PointerEventInput=QG,t.TouchMouseInput=XG,t.SingleTouchInput=Lpe,t.Recognizer=xh,t.AttrRecognizer=vu,t.Tap=gN,t.Pan=qC,t.Swipe=ZG,t.Pinch=eY,t.Rotate=tY,t.Press=rY,t.on=Fc,t.off=Lc,t.each=rs,t.merge=zpe,t.extend=sY,t.bindFn=D6,t.assign=No,t.inherit=Upe,t.bindFn=D6,t.prefixed=xm,t.toArray=xd,t.inArray=Co,t.uniqueArray=$C,t.splitStr=wd,t.boolOrFn=_m,t.hasParent=RC,t.addEventListeners=Fc,t.removeEventListeners=Lc,t.defaults=No({},nY,{preset:I6}),t}();aY.defaults;Vde("DELETE");function Sm(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return Wpe(e.length?e:[dp()])}function Wpe(t){let[e,r,n]=Vpe(t),i=1;const s=()=>{const a=2091639*e+i*23283064365386963e-26;return e=r,r=n,n=a-(i=a|0)};return s.uint32=()=>s()*4294967296,s.fract53=()=>s()+(s()*2097152|0)*11102230246251565e-32,s.algorithm="Alea",s.seed=t,s.version="0.9",s}function Vpe(){const t=Hpe();let e=t(" "),r=t(" "),n=t(" ");for(let i=0;i<arguments.length;i++)e-=t(i<0||arguments.length<=i?void 0:arguments[i]),e<0&&(e+=1),r-=t(i<0||arguments.length<=i?void 0:arguments[i]),r<0&&(r+=1),n-=t(i<0||arguments.length<=i?void 0:arguments[i]),n<0&&(n+=1);return[e,r,n]}function Hpe(){let t=4022871197;return function(e){const r=e.toString();for(let n=0;n<r.length;n++){t+=r.charCodeAt(n);let i=.02519603282416938*t;t=i>>>0,i-=t,i*=t,t=i>>>0,i-=t,t+=i*4294967296}return(t>>>0)*23283064365386963e-26}}function Kpe(){const t=()=>{};return{on:t,off:t,destroy:t,emit:t,get(){return{set:t}}}}const MC=typeof window<"u"?window.Hammer||aY:function(){return Kpe()};function Oi(t){var e;this._cleanupQueue=[],this.active=!1,this._dom={container:t,overlay:document.createElement("div")},this._dom.overlay.classList.add("vis-overlay"),this._dom.container.appendChild(this._dom.overlay),this._cleanupQueue.push(()=>{this._dom.overlay.parentNode.removeChild(this._dom.overlay)});const r=MC(this._dom.overlay);r.on("tap",ee(e=this._onTapOverlay).call(e,this)),this._cleanupQueue.push(()=>{r.destroy()});const n=["tap","doubletap","press","pinch","pan","panstart","panmove","panend"];it(n).call(n,i=>{r.on(i,s=>{s.srcEvent.stopPropagation()})}),document&&document.body&&(this._onClick=i=>{Gpe(i.target,t)||this.deactivate()},document.body.addEventListener("click",this._onClick),this._cleanupQueue.push(()=>{document.body.removeEventListener("click",this._onClick)})),this._escListener=i=>{("key"in i?i.key==="Escape":i.keyCode===27)&&this.deactivate()}}vG(Oi.prototype);Oi.current=null;Oi.prototype.destroy=function(){this.deactivate();for(const r of oo(t=Zi(e=this._cleanupQueue).call(e,0)).call(t)){var t,e;r()}};Oi.prototype.activate=function(){Oi.current&&Oi.current.deactivate(),Oi.current=this,this.active=!0,this._dom.overlay.style.display="none",this._dom.container.classList.add("vis-active"),this.emit("change"),this.emit("activate"),document.body.addEventListener("keydown",this._escListener)};Oi.prototype.deactivate=function(){this.active=!1,this._dom.overlay.style.display="block",this._dom.container.classList.remove("vis-active"),document.body.removeEventListener("keydown",this._escListener),this.emit("change"),this.emit("deactivate")};Oi.prototype._onTapOverlay=function(t){this.activate(),t.srcEvent.stopPropagation()};function Gpe(t,e){for(;t;){if(t===e)return!0;t=t.parentNode}return!1}const Ype=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i,Qpe=/^#?([a-f\d])([a-f\d])([a-f\d])$/i,Xpe=/^rgb\( *(1?\d{1,2}|2[0-4]\d|25[0-5]) *, *(1?\d{1,2}|2[0-4]\d|25[0-5]) *, *(1?\d{1,2}|2[0-4]\d|25[0-5]) *\)$/i,Jpe=/^rgba\( *(1?\d{1,2}|2[0-4]\d|25[0-5]) *, *(1?\d{1,2}|2[0-4]\d|25[0-5]) *, *(1?\d{1,2}|2[0-4]\d|25[0-5]) *, *([01]|0?\.\d+) *\)$/i;function Ns(t){if(t)for(;t.hasChildNodes()===!0;){const e=t.firstChild;e&&(Ns(e),t.removeChild(e))}}function Il(t){return t instanceof String||typeof t=="string"}function q6(t){return typeof t=="object"&&t!==null}function To(t,e,r,n){let i=!1;n===!0&&(i=e[r]===null&&t[r]!==void 0),i?delete t[r]:t[r]=e[r]}function oY(t,e){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;for(const n in t)if(e[n]!==void 0)if(e[n]===null||typeof e[n]!="object")To(t,e,n,r);else{const i=t[n],s=e[n];q6(i)&&q6(s)&&oY(i,s,r)}}function Zu(t,e,r){let n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(Rt(r))throw new TypeError("Arrays are not supported by deepExtend");for(let i=0;i<t.length;i++){const s=t[i];if(Object.prototype.hasOwnProperty.call(r,s))if(r[s]&&r[s].constructor===Object)e[s]===void 0&&(e[s]={}),e[s].constructor===Object?lt(e[s],r[s],!1,n):To(e,r,s,n);else{if(Rt(r[s]))throw new TypeError("Arrays are not supported by deepExtend");To(e,r,s,n)}}return e}function mp(t,e,r){let n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(Rt(r))throw new TypeError("Arrays are not supported by deepExtend");for(const i in r)if(Object.prototype.hasOwnProperty.call(r,i)&&!ia(t).call(t,i))if(r[i]&&r[i].constructor===Object)e[i]===void 0&&(e[i]={}),e[i].constructor===Object?lt(e[i],r[i]):To(e,r,i,n);else if(Rt(r[i])){e[i]=[];for(let s=0;s<r[i].length;s++)e[i].push(r[i][s])}else To(e,r,i,n);return e}function lt(t,e){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;for(const s in e)if(Object.prototype.hasOwnProperty.call(e,s)||r===!0)if(typeof e[s]=="object"&&e[s]!==null&&gB(e[s])===Object.prototype)t[s]===void 0?t[s]=lt({},e[s],r):typeof t[s]=="object"&&t[s]!==null&&gB(t[s])===Object.prototype?lt(t[s],e[s],r):To(t,e,s,n);else if(Rt(e[s])){var i;t[s]=_i(i=e[s]).call(i)}else To(t,e,s,n);return t}function vp(t,e){return[...t,e]}function Zpe(t){return _i(t).call(t)}function eme(t){return t.getBoundingClientRect().left}function tme(t){return t.getBoundingClientRect().top}function $e(t,e){if(Rt(t)){const r=t.length;for(let n=0;n<r;n++)e(t[n],n,t)}else for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&e(t[r],r,t)}function AC(t){let e;switch(t.length){case 3:case 4:return e=Qpe.exec(t),e?{r:Zn(e[1]+e[1],16),g:Zn(e[2]+e[2],16),b:Zn(e[3]+e[3],16)}:null;case 6:case 7:return e=Ype.exec(t),e?{r:Zn(e[1],16),g:Zn(e[2],16),b:Zn(e[3],16)}:null;default:return null}}function Rn(t,e){if(ia(t).call(t,"rgba"))return t;if(ia(t).call(t,"rgb")){const r=t.substr(Ye(t).call(t,"(")+1).replace(")","").split(",");return"rgba("+r[0]+","+r[1]+","+r[2]+","+e+")"}else{const r=AC(t);return r==null?t:"rgba("+r.r+","+r.g+","+r.b+","+e+")"}}function lY(t,e,r){var n;return"#"+_i(n=((1<<24)+(t<<16)+(e<<8)+r).toString(16)).call(n,1)}function yN(t,e){if(Il(t)){let n=t;if(cY(n)){var r;const i=fu(r=n.substr(4).substr(0,n.length-5).split(",")).call(r,function(s){return Zn(s)});n=lY(i[0],i[1],i[2])}if(uY(n)===!0){const i=rme(n),s={h:i.h,s:i.s*.8,v:Math.min(1,i.v*1.02)},a={h:i.h,s:Math.min(1,i.s*1.25),v:i.v*.8},o=bN(a.h,a.s,a.v),l=bN(s.h,s.s,s.v);return{background:n,border:o,highlight:{background:l,border:o},hover:{background:l,border:o}}}else return{background:n,border:n,highlight:{background:n,border:n},hover:{background:n,border:n}}}else return{background:t.background||void 0,border:t.border||void 0,highlight:Il(t.highlight)?{border:t.highlight,background:t.highlight}:{background:t.highlight&&t.highlight.background||void 0,border:t.highlight&&t.highlight.border||void 0},hover:Il(t.hover)?{border:t.hover,background:t.hover}:{border:t.hover&&t.hover.border||void 0,background:t.hover&&t.hover.background||void 0}}}function Ec(t,e,r){t=t/255,e=e/255,r=r/255;const n=Math.min(t,Math.min(e,r)),i=Math.max(t,Math.max(e,r));if(n===i)return{h:0,s:0,v:n};const s=t===n?e-r:r===n?t-e:r-t,o=60*((t===n?3:r===n?1:5)-s/(i-n))/360,l=(i-n)/i;return{h:o,s:l,v:i}}function Sf(t,e,r){let n,i,s;const a=Math.floor(t*6),o=t*6-a,l=r*(1-e),c=r*(1-o*e),d=r*(1-(1-o)*e);switch(a%6){case 0:n=r,i=d,s=l;break;case 1:n=c,i=r,s=l;break;case 2:n=l,i=r,s=d;break;case 3:n=l,i=c,s=r;break;case 4:n=d,i=l,s=r;break;case 5:n=r,i=l,s=c;break}return{r:Math.floor(n*255),g:Math.floor(i*255),b:Math.floor(s*255)}}function bN(t,e,r){const n=Sf(t,e,r);return lY(n.r,n.g,n.b)}function rme(t){const e=AC(t);if(!e)throw new TypeError("'".concat(t,"' is not a valid color."));return Ec(e.r,e.g,e.b)}function uY(t){return/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i.test(t)}function cY(t){return Xpe.test(t)}function nme(t){return Jpe.test(t)}function aa(t){if(t===null||typeof t!="object")return null;if(t instanceof Element)return t;const e=lo(t);for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&typeof t[r]=="object"&&(e[r]=aa(t[r]));return e}function Tn(t,e,r){let n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};const i=function(p){return p!=null},s=function(p){return p!==null&&typeof p=="object"},a=function(p){for(const m in p)if(Object.prototype.hasOwnProperty.call(p,m))return!1;return!0};if(!s(t))throw new Error("Parameter mergeTarget must be an object");if(!s(e))throw new Error("Parameter options must be an object");if(!i(r))throw new Error("Parameter option must have a value");if(!s(n))throw new Error("Parameter globalOptions must be an object");const o=function(p,m,y){s(p[y])||(p[y]={});const w=m[y],g=p[y];for(const v in w)Object.prototype.hasOwnProperty.call(w,v)&&(g[v]=w[v])},l=e[r],d=s(n)&&!a(n)?n[r]:void 0,h=d?d.enabled:void 0;if(l===void 0)return;if(typeof l=="boolean"){s(t[r])||(t[r]={}),t[r].enabled=l;return}if(l===null&&!s(t[r]))if(i(d))t[r]=lo(d);else return;if(!s(l))return;let f=!0;l.enabled!==void 0?f=l.enabled:h!==void 0&&(f=d.enabled),o(t,e,r),t[r].enabled=f}const ime={linear(t){return t},easeInQuad(t){return t*t},easeOutQuad(t){return t*(2-t)},easeInOutQuad(t){return t<.5?2*t*t:-1+(4-2*t)*t},easeInCubic(t){return t*t*t},easeOutCubic(t){return--t*t*t+1},easeInOutCubic(t){return t<.5?4*t*t*t:(t-1)*(2*t-2)*(2*t-2)+1},easeInQuart(t){return t*t*t*t},easeOutQuart(t){return 1- --t*t*t*t},easeInOutQuart(t){return t<.5?8*t*t*t*t:1-8*--t*t*t*t},easeInQuint(t){return t*t*t*t*t},easeOutQuint(t){return 1+--t*t*t*t*t},easeInOutQuint(t){return t<.5?16*t*t*t*t*t:1+16*--t*t*t*t*t}};function Ps(t,e){let r;Rt(e)||(e=[e]);for(const n of t)if(n){r=n[e[0]];for(let i=1;i<e.length;i++)r&&(r=r[e[i]]);if(typeof r<"u")break}return r}const sme={black:"#000000",navy:"#000080",darkblue:"#00008B",mediumblue:"#0000CD",blue:"#0000FF",darkgreen:"#006400",green:"#008000",teal:"#008080",darkcyan:"#008B8B",deepskyblue:"#00BFFF",darkturquoise:"#00CED1",mediumspringgreen:"#00FA9A",lime:"#00FF00",springgreen:"#00FF7F",aqua:"#00FFFF",cyan:"#00FFFF",midnightblue:"#191970",dodgerblue:"#1E90FF",lightseagreen:"#20B2AA",forestgreen:"#228B22",seagreen:"#2E8B57",darkslategray:"#2F4F4F",limegreen:"#32CD32",mediumseagreen:"#3CB371",turquoise:"#40E0D0",royalblue:"#4169E1",steelblue:"#4682B4",darkslateblue:"#483D8B",mediumturquoise:"#48D1CC",indigo:"#4B0082",darkolivegreen:"#556B2F",cadetblue:"#5F9EA0",cornflowerblue:"#6495ED",mediumaquamarine:"#66CDAA",dimgray:"#696969",slateblue:"#6A5ACD",olivedrab:"#6B8E23",slategray:"#708090",lightslategray:"#778899",mediumslateblue:"#7B68EE",lawngreen:"#7CFC00",chartreuse:"#7FFF00",aquamarine:"#7FFFD4",maroon:"#800000",purple:"#800080",olive:"#808000",gray:"#808080",skyblue:"#87CEEB",lightskyblue:"#87CEFA",blueviolet:"#8A2BE2",darkred:"#8B0000",darkmagenta:"#8B008B",saddlebrown:"#8B4513",darkseagreen:"#8FBC8F",lightgreen:"#90EE90",mediumpurple:"#9370D8",darkviolet:"#9400D3",palegreen:"#98FB98",darkorchid:"#9932CC",yellowgreen:"#9ACD32",sienna:"#A0522D",brown:"#A52A2A",darkgray:"#A9A9A9",lightblue:"#ADD8E6",greenyellow:"#ADFF2F",paleturquoise:"#AFEEEE",lightsteelblue:"#B0C4DE",powderblue:"#B0E0E6",firebrick:"#B22222",darkgoldenrod:"#B8860B",mediumorchid:"#BA55D3",rosybrown:"#BC8F8F",darkkhaki:"#BDB76B",silver:"#C0C0C0",mediumvioletred:"#C71585",indianred:"#CD5C5C",peru:"#CD853F",chocolate:"#D2691E",tan:"#D2B48C",lightgrey:"#D3D3D3",palevioletred:"#D87093",thistle:"#D8BFD8",orchid:"#DA70D6",goldenrod:"#DAA520",crimson:"#DC143C",gainsboro:"#DCDCDC",plum:"#DDA0DD",burlywood:"#DEB887",lightcyan:"#E0FFFF",lavender:"#E6E6FA",darksalmon:"#E9967A",violet:"#EE82EE",palegoldenrod:"#EEE8AA",lightcoral:"#F08080",khaki:"#F0E68C",aliceblue:"#F0F8FF",honeydew:"#F0FFF0",azure:"#F0FFFF",sandybrown:"#F4A460",wheat:"#F5DEB3",beige:"#F5F5DC",whitesmoke:"#F5F5F5",mintcream:"#F5FFFA",ghostwhite:"#F8F8FF",salmon:"#FA8072",antiquewhite:"#FAEBD7",linen:"#FAF0E6",lightgoldenrodyellow:"#FAFAD2",oldlace:"#FDF5E6",red:"#FF0000",fuchsia:"#FF00FF",magenta:"#FF00FF",deeppink:"#FF1493",orangered:"#FF4500",tomato:"#FF6347",hotpink:"#FF69B4",coral:"#FF7F50",darkorange:"#FF8C00",lightsalmon:"#FFA07A",orange:"#FFA500",lightpink:"#FFB6C1",pink:"#FFC0CB",gold:"#FFD700",peachpuff:"#FFDAB9",navajowhite:"#FFDEAD",moccasin:"#FFE4B5",bisque:"#FFE4C4",mistyrose:"#FFE4E1",blanchedalmond:"#FFEBCD",papayawhip:"#FFEFD5",lavenderblush:"#FFF0F5",seashell:"#FFF5EE",cornsilk:"#FFF8DC",lemonchiffon:"#FFFACD",floralwhite:"#FFFAF0",snow:"#FFFAFA",yellow:"#FFFF00",lightyellow:"#FFFFE0",ivory:"#FFFFF0",white:"#FFFFFF"};let ame=class{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1;this.pixelRatio=e,this.generated=!1,this.centerCoordinates={x:289/2,y:289/2},this.r=289*.49,this.color={r:255,g:255,b:255,a:1},this.hueCircle=void 0,this.initialColor={r:255,g:255,b:255,a:1},this.previousColor=void 0,this.applied=!1,this.updateCallback=()=>{},this.closeCallback=()=>{},this._create()}insertTo(e){this.hammer!==void 0&&(this.hammer.destroy(),this.hammer=void 0),this.container=e,this.container.appendChild(this.frame),this._bindHammer(),this._setSize()}setUpdateCallback(e){if(typeof e=="function")this.updateCallback=e;else throw new Error("Function attempted to set as colorPicker update callback is not a function.")}setCloseCallback(e){if(typeof e=="function")this.closeCallback=e;else throw new Error("Function attempted to set as colorPicker closing callback is not a function.")}_isColorString(e){if(typeof e=="string")return sme[e]}setColor(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(e==="none")return;let n;const i=this._isColorString(e);if(i!==void 0&&(e=i),Il(e)===!0){if(cY(e)===!0){const s=e.substr(4).substr(0,e.length-5).split(",");n={r:s[0],g:s[1],b:s[2],a:1}}else if(nme(e)===!0){const s=e.substr(5).substr(0,e.length-6).split(",");n={r:s[0],g:s[1],b:s[2],a:s[3]}}else if(uY(e)===!0){const s=AC(e);n={r:s.r,g:s.g,b:s.b,a:1}}}else if(e instanceof Object&&e.r!==void 0&&e.g!==void 0&&e.b!==void 0){const s=e.a!==void 0?e.a:"1.0";n={r:e.r,g:e.g,b:e.b,a:s}}if(n===void 0)throw new Error("Unknown color passed to the colorPicker. Supported are strings: rgb, hex, rgba. Object: rgb ({r:r,g:g,b:b,[a:a]}). Supplied: "+mh(e));this._setColor(n,r)}show(){this.closeCallback!==void 0&&(this.closeCallback(),this.closeCallback=void 0),this.applied=!1,this.frame.style.display="block",this._generateHueCircle()}_hide(){(arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0)===!0&&(this.previousColor=Ut({},this.color)),this.applied===!0&&this.updateCallback(this.initialColor),this.frame.style.display="none",es(()=>{this.closeCallback!==void 0&&(this.closeCallback(),this.closeCallback=void 0)},0)}_save(){this.updateCallback(this.color),this.applied=!1,this._hide()}_apply(){this.applied=!0,this.updateCallback(this.color),this._updatePicker(this.color)}_loadLast(){this.previousColor!==void 0?this.setColor(this.previousColor,!1):alert("There is no last color to load...")}_setColor(e){(arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0)===!0&&(this.initialColor=Ut({},e)),this.color=e;const n=Ec(e.r,e.g,e.b),i=2*Math.PI,s=this.r*n.s,a=this.centerCoordinates.x+s*Math.sin(i*n.h),o=this.centerCoordinates.y+s*Math.cos(i*n.h);this.colorPickerSelector.style.left=a-.5*this.colorPickerSelector.clientWidth+"px",this.colorPickerSelector.style.top=o-.5*this.colorPickerSelector.clientHeight+"px",this._updatePicker(e)}_setOpacity(e){this.color.a=e/100,this._updatePicker(this.color)}_setBrightness(e){const r=Ec(this.color.r,this.color.g,this.color.b);r.v=e/100;const n=Sf(r.h,r.s,r.v);n.a=this.color.a,this.color=n,this._updatePicker()}_updatePicker(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.color;const r=Ec(e.r,e.g,e.b),n=this.colorPickerCanvas.getContext("2d");this.pixelRation===void 0&&(this.pixelRatio=(window.devicePixelRatio||1)/(n.webkitBackingStorePixelRatio||n.mozBackingStorePixelRatio||n.msBackingStorePixelRatio||n.oBackingStorePixelRatio||n.backingStorePixelRatio||1)),n.setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0);const i=this.colorPickerCanvas.clientWidth,s=this.colorPickerCanvas.clientHeight;n.clearRect(0,0,i,s),n.putImageData(this.hueCircle,0,0),n.fillStyle="rgba(0,0,0,"+(1-r.v)+")",n.circle(this.centerCoordinates.x,this.centerCoordinates.y,this.r),vh(n).call(n),this.brightnessRange.value=100*r.v,this.opacityRange.value=100*e.a,this.initialColorDiv.style.backgroundColor="rgba("+this.initialColor.r+","+this.initialColor.g+","+this.initialColor.b+","+this.initialColor.a+")",this.newColorDiv.style.backgroundColor="rgba("+this.color.r+","+this.color.g+","+this.color.b+","+this.color.a+")"}_setSize(){this.colorPickerCanvas.style.width="100%",this.colorPickerCanvas.style.height="100%",this.colorPickerCanvas.width=289*this.pixelRatio,this.colorPickerCanvas.height=289*this.pixelRatio}_create(){var e,r,n,i;if(this.frame=document.createElement("div"),this.frame.className="vis-color-picker",this.colorPickerDiv=document.createElement("div"),this.colorPickerSelector=document.createElement("div"),this.colorPickerSelector.className="vis-selector",this.colorPickerDiv.appendChild(this.colorPickerSelector),this.colorPickerCanvas=document.createElement("canvas"),this.colorPickerDiv.appendChild(this.colorPickerCanvas),this.colorPickerCanvas.getContext){const a=this.colorPickerCanvas.getContext("2d");this.pixelRatio=(window.devicePixelRatio||1)/(a.webkitBackingStorePixelRatio||a.mozBackingStorePixelRatio||a.msBackingStorePixelRatio||a.oBackingStorePixelRatio||a.backingStorePixelRatio||1),this.colorPickerCanvas.getContext("2d").setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0)}else{const a=document.createElement("DIV");a.style.color="red",a.style.fontWeight="bold",a.style.padding="10px",a.innerText="Error: your browser does not support HTML canvas",this.colorPickerCanvas.appendChild(a)}this.colorPickerDiv.className="vis-color",this.opacityDiv=document.createElement("div"),this.opacityDiv.className="vis-opacity",this.brightnessDiv=document.createElement("div"),this.brightnessDiv.className="vis-brightness",this.arrowDiv=document.createElement("div"),this.arrowDiv.className="vis-arrow",this.opacityRange=document.createElement("input");try{this.opacityRange.type="range",this.opacityRange.min="0",this.opacityRange.max="100"}catch{}this.opacityRange.value="100",this.opacityRange.className="vis-range",this.brightnessRange=document.createElement("input");try{this.brightnessRange.type="range",this.brightnessRange.min="0",this.brightnessRange.max="100"}catch{}this.brightnessRange.value="100",this.brightnessRange.className="vis-range",this.opacityDiv.appendChild(this.opacityRange),this.brightnessDiv.appendChild(this.brightnessRange);const s=this;this.opacityRange.onchange=function(){s._setOpacity(this.value)},this.opacityRange.oninput=function(){s._setOpacity(this.value)},this.brightnessRange.onchange=function(){s._setBrightness(this.value)},this.brightnessRange.oninput=function(){s._setBrightness(this.value)},this.brightnessLabel=document.createElement("div"),this.brightnessLabel.className="vis-label vis-brightness",this.brightnessLabel.innerText="brightness:",this.opacityLabel=document.createElement("div"),this.opacityLabel.className="vis-label vis-opacity",this.opacityLabel.innerText="opacity:",this.newColorDiv=document.createElement("div"),this.newColorDiv.className="vis-new-color",this.newColorDiv.innerText="new",this.initialColorDiv=document.createElement("div"),this.initialColorDiv.className="vis-initial-color",this.initialColorDiv.innerText="initial",this.cancelButton=document.createElement("div"),this.cancelButton.className="vis-button vis-cancel",this.cancelButton.innerText="cancel",this.cancelButton.onclick=ee(e=this._hide).call(e,this,!1),this.applyButton=document.createElement("div"),this.applyButton.className="vis-button vis-apply",this.applyButton.innerText="apply",this.applyButton.onclick=ee(r=this._apply).call(r,this),this.saveButton=document.createElement("div"),this.saveButton.className="vis-button vis-save",this.saveButton.innerText="save",this.saveButton.onclick=ee(n=this._save).call(n,this),this.loadButton=document.createElement("div"),this.loadButton.className="vis-button vis-load",this.loadButton.innerText="load last",this.loadButton.onclick=ee(i=this._loadLast).call(i,this),this.frame.appendChild(this.colorPickerDiv),this.frame.appendChild(this.arrowDiv),this.frame.appendChild(this.brightnessLabel),this.frame.appendChild(this.brightnessDiv),this.frame.appendChild(this.opacityLabel),this.frame.appendChild(this.opacityDiv),this.frame.appendChild(this.newColorDiv),this.frame.appendChild(this.initialColorDiv),this.frame.appendChild(this.cancelButton),this.frame.appendChild(this.applyButton),this.frame.appendChild(this.saveButton),this.frame.appendChild(this.loadButton)}_bindHammer(){this.drag={},this.pinch={},this.hammer=new MC(this.colorPickerCanvas),this.hammer.get("pinch").set({enable:!0}),this.hammer.on("hammer.input",e=>{e.isFirst&&this._moveSelector(e)}),this.hammer.on("tap",e=>{this._moveSelector(e)}),this.hammer.on("panstart",e=>{this._moveSelector(e)}),this.hammer.on("panmove",e=>{this._moveSelector(e)}),this.hammer.on("panend",e=>{this._moveSelector(e)})}_generateHueCircle(){if(this.generated===!1){const e=this.colorPickerCanvas.getContext("2d");this.pixelRation===void 0&&(this.pixelRatio=(window.devicePixelRatio||1)/(e.webkitBackingStorePixelRatio||e.mozBackingStorePixelRatio||e.msBackingStorePixelRatio||e.oBackingStorePixelRatio||e.backingStorePixelRatio||1)),e.setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0);const r=this.colorPickerCanvas.clientWidth,n=this.colorPickerCanvas.clientHeight;e.clearRect(0,0,r,n);let i,s,a,o;this.centerCoordinates={x:r*.5,y:n*.5},this.r=.49*r;const l=2*Math.PI/360,c=1/360,d=1/this.r;let h;for(a=0;a<360;a++)for(o=0;o<this.r;o++)i=this.centerCoordinates.x+o*Math.sin(l*a),s=this.centerCoordinates.y+o*Math.cos(l*a),h=Sf(a*c,o*d,1),e.fillStyle="rgb("+h.r+","+h.g+","+h.b+")",e.fillRect(i-.5,s-.5,2,2);e.strokeStyle="rgba(0,0,0,1)",e.circle(this.centerCoordinates.x,this.centerCoordinates.y,this.r),e.stroke(),this.hueCircle=e.getImageData(0,0,r,n)}this.generated=!0}_moveSelector(e){const r=this.colorPickerDiv.getBoundingClientRect(),n=e.center.x-r.left,i=e.center.y-r.top,s=.5*this.colorPickerDiv.clientHeight,a=.5*this.colorPickerDiv.clientWidth,o=n-a,l=i-s,c=Math.atan2(o,l),d=.98*Math.min(Math.sqrt(o*o+l*l),a),h=Math.cos(c)*d+s,f=Math.sin(c)*d+a;this.colorPickerSelector.style.top=h-.5*this.colorPickerSelector.clientHeight+"px",this.colorPickerSelector.style.left=f-.5*this.colorPickerSelector.clientWidth+"px";let p=c/(2*Math.PI);p=p<0?p+1:p;const m=d/this.r,y=Ec(this.color.r,this.color.g,this.color.b);y.h=p,y.s=m;const w=Sf(y.h,y.s,y.v);w.a=this.color.a,this.color=w,this.initialColorDiv.style.backgroundColor="rgba("+this.initialColor.r+","+this.initialColor.g+","+this.initialColor.b+","+this.initialColor.a+")",this.newColorDiv.style.backgroundColor="rgba("+this.color.r+","+this.color.g+","+this.color.b+","+this.color.a+")"}};function wN(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];if(e.length<1)throw new TypeError("Invalid arguments.");if(e.length===1)return document.createTextNode(e[0]);{const n=document.createElement(e[0]);return n.appendChild(wN(..._i(e).call(e,1))),n}}let ome=class{constructor(e,r,n){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:1,s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:()=>!1;this.parent=e,this.changedOptions=[],this.container=r,this.allowCreation=!1,this.hideOption=s,this.options={},this.initialized=!1,this.popupCounter=0,this.defaultOptions={enabled:!1,filter:!0,container:void 0,showButton:!0},Ut(this.options,this.defaultOptions),this.configureOptions=n,this.moduleOptions={},this.domElements=[],this.popupDiv={},this.popupLimit=5,this.popupHistory={},this.colorPicker=new ame(i),this.wrapper=void 0}setOptions(e){if(e!==void 0){this.popupHistory={},this._removePopup();let r=!0;if(typeof e=="string")this.options.filter=e;else if(Rt(e))this.options.filter=e.join();else if(typeof e=="object"){if(e==null)throw new TypeError("options cannot be null");e.container!==void 0&&(this.options.container=e.container),Xr(e)!==void 0&&(this.options.filter=Xr(e)),e.showButton!==void 0&&(this.options.showButton=e.showButton),e.enabled!==void 0&&(r=e.enabled)}else typeof e=="boolean"?(this.options.filter=!0,r=e):typeof e=="function"&&(this.options.filter=e,r=!0);Xr(this.options)===!1&&(r=!1),this.options.enabled=r}this._clean()}setModuleOptions(e){this.moduleOptions=e,this.options.enabled===!0&&(this._clean(),this.options.container!==void 0&&(this.container=this.options.container),this._create())}_create(){this._clean(),this.changedOptions=[];const e=Xr(this.options);let r=0,n=!1;for(const i in this.configureOptions)Object.prototype.hasOwnProperty.call(this.configureOptions,i)&&(this.allowCreation=!1,n=!1,typeof e=="function"?(n=e(i,[]),n=n||this._handleObject(this.configureOptions[i],[i],!0)):(e===!0||Ye(e).call(e,i)!==-1)&&(n=!0),n!==!1&&(this.allowCreation=!0,r>0&&this._makeItem([]),this._makeHeader(i),this._handleObject(this.configureOptions[i],[i])),r++);this._makeButton(),this._push()}_push(){this.wrapper=document.createElement("div"),this.wrapper.className="vis-configuration-wrapper",this.container.appendChild(this.wrapper);for(let e=0;e<this.domElements.length;e++)this.wrapper.appendChild(this.domElements[e]);this._showPopupIfNeeded()}_clean(){for(let e=0;e<this.domElements.length;e++)this.wrapper.removeChild(this.domElements[e]);this.wrapper!==void 0&&(this.container.removeChild(this.wrapper),this.wrapper=void 0),this.domElements=[],this._removePopup()}_getValue(e){let r=this.moduleOptions;for(let n=0;n<e.length;n++)if(r[e[n]]!==void 0)r=r[e[n]];else{r=void 0;break}return r}_makeItem(e){if(this.allowCreation===!0){const s=document.createElement("div");s.className="vis-configuration vis-config-item vis-config-s"+e.length;for(var r=arguments.length,n=new Array(r>1?r-1:0),i=1;i<r;i++)n[i-1]=arguments[i];return it(n).call(n,a=>{s.appendChild(a)}),this.domElements.push(s),this.domElements.length}return 0}_makeHeader(e){const r=document.createElement("div");r.className="vis-configuration vis-config-header",r.innerText=e,this._makeItem([],r)}_makeLabel(e,r){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;const i=document.createElement("div");if(i.className="vis-configuration vis-config-label vis-config-s"+r.length,n===!0){for(;i.firstChild;)i.removeChild(i.firstChild);i.appendChild(wN("i","b",e))}else i.innerText=e+":";return i}_makeDropdown(e,r,n){const i=document.createElement("select");i.className="vis-configuration vis-config-select";let s=0;r!==void 0&&Ye(e).call(e,r)!==-1&&(s=Ye(e).call(e,r));for(let l=0;l<e.length;l++){const c=document.createElement("option");c.value=e[l],l===s&&(c.selected="selected"),c.innerText=e[l],i.appendChild(c)}const a=this;i.onchange=function(){a._update(this.value,n)};const o=this._makeLabel(n[n.length-1],n);this._makeItem(n,o,i)}_makeRange(e,r,n){const i=e[0],s=e[1],a=e[2],o=e[3],l=document.createElement("input");l.className="vis-configuration vis-config-range";try{l.type="range",l.min=s,l.max=a}catch{}l.step=o;let c="",d=0;r!==void 0?(r<0&&r*1.2<s?(l.min=Math.ceil(r*1.2),d=l.min,c="range increased"):r/1.2<s&&(l.min=Math.ceil(r/1.2),d=l.min,c="range increased"),r*1.2>a&&a!==1&&(l.max=Math.ceil(r*1.2),d=l.max,c="range increased"),l.value=r):l.value=i;const h=document.createElement("input");h.className="vis-configuration vis-config-rangeinput",h.value=l.value;const f=this;l.onchange=function(){h.value=this.value,f._update(Number(this.value),n)},l.oninput=function(){h.value=this.value};const p=this._makeLabel(n[n.length-1],n),m=this._makeItem(n,p,l,h);c!==""&&this.popupHistory[m]!==d&&(this.popupHistory[m]=d,this._setupPopup(c,m))}_makeButton(){if(this.options.showButton===!0){const e=document.createElement("div");e.className="vis-configuration vis-config-button",e.innerText="generate options",e.onclick=()=>{this._printOptions()},e.onmouseover=()=>{e.className="vis-configuration vis-config-button hover"},e.onmouseout=()=>{e.className="vis-configuration vis-config-button"},this.optionsContainer=document.createElement("div"),this.optionsContainer.className="vis-configuration vis-config-option-container",this.domElements.push(this.optionsContainer),this.domElements.push(e)}}_setupPopup(e,r){if(this.initialized===!0&&this.allowCreation===!0&&this.popupCounter<this.popupLimit){const n=document.createElement("div");n.id="vis-configuration-popup",n.className="vis-configuration-popup",n.innerText=e,n.onclick=()=>{this._removePopup()},this.popupCounter+=1,this.popupDiv={html:n,index:r}}}_removePopup(){this.popupDiv.html!==void 0&&(this.popupDiv.html.parentNode.removeChild(this.popupDiv.html),clearTimeout(this.popupDiv.hideTimeout),clearTimeout(this.popupDiv.deleteTimeout),this.popupDiv={})}_showPopupIfNeeded(){if(this.popupDiv.html!==void 0){const r=this.domElements[this.popupDiv.index].getBoundingClientRect();this.popupDiv.html.style.left=r.left+"px",this.popupDiv.html.style.top=r.top-30+"px",document.body.appendChild(this.popupDiv.html),this.popupDiv.hideTimeout=es(()=>{this.popupDiv.html.style.opacity=0},1500),this.popupDiv.deleteTimeout=es(()=>{this._removePopup()},1800)}}_makeCheckbox(e,r,n){const i=document.createElement("input");i.type="checkbox",i.className="vis-configuration vis-config-checkbox",i.checked=e,r!==void 0&&(i.checked=r,r!==e&&(typeof e=="object"?r!==e.enabled&&this.changedOptions.push({path:n,value:r}):this.changedOptions.push({path:n,value:r})));const s=this;i.onchange=function(){s._update(this.checked,n)};const a=this._makeLabel(n[n.length-1],n);this._makeItem(n,a,i)}_makeTextInput(e,r,n){const i=document.createElement("input");i.type="text",i.className="vis-configuration vis-config-text",i.value=r,r!==e&&this.changedOptions.push({path:n,value:r});const s=this;i.onchange=function(){s._update(this.value,n)};const a=this._makeLabel(n[n.length-1],n);this._makeItem(n,a,i)}_makeColorField(e,r,n){const i=e[1],s=document.createElement("div");r=r===void 0?i:r,r!=="none"?(s.className="vis-configuration vis-config-colorBlock",s.style.backgroundColor=r):s.className="vis-configuration vis-config-colorBlock none",r=r===void 0?i:r,s.onclick=()=>{this._showColorPicker(r,s,n)};const a=this._makeLabel(n[n.length-1],n);this._makeItem(n,a,s)}_showColorPicker(e,r,n){r.onclick=function(){},this.colorPicker.insertTo(r),this.colorPicker.show(),this.colorPicker.setColor(e),this.colorPicker.setUpdateCallback(i=>{const s="rgba("+i.r+","+i.g+","+i.b+","+i.a+")";r.style.backgroundColor=s,this._update(s,n)}),this.colorPicker.setCloseCallback(()=>{r.onclick=()=>{this._showColorPicker(e,r,n)}})}_handleObject(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,i=!1;const s=Xr(this.options);let a=!1;for(const o in e)if(Object.prototype.hasOwnProperty.call(e,o)){i=!0;const l=e[o],c=vp(r,o);if(typeof s=="function"&&(i=s(o,r),i===!1&&!Rt(l)&&typeof l!="string"&&typeof l!="boolean"&&l instanceof Object&&(this.allowCreation=!1,i=this._handleObject(l,c,!0),this.allowCreation=n===!1)),i!==!1){a=!0;const d=this._getValue(c);if(Rt(l))this._handleArray(l,d,c);else if(typeof l=="string")this._makeTextInput(l,d,c);else if(typeof l=="boolean")this._makeCheckbox(l,d,c);else if(l instanceof Object){if(!this.hideOption(r,o,this.moduleOptions))if(l.enabled!==void 0){const h=vp(c,"enabled"),f=this._getValue(h);if(f===!0){const p=this._makeLabel(o,c,!0);this._makeItem(c,p),a=this._handleObject(l,c)||a}else this._makeCheckbox(l,f,c)}else{const h=this._makeLabel(o,c,!0);this._makeItem(c,h),a=this._handleObject(l,c)||a}}else console.error("dont know how to handle",l,o,c)}}return a}_handleArray(e,r,n){typeof e[0]=="string"&&e[0]==="color"?(this._makeColorField(e,r,n),e[1]!==r&&this.changedOptions.push({path:n,value:r})):typeof e[0]=="string"?(this._makeDropdown(e,r,n),e[0]!==r&&this.changedOptions.push({path:n,value:r})):typeof e[0]=="number"&&(this._makeRange(e,r,n),e[0]!==r&&this.changedOptions.push({path:n,value:Number(r)}))}_update(e,r){const n=this._constructOptions(e,r);this.parent.body&&this.parent.body.emitter&&this.parent.body.emitter.emit&&this.parent.body.emitter.emit("configChange",n),this.initialized=!0,this.parent.setOptions(n)}_constructOptions(e,r){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},i=n;e=e==="true"?!0:e,e=e==="false"?!1:e;for(let s=0;s<r.length;s++)r[s]!=="global"&&(i[r[s]]===void 0&&(i[r[s]]={}),s!==r.length-1?i=i[r[s]]:i[r[s]]=e);return n}_printOptions(){const e=this.getOptions();for(;this.optionsContainer.firstChild;)this.optionsContainer.removeChild(this.optionsContainer.firstChild);this.optionsContainer.appendChild(wN("pre","const options = "+mh(e,null,2)))}getOptions(){const e={};for(let r=0;r<this.changedOptions.length;r++)this._constructOptions(this.changedOptions[r].value,this.changedOptions[r].path,e);return e}},lme=class{constructor(e,r){this.container=e,this.overflowMethod=r||"cap",this.x=0,this.y=0,this.padding=5,this.hidden=!1,this.frame=document.createElement("div"),this.frame.className="vis-tooltip",this.container.appendChild(this.frame)}setPosition(e,r){this.x=Zn(e),this.y=Zn(r)}setText(e){if(e instanceof Element){for(;this.frame.firstChild;)this.frame.removeChild(this.frame.firstChild);this.frame.appendChild(e)}else this.frame.innerText=e}show(e){if(e===void 0&&(e=!0),e===!0){const r=this.frame.clientHeight,n=this.frame.clientWidth,i=this.frame.parentNode.clientHeight,s=this.frame.parentNode.clientWidth;let a=0,o=0;if(this.overflowMethod=="flip"){let l=!1,c=!0;this.y-r<this.padding&&(c=!1),this.x+n>s-this.padding&&(l=!0),l?a=this.x-n:a=this.x,c?o=this.y-r:o=this.y}else o=this.y-r,o+r+this.padding>i&&(o=i-r-this.padding),o<this.padding&&(o=this.padding),a=this.x,a+n+this.padding>s&&(a=s-n-this.padding),a<this.padding&&(a=this.padding);this.frame.style.left=a+"px",this.frame.style.top=o+"px",this.frame.style.visibility="visible",this.hidden=!1}else this.hide()}hide(){this.hidden=!0,this.frame.style.left="0",this.frame.style.top="0",this.frame.style.visibility="hidden"}destroy(){this.frame.parentNode.removeChild(this.frame)}},gc=!1,M6;const xN="background: #FFeeee; color: #dd0000";let ume=class Nt{static validate(e,r,n){gc=!1,M6=r;let i=r;return n!==void 0&&(i=r[n]),Nt.parse(e,i,[]),gc}static parse(e,r,n){for(const i in e)Object.prototype.hasOwnProperty.call(e,i)&&Nt.check(i,e,r,n)}static check(e,r,n,i){if(n[e]===void 0&&n.__any__===void 0){Nt.getSuggestion(e,n,i);return}let s=e,a=!0;n[e]===void 0&&n.__any__!==void 0&&(s="__any__",a=Nt.getType(r[e])==="object");let o=n[s];a&&o.__type__!==void 0&&(o=o.__type__),Nt.checkFields(e,r,n,s,o,i)}static checkFields(e,r,n,i,s,a){const o=function(d){console.error("%c"+d+Nt.printLocation(a,e),xN)},l=Nt.getType(r[e]),c=s[l];c!==void 0?Nt.getType(c)==="array"&&Ye(c).call(c,r[e])===-1?(o('Invalid option detected in "'+e+'". Allowed values are:'+Nt.print(c)+' not "'+r[e]+'". '),gc=!0):l==="object"&&i!=="__any__"&&(a=vp(a,e),Nt.parse(r[e],n[i],a)):s.any===void 0&&(o('Invalid type received for "'+e+'". Expected: '+Nt.print(Tt(s))+". Received ["+l+'] "'+r[e]+'"'),gc=!0)}static getType(e){const r=typeof e;return r==="object"?e===null?"null":e instanceof Boolean?"boolean":e instanceof Number?"number":e instanceof String?"string":Rt(e)?"array":e instanceof Date?"date":e.nodeType!==void 0?"dom":e._isAMomentObject===!0?"moment":"object":r==="number"?"number":r==="boolean"?"boolean":r==="string"?"string":r===void 0?"undefined":r}static getSuggestion(e,r,n){const i=Nt.findInOptions(e,r,n,!1),s=Nt.findInOptions(e,M6,[],!0),a=8,o=4;let l;i.indexMatch!==void 0?l=" in "+Nt.printLocation(i.path,e,"")+'Perhaps it was incomplete? Did you mean: "'+i.indexMatch+`"?

`:s.distance<=o&&i.distance>s.distance?l=" in "+Nt.printLocation(i.path,e,"")+"Perhaps it was misplaced? Matching option found at: "+Nt.printLocation(s.path,s.closestMatch,""):i.distance<=a?l='. Did you mean "'+i.closestMatch+'"?'+Nt.printLocation(i.path,e):l=". Did you mean one of these: "+Nt.print(Tt(r))+Nt.printLocation(n,e),console.error('%cUnknown option detected: "'+e+'"'+l,xN),gc=!0}static findInOptions(e,r,n){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1,s=1e9,a="",o=[];const l=e.toLowerCase();let c;for(const h in r){let f;if(r[h].__type__!==void 0&&i===!0){const p=Nt.findInOptions(e,r[h],vp(n,h));s>p.distance&&(a=p.closestMatch,o=p.path,s=p.distance,c=p.indexMatch)}else{var d;Ye(d=h.toLowerCase()).call(d,l)!==-1&&(c=h),f=Nt.levenshteinDistance(e,h),s>f&&(a=h,o=Zpe(n),s=f)}}return{closestMatch:a,path:o,distance:s,indexMatch:c}}static printLocation(e,r){let i=`

`+(arguments.length>2&&arguments[2]!==void 0?arguments[2]:`Problem value found at: 
`)+`options = {
`;for(let s=0;s<e.length;s++){for(let a=0;a<s+1;a++)i+="  ";i+=e[s]+`: {
`}for(let s=0;s<e.length+1;s++)i+="  ";i+=r+`
`;for(let s=0;s<e.length+1;s++){for(let a=0;a<e.length-s;a++)i+="  ";i+=`}
`}return i+`

`}static print(e){return mh(e).replace(/(")|(\[)|(\])|(,"__type__")/g,"").replace(/(,)/g,", ")}static levenshteinDistance(e,r){if(e.length===0)return r.length;if(r.length===0)return e.length;const n=[];let i;for(i=0;i<=r.length;i++)n[i]=[i];let s;for(s=0;s<=e.length;s++)n[0][s]=s;for(i=1;i<=r.length;i++)for(s=1;s<=e.length;s++)r.charAt(i-1)==e.charAt(s-1)?n[i][s]=n[i-1][s-1]:n[i][s]=Math.min(n[i-1][s-1]+1,Math.min(n[i][s-1]+1,n[i-1][s]+1));return n[r.length][e.length]}};const cme=Oi,dme=ome,Rl=MC,hme=lme,dY=xN,fme=ume;function pme(t){return Ws=t,yme()}var hY={fontsize:"font.size",fontcolor:"font.color",labelfontcolor:"font.color",fontname:"font.face",color:["color.border","color.background"],fillcolor:"color.background",tooltip:"title",labeltooltip:"title"},FC=lo(hY);FC.color="color.color";FC.style="dashes";var Dr={NULL:0,DELIMITER:1,IDENTIFIER:2,UNKNOWN:3},A6={"{":!0,"}":!0,"[":!0,"]":!0,";":!0,"=":!0,",":!0,"->":!0,"--":!0},Ws="",gu=0,Ie="",Se="",Yr=Dr.NULL;function mme(){gu=0,Ie=Ws.charAt(0)}function nr(){gu++,Ie=Ws.charAt(gu)}function il(){return Ws.charAt(gu+1)}function F6(t){var e=t.charCodeAt(0);return e<47?e===35||e===46:e<59?e>47:e<91?e>64:e<96?e===95:e<123?e>96:!1}function fa(t,e){if(t||(t={}),e)for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);return t}function vme(t,e,r){for(var n=e.split("."),i=t;n.length;){var s=n.shift();n.length?(i[s]||(i[s]={}),i=i[s]):i[s]=r}}function fY(t,e){for(var r,n,i=null,s=[t],a=t;a.parent;)s.push(a.parent),a=a.parent;if(a.nodes){for(r=0,n=a.nodes.length;r<n;r++)if(e.id===a.nodes[r].id){i=a.nodes[r];break}}for(i||(i={id:e.id},t.node&&(i.attr=fa(i.attr,t.node))),r=s.length-1;r>=0;r--){var o,l=s[r];l.nodes||(l.nodes=[]),Ye(o=l.nodes).call(o,i)===-1&&l.nodes.push(i)}e.attr&&(i.attr=fa(i.attr,e.attr))}function gme(t,e){if(t.edges||(t.edges=[]),t.edges.push(e),t.edge){var r=fa({},t.edge);e.attr=fa(r,e.attr)}}function pY(t,e,r,n,i){var s={from:e,to:r,type:n};return t.edge&&(s.attr=fa({},t.edge)),s.attr=fa(s.attr||{},i),i!=null&&i.hasOwnProperty("arrows")&&i.arrows!=null&&(s.arrows={to:{enabled:!0,type:i.arrows.type}},i.arrows=null),s}function ut(){for(Yr=Dr.NULL,Se="";Ie===" "||Ie==="	"||Ie===`
`||Ie==="\r";)nr();do{var t=!1;if(Ie==="#"){for(var e=gu-1;Ws.charAt(e)===" "||Ws.charAt(e)==="	";)e--;if(Ws.charAt(e)===`
`||Ws.charAt(e)===""){for(;Ie!=""&&Ie!=`
`;)nr();t=!0}}if(Ie==="/"&&il()==="/"){for(;Ie!=""&&Ie!=`
`;)nr();t=!0}if(Ie==="/"&&il()==="*"){for(;Ie!="";)if(Ie==="*"&&il()==="/"){nr(),nr();break}else nr();t=!0}for(;Ie===" "||Ie==="	"||Ie===`
`||Ie==="\r";)nr()}while(t);if(Ie===""){Yr=Dr.DELIMITER;return}var r=Ie+il();if(A6[r]){Yr=Dr.DELIMITER,Se=r,nr(),nr();return}if(A6[Ie]){Yr=Dr.DELIMITER,Se=Ie,nr();return}if(F6(Ie)||Ie==="-"){for(Se+=Ie,nr();F6(Ie);)Se+=Ie,nr();Se==="false"?Se=!1:Se==="true"?Se=!0:isNaN(Number(Se))||(Se=Number(Se)),Yr=Dr.IDENTIFIER;return}if(Ie==='"'){for(nr();Ie!=""&&(Ie!='"'||Ie==='"'&&il()==='"');)Ie==='"'?(Se+=Ie,nr()):Ie==="\\"&&il()==="n"?(Se+=`
`,nr()):Se+=Ie,nr();if(Ie!='"')throw qr('End of string " expected');nr(),Yr=Dr.IDENTIFIER;return}for(Yr=Dr.UNKNOWN;Ie!="";)Se+=Ie,nr();throw new SyntaxError('Syntax error in part "'+yY(Se,30)+'"')}function yme(){var t={};if(mme(),ut(),Se==="strict"&&(t.strict=!0,ut()),(Se==="graph"||Se==="digraph")&&(t.type=Se,ut()),Yr===Dr.IDENTIFIER&&(t.id=Se,ut()),Se!="{")throw qr("Angle bracket { expected");if(ut(),mY(t),Se!="}")throw qr("Angle bracket } expected");if(ut(),Se!=="")throw qr("End of file expected");return ut(),delete t.node,delete t.edge,delete t.graph,t}function mY(t){for(;Se!==""&&Se!="}";)bme(t),Se===";"&&ut()}function bme(t){var e=vY(t);if(e){gY(t,e);return}var r=wme(t);if(!r){if(Yr!=Dr.IDENTIFIER)throw qr("Identifier expected");var n=Se;if(ut(),Se==="="){if(ut(),Yr!=Dr.IDENTIFIER)throw qr("Identifier expected");t[n]=Se,ut()}else xme(t,n)}}function vY(t){var e=null;if(Se==="subgraph"&&(e={},e.type="subgraph",ut(),Yr===Dr.IDENTIFIER&&(e.id=Se,ut())),Se==="{"){if(ut(),e||(e={}),e.parent=t,e.node=t.node,e.edge=t.edge,e.graph=t.graph,mY(e),Se!="}")throw qr("Angle bracket } expected");ut(),delete e.node,delete e.edge,delete e.graph,delete e.parent,t.subgraphs||(t.subgraphs=[]),t.subgraphs.push(e)}return e}function wme(t){return Se==="node"?(ut(),t.node=Bc(),"node"):Se==="edge"?(ut(),t.edge=Bc(),"edge"):Se==="graph"?(ut(),t.graph=Bc(),"graph"):null}function xme(t,e){var r={id:e},n=Bc();n&&(r.attr=n),fY(t,r),gY(t,e)}function gY(t,e){for(;Se==="->"||Se==="--";){var r,n=Se;ut();var i=vY(t);if(i)r=i;else{if(Yr!=Dr.IDENTIFIER)throw qr("Identifier or subgraph expected");r=Se,fY(t,{id:r}),ut()}var s=Bc(),a=pY(t,e,r,n,s);gme(t,a),e=r}}function Bc(){for(var t,e=null,r={dashed:!0,solid:!1,dotted:[1,5]},n={dot:"circle",box:"box",crow:"crow",curve:"curve",icurve:"inv_curve",normal:"triangle",inv:"inv_triangle",diamond:"diamond",tee:"bar",vee:"vee"},i=new Array,s=new Array;Se==="[";){for(ut(),e={};Se!==""&&Se!="]";){if(Yr!=Dr.IDENTIFIER)throw qr("Attribute name expected");var a=Se;if(ut(),Se!="=")throw qr("Equal sign = expected");if(ut(),Yr!=Dr.IDENTIFIER)throw qr("Attribute value expected");var o=Se;a==="style"&&(o=r[o]);var l;a==="arrowhead"&&(l=n[o],a="arrows",o={to:{enabled:!0,type:l}}),a==="arrowtail"&&(l=n[o],a="arrows",o={from:{enabled:!0,type:l}}),i.push({attr:e,name:a,value:o}),s.push(a),ut(),Se==","&&ut()}if(Se!="]")throw qr("Bracket ] expected");ut()}if(ia(s).call(s,"dir")){var c={};for(c.arrows={},t=0;t<i.length;t++)if(i[t].name==="arrows")if(i[t].value.to!=null)c.arrows.to=t;else if(i[t].value.from!=null)c.arrows.from=t;else throw qr("Invalid value of arrows");else i[t].name==="dir"&&(c.dir=t);var d=i[c.dir].value;if(!ia(s).call(s,"arrows"))if(d==="both")i.push({attr:i[c.dir].attr,name:"arrows",value:{to:{enabled:!0}}}),c.arrows.to=i.length-1,i.push({attr:i[c.dir].attr,name:"arrows",value:{from:{enabled:!0}}}),c.arrows.from=i.length-1;else if(d==="forward")i.push({attr:i[c.dir].attr,name:"arrows",value:{to:{enabled:!0}}}),c.arrows.to=i.length-1;else if(d==="back")i.push({attr:i[c.dir].attr,name:"arrows",value:{from:{enabled:!0}}}),c.arrows.from=i.length-1;else if(d==="none")i.push({attr:i[c.dir].attr,name:"arrows",value:""}),c.arrows.to=i.length-1;else throw qr('Invalid dir type "'+d+'"');var h,f;if(d==="both")c.arrows.to&&c.arrows.from?(f=i[c.arrows.to].value.to.type,h=i[c.arrows.from].value.from.type,i[c.arrows.to]={attr:i[c.arrows.to].attr,name:i[c.arrows.to].name,value:{to:{enabled:!0,type:f},from:{enabled:!0,type:h}}},Zi(i).call(i,c.arrows.from,1)):c.arrows.to?(f=i[c.arrows.to].value.to.type,h="arrow",i[c.arrows.to]={attr:i[c.arrows.to].attr,name:i[c.arrows.to].name,value:{to:{enabled:!0,type:f},from:{enabled:!0,type:h}}}):c.arrows.from&&(f="arrow",h=i[c.arrows.from].value.from.type,i[c.arrows.from]={attr:i[c.arrows.from].attr,name:i[c.arrows.from].name,value:{to:{enabled:!0,type:f},from:{enabled:!0,type:h}}});else if(d==="back")c.arrows.to&&c.arrows.from?(f="",h=i[c.arrows.from].value.from.type,i[c.arrows.from]={attr:i[c.arrows.from].attr,name:i[c.arrows.from].name,value:{to:{enabled:!0,type:f},from:{enabled:!0,type:h}}}):c.arrows.to?(f="",h="arrow",c.arrows.from=c.arrows.to,i[c.arrows.from]={attr:i[c.arrows.from].attr,name:i[c.arrows.from].name,value:{to:{enabled:!0,type:f},from:{enabled:!0,type:h}}}):c.arrows.from&&(f="",h=i[c.arrows.from].value.from.type,i[c.arrows.to]={attr:i[c.arrows.from].attr,name:i[c.arrows.from].name,value:{to:{enabled:!0,type:f},from:{enabled:!0,type:h}}}),i[c.arrows.from]={attr:i[c.arrows.from].attr,name:i[c.arrows.from].name,value:{from:{enabled:!0,type:i[c.arrows.from].value.from.type}}};else if(d==="none"){var p;c.arrows.to?p=c.arrows.to:p=c.arrows.from,i[p]={attr:i[p].attr,name:i[p].name,value:""}}else if(d==="forward")c.arrows.to&&c.arrows.from?(f=i[c.arrows.to].value.to.type,h="",i[c.arrows.to]={attr:i[c.arrows.to].attr,name:i[c.arrows.to].name,value:{to:{enabled:!0,type:f},from:{enabled:!0,type:h}}}):c.arrows.to?(f=i[c.arrows.to].value.to.type,h="",i[c.arrows.to]={attr:i[c.arrows.to].attr,name:i[c.arrows.to].name,value:{to:{enabled:!0,type:f},from:{enabled:!0,type:h}}}):c.arrows.from&&(f="arrow",h="",c.arrows.to=c.arrows.from,i[c.arrows.to]={attr:i[c.arrows.to].attr,name:i[c.arrows.to].name,value:{to:{enabled:!0,type:f},from:{enabled:!0,type:h}}}),i[c.arrows.to]={attr:i[c.arrows.to].attr,name:i[c.arrows.to].name,value:{to:{enabled:!0,type:i[c.arrows.to].value.to.type}}};else throw qr('Invalid dir type "'+d+'"');Zi(i).call(i,c.dir,1)}var m;if(ia(s).call(s,"penwidth")){var y=[];for(m=i.length,t=0;t<m;t++)i[t].name!=="width"&&(i[t].name==="penwidth"&&(i[t].name="width"),y.push(i[t]));i=y}for(m=i.length,t=0;t<m;t++)vme(i[t].attr,i[t].name,i[t].value);return e}function qr(t){return new SyntaxError(t+', got "'+yY(Se,30)+'" (char '+gu+")")}function yY(t,e){return t.length<=e?t:t.substr(0,27)+"..."}function _me(t,e,r){Rt(t)?it(t).call(t,function(n){Rt(e)?it(e).call(e,function(i){r(n,i)}):r(n,e)}):Rt(e)?it(e).call(e,function(n){r(t,n)}):r(t,e)}function pS(t,e,r){for(var n=e.split("."),i=n.pop(),s=t,a=0;a<n.length;a++){var o=n[a];o in s||(s[o]={}),s=s[o]}return s[i]=r,t}function L6(t,e){var r={};for(var n in t)if(t.hasOwnProperty(n)){var i=e[n];Rt(i)?it(i).call(i,function(s){pS(r,s,t[n])}):typeof i=="string"?pS(r,i,t[n]):pS(r,n,t[n])}return r}function Sme(t){var e=pme(t),r={nodes:[],edges:[],options:{}};if(e.nodes){var n;it(n=e.nodes).call(n,function(a){var o={id:a.id,label:String(a.label||a.id)};fa(o,L6(a.attr,hY)),o.image&&(o.shape="image"),r.nodes.push(o)})}if(e.edges){var i,s=function(a){var o={from:a.from,to:a.to};return fa(o,L6(a.attr,FC)),o.arrows==null&&a.type==="->"&&(o.arrows="to"),o};it(i=e.edges).call(i,function(a){var o,l;if(a.from instanceof Object?o=a.from.nodes:o={id:a.from},a.to instanceof Object?l=a.to.nodes:l={id:a.to},a.from instanceof Object&&a.from.edges){var c;it(c=a.from.edges).call(c,function(h){var f=s(h);r.edges.push(f)})}if(_me(o,l,function(h,f){var p=pY(r,h.id,f.id,a.type,a.attr),m=s(p);r.edges.push(m)}),a.to instanceof Object&&a.to.edges){var d;it(d=a.to.edges).call(d,function(h){var f=s(h);r.edges.push(f)})}})}return e.attr&&(r.options=e.attr),r}function Eme(t,e){var r;const n={edges:{inheritColor:!1},nodes:{fixed:!1,parseColor:!1}};e!=null&&(e.fixed!=null&&(n.nodes.fixed=e.fixed),e.parseColor!=null&&(n.nodes.parseColor=e.parseColor),e.inheritColor!=null&&(n.edges.inheritColor=e.inheritColor));const i=t.edges,s=fu(i).call(i,o=>{const l={from:o.source,id:o.id,to:o.target};return o.attributes!=null&&(l.attributes=o.attributes),o.label!=null&&(l.label=o.label),o.attributes!=null&&o.attributes.title!=null&&(l.title=o.attributes.title),o.type==="Directed"&&(l.arrows="to"),o.color&&n.edges.inheritColor===!1&&(l.color=o.color),l});return{nodes:fu(r=t.nodes).call(r,o=>{const l={id:o.id,fixed:n.nodes.fixed&&o.x!=null&&o.y!=null};return o.attributes!=null&&(l.attributes=o.attributes),o.label!=null&&(l.label=o.label),o.size!=null&&(l.size=o.size),o.attributes!=null&&o.attributes.title!=null&&(l.title=o.attributes.title),o.title!=null&&(l.title=o.title),o.x!=null&&(l.x=o.x),o.y!=null&&(l.y=o.y),o.color!=null&&(n.nodes.parseColor===!0?l.color=o.color:l.color={background:o.color,border:o.color,highlight:{background:o.color,border:o.color},hover:{background:o.color,border:o.color}}),l}),edges:s}}const Ome={addDescription:"Click in an empty space to place a new node.",addEdge:"Add Edge",addNode:"Add Node",back:"Back",close:"Close",createEdgeError:"Cannot link edges to a cluster.",del:"Delete selected",deleteClusterError:"Clusters cannot be deleted.",edgeDescription:"Click on a node and drag the edge to another node to connect them.",edit:"Edit",editClusterError:"Clusters cannot be edited.",editEdge:"Edit Edge",editEdgeDescription:"Click on the control points and drag them to a node to connect to it.",editNode:"Edit Node"},Nme={addDescription:"Klicke auf eine freie Stelle, um einen neuen Knoten zu plazieren.",addEdge:"Kante hinzufgen",addNode:"Knoten hinzufgen",back:"Zurck",close:"Schlieen",createEdgeError:"Es ist nicht mglich, Kanten mit Clustern zu verbinden.",del:"Lsche Auswahl",deleteClusterError:"Cluster knnen nicht gelscht werden.",edgeDescription:"Klicke auf einen Knoten und ziehe die Kante zu einem anderen Knoten, um diese zu verbinden.",edit:"Editieren",editClusterError:"Cluster knnen nicht editiert werden.",editEdge:"Kante editieren",editEdgeDescription:"Klicke auf die Verbindungspunkte und ziehe diese auf einen Knoten, um sie zu verbinden.",editNode:"Knoten editieren"},Pme={addDescription:"Haga clic en un lugar vaco para colocar un nuevo nodo.",addEdge:"Aadir arista",addNode:"Aadir nodo",back:"Atrs",close:"Cerrar",createEdgeError:"No se puede conectar una arista a un grupo.",del:"Eliminar seleccin",deleteClusterError:"No es posible eliminar grupos.",edgeDescription:"Haga clic en un nodo y arrastre la arista hacia otro nodo para conectarlos.",edit:"Editar",editClusterError:"No es posible editar grupos.",editEdge:"Editar arista",editEdgeDescription:"Haga clic en un punto de control y arrastrelo a un nodo para conectarlo.",editNode:"Editar nodo"},Cme={addDescription:"Clicca per aggiungere un nuovo nodo",addEdge:"Aggiungi un vertice",addNode:"Aggiungi un nodo",back:"Indietro",close:"Chiudere",createEdgeError:"Non si possono collegare vertici ad un cluster",del:"Cancella la selezione",deleteClusterError:"I cluster non possono essere cancellati",edgeDescription:"Clicca su un nodo e trascinalo ad un altro nodo per connetterli.",edit:"Modifica",editClusterError:"I clusters non possono essere modificati.",editEdge:"Modifica il vertice",editEdgeDescription:"Clicca sui Punti di controllo e trascinali ad un nodo per connetterli.",editNode:"Modifica il nodo"},Tme={addDescription:"Klik op een leeg gebied om een nieuwe node te maken.",addEdge:"Link toevoegen",addNode:"Node toevoegen",back:"Terug",close:"Sluiten",createEdgeError:"Kan geen link maken naar een cluster.",del:"Selectie verwijderen",deleteClusterError:"Clusters kunnen niet worden verwijderd.",edgeDescription:"Klik op een node en sleep de link naar een andere node om ze te verbinden.",edit:"Wijzigen",editClusterError:"Clusters kunnen niet worden aangepast.",editEdge:"Link wijzigen",editEdgeDescription:"Klik op de verbindingspunten en sleep ze naar een node om daarmee te verbinden.",editNode:"Node wijzigen"},jme={addDescription:"Clique em um espao em branco para adicionar um novo n",addEdge:"Adicionar aresta",addNode:"Adicionar n",back:"Voltar",close:"Fechar",createEdgeError:"No foi possvel linkar arestas a um cluster.",del:"Remover selecionado",deleteClusterError:"Clusters no puderam ser removidos.",edgeDescription:"Clique em um n e arraste a aresta at outro n para conect-los",edit:"Editar",editClusterError:"Clusters no puderam ser editados.",editEdge:"Editar aresta",editEdgeDescription:"Clique nos pontos de controle e os arraste para um n para conect-los",editNode:"Editar n"},Ime={addDescription:"   ,    .",addEdge:" ",addNode:" ",back:"",close:"",createEdgeError:"    .",del:" ",deleteClusterError:"    ",edgeDescription:"        ,   .",edit:"",editClusterError:"   .",editEdge:" ",editEdgeDescription:"        ,    .",editNode:" "},Rme={addDescription:"",addEdge:"",addNode:"",back:"",close:"",createEdgeError:"",del:"",deleteClusterError:"",edgeDescription:"",edit:"",editClusterError:"",editEdge:"",editEdgeDescription:"",editNode:""},$me={addDescription:"K   ,    .",addEdge:" ",addNode:" ",back:"",close:"",createEdgeError:"  '   .",del:" ",deleteClusterError:"    .",edgeDescription:"        ,   '.",edit:"",editClusterError:"   .",editEdge:" ",editEdgeDescription:"        ,    .",editNode:" "},kme={addDescription:"Cliquez dans un endroit vide pour placer un nud.",addEdge:"Ajouter un lien",addNode:"Ajouter un nud",back:"Retour",close:"Fermer",createEdgeError:"Impossible de crer un lien vers un cluster.",del:"Effacer la slection",deleteClusterError:"Les clusters ne peuvent pas tre effacs.",edgeDescription:"Cliquez sur un nud et glissez le lien vers un autre nud pour les connecter.",edit:"diter",editClusterError:"Les clusters ne peuvent pas tre dits.",editEdge:"diter le lien",editEdgeDescription:"Cliquez sur les points de contrle et glissez-les pour connecter un nud.",editNode:"diter le nud"},Dme={addDescription:"Kluknutm do przdnho prostoru mete pidat nov vrchol.",addEdge:"Pidat hranu",addNode:"Pidat vrchol",back:"Zpt",close:"Zavt",createEdgeError:"Nelze pipojit hranu ke shluku.",del:"Smazat vbr",deleteClusterError:"Nelze mazat shluky.",edgeDescription:"Petaenm z jednoho vrcholu do druhho mete spojit tyto vrcholy novou hranou.",edit:"Upravit",editClusterError:"Nelze upravovat shluky.",editEdge:"Upravit hranu",editEdgeDescription:"Petaenm kontrolnho vrcholu hrany ji mete pipojit k jinmu vrcholu.",editNode:"Upravit vrchol"};var qme=Object.freeze({__proto__:null,cn:Rme,cs:Dme,de:Nme,en:Ome,es:Pme,fr:kme,it:Cme,nl:Tme,pt:jme,ru:Ime,uk:$me});function Mme(t,e){try{const[n,i]=e.split(/[-_ /]/,2),s=n!=null?n.toLowerCase():null,a=i!=null?i.toUpperCase():null;if(s&&a){const o=s+"-"+a;if(Object.prototype.hasOwnProperty.call(t,o))return o;var r;console.warn(ofe(r="Unknown variant ".concat(a," of language ")).call(r,s,"."))}if(s){const o=s;if(Object.prototype.hasOwnProperty.call(t,o))return o;console.warn("Unknown language ".concat(s))}return console.warn("Unknown locale ".concat(e,", falling back to English.")),"en"}catch(n){return console.error(n),console.warn("Unexpected error while normalizing locale ".concat(e,", falling back to English.")),"en"}}class Ame{constructor(){this.NUM_ITERATIONS=4,this.image=new Image,this.canvas=document.createElement("canvas")}init(){if(this.initialized())return;this.src=this.image.src;const e=this.image.width,r=this.image.height;this.width=e,this.height=r;const n=Math.floor(r/2),i=Math.floor(r/4),s=Math.floor(r/8),a=Math.floor(r/16),o=Math.floor(e/2),l=Math.floor(e/4),c=Math.floor(e/8),d=Math.floor(e/16);this.canvas.width=3*l,this.canvas.height=n,this.coordinates=[[0,0,o,n],[o,0,l,i],[o,i,c,s],[5*c,i,d,a]],this._fillMipMap()}initialized(){return this.coordinates!==void 0}_fillMipMap(){const e=this.canvas.getContext("2d"),r=this.coordinates[0];e.drawImage(this.image,r[0],r[1],r[2],r[3]);for(let n=1;n<this.NUM_ITERATIONS;n++){const i=this.coordinates[n-1],s=this.coordinates[n];e.drawImage(this.canvas,i[0],i[1],i[2],i[3],s[0],s[1],s[2],s[3])}}drawImageAtPosition(e,r,n,i,s,a){if(this.initialized())if(r>2){r*=.5;let o=0;for(;r>2&&o<this.NUM_ITERATIONS;)r*=.5,o+=1;o>=this.NUM_ITERATIONS&&(o=this.NUM_ITERATIONS-1);const l=this.coordinates[o];e.drawImage(this.canvas,l[0],l[1],l[2],l[3],n,i,s,a)}else e.drawImage(this.image,n,i,s,a)}}class Fme{constructor(e){this.images={},this.imageBroken={},this.callback=e}_tryloadBrokenUrl(e,r,n){if(!(e===void 0||n===void 0)){if(r===void 0){console.warn("No broken url image defined");return}n.image.onerror=()=>{console.error("Could not load brokenImage:",r)},n.image.src=r}}_redrawWithImage(e){this.callback&&this.callback(e)}load(e,r){const n=this.images[e];if(n)return n;const i=new Ame;return this.images[e]=i,i.image.onload=()=>{this._fixImageCoordinates(i.image),i.init(),this._redrawWithImage(i)},i.image.onerror=()=>{console.error("Could not load image:",e),this._tryloadBrokenUrl(e,r,i)},i.image.src=e,i}_fixImageCoordinates(e){e.width===0&&(document.body.appendChild(e),e.width=e.offsetWidth,e.height=e.offsetHeight,document.body.removeChild(e))}}var B6={},z6={},mS={exports:{}},vS,U6;function Lme(){if(U6)return vS;U6=1;var t=Ae();return vS=t(function(){if(typeof ArrayBuffer=="function"){var e=new ArrayBuffer(8);Object.isExtensible(e)&&Object.defineProperty(e,"a",{value:8})}}),vS}var gS,W6;function Bme(){if(W6)return gS;W6=1;var t=Ae(),e=hr(),r=Ii(),n=Lme(),i=Object.isExtensible,s=t(function(){});return gS=s||n?function(o){return!e(o)||n&&r(o)==="ArrayBuffer"?!1:i?i(o):!0}:i,gS}var yS,V6;function bY(){if(V6)return yS;V6=1;var t=Ae();return yS=!t(function(){return Object.isExtensible(Object.preventExtensions({}))}),yS}var H6;function Em(){if(H6)return mS.exports;H6=1;var t=xe(),e=ze(),r=ch(),n=hr(),i=_r(),s=Bn().f,a=ym(),o=EC(),l=Bme(),c=dm(),d=bY(),h=!1,f=c("meta"),p=0,m=function(b){s(b,f,{value:{objectID:"O"+p++,weakData:{}}})},y=function(b,_){if(!n(b))return typeof b=="symbol"?b:(typeof b=="string"?"S":"P")+b;if(!i(b,f)){if(!l(b))return"F";if(!_)return"E";m(b)}return b[f].objectID},w=function(b,_){if(!i(b,f)){if(!l(b))return!0;if(!_)return!1;m(b)}return b[f].weakData},g=function(b){return d&&h&&l(b)&&!i(b,f)&&m(b),b},v=function(){x.enable=function(){},h=!0;var b=a.f,_=e([].splice),E={};E[f]=1,b(E).length&&(a.f=function(O){for(var S=b(O),N=0,P=S.length;N<P;N++)if(S[N]===f){_(S,N,1);break}return S},t({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:o.f}))},x=mS.exports={enable:v,fastKey:y,getWeakData:w,onFreeze:g};return r[f]=!0,mS.exports}var bS,K6;function zme(){if(K6)return bS;K6=1;var t=Yt(),e=Gu(),r=t("iterator"),n=Array.prototype;return bS=function(i){return i!==void 0&&(e.Array===i||n[r]===i)},bS}var wS,G6;function wY(){if(G6)return wS;G6=1;var t=Ku(),e=mC(),r=Au(),n=Gu(),i=Yt(),s=i("iterator");return wS=function(a){if(!r(a))return e(a,s)||e(a,"@@iterator")||n[t(a)]},wS}var xS,Y6;function Ume(){if(Y6)return xS;Y6=1;var t=cn(),e=bs(),r=Ri(),n=Bu(),i=wY(),s=TypeError;return xS=function(a,o){var l=arguments.length<2?i(a):o;if(e(l))return r(t(l,a));throw new s(n(a)+" is not iterable")},xS}var _S,Q6;function LC(){if(Q6)return _S;Q6=1;var t=cn(),e=Ri(),r=mC();return _S=function(n,i,s){var a,o;e(n);try{if(a=r(n,"return"),!a){if(i==="throw")throw s;return s}a=t(a,n)}catch(l){o=!0,a=l}if(i==="throw")throw s;if(o)throw a;return e(a),s},_S}var SS,X6;function Om(){if(X6)return SS;X6=1;var t=fm(),e=cn(),r=Ri(),n=Bu(),i=zme(),s=ws(),a=Gt(),o=Ume(),l=wY(),c=LC(),d=TypeError,h=function(p,m){this.stopped=p,this.result=m},f=h.prototype;return SS=function(p,m,y){var w=y&&y.that,g=!!(y&&y.AS_ENTRIES),v=!!(y&&y.IS_RECORD),x=!!(y&&y.IS_ITERATOR),b=!!(y&&y.INTERRUPTED),_=t(m,w),E,O,S,N,P,I,C,T=function(B){return E&&c(E,"normal"),new h(!0,B)},M=function(B){return g?(r(B),b?_(B[0],B[1],T):_(B[0],B[1])):b?_(B,T):_(B)};if(v)E=p.iterator;else if(x)E=p;else{if(O=l(p),!O)throw new d(n(p)+" is not iterable");if(i(O)){for(S=0,N=s(p);N>S;S++)if(P=M(p[S]),P&&a(f,P))return P;return new h(!1)}E=o(p,O)}for(I=v?p.next:E.next;!(C=e(I,E)).done;){try{P=M(C.value)}catch(B){c(E,"throw",B)}if(typeof P=="object"&&P&&a(f,P))return P}return new h(!1)},SS}var ES,J6;function BC(){if(J6)return ES;J6=1;var t=Gt(),e=TypeError;return ES=function(r,n){if(t(n,r))return r;throw new e("Incorrect invocation")},ES}var OS,Z6;function zC(){if(Z6)return OS;Z6=1;var t=xe(),e=vt(),r=Em(),n=Ae(),i=Wu(),s=Om(),a=BC(),o=dr(),l=hr(),c=Au(),d=Uo(),h=Bn().f,f=Ea().forEach,p=Mt(),m=Wo(),y=m.set,w=m.getterFor;return OS=function(g,v,x){var b=g.indexOf("Map")!==-1,_=g.indexOf("Weak")!==-1,E=b?"set":"add",O=e[g],S=O&&O.prototype,N={},P;if(!p||!o(O)||!(_||S.forEach&&!n(function(){new O().entries().next()})))P=x.getConstructor(v,g,b,E),r.enable();else{P=v(function(T,M){y(a(T,I),{type:g,collection:new O}),c(M)||s(M,T[E],{that:T,AS_ENTRIES:b})});var I=P.prototype,C=w(g);f(["add","clear","delete","forEach","get","has","set","keys","values","entries"],function(T){var M=T==="add"||T==="set";T in S&&!(_&&T==="clear")&&i(I,T,function(B,Q){var G=C(this).collection;if(!M&&_&&!l(B))return T==="get"?void 0:!1;var F=G[T](B===0?0:B,Q);return M?this:F})}),_||h(I,"size",{configurable:!0,get:function(){return C(this).collection.size}})}return d(P,g,!1,!0),N[g]=P,t({global:!0,forced:!0},N),_||x.setStrong(P,g,b),P},OS}var NS,ez;function UC(){if(ez)return NS;ez=1;var t=ph();return NS=function(e,r,n){for(var i in r)n&&n.unsafe&&e[i]?e[i]=r[i]:t(e,i,r[i],n);return e},NS}var PS,tz;function Wme(){if(tz)return PS;tz=1;var t=Sn(),e=OC(),r=Yt(),n=Mt(),i=r("species");return PS=function(s){var a=t(s);n&&a&&!a[i]&&e(a,i,{configurable:!0,get:function(){return this}})},PS}var CS,rz;function xY(){if(rz)return CS;rz=1;var t=fh(),e=OC(),r=UC(),n=fm(),i=BC(),s=Au(),a=Om(),o=PC(),l=CC(),c=Wme(),d=Mt(),h=Em().fastKey,f=Wo(),p=f.set,m=f.getterFor;return CS={getConstructor:function(y,w,g,v){var x=y(function(S,N){i(S,b),p(S,{type:w,index:t(null),first:null,last:null,size:0}),d||(S.size=0),s(N)||a(N,S[v],{that:S,AS_ENTRIES:g})}),b=x.prototype,_=m(w),E=function(S,N,P){var I=_(S),C=O(S,N),T,M;return C?C.value=P:(I.last=C={index:M=h(N,!0),key:N,value:P,previous:T=I.last,next:null,removed:!1},I.first||(I.first=C),T&&(T.next=C),d?I.size++:S.size++,M!=="F"&&(I.index[M]=C)),S},O=function(S,N){var P=_(S),I=h(N),C;if(I!=="F")return P.index[I];for(C=P.first;C;C=C.next)if(C.key===N)return C};return r(b,{clear:function(){for(var N=this,P=_(N),I=P.first;I;)I.removed=!0,I.previous&&(I.previous=I.previous.next=null),I=I.next;P.first=P.last=null,P.index=t(null),d?P.size=0:N.size=0},delete:function(S){var N=this,P=_(N),I=O(N,S);if(I){var C=I.next,T=I.previous;delete P.index[I.index],I.removed=!0,T&&(T.next=C),C&&(C.previous=T),P.first===I&&(P.first=C),P.last===I&&(P.last=T),d?P.size--:N.size--}return!!I},forEach:function(N){for(var P=_(this),I=n(N,arguments.length>1?arguments[1]:void 0),C;C=C?C.next:P.first;)for(I(C.value,C.key,this);C&&C.removed;)C=C.previous},has:function(N){return!!O(this,N)}}),r(b,g?{get:function(N){var P=O(this,N);return P&&P.value},set:function(N,P){return E(this,N===0?0:N,P)}}:{add:function(N){return E(this,N=N===0?0:N,N)}}),d&&e(b,"size",{configurable:!0,get:function(){return _(this).size}}),x},setStrong:function(y,w,g){var v=w+" Iterator",x=m(w),b=m(v);o(y,w,function(_,E){p(this,{type:v,target:_,state:x(_),kind:E,last:null})},function(){for(var _=b(this),E=_.kind,O=_.last;O&&O.removed;)O=O.previous;return!_.target||!(_.last=O=O?O.next:_.state.first)?(_.target=null,l(void 0,!0)):l(E==="keys"?O.key:E==="values"?O.value:[O.key,O.value],!1)},g?"entries":"values",!g,!0),c(w)}},CS}var nz;function Vme(){if(nz)return z6;nz=1;var t=zC(),e=xY();return t("Map",function(r){return function(){return r(this,arguments.length?arguments[0]:void 0)}},e),z6}var iz;function Hme(){return iz||(iz=1,Vme()),B6}var sz={},TS,az;function _Y(){return az||(az=1,TS=function(t,e){return e===1?function(r,n){return r[t](n)}:function(r,n,i){return r[t](n,i)}}),TS}var jS,oz;function Kme(){if(oz)return jS;oz=1;var t=Sn(),e=_Y(),r=t("Map");return jS={Map:r,set:e("set",2),get:e("get",1),has:e("has",1),remove:e("delete",1),proto:r.prototype},jS}var lz;function Gme(){if(lz)return sz;lz=1;var t=xe(),e=ze(),r=bs(),n=ys(),i=Om(),s=Kme(),a=zu(),o=Ae(),l=s.Map,c=s.has,d=s.get,h=s.set,f=e([].push),p=a||o(function(){return l.groupBy("ab",function(m){return m}).get("a").length!==1});return t({target:"Map",stat:!0,forced:a||p},{groupBy:function(y,w){n(y),r(w);var g=new l,v=0;return i(y,function(x){var b=w(x,v++);c(g,b)?f(d(g,b),x):h(g,b,[x])}),g}}),sz}var uz={},IS,cz;function Yme(){if(cz)return IS;cz=1;var t=ze(),e=Vu(),r=zn(),n=ys(),i=t("".charAt),s=t("".charCodeAt),a=t("".slice),o=function(l){return function(c,d){var h=r(n(c)),f=e(d),p=h.length,m,y;return f<0||f>=p?l?"":void 0:(m=s(h,f),m<55296||m>56319||f+1===p||(y=s(h,f+1))<56320||y>57343?l?i(h,f):m:l?a(h,f,f+2):(m-55296<<10)+(y-56320)+65536)}};return IS={codeAt:o(!1),charAt:o(!0)},IS}var dz;function WC(){if(dz)return uz;dz=1;var t=Yme().charAt,e=zn(),r=Wo(),n=PC(),i=CC(),s="String Iterator",a=r.set,o=r.getterFor(s);return n(String,"String",function(l){a(this,{type:s,string:e(l),index:0})},function(){var c=o(this),d=c.string,h=c.index,f;return h>=d.length?i(void 0,!0):(f=t(d,h),c.index+=f.length,i(f,!1))}),uz}var RS,hz;function Qme(){if(hz)return RS;hz=1,Yu(),Hme(),Gme(),WC();var t=Je();return RS=t.Map,RS}var $S,fz;function Xme(){if(fz)return $S;fz=1;var t=Qme();return Qu(),$S=t,$S}var kS,pz;function Jme(){return pz||(pz=1,kS=Xme()),kS}var Zme=Jme(),VC=Ne(Zme);class eve{constructor(){this.clear(),this._defaultIndex=0,this._groupIndex=0,this._defaultGroups=[{border:"#2B7CE9",background:"#97C2FC",highlight:{border:"#2B7CE9",background:"#D2E5FF"},hover:{border:"#2B7CE9",background:"#D2E5FF"}},{border:"#FFA500",background:"#FFFF00",highlight:{border:"#FFA500",background:"#FFFFA3"},hover:{border:"#FFA500",background:"#FFFFA3"}},{border:"#FA0A10",background:"#FB7E81",highlight:{border:"#FA0A10",background:"#FFAFB1"},hover:{border:"#FA0A10",background:"#FFAFB1"}},{border:"#41A906",background:"#7BE141",highlight:{border:"#41A906",background:"#A1EC76"},hover:{border:"#41A906",background:"#A1EC76"}},{border:"#E129F0",background:"#EB7DF4",highlight:{border:"#E129F0",background:"#F0B3F5"},hover:{border:"#E129F0",background:"#F0B3F5"}},{border:"#7C29F0",background:"#AD85E4",highlight:{border:"#7C29F0",background:"#D3BDF0"},hover:{border:"#7C29F0",background:"#D3BDF0"}},{border:"#C37F00",background:"#FFA807",highlight:{border:"#C37F00",background:"#FFCA66"},hover:{border:"#C37F00",background:"#FFCA66"}},{border:"#4220FB",background:"#6E6EFD",highlight:{border:"#4220FB",background:"#9B9BFD"},hover:{border:"#4220FB",background:"#9B9BFD"}},{border:"#FD5A77",background:"#FFC0CB",highlight:{border:"#FD5A77",background:"#FFD1D9"},hover:{border:"#FD5A77",background:"#FFD1D9"}},{border:"#4AD63A",background:"#C2FABC",highlight:{border:"#4AD63A",background:"#E6FFE3"},hover:{border:"#4AD63A",background:"#E6FFE3"}},{border:"#990000",background:"#EE0000",highlight:{border:"#BB0000",background:"#FF3333"},hover:{border:"#BB0000",background:"#FF3333"}},{border:"#FF6000",background:"#FF6000",highlight:{border:"#FF6000",background:"#FF6000"},hover:{border:"#FF6000",background:"#FF6000"}},{border:"#97C2FC",background:"#2B7CE9",highlight:{border:"#D2E5FF",background:"#2B7CE9"},hover:{border:"#D2E5FF",background:"#2B7CE9"}},{border:"#399605",background:"#255C03",highlight:{border:"#399605",background:"#255C03"},hover:{border:"#399605",background:"#255C03"}},{border:"#B70054",background:"#FF007E",highlight:{border:"#B70054",background:"#FF007E"},hover:{border:"#B70054",background:"#FF007E"}},{border:"#AD85E4",background:"#7C29F0",highlight:{border:"#D3BDF0",background:"#7C29F0"},hover:{border:"#D3BDF0",background:"#7C29F0"}},{border:"#4557FA",background:"#000EA1",highlight:{border:"#6E6EFD",background:"#000EA1"},hover:{border:"#6E6EFD",background:"#000EA1"}},{border:"#FFC0CB",background:"#FD5A77",highlight:{border:"#FFD1D9",background:"#FD5A77"},hover:{border:"#FFD1D9",background:"#FD5A77"}},{border:"#C2FABC",background:"#74D66A",highlight:{border:"#E6FFE3",background:"#74D66A"},hover:{border:"#E6FFE3",background:"#74D66A"}},{border:"#EE0000",background:"#990000",highlight:{border:"#FF3333",background:"#BB0000"},hover:{border:"#FF3333",background:"#BB0000"}}],this.options={},this.defaultOptions={useDefaultGroups:!0},Ut(this.options,this.defaultOptions)}setOptions(e){const r=["useDefaultGroups"];if(e!==void 0){for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&Ye(r).call(r,n)===-1){const i=e[n];this.add(n,i)}}}clear(){this._groups=new VC,this._groupNames=[]}get(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,n=this._groups.get(e);if(n===void 0&&r)if(this.options.useDefaultGroups===!1&&this._groupNames.length>0){const i=this._groupIndex%this._groupNames.length;++this._groupIndex,n={},n.color=this._groups.get(this._groupNames[i]),this._groups.set(e,n)}else{const i=this._defaultIndex%this._defaultGroups.length;this._defaultIndex++,n={},n.color=this._defaultGroups[i],this._groups.set(e,n)}return n}add(e,r){return this._groups.has(e)||this._groupNames.push(e),this._groups.set(e,r),r}}var mz={},vz;function tve(){if(vz)return mz;vz=1;var t=xe();return t({target:"Number",stat:!0},{isNaN:function(r){return r!==r}}),mz}var DS,gz;function rve(){if(gz)return DS;gz=1,tve();var t=Je();return DS=t.Number.isNaN,DS}var qS,yz;function nve(){if(yz)return qS;yz=1;var t=rve();return qS=t,qS}var MS,bz;function ive(){return bz||(bz=1,MS=nve()),MS}var sve=ive(),_N=Ne(sve),wz={},AS,xz;function ave(){if(xz)return AS;xz=1;var t=vt(),e=t.isFinite;return AS=Number.isFinite||function(n){return typeof n=="number"&&e(n)},AS}var _z;function ove(){if(_z)return wz;_z=1;var t=xe(),e=ave();return t({target:"Number",stat:!0},{isFinite:e}),wz}var FS,Sz;function lve(){if(Sz)return FS;Sz=1,ove();var t=Je();return FS=t.Number.isFinite,FS}var LS,Ez;function uve(){if(Ez)return LS;Ez=1;var t=lve();return LS=t,LS}var BS,Oz;function cve(){return Oz||(Oz=1,BS=uve()),BS}var dve=cve(),Wa=Ne(dve),Nz={},Pz;function hve(){if(Pz)return Nz;Pz=1;var t=xe(),e=Ea().some,r=Xu(),n=r("some");return t({target:"Array",proto:!0,forced:!n},{some:function(s){return e(this,s,arguments.length>1?arguments[1]:void 0)}}),Nz}var zS,Cz;function fve(){if(Cz)return zS;Cz=1,hve();var t=Sr();return zS=t("Array","some"),zS}var US,Tz;function pve(){if(Tz)return US;Tz=1;var t=Gt(),e=fve(),r=Array.prototype;return US=function(n){var i=n.some;return n===r||t(r,n)&&i===r.some?e:i},US}var WS,jz;function mve(){if(jz)return WS;jz=1;var t=pve();return WS=t,WS}var VS,Iz;function vve(){return Iz||(Iz=1,VS=mve()),VS}var gve=vve(),yve=Ne(gve),HS={exports:{}},Rz={},$z;function bve(){if($z)return Rz;$z=1;var t=xe(),e=Mt(),r=Bn().f;return t({target:"Object",stat:!0,forced:Object.defineProperty!==r,sham:!e},{defineProperty:r}),Rz}var kz;function wve(){if(kz)return HS.exports;kz=1,bve();var t=Je(),e=t.Object,r=HS.exports=function(i,s,a){return e.defineProperty(i,s,a)};return e.defineProperty.sham&&(r.sham=!0),HS.exports}var KS,Dz;function SY(){if(Dz)return KS;Dz=1;var t=wve();return KS=t,KS}var GS,qz;function xve(){if(qz)return GS;qz=1;var t=SY();return GS=t,GS}var YS,Mz;function _ve(){if(Mz)return YS;Mz=1;var t=xve();return YS=t,YS}var QS,Az;function Sve(){return Az||(Az=1,QS=_ve()),QS}var Eve=Sve(),Ove=Ne(Eve),Fz={},Lz;function Nve(){if(Lz)return Fz;Lz=1;var t=Yt(),e=Bn().f,r=t("metadata"),n=Function.prototype;return n[r]===void 0&&e(n,r,{value:null}),Fz}var Bz={},zz;function Pve(){return zz||(zz=1,OG()),Bz}var Uz={},Wz;function Cve(){return Wz||(Wz=1,NG()),Uz}var Vz={},Hz;function Tve(){if(Hz)return Vz;Hz=1;var t=Ot();return t("metadata"),Vz}var XS,Kz;function jve(){if(Kz)return XS;Kz=1;var t=IG();return Nve(),Pve(),Cve(),Tve(),XS=t,XS}var Gz={},JS,Yz;function EY(){if(Yz)return JS;Yz=1;var t=Sn(),e=ze(),r=t("Symbol"),n=r.keyFor,i=e(r.prototype.valueOf);return JS=r.isRegisteredSymbol||function(a){try{return n(i(a))!==void 0}catch{return!1}},JS}var Qz;function Ive(){if(Qz)return Gz;Qz=1;var t=xe(),e=EY();return t({target:"Symbol",stat:!0},{isRegisteredSymbol:e}),Gz}var Xz={},ZS,Jz;function OY(){if(Jz)return ZS;Jz=1;for(var t=Uu(),e=Sn(),r=ze(),n=uh(),i=Yt(),s=e("Symbol"),a=s.isWellKnownSymbol,o=e("Object","getOwnPropertyNames"),l=r(s.prototype.valueOf),c=t("wks"),d=0,h=o(s),f=h.length;d<f;d++)try{var p=h[d];n(s[p])&&i(p)}catch{}return ZS=function(y){if(a&&a(y))return!0;try{for(var w=l(y),g=0,v=o(c),x=v.length;g<x;g++)if(c[v[g]]==w)return!0}catch{}return!1},ZS}var Zz;function Rve(){if(Zz)return Xz;Zz=1;var t=xe(),e=OY();return t({target:"Symbol",stat:!0,forced:!0},{isWellKnownSymbol:e}),Xz}var e8={},t8;function $ve(){if(t8)return e8;t8=1;var t=Ot();return t("customMatcher"),e8}var r8={},n8;function kve(){if(n8)return r8;n8=1;var t=Ot();return t("observable"),r8}var i8={},s8;function Dve(){if(s8)return i8;s8=1;var t=xe(),e=EY();return t({target:"Symbol",stat:!0,name:"isRegisteredSymbol"},{isRegistered:e}),i8}var a8={},o8;function qve(){if(o8)return a8;o8=1;var t=xe(),e=OY();return t({target:"Symbol",stat:!0,name:"isWellKnownSymbol",forced:!0},{isWellKnown:e}),a8}var l8={},u8;function Mve(){if(u8)return l8;u8=1;var t=Ot();return t("matcher"),l8}var c8={},d8;function Ave(){if(d8)return c8;d8=1;var t=Ot();return t("metadataKey"),c8}var h8={},f8;function Fve(){if(f8)return h8;f8=1;var t=Ot();return t("patternMatch"),h8}var p8={},m8;function Lve(){if(m8)return p8;m8=1;var t=Ot();return t("replaceAll"),p8}var eE,v8;function Bve(){if(v8)return eE;v8=1;var t=jve();return Ive(),Rve(),$ve(),kve(),Dve(),qve(),Mve(),Ave(),Fve(),Lve(),eE=t,eE}var tE,g8;function zve(){return g8||(g8=1,tE=Bve()),tE}var Uve=zve(),tf=Ne(Uve),rE,y8;function Wve(){if(y8)return rE;y8=1,Yu(),WC(),PG();var t=bm();return rE=t.f("iterator"),rE}var nE,b8;function Vve(){if(b8)return nE;b8=1;var t=Wve();return Qu(),nE=t,nE}var iE,w8;function Hve(){if(w8)return iE;w8=1;var t=Vve();return iE=t,iE}var sE,x8;function Kve(){if(x8)return sE;x8=1;var t=Hve();return sE=t,sE}var aE,_8;function Gve(){return _8||(_8=1,aE=Kve()),aE}var Yve=Gve(),Qve=Ne(Yve);function Sd(t){"@babel/helpers - typeof";return Sd=typeof tf=="function"&&typeof Qve=="symbol"?function(e){return typeof e}:function(e){return e&&typeof tf=="function"&&e.constructor===tf&&e!==tf.prototype?"symbol":typeof e},Sd(t)}var oE,S8;function Xve(){if(S8)return oE;S8=1,CG();var t=bm();return oE=t.f("toPrimitive"),oE}var lE,E8;function Jve(){if(E8)return lE;E8=1;var t=Xve();return lE=t,lE}var uE,O8;function Zve(){if(O8)return uE;O8=1;var t=Jve();return uE=t,uE}var cE,N8;function ege(){if(N8)return cE;N8=1;var t=Zve();return cE=t,cE}var dE,P8;function tge(){return P8||(P8=1,dE=ege()),dE}var rge=tge(),nge=Ne(rge);function ige(t,e){if(Sd(t)!="object"||!t)return t;var r=t[nge];if(r!==void 0){var n=r.call(t,e);if(Sd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function sge(t){var e=ige(t,"string");return Sd(e)=="symbol"?e:e+""}function Ki(t,e,r){return(e=sge(e))in t?Ove(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var C8={},hE,T8;function age(){if(T8)return hE;T8=1;var t=vt(),e=Ae(),r=ze(),n=zn(),i=$G().trim,s=TC(),a=r("".charAt),o=t.parseFloat,l=t.Symbol,c=l&&l.iterator,d=1/o(s+"-0")!==-1/0||c&&!e(function(){o(Object(c))});return hE=d?function(f){var p=i(n(f)),m=o(p);return m===0&&a(p,0)==="-"?-0:m}:o,hE}var j8;function oge(){if(j8)return C8;j8=1;var t=xe(),e=age();return t({global:!0,forced:parseFloat!==e},{parseFloat:e}),C8}var fE,I8;function lge(){if(I8)return fE;I8=1,oge();var t=Je();return fE=t.parseFloat,fE}var pE,R8;function uge(){if(R8)return pE;R8=1;var t=lge();return pE=t,pE}var mE,$8;function cge(){return $8||($8=1,mE=uge()),mE}var dge=cge(),NY=Ne(dge),k8={},D8;function hge(){if(D8)return k8;D8=1;var t=xe(),e=Ae(),r=EC().f,n=e(function(){return!Object.getOwnPropertyNames(1)});return t({target:"Object",stat:!0,forced:n},{getOwnPropertyNames:r}),k8}var vE,q8;function fge(){if(q8)return vE;q8=1,hge();var t=Je(),e=t.Object;return vE=function(n){return e.getOwnPropertyNames(n)},vE}var gE,M8;function pge(){if(M8)return gE;M8=1;var t=fge();return gE=t,gE}var yE,A8;function mge(){return A8||(A8=1,yE=pge()),yE}var vge=mge(),gge=Ne(vge),bE,F8;function yge(){if(F8)return bE;F8=1,EG();var t=Je();return bE=t.Object.getOwnPropertySymbols,bE}var wE,L8;function bge(){if(L8)return wE;L8=1;var t=yge();return wE=t,wE}var xE,B8;function wge(){return B8||(B8=1,xE=bge()),xE}var xge=wge(),pa=Ne(xge),_E={exports:{}},z8={},U8;function _ge(){if(U8)return z8;U8=1;var t=xe(),e=Ae(),r=ci(),n=hm().f,i=Mt(),s=!i||e(function(){n(1)});return t({target:"Object",stat:!0,forced:s,sham:!i},{getOwnPropertyDescriptor:function(o,l){return n(r(o),l)}}),z8}var W8;function Sge(){if(W8)return _E.exports;W8=1,_ge();var t=Je(),e=t.Object,r=_E.exports=function(i,s){return e.getOwnPropertyDescriptor(i,s)};return e.getOwnPropertyDescriptor.sham&&(r.sham=!0),_E.exports}var SE,V8;function Ege(){if(V8)return SE;V8=1;var t=Sge();return SE=t,SE}var EE,H8;function Oge(){return H8||(H8=1,EE=Ege()),EE}var Nge=Oge(),Oa=Ne(Nge),K8={},G8;function Pge(){if(G8)return K8;G8=1;var t=xe(),e=Mt(),r=Jde(),n=ci(),i=hm(),s=vm();return t({target:"Object",stat:!0,sham:!e},{getOwnPropertyDescriptors:function(o){for(var l=n(o),c=i.f,d=r(l),h={},f=0,p,m;d.length>f;)m=c(l,p=d[f++]),m!==void 0&&s(h,p,m);return h}}),K8}var OE,Y8;function Cge(){if(Y8)return OE;Y8=1,Pge();var t=Je();return OE=t.Object.getOwnPropertyDescriptors,OE}var NE,Q8;function Tge(){if(Q8)return NE;Q8=1;var t=Cge();return NE=t,NE}var PE,X8;function jge(){return X8||(X8=1,PE=Tge()),PE}var Ige=jge(),ma=Ne(Ige),CE={exports:{}},J8={},Z8;function Rge(){if(Z8)return J8;Z8=1;var t=xe(),e=Mt(),r=SC().f;return t({target:"Object",stat:!0,forced:Object.defineProperties!==r,sham:!e},{defineProperties:r}),J8}var e7;function $ge(){if(e7)return CE.exports;e7=1,Rge();var t=Je(),e=t.Object,r=CE.exports=function(i,s){return e.defineProperties(i,s)};return e.defineProperties.sham&&(r.sham=!0),CE.exports}var TE,t7;function kge(){if(t7)return TE;t7=1;var t=$ge();return TE=t,TE}var jE,r7;function Dge(){return r7||(r7=1,jE=kge()),jE}var qge=Dge(),Nm=Ne(qge),IE,n7;function Mge(){return n7||(n7=1,IE=SY()),IE}var Age=Mge(),Pm=Ne(Age);function HC(t,e){const r=["node","edge","label"];let n=!0;const i=Ps(e,"chosen");if(typeof i=="boolean")n=i;else if(typeof i=="object"){if(Ye(r).call(r,t)===-1)throw new Error("choosify: subOption '"+t+"' should be one of '"+r.join("', '")+"'");const s=Ps(e,["chosen",t]);(typeof s=="boolean"||typeof s=="function")&&(n=s)}return n}function SN(t,e,r){if(t.width<=0||t.height<=0)return!1;if(r!==void 0){const s={x:e.x-r.x,y:e.y-r.y};if(r.angle!==0){const a=-r.angle;e={x:Math.cos(a)*s.x-Math.sin(a)*s.y,y:Math.sin(a)*s.x+Math.cos(a)*s.y}}else e=s}const n=t.x+t.width,i=t.y+t.width;return t.left<e.x&&n>e.x&&t.top<e.y&&i>e.y}function gp(t){return typeof t=="string"&&t!==""}function PY(t,e,r,n){let i=n.x,s=n.y;if(typeof n.distanceToBorder=="function"){const a=n.distanceToBorder(t,e),o=Math.sin(e)*a,l=Math.cos(e)*a;l===a?(i+=a,s=n.y):o===a?(i=n.x,s-=a):(i+=l,s-=o)}else n.shape.width>n.shape.height?(i=n.x+n.shape.width*.5,s=n.y-r):(i=n.x+r,s=n.y-n.shape.height*.5);return{x:i,y:s}}var RE,i7;function Fge(){if(i7)return RE;i7=1,Yu();var t=Sr();return RE=t("Array","values"),RE}var $E,s7;function Lge(){if(s7)return $E;s7=1;var t=Fge();return $E=t,$E}var kE,a7;function Bge(){if(a7)return kE;a7=1,Qu();var t=Ku(),e=_r(),r=Gt(),n=Lge(),i=Array.prototype,s={DOMTokenList:!0,NodeList:!0};return kE=function(a){var o=a.values;return a===i||r(i,a)&&o===i.values||e(s,t(a))?n:o},kE}var DE,o7;function zge(){return o7||(o7=1,DE=Bge()),DE}var Uge=zge(),CY=Ne(Uge);class Wge{constructor(e){this.measureText=e,this.current=0,this.width=0,this.height=0,this.lines=[]}_add(e,r){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"normal";this.lines[e]===void 0&&(this.lines[e]={width:0,height:0,blocks:[]});let i=r;(r===void 0||r==="")&&(i=" ");const s=this.measureText(i,n),a=Ut({},CY(s));a.text=r,a.width=s.width,a.mod=n,(r===void 0||r==="")&&(a.width=0),this.lines[e].blocks.push(a),this.lines[e].width+=a.width}curWidth(){const e=this.lines[this.current];return e===void 0?0:e.width}append(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"normal";this._add(this.current,e,r)}newLine(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"normal";this._add(this.current,e,r),this.current++}determineLineHeights(){for(let e=0;e<this.lines.length;e++){const r=this.lines[e];let n=0;if(r.blocks!==void 0)for(let i=0;i<r.blocks.length;i++){const s=r.blocks[i];n<s.height&&(n=s.height)}r.height=n}}determineLabelSize(){let e=0,r=0;for(let n=0;n<this.lines.length;n++){const i=this.lines[n];i.width>e&&(e=i.width),r+=i.height}this.width=e,this.height=r}removeEmptyBlocks(){const e=[];for(let r=0;r<this.lines.length;r++){const n=this.lines[r];if(n.blocks.length===0||r===this.lines.length-1&&n.width===0)continue;const i={};Ut(i,n),i.blocks=[];let s;const a=[];for(let o=0;o<n.blocks.length;o++){const l=n.blocks[o];l.width!==0?a.push(l):s===void 0&&(s=l)}a.length===0&&s!==void 0&&a.push(s),i.blocks=a,e.push(i)}return e}finalize(){this.determineLineHeights(),this.determineLabelSize();const e=this.removeEmptyBlocks();return{width:this.width,height:this.height,lines:e}}}const Vge={"<b>":/<b>/,"<i>":/<i>/,"<code>":/<code>/,"</b>":/<\/b>/,"</i>":/<\/i>/,"</code>":/<\/code>/,"*":/\*/,_:/_/,"`":/`/,afterBold:/[^*]/,afterItal:/[^_]/,afterMono:/[^`]/};class l7{constructor(e){this.text=e,this.bold=!1,this.ital=!1,this.mono=!1,this.spacing=!1,this.position=0,this.buffer="",this.modStack=[],this.blocks=[]}mod(){return this.modStack.length===0?"normal":this.modStack[0]}modName(){if(this.modStack.length===0)return"normal";if(this.modStack[0]==="mono")return"mono";if(this.bold&&this.ital)return"boldital";if(this.bold)return"bold";if(this.ital)return"ital"}emitBlock(){this.spacing&&(this.add(" "),this.spacing=!1),this.buffer.length>0&&(this.blocks.push({text:this.buffer,mod:this.modName()}),this.buffer="")}add(e){e===" "&&(this.spacing=!0),this.spacing&&(this.buffer+=" ",this.spacing=!1),e!=" "&&(this.buffer+=e)}parseWS(e){return/[ \t]/.test(e)?(this.mono?this.add(e):this.spacing=!0,!0):!1}setTag(e){this.emitBlock(),this[e]=!0,this.modStack.unshift(e)}unsetTag(e){this.emitBlock(),this[e]=!1,this.modStack.shift()}parseStartTag(e,r){return!this.mono&&!this[e]&&this.match(r)?(this.setTag(e),!0):!1}match(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;const[n,i]=this.prepareRegExp(e),s=n.test(this.text.substr(this.position,i));return s&&r&&(this.position+=i-1),s}parseEndTag(e,r,n){let i=this.mod()===e;return e==="mono"?i=i&&this.mono:i=i&&!this.mono,i&&this.match(r)?(n!==void 0?(this.position===this.text.length-1||this.match(n,!1))&&this.unsetTag(e):this.unsetTag(e),!0):!1}replace(e,r){return this.match(e)?(this.add(r),this.position+=length-1,!0):!1}prepareRegExp(e){let r,n;if(e instanceof RegExp)n=e,r=1;else{const i=Vge[e];i!==void 0?n=i:n=new RegExp(e),r=e.length}return[n,r]}}class Hge{constructor(e,r,n,i){this.ctx=e,this.parent=r,this.selected=n,this.hover=i;const s=(a,o)=>{if(a===void 0)return 0;const l=this.parent.getFormattingValues(e,n,i,o);let c=0;return a!==""&&(c=this.ctx.measureText(a).width),{width:c,values:l}};this.lines=new Wge(s)}process(e){if(!gp(e))return this.lines.finalize();const r=this.parent.fontOptions;e=e.replace(/\r\n/g,`
`),e=e.replace(/\r/g,`
`);const n=String(e).split(`
`),i=n.length;if(r.multi)for(let s=0;s<i;s++){const a=this.splitBlocks(n[s],r.multi);if(a!==void 0){if(a.length===0){this.lines.newLine("");continue}if(r.maxWdt>0)for(let o=0;o<a.length;o++){const l=a[o].mod,c=a[o].text;this.splitStringIntoLines(c,l,!0)}else for(let o=0;o<a.length;o++){const l=a[o].mod,c=a[o].text;this.lines.append(c,l)}this.lines.newLine()}}else if(r.maxWdt>0)for(let s=0;s<i;s++)this.splitStringIntoLines(n[s]);else for(let s=0;s<i;s++)this.lines.newLine(n[s]);return this.lines.finalize()}decodeMarkupSystem(e){let r="none";return e==="markdown"||e==="md"?r="markdown":(e===!0||e==="html")&&(r="html"),r}splitHtmlBlocks(e){const r=new l7(e),n=i=>/&/.test(i)?(r.replace(r.text,"&lt;","<")||r.replace(r.text,"&amp;","&")||r.add("&"),!0):!1;for(;r.position<r.text.length;){const i=r.text.charAt(r.position);r.parseWS(i)||/</.test(i)&&(r.parseStartTag("bold","<b>")||r.parseStartTag("ital","<i>")||r.parseStartTag("mono","<code>")||r.parseEndTag("bold","</b>")||r.parseEndTag("ital","</i>")||r.parseEndTag("mono","</code>"))||n(i)||r.add(i),r.position++}return r.emitBlock(),r.blocks}splitMarkdownBlocks(e){const r=new l7(e);let n=!0;const i=s=>/\\/.test(s)?(r.position<this.text.length+1&&(r.position++,s=this.text.charAt(r.position),/ \t/.test(s)?r.spacing=!0:(r.add(s),n=!1)),!0):!1;for(;r.position<r.text.length;){const s=r.text.charAt(r.position);r.parseWS(s)||i(s)||(n||r.spacing)&&(r.parseStartTag("bold","*")||r.parseStartTag("ital","_")||r.parseStartTag("mono","`"))||r.parseEndTag("bold","*","afterBold")||r.parseEndTag("ital","_","afterItal")||r.parseEndTag("mono","`","afterMono")||(r.add(s),n=!1),r.position++}return r.emitBlock(),r.blocks}splitBlocks(e,r){const n=this.decodeMarkupSystem(r);if(n==="none")return[{text:e,mod:"normal"}];if(n==="markdown")return this.splitMarkdownBlocks(e);if(n==="html")return this.splitHtmlBlocks(e)}overMaxWidth(e){const r=this.ctx.measureText(e).width;return this.lines.curWidth()+r>this.parent.fontOptions.maxWdt}getLongestFit(e){let r="",n=0;for(;n<e.length;){const s=r+(r===""?"":" ")+e[n];if(this.overMaxWidth(s))break;r=s,n++}return n}getLongestFitWord(e){let r=0;for(;r<e.length&&!this.overMaxWidth(_i(e).call(e,0,r));)r++;return r}splitStringIntoLines(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"normal",n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;this.parent.getFormattingValues(this.ctx,this.selected,this.hover,r),e=e.replace(/^( +)/g,"$1\r"),e=e.replace(/([^\r][^ ]*)( +)/g,"$1\r$2\r");let i=e.split("\r");for(;i.length>0;){let s=this.getLongestFit(i);if(s===0){const a=i[0],o=this.getLongestFitWord(a);this.lines.newLine(_i(a).call(a,0,o),r),i[0]=_i(a).call(a,o)}else{let a=s;i[s-1]===" "?s--:i[a]===" "&&a++;const o=_i(i).call(i,0,s).join("");s==i.length&&n?this.lines.append(o,r):this.lines.newLine(o,r),i=_i(i).call(i,a)}}}}const yc=["bold","ital","boldital","mono"];class $l{constructor(e,r){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;this.body=e,this.pointToSelf=!1,this.baseSize=void 0,this.fontOptions={},this.setOptions(r),this.size={top:0,left:0,width:0,height:0,yLine:0},this.isEdgeLabel=n}setOptions(e){if(this.elementOptions=e,this.initFontOptions(e.font),gp(e.label)?this.labelDirty=!0:e.label=void 0,e.font!==void 0&&e.font!==null){if(typeof e.font=="string")this.baseSize=this.fontOptions.size;else if(typeof e.font=="object"){const r=e.font.size;r!==void 0&&(this.baseSize=r)}}}initFontOptions(e){if($e(yc,r=>{this.fontOptions[r]={}}),$l.parseFontString(this.fontOptions,e)){this.fontOptions.vadjust=0;return}$e(e,(r,n)=>{r!=null&&typeof r!="object"&&(this.fontOptions[n]=r)})}static parseFontString(e,r){if(!r||typeof r!="string")return!1;const n=r.split(" ");return e.size=+n[0].replace("px",""),e.face=n[1],e.color=n[2],!0}constrain(e){const r={constrainWidth:!1,maxWdt:-1,minWdt:-1,constrainHeight:!1,minHgt:-1,valign:"middle"},n=Ps(e,"widthConstraint");if(typeof n=="number")r.maxWdt=Number(n),r.minWdt=Number(n);else if(typeof n=="object"){const s=Ps(e,["widthConstraint","maximum"]);typeof s=="number"&&(r.maxWdt=Number(s));const a=Ps(e,["widthConstraint","minimum"]);typeof a=="number"&&(r.minWdt=Number(a))}const i=Ps(e,"heightConstraint");if(typeof i=="number")r.minHgt=Number(i);else if(typeof i=="object"){const s=Ps(e,["heightConstraint","minimum"]);typeof s=="number"&&(r.minHgt=Number(s));const a=Ps(e,["heightConstraint","valign"]);typeof a=="string"&&(a==="top"||a==="bottom")&&(r.valign=a)}return r}update(e,r){this.setOptions(e,!0),this.propagateFonts(r),lt(this.fontOptions,this.constrain(r)),this.fontOptions.chooser=HC("label",r)}adjustSizes(e){const r=e?e.right+e.left:0;this.fontOptions.constrainWidth&&(this.fontOptions.maxWdt-=r,this.fontOptions.minWdt-=r);const n=e?e.top+e.bottom:0;this.fontOptions.constrainHeight&&(this.fontOptions.minHgt-=n)}addFontOptionsToPile(e,r){for(let n=0;n<r.length;++n)this.addFontToPile(e,r[n])}addFontToPile(e,r){if(r===void 0||r.font===void 0||r.font===null)return;const n=r.font;e.push(n)}getBasicOptions(e){const r={};for(let n=0;n<e.length;++n){let i=e[n];const s={};$l.parseFontString(s,i)&&(i=s),$e(i,(a,o)=>{a!==void 0&&(Object.prototype.hasOwnProperty.call(r,o)||(Ye(yc).call(yc,o)!==-1?r[o]={}:r[o]=a))})}return r}getFontOption(e,r,n){let i;for(let s=0;s<e.length;++s){const a=e[s];if(Object.prototype.hasOwnProperty.call(a,r)){if(i=a[r],i==null)continue;const o={};if($l.parseFontString(o,i)&&(i=o),Object.prototype.hasOwnProperty.call(i,n))return i[n]}}if(Object.prototype.hasOwnProperty.call(this.fontOptions,n))return this.fontOptions[n];throw new Error("Did not find value for multi-font for property: '"+n+"'")}getFontOptions(e,r){const n={},i=["color","size","face","mod","vadjust"];for(let s=0;s<i.length;++s){const a=i[s];n[a]=this.getFontOption(e,r,a)}return n}propagateFonts(e){const r=[];this.addFontOptionsToPile(r,e),this.fontOptions=this.getBasicOptions(r);for(let n=0;n<yc.length;++n){const i=yc[n],s=this.fontOptions[i],a=this.getFontOptions(r,i);$e(a,(o,l)=>{s[l]=o}),s.size=Number(s.size),s.vadjust=Number(s.vadjust)}}draw(e,r,n,i,s){let a=arguments.length>5&&arguments[5]!==void 0?arguments[5]:"middle";if(this.elementOptions.label===void 0)return;let o=this.fontOptions.size*this.body.view.scale;this.elementOptions.label&&o<this.elementOptions.scaling.label.drawThreshold-1||(o>=this.elementOptions.scaling.label.maxVisible&&(o=Number(this.elementOptions.scaling.label.maxVisible)/this.body.view.scale),this.calculateLabelSize(e,i,s,r,n,a),this._drawBackground(e),this._drawText(e,r,this.size.yLine,a,o))}_drawBackground(e){if(this.fontOptions.background!==void 0&&this.fontOptions.background!=="none"){e.fillStyle=this.fontOptions.background;const r=this.getSize();e.fillRect(r.left,r.top,r.width,r.height)}}_drawText(e,r,n){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"middle",s=arguments.length>4?arguments[4]:void 0;[r,n]=this._setAlignment(e,r,n,i),e.textAlign="left",r=r-this.size.width/2,this.fontOptions.valign&&this.size.height>this.size.labelHeight&&(this.fontOptions.valign==="top"&&(n-=(this.size.height-this.size.labelHeight)/2),this.fontOptions.valign==="bottom"&&(n+=(this.size.height-this.size.labelHeight)/2));for(let a=0;a<this.lineCount;a++){const o=this.lines[a];if(o&&o.blocks){let l=0;this.isEdgeLabel||this.fontOptions.align==="center"?l+=(this.size.width-o.width)/2:this.fontOptions.align==="right"&&(l+=this.size.width-o.width);for(let c=0;c<o.blocks.length;c++){const d=o.blocks[c];e.font=d.font;const[h,f]=this._getColor(d.color,s,d.strokeColor);d.strokeWidth>0&&(e.lineWidth=d.strokeWidth,e.strokeStyle=f,e.lineJoin="round"),e.fillStyle=h,d.strokeWidth>0&&e.strokeText(d.text,r+l,n+d.vadjust),e.fillText(d.text,r+l,n+d.vadjust),l+=d.width}n+=o.height}}}_setAlignment(e,r,n,i){if(this.isEdgeLabel&&this.fontOptions.align!=="horizontal"&&this.pointToSelf===!1){r=0,n=0;const s=2;this.fontOptions.align==="top"?(e.textBaseline="alphabetic",n-=2*s):this.fontOptions.align==="bottom"?(e.textBaseline="hanging",n+=2*s):e.textBaseline="middle"}else e.textBaseline=i;return[r,n]}_getColor(e,r,n){let i=e||"#000000",s=n||"#ffffff";if(r<=this.elementOptions.scaling.label.drawThreshold){const a=Math.max(0,Math.min(1,1-(this.elementOptions.scaling.label.drawThreshold-r)));i=Rn(i,a),s=Rn(s,a)}return[i,s]}getTextSize(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;return this._processLabel(e,r,n),{width:this.size.width,height:this.size.height,lineCount:this.lineCount}}getSize(){let r=this.size.left,n=this.size.top-.5*2;if(this.isEdgeLabel){const s=-this.size.width*.5;switch(this.fontOptions.align){case"middle":r=s,n=-this.size.height*.5;break;case"top":r=s,n=-(this.size.height+2);break;case"bottom":r=s,n=2;break}}return{left:r,top:n,width:this.size.width,height:this.size.height}}calculateLabelSize(e,r,n){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0,a=arguments.length>5&&arguments[5]!==void 0?arguments[5]:"middle";this._processLabel(e,r,n),this.size.left=i-this.size.width*.5,this.size.top=s-this.size.height*.5,this.size.yLine=s+(1-this.lineCount)*.5*this.fontOptions.size,a==="hanging"&&(this.size.top+=.5*this.fontOptions.size,this.size.top+=4,this.size.yLine+=4)}getFormattingValues(e,r,n,i){const s=function(l,c,d){return c==="normal"?d==="mod"?"":l[d]:l[c][d]!==void 0?l[c][d]:l[d]},a={color:s(this.fontOptions,i,"color"),size:s(this.fontOptions,i,"size"),face:s(this.fontOptions,i,"face"),mod:s(this.fontOptions,i,"mod"),vadjust:s(this.fontOptions,i,"vadjust"),strokeWidth:this.fontOptions.strokeWidth,strokeColor:this.fontOptions.strokeColor};(r||n)&&(i==="normal"&&this.fontOptions.chooser===!0&&this.elementOptions.labelHighlightBold?a.mod="bold":typeof this.fontOptions.chooser=="function"&&this.fontOptions.chooser(a,this.elementOptions.id,r,n));let o="";return a.mod!==void 0&&a.mod!==""&&(o+=a.mod+" "),o+=a.size+"px "+a.face,e.font=o.replace(/"/g,""),a.font=e.font,a.height=a.size,a}differentState(e,r){return e!==this.selectedState||r!==this.hoverState}_processLabelText(e,r,n,i){return new Hge(e,this,r,n).process(i)}_processLabel(e,r,n){if(this.labelDirty===!1&&!this.differentState(r,n))return;const i=this._processLabelText(e,r,n,this.elementOptions.label);this.fontOptions.minWdt>0&&i.width<this.fontOptions.minWdt&&(i.width=this.fontOptions.minWdt),this.size.labelHeight=i.height,this.fontOptions.minHgt>0&&i.height<this.fontOptions.minHgt&&(i.height=this.fontOptions.minHgt),this.lines=i.lines,this.lineCount=i.lines.length,this.size.width=i.width,this.size.height=i.height,this.selectedState=r,this.hoverState=n,this.labelDirty=!1}visible(){return!(this.size.width===0||this.size.height===0||this.elementOptions.label===void 0||this.fontOptions.size*this.body.view.scale<this.elementOptions.scaling.label.drawThreshold-1)}}class Ho{constructor(e,r,n){this.body=r,this.labelModule=n,this.setOptions(e),this.top=void 0,this.left=void 0,this.height=void 0,this.width=void 0,this.radius=void 0,this.margin=void 0,this.refreshNeeded=!0,this.boundingBox={top:0,left:0,right:0,bottom:0}}setOptions(e){this.options=e}_setMargins(e){this.margin={},this.options.margin&&(typeof this.options.margin=="object"?(this.margin.top=this.options.margin.top,this.margin.right=this.options.margin.right,this.margin.bottom=this.options.margin.bottom,this.margin.left=this.options.margin.left):(this.margin.top=this.options.margin,this.margin.right=this.options.margin,this.margin.bottom=this.options.margin,this.margin.left=this.options.margin)),e.adjustSizes(this.margin)}_distanceToBorder(e,r){const n=this.options.borderWidth;return e&&this.resize(e),Math.min(Math.abs(this.width/2/Math.cos(r)),Math.abs(this.height/2/Math.sin(r)))+n}enableShadow(e,r){r.shadow&&(e.shadowColor=r.shadowColor,e.shadowBlur=r.shadowSize,e.shadowOffsetX=r.shadowX,e.shadowOffsetY=r.shadowY)}disableShadow(e,r){r.shadow&&(e.shadowColor="rgba(0,0,0,0)",e.shadowBlur=0,e.shadowOffsetX=0,e.shadowOffsetY=0)}enableBorderDashes(e,r){if(r.borderDashes!==!1)if(e.setLineDash!==void 0){let n=r.borderDashes;n===!0&&(n=[5,15]),e.setLineDash(n)}else console.warn("setLineDash is not supported in this browser. The dashed borders cannot be used."),this.options.shapeProperties.borderDashes=!1,r.borderDashes=!1}disableBorderDashes(e,r){r.borderDashes!==!1&&(e.setLineDash!==void 0?e.setLineDash([0]):(console.warn("setLineDash is not supported in this browser. The dashed borders cannot be used."),this.options.shapeProperties.borderDashes=!1,r.borderDashes=!1))}needsRefresh(e,r){return this.refreshNeeded===!0?(this.refreshNeeded=!1,!0):this.width===void 0||this.labelModule.differentState(e,r)}initContextForDraw(e,r){const n=r.borderWidth/this.body.view.scale;e.lineWidth=Math.min(this.width,n),e.strokeStyle=r.borderColor,e.fillStyle=r.color}performStroke(e,r){const n=r.borderWidth/this.body.view.scale;e.save(),n>0&&(this.enableBorderDashes(e,r),e.stroke(),this.disableBorderDashes(e,r)),e.restore()}performFill(e,r){e.save(),e.fillStyle=r.color,this.enableShadow(e,r),vh(e).call(e),this.disableShadow(e,r),e.restore(),this.performStroke(e,r)}_addBoundingBoxMargin(e){this.boundingBox.left-=e,this.boundingBox.top-=e,this.boundingBox.bottom+=e,this.boundingBox.right+=e}_updateBoundingBox(e,r,n,i,s){n!==void 0&&this.resize(n,i,s),this.left=e-this.width/2,this.top=r-this.height/2,this.boundingBox.left=this.left,this.boundingBox.top=this.top,this.boundingBox.bottom=this.top+this.height,this.boundingBox.right=this.left+this.width}updateBoundingBox(e,r,n,i,s){this._updateBoundingBox(e,r,n,i,s)}getDimensionsFromLabel(e,r,n){this.textSize=this.labelModule.getTextSize(e,r,n);let i=this.textSize.width,s=this.textSize.height;const a=14;return i===0&&(i=a,s=a),{width:i,height:s}}}let Kge=class extends Ho{constructor(e,r,n){super(e,r,n),this._setMargins(n)}resize(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.selected,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.hover;if(this.needsRefresh(r,n)){const i=this.getDimensionsFromLabel(e,r,n);this.width=i.width+this.margin.right+this.margin.left,this.height=i.height+this.margin.top+this.margin.bottom,this.radius=this.width/2}}draw(e,r,n,i,s,a){this.resize(e,i,s),this.left=r-this.width/2,this.top=n-this.height/2,this.initContextForDraw(e,a),fG(e,this.left,this.top,this.width,this.height,a.borderRadius),this.performFill(e,a),this.updateBoundingBox(r,n,e,i,s),this.labelModule.draw(e,this.left+this.textSize.width/2+this.margin.left,this.top+this.textSize.height/2+this.margin.top,i,s)}updateBoundingBox(e,r,n,i,s){this._updateBoundingBox(e,r,n,i,s);const a=this.options.shapeProperties.borderRadius;this._addBoundingBoxMargin(a)}distanceToBorder(e,r){e&&this.resize(e);const n=this.options.borderWidth;return Math.min(Math.abs(this.width/2/Math.cos(r)),Math.abs(this.height/2/Math.sin(r)))+n}};class KC extends Ho{constructor(e,r,n){super(e,r,n),this.labelOffset=0,this.selected=!1}setOptions(e,r,n){this.options=e,r===void 0&&n===void 0||this.setImages(r,n)}setImages(e,r){r&&this.selected?(this.imageObj=r,this.imageObjAlt=e):(this.imageObj=e,this.imageObjAlt=r)}switchImages(e){const r=e&&!this.selected||!e&&this.selected;if(this.selected=e,this.imageObjAlt!==void 0&&r){const n=this.imageObj;this.imageObj=this.imageObjAlt,this.imageObjAlt=n}}_getImagePadding(){const e={top:0,right:0,bottom:0,left:0};if(this.options.imagePadding){const r=this.options.imagePadding;typeof r=="object"?(e.top=r.top,e.right=r.right,e.bottom=r.bottom,e.left=r.left):(e.top=r,e.right=r,e.bottom=r,e.left=r)}return e}_resizeImage(){let e,r;if(this.options.shapeProperties.useImageSize===!1){let n=1,i=1;this.imageObj.width&&this.imageObj.height&&(this.imageObj.width>this.imageObj.height?n=this.imageObj.width/this.imageObj.height:i=this.imageObj.height/this.imageObj.width),e=this.options.size*2*n,r=this.options.size*2*i}else{const n=this._getImagePadding();e=this.imageObj.width+n.left+n.right,r=this.imageObj.height+n.top+n.bottom}this.width=e,this.height=r,this.radius=.5*this.width}_drawRawCircle(e,r,n,i){this.initContextForDraw(e,i),wC(e,r,n,i.size),this.performFill(e,i)}_drawImageAtPosition(e,r){if(this.imageObj.width!=0){e.globalAlpha=r.opacity!==void 0?r.opacity:1,this.enableShadow(e,r);let n=1;this.options.shapeProperties.interpolation===!0&&(n=this.imageObj.width/this.width/this.body.view.scale);const i=this._getImagePadding(),s=this.left+i.left,a=this.top+i.top,o=this.width-i.left-i.right,l=this.height-i.top-i.bottom;this.imageObj.drawImageAtPosition(e,n,s,a,o,l),this.disableShadow(e,r)}}_drawImageLabel(e,r,n,i,s){let a=0;if(this.height!==void 0){a=this.height*.5;const l=this.labelModule.getTextSize(e,i,s);l.lineCount>=1&&(a+=l.height/2)}const o=n+a;this.options.label&&(this.labelOffset=a),this.labelModule.draw(e,r,o,i,s,"hanging")}}let Gge=class extends KC{constructor(e,r,n){super(e,r,n),this._setMargins(n)}resize(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.selected,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.hover;if(this.needsRefresh(r,n)){const i=this.getDimensionsFromLabel(e,r,n),s=Math.max(i.width+this.margin.right+this.margin.left,i.height+this.margin.top+this.margin.bottom);this.options.size=s/2,this.width=s,this.height=s,this.radius=this.width/2}}draw(e,r,n,i,s,a){this.resize(e,i,s),this.left=r-this.width/2,this.top=n-this.height/2,this._drawRawCircle(e,r,n,a),this.updateBoundingBox(r,n),this.labelModule.draw(e,this.left+this.textSize.width/2+this.margin.left,n,i,s)}updateBoundingBox(e,r){this.boundingBox.top=r-this.options.size,this.boundingBox.left=e-this.options.size,this.boundingBox.right=e+this.options.size,this.boundingBox.bottom=r+this.options.size}distanceToBorder(e){return e&&this.resize(e),this.width*.5}};class Yge extends KC{constructor(e,r,n,i,s){super(e,r,n),this.setImages(i,s)}resize(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.selected,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.hover;if(this.imageObj.src===void 0||this.imageObj.width===void 0||this.imageObj.height===void 0){const s=this.options.size*2;this.width=s,this.height=s,this.radius=.5*this.width;return}this.needsRefresh(r,n)&&this._resizeImage()}draw(e,r,n,i,s,a){this.switchImages(i),this.resize();let o=r,l=n;this.options.shapeProperties.coordinateOrigin==="top-left"?(this.left=r,this.top=n,o+=this.width/2,l+=this.height/2):(this.left=r-this.width/2,this.top=n-this.height/2),this._drawRawCircle(e,o,l,a),e.save(),e.clip(),this._drawImageAtPosition(e,a),e.restore(),this._drawImageLabel(e,o,l,i,s),this.updateBoundingBox(r,n)}updateBoundingBox(e,r){this.options.shapeProperties.coordinateOrigin==="top-left"?(this.boundingBox.top=r,this.boundingBox.left=e,this.boundingBox.right=e+this.options.size*2,this.boundingBox.bottom=r+this.options.size*2):(this.boundingBox.top=r-this.options.size,this.boundingBox.left=e-this.options.size,this.boundingBox.right=e+this.options.size,this.boundingBox.bottom=r+this.options.size),this.boundingBox.left=Math.min(this.boundingBox.left,this.labelModule.size.left),this.boundingBox.right=Math.max(this.boundingBox.right,this.labelModule.size.left+this.labelModule.size.width),this.boundingBox.bottom=Math.max(this.boundingBox.bottom,this.boundingBox.bottom+this.labelOffset)}distanceToBorder(e){return e&&this.resize(e),this.width*.5}}class Na extends Ho{constructor(e,r,n){super(e,r,n)}resize(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.selected,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.hover,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{size:this.options.size};if(this.needsRefresh(r,n)){var s,a;this.labelModule.getTextSize(e,r,n);const o=2*i.size;this.width=(s=this.customSizeWidth)!==null&&s!==void 0?s:o,this.height=(a=this.customSizeHeight)!==null&&a!==void 0?a:o,this.radius=.5*this.width}}_drawShape(e,r,n,i,s,a,o,l){return this.resize(e,a,o,l),this.left=i-this.width/2,this.top=s-this.height/2,this.initContextForDraw(e,l),dde(r)(e,i,s,l.size),this.performFill(e,l),this.options.icon!==void 0&&this.options.icon.code!==void 0&&(e.font=(a?"bold ":"")+this.height/2+"px "+(this.options.icon.face||"FontAwesome"),e.fillStyle=this.options.icon.color||"black",e.textAlign="center",e.textBaseline="middle",e.fillText(this.options.icon.code,i,s)),{drawExternalLabel:()=>{if(this.options.label!==void 0){this.labelModule.calculateLabelSize(e,a,o,i,s,"hanging");const c=s+.5*this.height+.5*this.labelModule.size.height;this.labelModule.draw(e,i,c,a,o,"hanging")}this.updateBoundingBox(i,s)}}}updateBoundingBox(e,r){this.boundingBox.top=r-this.options.size,this.boundingBox.left=e-this.options.size,this.boundingBox.right=e+this.options.size,this.boundingBox.bottom=r+this.options.size,this.options.label!==void 0&&this.labelModule.size.width>0&&(this.boundingBox.left=Math.min(this.boundingBox.left,this.labelModule.size.left),this.boundingBox.right=Math.max(this.boundingBox.right,this.labelModule.size.left+this.labelModule.size.width),this.boundingBox.bottom=Math.max(this.boundingBox.bottom,this.boundingBox.bottom+this.labelModule.size.height))}}function u7(t,e){var r=Tt(t);if(pa){var n=pa(t);e&&(n=Xr(n).call(n,function(i){return Oa(t,i).enumerable})),r.push.apply(r,n)}return r}function Qge(t){for(var e=1;e<arguments.length;e++){var r,n,i=arguments[e]!=null?arguments[e]:{};e%2?it(r=u7(Object(i),!0)).call(r,function(s){Ki(t,s,i[s])}):ma?Nm(t,ma(i)):it(n=u7(Object(i))).call(n,function(s){Pm(t,s,Oa(i,s))})}return t}class Xge extends Na{constructor(e,r,n,i){super(e,r,n,i),this.ctxRenderer=i}draw(e,r,n,i,s,a){this.resize(e,i,s,a),this.left=r-this.width/2,this.top=n-this.height/2,e.save();const o=this.ctxRenderer({ctx:e,id:this.options.id,x:r,y:n,state:{selected:i,hover:s},style:Qge({},a),label:this.options.label});if(o.drawNode!=null&&o.drawNode(),e.restore(),o.drawExternalLabel){const l=o.drawExternalLabel;o.drawExternalLabel=()=>{e.save(),l(),e.restore()}}return o.nodeDimensions&&(this.customSizeWidth=o.nodeDimensions.width,this.customSizeHeight=o.nodeDimensions.height),o}distanceToBorder(e,r){return this._distanceToBorder(e,r)}}class Jge extends Ho{constructor(e,r,n){super(e,r,n),this._setMargins(n)}resize(e,r,n){if(this.needsRefresh(r,n)){const s=this.getDimensionsFromLabel(e,r,n).width+this.margin.right+this.margin.left;this.width=s,this.height=s,this.radius=this.width/2}}draw(e,r,n,i,s,a){this.resize(e,i,s),this.left=r-this.width/2,this.top=n-this.height/2,this.initContextForDraw(e,a),pG(e,r-this.width/2,n-this.height/2,this.width,this.height),this.performFill(e,a),this.updateBoundingBox(r,n,e,i,s),this.labelModule.draw(e,this.left+this.textSize.width/2+this.margin.left,this.top+this.textSize.height/2+this.margin.top,i,s)}distanceToBorder(e,r){return this._distanceToBorder(e,r)}}let Zge=class extends Na{constructor(e,r,n){super(e,r,n)}draw(e,r,n,i,s,a){return this._drawShape(e,"diamond",4,r,n,i,s,a)}distanceToBorder(e,r){return this._distanceToBorder(e,r)}};class eye extends Na{constructor(e,r,n){super(e,r,n)}draw(e,r,n,i,s,a){return this._drawShape(e,"circle",2,r,n,i,s,a)}distanceToBorder(e){return e&&this.resize(e),this.options.size}}class c7 extends Ho{constructor(e,r,n){super(e,r,n)}resize(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.selected,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.hover;if(this.needsRefresh(r,n)){const i=this.getDimensionsFromLabel(e,r,n);this.height=i.height*2,this.width=i.width+i.height,this.radius=.5*this.width}}draw(e,r,n,i,s,a){this.resize(e,i,s),this.left=r-this.width*.5,this.top=n-this.height*.5,this.initContextForDraw(e,a),fN(e,this.left,this.top,this.width,this.height),this.performFill(e,a),this.updateBoundingBox(r,n,e,i,s),this.labelModule.draw(e,r,n,i,s)}distanceToBorder(e,r){e&&this.resize(e);const n=this.width*.5,i=this.height*.5,s=Math.sin(r)*n,a=Math.cos(r)*i;return n*i/Math.sqrt(s*s+a*a)}}class tye extends Ho{constructor(e,r,n){super(e,r,n),this._setMargins(n)}resize(e,r,n){this.needsRefresh(r,n)&&(this.iconSize={width:Number(this.options.icon.size),height:Number(this.options.icon.size)},this.width=this.iconSize.width+this.margin.right+this.margin.left,this.height=this.iconSize.height+this.margin.top+this.margin.bottom,this.radius=.5*this.width)}draw(e,r,n,i,s,a){return this.resize(e,i,s),this.options.icon.size=this.options.icon.size||50,this.left=r-this.width/2,this.top=n-this.height/2,this._icon(e,r,n,i,s,a),{drawExternalLabel:()=>{this.options.label!==void 0&&this.labelModule.draw(e,this.left+this.iconSize.width/2+this.margin.left,n+this.height/2+5,i),this.updateBoundingBox(r,n)}}}updateBoundingBox(e,r){this.boundingBox.top=r-this.options.icon.size*.5,this.boundingBox.left=e-this.options.icon.size*.5,this.boundingBox.right=e+this.options.icon.size*.5,this.boundingBox.bottom=r+this.options.icon.size*.5,this.options.label!==void 0&&this.labelModule.size.width>0&&(this.boundingBox.left=Math.min(this.boundingBox.left,this.labelModule.size.left),this.boundingBox.right=Math.max(this.boundingBox.right,this.labelModule.size.left+this.labelModule.size.width),this.boundingBox.bottom=Math.max(this.boundingBox.bottom,this.boundingBox.bottom+this.labelModule.size.height+5))}_icon(e,r,n,i,s,a){const o=Number(this.options.icon.size);this.options.icon.code!==void 0?(e.font=[this.options.icon.weight!=null?this.options.icon.weight:i?"bold":"",(this.options.icon.weight!=null&&i?5:0)+o+"px",this.options.icon.face].join(" "),e.fillStyle=this.options.icon.color||"black",e.textAlign="center",e.textBaseline="middle",this.enableShadow(e,a),e.fillText(this.options.icon.code,r,n),this.disableShadow(e,a)):console.error("When using the icon shape, you need to define the code in the icon options object. This can be done per node or globally.")}distanceToBorder(e,r){return this._distanceToBorder(e,r)}}let rye=class extends KC{constructor(e,r,n,i,s){super(e,r,n),this.setImages(i,s)}resize(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.selected,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.hover;if(this.imageObj.src===void 0||this.imageObj.width===void 0||this.imageObj.height===void 0){const s=this.options.size*2;this.width=s,this.height=s;return}this.needsRefresh(r,n)&&this._resizeImage()}draw(e,r,n,i,s,a){e.save(),this.switchImages(i),this.resize();let o=r,l=n;if(this.options.shapeProperties.coordinateOrigin==="top-left"?(this.left=r,this.top=n,o+=this.width/2,l+=this.height/2):(this.left=r-this.width/2,this.top=n-this.height/2),this.options.shapeProperties.useBorderWithImage===!0){const c=this.options.borderWidth,d=this.options.borderWidthSelected||2*this.options.borderWidth,h=(i?d:c)/this.body.view.scale;e.lineWidth=Math.min(this.width,h),e.beginPath();let f=i?this.options.color.highlight.border:s?this.options.color.hover.border:this.options.color.border,p=i?this.options.color.highlight.background:s?this.options.color.hover.background:this.options.color.background;a.opacity!==void 0&&(f=Rn(f,a.opacity),p=Rn(p,a.opacity)),e.strokeStyle=f,e.fillStyle=p,e.rect(this.left-.5*e.lineWidth,this.top-.5*e.lineWidth,this.width+e.lineWidth,this.height+e.lineWidth),vh(e).call(e),this.performStroke(e,a),e.closePath()}this._drawImageAtPosition(e,a),this._drawImageLabel(e,o,l,i,s),this.updateBoundingBox(r,n),e.restore()}updateBoundingBox(e,r){this.resize(),this.options.shapeProperties.coordinateOrigin==="top-left"?(this.left=e,this.top=r):(this.left=e-this.width/2,this.top=r-this.height/2),this.boundingBox.left=this.left,this.boundingBox.top=this.top,this.boundingBox.bottom=this.top+this.height,this.boundingBox.right=this.left+this.width,this.options.label!==void 0&&this.labelModule.size.width>0&&(this.boundingBox.left=Math.min(this.boundingBox.left,this.labelModule.size.left),this.boundingBox.right=Math.max(this.boundingBox.right,this.labelModule.size.left+this.labelModule.size.width),this.boundingBox.bottom=Math.max(this.boundingBox.bottom,this.boundingBox.bottom+this.labelOffset))}distanceToBorder(e,r){return this._distanceToBorder(e,r)}};class nye extends Na{constructor(e,r,n){super(e,r,n)}draw(e,r,n,i,s,a){return this._drawShape(e,"square",2,r,n,i,s,a)}distanceToBorder(e,r){return this._distanceToBorder(e,r)}}class iye extends Na{constructor(e,r,n){super(e,r,n)}draw(e,r,n,i,s,a){return this._drawShape(e,"hexagon",4,r,n,i,s,a)}distanceToBorder(e,r){return this._distanceToBorder(e,r)}}class sye extends Na{constructor(e,r,n){super(e,r,n)}draw(e,r,n,i,s,a){return this._drawShape(e,"star",4,r,n,i,s,a)}distanceToBorder(e,r){return this._distanceToBorder(e,r)}}class aye extends Ho{constructor(e,r,n){super(e,r,n),this._setMargins(n)}resize(e,r,n){this.needsRefresh(r,n)&&(this.textSize=this.labelModule.getTextSize(e,r,n),this.width=this.textSize.width+this.margin.right+this.margin.left,this.height=this.textSize.height+this.margin.top+this.margin.bottom,this.radius=.5*this.width)}draw(e,r,n,i,s,a){this.resize(e,i,s),this.left=r-this.width/2,this.top=n-this.height/2,this.enableShadow(e,a),this.labelModule.draw(e,this.left+this.textSize.width/2+this.margin.left,this.top+this.textSize.height/2+this.margin.top,i,s),this.disableShadow(e,a),this.updateBoundingBox(r,n,e,i,s)}distanceToBorder(e,r){return this._distanceToBorder(e,r)}}let oye=class extends Na{constructor(e,r,n){super(e,r,n)}draw(e,r,n,i,s,a){return this._drawShape(e,"triangle",3,r,n,i,s,a)}distanceToBorder(e,r){return this._distanceToBorder(e,r)}};class lye extends Na{constructor(e,r,n){super(e,r,n)}draw(e,r,n,i,s,a){return this._drawShape(e,"triangleDown",3,r,n,i,s,a)}distanceToBorder(e,r){return this._distanceToBorder(e,r)}}function d7(t,e){var r=Tt(t);if(pa){var n=pa(t);e&&(n=Xr(n).call(n,function(i){return Oa(t,i).enumerable})),r.push.apply(r,n)}return r}function h7(t){for(var e=1;e<arguments.length;e++){var r,n,i=arguments[e]!=null?arguments[e]:{};e%2?it(r=d7(Object(i),!0)).call(r,function(s){Ki(t,s,i[s])}):ma?Nm(t,ma(i)):it(n=d7(Object(i))).call(n,function(s){Pm(t,s,Oa(i,s))})}return t}class pt{constructor(e,r,n,i,s,a){this.options=aa(s),this.globalOptions=s,this.defaultOptions=a,this.body=r,this.edges=[],this.id=void 0,this.imagelist=n,this.grouplist=i,this.x=void 0,this.y=void 0,this.baseSize=this.options.size,this.baseFontSize=this.options.font.size,this.predefinedPosition=!1,this.selected=!1,this.hover=!1,this.labelModule=new $l(this.body,this.options,!1),this.setOptions(e)}attachEdge(e){var r;Ye(r=this.edges).call(r,e)===-1&&this.edges.push(e)}detachEdge(e){var r;const n=Ye(r=this.edges).call(r,e);if(n!=-1){var i;Zi(i=this.edges).call(i,n,1)}}setOptions(e){const r=this.options.shape;if(!e)return;if(typeof e.color<"u"&&(this._localColor=e.color),e.id!==void 0&&(this.id=e.id),this.id===void 0)throw new Error("Node must have an id");pt.checkMass(e,this.id),e.x!==void 0&&(e.x===null?(this.x=void 0,this.predefinedPosition=!1):(this.x=Zn(e.x),this.predefinedPosition=!0)),e.y!==void 0&&(e.y===null?(this.y=void 0,this.predefinedPosition=!1):(this.y=Zn(e.y),this.predefinedPosition=!0)),e.size!==void 0&&(this.baseSize=e.size),e.value!==void 0&&(e.value=NY(e.value)),pt.parseOptions(this.options,e,!0,this.globalOptions,this.grouplist);const n=[e,this.options,this.defaultOptions];return this.chooser=HC("node",n),this._load_images(),this.updateLabelModule(e),e.opacity!==void 0&&pt.checkOpacity(e.opacity)&&(this.options.opacity=e.opacity),this.updateShape(r),e.hidden!==void 0||e.physics!==void 0}_load_images(){if((this.options.shape==="circularImage"||this.options.shape==="image")&&this.options.image===void 0)throw new Error("Option image must be defined for node type '"+this.options.shape+"'");if(this.options.image!==void 0){if(this.imagelist===void 0)throw new Error("Internal Error: No images provided");if(typeof this.options.image=="string")this.imageObj=this.imagelist.load(this.options.image,this.options.brokenImage,this.id);else{if(this.options.image.unselected===void 0)throw new Error("No unselected image provided");this.imageObj=this.imagelist.load(this.options.image.unselected,this.options.brokenImage,this.id),this.options.image.selected!==void 0?this.imageObjAlt=this.imagelist.load(this.options.image.selected,this.options.brokenImage,this.id):this.imageObjAlt=void 0}}}static checkOpacity(e){return 0<=e&&e<=1}static checkCoordinateOrigin(e){return e===void 0||e==="center"||e==="top-left"}static updateGroupOptions(e,r,n){var i;if(n===void 0)return;const s=e.group;if(r!==void 0&&r.group!==void 0&&s!==r.group)throw new Error("updateGroupOptions: group values in options don't match.");if(!(typeof s=="number"||typeof s=="string"&&s!=""))return;const o=n.get(s);o.opacity!==void 0&&r.opacity===void 0&&(pt.checkOpacity(o.opacity)||(console.error("Invalid option for node opacity. Value must be between 0 and 1, found: "+o.opacity),o.opacity=void 0));const l=Xr(i=gge(r)).call(i,c=>r[c]!=null);l.push("font"),mp(l,e,o),e.color=yN(e.color)}static parseOptions(e,r){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},s=arguments.length>4?arguments[4]:void 0;if(mp(["color","fixed","shadow"],e,r,n),pt.checkMass(r),e.opacity!==void 0&&(pt.checkOpacity(e.opacity)||(console.error("Invalid option for node opacity. Value must be between 0 and 1, found: "+e.opacity),e.opacity=void 0)),r.opacity!==void 0&&(pt.checkOpacity(r.opacity)||(console.error("Invalid option for node opacity. Value must be between 0 and 1, found: "+r.opacity),r.opacity=void 0)),r.shapeProperties&&!pt.checkCoordinateOrigin(r.shapeProperties.coordinateOrigin)&&console.error("Invalid option for node coordinateOrigin, found: "+r.shapeProperties.coordinateOrigin),Tn(e,r,"shadow",i),r.color!==void 0&&r.color!==null){const o=yN(r.color);oY(e.color,o)}else n===!0&&r.color===null&&(e.color=aa(i.color));r.fixed!==void 0&&r.fixed!==null&&(typeof r.fixed=="boolean"?(e.fixed.x=r.fixed,e.fixed.y=r.fixed):(r.fixed.x!==void 0&&typeof r.fixed.x=="boolean"&&(e.fixed.x=r.fixed.x),r.fixed.y!==void 0&&typeof r.fixed.y=="boolean"&&(e.fixed.y=r.fixed.y))),n===!0&&r.font===null&&(e.font=aa(i.font)),pt.updateGroupOptions(e,r,s),r.scaling!==void 0&&Tn(e.scaling,r.scaling,"label",i.scaling)}getFormattingValues(){const e={color:this.options.color.background,opacity:this.options.opacity,borderWidth:this.options.borderWidth,borderColor:this.options.color.border,size:this.options.size,borderDashes:this.options.shapeProperties.borderDashes,borderRadius:this.options.shapeProperties.borderRadius,shadow:this.options.shadow.enabled,shadowColor:this.options.shadow.color,shadowSize:this.options.shadow.size,shadowX:this.options.shadow.x,shadowY:this.options.shadow.y};if(this.selected||this.hover?this.chooser===!0?this.selected?(this.options.borderWidthSelected!=null?e.borderWidth=this.options.borderWidthSelected:e.borderWidth*=2,e.color=this.options.color.highlight.background,e.borderColor=this.options.color.highlight.border,e.shadow=this.options.shadow.enabled):this.hover&&(e.color=this.options.color.hover.background,e.borderColor=this.options.color.hover.border,e.shadow=this.options.shadow.enabled):typeof this.chooser=="function"&&(this.chooser(e,this.options.id,this.selected,this.hover),e.shadow===!1&&(e.shadowColor!==this.options.shadow.color||e.shadowSize!==this.options.shadow.size||e.shadowX!==this.options.shadow.x||e.shadowY!==this.options.shadow.y)&&(e.shadow=!0)):e.shadow=this.options.shadow.enabled,this.options.opacity!==void 0){const r=this.options.opacity;e.borderColor=Rn(e.borderColor,r),e.color=Rn(e.color,r),e.shadowColor=Rn(e.shadowColor,r)}return e}updateLabelModule(e){(this.options.label===void 0||this.options.label===null)&&(this.options.label=""),pt.updateGroupOptions(this.options,h7(h7({},e),{},{color:e&&e.color||this._localColor||void 0}),this.grouplist);const r=this.grouplist.get(this.options.group,!1),n=[e,this.options,r,this.globalOptions,this.defaultOptions];this.labelModule.update(this.options,n),this.labelModule.baseSize!==void 0&&(this.baseFontSize=this.labelModule.baseSize)}updateShape(e){if(e===this.options.shape&&this.shape)this.shape.setOptions(this.options,this.imageObj,this.imageObjAlt);else switch(this.options.shape){case"box":this.shape=new Kge(this.options,this.body,this.labelModule);break;case"circle":this.shape=new Gge(this.options,this.body,this.labelModule);break;case"circularImage":this.shape=new Yge(this.options,this.body,this.labelModule,this.imageObj,this.imageObjAlt);break;case"custom":this.shape=new Xge(this.options,this.body,this.labelModule,this.options.ctxRenderer);break;case"database":this.shape=new Jge(this.options,this.body,this.labelModule);break;case"diamond":this.shape=new Zge(this.options,this.body,this.labelModule);break;case"dot":this.shape=new eye(this.options,this.body,this.labelModule);break;case"ellipse":this.shape=new c7(this.options,this.body,this.labelModule);break;case"icon":this.shape=new tye(this.options,this.body,this.labelModule);break;case"image":this.shape=new rye(this.options,this.body,this.labelModule,this.imageObj,this.imageObjAlt);break;case"square":this.shape=new nye(this.options,this.body,this.labelModule);break;case"hexagon":this.shape=new iye(this.options,this.body,this.labelModule);break;case"star":this.shape=new sye(this.options,this.body,this.labelModule);break;case"text":this.shape=new aye(this.options,this.body,this.labelModule);break;case"triangle":this.shape=new oye(this.options,this.body,this.labelModule);break;case"triangleDown":this.shape=new lye(this.options,this.body,this.labelModule);break;default:this.shape=new c7(this.options,this.body,this.labelModule);break}this.needsRefresh()}select(){this.selected=!0,this.needsRefresh()}unselect(){this.selected=!1,this.needsRefresh()}needsRefresh(){this.shape.refreshNeeded=!0}getTitle(){return this.options.title}distanceToBorder(e,r){return this.shape.distanceToBorder(e,r)}isFixed(){return this.options.fixed.x&&this.options.fixed.y}isSelected(){return this.selected}getValue(){return this.options.value}getLabelSize(){return this.labelModule.size()}setValueRange(e,r,n){if(this.options.value!==void 0){const i=this.options.scaling.customScalingFunction(e,r,n,this.options.value),s=this.options.scaling.max-this.options.scaling.min;if(this.options.scaling.label.enabled===!0){const a=this.options.scaling.label.max-this.options.scaling.label.min;this.options.font.size=this.options.scaling.label.min+i*a}this.options.size=this.options.scaling.min+i*s}else this.options.size=this.baseSize,this.options.font.size=this.baseFontSize;this.updateLabelModule()}draw(e){const r=this.getFormattingValues();return this.shape.draw(e,this.x,this.y,this.selected,this.hover,r)||{}}updateBoundingBox(e){this.shape.updateBoundingBox(this.x,this.y,e)}resize(e){const r=this.getFormattingValues();this.shape.resize(e,this.selected,this.hover,r)}getItemsOnPoint(e){const r=[];return this.labelModule.visible()&&SN(this.labelModule.getSize(),e)&&r.push({nodeId:this.id,labelId:0}),SN(this.shape.boundingBox,e)&&r.push({nodeId:this.id}),r}isOverlappingWith(e){return this.shape.left<e.right&&this.shape.left+this.shape.width>e.left&&this.shape.top<e.bottom&&this.shape.top+this.shape.height>e.top}isBoundingBoxOverlappingWith(e){return this.shape.boundingBox.left<e.right&&this.shape.boundingBox.right>e.left&&this.shape.boundingBox.top<e.bottom&&this.shape.boundingBox.bottom>e.top}static checkMass(e,r){if(e.mass!==void 0&&e.mass<=0){let n="";r!==void 0&&(n=" in node id: "+r),console.error("%cNegative or zero mass disallowed"+n+", setting mass to 1.",dY),e.mass=1}}}class uye{constructor(e,r,n,i){var s;if(this.body=e,this.images=r,this.groups=n,this.layoutEngine=i,this.body.functions.createNode=ee(s=this.create).call(s,this),this.nodesListeners={add:(a,o)=>{this.add(o.items)},update:(a,o)=>{this.update(o.items,o.data,o.oldData)},remove:(a,o)=>{this.remove(o.items)}},this.defaultOptions={borderWidth:1,borderWidthSelected:void 0,brokenImage:void 0,color:{border:"#2B7CE9",background:"#97C2FC",highlight:{border:"#2B7CE9",background:"#D2E5FF"},hover:{border:"#2B7CE9",background:"#D2E5FF"}},opacity:void 0,fixed:{x:!1,y:!1},font:{color:"#343434",size:14,face:"arial",background:"none",strokeWidth:0,strokeColor:"#ffffff",align:"center",vadjust:0,multi:!1,bold:{mod:"bold"},boldital:{mod:"bold italic"},ital:{mod:"italic"},mono:{mod:"",size:15,face:"monospace",vadjust:2}},group:void 0,hidden:!1,icon:{face:"FontAwesome",code:void 0,size:50,color:"#2B7CE9"},image:void 0,imagePadding:{top:0,right:0,bottom:0,left:0},label:void 0,labelHighlightBold:!0,level:void 0,margin:{top:5,right:5,bottom:5,left:5},mass:1,physics:!0,scaling:{min:10,max:30,label:{enabled:!1,min:14,max:30,maxVisible:30,drawThreshold:5},customScalingFunction:function(a,o,l,c){if(o===a)return .5;{const d=1/(o-a);return Math.max(0,(c-a)*d)}}},shadow:{enabled:!1,color:"rgba(0,0,0,0.5)",size:10,x:5,y:5},shape:"ellipse",shapeProperties:{borderDashes:!1,borderRadius:6,interpolation:!0,useImageSize:!1,useBorderWithImage:!1,coordinateOrigin:"center"},size:25,title:void 0,value:void 0,x:void 0,y:void 0},this.defaultOptions.mass<=0)throw"Internal error: mass in defaultOptions of NodesHandler may not be zero or negative";this.options=aa(this.defaultOptions),this.bindEventListeners()}bindEventListeners(){var e,r;this.body.emitter.on("refreshNodes",ee(e=this.refresh).call(e,this)),this.body.emitter.on("refresh",ee(r=this.refresh).call(r,this)),this.body.emitter.on("destroy",()=>{$e(this.nodesListeners,(n,i)=>{this.body.data.nodes&&this.body.data.nodes.off(i,n)}),delete this.body.functions.createNode,delete this.nodesListeners.add,delete this.nodesListeners.update,delete this.nodesListeners.remove,delete this.nodesListeners})}setOptions(e){if(e!==void 0){if(pt.parseOptions(this.options,e),e.opacity!==void 0&&(_N(e.opacity)||!Wa(e.opacity)||e.opacity<0||e.opacity>1?console.error("Invalid option for node opacity. Value must be between 0 and 1, found: "+e.opacity):this.options.opacity=e.opacity),e.shape!==void 0)for(const r in this.body.nodes)Object.prototype.hasOwnProperty.call(this.body.nodes,r)&&this.body.nodes[r].updateShape();if(typeof e.font<"u"||typeof e.widthConstraint<"u"||typeof e.heightConstraint<"u")for(const r of Tt(this.body.nodes))this.body.nodes[r].updateLabelModule(),this.body.nodes[r].needsRefresh();if(e.size!==void 0)for(const r in this.body.nodes)Object.prototype.hasOwnProperty.call(this.body.nodes,r)&&this.body.nodes[r].needsRefresh();(e.hidden!==void 0||e.physics!==void 0)&&this.body.emitter.emit("_dataChanged")}}setData(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;const n=this.body.data.nodes;if(sG("id",e))this.body.data.nodes=e;else if(Rt(e))this.body.data.nodes=new hu,this.body.data.nodes.add(e);else if(!e)this.body.data.nodes=new hu;else throw new TypeError("Array or DataSet expected");if(n&&$e(this.nodesListeners,function(i,s){n.off(s,i)}),this.body.nodes={},this.body.data.nodes){const i=this;$e(this.nodesListeners,function(a,o){i.body.data.nodes.on(o,a)});const s=this.body.data.nodes.getIds();this.add(s,!0)}r===!1&&this.body.emitter.emit("_dataChanged")}add(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,n;const i=[];for(let s=0;s<e.length;s++){n=e[s];const a=this.body.data.nodes.get(n),o=this.create(a);i.push(o),this.body.nodes[n]=o}this.layoutEngine.positionInitially(i),r===!1&&this.body.emitter.emit("_dataChanged")}update(e,r,n){const i=this.body.nodes;let s=!1;for(let a=0;a<e.length;a++){const o=e[a];let l=i[o];const c=r[a];l!==void 0?l.setOptions(c)&&(s=!0):(s=!0,l=this.create(c),i[o]=l)}!s&&n!==void 0&&(s=yve(r).call(r,function(a,o){const l=n[o];return l&&l.level!==a.level})),s===!0?this.body.emitter.emit("_dataChanged"):this.body.emitter.emit("_dataUpdated")}remove(e){const r=this.body.nodes;for(let n=0;n<e.length;n++){const i=e[n];delete r[i]}this.body.emitter.emit("_dataChanged")}create(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:pt;return new r(e,this.body,this.images,this.groups,this.options,this.defaultOptions)}refresh(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;$e(this.body.nodes,(r,n)=>{const i=this.body.data.nodes.get(n);i!==void 0&&(e===!0&&r.setOptions({x:null,y:null}),r.setOptions({fixed:!1}),r.setOptions(i))})}getPositions(e){const r={};if(e!==void 0){if(Rt(e)===!0){for(let n=0;n<e.length;n++)if(this.body.nodes[e[n]]!==void 0){const i=this.body.nodes[e[n]];r[e[n]]={x:Math.round(i.x),y:Math.round(i.y)}}}else if(this.body.nodes[e]!==void 0){const n=this.body.nodes[e];r[e]={x:Math.round(n.x),y:Math.round(n.y)}}}else for(let n=0;n<this.body.nodeIndices.length;n++){const i=this.body.nodes[this.body.nodeIndices[n]];r[this.body.nodeIndices[n]]={x:Math.round(i.x),y:Math.round(i.y)}}return r}getPosition(e){if(e==null)throw new TypeError("No id was specified for getPosition method.");if(this.body.nodes[e]==null)throw new ReferenceError("NodeId provided for getPosition does not exist. Provided: ".concat(e));return{x:Math.round(this.body.nodes[e].x),y:Math.round(this.body.nodes[e].y)}}storePositions(){const e=[],r=this.body.data.nodes.getDataSet();for(const n of r.get()){const i=n.id,s=this.body.nodes[i],a=Math.round(s.x),o=Math.round(s.y);(n.x!==a||n.y!==o)&&e.push({id:i,x:a,y:o})}r.update(e)}getBoundingBox(e){if(this.body.nodes[e]!==void 0)return this.body.nodes[e].shape.boundingBox}getConnectedNodes(e,r){const n=[];if(this.body.nodes[e]!==void 0){const i=this.body.nodes[e],s={};for(let a=0;a<i.edges.length;a++){const o=i.edges[a];r!=="to"&&o.toId==i.id?s[o.fromId]===void 0&&(n.push(o.fromId),s[o.fromId]=!0):r!=="from"&&o.fromId==i.id&&s[o.toId]===void 0&&(n.push(o.toId),s[o.toId]=!0)}}return n}getConnectedEdges(e){const r=[];if(this.body.nodes[e]!==void 0){const n=this.body.nodes[e];for(let i=0;i<n.edges.length;i++)r.push(n.edges[i].id)}else console.error("NodeId provided for getConnectedEdges does not exist. Provided: ",e);return r}moveNode(e,r,n){this.body.nodes[e]!==void 0?(this.body.nodes[e].x=Number(r),this.body.nodes[e].y=Number(n),es(()=>{this.body.emitter.emit("startSimulation")},0)):console.error("Node id supplied to moveNode does not exist. Provided: ",e)}}var f7={},p7;function cye(){if(p7)return f7;p7=1;var t=xe(),e=Math.hypot,r=Math.abs,n=Math.sqrt,i=!!e&&e(1/0,NaN)!==1/0;return t({target:"Math",stat:!0,arity:2,forced:i},{hypot:function(a,o){for(var l=0,c=0,d=arguments.length,h=0,f,p;c<d;)f=r(arguments[c++]),h<f?(p=h/f,l=l*p*p+1,h=f):f>0?(p=f/h,l+=p*p):l+=f;return h===1/0?1/0:h*n(l)}}),f7}var qE,m7;function dye(){if(m7)return qE;m7=1,cye();var t=Je();return qE=t.Math.hypot,qE}var ME,v7;function hye(){if(v7)return ME;v7=1;var t=dye();return ME=t,ME}var AE,g7;function fye(){return g7||(g7=1,AE=hye()),AE}var pye=fye(),mye=Ne(pye);class Dt{static transform(e,r){Rt(e)||(e=[e]);const n=r.point.x,i=r.point.y,s=r.angle,a=r.length;for(let o=0;o<e.length;++o){const l=e[o],c=l.x*Math.cos(s)-l.y*Math.sin(s),d=l.x*Math.sin(s)+l.y*Math.cos(s);l.x=n+a*c,l.y=i+a*d}}static drawPath(e,r){e.beginPath(),e.moveTo(r[0].x,r[0].y);for(let n=1;n<r.length;++n)e.lineTo(r[n].x,r[n].y);e.closePath()}}let vye=class extends Dt{static draw(e,r){if(r.image){e.save(),e.translate(r.point.x,r.point.y),e.rotate(Math.PI/2+r.angle);const n=r.imageWidth!=null?r.imageWidth:r.image.width,i=r.imageHeight!=null?r.imageHeight:r.image.height;r.image.drawImageAtPosition(e,1,-n/2,0,n,i),e.restore()}return!1}};class gye extends Dt{static draw(e,r){const n=[{x:0,y:0},{x:-1,y:.3},{x:-.9,y:0},{x:-1,y:-.3}];return Dt.transform(n,r),Dt.drawPath(e,n),!0}}class yye{static draw(e,r){const n=[{x:-1,y:0},{x:0,y:.3},{x:-.4,y:0},{x:0,y:-.3}];return Dt.transform(n,r),Dt.drawPath(e,n),!0}}class bye{static draw(e,r){const n={x:-.4,y:0};Dt.transform(n,r),e.strokeStyle=e.fillStyle,e.fillStyle="rgba(0, 0, 0, 0)";const i=Math.PI,s=r.angle-i/2,a=r.angle+i/2;return e.beginPath(),e.arc(n.x,n.y,r.length*.4,s,a,!1),e.stroke(),!0}}class wye{static draw(e,r){const n={x:-.3,y:0};Dt.transform(n,r),e.strokeStyle=e.fillStyle,e.fillStyle="rgba(0, 0, 0, 0)";const i=Math.PI,s=r.angle+i/2,a=r.angle+3*i/2;return e.beginPath(),e.arc(n.x,n.y,r.length*.4,s,a,!1),e.stroke(),!0}}class xye{static draw(e,r){const n=[{x:.02,y:0},{x:-1,y:.3},{x:-1,y:-.3}];return Dt.transform(n,r),Dt.drawPath(e,n),!0}}class _ye{static draw(e,r){const n=[{x:0,y:.3},{x:0,y:-.3},{x:-1,y:0}];return Dt.transform(n,r),Dt.drawPath(e,n),!0}}class Sye{static draw(e,r){const n={x:-.4,y:0};return Dt.transform(n,r),wC(e,n.x,n.y,r.length*.4),!0}}class Eye{static draw(e,r){const n=[{x:0,y:.5},{x:0,y:-.5},{x:-.15,y:-.5},{x:-.15,y:.5}];return Dt.transform(n,r),Dt.drawPath(e,n),!0}}class Oye{static draw(e,r){const n=[{x:0,y:.3},{x:0,y:-.3},{x:-.6,y:-.3},{x:-.6,y:.3}];return Dt.transform(n,r),Dt.drawPath(e,n),!0}}class Nye{static draw(e,r){const n=[{x:0,y:0},{x:-.5,y:-.3},{x:-1,y:0},{x:-.5,y:.3}];return Dt.transform(n,r),Dt.drawPath(e,n),!0}}class Pye{static draw(e,r){const n=[{x:-1,y:.3},{x:-.5,y:0},{x:-1,y:-.3},{x:0,y:0}];return Dt.transform(n,r),Dt.drawPath(e,n),!0}}class TY{static draw(e,r){let n;switch(r.type&&(n=r.type.toLowerCase()),n){case"image":return vye.draw(e,r);case"circle":return Sye.draw(e,r);case"box":return Oye.draw(e,r);case"crow":return yye.draw(e,r);case"curve":return bye.draw(e,r);case"diamond":return Nye.draw(e,r);case"inv_curve":return wye.draw(e,r);case"triangle":return xye.draw(e,r);case"inv_triangle":return _ye.draw(e,r);case"bar":return Eye.draw(e,r);case"vee":return Pye.draw(e,r);case"arrow":default:return gye.draw(e,r)}}}function y7(t,e){var r=Tt(t);if(pa){var n=pa(t);e&&(n=Xr(n).call(n,function(i){return Oa(t,i).enumerable})),r.push.apply(r,n)}return r}function b7(t){for(var e=1;e<arguments.length;e++){var r,n,i=arguments[e]!=null?arguments[e]:{};e%2?it(r=y7(Object(i),!0)).call(r,function(s){Ki(t,s,i[s])}):ma?Nm(t,ma(i)):it(n=y7(Object(i))).call(n,function(s){Pm(t,s,Oa(i,s))})}return t}class jY{constructor(e,r,n){Ki(this,"color",{}),Ki(this,"colorDirty",!0),Ki(this,"hoverWidth",1.5),Ki(this,"selectionWidth",2),this._body=r,this._labelModule=n,this.setOptions(e),this.fromPoint=this.from,this.toPoint=this.to}connect(){this.from=this._body.nodes[this.options.from],this.to=this._body.nodes[this.options.to]}cleanup(){return!1}setOptions(e){this.options=e,this.from=this._body.nodes[this.options.from],this.to=this._body.nodes[this.options.to],this.id=this.options.id}drawLine(e,r,n,i){let s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:this.getViaNode();e.strokeStyle=this.getColor(e,r),e.lineWidth=r.width,r.dashes!==!1?this._drawDashedLine(e,r,s):this._drawLine(e,r,s)}_drawLine(e,r,n,i,s){if(this.from!=this.to)this._line(e,r,n,i,s);else{const[a,o,l]=this._getCircleData(e);this._circle(e,r,a,o,l)}}_drawDashedLine(e,r,n,i,s){e.lineCap="round";const a=Rt(r.dashes)?r.dashes:[5,5];if(e.setLineDash!==void 0){if(e.save(),e.setLineDash(a),e.lineDashOffset=0,this.from!=this.to)this._line(e,r,n);else{const[o,l,c]=this._getCircleData(e);this._circle(e,r,o,l,c)}e.setLineDash([0]),e.lineDashOffset=0,e.restore()}else{if(this.from!=this.to)mG(e,this.from.x,this.from.y,this.to.x,this.to.y,a);else{const[o,l,c]=this._getCircleData(e);this._circle(e,r,o,l,c)}this.enableShadow(e,r),e.stroke(),this.disableShadow(e,r)}}findBorderPosition(e,r,n){return this.from!=this.to?this._findBorderPosition(e,r,n):this._findBorderPositionCircle(e,r,n)}findBorderPositions(e){if(this.from!=this.to)return{from:this._findBorderPosition(this.from,e),to:this._findBorderPosition(this.to,e)};{var r;const[n,i]=_i(r=this._getCircleData(e)).call(r,0,2);return{from:this._findBorderPositionCircle(this.from,e,{x:n,y:i,low:.25,high:.6,direction:-1}),to:this._findBorderPositionCircle(this.from,e,{x:n,y:i,low:.6,high:.8,direction:1})}}}_getCircleData(e){const r=this.options.selfReference.size;e!==void 0&&this.from.shape.width===void 0&&this.from.shape.resize(e);const n=PY(e,this.options.selfReference.angle,r,this.from);return[n.x,n.y,r]}_pointOnCircle(e,r,n,i){const s=i*2*Math.PI;return{x:e+n*Math.cos(s),y:r-n*Math.sin(s)}}_findBorderPositionCircle(e,r,n){const i=n.x,s=n.y;let a=n.low,o=n.high;const l=n.direction,c=10,d=this.options.selfReference.size,h=.05;let f,p=(a+o)*.5,m=0;this.options.arrowStrikethrough===!0&&(l===-1?m=this.options.endPointOffset.from:l===1&&(m=this.options.endPointOffset.to));let y=0;do{p=(a+o)*.5,f=this._pointOnCircle(i,s,d,p);const w=Math.atan2(e.y-f.y,e.x-f.x),g=e.distanceToBorder(r,w)+m,v=Math.sqrt(Math.pow(f.x-e.x,2)+Math.pow(f.y-e.y,2)),x=g-v;if(Math.abs(x)<h)break;x>0?l>0?a=p:o=p:l>0?o=p:a=p,++y}while(a<=o&&y<c);return b7(b7({},f),{},{t:p})}getLineWidth(e,r){return e===!0?Math.max(this.selectionWidth,.3/this._body.view.scale):r===!0?Math.max(this.hoverWidth,.3/this._body.view.scale):Math.max(this.options.width,.3/this._body.view.scale)}getColor(e,r){if(r.inheritsColor!==!1){if(r.inheritsColor==="both"&&this.from.id!==this.to.id){const n=e.createLinearGradient(this.from.x,this.from.y,this.to.x,this.to.y);let i=this.from.options.color.highlight.border,s=this.to.options.color.highlight.border;return this.from.selected===!1&&this.to.selected===!1?(i=Rn(this.from.options.color.border,r.opacity),s=Rn(this.to.options.color.border,r.opacity)):this.from.selected===!0&&this.to.selected===!1?s=this.to.options.color.border:this.from.selected===!1&&this.to.selected===!0&&(i=this.from.options.color.border),n.addColorStop(0,i),n.addColorStop(1,s),n}return r.inheritsColor==="to"?Rn(this.to.options.color.border,r.opacity):Rn(this.from.options.color.border,r.opacity)}else return Rn(r.color,r.opacity)}_circle(e,r,n,i,s){this.enableShadow(e,r);let a=0,o=Math.PI*2;if(!this.options.selfReference.renderBehindTheNode){const l=this.options.selfReference.angle,c=this.options.selfReference.angle+Math.PI,d=this._findBorderPositionCircle(this.from,e,{x:n,y:i,low:l,high:c,direction:-1}),h=this._findBorderPositionCircle(this.from,e,{x:n,y:i,low:l,high:c,direction:1});a=Math.atan2(d.y-i,d.x-n),o=Math.atan2(h.y-i,h.x-n)}e.beginPath(),e.arc(n,i,s,a,o,!1),e.stroke(),this.disableShadow(e,r)}getDistanceToEdge(e,r,n,i,s,a){if(this.from!=this.to)return this._getDistanceToEdge(e,r,n,i,s,a);{const[o,l,c]=this._getCircleData(void 0),d=o-s,h=l-a;return Math.abs(Math.sqrt(d*d+h*h)-c)}}_getDistanceToLine(e,r,n,i,s,a){const o=n-e,l=i-r,c=o*o+l*l;let d=((s-e)*o+(a-r)*l)/c;d>1?d=1:d<0&&(d=0);const h=e+d*o,f=r+d*l,p=h-s,m=f-a;return Math.sqrt(p*p+m*m)}getArrowData(e,r,n,i,s,a){let o,l,c,d,h,f,p;const m=a.width;r==="from"?(c=this.from,d=this.to,h=a.fromArrowScale<0,f=Math.abs(a.fromArrowScale),p=a.fromArrowType):r==="to"?(c=this.to,d=this.from,h=a.toArrowScale<0,f=Math.abs(a.toArrowScale),p=a.toArrowType):(c=this.to,d=this.from,h=a.middleArrowScale<0,f=Math.abs(a.middleArrowScale),p=a.middleArrowType);const y=15*f+3*m;if(c!=d){const x=mye(c.x-d.x,c.y-d.y),b=y/x;if(r!=="middle")if(this.options.smooth.enabled===!0){const _=this._findBorderPosition(c,e,{via:n}),E=this.getPoint(_.t+b*(r==="from"?1:-1),n);o=Math.atan2(_.y-E.y,_.x-E.x),l=_}else o=Math.atan2(c.y-d.y,c.x-d.x),l=this._findBorderPosition(c,e);else{const _=(h?-b:b)/2,E=this.getPoint(.5+_,n),O=this.getPoint(.5-_,n);o=Math.atan2(E.y-O.y,E.x-O.x),l=this.getPoint(.5,n)}}else{const[x,b,_]=this._getCircleData(e);if(r==="from"){const E=this.options.selfReference.angle,O=this.options.selfReference.angle+Math.PI,S=this._findBorderPositionCircle(this.from,e,{x,y:b,low:E,high:O,direction:-1});o=S.t*-2*Math.PI+1.5*Math.PI+.1*Math.PI,l=S}else if(r==="to"){const E=this.options.selfReference.angle,O=this.options.selfReference.angle+Math.PI,S=this._findBorderPositionCircle(this.from,e,{x,y:b,low:E,high:O,direction:1});o=S.t*-2*Math.PI+1.5*Math.PI-1.1*Math.PI,l=S}else{const E=this.options.selfReference.angle/(2*Math.PI);l=this._pointOnCircle(x,b,_,E),o=E*-2*Math.PI+1.5*Math.PI+.1*Math.PI}}const w=l.x-y*.9*Math.cos(o),g=l.y-y*.9*Math.sin(o);return{point:l,core:{x:w,y:g},angle:o,length:y,type:p}}drawArrowHead(e,r,n,i,s){e.strokeStyle=this.getColor(e,r),e.fillStyle=e.strokeStyle,e.lineWidth=r.width,TY.draw(e,s)&&(this.enableShadow(e,r),vh(e).call(e),this.disableShadow(e,r))}enableShadow(e,r){r.shadow===!0&&(e.shadowColor=r.shadowColor,e.shadowBlur=r.shadowSize,e.shadowOffsetX=r.shadowX,e.shadowOffsetY=r.shadowY)}disableShadow(e,r){r.shadow===!0&&(e.shadowColor="rgba(0,0,0,0)",e.shadowBlur=0,e.shadowOffsetX=0,e.shadowOffsetY=0)}drawBackground(e,r){if(r.background!==!1){const n={strokeStyle:e.strokeStyle,lineWidth:e.lineWidth,dashes:e.dashes};e.strokeStyle=r.backgroundColor,e.lineWidth=r.backgroundSize,this.setStrokeDashed(e,r.backgroundDashes),e.stroke(),e.strokeStyle=n.strokeStyle,e.lineWidth=n.lineWidth,e.dashes=n.dashes,this.setStrokeDashed(e,r.dashes)}}setStrokeDashed(e,r){if(r!==!1)if(e.setLineDash!==void 0){const n=Rt(r)?r:[5,5];e.setLineDash(n)}else console.warn("setLineDash is not supported in this browser. The dashed stroke cannot be used.");else e.setLineDash!==void 0?e.setLineDash([]):console.warn("setLineDash is not supported in this browser. The dashed stroke cannot be used.")}}function w7(t,e){var r=Tt(t);if(pa){var n=pa(t);e&&(n=Xr(n).call(n,function(i){return Oa(t,i).enumerable})),r.push.apply(r,n)}return r}function x7(t){for(var e=1;e<arguments.length;e++){var r,n,i=arguments[e]!=null?arguments[e]:{};e%2?it(r=w7(Object(i),!0)).call(r,function(s){Ki(t,s,i[s])}):ma?Nm(t,ma(i)):it(n=w7(Object(i))).call(n,function(s){Pm(t,s,Oa(i,s))})}return t}class GC extends jY{constructor(e,r,n){super(e,r,n)}_findBorderPositionBezier(e,r){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this._getViaCoordinates();const i=10,s=.2;let a=!1,o=1,l=0,c=this.to,d,h,f=this.options.endPointOffset?this.options.endPointOffset.to:0;e.id===this.from.id&&(c=this.from,a=!0,f=this.options.endPointOffset?this.options.endPointOffset.from:0),this.options.arrowStrikethrough===!1&&(f=0);let p=0;do{h=(l+o)*.5,d=this.getPoint(h,n);const m=Math.atan2(c.y-d.y,c.x-d.x),y=c.distanceToBorder(r,m)+f,w=Math.sqrt(Math.pow(d.x-c.x,2)+Math.pow(d.y-c.y,2)),g=y-w;if(Math.abs(g)<s)break;g<0?a===!1?l=h:o=h:a===!1?o=h:l=h,++p}while(l<=o&&p<i);return x7(x7({},d),{},{t:h})}_getDistanceToBezierEdge(e,r,n,i,s,a,o){let l=1e9,c,d,h,f,p,m=e,y=r;for(d=1;d<10;d++)h=.1*d,f=Math.pow(1-h,2)*e+2*h*(1-h)*o.x+Math.pow(h,2)*n,p=Math.pow(1-h,2)*r+2*h*(1-h)*o.y+Math.pow(h,2)*i,d>0&&(c=this._getDistanceToLine(m,y,f,p,s,a),l=c<l?c:l),m=f,y=p;return l}_bezierCurve(e,r,n,i){e.beginPath(),e.moveTo(this.fromPoint.x,this.fromPoint.y),n!=null&&n.x!=null?i!=null&&i.x!=null?e.bezierCurveTo(n.x,n.y,i.x,i.y,this.toPoint.x,this.toPoint.y):e.quadraticCurveTo(n.x,n.y,this.toPoint.x,this.toPoint.y):e.lineTo(this.toPoint.x,this.toPoint.y),this.drawBackground(e,r),this.enableShadow(e,r),e.stroke(),this.disableShadow(e,r)}getViaNode(){return this._getViaCoordinates()}}class _7 extends GC{constructor(e,r,n){super(e,r,n),Ki(this,"via",this.via),this._boundFunction=()=>{this.positionBezierNode()},this._body.emitter.on("_repositionBezierNodes",this._boundFunction)}setOptions(e){super.setOptions(e);let r=!1;this.options.physics!==e.physics&&(r=!0),this.options=e,this.id=this.options.id,this.from=this._body.nodes[this.options.from],this.to=this._body.nodes[this.options.to],this.setupSupportNode(),this.connect(),r===!0&&(this.via.setOptions({physics:this.options.physics}),this.positionBezierNode())}connect(){this.from=this._body.nodes[this.options.from],this.to=this._body.nodes[this.options.to],this.from===void 0||this.to===void 0||this.options.physics===!1?this.via.setOptions({physics:!1}):this.from.id===this.to.id?this.via.setOptions({physics:!1}):this.via.setOptions({physics:!0})}cleanup(){return this._body.emitter.off("_repositionBezierNodes",this._boundFunction),this.via!==void 0?(delete this._body.nodes[this.via.id],this.via=void 0,!0):!1}setupSupportNode(){if(this.via===void 0){const e="edgeId:"+this.id,r=this._body.functions.createNode({id:e,shape:"circle",physics:!0,hidden:!0});this._body.nodes[e]=r,this.via=r,this.via.parentEdgeId=this.id,this.positionBezierNode()}}positionBezierNode(){this.via!==void 0&&this.from!==void 0&&this.to!==void 0?(this.via.x=.5*(this.from.x+this.to.x),this.via.y=.5*(this.from.y+this.to.y)):this.via!==void 0&&(this.via.x=0,this.via.y=0)}_line(e,r,n){this._bezierCurve(e,r,n)}_getViaCoordinates(){return this.via}getViaNode(){return this.via}getPoint(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.via;if(this.from===this.to){const[n,i,s]=this._getCircleData(),a=2*Math.PI*(1-e);return{x:n+s*Math.sin(a),y:i+s-s*(1-Math.cos(a))}}else return{x:Math.pow(1-e,2)*this.fromPoint.x+2*e*(1-e)*r.x+Math.pow(e,2)*this.toPoint.x,y:Math.pow(1-e,2)*this.fromPoint.y+2*e*(1-e)*r.y+Math.pow(e,2)*this.toPoint.y}}_findBorderPosition(e,r){return this._findBorderPositionBezier(e,r,this.via)}_getDistanceToEdge(e,r,n,i,s,a){return this._getDistanceToBezierEdge(e,r,n,i,s,a,this.via)}}class S7 extends GC{constructor(e,r,n){super(e,r,n)}_line(e,r,n){this._bezierCurve(e,r,n)}getViaNode(){return this._getViaCoordinates()}_getViaCoordinates(){const e=this.options.smooth.roundness,r=this.options.smooth.type;let n=Math.abs(this.from.x-this.to.x),i=Math.abs(this.from.y-this.to.y);if(r==="discrete"||r==="diagonalCross"){let s,a;n<=i?s=a=e*i:s=a=e*n,this.from.x>this.to.x&&(s=-s),this.from.y>=this.to.y&&(a=-a);let o=this.from.x+s,l=this.from.y+a;return r==="discrete"&&(n<=i?o=n<e*i?this.from.x:o:l=i<e*n?this.from.y:l),{x:o,y:l}}else if(r==="straightCross"){let s=(1-e)*n,a=(1-e)*i;return n<=i?(s=0,this.from.y<this.to.y&&(a=-a)):(this.from.x<this.to.x&&(s=-s),a=0),{x:this.to.x+s,y:this.to.y+a}}else if(r==="horizontal"){let s=(1-e)*n;return this.from.x<this.to.x&&(s=-s),{x:this.to.x+s,y:this.from.y}}else if(r==="vertical"){let s=(1-e)*i;return this.from.y<this.to.y&&(s=-s),{x:this.from.x,y:this.to.y+s}}else if(r==="curvedCW"){n=this.to.x-this.from.x,i=this.from.y-this.to.y;const s=Math.sqrt(n*n+i*i),a=Math.PI,l=(Math.atan2(i,n)+(e*.5+.5)*a)%(2*a);return{x:this.from.x+(e*.5+.5)*s*Math.sin(l),y:this.from.y+(e*.5+.5)*s*Math.cos(l)}}else if(r==="curvedCCW"){n=this.to.x-this.from.x,i=this.from.y-this.to.y;const s=Math.sqrt(n*n+i*i),a=Math.PI,l=(Math.atan2(i,n)+(-e*.5+.5)*a)%(2*a);return{x:this.from.x+(e*.5+.5)*s*Math.sin(l),y:this.from.y+(e*.5+.5)*s*Math.cos(l)}}else{let s,a;n<=i?s=a=e*i:s=a=e*n,this.from.x>this.to.x&&(s=-s),this.from.y>=this.to.y&&(a=-a);let o=this.from.x+s,l=this.from.y+a;return n<=i?this.from.x<=this.to.x?o=this.to.x<o?this.to.x:o:o=this.to.x>o?this.to.x:o:this.from.y>=this.to.y?l=this.to.y>l?this.to.y:l:l=this.to.y<l?this.to.y:l,{x:o,y:l}}}_findBorderPosition(e,r){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this._findBorderPositionBezier(e,r,n.via)}_getDistanceToEdge(e,r,n,i,s,a){let o=arguments.length>6&&arguments[6]!==void 0?arguments[6]:this._getViaCoordinates();return this._getDistanceToBezierEdge(e,r,n,i,s,a,o)}getPoint(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this._getViaCoordinates();const n=e,i=Math.pow(1-n,2)*this.fromPoint.x+2*n*(1-n)*r.x+Math.pow(n,2)*this.toPoint.x,s=Math.pow(1-n,2)*this.fromPoint.y+2*n*(1-n)*r.y+Math.pow(n,2)*this.toPoint.y;return{x:i,y:s}}}class Cye extends GC{constructor(e,r,n){super(e,r,n)}_getDistanceToBezierEdge2(e,r,n,i,s,a,o,l){let c=1e9,d=e,h=r;const f=[0,0,0,0];for(let p=1;p<10;p++){const m=.1*p;f[0]=Math.pow(1-m,3),f[1]=3*m*Math.pow(1-m,2),f[2]=3*Math.pow(m,2)*(1-m),f[3]=Math.pow(m,3);const y=f[0]*e+f[1]*o.x+f[2]*l.x+f[3]*n,w=f[0]*r+f[1]*o.y+f[2]*l.y+f[3]*i;if(p>0){const g=this._getDistanceToLine(d,h,y,w,s,a);c=g<c?g:c}d=y,h=w}return c}}class E7 extends Cye{constructor(e,r,n){super(e,r,n)}_line(e,r,n){const i=n[0],s=n[1];this._bezierCurve(e,r,i,s)}_getViaCoordinates(){const e=this.from.x-this.to.x,r=this.from.y-this.to.y;let n,i,s,a;const o=this.options.smooth.roundness;return(Math.abs(e)>Math.abs(r)||this.options.smooth.forceDirection===!0||this.options.smooth.forceDirection==="horizontal")&&this.options.smooth.forceDirection!=="vertical"?(i=this.from.y,a=this.to.y,n=this.from.x-o*e,s=this.to.x+o*e):(i=this.from.y-o*r,a=this.to.y+o*r,n=this.from.x,s=this.to.x),[{x:n,y:i},{x:s,y:a}]}getViaNode(){return this._getViaCoordinates()}_findBorderPosition(e,r){return this._findBorderPositionBezier(e,r)}_getDistanceToEdge(e,r,n,i,s,a){let[o,l]=arguments.length>6&&arguments[6]!==void 0?arguments[6]:this._getViaCoordinates();return this._getDistanceToBezierEdge2(e,r,n,i,s,a,o,l)}getPoint(e){let[r,n]=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this._getViaCoordinates();const i=e,s=[Math.pow(1-i,3),3*i*Math.pow(1-i,2),3*Math.pow(i,2)*(1-i),Math.pow(i,3)],a=s[0]*this.fromPoint.x+s[1]*r.x+s[2]*n.x+s[3]*this.toPoint.x,o=s[0]*this.fromPoint.y+s[1]*r.y+s[2]*n.y+s[3]*this.toPoint.y;return{x:a,y:o}}}class O7 extends jY{constructor(e,r,n){super(e,r,n)}_line(e,r){e.beginPath(),e.moveTo(this.fromPoint.x,this.fromPoint.y),e.lineTo(this.toPoint.x,this.toPoint.y),this.enableShadow(e,r),e.stroke(),this.disableShadow(e,r)}getViaNode(){}getPoint(e){return{x:(1-e)*this.fromPoint.x+e*this.toPoint.x,y:(1-e)*this.fromPoint.y+e*this.toPoint.y}}_findBorderPosition(e,r){let n=this.to,i=this.from;e.id===this.from.id&&(n=this.from,i=this.to);const s=Math.atan2(n.y-i.y,n.x-i.x),a=n.x-i.x,o=n.y-i.y,l=Math.sqrt(a*a+o*o),c=e.distanceToBorder(r,s),d=(l-c)/l;return{x:(1-d)*i.x+d*n.x,y:(1-d)*i.y+d*n.y,t:0}}_getDistanceToEdge(e,r,n,i,s,a){return this._getDistanceToLine(e,r,n,i,s,a)}}class oa{constructor(e,r,n,i,s){if(r===void 0)throw new Error("No body provided");this.options=aa(i),this.globalOptions=i,this.defaultOptions=s,this.body=r,this.imagelist=n,this.id=void 0,this.fromId=void 0,this.toId=void 0,this.selected=!1,this.hover=!1,this.labelDirty=!0,this.baseWidth=this.options.width,this.baseFontSize=this.options.font.size,this.from=void 0,this.to=void 0,this.edgeType=void 0,this.connected=!1,this.labelModule=new $l(this.body,this.options,!0),this.setOptions(e)}setOptions(e){if(!e)return;let r=typeof e.physics<"u"&&this.options.physics!==e.physics||typeof e.hidden<"u"&&(this.options.hidden||!1)!==(e.hidden||!1)||typeof e.from<"u"&&this.options.from!==e.from||typeof e.to<"u"&&this.options.to!==e.to;oa.parseOptions(this.options,e,!0,this.globalOptions),e.id!==void 0&&(this.id=e.id),e.from!==void 0&&(this.fromId=e.from),e.to!==void 0&&(this.toId=e.to),e.title!==void 0&&(this.title=e.title),e.value!==void 0&&(e.value=NY(e.value));const n=[e,this.options,this.defaultOptions];return this.chooser=HC("edge",n),this.updateLabelModule(e),r=this.updateEdgeType()||r,this._setInteractionWidths(),this.connect(),r}static parseOptions(e,r){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1;if(Zu(["endPointOffset","arrowStrikethrough","id","from","hidden","hoverWidth","labelHighlightBold","length","line","opacity","physics","scaling","selectionWidth","selfReferenceSize","selfReference","to","title","value","width","font","chosen","widthConstraint"],e,r,n),r.endPointOffset!==void 0&&r.endPointOffset.from!==void 0&&(Wa(r.endPointOffset.from)?e.endPointOffset.from=r.endPointOffset.from:(e.endPointOffset.from=i.endPointOffset.from!==void 0?i.endPointOffset.from:0,console.error("endPointOffset.from is not a valid number"))),r.endPointOffset!==void 0&&r.endPointOffset.to!==void 0&&(Wa(r.endPointOffset.to)?e.endPointOffset.to=r.endPointOffset.to:(e.endPointOffset.to=i.endPointOffset.to!==void 0?i.endPointOffset.to:0,console.error("endPointOffset.to is not a valid number"))),gp(r.label)?e.label=r.label:gp(e.label)||(e.label=void 0),Tn(e,r,"smooth",i),Tn(e,r,"shadow",i),Tn(e,r,"background",i),r.dashes!==void 0&&r.dashes!==null?e.dashes=r.dashes:n===!0&&r.dashes===null&&(e.dashes=lo(i.dashes)),r.scaling!==void 0&&r.scaling!==null?(r.scaling.min!==void 0&&(e.scaling.min=r.scaling.min),r.scaling.max!==void 0&&(e.scaling.max=r.scaling.max),Tn(e.scaling,r.scaling,"label",i.scaling)):n===!0&&r.scaling===null&&(e.scaling=lo(i.scaling)),r.arrows!==void 0&&r.arrows!==null)if(typeof r.arrows=="string"){const o=r.arrows.toLowerCase();e.arrows.to.enabled=Ye(o).call(o,"to")!=-1,e.arrows.middle.enabled=Ye(o).call(o,"middle")!=-1,e.arrows.from.enabled=Ye(o).call(o,"from")!=-1}else if(typeof r.arrows=="object")Tn(e.arrows,r.arrows,"to",i.arrows),Tn(e.arrows,r.arrows,"middle",i.arrows),Tn(e.arrows,r.arrows,"from",i.arrows);else throw new Error("The arrow newOptions can only be an object or a string. Refer to the documentation. You used:"+mh(r.arrows));else n===!0&&r.arrows===null&&(e.arrows=lo(i.arrows));if(r.color!==void 0&&r.color!==null){const o=Il(r.color)?{color:r.color,highlight:r.color,hover:r.color,inherit:!1,opacity:1}:r.color,l=e.color;if(s)lt(l,i.color,!1,n);else for(const c in l)Object.prototype.hasOwnProperty.call(l,c)&&delete l[c];if(Il(l))l.color=l,l.highlight=l,l.hover=l,l.inherit=!1,o.opacity===void 0&&(l.opacity=1);else{let c=!1;o.color!==void 0&&(l.color=o.color,c=!0),o.highlight!==void 0&&(l.highlight=o.highlight,c=!0),o.hover!==void 0&&(l.hover=o.hover,c=!0),o.inherit!==void 0&&(l.inherit=o.inherit),o.opacity!==void 0&&(l.opacity=Math.min(1,Math.max(0,o.opacity))),c===!0?l.inherit=!1:l.inherit===void 0&&(l.inherit="from")}}else n===!0&&r.color===null&&(e.color=aa(i.color));n===!0&&r.font===null&&(e.font=aa(i.font)),Object.prototype.hasOwnProperty.call(r,"selfReferenceSize")&&(console.warn("The selfReferenceSize property has been deprecated. Please use selfReference property instead. The selfReference can be set like thise selfReference:{size:30, angle:Math.PI / 4}"),e.selfReference.size=r.selfReferenceSize)}getFormattingValues(){const e=this.options.arrows.to===!0||this.options.arrows.to.enabled===!0,r=this.options.arrows.from===!0||this.options.arrows.from.enabled===!0,n=this.options.arrows.middle===!0||this.options.arrows.middle.enabled===!0,i=this.options.color.inherit,s={toArrow:e,toArrowScale:this.options.arrows.to.scaleFactor,toArrowType:this.options.arrows.to.type,toArrowSrc:this.options.arrows.to.src,toArrowImageWidth:this.options.arrows.to.imageWidth,toArrowImageHeight:this.options.arrows.to.imageHeight,middleArrow:n,middleArrowScale:this.options.arrows.middle.scaleFactor,middleArrowType:this.options.arrows.middle.type,middleArrowSrc:this.options.arrows.middle.src,middleArrowImageWidth:this.options.arrows.middle.imageWidth,middleArrowImageHeight:this.options.arrows.middle.imageHeight,fromArrow:r,fromArrowScale:this.options.arrows.from.scaleFactor,fromArrowType:this.options.arrows.from.type,fromArrowSrc:this.options.arrows.from.src,fromArrowImageWidth:this.options.arrows.from.imageWidth,fromArrowImageHeight:this.options.arrows.from.imageHeight,arrowStrikethrough:this.options.arrowStrikethrough,color:i?void 0:this.options.color.color,inheritsColor:i,opacity:this.options.color.opacity,hidden:this.options.hidden,length:this.options.length,shadow:this.options.shadow.enabled,shadowColor:this.options.shadow.color,shadowSize:this.options.shadow.size,shadowX:this.options.shadow.x,shadowY:this.options.shadow.y,dashes:this.options.dashes,width:this.options.width,background:this.options.background.enabled,backgroundColor:this.options.background.color,backgroundSize:this.options.background.size,backgroundDashes:this.options.background.dashes};if(this.selected||this.hover)if(this.chooser===!0){if(this.selected){const a=this.options.selectionWidth;typeof a=="function"?s.width=a(s.width):typeof a=="number"&&(s.width+=a),s.width=Math.max(s.width,.3/this.body.view.scale),s.color=this.options.color.highlight,s.shadow=this.options.shadow.enabled}else if(this.hover){const a=this.options.hoverWidth;typeof a=="function"?s.width=a(s.width):typeof a=="number"&&(s.width+=a),s.width=Math.max(s.width,.3/this.body.view.scale),s.color=this.options.color.hover,s.shadow=this.options.shadow.enabled}}else typeof this.chooser=="function"&&(this.chooser(s,this.options.id,this.selected,this.hover),s.color!==void 0&&(s.inheritsColor=!1),s.shadow===!1&&(s.shadowColor!==this.options.shadow.color||s.shadowSize!==this.options.shadow.size||s.shadowX!==this.options.shadow.x||s.shadowY!==this.options.shadow.y)&&(s.shadow=!0));else s.shadow=this.options.shadow.enabled,s.width=Math.max(s.width,.3/this.body.view.scale);return s}updateLabelModule(e){const r=[e,this.options,this.globalOptions,this.defaultOptions];this.labelModule.update(this.options,r),this.labelModule.baseSize!==void 0&&(this.baseFontSize=this.labelModule.baseSize)}updateEdgeType(){const e=this.options.smooth;let r=!1,n=!0;return this.edgeType!==void 0&&((this.edgeType instanceof _7&&e.enabled===!0&&e.type==="dynamic"||this.edgeType instanceof E7&&e.enabled===!0&&e.type==="cubicBezier"||this.edgeType instanceof S7&&e.enabled===!0&&e.type!=="dynamic"&&e.type!=="cubicBezier"||this.edgeType instanceof O7&&e.type.enabled===!1)&&(n=!1),n===!0&&(r=this.cleanup())),n===!0?e.enabled===!0?e.type==="dynamic"?(r=!0,this.edgeType=new _7(this.options,this.body,this.labelModule)):e.type==="cubicBezier"?this.edgeType=new E7(this.options,this.body,this.labelModule):this.edgeType=new S7(this.options,this.body,this.labelModule):this.edgeType=new O7(this.options,this.body,this.labelModule):this.edgeType.setOptions(this.options),r}connect(){this.disconnect(),this.from=this.body.nodes[this.fromId]||void 0,this.to=this.body.nodes[this.toId]||void 0,this.connected=this.from!==void 0&&this.to!==void 0,this.connected===!0?(this.from.attachEdge(this),this.to.attachEdge(this)):(this.from&&this.from.detachEdge(this),this.to&&this.to.detachEdge(this)),this.edgeType.connect()}disconnect(){this.from&&(this.from.detachEdge(this),this.from=void 0),this.to&&(this.to.detachEdge(this),this.to=void 0),this.connected=!1}getTitle(){return this.title}isSelected(){return this.selected}getValue(){return this.options.value}setValueRange(e,r,n){if(this.options.value!==void 0){const i=this.options.scaling.customScalingFunction(e,r,n,this.options.value),s=this.options.scaling.max-this.options.scaling.min;if(this.options.scaling.label.enabled===!0){const a=this.options.scaling.label.max-this.options.scaling.label.min;this.options.font.size=this.options.scaling.label.min+i*a}this.options.width=this.options.scaling.min+i*s}else this.options.width=this.baseWidth,this.options.font.size=this.baseFontSize;this._setInteractionWidths(),this.updateLabelModule()}_setInteractionWidths(){typeof this.options.hoverWidth=="function"?this.edgeType.hoverWidth=this.options.hoverWidth(this.options.width):this.edgeType.hoverWidth=this.options.hoverWidth+this.options.width,typeof this.options.selectionWidth=="function"?this.edgeType.selectionWidth=this.options.selectionWidth(this.options.width):this.edgeType.selectionWidth=this.options.selectionWidth+this.options.width}draw(e){const r=this.getFormattingValues();if(r.hidden)return;const n=this.edgeType.getViaNode();this.edgeType.drawLine(e,r,this.selected,this.hover,n),this.drawLabel(e,n)}drawArrows(e){const r=this.getFormattingValues();if(r.hidden)return;const n=this.edgeType.getViaNode(),i={};this.edgeType.fromPoint=this.edgeType.from,this.edgeType.toPoint=this.edgeType.to,r.fromArrow&&(i.from=this.edgeType.getArrowData(e,"from",n,this.selected,this.hover,r),r.arrowStrikethrough===!1&&(this.edgeType.fromPoint=i.from.core),r.fromArrowSrc&&(i.from.image=this.imagelist.load(r.fromArrowSrc)),r.fromArrowImageWidth&&(i.from.imageWidth=r.fromArrowImageWidth),r.fromArrowImageHeight&&(i.from.imageHeight=r.fromArrowImageHeight)),r.toArrow&&(i.to=this.edgeType.getArrowData(e,"to",n,this.selected,this.hover,r),r.arrowStrikethrough===!1&&(this.edgeType.toPoint=i.to.core),r.toArrowSrc&&(i.to.image=this.imagelist.load(r.toArrowSrc)),r.toArrowImageWidth&&(i.to.imageWidth=r.toArrowImageWidth),r.toArrowImageHeight&&(i.to.imageHeight=r.toArrowImageHeight)),r.middleArrow&&(i.middle=this.edgeType.getArrowData(e,"middle",n,this.selected,this.hover,r),r.middleArrowSrc&&(i.middle.image=this.imagelist.load(r.middleArrowSrc)),r.middleArrowImageWidth&&(i.middle.imageWidth=r.middleArrowImageWidth),r.middleArrowImageHeight&&(i.middle.imageHeight=r.middleArrowImageHeight)),r.fromArrow&&this.edgeType.drawArrowHead(e,r,this.selected,this.hover,i.from),r.middleArrow&&this.edgeType.drawArrowHead(e,r,this.selected,this.hover,i.middle),r.toArrow&&this.edgeType.drawArrowHead(e,r,this.selected,this.hover,i.to)}drawLabel(e,r){if(this.options.label!==void 0){const n=this.from,i=this.to;this.labelModule.differentState(this.selected,this.hover)&&this.labelModule.getTextSize(e,this.selected,this.hover);let s;if(n.id!=i.id){this.labelModule.pointToSelf=!1,s=this.edgeType.getPoint(.5,r),e.save();const a=this._getRotation(e);a.angle!=0&&(e.translate(a.x,a.y),e.rotate(a.angle)),this.labelModule.draw(e,s.x,s.y,this.selected,this.hover),e.restore()}else{this.labelModule.pointToSelf=!0;const a=PY(e,this.options.selfReference.angle,this.options.selfReference.size,n);s=this._pointOnCircle(a.x,a.y,this.options.selfReference.size,this.options.selfReference.angle),this.labelModule.draw(e,s.x,s.y,this.selected,this.hover)}}}getItemsOnPoint(e){const r=[];if(this.labelModule.visible()){const i=this._getRotation();SN(this.labelModule.getSize(),e,i)&&r.push({edgeId:this.id,labelId:0})}const n={left:e.x,top:e.y};return this.isOverlappingWith(n)&&r.push({edgeId:this.id}),r}isOverlappingWith(e){if(this.connected){const n=this.from.x,i=this.from.y,s=this.to.x,a=this.to.y,o=e.left,l=e.top;return this.edgeType.getDistanceToEdge(n,i,s,a,o,l)<10}else return!1}_getRotation(e){const r=this.edgeType.getViaNode(),n=this.edgeType.getPoint(.5,r);e!==void 0&&this.labelModule.calculateLabelSize(e,this.selected,this.hover,n.x,n.y);const i={x:n.x,y:this.labelModule.size.yLine,angle:0};if(!this.labelModule.visible()||this.options.font.align==="horizontal")return i;const s=this.from.y-this.to.y,a=this.from.x-this.to.x;let o=Math.atan2(s,a);return(o<-1&&a<0||o>0&&a<0)&&(o+=Math.PI),i.angle=o,i}_pointOnCircle(e,r,n,i){return{x:e+n*Math.cos(i),y:r-n*Math.sin(i)}}select(){this.selected=!0}unselect(){this.selected=!1}cleanup(){return this.edgeType.cleanup()}remove(){this.cleanup(),this.disconnect(),delete this.body.edges[this.id]}endPointsValid(){return this.body.nodes[this.fromId]!==void 0&&this.body.nodes[this.toId]!==void 0}}class Tye{constructor(e,r,n){var i;this.body=e,this.images=r,this.groups=n,this.body.functions.createEdge=ee(i=this.create).call(i,this),this.edgesListeners={add:(s,a)=>{this.add(a.items)},update:(s,a)=>{this.update(a.items)},remove:(s,a)=>{this.remove(a.items)}},this.options={},this.defaultOptions={arrows:{to:{enabled:!1,scaleFactor:1,type:"arrow"},middle:{enabled:!1,scaleFactor:1,type:"arrow"},from:{enabled:!1,scaleFactor:1,type:"arrow"}},endPointOffset:{from:0,to:0},arrowStrikethrough:!0,color:{color:"#848484",highlight:"#848484",hover:"#848484",inherit:"from",opacity:1},dashes:!1,font:{color:"#343434",size:14,face:"arial",background:"none",strokeWidth:2,strokeColor:"#ffffff",align:"horizontal",multi:!1,vadjust:0,bold:{mod:"bold"},boldital:{mod:"bold italic"},ital:{mod:"italic"},mono:{mod:"",size:15,face:"courier new",vadjust:2}},hidden:!1,hoverWidth:1.5,label:void 0,labelHighlightBold:!0,length:void 0,physics:!0,scaling:{min:1,max:15,label:{enabled:!0,min:14,max:30,maxVisible:30,drawThreshold:5},customScalingFunction:function(s,a,o,l){if(a===s)return .5;{const c=1/(a-s);return Math.max(0,(l-s)*c)}}},selectionWidth:1.5,selfReference:{size:20,angle:Math.PI/4,renderBehindTheNode:!0},shadow:{enabled:!1,color:"rgba(0,0,0,0.5)",size:10,x:5,y:5},background:{enabled:!1,color:"rgba(111,111,111,1)",size:10,dashes:!1},smooth:{enabled:!0,type:"dynamic",forceDirection:"none",roundness:.5},title:void 0,width:1,value:void 0},lt(this.options,this.defaultOptions),this.bindEventListeners()}bindEventListeners(){var e=this,r,n;this.body.emitter.on("_forceDisableDynamicCurves",function(i){let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;i==="dynamic"&&(i="continuous");let a=!1;for(const o in e.body.edges)if(Object.prototype.hasOwnProperty.call(e.body.edges,o)){const l=e.body.edges[o],c=e.body.data.edges.get(o);if(c!=null){const d=c.smooth;d!==void 0&&d.enabled===!0&&d.type==="dynamic"&&(i===void 0?l.setOptions({smooth:!1}):l.setOptions({smooth:{type:i}}),a=!0)}}s===!0&&a===!0&&e.body.emitter.emit("_dataChanged")}),this.body.emitter.on("_dataUpdated",()=>{this.reconnectEdges()}),this.body.emitter.on("refreshEdges",ee(r=this.refresh).call(r,this)),this.body.emitter.on("refresh",ee(n=this.refresh).call(n,this)),this.body.emitter.on("destroy",()=>{$e(this.edgesListeners,(i,s)=>{this.body.data.edges&&this.body.data.edges.off(s,i)}),delete this.body.functions.createEdge,delete this.edgesListeners.add,delete this.edgesListeners.update,delete this.edgesListeners.remove,delete this.edgesListeners})}setOptions(e){if(e!==void 0){oa.parseOptions(this.options,e,!0,this.defaultOptions,!0);let r=!1;if(e.smooth!==void 0)for(const n in this.body.edges)Object.prototype.hasOwnProperty.call(this.body.edges,n)&&(r=this.body.edges[n].updateEdgeType()||r);if(e.font!==void 0)for(const n in this.body.edges)Object.prototype.hasOwnProperty.call(this.body.edges,n)&&this.body.edges[n].updateLabelModule();(e.hidden!==void 0||e.physics!==void 0||r===!0)&&this.body.emitter.emit("_dataChanged")}}setData(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;const n=this.body.data.edges;if(sG("id",e))this.body.data.edges=e;else if(Rt(e))this.body.data.edges=new hu,this.body.data.edges.add(e);else if(!e)this.body.data.edges=new hu;else throw new TypeError("Array or DataSet expected");if(n&&$e(this.edgesListeners,(i,s)=>{n.off(s,i)}),this.body.edges={},this.body.data.edges){$e(this.edgesListeners,(s,a)=>{this.body.data.edges.on(a,s)});const i=this.body.data.edges.getIds();this.add(i,!0)}this.body.emitter.emit("_adjustEdgesForHierarchicalLayout"),r===!1&&this.body.emitter.emit("_dataChanged")}add(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;const n=this.body.edges,i=this.body.data.edges;for(let s=0;s<e.length;s++){const a=e[s],o=n[a];o&&o.disconnect();const l=i.get(a,{showInternalIds:!0});n[a]=this.create(l)}this.body.emitter.emit("_adjustEdgesForHierarchicalLayout"),r===!1&&this.body.emitter.emit("_dataChanged")}update(e){const r=this.body.edges,n=this.body.data.edges;let i=!1;for(let s=0;s<e.length;s++){const a=e[s],o=n.get(a),l=r[a];l!==void 0?(l.disconnect(),i=l.setOptions(o)||i,l.connect()):(this.body.edges[a]=this.create(o),i=!0)}i===!0?(this.body.emitter.emit("_adjustEdgesForHierarchicalLayout"),this.body.emitter.emit("_dataChanged")):this.body.emitter.emit("_dataUpdated")}remove(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(e.length===0)return;const n=this.body.edges;$e(e,i=>{const s=n[i];s!==void 0&&s.remove()}),r&&this.body.emitter.emit("_dataChanged")}refresh(){$e(this.body.edges,(e,r)=>{const n=this.body.data.edges.get(r);n!==void 0&&e.setOptions(n)})}create(e){return new oa(e,this.body,this.images,this.options,this.defaultOptions)}reconnectEdges(){let e;const r=this.body.nodes,n=this.body.edges;for(e in r)Object.prototype.hasOwnProperty.call(r,e)&&(r[e].edges=[]);for(e in n)if(Object.prototype.hasOwnProperty.call(n,e)){const i=n[e];i.from=null,i.to=null,i.connect()}}getConnectedNodes(e){const r=[];if(this.body.edges[e]!==void 0){const n=this.body.edges[e];n.fromId!==void 0&&r.push(n.fromId),n.toId!==void 0&&r.push(n.toId)}return r}_updateState(){this._addMissingEdges(),this._removeInvalidEdges()}_removeInvalidEdges(){const e=[];$e(this.body.edges,(r,n)=>{const i=this.body.nodes[r.toId],s=this.body.nodes[r.fromId];i!==void 0&&i.isCluster===!0||s!==void 0&&s.isCluster===!0||(i===void 0||s===void 0)&&e.push(n)}),this.remove(e,!1)}_addMissingEdges(){const e=this.body.data.edges;if(e==null)return;const r=this.body.edges,n=[];it(e).call(e,(i,s)=>{r[s]===void 0&&n.push(s)}),this.add(n,!0)}}class IY{constructor(e,r,n){this.body=e,this.physicsBody=r,this.barnesHutTree,this.setOptions(n),this._rng=Sm("BARNES HUT SOLVER")}setOptions(e){this.options=e,this.thetaInversed=1/this.options.theta,this.overlapAvoidanceFactor=1-Math.max(0,Math.min(1,this.options.avoidOverlap))}solve(){if(this.options.gravitationalConstant!==0&&this.physicsBody.physicsNodeIndices.length>0){let e;const r=this.body.nodes,n=this.physicsBody.physicsNodeIndices,i=n.length,s=this._formBarnesHutTree(r,n);this.barnesHutTree=s;for(let a=0;a<i;a++)e=r[n[a]],e.options.mass>0&&this._getForceContributions(s.root,e)}}_getForceContributions(e,r){this._getForceContribution(e.children.NW,r),this._getForceContribution(e.children.NE,r),this._getForceContribution(e.children.SW,r),this._getForceContribution(e.children.SE,r)}_getForceContribution(e,r){if(e.childrenCount>0){const n=e.centerOfMass.x-r.x,i=e.centerOfMass.y-r.y,s=Math.sqrt(n*n+i*i);s*e.calcSize>this.thetaInversed?this._calculateForces(s,n,i,r,e):e.childrenCount===4?this._getForceContributions(e,r):e.children.data.id!=r.id&&this._calculateForces(s,n,i,r,e)}}_calculateForces(e,r,n,i,s){e===0&&(e=.1,r=e),this.overlapAvoidanceFactor<1&&i.shape.radius&&(e=Math.max(.1+this.overlapAvoidanceFactor*i.shape.radius,e-i.shape.radius));const a=this.options.gravitationalConstant*s.mass*i.options.mass/Math.pow(e,3),o=r*a,l=n*a;this.physicsBody.forces[i.id].x+=o,this.physicsBody.forces[i.id].y+=l}_formBarnesHutTree(e,r){let n;const i=r.length;let s=e[r[0]].x,a=e[r[0]].y,o=e[r[0]].x,l=e[r[0]].y;for(let w=1;w<i;w++){const g=e[r[w]],v=g.x,x=g.y;g.options.mass>0&&(v<s&&(s=v),v>o&&(o=v),x<a&&(a=x),x>l&&(l=x))}const c=Math.abs(o-s)-Math.abs(l-a);c>0?(a-=.5*c,l+=.5*c):(s+=.5*c,o-=.5*c);const h=Math.max(1e-5,Math.abs(o-s)),f=.5*h,p=.5*(s+o),m=.5*(a+l),y={root:{centerOfMass:{x:0,y:0},mass:0,range:{minX:p-f,maxX:p+f,minY:m-f,maxY:m+f},size:h,calcSize:1/h,children:{data:null},maxWidth:0,level:0,childrenCount:4}};this._splitBranch(y.root);for(let w=0;w<i;w++)n=e[r[w]],n.options.mass>0&&this._placeInTree(y.root,n);return y}_updateBranchMass(e,r){const n=e.centerOfMass,i=e.mass+r.options.mass,s=1/i;n.x=n.x*e.mass+r.x*r.options.mass,n.x*=s,n.y=n.y*e.mass+r.y*r.options.mass,n.y*=s,e.mass=i;const a=Math.max(Math.max(r.height,r.radius),r.width);e.maxWidth=e.maxWidth<a?a:e.maxWidth}_placeInTree(e,r,n){(n!=!0||n===void 0)&&this._updateBranchMass(e,r);const i=e.children.NW.range;let s;i.maxX>r.x?i.maxY>r.y?s="NW":s="SW":i.maxY>r.y?s="NE":s="SE",this._placeInRegion(e,r,s)}_placeInRegion(e,r,n){const i=e.children[n];switch(i.childrenCount){case 0:i.children.data=r,i.childrenCount=1,this._updateBranchMass(i,r);break;case 1:i.children.data.x===r.x&&i.children.data.y===r.y?(r.x+=this._rng(),r.y+=this._rng()):(this._splitBranch(i),this._placeInTree(i,r));break;case 4:this._placeInTree(i,r);break}}_splitBranch(e){let r=null;e.childrenCount===1&&(r=e.children.data,e.mass=0,e.centerOfMass.x=0,e.centerOfMass.y=0),e.childrenCount=4,e.children.data=null,this._insertRegion(e,"NW"),this._insertRegion(e,"NE"),this._insertRegion(e,"SW"),this._insertRegion(e,"SE"),r!=null&&this._placeInTree(e,r)}_insertRegion(e,r){let n,i,s,a;const o=.5*e.size;switch(r){case"NW":n=e.range.minX,i=e.range.minX+o,s=e.range.minY,a=e.range.minY+o;break;case"NE":n=e.range.minX+o,i=e.range.maxX,s=e.range.minY,a=e.range.minY+o;break;case"SW":n=e.range.minX,i=e.range.minX+o,s=e.range.minY+o,a=e.range.maxY;break;case"SE":n=e.range.minX+o,i=e.range.maxX,s=e.range.minY+o,a=e.range.maxY;break}e.children[r]={centerOfMass:{x:0,y:0},mass:0,range:{minX:n,maxX:i,minY:s,maxY:a},size:.5*e.size,calcSize:2*e.calcSize,children:{data:null},maxWidth:0,level:e.level+1,childrenCount:0}}_debug(e,r){this.barnesHutTree!==void 0&&(e.lineWidth=1,this._drawBranch(this.barnesHutTree.root,e,r))}_drawBranch(e,r,n){n===void 0&&(n="#FF0000"),e.childrenCount===4&&(this._drawBranch(e.children.NW,r),this._drawBranch(e.children.NE,r),this._drawBranch(e.children.SE,r),this._drawBranch(e.children.SW,r)),r.strokeStyle=n,r.beginPath(),r.moveTo(e.range.minX,e.range.minY),r.lineTo(e.range.maxX,e.range.minY),r.stroke(),r.beginPath(),r.moveTo(e.range.maxX,e.range.minY),r.lineTo(e.range.maxX,e.range.maxY),r.stroke(),r.beginPath(),r.moveTo(e.range.maxX,e.range.maxY),r.lineTo(e.range.minX,e.range.maxY),r.stroke(),r.beginPath(),r.moveTo(e.range.minX,e.range.maxY),r.lineTo(e.range.minX,e.range.minY),r.stroke()}}class jye{constructor(e,r,n){this._rng=Sm("REPULSION SOLVER"),this.body=e,this.physicsBody=r,this.setOptions(n)}setOptions(e){this.options=e}solve(){let e,r,n,i,s,a,o,l;const c=this.body.nodes,d=this.physicsBody.physicsNodeIndices,h=this.physicsBody.forces,f=this.options.nodeDistance,p=-2/3/f,m=4/3;for(let y=0;y<d.length-1;y++){o=c[d[y]];for(let w=y+1;w<d.length;w++)l=c[d[w]],e=l.x-o.x,r=l.y-o.y,n=Math.sqrt(e*e+r*r),n===0&&(n=.1*this._rng(),e=n),n<2*f&&(n<.5*f?a=1:a=p*n+m,a=a/n,i=e*a,s=r*a,h[o.id].x-=i,h[o.id].y-=s,h[l.id].x+=i,h[l.id].y+=s)}}}class Iye{constructor(e,r,n){this.body=e,this.physicsBody=r,this.setOptions(n)}setOptions(e){this.options=e,this.overlapAvoidanceFactor=Math.max(0,Math.min(1,this.options.avoidOverlap||0))}solve(){const e=this.body.nodes,r=this.physicsBody.physicsNodeIndices,n=this.physicsBody.forces,i=this.options.nodeDistance;for(let s=0;s<r.length-1;s++){const a=e[r[s]];for(let o=s+1;o<r.length;o++){const l=e[r[o]];if(a.level===l.level){const c=i+this.overlapAvoidanceFactor*((a.shape.radius||0)/2+(l.shape.radius||0)/2),d=l.x-a.x,h=l.y-a.y,f=Math.sqrt(d*d+h*h),p=.05;let m;f<c?m=-Math.pow(p*f,2)+Math.pow(p*c,2):m=0,f!==0&&(m=m/f);const y=d*m,w=h*m;n[a.id].x-=y,n[a.id].y-=w,n[l.id].x+=y,n[l.id].y+=w}}}}}class FE{constructor(e,r,n){this.body=e,this.physicsBody=r,this.setOptions(n)}setOptions(e){this.options=e}solve(){let e,r;const n=this.physicsBody.physicsEdgeIndices,i=this.body.edges;let s,a,o;for(let l=0;l<n.length;l++)r=i[n[l]],r.connected===!0&&r.toId!==r.fromId&&this.body.nodes[r.toId]!==void 0&&this.body.nodes[r.fromId]!==void 0&&(r.edgeType.via!==void 0?(e=r.options.length===void 0?this.options.springLength:r.options.length,s=r.to,a=r.edgeType.via,o=r.from,this._calculateSpringForce(s,a,.5*e),this._calculateSpringForce(a,o,.5*e)):(e=r.options.length===void 0?this.options.springLength*1.5:r.options.length,this._calculateSpringForce(r.from,r.to,e)))}_calculateSpringForce(e,r,n){const i=e.x-r.x,s=e.y-r.y,a=Math.max(Math.sqrt(i*i+s*s),.01),o=this.options.springConstant*(n-a)/a,l=i*o,c=s*o;this.physicsBody.forces[e.id]!==void 0&&(this.physicsBody.forces[e.id].x+=l,this.physicsBody.forces[e.id].y+=c),this.physicsBody.forces[r.id]!==void 0&&(this.physicsBody.forces[r.id].x-=l,this.physicsBody.forces[r.id].y-=c)}}class Rye{constructor(e,r,n){this.body=e,this.physicsBody=r,this.setOptions(n)}setOptions(e){this.options=e}solve(){let e,r,n,i,s,a,o,l;const c=this.body.edges,d=.5,h=this.physicsBody.physicsEdgeIndices,f=this.physicsBody.physicsNodeIndices,p=this.physicsBody.forces;for(let b=0;b<f.length;b++){const _=f[b];p[_].springFx=0,p[_].springFy=0}for(let b=0;b<h.length;b++)r=c[h[b]],r.connected===!0&&(e=r.options.length===void 0?this.options.springLength:r.options.length,n=r.from.x-r.to.x,i=r.from.y-r.to.y,l=Math.sqrt(n*n+i*i),l=l===0?.01:l,o=this.options.springConstant*(e-l)/l,s=n*o,a=i*o,r.to.level!=r.from.level?(p[r.toId]!==void 0&&(p[r.toId].springFx-=s,p[r.toId].springFy-=a),p[r.fromId]!==void 0&&(p[r.fromId].springFx+=s,p[r.fromId].springFy+=a)):(p[r.toId]!==void 0&&(p[r.toId].x-=d*s,p[r.toId].y-=d*a),p[r.fromId]!==void 0&&(p[r.fromId].x+=d*s,p[r.fromId].y+=d*a)));o=1;let m,y;for(let b=0;b<f.length;b++){const _=f[b];m=Math.min(o,Math.max(-o,p[_].springFx)),y=Math.min(o,Math.max(-o,p[_].springFy)),p[_].x+=m,p[_].y+=y}let w=0,g=0;for(let b=0;b<f.length;b++){const _=f[b];w+=p[_].x,g+=p[_].y}const v=w/f.length,x=g/f.length;for(let b=0;b<f.length;b++){const _=f[b];p[_].x-=v,p[_].y-=x}}}class Ef{constructor(e,r,n){this.body=e,this.physicsBody=r,this.setOptions(n)}setOptions(e){this.options=e}solve(){let e,r,n,i;const s=this.body.nodes,a=this.physicsBody.physicsNodeIndices,o=this.physicsBody.forces;for(let l=0;l<a.length;l++){const c=a[l];i=s[c],e=-i.x,r=-i.y,n=Math.sqrt(e*e+r*r),this._calculateForces(n,e,r,o,i)}}_calculateForces(e,r,n,i,s){const a=e===0?0:this.options.centralGravity/e;i[s.id].x=r*a,i[s.id].y=n*a}}class $ye extends IY{constructor(e,r,n){super(e,r,n),this._rng=Sm("FORCE ATLAS 2 BASED REPULSION SOLVER")}_calculateForces(e,r,n,i,s){e===0&&(e=.1*this._rng(),r=e),this.overlapAvoidanceFactor<1&&i.shape.radius&&(e=Math.max(.1+this.overlapAvoidanceFactor*i.shape.radius,e-i.shape.radius));const a=i.edges.length+1,o=this.options.gravitationalConstant*s.mass*i.options.mass*a/Math.pow(e,2),l=r*o,c=n*o;this.physicsBody.forces[i.id].x+=l,this.physicsBody.forces[i.id].y+=c}}class kye extends Ef{constructor(e,r,n){super(e,r,n)}_calculateForces(e,r,n,i,s){if(e>0){const a=s.edges.length+1,o=this.options.centralGravity*a*s.options.mass;i[s.id].x=r*o,i[s.id].y=n*o}}}class Dye{constructor(e){this.body=e,this.physicsBody={physicsNodeIndices:[],physicsEdgeIndices:[],forces:{},velocities:{}},this.physicsEnabled=!0,this.simulationInterval=1e3/60,this.requiresTimeout=!0,this.previousStates={},this.referenceState={},this.freezeCache={},this.renderTimer=void 0,this.adaptiveTimestep=!1,this.adaptiveTimestepEnabled=!1,this.adaptiveCounter=0,this.adaptiveInterval=3,this.stabilized=!1,this.startedStabilization=!1,this.stabilizationIterations=0,this.ready=!1,this.options={},this.defaultOptions={enabled:!0,barnesHut:{theta:.5,gravitationalConstant:-2e3,centralGravity:.3,springLength:95,springConstant:.04,damping:.09,avoidOverlap:0},forceAtlas2Based:{theta:.5,gravitationalConstant:-50,centralGravity:.01,springConstant:.08,springLength:100,damping:.4,avoidOverlap:0},repulsion:{centralGravity:.2,springLength:200,springConstant:.05,nodeDistance:100,damping:.09,avoidOverlap:0},hierarchicalRepulsion:{centralGravity:0,springLength:100,springConstant:.01,nodeDistance:120,damping:.09},maxVelocity:50,minVelocity:.75,solver:"barnesHut",stabilization:{enabled:!0,iterations:1e3,updateInterval:50,onlyDynamicEdges:!1,fit:!0},timestep:.5,adaptiveTimestep:!0,wind:{x:0,y:0}},Ut(this.options,this.defaultOptions),this.timestep=.5,this.layoutFailed=!1,this.bindEventListeners()}bindEventListeners(){this.body.emitter.on("initPhysics",()=>{this.initPhysics()}),this.body.emitter.on("_layoutFailed",()=>{this.layoutFailed=!0}),this.body.emitter.on("resetPhysics",()=>{this.stopSimulation(),this.ready=!1}),this.body.emitter.on("disablePhysics",()=>{this.physicsEnabled=!1,this.stopSimulation()}),this.body.emitter.on("restorePhysics",()=>{this.setOptions(this.options),this.ready===!0&&this.startSimulation()}),this.body.emitter.on("startSimulation",()=>{this.ready===!0&&this.startSimulation()}),this.body.emitter.on("stopSimulation",()=>{this.stopSimulation()}),this.body.emitter.on("destroy",()=>{this.stopSimulation(!1),this.body.emitter.off()}),this.body.emitter.on("_dataChanged",()=>{this.updatePhysicsData()})}setOptions(e){if(e!==void 0)if(e===!1)this.options.enabled=!1,this.physicsEnabled=!1,this.stopSimulation();else if(e===!0)this.options.enabled=!0,this.physicsEnabled=!0,this.startSimulation();else{this.physicsEnabled=!0,mp(["stabilization"],this.options,e),Tn(this.options,e,"stabilization"),e.enabled===void 0&&(this.options.enabled=!0),this.options.enabled===!1&&(this.physicsEnabled=!1,this.stopSimulation());const r=this.options.wind;r&&((typeof r.x!="number"||_N(r.x))&&(r.x=0),(typeof r.y!="number"||_N(r.y))&&(r.y=0)),this.timestep=this.options.timestep}this.init()}init(){let e;this.options.solver==="forceAtlas2Based"?(e=this.options.forceAtlas2Based,this.nodesSolver=new $ye(this.body,this.physicsBody,e),this.edgesSolver=new FE(this.body,this.physicsBody,e),this.gravitySolver=new kye(this.body,this.physicsBody,e)):this.options.solver==="repulsion"?(e=this.options.repulsion,this.nodesSolver=new jye(this.body,this.physicsBody,e),this.edgesSolver=new FE(this.body,this.physicsBody,e),this.gravitySolver=new Ef(this.body,this.physicsBody,e)):this.options.solver==="hierarchicalRepulsion"?(e=this.options.hierarchicalRepulsion,this.nodesSolver=new Iye(this.body,this.physicsBody,e),this.edgesSolver=new Rye(this.body,this.physicsBody,e),this.gravitySolver=new Ef(this.body,this.physicsBody,e)):(e=this.options.barnesHut,this.nodesSolver=new IY(this.body,this.physicsBody,e),this.edgesSolver=new FE(this.body,this.physicsBody,e),this.gravitySolver=new Ef(this.body,this.physicsBody,e)),this.modelOptions=e}initPhysics(){this.physicsEnabled===!0&&this.options.enabled===!0?this.options.stabilization.enabled===!0?this.stabilize():(this.stabilized=!1,this.ready=!0,this.body.emitter.emit("fit",{},this.layoutFailed),this.startSimulation()):(this.ready=!0,this.body.emitter.emit("fit"))}startSimulation(){if(this.physicsEnabled===!0&&this.options.enabled===!0){if(this.stabilized=!1,this.adaptiveTimestep=!1,this.body.emitter.emit("_resizeNodes"),this.viewFunction===void 0){var e;this.viewFunction=ee(e=this.simulationStep).call(e,this),this.body.emitter.on("initRedraw",this.viewFunction),this.body.emitter.emit("_startRendering")}}else this.body.emitter.emit("_redraw")}stopSimulation(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.stabilized=!0,e===!0&&this._emitStabilized(),this.viewFunction!==void 0&&(this.body.emitter.off("initRedraw",this.viewFunction),this.viewFunction=void 0,e===!0&&this.body.emitter.emit("_stopRendering"))}simulationStep(){const e=dp();this.physicsTick(),(dp()-e<.4*this.simulationInterval||this.runDoubleSpeed===!0)&&this.stabilized===!1&&(this.physicsTick(),this.runDoubleSpeed=!0),this.stabilized===!0&&this.stopSimulation()}_emitStabilized(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.stabilizationIterations;(this.stabilizationIterations>1||this.startedStabilization===!0)&&es(()=>{this.body.emitter.emit("stabilized",{iterations:e}),this.startedStabilization=!1,this.stabilizationIterations=0},0)}physicsStep(){this.gravitySolver.solve(),this.nodesSolver.solve(),this.edgesSolver.solve(),this.moveNodes()}adjustTimeStep(){this._evaluateStepQuality()===!0?this.timestep=1.2*this.timestep:this.timestep/1.2<this.options.timestep?this.timestep=this.options.timestep:(this.adaptiveCounter=-1,this.timestep=Math.max(this.options.timestep,this.timestep/1.2))}physicsTick(){this._startStabilizing(),this.stabilized!==!0&&(this.adaptiveTimestep===!0&&this.adaptiveTimestepEnabled===!0?(this.adaptiveCounter%this.adaptiveInterval===0?(this.timestep=2*this.timestep,this.physicsStep(),this.revert(),this.timestep=.5*this.timestep,this.physicsStep(),this.physicsStep(),this.adjustTimeStep()):this.physicsStep(),this.adaptiveCounter+=1):(this.timestep=this.options.timestep,this.physicsStep()),this.stabilized===!0&&this.revert(),this.stabilizationIterations++)}updatePhysicsData(){this.physicsBody.forces={},this.physicsBody.physicsNodeIndices=[],this.physicsBody.physicsEdgeIndices=[];const e=this.body.nodes,r=this.body.edges;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&e[n].options.physics===!0&&this.physicsBody.physicsNodeIndices.push(e[n].id);for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&r[n].options.physics===!0&&this.physicsBody.physicsEdgeIndices.push(r[n].id);for(let n=0;n<this.physicsBody.physicsNodeIndices.length;n++){const i=this.physicsBody.physicsNodeIndices[n];this.physicsBody.forces[i]={x:0,y:0},this.physicsBody.velocities[i]===void 0&&(this.physicsBody.velocities[i]={x:0,y:0})}for(const n in this.physicsBody.velocities)e[n]===void 0&&delete this.physicsBody.velocities[n]}revert(){const e=Tt(this.previousStates),r=this.body.nodes,n=this.physicsBody.velocities;this.referenceState={};for(let i=0;i<e.length;i++){const s=e[i];r[s]!==void 0?r[s].options.physics===!0&&(this.referenceState[s]={positions:{x:r[s].x,y:r[s].y}},n[s].x=this.previousStates[s].vx,n[s].y=this.previousStates[s].vy,r[s].x=this.previousStates[s].x,r[s].y=this.previousStates[s].y):delete this.previousStates[s]}}_evaluateStepQuality(){let e,r,n;const i=this.body.nodes,s=this.referenceState,a=.3;for(const o in this.referenceState)if(Object.prototype.hasOwnProperty.call(this.referenceState,o)&&i[o]!==void 0&&(e=i[o].x-s[o].positions.x,r=i[o].y-s[o].positions.y,n=Math.sqrt(Math.pow(e,2)+Math.pow(r,2)),n>a))return!1;return!0}moveNodes(){const e=this.physicsBody.physicsNodeIndices;let r=0,n=0;const i=5;for(let s=0;s<e.length;s++){const a=e[s],o=this._performStep(a);r=Math.max(r,o),n+=o}this.adaptiveTimestepEnabled=n/e.length<i,this.stabilized=r<this.options.minVelocity}calculateComponentVelocity(e,r,n){const i=this.modelOptions.damping*e,s=(r-i)/n;e+=s*this.timestep;const a=this.options.maxVelocity||1e9;return Math.abs(e)>a&&(e=e>0?a:-a),e}_performStep(e){const r=this.body.nodes[e],n=this.physicsBody.forces[e];this.options.wind&&(n.x+=this.options.wind.x,n.y+=this.options.wind.y);const i=this.physicsBody.velocities[e];return this.previousStates[e]={x:r.x,y:r.y,vx:i.x,vy:i.y},r.options.fixed.x===!1?(i.x=this.calculateComponentVelocity(i.x,n.x,r.options.mass),r.x+=i.x*this.timestep):(n.x=0,i.x=0),r.options.fixed.y===!1?(i.y=this.calculateComponentVelocity(i.y,n.y,r.options.mass),r.y+=i.y*this.timestep):(n.y=0,i.y=0),Math.sqrt(Math.pow(i.x,2)+Math.pow(i.y,2))}_freezeNodes(){const e=this.body.nodes;for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&e[r].x&&e[r].y){const n=e[r].options.fixed;this.freezeCache[r]={x:n.x,y:n.y},n.x=!0,n.y=!0}}_restoreFrozenNodes(){const e=this.body.nodes;for(const r in e)Object.prototype.hasOwnProperty.call(e,r)&&this.freezeCache[r]!==void 0&&(e[r].options.fixed.x=this.freezeCache[r].x,e[r].options.fixed.y=this.freezeCache[r].y);this.freezeCache={}}stabilize(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.options.stabilization.iterations;if(typeof e!="number"&&(e=this.options.stabilization.iterations,console.error("The stabilize method needs a numeric amount of iterations. Switching to default: ",e)),this.physicsBody.physicsNodeIndices.length===0){this.ready=!0;return}this.adaptiveTimestep=this.options.adaptiveTimestep,this.body.emitter.emit("_resizeNodes"),this.stopSimulation(),this.stabilized=!1,this.body.emitter.emit("_blockRedraw"),this.targetIterations=e,this.options.stabilization.onlyDynamicEdges===!0&&this._freezeNodes(),this.stabilizationIterations=0,es(()=>this._stabilizationBatch(),0)}_startStabilizing(){return this.startedStabilization===!0?!1:(this.body.emitter.emit("startStabilizing"),this.startedStabilization=!0,!0)}_stabilizationBatch(){const e=()=>this.stabilized===!1&&this.stabilizationIterations<this.targetIterations,r=()=>{this.body.emitter.emit("stabilizationProgress",{iterations:this.stabilizationIterations,total:this.targetIterations})};this._startStabilizing()&&r();let n=0;for(;e()&&n<this.options.stabilization.updateInterval;)this.physicsTick(),n++;if(r(),e()){var i;es(ee(i=this._stabilizationBatch).call(i,this),0)}else this._finalizeStabilization()}_finalizeStabilization(){this.body.emitter.emit("_allowRedraw"),this.options.stabilization.fit===!0&&this.body.emitter.emit("fit"),this.options.stabilization.onlyDynamicEdges===!0&&this._restoreFrozenNodes(),this.body.emitter.emit("stabilizationIterationsDone"),this.body.emitter.emit("_requestRedraw"),this.stabilized===!0?this._emitStabilized():this.startSimulation(),this.ready=!0}_drawForces(e){for(let r=0;r<this.physicsBody.physicsNodeIndices.length;r++){const n=this.physicsBody.physicsNodeIndices[r],i=this.body.nodes[n],s=this.physicsBody.forces[n],a=20,o=.03,l=Math.sqrt(Math.pow(s.x,2)+Math.pow(s.x,2)),c=Math.min(Math.max(5,l),15),d=3*c,h=bN((180-Math.min(1,Math.max(0,o*l))*180)/360,1,1),f={x:i.x+a*s.x,y:i.y+a*s.y};e.lineWidth=c,e.strokeStyle=h,e.beginPath(),e.moveTo(i.x,i.y),e.lineTo(f.x,f.y),e.stroke();const p=Math.atan2(s.y,s.x);e.fillStyle=h,TY.draw(e,{type:"arrow",point:f,angle:p,length:d}),vh(e).call(e)}}}const mr=[];for(let t=0;t<256;++t)mr.push((t+256).toString(16).slice(1));function qye(t,e=0){return(mr[t[e+0]]+mr[t[e+1]]+mr[t[e+2]]+mr[t[e+3]]+"-"+mr[t[e+4]]+mr[t[e+5]]+"-"+mr[t[e+6]]+mr[t[e+7]]+"-"+mr[t[e+8]]+mr[t[e+9]]+"-"+mr[t[e+10]]+mr[t[e+11]]+mr[t[e+12]]+mr[t[e+13]]+mr[t[e+14]]+mr[t[e+15]]).toLowerCase()}let LE;const Mye=new Uint8Array(16);function Aye(){if(!LE){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");LE=crypto.getRandomValues.bind(crypto)}return LE(Mye)}const Fye=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto);var N7={randomUUID:Fye};function Lye(t,e,r){var i;t=t||{};const n=t.random??((i=t.rng)==null?void 0:i.call(t))??Aye();if(n.length<16)throw new Error("Random bytes length must be >= 16");return n[6]=n[6]&15|64,n[8]=n[8]&63|128,qye(n)}function zc(t,e,r){return N7.randomUUID&&!t?N7.randomUUID():Lye(t)}class Mr{constructor(){}static getRange(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],n=1e9,i=-1e9,s=1e9,a=-1e9,o;if(r.length>0)for(let l=0;l<r.length;l++)o=e[r[l]],s>o.shape.boundingBox.left&&(s=o.shape.boundingBox.left),a<o.shape.boundingBox.right&&(a=o.shape.boundingBox.right),n>o.shape.boundingBox.top&&(n=o.shape.boundingBox.top),i<o.shape.boundingBox.bottom&&(i=o.shape.boundingBox.bottom);return s===1e9&&a===-1e9&&n===1e9&&i===-1e9&&(n=0,i=0,s=0,a=0),{minX:s,maxX:a,minY:n,maxY:i}}static getRangeCore(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],n=1e9,i=-1e9,s=1e9,a=-1e9,o;if(r.length>0)for(let l=0;l<r.length;l++)o=e[r[l]],s>o.x&&(s=o.x),a<o.x&&(a=o.x),n>o.y&&(n=o.y),i<o.y&&(i=o.y);return s===1e9&&a===-1e9&&n===1e9&&i===-1e9&&(n=0,i=0,s=0,a=0),{minX:s,maxX:a,minY:n,maxY:i}}static findCenter(e){return{x:.5*(e.maxX+e.minX),y:.5*(e.maxY+e.minY)}}static cloneOptions(e,r){const n={};return r===void 0||r==="node"?(lt(n,e.options,!0),n.x=e.x,n.y=e.y,n.amountOfConnections=e.edges.length):lt(n,e.options,!0),n}}class Bye extends pt{constructor(e,r,n,i,s,a){super(e,r,n,i,s,a),this.isCluster=!0,this.containedNodes={},this.containedEdges={}}_openChildCluster(e){const r=this.body.nodes[e];if(this.containedNodes[e]===void 0)throw new Error("node with id: "+e+" not in current cluster");if(!r.isCluster)throw new Error("node with id: "+e+" is not a cluster");delete this.containedNodes[e],$e(r.edges,n=>{delete this.containedEdges[n.id]}),$e(r.containedNodes,(n,i)=>{this.containedNodes[i]=n}),r.containedNodes={},$e(r.containedEdges,(n,i)=>{this.containedEdges[i]=n}),r.containedEdges={},$e(r.edges,n=>{$e(this.edges,i=>{var s,a;const o=Ye(s=i.clusteringEdgeReplacingIds).call(s,n.id);o!==-1&&($e(n.clusteringEdgeReplacingIds,l=>{i.clusteringEdgeReplacingIds.push(l),this.body.edges[l].edgeReplacedById=i.id}),Zi(a=i.clusteringEdgeReplacingIds).call(a,o,1))})}),r.edges=[]}}class zye{constructor(e){this.body=e,this.clusteredNodes={},this.clusteredEdges={},this.options={},this.defaultOptions={},Ut(this.options,this.defaultOptions),this.body.emitter.on("_resetData",()=>{this.clusteredNodes={},this.clusteredEdges={}})}clusterByHubsize(e,r){e===void 0?e=this._getHubSize():typeof e=="object"&&(r=this._checkOptions(e),e=this._getHubSize());const n=[];for(let i=0;i<this.body.nodeIndices.length;i++){const s=this.body.nodes[this.body.nodeIndices[i]];s.edges.length>=e&&n.push(s.id)}for(let i=0;i<n.length;i++)this.clusterByConnection(n[i],r,!0);this.body.emitter.emit("_dataChanged")}cluster(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(e.joinCondition===void 0)throw new Error("Cannot call clusterByNodeData without a joinCondition function in the options.");e=this._checkOptions(e);const n={},i={};$e(this.body.nodes,(s,a)=>{s.options&&e.joinCondition(s.options)===!0&&(n[a]=s,$e(s.edges,o=>{this.clusteredEdges[o.id]===void 0&&(i[o.id]=o)}))}),this._cluster(n,i,e,r)}clusterByEdgeCount(e,r){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;r=this._checkOptions(r);const i=[],s={};let a,o,l;for(let c=0;c<this.body.nodeIndices.length;c++){const d={},h={},f=this.body.nodeIndices[c],p=this.body.nodes[f];if(s[f]===void 0){l=0,o=[];for(let m=0;m<p.edges.length;m++)a=p.edges[m],this.clusteredEdges[a.id]===void 0&&(a.toId!==a.fromId&&l++,o.push(a));if(l===e){const m=function(w){if(r.joinCondition===void 0||r.joinCondition===null)return!0;const g=Mr.cloneOptions(w);return r.joinCondition(g)};let y=!0;for(let w=0;w<o.length;w++){a=o[w];const g=this._getConnectedId(a,f);if(m(p))h[a.id]=a,d[f]=p,d[g]=this.body.nodes[g],s[f]=!0;else{y=!1;break}}if(Tt(d).length>0&&Tt(h).length>0&&y===!0){const g=function(){for(let v=0;v<i.length;++v)for(const x in d)if(i[v].nodes[x]!==void 0)return i[v]}();if(g!==void 0){for(const v in d)g.nodes[v]===void 0&&(g.nodes[v]=d[v]);for(const v in h)g.edges[v]===void 0&&(g.edges[v]=h[v])}else i.push({nodes:d,edges:h})}}}}for(let c=0;c<i.length;c++)this._cluster(i[c].nodes,i[c].edges,r,!1);n===!0&&this.body.emitter.emit("_dataChanged")}clusterOutliers(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;this.clusterByEdgeCount(1,e,r)}clusterBridges(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;this.clusterByEdgeCount(2,e,r)}clusterByConnection(e,r){var n;let i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(e===void 0)throw new Error("No nodeId supplied to clusterByConnection!");if(this.body.nodes[e]===void 0)throw new Error("The nodeId given to clusterByConnection does not exist!");const s=this.body.nodes[e];r=this._checkOptions(r,s),r.clusterNodeProperties.x===void 0&&(r.clusterNodeProperties.x=s.x),r.clusterNodeProperties.y===void 0&&(r.clusterNodeProperties.y=s.y),r.clusterNodeProperties.fixed===void 0&&(r.clusterNodeProperties.fixed={},r.clusterNodeProperties.fixed.x=s.options.fixed.x,r.clusterNodeProperties.fixed.y=s.options.fixed.y);const a={},o={},l=s.id,c=Mr.cloneOptions(s);a[l]=s;for(let h=0;h<s.edges.length;h++){const f=s.edges[h];if(this.clusteredEdges[f.id]===void 0){const p=this._getConnectedId(f,l);if(this.clusteredNodes[p]===void 0)if(p!==l)if(r.joinCondition===void 0)o[f.id]=f,a[p]=this.body.nodes[p];else{const m=Mr.cloneOptions(this.body.nodes[p]);r.joinCondition(c,m)===!0&&(o[f.id]=f,a[p]=this.body.nodes[p])}else o[f.id]=f}}const d=fu(n=Tt(a)).call(n,function(h){return a[h].id});for(const h in a){if(!Object.prototype.hasOwnProperty.call(a,h))continue;const f=a[h];for(let p=0;p<f.edges.length;p++){const m=f.edges[p];Ye(d).call(d,this._getConnectedId(m,f.id))>-1&&(o[m.id]=m)}}this._cluster(a,o,r,i)}_createClusterEdges(e,r,n,i){let s,a,o,l,c,d;const h=Tt(e),f=[];for(let y=0;y<h.length;y++){a=h[y],o=e[a];for(let w=0;w<o.edges.length;w++)s=o.edges[w],this.clusteredEdges[s.id]===void 0&&(s.toId==s.fromId?r[s.id]=s:s.toId==a?(l=n.id,c=s.fromId,d=c):(l=s.toId,c=n.id,d=l),e[d]===void 0&&f.push({edge:s,fromId:c,toId:l}))}const p=[],m=function(y){for(let w=0;w<p.length;w++){const g=p[w],v=y.fromId===g.fromId&&y.toId===g.toId,x=y.fromId===g.toId&&y.toId===g.fromId;if(v||x)return g}return null};for(let y=0;y<f.length;y++){const w=f[y],g=w.edge;let v=m(w);v===null?(v=this._createClusteredEdge(w.fromId,w.toId,g,i),p.push(v)):v.clusteringEdgeReplacingIds.push(g.id),this.body.edges[g.id].edgeReplacedById=v.id,this._backupEdgeOptions(g),g.setOptions({physics:!1})}}_checkOptions(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return e.clusterEdgeProperties===void 0&&(e.clusterEdgeProperties={}),e.clusterNodeProperties===void 0&&(e.clusterNodeProperties={}),e}_cluster(e,r,n){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0;const s=[];for(const d in e)Object.prototype.hasOwnProperty.call(e,d)&&this.clusteredNodes[d]!==void 0&&s.push(d);for(let d=0;d<s.length;++d)delete e[s[d]];if(Tt(e).length==0||Tt(e).length==1&&n.clusterNodeProperties.allowSingleNodeCluster!=!0)return;let a=lt({},n.clusterNodeProperties);if(n.processProperties!==void 0){const d=[];for(const f in e)if(Object.prototype.hasOwnProperty.call(e,f)){const p=Mr.cloneOptions(e[f]);d.push(p)}const h=[];for(const f in r)if(Object.prototype.hasOwnProperty.call(r,f)&&f.substr(0,12)!=="clusterEdge:"){const p=Mr.cloneOptions(r[f],"edge");h.push(p)}if(a=n.processProperties(a,d,h),!a)throw new Error("The processProperties function does not return properties!")}a.id===void 0&&(a.id="cluster:"+zc());const o=a.id;a.label===void 0&&(a.label="cluster");let l;a.x===void 0&&(l=this._getClusterPosition(e),a.x=l.x),a.y===void 0&&(l===void 0&&(l=this._getClusterPosition(e)),a.y=l.y),a.id=o;const c=this.body.functions.createNode(a,Bye);c.containedNodes=e,c.containedEdges=r,c.clusterEdgeProperties=n.clusterEdgeProperties,this.body.nodes[a.id]=c,this._clusterEdges(e,r,a,n.clusterEdgeProperties),a.id=void 0,i===!0&&this.body.emitter.emit("_dataChanged")}_backupEdgeOptions(e){this.clusteredEdges[e.id]===void 0&&(this.clusteredEdges[e.id]={physics:e.options.physics})}_restoreEdge(e){const r=this.clusteredEdges[e.id];r!==void 0&&(e.setOptions({physics:r.physics}),delete this.clusteredEdges[e.id])}isCluster(e){return this.body.nodes[e]!==void 0?this.body.nodes[e].isCluster===!0:(console.error("Node does not exist."),!1)}_getClusterPosition(e){const r=Tt(e);let n=e[r[0]].x,i=e[r[0]].x,s=e[r[0]].y,a=e[r[0]].y,o;for(let l=1;l<r.length;l++)o=e[r[l]],n=o.x<n?o.x:n,i=o.x>i?o.x:i,s=o.y<s?o.y:s,a=o.y>a?o.y:a;return{x:.5*(n+i),y:.5*(s+a)}}openCluster(e,r){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(e===void 0)throw new Error("No clusterNodeId supplied to openCluster.");const i=this.body.nodes[e];if(i===void 0)throw new Error("The clusterNodeId supplied to openCluster does not exist.");if(i.isCluster!==!0||i.containedNodes===void 0||i.containedEdges===void 0)throw new Error("The node:"+e+" is not a valid cluster.");const s=this.findNode(e),a=Ye(s).call(s,e)-1;if(a>=0){const d=s[a];this.body.nodes[d]._openChildCluster(e),delete this.body.nodes[e],n===!0&&this.body.emitter.emit("_dataChanged");return}const o=i.containedNodes,l=i.containedEdges;if(r!==void 0&&r.releaseFunction!==void 0&&typeof r.releaseFunction=="function"){const d={},h={x:i.x,y:i.y};for(const p in o)if(Object.prototype.hasOwnProperty.call(o,p)){const m=this.body.nodes[p];d[p]={x:m.x,y:m.y}}const f=r.releaseFunction(h,d);for(const p in o)if(Object.prototype.hasOwnProperty.call(o,p)){const m=this.body.nodes[p];f[p]!==void 0&&(m.x=f[p].x===void 0?i.x:f[p].x,m.y=f[p].y===void 0?i.y:f[p].y)}}else $e(o,function(d){d.options.fixed.x===!1&&(d.x=i.x),d.options.fixed.y===!1&&(d.y=i.y)});for(const d in o)if(Object.prototype.hasOwnProperty.call(o,d)){const h=this.body.nodes[d];h.vx=i.vx,h.vy=i.vy,h.setOptions({physics:!0}),delete this.clusteredNodes[d]}const c=[];for(let d=0;d<i.edges.length;d++)c.push(i.edges[d]);for(let d=0;d<c.length;d++){const h=c[d],f=this._getConnectedId(h,e),p=this.clusteredNodes[f];for(let m=0;m<h.clusteringEdgeReplacingIds.length;m++){const y=h.clusteringEdgeReplacingIds[m],w=this.body.edges[y];if(w!==void 0)if(p!==void 0){const g=this.body.nodes[p.clusterId];g.containedEdges[w.id]=w,delete l[w.id];let v=w.fromId,x=w.toId;w.toId==f?x=p.clusterId:v=p.clusterId,this._createClusteredEdge(v,x,w,g.clusterEdgeProperties,{hidden:!1,physics:!0})}else this._restoreEdge(w)}h.remove()}for(const d in l)Object.prototype.hasOwnProperty.call(l,d)&&this._restoreEdge(l[d]);delete this.body.nodes[e],n===!0&&this.body.emitter.emit("_dataChanged")}getNodesInCluster(e){const r=[];if(this.isCluster(e)===!0){const n=this.body.nodes[e].containedNodes;for(const i in n)Object.prototype.hasOwnProperty.call(n,i)&&r.push(this.body.nodes[i].id)}return r}findNode(e){const r=[];let i=0,s;for(;this.clusteredNodes[e]!==void 0&&i<100;){if(s=this.body.nodes[e],s===void 0)return[];r.push(s.id),e=this.clusteredNodes[e].clusterId,i++}return s=this.body.nodes[e],s===void 0?[]:(r.push(s.id),oo(r).call(r),r)}updateClusteredNode(e,r){if(e===void 0)throw new Error("No clusteredNodeId supplied to updateClusteredNode.");if(r===void 0)throw new Error("No newOptions supplied to updateClusteredNode.");if(this.body.nodes[e]===void 0)throw new Error("The clusteredNodeId supplied to updateClusteredNode does not exist.");this.body.nodes[e].setOptions(r),this.body.emitter.emit("_dataChanged")}updateEdge(e,r){if(e===void 0)throw new Error("No startEdgeId supplied to updateEdge.");if(r===void 0)throw new Error("No newOptions supplied to updateEdge.");if(this.body.edges[e]===void 0)throw new Error("The startEdgeId supplied to updateEdge does not exist.");const n=this.getClusteredEdges(e);for(let i=0;i<n.length;i++)this.body.edges[n[i]].setOptions(r);this.body.emitter.emit("_dataChanged")}getClusteredEdges(e){const r=[];let i=0;for(;e!==void 0&&this.body.edges[e]!==void 0&&i<100;)r.push(this.body.edges[e].id),e=this.body.edges[e].edgeReplacedById,i++;return oo(r).call(r),r}getBaseEdge(e){return this.getBaseEdges(e)[0]}getBaseEdges(e){const r=[e],n=[],i=[],s=100;let a=0;for(;r.length>0&&a<s;){const o=r.pop();if(o===void 0)continue;const l=this.body.edges[o];if(l===void 0)continue;a++;const c=l.clusteringEdgeReplacingIds;if(c===void 0)i.push(o);else for(let d=0;d<c.length;++d){const h=c[d];Ye(r).call(r,c)!==-1||Ye(n).call(n,c)!==-1||r.push(h)}n.push(o)}return i}_getConnectedId(e,r){return e.toId!=r?e.toId:(e.fromId!=r,e.fromId)}_getHubSize(){let e=0,r=0,n=0,i=0;for(let l=0;l<this.body.nodeIndices.length;l++){const c=this.body.nodes[this.body.nodeIndices[l]];c.edges.length>i&&(i=c.edges.length),e+=c.edges.length,r+=Math.pow(c.edges.length,2),n+=1}e=e/n,r=r/n;const s=r-Math.pow(e,2),a=Math.sqrt(s);let o=Math.floor(e+2*a);return o>i&&(o=i),o}_createClusteredEdge(e,r,n,i,s){const a=Mr.cloneOptions(n,"edge");lt(a,i),a.from=e,a.to=r,a.id="clusterEdge:"+zc(),s!==void 0&&lt(a,s);const o=this.body.functions.createEdge(a);return o.clusteringEdgeReplacingIds=[n.id],o.connect(),this.body.edges[o.id]=o,o}_clusterEdges(e,r,n,i){if(r instanceof oa){const s=r,a={};a[s.id]=s,r=a}if(e instanceof pt){const s=e,a={};a[s.id]=s,e=a}if(n==null)throw new Error("_clusterEdges: parameter clusterNode required");i===void 0&&(i=n.clusterEdgeProperties),this._createClusterEdges(e,r,n,i);for(const s in r)if(Object.prototype.hasOwnProperty.call(r,s)&&this.body.edges[s]!==void 0){const a=this.body.edges[s];this._backupEdgeOptions(a),a.setOptions({physics:!1})}for(const s in e)Object.prototype.hasOwnProperty.call(e,s)&&(this.clusteredNodes[s]={clusterId:n.id,node:this.body.nodes[s]},this.body.nodes[s].setOptions({physics:!1}))}_getClusterNodeForNode(e){if(e===void 0)return;const r=this.clusteredNodes[e];if(r===void 0)return;const n=r.clusterId;if(n!==void 0)return this.body.nodes[n]}_filter(e,r){const n=[];return $e(e,i=>{r(i)&&n.push(i)}),n}_updateState(){let e;const r=[],n={},i=l=>{$e(this.body.nodes,c=>{c.isCluster===!0&&l(c)})};for(e in this.clusteredNodes){if(!Object.prototype.hasOwnProperty.call(this.clusteredNodes,e))continue;this.body.nodes[e]===void 0&&r.push(e)}i(function(l){for(let c=0;c<r.length;c++)delete l.containedNodes[r[c]]});for(let l=0;l<r.length;l++)delete this.clusteredNodes[r[l]];$e(this.clusteredEdges,l=>{const c=this.body.edges[l];(c===void 0||!c.endPointsValid())&&(n[l]=l)}),i(function(l){$e(l.containedEdges,(c,d)=>{!c.endPointsValid()&&!n[d]&&(n[d]=d)})}),$e(this.body.edges,(l,c)=>{let d=!0;const h=l.clusteringEdgeReplacingIds;if(h!==void 0){let f=0;$e(h,p=>{const m=this.body.edges[p];m!==void 0&&m.endPointsValid()&&(f+=1)}),d=f>0}(!l.endPointsValid()||!d)&&(n[c]=c)}),i(l=>{$e(n,c=>{delete l.containedEdges[c],$e(l.edges,(d,h)=>{if(d.id===c){l.edges[h]=null;return}d.clusteringEdgeReplacingIds=this._filter(d.clusteringEdgeReplacingIds,function(f){return!n[f]})}),l.edges=this._filter(l.edges,function(d){return d!==null})})}),$e(n,l=>{delete this.clusteredEdges[l]}),$e(n,l=>{delete this.body.edges[l]});const s=Tt(this.body.edges);$e(s,l=>{const c=this.body.edges[l],d=this._isClusteredNode(c.fromId)||this._isClusteredNode(c.toId);if(d!==this._isClusteredEdge(c.id))if(d){const h=this._getClusterNodeForNode(c.fromId);h!==void 0&&this._clusterEdges(this.body.nodes[c.fromId],c,h);const f=this._getClusterNodeForNode(c.toId);f!==void 0&&this._clusterEdges(this.body.nodes[c.toId],c,f)}else delete this._clusterEdges[l],this._restoreEdge(c)});let a=!1,o=!0;for(;o;){const l=[];i(function(c){const d=Tt(c.containedNodes).length,h=c.options.allowSingleNodeCluster===!0;(h&&d<1||!h&&d<2)&&l.push(c.id)});for(let c=0;c<l.length;++c)this.openCluster(l[c],{},!1);o=l.length>0,a=a||o}a&&this._updateState()}_isClusteredNode(e){return this.clusteredNodes[e]!==void 0}_isClusteredEdge(e){return this.clusteredEdges[e]!==void 0}}class Uye{constructor(e,r){this.body=e,this.canvas=r,this.redrawRequested=!1,this.requestAnimationFrameRequestId=void 0,this.renderingActive=!1,this.renderRequests=0,this.allowRedraw=!0,this.dragging=!1,this.zooming=!1,this.options={},this.defaultOptions={hideEdgesOnDrag:!1,hideEdgesOnZoom:!1,hideNodesOnDrag:!1},Ut(this.options,this.defaultOptions),this.bindEventListeners()}bindEventListeners(){var e;this.body.emitter.on("dragStart",()=>{this.dragging=!0}),this.body.emitter.on("dragEnd",()=>{this.dragging=!1}),this.body.emitter.on("zoom",()=>{this.zooming=!0,window.clearTimeout(this.zoomTimeoutId),this.zoomTimeoutId=es(()=>{var r;this.zooming=!1,ee(r=this._requestRedraw).call(r,this)()},250)}),this.body.emitter.on("_resizeNodes",()=>{this._resizeNodes()}),this.body.emitter.on("_redraw",()=>{this.renderingActive===!1&&this._redraw()}),this.body.emitter.on("_blockRedraw",()=>{this.allowRedraw=!1}),this.body.emitter.on("_allowRedraw",()=>{this.allowRedraw=!0,this.redrawRequested=!1}),this.body.emitter.on("_requestRedraw",ee(e=this._requestRedraw).call(e,this)),this.body.emitter.on("_startRendering",()=>{this.renderRequests+=1,this.renderingActive=!0,this._startRendering()}),this.body.emitter.on("_stopRendering",()=>{this.renderRequests-=1,this.renderingActive=this.renderRequests>0,this.requestAnimationFrameRequestId=void 0}),this.body.emitter.on("destroy",()=>{this.renderRequests=0,this.allowRedraw=!1,this.renderingActive=!1,window.cancelAnimationFrame(this.requestAnimationFrameRequestId),this.body.emitter.off()})}setOptions(e){e!==void 0&&Zu(["hideEdgesOnDrag","hideEdgesOnZoom","hideNodesOnDrag"],this.options,e)}_startRendering(){if(this.renderingActive===!0&&this.requestAnimationFrameRequestId===void 0){var e;this.requestAnimationFrameRequestId=window.requestAnimationFrame(ee(e=this._renderStep).call(e,this),this.simulationInterval)}}_renderStep(){this.renderingActive===!0&&(this.requestAnimationFrameRequestId=void 0,this._startRendering(),this._redraw())}redraw(){this.body.emitter.emit("setSize"),this._redraw()}_requestRedraw(){this.redrawRequested!==!0&&this.renderingActive===!1&&this.allowRedraw===!0&&(this.redrawRequested=!0,window.requestAnimationFrame(()=>{this._redraw(!1)}))}_redraw(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;if(this.allowRedraw===!0){this.body.emitter.emit("initRedraw"),this.redrawRequested=!1;const r={drawExternalLabels:null};(this.canvas.frame.canvas.width===0||this.canvas.frame.canvas.height===0)&&this.canvas.setSize(),this.canvas.setTransform();const n=this.canvas.getContext(),i=this.canvas.frame.canvas.clientWidth,s=this.canvas.frame.canvas.clientHeight;if(n.clearRect(0,0,i,s),this.canvas.frame.clientWidth===0)return;if(n.save(),n.translate(this.body.view.translation.x,this.body.view.translation.y),n.scale(this.body.view.scale,this.body.view.scale),n.beginPath(),this.body.emitter.emit("beforeDrawing",n),n.closePath(),e===!1&&(this.dragging===!1||this.dragging===!0&&this.options.hideEdgesOnDrag===!1)&&(this.zooming===!1||this.zooming===!0&&this.options.hideEdgesOnZoom===!1)&&this._drawEdges(n),this.dragging===!1||this.dragging===!0&&this.options.hideNodesOnDrag===!1){const{drawExternalLabels:a}=this._drawNodes(n,e);r.drawExternalLabels=a}e===!1&&(this.dragging===!1||this.dragging===!0&&this.options.hideEdgesOnDrag===!1)&&(this.zooming===!1||this.zooming===!0&&this.options.hideEdgesOnZoom===!1)&&this._drawArrows(n),r.drawExternalLabels!=null&&r.drawExternalLabels(),e===!1&&this._drawSelectionBox(n),n.beginPath(),this.body.emitter.emit("afterDrawing",n),n.closePath(),n.restore(),e===!0&&n.clearRect(0,0,i,s)}}_resizeNodes(){this.canvas.setTransform();const e=this.canvas.getContext();e.save(),e.translate(this.body.view.translation.x,this.body.view.translation.y),e.scale(this.body.view.scale,this.body.view.scale);const r=this.body.nodes;let n;for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n=r[i],n.resize(e),n.updateBoundingBox(e,n.selected));e.restore()}_drawNodes(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;const n=this.body.nodes,i=this.body.nodeIndices;let s;const a=[],o=[],l=20,c=this.canvas.DOMtoCanvas({x:-l,y:-l}),d=this.canvas.DOMtoCanvas({x:this.canvas.frame.canvas.clientWidth+l,y:this.canvas.frame.canvas.clientHeight+l}),h={top:c.y,left:c.x,bottom:d.y,right:d.x},f=[];for(let w=0;w<i.length;w++)if(s=n[i[w]],s.hover)o.push(i[w]);else if(s.isSelected())a.push(i[w]);else if(r===!0){const g=s.draw(e);g.drawExternalLabel!=null&&f.push(g.drawExternalLabel)}else if(s.isBoundingBoxOverlappingWith(h)===!0){const g=s.draw(e);g.drawExternalLabel!=null&&f.push(g.drawExternalLabel)}else s.updateBoundingBox(e,s.selected);let p;const m=a.length,y=o.length;for(p=0;p<m;p++){s=n[a[p]];const w=s.draw(e);w.drawExternalLabel!=null&&f.push(w.drawExternalLabel)}for(p=0;p<y;p++){s=n[o[p]];const w=s.draw(e);w.drawExternalLabel!=null&&f.push(w.drawExternalLabel)}return{drawExternalLabels:()=>{for(const w of f)w()}}}_drawEdges(e){const r=this.body.edges,n=this.body.edgeIndices;for(let i=0;i<n.length;i++){const s=r[n[i]];s.connected===!0&&s.draw(e)}}_drawArrows(e){const r=this.body.edges,n=this.body.edgeIndices;for(let i=0;i<n.length;i++){const s=r[n[i]];s.connected===!0&&s.drawArrows(e)}}_drawSelectionBox(e){if(this.body.selectionBox.show){e.beginPath();const r=this.body.selectionBox.position.end.x-this.body.selectionBox.position.start.x,n=this.body.selectionBox.position.end.y-this.body.selectionBox.position.start.y;e.rect(this.body.selectionBox.position.start.x,this.body.selectionBox.position.start.y,r,n),e.fillStyle="rgba(151, 194, 252, 0.2)",e.fillRect(this.body.selectionBox.position.start.x,this.body.selectionBox.position.start.y,r,n),e.strokeStyle="rgba(151, 194, 252, 1)",e.stroke()}else e.closePath()}}var BE,P7;function Wye(){if(P7)return BE;P7=1,qG();var t=Je();return BE=t.setInterval,BE}var zE,C7;function Vye(){return C7||(C7=1,zE=Wye()),zE}var Hye=Vye(),Kye=Ne(Hye);function yp(t,e){e.inputHandler=function(r){r.isFirst&&e(r)},t.on("hammer.input",e.inputHandler)}function RY(t,e){return e.inputHandler=function(r){r.isFinal&&e(r)},t.on("hammer.input",e.inputHandler)}class Gye{constructor(e){this.body=e,this.pixelRatio=1,this.cameraState={},this.initialized=!1,this.canvasViewCenter={},this._cleanupCallbacks=[],this.options={},this.defaultOptions={autoResize:!0,height:"100%",width:"100%"},Ut(this.options,this.defaultOptions),this.bindEventListeners()}bindEventListeners(){var e;this.body.emitter.once("resize",r=>{r.width!==0&&(this.body.view.translation.x=r.width*.5),r.height!==0&&(this.body.view.translation.y=r.height*.5)}),this.body.emitter.on("setSize",ee(e=this.setSize).call(e,this)),this.body.emitter.on("destroy",()=>{this.hammerFrame.destroy(),this.hammer.destroy(),this._cleanUp()})}setOptions(e){if(e!==void 0&&Zu(["width","height","autoResize"],this.options,e),this._cleanUp(),this.options.autoResize===!0){var r;if(window.ResizeObserver){const i=new ResizeObserver(()=>{this.setSize()===!0&&this.body.emitter.emit("_requestRedraw")}),{frame:s}=this;i.observe(s),this._cleanupCallbacks.push(()=>{i.unobserve(s)})}else{const i=Kye(()=>{this.setSize()===!0&&this.body.emitter.emit("_requestRedraw")},1e3);this._cleanupCallbacks.push(()=>{clearInterval(i)})}const n=ee(r=this._onResize).call(r,this);window.addEventListener("resize",n),this._cleanupCallbacks.push(()=>{window.removeEventListener("resize",n)})}}_cleanUp(){var e,r,n;it(e=oo(r=Zi(n=this._cleanupCallbacks).call(n,0)).call(r)).call(e,i=>{try{i()}catch(s){console.error(s)}})}_onResize(){this.setSize(),this.body.emitter.emit("_redraw")}_getCameraState(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.pixelRatio;this.initialized===!0&&(this.cameraState.previousWidth=this.frame.canvas.width/e,this.cameraState.previousHeight=this.frame.canvas.height/e,this.cameraState.scale=this.body.view.scale,this.cameraState.position=this.DOMtoCanvas({x:.5*this.frame.canvas.width/e,y:.5*this.frame.canvas.height/e}))}_setCameraState(){if(this.cameraState.scale!==void 0&&this.frame.canvas.clientWidth!==0&&this.frame.canvas.clientHeight!==0&&this.pixelRatio!==0&&this.cameraState.previousWidth>0&&this.cameraState.previousHeight>0){const e=this.frame.canvas.width/this.pixelRatio/this.cameraState.previousWidth,r=this.frame.canvas.height/this.pixelRatio/this.cameraState.previousHeight;let n=this.cameraState.scale;e!=1&&r!=1?n=this.cameraState.scale*.5*(e+r):e!=1?n=this.cameraState.scale*e:r!=1&&(n=this.cameraState.scale*r),this.body.view.scale=n;const i=this.DOMtoCanvas({x:.5*this.frame.canvas.clientWidth,y:.5*this.frame.canvas.clientHeight}),s={x:i.x-this.cameraState.position.x,y:i.y-this.cameraState.position.y};this.body.view.translation.x+=s.x*this.body.view.scale,this.body.view.translation.y+=s.y*this.body.view.scale}}_prepareValue(e){if(typeof e=="number")return e+"px";if(typeof e=="string"){if(Ye(e).call(e,"%")!==-1||Ye(e).call(e,"px")!==-1)return e;if(Ye(e).call(e,"%")===-1)return e+"px"}throw new Error("Could not use the value supplied for width or height:"+e)}_create(){for(;this.body.container.hasChildNodes();)this.body.container.removeChild(this.body.container.firstChild);if(this.frame=document.createElement("div"),this.frame.className="vis-network",this.frame.style.position="relative",this.frame.style.overflow="hidden",this.frame.tabIndex=0,this.frame.canvas=document.createElement("canvas"),this.frame.canvas.style.position="relative",this.frame.appendChild(this.frame.canvas),this.frame.canvas.getContext)this._setPixelRatio(),this.setTransform();else{const e=document.createElement("DIV");e.style.color="red",e.style.fontWeight="bold",e.style.padding="10px",e.innerText="Error: your browser does not support HTML canvas",this.frame.canvas.appendChild(e)}this.body.container.appendChild(this.frame),this.body.view.scale=1,this.body.view.translation={x:.5*this.frame.canvas.clientWidth,y:.5*this.frame.canvas.clientHeight},this._bindHammer()}_bindHammer(){this.hammer!==void 0&&this.hammer.destroy(),this.drag={},this.pinch={},this.hammer=new Rl(this.frame.canvas),this.hammer.get("pinch").set({enable:!0}),this.hammer.get("pan").set({threshold:5,direction:Rl.DIRECTION_ALL}),yp(this.hammer,e=>{this.body.eventListeners.onTouch(e)}),this.hammer.on("tap",e=>{this.body.eventListeners.onTap(e)}),this.hammer.on("doubletap",e=>{this.body.eventListeners.onDoubleTap(e)}),this.hammer.on("press",e=>{this.body.eventListeners.onHold(e)}),this.hammer.on("panstart",e=>{this.body.eventListeners.onDragStart(e)}),this.hammer.on("panmove",e=>{this.body.eventListeners.onDrag(e)}),this.hammer.on("panend",e=>{this.body.eventListeners.onDragEnd(e)}),this.hammer.on("pinch",e=>{this.body.eventListeners.onPinch(e)}),this.frame.canvas.addEventListener("wheel",e=>{this.body.eventListeners.onMouseWheel(e)}),this.frame.canvas.addEventListener("mousemove",e=>{this.body.eventListeners.onMouseMove(e)}),this.frame.canvas.addEventListener("contextmenu",e=>{this.body.eventListeners.onContext(e)}),this.hammerFrame=new Rl(this.frame),RY(this.hammerFrame,e=>{this.body.eventListeners.onRelease(e)})}setSize(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.options.width,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.options.height;e=this._prepareValue(e),r=this._prepareValue(r);let n=!1;const i=this.frame.canvas.width,s=this.frame.canvas.height,a=this.pixelRatio;if(this._setPixelRatio(),e!=this.options.width||r!=this.options.height||this.frame.style.width!=e||this.frame.style.height!=r)this._getCameraState(a),this.frame.style.width=e,this.frame.style.height=r,this.frame.canvas.style.width="100%",this.frame.canvas.style.height="100%",this.frame.canvas.width=Math.round(this.frame.canvas.clientWidth*this.pixelRatio),this.frame.canvas.height=Math.round(this.frame.canvas.clientHeight*this.pixelRatio),this.options.width=e,this.options.height=r,this.canvasViewCenter={x:.5*this.frame.clientWidth,y:.5*this.frame.clientHeight},n=!0;else{const o=Math.round(this.frame.canvas.clientWidth*this.pixelRatio),l=Math.round(this.frame.canvas.clientHeight*this.pixelRatio);(this.frame.canvas.width!==o||this.frame.canvas.height!==l)&&this._getCameraState(a),this.frame.canvas.width!==o&&(this.frame.canvas.width=o,n=!0),this.frame.canvas.height!==l&&(this.frame.canvas.height=l,n=!0)}return n===!0&&(this.body.emitter.emit("resize",{width:Math.round(this.frame.canvas.width/this.pixelRatio),height:Math.round(this.frame.canvas.height/this.pixelRatio),oldWidth:Math.round(i/this.pixelRatio),oldHeight:Math.round(s/this.pixelRatio)}),this._setCameraState()),this.initialized=!0,n}getContext(){return this.frame.canvas.getContext("2d")}_determinePixelRatio(){const e=this.getContext();if(e===void 0)throw new Error("Could not get canvax context");let r=1;typeof window<"u"&&(r=window.devicePixelRatio||1);const n=e.webkitBackingStorePixelRatio||e.mozBackingStorePixelRatio||e.msBackingStorePixelRatio||e.oBackingStorePixelRatio||e.backingStorePixelRatio||1;return r/n}_setPixelRatio(){this.pixelRatio=this._determinePixelRatio()}setTransform(){const e=this.getContext();if(e===void 0)throw new Error("Could not get canvax context");e.setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0)}_XconvertDOMtoCanvas(e){return(e-this.body.view.translation.x)/this.body.view.scale}_XconvertCanvasToDOM(e){return e*this.body.view.scale+this.body.view.translation.x}_YconvertDOMtoCanvas(e){return(e-this.body.view.translation.y)/this.body.view.scale}_YconvertCanvasToDOM(e){return e*this.body.view.scale+this.body.view.translation.y}canvasToDOM(e){return{x:this._XconvertCanvasToDOM(e.x),y:this._YconvertCanvasToDOM(e.y)}}DOMtoCanvas(e){return{x:this._XconvertDOMtoCanvas(e.x),y:this._YconvertDOMtoCanvas(e.y)}}}function Yye(t,e){const r=Ut({nodes:e,minZoomLevel:Number.MIN_VALUE,maxZoomLevel:1},t??{});if(!Rt(r.nodes))throw new TypeError("Nodes has to be an array of ids.");if(r.nodes.length===0&&(r.nodes=e),!(typeof r.minZoomLevel=="number"&&r.minZoomLevel>0))throw new TypeError("Min zoom level has to be a number higher than zero.");if(!(typeof r.maxZoomLevel=="number"&&r.minZoomLevel<=r.maxZoomLevel))throw new TypeError("Max zoom level has to be a number higher than min zoom level.");return r}class Qye{constructor(e,r){var n,i;this.body=e,this.canvas=r,this.animationSpeed=1/this.renderRefreshRate,this.animationEasingFunction="easeInOutQuint",this.easingTime=0,this.sourceScale=0,this.targetScale=0,this.sourceTranslation=0,this.targetTranslation=0,this.lockedOnNodeId=void 0,this.lockedOnNodeOffset=void 0,this.touchTime=0,this.viewFunction=void 0,this.body.emitter.on("fit",ee(n=this.fit).call(n,this)),this.body.emitter.on("animationFinished",()=>{this.body.emitter.emit("_stopRendering")}),this.body.emitter.on("unlockNode",ee(i=this.releaseNode).call(i,this))}setOptions(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.options=e}fit(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;e=Yye(e,this.body.nodeIndices);const n=this.canvas.frame.canvas.clientWidth,i=this.canvas.frame.canvas.clientHeight;let s,a;if(n===0||i===0)a=1,s=Mr.getRange(this.body.nodes,e.nodes);else if(r===!0){let c=0;for(const f in this.body.nodes)Object.prototype.hasOwnProperty.call(this.body.nodes,f)&&this.body.nodes[f].predefinedPosition===!0&&(c+=1);if(c>.5*this.body.nodeIndices.length){this.fit(e,!1);return}s=Mr.getRange(this.body.nodes,e.nodes),a=12.662/(this.body.nodeIndices.length+7.4147)+.0964822;const h=Math.min(n/600,i/600);a*=h}else{this.body.emitter.emit("_resizeNodes"),s=Mr.getRange(this.body.nodes,e.nodes);const c=Math.abs(s.maxX-s.minX)*1.1,d=Math.abs(s.maxY-s.minY)*1.1,h=n/c,f=i/d;a=h<=f?h:f}a>e.maxZoomLevel?a=e.maxZoomLevel:a<e.minZoomLevel&&(a=e.minZoomLevel);const l={position:Mr.findCenter(s),scale:a,animation:e.animation};this.moveTo(l)}focus(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(this.body.nodes[e]!==void 0){const n={x:this.body.nodes[e].x,y:this.body.nodes[e].y};r.position=n,r.lockedOnNode=e,this.moveTo(r)}else console.error("Node: "+e+" cannot be found.")}moveTo(e){if(e===void 0){e={};return}if(e.offset!=null){if(e.offset.x!=null){if(e.offset.x=+e.offset.x,!Wa(e.offset.x))throw new TypeError('The option "offset.x" has to be a finite number.')}else e.offset.x=0;if(e.offset.y!=null){if(e.offset.y=+e.offset.y,!Wa(e.offset.y))throw new TypeError('The option "offset.y" has to be a finite number.')}else e.offset.x=0}else e.offset={x:0,y:0};if(e.position!=null){if(e.position.x!=null){if(e.position.x=+e.position.x,!Wa(e.position.x))throw new TypeError('The option "position.x" has to be a finite number.')}else e.position.x=0;if(e.position.y!=null){if(e.position.y=+e.position.y,!Wa(e.position.y))throw new TypeError('The option "position.y" has to be a finite number.')}else e.position.x=0}else e.position=this.getViewPosition();if(e.scale!=null){if(e.scale=+e.scale,!(e.scale>0))throw new TypeError('The option "scale" has to be a number greater than zero.')}else e.scale=this.body.view.scale;e.animation===void 0&&(e.animation={duration:0}),e.animation===!1&&(e.animation={duration:0}),e.animation===!0&&(e.animation={}),e.animation.duration===void 0&&(e.animation.duration=1e3),e.animation.easingFunction===void 0&&(e.animation.easingFunction="easeInOutQuad"),this.animateView(e)}animateView(e){if(e===void 0)return;this.animationEasingFunction=e.animation.easingFunction,this.releaseNode(),e.locked===!0&&(this.lockedOnNodeId=e.lockedOnNode,this.lockedOnNodeOffset=e.offset),this.easingTime!=0&&this._transitionRedraw(!0),this.sourceScale=this.body.view.scale,this.sourceTranslation=this.body.view.translation,this.targetScale=e.scale,this.body.view.scale=this.targetScale;const r=this.canvas.DOMtoCanvas({x:.5*this.canvas.frame.canvas.clientWidth,y:.5*this.canvas.frame.canvas.clientHeight}),n={x:r.x-e.position.x,y:r.y-e.position.y};if(this.targetTranslation={x:this.sourceTranslation.x+n.x*this.targetScale+e.offset.x,y:this.sourceTranslation.y+n.y*this.targetScale+e.offset.y},e.animation.duration===0)if(this.lockedOnNodeId!=null){var i;this.viewFunction=ee(i=this._lockedRedraw).call(i,this),this.body.emitter.on("initRedraw",this.viewFunction)}else this.body.view.scale=this.targetScale,this.body.view.translation=this.targetTranslation,this.body.emitter.emit("_requestRedraw");else{var s;this.animationSpeed=1/(60*e.animation.duration*.001)||1/60,this.animationEasingFunction=e.animation.easingFunction,this.viewFunction=ee(s=this._transitionRedraw).call(s,this),this.body.emitter.on("initRedraw",this.viewFunction),this.body.emitter.emit("_startRendering")}}_lockedRedraw(){const e={x:this.body.nodes[this.lockedOnNodeId].x,y:this.body.nodes[this.lockedOnNodeId].y},r=this.canvas.DOMtoCanvas({x:.5*this.canvas.frame.canvas.clientWidth,y:.5*this.canvas.frame.canvas.clientHeight}),n={x:r.x-e.x,y:r.y-e.y},i=this.body.view.translation,s={x:i.x+n.x*this.body.view.scale+this.lockedOnNodeOffset.x,y:i.y+n.y*this.body.view.scale+this.lockedOnNodeOffset.y};this.body.view.translation=s}releaseNode(){this.lockedOnNodeId!==void 0&&this.viewFunction!==void 0&&(this.body.emitter.off("initRedraw",this.viewFunction),this.lockedOnNodeId=void 0,this.lockedOnNodeOffset=void 0)}_transitionRedraw(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;this.easingTime+=this.animationSpeed,this.easingTime=e===!0?1:this.easingTime;const r=ime[this.animationEasingFunction](this.easingTime);if(this.body.view.scale=this.sourceScale+(this.targetScale-this.sourceScale)*r,this.body.view.translation={x:this.sourceTranslation.x+(this.targetTranslation.x-this.sourceTranslation.x)*r,y:this.sourceTranslation.y+(this.targetTranslation.y-this.sourceTranslation.y)*r},this.easingTime>=1){if(this.body.emitter.off("initRedraw",this.viewFunction),this.easingTime=0,this.lockedOnNodeId!=null){var n;this.viewFunction=ee(n=this._lockedRedraw).call(n,this),this.body.emitter.on("initRedraw",this.viewFunction)}this.body.emitter.emit("animationFinished")}}getScale(){return this.body.view.scale}getViewPosition(){return this.canvas.DOMtoCanvas({x:.5*this.canvas.frame.canvas.clientWidth,y:.5*this.canvas.frame.canvas.clientHeight})}}function T7(t){var e=t&&t.preventDefault||!1,r=t&&t.container||window,n={},i={keydown:{},keyup:{}},s={},a;for(a=97;a<=122;a++)s[String.fromCharCode(a)]={code:65+(a-97),shift:!1};for(a=65;a<=90;a++)s[String.fromCharCode(a)]={code:a,shift:!0};for(a=0;a<=9;a++)s[""+a]={code:48+a,shift:!1};for(a=1;a<=12;a++)s["F"+a]={code:111+a,shift:!1};for(a=0;a<=9;a++)s["num"+a]={code:96+a,shift:!1};s["num*"]={code:106,shift:!1},s["num+"]={code:107,shift:!1},s["num-"]={code:109,shift:!1},s["num/"]={code:111,shift:!1},s["num."]={code:110,shift:!1},s.left={code:37,shift:!1},s.up={code:38,shift:!1},s.right={code:39,shift:!1},s.down={code:40,shift:!1},s.space={code:32,shift:!1},s.enter={code:13,shift:!1},s.shift={code:16,shift:void 0},s.esc={code:27,shift:!1},s.backspace={code:8,shift:!1},s.tab={code:9,shift:!1},s.ctrl={code:17,shift:!1},s.alt={code:18,shift:!1},s.delete={code:46,shift:!1},s.pageup={code:33,shift:!1},s.pagedown={code:34,shift:!1},s["="]={code:187,shift:!1},s["-"]={code:189,shift:!1},s["]"]={code:221,shift:!1},s["["]={code:219,shift:!1};var o=function(d){c(d,"keydown")},l=function(d){c(d,"keyup")},c=function(d,h){if(i[h][d.keyCode]!==void 0){for(var f=i[h][d.keyCode],p=0;p<f.length;p++)(f[p].shift===void 0||f[p].shift==!0&&d.shiftKey==!0||f[p].shift==!1&&d.shiftKey==!1)&&f[p].fn(d);e==!0&&d.preventDefault()}};return n.bind=function(d,h,f){if(f===void 0&&(f="keydown"),s[d]===void 0)throw new Error("unsupported key: "+d);i[f][s[d].code]===void 0&&(i[f][s[d].code]=[]),i[f][s[d].code].push({fn:h,shift:s[d].shift})},n.bindAll=function(d,h){h===void 0&&(h="keydown");for(var f in s)s.hasOwnProperty(f)&&n.bind(f,d,h)},n.getKey=function(d){for(var h in s)if(s.hasOwnProperty(h)){if(d.shiftKey==!0&&s[h].shift==!0&&d.keyCode==s[h].code)return h;if(d.shiftKey==!1&&s[h].shift==!1&&d.keyCode==s[h].code)return h;if(d.keyCode==s[h].code&&h=="shift")return h}return"unknown key, currently not supported"},n.unbind=function(d,h,f){if(f===void 0&&(f="keydown"),s[d]===void 0)throw new Error("unsupported key: "+d);if(h!==void 0){var p=[],m=i[f][s[d].code];if(m!==void 0)for(var y=0;y<m.length;y++)m[y].fn==h&&m[y].shift==s[d].shift||p.push(i[f][s[d].code][y]);i[f][s[d].code]=p}else i[f][s[d].code]=[]},n.reset=function(){i={keydown:{},keyup:{}}},n.destroy=function(){i={keydown:{},keyup:{}},r.removeEventListener("keydown",o,!0),r.removeEventListener("keyup",l,!0)},r.addEventListener("keydown",o,!0),r.addEventListener("keyup",l,!0),n}class Xye{constructor(e,r){this.body=e,this.canvas=r,this.iconsCreated=!1,this.navigationHammers=[],this.boundFunctions={},this.touchTime=0,this.activated=!1,this.body.emitter.on("activate",()=>{this.activated=!0,this.configureKeyboardBindings()}),this.body.emitter.on("deactivate",()=>{this.activated=!1,this.configureKeyboardBindings()}),this.body.emitter.on("destroy",()=>{this.keycharm!==void 0&&this.keycharm.destroy()}),this.options={}}setOptions(e){e!==void 0&&(this.options=e,this.create())}create(){this.options.navigationButtons===!0?this.iconsCreated===!1&&this.loadNavigationElements():this.iconsCreated===!0&&this.cleanNavigation(),this.configureKeyboardBindings()}cleanNavigation(){if(this.navigationHammers.length!=0){for(let e=0;e<this.navigationHammers.length;e++)this.navigationHammers[e].destroy();this.navigationHammers=[]}this.navigationDOM&&this.navigationDOM.wrapper&&this.navigationDOM.wrapper.parentNode&&this.navigationDOM.wrapper.parentNode.removeChild(this.navigationDOM.wrapper),this.iconsCreated=!1}loadNavigationElements(){this.cleanNavigation(),this.navigationDOM={};const e=["up","down","left","right","zoomIn","zoomOut","zoomExtends"],r=["_moveUp","_moveDown","_moveLeft","_moveRight","_zoomIn","_zoomOut","_fit"];this.navigationDOM.wrapper=document.createElement("div"),this.navigationDOM.wrapper.className="vis-navigation",this.canvas.frame.appendChild(this.navigationDOM.wrapper);for(let a=0;a<e.length;a++){this.navigationDOM[e[a]]=document.createElement("div"),this.navigationDOM[e[a]].className="vis-button vis-"+e[a],this.navigationDOM.wrapper.appendChild(this.navigationDOM[e[a]]);const o=new Rl(this.navigationDOM[e[a]]);if(r[a]==="_fit"){var n;yp(o,ee(n=this._fit).call(n,this))}else{var i;yp(o,ee(i=this.bindToRedraw).call(i,this,r[a]))}this.navigationHammers.push(o)}const s=new Rl(this.canvas.frame);RY(s,()=>{this._stopMovement()}),this.navigationHammers.push(s),this.iconsCreated=!0}bindToRedraw(e){if(this.boundFunctions[e]===void 0){var r;this.boundFunctions[e]=ee(r=this[e]).call(r,this),this.body.emitter.on("initRedraw",this.boundFunctions[e]),this.body.emitter.emit("_startRendering")}}unbindFromRedraw(e){this.boundFunctions[e]!==void 0&&(this.body.emitter.off("initRedraw",this.boundFunctions[e]),this.body.emitter.emit("_stopRendering"),delete this.boundFunctions[e])}_fit(){new Date().valueOf()-this.touchTime>700&&(this.body.emitter.emit("fit",{duration:700}),this.touchTime=new Date().valueOf())}_stopMovement(){for(const e in this.boundFunctions)Object.prototype.hasOwnProperty.call(this.boundFunctions,e)&&(this.body.emitter.off("initRedraw",this.boundFunctions[e]),this.body.emitter.emit("_stopRendering"));this.boundFunctions={}}_moveUp(){this.body.view.translation.y+=this.options.keyboard.speed.y}_moveDown(){this.body.view.translation.y-=this.options.keyboard.speed.y}_moveLeft(){this.body.view.translation.x+=this.options.keyboard.speed.x}_moveRight(){this.body.view.translation.x-=this.options.keyboard.speed.x}_zoomIn(){const e=this.body.view.scale,r=this.body.view.scale*(1+this.options.keyboard.speed.zoom),n=this.body.view.translation,i=r/e,s=(1-i)*this.canvas.canvasViewCenter.x+n.x*i,a=(1-i)*this.canvas.canvasViewCenter.y+n.y*i;this.body.view.scale=r,this.body.view.translation={x:s,y:a},this.body.emitter.emit("zoom",{direction:"+",scale:this.body.view.scale,pointer:null})}_zoomOut(){const e=this.body.view.scale,r=this.body.view.scale/(1+this.options.keyboard.speed.zoom),n=this.body.view.translation,i=r/e,s=(1-i)*this.canvas.canvasViewCenter.x+n.x*i,a=(1-i)*this.canvas.canvasViewCenter.y+n.y*i;this.body.view.scale=r,this.body.view.translation={x:s,y:a},this.body.emitter.emit("zoom",{direction:"-",scale:this.body.view.scale,pointer:null})}configureKeyboardBindings(){if(this.keycharm!==void 0&&this.keycharm.destroy(),this.options.keyboard.enabled===!0&&(this.options.keyboard.bindToWindow===!0?this.keycharm=T7({container:window,preventDefault:!0}):this.keycharm=T7({container:this.canvas.frame,preventDefault:!0}),this.keycharm.reset(),this.activated===!0)){var e,r,n,i,s,a,o,l,c,d,h,f,p,m,y,w,g,v,x,b,_,E,O,S;ee(e=this.keycharm).call(e,"up",()=>{this.bindToRedraw("_moveUp")},"keydown"),ee(r=this.keycharm).call(r,"down",()=>{this.bindToRedraw("_moveDown")},"keydown"),ee(n=this.keycharm).call(n,"left",()=>{this.bindToRedraw("_moveLeft")},"keydown"),ee(i=this.keycharm).call(i,"right",()=>{this.bindToRedraw("_moveRight")},"keydown"),ee(s=this.keycharm).call(s,"=",()=>{this.bindToRedraw("_zoomIn")},"keydown"),ee(a=this.keycharm).call(a,"num+",()=>{this.bindToRedraw("_zoomIn")},"keydown"),ee(o=this.keycharm).call(o,"num-",()=>{this.bindToRedraw("_zoomOut")},"keydown"),ee(l=this.keycharm).call(l,"-",()=>{this.bindToRedraw("_zoomOut")},"keydown"),ee(c=this.keycharm).call(c,"[",()=>{this.bindToRedraw("_zoomOut")},"keydown"),ee(d=this.keycharm).call(d,"]",()=>{this.bindToRedraw("_zoomIn")},"keydown"),ee(h=this.keycharm).call(h,"pageup",()=>{this.bindToRedraw("_zoomIn")},"keydown"),ee(f=this.keycharm).call(f,"pagedown",()=>{this.bindToRedraw("_zoomOut")},"keydown"),ee(p=this.keycharm).call(p,"up",()=>{this.unbindFromRedraw("_moveUp")},"keyup"),ee(m=this.keycharm).call(m,"down",()=>{this.unbindFromRedraw("_moveDown")},"keyup"),ee(y=this.keycharm).call(y,"left",()=>{this.unbindFromRedraw("_moveLeft")},"keyup"),ee(w=this.keycharm).call(w,"right",()=>{this.unbindFromRedraw("_moveRight")},"keyup"),ee(g=this.keycharm).call(g,"=",()=>{this.unbindFromRedraw("_zoomIn")},"keyup"),ee(v=this.keycharm).call(v,"num+",()=>{this.unbindFromRedraw("_zoomIn")},"keyup"),ee(x=this.keycharm).call(x,"num-",()=>{this.unbindFromRedraw("_zoomOut")},"keyup"),ee(b=this.keycharm).call(b,"-",()=>{this.unbindFromRedraw("_zoomOut")},"keyup"),ee(_=this.keycharm).call(_,"[",()=>{this.unbindFromRedraw("_zoomOut")},"keyup"),ee(E=this.keycharm).call(E,"]",()=>{this.unbindFromRedraw("_zoomIn")},"keyup"),ee(O=this.keycharm).call(O,"pageup",()=>{this.unbindFromRedraw("_zoomIn")},"keyup"),ee(S=this.keycharm).call(S,"pagedown",()=>{this.unbindFromRedraw("_zoomOut")},"keyup")}}}class Jye{constructor(e,r,n){var i,s,a,o,l,c,d,h,f,p,m,y,w;this.body=e,this.canvas=r,this.selectionHandler=n,this.navigationHandler=new Xye(e,r),this.body.eventListeners.onTap=ee(i=this.onTap).call(i,this),this.body.eventListeners.onTouch=ee(s=this.onTouch).call(s,this),this.body.eventListeners.onDoubleTap=ee(a=this.onDoubleTap).call(a,this),this.body.eventListeners.onHold=ee(o=this.onHold).call(o,this),this.body.eventListeners.onDragStart=ee(l=this.onDragStart).call(l,this),this.body.eventListeners.onDrag=ee(c=this.onDrag).call(c,this),this.body.eventListeners.onDragEnd=ee(d=this.onDragEnd).call(d,this),this.body.eventListeners.onMouseWheel=ee(h=this.onMouseWheel).call(h,this),this.body.eventListeners.onPinch=ee(f=this.onPinch).call(f,this),this.body.eventListeners.onMouseMove=ee(p=this.onMouseMove).call(p,this),this.body.eventListeners.onRelease=ee(m=this.onRelease).call(m,this),this.body.eventListeners.onContext=ee(y=this.onContext).call(y,this),this.touchTime=0,this.drag={},this.pinch={},this.popup=void 0,this.popupObj=void 0,this.popupTimer=void 0,this.body.functions.getPointer=ee(w=this.getPointer).call(w,this),this.options={},this.defaultOptions={dragNodes:!0,dragView:!0,hover:!1,keyboard:{enabled:!1,speed:{x:10,y:10,zoom:.02},bindToWindow:!0,autoFocus:!0},navigationButtons:!1,tooltipDelay:300,zoomView:!0,zoomSpeed:1},Ut(this.options,this.defaultOptions),this.bindEventListeners()}bindEventListeners(){this.body.emitter.on("destroy",()=>{clearTimeout(this.popupTimer),delete this.body.functions.getPointer})}setOptions(e){e!==void 0&&(mp(["hideEdgesOnDrag","hideEdgesOnZoom","hideNodesOnDrag","keyboard","multiselect","selectable","selectConnectedEdges"],this.options,e),Tn(this.options,e,"keyboard"),e.tooltip&&(Ut(this.options.tooltip,e.tooltip),e.tooltip.color&&(this.options.tooltip.color=yN(e.tooltip.color)))),this.navigationHandler.setOptions(this.options)}getPointer(e){return{x:e.x-eme(this.canvas.frame.canvas),y:e.y-tme(this.canvas.frame.canvas)}}onTouch(e){new Date().valueOf()-this.touchTime>50&&(this.drag.pointer=this.getPointer(e.center),this.drag.pinched=!1,this.pinch.scale=this.body.view.scale,this.touchTime=new Date().valueOf())}onTap(e){const r=this.getPointer(e.center),n=this.selectionHandler.options.multiselect&&(e.changedPointers[0].ctrlKey||e.changedPointers[0].metaKey);this.checkSelectionChanges(r,n),this.selectionHandler.commitAndEmit(r,e),this.selectionHandler.generateClickEvent("click",e,r)}onDoubleTap(e){const r=this.getPointer(e.center);this.selectionHandler.generateClickEvent("doubleClick",e,r)}onHold(e){const r=this.getPointer(e.center),n=this.selectionHandler.options.multiselect;this.checkSelectionChanges(r,n),this.selectionHandler.commitAndEmit(r,e),this.selectionHandler.generateClickEvent("click",e,r),this.selectionHandler.generateClickEvent("hold",e,r)}onRelease(e){if(new Date().valueOf()-this.touchTime>10){const r=this.getPointer(e.center);this.selectionHandler.generateClickEvent("release",e,r),this.touchTime=new Date().valueOf()}}onContext(e){const r=this.getPointer({x:e.clientX,y:e.clientY});this.selectionHandler.generateClickEvent("oncontext",e,r)}checkSelectionChanges(e){(arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1)===!0?this.selectionHandler.selectAdditionalOnPoint(e):this.selectionHandler.selectOnPoint(e)}_determineDifference(e,r){const n=function(i,s){const a=[];for(let o=0;o<i.length;o++){const l=i[o];Ye(s).call(s,l)===-1&&a.push(l)}return a};return{nodes:n(e.nodes,r.nodes),edges:n(e.edges,r.edges)}}onDragStart(e){if(this.drag.dragging)return;this.drag.pointer===void 0&&this.onTouch(e);const r=this.selectionHandler.getNodeAt(this.drag.pointer);if(this.drag.dragging=!0,this.drag.selection=[],this.drag.translation=Ut({},this.body.view.translation),this.drag.nodeId=void 0,e.srcEvent.shiftKey){this.body.selectionBox.show=!0;const n=this.getPointer(e.center);this.body.selectionBox.position.start={x:this.canvas._XconvertDOMtoCanvas(n.x),y:this.canvas._YconvertDOMtoCanvas(n.y)},this.body.selectionBox.position.end={x:this.canvas._XconvertDOMtoCanvas(n.x),y:this.canvas._YconvertDOMtoCanvas(n.y)}}else if(r!==void 0&&this.options.dragNodes===!0){this.drag.nodeId=r.id,r.isSelected()===!1&&this.selectionHandler.setSelection({nodes:[r.id]}),this.selectionHandler.generateClickEvent("dragStart",e,this.drag.pointer);for(const n of this.selectionHandler.getSelectedNodes()){const i={id:n.id,node:n,x:n.x,y:n.y,xFixed:n.options.fixed.x,yFixed:n.options.fixed.y};n.options.fixed.x=!0,n.options.fixed.y=!0,this.drag.selection.push(i)}}else this.selectionHandler.generateClickEvent("dragStart",e,this.drag.pointer,void 0,!0)}onDrag(e){if(this.drag.pinched===!0)return;this.body.emitter.emit("unlockNode");const r=this.getPointer(e.center),n=this.drag.selection;if(n&&n.length&&this.options.dragNodes===!0){this.selectionHandler.generateClickEvent("dragging",e,r);const i=r.x-this.drag.pointer.x,s=r.y-this.drag.pointer.y;it(n).call(n,a=>{const o=a.node;a.xFixed===!1&&(o.x=this.canvas._XconvertDOMtoCanvas(this.canvas._XconvertCanvasToDOM(a.x)+i)),a.yFixed===!1&&(o.y=this.canvas._YconvertDOMtoCanvas(this.canvas._YconvertCanvasToDOM(a.y)+s))}),this.body.emitter.emit("startSimulation")}else{if(e.srcEvent.shiftKey){if(this.selectionHandler.generateClickEvent("dragging",e,r,void 0,!0),this.drag.pointer===void 0){this.onDragStart(e);return}this.body.selectionBox.position.end={x:this.canvas._XconvertDOMtoCanvas(r.x),y:this.canvas._YconvertDOMtoCanvas(r.y)},this.body.emitter.emit("_requestRedraw")}if(this.options.dragView===!0&&!e.srcEvent.shiftKey){if(this.selectionHandler.generateClickEvent("dragging",e,r,void 0,!0),this.drag.pointer===void 0){this.onDragStart(e);return}const i=r.x-this.drag.pointer.x,s=r.y-this.drag.pointer.y;this.body.view.translation={x:this.drag.translation.x+i,y:this.drag.translation.y+s},this.body.emitter.emit("_requestRedraw")}}}onDragEnd(e){if(this.drag.dragging=!1,this.body.selectionBox.show){var r;this.body.selectionBox.show=!1;const n=this.body.selectionBox.position,i={minX:Math.min(n.start.x,n.end.x),minY:Math.min(n.start.y,n.end.y),maxX:Math.max(n.start.x,n.end.x),maxY:Math.max(n.start.y,n.end.y)},s=Xr(r=this.body.nodeIndices).call(r,o=>{const l=this.body.nodes[o];return l.x>=i.minX&&l.x<=i.maxX&&l.y>=i.minY&&l.y<=i.maxY});it(s).call(s,o=>this.selectionHandler.selectObject(this.body.nodes[o]));const a=this.getPointer(e.center);this.selectionHandler.commitAndEmit(a,e),this.selectionHandler.generateClickEvent("dragEnd",e,this.getPointer(e.center),void 0,!0),this.body.emitter.emit("_requestRedraw")}else{const n=this.drag.selection;n&&n.length?(it(n).call(n,function(i){i.node.options.fixed.x=i.xFixed,i.node.options.fixed.y=i.yFixed}),this.selectionHandler.generateClickEvent("dragEnd",e,this.getPointer(e.center)),this.body.emitter.emit("startSimulation")):(this.selectionHandler.generateClickEvent("dragEnd",e,this.getPointer(e.center),void 0,!0),this.body.emitter.emit("_requestRedraw"))}}onPinch(e){const r=this.getPointer(e.center);this.drag.pinched=!0,this.pinch.scale===void 0&&(this.pinch.scale=1);const n=this.pinch.scale*e.scale;this.zoom(n,r)}zoom(e,r){if(this.options.zoomView===!0){const n=this.body.view.scale;e<1e-5&&(e=1e-5),e>10&&(e=10);let i;this.drag!==void 0&&this.drag.dragging===!0&&(i=this.canvas.DOMtoCanvas(this.drag.pointer));const s=this.body.view.translation,a=e/n,o=(1-a)*r.x+s.x*a,l=(1-a)*r.y+s.y*a;if(this.body.view.scale=e,this.body.view.translation={x:o,y:l},i!=null){const c=this.canvas.canvasToDOM(i);this.drag.pointer.x=c.x,this.drag.pointer.y=c.y}this.body.emitter.emit("_requestRedraw"),n<e?this.body.emitter.emit("zoom",{direction:"+",scale:this.body.view.scale,pointer:r}):this.body.emitter.emit("zoom",{direction:"-",scale:this.body.view.scale,pointer:r})}}onMouseWheel(e){if(this.options.zoomView===!0){if(e.deltaY!==0){let r=this.body.view.scale;r*=1+(e.deltaY<0?1:-1)*(this.options.zoomSpeed*.1);const n=this.getPointer({x:e.clientX,y:e.clientY});this.zoom(r,n)}e.preventDefault()}}onMouseMove(e){const r=this.getPointer({x:e.clientX,y:e.clientY});let n=!1;this.popup!==void 0&&(this.popup.hidden===!1&&this._checkHidePopup(r),this.popup.hidden===!1&&(n=!0,this.popup.setPosition(r.x+3,r.y-5),this.popup.show())),this.options.keyboard.autoFocus&&this.options.keyboard.bindToWindow===!1&&this.options.keyboard.enabled===!0&&this.canvas.frame.focus(),n===!1&&(this.popupTimer!==void 0&&(clearInterval(this.popupTimer),this.popupTimer=void 0),this.drag.dragging||(this.popupTimer=es(()=>this._checkShowPopup(r),this.options.tooltipDelay))),this.options.hover===!0&&this.selectionHandler.hoverObject(e,r)}_checkShowPopup(e){const r=this.canvas._XconvertDOMtoCanvas(e.x),n=this.canvas._YconvertDOMtoCanvas(e.y),i={left:r,top:n,right:r,bottom:n},s=this.popupObj===void 0?void 0:this.popupObj.id;let a=!1,o="node";if(this.popupObj===void 0){const l=this.body.nodeIndices,c=this.body.nodes;let d;const h=[];for(let f=0;f<l.length;f++)d=c[l[f]],d.isOverlappingWith(i)===!0&&(a=!0,d.getTitle()!==void 0&&h.push(l[f]));h.length>0&&(this.popupObj=c[h[h.length-1]],a=!0)}if(this.popupObj===void 0&&a===!1){const l=this.body.edgeIndices,c=this.body.edges;let d;const h=[];for(let f=0;f<l.length;f++)d=c[l[f]],d.isOverlappingWith(i)===!0&&d.connected===!0&&d.getTitle()!==void 0&&h.push(l[f]);h.length>0&&(this.popupObj=c[h[h.length-1]],o="edge")}this.popupObj!==void 0?this.popupObj.id!==s&&(this.popup===void 0&&(this.popup=new hme(this.canvas.frame)),this.popup.popupTargetType=o,this.popup.popupTargetId=this.popupObj.id,this.popup.setPosition(e.x+3,e.y-5),this.popup.setText(this.popupObj.getTitle()),this.popup.show(),this.body.emitter.emit("showPopup",this.popupObj.id)):this.popup!==void 0&&(this.popup.hide(),this.body.emitter.emit("hidePopup"))}_checkHidePopup(e){const r=this.selectionHandler._pointerToPositionObject(e);let n=!1;if(this.popup.popupTargetType==="node"){if(this.body.nodes[this.popup.popupTargetId]!==void 0&&(n=this.body.nodes[this.popup.popupTargetId].isOverlappingWith(r),n===!0)){const i=this.selectionHandler.getNodeAt(e);n=i===void 0?!1:i.id===this.popup.popupTargetId}}else this.selectionHandler.getNodeAt(e)===void 0&&this.body.edges[this.popup.popupTargetId]!==void 0&&(n=this.body.edges[this.popup.popupTargetId].isOverlappingWith(r));n===!1&&(this.popupObj=void 0,this.popup.hide(),this.body.emitter.emit("hidePopup"))}}var j7={},I7={},R7;function Zye(){if(R7)return I7;R7=1;var t=zC(),e=xY();return t("Set",function(r){return function(){return r(this,arguments.length?arguments[0]:void 0)}},e),I7}var $7;function ebe(){return $7||($7=1,Zye()),j7}var k7={},UE,D7;function Ko(){if(D7)return UE;D7=1;var t=Bu(),e=TypeError;return UE=function(r){if(typeof r=="object"&&"size"in r&&"has"in r&&"add"in r&&"delete"in r&&"keys"in r)return r;throw new e(t(r)+" is not a set")},UE}var WE,q7;function Go(){if(q7)return WE;q7=1;var t=Sn(),e=_Y(),r=t("Set"),n=r.prototype;return WE={Set:r,add:e("add",1),has:e("has",1),remove:e("delete",1),proto:n},WE}var VE,M7;function Yo(){if(M7)return VE;M7=1;var t=cn();return VE=function(e,r,n){for(var i=n?e:e.iterator,s=e.next,a,o;!(a=t(s,i)).done;)if(o=r(a.value),o!==void 0)return o},VE}var HE,A7;function _h(){if(A7)return HE;A7=1;var t=Yo();return HE=function(e,r,n){return n?t(e.keys(),r,!0):e.forEach(r)},HE}var KE,F7;function YC(){if(F7)return KE;F7=1;var t=Go(),e=_h(),r=t.Set,n=t.add;return KE=function(i){var s=new r;return e(i,function(a){n(s,a)}),s},KE}var GE,L7;function Sh(){return L7||(L7=1,GE=function(t){return t.size}),GE}var YE,B7;function tbe(){return B7||(B7=1,YE=function(t){return{iterator:t,next:t.next,done:!1}}),YE}var QE,z7;function Qo(){if(z7)return QE;z7=1;var t=bs(),e=Ri(),r=cn(),n=Vu(),i=tbe(),s="Invalid size",a=RangeError,o=TypeError,l=Math.max,c=function(d,h){this.set=d,this.size=l(h,0),this.has=t(d.has),this.keys=t(d.keys)};return c.prototype={getIterator:function(){return i(e(r(this.keys,this.set)))},includes:function(d){return r(this.has,this.set,d)}},QE=function(d){e(d);var h=+d.size;if(h!==h)throw new o(s);var f=n(h);if(f<0)throw new a(s);return new c(d,f)},QE}var XE,U7;function rbe(){if(U7)return XE;U7=1;var t=Ko(),e=Go(),r=YC(),n=Sh(),i=Qo(),s=_h(),a=Yo(),o=e.has,l=e.remove;return XE=function(d){var h=t(this),f=i(d),p=r(h);return n(h)<=f.size?s(h,function(m){f.includes(m)&&l(p,m)}):a(f.getIterator(),function(m){o(p,m)&&l(p,m)}),p},XE}var JE,W7;function Xo(){return W7||(W7=1,JE=function(){return!1}),JE}var V7;function nbe(){if(V7)return k7;V7=1;var t=xe(),e=rbe(),r=Ae(),n=Xo(),i=!n("difference",function(a){return a.size===0}),s=i||r(function(){var a={size:1,has:function(){return!0},keys:function(){var l=0;return{next:function(){var c=l++>1;return o.has(1)&&o.clear(),{done:c,value:2}}}}},o=new Set([1,2,3,4]);return o.difference(a).size!==3});return t({target:"Set",proto:!0,real:!0,forced:s},{difference:e}),k7}var H7={},ZE,K7;function ibe(){if(K7)return ZE;K7=1;var t=Ko(),e=Go(),r=Sh(),n=Qo(),i=_h(),s=Yo(),a=e.Set,o=e.add,l=e.has;return ZE=function(d){var h=t(this),f=n(d),p=new a;return r(h)>f.size?s(f.getIterator(),function(m){l(h,m)&&o(p,m)}):i(h,function(m){f.includes(m)&&o(p,m)}),p},ZE}var G7;function sbe(){if(G7)return H7;G7=1;var t=xe(),e=Ae(),r=ibe(),n=Xo(),i=!n("intersection",function(s){return s.size===2&&s.has(1)&&s.has(2)})||e(function(){return String(Array.from(new Set([1,2,3]).intersection(new Set([3,2]))))!=="3,2"});return t({target:"Set",proto:!0,real:!0,forced:i},{intersection:r}),H7}var Y7={},e2,Q7;function abe(){if(Q7)return e2;Q7=1;var t=Ko(),e=Go().has,r=Sh(),n=Qo(),i=_h(),s=Yo(),a=LC();return e2=function(l){var c=t(this),d=n(l);if(r(c)<=d.size)return i(c,function(f){if(d.includes(f))return!1},!0)!==!1;var h=d.getIterator();return s(h,function(f){if(e(c,f))return a(h,"normal",!1)})!==!1},e2}var X7;function obe(){if(X7)return Y7;X7=1;var t=xe(),e=abe(),r=Xo(),n=!r("isDisjointFrom",function(i){return!i});return t({target:"Set",proto:!0,real:!0,forced:n},{isDisjointFrom:e}),Y7}var J7={},t2,Z7;function lbe(){if(Z7)return t2;Z7=1;var t=Ko(),e=Sh(),r=_h(),n=Qo();return t2=function(s){var a=t(this),o=n(s);return e(a)>o.size?!1:r(a,function(l){if(!o.includes(l))return!1},!0)!==!1},t2}var eU;function ube(){if(eU)return J7;eU=1;var t=xe(),e=lbe(),r=Xo(),n=!r("isSubsetOf",function(i){return i});return t({target:"Set",proto:!0,real:!0,forced:n},{isSubsetOf:e}),J7}var tU={},r2,rU;function cbe(){if(rU)return r2;rU=1;var t=Ko(),e=Go().has,r=Sh(),n=Qo(),i=Yo(),s=LC();return r2=function(o){var l=t(this),c=n(o);if(r(l)<c.size)return!1;var d=c.getIterator();return i(d,function(h){if(!e(l,h))return s(d,"normal",!1)})!==!1},r2}var nU;function dbe(){if(nU)return tU;nU=1;var t=xe(),e=cbe(),r=Xo(),n=!r("isSupersetOf",function(i){return!i});return t({target:"Set",proto:!0,real:!0,forced:n},{isSupersetOf:e}),tU}var iU={},n2,sU;function hbe(){if(sU)return n2;sU=1;var t=Ko(),e=Go(),r=YC(),n=Qo(),i=Yo(),s=e.add,a=e.has,o=e.remove;return n2=function(c){var d=t(this),h=n(c).getIterator(),f=r(d);return i(h,function(p){a(d,p)?o(f,p):s(f,p)}),f},n2}var i2,aU;function $Y(){return aU||(aU=1,i2=function(t){try{var e=new Set,r={size:0,has:function(){return!0},keys:function(){return Object.defineProperty({},"next",{get:function(){return e.clear(),e.add(4),function(){return{done:!0}}}})}},n=e[t](r);return n.size===1&&n.values().next().value===4}catch{return!1}}),i2}var oU;function fbe(){if(oU)return iU;oU=1;var t=xe(),e=hbe(),r=$Y(),n=Xo(),i=!n("symmetricDifference")||!r("symmetricDifference");return t({target:"Set",proto:!0,real:!0,forced:i},{symmetricDifference:e}),iU}var lU={},s2,uU;function pbe(){if(uU)return s2;uU=1;var t=Ko(),e=Go().add,r=YC(),n=Qo(),i=Yo();return s2=function(a){var o=t(this),l=n(a).getIterator(),c=r(o);return i(l,function(d){e(c,d)}),c},s2}var cU;function mbe(){if(cU)return lU;cU=1;var t=xe(),e=pbe(),r=$Y(),n=Xo(),i=!n("union")||!r("union");return t({target:"Set",proto:!0,real:!0,forced:i},{union:e}),lU}var a2,dU;function vbe(){if(dU)return a2;dU=1,Yu(),ebe(),nbe(),sbe(),obe(),ube(),dbe(),fbe(),mbe(),WC();var t=Je();return a2=t.Set,a2}var o2,hU;function gbe(){if(hU)return o2;hU=1;var t=vbe();return Qu(),o2=t,o2}var l2,fU;function ybe(){return fU||(fU=1,l2=gbe()),l2}var bbe=ybe(),js=Ne(bbe),pU={},mU={},u2,vU;function wbe(){if(vU)return u2;vU=1;var t=ze(),e=UC(),r=Em().getWeakData,n=BC(),i=Ri(),s=Au(),a=hr(),o=Om(),l=Ea(),c=_r(),d=Wo(),h=d.set,f=d.getterFor,p=l.find,m=l.findIndex,y=t([].splice),w=0,g=function(b){return b.frozen||(b.frozen=new v)},v=function(){this.entries=[]},x=function(b,_){return p(b.entries,function(E){return E[0]===_})};return v.prototype={get:function(b){var _=x(this,b);if(_)return _[1]},has:function(b){return!!x(this,b)},set:function(b,_){var E=x(this,b);E?E[1]=_:this.entries.push([b,_])},delete:function(b){var _=m(this.entries,function(E){return E[0]===b});return~_&&y(this.entries,_,1),!!~_}},u2={getConstructor:function(b,_,E,O){var S=b(function(C,T){n(C,N),h(C,{type:_,id:w++,frozen:null}),s(T)||o(T,C[O],{that:C,AS_ENTRIES:E})}),N=S.prototype,P=f(_),I=function(C,T,M){var B=P(C),Q=r(i(T),!0);return Q===!0?g(B).set(T,M):Q[B.id]=M,C};return e(N,{delete:function(C){var T=P(this);if(!a(C))return!1;var M=r(C);return M===!0?g(T).delete(C):M&&c(M,T.id)&&delete M[T.id]},has:function(T){var M=P(this);if(!a(T))return!1;var B=r(T);return B===!0?g(M).has(T):B&&c(B,M.id)}}),e(N,E?{get:function(T){var M=P(this);if(a(T)){var B=r(T);if(B===!0)return g(M).get(T);if(B)return B[M.id]}},set:function(T,M){return I(this,T,M)}}:{add:function(T){return I(this,T,!0)}}),S}},u2}var gU;function xbe(){if(gU)return mU;gU=1;var t=bY(),e=vt(),r=ze(),n=UC(),i=Em(),s=zC(),a=wbe(),o=hr(),l=Wo().enforce,c=Ae(),d=xG(),h=Object,f=Array.isArray,p=h.isExtensible,m=h.isFrozen,y=h.isSealed,w=h.freeze,g=h.seal,v=!e.ActiveXObject&&"ActiveXObject"in e,x,b=function(C){return function(){return C(this,arguments.length?arguments[0]:void 0)}},_=s("WeakMap",b,a),E=_.prototype,O=r(E.set),S=function(){return t&&c(function(){var C=w([]);return O(new _,C,1),!m(C)})};if(d)if(v){x=a.getConstructor(b,"WeakMap",!0),i.enable();var N=r(E.delete),P=r(E.has),I=r(E.get);n(E,{delete:function(C){if(o(C)&&!p(C)){var T=l(this);return T.frozen||(T.frozen=new x),N(this,C)||T.frozen.delete(C)}return N(this,C)},has:function(T){if(o(T)&&!p(T)){var M=l(this);return M.frozen||(M.frozen=new x),P(this,T)||M.frozen.has(T)}return P(this,T)},get:function(T){if(o(T)&&!p(T)){var M=l(this);return M.frozen||(M.frozen=new x),P(this,T)?I(this,T):M.frozen.get(T)}return I(this,T)},set:function(T,M){if(o(T)&&!p(T)){var B=l(this);B.frozen||(B.frozen=new x),P(this,T)?O(this,T,M):B.frozen.set(T,M)}else O(this,T,M);return this}})}else S()&&n(E,{set:function(T,M){var B;return f(T)&&(m(T)?B=w:y(T)&&(B=g)),O(this,T,M),B&&B(T),this}});return mU}var yU;function _be(){return yU||(yU=1,xbe()),pU}var c2,bU;function Sbe(){if(bU)return c2;bU=1,Yu(),_be();var t=Je();return c2=t.WeakMap,c2}var d2,wU;function Ebe(){if(wU)return d2;wU=1;var t=Sbe();return Qu(),d2=t,d2}var h2,xU;function Obe(){return xU||(xU=1,h2=Ebe()),h2}var Nbe=Obe(),Eh=Ne(Nbe);function Uc(t,e,r){Pbe(t,e),e.set(t,r)}function Pbe(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function EN(t,e,r){return t.set(kY(t,e),r),r}function ot(t,e){return t.get(kY(t,e))}function kY(t,e,r){if(typeof t=="function"?t===e:t.has(e))return arguments.length<3?e:r;throw new TypeError("Private element is not present on this object")}function _U(t,e){const r=new js;for(const n of e)t.has(n)||r.add(n);return r}var sl=new Eh,Hn=new Eh;class SU{constructor(){Uc(this,sl,new js),Uc(this,Hn,new js)}get size(){return ot(Hn,this).size}add(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];for(const i of r)ot(Hn,this).add(i)}delete(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];for(const i of r)ot(Hn,this).delete(i)}clear(){ot(Hn,this).clear()}getSelection(){return[...ot(Hn,this)]}getChanges(){return{added:[..._U(ot(sl,this),ot(Hn,this))],deleted:[..._U(ot(Hn,this),ot(sl,this))],previous:[...new js(ot(sl,this))],current:[...new js(ot(Hn,this))]}}commit(){const e=this.getChanges();EN(sl,this,ot(Hn,this)),EN(Hn,this,new js(ot(sl,this)));for(const r of e.added)r.select();for(const r of e.deleted)r.unselect();return e}}var Ta=new Eh,ja=new Eh,f2=new Eh;class Cbe{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:()=>{};Uc(this,Ta,new SU),Uc(this,ja,new SU),Uc(this,f2,void 0),EN(f2,this,e)}get sizeNodes(){return ot(Ta,this).size}get sizeEdges(){return ot(ja,this).size}getNodes(){return ot(Ta,this).getSelection()}getEdges(){return ot(ja,this).getSelection()}addNodes(){ot(Ta,this).add(...arguments)}addEdges(){ot(ja,this).add(...arguments)}deleteNodes(e){ot(Ta,this).delete(e)}deleteEdges(e){ot(ja,this).delete(e)}clear(){ot(Ta,this).clear(),ot(ja,this).clear()}commit(){const e={nodes:ot(Ta,this).commit(),edges:ot(ja,this).commit()};for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return ot(f2,this).call(this,e,...n),e}}class Tbe{constructor(e,r){this.body=e,this.canvas=r,this._selectionAccumulator=new Cbe,this.hoverObj={nodes:{},edges:{}},this.options={},this.defaultOptions={multiselect:!1,selectable:!0,selectConnectedEdges:!0,hoverConnectedEdges:!0},Ut(this.options,this.defaultOptions),this.body.emitter.on("_dataChanged",()=>{this.updateSelection()})}setOptions(e){e!==void 0&&Zu(["multiselect","hoverConnectedEdges","selectable","selectConnectedEdges"],this.options,e)}selectOnPoint(e){let r=!1;if(this.options.selectable===!0){const n=this.getNodeAt(e)||this.getEdgeAt(e);this.unselectAll(),n!==void 0&&(r=this.selectObject(n)),this.body.emitter.emit("_requestRedraw")}return r}selectAdditionalOnPoint(e){let r=!1;if(this.options.selectable===!0){const n=this.getNodeAt(e)||this.getEdgeAt(e);n!==void 0&&(r=!0,n.isSelected()===!0?this.deselectObject(n):this.selectObject(n),this.body.emitter.emit("_requestRedraw"))}return r}_initBaseEvent(e,r){const n={};return n.pointer={DOM:{x:r.x,y:r.y},canvas:this.canvas.DOMtoCanvas(r)},n.event=e,n}generateClickEvent(e,r,n,i){let s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1;const a=this._initBaseEvent(r,n);if(s===!0)a.nodes=[],a.edges=[];else{const o=this.getSelection();a.nodes=o.nodes,a.edges=o.edges}i!==void 0&&(a.previousSelection=i),e=="click"&&(a.items=this.getClickedItems(n)),r.controlEdge!==void 0&&(a.controlEdge=r.controlEdge),this.body.emitter.emit(e,a)}selectObject(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.options.selectConnectedEdges;return e!==void 0?(e instanceof pt?(r===!0&&this._selectionAccumulator.addEdges(...e.edges),this._selectionAccumulator.addNodes(e)):this._selectionAccumulator.addEdges(e),!0):!1}deselectObject(e){e.isSelected()===!0&&(e.selected=!1,this._removeFromSelection(e))}_getAllNodesOverlappingWith(e){const r=[],n=this.body.nodes;for(let i=0;i<this.body.nodeIndices.length;i++){const s=this.body.nodeIndices[i];n[s].isOverlappingWith(e)&&r.push(s)}return r}_pointerToPositionObject(e){const r=this.canvas.DOMtoCanvas(e);return{left:r.x-1,top:r.y+1,right:r.x+1,bottom:r.y-1}}getNodeAt(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;const n=this._pointerToPositionObject(e),i=this._getAllNodesOverlappingWith(n);if(i.length>0)return r===!0?this.body.nodes[i[i.length-1]]:i[i.length-1]}_getEdgesOverlappingWith(e,r){const n=this.body.edges;for(let i=0;i<this.body.edgeIndices.length;i++){const s=this.body.edgeIndices[i];n[s].isOverlappingWith(e)&&r.push(s)}}_getAllEdgesOverlappingWith(e){const r=[];return this._getEdgesOverlappingWith(e,r),r}getEdgeAt(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;const n=this.canvas.DOMtoCanvas(e);let i=10,s=null;const a=this.body.edges;for(let o=0;o<this.body.edgeIndices.length;o++){const l=this.body.edgeIndices[o],c=a[l];if(c.connected){const d=c.from.x,h=c.from.y,f=c.to.x,p=c.to.y,m=c.edgeType.getDistanceToEdge(d,h,f,p,n.x,n.y);m<i&&(s=l,i=m)}}if(s!==null)return r===!0?this.body.edges[s]:s}_addToHover(e){e instanceof pt?this.hoverObj.nodes[e.id]=e:this.hoverObj.edges[e.id]=e}_removeFromSelection(e){e instanceof pt?(this._selectionAccumulator.deleteNodes(e),this._selectionAccumulator.deleteEdges(...e.edges)):this._selectionAccumulator.deleteEdges(e)}unselectAll(){this._selectionAccumulator.clear()}getSelectedNodeCount(){return this._selectionAccumulator.sizeNodes}getSelectedEdgeCount(){return this._selectionAccumulator.sizeEdges}_hoverConnectedEdges(e){for(let r=0;r<e.edges.length;r++){const n=e.edges[r];n.hover=!0,this._addToHover(n)}}emitBlurEvent(e,r,n){const i=this._initBaseEvent(e,r);n.hover===!0&&(n.hover=!1,n instanceof pt?(i.node=n.id,this.body.emitter.emit("blurNode",i)):(i.edge=n.id,this.body.emitter.emit("blurEdge",i)))}emitHoverEvent(e,r,n){const i=this._initBaseEvent(e,r);let s=!1;return n.hover===!1&&(n.hover=!0,this._addToHover(n),s=!0,n instanceof pt?(i.node=n.id,this.body.emitter.emit("hoverNode",i)):(i.edge=n.id,this.body.emitter.emit("hoverEdge",i))),s}hoverObject(e,r){let n=this.getNodeAt(r);n===void 0&&(n=this.getEdgeAt(r));let i=!1;for(const s in this.hoverObj.nodes)Object.prototype.hasOwnProperty.call(this.hoverObj.nodes,s)&&(n===void 0||n instanceof pt&&n.id!=s||n instanceof oa)&&(this.emitBlurEvent(e,r,this.hoverObj.nodes[s]),delete this.hoverObj.nodes[s],i=!0);for(const s in this.hoverObj.edges)Object.prototype.hasOwnProperty.call(this.hoverObj.edges,s)&&(i===!0?(this.hoverObj.edges[s].hover=!1,delete this.hoverObj.edges[s]):(n===void 0||n instanceof oa&&n.id!=s||n instanceof pt&&!n.hover)&&(this.emitBlurEvent(e,r,this.hoverObj.edges[s]),delete this.hoverObj.edges[s],i=!0));if(n!==void 0){const s=Tt(this.hoverObj.edges).length,a=Tt(this.hoverObj.nodes).length,o=n instanceof oa&&s===0&&a===0,l=n instanceof pt&&s===0&&a===0;(i||o||l)&&(i=this.emitHoverEvent(e,r,n)),n instanceof pt&&this.options.hoverConnectedEdges===!0&&this._hoverConnectedEdges(n)}i===!0&&this.body.emitter.emit("_requestRedraw")}commitWithoutEmitting(){this._selectionAccumulator.commit()}commitAndEmit(e,r){let n=!1;const i=this._selectionAccumulator.commit(),s={nodes:i.nodes.previous,edges:i.edges.previous};i.edges.deleted.length>0&&(this.generateClickEvent("deselectEdge",r,e,s),n=!0),i.nodes.deleted.length>0&&(this.generateClickEvent("deselectNode",r,e,s),n=!0),i.nodes.added.length>0&&(this.generateClickEvent("selectNode",r,e),n=!0),i.edges.added.length>0&&(this.generateClickEvent("selectEdge",r,e),n=!0),n===!0&&this.generateClickEvent("select",r,e)}getSelection(){return{nodes:this.getSelectedNodeIds(),edges:this.getSelectedEdgeIds()}}getSelectedNodes(){return this._selectionAccumulator.getNodes()}getSelectedEdges(){return this._selectionAccumulator.getEdges()}getSelectedNodeIds(){var e;return fu(e=this._selectionAccumulator.getNodes()).call(e,r=>r.id)}getSelectedEdgeIds(){var e;return fu(e=this._selectionAccumulator.getEdges()).call(e,r=>r.id)}setSelection(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!e||!e.nodes&&!e.edges)throw new TypeError("Selection must be an object with nodes and/or edges properties");if((r.unselectAll||r.unselectAll===void 0)&&this.unselectAll(),e.nodes)for(const n of e.nodes){const i=this.body.nodes[n];if(!i)throw new RangeError('Node with id "'+n+'" not found');this.selectObject(i,r.highlightEdges)}if(e.edges)for(const n of e.edges){const i=this.body.edges[n];if(!i)throw new RangeError('Edge with id "'+n+'" not found');this.selectObject(i)}this.body.emitter.emit("_requestRedraw"),this._selectionAccumulator.commit()}selectNodes(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(!e||e.length===void 0)throw"Selection must be an array with ids";this.setSelection({nodes:e},{highlightEdges:r})}selectEdges(e){if(!e||e.length===void 0)throw"Selection must be an array with ids";this.setSelection({edges:e})}updateSelection(){for(const e in this._selectionAccumulator.getNodes())Object.prototype.hasOwnProperty.call(this.body.nodes,e.id)||this._selectionAccumulator.deleteNodes(e);for(const e in this._selectionAccumulator.getEdges())Object.prototype.hasOwnProperty.call(this.body.edges,e.id)||this._selectionAccumulator.deleteEdges(e)}getClickedItems(e){const r=this.canvas.DOMtoCanvas(e),n=[],i=this.body.nodeIndices,s=this.body.nodes;for(let l=i.length-1;l>=0;l--){const d=s[i[l]].getItemsOnPoint(r);n.push.apply(n,d)}const a=this.body.edgeIndices,o=this.body.edges;for(let l=a.length-1;l>=0;l--){const d=o[a[l]].getItemsOnPoint(r);n.push.apply(n,d)}return n}}var EU={},p2,OU;function jbe(){if(OU)return p2;OU=1;var t=Hu(),e=Math.floor,r=function(n,i){var s=n.length;if(s<8)for(var a=1,o,l;a<s;){for(l=a,o=n[a];l&&i(n[l-1],o)>0;)n[l]=n[--l];l!==a++&&(n[l]=o)}else for(var c=e(s/2),d=r(t(n,0,c),i),h=r(t(n,c),i),f=d.length,p=h.length,m=0,y=0;m<f||y<p;)n[m+y]=m<f&&y<p?i(d[m],h[y])<=0?d[m++]:h[y++]:m<f?d[m++]:h[y++];return n};return p2=r,p2}var m2,NU;function Ibe(){if(NU)return m2;NU=1;var t=Fu(),e=t.match(/firefox\/(\d+)/i);return m2=!!e&&+e[1],m2}var v2,PU;function Rbe(){if(PU)return v2;PU=1;var t=Fu();return v2=/MSIE|Trident/.test(t),v2}var g2,CU;function $be(){if(CU)return g2;CU=1;var t=Fu(),e=t.match(/AppleWebKit\/(\d+)\./);return g2=!!e&&+e[1],g2}var TU;function kbe(){if(TU)return EU;TU=1;var t=xe(),e=ze(),r=bs(),n=En(),i=ws(),s=RG(),a=zn(),o=Ae(),l=jbe(),c=Xu(),d=Ibe(),h=Rbe(),f=lh(),p=$be(),m=[],y=e(m.sort),w=e(m.push),g=o(function(){m.sort(void 0)}),v=o(function(){m.sort(null)}),x=c("sort"),b=!o(function(){if(f)return f<70;if(!(d&&d>3)){if(h)return!0;if(p)return p<603;var O="",S,N,P,I;for(S=65;S<76;S++){switch(N=String.fromCharCode(S),S){case 66:case 69:case 70:case 72:P=3;break;case 68:case 71:P=4;break;default:P=2}for(I=0;I<47;I++)m.push({k:N+I,v:P})}for(m.sort(function(C,T){return T.v-C.v}),I=0;I<m.length;I++)N=m[I].k.charAt(0),O.charAt(O.length-1)!==N&&(O+=N);return O!=="DGBEFHACIJK"}}),_=g||!v||!x||!b,E=function(O){return function(S,N){return N===void 0?-1:S===void 0?1:O!==void 0?+O(S,N)||0:a(S)>a(N)?1:-1}};return t({target:"Array",proto:!0,forced:_},{sort:function(S){S!==void 0&&r(S);var N=n(this);if(b)return S===void 0?y(N):y(N,S);var P=[],I=i(N),C,T;for(T=0;T<I;T++)T in N&&w(P,N[T]);for(l(P,E(S)),C=i(P),T=0;T<C;)N[T]=P[T++];for(;T<I;)s(N,T++);return N}}),EU}var y2,jU;function Dbe(){if(jU)return y2;jU=1,kbe();var t=Sr();return y2=t("Array","sort"),y2}var b2,IU;function qbe(){if(IU)return b2;IU=1;var t=Gt(),e=Dbe(),r=Array.prototype;return b2=function(n){var i=n.sort;return n===r||t(r,n)&&i===r.sort?e:i},b2}var w2,RU;function Mbe(){if(RU)return w2;RU=1;var t=qbe();return w2=t,w2}var x2,$U;function Abe(){return $U||($U=1,x2=Mbe()),x2}var Fbe=Abe(),kl=Ne(Fbe),kU={},_2,DU;function Lbe(){if(DU)return _2;DU=1;var t=bs(),e=En(),r=cm(),n=ws(),i=TypeError,s="Reduce of empty array with no initial value",a=function(o){return function(l,c,d,h){var f=e(l),p=r(f),m=n(f);if(t(c),m===0&&d<2)throw new i(s);var y=o?m-1:0,w=o?-1:1;if(d<2)for(;;){if(y in p){h=p[y],y+=w;break}if(y+=w,o?y<0:m<=y)throw new i(s)}for(;o?y>=0:m>y;y+=w)y in p&&(h=c(h,p[y],y,f));return h}};return _2={left:a(!1),right:a(!0)},_2}var S2,qU;function Bbe(){if(qU)return S2;qU=1;var t=kG();return S2=t==="NODE",S2}var MU;function zbe(){if(MU)return kU;MU=1;var t=xe(),e=Lbe().left,r=Xu(),n=lh(),i=Bbe(),s=!i&&n>79&&n<83,a=s||!r("reduce");return t({target:"Array",proto:!0,forced:a},{reduce:function(l){var c=arguments.length;return e(this,l,c,c>1?arguments[1]:void 0)}}),kU}var E2,AU;function Ube(){if(AU)return E2;AU=1,zbe();var t=Sr();return E2=t("Array","reduce"),E2}var O2,FU;function Wbe(){if(FU)return O2;FU=1;var t=Gt(),e=Ube(),r=Array.prototype;return O2=function(n){var i=n.reduce;return n===r||t(r,n)&&i===r.reduce?e:i},O2}var N2,LU;function Vbe(){if(LU)return N2;LU=1;var t=Wbe();return N2=t,N2}var P2,BU;function Hbe(){return BU||(BU=1,P2=Vbe()),P2}var Kbe=Hbe(),DY=Ne(Kbe);class qY{abstract(){throw new Error("Can't instantiate abstract class!")}fake_use(){}curveType(){return this.abstract()}getPosition(e){return this.fake_use(e),this.abstract()}setPosition(e,r){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0;this.fake_use(e,r,n),this.abstract()}getTreeSize(e){return this.fake_use(e),this.abstract()}sort(e){this.fake_use(e),this.abstract()}fix(e,r){this.fake_use(e,r),this.abstract()}shift(e,r){this.fake_use(e,r),this.abstract()}}class Gbe extends qY{constructor(e){super(),this.layout=e}curveType(){return"horizontal"}getPosition(e){return e.x}setPosition(e,r){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0;n!==void 0&&this.layout.hierarchical.addToOrdering(e,n),e.x=r}getTreeSize(e){const r=this.layout.hierarchical.getTreeSize(this.layout.body.nodes,e);return{min:r.min_x,max:r.max_x}}sort(e){kl(e).call(e,function(r,n){return r.x-n.x})}fix(e,r){e.y=this.layout.options.hierarchical.levelSeparation*r,e.options.fixed.y=!0}shift(e,r){this.layout.body.nodes[e].x+=r}}class Ybe extends qY{constructor(e){super(),this.layout=e}curveType(){return"vertical"}getPosition(e){return e.y}setPosition(e,r){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0;n!==void 0&&this.layout.hierarchical.addToOrdering(e,n),e.y=r}getTreeSize(e){const r=this.layout.hierarchical.getTreeSize(this.layout.body.nodes,e);return{min:r.min_y,max:r.max_y}}sort(e){kl(e).call(e,function(r,n){return r.y-n.y})}fix(e,r){e.x=this.layout.options.hierarchical.levelSeparation*r,e.options.fixed.x=!0}shift(e,r){this.layout.body.nodes[e].y+=r}}var zU={},UU;function Qbe(){if(UU)return zU;UU=1;var t=xe(),e=Ea().every,r=Xu(),n=r("every");return t({target:"Array",proto:!0,forced:!n},{every:function(s){return e(this,s,arguments.length>1?arguments[1]:void 0)}}),zU}var C2,WU;function Xbe(){if(WU)return C2;WU=1,Qbe();var t=Sr();return C2=t("Array","every"),C2}var T2,VU;function Jbe(){if(VU)return T2;VU=1;var t=Gt(),e=Xbe(),r=Array.prototype;return T2=function(n){var i=n.every;return n===r||t(r,n)&&i===r.every?e:i},T2}var j2,HU;function Zbe(){if(HU)return j2;HU=1;var t=Jbe();return j2=t,j2}var I2,KU;function e0e(){return KU||(KU=1,I2=Zbe()),I2}var t0e=e0e(),MY=Ne(t0e);function r0e(t,e){const r=new js;return it(t).call(t,n=>{var i;it(i=n.edges).call(i,s=>{s.connected&&r.add(s)})}),it(r).call(r,n=>{const i=n.from.id,s=n.to.id;e[i]==null&&(e[i]=0),(e[s]==null||e[i]>=e[s])&&(e[s]=e[i]+1)}),e}function n0e(t){return AY(e=>{var r,n;return MY(r=Xr(n=e.edges).call(n,i=>t.has(i.toId))).call(r,i=>i.to===e)},(e,r)=>r>e,"from",t)}function i0e(t){return AY(e=>{var r,n;return MY(r=Xr(n=e.edges).call(n,i=>t.has(i.toId))).call(r,i=>i.from===e)},(e,r)=>r<e,"to",t)}function AY(t,e,r,n){var i;const s=lo(null),a=DY(i=[...CY(n).call(n)]).call(i,(h,f)=>h+1+f.edges.length,0),o=r+"Id",l=r==="to"?1:-1;for(const[h,f]of n){if(!n.has(h)||!t(f))continue;s[h]=0;const p=[f];let m=0,y;for(;y=p.pop();){var c,d;if(!n.has(h))continue;const w=s[y.id]+l;if(it(c=Xr(d=y.edges).call(d,g=>g.connected&&g.to!==g.from&&g[r]!==y&&n.has(g.toId)&&n.has(g.fromId))).call(c,g=>{const v=g[o],x=s[v];(x==null||e(w,x))&&(s[v]=w,p.push(g[r]))}),m>a)return r0e(n,s);++m}}return s}class s0e{constructor(){this.childrenReference={},this.parentReference={},this.trees={},this.distributionOrdering={},this.levels={},this.distributionIndex={},this.isTree=!1,this.treeIndex=-1}addRelation(e,r){this.childrenReference[e]===void 0&&(this.childrenReference[e]=[]),this.childrenReference[e].push(r),this.parentReference[r]===void 0&&(this.parentReference[r]=[]),this.parentReference[r].push(e)}checkIfTree(){for(const e in this.parentReference)if(this.parentReference[e].length>1){this.isTree=!1;return}this.isTree=!0}numTrees(){return this.treeIndex+1}setTreeIndex(e,r){r!==void 0&&this.trees[e.id]===void 0&&(this.trees[e.id]=r,this.treeIndex=Math.max(r,this.treeIndex))}ensureLevel(e){this.levels[e]===void 0&&(this.levels[e]=0)}getMaxLevel(e){const r={},n=i=>{if(r[i]!==void 0)return r[i];let s=this.levels[i];if(this.childrenReference[i]){const a=this.childrenReference[i];if(a.length>0)for(let o=0;o<a.length;o++)s=Math.max(s,n(a[o]))}return r[i]=s,s};return n(e)}levelDownstream(e,r){this.levels[r.id]===void 0&&(this.levels[e.id]===void 0&&(this.levels[e.id]=0),this.levels[r.id]=this.levels[e.id]+1)}setMinLevelToZero(){var e;const r=new VC;let n=0;const i=kl(e=[...new js(wfe(this.levels))]).call(e,(s,a)=>s-a);for(const s of i)r.set(s,n++);for(const s in this.levels)Object.prototype.hasOwnProperty.call(this.levels,s)&&(this.levels[s]=r.get(this.levels[s]))}getTreeSize(e,r){let n=1e9,i=-1e9,s=1e9,a=-1e9;for(const o in this.trees)if(Object.prototype.hasOwnProperty.call(this.trees,o)&&this.trees[o]===r){const l=e[o];n=Math.min(l.x,n),i=Math.max(l.x,i),s=Math.min(l.y,s),a=Math.max(l.y,a)}return{min_x:n,max_x:i,min_y:s,max_y:a}}hasSameParent(e,r){const n=this.parentReference[e.id],i=this.parentReference[r.id];if(n===void 0||i===void 0)return!1;for(let s=0;s<n.length;s++)for(let a=0;a<i.length;a++)if(n[s]==i[a])return!0;return!1}inSameSubNetwork(e,r){return this.trees[e.id]===this.trees[r.id]}getLevels(){return Tt(this.distributionOrdering)}addToOrdering(e,r){this.distributionOrdering[r]===void 0&&(this.distributionOrdering[r]=[]);let n=!1;const i=this.distributionOrdering[r];for(const s in i)if(i[s]===e){n=!0;break}n||(this.distributionOrdering[r].push(e),this.distributionIndex[e.id]=this.distributionOrdering[r].length-1)}}class a0e{constructor(e){this.body=e,this._resetRNG(Math.random()+":"+dp()),this.setPhysics=!1,this.options={},this.optionsBackup={physics:{}},this.defaultOptions={randomSeed:void 0,improvedLayout:!0,clusterThreshold:150,hierarchical:{enabled:!1,levelSeparation:150,nodeSpacing:100,treeSpacing:200,blockShifting:!0,edgeMinimization:!0,parentCentralization:!0,direction:"UD",sortMethod:"hubsize"}},Ut(this.options,this.defaultOptions),this.bindEventListeners()}bindEventListeners(){this.body.emitter.on("_dataChanged",()=>{this.setupHierarchicalLayout()}),this.body.emitter.on("_dataLoaded",()=>{this.layoutNetwork()}),this.body.emitter.on("_resetHierarchicalLayout",()=>{this.setupHierarchicalLayout()}),this.body.emitter.on("_adjustEdgesForHierarchicalLayout",()=>{if(this.options.hierarchical.enabled!==!0)return;const e=this.direction.curveType();this.body.emitter.emit("_forceDisableDynamicCurves",e,!1)})}setOptions(e,r){if(e!==void 0){const n=this.options.hierarchical,i=n.enabled;if(Zu(["randomSeed","improvedLayout","clusterThreshold"],this.options,e),Tn(this.options,e,"hierarchical"),e.randomSeed!==void 0&&this._resetRNG(e.randomSeed),n.enabled===!0)return i===!0&&this.body.emitter.emit("refresh",!0),n.direction==="RL"||n.direction==="DU"?n.levelSeparation>0&&(n.levelSeparation*=-1):n.levelSeparation<0&&(n.levelSeparation*=-1),this.setDirectionStrategy(),this.body.emitter.emit("_resetHierarchicalLayout"),this.adaptAllOptionsForHierarchicalLayout(r);if(i===!0)return this.body.emitter.emit("refresh"),lt(r,this.optionsBackup)}return r}_resetRNG(e){this.initialRandomSeed=e,this._rng=Sm(this.initialRandomSeed)}adaptAllOptionsForHierarchicalLayout(e){if(this.options.hierarchical.enabled===!0){const r=this.optionsBackup.physics;e.physics===void 0||e.physics===!0?(e.physics={enabled:r.enabled===void 0?!0:r.enabled,solver:"hierarchicalRepulsion"},r.enabled=r.enabled===void 0?!0:r.enabled,r.solver=r.solver||"barnesHut"):typeof e.physics=="object"?(r.enabled=e.physics.enabled===void 0?!0:e.physics.enabled,r.solver=e.physics.solver||"barnesHut",e.physics.solver="hierarchicalRepulsion"):e.physics!==!1&&(r.solver="barnesHut",e.physics={solver:"hierarchicalRepulsion"});let n=this.direction.curveType();if(e.edges===void 0)this.optionsBackup.edges={smooth:{enabled:!0,type:"dynamic"}},e.edges={smooth:!1};else if(e.edges.smooth===void 0)this.optionsBackup.edges={smooth:{enabled:!0,type:"dynamic"}},e.edges.smooth=!1;else if(typeof e.edges.smooth=="boolean")this.optionsBackup.edges={smooth:e.edges.smooth},e.edges.smooth={enabled:e.edges.smooth,type:n};else{const i=e.edges.smooth;i.type!==void 0&&i.type!=="dynamic"&&(n=i.type),this.optionsBackup.edges={smooth:{enabled:i.enabled===void 0?!0:i.enabled,type:i.type===void 0?"dynamic":i.type,roundness:i.roundness===void 0?.5:i.roundness,forceDirection:i.forceDirection===void 0?!1:i.forceDirection}},e.edges.smooth={enabled:i.enabled===void 0?!0:i.enabled,type:n,roundness:i.roundness===void 0?.5:i.roundness,forceDirection:i.forceDirection===void 0?!1:i.forceDirection}}this.body.emitter.emit("_forceDisableDynamicCurves",n)}return e}positionInitially(e){if(this.options.hierarchical.enabled!==!0){this._resetRNG(this.initialRandomSeed);const r=e.length+50;for(let n=0;n<e.length;n++){const i=e[n],s=2*Math.PI*this._rng();i.x===void 0&&(i.x=r*Math.cos(s)),i.y===void 0&&(i.y=r*Math.sin(s))}}}layoutNetwork(){if(this.options.hierarchical.enabled!==!0&&this.options.improvedLayout===!0){const e=this.body.nodeIndices;let r=0;for(let n=0;n<e.length;n++)this.body.nodes[e[n]].predefinedPosition===!0&&(r+=1);if(r<.5*e.length){let i=0;const s=this.options.clusterThreshold,a={clusterNodeProperties:{shape:"ellipse",label:"",group:"",font:{multi:!1}},clusterEdgeProperties:{label:"",font:{multi:!1},smooth:{enabled:!1}}};if(e.length>s){const l=e.length;for(;e.length>s&&i<=10;){i+=1;const c=e.length;i%3===0?this.body.modules.clustering.clusterBridges(a):this.body.modules.clustering.clusterOutliers(a);const d=e.length;if(c==d&&i%3!==0){this._declusterAll(),this.body.emitter.emit("_layoutFailed"),console.info("This network could not be positioned by this version of the improved layout algorithm. Please disable improvedLayout for better performance.");return}}this.body.modules.kamadaKawai.setOptions({springLength:Math.max(150,2*l)})}i>10&&console.info("The clustering didn't succeed within the amount of interations allowed, progressing with partial result."),this.body.modules.kamadaKawai.solve(e,this.body.edgeIndices,!0),this._shiftToCenter();const o=70;for(let l=0;l<e.length;l++){const c=this.body.nodes[e[l]];c.predefinedPosition===!1&&(c.x+=(.5-this._rng())*o,c.y+=(.5-this._rng())*o)}this._declusterAll(),this.body.emitter.emit("_repositionBezierNodes")}}}_shiftToCenter(){const e=Mr.getRangeCore(this.body.nodes,this.body.nodeIndices),r=Mr.findCenter(e);for(let n=0;n<this.body.nodeIndices.length;n++){const i=this.body.nodes[this.body.nodeIndices[n]];i.x-=r.x,i.y-=r.y}}_declusterAll(){let e=!0;for(;e===!0;){e=!1;for(let r=0;r<this.body.nodeIndices.length;r++)this.body.nodes[this.body.nodeIndices[r]].isCluster===!0&&(e=!0,this.body.modules.clustering.openCluster(this.body.nodeIndices[r],{},!1));e===!0&&this.body.emitter.emit("_dataChanged")}}getSeed(){return this.initialRandomSeed}setupHierarchicalLayout(){if(this.options.hierarchical.enabled===!0&&this.body.nodeIndices.length>0){let e,r,n=!1,i=!1;this.lastNodeOnLevel={},this.hierarchical=new s0e;for(r in this.body.nodes)Object.prototype.hasOwnProperty.call(this.body.nodes,r)&&(e=this.body.nodes[r],e.options.level!==void 0?(n=!0,this.hierarchical.levels[r]=e.options.level):i=!0);if(i===!0&&n===!0)throw new Error("To use the hierarchical layout, nodes require either no predefined levels or levels have to be defined for all nodes.");{if(i===!0){const a=this.options.hierarchical.sortMethod;a==="hubsize"?this._determineLevelsByHubsize():a==="directed"?this._determineLevelsDirected():a==="custom"&&this._determineLevelsCustomCallback()}for(const a in this.body.nodes)Object.prototype.hasOwnProperty.call(this.body.nodes,a)&&this.hierarchical.ensureLevel(a);const s=this._getDistribution();this._generateMap(),this._placeNodesByHierarchy(s),this._condenseHierarchy(),this._shiftToCenter()}}}_condenseHierarchy(){var e=this;let r=!1;const n={},i=()=>{const g=a();let v=0;for(let x=0;x<g.length-1;x++){const b=g[x].max-g[x+1].min;v+=b+this.options.hierarchical.treeSpacing,s(x+1,v)}},s=(g,v)=>{const x=this.hierarchical.trees;for(const b in x)Object.prototype.hasOwnProperty.call(x,b)&&x[b]===g&&this.direction.shift(b,v)},a=()=>{const g=[];for(let v=0;v<this.hierarchical.numTrees();v++)g.push(this.direction.getTreeSize(v));return g},o=(g,v)=>{if(!v[g.id]&&(v[g.id]=!0,this.hierarchical.childrenReference[g.id])){const x=this.hierarchical.childrenReference[g.id];if(x.length>0)for(let b=0;b<x.length;b++)o(this.body.nodes[x[b]],v)}},l=function(g){let v=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1e9,x=1e9,b=1e9,_=1e9,E=-1e9;for(const O in g)if(Object.prototype.hasOwnProperty.call(g,O)){const S=e.body.nodes[O],N=e.hierarchical.levels[S.id],P=e.direction.getPosition(S),[I,C]=e._getSpaceAroundNode(S,g);x=Math.min(I,x),b=Math.min(C,b),N<=v&&(_=Math.min(P,_),E=Math.max(P,E))}return[_,E,x,b]},c=(g,v)=>{const x=this.hierarchical.getMaxLevel(g.id),b=this.hierarchical.getMaxLevel(v.id);return Math.min(x,b)},d=(g,v,x)=>{const b=this.hierarchical;for(let _=0;_<v.length;_++){const E=v[_],O=b.distributionOrdering[E];if(O.length>1)for(let S=0;S<O.length-1;S++){const N=O[S],P=O[S+1];b.hasSameParent(N,P)&&b.inSameSubNetwork(N,P)&&g(N,P,x)}}},h=function(g,v){let x=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;const b=e.direction.getPosition(g),_=e.direction.getPosition(v),E=Math.abs(_-b),O=e.options.hierarchical.nodeSpacing;if(E>O){const S={},N={};o(g,S),o(v,N);const P=c(g,v),I=l(S,P),C=l(N,P),T=I[1],M=C[0],B=C[2];if(Math.abs(T-M)>O){let G=T-M+O;G<-B+O&&(G=-B+O),G<0&&(e._shiftBlock(v.id,G),r=!0,x===!0&&e._centerParent(v))}}},f=(g,v)=>{const x=v.id,b=v.edges,_=this.hierarchical.levels[v.id],E=this.options.hierarchical.levelSeparation*this.options.hierarchical.levelSeparation,O={},S=[];for(let B=0;B<b.length;B++){const Q=b[B];if(Q.toId!=Q.fromId){const G=Q.toId==x?Q.from:Q.to;O[b[B].id]=G,this.hierarchical.levels[G.id]<_&&S.push(Q)}}const N=(B,Q)=>{let G=0;for(let F=0;F<Q.length;F++)if(O[Q[F].id]!==void 0){const W=this.direction.getPosition(O[Q[F].id])-B;G+=W/Math.sqrt(W*W+E)}return G},P=(B,Q)=>{let G=0;for(let F=0;F<Q.length;F++)if(O[Q[F].id]!==void 0){const W=this.direction.getPosition(O[Q[F].id])-B;G-=E*Math.pow(W*W+E,-1.5)}return G},I=(B,Q)=>{let G=this.direction.getPosition(v);const F={};for(let W=0;W<B;W++){const U=N(G,Q),z=P(G,Q),Y=40,fe=Math.max(-Y,Math.min(Y,Math.round(U/z)));if(G=G-fe,F[G]!==void 0)break;F[G]=W}return G},C=B=>{const Q=this.direction.getPosition(v);if(n[v.id]===void 0){const Y={};o(v,Y),n[v.id]=Y}const G=l(n[v.id]),F=G[2],W=G[3],U=B-Q;let z=0;U>0?z=Math.min(U,W-this.options.hierarchical.nodeSpacing):U<0&&(z=-Math.min(-U,F-this.options.hierarchical.nodeSpacing)),z!=0&&(this._shiftBlock(v.id,z),r=!0)},T=B=>{const Q=this.direction.getPosition(v),[G,F]=this._getSpaceAroundNode(v),W=B-Q;let U=Q;W>0?U=Math.min(Q+(F-this.options.hierarchical.nodeSpacing),B):W<0&&(U=Math.max(Q-(G-this.options.hierarchical.nodeSpacing),B)),U!==Q&&(this.direction.setPosition(v,U),r=!0)};let M=I(g,S);C(M),M=I(g,b),T(M)},p=g=>{let v=this.hierarchical.getLevels();v=oo(v).call(v);for(let x=0;x<g;x++){r=!1;for(let b=0;b<v.length;b++){const _=v[b],E=this.hierarchical.distributionOrdering[_];for(let O=0;O<E.length;O++)f(1e3,E[O])}if(r!==!0)break}},m=g=>{let v=this.hierarchical.getLevels();v=oo(v).call(v);for(let x=0;x<g&&(r=!1,d(h,v,!0),r===!0);x++);},y=()=>{for(const g in this.body.nodes)Object.prototype.hasOwnProperty.call(this.body.nodes,g)&&this._centerParent(this.body.nodes[g])},w=()=>{let g=this.hierarchical.getLevels();g=oo(g).call(g);for(let v=0;v<g.length;v++){const x=g[v],b=this.hierarchical.distributionOrdering[x];for(let _=0;_<b.length;_++)this._centerParent(b[_])}};this.options.hierarchical.blockShifting===!0&&(m(5),y()),this.options.hierarchical.edgeMinimization===!0&&p(20),this.options.hierarchical.parentCentralization===!0&&w(),i()}_getSpaceAroundNode(e,r){let n=!0;r===void 0&&(n=!1);const i=this.hierarchical.levels[e.id];if(i!==void 0){const s=this.hierarchical.distributionIndex[e.id],a=this.direction.getPosition(e),o=this.hierarchical.distributionOrdering[i];let l=1e9,c=1e9;if(s!==0){const d=o[s-1];if(n===!0&&r[d.id]===void 0||n===!1){const h=this.direction.getPosition(d);l=a-h}}if(s!=o.length-1){const d=o[s+1];if(n===!0&&r[d.id]===void 0||n===!1){const h=this.direction.getPosition(d);c=Math.min(c,h-a)}}return[l,c]}else return[0,0]}_centerParent(e){if(this.hierarchical.parentReference[e.id]){const r=this.hierarchical.parentReference[e.id];for(let n=0;n<r.length;n++){const i=r[n],s=this.body.nodes[i],a=this.hierarchical.childrenReference[i];if(a!==void 0){const o=this._getCenterPosition(a),l=this.direction.getPosition(s),[c,d]=this._getSpaceAroundNode(s),h=l-o;(h<0&&Math.abs(h)<d-this.options.hierarchical.nodeSpacing||h>0&&Math.abs(h)<c-this.options.hierarchical.nodeSpacing)&&this.direction.setPosition(s,o)}}}}_placeNodesByHierarchy(e){this.positionedNodes={};for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r;let i=Tt(e[n]);i=this._indexArrayToNodes(i),kl(r=this.direction).call(r,i);let s=0;for(let a=0;a<i.length;a++){const o=i[a];if(this.positionedNodes[o.id]===void 0){const l=this.options.hierarchical.nodeSpacing;let c=l*s;s>0&&(c=this.direction.getPosition(i[a-1])+l),this.direction.setPosition(o,c,n),this._validatePositionAndContinue(o,n,c),s++}}}}_placeBranchNodes(e,r){var n;const i=this.hierarchical.childrenReference[e];if(i===void 0)return;const s=[];for(let o=0;o<i.length;o++)s.push(this.body.nodes[i[o]]);kl(n=this.direction).call(n,s);for(let o=0;o<s.length;o++){const l=s[o],c=this.hierarchical.levels[l.id];if(c>r&&this.positionedNodes[l.id]===void 0){const d=this.options.hierarchical.nodeSpacing;let h;o===0?h=this.direction.getPosition(this.body.nodes[e]):h=this.direction.getPosition(s[o-1])+d,this.direction.setPosition(l,h,c),this._validatePositionAndContinue(l,c,h)}else return}const a=this._getCenterPosition(s);this.direction.setPosition(this.body.nodes[e],a,r)}_validatePositionAndContinue(e,r,n){if(this.hierarchical.isTree){if(this.lastNodeOnLevel[r]!==void 0){const i=this.direction.getPosition(this.body.nodes[this.lastNodeOnLevel[r]]);if(n-i<this.options.hierarchical.nodeSpacing){const s=i+this.options.hierarchical.nodeSpacing-n,a=this._findCommonParent(this.lastNodeOnLevel[r],e.id);this._shiftBlock(a.withChild,s)}}this.lastNodeOnLevel[r]=e.id,this.positionedNodes[e.id]=!0,this._placeBranchNodes(e.id,r)}}_indexArrayToNodes(e){const r=[];for(let n=0;n<e.length;n++)r.push(this.body.nodes[e[n]]);return r}_getDistribution(){const e={};let r,n;for(r in this.body.nodes)if(Object.prototype.hasOwnProperty.call(this.body.nodes,r)){n=this.body.nodes[r];const i=this.hierarchical.levels[r]===void 0?0:this.hierarchical.levels[r];this.direction.fix(n,i),e[i]===void 0&&(e[i]={}),e[i][r]=n}return e}_getActiveEdges(e){const r=[];return $e(e.edges,n=>{var i;Ye(i=this.body.edgeIndices).call(i,n.id)!==-1&&r.push(n)}),r}_getHubSizes(){const e={},r=this.body.nodeIndices;$e(r,i=>{const s=this.body.nodes[i],a=this._getActiveEdges(s).length;e[a]=!0});const n=[];return $e(e,i=>{n.push(Number(i))}),kl(n).call(n,function(i,s){return s-i}),n}_determineLevelsByHubsize(){const e=(n,i)=>{this.hierarchical.levelDownstream(n,i)},r=this._getHubSizes();for(let n=0;n<r.length;++n){const i=r[n];if(i===0)break;$e(this.body.nodeIndices,s=>{const a=this.body.nodes[s];i===this._getActiveEdges(a).length&&this._crawlNetwork(e,s)})}}_determineLevelsCustomCallback(){const r=function(i,s,a){},n=(i,s,a)=>{let o=this.hierarchical.levels[i.id];o===void 0&&(o=this.hierarchical.levels[i.id]=1e5);const l=r(Mr.cloneOptions(i,"node"),Mr.cloneOptions(s,"node"),Mr.cloneOptions(a,"edge"));this.hierarchical.levels[s.id]=o+l};this._crawlNetwork(n),this.hierarchical.setMinLevelToZero()}_determineLevelsDirected(){var e;const r=DY(e=this.body.nodeIndices).call(e,(n,i)=>(n.set(i,this.body.nodes[i]),n),new VC);this.options.hierarchical.shakeTowards==="roots"?this.hierarchical.levels=i0e(r):this.hierarchical.levels=n0e(r),this.hierarchical.setMinLevelToZero()}_generateMap(){const e=(r,n)=>{this.hierarchical.levels[n.id]>this.hierarchical.levels[r.id]&&this.hierarchical.addRelation(r.id,n.id)};this._crawlNetwork(e),this.hierarchical.checkIfTree()}_crawlNetwork(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:function(){},r=arguments.length>1?arguments[1]:void 0;const n={},i=(s,a)=>{if(n[s.id]===void 0){this.hierarchical.setTreeIndex(s,a),n[s.id]=!0;let o;const l=this._getActiveEdges(s);for(let c=0;c<l.length;c++){const d=l[c];d.connected===!0&&(d.toId==s.id?o=d.from:o=d.to,s.id!=o.id&&(e(s,o,d),i(o,a)))}}};if(r===void 0){let s=0;for(let a=0;a<this.body.nodeIndices.length;a++){const o=this.body.nodeIndices[a];if(n[o]===void 0){const l=this.body.nodes[o];i(l,s),s+=1}}}else{const s=this.body.nodes[r];if(s===void 0){console.error("Node not found:",r);return}i(s)}}_shiftBlock(e,r){const n={},i=s=>{if(n[s])return;n[s]=!0,this.direction.shift(s,r);const a=this.hierarchical.childrenReference[s];if(a!==void 0)for(let o=0;o<a.length;o++)i(a[o])};i(e)}_findCommonParent(e,r){const n={},i=(a,o)=>{const l=this.hierarchical.parentReference[o];if(l!==void 0)for(let c=0;c<l.length;c++){const d=l[c];a[d]=!0,i(a,d)}},s=(a,o)=>{const l=this.hierarchical.parentReference[o];if(l!==void 0)for(let c=0;c<l.length;c++){const d=l[c];if(a[d]!==void 0)return{foundParent:d,withChild:o};const h=s(a,d);if(h.foundParent!==null)return h}return{foundParent:null,withChild:o}};return i(n,e),s(n,r)}setDirectionStrategy(){this.options.hierarchical.direction==="UD"||this.options.hierarchical.direction==="DU"?this.direction=new Gbe(this):this.direction=new Ybe(this)}_getCenterPosition(e){let r=1e9,n=-1e9;for(let i=0;i<e.length;i++){let s;if(e[i].id!==void 0)s=e[i];else{const o=e[i];s=this.body.nodes[o]}const a=this.direction.getPosition(s);r=Math.min(r,a),n=Math.max(n,a)}return .5*(r+n)}}class o0e{constructor(e,r,n,i){var s,a;this.body=e,this.canvas=r,this.selectionHandler=n,this.interactionHandler=i,this.editMode=!1,this.manipulationDiv=void 0,this.editModeDiv=void 0,this.closeDiv=void 0,this._domEventListenerCleanupQueue=[],this.temporaryUIFunctions={},this.temporaryEventFunctions=[],this.touchTime=0,this.temporaryIds={nodes:[],edges:[]},this.guiEnabled=!1,this.inMode=!1,this.selectedControlNode=void 0,this.options={},this.defaultOptions={enabled:!1,initiallyActive:!1,addNode:!0,addEdge:!0,editNode:void 0,editEdge:!0,deleteNode:!0,deleteEdge:!0,controlNodeStyle:{shape:"dot",size:6,color:{background:"#ff0000",border:"#3c3c3c",highlight:{background:"#07f968",border:"#3c3c3c"}},borderWidth:2,borderWidthSelected:2}},Ut(this.options,this.defaultOptions),this.body.emitter.on("destroy",()=>{this._clean()}),this.body.emitter.on("_dataChanged",ee(s=this._restore).call(s,this)),this.body.emitter.on("_resetData",ee(a=this._restore).call(a,this))}_restore(){this.inMode!==!1&&(this.options.initiallyActive===!0?this.enableEditMode():this.disableEditMode())}setOptions(e,r,n){r!==void 0&&(r.locale!==void 0?this.options.locale=r.locale:this.options.locale=n.locale,r.locales!==void 0?this.options.locales=r.locales:this.options.locales=n.locales),e!==void 0&&(typeof e=="boolean"?this.options.enabled=e:(this.options.enabled=!0,lt(this.options,e)),this.options.initiallyActive===!0&&(this.editMode=!0),this._setup())}toggleEditMode(){this.editMode===!0?this.disableEditMode():this.enableEditMode()}enableEditMode(){this.editMode=!0,this._clean(),this.guiEnabled===!0&&(this.manipulationDiv.style.display="block",this.closeDiv.style.display="block",this.editModeDiv.style.display="none",this.showManipulatorToolbar())}disableEditMode(){this.editMode=!1,this._clean(),this.guiEnabled===!0&&(this.manipulationDiv.style.display="none",this.closeDiv.style.display="none",this.editModeDiv.style.display="block",this._createEditButton())}showManipulatorToolbar(){if(this._clean(),this.manipulationDOM={},this.guiEnabled===!0){var e,r;this.editMode=!0,this.manipulationDiv.style.display="block",this.closeDiv.style.display="block";const n=this.selectionHandler.getSelectedNodeCount(),i=this.selectionHandler.getSelectedEdgeCount(),s=n+i,a=this.options.locales[this.options.locale];let o=!1;this.options.addNode!==!1&&(this._createAddNodeButton(a),o=!0),this.options.addEdge!==!1&&(o===!0?this._createSeperator(1):o=!0,this._createAddEdgeButton(a)),n===1&&typeof this.options.editNode=="function"?(o===!0?this._createSeperator(2):o=!0,this._createEditNodeButton(a)):i===1&&n===0&&this.options.editEdge!==!1&&(o===!0?this._createSeperator(3):o=!0,this._createEditEdgeButton(a)),s!==0&&(n>0&&this.options.deleteNode!==!1?(o===!0&&this._createSeperator(4),this._createDeleteButton(a)):n===0&&this.options.deleteEdge!==!1&&(o===!0&&this._createSeperator(4),this._createDeleteButton(a))),this._bindElementEvents(this.closeDiv,ee(e=this.toggleEditMode).call(e,this)),this._temporaryBindEvent("select",ee(r=this.showManipulatorToolbar).call(r,this))}this.body.emitter.emit("_redraw")}addNodeMode(){var e;if(this.editMode!==!0&&this.enableEditMode(),this._clean(),this.inMode="addNode",this.guiEnabled===!0){var r;const n=this.options.locales[this.options.locale];this.manipulationDOM={},this._createBackButton(n),this._createSeperator(),this._createDescription(n.addDescription||this.options.locales.en.addDescription),this._bindElementEvents(this.closeDiv,ee(r=this.toggleEditMode).call(r,this))}this._temporaryBindEvent("click",ee(e=this._performAddNode).call(e,this))}editNode(){this.editMode!==!0&&this.enableEditMode(),this._clean();const e=this.selectionHandler.getSelectedNodes()[0];if(e!==void 0)if(this.inMode="editNode",typeof this.options.editNode=="function")if(e.isCluster!==!0){const r=lt({},e.options,!1);if(r.x=e.x,r.y=e.y,this.options.editNode.length===2)this.options.editNode(r,n=>{n!=null&&this.inMode==="editNode"&&this.body.data.nodes.getDataSet().update(n),this.showManipulatorToolbar()});else throw new Error("The function for edit does not support two arguments (data, callback)")}else alert(this.options.locales[this.options.locale].editClusterError||this.options.locales.en.editClusterError);else throw new Error("No function has been configured to handle the editing of nodes.");else this.showManipulatorToolbar()}addEdgeMode(){var e,r,n,i,s;if(this.editMode!==!0&&this.enableEditMode(),this._clean(),this.inMode="addEdge",this.guiEnabled===!0){var a;const o=this.options.locales[this.options.locale];this.manipulationDOM={},this._createBackButton(o),this._createSeperator(),this._createDescription(o.edgeDescription||this.options.locales.en.edgeDescription),this._bindElementEvents(this.closeDiv,ee(a=this.toggleEditMode).call(a,this))}this._temporaryBindUI("onTouch",ee(e=this._handleConnect).call(e,this)),this._temporaryBindUI("onDragEnd",ee(r=this._finishConnect).call(r,this)),this._temporaryBindUI("onDrag",ee(n=this._dragControlNode).call(n,this)),this._temporaryBindUI("onRelease",ee(i=this._finishConnect).call(i,this)),this._temporaryBindUI("onDragStart",ee(s=this._dragStartEdge).call(s,this)),this._temporaryBindUI("onHold",()=>{})}editEdgeMode(){if(this.editMode!==!0&&this.enableEditMode(),this._clean(),this.inMode="editEdge",typeof this.options.editEdge=="object"&&typeof this.options.editEdge.editWithoutDrag=="function"&&(this.edgeBeingEditedId=this.selectionHandler.getSelectedEdgeIds()[0],this.edgeBeingEditedId!==void 0)){const a=this.body.edges[this.edgeBeingEditedId];this._performEditEdge(a.from.id,a.to.id);return}if(this.guiEnabled===!0){var e;const a=this.options.locales[this.options.locale];this.manipulationDOM={},this._createBackButton(a),this._createSeperator(),this._createDescription(a.editEdgeDescription||this.options.locales.en.editEdgeDescription),this._bindElementEvents(this.closeDiv,ee(e=this.toggleEditMode).call(e,this))}if(this.edgeBeingEditedId=this.selectionHandler.getSelectedEdgeIds()[0],this.edgeBeingEditedId!==void 0){var r,n,i,s;const a=this.body.edges[this.edgeBeingEditedId],o=this._getNewTargetNode(a.from.x,a.from.y),l=this._getNewTargetNode(a.to.x,a.to.y);this.temporaryIds.nodes.push(o.id),this.temporaryIds.nodes.push(l.id),this.body.nodes[o.id]=o,this.body.nodeIndices.push(o.id),this.body.nodes[l.id]=l,this.body.nodeIndices.push(l.id),this._temporaryBindUI("onTouch",ee(r=this._controlNodeTouch).call(r,this)),this._temporaryBindUI("onTap",()=>{}),this._temporaryBindUI("onHold",()=>{}),this._temporaryBindUI("onDragStart",ee(n=this._controlNodeDragStart).call(n,this)),this._temporaryBindUI("onDrag",ee(i=this._controlNodeDrag).call(i,this)),this._temporaryBindUI("onDragEnd",ee(s=this._controlNodeDragEnd).call(s,this)),this._temporaryBindUI("onMouseMove",()=>{}),this._temporaryBindEvent("beforeDrawing",c=>{const d=a.edgeType.findBorderPositions(c);o.selected===!1&&(o.x=d.from.x,o.y=d.from.y),l.selected===!1&&(l.x=d.to.x,l.y=d.to.y)}),this.body.emitter.emit("_redraw")}else this.showManipulatorToolbar()}deleteSelected(){this.editMode!==!0&&this.enableEditMode(),this._clean(),this.inMode="delete";const e=this.selectionHandler.getSelectedNodeIds(),r=this.selectionHandler.getSelectedEdgeIds();let n;if(e.length>0){for(let i=0;i<e.length;i++)if(this.body.nodes[e[i]].isCluster===!0){alert(this.options.locales[this.options.locale].deleteClusterError||this.options.locales.en.deleteClusterError);return}typeof this.options.deleteNode=="function"&&(n=this.options.deleteNode)}else r.length>0&&typeof this.options.deleteEdge=="function"&&(n=this.options.deleteEdge);if(typeof n=="function"){const i={nodes:e,edges:r};if(n.length===2)n(i,s=>{s!=null&&this.inMode==="delete"?(this.body.data.edges.getDataSet().remove(s.edges),this.body.data.nodes.getDataSet().remove(s.nodes),this.body.emitter.emit("startSimulation"),this.showManipulatorToolbar()):(this.body.emitter.emit("startSimulation"),this.showManipulatorToolbar())});else throw new Error("The function for delete does not support two arguments (data, callback)")}else this.body.data.edges.getDataSet().remove(r),this.body.data.nodes.getDataSet().remove(e),this.body.emitter.emit("startSimulation"),this.showManipulatorToolbar()}_setup(){this.options.enabled===!0?(this.guiEnabled=!0,this._createWrappers(),this.editMode===!1?this._createEditButton():this.showManipulatorToolbar()):(this._removeManipulationDOM(),this.guiEnabled=!1)}_createWrappers(){if(this.manipulationDiv===void 0&&(this.manipulationDiv=document.createElement("div"),this.manipulationDiv.className="vis-manipulation",this.editMode===!0?this.manipulationDiv.style.display="block":this.manipulationDiv.style.display="none",this.canvas.frame.appendChild(this.manipulationDiv)),this.editModeDiv===void 0&&(this.editModeDiv=document.createElement("div"),this.editModeDiv.className="vis-edit-mode",this.editMode===!0?this.editModeDiv.style.display="none":this.editModeDiv.style.display="block",this.canvas.frame.appendChild(this.editModeDiv)),this.closeDiv===void 0){var e,r;this.closeDiv=document.createElement("button"),this.closeDiv.className="vis-close",this.closeDiv.setAttribute("aria-label",(e=(r=this.options.locales[this.options.locale])===null||r===void 0?void 0:r.close)!==null&&e!==void 0?e:this.options.locales.en.close),this.closeDiv.style.display=this.manipulationDiv.style.display,this.canvas.frame.appendChild(this.closeDiv)}}_getNewTargetNode(e,r){const n=lt({},this.options.controlNodeStyle);n.id="targetNode"+zc(),n.hidden=!1,n.physics=!1,n.x=e,n.y=r;const i=this.body.functions.createNode(n);return i.shape.boundingBox={left:e,right:e,top:r,bottom:r},i}_createEditButton(){var e;this._clean(),this.manipulationDOM={},Ns(this.editModeDiv);const r=this.options.locales[this.options.locale],n=this._createButton("editMode","vis-edit vis-edit-mode",r.edit||this.options.locales.en.edit);this.editModeDiv.appendChild(n),this._bindElementEvents(n,ee(e=this.toggleEditMode).call(e,this))}_clean(){this.inMode=!1,this.guiEnabled===!0&&(Ns(this.editModeDiv),Ns(this.manipulationDiv),this._cleanupDOMEventListeners()),this._cleanupTemporaryNodesAndEdges(),this._unbindTemporaryUIs(),this._unbindTemporaryEvents(),this.body.emitter.emit("restorePhysics")}_cleanupDOMEventListeners(){for(const r of Zi(e=this._domEventListenerCleanupQueue).call(e,0)){var e;r()}}_removeManipulationDOM(){this._clean(),Ns(this.manipulationDiv),Ns(this.editModeDiv),Ns(this.closeDiv),this.manipulationDiv&&this.canvas.frame.removeChild(this.manipulationDiv),this.editModeDiv&&this.canvas.frame.removeChild(this.editModeDiv),this.closeDiv&&this.canvas.frame.removeChild(this.closeDiv),this.manipulationDiv=void 0,this.editModeDiv=void 0,this.closeDiv=void 0}_createSeperator(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1;this.manipulationDOM["seperatorLineDiv"+e]=document.createElement("div"),this.manipulationDOM["seperatorLineDiv"+e].className="vis-separator-line",this.manipulationDiv.appendChild(this.manipulationDOM["seperatorLineDiv"+e])}_createAddNodeButton(e){var r;const n=this._createButton("addNode","vis-add",e.addNode||this.options.locales.en.addNode);this.manipulationDiv.appendChild(n),this._bindElementEvents(n,ee(r=this.addNodeMode).call(r,this))}_createAddEdgeButton(e){var r;const n=this._createButton("addEdge","vis-connect",e.addEdge||this.options.locales.en.addEdge);this.manipulationDiv.appendChild(n),this._bindElementEvents(n,ee(r=this.addEdgeMode).call(r,this))}_createEditNodeButton(e){var r;const n=this._createButton("editNode","vis-edit",e.editNode||this.options.locales.en.editNode);this.manipulationDiv.appendChild(n),this._bindElementEvents(n,ee(r=this.editNode).call(r,this))}_createEditEdgeButton(e){var r;const n=this._createButton("editEdge","vis-edit",e.editEdge||this.options.locales.en.editEdge);this.manipulationDiv.appendChild(n),this._bindElementEvents(n,ee(r=this.editEdgeMode).call(r,this))}_createDeleteButton(e){var r;let n;this.options.rtl?n="vis-delete-rtl":n="vis-delete";const i=this._createButton("delete",n,e.del||this.options.locales.en.del);this.manipulationDiv.appendChild(i),this._bindElementEvents(i,ee(r=this.deleteSelected).call(r,this))}_createBackButton(e){var r;const n=this._createButton("back","vis-back",e.back||this.options.locales.en.back);this.manipulationDiv.appendChild(n),this._bindElementEvents(n,ee(r=this.showManipulatorToolbar).call(r,this))}_createButton(e,r,n){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"vis-label";return this.manipulationDOM[e+"Div"]=document.createElement("button"),this.manipulationDOM[e+"Div"].className="vis-button "+r,this.manipulationDOM[e+"Label"]=document.createElement("div"),this.manipulationDOM[e+"Label"].className=i,this.manipulationDOM[e+"Label"].innerText=n,this.manipulationDOM[e+"Div"].appendChild(this.manipulationDOM[e+"Label"]),this.manipulationDOM[e+"Div"]}_createDescription(e){this.manipulationDOM.descriptionLabel=document.createElement("div"),this.manipulationDOM.descriptionLabel.className="vis-none",this.manipulationDOM.descriptionLabel.innerText=e,this.manipulationDiv.appendChild(this.manipulationDOM.descriptionLabel)}_temporaryBindEvent(e,r){this.temporaryEventFunctions.push({event:e,boundFunction:r}),this.body.emitter.on(e,r)}_temporaryBindUI(e,r){if(this.body.eventListeners[e]!==void 0)this.temporaryUIFunctions[e]=this.body.eventListeners[e],this.body.eventListeners[e]=r;else throw new Error("This UI function does not exist. Typo? You tried: "+e+" possible are: "+mh(Tt(this.body.eventListeners)))}_unbindTemporaryUIs(){for(const e in this.temporaryUIFunctions)Object.prototype.hasOwnProperty.call(this.temporaryUIFunctions,e)&&(this.body.eventListeners[e]=this.temporaryUIFunctions[e],delete this.temporaryUIFunctions[e]);this.temporaryUIFunctions={}}_unbindTemporaryEvents(){for(let e=0;e<this.temporaryEventFunctions.length;e++){const r=this.temporaryEventFunctions[e].event,n=this.temporaryEventFunctions[e].boundFunction;this.body.emitter.off(r,n)}this.temporaryEventFunctions=[]}_bindElementEvents(e,r){const n=new Rl(e,{});yp(n,r),this._domEventListenerCleanupQueue.push(()=>{n.destroy()});const i=s=>{let{keyCode:a,key:o}=s;(o==="Enter"||o===" "||a===13||a===32)&&r()};e.addEventListener("keyup",i,!1),this._domEventListenerCleanupQueue.push(()=>{e.removeEventListener("keyup",i,!1)})}_cleanupTemporaryNodesAndEdges(){for(let s=0;s<this.temporaryIds.edges.length;s++){var e;this.body.edges[this.temporaryIds.edges[s]].disconnect(),delete this.body.edges[this.temporaryIds.edges[s]];const a=Ye(e=this.body.edgeIndices).call(e,this.temporaryIds.edges[s]);if(a!==-1){var r;Zi(r=this.body.edgeIndices).call(r,a,1)}}for(let s=0;s<this.temporaryIds.nodes.length;s++){var n;delete this.body.nodes[this.temporaryIds.nodes[s]];const a=Ye(n=this.body.nodeIndices).call(n,this.temporaryIds.nodes[s]);if(a!==-1){var i;Zi(i=this.body.nodeIndices).call(i,a,1)}}this.temporaryIds={nodes:[],edges:[]}}_controlNodeTouch(e){this.selectionHandler.unselectAll(),this.lastTouch=this.body.functions.getPointer(e.center),this.lastTouch.translation=Ut({},this.body.view.translation)}_controlNodeDragStart(){const e=this.lastTouch,r=this.selectionHandler._pointerToPositionObject(e),n=this.body.nodes[this.temporaryIds.nodes[0]],i=this.body.nodes[this.temporaryIds.nodes[1]],s=this.body.edges[this.edgeBeingEditedId];this.selectedControlNode=void 0;const a=n.isOverlappingWith(r),o=i.isOverlappingWith(r);a===!0?(this.selectedControlNode=n,s.edgeType.from=n):o===!0&&(this.selectedControlNode=i,s.edgeType.to=i),this.selectedControlNode!==void 0&&this.selectionHandler.selectObject(this.selectedControlNode),this.body.emitter.emit("_redraw")}_controlNodeDrag(e){this.body.emitter.emit("disablePhysics");const r=this.body.functions.getPointer(e.center),n=this.canvas.DOMtoCanvas(r);this.selectedControlNode!==void 0?(this.selectedControlNode.x=n.x,this.selectedControlNode.y=n.y):this.interactionHandler.onDrag(e),this.body.emitter.emit("_redraw")}_controlNodeDragEnd(e){const r=this.body.functions.getPointer(e.center),n=this.selectionHandler._pointerToPositionObject(r),i=this.body.edges[this.edgeBeingEditedId];if(this.selectedControlNode===void 0)return;this.selectionHandler.unselectAll();const s=this.selectionHandler._getAllNodesOverlappingWith(n);let a;for(let o=s.length-1;o>=0;o--)if(s[o]!==this.selectedControlNode.id){a=this.body.nodes[s[o]];break}if(a!==void 0&&this.selectedControlNode!==void 0)if(a.isCluster===!0)alert(this.options.locales[this.options.locale].createEdgeError||this.options.locales.en.createEdgeError);else{const o=this.body.nodes[this.temporaryIds.nodes[0]];this.selectedControlNode.id===o.id?this._performEditEdge(a.id,i.to.id):this._performEditEdge(i.from.id,a.id)}else i.updateEdgeType(),this.body.emitter.emit("restorePhysics");this.body.emitter.emit("_redraw")}_handleConnect(e){if(new Date().valueOf()-this.touchTime>100){this.lastTouch=this.body.functions.getPointer(e.center),this.lastTouch.translation=Ut({},this.body.view.translation),this.interactionHandler.drag.pointer=this.lastTouch,this.interactionHandler.drag.translation=this.lastTouch.translation;const r=this.lastTouch,n=this.selectionHandler.getNodeAt(r);if(n!==void 0)if(n.isCluster===!0)alert(this.options.locales[this.options.locale].createEdgeError||this.options.locales.en.createEdgeError);else{const i=this._getNewTargetNode(n.x,n.y);this.body.nodes[i.id]=i,this.body.nodeIndices.push(i.id);const s=this.body.functions.createEdge({id:"connectionEdge"+zc(),from:n.id,to:i.id,physics:!1,smooth:{enabled:!0,type:"continuous",roundness:.5}});this.body.edges[s.id]=s,this.body.edgeIndices.push(s.id),this.temporaryIds.nodes.push(i.id),this.temporaryIds.edges.push(s.id)}this.touchTime=new Date().valueOf()}}_dragControlNode(e){const r=this.body.functions.getPointer(e.center),n=this.selectionHandler._pointerToPositionObject(r);let i;this.temporaryIds.edges[0]!==void 0&&(i=this.body.edges[this.temporaryIds.edges[0]].fromId);const s=this.selectionHandler._getAllNodesOverlappingWith(n);let a;for(let l=s.length-1;l>=0;l--){var o;if(Ye(o=this.temporaryIds.nodes).call(o,s[l])===-1){a=this.body.nodes[s[l]];break}}if(e.controlEdge={from:i,to:a?a.id:void 0},this.selectionHandler.generateClickEvent("controlNodeDragging",e,r),this.temporaryIds.nodes[0]!==void 0){const l=this.body.nodes[this.temporaryIds.nodes[0]];l.x=this.canvas._XconvertDOMtoCanvas(r.x),l.y=this.canvas._YconvertDOMtoCanvas(r.y),this.body.emitter.emit("_redraw")}else this.interactionHandler.onDrag(e)}_finishConnect(e){const r=this.body.functions.getPointer(e.center),n=this.selectionHandler._pointerToPositionObject(r);let i;this.temporaryIds.edges[0]!==void 0&&(i=this.body.edges[this.temporaryIds.edges[0]].fromId);const s=this.selectionHandler._getAllNodesOverlappingWith(n);let a;for(let l=s.length-1;l>=0;l--){var o;if(Ye(o=this.temporaryIds.nodes).call(o,s[l])===-1){a=this.body.nodes[s[l]];break}}this._cleanupTemporaryNodesAndEdges(),a!==void 0&&(a.isCluster===!0?alert(this.options.locales[this.options.locale].createEdgeError||this.options.locales.en.createEdgeError):this.body.nodes[i]!==void 0&&this.body.nodes[a.id]!==void 0&&this._performAddEdge(i,a.id)),e.controlEdge={from:i,to:a?a.id:void 0},this.selectionHandler.generateClickEvent("controlNodeDragEnd",e,r),this.body.emitter.emit("_redraw")}_dragStartEdge(e){const r=this.lastTouch;this.selectionHandler.generateClickEvent("dragStart",e,r,void 0,!0)}_performAddNode(e){const r={id:zc(),x:e.pointer.canvas.x,y:e.pointer.canvas.y,label:"new"};if(typeof this.options.addNode=="function")if(this.options.addNode.length===2)this.options.addNode(r,n=>{n!=null&&this.inMode==="addNode"&&this.body.data.nodes.getDataSet().add(n),this.showManipulatorToolbar()});else throw this.showManipulatorToolbar(),new Error("The function for add does not support two arguments (data,callback)");else this.body.data.nodes.getDataSet().add(r),this.showManipulatorToolbar()}_performAddEdge(e,r){const n={from:e,to:r};if(typeof this.options.addEdge=="function")if(this.options.addEdge.length===2)this.options.addEdge(n,i=>{i!=null&&this.inMode==="addEdge"&&(this.body.data.edges.getDataSet().add(i),this.selectionHandler.unselectAll(),this.showManipulatorToolbar())});else throw new Error("The function for connect does not support two arguments (data,callback)");else this.body.data.edges.getDataSet().add(n),this.selectionHandler.unselectAll(),this.showManipulatorToolbar()}_performEditEdge(e,r){const n={id:this.edgeBeingEditedId,from:e,to:r,label:this.body.data.edges.get(this.edgeBeingEditedId).label};let i=this.options.editEdge;if(typeof i=="object"&&(i=i.editWithoutDrag),typeof i=="function")if(i.length===2)i(n,s=>{s==null||this.inMode!=="editEdge"?(this.body.edges[n.id].updateEdgeType(),this.body.emitter.emit("_redraw"),this.showManipulatorToolbar()):(this.body.data.edges.getDataSet().update(s),this.selectionHandler.unselectAll(),this.showManipulatorToolbar())});else throw new Error("The function for edit does not support two arguments (data, callback)");else this.body.data.edges.getDataSet().update(n),this.selectionHandler.unselectAll(),this.showManipulatorToolbar()}}const ne="string",Z="boolean",L="number",Oc="array",ge="object",FY="dom",l0e="any",R2=["arrow","bar","box","circle","crow","curve","diamond","image","inv_curve","inv_triangle","triangle","vee"],$2={borderWidth:{number:L},borderWidthSelected:{number:L,undefined:"undefined"},brokenImage:{string:ne,undefined:"undefined"},chosen:{label:{boolean:Z,function:"function"},node:{boolean:Z,function:"function"},__type__:{object:ge,boolean:Z}},color:{border:{string:ne},background:{string:ne},highlight:{border:{string:ne},background:{string:ne},__type__:{object:ge,string:ne}},hover:{border:{string:ne},background:{string:ne},__type__:{object:ge,string:ne}},__type__:{object:ge,string:ne}},opacity:{number:L,undefined:"undefined"},fixed:{x:{boolean:Z},y:{boolean:Z},__type__:{object:ge,boolean:Z}},font:{align:{string:ne},color:{string:ne},size:{number:L},face:{string:ne},background:{string:ne},strokeWidth:{number:L},strokeColor:{string:ne},vadjust:{number:L},multi:{boolean:Z,string:ne},bold:{color:{string:ne},size:{number:L},face:{string:ne},mod:{string:ne},vadjust:{number:L},__type__:{object:ge,string:ne}},boldital:{color:{string:ne},size:{number:L},face:{string:ne},mod:{string:ne},vadjust:{number:L},__type__:{object:ge,string:ne}},ital:{color:{string:ne},size:{number:L},face:{string:ne},mod:{string:ne},vadjust:{number:L},__type__:{object:ge,string:ne}},mono:{color:{string:ne},size:{number:L},face:{string:ne},mod:{string:ne},vadjust:{number:L},__type__:{object:ge,string:ne}},__type__:{object:ge,string:ne}},group:{string:ne,number:L,undefined:"undefined"},heightConstraint:{minimum:{number:L},valign:{string:ne},__type__:{object:ge,boolean:Z,number:L}},hidden:{boolean:Z},icon:{face:{string:ne},code:{string:ne},size:{number:L},color:{string:ne},weight:{string:ne,number:L},__type__:{object:ge}},id:{string:ne,number:L},image:{selected:{string:ne,undefined:"undefined"},unselected:{string:ne,undefined:"undefined"},__type__:{object:ge,string:ne}},imagePadding:{top:{number:L},right:{number:L},bottom:{number:L},left:{number:L},__type__:{object:ge,number:L}},label:{string:ne,undefined:"undefined"},labelHighlightBold:{boolean:Z},level:{number:L,undefined:"undefined"},margin:{top:{number:L},right:{number:L},bottom:{number:L},left:{number:L},__type__:{object:ge,number:L}},mass:{number:L},physics:{boolean:Z},scaling:{min:{number:L},max:{number:L},label:{enabled:{boolean:Z},min:{number:L},max:{number:L},maxVisible:{number:L},drawThreshold:{number:L},__type__:{object:ge,boolean:Z}},customScalingFunction:{function:"function"},__type__:{object:ge}},shadow:{enabled:{boolean:Z},color:{string:ne},size:{number:L},x:{number:L},y:{number:L},__type__:{object:ge,boolean:Z}},shape:{string:["custom","ellipse","circle","database","box","text","image","circularImage","diamond","dot","star","triangle","triangleDown","square","icon","hexagon"]},ctxRenderer:{function:"function"},shapeProperties:{borderDashes:{boolean:Z,array:Oc},borderRadius:{number:L},interpolation:{boolean:Z},useImageSize:{boolean:Z},useBorderWithImage:{boolean:Z},coordinateOrigin:{string:["center","top-left"]},__type__:{object:ge}},size:{number:L},title:{string:ne,dom:FY,undefined:"undefined"},value:{number:L,undefined:"undefined"},widthConstraint:{minimum:{number:L},maximum:{number:L},__type__:{object:ge,boolean:Z,number:L}},x:{number:L},y:{number:L},__type__:{object:ge}},u0e={configure:{enabled:{boolean:Z},filter:{boolean:Z,string:ne,array:Oc,function:"function"},container:{dom:FY},showButton:{boolean:Z},__type__:{object:ge,boolean:Z,string:ne,array:Oc,function:"function"}},edges:{arrows:{to:{enabled:{boolean:Z},scaleFactor:{number:L},type:{string:R2},imageHeight:{number:L},imageWidth:{number:L},src:{string:ne},__type__:{object:ge,boolean:Z}},middle:{enabled:{boolean:Z},scaleFactor:{number:L},type:{string:R2},imageWidth:{number:L},imageHeight:{number:L},src:{string:ne},__type__:{object:ge,boolean:Z}},from:{enabled:{boolean:Z},scaleFactor:{number:L},type:{string:R2},imageWidth:{number:L},imageHeight:{number:L},src:{string:ne},__type__:{object:ge,boolean:Z}},__type__:{string:["from","to","middle"],object:ge}},endPointOffset:{from:{number:L},to:{number:L},__type__:{object:ge,number:L}},arrowStrikethrough:{boolean:Z},background:{enabled:{boolean:Z},color:{string:ne},size:{number:L},dashes:{boolean:Z,array:Oc},__type__:{object:ge,boolean:Z}},chosen:{label:{boolean:Z,function:"function"},edge:{boolean:Z,function:"function"},__type__:{object:ge,boolean:Z}},color:{color:{string:ne},highlight:{string:ne},hover:{string:ne},inherit:{string:["from","to","both"],boolean:Z},opacity:{number:L},__type__:{object:ge,string:ne}},dashes:{boolean:Z,array:Oc},font:{color:{string:ne},size:{number:L},face:{string:ne},background:{string:ne},strokeWidth:{number:L},strokeColor:{string:ne},align:{string:["horizontal","top","middle","bottom"]},vadjust:{number:L},multi:{boolean:Z,string:ne},bold:{color:{string:ne},size:{number:L},face:{string:ne},mod:{string:ne},vadjust:{number:L},__type__:{object:ge,string:ne}},boldital:{color:{string:ne},size:{number:L},face:{string:ne},mod:{string:ne},vadjust:{number:L},__type__:{object:ge,string:ne}},ital:{color:{string:ne},size:{number:L},face:{string:ne},mod:{string:ne},vadjust:{number:L},__type__:{object:ge,string:ne}},mono:{color:{string:ne},size:{number:L},face:{string:ne},mod:{string:ne},vadjust:{number:L},__type__:{object:ge,string:ne}},__type__:{object:ge,string:ne}},hidden:{boolean:Z},hoverWidth:{function:"function",number:L},label:{string:ne,undefined:"undefined"},labelHighlightBold:{boolean:Z},length:{number:L,undefined:"undefined"},physics:{boolean:Z},scaling:{min:{number:L},max:{number:L},label:{enabled:{boolean:Z},min:{number:L},max:{number:L},maxVisible:{number:L},drawThreshold:{number:L},__type__:{object:ge,boolean:Z}},customScalingFunction:{function:"function"},__type__:{object:ge}},selectionWidth:{function:"function",number:L},selfReferenceSize:{number:L},selfReference:{size:{number:L},angle:{number:L},renderBehindTheNode:{boolean:Z},__type__:{object:ge}},shadow:{enabled:{boolean:Z},color:{string:ne},size:{number:L},x:{number:L},y:{number:L},__type__:{object:ge,boolean:Z}},smooth:{enabled:{boolean:Z},type:{string:["dynamic","continuous","discrete","diagonalCross","straightCross","horizontal","vertical","curvedCW","curvedCCW","cubicBezier"]},roundness:{number:L},forceDirection:{string:["horizontal","vertical","none"],boolean:Z},__type__:{object:ge,boolean:Z}},title:{string:ne,undefined:"undefined"},width:{number:L},widthConstraint:{maximum:{number:L},__type__:{object:ge,boolean:Z,number:L}},value:{number:L,undefined:"undefined"},__type__:{object:ge}},groups:{useDefaultGroups:{boolean:Z},__any__:$2,__type__:{object:ge}},interaction:{dragNodes:{boolean:Z},dragView:{boolean:Z},hideEdgesOnDrag:{boolean:Z},hideEdgesOnZoom:{boolean:Z},hideNodesOnDrag:{boolean:Z},hover:{boolean:Z},keyboard:{enabled:{boolean:Z},speed:{x:{number:L},y:{number:L},zoom:{number:L},__type__:{object:ge}},bindToWindow:{boolean:Z},autoFocus:{boolean:Z},__type__:{object:ge,boolean:Z}},multiselect:{boolean:Z},navigationButtons:{boolean:Z},selectable:{boolean:Z},selectConnectedEdges:{boolean:Z},hoverConnectedEdges:{boolean:Z},tooltipDelay:{number:L},zoomView:{boolean:Z},zoomSpeed:{number:L},__type__:{object:ge}},layout:{randomSeed:{undefined:"undefined",number:L,string:ne},improvedLayout:{boolean:Z},clusterThreshold:{number:L},hierarchical:{enabled:{boolean:Z},levelSeparation:{number:L},nodeSpacing:{number:L},treeSpacing:{number:L},blockShifting:{boolean:Z},edgeMinimization:{boolean:Z},parentCentralization:{boolean:Z},direction:{string:["UD","DU","LR","RL"]},sortMethod:{string:["hubsize","directed"]},shakeTowards:{string:["leaves","roots"]},__type__:{object:ge,boolean:Z}},__type__:{object:ge}},manipulation:{enabled:{boolean:Z},initiallyActive:{boolean:Z},addNode:{boolean:Z,function:"function"},addEdge:{boolean:Z,function:"function"},editNode:{function:"function"},editEdge:{editWithoutDrag:{function:"function"},__type__:{object:ge,boolean:Z,function:"function"}},deleteNode:{boolean:Z,function:"function"},deleteEdge:{boolean:Z,function:"function"},controlNodeStyle:$2,__type__:{object:ge,boolean:Z}},nodes:$2,physics:{enabled:{boolean:Z},barnesHut:{theta:{number:L},gravitationalConstant:{number:L},centralGravity:{number:L},springLength:{number:L},springConstant:{number:L},damping:{number:L},avoidOverlap:{number:L},__type__:{object:ge}},forceAtlas2Based:{theta:{number:L},gravitationalConstant:{number:L},centralGravity:{number:L},springLength:{number:L},springConstant:{number:L},damping:{number:L},avoidOverlap:{number:L},__type__:{object:ge}},repulsion:{centralGravity:{number:L},springLength:{number:L},springConstant:{number:L},nodeDistance:{number:L},damping:{number:L},__type__:{object:ge}},hierarchicalRepulsion:{centralGravity:{number:L},springLength:{number:L},springConstant:{number:L},nodeDistance:{number:L},damping:{number:L},avoidOverlap:{number:L},__type__:{object:ge}},maxVelocity:{number:L},minVelocity:{number:L},solver:{string:["barnesHut","repulsion","hierarchicalRepulsion","forceAtlas2Based"]},stabilization:{enabled:{boolean:Z},iterations:{number:L},updateInterval:{number:L},onlyDynamicEdges:{boolean:Z},fit:{boolean:Z},__type__:{object:ge,boolean:Z}},timestep:{number:L},adaptiveTimestep:{boolean:Z},wind:{x:{number:L},y:{number:L},__type__:{object:ge}},__type__:{object:ge,boolean:Z}},autoResize:{boolean:Z},clickToUse:{boolean:Z},locale:{string:ne},locales:{__any__:{any:l0e},__type__:{object:ge}},height:{string:ne},width:{string:ne},__type__:{object:ge}},LY={nodes:{borderWidth:[1,0,10,1],borderWidthSelected:[2,0,10,1],color:{border:["color","#2B7CE9"],background:["color","#97C2FC"],highlight:{border:["color","#2B7CE9"],background:["color","#D2E5FF"]},hover:{border:["color","#2B7CE9"],background:["color","#D2E5FF"]}},opacity:[0,0,1,.1],fixed:{x:!1,y:!1},font:{color:["color","#343434"],size:[14,0,100,1],face:["arial","verdana","tahoma"],background:["color","none"],strokeWidth:[0,0,50,1],strokeColor:["color","#ffffff"]},hidden:!1,labelHighlightBold:!0,physics:!0,scaling:{min:[10,0,200,1],max:[30,0,200,1],label:{enabled:!1,min:[14,0,200,1],max:[30,0,200,1],maxVisible:[30,0,200,1],drawThreshold:[5,0,20,1]}},shadow:{enabled:!1,color:"rgba(0,0,0,0.5)",size:[10,0,20,1],x:[5,-30,30,1],y:[5,-30,30,1]},shape:["ellipse","box","circle","database","diamond","dot","square","star","text","triangle","triangleDown","hexagon"],shapeProperties:{borderDashes:!1,borderRadius:[6,0,20,1],interpolation:!0,useImageSize:!1},size:[25,0,200,1]},edges:{arrows:{to:{enabled:!1,scaleFactor:[1,0,3,.05],type:"arrow"},middle:{enabled:!1,scaleFactor:[1,0,3,.05],type:"arrow"},from:{enabled:!1,scaleFactor:[1,0,3,.05],type:"arrow"}},endPointOffset:{from:[0,-10,10,1],to:[0,-10,10,1]},arrowStrikethrough:!0,color:{color:["color","#848484"],highlight:["color","#848484"],hover:["color","#848484"],inherit:["from","to","both",!0,!1],opacity:[1,0,1,.05]},dashes:!1,font:{color:["color","#343434"],size:[14,0,100,1],face:["arial","verdana","tahoma"],background:["color","none"],strokeWidth:[2,0,50,1],strokeColor:["color","#ffffff"],align:["horizontal","top","middle","bottom"]},hidden:!1,hoverWidth:[1.5,0,5,.1],labelHighlightBold:!0,physics:!0,scaling:{min:[1,0,100,1],max:[15,0,100,1],label:{enabled:!0,min:[14,0,200,1],max:[30,0,200,1],maxVisible:[30,0,200,1],drawThreshold:[5,0,20,1]}},selectionWidth:[1.5,0,5,.1],selfReferenceSize:[20,0,200,1],selfReference:{size:[20,0,200,1],angle:[Math.PI/2,-6*Math.PI,6*Math.PI,Math.PI/8],renderBehindTheNode:!0},shadow:{enabled:!1,color:"rgba(0,0,0,0.5)",size:[10,0,20,1],x:[5,-30,30,1],y:[5,-30,30,1]},smooth:{enabled:!0,type:["dynamic","continuous","discrete","diagonalCross","straightCross","horizontal","vertical","curvedCW","curvedCCW","cubicBezier"],forceDirection:["horizontal","vertical","none"],roundness:[.5,0,1,.05]},width:[1,0,30,1]},layout:{hierarchical:{enabled:!1,levelSeparation:[150,20,500,5],nodeSpacing:[100,20,500,5],treeSpacing:[200,20,500,5],blockShifting:!0,edgeMinimization:!0,parentCentralization:!0,direction:["UD","DU","LR","RL"],sortMethod:["hubsize","directed"],shakeTowards:["leaves","roots"]}},interaction:{dragNodes:!0,dragView:!0,hideEdgesOnDrag:!1,hideEdgesOnZoom:!1,hideNodesOnDrag:!1,hover:!1,keyboard:{enabled:!1,speed:{x:[10,0,40,1],y:[10,0,40,1],zoom:[.02,0,.1,.005]},bindToWindow:!0,autoFocus:!0},multiselect:!1,navigationButtons:!1,selectable:!0,selectConnectedEdges:!0,hoverConnectedEdges:!0,tooltipDelay:[300,0,1e3,25],zoomView:!0,zoomSpeed:[1,.1,2,.1]},manipulation:{enabled:!1,initiallyActive:!1},physics:{enabled:!0,barnesHut:{theta:[.5,.1,1,.05],gravitationalConstant:[-2e3,-3e4,0,50],centralGravity:[.3,0,10,.05],springLength:[95,0,500,5],springConstant:[.04,0,1.2,.005],damping:[.09,0,1,.01],avoidOverlap:[0,0,1,.01]},forceAtlas2Based:{theta:[.5,.1,1,.05],gravitationalConstant:[-50,-500,0,1],centralGravity:[.01,0,1,.005],springLength:[95,0,500,5],springConstant:[.08,0,1.2,.005],damping:[.4,0,1,.01],avoidOverlap:[0,0,1,.01]},repulsion:{centralGravity:[.2,0,10,.05],springLength:[200,0,500,5],springConstant:[.05,0,1.2,.005],nodeDistance:[100,0,500,5],damping:[.09,0,1,.01]},hierarchicalRepulsion:{centralGravity:[.2,0,10,.05],springLength:[100,0,500,5],springConstant:[.01,0,1.2,.005],nodeDistance:[120,0,500,5],damping:[.09,0,1,.01],avoidOverlap:[0,0,1,.01]},maxVelocity:[50,0,150,1],minVelocity:[.1,.01,.5,.01],solver:["barnesHut","forceAtlas2Based","repulsion","hierarchicalRepulsion"],timestep:[.5,.01,1,.01],wind:{x:[0,-10,10,.1],y:[0,-10,10,.1]}}},c0e=(t,e,r)=>{var n;return!!(ia(t).call(t,"physics")&&ia(n=LY.physics.solver).call(n,e)&&r.physics.solver!==e&&e!=="wind")};class d0e{constructor(){}getDistances(e,r,n){const i={},s=e.edges;for(let o=0;o<r.length;o++){const l=r[o],c={};i[l]=c;for(let d=0;d<r.length;d++)c[r[d]]=o==d?0:1e9}for(let o=0;o<n.length;o++){const l=s[n[o]];l.connected===!0&&i[l.fromId]!==void 0&&i[l.toId]!==void 0&&(i[l.fromId][l.toId]=1,i[l.toId][l.fromId]=1)}const a=r.length;for(let o=0;o<a;o++){const l=r[o],c=i[l];for(let d=0;d<a-1;d++){const h=r[d],f=i[h];for(let p=d+1;p<a;p++){const m=r[p],y=i[m],w=Math.min(f[m],f[l]+c[m]);f[m]=w,y[h]=w}}}return i}}class h0e{constructor(e,r,n){this.body=e,this.springLength=r,this.springConstant=n,this.distanceSolver=new d0e}setOptions(e){e&&(e.springLength&&(this.springLength=e.springLength),e.springConstant&&(this.springConstant=e.springConstant))}solve(e,r){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;const i=this.distanceSolver.getDistances(this.body,e,r);this._createL_matrix(i),this._createK_matrix(i),this._createE_matrix();const s=.01,a=1;let o=0;const l=Math.max(1e3,Math.min(10*this.body.nodeIndices.length,6e3)),c=5;let d=1e9,h=0,f=0,p=0,m=0,y=0;for(;d>s&&o<l;)for(o+=1,[h,d,f,p]=this._getHighestEnergyNode(n),m=d,y=0;m>a&&y<c;)y+=1,this._moveNode(h,f,p),[m,f,p]=this._getEnergy(h)}_getHighestEnergyNode(e){const r=this.body.nodeIndices,n=this.body.nodes;let i=0,s=r[0],a=0,o=0;for(let l=0;l<r.length;l++){const c=r[l];if(n[c].predefinedPosition!==!0||n[c].isCluster===!0&&e===!0||n[c].options.fixed.x!==!0||n[c].options.fixed.y!==!0){const[d,h,f]=this._getEnergy(c);i<d&&(i=d,s=c,a=h,o=f)}}return[s,i,a,o]}_getEnergy(e){const[r,n]=this.E_sums[e];return[Math.sqrt(r**2+n**2),r,n]}_moveNode(e,r,n){const i=this.body.nodeIndices,s=this.body.nodes;let a=0,o=0,l=0;const c=s[e].x,d=s[e].y,h=this.K_matrix[e],f=this.L_matrix[e];for(let b=0;b<i.length;b++){const _=i[b];if(_!==e){const E=s[_].x,O=s[_].y,S=h[_],N=f[_],P=1/((c-E)**2+(d-O)**2)**1.5;a+=S*(1-N*(d-O)**2*P),o+=S*(N*(c-E)*(d-O)*P),l+=S*(1-N*(c-E)**2*P)}}const p=a,m=o,y=r,w=l,g=n,v=(y/p+g/m)/(m/p-w/m),x=-(m*v+y)/p;s[e].x+=x,s[e].y+=v,this._updateE_matrix(e)}_createL_matrix(e){const r=this.body.nodeIndices,n=this.springLength;this.L_matrix=[];for(let i=0;i<r.length;i++){this.L_matrix[r[i]]={};for(let s=0;s<r.length;s++)this.L_matrix[r[i]][r[s]]=n*e[r[i]][r[s]]}}_createK_matrix(e){const r=this.body.nodeIndices,n=this.springConstant;this.K_matrix=[];for(let i=0;i<r.length;i++){this.K_matrix[r[i]]={};for(let s=0;s<r.length;s++)this.K_matrix[r[i]][r[s]]=n*e[r[i]][r[s]]**-2}}_createE_matrix(){const e=this.body.nodeIndices,r=this.body.nodes;this.E_matrix={},this.E_sums={};for(let n=0;n<e.length;n++)this.E_matrix[e[n]]=[];for(let n=0;n<e.length;n++){const i=e[n],s=r[i].x,a=r[i].y;let o=0,l=0;for(let c=n;c<e.length;c++){const d=e[c];if(d!==i){const h=r[d].x,f=r[d].y,p=1/Math.sqrt((s-h)**2+(a-f)**2);this.E_matrix[i][c]=[this.K_matrix[i][d]*(s-h-this.L_matrix[i][d]*(s-h)*p),this.K_matrix[i][d]*(a-f-this.L_matrix[i][d]*(a-f)*p)],this.E_matrix[d][n]=this.E_matrix[i][c],o+=this.E_matrix[i][c][0],l+=this.E_matrix[i][c][1]}}this.E_sums[i]=[o,l]}}_updateE_matrix(e){const r=this.body.nodeIndices,n=this.body.nodes,i=this.E_matrix[e],s=this.K_matrix[e],a=this.L_matrix[e],o=n[e].x,l=n[e].y;let c=0,d=0;for(let h=0;h<r.length;h++){const f=r[h];if(f!==e){const p=i[h],m=p[0],y=p[1],w=n[f].x,g=n[f].y,v=1/Math.sqrt((o-w)**2+(l-g)**2),x=s[f]*(o-w-a[f]*(o-w)*v),b=s[f]*(l-g-a[f]*(l-g)*v);i[h]=[x,b],c+=x,d+=b;const _=this.E_sums[f];_[0]+=x-m,_[1]+=b-y}}this.E_sums[e]=[c,d]}}function me(t,e,r){var n,i,s,a;if(!(this instanceof me))throw new SyntaxError("Constructor must be called with the new operator");this.options={},this.defaultOptions={locale:"en",locales:qme,clickToUse:!1},Ut(this.options,this.defaultOptions),this.body={container:t,nodes:{},nodeIndices:[],edges:{},edgeIndices:[],emitter:{on:ee(n=this.on).call(n,this),off:ee(i=this.off).call(i,this),emit:ee(s=this.emit).call(s,this),once:ee(a=this.once).call(a,this)},eventListeners:{onTap:function(){},onTouch:function(){},onDoubleTap:function(){},onHold:function(){},onDragStart:function(){},onDrag:function(){},onDragEnd:function(){},onMouseWheel:function(){},onPinch:function(){},onMouseMove:function(){},onRelease:function(){},onContext:function(){}},data:{nodes:null,edges:null},functions:{createNode:function(){},createEdge:function(){},getPointer:function(){}},modules:{},view:{scale:1,translation:{x:0,y:0}},selectionBox:{show:!1,position:{start:{x:0,y:0},end:{x:0,y:0}}}},this.bindEventListeners(),this.images=new Fme(()=>this.body.emitter.emit("_requestRedraw")),this.groups=new eve,this.canvas=new Gye(this.body),this.selectionHandler=new Tbe(this.body,this.canvas),this.interactionHandler=new Jye(this.body,this.canvas,this.selectionHandler),this.view=new Qye(this.body,this.canvas),this.renderer=new Uye(this.body,this.canvas),this.physics=new Dye(this.body),this.layoutEngine=new a0e(this.body),this.clustering=new zye(this.body),this.manipulation=new o0e(this.body,this.canvas,this.selectionHandler,this.interactionHandler),this.nodesHandler=new uye(this.body,this.images,this.groups,this.layoutEngine),this.edgesHandler=new Tye(this.body,this.images,this.groups),this.body.modules.kamadaKawai=new h0e(this.body,150,.05),this.body.modules.clustering=this.clustering,this.canvas._create(),this.setOptions(r),this.setData(e)}vG(me.prototype);me.prototype.setOptions=function(t){if(t===null&&(t=void 0),t!==void 0){if(fme.validate(t,u0e)===!0&&console.error("%cErrors have been found in the supplied options object.",dY),Zu(["locale","locales","clickToUse"],this.options,t),t.locale!==void 0&&(t.locale=Mme(t.locales||this.options.locales,t.locale)),t=this.layoutEngine.setOptions(t.layout,t),this.canvas.setOptions(t),this.groups.setOptions(t.groups),this.nodesHandler.setOptions(t.nodes),this.edgesHandler.setOptions(t.edges),this.physics.setOptions(t.physics),this.manipulation.setOptions(t.manipulation,t,this.options),this.interactionHandler.setOptions(t.interaction),this.renderer.setOptions(t.interaction),this.selectionHandler.setOptions(t.interaction),t.groups!==void 0&&this.body.emitter.emit("refreshNodes"),"configure"in t&&(this.configurator||(this.configurator=new dme(this,this.body.container,LY,this.canvas.pixelRatio,c0e)),this.configurator.setOptions(t.configure)),this.configurator&&this.configurator.options.enabled===!0){const n={nodes:{},edges:{},layout:{},interaction:{},manipulation:{},physics:{},global:{}};lt(n.nodes,this.nodesHandler.options),lt(n.edges,this.edgesHandler.options),lt(n.layout,this.layoutEngine.options),lt(n.interaction,this.selectionHandler.options),lt(n.interaction,this.renderer.options),lt(n.interaction,this.interactionHandler.options),lt(n.manipulation,this.manipulation.options),lt(n.physics,this.physics.options),lt(n.global,this.canvas.options),lt(n.global,this.options),this.configurator.setModuleOptions(n)}t.clickToUse!==void 0?t.clickToUse===!0?this.activator===void 0&&(this.activator=new cme(this.canvas.frame),this.activator.on("change",()=>{this.body.emitter.emit("activate")})):(this.activator!==void 0&&(this.activator.destroy(),delete this.activator),this.body.emitter.emit("activate")):this.body.emitter.emit("activate"),this.canvas.setSize(),this.body.emitter.emit("startSimulation")}};me.prototype._updateVisibleIndices=function(){const t=this.body.nodes,e=this.body.edges;this.body.nodeIndices=[],this.body.edgeIndices=[];for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&!this.clustering._isClusteredNode(r)&&t[r].options.hidden===!1&&this.body.nodeIndices.push(t[r].id);for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)){const n=e[r],i=t[n.fromId],s=t[n.toId],a=i!==void 0&&s!==void 0;!this.clustering._isClusteredEdge(r)&&n.options.hidden===!1&&a&&i.options.hidden===!1&&s.options.hidden===!1&&this.body.edgeIndices.push(n.id)}};me.prototype.bindEventListeners=function(){this.body.emitter.on("_dataChanged",()=>{this.edgesHandler._updateState(),this.body.emitter.emit("_dataUpdated")}),this.body.emitter.on("_dataUpdated",()=>{this.clustering._updateState(),this._updateVisibleIndices(),this._updateValueRange(this.body.nodes),this._updateValueRange(this.body.edges),this.body.emitter.emit("startSimulation"),this.body.emitter.emit("_requestRedraw")})};me.prototype.setData=function(t){if(this.body.emitter.emit("resetPhysics"),this.body.emitter.emit("_resetData"),this.selectionHandler.unselectAll(),t&&t.dot&&(t.nodes||t.edges))throw new SyntaxError('Data must contain either parameter "dot" or  parameter pair "nodes" and "edges", but not both.');if(this.setOptions(t&&t.options),t&&t.dot){console.warn("The dot property has been deprecated. Please use the static convertDot method to convert DOT into vis.network format and use the normal data format with nodes and edges. This converter is used like this: var data = vis.network.convertDot(dotString);");const e=Sme(t.dot);this.setData(e);return}else if(t&&t.gephi){console.warn("The gephi property has been deprecated. Please use the static convertGephi method to convert gephi into vis.network format and use the normal data format with nodes and edges. This converter is used like this: var data = vis.network.convertGephi(gephiJson);");const e=Eme(t.gephi);this.setData(e);return}else this.nodesHandler.setData(t&&t.nodes,!0),this.edgesHandler.setData(t&&t.edges,!0);this.body.emitter.emit("_dataChanged"),this.body.emitter.emit("_dataLoaded"),this.body.emitter.emit("initPhysics")};me.prototype.destroy=function(){this.body.emitter.emit("destroy"),this.body.emitter.off(),this.off(),delete this.groups,delete this.canvas,delete this.selectionHandler,delete this.interactionHandler,delete this.view,delete this.renderer,delete this.physics,delete this.layoutEngine,delete this.clustering,delete this.manipulation,delete this.nodesHandler,delete this.edgesHandler,delete this.configurator,delete this.images;for(const t in this.body.nodes)Object.prototype.hasOwnProperty.call(this.body.nodes,t)&&delete this.body.nodes[t];for(const t in this.body.edges)Object.prototype.hasOwnProperty.call(this.body.edges,t)&&delete this.body.edges[t];Ns(this.body.container)};me.prototype._updateValueRange=function(t){let e,r,n,i=0;for(e in t)if(Object.prototype.hasOwnProperty.call(t,e)){const s=t[e].getValue();s!==void 0&&(r=r===void 0?s:Math.min(s,r),n=n===void 0?s:Math.max(s,n),i+=s)}if(r!==void 0&&n!==void 0)for(e in t)Object.prototype.hasOwnProperty.call(t,e)&&t[e].setValueRange(r,n,i)};me.prototype.isActive=function(){return!this.activator||this.activator.active};me.prototype.setSize=function(){return this.canvas.setSize.apply(this.canvas,arguments)};me.prototype.canvasToDOM=function(){return this.canvas.canvasToDOM.apply(this.canvas,arguments)};me.prototype.DOMtoCanvas=function(){return this.canvas.DOMtoCanvas.apply(this.canvas,arguments)};me.prototype.findNode=function(){return this.clustering.findNode.apply(this.clustering,arguments)};me.prototype.isCluster=function(){return this.clustering.isCluster.apply(this.clustering,arguments)};me.prototype.openCluster=function(){return this.clustering.openCluster.apply(this.clustering,arguments)};me.prototype.cluster=function(){return this.clustering.cluster.apply(this.clustering,arguments)};me.prototype.getNodesInCluster=function(){return this.clustering.getNodesInCluster.apply(this.clustering,arguments)};me.prototype.clusterByConnection=function(){return this.clustering.clusterByConnection.apply(this.clustering,arguments)};me.prototype.clusterByHubsize=function(){return this.clustering.clusterByHubsize.apply(this.clustering,arguments)};me.prototype.updateClusteredNode=function(){return this.clustering.updateClusteredNode.apply(this.clustering,arguments)};me.prototype.getClusteredEdges=function(){return this.clustering.getClusteredEdges.apply(this.clustering,arguments)};me.prototype.getBaseEdge=function(){return this.clustering.getBaseEdge.apply(this.clustering,arguments)};me.prototype.getBaseEdges=function(){return this.clustering.getBaseEdges.apply(this.clustering,arguments)};me.prototype.updateEdge=function(){return this.clustering.updateEdge.apply(this.clustering,arguments)};me.prototype.clusterOutliers=function(){return this.clustering.clusterOutliers.apply(this.clustering,arguments)};me.prototype.getSeed=function(){return this.layoutEngine.getSeed.apply(this.layoutEngine,arguments)};me.prototype.enableEditMode=function(){return this.manipulation.enableEditMode.apply(this.manipulation,arguments)};me.prototype.disableEditMode=function(){return this.manipulation.disableEditMode.apply(this.manipulation,arguments)};me.prototype.addNodeMode=function(){return this.manipulation.addNodeMode.apply(this.manipulation,arguments)};me.prototype.editNode=function(){return this.manipulation.editNode.apply(this.manipulation,arguments)};me.prototype.editNodeMode=function(){return console.warn("Deprecated: Please use editNode instead of editNodeMode."),this.manipulation.editNode.apply(this.manipulation,arguments)};me.prototype.addEdgeMode=function(){return this.manipulation.addEdgeMode.apply(this.manipulation,arguments)};me.prototype.editEdgeMode=function(){return this.manipulation.editEdgeMode.apply(this.manipulation,arguments)};me.prototype.deleteSelected=function(){return this.manipulation.deleteSelected.apply(this.manipulation,arguments)};me.prototype.getPositions=function(){return this.nodesHandler.getPositions.apply(this.nodesHandler,arguments)};me.prototype.getPosition=function(){return this.nodesHandler.getPosition.apply(this.nodesHandler,arguments)};me.prototype.storePositions=function(){return this.nodesHandler.storePositions.apply(this.nodesHandler,arguments)};me.prototype.moveNode=function(){return this.nodesHandler.moveNode.apply(this.nodesHandler,arguments)};me.prototype.getBoundingBox=function(){return this.nodesHandler.getBoundingBox.apply(this.nodesHandler,arguments)};me.prototype.getConnectedNodes=function(t){return this.body.nodes[t]!==void 0?this.nodesHandler.getConnectedNodes.apply(this.nodesHandler,arguments):this.edgesHandler.getConnectedNodes.apply(this.edgesHandler,arguments)};me.prototype.getConnectedEdges=function(){return this.nodesHandler.getConnectedEdges.apply(this.nodesHandler,arguments)};me.prototype.startSimulation=function(){return this.physics.startSimulation.apply(this.physics,arguments)};me.prototype.stopSimulation=function(){return this.physics.stopSimulation.apply(this.physics,arguments)};me.prototype.stabilize=function(){return this.physics.stabilize.apply(this.physics,arguments)};me.prototype.getSelection=function(){return this.selectionHandler.getSelection.apply(this.selectionHandler,arguments)};me.prototype.setSelection=function(){return this.selectionHandler.setSelection.apply(this.selectionHandler,arguments)};me.prototype.getSelectedNodes=function(){return this.selectionHandler.getSelectedNodeIds.apply(this.selectionHandler,arguments)};me.prototype.getSelectedEdges=function(){return this.selectionHandler.getSelectedEdgeIds.apply(this.selectionHandler,arguments)};me.prototype.getNodeAt=function(){const t=this.selectionHandler.getNodeAt.apply(this.selectionHandler,arguments);return t!==void 0&&t.id!==void 0?t.id:t};me.prototype.getEdgeAt=function(){const t=this.selectionHandler.getEdgeAt.apply(this.selectionHandler,arguments);return t!==void 0&&t.id!==void 0?t.id:t};me.prototype.selectNodes=function(){return this.selectionHandler.selectNodes.apply(this.selectionHandler,arguments)};me.prototype.selectEdges=function(){return this.selectionHandler.selectEdges.apply(this.selectionHandler,arguments)};me.prototype.unselectAll=function(){this.selectionHandler.unselectAll.apply(this.selectionHandler,arguments),this.selectionHandler.commitWithoutEmitting.apply(this.selectionHandler),this.redraw()};me.prototype.redraw=function(){return this.renderer.redraw.apply(this.renderer,arguments)};me.prototype.getScale=function(){return this.view.getScale.apply(this.view,arguments)};me.prototype.getViewPosition=function(){return this.view.getViewPosition.apply(this.view,arguments)};me.prototype.fit=function(){return this.view.fit.apply(this.view,arguments)};me.prototype.moveTo=function(){return this.view.moveTo.apply(this.view,arguments)};me.prototype.focus=function(){return this.view.focus.apply(this.view,arguments)};me.prototype.releaseNode=function(){return this.view.releaseNode.apply(this.view,arguments)};me.prototype.getOptionsFromConfigurator=function(){let t={};return this.configurator&&(t=this.configurator.getOptions.apply(this.configurator)),t};function f0e({graphData:t,startPersonId:e,onNodeClick:r}){const n=$.useRef(null),i=$.useRef(null),s=on(),a=$.useCallback(d=>{r?r(d):s(`/people/${d}`)},[r,s]);$.useEffect(()=>{if(!n.current||!t||!t.nodes||t.nodes.length===0)return;const d=new hu(t.nodes),h=new hu(t.edges),f={layout:{hierarchical:{enabled:!0,direction:"UD",sortMethod:"directed",levelSeparation:180,nodeSpacing:200,treeSpacing:250,blockShifting:!0,edgeMinimization:!0,parentCentralization:!0}},nodes:{shape:"box",margin:10,font:{size:14,face:'system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif',color:"#1f2937"},color:{border:"#d1d5db",background:"#ffffff",highlight:{border:"#f59e0b",background:"#fef3c7"},hover:{border:"#9ca3af",background:"#f9fafb"}},borderWidth:2,borderWidthSelected:3,shadow:{enabled:!0,color:"rgba(0,0,0,0.1)",size:5,x:0,y:2}},edges:{color:{color:"#9ca3af",highlight:"#6b7280",hover:"#6b7280"},width:2,smooth:{enabled:!0,type:"cubicBezier",forceDirection:"vertical",roundness:.4},arrows:{to:{enabled:!1}}},physics:{enabled:!1},interaction:{hover:!0,tooltipDelay:200,zoomView:!0,dragView:!0,dragNodes:!1,navigationButtons:!1,keyboard:{enabled:!0,bindToWindow:!1}}},p=new me(n.current,{nodes:d,edges:h},f);return i.current=p,p.on("click",m=>{if(m.nodes.length>0){const y=m.nodes[0];a(y)}}),p.on("doubleClick",m=>{m.nodes.length>0&&p.focus(m.nodes[0],{scale:1,animation:{duration:500,easingFunction:"easeInOutQuad"}})}),p.once("stabilized",()=>{const m=t.edges.filter(y=>y.dashes).map(y=>[y.from,y.to]);if(m.length>0){const y=p.getPositions(),w={},g=new Set;m.forEach(([v,x])=>{if(g.has(v)||g.has(x))return;const b=y[v],_=y[x];if(!b||!_)return;const E=(b.x+_.x)/2;w[v]={x:E-60,y:b.y},w[x]={x:E+60,y:_.y},g.add(v),g.add(x)}),Object.entries(w).forEach(([v,x])=>{p.moveNode(v,x.x,x.y)})}setTimeout(()=>{p.fit({animation:{duration:500,easingFunction:"easeInOutQuad"}})},50)}),setTimeout(()=>{e&&p&&p.focus(e,{scale:.8,animation:{duration:500,easingFunction:"easeInOutQuad"}})},100),()=>{p&&p.destroy()}},[t,e,a]);const o=()=>{if(i.current){const d=i.current.getScale();i.current.moveTo({scale:d*1.3,animation:{duration:300,easingFunction:"easeInOutQuad"}})}},l=()=>{if(i.current){const d=i.current.getScale();i.current.moveTo({scale:d/1.3,animation:{duration:300,easingFunction:"easeInOutQuad"}})}},c=()=>{i.current&&i.current.fit({animation:{duration:500,easingFunction:"easeInOutQuad"}})};return!t||!t.nodes||t.nodes.length===0?u.jsx("div",{className:"flex items-center justify-center h-96",children:u.jsx("p",{className:"text-gray-500",children:"No family tree data available"})}):u.jsxs("div",{className:"relative w-full h-full",children:[u.jsxs("div",{className:"absolute top-4 right-4 z-10 flex gap-2 bg-white rounded-lg shadow-lg p-2",children:[u.jsx("button",{onClick:o,className:"p-2 hover:bg-gray-100 rounded",title:"Zoom In",children:u.jsx(Gte,{className:"w-4 h-4"})}),u.jsx("button",{onClick:l,className:"p-2 hover:bg-gray-100 rounded",title:"Zoom Out",children:u.jsx(Yte,{className:"w-4 h-4"})}),u.jsx("button",{onClick:c,className:"p-2 hover:bg-gray-100 rounded",title:"Fit All",children:u.jsx(yH,{className:"w-4 h-4"})})]}),u.jsx("div",{className:"absolute bottom-4 left-4 z-10 text-xs text-gray-500 bg-white/80 px-2 py-1 rounded",children:"Click a person to view details  Double-click to center  Scroll to zoom"}),u.jsx("div",{ref:n,className:"w-full h-full min-h-[600px]",style:{background:"#fafafa"}})]})}const p0e=["parent","child","spouse","lover","partner"];function m0e(t){return p0e.includes(t==null?void 0:t.toLowerCase())}function v0e(t){return(t==null?void 0:t.toLowerCase())==="parent"}function g0e(t){return(t==null?void 0:t.toLowerCase())==="child"}function y0e(t){const e=t==null?void 0:t.toLowerCase();return e==="spouse"||e==="lover"||e==="partner"}function b0e(t,e,r){var d;const n=new Map,i=[],s=new Set,a=new Map;e.forEach(h=>a.set(h.id,h));const o=[{personId:t,depth:0}];s.add(t);function l(h,f){var v,x,b,_;let p=h.name||((v=h.title)==null?void 0:v.rendered)||h.title||`Person ${f}`;if(p&&typeof p=="string"&&typeof document<"u"){const E=document.createElement("textarea");E.innerHTML=p,p=E.value}let m=null,y=((x=h.acf)==null?void 0:x.birth_date)||null;if(y){const E=new Date(y);isNaN(E.getTime())||(m=Math.floor((new Date-E)/(365.25*24*60*60*1e3)))}let w="";switch((b=h.acf)==null?void 0:b.gender){case"male":w="";break;case"female":w="";break;case"non_binary":case"other":case"prefer_not_to_say":w="";break}let g="";if(y)try{const E=new Date(y);if(!isNaN(E.getTime())){const O=String(E.getDate()).padStart(2,"0"),S=String(E.getMonth()+1).padStart(2,"0"),N=E.getFullYear();g=`${O}-${S}-${N}`}}catch{}return{id:f,name:p,gender:((_=h.acf)==null?void 0:_.gender)||"",genderSymbol:w,photo:h.thumbnail||null,age:m,birthDate:y,formattedBirthDate:g}}const c=a.get(t);for(c&&n.set(t,l(c,t));o.length>0;){const{personId:h,depth:f}=o.shift(),p=r.get(h)||[];for(const m of p){if(m.relationship_type_slug&&!m0e(m.relationship_type_slug))continue;const y=m.related_person;if(!y||!a.has(y))continue;if(!n.has(y)){const x=a.get(y);n.set(y,l(x,y))}const w=`${h}-${y}`,g=`${y}-${h}`;if(!i.some(x=>`${x.from}-${x.to}`===w||`${x.from}-${x.to}`===g)){const x=(d=m.relationship_type_slug)==null?void 0:d.toLowerCase();if(v0e(x))i.push({from:y,to:h,type:"parent-child"});else if(g0e(x))i.push({from:h,to:y,type:"parent-child"});else if(y0e(x)){const[b,_]=h<y?[h,y]:[y,h];i.push({from:b,to:_,type:"spouse"})}}s.has(y)||(s.add(y),o.push({personId:y,depth:f+1}))}}return{nodes:Array.from(n.values()),edges:i}}function w0e(t,e,r={}){const{nodes:n,edges:i}=t;if(n.length===0)return{nodes:[],edges:[]};const s=new Map,a=new Map,o=new Map;n.forEach(w=>{s.set(w.id,[]),a.set(w.id,[]),o.set(w.id,[])}),i.forEach(w=>{var g,v,x,b;w.type==="parent-child"?((g=s.get(w.to))==null||g.push(w.from),(v=a.get(w.from))==null||v.push(w.to)):w.type==="spouse"&&((x=o.get(w.from))==null||x.push(w.to),(b=o.get(w.to))==null||b.push(w.from))});const l=new Map,c=new Set,d=[{id:e,generation:0}];for(l.set(e,0),c.add(e);d.length>0;){const{id:w,generation:g}=d.shift(),v=s.get(w)||[];for(const _ of v)c.has(_)||(c.add(_),l.set(_,g-1),d.push({id:_,generation:g-1}));const x=a.get(w)||[];for(const _ of x)c.has(_)||(c.add(_),l.set(_,g+1),d.push({id:_,generation:g+1}));const b=o.get(w)||[];for(const _ of b)c.has(_)||(c.add(_),l.set(_,g),d.push({id:_,generation:g}))}n.forEach(w=>{l.has(w.id)||l.set(w.id,0)});const h=Math.min(...l.values()),f=new Map;l.forEach((w,g)=>{f.set(g,w-h)});function p(w,g,v=!1){const x=w?w.split(" ").map(O=>O[0]).join("").toUpperCase().slice(0,2):"?";let b,_;v?(b="%23d1d5db",_="%236b7280"):g?(b="%23fef3c7",_="%23b45309"):(b="%23e5e7eb",_="%23374151");const E=`<svg xmlns="http://www.w3.org/2000/svg" width="90" height="90" viewBox="0 0 90 90">
      <circle cx="45" cy="45" r="45" fill="${b}"/>
      <text x="45" y="55" text-anchor="middle" font-family="system-ui, sans-serif" font-size="28" font-weight="500" fill="${_}">${x}</text>
    </svg>`;return"data:image/svg+xml,"+encodeURIComponent(E)}const m=n.map(w=>{const g=f.get(w.id)||0,v=w.id===e,x=r[w.id]||!1;let b=w.name;x&&(b=w.name+" ");let _=[b],E="";w.genderSymbol&&(E+=w.genderSymbol+" "),w.age!==null&&(E+=w.age+" "),w.formattedBirthDate&&(E+=w.formattedBirthDate),E.trim()&&_.push(E.trim());const O=w.photo||p(w.name,v,x);let S="#d1d5db";return v?S="#f59e0b":x&&(S="#9ca3af"),{id:w.id,label:_.join(`
`),level:g,shape:"circularImage",image:O,size:45,font:{size:14,face:"system-ui, -apple-system, sans-serif",vadjust:8,color:x?"#6b7280":"#1f2937"},color:{border:S,background:"#ffffff",highlight:{border:"#f59e0b",background:"#fef3c7"}},borderWidth:v?3:2,data:{...w,isDeceased:x}}}),y=i.map((w,g)=>{const v=w.type==="spouse";return{id:`edge-${g}`,from:w.from,to:w.to,arrows:{to:{enabled:!1}},color:{color:v?"#ec4899":"#9ca3af",highlight:v?"#db2777":"#6b7280"},width:2,dashes:v?[5,5]:!1,smooth:!1,length:v?50:300}});return{nodes:m,edges:y}}function x0e(t){const e=new Map;return t.forEach(r=>{var s;const i=(((s=r.acf)==null?void 0:s.relationships)||[]).map(a=>{var c,d,h,f,p,m;let o="";a.relationship_slug?o=a.relationship_slug.toLowerCase():typeof a.relationship_type=="object"?o=((c=a.relationship_type)==null?void 0:c.slug)||((h=(d=a.relationship_type)==null?void 0:d.name)==null?void 0:h.toLowerCase())||"":typeof a.relationship_type=="string"&&(o=a.relationship_type.toLowerCase());let l=null;return typeof a.related_person=="object"?l=((f=a.related_person)==null?void 0:f.ID)||((p=a.related_person)==null?void 0:p.id)||((m=a.related_person)==null?void 0:m.term_id):(typeof a.related_person=="number"||typeof a.related_person=="string")&&(l=parseInt(a.related_person,10)),{related_person:l,relationship_type:a.relationship_type,relationship_type_slug:o,relationship_name:a.relationship_name||"",relationship_label:a.relationship_label||""}}).filter(a=>a.related_person);e.set(r.id,i)}),e}function _0e(t,e){const r=new Map;e.forEach(n=>{var i;r.set(n.id,n.slug||((i=n.name)==null?void 0:i.toLowerCase()))}),t.forEach(n=>{n.forEach(i=>{if(!i.relationship_type_slug&&i.relationship_type){const s=typeof i.relationship_type=="object"?i.relationship_type.term_id||i.relationship_type.id:i.relationship_type;i.relationship_type_slug=r.get(s)||""}})})}function S0e(){var p,m;const{id:t}=ps(),e=on(),r=parseInt(t,10),{data:n,isLoading:i}=Ou(t),{data:s=[],isLoading:a}=Vp(),{data:o=[]}=ft({queryKey:["relationship-types"],queryFn:async()=>(await Be.getRelationshipTypes()).data}),l=$.useMemo(()=>s.map(y=>y.id).filter(Boolean),[s]),c=Zf({queries:l.map(y=>({queryKey:["person-dates",y],queryFn:async()=>(await We.getPersonDates(y)).data,enabled:!!y,staleTime:5*60*1e3}))}),d=$.useMemo(()=>{const y={};return c.forEach((w,g)=>{if(w.data&&l[g]){const v=l[g],x=w.data.some(b=>{const _=Array.isArray(b.date_type)?b.date_type[0]:b.date_type;return(_==null?void 0:_.toLowerCase())==="died"});y[v]=x}}),y},[c,l]);xn(n?`Family Tree - ${n.name||((p=n.title)==null?void 0:p.rendered)||n.title||"Person"}`:"Family Tree");const h=$.useMemo(()=>{if(!n||!s.length)return null;try{const y=x0e(s);o.length>0&&_0e(y,o);const w=b0e(r,s,y);return!w||w.nodes.length===0?null:w0e(w,r,d)}catch(y){return console.error("Error building family tree:",y),null}},[n,s,o,r,d]),f=y=>{e(`/people/${y}`)};return i||a?u.jsx("div",{className:"flex items-center justify-center h-64",children:u.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"})}):n?u.jsxs("div",{className:"max-w-full mx-auto space-y-6",children:[u.jsx("div",{className:"flex items-center justify-between",children:u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsxs(ce,{to:`/people/${t}`,className:"flex items-center text-gray-600 hover:text-gray-900",children:[u.jsx(yn,{className:"w-4 h-4 md:mr-2"}),u.jsx("span",{className:"hidden md:inline",children:"Back to Person"})]}),u.jsxs("h1",{className:"text-2xl font-bold",children:["Family Tree: ",n.name||((m=n.title)==null?void 0:m.rendered)||n.title||`Person ${t}`]})]})}),u.jsx("div",{className:"card p-6",children:u.jsx("div",{className:"w-full",style:{height:"800px"},children:h&&h.nodes&&h.nodes.length>0?u.jsx(f0e,{graphData:h,startPersonId:r,onNodeClick:f}):u.jsx("div",{className:"flex items-center justify-center h-full",children:u.jsxs("div",{className:"text-center",children:[u.jsx("p",{className:"text-gray-500 mb-2",children:"No family relationships found."}),u.jsx("p",{className:"text-sm text-gray-400",children:"Add parent or child relationships to see the family tree."})]})})})})]}):u.jsxs("div",{className:"card p-6 text-center",children:[u.jsx("p",{className:"text-red-600 mb-4",children:"Failed to load person."}),u.jsx(ce,{to:"/people",className:"btn-secondary",children:"Back to People"})]})}function E0e(){const{loginUrl:t,isLoggedIn:e}=IP();return NH(),$.useEffect(()=>{e||(window.location.href=t)},[e,t]),u.jsx("div",{className:"flex items-center justify-center min-h-screen bg-gray-50",children:u.jsxs("div",{className:"text-center",children:[u.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600 mx-auto mb-4"}),u.jsx("p",{className:"text-gray-600",children:"Redirecting to login..."})]})})}function O0e({children:t}){const{data:e,isLoading:r,error:n}=ft({queryKey:["current-user"],queryFn:async()=>(await We.getCurrentUser()).data,retry:!1});return r?u.jsx("div",{className:"flex items-center justify-center min-h-screen bg-gray-50",children:u.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"})}):n||!e?u.jsx("div",{className:"flex items-center justify-center min-h-screen bg-gray-50",children:u.jsx("div",{className:"max-w-md w-full mx-4",children:u.jsxs("div",{className:"card p-8 text-center",children:[u.jsx("div",{className:"flex justify-center mb-4",children:u.jsx("div",{className:"p-3 bg-yellow-100 rounded-full",children:u.jsx(ca,{className:"w-8 h-8 text-yellow-600"})})}),u.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-2",children:"Account Pending Approval"}),u.jsx("p",{className:"text-gray-600 mb-6",children:"Your account is pending approval by an administrator. You will receive an email notification once your account has been approved."}),u.jsx("p",{className:"text-sm text-gray-500",children:"If you have any questions, please contact your administrator."})]})})}):e!=null&&e.is_admin||e.is_approved?t:u.jsx("div",{className:"flex items-center justify-center min-h-screen bg-gray-50",children:u.jsx("div",{className:"max-w-md w-full mx-4",children:u.jsxs("div",{className:"card p-8 text-center",children:[u.jsx("div",{className:"flex justify-center mb-4",children:u.jsx("div",{className:"p-3 bg-yellow-100 rounded-full",children:u.jsx(ca,{className:"w-8 h-8 text-yellow-600"})})}),u.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-2",children:"Account Pending Approval"}),u.jsx("p",{className:"text-gray-600 mb-6",children:"Your account is pending approval by an administrator. You will receive an email notification once your account has been approved."}),u.jsx("p",{className:"text-sm text-gray-500",children:"If you have any questions, please contact your administrator."})]})})})}function N0e({children:t}){const{isLoggedIn:e,isLoading:r}=IP();return r?u.jsx("div",{className:"flex items-center justify-center min-h-screen",children:u.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"})}):e?u.jsx(O0e,{children:t}):u.jsx(PV,{to:"/login",replace:!0})}function P0e(){return u.jsxs(vj,{children:[u.jsx(tt,{path:"/login",element:u.jsx(E0e,{})}),u.jsx(tt,{path:"/*",element:u.jsx(N0e,{children:u.jsx(nre,{children:u.jsxs(vj,{children:[u.jsx(tt,{path:"/",element:u.jsx(hne,{})}),u.jsx(tt,{path:"/people",element:u.jsx(wne,{})}),u.jsx(tt,{path:"/people/new",element:u.jsx(bI,{})}),u.jsx(tt,{path:"/people/:personId/contact/new",element:u.jsx(xI,{})}),u.jsx(tt,{path:"/people/:personId/contact/:index/edit",element:u.jsx(xI,{})}),u.jsx(tt,{path:"/people/:personId/work-history/new",element:u.jsx(wI,{})}),u.jsx(tt,{path:"/people/:personId/work-history/:index/edit",element:u.jsx(wI,{})}),u.jsx(tt,{path:"/people/:personId/relationship/new",element:u.jsx(_I,{})}),u.jsx(tt,{path:"/people/:personId/relationship/:index/edit",element:u.jsx(_I,{})}),u.jsx(tt,{path:"/people/:id/family-tree",element:u.jsx(S0e,{})}),u.jsx(tt,{path:"/people/:id/edit",element:u.jsx(bI,{})}),u.jsx(tt,{path:"/people/:id",element:u.jsx(qne,{})}),u.jsx(tt,{path:"/companies",element:u.jsx(oie,{})}),u.jsx(tt,{path:"/companies/new",element:u.jsx(SI,{})}),u.jsx(tt,{path:"/companies/:id",element:u.jsx(lie,{})}),u.jsx(tt,{path:"/companies/:id/edit",element:u.jsx(SI,{})}),u.jsx(tt,{path:"/dates",element:u.jsx(die,{})}),u.jsx(tt,{path:"/dates/new",element:u.jsx(EI,{})}),u.jsx(tt,{path:"/dates/:id/edit",element:u.jsx(EI,{})}),u.jsx(tt,{path:"/settings",element:u.jsx(fie,{})}),u.jsx(tt,{path:"/settings/relationship-types",element:u.jsx(pie,{})}),u.jsx(tt,{path:"/settings/import",element:u.jsx(bie,{})}),u.jsx(tt,{path:"/settings/export",element:u.jsx(wie,{})}),u.jsx(tt,{path:"/settings/user-approval",element:u.jsx(xie,{})}),u.jsx(tt,{path:"*",element:u.jsx(PV,{to:"/",replace:!0})})]})})})})]})}const C0e=new HZ({defaultOptions:{queries:{staleTime:5*60*1e3,retry:1}}}),k2=document.getElementById("root");if(!k2)console.error('Root element not found! Make sure there is a <div id="root"></div> in your HTML.');else try{D2.createRoot(k2).render(u.jsx(Te.StrictMode,{children:u.jsx(KZ,{client:C0e,children:u.jsx(mZ,{children:u.jsx(P0e,{})})})}))}catch(t){console.error("Error mounting React app:",t),k2.innerHTML='<div style="padding: 20px; color: red;"><h1>Error Loading Application</h1><p>Please check the browser console for details.</p></div>'}
