var ZN=t=>{throw TypeError(t)};var Tm=(t,e,r)=>e.has(t)||ZN("Cannot "+r);var R=(t,e,r)=>(Tm(t,e,"read from private field"),r?r.call(t):e.get(t)),le=(t,e,r)=>e.has(t)?ZN("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,r),ee=(t,e,r,n)=>(Tm(t,e,"write to private field"),n?n.call(t,r):e.set(t,r),r),Se=(t,e,r)=>(Tm(t,e,"access private method"),r);var Ph=(t,e,r,n)=>({set _(i){ee(t,e,i,r)},get _(){return R(t,e,n)}});function zY(t,e){for(var r=0;r<e.length;r++){const n=e[r];if(typeof n!="string"&&!Array.isArray(n)){for(const i in n)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(n,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>n[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}function UY(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var sW={exports:{}},bp={},aW={exports:{}},ke={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Rd=Symbol.for("react.element"),WY=Symbol.for("react.portal"),HY=Symbol.for("react.fragment"),VY=Symbol.for("react.strict_mode"),KY=Symbol.for("react.profiler"),GY=Symbol.for("react.provider"),YY=Symbol.for("react.context"),QY=Symbol.for("react.forward_ref"),XY=Symbol.for("react.suspense"),JY=Symbol.for("react.memo"),ZY=Symbol.for("react.lazy"),eT=Symbol.iterator;function eQ(t){return t===null||typeof t!="object"?null:(t=eT&&t[eT]||t["@@iterator"],typeof t=="function"?t:null)}var oW={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},lW=Object.assign,uW={};function gu(t,e,r){this.props=t,this.context=e,this.refs=uW,this.updater=r||oW}gu.prototype.isReactComponent={};gu.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};gu.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function cW(){}cW.prototype=gu.prototype;function PP(t,e,r){this.props=t,this.context=e,this.refs=uW,this.updater=r||oW}var CP=PP.prototype=new cW;CP.constructor=PP;lW(CP,gu.prototype);CP.isPureReactComponent=!0;var tT=Array.isArray,dW=Object.prototype.hasOwnProperty,NP={current:null},hW={key:!0,ref:!0,__self:!0,__source:!0};function fW(t,e,r){var n,i={},s=null,a=null;if(e!=null)for(n in e.ref!==void 0&&(a=e.ref),e.key!==void 0&&(s=""+e.key),e)dW.call(e,n)&&!hW.hasOwnProperty(n)&&(i[n]=e[n]);var o=arguments.length-2;if(o===1)i.children=r;else if(1<o){for(var l=Array(o),u=0;u<o;u++)l[u]=arguments[u+2];i.children=l}if(t&&t.defaultProps)for(n in o=t.defaultProps,o)i[n]===void 0&&(i[n]=o[n]);return{$$typeof:Rd,type:t,key:s,ref:a,props:i,_owner:NP.current}}function tQ(t,e){return{$$typeof:Rd,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function TP(t){return typeof t=="object"&&t!==null&&t.$$typeof===Rd}function rQ(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(r){return e[r]})}var rT=/\/+/g;function Im(t,e){return typeof t=="object"&&t!==null&&t.key!=null?rQ(""+t.key):e.toString(36)}function rf(t,e,r,n,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var a=!1;if(t===null)a=!0;else switch(s){case"string":case"number":a=!0;break;case"object":switch(t.$$typeof){case Rd:case WY:a=!0}}if(a)return a=t,i=i(a),t=n===""?"."+Im(a,0):n,tT(i)?(r="",t!=null&&(r=t.replace(rT,"$&/")+"/"),rf(i,e,r,"",function(u){return u})):i!=null&&(TP(i)&&(i=tQ(i,r+(!i.key||a&&a.key===i.key?"":(""+i.key).replace(rT,"$&/")+"/")+t)),e.push(i)),1;if(a=0,n=n===""?".":n+":",tT(t))for(var o=0;o<t.length;o++){s=t[o];var l=n+Im(s,o);a+=rf(s,e,r,l,i)}else if(l=eQ(t),typeof l=="function")for(t=l.call(t),o=0;!(s=t.next()).done;)s=s.value,l=n+Im(s,o++),a+=rf(s,e,r,l,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return a}function Ch(t,e,r){if(t==null)return t;var n=[],i=0;return rf(t,n,"","",function(s){return e.call(r,s,i++)}),n}function nQ(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(r){(t._status===0||t._status===-1)&&(t._status=1,t._result=r)},function(r){(t._status===0||t._status===-1)&&(t._status=2,t._result=r)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Br={current:null},nf={transition:null},iQ={ReactCurrentDispatcher:Br,ReactCurrentBatchConfig:nf,ReactCurrentOwner:NP};function pW(){throw Error("act(...) is not supported in production builds of React.")}ke.Children={map:Ch,forEach:function(t,e,r){Ch(t,function(){e.apply(this,arguments)},r)},count:function(t){var e=0;return Ch(t,function(){e++}),e},toArray:function(t){return Ch(t,function(e){return e})||[]},only:function(t){if(!TP(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};ke.Component=gu;ke.Fragment=HY;ke.Profiler=KY;ke.PureComponent=PP;ke.StrictMode=VY;ke.Suspense=XY;ke.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=iQ;ke.act=pW;ke.cloneElement=function(t,e,r){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var n=lW({},t.props),i=t.key,s=t.ref,a=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,a=NP.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var o=t.type.defaultProps;for(l in e)dW.call(e,l)&&!hW.hasOwnProperty(l)&&(n[l]=e[l]===void 0&&o!==void 0?o[l]:e[l])}var l=arguments.length-2;if(l===1)n.children=r;else if(1<l){o=Array(l);for(var u=0;u<l;u++)o[u]=arguments[u+2];n.children=o}return{$$typeof:Rd,type:t.type,key:i,ref:s,props:n,_owner:a}};ke.createContext=function(t){return t={$$typeof:YY,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:GY,_context:t},t.Consumer=t};ke.createElement=fW;ke.createFactory=function(t){var e=fW.bind(null,t);return e.type=t,e};ke.createRef=function(){return{current:null}};ke.forwardRef=function(t){return{$$typeof:QY,render:t}};ke.isValidElement=TP;ke.lazy=function(t){return{$$typeof:ZY,_payload:{_status:-1,_result:t},_init:nQ}};ke.memo=function(t,e){return{$$typeof:JY,type:t,compare:e===void 0?null:e}};ke.startTransition=function(t){var e=nf.transition;nf.transition={};try{t()}finally{nf.transition=e}};ke.unstable_act=pW;ke.useCallback=function(t,e){return Br.current.useCallback(t,e)};ke.useContext=function(t){return Br.current.useContext(t)};ke.useDebugValue=function(){};ke.useDeferredValue=function(t){return Br.current.useDeferredValue(t)};ke.useEffect=function(t,e){return Br.current.useEffect(t,e)};ke.useId=function(){return Br.current.useId()};ke.useImperativeHandle=function(t,e,r){return Br.current.useImperativeHandle(t,e,r)};ke.useInsertionEffect=function(t,e){return Br.current.useInsertionEffect(t,e)};ke.useLayoutEffect=function(t,e){return Br.current.useLayoutEffect(t,e)};ke.useMemo=function(t,e){return Br.current.useMemo(t,e)};ke.useReducer=function(t,e,r){return Br.current.useReducer(t,e,r)};ke.useRef=function(t){return Br.current.useRef(t)};ke.useState=function(t){return Br.current.useState(t)};ke.useSyncExternalStore=function(t,e,r){return Br.current.useSyncExternalStore(t,e,r)};ke.useTransition=function(){return Br.current.useTransition()};ke.version="18.3.1";aW.exports=ke;var $=aW.exports;const Te=UY($),sQ=zY({__proto__:null,default:Te},[$]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var aQ=$,oQ=Symbol.for("react.element"),lQ=Symbol.for("react.fragment"),uQ=Object.prototype.hasOwnProperty,cQ=aQ.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,dQ={key:!0,ref:!0,__self:!0,__source:!0};function mW(t,e,r){var n,i={},s=null,a=null;r!==void 0&&(s=""+r),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(a=e.ref);for(n in e)uQ.call(e,n)&&!dQ.hasOwnProperty(n)&&(i[n]=e[n]);if(t&&t.defaultProps)for(n in e=t.defaultProps,e)i[n]===void 0&&(i[n]=e[n]);return{$$typeof:oQ,type:t,key:s,ref:a,props:i,_owner:cQ.current}}bp.Fragment=lQ;bp.jsx=mW;bp.jsxs=mW;sW.exports=bp;var c=sW.exports,D2={},vW={exports:{}},gn={},gW={exports:{}},yW={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(L,W){var z=L.length;L.push(W);e:for(;0<z;){var U=z-1>>>1,Q=L[U];if(0<i(Q,W))L[U]=W,L[z]=Q,z=U;else break e}}function r(L){return L.length===0?null:L[0]}function n(L){if(L.length===0)return null;var W=L[0],z=L.pop();if(z!==W){L[0]=z;e:for(var U=0,Q=L.length,fe=Q>>>1;U<fe;){var ge=2*(U+1)-1,Me=L[ge],xe=ge+1,Oe=L[xe];if(0>i(Me,z))xe<Q&&0>i(Oe,Me)?(L[U]=Oe,L[xe]=z,U=xe):(L[U]=Me,L[ge]=z,U=ge);else if(xe<Q&&0>i(Oe,z))L[U]=Oe,L[xe]=z,U=xe;else break e}}return W}function i(L,W){var z=L.sortIndex-W.sortIndex;return z!==0?z:L.id-W.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var a=Date,o=a.now();t.unstable_now=function(){return a.now()-o}}var l=[],u=[],d=1,h=null,f=3,p=!1,m=!1,y=!1,b=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,v=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function x(L){for(var W=r(u);W!==null;){if(W.callback===null)n(u);else if(W.startTime<=L)n(u),W.sortIndex=W.expirationTime,e(l,W);else break;W=r(u)}}function w(L){if(y=!1,x(L),!m)if(r(l)!==null)m=!0,X(_);else{var W=r(u);W!==null&&H(w,W.startTime-L)}}function _(L,W){m=!1,y&&(y=!1,g(S),S=-1),p=!0;var z=f;try{for(x(W),h=r(l);h!==null&&(!(h.expirationTime>W)||L&&!I());){var U=h.callback;if(typeof U=="function"){h.callback=null,f=h.priorityLevel;var Q=U(h.expirationTime<=W);W=t.unstable_now(),typeof Q=="function"?h.callback=Q:h===r(l)&&n(l),x(W)}else n(l);h=r(l)}if(h!==null)var fe=!0;else{var ge=r(u);ge!==null&&H(w,ge.startTime-W),fe=!1}return fe}finally{h=null,f=z,p=!1}}var E=!1,O=null,S=-1,P=5,C=-1;function I(){return!(t.unstable_now()-C<P)}function N(){if(O!==null){var L=t.unstable_now();C=L;var W=!0;try{W=O(!0,L)}finally{W?T():(E=!1,O=null)}}else E=!1}var T;if(typeof v=="function")T=function(){v(N)};else if(typeof MessageChannel<"u"){var q=new MessageChannel,B=q.port2;q.port1.onmessage=N,T=function(){B.postMessage(null)}}else T=function(){b(N,0)};function X(L){O=L,E||(E=!0,T())}function H(L,W){S=b(function(){L(t.unstable_now())},W)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(L){L.callback=null},t.unstable_continueExecution=function(){m||p||(m=!0,X(_))},t.unstable_forceFrameRate=function(L){0>L||125<L?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<L?Math.floor(1e3/L):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return r(l)},t.unstable_next=function(L){switch(f){case 1:case 2:case 3:var W=3;break;default:W=f}var z=f;f=W;try{return L()}finally{f=z}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(L,W){switch(L){case 1:case 2:case 3:case 4:case 5:break;default:L=3}var z=f;f=L;try{return W()}finally{f=z}},t.unstable_scheduleCallback=function(L,W,z){var U=t.unstable_now();switch(typeof z=="object"&&z!==null?(z=z.delay,z=typeof z=="number"&&0<z?U+z:U):z=U,L){case 1:var Q=-1;break;case 2:Q=250;break;case 5:Q=1073741823;break;case 4:Q=1e4;break;default:Q=5e3}return Q=z+Q,L={id:d++,callback:W,priorityLevel:L,startTime:z,expirationTime:Q,sortIndex:-1},z>U?(L.sortIndex=z,e(u,L),r(l)===null&&L===r(u)&&(y?(g(S),S=-1):y=!0,H(w,z-U))):(L.sortIndex=Q,e(l,L),m||p||(m=!0,X(_))),L},t.unstable_shouldYield=I,t.unstable_wrapCallback=function(L){var W=f;return function(){var z=f;f=W;try{return L.apply(this,arguments)}finally{f=z}}}})(yW);gW.exports=yW;var hQ=gW.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fQ=$,vn=hQ;function K(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,r=1;r<arguments.length;r++)e+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var bW=new Set,zc={};function To(t,e){Ql(t,e),Ql(t+"Capture",e)}function Ql(t,e){for(zc[t]=e,t=0;t<e.length;t++)bW.add(e[t])}var is=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),q2=Object.prototype.hasOwnProperty,pQ=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,nT={},iT={};function mQ(t){return q2.call(iT,t)?!0:q2.call(nT,t)?!1:pQ.test(t)?iT[t]=!0:(nT[t]=!0,!1)}function vQ(t,e,r,n){if(r!==null&&r.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function gQ(t,e,r,n){if(e===null||typeof e>"u"||vQ(t,e,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function zr(t,e,r,n,i,s,a){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=n,this.attributeNamespace=i,this.mustUseProperty=r,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=a}var vr={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){vr[t]=new zr(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];vr[e]=new zr(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){vr[t]=new zr(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){vr[t]=new zr(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){vr[t]=new zr(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){vr[t]=new zr(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){vr[t]=new zr(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){vr[t]=new zr(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){vr[t]=new zr(t,5,!1,t.toLowerCase(),null,!1,!1)});var IP=/[\-:]([a-z])/g;function RP(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(IP,RP);vr[e]=new zr(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(IP,RP);vr[e]=new zr(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(IP,RP);vr[e]=new zr(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){vr[t]=new zr(t,1,!1,t.toLowerCase(),null,!1,!1)});vr.xlinkHref=new zr("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){vr[t]=new zr(t,1,!1,t.toLowerCase(),null,!0,!0)});function jP(t,e,r,n){var i=vr.hasOwnProperty(e)?vr[e]:null;(i!==null?i.type!==0:n||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(gQ(e,r,i,n)&&(r=null),n||i===null?mQ(e)&&(r===null?t.removeAttribute(e):t.setAttribute(e,""+r)):i.mustUseProperty?t[i.propertyName]=r===null?i.type===3?!1:"":r:(e=i.attributeName,n=i.attributeNamespace,r===null?t.removeAttribute(e):(i=i.type,r=i===3||i===4&&r===!0?"":""+r,n?t.setAttributeNS(n,e,r):t.setAttribute(e,r))))}var us=fQ.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Nh=Symbol.for("react.element"),ol=Symbol.for("react.portal"),ll=Symbol.for("react.fragment"),$P=Symbol.for("react.strict_mode"),M2=Symbol.for("react.profiler"),wW=Symbol.for("react.provider"),xW=Symbol.for("react.context"),kP=Symbol.for("react.forward_ref"),A2=Symbol.for("react.suspense"),F2=Symbol.for("react.suspense_list"),DP=Symbol.for("react.memo"),Ss=Symbol.for("react.lazy"),_W=Symbol.for("react.offscreen"),sT=Symbol.iterator;function tc(t){return t===null||typeof t!="object"?null:(t=sT&&t[sT]||t["@@iterator"],typeof t=="function"?t:null)}var wt=Object.assign,Rm;function gc(t){if(Rm===void 0)try{throw Error()}catch(r){var e=r.stack.trim().match(/\n( *(at )?)/);Rm=e&&e[1]||""}return`
`+Rm+t}var jm=!1;function $m(t,e){if(!t||jm)return"";jm=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var n=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){n=u}t.call(e.prototype)}else{try{throw Error()}catch(u){n=u}t()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),s=n.stack.split(`
`),a=i.length-1,o=s.length-1;1<=a&&0<=o&&i[a]!==s[o];)o--;for(;1<=a&&0<=o;a--,o--)if(i[a]!==s[o]){if(a!==1||o!==1)do if(a--,o--,0>o||i[a]!==s[o]){var l=`
`+i[a].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=a&&0<=o);break}}}finally{jm=!1,Error.prepareStackTrace=r}return(t=t?t.displayName||t.name:"")?gc(t):""}function yQ(t){switch(t.tag){case 5:return gc(t.type);case 16:return gc("Lazy");case 13:return gc("Suspense");case 19:return gc("SuspenseList");case 0:case 2:case 15:return t=$m(t.type,!1),t;case 11:return t=$m(t.type.render,!1),t;case 1:return t=$m(t.type,!0),t;default:return""}}function L2(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case ll:return"Fragment";case ol:return"Portal";case M2:return"Profiler";case $P:return"StrictMode";case A2:return"Suspense";case F2:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case xW:return(t.displayName||"Context")+".Consumer";case wW:return(t._context.displayName||"Context")+".Provider";case kP:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case DP:return e=t.displayName||null,e!==null?e:L2(t.type)||"Memo";case Ss:e=t._payload,t=t._init;try{return L2(t(e))}catch{}}return null}function bQ(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return L2(e);case 8:return e===$P?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function oa(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function SW(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function wQ(t){var e=SW(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),n=""+t[e];if(!t.hasOwnProperty(e)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var i=r.get,s=r.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(a){n=""+a,s.call(this,a)}}),Object.defineProperty(t,e,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(a){n=""+a},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Th(t){t._valueTracker||(t._valueTracker=wQ(t))}function EW(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var r=e.getValue(),n="";return t&&(n=SW(t)?t.checked?"true":"false":t.value),t=n,t!==r?(e.setValue(t),!0):!1}function Of(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function B2(t,e){var r=e.checked;return wt({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??t._wrapperState.initialChecked})}function aT(t,e){var r=e.defaultValue==null?"":e.defaultValue,n=e.checked!=null?e.checked:e.defaultChecked;r=oa(e.value!=null?e.value:r),t._wrapperState={initialChecked:n,initialValue:r,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function OW(t,e){e=e.checked,e!=null&&jP(t,"checked",e,!1)}function z2(t,e){OW(t,e);var r=oa(e.value),n=e.type;if(r!=null)n==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+r):t.value!==""+r&&(t.value=""+r);else if(n==="submit"||n==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?U2(t,e.type,r):e.hasOwnProperty("defaultValue")&&U2(t,e.type,oa(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function oT(t,e,r){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var n=e.type;if(!(n!=="submit"&&n!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,r||e===t.value||(t.value=e),t.defaultValue=e}r=t.name,r!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,r!==""&&(t.name=r)}function U2(t,e,r){(e!=="number"||Of(t.ownerDocument)!==t)&&(r==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+r&&(t.defaultValue=""+r))}var yc=Array.isArray;function Ol(t,e,r,n){if(t=t.options,e){e={};for(var i=0;i<r.length;i++)e["$"+r[i]]=!0;for(r=0;r<t.length;r++)i=e.hasOwnProperty("$"+t[r].value),t[r].selected!==i&&(t[r].selected=i),i&&n&&(t[r].defaultSelected=!0)}else{for(r=""+oa(r),e=null,i=0;i<t.length;i++){if(t[i].value===r){t[i].selected=!0,n&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function W2(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(K(91));return wt({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function lT(t,e){var r=e.value;if(r==null){if(r=e.children,e=e.defaultValue,r!=null){if(e!=null)throw Error(K(92));if(yc(r)){if(1<r.length)throw Error(K(93));r=r[0]}e=r}e==null&&(e=""),r=e}t._wrapperState={initialValue:oa(r)}}function PW(t,e){var r=oa(e.value),n=oa(e.defaultValue);r!=null&&(r=""+r,r!==t.value&&(t.value=r),e.defaultValue==null&&t.defaultValue!==r&&(t.defaultValue=r)),n!=null&&(t.defaultValue=""+n)}function uT(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function CW(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function H2(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?CW(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Ih,NW=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,r,n,i){MSApp.execUnsafeLocalFunction(function(){return t(e,r,n,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Ih=Ih||document.createElement("div"),Ih.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Ih.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Uc(t,e){if(e){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=e;return}}t.textContent=e}var Ec={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},xQ=["Webkit","ms","Moz","O"];Object.keys(Ec).forEach(function(t){xQ.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Ec[e]=Ec[t]})});function TW(t,e,r){return e==null||typeof e=="boolean"||e===""?"":r||typeof e!="number"||e===0||Ec.hasOwnProperty(t)&&Ec[t]?(""+e).trim():e+"px"}function IW(t,e){t=t.style;for(var r in e)if(e.hasOwnProperty(r)){var n=r.indexOf("--")===0,i=TW(r,e[r],n);r==="float"&&(r="cssFloat"),n?t.setProperty(r,i):t[r]=i}}var _Q=wt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function V2(t,e){if(e){if(_Q[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(K(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(K(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(K(61))}if(e.style!=null&&typeof e.style!="object")throw Error(K(62))}}function K2(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var G2=null;function qP(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Y2=null,Pl=null,Cl=null;function cT(t){if(t=kd(t)){if(typeof Y2!="function")throw Error(K(280));var e=t.stateNode;e&&(e=Ep(e),Y2(t.stateNode,t.type,e))}}function RW(t){Pl?Cl?Cl.push(t):Cl=[t]:Pl=t}function jW(){if(Pl){var t=Pl,e=Cl;if(Cl=Pl=null,cT(t),e)for(t=0;t<e.length;t++)cT(e[t])}}function $W(t,e){return t(e)}function kW(){}var km=!1;function DW(t,e,r){if(km)return t(e,r);km=!0;try{return $W(t,e,r)}finally{km=!1,(Pl!==null||Cl!==null)&&(kW(),jW())}}function Wc(t,e){var r=t.stateNode;if(r===null)return null;var n=Ep(r);if(n===null)return null;r=n[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(t=t.type,n=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!n;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(K(231,e,typeof r));return r}var Q2=!1;if(is)try{var rc={};Object.defineProperty(rc,"passive",{get:function(){Q2=!0}}),window.addEventListener("test",rc,rc),window.removeEventListener("test",rc,rc)}catch{Q2=!1}function SQ(t,e,r,n,i,s,a,o,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(r,u)}catch(d){this.onError(d)}}var Oc=!1,Pf=null,Cf=!1,X2=null,EQ={onError:function(t){Oc=!0,Pf=t}};function OQ(t,e,r,n,i,s,a,o,l){Oc=!1,Pf=null,SQ.apply(EQ,arguments)}function PQ(t,e,r,n,i,s,a,o,l){if(OQ.apply(this,arguments),Oc){if(Oc){var u=Pf;Oc=!1,Pf=null}else throw Error(K(198));Cf||(Cf=!0,X2=u)}}function Io(t){var e=t,r=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(r=e.return),t=e.return;while(t)}return e.tag===3?r:null}function qW(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function dT(t){if(Io(t)!==t)throw Error(K(188))}function CQ(t){var e=t.alternate;if(!e){if(e=Io(t),e===null)throw Error(K(188));return e!==t?null:t}for(var r=t,n=e;;){var i=r.return;if(i===null)break;var s=i.alternate;if(s===null){if(n=i.return,n!==null){r=n;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===r)return dT(i),t;if(s===n)return dT(i),e;s=s.sibling}throw Error(K(188))}if(r.return!==n.return)r=i,n=s;else{for(var a=!1,o=i.child;o;){if(o===r){a=!0,r=i,n=s;break}if(o===n){a=!0,n=i,r=s;break}o=o.sibling}if(!a){for(o=s.child;o;){if(o===r){a=!0,r=s,n=i;break}if(o===n){a=!0,n=s,r=i;break}o=o.sibling}if(!a)throw Error(K(189))}}if(r.alternate!==n)throw Error(K(190))}if(r.tag!==3)throw Error(K(188));return r.stateNode.current===r?t:e}function MW(t){return t=CQ(t),t!==null?AW(t):null}function AW(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=AW(t);if(e!==null)return e;t=t.sibling}return null}var FW=vn.unstable_scheduleCallback,hT=vn.unstable_cancelCallback,NQ=vn.unstable_shouldYield,TQ=vn.unstable_requestPaint,jt=vn.unstable_now,IQ=vn.unstable_getCurrentPriorityLevel,MP=vn.unstable_ImmediatePriority,LW=vn.unstable_UserBlockingPriority,Nf=vn.unstable_NormalPriority,RQ=vn.unstable_LowPriority,BW=vn.unstable_IdlePriority,wp=null,Oi=null;function jQ(t){if(Oi&&typeof Oi.onCommitFiberRoot=="function")try{Oi.onCommitFiberRoot(wp,t,void 0,(t.current.flags&128)===128)}catch{}}var ni=Math.clz32?Math.clz32:DQ,$Q=Math.log,kQ=Math.LN2;function DQ(t){return t>>>=0,t===0?32:31-($Q(t)/kQ|0)|0}var Rh=64,jh=4194304;function bc(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Tf(t,e){var r=t.pendingLanes;if(r===0)return 0;var n=0,i=t.suspendedLanes,s=t.pingedLanes,a=r&268435455;if(a!==0){var o=a&~i;o!==0?n=bc(o):(s&=a,s!==0&&(n=bc(s)))}else a=r&~i,a!==0?n=bc(a):s!==0&&(n=bc(s));if(n===0)return 0;if(e!==0&&e!==n&&!(e&i)&&(i=n&-n,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(n&4&&(n|=r&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=n;0<e;)r=31-ni(e),i=1<<r,n|=t[r],e&=~i;return n}function qQ(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function MQ(t,e){for(var r=t.suspendedLanes,n=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var a=31-ni(s),o=1<<a,l=i[a];l===-1?(!(o&r)||o&n)&&(i[a]=qQ(o,e)):l<=e&&(t.expiredLanes|=o),s&=~o}}function J2(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function zW(){var t=Rh;return Rh<<=1,!(Rh&4194240)&&(Rh=64),t}function Dm(t){for(var e=[],r=0;31>r;r++)e.push(t);return e}function jd(t,e,r){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-ni(e),t[e]=r}function AQ(t,e){var r=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var n=t.eventTimes;for(t=t.expirationTimes;0<r;){var i=31-ni(r),s=1<<i;e[i]=0,n[i]=-1,t[i]=-1,r&=~s}}function AP(t,e){var r=t.entangledLanes|=e;for(t=t.entanglements;r;){var n=31-ni(r),i=1<<n;i&e|t[n]&e&&(t[n]|=e),r&=~i}}var Ke=0;function UW(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var WW,FP,HW,VW,KW,Z2=!1,$h=[],Hs=null,Vs=null,Ks=null,Hc=new Map,Vc=new Map,Ns=[],FQ="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function fT(t,e){switch(t){case"focusin":case"focusout":Hs=null;break;case"dragenter":case"dragleave":Vs=null;break;case"mouseover":case"mouseout":Ks=null;break;case"pointerover":case"pointerout":Hc.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Vc.delete(e.pointerId)}}function nc(t,e,r,n,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:r,eventSystemFlags:n,nativeEvent:s,targetContainers:[i]},e!==null&&(e=kd(e),e!==null&&FP(e)),t):(t.eventSystemFlags|=n,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function LQ(t,e,r,n,i){switch(e){case"focusin":return Hs=nc(Hs,t,e,r,n,i),!0;case"dragenter":return Vs=nc(Vs,t,e,r,n,i),!0;case"mouseover":return Ks=nc(Ks,t,e,r,n,i),!0;case"pointerover":var s=i.pointerId;return Hc.set(s,nc(Hc.get(s)||null,t,e,r,n,i)),!0;case"gotpointercapture":return s=i.pointerId,Vc.set(s,nc(Vc.get(s)||null,t,e,r,n,i)),!0}return!1}function GW(t){var e=Ra(t.target);if(e!==null){var r=Io(e);if(r!==null){if(e=r.tag,e===13){if(e=qW(r),e!==null){t.blockedOn=e,KW(t.priority,function(){HW(r)});return}}else if(e===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function sf(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var r=eO(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(r===null){r=t.nativeEvent;var n=new r.constructor(r.type,r);G2=n,r.target.dispatchEvent(n),G2=null}else return e=kd(r),e!==null&&FP(e),t.blockedOn=r,!1;e.shift()}return!0}function pT(t,e,r){sf(t)&&r.delete(e)}function BQ(){Z2=!1,Hs!==null&&sf(Hs)&&(Hs=null),Vs!==null&&sf(Vs)&&(Vs=null),Ks!==null&&sf(Ks)&&(Ks=null),Hc.forEach(pT),Vc.forEach(pT)}function ic(t,e){t.blockedOn===e&&(t.blockedOn=null,Z2||(Z2=!0,vn.unstable_scheduleCallback(vn.unstable_NormalPriority,BQ)))}function Kc(t){function e(i){return ic(i,t)}if(0<$h.length){ic($h[0],t);for(var r=1;r<$h.length;r++){var n=$h[r];n.blockedOn===t&&(n.blockedOn=null)}}for(Hs!==null&&ic(Hs,t),Vs!==null&&ic(Vs,t),Ks!==null&&ic(Ks,t),Hc.forEach(e),Vc.forEach(e),r=0;r<Ns.length;r++)n=Ns[r],n.blockedOn===t&&(n.blockedOn=null);for(;0<Ns.length&&(r=Ns[0],r.blockedOn===null);)GW(r),r.blockedOn===null&&Ns.shift()}var Nl=us.ReactCurrentBatchConfig,If=!0;function zQ(t,e,r,n){var i=Ke,s=Nl.transition;Nl.transition=null;try{Ke=1,LP(t,e,r,n)}finally{Ke=i,Nl.transition=s}}function UQ(t,e,r,n){var i=Ke,s=Nl.transition;Nl.transition=null;try{Ke=4,LP(t,e,r,n)}finally{Ke=i,Nl.transition=s}}function LP(t,e,r,n){if(If){var i=eO(t,e,r,n);if(i===null)Hm(t,e,n,Rf,r),fT(t,n);else if(LQ(i,t,e,r,n))n.stopPropagation();else if(fT(t,n),e&4&&-1<FQ.indexOf(t)){for(;i!==null;){var s=kd(i);if(s!==null&&WW(s),s=eO(t,e,r,n),s===null&&Hm(t,e,n,Rf,r),s===i)break;i=s}i!==null&&n.stopPropagation()}else Hm(t,e,n,null,r)}}var Rf=null;function eO(t,e,r,n){if(Rf=null,t=qP(n),t=Ra(t),t!==null)if(e=Io(t),e===null)t=null;else if(r=e.tag,r===13){if(t=qW(e),t!==null)return t;t=null}else if(r===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Rf=t,null}function YW(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(IQ()){case MP:return 1;case LW:return 4;case Nf:case RQ:return 16;case BW:return 536870912;default:return 16}default:return 16}}var Bs=null,BP=null,af=null;function QW(){if(af)return af;var t,e=BP,r=e.length,n,i="value"in Bs?Bs.value:Bs.textContent,s=i.length;for(t=0;t<r&&e[t]===i[t];t++);var a=r-t;for(n=1;n<=a&&e[r-n]===i[s-n];n++);return af=i.slice(t,1<n?1-n:void 0)}function of(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function kh(){return!0}function mT(){return!1}function yn(t){function e(r,n,i,s,a){this._reactName=r,this._targetInst=i,this.type=n,this.nativeEvent=s,this.target=a,this.currentTarget=null;for(var o in t)t.hasOwnProperty(o)&&(r=t[o],this[o]=r?r(s):s[o]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?kh:mT,this.isPropagationStopped=mT,this}return wt(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=kh)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=kh)},persist:function(){},isPersistent:kh}),e}var yu={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},zP=yn(yu),$d=wt({},yu,{view:0,detail:0}),WQ=yn($d),qm,Mm,sc,xp=wt({},$d,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:UP,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==sc&&(sc&&t.type==="mousemove"?(qm=t.screenX-sc.screenX,Mm=t.screenY-sc.screenY):Mm=qm=0,sc=t),qm)},movementY:function(t){return"movementY"in t?t.movementY:Mm}}),vT=yn(xp),HQ=wt({},xp,{dataTransfer:0}),VQ=yn(HQ),KQ=wt({},$d,{relatedTarget:0}),Am=yn(KQ),GQ=wt({},yu,{animationName:0,elapsedTime:0,pseudoElement:0}),YQ=yn(GQ),QQ=wt({},yu,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),XQ=yn(QQ),JQ=wt({},yu,{data:0}),gT=yn(JQ),ZQ={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},eX={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},tX={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function rX(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=tX[t])?!!e[t]:!1}function UP(){return rX}var nX=wt({},$d,{key:function(t){if(t.key){var e=ZQ[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=of(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?eX[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:UP,charCode:function(t){return t.type==="keypress"?of(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?of(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),iX=yn(nX),sX=wt({},xp,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),yT=yn(sX),aX=wt({},$d,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:UP}),oX=yn(aX),lX=wt({},yu,{propertyName:0,elapsedTime:0,pseudoElement:0}),uX=yn(lX),cX=wt({},xp,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),dX=yn(cX),hX=[9,13,27,32],WP=is&&"CompositionEvent"in window,Pc=null;is&&"documentMode"in document&&(Pc=document.documentMode);var fX=is&&"TextEvent"in window&&!Pc,XW=is&&(!WP||Pc&&8<Pc&&11>=Pc),bT=" ",wT=!1;function JW(t,e){switch(t){case"keyup":return hX.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ZW(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var ul=!1;function pX(t,e){switch(t){case"compositionend":return ZW(e);case"keypress":return e.which!==32?null:(wT=!0,bT);case"textInput":return t=e.data,t===bT&&wT?null:t;default:return null}}function mX(t,e){if(ul)return t==="compositionend"||!WP&&JW(t,e)?(t=QW(),af=BP=Bs=null,ul=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return XW&&e.locale!=="ko"?null:e.data;default:return null}}var vX={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function xT(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!vX[t.type]:e==="textarea"}function e9(t,e,r,n){RW(n),e=jf(e,"onChange"),0<e.length&&(r=new zP("onChange","change",null,r,n),t.push({event:r,listeners:e}))}var Cc=null,Gc=null;function gX(t){d9(t,0)}function _p(t){var e=hl(t);if(EW(e))return t}function yX(t,e){if(t==="change")return e}var t9=!1;if(is){var Fm;if(is){var Lm="oninput"in document;if(!Lm){var _T=document.createElement("div");_T.setAttribute("oninput","return;"),Lm=typeof _T.oninput=="function"}Fm=Lm}else Fm=!1;t9=Fm&&(!document.documentMode||9<document.documentMode)}function ST(){Cc&&(Cc.detachEvent("onpropertychange",r9),Gc=Cc=null)}function r9(t){if(t.propertyName==="value"&&_p(Gc)){var e=[];e9(e,Gc,t,qP(t)),DW(gX,e)}}function bX(t,e,r){t==="focusin"?(ST(),Cc=e,Gc=r,Cc.attachEvent("onpropertychange",r9)):t==="focusout"&&ST()}function wX(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return _p(Gc)}function xX(t,e){if(t==="click")return _p(e)}function _X(t,e){if(t==="input"||t==="change")return _p(e)}function SX(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var si=typeof Object.is=="function"?Object.is:SX;function Yc(t,e){if(si(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var i=r[n];if(!q2.call(e,i)||!si(t[i],e[i]))return!1}return!0}function ET(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function OT(t,e){var r=ET(t);t=0;for(var n;r;){if(r.nodeType===3){if(n=t+r.textContent.length,t<=e&&n>=e)return{node:r,offset:e-t};t=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=ET(r)}}function n9(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?n9(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function i9(){for(var t=window,e=Of();e instanceof t.HTMLIFrameElement;){try{var r=typeof e.contentWindow.location.href=="string"}catch{r=!1}if(r)t=e.contentWindow;else break;e=Of(t.document)}return e}function HP(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function EX(t){var e=i9(),r=t.focusedElem,n=t.selectionRange;if(e!==r&&r&&r.ownerDocument&&n9(r.ownerDocument.documentElement,r)){if(n!==null&&HP(r)){if(e=n.start,t=n.end,t===void 0&&(t=e),"selectionStart"in r)r.selectionStart=e,r.selectionEnd=Math.min(t,r.value.length);else if(t=(e=r.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=r.textContent.length,s=Math.min(n.start,i);n=n.end===void 0?s:Math.min(n.end,i),!t.extend&&s>n&&(i=n,n=s,s=i),i=OT(r,s);var a=OT(r,n);i&&a&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==a.node||t.focusOffset!==a.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>n?(t.addRange(e),t.extend(a.node,a.offset)):(e.setEnd(a.node,a.offset),t.addRange(e)))}}for(e=[],t=r;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<e.length;r++)t=e[r],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var OX=is&&"documentMode"in document&&11>=document.documentMode,cl=null,tO=null,Nc=null,rO=!1;function PT(t,e,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;rO||cl==null||cl!==Of(n)||(n=cl,"selectionStart"in n&&HP(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Nc&&Yc(Nc,n)||(Nc=n,n=jf(tO,"onSelect"),0<n.length&&(e=new zP("onSelect","select",null,e,r),t.push({event:e,listeners:n}),e.target=cl)))}function Dh(t,e){var r={};return r[t.toLowerCase()]=e.toLowerCase(),r["Webkit"+t]="webkit"+e,r["Moz"+t]="moz"+e,r}var dl={animationend:Dh("Animation","AnimationEnd"),animationiteration:Dh("Animation","AnimationIteration"),animationstart:Dh("Animation","AnimationStart"),transitionend:Dh("Transition","TransitionEnd")},Bm={},s9={};is&&(s9=document.createElement("div").style,"AnimationEvent"in window||(delete dl.animationend.animation,delete dl.animationiteration.animation,delete dl.animationstart.animation),"TransitionEvent"in window||delete dl.transitionend.transition);function Sp(t){if(Bm[t])return Bm[t];if(!dl[t])return t;var e=dl[t],r;for(r in e)if(e.hasOwnProperty(r)&&r in s9)return Bm[t]=e[r];return t}var a9=Sp("animationend"),o9=Sp("animationiteration"),l9=Sp("animationstart"),u9=Sp("transitionend"),c9=new Map,CT="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function pa(t,e){c9.set(t,e),To(e,[t])}for(var zm=0;zm<CT.length;zm++){var Um=CT[zm],PX=Um.toLowerCase(),CX=Um[0].toUpperCase()+Um.slice(1);pa(PX,"on"+CX)}pa(a9,"onAnimationEnd");pa(o9,"onAnimationIteration");pa(l9,"onAnimationStart");pa("dblclick","onDoubleClick");pa("focusin","onFocus");pa("focusout","onBlur");pa(u9,"onTransitionEnd");Ql("onMouseEnter",["mouseout","mouseover"]);Ql("onMouseLeave",["mouseout","mouseover"]);Ql("onPointerEnter",["pointerout","pointerover"]);Ql("onPointerLeave",["pointerout","pointerover"]);To("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));To("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));To("onBeforeInput",["compositionend","keypress","textInput","paste"]);To("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));To("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));To("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var wc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),NX=new Set("cancel close invalid load scroll toggle".split(" ").concat(wc));function NT(t,e,r){var n=t.type||"unknown-event";t.currentTarget=r,PQ(n,e,void 0,t),t.currentTarget=null}function d9(t,e){e=(e&4)!==0;for(var r=0;r<t.length;r++){var n=t[r],i=n.event;n=n.listeners;e:{var s=void 0;if(e)for(var a=n.length-1;0<=a;a--){var o=n[a],l=o.instance,u=o.currentTarget;if(o=o.listener,l!==s&&i.isPropagationStopped())break e;NT(i,o,u),s=l}else for(a=0;a<n.length;a++){if(o=n[a],l=o.instance,u=o.currentTarget,o=o.listener,l!==s&&i.isPropagationStopped())break e;NT(i,o,u),s=l}}}if(Cf)throw t=X2,Cf=!1,X2=null,t}function ct(t,e){var r=e[oO];r===void 0&&(r=e[oO]=new Set);var n=t+"__bubble";r.has(n)||(h9(e,t,2,!1),r.add(n))}function Wm(t,e,r){var n=0;e&&(n|=4),h9(r,t,n,e)}var qh="_reactListening"+Math.random().toString(36).slice(2);function Qc(t){if(!t[qh]){t[qh]=!0,bW.forEach(function(r){r!=="selectionchange"&&(NX.has(r)||Wm(r,!1,t),Wm(r,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[qh]||(e[qh]=!0,Wm("selectionchange",!1,e))}}function h9(t,e,r,n){switch(YW(e)){case 1:var i=zQ;break;case 4:i=UQ;break;default:i=LP}r=i.bind(null,e,r,t),i=void 0,!Q2||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),n?i!==void 0?t.addEventListener(e,r,{capture:!0,passive:i}):t.addEventListener(e,r,!0):i!==void 0?t.addEventListener(e,r,{passive:i}):t.addEventListener(e,r,!1)}function Hm(t,e,r,n,i){var s=n;if(!(e&1)&&!(e&2)&&n!==null)e:for(;;){if(n===null)return;var a=n.tag;if(a===3||a===4){var o=n.stateNode.containerInfo;if(o===i||o.nodeType===8&&o.parentNode===i)break;if(a===4)for(a=n.return;a!==null;){var l=a.tag;if((l===3||l===4)&&(l=a.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;a=a.return}for(;o!==null;){if(a=Ra(o),a===null)return;if(l=a.tag,l===5||l===6){n=s=a;continue e}o=o.parentNode}}n=n.return}DW(function(){var u=s,d=qP(r),h=[];e:{var f=c9.get(t);if(f!==void 0){var p=zP,m=t;switch(t){case"keypress":if(of(r)===0)break e;case"keydown":case"keyup":p=iX;break;case"focusin":m="focus",p=Am;break;case"focusout":m="blur",p=Am;break;case"beforeblur":case"afterblur":p=Am;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=vT;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=VQ;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=oX;break;case a9:case o9:case l9:p=YQ;break;case u9:p=uX;break;case"scroll":p=WQ;break;case"wheel":p=dX;break;case"copy":case"cut":case"paste":p=XQ;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=yT}var y=(e&4)!==0,b=!y&&t==="scroll",g=y?f!==null?f+"Capture":null:f;y=[];for(var v=u,x;v!==null;){x=v;var w=x.stateNode;if(x.tag===5&&w!==null&&(x=w,g!==null&&(w=Wc(v,g),w!=null&&y.push(Xc(v,w,x)))),b)break;v=v.return}0<y.length&&(f=new p(f,m,null,r,d),h.push({event:f,listeners:y}))}}if(!(e&7)){e:{if(f=t==="mouseover"||t==="pointerover",p=t==="mouseout"||t==="pointerout",f&&r!==G2&&(m=r.relatedTarget||r.fromElement)&&(Ra(m)||m[ss]))break e;if((p||f)&&(f=d.window===d?d:(f=d.ownerDocument)?f.defaultView||f.parentWindow:window,p?(m=r.relatedTarget||r.toElement,p=u,m=m?Ra(m):null,m!==null&&(b=Io(m),m!==b||m.tag!==5&&m.tag!==6)&&(m=null)):(p=null,m=u),p!==m)){if(y=vT,w="onMouseLeave",g="onMouseEnter",v="mouse",(t==="pointerout"||t==="pointerover")&&(y=yT,w="onPointerLeave",g="onPointerEnter",v="pointer"),b=p==null?f:hl(p),x=m==null?f:hl(m),f=new y(w,v+"leave",p,r,d),f.target=b,f.relatedTarget=x,w=null,Ra(d)===u&&(y=new y(g,v+"enter",m,r,d),y.target=x,y.relatedTarget=b,w=y),b=w,p&&m)t:{for(y=p,g=m,v=0,x=y;x;x=Zo(x))v++;for(x=0,w=g;w;w=Zo(w))x++;for(;0<v-x;)y=Zo(y),v--;for(;0<x-v;)g=Zo(g),x--;for(;v--;){if(y===g||g!==null&&y===g.alternate)break t;y=Zo(y),g=Zo(g)}y=null}else y=null;p!==null&&TT(h,f,p,y,!1),m!==null&&b!==null&&TT(h,b,m,y,!0)}}e:{if(f=u?hl(u):window,p=f.nodeName&&f.nodeName.toLowerCase(),p==="select"||p==="input"&&f.type==="file")var _=yX;else if(xT(f))if(t9)_=_X;else{_=wX;var E=bX}else(p=f.nodeName)&&p.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(_=xX);if(_&&(_=_(t,u))){e9(h,_,r,d);break e}E&&E(t,f,u),t==="focusout"&&(E=f._wrapperState)&&E.controlled&&f.type==="number"&&U2(f,"number",f.value)}switch(E=u?hl(u):window,t){case"focusin":(xT(E)||E.contentEditable==="true")&&(cl=E,tO=u,Nc=null);break;case"focusout":Nc=tO=cl=null;break;case"mousedown":rO=!0;break;case"contextmenu":case"mouseup":case"dragend":rO=!1,PT(h,r,d);break;case"selectionchange":if(OX)break;case"keydown":case"keyup":PT(h,r,d)}var O;if(WP)e:{switch(t){case"compositionstart":var S="onCompositionStart";break e;case"compositionend":S="onCompositionEnd";break e;case"compositionupdate":S="onCompositionUpdate";break e}S=void 0}else ul?JW(t,r)&&(S="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(S="onCompositionStart");S&&(XW&&r.locale!=="ko"&&(ul||S!=="onCompositionStart"?S==="onCompositionEnd"&&ul&&(O=QW()):(Bs=d,BP="value"in Bs?Bs.value:Bs.textContent,ul=!0)),E=jf(u,S),0<E.length&&(S=new gT(S,t,null,r,d),h.push({event:S,listeners:E}),O?S.data=O:(O=ZW(r),O!==null&&(S.data=O)))),(O=fX?pX(t,r):mX(t,r))&&(u=jf(u,"onBeforeInput"),0<u.length&&(d=new gT("onBeforeInput","beforeinput",null,r,d),h.push({event:d,listeners:u}),d.data=O))}d9(h,e)})}function Xc(t,e,r){return{instance:t,listener:e,currentTarget:r}}function jf(t,e){for(var r=e+"Capture",n=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=Wc(t,r),s!=null&&n.unshift(Xc(t,s,i)),s=Wc(t,e),s!=null&&n.push(Xc(t,s,i))),t=t.return}return n}function Zo(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function TT(t,e,r,n,i){for(var s=e._reactName,a=[];r!==null&&r!==n;){var o=r,l=o.alternate,u=o.stateNode;if(l!==null&&l===n)break;o.tag===5&&u!==null&&(o=u,i?(l=Wc(r,s),l!=null&&a.unshift(Xc(r,l,o))):i||(l=Wc(r,s),l!=null&&a.push(Xc(r,l,o)))),r=r.return}a.length!==0&&t.push({event:e,listeners:a})}var TX=/\r\n?/g,IX=/\u0000|\uFFFD/g;function IT(t){return(typeof t=="string"?t:""+t).replace(TX,`
`).replace(IX,"")}function Mh(t,e,r){if(e=IT(e),IT(t)!==e&&r)throw Error(K(425))}function $f(){}var nO=null,iO=null;function sO(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var aO=typeof setTimeout=="function"?setTimeout:void 0,RX=typeof clearTimeout=="function"?clearTimeout:void 0,RT=typeof Promise=="function"?Promise:void 0,jX=typeof queueMicrotask=="function"?queueMicrotask:typeof RT<"u"?function(t){return RT.resolve(null).then(t).catch($X)}:aO;function $X(t){setTimeout(function(){throw t})}function Vm(t,e){var r=e,n=0;do{var i=r.nextSibling;if(t.removeChild(r),i&&i.nodeType===8)if(r=i.data,r==="/$"){if(n===0){t.removeChild(i),Kc(e);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=i}while(r);Kc(e)}function Gs(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function jT(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(e===0)return t;e--}else r==="/$"&&e++}t=t.previousSibling}return null}var bu=Math.random().toString(36).slice(2),wi="__reactFiber$"+bu,Jc="__reactProps$"+bu,ss="__reactContainer$"+bu,oO="__reactEvents$"+bu,kX="__reactListeners$"+bu,DX="__reactHandles$"+bu;function Ra(t){var e=t[wi];if(e)return e;for(var r=t.parentNode;r;){if(e=r[ss]||r[wi]){if(r=e.alternate,e.child!==null||r!==null&&r.child!==null)for(t=jT(t);t!==null;){if(r=t[wi])return r;t=jT(t)}return e}t=r,r=t.parentNode}return null}function kd(t){return t=t[wi]||t[ss],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function hl(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(K(33))}function Ep(t){return t[Jc]||null}var lO=[],fl=-1;function ma(t){return{current:t}}function dt(t){0>fl||(t.current=lO[fl],lO[fl]=null,fl--)}function lt(t,e){fl++,lO[fl]=t.current,t.current=e}var la={},Cr=ma(la),Xr=ma(!1),oo=la;function Xl(t,e){var r=t.type.contextTypes;if(!r)return la;var n=t.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===e)return n.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in r)i[s]=e[s];return n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function Jr(t){return t=t.childContextTypes,t!=null}function kf(){dt(Xr),dt(Cr)}function $T(t,e,r){if(Cr.current!==la)throw Error(K(168));lt(Cr,e),lt(Xr,r)}function f9(t,e,r){var n=t.stateNode;if(e=e.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var i in n)if(!(i in e))throw Error(K(108,bQ(t)||"Unknown",i));return wt({},r,n)}function Df(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||la,oo=Cr.current,lt(Cr,t),lt(Xr,Xr.current),!0}function kT(t,e,r){var n=t.stateNode;if(!n)throw Error(K(169));r?(t=f9(t,e,oo),n.__reactInternalMemoizedMergedChildContext=t,dt(Xr),dt(Cr),lt(Cr,t)):dt(Xr),lt(Xr,r)}var Ai=null,Op=!1,Km=!1;function p9(t){Ai===null?Ai=[t]:Ai.push(t)}function qX(t){Op=!0,p9(t)}function va(){if(!Km&&Ai!==null){Km=!0;var t=0,e=Ke;try{var r=Ai;for(Ke=1;t<r.length;t++){var n=r[t];do n=n(!0);while(n!==null)}Ai=null,Op=!1}catch(i){throw Ai!==null&&(Ai=Ai.slice(t+1)),FW(MP,va),i}finally{Ke=e,Km=!1}}return null}var pl=[],ml=0,qf=null,Mf=0,Tn=[],In=0,lo=null,Ui=1,Wi="";function Na(t,e){pl[ml++]=Mf,pl[ml++]=qf,qf=t,Mf=e}function m9(t,e,r){Tn[In++]=Ui,Tn[In++]=Wi,Tn[In++]=lo,lo=t;var n=Ui;t=Wi;var i=32-ni(n)-1;n&=~(1<<i),r+=1;var s=32-ni(e)+i;if(30<s){var a=i-i%5;s=(n&(1<<a)-1).toString(32),n>>=a,i-=a,Ui=1<<32-ni(e)+i|r<<i|n,Wi=s+t}else Ui=1<<s|r<<i|n,Wi=t}function VP(t){t.return!==null&&(Na(t,1),m9(t,1,0))}function KP(t){for(;t===qf;)qf=pl[--ml],pl[ml]=null,Mf=pl[--ml],pl[ml]=null;for(;t===lo;)lo=Tn[--In],Tn[In]=null,Wi=Tn[--In],Tn[In]=null,Ui=Tn[--In],Tn[In]=null}var mn=null,pn=null,pt=!1,Xn=null;function v9(t,e){var r=jn(5,null,null,0);r.elementType="DELETED",r.stateNode=e,r.return=t,e=t.deletions,e===null?(t.deletions=[r],t.flags|=16):e.push(r)}function DT(t,e){switch(t.tag){case 5:var r=t.type;return e=e.nodeType!==1||r.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,mn=t,pn=Gs(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,mn=t,pn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(r=lo!==null?{id:Ui,overflow:Wi}:null,t.memoizedState={dehydrated:e,treeContext:r,retryLane:1073741824},r=jn(18,null,null,0),r.stateNode=e,r.return=t,t.child=r,mn=t,pn=null,!0):!1;default:return!1}}function uO(t){return(t.mode&1)!==0&&(t.flags&128)===0}function cO(t){if(pt){var e=pn;if(e){var r=e;if(!DT(t,e)){if(uO(t))throw Error(K(418));e=Gs(r.nextSibling);var n=mn;e&&DT(t,e)?v9(n,r):(t.flags=t.flags&-4097|2,pt=!1,mn=t)}}else{if(uO(t))throw Error(K(418));t.flags=t.flags&-4097|2,pt=!1,mn=t}}}function qT(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;mn=t}function Ah(t){if(t!==mn)return!1;if(!pt)return qT(t),pt=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!sO(t.type,t.memoizedProps)),e&&(e=pn)){if(uO(t))throw g9(),Error(K(418));for(;e;)v9(t,e),e=Gs(e.nextSibling)}if(qT(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(K(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"){if(e===0){pn=Gs(t.nextSibling);break e}e--}else r!=="$"&&r!=="$!"&&r!=="$?"||e++}t=t.nextSibling}pn=null}}else pn=mn?Gs(t.stateNode.nextSibling):null;return!0}function g9(){for(var t=pn;t;)t=Gs(t.nextSibling)}function Jl(){pn=mn=null,pt=!1}function GP(t){Xn===null?Xn=[t]:Xn.push(t)}var MX=us.ReactCurrentBatchConfig;function ac(t,e,r){if(t=r.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(K(309));var n=r.stateNode}if(!n)throw Error(K(147,t));var i=n,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(a){var o=i.refs;a===null?delete o[s]:o[s]=a},e._stringRef=s,e)}if(typeof t!="string")throw Error(K(284));if(!r._owner)throw Error(K(290,t))}return t}function Fh(t,e){throw t=Object.prototype.toString.call(e),Error(K(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function MT(t){var e=t._init;return e(t._payload)}function y9(t){function e(g,v){if(t){var x=g.deletions;x===null?(g.deletions=[v],g.flags|=16):x.push(v)}}function r(g,v){if(!t)return null;for(;v!==null;)e(g,v),v=v.sibling;return null}function n(g,v){for(g=new Map;v!==null;)v.key!==null?g.set(v.key,v):g.set(v.index,v),v=v.sibling;return g}function i(g,v){return g=Js(g,v),g.index=0,g.sibling=null,g}function s(g,v,x){return g.index=x,t?(x=g.alternate,x!==null?(x=x.index,x<v?(g.flags|=2,v):x):(g.flags|=2,v)):(g.flags|=1048576,v)}function a(g){return t&&g.alternate===null&&(g.flags|=2),g}function o(g,v,x,w){return v===null||v.tag!==6?(v=ev(x,g.mode,w),v.return=g,v):(v=i(v,x),v.return=g,v)}function l(g,v,x,w){var _=x.type;return _===ll?d(g,v,x.props.children,w,x.key):v!==null&&(v.elementType===_||typeof _=="object"&&_!==null&&_.$$typeof===Ss&&MT(_)===v.type)?(w=i(v,x.props),w.ref=ac(g,v,x),w.return=g,w):(w=pf(x.type,x.key,x.props,null,g.mode,w),w.ref=ac(g,v,x),w.return=g,w)}function u(g,v,x,w){return v===null||v.tag!==4||v.stateNode.containerInfo!==x.containerInfo||v.stateNode.implementation!==x.implementation?(v=tv(x,g.mode,w),v.return=g,v):(v=i(v,x.children||[]),v.return=g,v)}function d(g,v,x,w,_){return v===null||v.tag!==7?(v=Ja(x,g.mode,w,_),v.return=g,v):(v=i(v,x),v.return=g,v)}function h(g,v,x){if(typeof v=="string"&&v!==""||typeof v=="number")return v=ev(""+v,g.mode,x),v.return=g,v;if(typeof v=="object"&&v!==null){switch(v.$$typeof){case Nh:return x=pf(v.type,v.key,v.props,null,g.mode,x),x.ref=ac(g,null,v),x.return=g,x;case ol:return v=tv(v,g.mode,x),v.return=g,v;case Ss:var w=v._init;return h(g,w(v._payload),x)}if(yc(v)||tc(v))return v=Ja(v,g.mode,x,null),v.return=g,v;Fh(g,v)}return null}function f(g,v,x,w){var _=v!==null?v.key:null;if(typeof x=="string"&&x!==""||typeof x=="number")return _!==null?null:o(g,v,""+x,w);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case Nh:return x.key===_?l(g,v,x,w):null;case ol:return x.key===_?u(g,v,x,w):null;case Ss:return _=x._init,f(g,v,_(x._payload),w)}if(yc(x)||tc(x))return _!==null?null:d(g,v,x,w,null);Fh(g,x)}return null}function p(g,v,x,w,_){if(typeof w=="string"&&w!==""||typeof w=="number")return g=g.get(x)||null,o(v,g,""+w,_);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Nh:return g=g.get(w.key===null?x:w.key)||null,l(v,g,w,_);case ol:return g=g.get(w.key===null?x:w.key)||null,u(v,g,w,_);case Ss:var E=w._init;return p(g,v,x,E(w._payload),_)}if(yc(w)||tc(w))return g=g.get(x)||null,d(v,g,w,_,null);Fh(v,w)}return null}function m(g,v,x,w){for(var _=null,E=null,O=v,S=v=0,P=null;O!==null&&S<x.length;S++){O.index>S?(P=O,O=null):P=O.sibling;var C=f(g,O,x[S],w);if(C===null){O===null&&(O=P);break}t&&O&&C.alternate===null&&e(g,O),v=s(C,v,S),E===null?_=C:E.sibling=C,E=C,O=P}if(S===x.length)return r(g,O),pt&&Na(g,S),_;if(O===null){for(;S<x.length;S++)O=h(g,x[S],w),O!==null&&(v=s(O,v,S),E===null?_=O:E.sibling=O,E=O);return pt&&Na(g,S),_}for(O=n(g,O);S<x.length;S++)P=p(O,g,S,x[S],w),P!==null&&(t&&P.alternate!==null&&O.delete(P.key===null?S:P.key),v=s(P,v,S),E===null?_=P:E.sibling=P,E=P);return t&&O.forEach(function(I){return e(g,I)}),pt&&Na(g,S),_}function y(g,v,x,w){var _=tc(x);if(typeof _!="function")throw Error(K(150));if(x=_.call(x),x==null)throw Error(K(151));for(var E=_=null,O=v,S=v=0,P=null,C=x.next();O!==null&&!C.done;S++,C=x.next()){O.index>S?(P=O,O=null):P=O.sibling;var I=f(g,O,C.value,w);if(I===null){O===null&&(O=P);break}t&&O&&I.alternate===null&&e(g,O),v=s(I,v,S),E===null?_=I:E.sibling=I,E=I,O=P}if(C.done)return r(g,O),pt&&Na(g,S),_;if(O===null){for(;!C.done;S++,C=x.next())C=h(g,C.value,w),C!==null&&(v=s(C,v,S),E===null?_=C:E.sibling=C,E=C);return pt&&Na(g,S),_}for(O=n(g,O);!C.done;S++,C=x.next())C=p(O,g,S,C.value,w),C!==null&&(t&&C.alternate!==null&&O.delete(C.key===null?S:C.key),v=s(C,v,S),E===null?_=C:E.sibling=C,E=C);return t&&O.forEach(function(N){return e(g,N)}),pt&&Na(g,S),_}function b(g,v,x,w){if(typeof x=="object"&&x!==null&&x.type===ll&&x.key===null&&(x=x.props.children),typeof x=="object"&&x!==null){switch(x.$$typeof){case Nh:e:{for(var _=x.key,E=v;E!==null;){if(E.key===_){if(_=x.type,_===ll){if(E.tag===7){r(g,E.sibling),v=i(E,x.props.children),v.return=g,g=v;break e}}else if(E.elementType===_||typeof _=="object"&&_!==null&&_.$$typeof===Ss&&MT(_)===E.type){r(g,E.sibling),v=i(E,x.props),v.ref=ac(g,E,x),v.return=g,g=v;break e}r(g,E);break}else e(g,E);E=E.sibling}x.type===ll?(v=Ja(x.props.children,g.mode,w,x.key),v.return=g,g=v):(w=pf(x.type,x.key,x.props,null,g.mode,w),w.ref=ac(g,v,x),w.return=g,g=w)}return a(g);case ol:e:{for(E=x.key;v!==null;){if(v.key===E)if(v.tag===4&&v.stateNode.containerInfo===x.containerInfo&&v.stateNode.implementation===x.implementation){r(g,v.sibling),v=i(v,x.children||[]),v.return=g,g=v;break e}else{r(g,v);break}else e(g,v);v=v.sibling}v=tv(x,g.mode,w),v.return=g,g=v}return a(g);case Ss:return E=x._init,b(g,v,E(x._payload),w)}if(yc(x))return m(g,v,x,w);if(tc(x))return y(g,v,x,w);Fh(g,x)}return typeof x=="string"&&x!==""||typeof x=="number"?(x=""+x,v!==null&&v.tag===6?(r(g,v.sibling),v=i(v,x),v.return=g,g=v):(r(g,v),v=ev(x,g.mode,w),v.return=g,g=v),a(g)):r(g,v)}return b}var Zl=y9(!0),b9=y9(!1),Af=ma(null),Ff=null,vl=null,YP=null;function QP(){YP=vl=Ff=null}function XP(t){var e=Af.current;dt(Af),t._currentValue=e}function dO(t,e,r){for(;t!==null;){var n=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,n!==null&&(n.childLanes|=e)):n!==null&&(n.childLanes&e)!==e&&(n.childLanes|=e),t===r)break;t=t.return}}function Tl(t,e){Ff=t,YP=vl=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Qr=!0),t.firstContext=null)}function qn(t){var e=t._currentValue;if(YP!==t)if(t={context:t,memoizedValue:e,next:null},vl===null){if(Ff===null)throw Error(K(308));vl=t,Ff.dependencies={lanes:0,firstContext:t}}else vl=vl.next=t;return e}var ja=null;function JP(t){ja===null?ja=[t]:ja.push(t)}function w9(t,e,r,n){var i=e.interleaved;return i===null?(r.next=r,JP(e)):(r.next=i.next,i.next=r),e.interleaved=r,as(t,n)}function as(t,e){t.lanes|=e;var r=t.alternate;for(r!==null&&(r.lanes|=e),r=t,t=t.return;t!==null;)t.childLanes|=e,r=t.alternate,r!==null&&(r.childLanes|=e),r=t,t=t.return;return r.tag===3?r.stateNode:null}var Es=!1;function ZP(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function x9(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Ki(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Ys(t,e,r){var n=t.updateQueue;if(n===null)return null;if(n=n.shared,Ue&2){var i=n.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),n.pending=e,as(t,r)}return i=n.interleaved,i===null?(e.next=e,JP(n)):(e.next=i.next,i.next=e),n.interleaved=e,as(t,r)}function lf(t,e,r){if(e=e.updateQueue,e!==null&&(e=e.shared,(r&4194240)!==0)){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,AP(t,r)}}function AT(t,e){var r=t.updateQueue,n=t.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var i=null,s=null;if(r=r.firstBaseUpdate,r!==null){do{var a={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};s===null?i=s=a:s=s.next=a,r=r.next}while(r!==null);s===null?i=s=e:s=s.next=e}else i=s=e;r={baseState:n.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:n.shared,effects:n.effects},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=e:t.next=e,r.lastBaseUpdate=e}function Lf(t,e,r,n){var i=t.updateQueue;Es=!1;var s=i.firstBaseUpdate,a=i.lastBaseUpdate,o=i.shared.pending;if(o!==null){i.shared.pending=null;var l=o,u=l.next;l.next=null,a===null?s=u:a.next=u,a=l;var d=t.alternate;d!==null&&(d=d.updateQueue,o=d.lastBaseUpdate,o!==a&&(o===null?d.firstBaseUpdate=u:o.next=u,d.lastBaseUpdate=l))}if(s!==null){var h=i.baseState;a=0,d=u=l=null,o=s;do{var f=o.lane,p=o.eventTime;if((n&f)===f){d!==null&&(d=d.next={eventTime:p,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var m=t,y=o;switch(f=e,p=r,y.tag){case 1:if(m=y.payload,typeof m=="function"){h=m.call(p,h,f);break e}h=m;break e;case 3:m.flags=m.flags&-65537|128;case 0:if(m=y.payload,f=typeof m=="function"?m.call(p,h,f):m,f==null)break e;h=wt({},h,f);break e;case 2:Es=!0}}o.callback!==null&&o.lane!==0&&(t.flags|=64,f=i.effects,f===null?i.effects=[o]:f.push(o))}else p={eventTime:p,lane:f,tag:o.tag,payload:o.payload,callback:o.callback,next:null},d===null?(u=d=p,l=h):d=d.next=p,a|=f;if(o=o.next,o===null){if(o=i.shared.pending,o===null)break;f=o,o=f.next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}while(!0);if(d===null&&(l=h),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=d,e=i.shared.interleaved,e!==null){i=e;do a|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);co|=a,t.lanes=a,t.memoizedState=h}}function FT(t,e,r){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var n=t[e],i=n.callback;if(i!==null){if(n.callback=null,n=r,typeof i!="function")throw Error(K(191,i));i.call(n)}}}var Dd={},Pi=ma(Dd),Zc=ma(Dd),ed=ma(Dd);function $a(t){if(t===Dd)throw Error(K(174));return t}function eC(t,e){switch(lt(ed,e),lt(Zc,t),lt(Pi,Dd),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:H2(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=H2(e,t)}dt(Pi),lt(Pi,e)}function eu(){dt(Pi),dt(Zc),dt(ed)}function _9(t){$a(ed.current);var e=$a(Pi.current),r=H2(e,t.type);e!==r&&(lt(Zc,t),lt(Pi,r))}function tC(t){Zc.current===t&&(dt(Pi),dt(Zc))}var gt=ma(0);function Bf(t){for(var e=t;e!==null;){if(e.tag===13){var r=e.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Gm=[];function rC(){for(var t=0;t<Gm.length;t++)Gm[t]._workInProgressVersionPrimary=null;Gm.length=0}var uf=us.ReactCurrentDispatcher,Ym=us.ReactCurrentBatchConfig,uo=0,yt=null,Yt=null,nr=null,zf=!1,Tc=!1,td=0,AX=0;function xr(){throw Error(K(321))}function nC(t,e){if(e===null)return!1;for(var r=0;r<e.length&&r<t.length;r++)if(!si(t[r],e[r]))return!1;return!0}function iC(t,e,r,n,i,s){if(uo=s,yt=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,uf.current=t===null||t.memoizedState===null?zX:UX,t=r(n,i),Tc){s=0;do{if(Tc=!1,td=0,25<=s)throw Error(K(301));s+=1,nr=Yt=null,e.updateQueue=null,uf.current=WX,t=r(n,i)}while(Tc)}if(uf.current=Uf,e=Yt!==null&&Yt.next!==null,uo=0,nr=Yt=yt=null,zf=!1,e)throw Error(K(300));return t}function sC(){var t=td!==0;return td=0,t}function pi(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return nr===null?yt.memoizedState=nr=t:nr=nr.next=t,nr}function Mn(){if(Yt===null){var t=yt.alternate;t=t!==null?t.memoizedState:null}else t=Yt.next;var e=nr===null?yt.memoizedState:nr.next;if(e!==null)nr=e,Yt=t;else{if(t===null)throw Error(K(310));Yt=t,t={memoizedState:Yt.memoizedState,baseState:Yt.baseState,baseQueue:Yt.baseQueue,queue:Yt.queue,next:null},nr===null?yt.memoizedState=nr=t:nr=nr.next=t}return nr}function rd(t,e){return typeof e=="function"?e(t):e}function Qm(t){var e=Mn(),r=e.queue;if(r===null)throw Error(K(311));r.lastRenderedReducer=t;var n=Yt,i=n.baseQueue,s=r.pending;if(s!==null){if(i!==null){var a=i.next;i.next=s.next,s.next=a}n.baseQueue=i=s,r.pending=null}if(i!==null){s=i.next,n=n.baseState;var o=a=null,l=null,u=s;do{var d=u.lane;if((uo&d)===d)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:t(n,u.action);else{var h={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(o=l=h,a=n):l=l.next=h,yt.lanes|=d,co|=d}u=u.next}while(u!==null&&u!==s);l===null?a=n:l.next=o,si(n,e.memoizedState)||(Qr=!0),e.memoizedState=n,e.baseState=a,e.baseQueue=l,r.lastRenderedState=n}if(t=r.interleaved,t!==null){i=t;do s=i.lane,yt.lanes|=s,co|=s,i=i.next;while(i!==t)}else i===null&&(r.lanes=0);return[e.memoizedState,r.dispatch]}function Xm(t){var e=Mn(),r=e.queue;if(r===null)throw Error(K(311));r.lastRenderedReducer=t;var n=r.dispatch,i=r.pending,s=e.memoizedState;if(i!==null){r.pending=null;var a=i=i.next;do s=t(s,a.action),a=a.next;while(a!==i);si(s,e.memoizedState)||(Qr=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),r.lastRenderedState=s}return[s,n]}function S9(){}function E9(t,e){var r=yt,n=Mn(),i=e(),s=!si(n.memoizedState,i);if(s&&(n.memoizedState=i,Qr=!0),n=n.queue,aC(C9.bind(null,r,n,t),[t]),n.getSnapshot!==e||s||nr!==null&&nr.memoizedState.tag&1){if(r.flags|=2048,nd(9,P9.bind(null,r,n,i,e),void 0,null),ir===null)throw Error(K(349));uo&30||O9(r,e,i)}return i}function O9(t,e,r){t.flags|=16384,t={getSnapshot:e,value:r},e=yt.updateQueue,e===null?(e={lastEffect:null,stores:null},yt.updateQueue=e,e.stores=[t]):(r=e.stores,r===null?e.stores=[t]:r.push(t))}function P9(t,e,r,n){e.value=r,e.getSnapshot=n,N9(e)&&T9(t)}function C9(t,e,r){return r(function(){N9(e)&&T9(t)})}function N9(t){var e=t.getSnapshot;t=t.value;try{var r=e();return!si(t,r)}catch{return!0}}function T9(t){var e=as(t,1);e!==null&&ii(e,t,1,-1)}function LT(t){var e=pi();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:rd,lastRenderedState:t},e.queue=t,t=t.dispatch=BX.bind(null,yt,t),[e.memoizedState,t]}function nd(t,e,r,n){return t={tag:t,create:e,destroy:r,deps:n,next:null},e=yt.updateQueue,e===null?(e={lastEffect:null,stores:null},yt.updateQueue=e,e.lastEffect=t.next=t):(r=e.lastEffect,r===null?e.lastEffect=t.next=t:(n=r.next,r.next=t,t.next=n,e.lastEffect=t)),t}function I9(){return Mn().memoizedState}function cf(t,e,r,n){var i=pi();yt.flags|=t,i.memoizedState=nd(1|e,r,void 0,n===void 0?null:n)}function Pp(t,e,r,n){var i=Mn();n=n===void 0?null:n;var s=void 0;if(Yt!==null){var a=Yt.memoizedState;if(s=a.destroy,n!==null&&nC(n,a.deps)){i.memoizedState=nd(e,r,s,n);return}}yt.flags|=t,i.memoizedState=nd(1|e,r,s,n)}function BT(t,e){return cf(8390656,8,t,e)}function aC(t,e){return Pp(2048,8,t,e)}function R9(t,e){return Pp(4,2,t,e)}function j9(t,e){return Pp(4,4,t,e)}function $9(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function k9(t,e,r){return r=r!=null?r.concat([t]):null,Pp(4,4,$9.bind(null,e,t),r)}function oC(){}function D9(t,e){var r=Mn();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&nC(e,n[1])?n[0]:(r.memoizedState=[t,e],t)}function q9(t,e){var r=Mn();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&nC(e,n[1])?n[0]:(t=t(),r.memoizedState=[t,e],t)}function M9(t,e,r){return uo&21?(si(r,e)||(r=zW(),yt.lanes|=r,co|=r,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Qr=!0),t.memoizedState=r)}function FX(t,e){var r=Ke;Ke=r!==0&&4>r?r:4,t(!0);var n=Ym.transition;Ym.transition={};try{t(!1),e()}finally{Ke=r,Ym.transition=n}}function A9(){return Mn().memoizedState}function LX(t,e,r){var n=Xs(t);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},F9(t))L9(e,r);else if(r=w9(t,e,r,n),r!==null){var i=Ar();ii(r,t,n,i),B9(r,e,n)}}function BX(t,e,r){var n=Xs(t),i={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(F9(t))L9(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var a=e.lastRenderedState,o=s(a,r);if(i.hasEagerState=!0,i.eagerState=o,si(o,a)){var l=e.interleaved;l===null?(i.next=i,JP(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}r=w9(t,e,i,n),r!==null&&(i=Ar(),ii(r,t,n,i),B9(r,e,n))}}function F9(t){var e=t.alternate;return t===yt||e!==null&&e===yt}function L9(t,e){Tc=zf=!0;var r=t.pending;r===null?e.next=e:(e.next=r.next,r.next=e),t.pending=e}function B9(t,e,r){if(r&4194240){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,AP(t,r)}}var Uf={readContext:qn,useCallback:xr,useContext:xr,useEffect:xr,useImperativeHandle:xr,useInsertionEffect:xr,useLayoutEffect:xr,useMemo:xr,useReducer:xr,useRef:xr,useState:xr,useDebugValue:xr,useDeferredValue:xr,useTransition:xr,useMutableSource:xr,useSyncExternalStore:xr,useId:xr,unstable_isNewReconciler:!1},zX={readContext:qn,useCallback:function(t,e){return pi().memoizedState=[t,e===void 0?null:e],t},useContext:qn,useEffect:BT,useImperativeHandle:function(t,e,r){return r=r!=null?r.concat([t]):null,cf(4194308,4,$9.bind(null,e,t),r)},useLayoutEffect:function(t,e){return cf(4194308,4,t,e)},useInsertionEffect:function(t,e){return cf(4,2,t,e)},useMemo:function(t,e){var r=pi();return e=e===void 0?null:e,t=t(),r.memoizedState=[t,e],t},useReducer:function(t,e,r){var n=pi();return e=r!==void 0?r(e):e,n.memoizedState=n.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},n.queue=t,t=t.dispatch=LX.bind(null,yt,t),[n.memoizedState,t]},useRef:function(t){var e=pi();return t={current:t},e.memoizedState=t},useState:LT,useDebugValue:oC,useDeferredValue:function(t){return pi().memoizedState=t},useTransition:function(){var t=LT(!1),e=t[0];return t=FX.bind(null,t[1]),pi().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,r){var n=yt,i=pi();if(pt){if(r===void 0)throw Error(K(407));r=r()}else{if(r=e(),ir===null)throw Error(K(349));uo&30||O9(n,e,r)}i.memoizedState=r;var s={value:r,getSnapshot:e};return i.queue=s,BT(C9.bind(null,n,s,t),[t]),n.flags|=2048,nd(9,P9.bind(null,n,s,r,e),void 0,null),r},useId:function(){var t=pi(),e=ir.identifierPrefix;if(pt){var r=Wi,n=Ui;r=(n&~(1<<32-ni(n)-1)).toString(32)+r,e=":"+e+"R"+r,r=td++,0<r&&(e+="H"+r.toString(32)),e+=":"}else r=AX++,e=":"+e+"r"+r.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},UX={readContext:qn,useCallback:D9,useContext:qn,useEffect:aC,useImperativeHandle:k9,useInsertionEffect:R9,useLayoutEffect:j9,useMemo:q9,useReducer:Qm,useRef:I9,useState:function(){return Qm(rd)},useDebugValue:oC,useDeferredValue:function(t){var e=Mn();return M9(e,Yt.memoizedState,t)},useTransition:function(){var t=Qm(rd)[0],e=Mn().memoizedState;return[t,e]},useMutableSource:S9,useSyncExternalStore:E9,useId:A9,unstable_isNewReconciler:!1},WX={readContext:qn,useCallback:D9,useContext:qn,useEffect:aC,useImperativeHandle:k9,useInsertionEffect:R9,useLayoutEffect:j9,useMemo:q9,useReducer:Xm,useRef:I9,useState:function(){return Xm(rd)},useDebugValue:oC,useDeferredValue:function(t){var e=Mn();return Yt===null?e.memoizedState=t:M9(e,Yt.memoizedState,t)},useTransition:function(){var t=Xm(rd)[0],e=Mn().memoizedState;return[t,e]},useMutableSource:S9,useSyncExternalStore:E9,useId:A9,unstable_isNewReconciler:!1};function Kn(t,e){if(t&&t.defaultProps){e=wt({},e),t=t.defaultProps;for(var r in t)e[r]===void 0&&(e[r]=t[r]);return e}return e}function hO(t,e,r,n){e=t.memoizedState,r=r(n,e),r=r==null?e:wt({},e,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var Cp={isMounted:function(t){return(t=t._reactInternals)?Io(t)===t:!1},enqueueSetState:function(t,e,r){t=t._reactInternals;var n=Ar(),i=Xs(t),s=Ki(n,i);s.payload=e,r!=null&&(s.callback=r),e=Ys(t,s,i),e!==null&&(ii(e,t,i,n),lf(e,t,i))},enqueueReplaceState:function(t,e,r){t=t._reactInternals;var n=Ar(),i=Xs(t),s=Ki(n,i);s.tag=1,s.payload=e,r!=null&&(s.callback=r),e=Ys(t,s,i),e!==null&&(ii(e,t,i,n),lf(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var r=Ar(),n=Xs(t),i=Ki(r,n);i.tag=2,e!=null&&(i.callback=e),e=Ys(t,i,n),e!==null&&(ii(e,t,n,r),lf(e,t,n))}};function zT(t,e,r,n,i,s,a){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(n,s,a):e.prototype&&e.prototype.isPureReactComponent?!Yc(r,n)||!Yc(i,s):!0}function z9(t,e,r){var n=!1,i=la,s=e.contextType;return typeof s=="object"&&s!==null?s=qn(s):(i=Jr(e)?oo:Cr.current,n=e.contextTypes,s=(n=n!=null)?Xl(t,i):la),e=new e(r,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Cp,t.stateNode=e,e._reactInternals=t,n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function UT(t,e,r,n){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(r,n),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(r,n),e.state!==t&&Cp.enqueueReplaceState(e,e.state,null)}function fO(t,e,r,n){var i=t.stateNode;i.props=r,i.state=t.memoizedState,i.refs={},ZP(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=qn(s):(s=Jr(e)?oo:Cr.current,i.context=Xl(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(hO(t,e,s,r),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Cp.enqueueReplaceState(i,i.state,null),Lf(t,r,i,n),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function tu(t,e){try{var r="",n=e;do r+=yQ(n),n=n.return;while(n);var i=r}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function Jm(t,e,r){return{value:t,source:null,stack:r??null,digest:e??null}}function pO(t,e){try{console.error(e.value)}catch(r){setTimeout(function(){throw r})}}var HX=typeof WeakMap=="function"?WeakMap:Map;function U9(t,e,r){r=Ki(-1,r),r.tag=3,r.payload={element:null};var n=e.value;return r.callback=function(){Hf||(Hf=!0,EO=n),pO(t,e)},r}function W9(t,e,r){r=Ki(-1,r),r.tag=3;var n=t.type.getDerivedStateFromError;if(typeof n=="function"){var i=e.value;r.payload=function(){return n(i)},r.callback=function(){pO(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(r.callback=function(){pO(t,e),typeof n!="function"&&(Qs===null?Qs=new Set([this]):Qs.add(this));var a=e.stack;this.componentDidCatch(e.value,{componentStack:a!==null?a:""})}),r}function WT(t,e,r){var n=t.pingCache;if(n===null){n=t.pingCache=new HX;var i=new Set;n.set(e,i)}else i=n.get(e),i===void 0&&(i=new Set,n.set(e,i));i.has(r)||(i.add(r),t=sJ.bind(null,t,e,r),e.then(t,t))}function HT(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function VT(t,e,r,n,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(e=Ki(-1,1),e.tag=2,Ys(r,e,1))),r.lanes|=1),t)}var VX=us.ReactCurrentOwner,Qr=!1;function $r(t,e,r,n){e.child=t===null?b9(e,null,r,n):Zl(e,t.child,r,n)}function KT(t,e,r,n,i){r=r.render;var s=e.ref;return Tl(e,i),n=iC(t,e,r,n,s,i),r=sC(),t!==null&&!Qr?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,os(t,e,i)):(pt&&r&&VP(e),e.flags|=1,$r(t,e,n,i),e.child)}function GT(t,e,r,n,i){if(t===null){var s=r.type;return typeof s=="function"&&!mC(s)&&s.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(e.tag=15,e.type=s,H9(t,e,s,n,i)):(t=pf(r.type,null,n,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var a=s.memoizedProps;if(r=r.compare,r=r!==null?r:Yc,r(a,n)&&t.ref===e.ref)return os(t,e,i)}return e.flags|=1,t=Js(s,n),t.ref=e.ref,t.return=e,e.child=t}function H9(t,e,r,n,i){if(t!==null){var s=t.memoizedProps;if(Yc(s,n)&&t.ref===e.ref)if(Qr=!1,e.pendingProps=n=s,(t.lanes&i)!==0)t.flags&131072&&(Qr=!0);else return e.lanes=t.lanes,os(t,e,i)}return mO(t,e,r,n,i)}function V9(t,e,r){var n=e.pendingProps,i=n.children,s=t!==null?t.memoizedState:null;if(n.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},lt(yl,dn),dn|=r;else{if(!(r&1073741824))return t=s!==null?s.baseLanes|r:r,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,lt(yl,dn),dn|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=s!==null?s.baseLanes:r,lt(yl,dn),dn|=n}else s!==null?(n=s.baseLanes|r,e.memoizedState=null):n=r,lt(yl,dn),dn|=n;return $r(t,e,i,r),e.child}function K9(t,e){var r=e.ref;(t===null&&r!==null||t!==null&&t.ref!==r)&&(e.flags|=512,e.flags|=2097152)}function mO(t,e,r,n,i){var s=Jr(r)?oo:Cr.current;return s=Xl(e,s),Tl(e,i),r=iC(t,e,r,n,s,i),n=sC(),t!==null&&!Qr?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,os(t,e,i)):(pt&&n&&VP(e),e.flags|=1,$r(t,e,r,i),e.child)}function YT(t,e,r,n,i){if(Jr(r)){var s=!0;Df(e)}else s=!1;if(Tl(e,i),e.stateNode===null)df(t,e),z9(e,r,n),fO(e,r,n,i),n=!0;else if(t===null){var a=e.stateNode,o=e.memoizedProps;a.props=o;var l=a.context,u=r.contextType;typeof u=="object"&&u!==null?u=qn(u):(u=Jr(r)?oo:Cr.current,u=Xl(e,u));var d=r.getDerivedStateFromProps,h=typeof d=="function"||typeof a.getSnapshotBeforeUpdate=="function";h||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o!==n||l!==u)&&UT(e,a,n,u),Es=!1;var f=e.memoizedState;a.state=f,Lf(e,n,a,i),l=e.memoizedState,o!==n||f!==l||Xr.current||Es?(typeof d=="function"&&(hO(e,r,d,n),l=e.memoizedState),(o=Es||zT(e,r,o,n,f,l,u))?(h||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(e.flags|=4194308)):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=n,e.memoizedState=l),a.props=n,a.state=l,a.context=u,n=o):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),n=!1)}else{a=e.stateNode,x9(t,e),o=e.memoizedProps,u=e.type===e.elementType?o:Kn(e.type,o),a.props=u,h=e.pendingProps,f=a.context,l=r.contextType,typeof l=="object"&&l!==null?l=qn(l):(l=Jr(r)?oo:Cr.current,l=Xl(e,l));var p=r.getDerivedStateFromProps;(d=typeof p=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o!==h||f!==l)&&UT(e,a,n,l),Es=!1,f=e.memoizedState,a.state=f,Lf(e,n,a,i);var m=e.memoizedState;o!==h||f!==m||Xr.current||Es?(typeof p=="function"&&(hO(e,r,p,n),m=e.memoizedState),(u=Es||zT(e,r,u,n,f,m,l)||!1)?(d||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(n,m,l),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(n,m,l)),typeof a.componentDidUpdate=="function"&&(e.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof a.componentDidUpdate!="function"||o===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||o===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=n,e.memoizedState=m),a.props=n,a.state=m,a.context=l,n=u):(typeof a.componentDidUpdate!="function"||o===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||o===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),n=!1)}return vO(t,e,r,n,s,i)}function vO(t,e,r,n,i,s){K9(t,e);var a=(e.flags&128)!==0;if(!n&&!a)return i&&kT(e,r,!1),os(t,e,s);n=e.stateNode,VX.current=e;var o=a&&typeof r.getDerivedStateFromError!="function"?null:n.render();return e.flags|=1,t!==null&&a?(e.child=Zl(e,t.child,null,s),e.child=Zl(e,null,o,s)):$r(t,e,o,s),e.memoizedState=n.state,i&&kT(e,r,!0),e.child}function G9(t){var e=t.stateNode;e.pendingContext?$T(t,e.pendingContext,e.pendingContext!==e.context):e.context&&$T(t,e.context,!1),eC(t,e.containerInfo)}function QT(t,e,r,n,i){return Jl(),GP(i),e.flags|=256,$r(t,e,r,n),e.child}var gO={dehydrated:null,treeContext:null,retryLane:0};function yO(t){return{baseLanes:t,cachePool:null,transitions:null}}function Y9(t,e,r){var n=e.pendingProps,i=gt.current,s=!1,a=(e.flags&128)!==0,o;if((o=a)||(o=t!==null&&t.memoizedState===null?!1:(i&2)!==0),o?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),lt(gt,i&1),t===null)return cO(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(a=n.children,t=n.fallback,s?(n=e.mode,s=e.child,a={mode:"hidden",children:a},!(n&1)&&s!==null?(s.childLanes=0,s.pendingProps=a):s=Ip(a,n,0,null),t=Ja(t,n,r,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=yO(r),e.memoizedState=gO,t):lC(e,a));if(i=t.memoizedState,i!==null&&(o=i.dehydrated,o!==null))return KX(t,e,a,n,o,i,r);if(s){s=n.fallback,a=e.mode,i=t.child,o=i.sibling;var l={mode:"hidden",children:n.children};return!(a&1)&&e.child!==i?(n=e.child,n.childLanes=0,n.pendingProps=l,e.deletions=null):(n=Js(i,l),n.subtreeFlags=i.subtreeFlags&14680064),o!==null?s=Js(o,s):(s=Ja(s,a,r,null),s.flags|=2),s.return=e,n.return=e,n.sibling=s,e.child=n,n=s,s=e.child,a=t.child.memoizedState,a=a===null?yO(r):{baseLanes:a.baseLanes|r,cachePool:null,transitions:a.transitions},s.memoizedState=a,s.childLanes=t.childLanes&~r,e.memoizedState=gO,n}return s=t.child,t=s.sibling,n=Js(s,{mode:"visible",children:n.children}),!(e.mode&1)&&(n.lanes=r),n.return=e,n.sibling=null,t!==null&&(r=e.deletions,r===null?(e.deletions=[t],e.flags|=16):r.push(t)),e.child=n,e.memoizedState=null,n}function lC(t,e){return e=Ip({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Lh(t,e,r,n){return n!==null&&GP(n),Zl(e,t.child,null,r),t=lC(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function KX(t,e,r,n,i,s,a){if(r)return e.flags&256?(e.flags&=-257,n=Jm(Error(K(422))),Lh(t,e,a,n)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=n.fallback,i=e.mode,n=Ip({mode:"visible",children:n.children},i,0,null),s=Ja(s,i,a,null),s.flags|=2,n.return=e,s.return=e,n.sibling=s,e.child=n,e.mode&1&&Zl(e,t.child,null,a),e.child.memoizedState=yO(a),e.memoizedState=gO,s);if(!(e.mode&1))return Lh(t,e,a,null);if(i.data==="$!"){if(n=i.nextSibling&&i.nextSibling.dataset,n)var o=n.dgst;return n=o,s=Error(K(419)),n=Jm(s,n,void 0),Lh(t,e,a,n)}if(o=(a&t.childLanes)!==0,Qr||o){if(n=ir,n!==null){switch(a&-a){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(n.suspendedLanes|a)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,as(t,i),ii(n,t,i,-1))}return pC(),n=Jm(Error(K(421))),Lh(t,e,a,n)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=aJ.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,pn=Gs(i.nextSibling),mn=e,pt=!0,Xn=null,t!==null&&(Tn[In++]=Ui,Tn[In++]=Wi,Tn[In++]=lo,Ui=t.id,Wi=t.overflow,lo=e),e=lC(e,n.children),e.flags|=4096,e)}function XT(t,e,r){t.lanes|=e;var n=t.alternate;n!==null&&(n.lanes|=e),dO(t.return,e,r)}function Zm(t,e,r,n,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=n,s.tail=r,s.tailMode=i)}function Q9(t,e,r){var n=e.pendingProps,i=n.revealOrder,s=n.tail;if($r(t,e,n.children,r),n=gt.current,n&2)n=n&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&XT(t,r,e);else if(t.tag===19)XT(t,r,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}n&=1}if(lt(gt,n),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(r=e.child,i=null;r!==null;)t=r.alternate,t!==null&&Bf(t)===null&&(i=r),r=r.sibling;r=i,r===null?(i=e.child,e.child=null):(i=r.sibling,r.sibling=null),Zm(e,!1,i,r,s);break;case"backwards":for(r=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Bf(t)===null){e.child=i;break}t=i.sibling,i.sibling=r,r=i,i=t}Zm(e,!0,r,null,s);break;case"together":Zm(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function df(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function os(t,e,r){if(t!==null&&(e.dependencies=t.dependencies),co|=e.lanes,!(r&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(K(153));if(e.child!==null){for(t=e.child,r=Js(t,t.pendingProps),e.child=r,r.return=e;t.sibling!==null;)t=t.sibling,r=r.sibling=Js(t,t.pendingProps),r.return=e;r.sibling=null}return e.child}function GX(t,e,r){switch(e.tag){case 3:G9(e),Jl();break;case 5:_9(e);break;case 1:Jr(e.type)&&Df(e);break;case 4:eC(e,e.stateNode.containerInfo);break;case 10:var n=e.type._context,i=e.memoizedProps.value;lt(Af,n._currentValue),n._currentValue=i;break;case 13:if(n=e.memoizedState,n!==null)return n.dehydrated!==null?(lt(gt,gt.current&1),e.flags|=128,null):r&e.child.childLanes?Y9(t,e,r):(lt(gt,gt.current&1),t=os(t,e,r),t!==null?t.sibling:null);lt(gt,gt.current&1);break;case 19:if(n=(r&e.childLanes)!==0,t.flags&128){if(n)return Q9(t,e,r);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),lt(gt,gt.current),n)break;return null;case 22:case 23:return e.lanes=0,V9(t,e,r)}return os(t,e,r)}var X9,bO,J9,Z9;X9=function(t,e){for(var r=e.child;r!==null;){if(r.tag===5||r.tag===6)t.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};bO=function(){};J9=function(t,e,r,n){var i=t.memoizedProps;if(i!==n){t=e.stateNode,$a(Pi.current);var s=null;switch(r){case"input":i=B2(t,i),n=B2(t,n),s=[];break;case"select":i=wt({},i,{value:void 0}),n=wt({},n,{value:void 0}),s=[];break;case"textarea":i=W2(t,i),n=W2(t,n),s=[];break;default:typeof i.onClick!="function"&&typeof n.onClick=="function"&&(t.onclick=$f)}V2(r,n);var a;r=null;for(u in i)if(!n.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var o=i[u];for(a in o)o.hasOwnProperty(a)&&(r||(r={}),r[a]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(zc.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in n){var l=n[u];if(o=i!=null?i[u]:void 0,n.hasOwnProperty(u)&&l!==o&&(l!=null||o!=null))if(u==="style")if(o){for(a in o)!o.hasOwnProperty(a)||l&&l.hasOwnProperty(a)||(r||(r={}),r[a]="");for(a in l)l.hasOwnProperty(a)&&o[a]!==l[a]&&(r||(r={}),r[a]=l[a])}else r||(s||(s=[]),s.push(u,r)),r=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,o=o?o.__html:void 0,l!=null&&o!==l&&(s=s||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(zc.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&ct("scroll",t),s||o===l||(s=[])):(s=s||[]).push(u,l))}r&&(s=s||[]).push("style",r);var u=s;(e.updateQueue=u)&&(e.flags|=4)}};Z9=function(t,e,r,n){r!==n&&(e.flags|=4)};function oc(t,e){if(!pt)switch(t.tailMode){case"hidden":e=t.tail;for(var r=null;e!==null;)e.alternate!==null&&(r=e),e=e.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:n.sibling=null}}function _r(t){var e=t.alternate!==null&&t.alternate.child===t.child,r=0,n=0;if(e)for(var i=t.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags&14680064,n|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags,n|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=n,t.childLanes=r,e}function YX(t,e,r){var n=e.pendingProps;switch(KP(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return _r(e),null;case 1:return Jr(e.type)&&kf(),_r(e),null;case 3:return n=e.stateNode,eu(),dt(Xr),dt(Cr),rC(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(Ah(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Xn!==null&&(CO(Xn),Xn=null))),bO(t,e),_r(e),null;case 5:tC(e);var i=$a(ed.current);if(r=e.type,t!==null&&e.stateNode!=null)J9(t,e,r,n,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!n){if(e.stateNode===null)throw Error(K(166));return _r(e),null}if(t=$a(Pi.current),Ah(e)){n=e.stateNode,r=e.type;var s=e.memoizedProps;switch(n[wi]=e,n[Jc]=s,t=(e.mode&1)!==0,r){case"dialog":ct("cancel",n),ct("close",n);break;case"iframe":case"object":case"embed":ct("load",n);break;case"video":case"audio":for(i=0;i<wc.length;i++)ct(wc[i],n);break;case"source":ct("error",n);break;case"img":case"image":case"link":ct("error",n),ct("load",n);break;case"details":ct("toggle",n);break;case"input":aT(n,s),ct("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!s.multiple},ct("invalid",n);break;case"textarea":lT(n,s),ct("invalid",n)}V2(r,s),i=null;for(var a in s)if(s.hasOwnProperty(a)){var o=s[a];a==="children"?typeof o=="string"?n.textContent!==o&&(s.suppressHydrationWarning!==!0&&Mh(n.textContent,o,t),i=["children",o]):typeof o=="number"&&n.textContent!==""+o&&(s.suppressHydrationWarning!==!0&&Mh(n.textContent,o,t),i=["children",""+o]):zc.hasOwnProperty(a)&&o!=null&&a==="onScroll"&&ct("scroll",n)}switch(r){case"input":Th(n),oT(n,s,!0);break;case"textarea":Th(n),uT(n);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(n.onclick=$f)}n=i,e.updateQueue=n,n!==null&&(e.flags|=4)}else{a=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=CW(r)),t==="http://www.w3.org/1999/xhtml"?r==="script"?(t=a.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof n.is=="string"?t=a.createElement(r,{is:n.is}):(t=a.createElement(r),r==="select"&&(a=t,n.multiple?a.multiple=!0:n.size&&(a.size=n.size))):t=a.createElementNS(t,r),t[wi]=e,t[Jc]=n,X9(t,e,!1,!1),e.stateNode=t;e:{switch(a=K2(r,n),r){case"dialog":ct("cancel",t),ct("close",t),i=n;break;case"iframe":case"object":case"embed":ct("load",t),i=n;break;case"video":case"audio":for(i=0;i<wc.length;i++)ct(wc[i],t);i=n;break;case"source":ct("error",t),i=n;break;case"img":case"image":case"link":ct("error",t),ct("load",t),i=n;break;case"details":ct("toggle",t),i=n;break;case"input":aT(t,n),i=B2(t,n),ct("invalid",t);break;case"option":i=n;break;case"select":t._wrapperState={wasMultiple:!!n.multiple},i=wt({},n,{value:void 0}),ct("invalid",t);break;case"textarea":lT(t,n),i=W2(t,n),ct("invalid",t);break;default:i=n}V2(r,i),o=i;for(s in o)if(o.hasOwnProperty(s)){var l=o[s];s==="style"?IW(t,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&NW(t,l)):s==="children"?typeof l=="string"?(r!=="textarea"||l!=="")&&Uc(t,l):typeof l=="number"&&Uc(t,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(zc.hasOwnProperty(s)?l!=null&&s==="onScroll"&&ct("scroll",t):l!=null&&jP(t,s,l,a))}switch(r){case"input":Th(t),oT(t,n,!1);break;case"textarea":Th(t),uT(t);break;case"option":n.value!=null&&t.setAttribute("value",""+oa(n.value));break;case"select":t.multiple=!!n.multiple,s=n.value,s!=null?Ol(t,!!n.multiple,s,!1):n.defaultValue!=null&&Ol(t,!!n.multiple,n.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=$f)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return _r(e),null;case 6:if(t&&e.stateNode!=null)Z9(t,e,t.memoizedProps,n);else{if(typeof n!="string"&&e.stateNode===null)throw Error(K(166));if(r=$a(ed.current),$a(Pi.current),Ah(e)){if(n=e.stateNode,r=e.memoizedProps,n[wi]=e,(s=n.nodeValue!==r)&&(t=mn,t!==null))switch(t.tag){case 3:Mh(n.nodeValue,r,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Mh(n.nodeValue,r,(t.mode&1)!==0)}s&&(e.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[wi]=e,e.stateNode=n}return _r(e),null;case 13:if(dt(gt),n=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(pt&&pn!==null&&e.mode&1&&!(e.flags&128))g9(),Jl(),e.flags|=98560,s=!1;else if(s=Ah(e),n!==null&&n.dehydrated!==null){if(t===null){if(!s)throw Error(K(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(K(317));s[wi]=e}else Jl(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;_r(e),s=!1}else Xn!==null&&(CO(Xn),Xn=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=r,e):(n=n!==null,n!==(t!==null&&t.memoizedState!==null)&&n&&(e.child.flags|=8192,e.mode&1&&(t===null||gt.current&1?Xt===0&&(Xt=3):pC())),e.updateQueue!==null&&(e.flags|=4),_r(e),null);case 4:return eu(),bO(t,e),t===null&&Qc(e.stateNode.containerInfo),_r(e),null;case 10:return XP(e.type._context),_r(e),null;case 17:return Jr(e.type)&&kf(),_r(e),null;case 19:if(dt(gt),s=e.memoizedState,s===null)return _r(e),null;if(n=(e.flags&128)!==0,a=s.rendering,a===null)if(n)oc(s,!1);else{if(Xt!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(a=Bf(t),a!==null){for(e.flags|=128,oc(s,!1),n=a.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),e.subtreeFlags=0,n=r,r=e.child;r!==null;)s=r,t=n,s.flags&=14680066,a=s.alternate,a===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=a.childLanes,s.lanes=a.lanes,s.child=a.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=a.memoizedProps,s.memoizedState=a.memoizedState,s.updateQueue=a.updateQueue,s.type=a.type,t=a.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),r=r.sibling;return lt(gt,gt.current&1|2),e.child}t=t.sibling}s.tail!==null&&jt()>ru&&(e.flags|=128,n=!0,oc(s,!1),e.lanes=4194304)}else{if(!n)if(t=Bf(a),t!==null){if(e.flags|=128,n=!0,r=t.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),oc(s,!0),s.tail===null&&s.tailMode==="hidden"&&!a.alternate&&!pt)return _r(e),null}else 2*jt()-s.renderingStartTime>ru&&r!==1073741824&&(e.flags|=128,n=!0,oc(s,!1),e.lanes=4194304);s.isBackwards?(a.sibling=e.child,e.child=a):(r=s.last,r!==null?r.sibling=a:e.child=a,s.last=a)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=jt(),e.sibling=null,r=gt.current,lt(gt,n?r&1|2:r&1),e):(_r(e),null);case 22:case 23:return fC(),n=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==n&&(e.flags|=8192),n&&e.mode&1?dn&1073741824&&(_r(e),e.subtreeFlags&6&&(e.flags|=8192)):_r(e),null;case 24:return null;case 25:return null}throw Error(K(156,e.tag))}function QX(t,e){switch(KP(e),e.tag){case 1:return Jr(e.type)&&kf(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return eu(),dt(Xr),dt(Cr),rC(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return tC(e),null;case 13:if(dt(gt),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(K(340));Jl()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return dt(gt),null;case 4:return eu(),null;case 10:return XP(e.type._context),null;case 22:case 23:return fC(),null;case 24:return null;default:return null}}var Bh=!1,Er=!1,XX=typeof WeakSet=="function"?WeakSet:Set,ue=null;function gl(t,e){var r=t.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){Ot(t,e,n)}else r.current=null}function wO(t,e,r){try{r()}catch(n){Ot(t,e,n)}}var JT=!1;function JX(t,e){if(nO=If,t=i9(),HP(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var i=n.anchorOffset,s=n.focusNode;n=n.focusOffset;try{r.nodeType,s.nodeType}catch{r=null;break e}var a=0,o=-1,l=-1,u=0,d=0,h=t,f=null;t:for(;;){for(var p;h!==r||i!==0&&h.nodeType!==3||(o=a+i),h!==s||n!==0&&h.nodeType!==3||(l=a+n),h.nodeType===3&&(a+=h.nodeValue.length),(p=h.firstChild)!==null;)f=h,h=p;for(;;){if(h===t)break t;if(f===r&&++u===i&&(o=a),f===s&&++d===n&&(l=a),(p=h.nextSibling)!==null)break;h=f,f=h.parentNode}h=p}r=o===-1||l===-1?null:{start:o,end:l}}else r=null}r=r||{start:0,end:0}}else r=null;for(iO={focusedElem:t,selectionRange:r},If=!1,ue=e;ue!==null;)if(e=ue,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,ue=t;else for(;ue!==null;){e=ue;try{var m=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(m!==null){var y=m.memoizedProps,b=m.memoizedState,g=e.stateNode,v=g.getSnapshotBeforeUpdate(e.elementType===e.type?y:Kn(e.type,y),b);g.__reactInternalSnapshotBeforeUpdate=v}break;case 3:var x=e.stateNode.containerInfo;x.nodeType===1?x.textContent="":x.nodeType===9&&x.documentElement&&x.removeChild(x.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(K(163))}}catch(w){Ot(e,e.return,w)}if(t=e.sibling,t!==null){t.return=e.return,ue=t;break}ue=e.return}return m=JT,JT=!1,m}function Ic(t,e,r){var n=e.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var i=n=n.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&wO(e,r,s)}i=i.next}while(i!==n)}}function Np(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var r=e=e.next;do{if((r.tag&t)===t){var n=r.create;r.destroy=n()}r=r.next}while(r!==e)}}function xO(t){var e=t.ref;if(e!==null){var r=t.stateNode;switch(t.tag){case 5:t=r;break;default:t=r}typeof e=="function"?e(t):e.current=t}}function eH(t){var e=t.alternate;e!==null&&(t.alternate=null,eH(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[wi],delete e[Jc],delete e[oO],delete e[kX],delete e[DX])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function tH(t){return t.tag===5||t.tag===3||t.tag===4}function ZT(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||tH(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function _O(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.nodeType===8?r.parentNode.insertBefore(t,e):r.insertBefore(t,e):(r.nodeType===8?(e=r.parentNode,e.insertBefore(t,r)):(e=r,e.appendChild(t)),r=r._reactRootContainer,r!=null||e.onclick!==null||(e.onclick=$f));else if(n!==4&&(t=t.child,t!==null))for(_O(t,e,r),t=t.sibling;t!==null;)_O(t,e,r),t=t.sibling}function SO(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.insertBefore(t,e):r.appendChild(t);else if(n!==4&&(t=t.child,t!==null))for(SO(t,e,r),t=t.sibling;t!==null;)SO(t,e,r),t=t.sibling}var pr=null,Qn=!1;function ws(t,e,r){for(r=r.child;r!==null;)rH(t,e,r),r=r.sibling}function rH(t,e,r){if(Oi&&typeof Oi.onCommitFiberUnmount=="function")try{Oi.onCommitFiberUnmount(wp,r)}catch{}switch(r.tag){case 5:Er||gl(r,e);case 6:var n=pr,i=Qn;pr=null,ws(t,e,r),pr=n,Qn=i,pr!==null&&(Qn?(t=pr,r=r.stateNode,t.nodeType===8?t.parentNode.removeChild(r):t.removeChild(r)):pr.removeChild(r.stateNode));break;case 18:pr!==null&&(Qn?(t=pr,r=r.stateNode,t.nodeType===8?Vm(t.parentNode,r):t.nodeType===1&&Vm(t,r),Kc(t)):Vm(pr,r.stateNode));break;case 4:n=pr,i=Qn,pr=r.stateNode.containerInfo,Qn=!0,ws(t,e,r),pr=n,Qn=i;break;case 0:case 11:case 14:case 15:if(!Er&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){i=n=n.next;do{var s=i,a=s.destroy;s=s.tag,a!==void 0&&(s&2||s&4)&&wO(r,e,a),i=i.next}while(i!==n)}ws(t,e,r);break;case 1:if(!Er&&(gl(r,e),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(o){Ot(r,e,o)}ws(t,e,r);break;case 21:ws(t,e,r);break;case 22:r.mode&1?(Er=(n=Er)||r.memoizedState!==null,ws(t,e,r),Er=n):ws(t,e,r);break;default:ws(t,e,r)}}function eI(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var r=t.stateNode;r===null&&(r=t.stateNode=new XX),e.forEach(function(n){var i=oJ.bind(null,t,n);r.has(n)||(r.add(n),n.then(i,i))})}}function Hn(t,e){var r=e.deletions;if(r!==null)for(var n=0;n<r.length;n++){var i=r[n];try{var s=t,a=e,o=a;e:for(;o!==null;){switch(o.tag){case 5:pr=o.stateNode,Qn=!1;break e;case 3:pr=o.stateNode.containerInfo,Qn=!0;break e;case 4:pr=o.stateNode.containerInfo,Qn=!0;break e}o=o.return}if(pr===null)throw Error(K(160));rH(s,a,i),pr=null,Qn=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){Ot(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)nH(e,t),e=e.sibling}function nH(t,e){var r=t.alternate,n=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Hn(e,t),hi(t),n&4){try{Ic(3,t,t.return),Np(3,t)}catch(y){Ot(t,t.return,y)}try{Ic(5,t,t.return)}catch(y){Ot(t,t.return,y)}}break;case 1:Hn(e,t),hi(t),n&512&&r!==null&&gl(r,r.return);break;case 5:if(Hn(e,t),hi(t),n&512&&r!==null&&gl(r,r.return),t.flags&32){var i=t.stateNode;try{Uc(i,"")}catch(y){Ot(t,t.return,y)}}if(n&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,a=r!==null?r.memoizedProps:s,o=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{o==="input"&&s.type==="radio"&&s.name!=null&&OW(i,s),K2(o,a);var u=K2(o,s);for(a=0;a<l.length;a+=2){var d=l[a],h=l[a+1];d==="style"?IW(i,h):d==="dangerouslySetInnerHTML"?NW(i,h):d==="children"?Uc(i,h):jP(i,d,h,u)}switch(o){case"input":z2(i,s);break;case"textarea":PW(i,s);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var p=s.value;p!=null?Ol(i,!!s.multiple,p,!1):f!==!!s.multiple&&(s.defaultValue!=null?Ol(i,!!s.multiple,s.defaultValue,!0):Ol(i,!!s.multiple,s.multiple?[]:"",!1))}i[Jc]=s}catch(y){Ot(t,t.return,y)}}break;case 6:if(Hn(e,t),hi(t),n&4){if(t.stateNode===null)throw Error(K(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(y){Ot(t,t.return,y)}}break;case 3:if(Hn(e,t),hi(t),n&4&&r!==null&&r.memoizedState.isDehydrated)try{Kc(e.containerInfo)}catch(y){Ot(t,t.return,y)}break;case 4:Hn(e,t),hi(t);break;case 13:Hn(e,t),hi(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(dC=jt())),n&4&&eI(t);break;case 22:if(d=r!==null&&r.memoizedState!==null,t.mode&1?(Er=(u=Er)||d,Hn(e,t),Er=u):Hn(e,t),hi(t),n&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!d&&t.mode&1)for(ue=t,d=t.child;d!==null;){for(h=ue=d;ue!==null;){switch(f=ue,p=f.child,f.tag){case 0:case 11:case 14:case 15:Ic(4,f,f.return);break;case 1:gl(f,f.return);var m=f.stateNode;if(typeof m.componentWillUnmount=="function"){n=f,r=f.return;try{e=n,m.props=e.memoizedProps,m.state=e.memoizedState,m.componentWillUnmount()}catch(y){Ot(n,r,y)}}break;case 5:gl(f,f.return);break;case 22:if(f.memoizedState!==null){rI(h);continue}}p!==null?(p.return=f,ue=p):rI(h)}d=d.sibling}e:for(d=null,h=t;;){if(h.tag===5){if(d===null){d=h;try{i=h.stateNode,u?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(o=h.stateNode,l=h.memoizedProps.style,a=l!=null&&l.hasOwnProperty("display")?l.display:null,o.style.display=TW("display",a))}catch(y){Ot(t,t.return,y)}}}else if(h.tag===6){if(d===null)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(y){Ot(t,t.return,y)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:Hn(e,t),hi(t),n&4&&eI(t);break;case 21:break;default:Hn(e,t),hi(t)}}function hi(t){var e=t.flags;if(e&2){try{e:{for(var r=t.return;r!==null;){if(tH(r)){var n=r;break e}r=r.return}throw Error(K(160))}switch(n.tag){case 5:var i=n.stateNode;n.flags&32&&(Uc(i,""),n.flags&=-33);var s=ZT(t);SO(t,s,i);break;case 3:case 4:var a=n.stateNode.containerInfo,o=ZT(t);_O(t,o,a);break;default:throw Error(K(161))}}catch(l){Ot(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function ZX(t,e,r){ue=t,iH(t)}function iH(t,e,r){for(var n=(t.mode&1)!==0;ue!==null;){var i=ue,s=i.child;if(i.tag===22&&n){var a=i.memoizedState!==null||Bh;if(!a){var o=i.alternate,l=o!==null&&o.memoizedState!==null||Er;o=Bh;var u=Er;if(Bh=a,(Er=l)&&!u)for(ue=i;ue!==null;)a=ue,l=a.child,a.tag===22&&a.memoizedState!==null?nI(i):l!==null?(l.return=a,ue=l):nI(i);for(;s!==null;)ue=s,iH(s),s=s.sibling;ue=i,Bh=o,Er=u}tI(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,ue=s):tI(t)}}function tI(t){for(;ue!==null;){var e=ue;if(e.flags&8772){var r=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Er||Np(5,e);break;case 1:var n=e.stateNode;if(e.flags&4&&!Er)if(r===null)n.componentDidMount();else{var i=e.elementType===e.type?r.memoizedProps:Kn(e.type,r.memoizedProps);n.componentDidUpdate(i,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&FT(e,s,n);break;case 3:var a=e.updateQueue;if(a!==null){if(r=null,e.child!==null)switch(e.child.tag){case 5:r=e.child.stateNode;break;case 1:r=e.child.stateNode}FT(e,a,r)}break;case 5:var o=e.stateNode;if(r===null&&e.flags&4){r=o;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&r.focus();break;case"img":l.src&&(r.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var h=d.dehydrated;h!==null&&Kc(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(K(163))}Er||e.flags&512&&xO(e)}catch(f){Ot(e,e.return,f)}}if(e===t){ue=null;break}if(r=e.sibling,r!==null){r.return=e.return,ue=r;break}ue=e.return}}function rI(t){for(;ue!==null;){var e=ue;if(e===t){ue=null;break}var r=e.sibling;if(r!==null){r.return=e.return,ue=r;break}ue=e.return}}function nI(t){for(;ue!==null;){var e=ue;try{switch(e.tag){case 0:case 11:case 15:var r=e.return;try{Np(4,e)}catch(l){Ot(e,r,l)}break;case 1:var n=e.stateNode;if(typeof n.componentDidMount=="function"){var i=e.return;try{n.componentDidMount()}catch(l){Ot(e,i,l)}}var s=e.return;try{xO(e)}catch(l){Ot(e,s,l)}break;case 5:var a=e.return;try{xO(e)}catch(l){Ot(e,a,l)}}}catch(l){Ot(e,e.return,l)}if(e===t){ue=null;break}var o=e.sibling;if(o!==null){o.return=e.return,ue=o;break}ue=e.return}}var eJ=Math.ceil,Wf=us.ReactCurrentDispatcher,uC=us.ReactCurrentOwner,$n=us.ReactCurrentBatchConfig,Ue=0,ir=null,Mt=null,mr=0,dn=0,yl=ma(0),Xt=0,id=null,co=0,Tp=0,cC=0,Rc=null,Gr=null,dC=0,ru=1/0,Mi=null,Hf=!1,EO=null,Qs=null,zh=!1,zs=null,Vf=0,jc=0,OO=null,hf=-1,ff=0;function Ar(){return Ue&6?jt():hf!==-1?hf:hf=jt()}function Xs(t){return t.mode&1?Ue&2&&mr!==0?mr&-mr:MX.transition!==null?(ff===0&&(ff=zW()),ff):(t=Ke,t!==0||(t=window.event,t=t===void 0?16:YW(t.type)),t):1}function ii(t,e,r,n){if(50<jc)throw jc=0,OO=null,Error(K(185));jd(t,r,n),(!(Ue&2)||t!==ir)&&(t===ir&&(!(Ue&2)&&(Tp|=r),Xt===4&&Ts(t,mr)),Zr(t,n),r===1&&Ue===0&&!(e.mode&1)&&(ru=jt()+500,Op&&va()))}function Zr(t,e){var r=t.callbackNode;MQ(t,e);var n=Tf(t,t===ir?mr:0);if(n===0)r!==null&&hT(r),t.callbackNode=null,t.callbackPriority=0;else if(e=n&-n,t.callbackPriority!==e){if(r!=null&&hT(r),e===1)t.tag===0?qX(iI.bind(null,t)):p9(iI.bind(null,t)),jX(function(){!(Ue&6)&&va()}),r=null;else{switch(UW(n)){case 1:r=MP;break;case 4:r=LW;break;case 16:r=Nf;break;case 536870912:r=BW;break;default:r=Nf}r=hH(r,sH.bind(null,t))}t.callbackPriority=e,t.callbackNode=r}}function sH(t,e){if(hf=-1,ff=0,Ue&6)throw Error(K(327));var r=t.callbackNode;if(Il()&&t.callbackNode!==r)return null;var n=Tf(t,t===ir?mr:0);if(n===0)return null;if(n&30||n&t.expiredLanes||e)e=Kf(t,n);else{e=n;var i=Ue;Ue|=2;var s=oH();(ir!==t||mr!==e)&&(Mi=null,ru=jt()+500,Xa(t,e));do try{nJ();break}catch(o){aH(t,o)}while(!0);QP(),Wf.current=s,Ue=i,Mt!==null?e=0:(ir=null,mr=0,e=Xt)}if(e!==0){if(e===2&&(i=J2(t),i!==0&&(n=i,e=PO(t,i))),e===1)throw r=id,Xa(t,0),Ts(t,n),Zr(t,jt()),r;if(e===6)Ts(t,n);else{if(i=t.current.alternate,!(n&30)&&!tJ(i)&&(e=Kf(t,n),e===2&&(s=J2(t),s!==0&&(n=s,e=PO(t,s))),e===1))throw r=id,Xa(t,0),Ts(t,n),Zr(t,jt()),r;switch(t.finishedWork=i,t.finishedLanes=n,e){case 0:case 1:throw Error(K(345));case 2:Ta(t,Gr,Mi);break;case 3:if(Ts(t,n),(n&130023424)===n&&(e=dC+500-jt(),10<e)){if(Tf(t,0)!==0)break;if(i=t.suspendedLanes,(i&n)!==n){Ar(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=aO(Ta.bind(null,t,Gr,Mi),e);break}Ta(t,Gr,Mi);break;case 4:if(Ts(t,n),(n&4194240)===n)break;for(e=t.eventTimes,i=-1;0<n;){var a=31-ni(n);s=1<<a,a=e[a],a>i&&(i=a),n&=~s}if(n=i,n=jt()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*eJ(n/1960))-n,10<n){t.timeoutHandle=aO(Ta.bind(null,t,Gr,Mi),n);break}Ta(t,Gr,Mi);break;case 5:Ta(t,Gr,Mi);break;default:throw Error(K(329))}}}return Zr(t,jt()),t.callbackNode===r?sH.bind(null,t):null}function PO(t,e){var r=Rc;return t.current.memoizedState.isDehydrated&&(Xa(t,e).flags|=256),t=Kf(t,e),t!==2&&(e=Gr,Gr=r,e!==null&&CO(e)),t}function CO(t){Gr===null?Gr=t:Gr.push.apply(Gr,t)}function tJ(t){for(var e=t;;){if(e.flags&16384){var r=e.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var i=r[n],s=i.getSnapshot;i=i.value;try{if(!si(s(),i))return!1}catch{return!1}}}if(r=e.child,e.subtreeFlags&16384&&r!==null)r.return=e,e=r;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Ts(t,e){for(e&=~cC,e&=~Tp,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var r=31-ni(e),n=1<<r;t[r]=-1,e&=~n}}function iI(t){if(Ue&6)throw Error(K(327));Il();var e=Tf(t,0);if(!(e&1))return Zr(t,jt()),null;var r=Kf(t,e);if(t.tag!==0&&r===2){var n=J2(t);n!==0&&(e=n,r=PO(t,n))}if(r===1)throw r=id,Xa(t,0),Ts(t,e),Zr(t,jt()),r;if(r===6)throw Error(K(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Ta(t,Gr,Mi),Zr(t,jt()),null}function hC(t,e){var r=Ue;Ue|=1;try{return t(e)}finally{Ue=r,Ue===0&&(ru=jt()+500,Op&&va())}}function ho(t){zs!==null&&zs.tag===0&&!(Ue&6)&&Il();var e=Ue;Ue|=1;var r=$n.transition,n=Ke;try{if($n.transition=null,Ke=1,t)return t()}finally{Ke=n,$n.transition=r,Ue=e,!(Ue&6)&&va()}}function fC(){dn=yl.current,dt(yl)}function Xa(t,e){t.finishedWork=null,t.finishedLanes=0;var r=t.timeoutHandle;if(r!==-1&&(t.timeoutHandle=-1,RX(r)),Mt!==null)for(r=Mt.return;r!==null;){var n=r;switch(KP(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&kf();break;case 3:eu(),dt(Xr),dt(Cr),rC();break;case 5:tC(n);break;case 4:eu();break;case 13:dt(gt);break;case 19:dt(gt);break;case 10:XP(n.type._context);break;case 22:case 23:fC()}r=r.return}if(ir=t,Mt=t=Js(t.current,null),mr=dn=e,Xt=0,id=null,cC=Tp=co=0,Gr=Rc=null,ja!==null){for(e=0;e<ja.length;e++)if(r=ja[e],n=r.interleaved,n!==null){r.interleaved=null;var i=n.next,s=r.pending;if(s!==null){var a=s.next;s.next=i,n.next=a}r.pending=n}ja=null}return t}function aH(t,e){do{var r=Mt;try{if(QP(),uf.current=Uf,zf){for(var n=yt.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}zf=!1}if(uo=0,nr=Yt=yt=null,Tc=!1,td=0,uC.current=null,r===null||r.return===null){Xt=1,id=e,Mt=null;break}e:{var s=t,a=r.return,o=r,l=e;if(e=mr,o.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,d=o,h=d.tag;if(!(d.mode&1)&&(h===0||h===11||h===15)){var f=d.alternate;f?(d.updateQueue=f.updateQueue,d.memoizedState=f.memoizedState,d.lanes=f.lanes):(d.updateQueue=null,d.memoizedState=null)}var p=HT(a);if(p!==null){p.flags&=-257,VT(p,a,o,s,e),p.mode&1&&WT(s,u,e),e=p,l=u;var m=e.updateQueue;if(m===null){var y=new Set;y.add(l),e.updateQueue=y}else m.add(l);break e}else{if(!(e&1)){WT(s,u,e),pC();break e}l=Error(K(426))}}else if(pt&&o.mode&1){var b=HT(a);if(b!==null){!(b.flags&65536)&&(b.flags|=256),VT(b,a,o,s,e),GP(tu(l,o));break e}}s=l=tu(l,o),Xt!==4&&(Xt=2),Rc===null?Rc=[s]:Rc.push(s),s=a;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var g=U9(s,l,e);AT(s,g);break e;case 1:o=l;var v=s.type,x=s.stateNode;if(!(s.flags&128)&&(typeof v.getDerivedStateFromError=="function"||x!==null&&typeof x.componentDidCatch=="function"&&(Qs===null||!Qs.has(x)))){s.flags|=65536,e&=-e,s.lanes|=e;var w=W9(s,o,e);AT(s,w);break e}}s=s.return}while(s!==null)}uH(r)}catch(_){e=_,Mt===r&&r!==null&&(Mt=r=r.return);continue}break}while(!0)}function oH(){var t=Wf.current;return Wf.current=Uf,t===null?Uf:t}function pC(){(Xt===0||Xt===3||Xt===2)&&(Xt=4),ir===null||!(co&268435455)&&!(Tp&268435455)||Ts(ir,mr)}function Kf(t,e){var r=Ue;Ue|=2;var n=oH();(ir!==t||mr!==e)&&(Mi=null,Xa(t,e));do try{rJ();break}catch(i){aH(t,i)}while(!0);if(QP(),Ue=r,Wf.current=n,Mt!==null)throw Error(K(261));return ir=null,mr=0,Xt}function rJ(){for(;Mt!==null;)lH(Mt)}function nJ(){for(;Mt!==null&&!NQ();)lH(Mt)}function lH(t){var e=dH(t.alternate,t,dn);t.memoizedProps=t.pendingProps,e===null?uH(t):Mt=e,uC.current=null}function uH(t){var e=t;do{var r=e.alternate;if(t=e.return,e.flags&32768){if(r=QX(r,e),r!==null){r.flags&=32767,Mt=r;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Xt=6,Mt=null;return}}else if(r=YX(r,e,dn),r!==null){Mt=r;return}if(e=e.sibling,e!==null){Mt=e;return}Mt=e=t}while(e!==null);Xt===0&&(Xt=5)}function Ta(t,e,r){var n=Ke,i=$n.transition;try{$n.transition=null,Ke=1,iJ(t,e,r,n)}finally{$n.transition=i,Ke=n}return null}function iJ(t,e,r,n){do Il();while(zs!==null);if(Ue&6)throw Error(K(327));r=t.finishedWork;var i=t.finishedLanes;if(r===null)return null;if(t.finishedWork=null,t.finishedLanes=0,r===t.current)throw Error(K(177));t.callbackNode=null,t.callbackPriority=0;var s=r.lanes|r.childLanes;if(AQ(t,s),t===ir&&(Mt=ir=null,mr=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||zh||(zh=!0,hH(Nf,function(){return Il(),null})),s=(r.flags&15990)!==0,r.subtreeFlags&15990||s){s=$n.transition,$n.transition=null;var a=Ke;Ke=1;var o=Ue;Ue|=4,uC.current=null,JX(t,r),nH(r,t),EX(iO),If=!!nO,iO=nO=null,t.current=r,ZX(r),TQ(),Ue=o,Ke=a,$n.transition=s}else t.current=r;if(zh&&(zh=!1,zs=t,Vf=i),s=t.pendingLanes,s===0&&(Qs=null),jQ(r.stateNode),Zr(t,jt()),e!==null)for(n=t.onRecoverableError,r=0;r<e.length;r++)i=e[r],n(i.value,{componentStack:i.stack,digest:i.digest});if(Hf)throw Hf=!1,t=EO,EO=null,t;return Vf&1&&t.tag!==0&&Il(),s=t.pendingLanes,s&1?t===OO?jc++:(jc=0,OO=t):jc=0,va(),null}function Il(){if(zs!==null){var t=UW(Vf),e=$n.transition,r=Ke;try{if($n.transition=null,Ke=16>t?16:t,zs===null)var n=!1;else{if(t=zs,zs=null,Vf=0,Ue&6)throw Error(K(331));var i=Ue;for(Ue|=4,ue=t.current;ue!==null;){var s=ue,a=s.child;if(ue.flags&16){var o=s.deletions;if(o!==null){for(var l=0;l<o.length;l++){var u=o[l];for(ue=u;ue!==null;){var d=ue;switch(d.tag){case 0:case 11:case 15:Ic(8,d,s)}var h=d.child;if(h!==null)h.return=d,ue=h;else for(;ue!==null;){d=ue;var f=d.sibling,p=d.return;if(eH(d),d===u){ue=null;break}if(f!==null){f.return=p,ue=f;break}ue=p}}}var m=s.alternate;if(m!==null){var y=m.child;if(y!==null){m.child=null;do{var b=y.sibling;y.sibling=null,y=b}while(y!==null)}}ue=s}}if(s.subtreeFlags&2064&&a!==null)a.return=s,ue=a;else e:for(;ue!==null;){if(s=ue,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Ic(9,s,s.return)}var g=s.sibling;if(g!==null){g.return=s.return,ue=g;break e}ue=s.return}}var v=t.current;for(ue=v;ue!==null;){a=ue;var x=a.child;if(a.subtreeFlags&2064&&x!==null)x.return=a,ue=x;else e:for(a=v;ue!==null;){if(o=ue,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:Np(9,o)}}catch(_){Ot(o,o.return,_)}if(o===a){ue=null;break e}var w=o.sibling;if(w!==null){w.return=o.return,ue=w;break e}ue=o.return}}if(Ue=i,va(),Oi&&typeof Oi.onPostCommitFiberRoot=="function")try{Oi.onPostCommitFiberRoot(wp,t)}catch{}n=!0}return n}finally{Ke=r,$n.transition=e}}return!1}function sI(t,e,r){e=tu(r,e),e=U9(t,e,1),t=Ys(t,e,1),e=Ar(),t!==null&&(jd(t,1,e),Zr(t,e))}function Ot(t,e,r){if(t.tag===3)sI(t,t,r);else for(;e!==null;){if(e.tag===3){sI(e,t,r);break}else if(e.tag===1){var n=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Qs===null||!Qs.has(n))){t=tu(r,t),t=W9(e,t,1),e=Ys(e,t,1),t=Ar(),e!==null&&(jd(e,1,t),Zr(e,t));break}}e=e.return}}function sJ(t,e,r){var n=t.pingCache;n!==null&&n.delete(e),e=Ar(),t.pingedLanes|=t.suspendedLanes&r,ir===t&&(mr&r)===r&&(Xt===4||Xt===3&&(mr&130023424)===mr&&500>jt()-dC?Xa(t,0):cC|=r),Zr(t,e)}function cH(t,e){e===0&&(t.mode&1?(e=jh,jh<<=1,!(jh&130023424)&&(jh=4194304)):e=1);var r=Ar();t=as(t,e),t!==null&&(jd(t,e,r),Zr(t,r))}function aJ(t){var e=t.memoizedState,r=0;e!==null&&(r=e.retryLane),cH(t,r)}function oJ(t,e){var r=0;switch(t.tag){case 13:var n=t.stateNode,i=t.memoizedState;i!==null&&(r=i.retryLane);break;case 19:n=t.stateNode;break;default:throw Error(K(314))}n!==null&&n.delete(e),cH(t,r)}var dH;dH=function(t,e,r){if(t!==null)if(t.memoizedProps!==e.pendingProps||Xr.current)Qr=!0;else{if(!(t.lanes&r)&&!(e.flags&128))return Qr=!1,GX(t,e,r);Qr=!!(t.flags&131072)}else Qr=!1,pt&&e.flags&1048576&&m9(e,Mf,e.index);switch(e.lanes=0,e.tag){case 2:var n=e.type;df(t,e),t=e.pendingProps;var i=Xl(e,Cr.current);Tl(e,r),i=iC(null,e,n,t,i,r);var s=sC();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Jr(n)?(s=!0,Df(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,ZP(e),i.updater=Cp,e.stateNode=i,i._reactInternals=e,fO(e,n,t,r),e=vO(null,e,n,!0,s,r)):(e.tag=0,pt&&s&&VP(e),$r(null,e,i,r),e=e.child),e;case 16:n=e.elementType;e:{switch(df(t,e),t=e.pendingProps,i=n._init,n=i(n._payload),e.type=n,i=e.tag=uJ(n),t=Kn(n,t),i){case 0:e=mO(null,e,n,t,r);break e;case 1:e=YT(null,e,n,t,r);break e;case 11:e=KT(null,e,n,t,r);break e;case 14:e=GT(null,e,n,Kn(n.type,t),r);break e}throw Error(K(306,n,""))}return e;case 0:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:Kn(n,i),mO(t,e,n,i,r);case 1:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:Kn(n,i),YT(t,e,n,i,r);case 3:e:{if(G9(e),t===null)throw Error(K(387));n=e.pendingProps,s=e.memoizedState,i=s.element,x9(t,e),Lf(e,n,null,r);var a=e.memoizedState;if(n=a.element,s.isDehydrated)if(s={element:n,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=tu(Error(K(423)),e),e=QT(t,e,n,r,i);break e}else if(n!==i){i=tu(Error(K(424)),e),e=QT(t,e,n,r,i);break e}else for(pn=Gs(e.stateNode.containerInfo.firstChild),mn=e,pt=!0,Xn=null,r=b9(e,null,n,r),e.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Jl(),n===i){e=os(t,e,r);break e}$r(t,e,n,r)}e=e.child}return e;case 5:return _9(e),t===null&&cO(e),n=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,a=i.children,sO(n,i)?a=null:s!==null&&sO(n,s)&&(e.flags|=32),K9(t,e),$r(t,e,a,r),e.child;case 6:return t===null&&cO(e),null;case 13:return Y9(t,e,r);case 4:return eC(e,e.stateNode.containerInfo),n=e.pendingProps,t===null?e.child=Zl(e,null,n,r):$r(t,e,n,r),e.child;case 11:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:Kn(n,i),KT(t,e,n,i,r);case 7:return $r(t,e,e.pendingProps,r),e.child;case 8:return $r(t,e,e.pendingProps.children,r),e.child;case 12:return $r(t,e,e.pendingProps.children,r),e.child;case 10:e:{if(n=e.type._context,i=e.pendingProps,s=e.memoizedProps,a=i.value,lt(Af,n._currentValue),n._currentValue=a,s!==null)if(si(s.value,a)){if(s.children===i.children&&!Xr.current){e=os(t,e,r);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var o=s.dependencies;if(o!==null){a=s.child;for(var l=o.firstContext;l!==null;){if(l.context===n){if(s.tag===1){l=Ki(-1,r&-r),l.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?l.next=l:(l.next=d.next,d.next=l),u.pending=l}}s.lanes|=r,l=s.alternate,l!==null&&(l.lanes|=r),dO(s.return,r,e),o.lanes|=r;break}l=l.next}}else if(s.tag===10)a=s.type===e.type?null:s.child;else if(s.tag===18){if(a=s.return,a===null)throw Error(K(341));a.lanes|=r,o=a.alternate,o!==null&&(o.lanes|=r),dO(a,r,e),a=s.sibling}else a=s.child;if(a!==null)a.return=s;else for(a=s;a!==null;){if(a===e){a=null;break}if(s=a.sibling,s!==null){s.return=a.return,a=s;break}a=a.return}s=a}$r(t,e,i.children,r),e=e.child}return e;case 9:return i=e.type,n=e.pendingProps.children,Tl(e,r),i=qn(i),n=n(i),e.flags|=1,$r(t,e,n,r),e.child;case 14:return n=e.type,i=Kn(n,e.pendingProps),i=Kn(n.type,i),GT(t,e,n,i,r);case 15:return H9(t,e,e.type,e.pendingProps,r);case 17:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:Kn(n,i),df(t,e),e.tag=1,Jr(n)?(t=!0,Df(e)):t=!1,Tl(e,r),z9(e,n,i),fO(e,n,i,r),vO(null,e,n,!0,t,r);case 19:return Q9(t,e,r);case 22:return V9(t,e,r)}throw Error(K(156,e.tag))};function hH(t,e){return FW(t,e)}function lJ(t,e,r,n){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function jn(t,e,r,n){return new lJ(t,e,r,n)}function mC(t){return t=t.prototype,!(!t||!t.isReactComponent)}function uJ(t){if(typeof t=="function")return mC(t)?1:0;if(t!=null){if(t=t.$$typeof,t===kP)return 11;if(t===DP)return 14}return 2}function Js(t,e){var r=t.alternate;return r===null?(r=jn(t.tag,e,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=e,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&14680064,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,e=t.dependencies,r.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r}function pf(t,e,r,n,i,s){var a=2;if(n=t,typeof t=="function")mC(t)&&(a=1);else if(typeof t=="string")a=5;else e:switch(t){case ll:return Ja(r.children,i,s,e);case $P:a=8,i|=8;break;case M2:return t=jn(12,r,e,i|2),t.elementType=M2,t.lanes=s,t;case A2:return t=jn(13,r,e,i),t.elementType=A2,t.lanes=s,t;case F2:return t=jn(19,r,e,i),t.elementType=F2,t.lanes=s,t;case _W:return Ip(r,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case wW:a=10;break e;case xW:a=9;break e;case kP:a=11;break e;case DP:a=14;break e;case Ss:a=16,n=null;break e}throw Error(K(130,t==null?t:typeof t,""))}return e=jn(a,r,e,i),e.elementType=t,e.type=n,e.lanes=s,e}function Ja(t,e,r,n){return t=jn(7,t,n,e),t.lanes=r,t}function Ip(t,e,r,n){return t=jn(22,t,n,e),t.elementType=_W,t.lanes=r,t.stateNode={isHidden:!1},t}function ev(t,e,r){return t=jn(6,t,null,e),t.lanes=r,t}function tv(t,e,r){return e=jn(4,t.children!==null?t.children:[],t.key,e),e.lanes=r,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function cJ(t,e,r,n,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Dm(0),this.expirationTimes=Dm(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Dm(0),this.identifierPrefix=n,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function vC(t,e,r,n,i,s,a,o,l){return t=new cJ(t,e,r,o,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=jn(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},ZP(s),t}function dJ(t,e,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ol,key:n==null?null:""+n,children:t,containerInfo:e,implementation:r}}function fH(t){if(!t)return la;t=t._reactInternals;e:{if(Io(t)!==t||t.tag!==1)throw Error(K(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Jr(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(K(171))}if(t.tag===1){var r=t.type;if(Jr(r))return f9(t,r,e)}return e}function pH(t,e,r,n,i,s,a,o,l){return t=vC(r,n,!0,t,i,s,a,o,l),t.context=fH(null),r=t.current,n=Ar(),i=Xs(r),s=Ki(n,i),s.callback=e??null,Ys(r,s,i),t.current.lanes=i,jd(t,i,n),Zr(t,n),t}function Rp(t,e,r,n){var i=e.current,s=Ar(),a=Xs(i);return r=fH(r),e.context===null?e.context=r:e.pendingContext=r,e=Ki(s,a),e.payload={element:t},n=n===void 0?null:n,n!==null&&(e.callback=n),t=Ys(i,e,a),t!==null&&(ii(t,i,a,s),lf(t,i,a)),a}function Gf(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function aI(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<e?r:e}}function gC(t,e){aI(t,e),(t=t.alternate)&&aI(t,e)}function hJ(){return null}var mH=typeof reportError=="function"?reportError:function(t){console.error(t)};function yC(t){this._internalRoot=t}jp.prototype.render=yC.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(K(409));Rp(t,e,null,null)};jp.prototype.unmount=yC.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;ho(function(){Rp(null,t,null,null)}),e[ss]=null}};function jp(t){this._internalRoot=t}jp.prototype.unstable_scheduleHydration=function(t){if(t){var e=VW();t={blockedOn:null,target:t,priority:e};for(var r=0;r<Ns.length&&e!==0&&e<Ns[r].priority;r++);Ns.splice(r,0,t),r===0&&GW(t)}};function bC(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function $p(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function oI(){}function fJ(t,e,r,n,i){if(i){if(typeof n=="function"){var s=n;n=function(){var u=Gf(a);s.call(u)}}var a=pH(e,n,t,0,null,!1,!1,"",oI);return t._reactRootContainer=a,t[ss]=a.current,Qc(t.nodeType===8?t.parentNode:t),ho(),a}for(;i=t.lastChild;)t.removeChild(i);if(typeof n=="function"){var o=n;n=function(){var u=Gf(l);o.call(u)}}var l=vC(t,0,!1,null,null,!1,!1,"",oI);return t._reactRootContainer=l,t[ss]=l.current,Qc(t.nodeType===8?t.parentNode:t),ho(function(){Rp(e,l,r,n)}),l}function kp(t,e,r,n,i){var s=r._reactRootContainer;if(s){var a=s;if(typeof i=="function"){var o=i;i=function(){var l=Gf(a);o.call(l)}}Rp(e,a,t,i)}else a=fJ(r,e,t,i,n);return Gf(a)}WW=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var r=bc(e.pendingLanes);r!==0&&(AP(e,r|1),Zr(e,jt()),!(Ue&6)&&(ru=jt()+500,va()))}break;case 13:ho(function(){var n=as(t,1);if(n!==null){var i=Ar();ii(n,t,1,i)}}),gC(t,1)}};FP=function(t){if(t.tag===13){var e=as(t,134217728);if(e!==null){var r=Ar();ii(e,t,134217728,r)}gC(t,134217728)}};HW=function(t){if(t.tag===13){var e=Xs(t),r=as(t,e);if(r!==null){var n=Ar();ii(r,t,e,n)}gC(t,e)}};VW=function(){return Ke};KW=function(t,e){var r=Ke;try{return Ke=t,e()}finally{Ke=r}};Y2=function(t,e,r){switch(e){case"input":if(z2(t,r),e=r.name,r.type==="radio"&&e!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<r.length;e++){var n=r[e];if(n!==t&&n.form===t.form){var i=Ep(n);if(!i)throw Error(K(90));EW(n),z2(n,i)}}}break;case"textarea":PW(t,r);break;case"select":e=r.value,e!=null&&Ol(t,!!r.multiple,e,!1)}};$W=hC;kW=ho;var pJ={usingClientEntryPoint:!1,Events:[kd,hl,Ep,RW,jW,hC]},lc={findFiberByHostInstance:Ra,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},mJ={bundleType:lc.bundleType,version:lc.version,rendererPackageName:lc.rendererPackageName,rendererConfig:lc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:us.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=MW(t),t===null?null:t.stateNode},findFiberByHostInstance:lc.findFiberByHostInstance||hJ,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Uh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Uh.isDisabled&&Uh.supportsFiber)try{wp=Uh.inject(mJ),Oi=Uh}catch{}}gn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=pJ;gn.createPortal=function(t,e){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!bC(e))throw Error(K(200));return dJ(t,e,null,r)};gn.createRoot=function(t,e){if(!bC(t))throw Error(K(299));var r=!1,n="",i=mH;return e!=null&&(e.unstable_strictMode===!0&&(r=!0),e.identifierPrefix!==void 0&&(n=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=vC(t,1,!1,null,null,r,!1,n,i),t[ss]=e.current,Qc(t.nodeType===8?t.parentNode:t),new yC(e)};gn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(K(188)):(t=Object.keys(t).join(","),Error(K(268,t)));return t=MW(e),t=t===null?null:t.stateNode,t};gn.flushSync=function(t){return ho(t)};gn.hydrate=function(t,e,r){if(!$p(e))throw Error(K(200));return kp(null,t,e,!0,r)};gn.hydrateRoot=function(t,e,r){if(!bC(t))throw Error(K(405));var n=r!=null&&r.hydratedSources||null,i=!1,s="",a=mH;if(r!=null&&(r.unstable_strictMode===!0&&(i=!0),r.identifierPrefix!==void 0&&(s=r.identifierPrefix),r.onRecoverableError!==void 0&&(a=r.onRecoverableError)),e=pH(e,null,t,1,r??null,i,!1,s,a),t[ss]=e.current,Qc(t),n)for(t=0;t<n.length;t++)r=n[t],i=r._getVersion,i=i(r._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[r,i]:e.mutableSourceEagerHydrationData.push(r,i);return new jp(e)};gn.render=function(t,e,r){if(!$p(e))throw Error(K(200));return kp(null,t,e,!1,r)};gn.unmountComponentAtNode=function(t){if(!$p(t))throw Error(K(40));return t._reactRootContainer?(ho(function(){kp(null,null,t,!1,function(){t._reactRootContainer=null,t[ss]=null})}),!0):!1};gn.unstable_batchedUpdates=hC;gn.unstable_renderSubtreeIntoContainer=function(t,e,r,n){if(!$p(r))throw Error(K(200));if(t==null||t._reactInternals===void 0)throw Error(K(38));return kp(t,e,r,!1,n)};gn.version="18.3.1-next-f1338f8080-20240426";function vH(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(vH)}catch(t){console.error(t)}}vH(),vW.exports=gn;var vJ=vW.exports,lI=vJ;D2.createRoot=lI.createRoot,D2.hydrateRoot=lI.hydrateRoot;/**
 * @remix-run/router v1.23.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function sd(){return sd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},sd.apply(this,arguments)}var Us;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Us||(Us={}));const uI="popstate";function gJ(t){t===void 0&&(t={});function e(n,i){let{pathname:s,search:a,hash:o}=n.location;return NO("",{pathname:s,search:a,hash:o},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function r(n,i){return typeof i=="string"?i:Yf(i)}return bJ(e,r,null,t)}function bt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function wC(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function yJ(){return Math.random().toString(36).substr(2,8)}function cI(t,e){return{usr:t.state,key:t.key,idx:e}}function NO(t,e,r,n){return r===void 0&&(r=null),sd({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?wu(e):e,{state:r,key:e&&e.key||n||yJ()})}function Yf(t){let{pathname:e="/",search:r="",hash:n=""}=t;return r&&r!=="?"&&(e+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function wu(t){let e={};if(t){let r=t.indexOf("#");r>=0&&(e.hash=t.substr(r),t=t.substr(0,r));let n=t.indexOf("?");n>=0&&(e.search=t.substr(n),t=t.substr(0,n)),t&&(e.pathname=t)}return e}function bJ(t,e,r,n){n===void 0&&(n={});let{window:i=document.defaultView,v5Compat:s=!1}=n,a=i.history,o=Us.Pop,l=null,u=d();u==null&&(u=0,a.replaceState(sd({},a.state,{idx:u}),""));function d(){return(a.state||{idx:null}).idx}function h(){o=Us.Pop;let b=d(),g=b==null?null:b-u;u=b,l&&l({action:o,location:y.location,delta:g})}function f(b,g){o=Us.Push;let v=NO(y.location,b,g);u=d()+1;let x=cI(v,u),w=y.createHref(v);try{a.pushState(x,"",w)}catch(_){if(_ instanceof DOMException&&_.name==="DataCloneError")throw _;i.location.assign(w)}s&&l&&l({action:o,location:y.location,delta:1})}function p(b,g){o=Us.Replace;let v=NO(y.location,b,g);u=d();let x=cI(v,u),w=y.createHref(v);a.replaceState(x,"",w),s&&l&&l({action:o,location:y.location,delta:0})}function m(b){let g=i.location.origin!=="null"?i.location.origin:i.location.href,v=typeof b=="string"?b:Yf(b);return v=v.replace(/ $/,"%20"),bt(g,"No window.location.(origin|href) available to create URL for href: "+v),new URL(v,g)}let y={get action(){return o},get location(){return t(i,a)},listen(b){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(uI,h),l=b,()=>{i.removeEventListener(uI,h),l=null}},createHref(b){return e(i,b)},createURL:m,encodeLocation(b){let g=m(b);return{pathname:g.pathname,search:g.search,hash:g.hash}},push:f,replace:p,go(b){return a.go(b)}};return y}var dI;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(dI||(dI={}));function wJ(t,e,r){return r===void 0&&(r="/"),xJ(t,e,r)}function xJ(t,e,r,n){let i=typeof e=="string"?wu(e):e,s=nu(i.pathname||"/",r);if(s==null)return null;let a=gH(t);_J(a);let o=null;for(let l=0;o==null&&l<a.length;++l){let u=$J(s);o=RJ(a[l],u)}return o}function gH(t,e,r,n){e===void 0&&(e=[]),r===void 0&&(r=[]),n===void 0&&(n="");let i=(s,a,o)=>{let l={relativePath:o===void 0?s.path||"":o,caseSensitive:s.caseSensitive===!0,childrenIndex:a,route:s};l.relativePath.startsWith("/")&&(bt(l.relativePath.startsWith(n),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(n.length));let u=Zs([n,l.relativePath]),d=r.concat(l);s.children&&s.children.length>0&&(bt(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),gH(s.children,e,d,u)),!(s.path==null&&!s.index)&&e.push({path:u,score:TJ(u,s.index),routesMeta:d})};return t.forEach((s,a)=>{var o;if(s.path===""||!((o=s.path)!=null&&o.includes("?")))i(s,a);else for(let l of yH(s.path))i(s,a,l)}),e}function yH(t){let e=t.split("/");if(e.length===0)return[];let[r,...n]=e,i=r.endsWith("?"),s=r.replace(/\?$/,"");if(n.length===0)return i?[s,""]:[s];let a=yH(n.join("/")),o=[];return o.push(...a.map(l=>l===""?s:[s,l].join("/"))),i&&o.push(...a),o.map(l=>t.startsWith("/")&&l===""?"/":l)}function _J(t){t.sort((e,r)=>e.score!==r.score?r.score-e.score:IJ(e.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const SJ=/^:[\w-]+$/,EJ=3,OJ=2,PJ=1,CJ=10,NJ=-2,hI=t=>t==="*";function TJ(t,e){let r=t.split("/"),n=r.length;return r.some(hI)&&(n+=NJ),e&&(n+=OJ),r.filter(i=>!hI(i)).reduce((i,s)=>i+(SJ.test(s)?EJ:s===""?PJ:CJ),n)}function IJ(t,e){return t.length===e.length&&t.slice(0,-1).every((n,i)=>n===e[i])?t[t.length-1]-e[e.length-1]:0}function RJ(t,e,r){let{routesMeta:n}=t,i={},s="/",a=[];for(let o=0;o<n.length;++o){let l=n[o],u=o===n.length-1,d=s==="/"?e:e.slice(s.length)||"/",h=TO({path:l.relativePath,caseSensitive:l.caseSensitive,end:u},d),f=l.route;if(!h)return null;Object.assign(i,h.params),a.push({params:i,pathname:Zs([s,h.pathname]),pathnameBase:AJ(Zs([s,h.pathnameBase])),route:f}),h.pathnameBase!=="/"&&(s=Zs([s,h.pathnameBase]))}return a}function TO(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[r,n]=jJ(t.path,t.caseSensitive,t.end),i=e.match(r);if(!i)return null;let s=i[0],a=s.replace(/(.)\/+$/,"$1"),o=i.slice(1);return{params:n.reduce((u,d,h)=>{let{paramName:f,isOptional:p}=d;if(f==="*"){let y=o[h]||"";a=s.slice(0,s.length-y.length).replace(/(.)\/+$/,"$1")}const m=o[h];return p&&!m?u[f]=void 0:u[f]=(m||"").replace(/%2F/g,"/"),u},{}),pathname:s,pathnameBase:a,pattern:t}}function jJ(t,e,r){e===void 0&&(e=!1),r===void 0&&(r=!0),wC(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let n=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,o,l)=>(n.push({paramName:o,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(n.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),n]}function $J(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return wC(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function nu(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let r=e.endsWith("/")?e.length-1:e.length,n=t.charAt(r);return n&&n!=="/"?null:t.slice(r)||"/"}const kJ=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,DJ=t=>kJ.test(t);function qJ(t,e){e===void 0&&(e="/");let{pathname:r,search:n="",hash:i=""}=typeof t=="string"?wu(t):t,s;if(r)if(DJ(r))s=r;else{if(r.includes("//")){let a=r;r=r.replace(/\/\/+/g,"/"),wC(!1,"Pathnames cannot have embedded double slashes - normalizing "+(a+" -> "+r))}r.startsWith("/")?s=fI(r.substring(1),"/"):s=fI(r,e)}else s=e;return{pathname:s,search:FJ(n),hash:LJ(i)}}function fI(t,e){let r=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?r.length>1&&r.pop():i!=="."&&r.push(i)}),r.length>1?r.join("/"):"/"}function rv(t,e,r,n){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function MJ(t){return t.filter((e,r)=>r===0||e.route.path&&e.route.path.length>0)}function xC(t,e){let r=MJ(t);return e?r.map((n,i)=>i===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function _C(t,e,r,n){n===void 0&&(n=!1);let i;typeof t=="string"?i=wu(t):(i=sd({},t),bt(!i.pathname||!i.pathname.includes("?"),rv("?","pathname","search",i)),bt(!i.pathname||!i.pathname.includes("#"),rv("#","pathname","hash",i)),bt(!i.search||!i.search.includes("#"),rv("#","search","hash",i)));let s=t===""||i.pathname==="",a=s?"/":i.pathname,o;if(a==null)o=r;else{let h=e.length-1;if(!n&&a.startsWith("..")){let f=a.split("/");for(;f[0]==="..";)f.shift(),h-=1;i.pathname=f.join("/")}o=h>=0?e[h]:"/"}let l=qJ(i,o),u=a&&a!=="/"&&a.endsWith("/"),d=(s||a===".")&&r.endsWith("/");return!l.pathname.endsWith("/")&&(u||d)&&(l.pathname+="/"),l}const Zs=t=>t.join("/").replace(/\/\/+/g,"/"),AJ=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),FJ=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,LJ=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function BJ(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const bH=["post","put","patch","delete"];new Set(bH);const zJ=["get",...bH];new Set(zJ);/**
 * React Router v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ad(){return ad=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},ad.apply(this,arguments)}const Dp=$.createContext(null),wH=$.createContext(null),cs=$.createContext(null),qp=$.createContext(null),ds=$.createContext({outlet:null,matches:[],isDataRoute:!1}),xH=$.createContext(null);function UJ(t,e){let{relative:r}=e===void 0?{}:e;xu()||bt(!1);let{basename:n,navigator:i}=$.useContext(cs),{hash:s,pathname:a,search:o}=Mp(t,{relative:r}),l=a;return n!=="/"&&(l=a==="/"?n:Zs([n,a])),i.createHref({pathname:l,search:o,hash:s})}function xu(){return $.useContext(qp)!=null}function hs(){return xu()||bt(!1),$.useContext(qp).location}function _H(t){$.useContext(cs).static||$.useLayoutEffect(t)}function sn(){let{isDataRoute:t}=$.useContext(ds);return t?rZ():WJ()}function WJ(){xu()||bt(!1);let t=$.useContext(Dp),{basename:e,future:r,navigator:n}=$.useContext(cs),{matches:i}=$.useContext(ds),{pathname:s}=hs(),a=JSON.stringify(xC(i,r.v7_relativeSplatPath)),o=$.useRef(!1);return _H(()=>{o.current=!0}),$.useCallback(function(u,d){if(d===void 0&&(d={}),!o.current)return;if(typeof u=="number"){n.go(u);return}let h=_C(u,JSON.parse(a),s,d.relative==="path");t==null&&e!=="/"&&(h.pathname=h.pathname==="/"?e:Zs([e,h.pathname])),(d.replace?n.replace:n.push)(h,d.state,d)},[e,n,a,s,t])}function fs(){let{matches:t}=$.useContext(ds),e=t[t.length-1];return e?e.params:{}}function Mp(t,e){let{relative:r}=e===void 0?{}:e,{future:n}=$.useContext(cs),{matches:i}=$.useContext(ds),{pathname:s}=hs(),a=JSON.stringify(xC(i,n.v7_relativeSplatPath));return $.useMemo(()=>_C(t,JSON.parse(a),s,r==="path"),[t,a,s,r])}function HJ(t,e){return VJ(t,e)}function VJ(t,e,r,n){xu()||bt(!1);let{navigator:i}=$.useContext(cs),{matches:s}=$.useContext(ds),a=s[s.length-1],o=a?a.params:{};a&&a.pathname;let l=a?a.pathnameBase:"/";a&&a.route;let u=hs(),d;if(e){var h;let b=typeof e=="string"?wu(e):e;l==="/"||(h=b.pathname)!=null&&h.startsWith(l)||bt(!1),d=b}else d=u;let f=d.pathname||"/",p=f;if(l!=="/"){let b=l.replace(/^\//,"").split("/");p="/"+f.replace(/^\//,"").split("/").slice(b.length).join("/")}let m=wJ(t,{pathname:p}),y=XJ(m&&m.map(b=>Object.assign({},b,{params:Object.assign({},o,b.params),pathname:Zs([l,i.encodeLocation?i.encodeLocation(b.pathname).pathname:b.pathname]),pathnameBase:b.pathnameBase==="/"?l:Zs([l,i.encodeLocation?i.encodeLocation(b.pathnameBase).pathname:b.pathnameBase])})),s,r,n);return e&&y?$.createElement(qp.Provider,{value:{location:ad({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:Us.Pop}},y):y}function KJ(){let t=tZ(),e=BJ(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),r=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return $.createElement($.Fragment,null,$.createElement("h2",null,"Unexpected Application Error!"),$.createElement("h3",{style:{fontStyle:"italic"}},e),r?$.createElement("pre",{style:i},r):null,null)}const GJ=$.createElement(KJ,null);class YJ extends $.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,r){return r.location!==e.location||r.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:r.error,location:r.location,revalidation:e.revalidation||r.revalidation}}componentDidCatch(e,r){console.error("React Router caught the following error during render",e,r)}render(){return this.state.error!==void 0?$.createElement(ds.Provider,{value:this.props.routeContext},$.createElement(xH.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function QJ(t){let{routeContext:e,match:r,children:n}=t,i=$.useContext(Dp);return i&&i.static&&i.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=r.route.id),$.createElement(ds.Provider,{value:e},n)}function XJ(t,e,r,n){var i;if(e===void 0&&(e=[]),r===void 0&&(r=null),n===void 0&&(n=null),t==null){var s;if(!r)return null;if(r.errors)t=r.matches;else if((s=n)!=null&&s.v7_partialHydration&&e.length===0&&!r.initialized&&r.matches.length>0)t=r.matches;else return null}let a=t,o=(i=r)==null?void 0:i.errors;if(o!=null){let d=a.findIndex(h=>h.route.id&&(o==null?void 0:o[h.route.id])!==void 0);d>=0||bt(!1),a=a.slice(0,Math.min(a.length,d+1))}let l=!1,u=-1;if(r&&n&&n.v7_partialHydration)for(let d=0;d<a.length;d++){let h=a[d];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(u=d),h.route.id){let{loaderData:f,errors:p}=r,m=h.route.loader&&f[h.route.id]===void 0&&(!p||p[h.route.id]===void 0);if(h.route.lazy||m){l=!0,u>=0?a=a.slice(0,u+1):a=[a[0]];break}}}return a.reduceRight((d,h,f)=>{let p,m=!1,y=null,b=null;r&&(p=o&&h.route.id?o[h.route.id]:void 0,y=h.route.errorElement||GJ,l&&(u<0&&f===0?(nZ("route-fallback"),m=!0,b=null):u===f&&(m=!0,b=h.route.hydrateFallbackElement||null)));let g=e.concat(a.slice(0,f+1)),v=()=>{let x;return p?x=y:m?x=b:h.route.Component?x=$.createElement(h.route.Component,null):h.route.element?x=h.route.element:x=d,$.createElement(QJ,{match:h,routeContext:{outlet:d,matches:g,isDataRoute:r!=null},children:x})};return r&&(h.route.ErrorBoundary||h.route.errorElement||f===0)?$.createElement(YJ,{location:r.location,revalidation:r.revalidation,component:y,error:p,children:v(),routeContext:{outlet:null,matches:g,isDataRoute:!0}}):v()},null)}var SH=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(SH||{}),EH=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(EH||{});function JJ(t){let e=$.useContext(Dp);return e||bt(!1),e}function ZJ(t){let e=$.useContext(wH);return e||bt(!1),e}function eZ(t){let e=$.useContext(ds);return e||bt(!1),e}function OH(t){let e=eZ(),r=e.matches[e.matches.length-1];return r.route.id||bt(!1),r.route.id}function tZ(){var t;let e=$.useContext(xH),r=ZJ(),n=OH();return e!==void 0?e:(t=r.errors)==null?void 0:t[n]}function rZ(){let{router:t}=JJ(SH.UseNavigateStable),e=OH(EH.UseNavigateStable),r=$.useRef(!1);return _H(()=>{r.current=!0}),$.useCallback(function(i,s){s===void 0&&(s={}),r.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,ad({fromRouteId:e},s)))},[t,e])}const pI={};function nZ(t,e,r){pI[t]||(pI[t]=!0)}function iZ(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function PH(t){let{to:e,replace:r,state:n,relative:i}=t;xu()||bt(!1);let{future:s,static:a}=$.useContext(cs),{matches:o}=$.useContext(ds),{pathname:l}=hs(),u=sn(),d=_C(e,xC(o,s.v7_relativeSplatPath),l,i==="path"),h=JSON.stringify(d);return $.useEffect(()=>u(JSON.parse(h),{replace:r,state:n,relative:i}),[u,h,i,r,n]),null}function Qe(t){bt(!1)}function sZ(t){let{basename:e="/",children:r=null,location:n,navigationType:i=Us.Pop,navigator:s,static:a=!1,future:o}=t;xu()&&bt(!1);let l=e.replace(/^\/*/,"/"),u=$.useMemo(()=>({basename:l,navigator:s,static:a,future:ad({v7_relativeSplatPath:!1},o)}),[l,o,s,a]);typeof n=="string"&&(n=wu(n));let{pathname:d="/",search:h="",hash:f="",state:p=null,key:m="default"}=n,y=$.useMemo(()=>{let b=nu(d,l);return b==null?null:{location:{pathname:b,search:h,hash:f,state:p,key:m},navigationType:i}},[l,d,h,f,p,m,i]);return y==null?null:$.createElement(cs.Provider,{value:u},$.createElement(qp.Provider,{children:r,value:y}))}function mI(t){let{children:e,location:r}=t;return HJ(IO(e),r)}new Promise(()=>{});function IO(t,e){e===void 0&&(e=[]);let r=[];return $.Children.forEach(t,(n,i)=>{if(!$.isValidElement(n))return;let s=[...e,i];if(n.type===$.Fragment){r.push.apply(r,IO(n.props.children,s));return}n.type!==Qe&&bt(!1),!n.props.index||!n.props.children||bt(!1);let a={id:n.props.id||s.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(a.children=IO(n.props.children,s)),r.push(a)}),r}/**
 * React Router DOM v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Qf(){return Qf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Qf.apply(this,arguments)}function CH(t,e){if(t==null)return{};var r={},n=Object.keys(t),i,s;for(s=0;s<n.length;s++)i=n[s],!(e.indexOf(i)>=0)&&(r[i]=t[i]);return r}function aZ(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function oZ(t,e){return t.button===0&&(!e||e==="_self")&&!aZ(t)}function RO(t){return t===void 0&&(t=""),new URLSearchParams(typeof t=="string"||Array.isArray(t)||t instanceof URLSearchParams?t:Object.keys(t).reduce((e,r)=>{let n=t[r];return e.concat(Array.isArray(n)?n.map(i=>[r,i]):[[r,n]])},[]))}function lZ(t,e){let r=RO(t);return e&&e.forEach((n,i)=>{r.has(i)||e.getAll(i).forEach(s=>{r.append(i,s)})}),r}const uZ=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],cZ=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],dZ="6";try{window.__reactRouterVersion=dZ}catch{}const hZ=$.createContext({isTransitioning:!1}),fZ="startTransition",vI=sQ[fZ];function pZ(t){let{basename:e,children:r,future:n,window:i}=t,s=$.useRef();s.current==null&&(s.current=gJ({window:i,v5Compat:!0}));let a=s.current,[o,l]=$.useState({action:a.action,location:a.location}),{v7_startTransition:u}=n||{},d=$.useCallback(h=>{u&&vI?vI(()=>l(h)):l(h)},[l,u]);return $.useLayoutEffect(()=>a.listen(d),[a,d]),$.useEffect(()=>iZ(n),[n]),$.createElement(sZ,{basename:e,children:r,location:o.location,navigationType:o.action,navigator:a,future:n})}const mZ=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",vZ=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,de=$.forwardRef(function(e,r){let{onClick:n,relative:i,reloadDocument:s,replace:a,state:o,target:l,to:u,preventScrollReset:d,viewTransition:h}=e,f=CH(e,uZ),{basename:p}=$.useContext(cs),m,y=!1;if(typeof u=="string"&&vZ.test(u)&&(m=u,mZ))try{let x=new URL(window.location.href),w=u.startsWith("//")?new URL(x.protocol+u):new URL(u),_=nu(w.pathname,p);w.origin===x.origin&&_!=null?u=_+w.search+w.hash:y=!0}catch{}let b=UJ(u,{relative:i}),g=bZ(u,{replace:a,state:o,target:l,preventScrollReset:d,relative:i,viewTransition:h});function v(x){n&&n(x),x.defaultPrevented||g(x)}return $.createElement("a",Qf({},f,{href:m||b,onClick:y||s?n:v,ref:r,target:l}))}),gZ=$.forwardRef(function(e,r){let{"aria-current":n="page",caseSensitive:i=!1,className:s="",end:a=!1,style:o,to:l,viewTransition:u,children:d}=e,h=CH(e,cZ),f=Mp(l,{relative:h.relative}),p=hs(),m=$.useContext(wH),{navigator:y,basename:b}=$.useContext(cs),g=m!=null&&xZ(f)&&u===!0,v=y.encodeLocation?y.encodeLocation(f).pathname:f.pathname,x=p.pathname,w=m&&m.navigation&&m.navigation.location?m.navigation.location.pathname:null;i||(x=x.toLowerCase(),w=w?w.toLowerCase():null,v=v.toLowerCase()),w&&b&&(w=nu(w,b)||w);const _=v!=="/"&&v.endsWith("/")?v.length-1:v.length;let E=x===v||!a&&x.startsWith(v)&&x.charAt(_)==="/",O=w!=null&&(w===v||!a&&w.startsWith(v)&&w.charAt(v.length)==="/"),S={isActive:E,isPending:O,isTransitioning:g},P=E?n:void 0,C;typeof s=="function"?C=s(S):C=[s,E?"active":null,O?"pending":null,g?"transitioning":null].filter(Boolean).join(" ");let I=typeof o=="function"?o(S):o;return $.createElement(de,Qf({},h,{"aria-current":P,className:C,ref:r,style:I,to:l,viewTransition:u}),typeof d=="function"?d(S):d)});var jO;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(jO||(jO={}));var gI;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(gI||(gI={}));function yZ(t){let e=$.useContext(Dp);return e||bt(!1),e}function bZ(t,e){let{target:r,replace:n,state:i,preventScrollReset:s,relative:a,viewTransition:o}=e===void 0?{}:e,l=sn(),u=hs(),d=Mp(t,{relative:a});return $.useCallback(h=>{if(oZ(h,r)){h.preventDefault();let f=n!==void 0?n:Yf(u)===Yf(d);l(t,{replace:f,state:i,preventScrollReset:s,relative:a,viewTransition:o})}},[u,l,d,n,i,r,t,s,a,o])}function wZ(t){let e=$.useRef(RO(t)),r=$.useRef(!1),n=hs(),i=$.useMemo(()=>lZ(n.search,r.current?null:e.current),[n.search]),s=sn(),a=$.useCallback((o,l)=>{const u=RO(typeof o=="function"?o(i):o);r.current=!0,s("?"+u,l)},[s,i]);return[i,a]}function xZ(t,e){e===void 0&&(e={});let r=$.useContext(hZ);r==null&&bt(!1);let{basename:n}=yZ(jO.useViewTransitionState),i=Mp(t,{relative:e.relative});if(!r.isTransitioning)return!1;let s=nu(r.currentLocation.pathname,n)||r.currentLocation.pathname,a=nu(r.nextLocation.pathname,n)||r.nextLocation.pathname;return TO(i.pathname,a)!=null||TO(i.pathname,s)!=null}var Ro=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},_Z={setTimeout:(t,e)=>setTimeout(t,e),clearTimeout:t=>clearTimeout(t),setInterval:(t,e)=>setInterval(t,e),clearInterval:t=>clearInterval(t)},Rs,OP,KU,SZ=(KU=class{constructor(){le(this,Rs,_Z);le(this,OP,!1)}setTimeoutProvider(t){ee(this,Rs,t)}setTimeout(t,e){return R(this,Rs).setTimeout(t,e)}clearTimeout(t){R(this,Rs).clearTimeout(t)}setInterval(t,e){return R(this,Rs).setInterval(t,e)}clearInterval(t){R(this,Rs).clearInterval(t)}},Rs=new WeakMap,OP=new WeakMap,KU),ka=new SZ;function EZ(t){setTimeout(t,0)}var fo=typeof window>"u"||"Deno"in globalThis;function Sr(){}function OZ(t,e){return typeof t=="function"?t(e):t}function $O(t){return typeof t=="number"&&t>=0&&t!==1/0}function NH(t,e){return Math.max(t+(e||0)-Date.now(),0)}function ea(t,e){return typeof t=="function"?t(e):t}function Cn(t,e){return typeof t=="function"?t(e):t}function yI(t,e){const{type:r="all",exact:n,fetchStatus:i,predicate:s,queryKey:a,stale:o}=t;if(a){if(n){if(e.queryHash!==SC(a,e.options))return!1}else if(!od(e.queryKey,a))return!1}if(r!=="all"){const l=e.isActive();if(r==="active"&&!l||r==="inactive"&&l)return!1}return!(typeof o=="boolean"&&e.isStale()!==o||i&&i!==e.state.fetchStatus||s&&!s(e))}function bI(t,e){const{exact:r,status:n,predicate:i,mutationKey:s}=t;if(s){if(!e.options.mutationKey)return!1;if(r){if(po(e.options.mutationKey)!==po(s))return!1}else if(!od(e.options.mutationKey,s))return!1}return!(n&&e.state.status!==n||i&&!i(e))}function SC(t,e){return((e==null?void 0:e.queryKeyHashFn)||po)(t)}function po(t){return JSON.stringify(t,(e,r)=>kO(r)?Object.keys(r).sort().reduce((n,i)=>(n[i]=r[i],n),{}):r)}function od(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?Object.keys(e).every(r=>od(t[r],e[r])):!1}var PZ=Object.prototype.hasOwnProperty;function EC(t,e){if(t===e)return t;const r=wI(t)&&wI(e);if(!r&&!(kO(t)&&kO(e)))return e;const i=(r?t:Object.keys(t)).length,s=r?e:Object.keys(e),a=s.length,o=r?new Array(a):{};let l=0;for(let u=0;u<a;u++){const d=r?u:s[u],h=t[d],f=e[d];if(h===f){o[d]=h,(r?u<i:PZ.call(t,d))&&l++;continue}if(h===null||f===null||typeof h!="object"||typeof f!="object"){o[d]=f;continue}const p=EC(h,f);o[d]=p,p===h&&l++}return i===a&&l===i?t:o}function ld(t,e){if(!e||Object.keys(t).length!==Object.keys(e).length)return!1;for(const r in t)if(t[r]!==e[r])return!1;return!0}function wI(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function kO(t){if(!xI(t))return!1;const e=t.constructor;if(e===void 0)return!0;const r=e.prototype;return!(!xI(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function xI(t){return Object.prototype.toString.call(t)==="[object Object]"}function CZ(t){return new Promise(e=>{ka.setTimeout(e,t)})}function DO(t,e,r){return typeof r.structuralSharing=="function"?r.structuralSharing(t,e):r.structuralSharing!==!1?EC(t,e):e}function NZ(t,e,r=0){const n=[...t,e];return r&&n.length>r?n.slice(1):n}function TZ(t,e,r=0){const n=[e,...t];return r&&n.length>r?n.slice(0,-1):n}var OC=Symbol();function TH(t,e){return!t.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!t.queryFn||t.queryFn===OC?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}function PC(t,e){return typeof t=="function"?t(...e):!!t}function IZ(t,e,r){let n=!1,i;return Object.defineProperty(t,"signal",{enumerable:!0,get:()=>(i??(i=e()),n||(n=!0,i.aborted?r():i.addEventListener("abort",r,{once:!0})),i)}),t}var za,js,Dl,GU,RZ=(GU=class extends Ro{constructor(){super();le(this,za);le(this,js);le(this,Dl);ee(this,Dl,e=>{if(!fo&&window.addEventListener){const r=()=>e();return window.addEventListener("visibilitychange",r,!1),()=>{window.removeEventListener("visibilitychange",r)}}})}onSubscribe(){R(this,js)||this.setEventListener(R(this,Dl))}onUnsubscribe(){var e;this.hasListeners()||((e=R(this,js))==null||e.call(this),ee(this,js,void 0))}setEventListener(e){var r;ee(this,Dl,e),(r=R(this,js))==null||r.call(this),ee(this,js,e(n=>{typeof n=="boolean"?this.setFocused(n):this.onFocus()}))}setFocused(e){R(this,za)!==e&&(ee(this,za,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(r=>{r(e)})}isFocused(){var e;return typeof R(this,za)=="boolean"?R(this,za):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},za=new WeakMap,js=new WeakMap,Dl=new WeakMap,GU),CC=new RZ;function qO(){let t,e;const r=new Promise((i,s)=>{t=i,e=s});r.status="pending",r.catch(()=>{});function n(i){Object.assign(r,i),delete r.resolve,delete r.reject}return r.resolve=i=>{n({status:"fulfilled",value:i}),t(i)},r.reject=i=>{n({status:"rejected",reason:i}),e(i)},r}var jZ=EZ;function $Z(){let t=[],e=0,r=o=>{o()},n=o=>{o()},i=jZ;const s=o=>{e?t.push(o):i(()=>{r(o)})},a=()=>{const o=t;t=[],o.length&&i(()=>{n(()=>{o.forEach(l=>{r(l)})})})};return{batch:o=>{let l;e++;try{l=o()}finally{e--,e||a()}return l},batchCalls:o=>(...l)=>{s(()=>{o(...l)})},schedule:s,setNotifyFunction:o=>{r=o},setBatchNotifyFunction:o=>{n=o},setScheduler:o=>{i=o}}}var Nt=$Z(),ql,$s,Ml,YU,kZ=(YU=class extends Ro{constructor(){super();le(this,ql,!0);le(this,$s);le(this,Ml);ee(this,Ml,e=>{if(!fo&&window.addEventListener){const r=()=>e(!0),n=()=>e(!1);return window.addEventListener("online",r,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",r),window.removeEventListener("offline",n)}}})}onSubscribe(){R(this,$s)||this.setEventListener(R(this,Ml))}onUnsubscribe(){var e;this.hasListeners()||((e=R(this,$s))==null||e.call(this),ee(this,$s,void 0))}setEventListener(e){var r;ee(this,Ml,e),(r=R(this,$s))==null||r.call(this),ee(this,$s,e(this.setOnline.bind(this)))}setOnline(e){R(this,ql)!==e&&(ee(this,ql,e),this.listeners.forEach(n=>{n(e)}))}isOnline(){return R(this,ql)}},ql=new WeakMap,$s=new WeakMap,Ml=new WeakMap,YU),Xf=new kZ;function DZ(t){return Math.min(1e3*2**t,3e4)}function IH(t){return(t??"online")==="online"?Xf.isOnline():!0}var MO=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function RH(t){let e=!1,r=0,n;const i=qO(),s=()=>i.status!=="pending",a=y=>{var b;if(!s()){const g=new MO(y);f(g),(b=t.onCancel)==null||b.call(t,g)}},o=()=>{e=!0},l=()=>{e=!1},u=()=>CC.isFocused()&&(t.networkMode==="always"||Xf.isOnline())&&t.canRun(),d=()=>IH(t.networkMode)&&t.canRun(),h=y=>{s()||(n==null||n(),i.resolve(y))},f=y=>{s()||(n==null||n(),i.reject(y))},p=()=>new Promise(y=>{var b;n=g=>{(s()||u())&&y(g)},(b=t.onPause)==null||b.call(t)}).then(()=>{var y;n=void 0,s()||(y=t.onContinue)==null||y.call(t)}),m=()=>{if(s())return;let y;const b=r===0?t.initialPromise:void 0;try{y=b??t.fn()}catch(g){y=Promise.reject(g)}Promise.resolve(y).then(h).catch(g=>{var E;if(s())return;const v=t.retry??(fo?0:3),x=t.retryDelay??DZ,w=typeof x=="function"?x(r,g):x,_=v===!0||typeof v=="number"&&r<v||typeof v=="function"&&v(r,g);if(e||!_){f(g);return}r++,(E=t.onFail)==null||E.call(t,r,g),CZ(w).then(()=>u()?void 0:p()).then(()=>{e?f(g):m()})})};return{promise:i,status:()=>i.status,cancel:a,continue:()=>(n==null||n(),i),cancelRetry:o,continueRetry:l,canStart:d,start:()=>(d()?m():p().then(m),i)}}var Ua,QU,jH=(QU=class{constructor(){le(this,Ua)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),$O(this.gcTime)&&ee(this,Ua,ka.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(fo?1/0:5*60*1e3))}clearGcTimeout(){R(this,Ua)&&(ka.clearTimeout(R(this,Ua)),ee(this,Ua,void 0))}},Ua=new WeakMap,QU),Wa,Al,On,Ha,rr,Sd,Va,Gn,qi,XU,qZ=(XU=class extends jH{constructor(e){super();le(this,Gn);le(this,Wa);le(this,Al);le(this,On);le(this,Ha);le(this,rr);le(this,Sd);le(this,Va);ee(this,Va,!1),ee(this,Sd,e.defaultOptions),this.setOptions(e.options),this.observers=[],ee(this,Ha,e.client),ee(this,On,R(this,Ha).getQueryCache()),this.queryKey=e.queryKey,this.queryHash=e.queryHash,ee(this,Wa,SI(this.options)),this.state=e.state??R(this,Wa),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var e;return(e=R(this,rr))==null?void 0:e.promise}setOptions(e){if(this.options={...R(this,Sd),...e},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const r=SI(this.options);r.data!==void 0&&(this.setState(_I(r.data,r.dataUpdatedAt)),ee(this,Wa,r))}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&R(this,On).remove(this)}setData(e,r){const n=DO(this.state.data,e,this.options);return Se(this,Gn,qi).call(this,{data:n,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),n}setState(e,r){Se(this,Gn,qi).call(this,{type:"setState",state:e,setStateOptions:r})}cancel(e){var n,i;const r=(n=R(this,rr))==null?void 0:n.promise;return(i=R(this,rr))==null||i.cancel(e),r?r.then(Sr).catch(Sr):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(R(this,Wa))}isActive(){return this.observers.some(e=>Cn(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===OC||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(e=>ea(e.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(e=0){return this.state.data===void 0?!0:e==="static"?!1:this.state.isInvalidated?!0:!NH(this.state.dataUpdatedAt,e)}onFocus(){var r;const e=this.observers.find(n=>n.shouldFetchOnWindowFocus());e==null||e.refetch({cancelRefetch:!1}),(r=R(this,rr))==null||r.continue()}onOnline(){var r;const e=this.observers.find(n=>n.shouldFetchOnReconnect());e==null||e.refetch({cancelRefetch:!1}),(r=R(this,rr))==null||r.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),R(this,On).notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(r=>r!==e),this.observers.length||(R(this,rr)&&(R(this,Va)?R(this,rr).cancel({revert:!0}):R(this,rr).cancelRetry()),this.scheduleGc()),R(this,On).notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||Se(this,Gn,qi).call(this,{type:"invalidate"})}async fetch(e,r){var l,u,d,h,f,p,m,y,b,g,v,x;if(this.state.fetchStatus!=="idle"&&((l=R(this,rr))==null?void 0:l.status())!=="rejected"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(R(this,rr))return R(this,rr).continueRetry(),R(this,rr).promise}if(e&&this.setOptions(e),!this.options.queryFn){const w=this.observers.find(_=>_.options.queryFn);w&&this.setOptions(w.options)}const n=new AbortController,i=w=>{Object.defineProperty(w,"signal",{enumerable:!0,get:()=>(ee(this,Va,!0),n.signal)})},s=()=>{const w=TH(this.options,r),E=(()=>{const O={client:R(this,Ha),queryKey:this.queryKey,meta:this.meta};return i(O),O})();return ee(this,Va,!1),this.options.persister?this.options.persister(w,E,this):w(E)},o=(()=>{const w={fetchOptions:r,options:this.options,queryKey:this.queryKey,client:R(this,Ha),state:this.state,fetchFn:s};return i(w),w})();(u=this.options.behavior)==null||u.onFetch(o,this),ee(this,Al,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((d=o.fetchOptions)==null?void 0:d.meta))&&Se(this,Gn,qi).call(this,{type:"fetch",meta:(h=o.fetchOptions)==null?void 0:h.meta}),ee(this,rr,RH({initialPromise:r==null?void 0:r.initialPromise,fn:o.fetchFn,onCancel:w=>{w instanceof MO&&w.revert&&this.setState({...R(this,Al),fetchStatus:"idle"}),n.abort()},onFail:(w,_)=>{Se(this,Gn,qi).call(this,{type:"failed",failureCount:w,error:_})},onPause:()=>{Se(this,Gn,qi).call(this,{type:"pause"})},onContinue:()=>{Se(this,Gn,qi).call(this,{type:"continue"})},retry:o.options.retry,retryDelay:o.options.retryDelay,networkMode:o.options.networkMode,canRun:()=>!0}));try{const w=await R(this,rr).start();if(w===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(w),(p=(f=R(this,On).config).onSuccess)==null||p.call(f,w,this),(y=(m=R(this,On).config).onSettled)==null||y.call(m,w,this.state.error,this),w}catch(w){if(w instanceof MO){if(w.silent)return R(this,rr).promise;if(w.revert){if(this.state.data===void 0)throw w;return this.state.data}}throw Se(this,Gn,qi).call(this,{type:"error",error:w}),(g=(b=R(this,On).config).onError)==null||g.call(b,w,this),(x=(v=R(this,On).config).onSettled)==null||x.call(v,this.state.data,w,this),w}finally{this.scheduleGc()}}},Wa=new WeakMap,Al=new WeakMap,On=new WeakMap,Ha=new WeakMap,rr=new WeakMap,Sd=new WeakMap,Va=new WeakMap,Gn=new WeakSet,qi=function(e){const r=n=>{switch(e.type){case"failed":return{...n,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...$H(n.data,this.options),fetchMeta:e.meta??null};case"success":const i={...n,..._I(e.data,e.dataUpdatedAt),dataUpdateCount:n.dataUpdateCount+1,...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return ee(this,Al,e.manual?i:void 0),i;case"error":const s=e.error;return{...n,error:s,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:s,fetchStatus:"idle",status:"error",isInvalidated:!0};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...e.state}}};this.state=r(this.state),Nt.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),R(this,On).notify({query:this,type:"updated",action:e})})},XU);function $H(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:IH(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function _I(t,e){return{data:t,dataUpdatedAt:e??Date.now(),error:null,isInvalidated:!1,status:"success"}}function SI(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,r=e!==void 0,n=r?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:r?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var Wr,Fe,Ed,Ir,Ka,Fl,Fi,ks,Od,Ll,Bl,Ga,Ya,Ds,zl,We,xc,AO,FO,LO,BO,zO,UO,WO,kH,JU,NC=(JU=class extends Ro{constructor(e,r){super();le(this,We);le(this,Wr);le(this,Fe);le(this,Ed);le(this,Ir);le(this,Ka);le(this,Fl);le(this,Fi);le(this,ks);le(this,Od);le(this,Ll);le(this,Bl);le(this,Ga);le(this,Ya);le(this,Ds);le(this,zl,new Set);this.options=r,ee(this,Wr,e),ee(this,ks,null),ee(this,Fi,qO()),this.bindMethods(),this.setOptions(r)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(R(this,Fe).addObserver(this),EI(R(this,Fe),this.options)?Se(this,We,xc).call(this):this.updateResult(),Se(this,We,BO).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return HO(R(this,Fe),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return HO(R(this,Fe),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,Se(this,We,zO).call(this),Se(this,We,UO).call(this),R(this,Fe).removeObserver(this)}setOptions(e){const r=this.options,n=R(this,Fe);if(this.options=R(this,Wr).defaultQueryOptions(e),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof Cn(this.options.enabled,R(this,Fe))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");Se(this,We,WO).call(this),R(this,Fe).setOptions(this.options),r._defaulted&&!ld(this.options,r)&&R(this,Wr).getQueryCache().notify({type:"observerOptionsUpdated",query:R(this,Fe),observer:this});const i=this.hasListeners();i&&OI(R(this,Fe),n,this.options,r)&&Se(this,We,xc).call(this),this.updateResult(),i&&(R(this,Fe)!==n||Cn(this.options.enabled,R(this,Fe))!==Cn(r.enabled,R(this,Fe))||ea(this.options.staleTime,R(this,Fe))!==ea(r.staleTime,R(this,Fe)))&&Se(this,We,AO).call(this);const s=Se(this,We,FO).call(this);i&&(R(this,Fe)!==n||Cn(this.options.enabled,R(this,Fe))!==Cn(r.enabled,R(this,Fe))||s!==R(this,Ds))&&Se(this,We,LO).call(this,s)}getOptimisticResult(e){const r=R(this,Wr).getQueryCache().build(R(this,Wr),e),n=this.createResult(r,e);return AZ(this,n)&&(ee(this,Ir,n),ee(this,Fl,this.options),ee(this,Ka,R(this,Fe).state)),n}getCurrentResult(){return R(this,Ir)}trackResult(e,r){return new Proxy(e,{get:(n,i)=>(this.trackProp(i),r==null||r(i),i==="promise"&&(this.trackProp("data"),!this.options.experimental_prefetchInRender&&R(this,Fi).status==="pending"&&R(this,Fi).reject(new Error("experimental_prefetchInRender feature flag is not enabled"))),Reflect.get(n,i))})}trackProp(e){R(this,zl).add(e)}getCurrentQuery(){return R(this,Fe)}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){const r=R(this,Wr).defaultQueryOptions(e),n=R(this,Wr).getQueryCache().build(R(this,Wr),r);return n.fetch().then(()=>this.createResult(n,r))}fetch(e){return Se(this,We,xc).call(this,{...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),R(this,Ir)))}createResult(e,r){var P;const n=R(this,Fe),i=this.options,s=R(this,Ir),a=R(this,Ka),o=R(this,Fl),u=e!==n?e.state:R(this,Ed),{state:d}=e;let h={...d},f=!1,p;if(r._optimisticResults){const C=this.hasListeners(),I=!C&&EI(e,r),N=C&&OI(e,n,r,i);(I||N)&&(h={...h,...$H(d.data,e.options)}),r._optimisticResults==="isRestoring"&&(h.fetchStatus="idle")}let{error:m,errorUpdatedAt:y,status:b}=h;p=h.data;let g=!1;if(r.placeholderData!==void 0&&p===void 0&&b==="pending"){let C;s!=null&&s.isPlaceholderData&&r.placeholderData===(o==null?void 0:o.placeholderData)?(C=s.data,g=!0):C=typeof r.placeholderData=="function"?r.placeholderData((P=R(this,Bl))==null?void 0:P.state.data,R(this,Bl)):r.placeholderData,C!==void 0&&(b="success",p=DO(s==null?void 0:s.data,C,r),f=!0)}if(r.select&&p!==void 0&&!g)if(s&&p===(a==null?void 0:a.data)&&r.select===R(this,Od))p=R(this,Ll);else try{ee(this,Od,r.select),p=r.select(p),p=DO(s==null?void 0:s.data,p,r),ee(this,Ll,p),ee(this,ks,null)}catch(C){ee(this,ks,C)}R(this,ks)&&(m=R(this,ks),p=R(this,Ll),y=Date.now(),b="error");const v=h.fetchStatus==="fetching",x=b==="pending",w=b==="error",_=x&&v,E=p!==void 0,S={status:b,fetchStatus:h.fetchStatus,isPending:x,isSuccess:b==="success",isError:w,isInitialLoading:_,isLoading:_,data:p,dataUpdatedAt:h.dataUpdatedAt,error:m,errorUpdatedAt:y,failureCount:h.fetchFailureCount,failureReason:h.fetchFailureReason,errorUpdateCount:h.errorUpdateCount,isFetched:h.dataUpdateCount>0||h.errorUpdateCount>0,isFetchedAfterMount:h.dataUpdateCount>u.dataUpdateCount||h.errorUpdateCount>u.errorUpdateCount,isFetching:v,isRefetching:v&&!x,isLoadingError:w&&!E,isPaused:h.fetchStatus==="paused",isPlaceholderData:f,isRefetchError:w&&E,isStale:TC(e,r),refetch:this.refetch,promise:R(this,Fi),isEnabled:Cn(r.enabled,e)!==!1};if(this.options.experimental_prefetchInRender){const C=T=>{S.status==="error"?T.reject(S.error):S.data!==void 0&&T.resolve(S.data)},I=()=>{const T=ee(this,Fi,S.promise=qO());C(T)},N=R(this,Fi);switch(N.status){case"pending":e.queryHash===n.queryHash&&C(N);break;case"fulfilled":(S.status==="error"||S.data!==N.value)&&I();break;case"rejected":(S.status!=="error"||S.error!==N.reason)&&I();break}}return S}updateResult(){const e=R(this,Ir),r=this.createResult(R(this,Fe),this.options);if(ee(this,Ka,R(this,Fe).state),ee(this,Fl,this.options),R(this,Ka).data!==void 0&&ee(this,Bl,R(this,Fe)),ld(r,e))return;ee(this,Ir,r);const n=()=>{if(!e)return!0;const{notifyOnChangeProps:i}=this.options,s=typeof i=="function"?i():i;if(s==="all"||!s&&!R(this,zl).size)return!0;const a=new Set(s??R(this,zl));return this.options.throwOnError&&a.add("error"),Object.keys(R(this,Ir)).some(o=>{const l=o;return R(this,Ir)[l]!==e[l]&&a.has(l)})};Se(this,We,kH).call(this,{listeners:n()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&Se(this,We,BO).call(this)}},Wr=new WeakMap,Fe=new WeakMap,Ed=new WeakMap,Ir=new WeakMap,Ka=new WeakMap,Fl=new WeakMap,Fi=new WeakMap,ks=new WeakMap,Od=new WeakMap,Ll=new WeakMap,Bl=new WeakMap,Ga=new WeakMap,Ya=new WeakMap,Ds=new WeakMap,zl=new WeakMap,We=new WeakSet,xc=function(e){Se(this,We,WO).call(this);let r=R(this,Fe).fetch(this.options,e);return e!=null&&e.throwOnError||(r=r.catch(Sr)),r},AO=function(){Se(this,We,zO).call(this);const e=ea(this.options.staleTime,R(this,Fe));if(fo||R(this,Ir).isStale||!$O(e))return;const n=NH(R(this,Ir).dataUpdatedAt,e)+1;ee(this,Ga,ka.setTimeout(()=>{R(this,Ir).isStale||this.updateResult()},n))},FO=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(R(this,Fe)):this.options.refetchInterval)??!1},LO=function(e){Se(this,We,UO).call(this),ee(this,Ds,e),!(fo||Cn(this.options.enabled,R(this,Fe))===!1||!$O(R(this,Ds))||R(this,Ds)===0)&&ee(this,Ya,ka.setInterval(()=>{(this.options.refetchIntervalInBackground||CC.isFocused())&&Se(this,We,xc).call(this)},R(this,Ds)))},BO=function(){Se(this,We,AO).call(this),Se(this,We,LO).call(this,Se(this,We,FO).call(this))},zO=function(){R(this,Ga)&&(ka.clearTimeout(R(this,Ga)),ee(this,Ga,void 0))},UO=function(){R(this,Ya)&&(ka.clearInterval(R(this,Ya)),ee(this,Ya,void 0))},WO=function(){const e=R(this,Wr).getQueryCache().build(R(this,Wr),this.options);if(e===R(this,Fe))return;const r=R(this,Fe);ee(this,Fe,e),ee(this,Ed,e.state),this.hasListeners()&&(r==null||r.removeObserver(this),e.addObserver(this))},kH=function(e){Nt.batch(()=>{e.listeners&&this.listeners.forEach(r=>{r(R(this,Ir))}),R(this,Wr).getQueryCache().notify({query:R(this,Fe),type:"observerResultsUpdated"})})},JU);function MZ(t,e){return Cn(e.enabled,t)!==!1&&t.state.data===void 0&&!(t.state.status==="error"&&e.retryOnMount===!1)}function EI(t,e){return MZ(t,e)||t.state.data!==void 0&&HO(t,e,e.refetchOnMount)}function HO(t,e,r){if(Cn(e.enabled,t)!==!1&&ea(e.staleTime,t)!=="static"){const n=typeof r=="function"?r(t):r;return n==="always"||n!==!1&&TC(t,e)}return!1}function OI(t,e,r,n){return(t!==e||Cn(n.enabled,t)===!1)&&(!r.suspense||t.state.status!=="error")&&TC(t,r)}function TC(t,e){return Cn(e.enabled,t)!==!1&&t.isStaleByTime(ea(e.staleTime,t))}function AZ(t,e){return!ld(t.getCurrentResult(),e)}function PI(t){return{onFetch:(e,r)=>{var d,h,f,p,m;const n=e.options,i=(f=(h=(d=e.fetchOptions)==null?void 0:d.meta)==null?void 0:h.fetchMore)==null?void 0:f.direction,s=((p=e.state.data)==null?void 0:p.pages)||[],a=((m=e.state.data)==null?void 0:m.pageParams)||[];let o={pages:[],pageParams:[]},l=0;const u=async()=>{let y=!1;const b=x=>{IZ(x,()=>e.signal,()=>y=!0)},g=TH(e.options,e.fetchOptions),v=async(x,w,_)=>{if(y)return Promise.reject();if(w==null&&x.pages.length)return Promise.resolve(x);const O=(()=>{const I={client:e.client,queryKey:e.queryKey,pageParam:w,direction:_?"backward":"forward",meta:e.options.meta};return b(I),I})(),S=await g(O),{maxPages:P}=e.options,C=_?TZ:NZ;return{pages:C(x.pages,S,P),pageParams:C(x.pageParams,w,P)}};if(i&&s.length){const x=i==="backward",w=x?FZ:CI,_={pages:s,pageParams:a},E=w(n,_);o=await v(_,E,x)}else{const x=t??s.length;do{const w=l===0?a[0]??n.initialPageParam:CI(n,o);if(l>0&&w==null)break;o=await v(o,w),l++}while(l<x)}return o};e.options.persister?e.fetchFn=()=>{var y,b;return(b=(y=e.options).persister)==null?void 0:b.call(y,u,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},r)}:e.fetchFn=u}}}function CI(t,{pages:e,pageParams:r}){const n=e.length-1;return e.length>0?t.getNextPageParam(e[n],e,r[n],r):void 0}function FZ(t,{pages:e,pageParams:r}){var n;return e.length>0?(n=t.getPreviousPageParam)==null?void 0:n.call(t,e[0],e,r[0],r):void 0}var Pd,vi,Rr,Qa,gi,_s,ZU,LZ=(ZU=class extends jH{constructor(e){super();le(this,gi);le(this,Pd);le(this,vi);le(this,Rr);le(this,Qa);ee(this,Pd,e.client),this.mutationId=e.mutationId,ee(this,Rr,e.mutationCache),ee(this,vi,[]),this.state=e.state||DH(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){R(this,vi).includes(e)||(R(this,vi).push(e),this.clearGcTimeout(),R(this,Rr).notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){ee(this,vi,R(this,vi).filter(r=>r!==e)),this.scheduleGc(),R(this,Rr).notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){R(this,vi).length||(this.state.status==="pending"?this.scheduleGc():R(this,Rr).remove(this))}continue(){var e;return((e=R(this,Qa))==null?void 0:e.continue())??this.execute(this.state.variables)}async execute(e){var a,o,l,u,d,h,f,p,m,y,b,g,v,x,w,_,E,O,S,P;const r=()=>{Se(this,gi,_s).call(this,{type:"continue"})},n={client:R(this,Pd),meta:this.options.meta,mutationKey:this.options.mutationKey};ee(this,Qa,RH({fn:()=>this.options.mutationFn?this.options.mutationFn(e,n):Promise.reject(new Error("No mutationFn found")),onFail:(C,I)=>{Se(this,gi,_s).call(this,{type:"failed",failureCount:C,error:I})},onPause:()=>{Se(this,gi,_s).call(this,{type:"pause"})},onContinue:r,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>R(this,Rr).canRun(this)}));const i=this.state.status==="pending",s=!R(this,Qa).canStart();try{if(i)r();else{Se(this,gi,_s).call(this,{type:"pending",variables:e,isPaused:s}),await((o=(a=R(this,Rr).config).onMutate)==null?void 0:o.call(a,e,this,n));const I=await((u=(l=this.options).onMutate)==null?void 0:u.call(l,e,n));I!==this.state.context&&Se(this,gi,_s).call(this,{type:"pending",context:I,variables:e,isPaused:s})}const C=await R(this,Qa).start();return await((h=(d=R(this,Rr).config).onSuccess)==null?void 0:h.call(d,C,e,this.state.context,this,n)),await((p=(f=this.options).onSuccess)==null?void 0:p.call(f,C,e,this.state.context,n)),await((y=(m=R(this,Rr).config).onSettled)==null?void 0:y.call(m,C,null,this.state.variables,this.state.context,this,n)),await((g=(b=this.options).onSettled)==null?void 0:g.call(b,C,null,e,this.state.context,n)),Se(this,gi,_s).call(this,{type:"success",data:C}),C}catch(C){try{await((x=(v=R(this,Rr).config).onError)==null?void 0:x.call(v,C,e,this.state.context,this,n))}catch(I){Promise.reject(I)}try{await((_=(w=this.options).onError)==null?void 0:_.call(w,C,e,this.state.context,n))}catch(I){Promise.reject(I)}try{await((O=(E=R(this,Rr).config).onSettled)==null?void 0:O.call(E,void 0,C,this.state.variables,this.state.context,this,n))}catch(I){Promise.reject(I)}try{await((P=(S=this.options).onSettled)==null?void 0:P.call(S,void 0,C,e,this.state.context,n))}catch(I){Promise.reject(I)}throw Se(this,gi,_s).call(this,{type:"error",error:C}),C}finally{R(this,Rr).runNext(this)}}},Pd=new WeakMap,vi=new WeakMap,Rr=new WeakMap,Qa=new WeakMap,gi=new WeakSet,_s=function(e){const r=n=>{switch(e.type){case"failed":return{...n,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...n,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:e.error,failureCount:n.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=r(this.state),Nt.batch(()=>{R(this,vi).forEach(n=>{n.onMutationUpdate(e)}),R(this,Rr).notify({mutation:this,type:"updated",action:e})})},ZU);function DH(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Li,Yn,Cd,eW,BZ=(eW=class extends Ro{constructor(e={}){super();le(this,Li);le(this,Yn);le(this,Cd);this.config=e,ee(this,Li,new Set),ee(this,Yn,new Map),ee(this,Cd,0)}build(e,r,n){const i=new LZ({client:e,mutationCache:this,mutationId:++Ph(this,Cd)._,options:e.defaultMutationOptions(r),state:n});return this.add(i),i}add(e){R(this,Li).add(e);const r=Wh(e);if(typeof r=="string"){const n=R(this,Yn).get(r);n?n.push(e):R(this,Yn).set(r,[e])}this.notify({type:"added",mutation:e})}remove(e){if(R(this,Li).delete(e)){const r=Wh(e);if(typeof r=="string"){const n=R(this,Yn).get(r);if(n)if(n.length>1){const i=n.indexOf(e);i!==-1&&n.splice(i,1)}else n[0]===e&&R(this,Yn).delete(r)}}this.notify({type:"removed",mutation:e})}canRun(e){const r=Wh(e);if(typeof r=="string"){const n=R(this,Yn).get(r),i=n==null?void 0:n.find(s=>s.state.status==="pending");return!i||i===e}else return!0}runNext(e){var n;const r=Wh(e);if(typeof r=="string"){const i=(n=R(this,Yn).get(r))==null?void 0:n.find(s=>s!==e&&s.state.isPaused);return(i==null?void 0:i.continue())??Promise.resolve()}else return Promise.resolve()}clear(){Nt.batch(()=>{R(this,Li).forEach(e=>{this.notify({type:"removed",mutation:e})}),R(this,Li).clear(),R(this,Yn).clear()})}getAll(){return Array.from(R(this,Li))}find(e){const r={exact:!0,...e};return this.getAll().find(n=>bI(r,n))}findAll(e={}){return this.getAll().filter(r=>bI(e,r))}notify(e){Nt.batch(()=>{this.listeners.forEach(r=>{r(e)})})}resumePausedMutations(){const e=this.getAll().filter(r=>r.state.isPaused);return Nt.batch(()=>Promise.all(e.map(r=>r.continue().catch(Sr))))}},Li=new WeakMap,Yn=new WeakMap,Cd=new WeakMap,eW);function Wh(t){var e;return(e=t.options.scope)==null?void 0:e.id}var Bi,qs,Hr,zi,ns,mf,VO,tW,zZ=(tW=class extends Ro{constructor(e,r){super();le(this,ns);le(this,Bi);le(this,qs);le(this,Hr);le(this,zi);ee(this,Bi,e),this.setOptions(r),this.bindMethods(),Se(this,ns,mf).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(e){var n;const r=this.options;this.options=R(this,Bi).defaultMutationOptions(e),ld(this.options,r)||R(this,Bi).getMutationCache().notify({type:"observerOptionsUpdated",mutation:R(this,Hr),observer:this}),r!=null&&r.mutationKey&&this.options.mutationKey&&po(r.mutationKey)!==po(this.options.mutationKey)?this.reset():((n=R(this,Hr))==null?void 0:n.state.status)==="pending"&&R(this,Hr).setOptions(this.options)}onUnsubscribe(){var e;this.hasListeners()||(e=R(this,Hr))==null||e.removeObserver(this)}onMutationUpdate(e){Se(this,ns,mf).call(this),Se(this,ns,VO).call(this,e)}getCurrentResult(){return R(this,qs)}reset(){var e;(e=R(this,Hr))==null||e.removeObserver(this),ee(this,Hr,void 0),Se(this,ns,mf).call(this),Se(this,ns,VO).call(this)}mutate(e,r){var n;return ee(this,zi,r),(n=R(this,Hr))==null||n.removeObserver(this),ee(this,Hr,R(this,Bi).getMutationCache().build(R(this,Bi),this.options)),R(this,Hr).addObserver(this),R(this,Hr).execute(e)}},Bi=new WeakMap,qs=new WeakMap,Hr=new WeakMap,zi=new WeakMap,ns=new WeakSet,mf=function(){var r;const e=((r=R(this,Hr))==null?void 0:r.state)??DH();ee(this,qs,{...e,isPending:e.status==="pending",isSuccess:e.status==="success",isError:e.status==="error",isIdle:e.status==="idle",mutate:this.mutate,reset:this.reset})},VO=function(e){Nt.batch(()=>{var r,n,i,s,a,o,l,u;if(R(this,zi)&&this.hasListeners()){const d=R(this,qs).variables,h=R(this,qs).context,f={client:R(this,Bi),meta:this.options.meta,mutationKey:this.options.mutationKey};if((e==null?void 0:e.type)==="success"){try{(n=(r=R(this,zi)).onSuccess)==null||n.call(r,e.data,d,h,f)}catch(p){Promise.reject(p)}try{(s=(i=R(this,zi)).onSettled)==null||s.call(i,e.data,null,d,h,f)}catch(p){Promise.reject(p)}}else if((e==null?void 0:e.type)==="error"){try{(o=(a=R(this,zi)).onError)==null||o.call(a,e.error,d,h,f)}catch(p){Promise.reject(p)}try{(u=(l=R(this,zi)).onSettled)==null||u.call(l,void 0,e.error,d,h,f)}catch(p){Promise.reject(p)}}}this.listeners.forEach(d=>{d(R(this,qs))})})},tW);function NI(t,e){const r=new Set(e);return t.filter(n=>!r.has(n))}function UZ(t,e,r){const n=t.slice(0);return n[e]=r,n}var Ul,cn,Wl,Hl,Pn,Ms,Nd,Td,Id,yr,KO,GO,YO,QO,XO,rW,WZ=(rW=class extends Ro{constructor(e,r,n){super();le(this,yr);le(this,Ul);le(this,cn);le(this,Wl);le(this,Hl);le(this,Pn);le(this,Ms);le(this,Nd);le(this,Td);le(this,Id,[]);ee(this,Ul,e),ee(this,Hl,n),ee(this,Wl,[]),ee(this,Pn,[]),ee(this,cn,[]),this.setQueries(r)}onSubscribe(){this.listeners.size===1&&R(this,Pn).forEach(e=>{e.subscribe(r=>{Se(this,yr,QO).call(this,e,r)})})}onUnsubscribe(){this.listeners.size||this.destroy()}destroy(){this.listeners=new Set,R(this,Pn).forEach(e=>{e.destroy()})}setQueries(e,r){ee(this,Wl,e),ee(this,Hl,r),Nt.batch(()=>{const n=R(this,Pn),i=Se(this,yr,YO).call(this,R(this,Wl));i.forEach(h=>h.observer.setOptions(h.defaultedQueryOptions));const s=i.map(h=>h.observer),a=s.map(h=>h.getCurrentResult()),o=n.length!==s.length,l=s.some((h,f)=>h!==n[f]),u=o||l,d=u?!0:a.some((h,f)=>{const p=R(this,cn)[f];return!p||!ld(h,p)});!u&&!d||(u&&(ee(this,Id,i),ee(this,Pn,s)),ee(this,cn,a),this.hasListeners()&&(u&&(NI(n,s).forEach(h=>{h.destroy()}),NI(s,n).forEach(h=>{h.subscribe(f=>{Se(this,yr,QO).call(this,h,f)})})),Se(this,yr,XO).call(this)))})}getCurrentResult(){return R(this,cn)}getQueries(){return R(this,Pn).map(e=>e.getCurrentQuery())}getObservers(){return R(this,Pn)}getOptimisticResult(e,r){const n=Se(this,yr,YO).call(this,e),i=n.map(s=>s.observer.getOptimisticResult(s.defaultedQueryOptions));return[i,s=>Se(this,yr,GO).call(this,s??i,r),()=>Se(this,yr,KO).call(this,i,n)]}},Ul=new WeakMap,cn=new WeakMap,Wl=new WeakMap,Hl=new WeakMap,Pn=new WeakMap,Ms=new WeakMap,Nd=new WeakMap,Td=new WeakMap,Id=new WeakMap,yr=new WeakSet,KO=function(e,r){return r.map((n,i)=>{const s=e[i];return n.defaultedQueryOptions.notifyOnChangeProps?s:n.observer.trackResult(s,a=>{r.forEach(o=>{o.observer.trackProp(a)})})})},GO=function(e,r){return r?((!R(this,Ms)||R(this,cn)!==R(this,Td)||r!==R(this,Nd))&&(ee(this,Nd,r),ee(this,Td,R(this,cn)),ee(this,Ms,EC(R(this,Ms),r(e)))),R(this,Ms)):e},YO=function(e){const r=new Map;R(this,Pn).forEach(i=>{const s=i.options.queryHash;if(!s)return;const a=r.get(s);a?a.push(i):r.set(s,[i])});const n=[];return e.forEach(i=>{var l;const s=R(this,Ul).defaultQueryOptions(i),o=((l=r.get(s.queryHash))==null?void 0:l.shift())??new NC(R(this,Ul),s);n.push({defaultedQueryOptions:s,observer:o})}),n},QO=function(e,r){const n=R(this,Pn).indexOf(e);n!==-1&&(ee(this,cn,UZ(R(this,cn),n,r)),Se(this,yr,XO).call(this))},XO=function(){var e;if(this.hasListeners()){const r=R(this,Ms),n=Se(this,yr,KO).call(this,R(this,cn),R(this,Id)),i=Se(this,yr,GO).call(this,n,(e=R(this,Hl))==null?void 0:e.combine);r!==i&&Nt.batch(()=>{this.listeners.forEach(s=>{s(R(this,cn))})})}},rW),yi,nW,HZ=(nW=class extends Ro{constructor(e={}){super();le(this,yi);this.config=e,ee(this,yi,new Map)}build(e,r,n){const i=r.queryKey,s=r.queryHash??SC(i,r);let a=this.get(s);return a||(a=new qZ({client:e,queryKey:i,queryHash:s,options:e.defaultQueryOptions(r),state:n,defaultOptions:e.getQueryDefaults(i)}),this.add(a)),a}add(e){R(this,yi).has(e.queryHash)||(R(this,yi).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const r=R(this,yi).get(e.queryHash);r&&(e.destroy(),r===e&&R(this,yi).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){Nt.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return R(this,yi).get(e)}getAll(){return[...R(this,yi).values()]}find(e){const r={exact:!0,...e};return this.getAll().find(n=>yI(r,n))}findAll(e={}){const r=this.getAll();return Object.keys(e).length>0?r.filter(n=>yI(e,n)):r}notify(e){Nt.batch(()=>{this.listeners.forEach(r=>{r(e)})})}onFocus(){Nt.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){Nt.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},yi=new WeakMap,nW),Et,As,Fs,Vl,Kl,Ls,Gl,Yl,iW,VZ=(iW=class{constructor(t={}){le(this,Et);le(this,As);le(this,Fs);le(this,Vl);le(this,Kl);le(this,Ls);le(this,Gl);le(this,Yl);ee(this,Et,t.queryCache||new HZ),ee(this,As,t.mutationCache||new BZ),ee(this,Fs,t.defaultOptions||{}),ee(this,Vl,new Map),ee(this,Kl,new Map),ee(this,Ls,0)}mount(){Ph(this,Ls)._++,R(this,Ls)===1&&(ee(this,Gl,CC.subscribe(async t=>{t&&(await this.resumePausedMutations(),R(this,Et).onFocus())})),ee(this,Yl,Xf.subscribe(async t=>{t&&(await this.resumePausedMutations(),R(this,Et).onOnline())})))}unmount(){var t,e;Ph(this,Ls)._--,R(this,Ls)===0&&((t=R(this,Gl))==null||t.call(this),ee(this,Gl,void 0),(e=R(this,Yl))==null||e.call(this),ee(this,Yl,void 0))}isFetching(t){return R(this,Et).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return R(this,As).findAll({...t,status:"pending"}).length}getQueryData(t){var r;const e=this.defaultQueryOptions({queryKey:t});return(r=R(this,Et).get(e.queryHash))==null?void 0:r.state.data}ensureQueryData(t){const e=this.defaultQueryOptions(t),r=R(this,Et).build(this,e),n=r.state.data;return n===void 0?this.fetchQuery(t):(t.revalidateIfStale&&r.isStaleByTime(ea(e.staleTime,r))&&this.prefetchQuery(e),Promise.resolve(n))}getQueriesData(t){return R(this,Et).findAll(t).map(({queryKey:e,state:r})=>{const n=r.data;return[e,n]})}setQueryData(t,e,r){const n=this.defaultQueryOptions({queryKey:t}),i=R(this,Et).get(n.queryHash),s=i==null?void 0:i.state.data,a=OZ(e,s);if(a!==void 0)return R(this,Et).build(this,n).setData(a,{...r,manual:!0})}setQueriesData(t,e,r){return Nt.batch(()=>R(this,Et).findAll(t).map(({queryKey:n})=>[n,this.setQueryData(n,e,r)]))}getQueryState(t){var r;const e=this.defaultQueryOptions({queryKey:t});return(r=R(this,Et).get(e.queryHash))==null?void 0:r.state}removeQueries(t){const e=R(this,Et);Nt.batch(()=>{e.findAll(t).forEach(r=>{e.remove(r)})})}resetQueries(t,e){const r=R(this,Et);return Nt.batch(()=>(r.findAll(t).forEach(n=>{n.reset()}),this.refetchQueries({type:"active",...t},e)))}cancelQueries(t,e={}){const r={revert:!0,...e},n=Nt.batch(()=>R(this,Et).findAll(t).map(i=>i.cancel(r)));return Promise.all(n).then(Sr).catch(Sr)}invalidateQueries(t,e={}){return Nt.batch(()=>(R(this,Et).findAll(t).forEach(r=>{r.invalidate()}),(t==null?void 0:t.refetchType)==="none"?Promise.resolve():this.refetchQueries({...t,type:(t==null?void 0:t.refetchType)??(t==null?void 0:t.type)??"active"},e)))}refetchQueries(t,e={}){const r={...e,cancelRefetch:e.cancelRefetch??!0},n=Nt.batch(()=>R(this,Et).findAll(t).filter(i=>!i.isDisabled()&&!i.isStatic()).map(i=>{let s=i.fetch(void 0,r);return r.throwOnError||(s=s.catch(Sr)),i.state.fetchStatus==="paused"?Promise.resolve():s}));return Promise.all(n).then(Sr)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const r=R(this,Et).build(this,e);return r.isStaleByTime(ea(e.staleTime,r))?r.fetch(e):Promise.resolve(r.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(Sr).catch(Sr)}fetchInfiniteQuery(t){return t.behavior=PI(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(Sr).catch(Sr)}ensureInfiniteQueryData(t){return t.behavior=PI(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return Xf.isOnline()?R(this,As).resumePausedMutations():Promise.resolve()}getQueryCache(){return R(this,Et)}getMutationCache(){return R(this,As)}getDefaultOptions(){return R(this,Fs)}setDefaultOptions(t){ee(this,Fs,t)}setQueryDefaults(t,e){R(this,Vl).set(po(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...R(this,Vl).values()],r={};return e.forEach(n=>{od(t,n.queryKey)&&Object.assign(r,n.defaultOptions)}),r}setMutationDefaults(t,e){R(this,Kl).set(po(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...R(this,Kl).values()],r={};return e.forEach(n=>{od(t,n.mutationKey)&&Object.assign(r,n.defaultOptions)}),r}defaultQueryOptions(t){if(t._defaulted)return t;const e={...R(this,Fs).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=SC(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===OC&&(e.enabled=!1),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...R(this,Fs).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){R(this,Et).clear(),R(this,As).clear()}},Et=new WeakMap,As=new WeakMap,Fs=new WeakMap,Vl=new WeakMap,Kl=new WeakMap,Ls=new WeakMap,Gl=new WeakMap,Yl=new WeakMap,iW),qH=$.createContext(void 0),Zt=t=>{const e=$.useContext(qH);if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},KZ=({client:t,children:e})=>($.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),c.jsx(qH.Provider,{value:t,children:e})),MH=$.createContext(!1),AH=()=>$.useContext(MH);MH.Provider;function GZ(){let t=!1;return{clearReset:()=>{t=!1},reset:()=>{t=!0},isReset:()=>t}}var YZ=$.createContext(GZ()),FH=()=>$.useContext(YZ),LH=(t,e,r)=>{const n=r!=null&&r.state.error&&typeof t.throwOnError=="function"?PC(t.throwOnError,[r.state.error,r]):t.throwOnError;(t.suspense||t.experimental_prefetchInRender||n)&&(e.isReset()||(t.retryOnMount=!1))},BH=t=>{$.useEffect(()=>{t.clearReset()},[t])},zH=({result:t,errorResetBoundary:e,throwOnError:r,query:n,suspense:i})=>t.isError&&!e.isReset()&&!t.isFetching&&n&&(i&&t.data===void 0||PC(r,[t.error,n])),UH=t=>{if(t.suspense){const r=i=>i==="static"?i:Math.max(i??1e3,1e3),n=t.staleTime;t.staleTime=typeof n=="function"?(...i)=>r(n(...i)):r(n),typeof t.gcTime=="number"&&(t.gcTime=Math.max(t.gcTime,1e3))}},WH=(t,e)=>t.isLoading&&t.isFetching&&!e,JO=(t,e)=>(t==null?void 0:t.suspense)&&e.isPending,Jf=(t,e,r)=>e.fetchOptimistic(t).catch(()=>{r.clearReset()});function Zf({queries:t,...e},r){const n=Zt(),i=AH(),s=FH(),a=$.useMemo(()=>t.map(y=>{const b=n.defaultQueryOptions(y);return b._optimisticResults=i?"isRestoring":"optimistic",b}),[t,n,i]);a.forEach(y=>{UH(y);const b=n.getQueryCache().get(y.queryHash);LH(y,s,b)}),BH(s);const[o]=$.useState(()=>new WZ(n,a,e)),[l,u,d]=o.getOptimisticResult(a,e.combine),h=!i&&e.subscribed!==!1;$.useSyncExternalStore($.useCallback(y=>h?o.subscribe(Nt.batchCalls(y)):Sr,[o,h]),()=>o.getCurrentResult(),()=>o.getCurrentResult()),$.useEffect(()=>{o.setQueries(a,e)},[a,e,o]);const p=l.some((y,b)=>JO(a[b],y))?l.flatMap((y,b)=>{const g=a[b];if(g){const v=new NC(n,g);if(JO(g,y))return Jf(g,v,s);WH(y,i)&&Jf(g,v,s)}return[]}):[];if(p.length>0)throw Promise.all(p);const m=l.find((y,b)=>{const g=a[b];return g&&zH({result:y,errorResetBoundary:s,throwOnError:g.throwOnError,query:n.getQueryCache().get(g.queryHash),suspense:g.suspense})});if(m!=null&&m.error)throw m.error;return u(d())}function QZ(t,e,r){var f,p,m,y;const n=AH(),i=FH(),s=Zt(),a=s.defaultQueryOptions(t);(p=(f=s.getDefaultOptions().queries)==null?void 0:f._experimental_beforeQuery)==null||p.call(f,a);const o=s.getQueryCache().get(a.queryHash);a._optimisticResults=n?"isRestoring":"optimistic",UH(a),LH(a,i,o),BH(i);const l=!s.getQueryCache().get(a.queryHash),[u]=$.useState(()=>new e(s,a)),d=u.getOptimisticResult(a),h=!n&&t.subscribed!==!1;if($.useSyncExternalStore($.useCallback(b=>{const g=h?u.subscribe(Nt.batchCalls(b)):Sr;return u.updateResult(),g},[u,h]),()=>u.getCurrentResult(),()=>u.getCurrentResult()),$.useEffect(()=>{u.setOptions(a)},[a,u]),JO(a,d))throw Jf(a,u,i);if(zH({result:d,errorResetBoundary:i,throwOnError:a.throwOnError,query:o,suspense:a.suspense}))throw d.error;if((y=(m=s.getDefaultOptions().queries)==null?void 0:m._experimental_afterQuery)==null||y.call(m,a,d),a.experimental_prefetchInRender&&!fo&&WH(d,n)){const b=l?Jf(a,u,i):o==null?void 0:o.promise;b==null||b.catch(Sr).finally(()=>{u.updateResult()})}return a.notifyOnChangeProps?d:u.trackResult(d)}function ht(t,e){return QZ(t,NC)}function Tt(t,e){const r=Zt(),[n]=$.useState(()=>new zZ(r,t));$.useEffect(()=>{n.setOptions(t)},[n,t]);const i=$.useSyncExternalStore($.useCallback(a=>n.subscribe(Nt.batchCalls(a)),[n]),()=>n.getCurrentResult(),()=>n.getCurrentResult()),s=$.useCallback((a,o)=>{n.mutate(a,o).catch(Sr)},[n]);if(i.error&&PC(n.options.throwOnError,[i.error]))throw i.error;return{...i,mutate:s,mutateAsync:i.mutate}}function IC(){const t=window.prmConfig||{};return $.useMemo(()=>({isLoggedIn:t.isLoggedIn||!1,userId:t.userId||null,loginUrl:t.loginUrl||"/wp-login.php",logoutUrl:t.logoutUrl||"/wp-login.php?action=logout",isLoading:!1}),[t.isLoggedIn,t.userId,t.loginUrl,t.logoutUrl])}function HH(t,e){return function(){return t.apply(e,arguments)}}const{toString:XZ}=Object.prototype,{getPrototypeOf:RC}=Object,{iterator:Ap,toStringTag:VH}=Symbol,Fp=(t=>e=>{const r=XZ.call(e);return t[r]||(t[r]=r.slice(8,-1).toLowerCase())})(Object.create(null)),li=t=>(t=t.toLowerCase(),e=>Fp(e)===t),Lp=t=>e=>typeof e===t,{isArray:_u}=Array,iu=Lp("undefined");function qd(t){return t!==null&&!iu(t)&&t.constructor!==null&&!iu(t.constructor)&&en(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const KH=li("ArrayBuffer");function JZ(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&KH(t.buffer),e}const ZZ=Lp("string"),en=Lp("function"),GH=Lp("number"),Md=t=>t!==null&&typeof t=="object",eee=t=>t===!0||t===!1,vf=t=>{if(Fp(t)!=="object")return!1;const e=RC(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(VH in t)&&!(Ap in t)},tee=t=>{if(!Md(t)||qd(t))return!1;try{return Object.keys(t).length===0&&Object.getPrototypeOf(t)===Object.prototype}catch{return!1}},ree=li("Date"),nee=li("File"),iee=li("Blob"),see=li("FileList"),aee=t=>Md(t)&&en(t.pipe),oee=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||en(t.append)&&((e=Fp(t))==="formdata"||e==="object"&&en(t.toString)&&t.toString()==="[object FormData]"))},lee=li("URLSearchParams"),[uee,cee,dee,hee]=["ReadableStream","Request","Response","Headers"].map(li),fee=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Ad(t,e,{allOwnKeys:r=!1}={}){if(t===null||typeof t>"u")return;let n,i;if(typeof t!="object"&&(t=[t]),_u(t))for(n=0,i=t.length;n<i;n++)e.call(null,t[n],n,t);else{if(qd(t))return;const s=r?Object.getOwnPropertyNames(t):Object.keys(t),a=s.length;let o;for(n=0;n<a;n++)o=s[n],e.call(null,t[o],o,t)}}function YH(t,e){if(qd(t))return null;e=e.toLowerCase();const r=Object.keys(t);let n=r.length,i;for(;n-- >0;)if(i=r[n],e===i.toLowerCase())return i;return null}const Da=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,QH=t=>!iu(t)&&t!==Da;function ZO(){const{caseless:t,skipUndefined:e}=QH(this)&&this||{},r={},n=(i,s)=>{const a=t&&YH(r,s)||s;vf(r[a])&&vf(i)?r[a]=ZO(r[a],i):vf(i)?r[a]=ZO({},i):_u(i)?r[a]=i.slice():(!e||!iu(i))&&(r[a]=i)};for(let i=0,s=arguments.length;i<s;i++)arguments[i]&&Ad(arguments[i],n);return r}const pee=(t,e,r,{allOwnKeys:n}={})=>(Ad(e,(i,s)=>{r&&en(i)?t[s]=HH(i,r):t[s]=i},{allOwnKeys:n}),t),mee=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),vee=(t,e,r,n)=>{t.prototype=Object.create(e.prototype,n),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),r&&Object.assign(t.prototype,r)},gee=(t,e,r,n)=>{let i,s,a;const o={};if(e=e||{},t==null)return e;do{for(i=Object.getOwnPropertyNames(t),s=i.length;s-- >0;)a=i[s],(!n||n(a,t,e))&&!o[a]&&(e[a]=t[a],o[a]=!0);t=r!==!1&&RC(t)}while(t&&(!r||r(t,e))&&t!==Object.prototype);return e},yee=(t,e,r)=>{t=String(t),(r===void 0||r>t.length)&&(r=t.length),r-=e.length;const n=t.indexOf(e,r);return n!==-1&&n===r},bee=t=>{if(!t)return null;if(_u(t))return t;let e=t.length;if(!GH(e))return null;const r=new Array(e);for(;e-- >0;)r[e]=t[e];return r},wee=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&RC(Uint8Array)),xee=(t,e)=>{const n=(t&&t[Ap]).call(t);let i;for(;(i=n.next())&&!i.done;){const s=i.value;e.call(t,s[0],s[1])}},_ee=(t,e)=>{let r;const n=[];for(;(r=t.exec(e))!==null;)n.push(r);return n},See=li("HTMLFormElement"),Eee=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(r,n,i){return n.toUpperCase()+i}),TI=(({hasOwnProperty:t})=>(e,r)=>t.call(e,r))(Object.prototype),Oee=li("RegExp"),XH=(t,e)=>{const r=Object.getOwnPropertyDescriptors(t),n={};Ad(r,(i,s)=>{let a;(a=e(i,s,t))!==!1&&(n[s]=a||i)}),Object.defineProperties(t,n)},Pee=t=>{XH(t,(e,r)=>{if(en(t)&&["arguments","caller","callee"].indexOf(r)!==-1)return!1;const n=t[r];if(en(n)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")})}})},Cee=(t,e)=>{const r={},n=i=>{i.forEach(s=>{r[s]=!0})};return _u(t)?n(t):n(String(t).split(e)),r},Nee=()=>{},Tee=(t,e)=>t!=null&&Number.isFinite(t=+t)?t:e;function Iee(t){return!!(t&&en(t.append)&&t[VH]==="FormData"&&t[Ap])}const Ree=t=>{const e=new Array(10),r=(n,i)=>{if(Md(n)){if(e.indexOf(n)>=0)return;if(qd(n))return n;if(!("toJSON"in n)){e[i]=n;const s=_u(n)?[]:{};return Ad(n,(a,o)=>{const l=r(a,i+1);!iu(l)&&(s[o]=l)}),e[i]=void 0,s}}return n};return r(t,0)},jee=li("AsyncFunction"),$ee=t=>t&&(Md(t)||en(t))&&en(t.then)&&en(t.catch),JH=((t,e)=>t?setImmediate:e?((r,n)=>(Da.addEventListener("message",({source:i,data:s})=>{i===Da&&s===r&&n.length&&n.shift()()},!1),i=>{n.push(i),Da.postMessage(r,"*")}))(`axios@${Math.random()}`,[]):r=>setTimeout(r))(typeof setImmediate=="function",en(Da.postMessage)),kee=typeof queueMicrotask<"u"?queueMicrotask.bind(Da):typeof process<"u"&&process.nextTick||JH,Dee=t=>t!=null&&en(t[Ap]),M={isArray:_u,isArrayBuffer:KH,isBuffer:qd,isFormData:oee,isArrayBufferView:JZ,isString:ZZ,isNumber:GH,isBoolean:eee,isObject:Md,isPlainObject:vf,isEmptyObject:tee,isReadableStream:uee,isRequest:cee,isResponse:dee,isHeaders:hee,isUndefined:iu,isDate:ree,isFile:nee,isBlob:iee,isRegExp:Oee,isFunction:en,isStream:aee,isURLSearchParams:lee,isTypedArray:wee,isFileList:see,forEach:Ad,merge:ZO,extend:pee,trim:fee,stripBOM:mee,inherits:vee,toFlatObject:gee,kindOf:Fp,kindOfTest:li,endsWith:yee,toArray:bee,forEachEntry:xee,matchAll:_ee,isHTMLForm:See,hasOwnProperty:TI,hasOwnProp:TI,reduceDescriptors:XH,freezeMethods:Pee,toObjectSet:Cee,toCamelCase:Eee,noop:Nee,toFiniteNumber:Tee,findKey:YH,global:Da,isContextDefined:QH,isSpecCompliantForm:Iee,toJSONObject:Ree,isAsyncFn:jee,isThenable:$ee,setImmediate:JH,asap:kee,isIterable:Dee};function Ie(t,e,r,n,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),r&&(this.config=r),n&&(this.request=n),i&&(this.response=i,this.status=i.status?i.status:null)}M.inherits(Ie,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:M.toJSONObject(this.config),code:this.code,status:this.status}}});const ZH=Ie.prototype,eV={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{eV[t]={value:t}});Object.defineProperties(Ie,eV);Object.defineProperty(ZH,"isAxiosError",{value:!0});Ie.from=(t,e,r,n,i,s)=>{const a=Object.create(ZH);M.toFlatObject(t,a,function(d){return d!==Error.prototype},u=>u!=="isAxiosError");const o=t&&t.message?t.message:"Error",l=e==null&&t?t.code:e;return Ie.call(a,o,l,r,n,i),t&&a.cause==null&&Object.defineProperty(a,"cause",{value:t,configurable:!0}),a.name=t&&t.name||"Error",s&&Object.assign(a,s),a};const qee=null;function eP(t){return M.isPlainObject(t)||M.isArray(t)}function tV(t){return M.endsWith(t,"[]")?t.slice(0,-2):t}function II(t,e,r){return t?t.concat(e).map(function(i,s){return i=tV(i),!r&&s?"["+i+"]":i}).join(r?".":""):e}function Mee(t){return M.isArray(t)&&!t.some(eP)}const Aee=M.toFlatObject(M,{},null,function(e){return/^is[A-Z]/.test(e)});function Bp(t,e,r){if(!M.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,r=M.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,function(y,b){return!M.isUndefined(b[y])});const n=r.metaTokens,i=r.visitor||d,s=r.dots,a=r.indexes,l=(r.Blob||typeof Blob<"u"&&Blob)&&M.isSpecCompliantForm(e);if(!M.isFunction(i))throw new TypeError("visitor must be a function");function u(m){if(m===null)return"";if(M.isDate(m))return m.toISOString();if(M.isBoolean(m))return m.toString();if(!l&&M.isBlob(m))throw new Ie("Blob is not supported. Use a Buffer instead.");return M.isArrayBuffer(m)||M.isTypedArray(m)?l&&typeof Blob=="function"?new Blob([m]):Buffer.from(m):m}function d(m,y,b){let g=m;if(m&&!b&&typeof m=="object"){if(M.endsWith(y,"{}"))y=n?y:y.slice(0,-2),m=JSON.stringify(m);else if(M.isArray(m)&&Mee(m)||(M.isFileList(m)||M.endsWith(y,"[]"))&&(g=M.toArray(m)))return y=tV(y),g.forEach(function(x,w){!(M.isUndefined(x)||x===null)&&e.append(a===!0?II([y],w,s):a===null?y:y+"[]",u(x))}),!1}return eP(m)?!0:(e.append(II(b,y,s),u(m)),!1)}const h=[],f=Object.assign(Aee,{defaultVisitor:d,convertValue:u,isVisitable:eP});function p(m,y){if(!M.isUndefined(m)){if(h.indexOf(m)!==-1)throw Error("Circular reference detected in "+y.join("."));h.push(m),M.forEach(m,function(g,v){(!(M.isUndefined(g)||g===null)&&i.call(e,g,M.isString(v)?v.trim():v,y,f))===!0&&p(g,y?y.concat(v):[v])}),h.pop()}}if(!M.isObject(t))throw new TypeError("data must be an object");return p(t),e}function RI(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(n){return e[n]})}function jC(t,e){this._pairs=[],t&&Bp(t,this,e)}const rV=jC.prototype;rV.append=function(e,r){this._pairs.push([e,r])};rV.toString=function(e){const r=e?function(n){return e.call(this,n,RI)}:RI;return this._pairs.map(function(i){return r(i[0])+"="+r(i[1])},"").join("&")};function Fee(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function nV(t,e,r){if(!e)return t;const n=r&&r.encode||Fee;M.isFunction(r)&&(r={serialize:r});const i=r&&r.serialize;let s;if(i?s=i(e,r):s=M.isURLSearchParams(e)?e.toString():new jC(e,r).toString(n),s){const a=t.indexOf("#");a!==-1&&(t=t.slice(0,a)),t+=(t.indexOf("?")===-1?"?":"&")+s}return t}class jI{constructor(){this.handlers=[]}use(e,r,n){return this.handlers.push({fulfilled:e,rejected:r,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){M.forEach(this.handlers,function(n){n!==null&&e(n)})}}const iV={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Lee=typeof URLSearchParams<"u"?URLSearchParams:jC,Bee=typeof FormData<"u"?FormData:null,zee=typeof Blob<"u"?Blob:null,Uee={isBrowser:!0,classes:{URLSearchParams:Lee,FormData:Bee,Blob:zee},protocols:["http","https","file","blob","url","data"]},$C=typeof window<"u"&&typeof document<"u",tP=typeof navigator=="object"&&navigator||void 0,Wee=$C&&(!tP||["ReactNative","NativeScript","NS"].indexOf(tP.product)<0),Hee=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",Vee=$C&&window.location.href||"http://localhost",Kee=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:$C,hasStandardBrowserEnv:Wee,hasStandardBrowserWebWorkerEnv:Hee,navigator:tP,origin:Vee},Symbol.toStringTag,{value:"Module"})),Pr={...Kee,...Uee};function Gee(t,e){return Bp(t,new Pr.classes.URLSearchParams,{visitor:function(r,n,i,s){return Pr.isNode&&M.isBuffer(r)?(this.append(n,r.toString("base64")),!1):s.defaultVisitor.apply(this,arguments)},...e})}function Yee(t){return M.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function Qee(t){const e={},r=Object.keys(t);let n;const i=r.length;let s;for(n=0;n<i;n++)s=r[n],e[s]=t[s];return e}function sV(t){function e(r,n,i,s){let a=r[s++];if(a==="__proto__")return!0;const o=Number.isFinite(+a),l=s>=r.length;return a=!a&&M.isArray(i)?i.length:a,l?(M.hasOwnProp(i,a)?i[a]=[i[a],n]:i[a]=n,!o):((!i[a]||!M.isObject(i[a]))&&(i[a]=[]),e(r,n,i[a],s)&&M.isArray(i[a])&&(i[a]=Qee(i[a])),!o)}if(M.isFormData(t)&&M.isFunction(t.entries)){const r={};return M.forEachEntry(t,(n,i)=>{e(Yee(n),i,r,0)}),r}return null}function Xee(t,e,r){if(M.isString(t))try{return(e||JSON.parse)(t),M.trim(t)}catch(n){if(n.name!=="SyntaxError")throw n}return(r||JSON.stringify)(t)}const Fd={transitional:iV,adapter:["xhr","http","fetch"],transformRequest:[function(e,r){const n=r.getContentType()||"",i=n.indexOf("application/json")>-1,s=M.isObject(e);if(s&&M.isHTMLForm(e)&&(e=new FormData(e)),M.isFormData(e))return i?JSON.stringify(sV(e)):e;if(M.isArrayBuffer(e)||M.isBuffer(e)||M.isStream(e)||M.isFile(e)||M.isBlob(e)||M.isReadableStream(e))return e;if(M.isArrayBufferView(e))return e.buffer;if(M.isURLSearchParams(e))return r.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let o;if(s){if(n.indexOf("application/x-www-form-urlencoded")>-1)return Gee(e,this.formSerializer).toString();if((o=M.isFileList(e))||n.indexOf("multipart/form-data")>-1){const l=this.env&&this.env.FormData;return Bp(o?{"files[]":e}:e,l&&new l,this.formSerializer)}}return s||i?(r.setContentType("application/json",!1),Xee(e)):e}],transformResponse:[function(e){const r=this.transitional||Fd.transitional,n=r&&r.forcedJSONParsing,i=this.responseType==="json";if(M.isResponse(e)||M.isReadableStream(e))return e;if(e&&M.isString(e)&&(n&&!this.responseType||i)){const a=!(r&&r.silentJSONParsing)&&i;try{return JSON.parse(e,this.parseReviver)}catch(o){if(a)throw o.name==="SyntaxError"?Ie.from(o,Ie.ERR_BAD_RESPONSE,this,null,this.response):o}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Pr.classes.FormData,Blob:Pr.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};M.forEach(["delete","get","head","post","put","patch"],t=>{Fd.headers[t]={}});const Jee=M.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Zee=t=>{const e={};let r,n,i;return t&&t.split(`
`).forEach(function(a){i=a.indexOf(":"),r=a.substring(0,i).trim().toLowerCase(),n=a.substring(i+1).trim(),!(!r||e[r]&&Jee[r])&&(r==="set-cookie"?e[r]?e[r].push(n):e[r]=[n]:e[r]=e[r]?e[r]+", "+n:n)}),e},$I=Symbol("internals");function uc(t){return t&&String(t).trim().toLowerCase()}function gf(t){return t===!1||t==null?t:M.isArray(t)?t.map(gf):String(t)}function ete(t){const e=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let n;for(;n=r.exec(t);)e[n[1]]=n[2];return e}const tte=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function nv(t,e,r,n,i){if(M.isFunction(n))return n.call(this,e,r);if(i&&(e=r),!!M.isString(e)){if(M.isString(n))return e.indexOf(n)!==-1;if(M.isRegExp(n))return n.test(e)}}function rte(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,r,n)=>r.toUpperCase()+n)}function nte(t,e){const r=M.toCamelCase(" "+e);["get","set","has"].forEach(n=>{Object.defineProperty(t,n+r,{value:function(i,s,a){return this[n].call(this,e,i,s,a)},configurable:!0})})}let tn=class{constructor(e){e&&this.set(e)}set(e,r,n){const i=this;function s(o,l,u){const d=uc(l);if(!d)throw new Error("header name must be a non-empty string");const h=M.findKey(i,d);(!h||i[h]===void 0||u===!0||u===void 0&&i[h]!==!1)&&(i[h||l]=gf(o))}const a=(o,l)=>M.forEach(o,(u,d)=>s(u,d,l));if(M.isPlainObject(e)||e instanceof this.constructor)a(e,r);else if(M.isString(e)&&(e=e.trim())&&!tte(e))a(Zee(e),r);else if(M.isObject(e)&&M.isIterable(e)){let o={},l,u;for(const d of e){if(!M.isArray(d))throw TypeError("Object iterator must return a key-value pair");o[u=d[0]]=(l=o[u])?M.isArray(l)?[...l,d[1]]:[l,d[1]]:d[1]}a(o,r)}else e!=null&&s(r,e,n);return this}get(e,r){if(e=uc(e),e){const n=M.findKey(this,e);if(n){const i=this[n];if(!r)return i;if(r===!0)return ete(i);if(M.isFunction(r))return r.call(this,i,n);if(M.isRegExp(r))return r.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,r){if(e=uc(e),e){const n=M.findKey(this,e);return!!(n&&this[n]!==void 0&&(!r||nv(this,this[n],n,r)))}return!1}delete(e,r){const n=this;let i=!1;function s(a){if(a=uc(a),a){const o=M.findKey(n,a);o&&(!r||nv(n,n[o],o,r))&&(delete n[o],i=!0)}}return M.isArray(e)?e.forEach(s):s(e),i}clear(e){const r=Object.keys(this);let n=r.length,i=!1;for(;n--;){const s=r[n];(!e||nv(this,this[s],s,e,!0))&&(delete this[s],i=!0)}return i}normalize(e){const r=this,n={};return M.forEach(this,(i,s)=>{const a=M.findKey(n,s);if(a){r[a]=gf(i),delete r[s];return}const o=e?rte(s):String(s).trim();o!==s&&delete r[s],r[o]=gf(i),n[o]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const r=Object.create(null);return M.forEach(this,(n,i)=>{n!=null&&n!==!1&&(r[i]=e&&M.isArray(n)?n.join(", "):n)}),r}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,r])=>e+": "+r).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...r){const n=new this(e);return r.forEach(i=>n.set(i)),n}static accessor(e){const n=(this[$I]=this[$I]={accessors:{}}).accessors,i=this.prototype;function s(a){const o=uc(a);n[o]||(nte(i,a),n[o]=!0)}return M.isArray(e)?e.forEach(s):s(e),this}};tn.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);M.reduceDescriptors(tn.prototype,({value:t},e)=>{let r=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(n){this[r]=n}}});M.freezeMethods(tn);function iv(t,e){const r=this||Fd,n=e||r,i=tn.from(n.headers);let s=n.data;return M.forEach(t,function(o){s=o.call(r,s,i.normalize(),e?e.status:void 0)}),i.normalize(),s}function aV(t){return!!(t&&t.__CANCEL__)}function Su(t,e,r){Ie.call(this,t??"canceled",Ie.ERR_CANCELED,e,r),this.name="CanceledError"}M.inherits(Su,Ie,{__CANCEL__:!0});function oV(t,e,r){const n=r.config.validateStatus;!r.status||!n||n(r.status)?t(r):e(new Ie("Request failed with status code "+r.status,[Ie.ERR_BAD_REQUEST,Ie.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r))}function ite(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function ste(t,e){t=t||10;const r=new Array(t),n=new Array(t);let i=0,s=0,a;return e=e!==void 0?e:1e3,function(l){const u=Date.now(),d=n[s];a||(a=u),r[i]=l,n[i]=u;let h=s,f=0;for(;h!==i;)f+=r[h++],h=h%t;if(i=(i+1)%t,i===s&&(s=(s+1)%t),u-a<e)return;const p=d&&u-d;return p?Math.round(f*1e3/p):void 0}}function ate(t,e){let r=0,n=1e3/e,i,s;const a=(u,d=Date.now())=>{r=d,i=null,s&&(clearTimeout(s),s=null),t(...u)};return[(...u)=>{const d=Date.now(),h=d-r;h>=n?a(u,d):(i=u,s||(s=setTimeout(()=>{s=null,a(i)},n-h)))},()=>i&&a(i)]}const ep=(t,e,r=3)=>{let n=0;const i=ste(50,250);return ate(s=>{const a=s.loaded,o=s.lengthComputable?s.total:void 0,l=a-n,u=i(l),d=a<=o;n=a;const h={loaded:a,total:o,progress:o?a/o:void 0,bytes:l,rate:u||void 0,estimated:u&&o&&d?(o-a)/u:void 0,event:s,lengthComputable:o!=null,[e?"download":"upload"]:!0};t(h)},r)},kI=(t,e)=>{const r=t!=null;return[n=>e[0]({lengthComputable:r,total:t,loaded:n}),e[1]]},DI=t=>(...e)=>M.asap(()=>t(...e)),ote=Pr.hasStandardBrowserEnv?((t,e)=>r=>(r=new URL(r,Pr.origin),t.protocol===r.protocol&&t.host===r.host&&(e||t.port===r.port)))(new URL(Pr.origin),Pr.navigator&&/(msie|trident)/i.test(Pr.navigator.userAgent)):()=>!0,lte=Pr.hasStandardBrowserEnv?{write(t,e,r,n,i,s,a){if(typeof document>"u")return;const o=[`${t}=${encodeURIComponent(e)}`];M.isNumber(r)&&o.push(`expires=${new Date(r).toUTCString()}`),M.isString(n)&&o.push(`path=${n}`),M.isString(i)&&o.push(`domain=${i}`),s===!0&&o.push("secure"),M.isString(a)&&o.push(`SameSite=${a}`),document.cookie=o.join("; ")},read(t){if(typeof document>"u")return null;const e=document.cookie.match(new RegExp("(?:^|; )"+t+"=([^;]*)"));return e?decodeURIComponent(e[1]):null},remove(t){this.write(t,"",Date.now()-864e5,"/")}}:{write(){},read(){return null},remove(){}};function ute(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function cte(t,e){return e?t.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):t}function lV(t,e,r){let n=!ute(e);return t&&(n||r==!1)?cte(t,e):e}const qI=t=>t instanceof tn?{...t}:t;function mo(t,e){e=e||{};const r={};function n(u,d,h,f){return M.isPlainObject(u)&&M.isPlainObject(d)?M.merge.call({caseless:f},u,d):M.isPlainObject(d)?M.merge({},d):M.isArray(d)?d.slice():d}function i(u,d,h,f){if(M.isUndefined(d)){if(!M.isUndefined(u))return n(void 0,u,h,f)}else return n(u,d,h,f)}function s(u,d){if(!M.isUndefined(d))return n(void 0,d)}function a(u,d){if(M.isUndefined(d)){if(!M.isUndefined(u))return n(void 0,u)}else return n(void 0,d)}function o(u,d,h){if(h in e)return n(u,d);if(h in t)return n(void 0,u)}const l={url:s,method:s,data:s,baseURL:a,transformRequest:a,transformResponse:a,paramsSerializer:a,timeout:a,timeoutMessage:a,withCredentials:a,withXSRFToken:a,adapter:a,responseType:a,xsrfCookieName:a,xsrfHeaderName:a,onUploadProgress:a,onDownloadProgress:a,decompress:a,maxContentLength:a,maxBodyLength:a,beforeRedirect:a,transport:a,httpAgent:a,httpsAgent:a,cancelToken:a,socketPath:a,responseEncoding:a,validateStatus:o,headers:(u,d,h)=>i(qI(u),qI(d),h,!0)};return M.forEach(Object.keys({...t,...e}),function(d){const h=l[d]||i,f=h(t[d],e[d],d);M.isUndefined(f)&&h!==o||(r[d]=f)}),r}const uV=t=>{const e=mo({},t);let{data:r,withXSRFToken:n,xsrfHeaderName:i,xsrfCookieName:s,headers:a,auth:o}=e;if(e.headers=a=tn.from(a),e.url=nV(lV(e.baseURL,e.url,e.allowAbsoluteUrls),t.params,t.paramsSerializer),o&&a.set("Authorization","Basic "+btoa((o.username||"")+":"+(o.password?unescape(encodeURIComponent(o.password)):""))),M.isFormData(r)){if(Pr.hasStandardBrowserEnv||Pr.hasStandardBrowserWebWorkerEnv)a.setContentType(void 0);else if(M.isFunction(r.getHeaders)){const l=r.getHeaders(),u=["content-type","content-length"];Object.entries(l).forEach(([d,h])=>{u.includes(d.toLowerCase())&&a.set(d,h)})}}if(Pr.hasStandardBrowserEnv&&(n&&M.isFunction(n)&&(n=n(e)),n||n!==!1&&ote(e.url))){const l=i&&s&&lte.read(s);l&&a.set(i,l)}return e},dte=typeof XMLHttpRequest<"u",hte=dte&&function(t){return new Promise(function(r,n){const i=uV(t);let s=i.data;const a=tn.from(i.headers).normalize();let{responseType:o,onUploadProgress:l,onDownloadProgress:u}=i,d,h,f,p,m;function y(){p&&p(),m&&m(),i.cancelToken&&i.cancelToken.unsubscribe(d),i.signal&&i.signal.removeEventListener("abort",d)}let b=new XMLHttpRequest;b.open(i.method.toUpperCase(),i.url,!0),b.timeout=i.timeout;function g(){if(!b)return;const x=tn.from("getAllResponseHeaders"in b&&b.getAllResponseHeaders()),_={data:!o||o==="text"||o==="json"?b.responseText:b.response,status:b.status,statusText:b.statusText,headers:x,config:t,request:b};oV(function(O){r(O),y()},function(O){n(O),y()},_),b=null}"onloadend"in b?b.onloadend=g:b.onreadystatechange=function(){!b||b.readyState!==4||b.status===0&&!(b.responseURL&&b.responseURL.indexOf("file:")===0)||setTimeout(g)},b.onabort=function(){b&&(n(new Ie("Request aborted",Ie.ECONNABORTED,t,b)),b=null)},b.onerror=function(w){const _=w&&w.message?w.message:"Network Error",E=new Ie(_,Ie.ERR_NETWORK,t,b);E.event=w||null,n(E),b=null},b.ontimeout=function(){let w=i.timeout?"timeout of "+i.timeout+"ms exceeded":"timeout exceeded";const _=i.transitional||iV;i.timeoutErrorMessage&&(w=i.timeoutErrorMessage),n(new Ie(w,_.clarifyTimeoutError?Ie.ETIMEDOUT:Ie.ECONNABORTED,t,b)),b=null},s===void 0&&a.setContentType(null),"setRequestHeader"in b&&M.forEach(a.toJSON(),function(w,_){b.setRequestHeader(_,w)}),M.isUndefined(i.withCredentials)||(b.withCredentials=!!i.withCredentials),o&&o!=="json"&&(b.responseType=i.responseType),u&&([f,m]=ep(u,!0),b.addEventListener("progress",f)),l&&b.upload&&([h,p]=ep(l),b.upload.addEventListener("progress",h),b.upload.addEventListener("loadend",p)),(i.cancelToken||i.signal)&&(d=x=>{b&&(n(!x||x.type?new Su(null,t,b):x),b.abort(),b=null)},i.cancelToken&&i.cancelToken.subscribe(d),i.signal&&(i.signal.aborted?d():i.signal.addEventListener("abort",d)));const v=ite(i.url);if(v&&Pr.protocols.indexOf(v)===-1){n(new Ie("Unsupported protocol "+v+":",Ie.ERR_BAD_REQUEST,t));return}b.send(s||null)})},fte=(t,e)=>{const{length:r}=t=t?t.filter(Boolean):[];if(e||r){let n=new AbortController,i;const s=function(u){if(!i){i=!0,o();const d=u instanceof Error?u:this.reason;n.abort(d instanceof Ie?d:new Su(d instanceof Error?d.message:d))}};let a=e&&setTimeout(()=>{a=null,s(new Ie(`timeout ${e} of ms exceeded`,Ie.ETIMEDOUT))},e);const o=()=>{t&&(a&&clearTimeout(a),a=null,t.forEach(u=>{u.unsubscribe?u.unsubscribe(s):u.removeEventListener("abort",s)}),t=null)};t.forEach(u=>u.addEventListener("abort",s));const{signal:l}=n;return l.unsubscribe=()=>M.asap(o),l}},pte=function*(t,e){let r=t.byteLength;if(r<e){yield t;return}let n=0,i;for(;n<r;)i=n+e,yield t.slice(n,i),n=i},mte=async function*(t,e){for await(const r of vte(t))yield*pte(r,e)},vte=async function*(t){if(t[Symbol.asyncIterator]){yield*t;return}const e=t.getReader();try{for(;;){const{done:r,value:n}=await e.read();if(r)break;yield n}}finally{await e.cancel()}},MI=(t,e,r,n)=>{const i=mte(t,e);let s=0,a,o=l=>{a||(a=!0,n&&n(l))};return new ReadableStream({async pull(l){try{const{done:u,value:d}=await i.next();if(u){o(),l.close();return}let h=d.byteLength;if(r){let f=s+=h;r(f)}l.enqueue(new Uint8Array(d))}catch(u){throw o(u),u}},cancel(l){return o(l),i.return()}},{highWaterMark:2})},AI=64*1024,{isFunction:Hh}=M,gte=(({Request:t,Response:e})=>({Request:t,Response:e}))(M.global),{ReadableStream:FI,TextEncoder:LI}=M.global,BI=(t,...e)=>{try{return!!t(...e)}catch{return!1}},yte=t=>{t=M.merge.call({skipUndefined:!0},gte,t);const{fetch:e,Request:r,Response:n}=t,i=e?Hh(e):typeof fetch=="function",s=Hh(r),a=Hh(n);if(!i)return!1;const o=i&&Hh(FI),l=i&&(typeof LI=="function"?(m=>y=>m.encode(y))(new LI):async m=>new Uint8Array(await new r(m).arrayBuffer())),u=s&&o&&BI(()=>{let m=!1;const y=new r(Pr.origin,{body:new FI,method:"POST",get duplex(){return m=!0,"half"}}).headers.has("Content-Type");return m&&!y}),d=a&&o&&BI(()=>M.isReadableStream(new n("").body)),h={stream:d&&(m=>m.body)};i&&["text","arrayBuffer","blob","formData","stream"].forEach(m=>{!h[m]&&(h[m]=(y,b)=>{let g=y&&y[m];if(g)return g.call(y);throw new Ie(`Response type '${m}' is not supported`,Ie.ERR_NOT_SUPPORT,b)})});const f=async m=>{if(m==null)return 0;if(M.isBlob(m))return m.size;if(M.isSpecCompliantForm(m))return(await new r(Pr.origin,{method:"POST",body:m}).arrayBuffer()).byteLength;if(M.isArrayBufferView(m)||M.isArrayBuffer(m))return m.byteLength;if(M.isURLSearchParams(m)&&(m=m+""),M.isString(m))return(await l(m)).byteLength},p=async(m,y)=>{const b=M.toFiniteNumber(m.getContentLength());return b??f(y)};return async m=>{let{url:y,method:b,data:g,signal:v,cancelToken:x,timeout:w,onDownloadProgress:_,onUploadProgress:E,responseType:O,headers:S,withCredentials:P="same-origin",fetchOptions:C}=uV(m),I=e||fetch;O=O?(O+"").toLowerCase():"text";let N=fte([v,x&&x.toAbortSignal()],w),T=null;const q=N&&N.unsubscribe&&(()=>{N.unsubscribe()});let B;try{if(E&&u&&b!=="get"&&b!=="head"&&(B=await p(S,g))!==0){let U=new r(y,{method:"POST",body:g,duplex:"half"}),Q;if(M.isFormData(g)&&(Q=U.headers.get("content-type"))&&S.setContentType(Q),U.body){const[fe,ge]=kI(B,ep(DI(E)));g=MI(U.body,AI,fe,ge)}}M.isString(P)||(P=P?"include":"omit");const X=s&&"credentials"in r.prototype,H={...C,signal:N,method:b.toUpperCase(),headers:S.normalize().toJSON(),body:g,duplex:"half",credentials:X?P:void 0};T=s&&new r(y,H);let L=await(s?I(T,C):I(y,H));const W=d&&(O==="stream"||O==="response");if(d&&(_||W&&q)){const U={};["status","statusText","headers"].forEach(Me=>{U[Me]=L[Me]});const Q=M.toFiniteNumber(L.headers.get("content-length")),[fe,ge]=_&&kI(Q,ep(DI(_),!0))||[];L=new n(MI(L.body,AI,fe,()=>{ge&&ge(),q&&q()}),U)}O=O||"text";let z=await h[M.findKey(h,O)||"text"](L,m);return!W&&q&&q(),await new Promise((U,Q)=>{oV(U,Q,{data:z,headers:tn.from(L.headers),status:L.status,statusText:L.statusText,config:m,request:T})})}catch(X){throw q&&q(),X&&X.name==="TypeError"&&/Load failed|fetch/i.test(X.message)?Object.assign(new Ie("Network Error",Ie.ERR_NETWORK,m,T),{cause:X.cause||X}):Ie.from(X,X&&X.code,m,T)}}},bte=new Map,cV=t=>{let e=t&&t.env||{};const{fetch:r,Request:n,Response:i}=e,s=[n,i,r];let a=s.length,o=a,l,u,d=bte;for(;o--;)l=s[o],u=d.get(l),u===void 0&&d.set(l,u=o?new Map:yte(e)),d=u;return u};cV();const kC={http:qee,xhr:hte,fetch:{get:cV}};M.forEach(kC,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const zI=t=>`- ${t}`,wte=t=>M.isFunction(t)||t===null||t===!1;function xte(t,e){t=M.isArray(t)?t:[t];const{length:r}=t;let n,i;const s={};for(let a=0;a<r;a++){n=t[a];let o;if(i=n,!wte(n)&&(i=kC[(o=String(n)).toLowerCase()],i===void 0))throw new Ie(`Unknown adapter '${o}'`);if(i&&(M.isFunction(i)||(i=i.get(e))))break;s[o||"#"+a]=i}if(!i){const a=Object.entries(s).map(([l,u])=>`adapter ${l} `+(u===!1?"is not supported by the environment":"is not available in the build"));let o=r?a.length>1?`since :
`+a.map(zI).join(`
`):" "+zI(a[0]):"as no adapter specified";throw new Ie("There is no suitable adapter to dispatch the request "+o,"ERR_NOT_SUPPORT")}return i}const dV={getAdapter:xte,adapters:kC};function sv(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new Su(null,t)}function UI(t){return sv(t),t.headers=tn.from(t.headers),t.data=iv.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),dV.getAdapter(t.adapter||Fd.adapter,t)(t).then(function(n){return sv(t),n.data=iv.call(t,t.transformResponse,n),n.headers=tn.from(n.headers),n},function(n){return aV(n)||(sv(t),n&&n.response&&(n.response.data=iv.call(t,t.transformResponse,n.response),n.response.headers=tn.from(n.response.headers))),Promise.reject(n)})}const hV="1.13.2",zp={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{zp[t]=function(n){return typeof n===t||"a"+(e<1?"n ":" ")+t}});const WI={};zp.transitional=function(e,r,n){function i(s,a){return"[Axios v"+hV+"] Transitional option '"+s+"'"+a+(n?". "+n:"")}return(s,a,o)=>{if(e===!1)throw new Ie(i(a," has been removed"+(r?" in "+r:"")),Ie.ERR_DEPRECATED);return r&&!WI[a]&&(WI[a]=!0,console.warn(i(a," has been deprecated since v"+r+" and will be removed in the near future"))),e?e(s,a,o):!0}};zp.spelling=function(e){return(r,n)=>(console.warn(`${n} is likely a misspelling of ${e}`),!0)};function _te(t,e,r){if(typeof t!="object")throw new Ie("options must be an object",Ie.ERR_BAD_OPTION_VALUE);const n=Object.keys(t);let i=n.length;for(;i-- >0;){const s=n[i],a=e[s];if(a){const o=t[s],l=o===void 0||a(o,s,t);if(l!==!0)throw new Ie("option "+s+" must be "+l,Ie.ERR_BAD_OPTION_VALUE);continue}if(r!==!0)throw new Ie("Unknown option "+s,Ie.ERR_BAD_OPTION)}}const yf={assertOptions:_te,validators:zp},fi=yf.validators;let Za=class{constructor(e){this.defaults=e||{},this.interceptors={request:new jI,response:new jI}}async request(e,r){try{return await this._request(e,r)}catch(n){if(n instanceof Error){let i={};Error.captureStackTrace?Error.captureStackTrace(i):i=new Error;const s=i.stack?i.stack.replace(/^.+\n/,""):"";try{n.stack?s&&!String(n.stack).endsWith(s.replace(/^.+\n.+\n/,""))&&(n.stack+=`
`+s):n.stack=s}catch{}}throw n}}_request(e,r){typeof e=="string"?(r=r||{},r.url=e):r=e||{},r=mo(this.defaults,r);const{transitional:n,paramsSerializer:i,headers:s}=r;n!==void 0&&yf.assertOptions(n,{silentJSONParsing:fi.transitional(fi.boolean),forcedJSONParsing:fi.transitional(fi.boolean),clarifyTimeoutError:fi.transitional(fi.boolean)},!1),i!=null&&(M.isFunction(i)?r.paramsSerializer={serialize:i}:yf.assertOptions(i,{encode:fi.function,serialize:fi.function},!0)),r.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?r.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:r.allowAbsoluteUrls=!0),yf.assertOptions(r,{baseUrl:fi.spelling("baseURL"),withXsrfToken:fi.spelling("withXSRFToken")},!0),r.method=(r.method||this.defaults.method||"get").toLowerCase();let a=s&&M.merge(s.common,s[r.method]);s&&M.forEach(["delete","get","head","post","put","patch","common"],m=>{delete s[m]}),r.headers=tn.concat(a,s);const o=[];let l=!0;this.interceptors.request.forEach(function(y){typeof y.runWhen=="function"&&y.runWhen(r)===!1||(l=l&&y.synchronous,o.unshift(y.fulfilled,y.rejected))});const u=[];this.interceptors.response.forEach(function(y){u.push(y.fulfilled,y.rejected)});let d,h=0,f;if(!l){const m=[UI.bind(this),void 0];for(m.unshift(...o),m.push(...u),f=m.length,d=Promise.resolve(r);h<f;)d=d.then(m[h++],m[h++]);return d}f=o.length;let p=r;for(;h<f;){const m=o[h++],y=o[h++];try{p=m(p)}catch(b){y.call(this,b);break}}try{d=UI.call(this,p)}catch(m){return Promise.reject(m)}for(h=0,f=u.length;h<f;)d=d.then(u[h++],u[h++]);return d}getUri(e){e=mo(this.defaults,e);const r=lV(e.baseURL,e.url,e.allowAbsoluteUrls);return nV(r,e.params,e.paramsSerializer)}};M.forEach(["delete","get","head","options"],function(e){Za.prototype[e]=function(r,n){return this.request(mo(n||{},{method:e,url:r,data:(n||{}).data}))}});M.forEach(["post","put","patch"],function(e){function r(n){return function(s,a,o){return this.request(mo(o||{},{method:e,headers:n?{"Content-Type":"multipart/form-data"}:{},url:s,data:a}))}}Za.prototype[e]=r(),Za.prototype[e+"Form"]=r(!0)});let Ste=class fV{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let r;this.promise=new Promise(function(s){r=s});const n=this;this.promise.then(i=>{if(!n._listeners)return;let s=n._listeners.length;for(;s-- >0;)n._listeners[s](i);n._listeners=null}),this.promise.then=i=>{let s;const a=new Promise(o=>{n.subscribe(o),s=o}).then(i);return a.cancel=function(){n.unsubscribe(s)},a},e(function(s,a,o){n.reason||(n.reason=new Su(s,a,o),r(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const r=this._listeners.indexOf(e);r!==-1&&this._listeners.splice(r,1)}toAbortSignal(){const e=new AbortController,r=n=>{e.abort(n)};return this.subscribe(r),e.signal.unsubscribe=()=>this.unsubscribe(r),e.signal}static source(){let e;return{token:new fV(function(i){e=i}),cancel:e}}};function Ete(t){return function(r){return t.apply(null,r)}}function Ote(t){return M.isObject(t)&&t.isAxiosError===!0}const rP={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(rP).forEach(([t,e])=>{rP[e]=t});function pV(t){const e=new Za(t),r=HH(Za.prototype.request,e);return M.extend(r,Za.prototype,e,{allOwnKeys:!0}),M.extend(r,e,null,{allOwnKeys:!0}),r.create=function(i){return pV(mo(t,i))},r}const kt=pV(Fd);kt.Axios=Za;kt.CanceledError=Su;kt.CancelToken=Ste;kt.isCancel=aV;kt.VERSION=hV;kt.toFormData=Bp;kt.AxiosError=Ie;kt.Cancel=kt.CanceledError;kt.all=function(e){return Promise.all(e)};kt.spread=Ete;kt.isAxiosError=Ote;kt.mergeConfig=mo;kt.AxiosHeaders=tn;kt.formToJSON=t=>sV(M.isHTMLForm(t)?new FormData(t):t);kt.getAdapter=dV.getAdapter;kt.HttpStatusCode=rP;kt.default=kt;const{Axios:j0e,AxiosError:$0e,CanceledError:k0e,isCancel:D0e,CancelToken:q0e,VERSION:M0e,all:A0e,Cancel:F0e,isAxiosError:L0e,spread:B0e,toFormData:z0e,AxiosHeaders:U0e,HttpStatusCode:W0e,formToJSON:H0e,getAdapter:V0e,mergeConfig:K0e}=kt,nP=window.prmConfig||{},ye=kt.create({baseURL:nP.apiUrl||"/wp-json",headers:{"Content-Type":"application/json","X-WP-Nonce":nP.nonce||""}});ye.interceptors.request.use(t=>{var e;return(e=window.prmConfig)!=null&&e.nonce&&(t.headers["X-WP-Nonce"]=window.prmConfig.nonce),t});ye.interceptors.response.use(t=>t,t=>{var e,r;return((e=t.response)==null?void 0:e.status)===401&&(window.location.href=nP.loginUrl||"/wp-login.php"),((r=t.response)==null?void 0:r.status)===403&&console.error("Access denied:",t.response.data),Promise.reject(t)});const Le={getPeople:t=>ye.get("/wp/v2/people",{params:t}),getPerson:(t,e={})=>ye.get(`/wp/v2/people/${t}`,{params:e}),createPerson:t=>ye.post("/wp/v2/people",t),updatePerson:(t,e)=>ye.put(`/wp/v2/people/${t}`,e),deletePerson:(t,e={})=>ye.delete(`/wp/v2/people/${t}`,{params:e}),getCompanies:t=>ye.get("/wp/v2/companies",{params:t}),getCompany:(t,e={})=>ye.get(`/wp/v2/companies/${t}`,{params:e}),createCompany:t=>ye.post("/wp/v2/companies",t),updateCompany:(t,e)=>ye.put(`/wp/v2/companies/${t}`,e),deleteCompany:(t,e={})=>ye.delete(`/wp/v2/companies/${t}`,{params:e}),getDates:t=>ye.get("/wp/v2/important-dates",{params:t}),getDate:t=>ye.get(`/wp/v2/important-dates/${t}`),createDate:t=>ye.post("/wp/v2/important-dates",t),updateDate:(t,e)=>ye.put(`/wp/v2/important-dates/${t}`,e),deleteDate:t=>ye.delete(`/wp/v2/important-dates/${t}`),getPersonLabels:()=>ye.get("/wp/v2/person_label"),getCompanyLabels:()=>ye.get("/wp/v2/company_label"),getRelationshipTypes:()=>ye.get("/wp/v2/relationship_type",{params:{per_page:100,_fields:"id,name,slug,acf"}}),createRelationshipType:t=>ye.post("/wp/v2/relationship_type",t),updateRelationshipType:(t,e)=>ye.post(`/wp/v2/relationship_type/${t}`,e),deleteRelationshipType:t=>ye.delete(`/wp/v2/relationship_type/${t}?force=true`),restoreRelationshipTypeDefaults:()=>ye.post("/prm/v1/relationship-types/restore-defaults"),getDateTypes:()=>ye.get("/wp/v2/date_type",{params:{per_page:100}}),uploadMedia:t=>{const e=new FormData;return e.append("file",t),ye.post("/wp/v2/media",e,{headers:{"Content-Type":"multipart/form-data"}})}},Jt={getDashboard:()=>ye.get("/prm/v1/dashboard"),sideloadGravatar:(t,e)=>ye.post(`/prm/v1/people/${t}/gravatar`,{email:e}),getCurrentUser:()=>ye.get("/prm/v1/user/me"),getUsers:()=>ye.get("/prm/v1/users"),approveUser:t=>ye.post(`/prm/v1/users/${t}/approve`),denyUser:t=>ye.post(`/prm/v1/users/${t}/deny`),search:t=>ye.get("/prm/v1/search",{params:{q:t}}),getReminders:(t=30)=>ye.get("/prm/v1/reminders",{params:{days_ahead:t}}),getPersonDates:t=>ye.get(`/prm/v1/people/${t}/dates`),getPersonTimeline:t=>ye.get(`/prm/v1/people/${t}/timeline`),getPersonNotes:t=>ye.get(`/prm/v1/people/${t}/notes`),createNote:(t,e)=>ye.post(`/prm/v1/people/${t}/notes`,{content:e}),updateNote:(t,e)=>ye.put(`/prm/v1/notes/${t}`,{content:e}),deleteNote:t=>ye.delete(`/prm/v1/notes/${t}`),getPersonActivities:t=>ye.get(`/prm/v1/people/${t}/activities`),createActivity:(t,e)=>ye.post(`/prm/v1/people/${t}/activities`,e),updateActivity:(t,e)=>ye.put(`/prm/v1/activities/${t}`,e),deleteActivity:t=>ye.delete(`/prm/v1/activities/${t}`),getCompanyPeople:t=>ye.get(`/prm/v1/companies/${t}/people`),setCompanyLogo:(t,e)=>ye.post(`/prm/v1/companies/${t}/logo`,{media_id:e}),uploadPersonPhoto:(t,e)=>{const r=new FormData;return r.append("file",e),ye.post(`/prm/v1/people/${t}/photo`,r,{headers:{"Content-Type":"multipart/form-data"}})},uploadCompanyLogo:(t,e)=>{const r=new FormData;return r.append("file",e),ye.post(`/prm/v1/companies/${t}/logo/upload`,r,{headers:{"Content-Type":"multipart/form-data"}})}};/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Pte={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cte=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),be=(t,e)=>{const r=$.forwardRef(({color:n="currentColor",size:i=24,strokeWidth:s=2,absoluteStrokeWidth:a,className:o="",children:l,...u},d)=>$.createElement("svg",{ref:d,...Pte,width:i,height:i,stroke:n,strokeWidth:a?Number(s)*24/Number(i):s,className:["lucide",`lucide-${Cte(t)}`,o].join(" "),...u},[...e.map(([h,f])=>$.createElement(h,f)),...Array.isArray(l)?l:[l]]));return r.displayName=`${t}`,r};/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vo=be("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nte=be("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tte=be("ArrowDown",[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const An=be("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HI=be("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ite=be("ArrowUp",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rte=be("Briefcase",[["rect",{width:"20",height:"14",x:"2",y:"7",rx:"2",ry:"2",key:"eto64e"}],["path",{d:"M16 21V5a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"zwj3tp"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ls=be("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mV=be("Cake",[["path",{d:"M20 21v-8a2 2 0 0 0-2-2H6a2 2 0 0 0-2 2v8",key:"1w3rig"}],["path",{d:"M4 16s.5-1 2-1 2.5 2 4 2 2.5-2 4-2 2.5 2 4 2 2-1 2-1",key:"n2jgmb"}],["path",{d:"M2 21h20",key:"1nyx9w"}],["path",{d:"M7 8v3",key:"1qtyvj"}],["path",{d:"M12 8v3",key:"hwp4zt"}],["path",{d:"M17 8v3",key:"1i6e5u"}],["path",{d:"M7 4h0.01",key:"hsw7lv"}],["path",{d:"M12 4h0.01",key:"1e3d8f"}],["path",{d:"M17 4h0.01",key:"p7cxgy"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const go=be("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bf=be("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VI=be("CheckCircle2",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const su=be("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KI=be("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jte=be("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $te=be("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iP=be("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Up=be("FileCode",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["path",{d:"m10 13-2 2 2 2",key:"17smn8"}],["path",{d:"m14 17 2-2-2-2",key:"14mezr"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DC=be("FileSpreadsheet",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["path",{d:"M8 13h2",key:"yr2amv"}],["path",{d:"M8 17h2",key:"2yhykz"}],["path",{d:"M14 13h2",key:"un5t4a"}],["path",{d:"M14 17h2",key:"10kma7"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GI=be("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kte=be("Gift",[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wf=be("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dte=be("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qte=be("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vV=be("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mte=be("Link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yo=be("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ate=be("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fte=be("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lte=be("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bte=be("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zte=be("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ute=be("Pen",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vh=be("Pencil",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wte=be("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Or=be("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hte=be("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gV=be("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ua=be("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yV=be("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bV=be("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wV=be("ShieldAlert",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vte=be("SkipForward",[["polygon",{points:"5 4 15 12 5 20 5 4",key:"16p6eg"}],["line",{x1:"19",x2:"19",y1:"5",y2:"19",key:"futhcm"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xV=be("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _V=be("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a2.121 2.121 0 1 1 3 3L12 15l-4 1 1-4Z",key:"1lpok0"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ud=be("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SV=be("StickyNote",[["path",{d:"M15.5 3H5a2 2 0 0 0-2 2v14c0 1.1.9 2 2 2h14a2 2 0 0 0 2-2V8.5L15.5 3Z",key:"1wis1t"}],["path",{d:"M15 3v6h6",key:"edgan2"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Os=be("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const au=be("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kte=be("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EV=be("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bo=be("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YI=be("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ca=be("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gte=be("ZoomIn",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"11",x2:"11",y1:"8",y2:"14",key:"1vmskp"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yte=be("ZoomOut",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]]),ou="Caelis";function bn(t){$.useEffect(()=>{var e;if(t){const r=((e=window.prmConfig)==null?void 0:e.siteName)||ou;document.title=`${t} - ${r}`}},[t])}function Qte(t){const e=t.match(/\/(?:people|companies|dates)\/(\d+)/);return e?e[1]:null}function OV(t=null){const e=hs();$.useEffect(()=>{var i;let r=t;if(!r){const s=e.pathname,a=Qte(s);s==="/"?r="Dashboard":s==="/login"?r="Login":s.startsWith("/people")?s==="/people"||s==="/people/"?r="People":s==="/people/new"?r="New Person":s.endsWith("/edit")?r="Edit Person":a?r="Person":r="People":s.startsWith("/companies")?s==="/companies"||s==="/companies/"?r="Companies":s==="/companies/new"?r="New Company":s.endsWith("/edit")?r="Edit Company":a?r="Company":r="Companies":s.startsWith("/dates")?s==="/dates"||s==="/dates/"?r="Important Dates":s==="/dates/new"?r="New Date":s.endsWith("/edit")?r="Edit Date":r="Important Dates":s.startsWith("/settings")?r="Settings":r=ou}const n=((i=window.prmConfig)==null?void 0:i.siteName)||ou;document.title=`${r} - ${n}`},[e.pathname,t])}function Xte(){return ht({queryKey:["dashboard"],queryFn:async()=>(await Jt.getDashboard()).data})}function Jte(t=30){return ht({queryKey:["reminders",t],queryFn:async()=>(await Jt.getReminders(t)).data})}function Zte(t){const e=typeof t=="string"?t:"",r=e.length>=2;return ht({queryKey:["search",e],queryFn:async()=>r?(await Jt.search(e)).data:{people:[],companies:[],dates:[]},enabled:r})}const ere=[{name:"Dashboard",href:"/",icon:qte},{name:"People",href:"/people",icon:bo},{name:"Companies",href:"/companies",icon:ls},{name:"Dates",href:"/dates",icon:go},{name:"Settings",href:"/settings",icon:bV}];function QI({mobile:t=!1,onClose:e}){const{logoutUrl:r}=IC();return c.jsxs("div",{className:"flex flex-col h-full bg-white border-r border-gray-200",children:[c.jsxs("div",{className:"flex items-center justify-between h-16 px-4 border-b border-gray-200",children:[c.jsxs(de,{to:"/",className:"flex items-center gap-2 text-xl font-bold text-primary-600",children:[c.jsx(xV,{className:"w-5 h-5"}),ou]}),t&&c.jsx("button",{onClick:e,className:"p-2 -mr-2",children:c.jsx(ca,{className:"w-5 h-5"})})]}),c.jsx("nav",{className:"flex-1 px-2 py-4 space-y-1 overflow-y-auto",children:ere.map(n=>c.jsxs(gZ,{to:n.href,onClick:t?e:void 0,className:({isActive:i})=>`flex items-center px-3 py-2 text-sm font-medium rounded-lg transition-colors ${i?"bg-primary-50 text-primary-700":"text-gray-700 hover:bg-gray-50"}`,children:[c.jsx(n.icon,{className:"w-5 h-5 mr-3"}),c.jsx("span",{className:"hidden md:inline",children:n.name})]},n.name))}),c.jsx("div",{className:"p-4 border-t border-gray-200",children:c.jsxs("a",{href:r,className:"flex items-center px-3 py-2 text-sm font-medium text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:[c.jsx(Ate,{className:"w-5 h-5 mr-3"}),c.jsx("span",{className:"hidden md:inline",children:"Log Out"})]})})]})}function tre(){var a;const[t,e]=$.useState(!1),r=$.useRef(null),{data:n,isLoading:i}=ht({queryKey:["current-user"],queryFn:async()=>(await Jt.getCurrentUser()).data});if($.useEffect(()=>{const o=l=>{r.current&&!r.current.contains(l.target)&&e(!1)};if(t)return document.addEventListener("mousedown",o),()=>{document.removeEventListener("mousedown",o)}},[t]),i||!n)return c.jsx("div",{className:"flex items-center ml-auto",children:c.jsx("div",{className:"w-8 h-8 bg-gray-200 rounded-full animate-pulse"})});const s=((a=n.name)==null?void 0:a.split(" ").map(o=>o[0]).join("").toUpperCase().slice(0,2))||"?";return c.jsxs("div",{className:"relative ml-auto",ref:r,children:[c.jsxs("button",{onClick:()=>e(!t),className:"flex items-center gap-2 p-1 rounded-full hover:bg-gray-100 transition-colors","aria-label":"User menu",children:[n.avatar_url?c.jsx("img",{src:n.avatar_url,alt:n.name,className:"w-8 h-8 rounded-full object-cover"}):c.jsx("div",{className:"w-8 h-8 bg-primary-100 rounded-full flex items-center justify-center",children:c.jsx("span",{className:"text-sm font-medium text-primary-700",children:s})}),c.jsx(jte,{className:`w-4 h-4 text-gray-500 transition-transform ${t?"rotate-180":""}`})]}),t&&c.jsx("div",{className:"absolute right-0 mt-2 w-48 bg-white border border-gray-200 rounded-lg shadow-lg z-50",children:c.jsxs("div",{className:"py-1",children:[c.jsxs("a",{href:n.profile_url,target:"_blank",rel:"noopener noreferrer",className:"flex items-center px-4 py-2 text-sm text-gray-700 hover:bg-gray-50 transition-colors",onClick:()=>e(!1),children:[c.jsx(EV,{className:"w-4 h-4 mr-2"}),c.jsx("span",{className:"hidden md:inline",children:"Edit profile"})]}),n.is_admin&&c.jsxs("a",{href:n.admin_url,target:"_blank",rel:"noopener noreferrer",className:"flex items-center px-4 py-2 text-sm text-gray-700 hover:bg-gray-50 transition-colors",onClick:()=>e(!1),children:[c.jsx(bV,{className:"w-4 h-4 mr-2"}),c.jsx("span",{className:"hidden md:inline",children:"WordPress admin"})]})]})})]})}function rre({onMenuClick:t}){const[e,r]=$.useState(""),[n,i]=$.useState(!1),s=hs(),a=sn(),o=$.useRef(null),l=$.useRef(null),u=e.trim(),{data:d,isLoading:h}=Zte(u),f=()=>{const g=s.pathname;return g==="/"?"Dashboard":g.startsWith("/people")?"People":g.startsWith("/companies")?"Companies":g.startsWith("/dates")?"Important Dates":g.startsWith("/settings")?"Settings":""};$.useEffect(()=>{const g=v=>{l.current&&!l.current.contains(v.target)&&o.current&&!o.current.contains(v.target)&&i(!1)};return document.addEventListener("mousedown",g),()=>{document.removeEventListener("mousedown",g)}},[]);const p=(g,v)=>{i(!1),r(""),g==="person"?a(`/people/${v}`):g==="company"?a(`/companies/${v}`):g==="date"&&a(`/dates/${v}/edit`)},m=d||{people:[],companies:[],dates:[]},y=m.people&&m.people.length>0||m.companies&&m.companies.length>0||m.dates&&m.dates.length>0,b=n&&e.trim().length>=2;return c.jsxs("header",{className:"sticky top-0 z-10 flex items-center h-16 px-4 bg-white border-b border-gray-200 lg:px-6",children:[c.jsx("button",{onClick:t,className:"p-2 -ml-2 lg:hidden",children:c.jsx(Bte,{className:"w-5 h-5"})}),c.jsx("h1",{className:"ml-2 text-lg font-semibold lg:ml-0",children:f()}),c.jsx("div",{className:"flex-1 flex justify-center max-w-2xl mx-4 lg:mx-8",children:c.jsxs("div",{className:"relative w-full",ref:o,children:[c.jsx(yV,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}),c.jsx("input",{type:"search",placeholder:"Search people, companies, dates...",value:e,onChange:g=>r(g.target.value),onFocus:()=>i(!0),className:"input pl-9 w-full"}),b&&c.jsx("div",{ref:l,className:"absolute top-full left-0 right-0 mt-2 bg-white border border-gray-200 rounded-lg shadow-lg max-h-96 overflow-y-auto z-50",children:h?c.jsxs("div",{className:"p-4 text-center text-gray-500",children:[c.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-primary-600 mx-auto"}),c.jsx("p",{className:"mt-2 text-sm",children:"Searching..."})]}):y?c.jsxs("div",{className:"py-2",children:[m.people&&m.people.length>0&&c.jsxs("div",{className:"px-3 py-2",children:[c.jsx("div",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wide mb-2 px-2",children:"People"}),m.people.map(g=>c.jsxs("button",{onClick:()=>p("person",g.id),className:"w-full flex items-center gap-3 px-2 py-2 rounded-lg hover:bg-gray-50 transition-colors text-left",children:[c.jsx(EV,{className:"w-4 h-4 text-gray-400 flex-shrink-0"}),c.jsx("span",{className:"text-sm font-medium text-gray-900 flex-1 truncate",children:g.name})]},g.id))]}),m.companies&&m.companies.length>0&&c.jsxs("div",{className:"px-3 py-2 border-t border-gray-100",children:[c.jsx("div",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wide mb-2 px-2",children:"Companies"}),m.companies.map(g=>c.jsxs("button",{onClick:()=>p("company",g.id),className:"w-full flex items-center gap-3 px-2 py-2 rounded-lg hover:bg-gray-50 transition-colors text-left",children:[c.jsx(Rte,{className:"w-4 h-4 text-gray-400 flex-shrink-0"}),c.jsx("span",{className:"text-sm font-medium text-gray-900 flex-1 truncate",children:g.name})]},g.id))]}),m.dates&&m.dates.length>0&&c.jsxs("div",{className:"px-3 py-2 border-t border-gray-100",children:[c.jsx("div",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wide mb-2 px-2",children:"Dates"}),m.dates.map(g=>c.jsxs("button",{onClick:()=>p("date",g.id),className:"w-full flex items-center gap-3 px-2 py-2 rounded-lg hover:bg-gray-50 transition-colors text-left",children:[c.jsx(go,{className:"w-4 h-4 text-gray-400 flex-shrink-0"}),c.jsx("span",{className:"text-sm font-medium text-gray-900 flex-1 truncate",children:g.title})]},g.id))]})]}):c.jsx("div",{className:"p-4 text-center text-gray-500",children:c.jsx("p",{className:"text-sm",children:"No results found"})})})]})}),c.jsx(tre,{})]})}function nre({children:t}){const[e,r]=$.useState(!1);return OV(),c.jsxs("div",{className:"flex h-screen bg-gray-50",children:[c.jsx("div",{className:"hidden lg:flex lg:w-64 lg:flex-col",children:c.jsx(QI,{})}),e&&c.jsxs("div",{className:"fixed inset-0 z-40 lg:hidden",children:[c.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-75",onClick:()=>r(!1)}),c.jsx("div",{className:"fixed inset-y-0 left-0 flex flex-col w-64 bg-white",children:c.jsx(QI,{mobile:!0,onClose:()=>r(!1)})})]}),c.jsxs("div",{className:"flex flex-col flex-1 min-w-0",children:[c.jsx(rre,{onMenuClick:()=>r(!0)}),c.jsx("main",{className:"flex-1 overflow-y-auto p-4 lg:p-6",children:t})]})]})}function gr(t){const e=Object.prototype.toString.call(t);return t instanceof Date||typeof t=="object"&&e==="[object Date]"?new t.constructor(+t):typeof t=="number"||e==="[object Number]"||typeof t=="string"||e==="[object String]"?new Date(t):new Date(NaN)}function wo(t,e){return t instanceof Date?new t.constructor(e):new Date(e)}const PV=6048e5,ire=864e5;let sre={};function Wp(){return sre}function cd(t,e){var o,l,u,d;const r=Wp(),n=(e==null?void 0:e.weekStartsOn)??((l=(o=e==null?void 0:e.locale)==null?void 0:o.options)==null?void 0:l.weekStartsOn)??r.weekStartsOn??((d=(u=r.locale)==null?void 0:u.options)==null?void 0:d.weekStartsOn)??0,i=gr(t),s=i.getDay(),a=(s<n?7:0)+s-n;return i.setDate(i.getDate()-a),i.setHours(0,0,0,0),i}function tp(t){return cd(t,{weekStartsOn:1})}function CV(t){const e=gr(t),r=e.getFullYear(),n=wo(t,0);n.setFullYear(r+1,0,4),n.setHours(0,0,0,0);const i=tp(n),s=wo(t,0);s.setFullYear(r,0,4),s.setHours(0,0,0,0);const a=tp(s);return e.getTime()>=i.getTime()?r+1:e.getTime()>=a.getTime()?r:r-1}function XI(t){const e=gr(t);return e.setHours(0,0,0,0),e}function JI(t){const e=gr(t),r=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return r.setUTCFullYear(e.getFullYear()),+t-+r}function are(t,e){const r=XI(t),n=XI(e),i=+r-JI(r),s=+n-JI(n);return Math.round((i-s)/ire)}function ore(t){const e=CV(t),r=wo(t,0);return r.setFullYear(e,0,4),r.setHours(0,0,0,0),tp(r)}function ZI(t,e){const r=gr(t),n=gr(e),i=r.getTime()-n.getTime();return i<0?-1:i>0?1:i}function lre(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function ure(t){if(!lre(t)&&typeof t!="number")return!1;const e=gr(t);return!isNaN(Number(e))}function cre(t,e){const r=gr(t),n=gr(e);return r.getFullYear()-n.getFullYear()}function av(t,e){const r=gr(t),n=gr(e),i=ZI(r,n),s=Math.abs(cre(r,n));r.setFullYear(1584),n.setFullYear(1584);const a=ZI(r,n)===-i,o=i*(s-+a);return o===0?0:o}function dre(t){const e=gr(t),r=wo(t,0);return r.setFullYear(e.getFullYear(),0,1),r.setHours(0,0,0,0),r}const hre={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},fre=(t,e,r)=>{let n;const i=hre[t];return typeof i=="string"?n=i:e===1?n=i.one:n=i.other.replace("{{count}}",e.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+n:n+" ago":n};function ov(t){return(e={})=>{const r=e.width?String(e.width):t.defaultWidth;return t.formats[r]||t.formats[t.defaultWidth]}}const pre={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},mre={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},vre={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},gre={date:ov({formats:pre,defaultWidth:"full"}),time:ov({formats:mre,defaultWidth:"full"}),dateTime:ov({formats:vre,defaultWidth:"full"})},yre={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},bre=(t,e,r,n)=>yre[t];function cc(t){return(e,r)=>{const n=r!=null&&r.context?String(r.context):"standalone";let i;if(n==="formatting"&&t.formattingValues){const a=t.defaultFormattingWidth||t.defaultWidth,o=r!=null&&r.width?String(r.width):a;i=t.formattingValues[o]||t.formattingValues[a]}else{const a=t.defaultWidth,o=r!=null&&r.width?String(r.width):t.defaultWidth;i=t.values[o]||t.values[a]}const s=t.argumentCallback?t.argumentCallback(e):e;return i[s]}}const wre={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},xre={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},_re={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},Sre={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},Ere={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},Ore={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},Pre=(t,e)=>{const r=Number(t),n=r%100;if(n>20||n<10)switch(n%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},Cre={ordinalNumber:Pre,era:cc({values:wre,defaultWidth:"wide"}),quarter:cc({values:xre,defaultWidth:"wide",argumentCallback:t=>t-1}),month:cc({values:_re,defaultWidth:"wide"}),day:cc({values:Sre,defaultWidth:"wide"}),dayPeriod:cc({values:Ere,defaultWidth:"wide",formattingValues:Ore,defaultFormattingWidth:"wide"})};function dc(t){return(e,r={})=>{const n=r.width,i=n&&t.matchPatterns[n]||t.matchPatterns[t.defaultMatchWidth],s=e.match(i);if(!s)return null;const a=s[0],o=n&&t.parsePatterns[n]||t.parsePatterns[t.defaultParseWidth],l=Array.isArray(o)?Tre(o,h=>h.test(a)):Nre(o,h=>h.test(a));let u;u=t.valueCallback?t.valueCallback(l):l,u=r.valueCallback?r.valueCallback(u):u;const d=e.slice(a.length);return{value:u,rest:d}}}function Nre(t,e){for(const r in t)if(Object.prototype.hasOwnProperty.call(t,r)&&e(t[r]))return r}function Tre(t,e){for(let r=0;r<t.length;r++)if(e(t[r]))return r}function Ire(t){return(e,r={})=>{const n=e.match(t.matchPattern);if(!n)return null;const i=n[0],s=e.match(t.parsePattern);if(!s)return null;let a=t.valueCallback?t.valueCallback(s[0]):s[0];a=r.valueCallback?r.valueCallback(a):a;const o=e.slice(i.length);return{value:a,rest:o}}}const Rre=/^(\d+)(th|st|nd|rd)?/i,jre=/\d+/i,$re={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},kre={any:[/^b/i,/^(a|c)/i]},Dre={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},qre={any:[/1/i,/2/i,/3/i,/4/i]},Mre={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},Are={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},Fre={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},Lre={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},Bre={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},zre={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},Ure={ordinalNumber:Ire({matchPattern:Rre,parsePattern:jre,valueCallback:t=>parseInt(t,10)}),era:dc({matchPatterns:$re,defaultMatchWidth:"wide",parsePatterns:kre,defaultParseWidth:"any"}),quarter:dc({matchPatterns:Dre,defaultMatchWidth:"wide",parsePatterns:qre,defaultParseWidth:"any",valueCallback:t=>t+1}),month:dc({matchPatterns:Mre,defaultMatchWidth:"wide",parsePatterns:Are,defaultParseWidth:"any"}),day:dc({matchPatterns:Fre,defaultMatchWidth:"wide",parsePatterns:Lre,defaultParseWidth:"any"}),dayPeriod:dc({matchPatterns:Bre,defaultMatchWidth:"any",parsePatterns:zre,defaultParseWidth:"any"})},Wre={code:"en-US",formatDistance:fre,formatLong:gre,formatRelative:bre,localize:Cre,match:Ure,options:{weekStartsOn:0,firstWeekContainsDate:1}};function Hre(t){const e=gr(t);return are(e,dre(e))+1}function Vre(t){const e=gr(t),r=+tp(e)-+ore(e);return Math.round(r/PV)+1}function NV(t,e){var d,h,f,p;const r=gr(t),n=r.getFullYear(),i=Wp(),s=(e==null?void 0:e.firstWeekContainsDate)??((h=(d=e==null?void 0:e.locale)==null?void 0:d.options)==null?void 0:h.firstWeekContainsDate)??i.firstWeekContainsDate??((p=(f=i.locale)==null?void 0:f.options)==null?void 0:p.firstWeekContainsDate)??1,a=wo(t,0);a.setFullYear(n+1,0,s),a.setHours(0,0,0,0);const o=cd(a,e),l=wo(t,0);l.setFullYear(n,0,s),l.setHours(0,0,0,0);const u=cd(l,e);return r.getTime()>=o.getTime()?n+1:r.getTime()>=u.getTime()?n:n-1}function Kre(t,e){var o,l,u,d;const r=Wp(),n=(e==null?void 0:e.firstWeekContainsDate)??((l=(o=e==null?void 0:e.locale)==null?void 0:o.options)==null?void 0:l.firstWeekContainsDate)??r.firstWeekContainsDate??((d=(u=r.locale)==null?void 0:u.options)==null?void 0:d.firstWeekContainsDate)??1,i=NV(t,e),s=wo(t,0);return s.setFullYear(i,0,n),s.setHours(0,0,0,0),cd(s,e)}function Gre(t,e){const r=gr(t),n=+cd(r,e)-+Kre(r,e);return Math.round(n/PV)+1}function He(t,e){const r=t<0?"-":"",n=Math.abs(t).toString().padStart(e,"0");return r+n}const xs={y(t,e){const r=t.getFullYear(),n=r>0?r:1-r;return He(e==="yy"?n%100:n,e.length)},M(t,e){const r=t.getMonth();return e==="M"?String(r+1):He(r+1,2)},d(t,e){return He(t.getDate(),e.length)},a(t,e){const r=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h(t,e){return He(t.getHours()%12||12,e.length)},H(t,e){return He(t.getHours(),e.length)},m(t,e){return He(t.getMinutes(),e.length)},s(t,e){return He(t.getSeconds(),e.length)},S(t,e){const r=e.length,n=t.getMilliseconds(),i=Math.trunc(n*Math.pow(10,r-3));return He(i,e.length)}},el={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},eR={G:function(t,e,r){const n=t.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return r.era(n,{width:"abbreviated"});case"GGGGG":return r.era(n,{width:"narrow"});case"GGGG":default:return r.era(n,{width:"wide"})}},y:function(t,e,r){if(e==="yo"){const n=t.getFullYear(),i=n>0?n:1-n;return r.ordinalNumber(i,{unit:"year"})}return xs.y(t,e)},Y:function(t,e,r,n){const i=NV(t,n),s=i>0?i:1-i;if(e==="YY"){const a=s%100;return He(a,2)}return e==="Yo"?r.ordinalNumber(s,{unit:"year"}):He(s,e.length)},R:function(t,e){const r=CV(t);return He(r,e.length)},u:function(t,e){const r=t.getFullYear();return He(r,e.length)},Q:function(t,e,r){const n=Math.ceil((t.getMonth()+1)/3);switch(e){case"Q":return String(n);case"QQ":return He(n,2);case"Qo":return r.ordinalNumber(n,{unit:"quarter"});case"QQQ":return r.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(n,{width:"wide",context:"formatting"})}},q:function(t,e,r){const n=Math.ceil((t.getMonth()+1)/3);switch(e){case"q":return String(n);case"qq":return He(n,2);case"qo":return r.ordinalNumber(n,{unit:"quarter"});case"qqq":return r.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(n,{width:"wide",context:"standalone"})}},M:function(t,e,r){const n=t.getMonth();switch(e){case"M":case"MM":return xs.M(t,e);case"Mo":return r.ordinalNumber(n+1,{unit:"month"});case"MMM":return r.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(n,{width:"wide",context:"formatting"})}},L:function(t,e,r){const n=t.getMonth();switch(e){case"L":return String(n+1);case"LL":return He(n+1,2);case"Lo":return r.ordinalNumber(n+1,{unit:"month"});case"LLL":return r.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(n,{width:"wide",context:"standalone"})}},w:function(t,e,r,n){const i=Gre(t,n);return e==="wo"?r.ordinalNumber(i,{unit:"week"}):He(i,e.length)},I:function(t,e,r){const n=Vre(t);return e==="Io"?r.ordinalNumber(n,{unit:"week"}):He(n,e.length)},d:function(t,e,r){return e==="do"?r.ordinalNumber(t.getDate(),{unit:"date"}):xs.d(t,e)},D:function(t,e,r){const n=Hre(t);return e==="Do"?r.ordinalNumber(n,{unit:"dayOfYear"}):He(n,e.length)},E:function(t,e,r){const n=t.getDay();switch(e){case"E":case"EE":case"EEE":return r.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(n,{width:"short",context:"formatting"});case"EEEE":default:return r.day(n,{width:"wide",context:"formatting"})}},e:function(t,e,r,n){const i=t.getDay(),s=(i-n.weekStartsOn+8)%7||7;switch(e){case"e":return String(s);case"ee":return He(s,2);case"eo":return r.ordinalNumber(s,{unit:"day"});case"eee":return r.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(i,{width:"short",context:"formatting"});case"eeee":default:return r.day(i,{width:"wide",context:"formatting"})}},c:function(t,e,r,n){const i=t.getDay(),s=(i-n.weekStartsOn+8)%7||7;switch(e){case"c":return String(s);case"cc":return He(s,e.length);case"co":return r.ordinalNumber(s,{unit:"day"});case"ccc":return r.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(i,{width:"narrow",context:"standalone"});case"cccccc":return r.day(i,{width:"short",context:"standalone"});case"cccc":default:return r.day(i,{width:"wide",context:"standalone"})}},i:function(t,e,r){const n=t.getDay(),i=n===0?7:n;switch(e){case"i":return String(i);case"ii":return He(i,e.length);case"io":return r.ordinalNumber(i,{unit:"day"});case"iii":return r.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(n,{width:"short",context:"formatting"});case"iiii":default:return r.day(n,{width:"wide",context:"formatting"})}},a:function(t,e,r){const i=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(t,e,r){const n=t.getHours();let i;switch(n===12?i=el.noon:n===0?i=el.midnight:i=n/12>=1?"pm":"am",e){case"b":case"bb":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(t,e,r){const n=t.getHours();let i;switch(n>=17?i=el.evening:n>=12?i=el.afternoon:n>=4?i=el.morning:i=el.night,e){case"B":case"BB":case"BBB":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(t,e,r){if(e==="ho"){let n=t.getHours()%12;return n===0&&(n=12),r.ordinalNumber(n,{unit:"hour"})}return xs.h(t,e)},H:function(t,e,r){return e==="Ho"?r.ordinalNumber(t.getHours(),{unit:"hour"}):xs.H(t,e)},K:function(t,e,r){const n=t.getHours()%12;return e==="Ko"?r.ordinalNumber(n,{unit:"hour"}):He(n,e.length)},k:function(t,e,r){let n=t.getHours();return n===0&&(n=24),e==="ko"?r.ordinalNumber(n,{unit:"hour"}):He(n,e.length)},m:function(t,e,r){return e==="mo"?r.ordinalNumber(t.getMinutes(),{unit:"minute"}):xs.m(t,e)},s:function(t,e,r){return e==="so"?r.ordinalNumber(t.getSeconds(),{unit:"second"}):xs.s(t,e)},S:function(t,e){return xs.S(t,e)},X:function(t,e,r){const n=t.getTimezoneOffset();if(n===0)return"Z";switch(e){case"X":return rR(n);case"XXXX":case"XX":return Ia(n);case"XXXXX":case"XXX":default:return Ia(n,":")}},x:function(t,e,r){const n=t.getTimezoneOffset();switch(e){case"x":return rR(n);case"xxxx":case"xx":return Ia(n);case"xxxxx":case"xxx":default:return Ia(n,":")}},O:function(t,e,r){const n=t.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+tR(n,":");case"OOOO":default:return"GMT"+Ia(n,":")}},z:function(t,e,r){const n=t.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+tR(n,":");case"zzzz":default:return"GMT"+Ia(n,":")}},t:function(t,e,r){const n=Math.trunc(t.getTime()/1e3);return He(n,e.length)},T:function(t,e,r){const n=t.getTime();return He(n,e.length)}};function tR(t,e=""){const r=t>0?"-":"+",n=Math.abs(t),i=Math.trunc(n/60),s=n%60;return s===0?r+String(i):r+String(i)+e+He(s,2)}function rR(t,e){return t%60===0?(t>0?"-":"+")+He(Math.abs(t)/60,2):Ia(t,e)}function Ia(t,e=""){const r=t>0?"-":"+",n=Math.abs(t),i=He(Math.trunc(n/60),2),s=He(n%60,2);return r+i+e+s}const nR=(t,e)=>{switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},TV=(t,e)=>{switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},Yre=(t,e)=>{const r=t.match(/(P+)(p+)?/)||[],n=r[1],i=r[2];if(!i)return nR(t,e);let s;switch(n){case"P":s=e.dateTime({width:"short"});break;case"PP":s=e.dateTime({width:"medium"});break;case"PPP":s=e.dateTime({width:"long"});break;case"PPPP":default:s=e.dateTime({width:"full"});break}return s.replace("{{date}}",nR(n,e)).replace("{{time}}",TV(i,e))},Qre={p:TV,P:Yre},Xre=/^D+$/,Jre=/^Y+$/,Zre=["D","DD","YY","YYYY"];function ene(t){return Xre.test(t)}function tne(t){return Jre.test(t)}function rne(t,e,r){const n=nne(t,e,r);if(console.warn(n),Zre.includes(t))throw new RangeError(n)}function nne(t,e,r){const n=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${e}\`) for formatting ${n} to the input \`${r}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const ine=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,sne=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,ane=/^'([^]*?)'?$/,one=/''/g,lne=/[a-zA-Z]/;function bi(t,e,r){var d,h,f,p;const n=Wp(),i=n.locale??Wre,s=n.firstWeekContainsDate??((h=(d=n.locale)==null?void 0:d.options)==null?void 0:h.firstWeekContainsDate)??1,a=n.weekStartsOn??((p=(f=n.locale)==null?void 0:f.options)==null?void 0:p.weekStartsOn)??0,o=gr(t);if(!ure(o))throw new RangeError("Invalid time value");let l=e.match(sne).map(m=>{const y=m[0];if(y==="p"||y==="P"){const b=Qre[y];return b(m,i.formatLong)}return m}).join("").match(ine).map(m=>{if(m==="''")return{isToken:!1,value:"'"};const y=m[0];if(y==="'")return{isToken:!1,value:une(m)};if(eR[y])return{isToken:!0,value:m};if(y.match(lne))throw new RangeError("Format string contains an unescaped latin alphabet character `"+y+"`");return{isToken:!1,value:m}});i.localize.preprocessor&&(l=i.localize.preprocessor(o,l));const u={firstWeekContainsDate:s,weekStartsOn:a,locale:i};return l.map(m=>{if(!m.isToken)return m.value;const y=m.value;(tne(y)||ene(y))&&rne(y,e,String(t));const b=eR[y[0]];return b(o,y,i.localize,u)}).join("")}function une(t){const e=t.match(ane);return e?e[1].replace(one,"'"):t}function tl({title:t,value:e,icon:r,href:n}){return c.jsx(de,{to:n,className:"card p-6 hover:shadow-md transition-shadow",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-sm font-medium text-gray-500",children:t}),c.jsx("p",{className:"mt-1 text-3xl font-semibold",children:e})]}),c.jsx("div",{className:"p-3 bg-primary-50 rounded-lg",children:c.jsx(r,{className:"w-6 h-6 text-primary-600"})})]})})}function iR({person:t}){var e,r;return c.jsxs(de,{to:`/people/${t.id}`,className:"flex items-center p-3 rounded-lg hover:bg-gray-50 transition-colors",children:[t.thumbnail?c.jsx("img",{src:t.thumbnail,alt:t.name,loading:"lazy",className:"w-10 h-10 rounded-full object-cover"}):c.jsx("div",{className:"w-10 h-10 bg-gray-200 rounded-full flex items-center justify-center",children:c.jsx("span",{className:"text-sm font-medium text-gray-500",children:((e=t.first_name)==null?void 0:e[0])||"?"})}),c.jsxs("div",{className:"ml-3 flex-1 min-w-0",children:[c.jsx("p",{className:"text-sm font-medium text-gray-900 truncate",children:t.name}),((r=t.labels)==null?void 0:r.length)>0&&c.jsx("p",{className:"text-xs text-gray-500 truncate",children:t.labels.join(", ")})]}),t.is_favorite&&c.jsx(ud,{className:"w-4 h-4 text-yellow-400 fill-current"})]})}function cne({reminder:t}){var o,l,u,d,h;const e=t.days_until;let r="bg-gray-100 text-gray-700";e===0?r="bg-green-100 text-green-700":e<=3?r="bg-orange-100 text-orange-700":e<=7&&(r="bg-yellow-100 text-yellow-700");const n=((l=(o=t.related_people)==null?void 0:o[0])==null?void 0:l.name)||t.title,i=(d=(u=t.related_people)==null?void 0:u[0])==null?void 0:d.id,s=((h=t.related_people)==null?void 0:h.length)>0,a=c.jsxs(c.Fragment,{children:[c.jsx("div",{className:`px-2 py-1 rounded text-xs font-medium ${r}`,children:e===0?"Today":`${e}d`}),c.jsxs("div",{className:"ml-3 flex-1 min-w-0",children:[c.jsx("p",{className:"text-sm font-medium text-gray-900",children:n}),c.jsx("p",{className:"text-xs text-gray-500",children:bi(new Date(t.next_occurrence),"MMMM d, yyyy")}),s&&c.jsx("div",{className:"flex -space-x-2 mt-1",children:t.related_people.slice(0,3).map(f=>{var p;return f.thumbnail?c.jsx("img",{src:f.thumbnail,alt:f.name,loading:"lazy",className:"w-10 h-10 rounded-full border-2 border-white object-cover"},f.id):c.jsx("div",{className:"w-10 h-10 bg-gray-300 rounded-full border-2 border-white flex items-center justify-center",children:c.jsx("span",{className:"text-sm",children:(p=f.name)==null?void 0:p[0]})},f.id)})})]})]});return s&&i?c.jsx(de,{to:`/people/${i}`,className:"flex items-start p-3 rounded-lg hover:bg-gray-50 transition-colors",children:a}):c.jsx("div",{className:"flex items-start p-3 rounded-lg hover:bg-gray-50 transition-colors",children:a})}function dne(){return c.jsxs("div",{className:"card p-12 text-center",children:[c.jsx("div",{className:"flex justify-center mb-4",children:c.jsx("div",{className:"p-4 bg-primary-50 rounded-full",children:c.jsx(xV,{className:"w-12 h-12 text-primary-600"})})}),c.jsxs("h2",{className:"text-2xl font-semibold text-gray-900 mb-2",children:["Welcome to ",ou,"!"]}),c.jsx("p",{className:"text-gray-600 mb-8 max-w-md mx-auto",children:"Get started by adding your first contact, company, or important date. Your dashboard will populate as you add more information."}),c.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[c.jsxs(de,{to:"/people/new",className:"inline-flex items-center px-6 py-3 bg-primary-600 text-white rounded-lg hover:bg-primary-700 transition-colors",children:[c.jsx(Or,{className:"w-5 h-5 mr-2"}),"Add Your First Person"]}),c.jsxs(de,{to:"/companies/new",className:"inline-flex items-center px-6 py-3 bg-white text-gray-700 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",children:[c.jsx(Or,{className:"w-5 h-5 mr-2"}),"Add Your First Company"]})]})]})}function hne(){var u,d,h;const{data:t,isLoading:e,error:r}=Xte();if(e)return c.jsx("div",{className:"flex items-center justify-center h-64",children:c.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"})});if(r){const f=((u=r==null?void 0:r.response)==null?void 0:u.status)>=500||!(r!=null&&r.response);return c.jsx("div",{className:"card p-8 text-center",children:c.jsx("div",{className:"text-red-600 mb-2",children:f?c.jsxs(c.Fragment,{children:[c.jsx("p",{className:"font-medium mb-1",children:"Failed to load dashboard data"}),c.jsx("p",{className:"text-sm text-gray-600",children:"Please check your connection and try refreshing the page."})]}):c.jsxs(c.Fragment,{children:[c.jsx("p",{className:"font-medium mb-1",children:"Unable to load dashboard"}),c.jsx("p",{className:"text-sm text-gray-600",children:((h=(d=r==null?void 0:r.response)==null?void 0:d.data)==null?void 0:h.message)||"An error occurred while loading your data."})]})})})}const{stats:n,recent_people:i,upcoming_reminders:s,favorites:a}=t||{};return((n==null?void 0:n.total_people)||0)+((n==null?void 0:n.total_companies)||0)+((n==null?void 0:n.total_dates)||0)===0?c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:[c.jsx(tl,{title:"Total People",value:0,icon:bo,href:"/people"}),c.jsx(tl,{title:"Companies",value:0,icon:ls,href:"/companies"}),c.jsx(tl,{title:"Important Dates",value:0,icon:go,href:"/dates"})]}),c.jsx(dne,{})]}):c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:[c.jsx(tl,{title:"Total People",value:(n==null?void 0:n.total_people)||0,icon:bo,href:"/people"}),c.jsx(tl,{title:"Companies",value:(n==null?void 0:n.total_companies)||0,icon:ls,href:"/companies"}),c.jsx(tl,{title:"Important Dates",value:(n==null?void 0:n.total_dates)||0,icon:go,href:"/dates"})]}),c.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[c.jsxs("div",{className:"card",children:[c.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-200",children:[c.jsx("h2",{className:"font-semibold",children:"Upcoming Reminders"}),c.jsxs(de,{to:"/dates",className:"text-sm text-primary-600 hover:text-primary-700 flex items-center",children:["View all",c.jsx(HI,{className:"w-4 h-4 ml-1"})]})]}),c.jsx("div",{className:"divide-y divide-gray-100",children:(s==null?void 0:s.length)>0?s.map(f=>c.jsx(cne,{reminder:f},f.id)):c.jsx("p",{className:"p-4 text-sm text-gray-500 text-center",children:"No upcoming reminders"})})]}),c.jsxs("div",{className:"card",children:[c.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-200",children:[c.jsx("h2",{className:"font-semibold",children:"Recent People"}),c.jsxs(de,{to:"/people",className:"text-sm text-primary-600 hover:text-primary-700 flex items-center",children:["View all",c.jsx(HI,{className:"w-4 h-4 ml-1"})]})]}),c.jsx("div",{className:"divide-y divide-gray-100",children:(i==null?void 0:i.length)>0?i.map(f=>c.jsx(iR,{person:f},f.id)):c.jsxs("p",{className:"p-4 text-sm text-gray-500 text-center",children:["No people yet. ",c.jsx(de,{to:"/people/new",className:"text-primary-600",children:"Add someone"})]})})]})]}),(a==null?void 0:a.length)>0&&c.jsxs("div",{className:"card",children:[c.jsx("div",{className:"flex items-center justify-between p-4 border-b border-gray-200",children:c.jsx("h2",{className:"font-semibold",children:"Favorites"})}),c.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-2 p-2",children:a.map(f=>c.jsx(iR,{person:f},f.id))})]})]})}function ri(t){if(!t)return"";const e=document.createElement("textarea");return e.innerHTML=t,e.value}function Gi(t){var r;if(!t)return"";const e=((r=t.title)==null?void 0:r.rendered)||t.title||t.name||"";return ri(e)}function eo(t){var r,n;if(!t)return"";if(t.name&&typeof t.name=="string"&&!((r=t.title)!=null&&r.rendered))return ri(t.name);const e=((n=t.title)==null?void 0:n.rendered)||t.title||t.name||"";return ri(e)}function qa(t,e={}){const r=["gender"],n=["contact_info","work_history","relationships","photo_gallery"],i={...t};return r.forEach(s=>{i[s]===""&&(i[s]=null)}),n.forEach(s=>{Array.isArray(i[s])||(i[s]=[])}),Object.assign(i,e),i}const Qt={all:["people"],lists:()=>[...Qt.all,"list"],list:t=>[...Qt.lists(),t],details:()=>[...Qt.all,"detail"],detail:t=>[...Qt.details(),t],timeline:t=>[...Qt.detail(t),"timeline"],dates:t=>[...Qt.detail(t),"dates"]};function IV(t){var i,s,a,o,l,u,d,h,f,p,m,y,b,g,v,x,w;const e=((a=(s=(i=t._embedded)==null?void 0:i["wp:featuredmedia"])==null?void 0:s[0])==null?void 0:a.source_url)||((f=(h=(d=(u=(l=(o=t._embedded)==null?void 0:o["wp:featuredmedia"])==null?void 0:l[0])==null?void 0:u.media_details)==null?void 0:d.sizes)==null?void 0:h.thumbnail)==null?void 0:f.source_url)||null,r=((b=(y=(m=(p=t._embedded)==null?void 0:p["wp:term"])==null?void 0:m.flat())==null?void 0:y.filter(_=>(_==null?void 0:_.taxonomy)==="person_label"))==null?void 0:b.map(_=>_.name))||[],n=ri(((g=t.title)==null?void 0:g.rendered)||"");return{...t,id:t.id,name:n,first_name:((v=t.acf)==null?void 0:v.first_name)||"",last_name:((x=t.acf)==null?void 0:x.last_name)||"",is_favorite:((w=t.acf)==null?void 0:w.is_favorite)||!1,thumbnail:e,labels:r}}function Hp(t={}){return ht({queryKey:Qt.list(t),queryFn:async()=>{const e=[];let r=1;const n=100;for(;;){const i=await Le.getPeople({per_page:n,page:r,_embed:!0,...t}),s=i.data.map(IV);if(e.push(...s),s.length<n)break;const a=parseInt(i.headers["x-wp-totalpages"]||i.headers["X-WP-TotalPages"]||"0",10);if(a>0&&r>=a)break;r++}return e}})}function Eu(t){return ht({queryKey:Qt.detail(t),queryFn:async()=>{const e=await Le.getPerson(t,{_embed:!0});return IV(e.data)},enabled:!!t})}function fne(t){return ht({queryKey:Qt.timeline(t),queryFn:async()=>(await Jt.getPersonTimeline(t)).data,enabled:!!t})}function pne(t){return ht({queryKey:Qt.dates(t),queryFn:async()=>(await Jt.getPersonDates(t)).data,enabled:!!t})}function mne(){const t=Zt();return Tt({mutationFn:e=>Le.createPerson(e),onSuccess:()=>{t.invalidateQueries({queryKey:Qt.lists()})}})}function Ld(){const t=Zt();return Tt({mutationFn:({id:e,data:r})=>Le.updatePerson(e,r),onSuccess:(e,{id:r,data:n})=>{var i;t.invalidateQueries({queryKey:Qt.detail(r)}),t.invalidateQueries({queryKey:Qt.lists()}),(i=n==null?void 0:n.acf)!=null&&i.relationships&&(Array.isArray(n.acf.relationships)?n.acf.relationships:[]).forEach(a=>{const o=a.related_person;o&&t.invalidateQueries({queryKey:Qt.detail(o)})})}})}function vne(){const t=Zt();return Tt({mutationFn:e=>Le.deletePerson(e,{force:!0}),onSuccess:()=>{t.invalidateQueries({queryKey:Qt.lists()}),t.invalidateQueries({queryKey:Qt.details()})}})}function gne(){const t=Zt();return Tt({mutationFn:({noteId:e,personId:r})=>Jt.deleteNote(e),onSuccess:(e,{personId:r})=>{t.invalidateQueries({queryKey:Qt.timeline(r)})}})}function yne(){const t=Zt();return Tt({mutationFn:({dateId:e,personId:r})=>Le.deleteDate(e),onSuccess:(e,{personId:r})=>{r&&(t.invalidateQueries({queryKey:Qt.dates(r)}),t.invalidateQueries({queryKey:Qt.detail(r)})),t.invalidateQueries({queryKey:["reminders"]})}})}function sR(t){var i;const e=((i=t.acf)==null?void 0:i.work_history)||[];if(e.length===0)return null;const r=e.find(s=>s.is_current&&s.company);if(r)return r.company;const n=e.filter(s=>s.company).sort((s,a)=>{const o=s.start_date?new Date(s.start_date):new Date(0);return(a.start_date?new Date(a.start_date):new Date(0))-o});return n.length>0?n[0].company:null}function bne({person:t,companyName:e,isDeceased:r}){var n,i;return c.jsx(de,{to:`/people/${t.id}`,className:"card p-4 hover:shadow-md transition-shadow",children:c.jsxs("div",{className:"flex items-start",children:[t.thumbnail?c.jsx("img",{src:t.thumbnail,alt:t.name,loading:"lazy",className:"w-12 h-12 rounded-full object-cover"}):c.jsx("div",{className:"w-12 h-12 bg-gray-200 rounded-full flex items-center justify-center",children:c.jsx("span",{className:"text-lg font-medium text-gray-500",children:((n=t.first_name)==null?void 0:n[0])||"?"})}),c.jsxs("div",{className:"ml-3 flex-1 min-w-0",children:[c.jsxs("div",{className:"flex items-center",children:[c.jsxs("h3",{className:"text-sm font-medium text-gray-900 truncate",children:[t.name,r&&c.jsx("span",{className:"ml-1 text-gray-500",children:""})]}),t.is_favorite&&c.jsx(ud,{className:"w-4 h-4 ml-1 text-yellow-400 fill-current flex-shrink-0"})]}),e&&c.jsx("p",{className:"text-xs text-gray-500 mt-0.5 truncate",children:e}),((i=t.labels)==null?void 0:i.length)>0&&c.jsx("div",{className:"flex flex-wrap gap-1 mt-1",children:t.labels.slice(0,3).map(s=>c.jsx("span",{className:"inline-flex px-2 py-0.5 text-xs rounded-full bg-gray-100 text-gray-600",children:s},s))})]})]})})}function wne(){const[t,e]=$.useState(!1),[r,n]=$.useState(!1),[i,s]=$.useState([]),[a,o]=$.useState("first_name"),[l,u]=$.useState("asc"),d=$.useRef(null),h=$.useRef(null),{data:f,isLoading:p,error:m}=Hp(),{data:y}=ht({queryKey:["person-labels"],queryFn:async()=>(await Le.getPersonLabels()).data}),b=(y==null?void 0:y.map(N=>N.name))||[];$.useEffect(()=>{const N=T=>{h.current&&!h.current.contains(T.target)&&d.current&&!d.current.contains(T.target)&&e(!1)};return document.addEventListener("mousedown",N),()=>{document.removeEventListener("mousedown",N)}},[]);const g=$.useMemo(()=>{if(!f)return[];let N=[...f];return r&&(N=N.filter(T=>T.is_favorite)),i.length>0&&(N=N.filter(T=>{const q=T.labels||[];return i.some(B=>q.includes(B))})),N.sort((T,q)=>{var L,W,z,U,Q,fe,ge,Me;let B,X;if(a==="first_name"?(B=(((L=T.acf)==null?void 0:L.first_name)||T.first_name||"").toLowerCase(),X=(((W=q.acf)==null?void 0:W.first_name)||q.first_name||"").toLowerCase()):(B=(((z=T.acf)==null?void 0:z.last_name)||T.last_name||"").toLowerCase(),X=(((U=q.acf)==null?void 0:U.last_name)||q.last_name||"").toLowerCase()),B===X){const xe=a==="first_name"?(((Q=T.acf)==null?void 0:Q.last_name)||T.last_name||"").toLowerCase():(((fe=T.acf)==null?void 0:fe.first_name)||T.first_name||"").toLowerCase(),Oe=a==="first_name"?(((ge=q.acf)==null?void 0:ge.last_name)||q.last_name||"").toLowerCase():(((Me=q.acf)==null?void 0:Me.first_name)||q.first_name||"").toLowerCase(),Ne=xe.localeCompare(Oe);return l==="asc"?Ne:-Ne}const H=B.localeCompare(X);return l==="asc"?H:-H})},[f,r,i,a,l]),v=r||i.length>0,x=N=>{s(T=>T.includes(N)?T.filter(q=>q!==N):[...T,N])},w=()=>{n(!1),s([])},_=$.useMemo(()=>{if(!g)return[];const N=g.map(T=>sR(T)).filter(Boolean);return[...new Set(N)]},[g]),{data:E}=ht({queryKey:["companies","batch",_.sort().join(",")],queryFn:async()=>_.length===0?[]:(await Le.getCompanies({per_page:100,include:_.join(",")})).data,enabled:_.length>0}),O=$.useMemo(()=>{const N={};return E&&E.forEach(T=>{N[T.id]=Gi(T)}),N},[E]),S=$.useMemo(()=>{const N={};return g.forEach(T=>{const q=sR(T);q&&O[q]&&(N[T.id]=O[q])}),N},[g,O]),P=$.useMemo(()=>g.map(N=>N.id).filter(Boolean),[g]),C=Zf({queries:P.map(N=>({queryKey:["person-dates",N],queryFn:async()=>(await Jt.getPersonDates(N)).data,enabled:!!N}))}),I=$.useMemo(()=>{const N={};return C.forEach((T,q)=>{if(T.data&&P[q]){const B=P[q],X=T.data.some(H=>{const L=Array.isArray(H.date_type)?H.date_type[0]:H.date_type;return(L==null?void 0:L.toLowerCase())==="died"});N[B]=X}}),N},[C,P]);return c.jsxs("div",{className:"space-y-4",children:[c.jsx("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:c.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[c.jsxs("div",{className:"flex items-center gap-2 border border-gray-200 rounded-lg p-1",children:[c.jsxs("select",{value:a,onChange:N=>o(N.target.value),className:"text-sm border-0 bg-transparent focus:ring-0 focus:outline-none cursor-pointer",children:[c.jsx("option",{value:"first_name",children:"First Name"}),c.jsx("option",{value:"last_name",children:"Last Name"})]}),c.jsx("div",{className:"h-4 w-px bg-gray-300"}),c.jsx("button",{onClick:()=>u(l==="asc"?"desc":"asc"),className:"p-1 hover:bg-gray-100 rounded transition-colors",title:`Sort ${l==="asc"?"descending":"ascending"}`,children:l==="asc"?c.jsx(Ite,{className:"w-4 h-4 text-gray-600"}):c.jsx(Tte,{className:"w-4 h-4 text-gray-600"})})]}),c.jsxs("div",{className:"relative",ref:d,children:[c.jsxs("button",{onClick:()=>e(!t),className:`btn-secondary ${v?"bg-primary-50 text-primary-700 border-primary-200":""}`,children:[c.jsx(GI,{className:"w-4 h-4 md:mr-2"}),c.jsx("span",{className:"hidden md:inline",children:"Filter"}),v&&c.jsx("span",{className:"ml-2 px-1.5 py-0.5 bg-primary-600 text-white text-xs rounded-full",children:i.length+(r?1:0)})]}),t&&c.jsx("div",{ref:h,className:"absolute top-full left-0 mt-2 w-64 bg-white border border-gray-200 rounded-lg shadow-lg z-50",children:c.jsxs("div",{className:"p-4 space-y-4",children:[c.jsx("div",{children:c.jsxs("label",{className:"flex items-center cursor-pointer",children:[c.jsx("input",{type:"checkbox",checked:r,onChange:N=>n(N.target.checked),className:"sr-only"}),c.jsx("div",{className:`flex items-center justify-center w-5 h-5 border-2 rounded mr-3 ${r?"bg-primary-600 border-primary-600":"border-gray-300"}`,children:r&&c.jsx(KI,{className:"w-3 h-3 text-white"})}),c.jsxs("div",{className:"flex items-center",children:[c.jsx(ud,{className:"w-4 h-4 mr-2 text-yellow-400 fill-current"}),c.jsx("span",{className:"text-sm font-medium text-gray-900",children:"Favorites only"})]})]})}),b.length>0&&c.jsxs("div",{children:[c.jsx("h3",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wide mb-2",children:"Labels"}),c.jsx("div",{className:"space-y-1 max-h-48 overflow-y-auto",children:b.map(N=>c.jsxs("label",{className:"flex items-center cursor-pointer hover:bg-gray-50 p-1 rounded",children:[c.jsx("input",{type:"checkbox",checked:i.includes(N),onChange:()=>x(N),className:"sr-only"}),c.jsx("div",{className:`flex items-center justify-center w-5 h-5 border-2 rounded mr-3 ${i.includes(N)?"bg-primary-600 border-primary-600":"border-gray-300"}`,children:i.includes(N)&&c.jsx(KI,{className:"w-3 h-3 text-white"})}),c.jsx("span",{className:"text-sm text-gray-700",children:N})]},N))})]}),v&&c.jsx("button",{onClick:w,className:"w-full text-sm text-primary-600 hover:text-primary-700 font-medium pt-2 border-t border-gray-200",children:"Clear all filters"})]})})]}),v&&c.jsxs("div",{className:"flex flex-wrap gap-2",children:[r&&c.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 bg-primary-100 text-primary-800 rounded-full text-xs",children:[c.jsx(ud,{className:"w-3 h-3"}),"Favorites",c.jsx("button",{onClick:()=>n(!1),className:"hover:text-primary-600",children:c.jsx(ca,{className:"w-3 h-3"})})]}),i.map(N=>c.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 bg-gray-100 text-gray-800 rounded-full text-xs",children:[N,c.jsx("button",{onClick:()=>x(N),className:"hover:text-gray-600",children:c.jsx(ca,{className:"w-3 h-3"})})]},N))]}),c.jsxs(de,{to:"/people/new",className:"btn-primary",children:[c.jsx(Or,{className:"w-4 h-4 md:mr-2"}),c.jsx("span",{className:"hidden md:inline",children:"Add Person"})]})]})}),p&&c.jsx("div",{className:"flex items-center justify-center h-64",children:c.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"})}),m&&c.jsx("div",{className:"card p-6 text-center",children:c.jsx("p",{className:"text-red-600",children:"Failed to load people."})}),!p&&!m&&(f==null?void 0:f.length)===0&&c.jsxs("div",{className:"card p-12 text-center",children:[c.jsx("div",{className:"w-12 h-12 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4",children:c.jsx(Or,{className:"w-6 h-6 text-gray-400"})}),c.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-1",children:"No people found"}),c.jsx("p",{className:"text-gray-500 mb-4",children:"Get started by adding your first person."}),c.jsxs(de,{to:"/people/new",className:"btn-primary",children:[c.jsx(Or,{className:"w-4 h-4 md:mr-2"}),c.jsx("span",{className:"hidden md:inline",children:"Add Person"})]})]}),!p&&!m&&(g==null?void 0:g.length)>0&&c.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:g.map(N=>c.jsx(bne,{person:N,companyName:S[N.id],isDeceased:I[N.id]||!1},N.id))}),!p&&!m&&(f==null?void 0:f.length)>0&&(g==null?void 0:g.length)===0&&c.jsxs("div",{className:"card p-12 text-center",children:[c.jsx("div",{className:"w-12 h-12 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4",children:c.jsx(GI,{className:"w-6 h-6 text-gray-400"})}),c.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-1",children:"No people match your filters"}),c.jsx("p",{className:"text-gray-500 mb-4",children:"Try adjusting your filters to see more results."}),c.jsx("button",{onClick:w,className:"btn-secondary",children:"Clear filters"})]})]})}const xne="#0285FF",_ne=$.forwardRef(function({title:e="Bluesky",color:r="currentColor",size:n=24,...i},s){return r==="default"&&(r=xne),c.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:n,height:n,fill:r,viewBox:"0 0 24 24",ref:s,...i,children:[c.jsx("title",{children:e}),c.jsx("path",{d:"M12 10.8c-1.087-2.114-4.046-6.053-6.798-7.995C2.566.944 1.561 1.266.902 1.565.139 1.908 0 3.08 0 3.768c0 .69.378 5.65.624 6.479.815 2.736 3.713 3.66 6.383 3.364.136-.02.275-.039.415-.056-.138.022-.276.04-.415.056-3.912.58-7.387 2.005-2.83 7.078 5.013 5.19 6.87-1.113 7.823-4.308.953 3.195 2.05 9.271 7.733 4.308 4.267-4.308 1.172-6.498-2.74-7.078a8.741 8.741 0 0 1-.415-.056c.14.017.279.036.415.056 2.67.297 5.568-.628 6.383-3.364.246-.828.624-5.79.624-6.478 0-.69-.139-1.861-.902-2.206-.659-.298-1.664-.62-4.3 1.24C16.046 4.748 13.087 8.687 12 10.8Z"})]})}),Sne="#0866FF",Ene=$.forwardRef(function({title:e="Facebook",color:r="currentColor",size:n=24,...i},s){return r==="default"&&(r=Sne),c.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:n,height:n,fill:r,viewBox:"0 0 24 24",ref:s,...i,children:[c.jsx("title",{children:e}),c.jsx("path",{d:"M9.101 23.691v-7.98H6.627v-3.667h2.474v-1.58c0-4.085 1.848-5.978 5.858-5.978.401 0 .955.042 1.468.103a8.68 8.68 0 0 1 1.141.195v3.325a8.623 8.623 0 0 0-.653-.036 26.805 26.805 0 0 0-.733-.009c-.707 0-1.259.096-1.675.309a1.686 1.686 0 0 0-.679.622c-.258.42-.374.995-.374 1.752v1.297h3.919l-.386 2.103-.287 1.564h-3.246v8.245C19.396 23.238 24 18.179 24 12.044c0-6.627-5.373-12-12-12s-12 5.373-12 12c0 5.628 3.874 10.35 9.101 11.647Z"})]})}),One="#FF0069",Pne=$.forwardRef(function({title:e="Instagram",color:r="currentColor",size:n=24,...i},s){return r==="default"&&(r=One),c.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:n,height:n,fill:r,viewBox:"0 0 24 24",ref:s,...i,children:[c.jsx("title",{children:e}),c.jsx("path",{d:"M7.0301.084c-1.2768.0602-2.1487.264-2.911.5634-.7888.3075-1.4575.72-2.1228 1.3877-.6652.6677-1.075 1.3368-1.3802 2.127-.2954.7638-.4956 1.6365-.552 2.914-.0564 1.2775-.0689 1.6882-.0626 4.947.0062 3.2586.0206 3.6671.0825 4.9473.061 1.2765.264 2.1482.5635 2.9107.308.7889.72 1.4573 1.388 2.1228.6679.6655 1.3365 1.0743 2.1285 1.38.7632.295 1.6361.4961 2.9134.552 1.2773.056 1.6884.069 4.9462.0627 3.2578-.0062 3.668-.0207 4.9478-.0814 1.28-.0607 2.147-.2652 2.9098-.5633.7889-.3086 1.4578-.72 2.1228-1.3881.665-.6682 1.0745-1.3378 1.3795-2.1284.2957-.7632.4966-1.636.552-2.9124.056-1.2809.0692-1.6898.063-4.948-.0063-3.2583-.021-3.6668-.0817-4.9465-.0607-1.2797-.264-2.1487-.5633-2.9117-.3084-.7889-.72-1.4568-1.3876-2.1228C21.2982 1.33 20.628.9208 19.8378.6165 19.074.321 18.2017.1197 16.9244.0645 15.6471.0093 15.236-.005 11.977.0014 8.718.0076 8.31.0215 7.0301.0839m.1402 21.6932c-1.17-.0509-1.8053-.2453-2.2287-.408-.5606-.216-.96-.4771-1.3819-.895-.422-.4178-.6811-.8186-.9-1.378-.1644-.4234-.3624-1.058-.4171-2.228-.0595-1.2645-.072-1.6442-.079-4.848-.007-3.2037.0053-3.583.0607-4.848.05-1.169.2456-1.805.408-2.2282.216-.5613.4762-.96.895-1.3816.4188-.4217.8184-.6814 1.3783-.9003.423-.1651 1.0575-.3614 2.227-.4171 1.2655-.06 1.6447-.072 4.848-.079 3.2033-.007 3.5835.005 4.8495.0608 1.169.0508 1.8053.2445 2.228.408.5608.216.96.4754 1.3816.895.4217.4194.6816.8176.9005 1.3787.1653.4217.3617 1.056.4169 2.2263.0602 1.2655.0739 1.645.0796 4.848.0058 3.203-.0055 3.5834-.061 4.848-.051 1.17-.245 1.8055-.408 2.2294-.216.5604-.4763.96-.8954 1.3814-.419.4215-.8181.6811-1.3783.9-.4224.1649-1.0577.3617-2.2262.4174-1.2656.0595-1.6448.072-4.8493.079-3.2045.007-3.5825-.006-4.848-.0608M16.953 5.5864A1.44 1.44 0 1 0 18.39 4.144a1.44 1.44 0 0 0-1.437 1.4424M5.8385 12.012c.0067 3.4032 2.7706 6.1557 6.173 6.1493 3.4026-.0065 6.157-2.7701 6.1506-6.1733-.0065-3.4032-2.771-6.1565-6.174-6.1498-3.403.0067-6.156 2.771-6.1496 6.1738M8 12.0077a4 4 0 1 1 4.008 3.9921A3.9996 3.9996 0 0 1 8 12.0077"})]})}),Cne="#000000",Nne=$.forwardRef(function({title:e="Threads",color:r="currentColor",size:n=24,...i},s){return r==="default"&&(r=Cne),c.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:n,height:n,fill:r,viewBox:"0 0 24 24",ref:s,...i,children:[c.jsx("title",{children:e}),c.jsx("path",{d:"M12.186 24h-.007c-3.581-.024-6.334-1.205-8.184-3.509C2.35 18.44 1.5 15.586 1.472 12.01v-.017c.03-3.579.879-6.43 2.525-8.482C5.845 1.205 8.6.024 12.18 0h.014c2.746.02 5.043.725 6.826 2.098 1.677 1.29 2.858 3.13 3.509 5.467l-2.04.569c-1.104-3.96-3.898-5.984-8.304-6.015-2.91.022-5.11.936-6.54 2.717C4.307 6.504 3.616 8.914 3.589 12c.027 3.086.718 5.496 2.057 7.164 1.43 1.783 3.631 2.698 6.54 2.717 2.623-.02 4.358-.631 5.8-2.045 1.647-1.613 1.618-3.593 1.09-4.798-.31-.71-.873-1.3-1.634-1.75-.192 1.352-.622 2.446-1.284 3.272-.886 1.102-2.14 1.704-3.73 1.79-1.202.065-2.361-.218-3.259-.801-1.063-.689-1.685-1.74-1.752-2.964-.065-1.19.408-2.285 1.33-3.082.88-.76 2.119-1.207 3.583-1.291a13.853 13.853 0 0 1 3.02.142c-.126-.742-.375-1.332-.75-1.757-.513-.586-1.308-.883-2.359-.89h-.029c-.844 0-1.992.232-2.721 1.32L7.734 7.847c.98-1.454 2.568-2.256 4.478-2.256h.044c3.194.02 5.097 1.975 5.287 5.388.108.046.216.094.321.142 1.49.7 2.58 1.761 3.154 3.07.797 1.82.871 4.79-1.548 7.158-1.85 1.81-4.094 2.628-7.277 2.65Zm1.003-11.69c-.242 0-.487.007-.739.021-1.836.103-2.98.946-2.916 2.143.067 1.256 1.452 1.839 2.784 1.767 1.224-.065 2.818-.543 3.086-3.71a10.5 10.5 0 0 0-2.215-.221z"})]})}),Tne="#000000",Ine=$.forwardRef(function({title:e="X",color:r="currentColor",size:n=24,...i},s){return r==="default"&&(r=Tne),c.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:n,height:n,fill:r,viewBox:"0 0 24 24",ref:s,...i,children:[c.jsx("title",{children:e}),c.jsx("path",{d:"M18.901 1.153h3.68l-8.04 9.19L24 22.846h-7.406l-5.8-7.584-6.638 7.584H.474l8.6-9.83L0 1.154h7.594l5.243 6.932ZM17.61 20.644h2.039L6.486 3.24H4.298Z"})]})});function ki(t){return t?String(t).replace(/\\/g,"\\\\").replace(/;/g,"\\;").replace(/,/g,"\\,").replace(/\n/g,"\\n"):""}function Rne(t){return t?t.replace(/[^\d+]/g,""):""}function aR(t){if(!t)return"";const e=new Date(t);if(isNaN(e.getTime()))return"";const r=e.getFullYear(),n=String(e.getMonth()+1).padStart(2,"0"),i=String(e.getDate()).padStart(2,"0");return`${r}${n}${i}`}function jne(t,e={}){if(!t||!Array.isArray(t))return{title:"",org:""};const r=t.find(i=>i.is_current);if(r){const i=r.company&&e[r.company]?e[r.company].name||e[r.company]:"";return{title:r.job_title||"",org:i}}const n=[...t].filter(i=>i.start_date).sort((i,s)=>new Date(s.start_date)-new Date(i.start_date));if(n.length>0){const i=n[0].company&&e[n[0].company]?e[n[0].company].name||e[n[0].company]:"";return{title:n[0].job_title||"",org:i}}return{title:"",org:""}}function $ne(t,e={}){if(!t)throw new Error("Person data is required");const{companyMap:r={},personDates:n=[]}=e,i=t.acf||{},s=[];s.push("BEGIN:VCARD"),s.push("VERSION:3.0");const a=i.first_name||"",o=i.last_name||"",l=t.name||`${a} ${o}`.trim()||"Unknown";s.push(`FN:${ki(l)}`),s.push(`N:${ki(o)};${ki(a)};;;`),i.nickname&&s.push(`NICKNAME:${ki(i.nickname)}`),i.contact_info&&Array.isArray(i.contact_info)&&i.contact_info.forEach(h=>{if(!h.contact_value)return;const f=ki(h.contact_value),p=h.contact_label?ki(h.contact_label):"";switch(h.contact_type){case"email":const m=p?`EMAIL;TYPE=INTERNET,${p.toUpperCase()}`:"EMAIL;TYPE=INTERNET";s.push(`${m}:${f}`);break;case"phone":case"mobile":const y=h.contact_type==="mobile"?"CELL":"VOICE",b=p?`TEL;TYPE=${y},${p.toUpperCase()}`:`TEL;TYPE=${y}`,g=Rne(h.contact_value);g&&s.push(`${b}:${g}`);break;case"address":s.push(`ADR;TYPE=HOME:;;${f};;;;`);break;case"website":case"linkedin":case"twitter":case"instagram":case"facebook":let v=h.contact_value;v.match(/^https?:\/\//i)||(v=`https://${v}`);const x=h.contact_type==="linkedin"?"PROFILE":"WORK",w=p?`URL;TYPE=${x},${p.toUpperCase()}`:`URL;TYPE=${x}`;s.push(`${w}:${ki(v)}`);break}});const{title:u,org:d}=jne(i.work_history,r);if(d&&s.push(`ORG:${ki(d)}`),u&&s.push(`TITLE:${ki(u)}`),n&&Array.isArray(n)){const h=n.find(f=>{const p=Array.isArray(f.date_type)?f.date_type[0]:f.date_type;return(p==null?void 0:p.toLowerCase())==="birthday"});if(h!=null&&h.date_value){const f=aR(h.date_value);f&&s.push(`BDAY:${f}`)}}if(t.thumbnail,t.modified){const h=aR(t.modified);h&&s.push(`REV:${h}T000000Z`)}return s.push("END:VCARD"),s.join(`\r
`)}function kne(t,e={}){const{filename:r,...n}=e,i=$ne(t,n),s=new Blob([i],{type:"text/vcard;charset=utf-8"}),a=URL.createObjectURL(s),o=document.createElement("a");o.href=a,o.download=r||`${t.name||"contact"}.vcf`.replace(/[^a-z0-9.-]/gi,"_"),document.body.appendChild(o),o.click(),document.body.removeChild(o),URL.revokeObjectURL(a)}const Dne=({className:t})=>c.jsx("svg",{className:t,viewBox:"0 0 382 382",xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",children:c.jsx("path",{d:`M347.445,0H34.555C15.471,0,0,15.471,0,34.555v312.889C0,366.529,15.471,382,34.555,382h312.889
      C366.529,382,382,366.529,382,347.444V34.555C382,15.471,366.529,0,347.445,0z M118.207,329.844c0,5.554-4.502,10.056-10.056,10.056
      H65.345c-5.554,0-10.056-4.502-10.056-10.056V150.403c0-5.554,4.502-10.056,10.056-10.056h42.806
      c5.554,0,10.056,4.502,10.056,10.056V329.844z M86.748,123.432c-22.459,0-40.666-18.207-40.666-40.666S64.289,42.1,86.748,42.1
      s40.666,18.207,40.666,40.666S109.208,123.432,86.748,123.432z M341.91,330.654c0,5.106-4.14,9.246-9.246,9.246H286.73
      c-5.106,0-9.246-4.14-9.246-9.246v-84.168c0-12.556,3.683-55.021-32.813-55.021c-28.309,0-34.051,29.066-35.204,42.11v97.079
      c0,5.106-4.139,9.246-9.246,9.246h-44.426c-5.106,0-9.246-4.14-9.246-9.246V149.593c0-5.106,4.14-9.246,9.246-9.246h44.426
      c5.106,0,9.246,4.14,9.246,9.246v15.655c10.497-15.753,26.097-27.912,59.312-27.912c73.552,0,73.131,68.716,73.131,106.472
      L341.91,330.654L341.91,330.654z`})});function Kh(t){if(!t)return null;switch(t){case"male":return"";case"female":return"";case"non_binary":case"other":case"prefer_not_to_say":return"";default:return null}}function qne(){var D,F,re,J,V,ce,je,Ae,Rt,pe,Z,oe,ie,ve;const{id:t}=fs(),e=sn(),r=Zt(),{data:n,isLoading:i,error:s}=Eu(t),{data:a}=fne(t),{data:o}=pne(t),l=vne(),u=gne(),d=yne(),h=Ld(),[f,p]=$.useState(!1),[m,y]=$.useState(""),[b,g]=$.useState(!1),v=$.useRef(null),{data:x}=ht({queryKey:["person-labels"],queryFn:async()=>(await Le.getPersonLabels()).data}),w=x||[],_=(n==null?void 0:n.labels)||[],E=((J=(re=(F=(D=n==null?void 0:n._embedded)==null?void 0:D["wp:term"])==null?void 0:F.flat())==null?void 0:re.filter(k=>(k==null?void 0:k.taxonomy)==="person_label"))==null?void 0:J.map(k=>k.id))||[],O=w.filter(k=>!_.includes(k.name));bn((n==null?void 0:n.name)||((V=n==null?void 0:n.title)==null?void 0:V.rendered)||(n==null?void 0:n.title)||"Person");const S=o==null?void 0:o.find(k=>{const ne=Array.isArray(k.date_type)?k.date_type[0]:k.date_type;return(ne==null?void 0:ne.toLowerCase())==="birthday"}),P=S!=null&&S.date_value?new Date(S.date_value):null,C=o==null?void 0:o.find(k=>{const ne=Array.isArray(k.date_type)?k.date_type[0]:k.date_type;return(ne==null?void 0:ne.toLowerCase())==="died"}),I=C!=null&&C.date_value?new Date(C.date_value):null,N=!!I,T=P?av(N?I:new Date,P):null,q=o?[...o].sort((k,ne)=>{const se=k.date_value?new Date(k.date_value):new Date(0),Ee=ne.date_value?new Date(ne.date_value):new Date(0);return se-Ee}):[],B=async()=>{if(window.confirm("Are you sure you want to delete this person?"))try{await l.mutateAsync(t),e("/people")}catch(k){console.error("Failed to delete person:",k),alert("Failed to delete person. Please try again.")}},X=k=>{if(!k)return"";let ne=k.replace(/[\u200B-\u200D\uFEFF\u200E\u200F\u202A-\u202E]/g,"");const se=ne.startsWith("+");return ne=ne.replace(/\D/g,""),se?`+${ne}`:ne},H=async k=>{var Ee;if(!window.confirm("Are you sure you want to delete this contact detail?"))return;const ne=[...((Ee=n.acf)==null?void 0:Ee.contact_info)||[]];ne.splice(k,1);const se=qa(n.acf,{contact_info:ne});await h.mutateAsync({id:t,data:{acf:se}})},L=async k=>{var Wn,ji,Jo,Eh,YN,QN;if(!window.confirm("Are you sure you want to delete this relationship?"))return;const ne=(ji=(Wn=n.acf)==null?void 0:Wn.relationships)==null?void 0:ji[k];if(!ne)return;const se=ne.related_person,Ee=ne.relationship_type;let ze=!0;se&&Ee&&(ze=window.confirm("Do you also want to delete the inverse relationship from the other person?"));let nt=null;if(!ze&&se&&Ee)try{const[di,Oh]=await Promise.all([Le.getPerson(se,{_embed:!0}),Le.getRelationshipTypes()]),Nm={};Oh.data.forEach(Zu=>{Nm[Zu.id]=Zu});const En=Nm[Ee],Oa=(Jo=En==null?void 0:En.acf)==null?void 0:Jo.inverse_relationship_type;if(Oa){const ec=(((Eh=di.data.acf)==null?void 0:Eh.relationships)||[]).find($i=>{var XN,JN;const LY=typeof $i.related_person=="object"?(XN=$i.related_person)==null?void 0:XN.ID:$i.related_person,BY=typeof $i.relationship_type=="object"?(JN=$i.relationship_type)==null?void 0:JN.term_id:$i.relationship_type;return LY===parseInt(t)&&BY===Oa});ec&&(nt={related_person:parseInt(t),relationship_type:Oa,relationship_label:ec.relationship_label||""})}}catch(di){console.error("Failed to fetch inverse relationship:",di)}const Je=[...((YN=n.acf)==null?void 0:YN.relationships)||[]];Je.splice(k,1);const Xo=qa(n.acf,{relationships:Je});if(await h.mutateAsync({id:t,data:{acf:Xo}}),!ze&&nt&&se){await new Promise(di=>setTimeout(di,500));try{const di=await Le.getPerson(se,{_embed:!0}),Oh=((QN=di.data.acf)==null?void 0:QN.relationships)||[];if(!Oh.some(En=>{var ec,$i;const Oa=typeof En.related_person=="object"?(ec=En.related_person)==null?void 0:ec.ID:En.related_person,Zu=typeof En.relationship_type=="object"?($i=En.relationship_type)==null?void 0:$i.term_id:En.relationship_type;return Oa===nt.related_person&&Zu===nt.relationship_type})){const En=[...Oh,nt],Oa=qa(di.data.acf,{relationships:En});await Le.updatePerson(se,{acf:Oa})}}catch(di){console.error("Failed to restore inverse relationship:",di)}}r.invalidateQueries({queryKey:["person",t]}),se&&r.invalidateQueries({queryKey:["person",se]}),r.invalidateQueries({queryKey:["people"]})},W=async k=>{window.confirm("Are you sure you want to delete this important date?")&&await d.mutateAsync({dateId:k,personId:t})},z=async k=>{window.confirm("Are you sure you want to delete this note?")&&await u.mutateAsync({noteId:k,personId:t})},U=async k=>{var Ee;if(!window.confirm("Are you sure you want to delete this work history item?"))return;const ne=[...((Ee=n.acf)==null?void 0:Ee.work_history)||[]];ne.splice(k,1);const se=qa(n.acf,{work_history:ne});await h.mutateAsync({id:t,data:{acf:se}})},Q=async k=>{var Ee,ze,nt;const ne=(nt=(ze=(Ee=n==null?void 0:n._embedded)==null?void 0:Ee["wp:term"])==null?void 0:ze.flat())==null?void 0:nt.find(Je=>(Je==null?void 0:Je.taxonomy)==="person_label"&&(Je==null?void 0:Je.name)===k);if(!ne)return;const se=E.filter(Je=>Je!==ne.id);await h.mutateAsync({id:t,data:{person_label:se}})},fe=async()=>{if(!m)return;const k=w.find(se=>se.id.toString()===m);if(!k)return;const ne=[...E,k.id];await h.mutateAsync({id:t,data:{person_label:ne}}),y(""),p(!1)},ge=async k=>{var se;const ne=(se=k.target.files)==null?void 0:se[0];if(ne){if(!ne.type.startsWith("image/")){alert("Please select an image file");return}if(ne.size>5*1024*1024){alert("Image size must be less than 5MB");return}g(!0);try{await Jt.uploadPersonPhoto(t,ne),r.invalidateQueries({queryKey:["person",t]}),r.invalidateQueries({queryKey:["people"]})}catch(Ee){console.error("Failed to upload photo:",Ee),alert("Failed to upload photo. Please try again.")}finally{g(!1),v.current&&(v.current.value="")}}},Me=()=>{if(n)try{kne(n,{companyMap:ut,personDates:o||[]})}catch(k){console.error("Failed to export vCard:",k),alert("Failed to export vCard. Please try again.")}},xe=((je=(ce=n==null?void 0:n.acf)==null?void 0:ce.work_history)==null?void 0:je.map(k=>k.company).filter(Boolean))||[],Oe=Zf({queries:xe.map(k=>({queryKey:["company",k],queryFn:async()=>(await Le.getCompany(k,{_embed:!0})).data,enabled:!!k}))}),Ne=((Rt=(Ae=n==null?void 0:n.acf)==null?void 0:Ae.relationships)==null?void 0:Rt.map(k=>k.related_person).filter(Boolean))||[],vt=Zf({queries:Ne.map(k=>({queryKey:["person-dates",k],queryFn:async()=>(await Jt.getPersonDates(k)).data,enabled:!!k}))}),Xe=$.useMemo(()=>{const k={};return vt.forEach((ne,se)=>{if(ne.data&&Ne[se]){const Ee=Ne[se],ze=ne.data.find(nt=>{const Je=Array.isArray(nt.date_type)?nt.date_type[0]:nt.date_type;return(Je==null?void 0:Je.toLowerCase())==="birthday"});if(ze!=null&&ze.date_value){const nt=new Date(ze.date_value);k[Ee]=av(new Date,nt)}else k[Ee]=-1}}),k},[vt,Ne]),Vt=$.useMemo(()=>{const k={};return vt.forEach((ne,se)=>{if(ne.data&&Ne[se]){const Ee=Ne[se],ze=ne.data.some(nt=>{const Je=Array.isArray(nt.date_type)?nt.date_type[0]:nt.date_type;return(Je==null?void 0:Je.toLowerCase())==="died"});k[Ee]=ze}}),k},[vt,Ne]),dr=$.useMemo(()=>{var k;return(k=n==null?void 0:n.acf)!=null&&k.relationships?[...n.acf.relationships].sort((ne,se)=>{const Ee=Xe[ne.related_person]??-1,ze=Xe[se.related_person]??-1;return Ee===-1&&ze===-1?0:Ee===-1?1:ze===-1?-1:ze-Ee}):[]},[(pe=n==null?void 0:n.acf)==null?void 0:pe.relationships,Xe]),ut={};Oe.forEach((k,ne)=>{var se,Ee,ze,nt,Je,Xo,Wn,ji,Jo;if(k.data){const Eh=xe[ne];ut[Eh]={name:Gi(k.data),logo:((ze=(Ee=(se=k.data._embedded)==null?void 0:se["wp:featuredmedia"])==null?void 0:Ee[0])==null?void 0:ze.source_url)||((Jo=(ji=(Wn=(Xo=(Je=(nt=k.data._embedded)==null?void 0:nt["wp:featuredmedia"])==null?void 0:Je[0])==null?void 0:Xo.media_details)==null?void 0:Wn.sizes)==null?void 0:ji.thumbnail)==null?void 0:Jo.source_url)||null}}});const Nr=$.useMemo(()=>{var k;return(k=n==null?void 0:n.acf)!=null&&k.work_history?[...n.acf.work_history].map((ne,se)=>({...ne,originalIndex:se})).sort((ne,se)=>{if(ne.is_current&&!se.is_current)return-1;if(!ne.is_current&&se.is_current)return 1;const Ee=ne.start_date?new Date(ne.start_date):new Date(0);return(se.start_date?new Date(se.start_date):new Date(0))-Ee}):[]},[(Z=n==null?void 0:n.acf)==null?void 0:Z.work_history]);if($.useEffect(()=>{(n==null?void 0:n.status)==="trash"&&e("/people",{replace:!0})},[n,e]),i)return c.jsx("div",{className:"flex items-center justify-center h-64",children:c.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"})});if(s||!n)return c.jsxs("div",{className:"card p-6 text-center",children:[c.jsx("p",{className:"text-red-600",children:"Failed to load person."}),c.jsx(de,{to:"/people",className:"btn-secondary mt-4",children:"Back to People"})]});if(n.status==="trash")return null;const tt=n.acf||{},Tr=["facebook","linkedin","instagram","twitter","bluesky","threads","website"],rt=((oe=tt.contact_info)==null?void 0:oe.filter(k=>Tr.includes(k.contact_type)))||[],Kt={linkedin:1,twitter:2,bluesky:3,threads:4,instagram:5,facebook:6,website:7},un=[...rt].sort((k,ne)=>{const se=Kt[k.contact_type]||99,Ee=Kt[ne.contact_type]||99;return se-Ee}),Sn=k=>{switch(k){case"facebook":return Ene;case"linkedin":return Dne;case"instagram":return Pne;case"twitter":return Ine;case"bluesky":return _ne;case"threads":return Nne;case"website":return wf;default:return wf}},j=k=>{switch(k){case"facebook":return"text-[#1877F2]";case"linkedin":return"text-[#0077B7]";case"instagram":return"text-[#E4405F]";case"twitter":return"text-[#1DA1F2]";case"bluesky":return"text-[#00A8E8]";case"threads":return"text-[#000000]";case"website":return"text-gray-600";default:return"text-gray-600"}};return c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs(de,{to:"/people",className:"flex items-center text-gray-600 hover:text-gray-900",children:[c.jsx(An,{className:"w-4 h-4 md:mr-2"}),c.jsx("span",{className:"hidden md:inline",children:"Back to People"})]}),c.jsxs("div",{className:"flex gap-2",children:[c.jsxs("button",{onClick:Me,className:"btn-secondary",children:[c.jsx(iP,{className:"w-4 h-4 md:mr-2"}),c.jsx("span",{className:"hidden md:inline",children:"Export vCard"})]}),c.jsxs(de,{to:`/people/${t}/edit`,className:"btn-secondary",children:[c.jsx(_V,{className:"w-4 h-4 md:mr-2"}),c.jsx("span",{className:"hidden md:inline",children:"Edit"})]}),c.jsxs("button",{onClick:B,className:"btn-danger",children:[c.jsx(Os,{className:"w-4 h-4 md:mr-2"}),c.jsx("span",{className:"hidden md:inline",children:"Delete"})]})]})]}),c.jsxs("div",{className:"card p-6 relative",children:[c.jsx("div",{className:"absolute top-4 right-4",children:c.jsx(de,{to:`/people/${t}/family-tree`,className:"btn-secondary text-sm",children:"View Family Tree"})}),c.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center gap-4",children:[c.jsxs("div",{className:"relative group",children:[n.thumbnail?c.jsx("img",{src:n.thumbnail,alt:n.name,className:"w-28 h-28 rounded-full object-cover"}):c.jsx("div",{className:"w-28 h-28 bg-gray-200 rounded-full flex items-center justify-center",children:c.jsx("span",{className:"text-3xl font-medium text-gray-500",children:((ie=n.first_name)==null?void 0:ie[0])||"?"})}),c.jsx("div",{className:"absolute inset-0 rounded-full bg-black bg-opacity-0 group-hover:bg-opacity-50 transition-all duration-200 flex items-center justify-center cursor-pointer",onClick:()=>{var k;return(k=v.current)==null?void 0:k.click()},children:b?c.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-white"}):c.jsx(bf,{className:"w-6 h-6 text-white opacity-0 group-hover:opacity-100 transition-opacity"})}),c.jsx("input",{ref:v,type:"file",accept:"image/*",onChange:ge,className:"hidden",disabled:b})]}),c.jsxs("div",{className:"flex-1 space-y-3",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsxs("h1",{className:"text-2xl font-bold",children:[n.name,N&&c.jsx("span",{className:"ml-1 text-gray-500",children:""})]}),n.is_favorite&&c.jsx(ud,{className:"w-5 h-5 text-yellow-400 fill-current"})]}),tt.nickname&&c.jsxs("p",{className:"text-gray-500",children:['"',tt.nickname,'"']}),N&&I&&T!==null&&c.jsxs("p",{className:"text-gray-500 text-sm",children:[Kh(tt.gender)&&c.jsx("span",{className:"mr-1",children:Kh(tt.gender)}),"Died ",bi(I,"MMMM d, yyyy")," at age ",T]}),!N&&T!==null&&c.jsxs("p",{className:"text-gray-500 text-sm",children:[Kh(tt.gender)&&c.jsx("span",{className:"mr-1",children:Kh(tt.gender)}),T," years old"]}),c.jsxs("div",{children:[c.jsxs("div",{className:"flex flex-wrap gap-2 items-center",children:[n.labels&&n.labels.length>0&&n.labels.map((k,ne)=>c.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 rounded-full text-xs font-medium bg-gray-100 text-gray-700 group/label",children:[k,c.jsx("button",{onClick:()=>Q(k),className:"opacity-0 group-hover/label:opacity-100 transition-opacity hover:bg-gray-200 rounded-full p-0.5",title:"Remove label",children:c.jsx(ca,{className:"w-3 h-3"})})]},ne)),f?c.jsxs("div",{className:"inline-flex items-center gap-2",children:[c.jsxs("select",{value:m,onChange:k=>y(k.target.value),className:"text-xs border border-gray-300 rounded px-2 py-1",autoFocus:!0,disabled:O.length===0,children:[c.jsx("option",{value:"",children:"Select a label..."}),O.map(k=>c.jsx("option",{value:k.id,children:k.name},k.id))]}),c.jsx("button",{onClick:fe,disabled:!m,className:"text-xs px-2 py-1 bg-primary-600 text-white rounded hover:bg-primary-700 disabled:opacity-50 disabled:cursor-not-allowed",children:"Add"}),c.jsx("button",{onClick:()=>{p(!1),y("")},className:"text-xs px-2 py-1 bg-gray-200 text-gray-700 rounded hover:bg-gray-300",children:"Cancel"})]}):O.length>0&&c.jsxs("button",{onClick:()=>p(!0),className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-gray-100 text-gray-700 hover:bg-gray-200 transition-colors",children:[c.jsx(Or,{className:"w-3 h-3 mr-1"}),"Add label"]})]}),un.length>0&&c.jsx("div",{className:"flex items-center gap-3 mt-4",children:un.map((k,ne)=>{const se=Sn(k.contact_type),Ee=j(k.contact_type);let ze=k.contact_value;return ze.match(/^https?:\/\//i)||(ze=`https://${ze}`),c.jsx("a",{href:ze,target:"_blank",rel:"noopener noreferrer",className:`flex-shrink-0 hover:opacity-80 transition-opacity ${Ee}`,title:`${k.contact_type.charAt(0).toUpperCase()+k.contact_type.slice(1)}: ${k.contact_value}`,children:c.jsx(se,{className:"w-5 h-5"})},ne)})})]})]})]})]}),c.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[c.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[!N&&c.jsxs("div",{className:"card p-6",children:[c.jsxs("div",{className:"flex items-center justify-between mb-4",children:[c.jsx("h2",{className:"font-semibold",children:"Contact Information"}),c.jsxs(de,{to:`/people/${t}/contact/new`,className:"btn-secondary text-sm",children:[c.jsx(Or,{className:"w-4 h-4 md:mr-1"}),c.jsx("span",{className:"hidden md:inline",children:"Add contact detail"})]})]}),((ve=tt.contact_info)==null?void 0:ve.filter(k=>!Tr.includes(k.contact_type)).length)>0?c.jsx("div",{className:"space-y-2",children:tt.contact_info.filter(k=>!Tr.includes(k.contact_type)).map((k,ne)=>{const se=tt.contact_info.indexOf(k),Ee=k.contact_type==="email"?Fte:k.contact_type==="phone"||k.contact_type==="mobile"?Wte:k.contact_type==="address"?Lte:wf,ze=k.contact_type==="email",nt=k.contact_type==="phone"||k.contact_type==="mobile",Je=k.contact_type==="mobile",Xo=k.contact_type==="address";let Wn=null,ji=null;return ze?Wn=`mailto:${k.contact_value}`:nt?Wn=`tel:${X(k.contact_value)}`:Xo&&(Wn=`https://www.google.com/maps/search/?api=1&query=${encodeURIComponent(k.contact_value)}`,ji="_blank"),c.jsx("div",{className:"group",children:c.jsxs("div",{className:"flex items-center rounded-md -mx-2 px-2 py-1.5 group-hover:bg-gray-50 transition-colors",children:[c.jsx(Ee,{className:"w-4 h-4 text-gray-400 mr-3 flex-shrink-0"}),c.jsxs("div",{className:"flex-1 min-w-0 flex items-center gap-2",children:[c.jsxs("span",{className:"text-sm text-gray-500",children:[k.contact_label||k.contact_type,": "]}),Wn?c.jsx("a",{href:Wn,target:ji||void 0,rel:ji==="_blank"?"noopener noreferrer":void 0,className:"text-primary-600 hover:text-primary-700 hover:underline",children:k.contact_value}):c.jsx("span",{children:k.contact_value}),Je&&c.jsx("a",{href:`https://wa.me/${X(k.contact_value)}`,target:"_blank",rel:"noopener noreferrer",className:"flex-shrink-0 hover:opacity-80 transition-opacity",title:"Open WhatsApp",children:c.jsx(zte,{className:"w-4 h-4 text-[#25D366]"})})]}),c.jsxs("div",{className:"flex items-center gap-1 opacity-0 group-hover:opacity-100 transition-opacity ml-2",children:[c.jsx(de,{to:`/people/${t}/contact/${se}/edit`,className:"p-1 hover:bg-gray-100 rounded",title:"Edit contact detail",children:c.jsx(Vh,{className:"w-4 h-4 text-gray-400 hover:text-gray-600"})}),c.jsx("button",{onClick:()=>H(se),className:"p-1 hover:bg-red-50 rounded",title:"Delete contact detail",children:c.jsx(Os,{className:"w-4 h-4 text-gray-400 hover:text-red-600"})})]})]})},se)})}):c.jsx("p",{className:"text-sm text-gray-500 text-center py-4",children:"No contact information yet."})]}),c.jsxs("div",{className:"card p-6",children:[c.jsxs("div",{className:"flex items-center justify-between mb-4",children:[c.jsx("h2",{className:"font-semibold",children:"Important Dates"}),c.jsxs(de,{to:`/dates/new?person=${t}`,className:"btn-secondary text-sm",children:[c.jsx(Or,{className:"w-4 h-4 md:mr-1"}),c.jsx("span",{className:"hidden md:inline",children:"Add Important Date"})]})]}),q.length>0?c.jsx("div",{className:"space-y-3",children:q.map(k=>{const ne=Array.isArray(k.date_type)?k.date_type[0]:k.date_type,se=(ne==null?void 0:ne.toLowerCase())||"",Ee=se.includes("died"),ze=se.includes("wedding")||se.includes("marriage")?Dte:se.includes("birthday")?kte:go;return c.jsxs("div",{className:"flex items-start group",children:[c.jsx("div",{className:"w-8 h-8 bg-gray-100 rounded-lg flex items-center justify-center mr-3",children:Ee?c.jsx("span",{className:"text-gray-500 text-lg font-semibold",children:""}):c.jsx(ze,{className:"w-4 h-4 text-gray-500"})}),c.jsxs("div",{className:"flex-1",children:[c.jsx("p",{className:"text-sm font-medium",children:k.title}),c.jsx("p",{className:"text-xs text-gray-500",children:k.date_value&&bi(new Date(k.date_value),"MMMM d, yyyy")}),ne&&c.jsx("p",{className:"text-xs text-gray-400 capitalize",children:ne})]}),c.jsxs("div",{className:"flex items-center gap-1 opacity-0 group-hover:opacity-100 transition-opacity",children:[c.jsx(de,{to:`/dates/${k.id}/edit`,className:"p-1 hover:bg-gray-100 rounded",title:"Edit date",children:c.jsx(Vh,{className:"w-4 h-4 text-gray-400 hover:text-gray-600"})}),c.jsx("button",{onClick:()=>W(k.id),className:"p-1 hover:bg-red-50 rounded",title:"Delete date",children:c.jsx(Os,{className:"w-4 h-4 text-gray-400 hover:text-red-600"})})]})]},k.id)})}):c.jsx("p",{className:"text-sm text-gray-500 text-center py-4",children:"No important dates yet."})]}),c.jsxs("div",{className:"card p-6",children:[c.jsxs("div",{className:"flex items-center justify-between mb-4",children:[c.jsx("h2",{className:"font-semibold",children:"Work History"}),c.jsxs(de,{to:`/people/${t}/work-history/new`,className:"btn-secondary text-sm",children:[c.jsx(Or,{className:"w-4 h-4 md:mr-1"}),c.jsx("span",{className:"hidden md:inline",children:"Add Work History"})]})]}),(Nr==null?void 0:Nr.length)>0?c.jsx("div",{className:"space-y-4",children:Nr.map((k,ne)=>{const se=k.company?ut[k.company]:null,Ee=k.originalIndex;return c.jsxs("div",{className:"flex items-start group",children:[se!=null&&se.logo?c.jsx("img",{src:se.logo,alt:se.name,className:"w-20 h-20 rounded-lg object-contain bg-white mr-3 flex-shrink-0"}):c.jsx("div",{className:"w-20 h-20 bg-white rounded-lg flex items-center justify-center mr-3 flex-shrink-0 border border-gray-200",children:c.jsx(ls,{className:"w-10 h-10 text-gray-500"})}),c.jsxs("div",{className:"flex-1 min-w-0",children:[c.jsx("p",{className:"font-medium",children:k.job_title}),k.company&&se&&c.jsx(de,{to:`/companies/${k.company}`,className:"text-sm text-primary-600 hover:underline",children:se.name}),c.jsxs("p",{className:"text-sm text-gray-500",children:[k.start_date&&bi(new Date(k.start_date),"MMM yyyy")," - ",k.is_current?"Present":k.end_date?bi(new Date(k.end_date),"MMM yyyy"):""]}),k.description&&c.jsx("p",{className:"text-sm text-gray-600 mt-1",children:k.description})]}),c.jsxs("div",{className:"flex items-center gap-1 opacity-0 group-hover:opacity-100 transition-opacity ml-2",children:[c.jsx(de,{to:`/people/${t}/work-history/${Ee}/edit`,className:"p-1 hover:bg-gray-100 rounded",title:"Edit work history",children:c.jsx(Vh,{className:"w-4 h-4 text-gray-400 hover:text-gray-600"})}),c.jsx("button",{onClick:()=>U(Ee),className:"p-1 hover:bg-red-50 rounded",title:"Delete work history",children:c.jsx(Os,{className:"w-4 h-4 text-gray-400 hover:text-red-600"})})]})]},Ee)})}):c.jsx("p",{className:"text-sm text-gray-500 text-center py-4",children:"No work history yet."})]}),c.jsxs("div",{className:"card p-6",children:[c.jsxs("div",{className:"flex items-center justify-between mb-4",children:[c.jsx("h2",{className:"font-semibold",children:"Timeline"}),c.jsxs("button",{className:"btn-secondary text-sm",children:[c.jsx(Or,{className:"w-4 h-4 md:mr-1"}),c.jsx("span",{className:"hidden md:inline",children:"Add Note"})]})]}),(a==null?void 0:a.length)>0?c.jsx("div",{className:"space-y-4",children:a.map(k=>c.jsxs("div",{className:"border-l-2 border-gray-200 pl-4 pb-4 group",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-500",children:[c.jsx("span",{className:"capitalize",children:k.type}),c.jsx("span",{children:""}),c.jsx("span",{children:bi(new Date(k.created),"MMM d, yyyy")})]}),c.jsx("button",{onClick:()=>z(k.id),className:"opacity-0 group-hover:opacity-100 transition-opacity p-1 hover:bg-red-50 rounded",title:"Delete note",children:c.jsx(Os,{className:"w-4 h-4 text-gray-400 hover:text-red-600"})})]}),c.jsx("p",{className:"mt-1",children:k.content})]},k.id))}):c.jsx("p",{className:"text-sm text-gray-500 text-center py-4",children:"No notes or activities yet."})]})]}),c.jsxs("div",{className:"space-y-6",children:[(tt.how_we_met||tt.met_date)&&c.jsxs("div",{className:"card p-6",children:[c.jsx("h2",{className:"font-semibold mb-3",children:"How We Met"}),tt.met_date&&c.jsxs("p",{className:"text-sm text-gray-500 mb-2",children:[c.jsx(go,{className:"w-4 h-4 inline mr-1"}),bi(new Date(tt.met_date),"MMMM d, yyyy")]}),tt.how_we_met&&c.jsx("p",{className:"text-sm",children:tt.how_we_met})]}),c.jsxs("div",{className:"card p-6",children:[c.jsxs("div",{className:"flex items-center justify-between mb-3",children:[c.jsx("h2",{className:"font-semibold",children:"Relationships"}),c.jsxs(de,{to:`/people/${t}/relationship/new`,className:"btn-secondary text-sm",children:[c.jsx(Or,{className:"w-4 h-4 md:mr-1"}),c.jsx("span",{className:"hidden md:inline",children:"Add Relationship"})]})]}),(dr==null?void 0:dr.length)>0?c.jsx("div",{className:"space-y-2",children:dr.map((k,ne)=>{var Ee,ze,nt;const se=((ze=(Ee=n==null?void 0:n.acf)==null?void 0:Ee.relationships)==null?void 0:ze.findIndex(Je=>Je.related_person===k.related_person&&Je.relationship_type===k.relationship_type))??ne;return c.jsxs("div",{className:"flex items-center p-2 rounded hover:bg-gray-50 group",children:[c.jsxs(de,{to:`/people/${k.related_person}`,className:"flex items-center flex-1 min-w-0",children:[k.person_thumbnail?c.jsx("img",{src:k.person_thumbnail,alt:ri(k.person_name)||"",className:"w-8 h-8 rounded-full object-cover mr-2"}):c.jsx("div",{className:"w-8 h-8 bg-gray-200 rounded-full mr-2 flex items-center justify-center",children:c.jsx("span",{className:"text-xs font-medium text-gray-500",children:((nt=ri(k.person_name))==null?void 0:nt[0])||"?"})}),c.jsxs("div",{children:[c.jsxs("p",{className:"text-sm font-medium",children:[ri(k.person_name)||`Person #${k.related_person}`,Vt[k.related_person]&&c.jsx("span",{className:"text-gray-400 ml-1",title:"Deceased",children:""})]}),c.jsx("p",{className:"text-xs text-gray-500",children:ri(k.relationship_name||k.relationship_label)})]})]}),c.jsxs("div",{className:"flex items-center gap-1 opacity-0 group-hover:opacity-100 transition-opacity ml-2",children:[c.jsx(de,{to:`/people/${t}/relationship/${se}/edit`,className:"p-1 hover:bg-gray-100 rounded",title:"Edit relationship",children:c.jsx(Vh,{className:"w-4 h-4 text-gray-400 hover:text-gray-600"})}),c.jsx("button",{onClick:()=>L(se),className:"p-1 hover:bg-red-50 rounded",title:"Delete relationship",children:c.jsx(Os,{className:"w-4 h-4 text-gray-400 hover:text-red-600"})})]})]},ne)})}):c.jsx("p",{className:"text-sm text-gray-500 text-center py-4",children:"No relationships yet."})]})]})]})]})}var Bd=t=>t.type==="checkbox",Ma=t=>t instanceof Date,Vr=t=>t==null;const RV=t=>typeof t=="object";var At=t=>!Vr(t)&&!Array.isArray(t)&&RV(t)&&!Ma(t),jV=t=>At(t)&&t.target?Bd(t.target)?t.target.checked:t.target.value:t,Mne=t=>t.substring(0,t.search(/\.\d+(\.|$)/))||t,$V=(t,e)=>t.has(Mne(e)),Ane=t=>{const e=t.constructor&&t.constructor.prototype;return At(e)&&e.hasOwnProperty("isPrototypeOf")},qC=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function Gt(t){if(t instanceof Date)return new Date(t);const e=typeof FileList<"u"&&t instanceof FileList;if(qC&&(t instanceof Blob||e))return t;const r=Array.isArray(t);if(!r&&!(At(t)&&Ane(t)))return t;const n=r?[]:Object.create(Object.getPrototypeOf(t));for(const i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=Gt(t[i]));return n}var Vp=t=>/^\w*$/.test(t),Ct=t=>t===void 0,MC=t=>Array.isArray(t)?t.filter(Boolean):[],AC=t=>MC(t.replace(/["|']|\]/g,"").split(/\.|\[/)),ae=(t,e,r)=>{if(!e||!At(t))return r;const n=(Vp(e)?[e]:AC(e)).reduce((i,s)=>Vr(i)?i:i[s],t);return Ct(n)||n===t?Ct(t[e])?r:t[e]:n},hn=t=>typeof t=="boolean",Mr=t=>typeof t=="function",it=(t,e,r)=>{let n=-1;const i=Vp(e)?[e]:AC(e),s=i.length,a=s-1;for(;++n<s;){const o=i[n];let l=r;if(n!==a){const u=t[o];l=At(u)||Array.isArray(u)?u:isNaN(+i[n+1])?{}:[]}if(o==="__proto__"||o==="constructor"||o==="prototype")return;t[o]=l,t=t[o]}};const rp={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},ei={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},Di={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},kV=Te.createContext(null);kV.displayName="HookFormContext";const FC=()=>Te.useContext(kV);var DV=(t,e,r,n=!0)=>{const i={defaultValues:e._defaultValues};for(const s in t)Object.defineProperty(i,s,{get:()=>{const a=s;return e._proxyFormState[a]!==ei.all&&(e._proxyFormState[a]=!n||ei.all),r&&(r[a]=!0),t[a]}});return i};const LC=typeof window<"u"?Te.useLayoutEffect:Te.useEffect;function Fne(t){const e=FC(),{control:r=e.control,disabled:n,name:i,exact:s}=t||{},[a,o]=Te.useState(r._formState),l=Te.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1});return LC(()=>r._subscribe({name:i,formState:l.current,exact:s,callback:u=>{!n&&o({...r._formState,...u})}}),[i,n,s]),Te.useEffect(()=>{l.current.isValid&&r._setValid(!0)},[r]),Te.useMemo(()=>DV(a,r,l.current,!1),[a,r])}var fn=t=>typeof t=="string",sP=(t,e,r,n,i)=>fn(t)?(n&&e.watch.add(t),ae(r,t,i)):Array.isArray(t)?t.map(s=>(n&&e.watch.add(s),ae(r,s))):(n&&(e.watchAll=!0),r),aP=t=>Vr(t)||!RV(t);function ti(t,e,r=new WeakSet){if(aP(t)||aP(e))return Object.is(t,e);if(Ma(t)&&Ma(e))return t.getTime()===e.getTime();const n=Object.keys(t),i=Object.keys(e);if(n.length!==i.length)return!1;if(r.has(t)||r.has(e))return!0;r.add(t),r.add(e);for(const s of n){const a=t[s];if(!i.includes(s))return!1;if(s!=="ref"){const o=e[s];if(Ma(a)&&Ma(o)||At(a)&&At(o)||Array.isArray(a)&&Array.isArray(o)?!ti(a,o,r):!Object.is(a,o))return!1}}return!0}function Lne(t){const e=FC(),{control:r=e.control,name:n,defaultValue:i,disabled:s,exact:a,compute:o}=t||{},l=Te.useRef(i),u=Te.useRef(o),d=Te.useRef(void 0),h=Te.useRef(r),f=Te.useRef(n);u.current=o;const[p,m]=Te.useState(()=>{const w=r._getWatch(n,l.current);return u.current?u.current(w):w}),y=Te.useCallback(w=>{const _=sP(n,r._names,w||r._formValues,!1,l.current);return u.current?u.current(_):_},[r._formValues,r._names,n]),b=Te.useCallback(w=>{if(!s){const _=sP(n,r._names,w||r._formValues,!1,l.current);if(u.current){const E=u.current(_);ti(E,d.current)||(m(E),d.current=E)}else m(_)}},[r._formValues,r._names,s,n]);LC(()=>((h.current!==r||!ti(f.current,n))&&(h.current=r,f.current=n,b()),r._subscribe({name:n,formState:{values:!0},exact:a,callback:w=>{b(w.values)}})),[r,a,n,b]),Te.useEffect(()=>r._removeUnmounted());const g=h.current!==r,v=f.current,x=Te.useMemo(()=>{if(s)return null;const w=!g&&!ti(v,n);return g||w?y():null},[s,g,n,v,y]);return x!==null?x:p}function Bne(t){const e=FC(),{name:r,disabled:n,control:i=e.control,shouldUnregister:s,defaultValue:a,exact:o=!0}=t,l=$V(i._names.array,r),u=Te.useMemo(()=>ae(i._formValues,r,ae(i._defaultValues,r,a)),[i,r,a]),d=Lne({control:i,name:r,defaultValue:u,exact:o}),h=Fne({control:i,name:r,exact:o}),f=Te.useRef(t),p=Te.useRef(void 0),m=Te.useRef(i.register(r,{...t.rules,value:d,...hn(t.disabled)?{disabled:t.disabled}:{}}));f.current=t;const y=Te.useMemo(()=>Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!ae(h.errors,r)},isDirty:{enumerable:!0,get:()=>!!ae(h.dirtyFields,r)},isTouched:{enumerable:!0,get:()=>!!ae(h.touchedFields,r)},isValidating:{enumerable:!0,get:()=>!!ae(h.validatingFields,r)},error:{enumerable:!0,get:()=>ae(h.errors,r)}}),[h,r]),b=Te.useCallback(w=>m.current.onChange({target:{value:jV(w),name:r},type:rp.CHANGE}),[r]),g=Te.useCallback(()=>m.current.onBlur({target:{value:ae(i._formValues,r),name:r},type:rp.BLUR}),[r,i._formValues]),v=Te.useCallback(w=>{const _=ae(i._fields,r);_&&_._f&&w&&(_._f.ref={focus:()=>Mr(w.focus)&&w.focus(),select:()=>Mr(w.select)&&w.select(),setCustomValidity:E=>Mr(w.setCustomValidity)&&w.setCustomValidity(E),reportValidity:()=>Mr(w.reportValidity)&&w.reportValidity()})},[i._fields,r]),x=Te.useMemo(()=>({name:r,value:d,...hn(n)||h.disabled?{disabled:h.disabled||n}:{},onChange:b,onBlur:g,ref:v}),[r,n,h.disabled,b,g,v,d]);return Te.useEffect(()=>{const w=i._options.shouldUnregister||s,_=p.current;_&&_!==r&&!l&&i.unregister(_),i.register(r,{...f.current.rules,...hn(f.current.disabled)?{disabled:f.current.disabled}:{}});const E=(O,S)=>{const P=ae(i._fields,O);P&&P._f&&(P._f.mount=S)};if(E(r,!0),w){const O=Gt(ae(i._options.defaultValues,r,f.current.defaultValue));it(i._defaultValues,r,O),Ct(ae(i._formValues,r))&&it(i._formValues,r,O)}return!l&&i.register(r),p.current=r,()=>{(l?w&&!i._state.action:w)?i.unregister(r):E(r,!1)}},[r,i,l,s]),Te.useEffect(()=>{i._setDisabledField({disabled:n,name:r})},[n,r,i]),Te.useMemo(()=>({field:x,formState:h,fieldState:y}),[x,h,y])}const np=t=>t.render(Bne(t));var zne=(t,e,r,n,i)=>e?{...r[t],types:{...r[t]&&r[t].types?r[t].types:{},[n]:i||!0}}:{},$c=t=>Array.isArray(t)?t:[t],oR=()=>{let t=[];return{get observers(){return t},next:i=>{for(const s of t)s.next&&s.next(i)},subscribe:i=>(t.push(i),{unsubscribe:()=>{t=t.filter(s=>s!==i)}}),unsubscribe:()=>{t=[]}}};function qV(t,e){const r={};for(const n in t)if(t.hasOwnProperty(n)){const i=t[n],s=e[n];if(i&&At(i)&&s){const a=qV(i,s);At(a)&&(r[n]=a)}else t[n]&&(r[n]=s)}return r}var jr=t=>At(t)&&!Object.keys(t).length,BC=t=>t.type==="file",ip=t=>{if(!qC)return!1;const e=t?t.ownerDocument:0;return t instanceof(e&&e.defaultView?e.defaultView.HTMLElement:HTMLElement)},MV=t=>t.type==="select-multiple",zC=t=>t.type==="radio",Une=t=>zC(t)||Bd(t),lv=t=>ip(t)&&t.isConnected;function Wne(t,e){const r=e.slice(0,-1).length;let n=0;for(;n<r;)t=Ct(t)?n++:t[e[n++]];return t}function Hne(t){for(const e in t)if(t.hasOwnProperty(e)&&!Ct(t[e]))return!1;return!0}function qt(t,e){const r=Array.isArray(e)?e:Vp(e)?[e]:AC(e),n=r.length===1?t:Wne(t,r),i=r.length-1,s=r[i];return n&&delete n[s],i!==0&&(At(n)&&jr(n)||Array.isArray(n)&&Hne(n))&&qt(t,r.slice(0,-1)),t}var Vne=t=>{for(const e in t)if(Mr(t[e]))return!0;return!1};function AV(t){return Array.isArray(t)||At(t)&&!Vne(t)}function oP(t,e={}){for(const r in t){const n=t[r];AV(n)?(e[r]=Array.isArray(n)?[]:{},oP(n,e[r])):Ct(n)||(e[r]=!0)}return e}function al(t,e,r){r||(r=oP(e));for(const n in t){const i=t[n];if(AV(i))Ct(e)||aP(r[n])?r[n]=oP(i,Array.isArray(i)?[]:{}):al(i,Vr(e)?{}:e[n],r[n]);else{const s=e[n];r[n]=!ti(i,s)}}return r}const lR={value:!1,isValid:!1},uR={value:!0,isValid:!0};var FV=t=>{if(Array.isArray(t)){if(t.length>1){const e=t.filter(r=>r&&r.checked&&!r.disabled).map(r=>r.value);return{value:e,isValid:!!e.length}}return t[0].checked&&!t[0].disabled?t[0].attributes&&!Ct(t[0].attributes.value)?Ct(t[0].value)||t[0].value===""?uR:{value:t[0].value,isValid:!0}:uR:lR}return lR},LV=(t,{valueAsNumber:e,valueAsDate:r,setValueAs:n})=>Ct(t)?t:e?t===""?NaN:t&&+t:r&&fn(t)?new Date(t):n?n(t):t;const cR={isValid:!1,value:null};var BV=t=>Array.isArray(t)?t.reduce((e,r)=>r&&r.checked&&!r.disabled?{isValid:!0,value:r.value}:e,cR):cR;function dR(t){const e=t.ref;return BC(e)?e.files:zC(e)?BV(t.refs).value:MV(e)?[...e.selectedOptions].map(({value:r})=>r):Bd(e)?FV(t.refs).value:LV(Ct(e.value)?t.ref.value:e.value,t)}var Kne=(t,e,r,n)=>{const i={};for(const s of t){const a=ae(e,s);a&&it(i,s,a._f)}return{criteriaMode:r,names:[...t],fields:i,shouldUseNativeValidation:n}},sp=t=>t instanceof RegExp,hc=t=>Ct(t)?t:sp(t)?t.source:At(t)?sp(t.value)?t.value.source:t.value:t,hR=t=>({isOnSubmit:!t||t===ei.onSubmit,isOnBlur:t===ei.onBlur,isOnChange:t===ei.onChange,isOnAll:t===ei.all,isOnTouch:t===ei.onTouched});const fR="AsyncFunction";var Gne=t=>!!t&&!!t.validate&&!!(Mr(t.validate)&&t.validate.constructor.name===fR||At(t.validate)&&Object.values(t.validate).find(e=>e.constructor.name===fR)),Yne=t=>t.mount&&(t.required||t.min||t.max||t.maxLength||t.minLength||t.pattern||t.validate),pR=(t,e,r)=>!r&&(e.watchAll||e.watch.has(t)||[...e.watch].some(n=>t.startsWith(n)&&/^\.\w+/.test(t.slice(n.length))));const kc=(t,e,r,n)=>{for(const i of r||Object.keys(t)){const s=ae(t,i);if(s){const{_f:a,...o}=s;if(a){if(a.refs&&a.refs[0]&&e(a.refs[0],i)&&!n)return!0;if(a.ref&&e(a.ref,a.name)&&!n)return!0;if(kc(o,e))break}else if(At(o)&&kc(o,e))break}}};function mR(t,e,r){const n=ae(t,r);if(n||Vp(r))return{error:n,name:r};const i=r.split(".");for(;i.length;){const s=i.join("."),a=ae(e,s),o=ae(t,s);if(a&&!Array.isArray(a)&&r!==s)return{name:r};if(o&&o.type)return{name:s,error:o};if(o&&o.root&&o.root.type)return{name:`${s}.root`,error:o.root};i.pop()}return{name:r}}var Qne=(t,e,r,n)=>{r(t);const{name:i,...s}=t;return jr(s)||Object.keys(s).length>=Object.keys(e).length||Object.keys(s).find(a=>e[a]===(!n||ei.all))},Xne=(t,e,r)=>!t||!e||t===e||$c(t).some(n=>n&&(r?n===e:n.startsWith(e)||e.startsWith(n))),Jne=(t,e,r,n,i)=>i.isOnAll?!1:!r&&i.isOnTouch?!(e||t):(r?n.isOnBlur:i.isOnBlur)?!t:(r?n.isOnChange:i.isOnChange)?t:!0,Zne=(t,e)=>!MC(ae(t,e)).length&&qt(t,e),eie=(t,e,r)=>{const n=$c(ae(t,r));return it(n,"root",e[r]),it(t,r,n),t};function vR(t,e,r="validate"){if(fn(t)||Array.isArray(t)&&t.every(fn)||hn(t)&&!t)return{type:r,message:fn(t)?t:"",ref:e}}var rl=t=>At(t)&&!sp(t)?t:{value:t,message:""},gR=async(t,e,r,n,i,s)=>{const{ref:a,refs:o,required:l,maxLength:u,minLength:d,min:h,max:f,pattern:p,validate:m,name:y,valueAsNumber:b,mount:g}=t._f,v=ae(r,y);if(!g||e.has(y))return{};const x=o?o[0]:a,w=N=>{i&&x.reportValidity&&(x.setCustomValidity(hn(N)?"":N||""),x.reportValidity())},_={},E=zC(a),O=Bd(a),S=E||O,P=(b||BC(a))&&Ct(a.value)&&Ct(v)||ip(a)&&a.value===""||v===""||Array.isArray(v)&&!v.length,C=zne.bind(null,y,n,_),I=(N,T,q,B=Di.maxLength,X=Di.minLength)=>{const H=N?T:q;_[y]={type:N?B:X,message:H,ref:a,...C(N?B:X,H)}};if(s?!Array.isArray(v)||!v.length:l&&(!S&&(P||Vr(v))||hn(v)&&!v||O&&!FV(o).isValid||E&&!BV(o).isValid)){const{value:N,message:T}=fn(l)?{value:!!l,message:l}:rl(l);if(N&&(_[y]={type:Di.required,message:T,ref:x,...C(Di.required,T)},!n))return w(T),_}if(!P&&(!Vr(h)||!Vr(f))){let N,T;const q=rl(f),B=rl(h);if(!Vr(v)&&!isNaN(v)){const X=a.valueAsNumber||v&&+v;Vr(q.value)||(N=X>q.value),Vr(B.value)||(T=X<B.value)}else{const X=a.valueAsDate||new Date(v),H=z=>new Date(new Date().toDateString()+" "+z),L=a.type=="time",W=a.type=="week";fn(q.value)&&v&&(N=L?H(v)>H(q.value):W?v>q.value:X>new Date(q.value)),fn(B.value)&&v&&(T=L?H(v)<H(B.value):W?v<B.value:X<new Date(B.value))}if((N||T)&&(I(!!N,q.message,B.message,Di.max,Di.min),!n))return w(_[y].message),_}if((u||d)&&!P&&(fn(v)||s&&Array.isArray(v))){const N=rl(u),T=rl(d),q=!Vr(N.value)&&v.length>+N.value,B=!Vr(T.value)&&v.length<+T.value;if((q||B)&&(I(q,N.message,T.message),!n))return w(_[y].message),_}if(p&&!P&&fn(v)){const{value:N,message:T}=rl(p);if(sp(N)&&!v.match(N)&&(_[y]={type:Di.pattern,message:T,ref:a,...C(Di.pattern,T)},!n))return w(T),_}if(m){if(Mr(m)){const N=await m(v,r),T=vR(N,x);if(T&&(_[y]={...T,...C(Di.validate,T.message)},!n))return w(T.message),_}else if(At(m)){let N={};for(const T in m){if(!jr(N)&&!n)break;const q=vR(await m[T](v,r),x,T);q&&(N={...q,...C(T,q.message)},w(q.message),n&&(_[y]=N))}if(!jr(N)&&(_[y]={ref:x,...N},!n))return _}}return w(!0),_};const tie={mode:ei.onSubmit,reValidateMode:ei.onChange,shouldFocusError:!0};function rie(t={}){let e={...tie,...t},r={submitCount:0,isDirty:!1,isReady:!1,isLoading:Mr(e.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1},n={},i=At(e.defaultValues)||At(e.values)?Gt(e.defaultValues||e.values)||{}:{},s=e.shouldUnregister?{}:Gt(i),a={action:!1,mount:!1,watch:!1,keepIsValid:!1},o={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},l,u=0;const d={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},h={...d};let f={...h};const p={array:oR(),state:oR()},m=e.criteriaMode===ei.all,y=j=>D=>{clearTimeout(u),u=setTimeout(j,D)},b=async j=>{if(!a.keepIsValid&&!e.disabled&&(h.isValid||f.isValid||j)){let D;e.resolver?(D=jr((await S()).errors),g()):D=await C(n,!0),D!==r.isValid&&p.state.next({isValid:D})}},g=(j,D)=>{!e.disabled&&(h.isValidating||h.validatingFields||f.isValidating||f.validatingFields)&&((j||Array.from(o.mount)).forEach(F=>{F&&(D?it(r.validatingFields,F,D):qt(r.validatingFields,F))}),p.state.next({validatingFields:r.validatingFields,isValidating:!jr(r.validatingFields)}))},v=(j,D=[],F,re,J=!0,V=!0)=>{if(re&&F&&!e.disabled){if(a.action=!0,V&&Array.isArray(ae(n,j))){const ce=F(ae(n,j),re.argA,re.argB);J&&it(n,j,ce)}if(V&&Array.isArray(ae(r.errors,j))){const ce=F(ae(r.errors,j),re.argA,re.argB);J&&it(r.errors,j,ce),Zne(r.errors,j)}if((h.touchedFields||f.touchedFields)&&V&&Array.isArray(ae(r.touchedFields,j))){const ce=F(ae(r.touchedFields,j),re.argA,re.argB);J&&it(r.touchedFields,j,ce)}(h.dirtyFields||f.dirtyFields)&&(r.dirtyFields=al(i,s)),p.state.next({name:j,isDirty:N(j,D),dirtyFields:r.dirtyFields,errors:r.errors,isValid:r.isValid})}else it(s,j,D)},x=(j,D)=>{it(r.errors,j,D),p.state.next({errors:r.errors})},w=j=>{r.errors=j,p.state.next({errors:r.errors,isValid:!1})},_=(j,D,F,re)=>{const J=ae(n,j);if(J){const V=ae(s,j,Ct(F)?ae(i,j):F);Ct(V)||re&&re.defaultChecked||D?it(s,j,D?V:dR(J._f)):B(j,V),a.mount&&!a.action&&b()}},E=(j,D,F,re,J)=>{let V=!1,ce=!1;const je={name:j};if(!e.disabled){if(!F||re){(h.isDirty||f.isDirty)&&(ce=r.isDirty,r.isDirty=je.isDirty=N(),V=ce!==je.isDirty);const Ae=ti(ae(i,j),D);ce=!!ae(r.dirtyFields,j),Ae?qt(r.dirtyFields,j):it(r.dirtyFields,j,!0),je.dirtyFields=r.dirtyFields,V=V||(h.dirtyFields||f.dirtyFields)&&ce!==!Ae}if(F){const Ae=ae(r.touchedFields,j);Ae||(it(r.touchedFields,j,F),je.touchedFields=r.touchedFields,V=V||(h.touchedFields||f.touchedFields)&&Ae!==F)}V&&J&&p.state.next(je)}return V?je:{}},O=(j,D,F,re)=>{const J=ae(r.errors,j),V=(h.isValid||f.isValid)&&hn(D)&&r.isValid!==D;if(e.delayError&&F?(l=y(()=>x(j,F)),l(e.delayError)):(clearTimeout(u),l=null,F?it(r.errors,j,F):qt(r.errors,j)),(F?!ti(J,F):J)||!jr(re)||V){const ce={...re,...V&&hn(D)?{isValid:D}:{},errors:r.errors,name:j};r={...r,...ce},p.state.next(ce)}},S=async j=>(g(j,!0),await e.resolver(s,e.context,Kne(j||o.mount,n,e.criteriaMode,e.shouldUseNativeValidation))),P=async j=>{const{errors:D}=await S(j);if(g(j),j)for(const F of j){const re=ae(D,F);re?it(r.errors,F,re):qt(r.errors,F)}else r.errors=D;return D},C=async(j,D,F={valid:!0})=>{for(const re in j){const J=j[re];if(J){const{_f:V,...ce}=J;if(V){const je=o.array.has(V.name),Ae=J._f&&Gne(J._f);Ae&&h.validatingFields&&g([V.name],!0);const Rt=await gR(J,o.disabled,s,m,e.shouldUseNativeValidation&&!D,je);if(Ae&&h.validatingFields&&g([V.name]),Rt[V.name]&&(F.valid=!1,D))break;!D&&(ae(Rt,V.name)?je?eie(r.errors,Rt,V.name):it(r.errors,V.name,Rt[V.name]):qt(r.errors,V.name))}!jr(ce)&&await C(ce,D,F)}}return F.valid},I=()=>{for(const j of o.unMount){const D=ae(n,j);D&&(D._f.refs?D._f.refs.every(F=>!lv(F)):!lv(D._f.ref))&&Ne(j)}o.unMount=new Set},N=(j,D)=>!e.disabled&&(j&&D&&it(s,j,D),!ti(U(),i)),T=(j,D,F)=>sP(j,o,{...a.mount?s:Ct(D)?i:fn(j)?{[j]:D}:D},F,D),q=j=>MC(ae(a.mount?s:i,j,e.shouldUnregister?ae(i,j,[]):[])),B=(j,D,F={})=>{const re=ae(n,j);let J=D;if(re){const V=re._f;V&&(!V.disabled&&it(s,j,LV(D,V)),J=ip(V.ref)&&Vr(D)?"":D,MV(V.ref)?[...V.ref.options].forEach(ce=>ce.selected=J.includes(ce.value)):V.refs?Bd(V.ref)?V.refs.forEach(ce=>{(!ce.defaultChecked||!ce.disabled)&&(Array.isArray(J)?ce.checked=!!J.find(je=>je===ce.value):ce.checked=J===ce.value||!!J)}):V.refs.forEach(ce=>ce.checked=ce.value===J):BC(V.ref)?V.ref.value="":(V.ref.value=J,V.ref.type||p.state.next({name:j,values:Gt(s)})))}(F.shouldDirty||F.shouldTouch)&&E(j,J,F.shouldTouch,F.shouldDirty,!0),F.shouldValidate&&z(j)},X=(j,D,F)=>{for(const re in D){if(!D.hasOwnProperty(re))return;const J=D[re],V=j+"."+re,ce=ae(n,V);(o.array.has(j)||At(J)||ce&&!ce._f)&&!Ma(J)?X(V,J,F):B(V,J,F)}},H=(j,D,F={})=>{const re=ae(n,j),J=o.array.has(j),V=Gt(D);it(s,j,V),J?(p.array.next({name:j,values:Gt(s)}),(h.isDirty||h.dirtyFields||f.isDirty||f.dirtyFields)&&F.shouldDirty&&p.state.next({name:j,dirtyFields:al(i,s),isDirty:N(j,V)})):re&&!re._f&&!Vr(V)?X(j,V,F):B(j,V,F),pR(j,o)&&p.state.next({...r,name:j}),p.state.next({name:a.mount?j:void 0,values:Gt(s)})},L=async j=>{a.mount=!0;const D=j.target;let F=D.name,re=!0;const J=ae(n,F),V=Ae=>{re=Number.isNaN(Ae)||Ma(Ae)&&isNaN(Ae.getTime())||ti(Ae,ae(s,F,Ae))},ce=hR(e.mode),je=hR(e.reValidateMode);if(J){let Ae,Rt;const pe=D.type?dR(J._f):jV(j),Z=j.type===rp.BLUR||j.type===rp.FOCUS_OUT,oe=!Yne(J._f)&&!e.resolver&&!ae(r.errors,F)&&!J._f.deps||Jne(Z,ae(r.touchedFields,F),r.isSubmitted,je,ce),ie=pR(F,o,Z);it(s,F,pe),Z?(!D||!D.readOnly)&&(J._f.onBlur&&J._f.onBlur(j),l&&l(0)):J._f.onChange&&J._f.onChange(j);const ve=E(F,pe,Z),k=!jr(ve)||ie;if(!Z&&p.state.next({name:F,type:j.type,values:Gt(s)}),oe)return(h.isValid||f.isValid)&&(e.mode==="onBlur"?Z&&b():Z||b()),k&&p.state.next({name:F,...ie?{}:ve});if(!Z&&ie&&p.state.next({...r}),e.resolver){const{errors:ne}=await S([F]);if(g([F]),V(pe),re){const se=mR(r.errors,n,F),Ee=mR(ne,n,se.name||F);Ae=Ee.error,F=Ee.name,Rt=jr(ne)}}else g([F],!0),Ae=(await gR(J,o.disabled,s,m,e.shouldUseNativeValidation))[F],g([F]),V(pe),re&&(Ae?Rt=!1:(h.isValid||f.isValid)&&(Rt=await C(n,!0)));re&&(J._f.deps&&(!Array.isArray(J._f.deps)||J._f.deps.length>0)&&z(J._f.deps),O(F,Rt,Ae,ve))}},W=(j,D)=>{if(ae(r.errors,D)&&j.focus)return j.focus(),1},z=async(j,D={})=>{let F,re;const J=$c(j);if(e.resolver){const V=await P(Ct(j)?j:J);F=jr(V),re=j?!J.some(ce=>ae(V,ce)):F}else j?(re=(await Promise.all(J.map(async V=>{const ce=ae(n,V);return await C(ce&&ce._f?{[V]:ce}:ce)}))).every(Boolean),!(!re&&!r.isValid)&&b()):re=F=await C(n);return p.state.next({...!fn(j)||(h.isValid||f.isValid)&&F!==r.isValid?{}:{name:j},...e.resolver||!j?{isValid:F}:{},errors:r.errors}),D.shouldFocus&&!re&&kc(n,W,j?J:o.mount),re},U=(j,D)=>{let F={...a.mount?s:i};return D&&(F=qV(D.dirtyFields?r.dirtyFields:r.touchedFields,F)),Ct(j)?F:fn(j)?ae(F,j):j.map(re=>ae(F,re))},Q=(j,D)=>({invalid:!!ae((D||r).errors,j),isDirty:!!ae((D||r).dirtyFields,j),error:ae((D||r).errors,j),isValidating:!!ae(r.validatingFields,j),isTouched:!!ae((D||r).touchedFields,j)}),fe=j=>{j&&$c(j).forEach(D=>qt(r.errors,D)),p.state.next({errors:j?r.errors:{}})},ge=(j,D,F)=>{const re=(ae(n,j,{_f:{}})._f||{}).ref,J=ae(r.errors,j)||{},{ref:V,message:ce,type:je,...Ae}=J;it(r.errors,j,{...Ae,...D,ref:re}),p.state.next({name:j,errors:r.errors,isValid:!1}),F&&F.shouldFocus&&re&&re.focus&&re.focus()},Me=(j,D)=>Mr(j)?p.state.subscribe({next:F=>"values"in F&&j(T(void 0,D),F)}):T(j,D,!0),xe=j=>p.state.subscribe({next:D=>{Xne(j.name,D.name,j.exact)&&Qne(D,j.formState||h,Kt,j.reRenderRoot)&&j.callback({values:{...s},...r,...D,defaultValues:i})}}).unsubscribe,Oe=j=>(a.mount=!0,f={...f,...j.formState},xe({...j,formState:{...d,...j.formState}})),Ne=(j,D={})=>{for(const F of j?$c(j):o.mount)o.mount.delete(F),o.array.delete(F),D.keepValue||(qt(n,F),qt(s,F)),!D.keepError&&qt(r.errors,F),!D.keepDirty&&qt(r.dirtyFields,F),!D.keepTouched&&qt(r.touchedFields,F),!D.keepIsValidating&&qt(r.validatingFields,F),!e.shouldUnregister&&!D.keepDefaultValue&&qt(i,F);p.state.next({values:Gt(s)}),p.state.next({...r,...D.keepDirty?{isDirty:N()}:{}}),!D.keepIsValid&&b()},vt=({disabled:j,name:D})=>{(hn(j)&&a.mount||j||o.disabled.has(D))&&(j?o.disabled.add(D):o.disabled.delete(D))},Xe=(j,D={})=>{let F=ae(n,j);const re=hn(D.disabled)||hn(e.disabled);return it(n,j,{...F||{},_f:{...F&&F._f?F._f:{ref:{name:j}},name:j,mount:!0,...D}}),o.mount.add(j),F?vt({disabled:hn(D.disabled)?D.disabled:e.disabled,name:j}):_(j,!0,D.value),{...re?{disabled:D.disabled||e.disabled}:{},...e.progressive?{required:!!D.required,min:hc(D.min),max:hc(D.max),minLength:hc(D.minLength),maxLength:hc(D.maxLength),pattern:hc(D.pattern)}:{},name:j,onChange:L,onBlur:L,ref:J=>{if(J){Xe(j,D),F=ae(n,j);const V=Ct(J.value)&&J.querySelectorAll&&J.querySelectorAll("input,select,textarea")[0]||J,ce=Une(V),je=F._f.refs||[];if(ce?je.find(Ae=>Ae===V):V===F._f.ref)return;it(n,j,{_f:{...F._f,...ce?{refs:[...je.filter(lv),V,...Array.isArray(ae(i,j))?[{}]:[]],ref:{type:V.type,name:j}}:{ref:V}}}),_(j,!1,void 0,V)}else F=ae(n,j,{}),F._f&&(F._f.mount=!1),(e.shouldUnregister||D.shouldUnregister)&&!($V(o.array,j)&&a.action)&&o.unMount.add(j)}}},Vt=()=>e.shouldFocusError&&kc(n,W,o.mount),dr=j=>{hn(j)&&(p.state.next({disabled:j}),kc(n,(D,F)=>{const re=ae(n,F);re&&(D.disabled=re._f.disabled||j,Array.isArray(re._f.refs)&&re._f.refs.forEach(J=>{J.disabled=re._f.disabled||j}))},0,!1))},ut=(j,D)=>async F=>{let re;F&&(F.preventDefault&&F.preventDefault(),F.persist&&F.persist());let J=Gt(s);if(p.state.next({isSubmitting:!0}),e.resolver){const{errors:V,values:ce}=await S();g(),r.errors=V,J=Gt(ce)}else await C(n);if(o.disabled.size)for(const V of o.disabled)qt(J,V);if(qt(r.errors,"root"),jr(r.errors)){p.state.next({errors:{}});try{await j(J,F)}catch(V){re=V}}else D&&await D({...r.errors},F),Vt(),setTimeout(Vt);if(p.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:jr(r.errors)&&!re,submitCount:r.submitCount+1,errors:r.errors}),re)throw re},Nr=(j,D={})=>{ae(n,j)&&(Ct(D.defaultValue)?H(j,Gt(ae(i,j))):(H(j,D.defaultValue),it(i,j,Gt(D.defaultValue))),D.keepTouched||qt(r.touchedFields,j),D.keepDirty||(qt(r.dirtyFields,j),r.isDirty=D.defaultValue?N(j,Gt(ae(i,j))):N()),D.keepError||(qt(r.errors,j),h.isValid&&b()),p.state.next({...r}))},tt=(j,D={})=>{const F=j?Gt(j):i,re=Gt(F),J=jr(j),V=J?i:re;if(D.keepDefaultValues||(i=F),!D.keepValues){if(D.keepDirtyValues){const ce=new Set([...o.mount,...Object.keys(al(i,s))]);for(const je of Array.from(ce))ae(r.dirtyFields,je)?it(V,je,ae(s,je)):H(je,ae(V,je))}else{if(qC&&Ct(j))for(const ce of o.mount){const je=ae(n,ce);if(je&&je._f){const Ae=Array.isArray(je._f.refs)?je._f.refs[0]:je._f.ref;if(ip(Ae)){const Rt=Ae.closest("form");if(Rt){Rt.reset();break}}}}if(D.keepFieldsRef)for(const ce of o.mount)H(ce,ae(V,ce));else n={}}s=e.shouldUnregister?D.keepDefaultValues?Gt(i):{}:Gt(V),p.array.next({values:{...V}}),p.state.next({values:{...V}})}o={mount:D.keepDirtyValues?o.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},a.mount=!h.isValid||!!D.keepIsValid||!!D.keepDirtyValues||!e.shouldUnregister&&!jr(V),a.watch=!!e.shouldUnregister,a.keepIsValid=!!D.keepIsValid,a.action=!1,D.keepErrors||(r.errors={}),p.state.next({submitCount:D.keepSubmitCount?r.submitCount:0,isDirty:J?!1:D.keepDirty?r.isDirty:!!(D.keepDefaultValues&&!ti(j,i)),isSubmitted:D.keepIsSubmitted?r.isSubmitted:!1,dirtyFields:J?{}:D.keepDirtyValues?D.keepDefaultValues&&s?al(i,s):r.dirtyFields:D.keepDefaultValues&&j?al(i,j):D.keepDirty?r.dirtyFields:{},touchedFields:D.keepTouched?r.touchedFields:{},errors:D.keepErrors?r.errors:{},isSubmitSuccessful:D.keepIsSubmitSuccessful?r.isSubmitSuccessful:!1,isSubmitting:!1,defaultValues:i})},Tr=(j,D)=>tt(Mr(j)?j(s):j,{...e.resetOptions,...D}),rt=(j,D={})=>{const F=ae(n,j),re=F&&F._f;if(re){const J=re.refs?re.refs[0]:re.ref;J.focus&&setTimeout(()=>{J.focus(),D.shouldSelect&&Mr(J.select)&&J.select()})}},Kt=j=>{r={...r,...j}},Sn={control:{register:Xe,unregister:Ne,getFieldState:Q,handleSubmit:ut,setError:ge,_subscribe:xe,_runSchema:S,_updateIsValidating:g,_focusError:Vt,_getWatch:T,_getDirty:N,_setValid:b,_setFieldArray:v,_setDisabledField:vt,_setErrors:w,_getFieldArray:q,_reset:tt,_resetDefaultValues:()=>Mr(e.defaultValues)&&e.defaultValues().then(j=>{Tr(j,e.resetOptions),p.state.next({isLoading:!1})}),_removeUnmounted:I,_disableForm:dr,_subjects:p,_proxyFormState:h,get _fields(){return n},get _formValues(){return s},get _state(){return a},set _state(j){a=j},get _defaultValues(){return i},get _names(){return o},set _names(j){o=j},get _formState(){return r},get _options(){return e},set _options(j){e={...e,...j}}},subscribe:Oe,trigger:z,register:Xe,handleSubmit:ut,watch:Me,setValue:H,getValues:U,reset:Tr,resetField:Nr,clearErrors:fe,unregister:Ne,setError:ge,setFocus:rt,getFieldState:Q};return{...Sn,formControl:Sn}}function Ou(t={}){const e=Te.useRef(void 0),r=Te.useRef(void 0),[n,i]=Te.useState({isDirty:!1,isValidating:!1,isLoading:Mr(t.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1,isReady:!1,defaultValues:Mr(t.defaultValues)?void 0:t.defaultValues});if(!e.current)if(t.formControl)e.current={...t.formControl,formState:n},t.defaultValues&&!Mr(t.defaultValues)&&t.formControl.reset(t.defaultValues,t.resetOptions);else{const{formControl:a,...o}=rie(t);e.current={...o,formState:n}}const s=e.current.control;return s._options=t,LC(()=>{const a=s._subscribe({formState:s._proxyFormState,callback:()=>i({...s._formState}),reRenderRoot:!0});return i(o=>({...o,isReady:!0})),s._formState.isReady=!0,a},[s]),Te.useEffect(()=>s._disableForm(t.disabled),[s,t.disabled]),Te.useEffect(()=>{t.mode&&(s._options.mode=t.mode),t.reValidateMode&&(s._options.reValidateMode=t.reValidateMode)},[s,t.mode,t.reValidateMode]),Te.useEffect(()=>{t.errors&&(s._setErrors(t.errors),s._focusError())},[s,t.errors]),Te.useEffect(()=>{t.shouldUnregister&&s._subjects.state.next({values:s._getWatch()})},[s,t.shouldUnregister]),Te.useEffect(()=>{if(s._proxyFormState.isDirty){const a=s._getDirty();a!==n.isDirty&&s._subjects.state.next({isDirty:a})}},[s,n.isDirty]),Te.useEffect(()=>{var a;t.values&&!ti(t.values,r.current)?(s._reset(t.values,{keepFieldsRef:!0,...s._options.resetOptions}),!((a=s._options.resetOptions)===null||a===void 0)&&a.keepIsValid||s._setValid(),r.current=t.values,i(o=>({...o}))):s._resetDefaultValues()},[s,t.values]),Te.useEffect(()=>{s._state.mount||(s._setValid(),s._state.mount=!0),s._state.watch&&(s._state.watch=!1,s._subjects.state.next({...s._formState})),s._removeUnmounted()}),e.current.formState=DV(n,s),e.current}function yR(){var y;const{id:t}=fs(),e=sn(),r=!!t,{data:n,isLoading:i}=Eu(t),s=mne(),a=Ld(),{data:o=[]}=ht({queryKey:["date-types"],queryFn:async()=>(await Le.getDateTypes()).data}),l=o.find(b=>b.slug==="birthday"||b.name.toLowerCase()==="birthday"),{register:u,handleSubmit:d,reset:h,formState:{errors:f,isSubmitting:p}}=Ou({defaultValues:{first_name:"",last_name:"",nickname:"",gender:"",email:"",how_we_met:"",is_favorite:!1,birthday:""}});$.useEffect(()=>{var b,g,v,x,w,_,E,O;if(n){const S=(g=(b=n.acf)==null?void 0:b.contact_info)==null?void 0:g.find(C=>C.contact_type==="email"),P=(S==null?void 0:S.contact_value)||"";h({first_name:((v=n.acf)==null?void 0:v.first_name)||"",last_name:((x=n.acf)==null?void 0:x.last_name)||"",nickname:((w=n.acf)==null?void 0:w.nickname)||"",gender:((_=n.acf)==null?void 0:_.gender)||"",email:P,how_we_met:((E=n.acf)==null?void 0:E.how_we_met)||"",is_favorite:((O=n.acf)==null?void 0:O.is_favorite)||!1,birthday:""})}},[n,h]),bn(r&&n?`Edit ${((y=n.title)==null?void 0:y.rendered)||n.title||"Person"}`:"New Person");const m=async b=>{try{const v=`${b.first_name||""} ${b.last_name||""}`.trim()||"Unnamed Person",x={title:v,status:"publish",acf:{first_name:b.first_name,last_name:b.last_name,nickname:b.nickname,gender:b.gender||null,how_we_met:b.how_we_met,is_favorite:b.is_favorite}};if(!r&&b.email&&(x.acf.contact_info=[{contact_type:"email",contact_value:b.email,contact_label:""}]),r)x.title=v,await a.mutateAsync({id:t,data:x}),e(`/people/${t}`);else{const _=(await s.mutateAsync(x)).data.id;if(b.email)try{await Jt.sideloadGravatar(_,b.email)}catch(E){console.error("Failed to load Gravatar:",E)}if(b.birthday&&l)try{const E=b.first_name||"Person";await Le.createDate({title:`${E}'s Birthday`,status:"publish",date_type:[l.id],acf:{date_value:b.birthday,is_recurring:!0,related_people:[_],reminder_days_before:7}})}catch(E){console.error("Failed to create birthday:",E)}e(`/people/${_}`)}}catch(g){console.error("Failed to save person:",g)}};return r&&i?c.jsx("div",{className:"flex items-center justify-center h-64",children:c.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"})}):c.jsxs("div",{className:"max-w-2xl mx-auto space-y-6",children:[c.jsx("div",{className:"flex items-center justify-between",children:c.jsxs(de,{to:"/people",className:"flex items-center text-gray-600 hover:text-gray-900",children:[c.jsx(An,{className:"w-4 h-4 md:mr-2"}),c.jsx("span",{className:"hidden md:inline",children:"Back to People"})]})}),c.jsxs("div",{className:"card p-6",children:[c.jsx("h1",{className:"text-xl font-bold mb-6",children:r?"Edit Person":"Add New Person"}),c.jsxs("form",{onSubmit:d(m),className:"space-y-6",children:[c.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"label",children:"First Name *"}),c.jsx("input",{...u("first_name",{required:"First name is required"}),className:"input",placeholder:"John"}),f.first_name&&c.jsx("p",{className:"text-sm text-red-600 mt-1",children:f.first_name.message})]}),c.jsxs("div",{children:[c.jsx("label",{className:"label",children:"Last Name"}),c.jsx("input",{...u("last_name"),className:"input",placeholder:"Doe"})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"label",children:"Nickname"}),c.jsx("input",{...u("nickname"),className:"input",placeholder:"Johnny"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"label",children:"Gender"}),c.jsxs("select",{...u("gender"),className:"input",children:[c.jsx("option",{value:"",children:"Select gender..."}),c.jsx("option",{value:"male",children:"Male"}),c.jsx("option",{value:"female",children:"Female"}),c.jsx("option",{value:"non_binary",children:"Non-binary"}),c.jsx("option",{value:"other",children:"Other"}),c.jsx("option",{value:"prefer_not_to_say",children:"Prefer not to say"})]})]}),!r&&c.jsxs("div",{children:[c.jsx("label",{className:"label",children:"Email"}),c.jsx("input",{type:"email",...u("email"),className:"input",placeholder:"john@example.com"}),c.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Optional: If a Gravatar is associated with this email, it will be automatically set as the profile photo"})]}),!r&&c.jsxs("div",{children:[c.jsx("label",{className:"label",children:"Birthday"}),c.jsx("input",{type:"date",...u("birthday"),className:"input"}),c.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Optional: Set their birthday when creating a new person"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"label",children:"How We Met"}),c.jsx("textarea",{...u("how_we_met"),className:"input",rows:4,placeholder:"We met at..."})]}),c.jsxs("div",{className:"flex items-center",children:[c.jsx("input",{type:"checkbox",...u("is_favorite"),className:"w-4 h-4 rounded border-gray-300 text-primary-600 focus:ring-primary-500"}),c.jsx("label",{className:"ml-2 text-sm text-gray-700",children:"Mark as favorite"})]}),c.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t",children:[c.jsx(de,{to:"/people",className:"btn-secondary",children:"Cancel"}),c.jsxs("button",{type:"submit",className:"btn-primary",disabled:p,children:[p?c.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}):c.jsx(ua,{className:"w-4 h-4 mr-2"}),r?"Save Changes":"Create Person"]})]})]})]})]})}function nie({value:t,onChange:e,companies:r,isLoading:n}){return c.jsxs("select",{value:t||"",onChange:i=>e(i.target.value?parseInt(i.target.value,10):null),className:"input",disabled:n,children:[c.jsx("option",{value:"",children:"Select a company..."}),r.map(i=>{var s;return c.jsx("option",{value:i.id,children:((s=i.title)==null?void 0:s.rendered)||i.title},i.id)})]})}function bR(){var v,x;const{personId:t,index:e}=fs(),r=sn();Zt();const n=parseInt(e,10),i=!isNaN(n),{data:s,isLoading:a}=Eu(t),o=Ld(),{data:l=[],isLoading:u}=ht({queryKey:["companies","all"],queryFn:async()=>(await Le.getCompanies({per_page:100,orderby:"title",order:"asc"})).data}),{register:d,handleSubmit:h,reset:f,watch:p,control:m,formState:{errors:y,isSubmitting:b}}=Ou({defaultValues:{company:null,job_title:"",description:"",start_date:"",end_date:"",is_current:!1}});$.useEffect(()=>{var w;if(s&&i){const E=(((w=s.acf)==null?void 0:w.work_history)||[])[n];E&&f({company:E.company||null,job_title:E.job_title||"",description:E.description||"",start_date:E.start_date||"",end_date:E.end_date||"",is_current:E.is_current||!1})}},[s,n,i,f]),bn(i?`Edit Work History - ${((v=s==null?void 0:s.title)==null?void 0:v.rendered)||(s==null?void 0:s.title)||"Person"}`:`Add Work History - ${((x=s==null?void 0:s.title)==null?void 0:x.rendered)||(s==null?void 0:s.title)||"Person"}`);const g=async w=>{var _;try{const E=[...((_=s.acf)==null?void 0:_.work_history)||[]],O={company:w.company||null,job_title:w.job_title||"",description:w.description||"",start_date:w.start_date||"",end_date:w.end_date||"",is_current:w.is_current||!1};i?E[n]=O:E.push(O);const S=qa(s.acf,{work_history:E});await o.mutateAsync({id:t,data:{acf:S}}),r(`/people/${t}`)}catch(E){console.error("Failed to save work history:",E)}};return p("is_current"),a?c.jsx("div",{className:"flex items-center justify-center h-64",children:c.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"})}):s?c.jsxs("div",{className:"max-w-2xl mx-auto space-y-6",children:[c.jsx("div",{className:"flex items-center justify-between",children:c.jsxs(de,{to:`/people/${t}`,className:"flex items-center text-gray-600 hover:text-gray-900",children:[c.jsx(An,{className:"w-4 h-4 md:mr-2"}),c.jsx("span",{className:"hidden md:inline",children:"Back to Person"})]})}),c.jsxs("div",{className:"card p-6",children:[c.jsx("h1",{className:"text-xl font-bold mb-6",children:i?"Edit Work History":"Add Work History"}),c.jsxs("form",{onSubmit:h(g),className:"space-y-6",children:[c.jsxs("div",{children:[c.jsx("label",{className:"label",children:"Company"}),c.jsx(np,{name:"company",control:m,render:({field:w})=>c.jsx(nie,{value:w.value,onChange:w.onChange,companies:l,isLoading:u})})]}),c.jsxs("div",{children:[c.jsx("label",{className:"label",children:"Job Title"}),c.jsx("input",{...d("job_title"),className:"input",placeholder:"e.g., Software Engineer"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"label",children:"Description"}),c.jsx("textarea",{...d("description"),className:"input",rows:4,placeholder:"Job description, responsibilities, achievements..."})]}),c.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"label",children:"Start Date"}),c.jsx("input",{type:"date",...d("start_date"),className:"input"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"label",children:"End Date"}),c.jsx("input",{type:"date",...d("end_date"),className:"input"}),c.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Optional: Set a future end date to automatically mark as former when it passes"})]})]}),c.jsxs("div",{className:"flex items-center",children:[c.jsx("input",{type:"checkbox",...d("is_current"),className:"w-4 h-4 rounded border-gray-300 text-primary-600 focus:ring-primary-500"}),c.jsx("label",{className:"ml-2 text-sm text-gray-700",children:"Currently works here"})]}),c.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t",children:[c.jsx(de,{to:`/people/${t}`,className:"btn-secondary",children:"Cancel"}),c.jsxs("button",{type:"submit",className:"btn-primary",disabled:b,children:[b?c.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}):c.jsx(ua,{className:"w-4 h-4 mr-2"}),i?"Save Changes":"Add Work History"]})]})]})]})]}):c.jsxs("div",{className:"card p-6 text-center",children:[c.jsx("p",{className:"text-red-600",children:"Failed to load person."}),c.jsx(de,{to:"/people",className:"btn-secondary mt-4",children:"Back to People"})]})}const iie=[{value:"email",label:"Email"},{value:"phone",label:"Phone"},{value:"mobile",label:"Mobile"},{value:"address",label:"Address"},{value:"website",label:"Website"},{value:"linkedin",label:"LinkedIn"},{value:"twitter",label:"Twitter"},{value:"bluesky",label:"Bluesky"},{value:"threads",label:"Threads"},{value:"instagram",label:"Instagram"},{value:"facebook",label:"Facebook"},{value:"other",label:"Other"}];function wR(){var y,b;const{personId:t,index:e}=fs(),r=sn(),n=Zt(),i=parseInt(e,10),s=!isNaN(i),{data:a,isLoading:o}=Eu(t),l=Ld(),{register:u,handleSubmit:d,reset:h,formState:{errors:f,isSubmitting:p}}=Ou({defaultValues:{contact_type:"",contact_label:"",contact_value:""}});$.useEffect(()=>{var g;if(a&&s){const x=(((g=a.acf)==null?void 0:g.contact_info)||[])[i];x&&h({contact_type:x.contact_type||"",contact_label:x.contact_label||"",contact_value:x.contact_value||""})}},[a,i,s,h]),bn(s?`Edit Contact Detail - ${((y=a==null?void 0:a.title)==null?void 0:y.rendered)||(a==null?void 0:a.title)||"Person"}`:`Add Contact Detail - ${((b=a==null?void 0:a.title)==null?void 0:b.rendered)||(a==null?void 0:a.title)||"Person"}`);const m=async g=>{var v,x,w,_;try{const E=[...((v=a.acf)==null?void 0:v.contact_info)||[]],O={contact_type:g.contact_type||"",contact_label:g.contact_label||"",contact_value:g.contact_value||""};s?E[i]=O:E.push(O);const S=qa(a.acf,{contact_info:E});if(await l.mutateAsync({id:t,data:{acf:S}}),!s&&g.contact_type==="email"&&g.contact_value&&!(a.featured_media>0||((_=(w=(x=a._embedded)==null?void 0:x["wp:featuredmedia"])==null?void 0:w[0])==null?void 0:_.source_url)||a.thumbnail))try{await Jt.sideloadGravatar(t,g.contact_value),n.invalidateQueries({queryKey:["person",t]})}catch(C){console.log("No Gravatar found or failed to load:",C)}r(`/people/${t}`)}catch(E){console.error("Failed to save contact detail:",E)}};return o?c.jsx("div",{className:"flex items-center justify-center h-64",children:c.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"})}):a?c.jsxs("div",{className:"max-w-2xl mx-auto space-y-6",children:[c.jsx("div",{className:"flex items-center justify-between",children:c.jsxs(de,{to:`/people/${t}`,className:"flex items-center text-gray-600 hover:text-gray-900",children:[c.jsx(An,{className:"w-4 h-4 md:mr-2"}),c.jsx("span",{className:"hidden md:inline",children:"Back to Person"})]})}),c.jsxs("div",{className:"card p-6",children:[c.jsx("h1",{className:"text-xl font-bold mb-6",children:s?"Edit Contact Detail":"Add Contact Detail"}),c.jsxs("form",{onSubmit:d(m),className:"space-y-6",children:[c.jsxs("div",{children:[c.jsx("label",{className:"label",children:"Contact Type *"}),c.jsxs("select",{...u("contact_type",{required:"Please select a contact type"}),className:"input",children:[c.jsx("option",{value:"",children:"Select a type..."}),iie.map(g=>c.jsx("option",{value:g.value,children:g.label},g.value))]}),f.contact_type&&c.jsx("p",{className:"text-sm text-red-600 mt-1",children:f.contact_type.message})]}),c.jsxs("div",{children:[c.jsx("label",{className:"label",children:"Label"}),c.jsx("input",{...u("contact_label"),className:"input",placeholder:"e.g., Work, Personal, Home"}),c.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Optional: Add a label to distinguish multiple entries of the same type"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"label",children:"Value *"}),c.jsx("input",{...u("contact_value",{required:"Please enter a contact value"}),className:"input",placeholder:"e.g., john@example.com, +1 234 567 8900"}),f.contact_value&&c.jsx("p",{className:"text-sm text-red-600 mt-1",children:f.contact_value.message})]}),c.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t",children:[c.jsx(de,{to:`/people/${t}`,className:"btn-secondary",children:"Cancel"}),c.jsxs("button",{type:"submit",className:"btn-primary",disabled:p,children:[p?c.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}):c.jsx(ua,{className:"w-4 h-4 mr-2"}),s?"Save Changes":"Add Contact Detail"]})]})]})]})]}):c.jsxs("div",{className:"card p-6 text-center",children:[c.jsx("p",{className:"text-red-600",children:"Failed to load person."}),c.jsx(de,{to:"/people",className:"btn-secondary mt-4",children:"Back to People"})]})}function sie({value:t,onChange:e,people:r,isLoading:n,excludePersonId:i}){const[s,a]=$.useState(""),[o,l]=$.useState(!1),u=$.useRef(null),d=$.useRef(null),h=$.useMemo(()=>r.filter(v=>v.id!==i).sort((v,x)=>{var E,O;const w=(v.first_name||((E=v.acf)==null?void 0:E.first_name)||"").toLowerCase(),_=(x.first_name||((O=x.acf)==null?void 0:O.first_name)||"").toLowerCase();return w<_?-1:w>_?1:0}),[r,i]),f=$.useMemo(()=>{if(!s)return h.slice(0,10);const g=s.toLowerCase();return h.filter(v=>{var E,O;const x=eo(v).toLowerCase(),w=(v.first_name||((E=v.acf)==null?void 0:E.first_name)||"").toLowerCase(),_=(v.last_name||((O=v.acf)==null?void 0:O.last_name)||"").toLowerCase();return x.includes(g)||w.includes(g)||_.includes(g)}).slice(0,10)},[h,s]),p=$.useMemo(()=>h.find(g=>g.id===t),[h,t]);$.useEffect(()=>{const g=v=>{d.current&&!d.current.contains(v.target)&&u.current&&!u.current.contains(v.target)&&l(!1)};return document.addEventListener("mousedown",g),()=>document.removeEventListener("mousedown",g)},[]);const m=g=>{e(g),a(""),l(!1)},y=()=>{e(null),a(""),l(!1)},b=p?eo(p):"";return c.jsxs("div",{className:"relative",children:[c.jsx("div",{className:"relative",children:p&&!o?c.jsxs("div",{className:"flex items-center justify-between input pr-8 cursor-text",onClick:()=>l(!0),children:[c.jsx("span",{children:b}),c.jsx("button",{type:"button",onClick:g=>{g.stopPropagation(),y()},className:"absolute right-2 text-gray-400 hover:text-gray-600",children:c.jsx(ca,{className:"w-4 h-4"})})]}):c.jsx("input",{ref:u,type:"text",value:s,onChange:g=>{a(g.target.value),l(!0)},onFocus:()=>l(!0),placeholder:"Search for a person...",className:"input",disabled:n})}),o&&(s||!p)&&c.jsx("div",{ref:d,className:"absolute z-10 w-full mt-1 bg-white border border-gray-200 rounded-lg shadow-lg max-h-48 overflow-y-auto",children:f.length>0?f.map(g=>c.jsx("button",{type:"button",onClick:()=>m(g.id),className:`w-full text-left px-4 py-2 hover:bg-gray-50 ${t===g.id?"bg-primary-50":""}`,children:eo(g)},g.id)):c.jsx("p",{className:"px-4 py-2 text-gray-500 text-sm",children:"No people found"})})]})}function xR(){var x,w;const{personId:t,index:e}=fs(),r=sn(),n=parseInt(e,10),i=!isNaN(n),{data:s,isLoading:a}=Eu(t),o=Ld(),{data:l=[],isLoading:u}=Hp(),{data:d=[],isLoading:h}=ht({queryKey:["relationship-types"],queryFn:async()=>(await Le.getRelationshipTypes()).data}),{register:f,handleSubmit:p,reset:m,control:y,formState:{errors:b,isSubmitting:g}}=Ou({defaultValues:{related_person:null,relationship_type:"",relationship_label:""}});$.useEffect(()=>{var _;if(s&&i){const O=(((_=s.acf)==null?void 0:_.relationships)||[])[n];O&&m({related_person:O.related_person||null,relationship_type:O.relationship_type?String(O.relationship_type):"",relationship_label:O.relationship_label||""})}},[s,n,i,m]),bn(i?`Edit Relationship - ${((x=s==null?void 0:s.title)==null?void 0:x.rendered)||(s==null?void 0:s.title)||"Person"}`:`Add Relationship - ${((w=s==null?void 0:s.title)==null?void 0:w.rendered)||(s==null?void 0:s.title)||"Person"}`);const v=async _=>{var E;try{const O=[...((E=s.acf)==null?void 0:E.relationships)||[]],S={related_person:_.related_person||null,relationship_type:_.relationship_type||null,relationship_label:_.relationship_label||""};i?O[n]=S:O.push(S);const P=qa(s.acf,{relationships:O});await o.mutateAsync({id:t,data:{acf:P}}),r(`/people/${t}`)}catch(O){console.error("Failed to save relationship:",O)}};return a?c.jsx("div",{className:"flex items-center justify-center h-64",children:c.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"})}):s?c.jsxs("div",{className:"max-w-2xl mx-auto space-y-6",children:[c.jsx("div",{className:"flex items-center justify-between",children:c.jsxs(de,{to:`/people/${t}`,className:"flex items-center text-gray-600 hover:text-gray-900",children:[c.jsx(An,{className:"w-4 h-4 md:mr-2"}),c.jsx("span",{className:"hidden md:inline",children:"Back to Person"})]})}),c.jsxs("div",{className:"card p-6",children:[c.jsx("h1",{className:"text-xl font-bold mb-6",children:i?"Edit Relationship":"Add Relationship"}),c.jsxs("form",{onSubmit:p(v),className:"space-y-6",children:[c.jsxs("div",{children:[c.jsx("label",{className:"label",children:"Related Person *"}),c.jsx(np,{name:"related_person",control:y,rules:{required:"Please select a person"},render:({field:_})=>c.jsx(sie,{value:_.value,onChange:_.onChange,people:l,isLoading:u,excludePersonId:parseInt(t,10)})}),b.related_person&&c.jsx("p",{className:"text-sm text-red-600 mt-1",children:b.related_person.message})]}),c.jsxs("div",{children:[c.jsx("label",{className:"label",children:"Relationship Type"}),c.jsxs("select",{...f("relationship_type",{setValueAs:_=>_?parseInt(_,10):null}),className:"input",disabled:h,children:[c.jsx("option",{value:"",children:"Select a type..."}),d.map(_=>c.jsx("option",{value:_.id,children:_.name},_.id))]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"label",children:"Custom Label"}),c.jsx("input",{...f("relationship_label"),className:"input",placeholder:"e.g., Brother-in-law"}),c.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Optional: Override the relationship type with a custom label"})]}),c.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t",children:[c.jsx(de,{to:`/people/${t}`,className:"btn-secondary",children:"Cancel"}),c.jsxs("button",{type:"submit",className:"btn-primary",disabled:g,children:[g?c.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}):c.jsx(ua,{className:"w-4 h-4 mr-2"}),i?"Save Changes":"Add Relationship"]})]})]})]})]}):c.jsxs("div",{className:"card p-6 text-center",children:[c.jsx("p",{className:"text-red-600",children:"Failed to load person."}),c.jsx(de,{to:"/people",className:"btn-secondary mt-4",children:"Back to People"})]})}function aie({company:t}){var e,r,n,i,s;return c.jsx(de,{to:`/companies/${t.id}`,className:"card p-4 hover:shadow-md transition-shadow",children:c.jsxs("div",{className:"flex items-start",children:[(n=(r=(e=t._embedded)==null?void 0:e["wp:featuredmedia"])==null?void 0:r[0])!=null&&n.source_url?c.jsx("img",{src:t._embedded["wp:featuredmedia"][0].source_url,alt:Gi(t),className:"w-12 h-12 rounded-lg object-contain bg-white"}):c.jsx("div",{className:"w-12 h-12 bg-white rounded-lg flex items-center justify-center border border-gray-200",children:c.jsx(ls,{className:"w-6 h-6 text-gray-400"})}),c.jsxs("div",{className:"ml-3 flex-1 min-w-0",children:[c.jsx("h3",{className:"text-sm font-medium text-gray-900 truncate",children:Gi(t)}),((i=t.acf)==null?void 0:i.industry)&&c.jsx("p",{className:"text-sm text-gray-500",children:t.acf.industry}),((s=t.acf)==null?void 0:s.website)&&c.jsx("p",{className:"text-xs text-primary-600 truncate",children:t.acf.website})]})]})})}function oie(){const[t,e]=$.useState(""),{data:r,isLoading:n,error:i}=ht({queryKey:["companies",t],queryFn:async()=>(await Le.getCompanies({search:t,per_page:100,_embed:!0})).data}),s=$.useMemo(()=>r?[...r].sort((a,o)=>{var d,h;const l=(((d=a.title)==null?void 0:d.rendered)||a.title||"").toLowerCase(),u=(((h=o.title)==null?void 0:h.rendered)||o.title||"").toLowerCase();return l.localeCompare(u)}):[],[r]);return c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[c.jsxs("div",{className:"relative flex-1 max-w-md",children:[c.jsx(yV,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}),c.jsx("input",{type:"search",placeholder:"Search companies...",value:t,onChange:a=>e(a.target.value),className:"input pl-9"})]}),c.jsxs(de,{to:"/companies/new",className:"btn-primary",children:[c.jsx(Or,{className:"w-4 h-4 md:mr-2"}),c.jsx("span",{className:"hidden md:inline",children:"Add Company"})]})]}),n&&c.jsx("div",{className:"flex items-center justify-center h-64",children:c.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"})}),i&&c.jsx("div",{className:"card p-6 text-center",children:c.jsx("p",{className:"text-red-600",children:"Failed to load companies."})}),!n&&!i&&(s==null?void 0:s.length)===0&&c.jsxs("div",{className:"card p-12 text-center",children:[c.jsx("div",{className:"w-12 h-12 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4",children:c.jsx(ls,{className:"w-6 h-6 text-gray-400"})}),c.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-1",children:"No companies found"}),c.jsx("p",{className:"text-gray-500 mb-4",children:t?"Try a different search.":"Add your first company."}),!t&&c.jsxs(de,{to:"/companies/new",className:"btn-primary",children:[c.jsx(Or,{className:"w-4 h-4 md:mr-2"}),c.jsx("span",{className:"hidden md:inline",children:"Add Company"})]})]}),!n&&!i&&(s==null?void 0:s.length)>0&&c.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:s.map(a=>c.jsx(aie,{company:a},a.id))})]})}function lie(){var d,h,f,p,m,y;const{id:t}=fs(),e=sn(),r=Zt(),{data:n,isLoading:i,error:s}=ht({queryKey:["company",t],queryFn:async()=>(await Le.getCompany(t,{_embed:!0})).data}),{data:a}=ht({queryKey:["company-people",t],queryFn:async()=>(await Jt.getCompanyPeople(t)).data}),o=Tt({mutationFn:()=>Le.deleteCompany(t,{force:!0}),onSuccess:()=>{r.invalidateQueries({queryKey:["companies"]}),e("/companies")}});bn(Gi(n)||"Company"),$.useEffect(()=>{(n==null?void 0:n.status)==="trash"&&e("/companies",{replace:!0})},[n,e]);const l=async()=>{if(window.confirm("Are you sure you want to delete this company?"))try{await o.mutateAsync()}catch(b){console.error("Failed to delete company:",b),alert("Failed to delete company. Please try again.")}};if(i)return c.jsx("div",{className:"flex items-center justify-center h-64",children:c.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"})});if(s||!n)return c.jsxs("div",{className:"card p-6 text-center",children:[c.jsx("p",{className:"text-red-600",children:"Failed to load company."}),c.jsx(de,{to:"/companies",className:"btn-secondary mt-4",children:"Back to Companies"})]});if(n.status==="trash")return null;const u=n.acf||{};return c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs(de,{to:"/companies",className:"flex items-center text-gray-600 hover:text-gray-900",children:[c.jsx(An,{className:"w-4 h-4 md:mr-2"}),c.jsx("span",{className:"hidden md:inline",children:"Back to Companies"})]}),c.jsxs("div",{className:"flex gap-2",children:[c.jsxs(de,{to:`/companies/${t}/edit`,className:"btn-secondary",children:[c.jsx(_V,{className:"w-4 h-4 mr-2"}),"Edit"]}),c.jsxs("button",{onClick:l,className:"btn-danger",children:[c.jsx(Os,{className:"w-4 h-4 mr-2"}),"Delete"]})]})]}),c.jsx("div",{className:"card p-6",children:c.jsxs("div",{className:"flex items-center gap-4",children:[(f=(h=(d=n._embedded)==null?void 0:d["wp:featuredmedia"])==null?void 0:h[0])!=null&&f.source_url?c.jsx("img",{src:n._embedded["wp:featuredmedia"][0].source_url,alt:Gi(n),className:"w-24 h-24 rounded-lg object-contain bg-white"}):c.jsx("div",{className:"w-24 h-24 bg-white rounded-lg flex items-center justify-center border border-gray-200",children:c.jsx(ls,{className:"w-12 h-12 text-gray-400"})}),c.jsxs("div",{children:[c.jsx("h1",{className:"text-2xl font-bold",children:Gi(n)}),u.industry&&c.jsx("p",{className:"text-gray-500",children:u.industry}),u.website&&c.jsxs("a",{href:u.website,target:"_blank",rel:"noopener noreferrer",className:"text-primary-600 hover:underline flex items-center mt-1",children:[c.jsx(wf,{className:"w-4 h-4 mr-1"}),u.website]})]})]})}),c.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[c.jsxs("div",{className:"card p-6",children:[c.jsxs("h2",{className:"font-semibold mb-4 flex items-center",children:[c.jsx(bo,{className:"w-5 h-5 mr-2"}),"Current Employees"]}),((p=a==null?void 0:a.current)==null?void 0:p.length)>0?c.jsx("div",{className:"space-y-2",children:a.current.map(b=>{var g;return c.jsxs(de,{to:`/people/${b.id}`,className:"flex items-center p-2 rounded hover:bg-gray-50",children:[b.thumbnail?c.jsx("img",{src:b.thumbnail,alt:"",loading:"lazy",className:"w-8 h-8 rounded-full"}):c.jsx("div",{className:"w-8 h-8 bg-gray-200 rounded-full flex items-center justify-center",children:c.jsx("span",{className:"text-xs text-gray-500",children:((g=b.name)==null?void 0:g[0])||"?"})}),c.jsxs("div",{className:"ml-2",children:[c.jsx("p",{className:"text-sm font-medium",children:b.name}),b.job_title&&c.jsx("p",{className:"text-xs text-gray-500",children:b.job_title})]})]},b.id)})}):c.jsx("p",{className:"text-sm text-gray-500",children:"No current employees."})]}),c.jsxs("div",{className:"card p-6",children:[c.jsxs("h2",{className:"font-semibold mb-4 flex items-center",children:[c.jsx(bo,{className:"w-5 h-5 mr-2"}),"Former Employees"]}),((m=a==null?void 0:a.former)==null?void 0:m.length)>0?c.jsx("div",{className:"space-y-2",children:a.former.map(b=>{var g;return c.jsxs(de,{to:`/people/${b.id}`,className:"flex items-center p-2 rounded hover:bg-gray-50",children:[b.thumbnail?c.jsx("img",{src:b.thumbnail,alt:"",loading:"lazy",className:"w-8 h-8 rounded-full opacity-75"}):c.jsx("div",{className:"w-8 h-8 bg-gray-200 rounded-full flex items-center justify-center opacity-75",children:c.jsx("span",{className:"text-xs text-gray-500",children:((g=b.name)==null?void 0:g[0])||"?"})}),c.jsxs("div",{className:"ml-2",children:[c.jsx("p",{className:"text-sm font-medium text-gray-700",children:b.name}),b.job_title&&c.jsx("p",{className:"text-xs text-gray-500",children:b.job_title})]})]},b.id)})}):c.jsx("p",{className:"text-sm text-gray-500",children:"No former employees."})]})]}),((y=u.contact_info)==null?void 0:y.length)>0&&c.jsxs("div",{className:"card p-6",children:[c.jsx("h2",{className:"font-semibold mb-4",children:"Contact Information"}),c.jsx("div",{className:"space-y-3",children:u.contact_info.map((b,g)=>c.jsxs("div",{children:[c.jsxs("span",{className:"text-sm text-gray-500",children:[b.contact_label||b.contact_type,":"]}),c.jsx("span",{className:"ml-2",children:b.contact_value})]},g))})]})]})}function _R(){var v,x,w,_,E,O;const{id:t}=fs(),e=sn(),r=Zt(),n=!!t,{data:i,isLoading:s}=ht({queryKey:["company",t],queryFn:async()=>(await Le.getCompany(t,{_embed:!0})).data,enabled:n}),[a,o]=$.useState(!1),l=$.useRef(null),u=Tt({mutationFn:S=>Le.createCompany(S),onSuccess:S=>{r.invalidateQueries({queryKey:["companies"]}),e(`/companies/${S.data.id}`)}}),d=Tt({mutationFn:S=>Le.updateCompany(t,S),onSuccess:()=>{r.invalidateQueries({queryKey:["company",t]}),r.invalidateQueries({queryKey:["companies"]}),r.invalidateQueries({queryKey:["people"]}),e(`/companies/${t}`)}}),h=async S=>{var C;const P=(C=S.target.files)==null?void 0:C[0];if(P){if(!P.type.startsWith("image/")){alert("Please select an image file");return}if(P.size>5*1024*1024){alert("Image size must be less than 5MB");return}o(!0);try{await Jt.uploadCompanyLogo(t,P),r.invalidateQueries({queryKey:["company",t]}),r.invalidateQueries({queryKey:["companies"]}),r.invalidateQueries({queryKey:["people"]}),r.refetchQueries({queryKey:["company",t]}),r.refetchQueries({queryKey:["companies"]}),r.refetchQueries({queryKey:["people"]})}catch(I){console.error("Failed to upload logo:",I),alert("Failed to upload logo. Please try again.")}finally{o(!1),l.current&&(l.current.value="")}}},{register:f,handleSubmit:p,reset:m,formState:{errors:y,isSubmitting:b}}=Ou();$.useEffect(()=>{var S,P,C;i&&m({title:ri(((S=i.title)==null?void 0:S.rendered)||""),website:((P=i.acf)==null?void 0:P.website)||"",industry:((C=i.acf)==null?void 0:C.industry)||""})},[i,m]),bn(n&&i?`Edit ${Gi(i)||"Company"}`:"New Company");const g=async S=>{const P={title:S.title,status:"publish",acf:{website:S.website,industry:S.industry}};n?d.mutate(P):u.mutate(P)};return n&&s?c.jsx("div",{className:"flex items-center justify-center h-64",children:c.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"})}):c.jsxs("div",{className:"max-w-2xl mx-auto space-y-6",children:[c.jsx("div",{className:"flex items-center justify-between",children:c.jsxs(de,{to:"/companies",className:"flex items-center text-gray-600 hover:text-gray-900",children:[c.jsx(An,{className:"w-4 h-4 md:mr-2"}),c.jsx("span",{className:"hidden md:inline",children:"Back to Companies"})]})}),c.jsxs("div",{className:"card p-6",children:[c.jsx("h1",{className:"text-xl font-bold mb-6",children:n?"Edit Company":"Add New Company"}),c.jsxs("form",{onSubmit:p(g),className:"space-y-6",children:[n&&c.jsxs("div",{children:[c.jsx("label",{className:"label",children:"Logo"}),c.jsxs("div",{className:"flex items-center gap-4",children:[(w=(x=(v=i==null?void 0:i._embedded)==null?void 0:v["wp:featuredmedia"])==null?void 0:x[0])!=null&&w.source_url?c.jsxs("div",{className:"relative group",children:[c.jsx("img",{src:i._embedded["wp:featuredmedia"][0].source_url,alt:Gi(i)||"Company logo",className:"w-20 h-20 rounded-lg object-contain bg-white"}),c.jsx("div",{className:"absolute inset-0 rounded-lg bg-black bg-opacity-0 group-hover:bg-opacity-50 transition-all duration-200 flex items-center justify-center cursor-pointer",onClick:()=>{var S;return(S=l.current)==null?void 0:S.click()},children:a?c.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-white"}):c.jsx(bf,{className:"w-6 h-6 text-white opacity-0 group-hover:opacity-100 transition-opacity"})})]}):c.jsxs("div",{className:"relative group",children:[c.jsx("div",{className:"w-20 h-20 bg-gray-200 rounded-lg flex items-center justify-center",children:c.jsx(bf,{className:"w-8 h-8 text-gray-400"})}),c.jsx("div",{className:"absolute inset-0 rounded-lg bg-black bg-opacity-0 group-hover:bg-opacity-50 transition-all duration-200 flex items-center justify-center cursor-pointer",onClick:()=>{var S;return(S=l.current)==null?void 0:S.click()},children:a?c.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-white"}):c.jsx(bf,{className:"w-6 h-6 text-white opacity-0 group-hover:opacity-100 transition-opacity"})})]}),c.jsxs("div",{children:[c.jsx("button",{type:"button",onClick:()=>{var S;return(S=l.current)==null?void 0:S.click()},className:"btn-secondary text-sm",disabled:a,children:(O=(E=(_=i==null?void 0:i._embedded)==null?void 0:_["wp:featuredmedia"])==null?void 0:E[0])!=null&&O.source_url?"Change Logo":"Upload Logo"}),c.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Click the logo or button to upload a new logo"})]}),c.jsx("input",{ref:l,type:"file",accept:"image/*",onChange:h,className:"hidden",disabled:a})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"label",children:"Company Name *"}),c.jsx("input",{...f("title",{required:"Company name is required"}),className:"input",placeholder:"Acme Inc."}),y.title&&c.jsx("p",{className:"text-sm text-red-600 mt-1",children:y.title.message})]}),c.jsxs("div",{children:[c.jsx("label",{className:"label",children:"Website"}),c.jsx("input",{...f("website"),type:"url",className:"input",placeholder:"https://example.com"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"label",children:"Industry"}),c.jsx("input",{...f("industry"),className:"input",placeholder:"Technology"})]}),c.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t",children:[c.jsx(de,{to:"/companies",className:"btn-secondary",children:"Cancel"}),c.jsxs("button",{type:"submit",className:"btn-primary",disabled:b,children:[c.jsx(ua,{className:"w-4 h-4 mr-2"}),n?"Save Changes":"Create Company"]})]})]})]})]})}function uie({person:t,dateType:e}){var r;return c.jsx("div",{className:"flex items-center gap-3 py-2",children:c.jsxs(de,{to:`/people/${t.id}`,className:"flex items-center gap-3 flex-1 min-w-0 hover:opacity-80",children:[t.thumbnail?c.jsx("img",{src:t.thumbnail,alt:t.name,loading:"lazy",className:"w-10 h-10 rounded-full object-cover flex-shrink-0"}):c.jsx("div",{className:"w-10 h-10 rounded-full bg-gray-200 flex items-center justify-center flex-shrink-0",children:c.jsx("span",{className:"text-sm font-medium text-gray-500",children:(r=t.name)==null?void 0:r[0]})}),c.jsx("span",{className:"font-medium truncate",children:t.name}),c.jsx("span",{className:"text-sm text-gray-500 capitalize flex-shrink-0",children:e})]})})}function cie({dates:t}){const e=t[0],n=e.days_until===0?"bg-green-100 text-green-700":"bg-gray-100 text-gray-600",i=[];return t.forEach(s=>{var o,l;const a=((o=s.date_type)==null?void 0:o[0])||"Date";((l=s.related_people)==null?void 0:l.length)>0?s.related_people.forEach(u=>{i.push({person:u,dateType:a})}):i.push({person:{id:null,name:s.title,thumbnail:null},dateType:a})}),c.jsx("div",{className:"card p-4 break-inside-avoid mb-4",children:c.jsxs("div",{className:"flex items-start gap-4",children:[c.jsx("div",{className:`w-14 h-14 rounded-lg ${n} flex items-center justify-center flex-shrink-0`,children:c.jsx("span",{className:"text-2xl font-bold leading-none",children:bi(new Date(e.next_occurrence),"d")})}),c.jsx("div",{className:"flex-1 min-w-0 divide-y divide-gray-100",children:i.map(({person:s,dateType:a},o)=>c.jsx(uie,{person:s,dateType:a},s.id?`${s.id}-${a}`:`${o}-${a}`))})]})})}function die(){const{data:t,isLoading:e,error:r}=Jte(365),n=(t==null?void 0:t.reduce((s,a)=>{const o=bi(new Date(a.next_occurrence),"yyyy-MM-dd");return s[o]||(s[o]=[]),s[o].push(a),s},{}))||{},i=Object.entries(n).reduce((s,[a,o])=>{const l=bi(new Date(a),"MMMM yyyy");return s[l]||(s[l]=[]),s[l].push(o),s},{});return c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("p",{className:"text-gray-600",children:[(t==null?void 0:t.length)||0," upcoming dates"]}),c.jsxs(de,{to:"/dates/new",className:"btn-primary",children:[c.jsx(Or,{className:"w-4 h-4 md:mr-2"}),c.jsx("span",{className:"hidden md:inline",children:"Add Date"})]})]}),e&&c.jsx("div",{className:"flex items-center justify-center h-64",children:c.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"})}),r&&c.jsx("div",{className:"card p-6 text-center",children:c.jsx("p",{className:"text-red-600",children:"Failed to load dates."})}),!e&&!r&&(t==null?void 0:t.length)===0&&c.jsxs("div",{className:"card p-12 text-center",children:[c.jsx(go,{className:"w-12 h-12 text-gray-300 mx-auto mb-4"}),c.jsx("h3",{className:"text-lg font-medium mb-1",children:"No important dates"}),c.jsx("p",{className:"text-gray-500 mb-4",children:"Add birthdays, anniversaries, and more."}),c.jsxs(de,{to:"/dates/new",className:"btn-primary",children:[c.jsx(Or,{className:"w-4 h-4 md:mr-2"}),c.jsx("span",{className:"hidden md:inline",children:"Add Date"})]})]}),Object.entries(i).map(([s,a])=>c.jsxs("div",{children:[c.jsx("h2",{className:"text-2xl font-semibold text-gray-700 mb-4",children:s}),c.jsx("div",{className:"columns-1 md:columns-2 lg:columns-3 gap-4",children:a.map(o=>c.jsx(cie,{dates:o},o[0].next_occurrence))})]},s))]})}function hie({value:t=[],onChange:e,people:r=[],isLoading:n}){const[i,s]=$.useState(""),a=$.useMemo(()=>{if(!i)return r.slice(0,10);const d=i.toLowerCase();return r.filter(h=>eo(h).toLowerCase().includes(d)).slice(0,10)},[r,i]),o=$.useMemo(()=>t.map(d=>r.find(h=>h.id===d)).filter(Boolean),[t,r]),l=d=>{t.includes(d)||e([...t,d]),s("")},u=d=>{e(t.filter(h=>h!==d))};return c.jsxs("div",{className:"space-y-2",children:[o.length>0&&c.jsx("div",{className:"flex flex-wrap gap-2",children:o.map(d=>c.jsxs("span",{className:"inline-flex items-center gap-1 px-3 py-1 bg-primary-100 text-primary-800 rounded-full text-sm",children:[eo(d),c.jsx("button",{type:"button",onClick:()=>u(d.id),className:"hover:text-primary-600",children:c.jsx(ca,{className:"w-3 h-3"})})]},d.id))}),c.jsxs("div",{className:"relative",children:[c.jsx("input",{type:"text",value:i,onChange:d=>s(d.target.value),placeholder:"Search for people...",className:"input",disabled:n}),i&&c.jsx("div",{className:"absolute z-10 w-full mt-1 bg-white border border-gray-200 rounded-lg shadow-lg max-h-48 overflow-y-auto",children:a.length>0?a.map(d=>c.jsx("button",{type:"button",onClick:()=>l(d.id),disabled:t.includes(d.id),className:`w-full text-left px-4 py-2 hover:bg-gray-50 ${t.includes(d.id)?"opacity-50 cursor-not-allowed":""}`,children:eo(d)},d.id)):c.jsx("p",{className:"px-4 py-2 text-gray-500 text-sm",children:"No people found"})})]})]})}function SR(){var W;const{id:t}=fs(),[e]=wZ(),r=sn(),n=Zt(),i=!!t,s=e.get("person"),a=e.get("type"),{data:o,isLoading:l}=ht({queryKey:["important-date",t],queryFn:async()=>(await Le.getDate(t)).data,enabled:i}),u=$.useMemo(()=>{var U;if(!((U=o==null?void 0:o.acf)!=null&&U.related_people))return[];const z=o.acf.related_people;return Array.isArray(z)?z.map(Q=>parseInt(typeof Q=="object"&&Q!==null?Q.ID||Q.id||Q.post_id:Q,10)).filter(Q=>!isNaN(Q)&&Q>0):[]},[o]),{data:d=[],isLoading:h}=Hp({orderby:"title",order:"asc"}),{data:f=[]}=ht({queryKey:["people","specific",u],queryFn:async()=>{const z=u.map(Q=>Le.getPerson(Q,{_embed:!0}).then(fe=>fe.data).catch(()=>null));return(await Promise.all(z)).filter(Boolean)},enabled:u.length>0}),p=$.useMemo(()=>{const z=new Map;return d.forEach(U=>z.set(U.id,U)),f.forEach(U=>{var fe,ge,Me,xe,Oe,Ne,vt,Xe,Vt,dr,ut,Nr,tt,Tr,rt,Kt;const Q={...U,id:U.id,name:eo(U),first_name:((fe=U.acf)==null?void 0:fe.first_name)||"",last_name:((ge=U.acf)==null?void 0:ge.last_name)||"",is_favorite:((Me=U.acf)==null?void 0:Me.is_favorite)||!1,thumbnail:((Ne=(Oe=(xe=U._embedded)==null?void 0:xe["wp:featuredmedia"])==null?void 0:Oe[0])==null?void 0:Ne.source_url)||((Nr=(ut=(dr=(Vt=(Xe=(vt=U._embedded)==null?void 0:vt["wp:featuredmedia"])==null?void 0:Xe[0])==null?void 0:Vt.media_details)==null?void 0:dr.sizes)==null?void 0:ut.thumbnail)==null?void 0:Nr.source_url)||null,labels:((Kt=(rt=(Tr=(tt=U._embedded)==null?void 0:tt["wp:term"])==null?void 0:Tr.flat())==null?void 0:rt.filter(un=>(un==null?void 0:un.taxonomy)==="person_label"))==null?void 0:Kt.map(un=>un.name))||[]};z.set(Q.id,Q)}),Array.from(z.values())},[d,f]),{data:m=[]}=ht({queryKey:["date-types"],queryFn:async()=>((await Le.getDateTypes()).data||[]).sort((Q,fe)=>{const ge=Q.name||"",Me=fe.name||"";return ge.localeCompare(Me)})}),y=Tt({mutationFn:z=>Le.createDate(z),onSuccess:()=>{n.invalidateQueries({queryKey:["reminders"]}),r(s?`/people/${s}`:"/dates")}}),b=Tt({mutationFn:z=>Le.updateDate(t,z),onSuccess:()=>{n.invalidateQueries({queryKey:["reminders"]}),n.invalidateQueries({queryKey:["important-date",t]}),n.invalidateQueries({queryKey:["people"]});const z=w("related_people");(z==null?void 0:z.length)>0?r(`/people/${z[0]}`):r("/dates")}}),{register:g,handleSubmit:v,reset:x,watch:w,setValue:_,control:E,formState:{errors:O,isSubmitting:S}}=Ou({defaultValues:{title:"",date_value:"",date_type:"",related_people:[],is_recurring:!0,reminder_days_before:7}}),P=w("related_people"),C=w("date_type"),I=w("title");$.useEffect(()=>{var Q;if((!I||["'s Birthday","Wedding of "].some(fe=>I.endsWith(fe)||I.startsWith(fe)))&&(P==null?void 0:P.length)>0&&C){const fe=m.find(Oe=>Oe.id===parseInt(C)),ge=(fe==null?void 0:fe.name)||"",Me=((Q=fe==null?void 0:fe.slug)==null?void 0:Q.toLowerCase())||ge.toLowerCase(),xe=P.map(Oe=>{var vt,Xe,Vt;const Ne=p.find(dr=>dr.id===Oe);return Ne?ri(((vt=Ne.acf)==null?void 0:vt.first_name)||((Vt=(Xe=Ne.title)==null?void 0:Xe.rendered)==null?void 0:Vt.split(" ")[0])||""):null}).filter(Boolean);if(xe.length>0&&ge){let Oe;Me==="wedding"?xe.length>=2?Oe=`Wedding of ${xe[0]} & ${xe[1]}`:Oe=`Wedding of ${xe[0]}`:Oe=`${xe[0]}'s ${ge}`,_("title",Oe)}}},[P,C,p,m,_,I]);const[N,T]=$.useState(!1);$.useEffect(()=>{var U,Q,fe,ge,Me,xe;if(N&&!i)return;const z=u.length===0||f.length>0;if(o&&p.length>0&&z){let Oe=[];const Ne=(U=o.acf)==null?void 0:U.related_people;Ne&&(Array.isArray(Ne)?Oe=Ne.map(Xe=>parseInt(typeof Xe=="object"&&Xe!==null?Xe.ID||Xe.id||Xe.post_id:Xe,10)).filter(Xe=>!isNaN(Xe)&&Xe>0):typeof Ne=="number"&&(Oe=[Ne]));let vt="";((Q=o.date_type)==null?void 0:Q.length)>0&&(vt=o.date_type[0].toString()),x({title:ri(((fe=o.title)==null?void 0:fe.rendered)||""),date_value:((ge=o.acf)==null?void 0:ge.date_value)||"",date_type:vt,related_people:Oe,is_recurring:((Me=o.acf)==null?void 0:Me.is_recurring)??!0,reminder_days_before:((xe=o.acf)==null?void 0:xe.reminder_days_before)||7}),T(!0)}else if(!i&&p.length>0&&m.length>0){const Oe={title:"",date_value:"",date_type:"",related_people:[],is_recurring:!0,reminder_days_before:7};if(s&&(Oe.related_people=[parseInt(s)]),a){const Ne=m.find(vt=>vt.slug===a||vt.name.toLowerCase()===a.toLowerCase());Ne&&(Oe.date_type=Ne.id.toString())}x(Oe),T(!0)}},[o,x,i,s,a,m,p,u,f,N]),bn(i&&o?`Edit ${((W=o.title)==null?void 0:W.rendered)||o.title||"Date"}`:"New Date");const q=async z=>{const U={title:z.title,status:"publish",date_type:z.date_type?[parseInt(z.date_type)]:[],acf:{date_value:z.date_value,related_people:z.related_people,is_recurring:z.is_recurring,reminder_days_before:parseInt(z.reminder_days_before,10)}};i?b.mutate(U):y.mutate(U)};if(i&&l)return c.jsx("div",{className:"flex items-center justify-center h-64",children:c.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"})});const B=w("related_people"),X=i&&(B==null?void 0:B.length)>0?B[0]:s,H=X?`/people/${X}`:"/dates",L=X?"Back to Person":"Back to Dates";return c.jsxs("div",{className:"max-w-2xl mx-auto space-y-6",children:[c.jsx("div",{className:"flex items-center justify-between",children:c.jsxs(de,{to:H,className:"flex items-center text-gray-600 hover:text-gray-900",children:[c.jsx(An,{className:"w-4 h-4 md:mr-2"}),c.jsx("span",{className:"hidden md:inline",children:L})]})}),c.jsxs("div",{className:"card p-6",children:[c.jsx("h1",{className:"text-xl font-bold mb-6",children:i?"Edit Date":"Add New Date"}),c.jsxs("form",{onSubmit:v(q),className:"space-y-6",children:[c.jsxs("div",{children:[c.jsx("label",{className:"label",children:"Related People"}),c.jsx(np,{name:"related_people",control:E,render:({field:z})=>c.jsx(hie,{value:z.value,onChange:z.onChange,people:p,isLoading:h})})]}),c.jsxs("div",{children:[c.jsx("label",{className:"label",children:"Date Type *"}),c.jsx(np,{name:"date_type",control:E,rules:{required:"Please select a date type"},render:({field:z})=>{const U=z.value?String(z.value):"";return c.jsxs("select",{value:U,onChange:Q=>{const fe=Q.target.value;z.onChange(fe)},onBlur:z.onBlur,name:z.name,ref:z.ref,className:"input",children:[c.jsx("option",{value:"",children:"Select a type..."}),m.map(Q=>c.jsx("option",{value:String(Q.id),children:Q.name},Q.id))]})}}),O.date_type&&c.jsx("p",{className:"text-sm text-red-600 mt-1",children:O.date_type.message})]}),c.jsxs("div",{children:[c.jsx("label",{className:"label",children:"Label"}),c.jsx("input",{...g("title"),className:"input",placeholder:"e.g., Mom's Birthday, Wedding Anniversary"}),c.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Auto-generated from person and date type. You can customize it."})]}),c.jsxs("div",{children:[c.jsx("label",{className:"label",children:"Date *"}),c.jsx("input",{...g("date_value",{required:"Date is required"}),type:"date",className:"input"}),O.date_value&&c.jsx("p",{className:"text-sm text-red-600 mt-1",children:O.date_value.message})]}),c.jsxs("div",{className:"flex items-center",children:[c.jsx("input",{type:"checkbox",...g("is_recurring"),className:"w-4 h-4 rounded border-gray-300 text-primary-600 focus:ring-primary-500"}),c.jsx("label",{className:"ml-2 text-sm text-gray-700",children:"Repeats every year"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"label",children:"Remind me"}),c.jsxs("select",{...g("reminder_days_before"),className:"input",children:[c.jsx("option",{value:"0",children:"On the day"}),c.jsx("option",{value:"1",children:"1 day before"}),c.jsx("option",{value:"3",children:"3 days before"}),c.jsx("option",{value:"7",children:"1 week before"}),c.jsx("option",{value:"14",children:"2 weeks before"}),c.jsx("option",{value:"30",children:"1 month before"})]})]}),c.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t",children:[c.jsx(de,{to:H,className:"btn-secondary",children:"Cancel"}),c.jsxs("button",{type:"submit",className:"btn-primary",disabled:S,children:[c.jsx(ua,{className:"w-4 h-4 mr-2"}),i?"Save Changes":"Create Date"]})]})]})]})]})}function fie(){const t=window.prmConfig||{},e=t.isAdmin||!1,[r,n]=$.useState(""),[i,s]=$.useState(""),[a,o]=$.useState(!0),[l,u]=$.useState(!1),[d,h]=$.useState(!1);$.useEffect(()=>{(async()=>{try{const y=await ye.get("/prm/v1/user/ical-url");n(y.data.url),s(y.data.webcal_url)}catch(y){console.error("Failed to fetch iCal URL:",y)}finally{o(!1)}})()},[]);const f=async()=>{try{await navigator.clipboard.writeText(r),u(!0),setTimeout(()=>u(!1),2e3)}catch(m){console.error("Failed to copy:",m)}},p=async()=>{if(confirm("Are you sure you want to regenerate your calendar URL? Any existing calendar subscriptions will stop working until you update them with the new URL.")){h(!0);try{const m=await ye.post("/prm/v1/user/regenerate-ical-token");n(m.data.url),s(m.data.webcal_url)}catch(m){console.error("Failed to regenerate token:",m)}finally{h(!1)}}};return c.jsxs("div",{className:"max-w-2xl mx-auto space-y-6",children:[c.jsxs("div",{className:"card p-6",children:[c.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Calendar Subscription"}),c.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Subscribe to your important dates in any calendar app (Apple Calendar, Google Calendar, Outlook, etc.)"}),a?c.jsxs("div",{className:"animate-pulse",children:[c.jsx("div",{className:"h-10 bg-gray-200 rounded mb-3"}),c.jsx("div",{className:"h-9 bg-gray-200 rounded w-24"})]}):c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"label mb-1",children:"Your Calendar Feed URL"}),c.jsxs("div",{className:"flex gap-2",children:[c.jsx("input",{type:"text",readOnly:!0,value:r,className:"input flex-1 text-sm font-mono bg-gray-50",onClick:m=>m.target.select()}),c.jsx("button",{onClick:f,className:"btn-secondary whitespace-nowrap",title:"Copy URL",children:l?c.jsxs("span",{className:"flex items-center gap-1",children:[c.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),"Copied"]}):c.jsxs("span",{className:"flex items-center gap-1",children:[c.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 5H6a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2v-1M8 5a2 2 0 002 2h2a2 2 0 002-2M8 5a2 2 0 012-2h2a2 2 0 012 2m0 0h2a2 2 0 012 2v3m2 4H10m0 0l3-3m-3 3l3 3"})}),"Copy"]})})]})]}),c.jsxs("div",{className:"flex flex-wrap gap-2",children:[c.jsx("a",{href:i,className:"btn-primary",children:c.jsxs("span",{className:"flex items-center gap-1",children:[c.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})}),"Subscribe in Calendar App"]})}),c.jsx("button",{onClick:p,disabled:d,className:"btn-secondary",children:d?"Regenerating...":"Regenerate URL"})]}),c.jsx("p",{className:"text-xs text-gray-500",children:'Keep this URL private. Anyone with access to it can see your important dates. If you think it has been compromised, click "Regenerate URL" to get a new one.'})]})]}),c.jsxs("div",{className:"card p-6",children:[c.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Data"}),c.jsxs("div",{className:"space-y-3",children:[c.jsxs(de,{to:"/settings/import",className:"block p-3 rounded-lg border border-gray-200 hover:bg-gray-50",children:[c.jsx("p",{className:"font-medium",children:"Import Data"}),c.jsx("p",{className:"text-sm text-gray-500",children:"Import contacts from Monica CRM or other sources"})]}),c.jsxs(de,{to:"/settings/export",className:"block p-3 rounded-lg border border-gray-200 hover:bg-gray-50",children:[c.jsx("p",{className:"font-medium",children:"Export Data"}),c.jsx("p",{className:"text-sm text-gray-500",children:"Export all contacts as vCard or Google Contacts CSV"})]})]})]}),e&&c.jsxs("div",{className:"card p-6",children:[c.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Administration"}),c.jsxs("div",{className:"space-y-3",children:[c.jsxs(de,{to:"/settings/relationship-types",className:"block p-3 rounded-lg border border-gray-200 hover:bg-gray-50",children:[c.jsx("p",{className:"font-medium",children:"Relationship Types"}),c.jsx("p",{className:"text-sm text-gray-500",children:"Manage relationship types and their inverse mappings"})]}),c.jsxs(de,{to:"/settings/user-approval",className:"block p-3 rounded-lg border border-gray-200 hover:bg-gray-50",children:[c.jsx("p",{className:"font-medium",children:"User Approval"}),c.jsx("p",{className:"text-sm text-gray-500",children:"Approve or deny access for new users"})]})]})]}),c.jsxs("div",{className:"card p-6",children:[c.jsx("h2",{className:"text-lg font-semibold mb-4",children:"About"}),c.jsxs("p",{className:"text-sm text-gray-600",children:[ou," v",t.version||"1.0.0",c.jsx("br",{}),"Built with WordPress, React, and Tailwind CSS."]})]})]})}function ER({value:t,onChange:e,relationshipTypes:r,currentTypeId:n=null}){const[i,s]=$.useState(""),[a,o]=$.useState(!1),l=$.useRef(null),u=$.useRef(null),d=$.useMemo(()=>r.sort((b,g)=>{const v=(b.name||"").toLowerCase(),x=(g.name||"").toLowerCase();return v<x?-1:v>x?1:0}),[r]),h=$.useMemo(()=>{if(!i)return d.slice(0,10);const b=i.toLowerCase();return d.filter(g=>(g.name||"").toLowerCase().includes(b)).slice(0,10)},[d,i]),f=$.useMemo(()=>d.find(b=>b.id===parseInt(t,10)),[d,t]);$.useEffect(()=>{const b=g=>{u.current&&!u.current.contains(g.target)&&l.current&&!l.current.contains(g.target)&&o(!1)};return document.addEventListener("mousedown",b),()=>document.removeEventListener("mousedown",b)},[]);const p=b=>{e(b?b.toString():""),s(""),o(!1)},m=()=>{e(""),s(""),o(!1)},y=f?f.name:"";return c.jsxs("div",{className:"relative",children:[c.jsx("div",{className:"relative",children:f&&!a?c.jsxs("div",{className:"flex items-center justify-between input pr-8 cursor-text",onClick:()=>o(!0),children:[c.jsx("span",{children:y}),c.jsx("button",{type:"button",onClick:b=>{b.stopPropagation(),m()},className:"absolute right-2 text-gray-400 hover:text-gray-600",children:c.jsx(ca,{className:"w-4 h-4"})})]}):c.jsx("input",{ref:l,type:"text",value:i,onChange:b=>{s(b.target.value),o(!0)},onFocus:()=>o(!0),placeholder:"Search for a relationship type...",className:"input"})}),a&&(i||!f)&&c.jsx("div",{ref:u,className:"absolute z-10 w-full mt-1 bg-white border border-gray-200 rounded-lg shadow-lg max-h-48 overflow-y-auto",children:h.length>0?c.jsxs(c.Fragment,{children:[c.jsx("button",{type:"button",onClick:()=>p(null),className:`w-full text-left px-4 py-2 hover:bg-gray-50 ${t?"":"bg-primary-50"}`,children:c.jsx("span",{className:"text-gray-500 italic",children:"None (no inverse)"})}),h.map(b=>c.jsx("button",{type:"button",onClick:()=>p(b.id),className:`w-full text-left px-4 py-2 hover:bg-gray-50 ${t===b.id.toString()?"bg-primary-50":""}`,children:b.name},b.id))]}):c.jsx("p",{className:"px-4 py-2 text-gray-500 text-sm",children:"No relationship types found"})})]})}function pie(){bn("Relationship Types - Settings");const t=Zt();if(!((window.prmConfig||{}).isAdmin||!1))return c.jsx("div",{className:"max-w-2xl mx-auto",children:c.jsxs("div",{className:"card p-8 text-center",children:[c.jsx(wV,{className:"w-16 h-16 mx-auto text-amber-500 mb-4"}),c.jsx("h1",{className:"text-2xl font-bold mb-2",children:"Access Denied"}),c.jsx("p",{className:"text-gray-600 mb-6",children:"You don't have permission to manage relationship types. This feature is only available to administrators."}),c.jsx(de,{to:"/settings",className:"btn-primary",children:"Back to Settings"})]})});const{data:n=[],isLoading:i}=ht({queryKey:["relationship-types"],queryFn:async()=>(await Le.getRelationshipTypes()).data}),[s,a]=$.useState(null),[o,l]=$.useState(""),[u,d]=$.useState(""),[h,f]=$.useState(""),[p,m]=$.useState(""),[y,b]=$.useState(!1),g=Tt({mutationFn:async({id:I,name:N,inverseId:T})=>{const q={name:N};return T&&(q.acf={inverse_relationship_type:parseInt(T,10)}),Le.updateRelationshipType(I,q)},onSuccess:()=>{t.invalidateQueries({queryKey:["relationship-types"]}),a(null),l(""),d("")}}),v=Tt({mutationFn:async({name:I,inverseId:N})=>{const T={name:I};return N&&(T.acf={inverse_relationship_type:parseInt(N,10)}),Le.createRelationshipType(T)},onSuccess:()=>{t.invalidateQueries({queryKey:["relationship-types"]}),f(""),m(""),b(!1)}}),x=Tt({mutationFn:I=>Le.deleteRelationshipType(I),onSuccess:()=>{t.invalidateQueries({queryKey:["relationship-types"]})}}),w=Tt({mutationFn:()=>Le.restoreRelationshipTypeDefaults(),onSuccess:()=>{t.invalidateQueries({queryKey:["relationship-types"]}),alert("Default relationship type configurations have been restored.")},onError:()=>{alert("Failed to restore defaults. Please try again.")}});function _(){return c.jsxs("button",{onClick:()=>{window.confirm("This will restore all default inverse mappings and gender-dependent settings. Continue?")&&w.mutate()},disabled:w.isPending,className:"btn-secondary flex items-center gap-2",title:"Restore default inverse mappings and gender-dependent settings",children:[w.isPending?c.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-gray-600"}):c.jsx(gV,{className:"w-4 h-4"}),c.jsx("span",{className:"hidden md:inline",children:"Restore Defaults"})]})}const E=I=>{var T;a(I.id),l(I.name);const N=(T=I.acf)==null?void 0:T.inverse_relationship_type;d(N?N.toString():"")},O=()=>{a(null),l(""),d("")},S=()=>{if(!o.trim()){alert("Name is required");return}g.mutate({id:s,name:o.trim(),inverseId:u||null})},P=()=>{if(!h.trim()){alert("Name is required");return}v.mutate({name:h.trim(),inverseId:p||null})},C=(I,N)=>{window.confirm(`Are you sure you want to delete "${N}"? This cannot be undone.`)&&x.mutate(I)};return i?c.jsx("div",{className:"flex items-center justify-center h-64",children:c.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"})}):c.jsx("div",{className:"max-w-4xl mx-auto space-y-6",children:c.jsxs("div",{className:"card p-6",children:[c.jsxs("div",{className:"flex items-center justify-between mb-6",children:[c.jsx("h1",{className:"text-2xl font-bold",children:"Relationship Types"}),c.jsx("div",{className:"flex gap-2",children:!y&&c.jsxs(c.Fragment,{children:[c.jsx(_,{}),c.jsxs("button",{onClick:()=>b(!0),className:"btn-primary flex items-center gap-2",children:[c.jsx(Or,{className:"w-4 h-4"}),c.jsx("span",{className:"hidden md:inline",children:"Add Relationship Type"})]})]})})]}),y&&c.jsxs("div",{className:"mb-6 p-4 border border-gray-200 rounded-lg bg-gray-50",children:[c.jsx("h3",{className:"font-semibold mb-4",children:"Add New Relationship Type"}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"label",children:"Name *"}),c.jsx("input",{type:"text",value:h,onChange:I=>f(I.target.value),className:"input",placeholder:"e.g., Parent, Spouse, Colleague"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"label",children:"Inverse Relationship Type"}),c.jsx(ER,{value:p,onChange:m,relationshipTypes:n}),c.jsx("p",{className:"text-xs text-gray-500 mt-1",children:'Select the inverse relationship type. For example, if this is "Parent", select "Child". If this is "Spouse" or "Acquaintance", select the same type (e.g., "Spouse"  "Spouse").'})]}),c.jsxs("div",{className:"flex gap-2",children:[c.jsxs("button",{onClick:P,disabled:v.isPending,className:"btn-primary flex items-center gap-2",children:[v.isPending?c.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}):c.jsx(ua,{className:"w-4 h-4"}),c.jsx("span",{className:"hidden md:inline",children:"Save"})]}),c.jsx("button",{onClick:()=>{b(!1),f(""),m("")},className:"btn-secondary",children:"Cancel"})]})]})]}),c.jsx("div",{className:"space-y-2",children:n.length===0?c.jsx("p",{className:"text-gray-500 text-center py-8",children:"No relationship types found."}):n.map(I=>{var X,H;const N=s===I.id,T=(X=I.acf)==null?void 0:X.inverse_relationship_type,q=typeof T=="object"&&(T!=null&&T.ID)?T.ID:typeof T=="object"&&(T!=null&&T.id)?T.id:T,B=q?n.find(L=>L.id===q):null;return c.jsx("div",{className:"p-4 border border-gray-200 rounded-lg hover:bg-gray-50",children:N?c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"label",children:"Name *"}),c.jsx("input",{type:"text",value:o,onChange:L=>l(L.target.value),className:"input"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"label",children:"Inverse Relationship Type"}),c.jsx(ER,{value:u,onChange:d,relationshipTypes:n,currentTypeId:I.id}),c.jsx("p",{className:"text-xs text-gray-500 mt-1",children:'Select the inverse relationship type. For example, if this is "Parent", select "Child". If this is "Spouse" or "Acquaintance", select the same type (e.g., "Spouse"  "Spouse").'})]}),c.jsxs("div",{className:"flex gap-2",children:[c.jsxs("button",{onClick:S,disabled:g.isPending,className:"btn-primary flex items-center gap-2",children:[g.isPending?c.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}):c.jsx(ua,{className:"w-4 h-4"}),c.jsx("span",{className:"hidden md:inline",children:"Save"})]}),c.jsxs("button",{onClick:O,className:"btn-secondary flex items-center gap-2",children:[c.jsx(ca,{className:"w-4 h-4"}),c.jsx("span",{className:"hidden md:inline",children:"Cancel"})]})]})]}):c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"flex-1",children:[c.jsx("div",{className:"font-medium",children:I.name}),B&&c.jsxs("div",{className:"text-sm text-gray-500 mt-1",children:["Inverse: ",c.jsx("span",{className:"font-medium",children:B.name})]}),!B&&((H=I.acf)==null?void 0:H.inverse_relationship_type)===null&&c.jsx("div",{className:"text-sm text-gray-400 mt-1 italic",children:"No inverse relationship"})]}),c.jsxs("div",{className:"flex gap-2",children:[c.jsx("button",{onClick:()=>E(I),className:"p-2 text-gray-600 hover:text-primary-600 hover:bg-primary-50 rounded",title:"Edit",children:c.jsx(Ute,{className:"w-4 h-4"})}),c.jsx("button",{onClick:()=>C(I.id,I.name),className:"p-2 text-gray-600 hover:text-red-600 hover:bg-red-50 rounded",title:"Delete",children:c.jsx(Os,{className:"w-4 h-4"})})]})]})},I.id)})})]})})}function mie(){var g,v,x;const[t,e]=$.useState(null),[r,n]=$.useState(""),[i,s]=$.useState(!1),[a,o]=$.useState(null),l=Zt(),u=Tt({mutationFn:async w=>{const _=new FormData;return _.append("file",w),(await ye.post("/prm/v1/import/monica/validate",_,{headers:{"Content-Type":"multipart/form-data"}})).data},onSuccess:w=>{o(w)},onError:w=>{var _,E;o({valid:!1,error:((E=(_=w.response)==null?void 0:_.data)==null?void 0:E.message)||"Failed to validate file"})}}),d=Tt({mutationFn:async({file:w,monicaUrl:_})=>{const E=new FormData;return E.append("file",w),E.append("monica_url",_),(await ye.post("/prm/v1/import/monica",E,{headers:{"Content-Type":"multipart/form-data"}})).data},onSuccess:()=>{l.invalidateQueries({queryKey:["people"]}),l.invalidateQueries({queryKey:["companies"]}),l.invalidateQueries({queryKey:["dates"]}),l.invalidateQueries({queryKey:["dashboard"]})}}),h=$.useCallback(w=>{w.preventDefault(),w.stopPropagation(),w.type==="dragenter"||w.type==="dragover"?s(!0):w.type==="dragleave"&&s(!1)},[]),f=$.useCallback(w=>{w.preventDefault(),w.stopPropagation(),s(!1),w.dataTransfer.files&&w.dataTransfer.files[0]&&m(w.dataTransfer.files[0])},[]),p=w=>{w.target.files&&w.target.files[0]&&m(w.target.files[0])},m=w=>{if(!w.name.endsWith(".sql")){o({valid:!1,error:"Please select a SQL file"});return}e(w),o(null),d.reset(),u.mutate(w)},y=()=>{if(!r.trim()){o(w=>({...w,urlError:"Please enter your Monica instance URL"}));return}t&&(a!=null&&a.valid)&&d.mutate({file:t,monicaUrl:r.trim()})},b=()=>{e(null),n(""),o(null),u.reset(),d.reset()};return c.jsxs("div",{className:"space-y-4",children:[c.jsx("h2",{className:"text-lg font-semibold",children:"Import from Monica"}),c.jsx("p",{className:"text-sm text-gray-600",children:"Import contacts, relationships, notes, and photos from a Monica CRM SQL export file. Reimporting the same file will update existing contacts instead of creating duplicates."}),d.isSuccess?c.jsx("div",{className:"rounded-lg border border-green-200 bg-green-50 p-4",children:c.jsxs("div",{className:"flex items-start gap-3",children:[c.jsx(su,{className:"h-5 w-5 text-green-600 mt-0.5"}),c.jsxs("div",{className:"flex-1",children:[c.jsx("h3",{className:"font-medium text-green-900",children:"Import Complete"}),c.jsxs("div",{className:"mt-2 text-sm text-green-800 space-y-1",children:[c.jsxs("p",{children:["Contacts imported: ",d.data.stats.contacts_imported]}),c.jsxs("p",{children:["Contacts updated: ",d.data.stats.contacts_updated]}),c.jsxs("p",{children:["Contacts skipped (partial): ",d.data.stats.contacts_skipped]}),c.jsxs("p",{children:["Photos imported: ",d.data.stats.photos_imported]}),c.jsxs("p",{children:["Companies created: ",d.data.stats.companies_created]}),c.jsxs("p",{children:["Relationships created: ",d.data.stats.relationships_created]}),c.jsxs("p",{children:["Important dates created: ",d.data.stats.dates_created]}),c.jsxs("p",{children:["Notes created: ",d.data.stats.notes_created]}),((g=d.data.stats.errors)==null?void 0:g.length)>0&&c.jsxs("div",{className:"mt-2 pt-2 border-t border-green-200",children:[c.jsx("p",{className:"font-medium",children:"Errors:"}),c.jsx("ul",{className:"list-disc list-inside",children:d.data.stats.errors.map((w,_)=>c.jsx("li",{children:w},_))})]})]}),c.jsx("button",{onClick:b,className:"mt-3 text-sm text-green-700 hover:text-green-800 font-medium",children:"Import another file"})]})]})}):c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:`relative rounded-lg border-2 border-dashed p-8 text-center transition-colors ${i?"border-primary-500 bg-primary-50":t?"border-green-300 bg-green-50":"border-gray-300 hover:border-gray-400"}`,onDragEnter:h,onDragLeave:h,onDragOver:h,onDrop:f,children:[c.jsx("input",{type:"file",accept:".sql",onChange:p,className:"absolute inset-0 w-full h-full opacity-0 cursor-pointer"}),u.isPending?c.jsxs("div",{className:"flex flex-col items-center gap-2",children:[c.jsx(yo,{className:"h-8 w-8 text-primary-600 animate-spin"}),c.jsx("p",{className:"text-gray-600",children:"Validating file..."})]}):t?c.jsxs("div",{className:"flex flex-col items-center gap-2",children:[c.jsx(Up,{className:"h-8 w-8 text-green-600"}),c.jsx("p",{className:"font-medium text-gray-900",children:t.name}),c.jsxs("p",{className:"text-sm text-gray-500",children:[(t.size/1024/1024).toFixed(2)," MB"]})]}):c.jsxs("div",{className:"flex flex-col items-center gap-2",children:[c.jsx(au,{className:"h-8 w-8 text-gray-400"}),c.jsx("p",{className:"text-gray-600",children:"Drag and drop your Monica SQL export file here, or click to browse"}),c.jsx("p",{className:"text-sm text-gray-500",children:"Supports SQL export files"})]})]}),a&&c.jsx("div",{className:`rounded-lg border p-4 ${a.valid?"border-green-200 bg-green-50":"border-red-200 bg-red-50"}`,children:a.valid?c.jsxs("div",{className:"flex items-start gap-3",children:[c.jsx(su,{className:"h-5 w-5 text-green-600 mt-0.5"}),c.jsxs("div",{className:"flex-1",children:[c.jsx("h3",{className:"font-medium text-green-900",children:"File validated successfully"}),c.jsxs("div",{className:"mt-2 text-sm text-green-800",children:[c.jsxs("p",{children:["Export format: ",a.version]}),c.jsxs("p",{children:["Contacts to import: ",a.summary.contacts]}),c.jsxs("p",{children:["Relationships: ",a.summary.relationships]}),c.jsxs("p",{children:["Notes: ",a.summary.notes]}),c.jsxs("p",{children:["Dates: ",a.summary.reminders]}),c.jsxs("p",{children:["Photos: ",a.summary.photos]}),c.jsxs("p",{children:["Companies: ",a.summary.companies_count]})]})]})]}):c.jsxs("div",{className:"flex items-start gap-3",children:[c.jsx(vo,{className:"h-5 w-5 text-red-600 mt-0.5"}),c.jsxs("div",{children:[c.jsx("h3",{className:"font-medium text-red-900",children:"Validation failed"}),c.jsx("p",{className:"text-sm text-red-700 mt-1",children:a.error})]})]})}),(a==null?void 0:a.valid)&&c.jsxs("div",{className:"space-y-2",children:[c.jsx("label",{htmlFor:"monica-url",className:"block text-sm font-medium text-gray-700",children:"Monica Instance URL"}),c.jsxs("div",{className:"relative",children:[c.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:c.jsx(Mte,{className:"h-4 w-4 text-gray-400"})}),c.jsx("input",{type:"url",id:"monica-url",value:r,onChange:w=>n(w.target.value),placeholder:"https://your-monica-instance.com",className:`block w-full pl-10 pr-3 py-2 border rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500 ${a.urlError?"border-red-300":"border-gray-300"}`})]}),a.urlError&&c.jsx("p",{className:"text-sm text-red-600",children:a.urlError}),c.jsx("p",{className:"text-xs text-gray-500",children:"Enter the URL of your Monica instance to import photos. Photos will be downloaded from this URL."})]}),(a==null?void 0:a.valid)&&c.jsxs("div",{className:"flex gap-3",children:[c.jsx("button",{onClick:y,disabled:d.isPending,className:"btn-primary flex items-center gap-2",children:d.isPending?c.jsxs(c.Fragment,{children:[c.jsx(yo,{className:"h-4 w-4 animate-spin"}),c.jsx("span",{className:"hidden md:inline",children:"Importing..."})]}):c.jsxs(c.Fragment,{children:[c.jsx(au,{className:"h-4 w-4"}),c.jsx("span",{className:"hidden md:inline",children:"Start Import"})]})}),c.jsx("button",{onClick:b,disabled:d.isPending,className:"btn-secondary",children:"Cancel"})]}),d.isError&&c.jsx("div",{className:"rounded-lg border border-red-200 bg-red-50 p-4",children:c.jsxs("div",{className:"flex items-start gap-3",children:[c.jsx(vo,{className:"h-5 w-5 text-red-600 mt-0.5"}),c.jsxs("div",{children:[c.jsx("h3",{className:"font-medium text-red-900",children:"Import failed"}),c.jsx("p",{className:"text-sm text-red-700 mt-1",children:((x=(v=d.error.response)==null?void 0:v.data)==null?void 0:x.message)||"An error occurred during import"})]})]})})]})]})}function vie(){var y,b,g;const[t,e]=$.useState(null),[r,n]=$.useState(!1),[i,s]=$.useState(null),a=Zt(),o=Tt({mutationFn:async v=>{const x=new FormData;return x.append("file",v),(await ye.post("/prm/v1/import/vcard/validate",x,{headers:{"Content-Type":"multipart/form-data"}})).data},onSuccess:v=>{s(v)},onError:v=>{var x,w;s({valid:!1,error:((w=(x=v.response)==null?void 0:x.data)==null?void 0:w.message)||"Failed to validate file"})}}),l=Tt({mutationFn:async v=>{const x=new FormData;return x.append("file",v),(await ye.post("/prm/v1/import/vcard",x,{headers:{"Content-Type":"multipart/form-data"}})).data},onSuccess:()=>{a.invalidateQueries({queryKey:["people"]}),a.invalidateQueries({queryKey:["companies"]}),a.invalidateQueries({queryKey:["dates"]}),a.invalidateQueries({queryKey:["dashboard"]})}}),u=$.useCallback(v=>{v.preventDefault(),v.stopPropagation(),v.type==="dragenter"||v.type==="dragover"?n(!0):v.type==="dragleave"&&n(!1)},[]),d=$.useCallback(v=>{v.preventDefault(),v.stopPropagation(),n(!1),v.dataTransfer.files&&v.dataTransfer.files[0]&&f(v.dataTransfer.files[0])},[]),h=v=>{v.target.files&&v.target.files[0]&&f(v.target.files[0])},f=v=>{const x=v.name.split(".").pop().toLowerCase();if(x!=="vcf"&&x!=="vcard"){s({valid:!1,error:"Please select a vCard file (.vcf)"});return}e(v),s(null),l.reset(),o.mutate(v)},p=()=>{t&&(i!=null&&i.valid)&&l.mutate(t)},m=()=>{e(null),s(null),o.reset(),l.reset()};return c.jsxs("div",{className:"space-y-4",children:[c.jsx("h2",{className:"text-lg font-semibold",children:"Import from vCard"}),c.jsx("p",{className:"text-sm text-gray-600",children:"Import contacts from a vCard (.vcf) file. vCard is a standard format supported by most contact apps including Apple Contacts, Outlook, and Android. Files can contain one or multiple contacts."}),l.isSuccess?c.jsx("div",{className:"rounded-lg border border-green-200 bg-green-50 p-4",children:c.jsxs("div",{className:"flex items-start gap-3",children:[c.jsx(su,{className:"h-5 w-5 text-green-600 mt-0.5"}),c.jsxs("div",{className:"flex-1",children:[c.jsx("h3",{className:"font-medium text-green-900",children:"Import Complete"}),c.jsxs("div",{className:"mt-2 text-sm text-green-800 space-y-1",children:[c.jsxs("p",{children:["Contacts imported: ",l.data.stats.contacts_imported]}),c.jsxs("p",{children:["Contacts updated: ",l.data.stats.contacts_updated]}),c.jsxs("p",{children:["Contacts skipped: ",l.data.stats.contacts_skipped]}),c.jsxs("p",{children:["Photos imported: ",l.data.stats.photos_imported]}),c.jsxs("p",{children:["Companies created: ",l.data.stats.companies_created]}),c.jsxs("p",{children:["Birthdays created: ",l.data.stats.dates_created]}),c.jsxs("p",{children:["Notes created: ",l.data.stats.notes_created]}),((y=l.data.stats.errors)==null?void 0:y.length)>0&&c.jsxs("div",{className:"mt-2 pt-2 border-t border-green-200",children:[c.jsx("p",{className:"font-medium",children:"Errors:"}),c.jsx("ul",{className:"list-disc list-inside",children:l.data.stats.errors.map((v,x)=>c.jsx("li",{children:v},x))})]})]}),c.jsx("button",{onClick:m,className:"mt-3 text-sm text-green-700 hover:text-green-800 font-medium",children:"Import another file"})]})]})}):c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:`relative rounded-lg border-2 border-dashed p-8 text-center transition-colors ${r?"border-primary-500 bg-primary-50":t?"border-green-300 bg-green-50":"border-gray-300 hover:border-gray-400"}`,onDragEnter:u,onDragLeave:u,onDragOver:u,onDrop:d,children:[c.jsx("input",{type:"file",accept:".vcf,.vcard",onChange:h,className:"absolute inset-0 w-full h-full opacity-0 cursor-pointer"}),o.isPending?c.jsxs("div",{className:"flex flex-col items-center gap-2",children:[c.jsx(yo,{className:"h-8 w-8 text-primary-600 animate-spin"}),c.jsx("p",{className:"text-gray-600",children:"Validating file..."})]}):t?c.jsxs("div",{className:"flex flex-col items-center gap-2",children:[c.jsx(Up,{className:"h-8 w-8 text-green-600"}),c.jsx("p",{className:"font-medium text-gray-900",children:t.name}),c.jsxs("p",{className:"text-sm text-gray-500",children:[(t.size/1024).toFixed(2)," KB"]})]}):c.jsxs("div",{className:"flex flex-col items-center gap-2",children:[c.jsx(au,{className:"h-8 w-8 text-gray-400"}),c.jsx("p",{className:"text-gray-600",children:"Drag and drop your vCard file here, or click to browse"}),c.jsx("p",{className:"text-sm text-gray-500",children:"Supports .vcf and .vcard files"})]})]}),i&&c.jsx("div",{className:`rounded-lg border p-4 ${i.valid?"border-green-200 bg-green-50":"border-red-200 bg-red-50"}`,children:i.valid?c.jsxs("div",{className:"flex items-start gap-3",children:[c.jsx(su,{className:"h-5 w-5 text-green-600 mt-0.5"}),c.jsxs("div",{className:"flex-1",children:[c.jsx("h3",{className:"font-medium text-green-900",children:"File validated successfully"}),c.jsxs("div",{className:"mt-3 grid grid-cols-2 sm:grid-cols-3 gap-3",children:[c.jsxs("div",{className:"flex items-center gap-2 text-sm text-green-800",children:[c.jsx(bo,{className:"h-4 w-4"}),c.jsxs("span",{children:[i.summary.contacts," contacts"]})]}),i.summary.companies_count>0&&c.jsxs("div",{className:"flex items-center gap-2 text-sm text-green-800",children:[c.jsx(ls,{className:"h-4 w-4"}),c.jsxs("span",{children:[i.summary.companies_count," companies"]})]}),i.summary.birthdays>0&&c.jsxs("div",{className:"flex items-center gap-2 text-sm text-green-800",children:[c.jsx(mV,{className:"h-4 w-4"}),c.jsxs("span",{children:[i.summary.birthdays," birthdays"]})]}),i.summary.photos>0&&c.jsxs("div",{className:"flex items-center gap-2 text-sm text-green-800",children:[c.jsx(vV,{className:"h-4 w-4"}),c.jsxs("span",{children:[i.summary.photos," photos"]})]}),i.summary.notes>0&&c.jsxs("div",{className:"flex items-center gap-2 text-sm text-green-800",children:[c.jsx(SV,{className:"h-4 w-4"}),c.jsxs("span",{children:[i.summary.notes," notes"]})]})]})]})]}):c.jsxs("div",{className:"flex items-start gap-3",children:[c.jsx(vo,{className:"h-5 w-5 text-red-600 mt-0.5"}),c.jsxs("div",{children:[c.jsx("h3",{className:"font-medium text-red-900",children:"Validation failed"}),c.jsx("p",{className:"text-sm text-red-700 mt-1",children:i.error})]})]})}),(i==null?void 0:i.valid)&&c.jsxs("div",{className:"flex gap-3",children:[c.jsx("button",{onClick:p,disabled:l.isPending,className:"btn-primary flex items-center gap-2",children:l.isPending?c.jsxs(c.Fragment,{children:[c.jsx(yo,{className:"h-4 w-4 animate-spin"}),c.jsx("span",{className:"hidden md:inline",children:"Importing..."})]}):c.jsxs(c.Fragment,{children:[c.jsx(au,{className:"h-4 w-4"}),c.jsx("span",{className:"hidden md:inline",children:"Start Import"})]})}),c.jsx("button",{onClick:m,disabled:l.isPending,className:"btn-secondary",children:"Cancel"})]}),l.isError&&c.jsx("div",{className:"rounded-lg border border-red-200 bg-red-50 p-4",children:c.jsxs("div",{className:"flex items-start gap-3",children:[c.jsx(vo,{className:"h-5 w-5 text-red-600 mt-0.5"}),c.jsxs("div",{children:[c.jsx("h3",{className:"font-medium text-red-900",children:"Import failed"}),c.jsx("p",{className:"text-sm text-red-700 mt-1",children:((g=(b=l.error.response)==null?void 0:b.data)==null?void 0:g.message)||"An error occurred during import"})]})]})})]})]})}function gie(){var w,_,E;const[t,e]=$.useState(null),[r,n]=$.useState(!1),[i,s]=$.useState(null),[a,o]=$.useState({}),l=Zt(),u=Tt({mutationFn:async O=>{const S=new FormData;return S.append("file",O),(await ye.post("/prm/v1/import/google-contacts/validate",S,{headers:{"Content-Type":"multipart/form-data"}})).data},onSuccess:O=>{var S;if(s(O),((S=O.duplicates)==null?void 0:S.length)>0){const P={};O.duplicates.forEach(C=>{P[C.index]="merge"}),o(P)}},onError:O=>{var S,P;s({valid:!1,error:((P=(S=O.response)==null?void 0:S.data)==null?void 0:P.message)||"Failed to validate file"})}}),d=Tt({mutationFn:async({file:O,decisions:S})=>{const P=new FormData;return P.append("file",O),P.append("decisions",JSON.stringify(S)),(await ye.post("/prm/v1/import/google-contacts",P,{headers:{"Content-Type":"multipart/form-data"}})).data},onSuccess:()=>{l.invalidateQueries({queryKey:["people"]}),l.invalidateQueries({queryKey:["companies"]}),l.invalidateQueries({queryKey:["dates"]}),l.invalidateQueries({queryKey:["dashboard"]})}}),h=$.useCallback(O=>{O.preventDefault(),O.stopPropagation(),O.type==="dragenter"||O.type==="dragover"?n(!0):O.type==="dragleave"&&n(!1)},[]),f=$.useCallback(O=>{O.preventDefault(),O.stopPropagation(),n(!1),O.dataTransfer.files&&O.dataTransfer.files[0]&&m(O.dataTransfer.files[0])},[]),p=O=>{O.target.files&&O.target.files[0]&&m(O.target.files[0])},m=O=>{if(!O.name.endsWith(".csv")){s({valid:!1,error:"Please select a CSV file"});return}e(O),s(null),o({}),d.reset(),u.mutate(O)},y=(O,S)=>{o(P=>({...P,[O]:S}))},b=()=>{t&&(i!=null&&i.valid)&&d.mutate({file:t,decisions:a})},g=()=>{e(null),s(null),o({}),u.reset(),d.reset()},v=(i==null?void 0:i.duplicates)||[],x=v.length>0;return c.jsxs("div",{className:"space-y-4",children:[c.jsx("h2",{className:"text-lg font-semibold",children:"Import from Google Contacts"}),c.jsx("p",{className:"text-sm text-gray-600",children:"Import contacts from a Google Contacts CSV export. To export from Google:"}),c.jsxs("ol",{className:"text-sm text-gray-600 list-decimal list-inside space-y-1 ml-2",children:[c.jsxs("li",{children:["Go to ",c.jsx("a",{href:"https://contacts.google.com",target:"_blank",rel:"noopener noreferrer",className:"text-primary-600 hover:underline",children:"contacts.google.com"})]}),c.jsx("li",{children:'Click "Export" in the left sidebar'}),c.jsx("li",{children:'Select "Google CSV" format and click "Export"'})]}),d.isSuccess?c.jsx("div",{className:"rounded-lg border border-green-200 bg-green-50 p-4",children:c.jsxs("div",{className:"flex items-start gap-3",children:[c.jsx(su,{className:"h-5 w-5 text-green-600 mt-0.5"}),c.jsxs("div",{className:"flex-1",children:[c.jsx("h3",{className:"font-medium text-green-900",children:"Import Complete"}),c.jsxs("div",{className:"mt-2 text-sm text-green-800 space-y-1",children:[c.jsxs("p",{children:["Contacts imported: ",d.data.stats.contacts_imported]}),c.jsxs("p",{children:["Contacts updated: ",d.data.stats.contacts_updated]}),c.jsxs("p",{children:["Contacts skipped: ",d.data.stats.contacts_skipped]}),c.jsxs("p",{children:["Companies created: ",d.data.stats.companies_created]}),c.jsxs("p",{children:["Birthdays created: ",d.data.stats.dates_created]}),c.jsxs("p",{children:["Notes created: ",d.data.stats.notes_created]}),c.jsxs("p",{children:["Photos imported: ",d.data.stats.photos_imported]}),((w=d.data.stats.errors)==null?void 0:w.length)>0&&c.jsxs("div",{className:"mt-2 pt-2 border-t border-green-200",children:[c.jsx("p",{className:"font-medium",children:"Errors:"}),c.jsx("ul",{className:"list-disc list-inside",children:d.data.stats.errors.map((O,S)=>c.jsx("li",{children:O},S))})]})]}),c.jsx("button",{onClick:g,className:"mt-3 text-sm text-green-700 hover:text-green-800 font-medium",children:"Import another file"})]})]})}):c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:`relative rounded-lg border-2 border-dashed p-8 text-center transition-colors ${r?"border-primary-500 bg-primary-50":t?"border-green-300 bg-green-50":"border-gray-300 hover:border-gray-400"}`,onDragEnter:h,onDragLeave:h,onDragOver:h,onDrop:f,children:[c.jsx("input",{type:"file",accept:".csv",onChange:p,className:"absolute inset-0 w-full h-full opacity-0 cursor-pointer"}),u.isPending?c.jsxs("div",{className:"flex flex-col items-center gap-2",children:[c.jsx(yo,{className:"h-8 w-8 text-primary-600 animate-spin"}),c.jsx("p",{className:"text-gray-600",children:"Validating file..."})]}):t?c.jsxs("div",{className:"flex flex-col items-center gap-2",children:[c.jsx(DC,{className:"h-8 w-8 text-green-600"}),c.jsx("p",{className:"font-medium text-gray-900",children:t.name}),c.jsxs("p",{className:"text-sm text-gray-500",children:[(t.size/1024).toFixed(2)," KB"]})]}):c.jsxs("div",{className:"flex flex-col items-center gap-2",children:[c.jsx(au,{className:"h-8 w-8 text-gray-400"}),c.jsx("p",{className:"text-gray-600",children:"Drag and drop your Google Contacts CSV here, or click to browse"}),c.jsx("p",{className:"text-sm text-gray-500",children:"Supports Google CSV format"})]})]}),i&&c.jsx("div",{className:`rounded-lg border p-4 ${i.valid?"border-green-200 bg-green-50":"border-red-200 bg-red-50"}`,children:i.valid?c.jsxs("div",{className:"flex items-start gap-3",children:[c.jsx(su,{className:"h-5 w-5 text-green-600 mt-0.5"}),c.jsxs("div",{className:"flex-1",children:[c.jsx("h3",{className:"font-medium text-green-900",children:"File validated successfully"}),c.jsxs("div",{className:"mt-3 grid grid-cols-2 sm:grid-cols-3 gap-3",children:[c.jsxs("div",{className:"flex items-center gap-2 text-sm text-green-800",children:[c.jsx(bo,{className:"h-4 w-4"}),c.jsxs("span",{children:[i.summary.contacts," contacts"]})]}),i.summary.companies_count>0&&c.jsxs("div",{className:"flex items-center gap-2 text-sm text-green-800",children:[c.jsx(ls,{className:"h-4 w-4"}),c.jsxs("span",{children:[i.summary.companies_count," companies"]})]}),i.summary.birthdays>0&&c.jsxs("div",{className:"flex items-center gap-2 text-sm text-green-800",children:[c.jsx(mV,{className:"h-4 w-4"}),c.jsxs("span",{children:[i.summary.birthdays," birthdays"]})]}),i.summary.notes>0&&c.jsxs("div",{className:"flex items-center gap-2 text-sm text-green-800",children:[c.jsx(SV,{className:"h-4 w-4"}),c.jsxs("span",{children:[i.summary.notes," notes"]})]}),i.summary.photos>0&&c.jsxs("div",{className:"flex items-center gap-2 text-sm text-green-800",children:[c.jsx(vV,{className:"h-4 w-4"}),c.jsxs("span",{children:[i.summary.photos," photos"]})]})]})]})]}):c.jsxs("div",{className:"flex items-start gap-3",children:[c.jsx(vo,{className:"h-5 w-5 text-red-600 mt-0.5"}),c.jsxs("div",{children:[c.jsx("h3",{className:"font-medium text-red-900",children:"Validation failed"}),c.jsx("p",{className:"text-sm text-red-700 mt-1",children:i.error})]})]})}),(i==null?void 0:i.valid)&&x&&c.jsx("div",{className:"rounded-lg border border-amber-200 bg-amber-50 p-4",children:c.jsxs("div",{className:"flex items-start gap-3",children:[c.jsx(Nte,{className:"h-5 w-5 text-amber-600 mt-0.5 flex-shrink-0"}),c.jsxs("div",{className:"flex-1",children:[c.jsxs("h3",{className:"font-medium text-amber-900",children:[v.length," contact",v.length>1?"s":""," may already exist"]}),c.jsx("p",{className:"text-sm text-amber-700 mt-1",children:"Choose how to handle each potential duplicate:"}),c.jsx("div",{className:"mt-4 space-y-4",children:v.map(O=>c.jsx(yie,{duplicate:O,decision:a[O.index]||"merge",onDecision:S=>y(O.index,S)},O.index))})]})]})}),(i==null?void 0:i.valid)&&c.jsxs("div",{className:"flex gap-3",children:[c.jsx("button",{onClick:b,disabled:d.isPending,className:"btn-primary flex items-center gap-2",children:d.isPending?c.jsxs(c.Fragment,{children:[c.jsx(yo,{className:"h-4 w-4 animate-spin"}),c.jsx("span",{className:"hidden md:inline",children:"Importing..."})]}):c.jsxs(c.Fragment,{children:[c.jsx(au,{className:"h-4 w-4"}),c.jsx("span",{className:"hidden md:inline",children:"Start Import"})]})}),c.jsx("button",{onClick:g,disabled:d.isPending,className:"btn-secondary",children:"Cancel"})]}),d.isError&&c.jsx("div",{className:"rounded-lg border border-red-200 bg-red-50 p-4",children:c.jsxs("div",{className:"flex items-start gap-3",children:[c.jsx(vo,{className:"h-5 w-5 text-red-600 mt-0.5"}),c.jsxs("div",{children:[c.jsx("h3",{className:"font-medium text-red-900",children:"Import failed"}),c.jsx("p",{className:"text-sm text-red-700 mt-1",children:((E=(_=d.error.response)==null?void 0:_.data)==null?void 0:E.message)||"An error occurred during import"})]})]})})]})]})}function yie({duplicate:t,decision:e,onDecision:r}){var n,i;return c.jsxs("div",{className:"bg-white rounded-lg border border-amber-200 p-4",children:[c.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[c.jsxs("div",{className:"flex-1 min-w-0",children:[c.jsx("p",{className:"text-xs font-medium text-gray-500 uppercase tracking-wide mb-1",children:"From CSV"}),c.jsx("p",{className:"font-medium text-gray-900 truncate",children:t.csv_name}),t.csv_org&&c.jsx("p",{className:"text-sm text-gray-600 truncate",children:t.csv_org}),t.csv_email&&c.jsx("p",{className:"text-sm text-gray-500 truncate",children:t.csv_email})]}),c.jsx("div",{className:"hidden sm:flex items-center text-gray-400",children:c.jsx("span",{className:"text-lg",children:""})}),c.jsxs("div",{className:"flex-1 min-w-0",children:[c.jsx("p",{className:"text-xs font-medium text-gray-500 uppercase tracking-wide mb-1",children:"Existing Contact"}),c.jsxs("div",{className:"flex items-start gap-3",children:[t.existing_photo?c.jsx("img",{src:t.existing_photo,alt:"",className:"w-10 h-10 rounded-full object-cover flex-shrink-0"}):c.jsx("div",{className:"w-10 h-10 rounded-full bg-gray-200 flex items-center justify-center flex-shrink-0",children:c.jsx("span",{className:"text-gray-500 text-sm font-medium",children:((i=(n=t.existing_name)==null?void 0:n.charAt(0))==null?void 0:i.toUpperCase())||"?"})}),c.jsxs("div",{className:"min-w-0",children:[c.jsx("p",{className:"font-medium text-gray-900 truncate",children:t.existing_name}),t.existing_org&&c.jsx("p",{className:"text-sm text-gray-600 truncate",children:t.existing_org}),t.existing_email&&c.jsx("p",{className:"text-sm text-gray-500 truncate",children:t.existing_email})]})]})]})]}),c.jsxs("div",{className:"mt-4 flex flex-wrap gap-2",children:[c.jsxs("button",{type:"button",onClick:()=>r("merge"),className:`flex items-center gap-1.5 px-3 py-1.5 rounded-md text-sm font-medium transition-colors ${e==="merge"?"bg-primary-100 text-primary-800 ring-2 ring-primary-500":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:[c.jsx(Hte,{className:"h-4 w-4"}),"Update existing"]}),c.jsxs("button",{type:"button",onClick:()=>r("new"),className:`flex items-center gap-1.5 px-3 py-1.5 rounded-md text-sm font-medium transition-colors ${e==="new"?"bg-green-100 text-green-800 ring-2 ring-green-500":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:[c.jsx(Kte,{className:"h-4 w-4"}),"Create new"]}),c.jsxs("button",{type:"button",onClick:()=>r("skip"),className:`flex items-center gap-1.5 px-3 py-1.5 rounded-md text-sm font-medium transition-colors ${e==="skip"?"bg-gray-200 text-gray-800 ring-2 ring-gray-500":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:[c.jsx(Vte,{className:"h-4 w-4"}),"Skip"]})]})]})}const OR=[{id:"vcard",name:"vCard",description:"Apple Contacts, Outlook, Android",icon:Up,component:vie},{id:"google",name:"Google Contacts",description:"CSV export from Google",icon:DC,component:gie},{id:"monica",name:"Monica CRM",description:"SQL export from Monica",icon:$te,component:mie}];function bie(){var n;bn("Import - Settings");const[t,e]=$.useState("vcard"),r=(n=OR.find(i=>i.id===t))==null?void 0:n.component;return c.jsxs("div",{className:"max-w-2xl mx-auto space-y-6",children:[c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsxs(de,{to:"/settings",className:"btn-secondary flex items-center gap-2",children:[c.jsx(An,{className:"w-4 h-4"}),c.jsx("span",{className:"hidden md:inline",children:"Back to Settings"})]}),c.jsx("h1",{className:"text-2xl font-semibold",children:"Import Contacts"})]}),c.jsxs("div",{className:"card p-6",children:[c.jsx("p",{className:"text-sm text-gray-600 mb-6",children:"Import your contacts from various sources. Existing contacts with matching names will be updated instead of duplicated."}),c.jsx("div",{className:"border-b border-gray-200 mb-6",children:c.jsx("nav",{className:"-mb-px flex space-x-6","aria-label":"Import types",children:OR.map(i=>{const s=i.icon,a=t===i.id;return c.jsxs("button",{onClick:()=>e(i.id),className:`group inline-flex items-center py-3 px-1 border-b-2 font-medium text-sm transition-colors ${a?"border-primary-500 text-primary-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[c.jsx(s,{className:`mr-2 h-5 w-5 ${a?"text-primary-500":"text-gray-400 group-hover:text-gray-500"}`}),c.jsxs("div",{className:"text-left",children:[c.jsx("span",{className:"block",children:i.name}),c.jsx("span",{className:`block text-xs font-normal ${a?"text-primary-400":"text-gray-400"}`,children:i.description})]})]},i.id)})})}),r&&c.jsx(r,{})]})]})}function wie(){bn("Export Data - Settings");const t=e=>{e==="vcard"?window.location.href="/wp-json/prm/v1/export/vcard":e==="google-csv"&&(window.location.href="/wp-json/prm/v1/export/google-csv")};return c.jsxs("div",{className:"max-w-2xl mx-auto space-y-6",children:[c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsxs(de,{to:"/settings",className:"btn-secondary flex items-center gap-2",children:[c.jsx(An,{className:"w-4 h-4"}),c.jsx("span",{className:"hidden md:inline",children:"Back to Settings"})]}),c.jsx("h1",{className:"text-2xl font-semibold",children:"Export Data"})]}),c.jsxs("div",{className:"card p-6",children:[c.jsx("p",{className:"text-sm text-gray-600 mb-6",children:"Export all your contacts in a format compatible with other contact management systems."}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("button",{onClick:()=>t("vcard"),className:"w-full p-4 rounded-lg border border-gray-200 hover:bg-gray-50 text-left flex items-center gap-4",children:[c.jsx("div",{className:"p-3 bg-primary-50 rounded-lg",children:c.jsx(Up,{className:"w-6 h-6 text-primary-600"})}),c.jsxs("div",{className:"flex-1",children:[c.jsx("p",{className:"font-medium",children:"Export as vCard (.vcf)"}),c.jsx("p",{className:"text-sm text-gray-500",children:"Compatible with Apple Contacts, Outlook, Android, and most contact apps"})]}),c.jsx(iP,{className:"w-5 h-5 text-gray-400"})]}),c.jsxs("button",{onClick:()=>t("google-csv"),className:"w-full p-4 rounded-lg border border-gray-200 hover:bg-gray-50 text-left flex items-center gap-4",children:[c.jsx("div",{className:"p-3 bg-primary-50 rounded-lg",children:c.jsx(DC,{className:"w-6 h-6 text-primary-600"})}),c.jsxs("div",{className:"flex-1",children:[c.jsx("p",{className:"font-medium",children:"Export as Google Contacts CSV"}),c.jsx("p",{className:"text-sm text-gray-500",children:"Import directly into Google Contacts or other CSV-compatible systems"})]}),c.jsx(iP,{className:"w-5 h-5 text-gray-400"})]})]})]})]})}function xie(){bn("User Approval - Settings");const t=Zt();if(!((window.prmConfig||{}).isAdmin||!1))return c.jsx("div",{className:"max-w-2xl mx-auto",children:c.jsxs("div",{className:"card p-8 text-center",children:[c.jsx(wV,{className:"w-16 h-16 mx-auto text-amber-500 mb-4"}),c.jsx("h1",{className:"text-2xl font-bold mb-2",children:"Access Denied"}),c.jsx("p",{className:"text-gray-600 mb-6",children:"You don't have permission to manage user approvals. This feature is only available to administrators."}),c.jsx(de,{to:"/settings",className:"btn-primary",children:"Back to Settings"})]})});const{data:n=[],isLoading:i}=ht({queryKey:["users"],queryFn:async()=>(await Jt.getUsers()).data}),s=Tt({mutationFn:h=>Jt.approveUser(h),onSuccess:()=>{t.invalidateQueries({queryKey:["users"]})}}),a=Tt({mutationFn:h=>Jt.denyUser(h),onSuccess:()=>{t.invalidateQueries({queryKey:["users"]})}}),o=h=>{window.confirm("Are you sure you want to approve this user?")&&s.mutate(h)},l=h=>{window.confirm("Are you sure you want to deny this user? They will not be able to access the system.")&&a.mutate(h)};if(i)return c.jsx("div",{className:"flex items-center justify-center h-64",children:c.jsx(yo,{className:"w-8 h-8 animate-spin text-primary-600"})});const u=n.filter(h=>!h.is_approved),d=n.filter(h=>h.is_approved);return c.jsxs("div",{className:"max-w-2xl mx-auto space-y-6",children:[c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsxs(de,{to:"/settings",className:"btn-secondary flex items-center gap-2",children:[c.jsx(An,{className:"w-4 h-4"}),c.jsx("span",{className:"hidden md:inline",children:"Back to Settings"})]}),c.jsx("h1",{className:"text-2xl font-semibold",children:"User Approval"})]}),c.jsxs("div",{className:"space-y-6",children:[u.length>0&&c.jsxs("div",{children:[c.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Pending Approval"}),c.jsx("div",{className:"space-y-3",children:u.map(h=>c.jsxs("div",{className:"card p-4 flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("p",{className:"font-medium",children:h.name}),c.jsx("p",{className:"text-sm text-gray-500",children:h.email}),c.jsxs("p",{className:"text-xs text-gray-400",children:["Registered: ",new Date(h.registered).toLocaleDateString()]})]}),c.jsxs("div",{className:"flex gap-2",children:[c.jsxs("button",{onClick:()=>o(h.id),disabled:s.isPending,className:"btn-primary flex items-center gap-2",children:[c.jsx(VI,{className:"w-4 h-4"}),"Approve"]}),c.jsxs("button",{onClick:()=>l(h.id),disabled:a.isPending,className:"btn-secondary flex items-center gap-2",children:[c.jsx(YI,{className:"w-4 h-4"}),"Deny"]})]})]},h.id))})]}),d.length>0&&c.jsxs("div",{children:[c.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Approved Users"}),c.jsx("div",{className:"space-y-3",children:d.map(h=>c.jsxs("div",{className:"card p-4 flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsxs("p",{className:"font-medium flex items-center gap-2",children:[h.name,c.jsx(VI,{className:"w-4 h-4 text-green-600"})]}),c.jsx("p",{className:"text-sm text-gray-500",children:h.email})]}),c.jsxs("button",{onClick:()=>l(h.id),disabled:a.isPending,className:"btn-secondary flex items-center gap-2",children:[c.jsx(YI,{className:"w-4 h-4"}),"Revoke Access"]})]},h.id))})]}),n.length===0&&c.jsx("div",{className:"card p-8 text-center",children:c.jsx("p",{className:"text-gray-600",children:"No Caelis users found."})})]})]})}/**
 * vis-data
 * http://visjs.org/
 *
 * Manage unstructured data using DataSet. Add, update, and remove data, and listen for changes in the data.
 *
 * @version 8.0.3
 * @date    2025-09-10T16:22:00.613Z
 *
 * @copyright (c) 2011-2017 Almende B.V, http://almende.com
 * @copyright (c) 2017-2019 visjs contributors, https://github.com/visjs
 *
 * @license
 * vis.js is dual licensed under both
 *
 *   1. The Apache 2.0 License
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 *   and
 *
 *   2. The MIT License
 *      http://opensource.org/licenses/MIT
 *
 * vis.js may be distributed under either license.
 */var PR=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function De(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var uv={exports:{}},CR={},fc,NR;function zt(){if(NR)return fc;NR=1;var t=function(e){return e&&e.Math===Math&&e};return fc=t(typeof globalThis=="object"&&globalThis)||t(typeof window=="object"&&window)||t(typeof self=="object"&&self)||t(typeof PR=="object"&&PR)||t(typeof fc=="object"&&fc)||function(){return this}()||Function("return this")(),fc}var cv,TR;function Ge(){return TR||(TR=1,cv=function(t){try{return!!t()}catch{return!0}}),cv}var dv,IR;function zd(){if(IR)return dv;IR=1;var t=Ge();return dv=!t(function(){var e=(function(){}).bind();return typeof e!="function"||e.hasOwnProperty("prototype")}),dv}var hv,RR;function Kp(){if(RR)return hv;RR=1;var t=zd(),e=Function.prototype,r=e.apply,n=e.call;return hv=typeof Reflect=="object"&&Reflect.apply||(t?n.bind(r):function(){return n.apply(r,arguments)}),hv}var fv,jR;function et(){if(jR)return fv;jR=1;var t=zd(),e=Function.prototype,r=e.call,n=t&&e.bind.bind(r,r);return fv=t?n:function(i){return function(){return r.apply(i,arguments)}},fv}var pv,$R;function ps(){if($R)return pv;$R=1;var t=et(),e=t({}.toString),r=t("".slice);return pv=function(n){return r(e(n),8,-1)},pv}var mv,kR;function zV(){if(kR)return mv;kR=1;var t=ps(),e=et();return mv=function(r){if(t(r)==="Function")return e(r)},mv}var vv,DR;function sr(){if(DR)return vv;DR=1;var t=typeof document=="object"&&document.all;return vv=typeof t>"u"&&t!==void 0?function(e){return typeof e=="function"||e===t}:function(e){return typeof e=="function"},vv}var gv={},yv,qR;function Ut(){if(qR)return yv;qR=1;var t=Ge();return yv=!t(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!==7}),yv}var bv,MR;function an(){if(MR)return bv;MR=1;var t=zd(),e=Function.prototype.call;return bv=t?e.bind(e):function(){return e.apply(e,arguments)},bv}var wv={},AR;function UC(){if(AR)return wv;AR=1;var t={}.propertyIsEnumerable,e=Object.getOwnPropertyDescriptor,r=e&&!t.call({1:2},1);return wv.f=r?function(i){var s=e(this,i);return!!s&&s.enumerable}:t,wv}var xv,FR;function Ud(){return FR||(FR=1,xv=function(t,e){return{enumerable:!(t&1),configurable:!(t&2),writable:!(t&4),value:e}}),xv}var _v,LR;function Gp(){if(LR)return _v;LR=1;var t=et(),e=Ge(),r=ps(),n=Object,i=t("".split);return _v=e(function(){return!n("z").propertyIsEnumerable(0)})?function(s){return r(s)==="String"?i(s,""):n(s)}:n,_v}var Sv,BR;function Wd(){return BR||(BR=1,Sv=function(t){return t==null}),Sv}var Ev,zR;function jo(){if(zR)return Ev;zR=1;var t=Wd(),e=TypeError;return Ev=function(r){if(t(r))throw new e("Can't call method on "+r);return r},Ev}var Ov,UR;function Ti(){if(UR)return Ov;UR=1;var t=Gp(),e=jo();return Ov=function(r){return t(e(r))},Ov}var Pv,WR;function Ur(){if(WR)return Pv;WR=1;var t=sr();return Pv=function(e){return typeof e=="object"?e!==null:t(e)},Pv}var Cv,HR;function er(){return HR||(HR=1,Cv={}),Cv}var Nv,VR;function wn(){if(VR)return Nv;VR=1;var t=er(),e=zt(),r=sr(),n=function(i){return r(i)?i:void 0};return Nv=function(i,s){return arguments.length<2?n(t[i])||n(e[i]):t[i]&&t[i][s]||e[i]&&e[i][s]},Nv}var Tv,KR;function ar(){if(KR)return Tv;KR=1;var t=et();return Tv=t({}.isPrototypeOf),Tv}var Iv,GR;function Pu(){if(GR)return Iv;GR=1;var t=zt(),e=t.navigator,r=e&&e.userAgent;return Iv=r?String(r):"",Iv}var Rv,YR;function Hd(){if(YR)return Rv;YR=1;var t=zt(),e=Pu(),r=t.process,n=t.Deno,i=r&&r.versions||n&&n.version,s=i&&i.v8,a,o;return s&&(a=s.split("."),o=a[0]>0&&a[0]<4?1:+(a[0]+a[1])),!o&&e&&(a=e.match(/Edge\/(\d+)/),(!a||a[1]>=74)&&(a=e.match(/Chrome\/(\d+)/),a&&(o=+a[1]))),Rv=o,Rv}var jv,QR;function Cu(){if(QR)return jv;QR=1;var t=Hd(),e=Ge(),r=zt(),n=r.String;return jv=!!Object.getOwnPropertySymbols&&!e(function(){var i=Symbol("symbol detection");return!n(i)||!(Object(i)instanceof Symbol)||!Symbol.sham&&t&&t<41}),jv}var $v,XR;function UV(){if(XR)return $v;XR=1;var t=Cu();return $v=t&&!Symbol.sham&&typeof Symbol.iterator=="symbol",$v}var kv,JR;function Vd(){if(JR)return kv;JR=1;var t=wn(),e=sr(),r=ar(),n=UV(),i=Object;return kv=n?function(s){return typeof s=="symbol"}:function(s){var a=t("Symbol");return e(a)&&r(a.prototype,i(s))},kv}var Dv,ZR;function Nu(){if(ZR)return Dv;ZR=1;var t=String;return Dv=function(e){try{return t(e)}catch{return"Object"}},Dv}var qv,ej;function ms(){if(ej)return qv;ej=1;var t=sr(),e=Nu(),r=TypeError;return qv=function(n){if(t(n))return n;throw new r(e(n)+" is not a function")},qv}var Mv,tj;function WC(){if(tj)return Mv;tj=1;var t=ms(),e=Wd();return Mv=function(r,n){var i=r[n];return e(i)?void 0:t(i)},Mv}var Av,rj;function _ie(){if(rj)return Av;rj=1;var t=an(),e=sr(),r=Ur(),n=TypeError;return Av=function(i,s){var a,o;if(s==="string"&&e(a=i.toString)&&!r(o=t(a,i))||e(a=i.valueOf)&&!r(o=t(a,i))||s!=="string"&&e(a=i.toString)&&!r(o=t(a,i)))return o;throw new n("Can't convert object to primitive value")},Av}var Fv={exports:{}},Lv,nj;function Tu(){return nj||(nj=1,Lv=!0),Lv}var Bv,ij;function Sie(){if(ij)return Bv;ij=1;var t=zt(),e=Object.defineProperty;return Bv=function(r,n){try{e(t,r,{value:n,configurable:!0,writable:!0})}catch{t[r]=n}return n},Bv}var sj;function HC(){if(sj)return Fv.exports;sj=1;var t=Tu(),e=zt(),r=Sie(),n="__core-js_shared__",i=Fv.exports=e[n]||r(n,{});return(i.versions||(i.versions=[])).push({version:"3.44.0",mode:t?"pure":"global",copyright:" 2014-2025 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.44.0/LICENSE",source:"https://github.com/zloirock/core-js"}),Fv.exports}var zv,aj;function Iu(){if(aj)return zv;aj=1;var t=HC();return zv=function(e,r){return t[e]||(t[e]=r||{})},zv}var Uv,oj;function ui(){if(oj)return Uv;oj=1;var t=jo(),e=Object;return Uv=function(r){return e(t(r))},Uv}var Wv,lj;function or(){if(lj)return Wv;lj=1;var t=et(),e=ui(),r=t({}.hasOwnProperty);return Wv=Object.hasOwn||function(i,s){return r(e(i),s)},Wv}var Hv,uj;function Yp(){if(uj)return Hv;uj=1;var t=et(),e=0,r=Math.random(),n=t(1.1.toString);return Hv=function(i){return"Symbol("+(i===void 0?"":i)+")_"+n(++e+r,36)},Hv}var Vv,cj;function lr(){if(cj)return Vv;cj=1;var t=zt(),e=Iu(),r=or(),n=Yp(),i=Cu(),s=UV(),a=t.Symbol,o=e("wks"),l=s?a.for||a:a&&a.withoutSetter||n;return Vv=function(u){return r(o,u)||(o[u]=i&&r(a,u)?a[u]:l("Symbol."+u)),o[u]},Vv}var Kv,dj;function WV(){if(dj)return Kv;dj=1;var t=an(),e=Ur(),r=Vd(),n=WC(),i=_ie(),s=lr(),a=TypeError,o=s("toPrimitive");return Kv=function(l,u){if(!e(l)||r(l))return l;var d=n(l,o),h;if(d){if(u===void 0&&(u="default"),h=t(d,l,u),!e(h)||r(h))return h;throw new a("Can't convert object to primitive value")}return u===void 0&&(u="number"),i(l,u)},Kv}var Gv,hj;function VC(){if(hj)return Gv;hj=1;var t=WV(),e=Vd();return Gv=function(r){var n=t(r,"string");return e(n)?n:n+""},Gv}var Yv,fj;function HV(){if(fj)return Yv;fj=1;var t=zt(),e=Ur(),r=t.document,n=e(r)&&e(r.createElement);return Yv=function(i){return n?r.createElement(i):{}},Yv}var Qv,pj;function VV(){if(pj)return Qv;pj=1;var t=Ut(),e=Ge(),r=HV();return Qv=!t&&!e(function(){return Object.defineProperty(r("div"),"a",{get:function(){return 7}}).a!==7}),Qv}var mj;function Qp(){if(mj)return gv;mj=1;var t=Ut(),e=an(),r=UC(),n=Ud(),i=Ti(),s=VC(),a=or(),o=VV(),l=Object.getOwnPropertyDescriptor;return gv.f=t?l:function(d,h){if(d=i(d),h=s(h),o)try{return l(d,h)}catch{}if(a(d,h))return n(!e(r.f,d,h),d[h])},gv}var Xv,vj;function Eie(){if(vj)return Xv;vj=1;var t=Ge(),e=sr(),r=/#|\.prototype\./,n=function(l,u){var d=s[i(l)];return d===o?!0:d===a?!1:e(u)?t(u):!!u},i=n.normalize=function(l){return String(l).replace(r,".").toLowerCase()},s=n.data={},a=n.NATIVE="N",o=n.POLYFILL="P";return Xv=n,Xv}var Jv,gj;function Xp(){if(gj)return Jv;gj=1;var t=zV(),e=ms(),r=zd(),n=t(t.bind);return Jv=function(i,s){return e(i),s===void 0?i:r?n(i,s):function(){return i.apply(s,arguments)}},Jv}var Zv={},eg,yj;function KV(){if(yj)return eg;yj=1;var t=Ut(),e=Ge();return eg=t&&e(function(){return Object.defineProperty(function(){},"prototype",{value:42,writable:!1}).prototype!==42}),eg}var tg,bj;function vs(){if(bj)return tg;bj=1;var t=Ur(),e=String,r=TypeError;return tg=function(n){if(t(n))return n;throw new r(e(n)+" is not an object")},tg}var wj;function Fn(){if(wj)return Zv;wj=1;var t=Ut(),e=VV(),r=KV(),n=vs(),i=VC(),s=TypeError,a=Object.defineProperty,o=Object.getOwnPropertyDescriptor,l="enumerable",u="configurable",d="writable";return Zv.f=t?r?function(f,p,m){if(n(f),p=i(p),n(m),typeof f=="function"&&p==="prototype"&&"value"in m&&d in m&&!m[d]){var y=o(f,p);y&&y[d]&&(f[p]=m.value,m={configurable:u in m?m[u]:y[u],enumerable:l in m?m[l]:y[l],writable:!1})}return a(f,p,m)}:a:function(f,p,m){if(n(f),p=i(p),n(m),e)try{return a(f,p,m)}catch{}if("get"in m||"set"in m)throw new s("Accessors not supported");return"value"in m&&(f[p]=m.value),f},Zv}var rg,xj;function Ru(){if(xj)return rg;xj=1;var t=Ut(),e=Fn(),r=Ud();return rg=t?function(n,i,s){return e.f(n,i,r(1,s))}:function(n,i,s){return n[i]=s,n},rg}var ng,_j;function Ce(){if(_j)return ng;_j=1;var t=zt(),e=Kp(),r=zV(),n=sr(),i=Qp().f,s=Eie(),a=er(),o=Xp(),l=Ru(),u=or(),d=function(h){var f=function(p,m,y){if(this instanceof f){switch(arguments.length){case 0:return new h;case 1:return new h(p);case 2:return new h(p,m)}return new h(p,m,y)}return e(h,this,arguments)};return f.prototype=h.prototype,f};return ng=function(h,f){var p=h.target,m=h.global,y=h.stat,b=h.proto,g=m?t:y?t[p]:t[p]&&t[p].prototype,v=m?a:a[p]||l(a,p,{})[p],x=v.prototype,w,_,E,O,S,P,C,I,N;for(O in f)w=s(m?O:p+(y?".":"#")+O,h.forced),_=!w&&g&&u(g,O),P=v[O],_&&(h.dontCallGetSet?(N=i(g,O),C=N&&N.value):C=g[O]),S=_&&C?C:f[O],!(!w&&!b&&typeof P==typeof S)&&(h.bind&&_?I=o(S,t):h.wrap&&_?I=d(S):b&&n(S)?I=r(S):I=S,(h.sham||S&&S.sham||P&&P.sham)&&l(I,"sham",!0),l(v,O,I),b&&(E=p+"Prototype",u(a,E)||l(a,E,{}),l(a[E],O,S),h.real&&x&&(w||!x[O])&&l(x,O,S)))},ng}var Sj;function Oie(){if(Sj)return CR;Sj=1;var t=Ce(),e=Ut(),r=Fn().f;return t({target:"Object",stat:!0,forced:Object.defineProperty!==r,sham:!e},{defineProperty:r}),CR}var Ej;function Pie(){if(Ej)return uv.exports;Ej=1,Oie();var t=er(),e=t.Object,r=uv.exports=function(i,s,a){return e.defineProperty(i,s,a)};return e.defineProperty.sham&&(r.sham=!0),uv.exports}var ig,Oj;function GV(){if(Oj)return ig;Oj=1;var t=Pie();return ig=t,ig}var sg,Pj;function Cie(){if(Pj)return sg;Pj=1;var t=GV();return sg=t,sg}var ag,Cj;function Nie(){if(Cj)return ag;Cj=1;var t=Cie();return ag=t,ag}var og,Nj;function Tie(){return Nj||(Nj=1,og=Nie()),og}var Iie=Tie(),Rie=De(Iie),Tj={},lg,Ij;function $o(){if(Ij)return lg;Ij=1;var t=ps();return lg=Array.isArray||function(r){return t(r)==="Array"},lg}var ug,Rj;function jie(){if(Rj)return ug;Rj=1;var t=Math.ceil,e=Math.floor;return ug=Math.trunc||function(n){var i=+n;return(i>0?e:t)(i)},ug}var cg,jj;function ju(){if(jj)return cg;jj=1;var t=jie();return cg=function(e){var r=+e;return r!==r||r===0?0:t(r)},cg}var dg,$j;function YV(){if($j)return dg;$j=1;var t=ju(),e=Math.min;return dg=function(r){var n=t(r);return n>0?e(n,9007199254740991):0},dg}var hg,kj;function ga(){if(kj)return hg;kj=1;var t=YV();return hg=function(e){return t(e.length)},hg}var fg,Dj;function QV(){if(Dj)return fg;Dj=1;var t=TypeError,e=9007199254740991;return fg=function(r){if(r>e)throw t("Maximum allowed index exceeded");return r},fg}var pg,qj;function Jp(){if(qj)return pg;qj=1;var t=Ut(),e=Fn(),r=Ud();return pg=function(n,i,s){t?e.f(n,i,r(0,s)):n[i]=s},pg}var mg,Mj;function KC(){if(Mj)return mg;Mj=1;var t=lr(),e=t("toStringTag"),r={};return r[e]="z",mg=String(r)==="[object z]",mg}var vg,Aj;function ya(){if(Aj)return vg;Aj=1;var t=KC(),e=sr(),r=ps(),n=lr(),i=n("toStringTag"),s=Object,a=r(function(){return arguments}())==="Arguments",o=function(l,u){try{return l[u]}catch{}};return vg=t?r:function(l){var u,d,h;return l===void 0?"Undefined":l===null?"Null":typeof(d=o(u=s(l),i))=="string"?d:a?r(u):(h=r(u))==="Object"&&e(u.callee)?"Arguments":h},vg}var gg,Fj;function $ie(){if(Fj)return gg;Fj=1;var t=et(),e=sr(),r=HC(),n=t(Function.toString);return e(r.inspectSource)||(r.inspectSource=function(i){return n(i)}),gg=r.inspectSource,gg}var yg,Lj;function XV(){if(Lj)return yg;Lj=1;var t=et(),e=Ge(),r=sr(),n=ya(),i=wn(),s=$ie(),a=function(){},o=i("Reflect","construct"),l=/^\s*(?:class|function)\b/,u=t(l.exec),d=!l.test(a),h=function(m){if(!r(m))return!1;try{return o(a,[],m),!0}catch{return!1}},f=function(m){if(!r(m))return!1;switch(n(m)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return d||!!u(l,s(m))}catch{return!0}};return f.sham=!0,yg=!o||e(function(){var p;return h(h.call)||!h(Object)||!h(function(){p=!0})||p})?f:h,yg}var bg,Bj;function kie(){if(Bj)return bg;Bj=1;var t=$o(),e=XV(),r=Ur(),n=lr(),i=n("species"),s=Array;return bg=function(a){var o;return t(a)&&(o=a.constructor,e(o)&&(o===s||t(o.prototype))?o=void 0:r(o)&&(o=o[i],o===null&&(o=void 0))),o===void 0?s:o},bg}var wg,zj;function GC(){if(zj)return wg;zj=1;var t=kie();return wg=function(e,r){return new(t(e))(r===0?0:r)},wg}var xg,Uj;function Kd(){if(Uj)return xg;Uj=1;var t=Ge(),e=lr(),r=Hd(),n=e("species");return xg=function(i){return r>=51||!t(function(){var s=[],a=s.constructor={};return a[n]=function(){return{foo:1}},s[i](Boolean).foo!==1})},xg}var Wj;function JV(){if(Wj)return Tj;Wj=1;var t=Ce(),e=Ge(),r=$o(),n=Ur(),i=ui(),s=ga(),a=QV(),o=Jp(),l=GC(),u=Kd(),d=lr(),h=Hd(),f=d("isConcatSpreadable"),p=h>=51||!e(function(){var b=[];return b[f]=!1,b.concat()[0]!==b}),m=function(b){if(!n(b))return!1;var g=b[f];return g!==void 0?!!g:r(b)},y=!p||!u("concat");return t({target:"Array",proto:!0,arity:1,forced:y},{concat:function(g){var v=i(this),x=l(v,0),w=0,_,E,O,S,P;for(_=-1,O=arguments.length;_<O;_++)if(P=_===-1?v:arguments[_],m(P))for(S=s(P),a(w+S),E=0;E<S;E++,w++)E in P&&o(x,w,P[E]);else a(w+1),o(x,w++,P);return x.length=w,x}}),Tj}var Hj={},Vj={},_g,Kj;function ba(){if(Kj)return _g;Kj=1;var t=ya(),e=String;return _g=function(r){if(t(r)==="Symbol")throw new TypeError("Cannot convert a Symbol value to a string");return e(r)},_g}var Sg={},Eg,Gj;function YC(){if(Gj)return Eg;Gj=1;var t=ju(),e=Math.max,r=Math.min;return Eg=function(n,i){var s=t(n);return s<0?e(s+i,0):r(s,i)},Eg}var Og,Yj;function Die(){if(Yj)return Og;Yj=1;var t=Ti(),e=YC(),r=ga(),n=function(i){return function(s,a,o){var l=t(s),u=r(l);if(u===0)return!i&&-1;var d=e(o,u),h;if(i&&a!==a){for(;u>d;)if(h=l[d++],h!==h)return!0}else for(;u>d;d++)if((i||d in l)&&l[d]===a)return i||d||0;return!i&&-1}};return Og={includes:n(!0),indexOf:n(!1)},Og}var Pg,Qj;function Gd(){return Qj||(Qj=1,Pg={}),Pg}var Cg,Xj;function ZV(){if(Xj)return Cg;Xj=1;var t=et(),e=or(),r=Ti(),n=Die().indexOf,i=Gd(),s=t([].push);return Cg=function(a,o){var l=r(a),u=0,d=[],h;for(h in l)!e(i,h)&&e(l,h)&&s(d,h);for(;o.length>u;)e(l,h=o[u++])&&(~n(d,h)||s(d,h));return d},Cg}var Ng,Jj;function QC(){return Jj||(Jj=1,Ng=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]),Ng}var Tg,Zj;function Zp(){if(Zj)return Tg;Zj=1;var t=ZV(),e=QC();return Tg=Object.keys||function(n){return t(n,e)},Tg}var e$;function XC(){if(e$)return Sg;e$=1;var t=Ut(),e=KV(),r=Fn(),n=vs(),i=Ti(),s=Zp();return Sg.f=t&&!e?Object.defineProperties:function(o,l){n(o);for(var u=i(l),d=s(l),h=d.length,f=0,p;h>f;)r.f(o,p=d[f++],u[p]);return o},Sg}var Ig,t$;function qie(){if(t$)return Ig;t$=1;var t=wn();return Ig=t("document","documentElement"),Ig}var Rg,r$;function em(){if(r$)return Rg;r$=1;var t=Iu(),e=Yp(),r=t("keys");return Rg=function(n){return r[n]||(r[n]=e(n))},Rg}var jg,n$;function Yd(){if(n$)return jg;n$=1;var t=vs(),e=XC(),r=QC(),n=Gd(),i=qie(),s=HV(),a=em(),o=">",l="<",u="prototype",d="script",h=a("IE_PROTO"),f=function(){},p=function(v){return l+d+o+v+l+"/"+d+o},m=function(v){v.write(p("")),v.close();var x=v.parentWindow.Object;return v=null,x},y=function(){var v=s("iframe"),x="java"+d+":",w;return v.style.display="none",i.appendChild(v),v.src=String(x),w=v.contentWindow.document,w.open(),w.write(p("document.F=Object")),w.close(),w.F},b,g=function(){try{b=new ActiveXObject("htmlfile")}catch{}g=typeof document<"u"?document.domain&&b?m(b):y():m(b);for(var v=r.length;v--;)delete g[u][r[v]];return g()};return n[h]=!0,jg=Object.create||function(x,w){var _;return x!==null?(f[u]=t(x),_=new f,f[u]=null,_[h]=x):_=g(),w===void 0?_:e.f(_,w)},jg}var $g={},i$;function tm(){if(i$)return $g;i$=1;var t=ZV(),e=QC(),r=e.concat("length","prototype");return $g.f=Object.getOwnPropertyNames||function(i){return t(i,r)},$g}var kg={},Dg,s$;function $u(){if(s$)return Dg;s$=1;var t=et();return Dg=t([].slice),Dg}var a$;function eK(){if(a$)return kg;a$=1;var t=ps(),e=Ti(),r=tm().f,n=$u(),i=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],s=function(a){try{return r(a)}catch{return n(i)}};return kg.f=function(o){return i&&t(o)==="Window"?s(o):r(e(o))},kg}var qg={},o$;function rm(){return o$||(o$=1,qg.f=Object.getOwnPropertySymbols),qg}var Mg,l$;function Qd(){if(l$)return Mg;l$=1;var t=Ru();return Mg=function(e,r,n,i){return i&&i.enumerable?e[r]=n:t(e,r,n),e},Mg}var Ag,u$;function JC(){if(u$)return Ag;u$=1;var t=Fn();return Ag=function(e,r,n){return t.f(e,r,n)},Ag}var Fg={},c$;function nm(){if(c$)return Fg;c$=1;var t=lr();return Fg.f=t,Fg}var Lg,d$;function xt(){if(d$)return Lg;d$=1;var t=er(),e=or(),r=nm(),n=Fn().f;return Lg=function(i){var s=t.Symbol||(t.Symbol={});e(s,i)||n(s,i,{value:r.f(i)})},Lg}var Bg,h$;function tK(){if(h$)return Bg;h$=1;var t=an(),e=wn(),r=lr(),n=Qd();return Bg=function(){var i=e("Symbol"),s=i&&i.prototype,a=s&&s.valueOf,o=r("toPrimitive");s&&!s[o]&&n(s,o,function(l){return t(a,this)},{arity:1})},Bg}var zg,f$;function Mie(){if(f$)return zg;f$=1;var t=KC(),e=ya();return zg=t?{}.toString:function(){return"[object "+e(this)+"]"},zg}var Ug,p$;function ko(){if(p$)return Ug;p$=1;var t=KC(),e=Fn().f,r=Ru(),n=or(),i=Mie(),s=lr(),a=s("toStringTag");return Ug=function(o,l,u,d){var h=u?o:o&&o.prototype;h&&(n(h,a)||e(h,a,{configurable:!0,value:l}),d&&!t&&r(h,"toString",i))},Ug}var Wg,m$;function Aie(){if(m$)return Wg;m$=1;var t=zt(),e=sr(),r=t.WeakMap;return Wg=e(r)&&/native code/.test(String(r)),Wg}var Hg,v$;function Xd(){if(v$)return Hg;v$=1;var t=Aie(),e=zt(),r=Ur(),n=Ru(),i=or(),s=HC(),a=em(),o=Gd(),l="Object already initialized",u=e.TypeError,d=e.WeakMap,h,f,p,m=function(v){return p(v)?f(v):h(v,{})},y=function(v){return function(x){var w;if(!r(x)||(w=f(x)).type!==v)throw new u("Incompatible receiver, "+v+" required");return w}};if(t||s.state){var b=s.state||(s.state=new d);b.get=b.get,b.has=b.has,b.set=b.set,h=function(v,x){if(b.has(v))throw new u(l);return x.facade=v,b.set(v,x),x},f=function(v){return b.get(v)||{}},p=function(v){return b.has(v)}}else{var g=a("state");o[g]=!0,h=function(v,x){if(i(v,g))throw new u(l);return x.facade=v,n(v,g,x),x},f=function(v){return i(v,g)?v[g]:{}},p=function(v){return i(v,g)}}return Hg={set:h,get:f,has:p,enforce:m,getterFor:y},Hg}var Vg,g$;function ku(){if(g$)return Vg;g$=1;var t=Xp(),e=et(),r=Gp(),n=ui(),i=ga(),s=GC(),a=e([].push),o=function(l){var u=l===1,d=l===2,h=l===3,f=l===4,p=l===6,m=l===7,y=l===5||p;return function(b,g,v,x){for(var w=n(b),_=r(w),E=i(_),O=t(g,v),S=0,P=x||s,C=u?P(b,E):d||m?P(b,0):void 0,I,N;E>S;S++)if((y||S in _)&&(I=_[S],N=O(I,S,w),l))if(u)C[S]=N;else if(N)switch(l){case 3:return!0;case 5:return I;case 6:return S;case 2:a(C,I)}else switch(l){case 4:return!1;case 7:a(C,I)}return p?-1:h||f?f:C}};return Vg={forEach:o(0),map:o(1),filter:o(2),some:o(3),every:o(4),find:o(5),findIndex:o(6),filterReject:o(7)},Vg}var y$;function Fie(){if(y$)return Vj;y$=1;var t=Ce(),e=zt(),r=an(),n=et(),i=Tu(),s=Ut(),a=Cu(),o=Ge(),l=or(),u=ar(),d=vs(),h=Ti(),f=VC(),p=ba(),m=Ud(),y=Yd(),b=Zp(),g=tm(),v=eK(),x=rm(),w=Qp(),_=Fn(),E=XC(),O=UC(),S=Qd(),P=JC(),C=Iu(),I=em(),N=Gd(),T=Yp(),q=lr(),B=nm(),X=xt(),H=tK(),L=ko(),W=Xd(),z=ku().forEach,U=I("hidden"),Q="Symbol",fe="prototype",ge=W.set,Me=W.getterFor(Q),xe=Object[fe],Oe=e.Symbol,Ne=Oe&&Oe[fe],vt=e.RangeError,Xe=e.TypeError,Vt=e.QObject,dr=w.f,ut=_.f,Nr=v.f,tt=O.f,Tr=n([].push),rt=C("symbols"),Kt=C("op-symbols"),un=C("wks"),Sn=!Vt||!Vt[fe]||!Vt[fe].findChild,j=function(pe,Z,oe){var ie=dr(xe,Z);ie&&delete xe[Z],ut(pe,Z,oe),ie&&pe!==xe&&ut(xe,Z,ie)},D=s&&o(function(){return y(ut({},"a",{get:function(){return ut(this,"a",{value:7}).a}})).a!==7})?j:ut,F=function(pe,Z){var oe=rt[pe]=y(Ne);return ge(oe,{type:Q,tag:pe,description:Z}),s||(oe.description=Z),oe},re=function(Z,oe,ie){Z===xe&&re(Kt,oe,ie),d(Z);var ve=f(oe);return d(ie),l(rt,ve)?(ie.enumerable?(l(Z,U)&&Z[U][ve]&&(Z[U][ve]=!1),ie=y(ie,{enumerable:m(0,!1)})):(l(Z,U)||ut(Z,U,m(1,y(null))),Z[U][ve]=!0),D(Z,ve,ie)):ut(Z,ve,ie)},J=function(Z,oe){d(Z);var ie=h(oe),ve=b(ie).concat(Rt(ie));return z(ve,function(k){(!s||r(ce,ie,k))&&re(Z,k,ie[k])}),Z},V=function(Z,oe){return oe===void 0?y(Z):J(y(Z),oe)},ce=function(Z){var oe=f(Z),ie=r(tt,this,oe);return this===xe&&l(rt,oe)&&!l(Kt,oe)?!1:ie||!l(this,oe)||!l(rt,oe)||l(this,U)&&this[U][oe]?ie:!0},je=function(Z,oe){var ie=h(Z),ve=f(oe);if(!(ie===xe&&l(rt,ve)&&!l(Kt,ve))){var k=dr(ie,ve);return k&&l(rt,ve)&&!(l(ie,U)&&ie[U][ve])&&(k.enumerable=!0),k}},Ae=function(Z){var oe=Nr(h(Z)),ie=[];return z(oe,function(ve){!l(rt,ve)&&!l(N,ve)&&Tr(ie,ve)}),ie},Rt=function(pe){var Z=pe===xe,oe=Nr(Z?Kt:h(pe)),ie=[];return z(oe,function(ve){l(rt,ve)&&(!Z||l(xe,ve))&&Tr(ie,rt[ve])}),ie};return a||(Oe=function(){if(u(Ne,this))throw new Xe("Symbol is not a constructor");var Z=!arguments.length||arguments[0]===void 0?void 0:p(arguments[0]),oe=T(Z),ie=function(ve){var k=this===void 0?e:this;k===xe&&r(ie,Kt,ve),l(k,U)&&l(k[U],oe)&&(k[U][oe]=!1);var ne=m(1,ve);try{D(k,oe,ne)}catch(se){if(!(se instanceof vt))throw se;j(k,oe,ne)}};return s&&Sn&&D(xe,oe,{configurable:!0,set:ie}),F(oe,Z)},Ne=Oe[fe],S(Ne,"toString",function(){return Me(this).tag}),S(Oe,"withoutSetter",function(pe){return F(T(pe),pe)}),O.f=ce,_.f=re,E.f=J,w.f=je,g.f=v.f=Ae,x.f=Rt,B.f=function(pe){return F(q(pe),pe)},s&&(P(Ne,"description",{configurable:!0,get:function(){return Me(this).description}}),i||S(xe,"propertyIsEnumerable",ce,{unsafe:!0}))),t({global:!0,constructor:!0,wrap:!0,forced:!a,sham:!a},{Symbol:Oe}),z(b(un),function(pe){X(pe)}),t({target:Q,stat:!0,forced:!a},{useSetter:function(){Sn=!0},useSimple:function(){Sn=!1}}),t({target:"Object",stat:!0,forced:!a,sham:!s},{create:V,defineProperty:re,defineProperties:J,getOwnPropertyDescriptor:je}),t({target:"Object",stat:!0,forced:!a},{getOwnPropertyNames:Ae}),H(),L(Oe,Q),N[U]=!0,Vj}var b$={},Kg,w$;function rK(){if(w$)return Kg;w$=1;var t=Cu();return Kg=t&&!!Symbol.for&&!!Symbol.keyFor,Kg}var x$;function Lie(){if(x$)return b$;x$=1;var t=Ce(),e=wn(),r=or(),n=ba(),i=Iu(),s=rK(),a=i("string-to-symbol-registry"),o=i("symbol-to-string-registry");return t({target:"Symbol",stat:!0,forced:!s},{for:function(l){var u=n(l);if(r(a,u))return a[u];var d=e("Symbol")(u);return a[u]=d,o[d]=u,d}}),b$}var _$={},S$;function Bie(){if(S$)return _$;S$=1;var t=Ce(),e=or(),r=Vd(),n=Nu(),i=Iu(),s=rK(),a=i("symbol-to-string-registry");return t({target:"Symbol",stat:!0,forced:!s},{keyFor:function(l){if(!r(l))throw new TypeError(n(l)+" is not a symbol");if(e(a,l))return a[l]}}),_$}var E$={},Gg,O$;function zie(){if(O$)return Gg;O$=1;var t=et(),e=$o(),r=sr(),n=ps(),i=ba(),s=t([].push);return Gg=function(a){if(r(a))return a;if(e(a)){for(var o=a.length,l=[],u=0;u<o;u++){var d=a[u];typeof d=="string"?s(l,d):(typeof d=="number"||n(d)==="Number"||n(d)==="String")&&s(l,i(d))}var h=l.length,f=!0;return function(p,m){if(f)return f=!1,m;if(e(this))return m;for(var y=0;y<h;y++)if(l[y]===p)return m}}},Gg}var P$;function nK(){if(P$)return E$;P$=1;var t=Ce(),e=wn(),r=Kp(),n=an(),i=et(),s=Ge(),a=sr(),o=Vd(),l=$u(),u=zie(),d=Cu(),h=String,f=e("JSON","stringify"),p=i(/./.exec),m=i("".charAt),y=i("".charCodeAt),b=i("".replace),g=i(1.1.toString),v=/[\uD800-\uDFFF]/g,x=/^[\uD800-\uDBFF]$/,w=/^[\uDC00-\uDFFF]$/,_=!d||s(function(){var P=e("Symbol")("stringify detection");return f([P])!=="[null]"||f({a:P})!=="{}"||f(Object(P))!=="{}"}),E=s(function(){return f("\uDF06\uD834")!=='"\\udf06\\ud834"'||f("\uDEAD")!=='"\\udead"'}),O=function(P,C){var I=l(arguments),N=u(C);if(!(!a(N)&&(P===void 0||o(P))))return I[1]=function(T,q){if(a(N)&&(q=n(N,this,h(T),q)),!o(q))return q},r(f,null,I)},S=function(P,C,I){var N=m(I,C-1),T=m(I,C+1);return p(x,P)&&!p(w,T)||p(w,P)&&!p(x,N)?"\\u"+g(y(P,0),16):P};return f&&t({target:"JSON",stat:!0,arity:3,forced:_||E},{stringify:function(C,I,N){var T=l(arguments),q=r(_?O:f,null,T);return E&&typeof q=="string"?b(q,v,S):q}}),E$}var C$={},N$;function Uie(){if(N$)return C$;N$=1;var t=Ce(),e=Cu(),r=Ge(),n=rm(),i=ui(),s=!e||r(function(){n.f(1)});return t({target:"Object",stat:!0,forced:s},{getOwnPropertySymbols:function(o){var l=n.f;return l?l(i(o)):[]}}),C$}var T$;function iK(){return T$||(T$=1,Fie(),Lie(),Bie(),nK(),Uie()),Hj}var I$={},R$;function sK(){if(R$)return I$;R$=1;var t=xt();return t("asyncDispose"),I$}var j$={},$$;function Wie(){if($$)return j$;$$=1;var t=xt();return t("asyncIterator"),j$}var k$={},D$;function aK(){if(D$)return k$;D$=1;var t=xt();return t("dispose"),k$}var q$={},M$;function Hie(){if(M$)return q$;M$=1;var t=xt();return t("hasInstance"),q$}var A$={},F$;function Vie(){if(F$)return A$;F$=1;var t=xt();return t("isConcatSpreadable"),A$}var L$={},B$;function oK(){if(B$)return L$;B$=1;var t=xt();return t("iterator"),L$}var z$={},U$;function Kie(){if(U$)return z$;U$=1;var t=xt();return t("match"),z$}var W$={},H$;function Gie(){if(H$)return W$;H$=1;var t=xt();return t("matchAll"),W$}var V$={},K$;function Yie(){if(K$)return V$;K$=1;var t=xt();return t("replace"),V$}var G$={},Y$;function Qie(){if(Y$)return G$;Y$=1;var t=xt();return t("search"),G$}var Q$={},X$;function Xie(){if(X$)return Q$;X$=1;var t=xt();return t("species"),Q$}var J$={},Z$;function Jie(){if(Z$)return J$;Z$=1;var t=xt();return t("split"),J$}var ek={},tk;function lK(){if(tk)return ek;tk=1;var t=xt(),e=tK();return t("toPrimitive"),e(),ek}var rk={},nk;function Zie(){if(nk)return rk;nk=1;var t=wn(),e=xt(),r=ko();return e("toStringTag"),r(t("Symbol"),"Symbol"),rk}var ik={},sk;function ese(){if(sk)return ik;sk=1;var t=xt();return t("unscopables"),ik}var ak={},ok;function tse(){if(ok)return ak;ok=1;var t=zt(),e=ko();return e(t.JSON,"JSON",!0),ak}var Yg,lk;function rse(){if(lk)return Yg;lk=1,JV(),iK(),sK(),Wie(),aK(),Hie(),Vie(),oK(),Kie(),Gie(),Yie(),Qie(),Xie(),Jie(),lK(),Zie(),ese(),tse();var t=er();return Yg=t.Symbol,Yg}var uk={},Qg,ck;function nse(){return ck||(ck=1,Qg=function(){}),Qg}var Xg,dk;function Du(){return dk||(dk=1,Xg={}),Xg}var Jg,hk;function ise(){if(hk)return Jg;hk=1;var t=Ut(),e=or(),r=Function.prototype,n=t&&Object.getOwnPropertyDescriptor,i=e(r,"name"),s=i&&(function(){}).name==="something",a=i&&(!t||t&&n(r,"name").configurable);return Jg={EXISTS:i,PROPER:s,CONFIGURABLE:a},Jg}var Zg,fk;function sse(){if(fk)return Zg;fk=1;var t=Ge();return Zg=!t(function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype}),Zg}var ey,pk;function uK(){if(pk)return ey;pk=1;var t=or(),e=sr(),r=ui(),n=em(),i=sse(),s=n("IE_PROTO"),a=Object,o=a.prototype;return ey=i?a.getPrototypeOf:function(l){var u=r(l);if(t(u,s))return u[s];var d=u.constructor;return e(d)&&u instanceof d?d.prototype:u instanceof a?o:null},ey}var ty,mk;function cK(){if(mk)return ty;mk=1;var t=Ge(),e=sr(),r=Ur(),n=Yd(),i=uK(),s=Qd(),a=lr(),o=Tu(),l=a("iterator"),u=!1,d,h,f;[].keys&&(f=[].keys(),"next"in f?(h=i(i(f)),h!==Object.prototype&&(d=h)):u=!0);var p=!r(d)||t(function(){var m={};return d[l].call(m)!==m});return p?d={}:o&&(d=n(d)),e(d[l])||s(d,l,function(){return this}),ty={IteratorPrototype:d,BUGGY_SAFARI_ITERATORS:u},ty}var ry,vk;function ase(){if(vk)return ry;vk=1;var t=cK().IteratorPrototype,e=Yd(),r=Ud(),n=ko(),i=Du(),s=function(){return this};return ry=function(a,o,l,u){var d=o+" Iterator";return a.prototype=e(t,{next:r(+!u,l)}),n(a,d,!1,!0),i[d]=s,a},ry}var ny,gk;function ose(){if(gk)return ny;gk=1;var t=et(),e=ms();return ny=function(r,n,i){try{return t(e(Object.getOwnPropertyDescriptor(r,n)[i]))}catch{}},ny}var iy,yk;function lse(){if(yk)return iy;yk=1;var t=Ur();return iy=function(e){return t(e)||e===null},iy}var sy,bk;function use(){if(bk)return sy;bk=1;var t=lse(),e=String,r=TypeError;return sy=function(n){if(t(n))return n;throw new r("Can't set "+e(n)+" as a prototype")},sy}var ay,wk;function cse(){if(wk)return ay;wk=1;var t=ose(),e=Ur(),r=jo(),n=use();return ay=Object.setPrototypeOf||("__proto__"in{}?function(){var i=!1,s={},a;try{a=t(Object.prototype,"__proto__","set"),a(s,[]),i=s instanceof Array}catch{}return function(l,u){return r(l),n(u),e(l)&&(i?a(l,u):l.__proto__=u),l}}():void 0),ay}var oy,xk;function ZC(){if(xk)return oy;xk=1;var t=Ce(),e=an(),r=Tu(),n=ise(),i=sr(),s=ase(),a=uK(),o=cse(),l=ko(),u=Ru(),d=Qd(),h=lr(),f=Du(),p=cK(),m=n.PROPER,y=n.CONFIGURABLE,b=p.IteratorPrototype,g=p.BUGGY_SAFARI_ITERATORS,v=h("iterator"),x="keys",w="values",_="entries",E=function(){return this};return oy=function(O,S,P,C,I,N,T){s(P,S,C);var q=function(ge){if(ge===I&&W)return W;if(!g&&ge&&ge in H)return H[ge];switch(ge){case x:return function(){return new P(this,ge)};case w:return function(){return new P(this,ge)};case _:return function(){return new P(this,ge)}}return function(){return new P(this)}},B=S+" Iterator",X=!1,H=O.prototype,L=H[v]||H["@@iterator"]||I&&H[I],W=!g&&L||q(I),z=S==="Array"&&H.entries||L,U,Q,fe;if(z&&(U=a(z.call(new O)),U!==Object.prototype&&U.next&&(!r&&a(U)!==b&&(o?o(U,b):i(U[v])||d(U,v,E)),l(U,B,!0,!0),r&&(f[B]=E))),m&&I===w&&L&&L.name!==w&&(!r&&y?u(H,"name",w):(X=!0,W=function(){return e(L,this)})),I)if(Q={values:q(w),keys:N?W:q(x),entries:q(_)},T)for(fe in Q)(g||X||!(fe in H))&&d(H,fe,Q[fe]);else t({target:S,proto:!0,forced:g||X},Q);return(!r||T)&&H[v]!==W&&d(H,v,W,{name:I}),f[S]=W,Q},oy}var ly,_k;function eN(){return _k||(_k=1,ly=function(t,e){return{value:t,done:e}}),ly}var uy,Sk;function wa(){if(Sk)return uy;Sk=1;var t=Ti(),e=nse(),r=Du(),n=Xd(),i=Fn().f,s=ZC(),a=eN(),o=Tu(),l=Ut(),u="Array Iterator",d=n.set,h=n.getterFor(u);uy=s(Array,"Array",function(p,m){d(this,{type:u,target:t(p),index:0,kind:m})},function(){var p=h(this),m=p.target,y=p.index++;if(!m||y>=m.length)return p.target=null,a(void 0,!0);switch(p.kind){case"keys":return a(y,!1);case"values":return a(m[y],!1)}return a([y,m[y]],!1)},"values");var f=r.Arguments=r.Array;if(e("keys"),e("values"),e("entries"),!o&&l&&f.name!=="values")try{i(f,"name",{value:"values"})}catch{}return uy}var cy,Ek;function dse(){return Ek||(Ek=1,cy={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}),cy}var Ok;function xa(){if(Ok)return uk;Ok=1,wa();var t=dse(),e=zt(),r=ko(),n=Du();for(var i in t)r(e[i],i),n[i]=n.Array;return uk}var dy,Pk;function dK(){if(Pk)return dy;Pk=1;var t=rse();return xa(),dy=t,dy}var Ck={},Nk;function hse(){if(Nk)return Ck;Nk=1;var t=lr(),e=Fn().f,r=t("metadata"),n=Function.prototype;return n[r]===void 0&&e(n,r,{value:null}),Ck}var Tk={},Ik;function fse(){return Ik||(Ik=1,sK()),Tk}var Rk={},jk;function pse(){return jk||(jk=1,aK()),Rk}var $k={},kk;function mse(){if(kk)return $k;kk=1;var t=xt();return t("metadata"),$k}var hy,Dk;function vse(){if(Dk)return hy;Dk=1;var t=dK();return hse(),fse(),pse(),mse(),hy=t,hy}var qk={},fy,Mk;function hK(){if(Mk)return fy;Mk=1;var t=wn(),e=et(),r=t("Symbol"),n=r.keyFor,i=e(r.prototype.valueOf);return fy=r.isRegisteredSymbol||function(a){try{return n(i(a))!==void 0}catch{return!1}},fy}var Ak;function gse(){if(Ak)return qk;Ak=1;var t=Ce(),e=hK();return t({target:"Symbol",stat:!0},{isRegisteredSymbol:e}),qk}var Fk={},py,Lk;function fK(){if(Lk)return py;Lk=1;for(var t=Iu(),e=wn(),r=et(),n=Vd(),i=lr(),s=e("Symbol"),a=s.isWellKnownSymbol,o=e("Object","getOwnPropertyNames"),l=r(s.prototype.valueOf),u=t("wks"),d=0,h=o(s),f=h.length;d<f;d++)try{var p=h[d];n(s[p])&&i(p)}catch{}return py=function(y){if(a&&a(y))return!0;try{for(var b=l(y),g=0,v=o(u),x=v.length;g<x;g++)if(u[v[g]]==b)return!0}catch{}return!1},py}var Bk;function yse(){if(Bk)return Fk;Bk=1;var t=Ce(),e=fK();return t({target:"Symbol",stat:!0,forced:!0},{isWellKnownSymbol:e}),Fk}var zk={},Uk;function bse(){if(Uk)return zk;Uk=1;var t=xt();return t("customMatcher"),zk}var Wk={},Hk;function wse(){if(Hk)return Wk;Hk=1;var t=xt();return t("observable"),Wk}var Vk={},Kk;function xse(){if(Kk)return Vk;Kk=1;var t=Ce(),e=hK();return t({target:"Symbol",stat:!0,name:"isRegisteredSymbol"},{isRegistered:e}),Vk}var Gk={},Yk;function _se(){if(Yk)return Gk;Yk=1;var t=Ce(),e=fK();return t({target:"Symbol",stat:!0,name:"isWellKnownSymbol",forced:!0},{isWellKnown:e}),Gk}var Qk={},Xk;function Sse(){if(Xk)return Qk;Xk=1;var t=xt();return t("matcher"),Qk}var Jk={},Zk;function Ese(){if(Zk)return Jk;Zk=1;var t=xt();return t("metadataKey"),Jk}var eD={},tD;function Ose(){if(tD)return eD;tD=1;var t=xt();return t("patternMatch"),eD}var rD={},nD;function Pse(){if(nD)return rD;nD=1;var t=xt();return t("replaceAll"),rD}var my,iD;function Cse(){if(iD)return my;iD=1;var t=vse();return gse(),yse(),bse(),wse(),xse(),_se(),Sse(),Ese(),Ose(),Pse(),my=t,my}var vy,sD;function Nse(){return sD||(sD=1,vy=Cse()),vy}var Tse=Nse(),Gh=De(Tse),aD={},gy,oD;function Ise(){if(oD)return gy;oD=1;var t=et(),e=ju(),r=ba(),n=jo(),i=t("".charAt),s=t("".charCodeAt),a=t("".slice),o=function(l){return function(u,d){var h=r(n(u)),f=e(d),p=h.length,m,y;return f<0||f>=p?l?"":void 0:(m=s(h,f),m<55296||m>56319||f+1===p||(y=s(h,f+1))<56320||y>57343?l?i(h,f):m:l?a(h,f,f+2):(m-55296<<10)+(y-56320)+65536)}};return gy={codeAt:o(!1),charAt:o(!0)},gy}var lD;function im(){if(lD)return aD;lD=1;var t=Ise().charAt,e=ba(),r=Xd(),n=ZC(),i=eN(),s="String Iterator",a=r.set,o=r.getterFor(s);return n(String,"String",function(l){a(this,{type:s,string:e(l),index:0})},function(){var u=o(this),d=u.string,h=u.index,f;return h>=d.length?i(void 0,!0):(f=t(d,h),u.index+=f.length,i(f,!1))}),aD}var yy,uD;function Rse(){if(uD)return yy;uD=1,wa(),im(),oK();var t=nm();return yy=t.f("iterator"),yy}var by,cD;function pK(){if(cD)return by;cD=1;var t=Rse();return xa(),by=t,by}var wy,dD;function jse(){if(dD)return wy;dD=1;var t=pK();return wy=t,wy}var xy,hD;function $se(){if(hD)return xy;hD=1;var t=jse();return xy=t,xy}var _y,fD;function kse(){return fD||(fD=1,_y=$se()),_y}var Dse=kse(),qse=De(Dse);function dd(t){"@babel/helpers - typeof";return dd=typeof Gh=="function"&&typeof qse=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Gh=="function"&&e.constructor===Gh&&e!==Gh.prototype?"symbol":typeof e},dd(t)}var Sy,pD;function Mse(){if(pD)return Sy;pD=1,lK();var t=nm();return Sy=t.f("toPrimitive"),Sy}var Ey,mD;function Ase(){if(mD)return Ey;mD=1;var t=Mse();return Ey=t,Ey}var Oy,vD;function Fse(){if(vD)return Oy;vD=1;var t=Ase();return Oy=t,Oy}var Py,gD;function Lse(){if(gD)return Py;gD=1;var t=Fse();return Py=t,Py}var Cy,yD;function Bse(){return yD||(yD=1,Cy=Lse()),Cy}var zse=Bse(),Use=De(zse);function Wse(t,e){if(dd(t)!="object"||!t)return t;var r=t[Use];if(r!==void 0){var n=r.call(t,e);if(dd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Hse(t){var e=Wse(t,"string");return dd(e)=="symbol"?e:e+""}function ta(t,e,r){return(e=Hse(e))in t?Rie(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var bD={},Ny,wD;function Vse(){if(wD)return Ny;wD=1;var t=et(),e=ms(),r=Ur(),n=or(),i=$u(),s=zd(),a=Function,o=t([].concat),l=t([].join),u={},d=function(h,f,p){if(!n(u,f)){for(var m=[],y=0;y<f;y++)m[y]="a["+y+"]";u[f]=a("C,a","return new C("+l(m,",")+")")}return u[f](h,p)};return Ny=s?a.bind:function(f){var p=e(this),m=p.prototype,y=i(arguments,1),b=function(){var v=o(y,i(arguments));return this instanceof b?d(p,v.length,v):p.apply(f,v)};return r(m)&&(b.prototype=m),b},Ny}var xD;function Kse(){if(xD)return bD;xD=1;var t=Ce(),e=Vse();return t({target:"Function",proto:!0,forced:Function.bind!==e},{bind:e}),bD}var Ty,_D;function on(){if(_D)return Ty;_D=1;var t=zt(),e=er();return Ty=function(r,n){var i=e[r+"Prototype"],s=i&&i[n];if(s)return s;var a=t[r],o=a&&a.prototype;return o&&o[n]},Ty}var Iy,SD;function Gse(){if(SD)return Iy;SD=1,Kse();var t=on();return Iy=t("Function","bind"),Iy}var Ry,ED;function Yse(){if(ED)return Ry;ED=1;var t=ar(),e=Gse(),r=Function.prototype;return Ry=function(n){var i=n.bind;return n===r||t(r,n)&&i===r.bind?e:i},Ry}var jy,OD;function Qse(){if(OD)return jy;OD=1;var t=Yse();return jy=t,jy}var $y,PD;function Xse(){return PD||(PD=1,$y=Qse()),$y}var Jse=Xse(),mK=De(Jse),CD={},ky,ND;function Zse(){if(ND)return ky;ND=1;var t=ms(),e=ui(),r=Gp(),n=ga(),i=TypeError,s="Reduce of empty array with no initial value",a=function(o){return function(l,u,d,h){var f=e(l),p=r(f),m=n(f);if(t(u),m===0&&d<2)throw new i(s);var y=o?m-1:0,b=o?-1:1;if(d<2)for(;;){if(y in p){h=p[y],y+=b;break}if(y+=b,o?y<0:m<=y)throw new i(s)}for(;o?y>=0:m>y;y+=b)y in p&&(h=u(h,p[y],y,f));return h}};return ky={left:a(!1),right:a(!0)},ky}var Dy,TD;function sm(){if(TD)return Dy;TD=1;var t=Ge();return Dy=function(e,r){var n=[][e];return!!n&&t(function(){n.call(null,r||function(){return 1},1)})},Dy}var qy,ID;function vK(){if(ID)return qy;ID=1;var t=zt(),e=Pu(),r=ps(),n=function(i){return e.slice(0,i.length)===i};return qy=function(){return n("Bun/")?"BUN":n("Cloudflare-Workers")?"CLOUDFLARE":n("Deno/")?"DENO":n("Node.js/")?"NODE":t.Bun&&typeof Bun.version=="string"?"BUN":t.Deno&&typeof Deno.version=="object"?"DENO":r(t.process)==="process"?"NODE":t.window&&t.document?"BROWSER":"REST"}(),qy}var My,RD;function eae(){if(RD)return My;RD=1;var t=vK();return My=t==="NODE",My}var jD;function tae(){if(jD)return CD;jD=1;var t=Ce(),e=Zse().left,r=sm(),n=Hd(),i=eae(),s=!i&&n>79&&n<83,a=s||!r("reduce");return t({target:"Array",proto:!0,forced:a},{reduce:function(l){var u=arguments.length;return e(this,l,u,u>1?arguments[1]:void 0)}}),CD}var Ay,$D;function rae(){if($D)return Ay;$D=1,tae();var t=on();return Ay=t("Array","reduce"),Ay}var Fy,kD;function nae(){if(kD)return Fy;kD=1;var t=ar(),e=rae(),r=Array.prototype;return Fy=function(n){var i=n.reduce;return n===r||t(r,n)&&i===r.reduce?e:i},Fy}var Ly,DD;function iae(){if(DD)return Ly;DD=1;var t=nae();return Ly=t,Ly}var By,qD;function sae(){return qD||(qD=1,By=iae()),By}var aae=sae(),oae=De(aae),MD={},AD;function lae(){if(AD)return MD;AD=1;var t=Ce(),e=ku().filter,r=Kd(),n=r("filter");return t({target:"Array",proto:!0,forced:!n},{filter:function(s){return e(this,s,arguments.length>1?arguments[1]:void 0)}}),MD}var zy,FD;function uae(){if(FD)return zy;FD=1,lae();var t=on();return zy=t("Array","filter"),zy}var Uy,LD;function cae(){if(LD)return Uy;LD=1;var t=ar(),e=uae(),r=Array.prototype;return Uy=function(n){var i=n.filter;return n===r||t(r,n)&&i===r.filter?e:i},Uy}var Wy,BD;function dae(){if(BD)return Wy;BD=1;var t=cae();return Wy=t,Wy}var Hy,zD;function hae(){return zD||(zD=1,Hy=dae()),Hy}var fae=hae(),bl=De(fae),UD={},WD;function pae(){if(WD)return UD;WD=1;var t=Ce(),e=ku().map,r=Kd(),n=r("map");return t({target:"Array",proto:!0,forced:!n},{map:function(s){return e(this,s,arguments.length>1?arguments[1]:void 0)}}),UD}var Vy,HD;function mae(){if(HD)return Vy;HD=1,pae();var t=on();return Vy=t("Array","map"),Vy}var Ky,VD;function vae(){if(VD)return Ky;VD=1;var t=ar(),e=mae(),r=Array.prototype;return Ky=function(n){var i=n.map;return n===r||t(r,n)&&i===r.map?e:i},Ky}var Gy,KD;function gae(){if(KD)return Gy;KD=1;var t=vae();return Gy=t,Gy}var Yy,GD;function yae(){return GD||(GD=1,Yy=gae()),Yy}var bae=yae(),Jn=De(bae),Qy,YD;function wae(){return YD||(YD=1,Qy=dK()),Qy}var xae=wae(),_ae=De(xae),QD={},XD;function Sae(){if(XD)return QD;XD=1;var t=Ce(),e=$o(),r=XV(),n=Ur(),i=YC(),s=ga(),a=Ti(),o=Jp(),l=lr(),u=Kd(),d=$u(),h=u("slice"),f=l("species"),p=Array,m=Math.max;return t({target:"Array",proto:!0,forced:!h},{slice:function(b,g){var v=a(this),x=s(v),w=i(b,x),_=i(g===void 0?x:g,x),E,O,S;if(e(v)&&(E=v.constructor,r(E)&&(E===p||e(E.prototype))?E=void 0:n(E)&&(E=E[f],E===null&&(E=void 0)),E===p||E===void 0))return d(v,w,_);for(O=new(E===void 0?p:E)(m(_-w,0)),S=0;w<_;w++,S++)w in v&&o(O,S,v[w]);return O.length=S,O}}),QD}var Xy,JD;function Eae(){if(JD)return Xy;JD=1,Sae();var t=on();return Xy=t("Array","slice"),Xy}var Jy,ZD;function Oae(){if(ZD)return Jy;ZD=1;var t=ar(),e=Eae(),r=Array.prototype;return Jy=function(n){var i=n.slice;return n===r||t(r,n)&&i===r.slice?e:i},Jy}var Zy,eq;function Pae(){if(eq)return Zy;eq=1;var t=Oae();return Zy=t,Zy}var eb,tq;function Cae(){return tq||(tq=1,eb=Pae()),eb}var Nae=Cae(),Tae=De(Nae),rq={},tb,nq;function gK(){if(nq)return tb;nq=1;var t=wn(),e=et(),r=tm(),n=rm(),i=vs(),s=e([].concat);return tb=t("Reflect","ownKeys")||function(o){var l=r.f(i(o)),u=n.f;return u?s(l,u(o)):l},tb}var iq;function Iae(){if(iq)return rq;iq=1;var t=Ce(),e=gK();return t({target:"Reflect",stat:!0},{ownKeys:e}),rq}var rb,sq;function Rae(){if(sq)return rb;sq=1,Iae();var t=er();return rb=t.Reflect.ownKeys,rb}var nb,aq;function jae(){if(aq)return nb;aq=1;var t=Rae();return nb=t,nb}var ib,oq;function $ae(){return oq||(oq=1,ib=jae()),ib}var kae=$ae(),Dae=De(kae),lq={},uq;function qae(){if(uq)return lq;uq=1;var t=Ce(),e=$o();return t({target:"Array",stat:!0},{isArray:e}),lq}var sb,cq;function Mae(){if(cq)return sb;cq=1,qae();var t=er();return sb=t.Array.isArray,sb}var ab,dq;function Aae(){if(dq)return ab;dq=1;var t=Mae();return ab=t,ab}var ob,hq;function Fae(){return hq||(hq=1,ob=Aae()),ob}var Lae=Fae(),mi=De(Lae),fq={},pq;function Bae(){if(pq)return fq;pq=1;var t=Ce(),e=ui(),r=Zp(),n=Ge(),i=n(function(){r(1)});return t({target:"Object",stat:!0,forced:i},{keys:function(a){return r(e(a))}}),fq}var lb,mq;function zae(){if(mq)return lb;mq=1,Bae();var t=er();return lb=t.Object.keys,lb}var ub,vq;function Uae(){if(vq)return ub;vq=1;var t=zae();return ub=t,ub}var cb,gq;function Wae(){return gq||(gq=1,cb=Uae()),cb}var Hae=Wae(),tN=De(Hae),yq={},db,bq;function Vae(){if(bq)return db;bq=1;var t=ku().forEach,e=sm(),r=e("forEach");return db=r?[].forEach:function(i){return t(this,i,arguments.length>1?arguments[1]:void 0)},db}var wq;function Kae(){if(wq)return yq;wq=1;var t=Ce(),e=Vae();return t({target:"Array",proto:!0,forced:[].forEach!==e},{forEach:e}),yq}var hb,xq;function Gae(){if(xq)return hb;xq=1,Kae();var t=on();return hb=t("Array","forEach"),hb}var fb,_q;function Yae(){if(_q)return fb;_q=1;var t=Gae();return fb=t,fb}var pb,Sq;function Qae(){if(Sq)return pb;Sq=1;var t=ya(),e=or(),r=ar(),n=Yae(),i=Array.prototype,s={DOMTokenList:!0,NodeList:!0};return pb=function(a){var o=a.forEach;return a===i||r(i,a)&&o===i.forEach||e(s,t(a))?n:o},pb}var mb,Eq;function Xae(){return Eq||(Eq=1,mb=Qae()),mb}var Jae=Xae(),xo=De(Jae),Oq={},Pq;function Zae(){if(Pq)return Oq;Pq=1;var t=Ce(),e=et(),r=$o(),n=e([].reverse),i=[1,2];return t({target:"Array",proto:!0,forced:String(i)===String(i.reverse())},{reverse:function(){return r(this)&&(this.length=this.length),n(this)}}),Oq}var vb,Cq;function eoe(){if(Cq)return vb;Cq=1,Zae();var t=on();return vb=t("Array","reverse"),vb}var gb,Nq;function toe(){if(Nq)return gb;Nq=1;var t=ar(),e=eoe(),r=Array.prototype;return gb=function(n){var i=n.reverse;return n===r||t(r,n)&&i===r.reverse?e:i},gb}var yb,Tq;function roe(){if(Tq)return yb;Tq=1;var t=toe();return yb=t,yb}var bb,Iq;function noe(){return Iq||(Iq=1,bb=roe()),bb}var ioe=noe(),soe=De(ioe),Rq={},wb,jq;function aoe(){if(jq)return wb;jq=1;var t=Ut(),e=$o(),r=TypeError,n=Object.getOwnPropertyDescriptor,i=t&&!function(){if(this!==void 0)return!0;try{Object.defineProperty([],"length",{writable:!1}).length=1}catch(s){return s instanceof TypeError}}();return wb=i?function(s,a){if(e(s)&&!n(s,"length").writable)throw new r("Cannot set read only .length");return s.length=a}:function(s,a){return s.length=a},wb}var xb,$q;function yK(){if($q)return xb;$q=1;var t=Nu(),e=TypeError;return xb=function(r,n){if(!delete r[n])throw new e("Cannot delete property "+t(n)+" of "+t(r))},xb}var kq;function ooe(){if(kq)return Rq;kq=1;var t=Ce(),e=ui(),r=YC(),n=ju(),i=ga(),s=aoe(),a=QV(),o=GC(),l=Jp(),u=yK(),d=Kd(),h=d("splice"),f=Math.max,p=Math.min;return t({target:"Array",proto:!0,forced:!h},{splice:function(y,b){var g=e(this),v=i(g),x=r(y,v),w=arguments.length,_,E,O,S,P,C;for(w===0?_=E=0:w===1?(_=0,E=v-x):(_=w-2,E=p(f(n(b),0),v-x)),a(v+_-E),O=o(g,E),S=0;S<E;S++)P=x+S,P in g&&l(O,S,g[P]);if(O.length=E,_<E){for(S=x;S<v-E;S++)P=S+E,C=S+_,P in g?g[C]=g[P]:u(g,C);for(S=v;S>v-E+_;S--)u(g,S-1)}else if(_>E)for(S=v-E;S>x;S--)P=S+E-1,C=S+_-1,P in g?g[C]=g[P]:u(g,C);for(S=0;S<_;S++)g[S+x]=arguments[S+2];return s(g,v-E+_),O}}),Rq}var _b,Dq;function loe(){if(Dq)return _b;Dq=1,ooe();var t=on();return _b=t("Array","splice"),_b}var Sb,qq;function uoe(){if(qq)return Sb;qq=1;var t=ar(),e=loe(),r=Array.prototype;return Sb=function(n){var i=n.splice;return n===r||t(r,n)&&i===r.splice?e:i},Sb}var Eb,Mq;function coe(){if(Mq)return Eb;Mq=1;var t=uoe();return Eb=t,Eb}var Ob,Aq;function doe(){return Aq||(Aq=1,Ob=coe()),Ob}var hoe=doe(),bK=De(hoe),Fq={},Pb,Lq;function foe(){if(Lq)return Pb;Lq=1;var t=Ut(),e=et(),r=an(),n=Ge(),i=Zp(),s=rm(),a=UC(),o=ui(),l=Gp(),u=Object.assign,d=Object.defineProperty,h=e([].concat);return Pb=!u||n(function(){if(t&&u({b:1},u(d({},"a",{enumerable:!0,get:function(){d(this,"b",{value:3,enumerable:!1})}}),{b:2})).b!==1)return!0;var f={},p={},m=Symbol("assign detection"),y="abcdefghijklmnopqrst";return f[m]=7,y.split("").forEach(function(b){p[b]=b}),u({},f)[m]!==7||i(u({},p)).join("")!==y})?function(p,m){for(var y=o(p),b=arguments.length,g=1,v=s.f,x=a.f;b>g;)for(var w=l(arguments[g++]),_=v?h(i(w),v(w)):i(w),E=_.length,O=0,S;E>O;)S=_[O++],(!t||r(x,w,S))&&(y[S]=w[S]);return y}:u,Pb}var Bq;function poe(){if(Bq)return Fq;Bq=1;var t=Ce(),e=foe();return t({target:"Object",stat:!0,arity:2,forced:Object.assign!==e},{assign:e}),Fq}var Cb,zq;function moe(){if(zq)return Cb;zq=1,poe();var t=er();return Cb=t.Object.assign,Cb}var Nb,Uq;function voe(){if(Uq)return Nb;Uq=1;var t=moe();return Nb=t,Nb}var Tb,Wq;function goe(){return Wq||(Wq=1,Tb=voe()),Tb}var yoe=goe(),boe=De(yoe),Ib,Hq;function woe(){if(Hq)return Ib;Hq=1,JV();var t=on();return Ib=t("Array","concat"),Ib}var Rb,Vq;function xoe(){if(Vq)return Rb;Vq=1;var t=ar(),e=woe(),r=Array.prototype;return Rb=function(n){var i=n.concat;return n===r||t(r,n)&&i===r.concat?e:i},Rb}var jb,Kq;function _oe(){if(Kq)return jb;Kq=1;var t=xoe();return jb=t,jb}var $b,Gq;function Soe(){return Gq||(Gq=1,$b=_oe()),$b}var Eoe=Soe(),Ooe=De(Eoe),Yq={},Qq;function Poe(){if(Qq)return Yq;Qq=1;var t=Ce(),e=Ut(),r=Yd();return t({target:"Object",stat:!0,sham:!e},{create:r}),Yq}var kb,Xq;function Coe(){if(Xq)return kb;Xq=1,Poe();var t=er(),e=t.Object;return kb=function(n,i){return e.create(n,i)},kb}var Db,Jq;function Noe(){if(Jq)return Db;Jq=1;var t=Coe();return Db=t,Db}var qb,Zq;function Toe(){return Zq||(Zq=1,qb=Noe()),qb}var Ioe=Toe(),Roe=De(Ioe),eM={},Mb,tM;function joe(){if(tM)return Mb;tM=1;var t=ju(),e=ba(),r=jo(),n=RangeError;return Mb=function(s){var a=e(r(this)),o="",l=t(s);if(l<0||l===1/0)throw new n("Wrong number of repetitions");for(;l>0;(l>>>=1)&&(a+=a))l&1&&(o+=a);return o},Mb}var Ab,rM;function $oe(){if(rM)return Ab;rM=1;var t=et(),e=YV(),r=ba(),n=joe(),i=jo(),s=t(n),a=t("".slice),o=Math.ceil,l=function(u){return function(d,h,f){var p=r(i(d)),m=e(h),y=p.length,b=f===void 0?" ":r(f),g,v;return m<=y||b===""?p:(g=m-y,v=s(b,o(g/b.length)),v.length>g&&(v=a(v,0,g)),u?p+v:v+p)}};return Ab={start:l(!1),end:l(!0)},Ab}var Fb,nM;function koe(){if(nM)return Fb;nM=1;var t=et(),e=Ge(),r=$oe().start,n=RangeError,i=isFinite,s=Math.abs,a=Date.prototype,o=a.toISOString,l=t(a.getTime),u=t(a.getUTCDate),d=t(a.getUTCFullYear),h=t(a.getUTCHours),f=t(a.getUTCMilliseconds),p=t(a.getUTCMinutes),m=t(a.getUTCMonth),y=t(a.getUTCSeconds);return Fb=e(function(){return o.call(new Date(-5e13-1))!=="0385-07-25T07:06:39.999Z"})||!e(function(){o.call(new Date(NaN))})?function(){if(!i(l(this)))throw new n("Invalid time value");var g=this,v=d(g),x=f(g),w=v<0?"-":v>9999?"+":"";return w+r(s(v),w?6:4,0)+"-"+r(m(g)+1,2,0)+"-"+r(u(g),2,0)+"T"+r(h(g),2,0)+":"+r(p(g),2,0)+":"+r(y(g),2,0)+"."+r(x,3,0)+"Z"}:o,Fb}var iM;function Doe(){if(iM)return eM;iM=1;var t=Ce(),e=an(),r=ui(),n=WV(),i=koe(),s=ps(),a=Ge(),o=a(function(){return new Date(NaN).toJSON()!==null||e(Date.prototype.toJSON,{toISOString:function(){return 1}})!==1});return t({target:"Date",proto:!0,forced:o},{toJSON:function(u){var d=r(this),h=n(d,"number");return typeof h=="number"&&!isFinite(h)?null:!("toISOString"in d)&&s(d)==="Date"?e(i,d):d.toISOString()}}),eM}var Lb,sM;function qoe(){if(sM)return Lb;sM=1,Doe(),nK();var t=er(),e=Kp();return t.JSON||(t.JSON={stringify:JSON.stringify}),Lb=function(n,i,s){return e(t.JSON.stringify,null,arguments)},Lb}var Bb,aM;function Moe(){if(aM)return Bb;aM=1;var t=qoe();return Bb=t,Bb}var zb,oM;function Aoe(){return oM||(oM=1,zb=Moe()),zb}var Foe=Aoe(),Loe=De(Foe),lM={},uM={},Ub,cM;function Boe(){if(cM)return Ub;cM=1;var t=TypeError;return Ub=function(e,r){if(e<r)throw new t("Not enough arguments");return e},Ub}var Wb,dM;function wK(){if(dM)return Wb;dM=1;var t=zt(),e=Kp(),r=sr(),n=vK(),i=Pu(),s=$u(),a=Boe(),o=t.Function,l=/MSIE .\./.test(i)||n==="BUN"&&function(){var u=t.Bun.version.split(".");return u.length<3||u[0]==="0"&&(u[1]<3||u[1]==="3"&&u[2]==="0")}();return Wb=function(u,d){var h=d?2:1;return l?function(f,p){var m=a(arguments.length,1)>h,y=r(f)?f:o(f),b=m?s(arguments,h):[],g=m?function(){e(y,this,b)}:y;return d?u(g,p):u(g)}:u},Wb}var hM;function zoe(){if(hM)return uM;hM=1;var t=Ce(),e=zt(),r=wK(),n=r(e.setInterval,!0);return t({global:!0,bind:!0,forced:e.setInterval!==n},{setInterval:n}),uM}var fM={},pM;function Uoe(){if(pM)return fM;pM=1;var t=Ce(),e=zt(),r=wK(),n=r(e.setTimeout,!0);return t({global:!0,bind:!0,forced:e.setTimeout!==n},{setTimeout:n}),fM}var mM;function Woe(){return mM||(mM=1,zoe(),Uoe()),lM}var Hb,vM;function Hoe(){if(vM)return Hb;vM=1,Woe();var t=er();return Hb=t.setTimeout,Hb}var Vb,gM;function Voe(){return gM||(gM=1,Vb=Hoe()),Vb}var Koe=Voe(),Goe=De(Koe),Kb={exports:{}},yM;function Yoe(){return yM||(yM=1,function(t){function e(n){if(n)return r(n);this._callbacks=new Map}function r(n){return Object.assign(n,e.prototype),n._callbacks=new Map,n}e.prototype.on=function(n,i){const s=this._callbacks.get(n)??[];return s.push(i),this._callbacks.set(n,s),this},e.prototype.once=function(n,i){const s=(...a)=>{this.off(n,s),i.apply(this,a)};return s.fn=i,this.on(n,s),this},e.prototype.off=function(n,i){if(n===void 0&&i===void 0)return this._callbacks.clear(),this;if(i===void 0)return this._callbacks.delete(n),this;const s=this._callbacks.get(n);if(s){for(const[a,o]of s.entries())if(o===i||o.fn===i){s.splice(a,1);break}s.length===0?this._callbacks.delete(n):this._callbacks.set(n,s)}return this},e.prototype.emit=function(n,...i){const s=this._callbacks.get(n);if(s){const a=[...s];for(const o of a)o.apply(this,i)}return this},e.prototype.listeners=function(n){return this._callbacks.get(n)??[]},e.prototype.listenerCount=function(n){if(n)return this.listeners(n).length;let i=0;for(const s of this._callbacks.values())i+=s.length;return i},e.prototype.hasListeners=function(n){return this.listenerCount(n)>0},e.prototype.addEventListener=e.prototype.on,e.prototype.removeListener=e.prototype.off,e.prototype.removeEventListener=e.prototype.off,e.prototype.removeAllListeners=e.prototype.off,t.exports=e}(Kb)),Kb.exports}var Qoe=Yoe(),Xoe=De(Qoe);/*! Hammer.JS - v2.0.17-rc - 2019-12-16
 * http://naver.github.io/egjs
 *
 * Forked By Naver egjs
 * Copyright (c) hammerjs
 * Licensed under the MIT license */function ai(){return ai=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},ai.apply(this,arguments)}function Ln(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}function Yh(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}var lP;typeof Object.assign!="function"?lP=function(e){if(e==null)throw new TypeError("Cannot convert undefined or null to object");for(var r=Object(e),n=1;n<arguments.length;n++){var i=arguments[n];if(i!=null)for(var s in i)i.hasOwnProperty(s)&&(r[s]=i[s])}return r}:lP=Object.assign;var _o=lP,bM=["","webkit","Moz","MS","ms","o"],Joe=typeof document>"u"?{style:{}}:document.createElement("div"),Zoe="function",wl=Math.round,So=Math.abs,rN=Date.now;function am(t,e){for(var r,n,i=e[0].toUpperCase()+e.slice(1),s=0;s<bM.length;){if(r=bM[s],n=r?r+i:e,n in t)return n;s++}}var Yi;typeof window>"u"?Yi={}:Yi=window;var xK=am(Joe.style,"touchAction"),_K=xK!==void 0;function ele(){if(!_K)return!1;var t={},e=Yi.CSS&&Yi.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach(function(r){return t[r]=e?Yi.CSS.supports("touch-action",r):!0}),t}var SK="compute",EK="auto",uP="manipulation",to="none",hd="pan-x",fd="pan-y",Qh=ele(),tle=/mobile|tablet|ip(ad|hone|od)|android/i,OK="ontouchstart"in Yi,rle=am(Yi,"PointerEvent")!==void 0,nle=OK&&tle.test(navigator.userAgent),Jd="touch",ile="pen",nN="mouse",sle="kinect",ale=25,Fr=1,Do=2,Ft=4,rn=8,ap=1,Zd=2,eh=4,th=8,lu=16,Ci=Zd|eh,ro=th|lu,PK=Ci|ro,CK=["x","y"],op=["clientX","clientY"];function Qi(t,e,r){var n;if(t)if(t.forEach)t.forEach(e,r);else if(t.length!==void 0)for(n=0;n<t.length;)e.call(r,t[n],n,t),n++;else for(n in t)t.hasOwnProperty(n)&&e.call(r,t[n],n,t)}function om(t,e){return typeof t===Zoe?t.apply(e&&e[0]||void 0,e):t}function Aa(t,e){return t.indexOf(e)>-1}function ole(t){if(Aa(t,to))return to;var e=Aa(t,hd),r=Aa(t,fd);return e&&r?to:e||r?e?hd:fd:Aa(t,uP)?uP:EK}var NK=function(){function t(r,n){this.manager=r,this.set(n)}var e=t.prototype;return e.set=function(n){n===SK&&(n=this.compute()),_K&&this.manager.element.style&&Qh[n]&&(this.manager.element.style[xK]=n),this.actions=n.toLowerCase().trim()},e.update=function(){this.set(this.manager.options.touchAction)},e.compute=function(){var n=[];return Qi(this.manager.recognizers,function(i){om(i.options.enable,[i])&&(n=n.concat(i.getTouchAction()))}),ole(n.join(" "))},e.preventDefaults=function(n){var i=n.srcEvent,s=n.offsetDirection;if(this.manager.session.prevented){i.preventDefault();return}var a=this.actions,o=Aa(a,to)&&!Qh[to],l=Aa(a,fd)&&!Qh[fd],u=Aa(a,hd)&&!Qh[hd];if(o){var d=n.pointers.length===1,h=n.distance<2,f=n.deltaTime<250;if(d&&h&&f)return}if(!(u&&l)&&(o||l&&s&Ci||u&&s&ro))return this.preventSrc(i)},e.preventSrc=function(n){this.manager.session.prevented=!0,n.preventDefault()},t}();function iN(t,e){for(;t;){if(t===e)return!0;t=t.parentNode}return!1}function TK(t){var e=t.length;if(e===1)return{x:wl(t[0].clientX),y:wl(t[0].clientY)};for(var r=0,n=0,i=0;i<e;)r+=t[i].clientX,n+=t[i].clientY,i++;return{x:wl(r/e),y:wl(n/e)}}function wM(t){for(var e=[],r=0;r<t.pointers.length;)e[r]={clientX:wl(t.pointers[r].clientX),clientY:wl(t.pointers[r].clientY)},r++;return{timeStamp:rN(),pointers:e,center:TK(e),deltaX:t.deltaX,deltaY:t.deltaY}}function lp(t,e,r){r||(r=CK);var n=e[r[0]]-t[r[0]],i=e[r[1]]-t[r[1]];return Math.sqrt(n*n+i*i)}function cP(t,e,r){r||(r=CK);var n=e[r[0]]-t[r[0]],i=e[r[1]]-t[r[1]];return Math.atan2(i,n)*180/Math.PI}function IK(t,e){return t===e?ap:So(t)>=So(e)?t<0?Zd:eh:e<0?th:lu}function lle(t,e){var r=e.center,n=t.offsetDelta||{},i=t.prevDelta||{},s=t.prevInput||{};(e.eventType===Fr||s.eventType===Ft)&&(i=t.prevDelta={x:s.deltaX||0,y:s.deltaY||0},n=t.offsetDelta={x:r.x,y:r.y}),e.deltaX=i.x+(r.x-n.x),e.deltaY=i.y+(r.y-n.y)}function RK(t,e,r){return{x:e/t||0,y:r/t||0}}function ule(t,e){return lp(e[0],e[1],op)/lp(t[0],t[1],op)}function cle(t,e){return cP(e[1],e[0],op)+cP(t[1],t[0],op)}function dle(t,e){var r=t.lastInterval||e,n=e.timeStamp-r.timeStamp,i,s,a,o;if(e.eventType!==rn&&(n>ale||r.velocity===void 0)){var l=e.deltaX-r.deltaX,u=e.deltaY-r.deltaY,d=RK(n,l,u);s=d.x,a=d.y,i=So(d.x)>So(d.y)?d.x:d.y,o=IK(l,u),t.lastInterval=e}else i=r.velocity,s=r.velocityX,a=r.velocityY,o=r.direction;e.velocity=i,e.velocityX=s,e.velocityY=a,e.direction=o}function hle(t,e){var r=t.session,n=e.pointers,i=n.length;r.firstInput||(r.firstInput=wM(e)),i>1&&!r.firstMultiple?r.firstMultiple=wM(e):i===1&&(r.firstMultiple=!1);var s=r.firstInput,a=r.firstMultiple,o=a?a.center:s.center,l=e.center=TK(n);e.timeStamp=rN(),e.deltaTime=e.timeStamp-s.timeStamp,e.angle=cP(o,l),e.distance=lp(o,l),lle(r,e),e.offsetDirection=IK(e.deltaX,e.deltaY);var u=RK(e.deltaTime,e.deltaX,e.deltaY);e.overallVelocityX=u.x,e.overallVelocityY=u.y,e.overallVelocity=So(u.x)>So(u.y)?u.x:u.y,e.scale=a?ule(a.pointers,n):1,e.rotation=a?cle(a.pointers,n):0,e.maxPointers=r.prevInput?e.pointers.length>r.prevInput.maxPointers?e.pointers.length:r.prevInput.maxPointers:e.pointers.length,dle(r,e);var d=t.element,h=e.srcEvent,f;h.composedPath?f=h.composedPath()[0]:h.path?f=h.path[0]:f=h.target,iN(f,d)&&(d=f),e.target=d}function fle(t,e,r){var n=r.pointers.length,i=r.changedPointers.length,s=e&Fr&&n-i===0,a=e&(Ft|rn)&&n-i===0;r.isFirst=!!s,r.isFinal=!!a,s&&(t.session={}),r.eventType=e,hle(t,r),t.emit("hammer.input",r),t.recognize(r),t.session.prevInput=r}function pd(t){return t.trim().split(/\s+/g)}function Dc(t,e,r){Qi(pd(e),function(n){t.addEventListener(n,r,!1)})}function qc(t,e,r){Qi(pd(e),function(n){t.removeEventListener(n,r,!1)})}function xM(t){var e=t.ownerDocument||t;return e.defaultView||e.parentWindow||window}var qu=function(){function t(r,n){var i=this;this.manager=r,this.callback=n,this.element=r.element,this.target=r.options.inputTarget,this.domHandler=function(s){om(r.options.enable,[r])&&i.handler(s)},this.init()}var e=t.prototype;return e.handler=function(){},e.init=function(){this.evEl&&Dc(this.element,this.evEl,this.domHandler),this.evTarget&&Dc(this.target,this.evTarget,this.domHandler),this.evWin&&Dc(xM(this.element),this.evWin,this.domHandler)},e.destroy=function(){this.evEl&&qc(this.element,this.evEl,this.domHandler),this.evTarget&&qc(this.target,this.evTarget,this.domHandler),this.evWin&&qc(xM(this.element),this.evWin,this.domHandler)},t}();function Eo(t,e,r){if(t.indexOf&&!r)return t.indexOf(e);for(var n=0;n<t.length;){if(r&&t[n][r]==e||!r&&t[n]===e)return n;n++}return-1}var ple={pointerdown:Fr,pointermove:Do,pointerup:Ft,pointercancel:rn,pointerout:rn},mle={2:Jd,3:ile,4:nN,5:sle},jK="pointerdown",$K="pointermove pointerup pointercancel";Yi.MSPointerEvent&&!Yi.PointerEvent&&(jK="MSPointerDown",$K="MSPointerMove MSPointerUp MSPointerCancel");var kK=function(t){Ln(e,t);function e(){var n,i=e.prototype;return i.evEl=jK,i.evWin=$K,n=t.apply(this,arguments)||this,n.store=n.manager.session.pointerEvents=[],n}var r=e.prototype;return r.handler=function(i){var s=this.store,a=!1,o=i.type.toLowerCase().replace("ms",""),l=ple[o],u=mle[i.pointerType]||i.pointerType,d=u===Jd,h=Eo(s,i.pointerId,"pointerId");l&Fr&&(i.button===0||d)?h<0&&(s.push(i),h=s.length-1):l&(Ft|rn)&&(a=!0),!(h<0)&&(s[h]=i,this.callback(this.manager,l,{pointers:s,changedPointers:[i],pointerType:u,srcEvent:i}),a&&s.splice(h,1))},e}(qu);function md(t){return Array.prototype.slice.call(t,0)}function sN(t,e,r){for(var n=[],i=[],s=0;s<t.length;){var a=e?t[s][e]:t[s];Eo(i,a)<0&&n.push(t[s]),i[s]=a,s++}return r&&(e?n=n.sort(function(o,l){return o[e]>l[e]}):n=n.sort()),n}var vle={touchstart:Fr,touchmove:Do,touchend:Ft,touchcancel:rn},gle="touchstart touchmove touchend touchcancel",aN=function(t){Ln(e,t);function e(){var n;return e.prototype.evTarget=gle,n=t.apply(this,arguments)||this,n.targetIds={},n}var r=e.prototype;return r.handler=function(i){var s=vle[i.type],a=yle.call(this,i,s);a&&this.callback(this.manager,s,{pointers:a[0],changedPointers:a[1],pointerType:Jd,srcEvent:i})},e}(qu);function yle(t,e){var r=md(t.touches),n=this.targetIds;if(e&(Fr|Do)&&r.length===1)return n[r[0].identifier]=!0,[r,r];var i,s,a=md(t.changedTouches),o=[],l=this.target;if(s=r.filter(function(u){return iN(u.target,l)}),e===Fr)for(i=0;i<s.length;)n[s[i].identifier]=!0,i++;for(i=0;i<a.length;)n[a[i].identifier]&&o.push(a[i]),e&(Ft|rn)&&delete n[a[i].identifier],i++;if(o.length)return[sN(s.concat(o),"identifier",!0),o]}var ble={mousedown:Fr,mousemove:Do,mouseup:Ft},wle="mousedown",xle="mousemove mouseup",oN=function(t){Ln(e,t);function e(){var n,i=e.prototype;return i.evEl=wle,i.evWin=xle,n=t.apply(this,arguments)||this,n.pressed=!1,n}var r=e.prototype;return r.handler=function(i){var s=ble[i.type];s&Fr&&i.button===0&&(this.pressed=!0),s&Do&&i.which!==1&&(s=Ft),this.pressed&&(s&Ft&&(this.pressed=!1),this.callback(this.manager,s,{pointers:[i],changedPointers:[i],pointerType:nN,srcEvent:i}))},e}(qu),_le=2500,_M=25;function SM(t){var e=t.changedPointers,r=e[0];if(r.identifier===this.primaryTouch){var n={x:r.clientX,y:r.clientY},i=this.lastTouches;this.lastTouches.push(n);var s=function(){var o=i.indexOf(n);o>-1&&i.splice(o,1)};setTimeout(s,_le)}}function Sle(t,e){t&Fr?(this.primaryTouch=e.changedPointers[0].identifier,SM.call(this,e)):t&(Ft|rn)&&SM.call(this,e)}function Ele(t){for(var e=t.srcEvent.clientX,r=t.srcEvent.clientY,n=0;n<this.lastTouches.length;n++){var i=this.lastTouches[n],s=Math.abs(e-i.x),a=Math.abs(r-i.y);if(s<=_M&&a<=_M)return!0}return!1}var DK=function(){var t=function(e){Ln(r,e);function r(i,s){var a;return a=e.call(this,i,s)||this,a.handler=function(o,l,u){var d=u.pointerType===Jd,h=u.pointerType===nN;if(!(h&&u.sourceCapabilities&&u.sourceCapabilities.firesTouchEvents)){if(d)Sle.call(Yh(Yh(a)),l,u);else if(h&&Ele.call(Yh(Yh(a)),u))return;a.callback(o,l,u)}},a.touch=new aN(a.manager,a.handler),a.mouse=new oN(a.manager,a.handler),a.primaryTouch=null,a.lastTouches=[],a}var n=r.prototype;return n.destroy=function(){this.touch.destroy(),this.mouse.destroy()},r}(qu);return t}();function Ole(t){var e,r=t.options.inputClass;return r?e=r:rle?e=kK:nle?e=aN:OK?e=DK:e=oN,new e(t,fle)}function xl(t,e,r){return Array.isArray(t)?(Qi(t,r[e],r),!0):!1}var xf=1,kn=2,uu=4,ra=8,Xi=ra,vd=16,_i=32,Ple=1;function Cle(){return Ple++}function Xh(t,e){var r=e.manager;return r?r.get(t):t}function EM(t){return t&vd?"cancel":t&ra?"end":t&uu?"move":t&kn?"start":""}var rh=function(){function t(r){r===void 0&&(r={}),this.options=ai({enable:!0},r),this.id=Cle(),this.manager=null,this.state=xf,this.simultaneous={},this.requireFail=[]}var e=t.prototype;return e.set=function(n){return _o(this.options,n),this.manager&&this.manager.touchAction.update(),this},e.recognizeWith=function(n){if(xl(n,"recognizeWith",this))return this;var i=this.simultaneous;return n=Xh(n,this),i[n.id]||(i[n.id]=n,n.recognizeWith(this)),this},e.dropRecognizeWith=function(n){return xl(n,"dropRecognizeWith",this)?this:(n=Xh(n,this),delete this.simultaneous[n.id],this)},e.requireFailure=function(n){if(xl(n,"requireFailure",this))return this;var i=this.requireFail;return n=Xh(n,this),Eo(i,n)===-1&&(i.push(n),n.requireFailure(this)),this},e.dropRequireFailure=function(n){if(xl(n,"dropRequireFailure",this))return this;n=Xh(n,this);var i=Eo(this.requireFail,n);return i>-1&&this.requireFail.splice(i,1),this},e.hasRequireFailures=function(){return this.requireFail.length>0},e.canRecognizeWith=function(n){return!!this.simultaneous[n.id]},e.emit=function(n){var i=this,s=this.state;function a(o){i.manager.emit(o,n)}s<ra&&a(i.options.event+EM(s)),a(i.options.event),n.additionalEvent&&a(n.additionalEvent),s>=ra&&a(i.options.event+EM(s))},e.tryEmit=function(n){if(this.canEmit())return this.emit(n);this.state=_i},e.canEmit=function(){for(var n=0;n<this.requireFail.length;){if(!(this.requireFail[n].state&(_i|xf)))return!1;n++}return!0},e.recognize=function(n){var i=_o({},n);if(!om(this.options.enable,[this,i])){this.reset(),this.state=_i;return}this.state&(Xi|vd|_i)&&(this.state=xf),this.state=this.process(i),this.state&(kn|uu|ra|vd)&&this.tryEmit(i)},e.process=function(n){},e.getTouchAction=function(){},e.reset=function(){},t}(),dP=function(t){Ln(e,t);function e(n){var i;return n===void 0&&(n={}),i=t.call(this,ai({event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},n))||this,i.pTime=!1,i.pCenter=!1,i._timer=null,i._input=null,i.count=0,i}var r=e.prototype;return r.getTouchAction=function(){return[uP]},r.process=function(i){var s=this,a=this.options,o=i.pointers.length===a.pointers,l=i.distance<a.threshold,u=i.deltaTime<a.time;if(this.reset(),i.eventType&Fr&&this.count===0)return this.failTimeout();if(l&&u&&o){if(i.eventType!==Ft)return this.failTimeout();var d=this.pTime?i.timeStamp-this.pTime<a.interval:!0,h=!this.pCenter||lp(this.pCenter,i.center)<a.posThreshold;this.pTime=i.timeStamp,this.pCenter=i.center,!h||!d?this.count=1:this.count+=1,this._input=i;var f=this.count%a.taps;if(f===0)return this.hasRequireFailures()?(this._timer=setTimeout(function(){s.state=Xi,s.tryEmit()},a.interval),kn):Xi}return _i},r.failTimeout=function(){var i=this;return this._timer=setTimeout(function(){i.state=_i},this.options.interval),_i},r.reset=function(){clearTimeout(this._timer)},r.emit=function(){this.state===Xi&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))},e}(rh),cu=function(t){Ln(e,t);function e(n){return n===void 0&&(n={}),t.call(this,ai({pointers:1},n))||this}var r=e.prototype;return r.attrTest=function(i){var s=this.options.pointers;return s===0||i.pointers.length===s},r.process=function(i){var s=this.state,a=i.eventType,o=s&(kn|uu),l=this.attrTest(i);return o&&(a&rn||!l)?s|vd:o||l?a&Ft?s|ra:s&kn?s|uu:kn:_i},e}(rh);function qK(t){return t===lu?"down":t===th?"up":t===Zd?"left":t===eh?"right":""}var lN=function(t){Ln(e,t);function e(n){var i;return n===void 0&&(n={}),i=t.call(this,ai({event:"pan",threshold:10,pointers:1,direction:PK},n))||this,i.pX=null,i.pY=null,i}var r=e.prototype;return r.getTouchAction=function(){var i=this.options.direction,s=[];return i&Ci&&s.push(fd),i&ro&&s.push(hd),s},r.directionTest=function(i){var s=this.options,a=!0,o=i.distance,l=i.direction,u=i.deltaX,d=i.deltaY;return l&s.direction||(s.direction&Ci?(l=u===0?ap:u<0?Zd:eh,a=u!==this.pX,o=Math.abs(i.deltaX)):(l=d===0?ap:d<0?th:lu,a=d!==this.pY,o=Math.abs(i.deltaY))),i.direction=l,a&&o>s.threshold&&l&s.direction},r.attrTest=function(i){return cu.prototype.attrTest.call(this,i)&&(this.state&kn||!(this.state&kn)&&this.directionTest(i))},r.emit=function(i){this.pX=i.deltaX,this.pY=i.deltaY;var s=qK(i.direction);s&&(i.additionalEvent=this.options.event+s),t.prototype.emit.call(this,i)},e}(cu),MK=function(t){Ln(e,t);function e(n){return n===void 0&&(n={}),t.call(this,ai({event:"swipe",threshold:10,velocity:.3,direction:Ci|ro,pointers:1},n))||this}var r=e.prototype;return r.getTouchAction=function(){return lN.prototype.getTouchAction.call(this)},r.attrTest=function(i){var s=this.options.direction,a;return s&(Ci|ro)?a=i.overallVelocity:s&Ci?a=i.overallVelocityX:s&ro&&(a=i.overallVelocityY),t.prototype.attrTest.call(this,i)&&s&i.offsetDirection&&i.distance>this.options.threshold&&i.maxPointers===this.options.pointers&&So(a)>this.options.velocity&&i.eventType&Ft},r.emit=function(i){var s=qK(i.offsetDirection);s&&this.manager.emit(this.options.event+s,i),this.manager.emit(this.options.event,i)},e}(cu),AK=function(t){Ln(e,t);function e(n){return n===void 0&&(n={}),t.call(this,ai({event:"pinch",threshold:0,pointers:2},n))||this}var r=e.prototype;return r.getTouchAction=function(){return[to]},r.attrTest=function(i){return t.prototype.attrTest.call(this,i)&&(Math.abs(i.scale-1)>this.options.threshold||this.state&kn)},r.emit=function(i){if(i.scale!==1){var s=i.scale<1?"in":"out";i.additionalEvent=this.options.event+s}t.prototype.emit.call(this,i)},e}(cu),FK=function(t){Ln(e,t);function e(n){return n===void 0&&(n={}),t.call(this,ai({event:"rotate",threshold:0,pointers:2},n))||this}var r=e.prototype;return r.getTouchAction=function(){return[to]},r.attrTest=function(i){return t.prototype.attrTest.call(this,i)&&(Math.abs(i.rotation)>this.options.threshold||this.state&kn)},e}(cu),LK=function(t){Ln(e,t);function e(n){var i;return n===void 0&&(n={}),i=t.call(this,ai({event:"press",pointers:1,time:251,threshold:9},n))||this,i._timer=null,i._input=null,i}var r=e.prototype;return r.getTouchAction=function(){return[EK]},r.process=function(i){var s=this,a=this.options,o=i.pointers.length===a.pointers,l=i.distance<a.threshold,u=i.deltaTime>a.time;if(this._input=i,!l||!o||i.eventType&(Ft|rn)&&!u)this.reset();else if(i.eventType&Fr)this.reset(),this._timer=setTimeout(function(){s.state=Xi,s.tryEmit()},a.time);else if(i.eventType&Ft)return Xi;return _i},r.reset=function(){clearTimeout(this._timer)},r.emit=function(i){this.state===Xi&&(i&&i.eventType&Ft?this.manager.emit(this.options.event+"up",i):(this._input.timeStamp=rN(),this.manager.emit(this.options.event,this._input)))},e}(rh),BK={domEvents:!1,touchAction:SK,enable:!0,inputTarget:null,inputClass:null,cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}},OM=[[FK,{enable:!1}],[AK,{enable:!1},["rotate"]],[MK,{direction:Ci}],[lN,{direction:Ci},["swipe"]],[dP],[dP,{event:"doubletap",taps:2},["tap"]],[LK]],Nle=1,PM=2;function CM(t,e){var r=t.element;if(r.style){var n;Qi(t.options.cssProps,function(i,s){n=am(r.style,s),e?(t.oldCssProps[n]=r.style[n],r.style[n]=i):r.style[n]=t.oldCssProps[n]||""}),e||(t.oldCssProps={})}}function Tle(t,e){var r=document.createEvent("Event");r.initEvent(t,!0,!0),r.gesture=e,e.target.dispatchEvent(r)}var NM=function(){function t(r,n){var i=this;this.options=_o({},BK,n||{}),this.options.inputTarget=this.options.inputTarget||r,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=r,this.input=Ole(this),this.touchAction=new NK(this,this.options.touchAction),CM(this,!0),Qi(this.options.recognizers,function(s){var a=i.add(new s[0](s[1]));s[2]&&a.recognizeWith(s[2]),s[3]&&a.requireFailure(s[3])},this)}var e=t.prototype;return e.set=function(n){return _o(this.options,n),n.touchAction&&this.touchAction.update(),n.inputTarget&&(this.input.destroy(),this.input.target=n.inputTarget,this.input.init()),this},e.stop=function(n){this.session.stopped=n?PM:Nle},e.recognize=function(n){var i=this.session;if(!i.stopped){this.touchAction.preventDefaults(n);var s,a=this.recognizers,o=i.curRecognizer;(!o||o&&o.state&Xi)&&(i.curRecognizer=null,o=null);for(var l=0;l<a.length;)s=a[l],i.stopped!==PM&&(!o||s===o||s.canRecognizeWith(o))?s.recognize(n):s.reset(),!o&&s.state&(kn|uu|ra)&&(i.curRecognizer=s,o=s),l++}},e.get=function(n){if(n instanceof rh)return n;for(var i=this.recognizers,s=0;s<i.length;s++)if(i[s].options.event===n)return i[s];return null},e.add=function(n){if(xl(n,"add",this))return this;var i=this.get(n.options.event);return i&&this.remove(i),this.recognizers.push(n),n.manager=this,this.touchAction.update(),n},e.remove=function(n){if(xl(n,"remove",this))return this;var i=this.get(n);if(n){var s=this.recognizers,a=Eo(s,i);a!==-1&&(s.splice(a,1),this.touchAction.update())}return this},e.on=function(n,i){if(n===void 0||i===void 0)return this;var s=this.handlers;return Qi(pd(n),function(a){s[a]=s[a]||[],s[a].push(i)}),this},e.off=function(n,i){if(n===void 0)return this;var s=this.handlers;return Qi(pd(n),function(a){i?s[a]&&s[a].splice(Eo(s[a],i),1):delete s[a]}),this},e.emit=function(n,i){this.options.domEvents&&Tle(n,i);var s=this.handlers[n]&&this.handlers[n].slice();if(!(!s||!s.length)){i.type=n,i.preventDefault=function(){i.srcEvent.preventDefault()};for(var a=0;a<s.length;)s[a](i),a++}},e.destroy=function(){this.element&&CM(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null},t}(),Ile={touchstart:Fr,touchmove:Do,touchend:Ft,touchcancel:rn},Rle="touchstart",jle="touchstart touchmove touchend touchcancel",$le=function(t){Ln(e,t);function e(){var n,i=e.prototype;return i.evTarget=Rle,i.evWin=jle,n=t.apply(this,arguments)||this,n.started=!1,n}var r=e.prototype;return r.handler=function(i){var s=Ile[i.type];if(s===Fr&&(this.started=!0),!!this.started){var a=kle.call(this,i,s);s&(Ft|rn)&&a[0].length-a[1].length===0&&(this.started=!1),this.callback(this.manager,s,{pointers:a[0],changedPointers:a[1],pointerType:Jd,srcEvent:i})}},e}(qu);function kle(t,e){var r=md(t.touches),n=md(t.changedTouches);return e&(Ft|rn)&&(r=sN(r.concat(n),"identifier",!0)),[r,n]}function zK(t,e,r){var n="DEPRECATED METHOD: "+e+`
`+r+` AT 
`;return function(){var i=new Error("get-stack-trace"),s=i&&i.stack?i.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",a=window.console&&(window.console.warn||window.console.log);return a&&a.call(window.console,n,s),t.apply(this,arguments)}}var UK=zK(function(t,e,r){for(var n=Object.keys(e),i=0;i<n.length;)(!r||r&&t[n[i]]===void 0)&&(t[n[i]]=e[n[i]]),i++;return t},"extend","Use `assign`."),Dle=zK(function(t,e){return UK(t,e,!0)},"merge","Use `assign`.");function qle(t,e,r){var n=e.prototype,i;i=t.prototype=Object.create(n),i.constructor=t,i._super=n,r&&_o(i,r)}function TM(t,e){return function(){return t.apply(e,arguments)}}var Mle=function(){var t=function(r,n){return n===void 0&&(n={}),new NM(r,ai({recognizers:OM.concat()},n))};return t.VERSION="2.0.17-rc",t.DIRECTION_ALL=PK,t.DIRECTION_DOWN=lu,t.DIRECTION_LEFT=Zd,t.DIRECTION_RIGHT=eh,t.DIRECTION_UP=th,t.DIRECTION_HORIZONTAL=Ci,t.DIRECTION_VERTICAL=ro,t.DIRECTION_NONE=ap,t.DIRECTION_DOWN=lu,t.INPUT_START=Fr,t.INPUT_MOVE=Do,t.INPUT_END=Ft,t.INPUT_CANCEL=rn,t.STATE_POSSIBLE=xf,t.STATE_BEGAN=kn,t.STATE_CHANGED=uu,t.STATE_ENDED=ra,t.STATE_RECOGNIZED=Xi,t.STATE_CANCELLED=vd,t.STATE_FAILED=_i,t.Manager=NM,t.Input=qu,t.TouchAction=NK,t.TouchInput=aN,t.MouseInput=oN,t.PointerEventInput=kK,t.TouchMouseInput=DK,t.SingleTouchInput=$le,t.Recognizer=rh,t.AttrRecognizer=cu,t.Tap=dP,t.Pan=lN,t.Swipe=MK,t.Pinch=AK,t.Rotate=FK,t.Press=LK,t.on=Dc,t.off=qc,t.each=Qi,t.merge=Dle,t.extend=UK,t.bindFn=TM,t.assign=_o,t.inherit=qle,t.bindFn=TM,t.prefixed=am,t.toArray=md,t.inArray=Eo,t.uniqueArray=sN,t.splitStr=pd,t.boolOrFn=om,t.hasParent=iN,t.addEventListeners=Dc,t.removeEventListeners=qc,t.defaults=_o({},BK,{preset:OM}),t}();const WK=_ae("DELETE");function Ale(t){for(var e=arguments.length,r=new Array(e>1?e-1:0),n=1;n<e;n++)r[n-1]=arguments[n];return HK({},t,...r)}function HK(){const t=up(...arguments);return KK(t),t}function up(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];if(e.length<2)return e[0];if(e.length>2)return up(HK(e[0],e[1]),...Tae(e).call(e,2));const n=e[0],i=e[1];if(n instanceof Date&&i instanceof Date)return n.setTime(i.getTime()),n;for(const s of Dae(i))Object.prototype.propertyIsEnumerable.call(i,s)&&(i[s]===WK?delete n[s]:n[s]!==null&&i[s]!==null&&typeof n[s]=="object"&&typeof i[s]=="object"&&!mi(n[s])&&!mi(i[s])?n[s]=up(n[s],i[s]):n[s]=VK(i[s]));return n}function VK(t){return mi(t)?Jn(t).call(t,e=>VK(e)):typeof t=="object"&&t!==null?t instanceof Date?new Date(t.getTime()):up({},t):t}function KK(t){for(const e of tN(t))t[e]===WK?delete t[e]:typeof t[e]=="object"&&t[e]!==null&&KK(t[e])}function Fle(){const t=()=>{};return{on:t,off:t,destroy:t,emit:t,get(){return{set:t}}}}const Lle=typeof window<"u"?window.Hammer||Mle:function(){return Fle()};function Hi(t){var e;this._cleanupQueue=[],this.active=!1,this._dom={container:t,overlay:document.createElement("div")},this._dom.overlay.classList.add("vis-overlay"),this._dom.container.appendChild(this._dom.overlay),this._cleanupQueue.push(()=>{this._dom.overlay.parentNode.removeChild(this._dom.overlay)});const r=Lle(this._dom.overlay);r.on("tap",mK(e=this._onTapOverlay).call(e,this)),this._cleanupQueue.push(()=>{r.destroy()});const n=["tap","doubletap","press","pinch","pan","panstart","panmove","panend"];xo(n).call(n,i=>{r.on(i,s=>{s.srcEvent.stopPropagation()})}),document&&document.body&&(this._onClick=i=>{Ble(i.target,t)||this.deactivate()},document.body.addEventListener("click",this._onClick),this._cleanupQueue.push(()=>{document.body.removeEventListener("click",this._onClick)})),this._escListener=i=>{("key"in i?i.key==="Escape":i.keyCode===27)&&this.deactivate()}}Xoe(Hi.prototype);Hi.current=null;Hi.prototype.destroy=function(){this.deactivate();for(const r of soe(t=bK(e=this._cleanupQueue).call(e,0)).call(t)){var t,e;r()}};Hi.prototype.activate=function(){Hi.current&&Hi.current.deactivate(),Hi.current=this,this.active=!0,this._dom.overlay.style.display="none",this._dom.container.classList.add("vis-active"),this.emit("change"),this.emit("activate"),document.body.addEventListener("keydown",this._escListener)};Hi.prototype.deactivate=function(){this.active=!1,this._dom.overlay.style.display="block",this._dom.container.classList.remove("vis-active"),document.body.removeEventListener("keydown",this._escListener),this.emit("change"),this.emit("deactivate")};Hi.prototype._onTapOverlay=function(t){this.activate(),t.srcEvent.stopPropagation()};function Ble(t,e){for(;t;){if(t===e)return!0;t=t.parentNode}return!1}var Gb,IM;function zle(){if(IM)return Gb;IM=1,iK();var t=er();return Gb=t.Object.getOwnPropertySymbols,Gb}var Yb,RM;function Ule(){if(RM)return Yb;RM=1;var t=zle();return Yb=t,Yb}var Qb,jM;function Wle(){return jM||(jM=1,Qb=Ule()),Qb}var Hle=Wle(),$M=De(Hle),Xb={exports:{}},kM={},DM;function Vle(){if(DM)return kM;DM=1;var t=Ce(),e=Ge(),r=Ti(),n=Qp().f,i=Ut(),s=!i||e(function(){n(1)});return t({target:"Object",stat:!0,forced:s,sham:!i},{getOwnPropertyDescriptor:function(o,l){return n(r(o),l)}}),kM}var qM;function Kle(){if(qM)return Xb.exports;qM=1,Vle();var t=er(),e=t.Object,r=Xb.exports=function(i,s){return e.getOwnPropertyDescriptor(i,s)};return e.getOwnPropertyDescriptor.sham&&(r.sham=!0),Xb.exports}var Jb,MM;function Gle(){if(MM)return Jb;MM=1;var t=Kle();return Jb=t,Jb}var Zb,AM;function Yle(){return AM||(AM=1,Zb=Gle()),Zb}var Qle=Yle(),GK=De(Qle),FM={},LM;function Xle(){if(LM)return FM;LM=1;var t=Ce(),e=Ut(),r=gK(),n=Ti(),i=Qp(),s=Jp();return t({target:"Object",stat:!0,sham:!e},{getOwnPropertyDescriptors:function(o){for(var l=n(o),u=i.f,d=r(l),h={},f=0,p,m;d.length>f;)m=u(l,p=d[f++]),m!==void 0&&s(h,p,m);return h}}),FM}var e0,BM;function Jle(){if(BM)return e0;BM=1,Xle();var t=er();return e0=t.Object.getOwnPropertyDescriptors,e0}var t0,zM;function Zle(){if(zM)return t0;zM=1;var t=Jle();return t0=t,t0}var r0,UM;function eue(){return UM||(UM=1,r0=Zle()),r0}var tue=eue(),WM=De(tue),n0={exports:{}},HM={},VM;function rue(){if(VM)return HM;VM=1;var t=Ce(),e=Ut(),r=XC().f;return t({target:"Object",stat:!0,forced:Object.defineProperties!==r,sham:!e},{defineProperties:r}),HM}var KM;function nue(){if(KM)return n0.exports;KM=1,rue();var t=er(),e=t.Object,r=n0.exports=function(i,s){return e.defineProperties(i,s)};return e.defineProperties.sham&&(r.sham=!0),n0.exports}var i0,GM;function iue(){if(GM)return i0;GM=1;var t=nue();return i0=t,i0}var s0,YM;function sue(){return YM||(YM=1,s0=iue()),s0}var aue=sue(),oue=De(aue),a0,QM;function lue(){return QM||(QM=1,a0=GV()),a0}var uue=lue(),cue=De(uue),XM={},JM={},o0={exports:{}},l0,ZM;function due(){if(ZM)return l0;ZM=1;var t=Ge();return l0=t(function(){if(typeof ArrayBuffer=="function"){var e=new ArrayBuffer(8);Object.isExtensible(e)&&Object.defineProperty(e,"a",{value:8})}}),l0}var u0,eA;function hue(){if(eA)return u0;eA=1;var t=Ge(),e=Ur(),r=ps(),n=due(),i=Object.isExtensible,s=t(function(){});return u0=s||n?function(o){return!e(o)||n&&r(o)==="ArrayBuffer"?!1:i?i(o):!0}:i,u0}var c0,tA;function fue(){if(tA)return c0;tA=1;var t=Ge();return c0=!t(function(){return Object.isExtensible(Object.preventExtensions({}))}),c0}var rA;function YK(){if(rA)return o0.exports;rA=1;var t=Ce(),e=et(),r=Gd(),n=Ur(),i=or(),s=Fn().f,a=tm(),o=eK(),l=hue(),u=Yp(),d=fue(),h=!1,f=u("meta"),p=0,m=function(w){s(w,f,{value:{objectID:"O"+p++,weakData:{}}})},y=function(w,_){if(!n(w))return typeof w=="symbol"?w:(typeof w=="string"?"S":"P")+w;if(!i(w,f)){if(!l(w))return"F";if(!_)return"E";m(w)}return w[f].objectID},b=function(w,_){if(!i(w,f)){if(!l(w))return!0;if(!_)return!1;m(w)}return w[f].weakData},g=function(w){return d&&h&&l(w)&&!i(w,f)&&m(w),w},v=function(){x.enable=function(){},h=!0;var w=a.f,_=e([].splice),E={};E[f]=1,w(E).length&&(a.f=function(O){for(var S=w(O),P=0,C=S.length;P<C;P++)if(S[P]===f){_(S,P,1);break}return S},t({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:o.f}))},x=o0.exports={enable:v,fastKey:y,getWeakData:b,onFreeze:g};return r[f]=!0,o0.exports}var d0,nA;function pue(){if(nA)return d0;nA=1;var t=lr(),e=Du(),r=t("iterator"),n=Array.prototype;return d0=function(i){return i!==void 0&&(e.Array===i||n[r]===i)},d0}var h0,iA;function QK(){if(iA)return h0;iA=1;var t=ya(),e=WC(),r=Wd(),n=Du(),i=lr(),s=i("iterator");return h0=function(a){if(!r(a))return e(a,s)||e(a,"@@iterator")||n[t(a)]},h0}var f0,sA;function XK(){if(sA)return f0;sA=1;var t=an(),e=ms(),r=vs(),n=Nu(),i=QK(),s=TypeError;return f0=function(a,o){var l=arguments.length<2?i(a):o;if(e(l))return r(t(l,a));throw new s(n(a)+" is not iterable")},f0}var p0,aA;function uN(){if(aA)return p0;aA=1;var t=an(),e=vs(),r=WC();return p0=function(n,i,s){var a,o;e(n);try{if(a=r(n,"return"),!a){if(i==="throw")throw s;return s}a=t(a,n)}catch(l){o=!0,a=l}if(i==="throw")throw s;if(o)throw a;return e(a),s},p0}var m0,oA;function cN(){if(oA)return m0;oA=1;var t=Xp(),e=an(),r=vs(),n=Nu(),i=pue(),s=ga(),a=ar(),o=XK(),l=QK(),u=uN(),d=TypeError,h=function(p,m){this.stopped=p,this.result=m},f=h.prototype;return m0=function(p,m,y){var b=y&&y.that,g=!!(y&&y.AS_ENTRIES),v=!!(y&&y.IS_RECORD),x=!!(y&&y.IS_ITERATOR),w=!!(y&&y.INTERRUPTED),_=t(m,b),E,O,S,P,C,I,N,T=function(B){return E&&u(E,"normal"),new h(!0,B)},q=function(B){return g?(r(B),w?_(B[0],B[1],T):_(B[0],B[1])):w?_(B,T):_(B)};if(v)E=p.iterator;else if(x)E=p;else{if(O=l(p),!O)throw new d(n(p)+" is not iterable");if(i(O)){for(S=0,P=s(p);P>S;S++)if(C=q(p[S]),C&&a(f,C))return C;return new h(!1)}E=o(p,O)}for(I=v?p.next:E.next;!(N=e(I,E)).done;){try{C=q(N.value)}catch(B){u(E,"throw",B)}if(typeof C=="object"&&C&&a(f,C))return C}return new h(!1)},m0}var v0,lA;function JK(){if(lA)return v0;lA=1;var t=ar(),e=TypeError;return v0=function(r,n){if(t(n,r))return r;throw new e("Incorrect invocation")},v0}var g0,uA;function ZK(){if(uA)return g0;uA=1;var t=Ce(),e=zt(),r=YK(),n=Ge(),i=Ru(),s=cN(),a=JK(),o=sr(),l=Ur(),u=Wd(),d=ko(),h=Fn().f,f=ku().forEach,p=Ut(),m=Xd(),y=m.set,b=m.getterFor;return g0=function(g,v,x){var w=g.indexOf("Map")!==-1,_=g.indexOf("Weak")!==-1,E=w?"set":"add",O=e[g],S=O&&O.prototype,P={},C;if(!p||!o(O)||!(_||S.forEach&&!n(function(){new O().entries().next()})))C=x.getConstructor(v,g,w,E),r.enable();else{C=v(function(T,q){y(a(T,I),{type:g,collection:new O}),u(q)||s(q,T[E],{that:T,AS_ENTRIES:w})});var I=C.prototype,N=b(g);f(["add","clear","delete","forEach","get","has","set","keys","values","entries"],function(T){var q=T==="add"||T==="set";T in S&&!(_&&T==="clear")&&i(I,T,function(B,X){var H=N(this).collection;if(!q&&_&&!l(B))return T==="get"?void 0:!1;var L=H[T](B===0?0:B,X);return q?this:L})}),_||h(I,"size",{configurable:!0,get:function(){return N(this).collection.size}})}return d(C,g,!1,!0),P[g]=C,t({global:!0,forced:!0},P),_||x.setStrong(C,g,w),C},g0}var y0,cA;function mue(){if(cA)return y0;cA=1;var t=Qd();return y0=function(e,r,n){for(var i in r)n&&n.unsafe&&e[i]?e[i]=r[i]:t(e,i,r[i],n);return e},y0}var b0,dA;function vue(){if(dA)return b0;dA=1;var t=wn(),e=JC(),r=lr(),n=Ut(),i=r("species");return b0=function(s){var a=t(s);n&&a&&!a[i]&&e(a,i,{configurable:!0,get:function(){return this}})},b0}var w0,hA;function eG(){if(hA)return w0;hA=1;var t=Yd(),e=JC(),r=mue(),n=Xp(),i=JK(),s=Wd(),a=cN(),o=ZC(),l=eN(),u=vue(),d=Ut(),h=YK().fastKey,f=Xd(),p=f.set,m=f.getterFor;return w0={getConstructor:function(y,b,g,v){var x=y(function(S,P){i(S,w),p(S,{type:b,index:t(null),first:null,last:null,size:0}),d||(S.size=0),s(P)||a(P,S[v],{that:S,AS_ENTRIES:g})}),w=x.prototype,_=m(b),E=function(S,P,C){var I=_(S),N=O(S,P),T,q;return N?N.value=C:(I.last=N={index:q=h(P,!0),key:P,value:C,previous:T=I.last,next:null,removed:!1},I.first||(I.first=N),T&&(T.next=N),d?I.size++:S.size++,q!=="F"&&(I.index[q]=N)),S},O=function(S,P){var C=_(S),I=h(P),N;if(I!=="F")return C.index[I];for(N=C.first;N;N=N.next)if(N.key===P)return N};return r(w,{clear:function(){for(var P=this,C=_(P),I=C.first;I;)I.removed=!0,I.previous&&(I.previous=I.previous.next=null),I=I.next;C.first=C.last=null,C.index=t(null),d?C.size=0:P.size=0},delete:function(S){var P=this,C=_(P),I=O(P,S);if(I){var N=I.next,T=I.previous;delete C.index[I.index],I.removed=!0,T&&(T.next=N),N&&(N.previous=T),C.first===I&&(C.first=N),C.last===I&&(C.last=T),d?C.size--:P.size--}return!!I},forEach:function(P){for(var C=_(this),I=n(P,arguments.length>1?arguments[1]:void 0),N;N=N?N.next:C.first;)for(I(N.value,N.key,this);N&&N.removed;)N=N.previous},has:function(P){return!!O(this,P)}}),r(w,g?{get:function(P){var C=O(this,P);return C&&C.value},set:function(P,C){return E(this,P===0?0:P,C)}}:{add:function(P){return E(this,P=P===0?0:P,P)}}),d&&e(w,"size",{configurable:!0,get:function(){return _(this).size}}),x},setStrong:function(y,b,g){var v=b+" Iterator",x=m(b),w=m(v);o(y,b,function(_,E){p(this,{type:v,target:_,state:x(_),kind:E,last:null})},function(){for(var _=w(this),E=_.kind,O=_.last;O&&O.removed;)O=O.previous;return!_.target||!(_.last=O=O?O.next:_.state.first)?(_.target=null,l(void 0,!0)):l(E==="keys"?O.key:E==="values"?O.value:[O.key,O.value],!1)},g?"entries":"values",!g,!0),u(b)}},w0}var fA;function gue(){if(fA)return JM;fA=1;var t=ZK(),e=eG();return t("Map",function(r){return function(){return r(this,arguments.length?arguments[0]:void 0)}},e),JM}var pA;function yue(){return pA||(pA=1,gue()),XM}var mA={},x0,vA;function tG(){return vA||(vA=1,x0=function(t,e){return e===1?function(r,n){return r[t](n)}:function(r,n,i){return r[t](n,i)}}),x0}var _0,gA;function bue(){if(gA)return _0;gA=1;var t=wn(),e=tG(),r=t("Map");return _0={Map:r,set:e("set",2),get:e("get",1),has:e("has",1),remove:e("delete",1),proto:r.prototype},_0}var yA;function wue(){if(yA)return mA;yA=1;var t=Ce(),e=et(),r=ms(),n=jo(),i=cN(),s=bue(),a=Tu(),o=Ge(),l=s.Map,u=s.has,d=s.get,h=s.set,f=e([].push),p=a||o(function(){return l.groupBy("ab",function(m){return m}).get("a").length!==1});return t({target:"Map",stat:!0,forced:a||p},{groupBy:function(y,b){n(y),r(b);var g=new l,v=0;return i(y,function(x){var w=b(x,v++);u(g,w)?f(d(g,w),x):h(g,w,[x])}),g}}),mA}var S0,bA;function xue(){if(bA)return S0;bA=1,wa(),yue(),wue(),im();var t=er();return S0=t.Map,S0}var E0,wA;function _ue(){if(wA)return E0;wA=1;var t=xue();return xa(),E0=t,E0}var O0,xA;function Sue(){return xA||(xA=1,O0=_ue()),O0}var Eue=Sue(),rG=De(Eue),_A={},SA;function Oue(){if(SA)return _A;SA=1;var t=Ce(),e=ku().some,r=sm(),n=r("some");return t({target:"Array",proto:!0,forced:!n},{some:function(s){return e(this,s,arguments.length>1?arguments[1]:void 0)}}),_A}var P0,EA;function Pue(){if(EA)return P0;EA=1,Oue();var t=on();return P0=t("Array","some"),P0}var C0,OA;function Cue(){if(OA)return C0;OA=1;var t=ar(),e=Pue(),r=Array.prototype;return C0=function(n){var i=n.some;return n===r||t(r,n)&&i===r.some?e:i},C0}var N0,PA;function Nue(){if(PA)return N0;PA=1;var t=Cue();return N0=t,N0}var T0,CA;function Tue(){return CA||(CA=1,T0=Nue()),T0}var Iue=Tue(),Rue=De(Iue),I0,NA;function jue(){if(NA)return I0;NA=1,wa();var t=on();return I0=t("Array","keys"),I0}var R0,TA;function $ue(){if(TA)return R0;TA=1;var t=jue();return R0=t,R0}var j0,IA;function kue(){if(IA)return j0;IA=1,xa();var t=ya(),e=or(),r=ar(),n=$ue(),i=Array.prototype,s={DOMTokenList:!0,NodeList:!0};return j0=function(a){var o=a.keys;return a===i||r(i,a)&&o===i.keys||e(s,t(a))?n:o},j0}var $0,RA;function Due(){return RA||(RA=1,$0=kue()),$0}var que=Due(),nl=De(que),jA={},k0,$A;function Mue(){if($A)return k0;$A=1;var t=$u(),e=Math.floor,r=function(n,i){var s=n.length;if(s<8)for(var a=1,o,l;a<s;){for(l=a,o=n[a];l&&i(n[l-1],o)>0;)n[l]=n[--l];l!==a++&&(n[l]=o)}else for(var u=e(s/2),d=r(t(n,0,u),i),h=r(t(n,u),i),f=d.length,p=h.length,m=0,y=0;m<f||y<p;)n[m+y]=m<f&&y<p?i(d[m],h[y])<=0?d[m++]:h[y++]:m<f?d[m++]:h[y++];return n};return k0=r,k0}var D0,kA;function Aue(){if(kA)return D0;kA=1;var t=Pu(),e=t.match(/firefox\/(\d+)/i);return D0=!!e&&+e[1],D0}var q0,DA;function Fue(){if(DA)return q0;DA=1;var t=Pu();return q0=/MSIE|Trident/.test(t),q0}var M0,qA;function Lue(){if(qA)return M0;qA=1;var t=Pu(),e=t.match(/AppleWebKit\/(\d+)\./);return M0=!!e&&+e[1],M0}var MA;function Bue(){if(MA)return jA;MA=1;var t=Ce(),e=et(),r=ms(),n=ui(),i=ga(),s=yK(),a=ba(),o=Ge(),l=Mue(),u=sm(),d=Aue(),h=Fue(),f=Hd(),p=Lue(),m=[],y=e(m.sort),b=e(m.push),g=o(function(){m.sort(void 0)}),v=o(function(){m.sort(null)}),x=u("sort"),w=!o(function(){if(f)return f<70;if(!(d&&d>3)){if(h)return!0;if(p)return p<603;var O="",S,P,C,I;for(S=65;S<76;S++){switch(P=String.fromCharCode(S),S){case 66:case 69:case 70:case 72:C=3;break;case 68:case 71:C=4;break;default:C=2}for(I=0;I<47;I++)m.push({k:P+I,v:C})}for(m.sort(function(N,T){return T.v-N.v}),I=0;I<m.length;I++)P=m[I].k.charAt(0),O.charAt(O.length-1)!==P&&(O+=P);return O!=="DGBEFHACIJK"}}),_=g||!v||!x||!w,E=function(O){return function(S,P){return P===void 0?-1:S===void 0?1:O!==void 0?+O(S,P)||0:a(S)>a(P)?1:-1}};return t({target:"Array",proto:!0,forced:_},{sort:function(S){S!==void 0&&r(S);var P=n(this);if(w)return S===void 0?y(P):y(P,S);var C=[],I=i(P),N,T;for(T=0;T<I;T++)T in P&&b(C,P[T]);for(l(C,E(S)),N=i(C),T=0;T<N;)P[T]=C[T++];for(;T<I;)s(P,T++);return P}}),jA}var A0,AA;function zue(){if(AA)return A0;AA=1,Bue();var t=on();return A0=t("Array","sort"),A0}var F0,FA;function Uue(){if(FA)return F0;FA=1;var t=ar(),e=zue(),r=Array.prototype;return F0=function(n){var i=n.sort;return n===r||t(r,n)&&i===r.sort?e:i},F0}var L0,LA;function Wue(){if(LA)return L0;LA=1;var t=Uue();return L0=t,L0}var B0,BA;function Hue(){return BA||(BA=1,B0=Wue()),B0}var Vue=Hue(),hP=De(Vue),z0,zA;function Kue(){if(zA)return z0;zA=1,wa();var t=on();return z0=t("Array","values"),z0}var U0,UA;function Gue(){if(UA)return U0;UA=1;var t=Kue();return U0=t,U0}var W0,WA;function Yue(){if(WA)return W0;WA=1,xa();var t=ya(),e=or(),r=ar(),n=Gue(),i=Array.prototype,s={DOMTokenList:!0,NodeList:!0};return W0=function(a){var o=a.values;return a===i||r(i,a)&&o===i.values||e(s,t(a))?n:o},W0}var H0,HA;function Que(){return HA||(HA=1,H0=Yue()),H0}var Xue=Que(),VA=De(Xue),V0,KA;function Jue(){return KA||(KA=1,V0=pK()),V0}var Zue=Jue(),_l=De(Zue),K0,GA;function ece(){if(GA)return K0;GA=1,wa();var t=on();return K0=t("Array","entries"),K0}var G0,YA;function tce(){if(YA)return G0;YA=1;var t=ece();return G0=t,G0}var Y0,QA;function rce(){if(QA)return Y0;QA=1,xa();var t=ya(),e=or(),r=ar(),n=tce(),i=Array.prototype,s={DOMTokenList:!0,NodeList:!0};return Y0=function(a){var o=a.entries;return a===i||r(i,a)&&o===i.entries||e(s,t(a))?n:o},Y0}var Q0,XA;function nce(){return XA||(XA=1,Q0=rce()),Q0}var ice=nce(),sce=De(ice);const hr=[];for(let t=0;t<256;++t)hr.push((t+256).toString(16).slice(1));function ace(t,e=0){return(hr[t[e+0]]+hr[t[e+1]]+hr[t[e+2]]+hr[t[e+3]]+"-"+hr[t[e+4]]+hr[t[e+5]]+"-"+hr[t[e+6]]+hr[t[e+7]]+"-"+hr[t[e+8]]+hr[t[e+9]]+"-"+hr[t[e+10]]+hr[t[e+11]]+hr[t[e+12]]+hr[t[e+13]]+hr[t[e+14]]+hr[t[e+15]]).toLowerCase()}let X0;const oce=new Uint8Array(16);function lce(){if(!X0){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");X0=crypto.getRandomValues.bind(crypto)}return X0(oce)}const uce=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto);var JA={randomUUID:uce};function cce(t,e,r){var i;t=t||{};const n=t.random??((i=t.rng)==null?void 0:i.call(t))??lce();if(n.length<16)throw new Error("Random bytes length must be >= 16");return n[6]=n[6]&15|64,n[8]=n[8]&63|128,ace(n)}function dce(t,e,r){return JA.randomUUID&&!t?JA.randomUUID():cce(t)}function ZA(t){return typeof t=="string"||typeof t=="number"}class dN{constructor(e){ta(this,"_queue",[]),ta(this,"_timeout",null),ta(this,"_extended",null),this.delay=null,this.max=1/0,this.setOptions(e)}setOptions(e){e&&typeof e.delay<"u"&&(this.delay=e.delay),e&&typeof e.max<"u"&&(this.max=e.max),this._flushIfNeeded()}static extend(e,r){const n=new dN(r);if(e.flush!==void 0)throw new Error("Target object already has a property flush");e.flush=()=>{n.flush()};const i=[{name:"flush",original:void 0}];if(r&&r.replace)for(let s=0;s<r.replace.length;s++){const a=r.replace[s];i.push({name:a,original:e[a]}),n.replace(e,a)}return n._extended={object:e,methods:i},n}destroy(){if(this.flush(),this._extended){const e=this._extended.object,r=this._extended.methods;for(let n=0;n<r.length;n++){const i=r[n];i.original?e[i.name]=i.original:delete e[i.name]}this._extended=null}}replace(e,r){const n=this,i=e[r];if(!i)throw new Error("Method "+r+" undefined");e[r]=function(){for(var s=arguments.length,a=new Array(s),o=0;o<s;o++)a[o]=arguments[o];n.queue({args:a,fn:i,context:this})}}queue(e){typeof e=="function"?this._queue.push({fn:e}):this._queue.push(e),this._flushIfNeeded()}_flushIfNeeded(){this._queue.length>this.max&&this.flush(),this._timeout!=null&&(clearTimeout(this._timeout),this._timeout=null),this.queue.length>0&&typeof this.delay=="number"&&(this._timeout=Goe(()=>{this.flush()},this.delay))}flush(){var e,r;xo(e=bK(r=this._queue).call(r,0)).call(e,n=>{n.fn.apply(n.context||n.fn,n.args||[])})}}class cp{constructor(){ta(this,"_subscribers",{"*":[],add:[],remove:[],update:[]}),ta(this,"subscribe",cp.prototype.on),ta(this,"unsubscribe",cp.prototype.off)}_trigger(e,r,n){var i;if(e==="*")throw new Error("Cannot trigger event *");xo(i=[...this._subscribers[e],...this._subscribers["*"]]).call(i,s=>{s(e,r,n??null)})}on(e,r){typeof r=="function"&&this._subscribers[e].push(r)}off(e,r){var n;this._subscribers[e]=bl(n=this._subscribers[e]).call(n,i=>i!==r)}}var eF={},tF={},rF;function hce(){if(rF)return tF;rF=1;var t=ZK(),e=eG();return t("Set",function(r){return function(){return r(this,arguments.length?arguments[0]:void 0)}},e),tF}var nF;function fce(){return nF||(nF=1,hce()),eF}var iF={},J0,sF;function qo(){if(sF)return J0;sF=1;var t=Nu(),e=TypeError;return J0=function(r){if(typeof r=="object"&&"size"in r&&"has"in r&&"add"in r&&"delete"in r&&"keys"in r)return r;throw new e(t(r)+" is not a set")},J0}var Z0,aF;function Mo(){if(aF)return Z0;aF=1;var t=wn(),e=tG(),r=t("Set"),n=r.prototype;return Z0={Set:r,add:e("add",1),has:e("has",1),remove:e("delete",1),proto:n},Z0}var e1,oF;function Ao(){if(oF)return e1;oF=1;var t=an();return e1=function(e,r,n){for(var i=n?e:e.iterator,s=e.next,a,o;!(a=t(s,i)).done;)if(o=r(a.value),o!==void 0)return o},e1}var t1,lF;function nh(){if(lF)return t1;lF=1;var t=Ao();return t1=function(e,r,n){return n?t(e.keys(),r,!0):e.forEach(r)},t1}var r1,uF;function hN(){if(uF)return r1;uF=1;var t=Mo(),e=nh(),r=t.Set,n=t.add;return r1=function(i){var s=new r;return e(i,function(a){n(s,a)}),s},r1}var n1,cF;function ih(){return cF||(cF=1,n1=function(t){return t.size}),n1}var i1,dF;function pce(){return dF||(dF=1,i1=function(t){return{iterator:t,next:t.next,done:!1}}),i1}var s1,hF;function Fo(){if(hF)return s1;hF=1;var t=ms(),e=vs(),r=an(),n=ju(),i=pce(),s="Invalid size",a=RangeError,o=TypeError,l=Math.max,u=function(d,h){this.set=d,this.size=l(h,0),this.has=t(d.has),this.keys=t(d.keys)};return u.prototype={getIterator:function(){return i(e(r(this.keys,this.set)))},includes:function(d){return r(this.has,this.set,d)}},s1=function(d){e(d);var h=+d.size;if(h!==h)throw new o(s);var f=n(h);if(f<0)throw new a(s);return new u(d,f)},s1}var a1,fF;function mce(){if(fF)return a1;fF=1;var t=qo(),e=Mo(),r=hN(),n=ih(),i=Fo(),s=nh(),a=Ao(),o=e.has,l=e.remove;return a1=function(d){var h=t(this),f=i(d),p=r(h);return n(h)<=f.size?s(h,function(m){f.includes(m)&&l(p,m)}):a(f.getIterator(),function(m){o(p,m)&&l(p,m)}),p},a1}var o1,pF;function Lo(){return pF||(pF=1,o1=function(){return!1}),o1}var mF;function vce(){if(mF)return iF;mF=1;var t=Ce(),e=mce(),r=Ge(),n=Lo(),i=!n("difference",function(a){return a.size===0}),s=i||r(function(){var a={size:1,has:function(){return!0},keys:function(){var l=0;return{next:function(){var u=l++>1;return o.has(1)&&o.clear(),{done:u,value:2}}}}},o=new Set([1,2,3,4]);return o.difference(a).size!==3});return t({target:"Set",proto:!0,real:!0,forced:s},{difference:e}),iF}var vF={},l1,gF;function gce(){if(gF)return l1;gF=1;var t=qo(),e=Mo(),r=ih(),n=Fo(),i=nh(),s=Ao(),a=e.Set,o=e.add,l=e.has;return l1=function(d){var h=t(this),f=n(d),p=new a;return r(h)>f.size?s(f.getIterator(),function(m){l(h,m)&&o(p,m)}):i(h,function(m){f.includes(m)&&o(p,m)}),p},l1}var yF;function yce(){if(yF)return vF;yF=1;var t=Ce(),e=Ge(),r=gce(),n=Lo(),i=!n("intersection",function(s){return s.size===2&&s.has(1)&&s.has(2)})||e(function(){return String(Array.from(new Set([1,2,3]).intersection(new Set([3,2]))))!=="3,2"});return t({target:"Set",proto:!0,real:!0,forced:i},{intersection:r}),vF}var bF={},u1,wF;function bce(){if(wF)return u1;wF=1;var t=qo(),e=Mo().has,r=ih(),n=Fo(),i=nh(),s=Ao(),a=uN();return u1=function(l){var u=t(this),d=n(l);if(r(u)<=d.size)return i(u,function(f){if(d.includes(f))return!1},!0)!==!1;var h=d.getIterator();return s(h,function(f){if(e(u,f))return a(h,"normal",!1)})!==!1},u1}var xF;function wce(){if(xF)return bF;xF=1;var t=Ce(),e=bce(),r=Lo(),n=!r("isDisjointFrom",function(i){return!i});return t({target:"Set",proto:!0,real:!0,forced:n},{isDisjointFrom:e}),bF}var _F={},c1,SF;function xce(){if(SF)return c1;SF=1;var t=qo(),e=ih(),r=nh(),n=Fo();return c1=function(s){var a=t(this),o=n(s);return e(a)>o.size?!1:r(a,function(l){if(!o.includes(l))return!1},!0)!==!1},c1}var EF;function _ce(){if(EF)return _F;EF=1;var t=Ce(),e=xce(),r=Lo(),n=!r("isSubsetOf",function(i){return i});return t({target:"Set",proto:!0,real:!0,forced:n},{isSubsetOf:e}),_F}var OF={},d1,PF;function Sce(){if(PF)return d1;PF=1;var t=qo(),e=Mo().has,r=ih(),n=Fo(),i=Ao(),s=uN();return d1=function(o){var l=t(this),u=n(o);if(r(l)<u.size)return!1;var d=u.getIterator();return i(d,function(h){if(!e(l,h))return s(d,"normal",!1)})!==!1},d1}var CF;function Ece(){if(CF)return OF;CF=1;var t=Ce(),e=Sce(),r=Lo(),n=!r("isSupersetOf",function(i){return!i});return t({target:"Set",proto:!0,real:!0,forced:n},{isSupersetOf:e}),OF}var NF={},h1,TF;function Oce(){if(TF)return h1;TF=1;var t=qo(),e=Mo(),r=hN(),n=Fo(),i=Ao(),s=e.add,a=e.has,o=e.remove;return h1=function(u){var d=t(this),h=n(u).getIterator(),f=r(d);return i(h,function(p){a(d,p)?o(f,p):s(f,p)}),f},h1}var f1,IF;function nG(){return IF||(IF=1,f1=function(t){try{var e=new Set,r={size:0,has:function(){return!0},keys:function(){return Object.defineProperty({},"next",{get:function(){return e.clear(),e.add(4),function(){return{done:!0}}}})}},n=e[t](r);return n.size===1&&n.values().next().value===4}catch{return!1}}),f1}var RF;function Pce(){if(RF)return NF;RF=1;var t=Ce(),e=Oce(),r=nG(),n=Lo(),i=!n("symmetricDifference")||!r("symmetricDifference");return t({target:"Set",proto:!0,real:!0,forced:i},{symmetricDifference:e}),NF}var jF={},p1,$F;function Cce(){if($F)return p1;$F=1;var t=qo(),e=Mo().add,r=hN(),n=Fo(),i=Ao();return p1=function(a){var o=t(this),l=n(a).getIterator(),u=r(o);return i(l,function(d){e(u,d)}),u},p1}var kF;function Nce(){if(kF)return jF;kF=1;var t=Ce(),e=Cce(),r=nG(),n=Lo(),i=!n("union")||!r("union");return t({target:"Set",proto:!0,real:!0,forced:i},{union:e}),jF}var m1,DF;function Tce(){if(DF)return m1;DF=1,wa(),fce(),vce(),yce(),wce(),_ce(),Ece(),Pce(),Nce(),im();var t=er();return m1=t.Set,m1}var v1,qF;function Ice(){if(qF)return v1;qF=1;var t=Tce();return xa(),v1=t,v1}var g1,MF;function Rce(){return MF||(MF=1,g1=Ice()),g1}var jce=Rce(),y1=De(jce),b1,AF;function $ce(){if(AF)return b1;AF=1,wa(),im();var t=XK();return b1=t,b1}var w1,FF;function kce(){if(FF)return w1;FF=1;var t=$ce();return xa(),w1=t,w1}var x1,LF;function Dce(){if(LF)return x1;LF=1;var t=kce();return x1=t,x1}var _1,BF;function qce(){if(BF)return _1;BF=1;var t=Dce();return _1=t,_1}var S1,zF;function Mce(){return zF||(zF=1,S1=qce()),S1}var E1,UF;function Ace(){return UF||(UF=1,E1=Mce()),E1}var Fce=Ace(),O1=De(Fce);class Fa{constructor(e){this._pairs=e}*[_l](){for(const[e,r]of this._pairs)yield[e,r]}*entries(){for(const[e,r]of this._pairs)yield[e,r]}*keys(){for(const[e]of this._pairs)yield e}*values(){for(const[,e]of this._pairs)yield e}toIdArray(){var e;return Jn(e=[...this._pairs]).call(e,r=>r[0])}toItemArray(){var e;return Jn(e=[...this._pairs]).call(e,r=>r[1])}toEntryArray(){return[...this._pairs]}toObjectMap(){const e=Roe(null);for(const[r,n]of this._pairs)e[r]=n;return e}toMap(){return new rG(this._pairs)}toIdSet(){return new y1(this.toIdArray())}toItemSet(){return new y1(this.toItemArray())}cache(){return new Fa([...this._pairs])}distinct(e){const r=new y1;for(const[n,i]of this._pairs)r.add(e(i,n));return r}filter(e){const r=this._pairs;return new Fa({*[_l](){for(const[n,i]of r)e(i,n)&&(yield[n,i])}})}forEach(e){for(const[r,n]of this._pairs)e(n,r)}map(e){const r=this._pairs;return new Fa({*[_l](){for(const[n,i]of r)yield[n,e(i,n)]}})}max(e){const r=O1(this._pairs);let n=r.next();if(n.done)return null;let i=n.value[1],s=e(n.value[1],n.value[0]);for(;!(n=r.next()).done;){const[a,o]=n.value,l=e(o,a);l>s&&(s=l,i=o)}return i}min(e){const r=O1(this._pairs);let n=r.next();if(n.done)return null;let i=n.value[1],s=e(n.value[1],n.value[0]);for(;!(n=r.next()).done;){const[a,o]=n.value,l=e(o,a);l<s&&(s=l,i=o)}return i}reduce(e,r){for(const[n,i]of this._pairs)r=e(r,i,n);return r}sort(e){return new Fa({[_l]:()=>{var r;return O1(hP(r=[...this._pairs]).call(r,(n,i)=>{let[s,a]=n,[o,l]=i;return e(a,l,s,o)}))}})}}function WF(t,e){var r=tN(t);if($M){var n=$M(t);e&&(n=bl(n).call(n,function(i){return GK(t,i).enumerable})),r.push.apply(r,n)}return r}function HF(t){for(var e=1;e<arguments.length;e++){var r,n,i=arguments[e]!=null?arguments[e]:{};e%2?xo(r=WF(Object(i),!0)).call(r,function(s){ta(t,s,i[s])}):WM?oue(t,WM(i)):xo(n=WF(Object(i))).call(n,function(s){cue(t,s,GK(i,s))})}return t}function Lce(t,e){return t[e]==null&&(t[e]=dce()),t}class du extends cp{get idProp(){return this._idProp}constructor(e,r){super(),ta(this,"_queue",null),e&&!mi(e)&&(r=e,e=[]),this._options=r||{},this._data=new rG,this.length=0,this._idProp=this._options.fieldId||"id",e&&e.length&&this.add(e),this.setOptions(r)}setOptions(e){e&&e.queue!==void 0&&(e.queue===!1?this._queue&&(this._queue.destroy(),this._queue=null):(this._queue||(this._queue=dN.extend(this,{replace:["add","update","remove"]})),e.queue&&typeof e.queue=="object"&&this._queue.setOptions(e.queue)))}add(e,r){const n=[];let i;if(mi(e)){const s=Jn(e).call(e,a=>a[this._idProp]);if(Rue(s).call(s,a=>this._data.has(a)))throw new Error("A duplicate id was found in the parameter array.");for(let a=0,o=e.length;a<o;a++)i=this._addItem(e[a]),n.push(i)}else if(e&&typeof e=="object")i=this._addItem(e),n.push(i);else throw new Error("Unknown dataType");return n.length&&this._trigger("add",{items:n},r),n}update(e,r){const n=[],i=[],s=[],a=[],o=this._idProp,l=u=>{const d=u[o];if(d!=null&&this._data.has(d)){const h=u,f=boe({},this._data.get(d)),p=this._updateItem(h);i.push(p),a.push(h),s.push(f)}else{const h=this._addItem(u);n.push(h)}};if(mi(e))for(let u=0,d=e.length;u<d;u++)e[u]&&typeof e[u]=="object"?l(e[u]):console.warn("Ignoring input item, which is not an object at index "+u);else if(e&&typeof e=="object")l(e);else throw new Error("Unknown dataType");if(n.length&&this._trigger("add",{items:n},r),i.length){const u={items:i,oldData:s,data:a};this._trigger("update",u,r)}return Ooe(n).call(n,i)}updateOnly(e,r){var n;mi(e)||(e=[e]);const i=Jn(n=Jn(e).call(e,s=>{const a=this._data.get(s[this._idProp]);if(a==null)throw new Error("Updating non-existent items is not allowed.");return{oldData:a,update:s}})).call(n,s=>{let{oldData:a,update:o}=s;const l=a[this._idProp],u=Ale(a,o);return this._data.set(l,u),{id:l,oldData:a,updatedData:u}});if(i.length){const s={items:Jn(i).call(i,a=>a.id),oldData:Jn(i).call(i,a=>a.oldData),data:Jn(i).call(i,a=>a.updatedData)};return this._trigger("update",s,r),s.items}else return[]}get(e,r){let n,i,s;ZA(e)?(n=e,s=r):mi(e)?(i=e,s=r):s=e;const a=s&&s.returnType==="Object"?"Object":"Array",o=s&&bl(s),l=[];let u,d,h;if(n!=null)u=this._data.get(n),u&&o&&!o(u)&&(u=void 0);else if(i!=null)for(let p=0,m=i.length;p<m;p++)u=this._data.get(i[p]),u!=null&&(!o||o(u))&&l.push(u);else{var f;d=[...nl(f=this._data).call(f)];for(let p=0,m=d.length;p<m;p++)h=d[p],u=this._data.get(h),u!=null&&(!o||o(u))&&l.push(u)}if(s&&s.order&&n==null&&this._sort(l,s.order),s&&s.fields){const p=s.fields;if(n!=null&&u!=null)u=this._filterFields(u,p);else for(let m=0,y=l.length;m<y;m++)l[m]=this._filterFields(l[m],p)}if(a=="Object"){const p={};for(let m=0,y=l.length;m<y;m++){const b=l[m],g=b[this._idProp];p[g]=b}return p}else return n!=null?u??null:l}getIds(e){const r=this._data,n=e&&bl(e),i=e&&e.order,s=[...nl(r).call(r)],a=[];if(n)if(i){const o=[];for(let l=0,u=s.length;l<u;l++){const d=s[l],h=this._data.get(d);h!=null&&n(h)&&o.push(h)}this._sort(o,i);for(let l=0,u=o.length;l<u;l++)a.push(o[l][this._idProp])}else for(let o=0,l=s.length;o<l;o++){const u=s[o],d=this._data.get(u);d!=null&&n(d)&&a.push(d[this._idProp])}else if(i){const o=[];for(let l=0,u=s.length;l<u;l++){const d=s[l];o.push(r.get(d))}this._sort(o,i);for(let l=0,u=o.length;l<u;l++)a.push(o[l][this._idProp])}else for(let o=0,l=s.length;o<l;o++){const u=s[o],d=r.get(u);d!=null&&a.push(d[this._idProp])}return a}getDataSet(){return this}forEach(e,r){const n=r&&bl(r),i=this._data,s=[...nl(i).call(i)];if(r&&r.order){const a=this.get(r);for(let o=0,l=a.length;o<l;o++){const u=a[o],d=u[this._idProp];e(u,d)}}else for(let a=0,o=s.length;a<o;a++){const l=s[a],u=this._data.get(l);u!=null&&(!n||n(u))&&e(u,l)}}map(e,r){const n=r&&bl(r),i=[],s=this._data,a=[...nl(s).call(s)];for(let o=0,l=a.length;o<l;o++){const u=a[o],d=this._data.get(u);d!=null&&(!n||n(d))&&i.push(e(d,u))}return r&&r.order&&this._sort(i,r.order),i}_filterFields(e,r){var n;return e&&oae(n=mi(r)?r:tN(r)).call(n,(i,s)=>(i[s]=e[s],i),{})}_sort(e,r){if(typeof r=="string"){const n=r;hP(e).call(e,(i,s)=>{const a=i[n],o=s[n];return a>o?1:a<o?-1:0})}else if(typeof r=="function")hP(e).call(e,r);else throw new TypeError("Order must be a function or a string")}remove(e,r){const n=[],i=[],s=mi(e)?e:[e];for(let a=0,o=s.length;a<o;a++){const l=this._remove(s[a]);if(l){const u=l[this._idProp];u!=null&&(n.push(u),i.push(l))}}return n.length&&this._trigger("remove",{items:n,oldData:i},r),n}_remove(e){let r;if(ZA(e)?r=e:e&&typeof e=="object"&&(r=e[this._idProp]),r!=null&&this._data.has(r)){const n=this._data.get(r)||null;return this._data.delete(r),--this.length,n}return null}clear(e){var r;const n=[...nl(r=this._data).call(r)],i=[];for(let s=0,a=n.length;s<a;s++)i.push(this._data.get(n[s]));return this._data.clear(),this.length=0,this._trigger("remove",{items:n,oldData:i},e),n}max(e){let r=null,n=null;for(const s of VA(i=this._data).call(i)){var i;const a=s[e];typeof a=="number"&&(n==null||a>n)&&(r=s,n=a)}return r||null}min(e){let r=null,n=null;for(const s of VA(i=this._data).call(i)){var i;const a=s[e];typeof a=="number"&&(n==null||a<n)&&(r=s,n=a)}return r||null}distinct(e){const r=this._data,n=[...nl(r).call(r)],i=[];let s=0;for(let a=0,o=n.length;a<o;a++){const l=n[a],d=r.get(l)[e];let h=!1;for(let f=0;f<s;f++)if(i[f]==d){h=!0;break}!h&&d!==void 0&&(i[s]=d,s++)}return i}_addItem(e){const r=Lce(e,this._idProp),n=r[this._idProp];if(this._data.has(n))throw new Error("Cannot add item: item with id "+n+" already exists");return this._data.set(n,r),++this.length,n}_updateItem(e){const r=e[this._idProp];if(r==null)throw new Error("Cannot update item: item has no id (item: "+Loe(e)+")");const n=this._data.get(r);if(!n)throw new Error("Cannot update item: no item with id "+r+" found");return this._data.set(r,HF(HF({},n),e)),r}stream(e){if(e){const n=this._data;return new Fa({*[_l](){for(const i of e){const s=n.get(i);s!=null&&(yield[i,s])}}})}else{var r;return new Fa({[_l]:mK(r=sce(this._data)).call(r,this._data)})}}}function Bce(t,e){return typeof e=="object"&&e!==null&&t===e.idProp&&typeof e.add=="function"&&typeof e.clear=="function"&&typeof e.distinct=="function"&&typeof xo(e)=="function"&&typeof e.get=="function"&&typeof e.getDataSet=="function"&&typeof e.getIds=="function"&&typeof e.length=="number"&&typeof Jn(e)=="function"&&typeof e.max=="function"&&typeof e.min=="function"&&typeof e.off=="function"&&typeof e.on=="function"&&typeof e.remove=="function"&&typeof e.setOptions=="function"&&typeof e.stream=="function"&&typeof e.update=="function"&&typeof e.updateOnly=="function"}function iG(t,e){return typeof e=="object"&&e!==null&&t===e.idProp&&typeof xo(e)=="function"&&typeof e.get=="function"&&typeof e.getDataSet=="function"&&typeof e.getIds=="function"&&typeof e.length=="number"&&typeof Jn(e)=="function"&&typeof e.off=="function"&&typeof e.on=="function"&&typeof e.stream=="function"&&Bce(t,e.getDataSet())}/**
 * vis-network
 * https://visjs.github.io/vis-network/
 *
 * A dynamic, browser-based visualization library.
 *
 * @version 10.0.2
 * @date    2025-09-15T17:48:13.838Z
 *
 * @copyright (c) 2011-2017 Almende B.V, http://almende.com
 * @copyright (c) 2017-2019 visjs contributors, https://github.com/visjs
 *
 * @license
 * vis.js is dual licensed under both
 *
 *   1. The Apache 2.0 License
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 *   and
 *
 *   2. The MIT License
 *      http://opensource.org/licenses/MIT
 *
 * vis.js may be distributed under either license.
 */var VF=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Pe(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var KF={},pc,GF;function mt(){if(GF)return pc;GF=1;var t=function(e){return e&&e.Math===Math&&e};return pc=t(typeof globalThis=="object"&&globalThis)||t(typeof window=="object"&&window)||t(typeof self=="object"&&self)||t(typeof VF=="object"&&VF)||t(typeof pc=="object"&&pc)||function(){return this}()||Function("return this")(),pc}var P1,YF;function qe(){return YF||(YF=1,P1=function(t){try{return!!t()}catch{return!0}}),P1}var C1,QF;function sh(){if(QF)return C1;QF=1;var t=qe();return C1=!t(function(){var e=(function(){}).bind();return typeof e!="function"||e.hasOwnProperty("prototype")}),C1}var N1,XF;function lm(){if(XF)return N1;XF=1;var t=sh(),e=Function.prototype,r=e.apply,n=e.call;return N1=typeof Reflect=="object"&&Reflect.apply||(t?n.bind(r):function(){return n.apply(r,arguments)}),N1}var T1,JF;function Be(){if(JF)return T1;JF=1;var t=sh(),e=Function.prototype,r=e.call,n=t&&e.bind.bind(r,r);return T1=t?n:function(i){return function(){return r.apply(i,arguments)}},T1}var I1,ZF;function Ii(){if(ZF)return I1;ZF=1;var t=Be(),e=t({}.toString),r=t("".slice);return I1=function(n){return r(e(n),8,-1)},I1}var R1,e4;function fN(){if(e4)return R1;e4=1;var t=Ii(),e=Be();return R1=function(r){if(t(r)==="Function")return e(r)},R1}var j1,t4;function ur(){if(t4)return j1;t4=1;var t=typeof document=="object"&&document.all;return j1=typeof t>"u"&&t!==void 0?function(e){return typeof e=="function"||e===t}:function(e){return typeof e=="function"},j1}var $1={},k1,r4;function Dt(){if(r4)return k1;r4=1;var t=qe();return k1=!t(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!==7}),k1}var D1,n4;function ln(){if(n4)return D1;n4=1;var t=sh(),e=Function.prototype.call;return D1=t?e.bind(e):function(){return e.apply(e,arguments)},D1}var q1={},i4;function um(){if(i4)return q1;i4=1;var t={}.propertyIsEnumerable,e=Object.getOwnPropertyDescriptor,r=e&&!t.call({1:2},1);return q1.f=r?function(i){var s=e(this,i);return!!s&&s.enumerable}:t,q1}var M1,s4;function ah(){return s4||(s4=1,M1=function(t,e){return{enumerable:!(t&1),configurable:!(t&2),writable:!(t&4),value:e}}),M1}var A1,a4;function cm(){if(a4)return A1;a4=1;var t=Be(),e=qe(),r=Ii(),n=Object,i=t("".split);return A1=e(function(){return!n("z").propertyIsEnumerable(0)})?function(s){return r(s)==="String"?i(s,""):n(s)}:n,A1}var F1,o4;function Mu(){return o4||(o4=1,F1=function(t){return t==null}),F1}var L1,l4;function gs(){if(l4)return L1;l4=1;var t=Mu(),e=TypeError;return L1=function(r){if(t(r))throw new e("Can't call method on "+r);return r},L1}var B1,u4;function ci(){if(u4)return B1;u4=1;var t=cm(),e=gs();return B1=function(r){return t(e(r))},B1}var z1,c4;function cr(){if(c4)return z1;c4=1;var t=ur();return z1=function(e){return typeof e=="object"?e!==null:t(e)},z1}var U1,d4;function Ye(){return d4||(d4=1,U1={}),U1}var W1,h4;function xn(){if(h4)return W1;h4=1;var t=Ye(),e=mt(),r=ur(),n=function(i){return r(i)?i:void 0};return W1=function(i,s){return arguments.length<2?n(t[i])||n(e[i]):t[i]&&t[i][s]||e[i]&&e[i][s]},W1}var H1,f4;function Wt(){if(f4)return H1;f4=1;var t=Be();return H1=t({}.isPrototypeOf),H1}var V1,p4;function Au(){if(p4)return V1;p4=1;var t=mt(),e=t.navigator,r=e&&e.userAgent;return V1=r?String(r):"",V1}var K1,m4;function oh(){if(m4)return K1;m4=1;var t=mt(),e=Au(),r=t.process,n=t.Deno,i=r&&r.versions||n&&n.version,s=i&&i.v8,a,o;return s&&(a=s.split("."),o=a[0]>0&&a[0]<4?1:+(a[0]+a[1])),!o&&e&&(a=e.match(/Edge\/(\d+)/),(!a||a[1]>=74)&&(a=e.match(/Chrome\/(\d+)/),a&&(o=+a[1]))),K1=o,K1}var G1,v4;function Fu(){if(v4)return G1;v4=1;var t=oh(),e=qe(),r=mt(),n=r.String;return G1=!!Object.getOwnPropertySymbols&&!e(function(){var i=Symbol("symbol detection");return!n(i)||!(Object(i)instanceof Symbol)||!Symbol.sham&&t&&t<41}),G1}var Y1,g4;function sG(){if(g4)return Y1;g4=1;var t=Fu();return Y1=t&&!Symbol.sham&&typeof Symbol.iterator=="symbol",Y1}var Q1,y4;function lh(){if(y4)return Q1;y4=1;var t=xn(),e=ur(),r=Wt(),n=sG(),i=Object;return Q1=n?function(s){return typeof s=="symbol"}:function(s){var a=t("Symbol");return e(a)&&r(a.prototype,i(s))},Q1}var X1,b4;function Lu(){if(b4)return X1;b4=1;var t=String;return X1=function(e){try{return t(e)}catch{return"Object"}},X1}var J1,w4;function ys(){if(w4)return J1;w4=1;var t=ur(),e=Lu(),r=TypeError;return J1=function(n){if(t(n))return n;throw new r(e(n)+" is not a function")},J1}var Z1,x4;function pN(){if(x4)return Z1;x4=1;var t=ys(),e=Mu();return Z1=function(r,n){var i=r[n];return e(i)?void 0:t(i)},Z1}var ew,_4;function zce(){if(_4)return ew;_4=1;var t=ln(),e=ur(),r=cr(),n=TypeError;return ew=function(i,s){var a,o;if(s==="string"&&e(a=i.toString)&&!r(o=t(a,i))||e(a=i.valueOf)&&!r(o=t(a,i))||s!=="string"&&e(a=i.toString)&&!r(o=t(a,i)))return o;throw new n("Can't convert object to primitive value")},ew}var tw={exports:{}},rw,S4;function Bu(){return S4||(S4=1,rw=!0),rw}var nw,E4;function Uce(){if(E4)return nw;E4=1;var t=mt(),e=Object.defineProperty;return nw=function(r,n){try{e(t,r,{value:n,configurable:!0,writable:!0})}catch{t[r]=n}return n},nw}var O4;function mN(){if(O4)return tw.exports;O4=1;var t=Bu(),e=mt(),r=Uce(),n="__core-js_shared__",i=tw.exports=e[n]||r(n,{});return(i.versions||(i.versions=[])).push({version:"3.44.0",mode:t?"pure":"global",copyright:" 2014-2025 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.44.0/LICENSE",source:"https://github.com/zloirock/core-js"}),tw.exports}var iw,P4;function zu(){if(P4)return iw;P4=1;var t=mN();return iw=function(e,r){return t[e]||(t[e]=r||{})},iw}var sw,C4;function _n(){if(C4)return sw;C4=1;var t=gs(),e=Object;return sw=function(r){return e(t(r))},sw}var aw,N4;function br(){if(N4)return aw;N4=1;var t=Be(),e=_n(),r=t({}.hasOwnProperty);return aw=Object.hasOwn||function(i,s){return r(e(i),s)},aw}var ow,T4;function dm(){if(T4)return ow;T4=1;var t=Be(),e=0,r=Math.random(),n=t(1.1.toString);return ow=function(i){return"Symbol("+(i===void 0?"":i)+")_"+n(++e+r,36)},ow}var lw,I4;function Ht(){if(I4)return lw;I4=1;var t=mt(),e=zu(),r=br(),n=dm(),i=Fu(),s=sG(),a=t.Symbol,o=e("wks"),l=s?a.for||a:a&&a.withoutSetter||n;return lw=function(u){return r(o,u)||(o[u]=i&&r(a,u)?a[u]:l("Symbol."+u)),o[u]},lw}var uw,R4;function aG(){if(R4)return uw;R4=1;var t=ln(),e=cr(),r=lh(),n=pN(),i=zce(),s=Ht(),a=TypeError,o=s("toPrimitive");return uw=function(l,u){if(!e(l)||r(l))return l;var d=n(l,o),h;if(d){if(u===void 0&&(u="default"),h=t(d,l,u),!e(h)||r(h))return h;throw new a("Can't convert object to primitive value")}return u===void 0&&(u="number"),i(l,u)},uw}var cw,j4;function vN(){if(j4)return cw;j4=1;var t=aG(),e=lh();return cw=function(r){var n=t(r,"string");return e(n)?n:n+""},cw}var dw,$4;function oG(){if($4)return dw;$4=1;var t=mt(),e=cr(),r=t.document,n=e(r)&&e(r.createElement);return dw=function(i){return n?r.createElement(i):{}},dw}var hw,k4;function lG(){if(k4)return hw;k4=1;var t=Dt(),e=qe(),r=oG();return hw=!t&&!e(function(){return Object.defineProperty(r("div"),"a",{get:function(){return 7}}).a!==7}),hw}var D4;function hm(){if(D4)return $1;D4=1;var t=Dt(),e=ln(),r=um(),n=ah(),i=ci(),s=vN(),a=br(),o=lG(),l=Object.getOwnPropertyDescriptor;return $1.f=t?l:function(d,h){if(d=i(d),h=s(h),o)try{return l(d,h)}catch{}if(a(d,h))return n(!e(r.f,d,h),d[h])},$1}var fw,q4;function Wce(){if(q4)return fw;q4=1;var t=qe(),e=ur(),r=/#|\.prototype\./,n=function(l,u){var d=s[i(l)];return d===o?!0:d===a?!1:e(u)?t(u):!!u},i=n.normalize=function(l){return String(l).replace(r,".").toLowerCase()},s=n.data={},a=n.NATIVE="N",o=n.POLYFILL="P";return fw=n,fw}var pw,M4;function fm(){if(M4)return pw;M4=1;var t=fN(),e=ys(),r=sh(),n=t(t.bind);return pw=function(i,s){return e(i),s===void 0?i:r?n(i,s):function(){return i.apply(s,arguments)}},pw}var mw={},vw,A4;function uG(){if(A4)return vw;A4=1;var t=Dt(),e=qe();return vw=t&&e(function(){return Object.defineProperty(function(){},"prototype",{value:42,writable:!1}).prototype!==42}),vw}var gw,F4;function Ri(){if(F4)return gw;F4=1;var t=cr(),e=String,r=TypeError;return gw=function(n){if(t(n))return n;throw new r(e(n)+" is not an object")},gw}var L4;function Bn(){if(L4)return mw;L4=1;var t=Dt(),e=lG(),r=uG(),n=Ri(),i=vN(),s=TypeError,a=Object.defineProperty,o=Object.getOwnPropertyDescriptor,l="enumerable",u="configurable",d="writable";return mw.f=t?r?function(f,p,m){if(n(f),p=i(p),n(m),typeof f=="function"&&p==="prototype"&&"value"in m&&d in m&&!m[d]){var y=o(f,p);y&&y[d]&&(f[p]=m.value,m={configurable:u in m?m[u]:y[u],enumerable:l in m?m[l]:y[l],writable:!1})}return a(f,p,m)}:a:function(f,p,m){if(n(f),p=i(p),n(m),e)try{return a(f,p,m)}catch{}if("get"in m||"set"in m)throw new s("Accessors not supported");return"value"in m&&(f[p]=m.value),f},mw}var yw,B4;function Uu(){if(B4)return yw;B4=1;var t=Dt(),e=Bn(),r=ah();return yw=t?function(n,i,s){return e.f(n,i,r(1,s))}:function(n,i,s){return n[i]=s,n},yw}var bw,z4;function we(){if(z4)return bw;z4=1;var t=mt(),e=lm(),r=fN(),n=ur(),i=hm().f,s=Wce(),a=Ye(),o=fm(),l=Uu(),u=br(),d=function(h){var f=function(p,m,y){if(this instanceof f){switch(arguments.length){case 0:return new h;case 1:return new h(p);case 2:return new h(p,m)}return new h(p,m,y)}return e(h,this,arguments)};return f.prototype=h.prototype,f};return bw=function(h,f){var p=h.target,m=h.global,y=h.stat,b=h.proto,g=m?t:y?t[p]:t[p]&&t[p].prototype,v=m?a:a[p]||l(a,p,{})[p],x=v.prototype,w,_,E,O,S,P,C,I,N;for(O in f)w=s(m?O:p+(y?".":"#")+O,h.forced),_=!w&&g&&u(g,O),P=v[O],_&&(h.dontCallGetSet?(N=i(g,O),C=N&&N.value):C=g[O]),S=_&&C?C:f[O],!(!w&&!b&&typeof P==typeof S)&&(h.bind&&_?I=o(S,t):h.wrap&&_?I=d(S):b&&n(S)?I=r(S):I=S,(h.sham||S&&S.sham||P&&P.sham)&&l(I,"sham",!0),l(v,O,I),b&&(E=p+"Prototype",u(a,E)||l(a,E,{}),l(a[E],O,S),h.real&&x&&(w||!x[O])&&l(x,O,S)))},bw}var ww,U4;function Hce(){if(U4)return ww;U4=1;var t=Math.ceil,e=Math.floor;return ww=Math.trunc||function(n){var i=+n;return(i>0?e:t)(i)},ww}var xw,W4;function Wu(){if(W4)return xw;W4=1;var t=Hce();return xw=function(e){var r=+e;return r!==r||r===0?0:t(r)},xw}var _w,H4;function pm(){if(H4)return _w;H4=1;var t=Wu(),e=Math.max,r=Math.min;return _w=function(n,i){var s=t(n);return s<0?e(s+i,0):r(s,i)},_w}var Sw,V4;function cG(){if(V4)return Sw;V4=1;var t=Wu(),e=Math.min;return Sw=function(r){var n=t(r);return n>0?e(n,9007199254740991):0},Sw}var Ew,K4;function bs(){if(K4)return Ew;K4=1;var t=cG();return Ew=function(e){return t(e.length)},Ew}var Ow,G4;function gN(){if(G4)return Ow;G4=1;var t=ci(),e=pm(),r=bs(),n=function(i){return function(s,a,o){var l=t(s),u=r(l);if(u===0)return!i&&-1;var d=e(o,u),h;if(i&&a!==a){for(;u>d;)if(h=l[d++],h!==h)return!0}else for(;u>d;d++)if((i||d in l)&&l[d]===a)return i||d||0;return!i&&-1}};return Ow={includes:n(!0),indexOf:n(!1)},Ow}var Pw,Y4;function uh(){return Y4||(Y4=1,Pw={}),Pw}var Cw,Q4;function dG(){if(Q4)return Cw;Q4=1;var t=Be(),e=br(),r=ci(),n=gN().indexOf,i=uh(),s=t([].push);return Cw=function(a,o){var l=r(a),u=0,d=[],h;for(h in l)!e(i,h)&&e(l,h)&&s(d,h);for(;o.length>u;)e(l,h=o[u++])&&(~n(d,h)||s(d,h));return d},Cw}var Nw,X4;function yN(){return X4||(X4=1,Nw=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]),Nw}var Tw,J4;function ch(){if(J4)return Tw;J4=1;var t=dG(),e=yN();return Tw=Object.keys||function(n){return t(n,e)},Tw}var Iw={},Z4;function mm(){return Z4||(Z4=1,Iw.f=Object.getOwnPropertySymbols),Iw}var Rw,e5;function Vce(){if(e5)return Rw;e5=1;var t=Dt(),e=Be(),r=ln(),n=qe(),i=ch(),s=mm(),a=um(),o=_n(),l=cm(),u=Object.assign,d=Object.defineProperty,h=e([].concat);return Rw=!u||n(function(){if(t&&u({b:1},u(d({},"a",{enumerable:!0,get:function(){d(this,"b",{value:3,enumerable:!1})}}),{b:2})).b!==1)return!0;var f={},p={},m=Symbol("assign detection"),y="abcdefghijklmnopqrst";return f[m]=7,y.split("").forEach(function(b){p[b]=b}),u({},f)[m]!==7||i(u({},p)).join("")!==y})?function(p,m){for(var y=o(p),b=arguments.length,g=1,v=s.f,x=a.f;b>g;)for(var w=l(arguments[g++]),_=v?h(i(w),v(w)):i(w),E=_.length,O=0,S;E>O;)S=_[O++],(!t||r(x,w,S))&&(y[S]=w[S]);return y}:u,Rw}var t5;function Kce(){if(t5)return KF;t5=1;var t=we(),e=Vce();return t({target:"Object",stat:!0,arity:2,forced:Object.assign!==e},{assign:e}),KF}var jw,r5;function Gce(){if(r5)return jw;r5=1,Kce();var t=Ye();return jw=t.Object.assign,jw}var $w,n5;function Yce(){if(n5)return $w;n5=1;var t=Gce();return $w=t,$w}var kw,i5;function Qce(){return i5||(i5=1,kw=Yce()),kw}var Xce=Qce(),Lt=Pe(Xce),s5={},Dw,a5;function Hu(){if(a5)return Dw;a5=1;var t=Be();return Dw=t([].slice),Dw}var qw,o5;function Jce(){if(o5)return qw;o5=1;var t=Be(),e=ys(),r=cr(),n=br(),i=Hu(),s=sh(),a=Function,o=t([].concat),l=t([].join),u={},d=function(h,f,p){if(!n(u,f)){for(var m=[],y=0;y<f;y++)m[y]="a["+y+"]";u[f]=a("C,a","return new C("+l(m,",")+")")}return u[f](h,p)};return qw=s?a.bind:function(f){var p=e(this),m=p.prototype,y=i(arguments,1),b=function(){var v=o(y,i(arguments));return this instanceof b?d(p,v.length,v):p.apply(f,v)};return r(m)&&(b.prototype=m),b},qw}var l5;function Zce(){if(l5)return s5;l5=1;var t=we(),e=Jce();return t({target:"Function",proto:!0,forced:Function.bind!==e},{bind:e}),s5}var Mw,u5;function wr(){if(u5)return Mw;u5=1;var t=mt(),e=Ye();return Mw=function(r,n){var i=e[r+"Prototype"],s=i&&i[n];if(s)return s;var a=t[r],o=a&&a.prototype;return o&&o[n]},Mw}var Aw,c5;function ede(){if(c5)return Aw;c5=1,Zce();var t=wr();return Aw=t("Function","bind"),Aw}var Fw,d5;function tde(){if(d5)return Fw;d5=1;var t=Wt(),e=ede(),r=Function.prototype;return Fw=function(n){var i=n.bind;return n===r||t(r,n)&&i===r.bind?e:i},Fw}var Lw,h5;function rde(){if(h5)return Lw;h5=1;var t=tde();return Lw=t,Lw}var Bw,f5;function nde(){return f5||(f5=1,Bw=rde()),Bw}var ide=nde(),Y=Pe(ide);function bN(t,e,r,n){t.beginPath(),t.arc(e,r,n,0,2*Math.PI,!1),t.closePath()}function sde(t,e,r,n){t.beginPath(),t.rect(e-n,r-n,n*2,n*2),t.closePath()}function ade(t,e,r,n){t.beginPath(),n*=1.15,r+=.275*n;const i=n*2,s=i/2,a=Math.sqrt(3)/6*i,o=Math.sqrt(i*i-s*s);t.moveTo(e,r-(o-a)),t.lineTo(e+s,r+a),t.lineTo(e-s,r+a),t.lineTo(e,r-(o-a)),t.closePath()}function ode(t,e,r,n){t.beginPath(),n*=1.15,r-=.275*n;const i=n*2,s=i/2,a=Math.sqrt(3)/6*i,o=Math.sqrt(i*i-s*s);t.moveTo(e,r+(o-a)),t.lineTo(e+s,r-a),t.lineTo(e-s,r-a),t.lineTo(e,r+(o-a)),t.closePath()}function lde(t,e,r,n){t.beginPath(),n*=.82,r+=.1*n;for(let i=0;i<10;i++){const s=i%2===0?n*1.3:n*.5;t.lineTo(e+s*Math.sin(i*2*Math.PI/10),r-s*Math.cos(i*2*Math.PI/10))}t.closePath()}function ude(t,e,r,n){t.beginPath(),t.lineTo(e,r+n),t.lineTo(e+n,r),t.lineTo(e,r-n),t.lineTo(e-n,r),t.closePath()}function hG(t,e,r,n,i,s){const a=Math.PI/180;n-2*s<0&&(s=n/2),i-2*s<0&&(s=i/2),t.beginPath(),t.moveTo(e+s,r),t.lineTo(e+n-s,r),t.arc(e+n-s,r+s,s,a*270,a*360,!1),t.lineTo(e+n,r+i-s),t.arc(e+n-s,r+i-s,s,0,a*90,!1),t.lineTo(e+s,r+i),t.arc(e+s,r+i-s,s,a*90,a*180,!1),t.lineTo(e,r+s),t.arc(e+s,r+s,s,a*180,a*270,!1),t.closePath()}function fP(t,e,r,n,i){const s=.5522848,a=n/2*s,o=i/2*s,l=e+n,u=r+i,d=e+n/2,h=r+i/2;t.beginPath(),t.moveTo(e,h),t.bezierCurveTo(e,h-o,d-a,r,d,r),t.bezierCurveTo(d+a,r,l,h-o,l,h),t.bezierCurveTo(l,h+o,d+a,u,d,u),t.bezierCurveTo(d-a,u,e,h+o,e,h),t.closePath()}function fG(t,e,r,n,i){const s=.3333333333333333,a=n,o=i*s,l=.5522848,u=a/2*l,d=o/2*l,h=e+a,f=r+o,p=e+a/2,m=r+o/2,y=r+(i-o/2),b=r+i;t.beginPath(),t.moveTo(h,m),t.bezierCurveTo(h,m+d,p+u,f,p,f),t.bezierCurveTo(p-u,f,e,m+d,e,m),t.bezierCurveTo(e,m-d,p-u,r,p,r),t.bezierCurveTo(p+u,r,h,m-d,h,m),t.lineTo(h,y),t.bezierCurveTo(h,y+d,p+u,b,p,b),t.bezierCurveTo(p-u,b,e,y+d,e,y),t.lineTo(e,m)}function pG(t,e,r,n,i,s){t.beginPath(),t.moveTo(e,r);const a=s.length,o=n-e,l=i-r,u=l/o;let d=Math.sqrt(o*o+l*l),h=0,f=!0,p=0,m=+s[0];for(;d>=.1;)m=+s[h++%a],m>d&&(m=d),p=Math.sqrt(m*m/(1+u*u)),p=o<0?-p:p,e+=p,r+=u*p,f===!0?t.lineTo(e,r):t.moveTo(e,r),d-=m,f=!f}function cde(t,e,r,n){t.beginPath();const i=6,s=Math.PI*2/i;t.moveTo(e+n,r);for(let a=1;a<i;a++)t.lineTo(e+n*Math.cos(s*a),r+n*Math.sin(s*a));t.closePath()}const p5={circle:bN,dashedLine:pG,database:fG,diamond:ude,ellipse:fP,ellipse_vis:fP,hexagon:cde,roundRect:hG,square:sde,star:lde,triangle:ade,triangleDown:ode};function dde(t){return Object.prototype.hasOwnProperty.call(p5,t)?p5[t]:function(e){for(var r=arguments.length,n=new Array(r>1?r-1:0),i=1;i<r;i++)n[i-1]=arguments[i];CanvasRenderingContext2D.prototype[t].call(e,n)}}var zw={exports:{}},m5;function hde(){return m5||(m5=1,function(t){t.exports=e;function e(n){if(n)return r(n)}function r(n){for(var i in e.prototype)n[i]=e.prototype[i];return n}e.prototype.on=e.prototype.addEventListener=function(n,i){return this._callbacks=this._callbacks||{},(this._callbacks["$"+n]=this._callbacks["$"+n]||[]).push(i),this},e.prototype.once=function(n,i){function s(){this.off(n,s),i.apply(this,arguments)}return s.fn=i,this.on(n,s),this},e.prototype.off=e.prototype.removeListener=e.prototype.removeAllListeners=e.prototype.removeEventListener=function(n,i){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var s=this._callbacks["$"+n];if(!s)return this;if(arguments.length==1)return delete this._callbacks["$"+n],this;for(var a,o=0;o<s.length;o++)if(a=s[o],a===i||a.fn===i){s.splice(o,1);break}return s.length===0&&delete this._callbacks["$"+n],this},e.prototype.emit=function(n){this._callbacks=this._callbacks||{};for(var i=new Array(arguments.length-1),s=this._callbacks["$"+n],a=1;a<arguments.length;a++)i[a-1]=arguments[a];if(s){s=s.slice(0);for(var a=0,o=s.length;a<o;++a)s[a].apply(this,i)}return this},e.prototype.listeners=function(n){return this._callbacks=this._callbacks||{},this._callbacks["$"+n]||[]},e.prototype.hasListeners=function(n){return!!this.listeners(n).length}}(zw)),zw.exports}var fde=hde(),mG=Pe(fde),v5={},Uw,g5;function Bo(){if(g5)return Uw;g5=1;var t=Ii();return Uw=Array.isArray||function(r){return t(r)==="Array"},Uw}var Ww,y5;function vG(){if(y5)return Ww;y5=1;var t=TypeError,e=9007199254740991;return Ww=function(r){if(r>e)throw t("Maximum allowed index exceeded");return r},Ww}var Hw,b5;function vm(){if(b5)return Hw;b5=1;var t=Dt(),e=Bn(),r=ah();return Hw=function(n,i,s){t?e.f(n,i,r(0,s)):n[i]=s},Hw}var Vw,w5;function wN(){if(w5)return Vw;w5=1;var t=Ht(),e=t("toStringTag"),r={};return r[e]="z",Vw=String(r)==="[object z]",Vw}var Kw,x5;function Vu(){if(x5)return Kw;x5=1;var t=wN(),e=ur(),r=Ii(),n=Ht(),i=n("toStringTag"),s=Object,a=r(function(){return arguments}())==="Arguments",o=function(l,u){try{return l[u]}catch{}};return Kw=t?r:function(l){var u,d,h;return l===void 0?"Undefined":l===null?"Null":typeof(d=o(u=s(l),i))=="string"?d:a?r(u):(h=r(u))==="Object"&&e(u.callee)?"Arguments":h},Kw}var Gw,_5;function pde(){if(_5)return Gw;_5=1;var t=Be(),e=ur(),r=mN(),n=t(Function.toString);return e(r.inspectSource)||(r.inspectSource=function(i){return n(i)}),Gw=r.inspectSource,Gw}var Yw,S5;function gG(){if(S5)return Yw;S5=1;var t=Be(),e=qe(),r=ur(),n=Vu(),i=xn(),s=pde(),a=function(){},o=i("Reflect","construct"),l=/^\s*(?:class|function)\b/,u=t(l.exec),d=!l.test(a),h=function(m){if(!r(m))return!1;try{return o(a,[],m),!0}catch{return!1}},f=function(m){if(!r(m))return!1;switch(n(m)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return d||!!u(l,s(m))}catch{return!0}};return f.sham=!0,Yw=!o||e(function(){var p;return h(h.call)||!h(Object)||!h(function(){p=!0})||p})?f:h,Yw}var Qw,E5;function mde(){if(E5)return Qw;E5=1;var t=Bo(),e=gG(),r=cr(),n=Ht(),i=n("species"),s=Array;return Qw=function(a){var o;return t(a)&&(o=a.constructor,e(o)&&(o===s||t(o.prototype))?o=void 0:r(o)&&(o=o[i],o===null&&(o=void 0))),o===void 0?s:o},Qw}var Xw,O5;function xN(){if(O5)return Xw;O5=1;var t=mde();return Xw=function(e,r){return new(t(e))(r===0?0:r)},Xw}var Jw,P5;function dh(){if(P5)return Jw;P5=1;var t=qe(),e=Ht(),r=oh(),n=e("species");return Jw=function(i){return r>=51||!t(function(){var s=[],a=s.constructor={};return a[n]=function(){return{foo:1}},s[i](Boolean).foo!==1})},Jw}var C5;function yG(){if(C5)return v5;C5=1;var t=we(),e=qe(),r=Bo(),n=cr(),i=_n(),s=bs(),a=vG(),o=vm(),l=xN(),u=dh(),d=Ht(),h=oh(),f=d("isConcatSpreadable"),p=h>=51||!e(function(){var b=[];return b[f]=!1,b.concat()[0]!==b}),m=function(b){if(!n(b))return!1;var g=b[f];return g!==void 0?!!g:r(b)},y=!p||!u("concat");return t({target:"Array",proto:!0,arity:1,forced:y},{concat:function(g){var v=i(this),x=l(v,0),w=0,_,E,O,S,P;for(_=-1,O=arguments.length;_<O;_++)if(P=_===-1?v:arguments[_],m(P))for(S=s(P),a(w+S),E=0;E<S;E++,w++)E in P&&o(x,w,P[E]);else a(w+1),o(x,w++,P);return x.length=w,x}}),v5}var N5={},T5={},Zw,I5;function zn(){if(I5)return Zw;I5=1;var t=Vu(),e=String;return Zw=function(r){if(t(r)==="Symbol")throw new TypeError("Cannot convert a Symbol value to a string");return e(r)},Zw}var ex={},R5;function _N(){if(R5)return ex;R5=1;var t=Dt(),e=uG(),r=Bn(),n=Ri(),i=ci(),s=ch();return ex.f=t&&!e?Object.defineProperties:function(o,l){n(o);for(var u=i(l),d=s(l),h=d.length,f=0,p;h>f;)r.f(o,p=d[f++],u[p]);return o},ex}var tx,j5;function vde(){if(j5)return tx;j5=1;var t=xn();return tx=t("document","documentElement"),tx}var rx,$5;function gm(){if($5)return rx;$5=1;var t=zu(),e=dm(),r=t("keys");return rx=function(n){return r[n]||(r[n]=e(n))},rx}var nx,k5;function hh(){if(k5)return nx;k5=1;var t=Ri(),e=_N(),r=yN(),n=uh(),i=vde(),s=oG(),a=gm(),o=">",l="<",u="prototype",d="script",h=a("IE_PROTO"),f=function(){},p=function(v){return l+d+o+v+l+"/"+d+o},m=function(v){v.write(p("")),v.close();var x=v.parentWindow.Object;return v=null,x},y=function(){var v=s("iframe"),x="java"+d+":",w;return v.style.display="none",i.appendChild(v),v.src=String(x),w=v.contentWindow.document,w.open(),w.write(p("document.F=Object")),w.close(),w.F},b,g=function(){try{b=new ActiveXObject("htmlfile")}catch{}g=typeof document<"u"?document.domain&&b?m(b):y():m(b);for(var v=r.length;v--;)delete g[u][r[v]];return g()};return n[h]=!0,nx=Object.create||function(x,w){var _;return x!==null?(f[u]=t(x),_=new f,f[u]=null,_[h]=x):_=g(),w===void 0?_:e.f(_,w)},nx}var ix={},D5;function ym(){if(D5)return ix;D5=1;var t=dG(),e=yN(),r=e.concat("length","prototype");return ix.f=Object.getOwnPropertyNames||function(i){return t(i,r)},ix}var sx={},q5;function SN(){if(q5)return sx;q5=1;var t=Ii(),e=ci(),r=ym().f,n=Hu(),i=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],s=function(a){try{return r(a)}catch{return n(i)}};return sx.f=function(o){return i&&t(o)==="Window"?s(o):r(e(o))},sx}var ax,M5;function fh(){if(M5)return ax;M5=1;var t=Uu();return ax=function(e,r,n,i){return i&&i.enumerable?e[r]=n:t(e,r,n),e},ax}var ox,A5;function EN(){if(A5)return ox;A5=1;var t=Bn();return ox=function(e,r,n){return t.f(e,r,n)},ox}var lx={},F5;function bm(){if(F5)return lx;F5=1;var t=Ht();return lx.f=t,lx}var ux,L5;function _t(){if(L5)return ux;L5=1;var t=Ye(),e=br(),r=bm(),n=Bn().f;return ux=function(i){var s=t.Symbol||(t.Symbol={});e(s,i)||n(s,i,{value:r.f(i)})},ux}var cx,B5;function bG(){if(B5)return cx;B5=1;var t=ln(),e=xn(),r=Ht(),n=fh();return cx=function(){var i=e("Symbol"),s=i&&i.prototype,a=s&&s.valueOf,o=r("toPrimitive");s&&!s[o]&&n(s,o,function(l){return t(a,this)},{arity:1})},cx}var dx,z5;function gde(){if(z5)return dx;z5=1;var t=wN(),e=Vu();return dx=t?{}.toString:function(){return"[object "+e(this)+"]"},dx}var hx,U5;function zo(){if(U5)return hx;U5=1;var t=wN(),e=Bn().f,r=Uu(),n=br(),i=gde(),s=Ht(),a=s("toStringTag");return hx=function(o,l,u,d){var h=u?o:o&&o.prototype;h&&(n(h,a)||e(h,a,{configurable:!0,value:l}),d&&!t&&r(h,"toString",i))},hx}var fx,W5;function wG(){if(W5)return fx;W5=1;var t=mt(),e=ur(),r=t.WeakMap;return fx=e(r)&&/native code/.test(String(r)),fx}var px,H5;function Uo(){if(H5)return px;H5=1;var t=wG(),e=mt(),r=cr(),n=Uu(),i=br(),s=mN(),a=gm(),o=uh(),l="Object already initialized",u=e.TypeError,d=e.WeakMap,h,f,p,m=function(v){return p(v)?f(v):h(v,{})},y=function(v){return function(x){var w;if(!r(x)||(w=f(x)).type!==v)throw new u("Incompatible receiver, "+v+" required");return w}};if(t||s.state){var b=s.state||(s.state=new d);b.get=b.get,b.has=b.has,b.set=b.set,h=function(v,x){if(b.has(v))throw new u(l);return x.facade=v,b.set(v,x),x},f=function(v){return b.get(v)||{}},p=function(v){return b.has(v)}}else{var g=a("state");o[g]=!0,h=function(v,x){if(i(v,g))throw new u(l);return x.facade=v,n(v,g,x),x},f=function(v){return i(v,g)?v[g]:{}},p=function(v){return i(v,g)}}return px={set:h,get:f,has:p,enforce:m,getterFor:y},px}var mx,V5;function _a(){if(V5)return mx;V5=1;var t=fm(),e=Be(),r=cm(),n=_n(),i=bs(),s=xN(),a=e([].push),o=function(l){var u=l===1,d=l===2,h=l===3,f=l===4,p=l===6,m=l===7,y=l===5||p;return function(b,g,v,x){for(var w=n(b),_=r(w),E=i(_),O=t(g,v),S=0,P=x||s,C=u?P(b,E):d||m?P(b,0):void 0,I,N;E>S;S++)if((y||S in _)&&(I=_[S],N=O(I,S,w),l))if(u)C[S]=N;else if(N)switch(l){case 3:return!0;case 5:return I;case 6:return S;case 2:a(C,I)}else switch(l){case 4:return!1;case 7:a(C,I)}return p?-1:h||f?f:C}};return mx={forEach:o(0),map:o(1),filter:o(2),some:o(3),every:o(4),find:o(5),findIndex:o(6),filterReject:o(7)},mx}var K5;function yde(){if(K5)return T5;K5=1;var t=we(),e=mt(),r=ln(),n=Be(),i=Bu(),s=Dt(),a=Fu(),o=qe(),l=br(),u=Wt(),d=Ri(),h=ci(),f=vN(),p=zn(),m=ah(),y=hh(),b=ch(),g=ym(),v=SN(),x=mm(),w=hm(),_=Bn(),E=_N(),O=um(),S=fh(),P=EN(),C=zu(),I=gm(),N=uh(),T=dm(),q=Ht(),B=bm(),X=_t(),H=bG(),L=zo(),W=Uo(),z=_a().forEach,U=I("hidden"),Q="Symbol",fe="prototype",ge=W.set,Me=W.getterFor(Q),xe=Object[fe],Oe=e.Symbol,Ne=Oe&&Oe[fe],vt=e.RangeError,Xe=e.TypeError,Vt=e.QObject,dr=w.f,ut=_.f,Nr=v.f,tt=O.f,Tr=n([].push),rt=C("symbols"),Kt=C("op-symbols"),un=C("wks"),Sn=!Vt||!Vt[fe]||!Vt[fe].findChild,j=function(pe,Z,oe){var ie=dr(xe,Z);ie&&delete xe[Z],ut(pe,Z,oe),ie&&pe!==xe&&ut(xe,Z,ie)},D=s&&o(function(){return y(ut({},"a",{get:function(){return ut(this,"a",{value:7}).a}})).a!==7})?j:ut,F=function(pe,Z){var oe=rt[pe]=y(Ne);return ge(oe,{type:Q,tag:pe,description:Z}),s||(oe.description=Z),oe},re=function(Z,oe,ie){Z===xe&&re(Kt,oe,ie),d(Z);var ve=f(oe);return d(ie),l(rt,ve)?(ie.enumerable?(l(Z,U)&&Z[U][ve]&&(Z[U][ve]=!1),ie=y(ie,{enumerable:m(0,!1)})):(l(Z,U)||ut(Z,U,m(1,y(null))),Z[U][ve]=!0),D(Z,ve,ie)):ut(Z,ve,ie)},J=function(Z,oe){d(Z);var ie=h(oe),ve=b(ie).concat(Rt(ie));return z(ve,function(k){(!s||r(ce,ie,k))&&re(Z,k,ie[k])}),Z},V=function(Z,oe){return oe===void 0?y(Z):J(y(Z),oe)},ce=function(Z){var oe=f(Z),ie=r(tt,this,oe);return this===xe&&l(rt,oe)&&!l(Kt,oe)?!1:ie||!l(this,oe)||!l(rt,oe)||l(this,U)&&this[U][oe]?ie:!0},je=function(Z,oe){var ie=h(Z),ve=f(oe);if(!(ie===xe&&l(rt,ve)&&!l(Kt,ve))){var k=dr(ie,ve);return k&&l(rt,ve)&&!(l(ie,U)&&ie[U][ve])&&(k.enumerable=!0),k}},Ae=function(Z){var oe=Nr(h(Z)),ie=[];return z(oe,function(ve){!l(rt,ve)&&!l(N,ve)&&Tr(ie,ve)}),ie},Rt=function(pe){var Z=pe===xe,oe=Nr(Z?Kt:h(pe)),ie=[];return z(oe,function(ve){l(rt,ve)&&(!Z||l(xe,ve))&&Tr(ie,rt[ve])}),ie};return a||(Oe=function(){if(u(Ne,this))throw new Xe("Symbol is not a constructor");var Z=!arguments.length||arguments[0]===void 0?void 0:p(arguments[0]),oe=T(Z),ie=function(ve){var k=this===void 0?e:this;k===xe&&r(ie,Kt,ve),l(k,U)&&l(k[U],oe)&&(k[U][oe]=!1);var ne=m(1,ve);try{D(k,oe,ne)}catch(se){if(!(se instanceof vt))throw se;j(k,oe,ne)}};return s&&Sn&&D(xe,oe,{configurable:!0,set:ie}),F(oe,Z)},Ne=Oe[fe],S(Ne,"toString",function(){return Me(this).tag}),S(Oe,"withoutSetter",function(pe){return F(T(pe),pe)}),O.f=ce,_.f=re,E.f=J,w.f=je,g.f=v.f=Ae,x.f=Rt,B.f=function(pe){return F(q(pe),pe)},s&&(P(Ne,"description",{configurable:!0,get:function(){return Me(this).description}}),i||S(xe,"propertyIsEnumerable",ce,{unsafe:!0}))),t({global:!0,constructor:!0,wrap:!0,forced:!a,sham:!a},{Symbol:Oe}),z(b(un),function(pe){X(pe)}),t({target:Q,stat:!0,forced:!a},{useSetter:function(){Sn=!0},useSimple:function(){Sn=!1}}),t({target:"Object",stat:!0,forced:!a,sham:!s},{create:V,defineProperty:re,defineProperties:J,getOwnPropertyDescriptor:je}),t({target:"Object",stat:!0,forced:!a},{getOwnPropertyNames:Ae}),H(),L(Oe,Q),N[U]=!0,T5}var G5={},vx,Y5;function xG(){if(Y5)return vx;Y5=1;var t=Fu();return vx=t&&!!Symbol.for&&!!Symbol.keyFor,vx}var Q5;function bde(){if(Q5)return G5;Q5=1;var t=we(),e=xn(),r=br(),n=zn(),i=zu(),s=xG(),a=i("string-to-symbol-registry"),o=i("symbol-to-string-registry");return t({target:"Symbol",stat:!0,forced:!s},{for:function(l){var u=n(l);if(r(a,u))return a[u];var d=e("Symbol")(u);return a[u]=d,o[d]=u,d}}),G5}var X5={},J5;function wde(){if(J5)return X5;J5=1;var t=we(),e=br(),r=lh(),n=Lu(),i=zu(),s=xG(),a=i("symbol-to-string-registry");return t({target:"Symbol",stat:!0,forced:!s},{keyFor:function(l){if(!r(l))throw new TypeError(n(l)+" is not a symbol");if(e(a,l))return a[l]}}),X5}var Z5={},gx,e3;function xde(){if(e3)return gx;e3=1;var t=Be(),e=Bo(),r=ur(),n=Ii(),i=zn(),s=t([].push);return gx=function(a){if(r(a))return a;if(e(a)){for(var o=a.length,l=[],u=0;u<o;u++){var d=a[u];typeof d=="string"?s(l,d):(typeof d=="number"||n(d)==="Number"||n(d)==="String")&&s(l,i(d))}var h=l.length,f=!0;return function(p,m){if(f)return f=!1,m;if(e(this))return m;for(var y=0;y<h;y++)if(l[y]===p)return m}}},gx}var t3;function _G(){if(t3)return Z5;t3=1;var t=we(),e=xn(),r=lm(),n=ln(),i=Be(),s=qe(),a=ur(),o=lh(),l=Hu(),u=xde(),d=Fu(),h=String,f=e("JSON","stringify"),p=i(/./.exec),m=i("".charAt),y=i("".charCodeAt),b=i("".replace),g=i(1.1.toString),v=/[\uD800-\uDFFF]/g,x=/^[\uD800-\uDBFF]$/,w=/^[\uDC00-\uDFFF]$/,_=!d||s(function(){var P=e("Symbol")("stringify detection");return f([P])!=="[null]"||f({a:P})!=="{}"||f(Object(P))!=="{}"}),E=s(function(){return f("\uDF06\uD834")!=='"\\udf06\\ud834"'||f("\uDEAD")!=='"\\udead"'}),O=function(P,C){var I=l(arguments),N=u(C);if(!(!a(N)&&(P===void 0||o(P))))return I[1]=function(T,q){if(a(N)&&(q=n(N,this,h(T),q)),!o(q))return q},r(f,null,I)},S=function(P,C,I){var N=m(I,C-1),T=m(I,C+1);return p(x,P)&&!p(w,T)||p(w,P)&&!p(x,N)?"\\u"+g(y(P,0),16):P};return f&&t({target:"JSON",stat:!0,arity:3,forced:_||E},{stringify:function(C,I,N){var T=l(arguments),q=r(_?O:f,null,T);return E&&typeof q=="string"?b(q,v,S):q}}),Z5}var r3={},n3;function _de(){if(n3)return r3;n3=1;var t=we(),e=Fu(),r=qe(),n=mm(),i=_n(),s=!e||r(function(){n.f(1)});return t({target:"Object",stat:!0,forced:s},{getOwnPropertySymbols:function(o){var l=n.f;return l?l(i(o)):[]}}),r3}var i3;function SG(){return i3||(i3=1,yde(),bde(),wde(),_G(),_de()),N5}var s3={},a3;function EG(){if(a3)return s3;a3=1;var t=_t();return t("asyncDispose"),s3}var o3={},l3;function Sde(){if(l3)return o3;l3=1;var t=_t();return t("asyncIterator"),o3}var u3={},c3;function OG(){if(c3)return u3;c3=1;var t=_t();return t("dispose"),u3}var d3={},h3;function Ede(){if(h3)return d3;h3=1;var t=_t();return t("hasInstance"),d3}var f3={},p3;function Ode(){if(p3)return f3;p3=1;var t=_t();return t("isConcatSpreadable"),f3}var m3={},v3;function PG(){if(v3)return m3;v3=1;var t=_t();return t("iterator"),m3}var g3={},y3;function Pde(){if(y3)return g3;y3=1;var t=_t();return t("match"),g3}var b3={},w3;function Cde(){if(w3)return b3;w3=1;var t=_t();return t("matchAll"),b3}var x3={},_3;function Nde(){if(_3)return x3;_3=1;var t=_t();return t("replace"),x3}var S3={},E3;function Tde(){if(E3)return S3;E3=1;var t=_t();return t("search"),S3}var O3={},P3;function Ide(){if(P3)return O3;P3=1;var t=_t();return t("species"),O3}var C3={},N3;function Rde(){if(N3)return C3;N3=1;var t=_t();return t("split"),C3}var T3={},I3;function CG(){if(I3)return T3;I3=1;var t=_t(),e=bG();return t("toPrimitive"),e(),T3}var R3={},j3;function jde(){if(j3)return R3;j3=1;var t=xn(),e=_t(),r=zo();return e("toStringTag"),r(t("Symbol"),"Symbol"),R3}var $3={},k3;function $de(){if(k3)return $3;k3=1;var t=_t();return t("unscopables"),$3}var D3={},q3;function kde(){if(q3)return D3;q3=1;var t=mt(),e=zo();return e(t.JSON,"JSON",!0),D3}var yx,M3;function Dde(){if(M3)return yx;M3=1,yG(),SG(),EG(),Sde(),OG(),Ede(),Ode(),PG(),Pde(),Cde(),Nde(),Tde(),Ide(),Rde(),CG(),jde(),$de(),kde();var t=Ye();return yx=t.Symbol,yx}var A3={},bx,F3;function ON(){return F3||(F3=1,bx=function(){}),bx}var wx,L3;function Ku(){return L3||(L3=1,wx={}),wx}var xx,B3;function qde(){if(B3)return xx;B3=1;var t=Dt(),e=br(),r=Function.prototype,n=t&&Object.getOwnPropertyDescriptor,i=e(r,"name"),s=i&&(function(){}).name==="something",a=i&&(!t||t&&n(r,"name").configurable);return xx={EXISTS:i,PROPER:s,CONFIGURABLE:a},xx}var _x,z3;function NG(){if(z3)return _x;z3=1;var t=qe();return _x=!t(function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype}),_x}var Sx,U3;function wm(){if(U3)return Sx;U3=1;var t=br(),e=ur(),r=_n(),n=gm(),i=NG(),s=n("IE_PROTO"),a=Object,o=a.prototype;return Sx=i?a.getPrototypeOf:function(l){var u=r(l);if(t(u,s))return u[s];var d=u.constructor;return e(d)&&u instanceof d?d.prototype:u instanceof a?o:null},Sx}var Ex,W3;function TG(){if(W3)return Ex;W3=1;var t=qe(),e=ur(),r=cr(),n=hh(),i=wm(),s=fh(),a=Ht(),o=Bu(),l=a("iterator"),u=!1,d,h,f;[].keys&&(f=[].keys(),"next"in f?(h=i(i(f)),h!==Object.prototype&&(d=h)):u=!0);var p=!r(d)||t(function(){var m={};return d[l].call(m)!==m});return p?d={}:o&&(d=n(d)),e(d[l])||s(d,l,function(){return this}),Ex={IteratorPrototype:d,BUGGY_SAFARI_ITERATORS:u},Ex}var Ox,H3;function Mde(){if(H3)return Ox;H3=1;var t=TG().IteratorPrototype,e=hh(),r=ah(),n=zo(),i=Ku(),s=function(){return this};return Ox=function(a,o,l,u){var d=o+" Iterator";return a.prototype=e(t,{next:r(+!u,l)}),n(a,d,!1,!0),i[d]=s,a},Ox}var Px,V3;function Ade(){if(V3)return Px;V3=1;var t=Be(),e=ys();return Px=function(r,n,i){try{return t(e(Object.getOwnPropertyDescriptor(r,n)[i]))}catch{}},Px}var Cx,K3;function Fde(){if(K3)return Cx;K3=1;var t=cr();return Cx=function(e){return t(e)||e===null},Cx}var Nx,G3;function Lde(){if(G3)return Nx;G3=1;var t=Fde(),e=String,r=TypeError;return Nx=function(n){if(t(n))return n;throw new r("Can't set "+e(n)+" as a prototype")},Nx}var Tx,Y3;function Bde(){if(Y3)return Tx;Y3=1;var t=Ade(),e=cr(),r=gs(),n=Lde();return Tx=Object.setPrototypeOf||("__proto__"in{}?function(){var i=!1,s={},a;try{a=t(Object.prototype,"__proto__","set"),a(s,[]),i=s instanceof Array}catch{}return function(l,u){return r(l),n(u),e(l)&&(i?a(l,u):l.__proto__=u),l}}():void 0),Tx}var Ix,Q3;function PN(){if(Q3)return Ix;Q3=1;var t=we(),e=ln(),r=Bu(),n=qde(),i=ur(),s=Mde(),a=wm(),o=Bde(),l=zo(),u=Uu(),d=fh(),h=Ht(),f=Ku(),p=TG(),m=n.PROPER,y=n.CONFIGURABLE,b=p.IteratorPrototype,g=p.BUGGY_SAFARI_ITERATORS,v=h("iterator"),x="keys",w="values",_="entries",E=function(){return this};return Ix=function(O,S,P,C,I,N,T){s(P,S,C);var q=function(ge){if(ge===I&&W)return W;if(!g&&ge&&ge in H)return H[ge];switch(ge){case x:return function(){return new P(this,ge)};case w:return function(){return new P(this,ge)};case _:return function(){return new P(this,ge)}}return function(){return new P(this)}},B=S+" Iterator",X=!1,H=O.prototype,L=H[v]||H["@@iterator"]||I&&H[I],W=!g&&L||q(I),z=S==="Array"&&H.entries||L,U,Q,fe;if(z&&(U=a(z.call(new O)),U!==Object.prototype&&U.next&&(!r&&a(U)!==b&&(o?o(U,b):i(U[v])||d(U,v,E)),l(U,B,!0,!0),r&&(f[B]=E))),m&&I===w&&L&&L.name!==w&&(!r&&y?u(H,"name",w):(X=!0,W=function(){return e(L,this)})),I)if(Q={values:q(w),keys:N?W:q(x),entries:q(_)},T)for(fe in Q)(g||X||!(fe in H))&&d(H,fe,Q[fe]);else t({target:S,proto:!0,forced:g||X},Q);return(!r||T)&&H[v]!==W&&d(H,v,W,{name:I}),f[S]=W,Q},Ix}var Rx,X3;function CN(){return X3||(X3=1,Rx=function(t,e){return{value:t,done:e}}),Rx}var jx,J3;function Gu(){if(J3)return jx;J3=1;var t=ci(),e=ON(),r=Ku(),n=Uo(),i=Bn().f,s=PN(),a=CN(),o=Bu(),l=Dt(),u="Array Iterator",d=n.set,h=n.getterFor(u);jx=s(Array,"Array",function(p,m){d(this,{type:u,target:t(p),index:0,kind:m})},function(){var p=h(this),m=p.target,y=p.index++;if(!m||y>=m.length)return p.target=null,a(void 0,!0);switch(p.kind){case"keys":return a(y,!1);case"values":return a(m[y],!1)}return a([y,m[y]],!1)},"values");var f=r.Arguments=r.Array;if(e("keys"),e("values"),e("entries"),!o&&l&&f.name!=="values")try{i(f,"name",{value:"values"})}catch{}return jx}var $x,Z3;function zde(){return Z3||(Z3=1,$x={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}),$x}var eL;function Yu(){if(eL)return A3;eL=1,Gu();var t=zde(),e=mt(),r=zo(),n=Ku();for(var i in t)r(e[i],i),n[i]=n.Array;return A3}var kx,tL;function IG(){if(tL)return kx;tL=1;var t=Dde();return Yu(),kx=t,kx}var Dx,rL;function Ude(){return rL||(rL=1,Dx=IG()),Dx}var Wde=Ude(),Hde=Pe(Wde),nL={},iL;function Vde(){if(iL)return nL;iL=1;var t=we(),e=Bo(),r=gG(),n=cr(),i=pm(),s=bs(),a=ci(),o=vm(),l=Ht(),u=dh(),d=Hu(),h=u("slice"),f=l("species"),p=Array,m=Math.max;return t({target:"Array",proto:!0,forced:!h},{slice:function(b,g){var v=a(this),x=s(v),w=i(b,x),_=i(g===void 0?x:g,x),E,O,S;if(e(v)&&(E=v.constructor,r(E)&&(E===p||e(E.prototype))?E=void 0:n(E)&&(E=E[f],E===null&&(E=void 0)),E===p||E===void 0))return d(v,w,_);for(O=new(E===void 0?p:E)(m(_-w,0)),S=0;w<_;w++,S++)w in v&&o(O,S,v[w]);return O.length=S,O}}),nL}var qx,sL;function Kde(){if(sL)return qx;sL=1,Vde();var t=wr();return qx=t("Array","slice"),qx}var Mx,aL;function Gde(){if(aL)return Mx;aL=1;var t=Wt(),e=Kde(),r=Array.prototype;return Mx=function(n){var i=n.slice;return n===r||t(r,n)&&i===r.slice?e:i},Mx}var Ax,oL;function Yde(){if(oL)return Ax;oL=1;var t=Gde();return Ax=t,Ax}var Fx,lL;function Qde(){return lL||(lL=1,Fx=Yde()),Fx}var Xde=Qde(),xi=Pe(Xde),Lx,uL;function Jde(){if(uL)return Lx;uL=1;var t=xn(),e=Be(),r=ym(),n=mm(),i=Ri(),s=e([].concat);return Lx=t("Reflect","ownKeys")||function(o){var l=r.f(i(o)),u=n.f;return u?s(l,u(o)):l},Lx}var cL={},dL;function Zde(){if(dL)return cL;dL=1;var t=we(),e=Bo();return t({target:"Array",stat:!0},{isArray:e}),cL}var Bx,hL;function ehe(){if(hL)return Bx;hL=1,Zde();var t=Ye();return Bx=t.Array.isArray,Bx}var zx,fL;function the(){if(fL)return zx;fL=1;var t=ehe();return zx=t,zx}var Ux,pL;function rhe(){return pL||(pL=1,Ux=the()),Ux}var nhe=rhe(),It=Pe(nhe),mL={},vL;function ihe(){if(vL)return mL;vL=1;var t=we(),e=_a().map,r=dh(),n=r("map");return t({target:"Array",proto:!0,forced:!n},{map:function(s){return e(this,s,arguments.length>1?arguments[1]:void 0)}}),mL}var Wx,gL;function she(){if(gL)return Wx;gL=1,ihe();var t=wr();return Wx=t("Array","map"),Wx}var Hx,yL;function ahe(){if(yL)return Hx;yL=1;var t=Wt(),e=she(),r=Array.prototype;return Hx=function(n){var i=n.map;return n===r||t(r,n)&&i===r.map?e:i},Hx}var Vx,bL;function ohe(){if(bL)return Vx;bL=1;var t=ahe();return Vx=t,Vx}var Kx,wL;function lhe(){return wL||(wL=1,Kx=ohe()),Kx}var uhe=lhe(),hu=Pe(uhe),xL={},_L;function che(){if(_L)return xL;_L=1;var t=we(),e=_n(),r=ch(),n=qe(),i=n(function(){r(1)});return t({target:"Object",stat:!0,forced:i},{keys:function(a){return r(e(a))}}),xL}var Gx,SL;function dhe(){if(SL)return Gx;SL=1,che();var t=Ye();return Gx=t.Object.keys,Gx}var Yx,EL;function hhe(){if(EL)return Yx;EL=1;var t=dhe();return Yx=t,Yx}var Qx,OL;function fhe(){return OL||(OL=1,Qx=hhe()),Qx}var phe=fhe(),Pt=Pe(phe),PL={},CL;function mhe(){if(CL)return PL;CL=1;var t=we(),e=Be(),r=Date,n=e(r.prototype.getTime);return t({target:"Date",stat:!0},{now:function(){return n(new r)}}),PL}var Xx,NL;function vhe(){if(NL)return Xx;NL=1,mhe();var t=Ye();return Xx=t.Date.now,Xx}var Jx,TL;function ghe(){if(TL)return Jx;TL=1;var t=vhe();return Jx=t,Jx}var Zx,IL;function yhe(){return IL||(IL=1,Zx=ghe()),Zx}var bhe=yhe(),dp=Pe(bhe),RL={},e_,jL;function Qu(){if(jL)return e_;jL=1;var t=qe();return e_=function(e,r){var n=[][e];return!!n&&t(function(){n.call(null,r||function(){return 1},1)})},e_}var t_,$L;function whe(){if($L)return t_;$L=1;var t=_a().forEach,e=Qu(),r=e("forEach");return t_=r?[].forEach:function(i){return t(this,i,arguments.length>1?arguments[1]:void 0)},t_}var kL;function xhe(){if(kL)return RL;kL=1;var t=we(),e=whe();return t({target:"Array",proto:!0,forced:[].forEach!==e},{forEach:e}),RL}var r_,DL;function _he(){if(DL)return r_;DL=1,xhe();var t=wr();return r_=t("Array","forEach"),r_}var n_,qL;function She(){if(qL)return n_;qL=1;var t=_he();return n_=t,n_}var i_,ML;function Ehe(){if(ML)return i_;ML=1;var t=Vu(),e=br(),r=Wt(),n=She(),i=Array.prototype,s={DOMTokenList:!0,NodeList:!0};return i_=function(a){var o=a.forEach;return a===i||r(i,a)&&o===i.forEach||e(s,t(a))?n:o},i_}var s_,AL;function Ohe(){return AL||(AL=1,s_=Ehe()),s_}var Phe=Ohe(),Ze=Pe(Phe),FL={},LL;function Che(){if(LL)return FL;LL=1;var t=we(),e=Be(),r=Bo(),n=e([].reverse),i=[1,2];return t({target:"Array",proto:!0,forced:String(i)===String(i.reverse())},{reverse:function(){return r(this)&&(this.length=this.length),n(this)}}),FL}var a_,BL;function Nhe(){if(BL)return a_;BL=1,Che();var t=wr();return a_=t("Array","reverse"),a_}var o_,zL;function The(){if(zL)return o_;zL=1;var t=Wt(),e=Nhe(),r=Array.prototype;return o_=function(n){var i=n.reverse;return n===r||t(r,n)&&i===r.reverse?e:i},o_}var l_,UL;function Ihe(){if(UL)return l_;UL=1;var t=The();return l_=t,l_}var u_,WL;function Rhe(){return WL||(WL=1,u_=Ihe()),u_}var jhe=Rhe(),no=Pe(jhe),HL={},c_,VL;function $he(){if(VL)return c_;VL=1;var t=Dt(),e=Bo(),r=TypeError,n=Object.getOwnPropertyDescriptor,i=t&&!function(){if(this!==void 0)return!0;try{Object.defineProperty([],"length",{writable:!1}).length=1}catch(s){return s instanceof TypeError}}();return c_=i?function(s,a){if(e(s)&&!n(s,"length").writable)throw new r("Cannot set read only .length");return s.length=a}:function(s,a){return s.length=a},c_}var d_,KL;function RG(){if(KL)return d_;KL=1;var t=Lu(),e=TypeError;return d_=function(r,n){if(!delete r[n])throw new e("Cannot delete property "+t(n)+" of "+t(r))},d_}var GL;function khe(){if(GL)return HL;GL=1;var t=we(),e=_n(),r=pm(),n=Wu(),i=bs(),s=$he(),a=vG(),o=xN(),l=vm(),u=RG(),d=dh(),h=d("splice"),f=Math.max,p=Math.min;return t({target:"Array",proto:!0,forced:!h},{splice:function(y,b){var g=e(this),v=i(g),x=r(y,v),w=arguments.length,_,E,O,S,P,C;for(w===0?_=E=0:w===1?(_=0,E=v-x):(_=w-2,E=p(f(n(b),0),v-x)),a(v+_-E),O=o(g,E),S=0;S<E;S++)P=x+S,P in g&&l(O,S,g[P]);if(O.length=E,_<E){for(S=x;S<v-E;S++)P=S+E,C=S+_,P in g?g[C]=g[P]:u(g,C);for(S=v;S>v-E+_;S--)u(g,S-1)}else if(_>E)for(S=v-E;S>x;S--)P=S+E-1,C=S+_-1,P in g?g[C]=g[P]:u(g,C);for(S=0;S<_;S++)g[S+x]=arguments[S+2];return s(g,v-E+_),O}}),HL}var h_,YL;function Dhe(){if(YL)return h_;YL=1,khe();var t=wr();return h_=t("Array","splice"),h_}var f_,QL;function qhe(){if(QL)return f_;QL=1;var t=Wt(),e=Dhe(),r=Array.prototype;return f_=function(n){var i=n.splice;return n===r||t(r,n)&&i===r.splice?e:i},f_}var p_,XL;function Mhe(){if(XL)return p_;XL=1;var t=qhe();return p_=t,p_}var m_,JL;function Ahe(){return JL||(JL=1,m_=Mhe()),m_}var Fhe=Ahe(),Ji=Pe(Fhe),ZL={},eB;function Lhe(){if(eB)return ZL;eB=1;var t=we(),e=gN().includes,r=qe(),n=ON(),i=r(function(){return!Array(1).includes()});return t({target:"Array",proto:!0,forced:i},{includes:function(a){return e(this,a,arguments.length>1?arguments[1]:void 0)}}),n("includes"),ZL}var v_,tB;function Bhe(){if(tB)return v_;tB=1,Lhe();var t=wr();return v_=t("Array","includes"),v_}var rB={},g_,nB;function zhe(){if(nB)return g_;nB=1;var t=cr(),e=Ii(),r=Ht(),n=r("match");return g_=function(i){var s;return t(i)&&((s=i[n])!==void 0?!!s:e(i)==="RegExp")},g_}var y_,iB;function Uhe(){if(iB)return y_;iB=1;var t=zhe(),e=TypeError;return y_=function(r){if(t(r))throw new e("The method doesn't accept regular expressions");return r},y_}var b_,sB;function Whe(){if(sB)return b_;sB=1;var t=Ht(),e=t("match");return b_=function(r){var n=/./;try{"/./"[r](n)}catch{try{return n[e]=!1,"/./"[r](n)}catch{}}return!1},b_}var aB;function Hhe(){if(aB)return rB;aB=1;var t=we(),e=Be(),r=Uhe(),n=gs(),i=zn(),s=Whe(),a=e("".indexOf);return t({target:"String",proto:!0,forced:!s("includes")},{includes:function(l){return!!~a(i(n(this)),i(r(l)),arguments.length>1?arguments[1]:void 0)}}),rB}var w_,oB;function Vhe(){if(oB)return w_;oB=1,Hhe();var t=wr();return w_=t("String","includes"),w_}var x_,lB;function Khe(){if(lB)return x_;lB=1;var t=Wt(),e=Bhe(),r=Vhe(),n=Array.prototype,i=String.prototype;return x_=function(s){var a=s.includes;return s===n||t(n,s)&&a===n.includes?e:typeof s=="string"||s===i||t(i,s)&&a===i.includes?r:a},x_}var __,uB;function Ghe(){if(uB)return __;uB=1;var t=Khe();return __=t,__}var S_,cB;function Yhe(){return cB||(cB=1,S_=Ghe()),S_}var Qhe=Yhe(),na=Pe(Qhe),dB={},hB;function Xhe(){if(hB)return dB;hB=1;var t=we(),e=qe(),r=_n(),n=wm(),i=NG(),s=e(function(){n(1)});return t({target:"Object",stat:!0,forced:s,sham:!i},{getPrototypeOf:function(o){return n(r(o))}}),dB}var E_,fB;function Jhe(){if(fB)return E_;fB=1,Xhe();var t=Ye();return E_=t.Object.getPrototypeOf,E_}var O_,pB;function Zhe(){if(pB)return O_;pB=1;var t=Jhe();return O_=t,O_}var P_,mB;function efe(){return mB||(mB=1,P_=Zhe()),P_}var tfe=efe(),vB=Pe(tfe),C_,gB;function rfe(){if(gB)return C_;gB=1,yG();var t=wr();return C_=t("Array","concat"),C_}var N_,yB;function nfe(){if(yB)return N_;yB=1;var t=Wt(),e=rfe(),r=Array.prototype;return N_=function(n){var i=n.concat;return n===r||t(r,n)&&i===r.concat?e:i},N_}var T_,bB;function ife(){if(bB)return T_;bB=1;var t=nfe();return T_=t,T_}var I_,wB;function sfe(){return wB||(wB=1,I_=ife()),I_}var afe=sfe(),ofe=Pe(afe),xB={},_B;function lfe(){if(_B)return xB;_B=1;var t=we(),e=_a().filter,r=dh(),n=r("filter");return t({target:"Array",proto:!0,forced:!n},{filter:function(s){return e(this,s,arguments.length>1?arguments[1]:void 0)}}),xB}var R_,SB;function ufe(){if(SB)return R_;SB=1,lfe();var t=wr();return R_=t("Array","filter"),R_}var j_,EB;function cfe(){if(EB)return j_;EB=1;var t=Wt(),e=ufe(),r=Array.prototype;return j_=function(n){var i=n.filter;return n===r||t(r,n)&&i===r.filter?e:i},j_}var $_,OB;function dfe(){if(OB)return $_;OB=1;var t=cfe();return $_=t,$_}var k_,PB;function hfe(){return PB||(PB=1,k_=dfe()),k_}var ffe=hfe(),Yr=Pe(ffe),CB={},D_,NB;function pfe(){if(NB)return D_;NB=1;var t=Dt(),e=qe(),r=Be(),n=wm(),i=ch(),s=ci(),a=um().f,o=r(a),l=r([].push),u=t&&e(function(){var h=Object.create(null);return h[2]=2,!o(h,2)}),d=function(h){return function(f){for(var p=s(f),m=i(p),y=u&&n(p)===null,b=m.length,g=0,v=[],x;b>g;)x=m[g++],(!t||(y?x in p:o(p,x)))&&l(v,h?[x,p[x]]:p[x]);return v}};return D_={entries:d(!0),values:d(!1)},D_}var TB;function mfe(){if(TB)return CB;TB=1;var t=we(),e=pfe().values;return t({target:"Object",stat:!0},{values:function(n){return e(n)}}),CB}var q_,IB;function vfe(){if(IB)return q_;IB=1,mfe();var t=Ye();return q_=t.Object.values,q_}var M_,RB;function gfe(){if(RB)return M_;RB=1;var t=vfe();return M_=t,M_}var A_,jB;function yfe(){return jB||(jB=1,A_=gfe()),A_}var bfe=yfe(),wfe=Pe(bfe),$B={},F_,kB;function NN(){return kB||(kB=1,F_=`	
\v\f\r \u2028\u2029\uFEFF`),F_}var L_,DB;function jG(){if(DB)return L_;DB=1;var t=Be(),e=gs(),r=zn(),n=NN(),i=t("".replace),s=RegExp("^["+n+"]+"),a=RegExp("(^|[^"+n+"])["+n+"]+$"),o=function(l){return function(u){var d=r(e(u));return l&1&&(d=i(d,s,"")),l&2&&(d=i(d,a,"$1")),d}};return L_={start:o(1),end:o(2),trim:o(3)},L_}var B_,qB;function xfe(){if(qB)return B_;qB=1;var t=mt(),e=qe(),r=Be(),n=zn(),i=jG().trim,s=NN(),a=t.parseInt,o=t.Symbol,l=o&&o.iterator,u=/^[+-]?0x/i,d=r(u.exec),h=a(s+"08")!==8||a(s+"0x16")!==22||l&&!e(function(){a(Object(l))});return B_=h?function(p,m){var y=i(n(p));return a(y,m>>>0||(d(u,y)?16:10))}:a,B_}var MB;function _fe(){if(MB)return $B;MB=1;var t=we(),e=xfe();return t({global:!0,forced:parseInt!==e},{parseInt:e}),$B}var z_,AB;function Sfe(){if(AB)return z_;AB=1,_fe();var t=Ye();return z_=t.parseInt,z_}var U_,FB;function Efe(){if(FB)return U_;FB=1;var t=Sfe();return U_=t,U_}var W_,LB;function Ofe(){return LB||(LB=1,W_=Efe()),W_}var Pfe=Ofe(),Zn=Pe(Pfe),BB={},zB;function Cfe(){if(zB)return BB;zB=1;var t=we(),e=fN(),r=gN().indexOf,n=Qu(),i=e([].indexOf),s=!!i&&1/i([1],1,-0)<0,a=s||!n("indexOf");return t({target:"Array",proto:!0,forced:a},{indexOf:function(l){var u=arguments.length>1?arguments[1]:void 0;return s?i(this,l,u)||0:r(this,l,u)}}),BB}var H_,UB;function Nfe(){if(UB)return H_;UB=1,Cfe();var t=wr();return H_=t("Array","indexOf"),H_}var V_,WB;function Tfe(){if(WB)return V_;WB=1;var t=Wt(),e=Nfe(),r=Array.prototype;return V_=function(n){var i=n.indexOf;return n===r||t(r,n)&&i===r.indexOf?e:i},V_}var K_,HB;function Ife(){if(HB)return K_;HB=1;var t=Tfe();return K_=t,K_}var G_,VB;function Rfe(){return VB||(VB=1,G_=Ife()),G_}var jfe=Rfe(),Ve=Pe(jfe),KB={},GB;function $fe(){if(GB)return KB;GB=1;var t=we(),e=Dt(),r=hh();return t({target:"Object",stat:!0,sham:!e},{create:r}),KB}var Y_,YB;function kfe(){if(YB)return Y_;YB=1,$fe();var t=Ye(),e=t.Object;return Y_=function(n,i){return e.create(n,i)},Y_}var Q_,QB;function Dfe(){if(QB)return Q_;QB=1;var t=kfe();return Q_=t,Q_}var X_,XB;function qfe(){return XB||(XB=1,X_=Dfe()),X_}var Mfe=qfe(),io=Pe(Mfe),JB={},J_,ZB;function Afe(){if(ZB)return J_;ZB=1;var t=Wu(),e=zn(),r=gs(),n=RangeError;return J_=function(s){var a=e(r(this)),o="",l=t(s);if(l<0||l===1/0)throw new n("Wrong number of repetitions");for(;l>0;(l>>>=1)&&(a+=a))l&1&&(o+=a);return o},J_}var Z_,e6;function Ffe(){if(e6)return Z_;e6=1;var t=Be(),e=cG(),r=zn(),n=Afe(),i=gs(),s=t(n),a=t("".slice),o=Math.ceil,l=function(u){return function(d,h,f){var p=r(i(d)),m=e(h),y=p.length,b=f===void 0?" ":r(f),g,v;return m<=y||b===""?p:(g=m-y,v=s(b,o(g/b.length)),v.length>g&&(v=a(v,0,g)),u?p+v:v+p)}};return Z_={start:l(!1),end:l(!0)},Z_}var eS,t6;function Lfe(){if(t6)return eS;t6=1;var t=Be(),e=qe(),r=Ffe().start,n=RangeError,i=isFinite,s=Math.abs,a=Date.prototype,o=a.toISOString,l=t(a.getTime),u=t(a.getUTCDate),d=t(a.getUTCFullYear),h=t(a.getUTCHours),f=t(a.getUTCMilliseconds),p=t(a.getUTCMinutes),m=t(a.getUTCMonth),y=t(a.getUTCSeconds);return eS=e(function(){return o.call(new Date(-5e13-1))!=="0385-07-25T07:06:39.999Z"})||!e(function(){o.call(new Date(NaN))})?function(){if(!i(l(this)))throw new n("Invalid time value");var g=this,v=d(g),x=f(g),w=v<0?"-":v>9999?"+":"";return w+r(s(v),w?6:4,0)+"-"+r(m(g)+1,2,0)+"-"+r(u(g),2,0)+"T"+r(h(g),2,0)+":"+r(p(g),2,0)+":"+r(y(g),2,0)+"."+r(x,3,0)+"Z"}:o,eS}var r6;function Bfe(){if(r6)return JB;r6=1;var t=we(),e=ln(),r=_n(),n=aG(),i=Lfe(),s=Ii(),a=qe(),o=a(function(){return new Date(NaN).toJSON()!==null||e(Date.prototype.toJSON,{toISOString:function(){return 1}})!==1});return t({target:"Date",proto:!0,forced:o},{toJSON:function(u){var d=r(this),h=n(d,"number");return typeof h=="number"&&!isFinite(h)?null:!("toISOString"in d)&&s(d)==="Date"?e(i,d):d.toISOString()}}),JB}var tS,n6;function zfe(){if(n6)return tS;n6=1,Bfe(),_G();var t=Ye(),e=lm();return t.JSON||(t.JSON={stringify:JSON.stringify}),tS=function(n,i,s){return e(t.JSON.stringify,null,arguments)},tS}var rS,i6;function Ufe(){if(i6)return rS;i6=1;var t=zfe();return rS=t,rS}var nS,s6;function Wfe(){return s6||(s6=1,nS=Ufe()),nS}var Hfe=Wfe(),ph=Pe(Hfe),a6={},o6={},iS,l6;function $G(){if(l6)return iS;l6=1;var t=mt(),e=Au(),r=Ii(),n=function(i){return e.slice(0,i.length)===i};return iS=function(){return n("Bun/")?"BUN":n("Cloudflare-Workers")?"CLOUDFLARE":n("Deno/")?"DENO":n("Node.js/")?"NODE":t.Bun&&typeof Bun.version=="string"?"BUN":t.Deno&&typeof Deno.version=="object"?"DENO":r(t.process)==="process"?"NODE":t.window&&t.document?"BROWSER":"REST"}(),iS}var sS,u6;function Vfe(){if(u6)return sS;u6=1;var t=TypeError;return sS=function(e,r){if(e<r)throw new t("Not enough arguments");return e},sS}var aS,c6;function kG(){if(c6)return aS;c6=1;var t=mt(),e=lm(),r=ur(),n=$G(),i=Au(),s=Hu(),a=Vfe(),o=t.Function,l=/MSIE .\./.test(i)||n==="BUN"&&function(){var u=t.Bun.version.split(".");return u.length<3||u[0]==="0"&&(u[1]<3||u[1]==="3"&&u[2]==="0")}();return aS=function(u,d){var h=d?2:1;return l?function(f,p){var m=a(arguments.length,1)>h,y=r(f)?f:o(f),b=m?s(arguments,h):[],g=m?function(){e(y,this,b)}:y;return d?u(g,p):u(g)}:u},aS}var d6;function Kfe(){if(d6)return o6;d6=1;var t=we(),e=mt(),r=kG(),n=r(e.setInterval,!0);return t({global:!0,bind:!0,forced:e.setInterval!==n},{setInterval:n}),o6}var h6={},f6;function Gfe(){if(f6)return h6;f6=1;var t=we(),e=mt(),r=kG(),n=r(e.setTimeout,!0);return t({global:!0,bind:!0,forced:e.setTimeout!==n},{setTimeout:n}),h6}var p6;function DG(){return p6||(p6=1,Kfe(),Gfe()),a6}var oS,m6;function Yfe(){if(m6)return oS;m6=1,DG();var t=Ye();return oS=t.setTimeout,oS}var lS,v6;function Qfe(){return v6||(v6=1,lS=Yfe()),lS}var Xfe=Qfe(),Zi=Pe(Xfe),g6={},uS,y6;function Jfe(){if(y6)return uS;y6=1;var t=_n(),e=pm(),r=bs();return uS=function(i){for(var s=t(this),a=r(s),o=arguments.length,l=e(o>1?arguments[1]:void 0,a),u=o>2?arguments[2]:void 0,d=u===void 0?a:e(u,a);d>l;)s[l++]=i;return s},uS}var b6;function Zfe(){if(b6)return g6;b6=1;var t=we(),e=Jfe(),r=ON();return t({target:"Array",proto:!0},{fill:e}),r("fill"),g6}var cS,w6;function epe(){if(w6)return cS;w6=1,Zfe();var t=wr();return cS=t("Array","fill"),cS}var dS,x6;function tpe(){if(x6)return dS;x6=1;var t=Wt(),e=epe(),r=Array.prototype;return dS=function(n){var i=n.fill;return n===r||t(r,n)&&i===r.fill?e:i},dS}var hS,_6;function rpe(){if(_6)return hS;_6=1;var t=tpe();return hS=t,hS}var fS,S6;function npe(){return S6||(S6=1,fS=rpe()),fS}var ipe=npe(),mh=Pe(ipe);/*! Hammer.JS - v2.0.17-rc - 2019-12-16
 * http://naver.github.io/egjs
 *
 * Forked By Naver egjs
 * Copyright (c) hammerjs
 * Licensed under the MIT license */function oi(){return oi=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},oi.apply(this,arguments)}function Un(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}function Jh(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}var pP;typeof Object.assign!="function"?pP=function(e){if(e==null)throw new TypeError("Cannot convert undefined or null to object");for(var r=Object(e),n=1;n<arguments.length;n++){var i=arguments[n];if(i!=null)for(var s in i)i.hasOwnProperty(s)&&(r[s]=i[s])}return r}:pP=Object.assign;var Oo=pP,E6=["","webkit","Moz","MS","ms","o"],spe=typeof document>"u"?{style:{}}:document.createElement("div"),ape="function",Sl=Math.round,Po=Math.abs,TN=Date.now;function xm(t,e){for(var r,n,i=e[0].toUpperCase()+e.slice(1),s=0;s<E6.length;){if(r=E6[s],n=r?r+i:e,n in t)return n;s++}}var es;typeof window>"u"?es={}:es=window;var qG=xm(spe.style,"touchAction"),MG=qG!==void 0;function ope(){if(!MG)return!1;var t={},e=es.CSS&&es.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach(function(r){return t[r]=e?es.CSS.supports("touch-action",r):!0}),t}var AG="compute",FG="auto",mP="manipulation",so="none",gd="pan-x",yd="pan-y",Zh=ope(),lpe=/mobile|tablet|ip(ad|hone|od)|android/i,LG="ontouchstart"in es,upe=xm(es,"PointerEvent")!==void 0,cpe=LG&&lpe.test(navigator.userAgent),vh="touch",dpe="pen",IN="mouse",hpe="kinect",fpe=25,Lr=1,Wo=2,Bt=4,nn=8,hp=1,gh=2,yh=4,bh=8,fu=16,Ni=gh|yh,ao=bh|fu,BG=Ni|ao,zG=["x","y"],fp=["clientX","clientY"];function ts(t,e,r){var n;if(t)if(t.forEach)t.forEach(e,r);else if(t.length!==void 0)for(n=0;n<t.length;)e.call(r,t[n],n,t),n++;else for(n in t)t.hasOwnProperty(n)&&e.call(r,t[n],n,t)}function _m(t,e){return typeof t===ape?t.apply(e&&e[0]||void 0,e):t}function La(t,e){return t.indexOf(e)>-1}function ppe(t){if(La(t,so))return so;var e=La(t,gd),r=La(t,yd);return e&&r?so:e||r?e?gd:yd:La(t,mP)?mP:FG}var UG=function(){function t(r,n){this.manager=r,this.set(n)}var e=t.prototype;return e.set=function(n){n===AG&&(n=this.compute()),MG&&this.manager.element.style&&Zh[n]&&(this.manager.element.style[qG]=n),this.actions=n.toLowerCase().trim()},e.update=function(){this.set(this.manager.options.touchAction)},e.compute=function(){var n=[];return ts(this.manager.recognizers,function(i){_m(i.options.enable,[i])&&(n=n.concat(i.getTouchAction()))}),ppe(n.join(" "))},e.preventDefaults=function(n){var i=n.srcEvent,s=n.offsetDirection;if(this.manager.session.prevented){i.preventDefault();return}var a=this.actions,o=La(a,so)&&!Zh[so],l=La(a,yd)&&!Zh[yd],u=La(a,gd)&&!Zh[gd];if(o){var d=n.pointers.length===1,h=n.distance<2,f=n.deltaTime<250;if(d&&h&&f)return}if(!(u&&l)&&(o||l&&s&Ni||u&&s&ao))return this.preventSrc(i)},e.preventSrc=function(n){this.manager.session.prevented=!0,n.preventDefault()},t}();function RN(t,e){for(;t;){if(t===e)return!0;t=t.parentNode}return!1}function WG(t){var e=t.length;if(e===1)return{x:Sl(t[0].clientX),y:Sl(t[0].clientY)};for(var r=0,n=0,i=0;i<e;)r+=t[i].clientX,n+=t[i].clientY,i++;return{x:Sl(r/e),y:Sl(n/e)}}function O6(t){for(var e=[],r=0;r<t.pointers.length;)e[r]={clientX:Sl(t.pointers[r].clientX),clientY:Sl(t.pointers[r].clientY)},r++;return{timeStamp:TN(),pointers:e,center:WG(e),deltaX:t.deltaX,deltaY:t.deltaY}}function pp(t,e,r){r||(r=zG);var n=e[r[0]]-t[r[0]],i=e[r[1]]-t[r[1]];return Math.sqrt(n*n+i*i)}function vP(t,e,r){r||(r=zG);var n=e[r[0]]-t[r[0]],i=e[r[1]]-t[r[1]];return Math.atan2(i,n)*180/Math.PI}function HG(t,e){return t===e?hp:Po(t)>=Po(e)?t<0?gh:yh:e<0?bh:fu}function mpe(t,e){var r=e.center,n=t.offsetDelta||{},i=t.prevDelta||{},s=t.prevInput||{};(e.eventType===Lr||s.eventType===Bt)&&(i=t.prevDelta={x:s.deltaX||0,y:s.deltaY||0},n=t.offsetDelta={x:r.x,y:r.y}),e.deltaX=i.x+(r.x-n.x),e.deltaY=i.y+(r.y-n.y)}function VG(t,e,r){return{x:e/t||0,y:r/t||0}}function vpe(t,e){return pp(e[0],e[1],fp)/pp(t[0],t[1],fp)}function gpe(t,e){return vP(e[1],e[0],fp)+vP(t[1],t[0],fp)}function ype(t,e){var r=t.lastInterval||e,n=e.timeStamp-r.timeStamp,i,s,a,o;if(e.eventType!==nn&&(n>fpe||r.velocity===void 0)){var l=e.deltaX-r.deltaX,u=e.deltaY-r.deltaY,d=VG(n,l,u);s=d.x,a=d.y,i=Po(d.x)>Po(d.y)?d.x:d.y,o=HG(l,u),t.lastInterval=e}else i=r.velocity,s=r.velocityX,a=r.velocityY,o=r.direction;e.velocity=i,e.velocityX=s,e.velocityY=a,e.direction=o}function bpe(t,e){var r=t.session,n=e.pointers,i=n.length;r.firstInput||(r.firstInput=O6(e)),i>1&&!r.firstMultiple?r.firstMultiple=O6(e):i===1&&(r.firstMultiple=!1);var s=r.firstInput,a=r.firstMultiple,o=a?a.center:s.center,l=e.center=WG(n);e.timeStamp=TN(),e.deltaTime=e.timeStamp-s.timeStamp,e.angle=vP(o,l),e.distance=pp(o,l),mpe(r,e),e.offsetDirection=HG(e.deltaX,e.deltaY);var u=VG(e.deltaTime,e.deltaX,e.deltaY);e.overallVelocityX=u.x,e.overallVelocityY=u.y,e.overallVelocity=Po(u.x)>Po(u.y)?u.x:u.y,e.scale=a?vpe(a.pointers,n):1,e.rotation=a?gpe(a.pointers,n):0,e.maxPointers=r.prevInput?e.pointers.length>r.prevInput.maxPointers?e.pointers.length:r.prevInput.maxPointers:e.pointers.length,ype(r,e);var d=t.element,h=e.srcEvent,f;h.composedPath?f=h.composedPath()[0]:h.path?f=h.path[0]:f=h.target,RN(f,d)&&(d=f),e.target=d}function wpe(t,e,r){var n=r.pointers.length,i=r.changedPointers.length,s=e&Lr&&n-i===0,a=e&(Bt|nn)&&n-i===0;r.isFirst=!!s,r.isFinal=!!a,s&&(t.session={}),r.eventType=e,bpe(t,r),t.emit("hammer.input",r),t.recognize(r),t.session.prevInput=r}function bd(t){return t.trim().split(/\s+/g)}function Mc(t,e,r){ts(bd(e),function(n){t.addEventListener(n,r,!1)})}function Ac(t,e,r){ts(bd(e),function(n){t.removeEventListener(n,r,!1)})}function P6(t){var e=t.ownerDocument||t;return e.defaultView||e.parentWindow||window}var Xu=function(){function t(r,n){var i=this;this.manager=r,this.callback=n,this.element=r.element,this.target=r.options.inputTarget,this.domHandler=function(s){_m(r.options.enable,[r])&&i.handler(s)},this.init()}var e=t.prototype;return e.handler=function(){},e.init=function(){this.evEl&&Mc(this.element,this.evEl,this.domHandler),this.evTarget&&Mc(this.target,this.evTarget,this.domHandler),this.evWin&&Mc(P6(this.element),this.evWin,this.domHandler)},e.destroy=function(){this.evEl&&Ac(this.element,this.evEl,this.domHandler),this.evTarget&&Ac(this.target,this.evTarget,this.domHandler),this.evWin&&Ac(P6(this.element),this.evWin,this.domHandler)},t}();function Co(t,e,r){if(t.indexOf&&!r)return t.indexOf(e);for(var n=0;n<t.length;){if(r&&t[n][r]==e||!r&&t[n]===e)return n;n++}return-1}var xpe={pointerdown:Lr,pointermove:Wo,pointerup:Bt,pointercancel:nn,pointerout:nn},_pe={2:vh,3:dpe,4:IN,5:hpe},KG="pointerdown",GG="pointermove pointerup pointercancel";es.MSPointerEvent&&!es.PointerEvent&&(KG="MSPointerDown",GG="MSPointerMove MSPointerUp MSPointerCancel");var YG=function(t){Un(e,t);function e(){var n,i=e.prototype;return i.evEl=KG,i.evWin=GG,n=t.apply(this,arguments)||this,n.store=n.manager.session.pointerEvents=[],n}var r=e.prototype;return r.handler=function(i){var s=this.store,a=!1,o=i.type.toLowerCase().replace("ms",""),l=xpe[o],u=_pe[i.pointerType]||i.pointerType,d=u===vh,h=Co(s,i.pointerId,"pointerId");l&Lr&&(i.button===0||d)?h<0&&(s.push(i),h=s.length-1):l&(Bt|nn)&&(a=!0),!(h<0)&&(s[h]=i,this.callback(this.manager,l,{pointers:s,changedPointers:[i],pointerType:u,srcEvent:i}),a&&s.splice(h,1))},e}(Xu);function wd(t){return Array.prototype.slice.call(t,0)}function jN(t,e,r){for(var n=[],i=[],s=0;s<t.length;){var a=e?t[s][e]:t[s];Co(i,a)<0&&n.push(t[s]),i[s]=a,s++}return r&&(e?n=n.sort(function(o,l){return o[e]>l[e]}):n=n.sort()),n}var Spe={touchstart:Lr,touchmove:Wo,touchend:Bt,touchcancel:nn},Epe="touchstart touchmove touchend touchcancel",$N=function(t){Un(e,t);function e(){var n;return e.prototype.evTarget=Epe,n=t.apply(this,arguments)||this,n.targetIds={},n}var r=e.prototype;return r.handler=function(i){var s=Spe[i.type],a=Ope.call(this,i,s);a&&this.callback(this.manager,s,{pointers:a[0],changedPointers:a[1],pointerType:vh,srcEvent:i})},e}(Xu);function Ope(t,e){var r=wd(t.touches),n=this.targetIds;if(e&(Lr|Wo)&&r.length===1)return n[r[0].identifier]=!0,[r,r];var i,s,a=wd(t.changedTouches),o=[],l=this.target;if(s=r.filter(function(u){return RN(u.target,l)}),e===Lr)for(i=0;i<s.length;)n[s[i].identifier]=!0,i++;for(i=0;i<a.length;)n[a[i].identifier]&&o.push(a[i]),e&(Bt|nn)&&delete n[a[i].identifier],i++;if(o.length)return[jN(s.concat(o),"identifier",!0),o]}var Ppe={mousedown:Lr,mousemove:Wo,mouseup:Bt},Cpe="mousedown",Npe="mousemove mouseup",kN=function(t){Un(e,t);function e(){var n,i=e.prototype;return i.evEl=Cpe,i.evWin=Npe,n=t.apply(this,arguments)||this,n.pressed=!1,n}var r=e.prototype;return r.handler=function(i){var s=Ppe[i.type];s&Lr&&i.button===0&&(this.pressed=!0),s&Wo&&i.which!==1&&(s=Bt),this.pressed&&(s&Bt&&(this.pressed=!1),this.callback(this.manager,s,{pointers:[i],changedPointers:[i],pointerType:IN,srcEvent:i}))},e}(Xu),Tpe=2500,C6=25;function N6(t){var e=t.changedPointers,r=e[0];if(r.identifier===this.primaryTouch){var n={x:r.clientX,y:r.clientY},i=this.lastTouches;this.lastTouches.push(n);var s=function(){var o=i.indexOf(n);o>-1&&i.splice(o,1)};setTimeout(s,Tpe)}}function Ipe(t,e){t&Lr?(this.primaryTouch=e.changedPointers[0].identifier,N6.call(this,e)):t&(Bt|nn)&&N6.call(this,e)}function Rpe(t){for(var e=t.srcEvent.clientX,r=t.srcEvent.clientY,n=0;n<this.lastTouches.length;n++){var i=this.lastTouches[n],s=Math.abs(e-i.x),a=Math.abs(r-i.y);if(s<=C6&&a<=C6)return!0}return!1}var QG=function(){var t=function(e){Un(r,e);function r(i,s){var a;return a=e.call(this,i,s)||this,a.handler=function(o,l,u){var d=u.pointerType===vh,h=u.pointerType===IN;if(!(h&&u.sourceCapabilities&&u.sourceCapabilities.firesTouchEvents)){if(d)Ipe.call(Jh(Jh(a)),l,u);else if(h&&Rpe.call(Jh(Jh(a)),u))return;a.callback(o,l,u)}},a.touch=new $N(a.manager,a.handler),a.mouse=new kN(a.manager,a.handler),a.primaryTouch=null,a.lastTouches=[],a}var n=r.prototype;return n.destroy=function(){this.touch.destroy(),this.mouse.destroy()},r}(Xu);return t}();function jpe(t){var e,r=t.options.inputClass;return r?e=r:upe?e=YG:cpe?e=$N:LG?e=QG:e=kN,new e(t,wpe)}function El(t,e,r){return Array.isArray(t)?(ts(t,r[e],r),!0):!1}var _f=1,Dn=2,pu=4,ia=8,rs=ia,xd=16,Si=32,$pe=1;function kpe(){return $pe++}function ef(t,e){var r=e.manager;return r?r.get(t):t}function T6(t){return t&xd?"cancel":t&ia?"end":t&pu?"move":t&Dn?"start":""}var wh=function(){function t(r){r===void 0&&(r={}),this.options=oi({enable:!0},r),this.id=kpe(),this.manager=null,this.state=_f,this.simultaneous={},this.requireFail=[]}var e=t.prototype;return e.set=function(n){return Oo(this.options,n),this.manager&&this.manager.touchAction.update(),this},e.recognizeWith=function(n){if(El(n,"recognizeWith",this))return this;var i=this.simultaneous;return n=ef(n,this),i[n.id]||(i[n.id]=n,n.recognizeWith(this)),this},e.dropRecognizeWith=function(n){return El(n,"dropRecognizeWith",this)?this:(n=ef(n,this),delete this.simultaneous[n.id],this)},e.requireFailure=function(n){if(El(n,"requireFailure",this))return this;var i=this.requireFail;return n=ef(n,this),Co(i,n)===-1&&(i.push(n),n.requireFailure(this)),this},e.dropRequireFailure=function(n){if(El(n,"dropRequireFailure",this))return this;n=ef(n,this);var i=Co(this.requireFail,n);return i>-1&&this.requireFail.splice(i,1),this},e.hasRequireFailures=function(){return this.requireFail.length>0},e.canRecognizeWith=function(n){return!!this.simultaneous[n.id]},e.emit=function(n){var i=this,s=this.state;function a(o){i.manager.emit(o,n)}s<ia&&a(i.options.event+T6(s)),a(i.options.event),n.additionalEvent&&a(n.additionalEvent),s>=ia&&a(i.options.event+T6(s))},e.tryEmit=function(n){if(this.canEmit())return this.emit(n);this.state=Si},e.canEmit=function(){for(var n=0;n<this.requireFail.length;){if(!(this.requireFail[n].state&(Si|_f)))return!1;n++}return!0},e.recognize=function(n){var i=Oo({},n);if(!_m(this.options.enable,[this,i])){this.reset(),this.state=Si;return}this.state&(rs|xd|Si)&&(this.state=_f),this.state=this.process(i),this.state&(Dn|pu|ia|xd)&&this.tryEmit(i)},e.process=function(n){},e.getTouchAction=function(){},e.reset=function(){},t}(),gP=function(t){Un(e,t);function e(n){var i;return n===void 0&&(n={}),i=t.call(this,oi({event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},n))||this,i.pTime=!1,i.pCenter=!1,i._timer=null,i._input=null,i.count=0,i}var r=e.prototype;return r.getTouchAction=function(){return[mP]},r.process=function(i){var s=this,a=this.options,o=i.pointers.length===a.pointers,l=i.distance<a.threshold,u=i.deltaTime<a.time;if(this.reset(),i.eventType&Lr&&this.count===0)return this.failTimeout();if(l&&u&&o){if(i.eventType!==Bt)return this.failTimeout();var d=this.pTime?i.timeStamp-this.pTime<a.interval:!0,h=!this.pCenter||pp(this.pCenter,i.center)<a.posThreshold;this.pTime=i.timeStamp,this.pCenter=i.center,!h||!d?this.count=1:this.count+=1,this._input=i;var f=this.count%a.taps;if(f===0)return this.hasRequireFailures()?(this._timer=setTimeout(function(){s.state=rs,s.tryEmit()},a.interval),Dn):rs}return Si},r.failTimeout=function(){var i=this;return this._timer=setTimeout(function(){i.state=Si},this.options.interval),Si},r.reset=function(){clearTimeout(this._timer)},r.emit=function(){this.state===rs&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))},e}(wh),mu=function(t){Un(e,t);function e(n){return n===void 0&&(n={}),t.call(this,oi({pointers:1},n))||this}var r=e.prototype;return r.attrTest=function(i){var s=this.options.pointers;return s===0||i.pointers.length===s},r.process=function(i){var s=this.state,a=i.eventType,o=s&(Dn|pu),l=this.attrTest(i);return o&&(a&nn||!l)?s|xd:o||l?a&Bt?s|ia:s&Dn?s|pu:Dn:Si},e}(wh);function XG(t){return t===fu?"down":t===bh?"up":t===gh?"left":t===yh?"right":""}var DN=function(t){Un(e,t);function e(n){var i;return n===void 0&&(n={}),i=t.call(this,oi({event:"pan",threshold:10,pointers:1,direction:BG},n))||this,i.pX=null,i.pY=null,i}var r=e.prototype;return r.getTouchAction=function(){var i=this.options.direction,s=[];return i&Ni&&s.push(yd),i&ao&&s.push(gd),s},r.directionTest=function(i){var s=this.options,a=!0,o=i.distance,l=i.direction,u=i.deltaX,d=i.deltaY;return l&s.direction||(s.direction&Ni?(l=u===0?hp:u<0?gh:yh,a=u!==this.pX,o=Math.abs(i.deltaX)):(l=d===0?hp:d<0?bh:fu,a=d!==this.pY,o=Math.abs(i.deltaY))),i.direction=l,a&&o>s.threshold&&l&s.direction},r.attrTest=function(i){return mu.prototype.attrTest.call(this,i)&&(this.state&Dn||!(this.state&Dn)&&this.directionTest(i))},r.emit=function(i){this.pX=i.deltaX,this.pY=i.deltaY;var s=XG(i.direction);s&&(i.additionalEvent=this.options.event+s),t.prototype.emit.call(this,i)},e}(mu),JG=function(t){Un(e,t);function e(n){return n===void 0&&(n={}),t.call(this,oi({event:"swipe",threshold:10,velocity:.3,direction:Ni|ao,pointers:1},n))||this}var r=e.prototype;return r.getTouchAction=function(){return DN.prototype.getTouchAction.call(this)},r.attrTest=function(i){var s=this.options.direction,a;return s&(Ni|ao)?a=i.overallVelocity:s&Ni?a=i.overallVelocityX:s&ao&&(a=i.overallVelocityY),t.prototype.attrTest.call(this,i)&&s&i.offsetDirection&&i.distance>this.options.threshold&&i.maxPointers===this.options.pointers&&Po(a)>this.options.velocity&&i.eventType&Bt},r.emit=function(i){var s=XG(i.offsetDirection);s&&this.manager.emit(this.options.event+s,i),this.manager.emit(this.options.event,i)},e}(mu),ZG=function(t){Un(e,t);function e(n){return n===void 0&&(n={}),t.call(this,oi({event:"pinch",threshold:0,pointers:2},n))||this}var r=e.prototype;return r.getTouchAction=function(){return[so]},r.attrTest=function(i){return t.prototype.attrTest.call(this,i)&&(Math.abs(i.scale-1)>this.options.threshold||this.state&Dn)},r.emit=function(i){if(i.scale!==1){var s=i.scale<1?"in":"out";i.additionalEvent=this.options.event+s}t.prototype.emit.call(this,i)},e}(mu),eY=function(t){Un(e,t);function e(n){return n===void 0&&(n={}),t.call(this,oi({event:"rotate",threshold:0,pointers:2},n))||this}var r=e.prototype;return r.getTouchAction=function(){return[so]},r.attrTest=function(i){return t.prototype.attrTest.call(this,i)&&(Math.abs(i.rotation)>this.options.threshold||this.state&Dn)},e}(mu),tY=function(t){Un(e,t);function e(n){var i;return n===void 0&&(n={}),i=t.call(this,oi({event:"press",pointers:1,time:251,threshold:9},n))||this,i._timer=null,i._input=null,i}var r=e.prototype;return r.getTouchAction=function(){return[FG]},r.process=function(i){var s=this,a=this.options,o=i.pointers.length===a.pointers,l=i.distance<a.threshold,u=i.deltaTime>a.time;if(this._input=i,!l||!o||i.eventType&(Bt|nn)&&!u)this.reset();else if(i.eventType&Lr)this.reset(),this._timer=setTimeout(function(){s.state=rs,s.tryEmit()},a.time);else if(i.eventType&Bt)return rs;return Si},r.reset=function(){clearTimeout(this._timer)},r.emit=function(i){this.state===rs&&(i&&i.eventType&Bt?this.manager.emit(this.options.event+"up",i):(this._input.timeStamp=TN(),this.manager.emit(this.options.event,this._input)))},e}(wh),rY={domEvents:!1,touchAction:AG,enable:!0,inputTarget:null,inputClass:null,cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}},I6=[[eY,{enable:!1}],[ZG,{enable:!1},["rotate"]],[JG,{direction:Ni}],[DN,{direction:Ni},["swipe"]],[gP],[gP,{event:"doubletap",taps:2},["tap"]],[tY]],Dpe=1,R6=2;function j6(t,e){var r=t.element;if(r.style){var n;ts(t.options.cssProps,function(i,s){n=xm(r.style,s),e?(t.oldCssProps[n]=r.style[n],r.style[n]=i):r.style[n]=t.oldCssProps[n]||""}),e||(t.oldCssProps={})}}function qpe(t,e){var r=document.createEvent("Event");r.initEvent(t,!0,!0),r.gesture=e,e.target.dispatchEvent(r)}var $6=function(){function t(r,n){var i=this;this.options=Oo({},rY,n||{}),this.options.inputTarget=this.options.inputTarget||r,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=r,this.input=jpe(this),this.touchAction=new UG(this,this.options.touchAction),j6(this,!0),ts(this.options.recognizers,function(s){var a=i.add(new s[0](s[1]));s[2]&&a.recognizeWith(s[2]),s[3]&&a.requireFailure(s[3])},this)}var e=t.prototype;return e.set=function(n){return Oo(this.options,n),n.touchAction&&this.touchAction.update(),n.inputTarget&&(this.input.destroy(),this.input.target=n.inputTarget,this.input.init()),this},e.stop=function(n){this.session.stopped=n?R6:Dpe},e.recognize=function(n){var i=this.session;if(!i.stopped){this.touchAction.preventDefaults(n);var s,a=this.recognizers,o=i.curRecognizer;(!o||o&&o.state&rs)&&(i.curRecognizer=null,o=null);for(var l=0;l<a.length;)s=a[l],i.stopped!==R6&&(!o||s===o||s.canRecognizeWith(o))?s.recognize(n):s.reset(),!o&&s.state&(Dn|pu|ia)&&(i.curRecognizer=s,o=s),l++}},e.get=function(n){if(n instanceof wh)return n;for(var i=this.recognizers,s=0;s<i.length;s++)if(i[s].options.event===n)return i[s];return null},e.add=function(n){if(El(n,"add",this))return this;var i=this.get(n.options.event);return i&&this.remove(i),this.recognizers.push(n),n.manager=this,this.touchAction.update(),n},e.remove=function(n){if(El(n,"remove",this))return this;var i=this.get(n);if(n){var s=this.recognizers,a=Co(s,i);a!==-1&&(s.splice(a,1),this.touchAction.update())}return this},e.on=function(n,i){if(n===void 0||i===void 0)return this;var s=this.handlers;return ts(bd(n),function(a){s[a]=s[a]||[],s[a].push(i)}),this},e.off=function(n,i){if(n===void 0)return this;var s=this.handlers;return ts(bd(n),function(a){i?s[a]&&s[a].splice(Co(s[a],i),1):delete s[a]}),this},e.emit=function(n,i){this.options.domEvents&&qpe(n,i);var s=this.handlers[n]&&this.handlers[n].slice();if(!(!s||!s.length)){i.type=n,i.preventDefault=function(){i.srcEvent.preventDefault()};for(var a=0;a<s.length;)s[a](i),a++}},e.destroy=function(){this.element&&j6(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null},t}(),Mpe={touchstart:Lr,touchmove:Wo,touchend:Bt,touchcancel:nn},Ape="touchstart",Fpe="touchstart touchmove touchend touchcancel",Lpe=function(t){Un(e,t);function e(){var n,i=e.prototype;return i.evTarget=Ape,i.evWin=Fpe,n=t.apply(this,arguments)||this,n.started=!1,n}var r=e.prototype;return r.handler=function(i){var s=Mpe[i.type];if(s===Lr&&(this.started=!0),!!this.started){var a=Bpe.call(this,i,s);s&(Bt|nn)&&a[0].length-a[1].length===0&&(this.started=!1),this.callback(this.manager,s,{pointers:a[0],changedPointers:a[1],pointerType:vh,srcEvent:i})}},e}(Xu);function Bpe(t,e){var r=wd(t.touches),n=wd(t.changedTouches);return e&(Bt|nn)&&(r=jN(r.concat(n),"identifier",!0)),[r,n]}function nY(t,e,r){var n="DEPRECATED METHOD: "+e+`
`+r+` AT 
`;return function(){var i=new Error("get-stack-trace"),s=i&&i.stack?i.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",a=window.console&&(window.console.warn||window.console.log);return a&&a.call(window.console,n,s),t.apply(this,arguments)}}var iY=nY(function(t,e,r){for(var n=Object.keys(e),i=0;i<n.length;)(!r||r&&t[n[i]]===void 0)&&(t[n[i]]=e[n[i]]),i++;return t},"extend","Use `assign`."),zpe=nY(function(t,e){return iY(t,e,!0)},"merge","Use `assign`.");function Upe(t,e,r){var n=e.prototype,i;i=t.prototype=Object.create(n),i.constructor=t,i._super=n,r&&Oo(i,r)}function k6(t,e){return function(){return t.apply(e,arguments)}}var sY=function(){var t=function(r,n){return n===void 0&&(n={}),new $6(r,oi({recognizers:I6.concat()},n))};return t.VERSION="2.0.17-rc",t.DIRECTION_ALL=BG,t.DIRECTION_DOWN=fu,t.DIRECTION_LEFT=gh,t.DIRECTION_RIGHT=yh,t.DIRECTION_UP=bh,t.DIRECTION_HORIZONTAL=Ni,t.DIRECTION_VERTICAL=ao,t.DIRECTION_NONE=hp,t.DIRECTION_DOWN=fu,t.INPUT_START=Lr,t.INPUT_MOVE=Wo,t.INPUT_END=Bt,t.INPUT_CANCEL=nn,t.STATE_POSSIBLE=_f,t.STATE_BEGAN=Dn,t.STATE_CHANGED=pu,t.STATE_ENDED=ia,t.STATE_RECOGNIZED=rs,t.STATE_CANCELLED=xd,t.STATE_FAILED=Si,t.Manager=$6,t.Input=Xu,t.TouchAction=UG,t.TouchInput=$N,t.MouseInput=kN,t.PointerEventInput=YG,t.TouchMouseInput=QG,t.SingleTouchInput=Lpe,t.Recognizer=wh,t.AttrRecognizer=mu,t.Tap=gP,t.Pan=DN,t.Swipe=JG,t.Pinch=ZG,t.Rotate=eY,t.Press=tY,t.on=Mc,t.off=Ac,t.each=ts,t.merge=zpe,t.extend=iY,t.bindFn=k6,t.assign=Oo,t.inherit=Upe,t.bindFn=k6,t.prefixed=xm,t.toArray=wd,t.inArray=Co,t.uniqueArray=jN,t.splitStr=bd,t.boolOrFn=_m,t.hasParent=RN,t.addEventListeners=Mc,t.removeEventListeners=Ac,t.defaults=Oo({},rY,{preset:I6}),t}();sY.defaults;Hde("DELETE");function Sm(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return Wpe(e.length?e:[dp()])}function Wpe(t){let[e,r,n]=Hpe(t),i=1;const s=()=>{const a=2091639*e+i*23283064365386963e-26;return e=r,r=n,n=a-(i=a|0)};return s.uint32=()=>s()*4294967296,s.fract53=()=>s()+(s()*2097152|0)*11102230246251565e-32,s.algorithm="Alea",s.seed=t,s.version="0.9",s}function Hpe(){const t=Vpe();let e=t(" "),r=t(" "),n=t(" ");for(let i=0;i<arguments.length;i++)e-=t(i<0||arguments.length<=i?void 0:arguments[i]),e<0&&(e+=1),r-=t(i<0||arguments.length<=i?void 0:arguments[i]),r<0&&(r+=1),n-=t(i<0||arguments.length<=i?void 0:arguments[i]),n<0&&(n+=1);return[e,r,n]}function Vpe(){let t=4022871197;return function(e){const r=e.toString();for(let n=0;n<r.length;n++){t+=r.charCodeAt(n);let i=.02519603282416938*t;t=i>>>0,i-=t,i*=t,t=i>>>0,i-=t,t+=i*4294967296}return(t>>>0)*23283064365386963e-26}}function Kpe(){const t=()=>{};return{on:t,off:t,destroy:t,emit:t,get(){return{set:t}}}}const qN=typeof window<"u"?window.Hammer||sY:function(){return Kpe()};function Ei(t){var e;this._cleanupQueue=[],this.active=!1,this._dom={container:t,overlay:document.createElement("div")},this._dom.overlay.classList.add("vis-overlay"),this._dom.container.appendChild(this._dom.overlay),this._cleanupQueue.push(()=>{this._dom.overlay.parentNode.removeChild(this._dom.overlay)});const r=qN(this._dom.overlay);r.on("tap",Y(e=this._onTapOverlay).call(e,this)),this._cleanupQueue.push(()=>{r.destroy()});const n=["tap","doubletap","press","pinch","pan","panstart","panmove","panend"];Ze(n).call(n,i=>{r.on(i,s=>{s.srcEvent.stopPropagation()})}),document&&document.body&&(this._onClick=i=>{Gpe(i.target,t)||this.deactivate()},document.body.addEventListener("click",this._onClick),this._cleanupQueue.push(()=>{document.body.removeEventListener("click",this._onClick)})),this._escListener=i=>{("key"in i?i.key==="Escape":i.keyCode===27)&&this.deactivate()}}mG(Ei.prototype);Ei.current=null;Ei.prototype.destroy=function(){this.deactivate();for(const r of no(t=Ji(e=this._cleanupQueue).call(e,0)).call(t)){var t,e;r()}};Ei.prototype.activate=function(){Ei.current&&Ei.current.deactivate(),Ei.current=this,this.active=!0,this._dom.overlay.style.display="none",this._dom.container.classList.add("vis-active"),this.emit("change"),this.emit("activate"),document.body.addEventListener("keydown",this._escListener)};Ei.prototype.deactivate=function(){this.active=!1,this._dom.overlay.style.display="block",this._dom.container.classList.remove("vis-active"),document.body.removeEventListener("keydown",this._escListener),this.emit("change"),this.emit("deactivate")};Ei.prototype._onTapOverlay=function(t){this.activate(),t.srcEvent.stopPropagation()};function Gpe(t,e){for(;t;){if(t===e)return!0;t=t.parentNode}return!1}const Ype=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i,Qpe=/^#?([a-f\d])([a-f\d])([a-f\d])$/i,Xpe=/^rgb\( *(1?\d{1,2}|2[0-4]\d|25[0-5]) *, *(1?\d{1,2}|2[0-4]\d|25[0-5]) *, *(1?\d{1,2}|2[0-4]\d|25[0-5]) *\)$/i,Jpe=/^rgba\( *(1?\d{1,2}|2[0-4]\d|25[0-5]) *, *(1?\d{1,2}|2[0-4]\d|25[0-5]) *, *(1?\d{1,2}|2[0-4]\d|25[0-5]) *, *([01]|0?\.\d+) *\)$/i;function Ps(t){if(t)for(;t.hasChildNodes()===!0;){const e=t.firstChild;e&&(Ps(e),t.removeChild(e))}}function Rl(t){return t instanceof String||typeof t=="string"}function D6(t){return typeof t=="object"&&t!==null}function No(t,e,r,n){let i=!1;n===!0&&(i=e[r]===null&&t[r]!==void 0),i?delete t[r]:t[r]=e[r]}function aY(t,e){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;for(const n in t)if(e[n]!==void 0)if(e[n]===null||typeof e[n]!="object")No(t,e,n,r);else{const i=t[n],s=e[n];D6(i)&&D6(s)&&aY(i,s,r)}}function Ju(t,e,r){let n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(It(r))throw new TypeError("Arrays are not supported by deepExtend");for(let i=0;i<t.length;i++){const s=t[i];if(Object.prototype.hasOwnProperty.call(r,s))if(r[s]&&r[s].constructor===Object)e[s]===void 0&&(e[s]={}),e[s].constructor===Object?at(e[s],r[s],!1,n):No(e,r,s,n);else{if(It(r[s]))throw new TypeError("Arrays are not supported by deepExtend");No(e,r,s,n)}}return e}function mp(t,e,r){let n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(It(r))throw new TypeError("Arrays are not supported by deepExtend");for(const i in r)if(Object.prototype.hasOwnProperty.call(r,i)&&!na(t).call(t,i))if(r[i]&&r[i].constructor===Object)e[i]===void 0&&(e[i]={}),e[i].constructor===Object?at(e[i],r[i]):No(e,r,i,n);else if(It(r[i])){e[i]=[];for(let s=0;s<r[i].length;s++)e[i].push(r[i][s])}else No(e,r,i,n);return e}function at(t,e){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;for(const s in e)if(Object.prototype.hasOwnProperty.call(e,s)||r===!0)if(typeof e[s]=="object"&&e[s]!==null&&vB(e[s])===Object.prototype)t[s]===void 0?t[s]=at({},e[s],r):typeof t[s]=="object"&&t[s]!==null&&vB(t[s])===Object.prototype?at(t[s],e[s],r):No(t,e,s,n);else if(It(e[s])){var i;t[s]=xi(i=e[s]).call(i)}else No(t,e,s,n);return t}function vp(t,e){return[...t,e]}function Zpe(t){return xi(t).call(t)}function eme(t){return t.getBoundingClientRect().left}function tme(t){return t.getBoundingClientRect().top}function $e(t,e){if(It(t)){const r=t.length;for(let n=0;n<r;n++)e(t[n],n,t)}else for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&e(t[r],r,t)}function MN(t){let e;switch(t.length){case 3:case 4:return e=Qpe.exec(t),e?{r:Zn(e[1]+e[1],16),g:Zn(e[2]+e[2],16),b:Zn(e[3]+e[3],16)}:null;case 6:case 7:return e=Ype.exec(t),e?{r:Zn(e[1],16),g:Zn(e[2],16),b:Zn(e[3],16)}:null;default:return null}}function Rn(t,e){if(na(t).call(t,"rgba"))return t;if(na(t).call(t,"rgb")){const r=t.substr(Ve(t).call(t,"(")+1).replace(")","").split(",");return"rgba("+r[0]+","+r[1]+","+r[2]+","+e+")"}else{const r=MN(t);return r==null?t:"rgba("+r.r+","+r.g+","+r.b+","+e+")"}}function oY(t,e,r){var n;return"#"+xi(n=((1<<24)+(t<<16)+(e<<8)+r).toString(16)).call(n,1)}function yP(t,e){if(Rl(t)){let n=t;if(uY(n)){var r;const i=hu(r=n.substr(4).substr(0,n.length-5).split(",")).call(r,function(s){return Zn(s)});n=oY(i[0],i[1],i[2])}if(lY(n)===!0){const i=rme(n),s={h:i.h,s:i.s*.8,v:Math.min(1,i.v*1.02)},a={h:i.h,s:Math.min(1,i.s*1.25),v:i.v*.8},o=bP(a.h,a.s,a.v),l=bP(s.h,s.s,s.v);return{background:n,border:o,highlight:{background:l,border:o},hover:{background:l,border:o}}}else return{background:n,border:n,highlight:{background:n,border:n},hover:{background:n,border:n}}}else return{background:t.background||void 0,border:t.border||void 0,highlight:Rl(t.highlight)?{border:t.highlight,background:t.highlight}:{background:t.highlight&&t.highlight.background||void 0,border:t.highlight&&t.highlight.border||void 0},hover:Rl(t.hover)?{border:t.hover,background:t.hover}:{border:t.hover&&t.hover.border||void 0,background:t.hover&&t.hover.background||void 0}}}function _c(t,e,r){t=t/255,e=e/255,r=r/255;const n=Math.min(t,Math.min(e,r)),i=Math.max(t,Math.max(e,r));if(n===i)return{h:0,s:0,v:n};const s=t===n?e-r:r===n?t-e:r-t,o=60*((t===n?3:r===n?1:5)-s/(i-n))/360,l=(i-n)/i;return{h:o,s:l,v:i}}function Sf(t,e,r){let n,i,s;const a=Math.floor(t*6),o=t*6-a,l=r*(1-e),u=r*(1-o*e),d=r*(1-(1-o)*e);switch(a%6){case 0:n=r,i=d,s=l;break;case 1:n=u,i=r,s=l;break;case 2:n=l,i=r,s=d;break;case 3:n=l,i=u,s=r;break;case 4:n=d,i=l,s=r;break;case 5:n=r,i=l,s=u;break}return{r:Math.floor(n*255),g:Math.floor(i*255),b:Math.floor(s*255)}}function bP(t,e,r){const n=Sf(t,e,r);return oY(n.r,n.g,n.b)}function rme(t){const e=MN(t);if(!e)throw new TypeError("'".concat(t,"' is not a valid color."));return _c(e.r,e.g,e.b)}function lY(t){return/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i.test(t)}function uY(t){return Xpe.test(t)}function nme(t){return Jpe.test(t)}function sa(t){if(t===null||typeof t!="object")return null;if(t instanceof Element)return t;const e=io(t);for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&typeof t[r]=="object"&&(e[r]=sa(t[r]));return e}function Nn(t,e,r){let n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};const i=function(p){return p!=null},s=function(p){return p!==null&&typeof p=="object"},a=function(p){for(const m in p)if(Object.prototype.hasOwnProperty.call(p,m))return!1;return!0};if(!s(t))throw new Error("Parameter mergeTarget must be an object");if(!s(e))throw new Error("Parameter options must be an object");if(!i(r))throw new Error("Parameter option must have a value");if(!s(n))throw new Error("Parameter globalOptions must be an object");const o=function(p,m,y){s(p[y])||(p[y]={});const b=m[y],g=p[y];for(const v in b)Object.prototype.hasOwnProperty.call(b,v)&&(g[v]=b[v])},l=e[r],d=s(n)&&!a(n)?n[r]:void 0,h=d?d.enabled:void 0;if(l===void 0)return;if(typeof l=="boolean"){s(t[r])||(t[r]={}),t[r].enabled=l;return}if(l===null&&!s(t[r]))if(i(d))t[r]=io(d);else return;if(!s(l))return;let f=!0;l.enabled!==void 0?f=l.enabled:h!==void 0&&(f=d.enabled),o(t,e,r),t[r].enabled=f}const ime={linear(t){return t},easeInQuad(t){return t*t},easeOutQuad(t){return t*(2-t)},easeInOutQuad(t){return t<.5?2*t*t:-1+(4-2*t)*t},easeInCubic(t){return t*t*t},easeOutCubic(t){return--t*t*t+1},easeInOutCubic(t){return t<.5?4*t*t*t:(t-1)*(2*t-2)*(2*t-2)+1},easeInQuart(t){return t*t*t*t},easeOutQuart(t){return 1- --t*t*t*t},easeInOutQuart(t){return t<.5?8*t*t*t*t:1-8*--t*t*t*t},easeInQuint(t){return t*t*t*t*t},easeOutQuint(t){return 1+--t*t*t*t*t},easeInOutQuint(t){return t<.5?16*t*t*t*t*t:1+16*--t*t*t*t*t}};function Cs(t,e){let r;It(e)||(e=[e]);for(const n of t)if(n){r=n[e[0]];for(let i=1;i<e.length;i++)r&&(r=r[e[i]]);if(typeof r<"u")break}return r}const sme={black:"#000000",navy:"#000080",darkblue:"#00008B",mediumblue:"#0000CD",blue:"#0000FF",darkgreen:"#006400",green:"#008000",teal:"#008080",darkcyan:"#008B8B",deepskyblue:"#00BFFF",darkturquoise:"#00CED1",mediumspringgreen:"#00FA9A",lime:"#00FF00",springgreen:"#00FF7F",aqua:"#00FFFF",cyan:"#00FFFF",midnightblue:"#191970",dodgerblue:"#1E90FF",lightseagreen:"#20B2AA",forestgreen:"#228B22",seagreen:"#2E8B57",darkslategray:"#2F4F4F",limegreen:"#32CD32",mediumseagreen:"#3CB371",turquoise:"#40E0D0",royalblue:"#4169E1",steelblue:"#4682B4",darkslateblue:"#483D8B",mediumturquoise:"#48D1CC",indigo:"#4B0082",darkolivegreen:"#556B2F",cadetblue:"#5F9EA0",cornflowerblue:"#6495ED",mediumaquamarine:"#66CDAA",dimgray:"#696969",slateblue:"#6A5ACD",olivedrab:"#6B8E23",slategray:"#708090",lightslategray:"#778899",mediumslateblue:"#7B68EE",lawngreen:"#7CFC00",chartreuse:"#7FFF00",aquamarine:"#7FFFD4",maroon:"#800000",purple:"#800080",olive:"#808000",gray:"#808080",skyblue:"#87CEEB",lightskyblue:"#87CEFA",blueviolet:"#8A2BE2",darkred:"#8B0000",darkmagenta:"#8B008B",saddlebrown:"#8B4513",darkseagreen:"#8FBC8F",lightgreen:"#90EE90",mediumpurple:"#9370D8",darkviolet:"#9400D3",palegreen:"#98FB98",darkorchid:"#9932CC",yellowgreen:"#9ACD32",sienna:"#A0522D",brown:"#A52A2A",darkgray:"#A9A9A9",lightblue:"#ADD8E6",greenyellow:"#ADFF2F",paleturquoise:"#AFEEEE",lightsteelblue:"#B0C4DE",powderblue:"#B0E0E6",firebrick:"#B22222",darkgoldenrod:"#B8860B",mediumorchid:"#BA55D3",rosybrown:"#BC8F8F",darkkhaki:"#BDB76B",silver:"#C0C0C0",mediumvioletred:"#C71585",indianred:"#CD5C5C",peru:"#CD853F",chocolate:"#D2691E",tan:"#D2B48C",lightgrey:"#D3D3D3",palevioletred:"#D87093",thistle:"#D8BFD8",orchid:"#DA70D6",goldenrod:"#DAA520",crimson:"#DC143C",gainsboro:"#DCDCDC",plum:"#DDA0DD",burlywood:"#DEB887",lightcyan:"#E0FFFF",lavender:"#E6E6FA",darksalmon:"#E9967A",violet:"#EE82EE",palegoldenrod:"#EEE8AA",lightcoral:"#F08080",khaki:"#F0E68C",aliceblue:"#F0F8FF",honeydew:"#F0FFF0",azure:"#F0FFFF",sandybrown:"#F4A460",wheat:"#F5DEB3",beige:"#F5F5DC",whitesmoke:"#F5F5F5",mintcream:"#F5FFFA",ghostwhite:"#F8F8FF",salmon:"#FA8072",antiquewhite:"#FAEBD7",linen:"#FAF0E6",lightgoldenrodyellow:"#FAFAD2",oldlace:"#FDF5E6",red:"#FF0000",fuchsia:"#FF00FF",magenta:"#FF00FF",deeppink:"#FF1493",orangered:"#FF4500",tomato:"#FF6347",hotpink:"#FF69B4",coral:"#FF7F50",darkorange:"#FF8C00",lightsalmon:"#FFA07A",orange:"#FFA500",lightpink:"#FFB6C1",pink:"#FFC0CB",gold:"#FFD700",peachpuff:"#FFDAB9",navajowhite:"#FFDEAD",moccasin:"#FFE4B5",bisque:"#FFE4C4",mistyrose:"#FFE4E1",blanchedalmond:"#FFEBCD",papayawhip:"#FFEFD5",lavenderblush:"#FFF0F5",seashell:"#FFF5EE",cornsilk:"#FFF8DC",lemonchiffon:"#FFFACD",floralwhite:"#FFFAF0",snow:"#FFFAFA",yellow:"#FFFF00",lightyellow:"#FFFFE0",ivory:"#FFFFF0",white:"#FFFFFF"};let ame=class{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1;this.pixelRatio=e,this.generated=!1,this.centerCoordinates={x:289/2,y:289/2},this.r=289*.49,this.color={r:255,g:255,b:255,a:1},this.hueCircle=void 0,this.initialColor={r:255,g:255,b:255,a:1},this.previousColor=void 0,this.applied=!1,this.updateCallback=()=>{},this.closeCallback=()=>{},this._create()}insertTo(e){this.hammer!==void 0&&(this.hammer.destroy(),this.hammer=void 0),this.container=e,this.container.appendChild(this.frame),this._bindHammer(),this._setSize()}setUpdateCallback(e){if(typeof e=="function")this.updateCallback=e;else throw new Error("Function attempted to set as colorPicker update callback is not a function.")}setCloseCallback(e){if(typeof e=="function")this.closeCallback=e;else throw new Error("Function attempted to set as colorPicker closing callback is not a function.")}_isColorString(e){if(typeof e=="string")return sme[e]}setColor(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(e==="none")return;let n;const i=this._isColorString(e);if(i!==void 0&&(e=i),Rl(e)===!0){if(uY(e)===!0){const s=e.substr(4).substr(0,e.length-5).split(",");n={r:s[0],g:s[1],b:s[2],a:1}}else if(nme(e)===!0){const s=e.substr(5).substr(0,e.length-6).split(",");n={r:s[0],g:s[1],b:s[2],a:s[3]}}else if(lY(e)===!0){const s=MN(e);n={r:s.r,g:s.g,b:s.b,a:1}}}else if(e instanceof Object&&e.r!==void 0&&e.g!==void 0&&e.b!==void 0){const s=e.a!==void 0?e.a:"1.0";n={r:e.r,g:e.g,b:e.b,a:s}}if(n===void 0)throw new Error("Unknown color passed to the colorPicker. Supported are strings: rgb, hex, rgba. Object: rgb ({r:r,g:g,b:b,[a:a]}). Supplied: "+ph(e));this._setColor(n,r)}show(){this.closeCallback!==void 0&&(this.closeCallback(),this.closeCallback=void 0),this.applied=!1,this.frame.style.display="block",this._generateHueCircle()}_hide(){(arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0)===!0&&(this.previousColor=Lt({},this.color)),this.applied===!0&&this.updateCallback(this.initialColor),this.frame.style.display="none",Zi(()=>{this.closeCallback!==void 0&&(this.closeCallback(),this.closeCallback=void 0)},0)}_save(){this.updateCallback(this.color),this.applied=!1,this._hide()}_apply(){this.applied=!0,this.updateCallback(this.color),this._updatePicker(this.color)}_loadLast(){this.previousColor!==void 0?this.setColor(this.previousColor,!1):alert("There is no last color to load...")}_setColor(e){(arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0)===!0&&(this.initialColor=Lt({},e)),this.color=e;const n=_c(e.r,e.g,e.b),i=2*Math.PI,s=this.r*n.s,a=this.centerCoordinates.x+s*Math.sin(i*n.h),o=this.centerCoordinates.y+s*Math.cos(i*n.h);this.colorPickerSelector.style.left=a-.5*this.colorPickerSelector.clientWidth+"px",this.colorPickerSelector.style.top=o-.5*this.colorPickerSelector.clientHeight+"px",this._updatePicker(e)}_setOpacity(e){this.color.a=e/100,this._updatePicker(this.color)}_setBrightness(e){const r=_c(this.color.r,this.color.g,this.color.b);r.v=e/100;const n=Sf(r.h,r.s,r.v);n.a=this.color.a,this.color=n,this._updatePicker()}_updatePicker(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.color;const r=_c(e.r,e.g,e.b),n=this.colorPickerCanvas.getContext("2d");this.pixelRation===void 0&&(this.pixelRatio=(window.devicePixelRatio||1)/(n.webkitBackingStorePixelRatio||n.mozBackingStorePixelRatio||n.msBackingStorePixelRatio||n.oBackingStorePixelRatio||n.backingStorePixelRatio||1)),n.setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0);const i=this.colorPickerCanvas.clientWidth,s=this.colorPickerCanvas.clientHeight;n.clearRect(0,0,i,s),n.putImageData(this.hueCircle,0,0),n.fillStyle="rgba(0,0,0,"+(1-r.v)+")",n.circle(this.centerCoordinates.x,this.centerCoordinates.y,this.r),mh(n).call(n),this.brightnessRange.value=100*r.v,this.opacityRange.value=100*e.a,this.initialColorDiv.style.backgroundColor="rgba("+this.initialColor.r+","+this.initialColor.g+","+this.initialColor.b+","+this.initialColor.a+")",this.newColorDiv.style.backgroundColor="rgba("+this.color.r+","+this.color.g+","+this.color.b+","+this.color.a+")"}_setSize(){this.colorPickerCanvas.style.width="100%",this.colorPickerCanvas.style.height="100%",this.colorPickerCanvas.width=289*this.pixelRatio,this.colorPickerCanvas.height=289*this.pixelRatio}_create(){var e,r,n,i;if(this.frame=document.createElement("div"),this.frame.className="vis-color-picker",this.colorPickerDiv=document.createElement("div"),this.colorPickerSelector=document.createElement("div"),this.colorPickerSelector.className="vis-selector",this.colorPickerDiv.appendChild(this.colorPickerSelector),this.colorPickerCanvas=document.createElement("canvas"),this.colorPickerDiv.appendChild(this.colorPickerCanvas),this.colorPickerCanvas.getContext){const a=this.colorPickerCanvas.getContext("2d");this.pixelRatio=(window.devicePixelRatio||1)/(a.webkitBackingStorePixelRatio||a.mozBackingStorePixelRatio||a.msBackingStorePixelRatio||a.oBackingStorePixelRatio||a.backingStorePixelRatio||1),this.colorPickerCanvas.getContext("2d").setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0)}else{const a=document.createElement("DIV");a.style.color="red",a.style.fontWeight="bold",a.style.padding="10px",a.innerText="Error: your browser does not support HTML canvas",this.colorPickerCanvas.appendChild(a)}this.colorPickerDiv.className="vis-color",this.opacityDiv=document.createElement("div"),this.opacityDiv.className="vis-opacity",this.brightnessDiv=document.createElement("div"),this.brightnessDiv.className="vis-brightness",this.arrowDiv=document.createElement("div"),this.arrowDiv.className="vis-arrow",this.opacityRange=document.createElement("input");try{this.opacityRange.type="range",this.opacityRange.min="0",this.opacityRange.max="100"}catch{}this.opacityRange.value="100",this.opacityRange.className="vis-range",this.brightnessRange=document.createElement("input");try{this.brightnessRange.type="range",this.brightnessRange.min="0",this.brightnessRange.max="100"}catch{}this.brightnessRange.value="100",this.brightnessRange.className="vis-range",this.opacityDiv.appendChild(this.opacityRange),this.brightnessDiv.appendChild(this.brightnessRange);const s=this;this.opacityRange.onchange=function(){s._setOpacity(this.value)},this.opacityRange.oninput=function(){s._setOpacity(this.value)},this.brightnessRange.onchange=function(){s._setBrightness(this.value)},this.brightnessRange.oninput=function(){s._setBrightness(this.value)},this.brightnessLabel=document.createElement("div"),this.brightnessLabel.className="vis-label vis-brightness",this.brightnessLabel.innerText="brightness:",this.opacityLabel=document.createElement("div"),this.opacityLabel.className="vis-label vis-opacity",this.opacityLabel.innerText="opacity:",this.newColorDiv=document.createElement("div"),this.newColorDiv.className="vis-new-color",this.newColorDiv.innerText="new",this.initialColorDiv=document.createElement("div"),this.initialColorDiv.className="vis-initial-color",this.initialColorDiv.innerText="initial",this.cancelButton=document.createElement("div"),this.cancelButton.className="vis-button vis-cancel",this.cancelButton.innerText="cancel",this.cancelButton.onclick=Y(e=this._hide).call(e,this,!1),this.applyButton=document.createElement("div"),this.applyButton.className="vis-button vis-apply",this.applyButton.innerText="apply",this.applyButton.onclick=Y(r=this._apply).call(r,this),this.saveButton=document.createElement("div"),this.saveButton.className="vis-button vis-save",this.saveButton.innerText="save",this.saveButton.onclick=Y(n=this._save).call(n,this),this.loadButton=document.createElement("div"),this.loadButton.className="vis-button vis-load",this.loadButton.innerText="load last",this.loadButton.onclick=Y(i=this._loadLast).call(i,this),this.frame.appendChild(this.colorPickerDiv),this.frame.appendChild(this.arrowDiv),this.frame.appendChild(this.brightnessLabel),this.frame.appendChild(this.brightnessDiv),this.frame.appendChild(this.opacityLabel),this.frame.appendChild(this.opacityDiv),this.frame.appendChild(this.newColorDiv),this.frame.appendChild(this.initialColorDiv),this.frame.appendChild(this.cancelButton),this.frame.appendChild(this.applyButton),this.frame.appendChild(this.saveButton),this.frame.appendChild(this.loadButton)}_bindHammer(){this.drag={},this.pinch={},this.hammer=new qN(this.colorPickerCanvas),this.hammer.get("pinch").set({enable:!0}),this.hammer.on("hammer.input",e=>{e.isFirst&&this._moveSelector(e)}),this.hammer.on("tap",e=>{this._moveSelector(e)}),this.hammer.on("panstart",e=>{this._moveSelector(e)}),this.hammer.on("panmove",e=>{this._moveSelector(e)}),this.hammer.on("panend",e=>{this._moveSelector(e)})}_generateHueCircle(){if(this.generated===!1){const e=this.colorPickerCanvas.getContext("2d");this.pixelRation===void 0&&(this.pixelRatio=(window.devicePixelRatio||1)/(e.webkitBackingStorePixelRatio||e.mozBackingStorePixelRatio||e.msBackingStorePixelRatio||e.oBackingStorePixelRatio||e.backingStorePixelRatio||1)),e.setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0);const r=this.colorPickerCanvas.clientWidth,n=this.colorPickerCanvas.clientHeight;e.clearRect(0,0,r,n);let i,s,a,o;this.centerCoordinates={x:r*.5,y:n*.5},this.r=.49*r;const l=2*Math.PI/360,u=1/360,d=1/this.r;let h;for(a=0;a<360;a++)for(o=0;o<this.r;o++)i=this.centerCoordinates.x+o*Math.sin(l*a),s=this.centerCoordinates.y+o*Math.cos(l*a),h=Sf(a*u,o*d,1),e.fillStyle="rgb("+h.r+","+h.g+","+h.b+")",e.fillRect(i-.5,s-.5,2,2);e.strokeStyle="rgba(0,0,0,1)",e.circle(this.centerCoordinates.x,this.centerCoordinates.y,this.r),e.stroke(),this.hueCircle=e.getImageData(0,0,r,n)}this.generated=!0}_moveSelector(e){const r=this.colorPickerDiv.getBoundingClientRect(),n=e.center.x-r.left,i=e.center.y-r.top,s=.5*this.colorPickerDiv.clientHeight,a=.5*this.colorPickerDiv.clientWidth,o=n-a,l=i-s,u=Math.atan2(o,l),d=.98*Math.min(Math.sqrt(o*o+l*l),a),h=Math.cos(u)*d+s,f=Math.sin(u)*d+a;this.colorPickerSelector.style.top=h-.5*this.colorPickerSelector.clientHeight+"px",this.colorPickerSelector.style.left=f-.5*this.colorPickerSelector.clientWidth+"px";let p=u/(2*Math.PI);p=p<0?p+1:p;const m=d/this.r,y=_c(this.color.r,this.color.g,this.color.b);y.h=p,y.s=m;const b=Sf(y.h,y.s,y.v);b.a=this.color.a,this.color=b,this.initialColorDiv.style.backgroundColor="rgba("+this.initialColor.r+","+this.initialColor.g+","+this.initialColor.b+","+this.initialColor.a+")",this.newColorDiv.style.backgroundColor="rgba("+this.color.r+","+this.color.g+","+this.color.b+","+this.color.a+")"}};function wP(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];if(e.length<1)throw new TypeError("Invalid arguments.");if(e.length===1)return document.createTextNode(e[0]);{const n=document.createElement(e[0]);return n.appendChild(wP(...xi(e).call(e,1))),n}}let ome=class{constructor(e,r,n){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:1,s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:()=>!1;this.parent=e,this.changedOptions=[],this.container=r,this.allowCreation=!1,this.hideOption=s,this.options={},this.initialized=!1,this.popupCounter=0,this.defaultOptions={enabled:!1,filter:!0,container:void 0,showButton:!0},Lt(this.options,this.defaultOptions),this.configureOptions=n,this.moduleOptions={},this.domElements=[],this.popupDiv={},this.popupLimit=5,this.popupHistory={},this.colorPicker=new ame(i),this.wrapper=void 0}setOptions(e){if(e!==void 0){this.popupHistory={},this._removePopup();let r=!0;if(typeof e=="string")this.options.filter=e;else if(It(e))this.options.filter=e.join();else if(typeof e=="object"){if(e==null)throw new TypeError("options cannot be null");e.container!==void 0&&(this.options.container=e.container),Yr(e)!==void 0&&(this.options.filter=Yr(e)),e.showButton!==void 0&&(this.options.showButton=e.showButton),e.enabled!==void 0&&(r=e.enabled)}else typeof e=="boolean"?(this.options.filter=!0,r=e):typeof e=="function"&&(this.options.filter=e,r=!0);Yr(this.options)===!1&&(r=!1),this.options.enabled=r}this._clean()}setModuleOptions(e){this.moduleOptions=e,this.options.enabled===!0&&(this._clean(),this.options.container!==void 0&&(this.container=this.options.container),this._create())}_create(){this._clean(),this.changedOptions=[];const e=Yr(this.options);let r=0,n=!1;for(const i in this.configureOptions)Object.prototype.hasOwnProperty.call(this.configureOptions,i)&&(this.allowCreation=!1,n=!1,typeof e=="function"?(n=e(i,[]),n=n||this._handleObject(this.configureOptions[i],[i],!0)):(e===!0||Ve(e).call(e,i)!==-1)&&(n=!0),n!==!1&&(this.allowCreation=!0,r>0&&this._makeItem([]),this._makeHeader(i),this._handleObject(this.configureOptions[i],[i])),r++);this._makeButton(),this._push()}_push(){this.wrapper=document.createElement("div"),this.wrapper.className="vis-configuration-wrapper",this.container.appendChild(this.wrapper);for(let e=0;e<this.domElements.length;e++)this.wrapper.appendChild(this.domElements[e]);this._showPopupIfNeeded()}_clean(){for(let e=0;e<this.domElements.length;e++)this.wrapper.removeChild(this.domElements[e]);this.wrapper!==void 0&&(this.container.removeChild(this.wrapper),this.wrapper=void 0),this.domElements=[],this._removePopup()}_getValue(e){let r=this.moduleOptions;for(let n=0;n<e.length;n++)if(r[e[n]]!==void 0)r=r[e[n]];else{r=void 0;break}return r}_makeItem(e){if(this.allowCreation===!0){const s=document.createElement("div");s.className="vis-configuration vis-config-item vis-config-s"+e.length;for(var r=arguments.length,n=new Array(r>1?r-1:0),i=1;i<r;i++)n[i-1]=arguments[i];return Ze(n).call(n,a=>{s.appendChild(a)}),this.domElements.push(s),this.domElements.length}return 0}_makeHeader(e){const r=document.createElement("div");r.className="vis-configuration vis-config-header",r.innerText=e,this._makeItem([],r)}_makeLabel(e,r){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;const i=document.createElement("div");if(i.className="vis-configuration vis-config-label vis-config-s"+r.length,n===!0){for(;i.firstChild;)i.removeChild(i.firstChild);i.appendChild(wP("i","b",e))}else i.innerText=e+":";return i}_makeDropdown(e,r,n){const i=document.createElement("select");i.className="vis-configuration vis-config-select";let s=0;r!==void 0&&Ve(e).call(e,r)!==-1&&(s=Ve(e).call(e,r));for(let l=0;l<e.length;l++){const u=document.createElement("option");u.value=e[l],l===s&&(u.selected="selected"),u.innerText=e[l],i.appendChild(u)}const a=this;i.onchange=function(){a._update(this.value,n)};const o=this._makeLabel(n[n.length-1],n);this._makeItem(n,o,i)}_makeRange(e,r,n){const i=e[0],s=e[1],a=e[2],o=e[3],l=document.createElement("input");l.className="vis-configuration vis-config-range";try{l.type="range",l.min=s,l.max=a}catch{}l.step=o;let u="",d=0;r!==void 0?(r<0&&r*1.2<s?(l.min=Math.ceil(r*1.2),d=l.min,u="range increased"):r/1.2<s&&(l.min=Math.ceil(r/1.2),d=l.min,u="range increased"),r*1.2>a&&a!==1&&(l.max=Math.ceil(r*1.2),d=l.max,u="range increased"),l.value=r):l.value=i;const h=document.createElement("input");h.className="vis-configuration vis-config-rangeinput",h.value=l.value;const f=this;l.onchange=function(){h.value=this.value,f._update(Number(this.value),n)},l.oninput=function(){h.value=this.value};const p=this._makeLabel(n[n.length-1],n),m=this._makeItem(n,p,l,h);u!==""&&this.popupHistory[m]!==d&&(this.popupHistory[m]=d,this._setupPopup(u,m))}_makeButton(){if(this.options.showButton===!0){const e=document.createElement("div");e.className="vis-configuration vis-config-button",e.innerText="generate options",e.onclick=()=>{this._printOptions()},e.onmouseover=()=>{e.className="vis-configuration vis-config-button hover"},e.onmouseout=()=>{e.className="vis-configuration vis-config-button"},this.optionsContainer=document.createElement("div"),this.optionsContainer.className="vis-configuration vis-config-option-container",this.domElements.push(this.optionsContainer),this.domElements.push(e)}}_setupPopup(e,r){if(this.initialized===!0&&this.allowCreation===!0&&this.popupCounter<this.popupLimit){const n=document.createElement("div");n.id="vis-configuration-popup",n.className="vis-configuration-popup",n.innerText=e,n.onclick=()=>{this._removePopup()},this.popupCounter+=1,this.popupDiv={html:n,index:r}}}_removePopup(){this.popupDiv.html!==void 0&&(this.popupDiv.html.parentNode.removeChild(this.popupDiv.html),clearTimeout(this.popupDiv.hideTimeout),clearTimeout(this.popupDiv.deleteTimeout),this.popupDiv={})}_showPopupIfNeeded(){if(this.popupDiv.html!==void 0){const r=this.domElements[this.popupDiv.index].getBoundingClientRect();this.popupDiv.html.style.left=r.left+"px",this.popupDiv.html.style.top=r.top-30+"px",document.body.appendChild(this.popupDiv.html),this.popupDiv.hideTimeout=Zi(()=>{this.popupDiv.html.style.opacity=0},1500),this.popupDiv.deleteTimeout=Zi(()=>{this._removePopup()},1800)}}_makeCheckbox(e,r,n){const i=document.createElement("input");i.type="checkbox",i.className="vis-configuration vis-config-checkbox",i.checked=e,r!==void 0&&(i.checked=r,r!==e&&(typeof e=="object"?r!==e.enabled&&this.changedOptions.push({path:n,value:r}):this.changedOptions.push({path:n,value:r})));const s=this;i.onchange=function(){s._update(this.checked,n)};const a=this._makeLabel(n[n.length-1],n);this._makeItem(n,a,i)}_makeTextInput(e,r,n){const i=document.createElement("input");i.type="text",i.className="vis-configuration vis-config-text",i.value=r,r!==e&&this.changedOptions.push({path:n,value:r});const s=this;i.onchange=function(){s._update(this.value,n)};const a=this._makeLabel(n[n.length-1],n);this._makeItem(n,a,i)}_makeColorField(e,r,n){const i=e[1],s=document.createElement("div");r=r===void 0?i:r,r!=="none"?(s.className="vis-configuration vis-config-colorBlock",s.style.backgroundColor=r):s.className="vis-configuration vis-config-colorBlock none",r=r===void 0?i:r,s.onclick=()=>{this._showColorPicker(r,s,n)};const a=this._makeLabel(n[n.length-1],n);this._makeItem(n,a,s)}_showColorPicker(e,r,n){r.onclick=function(){},this.colorPicker.insertTo(r),this.colorPicker.show(),this.colorPicker.setColor(e),this.colorPicker.setUpdateCallback(i=>{const s="rgba("+i.r+","+i.g+","+i.b+","+i.a+")";r.style.backgroundColor=s,this._update(s,n)}),this.colorPicker.setCloseCallback(()=>{r.onclick=()=>{this._showColorPicker(e,r,n)}})}_handleObject(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,i=!1;const s=Yr(this.options);let a=!1;for(const o in e)if(Object.prototype.hasOwnProperty.call(e,o)){i=!0;const l=e[o],u=vp(r,o);if(typeof s=="function"&&(i=s(o,r),i===!1&&!It(l)&&typeof l!="string"&&typeof l!="boolean"&&l instanceof Object&&(this.allowCreation=!1,i=this._handleObject(l,u,!0),this.allowCreation=n===!1)),i!==!1){a=!0;const d=this._getValue(u);if(It(l))this._handleArray(l,d,u);else if(typeof l=="string")this._makeTextInput(l,d,u);else if(typeof l=="boolean")this._makeCheckbox(l,d,u);else if(l instanceof Object){if(!this.hideOption(r,o,this.moduleOptions))if(l.enabled!==void 0){const h=vp(u,"enabled"),f=this._getValue(h);if(f===!0){const p=this._makeLabel(o,u,!0);this._makeItem(u,p),a=this._handleObject(l,u)||a}else this._makeCheckbox(l,f,u)}else{const h=this._makeLabel(o,u,!0);this._makeItem(u,h),a=this._handleObject(l,u)||a}}else console.error("dont know how to handle",l,o,u)}}return a}_handleArray(e,r,n){typeof e[0]=="string"&&e[0]==="color"?(this._makeColorField(e,r,n),e[1]!==r&&this.changedOptions.push({path:n,value:r})):typeof e[0]=="string"?(this._makeDropdown(e,r,n),e[0]!==r&&this.changedOptions.push({path:n,value:r})):typeof e[0]=="number"&&(this._makeRange(e,r,n),e[0]!==r&&this.changedOptions.push({path:n,value:Number(r)}))}_update(e,r){const n=this._constructOptions(e,r);this.parent.body&&this.parent.body.emitter&&this.parent.body.emitter.emit&&this.parent.body.emitter.emit("configChange",n),this.initialized=!0,this.parent.setOptions(n)}_constructOptions(e,r){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},i=n;e=e==="true"?!0:e,e=e==="false"?!1:e;for(let s=0;s<r.length;s++)r[s]!=="global"&&(i[r[s]]===void 0&&(i[r[s]]={}),s!==r.length-1?i=i[r[s]]:i[r[s]]=e);return n}_printOptions(){const e=this.getOptions();for(;this.optionsContainer.firstChild;)this.optionsContainer.removeChild(this.optionsContainer.firstChild);this.optionsContainer.appendChild(wP("pre","const options = "+ph(e,null,2)))}getOptions(){const e={};for(let r=0;r<this.changedOptions.length;r++)this._constructOptions(this.changedOptions[r].value,this.changedOptions[r].path,e);return e}},lme=class{constructor(e,r){this.container=e,this.overflowMethod=r||"cap",this.x=0,this.y=0,this.padding=5,this.hidden=!1,this.frame=document.createElement("div"),this.frame.className="vis-tooltip",this.container.appendChild(this.frame)}setPosition(e,r){this.x=Zn(e),this.y=Zn(r)}setText(e){if(e instanceof Element){for(;this.frame.firstChild;)this.frame.removeChild(this.frame.firstChild);this.frame.appendChild(e)}else this.frame.innerText=e}show(e){if(e===void 0&&(e=!0),e===!0){const r=this.frame.clientHeight,n=this.frame.clientWidth,i=this.frame.parentNode.clientHeight,s=this.frame.parentNode.clientWidth;let a=0,o=0;if(this.overflowMethod=="flip"){let l=!1,u=!0;this.y-r<this.padding&&(u=!1),this.x+n>s-this.padding&&(l=!0),l?a=this.x-n:a=this.x,u?o=this.y-r:o=this.y}else o=this.y-r,o+r+this.padding>i&&(o=i-r-this.padding),o<this.padding&&(o=this.padding),a=this.x,a+n+this.padding>s&&(a=s-n-this.padding),a<this.padding&&(a=this.padding);this.frame.style.left=a+"px",this.frame.style.top=o+"px",this.frame.style.visibility="visible",this.hidden=!1}else this.hide()}hide(){this.hidden=!0,this.frame.style.left="0",this.frame.style.top="0",this.frame.style.visibility="hidden"}destroy(){this.frame.parentNode.removeChild(this.frame)}},mc=!1,q6;const xP="background: #FFeeee; color: #dd0000";let ume=class St{static validate(e,r,n){mc=!1,q6=r;let i=r;return n!==void 0&&(i=r[n]),St.parse(e,i,[]),mc}static parse(e,r,n){for(const i in e)Object.prototype.hasOwnProperty.call(e,i)&&St.check(i,e,r,n)}static check(e,r,n,i){if(n[e]===void 0&&n.__any__===void 0){St.getSuggestion(e,n,i);return}let s=e,a=!0;n[e]===void 0&&n.__any__!==void 0&&(s="__any__",a=St.getType(r[e])==="object");let o=n[s];a&&o.__type__!==void 0&&(o=o.__type__),St.checkFields(e,r,n,s,o,i)}static checkFields(e,r,n,i,s,a){const o=function(d){console.error("%c"+d+St.printLocation(a,e),xP)},l=St.getType(r[e]),u=s[l];u!==void 0?St.getType(u)==="array"&&Ve(u).call(u,r[e])===-1?(o('Invalid option detected in "'+e+'". Allowed values are:'+St.print(u)+' not "'+r[e]+'". '),mc=!0):l==="object"&&i!=="__any__"&&(a=vp(a,e),St.parse(r[e],n[i],a)):s.any===void 0&&(o('Invalid type received for "'+e+'". Expected: '+St.print(Pt(s))+". Received ["+l+'] "'+r[e]+'"'),mc=!0)}static getType(e){const r=typeof e;return r==="object"?e===null?"null":e instanceof Boolean?"boolean":e instanceof Number?"number":e instanceof String?"string":It(e)?"array":e instanceof Date?"date":e.nodeType!==void 0?"dom":e._isAMomentObject===!0?"moment":"object":r==="number"?"number":r==="boolean"?"boolean":r==="string"?"string":r===void 0?"undefined":r}static getSuggestion(e,r,n){const i=St.findInOptions(e,r,n,!1),s=St.findInOptions(e,q6,[],!0),a=8,o=4;let l;i.indexMatch!==void 0?l=" in "+St.printLocation(i.path,e,"")+'Perhaps it was incomplete? Did you mean: "'+i.indexMatch+`"?

`:s.distance<=o&&i.distance>s.distance?l=" in "+St.printLocation(i.path,e,"")+"Perhaps it was misplaced? Matching option found at: "+St.printLocation(s.path,s.closestMatch,""):i.distance<=a?l='. Did you mean "'+i.closestMatch+'"?'+St.printLocation(i.path,e):l=". Did you mean one of these: "+St.print(Pt(r))+St.printLocation(n,e),console.error('%cUnknown option detected: "'+e+'"'+l,xP),mc=!0}static findInOptions(e,r,n){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1,s=1e9,a="",o=[];const l=e.toLowerCase();let u;for(const h in r){let f;if(r[h].__type__!==void 0&&i===!0){const p=St.findInOptions(e,r[h],vp(n,h));s>p.distance&&(a=p.closestMatch,o=p.path,s=p.distance,u=p.indexMatch)}else{var d;Ve(d=h.toLowerCase()).call(d,l)!==-1&&(u=h),f=St.levenshteinDistance(e,h),s>f&&(a=h,o=Zpe(n),s=f)}}return{closestMatch:a,path:o,distance:s,indexMatch:u}}static printLocation(e,r){let i=`

`+(arguments.length>2&&arguments[2]!==void 0?arguments[2]:`Problem value found at: 
`)+`options = {
`;for(let s=0;s<e.length;s++){for(let a=0;a<s+1;a++)i+="  ";i+=e[s]+`: {
`}for(let s=0;s<e.length+1;s++)i+="  ";i+=r+`
`;for(let s=0;s<e.length+1;s++){for(let a=0;a<e.length-s;a++)i+="  ";i+=`}
`}return i+`

`}static print(e){return ph(e).replace(/(")|(\[)|(\])|(,"__type__")/g,"").replace(/(,)/g,", ")}static levenshteinDistance(e,r){if(e.length===0)return r.length;if(r.length===0)return e.length;const n=[];let i;for(i=0;i<=r.length;i++)n[i]=[i];let s;for(s=0;s<=e.length;s++)n[0][s]=s;for(i=1;i<=r.length;i++)for(s=1;s<=e.length;s++)r.charAt(i-1)==e.charAt(s-1)?n[i][s]=n[i-1][s-1]:n[i][s]=Math.min(n[i-1][s-1]+1,Math.min(n[i][s-1]+1,n[i-1][s]+1));return n[r.length][e.length]}};const cme=Ei,dme=ome,jl=qN,hme=lme,cY=xP,fme=ume;function pme(t){return Ws=t,yme()}var dY={fontsize:"font.size",fontcolor:"font.color",labelfontcolor:"font.color",fontname:"font.face",color:["color.border","color.background"],fillcolor:"color.background",tooltip:"title",labeltooltip:"title"},AN=io(dY);AN.color="color.color";AN.style="dashes";var kr={NULL:0,DELIMITER:1,IDENTIFIER:2,UNKNOWN:3},M6={"{":!0,"}":!0,"[":!0,"]":!0,";":!0,"=":!0,",":!0,"->":!0,"--":!0},Ws="",vu=0,Re="",_e="",Kr=kr.NULL;function mme(){vu=0,Re=Ws.charAt(0)}function tr(){vu++,Re=Ws.charAt(vu)}function il(){return Ws.charAt(vu+1)}function A6(t){var e=t.charCodeAt(0);return e<47?e===35||e===46:e<59?e>47:e<91?e>64:e<96?e===95:e<123?e>96:!1}function da(t,e){if(t||(t={}),e)for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);return t}function vme(t,e,r){for(var n=e.split("."),i=t;n.length;){var s=n.shift();n.length?(i[s]||(i[s]={}),i=i[s]):i[s]=r}}function hY(t,e){for(var r,n,i=null,s=[t],a=t;a.parent;)s.push(a.parent),a=a.parent;if(a.nodes){for(r=0,n=a.nodes.length;r<n;r++)if(e.id===a.nodes[r].id){i=a.nodes[r];break}}for(i||(i={id:e.id},t.node&&(i.attr=da(i.attr,t.node))),r=s.length-1;r>=0;r--){var o,l=s[r];l.nodes||(l.nodes=[]),Ve(o=l.nodes).call(o,i)===-1&&l.nodes.push(i)}e.attr&&(i.attr=da(i.attr,e.attr))}function gme(t,e){if(t.edges||(t.edges=[]),t.edges.push(e),t.edge){var r=da({},t.edge);e.attr=da(r,e.attr)}}function fY(t,e,r,n,i){var s={from:e,to:r,type:n};return t.edge&&(s.attr=da({},t.edge)),s.attr=da(s.attr||{},i),i!=null&&i.hasOwnProperty("arrows")&&i.arrows!=null&&(s.arrows={to:{enabled:!0,type:i.arrows.type}},i.arrows=null),s}function ot(){for(Kr=kr.NULL,_e="";Re===" "||Re==="	"||Re===`
`||Re==="\r";)tr();do{var t=!1;if(Re==="#"){for(var e=vu-1;Ws.charAt(e)===" "||Ws.charAt(e)==="	";)e--;if(Ws.charAt(e)===`
`||Ws.charAt(e)===""){for(;Re!=""&&Re!=`
`;)tr();t=!0}}if(Re==="/"&&il()==="/"){for(;Re!=""&&Re!=`
`;)tr();t=!0}if(Re==="/"&&il()==="*"){for(;Re!="";)if(Re==="*"&&il()==="/"){tr(),tr();break}else tr();t=!0}for(;Re===" "||Re==="	"||Re===`
`||Re==="\r";)tr()}while(t);if(Re===""){Kr=kr.DELIMITER;return}var r=Re+il();if(M6[r]){Kr=kr.DELIMITER,_e=r,tr(),tr();return}if(M6[Re]){Kr=kr.DELIMITER,_e=Re,tr();return}if(A6(Re)||Re==="-"){for(_e+=Re,tr();A6(Re);)_e+=Re,tr();_e==="false"?_e=!1:_e==="true"?_e=!0:isNaN(Number(_e))||(_e=Number(_e)),Kr=kr.IDENTIFIER;return}if(Re==='"'){for(tr();Re!=""&&(Re!='"'||Re==='"'&&il()==='"');)Re==='"'?(_e+=Re,tr()):Re==="\\"&&il()==="n"?(_e+=`
`,tr()):_e+=Re,tr();if(Re!='"')throw Dr('End of string " expected');tr(),Kr=kr.IDENTIFIER;return}for(Kr=kr.UNKNOWN;Re!="";)_e+=Re,tr();throw new SyntaxError('Syntax error in part "'+gY(_e,30)+'"')}function yme(){var t={};if(mme(),ot(),_e==="strict"&&(t.strict=!0,ot()),(_e==="graph"||_e==="digraph")&&(t.type=_e,ot()),Kr===kr.IDENTIFIER&&(t.id=_e,ot()),_e!="{")throw Dr("Angle bracket { expected");if(ot(),pY(t),_e!="}")throw Dr("Angle bracket } expected");if(ot(),_e!=="")throw Dr("End of file expected");return ot(),delete t.node,delete t.edge,delete t.graph,t}function pY(t){for(;_e!==""&&_e!="}";)bme(t),_e===";"&&ot()}function bme(t){var e=mY(t);if(e){vY(t,e);return}var r=wme(t);if(!r){if(Kr!=kr.IDENTIFIER)throw Dr("Identifier expected");var n=_e;if(ot(),_e==="="){if(ot(),Kr!=kr.IDENTIFIER)throw Dr("Identifier expected");t[n]=_e,ot()}else xme(t,n)}}function mY(t){var e=null;if(_e==="subgraph"&&(e={},e.type="subgraph",ot(),Kr===kr.IDENTIFIER&&(e.id=_e,ot())),_e==="{"){if(ot(),e||(e={}),e.parent=t,e.node=t.node,e.edge=t.edge,e.graph=t.graph,pY(e),_e!="}")throw Dr("Angle bracket } expected");ot(),delete e.node,delete e.edge,delete e.graph,delete e.parent,t.subgraphs||(t.subgraphs=[]),t.subgraphs.push(e)}return e}function wme(t){return _e==="node"?(ot(),t.node=Fc(),"node"):_e==="edge"?(ot(),t.edge=Fc(),"edge"):_e==="graph"?(ot(),t.graph=Fc(),"graph"):null}function xme(t,e){var r={id:e},n=Fc();n&&(r.attr=n),hY(t,r),vY(t,e)}function vY(t,e){for(;_e==="->"||_e==="--";){var r,n=_e;ot();var i=mY(t);if(i)r=i;else{if(Kr!=kr.IDENTIFIER)throw Dr("Identifier or subgraph expected");r=_e,hY(t,{id:r}),ot()}var s=Fc(),a=fY(t,e,r,n,s);gme(t,a),e=r}}function Fc(){for(var t,e=null,r={dashed:!0,solid:!1,dotted:[1,5]},n={dot:"circle",box:"box",crow:"crow",curve:"curve",icurve:"inv_curve",normal:"triangle",inv:"inv_triangle",diamond:"diamond",tee:"bar",vee:"vee"},i=new Array,s=new Array;_e==="[";){for(ot(),e={};_e!==""&&_e!="]";){if(Kr!=kr.IDENTIFIER)throw Dr("Attribute name expected");var a=_e;if(ot(),_e!="=")throw Dr("Equal sign = expected");if(ot(),Kr!=kr.IDENTIFIER)throw Dr("Attribute value expected");var o=_e;a==="style"&&(o=r[o]);var l;a==="arrowhead"&&(l=n[o],a="arrows",o={to:{enabled:!0,type:l}}),a==="arrowtail"&&(l=n[o],a="arrows",o={from:{enabled:!0,type:l}}),i.push({attr:e,name:a,value:o}),s.push(a),ot(),_e==","&&ot()}if(_e!="]")throw Dr("Bracket ] expected");ot()}if(na(s).call(s,"dir")){var u={};for(u.arrows={},t=0;t<i.length;t++)if(i[t].name==="arrows")if(i[t].value.to!=null)u.arrows.to=t;else if(i[t].value.from!=null)u.arrows.from=t;else throw Dr("Invalid value of arrows");else i[t].name==="dir"&&(u.dir=t);var d=i[u.dir].value;if(!na(s).call(s,"arrows"))if(d==="both")i.push({attr:i[u.dir].attr,name:"arrows",value:{to:{enabled:!0}}}),u.arrows.to=i.length-1,i.push({attr:i[u.dir].attr,name:"arrows",value:{from:{enabled:!0}}}),u.arrows.from=i.length-1;else if(d==="forward")i.push({attr:i[u.dir].attr,name:"arrows",value:{to:{enabled:!0}}}),u.arrows.to=i.length-1;else if(d==="back")i.push({attr:i[u.dir].attr,name:"arrows",value:{from:{enabled:!0}}}),u.arrows.from=i.length-1;else if(d==="none")i.push({attr:i[u.dir].attr,name:"arrows",value:""}),u.arrows.to=i.length-1;else throw Dr('Invalid dir type "'+d+'"');var h,f;if(d==="both")u.arrows.to&&u.arrows.from?(f=i[u.arrows.to].value.to.type,h=i[u.arrows.from].value.from.type,i[u.arrows.to]={attr:i[u.arrows.to].attr,name:i[u.arrows.to].name,value:{to:{enabled:!0,type:f},from:{enabled:!0,type:h}}},Ji(i).call(i,u.arrows.from,1)):u.arrows.to?(f=i[u.arrows.to].value.to.type,h="arrow",i[u.arrows.to]={attr:i[u.arrows.to].attr,name:i[u.arrows.to].name,value:{to:{enabled:!0,type:f},from:{enabled:!0,type:h}}}):u.arrows.from&&(f="arrow",h=i[u.arrows.from].value.from.type,i[u.arrows.from]={attr:i[u.arrows.from].attr,name:i[u.arrows.from].name,value:{to:{enabled:!0,type:f},from:{enabled:!0,type:h}}});else if(d==="back")u.arrows.to&&u.arrows.from?(f="",h=i[u.arrows.from].value.from.type,i[u.arrows.from]={attr:i[u.arrows.from].attr,name:i[u.arrows.from].name,value:{to:{enabled:!0,type:f},from:{enabled:!0,type:h}}}):u.arrows.to?(f="",h="arrow",u.arrows.from=u.arrows.to,i[u.arrows.from]={attr:i[u.arrows.from].attr,name:i[u.arrows.from].name,value:{to:{enabled:!0,type:f},from:{enabled:!0,type:h}}}):u.arrows.from&&(f="",h=i[u.arrows.from].value.from.type,i[u.arrows.to]={attr:i[u.arrows.from].attr,name:i[u.arrows.from].name,value:{to:{enabled:!0,type:f},from:{enabled:!0,type:h}}}),i[u.arrows.from]={attr:i[u.arrows.from].attr,name:i[u.arrows.from].name,value:{from:{enabled:!0,type:i[u.arrows.from].value.from.type}}};else if(d==="none"){var p;u.arrows.to?p=u.arrows.to:p=u.arrows.from,i[p]={attr:i[p].attr,name:i[p].name,value:""}}else if(d==="forward")u.arrows.to&&u.arrows.from?(f=i[u.arrows.to].value.to.type,h="",i[u.arrows.to]={attr:i[u.arrows.to].attr,name:i[u.arrows.to].name,value:{to:{enabled:!0,type:f},from:{enabled:!0,type:h}}}):u.arrows.to?(f=i[u.arrows.to].value.to.type,h="",i[u.arrows.to]={attr:i[u.arrows.to].attr,name:i[u.arrows.to].name,value:{to:{enabled:!0,type:f},from:{enabled:!0,type:h}}}):u.arrows.from&&(f="arrow",h="",u.arrows.to=u.arrows.from,i[u.arrows.to]={attr:i[u.arrows.to].attr,name:i[u.arrows.to].name,value:{to:{enabled:!0,type:f},from:{enabled:!0,type:h}}}),i[u.arrows.to]={attr:i[u.arrows.to].attr,name:i[u.arrows.to].name,value:{to:{enabled:!0,type:i[u.arrows.to].value.to.type}}};else throw Dr('Invalid dir type "'+d+'"');Ji(i).call(i,u.dir,1)}var m;if(na(s).call(s,"penwidth")){var y=[];for(m=i.length,t=0;t<m;t++)i[t].name!=="width"&&(i[t].name==="penwidth"&&(i[t].name="width"),y.push(i[t]));i=y}for(m=i.length,t=0;t<m;t++)vme(i[t].attr,i[t].name,i[t].value);return e}function Dr(t){return new SyntaxError(t+', got "'+gY(_e,30)+'" (char '+vu+")")}function gY(t,e){return t.length<=e?t:t.substr(0,27)+"..."}function _me(t,e,r){It(t)?Ze(t).call(t,function(n){It(e)?Ze(e).call(e,function(i){r(n,i)}):r(n,e)}):It(e)?Ze(e).call(e,function(n){r(t,n)}):r(t,e)}function pS(t,e,r){for(var n=e.split("."),i=n.pop(),s=t,a=0;a<n.length;a++){var o=n[a];o in s||(s[o]={}),s=s[o]}return s[i]=r,t}function F6(t,e){var r={};for(var n in t)if(t.hasOwnProperty(n)){var i=e[n];It(i)?Ze(i).call(i,function(s){pS(r,s,t[n])}):typeof i=="string"?pS(r,i,t[n]):pS(r,n,t[n])}return r}function Sme(t){var e=pme(t),r={nodes:[],edges:[],options:{}};if(e.nodes){var n;Ze(n=e.nodes).call(n,function(a){var o={id:a.id,label:String(a.label||a.id)};da(o,F6(a.attr,dY)),o.image&&(o.shape="image"),r.nodes.push(o)})}if(e.edges){var i,s=function(a){var o={from:a.from,to:a.to};return da(o,F6(a.attr,AN)),o.arrows==null&&a.type==="->"&&(o.arrows="to"),o};Ze(i=e.edges).call(i,function(a){var o,l;if(a.from instanceof Object?o=a.from.nodes:o={id:a.from},a.to instanceof Object?l=a.to.nodes:l={id:a.to},a.from instanceof Object&&a.from.edges){var u;Ze(u=a.from.edges).call(u,function(h){var f=s(h);r.edges.push(f)})}if(_me(o,l,function(h,f){var p=fY(r,h.id,f.id,a.type,a.attr),m=s(p);r.edges.push(m)}),a.to instanceof Object&&a.to.edges){var d;Ze(d=a.to.edges).call(d,function(h){var f=s(h);r.edges.push(f)})}})}return e.attr&&(r.options=e.attr),r}function Eme(t,e){var r;const n={edges:{inheritColor:!1},nodes:{fixed:!1,parseColor:!1}};e!=null&&(e.fixed!=null&&(n.nodes.fixed=e.fixed),e.parseColor!=null&&(n.nodes.parseColor=e.parseColor),e.inheritColor!=null&&(n.edges.inheritColor=e.inheritColor));const i=t.edges,s=hu(i).call(i,o=>{const l={from:o.source,id:o.id,to:o.target};return o.attributes!=null&&(l.attributes=o.attributes),o.label!=null&&(l.label=o.label),o.attributes!=null&&o.attributes.title!=null&&(l.title=o.attributes.title),o.type==="Directed"&&(l.arrows="to"),o.color&&n.edges.inheritColor===!1&&(l.color=o.color),l});return{nodes:hu(r=t.nodes).call(r,o=>{const l={id:o.id,fixed:n.nodes.fixed&&o.x!=null&&o.y!=null};return o.attributes!=null&&(l.attributes=o.attributes),o.label!=null&&(l.label=o.label),o.size!=null&&(l.size=o.size),o.attributes!=null&&o.attributes.title!=null&&(l.title=o.attributes.title),o.title!=null&&(l.title=o.title),o.x!=null&&(l.x=o.x),o.y!=null&&(l.y=o.y),o.color!=null&&(n.nodes.parseColor===!0?l.color=o.color:l.color={background:o.color,border:o.color,highlight:{background:o.color,border:o.color},hover:{background:o.color,border:o.color}}),l}),edges:s}}const Ome={addDescription:"Click in an empty space to place a new node.",addEdge:"Add Edge",addNode:"Add Node",back:"Back",close:"Close",createEdgeError:"Cannot link edges to a cluster.",del:"Delete selected",deleteClusterError:"Clusters cannot be deleted.",edgeDescription:"Click on a node and drag the edge to another node to connect them.",edit:"Edit",editClusterError:"Clusters cannot be edited.",editEdge:"Edit Edge",editEdgeDescription:"Click on the control points and drag them to a node to connect to it.",editNode:"Edit Node"},Pme={addDescription:"Klicke auf eine freie Stelle, um einen neuen Knoten zu plazieren.",addEdge:"Kante hinzufgen",addNode:"Knoten hinzufgen",back:"Zurck",close:"Schlieen",createEdgeError:"Es ist nicht mglich, Kanten mit Clustern zu verbinden.",del:"Lsche Auswahl",deleteClusterError:"Cluster knnen nicht gelscht werden.",edgeDescription:"Klicke auf einen Knoten und ziehe die Kante zu einem anderen Knoten, um diese zu verbinden.",edit:"Editieren",editClusterError:"Cluster knnen nicht editiert werden.",editEdge:"Kante editieren",editEdgeDescription:"Klicke auf die Verbindungspunkte und ziehe diese auf einen Knoten, um sie zu verbinden.",editNode:"Knoten editieren"},Cme={addDescription:"Haga clic en un lugar vaco para colocar un nuevo nodo.",addEdge:"Aadir arista",addNode:"Aadir nodo",back:"Atrs",close:"Cerrar",createEdgeError:"No se puede conectar una arista a un grupo.",del:"Eliminar seleccin",deleteClusterError:"No es posible eliminar grupos.",edgeDescription:"Haga clic en un nodo y arrastre la arista hacia otro nodo para conectarlos.",edit:"Editar",editClusterError:"No es posible editar grupos.",editEdge:"Editar arista",editEdgeDescription:"Haga clic en un punto de control y arrastrelo a un nodo para conectarlo.",editNode:"Editar nodo"},Nme={addDescription:"Clicca per aggiungere un nuovo nodo",addEdge:"Aggiungi un vertice",addNode:"Aggiungi un nodo",back:"Indietro",close:"Chiudere",createEdgeError:"Non si possono collegare vertici ad un cluster",del:"Cancella la selezione",deleteClusterError:"I cluster non possono essere cancellati",edgeDescription:"Clicca su un nodo e trascinalo ad un altro nodo per connetterli.",edit:"Modifica",editClusterError:"I clusters non possono essere modificati.",editEdge:"Modifica il vertice",editEdgeDescription:"Clicca sui Punti di controllo e trascinali ad un nodo per connetterli.",editNode:"Modifica il nodo"},Tme={addDescription:"Klik op een leeg gebied om een nieuwe node te maken.",addEdge:"Link toevoegen",addNode:"Node toevoegen",back:"Terug",close:"Sluiten",createEdgeError:"Kan geen link maken naar een cluster.",del:"Selectie verwijderen",deleteClusterError:"Clusters kunnen niet worden verwijderd.",edgeDescription:"Klik op een node en sleep de link naar een andere node om ze te verbinden.",edit:"Wijzigen",editClusterError:"Clusters kunnen niet worden aangepast.",editEdge:"Link wijzigen",editEdgeDescription:"Klik op de verbindingspunten en sleep ze naar een node om daarmee te verbinden.",editNode:"Node wijzigen"},Ime={addDescription:"Clique em um espao em branco para adicionar um novo n",addEdge:"Adicionar aresta",addNode:"Adicionar n",back:"Voltar",close:"Fechar",createEdgeError:"No foi possvel linkar arestas a um cluster.",del:"Remover selecionado",deleteClusterError:"Clusters no puderam ser removidos.",edgeDescription:"Clique em um n e arraste a aresta at outro n para conect-los",edit:"Editar",editClusterError:"Clusters no puderam ser editados.",editEdge:"Editar aresta",editEdgeDescription:"Clique nos pontos de controle e os arraste para um n para conect-los",editNode:"Editar n"},Rme={addDescription:"   ,    .",addEdge:" ",addNode:" ",back:"",close:"",createEdgeError:"    .",del:" ",deleteClusterError:"    ",edgeDescription:"        ,   .",edit:"",editClusterError:"   .",editEdge:" ",editEdgeDescription:"        ,    .",editNode:" "},jme={addDescription:"",addEdge:"",addNode:"",back:"",close:"",createEdgeError:"",del:"",deleteClusterError:"",edgeDescription:"",edit:"",editClusterError:"",editEdge:"",editEdgeDescription:"",editNode:""},$me={addDescription:"K   ,    .",addEdge:" ",addNode:" ",back:"",close:"",createEdgeError:"  '   .",del:" ",deleteClusterError:"    .",edgeDescription:"        ,   '.",edit:"",editClusterError:"   .",editEdge:" ",editEdgeDescription:"        ,    .",editNode:" "},kme={addDescription:"Cliquez dans un endroit vide pour placer un nud.",addEdge:"Ajouter un lien",addNode:"Ajouter un nud",back:"Retour",close:"Fermer",createEdgeError:"Impossible de crer un lien vers un cluster.",del:"Effacer la slection",deleteClusterError:"Les clusters ne peuvent pas tre effacs.",edgeDescription:"Cliquez sur un nud et glissez le lien vers un autre nud pour les connecter.",edit:"diter",editClusterError:"Les clusters ne peuvent pas tre dits.",editEdge:"diter le lien",editEdgeDescription:"Cliquez sur les points de contrle et glissez-les pour connecter un nud.",editNode:"diter le nud"},Dme={addDescription:"Kluknutm do przdnho prostoru mete pidat nov vrchol.",addEdge:"Pidat hranu",addNode:"Pidat vrchol",back:"Zpt",close:"Zavt",createEdgeError:"Nelze pipojit hranu ke shluku.",del:"Smazat vbr",deleteClusterError:"Nelze mazat shluky.",edgeDescription:"Petaenm z jednoho vrcholu do druhho mete spojit tyto vrcholy novou hranou.",edit:"Upravit",editClusterError:"Nelze upravovat shluky.",editEdge:"Upravit hranu",editEdgeDescription:"Petaenm kontrolnho vrcholu hrany ji mete pipojit k jinmu vrcholu.",editNode:"Upravit vrchol"};var qme=Object.freeze({__proto__:null,cn:jme,cs:Dme,de:Pme,en:Ome,es:Cme,fr:kme,it:Nme,nl:Tme,pt:Ime,ru:Rme,uk:$me});function Mme(t,e){try{const[n,i]=e.split(/[-_ /]/,2),s=n!=null?n.toLowerCase():null,a=i!=null?i.toUpperCase():null;if(s&&a){const o=s+"-"+a;if(Object.prototype.hasOwnProperty.call(t,o))return o;var r;console.warn(ofe(r="Unknown variant ".concat(a," of language ")).call(r,s,"."))}if(s){const o=s;if(Object.prototype.hasOwnProperty.call(t,o))return o;console.warn("Unknown language ".concat(s))}return console.warn("Unknown locale ".concat(e,", falling back to English.")),"en"}catch(n){return console.error(n),console.warn("Unexpected error while normalizing locale ".concat(e,", falling back to English.")),"en"}}class Ame{constructor(){this.NUM_ITERATIONS=4,this.image=new Image,this.canvas=document.createElement("canvas")}init(){if(this.initialized())return;this.src=this.image.src;const e=this.image.width,r=this.image.height;this.width=e,this.height=r;const n=Math.floor(r/2),i=Math.floor(r/4),s=Math.floor(r/8),a=Math.floor(r/16),o=Math.floor(e/2),l=Math.floor(e/4),u=Math.floor(e/8),d=Math.floor(e/16);this.canvas.width=3*l,this.canvas.height=n,this.coordinates=[[0,0,o,n],[o,0,l,i],[o,i,u,s],[5*u,i,d,a]],this._fillMipMap()}initialized(){return this.coordinates!==void 0}_fillMipMap(){const e=this.canvas.getContext("2d"),r=this.coordinates[0];e.drawImage(this.image,r[0],r[1],r[2],r[3]);for(let n=1;n<this.NUM_ITERATIONS;n++){const i=this.coordinates[n-1],s=this.coordinates[n];e.drawImage(this.canvas,i[0],i[1],i[2],i[3],s[0],s[1],s[2],s[3])}}drawImageAtPosition(e,r,n,i,s,a){if(this.initialized())if(r>2){r*=.5;let o=0;for(;r>2&&o<this.NUM_ITERATIONS;)r*=.5,o+=1;o>=this.NUM_ITERATIONS&&(o=this.NUM_ITERATIONS-1);const l=this.coordinates[o];e.drawImage(this.canvas,l[0],l[1],l[2],l[3],n,i,s,a)}else e.drawImage(this.image,n,i,s,a)}}class Fme{constructor(e){this.images={},this.imageBroken={},this.callback=e}_tryloadBrokenUrl(e,r,n){if(!(e===void 0||n===void 0)){if(r===void 0){console.warn("No broken url image defined");return}n.image.onerror=()=>{console.error("Could not load brokenImage:",r)},n.image.src=r}}_redrawWithImage(e){this.callback&&this.callback(e)}load(e,r){const n=this.images[e];if(n)return n;const i=new Ame;return this.images[e]=i,i.image.onload=()=>{this._fixImageCoordinates(i.image),i.init(),this._redrawWithImage(i)},i.image.onerror=()=>{console.error("Could not load image:",e),this._tryloadBrokenUrl(e,r,i)},i.image.src=e,i}_fixImageCoordinates(e){e.width===0&&(document.body.appendChild(e),e.width=e.offsetWidth,e.height=e.offsetHeight,document.body.removeChild(e))}}var L6={},B6={},mS={exports:{}},vS,z6;function Lme(){if(z6)return vS;z6=1;var t=qe();return vS=t(function(){if(typeof ArrayBuffer=="function"){var e=new ArrayBuffer(8);Object.isExtensible(e)&&Object.defineProperty(e,"a",{value:8})}}),vS}var gS,U6;function Bme(){if(U6)return gS;U6=1;var t=qe(),e=cr(),r=Ii(),n=Lme(),i=Object.isExtensible,s=t(function(){});return gS=s||n?function(o){return!e(o)||n&&r(o)==="ArrayBuffer"?!1:i?i(o):!0}:i,gS}var yS,W6;function yY(){if(W6)return yS;W6=1;var t=qe();return yS=!t(function(){return Object.isExtensible(Object.preventExtensions({}))}),yS}var H6;function Em(){if(H6)return mS.exports;H6=1;var t=we(),e=Be(),r=uh(),n=cr(),i=br(),s=Bn().f,a=ym(),o=SN(),l=Bme(),u=dm(),d=yY(),h=!1,f=u("meta"),p=0,m=function(w){s(w,f,{value:{objectID:"O"+p++,weakData:{}}})},y=function(w,_){if(!n(w))return typeof w=="symbol"?w:(typeof w=="string"?"S":"P")+w;if(!i(w,f)){if(!l(w))return"F";if(!_)return"E";m(w)}return w[f].objectID},b=function(w,_){if(!i(w,f)){if(!l(w))return!0;if(!_)return!1;m(w)}return w[f].weakData},g=function(w){return d&&h&&l(w)&&!i(w,f)&&m(w),w},v=function(){x.enable=function(){},h=!0;var w=a.f,_=e([].splice),E={};E[f]=1,w(E).length&&(a.f=function(O){for(var S=w(O),P=0,C=S.length;P<C;P++)if(S[P]===f){_(S,P,1);break}return S},t({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:o.f}))},x=mS.exports={enable:v,fastKey:y,getWeakData:b,onFreeze:g};return r[f]=!0,mS.exports}var bS,V6;function zme(){if(V6)return bS;V6=1;var t=Ht(),e=Ku(),r=t("iterator"),n=Array.prototype;return bS=function(i){return i!==void 0&&(e.Array===i||n[r]===i)},bS}var wS,K6;function bY(){if(K6)return wS;K6=1;var t=Vu(),e=pN(),r=Mu(),n=Ku(),i=Ht(),s=i("iterator");return wS=function(a){if(!r(a))return e(a,s)||e(a,"@@iterator")||n[t(a)]},wS}var xS,G6;function Ume(){if(G6)return xS;G6=1;var t=ln(),e=ys(),r=Ri(),n=Lu(),i=bY(),s=TypeError;return xS=function(a,o){var l=arguments.length<2?i(a):o;if(e(l))return r(t(l,a));throw new s(n(a)+" is not iterable")},xS}var _S,Y6;function FN(){if(Y6)return _S;Y6=1;var t=ln(),e=Ri(),r=pN();return _S=function(n,i,s){var a,o;e(n);try{if(a=r(n,"return"),!a){if(i==="throw")throw s;return s}a=t(a,n)}catch(l){o=!0,a=l}if(i==="throw")throw s;if(o)throw a;return e(a),s},_S}var SS,Q6;function Om(){if(Q6)return SS;Q6=1;var t=fm(),e=ln(),r=Ri(),n=Lu(),i=zme(),s=bs(),a=Wt(),o=Ume(),l=bY(),u=FN(),d=TypeError,h=function(p,m){this.stopped=p,this.result=m},f=h.prototype;return SS=function(p,m,y){var b=y&&y.that,g=!!(y&&y.AS_ENTRIES),v=!!(y&&y.IS_RECORD),x=!!(y&&y.IS_ITERATOR),w=!!(y&&y.INTERRUPTED),_=t(m,b),E,O,S,P,C,I,N,T=function(B){return E&&u(E,"normal"),new h(!0,B)},q=function(B){return g?(r(B),w?_(B[0],B[1],T):_(B[0],B[1])):w?_(B,T):_(B)};if(v)E=p.iterator;else if(x)E=p;else{if(O=l(p),!O)throw new d(n(p)+" is not iterable");if(i(O)){for(S=0,P=s(p);P>S;S++)if(C=q(p[S]),C&&a(f,C))return C;return new h(!1)}E=o(p,O)}for(I=v?p.next:E.next;!(N=e(I,E)).done;){try{C=q(N.value)}catch(B){u(E,"throw",B)}if(typeof C=="object"&&C&&a(f,C))return C}return new h(!1)},SS}var ES,X6;function LN(){if(X6)return ES;X6=1;var t=Wt(),e=TypeError;return ES=function(r,n){if(t(n,r))return r;throw new e("Incorrect invocation")},ES}var OS,J6;function BN(){if(J6)return OS;J6=1;var t=we(),e=mt(),r=Em(),n=qe(),i=Uu(),s=Om(),a=LN(),o=ur(),l=cr(),u=Mu(),d=zo(),h=Bn().f,f=_a().forEach,p=Dt(),m=Uo(),y=m.set,b=m.getterFor;return OS=function(g,v,x){var w=g.indexOf("Map")!==-1,_=g.indexOf("Weak")!==-1,E=w?"set":"add",O=e[g],S=O&&O.prototype,P={},C;if(!p||!o(O)||!(_||S.forEach&&!n(function(){new O().entries().next()})))C=x.getConstructor(v,g,w,E),r.enable();else{C=v(function(T,q){y(a(T,I),{type:g,collection:new O}),u(q)||s(q,T[E],{that:T,AS_ENTRIES:w})});var I=C.prototype,N=b(g);f(["add","clear","delete","forEach","get","has","set","keys","values","entries"],function(T){var q=T==="add"||T==="set";T in S&&!(_&&T==="clear")&&i(I,T,function(B,X){var H=N(this).collection;if(!q&&_&&!l(B))return T==="get"?void 0:!1;var L=H[T](B===0?0:B,X);return q?this:L})}),_||h(I,"size",{configurable:!0,get:function(){return N(this).collection.size}})}return d(C,g,!1,!0),P[g]=C,t({global:!0,forced:!0},P),_||x.setStrong(C,g,w),C},OS}var PS,Z6;function zN(){if(Z6)return PS;Z6=1;var t=fh();return PS=function(e,r,n){for(var i in r)n&&n.unsafe&&e[i]?e[i]=r[i]:t(e,i,r[i],n);return e},PS}var CS,ez;function Wme(){if(ez)return CS;ez=1;var t=xn(),e=EN(),r=Ht(),n=Dt(),i=r("species");return CS=function(s){var a=t(s);n&&a&&!a[i]&&e(a,i,{configurable:!0,get:function(){return this}})},CS}var NS,tz;function wY(){if(tz)return NS;tz=1;var t=hh(),e=EN(),r=zN(),n=fm(),i=LN(),s=Mu(),a=Om(),o=PN(),l=CN(),u=Wme(),d=Dt(),h=Em().fastKey,f=Uo(),p=f.set,m=f.getterFor;return NS={getConstructor:function(y,b,g,v){var x=y(function(S,P){i(S,w),p(S,{type:b,index:t(null),first:null,last:null,size:0}),d||(S.size=0),s(P)||a(P,S[v],{that:S,AS_ENTRIES:g})}),w=x.prototype,_=m(b),E=function(S,P,C){var I=_(S),N=O(S,P),T,q;return N?N.value=C:(I.last=N={index:q=h(P,!0),key:P,value:C,previous:T=I.last,next:null,removed:!1},I.first||(I.first=N),T&&(T.next=N),d?I.size++:S.size++,q!=="F"&&(I.index[q]=N)),S},O=function(S,P){var C=_(S),I=h(P),N;if(I!=="F")return C.index[I];for(N=C.first;N;N=N.next)if(N.key===P)return N};return r(w,{clear:function(){for(var P=this,C=_(P),I=C.first;I;)I.removed=!0,I.previous&&(I.previous=I.previous.next=null),I=I.next;C.first=C.last=null,C.index=t(null),d?C.size=0:P.size=0},delete:function(S){var P=this,C=_(P),I=O(P,S);if(I){var N=I.next,T=I.previous;delete C.index[I.index],I.removed=!0,T&&(T.next=N),N&&(N.previous=T),C.first===I&&(C.first=N),C.last===I&&(C.last=T),d?C.size--:P.size--}return!!I},forEach:function(P){for(var C=_(this),I=n(P,arguments.length>1?arguments[1]:void 0),N;N=N?N.next:C.first;)for(I(N.value,N.key,this);N&&N.removed;)N=N.previous},has:function(P){return!!O(this,P)}}),r(w,g?{get:function(P){var C=O(this,P);return C&&C.value},set:function(P,C){return E(this,P===0?0:P,C)}}:{add:function(P){return E(this,P=P===0?0:P,P)}}),d&&e(w,"size",{configurable:!0,get:function(){return _(this).size}}),x},setStrong:function(y,b,g){var v=b+" Iterator",x=m(b),w=m(v);o(y,b,function(_,E){p(this,{type:v,target:_,state:x(_),kind:E,last:null})},function(){for(var _=w(this),E=_.kind,O=_.last;O&&O.removed;)O=O.previous;return!_.target||!(_.last=O=O?O.next:_.state.first)?(_.target=null,l(void 0,!0)):l(E==="keys"?O.key:E==="values"?O.value:[O.key,O.value],!1)},g?"entries":"values",!g,!0),u(b)}},NS}var rz;function Hme(){if(rz)return B6;rz=1;var t=BN(),e=wY();return t("Map",function(r){return function(){return r(this,arguments.length?arguments[0]:void 0)}},e),B6}var nz;function Vme(){return nz||(nz=1,Hme()),L6}var iz={},TS,sz;function xY(){return sz||(sz=1,TS=function(t,e){return e===1?function(r,n){return r[t](n)}:function(r,n,i){return r[t](n,i)}}),TS}var IS,az;function Kme(){if(az)return IS;az=1;var t=xn(),e=xY(),r=t("Map");return IS={Map:r,set:e("set",2),get:e("get",1),has:e("has",1),remove:e("delete",1),proto:r.prototype},IS}var oz;function Gme(){if(oz)return iz;oz=1;var t=we(),e=Be(),r=ys(),n=gs(),i=Om(),s=Kme(),a=Bu(),o=qe(),l=s.Map,u=s.has,d=s.get,h=s.set,f=e([].push),p=a||o(function(){return l.groupBy("ab",function(m){return m}).get("a").length!==1});return t({target:"Map",stat:!0,forced:a||p},{groupBy:function(y,b){n(y),r(b);var g=new l,v=0;return i(y,function(x){var w=b(x,v++);u(g,w)?f(d(g,w),x):h(g,w,[x])}),g}}),iz}var lz={},RS,uz;function Yme(){if(uz)return RS;uz=1;var t=Be(),e=Wu(),r=zn(),n=gs(),i=t("".charAt),s=t("".charCodeAt),a=t("".slice),o=function(l){return function(u,d){var h=r(n(u)),f=e(d),p=h.length,m,y;return f<0||f>=p?l?"":void 0:(m=s(h,f),m<55296||m>56319||f+1===p||(y=s(h,f+1))<56320||y>57343?l?i(h,f):m:l?a(h,f,f+2):(m-55296<<10)+(y-56320)+65536)}};return RS={codeAt:o(!1),charAt:o(!0)},RS}var cz;function UN(){if(cz)return lz;cz=1;var t=Yme().charAt,e=zn(),r=Uo(),n=PN(),i=CN(),s="String Iterator",a=r.set,o=r.getterFor(s);return n(String,"String",function(l){a(this,{type:s,string:e(l),index:0})},function(){var u=o(this),d=u.string,h=u.index,f;return h>=d.length?i(void 0,!0):(f=t(d,h),u.index+=f.length,i(f,!1))}),lz}var jS,dz;function Qme(){if(dz)return jS;dz=1,Gu(),Vme(),Gme(),UN();var t=Ye();return jS=t.Map,jS}var $S,hz;function Xme(){if(hz)return $S;hz=1;var t=Qme();return Yu(),$S=t,$S}var kS,fz;function Jme(){return fz||(fz=1,kS=Xme()),kS}var Zme=Jme(),WN=Pe(Zme);class eve{constructor(){this.clear(),this._defaultIndex=0,this._groupIndex=0,this._defaultGroups=[{border:"#2B7CE9",background:"#97C2FC",highlight:{border:"#2B7CE9",background:"#D2E5FF"},hover:{border:"#2B7CE9",background:"#D2E5FF"}},{border:"#FFA500",background:"#FFFF00",highlight:{border:"#FFA500",background:"#FFFFA3"},hover:{border:"#FFA500",background:"#FFFFA3"}},{border:"#FA0A10",background:"#FB7E81",highlight:{border:"#FA0A10",background:"#FFAFB1"},hover:{border:"#FA0A10",background:"#FFAFB1"}},{border:"#41A906",background:"#7BE141",highlight:{border:"#41A906",background:"#A1EC76"},hover:{border:"#41A906",background:"#A1EC76"}},{border:"#E129F0",background:"#EB7DF4",highlight:{border:"#E129F0",background:"#F0B3F5"},hover:{border:"#E129F0",background:"#F0B3F5"}},{border:"#7C29F0",background:"#AD85E4",highlight:{border:"#7C29F0",background:"#D3BDF0"},hover:{border:"#7C29F0",background:"#D3BDF0"}},{border:"#C37F00",background:"#FFA807",highlight:{border:"#C37F00",background:"#FFCA66"},hover:{border:"#C37F00",background:"#FFCA66"}},{border:"#4220FB",background:"#6E6EFD",highlight:{border:"#4220FB",background:"#9B9BFD"},hover:{border:"#4220FB",background:"#9B9BFD"}},{border:"#FD5A77",background:"#FFC0CB",highlight:{border:"#FD5A77",background:"#FFD1D9"},hover:{border:"#FD5A77",background:"#FFD1D9"}},{border:"#4AD63A",background:"#C2FABC",highlight:{border:"#4AD63A",background:"#E6FFE3"},hover:{border:"#4AD63A",background:"#E6FFE3"}},{border:"#990000",background:"#EE0000",highlight:{border:"#BB0000",background:"#FF3333"},hover:{border:"#BB0000",background:"#FF3333"}},{border:"#FF6000",background:"#FF6000",highlight:{border:"#FF6000",background:"#FF6000"},hover:{border:"#FF6000",background:"#FF6000"}},{border:"#97C2FC",background:"#2B7CE9",highlight:{border:"#D2E5FF",background:"#2B7CE9"},hover:{border:"#D2E5FF",background:"#2B7CE9"}},{border:"#399605",background:"#255C03",highlight:{border:"#399605",background:"#255C03"},hover:{border:"#399605",background:"#255C03"}},{border:"#B70054",background:"#FF007E",highlight:{border:"#B70054",background:"#FF007E"},hover:{border:"#B70054",background:"#FF007E"}},{border:"#AD85E4",background:"#7C29F0",highlight:{border:"#D3BDF0",background:"#7C29F0"},hover:{border:"#D3BDF0",background:"#7C29F0"}},{border:"#4557FA",background:"#000EA1",highlight:{border:"#6E6EFD",background:"#000EA1"},hover:{border:"#6E6EFD",background:"#000EA1"}},{border:"#FFC0CB",background:"#FD5A77",highlight:{border:"#FFD1D9",background:"#FD5A77"},hover:{border:"#FFD1D9",background:"#FD5A77"}},{border:"#C2FABC",background:"#74D66A",highlight:{border:"#E6FFE3",background:"#74D66A"},hover:{border:"#E6FFE3",background:"#74D66A"}},{border:"#EE0000",background:"#990000",highlight:{border:"#FF3333",background:"#BB0000"},hover:{border:"#FF3333",background:"#BB0000"}}],this.options={},this.defaultOptions={useDefaultGroups:!0},Lt(this.options,this.defaultOptions)}setOptions(e){const r=["useDefaultGroups"];if(e!==void 0){for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&Ve(r).call(r,n)===-1){const i=e[n];this.add(n,i)}}}clear(){this._groups=new WN,this._groupNames=[]}get(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,n=this._groups.get(e);if(n===void 0&&r)if(this.options.useDefaultGroups===!1&&this._groupNames.length>0){const i=this._groupIndex%this._groupNames.length;++this._groupIndex,n={},n.color=this._groups.get(this._groupNames[i]),this._groups.set(e,n)}else{const i=this._defaultIndex%this._defaultGroups.length;this._defaultIndex++,n={},n.color=this._defaultGroups[i],this._groups.set(e,n)}return n}add(e,r){return this._groups.has(e)||this._groupNames.push(e),this._groups.set(e,r),r}}var pz={},mz;function tve(){if(mz)return pz;mz=1;var t=we();return t({target:"Number",stat:!0},{isNaN:function(r){return r!==r}}),pz}var DS,vz;function rve(){if(vz)return DS;vz=1,tve();var t=Ye();return DS=t.Number.isNaN,DS}var qS,gz;function nve(){if(gz)return qS;gz=1;var t=rve();return qS=t,qS}var MS,yz;function ive(){return yz||(yz=1,MS=nve()),MS}var sve=ive(),_P=Pe(sve),bz={},AS,wz;function ave(){if(wz)return AS;wz=1;var t=mt(),e=t.isFinite;return AS=Number.isFinite||function(n){return typeof n=="number"&&e(n)},AS}var xz;function ove(){if(xz)return bz;xz=1;var t=we(),e=ave();return t({target:"Number",stat:!0},{isFinite:e}),bz}var FS,_z;function lve(){if(_z)return FS;_z=1,ove();var t=Ye();return FS=t.Number.isFinite,FS}var LS,Sz;function uve(){if(Sz)return LS;Sz=1;var t=lve();return LS=t,LS}var BS,Ez;function cve(){return Ez||(Ez=1,BS=uve()),BS}var dve=cve(),Ba=Pe(dve),Oz={},Pz;function hve(){if(Pz)return Oz;Pz=1;var t=we(),e=_a().some,r=Qu(),n=r("some");return t({target:"Array",proto:!0,forced:!n},{some:function(s){return e(this,s,arguments.length>1?arguments[1]:void 0)}}),Oz}var zS,Cz;function fve(){if(Cz)return zS;Cz=1,hve();var t=wr();return zS=t("Array","some"),zS}var US,Nz;function pve(){if(Nz)return US;Nz=1;var t=Wt(),e=fve(),r=Array.prototype;return US=function(n){var i=n.some;return n===r||t(r,n)&&i===r.some?e:i},US}var WS,Tz;function mve(){if(Tz)return WS;Tz=1;var t=pve();return WS=t,WS}var HS,Iz;function vve(){return Iz||(Iz=1,HS=mve()),HS}var gve=vve(),yve=Pe(gve),VS={exports:{}},Rz={},jz;function bve(){if(jz)return Rz;jz=1;var t=we(),e=Dt(),r=Bn().f;return t({target:"Object",stat:!0,forced:Object.defineProperty!==r,sham:!e},{defineProperty:r}),Rz}var $z;function wve(){if($z)return VS.exports;$z=1,bve();var t=Ye(),e=t.Object,r=VS.exports=function(i,s,a){return e.defineProperty(i,s,a)};return e.defineProperty.sham&&(r.sham=!0),VS.exports}var KS,kz;function _Y(){if(kz)return KS;kz=1;var t=wve();return KS=t,KS}var GS,Dz;function xve(){if(Dz)return GS;Dz=1;var t=_Y();return GS=t,GS}var YS,qz;function _ve(){if(qz)return YS;qz=1;var t=xve();return YS=t,YS}var QS,Mz;function Sve(){return Mz||(Mz=1,QS=_ve()),QS}var Eve=Sve(),Ove=Pe(Eve),Az={},Fz;function Pve(){if(Fz)return Az;Fz=1;var t=Ht(),e=Bn().f,r=t("metadata"),n=Function.prototype;return n[r]===void 0&&e(n,r,{value:null}),Az}var Lz={},Bz;function Cve(){return Bz||(Bz=1,EG()),Lz}var zz={},Uz;function Nve(){return Uz||(Uz=1,OG()),zz}var Wz={},Hz;function Tve(){if(Hz)return Wz;Hz=1;var t=_t();return t("metadata"),Wz}var XS,Vz;function Ive(){if(Vz)return XS;Vz=1;var t=IG();return Pve(),Cve(),Nve(),Tve(),XS=t,XS}var Kz={},JS,Gz;function SY(){if(Gz)return JS;Gz=1;var t=xn(),e=Be(),r=t("Symbol"),n=r.keyFor,i=e(r.prototype.valueOf);return JS=r.isRegisteredSymbol||function(a){try{return n(i(a))!==void 0}catch{return!1}},JS}var Yz;function Rve(){if(Yz)return Kz;Yz=1;var t=we(),e=SY();return t({target:"Symbol",stat:!0},{isRegisteredSymbol:e}),Kz}var Qz={},ZS,Xz;function EY(){if(Xz)return ZS;Xz=1;for(var t=zu(),e=xn(),r=Be(),n=lh(),i=Ht(),s=e("Symbol"),a=s.isWellKnownSymbol,o=e("Object","getOwnPropertyNames"),l=r(s.prototype.valueOf),u=t("wks"),d=0,h=o(s),f=h.length;d<f;d++)try{var p=h[d];n(s[p])&&i(p)}catch{}return ZS=function(y){if(a&&a(y))return!0;try{for(var b=l(y),g=0,v=o(u),x=v.length;g<x;g++)if(u[v[g]]==b)return!0}catch{}return!1},ZS}var Jz;function jve(){if(Jz)return Qz;Jz=1;var t=we(),e=EY();return t({target:"Symbol",stat:!0,forced:!0},{isWellKnownSymbol:e}),Qz}var Zz={},e8;function $ve(){if(e8)return Zz;e8=1;var t=_t();return t("customMatcher"),Zz}var t8={},r8;function kve(){if(r8)return t8;r8=1;var t=_t();return t("observable"),t8}var n8={},i8;function Dve(){if(i8)return n8;i8=1;var t=we(),e=SY();return t({target:"Symbol",stat:!0,name:"isRegisteredSymbol"},{isRegistered:e}),n8}var s8={},a8;function qve(){if(a8)return s8;a8=1;var t=we(),e=EY();return t({target:"Symbol",stat:!0,name:"isWellKnownSymbol",forced:!0},{isWellKnown:e}),s8}var o8={},l8;function Mve(){if(l8)return o8;l8=1;var t=_t();return t("matcher"),o8}var u8={},c8;function Ave(){if(c8)return u8;c8=1;var t=_t();return t("metadataKey"),u8}var d8={},h8;function Fve(){if(h8)return d8;h8=1;var t=_t();return t("patternMatch"),d8}var f8={},p8;function Lve(){if(p8)return f8;p8=1;var t=_t();return t("replaceAll"),f8}var eE,m8;function Bve(){if(m8)return eE;m8=1;var t=Ive();return Rve(),jve(),$ve(),kve(),Dve(),qve(),Mve(),Ave(),Fve(),Lve(),eE=t,eE}var tE,v8;function zve(){return v8||(v8=1,tE=Bve()),tE}var Uve=zve(),tf=Pe(Uve),rE,g8;function Wve(){if(g8)return rE;g8=1,Gu(),UN(),PG();var t=bm();return rE=t.f("iterator"),rE}var nE,y8;function Hve(){if(y8)return nE;y8=1;var t=Wve();return Yu(),nE=t,nE}var iE,b8;function Vve(){if(b8)return iE;b8=1;var t=Hve();return iE=t,iE}var sE,w8;function Kve(){if(w8)return sE;w8=1;var t=Vve();return sE=t,sE}var aE,x8;function Gve(){return x8||(x8=1,aE=Kve()),aE}var Yve=Gve(),Qve=Pe(Yve);function _d(t){"@babel/helpers - typeof";return _d=typeof tf=="function"&&typeof Qve=="symbol"?function(e){return typeof e}:function(e){return e&&typeof tf=="function"&&e.constructor===tf&&e!==tf.prototype?"symbol":typeof e},_d(t)}var oE,_8;function Xve(){if(_8)return oE;_8=1,CG();var t=bm();return oE=t.f("toPrimitive"),oE}var lE,S8;function Jve(){if(S8)return lE;S8=1;var t=Xve();return lE=t,lE}var uE,E8;function Zve(){if(E8)return uE;E8=1;var t=Jve();return uE=t,uE}var cE,O8;function ege(){if(O8)return cE;O8=1;var t=Zve();return cE=t,cE}var dE,P8;function tge(){return P8||(P8=1,dE=ege()),dE}var rge=tge(),nge=Pe(rge);function ige(t,e){if(_d(t)!="object"||!t)return t;var r=t[nge];if(r!==void 0){var n=r.call(t,e);if(_d(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function sge(t){var e=ige(t,"string");return _d(e)=="symbol"?e:e+""}function Vi(t,e,r){return(e=sge(e))in t?Ove(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var C8={},hE,N8;function age(){if(N8)return hE;N8=1;var t=mt(),e=qe(),r=Be(),n=zn(),i=jG().trim,s=NN(),a=r("".charAt),o=t.parseFloat,l=t.Symbol,u=l&&l.iterator,d=1/o(s+"-0")!==-1/0||u&&!e(function(){o(Object(u))});return hE=d?function(f){var p=i(n(f)),m=o(p);return m===0&&a(p,0)==="-"?-0:m}:o,hE}var T8;function oge(){if(T8)return C8;T8=1;var t=we(),e=age();return t({global:!0,forced:parseFloat!==e},{parseFloat:e}),C8}var fE,I8;function lge(){if(I8)return fE;I8=1,oge();var t=Ye();return fE=t.parseFloat,fE}var pE,R8;function uge(){if(R8)return pE;R8=1;var t=lge();return pE=t,pE}var mE,j8;function cge(){return j8||(j8=1,mE=uge()),mE}var dge=cge(),OY=Pe(dge),$8={},k8;function hge(){if(k8)return $8;k8=1;var t=we(),e=qe(),r=SN().f,n=e(function(){return!Object.getOwnPropertyNames(1)});return t({target:"Object",stat:!0,forced:n},{getOwnPropertyNames:r}),$8}var vE,D8;function fge(){if(D8)return vE;D8=1,hge();var t=Ye(),e=t.Object;return vE=function(n){return e.getOwnPropertyNames(n)},vE}var gE,q8;function pge(){if(q8)return gE;q8=1;var t=fge();return gE=t,gE}var yE,M8;function mge(){return M8||(M8=1,yE=pge()),yE}var vge=mge(),gge=Pe(vge),bE,A8;function yge(){if(A8)return bE;A8=1,SG();var t=Ye();return bE=t.Object.getOwnPropertySymbols,bE}var wE,F8;function bge(){if(F8)return wE;F8=1;var t=yge();return wE=t,wE}var xE,L8;function wge(){return L8||(L8=1,xE=bge()),xE}var xge=wge(),ha=Pe(xge),_E={exports:{}},B8={},z8;function _ge(){if(z8)return B8;z8=1;var t=we(),e=qe(),r=ci(),n=hm().f,i=Dt(),s=!i||e(function(){n(1)});return t({target:"Object",stat:!0,forced:s,sham:!i},{getOwnPropertyDescriptor:function(o,l){return n(r(o),l)}}),B8}var U8;function Sge(){if(U8)return _E.exports;U8=1,_ge();var t=Ye(),e=t.Object,r=_E.exports=function(i,s){return e.getOwnPropertyDescriptor(i,s)};return e.getOwnPropertyDescriptor.sham&&(r.sham=!0),_E.exports}var SE,W8;function Ege(){if(W8)return SE;W8=1;var t=Sge();return SE=t,SE}var EE,H8;function Oge(){return H8||(H8=1,EE=Ege()),EE}var Pge=Oge(),Sa=Pe(Pge),V8={},K8;function Cge(){if(K8)return V8;K8=1;var t=we(),e=Dt(),r=Jde(),n=ci(),i=hm(),s=vm();return t({target:"Object",stat:!0,sham:!e},{getOwnPropertyDescriptors:function(o){for(var l=n(o),u=i.f,d=r(l),h={},f=0,p,m;d.length>f;)m=u(l,p=d[f++]),m!==void 0&&s(h,p,m);return h}}),V8}var OE,G8;function Nge(){if(G8)return OE;G8=1,Cge();var t=Ye();return OE=t.Object.getOwnPropertyDescriptors,OE}var PE,Y8;function Tge(){if(Y8)return PE;Y8=1;var t=Nge();return PE=t,PE}var CE,Q8;function Ige(){return Q8||(Q8=1,CE=Tge()),CE}var Rge=Ige(),fa=Pe(Rge),NE={exports:{}},X8={},J8;function jge(){if(J8)return X8;J8=1;var t=we(),e=Dt(),r=_N().f;return t({target:"Object",stat:!0,forced:Object.defineProperties!==r,sham:!e},{defineProperties:r}),X8}var Z8;function $ge(){if(Z8)return NE.exports;Z8=1,jge();var t=Ye(),e=t.Object,r=NE.exports=function(i,s){return e.defineProperties(i,s)};return e.defineProperties.sham&&(r.sham=!0),NE.exports}var TE,e7;function kge(){if(e7)return TE;e7=1;var t=$ge();return TE=t,TE}var IE,t7;function Dge(){return t7||(t7=1,IE=kge()),IE}var qge=Dge(),Pm=Pe(qge),RE,r7;function Mge(){return r7||(r7=1,RE=_Y()),RE}var Age=Mge(),Cm=Pe(Age);function HN(t,e){const r=["node","edge","label"];let n=!0;const i=Cs(e,"chosen");if(typeof i=="boolean")n=i;else if(typeof i=="object"){if(Ve(r).call(r,t)===-1)throw new Error("choosify: subOption '"+t+"' should be one of '"+r.join("', '")+"'");const s=Cs(e,["chosen",t]);(typeof s=="boolean"||typeof s=="function")&&(n=s)}return n}function SP(t,e,r){if(t.width<=0||t.height<=0)return!1;if(r!==void 0){const s={x:e.x-r.x,y:e.y-r.y};if(r.angle!==0){const a=-r.angle;e={x:Math.cos(a)*s.x-Math.sin(a)*s.y,y:Math.sin(a)*s.x+Math.cos(a)*s.y}}else e=s}const n=t.x+t.width,i=t.y+t.width;return t.left<e.x&&n>e.x&&t.top<e.y&&i>e.y}function gp(t){return typeof t=="string"&&t!==""}function PY(t,e,r,n){let i=n.x,s=n.y;if(typeof n.distanceToBorder=="function"){const a=n.distanceToBorder(t,e),o=Math.sin(e)*a,l=Math.cos(e)*a;l===a?(i+=a,s=n.y):o===a?(i=n.x,s-=a):(i+=l,s-=o)}else n.shape.width>n.shape.height?(i=n.x+n.shape.width*.5,s=n.y-r):(i=n.x+r,s=n.y-n.shape.height*.5);return{x:i,y:s}}var jE,n7;function Fge(){if(n7)return jE;n7=1,Gu();var t=wr();return jE=t("Array","values"),jE}var $E,i7;function Lge(){if(i7)return $E;i7=1;var t=Fge();return $E=t,$E}var kE,s7;function Bge(){if(s7)return kE;s7=1,Yu();var t=Vu(),e=br(),r=Wt(),n=Lge(),i=Array.prototype,s={DOMTokenList:!0,NodeList:!0};return kE=function(a){var o=a.values;return a===i||r(i,a)&&o===i.values||e(s,t(a))?n:o},kE}var DE,a7;function zge(){return a7||(a7=1,DE=Bge()),DE}var Uge=zge(),CY=Pe(Uge);class Wge{constructor(e){this.measureText=e,this.current=0,this.width=0,this.height=0,this.lines=[]}_add(e,r){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"normal";this.lines[e]===void 0&&(this.lines[e]={width:0,height:0,blocks:[]});let i=r;(r===void 0||r==="")&&(i=" ");const s=this.measureText(i,n),a=Lt({},CY(s));a.text=r,a.width=s.width,a.mod=n,(r===void 0||r==="")&&(a.width=0),this.lines[e].blocks.push(a),this.lines[e].width+=a.width}curWidth(){const e=this.lines[this.current];return e===void 0?0:e.width}append(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"normal";this._add(this.current,e,r)}newLine(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"normal";this._add(this.current,e,r),this.current++}determineLineHeights(){for(let e=0;e<this.lines.length;e++){const r=this.lines[e];let n=0;if(r.blocks!==void 0)for(let i=0;i<r.blocks.length;i++){const s=r.blocks[i];n<s.height&&(n=s.height)}r.height=n}}determineLabelSize(){let e=0,r=0;for(let n=0;n<this.lines.length;n++){const i=this.lines[n];i.width>e&&(e=i.width),r+=i.height}this.width=e,this.height=r}removeEmptyBlocks(){const e=[];for(let r=0;r<this.lines.length;r++){const n=this.lines[r];if(n.blocks.length===0||r===this.lines.length-1&&n.width===0)continue;const i={};Lt(i,n),i.blocks=[];let s;const a=[];for(let o=0;o<n.blocks.length;o++){const l=n.blocks[o];l.width!==0?a.push(l):s===void 0&&(s=l)}a.length===0&&s!==void 0&&a.push(s),i.blocks=a,e.push(i)}return e}finalize(){this.determineLineHeights(),this.determineLabelSize();const e=this.removeEmptyBlocks();return{width:this.width,height:this.height,lines:e}}}const Hge={"<b>":/<b>/,"<i>":/<i>/,"<code>":/<code>/,"</b>":/<\/b>/,"</i>":/<\/i>/,"</code>":/<\/code>/,"*":/\*/,_:/_/,"`":/`/,afterBold:/[^*]/,afterItal:/[^_]/,afterMono:/[^`]/};class o7{constructor(e){this.text=e,this.bold=!1,this.ital=!1,this.mono=!1,this.spacing=!1,this.position=0,this.buffer="",this.modStack=[],this.blocks=[]}mod(){return this.modStack.length===0?"normal":this.modStack[0]}modName(){if(this.modStack.length===0)return"normal";if(this.modStack[0]==="mono")return"mono";if(this.bold&&this.ital)return"boldital";if(this.bold)return"bold";if(this.ital)return"ital"}emitBlock(){this.spacing&&(this.add(" "),this.spacing=!1),this.buffer.length>0&&(this.blocks.push({text:this.buffer,mod:this.modName()}),this.buffer="")}add(e){e===" "&&(this.spacing=!0),this.spacing&&(this.buffer+=" ",this.spacing=!1),e!=" "&&(this.buffer+=e)}parseWS(e){return/[ \t]/.test(e)?(this.mono?this.add(e):this.spacing=!0,!0):!1}setTag(e){this.emitBlock(),this[e]=!0,this.modStack.unshift(e)}unsetTag(e){this.emitBlock(),this[e]=!1,this.modStack.shift()}parseStartTag(e,r){return!this.mono&&!this[e]&&this.match(r)?(this.setTag(e),!0):!1}match(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;const[n,i]=this.prepareRegExp(e),s=n.test(this.text.substr(this.position,i));return s&&r&&(this.position+=i-1),s}parseEndTag(e,r,n){let i=this.mod()===e;return e==="mono"?i=i&&this.mono:i=i&&!this.mono,i&&this.match(r)?(n!==void 0?(this.position===this.text.length-1||this.match(n,!1))&&this.unsetTag(e):this.unsetTag(e),!0):!1}replace(e,r){return this.match(e)?(this.add(r),this.position+=length-1,!0):!1}prepareRegExp(e){let r,n;if(e instanceof RegExp)n=e,r=1;else{const i=Hge[e];i!==void 0?n=i:n=new RegExp(e),r=e.length}return[n,r]}}class Vge{constructor(e,r,n,i){this.ctx=e,this.parent=r,this.selected=n,this.hover=i;const s=(a,o)=>{if(a===void 0)return 0;const l=this.parent.getFormattingValues(e,n,i,o);let u=0;return a!==""&&(u=this.ctx.measureText(a).width),{width:u,values:l}};this.lines=new Wge(s)}process(e){if(!gp(e))return this.lines.finalize();const r=this.parent.fontOptions;e=e.replace(/\r\n/g,`
`),e=e.replace(/\r/g,`
`);const n=String(e).split(`
`),i=n.length;if(r.multi)for(let s=0;s<i;s++){const a=this.splitBlocks(n[s],r.multi);if(a!==void 0){if(a.length===0){this.lines.newLine("");continue}if(r.maxWdt>0)for(let o=0;o<a.length;o++){const l=a[o].mod,u=a[o].text;this.splitStringIntoLines(u,l,!0)}else for(let o=0;o<a.length;o++){const l=a[o].mod,u=a[o].text;this.lines.append(u,l)}this.lines.newLine()}}else if(r.maxWdt>0)for(let s=0;s<i;s++)this.splitStringIntoLines(n[s]);else for(let s=0;s<i;s++)this.lines.newLine(n[s]);return this.lines.finalize()}decodeMarkupSystem(e){let r="none";return e==="markdown"||e==="md"?r="markdown":(e===!0||e==="html")&&(r="html"),r}splitHtmlBlocks(e){const r=new o7(e),n=i=>/&/.test(i)?(r.replace(r.text,"&lt;","<")||r.replace(r.text,"&amp;","&")||r.add("&"),!0):!1;for(;r.position<r.text.length;){const i=r.text.charAt(r.position);r.parseWS(i)||/</.test(i)&&(r.parseStartTag("bold","<b>")||r.parseStartTag("ital","<i>")||r.parseStartTag("mono","<code>")||r.parseEndTag("bold","</b>")||r.parseEndTag("ital","</i>")||r.parseEndTag("mono","</code>"))||n(i)||r.add(i),r.position++}return r.emitBlock(),r.blocks}splitMarkdownBlocks(e){const r=new o7(e);let n=!0;const i=s=>/\\/.test(s)?(r.position<this.text.length+1&&(r.position++,s=this.text.charAt(r.position),/ \t/.test(s)?r.spacing=!0:(r.add(s),n=!1)),!0):!1;for(;r.position<r.text.length;){const s=r.text.charAt(r.position);r.parseWS(s)||i(s)||(n||r.spacing)&&(r.parseStartTag("bold","*")||r.parseStartTag("ital","_")||r.parseStartTag("mono","`"))||r.parseEndTag("bold","*","afterBold")||r.parseEndTag("ital","_","afterItal")||r.parseEndTag("mono","`","afterMono")||(r.add(s),n=!1),r.position++}return r.emitBlock(),r.blocks}splitBlocks(e,r){const n=this.decodeMarkupSystem(r);if(n==="none")return[{text:e,mod:"normal"}];if(n==="markdown")return this.splitMarkdownBlocks(e);if(n==="html")return this.splitHtmlBlocks(e)}overMaxWidth(e){const r=this.ctx.measureText(e).width;return this.lines.curWidth()+r>this.parent.fontOptions.maxWdt}getLongestFit(e){let r="",n=0;for(;n<e.length;){const s=r+(r===""?"":" ")+e[n];if(this.overMaxWidth(s))break;r=s,n++}return n}getLongestFitWord(e){let r=0;for(;r<e.length&&!this.overMaxWidth(xi(e).call(e,0,r));)r++;return r}splitStringIntoLines(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"normal",n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;this.parent.getFormattingValues(this.ctx,this.selected,this.hover,r),e=e.replace(/^( +)/g,"$1\r"),e=e.replace(/([^\r][^ ]*)( +)/g,"$1\r$2\r");let i=e.split("\r");for(;i.length>0;){let s=this.getLongestFit(i);if(s===0){const a=i[0],o=this.getLongestFitWord(a);this.lines.newLine(xi(a).call(a,0,o),r),i[0]=xi(a).call(a,o)}else{let a=s;i[s-1]===" "?s--:i[a]===" "&&a++;const o=xi(i).call(i,0,s).join("");s==i.length&&n?this.lines.append(o,r):this.lines.newLine(o,r),i=xi(i).call(i,a)}}}}const vc=["bold","ital","boldital","mono"];class $l{constructor(e,r){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;this.body=e,this.pointToSelf=!1,this.baseSize=void 0,this.fontOptions={},this.setOptions(r),this.size={top:0,left:0,width:0,height:0,yLine:0},this.isEdgeLabel=n}setOptions(e){if(this.elementOptions=e,this.initFontOptions(e.font),gp(e.label)?this.labelDirty=!0:e.label=void 0,e.font!==void 0&&e.font!==null){if(typeof e.font=="string")this.baseSize=this.fontOptions.size;else if(typeof e.font=="object"){const r=e.font.size;r!==void 0&&(this.baseSize=r)}}}initFontOptions(e){if($e(vc,r=>{this.fontOptions[r]={}}),$l.parseFontString(this.fontOptions,e)){this.fontOptions.vadjust=0;return}$e(e,(r,n)=>{r!=null&&typeof r!="object"&&(this.fontOptions[n]=r)})}static parseFontString(e,r){if(!r||typeof r!="string")return!1;const n=r.split(" ");return e.size=+n[0].replace("px",""),e.face=n[1],e.color=n[2],!0}constrain(e){const r={constrainWidth:!1,maxWdt:-1,minWdt:-1,constrainHeight:!1,minHgt:-1,valign:"middle"},n=Cs(e,"widthConstraint");if(typeof n=="number")r.maxWdt=Number(n),r.minWdt=Number(n);else if(typeof n=="object"){const s=Cs(e,["widthConstraint","maximum"]);typeof s=="number"&&(r.maxWdt=Number(s));const a=Cs(e,["widthConstraint","minimum"]);typeof a=="number"&&(r.minWdt=Number(a))}const i=Cs(e,"heightConstraint");if(typeof i=="number")r.minHgt=Number(i);else if(typeof i=="object"){const s=Cs(e,["heightConstraint","minimum"]);typeof s=="number"&&(r.minHgt=Number(s));const a=Cs(e,["heightConstraint","valign"]);typeof a=="string"&&(a==="top"||a==="bottom")&&(r.valign=a)}return r}update(e,r){this.setOptions(e,!0),this.propagateFonts(r),at(this.fontOptions,this.constrain(r)),this.fontOptions.chooser=HN("label",r)}adjustSizes(e){const r=e?e.right+e.left:0;this.fontOptions.constrainWidth&&(this.fontOptions.maxWdt-=r,this.fontOptions.minWdt-=r);const n=e?e.top+e.bottom:0;this.fontOptions.constrainHeight&&(this.fontOptions.minHgt-=n)}addFontOptionsToPile(e,r){for(let n=0;n<r.length;++n)this.addFontToPile(e,r[n])}addFontToPile(e,r){if(r===void 0||r.font===void 0||r.font===null)return;const n=r.font;e.push(n)}getBasicOptions(e){const r={};for(let n=0;n<e.length;++n){let i=e[n];const s={};$l.parseFontString(s,i)&&(i=s),$e(i,(a,o)=>{a!==void 0&&(Object.prototype.hasOwnProperty.call(r,o)||(Ve(vc).call(vc,o)!==-1?r[o]={}:r[o]=a))})}return r}getFontOption(e,r,n){let i;for(let s=0;s<e.length;++s){const a=e[s];if(Object.prototype.hasOwnProperty.call(a,r)){if(i=a[r],i==null)continue;const o={};if($l.parseFontString(o,i)&&(i=o),Object.prototype.hasOwnProperty.call(i,n))return i[n]}}if(Object.prototype.hasOwnProperty.call(this.fontOptions,n))return this.fontOptions[n];throw new Error("Did not find value for multi-font for property: '"+n+"'")}getFontOptions(e,r){const n={},i=["color","size","face","mod","vadjust"];for(let s=0;s<i.length;++s){const a=i[s];n[a]=this.getFontOption(e,r,a)}return n}propagateFonts(e){const r=[];this.addFontOptionsToPile(r,e),this.fontOptions=this.getBasicOptions(r);for(let n=0;n<vc.length;++n){const i=vc[n],s=this.fontOptions[i],a=this.getFontOptions(r,i);$e(a,(o,l)=>{s[l]=o}),s.size=Number(s.size),s.vadjust=Number(s.vadjust)}}draw(e,r,n,i,s){let a=arguments.length>5&&arguments[5]!==void 0?arguments[5]:"middle";if(this.elementOptions.label===void 0)return;let o=this.fontOptions.size*this.body.view.scale;this.elementOptions.label&&o<this.elementOptions.scaling.label.drawThreshold-1||(o>=this.elementOptions.scaling.label.maxVisible&&(o=Number(this.elementOptions.scaling.label.maxVisible)/this.body.view.scale),this.calculateLabelSize(e,i,s,r,n,a),this._drawBackground(e),this._drawText(e,r,this.size.yLine,a,o))}_drawBackground(e){if(this.fontOptions.background!==void 0&&this.fontOptions.background!=="none"){e.fillStyle=this.fontOptions.background;const r=this.getSize();e.fillRect(r.left,r.top,r.width,r.height)}}_drawText(e,r,n){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"middle",s=arguments.length>4?arguments[4]:void 0;[r,n]=this._setAlignment(e,r,n,i),e.textAlign="left",r=r-this.size.width/2,this.fontOptions.valign&&this.size.height>this.size.labelHeight&&(this.fontOptions.valign==="top"&&(n-=(this.size.height-this.size.labelHeight)/2),this.fontOptions.valign==="bottom"&&(n+=(this.size.height-this.size.labelHeight)/2));for(let a=0;a<this.lineCount;a++){const o=this.lines[a];if(o&&o.blocks){let l=0;this.isEdgeLabel||this.fontOptions.align==="center"?l+=(this.size.width-o.width)/2:this.fontOptions.align==="right"&&(l+=this.size.width-o.width);for(let u=0;u<o.blocks.length;u++){const d=o.blocks[u];e.font=d.font;const[h,f]=this._getColor(d.color,s,d.strokeColor);d.strokeWidth>0&&(e.lineWidth=d.strokeWidth,e.strokeStyle=f,e.lineJoin="round"),e.fillStyle=h,d.strokeWidth>0&&e.strokeText(d.text,r+l,n+d.vadjust),e.fillText(d.text,r+l,n+d.vadjust),l+=d.width}n+=o.height}}}_setAlignment(e,r,n,i){if(this.isEdgeLabel&&this.fontOptions.align!=="horizontal"&&this.pointToSelf===!1){r=0,n=0;const s=2;this.fontOptions.align==="top"?(e.textBaseline="alphabetic",n-=2*s):this.fontOptions.align==="bottom"?(e.textBaseline="hanging",n+=2*s):e.textBaseline="middle"}else e.textBaseline=i;return[r,n]}_getColor(e,r,n){let i=e||"#000000",s=n||"#ffffff";if(r<=this.elementOptions.scaling.label.drawThreshold){const a=Math.max(0,Math.min(1,1-(this.elementOptions.scaling.label.drawThreshold-r)));i=Rn(i,a),s=Rn(s,a)}return[i,s]}getTextSize(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;return this._processLabel(e,r,n),{width:this.size.width,height:this.size.height,lineCount:this.lineCount}}getSize(){let r=this.size.left,n=this.size.top-.5*2;if(this.isEdgeLabel){const s=-this.size.width*.5;switch(this.fontOptions.align){case"middle":r=s,n=-this.size.height*.5;break;case"top":r=s,n=-(this.size.height+2);break;case"bottom":r=s,n=2;break}}return{left:r,top:n,width:this.size.width,height:this.size.height}}calculateLabelSize(e,r,n){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0,a=arguments.length>5&&arguments[5]!==void 0?arguments[5]:"middle";this._processLabel(e,r,n),this.size.left=i-this.size.width*.5,this.size.top=s-this.size.height*.5,this.size.yLine=s+(1-this.lineCount)*.5*this.fontOptions.size,a==="hanging"&&(this.size.top+=.5*this.fontOptions.size,this.size.top+=4,this.size.yLine+=4)}getFormattingValues(e,r,n,i){const s=function(l,u,d){return u==="normal"?d==="mod"?"":l[d]:l[u][d]!==void 0?l[u][d]:l[d]},a={color:s(this.fontOptions,i,"color"),size:s(this.fontOptions,i,"size"),face:s(this.fontOptions,i,"face"),mod:s(this.fontOptions,i,"mod"),vadjust:s(this.fontOptions,i,"vadjust"),strokeWidth:this.fontOptions.strokeWidth,strokeColor:this.fontOptions.strokeColor};(r||n)&&(i==="normal"&&this.fontOptions.chooser===!0&&this.elementOptions.labelHighlightBold?a.mod="bold":typeof this.fontOptions.chooser=="function"&&this.fontOptions.chooser(a,this.elementOptions.id,r,n));let o="";return a.mod!==void 0&&a.mod!==""&&(o+=a.mod+" "),o+=a.size+"px "+a.face,e.font=o.replace(/"/g,""),a.font=e.font,a.height=a.size,a}differentState(e,r){return e!==this.selectedState||r!==this.hoverState}_processLabelText(e,r,n,i){return new Vge(e,this,r,n).process(i)}_processLabel(e,r,n){if(this.labelDirty===!1&&!this.differentState(r,n))return;const i=this._processLabelText(e,r,n,this.elementOptions.label);this.fontOptions.minWdt>0&&i.width<this.fontOptions.minWdt&&(i.width=this.fontOptions.minWdt),this.size.labelHeight=i.height,this.fontOptions.minHgt>0&&i.height<this.fontOptions.minHgt&&(i.height=this.fontOptions.minHgt),this.lines=i.lines,this.lineCount=i.lines.length,this.size.width=i.width,this.size.height=i.height,this.selectedState=r,this.hoverState=n,this.labelDirty=!1}visible(){return!(this.size.width===0||this.size.height===0||this.elementOptions.label===void 0||this.fontOptions.size*this.body.view.scale<this.elementOptions.scaling.label.drawThreshold-1)}}class Ho{constructor(e,r,n){this.body=r,this.labelModule=n,this.setOptions(e),this.top=void 0,this.left=void 0,this.height=void 0,this.width=void 0,this.radius=void 0,this.margin=void 0,this.refreshNeeded=!0,this.boundingBox={top:0,left:0,right:0,bottom:0}}setOptions(e){this.options=e}_setMargins(e){this.margin={},this.options.margin&&(typeof this.options.margin=="object"?(this.margin.top=this.options.margin.top,this.margin.right=this.options.margin.right,this.margin.bottom=this.options.margin.bottom,this.margin.left=this.options.margin.left):(this.margin.top=this.options.margin,this.margin.right=this.options.margin,this.margin.bottom=this.options.margin,this.margin.left=this.options.margin)),e.adjustSizes(this.margin)}_distanceToBorder(e,r){const n=this.options.borderWidth;return e&&this.resize(e),Math.min(Math.abs(this.width/2/Math.cos(r)),Math.abs(this.height/2/Math.sin(r)))+n}enableShadow(e,r){r.shadow&&(e.shadowColor=r.shadowColor,e.shadowBlur=r.shadowSize,e.shadowOffsetX=r.shadowX,e.shadowOffsetY=r.shadowY)}disableShadow(e,r){r.shadow&&(e.shadowColor="rgba(0,0,0,0)",e.shadowBlur=0,e.shadowOffsetX=0,e.shadowOffsetY=0)}enableBorderDashes(e,r){if(r.borderDashes!==!1)if(e.setLineDash!==void 0){let n=r.borderDashes;n===!0&&(n=[5,15]),e.setLineDash(n)}else console.warn("setLineDash is not supported in this browser. The dashed borders cannot be used."),this.options.shapeProperties.borderDashes=!1,r.borderDashes=!1}disableBorderDashes(e,r){r.borderDashes!==!1&&(e.setLineDash!==void 0?e.setLineDash([0]):(console.warn("setLineDash is not supported in this browser. The dashed borders cannot be used."),this.options.shapeProperties.borderDashes=!1,r.borderDashes=!1))}needsRefresh(e,r){return this.refreshNeeded===!0?(this.refreshNeeded=!1,!0):this.width===void 0||this.labelModule.differentState(e,r)}initContextForDraw(e,r){const n=r.borderWidth/this.body.view.scale;e.lineWidth=Math.min(this.width,n),e.strokeStyle=r.borderColor,e.fillStyle=r.color}performStroke(e,r){const n=r.borderWidth/this.body.view.scale;e.save(),n>0&&(this.enableBorderDashes(e,r),e.stroke(),this.disableBorderDashes(e,r)),e.restore()}performFill(e,r){e.save(),e.fillStyle=r.color,this.enableShadow(e,r),mh(e).call(e),this.disableShadow(e,r),e.restore(),this.performStroke(e,r)}_addBoundingBoxMargin(e){this.boundingBox.left-=e,this.boundingBox.top-=e,this.boundingBox.bottom+=e,this.boundingBox.right+=e}_updateBoundingBox(e,r,n,i,s){n!==void 0&&this.resize(n,i,s),this.left=e-this.width/2,this.top=r-this.height/2,this.boundingBox.left=this.left,this.boundingBox.top=this.top,this.boundingBox.bottom=this.top+this.height,this.boundingBox.right=this.left+this.width}updateBoundingBox(e,r,n,i,s){this._updateBoundingBox(e,r,n,i,s)}getDimensionsFromLabel(e,r,n){this.textSize=this.labelModule.getTextSize(e,r,n);let i=this.textSize.width,s=this.textSize.height;const a=14;return i===0&&(i=a,s=a),{width:i,height:s}}}let Kge=class extends Ho{constructor(e,r,n){super(e,r,n),this._setMargins(n)}resize(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.selected,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.hover;if(this.needsRefresh(r,n)){const i=this.getDimensionsFromLabel(e,r,n);this.width=i.width+this.margin.right+this.margin.left,this.height=i.height+this.margin.top+this.margin.bottom,this.radius=this.width/2}}draw(e,r,n,i,s,a){this.resize(e,i,s),this.left=r-this.width/2,this.top=n-this.height/2,this.initContextForDraw(e,a),hG(e,this.left,this.top,this.width,this.height,a.borderRadius),this.performFill(e,a),this.updateBoundingBox(r,n,e,i,s),this.labelModule.draw(e,this.left+this.textSize.width/2+this.margin.left,this.top+this.textSize.height/2+this.margin.top,i,s)}updateBoundingBox(e,r,n,i,s){this._updateBoundingBox(e,r,n,i,s);const a=this.options.shapeProperties.borderRadius;this._addBoundingBoxMargin(a)}distanceToBorder(e,r){e&&this.resize(e);const n=this.options.borderWidth;return Math.min(Math.abs(this.width/2/Math.cos(r)),Math.abs(this.height/2/Math.sin(r)))+n}};class VN extends Ho{constructor(e,r,n){super(e,r,n),this.labelOffset=0,this.selected=!1}setOptions(e,r,n){this.options=e,r===void 0&&n===void 0||this.setImages(r,n)}setImages(e,r){r&&this.selected?(this.imageObj=r,this.imageObjAlt=e):(this.imageObj=e,this.imageObjAlt=r)}switchImages(e){const r=e&&!this.selected||!e&&this.selected;if(this.selected=e,this.imageObjAlt!==void 0&&r){const n=this.imageObj;this.imageObj=this.imageObjAlt,this.imageObjAlt=n}}_getImagePadding(){const e={top:0,right:0,bottom:0,left:0};if(this.options.imagePadding){const r=this.options.imagePadding;typeof r=="object"?(e.top=r.top,e.right=r.right,e.bottom=r.bottom,e.left=r.left):(e.top=r,e.right=r,e.bottom=r,e.left=r)}return e}_resizeImage(){let e,r;if(this.options.shapeProperties.useImageSize===!1){let n=1,i=1;this.imageObj.width&&this.imageObj.height&&(this.imageObj.width>this.imageObj.height?n=this.imageObj.width/this.imageObj.height:i=this.imageObj.height/this.imageObj.width),e=this.options.size*2*n,r=this.options.size*2*i}else{const n=this._getImagePadding();e=this.imageObj.width+n.left+n.right,r=this.imageObj.height+n.top+n.bottom}this.width=e,this.height=r,this.radius=.5*this.width}_drawRawCircle(e,r,n,i){this.initContextForDraw(e,i),bN(e,r,n,i.size),this.performFill(e,i)}_drawImageAtPosition(e,r){if(this.imageObj.width!=0){e.globalAlpha=r.opacity!==void 0?r.opacity:1,this.enableShadow(e,r);let n=1;this.options.shapeProperties.interpolation===!0&&(n=this.imageObj.width/this.width/this.body.view.scale);const i=this._getImagePadding(),s=this.left+i.left,a=this.top+i.top,o=this.width-i.left-i.right,l=this.height-i.top-i.bottom;this.imageObj.drawImageAtPosition(e,n,s,a,o,l),this.disableShadow(e,r)}}_drawImageLabel(e,r,n,i,s){let a=0;if(this.height!==void 0){a=this.height*.5;const l=this.labelModule.getTextSize(e,i,s);l.lineCount>=1&&(a+=l.height/2)}const o=n+a;this.options.label&&(this.labelOffset=a),this.labelModule.draw(e,r,o,i,s,"hanging")}}let Gge=class extends VN{constructor(e,r,n){super(e,r,n),this._setMargins(n)}resize(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.selected,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.hover;if(this.needsRefresh(r,n)){const i=this.getDimensionsFromLabel(e,r,n),s=Math.max(i.width+this.margin.right+this.margin.left,i.height+this.margin.top+this.margin.bottom);this.options.size=s/2,this.width=s,this.height=s,this.radius=this.width/2}}draw(e,r,n,i,s,a){this.resize(e,i,s),this.left=r-this.width/2,this.top=n-this.height/2,this._drawRawCircle(e,r,n,a),this.updateBoundingBox(r,n),this.labelModule.draw(e,this.left+this.textSize.width/2+this.margin.left,n,i,s)}updateBoundingBox(e,r){this.boundingBox.top=r-this.options.size,this.boundingBox.left=e-this.options.size,this.boundingBox.right=e+this.options.size,this.boundingBox.bottom=r+this.options.size}distanceToBorder(e){return e&&this.resize(e),this.width*.5}};class Yge extends VN{constructor(e,r,n,i,s){super(e,r,n),this.setImages(i,s)}resize(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.selected,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.hover;if(this.imageObj.src===void 0||this.imageObj.width===void 0||this.imageObj.height===void 0){const s=this.options.size*2;this.width=s,this.height=s,this.radius=.5*this.width;return}this.needsRefresh(r,n)&&this._resizeImage()}draw(e,r,n,i,s,a){this.switchImages(i),this.resize();let o=r,l=n;this.options.shapeProperties.coordinateOrigin==="top-left"?(this.left=r,this.top=n,o+=this.width/2,l+=this.height/2):(this.left=r-this.width/2,this.top=n-this.height/2),this._drawRawCircle(e,o,l,a),e.save(),e.clip(),this._drawImageAtPosition(e,a),e.restore(),this._drawImageLabel(e,o,l,i,s),this.updateBoundingBox(r,n)}updateBoundingBox(e,r){this.options.shapeProperties.coordinateOrigin==="top-left"?(this.boundingBox.top=r,this.boundingBox.left=e,this.boundingBox.right=e+this.options.size*2,this.boundingBox.bottom=r+this.options.size*2):(this.boundingBox.top=r-this.options.size,this.boundingBox.left=e-this.options.size,this.boundingBox.right=e+this.options.size,this.boundingBox.bottom=r+this.options.size),this.boundingBox.left=Math.min(this.boundingBox.left,this.labelModule.size.left),this.boundingBox.right=Math.max(this.boundingBox.right,this.labelModule.size.left+this.labelModule.size.width),this.boundingBox.bottom=Math.max(this.boundingBox.bottom,this.boundingBox.bottom+this.labelOffset)}distanceToBorder(e){return e&&this.resize(e),this.width*.5}}class Ea extends Ho{constructor(e,r,n){super(e,r,n)}resize(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.selected,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.hover,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{size:this.options.size};if(this.needsRefresh(r,n)){var s,a;this.labelModule.getTextSize(e,r,n);const o=2*i.size;this.width=(s=this.customSizeWidth)!==null&&s!==void 0?s:o,this.height=(a=this.customSizeHeight)!==null&&a!==void 0?a:o,this.radius=.5*this.width}}_drawShape(e,r,n,i,s,a,o,l){return this.resize(e,a,o,l),this.left=i-this.width/2,this.top=s-this.height/2,this.initContextForDraw(e,l),dde(r)(e,i,s,l.size),this.performFill(e,l),this.options.icon!==void 0&&this.options.icon.code!==void 0&&(e.font=(a?"bold ":"")+this.height/2+"px "+(this.options.icon.face||"FontAwesome"),e.fillStyle=this.options.icon.color||"black",e.textAlign="center",e.textBaseline="middle",e.fillText(this.options.icon.code,i,s)),{drawExternalLabel:()=>{if(this.options.label!==void 0){this.labelModule.calculateLabelSize(e,a,o,i,s,"hanging");const u=s+.5*this.height+.5*this.labelModule.size.height;this.labelModule.draw(e,i,u,a,o,"hanging")}this.updateBoundingBox(i,s)}}}updateBoundingBox(e,r){this.boundingBox.top=r-this.options.size,this.boundingBox.left=e-this.options.size,this.boundingBox.right=e+this.options.size,this.boundingBox.bottom=r+this.options.size,this.options.label!==void 0&&this.labelModule.size.width>0&&(this.boundingBox.left=Math.min(this.boundingBox.left,this.labelModule.size.left),this.boundingBox.right=Math.max(this.boundingBox.right,this.labelModule.size.left+this.labelModule.size.width),this.boundingBox.bottom=Math.max(this.boundingBox.bottom,this.boundingBox.bottom+this.labelModule.size.height))}}function l7(t,e){var r=Pt(t);if(ha){var n=ha(t);e&&(n=Yr(n).call(n,function(i){return Sa(t,i).enumerable})),r.push.apply(r,n)}return r}function Qge(t){for(var e=1;e<arguments.length;e++){var r,n,i=arguments[e]!=null?arguments[e]:{};e%2?Ze(r=l7(Object(i),!0)).call(r,function(s){Vi(t,s,i[s])}):fa?Pm(t,fa(i)):Ze(n=l7(Object(i))).call(n,function(s){Cm(t,s,Sa(i,s))})}return t}class Xge extends Ea{constructor(e,r,n,i){super(e,r,n,i),this.ctxRenderer=i}draw(e,r,n,i,s,a){this.resize(e,i,s,a),this.left=r-this.width/2,this.top=n-this.height/2,e.save();const o=this.ctxRenderer({ctx:e,id:this.options.id,x:r,y:n,state:{selected:i,hover:s},style:Qge({},a),label:this.options.label});if(o.drawNode!=null&&o.drawNode(),e.restore(),o.drawExternalLabel){const l=o.drawExternalLabel;o.drawExternalLabel=()=>{e.save(),l(),e.restore()}}return o.nodeDimensions&&(this.customSizeWidth=o.nodeDimensions.width,this.customSizeHeight=o.nodeDimensions.height),o}distanceToBorder(e,r){return this._distanceToBorder(e,r)}}class Jge extends Ho{constructor(e,r,n){super(e,r,n),this._setMargins(n)}resize(e,r,n){if(this.needsRefresh(r,n)){const s=this.getDimensionsFromLabel(e,r,n).width+this.margin.right+this.margin.left;this.width=s,this.height=s,this.radius=this.width/2}}draw(e,r,n,i,s,a){this.resize(e,i,s),this.left=r-this.width/2,this.top=n-this.height/2,this.initContextForDraw(e,a),fG(e,r-this.width/2,n-this.height/2,this.width,this.height),this.performFill(e,a),this.updateBoundingBox(r,n,e,i,s),this.labelModule.draw(e,this.left+this.textSize.width/2+this.margin.left,this.top+this.textSize.height/2+this.margin.top,i,s)}distanceToBorder(e,r){return this._distanceToBorder(e,r)}}let Zge=class extends Ea{constructor(e,r,n){super(e,r,n)}draw(e,r,n,i,s,a){return this._drawShape(e,"diamond",4,r,n,i,s,a)}distanceToBorder(e,r){return this._distanceToBorder(e,r)}};class eye extends Ea{constructor(e,r,n){super(e,r,n)}draw(e,r,n,i,s,a){return this._drawShape(e,"circle",2,r,n,i,s,a)}distanceToBorder(e){return e&&this.resize(e),this.options.size}}class u7 extends Ho{constructor(e,r,n){super(e,r,n)}resize(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.selected,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.hover;if(this.needsRefresh(r,n)){const i=this.getDimensionsFromLabel(e,r,n);this.height=i.height*2,this.width=i.width+i.height,this.radius=.5*this.width}}draw(e,r,n,i,s,a){this.resize(e,i,s),this.left=r-this.width*.5,this.top=n-this.height*.5,this.initContextForDraw(e,a),fP(e,this.left,this.top,this.width,this.height),this.performFill(e,a),this.updateBoundingBox(r,n,e,i,s),this.labelModule.draw(e,r,n,i,s)}distanceToBorder(e,r){e&&this.resize(e);const n=this.width*.5,i=this.height*.5,s=Math.sin(r)*n,a=Math.cos(r)*i;return n*i/Math.sqrt(s*s+a*a)}}class tye extends Ho{constructor(e,r,n){super(e,r,n),this._setMargins(n)}resize(e,r,n){this.needsRefresh(r,n)&&(this.iconSize={width:Number(this.options.icon.size),height:Number(this.options.icon.size)},this.width=this.iconSize.width+this.margin.right+this.margin.left,this.height=this.iconSize.height+this.margin.top+this.margin.bottom,this.radius=.5*this.width)}draw(e,r,n,i,s,a){return this.resize(e,i,s),this.options.icon.size=this.options.icon.size||50,this.left=r-this.width/2,this.top=n-this.height/2,this._icon(e,r,n,i,s,a),{drawExternalLabel:()=>{this.options.label!==void 0&&this.labelModule.draw(e,this.left+this.iconSize.width/2+this.margin.left,n+this.height/2+5,i),this.updateBoundingBox(r,n)}}}updateBoundingBox(e,r){this.boundingBox.top=r-this.options.icon.size*.5,this.boundingBox.left=e-this.options.icon.size*.5,this.boundingBox.right=e+this.options.icon.size*.5,this.boundingBox.bottom=r+this.options.icon.size*.5,this.options.label!==void 0&&this.labelModule.size.width>0&&(this.boundingBox.left=Math.min(this.boundingBox.left,this.labelModule.size.left),this.boundingBox.right=Math.max(this.boundingBox.right,this.labelModule.size.left+this.labelModule.size.width),this.boundingBox.bottom=Math.max(this.boundingBox.bottom,this.boundingBox.bottom+this.labelModule.size.height+5))}_icon(e,r,n,i,s,a){const o=Number(this.options.icon.size);this.options.icon.code!==void 0?(e.font=[this.options.icon.weight!=null?this.options.icon.weight:i?"bold":"",(this.options.icon.weight!=null&&i?5:0)+o+"px",this.options.icon.face].join(" "),e.fillStyle=this.options.icon.color||"black",e.textAlign="center",e.textBaseline="middle",this.enableShadow(e,a),e.fillText(this.options.icon.code,r,n),this.disableShadow(e,a)):console.error("When using the icon shape, you need to define the code in the icon options object. This can be done per node or globally.")}distanceToBorder(e,r){return this._distanceToBorder(e,r)}}let rye=class extends VN{constructor(e,r,n,i,s){super(e,r,n),this.setImages(i,s)}resize(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.selected,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.hover;if(this.imageObj.src===void 0||this.imageObj.width===void 0||this.imageObj.height===void 0){const s=this.options.size*2;this.width=s,this.height=s;return}this.needsRefresh(r,n)&&this._resizeImage()}draw(e,r,n,i,s,a){e.save(),this.switchImages(i),this.resize();let o=r,l=n;if(this.options.shapeProperties.coordinateOrigin==="top-left"?(this.left=r,this.top=n,o+=this.width/2,l+=this.height/2):(this.left=r-this.width/2,this.top=n-this.height/2),this.options.shapeProperties.useBorderWithImage===!0){const u=this.options.borderWidth,d=this.options.borderWidthSelected||2*this.options.borderWidth,h=(i?d:u)/this.body.view.scale;e.lineWidth=Math.min(this.width,h),e.beginPath();let f=i?this.options.color.highlight.border:s?this.options.color.hover.border:this.options.color.border,p=i?this.options.color.highlight.background:s?this.options.color.hover.background:this.options.color.background;a.opacity!==void 0&&(f=Rn(f,a.opacity),p=Rn(p,a.opacity)),e.strokeStyle=f,e.fillStyle=p,e.rect(this.left-.5*e.lineWidth,this.top-.5*e.lineWidth,this.width+e.lineWidth,this.height+e.lineWidth),mh(e).call(e),this.performStroke(e,a),e.closePath()}this._drawImageAtPosition(e,a),this._drawImageLabel(e,o,l,i,s),this.updateBoundingBox(r,n),e.restore()}updateBoundingBox(e,r){this.resize(),this.options.shapeProperties.coordinateOrigin==="top-left"?(this.left=e,this.top=r):(this.left=e-this.width/2,this.top=r-this.height/2),this.boundingBox.left=this.left,this.boundingBox.top=this.top,this.boundingBox.bottom=this.top+this.height,this.boundingBox.right=this.left+this.width,this.options.label!==void 0&&this.labelModule.size.width>0&&(this.boundingBox.left=Math.min(this.boundingBox.left,this.labelModule.size.left),this.boundingBox.right=Math.max(this.boundingBox.right,this.labelModule.size.left+this.labelModule.size.width),this.boundingBox.bottom=Math.max(this.boundingBox.bottom,this.boundingBox.bottom+this.labelOffset))}distanceToBorder(e,r){return this._distanceToBorder(e,r)}};class nye extends Ea{constructor(e,r,n){super(e,r,n)}draw(e,r,n,i,s,a){return this._drawShape(e,"square",2,r,n,i,s,a)}distanceToBorder(e,r){return this._distanceToBorder(e,r)}}class iye extends Ea{constructor(e,r,n){super(e,r,n)}draw(e,r,n,i,s,a){return this._drawShape(e,"hexagon",4,r,n,i,s,a)}distanceToBorder(e,r){return this._distanceToBorder(e,r)}}class sye extends Ea{constructor(e,r,n){super(e,r,n)}draw(e,r,n,i,s,a){return this._drawShape(e,"star",4,r,n,i,s,a)}distanceToBorder(e,r){return this._distanceToBorder(e,r)}}class aye extends Ho{constructor(e,r,n){super(e,r,n),this._setMargins(n)}resize(e,r,n){this.needsRefresh(r,n)&&(this.textSize=this.labelModule.getTextSize(e,r,n),this.width=this.textSize.width+this.margin.right+this.margin.left,this.height=this.textSize.height+this.margin.top+this.margin.bottom,this.radius=.5*this.width)}draw(e,r,n,i,s,a){this.resize(e,i,s),this.left=r-this.width/2,this.top=n-this.height/2,this.enableShadow(e,a),this.labelModule.draw(e,this.left+this.textSize.width/2+this.margin.left,this.top+this.textSize.height/2+this.margin.top,i,s),this.disableShadow(e,a),this.updateBoundingBox(r,n,e,i,s)}distanceToBorder(e,r){return this._distanceToBorder(e,r)}}let oye=class extends Ea{constructor(e,r,n){super(e,r,n)}draw(e,r,n,i,s,a){return this._drawShape(e,"triangle",3,r,n,i,s,a)}distanceToBorder(e,r){return this._distanceToBorder(e,r)}};class lye extends Ea{constructor(e,r,n){super(e,r,n)}draw(e,r,n,i,s,a){return this._drawShape(e,"triangleDown",3,r,n,i,s,a)}distanceToBorder(e,r){return this._distanceToBorder(e,r)}}function c7(t,e){var r=Pt(t);if(ha){var n=ha(t);e&&(n=Yr(n).call(n,function(i){return Sa(t,i).enumerable})),r.push.apply(r,n)}return r}function d7(t){for(var e=1;e<arguments.length;e++){var r,n,i=arguments[e]!=null?arguments[e]:{};e%2?Ze(r=c7(Object(i),!0)).call(r,function(s){Vi(t,s,i[s])}):fa?Pm(t,fa(i)):Ze(n=c7(Object(i))).call(n,function(s){Cm(t,s,Sa(i,s))})}return t}class ft{constructor(e,r,n,i,s,a){this.options=sa(s),this.globalOptions=s,this.defaultOptions=a,this.body=r,this.edges=[],this.id=void 0,this.imagelist=n,this.grouplist=i,this.x=void 0,this.y=void 0,this.baseSize=this.options.size,this.baseFontSize=this.options.font.size,this.predefinedPosition=!1,this.selected=!1,this.hover=!1,this.labelModule=new $l(this.body,this.options,!1),this.setOptions(e)}attachEdge(e){var r;Ve(r=this.edges).call(r,e)===-1&&this.edges.push(e)}detachEdge(e){var r;const n=Ve(r=this.edges).call(r,e);if(n!=-1){var i;Ji(i=this.edges).call(i,n,1)}}setOptions(e){const r=this.options.shape;if(!e)return;if(typeof e.color<"u"&&(this._localColor=e.color),e.id!==void 0&&(this.id=e.id),this.id===void 0)throw new Error("Node must have an id");ft.checkMass(e,this.id),e.x!==void 0&&(e.x===null?(this.x=void 0,this.predefinedPosition=!1):(this.x=Zn(e.x),this.predefinedPosition=!0)),e.y!==void 0&&(e.y===null?(this.y=void 0,this.predefinedPosition=!1):(this.y=Zn(e.y),this.predefinedPosition=!0)),e.size!==void 0&&(this.baseSize=e.size),e.value!==void 0&&(e.value=OY(e.value)),ft.parseOptions(this.options,e,!0,this.globalOptions,this.grouplist);const n=[e,this.options,this.defaultOptions];return this.chooser=HN("node",n),this._load_images(),this.updateLabelModule(e),e.opacity!==void 0&&ft.checkOpacity(e.opacity)&&(this.options.opacity=e.opacity),this.updateShape(r),e.hidden!==void 0||e.physics!==void 0}_load_images(){if((this.options.shape==="circularImage"||this.options.shape==="image")&&this.options.image===void 0)throw new Error("Option image must be defined for node type '"+this.options.shape+"'");if(this.options.image!==void 0){if(this.imagelist===void 0)throw new Error("Internal Error: No images provided");if(typeof this.options.image=="string")this.imageObj=this.imagelist.load(this.options.image,this.options.brokenImage,this.id);else{if(this.options.image.unselected===void 0)throw new Error("No unselected image provided");this.imageObj=this.imagelist.load(this.options.image.unselected,this.options.brokenImage,this.id),this.options.image.selected!==void 0?this.imageObjAlt=this.imagelist.load(this.options.image.selected,this.options.brokenImage,this.id):this.imageObjAlt=void 0}}}static checkOpacity(e){return 0<=e&&e<=1}static checkCoordinateOrigin(e){return e===void 0||e==="center"||e==="top-left"}static updateGroupOptions(e,r,n){var i;if(n===void 0)return;const s=e.group;if(r!==void 0&&r.group!==void 0&&s!==r.group)throw new Error("updateGroupOptions: group values in options don't match.");if(!(typeof s=="number"||typeof s=="string"&&s!=""))return;const o=n.get(s);o.opacity!==void 0&&r.opacity===void 0&&(ft.checkOpacity(o.opacity)||(console.error("Invalid option for node opacity. Value must be between 0 and 1, found: "+o.opacity),o.opacity=void 0));const l=Yr(i=gge(r)).call(i,u=>r[u]!=null);l.push("font"),mp(l,e,o),e.color=yP(e.color)}static parseOptions(e,r){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},s=arguments.length>4?arguments[4]:void 0;if(mp(["color","fixed","shadow"],e,r,n),ft.checkMass(r),e.opacity!==void 0&&(ft.checkOpacity(e.opacity)||(console.error("Invalid option for node opacity. Value must be between 0 and 1, found: "+e.opacity),e.opacity=void 0)),r.opacity!==void 0&&(ft.checkOpacity(r.opacity)||(console.error("Invalid option for node opacity. Value must be between 0 and 1, found: "+r.opacity),r.opacity=void 0)),r.shapeProperties&&!ft.checkCoordinateOrigin(r.shapeProperties.coordinateOrigin)&&console.error("Invalid option for node coordinateOrigin, found: "+r.shapeProperties.coordinateOrigin),Nn(e,r,"shadow",i),r.color!==void 0&&r.color!==null){const o=yP(r.color);aY(e.color,o)}else n===!0&&r.color===null&&(e.color=sa(i.color));r.fixed!==void 0&&r.fixed!==null&&(typeof r.fixed=="boolean"?(e.fixed.x=r.fixed,e.fixed.y=r.fixed):(r.fixed.x!==void 0&&typeof r.fixed.x=="boolean"&&(e.fixed.x=r.fixed.x),r.fixed.y!==void 0&&typeof r.fixed.y=="boolean"&&(e.fixed.y=r.fixed.y))),n===!0&&r.font===null&&(e.font=sa(i.font)),ft.updateGroupOptions(e,r,s),r.scaling!==void 0&&Nn(e.scaling,r.scaling,"label",i.scaling)}getFormattingValues(){const e={color:this.options.color.background,opacity:this.options.opacity,borderWidth:this.options.borderWidth,borderColor:this.options.color.border,size:this.options.size,borderDashes:this.options.shapeProperties.borderDashes,borderRadius:this.options.shapeProperties.borderRadius,shadow:this.options.shadow.enabled,shadowColor:this.options.shadow.color,shadowSize:this.options.shadow.size,shadowX:this.options.shadow.x,shadowY:this.options.shadow.y};if(this.selected||this.hover?this.chooser===!0?this.selected?(this.options.borderWidthSelected!=null?e.borderWidth=this.options.borderWidthSelected:e.borderWidth*=2,e.color=this.options.color.highlight.background,e.borderColor=this.options.color.highlight.border,e.shadow=this.options.shadow.enabled):this.hover&&(e.color=this.options.color.hover.background,e.borderColor=this.options.color.hover.border,e.shadow=this.options.shadow.enabled):typeof this.chooser=="function"&&(this.chooser(e,this.options.id,this.selected,this.hover),e.shadow===!1&&(e.shadowColor!==this.options.shadow.color||e.shadowSize!==this.options.shadow.size||e.shadowX!==this.options.shadow.x||e.shadowY!==this.options.shadow.y)&&(e.shadow=!0)):e.shadow=this.options.shadow.enabled,this.options.opacity!==void 0){const r=this.options.opacity;e.borderColor=Rn(e.borderColor,r),e.color=Rn(e.color,r),e.shadowColor=Rn(e.shadowColor,r)}return e}updateLabelModule(e){(this.options.label===void 0||this.options.label===null)&&(this.options.label=""),ft.updateGroupOptions(this.options,d7(d7({},e),{},{color:e&&e.color||this._localColor||void 0}),this.grouplist);const r=this.grouplist.get(this.options.group,!1),n=[e,this.options,r,this.globalOptions,this.defaultOptions];this.labelModule.update(this.options,n),this.labelModule.baseSize!==void 0&&(this.baseFontSize=this.labelModule.baseSize)}updateShape(e){if(e===this.options.shape&&this.shape)this.shape.setOptions(this.options,this.imageObj,this.imageObjAlt);else switch(this.options.shape){case"box":this.shape=new Kge(this.options,this.body,this.labelModule);break;case"circle":this.shape=new Gge(this.options,this.body,this.labelModule);break;case"circularImage":this.shape=new Yge(this.options,this.body,this.labelModule,this.imageObj,this.imageObjAlt);break;case"custom":this.shape=new Xge(this.options,this.body,this.labelModule,this.options.ctxRenderer);break;case"database":this.shape=new Jge(this.options,this.body,this.labelModule);break;case"diamond":this.shape=new Zge(this.options,this.body,this.labelModule);break;case"dot":this.shape=new eye(this.options,this.body,this.labelModule);break;case"ellipse":this.shape=new u7(this.options,this.body,this.labelModule);break;case"icon":this.shape=new tye(this.options,this.body,this.labelModule);break;case"image":this.shape=new rye(this.options,this.body,this.labelModule,this.imageObj,this.imageObjAlt);break;case"square":this.shape=new nye(this.options,this.body,this.labelModule);break;case"hexagon":this.shape=new iye(this.options,this.body,this.labelModule);break;case"star":this.shape=new sye(this.options,this.body,this.labelModule);break;case"text":this.shape=new aye(this.options,this.body,this.labelModule);break;case"triangle":this.shape=new oye(this.options,this.body,this.labelModule);break;case"triangleDown":this.shape=new lye(this.options,this.body,this.labelModule);break;default:this.shape=new u7(this.options,this.body,this.labelModule);break}this.needsRefresh()}select(){this.selected=!0,this.needsRefresh()}unselect(){this.selected=!1,this.needsRefresh()}needsRefresh(){this.shape.refreshNeeded=!0}getTitle(){return this.options.title}distanceToBorder(e,r){return this.shape.distanceToBorder(e,r)}isFixed(){return this.options.fixed.x&&this.options.fixed.y}isSelected(){return this.selected}getValue(){return this.options.value}getLabelSize(){return this.labelModule.size()}setValueRange(e,r,n){if(this.options.value!==void 0){const i=this.options.scaling.customScalingFunction(e,r,n,this.options.value),s=this.options.scaling.max-this.options.scaling.min;if(this.options.scaling.label.enabled===!0){const a=this.options.scaling.label.max-this.options.scaling.label.min;this.options.font.size=this.options.scaling.label.min+i*a}this.options.size=this.options.scaling.min+i*s}else this.options.size=this.baseSize,this.options.font.size=this.baseFontSize;this.updateLabelModule()}draw(e){const r=this.getFormattingValues();return this.shape.draw(e,this.x,this.y,this.selected,this.hover,r)||{}}updateBoundingBox(e){this.shape.updateBoundingBox(this.x,this.y,e)}resize(e){const r=this.getFormattingValues();this.shape.resize(e,this.selected,this.hover,r)}getItemsOnPoint(e){const r=[];return this.labelModule.visible()&&SP(this.labelModule.getSize(),e)&&r.push({nodeId:this.id,labelId:0}),SP(this.shape.boundingBox,e)&&r.push({nodeId:this.id}),r}isOverlappingWith(e){return this.shape.left<e.right&&this.shape.left+this.shape.width>e.left&&this.shape.top<e.bottom&&this.shape.top+this.shape.height>e.top}isBoundingBoxOverlappingWith(e){return this.shape.boundingBox.left<e.right&&this.shape.boundingBox.right>e.left&&this.shape.boundingBox.top<e.bottom&&this.shape.boundingBox.bottom>e.top}static checkMass(e,r){if(e.mass!==void 0&&e.mass<=0){let n="";r!==void 0&&(n=" in node id: "+r),console.error("%cNegative or zero mass disallowed"+n+", setting mass to 1.",cY),e.mass=1}}}class uye{constructor(e,r,n,i){var s;if(this.body=e,this.images=r,this.groups=n,this.layoutEngine=i,this.body.functions.createNode=Y(s=this.create).call(s,this),this.nodesListeners={add:(a,o)=>{this.add(o.items)},update:(a,o)=>{this.update(o.items,o.data,o.oldData)},remove:(a,o)=>{this.remove(o.items)}},this.defaultOptions={borderWidth:1,borderWidthSelected:void 0,brokenImage:void 0,color:{border:"#2B7CE9",background:"#97C2FC",highlight:{border:"#2B7CE9",background:"#D2E5FF"},hover:{border:"#2B7CE9",background:"#D2E5FF"}},opacity:void 0,fixed:{x:!1,y:!1},font:{color:"#343434",size:14,face:"arial",background:"none",strokeWidth:0,strokeColor:"#ffffff",align:"center",vadjust:0,multi:!1,bold:{mod:"bold"},boldital:{mod:"bold italic"},ital:{mod:"italic"},mono:{mod:"",size:15,face:"monospace",vadjust:2}},group:void 0,hidden:!1,icon:{face:"FontAwesome",code:void 0,size:50,color:"#2B7CE9"},image:void 0,imagePadding:{top:0,right:0,bottom:0,left:0},label:void 0,labelHighlightBold:!0,level:void 0,margin:{top:5,right:5,bottom:5,left:5},mass:1,physics:!0,scaling:{min:10,max:30,label:{enabled:!1,min:14,max:30,maxVisible:30,drawThreshold:5},customScalingFunction:function(a,o,l,u){if(o===a)return .5;{const d=1/(o-a);return Math.max(0,(u-a)*d)}}},shadow:{enabled:!1,color:"rgba(0,0,0,0.5)",size:10,x:5,y:5},shape:"ellipse",shapeProperties:{borderDashes:!1,borderRadius:6,interpolation:!0,useImageSize:!1,useBorderWithImage:!1,coordinateOrigin:"center"},size:25,title:void 0,value:void 0,x:void 0,y:void 0},this.defaultOptions.mass<=0)throw"Internal error: mass in defaultOptions of NodesHandler may not be zero or negative";this.options=sa(this.defaultOptions),this.bindEventListeners()}bindEventListeners(){var e,r;this.body.emitter.on("refreshNodes",Y(e=this.refresh).call(e,this)),this.body.emitter.on("refresh",Y(r=this.refresh).call(r,this)),this.body.emitter.on("destroy",()=>{$e(this.nodesListeners,(n,i)=>{this.body.data.nodes&&this.body.data.nodes.off(i,n)}),delete this.body.functions.createNode,delete this.nodesListeners.add,delete this.nodesListeners.update,delete this.nodesListeners.remove,delete this.nodesListeners})}setOptions(e){if(e!==void 0){if(ft.parseOptions(this.options,e),e.opacity!==void 0&&(_P(e.opacity)||!Ba(e.opacity)||e.opacity<0||e.opacity>1?console.error("Invalid option for node opacity. Value must be between 0 and 1, found: "+e.opacity):this.options.opacity=e.opacity),e.shape!==void 0)for(const r in this.body.nodes)Object.prototype.hasOwnProperty.call(this.body.nodes,r)&&this.body.nodes[r].updateShape();if(typeof e.font<"u"||typeof e.widthConstraint<"u"||typeof e.heightConstraint<"u")for(const r of Pt(this.body.nodes))this.body.nodes[r].updateLabelModule(),this.body.nodes[r].needsRefresh();if(e.size!==void 0)for(const r in this.body.nodes)Object.prototype.hasOwnProperty.call(this.body.nodes,r)&&this.body.nodes[r].needsRefresh();(e.hidden!==void 0||e.physics!==void 0)&&this.body.emitter.emit("_dataChanged")}}setData(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;const n=this.body.data.nodes;if(iG("id",e))this.body.data.nodes=e;else if(It(e))this.body.data.nodes=new du,this.body.data.nodes.add(e);else if(!e)this.body.data.nodes=new du;else throw new TypeError("Array or DataSet expected");if(n&&$e(this.nodesListeners,function(i,s){n.off(s,i)}),this.body.nodes={},this.body.data.nodes){const i=this;$e(this.nodesListeners,function(a,o){i.body.data.nodes.on(o,a)});const s=this.body.data.nodes.getIds();this.add(s,!0)}r===!1&&this.body.emitter.emit("_dataChanged")}add(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,n;const i=[];for(let s=0;s<e.length;s++){n=e[s];const a=this.body.data.nodes.get(n),o=this.create(a);i.push(o),this.body.nodes[n]=o}this.layoutEngine.positionInitially(i),r===!1&&this.body.emitter.emit("_dataChanged")}update(e,r,n){const i=this.body.nodes;let s=!1;for(let a=0;a<e.length;a++){const o=e[a];let l=i[o];const u=r[a];l!==void 0?l.setOptions(u)&&(s=!0):(s=!0,l=this.create(u),i[o]=l)}!s&&n!==void 0&&(s=yve(r).call(r,function(a,o){const l=n[o];return l&&l.level!==a.level})),s===!0?this.body.emitter.emit("_dataChanged"):this.body.emitter.emit("_dataUpdated")}remove(e){const r=this.body.nodes;for(let n=0;n<e.length;n++){const i=e[n];delete r[i]}this.body.emitter.emit("_dataChanged")}create(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:ft;return new r(e,this.body,this.images,this.groups,this.options,this.defaultOptions)}refresh(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;$e(this.body.nodes,(r,n)=>{const i=this.body.data.nodes.get(n);i!==void 0&&(e===!0&&r.setOptions({x:null,y:null}),r.setOptions({fixed:!1}),r.setOptions(i))})}getPositions(e){const r={};if(e!==void 0){if(It(e)===!0){for(let n=0;n<e.length;n++)if(this.body.nodes[e[n]]!==void 0){const i=this.body.nodes[e[n]];r[e[n]]={x:Math.round(i.x),y:Math.round(i.y)}}}else if(this.body.nodes[e]!==void 0){const n=this.body.nodes[e];r[e]={x:Math.round(n.x),y:Math.round(n.y)}}}else for(let n=0;n<this.body.nodeIndices.length;n++){const i=this.body.nodes[this.body.nodeIndices[n]];r[this.body.nodeIndices[n]]={x:Math.round(i.x),y:Math.round(i.y)}}return r}getPosition(e){if(e==null)throw new TypeError("No id was specified for getPosition method.");if(this.body.nodes[e]==null)throw new ReferenceError("NodeId provided for getPosition does not exist. Provided: ".concat(e));return{x:Math.round(this.body.nodes[e].x),y:Math.round(this.body.nodes[e].y)}}storePositions(){const e=[],r=this.body.data.nodes.getDataSet();for(const n of r.get()){const i=n.id,s=this.body.nodes[i],a=Math.round(s.x),o=Math.round(s.y);(n.x!==a||n.y!==o)&&e.push({id:i,x:a,y:o})}r.update(e)}getBoundingBox(e){if(this.body.nodes[e]!==void 0)return this.body.nodes[e].shape.boundingBox}getConnectedNodes(e,r){const n=[];if(this.body.nodes[e]!==void 0){const i=this.body.nodes[e],s={};for(let a=0;a<i.edges.length;a++){const o=i.edges[a];r!=="to"&&o.toId==i.id?s[o.fromId]===void 0&&(n.push(o.fromId),s[o.fromId]=!0):r!=="from"&&o.fromId==i.id&&s[o.toId]===void 0&&(n.push(o.toId),s[o.toId]=!0)}}return n}getConnectedEdges(e){const r=[];if(this.body.nodes[e]!==void 0){const n=this.body.nodes[e];for(let i=0;i<n.edges.length;i++)r.push(n.edges[i].id)}else console.error("NodeId provided for getConnectedEdges does not exist. Provided: ",e);return r}moveNode(e,r,n){this.body.nodes[e]!==void 0?(this.body.nodes[e].x=Number(r),this.body.nodes[e].y=Number(n),Zi(()=>{this.body.emitter.emit("startSimulation")},0)):console.error("Node id supplied to moveNode does not exist. Provided: ",e)}}var h7={},f7;function cye(){if(f7)return h7;f7=1;var t=we(),e=Math.hypot,r=Math.abs,n=Math.sqrt,i=!!e&&e(1/0,NaN)!==1/0;return t({target:"Math",stat:!0,arity:2,forced:i},{hypot:function(a,o){for(var l=0,u=0,d=arguments.length,h=0,f,p;u<d;)f=r(arguments[u++]),h<f?(p=h/f,l=l*p*p+1,h=f):f>0?(p=f/h,l+=p*p):l+=f;return h===1/0?1/0:h*n(l)}}),h7}var qE,p7;function dye(){if(p7)return qE;p7=1,cye();var t=Ye();return qE=t.Math.hypot,qE}var ME,m7;function hye(){if(m7)return ME;m7=1;var t=dye();return ME=t,ME}var AE,v7;function fye(){return v7||(v7=1,AE=hye()),AE}var pye=fye(),mye=Pe(pye);class $t{static transform(e,r){It(e)||(e=[e]);const n=r.point.x,i=r.point.y,s=r.angle,a=r.length;for(let o=0;o<e.length;++o){const l=e[o],u=l.x*Math.cos(s)-l.y*Math.sin(s),d=l.x*Math.sin(s)+l.y*Math.cos(s);l.x=n+a*u,l.y=i+a*d}}static drawPath(e,r){e.beginPath(),e.moveTo(r[0].x,r[0].y);for(let n=1;n<r.length;++n)e.lineTo(r[n].x,r[n].y);e.closePath()}}let vye=class extends $t{static draw(e,r){if(r.image){e.save(),e.translate(r.point.x,r.point.y),e.rotate(Math.PI/2+r.angle);const n=r.imageWidth!=null?r.imageWidth:r.image.width,i=r.imageHeight!=null?r.imageHeight:r.image.height;r.image.drawImageAtPosition(e,1,-n/2,0,n,i),e.restore()}return!1}};class gye extends $t{static draw(e,r){const n=[{x:0,y:0},{x:-1,y:.3},{x:-.9,y:0},{x:-1,y:-.3}];return $t.transform(n,r),$t.drawPath(e,n),!0}}class yye{static draw(e,r){const n=[{x:-1,y:0},{x:0,y:.3},{x:-.4,y:0},{x:0,y:-.3}];return $t.transform(n,r),$t.drawPath(e,n),!0}}class bye{static draw(e,r){const n={x:-.4,y:0};$t.transform(n,r),e.strokeStyle=e.fillStyle,e.fillStyle="rgba(0, 0, 0, 0)";const i=Math.PI,s=r.angle-i/2,a=r.angle+i/2;return e.beginPath(),e.arc(n.x,n.y,r.length*.4,s,a,!1),e.stroke(),!0}}class wye{static draw(e,r){const n={x:-.3,y:0};$t.transform(n,r),e.strokeStyle=e.fillStyle,e.fillStyle="rgba(0, 0, 0, 0)";const i=Math.PI,s=r.angle+i/2,a=r.angle+3*i/2;return e.beginPath(),e.arc(n.x,n.y,r.length*.4,s,a,!1),e.stroke(),!0}}class xye{static draw(e,r){const n=[{x:.02,y:0},{x:-1,y:.3},{x:-1,y:-.3}];return $t.transform(n,r),$t.drawPath(e,n),!0}}class _ye{static draw(e,r){const n=[{x:0,y:.3},{x:0,y:-.3},{x:-1,y:0}];return $t.transform(n,r),$t.drawPath(e,n),!0}}class Sye{static draw(e,r){const n={x:-.4,y:0};return $t.transform(n,r),bN(e,n.x,n.y,r.length*.4),!0}}class Eye{static draw(e,r){const n=[{x:0,y:.5},{x:0,y:-.5},{x:-.15,y:-.5},{x:-.15,y:.5}];return $t.transform(n,r),$t.drawPath(e,n),!0}}class Oye{static draw(e,r){const n=[{x:0,y:.3},{x:0,y:-.3},{x:-.6,y:-.3},{x:-.6,y:.3}];return $t.transform(n,r),$t.drawPath(e,n),!0}}class Pye{static draw(e,r){const n=[{x:0,y:0},{x:-.5,y:-.3},{x:-1,y:0},{x:-.5,y:.3}];return $t.transform(n,r),$t.drawPath(e,n),!0}}class Cye{static draw(e,r){const n=[{x:-1,y:.3},{x:-.5,y:0},{x:-1,y:-.3},{x:0,y:0}];return $t.transform(n,r),$t.drawPath(e,n),!0}}class NY{static draw(e,r){let n;switch(r.type&&(n=r.type.toLowerCase()),n){case"image":return vye.draw(e,r);case"circle":return Sye.draw(e,r);case"box":return Oye.draw(e,r);case"crow":return yye.draw(e,r);case"curve":return bye.draw(e,r);case"diamond":return Pye.draw(e,r);case"inv_curve":return wye.draw(e,r);case"triangle":return xye.draw(e,r);case"inv_triangle":return _ye.draw(e,r);case"bar":return Eye.draw(e,r);case"vee":return Cye.draw(e,r);case"arrow":default:return gye.draw(e,r)}}}function g7(t,e){var r=Pt(t);if(ha){var n=ha(t);e&&(n=Yr(n).call(n,function(i){return Sa(t,i).enumerable})),r.push.apply(r,n)}return r}function y7(t){for(var e=1;e<arguments.length;e++){var r,n,i=arguments[e]!=null?arguments[e]:{};e%2?Ze(r=g7(Object(i),!0)).call(r,function(s){Vi(t,s,i[s])}):fa?Pm(t,fa(i)):Ze(n=g7(Object(i))).call(n,function(s){Cm(t,s,Sa(i,s))})}return t}class TY{constructor(e,r,n){Vi(this,"color",{}),Vi(this,"colorDirty",!0),Vi(this,"hoverWidth",1.5),Vi(this,"selectionWidth",2),this._body=r,this._labelModule=n,this.setOptions(e),this.fromPoint=this.from,this.toPoint=this.to}connect(){this.from=this._body.nodes[this.options.from],this.to=this._body.nodes[this.options.to]}cleanup(){return!1}setOptions(e){this.options=e,this.from=this._body.nodes[this.options.from],this.to=this._body.nodes[this.options.to],this.id=this.options.id}drawLine(e,r,n,i){let s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:this.getViaNode();e.strokeStyle=this.getColor(e,r),e.lineWidth=r.width,r.dashes!==!1?this._drawDashedLine(e,r,s):this._drawLine(e,r,s)}_drawLine(e,r,n,i,s){if(this.from!=this.to)this._line(e,r,n,i,s);else{const[a,o,l]=this._getCircleData(e);this._circle(e,r,a,o,l)}}_drawDashedLine(e,r,n,i,s){e.lineCap="round";const a=It(r.dashes)?r.dashes:[5,5];if(e.setLineDash!==void 0){if(e.save(),e.setLineDash(a),e.lineDashOffset=0,this.from!=this.to)this._line(e,r,n);else{const[o,l,u]=this._getCircleData(e);this._circle(e,r,o,l,u)}e.setLineDash([0]),e.lineDashOffset=0,e.restore()}else{if(this.from!=this.to)pG(e,this.from.x,this.from.y,this.to.x,this.to.y,a);else{const[o,l,u]=this._getCircleData(e);this._circle(e,r,o,l,u)}this.enableShadow(e,r),e.stroke(),this.disableShadow(e,r)}}findBorderPosition(e,r,n){return this.from!=this.to?this._findBorderPosition(e,r,n):this._findBorderPositionCircle(e,r,n)}findBorderPositions(e){if(this.from!=this.to)return{from:this._findBorderPosition(this.from,e),to:this._findBorderPosition(this.to,e)};{var r;const[n,i]=xi(r=this._getCircleData(e)).call(r,0,2);return{from:this._findBorderPositionCircle(this.from,e,{x:n,y:i,low:.25,high:.6,direction:-1}),to:this._findBorderPositionCircle(this.from,e,{x:n,y:i,low:.6,high:.8,direction:1})}}}_getCircleData(e){const r=this.options.selfReference.size;e!==void 0&&this.from.shape.width===void 0&&this.from.shape.resize(e);const n=PY(e,this.options.selfReference.angle,r,this.from);return[n.x,n.y,r]}_pointOnCircle(e,r,n,i){const s=i*2*Math.PI;return{x:e+n*Math.cos(s),y:r-n*Math.sin(s)}}_findBorderPositionCircle(e,r,n){const i=n.x,s=n.y;let a=n.low,o=n.high;const l=n.direction,u=10,d=this.options.selfReference.size,h=.05;let f,p=(a+o)*.5,m=0;this.options.arrowStrikethrough===!0&&(l===-1?m=this.options.endPointOffset.from:l===1&&(m=this.options.endPointOffset.to));let y=0;do{p=(a+o)*.5,f=this._pointOnCircle(i,s,d,p);const b=Math.atan2(e.y-f.y,e.x-f.x),g=e.distanceToBorder(r,b)+m,v=Math.sqrt(Math.pow(f.x-e.x,2)+Math.pow(f.y-e.y,2)),x=g-v;if(Math.abs(x)<h)break;x>0?l>0?a=p:o=p:l>0?o=p:a=p,++y}while(a<=o&&y<u);return y7(y7({},f),{},{t:p})}getLineWidth(e,r){return e===!0?Math.max(this.selectionWidth,.3/this._body.view.scale):r===!0?Math.max(this.hoverWidth,.3/this._body.view.scale):Math.max(this.options.width,.3/this._body.view.scale)}getColor(e,r){if(r.inheritsColor!==!1){if(r.inheritsColor==="both"&&this.from.id!==this.to.id){const n=e.createLinearGradient(this.from.x,this.from.y,this.to.x,this.to.y);let i=this.from.options.color.highlight.border,s=this.to.options.color.highlight.border;return this.from.selected===!1&&this.to.selected===!1?(i=Rn(this.from.options.color.border,r.opacity),s=Rn(this.to.options.color.border,r.opacity)):this.from.selected===!0&&this.to.selected===!1?s=this.to.options.color.border:this.from.selected===!1&&this.to.selected===!0&&(i=this.from.options.color.border),n.addColorStop(0,i),n.addColorStop(1,s),n}return r.inheritsColor==="to"?Rn(this.to.options.color.border,r.opacity):Rn(this.from.options.color.border,r.opacity)}else return Rn(r.color,r.opacity)}_circle(e,r,n,i,s){this.enableShadow(e,r);let a=0,o=Math.PI*2;if(!this.options.selfReference.renderBehindTheNode){const l=this.options.selfReference.angle,u=this.options.selfReference.angle+Math.PI,d=this._findBorderPositionCircle(this.from,e,{x:n,y:i,low:l,high:u,direction:-1}),h=this._findBorderPositionCircle(this.from,e,{x:n,y:i,low:l,high:u,direction:1});a=Math.atan2(d.y-i,d.x-n),o=Math.atan2(h.y-i,h.x-n)}e.beginPath(),e.arc(n,i,s,a,o,!1),e.stroke(),this.disableShadow(e,r)}getDistanceToEdge(e,r,n,i,s,a){if(this.from!=this.to)return this._getDistanceToEdge(e,r,n,i,s,a);{const[o,l,u]=this._getCircleData(void 0),d=o-s,h=l-a;return Math.abs(Math.sqrt(d*d+h*h)-u)}}_getDistanceToLine(e,r,n,i,s,a){const o=n-e,l=i-r,u=o*o+l*l;let d=((s-e)*o+(a-r)*l)/u;d>1?d=1:d<0&&(d=0);const h=e+d*o,f=r+d*l,p=h-s,m=f-a;return Math.sqrt(p*p+m*m)}getArrowData(e,r,n,i,s,a){let o,l,u,d,h,f,p;const m=a.width;r==="from"?(u=this.from,d=this.to,h=a.fromArrowScale<0,f=Math.abs(a.fromArrowScale),p=a.fromArrowType):r==="to"?(u=this.to,d=this.from,h=a.toArrowScale<0,f=Math.abs(a.toArrowScale),p=a.toArrowType):(u=this.to,d=this.from,h=a.middleArrowScale<0,f=Math.abs(a.middleArrowScale),p=a.middleArrowType);const y=15*f+3*m;if(u!=d){const x=mye(u.x-d.x,u.y-d.y),w=y/x;if(r!=="middle")if(this.options.smooth.enabled===!0){const _=this._findBorderPosition(u,e,{via:n}),E=this.getPoint(_.t+w*(r==="from"?1:-1),n);o=Math.atan2(_.y-E.y,_.x-E.x),l=_}else o=Math.atan2(u.y-d.y,u.x-d.x),l=this._findBorderPosition(u,e);else{const _=(h?-w:w)/2,E=this.getPoint(.5+_,n),O=this.getPoint(.5-_,n);o=Math.atan2(E.y-O.y,E.x-O.x),l=this.getPoint(.5,n)}}else{const[x,w,_]=this._getCircleData(e);if(r==="from"){const E=this.options.selfReference.angle,O=this.options.selfReference.angle+Math.PI,S=this._findBorderPositionCircle(this.from,e,{x,y:w,low:E,high:O,direction:-1});o=S.t*-2*Math.PI+1.5*Math.PI+.1*Math.PI,l=S}else if(r==="to"){const E=this.options.selfReference.angle,O=this.options.selfReference.angle+Math.PI,S=this._findBorderPositionCircle(this.from,e,{x,y:w,low:E,high:O,direction:1});o=S.t*-2*Math.PI+1.5*Math.PI-1.1*Math.PI,l=S}else{const E=this.options.selfReference.angle/(2*Math.PI);l=this._pointOnCircle(x,w,_,E),o=E*-2*Math.PI+1.5*Math.PI+.1*Math.PI}}const b=l.x-y*.9*Math.cos(o),g=l.y-y*.9*Math.sin(o);return{point:l,core:{x:b,y:g},angle:o,length:y,type:p}}drawArrowHead(e,r,n,i,s){e.strokeStyle=this.getColor(e,r),e.fillStyle=e.strokeStyle,e.lineWidth=r.width,NY.draw(e,s)&&(this.enableShadow(e,r),mh(e).call(e),this.disableShadow(e,r))}enableShadow(e,r){r.shadow===!0&&(e.shadowColor=r.shadowColor,e.shadowBlur=r.shadowSize,e.shadowOffsetX=r.shadowX,e.shadowOffsetY=r.shadowY)}disableShadow(e,r){r.shadow===!0&&(e.shadowColor="rgba(0,0,0,0)",e.shadowBlur=0,e.shadowOffsetX=0,e.shadowOffsetY=0)}drawBackground(e,r){if(r.background!==!1){const n={strokeStyle:e.strokeStyle,lineWidth:e.lineWidth,dashes:e.dashes};e.strokeStyle=r.backgroundColor,e.lineWidth=r.backgroundSize,this.setStrokeDashed(e,r.backgroundDashes),e.stroke(),e.strokeStyle=n.strokeStyle,e.lineWidth=n.lineWidth,e.dashes=n.dashes,this.setStrokeDashed(e,r.dashes)}}setStrokeDashed(e,r){if(r!==!1)if(e.setLineDash!==void 0){const n=It(r)?r:[5,5];e.setLineDash(n)}else console.warn("setLineDash is not supported in this browser. The dashed stroke cannot be used.");else e.setLineDash!==void 0?e.setLineDash([]):console.warn("setLineDash is not supported in this browser. The dashed stroke cannot be used.")}}function b7(t,e){var r=Pt(t);if(ha){var n=ha(t);e&&(n=Yr(n).call(n,function(i){return Sa(t,i).enumerable})),r.push.apply(r,n)}return r}function w7(t){for(var e=1;e<arguments.length;e++){var r,n,i=arguments[e]!=null?arguments[e]:{};e%2?Ze(r=b7(Object(i),!0)).call(r,function(s){Vi(t,s,i[s])}):fa?Pm(t,fa(i)):Ze(n=b7(Object(i))).call(n,function(s){Cm(t,s,Sa(i,s))})}return t}class KN extends TY{constructor(e,r,n){super(e,r,n)}_findBorderPositionBezier(e,r){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this._getViaCoordinates();const i=10,s=.2;let a=!1,o=1,l=0,u=this.to,d,h,f=this.options.endPointOffset?this.options.endPointOffset.to:0;e.id===this.from.id&&(u=this.from,a=!0,f=this.options.endPointOffset?this.options.endPointOffset.from:0),this.options.arrowStrikethrough===!1&&(f=0);let p=0;do{h=(l+o)*.5,d=this.getPoint(h,n);const m=Math.atan2(u.y-d.y,u.x-d.x),y=u.distanceToBorder(r,m)+f,b=Math.sqrt(Math.pow(d.x-u.x,2)+Math.pow(d.y-u.y,2)),g=y-b;if(Math.abs(g)<s)break;g<0?a===!1?l=h:o=h:a===!1?o=h:l=h,++p}while(l<=o&&p<i);return w7(w7({},d),{},{t:h})}_getDistanceToBezierEdge(e,r,n,i,s,a,o){let l=1e9,u,d,h,f,p,m=e,y=r;for(d=1;d<10;d++)h=.1*d,f=Math.pow(1-h,2)*e+2*h*(1-h)*o.x+Math.pow(h,2)*n,p=Math.pow(1-h,2)*r+2*h*(1-h)*o.y+Math.pow(h,2)*i,d>0&&(u=this._getDistanceToLine(m,y,f,p,s,a),l=u<l?u:l),m=f,y=p;return l}_bezierCurve(e,r,n,i){e.beginPath(),e.moveTo(this.fromPoint.x,this.fromPoint.y),n!=null&&n.x!=null?i!=null&&i.x!=null?e.bezierCurveTo(n.x,n.y,i.x,i.y,this.toPoint.x,this.toPoint.y):e.quadraticCurveTo(n.x,n.y,this.toPoint.x,this.toPoint.y):e.lineTo(this.toPoint.x,this.toPoint.y),this.drawBackground(e,r),this.enableShadow(e,r),e.stroke(),this.disableShadow(e,r)}getViaNode(){return this._getViaCoordinates()}}class x7 extends KN{constructor(e,r,n){super(e,r,n),Vi(this,"via",this.via),this._boundFunction=()=>{this.positionBezierNode()},this._body.emitter.on("_repositionBezierNodes",this._boundFunction)}setOptions(e){super.setOptions(e);let r=!1;this.options.physics!==e.physics&&(r=!0),this.options=e,this.id=this.options.id,this.from=this._body.nodes[this.options.from],this.to=this._body.nodes[this.options.to],this.setupSupportNode(),this.connect(),r===!0&&(this.via.setOptions({physics:this.options.physics}),this.positionBezierNode())}connect(){this.from=this._body.nodes[this.options.from],this.to=this._body.nodes[this.options.to],this.from===void 0||this.to===void 0||this.options.physics===!1?this.via.setOptions({physics:!1}):this.from.id===this.to.id?this.via.setOptions({physics:!1}):this.via.setOptions({physics:!0})}cleanup(){return this._body.emitter.off("_repositionBezierNodes",this._boundFunction),this.via!==void 0?(delete this._body.nodes[this.via.id],this.via=void 0,!0):!1}setupSupportNode(){if(this.via===void 0){const e="edgeId:"+this.id,r=this._body.functions.createNode({id:e,shape:"circle",physics:!0,hidden:!0});this._body.nodes[e]=r,this.via=r,this.via.parentEdgeId=this.id,this.positionBezierNode()}}positionBezierNode(){this.via!==void 0&&this.from!==void 0&&this.to!==void 0?(this.via.x=.5*(this.from.x+this.to.x),this.via.y=.5*(this.from.y+this.to.y)):this.via!==void 0&&(this.via.x=0,this.via.y=0)}_line(e,r,n){this._bezierCurve(e,r,n)}_getViaCoordinates(){return this.via}getViaNode(){return this.via}getPoint(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.via;if(this.from===this.to){const[n,i,s]=this._getCircleData(),a=2*Math.PI*(1-e);return{x:n+s*Math.sin(a),y:i+s-s*(1-Math.cos(a))}}else return{x:Math.pow(1-e,2)*this.fromPoint.x+2*e*(1-e)*r.x+Math.pow(e,2)*this.toPoint.x,y:Math.pow(1-e,2)*this.fromPoint.y+2*e*(1-e)*r.y+Math.pow(e,2)*this.toPoint.y}}_findBorderPosition(e,r){return this._findBorderPositionBezier(e,r,this.via)}_getDistanceToEdge(e,r,n,i,s,a){return this._getDistanceToBezierEdge(e,r,n,i,s,a,this.via)}}class _7 extends KN{constructor(e,r,n){super(e,r,n)}_line(e,r,n){this._bezierCurve(e,r,n)}getViaNode(){return this._getViaCoordinates()}_getViaCoordinates(){const e=this.options.smooth.roundness,r=this.options.smooth.type;let n=Math.abs(this.from.x-this.to.x),i=Math.abs(this.from.y-this.to.y);if(r==="discrete"||r==="diagonalCross"){let s,a;n<=i?s=a=e*i:s=a=e*n,this.from.x>this.to.x&&(s=-s),this.from.y>=this.to.y&&(a=-a);let o=this.from.x+s,l=this.from.y+a;return r==="discrete"&&(n<=i?o=n<e*i?this.from.x:o:l=i<e*n?this.from.y:l),{x:o,y:l}}else if(r==="straightCross"){let s=(1-e)*n,a=(1-e)*i;return n<=i?(s=0,this.from.y<this.to.y&&(a=-a)):(this.from.x<this.to.x&&(s=-s),a=0),{x:this.to.x+s,y:this.to.y+a}}else if(r==="horizontal"){let s=(1-e)*n;return this.from.x<this.to.x&&(s=-s),{x:this.to.x+s,y:this.from.y}}else if(r==="vertical"){let s=(1-e)*i;return this.from.y<this.to.y&&(s=-s),{x:this.from.x,y:this.to.y+s}}else if(r==="curvedCW"){n=this.to.x-this.from.x,i=this.from.y-this.to.y;const s=Math.sqrt(n*n+i*i),a=Math.PI,l=(Math.atan2(i,n)+(e*.5+.5)*a)%(2*a);return{x:this.from.x+(e*.5+.5)*s*Math.sin(l),y:this.from.y+(e*.5+.5)*s*Math.cos(l)}}else if(r==="curvedCCW"){n=this.to.x-this.from.x,i=this.from.y-this.to.y;const s=Math.sqrt(n*n+i*i),a=Math.PI,l=(Math.atan2(i,n)+(-e*.5+.5)*a)%(2*a);return{x:this.from.x+(e*.5+.5)*s*Math.sin(l),y:this.from.y+(e*.5+.5)*s*Math.cos(l)}}else{let s,a;n<=i?s=a=e*i:s=a=e*n,this.from.x>this.to.x&&(s=-s),this.from.y>=this.to.y&&(a=-a);let o=this.from.x+s,l=this.from.y+a;return n<=i?this.from.x<=this.to.x?o=this.to.x<o?this.to.x:o:o=this.to.x>o?this.to.x:o:this.from.y>=this.to.y?l=this.to.y>l?this.to.y:l:l=this.to.y<l?this.to.y:l,{x:o,y:l}}}_findBorderPosition(e,r){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this._findBorderPositionBezier(e,r,n.via)}_getDistanceToEdge(e,r,n,i,s,a){let o=arguments.length>6&&arguments[6]!==void 0?arguments[6]:this._getViaCoordinates();return this._getDistanceToBezierEdge(e,r,n,i,s,a,o)}getPoint(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this._getViaCoordinates();const n=e,i=Math.pow(1-n,2)*this.fromPoint.x+2*n*(1-n)*r.x+Math.pow(n,2)*this.toPoint.x,s=Math.pow(1-n,2)*this.fromPoint.y+2*n*(1-n)*r.y+Math.pow(n,2)*this.toPoint.y;return{x:i,y:s}}}class Nye extends KN{constructor(e,r,n){super(e,r,n)}_getDistanceToBezierEdge2(e,r,n,i,s,a,o,l){let u=1e9,d=e,h=r;const f=[0,0,0,0];for(let p=1;p<10;p++){const m=.1*p;f[0]=Math.pow(1-m,3),f[1]=3*m*Math.pow(1-m,2),f[2]=3*Math.pow(m,2)*(1-m),f[3]=Math.pow(m,3);const y=f[0]*e+f[1]*o.x+f[2]*l.x+f[3]*n,b=f[0]*r+f[1]*o.y+f[2]*l.y+f[3]*i;if(p>0){const g=this._getDistanceToLine(d,h,y,b,s,a);u=g<u?g:u}d=y,h=b}return u}}class S7 extends Nye{constructor(e,r,n){super(e,r,n)}_line(e,r,n){const i=n[0],s=n[1];this._bezierCurve(e,r,i,s)}_getViaCoordinates(){const e=this.from.x-this.to.x,r=this.from.y-this.to.y;let n,i,s,a;const o=this.options.smooth.roundness;return(Math.abs(e)>Math.abs(r)||this.options.smooth.forceDirection===!0||this.options.smooth.forceDirection==="horizontal")&&this.options.smooth.forceDirection!=="vertical"?(i=this.from.y,a=this.to.y,n=this.from.x-o*e,s=this.to.x+o*e):(i=this.from.y-o*r,a=this.to.y+o*r,n=this.from.x,s=this.to.x),[{x:n,y:i},{x:s,y:a}]}getViaNode(){return this._getViaCoordinates()}_findBorderPosition(e,r){return this._findBorderPositionBezier(e,r)}_getDistanceToEdge(e,r,n,i,s,a){let[o,l]=arguments.length>6&&arguments[6]!==void 0?arguments[6]:this._getViaCoordinates();return this._getDistanceToBezierEdge2(e,r,n,i,s,a,o,l)}getPoint(e){let[r,n]=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this._getViaCoordinates();const i=e,s=[Math.pow(1-i,3),3*i*Math.pow(1-i,2),3*Math.pow(i,2)*(1-i),Math.pow(i,3)],a=s[0]*this.fromPoint.x+s[1]*r.x+s[2]*n.x+s[3]*this.toPoint.x,o=s[0]*this.fromPoint.y+s[1]*r.y+s[2]*n.y+s[3]*this.toPoint.y;return{x:a,y:o}}}class E7 extends TY{constructor(e,r,n){super(e,r,n)}_line(e,r){e.beginPath(),e.moveTo(this.fromPoint.x,this.fromPoint.y),e.lineTo(this.toPoint.x,this.toPoint.y),this.enableShadow(e,r),e.stroke(),this.disableShadow(e,r)}getViaNode(){}getPoint(e){return{x:(1-e)*this.fromPoint.x+e*this.toPoint.x,y:(1-e)*this.fromPoint.y+e*this.toPoint.y}}_findBorderPosition(e,r){let n=this.to,i=this.from;e.id===this.from.id&&(n=this.from,i=this.to);const s=Math.atan2(n.y-i.y,n.x-i.x),a=n.x-i.x,o=n.y-i.y,l=Math.sqrt(a*a+o*o),u=e.distanceToBorder(r,s),d=(l-u)/l;return{x:(1-d)*i.x+d*n.x,y:(1-d)*i.y+d*n.y,t:0}}_getDistanceToEdge(e,r,n,i,s,a){return this._getDistanceToLine(e,r,n,i,s,a)}}class aa{constructor(e,r,n,i,s){if(r===void 0)throw new Error("No body provided");this.options=sa(i),this.globalOptions=i,this.defaultOptions=s,this.body=r,this.imagelist=n,this.id=void 0,this.fromId=void 0,this.toId=void 0,this.selected=!1,this.hover=!1,this.labelDirty=!0,this.baseWidth=this.options.width,this.baseFontSize=this.options.font.size,this.from=void 0,this.to=void 0,this.edgeType=void 0,this.connected=!1,this.labelModule=new $l(this.body,this.options,!0),this.setOptions(e)}setOptions(e){if(!e)return;let r=typeof e.physics<"u"&&this.options.physics!==e.physics||typeof e.hidden<"u"&&(this.options.hidden||!1)!==(e.hidden||!1)||typeof e.from<"u"&&this.options.from!==e.from||typeof e.to<"u"&&this.options.to!==e.to;aa.parseOptions(this.options,e,!0,this.globalOptions),e.id!==void 0&&(this.id=e.id),e.from!==void 0&&(this.fromId=e.from),e.to!==void 0&&(this.toId=e.to),e.title!==void 0&&(this.title=e.title),e.value!==void 0&&(e.value=OY(e.value));const n=[e,this.options,this.defaultOptions];return this.chooser=HN("edge",n),this.updateLabelModule(e),r=this.updateEdgeType()||r,this._setInteractionWidths(),this.connect(),r}static parseOptions(e,r){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1;if(Ju(["endPointOffset","arrowStrikethrough","id","from","hidden","hoverWidth","labelHighlightBold","length","line","opacity","physics","scaling","selectionWidth","selfReferenceSize","selfReference","to","title","value","width","font","chosen","widthConstraint"],e,r,n),r.endPointOffset!==void 0&&r.endPointOffset.from!==void 0&&(Ba(r.endPointOffset.from)?e.endPointOffset.from=r.endPointOffset.from:(e.endPointOffset.from=i.endPointOffset.from!==void 0?i.endPointOffset.from:0,console.error("endPointOffset.from is not a valid number"))),r.endPointOffset!==void 0&&r.endPointOffset.to!==void 0&&(Ba(r.endPointOffset.to)?e.endPointOffset.to=r.endPointOffset.to:(e.endPointOffset.to=i.endPointOffset.to!==void 0?i.endPointOffset.to:0,console.error("endPointOffset.to is not a valid number"))),gp(r.label)?e.label=r.label:gp(e.label)||(e.label=void 0),Nn(e,r,"smooth",i),Nn(e,r,"shadow",i),Nn(e,r,"background",i),r.dashes!==void 0&&r.dashes!==null?e.dashes=r.dashes:n===!0&&r.dashes===null&&(e.dashes=io(i.dashes)),r.scaling!==void 0&&r.scaling!==null?(r.scaling.min!==void 0&&(e.scaling.min=r.scaling.min),r.scaling.max!==void 0&&(e.scaling.max=r.scaling.max),Nn(e.scaling,r.scaling,"label",i.scaling)):n===!0&&r.scaling===null&&(e.scaling=io(i.scaling)),r.arrows!==void 0&&r.arrows!==null)if(typeof r.arrows=="string"){const o=r.arrows.toLowerCase();e.arrows.to.enabled=Ve(o).call(o,"to")!=-1,e.arrows.middle.enabled=Ve(o).call(o,"middle")!=-1,e.arrows.from.enabled=Ve(o).call(o,"from")!=-1}else if(typeof r.arrows=="object")Nn(e.arrows,r.arrows,"to",i.arrows),Nn(e.arrows,r.arrows,"middle",i.arrows),Nn(e.arrows,r.arrows,"from",i.arrows);else throw new Error("The arrow newOptions can only be an object or a string. Refer to the documentation. You used:"+ph(r.arrows));else n===!0&&r.arrows===null&&(e.arrows=io(i.arrows));if(r.color!==void 0&&r.color!==null){const o=Rl(r.color)?{color:r.color,highlight:r.color,hover:r.color,inherit:!1,opacity:1}:r.color,l=e.color;if(s)at(l,i.color,!1,n);else for(const u in l)Object.prototype.hasOwnProperty.call(l,u)&&delete l[u];if(Rl(l))l.color=l,l.highlight=l,l.hover=l,l.inherit=!1,o.opacity===void 0&&(l.opacity=1);else{let u=!1;o.color!==void 0&&(l.color=o.color,u=!0),o.highlight!==void 0&&(l.highlight=o.highlight,u=!0),o.hover!==void 0&&(l.hover=o.hover,u=!0),o.inherit!==void 0&&(l.inherit=o.inherit),o.opacity!==void 0&&(l.opacity=Math.min(1,Math.max(0,o.opacity))),u===!0?l.inherit=!1:l.inherit===void 0&&(l.inherit="from")}}else n===!0&&r.color===null&&(e.color=sa(i.color));n===!0&&r.font===null&&(e.font=sa(i.font)),Object.prototype.hasOwnProperty.call(r,"selfReferenceSize")&&(console.warn("The selfReferenceSize property has been deprecated. Please use selfReference property instead. The selfReference can be set like thise selfReference:{size:30, angle:Math.PI / 4}"),e.selfReference.size=r.selfReferenceSize)}getFormattingValues(){const e=this.options.arrows.to===!0||this.options.arrows.to.enabled===!0,r=this.options.arrows.from===!0||this.options.arrows.from.enabled===!0,n=this.options.arrows.middle===!0||this.options.arrows.middle.enabled===!0,i=this.options.color.inherit,s={toArrow:e,toArrowScale:this.options.arrows.to.scaleFactor,toArrowType:this.options.arrows.to.type,toArrowSrc:this.options.arrows.to.src,toArrowImageWidth:this.options.arrows.to.imageWidth,toArrowImageHeight:this.options.arrows.to.imageHeight,middleArrow:n,middleArrowScale:this.options.arrows.middle.scaleFactor,middleArrowType:this.options.arrows.middle.type,middleArrowSrc:this.options.arrows.middle.src,middleArrowImageWidth:this.options.arrows.middle.imageWidth,middleArrowImageHeight:this.options.arrows.middle.imageHeight,fromArrow:r,fromArrowScale:this.options.arrows.from.scaleFactor,fromArrowType:this.options.arrows.from.type,fromArrowSrc:this.options.arrows.from.src,fromArrowImageWidth:this.options.arrows.from.imageWidth,fromArrowImageHeight:this.options.arrows.from.imageHeight,arrowStrikethrough:this.options.arrowStrikethrough,color:i?void 0:this.options.color.color,inheritsColor:i,opacity:this.options.color.opacity,hidden:this.options.hidden,length:this.options.length,shadow:this.options.shadow.enabled,shadowColor:this.options.shadow.color,shadowSize:this.options.shadow.size,shadowX:this.options.shadow.x,shadowY:this.options.shadow.y,dashes:this.options.dashes,width:this.options.width,background:this.options.background.enabled,backgroundColor:this.options.background.color,backgroundSize:this.options.background.size,backgroundDashes:this.options.background.dashes};if(this.selected||this.hover)if(this.chooser===!0){if(this.selected){const a=this.options.selectionWidth;typeof a=="function"?s.width=a(s.width):typeof a=="number"&&(s.width+=a),s.width=Math.max(s.width,.3/this.body.view.scale),s.color=this.options.color.highlight,s.shadow=this.options.shadow.enabled}else if(this.hover){const a=this.options.hoverWidth;typeof a=="function"?s.width=a(s.width):typeof a=="number"&&(s.width+=a),s.width=Math.max(s.width,.3/this.body.view.scale),s.color=this.options.color.hover,s.shadow=this.options.shadow.enabled}}else typeof this.chooser=="function"&&(this.chooser(s,this.options.id,this.selected,this.hover),s.color!==void 0&&(s.inheritsColor=!1),s.shadow===!1&&(s.shadowColor!==this.options.shadow.color||s.shadowSize!==this.options.shadow.size||s.shadowX!==this.options.shadow.x||s.shadowY!==this.options.shadow.y)&&(s.shadow=!0));else s.shadow=this.options.shadow.enabled,s.width=Math.max(s.width,.3/this.body.view.scale);return s}updateLabelModule(e){const r=[e,this.options,this.globalOptions,this.defaultOptions];this.labelModule.update(this.options,r),this.labelModule.baseSize!==void 0&&(this.baseFontSize=this.labelModule.baseSize)}updateEdgeType(){const e=this.options.smooth;let r=!1,n=!0;return this.edgeType!==void 0&&((this.edgeType instanceof x7&&e.enabled===!0&&e.type==="dynamic"||this.edgeType instanceof S7&&e.enabled===!0&&e.type==="cubicBezier"||this.edgeType instanceof _7&&e.enabled===!0&&e.type!=="dynamic"&&e.type!=="cubicBezier"||this.edgeType instanceof E7&&e.type.enabled===!1)&&(n=!1),n===!0&&(r=this.cleanup())),n===!0?e.enabled===!0?e.type==="dynamic"?(r=!0,this.edgeType=new x7(this.options,this.body,this.labelModule)):e.type==="cubicBezier"?this.edgeType=new S7(this.options,this.body,this.labelModule):this.edgeType=new _7(this.options,this.body,this.labelModule):this.edgeType=new E7(this.options,this.body,this.labelModule):this.edgeType.setOptions(this.options),r}connect(){this.disconnect(),this.from=this.body.nodes[this.fromId]||void 0,this.to=this.body.nodes[this.toId]||void 0,this.connected=this.from!==void 0&&this.to!==void 0,this.connected===!0?(this.from.attachEdge(this),this.to.attachEdge(this)):(this.from&&this.from.detachEdge(this),this.to&&this.to.detachEdge(this)),this.edgeType.connect()}disconnect(){this.from&&(this.from.detachEdge(this),this.from=void 0),this.to&&(this.to.detachEdge(this),this.to=void 0),this.connected=!1}getTitle(){return this.title}isSelected(){return this.selected}getValue(){return this.options.value}setValueRange(e,r,n){if(this.options.value!==void 0){const i=this.options.scaling.customScalingFunction(e,r,n,this.options.value),s=this.options.scaling.max-this.options.scaling.min;if(this.options.scaling.label.enabled===!0){const a=this.options.scaling.label.max-this.options.scaling.label.min;this.options.font.size=this.options.scaling.label.min+i*a}this.options.width=this.options.scaling.min+i*s}else this.options.width=this.baseWidth,this.options.font.size=this.baseFontSize;this._setInteractionWidths(),this.updateLabelModule()}_setInteractionWidths(){typeof this.options.hoverWidth=="function"?this.edgeType.hoverWidth=this.options.hoverWidth(this.options.width):this.edgeType.hoverWidth=this.options.hoverWidth+this.options.width,typeof this.options.selectionWidth=="function"?this.edgeType.selectionWidth=this.options.selectionWidth(this.options.width):this.edgeType.selectionWidth=this.options.selectionWidth+this.options.width}draw(e){const r=this.getFormattingValues();if(r.hidden)return;const n=this.edgeType.getViaNode();this.edgeType.drawLine(e,r,this.selected,this.hover,n),this.drawLabel(e,n)}drawArrows(e){const r=this.getFormattingValues();if(r.hidden)return;const n=this.edgeType.getViaNode(),i={};this.edgeType.fromPoint=this.edgeType.from,this.edgeType.toPoint=this.edgeType.to,r.fromArrow&&(i.from=this.edgeType.getArrowData(e,"from",n,this.selected,this.hover,r),r.arrowStrikethrough===!1&&(this.edgeType.fromPoint=i.from.core),r.fromArrowSrc&&(i.from.image=this.imagelist.load(r.fromArrowSrc)),r.fromArrowImageWidth&&(i.from.imageWidth=r.fromArrowImageWidth),r.fromArrowImageHeight&&(i.from.imageHeight=r.fromArrowImageHeight)),r.toArrow&&(i.to=this.edgeType.getArrowData(e,"to",n,this.selected,this.hover,r),r.arrowStrikethrough===!1&&(this.edgeType.toPoint=i.to.core),r.toArrowSrc&&(i.to.image=this.imagelist.load(r.toArrowSrc)),r.toArrowImageWidth&&(i.to.imageWidth=r.toArrowImageWidth),r.toArrowImageHeight&&(i.to.imageHeight=r.toArrowImageHeight)),r.middleArrow&&(i.middle=this.edgeType.getArrowData(e,"middle",n,this.selected,this.hover,r),r.middleArrowSrc&&(i.middle.image=this.imagelist.load(r.middleArrowSrc)),r.middleArrowImageWidth&&(i.middle.imageWidth=r.middleArrowImageWidth),r.middleArrowImageHeight&&(i.middle.imageHeight=r.middleArrowImageHeight)),r.fromArrow&&this.edgeType.drawArrowHead(e,r,this.selected,this.hover,i.from),r.middleArrow&&this.edgeType.drawArrowHead(e,r,this.selected,this.hover,i.middle),r.toArrow&&this.edgeType.drawArrowHead(e,r,this.selected,this.hover,i.to)}drawLabel(e,r){if(this.options.label!==void 0){const n=this.from,i=this.to;this.labelModule.differentState(this.selected,this.hover)&&this.labelModule.getTextSize(e,this.selected,this.hover);let s;if(n.id!=i.id){this.labelModule.pointToSelf=!1,s=this.edgeType.getPoint(.5,r),e.save();const a=this._getRotation(e);a.angle!=0&&(e.translate(a.x,a.y),e.rotate(a.angle)),this.labelModule.draw(e,s.x,s.y,this.selected,this.hover),e.restore()}else{this.labelModule.pointToSelf=!0;const a=PY(e,this.options.selfReference.angle,this.options.selfReference.size,n);s=this._pointOnCircle(a.x,a.y,this.options.selfReference.size,this.options.selfReference.angle),this.labelModule.draw(e,s.x,s.y,this.selected,this.hover)}}}getItemsOnPoint(e){const r=[];if(this.labelModule.visible()){const i=this._getRotation();SP(this.labelModule.getSize(),e,i)&&r.push({edgeId:this.id,labelId:0})}const n={left:e.x,top:e.y};return this.isOverlappingWith(n)&&r.push({edgeId:this.id}),r}isOverlappingWith(e){if(this.connected){const n=this.from.x,i=this.from.y,s=this.to.x,a=this.to.y,o=e.left,l=e.top;return this.edgeType.getDistanceToEdge(n,i,s,a,o,l)<10}else return!1}_getRotation(e){const r=this.edgeType.getViaNode(),n=this.edgeType.getPoint(.5,r);e!==void 0&&this.labelModule.calculateLabelSize(e,this.selected,this.hover,n.x,n.y);const i={x:n.x,y:this.labelModule.size.yLine,angle:0};if(!this.labelModule.visible()||this.options.font.align==="horizontal")return i;const s=this.from.y-this.to.y,a=this.from.x-this.to.x;let o=Math.atan2(s,a);return(o<-1&&a<0||o>0&&a<0)&&(o+=Math.PI),i.angle=o,i}_pointOnCircle(e,r,n,i){return{x:e+n*Math.cos(i),y:r-n*Math.sin(i)}}select(){this.selected=!0}unselect(){this.selected=!1}cleanup(){return this.edgeType.cleanup()}remove(){this.cleanup(),this.disconnect(),delete this.body.edges[this.id]}endPointsValid(){return this.body.nodes[this.fromId]!==void 0&&this.body.nodes[this.toId]!==void 0}}class Tye{constructor(e,r,n){var i;this.body=e,this.images=r,this.groups=n,this.body.functions.createEdge=Y(i=this.create).call(i,this),this.edgesListeners={add:(s,a)=>{this.add(a.items)},update:(s,a)=>{this.update(a.items)},remove:(s,a)=>{this.remove(a.items)}},this.options={},this.defaultOptions={arrows:{to:{enabled:!1,scaleFactor:1,type:"arrow"},middle:{enabled:!1,scaleFactor:1,type:"arrow"},from:{enabled:!1,scaleFactor:1,type:"arrow"}},endPointOffset:{from:0,to:0},arrowStrikethrough:!0,color:{color:"#848484",highlight:"#848484",hover:"#848484",inherit:"from",opacity:1},dashes:!1,font:{color:"#343434",size:14,face:"arial",background:"none",strokeWidth:2,strokeColor:"#ffffff",align:"horizontal",multi:!1,vadjust:0,bold:{mod:"bold"},boldital:{mod:"bold italic"},ital:{mod:"italic"},mono:{mod:"",size:15,face:"courier new",vadjust:2}},hidden:!1,hoverWidth:1.5,label:void 0,labelHighlightBold:!0,length:void 0,physics:!0,scaling:{min:1,max:15,label:{enabled:!0,min:14,max:30,maxVisible:30,drawThreshold:5},customScalingFunction:function(s,a,o,l){if(a===s)return .5;{const u=1/(a-s);return Math.max(0,(l-s)*u)}}},selectionWidth:1.5,selfReference:{size:20,angle:Math.PI/4,renderBehindTheNode:!0},shadow:{enabled:!1,color:"rgba(0,0,0,0.5)",size:10,x:5,y:5},background:{enabled:!1,color:"rgba(111,111,111,1)",size:10,dashes:!1},smooth:{enabled:!0,type:"dynamic",forceDirection:"none",roundness:.5},title:void 0,width:1,value:void 0},at(this.options,this.defaultOptions),this.bindEventListeners()}bindEventListeners(){var e=this,r,n;this.body.emitter.on("_forceDisableDynamicCurves",function(i){let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;i==="dynamic"&&(i="continuous");let a=!1;for(const o in e.body.edges)if(Object.prototype.hasOwnProperty.call(e.body.edges,o)){const l=e.body.edges[o],u=e.body.data.edges.get(o);if(u!=null){const d=u.smooth;d!==void 0&&d.enabled===!0&&d.type==="dynamic"&&(i===void 0?l.setOptions({smooth:!1}):l.setOptions({smooth:{type:i}}),a=!0)}}s===!0&&a===!0&&e.body.emitter.emit("_dataChanged")}),this.body.emitter.on("_dataUpdated",()=>{this.reconnectEdges()}),this.body.emitter.on("refreshEdges",Y(r=this.refresh).call(r,this)),this.body.emitter.on("refresh",Y(n=this.refresh).call(n,this)),this.body.emitter.on("destroy",()=>{$e(this.edgesListeners,(i,s)=>{this.body.data.edges&&this.body.data.edges.off(s,i)}),delete this.body.functions.createEdge,delete this.edgesListeners.add,delete this.edgesListeners.update,delete this.edgesListeners.remove,delete this.edgesListeners})}setOptions(e){if(e!==void 0){aa.parseOptions(this.options,e,!0,this.defaultOptions,!0);let r=!1;if(e.smooth!==void 0)for(const n in this.body.edges)Object.prototype.hasOwnProperty.call(this.body.edges,n)&&(r=this.body.edges[n].updateEdgeType()||r);if(e.font!==void 0)for(const n in this.body.edges)Object.prototype.hasOwnProperty.call(this.body.edges,n)&&this.body.edges[n].updateLabelModule();(e.hidden!==void 0||e.physics!==void 0||r===!0)&&this.body.emitter.emit("_dataChanged")}}setData(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;const n=this.body.data.edges;if(iG("id",e))this.body.data.edges=e;else if(It(e))this.body.data.edges=new du,this.body.data.edges.add(e);else if(!e)this.body.data.edges=new du;else throw new TypeError("Array or DataSet expected");if(n&&$e(this.edgesListeners,(i,s)=>{n.off(s,i)}),this.body.edges={},this.body.data.edges){$e(this.edgesListeners,(s,a)=>{this.body.data.edges.on(a,s)});const i=this.body.data.edges.getIds();this.add(i,!0)}this.body.emitter.emit("_adjustEdgesForHierarchicalLayout"),r===!1&&this.body.emitter.emit("_dataChanged")}add(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;const n=this.body.edges,i=this.body.data.edges;for(let s=0;s<e.length;s++){const a=e[s],o=n[a];o&&o.disconnect();const l=i.get(a,{showInternalIds:!0});n[a]=this.create(l)}this.body.emitter.emit("_adjustEdgesForHierarchicalLayout"),r===!1&&this.body.emitter.emit("_dataChanged")}update(e){const r=this.body.edges,n=this.body.data.edges;let i=!1;for(let s=0;s<e.length;s++){const a=e[s],o=n.get(a),l=r[a];l!==void 0?(l.disconnect(),i=l.setOptions(o)||i,l.connect()):(this.body.edges[a]=this.create(o),i=!0)}i===!0?(this.body.emitter.emit("_adjustEdgesForHierarchicalLayout"),this.body.emitter.emit("_dataChanged")):this.body.emitter.emit("_dataUpdated")}remove(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(e.length===0)return;const n=this.body.edges;$e(e,i=>{const s=n[i];s!==void 0&&s.remove()}),r&&this.body.emitter.emit("_dataChanged")}refresh(){$e(this.body.edges,(e,r)=>{const n=this.body.data.edges.get(r);n!==void 0&&e.setOptions(n)})}create(e){return new aa(e,this.body,this.images,this.options,this.defaultOptions)}reconnectEdges(){let e;const r=this.body.nodes,n=this.body.edges;for(e in r)Object.prototype.hasOwnProperty.call(r,e)&&(r[e].edges=[]);for(e in n)if(Object.prototype.hasOwnProperty.call(n,e)){const i=n[e];i.from=null,i.to=null,i.connect()}}getConnectedNodes(e){const r=[];if(this.body.edges[e]!==void 0){const n=this.body.edges[e];n.fromId!==void 0&&r.push(n.fromId),n.toId!==void 0&&r.push(n.toId)}return r}_updateState(){this._addMissingEdges(),this._removeInvalidEdges()}_removeInvalidEdges(){const e=[];$e(this.body.edges,(r,n)=>{const i=this.body.nodes[r.toId],s=this.body.nodes[r.fromId];i!==void 0&&i.isCluster===!0||s!==void 0&&s.isCluster===!0||(i===void 0||s===void 0)&&e.push(n)}),this.remove(e,!1)}_addMissingEdges(){const e=this.body.data.edges;if(e==null)return;const r=this.body.edges,n=[];Ze(e).call(e,(i,s)=>{r[s]===void 0&&n.push(s)}),this.add(n,!0)}}class IY{constructor(e,r,n){this.body=e,this.physicsBody=r,this.barnesHutTree,this.setOptions(n),this._rng=Sm("BARNES HUT SOLVER")}setOptions(e){this.options=e,this.thetaInversed=1/this.options.theta,this.overlapAvoidanceFactor=1-Math.max(0,Math.min(1,this.options.avoidOverlap))}solve(){if(this.options.gravitationalConstant!==0&&this.physicsBody.physicsNodeIndices.length>0){let e;const r=this.body.nodes,n=this.physicsBody.physicsNodeIndices,i=n.length,s=this._formBarnesHutTree(r,n);this.barnesHutTree=s;for(let a=0;a<i;a++)e=r[n[a]],e.options.mass>0&&this._getForceContributions(s.root,e)}}_getForceContributions(e,r){this._getForceContribution(e.children.NW,r),this._getForceContribution(e.children.NE,r),this._getForceContribution(e.children.SW,r),this._getForceContribution(e.children.SE,r)}_getForceContribution(e,r){if(e.childrenCount>0){const n=e.centerOfMass.x-r.x,i=e.centerOfMass.y-r.y,s=Math.sqrt(n*n+i*i);s*e.calcSize>this.thetaInversed?this._calculateForces(s,n,i,r,e):e.childrenCount===4?this._getForceContributions(e,r):e.children.data.id!=r.id&&this._calculateForces(s,n,i,r,e)}}_calculateForces(e,r,n,i,s){e===0&&(e=.1,r=e),this.overlapAvoidanceFactor<1&&i.shape.radius&&(e=Math.max(.1+this.overlapAvoidanceFactor*i.shape.radius,e-i.shape.radius));const a=this.options.gravitationalConstant*s.mass*i.options.mass/Math.pow(e,3),o=r*a,l=n*a;this.physicsBody.forces[i.id].x+=o,this.physicsBody.forces[i.id].y+=l}_formBarnesHutTree(e,r){let n;const i=r.length;let s=e[r[0]].x,a=e[r[0]].y,o=e[r[0]].x,l=e[r[0]].y;for(let b=1;b<i;b++){const g=e[r[b]],v=g.x,x=g.y;g.options.mass>0&&(v<s&&(s=v),v>o&&(o=v),x<a&&(a=x),x>l&&(l=x))}const u=Math.abs(o-s)-Math.abs(l-a);u>0?(a-=.5*u,l+=.5*u):(s+=.5*u,o-=.5*u);const h=Math.max(1e-5,Math.abs(o-s)),f=.5*h,p=.5*(s+o),m=.5*(a+l),y={root:{centerOfMass:{x:0,y:0},mass:0,range:{minX:p-f,maxX:p+f,minY:m-f,maxY:m+f},size:h,calcSize:1/h,children:{data:null},maxWidth:0,level:0,childrenCount:4}};this._splitBranch(y.root);for(let b=0;b<i;b++)n=e[r[b]],n.options.mass>0&&this._placeInTree(y.root,n);return y}_updateBranchMass(e,r){const n=e.centerOfMass,i=e.mass+r.options.mass,s=1/i;n.x=n.x*e.mass+r.x*r.options.mass,n.x*=s,n.y=n.y*e.mass+r.y*r.options.mass,n.y*=s,e.mass=i;const a=Math.max(Math.max(r.height,r.radius),r.width);e.maxWidth=e.maxWidth<a?a:e.maxWidth}_placeInTree(e,r,n){(n!=!0||n===void 0)&&this._updateBranchMass(e,r);const i=e.children.NW.range;let s;i.maxX>r.x?i.maxY>r.y?s="NW":s="SW":i.maxY>r.y?s="NE":s="SE",this._placeInRegion(e,r,s)}_placeInRegion(e,r,n){const i=e.children[n];switch(i.childrenCount){case 0:i.children.data=r,i.childrenCount=1,this._updateBranchMass(i,r);break;case 1:i.children.data.x===r.x&&i.children.data.y===r.y?(r.x+=this._rng(),r.y+=this._rng()):(this._splitBranch(i),this._placeInTree(i,r));break;case 4:this._placeInTree(i,r);break}}_splitBranch(e){let r=null;e.childrenCount===1&&(r=e.children.data,e.mass=0,e.centerOfMass.x=0,e.centerOfMass.y=0),e.childrenCount=4,e.children.data=null,this._insertRegion(e,"NW"),this._insertRegion(e,"NE"),this._insertRegion(e,"SW"),this._insertRegion(e,"SE"),r!=null&&this._placeInTree(e,r)}_insertRegion(e,r){let n,i,s,a;const o=.5*e.size;switch(r){case"NW":n=e.range.minX,i=e.range.minX+o,s=e.range.minY,a=e.range.minY+o;break;case"NE":n=e.range.minX+o,i=e.range.maxX,s=e.range.minY,a=e.range.minY+o;break;case"SW":n=e.range.minX,i=e.range.minX+o,s=e.range.minY+o,a=e.range.maxY;break;case"SE":n=e.range.minX+o,i=e.range.maxX,s=e.range.minY+o,a=e.range.maxY;break}e.children[r]={centerOfMass:{x:0,y:0},mass:0,range:{minX:n,maxX:i,minY:s,maxY:a},size:.5*e.size,calcSize:2*e.calcSize,children:{data:null},maxWidth:0,level:e.level+1,childrenCount:0}}_debug(e,r){this.barnesHutTree!==void 0&&(e.lineWidth=1,this._drawBranch(this.barnesHutTree.root,e,r))}_drawBranch(e,r,n){n===void 0&&(n="#FF0000"),e.childrenCount===4&&(this._drawBranch(e.children.NW,r),this._drawBranch(e.children.NE,r),this._drawBranch(e.children.SE,r),this._drawBranch(e.children.SW,r)),r.strokeStyle=n,r.beginPath(),r.moveTo(e.range.minX,e.range.minY),r.lineTo(e.range.maxX,e.range.minY),r.stroke(),r.beginPath(),r.moveTo(e.range.maxX,e.range.minY),r.lineTo(e.range.maxX,e.range.maxY),r.stroke(),r.beginPath(),r.moveTo(e.range.maxX,e.range.maxY),r.lineTo(e.range.minX,e.range.maxY),r.stroke(),r.beginPath(),r.moveTo(e.range.minX,e.range.maxY),r.lineTo(e.range.minX,e.range.minY),r.stroke()}}class Iye{constructor(e,r,n){this._rng=Sm("REPULSION SOLVER"),this.body=e,this.physicsBody=r,this.setOptions(n)}setOptions(e){this.options=e}solve(){let e,r,n,i,s,a,o,l;const u=this.body.nodes,d=this.physicsBody.physicsNodeIndices,h=this.physicsBody.forces,f=this.options.nodeDistance,p=-2/3/f,m=4/3;for(let y=0;y<d.length-1;y++){o=u[d[y]];for(let b=y+1;b<d.length;b++)l=u[d[b]],e=l.x-o.x,r=l.y-o.y,n=Math.sqrt(e*e+r*r),n===0&&(n=.1*this._rng(),e=n),n<2*f&&(n<.5*f?a=1:a=p*n+m,a=a/n,i=e*a,s=r*a,h[o.id].x-=i,h[o.id].y-=s,h[l.id].x+=i,h[l.id].y+=s)}}}class Rye{constructor(e,r,n){this.body=e,this.physicsBody=r,this.setOptions(n)}setOptions(e){this.options=e,this.overlapAvoidanceFactor=Math.max(0,Math.min(1,this.options.avoidOverlap||0))}solve(){const e=this.body.nodes,r=this.physicsBody.physicsNodeIndices,n=this.physicsBody.forces,i=this.options.nodeDistance;for(let s=0;s<r.length-1;s++){const a=e[r[s]];for(let o=s+1;o<r.length;o++){const l=e[r[o]];if(a.level===l.level){const u=i+this.overlapAvoidanceFactor*((a.shape.radius||0)/2+(l.shape.radius||0)/2),d=l.x-a.x,h=l.y-a.y,f=Math.sqrt(d*d+h*h),p=.05;let m;f<u?m=-Math.pow(p*f,2)+Math.pow(p*u,2):m=0,f!==0&&(m=m/f);const y=d*m,b=h*m;n[a.id].x-=y,n[a.id].y-=b,n[l.id].x+=y,n[l.id].y+=b}}}}}class FE{constructor(e,r,n){this.body=e,this.physicsBody=r,this.setOptions(n)}setOptions(e){this.options=e}solve(){let e,r;const n=this.physicsBody.physicsEdgeIndices,i=this.body.edges;let s,a,o;for(let l=0;l<n.length;l++)r=i[n[l]],r.connected===!0&&r.toId!==r.fromId&&this.body.nodes[r.toId]!==void 0&&this.body.nodes[r.fromId]!==void 0&&(r.edgeType.via!==void 0?(e=r.options.length===void 0?this.options.springLength:r.options.length,s=r.to,a=r.edgeType.via,o=r.from,this._calculateSpringForce(s,a,.5*e),this._calculateSpringForce(a,o,.5*e)):(e=r.options.length===void 0?this.options.springLength*1.5:r.options.length,this._calculateSpringForce(r.from,r.to,e)))}_calculateSpringForce(e,r,n){const i=e.x-r.x,s=e.y-r.y,a=Math.max(Math.sqrt(i*i+s*s),.01),o=this.options.springConstant*(n-a)/a,l=i*o,u=s*o;this.physicsBody.forces[e.id]!==void 0&&(this.physicsBody.forces[e.id].x+=l,this.physicsBody.forces[e.id].y+=u),this.physicsBody.forces[r.id]!==void 0&&(this.physicsBody.forces[r.id].x-=l,this.physicsBody.forces[r.id].y-=u)}}class jye{constructor(e,r,n){this.body=e,this.physicsBody=r,this.setOptions(n)}setOptions(e){this.options=e}solve(){let e,r,n,i,s,a,o,l;const u=this.body.edges,d=.5,h=this.physicsBody.physicsEdgeIndices,f=this.physicsBody.physicsNodeIndices,p=this.physicsBody.forces;for(let w=0;w<f.length;w++){const _=f[w];p[_].springFx=0,p[_].springFy=0}for(let w=0;w<h.length;w++)r=u[h[w]],r.connected===!0&&(e=r.options.length===void 0?this.options.springLength:r.options.length,n=r.from.x-r.to.x,i=r.from.y-r.to.y,l=Math.sqrt(n*n+i*i),l=l===0?.01:l,o=this.options.springConstant*(e-l)/l,s=n*o,a=i*o,r.to.level!=r.from.level?(p[r.toId]!==void 0&&(p[r.toId].springFx-=s,p[r.toId].springFy-=a),p[r.fromId]!==void 0&&(p[r.fromId].springFx+=s,p[r.fromId].springFy+=a)):(p[r.toId]!==void 0&&(p[r.toId].x-=d*s,p[r.toId].y-=d*a),p[r.fromId]!==void 0&&(p[r.fromId].x+=d*s,p[r.fromId].y+=d*a)));o=1;let m,y;for(let w=0;w<f.length;w++){const _=f[w];m=Math.min(o,Math.max(-o,p[_].springFx)),y=Math.min(o,Math.max(-o,p[_].springFy)),p[_].x+=m,p[_].y+=y}let b=0,g=0;for(let w=0;w<f.length;w++){const _=f[w];b+=p[_].x,g+=p[_].y}const v=b/f.length,x=g/f.length;for(let w=0;w<f.length;w++){const _=f[w];p[_].x-=v,p[_].y-=x}}}class Ef{constructor(e,r,n){this.body=e,this.physicsBody=r,this.setOptions(n)}setOptions(e){this.options=e}solve(){let e,r,n,i;const s=this.body.nodes,a=this.physicsBody.physicsNodeIndices,o=this.physicsBody.forces;for(let l=0;l<a.length;l++){const u=a[l];i=s[u],e=-i.x,r=-i.y,n=Math.sqrt(e*e+r*r),this._calculateForces(n,e,r,o,i)}}_calculateForces(e,r,n,i,s){const a=e===0?0:this.options.centralGravity/e;i[s.id].x=r*a,i[s.id].y=n*a}}class $ye extends IY{constructor(e,r,n){super(e,r,n),this._rng=Sm("FORCE ATLAS 2 BASED REPULSION SOLVER")}_calculateForces(e,r,n,i,s){e===0&&(e=.1*this._rng(),r=e),this.overlapAvoidanceFactor<1&&i.shape.radius&&(e=Math.max(.1+this.overlapAvoidanceFactor*i.shape.radius,e-i.shape.radius));const a=i.edges.length+1,o=this.options.gravitationalConstant*s.mass*i.options.mass*a/Math.pow(e,2),l=r*o,u=n*o;this.physicsBody.forces[i.id].x+=l,this.physicsBody.forces[i.id].y+=u}}class kye extends Ef{constructor(e,r,n){super(e,r,n)}_calculateForces(e,r,n,i,s){if(e>0){const a=s.edges.length+1,o=this.options.centralGravity*a*s.options.mass;i[s.id].x=r*o,i[s.id].y=n*o}}}class Dye{constructor(e){this.body=e,this.physicsBody={physicsNodeIndices:[],physicsEdgeIndices:[],forces:{},velocities:{}},this.physicsEnabled=!0,this.simulationInterval=1e3/60,this.requiresTimeout=!0,this.previousStates={},this.referenceState={},this.freezeCache={},this.renderTimer=void 0,this.adaptiveTimestep=!1,this.adaptiveTimestepEnabled=!1,this.adaptiveCounter=0,this.adaptiveInterval=3,this.stabilized=!1,this.startedStabilization=!1,this.stabilizationIterations=0,this.ready=!1,this.options={},this.defaultOptions={enabled:!0,barnesHut:{theta:.5,gravitationalConstant:-2e3,centralGravity:.3,springLength:95,springConstant:.04,damping:.09,avoidOverlap:0},forceAtlas2Based:{theta:.5,gravitationalConstant:-50,centralGravity:.01,springConstant:.08,springLength:100,damping:.4,avoidOverlap:0},repulsion:{centralGravity:.2,springLength:200,springConstant:.05,nodeDistance:100,damping:.09,avoidOverlap:0},hierarchicalRepulsion:{centralGravity:0,springLength:100,springConstant:.01,nodeDistance:120,damping:.09},maxVelocity:50,minVelocity:.75,solver:"barnesHut",stabilization:{enabled:!0,iterations:1e3,updateInterval:50,onlyDynamicEdges:!1,fit:!0},timestep:.5,adaptiveTimestep:!0,wind:{x:0,y:0}},Lt(this.options,this.defaultOptions),this.timestep=.5,this.layoutFailed=!1,this.bindEventListeners()}bindEventListeners(){this.body.emitter.on("initPhysics",()=>{this.initPhysics()}),this.body.emitter.on("_layoutFailed",()=>{this.layoutFailed=!0}),this.body.emitter.on("resetPhysics",()=>{this.stopSimulation(),this.ready=!1}),this.body.emitter.on("disablePhysics",()=>{this.physicsEnabled=!1,this.stopSimulation()}),this.body.emitter.on("restorePhysics",()=>{this.setOptions(this.options),this.ready===!0&&this.startSimulation()}),this.body.emitter.on("startSimulation",()=>{this.ready===!0&&this.startSimulation()}),this.body.emitter.on("stopSimulation",()=>{this.stopSimulation()}),this.body.emitter.on("destroy",()=>{this.stopSimulation(!1),this.body.emitter.off()}),this.body.emitter.on("_dataChanged",()=>{this.updatePhysicsData()})}setOptions(e){if(e!==void 0)if(e===!1)this.options.enabled=!1,this.physicsEnabled=!1,this.stopSimulation();else if(e===!0)this.options.enabled=!0,this.physicsEnabled=!0,this.startSimulation();else{this.physicsEnabled=!0,mp(["stabilization"],this.options,e),Nn(this.options,e,"stabilization"),e.enabled===void 0&&(this.options.enabled=!0),this.options.enabled===!1&&(this.physicsEnabled=!1,this.stopSimulation());const r=this.options.wind;r&&((typeof r.x!="number"||_P(r.x))&&(r.x=0),(typeof r.y!="number"||_P(r.y))&&(r.y=0)),this.timestep=this.options.timestep}this.init()}init(){let e;this.options.solver==="forceAtlas2Based"?(e=this.options.forceAtlas2Based,this.nodesSolver=new $ye(this.body,this.physicsBody,e),this.edgesSolver=new FE(this.body,this.physicsBody,e),this.gravitySolver=new kye(this.body,this.physicsBody,e)):this.options.solver==="repulsion"?(e=this.options.repulsion,this.nodesSolver=new Iye(this.body,this.physicsBody,e),this.edgesSolver=new FE(this.body,this.physicsBody,e),this.gravitySolver=new Ef(this.body,this.physicsBody,e)):this.options.solver==="hierarchicalRepulsion"?(e=this.options.hierarchicalRepulsion,this.nodesSolver=new Rye(this.body,this.physicsBody,e),this.edgesSolver=new jye(this.body,this.physicsBody,e),this.gravitySolver=new Ef(this.body,this.physicsBody,e)):(e=this.options.barnesHut,this.nodesSolver=new IY(this.body,this.physicsBody,e),this.edgesSolver=new FE(this.body,this.physicsBody,e),this.gravitySolver=new Ef(this.body,this.physicsBody,e)),this.modelOptions=e}initPhysics(){this.physicsEnabled===!0&&this.options.enabled===!0?this.options.stabilization.enabled===!0?this.stabilize():(this.stabilized=!1,this.ready=!0,this.body.emitter.emit("fit",{},this.layoutFailed),this.startSimulation()):(this.ready=!0,this.body.emitter.emit("fit"))}startSimulation(){if(this.physicsEnabled===!0&&this.options.enabled===!0){if(this.stabilized=!1,this.adaptiveTimestep=!1,this.body.emitter.emit("_resizeNodes"),this.viewFunction===void 0){var e;this.viewFunction=Y(e=this.simulationStep).call(e,this),this.body.emitter.on("initRedraw",this.viewFunction),this.body.emitter.emit("_startRendering")}}else this.body.emitter.emit("_redraw")}stopSimulation(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.stabilized=!0,e===!0&&this._emitStabilized(),this.viewFunction!==void 0&&(this.body.emitter.off("initRedraw",this.viewFunction),this.viewFunction=void 0,e===!0&&this.body.emitter.emit("_stopRendering"))}simulationStep(){const e=dp();this.physicsTick(),(dp()-e<.4*this.simulationInterval||this.runDoubleSpeed===!0)&&this.stabilized===!1&&(this.physicsTick(),this.runDoubleSpeed=!0),this.stabilized===!0&&this.stopSimulation()}_emitStabilized(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.stabilizationIterations;(this.stabilizationIterations>1||this.startedStabilization===!0)&&Zi(()=>{this.body.emitter.emit("stabilized",{iterations:e}),this.startedStabilization=!1,this.stabilizationIterations=0},0)}physicsStep(){this.gravitySolver.solve(),this.nodesSolver.solve(),this.edgesSolver.solve(),this.moveNodes()}adjustTimeStep(){this._evaluateStepQuality()===!0?this.timestep=1.2*this.timestep:this.timestep/1.2<this.options.timestep?this.timestep=this.options.timestep:(this.adaptiveCounter=-1,this.timestep=Math.max(this.options.timestep,this.timestep/1.2))}physicsTick(){this._startStabilizing(),this.stabilized!==!0&&(this.adaptiveTimestep===!0&&this.adaptiveTimestepEnabled===!0?(this.adaptiveCounter%this.adaptiveInterval===0?(this.timestep=2*this.timestep,this.physicsStep(),this.revert(),this.timestep=.5*this.timestep,this.physicsStep(),this.physicsStep(),this.adjustTimeStep()):this.physicsStep(),this.adaptiveCounter+=1):(this.timestep=this.options.timestep,this.physicsStep()),this.stabilized===!0&&this.revert(),this.stabilizationIterations++)}updatePhysicsData(){this.physicsBody.forces={},this.physicsBody.physicsNodeIndices=[],this.physicsBody.physicsEdgeIndices=[];const e=this.body.nodes,r=this.body.edges;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&e[n].options.physics===!0&&this.physicsBody.physicsNodeIndices.push(e[n].id);for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&r[n].options.physics===!0&&this.physicsBody.physicsEdgeIndices.push(r[n].id);for(let n=0;n<this.physicsBody.physicsNodeIndices.length;n++){const i=this.physicsBody.physicsNodeIndices[n];this.physicsBody.forces[i]={x:0,y:0},this.physicsBody.velocities[i]===void 0&&(this.physicsBody.velocities[i]={x:0,y:0})}for(const n in this.physicsBody.velocities)e[n]===void 0&&delete this.physicsBody.velocities[n]}revert(){const e=Pt(this.previousStates),r=this.body.nodes,n=this.physicsBody.velocities;this.referenceState={};for(let i=0;i<e.length;i++){const s=e[i];r[s]!==void 0?r[s].options.physics===!0&&(this.referenceState[s]={positions:{x:r[s].x,y:r[s].y}},n[s].x=this.previousStates[s].vx,n[s].y=this.previousStates[s].vy,r[s].x=this.previousStates[s].x,r[s].y=this.previousStates[s].y):delete this.previousStates[s]}}_evaluateStepQuality(){let e,r,n;const i=this.body.nodes,s=this.referenceState,a=.3;for(const o in this.referenceState)if(Object.prototype.hasOwnProperty.call(this.referenceState,o)&&i[o]!==void 0&&(e=i[o].x-s[o].positions.x,r=i[o].y-s[o].positions.y,n=Math.sqrt(Math.pow(e,2)+Math.pow(r,2)),n>a))return!1;return!0}moveNodes(){const e=this.physicsBody.physicsNodeIndices;let r=0,n=0;const i=5;for(let s=0;s<e.length;s++){const a=e[s],o=this._performStep(a);r=Math.max(r,o),n+=o}this.adaptiveTimestepEnabled=n/e.length<i,this.stabilized=r<this.options.minVelocity}calculateComponentVelocity(e,r,n){const i=this.modelOptions.damping*e,s=(r-i)/n;e+=s*this.timestep;const a=this.options.maxVelocity||1e9;return Math.abs(e)>a&&(e=e>0?a:-a),e}_performStep(e){const r=this.body.nodes[e],n=this.physicsBody.forces[e];this.options.wind&&(n.x+=this.options.wind.x,n.y+=this.options.wind.y);const i=this.physicsBody.velocities[e];return this.previousStates[e]={x:r.x,y:r.y,vx:i.x,vy:i.y},r.options.fixed.x===!1?(i.x=this.calculateComponentVelocity(i.x,n.x,r.options.mass),r.x+=i.x*this.timestep):(n.x=0,i.x=0),r.options.fixed.y===!1?(i.y=this.calculateComponentVelocity(i.y,n.y,r.options.mass),r.y+=i.y*this.timestep):(n.y=0,i.y=0),Math.sqrt(Math.pow(i.x,2)+Math.pow(i.y,2))}_freezeNodes(){const e=this.body.nodes;for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&e[r].x&&e[r].y){const n=e[r].options.fixed;this.freezeCache[r]={x:n.x,y:n.y},n.x=!0,n.y=!0}}_restoreFrozenNodes(){const e=this.body.nodes;for(const r in e)Object.prototype.hasOwnProperty.call(e,r)&&this.freezeCache[r]!==void 0&&(e[r].options.fixed.x=this.freezeCache[r].x,e[r].options.fixed.y=this.freezeCache[r].y);this.freezeCache={}}stabilize(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.options.stabilization.iterations;if(typeof e!="number"&&(e=this.options.stabilization.iterations,console.error("The stabilize method needs a numeric amount of iterations. Switching to default: ",e)),this.physicsBody.physicsNodeIndices.length===0){this.ready=!0;return}this.adaptiveTimestep=this.options.adaptiveTimestep,this.body.emitter.emit("_resizeNodes"),this.stopSimulation(),this.stabilized=!1,this.body.emitter.emit("_blockRedraw"),this.targetIterations=e,this.options.stabilization.onlyDynamicEdges===!0&&this._freezeNodes(),this.stabilizationIterations=0,Zi(()=>this._stabilizationBatch(),0)}_startStabilizing(){return this.startedStabilization===!0?!1:(this.body.emitter.emit("startStabilizing"),this.startedStabilization=!0,!0)}_stabilizationBatch(){const e=()=>this.stabilized===!1&&this.stabilizationIterations<this.targetIterations,r=()=>{this.body.emitter.emit("stabilizationProgress",{iterations:this.stabilizationIterations,total:this.targetIterations})};this._startStabilizing()&&r();let n=0;for(;e()&&n<this.options.stabilization.updateInterval;)this.physicsTick(),n++;if(r(),e()){var i;Zi(Y(i=this._stabilizationBatch).call(i,this),0)}else this._finalizeStabilization()}_finalizeStabilization(){this.body.emitter.emit("_allowRedraw"),this.options.stabilization.fit===!0&&this.body.emitter.emit("fit"),this.options.stabilization.onlyDynamicEdges===!0&&this._restoreFrozenNodes(),this.body.emitter.emit("stabilizationIterationsDone"),this.body.emitter.emit("_requestRedraw"),this.stabilized===!0?this._emitStabilized():this.startSimulation(),this.ready=!0}_drawForces(e){for(let r=0;r<this.physicsBody.physicsNodeIndices.length;r++){const n=this.physicsBody.physicsNodeIndices[r],i=this.body.nodes[n],s=this.physicsBody.forces[n],a=20,o=.03,l=Math.sqrt(Math.pow(s.x,2)+Math.pow(s.x,2)),u=Math.min(Math.max(5,l),15),d=3*u,h=bP((180-Math.min(1,Math.max(0,o*l))*180)/360,1,1),f={x:i.x+a*s.x,y:i.y+a*s.y};e.lineWidth=u,e.strokeStyle=h,e.beginPath(),e.moveTo(i.x,i.y),e.lineTo(f.x,f.y),e.stroke();const p=Math.atan2(s.y,s.x);e.fillStyle=h,NY.draw(e,{type:"arrow",point:f,angle:p,length:d}),mh(e).call(e)}}}const fr=[];for(let t=0;t<256;++t)fr.push((t+256).toString(16).slice(1));function qye(t,e=0){return(fr[t[e+0]]+fr[t[e+1]]+fr[t[e+2]]+fr[t[e+3]]+"-"+fr[t[e+4]]+fr[t[e+5]]+"-"+fr[t[e+6]]+fr[t[e+7]]+"-"+fr[t[e+8]]+fr[t[e+9]]+"-"+fr[t[e+10]]+fr[t[e+11]]+fr[t[e+12]]+fr[t[e+13]]+fr[t[e+14]]+fr[t[e+15]]).toLowerCase()}let LE;const Mye=new Uint8Array(16);function Aye(){if(!LE){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");LE=crypto.getRandomValues.bind(crypto)}return LE(Mye)}const Fye=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto);var O7={randomUUID:Fye};function Lye(t,e,r){var i;t=t||{};const n=t.random??((i=t.rng)==null?void 0:i.call(t))??Aye();if(n.length<16)throw new Error("Random bytes length must be >= 16");return n[6]=n[6]&15|64,n[8]=n[8]&63|128,qye(n)}function Lc(t,e,r){return O7.randomUUID&&!t?O7.randomUUID():Lye(t)}class qr{constructor(){}static getRange(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],n=1e9,i=-1e9,s=1e9,a=-1e9,o;if(r.length>0)for(let l=0;l<r.length;l++)o=e[r[l]],s>o.shape.boundingBox.left&&(s=o.shape.boundingBox.left),a<o.shape.boundingBox.right&&(a=o.shape.boundingBox.right),n>o.shape.boundingBox.top&&(n=o.shape.boundingBox.top),i<o.shape.boundingBox.bottom&&(i=o.shape.boundingBox.bottom);return s===1e9&&a===-1e9&&n===1e9&&i===-1e9&&(n=0,i=0,s=0,a=0),{minX:s,maxX:a,minY:n,maxY:i}}static getRangeCore(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],n=1e9,i=-1e9,s=1e9,a=-1e9,o;if(r.length>0)for(let l=0;l<r.length;l++)o=e[r[l]],s>o.x&&(s=o.x),a<o.x&&(a=o.x),n>o.y&&(n=o.y),i<o.y&&(i=o.y);return s===1e9&&a===-1e9&&n===1e9&&i===-1e9&&(n=0,i=0,s=0,a=0),{minX:s,maxX:a,minY:n,maxY:i}}static findCenter(e){return{x:.5*(e.maxX+e.minX),y:.5*(e.maxY+e.minY)}}static cloneOptions(e,r){const n={};return r===void 0||r==="node"?(at(n,e.options,!0),n.x=e.x,n.y=e.y,n.amountOfConnections=e.edges.length):at(n,e.options,!0),n}}class Bye extends ft{constructor(e,r,n,i,s,a){super(e,r,n,i,s,a),this.isCluster=!0,this.containedNodes={},this.containedEdges={}}_openChildCluster(e){const r=this.body.nodes[e];if(this.containedNodes[e]===void 0)throw new Error("node with id: "+e+" not in current cluster");if(!r.isCluster)throw new Error("node with id: "+e+" is not a cluster");delete this.containedNodes[e],$e(r.edges,n=>{delete this.containedEdges[n.id]}),$e(r.containedNodes,(n,i)=>{this.containedNodes[i]=n}),r.containedNodes={},$e(r.containedEdges,(n,i)=>{this.containedEdges[i]=n}),r.containedEdges={},$e(r.edges,n=>{$e(this.edges,i=>{var s,a;const o=Ve(s=i.clusteringEdgeReplacingIds).call(s,n.id);o!==-1&&($e(n.clusteringEdgeReplacingIds,l=>{i.clusteringEdgeReplacingIds.push(l),this.body.edges[l].edgeReplacedById=i.id}),Ji(a=i.clusteringEdgeReplacingIds).call(a,o,1))})}),r.edges=[]}}class zye{constructor(e){this.body=e,this.clusteredNodes={},this.clusteredEdges={},this.options={},this.defaultOptions={},Lt(this.options,this.defaultOptions),this.body.emitter.on("_resetData",()=>{this.clusteredNodes={},this.clusteredEdges={}})}clusterByHubsize(e,r){e===void 0?e=this._getHubSize():typeof e=="object"&&(r=this._checkOptions(e),e=this._getHubSize());const n=[];for(let i=0;i<this.body.nodeIndices.length;i++){const s=this.body.nodes[this.body.nodeIndices[i]];s.edges.length>=e&&n.push(s.id)}for(let i=0;i<n.length;i++)this.clusterByConnection(n[i],r,!0);this.body.emitter.emit("_dataChanged")}cluster(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(e.joinCondition===void 0)throw new Error("Cannot call clusterByNodeData without a joinCondition function in the options.");e=this._checkOptions(e);const n={},i={};$e(this.body.nodes,(s,a)=>{s.options&&e.joinCondition(s.options)===!0&&(n[a]=s,$e(s.edges,o=>{this.clusteredEdges[o.id]===void 0&&(i[o.id]=o)}))}),this._cluster(n,i,e,r)}clusterByEdgeCount(e,r){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;r=this._checkOptions(r);const i=[],s={};let a,o,l;for(let u=0;u<this.body.nodeIndices.length;u++){const d={},h={},f=this.body.nodeIndices[u],p=this.body.nodes[f];if(s[f]===void 0){l=0,o=[];for(let m=0;m<p.edges.length;m++)a=p.edges[m],this.clusteredEdges[a.id]===void 0&&(a.toId!==a.fromId&&l++,o.push(a));if(l===e){const m=function(b){if(r.joinCondition===void 0||r.joinCondition===null)return!0;const g=qr.cloneOptions(b);return r.joinCondition(g)};let y=!0;for(let b=0;b<o.length;b++){a=o[b];const g=this._getConnectedId(a,f);if(m(p))h[a.id]=a,d[f]=p,d[g]=this.body.nodes[g],s[f]=!0;else{y=!1;break}}if(Pt(d).length>0&&Pt(h).length>0&&y===!0){const g=function(){for(let v=0;v<i.length;++v)for(const x in d)if(i[v].nodes[x]!==void 0)return i[v]}();if(g!==void 0){for(const v in d)g.nodes[v]===void 0&&(g.nodes[v]=d[v]);for(const v in h)g.edges[v]===void 0&&(g.edges[v]=h[v])}else i.push({nodes:d,edges:h})}}}}for(let u=0;u<i.length;u++)this._cluster(i[u].nodes,i[u].edges,r,!1);n===!0&&this.body.emitter.emit("_dataChanged")}clusterOutliers(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;this.clusterByEdgeCount(1,e,r)}clusterBridges(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;this.clusterByEdgeCount(2,e,r)}clusterByConnection(e,r){var n;let i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(e===void 0)throw new Error("No nodeId supplied to clusterByConnection!");if(this.body.nodes[e]===void 0)throw new Error("The nodeId given to clusterByConnection does not exist!");const s=this.body.nodes[e];r=this._checkOptions(r,s),r.clusterNodeProperties.x===void 0&&(r.clusterNodeProperties.x=s.x),r.clusterNodeProperties.y===void 0&&(r.clusterNodeProperties.y=s.y),r.clusterNodeProperties.fixed===void 0&&(r.clusterNodeProperties.fixed={},r.clusterNodeProperties.fixed.x=s.options.fixed.x,r.clusterNodeProperties.fixed.y=s.options.fixed.y);const a={},o={},l=s.id,u=qr.cloneOptions(s);a[l]=s;for(let h=0;h<s.edges.length;h++){const f=s.edges[h];if(this.clusteredEdges[f.id]===void 0){const p=this._getConnectedId(f,l);if(this.clusteredNodes[p]===void 0)if(p!==l)if(r.joinCondition===void 0)o[f.id]=f,a[p]=this.body.nodes[p];else{const m=qr.cloneOptions(this.body.nodes[p]);r.joinCondition(u,m)===!0&&(o[f.id]=f,a[p]=this.body.nodes[p])}else o[f.id]=f}}const d=hu(n=Pt(a)).call(n,function(h){return a[h].id});for(const h in a){if(!Object.prototype.hasOwnProperty.call(a,h))continue;const f=a[h];for(let p=0;p<f.edges.length;p++){const m=f.edges[p];Ve(d).call(d,this._getConnectedId(m,f.id))>-1&&(o[m.id]=m)}}this._cluster(a,o,r,i)}_createClusterEdges(e,r,n,i){let s,a,o,l,u,d;const h=Pt(e),f=[];for(let y=0;y<h.length;y++){a=h[y],o=e[a];for(let b=0;b<o.edges.length;b++)s=o.edges[b],this.clusteredEdges[s.id]===void 0&&(s.toId==s.fromId?r[s.id]=s:s.toId==a?(l=n.id,u=s.fromId,d=u):(l=s.toId,u=n.id,d=l),e[d]===void 0&&f.push({edge:s,fromId:u,toId:l}))}const p=[],m=function(y){for(let b=0;b<p.length;b++){const g=p[b],v=y.fromId===g.fromId&&y.toId===g.toId,x=y.fromId===g.toId&&y.toId===g.fromId;if(v||x)return g}return null};for(let y=0;y<f.length;y++){const b=f[y],g=b.edge;let v=m(b);v===null?(v=this._createClusteredEdge(b.fromId,b.toId,g,i),p.push(v)):v.clusteringEdgeReplacingIds.push(g.id),this.body.edges[g.id].edgeReplacedById=v.id,this._backupEdgeOptions(g),g.setOptions({physics:!1})}}_checkOptions(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return e.clusterEdgeProperties===void 0&&(e.clusterEdgeProperties={}),e.clusterNodeProperties===void 0&&(e.clusterNodeProperties={}),e}_cluster(e,r,n){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0;const s=[];for(const d in e)Object.prototype.hasOwnProperty.call(e,d)&&this.clusteredNodes[d]!==void 0&&s.push(d);for(let d=0;d<s.length;++d)delete e[s[d]];if(Pt(e).length==0||Pt(e).length==1&&n.clusterNodeProperties.allowSingleNodeCluster!=!0)return;let a=at({},n.clusterNodeProperties);if(n.processProperties!==void 0){const d=[];for(const f in e)if(Object.prototype.hasOwnProperty.call(e,f)){const p=qr.cloneOptions(e[f]);d.push(p)}const h=[];for(const f in r)if(Object.prototype.hasOwnProperty.call(r,f)&&f.substr(0,12)!=="clusterEdge:"){const p=qr.cloneOptions(r[f],"edge");h.push(p)}if(a=n.processProperties(a,d,h),!a)throw new Error("The processProperties function does not return properties!")}a.id===void 0&&(a.id="cluster:"+Lc());const o=a.id;a.label===void 0&&(a.label="cluster");let l;a.x===void 0&&(l=this._getClusterPosition(e),a.x=l.x),a.y===void 0&&(l===void 0&&(l=this._getClusterPosition(e)),a.y=l.y),a.id=o;const u=this.body.functions.createNode(a,Bye);u.containedNodes=e,u.containedEdges=r,u.clusterEdgeProperties=n.clusterEdgeProperties,this.body.nodes[a.id]=u,this._clusterEdges(e,r,a,n.clusterEdgeProperties),a.id=void 0,i===!0&&this.body.emitter.emit("_dataChanged")}_backupEdgeOptions(e){this.clusteredEdges[e.id]===void 0&&(this.clusteredEdges[e.id]={physics:e.options.physics})}_restoreEdge(e){const r=this.clusteredEdges[e.id];r!==void 0&&(e.setOptions({physics:r.physics}),delete this.clusteredEdges[e.id])}isCluster(e){return this.body.nodes[e]!==void 0?this.body.nodes[e].isCluster===!0:(console.error("Node does not exist."),!1)}_getClusterPosition(e){const r=Pt(e);let n=e[r[0]].x,i=e[r[0]].x,s=e[r[0]].y,a=e[r[0]].y,o;for(let l=1;l<r.length;l++)o=e[r[l]],n=o.x<n?o.x:n,i=o.x>i?o.x:i,s=o.y<s?o.y:s,a=o.y>a?o.y:a;return{x:.5*(n+i),y:.5*(s+a)}}openCluster(e,r){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(e===void 0)throw new Error("No clusterNodeId supplied to openCluster.");const i=this.body.nodes[e];if(i===void 0)throw new Error("The clusterNodeId supplied to openCluster does not exist.");if(i.isCluster!==!0||i.containedNodes===void 0||i.containedEdges===void 0)throw new Error("The node:"+e+" is not a valid cluster.");const s=this.findNode(e),a=Ve(s).call(s,e)-1;if(a>=0){const d=s[a];this.body.nodes[d]._openChildCluster(e),delete this.body.nodes[e],n===!0&&this.body.emitter.emit("_dataChanged");return}const o=i.containedNodes,l=i.containedEdges;if(r!==void 0&&r.releaseFunction!==void 0&&typeof r.releaseFunction=="function"){const d={},h={x:i.x,y:i.y};for(const p in o)if(Object.prototype.hasOwnProperty.call(o,p)){const m=this.body.nodes[p];d[p]={x:m.x,y:m.y}}const f=r.releaseFunction(h,d);for(const p in o)if(Object.prototype.hasOwnProperty.call(o,p)){const m=this.body.nodes[p];f[p]!==void 0&&(m.x=f[p].x===void 0?i.x:f[p].x,m.y=f[p].y===void 0?i.y:f[p].y)}}else $e(o,function(d){d.options.fixed.x===!1&&(d.x=i.x),d.options.fixed.y===!1&&(d.y=i.y)});for(const d in o)if(Object.prototype.hasOwnProperty.call(o,d)){const h=this.body.nodes[d];h.vx=i.vx,h.vy=i.vy,h.setOptions({physics:!0}),delete this.clusteredNodes[d]}const u=[];for(let d=0;d<i.edges.length;d++)u.push(i.edges[d]);for(let d=0;d<u.length;d++){const h=u[d],f=this._getConnectedId(h,e),p=this.clusteredNodes[f];for(let m=0;m<h.clusteringEdgeReplacingIds.length;m++){const y=h.clusteringEdgeReplacingIds[m],b=this.body.edges[y];if(b!==void 0)if(p!==void 0){const g=this.body.nodes[p.clusterId];g.containedEdges[b.id]=b,delete l[b.id];let v=b.fromId,x=b.toId;b.toId==f?x=p.clusterId:v=p.clusterId,this._createClusteredEdge(v,x,b,g.clusterEdgeProperties,{hidden:!1,physics:!0})}else this._restoreEdge(b)}h.remove()}for(const d in l)Object.prototype.hasOwnProperty.call(l,d)&&this._restoreEdge(l[d]);delete this.body.nodes[e],n===!0&&this.body.emitter.emit("_dataChanged")}getNodesInCluster(e){const r=[];if(this.isCluster(e)===!0){const n=this.body.nodes[e].containedNodes;for(const i in n)Object.prototype.hasOwnProperty.call(n,i)&&r.push(this.body.nodes[i].id)}return r}findNode(e){const r=[];let i=0,s;for(;this.clusteredNodes[e]!==void 0&&i<100;){if(s=this.body.nodes[e],s===void 0)return[];r.push(s.id),e=this.clusteredNodes[e].clusterId,i++}return s=this.body.nodes[e],s===void 0?[]:(r.push(s.id),no(r).call(r),r)}updateClusteredNode(e,r){if(e===void 0)throw new Error("No clusteredNodeId supplied to updateClusteredNode.");if(r===void 0)throw new Error("No newOptions supplied to updateClusteredNode.");if(this.body.nodes[e]===void 0)throw new Error("The clusteredNodeId supplied to updateClusteredNode does not exist.");this.body.nodes[e].setOptions(r),this.body.emitter.emit("_dataChanged")}updateEdge(e,r){if(e===void 0)throw new Error("No startEdgeId supplied to updateEdge.");if(r===void 0)throw new Error("No newOptions supplied to updateEdge.");if(this.body.edges[e]===void 0)throw new Error("The startEdgeId supplied to updateEdge does not exist.");const n=this.getClusteredEdges(e);for(let i=0;i<n.length;i++)this.body.edges[n[i]].setOptions(r);this.body.emitter.emit("_dataChanged")}getClusteredEdges(e){const r=[];let i=0;for(;e!==void 0&&this.body.edges[e]!==void 0&&i<100;)r.push(this.body.edges[e].id),e=this.body.edges[e].edgeReplacedById,i++;return no(r).call(r),r}getBaseEdge(e){return this.getBaseEdges(e)[0]}getBaseEdges(e){const r=[e],n=[],i=[],s=100;let a=0;for(;r.length>0&&a<s;){const o=r.pop();if(o===void 0)continue;const l=this.body.edges[o];if(l===void 0)continue;a++;const u=l.clusteringEdgeReplacingIds;if(u===void 0)i.push(o);else for(let d=0;d<u.length;++d){const h=u[d];Ve(r).call(r,u)!==-1||Ve(n).call(n,u)!==-1||r.push(h)}n.push(o)}return i}_getConnectedId(e,r){return e.toId!=r?e.toId:(e.fromId!=r,e.fromId)}_getHubSize(){let e=0,r=0,n=0,i=0;for(let l=0;l<this.body.nodeIndices.length;l++){const u=this.body.nodes[this.body.nodeIndices[l]];u.edges.length>i&&(i=u.edges.length),e+=u.edges.length,r+=Math.pow(u.edges.length,2),n+=1}e=e/n,r=r/n;const s=r-Math.pow(e,2),a=Math.sqrt(s);let o=Math.floor(e+2*a);return o>i&&(o=i),o}_createClusteredEdge(e,r,n,i,s){const a=qr.cloneOptions(n,"edge");at(a,i),a.from=e,a.to=r,a.id="clusterEdge:"+Lc(),s!==void 0&&at(a,s);const o=this.body.functions.createEdge(a);return o.clusteringEdgeReplacingIds=[n.id],o.connect(),this.body.edges[o.id]=o,o}_clusterEdges(e,r,n,i){if(r instanceof aa){const s=r,a={};a[s.id]=s,r=a}if(e instanceof ft){const s=e,a={};a[s.id]=s,e=a}if(n==null)throw new Error("_clusterEdges: parameter clusterNode required");i===void 0&&(i=n.clusterEdgeProperties),this._createClusterEdges(e,r,n,i);for(const s in r)if(Object.prototype.hasOwnProperty.call(r,s)&&this.body.edges[s]!==void 0){const a=this.body.edges[s];this._backupEdgeOptions(a),a.setOptions({physics:!1})}for(const s in e)Object.prototype.hasOwnProperty.call(e,s)&&(this.clusteredNodes[s]={clusterId:n.id,node:this.body.nodes[s]},this.body.nodes[s].setOptions({physics:!1}))}_getClusterNodeForNode(e){if(e===void 0)return;const r=this.clusteredNodes[e];if(r===void 0)return;const n=r.clusterId;if(n!==void 0)return this.body.nodes[n]}_filter(e,r){const n=[];return $e(e,i=>{r(i)&&n.push(i)}),n}_updateState(){let e;const r=[],n={},i=l=>{$e(this.body.nodes,u=>{u.isCluster===!0&&l(u)})};for(e in this.clusteredNodes){if(!Object.prototype.hasOwnProperty.call(this.clusteredNodes,e))continue;this.body.nodes[e]===void 0&&r.push(e)}i(function(l){for(let u=0;u<r.length;u++)delete l.containedNodes[r[u]]});for(let l=0;l<r.length;l++)delete this.clusteredNodes[r[l]];$e(this.clusteredEdges,l=>{const u=this.body.edges[l];(u===void 0||!u.endPointsValid())&&(n[l]=l)}),i(function(l){$e(l.containedEdges,(u,d)=>{!u.endPointsValid()&&!n[d]&&(n[d]=d)})}),$e(this.body.edges,(l,u)=>{let d=!0;const h=l.clusteringEdgeReplacingIds;if(h!==void 0){let f=0;$e(h,p=>{const m=this.body.edges[p];m!==void 0&&m.endPointsValid()&&(f+=1)}),d=f>0}(!l.endPointsValid()||!d)&&(n[u]=u)}),i(l=>{$e(n,u=>{delete l.containedEdges[u],$e(l.edges,(d,h)=>{if(d.id===u){l.edges[h]=null;return}d.clusteringEdgeReplacingIds=this._filter(d.clusteringEdgeReplacingIds,function(f){return!n[f]})}),l.edges=this._filter(l.edges,function(d){return d!==null})})}),$e(n,l=>{delete this.clusteredEdges[l]}),$e(n,l=>{delete this.body.edges[l]});const s=Pt(this.body.edges);$e(s,l=>{const u=this.body.edges[l],d=this._isClusteredNode(u.fromId)||this._isClusteredNode(u.toId);if(d!==this._isClusteredEdge(u.id))if(d){const h=this._getClusterNodeForNode(u.fromId);h!==void 0&&this._clusterEdges(this.body.nodes[u.fromId],u,h);const f=this._getClusterNodeForNode(u.toId);f!==void 0&&this._clusterEdges(this.body.nodes[u.toId],u,f)}else delete this._clusterEdges[l],this._restoreEdge(u)});let a=!1,o=!0;for(;o;){const l=[];i(function(u){const d=Pt(u.containedNodes).length,h=u.options.allowSingleNodeCluster===!0;(h&&d<1||!h&&d<2)&&l.push(u.id)});for(let u=0;u<l.length;++u)this.openCluster(l[u],{},!1);o=l.length>0,a=a||o}a&&this._updateState()}_isClusteredNode(e){return this.clusteredNodes[e]!==void 0}_isClusteredEdge(e){return this.clusteredEdges[e]!==void 0}}class Uye{constructor(e,r){this.body=e,this.canvas=r,this.redrawRequested=!1,this.requestAnimationFrameRequestId=void 0,this.renderingActive=!1,this.renderRequests=0,this.allowRedraw=!0,this.dragging=!1,this.zooming=!1,this.options={},this.defaultOptions={hideEdgesOnDrag:!1,hideEdgesOnZoom:!1,hideNodesOnDrag:!1},Lt(this.options,this.defaultOptions),this.bindEventListeners()}bindEventListeners(){var e;this.body.emitter.on("dragStart",()=>{this.dragging=!0}),this.body.emitter.on("dragEnd",()=>{this.dragging=!1}),this.body.emitter.on("zoom",()=>{this.zooming=!0,window.clearTimeout(this.zoomTimeoutId),this.zoomTimeoutId=Zi(()=>{var r;this.zooming=!1,Y(r=this._requestRedraw).call(r,this)()},250)}),this.body.emitter.on("_resizeNodes",()=>{this._resizeNodes()}),this.body.emitter.on("_redraw",()=>{this.renderingActive===!1&&this._redraw()}),this.body.emitter.on("_blockRedraw",()=>{this.allowRedraw=!1}),this.body.emitter.on("_allowRedraw",()=>{this.allowRedraw=!0,this.redrawRequested=!1}),this.body.emitter.on("_requestRedraw",Y(e=this._requestRedraw).call(e,this)),this.body.emitter.on("_startRendering",()=>{this.renderRequests+=1,this.renderingActive=!0,this._startRendering()}),this.body.emitter.on("_stopRendering",()=>{this.renderRequests-=1,this.renderingActive=this.renderRequests>0,this.requestAnimationFrameRequestId=void 0}),this.body.emitter.on("destroy",()=>{this.renderRequests=0,this.allowRedraw=!1,this.renderingActive=!1,window.cancelAnimationFrame(this.requestAnimationFrameRequestId),this.body.emitter.off()})}setOptions(e){e!==void 0&&Ju(["hideEdgesOnDrag","hideEdgesOnZoom","hideNodesOnDrag"],this.options,e)}_startRendering(){if(this.renderingActive===!0&&this.requestAnimationFrameRequestId===void 0){var e;this.requestAnimationFrameRequestId=window.requestAnimationFrame(Y(e=this._renderStep).call(e,this),this.simulationInterval)}}_renderStep(){this.renderingActive===!0&&(this.requestAnimationFrameRequestId=void 0,this._startRendering(),this._redraw())}redraw(){this.body.emitter.emit("setSize"),this._redraw()}_requestRedraw(){this.redrawRequested!==!0&&this.renderingActive===!1&&this.allowRedraw===!0&&(this.redrawRequested=!0,window.requestAnimationFrame(()=>{this._redraw(!1)}))}_redraw(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;if(this.allowRedraw===!0){this.body.emitter.emit("initRedraw"),this.redrawRequested=!1;const r={drawExternalLabels:null};(this.canvas.frame.canvas.width===0||this.canvas.frame.canvas.height===0)&&this.canvas.setSize(),this.canvas.setTransform();const n=this.canvas.getContext(),i=this.canvas.frame.canvas.clientWidth,s=this.canvas.frame.canvas.clientHeight;if(n.clearRect(0,0,i,s),this.canvas.frame.clientWidth===0)return;if(n.save(),n.translate(this.body.view.translation.x,this.body.view.translation.y),n.scale(this.body.view.scale,this.body.view.scale),n.beginPath(),this.body.emitter.emit("beforeDrawing",n),n.closePath(),e===!1&&(this.dragging===!1||this.dragging===!0&&this.options.hideEdgesOnDrag===!1)&&(this.zooming===!1||this.zooming===!0&&this.options.hideEdgesOnZoom===!1)&&this._drawEdges(n),this.dragging===!1||this.dragging===!0&&this.options.hideNodesOnDrag===!1){const{drawExternalLabels:a}=this._drawNodes(n,e);r.drawExternalLabels=a}e===!1&&(this.dragging===!1||this.dragging===!0&&this.options.hideEdgesOnDrag===!1)&&(this.zooming===!1||this.zooming===!0&&this.options.hideEdgesOnZoom===!1)&&this._drawArrows(n),r.drawExternalLabels!=null&&r.drawExternalLabels(),e===!1&&this._drawSelectionBox(n),n.beginPath(),this.body.emitter.emit("afterDrawing",n),n.closePath(),n.restore(),e===!0&&n.clearRect(0,0,i,s)}}_resizeNodes(){this.canvas.setTransform();const e=this.canvas.getContext();e.save(),e.translate(this.body.view.translation.x,this.body.view.translation.y),e.scale(this.body.view.scale,this.body.view.scale);const r=this.body.nodes;let n;for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n=r[i],n.resize(e),n.updateBoundingBox(e,n.selected));e.restore()}_drawNodes(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;const n=this.body.nodes,i=this.body.nodeIndices;let s;const a=[],o=[],l=20,u=this.canvas.DOMtoCanvas({x:-l,y:-l}),d=this.canvas.DOMtoCanvas({x:this.canvas.frame.canvas.clientWidth+l,y:this.canvas.frame.canvas.clientHeight+l}),h={top:u.y,left:u.x,bottom:d.y,right:d.x},f=[];for(let b=0;b<i.length;b++)if(s=n[i[b]],s.hover)o.push(i[b]);else if(s.isSelected())a.push(i[b]);else if(r===!0){const g=s.draw(e);g.drawExternalLabel!=null&&f.push(g.drawExternalLabel)}else if(s.isBoundingBoxOverlappingWith(h)===!0){const g=s.draw(e);g.drawExternalLabel!=null&&f.push(g.drawExternalLabel)}else s.updateBoundingBox(e,s.selected);let p;const m=a.length,y=o.length;for(p=0;p<m;p++){s=n[a[p]];const b=s.draw(e);b.drawExternalLabel!=null&&f.push(b.drawExternalLabel)}for(p=0;p<y;p++){s=n[o[p]];const b=s.draw(e);b.drawExternalLabel!=null&&f.push(b.drawExternalLabel)}return{drawExternalLabels:()=>{for(const b of f)b()}}}_drawEdges(e){const r=this.body.edges,n=this.body.edgeIndices;for(let i=0;i<n.length;i++){const s=r[n[i]];s.connected===!0&&s.draw(e)}}_drawArrows(e){const r=this.body.edges,n=this.body.edgeIndices;for(let i=0;i<n.length;i++){const s=r[n[i]];s.connected===!0&&s.drawArrows(e)}}_drawSelectionBox(e){if(this.body.selectionBox.show){e.beginPath();const r=this.body.selectionBox.position.end.x-this.body.selectionBox.position.start.x,n=this.body.selectionBox.position.end.y-this.body.selectionBox.position.start.y;e.rect(this.body.selectionBox.position.start.x,this.body.selectionBox.position.start.y,r,n),e.fillStyle="rgba(151, 194, 252, 0.2)",e.fillRect(this.body.selectionBox.position.start.x,this.body.selectionBox.position.start.y,r,n),e.strokeStyle="rgba(151, 194, 252, 1)",e.stroke()}else e.closePath()}}var BE,P7;function Wye(){if(P7)return BE;P7=1,DG();var t=Ye();return BE=t.setInterval,BE}var zE,C7;function Hye(){return C7||(C7=1,zE=Wye()),zE}var Vye=Hye(),Kye=Pe(Vye);function yp(t,e){e.inputHandler=function(r){r.isFirst&&e(r)},t.on("hammer.input",e.inputHandler)}function RY(t,e){return e.inputHandler=function(r){r.isFinal&&e(r)},t.on("hammer.input",e.inputHandler)}class Gye{constructor(e){this.body=e,this.pixelRatio=1,this.cameraState={},this.initialized=!1,this.canvasViewCenter={},this._cleanupCallbacks=[],this.options={},this.defaultOptions={autoResize:!0,height:"100%",width:"100%"},Lt(this.options,this.defaultOptions),this.bindEventListeners()}bindEventListeners(){var e;this.body.emitter.once("resize",r=>{r.width!==0&&(this.body.view.translation.x=r.width*.5),r.height!==0&&(this.body.view.translation.y=r.height*.5)}),this.body.emitter.on("setSize",Y(e=this.setSize).call(e,this)),this.body.emitter.on("destroy",()=>{this.hammerFrame.destroy(),this.hammer.destroy(),this._cleanUp()})}setOptions(e){if(e!==void 0&&Ju(["width","height","autoResize"],this.options,e),this._cleanUp(),this.options.autoResize===!0){var r;if(window.ResizeObserver){const i=new ResizeObserver(()=>{this.setSize()===!0&&this.body.emitter.emit("_requestRedraw")}),{frame:s}=this;i.observe(s),this._cleanupCallbacks.push(()=>{i.unobserve(s)})}else{const i=Kye(()=>{this.setSize()===!0&&this.body.emitter.emit("_requestRedraw")},1e3);this._cleanupCallbacks.push(()=>{clearInterval(i)})}const n=Y(r=this._onResize).call(r,this);window.addEventListener("resize",n),this._cleanupCallbacks.push(()=>{window.removeEventListener("resize",n)})}}_cleanUp(){var e,r,n;Ze(e=no(r=Ji(n=this._cleanupCallbacks).call(n,0)).call(r)).call(e,i=>{try{i()}catch(s){console.error(s)}})}_onResize(){this.setSize(),this.body.emitter.emit("_redraw")}_getCameraState(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.pixelRatio;this.initialized===!0&&(this.cameraState.previousWidth=this.frame.canvas.width/e,this.cameraState.previousHeight=this.frame.canvas.height/e,this.cameraState.scale=this.body.view.scale,this.cameraState.position=this.DOMtoCanvas({x:.5*this.frame.canvas.width/e,y:.5*this.frame.canvas.height/e}))}_setCameraState(){if(this.cameraState.scale!==void 0&&this.frame.canvas.clientWidth!==0&&this.frame.canvas.clientHeight!==0&&this.pixelRatio!==0&&this.cameraState.previousWidth>0&&this.cameraState.previousHeight>0){const e=this.frame.canvas.width/this.pixelRatio/this.cameraState.previousWidth,r=this.frame.canvas.height/this.pixelRatio/this.cameraState.previousHeight;let n=this.cameraState.scale;e!=1&&r!=1?n=this.cameraState.scale*.5*(e+r):e!=1?n=this.cameraState.scale*e:r!=1&&(n=this.cameraState.scale*r),this.body.view.scale=n;const i=this.DOMtoCanvas({x:.5*this.frame.canvas.clientWidth,y:.5*this.frame.canvas.clientHeight}),s={x:i.x-this.cameraState.position.x,y:i.y-this.cameraState.position.y};this.body.view.translation.x+=s.x*this.body.view.scale,this.body.view.translation.y+=s.y*this.body.view.scale}}_prepareValue(e){if(typeof e=="number")return e+"px";if(typeof e=="string"){if(Ve(e).call(e,"%")!==-1||Ve(e).call(e,"px")!==-1)return e;if(Ve(e).call(e,"%")===-1)return e+"px"}throw new Error("Could not use the value supplied for width or height:"+e)}_create(){for(;this.body.container.hasChildNodes();)this.body.container.removeChild(this.body.container.firstChild);if(this.frame=document.createElement("div"),this.frame.className="vis-network",this.frame.style.position="relative",this.frame.style.overflow="hidden",this.frame.tabIndex=0,this.frame.canvas=document.createElement("canvas"),this.frame.canvas.style.position="relative",this.frame.appendChild(this.frame.canvas),this.frame.canvas.getContext)this._setPixelRatio(),this.setTransform();else{const e=document.createElement("DIV");e.style.color="red",e.style.fontWeight="bold",e.style.padding="10px",e.innerText="Error: your browser does not support HTML canvas",this.frame.canvas.appendChild(e)}this.body.container.appendChild(this.frame),this.body.view.scale=1,this.body.view.translation={x:.5*this.frame.canvas.clientWidth,y:.5*this.frame.canvas.clientHeight},this._bindHammer()}_bindHammer(){this.hammer!==void 0&&this.hammer.destroy(),this.drag={},this.pinch={},this.hammer=new jl(this.frame.canvas),this.hammer.get("pinch").set({enable:!0}),this.hammer.get("pan").set({threshold:5,direction:jl.DIRECTION_ALL}),yp(this.hammer,e=>{this.body.eventListeners.onTouch(e)}),this.hammer.on("tap",e=>{this.body.eventListeners.onTap(e)}),this.hammer.on("doubletap",e=>{this.body.eventListeners.onDoubleTap(e)}),this.hammer.on("press",e=>{this.body.eventListeners.onHold(e)}),this.hammer.on("panstart",e=>{this.body.eventListeners.onDragStart(e)}),this.hammer.on("panmove",e=>{this.body.eventListeners.onDrag(e)}),this.hammer.on("panend",e=>{this.body.eventListeners.onDragEnd(e)}),this.hammer.on("pinch",e=>{this.body.eventListeners.onPinch(e)}),this.frame.canvas.addEventListener("wheel",e=>{this.body.eventListeners.onMouseWheel(e)}),this.frame.canvas.addEventListener("mousemove",e=>{this.body.eventListeners.onMouseMove(e)}),this.frame.canvas.addEventListener("contextmenu",e=>{this.body.eventListeners.onContext(e)}),this.hammerFrame=new jl(this.frame),RY(this.hammerFrame,e=>{this.body.eventListeners.onRelease(e)})}setSize(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.options.width,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.options.height;e=this._prepareValue(e),r=this._prepareValue(r);let n=!1;const i=this.frame.canvas.width,s=this.frame.canvas.height,a=this.pixelRatio;if(this._setPixelRatio(),e!=this.options.width||r!=this.options.height||this.frame.style.width!=e||this.frame.style.height!=r)this._getCameraState(a),this.frame.style.width=e,this.frame.style.height=r,this.frame.canvas.style.width="100%",this.frame.canvas.style.height="100%",this.frame.canvas.width=Math.round(this.frame.canvas.clientWidth*this.pixelRatio),this.frame.canvas.height=Math.round(this.frame.canvas.clientHeight*this.pixelRatio),this.options.width=e,this.options.height=r,this.canvasViewCenter={x:.5*this.frame.clientWidth,y:.5*this.frame.clientHeight},n=!0;else{const o=Math.round(this.frame.canvas.clientWidth*this.pixelRatio),l=Math.round(this.frame.canvas.clientHeight*this.pixelRatio);(this.frame.canvas.width!==o||this.frame.canvas.height!==l)&&this._getCameraState(a),this.frame.canvas.width!==o&&(this.frame.canvas.width=o,n=!0),this.frame.canvas.height!==l&&(this.frame.canvas.height=l,n=!0)}return n===!0&&(this.body.emitter.emit("resize",{width:Math.round(this.frame.canvas.width/this.pixelRatio),height:Math.round(this.frame.canvas.height/this.pixelRatio),oldWidth:Math.round(i/this.pixelRatio),oldHeight:Math.round(s/this.pixelRatio)}),this._setCameraState()),this.initialized=!0,n}getContext(){return this.frame.canvas.getContext("2d")}_determinePixelRatio(){const e=this.getContext();if(e===void 0)throw new Error("Could not get canvax context");let r=1;typeof window<"u"&&(r=window.devicePixelRatio||1);const n=e.webkitBackingStorePixelRatio||e.mozBackingStorePixelRatio||e.msBackingStorePixelRatio||e.oBackingStorePixelRatio||e.backingStorePixelRatio||1;return r/n}_setPixelRatio(){this.pixelRatio=this._determinePixelRatio()}setTransform(){const e=this.getContext();if(e===void 0)throw new Error("Could not get canvax context");e.setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0)}_XconvertDOMtoCanvas(e){return(e-this.body.view.translation.x)/this.body.view.scale}_XconvertCanvasToDOM(e){return e*this.body.view.scale+this.body.view.translation.x}_YconvertDOMtoCanvas(e){return(e-this.body.view.translation.y)/this.body.view.scale}_YconvertCanvasToDOM(e){return e*this.body.view.scale+this.body.view.translation.y}canvasToDOM(e){return{x:this._XconvertCanvasToDOM(e.x),y:this._YconvertCanvasToDOM(e.y)}}DOMtoCanvas(e){return{x:this._XconvertDOMtoCanvas(e.x),y:this._YconvertDOMtoCanvas(e.y)}}}function Yye(t,e){const r=Lt({nodes:e,minZoomLevel:Number.MIN_VALUE,maxZoomLevel:1},t??{});if(!It(r.nodes))throw new TypeError("Nodes has to be an array of ids.");if(r.nodes.length===0&&(r.nodes=e),!(typeof r.minZoomLevel=="number"&&r.minZoomLevel>0))throw new TypeError("Min zoom level has to be a number higher than zero.");if(!(typeof r.maxZoomLevel=="number"&&r.minZoomLevel<=r.maxZoomLevel))throw new TypeError("Max zoom level has to be a number higher than min zoom level.");return r}class Qye{constructor(e,r){var n,i;this.body=e,this.canvas=r,this.animationSpeed=1/this.renderRefreshRate,this.animationEasingFunction="easeInOutQuint",this.easingTime=0,this.sourceScale=0,this.targetScale=0,this.sourceTranslation=0,this.targetTranslation=0,this.lockedOnNodeId=void 0,this.lockedOnNodeOffset=void 0,this.touchTime=0,this.viewFunction=void 0,this.body.emitter.on("fit",Y(n=this.fit).call(n,this)),this.body.emitter.on("animationFinished",()=>{this.body.emitter.emit("_stopRendering")}),this.body.emitter.on("unlockNode",Y(i=this.releaseNode).call(i,this))}setOptions(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.options=e}fit(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;e=Yye(e,this.body.nodeIndices);const n=this.canvas.frame.canvas.clientWidth,i=this.canvas.frame.canvas.clientHeight;let s,a;if(n===0||i===0)a=1,s=qr.getRange(this.body.nodes,e.nodes);else if(r===!0){let u=0;for(const f in this.body.nodes)Object.prototype.hasOwnProperty.call(this.body.nodes,f)&&this.body.nodes[f].predefinedPosition===!0&&(u+=1);if(u>.5*this.body.nodeIndices.length){this.fit(e,!1);return}s=qr.getRange(this.body.nodes,e.nodes),a=12.662/(this.body.nodeIndices.length+7.4147)+.0964822;const h=Math.min(n/600,i/600);a*=h}else{this.body.emitter.emit("_resizeNodes"),s=qr.getRange(this.body.nodes,e.nodes);const u=Math.abs(s.maxX-s.minX)*1.1,d=Math.abs(s.maxY-s.minY)*1.1,h=n/u,f=i/d;a=h<=f?h:f}a>e.maxZoomLevel?a=e.maxZoomLevel:a<e.minZoomLevel&&(a=e.minZoomLevel);const l={position:qr.findCenter(s),scale:a,animation:e.animation};this.moveTo(l)}focus(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(this.body.nodes[e]!==void 0){const n={x:this.body.nodes[e].x,y:this.body.nodes[e].y};r.position=n,r.lockedOnNode=e,this.moveTo(r)}else console.error("Node: "+e+" cannot be found.")}moveTo(e){if(e===void 0){e={};return}if(e.offset!=null){if(e.offset.x!=null){if(e.offset.x=+e.offset.x,!Ba(e.offset.x))throw new TypeError('The option "offset.x" has to be a finite number.')}else e.offset.x=0;if(e.offset.y!=null){if(e.offset.y=+e.offset.y,!Ba(e.offset.y))throw new TypeError('The option "offset.y" has to be a finite number.')}else e.offset.x=0}else e.offset={x:0,y:0};if(e.position!=null){if(e.position.x!=null){if(e.position.x=+e.position.x,!Ba(e.position.x))throw new TypeError('The option "position.x" has to be a finite number.')}else e.position.x=0;if(e.position.y!=null){if(e.position.y=+e.position.y,!Ba(e.position.y))throw new TypeError('The option "position.y" has to be a finite number.')}else e.position.x=0}else e.position=this.getViewPosition();if(e.scale!=null){if(e.scale=+e.scale,!(e.scale>0))throw new TypeError('The option "scale" has to be a number greater than zero.')}else e.scale=this.body.view.scale;e.animation===void 0&&(e.animation={duration:0}),e.animation===!1&&(e.animation={duration:0}),e.animation===!0&&(e.animation={}),e.animation.duration===void 0&&(e.animation.duration=1e3),e.animation.easingFunction===void 0&&(e.animation.easingFunction="easeInOutQuad"),this.animateView(e)}animateView(e){if(e===void 0)return;this.animationEasingFunction=e.animation.easingFunction,this.releaseNode(),e.locked===!0&&(this.lockedOnNodeId=e.lockedOnNode,this.lockedOnNodeOffset=e.offset),this.easingTime!=0&&this._transitionRedraw(!0),this.sourceScale=this.body.view.scale,this.sourceTranslation=this.body.view.translation,this.targetScale=e.scale,this.body.view.scale=this.targetScale;const r=this.canvas.DOMtoCanvas({x:.5*this.canvas.frame.canvas.clientWidth,y:.5*this.canvas.frame.canvas.clientHeight}),n={x:r.x-e.position.x,y:r.y-e.position.y};if(this.targetTranslation={x:this.sourceTranslation.x+n.x*this.targetScale+e.offset.x,y:this.sourceTranslation.y+n.y*this.targetScale+e.offset.y},e.animation.duration===0)if(this.lockedOnNodeId!=null){var i;this.viewFunction=Y(i=this._lockedRedraw).call(i,this),this.body.emitter.on("initRedraw",this.viewFunction)}else this.body.view.scale=this.targetScale,this.body.view.translation=this.targetTranslation,this.body.emitter.emit("_requestRedraw");else{var s;this.animationSpeed=1/(60*e.animation.duration*.001)||1/60,this.animationEasingFunction=e.animation.easingFunction,this.viewFunction=Y(s=this._transitionRedraw).call(s,this),this.body.emitter.on("initRedraw",this.viewFunction),this.body.emitter.emit("_startRendering")}}_lockedRedraw(){const e={x:this.body.nodes[this.lockedOnNodeId].x,y:this.body.nodes[this.lockedOnNodeId].y},r=this.canvas.DOMtoCanvas({x:.5*this.canvas.frame.canvas.clientWidth,y:.5*this.canvas.frame.canvas.clientHeight}),n={x:r.x-e.x,y:r.y-e.y},i=this.body.view.translation,s={x:i.x+n.x*this.body.view.scale+this.lockedOnNodeOffset.x,y:i.y+n.y*this.body.view.scale+this.lockedOnNodeOffset.y};this.body.view.translation=s}releaseNode(){this.lockedOnNodeId!==void 0&&this.viewFunction!==void 0&&(this.body.emitter.off("initRedraw",this.viewFunction),this.lockedOnNodeId=void 0,this.lockedOnNodeOffset=void 0)}_transitionRedraw(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;this.easingTime+=this.animationSpeed,this.easingTime=e===!0?1:this.easingTime;const r=ime[this.animationEasingFunction](this.easingTime);if(this.body.view.scale=this.sourceScale+(this.targetScale-this.sourceScale)*r,this.body.view.translation={x:this.sourceTranslation.x+(this.targetTranslation.x-this.sourceTranslation.x)*r,y:this.sourceTranslation.y+(this.targetTranslation.y-this.sourceTranslation.y)*r},this.easingTime>=1){if(this.body.emitter.off("initRedraw",this.viewFunction),this.easingTime=0,this.lockedOnNodeId!=null){var n;this.viewFunction=Y(n=this._lockedRedraw).call(n,this),this.body.emitter.on("initRedraw",this.viewFunction)}this.body.emitter.emit("animationFinished")}}getScale(){return this.body.view.scale}getViewPosition(){return this.canvas.DOMtoCanvas({x:.5*this.canvas.frame.canvas.clientWidth,y:.5*this.canvas.frame.canvas.clientHeight})}}function N7(t){var e=t&&t.preventDefault||!1,r=t&&t.container||window,n={},i={keydown:{},keyup:{}},s={},a;for(a=97;a<=122;a++)s[String.fromCharCode(a)]={code:65+(a-97),shift:!1};for(a=65;a<=90;a++)s[String.fromCharCode(a)]={code:a,shift:!0};for(a=0;a<=9;a++)s[""+a]={code:48+a,shift:!1};for(a=1;a<=12;a++)s["F"+a]={code:111+a,shift:!1};for(a=0;a<=9;a++)s["num"+a]={code:96+a,shift:!1};s["num*"]={code:106,shift:!1},s["num+"]={code:107,shift:!1},s["num-"]={code:109,shift:!1},s["num/"]={code:111,shift:!1},s["num."]={code:110,shift:!1},s.left={code:37,shift:!1},s.up={code:38,shift:!1},s.right={code:39,shift:!1},s.down={code:40,shift:!1},s.space={code:32,shift:!1},s.enter={code:13,shift:!1},s.shift={code:16,shift:void 0},s.esc={code:27,shift:!1},s.backspace={code:8,shift:!1},s.tab={code:9,shift:!1},s.ctrl={code:17,shift:!1},s.alt={code:18,shift:!1},s.delete={code:46,shift:!1},s.pageup={code:33,shift:!1},s.pagedown={code:34,shift:!1},s["="]={code:187,shift:!1},s["-"]={code:189,shift:!1},s["]"]={code:221,shift:!1},s["["]={code:219,shift:!1};var o=function(d){u(d,"keydown")},l=function(d){u(d,"keyup")},u=function(d,h){if(i[h][d.keyCode]!==void 0){for(var f=i[h][d.keyCode],p=0;p<f.length;p++)(f[p].shift===void 0||f[p].shift==!0&&d.shiftKey==!0||f[p].shift==!1&&d.shiftKey==!1)&&f[p].fn(d);e==!0&&d.preventDefault()}};return n.bind=function(d,h,f){if(f===void 0&&(f="keydown"),s[d]===void 0)throw new Error("unsupported key: "+d);i[f][s[d].code]===void 0&&(i[f][s[d].code]=[]),i[f][s[d].code].push({fn:h,shift:s[d].shift})},n.bindAll=function(d,h){h===void 0&&(h="keydown");for(var f in s)s.hasOwnProperty(f)&&n.bind(f,d,h)},n.getKey=function(d){for(var h in s)if(s.hasOwnProperty(h)){if(d.shiftKey==!0&&s[h].shift==!0&&d.keyCode==s[h].code)return h;if(d.shiftKey==!1&&s[h].shift==!1&&d.keyCode==s[h].code)return h;if(d.keyCode==s[h].code&&h=="shift")return h}return"unknown key, currently not supported"},n.unbind=function(d,h,f){if(f===void 0&&(f="keydown"),s[d]===void 0)throw new Error("unsupported key: "+d);if(h!==void 0){var p=[],m=i[f][s[d].code];if(m!==void 0)for(var y=0;y<m.length;y++)m[y].fn==h&&m[y].shift==s[d].shift||p.push(i[f][s[d].code][y]);i[f][s[d].code]=p}else i[f][s[d].code]=[]},n.reset=function(){i={keydown:{},keyup:{}}},n.destroy=function(){i={keydown:{},keyup:{}},r.removeEventListener("keydown",o,!0),r.removeEventListener("keyup",l,!0)},r.addEventListener("keydown",o,!0),r.addEventListener("keyup",l,!0),n}class Xye{constructor(e,r){this.body=e,this.canvas=r,this.iconsCreated=!1,this.navigationHammers=[],this.boundFunctions={},this.touchTime=0,this.activated=!1,this.body.emitter.on("activate",()=>{this.activated=!0,this.configureKeyboardBindings()}),this.body.emitter.on("deactivate",()=>{this.activated=!1,this.configureKeyboardBindings()}),this.body.emitter.on("destroy",()=>{this.keycharm!==void 0&&this.keycharm.destroy()}),this.options={}}setOptions(e){e!==void 0&&(this.options=e,this.create())}create(){this.options.navigationButtons===!0?this.iconsCreated===!1&&this.loadNavigationElements():this.iconsCreated===!0&&this.cleanNavigation(),this.configureKeyboardBindings()}cleanNavigation(){if(this.navigationHammers.length!=0){for(let e=0;e<this.navigationHammers.length;e++)this.navigationHammers[e].destroy();this.navigationHammers=[]}this.navigationDOM&&this.navigationDOM.wrapper&&this.navigationDOM.wrapper.parentNode&&this.navigationDOM.wrapper.parentNode.removeChild(this.navigationDOM.wrapper),this.iconsCreated=!1}loadNavigationElements(){this.cleanNavigation(),this.navigationDOM={};const e=["up","down","left","right","zoomIn","zoomOut","zoomExtends"],r=["_moveUp","_moveDown","_moveLeft","_moveRight","_zoomIn","_zoomOut","_fit"];this.navigationDOM.wrapper=document.createElement("div"),this.navigationDOM.wrapper.className="vis-navigation",this.canvas.frame.appendChild(this.navigationDOM.wrapper);for(let a=0;a<e.length;a++){this.navigationDOM[e[a]]=document.createElement("div"),this.navigationDOM[e[a]].className="vis-button vis-"+e[a],this.navigationDOM.wrapper.appendChild(this.navigationDOM[e[a]]);const o=new jl(this.navigationDOM[e[a]]);if(r[a]==="_fit"){var n;yp(o,Y(n=this._fit).call(n,this))}else{var i;yp(o,Y(i=this.bindToRedraw).call(i,this,r[a]))}this.navigationHammers.push(o)}const s=new jl(this.canvas.frame);RY(s,()=>{this._stopMovement()}),this.navigationHammers.push(s),this.iconsCreated=!0}bindToRedraw(e){if(this.boundFunctions[e]===void 0){var r;this.boundFunctions[e]=Y(r=this[e]).call(r,this),this.body.emitter.on("initRedraw",this.boundFunctions[e]),this.body.emitter.emit("_startRendering")}}unbindFromRedraw(e){this.boundFunctions[e]!==void 0&&(this.body.emitter.off("initRedraw",this.boundFunctions[e]),this.body.emitter.emit("_stopRendering"),delete this.boundFunctions[e])}_fit(){new Date().valueOf()-this.touchTime>700&&(this.body.emitter.emit("fit",{duration:700}),this.touchTime=new Date().valueOf())}_stopMovement(){for(const e in this.boundFunctions)Object.prototype.hasOwnProperty.call(this.boundFunctions,e)&&(this.body.emitter.off("initRedraw",this.boundFunctions[e]),this.body.emitter.emit("_stopRendering"));this.boundFunctions={}}_moveUp(){this.body.view.translation.y+=this.options.keyboard.speed.y}_moveDown(){this.body.view.translation.y-=this.options.keyboard.speed.y}_moveLeft(){this.body.view.translation.x+=this.options.keyboard.speed.x}_moveRight(){this.body.view.translation.x-=this.options.keyboard.speed.x}_zoomIn(){const e=this.body.view.scale,r=this.body.view.scale*(1+this.options.keyboard.speed.zoom),n=this.body.view.translation,i=r/e,s=(1-i)*this.canvas.canvasViewCenter.x+n.x*i,a=(1-i)*this.canvas.canvasViewCenter.y+n.y*i;this.body.view.scale=r,this.body.view.translation={x:s,y:a},this.body.emitter.emit("zoom",{direction:"+",scale:this.body.view.scale,pointer:null})}_zoomOut(){const e=this.body.view.scale,r=this.body.view.scale/(1+this.options.keyboard.speed.zoom),n=this.body.view.translation,i=r/e,s=(1-i)*this.canvas.canvasViewCenter.x+n.x*i,a=(1-i)*this.canvas.canvasViewCenter.y+n.y*i;this.body.view.scale=r,this.body.view.translation={x:s,y:a},this.body.emitter.emit("zoom",{direction:"-",scale:this.body.view.scale,pointer:null})}configureKeyboardBindings(){if(this.keycharm!==void 0&&this.keycharm.destroy(),this.options.keyboard.enabled===!0&&(this.options.keyboard.bindToWindow===!0?this.keycharm=N7({container:window,preventDefault:!0}):this.keycharm=N7({container:this.canvas.frame,preventDefault:!0}),this.keycharm.reset(),this.activated===!0)){var e,r,n,i,s,a,o,l,u,d,h,f,p,m,y,b,g,v,x,w,_,E,O,S;Y(e=this.keycharm).call(e,"up",()=>{this.bindToRedraw("_moveUp")},"keydown"),Y(r=this.keycharm).call(r,"down",()=>{this.bindToRedraw("_moveDown")},"keydown"),Y(n=this.keycharm).call(n,"left",()=>{this.bindToRedraw("_moveLeft")},"keydown"),Y(i=this.keycharm).call(i,"right",()=>{this.bindToRedraw("_moveRight")},"keydown"),Y(s=this.keycharm).call(s,"=",()=>{this.bindToRedraw("_zoomIn")},"keydown"),Y(a=this.keycharm).call(a,"num+",()=>{this.bindToRedraw("_zoomIn")},"keydown"),Y(o=this.keycharm).call(o,"num-",()=>{this.bindToRedraw("_zoomOut")},"keydown"),Y(l=this.keycharm).call(l,"-",()=>{this.bindToRedraw("_zoomOut")},"keydown"),Y(u=this.keycharm).call(u,"[",()=>{this.bindToRedraw("_zoomOut")},"keydown"),Y(d=this.keycharm).call(d,"]",()=>{this.bindToRedraw("_zoomIn")},"keydown"),Y(h=this.keycharm).call(h,"pageup",()=>{this.bindToRedraw("_zoomIn")},"keydown"),Y(f=this.keycharm).call(f,"pagedown",()=>{this.bindToRedraw("_zoomOut")},"keydown"),Y(p=this.keycharm).call(p,"up",()=>{this.unbindFromRedraw("_moveUp")},"keyup"),Y(m=this.keycharm).call(m,"down",()=>{this.unbindFromRedraw("_moveDown")},"keyup"),Y(y=this.keycharm).call(y,"left",()=>{this.unbindFromRedraw("_moveLeft")},"keyup"),Y(b=this.keycharm).call(b,"right",()=>{this.unbindFromRedraw("_moveRight")},"keyup"),Y(g=this.keycharm).call(g,"=",()=>{this.unbindFromRedraw("_zoomIn")},"keyup"),Y(v=this.keycharm).call(v,"num+",()=>{this.unbindFromRedraw("_zoomIn")},"keyup"),Y(x=this.keycharm).call(x,"num-",()=>{this.unbindFromRedraw("_zoomOut")},"keyup"),Y(w=this.keycharm).call(w,"-",()=>{this.unbindFromRedraw("_zoomOut")},"keyup"),Y(_=this.keycharm).call(_,"[",()=>{this.unbindFromRedraw("_zoomOut")},"keyup"),Y(E=this.keycharm).call(E,"]",()=>{this.unbindFromRedraw("_zoomIn")},"keyup"),Y(O=this.keycharm).call(O,"pageup",()=>{this.unbindFromRedraw("_zoomIn")},"keyup"),Y(S=this.keycharm).call(S,"pagedown",()=>{this.unbindFromRedraw("_zoomOut")},"keyup")}}}class Jye{constructor(e,r,n){var i,s,a,o,l,u,d,h,f,p,m,y,b;this.body=e,this.canvas=r,this.selectionHandler=n,this.navigationHandler=new Xye(e,r),this.body.eventListeners.onTap=Y(i=this.onTap).call(i,this),this.body.eventListeners.onTouch=Y(s=this.onTouch).call(s,this),this.body.eventListeners.onDoubleTap=Y(a=this.onDoubleTap).call(a,this),this.body.eventListeners.onHold=Y(o=this.onHold).call(o,this),this.body.eventListeners.onDragStart=Y(l=this.onDragStart).call(l,this),this.body.eventListeners.onDrag=Y(u=this.onDrag).call(u,this),this.body.eventListeners.onDragEnd=Y(d=this.onDragEnd).call(d,this),this.body.eventListeners.onMouseWheel=Y(h=this.onMouseWheel).call(h,this),this.body.eventListeners.onPinch=Y(f=this.onPinch).call(f,this),this.body.eventListeners.onMouseMove=Y(p=this.onMouseMove).call(p,this),this.body.eventListeners.onRelease=Y(m=this.onRelease).call(m,this),this.body.eventListeners.onContext=Y(y=this.onContext).call(y,this),this.touchTime=0,this.drag={},this.pinch={},this.popup=void 0,this.popupObj=void 0,this.popupTimer=void 0,this.body.functions.getPointer=Y(b=this.getPointer).call(b,this),this.options={},this.defaultOptions={dragNodes:!0,dragView:!0,hover:!1,keyboard:{enabled:!1,speed:{x:10,y:10,zoom:.02},bindToWindow:!0,autoFocus:!0},navigationButtons:!1,tooltipDelay:300,zoomView:!0,zoomSpeed:1},Lt(this.options,this.defaultOptions),this.bindEventListeners()}bindEventListeners(){this.body.emitter.on("destroy",()=>{clearTimeout(this.popupTimer),delete this.body.functions.getPointer})}setOptions(e){e!==void 0&&(mp(["hideEdgesOnDrag","hideEdgesOnZoom","hideNodesOnDrag","keyboard","multiselect","selectable","selectConnectedEdges"],this.options,e),Nn(this.options,e,"keyboard"),e.tooltip&&(Lt(this.options.tooltip,e.tooltip),e.tooltip.color&&(this.options.tooltip.color=yP(e.tooltip.color)))),this.navigationHandler.setOptions(this.options)}getPointer(e){return{x:e.x-eme(this.canvas.frame.canvas),y:e.y-tme(this.canvas.frame.canvas)}}onTouch(e){new Date().valueOf()-this.touchTime>50&&(this.drag.pointer=this.getPointer(e.center),this.drag.pinched=!1,this.pinch.scale=this.body.view.scale,this.touchTime=new Date().valueOf())}onTap(e){const r=this.getPointer(e.center),n=this.selectionHandler.options.multiselect&&(e.changedPointers[0].ctrlKey||e.changedPointers[0].metaKey);this.checkSelectionChanges(r,n),this.selectionHandler.commitAndEmit(r,e),this.selectionHandler.generateClickEvent("click",e,r)}onDoubleTap(e){const r=this.getPointer(e.center);this.selectionHandler.generateClickEvent("doubleClick",e,r)}onHold(e){const r=this.getPointer(e.center),n=this.selectionHandler.options.multiselect;this.checkSelectionChanges(r,n),this.selectionHandler.commitAndEmit(r,e),this.selectionHandler.generateClickEvent("click",e,r),this.selectionHandler.generateClickEvent("hold",e,r)}onRelease(e){if(new Date().valueOf()-this.touchTime>10){const r=this.getPointer(e.center);this.selectionHandler.generateClickEvent("release",e,r),this.touchTime=new Date().valueOf()}}onContext(e){const r=this.getPointer({x:e.clientX,y:e.clientY});this.selectionHandler.generateClickEvent("oncontext",e,r)}checkSelectionChanges(e){(arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1)===!0?this.selectionHandler.selectAdditionalOnPoint(e):this.selectionHandler.selectOnPoint(e)}_determineDifference(e,r){const n=function(i,s){const a=[];for(let o=0;o<i.length;o++){const l=i[o];Ve(s).call(s,l)===-1&&a.push(l)}return a};return{nodes:n(e.nodes,r.nodes),edges:n(e.edges,r.edges)}}onDragStart(e){if(this.drag.dragging)return;this.drag.pointer===void 0&&this.onTouch(e);const r=this.selectionHandler.getNodeAt(this.drag.pointer);if(this.drag.dragging=!0,this.drag.selection=[],this.drag.translation=Lt({},this.body.view.translation),this.drag.nodeId=void 0,e.srcEvent.shiftKey){this.body.selectionBox.show=!0;const n=this.getPointer(e.center);this.body.selectionBox.position.start={x:this.canvas._XconvertDOMtoCanvas(n.x),y:this.canvas._YconvertDOMtoCanvas(n.y)},this.body.selectionBox.position.end={x:this.canvas._XconvertDOMtoCanvas(n.x),y:this.canvas._YconvertDOMtoCanvas(n.y)}}else if(r!==void 0&&this.options.dragNodes===!0){this.drag.nodeId=r.id,r.isSelected()===!1&&this.selectionHandler.setSelection({nodes:[r.id]}),this.selectionHandler.generateClickEvent("dragStart",e,this.drag.pointer);for(const n of this.selectionHandler.getSelectedNodes()){const i={id:n.id,node:n,x:n.x,y:n.y,xFixed:n.options.fixed.x,yFixed:n.options.fixed.y};n.options.fixed.x=!0,n.options.fixed.y=!0,this.drag.selection.push(i)}}else this.selectionHandler.generateClickEvent("dragStart",e,this.drag.pointer,void 0,!0)}onDrag(e){if(this.drag.pinched===!0)return;this.body.emitter.emit("unlockNode");const r=this.getPointer(e.center),n=this.drag.selection;if(n&&n.length&&this.options.dragNodes===!0){this.selectionHandler.generateClickEvent("dragging",e,r);const i=r.x-this.drag.pointer.x,s=r.y-this.drag.pointer.y;Ze(n).call(n,a=>{const o=a.node;a.xFixed===!1&&(o.x=this.canvas._XconvertDOMtoCanvas(this.canvas._XconvertCanvasToDOM(a.x)+i)),a.yFixed===!1&&(o.y=this.canvas._YconvertDOMtoCanvas(this.canvas._YconvertCanvasToDOM(a.y)+s))}),this.body.emitter.emit("startSimulation")}else{if(e.srcEvent.shiftKey){if(this.selectionHandler.generateClickEvent("dragging",e,r,void 0,!0),this.drag.pointer===void 0){this.onDragStart(e);return}this.body.selectionBox.position.end={x:this.canvas._XconvertDOMtoCanvas(r.x),y:this.canvas._YconvertDOMtoCanvas(r.y)},this.body.emitter.emit("_requestRedraw")}if(this.options.dragView===!0&&!e.srcEvent.shiftKey){if(this.selectionHandler.generateClickEvent("dragging",e,r,void 0,!0),this.drag.pointer===void 0){this.onDragStart(e);return}const i=r.x-this.drag.pointer.x,s=r.y-this.drag.pointer.y;this.body.view.translation={x:this.drag.translation.x+i,y:this.drag.translation.y+s},this.body.emitter.emit("_requestRedraw")}}}onDragEnd(e){if(this.drag.dragging=!1,this.body.selectionBox.show){var r;this.body.selectionBox.show=!1;const n=this.body.selectionBox.position,i={minX:Math.min(n.start.x,n.end.x),minY:Math.min(n.start.y,n.end.y),maxX:Math.max(n.start.x,n.end.x),maxY:Math.max(n.start.y,n.end.y)},s=Yr(r=this.body.nodeIndices).call(r,o=>{const l=this.body.nodes[o];return l.x>=i.minX&&l.x<=i.maxX&&l.y>=i.minY&&l.y<=i.maxY});Ze(s).call(s,o=>this.selectionHandler.selectObject(this.body.nodes[o]));const a=this.getPointer(e.center);this.selectionHandler.commitAndEmit(a,e),this.selectionHandler.generateClickEvent("dragEnd",e,this.getPointer(e.center),void 0,!0),this.body.emitter.emit("_requestRedraw")}else{const n=this.drag.selection;n&&n.length?(Ze(n).call(n,function(i){i.node.options.fixed.x=i.xFixed,i.node.options.fixed.y=i.yFixed}),this.selectionHandler.generateClickEvent("dragEnd",e,this.getPointer(e.center)),this.body.emitter.emit("startSimulation")):(this.selectionHandler.generateClickEvent("dragEnd",e,this.getPointer(e.center),void 0,!0),this.body.emitter.emit("_requestRedraw"))}}onPinch(e){const r=this.getPointer(e.center);this.drag.pinched=!0,this.pinch.scale===void 0&&(this.pinch.scale=1);const n=this.pinch.scale*e.scale;this.zoom(n,r)}zoom(e,r){if(this.options.zoomView===!0){const n=this.body.view.scale;e<1e-5&&(e=1e-5),e>10&&(e=10);let i;this.drag!==void 0&&this.drag.dragging===!0&&(i=this.canvas.DOMtoCanvas(this.drag.pointer));const s=this.body.view.translation,a=e/n,o=(1-a)*r.x+s.x*a,l=(1-a)*r.y+s.y*a;if(this.body.view.scale=e,this.body.view.translation={x:o,y:l},i!=null){const u=this.canvas.canvasToDOM(i);this.drag.pointer.x=u.x,this.drag.pointer.y=u.y}this.body.emitter.emit("_requestRedraw"),n<e?this.body.emitter.emit("zoom",{direction:"+",scale:this.body.view.scale,pointer:r}):this.body.emitter.emit("zoom",{direction:"-",scale:this.body.view.scale,pointer:r})}}onMouseWheel(e){if(this.options.zoomView===!0){if(e.deltaY!==0){let r=this.body.view.scale;r*=1+(e.deltaY<0?1:-1)*(this.options.zoomSpeed*.1);const n=this.getPointer({x:e.clientX,y:e.clientY});this.zoom(r,n)}e.preventDefault()}}onMouseMove(e){const r=this.getPointer({x:e.clientX,y:e.clientY});let n=!1;this.popup!==void 0&&(this.popup.hidden===!1&&this._checkHidePopup(r),this.popup.hidden===!1&&(n=!0,this.popup.setPosition(r.x+3,r.y-5),this.popup.show())),this.options.keyboard.autoFocus&&this.options.keyboard.bindToWindow===!1&&this.options.keyboard.enabled===!0&&this.canvas.frame.focus(),n===!1&&(this.popupTimer!==void 0&&(clearInterval(this.popupTimer),this.popupTimer=void 0),this.drag.dragging||(this.popupTimer=Zi(()=>this._checkShowPopup(r),this.options.tooltipDelay))),this.options.hover===!0&&this.selectionHandler.hoverObject(e,r)}_checkShowPopup(e){const r=this.canvas._XconvertDOMtoCanvas(e.x),n=this.canvas._YconvertDOMtoCanvas(e.y),i={left:r,top:n,right:r,bottom:n},s=this.popupObj===void 0?void 0:this.popupObj.id;let a=!1,o="node";if(this.popupObj===void 0){const l=this.body.nodeIndices,u=this.body.nodes;let d;const h=[];for(let f=0;f<l.length;f++)d=u[l[f]],d.isOverlappingWith(i)===!0&&(a=!0,d.getTitle()!==void 0&&h.push(l[f]));h.length>0&&(this.popupObj=u[h[h.length-1]],a=!0)}if(this.popupObj===void 0&&a===!1){const l=this.body.edgeIndices,u=this.body.edges;let d;const h=[];for(let f=0;f<l.length;f++)d=u[l[f]],d.isOverlappingWith(i)===!0&&d.connected===!0&&d.getTitle()!==void 0&&h.push(l[f]);h.length>0&&(this.popupObj=u[h[h.length-1]],o="edge")}this.popupObj!==void 0?this.popupObj.id!==s&&(this.popup===void 0&&(this.popup=new hme(this.canvas.frame)),this.popup.popupTargetType=o,this.popup.popupTargetId=this.popupObj.id,this.popup.setPosition(e.x+3,e.y-5),this.popup.setText(this.popupObj.getTitle()),this.popup.show(),this.body.emitter.emit("showPopup",this.popupObj.id)):this.popup!==void 0&&(this.popup.hide(),this.body.emitter.emit("hidePopup"))}_checkHidePopup(e){const r=this.selectionHandler._pointerToPositionObject(e);let n=!1;if(this.popup.popupTargetType==="node"){if(this.body.nodes[this.popup.popupTargetId]!==void 0&&(n=this.body.nodes[this.popup.popupTargetId].isOverlappingWith(r),n===!0)){const i=this.selectionHandler.getNodeAt(e);n=i===void 0?!1:i.id===this.popup.popupTargetId}}else this.selectionHandler.getNodeAt(e)===void 0&&this.body.edges[this.popup.popupTargetId]!==void 0&&(n=this.body.edges[this.popup.popupTargetId].isOverlappingWith(r));n===!1&&(this.popupObj=void 0,this.popup.hide(),this.body.emitter.emit("hidePopup"))}}var T7={},I7={},R7;function Zye(){if(R7)return I7;R7=1;var t=BN(),e=wY();return t("Set",function(r){return function(){return r(this,arguments.length?arguments[0]:void 0)}},e),I7}var j7;function ebe(){return j7||(j7=1,Zye()),T7}var $7={},UE,k7;function Vo(){if(k7)return UE;k7=1;var t=Lu(),e=TypeError;return UE=function(r){if(typeof r=="object"&&"size"in r&&"has"in r&&"add"in r&&"delete"in r&&"keys"in r)return r;throw new e(t(r)+" is not a set")},UE}var WE,D7;function Ko(){if(D7)return WE;D7=1;var t=xn(),e=xY(),r=t("Set"),n=r.prototype;return WE={Set:r,add:e("add",1),has:e("has",1),remove:e("delete",1),proto:n},WE}var HE,q7;function Go(){if(q7)return HE;q7=1;var t=ln();return HE=function(e,r,n){for(var i=n?e:e.iterator,s=e.next,a,o;!(a=t(s,i)).done;)if(o=r(a.value),o!==void 0)return o},HE}var VE,M7;function xh(){if(M7)return VE;M7=1;var t=Go();return VE=function(e,r,n){return n?t(e.keys(),r,!0):e.forEach(r)},VE}var KE,A7;function GN(){if(A7)return KE;A7=1;var t=Ko(),e=xh(),r=t.Set,n=t.add;return KE=function(i){var s=new r;return e(i,function(a){n(s,a)}),s},KE}var GE,F7;function _h(){return F7||(F7=1,GE=function(t){return t.size}),GE}var YE,L7;function tbe(){return L7||(L7=1,YE=function(t){return{iterator:t,next:t.next,done:!1}}),YE}var QE,B7;function Yo(){if(B7)return QE;B7=1;var t=ys(),e=Ri(),r=ln(),n=Wu(),i=tbe(),s="Invalid size",a=RangeError,o=TypeError,l=Math.max,u=function(d,h){this.set=d,this.size=l(h,0),this.has=t(d.has),this.keys=t(d.keys)};return u.prototype={getIterator:function(){return i(e(r(this.keys,this.set)))},includes:function(d){return r(this.has,this.set,d)}},QE=function(d){e(d);var h=+d.size;if(h!==h)throw new o(s);var f=n(h);if(f<0)throw new a(s);return new u(d,f)},QE}var XE,z7;function rbe(){if(z7)return XE;z7=1;var t=Vo(),e=Ko(),r=GN(),n=_h(),i=Yo(),s=xh(),a=Go(),o=e.has,l=e.remove;return XE=function(d){var h=t(this),f=i(d),p=r(h);return n(h)<=f.size?s(h,function(m){f.includes(m)&&l(p,m)}):a(f.getIterator(),function(m){o(p,m)&&l(p,m)}),p},XE}var JE,U7;function Qo(){return U7||(U7=1,JE=function(){return!1}),JE}var W7;function nbe(){if(W7)return $7;W7=1;var t=we(),e=rbe(),r=qe(),n=Qo(),i=!n("difference",function(a){return a.size===0}),s=i||r(function(){var a={size:1,has:function(){return!0},keys:function(){var l=0;return{next:function(){var u=l++>1;return o.has(1)&&o.clear(),{done:u,value:2}}}}},o=new Set([1,2,3,4]);return o.difference(a).size!==3});return t({target:"Set",proto:!0,real:!0,forced:s},{difference:e}),$7}var H7={},ZE,V7;function ibe(){if(V7)return ZE;V7=1;var t=Vo(),e=Ko(),r=_h(),n=Yo(),i=xh(),s=Go(),a=e.Set,o=e.add,l=e.has;return ZE=function(d){var h=t(this),f=n(d),p=new a;return r(h)>f.size?s(f.getIterator(),function(m){l(h,m)&&o(p,m)}):i(h,function(m){f.includes(m)&&o(p,m)}),p},ZE}var K7;function sbe(){if(K7)return H7;K7=1;var t=we(),e=qe(),r=ibe(),n=Qo(),i=!n("intersection",function(s){return s.size===2&&s.has(1)&&s.has(2)})||e(function(){return String(Array.from(new Set([1,2,3]).intersection(new Set([3,2]))))!=="3,2"});return t({target:"Set",proto:!0,real:!0,forced:i},{intersection:r}),H7}var G7={},e2,Y7;function abe(){if(Y7)return e2;Y7=1;var t=Vo(),e=Ko().has,r=_h(),n=Yo(),i=xh(),s=Go(),a=FN();return e2=function(l){var u=t(this),d=n(l);if(r(u)<=d.size)return i(u,function(f){if(d.includes(f))return!1},!0)!==!1;var h=d.getIterator();return s(h,function(f){if(e(u,f))return a(h,"normal",!1)})!==!1},e2}var Q7;function obe(){if(Q7)return G7;Q7=1;var t=we(),e=abe(),r=Qo(),n=!r("isDisjointFrom",function(i){return!i});return t({target:"Set",proto:!0,real:!0,forced:n},{isDisjointFrom:e}),G7}var X7={},t2,J7;function lbe(){if(J7)return t2;J7=1;var t=Vo(),e=_h(),r=xh(),n=Yo();return t2=function(s){var a=t(this),o=n(s);return e(a)>o.size?!1:r(a,function(l){if(!o.includes(l))return!1},!0)!==!1},t2}var Z7;function ube(){if(Z7)return X7;Z7=1;var t=we(),e=lbe(),r=Qo(),n=!r("isSubsetOf",function(i){return i});return t({target:"Set",proto:!0,real:!0,forced:n},{isSubsetOf:e}),X7}var eU={},r2,tU;function cbe(){if(tU)return r2;tU=1;var t=Vo(),e=Ko().has,r=_h(),n=Yo(),i=Go(),s=FN();return r2=function(o){var l=t(this),u=n(o);if(r(l)<u.size)return!1;var d=u.getIterator();return i(d,function(h){if(!e(l,h))return s(d,"normal",!1)})!==!1},r2}var rU;function dbe(){if(rU)return eU;rU=1;var t=we(),e=cbe(),r=Qo(),n=!r("isSupersetOf",function(i){return!i});return t({target:"Set",proto:!0,real:!0,forced:n},{isSupersetOf:e}),eU}var nU={},n2,iU;function hbe(){if(iU)return n2;iU=1;var t=Vo(),e=Ko(),r=GN(),n=Yo(),i=Go(),s=e.add,a=e.has,o=e.remove;return n2=function(u){var d=t(this),h=n(u).getIterator(),f=r(d);return i(h,function(p){a(d,p)?o(f,p):s(f,p)}),f},n2}var i2,sU;function jY(){return sU||(sU=1,i2=function(t){try{var e=new Set,r={size:0,has:function(){return!0},keys:function(){return Object.defineProperty({},"next",{get:function(){return e.clear(),e.add(4),function(){return{done:!0}}}})}},n=e[t](r);return n.size===1&&n.values().next().value===4}catch{return!1}}),i2}var aU;function fbe(){if(aU)return nU;aU=1;var t=we(),e=hbe(),r=jY(),n=Qo(),i=!n("symmetricDifference")||!r("symmetricDifference");return t({target:"Set",proto:!0,real:!0,forced:i},{symmetricDifference:e}),nU}var oU={},s2,lU;function pbe(){if(lU)return s2;lU=1;var t=Vo(),e=Ko().add,r=GN(),n=Yo(),i=Go();return s2=function(a){var o=t(this),l=n(a).getIterator(),u=r(o);return i(l,function(d){e(u,d)}),u},s2}var uU;function mbe(){if(uU)return oU;uU=1;var t=we(),e=pbe(),r=jY(),n=Qo(),i=!n("union")||!r("union");return t({target:"Set",proto:!0,real:!0,forced:i},{union:e}),oU}var a2,cU;function vbe(){if(cU)return a2;cU=1,Gu(),ebe(),nbe(),sbe(),obe(),ube(),dbe(),fbe(),mbe(),UN();var t=Ye();return a2=t.Set,a2}var o2,dU;function gbe(){if(dU)return o2;dU=1;var t=vbe();return Yu(),o2=t,o2}var l2,hU;function ybe(){return hU||(hU=1,l2=gbe()),l2}var bbe=ybe(),Is=Pe(bbe),fU={},pU={},u2,mU;function wbe(){if(mU)return u2;mU=1;var t=Be(),e=zN(),r=Em().getWeakData,n=LN(),i=Ri(),s=Mu(),a=cr(),o=Om(),l=_a(),u=br(),d=Uo(),h=d.set,f=d.getterFor,p=l.find,m=l.findIndex,y=t([].splice),b=0,g=function(w){return w.frozen||(w.frozen=new v)},v=function(){this.entries=[]},x=function(w,_){return p(w.entries,function(E){return E[0]===_})};return v.prototype={get:function(w){var _=x(this,w);if(_)return _[1]},has:function(w){return!!x(this,w)},set:function(w,_){var E=x(this,w);E?E[1]=_:this.entries.push([w,_])},delete:function(w){var _=m(this.entries,function(E){return E[0]===w});return~_&&y(this.entries,_,1),!!~_}},u2={getConstructor:function(w,_,E,O){var S=w(function(N,T){n(N,P),h(N,{type:_,id:b++,frozen:null}),s(T)||o(T,N[O],{that:N,AS_ENTRIES:E})}),P=S.prototype,C=f(_),I=function(N,T,q){var B=C(N),X=r(i(T),!0);return X===!0?g(B).set(T,q):X[B.id]=q,N};return e(P,{delete:function(N){var T=C(this);if(!a(N))return!1;var q=r(N);return q===!0?g(T).delete(N):q&&u(q,T.id)&&delete q[T.id]},has:function(T){var q=C(this);if(!a(T))return!1;var B=r(T);return B===!0?g(q).has(T):B&&u(B,q.id)}}),e(P,E?{get:function(T){var q=C(this);if(a(T)){var B=r(T);if(B===!0)return g(q).get(T);if(B)return B[q.id]}},set:function(T,q){return I(this,T,q)}}:{add:function(T){return I(this,T,!0)}}),S}},u2}var vU;function xbe(){if(vU)return pU;vU=1;var t=yY(),e=mt(),r=Be(),n=zN(),i=Em(),s=BN(),a=wbe(),o=cr(),l=Uo().enforce,u=qe(),d=wG(),h=Object,f=Array.isArray,p=h.isExtensible,m=h.isFrozen,y=h.isSealed,b=h.freeze,g=h.seal,v=!e.ActiveXObject&&"ActiveXObject"in e,x,w=function(N){return function(){return N(this,arguments.length?arguments[0]:void 0)}},_=s("WeakMap",w,a),E=_.prototype,O=r(E.set),S=function(){return t&&u(function(){var N=b([]);return O(new _,N,1),!m(N)})};if(d)if(v){x=a.getConstructor(w,"WeakMap",!0),i.enable();var P=r(E.delete),C=r(E.has),I=r(E.get);n(E,{delete:function(N){if(o(N)&&!p(N)){var T=l(this);return T.frozen||(T.frozen=new x),P(this,N)||T.frozen.delete(N)}return P(this,N)},has:function(T){if(o(T)&&!p(T)){var q=l(this);return q.frozen||(q.frozen=new x),C(this,T)||q.frozen.has(T)}return C(this,T)},get:function(T){if(o(T)&&!p(T)){var q=l(this);return q.frozen||(q.frozen=new x),C(this,T)?I(this,T):q.frozen.get(T)}return I(this,T)},set:function(T,q){if(o(T)&&!p(T)){var B=l(this);B.frozen||(B.frozen=new x),C(this,T)?O(this,T,q):B.frozen.set(T,q)}else O(this,T,q);return this}})}else S()&&n(E,{set:function(T,q){var B;return f(T)&&(m(T)?B=b:y(T)&&(B=g)),O(this,T,q),B&&B(T),this}});return pU}var gU;function _be(){return gU||(gU=1,xbe()),fU}var c2,yU;function Sbe(){if(yU)return c2;yU=1,Gu(),_be();var t=Ye();return c2=t.WeakMap,c2}var d2,bU;function Ebe(){if(bU)return d2;bU=1;var t=Sbe();return Yu(),d2=t,d2}var h2,wU;function Obe(){return wU||(wU=1,h2=Ebe()),h2}var Pbe=Obe(),Sh=Pe(Pbe);function Bc(t,e,r){Cbe(t,e),e.set(t,r)}function Cbe(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function EP(t,e,r){return t.set($Y(t,e),r),r}function st(t,e){return t.get($Y(t,e))}function $Y(t,e,r){if(typeof t=="function"?t===e:t.has(e))return arguments.length<3?e:r;throw new TypeError("Private element is not present on this object")}function xU(t,e){const r=new Is;for(const n of e)t.has(n)||r.add(n);return r}var sl=new Sh,Vn=new Sh;class _U{constructor(){Bc(this,sl,new Is),Bc(this,Vn,new Is)}get size(){return st(Vn,this).size}add(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];for(const i of r)st(Vn,this).add(i)}delete(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];for(const i of r)st(Vn,this).delete(i)}clear(){st(Vn,this).clear()}getSelection(){return[...st(Vn,this)]}getChanges(){return{added:[...xU(st(sl,this),st(Vn,this))],deleted:[...xU(st(Vn,this),st(sl,this))],previous:[...new Is(st(sl,this))],current:[...new Is(st(Vn,this))]}}commit(){const e=this.getChanges();EP(sl,this,st(Vn,this)),EP(Vn,this,new Is(st(sl,this)));for(const r of e.added)r.select();for(const r of e.deleted)r.unselect();return e}}var Pa=new Sh,Ca=new Sh,f2=new Sh;class Nbe{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:()=>{};Bc(this,Pa,new _U),Bc(this,Ca,new _U),Bc(this,f2,void 0),EP(f2,this,e)}get sizeNodes(){return st(Pa,this).size}get sizeEdges(){return st(Ca,this).size}getNodes(){return st(Pa,this).getSelection()}getEdges(){return st(Ca,this).getSelection()}addNodes(){st(Pa,this).add(...arguments)}addEdges(){st(Ca,this).add(...arguments)}deleteNodes(e){st(Pa,this).delete(e)}deleteEdges(e){st(Ca,this).delete(e)}clear(){st(Pa,this).clear(),st(Ca,this).clear()}commit(){const e={nodes:st(Pa,this).commit(),edges:st(Ca,this).commit()};for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return st(f2,this).call(this,e,...n),e}}class Tbe{constructor(e,r){this.body=e,this.canvas=r,this._selectionAccumulator=new Nbe,this.hoverObj={nodes:{},edges:{}},this.options={},this.defaultOptions={multiselect:!1,selectable:!0,selectConnectedEdges:!0,hoverConnectedEdges:!0},Lt(this.options,this.defaultOptions),this.body.emitter.on("_dataChanged",()=>{this.updateSelection()})}setOptions(e){e!==void 0&&Ju(["multiselect","hoverConnectedEdges","selectable","selectConnectedEdges"],this.options,e)}selectOnPoint(e){let r=!1;if(this.options.selectable===!0){const n=this.getNodeAt(e)||this.getEdgeAt(e);this.unselectAll(),n!==void 0&&(r=this.selectObject(n)),this.body.emitter.emit("_requestRedraw")}return r}selectAdditionalOnPoint(e){let r=!1;if(this.options.selectable===!0){const n=this.getNodeAt(e)||this.getEdgeAt(e);n!==void 0&&(r=!0,n.isSelected()===!0?this.deselectObject(n):this.selectObject(n),this.body.emitter.emit("_requestRedraw"))}return r}_initBaseEvent(e,r){const n={};return n.pointer={DOM:{x:r.x,y:r.y},canvas:this.canvas.DOMtoCanvas(r)},n.event=e,n}generateClickEvent(e,r,n,i){let s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1;const a=this._initBaseEvent(r,n);if(s===!0)a.nodes=[],a.edges=[];else{const o=this.getSelection();a.nodes=o.nodes,a.edges=o.edges}i!==void 0&&(a.previousSelection=i),e=="click"&&(a.items=this.getClickedItems(n)),r.controlEdge!==void 0&&(a.controlEdge=r.controlEdge),this.body.emitter.emit(e,a)}selectObject(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.options.selectConnectedEdges;return e!==void 0?(e instanceof ft?(r===!0&&this._selectionAccumulator.addEdges(...e.edges),this._selectionAccumulator.addNodes(e)):this._selectionAccumulator.addEdges(e),!0):!1}deselectObject(e){e.isSelected()===!0&&(e.selected=!1,this._removeFromSelection(e))}_getAllNodesOverlappingWith(e){const r=[],n=this.body.nodes;for(let i=0;i<this.body.nodeIndices.length;i++){const s=this.body.nodeIndices[i];n[s].isOverlappingWith(e)&&r.push(s)}return r}_pointerToPositionObject(e){const r=this.canvas.DOMtoCanvas(e);return{left:r.x-1,top:r.y+1,right:r.x+1,bottom:r.y-1}}getNodeAt(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;const n=this._pointerToPositionObject(e),i=this._getAllNodesOverlappingWith(n);if(i.length>0)return r===!0?this.body.nodes[i[i.length-1]]:i[i.length-1]}_getEdgesOverlappingWith(e,r){const n=this.body.edges;for(let i=0;i<this.body.edgeIndices.length;i++){const s=this.body.edgeIndices[i];n[s].isOverlappingWith(e)&&r.push(s)}}_getAllEdgesOverlappingWith(e){const r=[];return this._getEdgesOverlappingWith(e,r),r}getEdgeAt(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;const n=this.canvas.DOMtoCanvas(e);let i=10,s=null;const a=this.body.edges;for(let o=0;o<this.body.edgeIndices.length;o++){const l=this.body.edgeIndices[o],u=a[l];if(u.connected){const d=u.from.x,h=u.from.y,f=u.to.x,p=u.to.y,m=u.edgeType.getDistanceToEdge(d,h,f,p,n.x,n.y);m<i&&(s=l,i=m)}}if(s!==null)return r===!0?this.body.edges[s]:s}_addToHover(e){e instanceof ft?this.hoverObj.nodes[e.id]=e:this.hoverObj.edges[e.id]=e}_removeFromSelection(e){e instanceof ft?(this._selectionAccumulator.deleteNodes(e),this._selectionAccumulator.deleteEdges(...e.edges)):this._selectionAccumulator.deleteEdges(e)}unselectAll(){this._selectionAccumulator.clear()}getSelectedNodeCount(){return this._selectionAccumulator.sizeNodes}getSelectedEdgeCount(){return this._selectionAccumulator.sizeEdges}_hoverConnectedEdges(e){for(let r=0;r<e.edges.length;r++){const n=e.edges[r];n.hover=!0,this._addToHover(n)}}emitBlurEvent(e,r,n){const i=this._initBaseEvent(e,r);n.hover===!0&&(n.hover=!1,n instanceof ft?(i.node=n.id,this.body.emitter.emit("blurNode",i)):(i.edge=n.id,this.body.emitter.emit("blurEdge",i)))}emitHoverEvent(e,r,n){const i=this._initBaseEvent(e,r);let s=!1;return n.hover===!1&&(n.hover=!0,this._addToHover(n),s=!0,n instanceof ft?(i.node=n.id,this.body.emitter.emit("hoverNode",i)):(i.edge=n.id,this.body.emitter.emit("hoverEdge",i))),s}hoverObject(e,r){let n=this.getNodeAt(r);n===void 0&&(n=this.getEdgeAt(r));let i=!1;for(const s in this.hoverObj.nodes)Object.prototype.hasOwnProperty.call(this.hoverObj.nodes,s)&&(n===void 0||n instanceof ft&&n.id!=s||n instanceof aa)&&(this.emitBlurEvent(e,r,this.hoverObj.nodes[s]),delete this.hoverObj.nodes[s],i=!0);for(const s in this.hoverObj.edges)Object.prototype.hasOwnProperty.call(this.hoverObj.edges,s)&&(i===!0?(this.hoverObj.edges[s].hover=!1,delete this.hoverObj.edges[s]):(n===void 0||n instanceof aa&&n.id!=s||n instanceof ft&&!n.hover)&&(this.emitBlurEvent(e,r,this.hoverObj.edges[s]),delete this.hoverObj.edges[s],i=!0));if(n!==void 0){const s=Pt(this.hoverObj.edges).length,a=Pt(this.hoverObj.nodes).length,o=n instanceof aa&&s===0&&a===0,l=n instanceof ft&&s===0&&a===0;(i||o||l)&&(i=this.emitHoverEvent(e,r,n)),n instanceof ft&&this.options.hoverConnectedEdges===!0&&this._hoverConnectedEdges(n)}i===!0&&this.body.emitter.emit("_requestRedraw")}commitWithoutEmitting(){this._selectionAccumulator.commit()}commitAndEmit(e,r){let n=!1;const i=this._selectionAccumulator.commit(),s={nodes:i.nodes.previous,edges:i.edges.previous};i.edges.deleted.length>0&&(this.generateClickEvent("deselectEdge",r,e,s),n=!0),i.nodes.deleted.length>0&&(this.generateClickEvent("deselectNode",r,e,s),n=!0),i.nodes.added.length>0&&(this.generateClickEvent("selectNode",r,e),n=!0),i.edges.added.length>0&&(this.generateClickEvent("selectEdge",r,e),n=!0),n===!0&&this.generateClickEvent("select",r,e)}getSelection(){return{nodes:this.getSelectedNodeIds(),edges:this.getSelectedEdgeIds()}}getSelectedNodes(){return this._selectionAccumulator.getNodes()}getSelectedEdges(){return this._selectionAccumulator.getEdges()}getSelectedNodeIds(){var e;return hu(e=this._selectionAccumulator.getNodes()).call(e,r=>r.id)}getSelectedEdgeIds(){var e;return hu(e=this._selectionAccumulator.getEdges()).call(e,r=>r.id)}setSelection(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!e||!e.nodes&&!e.edges)throw new TypeError("Selection must be an object with nodes and/or edges properties");if((r.unselectAll||r.unselectAll===void 0)&&this.unselectAll(),e.nodes)for(const n of e.nodes){const i=this.body.nodes[n];if(!i)throw new RangeError('Node with id "'+n+'" not found');this.selectObject(i,r.highlightEdges)}if(e.edges)for(const n of e.edges){const i=this.body.edges[n];if(!i)throw new RangeError('Edge with id "'+n+'" not found');this.selectObject(i)}this.body.emitter.emit("_requestRedraw"),this._selectionAccumulator.commit()}selectNodes(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(!e||e.length===void 0)throw"Selection must be an array with ids";this.setSelection({nodes:e},{highlightEdges:r})}selectEdges(e){if(!e||e.length===void 0)throw"Selection must be an array with ids";this.setSelection({edges:e})}updateSelection(){for(const e in this._selectionAccumulator.getNodes())Object.prototype.hasOwnProperty.call(this.body.nodes,e.id)||this._selectionAccumulator.deleteNodes(e);for(const e in this._selectionAccumulator.getEdges())Object.prototype.hasOwnProperty.call(this.body.edges,e.id)||this._selectionAccumulator.deleteEdges(e)}getClickedItems(e){const r=this.canvas.DOMtoCanvas(e),n=[],i=this.body.nodeIndices,s=this.body.nodes;for(let l=i.length-1;l>=0;l--){const d=s[i[l]].getItemsOnPoint(r);n.push.apply(n,d)}const a=this.body.edgeIndices,o=this.body.edges;for(let l=a.length-1;l>=0;l--){const d=o[a[l]].getItemsOnPoint(r);n.push.apply(n,d)}return n}}var SU={},p2,EU;function Ibe(){if(EU)return p2;EU=1;var t=Hu(),e=Math.floor,r=function(n,i){var s=n.length;if(s<8)for(var a=1,o,l;a<s;){for(l=a,o=n[a];l&&i(n[l-1],o)>0;)n[l]=n[--l];l!==a++&&(n[l]=o)}else for(var u=e(s/2),d=r(t(n,0,u),i),h=r(t(n,u),i),f=d.length,p=h.length,m=0,y=0;m<f||y<p;)n[m+y]=m<f&&y<p?i(d[m],h[y])<=0?d[m++]:h[y++]:m<f?d[m++]:h[y++];return n};return p2=r,p2}var m2,OU;function Rbe(){if(OU)return m2;OU=1;var t=Au(),e=t.match(/firefox\/(\d+)/i);return m2=!!e&&+e[1],m2}var v2,PU;function jbe(){if(PU)return v2;PU=1;var t=Au();return v2=/MSIE|Trident/.test(t),v2}var g2,CU;function $be(){if(CU)return g2;CU=1;var t=Au(),e=t.match(/AppleWebKit\/(\d+)\./);return g2=!!e&&+e[1],g2}var NU;function kbe(){if(NU)return SU;NU=1;var t=we(),e=Be(),r=ys(),n=_n(),i=bs(),s=RG(),a=zn(),o=qe(),l=Ibe(),u=Qu(),d=Rbe(),h=jbe(),f=oh(),p=$be(),m=[],y=e(m.sort),b=e(m.push),g=o(function(){m.sort(void 0)}),v=o(function(){m.sort(null)}),x=u("sort"),w=!o(function(){if(f)return f<70;if(!(d&&d>3)){if(h)return!0;if(p)return p<603;var O="",S,P,C,I;for(S=65;S<76;S++){switch(P=String.fromCharCode(S),S){case 66:case 69:case 70:case 72:C=3;break;case 68:case 71:C=4;break;default:C=2}for(I=0;I<47;I++)m.push({k:P+I,v:C})}for(m.sort(function(N,T){return T.v-N.v}),I=0;I<m.length;I++)P=m[I].k.charAt(0),O.charAt(O.length-1)!==P&&(O+=P);return O!=="DGBEFHACIJK"}}),_=g||!v||!x||!w,E=function(O){return function(S,P){return P===void 0?-1:S===void 0?1:O!==void 0?+O(S,P)||0:a(S)>a(P)?1:-1}};return t({target:"Array",proto:!0,forced:_},{sort:function(S){S!==void 0&&r(S);var P=n(this);if(w)return S===void 0?y(P):y(P,S);var C=[],I=i(P),N,T;for(T=0;T<I;T++)T in P&&b(C,P[T]);for(l(C,E(S)),N=i(C),T=0;T<N;)P[T]=C[T++];for(;T<I;)s(P,T++);return P}}),SU}var y2,TU;function Dbe(){if(TU)return y2;TU=1,kbe();var t=wr();return y2=t("Array","sort"),y2}var b2,IU;function qbe(){if(IU)return b2;IU=1;var t=Wt(),e=Dbe(),r=Array.prototype;return b2=function(n){var i=n.sort;return n===r||t(r,n)&&i===r.sort?e:i},b2}var w2,RU;function Mbe(){if(RU)return w2;RU=1;var t=qbe();return w2=t,w2}var x2,jU;function Abe(){return jU||(jU=1,x2=Mbe()),x2}var Fbe=Abe(),kl=Pe(Fbe),$U={},_2,kU;function Lbe(){if(kU)return _2;kU=1;var t=ys(),e=_n(),r=cm(),n=bs(),i=TypeError,s="Reduce of empty array with no initial value",a=function(o){return function(l,u,d,h){var f=e(l),p=r(f),m=n(f);if(t(u),m===0&&d<2)throw new i(s);var y=o?m-1:0,b=o?-1:1;if(d<2)for(;;){if(y in p){h=p[y],y+=b;break}if(y+=b,o?y<0:m<=y)throw new i(s)}for(;o?y>=0:m>y;y+=b)y in p&&(h=u(h,p[y],y,f));return h}};return _2={left:a(!1),right:a(!0)},_2}var S2,DU;function Bbe(){if(DU)return S2;DU=1;var t=$G();return S2=t==="NODE",S2}var qU;function zbe(){if(qU)return $U;qU=1;var t=we(),e=Lbe().left,r=Qu(),n=oh(),i=Bbe(),s=!i&&n>79&&n<83,a=s||!r("reduce");return t({target:"Array",proto:!0,forced:a},{reduce:function(l){var u=arguments.length;return e(this,l,u,u>1?arguments[1]:void 0)}}),$U}var E2,MU;function Ube(){if(MU)return E2;MU=1,zbe();var t=wr();return E2=t("Array","reduce"),E2}var O2,AU;function Wbe(){if(AU)return O2;AU=1;var t=Wt(),e=Ube(),r=Array.prototype;return O2=function(n){var i=n.reduce;return n===r||t(r,n)&&i===r.reduce?e:i},O2}var P2,FU;function Hbe(){if(FU)return P2;FU=1;var t=Wbe();return P2=t,P2}var C2,LU;function Vbe(){return LU||(LU=1,C2=Hbe()),C2}var Kbe=Vbe(),kY=Pe(Kbe);class DY{abstract(){throw new Error("Can't instantiate abstract class!")}fake_use(){}curveType(){return this.abstract()}getPosition(e){return this.fake_use(e),this.abstract()}setPosition(e,r){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0;this.fake_use(e,r,n),this.abstract()}getTreeSize(e){return this.fake_use(e),this.abstract()}sort(e){this.fake_use(e),this.abstract()}fix(e,r){this.fake_use(e,r),this.abstract()}shift(e,r){this.fake_use(e,r),this.abstract()}}class Gbe extends DY{constructor(e){super(),this.layout=e}curveType(){return"horizontal"}getPosition(e){return e.x}setPosition(e,r){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0;n!==void 0&&this.layout.hierarchical.addToOrdering(e,n),e.x=r}getTreeSize(e){const r=this.layout.hierarchical.getTreeSize(this.layout.body.nodes,e);return{min:r.min_x,max:r.max_x}}sort(e){kl(e).call(e,function(r,n){return r.x-n.x})}fix(e,r){e.y=this.layout.options.hierarchical.levelSeparation*r,e.options.fixed.y=!0}shift(e,r){this.layout.body.nodes[e].x+=r}}class Ybe extends DY{constructor(e){super(),this.layout=e}curveType(){return"vertical"}getPosition(e){return e.y}setPosition(e,r){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0;n!==void 0&&this.layout.hierarchical.addToOrdering(e,n),e.y=r}getTreeSize(e){const r=this.layout.hierarchical.getTreeSize(this.layout.body.nodes,e);return{min:r.min_y,max:r.max_y}}sort(e){kl(e).call(e,function(r,n){return r.y-n.y})}fix(e,r){e.x=this.layout.options.hierarchical.levelSeparation*r,e.options.fixed.x=!0}shift(e,r){this.layout.body.nodes[e].y+=r}}var BU={},zU;function Qbe(){if(zU)return BU;zU=1;var t=we(),e=_a().every,r=Qu(),n=r("every");return t({target:"Array",proto:!0,forced:!n},{every:function(s){return e(this,s,arguments.length>1?arguments[1]:void 0)}}),BU}var N2,UU;function Xbe(){if(UU)return N2;UU=1,Qbe();var t=wr();return N2=t("Array","every"),N2}var T2,WU;function Jbe(){if(WU)return T2;WU=1;var t=Wt(),e=Xbe(),r=Array.prototype;return T2=function(n){var i=n.every;return n===r||t(r,n)&&i===r.every?e:i},T2}var I2,HU;function Zbe(){if(HU)return I2;HU=1;var t=Jbe();return I2=t,I2}var R2,VU;function e0e(){return VU||(VU=1,R2=Zbe()),R2}var t0e=e0e(),qY=Pe(t0e);function r0e(t,e){const r=new Is;return Ze(t).call(t,n=>{var i;Ze(i=n.edges).call(i,s=>{s.connected&&r.add(s)})}),Ze(r).call(r,n=>{const i=n.from.id,s=n.to.id;e[i]==null&&(e[i]=0),(e[s]==null||e[i]>=e[s])&&(e[s]=e[i]+1)}),e}function n0e(t){return MY(e=>{var r,n;return qY(r=Yr(n=e.edges).call(n,i=>t.has(i.toId))).call(r,i=>i.to===e)},(e,r)=>r>e,"from",t)}function i0e(t){return MY(e=>{var r,n;return qY(r=Yr(n=e.edges).call(n,i=>t.has(i.toId))).call(r,i=>i.from===e)},(e,r)=>r<e,"to",t)}function MY(t,e,r,n){var i;const s=io(null),a=kY(i=[...CY(n).call(n)]).call(i,(h,f)=>h+1+f.edges.length,0),o=r+"Id",l=r==="to"?1:-1;for(const[h,f]of n){if(!n.has(h)||!t(f))continue;s[h]=0;const p=[f];let m=0,y;for(;y=p.pop();){var u,d;if(!n.has(h))continue;const b=s[y.id]+l;if(Ze(u=Yr(d=y.edges).call(d,g=>g.connected&&g.to!==g.from&&g[r]!==y&&n.has(g.toId)&&n.has(g.fromId))).call(u,g=>{const v=g[o],x=s[v];(x==null||e(b,x))&&(s[v]=b,p.push(g[r]))}),m>a)return r0e(n,s);++m}}return s}class s0e{constructor(){this.childrenReference={},this.parentReference={},this.trees={},this.distributionOrdering={},this.levels={},this.distributionIndex={},this.isTree=!1,this.treeIndex=-1}addRelation(e,r){this.childrenReference[e]===void 0&&(this.childrenReference[e]=[]),this.childrenReference[e].push(r),this.parentReference[r]===void 0&&(this.parentReference[r]=[]),this.parentReference[r].push(e)}checkIfTree(){for(const e in this.parentReference)if(this.parentReference[e].length>1){this.isTree=!1;return}this.isTree=!0}numTrees(){return this.treeIndex+1}setTreeIndex(e,r){r!==void 0&&this.trees[e.id]===void 0&&(this.trees[e.id]=r,this.treeIndex=Math.max(r,this.treeIndex))}ensureLevel(e){this.levels[e]===void 0&&(this.levels[e]=0)}getMaxLevel(e){const r={},n=i=>{if(r[i]!==void 0)return r[i];let s=this.levels[i];if(this.childrenReference[i]){const a=this.childrenReference[i];if(a.length>0)for(let o=0;o<a.length;o++)s=Math.max(s,n(a[o]))}return r[i]=s,s};return n(e)}levelDownstream(e,r){this.levels[r.id]===void 0&&(this.levels[e.id]===void 0&&(this.levels[e.id]=0),this.levels[r.id]=this.levels[e.id]+1)}setMinLevelToZero(){var e;const r=new WN;let n=0;const i=kl(e=[...new Is(wfe(this.levels))]).call(e,(s,a)=>s-a);for(const s of i)r.set(s,n++);for(const s in this.levels)Object.prototype.hasOwnProperty.call(this.levels,s)&&(this.levels[s]=r.get(this.levels[s]))}getTreeSize(e,r){let n=1e9,i=-1e9,s=1e9,a=-1e9;for(const o in this.trees)if(Object.prototype.hasOwnProperty.call(this.trees,o)&&this.trees[o]===r){const l=e[o];n=Math.min(l.x,n),i=Math.max(l.x,i),s=Math.min(l.y,s),a=Math.max(l.y,a)}return{min_x:n,max_x:i,min_y:s,max_y:a}}hasSameParent(e,r){const n=this.parentReference[e.id],i=this.parentReference[r.id];if(n===void 0||i===void 0)return!1;for(let s=0;s<n.length;s++)for(let a=0;a<i.length;a++)if(n[s]==i[a])return!0;return!1}inSameSubNetwork(e,r){return this.trees[e.id]===this.trees[r.id]}getLevels(){return Pt(this.distributionOrdering)}addToOrdering(e,r){this.distributionOrdering[r]===void 0&&(this.distributionOrdering[r]=[]);let n=!1;const i=this.distributionOrdering[r];for(const s in i)if(i[s]===e){n=!0;break}n||(this.distributionOrdering[r].push(e),this.distributionIndex[e.id]=this.distributionOrdering[r].length-1)}}class a0e{constructor(e){this.body=e,this._resetRNG(Math.random()+":"+dp()),this.setPhysics=!1,this.options={},this.optionsBackup={physics:{}},this.defaultOptions={randomSeed:void 0,improvedLayout:!0,clusterThreshold:150,hierarchical:{enabled:!1,levelSeparation:150,nodeSpacing:100,treeSpacing:200,blockShifting:!0,edgeMinimization:!0,parentCentralization:!0,direction:"UD",sortMethod:"hubsize"}},Lt(this.options,this.defaultOptions),this.bindEventListeners()}bindEventListeners(){this.body.emitter.on("_dataChanged",()=>{this.setupHierarchicalLayout()}),this.body.emitter.on("_dataLoaded",()=>{this.layoutNetwork()}),this.body.emitter.on("_resetHierarchicalLayout",()=>{this.setupHierarchicalLayout()}),this.body.emitter.on("_adjustEdgesForHierarchicalLayout",()=>{if(this.options.hierarchical.enabled!==!0)return;const e=this.direction.curveType();this.body.emitter.emit("_forceDisableDynamicCurves",e,!1)})}setOptions(e,r){if(e!==void 0){const n=this.options.hierarchical,i=n.enabled;if(Ju(["randomSeed","improvedLayout","clusterThreshold"],this.options,e),Nn(this.options,e,"hierarchical"),e.randomSeed!==void 0&&this._resetRNG(e.randomSeed),n.enabled===!0)return i===!0&&this.body.emitter.emit("refresh",!0),n.direction==="RL"||n.direction==="DU"?n.levelSeparation>0&&(n.levelSeparation*=-1):n.levelSeparation<0&&(n.levelSeparation*=-1),this.setDirectionStrategy(),this.body.emitter.emit("_resetHierarchicalLayout"),this.adaptAllOptionsForHierarchicalLayout(r);if(i===!0)return this.body.emitter.emit("refresh"),at(r,this.optionsBackup)}return r}_resetRNG(e){this.initialRandomSeed=e,this._rng=Sm(this.initialRandomSeed)}adaptAllOptionsForHierarchicalLayout(e){if(this.options.hierarchical.enabled===!0){const r=this.optionsBackup.physics;e.physics===void 0||e.physics===!0?(e.physics={enabled:r.enabled===void 0?!0:r.enabled,solver:"hierarchicalRepulsion"},r.enabled=r.enabled===void 0?!0:r.enabled,r.solver=r.solver||"barnesHut"):typeof e.physics=="object"?(r.enabled=e.physics.enabled===void 0?!0:e.physics.enabled,r.solver=e.physics.solver||"barnesHut",e.physics.solver="hierarchicalRepulsion"):e.physics!==!1&&(r.solver="barnesHut",e.physics={solver:"hierarchicalRepulsion"});let n=this.direction.curveType();if(e.edges===void 0)this.optionsBackup.edges={smooth:{enabled:!0,type:"dynamic"}},e.edges={smooth:!1};else if(e.edges.smooth===void 0)this.optionsBackup.edges={smooth:{enabled:!0,type:"dynamic"}},e.edges.smooth=!1;else if(typeof e.edges.smooth=="boolean")this.optionsBackup.edges={smooth:e.edges.smooth},e.edges.smooth={enabled:e.edges.smooth,type:n};else{const i=e.edges.smooth;i.type!==void 0&&i.type!=="dynamic"&&(n=i.type),this.optionsBackup.edges={smooth:{enabled:i.enabled===void 0?!0:i.enabled,type:i.type===void 0?"dynamic":i.type,roundness:i.roundness===void 0?.5:i.roundness,forceDirection:i.forceDirection===void 0?!1:i.forceDirection}},e.edges.smooth={enabled:i.enabled===void 0?!0:i.enabled,type:n,roundness:i.roundness===void 0?.5:i.roundness,forceDirection:i.forceDirection===void 0?!1:i.forceDirection}}this.body.emitter.emit("_forceDisableDynamicCurves",n)}return e}positionInitially(e){if(this.options.hierarchical.enabled!==!0){this._resetRNG(this.initialRandomSeed);const r=e.length+50;for(let n=0;n<e.length;n++){const i=e[n],s=2*Math.PI*this._rng();i.x===void 0&&(i.x=r*Math.cos(s)),i.y===void 0&&(i.y=r*Math.sin(s))}}}layoutNetwork(){if(this.options.hierarchical.enabled!==!0&&this.options.improvedLayout===!0){const e=this.body.nodeIndices;let r=0;for(let n=0;n<e.length;n++)this.body.nodes[e[n]].predefinedPosition===!0&&(r+=1);if(r<.5*e.length){let i=0;const s=this.options.clusterThreshold,a={clusterNodeProperties:{shape:"ellipse",label:"",group:"",font:{multi:!1}},clusterEdgeProperties:{label:"",font:{multi:!1},smooth:{enabled:!1}}};if(e.length>s){const l=e.length;for(;e.length>s&&i<=10;){i+=1;const u=e.length;i%3===0?this.body.modules.clustering.clusterBridges(a):this.body.modules.clustering.clusterOutliers(a);const d=e.length;if(u==d&&i%3!==0){this._declusterAll(),this.body.emitter.emit("_layoutFailed"),console.info("This network could not be positioned by this version of the improved layout algorithm. Please disable improvedLayout for better performance.");return}}this.body.modules.kamadaKawai.setOptions({springLength:Math.max(150,2*l)})}i>10&&console.info("The clustering didn't succeed within the amount of interations allowed, progressing with partial result."),this.body.modules.kamadaKawai.solve(e,this.body.edgeIndices,!0),this._shiftToCenter();const o=70;for(let l=0;l<e.length;l++){const u=this.body.nodes[e[l]];u.predefinedPosition===!1&&(u.x+=(.5-this._rng())*o,u.y+=(.5-this._rng())*o)}this._declusterAll(),this.body.emitter.emit("_repositionBezierNodes")}}}_shiftToCenter(){const e=qr.getRangeCore(this.body.nodes,this.body.nodeIndices),r=qr.findCenter(e);for(let n=0;n<this.body.nodeIndices.length;n++){const i=this.body.nodes[this.body.nodeIndices[n]];i.x-=r.x,i.y-=r.y}}_declusterAll(){let e=!0;for(;e===!0;){e=!1;for(let r=0;r<this.body.nodeIndices.length;r++)this.body.nodes[this.body.nodeIndices[r]].isCluster===!0&&(e=!0,this.body.modules.clustering.openCluster(this.body.nodeIndices[r],{},!1));e===!0&&this.body.emitter.emit("_dataChanged")}}getSeed(){return this.initialRandomSeed}setupHierarchicalLayout(){if(this.options.hierarchical.enabled===!0&&this.body.nodeIndices.length>0){let e,r,n=!1,i=!1;this.lastNodeOnLevel={},this.hierarchical=new s0e;for(r in this.body.nodes)Object.prototype.hasOwnProperty.call(this.body.nodes,r)&&(e=this.body.nodes[r],e.options.level!==void 0?(n=!0,this.hierarchical.levels[r]=e.options.level):i=!0);if(i===!0&&n===!0)throw new Error("To use the hierarchical layout, nodes require either no predefined levels or levels have to be defined for all nodes.");{if(i===!0){const a=this.options.hierarchical.sortMethod;a==="hubsize"?this._determineLevelsByHubsize():a==="directed"?this._determineLevelsDirected():a==="custom"&&this._determineLevelsCustomCallback()}for(const a in this.body.nodes)Object.prototype.hasOwnProperty.call(this.body.nodes,a)&&this.hierarchical.ensureLevel(a);const s=this._getDistribution();this._generateMap(),this._placeNodesByHierarchy(s),this._condenseHierarchy(),this._shiftToCenter()}}}_condenseHierarchy(){var e=this;let r=!1;const n={},i=()=>{const g=a();let v=0;for(let x=0;x<g.length-1;x++){const w=g[x].max-g[x+1].min;v+=w+this.options.hierarchical.treeSpacing,s(x+1,v)}},s=(g,v)=>{const x=this.hierarchical.trees;for(const w in x)Object.prototype.hasOwnProperty.call(x,w)&&x[w]===g&&this.direction.shift(w,v)},a=()=>{const g=[];for(let v=0;v<this.hierarchical.numTrees();v++)g.push(this.direction.getTreeSize(v));return g},o=(g,v)=>{if(!v[g.id]&&(v[g.id]=!0,this.hierarchical.childrenReference[g.id])){const x=this.hierarchical.childrenReference[g.id];if(x.length>0)for(let w=0;w<x.length;w++)o(this.body.nodes[x[w]],v)}},l=function(g){let v=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1e9,x=1e9,w=1e9,_=1e9,E=-1e9;for(const O in g)if(Object.prototype.hasOwnProperty.call(g,O)){const S=e.body.nodes[O],P=e.hierarchical.levels[S.id],C=e.direction.getPosition(S),[I,N]=e._getSpaceAroundNode(S,g);x=Math.min(I,x),w=Math.min(N,w),P<=v&&(_=Math.min(C,_),E=Math.max(C,E))}return[_,E,x,w]},u=(g,v)=>{const x=this.hierarchical.getMaxLevel(g.id),w=this.hierarchical.getMaxLevel(v.id);return Math.min(x,w)},d=(g,v,x)=>{const w=this.hierarchical;for(let _=0;_<v.length;_++){const E=v[_],O=w.distributionOrdering[E];if(O.length>1)for(let S=0;S<O.length-1;S++){const P=O[S],C=O[S+1];w.hasSameParent(P,C)&&w.inSameSubNetwork(P,C)&&g(P,C,x)}}},h=function(g,v){let x=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;const w=e.direction.getPosition(g),_=e.direction.getPosition(v),E=Math.abs(_-w),O=e.options.hierarchical.nodeSpacing;if(E>O){const S={},P={};o(g,S),o(v,P);const C=u(g,v),I=l(S,C),N=l(P,C),T=I[1],q=N[0],B=N[2];if(Math.abs(T-q)>O){let H=T-q+O;H<-B+O&&(H=-B+O),H<0&&(e._shiftBlock(v.id,H),r=!0,x===!0&&e._centerParent(v))}}},f=(g,v)=>{const x=v.id,w=v.edges,_=this.hierarchical.levels[v.id],E=this.options.hierarchical.levelSeparation*this.options.hierarchical.levelSeparation,O={},S=[];for(let B=0;B<w.length;B++){const X=w[B];if(X.toId!=X.fromId){const H=X.toId==x?X.from:X.to;O[w[B].id]=H,this.hierarchical.levels[H.id]<_&&S.push(X)}}const P=(B,X)=>{let H=0;for(let L=0;L<X.length;L++)if(O[X[L].id]!==void 0){const W=this.direction.getPosition(O[X[L].id])-B;H+=W/Math.sqrt(W*W+E)}return H},C=(B,X)=>{let H=0;for(let L=0;L<X.length;L++)if(O[X[L].id]!==void 0){const W=this.direction.getPosition(O[X[L].id])-B;H-=E*Math.pow(W*W+E,-1.5)}return H},I=(B,X)=>{let H=this.direction.getPosition(v);const L={};for(let W=0;W<B;W++){const z=P(H,X),U=C(H,X),Q=40,fe=Math.max(-Q,Math.min(Q,Math.round(z/U)));if(H=H-fe,L[H]!==void 0)break;L[H]=W}return H},N=B=>{const X=this.direction.getPosition(v);if(n[v.id]===void 0){const Q={};o(v,Q),n[v.id]=Q}const H=l(n[v.id]),L=H[2],W=H[3],z=B-X;let U=0;z>0?U=Math.min(z,W-this.options.hierarchical.nodeSpacing):z<0&&(U=-Math.min(-z,L-this.options.hierarchical.nodeSpacing)),U!=0&&(this._shiftBlock(v.id,U),r=!0)},T=B=>{const X=this.direction.getPosition(v),[H,L]=this._getSpaceAroundNode(v),W=B-X;let z=X;W>0?z=Math.min(X+(L-this.options.hierarchical.nodeSpacing),B):W<0&&(z=Math.max(X-(H-this.options.hierarchical.nodeSpacing),B)),z!==X&&(this.direction.setPosition(v,z),r=!0)};let q=I(g,S);N(q),q=I(g,w),T(q)},p=g=>{let v=this.hierarchical.getLevels();v=no(v).call(v);for(let x=0;x<g;x++){r=!1;for(let w=0;w<v.length;w++){const _=v[w],E=this.hierarchical.distributionOrdering[_];for(let O=0;O<E.length;O++)f(1e3,E[O])}if(r!==!0)break}},m=g=>{let v=this.hierarchical.getLevels();v=no(v).call(v);for(let x=0;x<g&&(r=!1,d(h,v,!0),r===!0);x++);},y=()=>{for(const g in this.body.nodes)Object.prototype.hasOwnProperty.call(this.body.nodes,g)&&this._centerParent(this.body.nodes[g])},b=()=>{let g=this.hierarchical.getLevels();g=no(g).call(g);for(let v=0;v<g.length;v++){const x=g[v],w=this.hierarchical.distributionOrdering[x];for(let _=0;_<w.length;_++)this._centerParent(w[_])}};this.options.hierarchical.blockShifting===!0&&(m(5),y()),this.options.hierarchical.edgeMinimization===!0&&p(20),this.options.hierarchical.parentCentralization===!0&&b(),i()}_getSpaceAroundNode(e,r){let n=!0;r===void 0&&(n=!1);const i=this.hierarchical.levels[e.id];if(i!==void 0){const s=this.hierarchical.distributionIndex[e.id],a=this.direction.getPosition(e),o=this.hierarchical.distributionOrdering[i];let l=1e9,u=1e9;if(s!==0){const d=o[s-1];if(n===!0&&r[d.id]===void 0||n===!1){const h=this.direction.getPosition(d);l=a-h}}if(s!=o.length-1){const d=o[s+1];if(n===!0&&r[d.id]===void 0||n===!1){const h=this.direction.getPosition(d);u=Math.min(u,h-a)}}return[l,u]}else return[0,0]}_centerParent(e){if(this.hierarchical.parentReference[e.id]){const r=this.hierarchical.parentReference[e.id];for(let n=0;n<r.length;n++){const i=r[n],s=this.body.nodes[i],a=this.hierarchical.childrenReference[i];if(a!==void 0){const o=this._getCenterPosition(a),l=this.direction.getPosition(s),[u,d]=this._getSpaceAroundNode(s),h=l-o;(h<0&&Math.abs(h)<d-this.options.hierarchical.nodeSpacing||h>0&&Math.abs(h)<u-this.options.hierarchical.nodeSpacing)&&this.direction.setPosition(s,o)}}}}_placeNodesByHierarchy(e){this.positionedNodes={};for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r;let i=Pt(e[n]);i=this._indexArrayToNodes(i),kl(r=this.direction).call(r,i);let s=0;for(let a=0;a<i.length;a++){const o=i[a];if(this.positionedNodes[o.id]===void 0){const l=this.options.hierarchical.nodeSpacing;let u=l*s;s>0&&(u=this.direction.getPosition(i[a-1])+l),this.direction.setPosition(o,u,n),this._validatePositionAndContinue(o,n,u),s++}}}}_placeBranchNodes(e,r){var n;const i=this.hierarchical.childrenReference[e];if(i===void 0)return;const s=[];for(let o=0;o<i.length;o++)s.push(this.body.nodes[i[o]]);kl(n=this.direction).call(n,s);for(let o=0;o<s.length;o++){const l=s[o],u=this.hierarchical.levels[l.id];if(u>r&&this.positionedNodes[l.id]===void 0){const d=this.options.hierarchical.nodeSpacing;let h;o===0?h=this.direction.getPosition(this.body.nodes[e]):h=this.direction.getPosition(s[o-1])+d,this.direction.setPosition(l,h,u),this._validatePositionAndContinue(l,u,h)}else return}const a=this._getCenterPosition(s);this.direction.setPosition(this.body.nodes[e],a,r)}_validatePositionAndContinue(e,r,n){if(this.hierarchical.isTree){if(this.lastNodeOnLevel[r]!==void 0){const i=this.direction.getPosition(this.body.nodes[this.lastNodeOnLevel[r]]);if(n-i<this.options.hierarchical.nodeSpacing){const s=i+this.options.hierarchical.nodeSpacing-n,a=this._findCommonParent(this.lastNodeOnLevel[r],e.id);this._shiftBlock(a.withChild,s)}}this.lastNodeOnLevel[r]=e.id,this.positionedNodes[e.id]=!0,this._placeBranchNodes(e.id,r)}}_indexArrayToNodes(e){const r=[];for(let n=0;n<e.length;n++)r.push(this.body.nodes[e[n]]);return r}_getDistribution(){const e={};let r,n;for(r in this.body.nodes)if(Object.prototype.hasOwnProperty.call(this.body.nodes,r)){n=this.body.nodes[r];const i=this.hierarchical.levels[r]===void 0?0:this.hierarchical.levels[r];this.direction.fix(n,i),e[i]===void 0&&(e[i]={}),e[i][r]=n}return e}_getActiveEdges(e){const r=[];return $e(e.edges,n=>{var i;Ve(i=this.body.edgeIndices).call(i,n.id)!==-1&&r.push(n)}),r}_getHubSizes(){const e={},r=this.body.nodeIndices;$e(r,i=>{const s=this.body.nodes[i],a=this._getActiveEdges(s).length;e[a]=!0});const n=[];return $e(e,i=>{n.push(Number(i))}),kl(n).call(n,function(i,s){return s-i}),n}_determineLevelsByHubsize(){const e=(n,i)=>{this.hierarchical.levelDownstream(n,i)},r=this._getHubSizes();for(let n=0;n<r.length;++n){const i=r[n];if(i===0)break;$e(this.body.nodeIndices,s=>{const a=this.body.nodes[s];i===this._getActiveEdges(a).length&&this._crawlNetwork(e,s)})}}_determineLevelsCustomCallback(){const r=function(i,s,a){},n=(i,s,a)=>{let o=this.hierarchical.levels[i.id];o===void 0&&(o=this.hierarchical.levels[i.id]=1e5);const l=r(qr.cloneOptions(i,"node"),qr.cloneOptions(s,"node"),qr.cloneOptions(a,"edge"));this.hierarchical.levels[s.id]=o+l};this._crawlNetwork(n),this.hierarchical.setMinLevelToZero()}_determineLevelsDirected(){var e;const r=kY(e=this.body.nodeIndices).call(e,(n,i)=>(n.set(i,this.body.nodes[i]),n),new WN);this.options.hierarchical.shakeTowards==="roots"?this.hierarchical.levels=i0e(r):this.hierarchical.levels=n0e(r),this.hierarchical.setMinLevelToZero()}_generateMap(){const e=(r,n)=>{this.hierarchical.levels[n.id]>this.hierarchical.levels[r.id]&&this.hierarchical.addRelation(r.id,n.id)};this._crawlNetwork(e),this.hierarchical.checkIfTree()}_crawlNetwork(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:function(){},r=arguments.length>1?arguments[1]:void 0;const n={},i=(s,a)=>{if(n[s.id]===void 0){this.hierarchical.setTreeIndex(s,a),n[s.id]=!0;let o;const l=this._getActiveEdges(s);for(let u=0;u<l.length;u++){const d=l[u];d.connected===!0&&(d.toId==s.id?o=d.from:o=d.to,s.id!=o.id&&(e(s,o,d),i(o,a)))}}};if(r===void 0){let s=0;for(let a=0;a<this.body.nodeIndices.length;a++){const o=this.body.nodeIndices[a];if(n[o]===void 0){const l=this.body.nodes[o];i(l,s),s+=1}}}else{const s=this.body.nodes[r];if(s===void 0){console.error("Node not found:",r);return}i(s)}}_shiftBlock(e,r){const n={},i=s=>{if(n[s])return;n[s]=!0,this.direction.shift(s,r);const a=this.hierarchical.childrenReference[s];if(a!==void 0)for(let o=0;o<a.length;o++)i(a[o])};i(e)}_findCommonParent(e,r){const n={},i=(a,o)=>{const l=this.hierarchical.parentReference[o];if(l!==void 0)for(let u=0;u<l.length;u++){const d=l[u];a[d]=!0,i(a,d)}},s=(a,o)=>{const l=this.hierarchical.parentReference[o];if(l!==void 0)for(let u=0;u<l.length;u++){const d=l[u];if(a[d]!==void 0)return{foundParent:d,withChild:o};const h=s(a,d);if(h.foundParent!==null)return h}return{foundParent:null,withChild:o}};return i(n,e),s(n,r)}setDirectionStrategy(){this.options.hierarchical.direction==="UD"||this.options.hierarchical.direction==="DU"?this.direction=new Gbe(this):this.direction=new Ybe(this)}_getCenterPosition(e){let r=1e9,n=-1e9;for(let i=0;i<e.length;i++){let s;if(e[i].id!==void 0)s=e[i];else{const o=e[i];s=this.body.nodes[o]}const a=this.direction.getPosition(s);r=Math.min(r,a),n=Math.max(n,a)}return .5*(r+n)}}class o0e{constructor(e,r,n,i){var s,a;this.body=e,this.canvas=r,this.selectionHandler=n,this.interactionHandler=i,this.editMode=!1,this.manipulationDiv=void 0,this.editModeDiv=void 0,this.closeDiv=void 0,this._domEventListenerCleanupQueue=[],this.temporaryUIFunctions={},this.temporaryEventFunctions=[],this.touchTime=0,this.temporaryIds={nodes:[],edges:[]},this.guiEnabled=!1,this.inMode=!1,this.selectedControlNode=void 0,this.options={},this.defaultOptions={enabled:!1,initiallyActive:!1,addNode:!0,addEdge:!0,editNode:void 0,editEdge:!0,deleteNode:!0,deleteEdge:!0,controlNodeStyle:{shape:"dot",size:6,color:{background:"#ff0000",border:"#3c3c3c",highlight:{background:"#07f968",border:"#3c3c3c"}},borderWidth:2,borderWidthSelected:2}},Lt(this.options,this.defaultOptions),this.body.emitter.on("destroy",()=>{this._clean()}),this.body.emitter.on("_dataChanged",Y(s=this._restore).call(s,this)),this.body.emitter.on("_resetData",Y(a=this._restore).call(a,this))}_restore(){this.inMode!==!1&&(this.options.initiallyActive===!0?this.enableEditMode():this.disableEditMode())}setOptions(e,r,n){r!==void 0&&(r.locale!==void 0?this.options.locale=r.locale:this.options.locale=n.locale,r.locales!==void 0?this.options.locales=r.locales:this.options.locales=n.locales),e!==void 0&&(typeof e=="boolean"?this.options.enabled=e:(this.options.enabled=!0,at(this.options,e)),this.options.initiallyActive===!0&&(this.editMode=!0),this._setup())}toggleEditMode(){this.editMode===!0?this.disableEditMode():this.enableEditMode()}enableEditMode(){this.editMode=!0,this._clean(),this.guiEnabled===!0&&(this.manipulationDiv.style.display="block",this.closeDiv.style.display="block",this.editModeDiv.style.display="none",this.showManipulatorToolbar())}disableEditMode(){this.editMode=!1,this._clean(),this.guiEnabled===!0&&(this.manipulationDiv.style.display="none",this.closeDiv.style.display="none",this.editModeDiv.style.display="block",this._createEditButton())}showManipulatorToolbar(){if(this._clean(),this.manipulationDOM={},this.guiEnabled===!0){var e,r;this.editMode=!0,this.manipulationDiv.style.display="block",this.closeDiv.style.display="block";const n=this.selectionHandler.getSelectedNodeCount(),i=this.selectionHandler.getSelectedEdgeCount(),s=n+i,a=this.options.locales[this.options.locale];let o=!1;this.options.addNode!==!1&&(this._createAddNodeButton(a),o=!0),this.options.addEdge!==!1&&(o===!0?this._createSeperator(1):o=!0,this._createAddEdgeButton(a)),n===1&&typeof this.options.editNode=="function"?(o===!0?this._createSeperator(2):o=!0,this._createEditNodeButton(a)):i===1&&n===0&&this.options.editEdge!==!1&&(o===!0?this._createSeperator(3):o=!0,this._createEditEdgeButton(a)),s!==0&&(n>0&&this.options.deleteNode!==!1?(o===!0&&this._createSeperator(4),this._createDeleteButton(a)):n===0&&this.options.deleteEdge!==!1&&(o===!0&&this._createSeperator(4),this._createDeleteButton(a))),this._bindElementEvents(this.closeDiv,Y(e=this.toggleEditMode).call(e,this)),this._temporaryBindEvent("select",Y(r=this.showManipulatorToolbar).call(r,this))}this.body.emitter.emit("_redraw")}addNodeMode(){var e;if(this.editMode!==!0&&this.enableEditMode(),this._clean(),this.inMode="addNode",this.guiEnabled===!0){var r;const n=this.options.locales[this.options.locale];this.manipulationDOM={},this._createBackButton(n),this._createSeperator(),this._createDescription(n.addDescription||this.options.locales.en.addDescription),this._bindElementEvents(this.closeDiv,Y(r=this.toggleEditMode).call(r,this))}this._temporaryBindEvent("click",Y(e=this._performAddNode).call(e,this))}editNode(){this.editMode!==!0&&this.enableEditMode(),this._clean();const e=this.selectionHandler.getSelectedNodes()[0];if(e!==void 0)if(this.inMode="editNode",typeof this.options.editNode=="function")if(e.isCluster!==!0){const r=at({},e.options,!1);if(r.x=e.x,r.y=e.y,this.options.editNode.length===2)this.options.editNode(r,n=>{n!=null&&this.inMode==="editNode"&&this.body.data.nodes.getDataSet().update(n),this.showManipulatorToolbar()});else throw new Error("The function for edit does not support two arguments (data, callback)")}else alert(this.options.locales[this.options.locale].editClusterError||this.options.locales.en.editClusterError);else throw new Error("No function has been configured to handle the editing of nodes.");else this.showManipulatorToolbar()}addEdgeMode(){var e,r,n,i,s;if(this.editMode!==!0&&this.enableEditMode(),this._clean(),this.inMode="addEdge",this.guiEnabled===!0){var a;const o=this.options.locales[this.options.locale];this.manipulationDOM={},this._createBackButton(o),this._createSeperator(),this._createDescription(o.edgeDescription||this.options.locales.en.edgeDescription),this._bindElementEvents(this.closeDiv,Y(a=this.toggleEditMode).call(a,this))}this._temporaryBindUI("onTouch",Y(e=this._handleConnect).call(e,this)),this._temporaryBindUI("onDragEnd",Y(r=this._finishConnect).call(r,this)),this._temporaryBindUI("onDrag",Y(n=this._dragControlNode).call(n,this)),this._temporaryBindUI("onRelease",Y(i=this._finishConnect).call(i,this)),this._temporaryBindUI("onDragStart",Y(s=this._dragStartEdge).call(s,this)),this._temporaryBindUI("onHold",()=>{})}editEdgeMode(){if(this.editMode!==!0&&this.enableEditMode(),this._clean(),this.inMode="editEdge",typeof this.options.editEdge=="object"&&typeof this.options.editEdge.editWithoutDrag=="function"&&(this.edgeBeingEditedId=this.selectionHandler.getSelectedEdgeIds()[0],this.edgeBeingEditedId!==void 0)){const a=this.body.edges[this.edgeBeingEditedId];this._performEditEdge(a.from.id,a.to.id);return}if(this.guiEnabled===!0){var e;const a=this.options.locales[this.options.locale];this.manipulationDOM={},this._createBackButton(a),this._createSeperator(),this._createDescription(a.editEdgeDescription||this.options.locales.en.editEdgeDescription),this._bindElementEvents(this.closeDiv,Y(e=this.toggleEditMode).call(e,this))}if(this.edgeBeingEditedId=this.selectionHandler.getSelectedEdgeIds()[0],this.edgeBeingEditedId!==void 0){var r,n,i,s;const a=this.body.edges[this.edgeBeingEditedId],o=this._getNewTargetNode(a.from.x,a.from.y),l=this._getNewTargetNode(a.to.x,a.to.y);this.temporaryIds.nodes.push(o.id),this.temporaryIds.nodes.push(l.id),this.body.nodes[o.id]=o,this.body.nodeIndices.push(o.id),this.body.nodes[l.id]=l,this.body.nodeIndices.push(l.id),this._temporaryBindUI("onTouch",Y(r=this._controlNodeTouch).call(r,this)),this._temporaryBindUI("onTap",()=>{}),this._temporaryBindUI("onHold",()=>{}),this._temporaryBindUI("onDragStart",Y(n=this._controlNodeDragStart).call(n,this)),this._temporaryBindUI("onDrag",Y(i=this._controlNodeDrag).call(i,this)),this._temporaryBindUI("onDragEnd",Y(s=this._controlNodeDragEnd).call(s,this)),this._temporaryBindUI("onMouseMove",()=>{}),this._temporaryBindEvent("beforeDrawing",u=>{const d=a.edgeType.findBorderPositions(u);o.selected===!1&&(o.x=d.from.x,o.y=d.from.y),l.selected===!1&&(l.x=d.to.x,l.y=d.to.y)}),this.body.emitter.emit("_redraw")}else this.showManipulatorToolbar()}deleteSelected(){this.editMode!==!0&&this.enableEditMode(),this._clean(),this.inMode="delete";const e=this.selectionHandler.getSelectedNodeIds(),r=this.selectionHandler.getSelectedEdgeIds();let n;if(e.length>0){for(let i=0;i<e.length;i++)if(this.body.nodes[e[i]].isCluster===!0){alert(this.options.locales[this.options.locale].deleteClusterError||this.options.locales.en.deleteClusterError);return}typeof this.options.deleteNode=="function"&&(n=this.options.deleteNode)}else r.length>0&&typeof this.options.deleteEdge=="function"&&(n=this.options.deleteEdge);if(typeof n=="function"){const i={nodes:e,edges:r};if(n.length===2)n(i,s=>{s!=null&&this.inMode==="delete"?(this.body.data.edges.getDataSet().remove(s.edges),this.body.data.nodes.getDataSet().remove(s.nodes),this.body.emitter.emit("startSimulation"),this.showManipulatorToolbar()):(this.body.emitter.emit("startSimulation"),this.showManipulatorToolbar())});else throw new Error("The function for delete does not support two arguments (data, callback)")}else this.body.data.edges.getDataSet().remove(r),this.body.data.nodes.getDataSet().remove(e),this.body.emitter.emit("startSimulation"),this.showManipulatorToolbar()}_setup(){this.options.enabled===!0?(this.guiEnabled=!0,this._createWrappers(),this.editMode===!1?this._createEditButton():this.showManipulatorToolbar()):(this._removeManipulationDOM(),this.guiEnabled=!1)}_createWrappers(){if(this.manipulationDiv===void 0&&(this.manipulationDiv=document.createElement("div"),this.manipulationDiv.className="vis-manipulation",this.editMode===!0?this.manipulationDiv.style.display="block":this.manipulationDiv.style.display="none",this.canvas.frame.appendChild(this.manipulationDiv)),this.editModeDiv===void 0&&(this.editModeDiv=document.createElement("div"),this.editModeDiv.className="vis-edit-mode",this.editMode===!0?this.editModeDiv.style.display="none":this.editModeDiv.style.display="block",this.canvas.frame.appendChild(this.editModeDiv)),this.closeDiv===void 0){var e,r;this.closeDiv=document.createElement("button"),this.closeDiv.className="vis-close",this.closeDiv.setAttribute("aria-label",(e=(r=this.options.locales[this.options.locale])===null||r===void 0?void 0:r.close)!==null&&e!==void 0?e:this.options.locales.en.close),this.closeDiv.style.display=this.manipulationDiv.style.display,this.canvas.frame.appendChild(this.closeDiv)}}_getNewTargetNode(e,r){const n=at({},this.options.controlNodeStyle);n.id="targetNode"+Lc(),n.hidden=!1,n.physics=!1,n.x=e,n.y=r;const i=this.body.functions.createNode(n);return i.shape.boundingBox={left:e,right:e,top:r,bottom:r},i}_createEditButton(){var e;this._clean(),this.manipulationDOM={},Ps(this.editModeDiv);const r=this.options.locales[this.options.locale],n=this._createButton("editMode","vis-edit vis-edit-mode",r.edit||this.options.locales.en.edit);this.editModeDiv.appendChild(n),this._bindElementEvents(n,Y(e=this.toggleEditMode).call(e,this))}_clean(){this.inMode=!1,this.guiEnabled===!0&&(Ps(this.editModeDiv),Ps(this.manipulationDiv),this._cleanupDOMEventListeners()),this._cleanupTemporaryNodesAndEdges(),this._unbindTemporaryUIs(),this._unbindTemporaryEvents(),this.body.emitter.emit("restorePhysics")}_cleanupDOMEventListeners(){for(const r of Ji(e=this._domEventListenerCleanupQueue).call(e,0)){var e;r()}}_removeManipulationDOM(){this._clean(),Ps(this.manipulationDiv),Ps(this.editModeDiv),Ps(this.closeDiv),this.manipulationDiv&&this.canvas.frame.removeChild(this.manipulationDiv),this.editModeDiv&&this.canvas.frame.removeChild(this.editModeDiv),this.closeDiv&&this.canvas.frame.removeChild(this.closeDiv),this.manipulationDiv=void 0,this.editModeDiv=void 0,this.closeDiv=void 0}_createSeperator(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1;this.manipulationDOM["seperatorLineDiv"+e]=document.createElement("div"),this.manipulationDOM["seperatorLineDiv"+e].className="vis-separator-line",this.manipulationDiv.appendChild(this.manipulationDOM["seperatorLineDiv"+e])}_createAddNodeButton(e){var r;const n=this._createButton("addNode","vis-add",e.addNode||this.options.locales.en.addNode);this.manipulationDiv.appendChild(n),this._bindElementEvents(n,Y(r=this.addNodeMode).call(r,this))}_createAddEdgeButton(e){var r;const n=this._createButton("addEdge","vis-connect",e.addEdge||this.options.locales.en.addEdge);this.manipulationDiv.appendChild(n),this._bindElementEvents(n,Y(r=this.addEdgeMode).call(r,this))}_createEditNodeButton(e){var r;const n=this._createButton("editNode","vis-edit",e.editNode||this.options.locales.en.editNode);this.manipulationDiv.appendChild(n),this._bindElementEvents(n,Y(r=this.editNode).call(r,this))}_createEditEdgeButton(e){var r;const n=this._createButton("editEdge","vis-edit",e.editEdge||this.options.locales.en.editEdge);this.manipulationDiv.appendChild(n),this._bindElementEvents(n,Y(r=this.editEdgeMode).call(r,this))}_createDeleteButton(e){var r;let n;this.options.rtl?n="vis-delete-rtl":n="vis-delete";const i=this._createButton("delete",n,e.del||this.options.locales.en.del);this.manipulationDiv.appendChild(i),this._bindElementEvents(i,Y(r=this.deleteSelected).call(r,this))}_createBackButton(e){var r;const n=this._createButton("back","vis-back",e.back||this.options.locales.en.back);this.manipulationDiv.appendChild(n),this._bindElementEvents(n,Y(r=this.showManipulatorToolbar).call(r,this))}_createButton(e,r,n){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"vis-label";return this.manipulationDOM[e+"Div"]=document.createElement("button"),this.manipulationDOM[e+"Div"].className="vis-button "+r,this.manipulationDOM[e+"Label"]=document.createElement("div"),this.manipulationDOM[e+"Label"].className=i,this.manipulationDOM[e+"Label"].innerText=n,this.manipulationDOM[e+"Div"].appendChild(this.manipulationDOM[e+"Label"]),this.manipulationDOM[e+"Div"]}_createDescription(e){this.manipulationDOM.descriptionLabel=document.createElement("div"),this.manipulationDOM.descriptionLabel.className="vis-none",this.manipulationDOM.descriptionLabel.innerText=e,this.manipulationDiv.appendChild(this.manipulationDOM.descriptionLabel)}_temporaryBindEvent(e,r){this.temporaryEventFunctions.push({event:e,boundFunction:r}),this.body.emitter.on(e,r)}_temporaryBindUI(e,r){if(this.body.eventListeners[e]!==void 0)this.temporaryUIFunctions[e]=this.body.eventListeners[e],this.body.eventListeners[e]=r;else throw new Error("This UI function does not exist. Typo? You tried: "+e+" possible are: "+ph(Pt(this.body.eventListeners)))}_unbindTemporaryUIs(){for(const e in this.temporaryUIFunctions)Object.prototype.hasOwnProperty.call(this.temporaryUIFunctions,e)&&(this.body.eventListeners[e]=this.temporaryUIFunctions[e],delete this.temporaryUIFunctions[e]);this.temporaryUIFunctions={}}_unbindTemporaryEvents(){for(let e=0;e<this.temporaryEventFunctions.length;e++){const r=this.temporaryEventFunctions[e].event,n=this.temporaryEventFunctions[e].boundFunction;this.body.emitter.off(r,n)}this.temporaryEventFunctions=[]}_bindElementEvents(e,r){const n=new jl(e,{});yp(n,r),this._domEventListenerCleanupQueue.push(()=>{n.destroy()});const i=s=>{let{keyCode:a,key:o}=s;(o==="Enter"||o===" "||a===13||a===32)&&r()};e.addEventListener("keyup",i,!1),this._domEventListenerCleanupQueue.push(()=>{e.removeEventListener("keyup",i,!1)})}_cleanupTemporaryNodesAndEdges(){for(let s=0;s<this.temporaryIds.edges.length;s++){var e;this.body.edges[this.temporaryIds.edges[s]].disconnect(),delete this.body.edges[this.temporaryIds.edges[s]];const a=Ve(e=this.body.edgeIndices).call(e,this.temporaryIds.edges[s]);if(a!==-1){var r;Ji(r=this.body.edgeIndices).call(r,a,1)}}for(let s=0;s<this.temporaryIds.nodes.length;s++){var n;delete this.body.nodes[this.temporaryIds.nodes[s]];const a=Ve(n=this.body.nodeIndices).call(n,this.temporaryIds.nodes[s]);if(a!==-1){var i;Ji(i=this.body.nodeIndices).call(i,a,1)}}this.temporaryIds={nodes:[],edges:[]}}_controlNodeTouch(e){this.selectionHandler.unselectAll(),this.lastTouch=this.body.functions.getPointer(e.center),this.lastTouch.translation=Lt({},this.body.view.translation)}_controlNodeDragStart(){const e=this.lastTouch,r=this.selectionHandler._pointerToPositionObject(e),n=this.body.nodes[this.temporaryIds.nodes[0]],i=this.body.nodes[this.temporaryIds.nodes[1]],s=this.body.edges[this.edgeBeingEditedId];this.selectedControlNode=void 0;const a=n.isOverlappingWith(r),o=i.isOverlappingWith(r);a===!0?(this.selectedControlNode=n,s.edgeType.from=n):o===!0&&(this.selectedControlNode=i,s.edgeType.to=i),this.selectedControlNode!==void 0&&this.selectionHandler.selectObject(this.selectedControlNode),this.body.emitter.emit("_redraw")}_controlNodeDrag(e){this.body.emitter.emit("disablePhysics");const r=this.body.functions.getPointer(e.center),n=this.canvas.DOMtoCanvas(r);this.selectedControlNode!==void 0?(this.selectedControlNode.x=n.x,this.selectedControlNode.y=n.y):this.interactionHandler.onDrag(e),this.body.emitter.emit("_redraw")}_controlNodeDragEnd(e){const r=this.body.functions.getPointer(e.center),n=this.selectionHandler._pointerToPositionObject(r),i=this.body.edges[this.edgeBeingEditedId];if(this.selectedControlNode===void 0)return;this.selectionHandler.unselectAll();const s=this.selectionHandler._getAllNodesOverlappingWith(n);let a;for(let o=s.length-1;o>=0;o--)if(s[o]!==this.selectedControlNode.id){a=this.body.nodes[s[o]];break}if(a!==void 0&&this.selectedControlNode!==void 0)if(a.isCluster===!0)alert(this.options.locales[this.options.locale].createEdgeError||this.options.locales.en.createEdgeError);else{const o=this.body.nodes[this.temporaryIds.nodes[0]];this.selectedControlNode.id===o.id?this._performEditEdge(a.id,i.to.id):this._performEditEdge(i.from.id,a.id)}else i.updateEdgeType(),this.body.emitter.emit("restorePhysics");this.body.emitter.emit("_redraw")}_handleConnect(e){if(new Date().valueOf()-this.touchTime>100){this.lastTouch=this.body.functions.getPointer(e.center),this.lastTouch.translation=Lt({},this.body.view.translation),this.interactionHandler.drag.pointer=this.lastTouch,this.interactionHandler.drag.translation=this.lastTouch.translation;const r=this.lastTouch,n=this.selectionHandler.getNodeAt(r);if(n!==void 0)if(n.isCluster===!0)alert(this.options.locales[this.options.locale].createEdgeError||this.options.locales.en.createEdgeError);else{const i=this._getNewTargetNode(n.x,n.y);this.body.nodes[i.id]=i,this.body.nodeIndices.push(i.id);const s=this.body.functions.createEdge({id:"connectionEdge"+Lc(),from:n.id,to:i.id,physics:!1,smooth:{enabled:!0,type:"continuous",roundness:.5}});this.body.edges[s.id]=s,this.body.edgeIndices.push(s.id),this.temporaryIds.nodes.push(i.id),this.temporaryIds.edges.push(s.id)}this.touchTime=new Date().valueOf()}}_dragControlNode(e){const r=this.body.functions.getPointer(e.center),n=this.selectionHandler._pointerToPositionObject(r);let i;this.temporaryIds.edges[0]!==void 0&&(i=this.body.edges[this.temporaryIds.edges[0]].fromId);const s=this.selectionHandler._getAllNodesOverlappingWith(n);let a;for(let l=s.length-1;l>=0;l--){var o;if(Ve(o=this.temporaryIds.nodes).call(o,s[l])===-1){a=this.body.nodes[s[l]];break}}if(e.controlEdge={from:i,to:a?a.id:void 0},this.selectionHandler.generateClickEvent("controlNodeDragging",e,r),this.temporaryIds.nodes[0]!==void 0){const l=this.body.nodes[this.temporaryIds.nodes[0]];l.x=this.canvas._XconvertDOMtoCanvas(r.x),l.y=this.canvas._YconvertDOMtoCanvas(r.y),this.body.emitter.emit("_redraw")}else this.interactionHandler.onDrag(e)}_finishConnect(e){const r=this.body.functions.getPointer(e.center),n=this.selectionHandler._pointerToPositionObject(r);let i;this.temporaryIds.edges[0]!==void 0&&(i=this.body.edges[this.temporaryIds.edges[0]].fromId);const s=this.selectionHandler._getAllNodesOverlappingWith(n);let a;for(let l=s.length-1;l>=0;l--){var o;if(Ve(o=this.temporaryIds.nodes).call(o,s[l])===-1){a=this.body.nodes[s[l]];break}}this._cleanupTemporaryNodesAndEdges(),a!==void 0&&(a.isCluster===!0?alert(this.options.locales[this.options.locale].createEdgeError||this.options.locales.en.createEdgeError):this.body.nodes[i]!==void 0&&this.body.nodes[a.id]!==void 0&&this._performAddEdge(i,a.id)),e.controlEdge={from:i,to:a?a.id:void 0},this.selectionHandler.generateClickEvent("controlNodeDragEnd",e,r),this.body.emitter.emit("_redraw")}_dragStartEdge(e){const r=this.lastTouch;this.selectionHandler.generateClickEvent("dragStart",e,r,void 0,!0)}_performAddNode(e){const r={id:Lc(),x:e.pointer.canvas.x,y:e.pointer.canvas.y,label:"new"};if(typeof this.options.addNode=="function")if(this.options.addNode.length===2)this.options.addNode(r,n=>{n!=null&&this.inMode==="addNode"&&this.body.data.nodes.getDataSet().add(n),this.showManipulatorToolbar()});else throw this.showManipulatorToolbar(),new Error("The function for add does not support two arguments (data,callback)");else this.body.data.nodes.getDataSet().add(r),this.showManipulatorToolbar()}_performAddEdge(e,r){const n={from:e,to:r};if(typeof this.options.addEdge=="function")if(this.options.addEdge.length===2)this.options.addEdge(n,i=>{i!=null&&this.inMode==="addEdge"&&(this.body.data.edges.getDataSet().add(i),this.selectionHandler.unselectAll(),this.showManipulatorToolbar())});else throw new Error("The function for connect does not support two arguments (data,callback)");else this.body.data.edges.getDataSet().add(n),this.selectionHandler.unselectAll(),this.showManipulatorToolbar()}_performEditEdge(e,r){const n={id:this.edgeBeingEditedId,from:e,to:r,label:this.body.data.edges.get(this.edgeBeingEditedId).label};let i=this.options.editEdge;if(typeof i=="object"&&(i=i.editWithoutDrag),typeof i=="function")if(i.length===2)i(n,s=>{s==null||this.inMode!=="editEdge"?(this.body.edges[n.id].updateEdgeType(),this.body.emitter.emit("_redraw"),this.showManipulatorToolbar()):(this.body.data.edges.getDataSet().update(s),this.selectionHandler.unselectAll(),this.showManipulatorToolbar())});else throw new Error("The function for edit does not support two arguments (data, callback)");else this.body.data.edges.getDataSet().update(n),this.selectionHandler.unselectAll(),this.showManipulatorToolbar()}}const te="string",G="boolean",A="number",Sc="array",me="object",AY="dom",l0e="any",j2=["arrow","bar","box","circle","crow","curve","diamond","image","inv_curve","inv_triangle","triangle","vee"],$2={borderWidth:{number:A},borderWidthSelected:{number:A,undefined:"undefined"},brokenImage:{string:te,undefined:"undefined"},chosen:{label:{boolean:G,function:"function"},node:{boolean:G,function:"function"},__type__:{object:me,boolean:G}},color:{border:{string:te},background:{string:te},highlight:{border:{string:te},background:{string:te},__type__:{object:me,string:te}},hover:{border:{string:te},background:{string:te},__type__:{object:me,string:te}},__type__:{object:me,string:te}},opacity:{number:A,undefined:"undefined"},fixed:{x:{boolean:G},y:{boolean:G},__type__:{object:me,boolean:G}},font:{align:{string:te},color:{string:te},size:{number:A},face:{string:te},background:{string:te},strokeWidth:{number:A},strokeColor:{string:te},vadjust:{number:A},multi:{boolean:G,string:te},bold:{color:{string:te},size:{number:A},face:{string:te},mod:{string:te},vadjust:{number:A},__type__:{object:me,string:te}},boldital:{color:{string:te},size:{number:A},face:{string:te},mod:{string:te},vadjust:{number:A},__type__:{object:me,string:te}},ital:{color:{string:te},size:{number:A},face:{string:te},mod:{string:te},vadjust:{number:A},__type__:{object:me,string:te}},mono:{color:{string:te},size:{number:A},face:{string:te},mod:{string:te},vadjust:{number:A},__type__:{object:me,string:te}},__type__:{object:me,string:te}},group:{string:te,number:A,undefined:"undefined"},heightConstraint:{minimum:{number:A},valign:{string:te},__type__:{object:me,boolean:G,number:A}},hidden:{boolean:G},icon:{face:{string:te},code:{string:te},size:{number:A},color:{string:te},weight:{string:te,number:A},__type__:{object:me}},id:{string:te,number:A},image:{selected:{string:te,undefined:"undefined"},unselected:{string:te,undefined:"undefined"},__type__:{object:me,string:te}},imagePadding:{top:{number:A},right:{number:A},bottom:{number:A},left:{number:A},__type__:{object:me,number:A}},label:{string:te,undefined:"undefined"},labelHighlightBold:{boolean:G},level:{number:A,undefined:"undefined"},margin:{top:{number:A},right:{number:A},bottom:{number:A},left:{number:A},__type__:{object:me,number:A}},mass:{number:A},physics:{boolean:G},scaling:{min:{number:A},max:{number:A},label:{enabled:{boolean:G},min:{number:A},max:{number:A},maxVisible:{number:A},drawThreshold:{number:A},__type__:{object:me,boolean:G}},customScalingFunction:{function:"function"},__type__:{object:me}},shadow:{enabled:{boolean:G},color:{string:te},size:{number:A},x:{number:A},y:{number:A},__type__:{object:me,boolean:G}},shape:{string:["custom","ellipse","circle","database","box","text","image","circularImage","diamond","dot","star","triangle","triangleDown","square","icon","hexagon"]},ctxRenderer:{function:"function"},shapeProperties:{borderDashes:{boolean:G,array:Sc},borderRadius:{number:A},interpolation:{boolean:G},useImageSize:{boolean:G},useBorderWithImage:{boolean:G},coordinateOrigin:{string:["center","top-left"]},__type__:{object:me}},size:{number:A},title:{string:te,dom:AY,undefined:"undefined"},value:{number:A,undefined:"undefined"},widthConstraint:{minimum:{number:A},maximum:{number:A},__type__:{object:me,boolean:G,number:A}},x:{number:A},y:{number:A},__type__:{object:me}},u0e={configure:{enabled:{boolean:G},filter:{boolean:G,string:te,array:Sc,function:"function"},container:{dom:AY},showButton:{boolean:G},__type__:{object:me,boolean:G,string:te,array:Sc,function:"function"}},edges:{arrows:{to:{enabled:{boolean:G},scaleFactor:{number:A},type:{string:j2},imageHeight:{number:A},imageWidth:{number:A},src:{string:te},__type__:{object:me,boolean:G}},middle:{enabled:{boolean:G},scaleFactor:{number:A},type:{string:j2},imageWidth:{number:A},imageHeight:{number:A},src:{string:te},__type__:{object:me,boolean:G}},from:{enabled:{boolean:G},scaleFactor:{number:A},type:{string:j2},imageWidth:{number:A},imageHeight:{number:A},src:{string:te},__type__:{object:me,boolean:G}},__type__:{string:["from","to","middle"],object:me}},endPointOffset:{from:{number:A},to:{number:A},__type__:{object:me,number:A}},arrowStrikethrough:{boolean:G},background:{enabled:{boolean:G},color:{string:te},size:{number:A},dashes:{boolean:G,array:Sc},__type__:{object:me,boolean:G}},chosen:{label:{boolean:G,function:"function"},edge:{boolean:G,function:"function"},__type__:{object:me,boolean:G}},color:{color:{string:te},highlight:{string:te},hover:{string:te},inherit:{string:["from","to","both"],boolean:G},opacity:{number:A},__type__:{object:me,string:te}},dashes:{boolean:G,array:Sc},font:{color:{string:te},size:{number:A},face:{string:te},background:{string:te},strokeWidth:{number:A},strokeColor:{string:te},align:{string:["horizontal","top","middle","bottom"]},vadjust:{number:A},multi:{boolean:G,string:te},bold:{color:{string:te},size:{number:A},face:{string:te},mod:{string:te},vadjust:{number:A},__type__:{object:me,string:te}},boldital:{color:{string:te},size:{number:A},face:{string:te},mod:{string:te},vadjust:{number:A},__type__:{object:me,string:te}},ital:{color:{string:te},size:{number:A},face:{string:te},mod:{string:te},vadjust:{number:A},__type__:{object:me,string:te}},mono:{color:{string:te},size:{number:A},face:{string:te},mod:{string:te},vadjust:{number:A},__type__:{object:me,string:te}},__type__:{object:me,string:te}},hidden:{boolean:G},hoverWidth:{function:"function",number:A},label:{string:te,undefined:"undefined"},labelHighlightBold:{boolean:G},length:{number:A,undefined:"undefined"},physics:{boolean:G},scaling:{min:{number:A},max:{number:A},label:{enabled:{boolean:G},min:{number:A},max:{number:A},maxVisible:{number:A},drawThreshold:{number:A},__type__:{object:me,boolean:G}},customScalingFunction:{function:"function"},__type__:{object:me}},selectionWidth:{function:"function",number:A},selfReferenceSize:{number:A},selfReference:{size:{number:A},angle:{number:A},renderBehindTheNode:{boolean:G},__type__:{object:me}},shadow:{enabled:{boolean:G},color:{string:te},size:{number:A},x:{number:A},y:{number:A},__type__:{object:me,boolean:G}},smooth:{enabled:{boolean:G},type:{string:["dynamic","continuous","discrete","diagonalCross","straightCross","horizontal","vertical","curvedCW","curvedCCW","cubicBezier"]},roundness:{number:A},forceDirection:{string:["horizontal","vertical","none"],boolean:G},__type__:{object:me,boolean:G}},title:{string:te,undefined:"undefined"},width:{number:A},widthConstraint:{maximum:{number:A},__type__:{object:me,boolean:G,number:A}},value:{number:A,undefined:"undefined"},__type__:{object:me}},groups:{useDefaultGroups:{boolean:G},__any__:$2,__type__:{object:me}},interaction:{dragNodes:{boolean:G},dragView:{boolean:G},hideEdgesOnDrag:{boolean:G},hideEdgesOnZoom:{boolean:G},hideNodesOnDrag:{boolean:G},hover:{boolean:G},keyboard:{enabled:{boolean:G},speed:{x:{number:A},y:{number:A},zoom:{number:A},__type__:{object:me}},bindToWindow:{boolean:G},autoFocus:{boolean:G},__type__:{object:me,boolean:G}},multiselect:{boolean:G},navigationButtons:{boolean:G},selectable:{boolean:G},selectConnectedEdges:{boolean:G},hoverConnectedEdges:{boolean:G},tooltipDelay:{number:A},zoomView:{boolean:G},zoomSpeed:{number:A},__type__:{object:me}},layout:{randomSeed:{undefined:"undefined",number:A,string:te},improvedLayout:{boolean:G},clusterThreshold:{number:A},hierarchical:{enabled:{boolean:G},levelSeparation:{number:A},nodeSpacing:{number:A},treeSpacing:{number:A},blockShifting:{boolean:G},edgeMinimization:{boolean:G},parentCentralization:{boolean:G},direction:{string:["UD","DU","LR","RL"]},sortMethod:{string:["hubsize","directed"]},shakeTowards:{string:["leaves","roots"]},__type__:{object:me,boolean:G}},__type__:{object:me}},manipulation:{enabled:{boolean:G},initiallyActive:{boolean:G},addNode:{boolean:G,function:"function"},addEdge:{boolean:G,function:"function"},editNode:{function:"function"},editEdge:{editWithoutDrag:{function:"function"},__type__:{object:me,boolean:G,function:"function"}},deleteNode:{boolean:G,function:"function"},deleteEdge:{boolean:G,function:"function"},controlNodeStyle:$2,__type__:{object:me,boolean:G}},nodes:$2,physics:{enabled:{boolean:G},barnesHut:{theta:{number:A},gravitationalConstant:{number:A},centralGravity:{number:A},springLength:{number:A},springConstant:{number:A},damping:{number:A},avoidOverlap:{number:A},__type__:{object:me}},forceAtlas2Based:{theta:{number:A},gravitationalConstant:{number:A},centralGravity:{number:A},springLength:{number:A},springConstant:{number:A},damping:{number:A},avoidOverlap:{number:A},__type__:{object:me}},repulsion:{centralGravity:{number:A},springLength:{number:A},springConstant:{number:A},nodeDistance:{number:A},damping:{number:A},__type__:{object:me}},hierarchicalRepulsion:{centralGravity:{number:A},springLength:{number:A},springConstant:{number:A},nodeDistance:{number:A},damping:{number:A},avoidOverlap:{number:A},__type__:{object:me}},maxVelocity:{number:A},minVelocity:{number:A},solver:{string:["barnesHut","repulsion","hierarchicalRepulsion","forceAtlas2Based"]},stabilization:{enabled:{boolean:G},iterations:{number:A},updateInterval:{number:A},onlyDynamicEdges:{boolean:G},fit:{boolean:G},__type__:{object:me,boolean:G}},timestep:{number:A},adaptiveTimestep:{boolean:G},wind:{x:{number:A},y:{number:A},__type__:{object:me}},__type__:{object:me,boolean:G}},autoResize:{boolean:G},clickToUse:{boolean:G},locale:{string:te},locales:{__any__:{any:l0e},__type__:{object:me}},height:{string:te},width:{string:te},__type__:{object:me}},FY={nodes:{borderWidth:[1,0,10,1],borderWidthSelected:[2,0,10,1],color:{border:["color","#2B7CE9"],background:["color","#97C2FC"],highlight:{border:["color","#2B7CE9"],background:["color","#D2E5FF"]},hover:{border:["color","#2B7CE9"],background:["color","#D2E5FF"]}},opacity:[0,0,1,.1],fixed:{x:!1,y:!1},font:{color:["color","#343434"],size:[14,0,100,1],face:["arial","verdana","tahoma"],background:["color","none"],strokeWidth:[0,0,50,1],strokeColor:["color","#ffffff"]},hidden:!1,labelHighlightBold:!0,physics:!0,scaling:{min:[10,0,200,1],max:[30,0,200,1],label:{enabled:!1,min:[14,0,200,1],max:[30,0,200,1],maxVisible:[30,0,200,1],drawThreshold:[5,0,20,1]}},shadow:{enabled:!1,color:"rgba(0,0,0,0.5)",size:[10,0,20,1],x:[5,-30,30,1],y:[5,-30,30,1]},shape:["ellipse","box","circle","database","diamond","dot","square","star","text","triangle","triangleDown","hexagon"],shapeProperties:{borderDashes:!1,borderRadius:[6,0,20,1],interpolation:!0,useImageSize:!1},size:[25,0,200,1]},edges:{arrows:{to:{enabled:!1,scaleFactor:[1,0,3,.05],type:"arrow"},middle:{enabled:!1,scaleFactor:[1,0,3,.05],type:"arrow"},from:{enabled:!1,scaleFactor:[1,0,3,.05],type:"arrow"}},endPointOffset:{from:[0,-10,10,1],to:[0,-10,10,1]},arrowStrikethrough:!0,color:{color:["color","#848484"],highlight:["color","#848484"],hover:["color","#848484"],inherit:["from","to","both",!0,!1],opacity:[1,0,1,.05]},dashes:!1,font:{color:["color","#343434"],size:[14,0,100,1],face:["arial","verdana","tahoma"],background:["color","none"],strokeWidth:[2,0,50,1],strokeColor:["color","#ffffff"],align:["horizontal","top","middle","bottom"]},hidden:!1,hoverWidth:[1.5,0,5,.1],labelHighlightBold:!0,physics:!0,scaling:{min:[1,0,100,1],max:[15,0,100,1],label:{enabled:!0,min:[14,0,200,1],max:[30,0,200,1],maxVisible:[30,0,200,1],drawThreshold:[5,0,20,1]}},selectionWidth:[1.5,0,5,.1],selfReferenceSize:[20,0,200,1],selfReference:{size:[20,0,200,1],angle:[Math.PI/2,-6*Math.PI,6*Math.PI,Math.PI/8],renderBehindTheNode:!0},shadow:{enabled:!1,color:"rgba(0,0,0,0.5)",size:[10,0,20,1],x:[5,-30,30,1],y:[5,-30,30,1]},smooth:{enabled:!0,type:["dynamic","continuous","discrete","diagonalCross","straightCross","horizontal","vertical","curvedCW","curvedCCW","cubicBezier"],forceDirection:["horizontal","vertical","none"],roundness:[.5,0,1,.05]},width:[1,0,30,1]},layout:{hierarchical:{enabled:!1,levelSeparation:[150,20,500,5],nodeSpacing:[100,20,500,5],treeSpacing:[200,20,500,5],blockShifting:!0,edgeMinimization:!0,parentCentralization:!0,direction:["UD","DU","LR","RL"],sortMethod:["hubsize","directed"],shakeTowards:["leaves","roots"]}},interaction:{dragNodes:!0,dragView:!0,hideEdgesOnDrag:!1,hideEdgesOnZoom:!1,hideNodesOnDrag:!1,hover:!1,keyboard:{enabled:!1,speed:{x:[10,0,40,1],y:[10,0,40,1],zoom:[.02,0,.1,.005]},bindToWindow:!0,autoFocus:!0},multiselect:!1,navigationButtons:!1,selectable:!0,selectConnectedEdges:!0,hoverConnectedEdges:!0,tooltipDelay:[300,0,1e3,25],zoomView:!0,zoomSpeed:[1,.1,2,.1]},manipulation:{enabled:!1,initiallyActive:!1},physics:{enabled:!0,barnesHut:{theta:[.5,.1,1,.05],gravitationalConstant:[-2e3,-3e4,0,50],centralGravity:[.3,0,10,.05],springLength:[95,0,500,5],springConstant:[.04,0,1.2,.005],damping:[.09,0,1,.01],avoidOverlap:[0,0,1,.01]},forceAtlas2Based:{theta:[.5,.1,1,.05],gravitationalConstant:[-50,-500,0,1],centralGravity:[.01,0,1,.005],springLength:[95,0,500,5],springConstant:[.08,0,1.2,.005],damping:[.4,0,1,.01],avoidOverlap:[0,0,1,.01]},repulsion:{centralGravity:[.2,0,10,.05],springLength:[200,0,500,5],springConstant:[.05,0,1.2,.005],nodeDistance:[100,0,500,5],damping:[.09,0,1,.01]},hierarchicalRepulsion:{centralGravity:[.2,0,10,.05],springLength:[100,0,500,5],springConstant:[.01,0,1.2,.005],nodeDistance:[120,0,500,5],damping:[.09,0,1,.01],avoidOverlap:[0,0,1,.01]},maxVelocity:[50,0,150,1],minVelocity:[.1,.01,.5,.01],solver:["barnesHut","forceAtlas2Based","repulsion","hierarchicalRepulsion"],timestep:[.5,.01,1,.01],wind:{x:[0,-10,10,.1],y:[0,-10,10,.1]}}},c0e=(t,e,r)=>{var n;return!!(na(t).call(t,"physics")&&na(n=FY.physics.solver).call(n,e)&&r.physics.solver!==e&&e!=="wind")};class d0e{constructor(){}getDistances(e,r,n){const i={},s=e.edges;for(let o=0;o<r.length;o++){const l=r[o],u={};i[l]=u;for(let d=0;d<r.length;d++)u[r[d]]=o==d?0:1e9}for(let o=0;o<n.length;o++){const l=s[n[o]];l.connected===!0&&i[l.fromId]!==void 0&&i[l.toId]!==void 0&&(i[l.fromId][l.toId]=1,i[l.toId][l.fromId]=1)}const a=r.length;for(let o=0;o<a;o++){const l=r[o],u=i[l];for(let d=0;d<a-1;d++){const h=r[d],f=i[h];for(let p=d+1;p<a;p++){const m=r[p],y=i[m],b=Math.min(f[m],f[l]+u[m]);f[m]=b,y[h]=b}}}return i}}class h0e{constructor(e,r,n){this.body=e,this.springLength=r,this.springConstant=n,this.distanceSolver=new d0e}setOptions(e){e&&(e.springLength&&(this.springLength=e.springLength),e.springConstant&&(this.springConstant=e.springConstant))}solve(e,r){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;const i=this.distanceSolver.getDistances(this.body,e,r);this._createL_matrix(i),this._createK_matrix(i),this._createE_matrix();const s=.01,a=1;let o=0;const l=Math.max(1e3,Math.min(10*this.body.nodeIndices.length,6e3)),u=5;let d=1e9,h=0,f=0,p=0,m=0,y=0;for(;d>s&&o<l;)for(o+=1,[h,d,f,p]=this._getHighestEnergyNode(n),m=d,y=0;m>a&&y<u;)y+=1,this._moveNode(h,f,p),[m,f,p]=this._getEnergy(h)}_getHighestEnergyNode(e){const r=this.body.nodeIndices,n=this.body.nodes;let i=0,s=r[0],a=0,o=0;for(let l=0;l<r.length;l++){const u=r[l];if(n[u].predefinedPosition!==!0||n[u].isCluster===!0&&e===!0||n[u].options.fixed.x!==!0||n[u].options.fixed.y!==!0){const[d,h,f]=this._getEnergy(u);i<d&&(i=d,s=u,a=h,o=f)}}return[s,i,a,o]}_getEnergy(e){const[r,n]=this.E_sums[e];return[Math.sqrt(r**2+n**2),r,n]}_moveNode(e,r,n){const i=this.body.nodeIndices,s=this.body.nodes;let a=0,o=0,l=0;const u=s[e].x,d=s[e].y,h=this.K_matrix[e],f=this.L_matrix[e];for(let w=0;w<i.length;w++){const _=i[w];if(_!==e){const E=s[_].x,O=s[_].y,S=h[_],P=f[_],C=1/((u-E)**2+(d-O)**2)**1.5;a+=S*(1-P*(d-O)**2*C),o+=S*(P*(u-E)*(d-O)*C),l+=S*(1-P*(u-E)**2*C)}}const p=a,m=o,y=r,b=l,g=n,v=(y/p+g/m)/(m/p-b/m),x=-(m*v+y)/p;s[e].x+=x,s[e].y+=v,this._updateE_matrix(e)}_createL_matrix(e){const r=this.body.nodeIndices,n=this.springLength;this.L_matrix=[];for(let i=0;i<r.length;i++){this.L_matrix[r[i]]={};for(let s=0;s<r.length;s++)this.L_matrix[r[i]][r[s]]=n*e[r[i]][r[s]]}}_createK_matrix(e){const r=this.body.nodeIndices,n=this.springConstant;this.K_matrix=[];for(let i=0;i<r.length;i++){this.K_matrix[r[i]]={};for(let s=0;s<r.length;s++)this.K_matrix[r[i]][r[s]]=n*e[r[i]][r[s]]**-2}}_createE_matrix(){const e=this.body.nodeIndices,r=this.body.nodes;this.E_matrix={},this.E_sums={};for(let n=0;n<e.length;n++)this.E_matrix[e[n]]=[];for(let n=0;n<e.length;n++){const i=e[n],s=r[i].x,a=r[i].y;let o=0,l=0;for(let u=n;u<e.length;u++){const d=e[u];if(d!==i){const h=r[d].x,f=r[d].y,p=1/Math.sqrt((s-h)**2+(a-f)**2);this.E_matrix[i][u]=[this.K_matrix[i][d]*(s-h-this.L_matrix[i][d]*(s-h)*p),this.K_matrix[i][d]*(a-f-this.L_matrix[i][d]*(a-f)*p)],this.E_matrix[d][n]=this.E_matrix[i][u],o+=this.E_matrix[i][u][0],l+=this.E_matrix[i][u][1]}}this.E_sums[i]=[o,l]}}_updateE_matrix(e){const r=this.body.nodeIndices,n=this.body.nodes,i=this.E_matrix[e],s=this.K_matrix[e],a=this.L_matrix[e],o=n[e].x,l=n[e].y;let u=0,d=0;for(let h=0;h<r.length;h++){const f=r[h];if(f!==e){const p=i[h],m=p[0],y=p[1],b=n[f].x,g=n[f].y,v=1/Math.sqrt((o-b)**2+(l-g)**2),x=s[f]*(o-b-a[f]*(o-b)*v),w=s[f]*(l-g-a[f]*(l-g)*v);i[h]=[x,w],u+=x,d+=w;const _=this.E_sums[f];_[0]+=x-m,_[1]+=w-y}}this.E_sums[e]=[u,d]}}function he(t,e,r){var n,i,s,a;if(!(this instanceof he))throw new SyntaxError("Constructor must be called with the new operator");this.options={},this.defaultOptions={locale:"en",locales:qme,clickToUse:!1},Lt(this.options,this.defaultOptions),this.body={container:t,nodes:{},nodeIndices:[],edges:{},edgeIndices:[],emitter:{on:Y(n=this.on).call(n,this),off:Y(i=this.off).call(i,this),emit:Y(s=this.emit).call(s,this),once:Y(a=this.once).call(a,this)},eventListeners:{onTap:function(){},onTouch:function(){},onDoubleTap:function(){},onHold:function(){},onDragStart:function(){},onDrag:function(){},onDragEnd:function(){},onMouseWheel:function(){},onPinch:function(){},onMouseMove:function(){},onRelease:function(){},onContext:function(){}},data:{nodes:null,edges:null},functions:{createNode:function(){},createEdge:function(){},getPointer:function(){}},modules:{},view:{scale:1,translation:{x:0,y:0}},selectionBox:{show:!1,position:{start:{x:0,y:0},end:{x:0,y:0}}}},this.bindEventListeners(),this.images=new Fme(()=>this.body.emitter.emit("_requestRedraw")),this.groups=new eve,this.canvas=new Gye(this.body),this.selectionHandler=new Tbe(this.body,this.canvas),this.interactionHandler=new Jye(this.body,this.canvas,this.selectionHandler),this.view=new Qye(this.body,this.canvas),this.renderer=new Uye(this.body,this.canvas),this.physics=new Dye(this.body),this.layoutEngine=new a0e(this.body),this.clustering=new zye(this.body),this.manipulation=new o0e(this.body,this.canvas,this.selectionHandler,this.interactionHandler),this.nodesHandler=new uye(this.body,this.images,this.groups,this.layoutEngine),this.edgesHandler=new Tye(this.body,this.images,this.groups),this.body.modules.kamadaKawai=new h0e(this.body,150,.05),this.body.modules.clustering=this.clustering,this.canvas._create(),this.setOptions(r),this.setData(e)}mG(he.prototype);he.prototype.setOptions=function(t){if(t===null&&(t=void 0),t!==void 0){if(fme.validate(t,u0e)===!0&&console.error("%cErrors have been found in the supplied options object.",cY),Ju(["locale","locales","clickToUse"],this.options,t),t.locale!==void 0&&(t.locale=Mme(t.locales||this.options.locales,t.locale)),t=this.layoutEngine.setOptions(t.layout,t),this.canvas.setOptions(t),this.groups.setOptions(t.groups),this.nodesHandler.setOptions(t.nodes),this.edgesHandler.setOptions(t.edges),this.physics.setOptions(t.physics),this.manipulation.setOptions(t.manipulation,t,this.options),this.interactionHandler.setOptions(t.interaction),this.renderer.setOptions(t.interaction),this.selectionHandler.setOptions(t.interaction),t.groups!==void 0&&this.body.emitter.emit("refreshNodes"),"configure"in t&&(this.configurator||(this.configurator=new dme(this,this.body.container,FY,this.canvas.pixelRatio,c0e)),this.configurator.setOptions(t.configure)),this.configurator&&this.configurator.options.enabled===!0){const n={nodes:{},edges:{},layout:{},interaction:{},manipulation:{},physics:{},global:{}};at(n.nodes,this.nodesHandler.options),at(n.edges,this.edgesHandler.options),at(n.layout,this.layoutEngine.options),at(n.interaction,this.selectionHandler.options),at(n.interaction,this.renderer.options),at(n.interaction,this.interactionHandler.options),at(n.manipulation,this.manipulation.options),at(n.physics,this.physics.options),at(n.global,this.canvas.options),at(n.global,this.options),this.configurator.setModuleOptions(n)}t.clickToUse!==void 0?t.clickToUse===!0?this.activator===void 0&&(this.activator=new cme(this.canvas.frame),this.activator.on("change",()=>{this.body.emitter.emit("activate")})):(this.activator!==void 0&&(this.activator.destroy(),delete this.activator),this.body.emitter.emit("activate")):this.body.emitter.emit("activate"),this.canvas.setSize(),this.body.emitter.emit("startSimulation")}};he.prototype._updateVisibleIndices=function(){const t=this.body.nodes,e=this.body.edges;this.body.nodeIndices=[],this.body.edgeIndices=[];for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&!this.clustering._isClusteredNode(r)&&t[r].options.hidden===!1&&this.body.nodeIndices.push(t[r].id);for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)){const n=e[r],i=t[n.fromId],s=t[n.toId],a=i!==void 0&&s!==void 0;!this.clustering._isClusteredEdge(r)&&n.options.hidden===!1&&a&&i.options.hidden===!1&&s.options.hidden===!1&&this.body.edgeIndices.push(n.id)}};he.prototype.bindEventListeners=function(){this.body.emitter.on("_dataChanged",()=>{this.edgesHandler._updateState(),this.body.emitter.emit("_dataUpdated")}),this.body.emitter.on("_dataUpdated",()=>{this.clustering._updateState(),this._updateVisibleIndices(),this._updateValueRange(this.body.nodes),this._updateValueRange(this.body.edges),this.body.emitter.emit("startSimulation"),this.body.emitter.emit("_requestRedraw")})};he.prototype.setData=function(t){if(this.body.emitter.emit("resetPhysics"),this.body.emitter.emit("_resetData"),this.selectionHandler.unselectAll(),t&&t.dot&&(t.nodes||t.edges))throw new SyntaxError('Data must contain either parameter "dot" or  parameter pair "nodes" and "edges", but not both.');if(this.setOptions(t&&t.options),t&&t.dot){console.warn("The dot property has been deprecated. Please use the static convertDot method to convert DOT into vis.network format and use the normal data format with nodes and edges. This converter is used like this: var data = vis.network.convertDot(dotString);");const e=Sme(t.dot);this.setData(e);return}else if(t&&t.gephi){console.warn("The gephi property has been deprecated. Please use the static convertGephi method to convert gephi into vis.network format and use the normal data format with nodes and edges. This converter is used like this: var data = vis.network.convertGephi(gephiJson);");const e=Eme(t.gephi);this.setData(e);return}else this.nodesHandler.setData(t&&t.nodes,!0),this.edgesHandler.setData(t&&t.edges,!0);this.body.emitter.emit("_dataChanged"),this.body.emitter.emit("_dataLoaded"),this.body.emitter.emit("initPhysics")};he.prototype.destroy=function(){this.body.emitter.emit("destroy"),this.body.emitter.off(),this.off(),delete this.groups,delete this.canvas,delete this.selectionHandler,delete this.interactionHandler,delete this.view,delete this.renderer,delete this.physics,delete this.layoutEngine,delete this.clustering,delete this.manipulation,delete this.nodesHandler,delete this.edgesHandler,delete this.configurator,delete this.images;for(const t in this.body.nodes)Object.prototype.hasOwnProperty.call(this.body.nodes,t)&&delete this.body.nodes[t];for(const t in this.body.edges)Object.prototype.hasOwnProperty.call(this.body.edges,t)&&delete this.body.edges[t];Ps(this.body.container)};he.prototype._updateValueRange=function(t){let e,r,n,i=0;for(e in t)if(Object.prototype.hasOwnProperty.call(t,e)){const s=t[e].getValue();s!==void 0&&(r=r===void 0?s:Math.min(s,r),n=n===void 0?s:Math.max(s,n),i+=s)}if(r!==void 0&&n!==void 0)for(e in t)Object.prototype.hasOwnProperty.call(t,e)&&t[e].setValueRange(r,n,i)};he.prototype.isActive=function(){return!this.activator||this.activator.active};he.prototype.setSize=function(){return this.canvas.setSize.apply(this.canvas,arguments)};he.prototype.canvasToDOM=function(){return this.canvas.canvasToDOM.apply(this.canvas,arguments)};he.prototype.DOMtoCanvas=function(){return this.canvas.DOMtoCanvas.apply(this.canvas,arguments)};he.prototype.findNode=function(){return this.clustering.findNode.apply(this.clustering,arguments)};he.prototype.isCluster=function(){return this.clustering.isCluster.apply(this.clustering,arguments)};he.prototype.openCluster=function(){return this.clustering.openCluster.apply(this.clustering,arguments)};he.prototype.cluster=function(){return this.clustering.cluster.apply(this.clustering,arguments)};he.prototype.getNodesInCluster=function(){return this.clustering.getNodesInCluster.apply(this.clustering,arguments)};he.prototype.clusterByConnection=function(){return this.clustering.clusterByConnection.apply(this.clustering,arguments)};he.prototype.clusterByHubsize=function(){return this.clustering.clusterByHubsize.apply(this.clustering,arguments)};he.prototype.updateClusteredNode=function(){return this.clustering.updateClusteredNode.apply(this.clustering,arguments)};he.prototype.getClusteredEdges=function(){return this.clustering.getClusteredEdges.apply(this.clustering,arguments)};he.prototype.getBaseEdge=function(){return this.clustering.getBaseEdge.apply(this.clustering,arguments)};he.prototype.getBaseEdges=function(){return this.clustering.getBaseEdges.apply(this.clustering,arguments)};he.prototype.updateEdge=function(){return this.clustering.updateEdge.apply(this.clustering,arguments)};he.prototype.clusterOutliers=function(){return this.clustering.clusterOutliers.apply(this.clustering,arguments)};he.prototype.getSeed=function(){return this.layoutEngine.getSeed.apply(this.layoutEngine,arguments)};he.prototype.enableEditMode=function(){return this.manipulation.enableEditMode.apply(this.manipulation,arguments)};he.prototype.disableEditMode=function(){return this.manipulation.disableEditMode.apply(this.manipulation,arguments)};he.prototype.addNodeMode=function(){return this.manipulation.addNodeMode.apply(this.manipulation,arguments)};he.prototype.editNode=function(){return this.manipulation.editNode.apply(this.manipulation,arguments)};he.prototype.editNodeMode=function(){return console.warn("Deprecated: Please use editNode instead of editNodeMode."),this.manipulation.editNode.apply(this.manipulation,arguments)};he.prototype.addEdgeMode=function(){return this.manipulation.addEdgeMode.apply(this.manipulation,arguments)};he.prototype.editEdgeMode=function(){return this.manipulation.editEdgeMode.apply(this.manipulation,arguments)};he.prototype.deleteSelected=function(){return this.manipulation.deleteSelected.apply(this.manipulation,arguments)};he.prototype.getPositions=function(){return this.nodesHandler.getPositions.apply(this.nodesHandler,arguments)};he.prototype.getPosition=function(){return this.nodesHandler.getPosition.apply(this.nodesHandler,arguments)};he.prototype.storePositions=function(){return this.nodesHandler.storePositions.apply(this.nodesHandler,arguments)};he.prototype.moveNode=function(){return this.nodesHandler.moveNode.apply(this.nodesHandler,arguments)};he.prototype.getBoundingBox=function(){return this.nodesHandler.getBoundingBox.apply(this.nodesHandler,arguments)};he.prototype.getConnectedNodes=function(t){return this.body.nodes[t]!==void 0?this.nodesHandler.getConnectedNodes.apply(this.nodesHandler,arguments):this.edgesHandler.getConnectedNodes.apply(this.edgesHandler,arguments)};he.prototype.getConnectedEdges=function(){return this.nodesHandler.getConnectedEdges.apply(this.nodesHandler,arguments)};he.prototype.startSimulation=function(){return this.physics.startSimulation.apply(this.physics,arguments)};he.prototype.stopSimulation=function(){return this.physics.stopSimulation.apply(this.physics,arguments)};he.prototype.stabilize=function(){return this.physics.stabilize.apply(this.physics,arguments)};he.prototype.getSelection=function(){return this.selectionHandler.getSelection.apply(this.selectionHandler,arguments)};he.prototype.setSelection=function(){return this.selectionHandler.setSelection.apply(this.selectionHandler,arguments)};he.prototype.getSelectedNodes=function(){return this.selectionHandler.getSelectedNodeIds.apply(this.selectionHandler,arguments)};he.prototype.getSelectedEdges=function(){return this.selectionHandler.getSelectedEdgeIds.apply(this.selectionHandler,arguments)};he.prototype.getNodeAt=function(){const t=this.selectionHandler.getNodeAt.apply(this.selectionHandler,arguments);return t!==void 0&&t.id!==void 0?t.id:t};he.prototype.getEdgeAt=function(){const t=this.selectionHandler.getEdgeAt.apply(this.selectionHandler,arguments);return t!==void 0&&t.id!==void 0?t.id:t};he.prototype.selectNodes=function(){return this.selectionHandler.selectNodes.apply(this.selectionHandler,arguments)};he.prototype.selectEdges=function(){return this.selectionHandler.selectEdges.apply(this.selectionHandler,arguments)};he.prototype.unselectAll=function(){this.selectionHandler.unselectAll.apply(this.selectionHandler,arguments),this.selectionHandler.commitWithoutEmitting.apply(this.selectionHandler),this.redraw()};he.prototype.redraw=function(){return this.renderer.redraw.apply(this.renderer,arguments)};he.prototype.getScale=function(){return this.view.getScale.apply(this.view,arguments)};he.prototype.getViewPosition=function(){return this.view.getViewPosition.apply(this.view,arguments)};he.prototype.fit=function(){return this.view.fit.apply(this.view,arguments)};he.prototype.moveTo=function(){return this.view.moveTo.apply(this.view,arguments)};he.prototype.focus=function(){return this.view.focus.apply(this.view,arguments)};he.prototype.releaseNode=function(){return this.view.releaseNode.apply(this.view,arguments)};he.prototype.getOptionsFromConfigurator=function(){let t={};return this.configurator&&(t=this.configurator.getOptions.apply(this.configurator)),t};function f0e({graphData:t,startPersonId:e,onNodeClick:r}){const n=$.useRef(null),i=$.useRef(null),s=sn(),a=$.useCallback(d=>{r?r(d):s(`/people/${d}`)},[r,s]);$.useEffect(()=>{if(!n.current||!t||!t.nodes||t.nodes.length===0)return;const d=new du(t.nodes),h=new du(t.edges),f={layout:{hierarchical:{enabled:!0,direction:"UD",sortMethod:"directed",levelSeparation:180,nodeSpacing:200,treeSpacing:250,blockShifting:!0,edgeMinimization:!0,parentCentralization:!0}},nodes:{shape:"box",margin:10,font:{size:14,face:'system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif',color:"#1f2937"},color:{border:"#d1d5db",background:"#ffffff",highlight:{border:"#f59e0b",background:"#fef3c7"},hover:{border:"#9ca3af",background:"#f9fafb"}},borderWidth:2,borderWidthSelected:3,shadow:{enabled:!0,color:"rgba(0,0,0,0.1)",size:5,x:0,y:2}},edges:{color:{color:"#9ca3af",highlight:"#6b7280",hover:"#6b7280"},width:2,smooth:{enabled:!0,type:"cubicBezier",forceDirection:"vertical",roundness:.4},arrows:{to:{enabled:!1}}},physics:{enabled:!1},interaction:{hover:!0,tooltipDelay:200,zoomView:!0,dragView:!0,dragNodes:!1,navigationButtons:!1,keyboard:{enabled:!0,bindToWindow:!1}}},p=new he(n.current,{nodes:d,edges:h},f);return i.current=p,p.on("click",m=>{if(m.nodes.length>0){const y=m.nodes[0];a(y)}}),p.on("doubleClick",m=>{m.nodes.length>0&&p.focus(m.nodes[0],{scale:1,animation:{duration:500,easingFunction:"easeInOutQuad"}})}),p.once("stabilized",()=>{const m=t.edges.filter(y=>y.dashes).map(y=>[y.from,y.to]);if(m.length>0){const y=p.getPositions(),b={},g=new Set;m.forEach(([v,x])=>{if(g.has(v)||g.has(x))return;const w=y[v],_=y[x];if(!w||!_)return;const E=(w.x+_.x)/2;b[v]={x:E-60,y:w.y},b[x]={x:E+60,y:_.y},g.add(v),g.add(x)}),Object.entries(b).forEach(([v,x])=>{p.moveNode(v,x.x,x.y)})}setTimeout(()=>{p.fit({animation:{duration:500,easingFunction:"easeInOutQuad"}})},50)}),setTimeout(()=>{e&&p&&p.focus(e,{scale:.8,animation:{duration:500,easingFunction:"easeInOutQuad"}})},100),()=>{p&&p.destroy()}},[t,e,a]);const o=()=>{if(i.current){const d=i.current.getScale();i.current.moveTo({scale:d*1.3,animation:{duration:300,easingFunction:"easeInOutQuad"}})}},l=()=>{if(i.current){const d=i.current.getScale();i.current.moveTo({scale:d/1.3,animation:{duration:300,easingFunction:"easeInOutQuad"}})}},u=()=>{i.current&&i.current.fit({animation:{duration:500,easingFunction:"easeInOutQuad"}})};return!t||!t.nodes||t.nodes.length===0?c.jsx("div",{className:"flex items-center justify-center h-96",children:c.jsx("p",{className:"text-gray-500",children:"No family tree data available"})}):c.jsxs("div",{className:"relative w-full h-full",children:[c.jsxs("div",{className:"absolute top-4 right-4 z-10 flex gap-2 bg-white rounded-lg shadow-lg p-2",children:[c.jsx("button",{onClick:o,className:"p-2 hover:bg-gray-100 rounded",title:"Zoom In",children:c.jsx(Gte,{className:"w-4 h-4"})}),c.jsx("button",{onClick:l,className:"p-2 hover:bg-gray-100 rounded",title:"Zoom Out",children:c.jsx(Yte,{className:"w-4 h-4"})}),c.jsx("button",{onClick:u,className:"p-2 hover:bg-gray-100 rounded",title:"Fit All",children:c.jsx(gV,{className:"w-4 h-4"})})]}),c.jsx("div",{className:"absolute bottom-4 left-4 z-10 text-xs text-gray-500 bg-white/80 px-2 py-1 rounded",children:"Click a person to view details  Double-click to center  Scroll to zoom"}),c.jsx("div",{ref:n,className:"w-full h-full min-h-[600px]",style:{background:"#fafafa"}})]})}const p0e=["parent","child","spouse","lover","partner"];function m0e(t){return p0e.includes(t==null?void 0:t.toLowerCase())}function v0e(t){return(t==null?void 0:t.toLowerCase())==="parent"}function g0e(t){return(t==null?void 0:t.toLowerCase())==="child"}function y0e(t){const e=t==null?void 0:t.toLowerCase();return e==="spouse"||e==="lover"||e==="partner"}function b0e(t,e,r){var d;const n=new Map,i=[],s=new Set,a=new Map;e.forEach(h=>a.set(h.id,h));const o=[{personId:t,depth:0}];s.add(t);function l(h,f){var v,x,w,_;let p=h.name||((v=h.title)==null?void 0:v.rendered)||h.title||`Person ${f}`;if(p&&typeof p=="string"&&typeof document<"u"){const E=document.createElement("textarea");E.innerHTML=p,p=E.value}let m=null,y=((x=h.acf)==null?void 0:x.birth_date)||null;if(y){const E=new Date(y);isNaN(E.getTime())||(m=Math.floor((new Date-E)/(365.25*24*60*60*1e3)))}let b="";switch((w=h.acf)==null?void 0:w.gender){case"male":b="";break;case"female":b="";break;case"non_binary":case"other":case"prefer_not_to_say":b="";break}let g="";if(y)try{const E=new Date(y);if(!isNaN(E.getTime())){const O=String(E.getDate()).padStart(2,"0"),S=String(E.getMonth()+1).padStart(2,"0"),P=E.getFullYear();g=`${O}-${S}-${P}`}}catch{}return{id:f,name:p,gender:((_=h.acf)==null?void 0:_.gender)||"",genderSymbol:b,photo:h.thumbnail||null,age:m,birthDate:y,formattedBirthDate:g}}const u=a.get(t);for(u&&n.set(t,l(u,t));o.length>0;){const{personId:h,depth:f}=o.shift(),p=r.get(h)||[];for(const m of p){if(m.relationship_type_slug&&!m0e(m.relationship_type_slug))continue;const y=m.related_person;if(!y||!a.has(y))continue;if(!n.has(y)){const x=a.get(y);n.set(y,l(x,y))}const b=`${h}-${y}`,g=`${y}-${h}`;if(!i.some(x=>`${x.from}-${x.to}`===b||`${x.from}-${x.to}`===g)){const x=(d=m.relationship_type_slug)==null?void 0:d.toLowerCase();if(v0e(x))i.push({from:y,to:h,type:"parent-child"});else if(g0e(x))i.push({from:h,to:y,type:"parent-child"});else if(y0e(x)){const[w,_]=h<y?[h,y]:[y,h];i.push({from:w,to:_,type:"spouse"})}}s.has(y)||(s.add(y),o.push({personId:y,depth:f+1}))}}return{nodes:Array.from(n.values()),edges:i}}function w0e(t,e,r={}){const{nodes:n,edges:i}=t;if(n.length===0)return{nodes:[],edges:[]};const s=new Map,a=new Map,o=new Map;n.forEach(b=>{s.set(b.id,[]),a.set(b.id,[]),o.set(b.id,[])}),i.forEach(b=>{var g,v,x,w;b.type==="parent-child"?((g=s.get(b.to))==null||g.push(b.from),(v=a.get(b.from))==null||v.push(b.to)):b.type==="spouse"&&((x=o.get(b.from))==null||x.push(b.to),(w=o.get(b.to))==null||w.push(b.from))});const l=new Map,u=new Set,d=[{id:e,generation:0}];for(l.set(e,0),u.add(e);d.length>0;){const{id:b,generation:g}=d.shift(),v=s.get(b)||[];for(const _ of v)u.has(_)||(u.add(_),l.set(_,g-1),d.push({id:_,generation:g-1}));const x=a.get(b)||[];for(const _ of x)u.has(_)||(u.add(_),l.set(_,g+1),d.push({id:_,generation:g+1}));const w=o.get(b)||[];for(const _ of w)u.has(_)||(u.add(_),l.set(_,g),d.push({id:_,generation:g}))}n.forEach(b=>{l.has(b.id)||l.set(b.id,0)});const h=Math.min(...l.values()),f=new Map;l.forEach((b,g)=>{f.set(g,b-h)});function p(b,g,v=!1){const x=b?b.split(" ").map(O=>O[0]).join("").toUpperCase().slice(0,2):"?";let w,_;v?(w="%23d1d5db",_="%236b7280"):g?(w="%23fef3c7",_="%23b45309"):(w="%23e5e7eb",_="%23374151");const E=`<svg xmlns="http://www.w3.org/2000/svg" width="90" height="90" viewBox="0 0 90 90">
      <circle cx="45" cy="45" r="45" fill="${w}"/>
      <text x="45" y="55" text-anchor="middle" font-family="system-ui, sans-serif" font-size="28" font-weight="500" fill="${_}">${x}</text>
    </svg>`;return"data:image/svg+xml,"+encodeURIComponent(E)}const m=n.map(b=>{const g=f.get(b.id)||0,v=b.id===e,x=r[b.id]||!1;let w=b.name;x&&(w=b.name+" ");let _=[w],E="";b.genderSymbol&&(E+=b.genderSymbol+" "),b.age!==null&&(E+=b.age+" "),b.formattedBirthDate&&(E+=b.formattedBirthDate),E.trim()&&_.push(E.trim());const O=b.photo||p(b.name,v,x);let S="#d1d5db";return v?S="#f59e0b":x&&(S="#9ca3af"),{id:b.id,label:_.join(`
`),level:g,shape:"circularImage",image:O,size:45,font:{size:14,face:"system-ui, -apple-system, sans-serif",vadjust:8,color:x?"#6b7280":"#1f2937"},color:{border:S,background:"#ffffff",highlight:{border:"#f59e0b",background:"#fef3c7"}},borderWidth:v?3:2,data:{...b,isDeceased:x}}}),y=i.map((b,g)=>{const v=b.type==="spouse";return{id:`edge-${g}`,from:b.from,to:b.to,arrows:{to:{enabled:!1}},color:{color:v?"#ec4899":"#9ca3af",highlight:v?"#db2777":"#6b7280"},width:2,dashes:v?[5,5]:!1,smooth:!1,length:v?50:300}});return{nodes:m,edges:y}}function x0e(t){const e=new Map;return t.forEach(r=>{var s;const i=(((s=r.acf)==null?void 0:s.relationships)||[]).map(a=>{var u,d,h,f,p,m;let o="";a.relationship_slug?o=a.relationship_slug.toLowerCase():typeof a.relationship_type=="object"?o=((u=a.relationship_type)==null?void 0:u.slug)||((h=(d=a.relationship_type)==null?void 0:d.name)==null?void 0:h.toLowerCase())||"":typeof a.relationship_type=="string"&&(o=a.relationship_type.toLowerCase());let l=null;return typeof a.related_person=="object"?l=((f=a.related_person)==null?void 0:f.ID)||((p=a.related_person)==null?void 0:p.id)||((m=a.related_person)==null?void 0:m.term_id):(typeof a.related_person=="number"||typeof a.related_person=="string")&&(l=parseInt(a.related_person,10)),{related_person:l,relationship_type:a.relationship_type,relationship_type_slug:o,relationship_name:a.relationship_name||"",relationship_label:a.relationship_label||""}}).filter(a=>a.related_person);e.set(r.id,i)}),e}function _0e(t,e){const r=new Map;e.forEach(n=>{var i;r.set(n.id,n.slug||((i=n.name)==null?void 0:i.toLowerCase()))}),t.forEach(n=>{n.forEach(i=>{if(!i.relationship_type_slug&&i.relationship_type){const s=typeof i.relationship_type=="object"?i.relationship_type.term_id||i.relationship_type.id:i.relationship_type;i.relationship_type_slug=r.get(s)||""}})})}function S0e(){var p,m;const{id:t}=fs(),e=sn(),r=parseInt(t,10),{data:n,isLoading:i}=Eu(t),{data:s=[],isLoading:a}=Hp(),{data:o=[]}=ht({queryKey:["relationship-types"],queryFn:async()=>(await Le.getRelationshipTypes()).data}),l=$.useMemo(()=>s.map(y=>y.id).filter(Boolean),[s]),u=Zf({queries:l.map(y=>({queryKey:["person-dates",y],queryFn:async()=>(await Jt.getPersonDates(y)).data,enabled:!!y,staleTime:5*60*1e3}))}),d=$.useMemo(()=>{const y={};return u.forEach((b,g)=>{if(b.data&&l[g]){const v=l[g],x=b.data.some(w=>{const _=Array.isArray(w.date_type)?w.date_type[0]:w.date_type;return(_==null?void 0:_.toLowerCase())==="died"});y[v]=x}}),y},[u,l]);bn(n?`Family Tree - ${n.name||((p=n.title)==null?void 0:p.rendered)||n.title||"Person"}`:"Family Tree");const h=$.useMemo(()=>{if(!n||!s.length)return null;try{const y=x0e(s);o.length>0&&_0e(y,o);const b=b0e(r,s,y);return!b||b.nodes.length===0?null:w0e(b,r,d)}catch(y){return console.error("Error building family tree:",y),null}},[n,s,o,r,d]),f=y=>{e(`/people/${y}`)};return i||a?c.jsx("div",{className:"flex items-center justify-center h-64",children:c.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"})}):n?c.jsxs("div",{className:"max-w-full mx-auto space-y-6",children:[c.jsx("div",{className:"flex items-center justify-between",children:c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsxs(de,{to:`/people/${t}`,className:"flex items-center text-gray-600 hover:text-gray-900",children:[c.jsx(An,{className:"w-4 h-4 md:mr-2"}),c.jsx("span",{className:"hidden md:inline",children:"Back to Person"})]}),c.jsxs("h1",{className:"text-2xl font-bold",children:["Family Tree: ",n.name||((m=n.title)==null?void 0:m.rendered)||n.title||`Person ${t}`]})]})}),c.jsx("div",{className:"card p-6",children:c.jsx("div",{className:"w-full",style:{height:"800px"},children:h&&h.nodes&&h.nodes.length>0?c.jsx(f0e,{graphData:h,startPersonId:r,onNodeClick:f}):c.jsx("div",{className:"flex items-center justify-center h-full",children:c.jsxs("div",{className:"text-center",children:[c.jsx("p",{className:"text-gray-500 mb-2",children:"No family relationships found."}),c.jsx("p",{className:"text-sm text-gray-400",children:"Add parent or child relationships to see the family tree."})]})})})})]}):c.jsxs("div",{className:"card p-6 text-center",children:[c.jsx("p",{className:"text-red-600 mb-4",children:"Failed to load person."}),c.jsx(de,{to:"/people",className:"btn-secondary",children:"Back to People"})]})}function E0e(){const{loginUrl:t,isLoggedIn:e}=IC();return OV(),$.useEffect(()=>{e||(window.location.href=t)},[e,t]),c.jsx("div",{className:"flex items-center justify-center min-h-screen bg-gray-50",children:c.jsxs("div",{className:"text-center",children:[c.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600 mx-auto mb-4"}),c.jsx("p",{className:"text-gray-600",children:"Redirecting to login..."})]})})}function O0e({children:t}){const{data:e,isLoading:r}=ht({queryKey:["current-user"],queryFn:async()=>(await Jt.getCurrentUser()).data});return r?c.jsx("div",{className:"flex items-center justify-center min-h-screen",children:c.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"})}):e!=null&&e.is_admin?t:e&&!e.is_approved?c.jsx("div",{className:"flex items-center justify-center min-h-screen bg-gray-50",children:c.jsx("div",{className:"max-w-md w-full mx-4",children:c.jsxs("div",{className:"card p-8 text-center",children:[c.jsx("div",{className:"flex justify-center mb-4",children:c.jsx("div",{className:"p-3 bg-yellow-100 rounded-full",children:c.jsx(vo,{className:"w-8 h-8 text-yellow-600"})})}),c.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-2",children:"Account Pending Approval"}),c.jsx("p",{className:"text-gray-600 mb-6",children:"Your account is pending approval by an administrator. You will receive an email notification once your account has been approved."}),c.jsx("p",{className:"text-sm text-gray-500",children:"If you have any questions, please contact your administrator."})]})})}):t}function P0e({children:t}){const{isLoggedIn:e,isLoading:r}=IC();return r?c.jsx("div",{className:"flex items-center justify-center min-h-screen",children:c.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"})}):e?c.jsx(O0e,{children:t}):c.jsx(PH,{to:"/login",replace:!0})}function C0e(){return c.jsxs(mI,{children:[c.jsx(Qe,{path:"/login",element:c.jsx(E0e,{})}),c.jsx(Qe,{path:"/*",element:c.jsx(P0e,{children:c.jsx(nre,{children:c.jsxs(mI,{children:[c.jsx(Qe,{path:"/",element:c.jsx(hne,{})}),c.jsx(Qe,{path:"/people",element:c.jsx(wne,{})}),c.jsx(Qe,{path:"/people/new",element:c.jsx(yR,{})}),c.jsx(Qe,{path:"/people/:personId/contact/new",element:c.jsx(wR,{})}),c.jsx(Qe,{path:"/people/:personId/contact/:index/edit",element:c.jsx(wR,{})}),c.jsx(Qe,{path:"/people/:personId/work-history/new",element:c.jsx(bR,{})}),c.jsx(Qe,{path:"/people/:personId/work-history/:index/edit",element:c.jsx(bR,{})}),c.jsx(Qe,{path:"/people/:personId/relationship/new",element:c.jsx(xR,{})}),c.jsx(Qe,{path:"/people/:personId/relationship/:index/edit",element:c.jsx(xR,{})}),c.jsx(Qe,{path:"/people/:id/family-tree",element:c.jsx(S0e,{})}),c.jsx(Qe,{path:"/people/:id/edit",element:c.jsx(yR,{})}),c.jsx(Qe,{path:"/people/:id",element:c.jsx(qne,{})}),c.jsx(Qe,{path:"/companies",element:c.jsx(oie,{})}),c.jsx(Qe,{path:"/companies/new",element:c.jsx(_R,{})}),c.jsx(Qe,{path:"/companies/:id",element:c.jsx(lie,{})}),c.jsx(Qe,{path:"/companies/:id/edit",element:c.jsx(_R,{})}),c.jsx(Qe,{path:"/dates",element:c.jsx(die,{})}),c.jsx(Qe,{path:"/dates/new",element:c.jsx(SR,{})}),c.jsx(Qe,{path:"/dates/:id/edit",element:c.jsx(SR,{})}),c.jsx(Qe,{path:"/settings",element:c.jsx(fie,{})}),c.jsx(Qe,{path:"/settings/relationship-types",element:c.jsx(pie,{})}),c.jsx(Qe,{path:"/settings/import",element:c.jsx(bie,{})}),c.jsx(Qe,{path:"/settings/export",element:c.jsx(wie,{})}),c.jsx(Qe,{path:"/settings/user-approval",element:c.jsx(xie,{})}),c.jsx(Qe,{path:"*",element:c.jsx(PH,{to:"/",replace:!0})})]})})})})]})}const N0e=new VZ({defaultOptions:{queries:{staleTime:5*60*1e3,retry:1}}}),k2=document.getElementById("root");if(!k2)console.error('Root element not found! Make sure there is a <div id="root"></div> in your HTML.');else try{D2.createRoot(k2).render(c.jsx(Te.StrictMode,{children:c.jsx(KZ,{client:N0e,children:c.jsx(pZ,{children:c.jsx(C0e,{})})})}))}catch(t){console.error("Error mounting React app:",t),k2.innerHTML='<div style="padding: 20px; color: red;"><h1>Error Loading Application</h1><p>Please check the browser console for details.</p></div>'}
