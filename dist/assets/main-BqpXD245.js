var WT=t=>{throw TypeError(t)};var Gm=(t,e,r)=>e.has(t)||WT("Cannot "+r);var R=(t,e,r)=>(Gm(t,e,"read from private field"),r?r.call(t):e.get(t)),pe=(t,e,r)=>e.has(t)?WT("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,r),ne=(t,e,r,n)=>(Gm(t,e,"write to private field"),n?n.call(t,r):e.set(t,r),r),je=(t,e,r)=>(Gm(t,e,"access private method"),r);var Lh=(t,e,r,n)=>({set _(i){ne(t,e,i,r)},get _(){return R(t,e,n)}});function KQ(t,e){for(var r=0;r<e.length;r++){const n=e[r];if(typeof n!="string"&&!Array.isArray(n)){for(const i in n)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(n,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>n[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}function GQ(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var KW={exports:{}},Ap={},GW={exports:{}},Ae={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Wd=Symbol.for("react.element"),YQ=Symbol.for("react.portal"),QQ=Symbol.for("react.fragment"),XQ=Symbol.for("react.strict_mode"),JQ=Symbol.for("react.profiler"),ZQ=Symbol.for("react.provider"),eX=Symbol.for("react.context"),tX=Symbol.for("react.forward_ref"),rX=Symbol.for("react.suspense"),nX=Symbol.for("react.memo"),iX=Symbol.for("react.lazy"),HT=Symbol.iterator;function sX(t){return t===null||typeof t!="object"?null:(t=HT&&t[HT]||t["@@iterator"],typeof t=="function"?t:null)}var YW={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},QW=Object.assign,XW={};function Ou(t,e,r){this.props=t,this.context=e,this.refs=XW,this.updater=r||YW}Ou.prototype.isReactComponent={};Ou.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Ou.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function JW(){}JW.prototype=Ou.prototype;function Xj(t,e,r){this.props=t,this.context=e,this.refs=XW,this.updater=r||YW}var Jj=Xj.prototype=new JW;Jj.constructor=Xj;QW(Jj,Ou.prototype);Jj.isPureReactComponent=!0;var VT=Array.isArray,ZW=Object.prototype.hasOwnProperty,Zj={current:null},e9={key:!0,ref:!0,__self:!0,__source:!0};function t9(t,e,r){var n,i={},s=null,a=null;if(e!=null)for(n in e.ref!==void 0&&(a=e.ref),e.key!==void 0&&(s=""+e.key),e)ZW.call(e,n)&&!e9.hasOwnProperty(n)&&(i[n]=e[n]);var o=arguments.length-2;if(o===1)i.children=r;else if(1<o){for(var l=Array(o),c=0;c<o;c++)l[c]=arguments[c+2];i.children=l}if(t&&t.defaultProps)for(n in o=t.defaultProps,o)i[n]===void 0&&(i[n]=o[n]);return{$$typeof:Wd,type:t,key:s,ref:a,props:i,_owner:Zj.current}}function aX(t,e){return{$$typeof:Wd,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function eC(t){return typeof t=="object"&&t!==null&&t.$$typeof===Wd}function oX(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(r){return e[r]})}var KT=/\/+/g;function Ym(t,e){return typeof t=="object"&&t!==null&&t.key!=null?oX(""+t.key):e.toString(36)}function yf(t,e,r,n,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var a=!1;if(t===null)a=!0;else switch(s){case"string":case"number":a=!0;break;case"object":switch(t.$$typeof){case Wd:case YQ:a=!0}}if(a)return a=t,i=i(a),t=n===""?"."+Ym(a,0):n,VT(i)?(r="",t!=null&&(r=t.replace(KT,"$&/")+"/"),yf(i,e,r,"",function(c){return c})):i!=null&&(eC(i)&&(i=aX(i,r+(!i.key||a&&a.key===i.key?"":(""+i.key).replace(KT,"$&/")+"/")+t)),e.push(i)),1;if(a=0,n=n===""?".":n+":",VT(t))for(var o=0;o<t.length;o++){s=t[o];var l=n+Ym(s,o);a+=yf(s,e,r,l,i)}else if(l=sX(t),typeof l=="function")for(t=l.call(t),o=0;!(s=t.next()).done;)s=s.value,l=n+Ym(s,o++),a+=yf(s,e,r,l,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return a}function Bh(t,e,r){if(t==null)return t;var n=[],i=0;return yf(t,n,"","",function(s){return e.call(r,s,i++)}),n}function lX(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(r){(t._status===0||t._status===-1)&&(t._status=1,t._result=r)},function(r){(t._status===0||t._status===-1)&&(t._status=2,t._result=r)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Hr={current:null},bf={transition:null},uX={ReactCurrentDispatcher:Hr,ReactCurrentBatchConfig:bf,ReactCurrentOwner:Zj};function r9(){throw Error("act(...) is not supported in production builds of React.")}Ae.Children={map:Bh,forEach:function(t,e,r){Bh(t,function(){e.apply(this,arguments)},r)},count:function(t){var e=0;return Bh(t,function(){e++}),e},toArray:function(t){return Bh(t,function(e){return e})||[]},only:function(t){if(!eC(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Ae.Component=Ou;Ae.Fragment=QQ;Ae.Profiler=JQ;Ae.PureComponent=Xj;Ae.StrictMode=XQ;Ae.Suspense=rX;Ae.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=uX;Ae.act=r9;Ae.cloneElement=function(t,e,r){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var n=QW({},t.props),i=t.key,s=t.ref,a=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,a=Zj.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var o=t.type.defaultProps;for(l in e)ZW.call(e,l)&&!e9.hasOwnProperty(l)&&(n[l]=e[l]===void 0&&o!==void 0?o[l]:e[l])}var l=arguments.length-2;if(l===1)n.children=r;else if(1<l){o=Array(l);for(var c=0;c<l;c++)o[c]=arguments[c+2];n.children=o}return{$$typeof:Wd,type:t.type,key:i,ref:s,props:n,_owner:a}};Ae.createContext=function(t){return t={$$typeof:eX,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:ZQ,_context:t},t.Consumer=t};Ae.createElement=t9;Ae.createFactory=function(t){var e=t9.bind(null,t);return e.type=t,e};Ae.createRef=function(){return{current:null}};Ae.forwardRef=function(t){return{$$typeof:tX,render:t}};Ae.isValidElement=eC;Ae.lazy=function(t){return{$$typeof:iX,_payload:{_status:-1,_result:t},_init:lX}};Ae.memo=function(t,e){return{$$typeof:nX,type:t,compare:e===void 0?null:e}};Ae.startTransition=function(t){var e=bf.transition;bf.transition={};try{t()}finally{bf.transition=e}};Ae.unstable_act=r9;Ae.useCallback=function(t,e){return Hr.current.useCallback(t,e)};Ae.useContext=function(t){return Hr.current.useContext(t)};Ae.useDebugValue=function(){};Ae.useDeferredValue=function(t){return Hr.current.useDeferredValue(t)};Ae.useEffect=function(t,e){return Hr.current.useEffect(t,e)};Ae.useId=function(){return Hr.current.useId()};Ae.useImperativeHandle=function(t,e,r){return Hr.current.useImperativeHandle(t,e,r)};Ae.useInsertionEffect=function(t,e){return Hr.current.useInsertionEffect(t,e)};Ae.useLayoutEffect=function(t,e){return Hr.current.useLayoutEffect(t,e)};Ae.useMemo=function(t,e){return Hr.current.useMemo(t,e)};Ae.useReducer=function(t,e,r){return Hr.current.useReducer(t,e,r)};Ae.useRef=function(t){return Hr.current.useRef(t)};Ae.useState=function(t){return Hr.current.useState(t)};Ae.useSyncExternalStore=function(t,e,r){return Hr.current.useSyncExternalStore(t,e,r)};Ae.useTransition=function(){return Hr.current.useTransition()};Ae.version="18.3.1";GW.exports=Ae;var I=GW.exports;const Pe=GQ(I),cX=KQ({__proto__:null,default:Pe},[I]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var dX=I,hX=Symbol.for("react.element"),fX=Symbol.for("react.fragment"),pX=Object.prototype.hasOwnProperty,mX=dX.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,vX={key:!0,ref:!0,__self:!0,__source:!0};function n9(t,e,r){var n,i={},s=null,a=null;r!==void 0&&(s=""+r),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(a=e.ref);for(n in e)pX.call(e,n)&&!vX.hasOwnProperty(n)&&(i[n]=e[n]);if(t&&t.defaultProps)for(n in e=t.defaultProps,e)i[n]===void 0&&(i[n]=e[n]);return{$$typeof:hX,type:t,key:s,ref:a,props:i,_owner:mX.current}}Ap.Fragment=fX;Ap.jsx=n9;Ap.jsxs=n9;KW.exports=Ap;var u=KW.exports,nN={},i9={exports:{}},Nn={},s9={exports:{}},a9={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(L,V){var W=L.length;L.push(V);e:for(;0<W;){var z=W-1>>>1,K=L[z];if(0<i(K,V))L[z]=V,L[W]=K,W=z;else break e}}function r(L){return L.length===0?null:L[0]}function n(L){if(L.length===0)return null;var V=L[0],W=L.pop();if(W!==V){L[0]=W;e:for(var z=0,K=L.length,fe=K>>>1;z<fe;){var xe=2*(z+1)-1,Re=L[xe],ge=xe+1,Ee=L[ge];if(0>i(Re,W))ge<K&&0>i(Ee,Re)?(L[z]=Ee,L[ge]=W,z=ge):(L[z]=Re,L[xe]=W,z=xe);else if(ge<K&&0>i(Ee,W))L[z]=Ee,L[ge]=W,z=ge;else break e}}return V}function i(L,V){var W=L.sortIndex-V.sortIndex;return W!==0?W:L.id-V.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var a=Date,o=a.now();t.unstable_now=function(){return a.now()-o}}var l=[],c=[],d=1,h=null,f=3,p=!1,m=!1,y=!1,b=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,v=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(L){for(var V=r(c);V!==null;){if(V.callback===null)n(c);else if(V.startTime<=L)n(c),V.sortIndex=V.expirationTime,e(l,V);else break;V=r(c)}}function x(L){if(y=!1,w(L),!m)if(r(l)!==null)m=!0,Q(_);else{var V=r(c);V!==null&&H(x,V.startTime-L)}}function _(L,V){m=!1,y&&(y=!1,g(S),S=-1),p=!0;var W=f;try{for(w(V),h=r(l);h!==null&&(!(h.expirationTime>V)||L&&!O());){var z=h.callback;if(typeof z=="function"){h.callback=null,f=h.priorityLevel;var K=z(h.expirationTime<=V);V=t.unstable_now(),typeof K=="function"?h.callback=K:h===r(l)&&n(l),w(V)}else n(l);h=r(l)}if(h!==null)var fe=!0;else{var xe=r(c);xe!==null&&H(x,xe.startTime-V),fe=!1}return fe}finally{h=null,f=W,p=!1}}var E=!1,N=null,S=-1,j=5,C=-1;function O(){return!(t.unstable_now()-C<j)}function T(){if(N!==null){var L=t.unstable_now();C=L;var V=!0;try{V=N(!0,L)}finally{V?P():(E=!1,N=null)}}else E=!1}var P;if(typeof v=="function")P=function(){v(T)};else if(typeof MessageChannel<"u"){var D=new MessageChannel,F=D.port2;D.port1.onmessage=T,P=function(){F.postMessage(null)}}else P=function(){b(T,0)};function Q(L){N=L,E||(E=!0,P())}function H(L,V){S=b(function(){L(t.unstable_now())},V)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(L){L.callback=null},t.unstable_continueExecution=function(){m||p||(m=!0,Q(_))},t.unstable_forceFrameRate=function(L){0>L||125<L?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):j=0<L?Math.floor(1e3/L):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return r(l)},t.unstable_next=function(L){switch(f){case 1:case 2:case 3:var V=3;break;default:V=f}var W=f;f=V;try{return L()}finally{f=W}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(L,V){switch(L){case 1:case 2:case 3:case 4:case 5:break;default:L=3}var W=f;f=L;try{return V()}finally{f=W}},t.unstable_scheduleCallback=function(L,V,W){var z=t.unstable_now();switch(typeof W=="object"&&W!==null?(W=W.delay,W=typeof W=="number"&&0<W?z+W:z):W=z,L){case 1:var K=-1;break;case 2:K=250;break;case 5:K=1073741823;break;case 4:K=1e4;break;default:K=5e3}return K=W+K,L={id:d++,callback:V,priorityLevel:L,startTime:W,expirationTime:K,sortIndex:-1},W>z?(L.sortIndex=W,e(c,L),r(l)===null&&L===r(c)&&(y?(g(S),S=-1):y=!0,H(x,W-z))):(L.sortIndex=K,e(l,L),m||p||(m=!0,Q(_))),L},t.unstable_shouldYield=O,t.unstable_wrapCallback=function(L){var V=f;return function(){var W=f;f=V;try{return L.apply(this,arguments)}finally{f=W}}}})(a9);s9.exports=a9;var gX=s9.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yX=I,Sn=gX;function Z(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,r=1;r<arguments.length;r++)e+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o9=new Set,rd={};function Ao(t,e){su(t,e),su(t+"Capture",e)}function su(t,e){for(rd[t]=e,t=0;t<e.length;t++)o9.add(e[t])}var fs=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),iN=Object.prototype.hasOwnProperty,bX=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,GT={},YT={};function xX(t){return iN.call(YT,t)?!0:iN.call(GT,t)?!1:bX.test(t)?YT[t]=!0:(GT[t]=!0,!1)}function wX(t,e,r,n){if(r!==null&&r.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function _X(t,e,r,n){if(e===null||typeof e>"u"||wX(t,e,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Vr(t,e,r,n,i,s,a){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=n,this.attributeNamespace=i,this.mustUseProperty=r,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=a}var yr={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){yr[t]=new Vr(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];yr[e]=new Vr(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){yr[t]=new Vr(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){yr[t]=new Vr(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){yr[t]=new Vr(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){yr[t]=new Vr(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){yr[t]=new Vr(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){yr[t]=new Vr(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){yr[t]=new Vr(t,5,!1,t.toLowerCase(),null,!1,!1)});var tC=/[\-:]([a-z])/g;function rC(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(tC,rC);yr[e]=new Vr(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(tC,rC);yr[e]=new Vr(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(tC,rC);yr[e]=new Vr(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){yr[t]=new Vr(t,1,!1,t.toLowerCase(),null,!1,!1)});yr.xlinkHref=new Vr("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){yr[t]=new Vr(t,1,!1,t.toLowerCase(),null,!0,!0)});function nC(t,e,r,n){var i=yr.hasOwnProperty(e)?yr[e]:null;(i!==null?i.type!==0:n||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(_X(e,r,i,n)&&(r=null),n||i===null?xX(e)&&(r===null?t.removeAttribute(e):t.setAttribute(e,""+r)):i.mustUseProperty?t[i.propertyName]=r===null?i.type===3?!1:"":r:(e=i.attributeName,n=i.attributeNamespace,r===null?t.removeAttribute(e):(i=i.type,r=i===3||i===4&&r===!0?"":""+r,n?t.setAttributeNS(n,e,r):t.setAttribute(e,r))))}var ys=yX.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,zh=Symbol.for("react.element"),ml=Symbol.for("react.portal"),vl=Symbol.for("react.fragment"),iC=Symbol.for("react.strict_mode"),sN=Symbol.for("react.profiler"),l9=Symbol.for("react.provider"),u9=Symbol.for("react.context"),sC=Symbol.for("react.forward_ref"),aN=Symbol.for("react.suspense"),oN=Symbol.for("react.suspense_list"),aC=Symbol.for("react.memo"),$s=Symbol.for("react.lazy"),c9=Symbol.for("react.offscreen"),QT=Symbol.iterator;function pc(t){return t===null||typeof t!="object"?null:(t=QT&&t[QT]||t["@@iterator"],typeof t=="function"?t:null)}var jt=Object.assign,Qm;function Ic(t){if(Qm===void 0)try{throw Error()}catch(r){var e=r.stack.trim().match(/\n( *(at )?)/);Qm=e&&e[1]||""}return`
`+Qm+t}var Xm=!1;function Jm(t,e){if(!t||Xm)return"";Xm=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var n=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){n=c}t.call(e.prototype)}else{try{throw Error()}catch(c){n=c}t()}}catch(c){if(c&&n&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),s=n.stack.split(`
`),a=i.length-1,o=s.length-1;1<=a&&0<=o&&i[a]!==s[o];)o--;for(;1<=a&&0<=o;a--,o--)if(i[a]!==s[o]){if(a!==1||o!==1)do if(a--,o--,0>o||i[a]!==s[o]){var l=`
`+i[a].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=a&&0<=o);break}}}finally{Xm=!1,Error.prepareStackTrace=r}return(t=t?t.displayName||t.name:"")?Ic(t):""}function SX(t){switch(t.tag){case 5:return Ic(t.type);case 16:return Ic("Lazy");case 13:return Ic("Suspense");case 19:return Ic("SuspenseList");case 0:case 2:case 15:return t=Jm(t.type,!1),t;case 11:return t=Jm(t.type.render,!1),t;case 1:return t=Jm(t.type,!0),t;default:return""}}function lN(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case vl:return"Fragment";case ml:return"Portal";case sN:return"Profiler";case iC:return"StrictMode";case aN:return"Suspense";case oN:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case u9:return(t.displayName||"Context")+".Consumer";case l9:return(t._context.displayName||"Context")+".Provider";case sC:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case aC:return e=t.displayName||null,e!==null?e:lN(t.type)||"Memo";case $s:e=t._payload,t=t._init;try{return lN(t(e))}catch{}}return null}function EX(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return lN(e);case 8:return e===iC?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function ga(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function d9(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function NX(t){var e=d9(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),n=""+t[e];if(!t.hasOwnProperty(e)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var i=r.get,s=r.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(a){n=""+a,s.call(this,a)}}),Object.defineProperty(t,e,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(a){n=""+a},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Uh(t){t._valueTracker||(t._valueTracker=NX(t))}function h9(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var r=e.getValue(),n="";return t&&(n=d9(t)?t.checked?"true":"false":t.value),t=n,t!==r?(e.setValue(t),!0):!1}function Lf(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function uN(t,e){var r=e.checked;return jt({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??t._wrapperState.initialChecked})}function XT(t,e){var r=e.defaultValue==null?"":e.defaultValue,n=e.checked!=null?e.checked:e.defaultChecked;r=ga(e.value!=null?e.value:r),t._wrapperState={initialChecked:n,initialValue:r,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function f9(t,e){e=e.checked,e!=null&&nC(t,"checked",e,!1)}function cN(t,e){f9(t,e);var r=ga(e.value),n=e.type;if(r!=null)n==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+r):t.value!==""+r&&(t.value=""+r);else if(n==="submit"||n==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?dN(t,e.type,r):e.hasOwnProperty("defaultValue")&&dN(t,e.type,ga(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function JT(t,e,r){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var n=e.type;if(!(n!=="submit"&&n!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,r||e===t.value||(t.value=e),t.defaultValue=e}r=t.name,r!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,r!==""&&(t.name=r)}function dN(t,e,r){(e!=="number"||Lf(t.ownerDocument)!==t)&&(r==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+r&&(t.defaultValue=""+r))}var Rc=Array.isArray;function $l(t,e,r,n){if(t=t.options,e){e={};for(var i=0;i<r.length;i++)e["$"+r[i]]=!0;for(r=0;r<t.length;r++)i=e.hasOwnProperty("$"+t[r].value),t[r].selected!==i&&(t[r].selected=i),i&&n&&(t[r].defaultSelected=!0)}else{for(r=""+ga(r),e=null,i=0;i<t.length;i++){if(t[i].value===r){t[i].selected=!0,n&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function hN(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(Z(91));return jt({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function ZT(t,e){var r=e.value;if(r==null){if(r=e.children,e=e.defaultValue,r!=null){if(e!=null)throw Error(Z(92));if(Rc(r)){if(1<r.length)throw Error(Z(93));r=r[0]}e=r}e==null&&(e=""),r=e}t._wrapperState={initialValue:ga(r)}}function p9(t,e){var r=ga(e.value),n=ga(e.defaultValue);r!=null&&(r=""+r,r!==t.value&&(t.value=r),e.defaultValue==null&&t.defaultValue!==r&&(t.defaultValue=r)),n!=null&&(t.defaultValue=""+n)}function eP(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function m9(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function fN(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?m9(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Wh,v9=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,r,n,i){MSApp.execUnsafeLocalFunction(function(){return t(e,r,n,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Wh=Wh||document.createElement("div"),Wh.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Wh.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function nd(t,e){if(e){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=e;return}}t.textContent=e}var Ac={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},jX=["Webkit","ms","Moz","O"];Object.keys(Ac).forEach(function(t){jX.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Ac[e]=Ac[t]})});function g9(t,e,r){return e==null||typeof e=="boolean"||e===""?"":r||typeof e!="number"||e===0||Ac.hasOwnProperty(t)&&Ac[t]?(""+e).trim():e+"px"}function y9(t,e){t=t.style;for(var r in e)if(e.hasOwnProperty(r)){var n=r.indexOf("--")===0,i=g9(r,e[r],n);r==="float"&&(r="cssFloat"),n?t.setProperty(r,i):t[r]=i}}var CX=jt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function pN(t,e){if(e){if(CX[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(Z(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(Z(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(Z(61))}if(e.style!=null&&typeof e.style!="object")throw Error(Z(62))}}function mN(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var vN=null;function oC(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var gN=null,kl=null,Dl=null;function tP(t){if(t=Kd(t)){if(typeof gN!="function")throw Error(Z(280));var e=t.stateNode;e&&(e=Up(e),gN(t.stateNode,t.type,e))}}function b9(t){kl?Dl?Dl.push(t):Dl=[t]:kl=t}function x9(){if(kl){var t=kl,e=Dl;if(Dl=kl=null,tP(t),e)for(t=0;t<e.length;t++)tP(e[t])}}function w9(t,e){return t(e)}function _9(){}var Zm=!1;function S9(t,e,r){if(Zm)return t(e,r);Zm=!0;try{return w9(t,e,r)}finally{Zm=!1,(kl!==null||Dl!==null)&&(_9(),x9())}}function id(t,e){var r=t.stateNode;if(r===null)return null;var n=Up(r);if(n===null)return null;r=n[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(t=t.type,n=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!n;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(Z(231,e,typeof r));return r}var yN=!1;if(fs)try{var mc={};Object.defineProperty(mc,"passive",{get:function(){yN=!0}}),window.addEventListener("test",mc,mc),window.removeEventListener("test",mc,mc)}catch{yN=!1}function OX(t,e,r,n,i,s,a,o,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(r,c)}catch(d){this.onError(d)}}var Fc=!1,Bf=null,zf=!1,bN=null,TX={onError:function(t){Fc=!0,Bf=t}};function PX(t,e,r,n,i,s,a,o,l){Fc=!1,Bf=null,OX.apply(TX,arguments)}function IX(t,e,r,n,i,s,a,o,l){if(PX.apply(this,arguments),Fc){if(Fc){var c=Bf;Fc=!1,Bf=null}else throw Error(Z(198));zf||(zf=!0,bN=c)}}function Fo(t){var e=t,r=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(r=e.return),t=e.return;while(t)}return e.tag===3?r:null}function E9(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function rP(t){if(Fo(t)!==t)throw Error(Z(188))}function RX(t){var e=t.alternate;if(!e){if(e=Fo(t),e===null)throw Error(Z(188));return e!==t?null:t}for(var r=t,n=e;;){var i=r.return;if(i===null)break;var s=i.alternate;if(s===null){if(n=i.return,n!==null){r=n;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===r)return rP(i),t;if(s===n)return rP(i),e;s=s.sibling}throw Error(Z(188))}if(r.return!==n.return)r=i,n=s;else{for(var a=!1,o=i.child;o;){if(o===r){a=!0,r=i,n=s;break}if(o===n){a=!0,n=i,r=s;break}o=o.sibling}if(!a){for(o=s.child;o;){if(o===r){a=!0,r=s,n=i;break}if(o===n){a=!0,n=s,r=i;break}o=o.sibling}if(!a)throw Error(Z(189))}}if(r.alternate!==n)throw Error(Z(190))}if(r.tag!==3)throw Error(Z(188));return r.stateNode.current===r?t:e}function N9(t){return t=RX(t),t!==null?j9(t):null}function j9(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=j9(t);if(e!==null)return e;t=t.sibling}return null}var C9=Sn.unstable_scheduleCallback,nP=Sn.unstable_cancelCallback,$X=Sn.unstable_shouldYield,kX=Sn.unstable_requestPaint,qt=Sn.unstable_now,DX=Sn.unstable_getCurrentPriorityLevel,lC=Sn.unstable_ImmediatePriority,O9=Sn.unstable_UserBlockingPriority,Uf=Sn.unstable_NormalPriority,MX=Sn.unstable_LowPriority,T9=Sn.unstable_IdlePriority,Fp=null,Ii=null;function qX(t){if(Ii&&typeof Ii.onCommitFiberRoot=="function")try{Ii.onCommitFiberRoot(Fp,t,void 0,(t.current.flags&128)===128)}catch{}}var ci=Math.clz32?Math.clz32:LX,AX=Math.log,FX=Math.LN2;function LX(t){return t>>>=0,t===0?32:31-(AX(t)/FX|0)|0}var Hh=64,Vh=4194304;function $c(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Wf(t,e){var r=t.pendingLanes;if(r===0)return 0;var n=0,i=t.suspendedLanes,s=t.pingedLanes,a=r&268435455;if(a!==0){var o=a&~i;o!==0?n=$c(o):(s&=a,s!==0&&(n=$c(s)))}else a=r&~i,a!==0?n=$c(a):s!==0&&(n=$c(s));if(n===0)return 0;if(e!==0&&e!==n&&!(e&i)&&(i=n&-n,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(n&4&&(n|=r&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=n;0<e;)r=31-ci(e),i=1<<r,n|=t[r],e&=~i;return n}function BX(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function zX(t,e){for(var r=t.suspendedLanes,n=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var a=31-ci(s),o=1<<a,l=i[a];l===-1?(!(o&r)||o&n)&&(i[a]=BX(o,e)):l<=e&&(t.expiredLanes|=o),s&=~o}}function xN(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function P9(){var t=Hh;return Hh<<=1,!(Hh&4194240)&&(Hh=64),t}function ev(t){for(var e=[],r=0;31>r;r++)e.push(t);return e}function Hd(t,e,r){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-ci(e),t[e]=r}function UX(t,e){var r=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var n=t.eventTimes;for(t=t.expirationTimes;0<r;){var i=31-ci(r),s=1<<i;e[i]=0,n[i]=-1,t[i]=-1,r&=~s}}function uC(t,e){var r=t.entangledLanes|=e;for(t=t.entanglements;r;){var n=31-ci(r),i=1<<n;i&e|t[n]&e&&(t[n]|=e),r&=~i}}var et=0;function I9(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var R9,cC,$9,k9,D9,wN=!1,Kh=[],ea=null,ta=null,ra=null,sd=new Map,ad=new Map,qs=[],WX="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function iP(t,e){switch(t){case"focusin":case"focusout":ea=null;break;case"dragenter":case"dragleave":ta=null;break;case"mouseover":case"mouseout":ra=null;break;case"pointerover":case"pointerout":sd.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":ad.delete(e.pointerId)}}function vc(t,e,r,n,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:r,eventSystemFlags:n,nativeEvent:s,targetContainers:[i]},e!==null&&(e=Kd(e),e!==null&&cC(e)),t):(t.eventSystemFlags|=n,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function HX(t,e,r,n,i){switch(e){case"focusin":return ea=vc(ea,t,e,r,n,i),!0;case"dragenter":return ta=vc(ta,t,e,r,n,i),!0;case"mouseover":return ra=vc(ra,t,e,r,n,i),!0;case"pointerover":var s=i.pointerId;return sd.set(s,vc(sd.get(s)||null,t,e,r,n,i)),!0;case"gotpointercapture":return s=i.pointerId,ad.set(s,vc(ad.get(s)||null,t,e,r,n,i)),!0}return!1}function M9(t){var e=Ua(t.target);if(e!==null){var r=Fo(e);if(r!==null){if(e=r.tag,e===13){if(e=E9(r),e!==null){t.blockedOn=e,D9(t.priority,function(){$9(r)});return}}else if(e===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function xf(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var r=_N(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(r===null){r=t.nativeEvent;var n=new r.constructor(r.type,r);vN=n,r.target.dispatchEvent(n),vN=null}else return e=Kd(r),e!==null&&cC(e),t.blockedOn=r,!1;e.shift()}return!0}function sP(t,e,r){xf(t)&&r.delete(e)}function VX(){wN=!1,ea!==null&&xf(ea)&&(ea=null),ta!==null&&xf(ta)&&(ta=null),ra!==null&&xf(ra)&&(ra=null),sd.forEach(sP),ad.forEach(sP)}function gc(t,e){t.blockedOn===e&&(t.blockedOn=null,wN||(wN=!0,Sn.unstable_scheduleCallback(Sn.unstable_NormalPriority,VX)))}function od(t){function e(i){return gc(i,t)}if(0<Kh.length){gc(Kh[0],t);for(var r=1;r<Kh.length;r++){var n=Kh[r];n.blockedOn===t&&(n.blockedOn=null)}}for(ea!==null&&gc(ea,t),ta!==null&&gc(ta,t),ra!==null&&gc(ra,t),sd.forEach(e),ad.forEach(e),r=0;r<qs.length;r++)n=qs[r],n.blockedOn===t&&(n.blockedOn=null);for(;0<qs.length&&(r=qs[0],r.blockedOn===null);)M9(r),r.blockedOn===null&&qs.shift()}var Ml=ys.ReactCurrentBatchConfig,Hf=!0;function KX(t,e,r,n){var i=et,s=Ml.transition;Ml.transition=null;try{et=1,dC(t,e,r,n)}finally{et=i,Ml.transition=s}}function GX(t,e,r,n){var i=et,s=Ml.transition;Ml.transition=null;try{et=4,dC(t,e,r,n)}finally{et=i,Ml.transition=s}}function dC(t,e,r,n){if(Hf){var i=_N(t,e,r,n);if(i===null)cv(t,e,n,Vf,r),iP(t,n);else if(HX(i,t,e,r,n))n.stopPropagation();else if(iP(t,n),e&4&&-1<WX.indexOf(t)){for(;i!==null;){var s=Kd(i);if(s!==null&&R9(s),s=_N(t,e,r,n),s===null&&cv(t,e,n,Vf,r),s===i)break;i=s}i!==null&&n.stopPropagation()}else cv(t,e,n,null,r)}}var Vf=null;function _N(t,e,r,n){if(Vf=null,t=oC(n),t=Ua(t),t!==null)if(e=Fo(t),e===null)t=null;else if(r=e.tag,r===13){if(t=E9(e),t!==null)return t;t=null}else if(r===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Vf=t,null}function q9(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(DX()){case lC:return 1;case O9:return 4;case Uf:case MX:return 16;case T9:return 536870912;default:return 16}default:return 16}}var Qs=null,hC=null,wf=null;function A9(){if(wf)return wf;var t,e=hC,r=e.length,n,i="value"in Qs?Qs.value:Qs.textContent,s=i.length;for(t=0;t<r&&e[t]===i[t];t++);var a=r-t;for(n=1;n<=a&&e[r-n]===i[s-n];n++);return wf=i.slice(t,1<n?1-n:void 0)}function _f(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Gh(){return!0}function aP(){return!1}function jn(t){function e(r,n,i,s,a){this._reactName=r,this._targetInst=i,this.type=n,this.nativeEvent=s,this.target=a,this.currentTarget=null;for(var o in t)t.hasOwnProperty(o)&&(r=t[o],this[o]=r?r(s):s[o]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Gh:aP,this.isPropagationStopped=aP,this}return jt(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Gh)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Gh)},persist:function(){},isPersistent:Gh}),e}var Tu={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},fC=jn(Tu),Vd=jt({},Tu,{view:0,detail:0}),YX=jn(Vd),tv,rv,yc,Lp=jt({},Vd,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:pC,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==yc&&(yc&&t.type==="mousemove"?(tv=t.screenX-yc.screenX,rv=t.screenY-yc.screenY):rv=tv=0,yc=t),tv)},movementY:function(t){return"movementY"in t?t.movementY:rv}}),oP=jn(Lp),QX=jt({},Lp,{dataTransfer:0}),XX=jn(QX),JX=jt({},Vd,{relatedTarget:0}),nv=jn(JX),ZX=jt({},Tu,{animationName:0,elapsedTime:0,pseudoElement:0}),eJ=jn(ZX),tJ=jt({},Tu,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),rJ=jn(tJ),nJ=jt({},Tu,{data:0}),lP=jn(nJ),iJ={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},sJ={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},aJ={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function oJ(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=aJ[t])?!!e[t]:!1}function pC(){return oJ}var lJ=jt({},Vd,{key:function(t){if(t.key){var e=iJ[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=_f(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?sJ[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:pC,charCode:function(t){return t.type==="keypress"?_f(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?_f(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),uJ=jn(lJ),cJ=jt({},Lp,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),uP=jn(cJ),dJ=jt({},Vd,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:pC}),hJ=jn(dJ),fJ=jt({},Tu,{propertyName:0,elapsedTime:0,pseudoElement:0}),pJ=jn(fJ),mJ=jt({},Lp,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),vJ=jn(mJ),gJ=[9,13,27,32],mC=fs&&"CompositionEvent"in window,Lc=null;fs&&"documentMode"in document&&(Lc=document.documentMode);var yJ=fs&&"TextEvent"in window&&!Lc,F9=fs&&(!mC||Lc&&8<Lc&&11>=Lc),cP=" ",dP=!1;function L9(t,e){switch(t){case"keyup":return gJ.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function B9(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var gl=!1;function bJ(t,e){switch(t){case"compositionend":return B9(e);case"keypress":return e.which!==32?null:(dP=!0,cP);case"textInput":return t=e.data,t===cP&&dP?null:t;default:return null}}function xJ(t,e){if(gl)return t==="compositionend"||!mC&&L9(t,e)?(t=A9(),wf=hC=Qs=null,gl=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return F9&&e.locale!=="ko"?null:e.data;default:return null}}var wJ={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function hP(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!wJ[t.type]:e==="textarea"}function z9(t,e,r,n){b9(n),e=Kf(e,"onChange"),0<e.length&&(r=new fC("onChange","change",null,r,n),t.push({event:r,listeners:e}))}var Bc=null,ld=null;function _J(t){Z9(t,0)}function Bp(t){var e=xl(t);if(h9(e))return t}function SJ(t,e){if(t==="change")return e}var U9=!1;if(fs){var iv;if(fs){var sv="oninput"in document;if(!sv){var fP=document.createElement("div");fP.setAttribute("oninput","return;"),sv=typeof fP.oninput=="function"}iv=sv}else iv=!1;U9=iv&&(!document.documentMode||9<document.documentMode)}function pP(){Bc&&(Bc.detachEvent("onpropertychange",W9),ld=Bc=null)}function W9(t){if(t.propertyName==="value"&&Bp(ld)){var e=[];z9(e,ld,t,oC(t)),S9(_J,e)}}function EJ(t,e,r){t==="focusin"?(pP(),Bc=e,ld=r,Bc.attachEvent("onpropertychange",W9)):t==="focusout"&&pP()}function NJ(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Bp(ld)}function jJ(t,e){if(t==="click")return Bp(e)}function CJ(t,e){if(t==="input"||t==="change")return Bp(e)}function OJ(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var hi=typeof Object.is=="function"?Object.is:OJ;function ud(t,e){if(hi(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var i=r[n];if(!iN.call(e,i)||!hi(t[i],e[i]))return!1}return!0}function mP(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function vP(t,e){var r=mP(t);t=0;for(var n;r;){if(r.nodeType===3){if(n=t+r.textContent.length,t<=e&&n>=e)return{node:r,offset:e-t};t=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=mP(r)}}function H9(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?H9(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function V9(){for(var t=window,e=Lf();e instanceof t.HTMLIFrameElement;){try{var r=typeof e.contentWindow.location.href=="string"}catch{r=!1}if(r)t=e.contentWindow;else break;e=Lf(t.document)}return e}function vC(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function TJ(t){var e=V9(),r=t.focusedElem,n=t.selectionRange;if(e!==r&&r&&r.ownerDocument&&H9(r.ownerDocument.documentElement,r)){if(n!==null&&vC(r)){if(e=n.start,t=n.end,t===void 0&&(t=e),"selectionStart"in r)r.selectionStart=e,r.selectionEnd=Math.min(t,r.value.length);else if(t=(e=r.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=r.textContent.length,s=Math.min(n.start,i);n=n.end===void 0?s:Math.min(n.end,i),!t.extend&&s>n&&(i=n,n=s,s=i),i=vP(r,s);var a=vP(r,n);i&&a&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==a.node||t.focusOffset!==a.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>n?(t.addRange(e),t.extend(a.node,a.offset)):(e.setEnd(a.node,a.offset),t.addRange(e)))}}for(e=[],t=r;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<e.length;r++)t=e[r],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var PJ=fs&&"documentMode"in document&&11>=document.documentMode,yl=null,SN=null,zc=null,EN=!1;function gP(t,e,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;EN||yl==null||yl!==Lf(n)||(n=yl,"selectionStart"in n&&vC(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),zc&&ud(zc,n)||(zc=n,n=Kf(SN,"onSelect"),0<n.length&&(e=new fC("onSelect","select",null,e,r),t.push({event:e,listeners:n}),e.target=yl)))}function Yh(t,e){var r={};return r[t.toLowerCase()]=e.toLowerCase(),r["Webkit"+t]="webkit"+e,r["Moz"+t]="moz"+e,r}var bl={animationend:Yh("Animation","AnimationEnd"),animationiteration:Yh("Animation","AnimationIteration"),animationstart:Yh("Animation","AnimationStart"),transitionend:Yh("Transition","TransitionEnd")},av={},K9={};fs&&(K9=document.createElement("div").style,"AnimationEvent"in window||(delete bl.animationend.animation,delete bl.animationiteration.animation,delete bl.animationstart.animation),"TransitionEvent"in window||delete bl.transitionend.transition);function zp(t){if(av[t])return av[t];if(!bl[t])return t;var e=bl[t],r;for(r in e)if(e.hasOwnProperty(r)&&r in K9)return av[t]=e[r];return t}var G9=zp("animationend"),Y9=zp("animationiteration"),Q9=zp("animationstart"),X9=zp("transitionend"),J9=new Map,yP="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ea(t,e){J9.set(t,e),Ao(e,[t])}for(var ov=0;ov<yP.length;ov++){var lv=yP[ov],IJ=lv.toLowerCase(),RJ=lv[0].toUpperCase()+lv.slice(1);Ea(IJ,"on"+RJ)}Ea(G9,"onAnimationEnd");Ea(Y9,"onAnimationIteration");Ea(Q9,"onAnimationStart");Ea("dblclick","onDoubleClick");Ea("focusin","onFocus");Ea("focusout","onBlur");Ea(X9,"onTransitionEnd");su("onMouseEnter",["mouseout","mouseover"]);su("onMouseLeave",["mouseout","mouseover"]);su("onPointerEnter",["pointerout","pointerover"]);su("onPointerLeave",["pointerout","pointerover"]);Ao("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Ao("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Ao("onBeforeInput",["compositionend","keypress","textInput","paste"]);Ao("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Ao("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Ao("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var kc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),$J=new Set("cancel close invalid load scroll toggle".split(" ").concat(kc));function bP(t,e,r){var n=t.type||"unknown-event";t.currentTarget=r,IX(n,e,void 0,t),t.currentTarget=null}function Z9(t,e){e=(e&4)!==0;for(var r=0;r<t.length;r++){var n=t[r],i=n.event;n=n.listeners;e:{var s=void 0;if(e)for(var a=n.length-1;0<=a;a--){var o=n[a],l=o.instance,c=o.currentTarget;if(o=o.listener,l!==s&&i.isPropagationStopped())break e;bP(i,o,c),s=l}else for(a=0;a<n.length;a++){if(o=n[a],l=o.instance,c=o.currentTarget,o=o.listener,l!==s&&i.isPropagationStopped())break e;bP(i,o,c),s=l}}}if(zf)throw t=bN,zf=!1,bN=null,t}function vt(t,e){var r=e[TN];r===void 0&&(r=e[TN]=new Set);var n=t+"__bubble";r.has(n)||(eH(e,t,2,!1),r.add(n))}function uv(t,e,r){var n=0;e&&(n|=4),eH(r,t,n,e)}var Qh="_reactListening"+Math.random().toString(36).slice(2);function cd(t){if(!t[Qh]){t[Qh]=!0,o9.forEach(function(r){r!=="selectionchange"&&($J.has(r)||uv(r,!1,t),uv(r,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Qh]||(e[Qh]=!0,uv("selectionchange",!1,e))}}function eH(t,e,r,n){switch(q9(e)){case 1:var i=KX;break;case 4:i=GX;break;default:i=dC}r=i.bind(null,e,r,t),i=void 0,!yN||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),n?i!==void 0?t.addEventListener(e,r,{capture:!0,passive:i}):t.addEventListener(e,r,!0):i!==void 0?t.addEventListener(e,r,{passive:i}):t.addEventListener(e,r,!1)}function cv(t,e,r,n,i){var s=n;if(!(e&1)&&!(e&2)&&n!==null)e:for(;;){if(n===null)return;var a=n.tag;if(a===3||a===4){var o=n.stateNode.containerInfo;if(o===i||o.nodeType===8&&o.parentNode===i)break;if(a===4)for(a=n.return;a!==null;){var l=a.tag;if((l===3||l===4)&&(l=a.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;a=a.return}for(;o!==null;){if(a=Ua(o),a===null)return;if(l=a.tag,l===5||l===6){n=s=a;continue e}o=o.parentNode}}n=n.return}S9(function(){var c=s,d=oC(r),h=[];e:{var f=J9.get(t);if(f!==void 0){var p=fC,m=t;switch(t){case"keypress":if(_f(r)===0)break e;case"keydown":case"keyup":p=uJ;break;case"focusin":m="focus",p=nv;break;case"focusout":m="blur",p=nv;break;case"beforeblur":case"afterblur":p=nv;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=oP;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=XX;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=hJ;break;case G9:case Y9:case Q9:p=eJ;break;case X9:p=pJ;break;case"scroll":p=YX;break;case"wheel":p=vJ;break;case"copy":case"cut":case"paste":p=rJ;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=uP}var y=(e&4)!==0,b=!y&&t==="scroll",g=y?f!==null?f+"Capture":null:f;y=[];for(var v=c,w;v!==null;){w=v;var x=w.stateNode;if(w.tag===5&&x!==null&&(w=x,g!==null&&(x=id(v,g),x!=null&&y.push(dd(v,x,w)))),b)break;v=v.return}0<y.length&&(f=new p(f,m,null,r,d),h.push({event:f,listeners:y}))}}if(!(e&7)){e:{if(f=t==="mouseover"||t==="pointerover",p=t==="mouseout"||t==="pointerout",f&&r!==vN&&(m=r.relatedTarget||r.fromElement)&&(Ua(m)||m[ps]))break e;if((p||f)&&(f=d.window===d?d:(f=d.ownerDocument)?f.defaultView||f.parentWindow:window,p?(m=r.relatedTarget||r.toElement,p=c,m=m?Ua(m):null,m!==null&&(b=Fo(m),m!==b||m.tag!==5&&m.tag!==6)&&(m=null)):(p=null,m=c),p!==m)){if(y=oP,x="onMouseLeave",g="onMouseEnter",v="mouse",(t==="pointerout"||t==="pointerover")&&(y=uP,x="onPointerLeave",g="onPointerEnter",v="pointer"),b=p==null?f:xl(p),w=m==null?f:xl(m),f=new y(x,v+"leave",p,r,d),f.target=b,f.relatedTarget=w,x=null,Ua(d)===c&&(y=new y(g,v+"enter",m,r,d),y.target=w,y.relatedTarget=b,x=y),b=x,p&&m)t:{for(y=p,g=m,v=0,w=y;w;w=ll(w))v++;for(w=0,x=g;x;x=ll(x))w++;for(;0<v-w;)y=ll(y),v--;for(;0<w-v;)g=ll(g),w--;for(;v--;){if(y===g||g!==null&&y===g.alternate)break t;y=ll(y),g=ll(g)}y=null}else y=null;p!==null&&xP(h,f,p,y,!1),m!==null&&b!==null&&xP(h,b,m,y,!0)}}e:{if(f=c?xl(c):window,p=f.nodeName&&f.nodeName.toLowerCase(),p==="select"||p==="input"&&f.type==="file")var _=SJ;else if(hP(f))if(U9)_=CJ;else{_=NJ;var E=EJ}else(p=f.nodeName)&&p.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(_=jJ);if(_&&(_=_(t,c))){z9(h,_,r,d);break e}E&&E(t,f,c),t==="focusout"&&(E=f._wrapperState)&&E.controlled&&f.type==="number"&&dN(f,"number",f.value)}switch(E=c?xl(c):window,t){case"focusin":(hP(E)||E.contentEditable==="true")&&(yl=E,SN=c,zc=null);break;case"focusout":zc=SN=yl=null;break;case"mousedown":EN=!0;break;case"contextmenu":case"mouseup":case"dragend":EN=!1,gP(h,r,d);break;case"selectionchange":if(PJ)break;case"keydown":case"keyup":gP(h,r,d)}var N;if(mC)e:{switch(t){case"compositionstart":var S="onCompositionStart";break e;case"compositionend":S="onCompositionEnd";break e;case"compositionupdate":S="onCompositionUpdate";break e}S=void 0}else gl?L9(t,r)&&(S="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(S="onCompositionStart");S&&(F9&&r.locale!=="ko"&&(gl||S!=="onCompositionStart"?S==="onCompositionEnd"&&gl&&(N=A9()):(Qs=d,hC="value"in Qs?Qs.value:Qs.textContent,gl=!0)),E=Kf(c,S),0<E.length&&(S=new lP(S,t,null,r,d),h.push({event:S,listeners:E}),N?S.data=N:(N=B9(r),N!==null&&(S.data=N)))),(N=yJ?bJ(t,r):xJ(t,r))&&(c=Kf(c,"onBeforeInput"),0<c.length&&(d=new lP("onBeforeInput","beforeinput",null,r,d),h.push({event:d,listeners:c}),d.data=N))}Z9(h,e)})}function dd(t,e,r){return{instance:t,listener:e,currentTarget:r}}function Kf(t,e){for(var r=e+"Capture",n=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=id(t,r),s!=null&&n.unshift(dd(t,s,i)),s=id(t,e),s!=null&&n.push(dd(t,s,i))),t=t.return}return n}function ll(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function xP(t,e,r,n,i){for(var s=e._reactName,a=[];r!==null&&r!==n;){var o=r,l=o.alternate,c=o.stateNode;if(l!==null&&l===n)break;o.tag===5&&c!==null&&(o=c,i?(l=id(r,s),l!=null&&a.unshift(dd(r,l,o))):i||(l=id(r,s),l!=null&&a.push(dd(r,l,o)))),r=r.return}a.length!==0&&t.push({event:e,listeners:a})}var kJ=/\r\n?/g,DJ=/\u0000|\uFFFD/g;function wP(t){return(typeof t=="string"?t:""+t).replace(kJ,`
`).replace(DJ,"")}function Xh(t,e,r){if(e=wP(e),wP(t)!==e&&r)throw Error(Z(425))}function Gf(){}var NN=null,jN=null;function CN(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var ON=typeof setTimeout=="function"?setTimeout:void 0,MJ=typeof clearTimeout=="function"?clearTimeout:void 0,_P=typeof Promise=="function"?Promise:void 0,qJ=typeof queueMicrotask=="function"?queueMicrotask:typeof _P<"u"?function(t){return _P.resolve(null).then(t).catch(AJ)}:ON;function AJ(t){setTimeout(function(){throw t})}function dv(t,e){var r=e,n=0;do{var i=r.nextSibling;if(t.removeChild(r),i&&i.nodeType===8)if(r=i.data,r==="/$"){if(n===0){t.removeChild(i),od(e);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=i}while(r);od(e)}function na(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function SP(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(e===0)return t;e--}else r==="/$"&&e++}t=t.previousSibling}return null}var Pu=Math.random().toString(36).slice(2),ji="__reactFiber$"+Pu,hd="__reactProps$"+Pu,ps="__reactContainer$"+Pu,TN="__reactEvents$"+Pu,FJ="__reactListeners$"+Pu,LJ="__reactHandles$"+Pu;function Ua(t){var e=t[ji];if(e)return e;for(var r=t.parentNode;r;){if(e=r[ps]||r[ji]){if(r=e.alternate,e.child!==null||r!==null&&r.child!==null)for(t=SP(t);t!==null;){if(r=t[ji])return r;t=SP(t)}return e}t=r,r=t.parentNode}return null}function Kd(t){return t=t[ji]||t[ps],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function xl(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(Z(33))}function Up(t){return t[hd]||null}var PN=[],wl=-1;function Na(t){return{current:t}}function yt(t){0>wl||(t.current=PN[wl],PN[wl]=null,wl--)}function pt(t,e){wl++,PN[wl]=t.current,t.current=e}var ya={},Tr=Na(ya),sn=Na(!1),xo=ya;function au(t,e){var r=t.type.contextTypes;if(!r)return ya;var n=t.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===e)return n.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in r)i[s]=e[s];return n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function an(t){return t=t.childContextTypes,t!=null}function Yf(){yt(sn),yt(Tr)}function EP(t,e,r){if(Tr.current!==ya)throw Error(Z(168));pt(Tr,e),pt(sn,r)}function tH(t,e,r){var n=t.stateNode;if(e=e.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var i in n)if(!(i in e))throw Error(Z(108,EX(t)||"Unknown",i));return jt({},r,n)}function Qf(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||ya,xo=Tr.current,pt(Tr,t),pt(sn,sn.current),!0}function NP(t,e,r){var n=t.stateNode;if(!n)throw Error(Z(169));r?(t=tH(t,e,xo),n.__reactInternalMemoizedMergedChildContext=t,yt(sn),yt(Tr),pt(Tr,t)):yt(sn),pt(sn,r)}var Vi=null,Wp=!1,hv=!1;function rH(t){Vi===null?Vi=[t]:Vi.push(t)}function BJ(t){Wp=!0,rH(t)}function ja(){if(!hv&&Vi!==null){hv=!0;var t=0,e=et;try{var r=Vi;for(et=1;t<r.length;t++){var n=r[t];do n=n(!0);while(n!==null)}Vi=null,Wp=!1}catch(i){throw Vi!==null&&(Vi=Vi.slice(t+1)),C9(lC,ja),i}finally{et=e,hv=!1}}return null}var _l=[],Sl=0,Xf=null,Jf=0,Mn=[],qn=0,wo=null,Xi=1,Ji="";function Fa(t,e){_l[Sl++]=Jf,_l[Sl++]=Xf,Xf=t,Jf=e}function nH(t,e,r){Mn[qn++]=Xi,Mn[qn++]=Ji,Mn[qn++]=wo,wo=t;var n=Xi;t=Ji;var i=32-ci(n)-1;n&=~(1<<i),r+=1;var s=32-ci(e)+i;if(30<s){var a=i-i%5;s=(n&(1<<a)-1).toString(32),n>>=a,i-=a,Xi=1<<32-ci(e)+i|r<<i|n,Ji=s+t}else Xi=1<<s|r<<i|n,Ji=t}function gC(t){t.return!==null&&(Fa(t,1),nH(t,1,0))}function yC(t){for(;t===Xf;)Xf=_l[--Sl],_l[Sl]=null,Jf=_l[--Sl],_l[Sl]=null;for(;t===wo;)wo=Mn[--qn],Mn[qn]=null,Ji=Mn[--qn],Mn[qn]=null,Xi=Mn[--qn],Mn[qn]=null}var _n=null,wn=null,wt=!1,ii=null;function iH(t,e){var r=Ln(5,null,null,0);r.elementType="DELETED",r.stateNode=e,r.return=t,e=t.deletions,e===null?(t.deletions=[r],t.flags|=16):e.push(r)}function jP(t,e){switch(t.tag){case 5:var r=t.type;return e=e.nodeType!==1||r.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,_n=t,wn=na(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,_n=t,wn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(r=wo!==null?{id:Xi,overflow:Ji}:null,t.memoizedState={dehydrated:e,treeContext:r,retryLane:1073741824},r=Ln(18,null,null,0),r.stateNode=e,r.return=t,t.child=r,_n=t,wn=null,!0):!1;default:return!1}}function IN(t){return(t.mode&1)!==0&&(t.flags&128)===0}function RN(t){if(wt){var e=wn;if(e){var r=e;if(!jP(t,e)){if(IN(t))throw Error(Z(418));e=na(r.nextSibling);var n=_n;e&&jP(t,e)?iH(n,r):(t.flags=t.flags&-4097|2,wt=!1,_n=t)}}else{if(IN(t))throw Error(Z(418));t.flags=t.flags&-4097|2,wt=!1,_n=t}}}function CP(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;_n=t}function Jh(t){if(t!==_n)return!1;if(!wt)return CP(t),wt=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!CN(t.type,t.memoizedProps)),e&&(e=wn)){if(IN(t))throw sH(),Error(Z(418));for(;e;)iH(t,e),e=na(e.nextSibling)}if(CP(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(Z(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"){if(e===0){wn=na(t.nextSibling);break e}e--}else r!=="$"&&r!=="$!"&&r!=="$?"||e++}t=t.nextSibling}wn=null}}else wn=_n?na(t.stateNode.nextSibling):null;return!0}function sH(){for(var t=wn;t;)t=na(t.nextSibling)}function ou(){wn=_n=null,wt=!1}function bC(t){ii===null?ii=[t]:ii.push(t)}var zJ=ys.ReactCurrentBatchConfig;function bc(t,e,r){if(t=r.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(Z(309));var n=r.stateNode}if(!n)throw Error(Z(147,t));var i=n,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(a){var o=i.refs;a===null?delete o[s]:o[s]=a},e._stringRef=s,e)}if(typeof t!="string")throw Error(Z(284));if(!r._owner)throw Error(Z(290,t))}return t}function Zh(t,e){throw t=Object.prototype.toString.call(e),Error(Z(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function OP(t){var e=t._init;return e(t._payload)}function aH(t){function e(g,v){if(t){var w=g.deletions;w===null?(g.deletions=[v],g.flags|=16):w.push(v)}}function r(g,v){if(!t)return null;for(;v!==null;)e(g,v),v=v.sibling;return null}function n(g,v){for(g=new Map;v!==null;)v.key!==null?g.set(v.key,v):g.set(v.index,v),v=v.sibling;return g}function i(g,v){return g=oa(g,v),g.index=0,g.sibling=null,g}function s(g,v,w){return g.index=w,t?(w=g.alternate,w!==null?(w=w.index,w<v?(g.flags|=2,v):w):(g.flags|=2,v)):(g.flags|=1048576,v)}function a(g){return t&&g.alternate===null&&(g.flags|=2),g}function o(g,v,w,x){return v===null||v.tag!==6?(v=bv(w,g.mode,x),v.return=g,v):(v=i(v,w),v.return=g,v)}function l(g,v,w,x){var _=w.type;return _===vl?d(g,v,w.props.children,x,w.key):v!==null&&(v.elementType===_||typeof _=="object"&&_!==null&&_.$$typeof===$s&&OP(_)===v.type)?(x=i(v,w.props),x.ref=bc(g,v,w),x.return=g,x):(x=Tf(w.type,w.key,w.props,null,g.mode,x),x.ref=bc(g,v,w),x.return=g,x)}function c(g,v,w,x){return v===null||v.tag!==4||v.stateNode.containerInfo!==w.containerInfo||v.stateNode.implementation!==w.implementation?(v=xv(w,g.mode,x),v.return=g,v):(v=i(v,w.children||[]),v.return=g,v)}function d(g,v,w,x,_){return v===null||v.tag!==7?(v=co(w,g.mode,x,_),v.return=g,v):(v=i(v,w),v.return=g,v)}function h(g,v,w){if(typeof v=="string"&&v!==""||typeof v=="number")return v=bv(""+v,g.mode,w),v.return=g,v;if(typeof v=="object"&&v!==null){switch(v.$$typeof){case zh:return w=Tf(v.type,v.key,v.props,null,g.mode,w),w.ref=bc(g,null,v),w.return=g,w;case ml:return v=xv(v,g.mode,w),v.return=g,v;case $s:var x=v._init;return h(g,x(v._payload),w)}if(Rc(v)||pc(v))return v=co(v,g.mode,w,null),v.return=g,v;Zh(g,v)}return null}function f(g,v,w,x){var _=v!==null?v.key:null;if(typeof w=="string"&&w!==""||typeof w=="number")return _!==null?null:o(g,v,""+w,x);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case zh:return w.key===_?l(g,v,w,x):null;case ml:return w.key===_?c(g,v,w,x):null;case $s:return _=w._init,f(g,v,_(w._payload),x)}if(Rc(w)||pc(w))return _!==null?null:d(g,v,w,x,null);Zh(g,w)}return null}function p(g,v,w,x,_){if(typeof x=="string"&&x!==""||typeof x=="number")return g=g.get(w)||null,o(v,g,""+x,_);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case zh:return g=g.get(x.key===null?w:x.key)||null,l(v,g,x,_);case ml:return g=g.get(x.key===null?w:x.key)||null,c(v,g,x,_);case $s:var E=x._init;return p(g,v,w,E(x._payload),_)}if(Rc(x)||pc(x))return g=g.get(w)||null,d(v,g,x,_,null);Zh(v,x)}return null}function m(g,v,w,x){for(var _=null,E=null,N=v,S=v=0,j=null;N!==null&&S<w.length;S++){N.index>S?(j=N,N=null):j=N.sibling;var C=f(g,N,w[S],x);if(C===null){N===null&&(N=j);break}t&&N&&C.alternate===null&&e(g,N),v=s(C,v,S),E===null?_=C:E.sibling=C,E=C,N=j}if(S===w.length)return r(g,N),wt&&Fa(g,S),_;if(N===null){for(;S<w.length;S++)N=h(g,w[S],x),N!==null&&(v=s(N,v,S),E===null?_=N:E.sibling=N,E=N);return wt&&Fa(g,S),_}for(N=n(g,N);S<w.length;S++)j=p(N,g,S,w[S],x),j!==null&&(t&&j.alternate!==null&&N.delete(j.key===null?S:j.key),v=s(j,v,S),E===null?_=j:E.sibling=j,E=j);return t&&N.forEach(function(O){return e(g,O)}),wt&&Fa(g,S),_}function y(g,v,w,x){var _=pc(w);if(typeof _!="function")throw Error(Z(150));if(w=_.call(w),w==null)throw Error(Z(151));for(var E=_=null,N=v,S=v=0,j=null,C=w.next();N!==null&&!C.done;S++,C=w.next()){N.index>S?(j=N,N=null):j=N.sibling;var O=f(g,N,C.value,x);if(O===null){N===null&&(N=j);break}t&&N&&O.alternate===null&&e(g,N),v=s(O,v,S),E===null?_=O:E.sibling=O,E=O,N=j}if(C.done)return r(g,N),wt&&Fa(g,S),_;if(N===null){for(;!C.done;S++,C=w.next())C=h(g,C.value,x),C!==null&&(v=s(C,v,S),E===null?_=C:E.sibling=C,E=C);return wt&&Fa(g,S),_}for(N=n(g,N);!C.done;S++,C=w.next())C=p(N,g,S,C.value,x),C!==null&&(t&&C.alternate!==null&&N.delete(C.key===null?S:C.key),v=s(C,v,S),E===null?_=C:E.sibling=C,E=C);return t&&N.forEach(function(T){return e(g,T)}),wt&&Fa(g,S),_}function b(g,v,w,x){if(typeof w=="object"&&w!==null&&w.type===vl&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case zh:e:{for(var _=w.key,E=v;E!==null;){if(E.key===_){if(_=w.type,_===vl){if(E.tag===7){r(g,E.sibling),v=i(E,w.props.children),v.return=g,g=v;break e}}else if(E.elementType===_||typeof _=="object"&&_!==null&&_.$$typeof===$s&&OP(_)===E.type){r(g,E.sibling),v=i(E,w.props),v.ref=bc(g,E,w),v.return=g,g=v;break e}r(g,E);break}else e(g,E);E=E.sibling}w.type===vl?(v=co(w.props.children,g.mode,x,w.key),v.return=g,g=v):(x=Tf(w.type,w.key,w.props,null,g.mode,x),x.ref=bc(g,v,w),x.return=g,g=x)}return a(g);case ml:e:{for(E=w.key;v!==null;){if(v.key===E)if(v.tag===4&&v.stateNode.containerInfo===w.containerInfo&&v.stateNode.implementation===w.implementation){r(g,v.sibling),v=i(v,w.children||[]),v.return=g,g=v;break e}else{r(g,v);break}else e(g,v);v=v.sibling}v=xv(w,g.mode,x),v.return=g,g=v}return a(g);case $s:return E=w._init,b(g,v,E(w._payload),x)}if(Rc(w))return m(g,v,w,x);if(pc(w))return y(g,v,w,x);Zh(g,w)}return typeof w=="string"&&w!==""||typeof w=="number"?(w=""+w,v!==null&&v.tag===6?(r(g,v.sibling),v=i(v,w),v.return=g,g=v):(r(g,v),v=bv(w,g.mode,x),v.return=g,g=v),a(g)):r(g,v)}return b}var lu=aH(!0),oH=aH(!1),Zf=Na(null),ep=null,El=null,xC=null;function wC(){xC=El=ep=null}function _C(t){var e=Zf.current;yt(Zf),t._currentValue=e}function $N(t,e,r){for(;t!==null;){var n=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,n!==null&&(n.childLanes|=e)):n!==null&&(n.childLanes&e)!==e&&(n.childLanes|=e),t===r)break;t=t.return}}function ql(t,e){ep=t,xC=El=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(nn=!0),t.firstContext=null)}function Wn(t){var e=t._currentValue;if(xC!==t)if(t={context:t,memoizedValue:e,next:null},El===null){if(ep===null)throw Error(Z(308));El=t,ep.dependencies={lanes:0,firstContext:t}}else El=El.next=t;return e}var Wa=null;function SC(t){Wa===null?Wa=[t]:Wa.push(t)}function lH(t,e,r,n){var i=e.interleaved;return i===null?(r.next=r,SC(e)):(r.next=i.next,i.next=r),e.interleaved=r,ms(t,n)}function ms(t,e){t.lanes|=e;var r=t.alternate;for(r!==null&&(r.lanes|=e),r=t,t=t.return;t!==null;)t.childLanes|=e,r=t.alternate,r!==null&&(r.childLanes|=e),r=t,t=t.return;return r.tag===3?r.stateNode:null}var ks=!1;function EC(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function uH(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function ts(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function ia(t,e,r){var n=t.updateQueue;if(n===null)return null;if(n=n.shared,Ve&2){var i=n.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),n.pending=e,ms(t,r)}return i=n.interleaved,i===null?(e.next=e,SC(n)):(e.next=i.next,i.next=e),n.interleaved=e,ms(t,r)}function Sf(t,e,r){if(e=e.updateQueue,e!==null&&(e=e.shared,(r&4194240)!==0)){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,uC(t,r)}}function TP(t,e){var r=t.updateQueue,n=t.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var i=null,s=null;if(r=r.firstBaseUpdate,r!==null){do{var a={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};s===null?i=s=a:s=s.next=a,r=r.next}while(r!==null);s===null?i=s=e:s=s.next=e}else i=s=e;r={baseState:n.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:n.shared,effects:n.effects},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=e:t.next=e,r.lastBaseUpdate=e}function tp(t,e,r,n){var i=t.updateQueue;ks=!1;var s=i.firstBaseUpdate,a=i.lastBaseUpdate,o=i.shared.pending;if(o!==null){i.shared.pending=null;var l=o,c=l.next;l.next=null,a===null?s=c:a.next=c,a=l;var d=t.alternate;d!==null&&(d=d.updateQueue,o=d.lastBaseUpdate,o!==a&&(o===null?d.firstBaseUpdate=c:o.next=c,d.lastBaseUpdate=l))}if(s!==null){var h=i.baseState;a=0,d=c=l=null,o=s;do{var f=o.lane,p=o.eventTime;if((n&f)===f){d!==null&&(d=d.next={eventTime:p,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var m=t,y=o;switch(f=e,p=r,y.tag){case 1:if(m=y.payload,typeof m=="function"){h=m.call(p,h,f);break e}h=m;break e;case 3:m.flags=m.flags&-65537|128;case 0:if(m=y.payload,f=typeof m=="function"?m.call(p,h,f):m,f==null)break e;h=jt({},h,f);break e;case 2:ks=!0}}o.callback!==null&&o.lane!==0&&(t.flags|=64,f=i.effects,f===null?i.effects=[o]:f.push(o))}else p={eventTime:p,lane:f,tag:o.tag,payload:o.payload,callback:o.callback,next:null},d===null?(c=d=p,l=h):d=d.next=p,a|=f;if(o=o.next,o===null){if(o=i.shared.pending,o===null)break;f=o,o=f.next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}while(!0);if(d===null&&(l=h),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=d,e=i.shared.interleaved,e!==null){i=e;do a|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);So|=a,t.lanes=a,t.memoizedState=h}}function PP(t,e,r){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var n=t[e],i=n.callback;if(i!==null){if(n.callback=null,n=r,typeof i!="function")throw Error(Z(191,i));i.call(n)}}}var Gd={},Ri=Na(Gd),fd=Na(Gd),pd=Na(Gd);function Ha(t){if(t===Gd)throw Error(Z(174));return t}function NC(t,e){switch(pt(pd,e),pt(fd,t),pt(Ri,Gd),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:fN(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=fN(e,t)}yt(Ri),pt(Ri,e)}function uu(){yt(Ri),yt(fd),yt(pd)}function cH(t){Ha(pd.current);var e=Ha(Ri.current),r=fN(e,t.type);e!==r&&(pt(fd,t),pt(Ri,r))}function jC(t){fd.current===t&&(yt(Ri),yt(fd))}var St=Na(0);function rp(t){for(var e=t;e!==null;){if(e.tag===13){var r=e.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var fv=[];function CC(){for(var t=0;t<fv.length;t++)fv[t]._workInProgressVersionPrimary=null;fv.length=0}var Ef=ys.ReactCurrentDispatcher,pv=ys.ReactCurrentBatchConfig,_o=0,Et=null,Zt=null,sr=null,np=!1,Uc=!1,md=0,UJ=0;function Er(){throw Error(Z(321))}function OC(t,e){if(e===null)return!1;for(var r=0;r<e.length&&r<t.length;r++)if(!hi(t[r],e[r]))return!1;return!0}function TC(t,e,r,n,i,s){if(_o=s,Et=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Ef.current=t===null||t.memoizedState===null?KJ:GJ,t=r(n,i),Uc){s=0;do{if(Uc=!1,md=0,25<=s)throw Error(Z(301));s+=1,sr=Zt=null,e.updateQueue=null,Ef.current=YJ,t=r(n,i)}while(Uc)}if(Ef.current=ip,e=Zt!==null&&Zt.next!==null,_o=0,sr=Zt=Et=null,np=!1,e)throw Error(Z(300));return t}function PC(){var t=md!==0;return md=0,t}function wi(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return sr===null?Et.memoizedState=sr=t:sr=sr.next=t,sr}function Hn(){if(Zt===null){var t=Et.alternate;t=t!==null?t.memoizedState:null}else t=Zt.next;var e=sr===null?Et.memoizedState:sr.next;if(e!==null)sr=e,Zt=t;else{if(t===null)throw Error(Z(310));Zt=t,t={memoizedState:Zt.memoizedState,baseState:Zt.baseState,baseQueue:Zt.baseQueue,queue:Zt.queue,next:null},sr===null?Et.memoizedState=sr=t:sr=sr.next=t}return sr}function vd(t,e){return typeof e=="function"?e(t):e}function mv(t){var e=Hn(),r=e.queue;if(r===null)throw Error(Z(311));r.lastRenderedReducer=t;var n=Zt,i=n.baseQueue,s=r.pending;if(s!==null){if(i!==null){var a=i.next;i.next=s.next,s.next=a}n.baseQueue=i=s,r.pending=null}if(i!==null){s=i.next,n=n.baseState;var o=a=null,l=null,c=s;do{var d=c.lane;if((_o&d)===d)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),n=c.hasEagerState?c.eagerState:t(n,c.action);else{var h={lane:d,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(o=l=h,a=n):l=l.next=h,Et.lanes|=d,So|=d}c=c.next}while(c!==null&&c!==s);l===null?a=n:l.next=o,hi(n,e.memoizedState)||(nn=!0),e.memoizedState=n,e.baseState=a,e.baseQueue=l,r.lastRenderedState=n}if(t=r.interleaved,t!==null){i=t;do s=i.lane,Et.lanes|=s,So|=s,i=i.next;while(i!==t)}else i===null&&(r.lanes=0);return[e.memoizedState,r.dispatch]}function vv(t){var e=Hn(),r=e.queue;if(r===null)throw Error(Z(311));r.lastRenderedReducer=t;var n=r.dispatch,i=r.pending,s=e.memoizedState;if(i!==null){r.pending=null;var a=i=i.next;do s=t(s,a.action),a=a.next;while(a!==i);hi(s,e.memoizedState)||(nn=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),r.lastRenderedState=s}return[s,n]}function dH(){}function hH(t,e){var r=Et,n=Hn(),i=e(),s=!hi(n.memoizedState,i);if(s&&(n.memoizedState=i,nn=!0),n=n.queue,IC(mH.bind(null,r,n,t),[t]),n.getSnapshot!==e||s||sr!==null&&sr.memoizedState.tag&1){if(r.flags|=2048,gd(9,pH.bind(null,r,n,i,e),void 0,null),ar===null)throw Error(Z(349));_o&30||fH(r,e,i)}return i}function fH(t,e,r){t.flags|=16384,t={getSnapshot:e,value:r},e=Et.updateQueue,e===null?(e={lastEffect:null,stores:null},Et.updateQueue=e,e.stores=[t]):(r=e.stores,r===null?e.stores=[t]:r.push(t))}function pH(t,e,r,n){e.value=r,e.getSnapshot=n,vH(e)&&gH(t)}function mH(t,e,r){return r(function(){vH(e)&&gH(t)})}function vH(t){var e=t.getSnapshot;t=t.value;try{var r=e();return!hi(t,r)}catch{return!0}}function gH(t){var e=ms(t,1);e!==null&&di(e,t,1,-1)}function IP(t){var e=wi();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:vd,lastRenderedState:t},e.queue=t,t=t.dispatch=VJ.bind(null,Et,t),[e.memoizedState,t]}function gd(t,e,r,n){return t={tag:t,create:e,destroy:r,deps:n,next:null},e=Et.updateQueue,e===null?(e={lastEffect:null,stores:null},Et.updateQueue=e,e.lastEffect=t.next=t):(r=e.lastEffect,r===null?e.lastEffect=t.next=t:(n=r.next,r.next=t,t.next=n,e.lastEffect=t)),t}function yH(){return Hn().memoizedState}function Nf(t,e,r,n){var i=wi();Et.flags|=t,i.memoizedState=gd(1|e,r,void 0,n===void 0?null:n)}function Hp(t,e,r,n){var i=Hn();n=n===void 0?null:n;var s=void 0;if(Zt!==null){var a=Zt.memoizedState;if(s=a.destroy,n!==null&&OC(n,a.deps)){i.memoizedState=gd(e,r,s,n);return}}Et.flags|=t,i.memoizedState=gd(1|e,r,s,n)}function RP(t,e){return Nf(8390656,8,t,e)}function IC(t,e){return Hp(2048,8,t,e)}function bH(t,e){return Hp(4,2,t,e)}function xH(t,e){return Hp(4,4,t,e)}function wH(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function _H(t,e,r){return r=r!=null?r.concat([t]):null,Hp(4,4,wH.bind(null,e,t),r)}function RC(){}function SH(t,e){var r=Hn();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&OC(e,n[1])?n[0]:(r.memoizedState=[t,e],t)}function EH(t,e){var r=Hn();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&OC(e,n[1])?n[0]:(t=t(),r.memoizedState=[t,e],t)}function NH(t,e,r){return _o&21?(hi(r,e)||(r=P9(),Et.lanes|=r,So|=r,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,nn=!0),t.memoizedState=r)}function WJ(t,e){var r=et;et=r!==0&&4>r?r:4,t(!0);var n=pv.transition;pv.transition={};try{t(!1),e()}finally{et=r,pv.transition=n}}function jH(){return Hn().memoizedState}function HJ(t,e,r){var n=aa(t);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},CH(t))OH(e,r);else if(r=lH(t,e,r,n),r!==null){var i=zr();di(r,t,n,i),TH(r,e,n)}}function VJ(t,e,r){var n=aa(t),i={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(CH(t))OH(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var a=e.lastRenderedState,o=s(a,r);if(i.hasEagerState=!0,i.eagerState=o,hi(o,a)){var l=e.interleaved;l===null?(i.next=i,SC(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}r=lH(t,e,i,n),r!==null&&(i=zr(),di(r,t,n,i),TH(r,e,n))}}function CH(t){var e=t.alternate;return t===Et||e!==null&&e===Et}function OH(t,e){Uc=np=!0;var r=t.pending;r===null?e.next=e:(e.next=r.next,r.next=e),t.pending=e}function TH(t,e,r){if(r&4194240){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,uC(t,r)}}var ip={readContext:Wn,useCallback:Er,useContext:Er,useEffect:Er,useImperativeHandle:Er,useInsertionEffect:Er,useLayoutEffect:Er,useMemo:Er,useReducer:Er,useRef:Er,useState:Er,useDebugValue:Er,useDeferredValue:Er,useTransition:Er,useMutableSource:Er,useSyncExternalStore:Er,useId:Er,unstable_isNewReconciler:!1},KJ={readContext:Wn,useCallback:function(t,e){return wi().memoizedState=[t,e===void 0?null:e],t},useContext:Wn,useEffect:RP,useImperativeHandle:function(t,e,r){return r=r!=null?r.concat([t]):null,Nf(4194308,4,wH.bind(null,e,t),r)},useLayoutEffect:function(t,e){return Nf(4194308,4,t,e)},useInsertionEffect:function(t,e){return Nf(4,2,t,e)},useMemo:function(t,e){var r=wi();return e=e===void 0?null:e,t=t(),r.memoizedState=[t,e],t},useReducer:function(t,e,r){var n=wi();return e=r!==void 0?r(e):e,n.memoizedState=n.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},n.queue=t,t=t.dispatch=HJ.bind(null,Et,t),[n.memoizedState,t]},useRef:function(t){var e=wi();return t={current:t},e.memoizedState=t},useState:IP,useDebugValue:RC,useDeferredValue:function(t){return wi().memoizedState=t},useTransition:function(){var t=IP(!1),e=t[0];return t=WJ.bind(null,t[1]),wi().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,r){var n=Et,i=wi();if(wt){if(r===void 0)throw Error(Z(407));r=r()}else{if(r=e(),ar===null)throw Error(Z(349));_o&30||fH(n,e,r)}i.memoizedState=r;var s={value:r,getSnapshot:e};return i.queue=s,RP(mH.bind(null,n,s,t),[t]),n.flags|=2048,gd(9,pH.bind(null,n,s,r,e),void 0,null),r},useId:function(){var t=wi(),e=ar.identifierPrefix;if(wt){var r=Ji,n=Xi;r=(n&~(1<<32-ci(n)-1)).toString(32)+r,e=":"+e+"R"+r,r=md++,0<r&&(e+="H"+r.toString(32)),e+=":"}else r=UJ++,e=":"+e+"r"+r.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},GJ={readContext:Wn,useCallback:SH,useContext:Wn,useEffect:IC,useImperativeHandle:_H,useInsertionEffect:bH,useLayoutEffect:xH,useMemo:EH,useReducer:mv,useRef:yH,useState:function(){return mv(vd)},useDebugValue:RC,useDeferredValue:function(t){var e=Hn();return NH(e,Zt.memoizedState,t)},useTransition:function(){var t=mv(vd)[0],e=Hn().memoizedState;return[t,e]},useMutableSource:dH,useSyncExternalStore:hH,useId:jH,unstable_isNewReconciler:!1},YJ={readContext:Wn,useCallback:SH,useContext:Wn,useEffect:IC,useImperativeHandle:_H,useInsertionEffect:bH,useLayoutEffect:xH,useMemo:EH,useReducer:vv,useRef:yH,useState:function(){return vv(vd)},useDebugValue:RC,useDeferredValue:function(t){var e=Hn();return Zt===null?e.memoizedState=t:NH(e,Zt.memoizedState,t)},useTransition:function(){var t=vv(vd)[0],e=Hn().memoizedState;return[t,e]},useMutableSource:dH,useSyncExternalStore:hH,useId:jH,unstable_isNewReconciler:!1};function ei(t,e){if(t&&t.defaultProps){e=jt({},e),t=t.defaultProps;for(var r in t)e[r]===void 0&&(e[r]=t[r]);return e}return e}function kN(t,e,r,n){e=t.memoizedState,r=r(n,e),r=r==null?e:jt({},e,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var Vp={isMounted:function(t){return(t=t._reactInternals)?Fo(t)===t:!1},enqueueSetState:function(t,e,r){t=t._reactInternals;var n=zr(),i=aa(t),s=ts(n,i);s.payload=e,r!=null&&(s.callback=r),e=ia(t,s,i),e!==null&&(di(e,t,i,n),Sf(e,t,i))},enqueueReplaceState:function(t,e,r){t=t._reactInternals;var n=zr(),i=aa(t),s=ts(n,i);s.tag=1,s.payload=e,r!=null&&(s.callback=r),e=ia(t,s,i),e!==null&&(di(e,t,i,n),Sf(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var r=zr(),n=aa(t),i=ts(r,n);i.tag=2,e!=null&&(i.callback=e),e=ia(t,i,n),e!==null&&(di(e,t,n,r),Sf(e,t,n))}};function $P(t,e,r,n,i,s,a){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(n,s,a):e.prototype&&e.prototype.isPureReactComponent?!ud(r,n)||!ud(i,s):!0}function PH(t,e,r){var n=!1,i=ya,s=e.contextType;return typeof s=="object"&&s!==null?s=Wn(s):(i=an(e)?xo:Tr.current,n=e.contextTypes,s=(n=n!=null)?au(t,i):ya),e=new e(r,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Vp,t.stateNode=e,e._reactInternals=t,n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function kP(t,e,r,n){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(r,n),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(r,n),e.state!==t&&Vp.enqueueReplaceState(e,e.state,null)}function DN(t,e,r,n){var i=t.stateNode;i.props=r,i.state=t.memoizedState,i.refs={},EC(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=Wn(s):(s=an(e)?xo:Tr.current,i.context=au(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(kN(t,e,s,r),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Vp.enqueueReplaceState(i,i.state,null),tp(t,r,i,n),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function cu(t,e){try{var r="",n=e;do r+=SX(n),n=n.return;while(n);var i=r}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function gv(t,e,r){return{value:t,source:null,stack:r??null,digest:e??null}}function MN(t,e){try{console.error(e.value)}catch(r){setTimeout(function(){throw r})}}var QJ=typeof WeakMap=="function"?WeakMap:Map;function IH(t,e,r){r=ts(-1,r),r.tag=3,r.payload={element:null};var n=e.value;return r.callback=function(){ap||(ap=!0,VN=n),MN(t,e)},r}function RH(t,e,r){r=ts(-1,r),r.tag=3;var n=t.type.getDerivedStateFromError;if(typeof n=="function"){var i=e.value;r.payload=function(){return n(i)},r.callback=function(){MN(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(r.callback=function(){MN(t,e),typeof n!="function"&&(sa===null?sa=new Set([this]):sa.add(this));var a=e.stack;this.componentDidCatch(e.value,{componentStack:a!==null?a:""})}),r}function DP(t,e,r){var n=t.pingCache;if(n===null){n=t.pingCache=new QJ;var i=new Set;n.set(e,i)}else i=n.get(e),i===void 0&&(i=new Set,n.set(e,i));i.has(r)||(i.add(r),t=cZ.bind(null,t,e,r),e.then(t,t))}function MP(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function qP(t,e,r,n,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(e=ts(-1,1),e.tag=2,ia(r,e,1))),r.lanes|=1),t)}var XJ=ys.ReactCurrentOwner,nn=!1;function qr(t,e,r,n){e.child=t===null?oH(e,null,r,n):lu(e,t.child,r,n)}function AP(t,e,r,n,i){r=r.render;var s=e.ref;return ql(e,i),n=TC(t,e,r,n,s,i),r=PC(),t!==null&&!nn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,vs(t,e,i)):(wt&&r&&gC(e),e.flags|=1,qr(t,e,n,i),e.child)}function FP(t,e,r,n,i){if(t===null){var s=r.type;return typeof s=="function"&&!LC(s)&&s.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(e.tag=15,e.type=s,$H(t,e,s,n,i)):(t=Tf(r.type,null,n,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var a=s.memoizedProps;if(r=r.compare,r=r!==null?r:ud,r(a,n)&&t.ref===e.ref)return vs(t,e,i)}return e.flags|=1,t=oa(s,n),t.ref=e.ref,t.return=e,e.child=t}function $H(t,e,r,n,i){if(t!==null){var s=t.memoizedProps;if(ud(s,n)&&t.ref===e.ref)if(nn=!1,e.pendingProps=n=s,(t.lanes&i)!==0)t.flags&131072&&(nn=!0);else return e.lanes=t.lanes,vs(t,e,i)}return qN(t,e,r,n,i)}function kH(t,e,r){var n=e.pendingProps,i=n.children,s=t!==null?t.memoizedState:null;if(n.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},pt(jl,yn),yn|=r;else{if(!(r&1073741824))return t=s!==null?s.baseLanes|r:r,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,pt(jl,yn),yn|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=s!==null?s.baseLanes:r,pt(jl,yn),yn|=n}else s!==null?(n=s.baseLanes|r,e.memoizedState=null):n=r,pt(jl,yn),yn|=n;return qr(t,e,i,r),e.child}function DH(t,e){var r=e.ref;(t===null&&r!==null||t!==null&&t.ref!==r)&&(e.flags|=512,e.flags|=2097152)}function qN(t,e,r,n,i){var s=an(r)?xo:Tr.current;return s=au(e,s),ql(e,i),r=TC(t,e,r,n,s,i),n=PC(),t!==null&&!nn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,vs(t,e,i)):(wt&&n&&gC(e),e.flags|=1,qr(t,e,r,i),e.child)}function LP(t,e,r,n,i){if(an(r)){var s=!0;Qf(e)}else s=!1;if(ql(e,i),e.stateNode===null)jf(t,e),PH(e,r,n),DN(e,r,n,i),n=!0;else if(t===null){var a=e.stateNode,o=e.memoizedProps;a.props=o;var l=a.context,c=r.contextType;typeof c=="object"&&c!==null?c=Wn(c):(c=an(r)?xo:Tr.current,c=au(e,c));var d=r.getDerivedStateFromProps,h=typeof d=="function"||typeof a.getSnapshotBeforeUpdate=="function";h||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o!==n||l!==c)&&kP(e,a,n,c),ks=!1;var f=e.memoizedState;a.state=f,tp(e,n,a,i),l=e.memoizedState,o!==n||f!==l||sn.current||ks?(typeof d=="function"&&(kN(e,r,d,n),l=e.memoizedState),(o=ks||$P(e,r,o,n,f,l,c))?(h||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(e.flags|=4194308)):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=n,e.memoizedState=l),a.props=n,a.state=l,a.context=c,n=o):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),n=!1)}else{a=e.stateNode,uH(t,e),o=e.memoizedProps,c=e.type===e.elementType?o:ei(e.type,o),a.props=c,h=e.pendingProps,f=a.context,l=r.contextType,typeof l=="object"&&l!==null?l=Wn(l):(l=an(r)?xo:Tr.current,l=au(e,l));var p=r.getDerivedStateFromProps;(d=typeof p=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o!==h||f!==l)&&kP(e,a,n,l),ks=!1,f=e.memoizedState,a.state=f,tp(e,n,a,i);var m=e.memoizedState;o!==h||f!==m||sn.current||ks?(typeof p=="function"&&(kN(e,r,p,n),m=e.memoizedState),(c=ks||$P(e,r,c,n,f,m,l)||!1)?(d||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(n,m,l),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(n,m,l)),typeof a.componentDidUpdate=="function"&&(e.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof a.componentDidUpdate!="function"||o===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||o===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=n,e.memoizedState=m),a.props=n,a.state=m,a.context=l,n=c):(typeof a.componentDidUpdate!="function"||o===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||o===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),n=!1)}return AN(t,e,r,n,s,i)}function AN(t,e,r,n,i,s){DH(t,e);var a=(e.flags&128)!==0;if(!n&&!a)return i&&NP(e,r,!1),vs(t,e,s);n=e.stateNode,XJ.current=e;var o=a&&typeof r.getDerivedStateFromError!="function"?null:n.render();return e.flags|=1,t!==null&&a?(e.child=lu(e,t.child,null,s),e.child=lu(e,null,o,s)):qr(t,e,o,s),e.memoizedState=n.state,i&&NP(e,r,!0),e.child}function MH(t){var e=t.stateNode;e.pendingContext?EP(t,e.pendingContext,e.pendingContext!==e.context):e.context&&EP(t,e.context,!1),NC(t,e.containerInfo)}function BP(t,e,r,n,i){return ou(),bC(i),e.flags|=256,qr(t,e,r,n),e.child}var FN={dehydrated:null,treeContext:null,retryLane:0};function LN(t){return{baseLanes:t,cachePool:null,transitions:null}}function qH(t,e,r){var n=e.pendingProps,i=St.current,s=!1,a=(e.flags&128)!==0,o;if((o=a)||(o=t!==null&&t.memoizedState===null?!1:(i&2)!==0),o?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),pt(St,i&1),t===null)return RN(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(a=n.children,t=n.fallback,s?(n=e.mode,s=e.child,a={mode:"hidden",children:a},!(n&1)&&s!==null?(s.childLanes=0,s.pendingProps=a):s=Yp(a,n,0,null),t=co(t,n,r,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=LN(r),e.memoizedState=FN,t):$C(e,a));if(i=t.memoizedState,i!==null&&(o=i.dehydrated,o!==null))return JJ(t,e,a,n,o,i,r);if(s){s=n.fallback,a=e.mode,i=t.child,o=i.sibling;var l={mode:"hidden",children:n.children};return!(a&1)&&e.child!==i?(n=e.child,n.childLanes=0,n.pendingProps=l,e.deletions=null):(n=oa(i,l),n.subtreeFlags=i.subtreeFlags&14680064),o!==null?s=oa(o,s):(s=co(s,a,r,null),s.flags|=2),s.return=e,n.return=e,n.sibling=s,e.child=n,n=s,s=e.child,a=t.child.memoizedState,a=a===null?LN(r):{baseLanes:a.baseLanes|r,cachePool:null,transitions:a.transitions},s.memoizedState=a,s.childLanes=t.childLanes&~r,e.memoizedState=FN,n}return s=t.child,t=s.sibling,n=oa(s,{mode:"visible",children:n.children}),!(e.mode&1)&&(n.lanes=r),n.return=e,n.sibling=null,t!==null&&(r=e.deletions,r===null?(e.deletions=[t],e.flags|=16):r.push(t)),e.child=n,e.memoizedState=null,n}function $C(t,e){return e=Yp({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function ef(t,e,r,n){return n!==null&&bC(n),lu(e,t.child,null,r),t=$C(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function JJ(t,e,r,n,i,s,a){if(r)return e.flags&256?(e.flags&=-257,n=gv(Error(Z(422))),ef(t,e,a,n)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=n.fallback,i=e.mode,n=Yp({mode:"visible",children:n.children},i,0,null),s=co(s,i,a,null),s.flags|=2,n.return=e,s.return=e,n.sibling=s,e.child=n,e.mode&1&&lu(e,t.child,null,a),e.child.memoizedState=LN(a),e.memoizedState=FN,s);if(!(e.mode&1))return ef(t,e,a,null);if(i.data==="$!"){if(n=i.nextSibling&&i.nextSibling.dataset,n)var o=n.dgst;return n=o,s=Error(Z(419)),n=gv(s,n,void 0),ef(t,e,a,n)}if(o=(a&t.childLanes)!==0,nn||o){if(n=ar,n!==null){switch(a&-a){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(n.suspendedLanes|a)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,ms(t,i),di(n,t,i,-1))}return FC(),n=gv(Error(Z(421))),ef(t,e,a,n)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=dZ.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,wn=na(i.nextSibling),_n=e,wt=!0,ii=null,t!==null&&(Mn[qn++]=Xi,Mn[qn++]=Ji,Mn[qn++]=wo,Xi=t.id,Ji=t.overflow,wo=e),e=$C(e,n.children),e.flags|=4096,e)}function zP(t,e,r){t.lanes|=e;var n=t.alternate;n!==null&&(n.lanes|=e),$N(t.return,e,r)}function yv(t,e,r,n,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=n,s.tail=r,s.tailMode=i)}function AH(t,e,r){var n=e.pendingProps,i=n.revealOrder,s=n.tail;if(qr(t,e,n.children,r),n=St.current,n&2)n=n&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&zP(t,r,e);else if(t.tag===19)zP(t,r,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}n&=1}if(pt(St,n),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(r=e.child,i=null;r!==null;)t=r.alternate,t!==null&&rp(t)===null&&(i=r),r=r.sibling;r=i,r===null?(i=e.child,e.child=null):(i=r.sibling,r.sibling=null),yv(e,!1,i,r,s);break;case"backwards":for(r=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&rp(t)===null){e.child=i;break}t=i.sibling,i.sibling=r,r=i,i=t}yv(e,!0,r,null,s);break;case"together":yv(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function jf(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function vs(t,e,r){if(t!==null&&(e.dependencies=t.dependencies),So|=e.lanes,!(r&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(Z(153));if(e.child!==null){for(t=e.child,r=oa(t,t.pendingProps),e.child=r,r.return=e;t.sibling!==null;)t=t.sibling,r=r.sibling=oa(t,t.pendingProps),r.return=e;r.sibling=null}return e.child}function ZJ(t,e,r){switch(e.tag){case 3:MH(e),ou();break;case 5:cH(e);break;case 1:an(e.type)&&Qf(e);break;case 4:NC(e,e.stateNode.containerInfo);break;case 10:var n=e.type._context,i=e.memoizedProps.value;pt(Zf,n._currentValue),n._currentValue=i;break;case 13:if(n=e.memoizedState,n!==null)return n.dehydrated!==null?(pt(St,St.current&1),e.flags|=128,null):r&e.child.childLanes?qH(t,e,r):(pt(St,St.current&1),t=vs(t,e,r),t!==null?t.sibling:null);pt(St,St.current&1);break;case 19:if(n=(r&e.childLanes)!==0,t.flags&128){if(n)return AH(t,e,r);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),pt(St,St.current),n)break;return null;case 22:case 23:return e.lanes=0,kH(t,e,r)}return vs(t,e,r)}var FH,BN,LH,BH;FH=function(t,e){for(var r=e.child;r!==null;){if(r.tag===5||r.tag===6)t.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};BN=function(){};LH=function(t,e,r,n){var i=t.memoizedProps;if(i!==n){t=e.stateNode,Ha(Ri.current);var s=null;switch(r){case"input":i=uN(t,i),n=uN(t,n),s=[];break;case"select":i=jt({},i,{value:void 0}),n=jt({},n,{value:void 0}),s=[];break;case"textarea":i=hN(t,i),n=hN(t,n),s=[];break;default:typeof i.onClick!="function"&&typeof n.onClick=="function"&&(t.onclick=Gf)}pN(r,n);var a;r=null;for(c in i)if(!n.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var o=i[c];for(a in o)o.hasOwnProperty(a)&&(r||(r={}),r[a]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(rd.hasOwnProperty(c)?s||(s=[]):(s=s||[]).push(c,null));for(c in n){var l=n[c];if(o=i!=null?i[c]:void 0,n.hasOwnProperty(c)&&l!==o&&(l!=null||o!=null))if(c==="style")if(o){for(a in o)!o.hasOwnProperty(a)||l&&l.hasOwnProperty(a)||(r||(r={}),r[a]="");for(a in l)l.hasOwnProperty(a)&&o[a]!==l[a]&&(r||(r={}),r[a]=l[a])}else r||(s||(s=[]),s.push(c,r)),r=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,o=o?o.__html:void 0,l!=null&&o!==l&&(s=s||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(rd.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&vt("scroll",t),s||o===l||(s=[])):(s=s||[]).push(c,l))}r&&(s=s||[]).push("style",r);var c=s;(e.updateQueue=c)&&(e.flags|=4)}};BH=function(t,e,r,n){r!==n&&(e.flags|=4)};function xc(t,e){if(!wt)switch(t.tailMode){case"hidden":e=t.tail;for(var r=null;e!==null;)e.alternate!==null&&(r=e),e=e.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:n.sibling=null}}function Nr(t){var e=t.alternate!==null&&t.alternate.child===t.child,r=0,n=0;if(e)for(var i=t.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags&14680064,n|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags,n|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=n,t.childLanes=r,e}function eZ(t,e,r){var n=e.pendingProps;switch(yC(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Nr(e),null;case 1:return an(e.type)&&Yf(),Nr(e),null;case 3:return n=e.stateNode,uu(),yt(sn),yt(Tr),CC(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(Jh(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,ii!==null&&(YN(ii),ii=null))),BN(t,e),Nr(e),null;case 5:jC(e);var i=Ha(pd.current);if(r=e.type,t!==null&&e.stateNode!=null)LH(t,e,r,n,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!n){if(e.stateNode===null)throw Error(Z(166));return Nr(e),null}if(t=Ha(Ri.current),Jh(e)){n=e.stateNode,r=e.type;var s=e.memoizedProps;switch(n[ji]=e,n[hd]=s,t=(e.mode&1)!==0,r){case"dialog":vt("cancel",n),vt("close",n);break;case"iframe":case"object":case"embed":vt("load",n);break;case"video":case"audio":for(i=0;i<kc.length;i++)vt(kc[i],n);break;case"source":vt("error",n);break;case"img":case"image":case"link":vt("error",n),vt("load",n);break;case"details":vt("toggle",n);break;case"input":XT(n,s),vt("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!s.multiple},vt("invalid",n);break;case"textarea":ZT(n,s),vt("invalid",n)}pN(r,s),i=null;for(var a in s)if(s.hasOwnProperty(a)){var o=s[a];a==="children"?typeof o=="string"?n.textContent!==o&&(s.suppressHydrationWarning!==!0&&Xh(n.textContent,o,t),i=["children",o]):typeof o=="number"&&n.textContent!==""+o&&(s.suppressHydrationWarning!==!0&&Xh(n.textContent,o,t),i=["children",""+o]):rd.hasOwnProperty(a)&&o!=null&&a==="onScroll"&&vt("scroll",n)}switch(r){case"input":Uh(n),JT(n,s,!0);break;case"textarea":Uh(n),eP(n);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(n.onclick=Gf)}n=i,e.updateQueue=n,n!==null&&(e.flags|=4)}else{a=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=m9(r)),t==="http://www.w3.org/1999/xhtml"?r==="script"?(t=a.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof n.is=="string"?t=a.createElement(r,{is:n.is}):(t=a.createElement(r),r==="select"&&(a=t,n.multiple?a.multiple=!0:n.size&&(a.size=n.size))):t=a.createElementNS(t,r),t[ji]=e,t[hd]=n,FH(t,e,!1,!1),e.stateNode=t;e:{switch(a=mN(r,n),r){case"dialog":vt("cancel",t),vt("close",t),i=n;break;case"iframe":case"object":case"embed":vt("load",t),i=n;break;case"video":case"audio":for(i=0;i<kc.length;i++)vt(kc[i],t);i=n;break;case"source":vt("error",t),i=n;break;case"img":case"image":case"link":vt("error",t),vt("load",t),i=n;break;case"details":vt("toggle",t),i=n;break;case"input":XT(t,n),i=uN(t,n),vt("invalid",t);break;case"option":i=n;break;case"select":t._wrapperState={wasMultiple:!!n.multiple},i=jt({},n,{value:void 0}),vt("invalid",t);break;case"textarea":ZT(t,n),i=hN(t,n),vt("invalid",t);break;default:i=n}pN(r,i),o=i;for(s in o)if(o.hasOwnProperty(s)){var l=o[s];s==="style"?y9(t,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&v9(t,l)):s==="children"?typeof l=="string"?(r!=="textarea"||l!=="")&&nd(t,l):typeof l=="number"&&nd(t,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(rd.hasOwnProperty(s)?l!=null&&s==="onScroll"&&vt("scroll",t):l!=null&&nC(t,s,l,a))}switch(r){case"input":Uh(t),JT(t,n,!1);break;case"textarea":Uh(t),eP(t);break;case"option":n.value!=null&&t.setAttribute("value",""+ga(n.value));break;case"select":t.multiple=!!n.multiple,s=n.value,s!=null?$l(t,!!n.multiple,s,!1):n.defaultValue!=null&&$l(t,!!n.multiple,n.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=Gf)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Nr(e),null;case 6:if(t&&e.stateNode!=null)BH(t,e,t.memoizedProps,n);else{if(typeof n!="string"&&e.stateNode===null)throw Error(Z(166));if(r=Ha(pd.current),Ha(Ri.current),Jh(e)){if(n=e.stateNode,r=e.memoizedProps,n[ji]=e,(s=n.nodeValue!==r)&&(t=_n,t!==null))switch(t.tag){case 3:Xh(n.nodeValue,r,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Xh(n.nodeValue,r,(t.mode&1)!==0)}s&&(e.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[ji]=e,e.stateNode=n}return Nr(e),null;case 13:if(yt(St),n=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(wt&&wn!==null&&e.mode&1&&!(e.flags&128))sH(),ou(),e.flags|=98560,s=!1;else if(s=Jh(e),n!==null&&n.dehydrated!==null){if(t===null){if(!s)throw Error(Z(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(Z(317));s[ji]=e}else ou(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Nr(e),s=!1}else ii!==null&&(YN(ii),ii=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=r,e):(n=n!==null,n!==(t!==null&&t.memoizedState!==null)&&n&&(e.child.flags|=8192,e.mode&1&&(t===null||St.current&1?er===0&&(er=3):FC())),e.updateQueue!==null&&(e.flags|=4),Nr(e),null);case 4:return uu(),BN(t,e),t===null&&cd(e.stateNode.containerInfo),Nr(e),null;case 10:return _C(e.type._context),Nr(e),null;case 17:return an(e.type)&&Yf(),Nr(e),null;case 19:if(yt(St),s=e.memoizedState,s===null)return Nr(e),null;if(n=(e.flags&128)!==0,a=s.rendering,a===null)if(n)xc(s,!1);else{if(er!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(a=rp(t),a!==null){for(e.flags|=128,xc(s,!1),n=a.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),e.subtreeFlags=0,n=r,r=e.child;r!==null;)s=r,t=n,s.flags&=14680066,a=s.alternate,a===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=a.childLanes,s.lanes=a.lanes,s.child=a.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=a.memoizedProps,s.memoizedState=a.memoizedState,s.updateQueue=a.updateQueue,s.type=a.type,t=a.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),r=r.sibling;return pt(St,St.current&1|2),e.child}t=t.sibling}s.tail!==null&&qt()>du&&(e.flags|=128,n=!0,xc(s,!1),e.lanes=4194304)}else{if(!n)if(t=rp(a),t!==null){if(e.flags|=128,n=!0,r=t.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),xc(s,!0),s.tail===null&&s.tailMode==="hidden"&&!a.alternate&&!wt)return Nr(e),null}else 2*qt()-s.renderingStartTime>du&&r!==1073741824&&(e.flags|=128,n=!0,xc(s,!1),e.lanes=4194304);s.isBackwards?(a.sibling=e.child,e.child=a):(r=s.last,r!==null?r.sibling=a:e.child=a,s.last=a)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=qt(),e.sibling=null,r=St.current,pt(St,n?r&1|2:r&1),e):(Nr(e),null);case 22:case 23:return AC(),n=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==n&&(e.flags|=8192),n&&e.mode&1?yn&1073741824&&(Nr(e),e.subtreeFlags&6&&(e.flags|=8192)):Nr(e),null;case 24:return null;case 25:return null}throw Error(Z(156,e.tag))}function tZ(t,e){switch(yC(e),e.tag){case 1:return an(e.type)&&Yf(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return uu(),yt(sn),yt(Tr),CC(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return jC(e),null;case 13:if(yt(St),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(Z(340));ou()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return yt(St),null;case 4:return uu(),null;case 10:return _C(e.type._context),null;case 22:case 23:return AC(),null;case 24:return null;default:return null}}var tf=!1,Cr=!1,rZ=typeof WeakSet=="function"?WeakSet:Set,me=null;function Nl(t,e){var r=t.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){It(t,e,n)}else r.current=null}function zN(t,e,r){try{r()}catch(n){It(t,e,n)}}var UP=!1;function nZ(t,e){if(NN=Hf,t=V9(),vC(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var i=n.anchorOffset,s=n.focusNode;n=n.focusOffset;try{r.nodeType,s.nodeType}catch{r=null;break e}var a=0,o=-1,l=-1,c=0,d=0,h=t,f=null;t:for(;;){for(var p;h!==r||i!==0&&h.nodeType!==3||(o=a+i),h!==s||n!==0&&h.nodeType!==3||(l=a+n),h.nodeType===3&&(a+=h.nodeValue.length),(p=h.firstChild)!==null;)f=h,h=p;for(;;){if(h===t)break t;if(f===r&&++c===i&&(o=a),f===s&&++d===n&&(l=a),(p=h.nextSibling)!==null)break;h=f,f=h.parentNode}h=p}r=o===-1||l===-1?null:{start:o,end:l}}else r=null}r=r||{start:0,end:0}}else r=null;for(jN={focusedElem:t,selectionRange:r},Hf=!1,me=e;me!==null;)if(e=me,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,me=t;else for(;me!==null;){e=me;try{var m=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(m!==null){var y=m.memoizedProps,b=m.memoizedState,g=e.stateNode,v=g.getSnapshotBeforeUpdate(e.elementType===e.type?y:ei(e.type,y),b);g.__reactInternalSnapshotBeforeUpdate=v}break;case 3:var w=e.stateNode.containerInfo;w.nodeType===1?w.textContent="":w.nodeType===9&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Z(163))}}catch(x){It(e,e.return,x)}if(t=e.sibling,t!==null){t.return=e.return,me=t;break}me=e.return}return m=UP,UP=!1,m}function Wc(t,e,r){var n=e.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var i=n=n.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&zN(e,r,s)}i=i.next}while(i!==n)}}function Kp(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var r=e=e.next;do{if((r.tag&t)===t){var n=r.create;r.destroy=n()}r=r.next}while(r!==e)}}function UN(t){var e=t.ref;if(e!==null){var r=t.stateNode;switch(t.tag){case 5:t=r;break;default:t=r}typeof e=="function"?e(t):e.current=t}}function zH(t){var e=t.alternate;e!==null&&(t.alternate=null,zH(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[ji],delete e[hd],delete e[TN],delete e[FJ],delete e[LJ])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function UH(t){return t.tag===5||t.tag===3||t.tag===4}function WP(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||UH(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function WN(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.nodeType===8?r.parentNode.insertBefore(t,e):r.insertBefore(t,e):(r.nodeType===8?(e=r.parentNode,e.insertBefore(t,r)):(e=r,e.appendChild(t)),r=r._reactRootContainer,r!=null||e.onclick!==null||(e.onclick=Gf));else if(n!==4&&(t=t.child,t!==null))for(WN(t,e,r),t=t.sibling;t!==null;)WN(t,e,r),t=t.sibling}function HN(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.insertBefore(t,e):r.appendChild(t);else if(n!==4&&(t=t.child,t!==null))for(HN(t,e,r),t=t.sibling;t!==null;)HN(t,e,r),t=t.sibling}var vr=null,ni=!1;function Ts(t,e,r){for(r=r.child;r!==null;)WH(t,e,r),r=r.sibling}function WH(t,e,r){if(Ii&&typeof Ii.onCommitFiberUnmount=="function")try{Ii.onCommitFiberUnmount(Fp,r)}catch{}switch(r.tag){case 5:Cr||Nl(r,e);case 6:var n=vr,i=ni;vr=null,Ts(t,e,r),vr=n,ni=i,vr!==null&&(ni?(t=vr,r=r.stateNode,t.nodeType===8?t.parentNode.removeChild(r):t.removeChild(r)):vr.removeChild(r.stateNode));break;case 18:vr!==null&&(ni?(t=vr,r=r.stateNode,t.nodeType===8?dv(t.parentNode,r):t.nodeType===1&&dv(t,r),od(t)):dv(vr,r.stateNode));break;case 4:n=vr,i=ni,vr=r.stateNode.containerInfo,ni=!0,Ts(t,e,r),vr=n,ni=i;break;case 0:case 11:case 14:case 15:if(!Cr&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){i=n=n.next;do{var s=i,a=s.destroy;s=s.tag,a!==void 0&&(s&2||s&4)&&zN(r,e,a),i=i.next}while(i!==n)}Ts(t,e,r);break;case 1:if(!Cr&&(Nl(r,e),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(o){It(r,e,o)}Ts(t,e,r);break;case 21:Ts(t,e,r);break;case 22:r.mode&1?(Cr=(n=Cr)||r.memoizedState!==null,Ts(t,e,r),Cr=n):Ts(t,e,r);break;default:Ts(t,e,r)}}function HP(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var r=t.stateNode;r===null&&(r=t.stateNode=new rZ),e.forEach(function(n){var i=hZ.bind(null,t,n);r.has(n)||(r.add(n),n.then(i,i))})}}function Jn(t,e){var r=e.deletions;if(r!==null)for(var n=0;n<r.length;n++){var i=r[n];try{var s=t,a=e,o=a;e:for(;o!==null;){switch(o.tag){case 5:vr=o.stateNode,ni=!1;break e;case 3:vr=o.stateNode.containerInfo,ni=!0;break e;case 4:vr=o.stateNode.containerInfo,ni=!0;break e}o=o.return}if(vr===null)throw Error(Z(160));WH(s,a,i),vr=null,ni=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(c){It(i,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)HH(e,t),e=e.sibling}function HH(t,e){var r=t.alternate,n=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Jn(e,t),bi(t),n&4){try{Wc(3,t,t.return),Kp(3,t)}catch(y){It(t,t.return,y)}try{Wc(5,t,t.return)}catch(y){It(t,t.return,y)}}break;case 1:Jn(e,t),bi(t),n&512&&r!==null&&Nl(r,r.return);break;case 5:if(Jn(e,t),bi(t),n&512&&r!==null&&Nl(r,r.return),t.flags&32){var i=t.stateNode;try{nd(i,"")}catch(y){It(t,t.return,y)}}if(n&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,a=r!==null?r.memoizedProps:s,o=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{o==="input"&&s.type==="radio"&&s.name!=null&&f9(i,s),mN(o,a);var c=mN(o,s);for(a=0;a<l.length;a+=2){var d=l[a],h=l[a+1];d==="style"?y9(i,h):d==="dangerouslySetInnerHTML"?v9(i,h):d==="children"?nd(i,h):nC(i,d,h,c)}switch(o){case"input":cN(i,s);break;case"textarea":p9(i,s);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var p=s.value;p!=null?$l(i,!!s.multiple,p,!1):f!==!!s.multiple&&(s.defaultValue!=null?$l(i,!!s.multiple,s.defaultValue,!0):$l(i,!!s.multiple,s.multiple?[]:"",!1))}i[hd]=s}catch(y){It(t,t.return,y)}}break;case 6:if(Jn(e,t),bi(t),n&4){if(t.stateNode===null)throw Error(Z(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(y){It(t,t.return,y)}}break;case 3:if(Jn(e,t),bi(t),n&4&&r!==null&&r.memoizedState.isDehydrated)try{od(e.containerInfo)}catch(y){It(t,t.return,y)}break;case 4:Jn(e,t),bi(t);break;case 13:Jn(e,t),bi(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(MC=qt())),n&4&&HP(t);break;case 22:if(d=r!==null&&r.memoizedState!==null,t.mode&1?(Cr=(c=Cr)||d,Jn(e,t),Cr=c):Jn(e,t),bi(t),n&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!d&&t.mode&1)for(me=t,d=t.child;d!==null;){for(h=me=d;me!==null;){switch(f=me,p=f.child,f.tag){case 0:case 11:case 14:case 15:Wc(4,f,f.return);break;case 1:Nl(f,f.return);var m=f.stateNode;if(typeof m.componentWillUnmount=="function"){n=f,r=f.return;try{e=n,m.props=e.memoizedProps,m.state=e.memoizedState,m.componentWillUnmount()}catch(y){It(n,r,y)}}break;case 5:Nl(f,f.return);break;case 22:if(f.memoizedState!==null){KP(h);continue}}p!==null?(p.return=f,me=p):KP(h)}d=d.sibling}e:for(d=null,h=t;;){if(h.tag===5){if(d===null){d=h;try{i=h.stateNode,c?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(o=h.stateNode,l=h.memoizedProps.style,a=l!=null&&l.hasOwnProperty("display")?l.display:null,o.style.display=g9("display",a))}catch(y){It(t,t.return,y)}}}else if(h.tag===6){if(d===null)try{h.stateNode.nodeValue=c?"":h.memoizedProps}catch(y){It(t,t.return,y)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:Jn(e,t),bi(t),n&4&&HP(t);break;case 21:break;default:Jn(e,t),bi(t)}}function bi(t){var e=t.flags;if(e&2){try{e:{for(var r=t.return;r!==null;){if(UH(r)){var n=r;break e}r=r.return}throw Error(Z(160))}switch(n.tag){case 5:var i=n.stateNode;n.flags&32&&(nd(i,""),n.flags&=-33);var s=WP(t);HN(t,s,i);break;case 3:case 4:var a=n.stateNode.containerInfo,o=WP(t);WN(t,o,a);break;default:throw Error(Z(161))}}catch(l){It(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function iZ(t,e,r){me=t,VH(t)}function VH(t,e,r){for(var n=(t.mode&1)!==0;me!==null;){var i=me,s=i.child;if(i.tag===22&&n){var a=i.memoizedState!==null||tf;if(!a){var o=i.alternate,l=o!==null&&o.memoizedState!==null||Cr;o=tf;var c=Cr;if(tf=a,(Cr=l)&&!c)for(me=i;me!==null;)a=me,l=a.child,a.tag===22&&a.memoizedState!==null?GP(i):l!==null?(l.return=a,me=l):GP(i);for(;s!==null;)me=s,VH(s),s=s.sibling;me=i,tf=o,Cr=c}VP(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,me=s):VP(t)}}function VP(t){for(;me!==null;){var e=me;if(e.flags&8772){var r=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Cr||Kp(5,e);break;case 1:var n=e.stateNode;if(e.flags&4&&!Cr)if(r===null)n.componentDidMount();else{var i=e.elementType===e.type?r.memoizedProps:ei(e.type,r.memoizedProps);n.componentDidUpdate(i,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&PP(e,s,n);break;case 3:var a=e.updateQueue;if(a!==null){if(r=null,e.child!==null)switch(e.child.tag){case 5:r=e.child.stateNode;break;case 1:r=e.child.stateNode}PP(e,a,r)}break;case 5:var o=e.stateNode;if(r===null&&e.flags&4){r=o;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&r.focus();break;case"img":l.src&&(r.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var d=c.memoizedState;if(d!==null){var h=d.dehydrated;h!==null&&od(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Z(163))}Cr||e.flags&512&&UN(e)}catch(f){It(e,e.return,f)}}if(e===t){me=null;break}if(r=e.sibling,r!==null){r.return=e.return,me=r;break}me=e.return}}function KP(t){for(;me!==null;){var e=me;if(e===t){me=null;break}var r=e.sibling;if(r!==null){r.return=e.return,me=r;break}me=e.return}}function GP(t){for(;me!==null;){var e=me;try{switch(e.tag){case 0:case 11:case 15:var r=e.return;try{Kp(4,e)}catch(l){It(e,r,l)}break;case 1:var n=e.stateNode;if(typeof n.componentDidMount=="function"){var i=e.return;try{n.componentDidMount()}catch(l){It(e,i,l)}}var s=e.return;try{UN(e)}catch(l){It(e,s,l)}break;case 5:var a=e.return;try{UN(e)}catch(l){It(e,a,l)}}}catch(l){It(e,e.return,l)}if(e===t){me=null;break}var o=e.sibling;if(o!==null){o.return=e.return,me=o;break}me=e.return}}var sZ=Math.ceil,sp=ys.ReactCurrentDispatcher,kC=ys.ReactCurrentOwner,Bn=ys.ReactCurrentBatchConfig,Ve=0,ar=null,Ut=null,gr=0,yn=0,jl=Na(0),er=0,yd=null,So=0,Gp=0,DC=0,Hc=null,en=null,MC=0,du=1/0,Hi=null,ap=!1,VN=null,sa=null,rf=!1,Xs=null,op=0,Vc=0,KN=null,Cf=-1,Of=0;function zr(){return Ve&6?qt():Cf!==-1?Cf:Cf=qt()}function aa(t){return t.mode&1?Ve&2&&gr!==0?gr&-gr:zJ.transition!==null?(Of===0&&(Of=P9()),Of):(t=et,t!==0||(t=window.event,t=t===void 0?16:q9(t.type)),t):1}function di(t,e,r,n){if(50<Vc)throw Vc=0,KN=null,Error(Z(185));Hd(t,r,n),(!(Ve&2)||t!==ar)&&(t===ar&&(!(Ve&2)&&(Gp|=r),er===4&&As(t,gr)),on(t,n),r===1&&Ve===0&&!(e.mode&1)&&(du=qt()+500,Wp&&ja()))}function on(t,e){var r=t.callbackNode;zX(t,e);var n=Wf(t,t===ar?gr:0);if(n===0)r!==null&&nP(r),t.callbackNode=null,t.callbackPriority=0;else if(e=n&-n,t.callbackPriority!==e){if(r!=null&&nP(r),e===1)t.tag===0?BJ(YP.bind(null,t)):rH(YP.bind(null,t)),qJ(function(){!(Ve&6)&&ja()}),r=null;else{switch(I9(n)){case 1:r=lC;break;case 4:r=O9;break;case 16:r=Uf;break;case 536870912:r=T9;break;default:r=Uf}r=eV(r,KH.bind(null,t))}t.callbackPriority=e,t.callbackNode=r}}function KH(t,e){if(Cf=-1,Of=0,Ve&6)throw Error(Z(327));var r=t.callbackNode;if(Al()&&t.callbackNode!==r)return null;var n=Wf(t,t===ar?gr:0);if(n===0)return null;if(n&30||n&t.expiredLanes||e)e=lp(t,n);else{e=n;var i=Ve;Ve|=2;var s=YH();(ar!==t||gr!==e)&&(Hi=null,du=qt()+500,uo(t,e));do try{lZ();break}catch(o){GH(t,o)}while(!0);wC(),sp.current=s,Ve=i,Ut!==null?e=0:(ar=null,gr=0,e=er)}if(e!==0){if(e===2&&(i=xN(t),i!==0&&(n=i,e=GN(t,i))),e===1)throw r=yd,uo(t,0),As(t,n),on(t,qt()),r;if(e===6)As(t,n);else{if(i=t.current.alternate,!(n&30)&&!aZ(i)&&(e=lp(t,n),e===2&&(s=xN(t),s!==0&&(n=s,e=GN(t,s))),e===1))throw r=yd,uo(t,0),As(t,n),on(t,qt()),r;switch(t.finishedWork=i,t.finishedLanes=n,e){case 0:case 1:throw Error(Z(345));case 2:La(t,en,Hi);break;case 3:if(As(t,n),(n&130023424)===n&&(e=MC+500-qt(),10<e)){if(Wf(t,0)!==0)break;if(i=t.suspendedLanes,(i&n)!==n){zr(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=ON(La.bind(null,t,en,Hi),e);break}La(t,en,Hi);break;case 4:if(As(t,n),(n&4194240)===n)break;for(e=t.eventTimes,i=-1;0<n;){var a=31-ci(n);s=1<<a,a=e[a],a>i&&(i=a),n&=~s}if(n=i,n=qt()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*sZ(n/1960))-n,10<n){t.timeoutHandle=ON(La.bind(null,t,en,Hi),n);break}La(t,en,Hi);break;case 5:La(t,en,Hi);break;default:throw Error(Z(329))}}}return on(t,qt()),t.callbackNode===r?KH.bind(null,t):null}function GN(t,e){var r=Hc;return t.current.memoizedState.isDehydrated&&(uo(t,e).flags|=256),t=lp(t,e),t!==2&&(e=en,en=r,e!==null&&YN(e)),t}function YN(t){en===null?en=t:en.push.apply(en,t)}function aZ(t){for(var e=t;;){if(e.flags&16384){var r=e.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var i=r[n],s=i.getSnapshot;i=i.value;try{if(!hi(s(),i))return!1}catch{return!1}}}if(r=e.child,e.subtreeFlags&16384&&r!==null)r.return=e,e=r;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function As(t,e){for(e&=~DC,e&=~Gp,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var r=31-ci(e),n=1<<r;t[r]=-1,e&=~n}}function YP(t){if(Ve&6)throw Error(Z(327));Al();var e=Wf(t,0);if(!(e&1))return on(t,qt()),null;var r=lp(t,e);if(t.tag!==0&&r===2){var n=xN(t);n!==0&&(e=n,r=GN(t,n))}if(r===1)throw r=yd,uo(t,0),As(t,e),on(t,qt()),r;if(r===6)throw Error(Z(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,La(t,en,Hi),on(t,qt()),null}function qC(t,e){var r=Ve;Ve|=1;try{return t(e)}finally{Ve=r,Ve===0&&(du=qt()+500,Wp&&ja())}}function Eo(t){Xs!==null&&Xs.tag===0&&!(Ve&6)&&Al();var e=Ve;Ve|=1;var r=Bn.transition,n=et;try{if(Bn.transition=null,et=1,t)return t()}finally{et=n,Bn.transition=r,Ve=e,!(Ve&6)&&ja()}}function AC(){yn=jl.current,yt(jl)}function uo(t,e){t.finishedWork=null,t.finishedLanes=0;var r=t.timeoutHandle;if(r!==-1&&(t.timeoutHandle=-1,MJ(r)),Ut!==null)for(r=Ut.return;r!==null;){var n=r;switch(yC(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&Yf();break;case 3:uu(),yt(sn),yt(Tr),CC();break;case 5:jC(n);break;case 4:uu();break;case 13:yt(St);break;case 19:yt(St);break;case 10:_C(n.type._context);break;case 22:case 23:AC()}r=r.return}if(ar=t,Ut=t=oa(t.current,null),gr=yn=e,er=0,yd=null,DC=Gp=So=0,en=Hc=null,Wa!==null){for(e=0;e<Wa.length;e++)if(r=Wa[e],n=r.interleaved,n!==null){r.interleaved=null;var i=n.next,s=r.pending;if(s!==null){var a=s.next;s.next=i,n.next=a}r.pending=n}Wa=null}return t}function GH(t,e){do{var r=Ut;try{if(wC(),Ef.current=ip,np){for(var n=Et.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}np=!1}if(_o=0,sr=Zt=Et=null,Uc=!1,md=0,kC.current=null,r===null||r.return===null){er=1,yd=e,Ut=null;break}e:{var s=t,a=r.return,o=r,l=e;if(e=gr,o.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,d=o,h=d.tag;if(!(d.mode&1)&&(h===0||h===11||h===15)){var f=d.alternate;f?(d.updateQueue=f.updateQueue,d.memoizedState=f.memoizedState,d.lanes=f.lanes):(d.updateQueue=null,d.memoizedState=null)}var p=MP(a);if(p!==null){p.flags&=-257,qP(p,a,o,s,e),p.mode&1&&DP(s,c,e),e=p,l=c;var m=e.updateQueue;if(m===null){var y=new Set;y.add(l),e.updateQueue=y}else m.add(l);break e}else{if(!(e&1)){DP(s,c,e),FC();break e}l=Error(Z(426))}}else if(wt&&o.mode&1){var b=MP(a);if(b!==null){!(b.flags&65536)&&(b.flags|=256),qP(b,a,o,s,e),bC(cu(l,o));break e}}s=l=cu(l,o),er!==4&&(er=2),Hc===null?Hc=[s]:Hc.push(s),s=a;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var g=IH(s,l,e);TP(s,g);break e;case 1:o=l;var v=s.type,w=s.stateNode;if(!(s.flags&128)&&(typeof v.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(sa===null||!sa.has(w)))){s.flags|=65536,e&=-e,s.lanes|=e;var x=RH(s,o,e);TP(s,x);break e}}s=s.return}while(s!==null)}XH(r)}catch(_){e=_,Ut===r&&r!==null&&(Ut=r=r.return);continue}break}while(!0)}function YH(){var t=sp.current;return sp.current=ip,t===null?ip:t}function FC(){(er===0||er===3||er===2)&&(er=4),ar===null||!(So&268435455)&&!(Gp&268435455)||As(ar,gr)}function lp(t,e){var r=Ve;Ve|=2;var n=YH();(ar!==t||gr!==e)&&(Hi=null,uo(t,e));do try{oZ();break}catch(i){GH(t,i)}while(!0);if(wC(),Ve=r,sp.current=n,Ut!==null)throw Error(Z(261));return ar=null,gr=0,er}function oZ(){for(;Ut!==null;)QH(Ut)}function lZ(){for(;Ut!==null&&!$X();)QH(Ut)}function QH(t){var e=ZH(t.alternate,t,yn);t.memoizedProps=t.pendingProps,e===null?XH(t):Ut=e,kC.current=null}function XH(t){var e=t;do{var r=e.alternate;if(t=e.return,e.flags&32768){if(r=tZ(r,e),r!==null){r.flags&=32767,Ut=r;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{er=6,Ut=null;return}}else if(r=eZ(r,e,yn),r!==null){Ut=r;return}if(e=e.sibling,e!==null){Ut=e;return}Ut=e=t}while(e!==null);er===0&&(er=5)}function La(t,e,r){var n=et,i=Bn.transition;try{Bn.transition=null,et=1,uZ(t,e,r,n)}finally{Bn.transition=i,et=n}return null}function uZ(t,e,r,n){do Al();while(Xs!==null);if(Ve&6)throw Error(Z(327));r=t.finishedWork;var i=t.finishedLanes;if(r===null)return null;if(t.finishedWork=null,t.finishedLanes=0,r===t.current)throw Error(Z(177));t.callbackNode=null,t.callbackPriority=0;var s=r.lanes|r.childLanes;if(UX(t,s),t===ar&&(Ut=ar=null,gr=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||rf||(rf=!0,eV(Uf,function(){return Al(),null})),s=(r.flags&15990)!==0,r.subtreeFlags&15990||s){s=Bn.transition,Bn.transition=null;var a=et;et=1;var o=Ve;Ve|=4,kC.current=null,nZ(t,r),HH(r,t),TJ(jN),Hf=!!NN,jN=NN=null,t.current=r,iZ(r),kX(),Ve=o,et=a,Bn.transition=s}else t.current=r;if(rf&&(rf=!1,Xs=t,op=i),s=t.pendingLanes,s===0&&(sa=null),qX(r.stateNode),on(t,qt()),e!==null)for(n=t.onRecoverableError,r=0;r<e.length;r++)i=e[r],n(i.value,{componentStack:i.stack,digest:i.digest});if(ap)throw ap=!1,t=VN,VN=null,t;return op&1&&t.tag!==0&&Al(),s=t.pendingLanes,s&1?t===KN?Vc++:(Vc=0,KN=t):Vc=0,ja(),null}function Al(){if(Xs!==null){var t=I9(op),e=Bn.transition,r=et;try{if(Bn.transition=null,et=16>t?16:t,Xs===null)var n=!1;else{if(t=Xs,Xs=null,op=0,Ve&6)throw Error(Z(331));var i=Ve;for(Ve|=4,me=t.current;me!==null;){var s=me,a=s.child;if(me.flags&16){var o=s.deletions;if(o!==null){for(var l=0;l<o.length;l++){var c=o[l];for(me=c;me!==null;){var d=me;switch(d.tag){case 0:case 11:case 15:Wc(8,d,s)}var h=d.child;if(h!==null)h.return=d,me=h;else for(;me!==null;){d=me;var f=d.sibling,p=d.return;if(zH(d),d===c){me=null;break}if(f!==null){f.return=p,me=f;break}me=p}}}var m=s.alternate;if(m!==null){var y=m.child;if(y!==null){m.child=null;do{var b=y.sibling;y.sibling=null,y=b}while(y!==null)}}me=s}}if(s.subtreeFlags&2064&&a!==null)a.return=s,me=a;else e:for(;me!==null;){if(s=me,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Wc(9,s,s.return)}var g=s.sibling;if(g!==null){g.return=s.return,me=g;break e}me=s.return}}var v=t.current;for(me=v;me!==null;){a=me;var w=a.child;if(a.subtreeFlags&2064&&w!==null)w.return=a,me=w;else e:for(a=v;me!==null;){if(o=me,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:Kp(9,o)}}catch(_){It(o,o.return,_)}if(o===a){me=null;break e}var x=o.sibling;if(x!==null){x.return=o.return,me=x;break e}me=o.return}}if(Ve=i,ja(),Ii&&typeof Ii.onPostCommitFiberRoot=="function")try{Ii.onPostCommitFiberRoot(Fp,t)}catch{}n=!0}return n}finally{et=r,Bn.transition=e}}return!1}function QP(t,e,r){e=cu(r,e),e=IH(t,e,1),t=ia(t,e,1),e=zr(),t!==null&&(Hd(t,1,e),on(t,e))}function It(t,e,r){if(t.tag===3)QP(t,t,r);else for(;e!==null;){if(e.tag===3){QP(e,t,r);break}else if(e.tag===1){var n=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(sa===null||!sa.has(n))){t=cu(r,t),t=RH(e,t,1),e=ia(e,t,1),t=zr(),e!==null&&(Hd(e,1,t),on(e,t));break}}e=e.return}}function cZ(t,e,r){var n=t.pingCache;n!==null&&n.delete(e),e=zr(),t.pingedLanes|=t.suspendedLanes&r,ar===t&&(gr&r)===r&&(er===4||er===3&&(gr&130023424)===gr&&500>qt()-MC?uo(t,0):DC|=r),on(t,e)}function JH(t,e){e===0&&(t.mode&1?(e=Vh,Vh<<=1,!(Vh&130023424)&&(Vh=4194304)):e=1);var r=zr();t=ms(t,e),t!==null&&(Hd(t,e,r),on(t,r))}function dZ(t){var e=t.memoizedState,r=0;e!==null&&(r=e.retryLane),JH(t,r)}function hZ(t,e){var r=0;switch(t.tag){case 13:var n=t.stateNode,i=t.memoizedState;i!==null&&(r=i.retryLane);break;case 19:n=t.stateNode;break;default:throw Error(Z(314))}n!==null&&n.delete(e),JH(t,r)}var ZH;ZH=function(t,e,r){if(t!==null)if(t.memoizedProps!==e.pendingProps||sn.current)nn=!0;else{if(!(t.lanes&r)&&!(e.flags&128))return nn=!1,ZJ(t,e,r);nn=!!(t.flags&131072)}else nn=!1,wt&&e.flags&1048576&&nH(e,Jf,e.index);switch(e.lanes=0,e.tag){case 2:var n=e.type;jf(t,e),t=e.pendingProps;var i=au(e,Tr.current);ql(e,r),i=TC(null,e,n,t,i,r);var s=PC();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,an(n)?(s=!0,Qf(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,EC(e),i.updater=Vp,e.stateNode=i,i._reactInternals=e,DN(e,n,t,r),e=AN(null,e,n,!0,s,r)):(e.tag=0,wt&&s&&gC(e),qr(null,e,i,r),e=e.child),e;case 16:n=e.elementType;e:{switch(jf(t,e),t=e.pendingProps,i=n._init,n=i(n._payload),e.type=n,i=e.tag=pZ(n),t=ei(n,t),i){case 0:e=qN(null,e,n,t,r);break e;case 1:e=LP(null,e,n,t,r);break e;case 11:e=AP(null,e,n,t,r);break e;case 14:e=FP(null,e,n,ei(n.type,t),r);break e}throw Error(Z(306,n,""))}return e;case 0:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:ei(n,i),qN(t,e,n,i,r);case 1:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:ei(n,i),LP(t,e,n,i,r);case 3:e:{if(MH(e),t===null)throw Error(Z(387));n=e.pendingProps,s=e.memoizedState,i=s.element,uH(t,e),tp(e,n,null,r);var a=e.memoizedState;if(n=a.element,s.isDehydrated)if(s={element:n,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=cu(Error(Z(423)),e),e=BP(t,e,n,r,i);break e}else if(n!==i){i=cu(Error(Z(424)),e),e=BP(t,e,n,r,i);break e}else for(wn=na(e.stateNode.containerInfo.firstChild),_n=e,wt=!0,ii=null,r=oH(e,null,n,r),e.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(ou(),n===i){e=vs(t,e,r);break e}qr(t,e,n,r)}e=e.child}return e;case 5:return cH(e),t===null&&RN(e),n=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,a=i.children,CN(n,i)?a=null:s!==null&&CN(n,s)&&(e.flags|=32),DH(t,e),qr(t,e,a,r),e.child;case 6:return t===null&&RN(e),null;case 13:return qH(t,e,r);case 4:return NC(e,e.stateNode.containerInfo),n=e.pendingProps,t===null?e.child=lu(e,null,n,r):qr(t,e,n,r),e.child;case 11:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:ei(n,i),AP(t,e,n,i,r);case 7:return qr(t,e,e.pendingProps,r),e.child;case 8:return qr(t,e,e.pendingProps.children,r),e.child;case 12:return qr(t,e,e.pendingProps.children,r),e.child;case 10:e:{if(n=e.type._context,i=e.pendingProps,s=e.memoizedProps,a=i.value,pt(Zf,n._currentValue),n._currentValue=a,s!==null)if(hi(s.value,a)){if(s.children===i.children&&!sn.current){e=vs(t,e,r);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var o=s.dependencies;if(o!==null){a=s.child;for(var l=o.firstContext;l!==null;){if(l.context===n){if(s.tag===1){l=ts(-1,r&-r),l.tag=2;var c=s.updateQueue;if(c!==null){c=c.shared;var d=c.pending;d===null?l.next=l:(l.next=d.next,d.next=l),c.pending=l}}s.lanes|=r,l=s.alternate,l!==null&&(l.lanes|=r),$N(s.return,r,e),o.lanes|=r;break}l=l.next}}else if(s.tag===10)a=s.type===e.type?null:s.child;else if(s.tag===18){if(a=s.return,a===null)throw Error(Z(341));a.lanes|=r,o=a.alternate,o!==null&&(o.lanes|=r),$N(a,r,e),a=s.sibling}else a=s.child;if(a!==null)a.return=s;else for(a=s;a!==null;){if(a===e){a=null;break}if(s=a.sibling,s!==null){s.return=a.return,a=s;break}a=a.return}s=a}qr(t,e,i.children,r),e=e.child}return e;case 9:return i=e.type,n=e.pendingProps.children,ql(e,r),i=Wn(i),n=n(i),e.flags|=1,qr(t,e,n,r),e.child;case 14:return n=e.type,i=ei(n,e.pendingProps),i=ei(n.type,i),FP(t,e,n,i,r);case 15:return $H(t,e,e.type,e.pendingProps,r);case 17:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:ei(n,i),jf(t,e),e.tag=1,an(n)?(t=!0,Qf(e)):t=!1,ql(e,r),PH(e,n,i),DN(e,n,i,r),AN(null,e,n,!0,t,r);case 19:return AH(t,e,r);case 22:return kH(t,e,r)}throw Error(Z(156,e.tag))};function eV(t,e){return C9(t,e)}function fZ(t,e,r,n){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ln(t,e,r,n){return new fZ(t,e,r,n)}function LC(t){return t=t.prototype,!(!t||!t.isReactComponent)}function pZ(t){if(typeof t=="function")return LC(t)?1:0;if(t!=null){if(t=t.$$typeof,t===sC)return 11;if(t===aC)return 14}return 2}function oa(t,e){var r=t.alternate;return r===null?(r=Ln(t.tag,e,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=e,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&14680064,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,e=t.dependencies,r.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r}function Tf(t,e,r,n,i,s){var a=2;if(n=t,typeof t=="function")LC(t)&&(a=1);else if(typeof t=="string")a=5;else e:switch(t){case vl:return co(r.children,i,s,e);case iC:a=8,i|=8;break;case sN:return t=Ln(12,r,e,i|2),t.elementType=sN,t.lanes=s,t;case aN:return t=Ln(13,r,e,i),t.elementType=aN,t.lanes=s,t;case oN:return t=Ln(19,r,e,i),t.elementType=oN,t.lanes=s,t;case c9:return Yp(r,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case l9:a=10;break e;case u9:a=9;break e;case sC:a=11;break e;case aC:a=14;break e;case $s:a=16,n=null;break e}throw Error(Z(130,t==null?t:typeof t,""))}return e=Ln(a,r,e,i),e.elementType=t,e.type=n,e.lanes=s,e}function co(t,e,r,n){return t=Ln(7,t,n,e),t.lanes=r,t}function Yp(t,e,r,n){return t=Ln(22,t,n,e),t.elementType=c9,t.lanes=r,t.stateNode={isHidden:!1},t}function bv(t,e,r){return t=Ln(6,t,null,e),t.lanes=r,t}function xv(t,e,r){return e=Ln(4,t.children!==null?t.children:[],t.key,e),e.lanes=r,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function mZ(t,e,r,n,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ev(0),this.expirationTimes=ev(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ev(0),this.identifierPrefix=n,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function BC(t,e,r,n,i,s,a,o,l){return t=new mZ(t,e,r,o,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=Ln(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},EC(s),t}function vZ(t,e,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ml,key:n==null?null:""+n,children:t,containerInfo:e,implementation:r}}function tV(t){if(!t)return ya;t=t._reactInternals;e:{if(Fo(t)!==t||t.tag!==1)throw Error(Z(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(an(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(Z(171))}if(t.tag===1){var r=t.type;if(an(r))return tH(t,r,e)}return e}function rV(t,e,r,n,i,s,a,o,l){return t=BC(r,n,!0,t,i,s,a,o,l),t.context=tV(null),r=t.current,n=zr(),i=aa(r),s=ts(n,i),s.callback=e??null,ia(r,s,i),t.current.lanes=i,Hd(t,i,n),on(t,n),t}function Qp(t,e,r,n){var i=e.current,s=zr(),a=aa(i);return r=tV(r),e.context===null?e.context=r:e.pendingContext=r,e=ts(s,a),e.payload={element:t},n=n===void 0?null:n,n!==null&&(e.callback=n),t=ia(i,e,a),t!==null&&(di(t,i,a,s),Sf(t,i,a)),a}function up(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function XP(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<e?r:e}}function zC(t,e){XP(t,e),(t=t.alternate)&&XP(t,e)}function gZ(){return null}var nV=typeof reportError=="function"?reportError:function(t){console.error(t)};function UC(t){this._internalRoot=t}Xp.prototype.render=UC.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(Z(409));Qp(t,e,null,null)};Xp.prototype.unmount=UC.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Eo(function(){Qp(null,t,null,null)}),e[ps]=null}};function Xp(t){this._internalRoot=t}Xp.prototype.unstable_scheduleHydration=function(t){if(t){var e=k9();t={blockedOn:null,target:t,priority:e};for(var r=0;r<qs.length&&e!==0&&e<qs[r].priority;r++);qs.splice(r,0,t),r===0&&M9(t)}};function WC(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Jp(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function JP(){}function yZ(t,e,r,n,i){if(i){if(typeof n=="function"){var s=n;n=function(){var c=up(a);s.call(c)}}var a=rV(e,n,t,0,null,!1,!1,"",JP);return t._reactRootContainer=a,t[ps]=a.current,cd(t.nodeType===8?t.parentNode:t),Eo(),a}for(;i=t.lastChild;)t.removeChild(i);if(typeof n=="function"){var o=n;n=function(){var c=up(l);o.call(c)}}var l=BC(t,0,!1,null,null,!1,!1,"",JP);return t._reactRootContainer=l,t[ps]=l.current,cd(t.nodeType===8?t.parentNode:t),Eo(function(){Qp(e,l,r,n)}),l}function Zp(t,e,r,n,i){var s=r._reactRootContainer;if(s){var a=s;if(typeof i=="function"){var o=i;i=function(){var l=up(a);o.call(l)}}Qp(e,a,t,i)}else a=yZ(r,e,t,i,n);return up(a)}R9=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var r=$c(e.pendingLanes);r!==0&&(uC(e,r|1),on(e,qt()),!(Ve&6)&&(du=qt()+500,ja()))}break;case 13:Eo(function(){var n=ms(t,1);if(n!==null){var i=zr();di(n,t,1,i)}}),zC(t,1)}};cC=function(t){if(t.tag===13){var e=ms(t,134217728);if(e!==null){var r=zr();di(e,t,134217728,r)}zC(t,134217728)}};$9=function(t){if(t.tag===13){var e=aa(t),r=ms(t,e);if(r!==null){var n=zr();di(r,t,e,n)}zC(t,e)}};k9=function(){return et};D9=function(t,e){var r=et;try{return et=t,e()}finally{et=r}};gN=function(t,e,r){switch(e){case"input":if(cN(t,r),e=r.name,r.type==="radio"&&e!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<r.length;e++){var n=r[e];if(n!==t&&n.form===t.form){var i=Up(n);if(!i)throw Error(Z(90));h9(n),cN(n,i)}}}break;case"textarea":p9(t,r);break;case"select":e=r.value,e!=null&&$l(t,!!r.multiple,e,!1)}};w9=qC;_9=Eo;var bZ={usingClientEntryPoint:!1,Events:[Kd,xl,Up,b9,x9,qC]},wc={findFiberByHostInstance:Ua,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},xZ={bundleType:wc.bundleType,version:wc.version,rendererPackageName:wc.rendererPackageName,rendererConfig:wc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ys.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=N9(t),t===null?null:t.stateNode},findFiberByHostInstance:wc.findFiberByHostInstance||gZ,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var nf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!nf.isDisabled&&nf.supportsFiber)try{Fp=nf.inject(xZ),Ii=nf}catch{}}Nn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=bZ;Nn.createPortal=function(t,e){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!WC(e))throw Error(Z(200));return vZ(t,e,null,r)};Nn.createRoot=function(t,e){if(!WC(t))throw Error(Z(299));var r=!1,n="",i=nV;return e!=null&&(e.unstable_strictMode===!0&&(r=!0),e.identifierPrefix!==void 0&&(n=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=BC(t,1,!1,null,null,r,!1,n,i),t[ps]=e.current,cd(t.nodeType===8?t.parentNode:t),new UC(e)};Nn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(Z(188)):(t=Object.keys(t).join(","),Error(Z(268,t)));return t=N9(e),t=t===null?null:t.stateNode,t};Nn.flushSync=function(t){return Eo(t)};Nn.hydrate=function(t,e,r){if(!Jp(e))throw Error(Z(200));return Zp(null,t,e,!0,r)};Nn.hydrateRoot=function(t,e,r){if(!WC(t))throw Error(Z(405));var n=r!=null&&r.hydratedSources||null,i=!1,s="",a=nV;if(r!=null&&(r.unstable_strictMode===!0&&(i=!0),r.identifierPrefix!==void 0&&(s=r.identifierPrefix),r.onRecoverableError!==void 0&&(a=r.onRecoverableError)),e=rV(e,null,t,1,r??null,i,!1,s,a),t[ps]=e.current,cd(t),n)for(t=0;t<n.length;t++)r=n[t],i=r._getVersion,i=i(r._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[r,i]:e.mutableSourceEagerHydrationData.push(r,i);return new Xp(e)};Nn.render=function(t,e,r){if(!Jp(e))throw Error(Z(200));return Zp(null,t,e,!1,r)};Nn.unmountComponentAtNode=function(t){if(!Jp(t))throw Error(Z(40));return t._reactRootContainer?(Eo(function(){Zp(null,null,t,!1,function(){t._reactRootContainer=null,t[ps]=null})}),!0):!1};Nn.unstable_batchedUpdates=qC;Nn.unstable_renderSubtreeIntoContainer=function(t,e,r,n){if(!Jp(r))throw Error(Z(200));if(t==null||t._reactInternals===void 0)throw Error(Z(38));return Zp(t,e,r,!1,n)};Nn.version="18.3.1-next-f1338f8080-20240426";function iV(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(iV)}catch(t){console.error(t)}}iV(),i9.exports=Nn;var wZ=i9.exports,ZP=wZ;nN.createRoot=ZP.createRoot,nN.hydrateRoot=ZP.hydrateRoot;/**
 * @remix-run/router v1.23.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function bd(){return bd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},bd.apply(this,arguments)}var Js;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Js||(Js={}));const eI="popstate";function _Z(t){t===void 0&&(t={});function e(n,i){let{pathname:s,search:a,hash:o}=n.location;return QN("",{pathname:s,search:a,hash:o},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function r(n,i){return typeof i=="string"?i:cp(i)}return EZ(e,r,null,t)}function Nt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function HC(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function SZ(){return Math.random().toString(36).substr(2,8)}function tI(t,e){return{usr:t.state,key:t.key,idx:e}}function QN(t,e,r,n){return r===void 0&&(r=null),bd({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Iu(e):e,{state:r,key:e&&e.key||n||SZ()})}function cp(t){let{pathname:e="/",search:r="",hash:n=""}=t;return r&&r!=="?"&&(e+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function Iu(t){let e={};if(t){let r=t.indexOf("#");r>=0&&(e.hash=t.substr(r),t=t.substr(0,r));let n=t.indexOf("?");n>=0&&(e.search=t.substr(n),t=t.substr(0,n)),t&&(e.pathname=t)}return e}function EZ(t,e,r,n){n===void 0&&(n={});let{window:i=document.defaultView,v5Compat:s=!1}=n,a=i.history,o=Js.Pop,l=null,c=d();c==null&&(c=0,a.replaceState(bd({},a.state,{idx:c}),""));function d(){return(a.state||{idx:null}).idx}function h(){o=Js.Pop;let b=d(),g=b==null?null:b-c;c=b,l&&l({action:o,location:y.location,delta:g})}function f(b,g){o=Js.Push;let v=QN(y.location,b,g);c=d()+1;let w=tI(v,c),x=y.createHref(v);try{a.pushState(w,"",x)}catch(_){if(_ instanceof DOMException&&_.name==="DataCloneError")throw _;i.location.assign(x)}s&&l&&l({action:o,location:y.location,delta:1})}function p(b,g){o=Js.Replace;let v=QN(y.location,b,g);c=d();let w=tI(v,c),x=y.createHref(v);a.replaceState(w,"",x),s&&l&&l({action:o,location:y.location,delta:0})}function m(b){let g=i.location.origin!=="null"?i.location.origin:i.location.href,v=typeof b=="string"?b:cp(b);return v=v.replace(/ $/,"%20"),Nt(g,"No window.location.(origin|href) available to create URL for href: "+v),new URL(v,g)}let y={get action(){return o},get location(){return t(i,a)},listen(b){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(eI,h),l=b,()=>{i.removeEventListener(eI,h),l=null}},createHref(b){return e(i,b)},createURL:m,encodeLocation(b){let g=m(b);return{pathname:g.pathname,search:g.search,hash:g.hash}},push:f,replace:p,go(b){return a.go(b)}};return y}var rI;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(rI||(rI={}));function NZ(t,e,r){return r===void 0&&(r="/"),jZ(t,e,r)}function jZ(t,e,r,n){let i=typeof e=="string"?Iu(e):e,s=hu(i.pathname||"/",r);if(s==null)return null;let a=sV(t);CZ(a);let o=null;for(let l=0;o==null&&l<a.length;++l){let c=AZ(s);o=MZ(a[l],c)}return o}function sV(t,e,r,n){e===void 0&&(e=[]),r===void 0&&(r=[]),n===void 0&&(n="");let i=(s,a,o)=>{let l={relativePath:o===void 0?s.path||"":o,caseSensitive:s.caseSensitive===!0,childrenIndex:a,route:s};l.relativePath.startsWith("/")&&(Nt(l.relativePath.startsWith(n),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(n.length));let c=la([n,l.relativePath]),d=r.concat(l);s.children&&s.children.length>0&&(Nt(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),sV(s.children,e,d,c)),!(s.path==null&&!s.index)&&e.push({path:c,score:kZ(c,s.index),routesMeta:d})};return t.forEach((s,a)=>{var o;if(s.path===""||!((o=s.path)!=null&&o.includes("?")))i(s,a);else for(let l of aV(s.path))i(s,a,l)}),e}function aV(t){let e=t.split("/");if(e.length===0)return[];let[r,...n]=e,i=r.endsWith("?"),s=r.replace(/\?$/,"");if(n.length===0)return i?[s,""]:[s];let a=aV(n.join("/")),o=[];return o.push(...a.map(l=>l===""?s:[s,l].join("/"))),i&&o.push(...a),o.map(l=>t.startsWith("/")&&l===""?"/":l)}function CZ(t){t.sort((e,r)=>e.score!==r.score?r.score-e.score:DZ(e.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const OZ=/^:[\w-]+$/,TZ=3,PZ=2,IZ=1,RZ=10,$Z=-2,nI=t=>t==="*";function kZ(t,e){let r=t.split("/"),n=r.length;return r.some(nI)&&(n+=$Z),e&&(n+=PZ),r.filter(i=>!nI(i)).reduce((i,s)=>i+(OZ.test(s)?TZ:s===""?IZ:RZ),n)}function DZ(t,e){return t.length===e.length&&t.slice(0,-1).every((n,i)=>n===e[i])?t[t.length-1]-e[e.length-1]:0}function MZ(t,e,r){let{routesMeta:n}=t,i={},s="/",a=[];for(let o=0;o<n.length;++o){let l=n[o],c=o===n.length-1,d=s==="/"?e:e.slice(s.length)||"/",h=XN({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},d),f=l.route;if(!h)return null;Object.assign(i,h.params),a.push({params:i,pathname:la([s,h.pathname]),pathnameBase:UZ(la([s,h.pathnameBase])),route:f}),h.pathnameBase!=="/"&&(s=la([s,h.pathnameBase]))}return a}function XN(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[r,n]=qZ(t.path,t.caseSensitive,t.end),i=e.match(r);if(!i)return null;let s=i[0],a=s.replace(/(.)\/+$/,"$1"),o=i.slice(1);return{params:n.reduce((c,d,h)=>{let{paramName:f,isOptional:p}=d;if(f==="*"){let y=o[h]||"";a=s.slice(0,s.length-y.length).replace(/(.)\/+$/,"$1")}const m=o[h];return p&&!m?c[f]=void 0:c[f]=(m||"").replace(/%2F/g,"/"),c},{}),pathname:s,pathnameBase:a,pattern:t}}function qZ(t,e,r){e===void 0&&(e=!1),r===void 0&&(r=!0),HC(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let n=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,o,l)=>(n.push({paramName:o,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(n.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),n]}function AZ(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return HC(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function hu(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let r=e.endsWith("/")?e.length-1:e.length,n=t.charAt(r);return n&&n!=="/"?null:t.slice(r)||"/"}const FZ=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,LZ=t=>FZ.test(t);function BZ(t,e){e===void 0&&(e="/");let{pathname:r,search:n="",hash:i=""}=typeof t=="string"?Iu(t):t,s;if(r)if(LZ(r))s=r;else{if(r.includes("//")){let a=r;r=r.replace(/\/\/+/g,"/"),HC(!1,"Pathnames cannot have embedded double slashes - normalizing "+(a+" -> "+r))}r.startsWith("/")?s=iI(r.substring(1),"/"):s=iI(r,e)}else s=e;return{pathname:s,search:WZ(n),hash:HZ(i)}}function iI(t,e){let r=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?r.length>1&&r.pop():i!=="."&&r.push(i)}),r.length>1?r.join("/"):"/"}function wv(t,e,r,n){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function zZ(t){return t.filter((e,r)=>r===0||e.route.path&&e.route.path.length>0)}function VC(t,e){let r=zZ(t);return e?r.map((n,i)=>i===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function KC(t,e,r,n){n===void 0&&(n=!1);let i;typeof t=="string"?i=Iu(t):(i=bd({},t),Nt(!i.pathname||!i.pathname.includes("?"),wv("?","pathname","search",i)),Nt(!i.pathname||!i.pathname.includes("#"),wv("#","pathname","hash",i)),Nt(!i.search||!i.search.includes("#"),wv("#","search","hash",i)));let s=t===""||i.pathname==="",a=s?"/":i.pathname,o;if(a==null)o=r;else{let h=e.length-1;if(!n&&a.startsWith("..")){let f=a.split("/");for(;f[0]==="..";)f.shift(),h-=1;i.pathname=f.join("/")}o=h>=0?e[h]:"/"}let l=BZ(i,o),c=a&&a!=="/"&&a.endsWith("/"),d=(s||a===".")&&r.endsWith("/");return!l.pathname.endsWith("/")&&(c||d)&&(l.pathname+="/"),l}const la=t=>t.join("/").replace(/\/\/+/g,"/"),UZ=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),WZ=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,HZ=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function VZ(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const oV=["post","put","patch","delete"];new Set(oV);const KZ=["get",...oV];new Set(KZ);/**
 * React Router v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function xd(){return xd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},xd.apply(this,arguments)}const em=I.createContext(null),lV=I.createContext(null),bs=I.createContext(null),tm=I.createContext(null),xs=I.createContext({outlet:null,matches:[],isDataRoute:!1}),uV=I.createContext(null);function GZ(t,e){let{relative:r}=e===void 0?{}:e;Ru()||Nt(!1);let{basename:n,navigator:i}=I.useContext(bs),{hash:s,pathname:a,search:o}=rm(t,{relative:r}),l=a;return n!=="/"&&(l=a==="/"?n:la([n,a])),i.createHref({pathname:l,search:o,hash:s})}function Ru(){return I.useContext(tm)!=null}function ws(){return Ru()||Nt(!1),I.useContext(tm).location}function cV(t){I.useContext(bs).static||I.useLayoutEffect(t)}function Kr(){let{isDataRoute:t}=I.useContext(xs);return t?oee():YZ()}function YZ(){Ru()||Nt(!1);let t=I.useContext(em),{basename:e,future:r,navigator:n}=I.useContext(bs),{matches:i}=I.useContext(xs),{pathname:s}=ws(),a=JSON.stringify(VC(i,r.v7_relativeSplatPath)),o=I.useRef(!1);return cV(()=>{o.current=!0}),I.useCallback(function(c,d){if(d===void 0&&(d={}),!o.current)return;if(typeof c=="number"){n.go(c);return}let h=KC(c,JSON.parse(a),s,d.relative==="path");t==null&&e!=="/"&&(h.pathname=h.pathname==="/"?e:la([e,h.pathname])),(d.replace?n.replace:n.push)(h,d.state,d)},[e,n,a,s,t])}function _s(){let{matches:t}=I.useContext(xs),e=t[t.length-1];return e?e.params:{}}function rm(t,e){let{relative:r}=e===void 0?{}:e,{future:n}=I.useContext(bs),{matches:i}=I.useContext(xs),{pathname:s}=ws(),a=JSON.stringify(VC(i,n.v7_relativeSplatPath));return I.useMemo(()=>KC(t,JSON.parse(a),s,r==="path"),[t,a,s,r])}function QZ(t,e){return XZ(t,e)}function XZ(t,e,r,n){Ru()||Nt(!1);let{navigator:i}=I.useContext(bs),{matches:s}=I.useContext(xs),a=s[s.length-1],o=a?a.params:{};a&&a.pathname;let l=a?a.pathnameBase:"/";a&&a.route;let c=ws(),d;if(e){var h;let b=typeof e=="string"?Iu(e):e;l==="/"||(h=b.pathname)!=null&&h.startsWith(l)||Nt(!1),d=b}else d=c;let f=d.pathname||"/",p=f;if(l!=="/"){let b=l.replace(/^\//,"").split("/");p="/"+f.replace(/^\//,"").split("/").slice(b.length).join("/")}let m=NZ(t,{pathname:p}),y=ree(m&&m.map(b=>Object.assign({},b,{params:Object.assign({},o,b.params),pathname:la([l,i.encodeLocation?i.encodeLocation(b.pathname).pathname:b.pathname]),pathnameBase:b.pathnameBase==="/"?l:la([l,i.encodeLocation?i.encodeLocation(b.pathnameBase).pathname:b.pathnameBase])})),s,r,n);return e&&y?I.createElement(tm.Provider,{value:{location:xd({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:Js.Pop}},y):y}function JZ(){let t=aee(),e=VZ(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),r=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return I.createElement(I.Fragment,null,I.createElement("h2",null,"Unexpected Application Error!"),I.createElement("h3",{style:{fontStyle:"italic"}},e),r?I.createElement("pre",{style:i},r):null,null)}const ZZ=I.createElement(JZ,null);class eee extends I.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,r){return r.location!==e.location||r.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:r.error,location:r.location,revalidation:e.revalidation||r.revalidation}}componentDidCatch(e,r){console.error("React Router caught the following error during render",e,r)}render(){return this.state.error!==void 0?I.createElement(xs.Provider,{value:this.props.routeContext},I.createElement(uV.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function tee(t){let{routeContext:e,match:r,children:n}=t,i=I.useContext(em);return i&&i.static&&i.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=r.route.id),I.createElement(xs.Provider,{value:e},n)}function ree(t,e,r,n){var i;if(e===void 0&&(e=[]),r===void 0&&(r=null),n===void 0&&(n=null),t==null){var s;if(!r)return null;if(r.errors)t=r.matches;else if((s=n)!=null&&s.v7_partialHydration&&e.length===0&&!r.initialized&&r.matches.length>0)t=r.matches;else return null}let a=t,o=(i=r)==null?void 0:i.errors;if(o!=null){let d=a.findIndex(h=>h.route.id&&(o==null?void 0:o[h.route.id])!==void 0);d>=0||Nt(!1),a=a.slice(0,Math.min(a.length,d+1))}let l=!1,c=-1;if(r&&n&&n.v7_partialHydration)for(let d=0;d<a.length;d++){let h=a[d];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(c=d),h.route.id){let{loaderData:f,errors:p}=r,m=h.route.loader&&f[h.route.id]===void 0&&(!p||p[h.route.id]===void 0);if(h.route.lazy||m){l=!0,c>=0?a=a.slice(0,c+1):a=[a[0]];break}}}return a.reduceRight((d,h,f)=>{let p,m=!1,y=null,b=null;r&&(p=o&&h.route.id?o[h.route.id]:void 0,y=h.route.errorElement||ZZ,l&&(c<0&&f===0?(lee("route-fallback"),m=!0,b=null):c===f&&(m=!0,b=h.route.hydrateFallbackElement||null)));let g=e.concat(a.slice(0,f+1)),v=()=>{let w;return p?w=y:m?w=b:h.route.Component?w=I.createElement(h.route.Component,null):h.route.element?w=h.route.element:w=d,I.createElement(tee,{match:h,routeContext:{outlet:d,matches:g,isDataRoute:r!=null},children:w})};return r&&(h.route.ErrorBoundary||h.route.errorElement||f===0)?I.createElement(eee,{location:r.location,revalidation:r.revalidation,component:y,error:p,children:v(),routeContext:{outlet:null,matches:g,isDataRoute:!0}}):v()},null)}var dV=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(dV||{}),hV=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(hV||{});function nee(t){let e=I.useContext(em);return e||Nt(!1),e}function iee(t){let e=I.useContext(lV);return e||Nt(!1),e}function see(t){let e=I.useContext(xs);return e||Nt(!1),e}function fV(t){let e=see(),r=e.matches[e.matches.length-1];return r.route.id||Nt(!1),r.route.id}function aee(){var t;let e=I.useContext(uV),r=iee(),n=fV();return e!==void 0?e:(t=r.errors)==null?void 0:t[n]}function oee(){let{router:t}=nee(dV.UseNavigateStable),e=fV(hV.UseNavigateStable),r=I.useRef(!1);return cV(()=>{r.current=!0}),I.useCallback(function(i,s){s===void 0&&(s={}),r.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,xd({fromRouteId:e},s)))},[t,e])}const sI={};function lee(t,e,r){sI[t]||(sI[t]=!0)}function uee(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function pV(t){let{to:e,replace:r,state:n,relative:i}=t;Ru()||Nt(!1);let{future:s,static:a}=I.useContext(bs),{matches:o}=I.useContext(xs),{pathname:l}=ws(),c=Kr(),d=KC(e,VC(o,s.v7_relativeSplatPath),l,i==="path"),h=JSON.stringify(d);return I.useEffect(()=>c(JSON.parse(h),{replace:r,state:n,relative:i}),[c,h,i,r,n]),null}function Xe(t){Nt(!1)}function cee(t){let{basename:e="/",children:r=null,location:n,navigationType:i=Js.Pop,navigator:s,static:a=!1,future:o}=t;Ru()&&Nt(!1);let l=e.replace(/^\/*/,"/"),c=I.useMemo(()=>({basename:l,navigator:s,static:a,future:xd({v7_relativeSplatPath:!1},o)}),[l,o,s,a]);typeof n=="string"&&(n=Iu(n));let{pathname:d="/",search:h="",hash:f="",state:p=null,key:m="default"}=n,y=I.useMemo(()=>{let b=hu(d,l);return b==null?null:{location:{pathname:b,search:h,hash:f,state:p,key:m},navigationType:i}},[l,d,h,f,p,m,i]);return y==null?null:I.createElement(bs.Provider,{value:c},I.createElement(tm.Provider,{children:r,value:y}))}function aI(t){let{children:e,location:r}=t;return QZ(JN(e),r)}new Promise(()=>{});function JN(t,e){e===void 0&&(e=[]);let r=[];return I.Children.forEach(t,(n,i)=>{if(!I.isValidElement(n))return;let s=[...e,i];if(n.type===I.Fragment){r.push.apply(r,JN(n.props.children,s));return}n.type!==Xe&&Nt(!1),!n.props.index||!n.props.children||Nt(!1);let a={id:n.props.id||s.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(a.children=JN(n.props.children,s)),r.push(a)}),r}/**
 * React Router DOM v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function dp(){return dp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},dp.apply(this,arguments)}function mV(t,e){if(t==null)return{};var r={},n=Object.keys(t),i,s;for(s=0;s<n.length;s++)i=n[s],!(e.indexOf(i)>=0)&&(r[i]=t[i]);return r}function dee(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function hee(t,e){return t.button===0&&(!e||e==="_self")&&!dee(t)}function ZN(t){return t===void 0&&(t=""),new URLSearchParams(typeof t=="string"||Array.isArray(t)||t instanceof URLSearchParams?t:Object.keys(t).reduce((e,r)=>{let n=t[r];return e.concat(Array.isArray(n)?n.map(i=>[r,i]):[[r,n]])},[]))}function fee(t,e){let r=ZN(t);return e&&e.forEach((n,i)=>{r.has(i)||e.getAll(i).forEach(s=>{r.append(i,s)})}),r}const pee=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],mee=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],vee="6";try{window.__reactRouterVersion=vee}catch{}const gee=I.createContext({isTransitioning:!1}),yee="startTransition",oI=cX[yee];function bee(t){let{basename:e,children:r,future:n,window:i}=t,s=I.useRef();s.current==null&&(s.current=_Z({window:i,v5Compat:!0}));let a=s.current,[o,l]=I.useState({action:a.action,location:a.location}),{v7_startTransition:c}=n||{},d=I.useCallback(h=>{c&&oI?oI(()=>l(h)):l(h)},[l,c]);return I.useLayoutEffect(()=>a.listen(d),[a,d]),I.useEffect(()=>uee(n),[n]),I.createElement(cee,{basename:e,children:r,location:o.location,navigationType:o.action,navigator:a,future:n})}const xee=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",wee=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,he=I.forwardRef(function(e,r){let{onClick:n,relative:i,reloadDocument:s,replace:a,state:o,target:l,to:c,preventScrollReset:d,viewTransition:h}=e,f=mV(e,pee),{basename:p}=I.useContext(bs),m,y=!1;if(typeof c=="string"&&wee.test(c)&&(m=c,xee))try{let w=new URL(window.location.href),x=c.startsWith("//")?new URL(w.protocol+c):new URL(c),_=hu(x.pathname,p);x.origin===w.origin&&_!=null?c=_+x.search+x.hash:y=!0}catch{}let b=GZ(c,{relative:i}),g=Eee(c,{replace:a,state:o,target:l,preventScrollReset:d,relative:i,viewTransition:h});function v(w){n&&n(w),w.defaultPrevented||g(w)}return I.createElement("a",dp({},f,{href:m||b,onClick:y||s?n:v,ref:r,target:l}))}),_ee=I.forwardRef(function(e,r){let{"aria-current":n="page",caseSensitive:i=!1,className:s="",end:a=!1,style:o,to:l,viewTransition:c,children:d}=e,h=mV(e,mee),f=rm(l,{relative:h.relative}),p=ws(),m=I.useContext(lV),{navigator:y,basename:b}=I.useContext(bs),g=m!=null&&Nee(f)&&c===!0,v=y.encodeLocation?y.encodeLocation(f).pathname:f.pathname,w=p.pathname,x=m&&m.navigation&&m.navigation.location?m.navigation.location.pathname:null;i||(w=w.toLowerCase(),x=x?x.toLowerCase():null,v=v.toLowerCase()),x&&b&&(x=hu(x,b)||x);const _=v!=="/"&&v.endsWith("/")?v.length-1:v.length;let E=w===v||!a&&w.startsWith(v)&&w.charAt(_)==="/",N=x!=null&&(x===v||!a&&x.startsWith(v)&&x.charAt(v.length)==="/"),S={isActive:E,isPending:N,isTransitioning:g},j=E?n:void 0,C;typeof s=="function"?C=s(S):C=[s,E?"active":null,N?"pending":null,g?"transitioning":null].filter(Boolean).join(" ");let O=typeof o=="function"?o(S):o;return I.createElement(he,dp({},h,{"aria-current":j,className:C,ref:r,style:O,to:l,viewTransition:c}),typeof d=="function"?d(S):d)});var ej;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(ej||(ej={}));var lI;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(lI||(lI={}));function See(t){let e=I.useContext(em);return e||Nt(!1),e}function Eee(t,e){let{target:r,replace:n,state:i,preventScrollReset:s,relative:a,viewTransition:o}=e===void 0?{}:e,l=Kr(),c=ws(),d=rm(t,{relative:a});return I.useCallback(h=>{if(hee(h,r)){h.preventDefault();let f=n!==void 0?n:cp(c)===cp(d);l(t,{replace:f,state:i,preventScrollReset:s,relative:a,viewTransition:o})}},[c,l,d,n,i,r,t,s,a,o])}function GC(t){let e=I.useRef(ZN(t)),r=I.useRef(!1),n=ws(),i=I.useMemo(()=>fee(n.search,r.current?null:e.current),[n.search]),s=Kr(),a=I.useCallback((o,l)=>{const c=ZN(typeof o=="function"?o(i):o);r.current=!0,s("?"+c,l)},[s,i]);return[i,a]}function Nee(t,e){e===void 0&&(e={});let r=I.useContext(gee);r==null&&Nt(!1);let{basename:n}=See(ej.useViewTransitionState),i=rm(t,{relative:e.relative});if(!r.isTransitioning)return!1;let s=hu(r.currentLocation.pathname,n)||r.currentLocation.pathname,a=hu(r.nextLocation.pathname,n)||r.nextLocation.pathname;return XN(i.pathname,a)!=null||XN(i.pathname,s)!=null}var Lo=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},jee={setTimeout:(t,e)=>setTimeout(t,e),clearTimeout:t=>clearTimeout(t),setInterval:(t,e)=>setInterval(t,e),clearInterval:t=>clearInterval(t)},Ls,Qj,DW,Cee=(DW=class{constructor(){pe(this,Ls,jee);pe(this,Qj,!1)}setTimeoutProvider(t){ne(this,Ls,t)}setTimeout(t,e){return R(this,Ls).setTimeout(t,e)}clearTimeout(t){R(this,Ls).clearTimeout(t)}setInterval(t,e){return R(this,Ls).setInterval(t,e)}clearInterval(t){R(this,Ls).clearInterval(t)}},Ls=new WeakMap,Qj=new WeakMap,DW),Va=new Cee;function Oee(t){setTimeout(t,0)}var No=typeof window>"u"||"Deno"in globalThis;function jr(){}function Tee(t,e){return typeof t=="function"?t(e):t}function tj(t){return typeof t=="number"&&t>=0&&t!==1/0}function vV(t,e){return Math.max(t+(e||0)-Date.now(),0)}function ua(t,e){return typeof t=="function"?t(e):t}function kn(t,e){return typeof t=="function"?t(e):t}function uI(t,e){const{type:r="all",exact:n,fetchStatus:i,predicate:s,queryKey:a,stale:o}=t;if(a){if(n){if(e.queryHash!==YC(a,e.options))return!1}else if(!wd(e.queryKey,a))return!1}if(r!=="all"){const l=e.isActive();if(r==="active"&&!l||r==="inactive"&&l)return!1}return!(typeof o=="boolean"&&e.isStale()!==o||i&&i!==e.state.fetchStatus||s&&!s(e))}function cI(t,e){const{exact:r,status:n,predicate:i,mutationKey:s}=t;if(s){if(!e.options.mutationKey)return!1;if(r){if(jo(e.options.mutationKey)!==jo(s))return!1}else if(!wd(e.options.mutationKey,s))return!1}return!(n&&e.state.status!==n||i&&!i(e))}function YC(t,e){return((e==null?void 0:e.queryKeyHashFn)||jo)(t)}function jo(t){return JSON.stringify(t,(e,r)=>rj(r)?Object.keys(r).sort().reduce((n,i)=>(n[i]=r[i],n),{}):r)}function wd(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?Object.keys(e).every(r=>wd(t[r],e[r])):!1}var Pee=Object.prototype.hasOwnProperty;function QC(t,e){if(t===e)return t;const r=dI(t)&&dI(e);if(!r&&!(rj(t)&&rj(e)))return e;const i=(r?t:Object.keys(t)).length,s=r?e:Object.keys(e),a=s.length,o=r?new Array(a):{};let l=0;for(let c=0;c<a;c++){const d=r?c:s[c],h=t[d],f=e[d];if(h===f){o[d]=h,(r?c<i:Pee.call(t,d))&&l++;continue}if(h===null||f===null||typeof h!="object"||typeof f!="object"){o[d]=f;continue}const p=QC(h,f);o[d]=p,p===h&&l++}return i===a&&l===i?t:o}function _d(t,e){if(!e||Object.keys(t).length!==Object.keys(e).length)return!1;for(const r in t)if(t[r]!==e[r])return!1;return!0}function dI(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function rj(t){if(!hI(t))return!1;const e=t.constructor;if(e===void 0)return!0;const r=e.prototype;return!(!hI(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function hI(t){return Object.prototype.toString.call(t)==="[object Object]"}function Iee(t){return new Promise(e=>{Va.setTimeout(e,t)})}function nj(t,e,r){return typeof r.structuralSharing=="function"?r.structuralSharing(t,e):r.structuralSharing!==!1?QC(t,e):e}function Ree(t,e,r=0){const n=[...t,e];return r&&n.length>r?n.slice(1):n}function $ee(t,e,r=0){const n=[e,...t];return r&&n.length>r?n.slice(0,-1):n}var XC=Symbol();function gV(t,e){return!t.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!t.queryFn||t.queryFn===XC?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}function JC(t,e){return typeof t=="function"?t(...e):!!t}function kee(t,e,r){let n=!1,i;return Object.defineProperty(t,"signal",{enumerable:!0,get:()=>(i??(i=e()),n||(n=!0,i.aborted?r():i.addEventListener("abort",r,{once:!0})),i)}),t}var eo,Bs,Wl,MW,Dee=(MW=class extends Lo{constructor(){super();pe(this,eo);pe(this,Bs);pe(this,Wl);ne(this,Wl,e=>{if(!No&&window.addEventListener){const r=()=>e();return window.addEventListener("visibilitychange",r,!1),()=>{window.removeEventListener("visibilitychange",r)}}})}onSubscribe(){R(this,Bs)||this.setEventListener(R(this,Wl))}onUnsubscribe(){var e;this.hasListeners()||((e=R(this,Bs))==null||e.call(this),ne(this,Bs,void 0))}setEventListener(e){var r;ne(this,Wl,e),(r=R(this,Bs))==null||r.call(this),ne(this,Bs,e(n=>{typeof n=="boolean"?this.setFocused(n):this.onFocus()}))}setFocused(e){R(this,eo)!==e&&(ne(this,eo,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(r=>{r(e)})}isFocused(){var e;return typeof R(this,eo)=="boolean"?R(this,eo):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},eo=new WeakMap,Bs=new WeakMap,Wl=new WeakMap,MW),ZC=new Dee;function ij(){let t,e;const r=new Promise((i,s)=>{t=i,e=s});r.status="pending",r.catch(()=>{});function n(i){Object.assign(r,i),delete r.resolve,delete r.reject}return r.resolve=i=>{n({status:"fulfilled",value:i}),t(i)},r.reject=i=>{n({status:"rejected",reason:i}),e(i)},r}var Mee=Oee;function qee(){let t=[],e=0,r=o=>{o()},n=o=>{o()},i=Mee;const s=o=>{e?t.push(o):i(()=>{r(o)})},a=()=>{const o=t;t=[],o.length&&i(()=>{n(()=>{o.forEach(l=>{r(l)})})})};return{batch:o=>{let l;e++;try{l=o()}finally{e--,e||a()}return l},batchCalls:o=>(...l)=>{s(()=>{o(...l)})},schedule:s,setNotifyFunction:o=>{r=o},setBatchNotifyFunction:o=>{n=o},setScheduler:o=>{i=o}}}var kt=qee(),Hl,zs,Vl,qW,Aee=(qW=class extends Lo{constructor(){super();pe(this,Hl,!0);pe(this,zs);pe(this,Vl);ne(this,Vl,e=>{if(!No&&window.addEventListener){const r=()=>e(!0),n=()=>e(!1);return window.addEventListener("online",r,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",r),window.removeEventListener("offline",n)}}})}onSubscribe(){R(this,zs)||this.setEventListener(R(this,Vl))}onUnsubscribe(){var e;this.hasListeners()||((e=R(this,zs))==null||e.call(this),ne(this,zs,void 0))}setEventListener(e){var r;ne(this,Vl,e),(r=R(this,zs))==null||r.call(this),ne(this,zs,e(this.setOnline.bind(this)))}setOnline(e){R(this,Hl)!==e&&(ne(this,Hl,e),this.listeners.forEach(n=>{n(e)}))}isOnline(){return R(this,Hl)}},Hl=new WeakMap,zs=new WeakMap,Vl=new WeakMap,qW),hp=new Aee;function Fee(t){return Math.min(1e3*2**t,3e4)}function yV(t){return(t??"online")==="online"?hp.isOnline():!0}var sj=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function bV(t){let e=!1,r=0,n;const i=ij(),s=()=>i.status!=="pending",a=y=>{var b;if(!s()){const g=new sj(y);f(g),(b=t.onCancel)==null||b.call(t,g)}},o=()=>{e=!0},l=()=>{e=!1},c=()=>ZC.isFocused()&&(t.networkMode==="always"||hp.isOnline())&&t.canRun(),d=()=>yV(t.networkMode)&&t.canRun(),h=y=>{s()||(n==null||n(),i.resolve(y))},f=y=>{s()||(n==null||n(),i.reject(y))},p=()=>new Promise(y=>{var b;n=g=>{(s()||c())&&y(g)},(b=t.onPause)==null||b.call(t)}).then(()=>{var y;n=void 0,s()||(y=t.onContinue)==null||y.call(t)}),m=()=>{if(s())return;let y;const b=r===0?t.initialPromise:void 0;try{y=b??t.fn()}catch(g){y=Promise.reject(g)}Promise.resolve(y).then(h).catch(g=>{var E;if(s())return;const v=t.retry??(No?0:3),w=t.retryDelay??Fee,x=typeof w=="function"?w(r,g):w,_=v===!0||typeof v=="number"&&r<v||typeof v=="function"&&v(r,g);if(e||!_){f(g);return}r++,(E=t.onFail)==null||E.call(t,r,g),Iee(x).then(()=>c()?void 0:p()).then(()=>{e?f(g):m()})})};return{promise:i,status:()=>i.status,cancel:a,continue:()=>(n==null||n(),i),cancelRetry:o,continueRetry:l,canStart:d,start:()=>(d()?m():p().then(m),i)}}var to,AW,xV=(AW=class{constructor(){pe(this,to)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),tj(this.gcTime)&&ne(this,to,Va.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(No?1/0:5*60*1e3))}clearGcTimeout(){R(this,to)&&(Va.clearTimeout(R(this,to)),ne(this,to,void 0))}},to=new WeakMap,AW),ro,Kl,Rn,no,ir,Md,io,ti,Wi,FW,Lee=(FW=class extends xV{constructor(e){super();pe(this,ti);pe(this,ro);pe(this,Kl);pe(this,Rn);pe(this,no);pe(this,ir);pe(this,Md);pe(this,io);ne(this,io,!1),ne(this,Md,e.defaultOptions),this.setOptions(e.options),this.observers=[],ne(this,no,e.client),ne(this,Rn,R(this,no).getQueryCache()),this.queryKey=e.queryKey,this.queryHash=e.queryHash,ne(this,ro,pI(this.options)),this.state=e.state??R(this,ro),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var e;return(e=R(this,ir))==null?void 0:e.promise}setOptions(e){if(this.options={...R(this,Md),...e},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const r=pI(this.options);r.data!==void 0&&(this.setState(fI(r.data,r.dataUpdatedAt)),ne(this,ro,r))}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&R(this,Rn).remove(this)}setData(e,r){const n=nj(this.state.data,e,this.options);return je(this,ti,Wi).call(this,{data:n,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),n}setState(e,r){je(this,ti,Wi).call(this,{type:"setState",state:e,setStateOptions:r})}cancel(e){var n,i;const r=(n=R(this,ir))==null?void 0:n.promise;return(i=R(this,ir))==null||i.cancel(e),r?r.then(jr).catch(jr):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(R(this,ro))}isActive(){return this.observers.some(e=>kn(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===XC||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(e=>ua(e.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(e=0){return this.state.data===void 0?!0:e==="static"?!1:this.state.isInvalidated?!0:!vV(this.state.dataUpdatedAt,e)}onFocus(){var r;const e=this.observers.find(n=>n.shouldFetchOnWindowFocus());e==null||e.refetch({cancelRefetch:!1}),(r=R(this,ir))==null||r.continue()}onOnline(){var r;const e=this.observers.find(n=>n.shouldFetchOnReconnect());e==null||e.refetch({cancelRefetch:!1}),(r=R(this,ir))==null||r.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),R(this,Rn).notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(r=>r!==e),this.observers.length||(R(this,ir)&&(R(this,io)?R(this,ir).cancel({revert:!0}):R(this,ir).cancelRetry()),this.scheduleGc()),R(this,Rn).notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||je(this,ti,Wi).call(this,{type:"invalidate"})}async fetch(e,r){var l,c,d,h,f,p,m,y,b,g,v,w;if(this.state.fetchStatus!=="idle"&&((l=R(this,ir))==null?void 0:l.status())!=="rejected"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(R(this,ir))return R(this,ir).continueRetry(),R(this,ir).promise}if(e&&this.setOptions(e),!this.options.queryFn){const x=this.observers.find(_=>_.options.queryFn);x&&this.setOptions(x.options)}const n=new AbortController,i=x=>{Object.defineProperty(x,"signal",{enumerable:!0,get:()=>(ne(this,io,!0),n.signal)})},s=()=>{const x=gV(this.options,r),E=(()=>{const N={client:R(this,no),queryKey:this.queryKey,meta:this.meta};return i(N),N})();return ne(this,io,!1),this.options.persister?this.options.persister(x,E,this):x(E)},o=(()=>{const x={fetchOptions:r,options:this.options,queryKey:this.queryKey,client:R(this,no),state:this.state,fetchFn:s};return i(x),x})();(c=this.options.behavior)==null||c.onFetch(o,this),ne(this,Kl,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((d=o.fetchOptions)==null?void 0:d.meta))&&je(this,ti,Wi).call(this,{type:"fetch",meta:(h=o.fetchOptions)==null?void 0:h.meta}),ne(this,ir,bV({initialPromise:r==null?void 0:r.initialPromise,fn:o.fetchFn,onCancel:x=>{x instanceof sj&&x.revert&&this.setState({...R(this,Kl),fetchStatus:"idle"}),n.abort()},onFail:(x,_)=>{je(this,ti,Wi).call(this,{type:"failed",failureCount:x,error:_})},onPause:()=>{je(this,ti,Wi).call(this,{type:"pause"})},onContinue:()=>{je(this,ti,Wi).call(this,{type:"continue"})},retry:o.options.retry,retryDelay:o.options.retryDelay,networkMode:o.options.networkMode,canRun:()=>!0}));try{const x=await R(this,ir).start();if(x===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(x),(p=(f=R(this,Rn).config).onSuccess)==null||p.call(f,x,this),(y=(m=R(this,Rn).config).onSettled)==null||y.call(m,x,this.state.error,this),x}catch(x){if(x instanceof sj){if(x.silent)return R(this,ir).promise;if(x.revert){if(this.state.data===void 0)throw x;return this.state.data}}throw je(this,ti,Wi).call(this,{type:"error",error:x}),(g=(b=R(this,Rn).config).onError)==null||g.call(b,x,this),(w=(v=R(this,Rn).config).onSettled)==null||w.call(v,this.state.data,x,this),x}finally{this.scheduleGc()}}},ro=new WeakMap,Kl=new WeakMap,Rn=new WeakMap,no=new WeakMap,ir=new WeakMap,Md=new WeakMap,io=new WeakMap,ti=new WeakSet,Wi=function(e){const r=n=>{switch(e.type){case"failed":return{...n,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...wV(n.data,this.options),fetchMeta:e.meta??null};case"success":const i={...n,...fI(e.data,e.dataUpdatedAt),dataUpdateCount:n.dataUpdateCount+1,...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return ne(this,Kl,e.manual?i:void 0),i;case"error":const s=e.error;return{...n,error:s,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:s,fetchStatus:"idle",status:"error",isInvalidated:!0};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...e.state}}};this.state=r(this.state),kt.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),R(this,Rn).notify({query:this,type:"updated",action:e})})},FW);function wV(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:yV(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function fI(t,e){return{data:t,dataUpdatedAt:e??Date.now(),error:null,isInvalidated:!1,status:"success"}}function pI(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,r=e!==void 0,n=r?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:r?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var Qr,Ue,qd,kr,so,Gl,Ki,Us,Ad,Yl,Ql,ao,oo,Ws,Xl,Ye,Dc,aj,oj,lj,uj,cj,dj,hj,_V,LW,eO=(LW=class extends Lo{constructor(e,r){super();pe(this,Ye);pe(this,Qr);pe(this,Ue);pe(this,qd);pe(this,kr);pe(this,so);pe(this,Gl);pe(this,Ki);pe(this,Us);pe(this,Ad);pe(this,Yl);pe(this,Ql);pe(this,ao);pe(this,oo);pe(this,Ws);pe(this,Xl,new Set);this.options=r,ne(this,Qr,e),ne(this,Us,null),ne(this,Ki,ij()),this.bindMethods(),this.setOptions(r)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(R(this,Ue).addObserver(this),mI(R(this,Ue),this.options)?je(this,Ye,Dc).call(this):this.updateResult(),je(this,Ye,uj).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return fj(R(this,Ue),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return fj(R(this,Ue),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,je(this,Ye,cj).call(this),je(this,Ye,dj).call(this),R(this,Ue).removeObserver(this)}setOptions(e){const r=this.options,n=R(this,Ue);if(this.options=R(this,Qr).defaultQueryOptions(e),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof kn(this.options.enabled,R(this,Ue))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");je(this,Ye,hj).call(this),R(this,Ue).setOptions(this.options),r._defaulted&&!_d(this.options,r)&&R(this,Qr).getQueryCache().notify({type:"observerOptionsUpdated",query:R(this,Ue),observer:this});const i=this.hasListeners();i&&vI(R(this,Ue),n,this.options,r)&&je(this,Ye,Dc).call(this),this.updateResult(),i&&(R(this,Ue)!==n||kn(this.options.enabled,R(this,Ue))!==kn(r.enabled,R(this,Ue))||ua(this.options.staleTime,R(this,Ue))!==ua(r.staleTime,R(this,Ue)))&&je(this,Ye,aj).call(this);const s=je(this,Ye,oj).call(this);i&&(R(this,Ue)!==n||kn(this.options.enabled,R(this,Ue))!==kn(r.enabled,R(this,Ue))||s!==R(this,Ws))&&je(this,Ye,lj).call(this,s)}getOptimisticResult(e){const r=R(this,Qr).getQueryCache().build(R(this,Qr),e),n=this.createResult(r,e);return zee(this,n)&&(ne(this,kr,n),ne(this,Gl,this.options),ne(this,so,R(this,Ue).state)),n}getCurrentResult(){return R(this,kr)}trackResult(e,r){return new Proxy(e,{get:(n,i)=>(this.trackProp(i),r==null||r(i),i==="promise"&&(this.trackProp("data"),!this.options.experimental_prefetchInRender&&R(this,Ki).status==="pending"&&R(this,Ki).reject(new Error("experimental_prefetchInRender feature flag is not enabled"))),Reflect.get(n,i))})}trackProp(e){R(this,Xl).add(e)}getCurrentQuery(){return R(this,Ue)}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){const r=R(this,Qr).defaultQueryOptions(e),n=R(this,Qr).getQueryCache().build(R(this,Qr),r);return n.fetch().then(()=>this.createResult(n,r))}fetch(e){return je(this,Ye,Dc).call(this,{...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),R(this,kr)))}createResult(e,r){var j;const n=R(this,Ue),i=this.options,s=R(this,kr),a=R(this,so),o=R(this,Gl),c=e!==n?e.state:R(this,qd),{state:d}=e;let h={...d},f=!1,p;if(r._optimisticResults){const C=this.hasListeners(),O=!C&&mI(e,r),T=C&&vI(e,n,r,i);(O||T)&&(h={...h,...wV(d.data,e.options)}),r._optimisticResults==="isRestoring"&&(h.fetchStatus="idle")}let{error:m,errorUpdatedAt:y,status:b}=h;p=h.data;let g=!1;if(r.placeholderData!==void 0&&p===void 0&&b==="pending"){let C;s!=null&&s.isPlaceholderData&&r.placeholderData===(o==null?void 0:o.placeholderData)?(C=s.data,g=!0):C=typeof r.placeholderData=="function"?r.placeholderData((j=R(this,Ql))==null?void 0:j.state.data,R(this,Ql)):r.placeholderData,C!==void 0&&(b="success",p=nj(s==null?void 0:s.data,C,r),f=!0)}if(r.select&&p!==void 0&&!g)if(s&&p===(a==null?void 0:a.data)&&r.select===R(this,Ad))p=R(this,Yl);else try{ne(this,Ad,r.select),p=r.select(p),p=nj(s==null?void 0:s.data,p,r),ne(this,Yl,p),ne(this,Us,null)}catch(C){ne(this,Us,C)}R(this,Us)&&(m=R(this,Us),p=R(this,Yl),y=Date.now(),b="error");const v=h.fetchStatus==="fetching",w=b==="pending",x=b==="error",_=w&&v,E=p!==void 0,S={status:b,fetchStatus:h.fetchStatus,isPending:w,isSuccess:b==="success",isError:x,isInitialLoading:_,isLoading:_,data:p,dataUpdatedAt:h.dataUpdatedAt,error:m,errorUpdatedAt:y,failureCount:h.fetchFailureCount,failureReason:h.fetchFailureReason,errorUpdateCount:h.errorUpdateCount,isFetched:h.dataUpdateCount>0||h.errorUpdateCount>0,isFetchedAfterMount:h.dataUpdateCount>c.dataUpdateCount||h.errorUpdateCount>c.errorUpdateCount,isFetching:v,isRefetching:v&&!w,isLoadingError:x&&!E,isPaused:h.fetchStatus==="paused",isPlaceholderData:f,isRefetchError:x&&E,isStale:tO(e,r),refetch:this.refetch,promise:R(this,Ki),isEnabled:kn(r.enabled,e)!==!1};if(this.options.experimental_prefetchInRender){const C=P=>{S.status==="error"?P.reject(S.error):S.data!==void 0&&P.resolve(S.data)},O=()=>{const P=ne(this,Ki,S.promise=ij());C(P)},T=R(this,Ki);switch(T.status){case"pending":e.queryHash===n.queryHash&&C(T);break;case"fulfilled":(S.status==="error"||S.data!==T.value)&&O();break;case"rejected":(S.status!=="error"||S.error!==T.reason)&&O();break}}return S}updateResult(){const e=R(this,kr),r=this.createResult(R(this,Ue),this.options);if(ne(this,so,R(this,Ue).state),ne(this,Gl,this.options),R(this,so).data!==void 0&&ne(this,Ql,R(this,Ue)),_d(r,e))return;ne(this,kr,r);const n=()=>{if(!e)return!0;const{notifyOnChangeProps:i}=this.options,s=typeof i=="function"?i():i;if(s==="all"||!s&&!R(this,Xl).size)return!0;const a=new Set(s??R(this,Xl));return this.options.throwOnError&&a.add("error"),Object.keys(R(this,kr)).some(o=>{const l=o;return R(this,kr)[l]!==e[l]&&a.has(l)})};je(this,Ye,_V).call(this,{listeners:n()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&je(this,Ye,uj).call(this)}},Qr=new WeakMap,Ue=new WeakMap,qd=new WeakMap,kr=new WeakMap,so=new WeakMap,Gl=new WeakMap,Ki=new WeakMap,Us=new WeakMap,Ad=new WeakMap,Yl=new WeakMap,Ql=new WeakMap,ao=new WeakMap,oo=new WeakMap,Ws=new WeakMap,Xl=new WeakMap,Ye=new WeakSet,Dc=function(e){je(this,Ye,hj).call(this);let r=R(this,Ue).fetch(this.options,e);return e!=null&&e.throwOnError||(r=r.catch(jr)),r},aj=function(){je(this,Ye,cj).call(this);const e=ua(this.options.staleTime,R(this,Ue));if(No||R(this,kr).isStale||!tj(e))return;const n=vV(R(this,kr).dataUpdatedAt,e)+1;ne(this,ao,Va.setTimeout(()=>{R(this,kr).isStale||this.updateResult()},n))},oj=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(R(this,Ue)):this.options.refetchInterval)??!1},lj=function(e){je(this,Ye,dj).call(this),ne(this,Ws,e),!(No||kn(this.options.enabled,R(this,Ue))===!1||!tj(R(this,Ws))||R(this,Ws)===0)&&ne(this,oo,Va.setInterval(()=>{(this.options.refetchIntervalInBackground||ZC.isFocused())&&je(this,Ye,Dc).call(this)},R(this,Ws)))},uj=function(){je(this,Ye,aj).call(this),je(this,Ye,lj).call(this,je(this,Ye,oj).call(this))},cj=function(){R(this,ao)&&(Va.clearTimeout(R(this,ao)),ne(this,ao,void 0))},dj=function(){R(this,oo)&&(Va.clearInterval(R(this,oo)),ne(this,oo,void 0))},hj=function(){const e=R(this,Qr).getQueryCache().build(R(this,Qr),this.options);if(e===R(this,Ue))return;const r=R(this,Ue);ne(this,Ue,e),ne(this,qd,e.state),this.hasListeners()&&(r==null||r.removeObserver(this),e.addObserver(this))},_V=function(e){kt.batch(()=>{e.listeners&&this.listeners.forEach(r=>{r(R(this,kr))}),R(this,Qr).getQueryCache().notify({query:R(this,Ue),type:"observerResultsUpdated"})})},LW);function Bee(t,e){return kn(e.enabled,t)!==!1&&t.state.data===void 0&&!(t.state.status==="error"&&e.retryOnMount===!1)}function mI(t,e){return Bee(t,e)||t.state.data!==void 0&&fj(t,e,e.refetchOnMount)}function fj(t,e,r){if(kn(e.enabled,t)!==!1&&ua(e.staleTime,t)!=="static"){const n=typeof r=="function"?r(t):r;return n==="always"||n!==!1&&tO(t,e)}return!1}function vI(t,e,r,n){return(t!==e||kn(n.enabled,t)===!1)&&(!r.suspense||t.state.status!=="error")&&tO(t,r)}function tO(t,e){return kn(e.enabled,t)!==!1&&t.isStaleByTime(ua(e.staleTime,t))}function zee(t,e){return!_d(t.getCurrentResult(),e)}function gI(t){return{onFetch:(e,r)=>{var d,h,f,p,m;const n=e.options,i=(f=(h=(d=e.fetchOptions)==null?void 0:d.meta)==null?void 0:h.fetchMore)==null?void 0:f.direction,s=((p=e.state.data)==null?void 0:p.pages)||[],a=((m=e.state.data)==null?void 0:m.pageParams)||[];let o={pages:[],pageParams:[]},l=0;const c=async()=>{let y=!1;const b=w=>{kee(w,()=>e.signal,()=>y=!0)},g=gV(e.options,e.fetchOptions),v=async(w,x,_)=>{if(y)return Promise.reject();if(x==null&&w.pages.length)return Promise.resolve(w);const N=(()=>{const O={client:e.client,queryKey:e.queryKey,pageParam:x,direction:_?"backward":"forward",meta:e.options.meta};return b(O),O})(),S=await g(N),{maxPages:j}=e.options,C=_?$ee:Ree;return{pages:C(w.pages,S,j),pageParams:C(w.pageParams,x,j)}};if(i&&s.length){const w=i==="backward",x=w?Uee:yI,_={pages:s,pageParams:a},E=x(n,_);o=await v(_,E,w)}else{const w=t??s.length;do{const x=l===0?a[0]??n.initialPageParam:yI(n,o);if(l>0&&x==null)break;o=await v(o,x),l++}while(l<w)}return o};e.options.persister?e.fetchFn=()=>{var y,b;return(b=(y=e.options).persister)==null?void 0:b.call(y,c,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},r)}:e.fetchFn=c}}}function yI(t,{pages:e,pageParams:r}){const n=e.length-1;return e.length>0?t.getNextPageParam(e[n],e,r[n],r):void 0}function Uee(t,{pages:e,pageParams:r}){var n;return e.length>0?(n=t.getPreviousPageParam)==null?void 0:n.call(t,e[0],e,r[0],r):void 0}var Fd,Si,Dr,lo,Ei,Rs,BW,Wee=(BW=class extends xV{constructor(e){super();pe(this,Ei);pe(this,Fd);pe(this,Si);pe(this,Dr);pe(this,lo);ne(this,Fd,e.client),this.mutationId=e.mutationId,ne(this,Dr,e.mutationCache),ne(this,Si,[]),this.state=e.state||SV(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){R(this,Si).includes(e)||(R(this,Si).push(e),this.clearGcTimeout(),R(this,Dr).notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){ne(this,Si,R(this,Si).filter(r=>r!==e)),this.scheduleGc(),R(this,Dr).notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){R(this,Si).length||(this.state.status==="pending"?this.scheduleGc():R(this,Dr).remove(this))}continue(){var e;return((e=R(this,lo))==null?void 0:e.continue())??this.execute(this.state.variables)}async execute(e){var a,o,l,c,d,h,f,p,m,y,b,g,v,w,x,_,E,N,S,j;const r=()=>{je(this,Ei,Rs).call(this,{type:"continue"})},n={client:R(this,Fd),meta:this.options.meta,mutationKey:this.options.mutationKey};ne(this,lo,bV({fn:()=>this.options.mutationFn?this.options.mutationFn(e,n):Promise.reject(new Error("No mutationFn found")),onFail:(C,O)=>{je(this,Ei,Rs).call(this,{type:"failed",failureCount:C,error:O})},onPause:()=>{je(this,Ei,Rs).call(this,{type:"pause"})},onContinue:r,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>R(this,Dr).canRun(this)}));const i=this.state.status==="pending",s=!R(this,lo).canStart();try{if(i)r();else{je(this,Ei,Rs).call(this,{type:"pending",variables:e,isPaused:s}),await((o=(a=R(this,Dr).config).onMutate)==null?void 0:o.call(a,e,this,n));const O=await((c=(l=this.options).onMutate)==null?void 0:c.call(l,e,n));O!==this.state.context&&je(this,Ei,Rs).call(this,{type:"pending",context:O,variables:e,isPaused:s})}const C=await R(this,lo).start();return await((h=(d=R(this,Dr).config).onSuccess)==null?void 0:h.call(d,C,e,this.state.context,this,n)),await((p=(f=this.options).onSuccess)==null?void 0:p.call(f,C,e,this.state.context,n)),await((y=(m=R(this,Dr).config).onSettled)==null?void 0:y.call(m,C,null,this.state.variables,this.state.context,this,n)),await((g=(b=this.options).onSettled)==null?void 0:g.call(b,C,null,e,this.state.context,n)),je(this,Ei,Rs).call(this,{type:"success",data:C}),C}catch(C){try{await((w=(v=R(this,Dr).config).onError)==null?void 0:w.call(v,C,e,this.state.context,this,n))}catch(O){Promise.reject(O)}try{await((_=(x=this.options).onError)==null?void 0:_.call(x,C,e,this.state.context,n))}catch(O){Promise.reject(O)}try{await((N=(E=R(this,Dr).config).onSettled)==null?void 0:N.call(E,void 0,C,this.state.variables,this.state.context,this,n))}catch(O){Promise.reject(O)}try{await((j=(S=this.options).onSettled)==null?void 0:j.call(S,void 0,C,e,this.state.context,n))}catch(O){Promise.reject(O)}throw je(this,Ei,Rs).call(this,{type:"error",error:C}),C}finally{R(this,Dr).runNext(this)}}},Fd=new WeakMap,Si=new WeakMap,Dr=new WeakMap,lo=new WeakMap,Ei=new WeakSet,Rs=function(e){const r=n=>{switch(e.type){case"failed":return{...n,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...n,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:e.error,failureCount:n.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=r(this.state),kt.batch(()=>{R(this,Si).forEach(n=>{n.onMutationUpdate(e)}),R(this,Dr).notify({mutation:this,type:"updated",action:e})})},BW);function SV(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Gi,ri,Ld,zW,Hee=(zW=class extends Lo{constructor(e={}){super();pe(this,Gi);pe(this,ri);pe(this,Ld);this.config=e,ne(this,Gi,new Set),ne(this,ri,new Map),ne(this,Ld,0)}build(e,r,n){const i=new Wee({client:e,mutationCache:this,mutationId:++Lh(this,Ld)._,options:e.defaultMutationOptions(r),state:n});return this.add(i),i}add(e){R(this,Gi).add(e);const r=sf(e);if(typeof r=="string"){const n=R(this,ri).get(r);n?n.push(e):R(this,ri).set(r,[e])}this.notify({type:"added",mutation:e})}remove(e){if(R(this,Gi).delete(e)){const r=sf(e);if(typeof r=="string"){const n=R(this,ri).get(r);if(n)if(n.length>1){const i=n.indexOf(e);i!==-1&&n.splice(i,1)}else n[0]===e&&R(this,ri).delete(r)}}this.notify({type:"removed",mutation:e})}canRun(e){const r=sf(e);if(typeof r=="string"){const n=R(this,ri).get(r),i=n==null?void 0:n.find(s=>s.state.status==="pending");return!i||i===e}else return!0}runNext(e){var n;const r=sf(e);if(typeof r=="string"){const i=(n=R(this,ri).get(r))==null?void 0:n.find(s=>s!==e&&s.state.isPaused);return(i==null?void 0:i.continue())??Promise.resolve()}else return Promise.resolve()}clear(){kt.batch(()=>{R(this,Gi).forEach(e=>{this.notify({type:"removed",mutation:e})}),R(this,Gi).clear(),R(this,ri).clear()})}getAll(){return Array.from(R(this,Gi))}find(e){const r={exact:!0,...e};return this.getAll().find(n=>cI(r,n))}findAll(e={}){return this.getAll().filter(r=>cI(e,r))}notify(e){kt.batch(()=>{this.listeners.forEach(r=>{r(e)})})}resumePausedMutations(){const e=this.getAll().filter(r=>r.state.isPaused);return kt.batch(()=>Promise.all(e.map(r=>r.continue().catch(jr))))}},Gi=new WeakMap,ri=new WeakMap,Ld=new WeakMap,zW);function sf(t){var e;return(e=t.options.scope)==null?void 0:e.id}var Yi,Hs,Xr,Qi,hs,Pf,pj,UW,Vee=(UW=class extends Lo{constructor(e,r){super();pe(this,hs);pe(this,Yi);pe(this,Hs);pe(this,Xr);pe(this,Qi);ne(this,Yi,e),this.setOptions(r),this.bindMethods(),je(this,hs,Pf).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(e){var n;const r=this.options;this.options=R(this,Yi).defaultMutationOptions(e),_d(this.options,r)||R(this,Yi).getMutationCache().notify({type:"observerOptionsUpdated",mutation:R(this,Xr),observer:this}),r!=null&&r.mutationKey&&this.options.mutationKey&&jo(r.mutationKey)!==jo(this.options.mutationKey)?this.reset():((n=R(this,Xr))==null?void 0:n.state.status)==="pending"&&R(this,Xr).setOptions(this.options)}onUnsubscribe(){var e;this.hasListeners()||(e=R(this,Xr))==null||e.removeObserver(this)}onMutationUpdate(e){je(this,hs,Pf).call(this),je(this,hs,pj).call(this,e)}getCurrentResult(){return R(this,Hs)}reset(){var e;(e=R(this,Xr))==null||e.removeObserver(this),ne(this,Xr,void 0),je(this,hs,Pf).call(this),je(this,hs,pj).call(this)}mutate(e,r){var n;return ne(this,Qi,r),(n=R(this,Xr))==null||n.removeObserver(this),ne(this,Xr,R(this,Yi).getMutationCache().build(R(this,Yi),this.options)),R(this,Xr).addObserver(this),R(this,Xr).execute(e)}},Yi=new WeakMap,Hs=new WeakMap,Xr=new WeakMap,Qi=new WeakMap,hs=new WeakSet,Pf=function(){var r;const e=((r=R(this,Xr))==null?void 0:r.state)??SV();ne(this,Hs,{...e,isPending:e.status==="pending",isSuccess:e.status==="success",isError:e.status==="error",isIdle:e.status==="idle",mutate:this.mutate,reset:this.reset})},pj=function(e){kt.batch(()=>{var r,n,i,s,a,o,l,c;if(R(this,Qi)&&this.hasListeners()){const d=R(this,Hs).variables,h=R(this,Hs).context,f={client:R(this,Yi),meta:this.options.meta,mutationKey:this.options.mutationKey};if((e==null?void 0:e.type)==="success"){try{(n=(r=R(this,Qi)).onSuccess)==null||n.call(r,e.data,d,h,f)}catch(p){Promise.reject(p)}try{(s=(i=R(this,Qi)).onSettled)==null||s.call(i,e.data,null,d,h,f)}catch(p){Promise.reject(p)}}else if((e==null?void 0:e.type)==="error"){try{(o=(a=R(this,Qi)).onError)==null||o.call(a,e.error,d,h,f)}catch(p){Promise.reject(p)}try{(c=(l=R(this,Qi)).onSettled)==null||c.call(l,void 0,e.error,d,h,f)}catch(p){Promise.reject(p)}}}this.listeners.forEach(d=>{d(R(this,Hs))})})},UW);function bI(t,e){const r=new Set(e);return t.filter(n=>!r.has(n))}function Kee(t,e,r){const n=t.slice(0);return n[e]=r,n}var Jl,gn,Zl,eu,$n,Vs,Bd,zd,Ud,br,mj,vj,gj,yj,bj,WW,Gee=(WW=class extends Lo{constructor(e,r,n){super();pe(this,br);pe(this,Jl);pe(this,gn);pe(this,Zl);pe(this,eu);pe(this,$n);pe(this,Vs);pe(this,Bd);pe(this,zd);pe(this,Ud,[]);ne(this,Jl,e),ne(this,eu,n),ne(this,Zl,[]),ne(this,$n,[]),ne(this,gn,[]),this.setQueries(r)}onSubscribe(){this.listeners.size===1&&R(this,$n).forEach(e=>{e.subscribe(r=>{je(this,br,yj).call(this,e,r)})})}onUnsubscribe(){this.listeners.size||this.destroy()}destroy(){this.listeners=new Set,R(this,$n).forEach(e=>{e.destroy()})}setQueries(e,r){ne(this,Zl,e),ne(this,eu,r),kt.batch(()=>{const n=R(this,$n),i=je(this,br,gj).call(this,R(this,Zl));i.forEach(h=>h.observer.setOptions(h.defaultedQueryOptions));const s=i.map(h=>h.observer),a=s.map(h=>h.getCurrentResult()),o=n.length!==s.length,l=s.some((h,f)=>h!==n[f]),c=o||l,d=c?!0:a.some((h,f)=>{const p=R(this,gn)[f];return!p||!_d(h,p)});!c&&!d||(c&&(ne(this,Ud,i),ne(this,$n,s)),ne(this,gn,a),this.hasListeners()&&(c&&(bI(n,s).forEach(h=>{h.destroy()}),bI(s,n).forEach(h=>{h.subscribe(f=>{je(this,br,yj).call(this,h,f)})})),je(this,br,bj).call(this)))})}getCurrentResult(){return R(this,gn)}getQueries(){return R(this,$n).map(e=>e.getCurrentQuery())}getObservers(){return R(this,$n)}getOptimisticResult(e,r){const n=je(this,br,gj).call(this,e),i=n.map(s=>s.observer.getOptimisticResult(s.defaultedQueryOptions));return[i,s=>je(this,br,vj).call(this,s??i,r),()=>je(this,br,mj).call(this,i,n)]}},Jl=new WeakMap,gn=new WeakMap,Zl=new WeakMap,eu=new WeakMap,$n=new WeakMap,Vs=new WeakMap,Bd=new WeakMap,zd=new WeakMap,Ud=new WeakMap,br=new WeakSet,mj=function(e,r){return r.map((n,i)=>{const s=e[i];return n.defaultedQueryOptions.notifyOnChangeProps?s:n.observer.trackResult(s,a=>{r.forEach(o=>{o.observer.trackProp(a)})})})},vj=function(e,r){return r?((!R(this,Vs)||R(this,gn)!==R(this,zd)||r!==R(this,Bd))&&(ne(this,Bd,r),ne(this,zd,R(this,gn)),ne(this,Vs,QC(R(this,Vs),r(e)))),R(this,Vs)):e},gj=function(e){const r=new Map;R(this,$n).forEach(i=>{const s=i.options.queryHash;if(!s)return;const a=r.get(s);a?a.push(i):r.set(s,[i])});const n=[];return e.forEach(i=>{var l;const s=R(this,Jl).defaultQueryOptions(i),o=((l=r.get(s.queryHash))==null?void 0:l.shift())??new eO(R(this,Jl),s);n.push({defaultedQueryOptions:s,observer:o})}),n},yj=function(e,r){const n=R(this,$n).indexOf(e);n!==-1&&(ne(this,gn,Kee(R(this,gn),n,r)),je(this,br,bj).call(this))},bj=function(){var e;if(this.hasListeners()){const r=R(this,Vs),n=je(this,br,mj).call(this,R(this,gn),R(this,Ud)),i=je(this,br,vj).call(this,n,(e=R(this,eu))==null?void 0:e.combine);r!==i&&kt.batch(()=>{this.listeners.forEach(s=>{s(R(this,gn))})})}},WW),Ni,HW,Yee=(HW=class extends Lo{constructor(e={}){super();pe(this,Ni);this.config=e,ne(this,Ni,new Map)}build(e,r,n){const i=r.queryKey,s=r.queryHash??YC(i,r);let a=this.get(s);return a||(a=new Lee({client:e,queryKey:i,queryHash:s,options:e.defaultQueryOptions(r),state:n,defaultOptions:e.getQueryDefaults(i)}),this.add(a)),a}add(e){R(this,Ni).has(e.queryHash)||(R(this,Ni).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const r=R(this,Ni).get(e.queryHash);r&&(e.destroy(),r===e&&R(this,Ni).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){kt.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return R(this,Ni).get(e)}getAll(){return[...R(this,Ni).values()]}find(e){const r={exact:!0,...e};return this.getAll().find(n=>uI(r,n))}findAll(e={}){const r=this.getAll();return Object.keys(e).length>0?r.filter(n=>uI(e,n)):r}notify(e){kt.batch(()=>{this.listeners.forEach(r=>{r(e)})})}onFocus(){kt.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){kt.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},Ni=new WeakMap,HW),Pt,Ks,Gs,tu,ru,Ys,nu,iu,VW,Qee=(VW=class{constructor(t={}){pe(this,Pt);pe(this,Ks);pe(this,Gs);pe(this,tu);pe(this,ru);pe(this,Ys);pe(this,nu);pe(this,iu);ne(this,Pt,t.queryCache||new Yee),ne(this,Ks,t.mutationCache||new Hee),ne(this,Gs,t.defaultOptions||{}),ne(this,tu,new Map),ne(this,ru,new Map),ne(this,Ys,0)}mount(){Lh(this,Ys)._++,R(this,Ys)===1&&(ne(this,nu,ZC.subscribe(async t=>{t&&(await this.resumePausedMutations(),R(this,Pt).onFocus())})),ne(this,iu,hp.subscribe(async t=>{t&&(await this.resumePausedMutations(),R(this,Pt).onOnline())})))}unmount(){var t,e;Lh(this,Ys)._--,R(this,Ys)===0&&((t=R(this,nu))==null||t.call(this),ne(this,nu,void 0),(e=R(this,iu))==null||e.call(this),ne(this,iu,void 0))}isFetching(t){return R(this,Pt).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return R(this,Ks).findAll({...t,status:"pending"}).length}getQueryData(t){var r;const e=this.defaultQueryOptions({queryKey:t});return(r=R(this,Pt).get(e.queryHash))==null?void 0:r.state.data}ensureQueryData(t){const e=this.defaultQueryOptions(t),r=R(this,Pt).build(this,e),n=r.state.data;return n===void 0?this.fetchQuery(t):(t.revalidateIfStale&&r.isStaleByTime(ua(e.staleTime,r))&&this.prefetchQuery(e),Promise.resolve(n))}getQueriesData(t){return R(this,Pt).findAll(t).map(({queryKey:e,state:r})=>{const n=r.data;return[e,n]})}setQueryData(t,e,r){const n=this.defaultQueryOptions({queryKey:t}),i=R(this,Pt).get(n.queryHash),s=i==null?void 0:i.state.data,a=Tee(e,s);if(a!==void 0)return R(this,Pt).build(this,n).setData(a,{...r,manual:!0})}setQueriesData(t,e,r){return kt.batch(()=>R(this,Pt).findAll(t).map(({queryKey:n})=>[n,this.setQueryData(n,e,r)]))}getQueryState(t){var r;const e=this.defaultQueryOptions({queryKey:t});return(r=R(this,Pt).get(e.queryHash))==null?void 0:r.state}removeQueries(t){const e=R(this,Pt);kt.batch(()=>{e.findAll(t).forEach(r=>{e.remove(r)})})}resetQueries(t,e){const r=R(this,Pt);return kt.batch(()=>(r.findAll(t).forEach(n=>{n.reset()}),this.refetchQueries({type:"active",...t},e)))}cancelQueries(t,e={}){const r={revert:!0,...e},n=kt.batch(()=>R(this,Pt).findAll(t).map(i=>i.cancel(r)));return Promise.all(n).then(jr).catch(jr)}invalidateQueries(t,e={}){return kt.batch(()=>(R(this,Pt).findAll(t).forEach(r=>{r.invalidate()}),(t==null?void 0:t.refetchType)==="none"?Promise.resolve():this.refetchQueries({...t,type:(t==null?void 0:t.refetchType)??(t==null?void 0:t.type)??"active"},e)))}refetchQueries(t,e={}){const r={...e,cancelRefetch:e.cancelRefetch??!0},n=kt.batch(()=>R(this,Pt).findAll(t).filter(i=>!i.isDisabled()&&!i.isStatic()).map(i=>{let s=i.fetch(void 0,r);return r.throwOnError||(s=s.catch(jr)),i.state.fetchStatus==="paused"?Promise.resolve():s}));return Promise.all(n).then(jr)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const r=R(this,Pt).build(this,e);return r.isStaleByTime(ua(e.staleTime,r))?r.fetch(e):Promise.resolve(r.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(jr).catch(jr)}fetchInfiniteQuery(t){return t.behavior=gI(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(jr).catch(jr)}ensureInfiniteQueryData(t){return t.behavior=gI(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return hp.isOnline()?R(this,Ks).resumePausedMutations():Promise.resolve()}getQueryCache(){return R(this,Pt)}getMutationCache(){return R(this,Ks)}getDefaultOptions(){return R(this,Gs)}setDefaultOptions(t){ne(this,Gs,t)}setQueryDefaults(t,e){R(this,tu).set(jo(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...R(this,tu).values()],r={};return e.forEach(n=>{wd(t,n.queryKey)&&Object.assign(r,n.defaultOptions)}),r}setMutationDefaults(t,e){R(this,ru).set(jo(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...R(this,ru).values()],r={};return e.forEach(n=>{wd(t,n.mutationKey)&&Object.assign(r,n.defaultOptions)}),r}defaultQueryOptions(t){if(t._defaulted)return t;const e={...R(this,Gs).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=YC(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===XC&&(e.enabled=!1),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...R(this,Gs).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){R(this,Pt).clear(),R(this,Ks).clear()}},Pt=new WeakMap,Ks=new WeakMap,Gs=new WeakMap,tu=new WeakMap,ru=new WeakMap,Ys=new WeakMap,nu=new WeakMap,iu=new WeakMap,VW),EV=I.createContext(void 0),tt=t=>{const e=I.useContext(EV);if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},Xee=({client:t,children:e})=>(I.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),u.jsx(EV.Provider,{value:t,children:e})),NV=I.createContext(!1),jV=()=>I.useContext(NV);NV.Provider;function Jee(){let t=!1;return{clearReset:()=>{t=!1},reset:()=>{t=!0},isReset:()=>t}}var Zee=I.createContext(Jee()),CV=()=>I.useContext(Zee),OV=(t,e,r)=>{const n=r!=null&&r.state.error&&typeof t.throwOnError=="function"?JC(t.throwOnError,[r.state.error,r]):t.throwOnError;(t.suspense||t.experimental_prefetchInRender||n)&&(e.isReset()||(t.retryOnMount=!1))},TV=t=>{I.useEffect(()=>{t.clearReset()},[t])},PV=({result:t,errorResetBoundary:e,throwOnError:r,query:n,suspense:i})=>t.isError&&!e.isReset()&&!t.isFetching&&n&&(i&&t.data===void 0||JC(r,[t.error,n])),IV=t=>{if(t.suspense){const r=i=>i==="static"?i:Math.max(i??1e3,1e3),n=t.staleTime;t.staleTime=typeof n=="function"?(...i)=>r(n(...i)):r(n),typeof t.gcTime=="number"&&(t.gcTime=Math.max(t.gcTime,1e3))}},RV=(t,e)=>t.isLoading&&t.isFetching&&!e,xj=(t,e)=>(t==null?void 0:t.suspense)&&e.isPending,fp=(t,e,r)=>e.fetchOptimistic(t).catch(()=>{r.clearReset()});function pp({queries:t,...e},r){const n=tt(),i=jV(),s=CV(),a=I.useMemo(()=>t.map(y=>{const b=n.defaultQueryOptions(y);return b._optimisticResults=i?"isRestoring":"optimistic",b}),[t,n,i]);a.forEach(y=>{IV(y);const b=n.getQueryCache().get(y.queryHash);OV(y,s,b)}),TV(s);const[o]=I.useState(()=>new Gee(n,a,e)),[l,c,d]=o.getOptimisticResult(a,e.combine),h=!i&&e.subscribed!==!1;I.useSyncExternalStore(I.useCallback(y=>h?o.subscribe(kt.batchCalls(y)):jr,[o,h]),()=>o.getCurrentResult(),()=>o.getCurrentResult()),I.useEffect(()=>{o.setQueries(a,e)},[a,e,o]);const p=l.some((y,b)=>xj(a[b],y))?l.flatMap((y,b)=>{const g=a[b];if(g){const v=new eO(n,g);if(xj(g,y))return fp(g,v,s);RV(y,i)&&fp(g,v,s)}return[]}):[];if(p.length>0)throw Promise.all(p);const m=l.find((y,b)=>{const g=a[b];return g&&PV({result:y,errorResetBoundary:s,throwOnError:g.throwOnError,query:n.getQueryCache().get(g.queryHash),suspense:g.suspense})});if(m!=null&&m.error)throw m.error;return c(d())}function ete(t,e,r){var f,p,m,y;const n=jV(),i=CV(),s=tt(),a=s.defaultQueryOptions(t);(p=(f=s.getDefaultOptions().queries)==null?void 0:f._experimental_beforeQuery)==null||p.call(f,a);const o=s.getQueryCache().get(a.queryHash);a._optimisticResults=n?"isRestoring":"optimistic",IV(a),OV(a,i,o),TV(i);const l=!s.getQueryCache().get(a.queryHash),[c]=I.useState(()=>new e(s,a)),d=c.getOptimisticResult(a),h=!n&&t.subscribed!==!1;if(I.useSyncExternalStore(I.useCallback(b=>{const g=h?c.subscribe(kt.batchCalls(b)):jr;return c.updateResult(),g},[c,h]),()=>c.getCurrentResult(),()=>c.getCurrentResult()),I.useEffect(()=>{c.setOptions(a)},[a,c]),xj(a,d))throw fp(a,c,i);if(PV({result:d,errorResetBoundary:i,throwOnError:a.throwOnError,query:o,suspense:a.suspense}))throw d.error;if((y=(m=s.getDefaultOptions().queries)==null?void 0:m._experimental_afterQuery)==null||y.call(m,a,d),a.experimental_prefetchInRender&&!No&&RV(d,n)){const b=l?fp(a,c,i):o==null?void 0:o.promise;b==null||b.catch(jr).finally(()=>{c.updateResult()})}return a.notifyOnChangeProps?d:c.trackResult(d)}function mt(t,e){return ete(t,eO)}function Ge(t,e){const r=tt(),[n]=I.useState(()=>new Vee(r,t));I.useEffect(()=>{n.setOptions(t)},[n,t]);const i=I.useSyncExternalStore(I.useCallback(a=>n.subscribe(kt.batchCalls(a)),[n]),()=>n.getCurrentResult(),()=>n.getCurrentResult()),s=I.useCallback((a,o)=>{n.mutate(a,o).catch(jr)},[n]);if(i.error&&JC(n.options.throwOnError,[i.error]))throw i.error;return{...i,mutate:s,mutateAsync:i.mutate}}function rO(){const t=window.prmConfig||{};return I.useMemo(()=>({isLoggedIn:t.isLoggedIn||!1,userId:t.userId||null,loginUrl:t.loginUrl||"/wp-login.php",logoutUrl:t.logoutUrl||"/wp-login.php?action=logout",isLoading:!1}),[t.isLoggedIn,t.userId,t.loginUrl,t.logoutUrl])}function $V(t,e){return function(){return t.apply(e,arguments)}}const{toString:tte}=Object.prototype,{getPrototypeOf:nO}=Object,{iterator:nm,toStringTag:kV}=Symbol,im=(t=>e=>{const r=tte.call(e);return t[r]||(t[r]=r.slice(8,-1).toLowerCase())})(Object.create(null)),mi=t=>(t=t.toLowerCase(),e=>im(e)===t),sm=t=>e=>typeof e===t,{isArray:$u}=Array,fu=sm("undefined");function Yd(t){return t!==null&&!fu(t)&&t.constructor!==null&&!fu(t.constructor)&&ln(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const DV=mi("ArrayBuffer");function rte(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&DV(t.buffer),e}const nte=sm("string"),ln=sm("function"),MV=sm("number"),Qd=t=>t!==null&&typeof t=="object",ite=t=>t===!0||t===!1,If=t=>{if(im(t)!=="object")return!1;const e=nO(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(kV in t)&&!(nm in t)},ste=t=>{if(!Qd(t)||Yd(t))return!1;try{return Object.keys(t).length===0&&Object.getPrototypeOf(t)===Object.prototype}catch{return!1}},ate=mi("Date"),ote=mi("File"),lte=mi("Blob"),ute=mi("FileList"),cte=t=>Qd(t)&&ln(t.pipe),dte=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||ln(t.append)&&((e=im(t))==="formdata"||e==="object"&&ln(t.toString)&&t.toString()==="[object FormData]"))},hte=mi("URLSearchParams"),[fte,pte,mte,vte]=["ReadableStream","Request","Response","Headers"].map(mi),gte=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Xd(t,e,{allOwnKeys:r=!1}={}){if(t===null||typeof t>"u")return;let n,i;if(typeof t!="object"&&(t=[t]),$u(t))for(n=0,i=t.length;n<i;n++)e.call(null,t[n],n,t);else{if(Yd(t))return;const s=r?Object.getOwnPropertyNames(t):Object.keys(t),a=s.length;let o;for(n=0;n<a;n++)o=s[n],e.call(null,t[o],o,t)}}function qV(t,e){if(Yd(t))return null;e=e.toLowerCase();const r=Object.keys(t);let n=r.length,i;for(;n-- >0;)if(i=r[n],e===i.toLowerCase())return i;return null}const Ka=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,AV=t=>!fu(t)&&t!==Ka;function wj(){const{caseless:t,skipUndefined:e}=AV(this)&&this||{},r={},n=(i,s)=>{const a=t&&qV(r,s)||s;If(r[a])&&If(i)?r[a]=wj(r[a],i):If(i)?r[a]=wj({},i):$u(i)?r[a]=i.slice():(!e||!fu(i))&&(r[a]=i)};for(let i=0,s=arguments.length;i<s;i++)arguments[i]&&Xd(arguments[i],n);return r}const yte=(t,e,r,{allOwnKeys:n}={})=>(Xd(e,(i,s)=>{r&&ln(i)?t[s]=$V(i,r):t[s]=i},{allOwnKeys:n}),t),bte=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),xte=(t,e,r,n)=>{t.prototype=Object.create(e.prototype,n),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),r&&Object.assign(t.prototype,r)},wte=(t,e,r,n)=>{let i,s,a;const o={};if(e=e||{},t==null)return e;do{for(i=Object.getOwnPropertyNames(t),s=i.length;s-- >0;)a=i[s],(!n||n(a,t,e))&&!o[a]&&(e[a]=t[a],o[a]=!0);t=r!==!1&&nO(t)}while(t&&(!r||r(t,e))&&t!==Object.prototype);return e},_te=(t,e,r)=>{t=String(t),(r===void 0||r>t.length)&&(r=t.length),r-=e.length;const n=t.indexOf(e,r);return n!==-1&&n===r},Ste=t=>{if(!t)return null;if($u(t))return t;let e=t.length;if(!MV(e))return null;const r=new Array(e);for(;e-- >0;)r[e]=t[e];return r},Ete=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&nO(Uint8Array)),Nte=(t,e)=>{const n=(t&&t[nm]).call(t);let i;for(;(i=n.next())&&!i.done;){const s=i.value;e.call(t,s[0],s[1])}},jte=(t,e)=>{let r;const n=[];for(;(r=t.exec(e))!==null;)n.push(r);return n},Cte=mi("HTMLFormElement"),Ote=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(r,n,i){return n.toUpperCase()+i}),xI=(({hasOwnProperty:t})=>(e,r)=>t.call(e,r))(Object.prototype),Tte=mi("RegExp"),FV=(t,e)=>{const r=Object.getOwnPropertyDescriptors(t),n={};Xd(r,(i,s)=>{let a;(a=e(i,s,t))!==!1&&(n[s]=a||i)}),Object.defineProperties(t,n)},Pte=t=>{FV(t,(e,r)=>{if(ln(t)&&["arguments","caller","callee"].indexOf(r)!==-1)return!1;const n=t[r];if(ln(n)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")})}})},Ite=(t,e)=>{const r={},n=i=>{i.forEach(s=>{r[s]=!0})};return $u(t)?n(t):n(String(t).split(e)),r},Rte=()=>{},$te=(t,e)=>t!=null&&Number.isFinite(t=+t)?t:e;function kte(t){return!!(t&&ln(t.append)&&t[kV]==="FormData"&&t[nm])}const Dte=t=>{const e=new Array(10),r=(n,i)=>{if(Qd(n)){if(e.indexOf(n)>=0)return;if(Yd(n))return n;if(!("toJSON"in n)){e[i]=n;const s=$u(n)?[]:{};return Xd(n,(a,o)=>{const l=r(a,i+1);!fu(l)&&(s[o]=l)}),e[i]=void 0,s}}return n};return r(t,0)},Mte=mi("AsyncFunction"),qte=t=>t&&(Qd(t)||ln(t))&&ln(t.then)&&ln(t.catch),LV=((t,e)=>t?setImmediate:e?((r,n)=>(Ka.addEventListener("message",({source:i,data:s})=>{i===Ka&&s===r&&n.length&&n.shift()()},!1),i=>{n.push(i),Ka.postMessage(r,"*")}))(`axios@${Math.random()}`,[]):r=>setTimeout(r))(typeof setImmediate=="function",ln(Ka.postMessage)),Ate=typeof queueMicrotask<"u"?queueMicrotask.bind(Ka):typeof process<"u"&&process.nextTick||LV,Fte=t=>t!=null&&ln(t[nm]),q={isArray:$u,isArrayBuffer:DV,isBuffer:Yd,isFormData:dte,isArrayBufferView:rte,isString:nte,isNumber:MV,isBoolean:ite,isObject:Qd,isPlainObject:If,isEmptyObject:ste,isReadableStream:fte,isRequest:pte,isResponse:mte,isHeaders:vte,isUndefined:fu,isDate:ate,isFile:ote,isBlob:lte,isRegExp:Tte,isFunction:ln,isStream:cte,isURLSearchParams:hte,isTypedArray:Ete,isFileList:ute,forEach:Xd,merge:wj,extend:yte,trim:gte,stripBOM:bte,inherits:xte,toFlatObject:wte,kindOf:im,kindOfTest:mi,endsWith:_te,toArray:Ste,forEachEntry:Nte,matchAll:jte,isHTMLForm:Cte,hasOwnProperty:xI,hasOwnProp:xI,reduceDescriptors:FV,freezeMethods:Pte,toObjectSet:Ite,toCamelCase:Ote,noop:Rte,toFiniteNumber:$te,findKey:qV,global:Ka,isContextDefined:AV,isSpecCompliantForm:kte,toJSONObject:Dte,isAsyncFn:Mte,isThenable:qte,setImmediate:LV,asap:Ate,isIterable:Fte};function Ie(t,e,r,n,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),r&&(this.config=r),n&&(this.request=n),i&&(this.response=i,this.status=i.status?i.status:null)}q.inherits(Ie,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:q.toJSONObject(this.config),code:this.code,status:this.status}}});const BV=Ie.prototype,zV={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{zV[t]={value:t}});Object.defineProperties(Ie,zV);Object.defineProperty(BV,"isAxiosError",{value:!0});Ie.from=(t,e,r,n,i,s)=>{const a=Object.create(BV);q.toFlatObject(t,a,function(d){return d!==Error.prototype},c=>c!=="isAxiosError");const o=t&&t.message?t.message:"Error",l=e==null&&t?t.code:e;return Ie.call(a,o,l,r,n,i),t&&a.cause==null&&Object.defineProperty(a,"cause",{value:t,configurable:!0}),a.name=t&&t.name||"Error",s&&Object.assign(a,s),a};const Lte=null;function _j(t){return q.isPlainObject(t)||q.isArray(t)}function UV(t){return q.endsWith(t,"[]")?t.slice(0,-2):t}function wI(t,e,r){return t?t.concat(e).map(function(i,s){return i=UV(i),!r&&s?"["+i+"]":i}).join(r?".":""):e}function Bte(t){return q.isArray(t)&&!t.some(_j)}const zte=q.toFlatObject(q,{},null,function(e){return/^is[A-Z]/.test(e)});function am(t,e,r){if(!q.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,r=q.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,function(y,b){return!q.isUndefined(b[y])});const n=r.metaTokens,i=r.visitor||d,s=r.dots,a=r.indexes,l=(r.Blob||typeof Blob<"u"&&Blob)&&q.isSpecCompliantForm(e);if(!q.isFunction(i))throw new TypeError("visitor must be a function");function c(m){if(m===null)return"";if(q.isDate(m))return m.toISOString();if(q.isBoolean(m))return m.toString();if(!l&&q.isBlob(m))throw new Ie("Blob is not supported. Use a Buffer instead.");return q.isArrayBuffer(m)||q.isTypedArray(m)?l&&typeof Blob=="function"?new Blob([m]):Buffer.from(m):m}function d(m,y,b){let g=m;if(m&&!b&&typeof m=="object"){if(q.endsWith(y,"{}"))y=n?y:y.slice(0,-2),m=JSON.stringify(m);else if(q.isArray(m)&&Bte(m)||(q.isFileList(m)||q.endsWith(y,"[]"))&&(g=q.toArray(m)))return y=UV(y),g.forEach(function(w,x){!(q.isUndefined(w)||w===null)&&e.append(a===!0?wI([y],x,s):a===null?y:y+"[]",c(w))}),!1}return _j(m)?!0:(e.append(wI(b,y,s),c(m)),!1)}const h=[],f=Object.assign(zte,{defaultVisitor:d,convertValue:c,isVisitable:_j});function p(m,y){if(!q.isUndefined(m)){if(h.indexOf(m)!==-1)throw Error("Circular reference detected in "+y.join("."));h.push(m),q.forEach(m,function(g,v){(!(q.isUndefined(g)||g===null)&&i.call(e,g,q.isString(v)?v.trim():v,y,f))===!0&&p(g,y?y.concat(v):[v])}),h.pop()}}if(!q.isObject(t))throw new TypeError("data must be an object");return p(t),e}function _I(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(n){return e[n]})}function iO(t,e){this._pairs=[],t&&am(t,this,e)}const WV=iO.prototype;WV.append=function(e,r){this._pairs.push([e,r])};WV.toString=function(e){const r=e?function(n){return e.call(this,n,_I)}:_I;return this._pairs.map(function(i){return r(i[0])+"="+r(i[1])},"").join("&")};function Ute(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function HV(t,e,r){if(!e)return t;const n=r&&r.encode||Ute;q.isFunction(r)&&(r={serialize:r});const i=r&&r.serialize;let s;if(i?s=i(e,r):s=q.isURLSearchParams(e)?e.toString():new iO(e,r).toString(n),s){const a=t.indexOf("#");a!==-1&&(t=t.slice(0,a)),t+=(t.indexOf("?")===-1?"?":"&")+s}return t}class SI{constructor(){this.handlers=[]}use(e,r,n){return this.handlers.push({fulfilled:e,rejected:r,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){q.forEach(this.handlers,function(n){n!==null&&e(n)})}}const VV={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Wte=typeof URLSearchParams<"u"?URLSearchParams:iO,Hte=typeof FormData<"u"?FormData:null,Vte=typeof Blob<"u"?Blob:null,Kte={isBrowser:!0,classes:{URLSearchParams:Wte,FormData:Hte,Blob:Vte},protocols:["http","https","file","blob","url","data"]},sO=typeof window<"u"&&typeof document<"u",Sj=typeof navigator=="object"&&navigator||void 0,Gte=sO&&(!Sj||["ReactNative","NativeScript","NS"].indexOf(Sj.product)<0),Yte=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",Qte=sO&&window.location.href||"http://localhost",Xte=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:sO,hasStandardBrowserEnv:Gte,hasStandardBrowserWebWorkerEnv:Yte,navigator:Sj,origin:Qte},Symbol.toStringTag,{value:"Module"})),Or={...Xte,...Kte};function Jte(t,e){return am(t,new Or.classes.URLSearchParams,{visitor:function(r,n,i,s){return Or.isNode&&q.isBuffer(r)?(this.append(n,r.toString("base64")),!1):s.defaultVisitor.apply(this,arguments)},...e})}function Zte(t){return q.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function ere(t){const e={},r=Object.keys(t);let n;const i=r.length;let s;for(n=0;n<i;n++)s=r[n],e[s]=t[s];return e}function KV(t){function e(r,n,i,s){let a=r[s++];if(a==="__proto__")return!0;const o=Number.isFinite(+a),l=s>=r.length;return a=!a&&q.isArray(i)?i.length:a,l?(q.hasOwnProp(i,a)?i[a]=[i[a],n]:i[a]=n,!o):((!i[a]||!q.isObject(i[a]))&&(i[a]=[]),e(r,n,i[a],s)&&q.isArray(i[a])&&(i[a]=ere(i[a])),!o)}if(q.isFormData(t)&&q.isFunction(t.entries)){const r={};return q.forEachEntry(t,(n,i)=>{e(Zte(n),i,r,0)}),r}return null}function tre(t,e,r){if(q.isString(t))try{return(e||JSON.parse)(t),q.trim(t)}catch(n){if(n.name!=="SyntaxError")throw n}return(r||JSON.stringify)(t)}const Jd={transitional:VV,adapter:["xhr","http","fetch"],transformRequest:[function(e,r){const n=r.getContentType()||"",i=n.indexOf("application/json")>-1,s=q.isObject(e);if(s&&q.isHTMLForm(e)&&(e=new FormData(e)),q.isFormData(e))return i?JSON.stringify(KV(e)):e;if(q.isArrayBuffer(e)||q.isBuffer(e)||q.isStream(e)||q.isFile(e)||q.isBlob(e)||q.isReadableStream(e))return e;if(q.isArrayBufferView(e))return e.buffer;if(q.isURLSearchParams(e))return r.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let o;if(s){if(n.indexOf("application/x-www-form-urlencoded")>-1)return Jte(e,this.formSerializer).toString();if((o=q.isFileList(e))||n.indexOf("multipart/form-data")>-1){const l=this.env&&this.env.FormData;return am(o?{"files[]":e}:e,l&&new l,this.formSerializer)}}return s||i?(r.setContentType("application/json",!1),tre(e)):e}],transformResponse:[function(e){const r=this.transitional||Jd.transitional,n=r&&r.forcedJSONParsing,i=this.responseType==="json";if(q.isResponse(e)||q.isReadableStream(e))return e;if(e&&q.isString(e)&&(n&&!this.responseType||i)){const a=!(r&&r.silentJSONParsing)&&i;try{return JSON.parse(e,this.parseReviver)}catch(o){if(a)throw o.name==="SyntaxError"?Ie.from(o,Ie.ERR_BAD_RESPONSE,this,null,this.response):o}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Or.classes.FormData,Blob:Or.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};q.forEach(["delete","get","head","post","put","patch"],t=>{Jd.headers[t]={}});const rre=q.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),nre=t=>{const e={};let r,n,i;return t&&t.split(`
`).forEach(function(a){i=a.indexOf(":"),r=a.substring(0,i).trim().toLowerCase(),n=a.substring(i+1).trim(),!(!r||e[r]&&rre[r])&&(r==="set-cookie"?e[r]?e[r].push(n):e[r]=[n]:e[r]=e[r]?e[r]+", "+n:n)}),e},EI=Symbol("internals");function _c(t){return t&&String(t).trim().toLowerCase()}function Rf(t){return t===!1||t==null?t:q.isArray(t)?t.map(Rf):String(t)}function ire(t){const e=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let n;for(;n=r.exec(t);)e[n[1]]=n[2];return e}const sre=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function _v(t,e,r,n,i){if(q.isFunction(n))return n.call(this,e,r);if(i&&(e=r),!!q.isString(e)){if(q.isString(n))return e.indexOf(n)!==-1;if(q.isRegExp(n))return n.test(e)}}function are(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,r,n)=>r.toUpperCase()+n)}function ore(t,e){const r=q.toCamelCase(" "+e);["get","set","has"].forEach(n=>{Object.defineProperty(t,n+r,{value:function(i,s,a){return this[n].call(this,e,i,s,a)},configurable:!0})})}let un=class{constructor(e){e&&this.set(e)}set(e,r,n){const i=this;function s(o,l,c){const d=_c(l);if(!d)throw new Error("header name must be a non-empty string");const h=q.findKey(i,d);(!h||i[h]===void 0||c===!0||c===void 0&&i[h]!==!1)&&(i[h||l]=Rf(o))}const a=(o,l)=>q.forEach(o,(c,d)=>s(c,d,l));if(q.isPlainObject(e)||e instanceof this.constructor)a(e,r);else if(q.isString(e)&&(e=e.trim())&&!sre(e))a(nre(e),r);else if(q.isObject(e)&&q.isIterable(e)){let o={},l,c;for(const d of e){if(!q.isArray(d))throw TypeError("Object iterator must return a key-value pair");o[c=d[0]]=(l=o[c])?q.isArray(l)?[...l,d[1]]:[l,d[1]]:d[1]}a(o,r)}else e!=null&&s(r,e,n);return this}get(e,r){if(e=_c(e),e){const n=q.findKey(this,e);if(n){const i=this[n];if(!r)return i;if(r===!0)return ire(i);if(q.isFunction(r))return r.call(this,i,n);if(q.isRegExp(r))return r.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,r){if(e=_c(e),e){const n=q.findKey(this,e);return!!(n&&this[n]!==void 0&&(!r||_v(this,this[n],n,r)))}return!1}delete(e,r){const n=this;let i=!1;function s(a){if(a=_c(a),a){const o=q.findKey(n,a);o&&(!r||_v(n,n[o],o,r))&&(delete n[o],i=!0)}}return q.isArray(e)?e.forEach(s):s(e),i}clear(e){const r=Object.keys(this);let n=r.length,i=!1;for(;n--;){const s=r[n];(!e||_v(this,this[s],s,e,!0))&&(delete this[s],i=!0)}return i}normalize(e){const r=this,n={};return q.forEach(this,(i,s)=>{const a=q.findKey(n,s);if(a){r[a]=Rf(i),delete r[s];return}const o=e?are(s):String(s).trim();o!==s&&delete r[s],r[o]=Rf(i),n[o]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const r=Object.create(null);return q.forEach(this,(n,i)=>{n!=null&&n!==!1&&(r[i]=e&&q.isArray(n)?n.join(", "):n)}),r}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,r])=>e+": "+r).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...r){const n=new this(e);return r.forEach(i=>n.set(i)),n}static accessor(e){const n=(this[EI]=this[EI]={accessors:{}}).accessors,i=this.prototype;function s(a){const o=_c(a);n[o]||(ore(i,a),n[o]=!0)}return q.isArray(e)?e.forEach(s):s(e),this}};un.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);q.reduceDescriptors(un.prototype,({value:t},e)=>{let r=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(n){this[r]=n}}});q.freezeMethods(un);function Sv(t,e){const r=this||Jd,n=e||r,i=un.from(n.headers);let s=n.data;return q.forEach(t,function(o){s=o.call(r,s,i.normalize(),e?e.status:void 0)}),i.normalize(),s}function GV(t){return!!(t&&t.__CANCEL__)}function ku(t,e,r){Ie.call(this,t??"canceled",Ie.ERR_CANCELED,e,r),this.name="CanceledError"}q.inherits(ku,Ie,{__CANCEL__:!0});function YV(t,e,r){const n=r.config.validateStatus;!r.status||!n||n(r.status)?t(r):e(new Ie("Request failed with status code "+r.status,[Ie.ERR_BAD_REQUEST,Ie.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r))}function lre(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function ure(t,e){t=t||10;const r=new Array(t),n=new Array(t);let i=0,s=0,a;return e=e!==void 0?e:1e3,function(l){const c=Date.now(),d=n[s];a||(a=c),r[i]=l,n[i]=c;let h=s,f=0;for(;h!==i;)f+=r[h++],h=h%t;if(i=(i+1)%t,i===s&&(s=(s+1)%t),c-a<e)return;const p=d&&c-d;return p?Math.round(f*1e3/p):void 0}}function cre(t,e){let r=0,n=1e3/e,i,s;const a=(c,d=Date.now())=>{r=d,i=null,s&&(clearTimeout(s),s=null),t(...c)};return[(...c)=>{const d=Date.now(),h=d-r;h>=n?a(c,d):(i=c,s||(s=setTimeout(()=>{s=null,a(i)},n-h)))},()=>i&&a(i)]}const mp=(t,e,r=3)=>{let n=0;const i=ure(50,250);return cre(s=>{const a=s.loaded,o=s.lengthComputable?s.total:void 0,l=a-n,c=i(l),d=a<=o;n=a;const h={loaded:a,total:o,progress:o?a/o:void 0,bytes:l,rate:c||void 0,estimated:c&&o&&d?(o-a)/c:void 0,event:s,lengthComputable:o!=null,[e?"download":"upload"]:!0};t(h)},r)},NI=(t,e)=>{const r=t!=null;return[n=>e[0]({lengthComputable:r,total:t,loaded:n}),e[1]]},jI=t=>(...e)=>q.asap(()=>t(...e)),dre=Or.hasStandardBrowserEnv?((t,e)=>r=>(r=new URL(r,Or.origin),t.protocol===r.protocol&&t.host===r.host&&(e||t.port===r.port)))(new URL(Or.origin),Or.navigator&&/(msie|trident)/i.test(Or.navigator.userAgent)):()=>!0,hre=Or.hasStandardBrowserEnv?{write(t,e,r,n,i,s,a){if(typeof document>"u")return;const o=[`${t}=${encodeURIComponent(e)}`];q.isNumber(r)&&o.push(`expires=${new Date(r).toUTCString()}`),q.isString(n)&&o.push(`path=${n}`),q.isString(i)&&o.push(`domain=${i}`),s===!0&&o.push("secure"),q.isString(a)&&o.push(`SameSite=${a}`),document.cookie=o.join("; ")},read(t){if(typeof document>"u")return null;const e=document.cookie.match(new RegExp("(?:^|; )"+t+"=([^;]*)"));return e?decodeURIComponent(e[1]):null},remove(t){this.write(t,"",Date.now()-864e5,"/")}}:{write(){},read(){return null},remove(){}};function fre(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function pre(t,e){return e?t.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):t}function QV(t,e,r){let n=!fre(e);return t&&(n||r==!1)?pre(t,e):e}const CI=t=>t instanceof un?{...t}:t;function Co(t,e){e=e||{};const r={};function n(c,d,h,f){return q.isPlainObject(c)&&q.isPlainObject(d)?q.merge.call({caseless:f},c,d):q.isPlainObject(d)?q.merge({},d):q.isArray(d)?d.slice():d}function i(c,d,h,f){if(q.isUndefined(d)){if(!q.isUndefined(c))return n(void 0,c,h,f)}else return n(c,d,h,f)}function s(c,d){if(!q.isUndefined(d))return n(void 0,d)}function a(c,d){if(q.isUndefined(d)){if(!q.isUndefined(c))return n(void 0,c)}else return n(void 0,d)}function o(c,d,h){if(h in e)return n(c,d);if(h in t)return n(void 0,c)}const l={url:s,method:s,data:s,baseURL:a,transformRequest:a,transformResponse:a,paramsSerializer:a,timeout:a,timeoutMessage:a,withCredentials:a,withXSRFToken:a,adapter:a,responseType:a,xsrfCookieName:a,xsrfHeaderName:a,onUploadProgress:a,onDownloadProgress:a,decompress:a,maxContentLength:a,maxBodyLength:a,beforeRedirect:a,transport:a,httpAgent:a,httpsAgent:a,cancelToken:a,socketPath:a,responseEncoding:a,validateStatus:o,headers:(c,d,h)=>i(CI(c),CI(d),h,!0)};return q.forEach(Object.keys({...t,...e}),function(d){const h=l[d]||i,f=h(t[d],e[d],d);q.isUndefined(f)&&h!==o||(r[d]=f)}),r}const XV=t=>{const e=Co({},t);let{data:r,withXSRFToken:n,xsrfHeaderName:i,xsrfCookieName:s,headers:a,auth:o}=e;if(e.headers=a=un.from(a),e.url=HV(QV(e.baseURL,e.url,e.allowAbsoluteUrls),t.params,t.paramsSerializer),o&&a.set("Authorization","Basic "+btoa((o.username||"")+":"+(o.password?unescape(encodeURIComponent(o.password)):""))),q.isFormData(r)){if(Or.hasStandardBrowserEnv||Or.hasStandardBrowserWebWorkerEnv)a.setContentType(void 0);else if(q.isFunction(r.getHeaders)){const l=r.getHeaders(),c=["content-type","content-length"];Object.entries(l).forEach(([d,h])=>{c.includes(d.toLowerCase())&&a.set(d,h)})}}if(Or.hasStandardBrowserEnv&&(n&&q.isFunction(n)&&(n=n(e)),n||n!==!1&&dre(e.url))){const l=i&&s&&hre.read(s);l&&a.set(i,l)}return e},mre=typeof XMLHttpRequest<"u",vre=mre&&function(t){return new Promise(function(r,n){const i=XV(t);let s=i.data;const a=un.from(i.headers).normalize();let{responseType:o,onUploadProgress:l,onDownloadProgress:c}=i,d,h,f,p,m;function y(){p&&p(),m&&m(),i.cancelToken&&i.cancelToken.unsubscribe(d),i.signal&&i.signal.removeEventListener("abort",d)}let b=new XMLHttpRequest;b.open(i.method.toUpperCase(),i.url,!0),b.timeout=i.timeout;function g(){if(!b)return;const w=un.from("getAllResponseHeaders"in b&&b.getAllResponseHeaders()),_={data:!o||o==="text"||o==="json"?b.responseText:b.response,status:b.status,statusText:b.statusText,headers:w,config:t,request:b};YV(function(N){r(N),y()},function(N){n(N),y()},_),b=null}"onloadend"in b?b.onloadend=g:b.onreadystatechange=function(){!b||b.readyState!==4||b.status===0&&!(b.responseURL&&b.responseURL.indexOf("file:")===0)||setTimeout(g)},b.onabort=function(){b&&(n(new Ie("Request aborted",Ie.ECONNABORTED,t,b)),b=null)},b.onerror=function(x){const _=x&&x.message?x.message:"Network Error",E=new Ie(_,Ie.ERR_NETWORK,t,b);E.event=x||null,n(E),b=null},b.ontimeout=function(){let x=i.timeout?"timeout of "+i.timeout+"ms exceeded":"timeout exceeded";const _=i.transitional||VV;i.timeoutErrorMessage&&(x=i.timeoutErrorMessage),n(new Ie(x,_.clarifyTimeoutError?Ie.ETIMEDOUT:Ie.ECONNABORTED,t,b)),b=null},s===void 0&&a.setContentType(null),"setRequestHeader"in b&&q.forEach(a.toJSON(),function(x,_){b.setRequestHeader(_,x)}),q.isUndefined(i.withCredentials)||(b.withCredentials=!!i.withCredentials),o&&o!=="json"&&(b.responseType=i.responseType),c&&([f,m]=mp(c,!0),b.addEventListener("progress",f)),l&&b.upload&&([h,p]=mp(l),b.upload.addEventListener("progress",h),b.upload.addEventListener("loadend",p)),(i.cancelToken||i.signal)&&(d=w=>{b&&(n(!w||w.type?new ku(null,t,b):w),b.abort(),b=null)},i.cancelToken&&i.cancelToken.subscribe(d),i.signal&&(i.signal.aborted?d():i.signal.addEventListener("abort",d)));const v=lre(i.url);if(v&&Or.protocols.indexOf(v)===-1){n(new Ie("Unsupported protocol "+v+":",Ie.ERR_BAD_REQUEST,t));return}b.send(s||null)})},gre=(t,e)=>{const{length:r}=t=t?t.filter(Boolean):[];if(e||r){let n=new AbortController,i;const s=function(c){if(!i){i=!0,o();const d=c instanceof Error?c:this.reason;n.abort(d instanceof Ie?d:new ku(d instanceof Error?d.message:d))}};let a=e&&setTimeout(()=>{a=null,s(new Ie(`timeout ${e} of ms exceeded`,Ie.ETIMEDOUT))},e);const o=()=>{t&&(a&&clearTimeout(a),a=null,t.forEach(c=>{c.unsubscribe?c.unsubscribe(s):c.removeEventListener("abort",s)}),t=null)};t.forEach(c=>c.addEventListener("abort",s));const{signal:l}=n;return l.unsubscribe=()=>q.asap(o),l}},yre=function*(t,e){let r=t.byteLength;if(r<e){yield t;return}let n=0,i;for(;n<r;)i=n+e,yield t.slice(n,i),n=i},bre=async function*(t,e){for await(const r of xre(t))yield*yre(r,e)},xre=async function*(t){if(t[Symbol.asyncIterator]){yield*t;return}const e=t.getReader();try{for(;;){const{done:r,value:n}=await e.read();if(r)break;yield n}}finally{await e.cancel()}},OI=(t,e,r,n)=>{const i=bre(t,e);let s=0,a,o=l=>{a||(a=!0,n&&n(l))};return new ReadableStream({async pull(l){try{const{done:c,value:d}=await i.next();if(c){o(),l.close();return}let h=d.byteLength;if(r){let f=s+=h;r(f)}l.enqueue(new Uint8Array(d))}catch(c){throw o(c),c}},cancel(l){return o(l),i.return()}},{highWaterMark:2})},TI=64*1024,{isFunction:af}=q,wre=(({Request:t,Response:e})=>({Request:t,Response:e}))(q.global),{ReadableStream:PI,TextEncoder:II}=q.global,RI=(t,...e)=>{try{return!!t(...e)}catch{return!1}},_re=t=>{t=q.merge.call({skipUndefined:!0},wre,t);const{fetch:e,Request:r,Response:n}=t,i=e?af(e):typeof fetch=="function",s=af(r),a=af(n);if(!i)return!1;const o=i&&af(PI),l=i&&(typeof II=="function"?(m=>y=>m.encode(y))(new II):async m=>new Uint8Array(await new r(m).arrayBuffer())),c=s&&o&&RI(()=>{let m=!1;const y=new r(Or.origin,{body:new PI,method:"POST",get duplex(){return m=!0,"half"}}).headers.has("Content-Type");return m&&!y}),d=a&&o&&RI(()=>q.isReadableStream(new n("").body)),h={stream:d&&(m=>m.body)};i&&["text","arrayBuffer","blob","formData","stream"].forEach(m=>{!h[m]&&(h[m]=(y,b)=>{let g=y&&y[m];if(g)return g.call(y);throw new Ie(`Response type '${m}' is not supported`,Ie.ERR_NOT_SUPPORT,b)})});const f=async m=>{if(m==null)return 0;if(q.isBlob(m))return m.size;if(q.isSpecCompliantForm(m))return(await new r(Or.origin,{method:"POST",body:m}).arrayBuffer()).byteLength;if(q.isArrayBufferView(m)||q.isArrayBuffer(m))return m.byteLength;if(q.isURLSearchParams(m)&&(m=m+""),q.isString(m))return(await l(m)).byteLength},p=async(m,y)=>{const b=q.toFiniteNumber(m.getContentLength());return b??f(y)};return async m=>{let{url:y,method:b,data:g,signal:v,cancelToken:w,timeout:x,onDownloadProgress:_,onUploadProgress:E,responseType:N,headers:S,withCredentials:j="same-origin",fetchOptions:C}=XV(m),O=e||fetch;N=N?(N+"").toLowerCase():"text";let T=gre([v,w&&w.toAbortSignal()],x),P=null;const D=T&&T.unsubscribe&&(()=>{T.unsubscribe()});let F;try{if(E&&c&&b!=="get"&&b!=="head"&&(F=await p(S,g))!==0){let z=new r(y,{method:"POST",body:g,duplex:"half"}),K;if(q.isFormData(g)&&(K=z.headers.get("content-type"))&&S.setContentType(K),z.body){const[fe,xe]=NI(F,mp(jI(E)));g=OI(z.body,TI,fe,xe)}}q.isString(j)||(j=j?"include":"omit");const Q=s&&"credentials"in r.prototype,H={...C,signal:T,method:b.toUpperCase(),headers:S.normalize().toJSON(),body:g,duplex:"half",credentials:Q?j:void 0};P=s&&new r(y,H);let L=await(s?O(P,C):O(y,H));const V=d&&(N==="stream"||N==="response");if(d&&(_||V&&D)){const z={};["status","statusText","headers"].forEach(Re=>{z[Re]=L[Re]});const K=q.toFiniteNumber(L.headers.get("content-length")),[fe,xe]=_&&NI(K,mp(jI(_),!0))||[];L=new n(OI(L.body,TI,fe,()=>{xe&&xe(),D&&D()}),z)}N=N||"text";let W=await h[q.findKey(h,N)||"text"](L,m);return!V&&D&&D(),await new Promise((z,K)=>{YV(z,K,{data:W,headers:un.from(L.headers),status:L.status,statusText:L.statusText,config:m,request:P})})}catch(Q){throw D&&D(),Q&&Q.name==="TypeError"&&/Load failed|fetch/i.test(Q.message)?Object.assign(new Ie("Network Error",Ie.ERR_NETWORK,m,P),{cause:Q.cause||Q}):Ie.from(Q,Q&&Q.code,m,P)}}},Sre=new Map,JV=t=>{let e=t&&t.env||{};const{fetch:r,Request:n,Response:i}=e,s=[n,i,r];let a=s.length,o=a,l,c,d=Sre;for(;o--;)l=s[o],c=d.get(l),c===void 0&&d.set(l,c=o?new Map:_re(e)),d=c;return c};JV();const aO={http:Lte,xhr:vre,fetch:{get:JV}};q.forEach(aO,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const $I=t=>`- ${t}`,Ere=t=>q.isFunction(t)||t===null||t===!1;function Nre(t,e){t=q.isArray(t)?t:[t];const{length:r}=t;let n,i;const s={};for(let a=0;a<r;a++){n=t[a];let o;if(i=n,!Ere(n)&&(i=aO[(o=String(n)).toLowerCase()],i===void 0))throw new Ie(`Unknown adapter '${o}'`);if(i&&(q.isFunction(i)||(i=i.get(e))))break;s[o||"#"+a]=i}if(!i){const a=Object.entries(s).map(([l,c])=>`adapter ${l} `+(c===!1?"is not supported by the environment":"is not available in the build"));let o=r?a.length>1?`since :
`+a.map($I).join(`
`):" "+$I(a[0]):"as no adapter specified";throw new Ie("There is no suitable adapter to dispatch the request "+o,"ERR_NOT_SUPPORT")}return i}const ZV={getAdapter:Nre,adapters:aO};function Ev(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new ku(null,t)}function kI(t){return Ev(t),t.headers=un.from(t.headers),t.data=Sv.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),ZV.getAdapter(t.adapter||Jd.adapter,t)(t).then(function(n){return Ev(t),n.data=Sv.call(t,t.transformResponse,n),n.headers=un.from(n.headers),n},function(n){return GV(n)||(Ev(t),n&&n.response&&(n.response.data=Sv.call(t,t.transformResponse,n.response),n.response.headers=un.from(n.response.headers))),Promise.reject(n)})}const eK="1.13.2",om={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{om[t]=function(n){return typeof n===t||"a"+(e<1?"n ":" ")+t}});const DI={};om.transitional=function(e,r,n){function i(s,a){return"[Axios v"+eK+"] Transitional option '"+s+"'"+a+(n?". "+n:"")}return(s,a,o)=>{if(e===!1)throw new Ie(i(a," has been removed"+(r?" in "+r:"")),Ie.ERR_DEPRECATED);return r&&!DI[a]&&(DI[a]=!0,console.warn(i(a," has been deprecated since v"+r+" and will be removed in the near future"))),e?e(s,a,o):!0}};om.spelling=function(e){return(r,n)=>(console.warn(`${n} is likely a misspelling of ${e}`),!0)};function jre(t,e,r){if(typeof t!="object")throw new Ie("options must be an object",Ie.ERR_BAD_OPTION_VALUE);const n=Object.keys(t);let i=n.length;for(;i-- >0;){const s=n[i],a=e[s];if(a){const o=t[s],l=o===void 0||a(o,s,t);if(l!==!0)throw new Ie("option "+s+" must be "+l,Ie.ERR_BAD_OPTION_VALUE);continue}if(r!==!0)throw new Ie("Unknown option "+s,Ie.ERR_BAD_OPTION)}}const $f={assertOptions:jre,validators:om},xi=$f.validators;let ho=class{constructor(e){this.defaults=e||{},this.interceptors={request:new SI,response:new SI}}async request(e,r){try{return await this._request(e,r)}catch(n){if(n instanceof Error){let i={};Error.captureStackTrace?Error.captureStackTrace(i):i=new Error;const s=i.stack?i.stack.replace(/^.+\n/,""):"";try{n.stack?s&&!String(n.stack).endsWith(s.replace(/^.+\n.+\n/,""))&&(n.stack+=`
`+s):n.stack=s}catch{}}throw n}}_request(e,r){typeof e=="string"?(r=r||{},r.url=e):r=e||{},r=Co(this.defaults,r);const{transitional:n,paramsSerializer:i,headers:s}=r;n!==void 0&&$f.assertOptions(n,{silentJSONParsing:xi.transitional(xi.boolean),forcedJSONParsing:xi.transitional(xi.boolean),clarifyTimeoutError:xi.transitional(xi.boolean)},!1),i!=null&&(q.isFunction(i)?r.paramsSerializer={serialize:i}:$f.assertOptions(i,{encode:xi.function,serialize:xi.function},!0)),r.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?r.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:r.allowAbsoluteUrls=!0),$f.assertOptions(r,{baseUrl:xi.spelling("baseURL"),withXsrfToken:xi.spelling("withXSRFToken")},!0),r.method=(r.method||this.defaults.method||"get").toLowerCase();let a=s&&q.merge(s.common,s[r.method]);s&&q.forEach(["delete","get","head","post","put","patch","common"],m=>{delete s[m]}),r.headers=un.concat(a,s);const o=[];let l=!0;this.interceptors.request.forEach(function(y){typeof y.runWhen=="function"&&y.runWhen(r)===!1||(l=l&&y.synchronous,o.unshift(y.fulfilled,y.rejected))});const c=[];this.interceptors.response.forEach(function(y){c.push(y.fulfilled,y.rejected)});let d,h=0,f;if(!l){const m=[kI.bind(this),void 0];for(m.unshift(...o),m.push(...c),f=m.length,d=Promise.resolve(r);h<f;)d=d.then(m[h++],m[h++]);return d}f=o.length;let p=r;for(;h<f;){const m=o[h++],y=o[h++];try{p=m(p)}catch(b){y.call(this,b);break}}try{d=kI.call(this,p)}catch(m){return Promise.reject(m)}for(h=0,f=c.length;h<f;)d=d.then(c[h++],c[h++]);return d}getUri(e){e=Co(this.defaults,e);const r=QV(e.baseURL,e.url,e.allowAbsoluteUrls);return HV(r,e.params,e.paramsSerializer)}};q.forEach(["delete","get","head","options"],function(e){ho.prototype[e]=function(r,n){return this.request(Co(n||{},{method:e,url:r,data:(n||{}).data}))}});q.forEach(["post","put","patch"],function(e){function r(n){return function(s,a,o){return this.request(Co(o||{},{method:e,headers:n?{"Content-Type":"multipart/form-data"}:{},url:s,data:a}))}}ho.prototype[e]=r(),ho.prototype[e+"Form"]=r(!0)});let Cre=class tK{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let r;this.promise=new Promise(function(s){r=s});const n=this;this.promise.then(i=>{if(!n._listeners)return;let s=n._listeners.length;for(;s-- >0;)n._listeners[s](i);n._listeners=null}),this.promise.then=i=>{let s;const a=new Promise(o=>{n.subscribe(o),s=o}).then(i);return a.cancel=function(){n.unsubscribe(s)},a},e(function(s,a,o){n.reason||(n.reason=new ku(s,a,o),r(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const r=this._listeners.indexOf(e);r!==-1&&this._listeners.splice(r,1)}toAbortSignal(){const e=new AbortController,r=n=>{e.abort(n)};return this.subscribe(r),e.signal.unsubscribe=()=>this.unsubscribe(r),e.signal}static source(){let e;return{token:new tK(function(i){e=i}),cancel:e}}};function Ore(t){return function(r){return t.apply(null,r)}}function Tre(t){return q.isObject(t)&&t.isAxiosError===!0}const Ej={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(Ej).forEach(([t,e])=>{Ej[e]=t});function rK(t){const e=new ho(t),r=$V(ho.prototype.request,e);return q.extend(r,ho.prototype,e,{allOwnKeys:!0}),q.extend(r,e,null,{allOwnKeys:!0}),r.create=function(i){return rK(Co(t,i))},r}const Ft=rK(Jd);Ft.Axios=ho;Ft.CanceledError=ku;Ft.CancelToken=Cre;Ft.isCancel=GV;Ft.VERSION=eK;Ft.toFormData=am;Ft.AxiosError=Ie;Ft.Cancel=Ft.CanceledError;Ft.all=function(e){return Promise.all(e)};Ft.spread=Ore;Ft.isAxiosError=Tre;Ft.mergeConfig=Co;Ft.AxiosHeaders=un;Ft.formToJSON=t=>KV(q.isHTMLForm(t)?new FormData(t):t);Ft.getAdapter=ZV.getAdapter;Ft.HttpStatusCode=Ej;Ft.default=Ft;const{Axios:Exe,AxiosError:Nxe,CanceledError:jxe,isCancel:Cxe,CancelToken:Oxe,VERSION:Txe,all:Pxe,Cancel:Ixe,isAxiosError:Rxe,spread:$xe,toFormData:kxe,AxiosHeaders:Dxe,HttpStatusCode:Mxe,formToJSON:qxe,getAdapter:Axe,mergeConfig:Fxe}=Ft,Nj=window.prmConfig||{},ue=Ft.create({baseURL:Nj.apiUrl||"/wp-json",headers:{"Content-Type":"application/json","X-WP-Nonce":Nj.nonce||""}});ue.interceptors.request.use(t=>{var e;return(e=window.prmConfig)!=null&&e.nonce&&(t.headers["X-WP-Nonce"]=window.prmConfig.nonce),t});ue.interceptors.response.use(t=>t,t=>{var e,r;return((e=t.response)==null?void 0:e.status)===401&&(window.location.href=Nj.loginUrl||"/wp-login.php"),((r=t.response)==null?void 0:r.status)===403&&console.error("Access denied:",t.response.data),Promise.reject(t)});const We={getPeople:t=>ue.get("/wp/v2/people",{params:t}),getPerson:(t,e={})=>ue.get(`/wp/v2/people/${t}`,{params:e}),createPerson:t=>ue.post("/wp/v2/people",t),updatePerson:(t,e)=>ue.put(`/wp/v2/people/${t}`,e),deletePerson:(t,e={})=>ue.delete(`/wp/v2/people/${t}`,{params:e}),getCompanies:t=>ue.get("/wp/v2/companies",{params:t}),getCompany:(t,e={})=>ue.get(`/wp/v2/companies/${t}`,{params:e}),createCompany:t=>ue.post("/wp/v2/companies",t),updateCompany:(t,e)=>ue.put(`/wp/v2/companies/${t}`,e),deleteCompany:(t,e={})=>ue.delete(`/wp/v2/companies/${t}`,{params:e}),getDates:t=>ue.get("/wp/v2/important-dates",{params:t}),getDate:t=>ue.get(`/wp/v2/important-dates/${t}`),createDate:t=>ue.post("/wp/v2/important-dates",t),updateDate:(t,e)=>ue.put(`/wp/v2/important-dates/${t}`,e),deleteDate:t=>ue.delete(`/wp/v2/important-dates/${t}`),getPersonLabels:()=>ue.get("/wp/v2/person_label"),getCompanyLabels:()=>ue.get("/wp/v2/company_label"),getRelationshipTypes:()=>ue.get("/wp/v2/relationship_type",{params:{per_page:100,_fields:"id,name,slug,acf"}}),createRelationshipType:t=>ue.post("/wp/v2/relationship_type",t),updateRelationshipType:(t,e)=>ue.post(`/wp/v2/relationship_type/${t}`,e),deleteRelationshipType:t=>ue.delete(`/wp/v2/relationship_type/${t}?force=true`),restoreRelationshipTypeDefaults:()=>ue.post("/prm/v1/relationship-types/restore-defaults"),getDateTypes:()=>ue.get("/wp/v2/date_type",{params:{per_page:100}}),uploadMedia:t=>{const e=new FormData;return e.append("file",t),ue.post("/wp/v2/media",e,{headers:{"Content-Type":"multipart/form-data"}})}},$e={getDashboard:()=>ue.get("/prm/v1/dashboard"),sideloadGravatar:(t,e)=>ue.post(`/prm/v1/people/${t}/gravatar`,{email:e}),getCurrentUser:()=>ue.get("/prm/v1/user/me"),getUsers:()=>ue.get("/prm/v1/users"),approveUser:t=>ue.post(`/prm/v1/users/${t}/approve`),denyUser:t=>ue.post(`/prm/v1/users/${t}/deny`),deleteUser:t=>ue.delete(`/prm/v1/users/${t}`),search:t=>ue.get("/prm/v1/search",{params:{q:t}}),getReminders:(t=30)=>ue.get("/prm/v1/reminders",{params:{days_ahead:t}}),triggerReminders:()=>ue.post("/prm/v1/reminders/trigger"),rescheduleCronJobs:()=>ue.post("/prm/v1/reminders/reschedule-cron"),getNotificationChannels:()=>ue.get("/prm/v1/user/notification-channels"),updateNotificationChannels:t=>ue.post("/prm/v1/user/notification-channels",{channels:t}),updateSlackWebhook:t=>ue.post("/prm/v1/user/slack-webhook",{webhook:t}),updateNotificationTime:t=>ue.post("/prm/v1/user/notification-time",{time:t}),getSlackStatus:()=>ue.get("/prm/v1/user/slack-status"),disconnectSlack:()=>ue.post("/prm/v1/slack/disconnect"),getSlackChannels:()=>ue.get("/prm/v1/slack/channels"),getSlackTargets:()=>ue.get("/prm/v1/slack/targets"),updateSlackTargets:t=>ue.post("/prm/v1/slack/targets",{targets:t}),getPersonDates:t=>ue.get(`/prm/v1/people/${t}/dates`),getPersonTimeline:t=>ue.get(`/prm/v1/people/${t}/timeline`),getPersonNotes:t=>ue.get(`/prm/v1/people/${t}/notes`),createNote:(t,e)=>ue.post(`/prm/v1/people/${t}/notes`,{content:e}),updateNote:(t,e)=>ue.put(`/prm/v1/notes/${t}`,{content:e}),deleteNote:t=>ue.delete(`/prm/v1/notes/${t}`),getPersonActivities:t=>ue.get(`/prm/v1/people/${t}/activities`),createActivity:(t,e)=>ue.post(`/prm/v1/people/${t}/activities`,e),updateActivity:(t,e)=>ue.put(`/prm/v1/activities/${t}`,e),deleteActivity:t=>ue.delete(`/prm/v1/activities/${t}`),getAllTodos:(t=!1)=>ue.get("/prm/v1/todos",{params:{completed:t}}),getPersonTodos:t=>ue.get(`/prm/v1/people/${t}/todos`),createTodo:(t,e)=>ue.post(`/prm/v1/people/${t}/todos`,e),updateTodo:(t,e)=>ue.put(`/prm/v1/todos/${t}`,e),deleteTodo:t=>ue.delete(`/prm/v1/todos/${t}`),getCompanyPeople:t=>ue.get(`/prm/v1/companies/${t}/people`),setCompanyLogo:(t,e)=>ue.post(`/prm/v1/companies/${t}/logo`,{media_id:e}),uploadPersonPhoto:(t,e)=>{const r=new FormData;return r.append("file",e),ue.post(`/prm/v1/people/${t}/photo`,r,{headers:{"Content-Type":"multipart/form-data"}})},uploadCompanyLogo:(t,e)=>{const r=new FormData;return r.append("file",e),ue.post(`/prm/v1/companies/${t}/logo/upload`,r,{headers:{"Content-Type":"multipart/form-data"}})}};/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Pre={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ire=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),ye=(t,e)=>{const r=I.forwardRef(({color:n="currentColor",size:i=24,strokeWidth:s=2,absoluteStrokeWidth:a,className:o="",children:l,...c},d)=>I.createElement("svg",{ref:d,...Pre,width:i,height:i,stroke:n,strokeWidth:a?Number(s)*24/Number(i):s,className:["lucide",`lucide-${Ire(t)}`,o].join(" "),...c},[...e.map(([h,f])=>I.createElement(h,f)),...Array.isArray(l)?l:[l]]));return r.displayName=`${t}`,r};/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ba=ye("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rre=ye("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $re=ye("ArrowDown",[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const En=ye("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nv=ye("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kre=ye("ArrowUp",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dre=ye("Briefcase",[["rect",{width:"20",height:"14",x:"2",y:"7",rx:"2",ry:"2",key:"eto64e"}],["path",{d:"M16 21V5a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"zwj3tp"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mi=ye("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nK=ye("Cake",[["path",{d:"M20 21v-8a2 2 0 0 0-2-2H6a2 2 0 0 0-2 2v8",key:"1w3rig"}],["path",{d:"M4 16s.5-1 2-1 2.5 2 4 2 2.5-2 4-2 2.5 2 4 2 2-1 2-1",key:"n2jgmb"}],["path",{d:"M2 21h20",key:"1nyx9w"}],["path",{d:"M7 8v3",key:"1qtyvj"}],["path",{d:"M12 8v3",key:"hwp4zt"}],["path",{d:"M17 8v3",key:"1i6e5u"}],["path",{d:"M7 4h0.01",key:"hsw7lv"}],["path",{d:"M12 4h0.01",key:"1e3d8f"}],["path",{d:"M17 4h0.01",key:"p7cxgy"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ca=ye("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kf=ye("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MI=ye("CheckCircle2",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pu=ye("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jj=ye("CheckSquare2",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rs=ye("CheckSquare",[["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}],["path",{d:"M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11",key:"1jnkn4"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qI=ye("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iK=ye("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cj=ye("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sK=ye("Coffee",[["path",{d:"M17 8h1a4 4 0 1 1 0 8h-1",key:"jx4kbh"}],["path",{d:"M3 8h14v9a4 4 0 0 1-4 4H7a4 4 0 0 1-4-4Z",key:"1bxrl0"}],["line",{x1:"6",x2:"6",y1:"2",y2:"4",key:"1cr9l3"}],["line",{x1:"10",x2:"10",y1:"2",y2:"4",key:"170wym"}],["line",{x1:"14",x2:"14",y1:"2",y2:"4",key:"1c5f70"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mre=ye("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oj=ye("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lm=ye("FileCode",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["path",{d:"m10 13-2 2 2 2",key:"17smn8"}],["path",{d:"m14 17 2-2-2-2",key:"14mezr"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oO=ye("FileSpreadsheet",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["path",{d:"M8 13h2",key:"yr2amv"}],["path",{d:"M8 17h2",key:"2yhykz"}],["path",{d:"M14 13h2",key:"un5t4a"}],["path",{d:"M14 17h2",key:"10kma7"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lO=ye("FileText",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["line",{x1:"16",x2:"8",y1:"13",y2:"13",key:"14keom"}],["line",{x1:"16",x2:"8",y1:"17",y2:"17",key:"17nazh"}],["line",{x1:"10",x2:"8",y1:"9",y2:"9",key:"1a5vjj"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tj=ye("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qre=ye("Gift",[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Df=ye("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Are=ye("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fre=ye("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aK=ye("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oK=ye("Link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oo=ye("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lre=ye("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uO=ye("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bre=ye("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zre=ye("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ure=ye("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wre=ye("Pen",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const za=ye("Pencil",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cO=ye("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mt=ye("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hre=ye("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lK=ye("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xa=ye("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vp=ye("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uK=ye("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cK=ye("ShieldAlert",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vre=ye("SkipForward",[["polygon",{points:"5 4 15 12 5 20 5 4",key:"16p6eg"}],["line",{x1:"19",x2:"19",y1:"5",y2:"19",key:"futhcm"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dK=ye("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hK=ye("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a2.121 2.121 0 1 1 3 3L12 15l-4 1 1-4Z",key:"1lpok0"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mu=ye("Square",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vu=ye("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fK=ye("StickyNote",[["path",{d:"M15.5 3H5a2 2 0 0 0-2 2v14c0 1.1.9 2 2 2h14a2 2 0 0 0 2-2V8.5L15.5 3Z",key:"1wis1t"}],["path",{d:"M15 3v6h6",key:"edgan2"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const An=ye("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gu=ye("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kre=ye("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sd=ye("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $i=ye("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pK=ye("Utensils",[["path",{d:"M3 2v7c0 1.1.9 2 2 2h4a2 2 0 0 0 2-2V2",key:"cjf0a3"}],["path",{d:"M7 2v20",key:"1473qp"}],["path",{d:"M21 15V2v0a5 5 0 0 0-5 5v6c0 1.1.9 2 2 2h3Zm0 0v7",key:"1ogz0v"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AI=ye("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cn=ye("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gre=ye("ZoomIn",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"11",x2:"11",y1:"8",y2:"14",key:"1vmskp"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yre=ye("ZoomOut",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]]),yu="Caelis";function fn(t){I.useEffect(()=>{var e;if(t){const r=((e=window.prmConfig)==null?void 0:e.siteName)||yu;document.title=`${t} - ${r}`}},[t])}function Qre(t){const e=t.match(/\/(?:people|companies|dates)\/(\d+)/);return e?e[1]:null}function mK(t=null){const e=ws();I.useEffect(()=>{var i;let r=t;if(!r){const s=e.pathname,a=Qre(s);s==="/"?r="Dashboard":s==="/login"?r="Login":s.startsWith("/people")?s==="/people"||s==="/people/"?r="People":s==="/people/new"?r="New person":s.endsWith("/edit")?r="Edit person":a?r="Person":r="People":s.startsWith("/companies")?s==="/companies"||s==="/companies/"?r="Organizations":s==="/companies/new"?r="New organization":s.endsWith("/edit")?r="Edit organization":a?r="Organization":r="Organizations":s.startsWith("/dates")?s==="/dates"||s==="/dates/"?r="Events":s==="/dates/new"?r="New date":s.endsWith("/edit")?r="Edit date":r="Events":s.startsWith("/settings")?r="Settings":r=yu}const n=((i=window.prmConfig)==null?void 0:i.siteName)||yu;document.title=`${r} - ${n}`},[e.pathname,t])}function Xre(){return mt({queryKey:["dashboard"],queryFn:async()=>(await $e.getDashboard()).data})}function Jre(t=30){return mt({queryKey:["reminders",t],queryFn:async()=>(await $e.getReminders(t)).data})}function vK(t=!1){return mt({queryKey:["todos",t],queryFn:async()=>(await $e.getAllTodos(t)).data})}function gK(){const t=tt();return Ge({mutationFn:({todoId:e,data:r})=>$e.updateTodo(e,r),onSuccess:()=>{t.invalidateQueries({queryKey:["todos"]}),t.invalidateQueries({queryKey:["dashboard"]})}})}function Zre(){const t=tt();return Ge({mutationFn:e=>$e.deleteTodo(e),onSuccess:()=>{t.invalidateQueries({queryKey:["todos"]}),t.invalidateQueries({queryKey:["dashboard"]})}})}function ene(t){const e=typeof t=="string"?t:"",r=e.length>=2;return mt({queryKey:["search",e],queryFn:async()=>r?(await $e.search(e)).data:{people:[],companies:[]},enabled:r})}function ui(t){if(!t)return"";const e=document.createElement("textarea");return e.innerHTML=t,e.value}function ns(t){var r;if(!t)return"";const e=((r=t.title)==null?void 0:r.rendered)||t.title||t.name||"";return ui(e)}function fo(t){var r,n;if(!t)return"";if(t.name&&typeof t.name=="string"&&!((r=t.title)!=null&&r.rendered))return ui(t.name);const e=((n=t.title)==null?void 0:n.rendered)||t.title||t.name||"";return ui(e)}function Ga(t,e={}){const r=["gender"],n=["contact_info","work_history","relationships","photo_gallery"],i={...t};return r.forEach(s=>{i[s]===""&&(i[s]=null)}),n.forEach(s=>{Array.isArray(i[s])||(i[s]=[])}),Object.assign(i,e),i}const gt={all:["people"],lists:()=>[...gt.all,"list"],list:t=>[...gt.lists(),t],details:()=>[...gt.all,"detail"],detail:t=>[...gt.details(),t],timeline:t=>[...gt.detail(t),"timeline"],dates:t=>[...gt.detail(t),"dates"]};function yK(t){var i,s,a,o,l,c,d,h,f,p,m,y,b,g,v,w,x;const e=((a=(s=(i=t._embedded)==null?void 0:i["wp:featuredmedia"])==null?void 0:s[0])==null?void 0:a.source_url)||((f=(h=(d=(c=(l=(o=t._embedded)==null?void 0:o["wp:featuredmedia"])==null?void 0:l[0])==null?void 0:c.media_details)==null?void 0:d.sizes)==null?void 0:h.thumbnail)==null?void 0:f.source_url)||null,r=((b=(y=(m=(p=t._embedded)==null?void 0:p["wp:term"])==null?void 0:m.flat())==null?void 0:y.filter(_=>(_==null?void 0:_.taxonomy)==="person_label"))==null?void 0:b.map(_=>_.name))||[],n=ui(((g=t.title)==null?void 0:g.rendered)||"");return{...t,id:t.id,name:n,first_name:((v=t.acf)==null?void 0:v.first_name)||"",last_name:((w=t.acf)==null?void 0:w.last_name)||"",is_favorite:((x=t.acf)==null?void 0:x.is_favorite)||!1,thumbnail:e,labels:r}}function Bo(t={}){return mt({queryKey:gt.list(t),queryFn:async()=>{const e=[];let r=1;const n=100;for(;;){const i=await We.getPeople({per_page:n,page:r,_embed:!0,...t}),s=i.data.map(yK);if(e.push(...s),s.length<n)break;const a=parseInt(i.headers["x-wp-totalpages"]||i.headers["X-WP-TotalPages"]||"0",10);if(a>0&&r>=a)break;r++}return e}})}function Du(t){return mt({queryKey:gt.detail(t),queryFn:async()=>{const e=await We.getPerson(t,{_embed:!0});return yK(e.data)},enabled:!!t})}function tne(t){return mt({queryKey:gt.timeline(t),queryFn:async()=>(await $e.getPersonTimeline(t)).data,enabled:!!t})}function rne(t){return mt({queryKey:gt.dates(t),queryFn:async()=>(await $e.getPersonDates(t)).data,enabled:!!t})}function nne(){const t=tt();return Ge({mutationFn:e=>We.createPerson(e),onSuccess:()=>{t.invalidateQueries({queryKey:gt.lists()})}})}function Zd(){const t=tt();return Ge({mutationFn:({id:e,data:r})=>We.updatePerson(e,r),onSuccess:(e,{id:r,data:n})=>{var i;t.invalidateQueries({queryKey:gt.detail(r)}),t.invalidateQueries({queryKey:gt.lists()}),(i=n==null?void 0:n.acf)!=null&&i.relationships&&(Array.isArray(n.acf.relationships)?n.acf.relationships:[]).forEach(a=>{const o=a.related_person;o&&t.invalidateQueries({queryKey:gt.detail(o)})})}})}function ine(){const t=tt();return Ge({mutationFn:e=>We.deletePerson(e,{force:!0}),onSuccess:()=>{t.invalidateQueries({queryKey:gt.lists()}),t.invalidateQueries({queryKey:gt.details()})}})}function sne(){const t=tt();return Ge({mutationFn:({personId:e,content:r})=>$e.createNote(e,r),onSuccess:(e,{personId:r})=>{t.invalidateQueries({queryKey:gt.timeline(r)})}})}function ane(){const t=tt();return Ge({mutationFn:({noteId:e,personId:r})=>$e.deleteNote(e),onSuccess:(e,{personId:r})=>{t.invalidateQueries({queryKey:gt.timeline(r)})}})}function one(){const t=tt();return Ge({mutationFn:({personId:e,data:r})=>$e.createActivity(e,r),onSuccess:(e,{personId:r})=>{t.invalidateQueries({queryKey:gt.timeline(r)})}})}function lne(){const t=tt();return Ge({mutationFn:({activityId:e,personId:r})=>$e.deleteActivity(e),onSuccess:(e,{personId:r})=>{r&&t.invalidateQueries({queryKey:gt.timeline(r)})}})}function bK(){const t=tt();return Ge({mutationFn:({personId:e,data:r})=>$e.createTodo(e,r),onSuccess:(e,{personId:r})=>{t.invalidateQueries({queryKey:gt.timeline(r)})}})}function une(){const t=tt();return Ge({mutationFn:({todoId:e,data:r,personId:n})=>$e.updateTodo(e,r),onSuccess:(e,{personId:r})=>{r&&t.invalidateQueries({queryKey:gt.timeline(r)})}})}function cne(){const t=tt();return Ge({mutationFn:({todoId:e,personId:r})=>$e.deleteTodo(e),onSuccess:(e,{personId:r})=>{r&&t.invalidateQueries({queryKey:gt.timeline(r)})}})}function dne(){const t=tt();return Ge({mutationFn:({dateId:e,personId:r})=>We.deleteDate(e),onSuccess:(e,{personId:r})=>{r&&(t.invalidateQueries({queryKey:gt.dates(r)}),t.invalidateQueries({queryKey:gt.detail(r)})),t.invalidateQueries({queryKey:["reminders"]})}})}function xK({isOpen:t,onClose:e}){const[r,n]=I.useState(""),[i,s]=I.useState(""),[a,o]=I.useState(""),[l,c]=I.useState(!1),[d,h]=I.useState(""),{data:f=[],isLoading:p}=Bo(),m=bK(),y=tt(),b=I.useMemo(()=>{const E=d.toLowerCase().trim();let N=f;return E&&(N=f.filter(S=>{var j,C,O;return((j=S.name)==null?void 0:j.toLowerCase().includes(E))||((C=S.first_name)==null?void 0:C.toLowerCase().includes(E))||((O=S.last_name)==null?void 0:O.toLowerCase().includes(E))})),[...N].sort((S,j)=>(S.name||"").localeCompare(j.name||""))},[f,d]),g=I.useMemo(()=>f.find(E=>E.id===parseInt(a)),[f,a]),v=()=>new Date().toISOString().split("T")[0];if(I.useEffect(()=>{t&&(n(""),s(v()),o(""),h(""),c(!1))},[t]),!t)return null;const w=async E=>{if(E.preventDefault(),!(!r.trim()||!a))try{await m.mutateAsync({personId:parseInt(a),data:{content:r.trim(),due_date:i||null,is_completed:!1}}),y.invalidateQueries({queryKey:["todos"]}),e()}catch(N){console.error("Failed to create todo:",N)}},x=()=>{e()},_=E=>{if(!E)return"";try{return new Date(E).toISOString().split("T")[0]}catch{return""}};return u.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50",children:u.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-md mx-4",children:[u.jsxs("div",{className:"flex items-center justify-between p-4 border-b",children:[u.jsx("h2",{className:"text-lg font-semibold",children:"Add todo"}),u.jsx("button",{onClick:x,className:"text-gray-400 hover:text-gray-600",disabled:m.isPending,children:u.jsx(cn,{className:"w-5 h-5"})})]}),u.jsxs("form",{onSubmit:w,className:"p-4",children:[u.jsxs("div",{className:"mb-4",children:[u.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Person ",u.jsx("span",{className:"text-red-500",children:"*"})]}),u.jsxs("div",{className:"relative",children:[u.jsxs("button",{type:"button",onClick:()=>c(!l),className:"w-full flex items-center justify-between px-3 py-2 border border-gray-300 rounded-md bg-white text-left focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent",disabled:m.isPending,children:[g?u.jsxs("div",{className:"flex items-center gap-2",children:[g.thumbnail?u.jsx("img",{src:g.thumbnail,alt:g.name,className:"w-6 h-6 rounded-full object-cover"}):u.jsx("div",{className:"w-6 h-6 bg-gray-200 rounded-full flex items-center justify-center",children:u.jsx(Sd,{className:"w-4 h-4 text-gray-500"})}),u.jsx("span",{className:"text-gray-900",children:g.name})]}):u.jsx("span",{className:"text-gray-400",children:"Select a person..."}),u.jsx(iK,{className:`w-4 h-4 text-gray-400 transition-transform ${l?"rotate-180":""}`})]}),l&&u.jsxs("div",{className:"absolute z-10 w-full mt-1 bg-white border border-gray-200 rounded-lg shadow-lg max-h-60 overflow-hidden",children:[u.jsx("div",{className:"p-2 border-b border-gray-100",children:u.jsxs("div",{className:"relative",children:[u.jsx(vp,{className:"absolute left-2 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}),u.jsx("input",{type:"text",value:d,onChange:E=>h(E.target.value),placeholder:"Search people...",className:"w-full pl-8 pr-3 py-1.5 text-sm border border-gray-200 rounded focus:outline-none focus:ring-1 focus:ring-primary-500",autoFocus:!0})]})}),u.jsx("div",{className:"overflow-y-auto max-h-48",children:p?u.jsx("div",{className:"p-3 text-center text-gray-500 text-sm",children:"Loading..."}):b.length>0?b.map(E=>u.jsxs("button",{type:"button",onClick:()=>{o(String(E.id)),c(!1),h("")},className:`w-full flex items-center gap-2 px-3 py-2 text-left hover:bg-gray-50 transition-colors ${a===String(E.id)?"bg-primary-50":""}`,children:[E.thumbnail?u.jsx("img",{src:E.thumbnail,alt:E.name,className:"w-6 h-6 rounded-full object-cover"}):u.jsx("div",{className:"w-6 h-6 bg-gray-200 rounded-full flex items-center justify-center",children:u.jsx(Sd,{className:"w-4 h-4 text-gray-500"})}),u.jsx("span",{className:"text-sm text-gray-900 truncate",children:E.name})]},E.id)):u.jsx("div",{className:"p-3 text-center text-gray-500 text-sm",children:"No people found"})})]})]})]}),u.jsxs("div",{className:"mb-4",children:[u.jsxs("label",{htmlFor:"todo-content",className:"block text-sm font-medium text-gray-700 mb-2",children:["Description ",u.jsx("span",{className:"text-red-500",children:"*"})]}),u.jsx("textarea",{id:"todo-content",value:r,onChange:E=>n(E.target.value),rows:4,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent",placeholder:"What needs to be done?",disabled:m.isPending})]}),u.jsxs("div",{className:"mb-4",children:[u.jsx("label",{htmlFor:"todo-due-date",className:"block text-sm font-medium text-gray-700 mb-2",children:"Due date (optional)"}),u.jsx("input",{id:"todo-due-date",type:"date",value:_(i),onChange:E=>s(E.target.value||""),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent",disabled:m.isPending})]}),u.jsxs("div",{className:"flex justify-end gap-2",children:[u.jsx("button",{type:"button",onClick:x,className:"btn-secondary",disabled:m.isPending,children:"Cancel"}),u.jsx("button",{type:"submit",className:"btn-primary",disabled:m.isPending||!r.trim()||!a,children:m.isPending?"Adding...":"Add todo"})]})]})]})})}const hne=[{name:"Dashboard",href:"/",icon:Fre},{name:"People",href:"/people",icon:$i},{name:"Organizations",href:"/companies",icon:Mi},{name:"Dates",href:"/dates",icon:ca},{name:"Todos",href:"/todos",icon:rs},{name:"Settings",href:"/settings",icon:uK}];function FI({mobile:t=!1,onClose:e}){const{logoutUrl:r}=rO();return u.jsxs("div",{className:"flex flex-col h-full bg-white border-r border-gray-200",children:[u.jsxs("div",{className:"flex items-center justify-between h-16 px-4 border-b border-gray-200",children:[u.jsxs(he,{to:"/",className:"flex items-center gap-2 text-xl font-bold text-primary-600",children:[u.jsx(dK,{className:"w-5 h-5"}),yu]}),t&&u.jsx("button",{onClick:e,className:"p-2 -mr-2",children:u.jsx(cn,{className:"w-5 h-5"})})]}),u.jsx("nav",{className:"flex-1 px-2 py-4 space-y-1 overflow-y-auto",children:hne.map(n=>u.jsxs(_ee,{to:n.href,onClick:t?e:void 0,className:({isActive:i})=>`flex items-center px-3 py-2 text-sm font-medium rounded-lg transition-colors ${i?"bg-primary-50 text-primary-700":"text-gray-700 hover:bg-gray-50"}`,children:[u.jsx(n.icon,{className:"w-5 h-5 mr-3"}),n.name]},n.name))}),u.jsx("div",{className:"p-4 border-t border-gray-200",children:u.jsxs("a",{href:r,className:"flex items-center px-3 py-2 text-sm font-medium text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:[u.jsx(Lre,{className:"w-5 h-5 mr-3"}),"Log Out"]})})]})}function fne(){var a;const[t,e]=I.useState(!1),r=I.useRef(null),{data:n,isLoading:i}=mt({queryKey:["current-user"],queryFn:async()=>(await $e.getCurrentUser()).data});if(I.useEffect(()=>{const o=l=>{r.current&&!r.current.contains(l.target)&&e(!1)};if(t)return document.addEventListener("mousedown",o),()=>{document.removeEventListener("mousedown",o)}},[t]),i||!n)return u.jsx("div",{className:"flex items-center ml-auto",children:u.jsx("div",{className:"w-8 h-8 bg-gray-200 rounded-full animate-pulse"})});const s=((a=n.name)==null?void 0:a.split(" ").map(o=>o[0]).join("").toUpperCase().slice(0,2))||"?";return u.jsxs("div",{className:"relative ml-auto",ref:r,children:[u.jsxs("button",{onClick:()=>e(!t),className:"flex items-center gap-2 p-1 rounded-full hover:bg-gray-100 transition-colors","aria-label":"User menu",children:[n.avatar_url?u.jsx("img",{src:n.avatar_url,alt:n.name,className:"w-8 h-8 rounded-full object-cover"}):u.jsx("div",{className:"w-8 h-8 bg-primary-100 rounded-full flex items-center justify-center",children:u.jsx("span",{className:"text-sm font-medium text-primary-700",children:s})}),u.jsx(iK,{className:`w-4 h-4 text-gray-500 transition-transform ${t?"rotate-180":""}`})]}),t&&u.jsx("div",{className:"absolute right-0 mt-2 w-48 bg-white border border-gray-200 rounded-lg shadow-lg z-50",children:u.jsxs("div",{className:"py-1",children:[u.jsxs("a",{href:n.profile_url,target:"_blank",rel:"noopener noreferrer",className:"flex items-center px-4 py-2 text-sm text-gray-700 hover:bg-gray-50 transition-colors",onClick:()=>e(!1),children:[u.jsx(Sd,{className:"w-4 h-4 mr-2"}),u.jsx("span",{className:"hidden md:inline",children:"Edit profile"})]}),n.is_admin&&u.jsxs("a",{href:n.admin_url,target:"_blank",rel:"noopener noreferrer",className:"flex items-center px-4 py-2 text-sm text-gray-700 hover:bg-gray-50 transition-colors",onClick:()=>e(!1),children:[u.jsx(uK,{className:"w-4 h-4 mr-2"}),u.jsx("span",{className:"hidden md:inline",children:"WordPress admin"})]})]})})]})}function pne({onAddTodo:t}){const[e,r]=I.useState(!1),n=I.useRef(null),i=Kr();I.useEffect(()=>{const o=l=>{n.current&&!n.current.contains(l.target)&&r(!1)};if(e)return document.addEventListener("mousedown",o),()=>{document.removeEventListener("mousedown",o)}},[e]);const s=o=>{r(!1),i(o)},a=()=>{r(!1),t()};return u.jsxs("div",{className:"relative",ref:n,children:[u.jsx("button",{onClick:()=>r(!e),className:"flex items-center justify-center w-9 h-9 rounded-lg bg-primary-600 hover:bg-primary-700 text-white transition-colors","aria-label":"Quick add",title:"Quick add",children:u.jsx(Mt,{className:"w-5 h-5"})}),e&&u.jsx("div",{className:"absolute right-0 mt-2 w-48 bg-white border border-gray-200 rounded-lg shadow-lg z-50",children:u.jsxs("div",{className:"py-1",children:[u.jsxs("button",{onClick:()=>s("/people/new"),className:"w-full flex items-center px-4 py-2 text-sm text-gray-700 hover:bg-gray-50 transition-colors text-left",children:[u.jsx(Sd,{className:"w-4 h-4 mr-3 text-gray-400"}),"New Person"]}),u.jsxs("button",{onClick:()=>s("/companies/new"),className:"w-full flex items-center px-4 py-2 text-sm text-gray-700 hover:bg-gray-50 transition-colors text-left",children:[u.jsx(Mi,{className:"w-4 h-4 mr-3 text-gray-400"}),"New Organization"]}),u.jsxs("button",{onClick:a,className:"w-full flex items-center px-4 py-2 text-sm text-gray-700 hover:bg-gray-50 transition-colors text-left",children:[u.jsx(rs,{className:"w-4 h-4 mr-3 text-gray-400"}),"New Todo"]}),u.jsxs("button",{onClick:()=>s("/dates/new"),className:"w-full flex items-center px-4 py-2 text-sm text-gray-700 hover:bg-gray-50 transition-colors text-left",children:[u.jsx(ca,{className:"w-4 h-4 mr-3 text-gray-400"}),"New Date"]})]})})]})}function mne({onMenuClick:t,onAddTodo:e}){const[r,n]=I.useState(""),[i,s]=I.useState(!1),[a,o]=I.useState(!1),l=ws(),c=Kr(),d=I.useRef(null),h=I.useRef(null),f=I.useRef(null),p=r.trim(),{data:m,isLoading:y}=ene(p),b=()=>{const _=l.pathname;return _==="/"?"Dashboard":_.startsWith("/people")?"People":_.startsWith("/companies")?"Organizations":_.startsWith("/dates")?"Important Dates":_.startsWith("/todos")?"Todos":_.startsWith("/settings")?"Settings":""};I.useEffect(()=>{a&&f.current&&f.current.focus()},[a]),I.useEffect(()=>{const _=E=>{d.current&&!d.current.contains(E.target)&&(s(!1),r.trim()||o(!1))};return document.addEventListener("mousedown",_),()=>{document.removeEventListener("mousedown",_)}},[r]);const g=(_,E)=>{s(!1),n(""),o(!1),_==="person"?c(`/people/${E}`):_==="company"&&c(`/companies/${E}`)},v=m||{people:[],companies:[]},w=v.people&&v.people.length>0||v.companies&&v.companies.length>0,x=i&&r.trim().length>=2;return u.jsxs("header",{className:"sticky top-0 z-10 flex items-center h-16 px-4 bg-white border-b border-gray-200 lg:px-6",children:[u.jsx("button",{onClick:t,className:"p-2 -ml-2 lg:hidden",children:u.jsx(zre,{className:"w-5 h-5"})}),u.jsx("h1",{className:"ml-2 text-lg font-semibold lg:ml-0",children:b()}),u.jsx("div",{className:"flex-1"}),u.jsxs("div",{className:"relative",ref:d,children:[a?u.jsxs("div",{className:"flex items-center",children:[u.jsxs("div",{className:"relative",children:[u.jsx(vp,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}),u.jsx("input",{ref:f,type:"search",placeholder:"Search people & organizations...",value:r,onChange:_=>n(_.target.value),onFocus:()=>s(!0),onKeyDown:_=>{_.key==="Escape"&&(n(""),o(!1),s(!1))},className:"input pl-9 w-64 lg:w-80"})]}),u.jsx("button",{onClick:()=>{n(""),o(!1),s(!1)},className:"p-2 ml-1 text-gray-400 hover:text-gray-600","aria-label":"Close search",children:u.jsx(cn,{className:"w-5 h-5"})})]}):u.jsx("button",{onClick:()=>o(!0),className:"flex items-center justify-center w-9 h-9 rounded-lg hover:bg-gray-100 text-gray-500 transition-colors","aria-label":"Search",title:"Search",children:u.jsx(vp,{className:"w-5 h-5"})}),x&&u.jsx("div",{ref:h,className:"absolute top-full right-0 mt-2 w-80 bg-white border border-gray-200 rounded-lg shadow-lg max-h-96 overflow-y-auto z-50",children:y?u.jsxs("div",{className:"p-4 text-center text-gray-500",children:[u.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-primary-600 mx-auto"}),u.jsx("p",{className:"mt-2 text-sm",children:"Searching..."})]}):w?u.jsxs("div",{className:"py-2",children:[v.people&&v.people.length>0&&u.jsxs("div",{className:"px-3 py-2",children:[u.jsx("div",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wide mb-2 px-2",children:"People"}),v.people.map(_=>u.jsxs("button",{onClick:()=>g("person",_.id),className:"w-full flex items-center gap-3 px-2 py-2 rounded-lg hover:bg-gray-50 transition-colors text-left",children:[u.jsx(Sd,{className:"w-4 h-4 text-gray-400 flex-shrink-0"}),u.jsx("span",{className:"text-sm font-medium text-gray-900 flex-1 truncate",children:_.name})]},_.id))]}),v.companies&&v.companies.length>0&&u.jsxs("div",{className:"px-3 py-2 border-t border-gray-100",children:[u.jsx("div",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wide mb-2 px-2",children:"Organizations"}),v.companies.map(_=>u.jsxs("button",{onClick:()=>g("company",_.id),className:"w-full flex items-center gap-3 px-2 py-2 rounded-lg hover:bg-gray-50 transition-colors text-left",children:[u.jsx(Dre,{className:"w-4 h-4 text-gray-400 flex-shrink-0"}),u.jsx("span",{className:"text-sm font-medium text-gray-900 flex-1 truncate",children:_.name})]},_.id))]})]}):u.jsx("div",{className:"p-4 text-center text-gray-500",children:u.jsx("p",{className:"text-sm",children:"No results found"})})})]}),u.jsx("div",{className:"ml-2",children:u.jsx(pne,{onAddTodo:e})}),u.jsx("div",{className:"ml-2",children:u.jsx(fne,{})})]})}function vne({children:t}){const[e,r]=I.useState(!1),[n,i]=I.useState(!1);return mK(),u.jsxs("div",{className:"flex h-screen bg-gray-50",children:[u.jsx("div",{className:"hidden lg:flex lg:w-64 lg:flex-col",children:u.jsx(FI,{})}),e&&u.jsxs("div",{className:"fixed inset-0 z-40 lg:hidden",children:[u.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-75",onClick:()=>r(!1)}),u.jsx("div",{className:"fixed inset-y-0 left-0 flex flex-col w-64 bg-white",children:u.jsx(FI,{mobile:!0,onClose:()=>r(!1)})})]}),u.jsxs("div",{className:"flex flex-col flex-1 min-w-0",children:[u.jsx(mne,{onMenuClick:()=>r(!0),onAddTodo:()=>i(!0)}),u.jsx("main",{className:"flex-1 overflow-y-auto p-4 lg:p-6",children:t})]}),u.jsx(xK,{isOpen:n,onClose:()=>i(!1)})]})}function Ke(t){const e=Object.prototype.toString.call(t);return t instanceof Date||typeof t=="object"&&e==="[object Date]"?new t.constructor(+t):typeof t=="number"||e==="[object Number]"||typeof t=="string"||e==="[object String]"?new Date(t):new Date(NaN)}function gs(t,e){return t instanceof Date?new t.constructor(e):new Date(e)}function gne(t,e){const r=Ke(t);return isNaN(e)?gs(t,NaN):(r.setDate(r.getDate()+e),r)}const wK=6048e5,yne=864e5,_K=6e4,SK=36e5,of=43200,LI=1440;let bne={};function eh(){return bne}function To(t,e){var o,l,c,d;const r=eh(),n=(e==null?void 0:e.weekStartsOn)??((l=(o=e==null?void 0:e.locale)==null?void 0:o.options)==null?void 0:l.weekStartsOn)??r.weekStartsOn??((d=(c=r.locale)==null?void 0:c.options)==null?void 0:d.weekStartsOn)??0,i=Ke(t),s=i.getDay(),a=(s<n?7:0)+s-n;return i.setDate(i.getDate()-a),i.setHours(0,0,0,0),i}function gp(t){return To(t,{weekStartsOn:1})}function EK(t){const e=Ke(t),r=e.getFullYear(),n=gs(t,0);n.setFullYear(r+1,0,4),n.setHours(0,0,0,0);const i=gp(n),s=gs(t,0);s.setFullYear(r,0,4),s.setHours(0,0,0,0);const a=gp(s);return e.getTime()>=i.getTime()?r+1:e.getTime()>=a.getTime()?r:r-1}function yp(t){const e=Ke(t);return e.setHours(0,0,0,0),e}function bp(t){const e=Ke(t),r=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return r.setUTCFullYear(e.getFullYear()),+t-+r}function xne(t,e){const r=yp(t),n=yp(e),i=+r-bp(r),s=+n-bp(n);return Math.round((i-s)/yne)}function wne(t){const e=EK(t),r=gs(t,0);return r.setFullYear(e,0,4),r.setHours(0,0,0,0),gp(r)}function Fl(t,e){const r=Ke(t),n=Ke(e),i=r.getTime()-n.getTime();return i<0?-1:i>0?1:i}function um(t){return gs(t,Date.now())}function NK(t,e){const r=yp(t),n=yp(e);return+r==+n}function _ne(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function Sne(t){if(!_ne(t)&&typeof t!="number")return!1;const e=Ke(t);return!isNaN(Number(e))}function Ene(t,e){const r=Ke(t),n=Ke(e),i=r.getFullYear()-n.getFullYear(),s=r.getMonth()-n.getMonth();return i*12+s}function Nne(t,e){const r=Ke(t),n=Ke(e);return r.getFullYear()-n.getFullYear()}function jne(t){return e=>{const n=(t?Math[t]:Math.trunc)(e);return n===0?0:n}}function Cne(t,e){return+Ke(t)-+Ke(e)}function One(t){const e=Ke(t);return e.setHours(23,59,59,999),e}function Tne(t){const e=Ke(t),r=e.getMonth();return e.setFullYear(e.getFullYear(),r+1,0),e.setHours(23,59,59,999),e}function Pne(t){const e=Ke(t);return+One(e)==+Tne(e)}function Ine(t,e){const r=Ke(t),n=Ke(e),i=Fl(r,n),s=Math.abs(Ene(r,n));let a;if(s<1)a=0;else{r.getMonth()===1&&r.getDate()>27&&r.setDate(30),r.setMonth(r.getMonth()-i*s);let o=Fl(r,n)===-i;Pne(Ke(t))&&s===1&&Fl(t,n)===1&&(o=!1),a=i*(s-Number(o))}return a===0?0:a}function Rne(t,e,r){const n=Cne(t,e)/1e3;return jne(r==null?void 0:r.roundingMethod)(n)}function jv(t,e){const r=Ke(t),n=Ke(e),i=Fl(r,n),s=Math.abs(Nne(r,n));r.setFullYear(1584),n.setFullYear(1584);const a=Fl(r,n)===-i,o=i*(s-+a);return o===0?0:o}function $ne(t){const e=Ke(t),r=gs(t,0);return r.setFullYear(e.getFullYear(),0,1),r.setHours(0,0,0,0),r}const kne={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},Dne=(t,e,r)=>{let n;const i=kne[t];return typeof i=="string"?n=i:e===1?n=i.one:n=i.other.replace("{{count}}",e.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+n:n+" ago":n};function Cv(t){return(e={})=>{const r=e.width?String(e.width):t.defaultWidth;return t.formats[r]||t.formats[t.defaultWidth]}}const Mne={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},qne={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},Ane={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},Fne={date:Cv({formats:Mne,defaultWidth:"full"}),time:Cv({formats:qne,defaultWidth:"full"}),dateTime:Cv({formats:Ane,defaultWidth:"full"})},Lne={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},Bne=(t,e,r,n)=>Lne[t];function Sc(t){return(e,r)=>{const n=r!=null&&r.context?String(r.context):"standalone";let i;if(n==="formatting"&&t.formattingValues){const a=t.defaultFormattingWidth||t.defaultWidth,o=r!=null&&r.width?String(r.width):a;i=t.formattingValues[o]||t.formattingValues[a]}else{const a=t.defaultWidth,o=r!=null&&r.width?String(r.width):t.defaultWidth;i=t.values[o]||t.values[a]}const s=t.argumentCallback?t.argumentCallback(e):e;return i[s]}}const zne={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},Une={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},Wne={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},Hne={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},Vne={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},Kne={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},Gne=(t,e)=>{const r=Number(t),n=r%100;if(n>20||n<10)switch(n%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},Yne={ordinalNumber:Gne,era:Sc({values:zne,defaultWidth:"wide"}),quarter:Sc({values:Une,defaultWidth:"wide",argumentCallback:t=>t-1}),month:Sc({values:Wne,defaultWidth:"wide"}),day:Sc({values:Hne,defaultWidth:"wide"}),dayPeriod:Sc({values:Vne,defaultWidth:"wide",formattingValues:Kne,defaultFormattingWidth:"wide"})};function Ec(t){return(e,r={})=>{const n=r.width,i=n&&t.matchPatterns[n]||t.matchPatterns[t.defaultMatchWidth],s=e.match(i);if(!s)return null;const a=s[0],o=n&&t.parsePatterns[n]||t.parsePatterns[t.defaultParseWidth],l=Array.isArray(o)?Xne(o,h=>h.test(a)):Qne(o,h=>h.test(a));let c;c=t.valueCallback?t.valueCallback(l):l,c=r.valueCallback?r.valueCallback(c):c;const d=e.slice(a.length);return{value:c,rest:d}}}function Qne(t,e){for(const r in t)if(Object.prototype.hasOwnProperty.call(t,r)&&e(t[r]))return r}function Xne(t,e){for(let r=0;r<t.length;r++)if(e(t[r]))return r}function Jne(t){return(e,r={})=>{const n=e.match(t.matchPattern);if(!n)return null;const i=n[0],s=e.match(t.parsePattern);if(!s)return null;let a=t.valueCallback?t.valueCallback(s[0]):s[0];a=r.valueCallback?r.valueCallback(a):a;const o=e.slice(i.length);return{value:a,rest:o}}}const Zne=/^(\d+)(th|st|nd|rd)?/i,eie=/\d+/i,tie={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},rie={any:[/^b/i,/^(a|c)/i]},nie={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},iie={any:[/1/i,/2/i,/3/i,/4/i]},sie={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},aie={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},oie={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},lie={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},uie={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},cie={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},die={ordinalNumber:Jne({matchPattern:Zne,parsePattern:eie,valueCallback:t=>parseInt(t,10)}),era:Ec({matchPatterns:tie,defaultMatchWidth:"wide",parsePatterns:rie,defaultParseWidth:"any"}),quarter:Ec({matchPatterns:nie,defaultMatchWidth:"wide",parsePatterns:iie,defaultParseWidth:"any",valueCallback:t=>t+1}),month:Ec({matchPatterns:sie,defaultMatchWidth:"wide",parsePatterns:aie,defaultParseWidth:"any"}),day:Ec({matchPatterns:oie,defaultMatchWidth:"wide",parsePatterns:lie,defaultParseWidth:"any"}),dayPeriod:Ec({matchPatterns:uie,defaultMatchWidth:"any",parsePatterns:cie,defaultParseWidth:"any"})},jK={code:"en-US",formatDistance:Dne,formatLong:Fne,formatRelative:Bne,localize:Yne,match:die,options:{weekStartsOn:0,firstWeekContainsDate:1}};function hie(t){const e=Ke(t);return xne(e,$ne(e))+1}function fie(t){const e=Ke(t),r=+gp(e)-+wne(e);return Math.round(r/wK)+1}function CK(t,e){var d,h,f,p;const r=Ke(t),n=r.getFullYear(),i=eh(),s=(e==null?void 0:e.firstWeekContainsDate)??((h=(d=e==null?void 0:e.locale)==null?void 0:d.options)==null?void 0:h.firstWeekContainsDate)??i.firstWeekContainsDate??((p=(f=i.locale)==null?void 0:f.options)==null?void 0:p.firstWeekContainsDate)??1,a=gs(t,0);a.setFullYear(n+1,0,s),a.setHours(0,0,0,0);const o=To(a,e),l=gs(t,0);l.setFullYear(n,0,s),l.setHours(0,0,0,0);const c=To(l,e);return r.getTime()>=o.getTime()?n+1:r.getTime()>=c.getTime()?n:n-1}function pie(t,e){var o,l,c,d;const r=eh(),n=(e==null?void 0:e.firstWeekContainsDate)??((l=(o=e==null?void 0:e.locale)==null?void 0:o.options)==null?void 0:l.firstWeekContainsDate)??r.firstWeekContainsDate??((d=(c=r.locale)==null?void 0:c.options)==null?void 0:d.firstWeekContainsDate)??1,i=CK(t,e),s=gs(t,0);return s.setFullYear(i,0,n),s.setHours(0,0,0,0),To(s,e)}function mie(t,e){const r=Ke(t),n=+To(r,e)-+pie(r,e);return Math.round(n/wK)+1}function Je(t,e){const r=t<0?"-":"",n=Math.abs(t).toString().padStart(e,"0");return r+n}const Ps={y(t,e){const r=t.getFullYear(),n=r>0?r:1-r;return Je(e==="yy"?n%100:n,e.length)},M(t,e){const r=t.getMonth();return e==="M"?String(r+1):Je(r+1,2)},d(t,e){return Je(t.getDate(),e.length)},a(t,e){const r=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h(t,e){return Je(t.getHours()%12||12,e.length)},H(t,e){return Je(t.getHours(),e.length)},m(t,e){return Je(t.getMinutes(),e.length)},s(t,e){return Je(t.getSeconds(),e.length)},S(t,e){const r=e.length,n=t.getMilliseconds(),i=Math.trunc(n*Math.pow(10,r-3));return Je(i,e.length)}},ul={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},BI={G:function(t,e,r){const n=t.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return r.era(n,{width:"abbreviated"});case"GGGGG":return r.era(n,{width:"narrow"});case"GGGG":default:return r.era(n,{width:"wide"})}},y:function(t,e,r){if(e==="yo"){const n=t.getFullYear(),i=n>0?n:1-n;return r.ordinalNumber(i,{unit:"year"})}return Ps.y(t,e)},Y:function(t,e,r,n){const i=CK(t,n),s=i>0?i:1-i;if(e==="YY"){const a=s%100;return Je(a,2)}return e==="Yo"?r.ordinalNumber(s,{unit:"year"}):Je(s,e.length)},R:function(t,e){const r=EK(t);return Je(r,e.length)},u:function(t,e){const r=t.getFullYear();return Je(r,e.length)},Q:function(t,e,r){const n=Math.ceil((t.getMonth()+1)/3);switch(e){case"Q":return String(n);case"QQ":return Je(n,2);case"Qo":return r.ordinalNumber(n,{unit:"quarter"});case"QQQ":return r.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(n,{width:"wide",context:"formatting"})}},q:function(t,e,r){const n=Math.ceil((t.getMonth()+1)/3);switch(e){case"q":return String(n);case"qq":return Je(n,2);case"qo":return r.ordinalNumber(n,{unit:"quarter"});case"qqq":return r.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(n,{width:"wide",context:"standalone"})}},M:function(t,e,r){const n=t.getMonth();switch(e){case"M":case"MM":return Ps.M(t,e);case"Mo":return r.ordinalNumber(n+1,{unit:"month"});case"MMM":return r.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(n,{width:"wide",context:"formatting"})}},L:function(t,e,r){const n=t.getMonth();switch(e){case"L":return String(n+1);case"LL":return Je(n+1,2);case"Lo":return r.ordinalNumber(n+1,{unit:"month"});case"LLL":return r.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(n,{width:"wide",context:"standalone"})}},w:function(t,e,r,n){const i=mie(t,n);return e==="wo"?r.ordinalNumber(i,{unit:"week"}):Je(i,e.length)},I:function(t,e,r){const n=fie(t);return e==="Io"?r.ordinalNumber(n,{unit:"week"}):Je(n,e.length)},d:function(t,e,r){return e==="do"?r.ordinalNumber(t.getDate(),{unit:"date"}):Ps.d(t,e)},D:function(t,e,r){const n=hie(t);return e==="Do"?r.ordinalNumber(n,{unit:"dayOfYear"}):Je(n,e.length)},E:function(t,e,r){const n=t.getDay();switch(e){case"E":case"EE":case"EEE":return r.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(n,{width:"short",context:"formatting"});case"EEEE":default:return r.day(n,{width:"wide",context:"formatting"})}},e:function(t,e,r,n){const i=t.getDay(),s=(i-n.weekStartsOn+8)%7||7;switch(e){case"e":return String(s);case"ee":return Je(s,2);case"eo":return r.ordinalNumber(s,{unit:"day"});case"eee":return r.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(i,{width:"short",context:"formatting"});case"eeee":default:return r.day(i,{width:"wide",context:"formatting"})}},c:function(t,e,r,n){const i=t.getDay(),s=(i-n.weekStartsOn+8)%7||7;switch(e){case"c":return String(s);case"cc":return Je(s,e.length);case"co":return r.ordinalNumber(s,{unit:"day"});case"ccc":return r.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(i,{width:"narrow",context:"standalone"});case"cccccc":return r.day(i,{width:"short",context:"standalone"});case"cccc":default:return r.day(i,{width:"wide",context:"standalone"})}},i:function(t,e,r){const n=t.getDay(),i=n===0?7:n;switch(e){case"i":return String(i);case"ii":return Je(i,e.length);case"io":return r.ordinalNumber(i,{unit:"day"});case"iii":return r.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(n,{width:"short",context:"formatting"});case"iiii":default:return r.day(n,{width:"wide",context:"formatting"})}},a:function(t,e,r){const i=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(t,e,r){const n=t.getHours();let i;switch(n===12?i=ul.noon:n===0?i=ul.midnight:i=n/12>=1?"pm":"am",e){case"b":case"bb":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(t,e,r){const n=t.getHours();let i;switch(n>=17?i=ul.evening:n>=12?i=ul.afternoon:n>=4?i=ul.morning:i=ul.night,e){case"B":case"BB":case"BBB":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(t,e,r){if(e==="ho"){let n=t.getHours()%12;return n===0&&(n=12),r.ordinalNumber(n,{unit:"hour"})}return Ps.h(t,e)},H:function(t,e,r){return e==="Ho"?r.ordinalNumber(t.getHours(),{unit:"hour"}):Ps.H(t,e)},K:function(t,e,r){const n=t.getHours()%12;return e==="Ko"?r.ordinalNumber(n,{unit:"hour"}):Je(n,e.length)},k:function(t,e,r){let n=t.getHours();return n===0&&(n=24),e==="ko"?r.ordinalNumber(n,{unit:"hour"}):Je(n,e.length)},m:function(t,e,r){return e==="mo"?r.ordinalNumber(t.getMinutes(),{unit:"minute"}):Ps.m(t,e)},s:function(t,e,r){return e==="so"?r.ordinalNumber(t.getSeconds(),{unit:"second"}):Ps.s(t,e)},S:function(t,e){return Ps.S(t,e)},X:function(t,e,r){const n=t.getTimezoneOffset();if(n===0)return"Z";switch(e){case"X":return UI(n);case"XXXX":case"XX":return Ba(n);case"XXXXX":case"XXX":default:return Ba(n,":")}},x:function(t,e,r){const n=t.getTimezoneOffset();switch(e){case"x":return UI(n);case"xxxx":case"xx":return Ba(n);case"xxxxx":case"xxx":default:return Ba(n,":")}},O:function(t,e,r){const n=t.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+zI(n,":");case"OOOO":default:return"GMT"+Ba(n,":")}},z:function(t,e,r){const n=t.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+zI(n,":");case"zzzz":default:return"GMT"+Ba(n,":")}},t:function(t,e,r){const n=Math.trunc(t.getTime()/1e3);return Je(n,e.length)},T:function(t,e,r){const n=t.getTime();return Je(n,e.length)}};function zI(t,e=""){const r=t>0?"-":"+",n=Math.abs(t),i=Math.trunc(n/60),s=n%60;return s===0?r+String(i):r+String(i)+e+Je(s,2)}function UI(t,e){return t%60===0?(t>0?"-":"+")+Je(Math.abs(t)/60,2):Ba(t,e)}function Ba(t,e=""){const r=t>0?"-":"+",n=Math.abs(t),i=Je(Math.trunc(n/60),2),s=Je(n%60,2);return r+i+e+s}const WI=(t,e)=>{switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},OK=(t,e)=>{switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},vie=(t,e)=>{const r=t.match(/(P+)(p+)?/)||[],n=r[1],i=r[2];if(!i)return WI(t,e);let s;switch(n){case"P":s=e.dateTime({width:"short"});break;case"PP":s=e.dateTime({width:"medium"});break;case"PPP":s=e.dateTime({width:"long"});break;case"PPPP":default:s=e.dateTime({width:"full"});break}return s.replace("{{date}}",WI(n,e)).replace("{{time}}",OK(i,e))},gie={p:OK,P:vie},yie=/^D+$/,bie=/^Y+$/,xie=["D","DD","YY","YYYY"];function wie(t){return yie.test(t)}function _ie(t){return bie.test(t)}function Sie(t,e,r){const n=Eie(t,e,r);if(console.warn(n),xie.includes(t))throw new RangeError(n)}function Eie(t,e,r){const n=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${e}\`) for formatting ${n} to the input \`${r}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const Nie=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,jie=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Cie=/^'([^]*?)'?$/,Oie=/''/g,Tie=/[a-zA-Z]/;function tn(t,e,r){var d,h,f,p;const n=eh(),i=n.locale??jK,s=n.firstWeekContainsDate??((h=(d=n.locale)==null?void 0:d.options)==null?void 0:h.firstWeekContainsDate)??1,a=n.weekStartsOn??((p=(f=n.locale)==null?void 0:f.options)==null?void 0:p.weekStartsOn)??0,o=Ke(t);if(!Sne(o))throw new RangeError("Invalid time value");let l=e.match(jie).map(m=>{const y=m[0];if(y==="p"||y==="P"){const b=gie[y];return b(m,i.formatLong)}return m}).join("").match(Nie).map(m=>{if(m==="''")return{isToken:!1,value:"'"};const y=m[0];if(y==="'")return{isToken:!1,value:Pie(m)};if(BI[y])return{isToken:!0,value:m};if(y.match(Tie))throw new RangeError("Format string contains an unescaped latin alphabet character `"+y+"`");return{isToken:!1,value:m}});i.localize.preprocessor&&(l=i.localize.preprocessor(o,l));const c={firstWeekContainsDate:s,weekStartsOn:a,locale:i};return l.map(m=>{if(!m.isToken)return m.value;const y=m.value;(_ie(y)||wie(y))&&Sie(y,e,String(t));const b=BI[y[0]];return b(o,y,i.localize,c)}).join("")}function Pie(t){const e=t.match(Cie);return e?e[1].replace(Oie,"'"):t}function Iie(t,e,r){const n=eh(),i=(r==null?void 0:r.locale)??n.locale??jK,s=2520,a=Fl(t,e);if(isNaN(a))throw new RangeError("Invalid time value");const o=Object.assign({},r,{addSuffix:r==null?void 0:r.addSuffix,comparison:a});let l,c;a>0?(l=Ke(e),c=Ke(t)):(l=Ke(t),c=Ke(e));const d=Rne(c,l),h=(bp(c)-bp(l))/1e3,f=Math.round((d-h)/60);let p;if(f<2)return r!=null&&r.includeSeconds?d<5?i.formatDistance("lessThanXSeconds",5,o):d<10?i.formatDistance("lessThanXSeconds",10,o):d<20?i.formatDistance("lessThanXSeconds",20,o):d<40?i.formatDistance("halfAMinute",0,o):d<60?i.formatDistance("lessThanXMinutes",1,o):i.formatDistance("xMinutes",1,o):f===0?i.formatDistance("lessThanXMinutes",1,o):i.formatDistance("xMinutes",f,o);if(f<45)return i.formatDistance("xMinutes",f,o);if(f<90)return i.formatDistance("aboutXHours",1,o);if(f<LI){const m=Math.round(f/60);return i.formatDistance("aboutXHours",m,o)}else{if(f<s)return i.formatDistance("xDays",1,o);if(f<of){const m=Math.round(f/LI);return i.formatDistance("xDays",m,o)}else if(f<of*2)return p=Math.round(f/of),i.formatDistance("aboutXMonths",p,o)}if(p=Ine(c,l),p<12){const m=Math.round(f/of);return i.formatDistance("xMonths",m,o)}else{const m=p%12,y=Math.trunc(p/12);return m<3?i.formatDistance("aboutXYears",y,o):m<9?i.formatDistance("overXYears",y,o):i.formatDistance("almostXYears",y+1,o)}}function Rie(t,e){return Iie(t,um(t),e)}function $ie(t,e,r){const n=To(t,r),i=To(e,r);return+n==+i}function kie(t,e){return $ie(t,um(t),e)}function TK(t){return NK(t,um(t))}function Die(t,e){return gne(t,-1)}function PK(t){return NK(t,Die(um(t)))}function xp(t,e){const n=Fie(t);let i;if(n.date){const l=Lie(n.date,2);i=Bie(l.restDateString,l.year)}if(!i||isNaN(i.getTime()))return new Date(NaN);const s=i.getTime();let a=0,o;if(n.time&&(a=zie(n.time),isNaN(a)))return new Date(NaN);if(n.timezone){if(o=Uie(n.timezone),isNaN(o))return new Date(NaN)}else{const l=new Date(s+a),c=new Date(0);return c.setFullYear(l.getUTCFullYear(),l.getUTCMonth(),l.getUTCDate()),c.setHours(l.getUTCHours(),l.getUTCMinutes(),l.getUTCSeconds(),l.getUTCMilliseconds()),c}return new Date(s+a+o)}const lf={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},Mie=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,qie=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,Aie=/^([+-])(\d{2})(?::?(\d{2}))?$/;function Fie(t){const e={},r=t.split(lf.dateTimeDelimiter);let n;if(r.length>2)return e;if(/:/.test(r[0])?n=r[0]:(e.date=r[0],n=r[1],lf.timeZoneDelimiter.test(e.date)&&(e.date=t.split(lf.timeZoneDelimiter)[0],n=t.substr(e.date.length,t.length))),n){const i=lf.timezone.exec(n);i?(e.time=n.replace(i[1],""),e.timezone=i[1]):e.time=n}return e}function Lie(t,e){const r=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+e)+"})|(\\d{2}|[+-]\\d{"+(2+e)+"})$)"),n=t.match(r);if(!n)return{year:NaN,restDateString:""};const i=n[1]?parseInt(n[1]):null,s=n[2]?parseInt(n[2]):null;return{year:s===null?i:s*100,restDateString:t.slice((n[1]||n[2]).length)}}function Bie(t,e){if(e===null)return new Date(NaN);const r=t.match(Mie);if(!r)return new Date(NaN);const n=!!r[4],i=Nc(r[1]),s=Nc(r[2])-1,a=Nc(r[3]),o=Nc(r[4]),l=Nc(r[5])-1;if(n)return Gie(e,o,l)?Wie(e,o,l):new Date(NaN);{const c=new Date(0);return!Vie(e,s,a)||!Kie(e,i)?new Date(NaN):(c.setUTCFullYear(e,s,Math.max(i,a)),c)}}function Nc(t){return t?parseInt(t):1}function zie(t){const e=t.match(qie);if(!e)return NaN;const r=Ov(e[1]),n=Ov(e[2]),i=Ov(e[3]);return Yie(r,n,i)?r*SK+n*_K+i*1e3:NaN}function Ov(t){return t&&parseFloat(t.replace(",","."))||0}function Uie(t){if(t==="Z")return 0;const e=t.match(Aie);if(!e)return 0;const r=e[1]==="+"?-1:1,n=parseInt(e[2]),i=e[3]&&parseInt(e[3])||0;return Qie(n,i)?r*(n*SK+i*_K):NaN}function Wie(t,e,r){const n=new Date(0);n.setUTCFullYear(t,0,4);const i=n.getUTCDay()||7,s=(e-1)*7+r+1-i;return n.setUTCDate(n.getUTCDate()+s),n}const Hie=[31,null,31,30,31,30,31,31,30,31,30,31];function IK(t){return t%400===0||t%4===0&&t%100!==0}function Vie(t,e,r){return e>=0&&e<=11&&r>=1&&r<=(Hie[e]||(IK(t)?29:28))}function Kie(t,e){return e>=1&&e<=(IK(t)?366:365)}function Gie(t,e,r){return e>=1&&e<=53&&r>=0&&r<=6}function Yie(t,e,r){return t===24?e===0&&r===0:r>=0&&r<60&&e>=0&&e<60&&t>=0&&t<25}function Qie(t,e){return e>=0&&e<=59}function Xie(t){if(!t||t.length===0)return{todos:[],today:[],yesterday:[],thisWeek:[],older:[]};const e={todos:[],today:[],yesterday:[],thisWeek:[],older:[]};return t.forEach(r=>{if(r.type==="todo"){e.todos.push(r);return}const n=xp(r.created),i=r.activity_date?xp(r.activity_date):n;TK(i)?e.today.push(r):PK(i)?e.yesterday.push(r):kie(i)?e.thisWeek.push(r):e.older.push(r)}),e.todos.sort((r,n)=>{if(r.is_completed&&!n.is_completed)return 1;if(!r.is_completed&&n.is_completed)return-1;if(!r.is_completed&&!n.is_completed){if(r.due_date&&n.due_date)return new Date(r.due_date)-new Date(n.due_date);if(r.due_date&&!n.due_date)return-1;if(!r.due_date&&n.due_date)return 1}return new Date(n.created)-new Date(r.created)}),e}function Jie(t){if(!t)return"";try{const e=xp(t),r=Rie(e,{addSuffix:!0});return TK(e)?r:PK(e)?"Yesterday":tn(e,"MMM d, yyyy")}catch{return t}}function Zie(t){return{call:"Phone",email:"Mail",meeting:"Users",coffee:"Coffee",lunch:"Utensils",note:"FileText"}[t]||"Circle"}function ese(t){return{call:"Phone call",email:"Email",meeting:"Meeting",coffee:"Coffee",lunch:"Lunch",note:"Note"}[t]||t||"Activity"}function th(t){if(!t.due_date||t.is_completed)return!1;try{const e=xp(t.due_date),r=new Date;return r.setHours(0,0,0,0),e.setHours(0,0,0,0),e<r}catch{return!1}}function tse(t){const e=[];return t.is_completed?e.push("opacity-60","line-through"):th(t)&&e.push("text-red-600","font-medium"),e.join(" ")}function Is({title:t,value:e,icon:r,href:n}){return u.jsx(he,{to:n,className:"card p-6 hover:shadow-md transition-shadow",children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsx("p",{className:"text-sm font-medium text-gray-500",children:t}),u.jsx("p",{className:"mt-1 text-3xl font-semibold",children:e})]}),u.jsx("div",{className:"p-3 bg-primary-50 rounded-lg",children:u.jsx(r,{className:"w-6 h-6 text-primary-600"})})]})})}function HI({person:t,hideStar:e=!1}){var r,n;return u.jsxs(he,{to:`/people/${t.id}`,className:"flex items-center p-3 rounded-lg hover:bg-gray-50 transition-colors",children:[t.thumbnail?u.jsx("img",{src:t.thumbnail,alt:t.name,loading:"lazy",className:"w-10 h-10 rounded-full object-cover"}):u.jsx("div",{className:"w-10 h-10 bg-gray-200 rounded-full flex items-center justify-center",children:u.jsx("span",{className:"text-sm font-medium text-gray-500",children:((r=t.first_name)==null?void 0:r[0])||"?"})}),u.jsxs("div",{className:"ml-3 flex-1 min-w-0",children:[u.jsx("p",{className:"text-sm font-medium text-gray-900 truncate",children:t.name}),((n=t.labels)==null?void 0:n.length)>0&&u.jsx("p",{className:"text-xs text-gray-500 truncate",children:t.labels.join(", ")})]}),t.is_favorite&&!e&&u.jsx(vu,{className:"w-4 h-4 text-yellow-400 fill-current"})]})}function rse({reminder:t}){var o,l,c,d,h;const e=t.days_until;let r="bg-gray-100 text-gray-700";e===0?r="bg-green-100 text-green-700":e<=3?r="bg-orange-100 text-orange-700":e<=7&&(r="bg-yellow-100 text-yellow-700");const n=((l=(o=t.related_people)==null?void 0:o[0])==null?void 0:l.name)||t.title,i=(d=(c=t.related_people)==null?void 0:c[0])==null?void 0:d.id,s=((h=t.related_people)==null?void 0:h.length)>0,a=u.jsxs(u.Fragment,{children:[u.jsx("div",{className:`px-2 py-1 rounded text-xs font-medium ${r}`,children:e===0?"Today":`${e}d`}),u.jsxs("div",{className:"ml-3 flex-1 min-w-0",children:[u.jsx("p",{className:"text-sm font-medium text-gray-900",children:n}),u.jsx("p",{className:"text-xs text-gray-500",children:tn(new Date(t.next_occurrence),"MMMM d, yyyy")}),s&&u.jsx("div",{className:"flex -space-x-2 mt-1",children:t.related_people.slice(0,3).map(f=>{var p;return f.thumbnail?u.jsx("img",{src:f.thumbnail,alt:f.name,loading:"lazy",className:"w-10 h-10 rounded-full border-2 border-white object-cover"},f.id):u.jsx("div",{className:"w-10 h-10 bg-gray-300 rounded-full border-2 border-white flex items-center justify-center",children:u.jsx("span",{className:"text-sm",children:(p=f.name)==null?void 0:p[0]})},f.id)})})]})]});return s&&i?u.jsx(he,{to:`/people/${i}`,className:"flex items-start p-3 rounded-lg hover:bg-gray-50 transition-colors",children:a}):u.jsx("div",{className:"flex items-start p-3 rounded-lg hover:bg-gray-50 transition-colors",children:a})}function nse({todo:t,onToggle:e}){var n;const r=th(t);return u.jsxs(he,{to:`/people/${t.person_id}`,className:"flex items-start p-3 rounded-lg hover:bg-gray-50 transition-colors group",children:[u.jsx("button",{onClick:i=>{i.preventDefault(),i.stopPropagation(),e(t)},className:"mt-0.5 mr-3 flex-shrink-0",title:t.is_completed?"Mark as incomplete":"Mark as complete",children:t.is_completed?u.jsx(rs,{className:"w-5 h-5 text-primary-600"}):u.jsx(mu,{className:`w-5 h-5 ${r?"text-red-600":"text-gray-400"}`})}),u.jsxs("div",{className:"flex-1 min-w-0",children:[u.jsx("p",{className:`text-sm font-medium ${t.is_completed?"line-through text-gray-400":r?"text-red-600":"text-gray-900"}`,children:t.content}),u.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[t.person_thumbnail?u.jsx("img",{src:t.person_thumbnail,alt:t.person_name,loading:"lazy",className:"w-5 h-5 rounded-full object-cover"}):u.jsx("div",{className:"w-5 h-5 bg-gray-200 rounded-full flex items-center justify-center",children:u.jsx("span",{className:"text-xs text-gray-500",children:(n=t.person_name)==null?void 0:n[0]})}),u.jsx("span",{className:"text-xs text-gray-500 truncate",children:t.person_name})]}),t.due_date&&u.jsxs("p",{className:`text-xs mt-1 ${r&&!t.is_completed?"text-red-600 font-medium":"text-gray-500"}`,children:["Due: ",tn(new Date(t.due_date),"MMM d, yyyy"),r&&!t.is_completed&&" (overdue)"]})]})]})}function ise(){return u.jsxs("div",{className:"card p-12 text-center",children:[u.jsx("div",{className:"flex justify-center mb-4",children:u.jsx("div",{className:"p-4 bg-primary-50 rounded-full",children:u.jsx(dK,{className:"w-12 h-12 text-primary-600"})})}),u.jsxs("h2",{className:"text-2xl font-semibold text-gray-900 mb-2",children:["Welcome to ",yu,"!"]}),u.jsx("p",{className:"text-gray-600 mb-8 max-w-md mx-auto",children:"Get started by adding your first contact, organization, or important date. Your dashboard will populate as you add more information."}),u.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[u.jsxs(he,{to:"/people/new",className:"inline-flex items-center px-6 py-3 bg-primary-600 text-white rounded-lg hover:bg-primary-700 transition-colors",children:[u.jsx(Mt,{className:"w-5 h-5 mr-2"}),"Add Your First Person"]}),u.jsxs(he,{to:"/companies/new",className:"inline-flex items-center px-6 py-3 bg-white text-gray-700 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",children:[u.jsx(Mt,{className:"w-5 h-5 mr-2"}),"Add Your First Organization"]})]})]})}function sse(){var p,m,y;const{data:t,isLoading:e,error:r}=Xre(),{data:n}=vK(!1),i=gK(),s=b=>{i.mutate({todoId:b.id,data:{content:b.content,due_date:b.due_date,is_completed:!b.is_completed}})};if(e)return u.jsx("div",{className:"flex items-center justify-center h-64",children:u.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"})});if(r){const b=((p=r==null?void 0:r.response)==null?void 0:p.status)>=500||!(r!=null&&r.response);return u.jsx("div",{className:"card p-8 text-center",children:u.jsx("div",{className:"text-red-600 mb-2",children:b?u.jsxs(u.Fragment,{children:[u.jsx("p",{className:"font-medium mb-1",children:"Failed to load dashboard data"}),u.jsx("p",{className:"text-sm text-gray-600",children:"Please check your connection and try refreshing the page."})]}):u.jsxs(u.Fragment,{children:[u.jsx("p",{className:"font-medium mb-1",children:"Unable to load dashboard"}),u.jsx("p",{className:"text-sm text-gray-600",children:((y=(m=r==null?void 0:r.response)==null?void 0:m.data)==null?void 0:y.message)||"An error occurred while loading your data."})]})})})}const{stats:a,recent_people:o,upcoming_reminders:l,favorites:c}=t||{};if(((a==null?void 0:a.total_people)||0)+((a==null?void 0:a.total_companies)||0)+((a==null?void 0:a.total_dates)||0)===0)return u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-4",children:[u.jsx(Is,{title:"Total people",value:0,icon:$i,href:"/people"}),u.jsx(Is,{title:"Organizations",value:0,icon:Mi,href:"/companies"}),u.jsx(Is,{title:"Events",value:0,icon:ca,href:"/dates"}),u.jsx(Is,{title:"Open todos",value:0,icon:rs,href:"/todos"})]}),u.jsx(ise,{})]});const f=(n==null?void 0:n.slice(0,5))||[];return u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-4",children:[u.jsx(Is,{title:"Total people",value:(a==null?void 0:a.total_people)||0,icon:$i,href:"/people"}),u.jsx(Is,{title:"Organizations",value:(a==null?void 0:a.total_companies)||0,icon:Mi,href:"/companies"}),u.jsx(Is,{title:"Events",value:(a==null?void 0:a.total_dates)||0,icon:ca,href:"/dates"}),u.jsx(Is,{title:"Open todos",value:(a==null?void 0:a.open_todos_count)||0,icon:rs,href:"/todos"})]}),u.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[u.jsxs("div",{className:"card",children:[u.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-200",children:[u.jsxs("h2",{className:"font-semibold flex items-center",children:[u.jsx(ca,{className:"w-5 h-5 mr-2 text-gray-500"}),"Upcoming reminders"]}),u.jsxs(he,{to:"/dates",className:"text-sm text-primary-600 hover:text-primary-700 flex items-center",children:["View all reminders",u.jsx(Nv,{className:"w-4 h-4 ml-1"})]})]}),u.jsx("div",{className:"divide-y divide-gray-100",children:(l==null?void 0:l.length)>0?l.map(b=>u.jsx(rse,{reminder:b},b.id)):u.jsx("p",{className:"p-4 text-sm text-gray-500 text-center",children:"No upcoming reminders"})})]}),u.jsxs("div",{className:"card",children:[u.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-200",children:[u.jsxs("h2",{className:"font-semibold flex items-center",children:[u.jsx(rs,{className:"w-5 h-5 mr-2 text-gray-500"}),"Open todos"]}),u.jsxs(he,{to:"/todos",className:"text-sm text-primary-600 hover:text-primary-700 flex items-center",children:["View all todos",u.jsx(Nv,{className:"w-4 h-4 ml-1"})]})]}),u.jsx("div",{className:"divide-y divide-gray-100",children:f.length>0?f.map(b=>u.jsx(nse,{todo:b,onToggle:s},b.id)):u.jsx("p",{className:"p-4 text-sm text-gray-500 text-center",children:"No open todos"})})]})]}),u.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[u.jsxs("div",{className:"card",children:[u.jsx("div",{className:"flex items-center justify-between p-4 border-b border-gray-200",children:u.jsxs("h2",{className:"font-semibold flex items-center",children:[u.jsx(vu,{className:"w-5 h-5 mr-2 text-yellow-500 fill-current"}),"Favorites"]})}),(c==null?void 0:c.length)>0?u.jsx("div",{className:"divide-y divide-gray-100",children:c.slice(0,5).map(b=>u.jsx(HI,{person:b,hideStar:!0},b.id))}):u.jsx("p",{className:"p-4 text-sm text-gray-500 text-center",children:"No favorites yet"})]}),u.jsxs("div",{className:"card",children:[u.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-200",children:[u.jsxs("h2",{className:"font-semibold flex items-center",children:[u.jsx($i,{className:"w-5 h-5 mr-2 text-gray-500"}),"Recently edited people"]}),u.jsxs(he,{to:"/people",className:"text-sm text-primary-600 hover:text-primary-700 flex items-center",children:["View all people",u.jsx(Nv,{className:"w-4 h-4 ml-1"})]})]}),u.jsx("div",{className:"divide-y divide-gray-100",children:(o==null?void 0:o.length)>0?o.map(b=>u.jsx(HI,{person:b},b.id)):u.jsxs("p",{className:"p-4 text-sm text-gray-500 text-center",children:["No people yet. ",u.jsx(he,{to:"/people/new",className:"text-primary-600",children:"Add someone"})]})})]})]})]})}function VI(t){var i;const e=((i=t.acf)==null?void 0:i.work_history)||[];if(e.length===0)return null;const r=e.find(s=>s.is_current&&s.company);if(r)return r.company;const n=e.filter(s=>s.company).sort((s,a)=>{const o=s.start_date?new Date(s.start_date):new Date(0);return(a.start_date?new Date(a.start_date):new Date(0))-o});return n.length>0?n[0].company:null}function ase({person:t,companyName:e,isDeceased:r}){var n,i;return u.jsx(he,{to:`/people/${t.id}`,className:"card p-4 hover:shadow-md transition-shadow",children:u.jsxs("div",{className:"flex items-start",children:[t.thumbnail?u.jsx("img",{src:t.thumbnail,alt:t.name,loading:"lazy",className:"w-12 h-12 rounded-full object-cover"}):u.jsx("div",{className:"w-12 h-12 bg-gray-200 rounded-full flex items-center justify-center",children:u.jsx("span",{className:"text-lg font-medium text-gray-500",children:((n=t.first_name)==null?void 0:n[0])||"?"})}),u.jsxs("div",{className:"ml-3 flex-1 min-w-0",children:[u.jsxs("div",{className:"flex items-center",children:[u.jsxs("h3",{className:"text-sm font-medium text-gray-900 truncate",children:[t.name,r&&u.jsx("span",{className:"ml-1 text-gray-500",children:""})]}),t.is_favorite&&u.jsx(vu,{className:"w-4 h-4 ml-1 text-yellow-400 fill-current flex-shrink-0"})]}),e&&u.jsx("p",{className:"text-xs text-gray-500 mt-0.5 truncate",children:e}),((i=t.labels)==null?void 0:i.length)>0&&u.jsx("div",{className:"flex flex-wrap gap-1 mt-1",children:t.labels.slice(0,3).map(s=>u.jsx("span",{className:"inline-flex px-2 py-0.5 text-xs rounded-full bg-gray-100 text-gray-600",children:s},s))})]})]})})}function ose(){const[t,e]=I.useState(!1),[r,n]=I.useState(!1),[i,s]=I.useState([]),[a,o]=I.useState("first_name"),[l,c]=I.useState("asc"),d=I.useRef(null),h=I.useRef(null),{data:f,isLoading:p,error:m}=Bo(),{data:y}=mt({queryKey:["person-labels"],queryFn:async()=>(await We.getPersonLabels()).data}),b=(y==null?void 0:y.map(T=>T.name))||[];I.useEffect(()=>{const T=P=>{h.current&&!h.current.contains(P.target)&&d.current&&!d.current.contains(P.target)&&e(!1)};return document.addEventListener("mousedown",T),()=>{document.removeEventListener("mousedown",T)}},[]);const g=I.useMemo(()=>{if(!f)return[];let T=[...f];return r&&(T=T.filter(P=>P.is_favorite)),i.length>0&&(T=T.filter(P=>{const D=P.labels||[];return i.some(F=>D.includes(F))})),T.sort((P,D)=>{var L,V,W,z,K,fe,xe,Re;let F,Q;if(a==="first_name"?(F=(((L=P.acf)==null?void 0:L.first_name)||P.first_name||"").toLowerCase(),Q=(((V=D.acf)==null?void 0:V.first_name)||D.first_name||"").toLowerCase()):(F=(((W=P.acf)==null?void 0:W.last_name)||P.last_name||"").toLowerCase(),Q=(((z=D.acf)==null?void 0:z.last_name)||D.last_name||"").toLowerCase()),F===Q){const ge=a==="first_name"?(((K=P.acf)==null?void 0:K.last_name)||P.last_name||"").toLowerCase():(((fe=P.acf)==null?void 0:fe.first_name)||P.first_name||"").toLowerCase(),Ee=a==="first_name"?(((xe=D.acf)==null?void 0:xe.last_name)||D.last_name||"").toLowerCase():(((Re=D.acf)==null?void 0:Re.first_name)||D.first_name||"").toLowerCase(),ke=ge.localeCompare(Ee);return l==="asc"?ke:-ke}const H=F.localeCompare(Q);return l==="asc"?H:-H})},[f,r,i,a,l]),v=r||i.length>0,w=T=>{s(P=>P.includes(T)?P.filter(D=>D!==T):[...P,T])},x=()=>{n(!1),s([])},_=I.useMemo(()=>{if(!g)return[];const T=g.map(P=>VI(P)).filter(Boolean);return[...new Set(T)]},[g]),{data:E}=mt({queryKey:["companies","batch",_.sort().join(",")],queryFn:async()=>_.length===0?[]:(await We.getCompanies({per_page:100,include:_.join(",")})).data,enabled:_.length>0}),N=I.useMemo(()=>{const T={};return E&&E.forEach(P=>{T[P.id]=ns(P)}),T},[E]),S=I.useMemo(()=>{const T={};return g.forEach(P=>{const D=VI(P);D&&N[D]&&(T[P.id]=N[D])}),T},[g,N]),j=I.useMemo(()=>g.map(T=>T.id).filter(Boolean),[g]),C=pp({queries:j.map(T=>({queryKey:["person-dates",T],queryFn:async()=>(await $e.getPersonDates(T)).data,enabled:!!T}))}),O=I.useMemo(()=>{const T={};return C.forEach((P,D)=>{if(P.data&&j[D]){const F=j[D],Q=P.data.some(H=>{const L=Array.isArray(H.date_type)?H.date_type[0]:H.date_type;return(L==null?void 0:L.toLowerCase())==="died"});T[F]=Q}}),T},[C,j]);return u.jsxs("div",{className:"space-y-4",children:[u.jsx("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:u.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[u.jsxs("div",{className:"flex items-center gap-2 border border-gray-200 rounded-lg p-1",children:[u.jsxs("select",{value:a,onChange:T=>o(T.target.value),className:"text-sm border-0 bg-transparent focus:ring-0 focus:outline-none cursor-pointer",children:[u.jsx("option",{value:"first_name",children:"First name"}),u.jsx("option",{value:"last_name",children:"Last name"})]}),u.jsx("div",{className:"h-4 w-px bg-gray-300"}),u.jsx("button",{onClick:()=>c(l==="asc"?"desc":"asc"),className:"p-1 hover:bg-gray-100 rounded transition-colors",title:`Sort ${l==="asc"?"descending":"ascending"}`,children:l==="asc"?u.jsx(kre,{className:"w-4 h-4 text-gray-600"}):u.jsx($re,{className:"w-4 h-4 text-gray-600"})})]}),u.jsxs("div",{className:"relative",ref:d,children:[u.jsxs("button",{onClick:()=>e(!t),className:`btn-secondary ${v?"bg-primary-50 text-primary-700 border-primary-200":""}`,children:[u.jsx(Tj,{className:"w-4 h-4 md:mr-2"}),u.jsx("span",{className:"hidden md:inline",children:"Filter"}),v&&u.jsx("span",{className:"ml-2 px-1.5 py-0.5 bg-primary-600 text-white text-xs rounded-full",children:i.length+(r?1:0)})]}),t&&u.jsx("div",{ref:h,className:"absolute top-full left-0 mt-2 w-64 bg-white border border-gray-200 rounded-lg shadow-lg z-50",children:u.jsxs("div",{className:"p-4 space-y-4",children:[u.jsx("div",{children:u.jsxs("label",{className:"flex items-center cursor-pointer",children:[u.jsx("input",{type:"checkbox",checked:r,onChange:T=>n(T.target.checked),className:"sr-only"}),u.jsx("div",{className:`flex items-center justify-center w-5 h-5 border-2 rounded mr-3 ${r?"bg-primary-600 border-primary-600":"border-gray-300"}`,children:r&&u.jsx(qI,{className:"w-3 h-3 text-white"})}),u.jsxs("div",{className:"flex items-center",children:[u.jsx(vu,{className:"w-4 h-4 mr-2 text-yellow-400 fill-current"}),u.jsx("span",{className:"text-sm font-medium text-gray-900",children:"Favorites only"})]})]})}),b.length>0&&u.jsxs("div",{children:[u.jsx("h3",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wide mb-2",children:"Labels"}),u.jsx("div",{className:"space-y-1 max-h-48 overflow-y-auto",children:b.map(T=>u.jsxs("label",{className:"flex items-center cursor-pointer hover:bg-gray-50 p-1 rounded",children:[u.jsx("input",{type:"checkbox",checked:i.includes(T),onChange:()=>w(T),className:"sr-only"}),u.jsx("div",{className:`flex items-center justify-center w-5 h-5 border-2 rounded mr-3 ${i.includes(T)?"bg-primary-600 border-primary-600":"border-gray-300"}`,children:i.includes(T)&&u.jsx(qI,{className:"w-3 h-3 text-white"})}),u.jsx("span",{className:"text-sm text-gray-700",children:T})]},T))})]}),v&&u.jsx("button",{onClick:x,className:"w-full text-sm text-primary-600 hover:text-primary-700 font-medium pt-2 border-t border-gray-200",children:"Clear all filters"})]})})]}),v&&u.jsxs("div",{className:"flex flex-wrap gap-2",children:[r&&u.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 bg-primary-100 text-primary-800 rounded-full text-xs",children:[u.jsx(vu,{className:"w-3 h-3"}),"Favorites",u.jsx("button",{onClick:()=>n(!1),className:"hover:text-primary-600",children:u.jsx(cn,{className:"w-3 h-3"})})]}),i.map(T=>u.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 bg-gray-100 text-gray-800 rounded-full text-xs",children:[T,u.jsx("button",{onClick:()=>w(T),className:"hover:text-gray-600",children:u.jsx(cn,{className:"w-3 h-3"})})]},T))]}),u.jsxs(he,{to:"/people/new",className:"btn-primary",children:[u.jsx(Mt,{className:"w-4 h-4 md:mr-2"}),u.jsx("span",{className:"hidden md:inline",children:"Add person"})]})]})}),p&&u.jsx("div",{className:"flex items-center justify-center h-64",children:u.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"})}),m&&u.jsx("div",{className:"card p-6 text-center",children:u.jsx("p",{className:"text-red-600",children:"Failed to load people."})}),!p&&!m&&(f==null?void 0:f.length)===0&&u.jsxs("div",{className:"card p-12 text-center",children:[u.jsx("div",{className:"w-12 h-12 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4",children:u.jsx(Mt,{className:"w-6 h-6 text-gray-400"})}),u.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-1",children:"No people found"}),u.jsx("p",{className:"text-gray-500 mb-4",children:"Get started by adding your first person."}),u.jsxs(he,{to:"/people/new",className:"btn-primary",children:[u.jsx(Mt,{className:"w-4 h-4 md:mr-2"}),u.jsx("span",{className:"hidden md:inline",children:"Add person"})]})]}),!p&&!m&&(g==null?void 0:g.length)>0&&u.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:g.map(T=>u.jsx(ase,{person:T,companyName:S[T.id],isDeceased:O[T.id]||!1},T.id))}),!p&&!m&&(f==null?void 0:f.length)>0&&(g==null?void 0:g.length)===0&&u.jsxs("div",{className:"card p-12 text-center",children:[u.jsx("div",{className:"w-12 h-12 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4",children:u.jsx(Tj,{className:"w-6 h-6 text-gray-400"})}),u.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-1",children:"No people match your filters"}),u.jsx("p",{className:"text-gray-500 mb-4",children:"Try adjusting your filters to see more results."}),u.jsx("button",{onClick:x,className:"btn-secondary",children:"Clear filters"})]})]})}const lse="#0285FF",use=I.forwardRef(function({title:e="Bluesky",color:r="currentColor",size:n=24,...i},s){return r==="default"&&(r=lse),u.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:n,height:n,fill:r,viewBox:"0 0 24 24",ref:s,...i,children:[u.jsx("title",{children:e}),u.jsx("path",{d:"M12 10.8c-1.087-2.114-4.046-6.053-6.798-7.995C2.566.944 1.561 1.266.902 1.565.139 1.908 0 3.08 0 3.768c0 .69.378 5.65.624 6.479.815 2.736 3.713 3.66 6.383 3.364.136-.02.275-.039.415-.056-.138.022-.276.04-.415.056-3.912.58-7.387 2.005-2.83 7.078 5.013 5.19 6.87-1.113 7.823-4.308.953 3.195 2.05 9.271 7.733 4.308 4.267-4.308 1.172-6.498-2.74-7.078a8.741 8.741 0 0 1-.415-.056c.14.017.279.036.415.056 2.67.297 5.568-.628 6.383-3.364.246-.828.624-5.79.624-6.478 0-.69-.139-1.861-.902-2.206-.659-.298-1.664-.62-4.3 1.24C16.046 4.748 13.087 8.687 12 10.8Z"})]})}),cse="#0866FF",dse=I.forwardRef(function({title:e="Facebook",color:r="currentColor",size:n=24,...i},s){return r==="default"&&(r=cse),u.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:n,height:n,fill:r,viewBox:"0 0 24 24",ref:s,...i,children:[u.jsx("title",{children:e}),u.jsx("path",{d:"M9.101 23.691v-7.98H6.627v-3.667h2.474v-1.58c0-4.085 1.848-5.978 5.858-5.978.401 0 .955.042 1.468.103a8.68 8.68 0 0 1 1.141.195v3.325a8.623 8.623 0 0 0-.653-.036 26.805 26.805 0 0 0-.733-.009c-.707 0-1.259.096-1.675.309a1.686 1.686 0 0 0-.679.622c-.258.42-.374.995-.374 1.752v1.297h3.919l-.386 2.103-.287 1.564h-3.246v8.245C19.396 23.238 24 18.179 24 12.044c0-6.627-5.373-12-12-12s-12 5.373-12 12c0 5.628 3.874 10.35 9.101 11.647Z"})]})}),hse="#FF0069",fse=I.forwardRef(function({title:e="Instagram",color:r="currentColor",size:n=24,...i},s){return r==="default"&&(r=hse),u.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:n,height:n,fill:r,viewBox:"0 0 24 24",ref:s,...i,children:[u.jsx("title",{children:e}),u.jsx("path",{d:"M7.0301.084c-1.2768.0602-2.1487.264-2.911.5634-.7888.3075-1.4575.72-2.1228 1.3877-.6652.6677-1.075 1.3368-1.3802 2.127-.2954.7638-.4956 1.6365-.552 2.914-.0564 1.2775-.0689 1.6882-.0626 4.947.0062 3.2586.0206 3.6671.0825 4.9473.061 1.2765.264 2.1482.5635 2.9107.308.7889.72 1.4573 1.388 2.1228.6679.6655 1.3365 1.0743 2.1285 1.38.7632.295 1.6361.4961 2.9134.552 1.2773.056 1.6884.069 4.9462.0627 3.2578-.0062 3.668-.0207 4.9478-.0814 1.28-.0607 2.147-.2652 2.9098-.5633.7889-.3086 1.4578-.72 2.1228-1.3881.665-.6682 1.0745-1.3378 1.3795-2.1284.2957-.7632.4966-1.636.552-2.9124.056-1.2809.0692-1.6898.063-4.948-.0063-3.2583-.021-3.6668-.0817-4.9465-.0607-1.2797-.264-2.1487-.5633-2.9117-.3084-.7889-.72-1.4568-1.3876-2.1228C21.2982 1.33 20.628.9208 19.8378.6165 19.074.321 18.2017.1197 16.9244.0645 15.6471.0093 15.236-.005 11.977.0014 8.718.0076 8.31.0215 7.0301.0839m.1402 21.6932c-1.17-.0509-1.8053-.2453-2.2287-.408-.5606-.216-.96-.4771-1.3819-.895-.422-.4178-.6811-.8186-.9-1.378-.1644-.4234-.3624-1.058-.4171-2.228-.0595-1.2645-.072-1.6442-.079-4.848-.007-3.2037.0053-3.583.0607-4.848.05-1.169.2456-1.805.408-2.2282.216-.5613.4762-.96.895-1.3816.4188-.4217.8184-.6814 1.3783-.9003.423-.1651 1.0575-.3614 2.227-.4171 1.2655-.06 1.6447-.072 4.848-.079 3.2033-.007 3.5835.005 4.8495.0608 1.169.0508 1.8053.2445 2.228.408.5608.216.96.4754 1.3816.895.4217.4194.6816.8176.9005 1.3787.1653.4217.3617 1.056.4169 2.2263.0602 1.2655.0739 1.645.0796 4.848.0058 3.203-.0055 3.5834-.061 4.848-.051 1.17-.245 1.8055-.408 2.2294-.216.5604-.4763.96-.8954 1.3814-.419.4215-.8181.6811-1.3783.9-.4224.1649-1.0577.3617-2.2262.4174-1.2656.0595-1.6448.072-4.8493.079-3.2045.007-3.5825-.006-4.848-.0608M16.953 5.5864A1.44 1.44 0 1 0 18.39 4.144a1.44 1.44 0 0 0-1.437 1.4424M5.8385 12.012c.0067 3.4032 2.7706 6.1557 6.173 6.1493 3.4026-.0065 6.157-2.7701 6.1506-6.1733-.0065-3.4032-2.771-6.1565-6.174-6.1498-3.403.0067-6.156 2.771-6.1496 6.1738M8 12.0077a4 4 0 1 1 4.008 3.9921A3.9996 3.9996 0 0 1 8 12.0077"})]})}),pse="#000000",mse=I.forwardRef(function({title:e="Threads",color:r="currentColor",size:n=24,...i},s){return r==="default"&&(r=pse),u.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:n,height:n,fill:r,viewBox:"0 0 24 24",ref:s,...i,children:[u.jsx("title",{children:e}),u.jsx("path",{d:"M12.186 24h-.007c-3.581-.024-6.334-1.205-8.184-3.509C2.35 18.44 1.5 15.586 1.472 12.01v-.017c.03-3.579.879-6.43 2.525-8.482C5.845 1.205 8.6.024 12.18 0h.014c2.746.02 5.043.725 6.826 2.098 1.677 1.29 2.858 3.13 3.509 5.467l-2.04.569c-1.104-3.96-3.898-5.984-8.304-6.015-2.91.022-5.11.936-6.54 2.717C4.307 6.504 3.616 8.914 3.589 12c.027 3.086.718 5.496 2.057 7.164 1.43 1.783 3.631 2.698 6.54 2.717 2.623-.02 4.358-.631 5.8-2.045 1.647-1.613 1.618-3.593 1.09-4.798-.31-.71-.873-1.3-1.634-1.75-.192 1.352-.622 2.446-1.284 3.272-.886 1.102-2.14 1.704-3.73 1.79-1.202.065-2.361-.218-3.259-.801-1.063-.689-1.685-1.74-1.752-2.964-.065-1.19.408-2.285 1.33-3.082.88-.76 2.119-1.207 3.583-1.291a13.853 13.853 0 0 1 3.02.142c-.126-.742-.375-1.332-.75-1.757-.513-.586-1.308-.883-2.359-.89h-.029c-.844 0-1.992.232-2.721 1.32L7.734 7.847c.98-1.454 2.568-2.256 4.478-2.256h.044c3.194.02 5.097 1.975 5.287 5.388.108.046.216.094.321.142 1.49.7 2.58 1.761 3.154 3.07.797 1.82.871 4.79-1.548 7.158-1.85 1.81-4.094 2.628-7.277 2.65Zm1.003-11.69c-.242 0-.487.007-.739.021-1.836.103-2.98.946-2.916 2.143.067 1.256 1.452 1.839 2.784 1.767 1.224-.065 2.818-.543 3.086-3.71a10.5 10.5 0 0 0-2.215-.221z"})]})}),vse="#000000",gse=I.forwardRef(function({title:e="X",color:r="currentColor",size:n=24,...i},s){return r==="default"&&(r=vse),u.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:n,height:n,fill:r,viewBox:"0 0 24 24",ref:s,...i,children:[u.jsx("title",{children:e}),u.jsx("path",{d:"M18.901 1.153h3.68l-8.04 9.19L24 22.846h-7.406l-5.8-7.584-6.638 7.584H.474l8.6-9.83L0 1.154h7.594l5.243 6.932ZM17.61 20.644h2.039L6.486 3.24H4.298Z"})]})}),yse={Phone:cO,Mail:uO,Users:$i,Coffee:sK,Utensils:pK,FileText:lO,Circle:Cj};function bse({timeline:t,onEdit:e,onDelete:r,onToggleTodo:n,personId:i,allPeople:s=[]}){const a=I.useMemo(()=>Xie(t||[]),[t]),o=f=>s.find(p=>p.id.toString()===f.toString()),l=f=>{if(f.type==="todo")return f.is_completed?jj:mu;if(f.type==="activity"&&f.activity_type){const p=Zie(f.activity_type);return yse[p]||Cj}return f.type==="note"?lO:Cj},c=f=>{const p=l(f),m=f.type==="todo",y=f.type==="activity";f.type;const b=f.activity_date||f.created,g=Jie(b),v=tse(f),w=m&&th(f);return u.jsxs("div",{className:`relative ${m?"pl-0":"pl-8"} pb-6 group`,children:[!m&&u.jsx("div",{className:"absolute left-0 top-1",children:u.jsx("div",{className:`w-4 h-4 rounded-full border-2 ${y?"bg-blue-500 border-blue-500":"bg-gray-400 border-gray-400"}`})}),u.jsx("div",{className:`${v}`,children:u.jsxs("div",{className:"flex items-start justify-between",children:[u.jsxs("div",{className:"flex-1 min-w-0",children:[!m&&u.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[u.jsx(p,{className:`w-4 h-4 flex-shrink-0 ${y?"text-blue-600":"text-gray-500"}`}),y&&f.activity_type&&u.jsx("span",{className:"text-xs font-medium text-gray-600",children:ese(f.activity_type)}),u.jsx("span",{className:"text-xs text-gray-400",children:""}),u.jsx("span",{className:"text-xs text-gray-500",children:g})]}),u.jsxs("div",{className:"flex items-start gap-2",children:[m&&u.jsx("button",{onClick:()=>n&&n(f),className:"mt-0.5 flex-shrink-0",title:f.is_completed?"Mark as incomplete":"Mark as complete",children:f.is_completed?u.jsx(jj,{className:`w-5 h-5 ${w?"text-red-600":"text-primary-600"}`}):u.jsx(mu,{className:`w-5 h-5 ${w?"text-red-600":"text-gray-400"}`})}),u.jsx("p",{className:`text-sm flex-1 ${f.is_completed?"line-through opacity-60":""}`,children:f.content})]}),y&&f.participants&&f.participants.length>0&&u.jsxs("div",{className:"mt-2 flex flex-wrap items-center gap-2",children:[u.jsx("span",{className:"text-xs text-gray-500",children:"With:"}),f.participants.map(x=>{const _=o(x);return _?u.jsxs(he,{to:`/people/${x}`,className:"inline-flex items-center gap-1 text-xs text-primary-600 hover:text-primary-700 hover:underline",children:[u.jsx(oK,{className:"w-3 h-3"}),_.name]},x):null})]}),m&&f.due_date&&u.jsx("div",{className:"mt-2",children:u.jsxs("span",{className:`text-xs ${w?"text-red-600 font-medium":"text-gray-500"}`,children:["Due: ",tn(new Date(f.due_date),"MMM d, yyyy"),w&&" (overdue)"]})})]}),u.jsxs("div",{className:"flex items-center gap-1 opacity-0 group-hover:opacity-100 transition-opacity ml-2",children:[e&&u.jsx("button",{onClick:()=>e(f),className:"p-1 hover:bg-gray-100 rounded",title:"Edit",children:u.jsx(za,{className:"w-4 h-4 text-gray-400 hover:text-gray-600"})}),r&&u.jsx("button",{onClick:()=>r(f),className:"p-1 hover:bg-red-50 rounded",title:"Delete",children:u.jsx(An,{className:"w-4 h-4 text-gray-400 hover:text-red-600"})})]})]})})]},f.id)},d=(f,p)=>!p||p.length===0?null:u.jsxs("div",{className:"mb-6",children:[u.jsx("h3",{className:"text-sm font-semibold text-gray-700 mb-3 uppercase tracking-wide",children:f}),u.jsx("div",{className:"relative pl-4 border-l-2 border-gray-200",children:p.map(c)})]});return a.today.length>0||a.yesterday.length>0||a.thisWeek.length>0||a.older.length>0?u.jsxs("div",{className:"space-y-6",children:[d("Today",a.today),d("Yesterday",a.yesterday),d("This week",a.thisWeek),d("Older",a.older)]}):u.jsx("div",{className:"text-center py-8",children:u.jsx("p",{className:"text-sm text-gray-500",children:"No timeline items yet."})})}function xse({isOpen:t,onClose:e,onSubmit:r,isLoading:n}){const[i,s]=I.useState("");if(!t)return null;const a=l=>{l.preventDefault(),i.trim()&&(r(i),s(""))},o=()=>{s(""),e()};return u.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50",children:u.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-md mx-4",children:[u.jsxs("div",{className:"flex items-center justify-between p-4 border-b",children:[u.jsx("h2",{className:"text-lg font-semibold",children:"Add note"}),u.jsx("button",{onClick:o,className:"text-gray-400 hover:text-gray-600",disabled:n,children:u.jsx(cn,{className:"w-5 h-5"})})]}),u.jsxs("form",{onSubmit:a,className:"p-4",children:[u.jsxs("div",{className:"mb-4",children:[u.jsx("label",{htmlFor:"note-content",className:"block text-sm font-medium text-gray-700 mb-2",children:"Note"}),u.jsx("textarea",{id:"note-content",value:i,onChange:l=>s(l.target.value),rows:6,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent",placeholder:"Enter your note...",disabled:n,autoFocus:!0})]}),u.jsxs("div",{className:"flex justify-end gap-2",children:[u.jsx("button",{type:"button",onClick:o,className:"btn-secondary",disabled:n,children:"Cancel"}),u.jsx("button",{type:"submit",className:"btn-primary",disabled:n||!i.trim(),children:n?"Adding...":"Add note"})]})]})]})})}const Tv=[{id:"call",label:"Phone call",icon:cO},{id:"email",label:"Email",icon:uO},{id:"meeting",label:"Meeting",icon:$i},{id:"coffee",label:"Coffee",icon:sK},{id:"lunch",label:"Lunch",icon:pK},{id:"note",label:"Other",icon:lO}];function wse({isOpen:t,onClose:e,onSubmit:r,isLoading:n,personId:i}){const[s,a]=I.useState("call"),[o,l]=I.useState(""),[c,d]=I.useState(""),[h,f]=I.useState([]),[p,m]=I.useState(!1),[y,b]=I.useState(""),{data:g}=Bo();if(I.useEffect(()=>{if(t){const O=new Date().toISOString().split("T")[0];l(O),d(""),f([]),a("call")}},[t]),!t)return null;const v=(g||[]).filter(O=>O.id.toString()!==(i==null?void 0:i.toString())),w=v.filter(O=>{var T;return(T=O.name)==null?void 0:T.toLowerCase().includes(y.toLowerCase())}),x=O=>{O.preventDefault(),c.trim()&&(r({activity_type:s,activity_date:o||null,content:c.trim(),participants:h}),d(""),f([]),l(new Date().toISOString().split("T")[0]))},_=()=>{d(""),f([]),l(""),m(!1),b(""),e()},E=O=>{f(T=>T.includes(O)?T.filter(P=>P!==O):[...T,O])},N=O=>{f(T=>T.filter(P=>P!==O))},S=()=>v.filter(O=>h.includes(O.id)),j=O=>{if(!O)return"";try{return new Date(O).toISOString().split("T")[0]}catch{return""}};return(Tv.find(O=>O.id===s)||Tv[0]).icon,u.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50",children:u.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-md mx-4 max-h-[90vh] overflow-y-auto",children:[u.jsxs("div",{className:"flex items-center justify-between p-4 border-b sticky top-0 bg-white z-10",children:[u.jsx("h2",{className:"text-lg font-semibold",children:"Add activity"}),u.jsx("button",{onClick:_,className:"text-gray-400 hover:text-gray-600",disabled:n,children:u.jsx(cn,{className:"w-5 h-5"})})]}),u.jsxs("form",{onSubmit:x,className:"p-4",children:[u.jsxs("div",{className:"mb-4",children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Activity type"}),u.jsx("div",{className:"grid grid-cols-3 gap-2",children:Tv.map(O=>{const T=O.icon,P=s===O.id;return u.jsxs("button",{type:"button",onClick:()=>a(O.id),className:`flex flex-col items-center justify-center p-3 border-2 rounded-lg transition-colors ${P?"border-primary-600 bg-primary-50 text-primary-700":"border-gray-200 hover:border-gray-300 text-gray-700"}`,disabled:n,children:[u.jsx(T,{className:"w-5 h-5 mb-1"}),u.jsx("span",{className:"text-xs",children:O.label})]},O.id)})})]}),u.jsxs("div",{className:"mb-4",children:[u.jsx("label",{htmlFor:"activity-date",className:"block text-sm font-medium text-gray-700 mb-2",children:"Date"}),u.jsx("input",{id:"activity-date",type:"date",value:j(o),onChange:O=>l(O.target.value||""),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent",disabled:n})]}),u.jsxs("div",{className:"mb-4",children:[u.jsx("label",{htmlFor:"activity-content",className:"block text-sm font-medium text-gray-700 mb-2",children:"Description"}),u.jsx("textarea",{id:"activity-content",value:c,onChange:O=>d(O.target.value),rows:4,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent",placeholder:"What happened?",disabled:n,autoFocus:!0})]}),u.jsxs("div",{className:"mb-4",children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Participants (optional)"}),S().length>0&&u.jsx("div",{className:"flex flex-wrap gap-2 mb-2",children:S().map(O=>u.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 bg-primary-100 text-primary-700 rounded-full text-sm",children:[O.name,u.jsx("button",{type:"button",onClick:()=>N(O.id),className:"hover:text-primary-900",disabled:n,children:u.jsx(cn,{className:"w-3 h-3"})})]},O.id))}),u.jsxs("div",{className:"relative",children:[u.jsx("button",{type:"button",onClick:()=>m(!p),className:"w-full px-3 py-2 border border-gray-300 rounded-md text-left text-sm text-gray-500 hover:border-gray-400",disabled:n,children:h.length===0?"Add participants...":"Add more participants..."}),p&&u.jsxs("div",{className:"absolute z-20 w-full mt-1 bg-white border border-gray-300 rounded-md shadow-lg max-h-60 overflow-y-auto",children:[u.jsx("div",{className:"p-2 border-b",children:u.jsx("input",{type:"text",placeholder:"Search people...",value:y,onChange:O=>b(O.target.value),className:"w-full px-2 py-1 text-sm border border-gray-300 rounded",autoFocus:!0})}),u.jsx("div",{className:"max-h-48 overflow-y-auto",children:w.length===0?u.jsx("div",{className:"p-3 text-sm text-gray-500 text-center",children:"No people found"}):w.map(O=>{var P;const T=h.includes(O.id);return u.jsxs("button",{type:"button",onClick:()=>E(O.id),className:`w-full px-3 py-2 text-left text-sm hover:bg-gray-50 flex items-center gap-2 ${T?"bg-primary-50":""}`,children:[u.jsx("input",{type:"checkbox",checked:T,onChange:()=>{},className:"mr-1"}),O.thumbnail?u.jsx("img",{src:O.thumbnail,alt:O.name,className:"w-6 h-6 rounded-full"}):u.jsx("div",{className:"w-6 h-6 bg-gray-200 rounded-full flex items-center justify-center",children:u.jsx("span",{className:"text-xs text-gray-500",children:((P=O.first_name)==null?void 0:P[0])||"?"})}),u.jsx("span",{children:O.name})]},O.id)})})]})]})]}),u.jsxs("div",{className:"flex justify-end gap-2",children:[u.jsx("button",{type:"button",onClick:_,className:"btn-secondary",disabled:n,children:"Cancel"}),u.jsx("button",{type:"submit",className:"btn-primary",disabled:n||!c.trim(),children:n?"Adding...":"Add activity"})]})]})]})})}function RK({isOpen:t,onClose:e,onSubmit:r,isLoading:n,todo:i=null}){const[s,a]=I.useState(""),[o,l]=I.useState(""),[c,d]=I.useState(!1),h=()=>new Date().toISOString().split("T")[0];if(I.useEffect(()=>{i?(a(i.content||""),l(i.due_date||""),d(i.is_completed||!1)):(a(""),l(h()),d(!1))},[i,t]),!t)return null;const f=y=>{y.preventDefault(),s.trim()&&(r({content:s.trim(),due_date:o||null,is_completed:c}),i||(a(""),l(h()),d(!1)))},p=()=>{i||(a(""),l(h()),d(!1)),e()},m=y=>{if(!y)return"";try{return new Date(y).toISOString().split("T")[0]}catch{return""}};return u.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50",children:u.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-md mx-4",children:[u.jsxs("div",{className:"flex items-center justify-between p-4 border-b",children:[u.jsx("h2",{className:"text-lg font-semibold",children:i?"Edit todo":"Add todo"}),u.jsx("button",{onClick:p,className:"text-gray-400 hover:text-gray-600",disabled:n,children:u.jsx(cn,{className:"w-5 h-5"})})]}),u.jsxs("form",{onSubmit:f,className:"p-4",children:[u.jsxs("div",{className:"mb-4",children:[u.jsx("label",{htmlFor:"todo-content",className:"block text-sm font-medium text-gray-700 mb-2",children:"Description"}),u.jsx("textarea",{id:"todo-content",value:s,onChange:y=>a(y.target.value),rows:4,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent",placeholder:"What needs to be done?",disabled:n,autoFocus:!0})]}),u.jsxs("div",{className:"mb-4",children:[u.jsx("label",{htmlFor:"todo-due-date",className:"block text-sm font-medium text-gray-700 mb-2",children:"Due date (optional)"}),u.jsx("input",{id:"todo-due-date",type:"date",value:m(o),onChange:y=>l(y.target.value||""),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent",disabled:n})]}),i&&u.jsx("div",{className:"mb-4",children:u.jsxs("label",{className:"flex items-center",children:[u.jsx("input",{type:"checkbox",checked:c,onChange:y=>d(y.target.checked),className:"mr-2",disabled:n}),u.jsx("span",{className:"text-sm text-gray-700",children:"Completed"})]})}),u.jsxs("div",{className:"flex justify-end gap-2",children:[u.jsx("button",{type:"button",onClick:p,className:"btn-secondary",disabled:n,children:"Cancel"}),u.jsx("button",{type:"submit",className:"btn-primary",disabled:n||!s.trim(),children:n?i?"Saving...":"Adding...":i?"Save":"Add todo"})]})]})]})})}function zi(t){return t?String(t).replace(/\\/g,"\\\\").replace(/;/g,"\\;").replace(/,/g,"\\,").replace(/\n/g,"\\n"):""}function _se(t){return t?t.replace(/[^\d+]/g,""):""}function KI(t){if(!t)return"";const e=new Date(t);if(isNaN(e.getTime()))return"";const r=e.getFullYear(),n=String(e.getMonth()+1).padStart(2,"0"),i=String(e.getDate()).padStart(2,"0");return`${r}${n}${i}`}function Sse(t,e={}){if(!t||!Array.isArray(t))return{title:"",org:""};const r=t.find(i=>i.is_current);if(r){const i=r.company&&e[r.company]?e[r.company].name||e[r.company]:"";return{title:r.job_title||"",org:i}}const n=[...t].filter(i=>i.start_date).sort((i,s)=>new Date(s.start_date)-new Date(i.start_date));if(n.length>0){const i=n[0].company&&e[n[0].company]?e[n[0].company].name||e[n[0].company]:"";return{title:n[0].job_title||"",org:i}}return{title:"",org:""}}function Ese(t,e={}){if(!t)throw new Error("Person data is required");const{companyMap:r={},personDates:n=[]}=e,i=t.acf||{},s=[];s.push("BEGIN:VCARD"),s.push("VERSION:3.0");const a=i.first_name||"",o=i.last_name||"",l=t.name||`${a} ${o}`.trim()||"Unknown";s.push(`FN:${zi(l)}`),s.push(`N:${zi(o)};${zi(a)};;;`),i.nickname&&s.push(`NICKNAME:${zi(i.nickname)}`),i.contact_info&&Array.isArray(i.contact_info)&&i.contact_info.forEach(h=>{if(!h.contact_value)return;const f=zi(h.contact_value),p=h.contact_label?zi(h.contact_label):"";switch(h.contact_type){case"email":const m=p?`EMAIL;TYPE=INTERNET,${p.toUpperCase()}`:"EMAIL;TYPE=INTERNET";s.push(`${m}:${f}`);break;case"phone":case"mobile":const y=h.contact_type==="mobile"?"CELL":"VOICE",b=p?`TEL;TYPE=${y},${p.toUpperCase()}`:`TEL;TYPE=${y}`,g=_se(h.contact_value);g&&s.push(`${b}:${g}`);break;case"address":s.push(`ADR;TYPE=HOME:;;${f};;;;`);break;case"website":case"linkedin":case"twitter":case"instagram":case"facebook":let v=h.contact_value;v.match(/^https?:\/\//i)||(v=`https://${v}`);const w=h.contact_type==="linkedin"?"PROFILE":"WORK",x=p?`URL;TYPE=${w},${p.toUpperCase()}`:`URL;TYPE=${w}`;s.push(`${x}:${zi(v)}`);break}});const{title:c,org:d}=Sse(i.work_history,r);if(d&&s.push(`ORG:${zi(d)}`),c&&s.push(`TITLE:${zi(c)}`),n&&Array.isArray(n)){const h=n.find(f=>{const p=Array.isArray(f.date_type)?f.date_type[0]:f.date_type;return(p==null?void 0:p.toLowerCase())==="birthday"});if(h!=null&&h.date_value){const f=KI(h.date_value);f&&s.push(`BDAY:${f}`)}}if(t.thumbnail,t.modified){const h=KI(t.modified);h&&s.push(`REV:${h}T000000Z`)}return s.push("END:VCARD"),s.join(`\r
`)}function Nse(t,e={}){const{filename:r,...n}=e,i=Ese(t,n),s=new Blob([i],{type:"text/vcard;charset=utf-8"}),a=URL.createObjectURL(s),o=document.createElement("a");o.href=a,o.download=r||`${t.name||"contact"}.vcf`.replace(/[^a-z0-9.-]/gi,"_"),document.body.appendChild(o),o.click(),document.body.removeChild(o),URL.revokeObjectURL(a)}const jse=({className:t})=>u.jsx("svg",{className:t,viewBox:"0 0 382 382",xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",children:u.jsx("path",{d:`M347.445,0H34.555C15.471,0,0,15.471,0,34.555v312.889C0,366.529,15.471,382,34.555,382h312.889
      C366.529,382,382,366.529,382,347.444V34.555C382,15.471,366.529,0,347.445,0z M118.207,329.844c0,5.554-4.502,10.056-10.056,10.056
      H65.345c-5.554,0-10.056-4.502-10.056-10.056V150.403c0-5.554,4.502-10.056,10.056-10.056h42.806
      c5.554,0,10.056,4.502,10.056,10.056V329.844z M86.748,123.432c-22.459,0-40.666-18.207-40.666-40.666S64.289,42.1,86.748,42.1
      s40.666,18.207,40.666,40.666S109.208,123.432,86.748,123.432z M341.91,330.654c0,5.106-4.14,9.246-9.246,9.246H286.73
      c-5.106,0-9.246-4.14-9.246-9.246v-84.168c0-12.556,3.683-55.021-32.813-55.021c-28.309,0-34.051,29.066-35.204,42.11v97.079
      c0,5.106-4.139,9.246-9.246,9.246h-44.426c-5.106,0-9.246-4.14-9.246-9.246V149.593c0-5.106,4.14-9.246,9.246-9.246h44.426
      c5.106,0,9.246,4.14,9.246,9.246v15.655c10.497-15.753,26.097-27.912,59.312-27.912c73.552,0,73.131,68.716,73.131,106.472
      L341.91,330.654L341.91,330.654z`})});function uf(t){if(!t)return null;switch(t){case"male":return"";case"female":return"";case"non_binary":case"other":case"prefer_not_to_say":return"";default:return null}}function Cse(){var jT,CT,OT,TT,PT,IT,RT,$T,kT,DT,MT,qT,AT,FT;const{id:t}=_s(),e=Kr(),r=tt(),{data:n,isLoading:i,error:s}=Du(t),{data:a}=tne(t),{data:o}=rne(t),l=ine(),c=ane(),d=dne(),h=Zd(),f=sne(),p=one(),m=bK(),y=une(),b=lne(),g=cne(),{data:v}=Bo(),[w,x]=I.useState(!1),[_,E]=I.useState(""),[N,S]=I.useState(!1),j=I.useRef(null),[C,O]=I.useState(!1),[T,P]=I.useState(!1),[D,F]=I.useState(!1),[Q,H]=I.useState(null),{data:L}=mt({queryKey:["person-labels"],queryFn:async()=>(await We.getPersonLabels()).data}),V=L||[],W=(n==null?void 0:n.labels)||[],z=((TT=(OT=(CT=(jT=n==null?void 0:n._embedded)==null?void 0:jT["wp:term"])==null?void 0:CT.flat())==null?void 0:OT.filter(k=>(k==null?void 0:k.taxonomy)==="person_label"))==null?void 0:TT.map(k=>k.id))||[],K=V.filter(k=>!W.includes(k.name));fn((n==null?void 0:n.name)||((PT=n==null?void 0:n.title)==null?void 0:PT.rendered)||(n==null?void 0:n.title)||"Person");const fe=o==null?void 0:o.find(k=>{const Y=Array.isArray(k.date_type)?k.date_type[0]:k.date_type;return(Y==null?void 0:Y.toLowerCase())==="birthday"}),xe=fe!=null&&fe.date_value?new Date(fe.date_value):null,Re=o==null?void 0:o.find(k=>{const Y=Array.isArray(k.date_type)?k.date_type[0]:k.date_type;return(Y==null?void 0:Y.toLowerCase())==="died"}),ge=Re!=null&&Re.date_value?new Date(Re.date_value):null,Ee=!!ge,ke=xe?jv(Ee?ge:new Date,xe):null,it=o?[...o].sort((k,Y)=>{const G=k.date_value?new Date(k.date_value):new Date(0),Ce=Y.date_value?new Date(Y.date_value):new Date(0);return G-Ce}):[],rr=async()=>{if(window.confirm("Are you sure you want to delete this person?"))try{await l.mutateAsync(t),e("/people")}catch(k){console.error("Failed to delete person:",k),alert("Failed to delete person. Please try again.")}},bt=k=>{if(!k)return"";let Y=k.replace(/[\u200B-\u200D\uFEFF\u200E\u200F\u202A-\u202E]/g,"");const G=Y.startsWith("+");return Y=Y.replace(/\D/g,""),G?`+${Y}`:Y},fr=async k=>{var Ce;if(!window.confirm("Are you sure you want to delete this contact detail?"))return;const Y=[...((Ce=n.acf)==null?void 0:Ce.contact_info)||[]];Y.splice(k,1);const G=Ga(n.acf,{contact_info:Y});await h.mutateAsync({id:t,data:{acf:G}})},ut=async k=>{var Da,Xn,Li,dc,LT,BT;if(!window.confirm("Are you sure you want to delete this relationship?"))return;const Y=(Xn=(Da=n.acf)==null?void 0:Da.relationships)==null?void 0:Xn[k];if(!Y)return;const G=Y.related_person,Ce=Y.relationship_type;let Fe=!0;G&&Ce&&(Fe=window.confirm("Do you also want to delete the inverse relationship from the other person?"));let Qe=null;if(!Fe&&G&&Ce)try{const[yi,Fh]=await Promise.all([We.getPerson(G,{_embed:!0}),We.getRelationshipTypes()]),Km={};Fh.data.forEach(hc=>{Km[hc.id]=hc});const In=Km[Ce],Ma=(Li=In==null?void 0:In.acf)==null?void 0:Li.inverse_relationship_type;if(Ma){const fc=(((dc=yi.data.acf)==null?void 0:dc.relationships)||[]).find(Bi=>{var zT,UT;const HQ=typeof Bi.related_person=="object"?(zT=Bi.related_person)==null?void 0:zT.ID:Bi.related_person,VQ=typeof Bi.relationship_type=="object"?(UT=Bi.relationship_type)==null?void 0:UT.term_id:Bi.relationship_type;return HQ===parseInt(t)&&VQ===Ma});fc&&(Qe={related_person:parseInt(t),relationship_type:Ma,relationship_label:fc.relationship_label||""})}}catch(yi){console.error("Failed to fetch inverse relationship:",yi)}const at=[...((LT=n.acf)==null?void 0:LT.relationships)||[]];at.splice(k,1);const ol=Ga(n.acf,{relationships:at});if(await h.mutateAsync({id:t,data:{acf:ol}}),!Fe&&Qe&&G){await new Promise(yi=>setTimeout(yi,500));try{const yi=await We.getPerson(G,{_embed:!0}),Fh=((BT=yi.data.acf)==null?void 0:BT.relationships)||[];if(!Fh.some(In=>{var fc,Bi;const Ma=typeof In.related_person=="object"?(fc=In.related_person)==null?void 0:fc.ID:In.related_person,hc=typeof In.relationship_type=="object"?(Bi=In.relationship_type)==null?void 0:Bi.term_id:In.relationship_type;return Ma===Qe.related_person&&hc===Qe.relationship_type})){const In=[...Fh,Qe],Ma=Ga(yi.data.acf,{relationships:In});await We.updatePerson(G,{acf:Ma})}}catch(yi){console.error("Failed to restore inverse relationship:",yi)}}r.invalidateQueries({queryKey:["person",t]}),G&&r.invalidateQueries({queryKey:["person",G]}),r.invalidateQueries({queryKey:["people"]})},Pr=async k=>{window.confirm("Are you sure you want to delete this important date?")&&await d.mutateAsync({dateId:k,personId:t})},Ir=async k=>{window.confirm("Are you sure you want to delete this note?")&&await c.mutateAsync({noteId:k,personId:t})},_r=async k=>{try{await f.mutateAsync({personId:t,content:k}),O(!1)}catch(Y){console.error("Failed to create note:",Y),alert("Failed to create note. Please try again.")}},st=async k=>{try{await p.mutateAsync({personId:t,data:k}),P(!1)}catch(Y){console.error("Failed to create activity:",Y),alert("Failed to create activity. Please try again.")}},Bt=async k=>{try{await m.mutateAsync({personId:t,data:k}),F(!1),H(null)}catch(Y){console.error("Failed to create todo:",Y),alert("Failed to create todo. Please try again.")}},Rr=async k=>{if(Q)try{await y.mutateAsync({todoId:Q.id,data:k,personId:t}),F(!1),H(null)}catch(Y){console.error("Failed to update todo:",Y),alert("Failed to update todo. Please try again.")}},$r=async k=>{try{await y.mutateAsync({todoId:k.id,data:{content:k.content,due_date:k.due_date,is_completed:!k.is_completed},personId:t})}catch(Y){console.error("Failed to toggle todo:",Y),alert("Failed to update todo. Please try again.")}},$=async k=>{window.confirm("Are you sure you want to delete this activity?")&&await b.mutateAsync({activityId:k,personId:t})},M=async k=>{window.confirm("Are you sure you want to delete this todo?")&&await g.mutateAsync({todoId:k,personId:t})},A=k=>{k.type==="todo"&&(H(k),F(!0))},se=k=>{k.type==="note"?Ir(k.id):k.type==="activity"?$(k.id):k.type==="todo"&&M(k.id)},re=async k=>{var Ce;if(!window.confirm("Are you sure you want to delete this work history item?"))return;const Y=[...((Ce=n.acf)==null?void 0:Ce.work_history)||[]];Y.splice(k,1);const G=Ga(n.acf,{work_history:Y});await h.mutateAsync({id:t,data:{acf:G}})},X=async k=>{var Ce,Fe,Qe;const Y=(Qe=(Fe=(Ce=n==null?void 0:n._embedded)==null?void 0:Ce["wp:term"])==null?void 0:Fe.flat())==null?void 0:Qe.find(at=>(at==null?void 0:at.taxonomy)==="person_label"&&(at==null?void 0:at.name)===k);if(!Y)return;const G=z.filter(at=>at!==Y.id);await h.mutateAsync({id:t,data:{person_label:G}})},U=async()=>{if(!_)return;const k=V.find(G=>G.id.toString()===_);if(!k)return;const Y=[...z,k.id];await h.mutateAsync({id:t,data:{person_label:Y}}),E(""),x(!1)},oe=async k=>{var G;const Y=(G=k.target.files)==null?void 0:G[0];if(Y){if(!Y.type.startsWith("image/")){alert("Please select an image file");return}if(Y.size>5*1024*1024){alert("Image size must be less than 5MB");return}S(!0);try{await $e.uploadPersonPhoto(t,Y),r.invalidateQueries({queryKey:["person",t]}),r.invalidateQueries({queryKey:["people"]})}catch(Ce){console.error("Failed to upload photo:",Ce),alert("Failed to upload photo. Please try again.")}finally{S(!1),j.current&&(j.current.value="")}}},de=()=>{if(n)try{Nse(n,{companyMap:Yr,personDates:o||[]})}catch(k){console.error("Failed to export vCard:",k),alert("Failed to export vCard. Please try again.")}},ze=((RT=(IT=n==null?void 0:n.acf)==null?void 0:IT.work_history)==null?void 0:RT.map(k=>k.company).filter(Boolean))||[],ve=pp({queries:ze.map(k=>({queryKey:["company",k],queryFn:async()=>(await We.getCompany(k,{_embed:!0})).data,enabled:!!k}))}),J=((kT=($T=n==null?void 0:n.acf)==null?void 0:$T.relationships)==null?void 0:kT.map(k=>k.related_person).filter(Boolean))||[],le=pp({queries:J.map(k=>({queryKey:["person-dates",k],queryFn:async()=>(await $e.getPersonDates(k)).data,enabled:!!k}))}),ae=I.useMemo(()=>{const k={};return le.forEach((Y,G)=>{if(Y.data&&J[G]){const Ce=J[G],Fe=Y.data.find(Qe=>{const at=Array.isArray(Qe.date_type)?Qe.date_type[0]:Qe.date_type;return(at==null?void 0:at.toLowerCase())==="birthday"});if(Fe!=null&&Fe.date_value){const Qe=new Date(Fe.date_value);k[Ce]=jv(new Date,Qe)}else k[Ce]=-1}}),k},[le,J]),we=I.useMemo(()=>{const k={};return le.forEach((Y,G)=>{if(Y.data&&J[G]){const Ce=J[G],Fe=Y.data.some(Qe=>{const at=Array.isArray(Qe.date_type)?Qe.date_type[0]:Qe.date_type;return(at==null?void 0:at.toLowerCase())==="died"});k[Ce]=Fe}}),k},[le,J]),De=I.useMemo(()=>{var k;return(k=n==null?void 0:n.acf)!=null&&k.relationships?[...n.acf.relationships].sort((Y,G)=>{const Ce=ae[Y.related_person]??-1,Fe=ae[G.related_person]??-1;return Ce===-1&&Fe===-1?0:Ce===-1?1:Fe===-1?-1:Fe-Ce}):[]},[(DT=n==null?void 0:n.acf)==null?void 0:DT.relationships,ae]),Yr={};ve.forEach((k,Y)=>{var G,Ce,Fe,Qe,at,ol,Da,Xn,Li;if(k.data){const dc=ze[Y];Yr[dc]={name:ns(k.data),logo:((Fe=(Ce=(G=k.data._embedded)==null?void 0:G["wp:featuredmedia"])==null?void 0:Ce[0])==null?void 0:Fe.source_url)||((Li=(Xn=(Da=(ol=(at=(Qe=k.data._embedded)==null?void 0:Qe["wp:featuredmedia"])==null?void 0:at[0])==null?void 0:ol.media_details)==null?void 0:Da.sizes)==null?void 0:Xn.thumbnail)==null?void 0:Li.source_url)||null}}});const Pn=I.useMemo(()=>{var k;return(k=n==null?void 0:n.acf)!=null&&k.work_history?[...n.acf.work_history].map((Y,G)=>({...Y,originalIndex:G})).sort((Y,G)=>{if(Y.is_current&&!G.is_current)return-1;if(!Y.is_current&&G.is_current)return 1;const Ce=Y.start_date?new Date(Y.start_date):new Date(0);return(G.start_date?new Date(G.start_date):new Date(0))-Ce}):[]},[(MT=n==null?void 0:n.acf)==null?void 0:MT.work_history]),cc=I.useMemo(()=>a?a.filter(Y=>Y.type==="todo").sort((Y,G)=>{if(Y.is_completed&&!G.is_completed)return 1;if(!Y.is_completed&&G.is_completed)return-1;if(!Y.is_completed&&!G.is_completed){if(Y.due_date&&G.due_date)return new Date(Y.due_date)-new Date(G.due_date);if(Y.due_date&&!G.due_date)return-1;if(!Y.due_date&&G.due_date)return 1}return new Date(G.created)-new Date(Y.created)}):[],[a]);if(I.useEffect(()=>{(n==null?void 0:n.status)==="trash"&&e("/people",{replace:!0})},[n,e]),i)return u.jsx("div",{className:"flex items-center justify-center h-64",children:u.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"})});if(s||!n)return u.jsxs("div",{className:"card p-6 text-center",children:[u.jsx("p",{className:"text-red-600",children:"Failed to load person."}),u.jsx(he,{to:"/people",className:"btn-secondary mt-4",children:"Back to people"})]});if(n.status==="trash")return null;const Sr=n.acf||{},Vm=["facebook","linkedin","instagram","twitter","bluesky","threads","website"],zQ=((qT=Sr.contact_info)==null?void 0:qT.filter(k=>Vm.includes(k.contact_type)))||[],ET={linkedin:1,twitter:2,bluesky:3,threads:4,instagram:5,facebook:6,website:7},NT=[...zQ].sort((k,Y)=>{const G=ET[k.contact_type]||99,Ce=ET[Y.contact_type]||99;return G-Ce}),UQ=k=>{switch(k){case"facebook":return dse;case"linkedin":return jse;case"instagram":return fse;case"twitter":return gse;case"bluesky":return use;case"threads":return mse;case"website":return Df;default:return Df}},WQ=k=>{switch(k){case"facebook":return"text-[#1877F2]";case"linkedin":return"text-[#0077B7]";case"instagram":return"text-[#E4405F]";case"twitter":return"text-[#1DA1F2]";case"bluesky":return"text-[#00A8E8]";case"threads":return"text-[#000000]";case"website":return"text-gray-600";default:return"text-gray-600"}};return u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs(he,{to:"/people",className:"flex items-center text-gray-600 hover:text-gray-900",children:[u.jsx(En,{className:"w-4 h-4 md:mr-2"}),u.jsx("span",{className:"hidden md:inline",children:"Back to people"})]}),u.jsxs("div",{className:"flex gap-2",children:[u.jsxs("button",{onClick:de,className:"btn-secondary",children:[u.jsx(Oj,{className:"w-4 h-4 md:mr-2"}),u.jsx("span",{className:"hidden md:inline",children:"Export vCard"})]}),u.jsxs(he,{to:`/people/${t}/edit`,className:"btn-secondary",children:[u.jsx(hK,{className:"w-4 h-4 md:mr-2"}),u.jsx("span",{className:"hidden md:inline",children:"Edit"})]}),u.jsxs("button",{onClick:rr,className:"btn-danger",children:[u.jsx(An,{className:"w-4 h-4 md:mr-2"}),u.jsx("span",{className:"hidden md:inline",children:"Delete"})]})]})]}),u.jsxs("div",{className:"card p-6 relative",children:[u.jsx("div",{className:"absolute top-4 right-4",children:u.jsx(he,{to:`/people/${t}/family-tree`,className:"btn-secondary text-sm",children:"View family tree"})}),u.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center gap-4",children:[u.jsxs("div",{className:"relative group",children:[n.thumbnail?u.jsx("img",{src:n.thumbnail,alt:n.name,className:"w-28 h-28 rounded-full object-cover"}):u.jsx("div",{className:"w-28 h-28 bg-gray-200 rounded-full flex items-center justify-center",children:u.jsx("span",{className:"text-3xl font-medium text-gray-500",children:((AT=n.first_name)==null?void 0:AT[0])||"?"})}),u.jsx("div",{className:"absolute inset-0 rounded-full bg-black bg-opacity-0 group-hover:bg-opacity-50 transition-all duration-200 flex items-center justify-center cursor-pointer",onClick:()=>{var k;return(k=j.current)==null?void 0:k.click()},children:N?u.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-white"}):u.jsx(kf,{className:"w-6 h-6 text-white opacity-0 group-hover:opacity-100 transition-opacity"})}),u.jsx("input",{ref:j,type:"file",accept:"image/*",onChange:oe,className:"hidden",disabled:N})]}),u.jsxs("div",{className:"flex-1 space-y-3",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsxs("h1",{className:"text-2xl font-bold",children:[n.name,Ee&&u.jsx("span",{className:"ml-1 text-gray-500",children:""})]}),n.is_favorite&&u.jsx(vu,{className:"w-5 h-5 text-yellow-400 fill-current"})]}),Sr.nickname&&u.jsxs("p",{className:"text-gray-500",children:['"',Sr.nickname,'"']}),Ee&&ge&&ke!==null&&u.jsxs("p",{className:"text-gray-500 text-sm",children:[uf(Sr.gender)&&u.jsx("span",{className:"mr-1",children:uf(Sr.gender)}),"Died ",tn(ge,"MMMM d, yyyy")," at age ",ke]}),!Ee&&ke!==null&&u.jsxs("p",{className:"text-gray-500 text-sm",children:[uf(Sr.gender)&&u.jsx("span",{className:"mr-1",children:uf(Sr.gender)}),ke," years old"]}),u.jsxs("div",{children:[u.jsxs("div",{className:"flex flex-wrap gap-2 items-center",children:[n.labels&&n.labels.length>0&&n.labels.map((k,Y)=>u.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 rounded-full text-xs font-medium bg-gray-100 text-gray-700 group/label",children:[k,u.jsx("button",{onClick:()=>X(k),className:"opacity-0 group-hover/label:opacity-100 transition-opacity hover:bg-gray-200 rounded-full p-0.5",title:"Remove label",children:u.jsx(cn,{className:"w-3 h-3"})})]},Y)),w?u.jsxs("div",{className:"inline-flex items-center gap-2",children:[u.jsxs("select",{value:_,onChange:k=>E(k.target.value),className:"text-xs border border-gray-300 rounded px-2 py-1",autoFocus:!0,disabled:K.length===0,children:[u.jsx("option",{value:"",children:"Select a label..."}),K.map(k=>u.jsx("option",{value:k.id,children:k.name},k.id))]}),u.jsx("button",{onClick:U,disabled:!_,className:"text-xs px-2 py-1 bg-primary-600 text-white rounded hover:bg-primary-700 disabled:opacity-50 disabled:cursor-not-allowed",children:"Add"}),u.jsx("button",{onClick:()=>{x(!1),E("")},className:"text-xs px-2 py-1 bg-gray-200 text-gray-700 rounded hover:bg-gray-300",children:"Cancel"})]}):K.length>0&&u.jsxs("button",{onClick:()=>x(!0),className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-gray-100 text-gray-700 hover:bg-gray-200 transition-colors",children:[u.jsx(Mt,{className:"w-3 h-3 mr-1"}),"Add label"]})]}),NT.length>0&&u.jsx("div",{className:"flex items-center gap-3 mt-4",children:NT.map((k,Y)=>{const G=UQ(k.contact_type),Ce=WQ(k.contact_type);let Fe=k.contact_value;return Fe.match(/^https?:\/\//i)||(Fe=`https://${Fe}`),u.jsx("a",{href:Fe,target:"_blank",rel:"noopener noreferrer",className:`flex-shrink-0 hover:opacity-80 transition-opacity ${Ce}`,title:`${k.contact_type.charAt(0).toUpperCase()+k.contact_type.slice(1)}: ${k.contact_value}`,children:u.jsx(G,{className:"w-5 h-5"})},Y)})})]})]})]})]}),u.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[u.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[!Ee&&u.jsxs("div",{className:"card p-6",children:[u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsx("h2",{className:"font-semibold",children:"Contact information"}),u.jsxs(he,{to:`/people/${t}/contact/new`,className:"btn-secondary text-sm",children:[u.jsx(Mt,{className:"w-4 h-4 md:mr-1"}),u.jsx("span",{className:"hidden md:inline",children:"Add contact detail"})]})]}),((FT=Sr.contact_info)==null?void 0:FT.filter(k=>!Vm.includes(k.contact_type)).length)>0?u.jsx("div",{className:"space-y-2",children:(()=>{const k={email:1,phone:2,mobile:2,address:3,other:4};return Sr.contact_info.filter(G=>!Vm.includes(G.contact_type)).map((G,Ce)=>({...G,originalIndex:Ce})).sort((G,Ce)=>{const Fe=k[G.contact_type]||99,Qe=k[Ce.contact_type]||99;return Fe!==Qe?Fe-Qe:G.originalIndex-Ce.originalIndex}).map((G,Ce)=>{Sr.contact_info.indexOf(G);const Fe=G.contact_type==="email"?uO:G.contact_type==="phone"||G.contact_type==="mobile"?cO:G.contact_type==="address"?Bre:Df,Qe=G.contact_type==="email",at=G.contact_type==="phone"||G.contact_type==="mobile",ol=G.contact_type==="mobile",Da=G.contact_type==="address";let Xn=null,Li=null;return Qe?Xn=`mailto:${G.contact_value}`:at?Xn=`tel:${bt(G.contact_value)}`:Da&&(Xn=`https://www.google.com/maps/search/?api=1&query=${encodeURIComponent(G.contact_value)}`,Li="_blank"),u.jsx("div",{className:"group",children:u.jsxs("div",{className:"flex items-center rounded-md -mx-2 px-2 py-1.5 group-hover:bg-gray-50 transition-colors",children:[u.jsx(Fe,{className:"w-4 h-4 text-gray-400 mr-3 flex-shrink-0"}),u.jsxs("div",{className:"flex-1 min-w-0 flex items-center gap-2",children:[u.jsxs("span",{className:"text-sm text-gray-500",children:[G.contact_label||G.contact_type,": "]}),Xn?u.jsx("a",{href:Xn,target:Li||void 0,rel:Li==="_blank"?"noopener noreferrer":void 0,className:"text-primary-600 hover:text-primary-700 hover:underline",children:G.contact_value}):u.jsx("span",{children:G.contact_value}),ol&&u.jsx("a",{href:`https://wa.me/${bt(G.contact_value)}`,target:"_blank",rel:"noopener noreferrer",className:"flex-shrink-0 hover:opacity-80 transition-opacity",title:"Open WhatsApp",children:u.jsx(Ure,{className:"w-4 h-4 text-[#25D366]"})})]}),u.jsxs("div",{className:"flex items-center gap-1 opacity-0 group-hover:opacity-100 transition-opacity ml-2",children:[u.jsx(he,{to:`/people/${t}/contact/${G.originalIndex}/edit`,className:"p-1 hover:bg-gray-100 rounded",title:"Edit contact detail",children:u.jsx(za,{className:"w-4 h-4 text-gray-400 hover:text-gray-600"})}),u.jsx("button",{onClick:()=>fr(G.originalIndex),className:"p-1 hover:bg-red-50 rounded",title:"Delete contact detail",children:u.jsx(An,{className:"w-4 h-4 text-gray-400 hover:text-red-600"})})]})]})},G.originalIndex)})})()}):u.jsx("p",{className:"text-sm text-gray-500 text-center py-4",children:"No contact information yet."})]}),u.jsxs("div",{className:"card p-6",children:[u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsx("h2",{className:"font-semibold",children:"Events"}),u.jsxs(he,{to:`/dates/new?person=${t}`,className:"btn-secondary text-sm",children:[u.jsx(Mt,{className:"w-4 h-4 md:mr-1"}),u.jsx("span",{className:"hidden md:inline",children:"Add Important Date"})]})]}),it.length>0?u.jsx("div",{className:"space-y-3",children:it.map(k=>{const Y=Array.isArray(k.date_type)?k.date_type[0]:k.date_type,G=(Y==null?void 0:Y.toLowerCase())||"",Ce=G.includes("died"),Fe=G.includes("wedding")||G.includes("marriage")?Are:G.includes("birthday")?qre:ca;return u.jsxs("div",{className:"flex items-start group",children:[u.jsx("div",{className:"w-8 h-8 bg-gray-100 rounded-lg flex items-center justify-center mr-3",children:Ce?u.jsx("span",{className:"text-gray-500 text-lg font-semibold",children:""}):u.jsx(Fe,{className:"w-4 h-4 text-gray-500"})}),u.jsxs("div",{className:"flex-1",children:[u.jsx("p",{className:"text-sm font-medium",children:k.title}),u.jsx("p",{className:"text-xs text-gray-500",children:k.date_value&&tn(new Date(k.date_value),"MMMM d, yyyy")}),Y&&u.jsx("p",{className:"text-xs text-gray-400 capitalize",children:Y})]}),u.jsxs("div",{className:"flex items-center gap-1 opacity-0 group-hover:opacity-100 transition-opacity",children:[u.jsx(he,{to:`/dates/${k.id}/edit`,className:"p-1 hover:bg-gray-100 rounded",title:"Edit date",children:u.jsx(za,{className:"w-4 h-4 text-gray-400 hover:text-gray-600"})}),u.jsx("button",{onClick:()=>Pr(k.id),className:"p-1 hover:bg-red-50 rounded",title:"Delete date",children:u.jsx(An,{className:"w-4 h-4 text-gray-400 hover:text-red-600"})})]})]},k.id)})}):u.jsx("p",{className:"text-sm text-gray-500 text-center py-4",children:"No important dates yet."})]}),u.jsxs("div",{className:"card p-6",children:[u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsx("h2",{className:"font-semibold",children:"Work history"}),u.jsxs(he,{to:`/people/${t}/work-history/new`,className:"btn-secondary text-sm",children:[u.jsx(Mt,{className:"w-4 h-4 md:mr-1"}),u.jsx("span",{className:"hidden md:inline",children:"Add work history"})]})]}),(Pn==null?void 0:Pn.length)>0?u.jsx("div",{className:"space-y-4",children:Pn.map((k,Y)=>{const G=k.company?Yr[k.company]:null,Ce=k.originalIndex;return u.jsxs("div",{className:"flex items-start group",children:[G!=null&&G.logo?u.jsx("img",{src:G.logo,alt:G.name,className:"w-20 h-20 rounded-lg object-contain bg-white mr-3 flex-shrink-0"}):u.jsx("div",{className:"w-20 h-20 bg-white rounded-lg flex items-center justify-center mr-3 flex-shrink-0 border border-gray-200",children:u.jsx(Mi,{className:"w-10 h-10 text-gray-500"})}),u.jsxs("div",{className:"flex-1 min-w-0",children:[u.jsx("p",{className:"font-medium",children:k.job_title}),k.company&&G&&u.jsx(he,{to:`/companies/${k.company}`,className:"text-sm text-primary-600 hover:underline",children:G.name}),u.jsxs("p",{className:"text-sm text-gray-500",children:[k.start_date&&tn(new Date(k.start_date),"MMM yyyy")," - ",k.is_current?"Present":k.end_date?tn(new Date(k.end_date),"MMM yyyy"):""]}),k.description&&u.jsx("p",{className:"text-sm text-gray-600 mt-1",children:k.description})]}),u.jsxs("div",{className:"flex items-center gap-1 opacity-0 group-hover:opacity-100 transition-opacity ml-2",children:[u.jsx(he,{to:`/people/${t}/work-history/${Ce}/edit`,className:"p-1 hover:bg-gray-100 rounded",title:"Edit work history",children:u.jsx(za,{className:"w-4 h-4 text-gray-400 hover:text-gray-600"})}),u.jsx("button",{onClick:()=>re(Ce),className:"p-1 hover:bg-red-50 rounded",title:"Delete work history",children:u.jsx(An,{className:"w-4 h-4 text-gray-400 hover:text-red-600"})})]})]},Ce)})}):u.jsx("p",{className:"text-sm text-gray-500 text-center py-4",children:"No work history yet."})]}),u.jsxs("div",{className:"card p-6",children:[u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsx("h2",{className:"font-semibold",children:"Timeline"}),u.jsxs("div",{className:"flex gap-2",children:[u.jsxs("button",{onClick:()=>O(!0),className:"btn-secondary text-sm",children:[u.jsx(Mt,{className:"w-4 h-4 md:mr-1"}),u.jsx("span",{className:"hidden md:inline",children:"Note"})]}),u.jsxs("button",{onClick:()=>P(!0),className:"btn-secondary text-sm",children:[u.jsx(Mt,{className:"w-4 h-4 md:mr-1"}),u.jsx("span",{className:"hidden md:inline",children:"Activity"})]})]})]}),u.jsx(bse,{timeline:a||[],onEdit:A,onDelete:se,onToggleTodo:$r,personId:t,allPeople:v||[]})]}),u.jsx(xse,{isOpen:C,onClose:()=>O(!1),onSubmit:_r,isLoading:f.isPending}),u.jsx(wse,{isOpen:T,onClose:()=>P(!1),onSubmit:st,isLoading:p.isPending,personId:t}),u.jsx(RK,{isOpen:D,onClose:()=>{F(!1),H(null)},onSubmit:Q?Rr:Bt,isLoading:Q?y.isPending:m.isPending,todo:Q})]}),u.jsxs("div",{className:"space-y-6",children:[(Sr.how_we_met||Sr.met_date)&&u.jsxs("div",{className:"card p-6",children:[u.jsx("h2",{className:"font-semibold mb-3",children:"How we met"}),Sr.met_date&&u.jsxs("p",{className:"text-sm text-gray-500 mb-2",children:[u.jsx(ca,{className:"w-4 h-4 inline mr-1"}),tn(new Date(Sr.met_date),"MMMM d, yyyy")]}),Sr.how_we_met&&u.jsx("p",{className:"text-sm",children:Sr.how_we_met})]}),u.jsxs("div",{className:"card p-6",children:[u.jsxs("div",{className:"flex items-center justify-between mb-3",children:[u.jsx("h2",{className:"font-semibold",children:"Todos"}),u.jsxs("button",{onClick:()=>{H(null),F(!0)},className:"btn-secondary text-sm",children:[u.jsx(Mt,{className:"w-4 h-4 md:mr-1"}),u.jsx("span",{className:"hidden md:inline",children:"Add todo"})]})]}),cc.length>0?u.jsx("div",{className:"space-y-2",children:cc.map(k=>{const Y=th(k);return u.jsxs("div",{className:"flex items-start p-2 rounded hover:bg-gray-50 group",children:[u.jsx("button",{onClick:()=>$r(k),className:"mt-0.5 mr-2 flex-shrink-0",title:k.is_completed?"Mark as incomplete":"Mark as complete",children:k.is_completed?u.jsx(jj,{className:"w-5 h-5 text-primary-600"}):u.jsx(mu,{className:`w-5 h-5 ${Y?"text-red-600":"text-gray-400"}`})}),u.jsxs("div",{className:"flex-1 min-w-0",children:[u.jsx("p",{className:`text-sm ${k.is_completed?"line-through text-gray-400":Y?"text-red-600":""}`,children:k.content}),k.due_date&&u.jsxs("p",{className:`text-xs mt-0.5 ${Y&&!k.is_completed?"text-red-600 font-medium":"text-gray-500"}`,children:["Due: ",tn(new Date(k.due_date),"MMM d, yyyy"),Y&&!k.is_completed&&" (overdue)"]})]}),u.jsxs("div",{className:"flex items-center gap-1 opacity-0 group-hover:opacity-100 transition-opacity ml-2",children:[u.jsx("button",{onClick:()=>{H(k),F(!0)},className:"p-1 hover:bg-gray-100 rounded",title:"Edit todo",children:u.jsx(za,{className:"w-4 h-4 text-gray-400 hover:text-gray-600"})}),u.jsx("button",{onClick:()=>M(k.id),className:"p-1 hover:bg-red-50 rounded",title:"Delete todo",children:u.jsx(An,{className:"w-4 h-4 text-gray-400 hover:text-red-600"})})]})]},k.id)})}):u.jsx("p",{className:"text-sm text-gray-500 text-center py-4",children:"No todos yet."})]}),u.jsxs("div",{className:"card p-6",children:[u.jsxs("div",{className:"flex items-center justify-between mb-3",children:[u.jsx("h2",{className:"font-semibold",children:"Relationships"}),u.jsxs(he,{to:`/people/${t}/relationship/new`,className:"btn-secondary text-sm",children:[u.jsx(Mt,{className:"w-4 h-4 md:mr-1"}),u.jsx("span",{className:"hidden md:inline",children:"Add relationship"})]})]}),(De==null?void 0:De.length)>0?u.jsx("div",{className:"space-y-2",children:De.map((k,Y)=>{var Ce,Fe,Qe;const G=((Fe=(Ce=n==null?void 0:n.acf)==null?void 0:Ce.relationships)==null?void 0:Fe.findIndex(at=>at.related_person===k.related_person&&at.relationship_type===k.relationship_type))??Y;return u.jsxs("div",{className:"flex items-center p-2 rounded hover:bg-gray-50 group",children:[u.jsxs(he,{to:`/people/${k.related_person}`,className:"flex items-center flex-1 min-w-0",children:[k.person_thumbnail?u.jsx("img",{src:k.person_thumbnail,alt:ui(k.person_name)||"",className:"w-8 h-8 rounded-full object-cover mr-2"}):u.jsx("div",{className:"w-8 h-8 bg-gray-200 rounded-full mr-2 flex items-center justify-center",children:u.jsx("span",{className:"text-xs font-medium text-gray-500",children:((Qe=ui(k.person_name))==null?void 0:Qe[0])||"?"})}),u.jsxs("div",{children:[u.jsxs("p",{className:"text-sm font-medium",children:[ui(k.person_name)||`Person #${k.related_person}`,we[k.related_person]&&u.jsx("span",{className:"text-gray-400 ml-1",title:"Deceased",children:""})]}),u.jsx("p",{className:"text-xs text-gray-500",children:ui(k.relationship_name||k.relationship_label)})]})]}),u.jsxs("div",{className:"flex items-center gap-1 opacity-0 group-hover:opacity-100 transition-opacity ml-2",children:[u.jsx(he,{to:`/people/${t}/relationship/${G}/edit`,className:"p-1 hover:bg-gray-100 rounded",title:"Edit relationship",children:u.jsx(za,{className:"w-4 h-4 text-gray-400 hover:text-gray-600"})}),u.jsx("button",{onClick:()=>ut(G),className:"p-1 hover:bg-red-50 rounded",title:"Delete relationship",children:u.jsx(An,{className:"w-4 h-4 text-gray-400 hover:text-red-600"})})]})]},Y)})}):u.jsx("p",{className:"text-sm text-gray-500 text-center py-4",children:"No relationships yet."})]})]})]})]})}var rh=t=>t.type==="checkbox",Ya=t=>t instanceof Date,Jr=t=>t==null;const $K=t=>typeof t=="object";var Wt=t=>!Jr(t)&&!Array.isArray(t)&&$K(t)&&!Ya(t),kK=t=>Wt(t)&&t.target?rh(t.target)?t.target.checked:t.target.value:t,Ose=t=>t.substring(0,t.search(/\.\d+(\.|$)/))||t,DK=(t,e)=>t.has(Ose(e)),Tse=t=>{const e=t.constructor&&t.constructor.prototype;return Wt(e)&&e.hasOwnProperty("isPrototypeOf")},dO=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function Jt(t){if(t instanceof Date)return new Date(t);const e=typeof FileList<"u"&&t instanceof FileList;if(dO&&(t instanceof Blob||e))return t;const r=Array.isArray(t);if(!r&&!(Wt(t)&&Tse(t)))return t;const n=r?[]:Object.create(Object.getPrototypeOf(t));for(const i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=Jt(t[i]));return n}var cm=t=>/^\w*$/.test(t),$t=t=>t===void 0,hO=t=>Array.isArray(t)?t.filter(Boolean):[],fO=t=>hO(t.replace(/["|']|\]/g,"").split(/\.|\[/)),ce=(t,e,r)=>{if(!e||!Wt(t))return r;const n=(cm(e)?[e]:fO(e)).reduce((i,s)=>Jr(i)?i:i[s],t);return $t(n)||n===t?$t(t[e])?r:t[e]:n},bn=t=>typeof t=="boolean",Br=t=>typeof t=="function",ct=(t,e,r)=>{let n=-1;const i=cm(e)?[e]:fO(e),s=i.length,a=s-1;for(;++n<s;){const o=i[n];let l=r;if(n!==a){const c=t[o];l=Wt(c)||Array.isArray(c)?c:isNaN(+i[n+1])?{}:[]}if(o==="__proto__"||o==="constructor"||o==="prototype")return;t[o]=l,t=t[o]}};const wp={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},oi={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},Ui={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},MK=Pe.createContext(null);MK.displayName="HookFormContext";const pO=()=>Pe.useContext(MK);var qK=(t,e,r,n=!0)=>{const i={defaultValues:e._defaultValues};for(const s in t)Object.defineProperty(i,s,{get:()=>{const a=s;return e._proxyFormState[a]!==oi.all&&(e._proxyFormState[a]=!n||oi.all),r&&(r[a]=!0),t[a]}});return i};const mO=typeof window<"u"?Pe.useLayoutEffect:Pe.useEffect;function Pse(t){const e=pO(),{control:r=e.control,disabled:n,name:i,exact:s}=t||{},[a,o]=Pe.useState(r._formState),l=Pe.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1});return mO(()=>r._subscribe({name:i,formState:l.current,exact:s,callback:c=>{!n&&o({...r._formState,...c})}}),[i,n,s]),Pe.useEffect(()=>{l.current.isValid&&r._setValid(!0)},[r]),Pe.useMemo(()=>qK(a,r,l.current,!1),[a,r])}var xn=t=>typeof t=="string",Pj=(t,e,r,n,i)=>xn(t)?(n&&e.watch.add(t),ce(r,t,i)):Array.isArray(t)?t.map(s=>(n&&e.watch.add(s),ce(r,s))):(n&&(e.watchAll=!0),r),Ij=t=>Jr(t)||!$K(t);function li(t,e,r=new WeakSet){if(Ij(t)||Ij(e))return Object.is(t,e);if(Ya(t)&&Ya(e))return t.getTime()===e.getTime();const n=Object.keys(t),i=Object.keys(e);if(n.length!==i.length)return!1;if(r.has(t)||r.has(e))return!0;r.add(t),r.add(e);for(const s of n){const a=t[s];if(!i.includes(s))return!1;if(s!=="ref"){const o=e[s];if(Ya(a)&&Ya(o)||Wt(a)&&Wt(o)||Array.isArray(a)&&Array.isArray(o)?!li(a,o,r):!Object.is(a,o))return!1}}return!0}function Ise(t){const e=pO(),{control:r=e.control,name:n,defaultValue:i,disabled:s,exact:a,compute:o}=t||{},l=Pe.useRef(i),c=Pe.useRef(o),d=Pe.useRef(void 0),h=Pe.useRef(r),f=Pe.useRef(n);c.current=o;const[p,m]=Pe.useState(()=>{const x=r._getWatch(n,l.current);return c.current?c.current(x):x}),y=Pe.useCallback(x=>{const _=Pj(n,r._names,x||r._formValues,!1,l.current);return c.current?c.current(_):_},[r._formValues,r._names,n]),b=Pe.useCallback(x=>{if(!s){const _=Pj(n,r._names,x||r._formValues,!1,l.current);if(c.current){const E=c.current(_);li(E,d.current)||(m(E),d.current=E)}else m(_)}},[r._formValues,r._names,s,n]);mO(()=>((h.current!==r||!li(f.current,n))&&(h.current=r,f.current=n,b()),r._subscribe({name:n,formState:{values:!0},exact:a,callback:x=>{b(x.values)}})),[r,a,n,b]),Pe.useEffect(()=>r._removeUnmounted());const g=h.current!==r,v=f.current,w=Pe.useMemo(()=>{if(s)return null;const x=!g&&!li(v,n);return g||x?y():null},[s,g,n,v,y]);return w!==null?w:p}function Rse(t){const e=pO(),{name:r,disabled:n,control:i=e.control,shouldUnregister:s,defaultValue:a,exact:o=!0}=t,l=DK(i._names.array,r),c=Pe.useMemo(()=>ce(i._formValues,r,ce(i._defaultValues,r,a)),[i,r,a]),d=Ise({control:i,name:r,defaultValue:c,exact:o}),h=Pse({control:i,name:r,exact:o}),f=Pe.useRef(t),p=Pe.useRef(void 0),m=Pe.useRef(i.register(r,{...t.rules,value:d,...bn(t.disabled)?{disabled:t.disabled}:{}}));f.current=t;const y=Pe.useMemo(()=>Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!ce(h.errors,r)},isDirty:{enumerable:!0,get:()=>!!ce(h.dirtyFields,r)},isTouched:{enumerable:!0,get:()=>!!ce(h.touchedFields,r)},isValidating:{enumerable:!0,get:()=>!!ce(h.validatingFields,r)},error:{enumerable:!0,get:()=>ce(h.errors,r)}}),[h,r]),b=Pe.useCallback(x=>m.current.onChange({target:{value:kK(x),name:r},type:wp.CHANGE}),[r]),g=Pe.useCallback(()=>m.current.onBlur({target:{value:ce(i._formValues,r),name:r},type:wp.BLUR}),[r,i._formValues]),v=Pe.useCallback(x=>{const _=ce(i._fields,r);_&&_._f&&x&&(_._f.ref={focus:()=>Br(x.focus)&&x.focus(),select:()=>Br(x.select)&&x.select(),setCustomValidity:E=>Br(x.setCustomValidity)&&x.setCustomValidity(E),reportValidity:()=>Br(x.reportValidity)&&x.reportValidity()})},[i._fields,r]),w=Pe.useMemo(()=>({name:r,value:d,...bn(n)||h.disabled?{disabled:h.disabled||n}:{},onChange:b,onBlur:g,ref:v}),[r,n,h.disabled,b,g,v,d]);return Pe.useEffect(()=>{const x=i._options.shouldUnregister||s,_=p.current;_&&_!==r&&!l&&i.unregister(_),i.register(r,{...f.current.rules,...bn(f.current.disabled)?{disabled:f.current.disabled}:{}});const E=(N,S)=>{const j=ce(i._fields,N);j&&j._f&&(j._f.mount=S)};if(E(r,!0),x){const N=Jt(ce(i._options.defaultValues,r,f.current.defaultValue));ct(i._defaultValues,r,N),$t(ce(i._formValues,r))&&ct(i._formValues,r,N)}return!l&&i.register(r),p.current=r,()=>{(l?x&&!i._state.action:x)?i.unregister(r):E(r,!1)}},[r,i,l,s]),Pe.useEffect(()=>{i._setDisabledField({disabled:n,name:r})},[n,r,i]),Pe.useMemo(()=>({field:w,formState:h,fieldState:y}),[w,h,y])}const _p=t=>t.render(Rse(t));var $se=(t,e,r,n,i)=>e?{...r[t],types:{...r[t]&&r[t].types?r[t].types:{},[n]:i||!0}}:{},Kc=t=>Array.isArray(t)?t:[t],GI=()=>{let t=[];return{get observers(){return t},next:i=>{for(const s of t)s.next&&s.next(i)},subscribe:i=>(t.push(i),{unsubscribe:()=>{t=t.filter(s=>s!==i)}}),unsubscribe:()=>{t=[]}}};function AK(t,e){const r={};for(const n in t)if(t.hasOwnProperty(n)){const i=t[n],s=e[n];if(i&&Wt(i)&&s){const a=AK(i,s);Wt(a)&&(r[n]=a)}else t[n]&&(r[n]=s)}return r}var Mr=t=>Wt(t)&&!Object.keys(t).length,vO=t=>t.type==="file",Sp=t=>{if(!dO)return!1;const e=t?t.ownerDocument:0;return t instanceof(e&&e.defaultView?e.defaultView.HTMLElement:HTMLElement)},FK=t=>t.type==="select-multiple",gO=t=>t.type==="radio",kse=t=>gO(t)||rh(t),Pv=t=>Sp(t)&&t.isConnected;function Dse(t,e){const r=e.slice(0,-1).length;let n=0;for(;n<r;)t=$t(t)?n++:t[e[n++]];return t}function Mse(t){for(const e in t)if(t.hasOwnProperty(e)&&!$t(t[e]))return!1;return!0}function zt(t,e){const r=Array.isArray(e)?e:cm(e)?[e]:fO(e),n=r.length===1?t:Dse(t,r),i=r.length-1,s=r[i];return n&&delete n[s],i!==0&&(Wt(n)&&Mr(n)||Array.isArray(n)&&Mse(n))&&zt(t,r.slice(0,-1)),t}var qse=t=>{for(const e in t)if(Br(t[e]))return!0;return!1};function LK(t){return Array.isArray(t)||Wt(t)&&!qse(t)}function Rj(t,e={}){for(const r in t){const n=t[r];LK(n)?(e[r]=Array.isArray(n)?[]:{},Rj(n,e[r])):$t(n)||(e[r]=!0)}return e}function pl(t,e,r){r||(r=Rj(e));for(const n in t){const i=t[n];if(LK(i))$t(e)||Ij(r[n])?r[n]=Rj(i,Array.isArray(i)?[]:{}):pl(i,Jr(e)?{}:e[n],r[n]);else{const s=e[n];r[n]=!li(i,s)}}return r}const YI={value:!1,isValid:!1},QI={value:!0,isValid:!0};var BK=t=>{if(Array.isArray(t)){if(t.length>1){const e=t.filter(r=>r&&r.checked&&!r.disabled).map(r=>r.value);return{value:e,isValid:!!e.length}}return t[0].checked&&!t[0].disabled?t[0].attributes&&!$t(t[0].attributes.value)?$t(t[0].value)||t[0].value===""?QI:{value:t[0].value,isValid:!0}:QI:YI}return YI},zK=(t,{valueAsNumber:e,valueAsDate:r,setValueAs:n})=>$t(t)?t:e?t===""?NaN:t&&+t:r&&xn(t)?new Date(t):n?n(t):t;const XI={isValid:!1,value:null};var UK=t=>Array.isArray(t)?t.reduce((e,r)=>r&&r.checked&&!r.disabled?{isValid:!0,value:r.value}:e,XI):XI;function JI(t){const e=t.ref;return vO(e)?e.files:gO(e)?UK(t.refs).value:FK(e)?[...e.selectedOptions].map(({value:r})=>r):rh(e)?BK(t.refs).value:zK($t(e.value)?t.ref.value:e.value,t)}var Ase=(t,e,r,n)=>{const i={};for(const s of t){const a=ce(e,s);a&&ct(i,s,a._f)}return{criteriaMode:r,names:[...t],fields:i,shouldUseNativeValidation:n}},Ep=t=>t instanceof RegExp,jc=t=>$t(t)?t:Ep(t)?t.source:Wt(t)?Ep(t.value)?t.value.source:t.value:t,ZI=t=>({isOnSubmit:!t||t===oi.onSubmit,isOnBlur:t===oi.onBlur,isOnChange:t===oi.onChange,isOnAll:t===oi.all,isOnTouch:t===oi.onTouched});const eR="AsyncFunction";var Fse=t=>!!t&&!!t.validate&&!!(Br(t.validate)&&t.validate.constructor.name===eR||Wt(t.validate)&&Object.values(t.validate).find(e=>e.constructor.name===eR)),Lse=t=>t.mount&&(t.required||t.min||t.max||t.maxLength||t.minLength||t.pattern||t.validate),tR=(t,e,r)=>!r&&(e.watchAll||e.watch.has(t)||[...e.watch].some(n=>t.startsWith(n)&&/^\.\w+/.test(t.slice(n.length))));const Gc=(t,e,r,n)=>{for(const i of r||Object.keys(t)){const s=ce(t,i);if(s){const{_f:a,...o}=s;if(a){if(a.refs&&a.refs[0]&&e(a.refs[0],i)&&!n)return!0;if(a.ref&&e(a.ref,a.name)&&!n)return!0;if(Gc(o,e))break}else if(Wt(o)&&Gc(o,e))break}}};function rR(t,e,r){const n=ce(t,r);if(n||cm(r))return{error:n,name:r};const i=r.split(".");for(;i.length;){const s=i.join("."),a=ce(e,s),o=ce(t,s);if(a&&!Array.isArray(a)&&r!==s)return{name:r};if(o&&o.type)return{name:s,error:o};if(o&&o.root&&o.root.type)return{name:`${s}.root`,error:o.root};i.pop()}return{name:r}}var Bse=(t,e,r,n)=>{r(t);const{name:i,...s}=t;return Mr(s)||Object.keys(s).length>=Object.keys(e).length||Object.keys(s).find(a=>e[a]===(!n||oi.all))},zse=(t,e,r)=>!t||!e||t===e||Kc(t).some(n=>n&&(r?n===e:n.startsWith(e)||e.startsWith(n))),Use=(t,e,r,n,i)=>i.isOnAll?!1:!r&&i.isOnTouch?!(e||t):(r?n.isOnBlur:i.isOnBlur)?!t:(r?n.isOnChange:i.isOnChange)?t:!0,Wse=(t,e)=>!hO(ce(t,e)).length&&zt(t,e),Hse=(t,e,r)=>{const n=Kc(ce(t,r));return ct(n,"root",e[r]),ct(t,r,n),t};function nR(t,e,r="validate"){if(xn(t)||Array.isArray(t)&&t.every(xn)||bn(t)&&!t)return{type:r,message:xn(t)?t:"",ref:e}}var cl=t=>Wt(t)&&!Ep(t)?t:{value:t,message:""},iR=async(t,e,r,n,i,s)=>{const{ref:a,refs:o,required:l,maxLength:c,minLength:d,min:h,max:f,pattern:p,validate:m,name:y,valueAsNumber:b,mount:g}=t._f,v=ce(r,y);if(!g||e.has(y))return{};const w=o?o[0]:a,x=T=>{i&&w.reportValidity&&(w.setCustomValidity(bn(T)?"":T||""),w.reportValidity())},_={},E=gO(a),N=rh(a),S=E||N,j=(b||vO(a))&&$t(a.value)&&$t(v)||Sp(a)&&a.value===""||v===""||Array.isArray(v)&&!v.length,C=$se.bind(null,y,n,_),O=(T,P,D,F=Ui.maxLength,Q=Ui.minLength)=>{const H=T?P:D;_[y]={type:T?F:Q,message:H,ref:a,...C(T?F:Q,H)}};if(s?!Array.isArray(v)||!v.length:l&&(!S&&(j||Jr(v))||bn(v)&&!v||N&&!BK(o).isValid||E&&!UK(o).isValid)){const{value:T,message:P}=xn(l)?{value:!!l,message:l}:cl(l);if(T&&(_[y]={type:Ui.required,message:P,ref:w,...C(Ui.required,P)},!n))return x(P),_}if(!j&&(!Jr(h)||!Jr(f))){let T,P;const D=cl(f),F=cl(h);if(!Jr(v)&&!isNaN(v)){const Q=a.valueAsNumber||v&&+v;Jr(D.value)||(T=Q>D.value),Jr(F.value)||(P=Q<F.value)}else{const Q=a.valueAsDate||new Date(v),H=W=>new Date(new Date().toDateString()+" "+W),L=a.type=="time",V=a.type=="week";xn(D.value)&&v&&(T=L?H(v)>H(D.value):V?v>D.value:Q>new Date(D.value)),xn(F.value)&&v&&(P=L?H(v)<H(F.value):V?v<F.value:Q<new Date(F.value))}if((T||P)&&(O(!!T,D.message,F.message,Ui.max,Ui.min),!n))return x(_[y].message),_}if((c||d)&&!j&&(xn(v)||s&&Array.isArray(v))){const T=cl(c),P=cl(d),D=!Jr(T.value)&&v.length>+T.value,F=!Jr(P.value)&&v.length<+P.value;if((D||F)&&(O(D,T.message,P.message),!n))return x(_[y].message),_}if(p&&!j&&xn(v)){const{value:T,message:P}=cl(p);if(Ep(T)&&!v.match(T)&&(_[y]={type:Ui.pattern,message:P,ref:a,...C(Ui.pattern,P)},!n))return x(P),_}if(m){if(Br(m)){const T=await m(v,r),P=nR(T,w);if(P&&(_[y]={...P,...C(Ui.validate,P.message)},!n))return x(P.message),_}else if(Wt(m)){let T={};for(const P in m){if(!Mr(T)&&!n)break;const D=nR(await m[P](v,r),w,P);D&&(T={...D,...C(P,D.message)},x(D.message),n&&(_[y]=T))}if(!Mr(T)&&(_[y]={ref:w,...T},!n))return _}}return x(!0),_};const Vse={mode:oi.onSubmit,reValidateMode:oi.onChange,shouldFocusError:!0};function Kse(t={}){let e={...Vse,...t},r={submitCount:0,isDirty:!1,isReady:!1,isLoading:Br(e.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1},n={},i=Wt(e.defaultValues)||Wt(e.values)?Jt(e.defaultValues||e.values)||{}:{},s=e.shouldUnregister?{}:Jt(i),a={action:!1,mount:!1,watch:!1,keepIsValid:!1},o={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},l,c=0;const d={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},h={...d};let f={...h};const p={array:GI(),state:GI()},m=e.criteriaMode===oi.all,y=$=>M=>{clearTimeout(c),c=setTimeout($,M)},b=async $=>{if(!a.keepIsValid&&!e.disabled&&(h.isValid||f.isValid||$)){let M;e.resolver?(M=Mr((await S()).errors),g()):M=await C(n,!0),M!==r.isValid&&p.state.next({isValid:M})}},g=($,M)=>{!e.disabled&&(h.isValidating||h.validatingFields||f.isValidating||f.validatingFields)&&(($||Array.from(o.mount)).forEach(A=>{A&&(M?ct(r.validatingFields,A,M):zt(r.validatingFields,A))}),p.state.next({validatingFields:r.validatingFields,isValidating:!Mr(r.validatingFields)}))},v=($,M=[],A,se,re=!0,X=!0)=>{if(se&&A&&!e.disabled){if(a.action=!0,X&&Array.isArray(ce(n,$))){const U=A(ce(n,$),se.argA,se.argB);re&&ct(n,$,U)}if(X&&Array.isArray(ce(r.errors,$))){const U=A(ce(r.errors,$),se.argA,se.argB);re&&ct(r.errors,$,U),Wse(r.errors,$)}if((h.touchedFields||f.touchedFields)&&X&&Array.isArray(ce(r.touchedFields,$))){const U=A(ce(r.touchedFields,$),se.argA,se.argB);re&&ct(r.touchedFields,$,U)}(h.dirtyFields||f.dirtyFields)&&(r.dirtyFields=pl(i,s)),p.state.next({name:$,isDirty:T($,M),dirtyFields:r.dirtyFields,errors:r.errors,isValid:r.isValid})}else ct(s,$,M)},w=($,M)=>{ct(r.errors,$,M),p.state.next({errors:r.errors})},x=$=>{r.errors=$,p.state.next({errors:r.errors,isValid:!1})},_=($,M,A,se)=>{const re=ce(n,$);if(re){const X=ce(s,$,$t(A)?ce(i,$):A);$t(X)||se&&se.defaultChecked||M?ct(s,$,M?X:JI(re._f)):F($,X),a.mount&&!a.action&&b()}},E=($,M,A,se,re)=>{let X=!1,U=!1;const oe={name:$};if(!e.disabled){if(!A||se){(h.isDirty||f.isDirty)&&(U=r.isDirty,r.isDirty=oe.isDirty=T(),X=U!==oe.isDirty);const de=li(ce(i,$),M);U=!!ce(r.dirtyFields,$),de?zt(r.dirtyFields,$):ct(r.dirtyFields,$,!0),oe.dirtyFields=r.dirtyFields,X=X||(h.dirtyFields||f.dirtyFields)&&U!==!de}if(A){const de=ce(r.touchedFields,$);de||(ct(r.touchedFields,$,A),oe.touchedFields=r.touchedFields,X=X||(h.touchedFields||f.touchedFields)&&de!==A)}X&&re&&p.state.next(oe)}return X?oe:{}},N=($,M,A,se)=>{const re=ce(r.errors,$),X=(h.isValid||f.isValid)&&bn(M)&&r.isValid!==M;if(e.delayError&&A?(l=y(()=>w($,A)),l(e.delayError)):(clearTimeout(c),l=null,A?ct(r.errors,$,A):zt(r.errors,$)),(A?!li(re,A):re)||!Mr(se)||X){const U={...se,...X&&bn(M)?{isValid:M}:{},errors:r.errors,name:$};r={...r,...U},p.state.next(U)}},S=async $=>(g($,!0),await e.resolver(s,e.context,Ase($||o.mount,n,e.criteriaMode,e.shouldUseNativeValidation))),j=async $=>{const{errors:M}=await S($);if(g($),$)for(const A of $){const se=ce(M,A);se?ct(r.errors,A,se):zt(r.errors,A)}else r.errors=M;return M},C=async($,M,A={valid:!0})=>{for(const se in $){const re=$[se];if(re){const{_f:X,...U}=re;if(X){const oe=o.array.has(X.name),de=re._f&&Fse(re._f);de&&h.validatingFields&&g([X.name],!0);const ze=await iR(re,o.disabled,s,m,e.shouldUseNativeValidation&&!M,oe);if(de&&h.validatingFields&&g([X.name]),ze[X.name]&&(A.valid=!1,M))break;!M&&(ce(ze,X.name)?oe?Hse(r.errors,ze,X.name):ct(r.errors,X.name,ze[X.name]):zt(r.errors,X.name))}!Mr(U)&&await C(U,M,A)}}return A.valid},O=()=>{for(const $ of o.unMount){const M=ce(n,$);M&&(M._f.refs?M._f.refs.every(A=>!Pv(A)):!Pv(M._f.ref))&&ke($)}o.unMount=new Set},T=($,M)=>!e.disabled&&($&&M&&ct(s,$,M),!li(z(),i)),P=($,M,A)=>Pj($,o,{...a.mount?s:$t(M)?i:xn($)?{[$]:M}:M},A,M),D=$=>hO(ce(a.mount?s:i,$,e.shouldUnregister?ce(i,$,[]):[])),F=($,M,A={})=>{const se=ce(n,$);let re=M;if(se){const X=se._f;X&&(!X.disabled&&ct(s,$,zK(M,X)),re=Sp(X.ref)&&Jr(M)?"":M,FK(X.ref)?[...X.ref.options].forEach(U=>U.selected=re.includes(U.value)):X.refs?rh(X.ref)?X.refs.forEach(U=>{(!U.defaultChecked||!U.disabled)&&(Array.isArray(re)?U.checked=!!re.find(oe=>oe===U.value):U.checked=re===U.value||!!re)}):X.refs.forEach(U=>U.checked=U.value===re):vO(X.ref)?X.ref.value="":(X.ref.value=re,X.ref.type||p.state.next({name:$,values:Jt(s)})))}(A.shouldDirty||A.shouldTouch)&&E($,re,A.shouldTouch,A.shouldDirty,!0),A.shouldValidate&&W($)},Q=($,M,A)=>{for(const se in M){if(!M.hasOwnProperty(se))return;const re=M[se],X=$+"."+se,U=ce(n,X);(o.array.has($)||Wt(re)||U&&!U._f)&&!Ya(re)?Q(X,re,A):F(X,re,A)}},H=($,M,A={})=>{const se=ce(n,$),re=o.array.has($),X=Jt(M);ct(s,$,X),re?(p.array.next({name:$,values:Jt(s)}),(h.isDirty||h.dirtyFields||f.isDirty||f.dirtyFields)&&A.shouldDirty&&p.state.next({name:$,dirtyFields:pl(i,s),isDirty:T($,X)})):se&&!se._f&&!Jr(X)?Q($,X,A):F($,X,A),tR($,o)&&p.state.next({...r,name:$}),p.state.next({name:a.mount?$:void 0,values:Jt(s)})},L=async $=>{a.mount=!0;const M=$.target;let A=M.name,se=!0;const re=ce(n,A),X=de=>{se=Number.isNaN(de)||Ya(de)&&isNaN(de.getTime())||li(de,ce(s,A,de))},U=ZI(e.mode),oe=ZI(e.reValidateMode);if(re){let de,ze;const ve=M.type?JI(re._f):kK($),J=$.type===wp.BLUR||$.type===wp.FOCUS_OUT,le=!Lse(re._f)&&!e.resolver&&!ce(r.errors,A)&&!re._f.deps||Use(J,ce(r.touchedFields,A),r.isSubmitted,oe,U),ae=tR(A,o,J);ct(s,A,ve),J?(!M||!M.readOnly)&&(re._f.onBlur&&re._f.onBlur($),l&&l(0)):re._f.onChange&&re._f.onChange($);const we=E(A,ve,J),De=!Mr(we)||ae;if(!J&&p.state.next({name:A,type:$.type,values:Jt(s)}),le)return(h.isValid||f.isValid)&&(e.mode==="onBlur"?J&&b():J||b()),De&&p.state.next({name:A,...ae?{}:we});if(!J&&ae&&p.state.next({...r}),e.resolver){const{errors:Yr}=await S([A]);if(g([A]),X(ve),se){const Pn=rR(r.errors,n,A),cc=rR(Yr,n,Pn.name||A);de=cc.error,A=cc.name,ze=Mr(Yr)}}else g([A],!0),de=(await iR(re,o.disabled,s,m,e.shouldUseNativeValidation))[A],g([A]),X(ve),se&&(de?ze=!1:(h.isValid||f.isValid)&&(ze=await C(n,!0)));se&&(re._f.deps&&(!Array.isArray(re._f.deps)||re._f.deps.length>0)&&W(re._f.deps),N(A,ze,de,we))}},V=($,M)=>{if(ce(r.errors,M)&&$.focus)return $.focus(),1},W=async($,M={})=>{let A,se;const re=Kc($);if(e.resolver){const X=await j($t($)?$:re);A=Mr(X),se=$?!re.some(U=>ce(X,U)):A}else $?(se=(await Promise.all(re.map(async X=>{const U=ce(n,X);return await C(U&&U._f?{[X]:U}:U)}))).every(Boolean),!(!se&&!r.isValid)&&b()):se=A=await C(n);return p.state.next({...!xn($)||(h.isValid||f.isValid)&&A!==r.isValid?{}:{name:$},...e.resolver||!$?{isValid:A}:{},errors:r.errors}),M.shouldFocus&&!se&&Gc(n,V,$?re:o.mount),se},z=($,M)=>{let A={...a.mount?s:i};return M&&(A=AK(M.dirtyFields?r.dirtyFields:r.touchedFields,A)),$t($)?A:xn($)?ce(A,$):$.map(se=>ce(A,se))},K=($,M)=>({invalid:!!ce((M||r).errors,$),isDirty:!!ce((M||r).dirtyFields,$),error:ce((M||r).errors,$),isValidating:!!ce(r.validatingFields,$),isTouched:!!ce((M||r).touchedFields,$)}),fe=$=>{$&&Kc($).forEach(M=>zt(r.errors,M)),p.state.next({errors:$?r.errors:{}})},xe=($,M,A)=>{const se=(ce(n,$,{_f:{}})._f||{}).ref,re=ce(r.errors,$)||{},{ref:X,message:U,type:oe,...de}=re;ct(r.errors,$,{...de,...M,ref:se}),p.state.next({name:$,errors:r.errors,isValid:!1}),A&&A.shouldFocus&&se&&se.focus&&se.focus()},Re=($,M)=>Br($)?p.state.subscribe({next:A=>"values"in A&&$(P(void 0,M),A)}):P($,M,!0),ge=$=>p.state.subscribe({next:M=>{zse($.name,M.name,$.exact)&&Bse(M,$.formState||h,Bt,$.reRenderRoot)&&$.callback({values:{...s},...r,...M,defaultValues:i})}}).unsubscribe,Ee=$=>(a.mount=!0,f={...f,...$.formState},ge({...$,formState:{...d,...$.formState}})),ke=($,M={})=>{for(const A of $?Kc($):o.mount)o.mount.delete(A),o.array.delete(A),M.keepValue||(zt(n,A),zt(s,A)),!M.keepError&&zt(r.errors,A),!M.keepDirty&&zt(r.dirtyFields,A),!M.keepTouched&&zt(r.touchedFields,A),!M.keepIsValidating&&zt(r.validatingFields,A),!e.shouldUnregister&&!M.keepDefaultValue&&zt(i,A);p.state.next({values:Jt(s)}),p.state.next({...r,...M.keepDirty?{isDirty:T()}:{}}),!M.keepIsValid&&b()},it=({disabled:$,name:M})=>{(bn($)&&a.mount||$||o.disabled.has(M))&&($?o.disabled.add(M):o.disabled.delete(M))},rr=($,M={})=>{let A=ce(n,$);const se=bn(M.disabled)||bn(e.disabled);return ct(n,$,{...A||{},_f:{...A&&A._f?A._f:{ref:{name:$}},name:$,mount:!0,...M}}),o.mount.add($),A?it({disabled:bn(M.disabled)?M.disabled:e.disabled,name:$}):_($,!0,M.value),{...se?{disabled:M.disabled||e.disabled}:{},...e.progressive?{required:!!M.required,min:jc(M.min),max:jc(M.max),minLength:jc(M.minLength),maxLength:jc(M.maxLength),pattern:jc(M.pattern)}:{},name:$,onChange:L,onBlur:L,ref:re=>{if(re){rr($,M),A=ce(n,$);const X=$t(re.value)&&re.querySelectorAll&&re.querySelectorAll("input,select,textarea")[0]||re,U=kse(X),oe=A._f.refs||[];if(U?oe.find(de=>de===X):X===A._f.ref)return;ct(n,$,{_f:{...A._f,...U?{refs:[...oe.filter(Pv),X,...Array.isArray(ce(i,$))?[{}]:[]],ref:{type:X.type,name:$}}:{ref:X}}}),_($,!1,void 0,X)}else A=ce(n,$,{}),A._f&&(A._f.mount=!1),(e.shouldUnregister||M.shouldUnregister)&&!(DK(o.array,$)&&a.action)&&o.unMount.add($)}}},bt=()=>e.shouldFocusError&&Gc(n,V,o.mount),fr=$=>{bn($)&&(p.state.next({disabled:$}),Gc(n,(M,A)=>{const se=ce(n,A);se&&(M.disabled=se._f.disabled||$,Array.isArray(se._f.refs)&&se._f.refs.forEach(re=>{re.disabled=se._f.disabled||$}))},0,!1))},ut=($,M)=>async A=>{let se;A&&(A.preventDefault&&A.preventDefault(),A.persist&&A.persist());let re=Jt(s);if(p.state.next({isSubmitting:!0}),e.resolver){const{errors:X,values:U}=await S();g(),r.errors=X,re=Jt(U)}else await C(n);if(o.disabled.size)for(const X of o.disabled)zt(re,X);if(zt(r.errors,"root"),Mr(r.errors)){p.state.next({errors:{}});try{await $(re,A)}catch(X){se=X}}else M&&await M({...r.errors},A),bt(),setTimeout(bt);if(p.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:Mr(r.errors)&&!se,submitCount:r.submitCount+1,errors:r.errors}),se)throw se},Pr=($,M={})=>{ce(n,$)&&($t(M.defaultValue)?H($,Jt(ce(i,$))):(H($,M.defaultValue),ct(i,$,Jt(M.defaultValue))),M.keepTouched||zt(r.touchedFields,$),M.keepDirty||(zt(r.dirtyFields,$),r.isDirty=M.defaultValue?T($,Jt(ce(i,$))):T()),M.keepError||(zt(r.errors,$),h.isValid&&b()),p.state.next({...r}))},Ir=($,M={})=>{const A=$?Jt($):i,se=Jt(A),re=Mr($),X=re?i:se;if(M.keepDefaultValues||(i=A),!M.keepValues){if(M.keepDirtyValues){const U=new Set([...o.mount,...Object.keys(pl(i,s))]);for(const oe of Array.from(U))ce(r.dirtyFields,oe)?ct(X,oe,ce(s,oe)):H(oe,ce(X,oe))}else{if(dO&&$t($))for(const U of o.mount){const oe=ce(n,U);if(oe&&oe._f){const de=Array.isArray(oe._f.refs)?oe._f.refs[0]:oe._f.ref;if(Sp(de)){const ze=de.closest("form");if(ze){ze.reset();break}}}}if(M.keepFieldsRef)for(const U of o.mount)H(U,ce(X,U));else n={}}s=e.shouldUnregister?M.keepDefaultValues?Jt(i):{}:Jt(X),p.array.next({values:{...X}}),p.state.next({values:{...X}})}o={mount:M.keepDirtyValues?o.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},a.mount=!h.isValid||!!M.keepIsValid||!!M.keepDirtyValues||!e.shouldUnregister&&!Mr(X),a.watch=!!e.shouldUnregister,a.keepIsValid=!!M.keepIsValid,a.action=!1,M.keepErrors||(r.errors={}),p.state.next({submitCount:M.keepSubmitCount?r.submitCount:0,isDirty:re?!1:M.keepDirty?r.isDirty:!!(M.keepDefaultValues&&!li($,i)),isSubmitted:M.keepIsSubmitted?r.isSubmitted:!1,dirtyFields:re?{}:M.keepDirtyValues?M.keepDefaultValues&&s?pl(i,s):r.dirtyFields:M.keepDefaultValues&&$?pl(i,$):M.keepDirty?r.dirtyFields:{},touchedFields:M.keepTouched?r.touchedFields:{},errors:M.keepErrors?r.errors:{},isSubmitSuccessful:M.keepIsSubmitSuccessful?r.isSubmitSuccessful:!1,isSubmitting:!1,defaultValues:i})},_r=($,M)=>Ir(Br($)?$(s):$,{...e.resetOptions,...M}),st=($,M={})=>{const A=ce(n,$),se=A&&A._f;if(se){const re=se.refs?se.refs[0]:se.ref;re.focus&&setTimeout(()=>{re.focus(),M.shouldSelect&&Br(re.select)&&re.select()})}},Bt=$=>{r={...r,...$}},$r={control:{register:rr,unregister:ke,getFieldState:K,handleSubmit:ut,setError:xe,_subscribe:ge,_runSchema:S,_updateIsValidating:g,_focusError:bt,_getWatch:P,_getDirty:T,_setValid:b,_setFieldArray:v,_setDisabledField:it,_setErrors:x,_getFieldArray:D,_reset:Ir,_resetDefaultValues:()=>Br(e.defaultValues)&&e.defaultValues().then($=>{_r($,e.resetOptions),p.state.next({isLoading:!1})}),_removeUnmounted:O,_disableForm:fr,_subjects:p,_proxyFormState:h,get _fields(){return n},get _formValues(){return s},get _state(){return a},set _state($){a=$},get _defaultValues(){return i},get _names(){return o},set _names($){o=$},get _formState(){return r},get _options(){return e},set _options($){e={...e,...$}}},subscribe:Ee,trigger:W,register:rr,handleSubmit:ut,watch:Re,setValue:H,getValues:z,reset:_r,resetField:Pr,clearErrors:fe,unregister:ke,setError:xe,setFocus:st,getFieldState:K};return{...$r,formControl:$r}}function Mu(t={}){const e=Pe.useRef(void 0),r=Pe.useRef(void 0),[n,i]=Pe.useState({isDirty:!1,isValidating:!1,isLoading:Br(t.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1,isReady:!1,defaultValues:Br(t.defaultValues)?void 0:t.defaultValues});if(!e.current)if(t.formControl)e.current={...t.formControl,formState:n},t.defaultValues&&!Br(t.defaultValues)&&t.formControl.reset(t.defaultValues,t.resetOptions);else{const{formControl:a,...o}=Kse(t);e.current={...o,formState:n}}const s=e.current.control;return s._options=t,mO(()=>{const a=s._subscribe({formState:s._proxyFormState,callback:()=>i({...s._formState}),reRenderRoot:!0});return i(o=>({...o,isReady:!0})),s._formState.isReady=!0,a},[s]),Pe.useEffect(()=>s._disableForm(t.disabled),[s,t.disabled]),Pe.useEffect(()=>{t.mode&&(s._options.mode=t.mode),t.reValidateMode&&(s._options.reValidateMode=t.reValidateMode)},[s,t.mode,t.reValidateMode]),Pe.useEffect(()=>{t.errors&&(s._setErrors(t.errors),s._focusError())},[s,t.errors]),Pe.useEffect(()=>{t.shouldUnregister&&s._subjects.state.next({values:s._getWatch()})},[s,t.shouldUnregister]),Pe.useEffect(()=>{if(s._proxyFormState.isDirty){const a=s._getDirty();a!==n.isDirty&&s._subjects.state.next({isDirty:a})}},[s,n.isDirty]),Pe.useEffect(()=>{var a;t.values&&!li(t.values,r.current)?(s._reset(t.values,{keepFieldsRef:!0,...s._options.resetOptions}),!((a=s._options.resetOptions)===null||a===void 0)&&a.keepIsValid||s._setValid(),r.current=t.values,i(o=>({...o}))):s._resetDefaultValues()},[s,t.values]),Pe.useEffect(()=>{s._state.mount||(s._setValid(),s._state.mount=!0),s._state.watch&&(s._state.watch=!1,s._subjects.state.next({...s._formState})),s._removeUnmounted()}),e.current.formState=qK(n,s),e.current}function sR(){var v;const{id:t}=_s(),e=Kr(),[r]=GC(),n=!!t,i=r.get("returnTo"),s=r.get("sourcePersonId"),{data:a,isLoading:o}=Du(t),l=nne(),c=Zd(),{data:d=[]}=mt({queryKey:["date-types"],queryFn:async()=>(await We.getDateTypes()).data}),h=d.find(w=>w.slug==="birthday"||w.name.toLowerCase()==="birthday"),{register:f,handleSubmit:p,reset:m,formState:{errors:y,isSubmitting:b}}=Mu({defaultValues:{first_name:"",last_name:"",nickname:"",gender:"",email:"",how_we_met:"",is_favorite:!1,birthday:""}});I.useEffect(()=>{var w,x,_,E,N,S,j,C;if(a){const O=(x=(w=a.acf)==null?void 0:w.contact_info)==null?void 0:x.find(P=>P.contact_type==="email"),T=(O==null?void 0:O.contact_value)||"";m({first_name:((_=a.acf)==null?void 0:_.first_name)||"",last_name:((E=a.acf)==null?void 0:E.last_name)||"",nickname:((N=a.acf)==null?void 0:N.nickname)||"",gender:((S=a.acf)==null?void 0:S.gender)||"",email:T,how_we_met:((j=a.acf)==null?void 0:j.how_we_met)||"",is_favorite:((C=a.acf)==null?void 0:C.is_favorite)||!1,birthday:""})}},[a,m]),fn(n&&a?`Edit ${((v=a.title)==null?void 0:v.rendered)||a.title||"person"}`:"New person");const g=async w=>{try{const _=`${w.first_name||""} ${w.last_name||""}`.trim()||"Unnamed Person",E={title:_,status:"publish",acf:{first_name:w.first_name,last_name:w.last_name,nickname:w.nickname,gender:w.gender||null,how_we_met:w.how_we_met,is_favorite:w.is_favorite}};if(!n&&w.email&&(E.acf.contact_info=[{contact_type:"email",contact_value:w.email,contact_label:""}]),n)E.title=_,await c.mutateAsync({id:t,data:E}),e(`/people/${t}`);else{const S=(await l.mutateAsync(E)).data.id;if(w.email)try{await $e.sideloadGravatar(S,w.email)}catch(j){console.error("Failed to load Gravatar:",j)}if(w.birthday&&h)try{const j=w.first_name||"Person";await We.createDate({title:`${j}'s Birthday`,status:"publish",date_type:[h.id],acf:{date_value:w.birthday,is_recurring:!0,related_people:[S],reminder_days_before:7}})}catch(j){console.error("Failed to create birthday:",j)}e(i==="relationship"&&s?`/people/${s}/relationship/new?newPersonId=${S}`:`/people/${S}`)}}catch(x){console.error("Failed to save person:",x)}};return n&&o?u.jsx("div",{className:"flex items-center justify-center h-64",children:u.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"})}):u.jsxs("div",{className:"max-w-2xl mx-auto space-y-6",children:[u.jsx("div",{className:"flex items-center justify-between",children:i==="relationship"&&s?u.jsxs(he,{to:`/people/${s}/relationship/new`,className:"flex items-center text-gray-600 hover:text-gray-900",children:[u.jsx(En,{className:"w-4 h-4 md:mr-2"}),u.jsx("span",{className:"hidden md:inline",children:"Back to add relationship"})]}):u.jsxs(he,{to:"/people",className:"flex items-center text-gray-600 hover:text-gray-900",children:[u.jsx(En,{className:"w-4 h-4 md:mr-2"}),u.jsx("span",{className:"hidden md:inline",children:"Back to people"})]})}),u.jsxs("div",{className:"card p-6",children:[u.jsx("h1",{className:"text-xl font-bold mb-6",children:n?"Edit person":"Add new person"}),u.jsxs("form",{onSubmit:p(g),className:"space-y-6",children:[u.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"label",children:"First name *"}),u.jsx("input",{...f("first_name",{required:"First name is required"}),className:"input",placeholder:"John"}),y.first_name&&u.jsx("p",{className:"text-sm text-red-600 mt-1",children:y.first_name.message})]}),u.jsxs("div",{children:[u.jsx("label",{className:"label",children:"Last name"}),u.jsx("input",{...f("last_name"),className:"input",placeholder:"Doe"})]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"label",children:"Nickname"}),u.jsx("input",{...f("nickname"),className:"input",placeholder:"Johnny"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"label",children:"Gender"}),u.jsxs("select",{...f("gender"),className:"input",children:[u.jsx("option",{value:"",children:"Select gender..."}),u.jsx("option",{value:"male",children:"Male"}),u.jsx("option",{value:"female",children:"Female"}),u.jsx("option",{value:"non_binary",children:"Non-binary"}),u.jsx("option",{value:"other",children:"Other"}),u.jsx("option",{value:"prefer_not_to_say",children:"Prefer not to say"})]})]}),!n&&u.jsxs("div",{children:[u.jsx("label",{className:"label",children:"Email"}),u.jsx("input",{type:"email",...f("email"),className:"input",placeholder:"john@example.com"}),u.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Optional: If a Gravatar is associated with this email, it will be automatically set as the profile photo"})]}),!n&&u.jsxs("div",{children:[u.jsx("label",{className:"label",children:"Birthday"}),u.jsx("input",{type:"date",...f("birthday"),className:"input"}),u.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Optional: Set their birthday when creating a new person"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"label",children:"How we met"}),u.jsx("textarea",{...f("how_we_met"),className:"input",rows:4,placeholder:"We met at..."})]}),u.jsxs("div",{className:"flex items-center",children:[u.jsx("input",{type:"checkbox",...f("is_favorite"),className:"w-4 h-4 rounded border-gray-300 text-primary-600 focus:ring-primary-500"}),u.jsx("label",{className:"ml-2 text-sm text-gray-700",children:"Mark as favorite"})]}),u.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t",children:[i==="relationship"&&s?u.jsx(he,{to:`/people/${s}/relationship/new`,className:"btn-secondary",children:"Cancel"}):u.jsx(he,{to:"/people",className:"btn-secondary",children:"Cancel"}),u.jsxs("button",{type:"submit",className:"btn-primary",disabled:b,children:[b?u.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}):u.jsx(xa,{className:"w-4 h-4 mr-2"}),n?"Save changes":"Create person"]})]})]})]})]})}function Gse({value:t,onChange:e,companies:r,isLoading:n}){return u.jsxs("select",{value:t||"",onChange:i=>e(i.target.value?parseInt(i.target.value,10):null),className:"input",disabled:n,children:[u.jsx("option",{value:"",children:"Select an organization..."}),r.map(i=>{var s;return u.jsx("option",{value:i.id,children:((s=i.title)==null?void 0:s.rendered)||i.title},i.id)})]})}function aR(){var v,w;const{personId:t,index:e}=_s(),r=Kr();tt();const n=parseInt(e,10),i=!isNaN(n),{data:s,isLoading:a}=Du(t),o=Zd(),{data:l=[],isLoading:c}=mt({queryKey:["companies","all"],queryFn:async()=>(await We.getCompanies({per_page:100,orderby:"title",order:"asc"})).data}),{register:d,handleSubmit:h,reset:f,watch:p,control:m,formState:{errors:y,isSubmitting:b}}=Mu({defaultValues:{company:null,job_title:"",description:"",start_date:"",end_date:"",is_current:!1}});I.useEffect(()=>{var x;if(s&&i){const E=(((x=s.acf)==null?void 0:x.work_history)||[])[n];E&&f({company:E.company||null,job_title:E.job_title||"",description:E.description||"",start_date:E.start_date||"",end_date:E.end_date||"",is_current:E.is_current||!1})}},[s,n,i,f]),fn(i?`Edit work history - ${((v=s==null?void 0:s.title)==null?void 0:v.rendered)||(s==null?void 0:s.title)||"person"}`:`Add work history - ${((w=s==null?void 0:s.title)==null?void 0:w.rendered)||(s==null?void 0:s.title)||"person"}`);const g=async x=>{var _;try{const E=[...((_=s.acf)==null?void 0:_.work_history)||[]],N={company:x.company||null,job_title:x.job_title||"",description:x.description||"",start_date:x.start_date||"",end_date:x.end_date||"",is_current:x.is_current||!1};i?E[n]=N:E.push(N);const S=Ga(s.acf,{work_history:E});await o.mutateAsync({id:t,data:{acf:S}}),r(`/people/${t}`)}catch(E){console.error("Failed to save work history:",E)}};return p("is_current"),a?u.jsx("div",{className:"flex items-center justify-center h-64",children:u.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"})}):s?u.jsxs("div",{className:"max-w-2xl mx-auto space-y-6",children:[u.jsx("div",{className:"flex items-center justify-between",children:u.jsxs(he,{to:`/people/${t}`,className:"flex items-center text-gray-600 hover:text-gray-900",children:[u.jsx(En,{className:"w-4 h-4 md:mr-2"}),u.jsx("span",{className:"hidden md:inline",children:"Back to person"})]})}),u.jsxs("div",{className:"card p-6",children:[u.jsx("h1",{className:"text-xl font-bold mb-6",children:i?"Edit work history":"Add work history"}),u.jsxs("form",{onSubmit:h(g),className:"space-y-6",children:[u.jsxs("div",{children:[u.jsx("label",{className:"label",children:"Organization"}),u.jsx(_p,{name:"company",control:m,render:({field:x})=>u.jsx(Gse,{value:x.value,onChange:x.onChange,companies:l,isLoading:c})})]}),u.jsxs("div",{children:[u.jsx("label",{className:"label",children:"Job title"}),u.jsx("input",{...d("job_title"),className:"input",placeholder:"e.g., Software Engineer"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"label",children:"Description"}),u.jsx("textarea",{...d("description"),className:"input",rows:4,placeholder:"Job description, responsibilities, achievements..."})]}),u.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"label",children:"Start date"}),u.jsx("input",{type:"date",...d("start_date"),className:"input"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"label",children:"End date"}),u.jsx("input",{type:"date",...d("end_date"),className:"input"}),u.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Optional: Set a future end date to automatically mark as former when it passes"})]})]}),u.jsxs("div",{className:"flex items-center",children:[u.jsx("input",{type:"checkbox",...d("is_current"),className:"w-4 h-4 rounded border-gray-300 text-primary-600 focus:ring-primary-500"}),u.jsx("label",{className:"ml-2 text-sm text-gray-700",children:"Currently works here"})]}),u.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t",children:[u.jsx(he,{to:`/people/${t}`,className:"btn-secondary",children:"Cancel"}),u.jsxs("button",{type:"submit",className:"btn-primary",disabled:b,children:[b?u.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}):u.jsx(xa,{className:"w-4 h-4 mr-2"}),i?"Save changes":"Add work history"]})]})]})]})]}):u.jsxs("div",{className:"card p-6 text-center",children:[u.jsx("p",{className:"text-red-600",children:"Failed to load person."}),u.jsx(he,{to:"/people",className:"btn-secondary mt-4",children:"Back to people"})]})}const Yse=[{value:"email",label:"Email"},{value:"phone",label:"Phone"},{value:"mobile",label:"Mobile"},{value:"address",label:"Address"},{value:"website",label:"Website"},{value:"linkedin",label:"LinkedIn"},{value:"twitter",label:"Twitter"},{value:"bluesky",label:"Bluesky"},{value:"threads",label:"Threads"},{value:"instagram",label:"Instagram"},{value:"facebook",label:"Facebook"},{value:"other",label:"Other"}];function oR(){var y,b;const{personId:t,index:e}=_s(),r=Kr(),n=tt(),i=parseInt(e,10),s=!isNaN(i),{data:a,isLoading:o}=Du(t),l=Zd(),{register:c,handleSubmit:d,reset:h,formState:{errors:f,isSubmitting:p}}=Mu({defaultValues:{contact_type:"",contact_label:"",contact_value:""}});I.useEffect(()=>{var g;if(a&&s){const w=(((g=a.acf)==null?void 0:g.contact_info)||[])[i];w&&h({contact_type:w.contact_type||"",contact_label:w.contact_label||"",contact_value:w.contact_value||""})}},[a,i,s,h]),fn(s?`Edit contact detail - ${((y=a==null?void 0:a.title)==null?void 0:y.rendered)||(a==null?void 0:a.title)||"person"}`:`Add contact detail - ${((b=a==null?void 0:a.title)==null?void 0:b.rendered)||(a==null?void 0:a.title)||"person"}`);const m=async g=>{var v,w,x,_;try{const E=[...((v=a.acf)==null?void 0:v.contact_info)||[]],N={contact_type:g.contact_type||"",contact_label:g.contact_label||"",contact_value:g.contact_value||""};s?E[i]=N:E.push(N);const S=Ga(a.acf,{contact_info:E});if(await l.mutateAsync({id:t,data:{acf:S}}),!s&&g.contact_type==="email"&&g.contact_value&&!(a.featured_media>0||((_=(x=(w=a._embedded)==null?void 0:w["wp:featuredmedia"])==null?void 0:x[0])==null?void 0:_.source_url)||a.thumbnail))try{await $e.sideloadGravatar(t,g.contact_value),n.invalidateQueries({queryKey:["person",t]})}catch(C){console.log("No Gravatar found or failed to load:",C)}r(`/people/${t}`)}catch(E){console.error("Failed to save contact detail:",E)}};return o?u.jsx("div",{className:"flex items-center justify-center h-64",children:u.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"})}):a?u.jsxs("div",{className:"max-w-2xl mx-auto space-y-6",children:[u.jsx("div",{className:"flex items-center justify-between",children:u.jsxs(he,{to:`/people/${t}`,className:"flex items-center text-gray-600 hover:text-gray-900",children:[u.jsx(En,{className:"w-4 h-4 md:mr-2"}),u.jsx("span",{className:"hidden md:inline",children:"Back to person"})]})}),u.jsxs("div",{className:"card p-6",children:[u.jsx("h1",{className:"text-xl font-bold mb-6",children:s?"Edit contact detail":"Add contact detail"}),u.jsxs("form",{onSubmit:d(m),className:"space-y-6",children:[u.jsxs("div",{children:[u.jsx("label",{className:"label",children:"Contact type *"}),u.jsxs("select",{...c("contact_type",{required:"Please select a contact type"}),className:"input",children:[u.jsx("option",{value:"",children:"Select a type..."}),Yse.map(g=>u.jsx("option",{value:g.value,children:g.label},g.value))]}),f.contact_type&&u.jsx("p",{className:"text-sm text-red-600 mt-1",children:f.contact_type.message})]}),u.jsxs("div",{children:[u.jsx("label",{className:"label",children:"Label"}),u.jsx("input",{...c("contact_label"),className:"input",placeholder:"e.g., Work, Personal, Home"}),u.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Optional: Add a label to distinguish multiple entries of the same type"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"label",children:"Value *"}),u.jsx("input",{...c("contact_value",{required:"Please enter a contact value"}),className:"input",placeholder:"e.g., john@example.com, +1 234 567 8900"}),f.contact_value&&u.jsx("p",{className:"text-sm text-red-600 mt-1",children:f.contact_value.message})]}),u.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t",children:[u.jsx(he,{to:`/people/${t}`,className:"btn-secondary",children:"Cancel"}),u.jsxs("button",{type:"submit",className:"btn-primary",disabled:p,children:[p?u.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}):u.jsx(xa,{className:"w-4 h-4 mr-2"}),s?"Save changes":"Add contact detail"]})]})]})]})]}):u.jsxs("div",{className:"card p-6 text-center",children:[u.jsx("p",{className:"text-red-600",children:"Failed to load person."}),u.jsx(he,{to:"/people",className:"btn-secondary mt-4",children:"Back to people"})]})}function Qse({value:t,onChange:e,people:r,isLoading:n,excludePersonId:i}){const[s,a]=I.useState(""),[o,l]=I.useState(!1),c=I.useRef(null),d=I.useRef(null),h=I.useMemo(()=>r.filter(v=>v.id!==i).sort((v,w)=>{var E,N;const x=(v.first_name||((E=v.acf)==null?void 0:E.first_name)||"").toLowerCase(),_=(w.first_name||((N=w.acf)==null?void 0:N.first_name)||"").toLowerCase();return x<_?-1:x>_?1:0}),[r,i]),f=I.useMemo(()=>{if(!s)return h.slice(0,10);const g=s.toLowerCase();return h.filter(v=>{var E,N;const w=fo(v).toLowerCase(),x=(v.first_name||((E=v.acf)==null?void 0:E.first_name)||"").toLowerCase(),_=(v.last_name||((N=v.acf)==null?void 0:N.last_name)||"").toLowerCase();return w.includes(g)||x.includes(g)||_.includes(g)}).slice(0,10)},[h,s]),p=I.useMemo(()=>h.find(g=>g.id===t),[h,t]);I.useEffect(()=>{const g=v=>{d.current&&!d.current.contains(v.target)&&c.current&&!c.current.contains(v.target)&&l(!1)};return document.addEventListener("mousedown",g),()=>document.removeEventListener("mousedown",g)},[]);const m=g=>{e(g),a(""),l(!1)},y=()=>{e(null),a(""),l(!1)},b=p?fo(p):"";return u.jsxs("div",{className:"relative",children:[u.jsx("div",{className:"relative",children:p&&!o?u.jsxs("div",{className:"flex items-center justify-between input pr-8 cursor-text",onClick:()=>l(!0),children:[u.jsx("span",{children:b}),u.jsx("button",{type:"button",onClick:g=>{g.stopPropagation(),y()},className:"absolute right-2 text-gray-400 hover:text-gray-600",children:u.jsx(cn,{className:"w-4 h-4"})})]}):u.jsx("input",{ref:c,type:"text",value:s,onChange:g=>{a(g.target.value),l(!0)},onFocus:()=>l(!0),placeholder:"Search for a person...",className:"input",disabled:n})}),o&&(s||!p)&&u.jsx("div",{ref:d,className:"absolute z-10 w-full mt-1 bg-white border border-gray-200 rounded-lg shadow-lg max-h-48 overflow-y-auto",children:f.length>0?f.map(g=>u.jsx("button",{type:"button",onClick:()=>m(g.id),className:`w-full text-left px-4 py-2 hover:bg-gray-50 ${t===g.id?"bg-primary-50":""}`,children:fo(g)},g.id)):u.jsx("p",{className:"px-4 py-2 text-gray-500 text-sm",children:"No people found"})})]})}function lR(){var E,N;const{personId:t,index:e}=_s(),r=Kr(),[n]=GC(),i=tt(),s=parseInt(e,10),a=!isNaN(s),{data:o,isLoading:l}=Du(t),c=Zd(),{data:d=[],isLoading:h}=Bo(),{data:f=[],isLoading:p}=mt({queryKey:["relationship-types"],queryFn:async()=>(await We.getRelationshipTypes()).data}),{register:m,handleSubmit:y,reset:b,control:g,setValue:v,formState:{errors:w,isSubmitting:x}}=Mu({defaultValues:{related_person:null,relationship_type:"",relationship_label:""}});I.useEffect(()=>{const S=n.get("newPersonId");if(S&&!a&&!h){const j=parseInt(S,10);if(!isNaN(j))if(d.some(O=>O.id===j)){v("related_person",j);const O=new URLSearchParams(n);O.delete("newPersonId"),r({search:O.toString()},{replace:!0})}else(async()=>{try{await i.invalidateQueries({queryKey:["people"]});const{data:T=[]}=await i.refetchQueries({queryKey:["people"]});T.some(F=>F.id===j)&&v("related_person",j);const D=new URLSearchParams(n);D.delete("newPersonId"),r({search:D.toString()},{replace:!0})}catch(T){console.error("Failed to load new person:",T);const P=new URLSearchParams(n);P.delete("newPersonId"),r({search:P.toString()},{replace:!0})}})()}},[n,a,h,d,v,r,i]),I.useEffect(()=>{var S;if(o&&a){const C=(((S=o.acf)==null?void 0:S.relationships)||[])[s];C&&b({related_person:C.related_person||null,relationship_type:C.relationship_type?String(C.relationship_type):"",relationship_label:C.relationship_label||""})}},[o,s,a,b]),fn(a?`Edit relationship - ${((E=o==null?void 0:o.title)==null?void 0:E.rendered)||(o==null?void 0:o.title)||"person"}`:`Add relationship - ${((N=o==null?void 0:o.title)==null?void 0:N.rendered)||(o==null?void 0:o.title)||"person"}`);const _=async S=>{var j;try{const C=[...((j=o.acf)==null?void 0:j.relationships)||[]],O={related_person:S.related_person||null,relationship_type:S.relationship_type||null,relationship_label:S.relationship_label||""};a?C[s]=O:C.push(O);const T=Ga(o.acf,{relationships:C});await c.mutateAsync({id:t,data:{acf:T}}),r(`/people/${t}`)}catch(C){console.error("Failed to save relationship:",C)}};return l?u.jsx("div",{className:"flex items-center justify-center h-64",children:u.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"})}):o?u.jsxs("div",{className:"max-w-2xl mx-auto space-y-6",children:[u.jsx("div",{className:"flex items-center justify-between",children:u.jsxs(he,{to:`/people/${t}`,className:"flex items-center text-gray-600 hover:text-gray-900",children:[u.jsx(En,{className:"w-4 h-4 md:mr-2"}),u.jsx("span",{className:"hidden md:inline",children:"Back to person"})]})}),u.jsxs("div",{className:"card p-6",children:[u.jsx("h1",{className:"text-xl font-bold mb-6",children:a?"Edit relationship":"Add relationship"}),u.jsxs("form",{onSubmit:y(_),className:"space-y-6",children:[u.jsxs("div",{children:[u.jsx("label",{className:"label",children:"Related person *"}),u.jsx(_p,{name:"related_person",control:g,rules:{required:"Please select a person"},render:({field:S})=>u.jsx(Qse,{value:S.value,onChange:S.onChange,people:d,isLoading:h,excludePersonId:parseInt(t,10)})}),w.related_person&&u.jsx("p",{className:"text-sm text-red-600 mt-1",children:w.related_person.message}),!a&&u.jsx("div",{className:"mt-2",children:u.jsxs(he,{to:`/people/new?returnTo=relationship&sourcePersonId=${t}`,className:"inline-flex items-center gap-1 text-sm text-primary-600 hover:text-primary-700",children:[u.jsx(Mt,{className:"w-4 h-4"}),"Add new person"]})})]}),u.jsxs("div",{children:[u.jsx("label",{className:"label",children:"Relationship type"}),u.jsxs("select",{...m("relationship_type",{setValueAs:S=>S?parseInt(S,10):null}),className:"input",disabled:p,children:[u.jsx("option",{value:"",children:"Select a type..."}),f.map(S=>u.jsx("option",{value:S.id,children:S.name},S.id))]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"label",children:"Custom label"}),u.jsx("input",{...m("relationship_label"),className:"input",placeholder:"e.g., Brother-in-law"}),u.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Optional: Override the relationship type with a custom label"})]}),u.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t",children:[u.jsx(he,{to:`/people/${t}`,className:"btn-secondary",children:"Cancel"}),u.jsxs("button",{type:"submit",className:"btn-primary",disabled:x,children:[x?u.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}):u.jsx(xa,{className:"w-4 h-4 mr-2"}),a?"Save changes":"Add relationship"]})]})]})]})]}):u.jsxs("div",{className:"card p-6 text-center",children:[u.jsx("p",{className:"text-red-600",children:"Failed to load person."}),u.jsx(he,{to:"/people",className:"btn-secondary mt-4",children:"Back to people"})]})}function Xse({company:t}){var e,r,n,i,s;return u.jsx(he,{to:`/companies/${t.id}`,className:"card p-4 hover:shadow-md transition-shadow",children:u.jsxs("div",{className:"flex items-start",children:[(n=(r=(e=t._embedded)==null?void 0:e["wp:featuredmedia"])==null?void 0:r[0])!=null&&n.source_url?u.jsx("img",{src:t._embedded["wp:featuredmedia"][0].source_url,alt:ns(t),className:"w-12 h-12 rounded-lg object-contain bg-white"}):u.jsx("div",{className:"w-12 h-12 bg-white rounded-lg flex items-center justify-center border border-gray-200",children:u.jsx(Mi,{className:"w-6 h-6 text-gray-400"})}),u.jsxs("div",{className:"ml-3 flex-1 min-w-0",children:[u.jsx("h3",{className:"text-sm font-medium text-gray-900 truncate",children:ns(t)}),((i=t.acf)==null?void 0:i.industry)&&u.jsx("p",{className:"text-sm text-gray-500",children:t.acf.industry}),((s=t.acf)==null?void 0:s.website)&&u.jsx("p",{className:"text-xs text-primary-600 truncate",children:t.acf.website})]})]})})}function Jse(){const[t,e]=I.useState(""),{data:r,isLoading:n,error:i}=mt({queryKey:["companies",t],queryFn:async()=>(await We.getCompanies({search:t,per_page:100,_embed:!0})).data}),s=I.useMemo(()=>r?[...r].sort((a,o)=>{var d,h;const l=(((d=a.title)==null?void 0:d.rendered)||a.title||"").toLowerCase(),c=(((h=o.title)==null?void 0:h.rendered)||o.title||"").toLowerCase();return l.localeCompare(c)}):[],[r]);return u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[u.jsxs("div",{className:"relative flex-1 max-w-md",children:[u.jsx(vp,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}),u.jsx("input",{type:"search",placeholder:"Search organizations...",value:t,onChange:a=>e(a.target.value),className:"input pl-9"})]}),u.jsxs(he,{to:"/companies/new",className:"btn-primary",children:[u.jsx(Mt,{className:"w-4 h-4 md:mr-2"}),u.jsx("span",{className:"hidden md:inline",children:"Add organization"})]})]}),n&&u.jsx("div",{className:"flex items-center justify-center h-64",children:u.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"})}),i&&u.jsx("div",{className:"card p-6 text-center",children:u.jsx("p",{className:"text-red-600",children:"Failed to load organizations."})}),!n&&!i&&(s==null?void 0:s.length)===0&&u.jsxs("div",{className:"card p-12 text-center",children:[u.jsx("div",{className:"w-12 h-12 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4",children:u.jsx(Mi,{className:"w-6 h-6 text-gray-400"})}),u.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-1",children:"No organizations found"}),u.jsx("p",{className:"text-gray-500 mb-4",children:t?"Try a different search.":"Add your first organization."}),!t&&u.jsxs(he,{to:"/companies/new",className:"btn-primary",children:[u.jsx(Mt,{className:"w-4 h-4 md:mr-2"}),u.jsx("span",{className:"hidden md:inline",children:"Add organization"})]})]}),!n&&!i&&(s==null?void 0:s.length)>0&&u.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:s.map(a=>u.jsx(Xse,{company:a},a.id))})]})}function Zse(){var d,h,f,p,m,y;const{id:t}=_s(),e=Kr(),r=tt(),{data:n,isLoading:i,error:s}=mt({queryKey:["company",t],queryFn:async()=>(await We.getCompany(t,{_embed:!0})).data}),{data:a}=mt({queryKey:["company-people",t],queryFn:async()=>(await $e.getCompanyPeople(t)).data}),o=Ge({mutationFn:()=>We.deleteCompany(t,{force:!0}),onSuccess:()=>{r.invalidateQueries({queryKey:["companies"]}),e("/companies")}});fn(ns(n)||"Organization"),I.useEffect(()=>{(n==null?void 0:n.status)==="trash"&&e("/companies",{replace:!0})},[n,e]);const l=async()=>{if(window.confirm("Are you sure you want to delete this organization?"))try{await o.mutateAsync()}catch(b){console.error("Failed to delete company:",b),alert("Failed to delete organization. Please try again.")}};if(i)return u.jsx("div",{className:"flex items-center justify-center h-64",children:u.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"})});if(s||!n)return u.jsxs("div",{className:"card p-6 text-center",children:[u.jsx("p",{className:"text-red-600",children:"Failed to load organization."}),u.jsx(he,{to:"/companies",className:"btn-secondary mt-4",children:"Back to organizations"})]});if(n.status==="trash")return null;const c=n.acf||{};return u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs(he,{to:"/companies",className:"flex items-center text-gray-600 hover:text-gray-900",children:[u.jsx(En,{className:"w-4 h-4 md:mr-2"}),u.jsx("span",{className:"hidden md:inline",children:"Back to organizations"})]}),u.jsxs("div",{className:"flex gap-2",children:[u.jsxs(he,{to:`/companies/${t}/edit`,className:"btn-secondary",children:[u.jsx(hK,{className:"w-4 h-4 mr-2"}),"Edit"]}),u.jsxs("button",{onClick:l,className:"btn-danger",children:[u.jsx(An,{className:"w-4 h-4 mr-2"}),"Delete"]})]})]}),u.jsx("div",{className:"card p-6",children:u.jsxs("div",{className:"flex items-center gap-4",children:[(f=(h=(d=n._embedded)==null?void 0:d["wp:featuredmedia"])==null?void 0:h[0])!=null&&f.source_url?u.jsx("img",{src:n._embedded["wp:featuredmedia"][0].source_url,alt:ns(n),className:"w-24 h-24 rounded-lg object-contain bg-white"}):u.jsx("div",{className:"w-24 h-24 bg-white rounded-lg flex items-center justify-center border border-gray-200",children:u.jsx(Mi,{className:"w-12 h-12 text-gray-400"})}),u.jsxs("div",{children:[u.jsx("h1",{className:"text-2xl font-bold",children:ns(n)}),c.industry&&u.jsx("p",{className:"text-gray-500",children:c.industry}),c.website&&u.jsxs("a",{href:c.website,target:"_blank",rel:"noopener noreferrer",className:"text-primary-600 hover:underline flex items-center mt-1",children:[u.jsx(Df,{className:"w-4 h-4 mr-1"}),c.website]})]})]})}),u.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[u.jsxs("div",{className:"card p-6",children:[u.jsxs("h2",{className:"font-semibold mb-4 flex items-center",children:[u.jsx($i,{className:"w-5 h-5 mr-2"}),"Current employees"]}),((p=a==null?void 0:a.current)==null?void 0:p.length)>0?u.jsx("div",{className:"space-y-2",children:a.current.map(b=>{var g;return u.jsxs(he,{to:`/people/${b.id}`,className:"flex items-center p-2 rounded hover:bg-gray-50",children:[b.thumbnail?u.jsx("img",{src:b.thumbnail,alt:"",loading:"lazy",className:"w-8 h-8 rounded-full"}):u.jsx("div",{className:"w-8 h-8 bg-gray-200 rounded-full flex items-center justify-center",children:u.jsx("span",{className:"text-xs text-gray-500",children:((g=b.name)==null?void 0:g[0])||"?"})}),u.jsxs("div",{className:"ml-2",children:[u.jsx("p",{className:"text-sm font-medium",children:b.name}),b.job_title&&u.jsx("p",{className:"text-xs text-gray-500",children:b.job_title})]})]},b.id)})}):u.jsx("p",{className:"text-sm text-gray-500",children:"No current employees."})]}),u.jsxs("div",{className:"card p-6",children:[u.jsxs("h2",{className:"font-semibold mb-4 flex items-center",children:[u.jsx($i,{className:"w-5 h-5 mr-2"}),"Former employees"]}),((m=a==null?void 0:a.former)==null?void 0:m.length)>0?u.jsx("div",{className:"space-y-2",children:a.former.map(b=>{var g;return u.jsxs(he,{to:`/people/${b.id}`,className:"flex items-center p-2 rounded hover:bg-gray-50",children:[b.thumbnail?u.jsx("img",{src:b.thumbnail,alt:"",loading:"lazy",className:"w-8 h-8 rounded-full opacity-75"}):u.jsx("div",{className:"w-8 h-8 bg-gray-200 rounded-full flex items-center justify-center opacity-75",children:u.jsx("span",{className:"text-xs text-gray-500",children:((g=b.name)==null?void 0:g[0])||"?"})}),u.jsxs("div",{className:"ml-2",children:[u.jsx("p",{className:"text-sm font-medium text-gray-700",children:b.name}),b.job_title&&u.jsx("p",{className:"text-xs text-gray-500",children:b.job_title})]})]},b.id)})}):u.jsx("p",{className:"text-sm text-gray-500",children:"No former employees."})]})]}),((y=c.contact_info)==null?void 0:y.length)>0&&u.jsxs("div",{className:"card p-6",children:[u.jsx("h2",{className:"font-semibold mb-4",children:"Contact information"}),u.jsx("div",{className:"space-y-3",children:c.contact_info.map((b,g)=>u.jsxs("div",{children:[u.jsxs("span",{className:"text-sm text-gray-500",children:[b.contact_label||b.contact_type,":"]}),u.jsx("span",{className:"ml-2",children:b.contact_value})]},g))})]})]})}function uR(){var v,w,x,_,E,N;const{id:t}=_s(),e=Kr(),r=tt(),n=!!t,{data:i,isLoading:s}=mt({queryKey:["company",t],queryFn:async()=>(await We.getCompany(t,{_embed:!0})).data,enabled:n}),[a,o]=I.useState(!1),l=I.useRef(null),c=Ge({mutationFn:S=>We.createCompany(S),onSuccess:S=>{r.invalidateQueries({queryKey:["companies"]}),e(`/companies/${S.data.id}`)}}),d=Ge({mutationFn:S=>We.updateCompany(t,S),onSuccess:()=>{r.invalidateQueries({queryKey:["company",t]}),r.invalidateQueries({queryKey:["companies"]}),r.invalidateQueries({queryKey:["people"]}),e(`/companies/${t}`)}}),h=async S=>{var C;const j=(C=S.target.files)==null?void 0:C[0];if(j){if(!j.type.startsWith("image/")){alert("Please select an image file");return}if(j.size>5*1024*1024){alert("Image size must be less than 5MB");return}o(!0);try{await $e.uploadCompanyLogo(t,j),r.invalidateQueries({queryKey:["company",t]}),r.invalidateQueries({queryKey:["companies"]}),r.invalidateQueries({queryKey:["people"]}),r.refetchQueries({queryKey:["company",t]}),r.refetchQueries({queryKey:["companies"]}),r.refetchQueries({queryKey:["people"]})}catch(O){console.error("Failed to upload logo:",O),alert("Failed to upload logo. Please try again.")}finally{o(!1),l.current&&(l.current.value="")}}},{register:f,handleSubmit:p,reset:m,formState:{errors:y,isSubmitting:b}}=Mu();I.useEffect(()=>{var S,j,C;i&&m({title:ui(((S=i.title)==null?void 0:S.rendered)||""),website:((j=i.acf)==null?void 0:j.website)||"",industry:((C=i.acf)==null?void 0:C.industry)||""})},[i,m]),fn(n&&i?`Edit ${ns(i)||"organization"}`:"New organization");const g=async S=>{const j={title:S.title,status:"publish",acf:{website:S.website,industry:S.industry}};n?d.mutate(j):c.mutate(j)};return n&&s?u.jsx("div",{className:"flex items-center justify-center h-64",children:u.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"})}):u.jsxs("div",{className:"max-w-2xl mx-auto space-y-6",children:[u.jsx("div",{className:"flex items-center justify-between",children:u.jsxs(he,{to:"/companies",className:"flex items-center text-gray-600 hover:text-gray-900",children:[u.jsx(En,{className:"w-4 h-4 md:mr-2"}),u.jsx("span",{className:"hidden md:inline",children:"Back to organizations"})]})}),u.jsxs("div",{className:"card p-6",children:[u.jsx("h1",{className:"text-xl font-bold mb-6",children:n?"Edit organization":"Add new organization"}),u.jsxs("form",{onSubmit:p(g),className:"space-y-6",children:[n&&u.jsxs("div",{children:[u.jsx("label",{className:"label",children:"Logo"}),u.jsxs("div",{className:"flex items-center gap-4",children:[(x=(w=(v=i==null?void 0:i._embedded)==null?void 0:v["wp:featuredmedia"])==null?void 0:w[0])!=null&&x.source_url?u.jsxs("div",{className:"relative group",children:[u.jsx("img",{src:i._embedded["wp:featuredmedia"][0].source_url,alt:ns(i)||"Organization logo",className:"w-20 h-20 rounded-lg object-contain bg-white"}),u.jsx("div",{className:"absolute inset-0 rounded-lg bg-black bg-opacity-0 group-hover:bg-opacity-50 transition-all duration-200 flex items-center justify-center cursor-pointer",onClick:()=>{var S;return(S=l.current)==null?void 0:S.click()},children:a?u.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-white"}):u.jsx(kf,{className:"w-6 h-6 text-white opacity-0 group-hover:opacity-100 transition-opacity"})})]}):u.jsxs("div",{className:"relative group",children:[u.jsx("div",{className:"w-20 h-20 bg-gray-200 rounded-lg flex items-center justify-center",children:u.jsx(kf,{className:"w-8 h-8 text-gray-400"})}),u.jsx("div",{className:"absolute inset-0 rounded-lg bg-black bg-opacity-0 group-hover:bg-opacity-50 transition-all duration-200 flex items-center justify-center cursor-pointer",onClick:()=>{var S;return(S=l.current)==null?void 0:S.click()},children:a?u.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-white"}):u.jsx(kf,{className:"w-6 h-6 text-white opacity-0 group-hover:opacity-100 transition-opacity"})})]}),u.jsxs("div",{children:[u.jsx("button",{type:"button",onClick:()=>{var S;return(S=l.current)==null?void 0:S.click()},className:"btn-secondary text-sm",disabled:a,children:(N=(E=(_=i==null?void 0:i._embedded)==null?void 0:_["wp:featuredmedia"])==null?void 0:E[0])!=null&&N.source_url?"Change logo":"Upload logo"}),u.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Click the logo or button to upload a new logo"})]}),u.jsx("input",{ref:l,type:"file",accept:"image/*",onChange:h,className:"hidden",disabled:a})]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"label",children:"Organization name *"}),u.jsx("input",{...f("title",{required:"Organization name is required"}),className:"input",placeholder:"Acme Inc."}),y.title&&u.jsx("p",{className:"text-sm text-red-600 mt-1",children:y.title.message})]}),u.jsxs("div",{children:[u.jsx("label",{className:"label",children:"Website"}),u.jsx("input",{...f("website"),type:"url",className:"input",placeholder:"https://example.com"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"label",children:"Industry"}),u.jsx("input",{...f("industry"),className:"input",placeholder:"Technology"})]}),u.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t",children:[u.jsx(he,{to:"/companies",className:"btn-secondary",children:"Cancel"}),u.jsxs("button",{type:"submit",className:"btn-primary",disabled:b,children:[u.jsx(xa,{className:"w-4 h-4 mr-2"}),n?"Save changes":"Create organization"]})]})]})]})]})}function eae({person:t,dateType:e}){var r;return u.jsx("div",{className:"flex items-center gap-3 py-2",children:u.jsxs(he,{to:`/people/${t.id}`,className:"flex items-center gap-3 flex-1 min-w-0 hover:opacity-80",children:[t.thumbnail?u.jsx("img",{src:t.thumbnail,alt:t.name,loading:"lazy",className:"w-10 h-10 rounded-full object-cover flex-shrink-0"}):u.jsx("div",{className:"w-10 h-10 rounded-full bg-gray-200 flex items-center justify-center flex-shrink-0",children:u.jsx("span",{className:"text-sm font-medium text-gray-500",children:(r=t.name)==null?void 0:r[0]})}),u.jsx("span",{className:"font-medium truncate",children:t.name}),u.jsx("span",{className:"text-sm text-gray-500 capitalize flex-shrink-0",children:e})]})})}function tae({dates:t}){const e=t[0],n=e.days_until===0?"bg-green-100 text-green-700":"bg-gray-100 text-gray-600",i=[];return t.forEach(s=>{var o,l;const a=((o=s.date_type)==null?void 0:o[0])||"Date";((l=s.related_people)==null?void 0:l.length)>0?s.related_people.forEach(c=>{i.push({person:c,dateType:a})}):i.push({person:{id:null,name:s.title,thumbnail:null},dateType:a})}),u.jsx("div",{className:"card p-4 break-inside-avoid mb-4",children:u.jsxs("div",{className:"flex items-start gap-4",children:[u.jsx("div",{className:`w-14 h-14 rounded-lg ${n} flex items-center justify-center flex-shrink-0`,children:u.jsx("span",{className:"text-2xl font-bold leading-none",children:tn(new Date(e.next_occurrence),"d")})}),u.jsx("div",{className:"flex-1 min-w-0 divide-y divide-gray-100",children:i.map(({person:s,dateType:a},o)=>u.jsx(eae,{person:s,dateType:a},s.id?`${s.id}-${a}`:`${o}-${a}`))})]})})}function rae(){const{data:t,isLoading:e,error:r}=Jre(365),n=(t==null?void 0:t.reduce((s,a)=>{const o=tn(new Date(a.next_occurrence),"yyyy-MM-dd");return s[o]||(s[o]=[]),s[o].push(a),s},{}))||{},i=Object.entries(n).reduce((s,[a,o])=>{const l=tn(new Date(a),"MMMM yyyy");return s[l]||(s[l]=[]),s[l].push(o),s},{});return u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("p",{className:"text-gray-600",children:[(t==null?void 0:t.length)||0," upcoming dates"]}),u.jsxs(he,{to:"/dates/new",className:"btn-primary",children:[u.jsx(Mt,{className:"w-4 h-4 md:mr-2"}),u.jsx("span",{className:"hidden md:inline",children:"Add date"})]})]}),e&&u.jsx("div",{className:"flex items-center justify-center h-64",children:u.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"})}),r&&u.jsx("div",{className:"card p-6 text-center",children:u.jsx("p",{className:"text-red-600",children:"Failed to load dates."})}),!e&&!r&&(t==null?void 0:t.length)===0&&u.jsxs("div",{className:"card p-12 text-center",children:[u.jsx(ca,{className:"w-12 h-12 text-gray-300 mx-auto mb-4"}),u.jsx("h3",{className:"text-lg font-medium mb-1",children:"No important dates"}),u.jsx("p",{className:"text-gray-500 mb-4",children:"Add birthdays, anniversaries, and more."}),u.jsxs(he,{to:"/dates/new",className:"btn-primary",children:[u.jsx(Mt,{className:"w-4 h-4 md:mr-2"}),u.jsx("span",{className:"hidden md:inline",children:"Add date"})]})]}),Object.entries(i).map(([s,a])=>u.jsxs("div",{children:[u.jsx("h2",{className:"text-2xl font-semibold text-gray-700 mb-4",children:s}),u.jsx("div",{className:"columns-1 md:columns-2 lg:columns-3 gap-4",children:a.map(o=>u.jsx(tae,{dates:o},o[0].next_occurrence))})]},s))]})}function nae({value:t=[],onChange:e,people:r=[],isLoading:n}){const[i,s]=I.useState(""),a=I.useMemo(()=>{if(!i)return r.slice(0,10);const d=i.toLowerCase();return r.filter(h=>fo(h).toLowerCase().includes(d)).slice(0,10)},[r,i]),o=I.useMemo(()=>t.map(d=>r.find(h=>h.id===d)).filter(Boolean),[t,r]),l=d=>{t.includes(d)||e([...t,d]),s("")},c=d=>{e(t.filter(h=>h!==d))};return u.jsxs("div",{className:"space-y-2",children:[o.length>0&&u.jsx("div",{className:"flex flex-wrap gap-2",children:o.map(d=>u.jsxs("span",{className:"inline-flex items-center gap-1 px-3 py-1 bg-primary-100 text-primary-800 rounded-full text-sm",children:[fo(d),u.jsx("button",{type:"button",onClick:()=>c(d.id),className:"hover:text-primary-600",children:u.jsx(cn,{className:"w-3 h-3"})})]},d.id))}),u.jsxs("div",{className:"relative",children:[u.jsx("input",{type:"text",value:i,onChange:d=>s(d.target.value),placeholder:"Search for people...",className:"input",disabled:n}),i&&u.jsx("div",{className:"absolute z-10 w-full mt-1 bg-white border border-gray-200 rounded-lg shadow-lg max-h-48 overflow-y-auto",children:a.length>0?a.map(d=>u.jsx("button",{type:"button",onClick:()=>l(d.id),disabled:t.includes(d.id),className:`w-full text-left px-4 py-2 hover:bg-gray-50 ${t.includes(d.id)?"opacity-50 cursor-not-allowed":""}`,children:fo(d)},d.id)):u.jsx("p",{className:"px-4 py-2 text-gray-500 text-sm",children:"No people found"})})]})]})}function cR(){var V;const{id:t}=_s(),[e]=GC(),r=Kr(),n=tt(),i=!!t,s=e.get("person"),a=e.get("type"),{data:o,isLoading:l}=mt({queryKey:["important-date",t],queryFn:async()=>(await We.getDate(t)).data,enabled:i}),c=I.useMemo(()=>{var z;if(!((z=o==null?void 0:o.acf)!=null&&z.related_people))return[];const W=o.acf.related_people;return Array.isArray(W)?W.map(K=>parseInt(typeof K=="object"&&K!==null?K.ID||K.id||K.post_id:K,10)).filter(K=>!isNaN(K)&&K>0):[]},[o]),{data:d=[],isLoading:h}=Bo({orderby:"title",order:"asc"}),{data:f=[]}=mt({queryKey:["people","specific",c],queryFn:async()=>{const W=c.map(K=>We.getPerson(K,{_embed:!0}).then(fe=>fe.data).catch(()=>null));return(await Promise.all(W)).filter(Boolean)},enabled:c.length>0}),p=I.useMemo(()=>{const W=new Map;return d.forEach(z=>W.set(z.id,z)),f.forEach(z=>{var fe,xe,Re,ge,Ee,ke,it,rr,bt,fr,ut,Pr,Ir,_r,st,Bt;const K={...z,id:z.id,name:fo(z),first_name:((fe=z.acf)==null?void 0:fe.first_name)||"",last_name:((xe=z.acf)==null?void 0:xe.last_name)||"",is_favorite:((Re=z.acf)==null?void 0:Re.is_favorite)||!1,thumbnail:((ke=(Ee=(ge=z._embedded)==null?void 0:ge["wp:featuredmedia"])==null?void 0:Ee[0])==null?void 0:ke.source_url)||((Pr=(ut=(fr=(bt=(rr=(it=z._embedded)==null?void 0:it["wp:featuredmedia"])==null?void 0:rr[0])==null?void 0:bt.media_details)==null?void 0:fr.sizes)==null?void 0:ut.thumbnail)==null?void 0:Pr.source_url)||null,labels:((Bt=(st=(_r=(Ir=z._embedded)==null?void 0:Ir["wp:term"])==null?void 0:_r.flat())==null?void 0:st.filter(Rr=>(Rr==null?void 0:Rr.taxonomy)==="person_label"))==null?void 0:Bt.map(Rr=>Rr.name))||[]};W.set(K.id,K)}),Array.from(W.values())},[d,f]),{data:m=[]}=mt({queryKey:["date-types"],queryFn:async()=>((await We.getDateTypes()).data||[]).sort((K,fe)=>{const xe=K.name||"",Re=fe.name||"";return xe.localeCompare(Re)})}),y=Ge({mutationFn:W=>We.createDate(W),onSuccess:()=>{n.invalidateQueries({queryKey:["reminders"]}),r(s?`/people/${s}`:"/dates")}}),b=Ge({mutationFn:W=>We.updateDate(t,W),onSuccess:()=>{n.invalidateQueries({queryKey:["reminders"]}),n.invalidateQueries({queryKey:["important-date",t]}),n.invalidateQueries({queryKey:["people"]});const W=x("related_people");(W==null?void 0:W.length)>0?r(`/people/${W[0]}`):r("/dates")}}),{register:g,handleSubmit:v,reset:w,watch:x,setValue:_,control:E,formState:{errors:N,isSubmitting:S}}=Mu({defaultValues:{title:"",date_value:"",date_type:"",related_people:[],is_recurring:!0}}),j=x("related_people"),C=x("date_type"),O=x("title");I.useEffect(()=>{var K;if((!O||["'s Birthday","Wedding of "].some(fe=>O.endsWith(fe)||O.startsWith(fe)))&&(j==null?void 0:j.length)>0&&C){const fe=m.find(Ee=>Ee.id===parseInt(C)),xe=(fe==null?void 0:fe.name)||"",Re=((K=fe==null?void 0:fe.slug)==null?void 0:K.toLowerCase())||xe.toLowerCase(),ge=j.map(Ee=>{var it,rr,bt;const ke=p.find(fr=>fr.id===Ee);return ke?ui(((it=ke.acf)==null?void 0:it.first_name)||((bt=(rr=ke.title)==null?void 0:rr.rendered)==null?void 0:bt.split(" ")[0])||""):null}).filter(Boolean);if(ge.length>0&&xe){let Ee;Re==="wedding"?ge.length>=2?Ee=`Wedding of ${ge[0]} & ${ge[1]}`:Ee=`Wedding of ${ge[0]}`:Ee=`${ge[0]}'s ${xe}`,_("title",Ee)}}},[j,C,p,m,_,O]);const[T,P]=I.useState(!1);I.useEffect(()=>{var z,K,fe,xe,Re;if(T&&!i)return;const W=c.length===0||f.length>0;if(o&&p.length>0&&W){let ge=[];const Ee=(z=o.acf)==null?void 0:z.related_people;Ee&&(Array.isArray(Ee)?ge=Ee.map(it=>parseInt(typeof it=="object"&&it!==null?it.ID||it.id||it.post_id:it,10)).filter(it=>!isNaN(it)&&it>0):typeof Ee=="number"&&(ge=[Ee]));let ke="";((K=o.date_type)==null?void 0:K.length)>0&&(ke=o.date_type[0].toString()),w({title:ui(((fe=o.title)==null?void 0:fe.rendered)||""),date_value:((xe=o.acf)==null?void 0:xe.date_value)||"",date_type:ke,related_people:ge,is_recurring:((Re=o.acf)==null?void 0:Re.is_recurring)??!0}),P(!0)}else if(!i&&p.length>0&&m.length>0){const ge={title:"",date_value:"",date_type:"",related_people:[],is_recurring:!0};if(s&&(ge.related_people=[parseInt(s)]),a){const Ee=m.find(ke=>ke.slug===a||ke.name.toLowerCase()===a.toLowerCase());Ee&&(ge.date_type=Ee.id.toString())}w(ge),P(!0)}},[o,w,i,s,a,m,p,c,f,T]),fn(i&&o?`Edit ${((V=o.title)==null?void 0:V.rendered)||o.title||"date"}`:"New date");const D=async W=>{const z={title:W.title,status:"publish",date_type:W.date_type?[parseInt(W.date_type)]:[],acf:{date_value:W.date_value,related_people:W.related_people,is_recurring:W.is_recurring}};i?b.mutate(z):y.mutate(z)};if(i&&l)return u.jsx("div",{className:"flex items-center justify-center h-64",children:u.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"})});const F=x("related_people"),Q=i&&(F==null?void 0:F.length)>0?F[0]:s,H=Q?`/people/${Q}`:"/dates",L=Q?"Back to person":"Back to dates";return u.jsxs("div",{className:"max-w-2xl mx-auto space-y-6",children:[u.jsx("div",{className:"flex items-center justify-between",children:u.jsxs(he,{to:H,className:"flex items-center text-gray-600 hover:text-gray-900",children:[u.jsx(En,{className:"w-4 h-4 md:mr-2"}),u.jsx("span",{className:"hidden md:inline",children:L})]})}),u.jsxs("div",{className:"card p-6",children:[u.jsx("h1",{className:"text-xl font-bold mb-6",children:i?"Edit date":"Add new date"}),u.jsxs("form",{onSubmit:v(D),className:"space-y-6",children:[u.jsxs("div",{children:[u.jsx("label",{className:"label",children:"Related people"}),u.jsx(_p,{name:"related_people",control:E,render:({field:W})=>u.jsx(nae,{value:W.value,onChange:W.onChange,people:p,isLoading:h})})]}),u.jsxs("div",{children:[u.jsx("label",{className:"label",children:"Date type *"}),u.jsx(_p,{name:"date_type",control:E,rules:{required:"Please select a date type"},render:({field:W})=>{const z=W.value?String(W.value):"";return u.jsxs("select",{value:z,onChange:K=>{const fe=K.target.value;W.onChange(fe)},onBlur:W.onBlur,name:W.name,ref:W.ref,className:"input",children:[u.jsx("option",{value:"",children:"Select a type..."}),m.map(K=>u.jsx("option",{value:String(K.id),children:K.name},K.id))]})}}),N.date_type&&u.jsx("p",{className:"text-sm text-red-600 mt-1",children:N.date_type.message})]}),u.jsxs("div",{children:[u.jsx("label",{className:"label",children:"Label"}),u.jsx("input",{...g("title"),className:"input",placeholder:"e.g., Mom's Birthday, Wedding Anniversary"}),u.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Auto-generated from person and date type. You can customize it."})]}),u.jsxs("div",{children:[u.jsx("label",{className:"label",children:"Date *"}),u.jsx("input",{...g("date_value",{required:"Date is required"}),type:"date",className:"input"}),N.date_value&&u.jsx("p",{className:"text-sm text-red-600 mt-1",children:N.date_value.message})]}),u.jsxs("div",{className:"flex items-center",children:[u.jsx("input",{type:"checkbox",...g("is_recurring"),className:"w-4 h-4 rounded border-gray-300 text-primary-600 focus:ring-primary-500"}),u.jsx("label",{className:"ml-2 text-sm text-gray-700",children:"Repeats every year"})]}),u.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t",children:[u.jsx(he,{to:H,className:"btn-secondary",children:"Cancel"}),u.jsxs("button",{type:"submit",className:"btn-primary",disabled:S,children:[u.jsx(xa,{className:"w-4 h-4 mr-2"}),i?"Save changes":"Create date"]})]})]})]})]})}function iae(){fn("Todos");const[t,e]=I.useState(!1),[r,n]=I.useState(null),[i,s]=I.useState(!1),[a,o]=I.useState(!1),{data:l,isLoading:c}=vK(t),d=gK(),h=Zre(),f=g=>{d.mutate({todoId:g.id,data:{content:g.content,due_date:g.due_date,is_completed:!g.is_completed}})},p=async g=>{r&&(await d.mutateAsync({todoId:r.id,data:g}),s(!1),n(null))},m=async g=>{window.confirm("Are you sure you want to delete this todo?")&&await h.mutateAsync(g)};if(c)return u.jsx("div",{className:"flex items-center justify-center h-64",children:u.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"})});const y=(l==null?void 0:l.filter(g=>!g.is_completed))||[],b=(l==null?void 0:l.filter(g=>g.is_completed))||[];return u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[u.jsx("h1",{className:"text-2xl font-bold",children:"Todos"}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsxs("button",{onClick:()=>e(!t),className:`btn-secondary text-sm flex items-center gap-2 ${t?"bg-primary-50 border-primary-300":""}`,children:[u.jsx(Tj,{className:"w-4 h-4"}),t?"Hide completed":"Show completed"]}),u.jsxs("button",{onClick:()=>o(!0),className:"btn-primary text-sm flex items-center gap-2",children:[u.jsx(Mt,{className:"w-4 h-4"}),"Add todo"]})]})]}),u.jsxs("div",{className:"card",children:[u.jsx("div",{className:"p-4 border-b border-gray-200",children:u.jsxs("h2",{className:"font-semibold flex items-center",children:[u.jsx(mu,{className:"w-5 h-5 mr-2 text-gray-500"}),"Open todos (",y.length,")"]})}),y.length>0?u.jsx("div",{className:"divide-y divide-gray-100",children:y.map(g=>u.jsx(dR,{todo:g,onToggle:f,onEdit:v=>{n(v),s(!0)},onDelete:m},g.id))}):u.jsxs("div",{className:"p-8 text-center",children:[u.jsx(rs,{className:"w-12 h-12 text-gray-300 mx-auto mb-3"}),u.jsx("p",{className:"text-gray-500",children:"No open todos"}),u.jsx("p",{className:"text-sm text-gray-400 mt-1",children:"Create todos from a person's detail page"})]})]}),t&&b.length>0&&u.jsxs("div",{className:"card",children:[u.jsx("div",{className:"p-4 border-b border-gray-200",children:u.jsxs("h2",{className:"font-semibold flex items-center",children:[u.jsx(rs,{className:"w-5 h-5 mr-2 text-primary-600"}),"Completed todos (",b.length,")"]})}),u.jsx("div",{className:"divide-y divide-gray-100",children:b.map(g=>u.jsx(dR,{todo:g,onToggle:f,onEdit:v=>{n(v),s(!0)},onDelete:m},g.id))})]}),u.jsx(RK,{isOpen:i,onClose:()=>{s(!1),n(null)},onSubmit:p,isLoading:d.isPending,todo:r}),u.jsx(xK,{isOpen:a,onClose:()=>o(!1)})]})}function dR({todo:t,onToggle:e,onEdit:r,onDelete:n}){var s;const i=th(t);return u.jsxs("div",{className:"flex items-start p-4 hover:bg-gray-50 transition-colors group",children:[u.jsx("button",{onClick:()=>e(t),className:"mt-0.5 mr-3 flex-shrink-0",title:t.is_completed?"Mark as incomplete":"Mark as complete",children:t.is_completed?u.jsx(rs,{className:"w-5 h-5 text-primary-600"}):u.jsx(mu,{className:`w-5 h-5 ${i?"text-red-600":"text-gray-400"}`})}),u.jsxs("div",{className:"flex-1 min-w-0",children:[u.jsx("p",{className:`text-sm ${t.is_completed?"line-through text-gray-400":i?"text-red-600 font-medium":"text-gray-900"}`,children:t.content}),u.jsxs("div",{className:"flex flex-wrap items-center gap-3 mt-2",children:[u.jsxs(he,{to:`/people/${t.person_id}`,className:"flex items-center gap-2 text-xs text-primary-600 hover:text-primary-700 hover:underline",children:[t.person_thumbnail?u.jsx("img",{src:t.person_thumbnail,alt:t.person_name,className:"w-5 h-5 rounded-full object-cover"}):u.jsx("div",{className:"w-5 h-5 bg-gray-200 rounded-full flex items-center justify-center",children:u.jsx("span",{className:"text-xs text-gray-500",children:(s=t.person_name)==null?void 0:s[0]})}),t.person_name]}),t.due_date&&u.jsxs("span",{className:`text-xs ${i&&!t.is_completed?"text-red-600 font-medium":"text-gray-500"}`,children:["Due: ",tn(new Date(t.due_date),"MMM d, yyyy"),i&&!t.is_completed&&" (overdue)"]})]})]}),u.jsxs("div",{className:"flex items-center gap-1 opacity-0 group-hover:opacity-100 transition-opacity ml-2",children:[u.jsx("button",{onClick:()=>r(t),className:"p-1 hover:bg-gray-100 rounded",title:"Edit todo",children:u.jsx(za,{className:"w-4 h-4 text-gray-400 hover:text-gray-600"})}),u.jsx("button",{onClick:()=>n(t.id),className:"p-1 hover:bg-red-50 rounded",title:"Delete todo",children:u.jsx(An,{className:"w-4 h-4 text-gray-400 hover:text-red-600"})})]})]})}function sae(){const t=window.prmConfig||{},e=t.isAdmin||!1,[r,n]=I.useState(""),[i,s]=I.useState(""),[a,o]=I.useState(!0),[l,c]=I.useState(!1),[d,h]=I.useState(!1),[f,p]=I.useState([]),[m,y]=I.useState(""),[b,g]=I.useState(!1),[v,w]=I.useState(""),[x,_]=I.useState("09:00"),[E,N]=I.useState(!0),[S,j]=I.useState(!1),[C,O]=I.useState(!1),[T,P]=I.useState(!1),[D,F]=I.useState(""),[Q,H]=I.useState(!1),[L,V]=I.useState([]),[W,z]=I.useState([]),[K,fe]=I.useState([]),[xe,Re]=I.useState(!1),[ge,Ee]=I.useState(!1),[ke,it]=I.useState(!1),[rr,bt]=I.useState(""),[fr,ut]=I.useState(!1),[Pr,Ir]=I.useState("");I.useEffect(()=>{(async()=>{try{const oe=await ue.get("/prm/v1/user/ical-url");n(oe.data.url),s(oe.data.webcal_url)}catch(oe){console.error("Failed to fetch iCal URL:",oe)}finally{o(!1)}})()},[]);const _r=async()=>{Re(!0);try{const[U,oe]=await Promise.all([$e.getSlackChannels(),$e.getSlackTargets()]);V(U.data.channels||[]),z(U.data.users||[]),fe(oe.data.targets||[])}catch(U){console.error("Failed to fetch Slack data:",U),F("Failed to load Slack channels and users. Please try refreshing the page.")}finally{Re(!1)}};I.useEffect(()=>{(async()=>{try{const oe=await $e.getNotificationChannels();p(oe.data.channels||["email"]),y(oe.data.slack_webhook||""),_(oe.data.notification_time||"09:00");const de=await $e.getSlackStatus(),ze=de.data.connected||!1;g(ze),w(de.data.workspace_name||""),ze&&await _r()}catch(oe){console.error("Failed to fetch notification channels:",oe)}finally{N(!1)}})()},[]),I.useEffect(()=>{b&&_r()},[b]),I.useEffect(()=>{const U=new URLSearchParams(window.location.search),oe=U.get("slack_connected"),de=U.get("slack_error");oe==="1"?(F("Slack connected successfully!"),$e.getSlackStatus().then(ze=>{g(ze.data.connected||!1),w(ze.data.workspace_name||"")}),window.history.replaceState({},"",window.location.pathname)):de&&(F(`Slack connection failed: ${de}`),window.history.replaceState({},"",window.location.pathname))},[]);const st=async()=>{var U,oe;try{const de=await ue.get("/prm/v1/slack/oauth/authorize");window.location.href=de.data.oauth_url}catch(de){console.error("Failed to get Slack OAuth URL:",de),alert(((oe=(U=de.response)==null?void 0:U.data)==null?void 0:oe.message)||"Failed to connect Slack")}},Bt=async()=>{var U,oe;if(confirm("Are you sure you want to disconnect Slack? You will stop receiving Slack notifications.")){H(!0);try{await $e.disconnectSlack(),g(!1),w(""),V([]),z([]),fe([]),F("Slack disconnected successfully"),f.includes("slack")&&await A("slack")}catch(de){console.error("Failed to disconnect Slack:",de),alert(((oe=(U=de.response)==null?void 0:U.data)==null?void 0:oe.message)||"Failed to disconnect Slack")}finally{H(!1)}}},Rr=U=>{const oe=K.includes(U)?K.filter(de=>de!==U):[...K,U];fe(oe)},$r=async()=>{var U,oe;Ee(!0);try{await $e.updateSlackTargets(K),F("Notification targets saved successfully"),setTimeout(()=>F(""),3e3)}catch(de){console.error("Failed to save Slack targets:",de),alert(((oe=(U=de.response)==null?void 0:U.data)==null?void 0:oe.message)||"Failed to save notification targets")}finally{Ee(!1)}},$=async()=>{try{await navigator.clipboard.writeText(r),c(!0),setTimeout(()=>c(!1),2e3)}catch(U){console.error("Failed to copy:",U)}},M=async()=>{if(confirm("Are you sure you want to regenerate your calendar URL? Any existing calendar subscriptions will stop working until you update them with the new URL.")){h(!0);try{const U=await ue.post("/prm/v1/user/regenerate-ical-token");n(U.data.url),s(U.data.webcal_url)}catch(U){console.error("Failed to regenerate token:",U)}finally{h(!1)}}},A=async U=>{var de,ze;const oe=f.includes(U)?f.filter(ve=>ve!==U):[...f,U];j(!0);try{await $e.updateNotificationChannels(oe),p(oe)}catch(ve){console.error("Failed to update notification channels:",ve),alert(((ze=(de=ve.response)==null?void 0:de.data)==null?void 0:ze.message)||"Failed to update notification channels")}finally{j(!1)}},se=async U=>{var ae,we;const[oe,de]=U.split(":").map(Number),ze=Math.round(de/5)*5,ve=ze===60?(oe+1)%24:oe,J=ze===60?0:ze,le=`${String(ve).padStart(2,"0")}:${String(J).padStart(2,"0")}`;_(le),P(!0);try{await $e.updateNotificationTime(le)}catch(De){console.error("Failed to update notification time:",De),alert(((we=(ae=De.response)==null?void 0:ae.data)==null?void 0:we.message)||"Failed to update notification time");const Yr=await $e.getNotificationChannels();_(Yr.data.notification_time||"09:00")}finally{P(!1)}},re=async()=>{var U,oe;if(confirm("This will send reminder emails for all reminders due today. Continue?")){it(!0),bt("");try{const de=await $e.triggerReminders();bt(de.data.message||"Reminders triggered successfully.")}catch(de){console.error("Failed to trigger reminders:",de),bt(((oe=(U=de.response)==null?void 0:U.data)==null?void 0:oe.message)||"Failed to trigger reminders. Please check server logs.")}finally{it(!1)}}},X=async()=>{var U,oe;if(confirm("This will reschedule all user reminder cron jobs based on their notification time preferences. Continue?")){ut(!0),Ir("");try{const de=await $e.rescheduleCronJobs();Ir(de.data.message||"Cron jobs rescheduled successfully.")}catch(de){console.error("Failed to reschedule cron jobs:",de),Ir(((oe=(U=de.response)==null?void 0:U.data)==null?void 0:oe.message)||"Failed to reschedule cron jobs. Please check server logs.")}finally{ut(!1)}}};return u.jsxs("div",{className:"max-w-2xl mx-auto space-y-6",children:[u.jsxs("div",{className:"card p-6",children:[u.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Calendar Subscription"}),u.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Subscribe to your important dates in any calendar app (Apple Calendar, Google Calendar, Outlook, etc.)"}),a?u.jsxs("div",{className:"animate-pulse",children:[u.jsx("div",{className:"h-10 bg-gray-200 rounded mb-3"}),u.jsx("div",{className:"h-9 bg-gray-200 rounded w-24"})]}):u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"label mb-1",children:"Your Calendar Feed URL"}),u.jsxs("div",{className:"flex gap-2",children:[u.jsx("input",{type:"text",readOnly:!0,value:r,className:"input flex-1 text-sm font-mono bg-gray-50",onClick:U=>U.target.select()}),u.jsx("button",{onClick:$,className:"btn-secondary whitespace-nowrap",title:"Copy URL",children:l?u.jsxs("span",{className:"flex items-center gap-1",children:[u.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),"Copied"]}):u.jsxs("span",{className:"flex items-center gap-1",children:[u.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 5H6a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2v-1M8 5a2 2 0 002 2h2a2 2 0 002-2M8 5a2 2 0 012-2h2a2 2 0 012 2m0 0h2a2 2 0 012 2v3m2 4H10m0 0l3-3m-3 3l3 3"})}),"Copy"]})})]})]}),u.jsxs("div",{className:"flex flex-wrap gap-2",children:[u.jsx("a",{href:i,className:"btn-primary",children:u.jsxs("span",{className:"flex items-center gap-1",children:[u.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})}),"Subscribe in Calendar App"]})}),u.jsx("button",{onClick:M,disabled:d,className:"btn-secondary",children:d?"Regenerating...":"Regenerate URL"})]}),u.jsx("p",{className:"text-xs text-gray-500",children:'Keep this URL private. Anyone with access to it can see your important dates. If you think it has been compromised, click "Regenerate URL" to get a new one.'})]})]}),u.jsxs("div",{className:"card p-6",children:[u.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Data"}),u.jsxs("div",{className:"space-y-3",children:[u.jsxs(he,{to:"/settings/import",className:"block p-3 rounded-lg border border-gray-200 hover:bg-gray-50",children:[u.jsx("p",{className:"font-medium",children:"Import Data"}),u.jsx("p",{className:"text-sm text-gray-500",children:"Import contacts from Monica CRM or other sources"})]}),u.jsxs(he,{to:"/settings/export",className:"block p-3 rounded-lg border border-gray-200 hover:bg-gray-50",children:[u.jsx("p",{className:"font-medium",children:"Export Data"}),u.jsx("p",{className:"text-sm text-gray-500",children:"Export all contacts as vCard or Google Contacts CSV"})]})]})]}),u.jsxs("div",{className:"card p-6",children:[u.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Notifications"}),u.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Choose how you want to receive daily reminders about your important dates."}),E?u.jsxs("div",{className:"animate-pulse",children:[u.jsx("div",{className:"h-10 bg-gray-200 rounded mb-3"}),u.jsx("div",{className:"h-10 bg-gray-200 rounded"})]}):u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg border border-gray-200",children:[u.jsxs("div",{children:[u.jsx("p",{className:"font-medium",children:"Email"}),u.jsx("p",{className:"text-sm text-gray-500",children:"Receive daily digest emails"})]}),u.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[u.jsx("input",{type:"checkbox",checked:f.includes("email"),onChange:()=>A("email"),disabled:S,className:"sr-only peer"}),u.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-primary-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-primary-600"})]})]}),u.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg border border-gray-200",children:[u.jsxs("div",{children:[u.jsx("p",{className:"font-medium",children:"Slack"}),u.jsx("p",{className:"text-sm text-gray-500",children:"Receive notifications in Slack"})]}),u.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[u.jsx("input",{type:"checkbox",checked:f.includes("slack"),onChange:()=>A("slack"),disabled:S||!b,className:"sr-only peer"}),u.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-primary-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-primary-600"})]})]}),u.jsx("div",{children:b?u.jsxs("div",{className:"space-y-3",children:[u.jsx("div",{className:"p-3 bg-green-50 border border-green-200 rounded-lg",children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsx("p",{className:"font-medium text-green-900",children:"Connected to Slack"}),v&&u.jsxs("p",{className:"text-sm text-green-700",children:["Workspace: ",v]})]}),u.jsx("button",{onClick:Bt,disabled:Q,className:"btn-secondary text-sm",children:Q?"Disconnecting...":"Disconnect"})]})}),D&&u.jsx("p",{className:`text-sm ${D.includes("successfully")||D.includes("disconnected")?"text-green-600":"text-red-600"}`,children:D}),f.includes("slack")&&u.jsxs("div",{className:"mt-4 p-4 border border-gray-200 rounded-lg",children:[u.jsx("h3",{className:"font-medium mb-3",children:"Notification targets"}),u.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Choose where to send Slack notifications. You can select multiple channels and users."}),xe?u.jsx("p",{className:"text-sm text-gray-500",children:"Loading channels and users..."}):u.jsxs(u.Fragment,{children:[L.length>0&&u.jsxs("div",{className:"mb-4",children:[u.jsx("h4",{className:"text-sm font-medium mb-2",children:"Channels"}),u.jsx("div",{className:"space-y-2 max-h-48 overflow-y-auto",children:L.map(U=>u.jsxs("label",{className:"flex items-center p-2 hover:bg-gray-50 rounded cursor-pointer",children:[u.jsx("input",{type:"checkbox",checked:K.includes(U.id),onChange:()=>Rr(U.id),className:"mr-2 cursor-pointer"}),u.jsx("span",{className:"text-sm",children:U.name})]},U.id))})]}),W.length>0&&u.jsxs("div",{className:"mb-4",children:[u.jsx("h4",{className:"text-sm font-medium mb-2",children:"Direct messages"}),u.jsx("div",{className:"space-y-2 max-h-48 overflow-y-auto",children:W.map(U=>u.jsxs("label",{className:"flex items-center p-2 hover:bg-gray-50 rounded cursor-pointer",children:[u.jsx("input",{type:"checkbox",checked:K.includes(U.id),onChange:()=>Rr(U.id),className:"mr-2 cursor-pointer"}),u.jsxs("span",{className:"text-sm",children:[U.name,U.is_me&&u.jsx("span",{className:"text-gray-500 ml-1",children:"(you)"})]})]},U.id))})]}),L.length===0&&W.length===0&&!xe&&u.jsx("p",{className:"text-sm text-gray-500 mb-4",children:"No channels or users found. Make sure the Slack app has the necessary permissions."}),u.jsx("button",{onClick:$r,disabled:ge,className:"btn-primary text-sm mt-4",children:ge?"Saving...":"Save targets"})]})]})]}):u.jsxs("div",{className:"space-y-3",children:[u.jsx("button",{onClick:st,className:"btn-primary w-full",disabled:Q,children:"Connect Slack"}),D&&u.jsx("p",{className:`text-sm ${D.includes("successfully")?"text-green-600":"text-red-600"}`,children:D}),u.jsx("p",{className:"text-xs text-gray-500",children:"Connect your Slack workspace to receive daily reminder notifications. You'll be able to message channels or receive direct messages."})]})}),m&&!b&&u.jsx("div",{className:"p-3 bg-yellow-50 border border-yellow-200 rounded-lg",children:u.jsxs("p",{className:"text-sm text-yellow-800",children:[u.jsx("strong",{children:"Legacy webhook detected."})," Please connect via OAuth for better functionality. Your webhook will continue to work until you connect via OAuth."]})}),u.jsxs("div",{children:[u.jsx("label",{className:"label mb-1",children:"Notification Time (UTC)"}),u.jsx("input",{type:"time",value:x,onChange:U=>se(U.target.value),className:"input",disabled:T,step:"300"}),x&&u.jsxs("div",{className:"mt-2 p-2 bg-gray-50 rounded text-sm",children:[u.jsxs("p",{className:"text-gray-700",children:[u.jsx("span",{className:"font-medium",children:"UTC:"})," ",x]}),u.jsxs("p",{className:"text-gray-700 mt-1",children:[u.jsxs("span",{className:"font-medium",children:["Your time (",Intl.DateTimeFormat().resolvedOptions().timeZone,"):"]})," ",(()=>{try{const[U,oe]=x.split(":"),de=new Date;return de.setUTCHours(parseInt(U),parseInt(oe),0,0),de.toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit",hour12:!1})}catch{return x}})()]})]}),u.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Choose the UTC time when you want to receive your daily reminder digest. Reminders are sent within a 1-hour window of your selected time."})]})]})]}),e&&u.jsxs("div",{className:"card p-6",children:[u.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Administration"}),u.jsxs("div",{className:"space-y-3",children:[u.jsxs(he,{to:"/settings/relationship-types",className:"block p-3 rounded-lg border border-gray-200 hover:bg-gray-50",children:[u.jsx("p",{className:"font-medium",children:"Relationship Types"}),u.jsx("p",{className:"text-sm text-gray-500",children:"Manage relationship types and their inverse mappings"})]}),u.jsxs(he,{to:"/settings/user-approval",className:"block p-3 rounded-lg border border-gray-200 hover:bg-gray-50",children:[u.jsx("p",{className:"font-medium",children:"User Approval"}),u.jsx("p",{className:"text-sm text-gray-500",children:"Approve or deny access for new users"})]}),u.jsxs("button",{onClick:re,disabled:ke,className:"w-full text-left p-3 rounded-lg border border-gray-200 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:[u.jsx("p",{className:"font-medium",children:"Trigger reminders"}),u.jsx("p",{className:"text-sm text-gray-500",children:ke?"Sending...":"Manually send reminders for today"}),rr&&u.jsx("p",{className:"text-sm text-green-600 mt-1",children:rr})]}),u.jsxs("button",{onClick:X,disabled:fr,className:"w-full text-left p-3 rounded-lg border border-gray-200 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:[u.jsx("p",{className:"font-medium",children:"Reschedule cron jobs"}),u.jsx("p",{className:"text-sm text-gray-500",children:fr?"Rescheduling...":"Reschedule all user reminder cron jobs"}),Pr&&u.jsx("p",{className:"text-sm text-green-600 mt-1",children:Pr})]})]})]}),u.jsxs("div",{className:"card p-6",children:[u.jsx("h2",{className:"text-lg font-semibold mb-4",children:"About"}),u.jsxs("p",{className:"text-sm text-gray-600",children:[yu," v",t.version||"1.0.0",u.jsx("br",{}),"Built with WordPress, React, and Tailwind CSS."]})]})]})}function hR({value:t,onChange:e,relationshipTypes:r,currentTypeId:n=null}){const[i,s]=I.useState(""),[a,o]=I.useState(!1),l=I.useRef(null),c=I.useRef(null),d=I.useMemo(()=>r.sort((b,g)=>{const v=(b.name||"").toLowerCase(),w=(g.name||"").toLowerCase();return v<w?-1:v>w?1:0}),[r]),h=I.useMemo(()=>{if(!i)return d.slice(0,10);const b=i.toLowerCase();return d.filter(g=>(g.name||"").toLowerCase().includes(b)).slice(0,10)},[d,i]),f=I.useMemo(()=>d.find(b=>b.id===parseInt(t,10)),[d,t]);I.useEffect(()=>{const b=g=>{c.current&&!c.current.contains(g.target)&&l.current&&!l.current.contains(g.target)&&o(!1)};return document.addEventListener("mousedown",b),()=>document.removeEventListener("mousedown",b)},[]);const p=b=>{e(b?b.toString():""),s(""),o(!1)},m=()=>{e(""),s(""),o(!1)},y=f?f.name:"";return u.jsxs("div",{className:"relative",children:[u.jsx("div",{className:"relative",children:f&&!a?u.jsxs("div",{className:"flex items-center justify-between input pr-8 cursor-text",onClick:()=>o(!0),children:[u.jsx("span",{children:y}),u.jsx("button",{type:"button",onClick:b=>{b.stopPropagation(),m()},className:"absolute right-2 text-gray-400 hover:text-gray-600",children:u.jsx(cn,{className:"w-4 h-4"})})]}):u.jsx("input",{ref:l,type:"text",value:i,onChange:b=>{s(b.target.value),o(!0)},onFocus:()=>o(!0),placeholder:"Search for a relationship type...",className:"input"})}),a&&(i||!f)&&u.jsx("div",{ref:c,className:"absolute z-10 w-full mt-1 bg-white border border-gray-200 rounded-lg shadow-lg max-h-48 overflow-y-auto",children:h.length>0?u.jsxs(u.Fragment,{children:[u.jsx("button",{type:"button",onClick:()=>p(null),className:`w-full text-left px-4 py-2 hover:bg-gray-50 ${t?"":"bg-primary-50"}`,children:u.jsx("span",{className:"text-gray-500 italic",children:"None (no inverse)"})}),h.map(b=>u.jsx("button",{type:"button",onClick:()=>p(b.id),className:`w-full text-left px-4 py-2 hover:bg-gray-50 ${t===b.id.toString()?"bg-primary-50":""}`,children:b.name},b.id))]}):u.jsx("p",{className:"px-4 py-2 text-gray-500 text-sm",children:"No relationship types found"})})]})}function aae(){fn("Relationship Types - Settings");const t=tt();if(!((window.prmConfig||{}).isAdmin||!1))return u.jsx("div",{className:"max-w-2xl mx-auto",children:u.jsxs("div",{className:"card p-8 text-center",children:[u.jsx(cK,{className:"w-16 h-16 mx-auto text-amber-500 mb-4"}),u.jsx("h1",{className:"text-2xl font-bold mb-2",children:"Access Denied"}),u.jsx("p",{className:"text-gray-600 mb-6",children:"You don't have permission to manage relationship types. This feature is only available to administrators."}),u.jsx(he,{to:"/settings",className:"btn-primary",children:"Back to Settings"})]})});const{data:n=[],isLoading:i}=mt({queryKey:["relationship-types"],queryFn:async()=>(await We.getRelationshipTypes()).data}),[s,a]=I.useState(null),[o,l]=I.useState(""),[c,d]=I.useState(""),[h,f]=I.useState(""),[p,m]=I.useState(""),[y,b]=I.useState(!1),g=Ge({mutationFn:async({id:O,name:T,inverseId:P})=>{const D={name:T};return P&&(D.acf={inverse_relationship_type:parseInt(P,10)}),We.updateRelationshipType(O,D)},onSuccess:()=>{t.invalidateQueries({queryKey:["relationship-types"]}),a(null),l(""),d("")}}),v=Ge({mutationFn:async({name:O,inverseId:T})=>{const P={name:O};return T&&(P.acf={inverse_relationship_type:parseInt(T,10)}),We.createRelationshipType(P)},onSuccess:()=>{t.invalidateQueries({queryKey:["relationship-types"]}),f(""),m(""),b(!1)}}),w=Ge({mutationFn:O=>We.deleteRelationshipType(O),onSuccess:()=>{t.invalidateQueries({queryKey:["relationship-types"]})}}),x=Ge({mutationFn:()=>We.restoreRelationshipTypeDefaults(),onSuccess:()=>{t.invalidateQueries({queryKey:["relationship-types"]}),alert("Default relationship type configurations have been restored.")},onError:()=>{alert("Failed to restore defaults. Please try again.")}});function _(){return u.jsxs("button",{onClick:()=>{window.confirm("This will restore all default inverse mappings and gender-dependent settings. Continue?")&&x.mutate()},disabled:x.isPending,className:"btn-secondary flex items-center gap-2",title:"Restore default inverse mappings and gender-dependent settings",children:[x.isPending?u.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-gray-600"}):u.jsx(lK,{className:"w-4 h-4"}),u.jsx("span",{className:"hidden md:inline",children:"Restore Defaults"})]})}const E=O=>{var P;a(O.id),l(O.name);const T=(P=O.acf)==null?void 0:P.inverse_relationship_type;d(T?T.toString():"")},N=()=>{a(null),l(""),d("")},S=()=>{if(!o.trim()){alert("Name is required");return}g.mutate({id:s,name:o.trim(),inverseId:c||null})},j=()=>{if(!h.trim()){alert("Name is required");return}v.mutate({name:h.trim(),inverseId:p||null})},C=(O,T)=>{window.confirm(`Are you sure you want to delete "${T}"? This cannot be undone.`)&&w.mutate(O)};return i?u.jsx("div",{className:"flex items-center justify-center h-64",children:u.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"})}):u.jsx("div",{className:"max-w-4xl mx-auto space-y-6",children:u.jsxs("div",{className:"card p-6",children:[u.jsxs("div",{className:"flex items-center justify-between mb-6",children:[u.jsx("h1",{className:"text-2xl font-bold",children:"Relationship Types"}),u.jsx("div",{className:"flex gap-2",children:!y&&u.jsxs(u.Fragment,{children:[u.jsx(_,{}),u.jsxs("button",{onClick:()=>b(!0),className:"btn-primary flex items-center gap-2",children:[u.jsx(Mt,{className:"w-4 h-4"}),u.jsx("span",{className:"hidden md:inline",children:"Add Relationship Type"})]})]})})]}),y&&u.jsxs("div",{className:"mb-6 p-4 border border-gray-200 rounded-lg bg-gray-50",children:[u.jsx("h3",{className:"font-semibold mb-4",children:"Add New Relationship Type"}),u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"label",children:"Name *"}),u.jsx("input",{type:"text",value:h,onChange:O=>f(O.target.value),className:"input",placeholder:"e.g., Parent, Spouse, Colleague"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"label",children:"Inverse Relationship Type"}),u.jsx(hR,{value:p,onChange:m,relationshipTypes:n}),u.jsx("p",{className:"text-xs text-gray-500 mt-1",children:'Select the inverse relationship type. For example, if this is "Parent", select "Child". If this is "Spouse" or "Acquaintance", select the same type (e.g., "Spouse"  "Spouse").'})]}),u.jsxs("div",{className:"flex gap-2",children:[u.jsxs("button",{onClick:j,disabled:v.isPending,className:"btn-primary flex items-center gap-2",children:[v.isPending?u.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}):u.jsx(xa,{className:"w-4 h-4"}),u.jsx("span",{className:"hidden md:inline",children:"Save"})]}),u.jsx("button",{onClick:()=>{b(!1),f(""),m("")},className:"btn-secondary",children:"Cancel"})]})]})]}),u.jsx("div",{className:"space-y-2",children:n.length===0?u.jsx("p",{className:"text-gray-500 text-center py-8",children:"No relationship types found."}):n.map(O=>{var Q,H;const T=s===O.id,P=(Q=O.acf)==null?void 0:Q.inverse_relationship_type,D=typeof P=="object"&&(P!=null&&P.ID)?P.ID:typeof P=="object"&&(P!=null&&P.id)?P.id:P,F=D?n.find(L=>L.id===D):null;return u.jsx("div",{className:"p-4 border border-gray-200 rounded-lg hover:bg-gray-50",children:T?u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"label",children:"Name *"}),u.jsx("input",{type:"text",value:o,onChange:L=>l(L.target.value),className:"input"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"label",children:"Inverse Relationship Type"}),u.jsx(hR,{value:c,onChange:d,relationshipTypes:n,currentTypeId:O.id}),u.jsx("p",{className:"text-xs text-gray-500 mt-1",children:'Select the inverse relationship type. For example, if this is "Parent", select "Child". If this is "Spouse" or "Acquaintance", select the same type (e.g., "Spouse"  "Spouse").'})]}),u.jsxs("div",{className:"flex gap-2",children:[u.jsxs("button",{onClick:S,disabled:g.isPending,className:"btn-primary flex items-center gap-2",children:[g.isPending?u.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}):u.jsx(xa,{className:"w-4 h-4"}),u.jsx("span",{className:"hidden md:inline",children:"Save"})]}),u.jsxs("button",{onClick:N,className:"btn-secondary flex items-center gap-2",children:[u.jsx(cn,{className:"w-4 h-4"}),u.jsx("span",{className:"hidden md:inline",children:"Cancel"})]})]})]}):u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{className:"flex-1",children:[u.jsx("div",{className:"font-medium",children:O.name}),F&&u.jsxs("div",{className:"text-sm text-gray-500 mt-1",children:["Inverse: ",u.jsx("span",{className:"font-medium",children:F.name})]}),!F&&((H=O.acf)==null?void 0:H.inverse_relationship_type)===null&&u.jsx("div",{className:"text-sm text-gray-400 mt-1 italic",children:"No inverse relationship"})]}),u.jsxs("div",{className:"flex gap-2",children:[u.jsx("button",{onClick:()=>E(O),className:"p-2 text-gray-600 hover:text-primary-600 hover:bg-primary-50 rounded",title:"Edit",children:u.jsx(Wre,{className:"w-4 h-4"})}),u.jsx("button",{onClick:()=>C(O.id,O.name),className:"p-2 text-gray-600 hover:text-red-600 hover:bg-red-50 rounded",title:"Delete",children:u.jsx(An,{className:"w-4 h-4"})})]})]})},O.id)})})]})})}function oae(){var g,v,w;const[t,e]=I.useState(null),[r,n]=I.useState(""),[i,s]=I.useState(!1),[a,o]=I.useState(null),l=tt(),c=Ge({mutationFn:async x=>{const _=new FormData;return _.append("file",x),(await ue.post("/prm/v1/import/monica/validate",_,{headers:{"Content-Type":"multipart/form-data"}})).data},onSuccess:x=>{o(x)},onError:x=>{var _,E;o({valid:!1,error:((E=(_=x.response)==null?void 0:_.data)==null?void 0:E.message)||"Failed to validate file"})}}),d=Ge({mutationFn:async({file:x,monicaUrl:_})=>{const E=new FormData;return E.append("file",x),E.append("monica_url",_),(await ue.post("/prm/v1/import/monica",E,{headers:{"Content-Type":"multipart/form-data"}})).data},onSuccess:()=>{l.invalidateQueries({queryKey:["people"]}),l.invalidateQueries({queryKey:["companies"]}),l.invalidateQueries({queryKey:["dates"]}),l.invalidateQueries({queryKey:["dashboard"]})}}),h=I.useCallback(x=>{x.preventDefault(),x.stopPropagation(),x.type==="dragenter"||x.type==="dragover"?s(!0):x.type==="dragleave"&&s(!1)},[]),f=I.useCallback(x=>{x.preventDefault(),x.stopPropagation(),s(!1),x.dataTransfer.files&&x.dataTransfer.files[0]&&m(x.dataTransfer.files[0])},[]),p=x=>{x.target.files&&x.target.files[0]&&m(x.target.files[0])},m=x=>{if(!x.name.endsWith(".sql")){o({valid:!1,error:"Please select a SQL file"});return}e(x),o(null),d.reset(),c.mutate(x)},y=()=>{if(!r.trim()){o(x=>({...x,urlError:"Please enter your Monica instance URL"}));return}t&&(a!=null&&a.valid)&&d.mutate({file:t,monicaUrl:r.trim()})},b=()=>{e(null),n(""),o(null),c.reset(),d.reset()};return u.jsxs("div",{className:"space-y-4",children:[u.jsx("h2",{className:"text-lg font-semibold",children:"Import from Monica"}),u.jsx("p",{className:"text-sm text-gray-600",children:"Import contacts, relationships, notes, and photos from a Monica CRM SQL export file. Reimporting the same file will update existing contacts instead of creating duplicates."}),d.isSuccess?u.jsx("div",{className:"rounded-lg border border-green-200 bg-green-50 p-4",children:u.jsxs("div",{className:"flex items-start gap-3",children:[u.jsx(pu,{className:"h-5 w-5 text-green-600 mt-0.5"}),u.jsxs("div",{className:"flex-1",children:[u.jsx("h3",{className:"font-medium text-green-900",children:"Import Complete"}),u.jsxs("div",{className:"mt-2 text-sm text-green-800 space-y-1",children:[u.jsxs("p",{children:["Contacts imported: ",d.data.stats.contacts_imported]}),u.jsxs("p",{children:["Contacts updated: ",d.data.stats.contacts_updated]}),u.jsxs("p",{children:["Contacts skipped (partial): ",d.data.stats.contacts_skipped]}),u.jsxs("p",{children:["Photos imported: ",d.data.stats.photos_imported]}),u.jsxs("p",{children:["Organizations created: ",d.data.stats.companies_created]}),u.jsxs("p",{children:["Relationships created: ",d.data.stats.relationships_created]}),u.jsxs("p",{children:["Important dates created: ",d.data.stats.dates_created]}),u.jsxs("p",{children:["Notes created: ",d.data.stats.notes_created]}),((g=d.data.stats.errors)==null?void 0:g.length)>0&&u.jsxs("div",{className:"mt-2 pt-2 border-t border-green-200",children:[u.jsx("p",{className:"font-medium",children:"Errors:"}),u.jsx("ul",{className:"list-disc list-inside",children:d.data.stats.errors.map((x,_)=>u.jsx("li",{children:x},_))})]})]}),u.jsx("button",{onClick:b,className:"mt-3 text-sm text-green-700 hover:text-green-800 font-medium",children:"Import another file"})]})]})}):u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:`relative rounded-lg border-2 border-dashed p-8 text-center transition-colors ${i?"border-primary-500 bg-primary-50":t?"border-green-300 bg-green-50":"border-gray-300 hover:border-gray-400"}`,onDragEnter:h,onDragLeave:h,onDragOver:h,onDrop:f,children:[u.jsx("input",{type:"file",accept:".sql",onChange:p,className:"absolute inset-0 w-full h-full opacity-0 cursor-pointer"}),c.isPending?u.jsxs("div",{className:"flex flex-col items-center gap-2",children:[u.jsx(Oo,{className:"h-8 w-8 text-primary-600 animate-spin"}),u.jsx("p",{className:"text-gray-600",children:"Validating file..."})]}):t?u.jsxs("div",{className:"flex flex-col items-center gap-2",children:[u.jsx(lm,{className:"h-8 w-8 text-green-600"}),u.jsx("p",{className:"font-medium text-gray-900",children:t.name}),u.jsxs("p",{className:"text-sm text-gray-500",children:[(t.size/1024/1024).toFixed(2)," MB"]})]}):u.jsxs("div",{className:"flex flex-col items-center gap-2",children:[u.jsx(gu,{className:"h-8 w-8 text-gray-400"}),u.jsx("p",{className:"text-gray-600",children:"Drag and drop your Monica SQL export file here, or click to browse"}),u.jsx("p",{className:"text-sm text-gray-500",children:"Supports SQL export files"})]})]}),a&&u.jsx("div",{className:`rounded-lg border p-4 ${a.valid?"border-green-200 bg-green-50":"border-red-200 bg-red-50"}`,children:a.valid?u.jsxs("div",{className:"flex items-start gap-3",children:[u.jsx(pu,{className:"h-5 w-5 text-green-600 mt-0.5"}),u.jsxs("div",{className:"flex-1",children:[u.jsx("h3",{className:"font-medium text-green-900",children:"File validated successfully"}),u.jsxs("div",{className:"mt-2 text-sm text-green-800",children:[u.jsxs("p",{children:["Export format: ",a.version]}),u.jsxs("p",{children:["Contacts to import: ",a.summary.contacts]}),u.jsxs("p",{children:["Relationships: ",a.summary.relationships]}),u.jsxs("p",{children:["Notes: ",a.summary.notes]}),u.jsxs("p",{children:["Dates: ",a.summary.reminders]}),u.jsxs("p",{children:["Photos: ",a.summary.photos]}),u.jsxs("p",{children:["Organizations: ",a.summary.companies_count]})]})]})]}):u.jsxs("div",{className:"flex items-start gap-3",children:[u.jsx(ba,{className:"h-5 w-5 text-red-600 mt-0.5"}),u.jsxs("div",{children:[u.jsx("h3",{className:"font-medium text-red-900",children:"Validation failed"}),u.jsx("p",{className:"text-sm text-red-700 mt-1",children:a.error})]})]})}),(a==null?void 0:a.valid)&&u.jsxs("div",{className:"space-y-2",children:[u.jsx("label",{htmlFor:"monica-url",className:"block text-sm font-medium text-gray-700",children:"Monica Instance URL"}),u.jsxs("div",{className:"relative",children:[u.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:u.jsx(oK,{className:"h-4 w-4 text-gray-400"})}),u.jsx("input",{type:"url",id:"monica-url",value:r,onChange:x=>n(x.target.value),placeholder:"https://your-monica-instance.com",className:`block w-full pl-10 pr-3 py-2 border rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500 ${a.urlError?"border-red-300":"border-gray-300"}`})]}),a.urlError&&u.jsx("p",{className:"text-sm text-red-600",children:a.urlError}),u.jsx("p",{className:"text-xs text-gray-500",children:"Enter the URL of your Monica instance to import photos. Photos will be downloaded from this URL."})]}),(a==null?void 0:a.valid)&&u.jsxs("div",{className:"flex gap-3",children:[u.jsx("button",{onClick:y,disabled:d.isPending,className:"btn-primary flex items-center gap-2",children:d.isPending?u.jsxs(u.Fragment,{children:[u.jsx(Oo,{className:"h-4 w-4 animate-spin"}),u.jsx("span",{className:"hidden md:inline",children:"Importing..."})]}):u.jsxs(u.Fragment,{children:[u.jsx(gu,{className:"h-4 w-4"}),u.jsx("span",{className:"hidden md:inline",children:"Start Import"})]})}),u.jsx("button",{onClick:b,disabled:d.isPending,className:"btn-secondary",children:"Cancel"})]}),d.isError&&u.jsx("div",{className:"rounded-lg border border-red-200 bg-red-50 p-4",children:u.jsxs("div",{className:"flex items-start gap-3",children:[u.jsx(ba,{className:"h-5 w-5 text-red-600 mt-0.5"}),u.jsxs("div",{children:[u.jsx("h3",{className:"font-medium text-red-900",children:"Import failed"}),u.jsx("p",{className:"text-sm text-red-700 mt-1",children:((w=(v=d.error.response)==null?void 0:v.data)==null?void 0:w.message)||"An error occurred during import"})]})]})})]})]})}function lae(){var y,b,g;const[t,e]=I.useState(null),[r,n]=I.useState(!1),[i,s]=I.useState(null),a=tt(),o=Ge({mutationFn:async v=>{const w=new FormData;return w.append("file",v),(await ue.post("/prm/v1/import/vcard/validate",w,{headers:{"Content-Type":"multipart/form-data"}})).data},onSuccess:v=>{s(v)},onError:v=>{var w,x;s({valid:!1,error:((x=(w=v.response)==null?void 0:w.data)==null?void 0:x.message)||"Failed to validate file"})}}),l=Ge({mutationFn:async v=>{const w=new FormData;return w.append("file",v),(await ue.post("/prm/v1/import/vcard",w,{headers:{"Content-Type":"multipart/form-data"}})).data},onSuccess:()=>{a.invalidateQueries({queryKey:["people"]}),a.invalidateQueries({queryKey:["companies"]}),a.invalidateQueries({queryKey:["dates"]}),a.invalidateQueries({queryKey:["dashboard"]})}}),c=I.useCallback(v=>{v.preventDefault(),v.stopPropagation(),v.type==="dragenter"||v.type==="dragover"?n(!0):v.type==="dragleave"&&n(!1)},[]),d=I.useCallback(v=>{v.preventDefault(),v.stopPropagation(),n(!1),v.dataTransfer.files&&v.dataTransfer.files[0]&&f(v.dataTransfer.files[0])},[]),h=v=>{v.target.files&&v.target.files[0]&&f(v.target.files[0])},f=v=>{const w=v.name.split(".").pop().toLowerCase();if(w!=="vcf"&&w!=="vcard"){s({valid:!1,error:"Please select a vCard file (.vcf)"});return}e(v),s(null),l.reset(),o.mutate(v)},p=()=>{t&&(i!=null&&i.valid)&&l.mutate(t)},m=()=>{e(null),s(null),o.reset(),l.reset()};return u.jsxs("div",{className:"space-y-4",children:[u.jsx("h2",{className:"text-lg font-semibold",children:"Import from vCard"}),u.jsx("p",{className:"text-sm text-gray-600",children:"Import contacts from a vCard (.vcf) file. vCard is a standard format supported by most contact apps including Apple Contacts, Outlook, and Android. Files can contain one or multiple contacts."}),l.isSuccess?u.jsx("div",{className:"rounded-lg border border-green-200 bg-green-50 p-4",children:u.jsxs("div",{className:"flex items-start gap-3",children:[u.jsx(pu,{className:"h-5 w-5 text-green-600 mt-0.5"}),u.jsxs("div",{className:"flex-1",children:[u.jsx("h3",{className:"font-medium text-green-900",children:"Import Complete"}),u.jsxs("div",{className:"mt-2 text-sm text-green-800 space-y-1",children:[u.jsxs("p",{children:["Contacts imported: ",l.data.stats.contacts_imported]}),u.jsxs("p",{children:["Contacts updated: ",l.data.stats.contacts_updated]}),u.jsxs("p",{children:["Contacts skipped: ",l.data.stats.contacts_skipped]}),u.jsxs("p",{children:["Photos imported: ",l.data.stats.photos_imported]}),u.jsxs("p",{children:["Organizations created: ",l.data.stats.companies_created]}),u.jsxs("p",{children:["Birthdays created: ",l.data.stats.dates_created]}),u.jsxs("p",{children:["Notes created: ",l.data.stats.notes_created]}),((y=l.data.stats.errors)==null?void 0:y.length)>0&&u.jsxs("div",{className:"mt-2 pt-2 border-t border-green-200",children:[u.jsx("p",{className:"font-medium",children:"Errors:"}),u.jsx("ul",{className:"list-disc list-inside",children:l.data.stats.errors.map((v,w)=>u.jsx("li",{children:v},w))})]})]}),u.jsx("button",{onClick:m,className:"mt-3 text-sm text-green-700 hover:text-green-800 font-medium",children:"Import another file"})]})]})}):u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:`relative rounded-lg border-2 border-dashed p-8 text-center transition-colors ${r?"border-primary-500 bg-primary-50":t?"border-green-300 bg-green-50":"border-gray-300 hover:border-gray-400"}`,onDragEnter:c,onDragLeave:c,onDragOver:c,onDrop:d,children:[u.jsx("input",{type:"file",accept:".vcf,.vcard",onChange:h,className:"absolute inset-0 w-full h-full opacity-0 cursor-pointer"}),o.isPending?u.jsxs("div",{className:"flex flex-col items-center gap-2",children:[u.jsx(Oo,{className:"h-8 w-8 text-primary-600 animate-spin"}),u.jsx("p",{className:"text-gray-600",children:"Validating file..."})]}):t?u.jsxs("div",{className:"flex flex-col items-center gap-2",children:[u.jsx(lm,{className:"h-8 w-8 text-green-600"}),u.jsx("p",{className:"font-medium text-gray-900",children:t.name}),u.jsxs("p",{className:"text-sm text-gray-500",children:[(t.size/1024).toFixed(2)," KB"]})]}):u.jsxs("div",{className:"flex flex-col items-center gap-2",children:[u.jsx(gu,{className:"h-8 w-8 text-gray-400"}),u.jsx("p",{className:"text-gray-600",children:"Drag and drop your vCard file here, or click to browse"}),u.jsx("p",{className:"text-sm text-gray-500",children:"Supports .vcf and .vcard files"})]})]}),i&&u.jsx("div",{className:`rounded-lg border p-4 ${i.valid?"border-green-200 bg-green-50":"border-red-200 bg-red-50"}`,children:i.valid?u.jsxs("div",{className:"flex items-start gap-3",children:[u.jsx(pu,{className:"h-5 w-5 text-green-600 mt-0.5"}),u.jsxs("div",{className:"flex-1",children:[u.jsx("h3",{className:"font-medium text-green-900",children:"File validated successfully"}),u.jsxs("div",{className:"mt-3 grid grid-cols-2 sm:grid-cols-3 gap-3",children:[u.jsxs("div",{className:"flex items-center gap-2 text-sm text-green-800",children:[u.jsx($i,{className:"h-4 w-4"}),u.jsxs("span",{children:[i.summary.contacts," contacts"]})]}),i.summary.companies_count>0&&u.jsxs("div",{className:"flex items-center gap-2 text-sm text-green-800",children:[u.jsx(Mi,{className:"h-4 w-4"}),u.jsxs("span",{children:[i.summary.companies_count," organizations"]})]}),i.summary.birthdays>0&&u.jsxs("div",{className:"flex items-center gap-2 text-sm text-green-800",children:[u.jsx(nK,{className:"h-4 w-4"}),u.jsxs("span",{children:[i.summary.birthdays," birthdays"]})]}),i.summary.photos>0&&u.jsxs("div",{className:"flex items-center gap-2 text-sm text-green-800",children:[u.jsx(aK,{className:"h-4 w-4"}),u.jsxs("span",{children:[i.summary.photos," photos"]})]}),i.summary.notes>0&&u.jsxs("div",{className:"flex items-center gap-2 text-sm text-green-800",children:[u.jsx(fK,{className:"h-4 w-4"}),u.jsxs("span",{children:[i.summary.notes," notes"]})]})]})]})]}):u.jsxs("div",{className:"flex items-start gap-3",children:[u.jsx(ba,{className:"h-5 w-5 text-red-600 mt-0.5"}),u.jsxs("div",{children:[u.jsx("h3",{className:"font-medium text-red-900",children:"Validation failed"}),u.jsx("p",{className:"text-sm text-red-700 mt-1",children:i.error})]})]})}),(i==null?void 0:i.valid)&&u.jsxs("div",{className:"flex gap-3",children:[u.jsx("button",{onClick:p,disabled:l.isPending,className:"btn-primary flex items-center gap-2",children:l.isPending?u.jsxs(u.Fragment,{children:[u.jsx(Oo,{className:"h-4 w-4 animate-spin"}),u.jsx("span",{className:"hidden md:inline",children:"Importing..."})]}):u.jsxs(u.Fragment,{children:[u.jsx(gu,{className:"h-4 w-4"}),u.jsx("span",{className:"hidden md:inline",children:"Start Import"})]})}),u.jsx("button",{onClick:m,disabled:l.isPending,className:"btn-secondary",children:"Cancel"})]}),l.isError&&u.jsx("div",{className:"rounded-lg border border-red-200 bg-red-50 p-4",children:u.jsxs("div",{className:"flex items-start gap-3",children:[u.jsx(ba,{className:"h-5 w-5 text-red-600 mt-0.5"}),u.jsxs("div",{children:[u.jsx("h3",{className:"font-medium text-red-900",children:"Import failed"}),u.jsx("p",{className:"text-sm text-red-700 mt-1",children:((g=(b=l.error.response)==null?void 0:b.data)==null?void 0:g.message)||"An error occurred during import"})]})]})})]})]})}function uae(){var x,_,E;const[t,e]=I.useState(null),[r,n]=I.useState(!1),[i,s]=I.useState(null),[a,o]=I.useState({}),l=tt(),c=Ge({mutationFn:async N=>{const S=new FormData;return S.append("file",N),(await ue.post("/prm/v1/import/google-contacts/validate",S,{headers:{"Content-Type":"multipart/form-data"}})).data},onSuccess:N=>{var S;if(s(N),((S=N.duplicates)==null?void 0:S.length)>0){const j={};N.duplicates.forEach(C=>{j[C.index]="merge"}),o(j)}},onError:N=>{var S,j;s({valid:!1,error:((j=(S=N.response)==null?void 0:S.data)==null?void 0:j.message)||"Failed to validate file"})}}),d=Ge({mutationFn:async({file:N,decisions:S})=>{const j=new FormData;return j.append("file",N),j.append("decisions",JSON.stringify(S)),(await ue.post("/prm/v1/import/google-contacts",j,{headers:{"Content-Type":"multipart/form-data"}})).data},onSuccess:()=>{l.invalidateQueries({queryKey:["people"]}),l.invalidateQueries({queryKey:["companies"]}),l.invalidateQueries({queryKey:["dates"]}),l.invalidateQueries({queryKey:["dashboard"]})}}),h=I.useCallback(N=>{N.preventDefault(),N.stopPropagation(),N.type==="dragenter"||N.type==="dragover"?n(!0):N.type==="dragleave"&&n(!1)},[]),f=I.useCallback(N=>{N.preventDefault(),N.stopPropagation(),n(!1),N.dataTransfer.files&&N.dataTransfer.files[0]&&m(N.dataTransfer.files[0])},[]),p=N=>{N.target.files&&N.target.files[0]&&m(N.target.files[0])},m=N=>{if(!N.name.endsWith(".csv")){s({valid:!1,error:"Please select a CSV file"});return}e(N),s(null),o({}),d.reset(),c.mutate(N)},y=(N,S)=>{o(j=>({...j,[N]:S}))},b=()=>{t&&(i!=null&&i.valid)&&d.mutate({file:t,decisions:a})},g=()=>{e(null),s(null),o({}),c.reset(),d.reset()},v=(i==null?void 0:i.duplicates)||[],w=v.length>0;return u.jsxs("div",{className:"space-y-4",children:[u.jsx("h2",{className:"text-lg font-semibold",children:"Import from Google Contacts"}),u.jsx("p",{className:"text-sm text-gray-600",children:"Import contacts from a Google Contacts CSV export. To export from Google:"}),u.jsxs("ol",{className:"text-sm text-gray-600 list-decimal list-inside space-y-1 ml-2",children:[u.jsxs("li",{children:["Go to ",u.jsx("a",{href:"https://contacts.google.com",target:"_blank",rel:"noopener noreferrer",className:"text-primary-600 hover:underline",children:"contacts.google.com"})]}),u.jsx("li",{children:'Click "Export" in the left sidebar'}),u.jsx("li",{children:'Select "Google CSV" format and click "Export"'})]}),d.isSuccess?u.jsx("div",{className:"rounded-lg border border-green-200 bg-green-50 p-4",children:u.jsxs("div",{className:"flex items-start gap-3",children:[u.jsx(pu,{className:"h-5 w-5 text-green-600 mt-0.5"}),u.jsxs("div",{className:"flex-1",children:[u.jsx("h3",{className:"font-medium text-green-900",children:"Import Complete"}),u.jsxs("div",{className:"mt-2 text-sm text-green-800 space-y-1",children:[u.jsxs("p",{children:["Contacts imported: ",d.data.stats.contacts_imported]}),u.jsxs("p",{children:["Contacts updated: ",d.data.stats.contacts_updated]}),u.jsxs("p",{children:["Contacts skipped: ",d.data.stats.contacts_skipped]}),u.jsxs("p",{children:["Organizations created: ",d.data.stats.companies_created]}),u.jsxs("p",{children:["Birthdays created: ",d.data.stats.dates_created]}),u.jsxs("p",{children:["Notes created: ",d.data.stats.notes_created]}),u.jsxs("p",{children:["Photos imported: ",d.data.stats.photos_imported]}),((x=d.data.stats.errors)==null?void 0:x.length)>0&&u.jsxs("div",{className:"mt-2 pt-2 border-t border-green-200",children:[u.jsx("p",{className:"font-medium",children:"Errors:"}),u.jsx("ul",{className:"list-disc list-inside",children:d.data.stats.errors.map((N,S)=>u.jsx("li",{children:N},S))})]})]}),u.jsx("button",{onClick:g,className:"mt-3 text-sm text-green-700 hover:text-green-800 font-medium",children:"Import another file"})]})]})}):u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:`relative rounded-lg border-2 border-dashed p-8 text-center transition-colors ${r?"border-primary-500 bg-primary-50":t?"border-green-300 bg-green-50":"border-gray-300 hover:border-gray-400"}`,onDragEnter:h,onDragLeave:h,onDragOver:h,onDrop:f,children:[u.jsx("input",{type:"file",accept:".csv",onChange:p,className:"absolute inset-0 w-full h-full opacity-0 cursor-pointer"}),c.isPending?u.jsxs("div",{className:"flex flex-col items-center gap-2",children:[u.jsx(Oo,{className:"h-8 w-8 text-primary-600 animate-spin"}),u.jsx("p",{className:"text-gray-600",children:"Validating file..."})]}):t?u.jsxs("div",{className:"flex flex-col items-center gap-2",children:[u.jsx(oO,{className:"h-8 w-8 text-green-600"}),u.jsx("p",{className:"font-medium text-gray-900",children:t.name}),u.jsxs("p",{className:"text-sm text-gray-500",children:[(t.size/1024).toFixed(2)," KB"]})]}):u.jsxs("div",{className:"flex flex-col items-center gap-2",children:[u.jsx(gu,{className:"h-8 w-8 text-gray-400"}),u.jsx("p",{className:"text-gray-600",children:"Drag and drop your Google Contacts CSV here, or click to browse"}),u.jsx("p",{className:"text-sm text-gray-500",children:"Supports Google CSV format"})]})]}),i&&u.jsx("div",{className:`rounded-lg border p-4 ${i.valid?"border-green-200 bg-green-50":"border-red-200 bg-red-50"}`,children:i.valid?u.jsxs("div",{className:"flex items-start gap-3",children:[u.jsx(pu,{className:"h-5 w-5 text-green-600 mt-0.5"}),u.jsxs("div",{className:"flex-1",children:[u.jsx("h3",{className:"font-medium text-green-900",children:"File validated successfully"}),u.jsxs("div",{className:"mt-3 grid grid-cols-2 sm:grid-cols-3 gap-3",children:[u.jsxs("div",{className:"flex items-center gap-2 text-sm text-green-800",children:[u.jsx($i,{className:"h-4 w-4"}),u.jsxs("span",{children:[i.summary.contacts," contacts"]})]}),i.summary.companies_count>0&&u.jsxs("div",{className:"flex items-center gap-2 text-sm text-green-800",children:[u.jsx(Mi,{className:"h-4 w-4"}),u.jsxs("span",{children:[i.summary.companies_count," organizations"]})]}),i.summary.birthdays>0&&u.jsxs("div",{className:"flex items-center gap-2 text-sm text-green-800",children:[u.jsx(nK,{className:"h-4 w-4"}),u.jsxs("span",{children:[i.summary.birthdays," birthdays"]})]}),i.summary.notes>0&&u.jsxs("div",{className:"flex items-center gap-2 text-sm text-green-800",children:[u.jsx(fK,{className:"h-4 w-4"}),u.jsxs("span",{children:[i.summary.notes," notes"]})]}),i.summary.photos>0&&u.jsxs("div",{className:"flex items-center gap-2 text-sm text-green-800",children:[u.jsx(aK,{className:"h-4 w-4"}),u.jsxs("span",{children:[i.summary.photos," photos"]})]})]})]})]}):u.jsxs("div",{className:"flex items-start gap-3",children:[u.jsx(ba,{className:"h-5 w-5 text-red-600 mt-0.5"}),u.jsxs("div",{children:[u.jsx("h3",{className:"font-medium text-red-900",children:"Validation failed"}),u.jsx("p",{className:"text-sm text-red-700 mt-1",children:i.error})]})]})}),(i==null?void 0:i.valid)&&w&&u.jsx("div",{className:"rounded-lg border border-amber-200 bg-amber-50 p-4",children:u.jsxs("div",{className:"flex items-start gap-3",children:[u.jsx(Rre,{className:"h-5 w-5 text-amber-600 mt-0.5 flex-shrink-0"}),u.jsxs("div",{className:"flex-1",children:[u.jsxs("h3",{className:"font-medium text-amber-900",children:[v.length," contact",v.length>1?"s":""," may already exist"]}),u.jsx("p",{className:"text-sm text-amber-700 mt-1",children:"Choose how to handle each potential duplicate:"}),u.jsx("div",{className:"mt-4 space-y-4",children:v.map(N=>u.jsx(cae,{duplicate:N,decision:a[N.index]||"merge",onDecision:S=>y(N.index,S)},N.index))})]})]})}),(i==null?void 0:i.valid)&&u.jsxs("div",{className:"flex gap-3",children:[u.jsx("button",{onClick:b,disabled:d.isPending,className:"btn-primary flex items-center gap-2",children:d.isPending?u.jsxs(u.Fragment,{children:[u.jsx(Oo,{className:"h-4 w-4 animate-spin"}),u.jsx("span",{className:"hidden md:inline",children:"Importing..."})]}):u.jsxs(u.Fragment,{children:[u.jsx(gu,{className:"h-4 w-4"}),u.jsx("span",{className:"hidden md:inline",children:"Start Import"})]})}),u.jsx("button",{onClick:g,disabled:d.isPending,className:"btn-secondary",children:"Cancel"})]}),d.isError&&u.jsx("div",{className:"rounded-lg border border-red-200 bg-red-50 p-4",children:u.jsxs("div",{className:"flex items-start gap-3",children:[u.jsx(ba,{className:"h-5 w-5 text-red-600 mt-0.5"}),u.jsxs("div",{children:[u.jsx("h3",{className:"font-medium text-red-900",children:"Import failed"}),u.jsx("p",{className:"text-sm text-red-700 mt-1",children:((E=(_=d.error.response)==null?void 0:_.data)==null?void 0:E.message)||"An error occurred during import"})]})]})})]})]})}function cae({duplicate:t,decision:e,onDecision:r}){var n,i;return u.jsxs("div",{className:"bg-white rounded-lg border border-amber-200 p-4",children:[u.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[u.jsxs("div",{className:"flex-1 min-w-0",children:[u.jsx("p",{className:"text-xs font-medium text-gray-500 uppercase tracking-wide mb-1",children:"From CSV"}),u.jsx("p",{className:"font-medium text-gray-900 truncate",children:t.csv_name}),t.csv_org&&u.jsx("p",{className:"text-sm text-gray-600 truncate",children:t.csv_org}),t.csv_email&&u.jsx("p",{className:"text-sm text-gray-500 truncate",children:t.csv_email})]}),u.jsx("div",{className:"hidden sm:flex items-center text-gray-400",children:u.jsx("span",{className:"text-lg",children:""})}),u.jsxs("div",{className:"flex-1 min-w-0",children:[u.jsx("p",{className:"text-xs font-medium text-gray-500 uppercase tracking-wide mb-1",children:"Existing Contact"}),u.jsxs("div",{className:"flex items-start gap-3",children:[t.existing_photo?u.jsx("img",{src:t.existing_photo,alt:"",className:"w-10 h-10 rounded-full object-cover flex-shrink-0"}):u.jsx("div",{className:"w-10 h-10 rounded-full bg-gray-200 flex items-center justify-center flex-shrink-0",children:u.jsx("span",{className:"text-gray-500 text-sm font-medium",children:((i=(n=t.existing_name)==null?void 0:n.charAt(0))==null?void 0:i.toUpperCase())||"?"})}),u.jsxs("div",{className:"min-w-0",children:[u.jsx("p",{className:"font-medium text-gray-900 truncate",children:t.existing_name}),t.existing_org&&u.jsx("p",{className:"text-sm text-gray-600 truncate",children:t.existing_org}),t.existing_email&&u.jsx("p",{className:"text-sm text-gray-500 truncate",children:t.existing_email})]})]})]})]}),u.jsxs("div",{className:"mt-4 flex flex-wrap gap-2",children:[u.jsxs("button",{type:"button",onClick:()=>r("merge"),className:`flex items-center gap-1.5 px-3 py-1.5 rounded-md text-sm font-medium transition-colors ${e==="merge"?"bg-primary-100 text-primary-800 ring-2 ring-primary-500":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:[u.jsx(Hre,{className:"h-4 w-4"}),"Update existing"]}),u.jsxs("button",{type:"button",onClick:()=>r("new"),className:`flex items-center gap-1.5 px-3 py-1.5 rounded-md text-sm font-medium transition-colors ${e==="new"?"bg-green-100 text-green-800 ring-2 ring-green-500":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:[u.jsx(Kre,{className:"h-4 w-4"}),"Create new"]}),u.jsxs("button",{type:"button",onClick:()=>r("skip"),className:`flex items-center gap-1.5 px-3 py-1.5 rounded-md text-sm font-medium transition-colors ${e==="skip"?"bg-gray-200 text-gray-800 ring-2 ring-gray-500":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:[u.jsx(Vre,{className:"h-4 w-4"}),"Skip"]})]})]})}const fR=[{id:"vcard",name:"vCard",description:"Apple Contacts, Outlook, Android",icon:lm,component:lae},{id:"google",name:"Google Contacts",description:"CSV export from Google",icon:oO,component:uae},{id:"monica",name:"Monica CRM",description:"SQL export from Monica",icon:Mre,component:oae}];function dae(){var n;fn("Import - Settings");const[t,e]=I.useState("vcard"),r=(n=fR.find(i=>i.id===t))==null?void 0:n.component;return u.jsxs("div",{className:"max-w-2xl mx-auto space-y-6",children:[u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsxs(he,{to:"/settings",className:"btn-secondary flex items-center gap-2",children:[u.jsx(En,{className:"w-4 h-4"}),u.jsx("span",{className:"hidden md:inline",children:"Back to Settings"})]}),u.jsx("h1",{className:"text-2xl font-semibold",children:"Import Contacts"})]}),u.jsxs("div",{className:"card p-6",children:[u.jsx("p",{className:"text-sm text-gray-600 mb-6",children:"Import your contacts from various sources. Existing contacts with matching names will be updated instead of duplicated."}),u.jsx("div",{className:"border-b border-gray-200 mb-6",children:u.jsx("nav",{className:"-mb-px flex space-x-6","aria-label":"Import types",children:fR.map(i=>{const s=i.icon,a=t===i.id;return u.jsxs("button",{onClick:()=>e(i.id),className:`group inline-flex items-center py-3 px-1 border-b-2 font-medium text-sm transition-colors ${a?"border-primary-500 text-primary-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[u.jsx(s,{className:`mr-2 h-5 w-5 ${a?"text-primary-500":"text-gray-400 group-hover:text-gray-500"}`}),u.jsxs("div",{className:"text-left",children:[u.jsx("span",{className:"block",children:i.name}),u.jsx("span",{className:`block text-xs font-normal ${a?"text-primary-400":"text-gray-400"}`,children:i.description})]})]},i.id)})})}),r&&u.jsx(r,{})]})]})}function hae(){fn("Export Data - Settings");const t=e=>{e==="vcard"?window.location.href="/wp-json/prm/v1/export/vcard":e==="google-csv"&&(window.location.href="/wp-json/prm/v1/export/google-csv")};return u.jsxs("div",{className:"max-w-2xl mx-auto space-y-6",children:[u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsxs(he,{to:"/settings",className:"btn-secondary flex items-center gap-2",children:[u.jsx(En,{className:"w-4 h-4"}),u.jsx("span",{className:"hidden md:inline",children:"Back to Settings"})]}),u.jsx("h1",{className:"text-2xl font-semibold",children:"Export Data"})]}),u.jsxs("div",{className:"card p-6",children:[u.jsx("p",{className:"text-sm text-gray-600 mb-6",children:"Export all your contacts in a format compatible with other contact management systems."}),u.jsxs("div",{className:"space-y-4",children:[u.jsxs("button",{onClick:()=>t("vcard"),className:"w-full p-4 rounded-lg border border-gray-200 hover:bg-gray-50 text-left flex items-center gap-4",children:[u.jsx("div",{className:"p-3 bg-primary-50 rounded-lg",children:u.jsx(lm,{className:"w-6 h-6 text-primary-600"})}),u.jsxs("div",{className:"flex-1",children:[u.jsx("p",{className:"font-medium",children:"Export as vCard (.vcf)"}),u.jsx("p",{className:"text-sm text-gray-500",children:"Compatible with Apple Contacts, Outlook, Android, and most contact apps"})]}),u.jsx(Oj,{className:"w-5 h-5 text-gray-400"})]}),u.jsxs("button",{onClick:()=>t("google-csv"),className:"w-full p-4 rounded-lg border border-gray-200 hover:bg-gray-50 text-left flex items-center gap-4",children:[u.jsx("div",{className:"p-3 bg-primary-50 rounded-lg",children:u.jsx(oO,{className:"w-6 h-6 text-primary-600"})}),u.jsxs("div",{className:"flex-1",children:[u.jsx("p",{className:"font-medium",children:"Export as Google Contacts CSV"}),u.jsx("p",{className:"text-sm text-gray-500",children:"Import directly into Google Contacts or other CSV-compatible systems"})]}),u.jsx(Oj,{className:"w-5 h-5 text-gray-400"})]})]})]})]})}function fae(){fn("User Approval - Settings");const t=tt();if(!((window.prmConfig||{}).isAdmin||!1))return u.jsx("div",{className:"max-w-2xl mx-auto",children:u.jsxs("div",{className:"card p-8 text-center",children:[u.jsx(cK,{className:"w-16 h-16 mx-auto text-amber-500 mb-4"}),u.jsx("h1",{className:"text-2xl font-bold mb-2",children:"Access Denied"}),u.jsx("p",{className:"text-gray-600 mb-6",children:"You don't have permission to manage user approvals. This feature is only available to administrators."}),u.jsx(he,{to:"/settings",className:"btn-primary",children:"Back to Settings"})]})});const{data:n=[],isLoading:i}=mt({queryKey:["users"],queryFn:async()=>(await $e.getUsers()).data}),s=Ge({mutationFn:p=>$e.approveUser(p),onSuccess:()=>{t.invalidateQueries({queryKey:["users"]})}}),a=Ge({mutationFn:p=>$e.denyUser(p),onSuccess:()=>{t.invalidateQueries({queryKey:["users"]})}}),o=Ge({mutationFn:p=>$e.deleteUser(p),onSuccess:()=>{t.invalidateQueries({queryKey:["users"]})}}),l=p=>{window.confirm("Are you sure you want to approve this user?")&&s.mutate(p)},c=p=>{window.confirm("Are you sure you want to deny this user? They will not be able to access the system.")&&a.mutate(p)},d=(p,m)=>{window.confirm(`Are you sure you want to delete ${m}? This will permanently delete their account and all their related data (people, organizations, dates). This action cannot be undone.`)&&o.mutate(p)};if(i)return u.jsx("div",{className:"flex items-center justify-center h-64",children:u.jsx(Oo,{className:"w-8 h-8 animate-spin text-primary-600"})});const h=n.filter(p=>!p.is_approved),f=n.filter(p=>p.is_approved);return u.jsxs("div",{className:"max-w-2xl mx-auto space-y-6",children:[u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsxs(he,{to:"/settings",className:"btn-secondary flex items-center gap-2",children:[u.jsx(En,{className:"w-4 h-4"}),u.jsx("span",{className:"hidden md:inline",children:"Back to Settings"})]}),u.jsx("h1",{className:"text-2xl font-semibold",children:"User Approval"})]}),u.jsxs("div",{className:"space-y-6",children:[h.length>0&&u.jsxs("div",{children:[u.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Pending Approval"}),u.jsx("div",{className:"space-y-3",children:h.map(p=>u.jsxs("div",{className:"card p-4 flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsx("p",{className:"font-medium",children:p.name}),u.jsx("p",{className:"text-sm text-gray-500",children:p.email}),u.jsxs("p",{className:"text-xs text-gray-400",children:["Registered: ",new Date(p.registered).toLocaleDateString()]})]}),u.jsxs("div",{className:"flex gap-2",children:[u.jsxs("button",{onClick:()=>l(p.id),disabled:s.isPending||o.isPending,className:"btn-primary flex items-center gap-2",children:[u.jsx(MI,{className:"w-4 h-4"}),"Approve"]}),u.jsxs("button",{onClick:()=>c(p.id),disabled:a.isPending||o.isPending,className:"btn-secondary flex items-center gap-2",children:[u.jsx(AI,{className:"w-4 h-4"}),"Deny"]}),u.jsxs("button",{onClick:()=>d(p.id,p.name),disabled:s.isPending||a.isPending||o.isPending,className:"btn-danger flex items-center gap-2",children:[u.jsx(An,{className:"w-4 h-4"}),"Delete"]})]})]},p.id))})]}),f.length>0&&u.jsxs("div",{children:[u.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Approved Users"}),u.jsx("div",{className:"space-y-3",children:f.map(p=>u.jsxs("div",{className:"card p-4 flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsxs("p",{className:"font-medium flex items-center gap-2",children:[p.name,u.jsx(MI,{className:"w-4 h-4 text-green-600"})]}),u.jsx("p",{className:"text-sm text-gray-500",children:p.email})]}),u.jsxs("div",{className:"flex gap-2",children:[u.jsxs("button",{onClick:()=>c(p.id),disabled:a.isPending||o.isPending,className:"btn-secondary flex items-center gap-2",children:[u.jsx(AI,{className:"w-4 h-4"}),"Revoke Access"]}),u.jsxs("button",{onClick:()=>d(p.id,p.name),disabled:a.isPending||o.isPending,className:"btn-danger flex items-center gap-2",children:[u.jsx(An,{className:"w-4 h-4"}),"Delete"]})]})]},p.id))})]}),n.length===0&&u.jsx("div",{className:"card p-8 text-center",children:u.jsx("p",{className:"text-gray-600",children:"No Caelis users found."})})]})]})}/**
 * vis-data
 * http://visjs.org/
 *
 * Manage unstructured data using DataSet. Add, update, and remove data, and listen for changes in the data.
 *
 * @version 8.0.3
 * @date    2025-09-10T16:22:00.613Z
 *
 * @copyright (c) 2011-2017 Almende B.V, http://almende.com
 * @copyright (c) 2017-2019 visjs contributors, https://github.com/visjs
 *
 * @license
 * vis.js is dual licensed under both
 *
 *   1. The Apache 2.0 License
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 *   and
 *
 *   2. The MIT License
 *      http://opensource.org/licenses/MIT
 *
 * vis.js may be distributed under either license.
 */var pR=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Le(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Iv={exports:{}},mR={},Cc,vR;function Gt(){if(vR)return Cc;vR=1;var t=function(e){return e&&e.Math===Math&&e};return Cc=t(typeof globalThis=="object"&&globalThis)||t(typeof window=="object"&&window)||t(typeof self=="object"&&self)||t(typeof pR=="object"&&pR)||t(typeof Cc=="object"&&Cc)||function(){return this}()||Function("return this")(),Cc}var Rv,gR;function rt(){return gR||(gR=1,Rv=function(t){try{return!!t()}catch{return!0}}),Rv}var $v,yR;function nh(){if(yR)return $v;yR=1;var t=rt();return $v=!t(function(){var e=(function(){}).bind();return typeof e!="function"||e.hasOwnProperty("prototype")}),$v}var kv,bR;function dm(){if(bR)return kv;bR=1;var t=nh(),e=Function.prototype,r=e.apply,n=e.call;return kv=typeof Reflect=="object"&&Reflect.apply||(t?n.bind(r):function(){return n.apply(r,arguments)}),kv}var Dv,xR;function lt(){if(xR)return Dv;xR=1;var t=nh(),e=Function.prototype,r=e.call,n=t&&e.bind.bind(r,r);return Dv=t?n:function(i){return function(){return r.apply(i,arguments)}},Dv}var Mv,wR;function Ss(){if(wR)return Mv;wR=1;var t=lt(),e=t({}.toString),r=t("".slice);return Mv=function(n){return r(e(n),8,-1)},Mv}var qv,_R;function WK(){if(_R)return qv;_R=1;var t=Ss(),e=lt();return qv=function(r){if(t(r)==="Function")return e(r)},qv}var Av,SR;function or(){if(SR)return Av;SR=1;var t=typeof document=="object"&&document.all;return Av=typeof t>"u"&&t!==void 0?function(e){return typeof e=="function"||e===t}:function(e){return typeof e=="function"},Av}var Fv={},Lv,ER;function Yt(){if(ER)return Lv;ER=1;var t=rt();return Lv=!t(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!==7}),Lv}var Bv,NR;function pn(){if(NR)return Bv;NR=1;var t=nh(),e=Function.prototype.call;return Bv=t?e.bind(e):function(){return e.apply(e,arguments)},Bv}var zv={},jR;function yO(){if(jR)return zv;jR=1;var t={}.propertyIsEnumerable,e=Object.getOwnPropertyDescriptor,r=e&&!t.call({1:2},1);return zv.f=r?function(i){var s=e(this,i);return!!s&&s.enumerable}:t,zv}var Uv,CR;function ih(){return CR||(CR=1,Uv=function(t,e){return{enumerable:!(t&1),configurable:!(t&2),writable:!(t&4),value:e}}),Uv}var Wv,OR;function hm(){if(OR)return Wv;OR=1;var t=lt(),e=rt(),r=Ss(),n=Object,i=t("".split);return Wv=e(function(){return!n("z").propertyIsEnumerable(0)})?function(s){return r(s)==="String"?i(s,""):n(s)}:n,Wv}var Hv,TR;function sh(){return TR||(TR=1,Hv=function(t){return t==null}),Hv}var Vv,PR;function zo(){if(PR)return Vv;PR=1;var t=sh(),e=TypeError;return Vv=function(r){if(t(r))throw new e("Can't call method on "+r);return r},Vv}var Kv,IR;function qi(){if(IR)return Kv;IR=1;var t=hm(),e=zo();return Kv=function(r){return t(e(r))},Kv}var Gv,RR;function Gr(){if(RR)return Gv;RR=1;var t=or();return Gv=function(e){return typeof e=="object"?e!==null:t(e)},Gv}var Yv,$R;function tr(){return $R||($R=1,Yv={}),Yv}var Qv,kR;function Cn(){if(kR)return Qv;kR=1;var t=tr(),e=Gt(),r=or(),n=function(i){return r(i)?i:void 0};return Qv=function(i,s){return arguments.length<2?n(t[i])||n(e[i]):t[i]&&t[i][s]||e[i]&&e[i][s]},Qv}var Xv,DR;function lr(){if(DR)return Xv;DR=1;var t=lt();return Xv=t({}.isPrototypeOf),Xv}var Jv,MR;function qu(){if(MR)return Jv;MR=1;var t=Gt(),e=t.navigator,r=e&&e.userAgent;return Jv=r?String(r):"",Jv}var Zv,qR;function ah(){if(qR)return Zv;qR=1;var t=Gt(),e=qu(),r=t.process,n=t.Deno,i=r&&r.versions||n&&n.version,s=i&&i.v8,a,o;return s&&(a=s.split("."),o=a[0]>0&&a[0]<4?1:+(a[0]+a[1])),!o&&e&&(a=e.match(/Edge\/(\d+)/),(!a||a[1]>=74)&&(a=e.match(/Chrome\/(\d+)/),a&&(o=+a[1]))),Zv=o,Zv}var eg,AR;function Au(){if(AR)return eg;AR=1;var t=ah(),e=rt(),r=Gt(),n=r.String;return eg=!!Object.getOwnPropertySymbols&&!e(function(){var i=Symbol("symbol detection");return!n(i)||!(Object(i)instanceof Symbol)||!Symbol.sham&&t&&t<41}),eg}var tg,FR;function HK(){if(FR)return tg;FR=1;var t=Au();return tg=t&&!Symbol.sham&&typeof Symbol.iterator=="symbol",tg}var rg,LR;function oh(){if(LR)return rg;LR=1;var t=Cn(),e=or(),r=lr(),n=HK(),i=Object;return rg=n?function(s){return typeof s=="symbol"}:function(s){var a=t("Symbol");return e(a)&&r(a.prototype,i(s))},rg}var ng,BR;function Fu(){if(BR)return ng;BR=1;var t=String;return ng=function(e){try{return t(e)}catch{return"Object"}},ng}var ig,zR;function Es(){if(zR)return ig;zR=1;var t=or(),e=Fu(),r=TypeError;return ig=function(n){if(t(n))return n;throw new r(e(n)+" is not a function")},ig}var sg,UR;function bO(){if(UR)return sg;UR=1;var t=Es(),e=sh();return sg=function(r,n){var i=r[n];return e(i)?void 0:t(i)},sg}var ag,WR;function pae(){if(WR)return ag;WR=1;var t=pn(),e=or(),r=Gr(),n=TypeError;return ag=function(i,s){var a,o;if(s==="string"&&e(a=i.toString)&&!r(o=t(a,i))||e(a=i.valueOf)&&!r(o=t(a,i))||s!=="string"&&e(a=i.toString)&&!r(o=t(a,i)))return o;throw new n("Can't convert object to primitive value")},ag}var og={exports:{}},lg,HR;function Lu(){return HR||(HR=1,lg=!0),lg}var ug,VR;function mae(){if(VR)return ug;VR=1;var t=Gt(),e=Object.defineProperty;return ug=function(r,n){try{e(t,r,{value:n,configurable:!0,writable:!0})}catch{t[r]=n}return n},ug}var KR;function xO(){if(KR)return og.exports;KR=1;var t=Lu(),e=Gt(),r=mae(),n="__core-js_shared__",i=og.exports=e[n]||r(n,{});return(i.versions||(i.versions=[])).push({version:"3.44.0",mode:t?"pure":"global",copyright:" 2014-2025 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.44.0/LICENSE",source:"https://github.com/zloirock/core-js"}),og.exports}var cg,GR;function Bu(){if(GR)return cg;GR=1;var t=xO();return cg=function(e,r){return t[e]||(t[e]=r||{})},cg}var dg,YR;function vi(){if(YR)return dg;YR=1;var t=zo(),e=Object;return dg=function(r){return e(t(r))},dg}var hg,QR;function ur(){if(QR)return hg;QR=1;var t=lt(),e=vi(),r=t({}.hasOwnProperty);return hg=Object.hasOwn||function(i,s){return r(e(i),s)},hg}var fg,XR;function fm(){if(XR)return fg;XR=1;var t=lt(),e=0,r=Math.random(),n=t(1.1.toString);return fg=function(i){return"Symbol("+(i===void 0?"":i)+")_"+n(++e+r,36)},fg}var pg,JR;function cr(){if(JR)return pg;JR=1;var t=Gt(),e=Bu(),r=ur(),n=fm(),i=Au(),s=HK(),a=t.Symbol,o=e("wks"),l=s?a.for||a:a&&a.withoutSetter||n;return pg=function(c){return r(o,c)||(o[c]=i&&r(a,c)?a[c]:l("Symbol."+c)),o[c]},pg}var mg,ZR;function VK(){if(ZR)return mg;ZR=1;var t=pn(),e=Gr(),r=oh(),n=bO(),i=pae(),s=cr(),a=TypeError,o=s("toPrimitive");return mg=function(l,c){if(!e(l)||r(l))return l;var d=n(l,o),h;if(d){if(c===void 0&&(c="default"),h=t(d,l,c),!e(h)||r(h))return h;throw new a("Can't convert object to primitive value")}return c===void 0&&(c="number"),i(l,c)},mg}var vg,e$;function wO(){if(e$)return vg;e$=1;var t=VK(),e=oh();return vg=function(r){var n=t(r,"string");return e(n)?n:n+""},vg}var gg,t$;function KK(){if(t$)return gg;t$=1;var t=Gt(),e=Gr(),r=t.document,n=e(r)&&e(r.createElement);return gg=function(i){return n?r.createElement(i):{}},gg}var yg,r$;function GK(){if(r$)return yg;r$=1;var t=Yt(),e=rt(),r=KK();return yg=!t&&!e(function(){return Object.defineProperty(r("div"),"a",{get:function(){return 7}}).a!==7}),yg}var n$;function pm(){if(n$)return Fv;n$=1;var t=Yt(),e=pn(),r=yO(),n=ih(),i=qi(),s=wO(),a=ur(),o=GK(),l=Object.getOwnPropertyDescriptor;return Fv.f=t?l:function(d,h){if(d=i(d),h=s(h),o)try{return l(d,h)}catch{}if(a(d,h))return n(!e(r.f,d,h),d[h])},Fv}var bg,i$;function vae(){if(i$)return bg;i$=1;var t=rt(),e=or(),r=/#|\.prototype\./,n=function(l,c){var d=s[i(l)];return d===o?!0:d===a?!1:e(c)?t(c):!!c},i=n.normalize=function(l){return String(l).replace(r,".").toLowerCase()},s=n.data={},a=n.NATIVE="N",o=n.POLYFILL="P";return bg=n,bg}var xg,s$;function mm(){if(s$)return xg;s$=1;var t=WK(),e=Es(),r=nh(),n=t(t.bind);return xg=function(i,s){return e(i),s===void 0?i:r?n(i,s):function(){return i.apply(s,arguments)}},xg}var wg={},_g,a$;function YK(){if(a$)return _g;a$=1;var t=Yt(),e=rt();return _g=t&&e(function(){return Object.defineProperty(function(){},"prototype",{value:42,writable:!1}).prototype!==42}),_g}var Sg,o$;function Ns(){if(o$)return Sg;o$=1;var t=Gr(),e=String,r=TypeError;return Sg=function(n){if(t(n))return n;throw new r(e(n)+" is not an object")},Sg}var l$;function Vn(){if(l$)return wg;l$=1;var t=Yt(),e=GK(),r=YK(),n=Ns(),i=wO(),s=TypeError,a=Object.defineProperty,o=Object.getOwnPropertyDescriptor,l="enumerable",c="configurable",d="writable";return wg.f=t?r?function(f,p,m){if(n(f),p=i(p),n(m),typeof f=="function"&&p==="prototype"&&"value"in m&&d in m&&!m[d]){var y=o(f,p);y&&y[d]&&(f[p]=m.value,m={configurable:c in m?m[c]:y[c],enumerable:l in m?m[l]:y[l],writable:!1})}return a(f,p,m)}:a:function(f,p,m){if(n(f),p=i(p),n(m),e)try{return a(f,p,m)}catch{}if("get"in m||"set"in m)throw new s("Accessors not supported");return"value"in m&&(f[p]=m.value),f},wg}var Eg,u$;function zu(){if(u$)return Eg;u$=1;var t=Yt(),e=Vn(),r=ih();return Eg=t?function(n,i,s){return e.f(n,i,r(1,s))}:function(n,i,s){return n[i]=s,n},Eg}var Ng,c$;function Te(){if(c$)return Ng;c$=1;var t=Gt(),e=dm(),r=WK(),n=or(),i=pm().f,s=vae(),a=tr(),o=mm(),l=zu(),c=ur(),d=function(h){var f=function(p,m,y){if(this instanceof f){switch(arguments.length){case 0:return new h;case 1:return new h(p);case 2:return new h(p,m)}return new h(p,m,y)}return e(h,this,arguments)};return f.prototype=h.prototype,f};return Ng=function(h,f){var p=h.target,m=h.global,y=h.stat,b=h.proto,g=m?t:y?t[p]:t[p]&&t[p].prototype,v=m?a:a[p]||l(a,p,{})[p],w=v.prototype,x,_,E,N,S,j,C,O,T;for(N in f)x=s(m?N:p+(y?".":"#")+N,h.forced),_=!x&&g&&c(g,N),j=v[N],_&&(h.dontCallGetSet?(T=i(g,N),C=T&&T.value):C=g[N]),S=_&&C?C:f[N],!(!x&&!b&&typeof j==typeof S)&&(h.bind&&_?O=o(S,t):h.wrap&&_?O=d(S):b&&n(S)?O=r(S):O=S,(h.sham||S&&S.sham||j&&j.sham)&&l(O,"sham",!0),l(v,N,O),b&&(E=p+"Prototype",c(a,E)||l(a,E,{}),l(a[E],N,S),h.real&&w&&(x||!w[N])&&l(w,N,S)))},Ng}var d$;function gae(){if(d$)return mR;d$=1;var t=Te(),e=Yt(),r=Vn().f;return t({target:"Object",stat:!0,forced:Object.defineProperty!==r,sham:!e},{defineProperty:r}),mR}var h$;function yae(){if(h$)return Iv.exports;h$=1,gae();var t=tr(),e=t.Object,r=Iv.exports=function(i,s,a){return e.defineProperty(i,s,a)};return e.defineProperty.sham&&(r.sham=!0),Iv.exports}var jg,f$;function QK(){if(f$)return jg;f$=1;var t=yae();return jg=t,jg}var Cg,p$;function bae(){if(p$)return Cg;p$=1;var t=QK();return Cg=t,Cg}var Og,m$;function xae(){if(m$)return Og;m$=1;var t=bae();return Og=t,Og}var Tg,v$;function wae(){return v$||(v$=1,Tg=xae()),Tg}var _ae=wae(),Sae=Le(_ae),g$={},Pg,y$;function Uo(){if(y$)return Pg;y$=1;var t=Ss();return Pg=Array.isArray||function(r){return t(r)==="Array"},Pg}var Ig,b$;function Eae(){if(b$)return Ig;b$=1;var t=Math.ceil,e=Math.floor;return Ig=Math.trunc||function(n){var i=+n;return(i>0?e:t)(i)},Ig}var Rg,x$;function Uu(){if(x$)return Rg;x$=1;var t=Eae();return Rg=function(e){var r=+e;return r!==r||r===0?0:t(r)},Rg}var $g,w$;function XK(){if(w$)return $g;w$=1;var t=Uu(),e=Math.min;return $g=function(r){var n=t(r);return n>0?e(n,9007199254740991):0},$g}var kg,_$;function Ca(){if(_$)return kg;_$=1;var t=XK();return kg=function(e){return t(e.length)},kg}var Dg,S$;function JK(){if(S$)return Dg;S$=1;var t=TypeError,e=9007199254740991;return Dg=function(r){if(r>e)throw t("Maximum allowed index exceeded");return r},Dg}var Mg,E$;function vm(){if(E$)return Mg;E$=1;var t=Yt(),e=Vn(),r=ih();return Mg=function(n,i,s){t?e.f(n,i,r(0,s)):n[i]=s},Mg}var qg,N$;function _O(){if(N$)return qg;N$=1;var t=cr(),e=t("toStringTag"),r={};return r[e]="z",qg=String(r)==="[object z]",qg}var Ag,j$;function Oa(){if(j$)return Ag;j$=1;var t=_O(),e=or(),r=Ss(),n=cr(),i=n("toStringTag"),s=Object,a=r(function(){return arguments}())==="Arguments",o=function(l,c){try{return l[c]}catch{}};return Ag=t?r:function(l){var c,d,h;return l===void 0?"Undefined":l===null?"Null":typeof(d=o(c=s(l),i))=="string"?d:a?r(c):(h=r(c))==="Object"&&e(c.callee)?"Arguments":h},Ag}var Fg,C$;function Nae(){if(C$)return Fg;C$=1;var t=lt(),e=or(),r=xO(),n=t(Function.toString);return e(r.inspectSource)||(r.inspectSource=function(i){return n(i)}),Fg=r.inspectSource,Fg}var Lg,O$;function ZK(){if(O$)return Lg;O$=1;var t=lt(),e=rt(),r=or(),n=Oa(),i=Cn(),s=Nae(),a=function(){},o=i("Reflect","construct"),l=/^\s*(?:class|function)\b/,c=t(l.exec),d=!l.test(a),h=function(m){if(!r(m))return!1;try{return o(a,[],m),!0}catch{return!1}},f=function(m){if(!r(m))return!1;switch(n(m)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return d||!!c(l,s(m))}catch{return!0}};return f.sham=!0,Lg=!o||e(function(){var p;return h(h.call)||!h(Object)||!h(function(){p=!0})||p})?f:h,Lg}var Bg,T$;function jae(){if(T$)return Bg;T$=1;var t=Uo(),e=ZK(),r=Gr(),n=cr(),i=n("species"),s=Array;return Bg=function(a){var o;return t(a)&&(o=a.constructor,e(o)&&(o===s||t(o.prototype))?o=void 0:r(o)&&(o=o[i],o===null&&(o=void 0))),o===void 0?s:o},Bg}var zg,P$;function SO(){if(P$)return zg;P$=1;var t=jae();return zg=function(e,r){return new(t(e))(r===0?0:r)},zg}var Ug,I$;function lh(){if(I$)return Ug;I$=1;var t=rt(),e=cr(),r=ah(),n=e("species");return Ug=function(i){return r>=51||!t(function(){var s=[],a=s.constructor={};return a[n]=function(){return{foo:1}},s[i](Boolean).foo!==1})},Ug}var R$;function eG(){if(R$)return g$;R$=1;var t=Te(),e=rt(),r=Uo(),n=Gr(),i=vi(),s=Ca(),a=JK(),o=vm(),l=SO(),c=lh(),d=cr(),h=ah(),f=d("isConcatSpreadable"),p=h>=51||!e(function(){var b=[];return b[f]=!1,b.concat()[0]!==b}),m=function(b){if(!n(b))return!1;var g=b[f];return g!==void 0?!!g:r(b)},y=!p||!c("concat");return t({target:"Array",proto:!0,arity:1,forced:y},{concat:function(g){var v=i(this),w=l(v,0),x=0,_,E,N,S,j;for(_=-1,N=arguments.length;_<N;_++)if(j=_===-1?v:arguments[_],m(j))for(S=s(j),a(x+S),E=0;E<S;E++,x++)E in j&&o(w,x,j[E]);else a(x+1),o(w,x++,j);return w.length=x,w}}),g$}var $$={},k$={},Wg,D$;function Ta(){if(D$)return Wg;D$=1;var t=Oa(),e=String;return Wg=function(r){if(t(r)==="Symbol")throw new TypeError("Cannot convert a Symbol value to a string");return e(r)},Wg}var Hg={},Vg,M$;function EO(){if(M$)return Vg;M$=1;var t=Uu(),e=Math.max,r=Math.min;return Vg=function(n,i){var s=t(n);return s<0?e(s+i,0):r(s,i)},Vg}var Kg,q$;function Cae(){if(q$)return Kg;q$=1;var t=qi(),e=EO(),r=Ca(),n=function(i){return function(s,a,o){var l=t(s),c=r(l);if(c===0)return!i&&-1;var d=e(o,c),h;if(i&&a!==a){for(;c>d;)if(h=l[d++],h!==h)return!0}else for(;c>d;d++)if((i||d in l)&&l[d]===a)return i||d||0;return!i&&-1}};return Kg={includes:n(!0),indexOf:n(!1)},Kg}var Gg,A$;function uh(){return A$||(A$=1,Gg={}),Gg}var Yg,F$;function tG(){if(F$)return Yg;F$=1;var t=lt(),e=ur(),r=qi(),n=Cae().indexOf,i=uh(),s=t([].push);return Yg=function(a,o){var l=r(a),c=0,d=[],h;for(h in l)!e(i,h)&&e(l,h)&&s(d,h);for(;o.length>c;)e(l,h=o[c++])&&(~n(d,h)||s(d,h));return d},Yg}var Qg,L$;function NO(){return L$||(L$=1,Qg=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]),Qg}var Xg,B$;function gm(){if(B$)return Xg;B$=1;var t=tG(),e=NO();return Xg=Object.keys||function(n){return t(n,e)},Xg}var z$;function jO(){if(z$)return Hg;z$=1;var t=Yt(),e=YK(),r=Vn(),n=Ns(),i=qi(),s=gm();return Hg.f=t&&!e?Object.defineProperties:function(o,l){n(o);for(var c=i(l),d=s(l),h=d.length,f=0,p;h>f;)r.f(o,p=d[f++],c[p]);return o},Hg}var Jg,U$;function Oae(){if(U$)return Jg;U$=1;var t=Cn();return Jg=t("document","documentElement"),Jg}var Zg,W$;function ym(){if(W$)return Zg;W$=1;var t=Bu(),e=fm(),r=t("keys");return Zg=function(n){return r[n]||(r[n]=e(n))},Zg}var ey,H$;function ch(){if(H$)return ey;H$=1;var t=Ns(),e=jO(),r=NO(),n=uh(),i=Oae(),s=KK(),a=ym(),o=">",l="<",c="prototype",d="script",h=a("IE_PROTO"),f=function(){},p=function(v){return l+d+o+v+l+"/"+d+o},m=function(v){v.write(p("")),v.close();var w=v.parentWindow.Object;return v=null,w},y=function(){var v=s("iframe"),w="java"+d+":",x;return v.style.display="none",i.appendChild(v),v.src=String(w),x=v.contentWindow.document,x.open(),x.write(p("document.F=Object")),x.close(),x.F},b,g=function(){try{b=new ActiveXObject("htmlfile")}catch{}g=typeof document<"u"?document.domain&&b?m(b):y():m(b);for(var v=r.length;v--;)delete g[c][r[v]];return g()};return n[h]=!0,ey=Object.create||function(w,x){var _;return w!==null?(f[c]=t(w),_=new f,f[c]=null,_[h]=w):_=g(),x===void 0?_:e.f(_,x)},ey}var ty={},V$;function bm(){if(V$)return ty;V$=1;var t=tG(),e=NO(),r=e.concat("length","prototype");return ty.f=Object.getOwnPropertyNames||function(i){return t(i,r)},ty}var ry={},ny,K$;function Wu(){if(K$)return ny;K$=1;var t=lt();return ny=t([].slice),ny}var G$;function rG(){if(G$)return ry;G$=1;var t=Ss(),e=qi(),r=bm().f,n=Wu(),i=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],s=function(a){try{return r(a)}catch{return n(i)}};return ry.f=function(o){return i&&t(o)==="Window"?s(o):r(e(o))},ry}var iy={},Y$;function xm(){return Y$||(Y$=1,iy.f=Object.getOwnPropertySymbols),iy}var sy,Q$;function dh(){if(Q$)return sy;Q$=1;var t=zu();return sy=function(e,r,n,i){return i&&i.enumerable?e[r]=n:t(e,r,n),e},sy}var ay,X$;function CO(){if(X$)return ay;X$=1;var t=Vn();return ay=function(e,r,n){return t.f(e,r,n)},ay}var oy={},J$;function wm(){if(J$)return oy;J$=1;var t=cr();return oy.f=t,oy}var ly,Z$;function Ct(){if(Z$)return ly;Z$=1;var t=tr(),e=ur(),r=wm(),n=Vn().f;return ly=function(i){var s=t.Symbol||(t.Symbol={});e(s,i)||n(s,i,{value:r.f(i)})},ly}var uy,ek;function nG(){if(ek)return uy;ek=1;var t=pn(),e=Cn(),r=cr(),n=dh();return uy=function(){var i=e("Symbol"),s=i&&i.prototype,a=s&&s.valueOf,o=r("toPrimitive");s&&!s[o]&&n(s,o,function(l){return t(a,this)},{arity:1})},uy}var cy,tk;function Tae(){if(tk)return cy;tk=1;var t=_O(),e=Oa();return cy=t?{}.toString:function(){return"[object "+e(this)+"]"},cy}var dy,rk;function Wo(){if(rk)return dy;rk=1;var t=_O(),e=Vn().f,r=zu(),n=ur(),i=Tae(),s=cr(),a=s("toStringTag");return dy=function(o,l,c,d){var h=c?o:o&&o.prototype;h&&(n(h,a)||e(h,a,{configurable:!0,value:l}),d&&!t&&r(h,"toString",i))},dy}var hy,nk;function Pae(){if(nk)return hy;nk=1;var t=Gt(),e=or(),r=t.WeakMap;return hy=e(r)&&/native code/.test(String(r)),hy}var fy,ik;function hh(){if(ik)return fy;ik=1;var t=Pae(),e=Gt(),r=Gr(),n=zu(),i=ur(),s=xO(),a=ym(),o=uh(),l="Object already initialized",c=e.TypeError,d=e.WeakMap,h,f,p,m=function(v){return p(v)?f(v):h(v,{})},y=function(v){return function(w){var x;if(!r(w)||(x=f(w)).type!==v)throw new c("Incompatible receiver, "+v+" required");return x}};if(t||s.state){var b=s.state||(s.state=new d);b.get=b.get,b.has=b.has,b.set=b.set,h=function(v,w){if(b.has(v))throw new c(l);return w.facade=v,b.set(v,w),w},f=function(v){return b.get(v)||{}},p=function(v){return b.has(v)}}else{var g=a("state");o[g]=!0,h=function(v,w){if(i(v,g))throw new c(l);return w.facade=v,n(v,g,w),w},f=function(v){return i(v,g)?v[g]:{}},p=function(v){return i(v,g)}}return fy={set:h,get:f,has:p,enforce:m,getterFor:y},fy}var py,sk;function Hu(){if(sk)return py;sk=1;var t=mm(),e=lt(),r=hm(),n=vi(),i=Ca(),s=SO(),a=e([].push),o=function(l){var c=l===1,d=l===2,h=l===3,f=l===4,p=l===6,m=l===7,y=l===5||p;return function(b,g,v,w){for(var x=n(b),_=r(x),E=i(_),N=t(g,v),S=0,j=w||s,C=c?j(b,E):d||m?j(b,0):void 0,O,T;E>S;S++)if((y||S in _)&&(O=_[S],T=N(O,S,x),l))if(c)C[S]=T;else if(T)switch(l){case 3:return!0;case 5:return O;case 6:return S;case 2:a(C,O)}else switch(l){case 4:return!1;case 7:a(C,O)}return p?-1:h||f?f:C}};return py={forEach:o(0),map:o(1),filter:o(2),some:o(3),every:o(4),find:o(5),findIndex:o(6),filterReject:o(7)},py}var ak;function Iae(){if(ak)return k$;ak=1;var t=Te(),e=Gt(),r=pn(),n=lt(),i=Lu(),s=Yt(),a=Au(),o=rt(),l=ur(),c=lr(),d=Ns(),h=qi(),f=wO(),p=Ta(),m=ih(),y=ch(),b=gm(),g=bm(),v=rG(),w=xm(),x=pm(),_=Vn(),E=jO(),N=yO(),S=dh(),j=CO(),C=Bu(),O=ym(),T=uh(),P=fm(),D=cr(),F=wm(),Q=Ct(),H=nG(),L=Wo(),V=hh(),W=Hu().forEach,z=O("hidden"),K="Symbol",fe="prototype",xe=V.set,Re=V.getterFor(K),ge=Object[fe],Ee=e.Symbol,ke=Ee&&Ee[fe],it=e.RangeError,rr=e.TypeError,bt=e.QObject,fr=x.f,ut=_.f,Pr=v.f,Ir=N.f,_r=n([].push),st=C("symbols"),Bt=C("op-symbols"),Rr=C("wks"),$r=!bt||!bt[fe]||!bt[fe].findChild,$=function(ve,J,le){var ae=fr(ge,J);ae&&delete ge[J],ut(ve,J,le),ae&&ve!==ge&&ut(ge,J,ae)},M=s&&o(function(){return y(ut({},"a",{get:function(){return ut(this,"a",{value:7}).a}})).a!==7})?$:ut,A=function(ve,J){var le=st[ve]=y(ke);return xe(le,{type:K,tag:ve,description:J}),s||(le.description=J),le},se=function(J,le,ae){J===ge&&se(Bt,le,ae),d(J);var we=f(le);return d(ae),l(st,we)?(ae.enumerable?(l(J,z)&&J[z][we]&&(J[z][we]=!1),ae=y(ae,{enumerable:m(0,!1)})):(l(J,z)||ut(J,z,m(1,y(null))),J[z][we]=!0),M(J,we,ae)):ut(J,we,ae)},re=function(J,le){d(J);var ae=h(le),we=b(ae).concat(ze(ae));return W(we,function(De){(!s||r(U,ae,De))&&se(J,De,ae[De])}),J},X=function(J,le){return le===void 0?y(J):re(y(J),le)},U=function(J){var le=f(J),ae=r(Ir,this,le);return this===ge&&l(st,le)&&!l(Bt,le)?!1:ae||!l(this,le)||!l(st,le)||l(this,z)&&this[z][le]?ae:!0},oe=function(J,le){var ae=h(J),we=f(le);if(!(ae===ge&&l(st,we)&&!l(Bt,we))){var De=fr(ae,we);return De&&l(st,we)&&!(l(ae,z)&&ae[z][we])&&(De.enumerable=!0),De}},de=function(J){var le=Pr(h(J)),ae=[];return W(le,function(we){!l(st,we)&&!l(T,we)&&_r(ae,we)}),ae},ze=function(ve){var J=ve===ge,le=Pr(J?Bt:h(ve)),ae=[];return W(le,function(we){l(st,we)&&(!J||l(ge,we))&&_r(ae,st[we])}),ae};return a||(Ee=function(){if(c(ke,this))throw new rr("Symbol is not a constructor");var J=!arguments.length||arguments[0]===void 0?void 0:p(arguments[0]),le=P(J),ae=function(we){var De=this===void 0?e:this;De===ge&&r(ae,Bt,we),l(De,z)&&l(De[z],le)&&(De[z][le]=!1);var Yr=m(1,we);try{M(De,le,Yr)}catch(Pn){if(!(Pn instanceof it))throw Pn;$(De,le,Yr)}};return s&&$r&&M(ge,le,{configurable:!0,set:ae}),A(le,J)},ke=Ee[fe],S(ke,"toString",function(){return Re(this).tag}),S(Ee,"withoutSetter",function(ve){return A(P(ve),ve)}),N.f=U,_.f=se,E.f=re,x.f=oe,g.f=v.f=de,w.f=ze,F.f=function(ve){return A(D(ve),ve)},s&&(j(ke,"description",{configurable:!0,get:function(){return Re(this).description}}),i||S(ge,"propertyIsEnumerable",U,{unsafe:!0}))),t({global:!0,constructor:!0,wrap:!0,forced:!a,sham:!a},{Symbol:Ee}),W(b(Rr),function(ve){Q(ve)}),t({target:K,stat:!0,forced:!a},{useSetter:function(){$r=!0},useSimple:function(){$r=!1}}),t({target:"Object",stat:!0,forced:!a,sham:!s},{create:X,defineProperty:se,defineProperties:re,getOwnPropertyDescriptor:oe}),t({target:"Object",stat:!0,forced:!a},{getOwnPropertyNames:de}),H(),L(Ee,K),T[z]=!0,k$}var ok={},my,lk;function iG(){if(lk)return my;lk=1;var t=Au();return my=t&&!!Symbol.for&&!!Symbol.keyFor,my}var uk;function Rae(){if(uk)return ok;uk=1;var t=Te(),e=Cn(),r=ur(),n=Ta(),i=Bu(),s=iG(),a=i("string-to-symbol-registry"),o=i("symbol-to-string-registry");return t({target:"Symbol",stat:!0,forced:!s},{for:function(l){var c=n(l);if(r(a,c))return a[c];var d=e("Symbol")(c);return a[c]=d,o[d]=c,d}}),ok}var ck={},dk;function $ae(){if(dk)return ck;dk=1;var t=Te(),e=ur(),r=oh(),n=Fu(),i=Bu(),s=iG(),a=i("symbol-to-string-registry");return t({target:"Symbol",stat:!0,forced:!s},{keyFor:function(l){if(!r(l))throw new TypeError(n(l)+" is not a symbol");if(e(a,l))return a[l]}}),ck}var hk={},vy,fk;function kae(){if(fk)return vy;fk=1;var t=lt(),e=Uo(),r=or(),n=Ss(),i=Ta(),s=t([].push);return vy=function(a){if(r(a))return a;if(e(a)){for(var o=a.length,l=[],c=0;c<o;c++){var d=a[c];typeof d=="string"?s(l,d):(typeof d=="number"||n(d)==="Number"||n(d)==="String")&&s(l,i(d))}var h=l.length,f=!0;return function(p,m){if(f)return f=!1,m;if(e(this))return m;for(var y=0;y<h;y++)if(l[y]===p)return m}}},vy}var pk;function sG(){if(pk)return hk;pk=1;var t=Te(),e=Cn(),r=dm(),n=pn(),i=lt(),s=rt(),a=or(),o=oh(),l=Wu(),c=kae(),d=Au(),h=String,f=e("JSON","stringify"),p=i(/./.exec),m=i("".charAt),y=i("".charCodeAt),b=i("".replace),g=i(1.1.toString),v=/[\uD800-\uDFFF]/g,w=/^[\uD800-\uDBFF]$/,x=/^[\uDC00-\uDFFF]$/,_=!d||s(function(){var j=e("Symbol")("stringify detection");return f([j])!=="[null]"||f({a:j})!=="{}"||f(Object(j))!=="{}"}),E=s(function(){return f("\uDF06\uD834")!=='"\\udf06\\ud834"'||f("\uDEAD")!=='"\\udead"'}),N=function(j,C){var O=l(arguments),T=c(C);if(!(!a(T)&&(j===void 0||o(j))))return O[1]=function(P,D){if(a(T)&&(D=n(T,this,h(P),D)),!o(D))return D},r(f,null,O)},S=function(j,C,O){var T=m(O,C-1),P=m(O,C+1);return p(w,j)&&!p(x,P)||p(x,j)&&!p(w,T)?"\\u"+g(y(j,0),16):j};return f&&t({target:"JSON",stat:!0,arity:3,forced:_||E},{stringify:function(C,O,T){var P=l(arguments),D=r(_?N:f,null,P);return E&&typeof D=="string"?b(D,v,S):D}}),hk}var mk={},vk;function Dae(){if(vk)return mk;vk=1;var t=Te(),e=Au(),r=rt(),n=xm(),i=vi(),s=!e||r(function(){n.f(1)});return t({target:"Object",stat:!0,forced:s},{getOwnPropertySymbols:function(o){var l=n.f;return l?l(i(o)):[]}}),mk}var gk;function aG(){return gk||(gk=1,Iae(),Rae(),$ae(),sG(),Dae()),$$}var yk={},bk;function oG(){if(bk)return yk;bk=1;var t=Ct();return t("asyncDispose"),yk}var xk={},wk;function Mae(){if(wk)return xk;wk=1;var t=Ct();return t("asyncIterator"),xk}var _k={},Sk;function lG(){if(Sk)return _k;Sk=1;var t=Ct();return t("dispose"),_k}var Ek={},Nk;function qae(){if(Nk)return Ek;Nk=1;var t=Ct();return t("hasInstance"),Ek}var jk={},Ck;function Aae(){if(Ck)return jk;Ck=1;var t=Ct();return t("isConcatSpreadable"),jk}var Ok={},Tk;function uG(){if(Tk)return Ok;Tk=1;var t=Ct();return t("iterator"),Ok}var Pk={},Ik;function Fae(){if(Ik)return Pk;Ik=1;var t=Ct();return t("match"),Pk}var Rk={},$k;function Lae(){if($k)return Rk;$k=1;var t=Ct();return t("matchAll"),Rk}var kk={},Dk;function Bae(){if(Dk)return kk;Dk=1;var t=Ct();return t("replace"),kk}var Mk={},qk;function zae(){if(qk)return Mk;qk=1;var t=Ct();return t("search"),Mk}var Ak={},Fk;function Uae(){if(Fk)return Ak;Fk=1;var t=Ct();return t("species"),Ak}var Lk={},Bk;function Wae(){if(Bk)return Lk;Bk=1;var t=Ct();return t("split"),Lk}var zk={},Uk;function cG(){if(Uk)return zk;Uk=1;var t=Ct(),e=nG();return t("toPrimitive"),e(),zk}var Wk={},Hk;function Hae(){if(Hk)return Wk;Hk=1;var t=Cn(),e=Ct(),r=Wo();return e("toStringTag"),r(t("Symbol"),"Symbol"),Wk}var Vk={},Kk;function Vae(){if(Kk)return Vk;Kk=1;var t=Ct();return t("unscopables"),Vk}var Gk={},Yk;function Kae(){if(Yk)return Gk;Yk=1;var t=Gt(),e=Wo();return e(t.JSON,"JSON",!0),Gk}var gy,Qk;function Gae(){if(Qk)return gy;Qk=1,eG(),aG(),oG(),Mae(),lG(),qae(),Aae(),uG(),Fae(),Lae(),Bae(),zae(),Uae(),Wae(),cG(),Hae(),Vae(),Kae();var t=tr();return gy=t.Symbol,gy}var Xk={},yy,Jk;function Yae(){return Jk||(Jk=1,yy=function(){}),yy}var by,Zk;function Vu(){return Zk||(Zk=1,by={}),by}var xy,eD;function Qae(){if(eD)return xy;eD=1;var t=Yt(),e=ur(),r=Function.prototype,n=t&&Object.getOwnPropertyDescriptor,i=e(r,"name"),s=i&&(function(){}).name==="something",a=i&&(!t||t&&n(r,"name").configurable);return xy={EXISTS:i,PROPER:s,CONFIGURABLE:a},xy}var wy,tD;function Xae(){if(tD)return wy;tD=1;var t=rt();return wy=!t(function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype}),wy}var _y,rD;function dG(){if(rD)return _y;rD=1;var t=ur(),e=or(),r=vi(),n=ym(),i=Xae(),s=n("IE_PROTO"),a=Object,o=a.prototype;return _y=i?a.getPrototypeOf:function(l){var c=r(l);if(t(c,s))return c[s];var d=c.constructor;return e(d)&&c instanceof d?d.prototype:c instanceof a?o:null},_y}var Sy,nD;function hG(){if(nD)return Sy;nD=1;var t=rt(),e=or(),r=Gr(),n=ch(),i=dG(),s=dh(),a=cr(),o=Lu(),l=a("iterator"),c=!1,d,h,f;[].keys&&(f=[].keys(),"next"in f?(h=i(i(f)),h!==Object.prototype&&(d=h)):c=!0);var p=!r(d)||t(function(){var m={};return d[l].call(m)!==m});return p?d={}:o&&(d=n(d)),e(d[l])||s(d,l,function(){return this}),Sy={IteratorPrototype:d,BUGGY_SAFARI_ITERATORS:c},Sy}var Ey,iD;function Jae(){if(iD)return Ey;iD=1;var t=hG().IteratorPrototype,e=ch(),r=ih(),n=Wo(),i=Vu(),s=function(){return this};return Ey=function(a,o,l,c){var d=o+" Iterator";return a.prototype=e(t,{next:r(+!c,l)}),n(a,d,!1,!0),i[d]=s,a},Ey}var Ny,sD;function Zae(){if(sD)return Ny;sD=1;var t=lt(),e=Es();return Ny=function(r,n,i){try{return t(e(Object.getOwnPropertyDescriptor(r,n)[i]))}catch{}},Ny}var jy,aD;function eoe(){if(aD)return jy;aD=1;var t=Gr();return jy=function(e){return t(e)||e===null},jy}var Cy,oD;function toe(){if(oD)return Cy;oD=1;var t=eoe(),e=String,r=TypeError;return Cy=function(n){if(t(n))return n;throw new r("Can't set "+e(n)+" as a prototype")},Cy}var Oy,lD;function roe(){if(lD)return Oy;lD=1;var t=Zae(),e=Gr(),r=zo(),n=toe();return Oy=Object.setPrototypeOf||("__proto__"in{}?function(){var i=!1,s={},a;try{a=t(Object.prototype,"__proto__","set"),a(s,[]),i=s instanceof Array}catch{}return function(l,c){return r(l),n(c),e(l)&&(i?a(l,c):l.__proto__=c),l}}():void 0),Oy}var Ty,uD;function OO(){if(uD)return Ty;uD=1;var t=Te(),e=pn(),r=Lu(),n=Qae(),i=or(),s=Jae(),a=dG(),o=roe(),l=Wo(),c=zu(),d=dh(),h=cr(),f=Vu(),p=hG(),m=n.PROPER,y=n.CONFIGURABLE,b=p.IteratorPrototype,g=p.BUGGY_SAFARI_ITERATORS,v=h("iterator"),w="keys",x="values",_="entries",E=function(){return this};return Ty=function(N,S,j,C,O,T,P){s(j,S,C);var D=function(xe){if(xe===O&&V)return V;if(!g&&xe&&xe in H)return H[xe];switch(xe){case w:return function(){return new j(this,xe)};case x:return function(){return new j(this,xe)};case _:return function(){return new j(this,xe)}}return function(){return new j(this)}},F=S+" Iterator",Q=!1,H=N.prototype,L=H[v]||H["@@iterator"]||O&&H[O],V=!g&&L||D(O),W=S==="Array"&&H.entries||L,z,K,fe;if(W&&(z=a(W.call(new N)),z!==Object.prototype&&z.next&&(!r&&a(z)!==b&&(o?o(z,b):i(z[v])||d(z,v,E)),l(z,F,!0,!0),r&&(f[F]=E))),m&&O===x&&L&&L.name!==x&&(!r&&y?c(H,"name",x):(Q=!0,V=function(){return e(L,this)})),O)if(K={values:D(x),keys:T?V:D(w),entries:D(_)},P)for(fe in K)(g||Q||!(fe in H))&&d(H,fe,K[fe]);else t({target:S,proto:!0,forced:g||Q},K);return(!r||P)&&H[v]!==V&&d(H,v,V,{name:O}),f[S]=V,K},Ty}var Py,cD;function TO(){return cD||(cD=1,Py=function(t,e){return{value:t,done:e}}),Py}var Iy,dD;function Pa(){if(dD)return Iy;dD=1;var t=qi(),e=Yae(),r=Vu(),n=hh(),i=Vn().f,s=OO(),a=TO(),o=Lu(),l=Yt(),c="Array Iterator",d=n.set,h=n.getterFor(c);Iy=s(Array,"Array",function(p,m){d(this,{type:c,target:t(p),index:0,kind:m})},function(){var p=h(this),m=p.target,y=p.index++;if(!m||y>=m.length)return p.target=null,a(void 0,!0);switch(p.kind){case"keys":return a(y,!1);case"values":return a(m[y],!1)}return a([y,m[y]],!1)},"values");var f=r.Arguments=r.Array;if(e("keys"),e("values"),e("entries"),!o&&l&&f.name!=="values")try{i(f,"name",{value:"values"})}catch{}return Iy}var Ry,hD;function noe(){return hD||(hD=1,Ry={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}),Ry}var fD;function Ia(){if(fD)return Xk;fD=1,Pa();var t=noe(),e=Gt(),r=Wo(),n=Vu();for(var i in t)r(e[i],i),n[i]=n.Array;return Xk}var $y,pD;function fG(){if(pD)return $y;pD=1;var t=Gae();return Ia(),$y=t,$y}var mD={},vD;function ioe(){if(vD)return mD;vD=1;var t=cr(),e=Vn().f,r=t("metadata"),n=Function.prototype;return n[r]===void 0&&e(n,r,{value:null}),mD}var gD={},yD;function soe(){return yD||(yD=1,oG()),gD}var bD={},xD;function aoe(){return xD||(xD=1,lG()),bD}var wD={},_D;function ooe(){if(_D)return wD;_D=1;var t=Ct();return t("metadata"),wD}var ky,SD;function loe(){if(SD)return ky;SD=1;var t=fG();return ioe(),soe(),aoe(),ooe(),ky=t,ky}var ED={},Dy,ND;function pG(){if(ND)return Dy;ND=1;var t=Cn(),e=lt(),r=t("Symbol"),n=r.keyFor,i=e(r.prototype.valueOf);return Dy=r.isRegisteredSymbol||function(a){try{return n(i(a))!==void 0}catch{return!1}},Dy}var jD;function uoe(){if(jD)return ED;jD=1;var t=Te(),e=pG();return t({target:"Symbol",stat:!0},{isRegisteredSymbol:e}),ED}var CD={},My,OD;function mG(){if(OD)return My;OD=1;for(var t=Bu(),e=Cn(),r=lt(),n=oh(),i=cr(),s=e("Symbol"),a=s.isWellKnownSymbol,o=e("Object","getOwnPropertyNames"),l=r(s.prototype.valueOf),c=t("wks"),d=0,h=o(s),f=h.length;d<f;d++)try{var p=h[d];n(s[p])&&i(p)}catch{}return My=function(y){if(a&&a(y))return!0;try{for(var b=l(y),g=0,v=o(c),w=v.length;g<w;g++)if(c[v[g]]==b)return!0}catch{}return!1},My}var TD;function coe(){if(TD)return CD;TD=1;var t=Te(),e=mG();return t({target:"Symbol",stat:!0,forced:!0},{isWellKnownSymbol:e}),CD}var PD={},ID;function doe(){if(ID)return PD;ID=1;var t=Ct();return t("customMatcher"),PD}var RD={},$D;function hoe(){if($D)return RD;$D=1;var t=Ct();return t("observable"),RD}var kD={},DD;function foe(){if(DD)return kD;DD=1;var t=Te(),e=pG();return t({target:"Symbol",stat:!0,name:"isRegisteredSymbol"},{isRegistered:e}),kD}var MD={},qD;function poe(){if(qD)return MD;qD=1;var t=Te(),e=mG();return t({target:"Symbol",stat:!0,name:"isWellKnownSymbol",forced:!0},{isWellKnown:e}),MD}var AD={},FD;function moe(){if(FD)return AD;FD=1;var t=Ct();return t("matcher"),AD}var LD={},BD;function voe(){if(BD)return LD;BD=1;var t=Ct();return t("metadataKey"),LD}var zD={},UD;function goe(){if(UD)return zD;UD=1;var t=Ct();return t("patternMatch"),zD}var WD={},HD;function yoe(){if(HD)return WD;HD=1;var t=Ct();return t("replaceAll"),WD}var qy,VD;function boe(){if(VD)return qy;VD=1;var t=loe();return uoe(),coe(),doe(),hoe(),foe(),poe(),moe(),voe(),goe(),yoe(),qy=t,qy}var Ay,KD;function xoe(){return KD||(KD=1,Ay=boe()),Ay}var woe=xoe(),cf=Le(woe),GD={},Fy,YD;function _oe(){if(YD)return Fy;YD=1;var t=lt(),e=Uu(),r=Ta(),n=zo(),i=t("".charAt),s=t("".charCodeAt),a=t("".slice),o=function(l){return function(c,d){var h=r(n(c)),f=e(d),p=h.length,m,y;return f<0||f>=p?l?"":void 0:(m=s(h,f),m<55296||m>56319||f+1===p||(y=s(h,f+1))<56320||y>57343?l?i(h,f):m:l?a(h,f,f+2):(m-55296<<10)+(y-56320)+65536)}};return Fy={codeAt:o(!1),charAt:o(!0)},Fy}var QD;function _m(){if(QD)return GD;QD=1;var t=_oe().charAt,e=Ta(),r=hh(),n=OO(),i=TO(),s="String Iterator",a=r.set,o=r.getterFor(s);return n(String,"String",function(l){a(this,{type:s,string:e(l),index:0})},function(){var c=o(this),d=c.string,h=c.index,f;return h>=d.length?i(void 0,!0):(f=t(d,h),c.index+=f.length,i(f,!1))}),GD}var Ly,XD;function Soe(){if(XD)return Ly;XD=1,Pa(),_m(),uG();var t=wm();return Ly=t.f("iterator"),Ly}var By,JD;function vG(){if(JD)return By;JD=1;var t=Soe();return Ia(),By=t,By}var zy,ZD;function Eoe(){if(ZD)return zy;ZD=1;var t=vG();return zy=t,zy}var Uy,eM;function Noe(){if(eM)return Uy;eM=1;var t=Eoe();return Uy=t,Uy}var Wy,tM;function joe(){return tM||(tM=1,Wy=Noe()),Wy}var Coe=joe(),Ooe=Le(Coe);function Ed(t){"@babel/helpers - typeof";return Ed=typeof cf=="function"&&typeof Ooe=="symbol"?function(e){return typeof e}:function(e){return e&&typeof cf=="function"&&e.constructor===cf&&e!==cf.prototype?"symbol":typeof e},Ed(t)}var Hy,rM;function Toe(){if(rM)return Hy;rM=1,cG();var t=wm();return Hy=t.f("toPrimitive"),Hy}var Vy,nM;function Poe(){if(nM)return Vy;nM=1;var t=Toe();return Vy=t,Vy}var Ky,iM;function Ioe(){if(iM)return Ky;iM=1;var t=Poe();return Ky=t,Ky}var Gy,sM;function Roe(){if(sM)return Gy;sM=1;var t=Ioe();return Gy=t,Gy}var Yy,aM;function $oe(){return aM||(aM=1,Yy=Roe()),Yy}var koe=$oe(),Doe=Le(koe);function Moe(t,e){if(Ed(t)!="object"||!t)return t;var r=t[Doe];if(r!==void 0){var n=r.call(t,e);if(Ed(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function qoe(t){var e=Moe(t,"string");return Ed(e)=="symbol"?e:e+""}function da(t,e,r){return(e=qoe(e))in t?Sae(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var oM={},Qy,lM;function Aoe(){if(lM)return Qy;lM=1;var t=lt(),e=Es(),r=Gr(),n=ur(),i=Wu(),s=nh(),a=Function,o=t([].concat),l=t([].join),c={},d=function(h,f,p){if(!n(c,f)){for(var m=[],y=0;y<f;y++)m[y]="a["+y+"]";c[f]=a("C,a","return new C("+l(m,",")+")")}return c[f](h,p)};return Qy=s?a.bind:function(f){var p=e(this),m=p.prototype,y=i(arguments,1),b=function(){var v=o(y,i(arguments));return this instanceof b?d(p,v.length,v):p.apply(f,v)};return r(m)&&(b.prototype=m),b},Qy}var uM;function Foe(){if(uM)return oM;uM=1;var t=Te(),e=Aoe();return t({target:"Function",proto:!0,forced:Function.bind!==e},{bind:e}),oM}var Xy,cM;function mn(){if(cM)return Xy;cM=1;var t=Gt(),e=tr();return Xy=function(r,n){var i=e[r+"Prototype"],s=i&&i[n];if(s)return s;var a=t[r],o=a&&a.prototype;return o&&o[n]},Xy}var Jy,dM;function Loe(){if(dM)return Jy;dM=1,Foe();var t=mn();return Jy=t("Function","bind"),Jy}var Zy,hM;function Boe(){if(hM)return Zy;hM=1;var t=lr(),e=Loe(),r=Function.prototype;return Zy=function(n){var i=n.bind;return n===r||t(r,n)&&i===r.bind?e:i},Zy}var e0,fM;function zoe(){if(fM)return e0;fM=1;var t=Boe();return e0=t,e0}var t0,pM;function Uoe(){return pM||(pM=1,t0=zoe()),t0}var Woe=Uoe(),gG=Le(Woe),mM={},r0,vM;function Hoe(){if(vM)return r0;vM=1;var t=Es(),e=vi(),r=hm(),n=Ca(),i=TypeError,s="Reduce of empty array with no initial value",a=function(o){return function(l,c,d,h){var f=e(l),p=r(f),m=n(f);if(t(c),m===0&&d<2)throw new i(s);var y=o?m-1:0,b=o?-1:1;if(d<2)for(;;){if(y in p){h=p[y],y+=b;break}if(y+=b,o?y<0:m<=y)throw new i(s)}for(;o?y>=0:m>y;y+=b)y in p&&(h=c(h,p[y],y,f));return h}};return r0={left:a(!1),right:a(!0)},r0}var n0,gM;function Sm(){if(gM)return n0;gM=1;var t=rt();return n0=function(e,r){var n=[][e];return!!n&&t(function(){n.call(null,r||function(){return 1},1)})},n0}var i0,yM;function yG(){if(yM)return i0;yM=1;var t=Gt(),e=qu(),r=Ss(),n=function(i){return e.slice(0,i.length)===i};return i0=function(){return n("Bun/")?"BUN":n("Cloudflare-Workers")?"CLOUDFLARE":n("Deno/")?"DENO":n("Node.js/")?"NODE":t.Bun&&typeof Bun.version=="string"?"BUN":t.Deno&&typeof Deno.version=="object"?"DENO":r(t.process)==="process"?"NODE":t.window&&t.document?"BROWSER":"REST"}(),i0}var s0,bM;function Voe(){if(bM)return s0;bM=1;var t=yG();return s0=t==="NODE",s0}var xM;function Koe(){if(xM)return mM;xM=1;var t=Te(),e=Hoe().left,r=Sm(),n=ah(),i=Voe(),s=!i&&n>79&&n<83,a=s||!r("reduce");return t({target:"Array",proto:!0,forced:a},{reduce:function(l){var c=arguments.length;return e(this,l,c,c>1?arguments[1]:void 0)}}),mM}var a0,wM;function Goe(){if(wM)return a0;wM=1,Koe();var t=mn();return a0=t("Array","reduce"),a0}var o0,_M;function Yoe(){if(_M)return o0;_M=1;var t=lr(),e=Goe(),r=Array.prototype;return o0=function(n){var i=n.reduce;return n===r||t(r,n)&&i===r.reduce?e:i},o0}var l0,SM;function Qoe(){if(SM)return l0;SM=1;var t=Yoe();return l0=t,l0}var u0,EM;function Xoe(){return EM||(EM=1,u0=Qoe()),u0}var Joe=Xoe(),Zoe=Le(Joe),NM={},jM;function ele(){if(jM)return NM;jM=1;var t=Te(),e=Hu().filter,r=lh(),n=r("filter");return t({target:"Array",proto:!0,forced:!n},{filter:function(s){return e(this,s,arguments.length>1?arguments[1]:void 0)}}),NM}var c0,CM;function tle(){if(CM)return c0;CM=1,ele();var t=mn();return c0=t("Array","filter"),c0}var d0,OM;function rle(){if(OM)return d0;OM=1;var t=lr(),e=tle(),r=Array.prototype;return d0=function(n){var i=n.filter;return n===r||t(r,n)&&i===r.filter?e:i},d0}var h0,TM;function nle(){if(TM)return h0;TM=1;var t=rle();return h0=t,h0}var f0,PM;function ile(){return PM||(PM=1,f0=nle()),f0}var sle=ile(),Cl=Le(sle),IM={},RM;function ale(){if(RM)return IM;RM=1;var t=Te(),e=Hu().map,r=lh(),n=r("map");return t({target:"Array",proto:!0,forced:!n},{map:function(s){return e(this,s,arguments.length>1?arguments[1]:void 0)}}),IM}var p0,$M;function ole(){if($M)return p0;$M=1,ale();var t=mn();return p0=t("Array","map"),p0}var m0,kM;function lle(){if(kM)return m0;kM=1;var t=lr(),e=ole(),r=Array.prototype;return m0=function(n){var i=n.map;return n===r||t(r,n)&&i===r.map?e:i},m0}var v0,DM;function ule(){if(DM)return v0;DM=1;var t=lle();return v0=t,v0}var g0,MM;function cle(){return MM||(MM=1,g0=ule()),g0}var dle=cle(),si=Le(dle),y0,qM;function hle(){return qM||(qM=1,y0=fG()),y0}var fle=hle(),ple=Le(fle),AM={},FM;function mle(){if(FM)return AM;FM=1;var t=Te(),e=Uo(),r=ZK(),n=Gr(),i=EO(),s=Ca(),a=qi(),o=vm(),l=cr(),c=lh(),d=Wu(),h=c("slice"),f=l("species"),p=Array,m=Math.max;return t({target:"Array",proto:!0,forced:!h},{slice:function(b,g){var v=a(this),w=s(v),x=i(b,w),_=i(g===void 0?w:g,w),E,N,S;if(e(v)&&(E=v.constructor,r(E)&&(E===p||e(E.prototype))?E=void 0:n(E)&&(E=E[f],E===null&&(E=void 0)),E===p||E===void 0))return d(v,x,_);for(N=new(E===void 0?p:E)(m(_-x,0)),S=0;x<_;x++,S++)x in v&&o(N,S,v[x]);return N.length=S,N}}),AM}var b0,LM;function vle(){if(LM)return b0;LM=1,mle();var t=mn();return b0=t("Array","slice"),b0}var x0,BM;function gle(){if(BM)return x0;BM=1;var t=lr(),e=vle(),r=Array.prototype;return x0=function(n){var i=n.slice;return n===r||t(r,n)&&i===r.slice?e:i},x0}var w0,zM;function yle(){if(zM)return w0;zM=1;var t=gle();return w0=t,w0}var _0,UM;function ble(){return UM||(UM=1,_0=yle()),_0}var xle=ble(),wle=Le(xle),WM={},S0,HM;function bG(){if(HM)return S0;HM=1;var t=Cn(),e=lt(),r=bm(),n=xm(),i=Ns(),s=e([].concat);return S0=t("Reflect","ownKeys")||function(o){var l=r.f(i(o)),c=n.f;return c?s(l,c(o)):l},S0}var VM;function _le(){if(VM)return WM;VM=1;var t=Te(),e=bG();return t({target:"Reflect",stat:!0},{ownKeys:e}),WM}var E0,KM;function Sle(){if(KM)return E0;KM=1,_le();var t=tr();return E0=t.Reflect.ownKeys,E0}var N0,GM;function Ele(){if(GM)return N0;GM=1;var t=Sle();return N0=t,N0}var j0,YM;function Nle(){return YM||(YM=1,j0=Ele()),j0}var jle=Nle(),Cle=Le(jle),QM={},XM;function Ole(){if(XM)return QM;XM=1;var t=Te(),e=Uo();return t({target:"Array",stat:!0},{isArray:e}),QM}var C0,JM;function Tle(){if(JM)return C0;JM=1,Ole();var t=tr();return C0=t.Array.isArray,C0}var O0,ZM;function Ple(){if(ZM)return O0;ZM=1;var t=Tle();return O0=t,O0}var T0,eq;function Ile(){return eq||(eq=1,T0=Ple()),T0}var Rle=Ile(),_i=Le(Rle),tq={},rq;function $le(){if(rq)return tq;rq=1;var t=Te(),e=vi(),r=gm(),n=rt(),i=n(function(){r(1)});return t({target:"Object",stat:!0,forced:i},{keys:function(a){return r(e(a))}}),tq}var P0,nq;function kle(){if(nq)return P0;nq=1,$le();var t=tr();return P0=t.Object.keys,P0}var I0,iq;function Dle(){if(iq)return I0;iq=1;var t=kle();return I0=t,I0}var R0,sq;function Mle(){return sq||(sq=1,R0=Dle()),R0}var qle=Mle(),PO=Le(qle),aq={},$0,oq;function Ale(){if(oq)return $0;oq=1;var t=Hu().forEach,e=Sm(),r=e("forEach");return $0=r?[].forEach:function(i){return t(this,i,arguments.length>1?arguments[1]:void 0)},$0}var lq;function Fle(){if(lq)return aq;lq=1;var t=Te(),e=Ale();return t({target:"Array",proto:!0,forced:[].forEach!==e},{forEach:e}),aq}var k0,uq;function Lle(){if(uq)return k0;uq=1,Fle();var t=mn();return k0=t("Array","forEach"),k0}var D0,cq;function Ble(){if(cq)return D0;cq=1;var t=Lle();return D0=t,D0}var M0,dq;function zle(){if(dq)return M0;dq=1;var t=Oa(),e=ur(),r=lr(),n=Ble(),i=Array.prototype,s={DOMTokenList:!0,NodeList:!0};return M0=function(a){var o=a.forEach;return a===i||r(i,a)&&o===i.forEach||e(s,t(a))?n:o},M0}var q0,hq;function Ule(){return hq||(hq=1,q0=zle()),q0}var Wle=Ule(),Po=Le(Wle),fq={},pq;function Hle(){if(pq)return fq;pq=1;var t=Te(),e=lt(),r=Uo(),n=e([].reverse),i=[1,2];return t({target:"Array",proto:!0,forced:String(i)===String(i.reverse())},{reverse:function(){return r(this)&&(this.length=this.length),n(this)}}),fq}var A0,mq;function Vle(){if(mq)return A0;mq=1,Hle();var t=mn();return A0=t("Array","reverse"),A0}var F0,vq;function Kle(){if(vq)return F0;vq=1;var t=lr(),e=Vle(),r=Array.prototype;return F0=function(n){var i=n.reverse;return n===r||t(r,n)&&i===r.reverse?e:i},F0}var L0,gq;function Gle(){if(gq)return L0;gq=1;var t=Kle();return L0=t,L0}var B0,yq;function Yle(){return yq||(yq=1,B0=Gle()),B0}var Qle=Yle(),Xle=Le(Qle),bq={},z0,xq;function Jle(){if(xq)return z0;xq=1;var t=Yt(),e=Uo(),r=TypeError,n=Object.getOwnPropertyDescriptor,i=t&&!function(){if(this!==void 0)return!0;try{Object.defineProperty([],"length",{writable:!1}).length=1}catch(s){return s instanceof TypeError}}();return z0=i?function(s,a){if(e(s)&&!n(s,"length").writable)throw new r("Cannot set read only .length");return s.length=a}:function(s,a){return s.length=a},z0}var U0,wq;function xG(){if(wq)return U0;wq=1;var t=Fu(),e=TypeError;return U0=function(r,n){if(!delete r[n])throw new e("Cannot delete property "+t(n)+" of "+t(r))},U0}var _q;function Zle(){if(_q)return bq;_q=1;var t=Te(),e=vi(),r=EO(),n=Uu(),i=Ca(),s=Jle(),a=JK(),o=SO(),l=vm(),c=xG(),d=lh(),h=d("splice"),f=Math.max,p=Math.min;return t({target:"Array",proto:!0,forced:!h},{splice:function(y,b){var g=e(this),v=i(g),w=r(y,v),x=arguments.length,_,E,N,S,j,C;for(x===0?_=E=0:x===1?(_=0,E=v-w):(_=x-2,E=p(f(n(b),0),v-w)),a(v+_-E),N=o(g,E),S=0;S<E;S++)j=w+S,j in g&&l(N,S,g[j]);if(N.length=E,_<E){for(S=w;S<v-E;S++)j=S+E,C=S+_,j in g?g[C]=g[j]:c(g,C);for(S=v;S>v-E+_;S--)c(g,S-1)}else if(_>E)for(S=v-E;S>w;S--)j=S+E-1,C=S+_-1,j in g?g[C]=g[j]:c(g,C);for(S=0;S<_;S++)g[S+w]=arguments[S+2];return s(g,v-E+_),N}}),bq}var W0,Sq;function eue(){if(Sq)return W0;Sq=1,Zle();var t=mn();return W0=t("Array","splice"),W0}var H0,Eq;function tue(){if(Eq)return H0;Eq=1;var t=lr(),e=eue(),r=Array.prototype;return H0=function(n){var i=n.splice;return n===r||t(r,n)&&i===r.splice?e:i},H0}var V0,Nq;function rue(){if(Nq)return V0;Nq=1;var t=tue();return V0=t,V0}var K0,jq;function nue(){return jq||(jq=1,K0=rue()),K0}var iue=nue(),wG=Le(iue),Cq={},G0,Oq;function sue(){if(Oq)return G0;Oq=1;var t=Yt(),e=lt(),r=pn(),n=rt(),i=gm(),s=xm(),a=yO(),o=vi(),l=hm(),c=Object.assign,d=Object.defineProperty,h=e([].concat);return G0=!c||n(function(){if(t&&c({b:1},c(d({},"a",{enumerable:!0,get:function(){d(this,"b",{value:3,enumerable:!1})}}),{b:2})).b!==1)return!0;var f={},p={},m=Symbol("assign detection"),y="abcdefghijklmnopqrst";return f[m]=7,y.split("").forEach(function(b){p[b]=b}),c({},f)[m]!==7||i(c({},p)).join("")!==y})?function(p,m){for(var y=o(p),b=arguments.length,g=1,v=s.f,w=a.f;b>g;)for(var x=l(arguments[g++]),_=v?h(i(x),v(x)):i(x),E=_.length,N=0,S;E>N;)S=_[N++],(!t||r(w,x,S))&&(y[S]=x[S]);return y}:c,G0}var Tq;function aue(){if(Tq)return Cq;Tq=1;var t=Te(),e=sue();return t({target:"Object",stat:!0,arity:2,forced:Object.assign!==e},{assign:e}),Cq}var Y0,Pq;function oue(){if(Pq)return Y0;Pq=1,aue();var t=tr();return Y0=t.Object.assign,Y0}var Q0,Iq;function lue(){if(Iq)return Q0;Iq=1;var t=oue();return Q0=t,Q0}var X0,Rq;function uue(){return Rq||(Rq=1,X0=lue()),X0}var cue=uue(),due=Le(cue),J0,$q;function hue(){if($q)return J0;$q=1,eG();var t=mn();return J0=t("Array","concat"),J0}var Z0,kq;function fue(){if(kq)return Z0;kq=1;var t=lr(),e=hue(),r=Array.prototype;return Z0=function(n){var i=n.concat;return n===r||t(r,n)&&i===r.concat?e:i},Z0}var eb,Dq;function pue(){if(Dq)return eb;Dq=1;var t=fue();return eb=t,eb}var tb,Mq;function mue(){return Mq||(Mq=1,tb=pue()),tb}var vue=mue(),gue=Le(vue),qq={},Aq;function yue(){if(Aq)return qq;Aq=1;var t=Te(),e=Yt(),r=ch();return t({target:"Object",stat:!0,sham:!e},{create:r}),qq}var rb,Fq;function bue(){if(Fq)return rb;Fq=1,yue();var t=tr(),e=t.Object;return rb=function(n,i){return e.create(n,i)},rb}var nb,Lq;function xue(){if(Lq)return nb;Lq=1;var t=bue();return nb=t,nb}var ib,Bq;function wue(){return Bq||(Bq=1,ib=xue()),ib}var _ue=wue(),Sue=Le(_ue),zq={},sb,Uq;function Eue(){if(Uq)return sb;Uq=1;var t=Uu(),e=Ta(),r=zo(),n=RangeError;return sb=function(s){var a=e(r(this)),o="",l=t(s);if(l<0||l===1/0)throw new n("Wrong number of repetitions");for(;l>0;(l>>>=1)&&(a+=a))l&1&&(o+=a);return o},sb}var ab,Wq;function Nue(){if(Wq)return ab;Wq=1;var t=lt(),e=XK(),r=Ta(),n=Eue(),i=zo(),s=t(n),a=t("".slice),o=Math.ceil,l=function(c){return function(d,h,f){var p=r(i(d)),m=e(h),y=p.length,b=f===void 0?" ":r(f),g,v;return m<=y||b===""?p:(g=m-y,v=s(b,o(g/b.length)),v.length>g&&(v=a(v,0,g)),c?p+v:v+p)}};return ab={start:l(!1),end:l(!0)},ab}var ob,Hq;function jue(){if(Hq)return ob;Hq=1;var t=lt(),e=rt(),r=Nue().start,n=RangeError,i=isFinite,s=Math.abs,a=Date.prototype,o=a.toISOString,l=t(a.getTime),c=t(a.getUTCDate),d=t(a.getUTCFullYear),h=t(a.getUTCHours),f=t(a.getUTCMilliseconds),p=t(a.getUTCMinutes),m=t(a.getUTCMonth),y=t(a.getUTCSeconds);return ob=e(function(){return o.call(new Date(-5e13-1))!=="0385-07-25T07:06:39.999Z"})||!e(function(){o.call(new Date(NaN))})?function(){if(!i(l(this)))throw new n("Invalid time value");var g=this,v=d(g),w=f(g),x=v<0?"-":v>9999?"+":"";return x+r(s(v),x?6:4,0)+"-"+r(m(g)+1,2,0)+"-"+r(c(g),2,0)+"T"+r(h(g),2,0)+":"+r(p(g),2,0)+":"+r(y(g),2,0)+"."+r(w,3,0)+"Z"}:o,ob}var Vq;function Cue(){if(Vq)return zq;Vq=1;var t=Te(),e=pn(),r=vi(),n=VK(),i=jue(),s=Ss(),a=rt(),o=a(function(){return new Date(NaN).toJSON()!==null||e(Date.prototype.toJSON,{toISOString:function(){return 1}})!==1});return t({target:"Date",proto:!0,forced:o},{toJSON:function(c){var d=r(this),h=n(d,"number");return typeof h=="number"&&!isFinite(h)?null:!("toISOString"in d)&&s(d)==="Date"?e(i,d):d.toISOString()}}),zq}var lb,Kq;function Oue(){if(Kq)return lb;Kq=1,Cue(),sG();var t=tr(),e=dm();return t.JSON||(t.JSON={stringify:JSON.stringify}),lb=function(n,i,s){return e(t.JSON.stringify,null,arguments)},lb}var ub,Gq;function Tue(){if(Gq)return ub;Gq=1;var t=Oue();return ub=t,ub}var cb,Yq;function Pue(){return Yq||(Yq=1,cb=Tue()),cb}var Iue=Pue(),Rue=Le(Iue),Qq={},Xq={},db,Jq;function $ue(){if(Jq)return db;Jq=1;var t=TypeError;return db=function(e,r){if(e<r)throw new t("Not enough arguments");return e},db}var hb,Zq;function _G(){if(Zq)return hb;Zq=1;var t=Gt(),e=dm(),r=or(),n=yG(),i=qu(),s=Wu(),a=$ue(),o=t.Function,l=/MSIE .\./.test(i)||n==="BUN"&&function(){var c=t.Bun.version.split(".");return c.length<3||c[0]==="0"&&(c[1]<3||c[1]==="3"&&c[2]==="0")}();return hb=function(c,d){var h=d?2:1;return l?function(f,p){var m=a(arguments.length,1)>h,y=r(f)?f:o(f),b=m?s(arguments,h):[],g=m?function(){e(y,this,b)}:y;return d?c(g,p):c(g)}:c},hb}var eA;function kue(){if(eA)return Xq;eA=1;var t=Te(),e=Gt(),r=_G(),n=r(e.setInterval,!0);return t({global:!0,bind:!0,forced:e.setInterval!==n},{setInterval:n}),Xq}var tA={},rA;function Due(){if(rA)return tA;rA=1;var t=Te(),e=Gt(),r=_G(),n=r(e.setTimeout,!0);return t({global:!0,bind:!0,forced:e.setTimeout!==n},{setTimeout:n}),tA}var nA;function Mue(){return nA||(nA=1,kue(),Due()),Qq}var fb,iA;function que(){if(iA)return fb;iA=1,Mue();var t=tr();return fb=t.setTimeout,fb}var pb,sA;function Aue(){return sA||(sA=1,pb=que()),pb}var Fue=Aue(),Lue=Le(Fue),mb={exports:{}},aA;function Bue(){return aA||(aA=1,function(t){function e(n){if(n)return r(n);this._callbacks=new Map}function r(n){return Object.assign(n,e.prototype),n._callbacks=new Map,n}e.prototype.on=function(n,i){const s=this._callbacks.get(n)??[];return s.push(i),this._callbacks.set(n,s),this},e.prototype.once=function(n,i){const s=(...a)=>{this.off(n,s),i.apply(this,a)};return s.fn=i,this.on(n,s),this},e.prototype.off=function(n,i){if(n===void 0&&i===void 0)return this._callbacks.clear(),this;if(i===void 0)return this._callbacks.delete(n),this;const s=this._callbacks.get(n);if(s){for(const[a,o]of s.entries())if(o===i||o.fn===i){s.splice(a,1);break}s.length===0?this._callbacks.delete(n):this._callbacks.set(n,s)}return this},e.prototype.emit=function(n,...i){const s=this._callbacks.get(n);if(s){const a=[...s];for(const o of a)o.apply(this,i)}return this},e.prototype.listeners=function(n){return this._callbacks.get(n)??[]},e.prototype.listenerCount=function(n){if(n)return this.listeners(n).length;let i=0;for(const s of this._callbacks.values())i+=s.length;return i},e.prototype.hasListeners=function(n){return this.listenerCount(n)>0},e.prototype.addEventListener=e.prototype.on,e.prototype.removeListener=e.prototype.off,e.prototype.removeEventListener=e.prototype.off,e.prototype.removeAllListeners=e.prototype.off,t.exports=e}(mb)),mb.exports}var zue=Bue(),Uue=Le(zue);/*! Hammer.JS - v2.0.17-rc - 2019-12-16
 * http://naver.github.io/egjs
 *
 * Forked By Naver egjs
 * Copyright (c) hammerjs
 * Licensed under the MIT license */function fi(){return fi=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},fi.apply(this,arguments)}function Kn(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}function df(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}var $j;typeof Object.assign!="function"?$j=function(e){if(e==null)throw new TypeError("Cannot convert undefined or null to object");for(var r=Object(e),n=1;n<arguments.length;n++){var i=arguments[n];if(i!=null)for(var s in i)i.hasOwnProperty(s)&&(r[s]=i[s])}return r}:$j=Object.assign;var Io=$j,oA=["","webkit","Moz","MS","ms","o"],Wue=typeof document>"u"?{style:{}}:document.createElement("div"),Hue="function",Ol=Math.round,Ro=Math.abs,IO=Date.now;function Em(t,e){for(var r,n,i=e[0].toUpperCase()+e.slice(1),s=0;s<oA.length;){if(r=oA[s],n=r?r+i:e,n in t)return n;s++}}var is;typeof window>"u"?is={}:is=window;var SG=Em(Wue.style,"touchAction"),EG=SG!==void 0;function Vue(){if(!EG)return!1;var t={},e=is.CSS&&is.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach(function(r){return t[r]=e?is.CSS.supports("touch-action",r):!0}),t}var NG="compute",jG="auto",kj="manipulation",po="none",Nd="pan-x",jd="pan-y",hf=Vue(),Kue=/mobile|tablet|ip(ad|hone|od)|android/i,CG="ontouchstart"in is,Gue=Em(is,"PointerEvent")!==void 0,Yue=CG&&Kue.test(navigator.userAgent),fh="touch",Que="pen",RO="mouse",Xue="kinect",Jue=25,Ur=1,Ho=2,Ht=4,dn=8,Np=1,ph=2,mh=4,vh=8,bu=16,ki=ph|mh,mo=vh|bu,OG=ki|mo,TG=["x","y"],jp=["clientX","clientY"];function ss(t,e,r){var n;if(t)if(t.forEach)t.forEach(e,r);else if(t.length!==void 0)for(n=0;n<t.length;)e.call(r,t[n],n,t),n++;else for(n in t)t.hasOwnProperty(n)&&e.call(r,t[n],n,t)}function Nm(t,e){return typeof t===Hue?t.apply(e&&e[0]||void 0,e):t}function Qa(t,e){return t.indexOf(e)>-1}function Zue(t){if(Qa(t,po))return po;var e=Qa(t,Nd),r=Qa(t,jd);return e&&r?po:e||r?e?Nd:jd:Qa(t,kj)?kj:jG}var PG=function(){function t(r,n){this.manager=r,this.set(n)}var e=t.prototype;return e.set=function(n){n===NG&&(n=this.compute()),EG&&this.manager.element.style&&hf[n]&&(this.manager.element.style[SG]=n),this.actions=n.toLowerCase().trim()},e.update=function(){this.set(this.manager.options.touchAction)},e.compute=function(){var n=[];return ss(this.manager.recognizers,function(i){Nm(i.options.enable,[i])&&(n=n.concat(i.getTouchAction()))}),Zue(n.join(" "))},e.preventDefaults=function(n){var i=n.srcEvent,s=n.offsetDirection;if(this.manager.session.prevented){i.preventDefault();return}var a=this.actions,o=Qa(a,po)&&!hf[po],l=Qa(a,jd)&&!hf[jd],c=Qa(a,Nd)&&!hf[Nd];if(o){var d=n.pointers.length===1,h=n.distance<2,f=n.deltaTime<250;if(d&&h&&f)return}if(!(c&&l)&&(o||l&&s&ki||c&&s&mo))return this.preventSrc(i)},e.preventSrc=function(n){this.manager.session.prevented=!0,n.preventDefault()},t}();function $O(t,e){for(;t;){if(t===e)return!0;t=t.parentNode}return!1}function IG(t){var e=t.length;if(e===1)return{x:Ol(t[0].clientX),y:Ol(t[0].clientY)};for(var r=0,n=0,i=0;i<e;)r+=t[i].clientX,n+=t[i].clientY,i++;return{x:Ol(r/e),y:Ol(n/e)}}function lA(t){for(var e=[],r=0;r<t.pointers.length;)e[r]={clientX:Ol(t.pointers[r].clientX),clientY:Ol(t.pointers[r].clientY)},r++;return{timeStamp:IO(),pointers:e,center:IG(e),deltaX:t.deltaX,deltaY:t.deltaY}}function Cp(t,e,r){r||(r=TG);var n=e[r[0]]-t[r[0]],i=e[r[1]]-t[r[1]];return Math.sqrt(n*n+i*i)}function Dj(t,e,r){r||(r=TG);var n=e[r[0]]-t[r[0]],i=e[r[1]]-t[r[1]];return Math.atan2(i,n)*180/Math.PI}function RG(t,e){return t===e?Np:Ro(t)>=Ro(e)?t<0?ph:mh:e<0?vh:bu}function ece(t,e){var r=e.center,n=t.offsetDelta||{},i=t.prevDelta||{},s=t.prevInput||{};(e.eventType===Ur||s.eventType===Ht)&&(i=t.prevDelta={x:s.deltaX||0,y:s.deltaY||0},n=t.offsetDelta={x:r.x,y:r.y}),e.deltaX=i.x+(r.x-n.x),e.deltaY=i.y+(r.y-n.y)}function $G(t,e,r){return{x:e/t||0,y:r/t||0}}function tce(t,e){return Cp(e[0],e[1],jp)/Cp(t[0],t[1],jp)}function rce(t,e){return Dj(e[1],e[0],jp)+Dj(t[1],t[0],jp)}function nce(t,e){var r=t.lastInterval||e,n=e.timeStamp-r.timeStamp,i,s,a,o;if(e.eventType!==dn&&(n>Jue||r.velocity===void 0)){var l=e.deltaX-r.deltaX,c=e.deltaY-r.deltaY,d=$G(n,l,c);s=d.x,a=d.y,i=Ro(d.x)>Ro(d.y)?d.x:d.y,o=RG(l,c),t.lastInterval=e}else i=r.velocity,s=r.velocityX,a=r.velocityY,o=r.direction;e.velocity=i,e.velocityX=s,e.velocityY=a,e.direction=o}function ice(t,e){var r=t.session,n=e.pointers,i=n.length;r.firstInput||(r.firstInput=lA(e)),i>1&&!r.firstMultiple?r.firstMultiple=lA(e):i===1&&(r.firstMultiple=!1);var s=r.firstInput,a=r.firstMultiple,o=a?a.center:s.center,l=e.center=IG(n);e.timeStamp=IO(),e.deltaTime=e.timeStamp-s.timeStamp,e.angle=Dj(o,l),e.distance=Cp(o,l),ece(r,e),e.offsetDirection=RG(e.deltaX,e.deltaY);var c=$G(e.deltaTime,e.deltaX,e.deltaY);e.overallVelocityX=c.x,e.overallVelocityY=c.y,e.overallVelocity=Ro(c.x)>Ro(c.y)?c.x:c.y,e.scale=a?tce(a.pointers,n):1,e.rotation=a?rce(a.pointers,n):0,e.maxPointers=r.prevInput?e.pointers.length>r.prevInput.maxPointers?e.pointers.length:r.prevInput.maxPointers:e.pointers.length,nce(r,e);var d=t.element,h=e.srcEvent,f;h.composedPath?f=h.composedPath()[0]:h.path?f=h.path[0]:f=h.target,$O(f,d)&&(d=f),e.target=d}function sce(t,e,r){var n=r.pointers.length,i=r.changedPointers.length,s=e&Ur&&n-i===0,a=e&(Ht|dn)&&n-i===0;r.isFirst=!!s,r.isFinal=!!a,s&&(t.session={}),r.eventType=e,ice(t,r),t.emit("hammer.input",r),t.recognize(r),t.session.prevInput=r}function Cd(t){return t.trim().split(/\s+/g)}function Yc(t,e,r){ss(Cd(e),function(n){t.addEventListener(n,r,!1)})}function Qc(t,e,r){ss(Cd(e),function(n){t.removeEventListener(n,r,!1)})}function uA(t){var e=t.ownerDocument||t;return e.defaultView||e.parentWindow||window}var Ku=function(){function t(r,n){var i=this;this.manager=r,this.callback=n,this.element=r.element,this.target=r.options.inputTarget,this.domHandler=function(s){Nm(r.options.enable,[r])&&i.handler(s)},this.init()}var e=t.prototype;return e.handler=function(){},e.init=function(){this.evEl&&Yc(this.element,this.evEl,this.domHandler),this.evTarget&&Yc(this.target,this.evTarget,this.domHandler),this.evWin&&Yc(uA(this.element),this.evWin,this.domHandler)},e.destroy=function(){this.evEl&&Qc(this.element,this.evEl,this.domHandler),this.evTarget&&Qc(this.target,this.evTarget,this.domHandler),this.evWin&&Qc(uA(this.element),this.evWin,this.domHandler)},t}();function $o(t,e,r){if(t.indexOf&&!r)return t.indexOf(e);for(var n=0;n<t.length;){if(r&&t[n][r]==e||!r&&t[n]===e)return n;n++}return-1}var ace={pointerdown:Ur,pointermove:Ho,pointerup:Ht,pointercancel:dn,pointerout:dn},oce={2:fh,3:Que,4:RO,5:Xue},kG="pointerdown",DG="pointermove pointerup pointercancel";is.MSPointerEvent&&!is.PointerEvent&&(kG="MSPointerDown",DG="MSPointerMove MSPointerUp MSPointerCancel");var MG=function(t){Kn(e,t);function e(){var n,i=e.prototype;return i.evEl=kG,i.evWin=DG,n=t.apply(this,arguments)||this,n.store=n.manager.session.pointerEvents=[],n}var r=e.prototype;return r.handler=function(i){var s=this.store,a=!1,o=i.type.toLowerCase().replace("ms",""),l=ace[o],c=oce[i.pointerType]||i.pointerType,d=c===fh,h=$o(s,i.pointerId,"pointerId");l&Ur&&(i.button===0||d)?h<0&&(s.push(i),h=s.length-1):l&(Ht|dn)&&(a=!0),!(h<0)&&(s[h]=i,this.callback(this.manager,l,{pointers:s,changedPointers:[i],pointerType:c,srcEvent:i}),a&&s.splice(h,1))},e}(Ku);function Od(t){return Array.prototype.slice.call(t,0)}function kO(t,e,r){for(var n=[],i=[],s=0;s<t.length;){var a=e?t[s][e]:t[s];$o(i,a)<0&&n.push(t[s]),i[s]=a,s++}return r&&(e?n=n.sort(function(o,l){return o[e]>l[e]}):n=n.sort()),n}var lce={touchstart:Ur,touchmove:Ho,touchend:Ht,touchcancel:dn},uce="touchstart touchmove touchend touchcancel",DO=function(t){Kn(e,t);function e(){var n;return e.prototype.evTarget=uce,n=t.apply(this,arguments)||this,n.targetIds={},n}var r=e.prototype;return r.handler=function(i){var s=lce[i.type],a=cce.call(this,i,s);a&&this.callback(this.manager,s,{pointers:a[0],changedPointers:a[1],pointerType:fh,srcEvent:i})},e}(Ku);function cce(t,e){var r=Od(t.touches),n=this.targetIds;if(e&(Ur|Ho)&&r.length===1)return n[r[0].identifier]=!0,[r,r];var i,s,a=Od(t.changedTouches),o=[],l=this.target;if(s=r.filter(function(c){return $O(c.target,l)}),e===Ur)for(i=0;i<s.length;)n[s[i].identifier]=!0,i++;for(i=0;i<a.length;)n[a[i].identifier]&&o.push(a[i]),e&(Ht|dn)&&delete n[a[i].identifier],i++;if(o.length)return[kO(s.concat(o),"identifier",!0),o]}var dce={mousedown:Ur,mousemove:Ho,mouseup:Ht},hce="mousedown",fce="mousemove mouseup",MO=function(t){Kn(e,t);function e(){var n,i=e.prototype;return i.evEl=hce,i.evWin=fce,n=t.apply(this,arguments)||this,n.pressed=!1,n}var r=e.prototype;return r.handler=function(i){var s=dce[i.type];s&Ur&&i.button===0&&(this.pressed=!0),s&Ho&&i.which!==1&&(s=Ht),this.pressed&&(s&Ht&&(this.pressed=!1),this.callback(this.manager,s,{pointers:[i],changedPointers:[i],pointerType:RO,srcEvent:i}))},e}(Ku),pce=2500,cA=25;function dA(t){var e=t.changedPointers,r=e[0];if(r.identifier===this.primaryTouch){var n={x:r.clientX,y:r.clientY},i=this.lastTouches;this.lastTouches.push(n);var s=function(){var o=i.indexOf(n);o>-1&&i.splice(o,1)};setTimeout(s,pce)}}function mce(t,e){t&Ur?(this.primaryTouch=e.changedPointers[0].identifier,dA.call(this,e)):t&(Ht|dn)&&dA.call(this,e)}function vce(t){for(var e=t.srcEvent.clientX,r=t.srcEvent.clientY,n=0;n<this.lastTouches.length;n++){var i=this.lastTouches[n],s=Math.abs(e-i.x),a=Math.abs(r-i.y);if(s<=cA&&a<=cA)return!0}return!1}var qG=function(){var t=function(e){Kn(r,e);function r(i,s){var a;return a=e.call(this,i,s)||this,a.handler=function(o,l,c){var d=c.pointerType===fh,h=c.pointerType===RO;if(!(h&&c.sourceCapabilities&&c.sourceCapabilities.firesTouchEvents)){if(d)mce.call(df(df(a)),l,c);else if(h&&vce.call(df(df(a)),c))return;a.callback(o,l,c)}},a.touch=new DO(a.manager,a.handler),a.mouse=new MO(a.manager,a.handler),a.primaryTouch=null,a.lastTouches=[],a}var n=r.prototype;return n.destroy=function(){this.touch.destroy(),this.mouse.destroy()},r}(Ku);return t}();function gce(t){var e,r=t.options.inputClass;return r?e=r:Gue?e=MG:Yue?e=DO:CG?e=qG:e=MO,new e(t,sce)}function Tl(t,e,r){return Array.isArray(t)?(ss(t,r[e],r),!0):!1}var Mf=1,zn=2,xu=4,ha=8,as=ha,Td=16,Oi=32,yce=1;function bce(){return yce++}function ff(t,e){var r=e.manager;return r?r.get(t):t}function hA(t){return t&Td?"cancel":t&ha?"end":t&xu?"move":t&zn?"start":""}var gh=function(){function t(r){r===void 0&&(r={}),this.options=fi({enable:!0},r),this.id=bce(),this.manager=null,this.state=Mf,this.simultaneous={},this.requireFail=[]}var e=t.prototype;return e.set=function(n){return Io(this.options,n),this.manager&&this.manager.touchAction.update(),this},e.recognizeWith=function(n){if(Tl(n,"recognizeWith",this))return this;var i=this.simultaneous;return n=ff(n,this),i[n.id]||(i[n.id]=n,n.recognizeWith(this)),this},e.dropRecognizeWith=function(n){return Tl(n,"dropRecognizeWith",this)?this:(n=ff(n,this),delete this.simultaneous[n.id],this)},e.requireFailure=function(n){if(Tl(n,"requireFailure",this))return this;var i=this.requireFail;return n=ff(n,this),$o(i,n)===-1&&(i.push(n),n.requireFailure(this)),this},e.dropRequireFailure=function(n){if(Tl(n,"dropRequireFailure",this))return this;n=ff(n,this);var i=$o(this.requireFail,n);return i>-1&&this.requireFail.splice(i,1),this},e.hasRequireFailures=function(){return this.requireFail.length>0},e.canRecognizeWith=function(n){return!!this.simultaneous[n.id]},e.emit=function(n){var i=this,s=this.state;function a(o){i.manager.emit(o,n)}s<ha&&a(i.options.event+hA(s)),a(i.options.event),n.additionalEvent&&a(n.additionalEvent),s>=ha&&a(i.options.event+hA(s))},e.tryEmit=function(n){if(this.canEmit())return this.emit(n);this.state=Oi},e.canEmit=function(){for(var n=0;n<this.requireFail.length;){if(!(this.requireFail[n].state&(Oi|Mf)))return!1;n++}return!0},e.recognize=function(n){var i=Io({},n);if(!Nm(this.options.enable,[this,i])){this.reset(),this.state=Oi;return}this.state&(as|Td|Oi)&&(this.state=Mf),this.state=this.process(i),this.state&(zn|xu|ha|Td)&&this.tryEmit(i)},e.process=function(n){},e.getTouchAction=function(){},e.reset=function(){},t}(),Mj=function(t){Kn(e,t);function e(n){var i;return n===void 0&&(n={}),i=t.call(this,fi({event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},n))||this,i.pTime=!1,i.pCenter=!1,i._timer=null,i._input=null,i.count=0,i}var r=e.prototype;return r.getTouchAction=function(){return[kj]},r.process=function(i){var s=this,a=this.options,o=i.pointers.length===a.pointers,l=i.distance<a.threshold,c=i.deltaTime<a.time;if(this.reset(),i.eventType&Ur&&this.count===0)return this.failTimeout();if(l&&c&&o){if(i.eventType!==Ht)return this.failTimeout();var d=this.pTime?i.timeStamp-this.pTime<a.interval:!0,h=!this.pCenter||Cp(this.pCenter,i.center)<a.posThreshold;this.pTime=i.timeStamp,this.pCenter=i.center,!h||!d?this.count=1:this.count+=1,this._input=i;var f=this.count%a.taps;if(f===0)return this.hasRequireFailures()?(this._timer=setTimeout(function(){s.state=as,s.tryEmit()},a.interval),zn):as}return Oi},r.failTimeout=function(){var i=this;return this._timer=setTimeout(function(){i.state=Oi},this.options.interval),Oi},r.reset=function(){clearTimeout(this._timer)},r.emit=function(){this.state===as&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))},e}(gh),wu=function(t){Kn(e,t);function e(n){return n===void 0&&(n={}),t.call(this,fi({pointers:1},n))||this}var r=e.prototype;return r.attrTest=function(i){var s=this.options.pointers;return s===0||i.pointers.length===s},r.process=function(i){var s=this.state,a=i.eventType,o=s&(zn|xu),l=this.attrTest(i);return o&&(a&dn||!l)?s|Td:o||l?a&Ht?s|ha:s&zn?s|xu:zn:Oi},e}(gh);function AG(t){return t===bu?"down":t===vh?"up":t===ph?"left":t===mh?"right":""}var qO=function(t){Kn(e,t);function e(n){var i;return n===void 0&&(n={}),i=t.call(this,fi({event:"pan",threshold:10,pointers:1,direction:OG},n))||this,i.pX=null,i.pY=null,i}var r=e.prototype;return r.getTouchAction=function(){var i=this.options.direction,s=[];return i&ki&&s.push(jd),i&mo&&s.push(Nd),s},r.directionTest=function(i){var s=this.options,a=!0,o=i.distance,l=i.direction,c=i.deltaX,d=i.deltaY;return l&s.direction||(s.direction&ki?(l=c===0?Np:c<0?ph:mh,a=c!==this.pX,o=Math.abs(i.deltaX)):(l=d===0?Np:d<0?vh:bu,a=d!==this.pY,o=Math.abs(i.deltaY))),i.direction=l,a&&o>s.threshold&&l&s.direction},r.attrTest=function(i){return wu.prototype.attrTest.call(this,i)&&(this.state&zn||!(this.state&zn)&&this.directionTest(i))},r.emit=function(i){this.pX=i.deltaX,this.pY=i.deltaY;var s=AG(i.direction);s&&(i.additionalEvent=this.options.event+s),t.prototype.emit.call(this,i)},e}(wu),FG=function(t){Kn(e,t);function e(n){return n===void 0&&(n={}),t.call(this,fi({event:"swipe",threshold:10,velocity:.3,direction:ki|mo,pointers:1},n))||this}var r=e.prototype;return r.getTouchAction=function(){return qO.prototype.getTouchAction.call(this)},r.attrTest=function(i){var s=this.options.direction,a;return s&(ki|mo)?a=i.overallVelocity:s&ki?a=i.overallVelocityX:s&mo&&(a=i.overallVelocityY),t.prototype.attrTest.call(this,i)&&s&i.offsetDirection&&i.distance>this.options.threshold&&i.maxPointers===this.options.pointers&&Ro(a)>this.options.velocity&&i.eventType&Ht},r.emit=function(i){var s=AG(i.offsetDirection);s&&this.manager.emit(this.options.event+s,i),this.manager.emit(this.options.event,i)},e}(wu),LG=function(t){Kn(e,t);function e(n){return n===void 0&&(n={}),t.call(this,fi({event:"pinch",threshold:0,pointers:2},n))||this}var r=e.prototype;return r.getTouchAction=function(){return[po]},r.attrTest=function(i){return t.prototype.attrTest.call(this,i)&&(Math.abs(i.scale-1)>this.options.threshold||this.state&zn)},r.emit=function(i){if(i.scale!==1){var s=i.scale<1?"in":"out";i.additionalEvent=this.options.event+s}t.prototype.emit.call(this,i)},e}(wu),BG=function(t){Kn(e,t);function e(n){return n===void 0&&(n={}),t.call(this,fi({event:"rotate",threshold:0,pointers:2},n))||this}var r=e.prototype;return r.getTouchAction=function(){return[po]},r.attrTest=function(i){return t.prototype.attrTest.call(this,i)&&(Math.abs(i.rotation)>this.options.threshold||this.state&zn)},e}(wu),zG=function(t){Kn(e,t);function e(n){var i;return n===void 0&&(n={}),i=t.call(this,fi({event:"press",pointers:1,time:251,threshold:9},n))||this,i._timer=null,i._input=null,i}var r=e.prototype;return r.getTouchAction=function(){return[jG]},r.process=function(i){var s=this,a=this.options,o=i.pointers.length===a.pointers,l=i.distance<a.threshold,c=i.deltaTime>a.time;if(this._input=i,!l||!o||i.eventType&(Ht|dn)&&!c)this.reset();else if(i.eventType&Ur)this.reset(),this._timer=setTimeout(function(){s.state=as,s.tryEmit()},a.time);else if(i.eventType&Ht)return as;return Oi},r.reset=function(){clearTimeout(this._timer)},r.emit=function(i){this.state===as&&(i&&i.eventType&Ht?this.manager.emit(this.options.event+"up",i):(this._input.timeStamp=IO(),this.manager.emit(this.options.event,this._input)))},e}(gh),UG={domEvents:!1,touchAction:NG,enable:!0,inputTarget:null,inputClass:null,cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}},fA=[[BG,{enable:!1}],[LG,{enable:!1},["rotate"]],[FG,{direction:ki}],[qO,{direction:ki},["swipe"]],[Mj],[Mj,{event:"doubletap",taps:2},["tap"]],[zG]],xce=1,pA=2;function mA(t,e){var r=t.element;if(r.style){var n;ss(t.options.cssProps,function(i,s){n=Em(r.style,s),e?(t.oldCssProps[n]=r.style[n],r.style[n]=i):r.style[n]=t.oldCssProps[n]||""}),e||(t.oldCssProps={})}}function wce(t,e){var r=document.createEvent("Event");r.initEvent(t,!0,!0),r.gesture=e,e.target.dispatchEvent(r)}var vA=function(){function t(r,n){var i=this;this.options=Io({},UG,n||{}),this.options.inputTarget=this.options.inputTarget||r,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=r,this.input=gce(this),this.touchAction=new PG(this,this.options.touchAction),mA(this,!0),ss(this.options.recognizers,function(s){var a=i.add(new s[0](s[1]));s[2]&&a.recognizeWith(s[2]),s[3]&&a.requireFailure(s[3])},this)}var e=t.prototype;return e.set=function(n){return Io(this.options,n),n.touchAction&&this.touchAction.update(),n.inputTarget&&(this.input.destroy(),this.input.target=n.inputTarget,this.input.init()),this},e.stop=function(n){this.session.stopped=n?pA:xce},e.recognize=function(n){var i=this.session;if(!i.stopped){this.touchAction.preventDefaults(n);var s,a=this.recognizers,o=i.curRecognizer;(!o||o&&o.state&as)&&(i.curRecognizer=null,o=null);for(var l=0;l<a.length;)s=a[l],i.stopped!==pA&&(!o||s===o||s.canRecognizeWith(o))?s.recognize(n):s.reset(),!o&&s.state&(zn|xu|ha)&&(i.curRecognizer=s,o=s),l++}},e.get=function(n){if(n instanceof gh)return n;for(var i=this.recognizers,s=0;s<i.length;s++)if(i[s].options.event===n)return i[s];return null},e.add=function(n){if(Tl(n,"add",this))return this;var i=this.get(n.options.event);return i&&this.remove(i),this.recognizers.push(n),n.manager=this,this.touchAction.update(),n},e.remove=function(n){if(Tl(n,"remove",this))return this;var i=this.get(n);if(n){var s=this.recognizers,a=$o(s,i);a!==-1&&(s.splice(a,1),this.touchAction.update())}return this},e.on=function(n,i){if(n===void 0||i===void 0)return this;var s=this.handlers;return ss(Cd(n),function(a){s[a]=s[a]||[],s[a].push(i)}),this},e.off=function(n,i){if(n===void 0)return this;var s=this.handlers;return ss(Cd(n),function(a){i?s[a]&&s[a].splice($o(s[a],i),1):delete s[a]}),this},e.emit=function(n,i){this.options.domEvents&&wce(n,i);var s=this.handlers[n]&&this.handlers[n].slice();if(!(!s||!s.length)){i.type=n,i.preventDefault=function(){i.srcEvent.preventDefault()};for(var a=0;a<s.length;)s[a](i),a++}},e.destroy=function(){this.element&&mA(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null},t}(),_ce={touchstart:Ur,touchmove:Ho,touchend:Ht,touchcancel:dn},Sce="touchstart",Ece="touchstart touchmove touchend touchcancel",Nce=function(t){Kn(e,t);function e(){var n,i=e.prototype;return i.evTarget=Sce,i.evWin=Ece,n=t.apply(this,arguments)||this,n.started=!1,n}var r=e.prototype;return r.handler=function(i){var s=_ce[i.type];if(s===Ur&&(this.started=!0),!!this.started){var a=jce.call(this,i,s);s&(Ht|dn)&&a[0].length-a[1].length===0&&(this.started=!1),this.callback(this.manager,s,{pointers:a[0],changedPointers:a[1],pointerType:fh,srcEvent:i})}},e}(Ku);function jce(t,e){var r=Od(t.touches),n=Od(t.changedTouches);return e&(Ht|dn)&&(r=kO(r.concat(n),"identifier",!0)),[r,n]}function WG(t,e,r){var n="DEPRECATED METHOD: "+e+`
`+r+` AT 
`;return function(){var i=new Error("get-stack-trace"),s=i&&i.stack?i.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",a=window.console&&(window.console.warn||window.console.log);return a&&a.call(window.console,n,s),t.apply(this,arguments)}}var HG=WG(function(t,e,r){for(var n=Object.keys(e),i=0;i<n.length;)(!r||r&&t[n[i]]===void 0)&&(t[n[i]]=e[n[i]]),i++;return t},"extend","Use `assign`."),Cce=WG(function(t,e){return HG(t,e,!0)},"merge","Use `assign`.");function Oce(t,e,r){var n=e.prototype,i;i=t.prototype=Object.create(n),i.constructor=t,i._super=n,r&&Io(i,r)}function gA(t,e){return function(){return t.apply(e,arguments)}}var Tce=function(){var t=function(r,n){return n===void 0&&(n={}),new vA(r,fi({recognizers:fA.concat()},n))};return t.VERSION="2.0.17-rc",t.DIRECTION_ALL=OG,t.DIRECTION_DOWN=bu,t.DIRECTION_LEFT=ph,t.DIRECTION_RIGHT=mh,t.DIRECTION_UP=vh,t.DIRECTION_HORIZONTAL=ki,t.DIRECTION_VERTICAL=mo,t.DIRECTION_NONE=Np,t.DIRECTION_DOWN=bu,t.INPUT_START=Ur,t.INPUT_MOVE=Ho,t.INPUT_END=Ht,t.INPUT_CANCEL=dn,t.STATE_POSSIBLE=Mf,t.STATE_BEGAN=zn,t.STATE_CHANGED=xu,t.STATE_ENDED=ha,t.STATE_RECOGNIZED=as,t.STATE_CANCELLED=Td,t.STATE_FAILED=Oi,t.Manager=vA,t.Input=Ku,t.TouchAction=PG,t.TouchInput=DO,t.MouseInput=MO,t.PointerEventInput=MG,t.TouchMouseInput=qG,t.SingleTouchInput=Nce,t.Recognizer=gh,t.AttrRecognizer=wu,t.Tap=Mj,t.Pan=qO,t.Swipe=FG,t.Pinch=LG,t.Rotate=BG,t.Press=zG,t.on=Yc,t.off=Qc,t.each=ss,t.merge=Cce,t.extend=HG,t.bindFn=gA,t.assign=Io,t.inherit=Oce,t.bindFn=gA,t.prefixed=Em,t.toArray=Od,t.inArray=$o,t.uniqueArray=kO,t.splitStr=Cd,t.boolOrFn=Nm,t.hasParent=$O,t.addEventListeners=Yc,t.removeEventListeners=Qc,t.defaults=Io({},UG,{preset:fA}),t}();const VG=ple("DELETE");function Pce(t){for(var e=arguments.length,r=new Array(e>1?e-1:0),n=1;n<e;n++)r[n-1]=arguments[n];return KG({},t,...r)}function KG(){const t=Op(...arguments);return YG(t),t}function Op(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];if(e.length<2)return e[0];if(e.length>2)return Op(KG(e[0],e[1]),...wle(e).call(e,2));const n=e[0],i=e[1];if(n instanceof Date&&i instanceof Date)return n.setTime(i.getTime()),n;for(const s of Cle(i))Object.prototype.propertyIsEnumerable.call(i,s)&&(i[s]===VG?delete n[s]:n[s]!==null&&i[s]!==null&&typeof n[s]=="object"&&typeof i[s]=="object"&&!_i(n[s])&&!_i(i[s])?n[s]=Op(n[s],i[s]):n[s]=GG(i[s]));return n}function GG(t){return _i(t)?si(t).call(t,e=>GG(e)):typeof t=="object"&&t!==null?t instanceof Date?new Date(t.getTime()):Op({},t):t}function YG(t){for(const e of PO(t))t[e]===VG?delete t[e]:typeof t[e]=="object"&&t[e]!==null&&YG(t[e])}function Ice(){const t=()=>{};return{on:t,off:t,destroy:t,emit:t,get(){return{set:t}}}}const Rce=typeof window<"u"?window.Hammer||Tce:function(){return Ice()};function Zi(t){var e;this._cleanupQueue=[],this.active=!1,this._dom={container:t,overlay:document.createElement("div")},this._dom.overlay.classList.add("vis-overlay"),this._dom.container.appendChild(this._dom.overlay),this._cleanupQueue.push(()=>{this._dom.overlay.parentNode.removeChild(this._dom.overlay)});const r=Rce(this._dom.overlay);r.on("tap",gG(e=this._onTapOverlay).call(e,this)),this._cleanupQueue.push(()=>{r.destroy()});const n=["tap","doubletap","press","pinch","pan","panstart","panmove","panend"];Po(n).call(n,i=>{r.on(i,s=>{s.srcEvent.stopPropagation()})}),document&&document.body&&(this._onClick=i=>{$ce(i.target,t)||this.deactivate()},document.body.addEventListener("click",this._onClick),this._cleanupQueue.push(()=>{document.body.removeEventListener("click",this._onClick)})),this._escListener=i=>{("key"in i?i.key==="Escape":i.keyCode===27)&&this.deactivate()}}Uue(Zi.prototype);Zi.current=null;Zi.prototype.destroy=function(){this.deactivate();for(const r of Xle(t=wG(e=this._cleanupQueue).call(e,0)).call(t)){var t,e;r()}};Zi.prototype.activate=function(){Zi.current&&Zi.current.deactivate(),Zi.current=this,this.active=!0,this._dom.overlay.style.display="none",this._dom.container.classList.add("vis-active"),this.emit("change"),this.emit("activate"),document.body.addEventListener("keydown",this._escListener)};Zi.prototype.deactivate=function(){this.active=!1,this._dom.overlay.style.display="block",this._dom.container.classList.remove("vis-active"),document.body.removeEventListener("keydown",this._escListener),this.emit("change"),this.emit("deactivate")};Zi.prototype._onTapOverlay=function(t){this.activate(),t.srcEvent.stopPropagation()};function $ce(t,e){for(;t;){if(t===e)return!0;t=t.parentNode}return!1}var vb,yA;function kce(){if(yA)return vb;yA=1,aG();var t=tr();return vb=t.Object.getOwnPropertySymbols,vb}var gb,bA;function Dce(){if(bA)return gb;bA=1;var t=kce();return gb=t,gb}var yb,xA;function Mce(){return xA||(xA=1,yb=Dce()),yb}var qce=Mce(),wA=Le(qce),bb={exports:{}},_A={},SA;function Ace(){if(SA)return _A;SA=1;var t=Te(),e=rt(),r=qi(),n=pm().f,i=Yt(),s=!i||e(function(){n(1)});return t({target:"Object",stat:!0,forced:s,sham:!i},{getOwnPropertyDescriptor:function(o,l){return n(r(o),l)}}),_A}var EA;function Fce(){if(EA)return bb.exports;EA=1,Ace();var t=tr(),e=t.Object,r=bb.exports=function(i,s){return e.getOwnPropertyDescriptor(i,s)};return e.getOwnPropertyDescriptor.sham&&(r.sham=!0),bb.exports}var xb,NA;function Lce(){if(NA)return xb;NA=1;var t=Fce();return xb=t,xb}var wb,jA;function Bce(){return jA||(jA=1,wb=Lce()),wb}var zce=Bce(),QG=Le(zce),CA={},OA;function Uce(){if(OA)return CA;OA=1;var t=Te(),e=Yt(),r=bG(),n=qi(),i=pm(),s=vm();return t({target:"Object",stat:!0,sham:!e},{getOwnPropertyDescriptors:function(o){for(var l=n(o),c=i.f,d=r(l),h={},f=0,p,m;d.length>f;)m=c(l,p=d[f++]),m!==void 0&&s(h,p,m);return h}}),CA}var _b,TA;function Wce(){if(TA)return _b;TA=1,Uce();var t=tr();return _b=t.Object.getOwnPropertyDescriptors,_b}var Sb,PA;function Hce(){if(PA)return Sb;PA=1;var t=Wce();return Sb=t,Sb}var Eb,IA;function Vce(){return IA||(IA=1,Eb=Hce()),Eb}var Kce=Vce(),RA=Le(Kce),Nb={exports:{}},$A={},kA;function Gce(){if(kA)return $A;kA=1;var t=Te(),e=Yt(),r=jO().f;return t({target:"Object",stat:!0,forced:Object.defineProperties!==r,sham:!e},{defineProperties:r}),$A}var DA;function Yce(){if(DA)return Nb.exports;DA=1,Gce();var t=tr(),e=t.Object,r=Nb.exports=function(i,s){return e.defineProperties(i,s)};return e.defineProperties.sham&&(r.sham=!0),Nb.exports}var jb,MA;function Qce(){if(MA)return jb;MA=1;var t=Yce();return jb=t,jb}var Cb,qA;function Xce(){return qA||(qA=1,Cb=Qce()),Cb}var Jce=Xce(),Zce=Le(Jce),Ob,AA;function ede(){return AA||(AA=1,Ob=QK()),Ob}var tde=ede(),rde=Le(tde),FA={},LA={},Tb={exports:{}},Pb,BA;function nde(){if(BA)return Pb;BA=1;var t=rt();return Pb=t(function(){if(typeof ArrayBuffer=="function"){var e=new ArrayBuffer(8);Object.isExtensible(e)&&Object.defineProperty(e,"a",{value:8})}}),Pb}var Ib,zA;function ide(){if(zA)return Ib;zA=1;var t=rt(),e=Gr(),r=Ss(),n=nde(),i=Object.isExtensible,s=t(function(){});return Ib=s||n?function(o){return!e(o)||n&&r(o)==="ArrayBuffer"?!1:i?i(o):!0}:i,Ib}var Rb,UA;function sde(){if(UA)return Rb;UA=1;var t=rt();return Rb=!t(function(){return Object.isExtensible(Object.preventExtensions({}))}),Rb}var WA;function XG(){if(WA)return Tb.exports;WA=1;var t=Te(),e=lt(),r=uh(),n=Gr(),i=ur(),s=Vn().f,a=bm(),o=rG(),l=ide(),c=fm(),d=sde(),h=!1,f=c("meta"),p=0,m=function(x){s(x,f,{value:{objectID:"O"+p++,weakData:{}}})},y=function(x,_){if(!n(x))return typeof x=="symbol"?x:(typeof x=="string"?"S":"P")+x;if(!i(x,f)){if(!l(x))return"F";if(!_)return"E";m(x)}return x[f].objectID},b=function(x,_){if(!i(x,f)){if(!l(x))return!0;if(!_)return!1;m(x)}return x[f].weakData},g=function(x){return d&&h&&l(x)&&!i(x,f)&&m(x),x},v=function(){w.enable=function(){},h=!0;var x=a.f,_=e([].splice),E={};E[f]=1,x(E).length&&(a.f=function(N){for(var S=x(N),j=0,C=S.length;j<C;j++)if(S[j]===f){_(S,j,1);break}return S},t({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:o.f}))},w=Tb.exports={enable:v,fastKey:y,getWeakData:b,onFreeze:g};return r[f]=!0,Tb.exports}var $b,HA;function ade(){if(HA)return $b;HA=1;var t=cr(),e=Vu(),r=t("iterator"),n=Array.prototype;return $b=function(i){return i!==void 0&&(e.Array===i||n[r]===i)},$b}var kb,VA;function JG(){if(VA)return kb;VA=1;var t=Oa(),e=bO(),r=sh(),n=Vu(),i=cr(),s=i("iterator");return kb=function(a){if(!r(a))return e(a,s)||e(a,"@@iterator")||n[t(a)]},kb}var Db,KA;function ZG(){if(KA)return Db;KA=1;var t=pn(),e=Es(),r=Ns(),n=Fu(),i=JG(),s=TypeError;return Db=function(a,o){var l=arguments.length<2?i(a):o;if(e(l))return r(t(l,a));throw new s(n(a)+" is not iterable")},Db}var Mb,GA;function AO(){if(GA)return Mb;GA=1;var t=pn(),e=Ns(),r=bO();return Mb=function(n,i,s){var a,o;e(n);try{if(a=r(n,"return"),!a){if(i==="throw")throw s;return s}a=t(a,n)}catch(l){o=!0,a=l}if(i==="throw")throw s;if(o)throw a;return e(a),s},Mb}var qb,YA;function FO(){if(YA)return qb;YA=1;var t=mm(),e=pn(),r=Ns(),n=Fu(),i=ade(),s=Ca(),a=lr(),o=ZG(),l=JG(),c=AO(),d=TypeError,h=function(p,m){this.stopped=p,this.result=m},f=h.prototype;return qb=function(p,m,y){var b=y&&y.that,g=!!(y&&y.AS_ENTRIES),v=!!(y&&y.IS_RECORD),w=!!(y&&y.IS_ITERATOR),x=!!(y&&y.INTERRUPTED),_=t(m,b),E,N,S,j,C,O,T,P=function(F){return E&&c(E,"normal"),new h(!0,F)},D=function(F){return g?(r(F),x?_(F[0],F[1],P):_(F[0],F[1])):x?_(F,P):_(F)};if(v)E=p.iterator;else if(w)E=p;else{if(N=l(p),!N)throw new d(n(p)+" is not iterable");if(i(N)){for(S=0,j=s(p);j>S;S++)if(C=D(p[S]),C&&a(f,C))return C;return new h(!1)}E=o(p,N)}for(O=v?p.next:E.next;!(T=e(O,E)).done;){try{C=D(T.value)}catch(F){c(E,"throw",F)}if(typeof C=="object"&&C&&a(f,C))return C}return new h(!1)},qb}var Ab,QA;function eY(){if(QA)return Ab;QA=1;var t=lr(),e=TypeError;return Ab=function(r,n){if(t(n,r))return r;throw new e("Incorrect invocation")},Ab}var Fb,XA;function tY(){if(XA)return Fb;XA=1;var t=Te(),e=Gt(),r=XG(),n=rt(),i=zu(),s=FO(),a=eY(),o=or(),l=Gr(),c=sh(),d=Wo(),h=Vn().f,f=Hu().forEach,p=Yt(),m=hh(),y=m.set,b=m.getterFor;return Fb=function(g,v,w){var x=g.indexOf("Map")!==-1,_=g.indexOf("Weak")!==-1,E=x?"set":"add",N=e[g],S=N&&N.prototype,j={},C;if(!p||!o(N)||!(_||S.forEach&&!n(function(){new N().entries().next()})))C=w.getConstructor(v,g,x,E),r.enable();else{C=v(function(P,D){y(a(P,O),{type:g,collection:new N}),c(D)||s(D,P[E],{that:P,AS_ENTRIES:x})});var O=C.prototype,T=b(g);f(["add","clear","delete","forEach","get","has","set","keys","values","entries"],function(P){var D=P==="add"||P==="set";P in S&&!(_&&P==="clear")&&i(O,P,function(F,Q){var H=T(this).collection;if(!D&&_&&!l(F))return P==="get"?void 0:!1;var L=H[P](F===0?0:F,Q);return D?this:L})}),_||h(O,"size",{configurable:!0,get:function(){return T(this).collection.size}})}return d(C,g,!1,!0),j[g]=C,t({global:!0,forced:!0},j),_||w.setStrong(C,g,x),C},Fb}var Lb,JA;function ode(){if(JA)return Lb;JA=1;var t=dh();return Lb=function(e,r,n){for(var i in r)n&&n.unsafe&&e[i]?e[i]=r[i]:t(e,i,r[i],n);return e},Lb}var Bb,ZA;function lde(){if(ZA)return Bb;ZA=1;var t=Cn(),e=CO(),r=cr(),n=Yt(),i=r("species");return Bb=function(s){var a=t(s);n&&a&&!a[i]&&e(a,i,{configurable:!0,get:function(){return this}})},Bb}var zb,eF;function rY(){if(eF)return zb;eF=1;var t=ch(),e=CO(),r=ode(),n=mm(),i=eY(),s=sh(),a=FO(),o=OO(),l=TO(),c=lde(),d=Yt(),h=XG().fastKey,f=hh(),p=f.set,m=f.getterFor;return zb={getConstructor:function(y,b,g,v){var w=y(function(S,j){i(S,x),p(S,{type:b,index:t(null),first:null,last:null,size:0}),d||(S.size=0),s(j)||a(j,S[v],{that:S,AS_ENTRIES:g})}),x=w.prototype,_=m(b),E=function(S,j,C){var O=_(S),T=N(S,j),P,D;return T?T.value=C:(O.last=T={index:D=h(j,!0),key:j,value:C,previous:P=O.last,next:null,removed:!1},O.first||(O.first=T),P&&(P.next=T),d?O.size++:S.size++,D!=="F"&&(O.index[D]=T)),S},N=function(S,j){var C=_(S),O=h(j),T;if(O!=="F")return C.index[O];for(T=C.first;T;T=T.next)if(T.key===j)return T};return r(x,{clear:function(){for(var j=this,C=_(j),O=C.first;O;)O.removed=!0,O.previous&&(O.previous=O.previous.next=null),O=O.next;C.first=C.last=null,C.index=t(null),d?C.size=0:j.size=0},delete:function(S){var j=this,C=_(j),O=N(j,S);if(O){var T=O.next,P=O.previous;delete C.index[O.index],O.removed=!0,P&&(P.next=T),T&&(T.previous=P),C.first===O&&(C.first=T),C.last===O&&(C.last=P),d?C.size--:j.size--}return!!O},forEach:function(j){for(var C=_(this),O=n(j,arguments.length>1?arguments[1]:void 0),T;T=T?T.next:C.first;)for(O(T.value,T.key,this);T&&T.removed;)T=T.previous},has:function(j){return!!N(this,j)}}),r(x,g?{get:function(j){var C=N(this,j);return C&&C.value},set:function(j,C){return E(this,j===0?0:j,C)}}:{add:function(j){return E(this,j=j===0?0:j,j)}}),d&&e(x,"size",{configurable:!0,get:function(){return _(this).size}}),w},setStrong:function(y,b,g){var v=b+" Iterator",w=m(b),x=m(v);o(y,b,function(_,E){p(this,{type:v,target:_,state:w(_),kind:E,last:null})},function(){for(var _=x(this),E=_.kind,N=_.last;N&&N.removed;)N=N.previous;return!_.target||!(_.last=N=N?N.next:_.state.first)?(_.target=null,l(void 0,!0)):l(E==="keys"?N.key:E==="values"?N.value:[N.key,N.value],!1)},g?"entries":"values",!g,!0),c(b)}},zb}var tF;function ude(){if(tF)return LA;tF=1;var t=tY(),e=rY();return t("Map",function(r){return function(){return r(this,arguments.length?arguments[0]:void 0)}},e),LA}var rF;function cde(){return rF||(rF=1,ude()),FA}var nF={},Ub,iF;function nY(){return iF||(iF=1,Ub=function(t,e){return e===1?function(r,n){return r[t](n)}:function(r,n,i){return r[t](n,i)}}),Ub}var Wb,sF;function dde(){if(sF)return Wb;sF=1;var t=Cn(),e=nY(),r=t("Map");return Wb={Map:r,set:e("set",2),get:e("get",1),has:e("has",1),remove:e("delete",1),proto:r.prototype},Wb}var aF;function hde(){if(aF)return nF;aF=1;var t=Te(),e=lt(),r=Es(),n=zo(),i=FO(),s=dde(),a=Lu(),o=rt(),l=s.Map,c=s.has,d=s.get,h=s.set,f=e([].push),p=a||o(function(){return l.groupBy("ab",function(m){return m}).get("a").length!==1});return t({target:"Map",stat:!0,forced:a||p},{groupBy:function(y,b){n(y),r(b);var g=new l,v=0;return i(y,function(w){var x=b(w,v++);c(g,x)?f(d(g,x),w):h(g,x,[w])}),g}}),nF}var Hb,oF;function fde(){if(oF)return Hb;oF=1,Pa(),cde(),hde(),_m();var t=tr();return Hb=t.Map,Hb}var Vb,lF;function pde(){if(lF)return Vb;lF=1;var t=fde();return Ia(),Vb=t,Vb}var Kb,uF;function mde(){return uF||(uF=1,Kb=pde()),Kb}var vde=mde(),iY=Le(vde),cF={},dF;function gde(){if(dF)return cF;dF=1;var t=Te(),e=Hu().some,r=Sm(),n=r("some");return t({target:"Array",proto:!0,forced:!n},{some:function(s){return e(this,s,arguments.length>1?arguments[1]:void 0)}}),cF}var Gb,hF;function yde(){if(hF)return Gb;hF=1,gde();var t=mn();return Gb=t("Array","some"),Gb}var Yb,fF;function bde(){if(fF)return Yb;fF=1;var t=lr(),e=yde(),r=Array.prototype;return Yb=function(n){var i=n.some;return n===r||t(r,n)&&i===r.some?e:i},Yb}var Qb,pF;function xde(){if(pF)return Qb;pF=1;var t=bde();return Qb=t,Qb}var Xb,mF;function wde(){return mF||(mF=1,Xb=xde()),Xb}var _de=wde(),Sde=Le(_de),Jb,vF;function Ede(){if(vF)return Jb;vF=1,Pa();var t=mn();return Jb=t("Array","keys"),Jb}var Zb,gF;function Nde(){if(gF)return Zb;gF=1;var t=Ede();return Zb=t,Zb}var e1,yF;function jde(){if(yF)return e1;yF=1,Ia();var t=Oa(),e=ur(),r=lr(),n=Nde(),i=Array.prototype,s={DOMTokenList:!0,NodeList:!0};return e1=function(a){var o=a.keys;return a===i||r(i,a)&&o===i.keys||e(s,t(a))?n:o},e1}var t1,bF;function Cde(){return bF||(bF=1,t1=jde()),t1}var Ode=Cde(),dl=Le(Ode),xF={},r1,wF;function Tde(){if(wF)return r1;wF=1;var t=Wu(),e=Math.floor,r=function(n,i){var s=n.length;if(s<8)for(var a=1,o,l;a<s;){for(l=a,o=n[a];l&&i(n[l-1],o)>0;)n[l]=n[--l];l!==a++&&(n[l]=o)}else for(var c=e(s/2),d=r(t(n,0,c),i),h=r(t(n,c),i),f=d.length,p=h.length,m=0,y=0;m<f||y<p;)n[m+y]=m<f&&y<p?i(d[m],h[y])<=0?d[m++]:h[y++]:m<f?d[m++]:h[y++];return n};return r1=r,r1}var n1,_F;function Pde(){if(_F)return n1;_F=1;var t=qu(),e=t.match(/firefox\/(\d+)/i);return n1=!!e&&+e[1],n1}var i1,SF;function Ide(){if(SF)return i1;SF=1;var t=qu();return i1=/MSIE|Trident/.test(t),i1}var s1,EF;function Rde(){if(EF)return s1;EF=1;var t=qu(),e=t.match(/AppleWebKit\/(\d+)\./);return s1=!!e&&+e[1],s1}var NF;function $de(){if(NF)return xF;NF=1;var t=Te(),e=lt(),r=Es(),n=vi(),i=Ca(),s=xG(),a=Ta(),o=rt(),l=Tde(),c=Sm(),d=Pde(),h=Ide(),f=ah(),p=Rde(),m=[],y=e(m.sort),b=e(m.push),g=o(function(){m.sort(void 0)}),v=o(function(){m.sort(null)}),w=c("sort"),x=!o(function(){if(f)return f<70;if(!(d&&d>3)){if(h)return!0;if(p)return p<603;var N="",S,j,C,O;for(S=65;S<76;S++){switch(j=String.fromCharCode(S),S){case 66:case 69:case 70:case 72:C=3;break;case 68:case 71:C=4;break;default:C=2}for(O=0;O<47;O++)m.push({k:j+O,v:C})}for(m.sort(function(T,P){return P.v-T.v}),O=0;O<m.length;O++)j=m[O].k.charAt(0),N.charAt(N.length-1)!==j&&(N+=j);return N!=="DGBEFHACIJK"}}),_=g||!v||!w||!x,E=function(N){return function(S,j){return j===void 0?-1:S===void 0?1:N!==void 0?+N(S,j)||0:a(S)>a(j)?1:-1}};return t({target:"Array",proto:!0,forced:_},{sort:function(S){S!==void 0&&r(S);var j=n(this);if(x)return S===void 0?y(j):y(j,S);var C=[],O=i(j),T,P;for(P=0;P<O;P++)P in j&&b(C,j[P]);for(l(C,E(S)),T=i(C),P=0;P<T;)j[P]=C[P++];for(;P<O;)s(j,P++);return j}}),xF}var a1,jF;function kde(){if(jF)return a1;jF=1,$de();var t=mn();return a1=t("Array","sort"),a1}var o1,CF;function Dde(){if(CF)return o1;CF=1;var t=lr(),e=kde(),r=Array.prototype;return o1=function(n){var i=n.sort;return n===r||t(r,n)&&i===r.sort?e:i},o1}var l1,OF;function Mde(){if(OF)return l1;OF=1;var t=Dde();return l1=t,l1}var u1,TF;function qde(){return TF||(TF=1,u1=Mde()),u1}var Ade=qde(),qj=Le(Ade),c1,PF;function Fde(){if(PF)return c1;PF=1,Pa();var t=mn();return c1=t("Array","values"),c1}var d1,IF;function Lde(){if(IF)return d1;IF=1;var t=Fde();return d1=t,d1}var h1,RF;function Bde(){if(RF)return h1;RF=1,Ia();var t=Oa(),e=ur(),r=lr(),n=Lde(),i=Array.prototype,s={DOMTokenList:!0,NodeList:!0};return h1=function(a){var o=a.values;return a===i||r(i,a)&&o===i.values||e(s,t(a))?n:o},h1}var f1,$F;function zde(){return $F||($F=1,f1=Bde()),f1}var Ude=zde(),kF=Le(Ude),p1,DF;function Wde(){return DF||(DF=1,p1=vG()),p1}var Hde=Wde(),Pl=Le(Hde),m1,MF;function Vde(){if(MF)return m1;MF=1,Pa();var t=mn();return m1=t("Array","entries"),m1}var v1,qF;function Kde(){if(qF)return v1;qF=1;var t=Vde();return v1=t,v1}var g1,AF;function Gde(){if(AF)return g1;AF=1,Ia();var t=Oa(),e=ur(),r=lr(),n=Kde(),i=Array.prototype,s={DOMTokenList:!0,NodeList:!0};return g1=function(a){var o=a.entries;return a===i||r(i,a)&&o===i.entries||e(s,t(a))?n:o},g1}var y1,FF;function Yde(){return FF||(FF=1,y1=Gde()),y1}var Qde=Yde(),Xde=Le(Qde);const pr=[];for(let t=0;t<256;++t)pr.push((t+256).toString(16).slice(1));function Jde(t,e=0){return(pr[t[e+0]]+pr[t[e+1]]+pr[t[e+2]]+pr[t[e+3]]+"-"+pr[t[e+4]]+pr[t[e+5]]+"-"+pr[t[e+6]]+pr[t[e+7]]+"-"+pr[t[e+8]]+pr[t[e+9]]+"-"+pr[t[e+10]]+pr[t[e+11]]+pr[t[e+12]]+pr[t[e+13]]+pr[t[e+14]]+pr[t[e+15]]).toLowerCase()}let b1;const Zde=new Uint8Array(16);function ehe(){if(!b1){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");b1=crypto.getRandomValues.bind(crypto)}return b1(Zde)}const the=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto);var LF={randomUUID:the};function rhe(t,e,r){var i;t=t||{};const n=t.random??((i=t.rng)==null?void 0:i.call(t))??ehe();if(n.length<16)throw new Error("Random bytes length must be >= 16");return n[6]=n[6]&15|64,n[8]=n[8]&63|128,Jde(n)}function nhe(t,e,r){return LF.randomUUID&&!t?LF.randomUUID():rhe(t)}function BF(t){return typeof t=="string"||typeof t=="number"}class LO{constructor(e){da(this,"_queue",[]),da(this,"_timeout",null),da(this,"_extended",null),this.delay=null,this.max=1/0,this.setOptions(e)}setOptions(e){e&&typeof e.delay<"u"&&(this.delay=e.delay),e&&typeof e.max<"u"&&(this.max=e.max),this._flushIfNeeded()}static extend(e,r){const n=new LO(r);if(e.flush!==void 0)throw new Error("Target object already has a property flush");e.flush=()=>{n.flush()};const i=[{name:"flush",original:void 0}];if(r&&r.replace)for(let s=0;s<r.replace.length;s++){const a=r.replace[s];i.push({name:a,original:e[a]}),n.replace(e,a)}return n._extended={object:e,methods:i},n}destroy(){if(this.flush(),this._extended){const e=this._extended.object,r=this._extended.methods;for(let n=0;n<r.length;n++){const i=r[n];i.original?e[i.name]=i.original:delete e[i.name]}this._extended=null}}replace(e,r){const n=this,i=e[r];if(!i)throw new Error("Method "+r+" undefined");e[r]=function(){for(var s=arguments.length,a=new Array(s),o=0;o<s;o++)a[o]=arguments[o];n.queue({args:a,fn:i,context:this})}}queue(e){typeof e=="function"?this._queue.push({fn:e}):this._queue.push(e),this._flushIfNeeded()}_flushIfNeeded(){this._queue.length>this.max&&this.flush(),this._timeout!=null&&(clearTimeout(this._timeout),this._timeout=null),this.queue.length>0&&typeof this.delay=="number"&&(this._timeout=Lue(()=>{this.flush()},this.delay))}flush(){var e,r;Po(e=wG(r=this._queue).call(r,0)).call(e,n=>{n.fn.apply(n.context||n.fn,n.args||[])})}}class Tp{constructor(){da(this,"_subscribers",{"*":[],add:[],remove:[],update:[]}),da(this,"subscribe",Tp.prototype.on),da(this,"unsubscribe",Tp.prototype.off)}_trigger(e,r,n){var i;if(e==="*")throw new Error("Cannot trigger event *");Po(i=[...this._subscribers[e],...this._subscribers["*"]]).call(i,s=>{s(e,r,n??null)})}on(e,r){typeof r=="function"&&this._subscribers[e].push(r)}off(e,r){var n;this._subscribers[e]=Cl(n=this._subscribers[e]).call(n,i=>i!==r)}}var zF={},UF={},WF;function ihe(){if(WF)return UF;WF=1;var t=tY(),e=rY();return t("Set",function(r){return function(){return r(this,arguments.length?arguments[0]:void 0)}},e),UF}var HF;function she(){return HF||(HF=1,ihe()),zF}var VF={},x1,KF;function Vo(){if(KF)return x1;KF=1;var t=Fu(),e=TypeError;return x1=function(r){if(typeof r=="object"&&"size"in r&&"has"in r&&"add"in r&&"delete"in r&&"keys"in r)return r;throw new e(t(r)+" is not a set")},x1}var w1,GF;function Ko(){if(GF)return w1;GF=1;var t=Cn(),e=nY(),r=t("Set"),n=r.prototype;return w1={Set:r,add:e("add",1),has:e("has",1),remove:e("delete",1),proto:n},w1}var _1,YF;function Go(){if(YF)return _1;YF=1;var t=pn();return _1=function(e,r,n){for(var i=n?e:e.iterator,s=e.next,a,o;!(a=t(s,i)).done;)if(o=r(a.value),o!==void 0)return o},_1}var S1,QF;function yh(){if(QF)return S1;QF=1;var t=Go();return S1=function(e,r,n){return n?t(e.keys(),r,!0):e.forEach(r)},S1}var E1,XF;function BO(){if(XF)return E1;XF=1;var t=Ko(),e=yh(),r=t.Set,n=t.add;return E1=function(i){var s=new r;return e(i,function(a){n(s,a)}),s},E1}var N1,JF;function bh(){return JF||(JF=1,N1=function(t){return t.size}),N1}var j1,ZF;function ahe(){return ZF||(ZF=1,j1=function(t){return{iterator:t,next:t.next,done:!1}}),j1}var C1,e4;function Yo(){if(e4)return C1;e4=1;var t=Es(),e=Ns(),r=pn(),n=Uu(),i=ahe(),s="Invalid size",a=RangeError,o=TypeError,l=Math.max,c=function(d,h){this.set=d,this.size=l(h,0),this.has=t(d.has),this.keys=t(d.keys)};return c.prototype={getIterator:function(){return i(e(r(this.keys,this.set)))},includes:function(d){return r(this.has,this.set,d)}},C1=function(d){e(d);var h=+d.size;if(h!==h)throw new o(s);var f=n(h);if(f<0)throw new a(s);return new c(d,f)},C1}var O1,t4;function ohe(){if(t4)return O1;t4=1;var t=Vo(),e=Ko(),r=BO(),n=bh(),i=Yo(),s=yh(),a=Go(),o=e.has,l=e.remove;return O1=function(d){var h=t(this),f=i(d),p=r(h);return n(h)<=f.size?s(h,function(m){f.includes(m)&&l(p,m)}):a(f.getIterator(),function(m){o(p,m)&&l(p,m)}),p},O1}var T1,r4;function Qo(){return r4||(r4=1,T1=function(){return!1}),T1}var n4;function lhe(){if(n4)return VF;n4=1;var t=Te(),e=ohe(),r=rt(),n=Qo(),i=!n("difference",function(a){return a.size===0}),s=i||r(function(){var a={size:1,has:function(){return!0},keys:function(){var l=0;return{next:function(){var c=l++>1;return o.has(1)&&o.clear(),{done:c,value:2}}}}},o=new Set([1,2,3,4]);return o.difference(a).size!==3});return t({target:"Set",proto:!0,real:!0,forced:s},{difference:e}),VF}var i4={},P1,s4;function uhe(){if(s4)return P1;s4=1;var t=Vo(),e=Ko(),r=bh(),n=Yo(),i=yh(),s=Go(),a=e.Set,o=e.add,l=e.has;return P1=function(d){var h=t(this),f=n(d),p=new a;return r(h)>f.size?s(f.getIterator(),function(m){l(h,m)&&o(p,m)}):i(h,function(m){f.includes(m)&&o(p,m)}),p},P1}var a4;function che(){if(a4)return i4;a4=1;var t=Te(),e=rt(),r=uhe(),n=Qo(),i=!n("intersection",function(s){return s.size===2&&s.has(1)&&s.has(2)})||e(function(){return String(Array.from(new Set([1,2,3]).intersection(new Set([3,2]))))!=="3,2"});return t({target:"Set",proto:!0,real:!0,forced:i},{intersection:r}),i4}var o4={},I1,l4;function dhe(){if(l4)return I1;l4=1;var t=Vo(),e=Ko().has,r=bh(),n=Yo(),i=yh(),s=Go(),a=AO();return I1=function(l){var c=t(this),d=n(l);if(r(c)<=d.size)return i(c,function(f){if(d.includes(f))return!1},!0)!==!1;var h=d.getIterator();return s(h,function(f){if(e(c,f))return a(h,"normal",!1)})!==!1},I1}var u4;function hhe(){if(u4)return o4;u4=1;var t=Te(),e=dhe(),r=Qo(),n=!r("isDisjointFrom",function(i){return!i});return t({target:"Set",proto:!0,real:!0,forced:n},{isDisjointFrom:e}),o4}var c4={},R1,d4;function fhe(){if(d4)return R1;d4=1;var t=Vo(),e=bh(),r=yh(),n=Yo();return R1=function(s){var a=t(this),o=n(s);return e(a)>o.size?!1:r(a,function(l){if(!o.includes(l))return!1},!0)!==!1},R1}var h4;function phe(){if(h4)return c4;h4=1;var t=Te(),e=fhe(),r=Qo(),n=!r("isSubsetOf",function(i){return i});return t({target:"Set",proto:!0,real:!0,forced:n},{isSubsetOf:e}),c4}var f4={},$1,p4;function mhe(){if(p4)return $1;p4=1;var t=Vo(),e=Ko().has,r=bh(),n=Yo(),i=Go(),s=AO();return $1=function(o){var l=t(this),c=n(o);if(r(l)<c.size)return!1;var d=c.getIterator();return i(d,function(h){if(!e(l,h))return s(d,"normal",!1)})!==!1},$1}var m4;function vhe(){if(m4)return f4;m4=1;var t=Te(),e=mhe(),r=Qo(),n=!r("isSupersetOf",function(i){return!i});return t({target:"Set",proto:!0,real:!0,forced:n},{isSupersetOf:e}),f4}var v4={},k1,g4;function ghe(){if(g4)return k1;g4=1;var t=Vo(),e=Ko(),r=BO(),n=Yo(),i=Go(),s=e.add,a=e.has,o=e.remove;return k1=function(c){var d=t(this),h=n(c).getIterator(),f=r(d);return i(h,function(p){a(d,p)?o(f,p):s(f,p)}),f},k1}var D1,y4;function sY(){return y4||(y4=1,D1=function(t){try{var e=new Set,r={size:0,has:function(){return!0},keys:function(){return Object.defineProperty({},"next",{get:function(){return e.clear(),e.add(4),function(){return{done:!0}}}})}},n=e[t](r);return n.size===1&&n.values().next().value===4}catch{return!1}}),D1}var b4;function yhe(){if(b4)return v4;b4=1;var t=Te(),e=ghe(),r=sY(),n=Qo(),i=!n("symmetricDifference")||!r("symmetricDifference");return t({target:"Set",proto:!0,real:!0,forced:i},{symmetricDifference:e}),v4}var x4={},M1,w4;function bhe(){if(w4)return M1;w4=1;var t=Vo(),e=Ko().add,r=BO(),n=Yo(),i=Go();return M1=function(a){var o=t(this),l=n(a).getIterator(),c=r(o);return i(l,function(d){e(c,d)}),c},M1}var _4;function xhe(){if(_4)return x4;_4=1;var t=Te(),e=bhe(),r=sY(),n=Qo(),i=!n("union")||!r("union");return t({target:"Set",proto:!0,real:!0,forced:i},{union:e}),x4}var q1,S4;function whe(){if(S4)return q1;S4=1,Pa(),she(),lhe(),che(),hhe(),phe(),vhe(),yhe(),xhe(),_m();var t=tr();return q1=t.Set,q1}var A1,E4;function _he(){if(E4)return A1;E4=1;var t=whe();return Ia(),A1=t,A1}var F1,N4;function She(){return N4||(N4=1,F1=_he()),F1}var Ehe=She(),L1=Le(Ehe),B1,j4;function Nhe(){if(j4)return B1;j4=1,Pa(),_m();var t=ZG();return B1=t,B1}var z1,C4;function jhe(){if(C4)return z1;C4=1;var t=Nhe();return Ia(),z1=t,z1}var U1,O4;function Che(){if(O4)return U1;O4=1;var t=jhe();return U1=t,U1}var W1,T4;function Ohe(){if(T4)return W1;T4=1;var t=Che();return W1=t,W1}var H1,P4;function The(){return P4||(P4=1,H1=Ohe()),H1}var V1,I4;function Phe(){return I4||(I4=1,V1=The()),V1}var Ihe=Phe(),K1=Le(Ihe);class Xa{constructor(e){this._pairs=e}*[Pl](){for(const[e,r]of this._pairs)yield[e,r]}*entries(){for(const[e,r]of this._pairs)yield[e,r]}*keys(){for(const[e]of this._pairs)yield e}*values(){for(const[,e]of this._pairs)yield e}toIdArray(){var e;return si(e=[...this._pairs]).call(e,r=>r[0])}toItemArray(){var e;return si(e=[...this._pairs]).call(e,r=>r[1])}toEntryArray(){return[...this._pairs]}toObjectMap(){const e=Sue(null);for(const[r,n]of this._pairs)e[r]=n;return e}toMap(){return new iY(this._pairs)}toIdSet(){return new L1(this.toIdArray())}toItemSet(){return new L1(this.toItemArray())}cache(){return new Xa([...this._pairs])}distinct(e){const r=new L1;for(const[n,i]of this._pairs)r.add(e(i,n));return r}filter(e){const r=this._pairs;return new Xa({*[Pl](){for(const[n,i]of r)e(i,n)&&(yield[n,i])}})}forEach(e){for(const[r,n]of this._pairs)e(n,r)}map(e){const r=this._pairs;return new Xa({*[Pl](){for(const[n,i]of r)yield[n,e(i,n)]}})}max(e){const r=K1(this._pairs);let n=r.next();if(n.done)return null;let i=n.value[1],s=e(n.value[1],n.value[0]);for(;!(n=r.next()).done;){const[a,o]=n.value,l=e(o,a);l>s&&(s=l,i=o)}return i}min(e){const r=K1(this._pairs);let n=r.next();if(n.done)return null;let i=n.value[1],s=e(n.value[1],n.value[0]);for(;!(n=r.next()).done;){const[a,o]=n.value,l=e(o,a);l<s&&(s=l,i=o)}return i}reduce(e,r){for(const[n,i]of this._pairs)r=e(r,i,n);return r}sort(e){return new Xa({[Pl]:()=>{var r;return K1(qj(r=[...this._pairs]).call(r,(n,i)=>{let[s,a]=n,[o,l]=i;return e(a,l,s,o)}))}})}}function R4(t,e){var r=PO(t);if(wA){var n=wA(t);e&&(n=Cl(n).call(n,function(i){return QG(t,i).enumerable})),r.push.apply(r,n)}return r}function $4(t){for(var e=1;e<arguments.length;e++){var r,n,i=arguments[e]!=null?arguments[e]:{};e%2?Po(r=R4(Object(i),!0)).call(r,function(s){da(t,s,i[s])}):RA?Zce(t,RA(i)):Po(n=R4(Object(i))).call(n,function(s){rde(t,s,QG(i,s))})}return t}function Rhe(t,e){return t[e]==null&&(t[e]=nhe()),t}class _u extends Tp{get idProp(){return this._idProp}constructor(e,r){super(),da(this,"_queue",null),e&&!_i(e)&&(r=e,e=[]),this._options=r||{},this._data=new iY,this.length=0,this._idProp=this._options.fieldId||"id",e&&e.length&&this.add(e),this.setOptions(r)}setOptions(e){e&&e.queue!==void 0&&(e.queue===!1?this._queue&&(this._queue.destroy(),this._queue=null):(this._queue||(this._queue=LO.extend(this,{replace:["add","update","remove"]})),e.queue&&typeof e.queue=="object"&&this._queue.setOptions(e.queue)))}add(e,r){const n=[];let i;if(_i(e)){const s=si(e).call(e,a=>a[this._idProp]);if(Sde(s).call(s,a=>this._data.has(a)))throw new Error("A duplicate id was found in the parameter array.");for(let a=0,o=e.length;a<o;a++)i=this._addItem(e[a]),n.push(i)}else if(e&&typeof e=="object")i=this._addItem(e),n.push(i);else throw new Error("Unknown dataType");return n.length&&this._trigger("add",{items:n},r),n}update(e,r){const n=[],i=[],s=[],a=[],o=this._idProp,l=c=>{const d=c[o];if(d!=null&&this._data.has(d)){const h=c,f=due({},this._data.get(d)),p=this._updateItem(h);i.push(p),a.push(h),s.push(f)}else{const h=this._addItem(c);n.push(h)}};if(_i(e))for(let c=0,d=e.length;c<d;c++)e[c]&&typeof e[c]=="object"?l(e[c]):console.warn("Ignoring input item, which is not an object at index "+c);else if(e&&typeof e=="object")l(e);else throw new Error("Unknown dataType");if(n.length&&this._trigger("add",{items:n},r),i.length){const c={items:i,oldData:s,data:a};this._trigger("update",c,r)}return gue(n).call(n,i)}updateOnly(e,r){var n;_i(e)||(e=[e]);const i=si(n=si(e).call(e,s=>{const a=this._data.get(s[this._idProp]);if(a==null)throw new Error("Updating non-existent items is not allowed.");return{oldData:a,update:s}})).call(n,s=>{let{oldData:a,update:o}=s;const l=a[this._idProp],c=Pce(a,o);return this._data.set(l,c),{id:l,oldData:a,updatedData:c}});if(i.length){const s={items:si(i).call(i,a=>a.id),oldData:si(i).call(i,a=>a.oldData),data:si(i).call(i,a=>a.updatedData)};return this._trigger("update",s,r),s.items}else return[]}get(e,r){let n,i,s;BF(e)?(n=e,s=r):_i(e)?(i=e,s=r):s=e;const a=s&&s.returnType==="Object"?"Object":"Array",o=s&&Cl(s),l=[];let c,d,h;if(n!=null)c=this._data.get(n),c&&o&&!o(c)&&(c=void 0);else if(i!=null)for(let p=0,m=i.length;p<m;p++)c=this._data.get(i[p]),c!=null&&(!o||o(c))&&l.push(c);else{var f;d=[...dl(f=this._data).call(f)];for(let p=0,m=d.length;p<m;p++)h=d[p],c=this._data.get(h),c!=null&&(!o||o(c))&&l.push(c)}if(s&&s.order&&n==null&&this._sort(l,s.order),s&&s.fields){const p=s.fields;if(n!=null&&c!=null)c=this._filterFields(c,p);else for(let m=0,y=l.length;m<y;m++)l[m]=this._filterFields(l[m],p)}if(a=="Object"){const p={};for(let m=0,y=l.length;m<y;m++){const b=l[m],g=b[this._idProp];p[g]=b}return p}else return n!=null?c??null:l}getIds(e){const r=this._data,n=e&&Cl(e),i=e&&e.order,s=[...dl(r).call(r)],a=[];if(n)if(i){const o=[];for(let l=0,c=s.length;l<c;l++){const d=s[l],h=this._data.get(d);h!=null&&n(h)&&o.push(h)}this._sort(o,i);for(let l=0,c=o.length;l<c;l++)a.push(o[l][this._idProp])}else for(let o=0,l=s.length;o<l;o++){const c=s[o],d=this._data.get(c);d!=null&&n(d)&&a.push(d[this._idProp])}else if(i){const o=[];for(let l=0,c=s.length;l<c;l++){const d=s[l];o.push(r.get(d))}this._sort(o,i);for(let l=0,c=o.length;l<c;l++)a.push(o[l][this._idProp])}else for(let o=0,l=s.length;o<l;o++){const c=s[o],d=r.get(c);d!=null&&a.push(d[this._idProp])}return a}getDataSet(){return this}forEach(e,r){const n=r&&Cl(r),i=this._data,s=[...dl(i).call(i)];if(r&&r.order){const a=this.get(r);for(let o=0,l=a.length;o<l;o++){const c=a[o],d=c[this._idProp];e(c,d)}}else for(let a=0,o=s.length;a<o;a++){const l=s[a],c=this._data.get(l);c!=null&&(!n||n(c))&&e(c,l)}}map(e,r){const n=r&&Cl(r),i=[],s=this._data,a=[...dl(s).call(s)];for(let o=0,l=a.length;o<l;o++){const c=a[o],d=this._data.get(c);d!=null&&(!n||n(d))&&i.push(e(d,c))}return r&&r.order&&this._sort(i,r.order),i}_filterFields(e,r){var n;return e&&Zoe(n=_i(r)?r:PO(r)).call(n,(i,s)=>(i[s]=e[s],i),{})}_sort(e,r){if(typeof r=="string"){const n=r;qj(e).call(e,(i,s)=>{const a=i[n],o=s[n];return a>o?1:a<o?-1:0})}else if(typeof r=="function")qj(e).call(e,r);else throw new TypeError("Order must be a function or a string")}remove(e,r){const n=[],i=[],s=_i(e)?e:[e];for(let a=0,o=s.length;a<o;a++){const l=this._remove(s[a]);if(l){const c=l[this._idProp];c!=null&&(n.push(c),i.push(l))}}return n.length&&this._trigger("remove",{items:n,oldData:i},r),n}_remove(e){let r;if(BF(e)?r=e:e&&typeof e=="object"&&(r=e[this._idProp]),r!=null&&this._data.has(r)){const n=this._data.get(r)||null;return this._data.delete(r),--this.length,n}return null}clear(e){var r;const n=[...dl(r=this._data).call(r)],i=[];for(let s=0,a=n.length;s<a;s++)i.push(this._data.get(n[s]));return this._data.clear(),this.length=0,this._trigger("remove",{items:n,oldData:i},e),n}max(e){let r=null,n=null;for(const s of kF(i=this._data).call(i)){var i;const a=s[e];typeof a=="number"&&(n==null||a>n)&&(r=s,n=a)}return r||null}min(e){let r=null,n=null;for(const s of kF(i=this._data).call(i)){var i;const a=s[e];typeof a=="number"&&(n==null||a<n)&&(r=s,n=a)}return r||null}distinct(e){const r=this._data,n=[...dl(r).call(r)],i=[];let s=0;for(let a=0,o=n.length;a<o;a++){const l=n[a],d=r.get(l)[e];let h=!1;for(let f=0;f<s;f++)if(i[f]==d){h=!0;break}!h&&d!==void 0&&(i[s]=d,s++)}return i}_addItem(e){const r=Rhe(e,this._idProp),n=r[this._idProp];if(this._data.has(n))throw new Error("Cannot add item: item with id "+n+" already exists");return this._data.set(n,r),++this.length,n}_updateItem(e){const r=e[this._idProp];if(r==null)throw new Error("Cannot update item: item has no id (item: "+Rue(e)+")");const n=this._data.get(r);if(!n)throw new Error("Cannot update item: no item with id "+r+" found");return this._data.set(r,$4($4({},n),e)),r}stream(e){if(e){const n=this._data;return new Xa({*[Pl](){for(const i of e){const s=n.get(i);s!=null&&(yield[i,s])}}})}else{var r;return new Xa({[Pl]:gG(r=Xde(this._data)).call(r,this._data)})}}}function $he(t,e){return typeof e=="object"&&e!==null&&t===e.idProp&&typeof e.add=="function"&&typeof e.clear=="function"&&typeof e.distinct=="function"&&typeof Po(e)=="function"&&typeof e.get=="function"&&typeof e.getDataSet=="function"&&typeof e.getIds=="function"&&typeof e.length=="number"&&typeof si(e)=="function"&&typeof e.max=="function"&&typeof e.min=="function"&&typeof e.off=="function"&&typeof e.on=="function"&&typeof e.remove=="function"&&typeof e.setOptions=="function"&&typeof e.stream=="function"&&typeof e.update=="function"&&typeof e.updateOnly=="function"}function aY(t,e){return typeof e=="object"&&e!==null&&t===e.idProp&&typeof Po(e)=="function"&&typeof e.get=="function"&&typeof e.getDataSet=="function"&&typeof e.getIds=="function"&&typeof e.length=="number"&&typeof si(e)=="function"&&typeof e.off=="function"&&typeof e.on=="function"&&typeof e.stream=="function"&&$he(t,e.getDataSet())}/**
 * vis-network
 * https://visjs.github.io/vis-network/
 *
 * A dynamic, browser-based visualization library.
 *
 * @version 10.0.2
 * @date    2025-09-15T17:48:13.838Z
 *
 * @copyright (c) 2011-2017 Almende B.V, http://almende.com
 * @copyright (c) 2017-2019 visjs contributors, https://github.com/visjs
 *
 * @license
 * vis.js is dual licensed under both
 *
 *   1. The Apache 2.0 License
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 *   and
 *
 *   2. The MIT License
 *      http://opensource.org/licenses/MIT
 *
 * vis.js may be distributed under either license.
 */var k4=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Oe(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var D4={},Oc,M4;function _t(){if(M4)return Oc;M4=1;var t=function(e){return e&&e.Math===Math&&e};return Oc=t(typeof globalThis=="object"&&globalThis)||t(typeof window=="object"&&window)||t(typeof self=="object"&&self)||t(typeof k4=="object"&&k4)||t(typeof Oc=="object"&&Oc)||function(){return this}()||Function("return this")(),Oc}var G1,q4;function Be(){return q4||(q4=1,G1=function(t){try{return!!t()}catch{return!0}}),G1}var Y1,A4;function xh(){if(A4)return Y1;A4=1;var t=Be();return Y1=!t(function(){var e=(function(){}).bind();return typeof e!="function"||e.hasOwnProperty("prototype")}),Y1}var Q1,F4;function jm(){if(F4)return Q1;F4=1;var t=xh(),e=Function.prototype,r=e.apply,n=e.call;return Q1=typeof Reflect=="object"&&Reflect.apply||(t?n.bind(r):function(){return n.apply(r,arguments)}),Q1}var X1,L4;function He(){if(L4)return X1;L4=1;var t=xh(),e=Function.prototype,r=e.call,n=t&&e.bind.bind(r,r);return X1=t?n:function(i){return function(){return r.apply(i,arguments)}},X1}var J1,B4;function Ai(){if(B4)return J1;B4=1;var t=He(),e=t({}.toString),r=t("".slice);return J1=function(n){return r(e(n),8,-1)},J1}var Z1,z4;function zO(){if(z4)return Z1;z4=1;var t=Ai(),e=He();return Z1=function(r){if(t(r)==="Function")return e(r)},Z1}var ex,U4;function dr(){if(U4)return ex;U4=1;var t=typeof document=="object"&&document.all;return ex=typeof t>"u"&&t!==void 0?function(e){return typeof e=="function"||e===t}:function(e){return typeof e=="function"},ex}var tx={},rx,W4;function Lt(){if(W4)return rx;W4=1;var t=Be();return rx=!t(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!==7}),rx}var nx,H4;function vn(){if(H4)return nx;H4=1;var t=xh(),e=Function.prototype.call;return nx=t?e.bind(e):function(){return e.apply(e,arguments)},nx}var ix={},V4;function Cm(){if(V4)return ix;V4=1;var t={}.propertyIsEnumerable,e=Object.getOwnPropertyDescriptor,r=e&&!t.call({1:2},1);return ix.f=r?function(i){var s=e(this,i);return!!s&&s.enumerable}:t,ix}var sx,K4;function wh(){return K4||(K4=1,sx=function(t,e){return{enumerable:!(t&1),configurable:!(t&2),writable:!(t&4),value:e}}),sx}var ax,G4;function Om(){if(G4)return ax;G4=1;var t=He(),e=Be(),r=Ai(),n=Object,i=t("".split);return ax=e(function(){return!n("z").propertyIsEnumerable(0)})?function(s){return r(s)==="String"?i(s,""):n(s)}:n,ax}var ox,Y4;function Gu(){return Y4||(Y4=1,ox=function(t){return t==null}),ox}var lx,Q4;function js(){if(Q4)return lx;Q4=1;var t=Gu(),e=TypeError;return lx=function(r){if(t(r))throw new e("Can't call method on "+r);return r},lx}var ux,X4;function gi(){if(X4)return ux;X4=1;var t=Om(),e=js();return ux=function(r){return t(e(r))},ux}var cx,J4;function hr(){if(J4)return cx;J4=1;var t=dr();return cx=function(e){return typeof e=="object"?e!==null:t(e)},cx}var dx,Z4;function nt(){return Z4||(Z4=1,dx={}),dx}var hx,e5;function On(){if(e5)return hx;e5=1;var t=nt(),e=_t(),r=dr(),n=function(i){return r(i)?i:void 0};return hx=function(i,s){return arguments.length<2?n(t[i])||n(e[i]):t[i]&&t[i][s]||e[i]&&e[i][s]},hx}var fx,t5;function Qt(){if(t5)return fx;t5=1;var t=He();return fx=t({}.isPrototypeOf),fx}var px,r5;function Yu(){if(r5)return px;r5=1;var t=_t(),e=t.navigator,r=e&&e.userAgent;return px=r?String(r):"",px}var mx,n5;function _h(){if(n5)return mx;n5=1;var t=_t(),e=Yu(),r=t.process,n=t.Deno,i=r&&r.versions||n&&n.version,s=i&&i.v8,a,o;return s&&(a=s.split("."),o=a[0]>0&&a[0]<4?1:+(a[0]+a[1])),!o&&e&&(a=e.match(/Edge\/(\d+)/),(!a||a[1]>=74)&&(a=e.match(/Chrome\/(\d+)/),a&&(o=+a[1]))),mx=o,mx}var vx,i5;function Qu(){if(i5)return vx;i5=1;var t=_h(),e=Be(),r=_t(),n=r.String;return vx=!!Object.getOwnPropertySymbols&&!e(function(){var i=Symbol("symbol detection");return!n(i)||!(Object(i)instanceof Symbol)||!Symbol.sham&&t&&t<41}),vx}var gx,s5;function oY(){if(s5)return gx;s5=1;var t=Qu();return gx=t&&!Symbol.sham&&typeof Symbol.iterator=="symbol",gx}var yx,a5;function Sh(){if(a5)return yx;a5=1;var t=On(),e=dr(),r=Qt(),n=oY(),i=Object;return yx=n?function(s){return typeof s=="symbol"}:function(s){var a=t("Symbol");return e(a)&&r(a.prototype,i(s))},yx}var bx,o5;function Xu(){if(o5)return bx;o5=1;var t=String;return bx=function(e){try{return t(e)}catch{return"Object"}},bx}var xx,l5;function Cs(){if(l5)return xx;l5=1;var t=dr(),e=Xu(),r=TypeError;return xx=function(n){if(t(n))return n;throw new r(e(n)+" is not a function")},xx}var wx,u5;function UO(){if(u5)return wx;u5=1;var t=Cs(),e=Gu();return wx=function(r,n){var i=r[n];return e(i)?void 0:t(i)},wx}var _x,c5;function khe(){if(c5)return _x;c5=1;var t=vn(),e=dr(),r=hr(),n=TypeError;return _x=function(i,s){var a,o;if(s==="string"&&e(a=i.toString)&&!r(o=t(a,i))||e(a=i.valueOf)&&!r(o=t(a,i))||s!=="string"&&e(a=i.toString)&&!r(o=t(a,i)))return o;throw new n("Can't convert object to primitive value")},_x}var Sx={exports:{}},Ex,d5;function Ju(){return d5||(d5=1,Ex=!0),Ex}var Nx,h5;function Dhe(){if(h5)return Nx;h5=1;var t=_t(),e=Object.defineProperty;return Nx=function(r,n){try{e(t,r,{value:n,configurable:!0,writable:!0})}catch{t[r]=n}return n},Nx}var f5;function WO(){if(f5)return Sx.exports;f5=1;var t=Ju(),e=_t(),r=Dhe(),n="__core-js_shared__",i=Sx.exports=e[n]||r(n,{});return(i.versions||(i.versions=[])).push({version:"3.44.0",mode:t?"pure":"global",copyright:" 2014-2025 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.44.0/LICENSE",source:"https://github.com/zloirock/core-js"}),Sx.exports}var jx,p5;function Zu(){if(p5)return jx;p5=1;var t=WO();return jx=function(e,r){return t[e]||(t[e]=r||{})},jx}var Cx,m5;function Tn(){if(m5)return Cx;m5=1;var t=js(),e=Object;return Cx=function(r){return e(t(r))},Cx}var Ox,v5;function xr(){if(v5)return Ox;v5=1;var t=He(),e=Tn(),r=t({}.hasOwnProperty);return Ox=Object.hasOwn||function(i,s){return r(e(i),s)},Ox}var Tx,g5;function Tm(){if(g5)return Tx;g5=1;var t=He(),e=0,r=Math.random(),n=t(1.1.toString);return Tx=function(i){return"Symbol("+(i===void 0?"":i)+")_"+n(++e+r,36)},Tx}var Px,y5;function Xt(){if(y5)return Px;y5=1;var t=_t(),e=Zu(),r=xr(),n=Tm(),i=Qu(),s=oY(),a=t.Symbol,o=e("wks"),l=s?a.for||a:a&&a.withoutSetter||n;return Px=function(c){return r(o,c)||(o[c]=i&&r(a,c)?a[c]:l("Symbol."+c)),o[c]},Px}var Ix,b5;function lY(){if(b5)return Ix;b5=1;var t=vn(),e=hr(),r=Sh(),n=UO(),i=khe(),s=Xt(),a=TypeError,o=s("toPrimitive");return Ix=function(l,c){if(!e(l)||r(l))return l;var d=n(l,o),h;if(d){if(c===void 0&&(c="default"),h=t(d,l,c),!e(h)||r(h))return h;throw new a("Can't convert object to primitive value")}return c===void 0&&(c="number"),i(l,c)},Ix}var Rx,x5;function HO(){if(x5)return Rx;x5=1;var t=lY(),e=Sh();return Rx=function(r){var n=t(r,"string");return e(n)?n:n+""},Rx}var $x,w5;function uY(){if(w5)return $x;w5=1;var t=_t(),e=hr(),r=t.document,n=e(r)&&e(r.createElement);return $x=function(i){return n?r.createElement(i):{}},$x}var kx,_5;function cY(){if(_5)return kx;_5=1;var t=Lt(),e=Be(),r=uY();return kx=!t&&!e(function(){return Object.defineProperty(r("div"),"a",{get:function(){return 7}}).a!==7}),kx}var S5;function Pm(){if(S5)return tx;S5=1;var t=Lt(),e=vn(),r=Cm(),n=wh(),i=gi(),s=HO(),a=xr(),o=cY(),l=Object.getOwnPropertyDescriptor;return tx.f=t?l:function(d,h){if(d=i(d),h=s(h),o)try{return l(d,h)}catch{}if(a(d,h))return n(!e(r.f,d,h),d[h])},tx}var Dx,E5;function Mhe(){if(E5)return Dx;E5=1;var t=Be(),e=dr(),r=/#|\.prototype\./,n=function(l,c){var d=s[i(l)];return d===o?!0:d===a?!1:e(c)?t(c):!!c},i=n.normalize=function(l){return String(l).replace(r,".").toLowerCase()},s=n.data={},a=n.NATIVE="N",o=n.POLYFILL="P";return Dx=n,Dx}var Mx,N5;function Im(){if(N5)return Mx;N5=1;var t=zO(),e=Cs(),r=xh(),n=t(t.bind);return Mx=function(i,s){return e(i),s===void 0?i:r?n(i,s):function(){return i.apply(s,arguments)}},Mx}var qx={},Ax,j5;function dY(){if(j5)return Ax;j5=1;var t=Lt(),e=Be();return Ax=t&&e(function(){return Object.defineProperty(function(){},"prototype",{value:42,writable:!1}).prototype!==42}),Ax}var Fx,C5;function Fi(){if(C5)return Fx;C5=1;var t=hr(),e=String,r=TypeError;return Fx=function(n){if(t(n))return n;throw new r(e(n)+" is not an object")},Fx}var O5;function Gn(){if(O5)return qx;O5=1;var t=Lt(),e=cY(),r=dY(),n=Fi(),i=HO(),s=TypeError,a=Object.defineProperty,o=Object.getOwnPropertyDescriptor,l="enumerable",c="configurable",d="writable";return qx.f=t?r?function(f,p,m){if(n(f),p=i(p),n(m),typeof f=="function"&&p==="prototype"&&"value"in m&&d in m&&!m[d]){var y=o(f,p);y&&y[d]&&(f[p]=m.value,m={configurable:c in m?m[c]:y[c],enumerable:l in m?m[l]:y[l],writable:!1})}return a(f,p,m)}:a:function(f,p,m){if(n(f),p=i(p),n(m),e)try{return a(f,p,m)}catch{}if("get"in m||"set"in m)throw new s("Accessors not supported");return"value"in m&&(f[p]=m.value),f},qx}var Lx,T5;function ec(){if(T5)return Lx;T5=1;var t=Lt(),e=Gn(),r=wh();return Lx=t?function(n,i,s){return e.f(n,i,r(1,s))}:function(n,i,s){return n[i]=s,n},Lx}var Bx,P5;function Se(){if(P5)return Bx;P5=1;var t=_t(),e=jm(),r=zO(),n=dr(),i=Pm().f,s=Mhe(),a=nt(),o=Im(),l=ec(),c=xr(),d=function(h){var f=function(p,m,y){if(this instanceof f){switch(arguments.length){case 0:return new h;case 1:return new h(p);case 2:return new h(p,m)}return new h(p,m,y)}return e(h,this,arguments)};return f.prototype=h.prototype,f};return Bx=function(h,f){var p=h.target,m=h.global,y=h.stat,b=h.proto,g=m?t:y?t[p]:t[p]&&t[p].prototype,v=m?a:a[p]||l(a,p,{})[p],w=v.prototype,x,_,E,N,S,j,C,O,T;for(N in f)x=s(m?N:p+(y?".":"#")+N,h.forced),_=!x&&g&&c(g,N),j=v[N],_&&(h.dontCallGetSet?(T=i(g,N),C=T&&T.value):C=g[N]),S=_&&C?C:f[N],!(!x&&!b&&typeof j==typeof S)&&(h.bind&&_?O=o(S,t):h.wrap&&_?O=d(S):b&&n(S)?O=r(S):O=S,(h.sham||S&&S.sham||j&&j.sham)&&l(O,"sham",!0),l(v,N,O),b&&(E=p+"Prototype",c(a,E)||l(a,E,{}),l(a[E],N,S),h.real&&w&&(x||!w[N])&&l(w,N,S)))},Bx}var zx,I5;function qhe(){if(I5)return zx;I5=1;var t=Math.ceil,e=Math.floor;return zx=Math.trunc||function(n){var i=+n;return(i>0?e:t)(i)},zx}var Ux,R5;function tc(){if(R5)return Ux;R5=1;var t=qhe();return Ux=function(e){var r=+e;return r!==r||r===0?0:t(r)},Ux}var Wx,$5;function Rm(){if($5)return Wx;$5=1;var t=tc(),e=Math.max,r=Math.min;return Wx=function(n,i){var s=t(n);return s<0?e(s+i,0):r(s,i)},Wx}var Hx,k5;function hY(){if(k5)return Hx;k5=1;var t=tc(),e=Math.min;return Hx=function(r){var n=t(r);return n>0?e(n,9007199254740991):0},Hx}var Vx,D5;function Os(){if(D5)return Vx;D5=1;var t=hY();return Vx=function(e){return t(e.length)},Vx}var Kx,M5;function VO(){if(M5)return Kx;M5=1;var t=gi(),e=Rm(),r=Os(),n=function(i){return function(s,a,o){var l=t(s),c=r(l);if(c===0)return!i&&-1;var d=e(o,c),h;if(i&&a!==a){for(;c>d;)if(h=l[d++],h!==h)return!0}else for(;c>d;d++)if((i||d in l)&&l[d]===a)return i||d||0;return!i&&-1}};return Kx={includes:n(!0),indexOf:n(!1)},Kx}var Gx,q5;function Eh(){return q5||(q5=1,Gx={}),Gx}var Yx,A5;function fY(){if(A5)return Yx;A5=1;var t=He(),e=xr(),r=gi(),n=VO().indexOf,i=Eh(),s=t([].push);return Yx=function(a,o){var l=r(a),c=0,d=[],h;for(h in l)!e(i,h)&&e(l,h)&&s(d,h);for(;o.length>c;)e(l,h=o[c++])&&(~n(d,h)||s(d,h));return d},Yx}var Qx,F5;function KO(){return F5||(F5=1,Qx=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]),Qx}var Xx,L5;function Nh(){if(L5)return Xx;L5=1;var t=fY(),e=KO();return Xx=Object.keys||function(n){return t(n,e)},Xx}var Jx={},B5;function $m(){return B5||(B5=1,Jx.f=Object.getOwnPropertySymbols),Jx}var Zx,z5;function Ahe(){if(z5)return Zx;z5=1;var t=Lt(),e=He(),r=vn(),n=Be(),i=Nh(),s=$m(),a=Cm(),o=Tn(),l=Om(),c=Object.assign,d=Object.defineProperty,h=e([].concat);return Zx=!c||n(function(){if(t&&c({b:1},c(d({},"a",{enumerable:!0,get:function(){d(this,"b",{value:3,enumerable:!1})}}),{b:2})).b!==1)return!0;var f={},p={},m=Symbol("assign detection"),y="abcdefghijklmnopqrst";return f[m]=7,y.split("").forEach(function(b){p[b]=b}),c({},f)[m]!==7||i(c({},p)).join("")!==y})?function(p,m){for(var y=o(p),b=arguments.length,g=1,v=s.f,w=a.f;b>g;)for(var x=l(arguments[g++]),_=v?h(i(x),v(x)):i(x),E=_.length,N=0,S;E>N;)S=_[N++],(!t||r(w,x,S))&&(y[S]=x[S]);return y}:c,Zx}var U5;function Fhe(){if(U5)return D4;U5=1;var t=Se(),e=Ahe();return t({target:"Object",stat:!0,arity:2,forced:Object.assign!==e},{assign:e}),D4}var ew,W5;function Lhe(){if(W5)return ew;W5=1,Fhe();var t=nt();return ew=t.Object.assign,ew}var tw,H5;function Bhe(){if(H5)return tw;H5=1;var t=Lhe();return tw=t,tw}var rw,V5;function zhe(){return V5||(V5=1,rw=Bhe()),rw}var Uhe=zhe(),Vt=Oe(Uhe),K5={},nw,G5;function rc(){if(G5)return nw;G5=1;var t=He();return nw=t([].slice),nw}var iw,Y5;function Whe(){if(Y5)return iw;Y5=1;var t=He(),e=Cs(),r=hr(),n=xr(),i=rc(),s=xh(),a=Function,o=t([].concat),l=t([].join),c={},d=function(h,f,p){if(!n(c,f)){for(var m=[],y=0;y<f;y++)m[y]="a["+y+"]";c[f]=a("C,a","return new C("+l(m,",")+")")}return c[f](h,p)};return iw=s?a.bind:function(f){var p=e(this),m=p.prototype,y=i(arguments,1),b=function(){var v=o(y,i(arguments));return this instanceof b?d(p,v.length,v):p.apply(f,v)};return r(m)&&(b.prototype=m),b},iw}var Q5;function Hhe(){if(Q5)return K5;Q5=1;var t=Se(),e=Whe();return t({target:"Function",proto:!0,forced:Function.bind!==e},{bind:e}),K5}var sw,X5;function wr(){if(X5)return sw;X5=1;var t=_t(),e=nt();return sw=function(r,n){var i=e[r+"Prototype"],s=i&&i[n];if(s)return s;var a=t[r],o=a&&a.prototype;return o&&o[n]},sw}var aw,J5;function Vhe(){if(J5)return aw;J5=1,Hhe();var t=wr();return aw=t("Function","bind"),aw}var ow,Z5;function Khe(){if(Z5)return ow;Z5=1;var t=Qt(),e=Vhe(),r=Function.prototype;return ow=function(n){var i=n.bind;return n===r||t(r,n)&&i===r.bind?e:i},ow}var lw,e3;function Ghe(){if(e3)return lw;e3=1;var t=Khe();return lw=t,lw}var uw,t3;function Yhe(){return t3||(t3=1,uw=Ghe()),uw}var Qhe=Yhe(),te=Oe(Qhe);function GO(t,e,r,n){t.beginPath(),t.arc(e,r,n,0,2*Math.PI,!1),t.closePath()}function Xhe(t,e,r,n){t.beginPath(),t.rect(e-n,r-n,n*2,n*2),t.closePath()}function Jhe(t,e,r,n){t.beginPath(),n*=1.15,r+=.275*n;const i=n*2,s=i/2,a=Math.sqrt(3)/6*i,o=Math.sqrt(i*i-s*s);t.moveTo(e,r-(o-a)),t.lineTo(e+s,r+a),t.lineTo(e-s,r+a),t.lineTo(e,r-(o-a)),t.closePath()}function Zhe(t,e,r,n){t.beginPath(),n*=1.15,r-=.275*n;const i=n*2,s=i/2,a=Math.sqrt(3)/6*i,o=Math.sqrt(i*i-s*s);t.moveTo(e,r+(o-a)),t.lineTo(e+s,r-a),t.lineTo(e-s,r-a),t.lineTo(e,r+(o-a)),t.closePath()}function efe(t,e,r,n){t.beginPath(),n*=.82,r+=.1*n;for(let i=0;i<10;i++){const s=i%2===0?n*1.3:n*.5;t.lineTo(e+s*Math.sin(i*2*Math.PI/10),r-s*Math.cos(i*2*Math.PI/10))}t.closePath()}function tfe(t,e,r,n){t.beginPath(),t.lineTo(e,r+n),t.lineTo(e+n,r),t.lineTo(e,r-n),t.lineTo(e-n,r),t.closePath()}function pY(t,e,r,n,i,s){const a=Math.PI/180;n-2*s<0&&(s=n/2),i-2*s<0&&(s=i/2),t.beginPath(),t.moveTo(e+s,r),t.lineTo(e+n-s,r),t.arc(e+n-s,r+s,s,a*270,a*360,!1),t.lineTo(e+n,r+i-s),t.arc(e+n-s,r+i-s,s,0,a*90,!1),t.lineTo(e+s,r+i),t.arc(e+s,r+i-s,s,a*90,a*180,!1),t.lineTo(e,r+s),t.arc(e+s,r+s,s,a*180,a*270,!1),t.closePath()}function Aj(t,e,r,n,i){const s=.5522848,a=n/2*s,o=i/2*s,l=e+n,c=r+i,d=e+n/2,h=r+i/2;t.beginPath(),t.moveTo(e,h),t.bezierCurveTo(e,h-o,d-a,r,d,r),t.bezierCurveTo(d+a,r,l,h-o,l,h),t.bezierCurveTo(l,h+o,d+a,c,d,c),t.bezierCurveTo(d-a,c,e,h+o,e,h),t.closePath()}function mY(t,e,r,n,i){const s=.3333333333333333,a=n,o=i*s,l=.5522848,c=a/2*l,d=o/2*l,h=e+a,f=r+o,p=e+a/2,m=r+o/2,y=r+(i-o/2),b=r+i;t.beginPath(),t.moveTo(h,m),t.bezierCurveTo(h,m+d,p+c,f,p,f),t.bezierCurveTo(p-c,f,e,m+d,e,m),t.bezierCurveTo(e,m-d,p-c,r,p,r),t.bezierCurveTo(p+c,r,h,m-d,h,m),t.lineTo(h,y),t.bezierCurveTo(h,y+d,p+c,b,p,b),t.bezierCurveTo(p-c,b,e,y+d,e,y),t.lineTo(e,m)}function vY(t,e,r,n,i,s){t.beginPath(),t.moveTo(e,r);const a=s.length,o=n-e,l=i-r,c=l/o;let d=Math.sqrt(o*o+l*l),h=0,f=!0,p=0,m=+s[0];for(;d>=.1;)m=+s[h++%a],m>d&&(m=d),p=Math.sqrt(m*m/(1+c*c)),p=o<0?-p:p,e+=p,r+=c*p,f===!0?t.lineTo(e,r):t.moveTo(e,r),d-=m,f=!f}function rfe(t,e,r,n){t.beginPath();const i=6,s=Math.PI*2/i;t.moveTo(e+n,r);for(let a=1;a<i;a++)t.lineTo(e+n*Math.cos(s*a),r+n*Math.sin(s*a));t.closePath()}const r3={circle:GO,dashedLine:vY,database:mY,diamond:tfe,ellipse:Aj,ellipse_vis:Aj,hexagon:rfe,roundRect:pY,square:Xhe,star:efe,triangle:Jhe,triangleDown:Zhe};function nfe(t){return Object.prototype.hasOwnProperty.call(r3,t)?r3[t]:function(e){for(var r=arguments.length,n=new Array(r>1?r-1:0),i=1;i<r;i++)n[i-1]=arguments[i];CanvasRenderingContext2D.prototype[t].call(e,n)}}var cw={exports:{}},n3;function ife(){return n3||(n3=1,function(t){t.exports=e;function e(n){if(n)return r(n)}function r(n){for(var i in e.prototype)n[i]=e.prototype[i];return n}e.prototype.on=e.prototype.addEventListener=function(n,i){return this._callbacks=this._callbacks||{},(this._callbacks["$"+n]=this._callbacks["$"+n]||[]).push(i),this},e.prototype.once=function(n,i){function s(){this.off(n,s),i.apply(this,arguments)}return s.fn=i,this.on(n,s),this},e.prototype.off=e.prototype.removeListener=e.prototype.removeAllListeners=e.prototype.removeEventListener=function(n,i){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var s=this._callbacks["$"+n];if(!s)return this;if(arguments.length==1)return delete this._callbacks["$"+n],this;for(var a,o=0;o<s.length;o++)if(a=s[o],a===i||a.fn===i){s.splice(o,1);break}return s.length===0&&delete this._callbacks["$"+n],this},e.prototype.emit=function(n){this._callbacks=this._callbacks||{};for(var i=new Array(arguments.length-1),s=this._callbacks["$"+n],a=1;a<arguments.length;a++)i[a-1]=arguments[a];if(s){s=s.slice(0);for(var a=0,o=s.length;a<o;++a)s[a].apply(this,i)}return this},e.prototype.listeners=function(n){return this._callbacks=this._callbacks||{},this._callbacks["$"+n]||[]},e.prototype.hasListeners=function(n){return!!this.listeners(n).length}}(cw)),cw.exports}var sfe=ife(),gY=Oe(sfe),i3={},dw,s3;function Xo(){if(s3)return dw;s3=1;var t=Ai();return dw=Array.isArray||function(r){return t(r)==="Array"},dw}var hw,a3;function yY(){if(a3)return hw;a3=1;var t=TypeError,e=9007199254740991;return hw=function(r){if(r>e)throw t("Maximum allowed index exceeded");return r},hw}var fw,o3;function km(){if(o3)return fw;o3=1;var t=Lt(),e=Gn(),r=wh();return fw=function(n,i,s){t?e.f(n,i,r(0,s)):n[i]=s},fw}var pw,l3;function YO(){if(l3)return pw;l3=1;var t=Xt(),e=t("toStringTag"),r={};return r[e]="z",pw=String(r)==="[object z]",pw}var mw,u3;function nc(){if(u3)return mw;u3=1;var t=YO(),e=dr(),r=Ai(),n=Xt(),i=n("toStringTag"),s=Object,a=r(function(){return arguments}())==="Arguments",o=function(l,c){try{return l[c]}catch{}};return mw=t?r:function(l){var c,d,h;return l===void 0?"Undefined":l===null?"Null":typeof(d=o(c=s(l),i))=="string"?d:a?r(c):(h=r(c))==="Object"&&e(c.callee)?"Arguments":h},mw}var vw,c3;function afe(){if(c3)return vw;c3=1;var t=He(),e=dr(),r=WO(),n=t(Function.toString);return e(r.inspectSource)||(r.inspectSource=function(i){return n(i)}),vw=r.inspectSource,vw}var gw,d3;function bY(){if(d3)return gw;d3=1;var t=He(),e=Be(),r=dr(),n=nc(),i=On(),s=afe(),a=function(){},o=i("Reflect","construct"),l=/^\s*(?:class|function)\b/,c=t(l.exec),d=!l.test(a),h=function(m){if(!r(m))return!1;try{return o(a,[],m),!0}catch{return!1}},f=function(m){if(!r(m))return!1;switch(n(m)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return d||!!c(l,s(m))}catch{return!0}};return f.sham=!0,gw=!o||e(function(){var p;return h(h.call)||!h(Object)||!h(function(){p=!0})||p})?f:h,gw}var yw,h3;function ofe(){if(h3)return yw;h3=1;var t=Xo(),e=bY(),r=hr(),n=Xt(),i=n("species"),s=Array;return yw=function(a){var o;return t(a)&&(o=a.constructor,e(o)&&(o===s||t(o.prototype))?o=void 0:r(o)&&(o=o[i],o===null&&(o=void 0))),o===void 0?s:o},yw}var bw,f3;function QO(){if(f3)return bw;f3=1;var t=ofe();return bw=function(e,r){return new(t(e))(r===0?0:r)},bw}var xw,p3;function jh(){if(p3)return xw;p3=1;var t=Be(),e=Xt(),r=_h(),n=e("species");return xw=function(i){return r>=51||!t(function(){var s=[],a=s.constructor={};return a[n]=function(){return{foo:1}},s[i](Boolean).foo!==1})},xw}var m3;function xY(){if(m3)return i3;m3=1;var t=Se(),e=Be(),r=Xo(),n=hr(),i=Tn(),s=Os(),a=yY(),o=km(),l=QO(),c=jh(),d=Xt(),h=_h(),f=d("isConcatSpreadable"),p=h>=51||!e(function(){var b=[];return b[f]=!1,b.concat()[0]!==b}),m=function(b){if(!n(b))return!1;var g=b[f];return g!==void 0?!!g:r(b)},y=!p||!c("concat");return t({target:"Array",proto:!0,arity:1,forced:y},{concat:function(g){var v=i(this),w=l(v,0),x=0,_,E,N,S,j;for(_=-1,N=arguments.length;_<N;_++)if(j=_===-1?v:arguments[_],m(j))for(S=s(j),a(x+S),E=0;E<S;E++,x++)E in j&&o(w,x,j[E]);else a(x+1),o(w,x++,j);return w.length=x,w}}),i3}var v3={},g3={},ww,y3;function Yn(){if(y3)return ww;y3=1;var t=nc(),e=String;return ww=function(r){if(t(r)==="Symbol")throw new TypeError("Cannot convert a Symbol value to a string");return e(r)},ww}var _w={},b3;function XO(){if(b3)return _w;b3=1;var t=Lt(),e=dY(),r=Gn(),n=Fi(),i=gi(),s=Nh();return _w.f=t&&!e?Object.defineProperties:function(o,l){n(o);for(var c=i(l),d=s(l),h=d.length,f=0,p;h>f;)r.f(o,p=d[f++],c[p]);return o},_w}var Sw,x3;function lfe(){if(x3)return Sw;x3=1;var t=On();return Sw=t("document","documentElement"),Sw}var Ew,w3;function Dm(){if(w3)return Ew;w3=1;var t=Zu(),e=Tm(),r=t("keys");return Ew=function(n){return r[n]||(r[n]=e(n))},Ew}var Nw,_3;function Ch(){if(_3)return Nw;_3=1;var t=Fi(),e=XO(),r=KO(),n=Eh(),i=lfe(),s=uY(),a=Dm(),o=">",l="<",c="prototype",d="script",h=a("IE_PROTO"),f=function(){},p=function(v){return l+d+o+v+l+"/"+d+o},m=function(v){v.write(p("")),v.close();var w=v.parentWindow.Object;return v=null,w},y=function(){var v=s("iframe"),w="java"+d+":",x;return v.style.display="none",i.appendChild(v),v.src=String(w),x=v.contentWindow.document,x.open(),x.write(p("document.F=Object")),x.close(),x.F},b,g=function(){try{b=new ActiveXObject("htmlfile")}catch{}g=typeof document<"u"?document.domain&&b?m(b):y():m(b);for(var v=r.length;v--;)delete g[c][r[v]];return g()};return n[h]=!0,Nw=Object.create||function(w,x){var _;return w!==null?(f[c]=t(w),_=new f,f[c]=null,_[h]=w):_=g(),x===void 0?_:e.f(_,x)},Nw}var jw={},S3;function Mm(){if(S3)return jw;S3=1;var t=fY(),e=KO(),r=e.concat("length","prototype");return jw.f=Object.getOwnPropertyNames||function(i){return t(i,r)},jw}var Cw={},E3;function JO(){if(E3)return Cw;E3=1;var t=Ai(),e=gi(),r=Mm().f,n=rc(),i=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],s=function(a){try{return r(a)}catch{return n(i)}};return Cw.f=function(o){return i&&t(o)==="Window"?s(o):r(e(o))},Cw}var Ow,N3;function Oh(){if(N3)return Ow;N3=1;var t=ec();return Ow=function(e,r,n,i){return i&&i.enumerable?e[r]=n:t(e,r,n),e},Ow}var Tw,j3;function ZO(){if(j3)return Tw;j3=1;var t=Gn();return Tw=function(e,r,n){return t.f(e,r,n)},Tw}var Pw={},C3;function qm(){if(C3)return Pw;C3=1;var t=Xt();return Pw.f=t,Pw}var Iw,O3;function Ot(){if(O3)return Iw;O3=1;var t=nt(),e=xr(),r=qm(),n=Gn().f;return Iw=function(i){var s=t.Symbol||(t.Symbol={});e(s,i)||n(s,i,{value:r.f(i)})},Iw}var Rw,T3;function wY(){if(T3)return Rw;T3=1;var t=vn(),e=On(),r=Xt(),n=Oh();return Rw=function(){var i=e("Symbol"),s=i&&i.prototype,a=s&&s.valueOf,o=r("toPrimitive");s&&!s[o]&&n(s,o,function(l){return t(a,this)},{arity:1})},Rw}var $w,P3;function ufe(){if(P3)return $w;P3=1;var t=YO(),e=nc();return $w=t?{}.toString:function(){return"[object "+e(this)+"]"},$w}var kw,I3;function Jo(){if(I3)return kw;I3=1;var t=YO(),e=Gn().f,r=ec(),n=xr(),i=ufe(),s=Xt(),a=s("toStringTag");return kw=function(o,l,c,d){var h=c?o:o&&o.prototype;h&&(n(h,a)||e(h,a,{configurable:!0,value:l}),d&&!t&&r(h,"toString",i))},kw}var Dw,R3;function _Y(){if(R3)return Dw;R3=1;var t=_t(),e=dr(),r=t.WeakMap;return Dw=e(r)&&/native code/.test(String(r)),Dw}var Mw,$3;function Zo(){if($3)return Mw;$3=1;var t=_Y(),e=_t(),r=hr(),n=ec(),i=xr(),s=WO(),a=Dm(),o=Eh(),l="Object already initialized",c=e.TypeError,d=e.WeakMap,h,f,p,m=function(v){return p(v)?f(v):h(v,{})},y=function(v){return function(w){var x;if(!r(w)||(x=f(w)).type!==v)throw new c("Incompatible receiver, "+v+" required");return x}};if(t||s.state){var b=s.state||(s.state=new d);b.get=b.get,b.has=b.has,b.set=b.set,h=function(v,w){if(b.has(v))throw new c(l);return w.facade=v,b.set(v,w),w},f=function(v){return b.get(v)||{}},p=function(v){return b.has(v)}}else{var g=a("state");o[g]=!0,h=function(v,w){if(i(v,g))throw new c(l);return w.facade=v,n(v,g,w),w},f=function(v){return i(v,g)?v[g]:{}},p=function(v){return i(v,g)}}return Mw={set:h,get:f,has:p,enforce:m,getterFor:y},Mw}var qw,k3;function Ra(){if(k3)return qw;k3=1;var t=Im(),e=He(),r=Om(),n=Tn(),i=Os(),s=QO(),a=e([].push),o=function(l){var c=l===1,d=l===2,h=l===3,f=l===4,p=l===6,m=l===7,y=l===5||p;return function(b,g,v,w){for(var x=n(b),_=r(x),E=i(_),N=t(g,v),S=0,j=w||s,C=c?j(b,E):d||m?j(b,0):void 0,O,T;E>S;S++)if((y||S in _)&&(O=_[S],T=N(O,S,x),l))if(c)C[S]=T;else if(T)switch(l){case 3:return!0;case 5:return O;case 6:return S;case 2:a(C,O)}else switch(l){case 4:return!1;case 7:a(C,O)}return p?-1:h||f?f:C}};return qw={forEach:o(0),map:o(1),filter:o(2),some:o(3),every:o(4),find:o(5),findIndex:o(6),filterReject:o(7)},qw}var D3;function cfe(){if(D3)return g3;D3=1;var t=Se(),e=_t(),r=vn(),n=He(),i=Ju(),s=Lt(),a=Qu(),o=Be(),l=xr(),c=Qt(),d=Fi(),h=gi(),f=HO(),p=Yn(),m=wh(),y=Ch(),b=Nh(),g=Mm(),v=JO(),w=$m(),x=Pm(),_=Gn(),E=XO(),N=Cm(),S=Oh(),j=ZO(),C=Zu(),O=Dm(),T=Eh(),P=Tm(),D=Xt(),F=qm(),Q=Ot(),H=wY(),L=Jo(),V=Zo(),W=Ra().forEach,z=O("hidden"),K="Symbol",fe="prototype",xe=V.set,Re=V.getterFor(K),ge=Object[fe],Ee=e.Symbol,ke=Ee&&Ee[fe],it=e.RangeError,rr=e.TypeError,bt=e.QObject,fr=x.f,ut=_.f,Pr=v.f,Ir=N.f,_r=n([].push),st=C("symbols"),Bt=C("op-symbols"),Rr=C("wks"),$r=!bt||!bt[fe]||!bt[fe].findChild,$=function(ve,J,le){var ae=fr(ge,J);ae&&delete ge[J],ut(ve,J,le),ae&&ve!==ge&&ut(ge,J,ae)},M=s&&o(function(){return y(ut({},"a",{get:function(){return ut(this,"a",{value:7}).a}})).a!==7})?$:ut,A=function(ve,J){var le=st[ve]=y(ke);return xe(le,{type:K,tag:ve,description:J}),s||(le.description=J),le},se=function(J,le,ae){J===ge&&se(Bt,le,ae),d(J);var we=f(le);return d(ae),l(st,we)?(ae.enumerable?(l(J,z)&&J[z][we]&&(J[z][we]=!1),ae=y(ae,{enumerable:m(0,!1)})):(l(J,z)||ut(J,z,m(1,y(null))),J[z][we]=!0),M(J,we,ae)):ut(J,we,ae)},re=function(J,le){d(J);var ae=h(le),we=b(ae).concat(ze(ae));return W(we,function(De){(!s||r(U,ae,De))&&se(J,De,ae[De])}),J},X=function(J,le){return le===void 0?y(J):re(y(J),le)},U=function(J){var le=f(J),ae=r(Ir,this,le);return this===ge&&l(st,le)&&!l(Bt,le)?!1:ae||!l(this,le)||!l(st,le)||l(this,z)&&this[z][le]?ae:!0},oe=function(J,le){var ae=h(J),we=f(le);if(!(ae===ge&&l(st,we)&&!l(Bt,we))){var De=fr(ae,we);return De&&l(st,we)&&!(l(ae,z)&&ae[z][we])&&(De.enumerable=!0),De}},de=function(J){var le=Pr(h(J)),ae=[];return W(le,function(we){!l(st,we)&&!l(T,we)&&_r(ae,we)}),ae},ze=function(ve){var J=ve===ge,le=Pr(J?Bt:h(ve)),ae=[];return W(le,function(we){l(st,we)&&(!J||l(ge,we))&&_r(ae,st[we])}),ae};return a||(Ee=function(){if(c(ke,this))throw new rr("Symbol is not a constructor");var J=!arguments.length||arguments[0]===void 0?void 0:p(arguments[0]),le=P(J),ae=function(we){var De=this===void 0?e:this;De===ge&&r(ae,Bt,we),l(De,z)&&l(De[z],le)&&(De[z][le]=!1);var Yr=m(1,we);try{M(De,le,Yr)}catch(Pn){if(!(Pn instanceof it))throw Pn;$(De,le,Yr)}};return s&&$r&&M(ge,le,{configurable:!0,set:ae}),A(le,J)},ke=Ee[fe],S(ke,"toString",function(){return Re(this).tag}),S(Ee,"withoutSetter",function(ve){return A(P(ve),ve)}),N.f=U,_.f=se,E.f=re,x.f=oe,g.f=v.f=de,w.f=ze,F.f=function(ve){return A(D(ve),ve)},s&&(j(ke,"description",{configurable:!0,get:function(){return Re(this).description}}),i||S(ge,"propertyIsEnumerable",U,{unsafe:!0}))),t({global:!0,constructor:!0,wrap:!0,forced:!a,sham:!a},{Symbol:Ee}),W(b(Rr),function(ve){Q(ve)}),t({target:K,stat:!0,forced:!a},{useSetter:function(){$r=!0},useSimple:function(){$r=!1}}),t({target:"Object",stat:!0,forced:!a,sham:!s},{create:X,defineProperty:se,defineProperties:re,getOwnPropertyDescriptor:oe}),t({target:"Object",stat:!0,forced:!a},{getOwnPropertyNames:de}),H(),L(Ee,K),T[z]=!0,g3}var M3={},Aw,q3;function SY(){if(q3)return Aw;q3=1;var t=Qu();return Aw=t&&!!Symbol.for&&!!Symbol.keyFor,Aw}var A3;function dfe(){if(A3)return M3;A3=1;var t=Se(),e=On(),r=xr(),n=Yn(),i=Zu(),s=SY(),a=i("string-to-symbol-registry"),o=i("symbol-to-string-registry");return t({target:"Symbol",stat:!0,forced:!s},{for:function(l){var c=n(l);if(r(a,c))return a[c];var d=e("Symbol")(c);return a[c]=d,o[d]=c,d}}),M3}var F3={},L3;function hfe(){if(L3)return F3;L3=1;var t=Se(),e=xr(),r=Sh(),n=Xu(),i=Zu(),s=SY(),a=i("symbol-to-string-registry");return t({target:"Symbol",stat:!0,forced:!s},{keyFor:function(l){if(!r(l))throw new TypeError(n(l)+" is not a symbol");if(e(a,l))return a[l]}}),F3}var B3={},Fw,z3;function ffe(){if(z3)return Fw;z3=1;var t=He(),e=Xo(),r=dr(),n=Ai(),i=Yn(),s=t([].push);return Fw=function(a){if(r(a))return a;if(e(a)){for(var o=a.length,l=[],c=0;c<o;c++){var d=a[c];typeof d=="string"?s(l,d):(typeof d=="number"||n(d)==="Number"||n(d)==="String")&&s(l,i(d))}var h=l.length,f=!0;return function(p,m){if(f)return f=!1,m;if(e(this))return m;for(var y=0;y<h;y++)if(l[y]===p)return m}}},Fw}var U3;function EY(){if(U3)return B3;U3=1;var t=Se(),e=On(),r=jm(),n=vn(),i=He(),s=Be(),a=dr(),o=Sh(),l=rc(),c=ffe(),d=Qu(),h=String,f=e("JSON","stringify"),p=i(/./.exec),m=i("".charAt),y=i("".charCodeAt),b=i("".replace),g=i(1.1.toString),v=/[\uD800-\uDFFF]/g,w=/^[\uD800-\uDBFF]$/,x=/^[\uDC00-\uDFFF]$/,_=!d||s(function(){var j=e("Symbol")("stringify detection");return f([j])!=="[null]"||f({a:j})!=="{}"||f(Object(j))!=="{}"}),E=s(function(){return f("\uDF06\uD834")!=='"\\udf06\\ud834"'||f("\uDEAD")!=='"\\udead"'}),N=function(j,C){var O=l(arguments),T=c(C);if(!(!a(T)&&(j===void 0||o(j))))return O[1]=function(P,D){if(a(T)&&(D=n(T,this,h(P),D)),!o(D))return D},r(f,null,O)},S=function(j,C,O){var T=m(O,C-1),P=m(O,C+1);return p(w,j)&&!p(x,P)||p(x,j)&&!p(w,T)?"\\u"+g(y(j,0),16):j};return f&&t({target:"JSON",stat:!0,arity:3,forced:_||E},{stringify:function(C,O,T){var P=l(arguments),D=r(_?N:f,null,P);return E&&typeof D=="string"?b(D,v,S):D}}),B3}var W3={},H3;function pfe(){if(H3)return W3;H3=1;var t=Se(),e=Qu(),r=Be(),n=$m(),i=Tn(),s=!e||r(function(){n.f(1)});return t({target:"Object",stat:!0,forced:s},{getOwnPropertySymbols:function(o){var l=n.f;return l?l(i(o)):[]}}),W3}var V3;function NY(){return V3||(V3=1,cfe(),dfe(),hfe(),EY(),pfe()),v3}var K3={},G3;function jY(){if(G3)return K3;G3=1;var t=Ot();return t("asyncDispose"),K3}var Y3={},Q3;function mfe(){if(Q3)return Y3;Q3=1;var t=Ot();return t("asyncIterator"),Y3}var X3={},J3;function CY(){if(J3)return X3;J3=1;var t=Ot();return t("dispose"),X3}var Z3={},eL;function vfe(){if(eL)return Z3;eL=1;var t=Ot();return t("hasInstance"),Z3}var tL={},rL;function gfe(){if(rL)return tL;rL=1;var t=Ot();return t("isConcatSpreadable"),tL}var nL={},iL;function OY(){if(iL)return nL;iL=1;var t=Ot();return t("iterator"),nL}var sL={},aL;function yfe(){if(aL)return sL;aL=1;var t=Ot();return t("match"),sL}var oL={},lL;function bfe(){if(lL)return oL;lL=1;var t=Ot();return t("matchAll"),oL}var uL={},cL;function xfe(){if(cL)return uL;cL=1;var t=Ot();return t("replace"),uL}var dL={},hL;function wfe(){if(hL)return dL;hL=1;var t=Ot();return t("search"),dL}var fL={},pL;function _fe(){if(pL)return fL;pL=1;var t=Ot();return t("species"),fL}var mL={},vL;function Sfe(){if(vL)return mL;vL=1;var t=Ot();return t("split"),mL}var gL={},yL;function TY(){if(yL)return gL;yL=1;var t=Ot(),e=wY();return t("toPrimitive"),e(),gL}var bL={},xL;function Efe(){if(xL)return bL;xL=1;var t=On(),e=Ot(),r=Jo();return e("toStringTag"),r(t("Symbol"),"Symbol"),bL}var wL={},_L;function Nfe(){if(_L)return wL;_L=1;var t=Ot();return t("unscopables"),wL}var SL={},EL;function jfe(){if(EL)return SL;EL=1;var t=_t(),e=Jo();return e(t.JSON,"JSON",!0),SL}var Lw,NL;function Cfe(){if(NL)return Lw;NL=1,xY(),NY(),jY(),mfe(),CY(),vfe(),gfe(),OY(),yfe(),bfe(),xfe(),wfe(),_fe(),Sfe(),TY(),Efe(),Nfe(),jfe();var t=nt();return Lw=t.Symbol,Lw}var jL={},Bw,CL;function eT(){return CL||(CL=1,Bw=function(){}),Bw}var zw,OL;function ic(){return OL||(OL=1,zw={}),zw}var Uw,TL;function Ofe(){if(TL)return Uw;TL=1;var t=Lt(),e=xr(),r=Function.prototype,n=t&&Object.getOwnPropertyDescriptor,i=e(r,"name"),s=i&&(function(){}).name==="something",a=i&&(!t||t&&n(r,"name").configurable);return Uw={EXISTS:i,PROPER:s,CONFIGURABLE:a},Uw}var Ww,PL;function PY(){if(PL)return Ww;PL=1;var t=Be();return Ww=!t(function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype}),Ww}var Hw,IL;function Am(){if(IL)return Hw;IL=1;var t=xr(),e=dr(),r=Tn(),n=Dm(),i=PY(),s=n("IE_PROTO"),a=Object,o=a.prototype;return Hw=i?a.getPrototypeOf:function(l){var c=r(l);if(t(c,s))return c[s];var d=c.constructor;return e(d)&&c instanceof d?d.prototype:c instanceof a?o:null},Hw}var Vw,RL;function IY(){if(RL)return Vw;RL=1;var t=Be(),e=dr(),r=hr(),n=Ch(),i=Am(),s=Oh(),a=Xt(),o=Ju(),l=a("iterator"),c=!1,d,h,f;[].keys&&(f=[].keys(),"next"in f?(h=i(i(f)),h!==Object.prototype&&(d=h)):c=!0);var p=!r(d)||t(function(){var m={};return d[l].call(m)!==m});return p?d={}:o&&(d=n(d)),e(d[l])||s(d,l,function(){return this}),Vw={IteratorPrototype:d,BUGGY_SAFARI_ITERATORS:c},Vw}var Kw,$L;function Tfe(){if($L)return Kw;$L=1;var t=IY().IteratorPrototype,e=Ch(),r=wh(),n=Jo(),i=ic(),s=function(){return this};return Kw=function(a,o,l,c){var d=o+" Iterator";return a.prototype=e(t,{next:r(+!c,l)}),n(a,d,!1,!0),i[d]=s,a},Kw}var Gw,kL;function Pfe(){if(kL)return Gw;kL=1;var t=He(),e=Cs();return Gw=function(r,n,i){try{return t(e(Object.getOwnPropertyDescriptor(r,n)[i]))}catch{}},Gw}var Yw,DL;function Ife(){if(DL)return Yw;DL=1;var t=hr();return Yw=function(e){return t(e)||e===null},Yw}var Qw,ML;function Rfe(){if(ML)return Qw;ML=1;var t=Ife(),e=String,r=TypeError;return Qw=function(n){if(t(n))return n;throw new r("Can't set "+e(n)+" as a prototype")},Qw}var Xw,qL;function $fe(){if(qL)return Xw;qL=1;var t=Pfe(),e=hr(),r=js(),n=Rfe();return Xw=Object.setPrototypeOf||("__proto__"in{}?function(){var i=!1,s={},a;try{a=t(Object.prototype,"__proto__","set"),a(s,[]),i=s instanceof Array}catch{}return function(l,c){return r(l),n(c),e(l)&&(i?a(l,c):l.__proto__=c),l}}():void 0),Xw}var Jw,AL;function tT(){if(AL)return Jw;AL=1;var t=Se(),e=vn(),r=Ju(),n=Ofe(),i=dr(),s=Tfe(),a=Am(),o=$fe(),l=Jo(),c=ec(),d=Oh(),h=Xt(),f=ic(),p=IY(),m=n.PROPER,y=n.CONFIGURABLE,b=p.IteratorPrototype,g=p.BUGGY_SAFARI_ITERATORS,v=h("iterator"),w="keys",x="values",_="entries",E=function(){return this};return Jw=function(N,S,j,C,O,T,P){s(j,S,C);var D=function(xe){if(xe===O&&V)return V;if(!g&&xe&&xe in H)return H[xe];switch(xe){case w:return function(){return new j(this,xe)};case x:return function(){return new j(this,xe)};case _:return function(){return new j(this,xe)}}return function(){return new j(this)}},F=S+" Iterator",Q=!1,H=N.prototype,L=H[v]||H["@@iterator"]||O&&H[O],V=!g&&L||D(O),W=S==="Array"&&H.entries||L,z,K,fe;if(W&&(z=a(W.call(new N)),z!==Object.prototype&&z.next&&(!r&&a(z)!==b&&(o?o(z,b):i(z[v])||d(z,v,E)),l(z,F,!0,!0),r&&(f[F]=E))),m&&O===x&&L&&L.name!==x&&(!r&&y?c(H,"name",x):(Q=!0,V=function(){return e(L,this)})),O)if(K={values:D(x),keys:T?V:D(w),entries:D(_)},P)for(fe in K)(g||Q||!(fe in H))&&d(H,fe,K[fe]);else t({target:S,proto:!0,forced:g||Q},K);return(!r||P)&&H[v]!==V&&d(H,v,V,{name:O}),f[S]=V,K},Jw}var Zw,FL;function rT(){return FL||(FL=1,Zw=function(t,e){return{value:t,done:e}}),Zw}var e_,LL;function sc(){if(LL)return e_;LL=1;var t=gi(),e=eT(),r=ic(),n=Zo(),i=Gn().f,s=tT(),a=rT(),o=Ju(),l=Lt(),c="Array Iterator",d=n.set,h=n.getterFor(c);e_=s(Array,"Array",function(p,m){d(this,{type:c,target:t(p),index:0,kind:m})},function(){var p=h(this),m=p.target,y=p.index++;if(!m||y>=m.length)return p.target=null,a(void 0,!0);switch(p.kind){case"keys":return a(y,!1);case"values":return a(m[y],!1)}return a([y,m[y]],!1)},"values");var f=r.Arguments=r.Array;if(e("keys"),e("values"),e("entries"),!o&&l&&f.name!=="values")try{i(f,"name",{value:"values"})}catch{}return e_}var t_,BL;function kfe(){return BL||(BL=1,t_={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}),t_}var zL;function ac(){if(zL)return jL;zL=1,sc();var t=kfe(),e=_t(),r=Jo(),n=ic();for(var i in t)r(e[i],i),n[i]=n.Array;return jL}var r_,UL;function RY(){if(UL)return r_;UL=1;var t=Cfe();return ac(),r_=t,r_}var n_,WL;function Dfe(){return WL||(WL=1,n_=RY()),n_}var Mfe=Dfe(),qfe=Oe(Mfe),HL={},VL;function Afe(){if(VL)return HL;VL=1;var t=Se(),e=Xo(),r=bY(),n=hr(),i=Rm(),s=Os(),a=gi(),o=km(),l=Xt(),c=jh(),d=rc(),h=c("slice"),f=l("species"),p=Array,m=Math.max;return t({target:"Array",proto:!0,forced:!h},{slice:function(b,g){var v=a(this),w=s(v),x=i(b,w),_=i(g===void 0?w:g,w),E,N,S;if(e(v)&&(E=v.constructor,r(E)&&(E===p||e(E.prototype))?E=void 0:n(E)&&(E=E[f],E===null&&(E=void 0)),E===p||E===void 0))return d(v,x,_);for(N=new(E===void 0?p:E)(m(_-x,0)),S=0;x<_;x++,S++)x in v&&o(N,S,v[x]);return N.length=S,N}}),HL}var i_,KL;function Ffe(){if(KL)return i_;KL=1,Afe();var t=wr();return i_=t("Array","slice"),i_}var s_,GL;function Lfe(){if(GL)return s_;GL=1;var t=Qt(),e=Ffe(),r=Array.prototype;return s_=function(n){var i=n.slice;return n===r||t(r,n)&&i===r.slice?e:i},s_}var a_,YL;function Bfe(){if(YL)return a_;YL=1;var t=Lfe();return a_=t,a_}var o_,QL;function zfe(){return QL||(QL=1,o_=Bfe()),o_}var Ufe=zfe(),Ci=Oe(Ufe),l_,XL;function Wfe(){if(XL)return l_;XL=1;var t=On(),e=He(),r=Mm(),n=$m(),i=Fi(),s=e([].concat);return l_=t("Reflect","ownKeys")||function(o){var l=r.f(i(o)),c=n.f;return c?s(l,c(o)):l},l_}var JL={},ZL;function Hfe(){if(ZL)return JL;ZL=1;var t=Se(),e=Xo();return t({target:"Array",stat:!0},{isArray:e}),JL}var u_,e6;function Vfe(){if(e6)return u_;e6=1,Hfe();var t=nt();return u_=t.Array.isArray,u_}var c_,t6;function Kfe(){if(t6)return c_;t6=1;var t=Vfe();return c_=t,c_}var d_,r6;function Gfe(){return r6||(r6=1,d_=Kfe()),d_}var Yfe=Gfe(),Dt=Oe(Yfe),n6={},i6;function Qfe(){if(i6)return n6;i6=1;var t=Se(),e=Ra().map,r=jh(),n=r("map");return t({target:"Array",proto:!0,forced:!n},{map:function(s){return e(this,s,arguments.length>1?arguments[1]:void 0)}}),n6}var h_,s6;function Xfe(){if(s6)return h_;s6=1,Qfe();var t=wr();return h_=t("Array","map"),h_}var f_,a6;function Jfe(){if(a6)return f_;a6=1;var t=Qt(),e=Xfe(),r=Array.prototype;return f_=function(n){var i=n.map;return n===r||t(r,n)&&i===r.map?e:i},f_}var p_,o6;function Zfe(){if(o6)return p_;o6=1;var t=Jfe();return p_=t,p_}var m_,l6;function epe(){return l6||(l6=1,m_=Zfe()),m_}var tpe=epe(),Su=Oe(tpe),u6={},c6;function rpe(){if(c6)return u6;c6=1;var t=Se(),e=Tn(),r=Nh(),n=Be(),i=n(function(){r(1)});return t({target:"Object",stat:!0,forced:i},{keys:function(a){return r(e(a))}}),u6}var v_,d6;function npe(){if(d6)return v_;d6=1,rpe();var t=nt();return v_=t.Object.keys,v_}var g_,h6;function ipe(){if(h6)return g_;h6=1;var t=npe();return g_=t,g_}var y_,f6;function spe(){return f6||(f6=1,y_=ipe()),y_}var ape=spe(),Rt=Oe(ape),p6={},m6;function ope(){if(m6)return p6;m6=1;var t=Se(),e=He(),r=Date,n=e(r.prototype.getTime);return t({target:"Date",stat:!0},{now:function(){return n(new r)}}),p6}var b_,v6;function lpe(){if(v6)return b_;v6=1,ope();var t=nt();return b_=t.Date.now,b_}var x_,g6;function upe(){if(g6)return x_;g6=1;var t=lpe();return x_=t,x_}var w_,y6;function cpe(){return y6||(y6=1,w_=upe()),w_}var dpe=cpe(),Pp=Oe(dpe),b6={},__,x6;function oc(){if(x6)return __;x6=1;var t=Be();return __=function(e,r){var n=[][e];return!!n&&t(function(){n.call(null,r||function(){return 1},1)})},__}var S_,w6;function hpe(){if(w6)return S_;w6=1;var t=Ra().forEach,e=oc(),r=e("forEach");return S_=r?[].forEach:function(i){return t(this,i,arguments.length>1?arguments[1]:void 0)},S_}var _6;function fpe(){if(_6)return b6;_6=1;var t=Se(),e=hpe();return t({target:"Array",proto:!0,forced:[].forEach!==e},{forEach:e}),b6}var E_,S6;function ppe(){if(S6)return E_;S6=1,fpe();var t=wr();return E_=t("Array","forEach"),E_}var N_,E6;function mpe(){if(E6)return N_;E6=1;var t=ppe();return N_=t,N_}var j_,N6;function vpe(){if(N6)return j_;N6=1;var t=nc(),e=xr(),r=Qt(),n=mpe(),i=Array.prototype,s={DOMTokenList:!0,NodeList:!0};return j_=function(a){var o=a.forEach;return a===i||r(i,a)&&o===i.forEach||e(s,t(a))?n:o},j_}var C_,j6;function gpe(){return j6||(j6=1,C_=vpe()),C_}var ype=gpe(),ot=Oe(ype),C6={},O6;function bpe(){if(O6)return C6;O6=1;var t=Se(),e=He(),r=Xo(),n=e([].reverse),i=[1,2];return t({target:"Array",proto:!0,forced:String(i)===String(i.reverse())},{reverse:function(){return r(this)&&(this.length=this.length),n(this)}}),C6}var O_,T6;function xpe(){if(T6)return O_;T6=1,bpe();var t=wr();return O_=t("Array","reverse"),O_}var T_,P6;function wpe(){if(P6)return T_;P6=1;var t=Qt(),e=xpe(),r=Array.prototype;return T_=function(n){var i=n.reverse;return n===r||t(r,n)&&i===r.reverse?e:i},T_}var P_,I6;function _pe(){if(I6)return P_;I6=1;var t=wpe();return P_=t,P_}var I_,R6;function Spe(){return R6||(R6=1,I_=_pe()),I_}var Epe=Spe(),vo=Oe(Epe),$6={},R_,k6;function Npe(){if(k6)return R_;k6=1;var t=Lt(),e=Xo(),r=TypeError,n=Object.getOwnPropertyDescriptor,i=t&&!function(){if(this!==void 0)return!0;try{Object.defineProperty([],"length",{writable:!1}).length=1}catch(s){return s instanceof TypeError}}();return R_=i?function(s,a){if(e(s)&&!n(s,"length").writable)throw new r("Cannot set read only .length");return s.length=a}:function(s,a){return s.length=a},R_}var $_,D6;function $Y(){if(D6)return $_;D6=1;var t=Xu(),e=TypeError;return $_=function(r,n){if(!delete r[n])throw new e("Cannot delete property "+t(n)+" of "+t(r))},$_}var M6;function jpe(){if(M6)return $6;M6=1;var t=Se(),e=Tn(),r=Rm(),n=tc(),i=Os(),s=Npe(),a=yY(),o=QO(),l=km(),c=$Y(),d=jh(),h=d("splice"),f=Math.max,p=Math.min;return t({target:"Array",proto:!0,forced:!h},{splice:function(y,b){var g=e(this),v=i(g),w=r(y,v),x=arguments.length,_,E,N,S,j,C;for(x===0?_=E=0:x===1?(_=0,E=v-w):(_=x-2,E=p(f(n(b),0),v-w)),a(v+_-E),N=o(g,E),S=0;S<E;S++)j=w+S,j in g&&l(N,S,g[j]);if(N.length=E,_<E){for(S=w;S<v-E;S++)j=S+E,C=S+_,j in g?g[C]=g[j]:c(g,C);for(S=v;S>v-E+_;S--)c(g,S-1)}else if(_>E)for(S=v-E;S>w;S--)j=S+E-1,C=S+_-1,j in g?g[C]=g[j]:c(g,C);for(S=0;S<_;S++)g[S+w]=arguments[S+2];return s(g,v-E+_),N}}),$6}var k_,q6;function Cpe(){if(q6)return k_;q6=1,jpe();var t=wr();return k_=t("Array","splice"),k_}var D_,A6;function Ope(){if(A6)return D_;A6=1;var t=Qt(),e=Cpe(),r=Array.prototype;return D_=function(n){var i=n.splice;return n===r||t(r,n)&&i===r.splice?e:i},D_}var M_,F6;function Tpe(){if(F6)return M_;F6=1;var t=Ope();return M_=t,M_}var q_,L6;function Ppe(){return L6||(L6=1,q_=Tpe()),q_}var Ipe=Ppe(),os=Oe(Ipe),B6={},z6;function Rpe(){if(z6)return B6;z6=1;var t=Se(),e=VO().includes,r=Be(),n=eT(),i=r(function(){return!Array(1).includes()});return t({target:"Array",proto:!0,forced:i},{includes:function(a){return e(this,a,arguments.length>1?arguments[1]:void 0)}}),n("includes"),B6}var A_,U6;function $pe(){if(U6)return A_;U6=1,Rpe();var t=wr();return A_=t("Array","includes"),A_}var W6={},F_,H6;function kpe(){if(H6)return F_;H6=1;var t=hr(),e=Ai(),r=Xt(),n=r("match");return F_=function(i){var s;return t(i)&&((s=i[n])!==void 0?!!s:e(i)==="RegExp")},F_}var L_,V6;function Dpe(){if(V6)return L_;V6=1;var t=kpe(),e=TypeError;return L_=function(r){if(t(r))throw new e("The method doesn't accept regular expressions");return r},L_}var B_,K6;function Mpe(){if(K6)return B_;K6=1;var t=Xt(),e=t("match");return B_=function(r){var n=/./;try{"/./"[r](n)}catch{try{return n[e]=!1,"/./"[r](n)}catch{}}return!1},B_}var G6;function qpe(){if(G6)return W6;G6=1;var t=Se(),e=He(),r=Dpe(),n=js(),i=Yn(),s=Mpe(),a=e("".indexOf);return t({target:"String",proto:!0,forced:!s("includes")},{includes:function(l){return!!~a(i(n(this)),i(r(l)),arguments.length>1?arguments[1]:void 0)}}),W6}var z_,Y6;function Ape(){if(Y6)return z_;Y6=1,qpe();var t=wr();return z_=t("String","includes"),z_}var U_,Q6;function Fpe(){if(Q6)return U_;Q6=1;var t=Qt(),e=$pe(),r=Ape(),n=Array.prototype,i=String.prototype;return U_=function(s){var a=s.includes;return s===n||t(n,s)&&a===n.includes?e:typeof s=="string"||s===i||t(i,s)&&a===i.includes?r:a},U_}var W_,X6;function Lpe(){if(X6)return W_;X6=1;var t=Fpe();return W_=t,W_}var H_,J6;function Bpe(){return J6||(J6=1,H_=Lpe()),H_}var zpe=Bpe(),fa=Oe(zpe),Z6={},eB;function Upe(){if(eB)return Z6;eB=1;var t=Se(),e=Be(),r=Tn(),n=Am(),i=PY(),s=e(function(){n(1)});return t({target:"Object",stat:!0,forced:s,sham:!i},{getPrototypeOf:function(o){return n(r(o))}}),Z6}var V_,tB;function Wpe(){if(tB)return V_;tB=1,Upe();var t=nt();return V_=t.Object.getPrototypeOf,V_}var K_,rB;function Hpe(){if(rB)return K_;rB=1;var t=Wpe();return K_=t,K_}var G_,nB;function Vpe(){return nB||(nB=1,G_=Hpe()),G_}var Kpe=Vpe(),iB=Oe(Kpe),Y_,sB;function Gpe(){if(sB)return Y_;sB=1,xY();var t=wr();return Y_=t("Array","concat"),Y_}var Q_,aB;function Ype(){if(aB)return Q_;aB=1;var t=Qt(),e=Gpe(),r=Array.prototype;return Q_=function(n){var i=n.concat;return n===r||t(r,n)&&i===r.concat?e:i},Q_}var X_,oB;function Qpe(){if(oB)return X_;oB=1;var t=Ype();return X_=t,X_}var J_,lB;function Xpe(){return lB||(lB=1,J_=Qpe()),J_}var Jpe=Xpe(),Zpe=Oe(Jpe),uB={},cB;function eme(){if(cB)return uB;cB=1;var t=Se(),e=Ra().filter,r=jh(),n=r("filter");return t({target:"Array",proto:!0,forced:!n},{filter:function(s){return e(this,s,arguments.length>1?arguments[1]:void 0)}}),uB}var Z_,dB;function tme(){if(dB)return Z_;dB=1,eme();var t=wr();return Z_=t("Array","filter"),Z_}var eS,hB;function rme(){if(hB)return eS;hB=1;var t=Qt(),e=tme(),r=Array.prototype;return eS=function(n){var i=n.filter;return n===r||t(r,n)&&i===r.filter?e:i},eS}var tS,fB;function nme(){if(fB)return tS;fB=1;var t=rme();return tS=t,tS}var rS,pB;function ime(){return pB||(pB=1,rS=nme()),rS}var sme=ime(),rn=Oe(sme),mB={},nS,vB;function ame(){if(vB)return nS;vB=1;var t=Lt(),e=Be(),r=He(),n=Am(),i=Nh(),s=gi(),a=Cm().f,o=r(a),l=r([].push),c=t&&e(function(){var h=Object.create(null);return h[2]=2,!o(h,2)}),d=function(h){return function(f){for(var p=s(f),m=i(p),y=c&&n(p)===null,b=m.length,g=0,v=[],w;b>g;)w=m[g++],(!t||(y?w in p:o(p,w)))&&l(v,h?[w,p[w]]:p[w]);return v}};return nS={entries:d(!0),values:d(!1)},nS}var gB;function ome(){if(gB)return mB;gB=1;var t=Se(),e=ame().values;return t({target:"Object",stat:!0},{values:function(n){return e(n)}}),mB}var iS,yB;function lme(){if(yB)return iS;yB=1,ome();var t=nt();return iS=t.Object.values,iS}var sS,bB;function ume(){if(bB)return sS;bB=1;var t=lme();return sS=t,sS}var aS,xB;function cme(){return xB||(xB=1,aS=ume()),aS}var dme=cme(),hme=Oe(dme),wB={},oS,_B;function nT(){return _B||(_B=1,oS=`	
\v\f\r \u2028\u2029\uFEFF`),oS}var lS,SB;function kY(){if(SB)return lS;SB=1;var t=He(),e=js(),r=Yn(),n=nT(),i=t("".replace),s=RegExp("^["+n+"]+"),a=RegExp("(^|[^"+n+"])["+n+"]+$"),o=function(l){return function(c){var d=r(e(c));return l&1&&(d=i(d,s,"")),l&2&&(d=i(d,a,"$1")),d}};return lS={start:o(1),end:o(2),trim:o(3)},lS}var uS,EB;function fme(){if(EB)return uS;EB=1;var t=_t(),e=Be(),r=He(),n=Yn(),i=kY().trim,s=nT(),a=t.parseInt,o=t.Symbol,l=o&&o.iterator,c=/^[+-]?0x/i,d=r(c.exec),h=a(s+"08")!==8||a(s+"0x16")!==22||l&&!e(function(){a(Object(l))});return uS=h?function(p,m){var y=i(n(p));return a(y,m>>>0||(d(c,y)?16:10))}:a,uS}var NB;function pme(){if(NB)return wB;NB=1;var t=Se(),e=fme();return t({global:!0,forced:parseInt!==e},{parseInt:e}),wB}var cS,jB;function mme(){if(jB)return cS;jB=1,pme();var t=nt();return cS=t.parseInt,cS}var dS,CB;function vme(){if(CB)return dS;CB=1;var t=mme();return dS=t,dS}var hS,OB;function gme(){return OB||(OB=1,hS=vme()),hS}var yme=gme(),ai=Oe(yme),TB={},PB;function bme(){if(PB)return TB;PB=1;var t=Se(),e=zO(),r=VO().indexOf,n=oc(),i=e([].indexOf),s=!!i&&1/i([1],1,-0)<0,a=s||!n("indexOf");return t({target:"Array",proto:!0,forced:a},{indexOf:function(l){var c=arguments.length>1?arguments[1]:void 0;return s?i(this,l,c)||0:r(this,l,c)}}),TB}var fS,IB;function xme(){if(IB)return fS;IB=1,bme();var t=wr();return fS=t("Array","indexOf"),fS}var pS,RB;function wme(){if(RB)return pS;RB=1;var t=Qt(),e=xme(),r=Array.prototype;return pS=function(n){var i=n.indexOf;return n===r||t(r,n)&&i===r.indexOf?e:i},pS}var mS,$B;function _me(){if($B)return mS;$B=1;var t=wme();return mS=t,mS}var vS,kB;function Sme(){return kB||(kB=1,vS=_me()),vS}var Eme=Sme(),Ze=Oe(Eme),DB={},MB;function Nme(){if(MB)return DB;MB=1;var t=Se(),e=Lt(),r=Ch();return t({target:"Object",stat:!0,sham:!e},{create:r}),DB}var gS,qB;function jme(){if(qB)return gS;qB=1,Nme();var t=nt(),e=t.Object;return gS=function(n,i){return e.create(n,i)},gS}var yS,AB;function Cme(){if(AB)return yS;AB=1;var t=jme();return yS=t,yS}var bS,FB;function Ome(){return FB||(FB=1,bS=Cme()),bS}var Tme=Ome(),go=Oe(Tme),LB={},xS,BB;function Pme(){if(BB)return xS;BB=1;var t=tc(),e=Yn(),r=js(),n=RangeError;return xS=function(s){var a=e(r(this)),o="",l=t(s);if(l<0||l===1/0)throw new n("Wrong number of repetitions");for(;l>0;(l>>>=1)&&(a+=a))l&1&&(o+=a);return o},xS}var wS,zB;function Ime(){if(zB)return wS;zB=1;var t=He(),e=hY(),r=Yn(),n=Pme(),i=js(),s=t(n),a=t("".slice),o=Math.ceil,l=function(c){return function(d,h,f){var p=r(i(d)),m=e(h),y=p.length,b=f===void 0?" ":r(f),g,v;return m<=y||b===""?p:(g=m-y,v=s(b,o(g/b.length)),v.length>g&&(v=a(v,0,g)),c?p+v:v+p)}};return wS={start:l(!1),end:l(!0)},wS}var _S,UB;function Rme(){if(UB)return _S;UB=1;var t=He(),e=Be(),r=Ime().start,n=RangeError,i=isFinite,s=Math.abs,a=Date.prototype,o=a.toISOString,l=t(a.getTime),c=t(a.getUTCDate),d=t(a.getUTCFullYear),h=t(a.getUTCHours),f=t(a.getUTCMilliseconds),p=t(a.getUTCMinutes),m=t(a.getUTCMonth),y=t(a.getUTCSeconds);return _S=e(function(){return o.call(new Date(-5e13-1))!=="0385-07-25T07:06:39.999Z"})||!e(function(){o.call(new Date(NaN))})?function(){if(!i(l(this)))throw new n("Invalid time value");var g=this,v=d(g),w=f(g),x=v<0?"-":v>9999?"+":"";return x+r(s(v),x?6:4,0)+"-"+r(m(g)+1,2,0)+"-"+r(c(g),2,0)+"T"+r(h(g),2,0)+":"+r(p(g),2,0)+":"+r(y(g),2,0)+"."+r(w,3,0)+"Z"}:o,_S}var WB;function $me(){if(WB)return LB;WB=1;var t=Se(),e=vn(),r=Tn(),n=lY(),i=Rme(),s=Ai(),a=Be(),o=a(function(){return new Date(NaN).toJSON()!==null||e(Date.prototype.toJSON,{toISOString:function(){return 1}})!==1});return t({target:"Date",proto:!0,forced:o},{toJSON:function(c){var d=r(this),h=n(d,"number");return typeof h=="number"&&!isFinite(h)?null:!("toISOString"in d)&&s(d)==="Date"?e(i,d):d.toISOString()}}),LB}var SS,HB;function kme(){if(HB)return SS;HB=1,$me(),EY();var t=nt(),e=jm();return t.JSON||(t.JSON={stringify:JSON.stringify}),SS=function(n,i,s){return e(t.JSON.stringify,null,arguments)},SS}var ES,VB;function Dme(){if(VB)return ES;VB=1;var t=kme();return ES=t,ES}var NS,KB;function Mme(){return KB||(KB=1,NS=Dme()),NS}var qme=Mme(),Th=Oe(qme),GB={},YB={},jS,QB;function DY(){if(QB)return jS;QB=1;var t=_t(),e=Yu(),r=Ai(),n=function(i){return e.slice(0,i.length)===i};return jS=function(){return n("Bun/")?"BUN":n("Cloudflare-Workers")?"CLOUDFLARE":n("Deno/")?"DENO":n("Node.js/")?"NODE":t.Bun&&typeof Bun.version=="string"?"BUN":t.Deno&&typeof Deno.version=="object"?"DENO":r(t.process)==="process"?"NODE":t.window&&t.document?"BROWSER":"REST"}(),jS}var CS,XB;function Ame(){if(XB)return CS;XB=1;var t=TypeError;return CS=function(e,r){if(e<r)throw new t("Not enough arguments");return e},CS}var OS,JB;function MY(){if(JB)return OS;JB=1;var t=_t(),e=jm(),r=dr(),n=DY(),i=Yu(),s=rc(),a=Ame(),o=t.Function,l=/MSIE .\./.test(i)||n==="BUN"&&function(){var c=t.Bun.version.split(".");return c.length<3||c[0]==="0"&&(c[1]<3||c[1]==="3"&&c[2]==="0")}();return OS=function(c,d){var h=d?2:1;return l?function(f,p){var m=a(arguments.length,1)>h,y=r(f)?f:o(f),b=m?s(arguments,h):[],g=m?function(){e(y,this,b)}:y;return d?c(g,p):c(g)}:c},OS}var ZB;function Fme(){if(ZB)return YB;ZB=1;var t=Se(),e=_t(),r=MY(),n=r(e.setInterval,!0);return t({global:!0,bind:!0,forced:e.setInterval!==n},{setInterval:n}),YB}var ez={},tz;function Lme(){if(tz)return ez;tz=1;var t=Se(),e=_t(),r=MY(),n=r(e.setTimeout,!0);return t({global:!0,bind:!0,forced:e.setTimeout!==n},{setTimeout:n}),ez}var rz;function qY(){return rz||(rz=1,Fme(),Lme()),GB}var TS,nz;function Bme(){if(nz)return TS;nz=1,qY();var t=nt();return TS=t.setTimeout,TS}var PS,iz;function zme(){return iz||(iz=1,PS=Bme()),PS}var Ume=zme(),ls=Oe(Ume),sz={},IS,az;function Wme(){if(az)return IS;az=1;var t=Tn(),e=Rm(),r=Os();return IS=function(i){for(var s=t(this),a=r(s),o=arguments.length,l=e(o>1?arguments[1]:void 0,a),c=o>2?arguments[2]:void 0,d=c===void 0?a:e(c,a);d>l;)s[l++]=i;return s},IS}var oz;function Hme(){if(oz)return sz;oz=1;var t=Se(),e=Wme(),r=eT();return t({target:"Array",proto:!0},{fill:e}),r("fill"),sz}var RS,lz;function Vme(){if(lz)return RS;lz=1,Hme();var t=wr();return RS=t("Array","fill"),RS}var $S,uz;function Kme(){if(uz)return $S;uz=1;var t=Qt(),e=Vme(),r=Array.prototype;return $S=function(n){var i=n.fill;return n===r||t(r,n)&&i===r.fill?e:i},$S}var kS,cz;function Gme(){if(cz)return kS;cz=1;var t=Kme();return kS=t,kS}var DS,dz;function Yme(){return dz||(dz=1,DS=Gme()),DS}var Qme=Yme(),Ph=Oe(Qme);/*! Hammer.JS - v2.0.17-rc - 2019-12-16
 * http://naver.github.io/egjs
 *
 * Forked By Naver egjs
 * Copyright (c) hammerjs
 * Licensed under the MIT license */function pi(){return pi=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},pi.apply(this,arguments)}function Qn(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}function pf(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}var Fj;typeof Object.assign!="function"?Fj=function(e){if(e==null)throw new TypeError("Cannot convert undefined or null to object");for(var r=Object(e),n=1;n<arguments.length;n++){var i=arguments[n];if(i!=null)for(var s in i)i.hasOwnProperty(s)&&(r[s]=i[s])}return r}:Fj=Object.assign;var ko=Fj,hz=["","webkit","Moz","MS","ms","o"],Xme=typeof document>"u"?{style:{}}:document.createElement("div"),Jme="function",Il=Math.round,Do=Math.abs,iT=Date.now;function Fm(t,e){for(var r,n,i=e[0].toUpperCase()+e.slice(1),s=0;s<hz.length;){if(r=hz[s],n=r?r+i:e,n in t)return n;s++}}var us;typeof window>"u"?us={}:us=window;var AY=Fm(Xme.style,"touchAction"),FY=AY!==void 0;function Zme(){if(!FY)return!1;var t={},e=us.CSS&&us.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach(function(r){return t[r]=e?us.CSS.supports("touch-action",r):!0}),t}var LY="compute",BY="auto",Lj="manipulation",yo="none",Pd="pan-x",Id="pan-y",mf=Zme(),eve=/mobile|tablet|ip(ad|hone|od)|android/i,zY="ontouchstart"in us,tve=Fm(us,"PointerEvent")!==void 0,rve=zY&&eve.test(navigator.userAgent),Ih="touch",nve="pen",sT="mouse",ive="kinect",sve=25,Wr=1,el=2,Kt=4,hn=8,Ip=1,Rh=2,$h=4,kh=8,Eu=16,Di=Rh|$h,bo=kh|Eu,UY=Di|bo,WY=["x","y"],Rp=["clientX","clientY"];function cs(t,e,r){var n;if(t)if(t.forEach)t.forEach(e,r);else if(t.length!==void 0)for(n=0;n<t.length;)e.call(r,t[n],n,t),n++;else for(n in t)t.hasOwnProperty(n)&&e.call(r,t[n],n,t)}function Lm(t,e){return typeof t===Jme?t.apply(e&&e[0]||void 0,e):t}function Ja(t,e){return t.indexOf(e)>-1}function ave(t){if(Ja(t,yo))return yo;var e=Ja(t,Pd),r=Ja(t,Id);return e&&r?yo:e||r?e?Pd:Id:Ja(t,Lj)?Lj:BY}var HY=function(){function t(r,n){this.manager=r,this.set(n)}var e=t.prototype;return e.set=function(n){n===LY&&(n=this.compute()),FY&&this.manager.element.style&&mf[n]&&(this.manager.element.style[AY]=n),this.actions=n.toLowerCase().trim()},e.update=function(){this.set(this.manager.options.touchAction)},e.compute=function(){var n=[];return cs(this.manager.recognizers,function(i){Lm(i.options.enable,[i])&&(n=n.concat(i.getTouchAction()))}),ave(n.join(" "))},e.preventDefaults=function(n){var i=n.srcEvent,s=n.offsetDirection;if(this.manager.session.prevented){i.preventDefault();return}var a=this.actions,o=Ja(a,yo)&&!mf[yo],l=Ja(a,Id)&&!mf[Id],c=Ja(a,Pd)&&!mf[Pd];if(o){var d=n.pointers.length===1,h=n.distance<2,f=n.deltaTime<250;if(d&&h&&f)return}if(!(c&&l)&&(o||l&&s&Di||c&&s&bo))return this.preventSrc(i)},e.preventSrc=function(n){this.manager.session.prevented=!0,n.preventDefault()},t}();function aT(t,e){for(;t;){if(t===e)return!0;t=t.parentNode}return!1}function VY(t){var e=t.length;if(e===1)return{x:Il(t[0].clientX),y:Il(t[0].clientY)};for(var r=0,n=0,i=0;i<e;)r+=t[i].clientX,n+=t[i].clientY,i++;return{x:Il(r/e),y:Il(n/e)}}function fz(t){for(var e=[],r=0;r<t.pointers.length;)e[r]={clientX:Il(t.pointers[r].clientX),clientY:Il(t.pointers[r].clientY)},r++;return{timeStamp:iT(),pointers:e,center:VY(e),deltaX:t.deltaX,deltaY:t.deltaY}}function $p(t,e,r){r||(r=WY);var n=e[r[0]]-t[r[0]],i=e[r[1]]-t[r[1]];return Math.sqrt(n*n+i*i)}function Bj(t,e,r){r||(r=WY);var n=e[r[0]]-t[r[0]],i=e[r[1]]-t[r[1]];return Math.atan2(i,n)*180/Math.PI}function KY(t,e){return t===e?Ip:Do(t)>=Do(e)?t<0?Rh:$h:e<0?kh:Eu}function ove(t,e){var r=e.center,n=t.offsetDelta||{},i=t.prevDelta||{},s=t.prevInput||{};(e.eventType===Wr||s.eventType===Kt)&&(i=t.prevDelta={x:s.deltaX||0,y:s.deltaY||0},n=t.offsetDelta={x:r.x,y:r.y}),e.deltaX=i.x+(r.x-n.x),e.deltaY=i.y+(r.y-n.y)}function GY(t,e,r){return{x:e/t||0,y:r/t||0}}function lve(t,e){return $p(e[0],e[1],Rp)/$p(t[0],t[1],Rp)}function uve(t,e){return Bj(e[1],e[0],Rp)+Bj(t[1],t[0],Rp)}function cve(t,e){var r=t.lastInterval||e,n=e.timeStamp-r.timeStamp,i,s,a,o;if(e.eventType!==hn&&(n>sve||r.velocity===void 0)){var l=e.deltaX-r.deltaX,c=e.deltaY-r.deltaY,d=GY(n,l,c);s=d.x,a=d.y,i=Do(d.x)>Do(d.y)?d.x:d.y,o=KY(l,c),t.lastInterval=e}else i=r.velocity,s=r.velocityX,a=r.velocityY,o=r.direction;e.velocity=i,e.velocityX=s,e.velocityY=a,e.direction=o}function dve(t,e){var r=t.session,n=e.pointers,i=n.length;r.firstInput||(r.firstInput=fz(e)),i>1&&!r.firstMultiple?r.firstMultiple=fz(e):i===1&&(r.firstMultiple=!1);var s=r.firstInput,a=r.firstMultiple,o=a?a.center:s.center,l=e.center=VY(n);e.timeStamp=iT(),e.deltaTime=e.timeStamp-s.timeStamp,e.angle=Bj(o,l),e.distance=$p(o,l),ove(r,e),e.offsetDirection=KY(e.deltaX,e.deltaY);var c=GY(e.deltaTime,e.deltaX,e.deltaY);e.overallVelocityX=c.x,e.overallVelocityY=c.y,e.overallVelocity=Do(c.x)>Do(c.y)?c.x:c.y,e.scale=a?lve(a.pointers,n):1,e.rotation=a?uve(a.pointers,n):0,e.maxPointers=r.prevInput?e.pointers.length>r.prevInput.maxPointers?e.pointers.length:r.prevInput.maxPointers:e.pointers.length,cve(r,e);var d=t.element,h=e.srcEvent,f;h.composedPath?f=h.composedPath()[0]:h.path?f=h.path[0]:f=h.target,aT(f,d)&&(d=f),e.target=d}function hve(t,e,r){var n=r.pointers.length,i=r.changedPointers.length,s=e&Wr&&n-i===0,a=e&(Kt|hn)&&n-i===0;r.isFirst=!!s,r.isFinal=!!a,s&&(t.session={}),r.eventType=e,dve(t,r),t.emit("hammer.input",r),t.recognize(r),t.session.prevInput=r}function Rd(t){return t.trim().split(/\s+/g)}function Xc(t,e,r){cs(Rd(e),function(n){t.addEventListener(n,r,!1)})}function Jc(t,e,r){cs(Rd(e),function(n){t.removeEventListener(n,r,!1)})}function pz(t){var e=t.ownerDocument||t;return e.defaultView||e.parentWindow||window}var lc=function(){function t(r,n){var i=this;this.manager=r,this.callback=n,this.element=r.element,this.target=r.options.inputTarget,this.domHandler=function(s){Lm(r.options.enable,[r])&&i.handler(s)},this.init()}var e=t.prototype;return e.handler=function(){},e.init=function(){this.evEl&&Xc(this.element,this.evEl,this.domHandler),this.evTarget&&Xc(this.target,this.evTarget,this.domHandler),this.evWin&&Xc(pz(this.element),this.evWin,this.domHandler)},e.destroy=function(){this.evEl&&Jc(this.element,this.evEl,this.domHandler),this.evTarget&&Jc(this.target,this.evTarget,this.domHandler),this.evWin&&Jc(pz(this.element),this.evWin,this.domHandler)},t}();function Mo(t,e,r){if(t.indexOf&&!r)return t.indexOf(e);for(var n=0;n<t.length;){if(r&&t[n][r]==e||!r&&t[n]===e)return n;n++}return-1}var fve={pointerdown:Wr,pointermove:el,pointerup:Kt,pointercancel:hn,pointerout:hn},pve={2:Ih,3:nve,4:sT,5:ive},YY="pointerdown",QY="pointermove pointerup pointercancel";us.MSPointerEvent&&!us.PointerEvent&&(YY="MSPointerDown",QY="MSPointerMove MSPointerUp MSPointerCancel");var XY=function(t){Qn(e,t);function e(){var n,i=e.prototype;return i.evEl=YY,i.evWin=QY,n=t.apply(this,arguments)||this,n.store=n.manager.session.pointerEvents=[],n}var r=e.prototype;return r.handler=function(i){var s=this.store,a=!1,o=i.type.toLowerCase().replace("ms",""),l=fve[o],c=pve[i.pointerType]||i.pointerType,d=c===Ih,h=Mo(s,i.pointerId,"pointerId");l&Wr&&(i.button===0||d)?h<0&&(s.push(i),h=s.length-1):l&(Kt|hn)&&(a=!0),!(h<0)&&(s[h]=i,this.callback(this.manager,l,{pointers:s,changedPointers:[i],pointerType:c,srcEvent:i}),a&&s.splice(h,1))},e}(lc);function $d(t){return Array.prototype.slice.call(t,0)}function oT(t,e,r){for(var n=[],i=[],s=0;s<t.length;){var a=e?t[s][e]:t[s];Mo(i,a)<0&&n.push(t[s]),i[s]=a,s++}return r&&(e?n=n.sort(function(o,l){return o[e]>l[e]}):n=n.sort()),n}var mve={touchstart:Wr,touchmove:el,touchend:Kt,touchcancel:hn},vve="touchstart touchmove touchend touchcancel",lT=function(t){Qn(e,t);function e(){var n;return e.prototype.evTarget=vve,n=t.apply(this,arguments)||this,n.targetIds={},n}var r=e.prototype;return r.handler=function(i){var s=mve[i.type],a=gve.call(this,i,s);a&&this.callback(this.manager,s,{pointers:a[0],changedPointers:a[1],pointerType:Ih,srcEvent:i})},e}(lc);function gve(t,e){var r=$d(t.touches),n=this.targetIds;if(e&(Wr|el)&&r.length===1)return n[r[0].identifier]=!0,[r,r];var i,s,a=$d(t.changedTouches),o=[],l=this.target;if(s=r.filter(function(c){return aT(c.target,l)}),e===Wr)for(i=0;i<s.length;)n[s[i].identifier]=!0,i++;for(i=0;i<a.length;)n[a[i].identifier]&&o.push(a[i]),e&(Kt|hn)&&delete n[a[i].identifier],i++;if(o.length)return[oT(s.concat(o),"identifier",!0),o]}var yve={mousedown:Wr,mousemove:el,mouseup:Kt},bve="mousedown",xve="mousemove mouseup",uT=function(t){Qn(e,t);function e(){var n,i=e.prototype;return i.evEl=bve,i.evWin=xve,n=t.apply(this,arguments)||this,n.pressed=!1,n}var r=e.prototype;return r.handler=function(i){var s=yve[i.type];s&Wr&&i.button===0&&(this.pressed=!0),s&el&&i.which!==1&&(s=Kt),this.pressed&&(s&Kt&&(this.pressed=!1),this.callback(this.manager,s,{pointers:[i],changedPointers:[i],pointerType:sT,srcEvent:i}))},e}(lc),wve=2500,mz=25;function vz(t){var e=t.changedPointers,r=e[0];if(r.identifier===this.primaryTouch){var n={x:r.clientX,y:r.clientY},i=this.lastTouches;this.lastTouches.push(n);var s=function(){var o=i.indexOf(n);o>-1&&i.splice(o,1)};setTimeout(s,wve)}}function _ve(t,e){t&Wr?(this.primaryTouch=e.changedPointers[0].identifier,vz.call(this,e)):t&(Kt|hn)&&vz.call(this,e)}function Sve(t){for(var e=t.srcEvent.clientX,r=t.srcEvent.clientY,n=0;n<this.lastTouches.length;n++){var i=this.lastTouches[n],s=Math.abs(e-i.x),a=Math.abs(r-i.y);if(s<=mz&&a<=mz)return!0}return!1}var JY=function(){var t=function(e){Qn(r,e);function r(i,s){var a;return a=e.call(this,i,s)||this,a.handler=function(o,l,c){var d=c.pointerType===Ih,h=c.pointerType===sT;if(!(h&&c.sourceCapabilities&&c.sourceCapabilities.firesTouchEvents)){if(d)_ve.call(pf(pf(a)),l,c);else if(h&&Sve.call(pf(pf(a)),c))return;a.callback(o,l,c)}},a.touch=new lT(a.manager,a.handler),a.mouse=new uT(a.manager,a.handler),a.primaryTouch=null,a.lastTouches=[],a}var n=r.prototype;return n.destroy=function(){this.touch.destroy(),this.mouse.destroy()},r}(lc);return t}();function Eve(t){var e,r=t.options.inputClass;return r?e=r:tve?e=XY:rve?e=lT:zY?e=JY:e=uT,new e(t,hve)}function Rl(t,e,r){return Array.isArray(t)?(cs(t,r[e],r),!0):!1}var qf=1,Un=2,Nu=4,pa=8,ds=pa,kd=16,Ti=32,Nve=1;function jve(){return Nve++}function vf(t,e){var r=e.manager;return r?r.get(t):t}function gz(t){return t&kd?"cancel":t&pa?"end":t&Nu?"move":t&Un?"start":""}var Dh=function(){function t(r){r===void 0&&(r={}),this.options=pi({enable:!0},r),this.id=jve(),this.manager=null,this.state=qf,this.simultaneous={},this.requireFail=[]}var e=t.prototype;return e.set=function(n){return ko(this.options,n),this.manager&&this.manager.touchAction.update(),this},e.recognizeWith=function(n){if(Rl(n,"recognizeWith",this))return this;var i=this.simultaneous;return n=vf(n,this),i[n.id]||(i[n.id]=n,n.recognizeWith(this)),this},e.dropRecognizeWith=function(n){return Rl(n,"dropRecognizeWith",this)?this:(n=vf(n,this),delete this.simultaneous[n.id],this)},e.requireFailure=function(n){if(Rl(n,"requireFailure",this))return this;var i=this.requireFail;return n=vf(n,this),Mo(i,n)===-1&&(i.push(n),n.requireFailure(this)),this},e.dropRequireFailure=function(n){if(Rl(n,"dropRequireFailure",this))return this;n=vf(n,this);var i=Mo(this.requireFail,n);return i>-1&&this.requireFail.splice(i,1),this},e.hasRequireFailures=function(){return this.requireFail.length>0},e.canRecognizeWith=function(n){return!!this.simultaneous[n.id]},e.emit=function(n){var i=this,s=this.state;function a(o){i.manager.emit(o,n)}s<pa&&a(i.options.event+gz(s)),a(i.options.event),n.additionalEvent&&a(n.additionalEvent),s>=pa&&a(i.options.event+gz(s))},e.tryEmit=function(n){if(this.canEmit())return this.emit(n);this.state=Ti},e.canEmit=function(){for(var n=0;n<this.requireFail.length;){if(!(this.requireFail[n].state&(Ti|qf)))return!1;n++}return!0},e.recognize=function(n){var i=ko({},n);if(!Lm(this.options.enable,[this,i])){this.reset(),this.state=Ti;return}this.state&(ds|kd|Ti)&&(this.state=qf),this.state=this.process(i),this.state&(Un|Nu|pa|kd)&&this.tryEmit(i)},e.process=function(n){},e.getTouchAction=function(){},e.reset=function(){},t}(),zj=function(t){Qn(e,t);function e(n){var i;return n===void 0&&(n={}),i=t.call(this,pi({event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},n))||this,i.pTime=!1,i.pCenter=!1,i._timer=null,i._input=null,i.count=0,i}var r=e.prototype;return r.getTouchAction=function(){return[Lj]},r.process=function(i){var s=this,a=this.options,o=i.pointers.length===a.pointers,l=i.distance<a.threshold,c=i.deltaTime<a.time;if(this.reset(),i.eventType&Wr&&this.count===0)return this.failTimeout();if(l&&c&&o){if(i.eventType!==Kt)return this.failTimeout();var d=this.pTime?i.timeStamp-this.pTime<a.interval:!0,h=!this.pCenter||$p(this.pCenter,i.center)<a.posThreshold;this.pTime=i.timeStamp,this.pCenter=i.center,!h||!d?this.count=1:this.count+=1,this._input=i;var f=this.count%a.taps;if(f===0)return this.hasRequireFailures()?(this._timer=setTimeout(function(){s.state=ds,s.tryEmit()},a.interval),Un):ds}return Ti},r.failTimeout=function(){var i=this;return this._timer=setTimeout(function(){i.state=Ti},this.options.interval),Ti},r.reset=function(){clearTimeout(this._timer)},r.emit=function(){this.state===ds&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))},e}(Dh),ju=function(t){Qn(e,t);function e(n){return n===void 0&&(n={}),t.call(this,pi({pointers:1},n))||this}var r=e.prototype;return r.attrTest=function(i){var s=this.options.pointers;return s===0||i.pointers.length===s},r.process=function(i){var s=this.state,a=i.eventType,o=s&(Un|Nu),l=this.attrTest(i);return o&&(a&hn||!l)?s|kd:o||l?a&Kt?s|pa:s&Un?s|Nu:Un:Ti},e}(Dh);function ZY(t){return t===Eu?"down":t===kh?"up":t===Rh?"left":t===$h?"right":""}var cT=function(t){Qn(e,t);function e(n){var i;return n===void 0&&(n={}),i=t.call(this,pi({event:"pan",threshold:10,pointers:1,direction:UY},n))||this,i.pX=null,i.pY=null,i}var r=e.prototype;return r.getTouchAction=function(){var i=this.options.direction,s=[];return i&Di&&s.push(Id),i&bo&&s.push(Pd),s},r.directionTest=function(i){var s=this.options,a=!0,o=i.distance,l=i.direction,c=i.deltaX,d=i.deltaY;return l&s.direction||(s.direction&Di?(l=c===0?Ip:c<0?Rh:$h,a=c!==this.pX,o=Math.abs(i.deltaX)):(l=d===0?Ip:d<0?kh:Eu,a=d!==this.pY,o=Math.abs(i.deltaY))),i.direction=l,a&&o>s.threshold&&l&s.direction},r.attrTest=function(i){return ju.prototype.attrTest.call(this,i)&&(this.state&Un||!(this.state&Un)&&this.directionTest(i))},r.emit=function(i){this.pX=i.deltaX,this.pY=i.deltaY;var s=ZY(i.direction);s&&(i.additionalEvent=this.options.event+s),t.prototype.emit.call(this,i)},e}(ju),eQ=function(t){Qn(e,t);function e(n){return n===void 0&&(n={}),t.call(this,pi({event:"swipe",threshold:10,velocity:.3,direction:Di|bo,pointers:1},n))||this}var r=e.prototype;return r.getTouchAction=function(){return cT.prototype.getTouchAction.call(this)},r.attrTest=function(i){var s=this.options.direction,a;return s&(Di|bo)?a=i.overallVelocity:s&Di?a=i.overallVelocityX:s&bo&&(a=i.overallVelocityY),t.prototype.attrTest.call(this,i)&&s&i.offsetDirection&&i.distance>this.options.threshold&&i.maxPointers===this.options.pointers&&Do(a)>this.options.velocity&&i.eventType&Kt},r.emit=function(i){var s=ZY(i.offsetDirection);s&&this.manager.emit(this.options.event+s,i),this.manager.emit(this.options.event,i)},e}(ju),tQ=function(t){Qn(e,t);function e(n){return n===void 0&&(n={}),t.call(this,pi({event:"pinch",threshold:0,pointers:2},n))||this}var r=e.prototype;return r.getTouchAction=function(){return[yo]},r.attrTest=function(i){return t.prototype.attrTest.call(this,i)&&(Math.abs(i.scale-1)>this.options.threshold||this.state&Un)},r.emit=function(i){if(i.scale!==1){var s=i.scale<1?"in":"out";i.additionalEvent=this.options.event+s}t.prototype.emit.call(this,i)},e}(ju),rQ=function(t){Qn(e,t);function e(n){return n===void 0&&(n={}),t.call(this,pi({event:"rotate",threshold:0,pointers:2},n))||this}var r=e.prototype;return r.getTouchAction=function(){return[yo]},r.attrTest=function(i){return t.prototype.attrTest.call(this,i)&&(Math.abs(i.rotation)>this.options.threshold||this.state&Un)},e}(ju),nQ=function(t){Qn(e,t);function e(n){var i;return n===void 0&&(n={}),i=t.call(this,pi({event:"press",pointers:1,time:251,threshold:9},n))||this,i._timer=null,i._input=null,i}var r=e.prototype;return r.getTouchAction=function(){return[BY]},r.process=function(i){var s=this,a=this.options,o=i.pointers.length===a.pointers,l=i.distance<a.threshold,c=i.deltaTime>a.time;if(this._input=i,!l||!o||i.eventType&(Kt|hn)&&!c)this.reset();else if(i.eventType&Wr)this.reset(),this._timer=setTimeout(function(){s.state=ds,s.tryEmit()},a.time);else if(i.eventType&Kt)return ds;return Ti},r.reset=function(){clearTimeout(this._timer)},r.emit=function(i){this.state===ds&&(i&&i.eventType&Kt?this.manager.emit(this.options.event+"up",i):(this._input.timeStamp=iT(),this.manager.emit(this.options.event,this._input)))},e}(Dh),iQ={domEvents:!1,touchAction:LY,enable:!0,inputTarget:null,inputClass:null,cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}},yz=[[rQ,{enable:!1}],[tQ,{enable:!1},["rotate"]],[eQ,{direction:Di}],[cT,{direction:Di},["swipe"]],[zj],[zj,{event:"doubletap",taps:2},["tap"]],[nQ]],Cve=1,bz=2;function xz(t,e){var r=t.element;if(r.style){var n;cs(t.options.cssProps,function(i,s){n=Fm(r.style,s),e?(t.oldCssProps[n]=r.style[n],r.style[n]=i):r.style[n]=t.oldCssProps[n]||""}),e||(t.oldCssProps={})}}function Ove(t,e){var r=document.createEvent("Event");r.initEvent(t,!0,!0),r.gesture=e,e.target.dispatchEvent(r)}var wz=function(){function t(r,n){var i=this;this.options=ko({},iQ,n||{}),this.options.inputTarget=this.options.inputTarget||r,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=r,this.input=Eve(this),this.touchAction=new HY(this,this.options.touchAction),xz(this,!0),cs(this.options.recognizers,function(s){var a=i.add(new s[0](s[1]));s[2]&&a.recognizeWith(s[2]),s[3]&&a.requireFailure(s[3])},this)}var e=t.prototype;return e.set=function(n){return ko(this.options,n),n.touchAction&&this.touchAction.update(),n.inputTarget&&(this.input.destroy(),this.input.target=n.inputTarget,this.input.init()),this},e.stop=function(n){this.session.stopped=n?bz:Cve},e.recognize=function(n){var i=this.session;if(!i.stopped){this.touchAction.preventDefaults(n);var s,a=this.recognizers,o=i.curRecognizer;(!o||o&&o.state&ds)&&(i.curRecognizer=null,o=null);for(var l=0;l<a.length;)s=a[l],i.stopped!==bz&&(!o||s===o||s.canRecognizeWith(o))?s.recognize(n):s.reset(),!o&&s.state&(Un|Nu|pa)&&(i.curRecognizer=s,o=s),l++}},e.get=function(n){if(n instanceof Dh)return n;for(var i=this.recognizers,s=0;s<i.length;s++)if(i[s].options.event===n)return i[s];return null},e.add=function(n){if(Rl(n,"add",this))return this;var i=this.get(n.options.event);return i&&this.remove(i),this.recognizers.push(n),n.manager=this,this.touchAction.update(),n},e.remove=function(n){if(Rl(n,"remove",this))return this;var i=this.get(n);if(n){var s=this.recognizers,a=Mo(s,i);a!==-1&&(s.splice(a,1),this.touchAction.update())}return this},e.on=function(n,i){if(n===void 0||i===void 0)return this;var s=this.handlers;return cs(Rd(n),function(a){s[a]=s[a]||[],s[a].push(i)}),this},e.off=function(n,i){if(n===void 0)return this;var s=this.handlers;return cs(Rd(n),function(a){i?s[a]&&s[a].splice(Mo(s[a],i),1):delete s[a]}),this},e.emit=function(n,i){this.options.domEvents&&Ove(n,i);var s=this.handlers[n]&&this.handlers[n].slice();if(!(!s||!s.length)){i.type=n,i.preventDefault=function(){i.srcEvent.preventDefault()};for(var a=0;a<s.length;)s[a](i),a++}},e.destroy=function(){this.element&&xz(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null},t}(),Tve={touchstart:Wr,touchmove:el,touchend:Kt,touchcancel:hn},Pve="touchstart",Ive="touchstart touchmove touchend touchcancel",Rve=function(t){Qn(e,t);function e(){var n,i=e.prototype;return i.evTarget=Pve,i.evWin=Ive,n=t.apply(this,arguments)||this,n.started=!1,n}var r=e.prototype;return r.handler=function(i){var s=Tve[i.type];if(s===Wr&&(this.started=!0),!!this.started){var a=$ve.call(this,i,s);s&(Kt|hn)&&a[0].length-a[1].length===0&&(this.started=!1),this.callback(this.manager,s,{pointers:a[0],changedPointers:a[1],pointerType:Ih,srcEvent:i})}},e}(lc);function $ve(t,e){var r=$d(t.touches),n=$d(t.changedTouches);return e&(Kt|hn)&&(r=oT(r.concat(n),"identifier",!0)),[r,n]}function sQ(t,e,r){var n="DEPRECATED METHOD: "+e+`
`+r+` AT 
`;return function(){var i=new Error("get-stack-trace"),s=i&&i.stack?i.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",a=window.console&&(window.console.warn||window.console.log);return a&&a.call(window.console,n,s),t.apply(this,arguments)}}var aQ=sQ(function(t,e,r){for(var n=Object.keys(e),i=0;i<n.length;)(!r||r&&t[n[i]]===void 0)&&(t[n[i]]=e[n[i]]),i++;return t},"extend","Use `assign`."),kve=sQ(function(t,e){return aQ(t,e,!0)},"merge","Use `assign`.");function Dve(t,e,r){var n=e.prototype,i;i=t.prototype=Object.create(n),i.constructor=t,i._super=n,r&&ko(i,r)}function _z(t,e){return function(){return t.apply(e,arguments)}}var oQ=function(){var t=function(r,n){return n===void 0&&(n={}),new wz(r,pi({recognizers:yz.concat()},n))};return t.VERSION="2.0.17-rc",t.DIRECTION_ALL=UY,t.DIRECTION_DOWN=Eu,t.DIRECTION_LEFT=Rh,t.DIRECTION_RIGHT=$h,t.DIRECTION_UP=kh,t.DIRECTION_HORIZONTAL=Di,t.DIRECTION_VERTICAL=bo,t.DIRECTION_NONE=Ip,t.DIRECTION_DOWN=Eu,t.INPUT_START=Wr,t.INPUT_MOVE=el,t.INPUT_END=Kt,t.INPUT_CANCEL=hn,t.STATE_POSSIBLE=qf,t.STATE_BEGAN=Un,t.STATE_CHANGED=Nu,t.STATE_ENDED=pa,t.STATE_RECOGNIZED=ds,t.STATE_CANCELLED=kd,t.STATE_FAILED=Ti,t.Manager=wz,t.Input=lc,t.TouchAction=HY,t.TouchInput=lT,t.MouseInput=uT,t.PointerEventInput=XY,t.TouchMouseInput=JY,t.SingleTouchInput=Rve,t.Recognizer=Dh,t.AttrRecognizer=ju,t.Tap=zj,t.Pan=cT,t.Swipe=eQ,t.Pinch=tQ,t.Rotate=rQ,t.Press=nQ,t.on=Xc,t.off=Jc,t.each=cs,t.merge=kve,t.extend=aQ,t.bindFn=_z,t.assign=ko,t.inherit=Dve,t.bindFn=_z,t.prefixed=Fm,t.toArray=$d,t.inArray=Mo,t.uniqueArray=oT,t.splitStr=Rd,t.boolOrFn=Lm,t.hasParent=aT,t.addEventListeners=Xc,t.removeEventListeners=Jc,t.defaults=ko({},iQ,{preset:yz}),t}();oQ.defaults;qfe("DELETE");function Bm(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return Mve(e.length?e:[Pp()])}function Mve(t){let[e,r,n]=qve(t),i=1;const s=()=>{const a=2091639*e+i*23283064365386963e-26;return e=r,r=n,n=a-(i=a|0)};return s.uint32=()=>s()*4294967296,s.fract53=()=>s()+(s()*2097152|0)*11102230246251565e-32,s.algorithm="Alea",s.seed=t,s.version="0.9",s}function qve(){const t=Ave();let e=t(" "),r=t(" "),n=t(" ");for(let i=0;i<arguments.length;i++)e-=t(i<0||arguments.length<=i?void 0:arguments[i]),e<0&&(e+=1),r-=t(i<0||arguments.length<=i?void 0:arguments[i]),r<0&&(r+=1),n-=t(i<0||arguments.length<=i?void 0:arguments[i]),n<0&&(n+=1);return[e,r,n]}function Ave(){let t=4022871197;return function(e){const r=e.toString();for(let n=0;n<r.length;n++){t+=r.charCodeAt(n);let i=.02519603282416938*t;t=i>>>0,i-=t,i*=t,t=i>>>0,i-=t,t+=i*4294967296}return(t>>>0)*23283064365386963e-26}}function Fve(){const t=()=>{};return{on:t,off:t,destroy:t,emit:t,get(){return{set:t}}}}const dT=typeof window<"u"?window.Hammer||oQ:function(){return Fve()};function Pi(t){var e;this._cleanupQueue=[],this.active=!1,this._dom={container:t,overlay:document.createElement("div")},this._dom.overlay.classList.add("vis-overlay"),this._dom.container.appendChild(this._dom.overlay),this._cleanupQueue.push(()=>{this._dom.overlay.parentNode.removeChild(this._dom.overlay)});const r=dT(this._dom.overlay);r.on("tap",te(e=this._onTapOverlay).call(e,this)),this._cleanupQueue.push(()=>{r.destroy()});const n=["tap","doubletap","press","pinch","pan","panstart","panmove","panend"];ot(n).call(n,i=>{r.on(i,s=>{s.srcEvent.stopPropagation()})}),document&&document.body&&(this._onClick=i=>{Lve(i.target,t)||this.deactivate()},document.body.addEventListener("click",this._onClick),this._cleanupQueue.push(()=>{document.body.removeEventListener("click",this._onClick)})),this._escListener=i=>{("key"in i?i.key==="Escape":i.keyCode===27)&&this.deactivate()}}gY(Pi.prototype);Pi.current=null;Pi.prototype.destroy=function(){this.deactivate();for(const r of vo(t=os(e=this._cleanupQueue).call(e,0)).call(t)){var t,e;r()}};Pi.prototype.activate=function(){Pi.current&&Pi.current.deactivate(),Pi.current=this,this.active=!0,this._dom.overlay.style.display="none",this._dom.container.classList.add("vis-active"),this.emit("change"),this.emit("activate"),document.body.addEventListener("keydown",this._escListener)};Pi.prototype.deactivate=function(){this.active=!1,this._dom.overlay.style.display="block",this._dom.container.classList.remove("vis-active"),document.body.removeEventListener("keydown",this._escListener),this.emit("change"),this.emit("deactivate")};Pi.prototype._onTapOverlay=function(t){this.activate(),t.srcEvent.stopPropagation()};function Lve(t,e){for(;t;){if(t===e)return!0;t=t.parentNode}return!1}const Bve=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i,zve=/^#?([a-f\d])([a-f\d])([a-f\d])$/i,Uve=/^rgb\( *(1?\d{1,2}|2[0-4]\d|25[0-5]) *, *(1?\d{1,2}|2[0-4]\d|25[0-5]) *, *(1?\d{1,2}|2[0-4]\d|25[0-5]) *\)$/i,Wve=/^rgba\( *(1?\d{1,2}|2[0-4]\d|25[0-5]) *, *(1?\d{1,2}|2[0-4]\d|25[0-5]) *, *(1?\d{1,2}|2[0-4]\d|25[0-5]) *, *([01]|0?\.\d+) *\)$/i;function Ds(t){if(t)for(;t.hasChildNodes()===!0;){const e=t.firstChild;e&&(Ds(e),t.removeChild(e))}}function Ll(t){return t instanceof String||typeof t=="string"}function Sz(t){return typeof t=="object"&&t!==null}function qo(t,e,r,n){let i=!1;n===!0&&(i=e[r]===null&&t[r]!==void 0),i?delete t[r]:t[r]=e[r]}function lQ(t,e){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;for(const n in t)if(e[n]!==void 0)if(e[n]===null||typeof e[n]!="object")qo(t,e,n,r);else{const i=t[n],s=e[n];Sz(i)&&Sz(s)&&lQ(i,s,r)}}function uc(t,e,r){let n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(Dt(r))throw new TypeError("Arrays are not supported by deepExtend");for(let i=0;i<t.length;i++){const s=t[i];if(Object.prototype.hasOwnProperty.call(r,s))if(r[s]&&r[s].constructor===Object)e[s]===void 0&&(e[s]={}),e[s].constructor===Object?ht(e[s],r[s],!1,n):qo(e,r,s,n);else{if(Dt(r[s]))throw new TypeError("Arrays are not supported by deepExtend");qo(e,r,s,n)}}return e}function kp(t,e,r){let n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(Dt(r))throw new TypeError("Arrays are not supported by deepExtend");for(const i in r)if(Object.prototype.hasOwnProperty.call(r,i)&&!fa(t).call(t,i))if(r[i]&&r[i].constructor===Object)e[i]===void 0&&(e[i]={}),e[i].constructor===Object?ht(e[i],r[i]):qo(e,r,i,n);else if(Dt(r[i])){e[i]=[];for(let s=0;s<r[i].length;s++)e[i].push(r[i][s])}else qo(e,r,i,n);return e}function ht(t,e){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;for(const s in e)if(Object.prototype.hasOwnProperty.call(e,s)||r===!0)if(typeof e[s]=="object"&&e[s]!==null&&iB(e[s])===Object.prototype)t[s]===void 0?t[s]=ht({},e[s],r):typeof t[s]=="object"&&t[s]!==null&&iB(t[s])===Object.prototype?ht(t[s],e[s],r):qo(t,e,s,n);else if(Dt(e[s])){var i;t[s]=Ci(i=e[s]).call(i)}else qo(t,e,s,n);return t}function Dp(t,e){return[...t,e]}function Hve(t){return Ci(t).call(t)}function Vve(t){return t.getBoundingClientRect().left}function Kve(t){return t.getBoundingClientRect().top}function qe(t,e){if(Dt(t)){const r=t.length;for(let n=0;n<r;n++)e(t[n],n,t)}else for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&e(t[r],r,t)}function hT(t){let e;switch(t.length){case 3:case 4:return e=zve.exec(t),e?{r:ai(e[1]+e[1],16),g:ai(e[2]+e[2],16),b:ai(e[3]+e[3],16)}:null;case 6:case 7:return e=Bve.exec(t),e?{r:ai(e[1],16),g:ai(e[2],16),b:ai(e[3],16)}:null;default:return null}}function Fn(t,e){if(fa(t).call(t,"rgba"))return t;if(fa(t).call(t,"rgb")){const r=t.substr(Ze(t).call(t,"(")+1).replace(")","").split(",");return"rgba("+r[0]+","+r[1]+","+r[2]+","+e+")"}else{const r=hT(t);return r==null?t:"rgba("+r.r+","+r.g+","+r.b+","+e+")"}}function uQ(t,e,r){var n;return"#"+Ci(n=((1<<24)+(t<<16)+(e<<8)+r).toString(16)).call(n,1)}function Uj(t,e){if(Ll(t)){let n=t;if(dQ(n)){var r;const i=Su(r=n.substr(4).substr(0,n.length-5).split(",")).call(r,function(s){return ai(s)});n=uQ(i[0],i[1],i[2])}if(cQ(n)===!0){const i=Gve(n),s={h:i.h,s:i.s*.8,v:Math.min(1,i.v*1.02)},a={h:i.h,s:Math.min(1,i.s*1.25),v:i.v*.8},o=Wj(a.h,a.s,a.v),l=Wj(s.h,s.s,s.v);return{background:n,border:o,highlight:{background:l,border:o},hover:{background:l,border:o}}}else return{background:n,border:n,highlight:{background:n,border:n},hover:{background:n,border:n}}}else return{background:t.background||void 0,border:t.border||void 0,highlight:Ll(t.highlight)?{border:t.highlight,background:t.highlight}:{background:t.highlight&&t.highlight.background||void 0,border:t.highlight&&t.highlight.border||void 0},hover:Ll(t.hover)?{border:t.hover,background:t.hover}:{border:t.hover&&t.hover.border||void 0,background:t.hover&&t.hover.background||void 0}}}function Mc(t,e,r){t=t/255,e=e/255,r=r/255;const n=Math.min(t,Math.min(e,r)),i=Math.max(t,Math.max(e,r));if(n===i)return{h:0,s:0,v:n};const s=t===n?e-r:r===n?t-e:r-t,o=60*((t===n?3:r===n?1:5)-s/(i-n))/360,l=(i-n)/i;return{h:o,s:l,v:i}}function Af(t,e,r){let n,i,s;const a=Math.floor(t*6),o=t*6-a,l=r*(1-e),c=r*(1-o*e),d=r*(1-(1-o)*e);switch(a%6){case 0:n=r,i=d,s=l;break;case 1:n=c,i=r,s=l;break;case 2:n=l,i=r,s=d;break;case 3:n=l,i=c,s=r;break;case 4:n=d,i=l,s=r;break;case 5:n=r,i=l,s=c;break}return{r:Math.floor(n*255),g:Math.floor(i*255),b:Math.floor(s*255)}}function Wj(t,e,r){const n=Af(t,e,r);return uQ(n.r,n.g,n.b)}function Gve(t){const e=hT(t);if(!e)throw new TypeError("'".concat(t,"' is not a valid color."));return Mc(e.r,e.g,e.b)}function cQ(t){return/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i.test(t)}function dQ(t){return Uve.test(t)}function Yve(t){return Wve.test(t)}function ma(t){if(t===null||typeof t!="object")return null;if(t instanceof Element)return t;const e=go(t);for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&typeof t[r]=="object"&&(e[r]=ma(t[r]));return e}function Dn(t,e,r){let n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};const i=function(p){return p!=null},s=function(p){return p!==null&&typeof p=="object"},a=function(p){for(const m in p)if(Object.prototype.hasOwnProperty.call(p,m))return!1;return!0};if(!s(t))throw new Error("Parameter mergeTarget must be an object");if(!s(e))throw new Error("Parameter options must be an object");if(!i(r))throw new Error("Parameter option must have a value");if(!s(n))throw new Error("Parameter globalOptions must be an object");const o=function(p,m,y){s(p[y])||(p[y]={});const b=m[y],g=p[y];for(const v in b)Object.prototype.hasOwnProperty.call(b,v)&&(g[v]=b[v])},l=e[r],d=s(n)&&!a(n)?n[r]:void 0,h=d?d.enabled:void 0;if(l===void 0)return;if(typeof l=="boolean"){s(t[r])||(t[r]={}),t[r].enabled=l;return}if(l===null&&!s(t[r]))if(i(d))t[r]=go(d);else return;if(!s(l))return;let f=!0;l.enabled!==void 0?f=l.enabled:h!==void 0&&(f=d.enabled),o(t,e,r),t[r].enabled=f}const Qve={linear(t){return t},easeInQuad(t){return t*t},easeOutQuad(t){return t*(2-t)},easeInOutQuad(t){return t<.5?2*t*t:-1+(4-2*t)*t},easeInCubic(t){return t*t*t},easeOutCubic(t){return--t*t*t+1},easeInOutCubic(t){return t<.5?4*t*t*t:(t-1)*(2*t-2)*(2*t-2)+1},easeInQuart(t){return t*t*t*t},easeOutQuart(t){return 1- --t*t*t*t},easeInOutQuart(t){return t<.5?8*t*t*t*t:1-8*--t*t*t*t},easeInQuint(t){return t*t*t*t*t},easeOutQuint(t){return 1+--t*t*t*t*t},easeInOutQuint(t){return t<.5?16*t*t*t*t*t:1+16*--t*t*t*t*t}};function Ms(t,e){let r;Dt(e)||(e=[e]);for(const n of t)if(n){r=n[e[0]];for(let i=1;i<e.length;i++)r&&(r=r[e[i]]);if(typeof r<"u")break}return r}const Xve={black:"#000000",navy:"#000080",darkblue:"#00008B",mediumblue:"#0000CD",blue:"#0000FF",darkgreen:"#006400",green:"#008000",teal:"#008080",darkcyan:"#008B8B",deepskyblue:"#00BFFF",darkturquoise:"#00CED1",mediumspringgreen:"#00FA9A",lime:"#00FF00",springgreen:"#00FF7F",aqua:"#00FFFF",cyan:"#00FFFF",midnightblue:"#191970",dodgerblue:"#1E90FF",lightseagreen:"#20B2AA",forestgreen:"#228B22",seagreen:"#2E8B57",darkslategray:"#2F4F4F",limegreen:"#32CD32",mediumseagreen:"#3CB371",turquoise:"#40E0D0",royalblue:"#4169E1",steelblue:"#4682B4",darkslateblue:"#483D8B",mediumturquoise:"#48D1CC",indigo:"#4B0082",darkolivegreen:"#556B2F",cadetblue:"#5F9EA0",cornflowerblue:"#6495ED",mediumaquamarine:"#66CDAA",dimgray:"#696969",slateblue:"#6A5ACD",olivedrab:"#6B8E23",slategray:"#708090",lightslategray:"#778899",mediumslateblue:"#7B68EE",lawngreen:"#7CFC00",chartreuse:"#7FFF00",aquamarine:"#7FFFD4",maroon:"#800000",purple:"#800080",olive:"#808000",gray:"#808080",skyblue:"#87CEEB",lightskyblue:"#87CEFA",blueviolet:"#8A2BE2",darkred:"#8B0000",darkmagenta:"#8B008B",saddlebrown:"#8B4513",darkseagreen:"#8FBC8F",lightgreen:"#90EE90",mediumpurple:"#9370D8",darkviolet:"#9400D3",palegreen:"#98FB98",darkorchid:"#9932CC",yellowgreen:"#9ACD32",sienna:"#A0522D",brown:"#A52A2A",darkgray:"#A9A9A9",lightblue:"#ADD8E6",greenyellow:"#ADFF2F",paleturquoise:"#AFEEEE",lightsteelblue:"#B0C4DE",powderblue:"#B0E0E6",firebrick:"#B22222",darkgoldenrod:"#B8860B",mediumorchid:"#BA55D3",rosybrown:"#BC8F8F",darkkhaki:"#BDB76B",silver:"#C0C0C0",mediumvioletred:"#C71585",indianred:"#CD5C5C",peru:"#CD853F",chocolate:"#D2691E",tan:"#D2B48C",lightgrey:"#D3D3D3",palevioletred:"#D87093",thistle:"#D8BFD8",orchid:"#DA70D6",goldenrod:"#DAA520",crimson:"#DC143C",gainsboro:"#DCDCDC",plum:"#DDA0DD",burlywood:"#DEB887",lightcyan:"#E0FFFF",lavender:"#E6E6FA",darksalmon:"#E9967A",violet:"#EE82EE",palegoldenrod:"#EEE8AA",lightcoral:"#F08080",khaki:"#F0E68C",aliceblue:"#F0F8FF",honeydew:"#F0FFF0",azure:"#F0FFFF",sandybrown:"#F4A460",wheat:"#F5DEB3",beige:"#F5F5DC",whitesmoke:"#F5F5F5",mintcream:"#F5FFFA",ghostwhite:"#F8F8FF",salmon:"#FA8072",antiquewhite:"#FAEBD7",linen:"#FAF0E6",lightgoldenrodyellow:"#FAFAD2",oldlace:"#FDF5E6",red:"#FF0000",fuchsia:"#FF00FF",magenta:"#FF00FF",deeppink:"#FF1493",orangered:"#FF4500",tomato:"#FF6347",hotpink:"#FF69B4",coral:"#FF7F50",darkorange:"#FF8C00",lightsalmon:"#FFA07A",orange:"#FFA500",lightpink:"#FFB6C1",pink:"#FFC0CB",gold:"#FFD700",peachpuff:"#FFDAB9",navajowhite:"#FFDEAD",moccasin:"#FFE4B5",bisque:"#FFE4C4",mistyrose:"#FFE4E1",blanchedalmond:"#FFEBCD",papayawhip:"#FFEFD5",lavenderblush:"#FFF0F5",seashell:"#FFF5EE",cornsilk:"#FFF8DC",lemonchiffon:"#FFFACD",floralwhite:"#FFFAF0",snow:"#FFFAFA",yellow:"#FFFF00",lightyellow:"#FFFFE0",ivory:"#FFFFF0",white:"#FFFFFF"};let Jve=class{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1;this.pixelRatio=e,this.generated=!1,this.centerCoordinates={x:289/2,y:289/2},this.r=289*.49,this.color={r:255,g:255,b:255,a:1},this.hueCircle=void 0,this.initialColor={r:255,g:255,b:255,a:1},this.previousColor=void 0,this.applied=!1,this.updateCallback=()=>{},this.closeCallback=()=>{},this._create()}insertTo(e){this.hammer!==void 0&&(this.hammer.destroy(),this.hammer=void 0),this.container=e,this.container.appendChild(this.frame),this._bindHammer(),this._setSize()}setUpdateCallback(e){if(typeof e=="function")this.updateCallback=e;else throw new Error("Function attempted to set as colorPicker update callback is not a function.")}setCloseCallback(e){if(typeof e=="function")this.closeCallback=e;else throw new Error("Function attempted to set as colorPicker closing callback is not a function.")}_isColorString(e){if(typeof e=="string")return Xve[e]}setColor(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(e==="none")return;let n;const i=this._isColorString(e);if(i!==void 0&&(e=i),Ll(e)===!0){if(dQ(e)===!0){const s=e.substr(4).substr(0,e.length-5).split(",");n={r:s[0],g:s[1],b:s[2],a:1}}else if(Yve(e)===!0){const s=e.substr(5).substr(0,e.length-6).split(",");n={r:s[0],g:s[1],b:s[2],a:s[3]}}else if(cQ(e)===!0){const s=hT(e);n={r:s.r,g:s.g,b:s.b,a:1}}}else if(e instanceof Object&&e.r!==void 0&&e.g!==void 0&&e.b!==void 0){const s=e.a!==void 0?e.a:"1.0";n={r:e.r,g:e.g,b:e.b,a:s}}if(n===void 0)throw new Error("Unknown color passed to the colorPicker. Supported are strings: rgb, hex, rgba. Object: rgb ({r:r,g:g,b:b,[a:a]}). Supplied: "+Th(e));this._setColor(n,r)}show(){this.closeCallback!==void 0&&(this.closeCallback(),this.closeCallback=void 0),this.applied=!1,this.frame.style.display="block",this._generateHueCircle()}_hide(){(arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0)===!0&&(this.previousColor=Vt({},this.color)),this.applied===!0&&this.updateCallback(this.initialColor),this.frame.style.display="none",ls(()=>{this.closeCallback!==void 0&&(this.closeCallback(),this.closeCallback=void 0)},0)}_save(){this.updateCallback(this.color),this.applied=!1,this._hide()}_apply(){this.applied=!0,this.updateCallback(this.color),this._updatePicker(this.color)}_loadLast(){this.previousColor!==void 0?this.setColor(this.previousColor,!1):alert("There is no last color to load...")}_setColor(e){(arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0)===!0&&(this.initialColor=Vt({},e)),this.color=e;const n=Mc(e.r,e.g,e.b),i=2*Math.PI,s=this.r*n.s,a=this.centerCoordinates.x+s*Math.sin(i*n.h),o=this.centerCoordinates.y+s*Math.cos(i*n.h);this.colorPickerSelector.style.left=a-.5*this.colorPickerSelector.clientWidth+"px",this.colorPickerSelector.style.top=o-.5*this.colorPickerSelector.clientHeight+"px",this._updatePicker(e)}_setOpacity(e){this.color.a=e/100,this._updatePicker(this.color)}_setBrightness(e){const r=Mc(this.color.r,this.color.g,this.color.b);r.v=e/100;const n=Af(r.h,r.s,r.v);n.a=this.color.a,this.color=n,this._updatePicker()}_updatePicker(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.color;const r=Mc(e.r,e.g,e.b),n=this.colorPickerCanvas.getContext("2d");this.pixelRation===void 0&&(this.pixelRatio=(window.devicePixelRatio||1)/(n.webkitBackingStorePixelRatio||n.mozBackingStorePixelRatio||n.msBackingStorePixelRatio||n.oBackingStorePixelRatio||n.backingStorePixelRatio||1)),n.setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0);const i=this.colorPickerCanvas.clientWidth,s=this.colorPickerCanvas.clientHeight;n.clearRect(0,0,i,s),n.putImageData(this.hueCircle,0,0),n.fillStyle="rgba(0,0,0,"+(1-r.v)+")",n.circle(this.centerCoordinates.x,this.centerCoordinates.y,this.r),Ph(n).call(n),this.brightnessRange.value=100*r.v,this.opacityRange.value=100*e.a,this.initialColorDiv.style.backgroundColor="rgba("+this.initialColor.r+","+this.initialColor.g+","+this.initialColor.b+","+this.initialColor.a+")",this.newColorDiv.style.backgroundColor="rgba("+this.color.r+","+this.color.g+","+this.color.b+","+this.color.a+")"}_setSize(){this.colorPickerCanvas.style.width="100%",this.colorPickerCanvas.style.height="100%",this.colorPickerCanvas.width=289*this.pixelRatio,this.colorPickerCanvas.height=289*this.pixelRatio}_create(){var e,r,n,i;if(this.frame=document.createElement("div"),this.frame.className="vis-color-picker",this.colorPickerDiv=document.createElement("div"),this.colorPickerSelector=document.createElement("div"),this.colorPickerSelector.className="vis-selector",this.colorPickerDiv.appendChild(this.colorPickerSelector),this.colorPickerCanvas=document.createElement("canvas"),this.colorPickerDiv.appendChild(this.colorPickerCanvas),this.colorPickerCanvas.getContext){const a=this.colorPickerCanvas.getContext("2d");this.pixelRatio=(window.devicePixelRatio||1)/(a.webkitBackingStorePixelRatio||a.mozBackingStorePixelRatio||a.msBackingStorePixelRatio||a.oBackingStorePixelRatio||a.backingStorePixelRatio||1),this.colorPickerCanvas.getContext("2d").setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0)}else{const a=document.createElement("DIV");a.style.color="red",a.style.fontWeight="bold",a.style.padding="10px",a.innerText="Error: your browser does not support HTML canvas",this.colorPickerCanvas.appendChild(a)}this.colorPickerDiv.className="vis-color",this.opacityDiv=document.createElement("div"),this.opacityDiv.className="vis-opacity",this.brightnessDiv=document.createElement("div"),this.brightnessDiv.className="vis-brightness",this.arrowDiv=document.createElement("div"),this.arrowDiv.className="vis-arrow",this.opacityRange=document.createElement("input");try{this.opacityRange.type="range",this.opacityRange.min="0",this.opacityRange.max="100"}catch{}this.opacityRange.value="100",this.opacityRange.className="vis-range",this.brightnessRange=document.createElement("input");try{this.brightnessRange.type="range",this.brightnessRange.min="0",this.brightnessRange.max="100"}catch{}this.brightnessRange.value="100",this.brightnessRange.className="vis-range",this.opacityDiv.appendChild(this.opacityRange),this.brightnessDiv.appendChild(this.brightnessRange);const s=this;this.opacityRange.onchange=function(){s._setOpacity(this.value)},this.opacityRange.oninput=function(){s._setOpacity(this.value)},this.brightnessRange.onchange=function(){s._setBrightness(this.value)},this.brightnessRange.oninput=function(){s._setBrightness(this.value)},this.brightnessLabel=document.createElement("div"),this.brightnessLabel.className="vis-label vis-brightness",this.brightnessLabel.innerText="brightness:",this.opacityLabel=document.createElement("div"),this.opacityLabel.className="vis-label vis-opacity",this.opacityLabel.innerText="opacity:",this.newColorDiv=document.createElement("div"),this.newColorDiv.className="vis-new-color",this.newColorDiv.innerText="new",this.initialColorDiv=document.createElement("div"),this.initialColorDiv.className="vis-initial-color",this.initialColorDiv.innerText="initial",this.cancelButton=document.createElement("div"),this.cancelButton.className="vis-button vis-cancel",this.cancelButton.innerText="cancel",this.cancelButton.onclick=te(e=this._hide).call(e,this,!1),this.applyButton=document.createElement("div"),this.applyButton.className="vis-button vis-apply",this.applyButton.innerText="apply",this.applyButton.onclick=te(r=this._apply).call(r,this),this.saveButton=document.createElement("div"),this.saveButton.className="vis-button vis-save",this.saveButton.innerText="save",this.saveButton.onclick=te(n=this._save).call(n,this),this.loadButton=document.createElement("div"),this.loadButton.className="vis-button vis-load",this.loadButton.innerText="load last",this.loadButton.onclick=te(i=this._loadLast).call(i,this),this.frame.appendChild(this.colorPickerDiv),this.frame.appendChild(this.arrowDiv),this.frame.appendChild(this.brightnessLabel),this.frame.appendChild(this.brightnessDiv),this.frame.appendChild(this.opacityLabel),this.frame.appendChild(this.opacityDiv),this.frame.appendChild(this.newColorDiv),this.frame.appendChild(this.initialColorDiv),this.frame.appendChild(this.cancelButton),this.frame.appendChild(this.applyButton),this.frame.appendChild(this.saveButton),this.frame.appendChild(this.loadButton)}_bindHammer(){this.drag={},this.pinch={},this.hammer=new dT(this.colorPickerCanvas),this.hammer.get("pinch").set({enable:!0}),this.hammer.on("hammer.input",e=>{e.isFirst&&this._moveSelector(e)}),this.hammer.on("tap",e=>{this._moveSelector(e)}),this.hammer.on("panstart",e=>{this._moveSelector(e)}),this.hammer.on("panmove",e=>{this._moveSelector(e)}),this.hammer.on("panend",e=>{this._moveSelector(e)})}_generateHueCircle(){if(this.generated===!1){const e=this.colorPickerCanvas.getContext("2d");this.pixelRation===void 0&&(this.pixelRatio=(window.devicePixelRatio||1)/(e.webkitBackingStorePixelRatio||e.mozBackingStorePixelRatio||e.msBackingStorePixelRatio||e.oBackingStorePixelRatio||e.backingStorePixelRatio||1)),e.setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0);const r=this.colorPickerCanvas.clientWidth,n=this.colorPickerCanvas.clientHeight;e.clearRect(0,0,r,n);let i,s,a,o;this.centerCoordinates={x:r*.5,y:n*.5},this.r=.49*r;const l=2*Math.PI/360,c=1/360,d=1/this.r;let h;for(a=0;a<360;a++)for(o=0;o<this.r;o++)i=this.centerCoordinates.x+o*Math.sin(l*a),s=this.centerCoordinates.y+o*Math.cos(l*a),h=Af(a*c,o*d,1),e.fillStyle="rgb("+h.r+","+h.g+","+h.b+")",e.fillRect(i-.5,s-.5,2,2);e.strokeStyle="rgba(0,0,0,1)",e.circle(this.centerCoordinates.x,this.centerCoordinates.y,this.r),e.stroke(),this.hueCircle=e.getImageData(0,0,r,n)}this.generated=!0}_moveSelector(e){const r=this.colorPickerDiv.getBoundingClientRect(),n=e.center.x-r.left,i=e.center.y-r.top,s=.5*this.colorPickerDiv.clientHeight,a=.5*this.colorPickerDiv.clientWidth,o=n-a,l=i-s,c=Math.atan2(o,l),d=.98*Math.min(Math.sqrt(o*o+l*l),a),h=Math.cos(c)*d+s,f=Math.sin(c)*d+a;this.colorPickerSelector.style.top=h-.5*this.colorPickerSelector.clientHeight+"px",this.colorPickerSelector.style.left=f-.5*this.colorPickerSelector.clientWidth+"px";let p=c/(2*Math.PI);p=p<0?p+1:p;const m=d/this.r,y=Mc(this.color.r,this.color.g,this.color.b);y.h=p,y.s=m;const b=Af(y.h,y.s,y.v);b.a=this.color.a,this.color=b,this.initialColorDiv.style.backgroundColor="rgba("+this.initialColor.r+","+this.initialColor.g+","+this.initialColor.b+","+this.initialColor.a+")",this.newColorDiv.style.backgroundColor="rgba("+this.color.r+","+this.color.g+","+this.color.b+","+this.color.a+")"}};function Hj(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];if(e.length<1)throw new TypeError("Invalid arguments.");if(e.length===1)return document.createTextNode(e[0]);{const n=document.createElement(e[0]);return n.appendChild(Hj(...Ci(e).call(e,1))),n}}let Zve=class{constructor(e,r,n){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:1,s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:()=>!1;this.parent=e,this.changedOptions=[],this.container=r,this.allowCreation=!1,this.hideOption=s,this.options={},this.initialized=!1,this.popupCounter=0,this.defaultOptions={enabled:!1,filter:!0,container:void 0,showButton:!0},Vt(this.options,this.defaultOptions),this.configureOptions=n,this.moduleOptions={},this.domElements=[],this.popupDiv={},this.popupLimit=5,this.popupHistory={},this.colorPicker=new Jve(i),this.wrapper=void 0}setOptions(e){if(e!==void 0){this.popupHistory={},this._removePopup();let r=!0;if(typeof e=="string")this.options.filter=e;else if(Dt(e))this.options.filter=e.join();else if(typeof e=="object"){if(e==null)throw new TypeError("options cannot be null");e.container!==void 0&&(this.options.container=e.container),rn(e)!==void 0&&(this.options.filter=rn(e)),e.showButton!==void 0&&(this.options.showButton=e.showButton),e.enabled!==void 0&&(r=e.enabled)}else typeof e=="boolean"?(this.options.filter=!0,r=e):typeof e=="function"&&(this.options.filter=e,r=!0);rn(this.options)===!1&&(r=!1),this.options.enabled=r}this._clean()}setModuleOptions(e){this.moduleOptions=e,this.options.enabled===!0&&(this._clean(),this.options.container!==void 0&&(this.container=this.options.container),this._create())}_create(){this._clean(),this.changedOptions=[];const e=rn(this.options);let r=0,n=!1;for(const i in this.configureOptions)Object.prototype.hasOwnProperty.call(this.configureOptions,i)&&(this.allowCreation=!1,n=!1,typeof e=="function"?(n=e(i,[]),n=n||this._handleObject(this.configureOptions[i],[i],!0)):(e===!0||Ze(e).call(e,i)!==-1)&&(n=!0),n!==!1&&(this.allowCreation=!0,r>0&&this._makeItem([]),this._makeHeader(i),this._handleObject(this.configureOptions[i],[i])),r++);this._makeButton(),this._push()}_push(){this.wrapper=document.createElement("div"),this.wrapper.className="vis-configuration-wrapper",this.container.appendChild(this.wrapper);for(let e=0;e<this.domElements.length;e++)this.wrapper.appendChild(this.domElements[e]);this._showPopupIfNeeded()}_clean(){for(let e=0;e<this.domElements.length;e++)this.wrapper.removeChild(this.domElements[e]);this.wrapper!==void 0&&(this.container.removeChild(this.wrapper),this.wrapper=void 0),this.domElements=[],this._removePopup()}_getValue(e){let r=this.moduleOptions;for(let n=0;n<e.length;n++)if(r[e[n]]!==void 0)r=r[e[n]];else{r=void 0;break}return r}_makeItem(e){if(this.allowCreation===!0){const s=document.createElement("div");s.className="vis-configuration vis-config-item vis-config-s"+e.length;for(var r=arguments.length,n=new Array(r>1?r-1:0),i=1;i<r;i++)n[i-1]=arguments[i];return ot(n).call(n,a=>{s.appendChild(a)}),this.domElements.push(s),this.domElements.length}return 0}_makeHeader(e){const r=document.createElement("div");r.className="vis-configuration vis-config-header",r.innerText=e,this._makeItem([],r)}_makeLabel(e,r){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;const i=document.createElement("div");if(i.className="vis-configuration vis-config-label vis-config-s"+r.length,n===!0){for(;i.firstChild;)i.removeChild(i.firstChild);i.appendChild(Hj("i","b",e))}else i.innerText=e+":";return i}_makeDropdown(e,r,n){const i=document.createElement("select");i.className="vis-configuration vis-config-select";let s=0;r!==void 0&&Ze(e).call(e,r)!==-1&&(s=Ze(e).call(e,r));for(let l=0;l<e.length;l++){const c=document.createElement("option");c.value=e[l],l===s&&(c.selected="selected"),c.innerText=e[l],i.appendChild(c)}const a=this;i.onchange=function(){a._update(this.value,n)};const o=this._makeLabel(n[n.length-1],n);this._makeItem(n,o,i)}_makeRange(e,r,n){const i=e[0],s=e[1],a=e[2],o=e[3],l=document.createElement("input");l.className="vis-configuration vis-config-range";try{l.type="range",l.min=s,l.max=a}catch{}l.step=o;let c="",d=0;r!==void 0?(r<0&&r*1.2<s?(l.min=Math.ceil(r*1.2),d=l.min,c="range increased"):r/1.2<s&&(l.min=Math.ceil(r/1.2),d=l.min,c="range increased"),r*1.2>a&&a!==1&&(l.max=Math.ceil(r*1.2),d=l.max,c="range increased"),l.value=r):l.value=i;const h=document.createElement("input");h.className="vis-configuration vis-config-rangeinput",h.value=l.value;const f=this;l.onchange=function(){h.value=this.value,f._update(Number(this.value),n)},l.oninput=function(){h.value=this.value};const p=this._makeLabel(n[n.length-1],n),m=this._makeItem(n,p,l,h);c!==""&&this.popupHistory[m]!==d&&(this.popupHistory[m]=d,this._setupPopup(c,m))}_makeButton(){if(this.options.showButton===!0){const e=document.createElement("div");e.className="vis-configuration vis-config-button",e.innerText="generate options",e.onclick=()=>{this._printOptions()},e.onmouseover=()=>{e.className="vis-configuration vis-config-button hover"},e.onmouseout=()=>{e.className="vis-configuration vis-config-button"},this.optionsContainer=document.createElement("div"),this.optionsContainer.className="vis-configuration vis-config-option-container",this.domElements.push(this.optionsContainer),this.domElements.push(e)}}_setupPopup(e,r){if(this.initialized===!0&&this.allowCreation===!0&&this.popupCounter<this.popupLimit){const n=document.createElement("div");n.id="vis-configuration-popup",n.className="vis-configuration-popup",n.innerText=e,n.onclick=()=>{this._removePopup()},this.popupCounter+=1,this.popupDiv={html:n,index:r}}}_removePopup(){this.popupDiv.html!==void 0&&(this.popupDiv.html.parentNode.removeChild(this.popupDiv.html),clearTimeout(this.popupDiv.hideTimeout),clearTimeout(this.popupDiv.deleteTimeout),this.popupDiv={})}_showPopupIfNeeded(){if(this.popupDiv.html!==void 0){const r=this.domElements[this.popupDiv.index].getBoundingClientRect();this.popupDiv.html.style.left=r.left+"px",this.popupDiv.html.style.top=r.top-30+"px",document.body.appendChild(this.popupDiv.html),this.popupDiv.hideTimeout=ls(()=>{this.popupDiv.html.style.opacity=0},1500),this.popupDiv.deleteTimeout=ls(()=>{this._removePopup()},1800)}}_makeCheckbox(e,r,n){const i=document.createElement("input");i.type="checkbox",i.className="vis-configuration vis-config-checkbox",i.checked=e,r!==void 0&&(i.checked=r,r!==e&&(typeof e=="object"?r!==e.enabled&&this.changedOptions.push({path:n,value:r}):this.changedOptions.push({path:n,value:r})));const s=this;i.onchange=function(){s._update(this.checked,n)};const a=this._makeLabel(n[n.length-1],n);this._makeItem(n,a,i)}_makeTextInput(e,r,n){const i=document.createElement("input");i.type="text",i.className="vis-configuration vis-config-text",i.value=r,r!==e&&this.changedOptions.push({path:n,value:r});const s=this;i.onchange=function(){s._update(this.value,n)};const a=this._makeLabel(n[n.length-1],n);this._makeItem(n,a,i)}_makeColorField(e,r,n){const i=e[1],s=document.createElement("div");r=r===void 0?i:r,r!=="none"?(s.className="vis-configuration vis-config-colorBlock",s.style.backgroundColor=r):s.className="vis-configuration vis-config-colorBlock none",r=r===void 0?i:r,s.onclick=()=>{this._showColorPicker(r,s,n)};const a=this._makeLabel(n[n.length-1],n);this._makeItem(n,a,s)}_showColorPicker(e,r,n){r.onclick=function(){},this.colorPicker.insertTo(r),this.colorPicker.show(),this.colorPicker.setColor(e),this.colorPicker.setUpdateCallback(i=>{const s="rgba("+i.r+","+i.g+","+i.b+","+i.a+")";r.style.backgroundColor=s,this._update(s,n)}),this.colorPicker.setCloseCallback(()=>{r.onclick=()=>{this._showColorPicker(e,r,n)}})}_handleObject(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,i=!1;const s=rn(this.options);let a=!1;for(const o in e)if(Object.prototype.hasOwnProperty.call(e,o)){i=!0;const l=e[o],c=Dp(r,o);if(typeof s=="function"&&(i=s(o,r),i===!1&&!Dt(l)&&typeof l!="string"&&typeof l!="boolean"&&l instanceof Object&&(this.allowCreation=!1,i=this._handleObject(l,c,!0),this.allowCreation=n===!1)),i!==!1){a=!0;const d=this._getValue(c);if(Dt(l))this._handleArray(l,d,c);else if(typeof l=="string")this._makeTextInput(l,d,c);else if(typeof l=="boolean")this._makeCheckbox(l,d,c);else if(l instanceof Object){if(!this.hideOption(r,o,this.moduleOptions))if(l.enabled!==void 0){const h=Dp(c,"enabled"),f=this._getValue(h);if(f===!0){const p=this._makeLabel(o,c,!0);this._makeItem(c,p),a=this._handleObject(l,c)||a}else this._makeCheckbox(l,f,c)}else{const h=this._makeLabel(o,c,!0);this._makeItem(c,h),a=this._handleObject(l,c)||a}}else console.error("dont know how to handle",l,o,c)}}return a}_handleArray(e,r,n){typeof e[0]=="string"&&e[0]==="color"?(this._makeColorField(e,r,n),e[1]!==r&&this.changedOptions.push({path:n,value:r})):typeof e[0]=="string"?(this._makeDropdown(e,r,n),e[0]!==r&&this.changedOptions.push({path:n,value:r})):typeof e[0]=="number"&&(this._makeRange(e,r,n),e[0]!==r&&this.changedOptions.push({path:n,value:Number(r)}))}_update(e,r){const n=this._constructOptions(e,r);this.parent.body&&this.parent.body.emitter&&this.parent.body.emitter.emit&&this.parent.body.emitter.emit("configChange",n),this.initialized=!0,this.parent.setOptions(n)}_constructOptions(e,r){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},i=n;e=e==="true"?!0:e,e=e==="false"?!1:e;for(let s=0;s<r.length;s++)r[s]!=="global"&&(i[r[s]]===void 0&&(i[r[s]]={}),s!==r.length-1?i=i[r[s]]:i[r[s]]=e);return n}_printOptions(){const e=this.getOptions();for(;this.optionsContainer.firstChild;)this.optionsContainer.removeChild(this.optionsContainer.firstChild);this.optionsContainer.appendChild(Hj("pre","const options = "+Th(e,null,2)))}getOptions(){const e={};for(let r=0;r<this.changedOptions.length;r++)this._constructOptions(this.changedOptions[r].value,this.changedOptions[r].path,e);return e}},ege=class{constructor(e,r){this.container=e,this.overflowMethod=r||"cap",this.x=0,this.y=0,this.padding=5,this.hidden=!1,this.frame=document.createElement("div"),this.frame.className="vis-tooltip",this.container.appendChild(this.frame)}setPosition(e,r){this.x=ai(e),this.y=ai(r)}setText(e){if(e instanceof Element){for(;this.frame.firstChild;)this.frame.removeChild(this.frame.firstChild);this.frame.appendChild(e)}else this.frame.innerText=e}show(e){if(e===void 0&&(e=!0),e===!0){const r=this.frame.clientHeight,n=this.frame.clientWidth,i=this.frame.parentNode.clientHeight,s=this.frame.parentNode.clientWidth;let a=0,o=0;if(this.overflowMethod=="flip"){let l=!1,c=!0;this.y-r<this.padding&&(c=!1),this.x+n>s-this.padding&&(l=!0),l?a=this.x-n:a=this.x,c?o=this.y-r:o=this.y}else o=this.y-r,o+r+this.padding>i&&(o=i-r-this.padding),o<this.padding&&(o=this.padding),a=this.x,a+n+this.padding>s&&(a=s-n-this.padding),a<this.padding&&(a=this.padding);this.frame.style.left=a+"px",this.frame.style.top=o+"px",this.frame.style.visibility="visible",this.hidden=!1}else this.hide()}hide(){this.hidden=!0,this.frame.style.left="0",this.frame.style.top="0",this.frame.style.visibility="hidden"}destroy(){this.frame.parentNode.removeChild(this.frame)}},Tc=!1,Ez;const Vj="background: #FFeeee; color: #dd0000";let tge=class Tt{static validate(e,r,n){Tc=!1,Ez=r;let i=r;return n!==void 0&&(i=r[n]),Tt.parse(e,i,[]),Tc}static parse(e,r,n){for(const i in e)Object.prototype.hasOwnProperty.call(e,i)&&Tt.check(i,e,r,n)}static check(e,r,n,i){if(n[e]===void 0&&n.__any__===void 0){Tt.getSuggestion(e,n,i);return}let s=e,a=!0;n[e]===void 0&&n.__any__!==void 0&&(s="__any__",a=Tt.getType(r[e])==="object");let o=n[s];a&&o.__type__!==void 0&&(o=o.__type__),Tt.checkFields(e,r,n,s,o,i)}static checkFields(e,r,n,i,s,a){const o=function(d){console.error("%c"+d+Tt.printLocation(a,e),Vj)},l=Tt.getType(r[e]),c=s[l];c!==void 0?Tt.getType(c)==="array"&&Ze(c).call(c,r[e])===-1?(o('Invalid option detected in "'+e+'". Allowed values are:'+Tt.print(c)+' not "'+r[e]+'". '),Tc=!0):l==="object"&&i!=="__any__"&&(a=Dp(a,e),Tt.parse(r[e],n[i],a)):s.any===void 0&&(o('Invalid type received for "'+e+'". Expected: '+Tt.print(Rt(s))+". Received ["+l+'] "'+r[e]+'"'),Tc=!0)}static getType(e){const r=typeof e;return r==="object"?e===null?"null":e instanceof Boolean?"boolean":e instanceof Number?"number":e instanceof String?"string":Dt(e)?"array":e instanceof Date?"date":e.nodeType!==void 0?"dom":e._isAMomentObject===!0?"moment":"object":r==="number"?"number":r==="boolean"?"boolean":r==="string"?"string":r===void 0?"undefined":r}static getSuggestion(e,r,n){const i=Tt.findInOptions(e,r,n,!1),s=Tt.findInOptions(e,Ez,[],!0),a=8,o=4;let l;i.indexMatch!==void 0?l=" in "+Tt.printLocation(i.path,e,"")+'Perhaps it was incomplete? Did you mean: "'+i.indexMatch+`"?

`:s.distance<=o&&i.distance>s.distance?l=" in "+Tt.printLocation(i.path,e,"")+"Perhaps it was misplaced? Matching option found at: "+Tt.printLocation(s.path,s.closestMatch,""):i.distance<=a?l='. Did you mean "'+i.closestMatch+'"?'+Tt.printLocation(i.path,e):l=". Did you mean one of these: "+Tt.print(Rt(r))+Tt.printLocation(n,e),console.error('%cUnknown option detected: "'+e+'"'+l,Vj),Tc=!0}static findInOptions(e,r,n){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1,s=1e9,a="",o=[];const l=e.toLowerCase();let c;for(const h in r){let f;if(r[h].__type__!==void 0&&i===!0){const p=Tt.findInOptions(e,r[h],Dp(n,h));s>p.distance&&(a=p.closestMatch,o=p.path,s=p.distance,c=p.indexMatch)}else{var d;Ze(d=h.toLowerCase()).call(d,l)!==-1&&(c=h),f=Tt.levenshteinDistance(e,h),s>f&&(a=h,o=Hve(n),s=f)}}return{closestMatch:a,path:o,distance:s,indexMatch:c}}static printLocation(e,r){let i=`

`+(arguments.length>2&&arguments[2]!==void 0?arguments[2]:`Problem value found at: 
`)+`options = {
`;for(let s=0;s<e.length;s++){for(let a=0;a<s+1;a++)i+="  ";i+=e[s]+`: {
`}for(let s=0;s<e.length+1;s++)i+="  ";i+=r+`
`;for(let s=0;s<e.length+1;s++){for(let a=0;a<e.length-s;a++)i+="  ";i+=`}
`}return i+`

`}static print(e){return Th(e).replace(/(")|(\[)|(\])|(,"__type__")/g,"").replace(/(,)/g,", ")}static levenshteinDistance(e,r){if(e.length===0)return r.length;if(r.length===0)return e.length;const n=[];let i;for(i=0;i<=r.length;i++)n[i]=[i];let s;for(s=0;s<=e.length;s++)n[0][s]=s;for(i=1;i<=r.length;i++)for(s=1;s<=e.length;s++)r.charAt(i-1)==e.charAt(s-1)?n[i][s]=n[i-1][s-1]:n[i][s]=Math.min(n[i-1][s-1]+1,Math.min(n[i][s-1]+1,n[i-1][s]+1));return n[r.length][e.length]}};const rge=Pi,nge=Zve,Bl=dT,ige=ege,hQ=Vj,sge=tge;function age(t){return Zs=t,cge()}var fQ={fontsize:"font.size",fontcolor:"font.color",labelfontcolor:"font.color",fontname:"font.face",color:["color.border","color.background"],fillcolor:"color.background",tooltip:"title",labeltooltip:"title"},fT=go(fQ);fT.color="color.color";fT.style="dashes";var Ar={NULL:0,DELIMITER:1,IDENTIFIER:2,UNKNOWN:3},Nz={"{":!0,"}":!0,"[":!0,"]":!0,";":!0,"=":!0,",":!0,"->":!0,"--":!0},Zs="",Cu=0,Me="",Ne="",Zr=Ar.NULL;function oge(){Cu=0,Me=Zs.charAt(0)}function nr(){Cu++,Me=Zs.charAt(Cu)}function hl(){return Zs.charAt(Cu+1)}function jz(t){var e=t.charCodeAt(0);return e<47?e===35||e===46:e<59?e>47:e<91?e>64:e<96?e===95:e<123?e>96:!1}function wa(t,e){if(t||(t={}),e)for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);return t}function lge(t,e,r){for(var n=e.split("."),i=t;n.length;){var s=n.shift();n.length?(i[s]||(i[s]={}),i=i[s]):i[s]=r}}function pQ(t,e){for(var r,n,i=null,s=[t],a=t;a.parent;)s.push(a.parent),a=a.parent;if(a.nodes){for(r=0,n=a.nodes.length;r<n;r++)if(e.id===a.nodes[r].id){i=a.nodes[r];break}}for(i||(i={id:e.id},t.node&&(i.attr=wa(i.attr,t.node))),r=s.length-1;r>=0;r--){var o,l=s[r];l.nodes||(l.nodes=[]),Ze(o=l.nodes).call(o,i)===-1&&l.nodes.push(i)}e.attr&&(i.attr=wa(i.attr,e.attr))}function uge(t,e){if(t.edges||(t.edges=[]),t.edges.push(e),t.edge){var r=wa({},t.edge);e.attr=wa(r,e.attr)}}function mQ(t,e,r,n,i){var s={from:e,to:r,type:n};return t.edge&&(s.attr=wa({},t.edge)),s.attr=wa(s.attr||{},i),i!=null&&i.hasOwnProperty("arrows")&&i.arrows!=null&&(s.arrows={to:{enabled:!0,type:i.arrows.type}},i.arrows=null),s}function ft(){for(Zr=Ar.NULL,Ne="";Me===" "||Me==="	"||Me===`
`||Me==="\r";)nr();do{var t=!1;if(Me==="#"){for(var e=Cu-1;Zs.charAt(e)===" "||Zs.charAt(e)==="	";)e--;if(Zs.charAt(e)===`
`||Zs.charAt(e)===""){for(;Me!=""&&Me!=`
`;)nr();t=!0}}if(Me==="/"&&hl()==="/"){for(;Me!=""&&Me!=`
`;)nr();t=!0}if(Me==="/"&&hl()==="*"){for(;Me!="";)if(Me==="*"&&hl()==="/"){nr(),nr();break}else nr();t=!0}for(;Me===" "||Me==="	"||Me===`
`||Me==="\r";)nr()}while(t);if(Me===""){Zr=Ar.DELIMITER;return}var r=Me+hl();if(Nz[r]){Zr=Ar.DELIMITER,Ne=r,nr(),nr();return}if(Nz[Me]){Zr=Ar.DELIMITER,Ne=Me,nr();return}if(jz(Me)||Me==="-"){for(Ne+=Me,nr();jz(Me);)Ne+=Me,nr();Ne==="false"?Ne=!1:Ne==="true"?Ne=!0:isNaN(Number(Ne))||(Ne=Number(Ne)),Zr=Ar.IDENTIFIER;return}if(Me==='"'){for(nr();Me!=""&&(Me!='"'||Me==='"'&&hl()==='"');)Me==='"'?(Ne+=Me,nr()):Me==="\\"&&hl()==="n"?(Ne+=`
`,nr()):Ne+=Me,nr();if(Me!='"')throw Fr('End of string " expected');nr(),Zr=Ar.IDENTIFIER;return}for(Zr=Ar.UNKNOWN;Me!="";)Ne+=Me,nr();throw new SyntaxError('Syntax error in part "'+bQ(Ne,30)+'"')}function cge(){var t={};if(oge(),ft(),Ne==="strict"&&(t.strict=!0,ft()),(Ne==="graph"||Ne==="digraph")&&(t.type=Ne,ft()),Zr===Ar.IDENTIFIER&&(t.id=Ne,ft()),Ne!="{")throw Fr("Angle bracket { expected");if(ft(),vQ(t),Ne!="}")throw Fr("Angle bracket } expected");if(ft(),Ne!=="")throw Fr("End of file expected");return ft(),delete t.node,delete t.edge,delete t.graph,t}function vQ(t){for(;Ne!==""&&Ne!="}";)dge(t),Ne===";"&&ft()}function dge(t){var e=gQ(t);if(e){yQ(t,e);return}var r=hge(t);if(!r){if(Zr!=Ar.IDENTIFIER)throw Fr("Identifier expected");var n=Ne;if(ft(),Ne==="="){if(ft(),Zr!=Ar.IDENTIFIER)throw Fr("Identifier expected");t[n]=Ne,ft()}else fge(t,n)}}function gQ(t){var e=null;if(Ne==="subgraph"&&(e={},e.type="subgraph",ft(),Zr===Ar.IDENTIFIER&&(e.id=Ne,ft())),Ne==="{"){if(ft(),e||(e={}),e.parent=t,e.node=t.node,e.edge=t.edge,e.graph=t.graph,vQ(e),Ne!="}")throw Fr("Angle bracket } expected");ft(),delete e.node,delete e.edge,delete e.graph,delete e.parent,t.subgraphs||(t.subgraphs=[]),t.subgraphs.push(e)}return e}function hge(t){return Ne==="node"?(ft(),t.node=Zc(),"node"):Ne==="edge"?(ft(),t.edge=Zc(),"edge"):Ne==="graph"?(ft(),t.graph=Zc(),"graph"):null}function fge(t,e){var r={id:e},n=Zc();n&&(r.attr=n),pQ(t,r),yQ(t,e)}function yQ(t,e){for(;Ne==="->"||Ne==="--";){var r,n=Ne;ft();var i=gQ(t);if(i)r=i;else{if(Zr!=Ar.IDENTIFIER)throw Fr("Identifier or subgraph expected");r=Ne,pQ(t,{id:r}),ft()}var s=Zc(),a=mQ(t,e,r,n,s);uge(t,a),e=r}}function Zc(){for(var t,e=null,r={dashed:!0,solid:!1,dotted:[1,5]},n={dot:"circle",box:"box",crow:"crow",curve:"curve",icurve:"inv_curve",normal:"triangle",inv:"inv_triangle",diamond:"diamond",tee:"bar",vee:"vee"},i=new Array,s=new Array;Ne==="[";){for(ft(),e={};Ne!==""&&Ne!="]";){if(Zr!=Ar.IDENTIFIER)throw Fr("Attribute name expected");var a=Ne;if(ft(),Ne!="=")throw Fr("Equal sign = expected");if(ft(),Zr!=Ar.IDENTIFIER)throw Fr("Attribute value expected");var o=Ne;a==="style"&&(o=r[o]);var l;a==="arrowhead"&&(l=n[o],a="arrows",o={to:{enabled:!0,type:l}}),a==="arrowtail"&&(l=n[o],a="arrows",o={from:{enabled:!0,type:l}}),i.push({attr:e,name:a,value:o}),s.push(a),ft(),Ne==","&&ft()}if(Ne!="]")throw Fr("Bracket ] expected");ft()}if(fa(s).call(s,"dir")){var c={};for(c.arrows={},t=0;t<i.length;t++)if(i[t].name==="arrows")if(i[t].value.to!=null)c.arrows.to=t;else if(i[t].value.from!=null)c.arrows.from=t;else throw Fr("Invalid value of arrows");else i[t].name==="dir"&&(c.dir=t);var d=i[c.dir].value;if(!fa(s).call(s,"arrows"))if(d==="both")i.push({attr:i[c.dir].attr,name:"arrows",value:{to:{enabled:!0}}}),c.arrows.to=i.length-1,i.push({attr:i[c.dir].attr,name:"arrows",value:{from:{enabled:!0}}}),c.arrows.from=i.length-1;else if(d==="forward")i.push({attr:i[c.dir].attr,name:"arrows",value:{to:{enabled:!0}}}),c.arrows.to=i.length-1;else if(d==="back")i.push({attr:i[c.dir].attr,name:"arrows",value:{from:{enabled:!0}}}),c.arrows.from=i.length-1;else if(d==="none")i.push({attr:i[c.dir].attr,name:"arrows",value:""}),c.arrows.to=i.length-1;else throw Fr('Invalid dir type "'+d+'"');var h,f;if(d==="both")c.arrows.to&&c.arrows.from?(f=i[c.arrows.to].value.to.type,h=i[c.arrows.from].value.from.type,i[c.arrows.to]={attr:i[c.arrows.to].attr,name:i[c.arrows.to].name,value:{to:{enabled:!0,type:f},from:{enabled:!0,type:h}}},os(i).call(i,c.arrows.from,1)):c.arrows.to?(f=i[c.arrows.to].value.to.type,h="arrow",i[c.arrows.to]={attr:i[c.arrows.to].attr,name:i[c.arrows.to].name,value:{to:{enabled:!0,type:f},from:{enabled:!0,type:h}}}):c.arrows.from&&(f="arrow",h=i[c.arrows.from].value.from.type,i[c.arrows.from]={attr:i[c.arrows.from].attr,name:i[c.arrows.from].name,value:{to:{enabled:!0,type:f},from:{enabled:!0,type:h}}});else if(d==="back")c.arrows.to&&c.arrows.from?(f="",h=i[c.arrows.from].value.from.type,i[c.arrows.from]={attr:i[c.arrows.from].attr,name:i[c.arrows.from].name,value:{to:{enabled:!0,type:f},from:{enabled:!0,type:h}}}):c.arrows.to?(f="",h="arrow",c.arrows.from=c.arrows.to,i[c.arrows.from]={attr:i[c.arrows.from].attr,name:i[c.arrows.from].name,value:{to:{enabled:!0,type:f},from:{enabled:!0,type:h}}}):c.arrows.from&&(f="",h=i[c.arrows.from].value.from.type,i[c.arrows.to]={attr:i[c.arrows.from].attr,name:i[c.arrows.from].name,value:{to:{enabled:!0,type:f},from:{enabled:!0,type:h}}}),i[c.arrows.from]={attr:i[c.arrows.from].attr,name:i[c.arrows.from].name,value:{from:{enabled:!0,type:i[c.arrows.from].value.from.type}}};else if(d==="none"){var p;c.arrows.to?p=c.arrows.to:p=c.arrows.from,i[p]={attr:i[p].attr,name:i[p].name,value:""}}else if(d==="forward")c.arrows.to&&c.arrows.from?(f=i[c.arrows.to].value.to.type,h="",i[c.arrows.to]={attr:i[c.arrows.to].attr,name:i[c.arrows.to].name,value:{to:{enabled:!0,type:f},from:{enabled:!0,type:h}}}):c.arrows.to?(f=i[c.arrows.to].value.to.type,h="",i[c.arrows.to]={attr:i[c.arrows.to].attr,name:i[c.arrows.to].name,value:{to:{enabled:!0,type:f},from:{enabled:!0,type:h}}}):c.arrows.from&&(f="arrow",h="",c.arrows.to=c.arrows.from,i[c.arrows.to]={attr:i[c.arrows.to].attr,name:i[c.arrows.to].name,value:{to:{enabled:!0,type:f},from:{enabled:!0,type:h}}}),i[c.arrows.to]={attr:i[c.arrows.to].attr,name:i[c.arrows.to].name,value:{to:{enabled:!0,type:i[c.arrows.to].value.to.type}}};else throw Fr('Invalid dir type "'+d+'"');os(i).call(i,c.dir,1)}var m;if(fa(s).call(s,"penwidth")){var y=[];for(m=i.length,t=0;t<m;t++)i[t].name!=="width"&&(i[t].name==="penwidth"&&(i[t].name="width"),y.push(i[t]));i=y}for(m=i.length,t=0;t<m;t++)lge(i[t].attr,i[t].name,i[t].value);return e}function Fr(t){return new SyntaxError(t+', got "'+bQ(Ne,30)+'" (char '+Cu+")")}function bQ(t,e){return t.length<=e?t:t.substr(0,27)+"..."}function pge(t,e,r){Dt(t)?ot(t).call(t,function(n){Dt(e)?ot(e).call(e,function(i){r(n,i)}):r(n,e)}):Dt(e)?ot(e).call(e,function(n){r(t,n)}):r(t,e)}function MS(t,e,r){for(var n=e.split("."),i=n.pop(),s=t,a=0;a<n.length;a++){var o=n[a];o in s||(s[o]={}),s=s[o]}return s[i]=r,t}function Cz(t,e){var r={};for(var n in t)if(t.hasOwnProperty(n)){var i=e[n];Dt(i)?ot(i).call(i,function(s){MS(r,s,t[n])}):typeof i=="string"?MS(r,i,t[n]):MS(r,n,t[n])}return r}function mge(t){var e=age(t),r={nodes:[],edges:[],options:{}};if(e.nodes){var n;ot(n=e.nodes).call(n,function(a){var o={id:a.id,label:String(a.label||a.id)};wa(o,Cz(a.attr,fQ)),o.image&&(o.shape="image"),r.nodes.push(o)})}if(e.edges){var i,s=function(a){var o={from:a.from,to:a.to};return wa(o,Cz(a.attr,fT)),o.arrows==null&&a.type==="->"&&(o.arrows="to"),o};ot(i=e.edges).call(i,function(a){var o,l;if(a.from instanceof Object?o=a.from.nodes:o={id:a.from},a.to instanceof Object?l=a.to.nodes:l={id:a.to},a.from instanceof Object&&a.from.edges){var c;ot(c=a.from.edges).call(c,function(h){var f=s(h);r.edges.push(f)})}if(pge(o,l,function(h,f){var p=mQ(r,h.id,f.id,a.type,a.attr),m=s(p);r.edges.push(m)}),a.to instanceof Object&&a.to.edges){var d;ot(d=a.to.edges).call(d,function(h){var f=s(h);r.edges.push(f)})}})}return e.attr&&(r.options=e.attr),r}function vge(t,e){var r;const n={edges:{inheritColor:!1},nodes:{fixed:!1,parseColor:!1}};e!=null&&(e.fixed!=null&&(n.nodes.fixed=e.fixed),e.parseColor!=null&&(n.nodes.parseColor=e.parseColor),e.inheritColor!=null&&(n.edges.inheritColor=e.inheritColor));const i=t.edges,s=Su(i).call(i,o=>{const l={from:o.source,id:o.id,to:o.target};return o.attributes!=null&&(l.attributes=o.attributes),o.label!=null&&(l.label=o.label),o.attributes!=null&&o.attributes.title!=null&&(l.title=o.attributes.title),o.type==="Directed"&&(l.arrows="to"),o.color&&n.edges.inheritColor===!1&&(l.color=o.color),l});return{nodes:Su(r=t.nodes).call(r,o=>{const l={id:o.id,fixed:n.nodes.fixed&&o.x!=null&&o.y!=null};return o.attributes!=null&&(l.attributes=o.attributes),o.label!=null&&(l.label=o.label),o.size!=null&&(l.size=o.size),o.attributes!=null&&o.attributes.title!=null&&(l.title=o.attributes.title),o.title!=null&&(l.title=o.title),o.x!=null&&(l.x=o.x),o.y!=null&&(l.y=o.y),o.color!=null&&(n.nodes.parseColor===!0?l.color=o.color:l.color={background:o.color,border:o.color,highlight:{background:o.color,border:o.color},hover:{background:o.color,border:o.color}}),l}),edges:s}}const gge={addDescription:"Click in an empty space to place a new node.",addEdge:"Add Edge",addNode:"Add Node",back:"Back",close:"Close",createEdgeError:"Cannot link edges to a cluster.",del:"Delete selected",deleteClusterError:"Clusters cannot be deleted.",edgeDescription:"Click on a node and drag the edge to another node to connect them.",edit:"Edit",editClusterError:"Clusters cannot be edited.",editEdge:"Edit Edge",editEdgeDescription:"Click on the control points and drag them to a node to connect to it.",editNode:"Edit Node"},yge={addDescription:"Klicke auf eine freie Stelle, um einen neuen Knoten zu plazieren.",addEdge:"Kante hinzufgen",addNode:"Knoten hinzufgen",back:"Zurck",close:"Schlieen",createEdgeError:"Es ist nicht mglich, Kanten mit Clustern zu verbinden.",del:"Lsche Auswahl",deleteClusterError:"Cluster knnen nicht gelscht werden.",edgeDescription:"Klicke auf einen Knoten und ziehe die Kante zu einem anderen Knoten, um diese zu verbinden.",edit:"Editieren",editClusterError:"Cluster knnen nicht editiert werden.",editEdge:"Kante editieren",editEdgeDescription:"Klicke auf die Verbindungspunkte und ziehe diese auf einen Knoten, um sie zu verbinden.",editNode:"Knoten editieren"},bge={addDescription:"Haga clic en un lugar vaco para colocar un nuevo nodo.",addEdge:"Aadir arista",addNode:"Aadir nodo",back:"Atrs",close:"Cerrar",createEdgeError:"No se puede conectar una arista a un grupo.",del:"Eliminar seleccin",deleteClusterError:"No es posible eliminar grupos.",edgeDescription:"Haga clic en un nodo y arrastre la arista hacia otro nodo para conectarlos.",edit:"Editar",editClusterError:"No es posible editar grupos.",editEdge:"Editar arista",editEdgeDescription:"Haga clic en un punto de control y arrastrelo a un nodo para conectarlo.",editNode:"Editar nodo"},xge={addDescription:"Clicca per aggiungere un nuovo nodo",addEdge:"Aggiungi un vertice",addNode:"Aggiungi un nodo",back:"Indietro",close:"Chiudere",createEdgeError:"Non si possono collegare vertici ad un cluster",del:"Cancella la selezione",deleteClusterError:"I cluster non possono essere cancellati",edgeDescription:"Clicca su un nodo e trascinalo ad un altro nodo per connetterli.",edit:"Modifica",editClusterError:"I clusters non possono essere modificati.",editEdge:"Modifica il vertice",editEdgeDescription:"Clicca sui Punti di controllo e trascinali ad un nodo per connetterli.",editNode:"Modifica il nodo"},wge={addDescription:"Klik op een leeg gebied om een nieuwe node te maken.",addEdge:"Link toevoegen",addNode:"Node toevoegen",back:"Terug",close:"Sluiten",createEdgeError:"Kan geen link maken naar een cluster.",del:"Selectie verwijderen",deleteClusterError:"Clusters kunnen niet worden verwijderd.",edgeDescription:"Klik op een node en sleep de link naar een andere node om ze te verbinden.",edit:"Wijzigen",editClusterError:"Clusters kunnen niet worden aangepast.",editEdge:"Link wijzigen",editEdgeDescription:"Klik op de verbindingspunten en sleep ze naar een node om daarmee te verbinden.",editNode:"Node wijzigen"},_ge={addDescription:"Clique em um espao em branco para adicionar um novo n",addEdge:"Adicionar aresta",addNode:"Adicionar n",back:"Voltar",close:"Fechar",createEdgeError:"No foi possvel linkar arestas a um cluster.",del:"Remover selecionado",deleteClusterError:"Clusters no puderam ser removidos.",edgeDescription:"Clique em um n e arraste a aresta at outro n para conect-los",edit:"Editar",editClusterError:"Clusters no puderam ser editados.",editEdge:"Editar aresta",editEdgeDescription:"Clique nos pontos de controle e os arraste para um n para conect-los",editNode:"Editar n"},Sge={addDescription:"   ,    .",addEdge:" ",addNode:" ",back:"",close:"",createEdgeError:"    .",del:" ",deleteClusterError:"    ",edgeDescription:"        ,   .",edit:"",editClusterError:"   .",editEdge:" ",editEdgeDescription:"        ,    .",editNode:" "},Ege={addDescription:"",addEdge:"",addNode:"",back:"",close:"",createEdgeError:"",del:"",deleteClusterError:"",edgeDescription:"",edit:"",editClusterError:"",editEdge:"",editEdgeDescription:"",editNode:""},Nge={addDescription:"K   ,    .",addEdge:" ",addNode:" ",back:"",close:"",createEdgeError:"  '   .",del:" ",deleteClusterError:"    .",edgeDescription:"        ,   '.",edit:"",editClusterError:"   .",editEdge:" ",editEdgeDescription:"        ,    .",editNode:" "},jge={addDescription:"Cliquez dans un endroit vide pour placer un nud.",addEdge:"Ajouter un lien",addNode:"Ajouter un nud",back:"Retour",close:"Fermer",createEdgeError:"Impossible de crer un lien vers un cluster.",del:"Effacer la slection",deleteClusterError:"Les clusters ne peuvent pas tre effacs.",edgeDescription:"Cliquez sur un nud et glissez le lien vers un autre nud pour les connecter.",edit:"diter",editClusterError:"Les clusters ne peuvent pas tre dits.",editEdge:"diter le lien",editEdgeDescription:"Cliquez sur les points de contrle et glissez-les pour connecter un nud.",editNode:"diter le nud"},Cge={addDescription:"Kluknutm do przdnho prostoru mete pidat nov vrchol.",addEdge:"Pidat hranu",addNode:"Pidat vrchol",back:"Zpt",close:"Zavt",createEdgeError:"Nelze pipojit hranu ke shluku.",del:"Smazat vbr",deleteClusterError:"Nelze mazat shluky.",edgeDescription:"Petaenm z jednoho vrcholu do druhho mete spojit tyto vrcholy novou hranou.",edit:"Upravit",editClusterError:"Nelze upravovat shluky.",editEdge:"Upravit hranu",editEdgeDescription:"Petaenm kontrolnho vrcholu hrany ji mete pipojit k jinmu vrcholu.",editNode:"Upravit vrchol"};var Oge=Object.freeze({__proto__:null,cn:Ege,cs:Cge,de:yge,en:gge,es:bge,fr:jge,it:xge,nl:wge,pt:_ge,ru:Sge,uk:Nge});function Tge(t,e){try{const[n,i]=e.split(/[-_ /]/,2),s=n!=null?n.toLowerCase():null,a=i!=null?i.toUpperCase():null;if(s&&a){const o=s+"-"+a;if(Object.prototype.hasOwnProperty.call(t,o))return o;var r;console.warn(Zpe(r="Unknown variant ".concat(a," of language ")).call(r,s,"."))}if(s){const o=s;if(Object.prototype.hasOwnProperty.call(t,o))return o;console.warn("Unknown language ".concat(s))}return console.warn("Unknown locale ".concat(e,", falling back to English.")),"en"}catch(n){return console.error(n),console.warn("Unexpected error while normalizing locale ".concat(e,", falling back to English.")),"en"}}class Pge{constructor(){this.NUM_ITERATIONS=4,this.image=new Image,this.canvas=document.createElement("canvas")}init(){if(this.initialized())return;this.src=this.image.src;const e=this.image.width,r=this.image.height;this.width=e,this.height=r;const n=Math.floor(r/2),i=Math.floor(r/4),s=Math.floor(r/8),a=Math.floor(r/16),o=Math.floor(e/2),l=Math.floor(e/4),c=Math.floor(e/8),d=Math.floor(e/16);this.canvas.width=3*l,this.canvas.height=n,this.coordinates=[[0,0,o,n],[o,0,l,i],[o,i,c,s],[5*c,i,d,a]],this._fillMipMap()}initialized(){return this.coordinates!==void 0}_fillMipMap(){const e=this.canvas.getContext("2d"),r=this.coordinates[0];e.drawImage(this.image,r[0],r[1],r[2],r[3]);for(let n=1;n<this.NUM_ITERATIONS;n++){const i=this.coordinates[n-1],s=this.coordinates[n];e.drawImage(this.canvas,i[0],i[1],i[2],i[3],s[0],s[1],s[2],s[3])}}drawImageAtPosition(e,r,n,i,s,a){if(this.initialized())if(r>2){r*=.5;let o=0;for(;r>2&&o<this.NUM_ITERATIONS;)r*=.5,o+=1;o>=this.NUM_ITERATIONS&&(o=this.NUM_ITERATIONS-1);const l=this.coordinates[o];e.drawImage(this.canvas,l[0],l[1],l[2],l[3],n,i,s,a)}else e.drawImage(this.image,n,i,s,a)}}class Ige{constructor(e){this.images={},this.imageBroken={},this.callback=e}_tryloadBrokenUrl(e,r,n){if(!(e===void 0||n===void 0)){if(r===void 0){console.warn("No broken url image defined");return}n.image.onerror=()=>{console.error("Could not load brokenImage:",r)},n.image.src=r}}_redrawWithImage(e){this.callback&&this.callback(e)}load(e,r){const n=this.images[e];if(n)return n;const i=new Pge;return this.images[e]=i,i.image.onload=()=>{this._fixImageCoordinates(i.image),i.init(),this._redrawWithImage(i)},i.image.onerror=()=>{console.error("Could not load image:",e),this._tryloadBrokenUrl(e,r,i)},i.image.src=e,i}_fixImageCoordinates(e){e.width===0&&(document.body.appendChild(e),e.width=e.offsetWidth,e.height=e.offsetHeight,document.body.removeChild(e))}}var Oz={},Tz={},qS={exports:{}},AS,Pz;function Rge(){if(Pz)return AS;Pz=1;var t=Be();return AS=t(function(){if(typeof ArrayBuffer=="function"){var e=new ArrayBuffer(8);Object.isExtensible(e)&&Object.defineProperty(e,"a",{value:8})}}),AS}var FS,Iz;function $ge(){if(Iz)return FS;Iz=1;var t=Be(),e=hr(),r=Ai(),n=Rge(),i=Object.isExtensible,s=t(function(){});return FS=s||n?function(o){return!e(o)||n&&r(o)==="ArrayBuffer"?!1:i?i(o):!0}:i,FS}var LS,Rz;function xQ(){if(Rz)return LS;Rz=1;var t=Be();return LS=!t(function(){return Object.isExtensible(Object.preventExtensions({}))}),LS}var $z;function zm(){if($z)return qS.exports;$z=1;var t=Se(),e=He(),r=Eh(),n=hr(),i=xr(),s=Gn().f,a=Mm(),o=JO(),l=$ge(),c=Tm(),d=xQ(),h=!1,f=c("meta"),p=0,m=function(x){s(x,f,{value:{objectID:"O"+p++,weakData:{}}})},y=function(x,_){if(!n(x))return typeof x=="symbol"?x:(typeof x=="string"?"S":"P")+x;if(!i(x,f)){if(!l(x))return"F";if(!_)return"E";m(x)}return x[f].objectID},b=function(x,_){if(!i(x,f)){if(!l(x))return!0;if(!_)return!1;m(x)}return x[f].weakData},g=function(x){return d&&h&&l(x)&&!i(x,f)&&m(x),x},v=function(){w.enable=function(){},h=!0;var x=a.f,_=e([].splice),E={};E[f]=1,x(E).length&&(a.f=function(N){for(var S=x(N),j=0,C=S.length;j<C;j++)if(S[j]===f){_(S,j,1);break}return S},t({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:o.f}))},w=qS.exports={enable:v,fastKey:y,getWeakData:b,onFreeze:g};return r[f]=!0,qS.exports}var BS,kz;function kge(){if(kz)return BS;kz=1;var t=Xt(),e=ic(),r=t("iterator"),n=Array.prototype;return BS=function(i){return i!==void 0&&(e.Array===i||n[r]===i)},BS}var zS,Dz;function wQ(){if(Dz)return zS;Dz=1;var t=nc(),e=UO(),r=Gu(),n=ic(),i=Xt(),s=i("iterator");return zS=function(a){if(!r(a))return e(a,s)||e(a,"@@iterator")||n[t(a)]},zS}var US,Mz;function Dge(){if(Mz)return US;Mz=1;var t=vn(),e=Cs(),r=Fi(),n=Xu(),i=wQ(),s=TypeError;return US=function(a,o){var l=arguments.length<2?i(a):o;if(e(l))return r(t(l,a));throw new s(n(a)+" is not iterable")},US}var WS,qz;function pT(){if(qz)return WS;qz=1;var t=vn(),e=Fi(),r=UO();return WS=function(n,i,s){var a,o;e(n);try{if(a=r(n,"return"),!a){if(i==="throw")throw s;return s}a=t(a,n)}catch(l){o=!0,a=l}if(i==="throw")throw s;if(o)throw a;return e(a),s},WS}var HS,Az;function Um(){if(Az)return HS;Az=1;var t=Im(),e=vn(),r=Fi(),n=Xu(),i=kge(),s=Os(),a=Qt(),o=Dge(),l=wQ(),c=pT(),d=TypeError,h=function(p,m){this.stopped=p,this.result=m},f=h.prototype;return HS=function(p,m,y){var b=y&&y.that,g=!!(y&&y.AS_ENTRIES),v=!!(y&&y.IS_RECORD),w=!!(y&&y.IS_ITERATOR),x=!!(y&&y.INTERRUPTED),_=t(m,b),E,N,S,j,C,O,T,P=function(F){return E&&c(E,"normal"),new h(!0,F)},D=function(F){return g?(r(F),x?_(F[0],F[1],P):_(F[0],F[1])):x?_(F,P):_(F)};if(v)E=p.iterator;else if(w)E=p;else{if(N=l(p),!N)throw new d(n(p)+" is not iterable");if(i(N)){for(S=0,j=s(p);j>S;S++)if(C=D(p[S]),C&&a(f,C))return C;return new h(!1)}E=o(p,N)}for(O=v?p.next:E.next;!(T=e(O,E)).done;){try{C=D(T.value)}catch(F){c(E,"throw",F)}if(typeof C=="object"&&C&&a(f,C))return C}return new h(!1)},HS}var VS,Fz;function mT(){if(Fz)return VS;Fz=1;var t=Qt(),e=TypeError;return VS=function(r,n){if(t(n,r))return r;throw new e("Incorrect invocation")},VS}var KS,Lz;function vT(){if(Lz)return KS;Lz=1;var t=Se(),e=_t(),r=zm(),n=Be(),i=ec(),s=Um(),a=mT(),o=dr(),l=hr(),c=Gu(),d=Jo(),h=Gn().f,f=Ra().forEach,p=Lt(),m=Zo(),y=m.set,b=m.getterFor;return KS=function(g,v,w){var x=g.indexOf("Map")!==-1,_=g.indexOf("Weak")!==-1,E=x?"set":"add",N=e[g],S=N&&N.prototype,j={},C;if(!p||!o(N)||!(_||S.forEach&&!n(function(){new N().entries().next()})))C=w.getConstructor(v,g,x,E),r.enable();else{C=v(function(P,D){y(a(P,O),{type:g,collection:new N}),c(D)||s(D,P[E],{that:P,AS_ENTRIES:x})});var O=C.prototype,T=b(g);f(["add","clear","delete","forEach","get","has","set","keys","values","entries"],function(P){var D=P==="add"||P==="set";P in S&&!(_&&P==="clear")&&i(O,P,function(F,Q){var H=T(this).collection;if(!D&&_&&!l(F))return P==="get"?void 0:!1;var L=H[P](F===0?0:F,Q);return D?this:L})}),_||h(O,"size",{configurable:!0,get:function(){return T(this).collection.size}})}return d(C,g,!1,!0),j[g]=C,t({global:!0,forced:!0},j),_||w.setStrong(C,g,x),C},KS}var GS,Bz;function gT(){if(Bz)return GS;Bz=1;var t=Oh();return GS=function(e,r,n){for(var i in r)n&&n.unsafe&&e[i]?e[i]=r[i]:t(e,i,r[i],n);return e},GS}var YS,zz;function Mge(){if(zz)return YS;zz=1;var t=On(),e=ZO(),r=Xt(),n=Lt(),i=r("species");return YS=function(s){var a=t(s);n&&a&&!a[i]&&e(a,i,{configurable:!0,get:function(){return this}})},YS}var QS,Uz;function _Q(){if(Uz)return QS;Uz=1;var t=Ch(),e=ZO(),r=gT(),n=Im(),i=mT(),s=Gu(),a=Um(),o=tT(),l=rT(),c=Mge(),d=Lt(),h=zm().fastKey,f=Zo(),p=f.set,m=f.getterFor;return QS={getConstructor:function(y,b,g,v){var w=y(function(S,j){i(S,x),p(S,{type:b,index:t(null),first:null,last:null,size:0}),d||(S.size=0),s(j)||a(j,S[v],{that:S,AS_ENTRIES:g})}),x=w.prototype,_=m(b),E=function(S,j,C){var O=_(S),T=N(S,j),P,D;return T?T.value=C:(O.last=T={index:D=h(j,!0),key:j,value:C,previous:P=O.last,next:null,removed:!1},O.first||(O.first=T),P&&(P.next=T),d?O.size++:S.size++,D!=="F"&&(O.index[D]=T)),S},N=function(S,j){var C=_(S),O=h(j),T;if(O!=="F")return C.index[O];for(T=C.first;T;T=T.next)if(T.key===j)return T};return r(x,{clear:function(){for(var j=this,C=_(j),O=C.first;O;)O.removed=!0,O.previous&&(O.previous=O.previous.next=null),O=O.next;C.first=C.last=null,C.index=t(null),d?C.size=0:j.size=0},delete:function(S){var j=this,C=_(j),O=N(j,S);if(O){var T=O.next,P=O.previous;delete C.index[O.index],O.removed=!0,P&&(P.next=T),T&&(T.previous=P),C.first===O&&(C.first=T),C.last===O&&(C.last=P),d?C.size--:j.size--}return!!O},forEach:function(j){for(var C=_(this),O=n(j,arguments.length>1?arguments[1]:void 0),T;T=T?T.next:C.first;)for(O(T.value,T.key,this);T&&T.removed;)T=T.previous},has:function(j){return!!N(this,j)}}),r(x,g?{get:function(j){var C=N(this,j);return C&&C.value},set:function(j,C){return E(this,j===0?0:j,C)}}:{add:function(j){return E(this,j=j===0?0:j,j)}}),d&&e(x,"size",{configurable:!0,get:function(){return _(this).size}}),w},setStrong:function(y,b,g){var v=b+" Iterator",w=m(b),x=m(v);o(y,b,function(_,E){p(this,{type:v,target:_,state:w(_),kind:E,last:null})},function(){for(var _=x(this),E=_.kind,N=_.last;N&&N.removed;)N=N.previous;return!_.target||!(_.last=N=N?N.next:_.state.first)?(_.target=null,l(void 0,!0)):l(E==="keys"?N.key:E==="values"?N.value:[N.key,N.value],!1)},g?"entries":"values",!g,!0),c(b)}},QS}var Wz;function qge(){if(Wz)return Tz;Wz=1;var t=vT(),e=_Q();return t("Map",function(r){return function(){return r(this,arguments.length?arguments[0]:void 0)}},e),Tz}var Hz;function Age(){return Hz||(Hz=1,qge()),Oz}var Vz={},XS,Kz;function SQ(){return Kz||(Kz=1,XS=function(t,e){return e===1?function(r,n){return r[t](n)}:function(r,n,i){return r[t](n,i)}}),XS}var JS,Gz;function Fge(){if(Gz)return JS;Gz=1;var t=On(),e=SQ(),r=t("Map");return JS={Map:r,set:e("set",2),get:e("get",1),has:e("has",1),remove:e("delete",1),proto:r.prototype},JS}var Yz;function Lge(){if(Yz)return Vz;Yz=1;var t=Se(),e=He(),r=Cs(),n=js(),i=Um(),s=Fge(),a=Ju(),o=Be(),l=s.Map,c=s.has,d=s.get,h=s.set,f=e([].push),p=a||o(function(){return l.groupBy("ab",function(m){return m}).get("a").length!==1});return t({target:"Map",stat:!0,forced:a||p},{groupBy:function(y,b){n(y),r(b);var g=new l,v=0;return i(y,function(w){var x=b(w,v++);c(g,x)?f(d(g,x),w):h(g,x,[w])}),g}}),Vz}var Qz={},ZS,Xz;function Bge(){if(Xz)return ZS;Xz=1;var t=He(),e=tc(),r=Yn(),n=js(),i=t("".charAt),s=t("".charCodeAt),a=t("".slice),o=function(l){return function(c,d){var h=r(n(c)),f=e(d),p=h.length,m,y;return f<0||f>=p?l?"":void 0:(m=s(h,f),m<55296||m>56319||f+1===p||(y=s(h,f+1))<56320||y>57343?l?i(h,f):m:l?a(h,f,f+2):(m-55296<<10)+(y-56320)+65536)}};return ZS={codeAt:o(!1),charAt:o(!0)},ZS}var Jz;function yT(){if(Jz)return Qz;Jz=1;var t=Bge().charAt,e=Yn(),r=Zo(),n=tT(),i=rT(),s="String Iterator",a=r.set,o=r.getterFor(s);return n(String,"String",function(l){a(this,{type:s,string:e(l),index:0})},function(){var c=o(this),d=c.string,h=c.index,f;return h>=d.length?i(void 0,!0):(f=t(d,h),c.index+=f.length,i(f,!1))}),Qz}var eE,Zz;function zge(){if(Zz)return eE;Zz=1,sc(),Age(),Lge(),yT();var t=nt();return eE=t.Map,eE}var tE,e8;function Uge(){if(e8)return tE;e8=1;var t=zge();return ac(),tE=t,tE}var rE,t8;function Wge(){return t8||(t8=1,rE=Uge()),rE}var Hge=Wge(),bT=Oe(Hge);class Vge{constructor(){this.clear(),this._defaultIndex=0,this._groupIndex=0,this._defaultGroups=[{border:"#2B7CE9",background:"#97C2FC",highlight:{border:"#2B7CE9",background:"#D2E5FF"},hover:{border:"#2B7CE9",background:"#D2E5FF"}},{border:"#FFA500",background:"#FFFF00",highlight:{border:"#FFA500",background:"#FFFFA3"},hover:{border:"#FFA500",background:"#FFFFA3"}},{border:"#FA0A10",background:"#FB7E81",highlight:{border:"#FA0A10",background:"#FFAFB1"},hover:{border:"#FA0A10",background:"#FFAFB1"}},{border:"#41A906",background:"#7BE141",highlight:{border:"#41A906",background:"#A1EC76"},hover:{border:"#41A906",background:"#A1EC76"}},{border:"#E129F0",background:"#EB7DF4",highlight:{border:"#E129F0",background:"#F0B3F5"},hover:{border:"#E129F0",background:"#F0B3F5"}},{border:"#7C29F0",background:"#AD85E4",highlight:{border:"#7C29F0",background:"#D3BDF0"},hover:{border:"#7C29F0",background:"#D3BDF0"}},{border:"#C37F00",background:"#FFA807",highlight:{border:"#C37F00",background:"#FFCA66"},hover:{border:"#C37F00",background:"#FFCA66"}},{border:"#4220FB",background:"#6E6EFD",highlight:{border:"#4220FB",background:"#9B9BFD"},hover:{border:"#4220FB",background:"#9B9BFD"}},{border:"#FD5A77",background:"#FFC0CB",highlight:{border:"#FD5A77",background:"#FFD1D9"},hover:{border:"#FD5A77",background:"#FFD1D9"}},{border:"#4AD63A",background:"#C2FABC",highlight:{border:"#4AD63A",background:"#E6FFE3"},hover:{border:"#4AD63A",background:"#E6FFE3"}},{border:"#990000",background:"#EE0000",highlight:{border:"#BB0000",background:"#FF3333"},hover:{border:"#BB0000",background:"#FF3333"}},{border:"#FF6000",background:"#FF6000",highlight:{border:"#FF6000",background:"#FF6000"},hover:{border:"#FF6000",background:"#FF6000"}},{border:"#97C2FC",background:"#2B7CE9",highlight:{border:"#D2E5FF",background:"#2B7CE9"},hover:{border:"#D2E5FF",background:"#2B7CE9"}},{border:"#399605",background:"#255C03",highlight:{border:"#399605",background:"#255C03"},hover:{border:"#399605",background:"#255C03"}},{border:"#B70054",background:"#FF007E",highlight:{border:"#B70054",background:"#FF007E"},hover:{border:"#B70054",background:"#FF007E"}},{border:"#AD85E4",background:"#7C29F0",highlight:{border:"#D3BDF0",background:"#7C29F0"},hover:{border:"#D3BDF0",background:"#7C29F0"}},{border:"#4557FA",background:"#000EA1",highlight:{border:"#6E6EFD",background:"#000EA1"},hover:{border:"#6E6EFD",background:"#000EA1"}},{border:"#FFC0CB",background:"#FD5A77",highlight:{border:"#FFD1D9",background:"#FD5A77"},hover:{border:"#FFD1D9",background:"#FD5A77"}},{border:"#C2FABC",background:"#74D66A",highlight:{border:"#E6FFE3",background:"#74D66A"},hover:{border:"#E6FFE3",background:"#74D66A"}},{border:"#EE0000",background:"#990000",highlight:{border:"#FF3333",background:"#BB0000"},hover:{border:"#FF3333",background:"#BB0000"}}],this.options={},this.defaultOptions={useDefaultGroups:!0},Vt(this.options,this.defaultOptions)}setOptions(e){const r=["useDefaultGroups"];if(e!==void 0){for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&Ze(r).call(r,n)===-1){const i=e[n];this.add(n,i)}}}clear(){this._groups=new bT,this._groupNames=[]}get(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,n=this._groups.get(e);if(n===void 0&&r)if(this.options.useDefaultGroups===!1&&this._groupNames.length>0){const i=this._groupIndex%this._groupNames.length;++this._groupIndex,n={},n.color=this._groups.get(this._groupNames[i]),this._groups.set(e,n)}else{const i=this._defaultIndex%this._defaultGroups.length;this._defaultIndex++,n={},n.color=this._defaultGroups[i],this._groups.set(e,n)}return n}add(e,r){return this._groups.has(e)||this._groupNames.push(e),this._groups.set(e,r),r}}var r8={},n8;function Kge(){if(n8)return r8;n8=1;var t=Se();return t({target:"Number",stat:!0},{isNaN:function(r){return r!==r}}),r8}var nE,i8;function Gge(){if(i8)return nE;i8=1,Kge();var t=nt();return nE=t.Number.isNaN,nE}var iE,s8;function Yge(){if(s8)return iE;s8=1;var t=Gge();return iE=t,iE}var sE,a8;function Qge(){return a8||(a8=1,sE=Yge()),sE}var Xge=Qge(),Kj=Oe(Xge),o8={},aE,l8;function Jge(){if(l8)return aE;l8=1;var t=_t(),e=t.isFinite;return aE=Number.isFinite||function(n){return typeof n=="number"&&e(n)},aE}var u8;function Zge(){if(u8)return o8;u8=1;var t=Se(),e=Jge();return t({target:"Number",stat:!0},{isFinite:e}),o8}var oE,c8;function eye(){if(c8)return oE;c8=1,Zge();var t=nt();return oE=t.Number.isFinite,oE}var lE,d8;function tye(){if(d8)return lE;d8=1;var t=eye();return lE=t,lE}var uE,h8;function rye(){return h8||(h8=1,uE=tye()),uE}var nye=rye(),Za=Oe(nye),f8={},p8;function iye(){if(p8)return f8;p8=1;var t=Se(),e=Ra().some,r=oc(),n=r("some");return t({target:"Array",proto:!0,forced:!n},{some:function(s){return e(this,s,arguments.length>1?arguments[1]:void 0)}}),f8}var cE,m8;function sye(){if(m8)return cE;m8=1,iye();var t=wr();return cE=t("Array","some"),cE}var dE,v8;function aye(){if(v8)return dE;v8=1;var t=Qt(),e=sye(),r=Array.prototype;return dE=function(n){var i=n.some;return n===r||t(r,n)&&i===r.some?e:i},dE}var hE,g8;function oye(){if(g8)return hE;g8=1;var t=aye();return hE=t,hE}var fE,y8;function lye(){return y8||(y8=1,fE=oye()),fE}var uye=lye(),cye=Oe(uye),pE={exports:{}},b8={},x8;function dye(){if(x8)return b8;x8=1;var t=Se(),e=Lt(),r=Gn().f;return t({target:"Object",stat:!0,forced:Object.defineProperty!==r,sham:!e},{defineProperty:r}),b8}var w8;function hye(){if(w8)return pE.exports;w8=1,dye();var t=nt(),e=t.Object,r=pE.exports=function(i,s,a){return e.defineProperty(i,s,a)};return e.defineProperty.sham&&(r.sham=!0),pE.exports}var mE,_8;function EQ(){if(_8)return mE;_8=1;var t=hye();return mE=t,mE}var vE,S8;function fye(){if(S8)return vE;S8=1;var t=EQ();return vE=t,vE}var gE,E8;function pye(){if(E8)return gE;E8=1;var t=fye();return gE=t,gE}var yE,N8;function mye(){return N8||(N8=1,yE=pye()),yE}var vye=mye(),gye=Oe(vye),j8={},C8;function yye(){if(C8)return j8;C8=1;var t=Xt(),e=Gn().f,r=t("metadata"),n=Function.prototype;return n[r]===void 0&&e(n,r,{value:null}),j8}var O8={},T8;function bye(){return T8||(T8=1,jY()),O8}var P8={},I8;function xye(){return I8||(I8=1,CY()),P8}var R8={},$8;function wye(){if($8)return R8;$8=1;var t=Ot();return t("metadata"),R8}var bE,k8;function _ye(){if(k8)return bE;k8=1;var t=RY();return yye(),bye(),xye(),wye(),bE=t,bE}var D8={},xE,M8;function NQ(){if(M8)return xE;M8=1;var t=On(),e=He(),r=t("Symbol"),n=r.keyFor,i=e(r.prototype.valueOf);return xE=r.isRegisteredSymbol||function(a){try{return n(i(a))!==void 0}catch{return!1}},xE}var q8;function Sye(){if(q8)return D8;q8=1;var t=Se(),e=NQ();return t({target:"Symbol",stat:!0},{isRegisteredSymbol:e}),D8}var A8={},wE,F8;function jQ(){if(F8)return wE;F8=1;for(var t=Zu(),e=On(),r=He(),n=Sh(),i=Xt(),s=e("Symbol"),a=s.isWellKnownSymbol,o=e("Object","getOwnPropertyNames"),l=r(s.prototype.valueOf),c=t("wks"),d=0,h=o(s),f=h.length;d<f;d++)try{var p=h[d];n(s[p])&&i(p)}catch{}return wE=function(y){if(a&&a(y))return!0;try{for(var b=l(y),g=0,v=o(c),w=v.length;g<w;g++)if(c[v[g]]==b)return!0}catch{}return!1},wE}var L8;function Eye(){if(L8)return A8;L8=1;var t=Se(),e=jQ();return t({target:"Symbol",stat:!0,forced:!0},{isWellKnownSymbol:e}),A8}var B8={},z8;function Nye(){if(z8)return B8;z8=1;var t=Ot();return t("customMatcher"),B8}var U8={},W8;function jye(){if(W8)return U8;W8=1;var t=Ot();return t("observable"),U8}var H8={},V8;function Cye(){if(V8)return H8;V8=1;var t=Se(),e=NQ();return t({target:"Symbol",stat:!0,name:"isRegisteredSymbol"},{isRegistered:e}),H8}var K8={},G8;function Oye(){if(G8)return K8;G8=1;var t=Se(),e=jQ();return t({target:"Symbol",stat:!0,name:"isWellKnownSymbol",forced:!0},{isWellKnown:e}),K8}var Y8={},Q8;function Tye(){if(Q8)return Y8;Q8=1;var t=Ot();return t("matcher"),Y8}var X8={},J8;function Pye(){if(J8)return X8;J8=1;var t=Ot();return t("metadataKey"),X8}var Z8={},e7;function Iye(){if(e7)return Z8;e7=1;var t=Ot();return t("patternMatch"),Z8}var t7={},r7;function Rye(){if(r7)return t7;r7=1;var t=Ot();return t("replaceAll"),t7}var _E,n7;function $ye(){if(n7)return _E;n7=1;var t=_ye();return Sye(),Eye(),Nye(),jye(),Cye(),Oye(),Tye(),Pye(),Iye(),Rye(),_E=t,_E}var SE,i7;function kye(){return i7||(i7=1,SE=$ye()),SE}var Dye=kye(),gf=Oe(Dye),EE,s7;function Mye(){if(s7)return EE;s7=1,sc(),yT(),OY();var t=qm();return EE=t.f("iterator"),EE}var NE,a7;function qye(){if(a7)return NE;a7=1;var t=Mye();return ac(),NE=t,NE}var jE,o7;function Aye(){if(o7)return jE;o7=1;var t=qye();return jE=t,jE}var CE,l7;function Fye(){if(l7)return CE;l7=1;var t=Aye();return CE=t,CE}var OE,u7;function Lye(){return u7||(u7=1,OE=Fye()),OE}var Bye=Lye(),zye=Oe(Bye);function Dd(t){"@babel/helpers - typeof";return Dd=typeof gf=="function"&&typeof zye=="symbol"?function(e){return typeof e}:function(e){return e&&typeof gf=="function"&&e.constructor===gf&&e!==gf.prototype?"symbol":typeof e},Dd(t)}var TE,c7;function Uye(){if(c7)return TE;c7=1,TY();var t=qm();return TE=t.f("toPrimitive"),TE}var PE,d7;function Wye(){if(d7)return PE;d7=1;var t=Uye();return PE=t,PE}var IE,h7;function Hye(){if(h7)return IE;h7=1;var t=Wye();return IE=t,IE}var RE,f7;function Vye(){if(f7)return RE;f7=1;var t=Hye();return RE=t,RE}var $E,p7;function Kye(){return p7||(p7=1,$E=Vye()),$E}var Gye=Kye(),Yye=Oe(Gye);function Qye(t,e){if(Dd(t)!="object"||!t)return t;var r=t[Yye];if(r!==void 0){var n=r.call(t,e);if(Dd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Xye(t){var e=Qye(t,"string");return Dd(e)=="symbol"?e:e+""}function es(t,e,r){return(e=Xye(e))in t?gye(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var m7={},kE,v7;function Jye(){if(v7)return kE;v7=1;var t=_t(),e=Be(),r=He(),n=Yn(),i=kY().trim,s=nT(),a=r("".charAt),o=t.parseFloat,l=t.Symbol,c=l&&l.iterator,d=1/o(s+"-0")!==-1/0||c&&!e(function(){o(Object(c))});return kE=d?function(f){var p=i(n(f)),m=o(p);return m===0&&a(p,0)==="-"?-0:m}:o,kE}var g7;function Zye(){if(g7)return m7;g7=1;var t=Se(),e=Jye();return t({global:!0,forced:parseFloat!==e},{parseFloat:e}),m7}var DE,y7;function e0e(){if(y7)return DE;y7=1,Zye();var t=nt();return DE=t.parseFloat,DE}var ME,b7;function t0e(){if(b7)return ME;b7=1;var t=e0e();return ME=t,ME}var qE,x7;function r0e(){return x7||(x7=1,qE=t0e()),qE}var n0e=r0e(),CQ=Oe(n0e),w7={},_7;function i0e(){if(_7)return w7;_7=1;var t=Se(),e=Be(),r=JO().f,n=e(function(){return!Object.getOwnPropertyNames(1)});return t({target:"Object",stat:!0,forced:n},{getOwnPropertyNames:r}),w7}var AE,S7;function s0e(){if(S7)return AE;S7=1,i0e();var t=nt(),e=t.Object;return AE=function(n){return e.getOwnPropertyNames(n)},AE}var FE,E7;function a0e(){if(E7)return FE;E7=1;var t=s0e();return FE=t,FE}var LE,N7;function o0e(){return N7||(N7=1,LE=a0e()),LE}var l0e=o0e(),u0e=Oe(l0e),BE,j7;function c0e(){if(j7)return BE;j7=1,NY();var t=nt();return BE=t.Object.getOwnPropertySymbols,BE}var zE,C7;function d0e(){if(C7)return zE;C7=1;var t=c0e();return zE=t,zE}var UE,O7;function h0e(){return O7||(O7=1,UE=d0e()),UE}var f0e=h0e(),_a=Oe(f0e),WE={exports:{}},T7={},P7;function p0e(){if(P7)return T7;P7=1;var t=Se(),e=Be(),r=gi(),n=Pm().f,i=Lt(),s=!i||e(function(){n(1)});return t({target:"Object",stat:!0,forced:s,sham:!i},{getOwnPropertyDescriptor:function(o,l){return n(r(o),l)}}),T7}var I7;function m0e(){if(I7)return WE.exports;I7=1,p0e();var t=nt(),e=t.Object,r=WE.exports=function(i,s){return e.getOwnPropertyDescriptor(i,s)};return e.getOwnPropertyDescriptor.sham&&(r.sham=!0),WE.exports}var HE,R7;function v0e(){if(R7)return HE;R7=1;var t=m0e();return HE=t,HE}var VE,$7;function g0e(){return $7||($7=1,VE=v0e()),VE}var y0e=g0e(),$a=Oe(y0e),k7={},D7;function b0e(){if(D7)return k7;D7=1;var t=Se(),e=Lt(),r=Wfe(),n=gi(),i=Pm(),s=km();return t({target:"Object",stat:!0,sham:!e},{getOwnPropertyDescriptors:function(o){for(var l=n(o),c=i.f,d=r(l),h={},f=0,p,m;d.length>f;)m=c(l,p=d[f++]),m!==void 0&&s(h,p,m);return h}}),k7}var KE,M7;function x0e(){if(M7)return KE;M7=1,b0e();var t=nt();return KE=t.Object.getOwnPropertyDescriptors,KE}var GE,q7;function w0e(){if(q7)return GE;q7=1;var t=x0e();return GE=t,GE}var YE,A7;function _0e(){return A7||(A7=1,YE=w0e()),YE}var S0e=_0e(),Sa=Oe(S0e),QE={exports:{}},F7={},L7;function E0e(){if(L7)return F7;L7=1;var t=Se(),e=Lt(),r=XO().f;return t({target:"Object",stat:!0,forced:Object.defineProperties!==r,sham:!e},{defineProperties:r}),F7}var B7;function N0e(){if(B7)return QE.exports;B7=1,E0e();var t=nt(),e=t.Object,r=QE.exports=function(i,s){return e.defineProperties(i,s)};return e.defineProperties.sham&&(r.sham=!0),QE.exports}var XE,z7;function j0e(){if(z7)return XE;z7=1;var t=N0e();return XE=t,XE}var JE,U7;function C0e(){return U7||(U7=1,JE=j0e()),JE}var O0e=C0e(),Wm=Oe(O0e),ZE,W7;function T0e(){return W7||(W7=1,ZE=EQ()),ZE}var P0e=T0e(),Hm=Oe(P0e);function xT(t,e){const r=["node","edge","label"];let n=!0;const i=Ms(e,"chosen");if(typeof i=="boolean")n=i;else if(typeof i=="object"){if(Ze(r).call(r,t)===-1)throw new Error("choosify: subOption '"+t+"' should be one of '"+r.join("', '")+"'");const s=Ms(e,["chosen",t]);(typeof s=="boolean"||typeof s=="function")&&(n=s)}return n}function Gj(t,e,r){if(t.width<=0||t.height<=0)return!1;if(r!==void 0){const s={x:e.x-r.x,y:e.y-r.y};if(r.angle!==0){const a=-r.angle;e={x:Math.cos(a)*s.x-Math.sin(a)*s.y,y:Math.sin(a)*s.x+Math.cos(a)*s.y}}else e=s}const n=t.x+t.width,i=t.y+t.width;return t.left<e.x&&n>e.x&&t.top<e.y&&i>e.y}function Mp(t){return typeof t=="string"&&t!==""}function OQ(t,e,r,n){let i=n.x,s=n.y;if(typeof n.distanceToBorder=="function"){const a=n.distanceToBorder(t,e),o=Math.sin(e)*a,l=Math.cos(e)*a;l===a?(i+=a,s=n.y):o===a?(i=n.x,s-=a):(i+=l,s-=o)}else n.shape.width>n.shape.height?(i=n.x+n.shape.width*.5,s=n.y-r):(i=n.x+r,s=n.y-n.shape.height*.5);return{x:i,y:s}}var e2,H7;function I0e(){if(H7)return e2;H7=1,sc();var t=wr();return e2=t("Array","values"),e2}var t2,V7;function R0e(){if(V7)return t2;V7=1;var t=I0e();return t2=t,t2}var r2,K7;function $0e(){if(K7)return r2;K7=1,ac();var t=nc(),e=xr(),r=Qt(),n=R0e(),i=Array.prototype,s={DOMTokenList:!0,NodeList:!0};return r2=function(a){var o=a.values;return a===i||r(i,a)&&o===i.values||e(s,t(a))?n:o},r2}var n2,G7;function k0e(){return G7||(G7=1,n2=$0e()),n2}var D0e=k0e(),TQ=Oe(D0e);class M0e{constructor(e){this.measureText=e,this.current=0,this.width=0,this.height=0,this.lines=[]}_add(e,r){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"normal";this.lines[e]===void 0&&(this.lines[e]={width:0,height:0,blocks:[]});let i=r;(r===void 0||r==="")&&(i=" ");const s=this.measureText(i,n),a=Vt({},TQ(s));a.text=r,a.width=s.width,a.mod=n,(r===void 0||r==="")&&(a.width=0),this.lines[e].blocks.push(a),this.lines[e].width+=a.width}curWidth(){const e=this.lines[this.current];return e===void 0?0:e.width}append(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"normal";this._add(this.current,e,r)}newLine(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"normal";this._add(this.current,e,r),this.current++}determineLineHeights(){for(let e=0;e<this.lines.length;e++){const r=this.lines[e];let n=0;if(r.blocks!==void 0)for(let i=0;i<r.blocks.length;i++){const s=r.blocks[i];n<s.height&&(n=s.height)}r.height=n}}determineLabelSize(){let e=0,r=0;for(let n=0;n<this.lines.length;n++){const i=this.lines[n];i.width>e&&(e=i.width),r+=i.height}this.width=e,this.height=r}removeEmptyBlocks(){const e=[];for(let r=0;r<this.lines.length;r++){const n=this.lines[r];if(n.blocks.length===0||r===this.lines.length-1&&n.width===0)continue;const i={};Vt(i,n),i.blocks=[];let s;const a=[];for(let o=0;o<n.blocks.length;o++){const l=n.blocks[o];l.width!==0?a.push(l):s===void 0&&(s=l)}a.length===0&&s!==void 0&&a.push(s),i.blocks=a,e.push(i)}return e}finalize(){this.determineLineHeights(),this.determineLabelSize();const e=this.removeEmptyBlocks();return{width:this.width,height:this.height,lines:e}}}const q0e={"<b>":/<b>/,"<i>":/<i>/,"<code>":/<code>/,"</b>":/<\/b>/,"</i>":/<\/i>/,"</code>":/<\/code>/,"*":/\*/,_:/_/,"`":/`/,afterBold:/[^*]/,afterItal:/[^_]/,afterMono:/[^`]/};class Y7{constructor(e){this.text=e,this.bold=!1,this.ital=!1,this.mono=!1,this.spacing=!1,this.position=0,this.buffer="",this.modStack=[],this.blocks=[]}mod(){return this.modStack.length===0?"normal":this.modStack[0]}modName(){if(this.modStack.length===0)return"normal";if(this.modStack[0]==="mono")return"mono";if(this.bold&&this.ital)return"boldital";if(this.bold)return"bold";if(this.ital)return"ital"}emitBlock(){this.spacing&&(this.add(" "),this.spacing=!1),this.buffer.length>0&&(this.blocks.push({text:this.buffer,mod:this.modName()}),this.buffer="")}add(e){e===" "&&(this.spacing=!0),this.spacing&&(this.buffer+=" ",this.spacing=!1),e!=" "&&(this.buffer+=e)}parseWS(e){return/[ \t]/.test(e)?(this.mono?this.add(e):this.spacing=!0,!0):!1}setTag(e){this.emitBlock(),this[e]=!0,this.modStack.unshift(e)}unsetTag(e){this.emitBlock(),this[e]=!1,this.modStack.shift()}parseStartTag(e,r){return!this.mono&&!this[e]&&this.match(r)?(this.setTag(e),!0):!1}match(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;const[n,i]=this.prepareRegExp(e),s=n.test(this.text.substr(this.position,i));return s&&r&&(this.position+=i-1),s}parseEndTag(e,r,n){let i=this.mod()===e;return e==="mono"?i=i&&this.mono:i=i&&!this.mono,i&&this.match(r)?(n!==void 0?(this.position===this.text.length-1||this.match(n,!1))&&this.unsetTag(e):this.unsetTag(e),!0):!1}replace(e,r){return this.match(e)?(this.add(r),this.position+=length-1,!0):!1}prepareRegExp(e){let r,n;if(e instanceof RegExp)n=e,r=1;else{const i=q0e[e];i!==void 0?n=i:n=new RegExp(e),r=e.length}return[n,r]}}class A0e{constructor(e,r,n,i){this.ctx=e,this.parent=r,this.selected=n,this.hover=i;const s=(a,o)=>{if(a===void 0)return 0;const l=this.parent.getFormattingValues(e,n,i,o);let c=0;return a!==""&&(c=this.ctx.measureText(a).width),{width:c,values:l}};this.lines=new M0e(s)}process(e){if(!Mp(e))return this.lines.finalize();const r=this.parent.fontOptions;e=e.replace(/\r\n/g,`
`),e=e.replace(/\r/g,`
`);const n=String(e).split(`
`),i=n.length;if(r.multi)for(let s=0;s<i;s++){const a=this.splitBlocks(n[s],r.multi);if(a!==void 0){if(a.length===0){this.lines.newLine("");continue}if(r.maxWdt>0)for(let o=0;o<a.length;o++){const l=a[o].mod,c=a[o].text;this.splitStringIntoLines(c,l,!0)}else for(let o=0;o<a.length;o++){const l=a[o].mod,c=a[o].text;this.lines.append(c,l)}this.lines.newLine()}}else if(r.maxWdt>0)for(let s=0;s<i;s++)this.splitStringIntoLines(n[s]);else for(let s=0;s<i;s++)this.lines.newLine(n[s]);return this.lines.finalize()}decodeMarkupSystem(e){let r="none";return e==="markdown"||e==="md"?r="markdown":(e===!0||e==="html")&&(r="html"),r}splitHtmlBlocks(e){const r=new Y7(e),n=i=>/&/.test(i)?(r.replace(r.text,"&lt;","<")||r.replace(r.text,"&amp;","&")||r.add("&"),!0):!1;for(;r.position<r.text.length;){const i=r.text.charAt(r.position);r.parseWS(i)||/</.test(i)&&(r.parseStartTag("bold","<b>")||r.parseStartTag("ital","<i>")||r.parseStartTag("mono","<code>")||r.parseEndTag("bold","</b>")||r.parseEndTag("ital","</i>")||r.parseEndTag("mono","</code>"))||n(i)||r.add(i),r.position++}return r.emitBlock(),r.blocks}splitMarkdownBlocks(e){const r=new Y7(e);let n=!0;const i=s=>/\\/.test(s)?(r.position<this.text.length+1&&(r.position++,s=this.text.charAt(r.position),/ \t/.test(s)?r.spacing=!0:(r.add(s),n=!1)),!0):!1;for(;r.position<r.text.length;){const s=r.text.charAt(r.position);r.parseWS(s)||i(s)||(n||r.spacing)&&(r.parseStartTag("bold","*")||r.parseStartTag("ital","_")||r.parseStartTag("mono","`"))||r.parseEndTag("bold","*","afterBold")||r.parseEndTag("ital","_","afterItal")||r.parseEndTag("mono","`","afterMono")||(r.add(s),n=!1),r.position++}return r.emitBlock(),r.blocks}splitBlocks(e,r){const n=this.decodeMarkupSystem(r);if(n==="none")return[{text:e,mod:"normal"}];if(n==="markdown")return this.splitMarkdownBlocks(e);if(n==="html")return this.splitHtmlBlocks(e)}overMaxWidth(e){const r=this.ctx.measureText(e).width;return this.lines.curWidth()+r>this.parent.fontOptions.maxWdt}getLongestFit(e){let r="",n=0;for(;n<e.length;){const s=r+(r===""?"":" ")+e[n];if(this.overMaxWidth(s))break;r=s,n++}return n}getLongestFitWord(e){let r=0;for(;r<e.length&&!this.overMaxWidth(Ci(e).call(e,0,r));)r++;return r}splitStringIntoLines(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"normal",n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;this.parent.getFormattingValues(this.ctx,this.selected,this.hover,r),e=e.replace(/^( +)/g,"$1\r"),e=e.replace(/([^\r][^ ]*)( +)/g,"$1\r$2\r");let i=e.split("\r");for(;i.length>0;){let s=this.getLongestFit(i);if(s===0){const a=i[0],o=this.getLongestFitWord(a);this.lines.newLine(Ci(a).call(a,0,o),r),i[0]=Ci(a).call(a,o)}else{let a=s;i[s-1]===" "?s--:i[a]===" "&&a++;const o=Ci(i).call(i,0,s).join("");s==i.length&&n?this.lines.append(o,r):this.lines.newLine(o,r),i=Ci(i).call(i,a)}}}}const Pc=["bold","ital","boldital","mono"];class zl{constructor(e,r){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;this.body=e,this.pointToSelf=!1,this.baseSize=void 0,this.fontOptions={},this.setOptions(r),this.size={top:0,left:0,width:0,height:0,yLine:0},this.isEdgeLabel=n}setOptions(e){if(this.elementOptions=e,this.initFontOptions(e.font),Mp(e.label)?this.labelDirty=!0:e.label=void 0,e.font!==void 0&&e.font!==null){if(typeof e.font=="string")this.baseSize=this.fontOptions.size;else if(typeof e.font=="object"){const r=e.font.size;r!==void 0&&(this.baseSize=r)}}}initFontOptions(e){if(qe(Pc,r=>{this.fontOptions[r]={}}),zl.parseFontString(this.fontOptions,e)){this.fontOptions.vadjust=0;return}qe(e,(r,n)=>{r!=null&&typeof r!="object"&&(this.fontOptions[n]=r)})}static parseFontString(e,r){if(!r||typeof r!="string")return!1;const n=r.split(" ");return e.size=+n[0].replace("px",""),e.face=n[1],e.color=n[2],!0}constrain(e){const r={constrainWidth:!1,maxWdt:-1,minWdt:-1,constrainHeight:!1,minHgt:-1,valign:"middle"},n=Ms(e,"widthConstraint");if(typeof n=="number")r.maxWdt=Number(n),r.minWdt=Number(n);else if(typeof n=="object"){const s=Ms(e,["widthConstraint","maximum"]);typeof s=="number"&&(r.maxWdt=Number(s));const a=Ms(e,["widthConstraint","minimum"]);typeof a=="number"&&(r.minWdt=Number(a))}const i=Ms(e,"heightConstraint");if(typeof i=="number")r.minHgt=Number(i);else if(typeof i=="object"){const s=Ms(e,["heightConstraint","minimum"]);typeof s=="number"&&(r.minHgt=Number(s));const a=Ms(e,["heightConstraint","valign"]);typeof a=="string"&&(a==="top"||a==="bottom")&&(r.valign=a)}return r}update(e,r){this.setOptions(e,!0),this.propagateFonts(r),ht(this.fontOptions,this.constrain(r)),this.fontOptions.chooser=xT("label",r)}adjustSizes(e){const r=e?e.right+e.left:0;this.fontOptions.constrainWidth&&(this.fontOptions.maxWdt-=r,this.fontOptions.minWdt-=r);const n=e?e.top+e.bottom:0;this.fontOptions.constrainHeight&&(this.fontOptions.minHgt-=n)}addFontOptionsToPile(e,r){for(let n=0;n<r.length;++n)this.addFontToPile(e,r[n])}addFontToPile(e,r){if(r===void 0||r.font===void 0||r.font===null)return;const n=r.font;e.push(n)}getBasicOptions(e){const r={};for(let n=0;n<e.length;++n){let i=e[n];const s={};zl.parseFontString(s,i)&&(i=s),qe(i,(a,o)=>{a!==void 0&&(Object.prototype.hasOwnProperty.call(r,o)||(Ze(Pc).call(Pc,o)!==-1?r[o]={}:r[o]=a))})}return r}getFontOption(e,r,n){let i;for(let s=0;s<e.length;++s){const a=e[s];if(Object.prototype.hasOwnProperty.call(a,r)){if(i=a[r],i==null)continue;const o={};if(zl.parseFontString(o,i)&&(i=o),Object.prototype.hasOwnProperty.call(i,n))return i[n]}}if(Object.prototype.hasOwnProperty.call(this.fontOptions,n))return this.fontOptions[n];throw new Error("Did not find value for multi-font for property: '"+n+"'")}getFontOptions(e,r){const n={},i=["color","size","face","mod","vadjust"];for(let s=0;s<i.length;++s){const a=i[s];n[a]=this.getFontOption(e,r,a)}return n}propagateFonts(e){const r=[];this.addFontOptionsToPile(r,e),this.fontOptions=this.getBasicOptions(r);for(let n=0;n<Pc.length;++n){const i=Pc[n],s=this.fontOptions[i],a=this.getFontOptions(r,i);qe(a,(o,l)=>{s[l]=o}),s.size=Number(s.size),s.vadjust=Number(s.vadjust)}}draw(e,r,n,i,s){let a=arguments.length>5&&arguments[5]!==void 0?arguments[5]:"middle";if(this.elementOptions.label===void 0)return;let o=this.fontOptions.size*this.body.view.scale;this.elementOptions.label&&o<this.elementOptions.scaling.label.drawThreshold-1||(o>=this.elementOptions.scaling.label.maxVisible&&(o=Number(this.elementOptions.scaling.label.maxVisible)/this.body.view.scale),this.calculateLabelSize(e,i,s,r,n,a),this._drawBackground(e),this._drawText(e,r,this.size.yLine,a,o))}_drawBackground(e){if(this.fontOptions.background!==void 0&&this.fontOptions.background!=="none"){e.fillStyle=this.fontOptions.background;const r=this.getSize();e.fillRect(r.left,r.top,r.width,r.height)}}_drawText(e,r,n){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"middle",s=arguments.length>4?arguments[4]:void 0;[r,n]=this._setAlignment(e,r,n,i),e.textAlign="left",r=r-this.size.width/2,this.fontOptions.valign&&this.size.height>this.size.labelHeight&&(this.fontOptions.valign==="top"&&(n-=(this.size.height-this.size.labelHeight)/2),this.fontOptions.valign==="bottom"&&(n+=(this.size.height-this.size.labelHeight)/2));for(let a=0;a<this.lineCount;a++){const o=this.lines[a];if(o&&o.blocks){let l=0;this.isEdgeLabel||this.fontOptions.align==="center"?l+=(this.size.width-o.width)/2:this.fontOptions.align==="right"&&(l+=this.size.width-o.width);for(let c=0;c<o.blocks.length;c++){const d=o.blocks[c];e.font=d.font;const[h,f]=this._getColor(d.color,s,d.strokeColor);d.strokeWidth>0&&(e.lineWidth=d.strokeWidth,e.strokeStyle=f,e.lineJoin="round"),e.fillStyle=h,d.strokeWidth>0&&e.strokeText(d.text,r+l,n+d.vadjust),e.fillText(d.text,r+l,n+d.vadjust),l+=d.width}n+=o.height}}}_setAlignment(e,r,n,i){if(this.isEdgeLabel&&this.fontOptions.align!=="horizontal"&&this.pointToSelf===!1){r=0,n=0;const s=2;this.fontOptions.align==="top"?(e.textBaseline="alphabetic",n-=2*s):this.fontOptions.align==="bottom"?(e.textBaseline="hanging",n+=2*s):e.textBaseline="middle"}else e.textBaseline=i;return[r,n]}_getColor(e,r,n){let i=e||"#000000",s=n||"#ffffff";if(r<=this.elementOptions.scaling.label.drawThreshold){const a=Math.max(0,Math.min(1,1-(this.elementOptions.scaling.label.drawThreshold-r)));i=Fn(i,a),s=Fn(s,a)}return[i,s]}getTextSize(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;return this._processLabel(e,r,n),{width:this.size.width,height:this.size.height,lineCount:this.lineCount}}getSize(){let r=this.size.left,n=this.size.top-.5*2;if(this.isEdgeLabel){const s=-this.size.width*.5;switch(this.fontOptions.align){case"middle":r=s,n=-this.size.height*.5;break;case"top":r=s,n=-(this.size.height+2);break;case"bottom":r=s,n=2;break}}return{left:r,top:n,width:this.size.width,height:this.size.height}}calculateLabelSize(e,r,n){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0,a=arguments.length>5&&arguments[5]!==void 0?arguments[5]:"middle";this._processLabel(e,r,n),this.size.left=i-this.size.width*.5,this.size.top=s-this.size.height*.5,this.size.yLine=s+(1-this.lineCount)*.5*this.fontOptions.size,a==="hanging"&&(this.size.top+=.5*this.fontOptions.size,this.size.top+=4,this.size.yLine+=4)}getFormattingValues(e,r,n,i){const s=function(l,c,d){return c==="normal"?d==="mod"?"":l[d]:l[c][d]!==void 0?l[c][d]:l[d]},a={color:s(this.fontOptions,i,"color"),size:s(this.fontOptions,i,"size"),face:s(this.fontOptions,i,"face"),mod:s(this.fontOptions,i,"mod"),vadjust:s(this.fontOptions,i,"vadjust"),strokeWidth:this.fontOptions.strokeWidth,strokeColor:this.fontOptions.strokeColor};(r||n)&&(i==="normal"&&this.fontOptions.chooser===!0&&this.elementOptions.labelHighlightBold?a.mod="bold":typeof this.fontOptions.chooser=="function"&&this.fontOptions.chooser(a,this.elementOptions.id,r,n));let o="";return a.mod!==void 0&&a.mod!==""&&(o+=a.mod+" "),o+=a.size+"px "+a.face,e.font=o.replace(/"/g,""),a.font=e.font,a.height=a.size,a}differentState(e,r){return e!==this.selectedState||r!==this.hoverState}_processLabelText(e,r,n,i){return new A0e(e,this,r,n).process(i)}_processLabel(e,r,n){if(this.labelDirty===!1&&!this.differentState(r,n))return;const i=this._processLabelText(e,r,n,this.elementOptions.label);this.fontOptions.minWdt>0&&i.width<this.fontOptions.minWdt&&(i.width=this.fontOptions.minWdt),this.size.labelHeight=i.height,this.fontOptions.minHgt>0&&i.height<this.fontOptions.minHgt&&(i.height=this.fontOptions.minHgt),this.lines=i.lines,this.lineCount=i.lines.length,this.size.width=i.width,this.size.height=i.height,this.selectedState=r,this.hoverState=n,this.labelDirty=!1}visible(){return!(this.size.width===0||this.size.height===0||this.elementOptions.label===void 0||this.fontOptions.size*this.body.view.scale<this.elementOptions.scaling.label.drawThreshold-1)}}class tl{constructor(e,r,n){this.body=r,this.labelModule=n,this.setOptions(e),this.top=void 0,this.left=void 0,this.height=void 0,this.width=void 0,this.radius=void 0,this.margin=void 0,this.refreshNeeded=!0,this.boundingBox={top:0,left:0,right:0,bottom:0}}setOptions(e){this.options=e}_setMargins(e){this.margin={},this.options.margin&&(typeof this.options.margin=="object"?(this.margin.top=this.options.margin.top,this.margin.right=this.options.margin.right,this.margin.bottom=this.options.margin.bottom,this.margin.left=this.options.margin.left):(this.margin.top=this.options.margin,this.margin.right=this.options.margin,this.margin.bottom=this.options.margin,this.margin.left=this.options.margin)),e.adjustSizes(this.margin)}_distanceToBorder(e,r){const n=this.options.borderWidth;return e&&this.resize(e),Math.min(Math.abs(this.width/2/Math.cos(r)),Math.abs(this.height/2/Math.sin(r)))+n}enableShadow(e,r){r.shadow&&(e.shadowColor=r.shadowColor,e.shadowBlur=r.shadowSize,e.shadowOffsetX=r.shadowX,e.shadowOffsetY=r.shadowY)}disableShadow(e,r){r.shadow&&(e.shadowColor="rgba(0,0,0,0)",e.shadowBlur=0,e.shadowOffsetX=0,e.shadowOffsetY=0)}enableBorderDashes(e,r){if(r.borderDashes!==!1)if(e.setLineDash!==void 0){let n=r.borderDashes;n===!0&&(n=[5,15]),e.setLineDash(n)}else console.warn("setLineDash is not supported in this browser. The dashed borders cannot be used."),this.options.shapeProperties.borderDashes=!1,r.borderDashes=!1}disableBorderDashes(e,r){r.borderDashes!==!1&&(e.setLineDash!==void 0?e.setLineDash([0]):(console.warn("setLineDash is not supported in this browser. The dashed borders cannot be used."),this.options.shapeProperties.borderDashes=!1,r.borderDashes=!1))}needsRefresh(e,r){return this.refreshNeeded===!0?(this.refreshNeeded=!1,!0):this.width===void 0||this.labelModule.differentState(e,r)}initContextForDraw(e,r){const n=r.borderWidth/this.body.view.scale;e.lineWidth=Math.min(this.width,n),e.strokeStyle=r.borderColor,e.fillStyle=r.color}performStroke(e,r){const n=r.borderWidth/this.body.view.scale;e.save(),n>0&&(this.enableBorderDashes(e,r),e.stroke(),this.disableBorderDashes(e,r)),e.restore()}performFill(e,r){e.save(),e.fillStyle=r.color,this.enableShadow(e,r),Ph(e).call(e),this.disableShadow(e,r),e.restore(),this.performStroke(e,r)}_addBoundingBoxMargin(e){this.boundingBox.left-=e,this.boundingBox.top-=e,this.boundingBox.bottom+=e,this.boundingBox.right+=e}_updateBoundingBox(e,r,n,i,s){n!==void 0&&this.resize(n,i,s),this.left=e-this.width/2,this.top=r-this.height/2,this.boundingBox.left=this.left,this.boundingBox.top=this.top,this.boundingBox.bottom=this.top+this.height,this.boundingBox.right=this.left+this.width}updateBoundingBox(e,r,n,i,s){this._updateBoundingBox(e,r,n,i,s)}getDimensionsFromLabel(e,r,n){this.textSize=this.labelModule.getTextSize(e,r,n);let i=this.textSize.width,s=this.textSize.height;const a=14;return i===0&&(i=a,s=a),{width:i,height:s}}}let F0e=class extends tl{constructor(e,r,n){super(e,r,n),this._setMargins(n)}resize(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.selected,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.hover;if(this.needsRefresh(r,n)){const i=this.getDimensionsFromLabel(e,r,n);this.width=i.width+this.margin.right+this.margin.left,this.height=i.height+this.margin.top+this.margin.bottom,this.radius=this.width/2}}draw(e,r,n,i,s,a){this.resize(e,i,s),this.left=r-this.width/2,this.top=n-this.height/2,this.initContextForDraw(e,a),pY(e,this.left,this.top,this.width,this.height,a.borderRadius),this.performFill(e,a),this.updateBoundingBox(r,n,e,i,s),this.labelModule.draw(e,this.left+this.textSize.width/2+this.margin.left,this.top+this.textSize.height/2+this.margin.top,i,s)}updateBoundingBox(e,r,n,i,s){this._updateBoundingBox(e,r,n,i,s);const a=this.options.shapeProperties.borderRadius;this._addBoundingBoxMargin(a)}distanceToBorder(e,r){e&&this.resize(e);const n=this.options.borderWidth;return Math.min(Math.abs(this.width/2/Math.cos(r)),Math.abs(this.height/2/Math.sin(r)))+n}};class wT extends tl{constructor(e,r,n){super(e,r,n),this.labelOffset=0,this.selected=!1}setOptions(e,r,n){this.options=e,r===void 0&&n===void 0||this.setImages(r,n)}setImages(e,r){r&&this.selected?(this.imageObj=r,this.imageObjAlt=e):(this.imageObj=e,this.imageObjAlt=r)}switchImages(e){const r=e&&!this.selected||!e&&this.selected;if(this.selected=e,this.imageObjAlt!==void 0&&r){const n=this.imageObj;this.imageObj=this.imageObjAlt,this.imageObjAlt=n}}_getImagePadding(){const e={top:0,right:0,bottom:0,left:0};if(this.options.imagePadding){const r=this.options.imagePadding;typeof r=="object"?(e.top=r.top,e.right=r.right,e.bottom=r.bottom,e.left=r.left):(e.top=r,e.right=r,e.bottom=r,e.left=r)}return e}_resizeImage(){let e,r;if(this.options.shapeProperties.useImageSize===!1){let n=1,i=1;this.imageObj.width&&this.imageObj.height&&(this.imageObj.width>this.imageObj.height?n=this.imageObj.width/this.imageObj.height:i=this.imageObj.height/this.imageObj.width),e=this.options.size*2*n,r=this.options.size*2*i}else{const n=this._getImagePadding();e=this.imageObj.width+n.left+n.right,r=this.imageObj.height+n.top+n.bottom}this.width=e,this.height=r,this.radius=.5*this.width}_drawRawCircle(e,r,n,i){this.initContextForDraw(e,i),GO(e,r,n,i.size),this.performFill(e,i)}_drawImageAtPosition(e,r){if(this.imageObj.width!=0){e.globalAlpha=r.opacity!==void 0?r.opacity:1,this.enableShadow(e,r);let n=1;this.options.shapeProperties.interpolation===!0&&(n=this.imageObj.width/this.width/this.body.view.scale);const i=this._getImagePadding(),s=this.left+i.left,a=this.top+i.top,o=this.width-i.left-i.right,l=this.height-i.top-i.bottom;this.imageObj.drawImageAtPosition(e,n,s,a,o,l),this.disableShadow(e,r)}}_drawImageLabel(e,r,n,i,s){let a=0;if(this.height!==void 0){a=this.height*.5;const l=this.labelModule.getTextSize(e,i,s);l.lineCount>=1&&(a+=l.height/2)}const o=n+a;this.options.label&&(this.labelOffset=a),this.labelModule.draw(e,r,o,i,s,"hanging")}}let L0e=class extends wT{constructor(e,r,n){super(e,r,n),this._setMargins(n)}resize(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.selected,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.hover;if(this.needsRefresh(r,n)){const i=this.getDimensionsFromLabel(e,r,n),s=Math.max(i.width+this.margin.right+this.margin.left,i.height+this.margin.top+this.margin.bottom);this.options.size=s/2,this.width=s,this.height=s,this.radius=this.width/2}}draw(e,r,n,i,s,a){this.resize(e,i,s),this.left=r-this.width/2,this.top=n-this.height/2,this._drawRawCircle(e,r,n,a),this.updateBoundingBox(r,n),this.labelModule.draw(e,this.left+this.textSize.width/2+this.margin.left,n,i,s)}updateBoundingBox(e,r){this.boundingBox.top=r-this.options.size,this.boundingBox.left=e-this.options.size,this.boundingBox.right=e+this.options.size,this.boundingBox.bottom=r+this.options.size}distanceToBorder(e){return e&&this.resize(e),this.width*.5}};class B0e extends wT{constructor(e,r,n,i,s){super(e,r,n),this.setImages(i,s)}resize(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.selected,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.hover;if(this.imageObj.src===void 0||this.imageObj.width===void 0||this.imageObj.height===void 0){const s=this.options.size*2;this.width=s,this.height=s,this.radius=.5*this.width;return}this.needsRefresh(r,n)&&this._resizeImage()}draw(e,r,n,i,s,a){this.switchImages(i),this.resize();let o=r,l=n;this.options.shapeProperties.coordinateOrigin==="top-left"?(this.left=r,this.top=n,o+=this.width/2,l+=this.height/2):(this.left=r-this.width/2,this.top=n-this.height/2),this._drawRawCircle(e,o,l,a),e.save(),e.clip(),this._drawImageAtPosition(e,a),e.restore(),this._drawImageLabel(e,o,l,i,s),this.updateBoundingBox(r,n)}updateBoundingBox(e,r){this.options.shapeProperties.coordinateOrigin==="top-left"?(this.boundingBox.top=r,this.boundingBox.left=e,this.boundingBox.right=e+this.options.size*2,this.boundingBox.bottom=r+this.options.size*2):(this.boundingBox.top=r-this.options.size,this.boundingBox.left=e-this.options.size,this.boundingBox.right=e+this.options.size,this.boundingBox.bottom=r+this.options.size),this.boundingBox.left=Math.min(this.boundingBox.left,this.labelModule.size.left),this.boundingBox.right=Math.max(this.boundingBox.right,this.labelModule.size.left+this.labelModule.size.width),this.boundingBox.bottom=Math.max(this.boundingBox.bottom,this.boundingBox.bottom+this.labelOffset)}distanceToBorder(e){return e&&this.resize(e),this.width*.5}}class ka extends tl{constructor(e,r,n){super(e,r,n)}resize(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.selected,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.hover,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{size:this.options.size};if(this.needsRefresh(r,n)){var s,a;this.labelModule.getTextSize(e,r,n);const o=2*i.size;this.width=(s=this.customSizeWidth)!==null&&s!==void 0?s:o,this.height=(a=this.customSizeHeight)!==null&&a!==void 0?a:o,this.radius=.5*this.width}}_drawShape(e,r,n,i,s,a,o,l){return this.resize(e,a,o,l),this.left=i-this.width/2,this.top=s-this.height/2,this.initContextForDraw(e,l),nfe(r)(e,i,s,l.size),this.performFill(e,l),this.options.icon!==void 0&&this.options.icon.code!==void 0&&(e.font=(a?"bold ":"")+this.height/2+"px "+(this.options.icon.face||"FontAwesome"),e.fillStyle=this.options.icon.color||"black",e.textAlign="center",e.textBaseline="middle",e.fillText(this.options.icon.code,i,s)),{drawExternalLabel:()=>{if(this.options.label!==void 0){this.labelModule.calculateLabelSize(e,a,o,i,s,"hanging");const c=s+.5*this.height+.5*this.labelModule.size.height;this.labelModule.draw(e,i,c,a,o,"hanging")}this.updateBoundingBox(i,s)}}}updateBoundingBox(e,r){this.boundingBox.top=r-this.options.size,this.boundingBox.left=e-this.options.size,this.boundingBox.right=e+this.options.size,this.boundingBox.bottom=r+this.options.size,this.options.label!==void 0&&this.labelModule.size.width>0&&(this.boundingBox.left=Math.min(this.boundingBox.left,this.labelModule.size.left),this.boundingBox.right=Math.max(this.boundingBox.right,this.labelModule.size.left+this.labelModule.size.width),this.boundingBox.bottom=Math.max(this.boundingBox.bottom,this.boundingBox.bottom+this.labelModule.size.height))}}function Q7(t,e){var r=Rt(t);if(_a){var n=_a(t);e&&(n=rn(n).call(n,function(i){return $a(t,i).enumerable})),r.push.apply(r,n)}return r}function z0e(t){for(var e=1;e<arguments.length;e++){var r,n,i=arguments[e]!=null?arguments[e]:{};e%2?ot(r=Q7(Object(i),!0)).call(r,function(s){es(t,s,i[s])}):Sa?Wm(t,Sa(i)):ot(n=Q7(Object(i))).call(n,function(s){Hm(t,s,$a(i,s))})}return t}class U0e extends ka{constructor(e,r,n,i){super(e,r,n,i),this.ctxRenderer=i}draw(e,r,n,i,s,a){this.resize(e,i,s,a),this.left=r-this.width/2,this.top=n-this.height/2,e.save();const o=this.ctxRenderer({ctx:e,id:this.options.id,x:r,y:n,state:{selected:i,hover:s},style:z0e({},a),label:this.options.label});if(o.drawNode!=null&&o.drawNode(),e.restore(),o.drawExternalLabel){const l=o.drawExternalLabel;o.drawExternalLabel=()=>{e.save(),l(),e.restore()}}return o.nodeDimensions&&(this.customSizeWidth=o.nodeDimensions.width,this.customSizeHeight=o.nodeDimensions.height),o}distanceToBorder(e,r){return this._distanceToBorder(e,r)}}class W0e extends tl{constructor(e,r,n){super(e,r,n),this._setMargins(n)}resize(e,r,n){if(this.needsRefresh(r,n)){const s=this.getDimensionsFromLabel(e,r,n).width+this.margin.right+this.margin.left;this.width=s,this.height=s,this.radius=this.width/2}}draw(e,r,n,i,s,a){this.resize(e,i,s),this.left=r-this.width/2,this.top=n-this.height/2,this.initContextForDraw(e,a),mY(e,r-this.width/2,n-this.height/2,this.width,this.height),this.performFill(e,a),this.updateBoundingBox(r,n,e,i,s),this.labelModule.draw(e,this.left+this.textSize.width/2+this.margin.left,this.top+this.textSize.height/2+this.margin.top,i,s)}distanceToBorder(e,r){return this._distanceToBorder(e,r)}}let H0e=class extends ka{constructor(e,r,n){super(e,r,n)}draw(e,r,n,i,s,a){return this._drawShape(e,"diamond",4,r,n,i,s,a)}distanceToBorder(e,r){return this._distanceToBorder(e,r)}};class V0e extends ka{constructor(e,r,n){super(e,r,n)}draw(e,r,n,i,s,a){return this._drawShape(e,"circle",2,r,n,i,s,a)}distanceToBorder(e){return e&&this.resize(e),this.options.size}}class X7 extends tl{constructor(e,r,n){super(e,r,n)}resize(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.selected,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.hover;if(this.needsRefresh(r,n)){const i=this.getDimensionsFromLabel(e,r,n);this.height=i.height*2,this.width=i.width+i.height,this.radius=.5*this.width}}draw(e,r,n,i,s,a){this.resize(e,i,s),this.left=r-this.width*.5,this.top=n-this.height*.5,this.initContextForDraw(e,a),Aj(e,this.left,this.top,this.width,this.height),this.performFill(e,a),this.updateBoundingBox(r,n,e,i,s),this.labelModule.draw(e,r,n,i,s)}distanceToBorder(e,r){e&&this.resize(e);const n=this.width*.5,i=this.height*.5,s=Math.sin(r)*n,a=Math.cos(r)*i;return n*i/Math.sqrt(s*s+a*a)}}class K0e extends tl{constructor(e,r,n){super(e,r,n),this._setMargins(n)}resize(e,r,n){this.needsRefresh(r,n)&&(this.iconSize={width:Number(this.options.icon.size),height:Number(this.options.icon.size)},this.width=this.iconSize.width+this.margin.right+this.margin.left,this.height=this.iconSize.height+this.margin.top+this.margin.bottom,this.radius=.5*this.width)}draw(e,r,n,i,s,a){return this.resize(e,i,s),this.options.icon.size=this.options.icon.size||50,this.left=r-this.width/2,this.top=n-this.height/2,this._icon(e,r,n,i,s,a),{drawExternalLabel:()=>{this.options.label!==void 0&&this.labelModule.draw(e,this.left+this.iconSize.width/2+this.margin.left,n+this.height/2+5,i),this.updateBoundingBox(r,n)}}}updateBoundingBox(e,r){this.boundingBox.top=r-this.options.icon.size*.5,this.boundingBox.left=e-this.options.icon.size*.5,this.boundingBox.right=e+this.options.icon.size*.5,this.boundingBox.bottom=r+this.options.icon.size*.5,this.options.label!==void 0&&this.labelModule.size.width>0&&(this.boundingBox.left=Math.min(this.boundingBox.left,this.labelModule.size.left),this.boundingBox.right=Math.max(this.boundingBox.right,this.labelModule.size.left+this.labelModule.size.width),this.boundingBox.bottom=Math.max(this.boundingBox.bottom,this.boundingBox.bottom+this.labelModule.size.height+5))}_icon(e,r,n,i,s,a){const o=Number(this.options.icon.size);this.options.icon.code!==void 0?(e.font=[this.options.icon.weight!=null?this.options.icon.weight:i?"bold":"",(this.options.icon.weight!=null&&i?5:0)+o+"px",this.options.icon.face].join(" "),e.fillStyle=this.options.icon.color||"black",e.textAlign="center",e.textBaseline="middle",this.enableShadow(e,a),e.fillText(this.options.icon.code,r,n),this.disableShadow(e,a)):console.error("When using the icon shape, you need to define the code in the icon options object. This can be done per node or globally.")}distanceToBorder(e,r){return this._distanceToBorder(e,r)}}let G0e=class extends wT{constructor(e,r,n,i,s){super(e,r,n),this.setImages(i,s)}resize(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.selected,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.hover;if(this.imageObj.src===void 0||this.imageObj.width===void 0||this.imageObj.height===void 0){const s=this.options.size*2;this.width=s,this.height=s;return}this.needsRefresh(r,n)&&this._resizeImage()}draw(e,r,n,i,s,a){e.save(),this.switchImages(i),this.resize();let o=r,l=n;if(this.options.shapeProperties.coordinateOrigin==="top-left"?(this.left=r,this.top=n,o+=this.width/2,l+=this.height/2):(this.left=r-this.width/2,this.top=n-this.height/2),this.options.shapeProperties.useBorderWithImage===!0){const c=this.options.borderWidth,d=this.options.borderWidthSelected||2*this.options.borderWidth,h=(i?d:c)/this.body.view.scale;e.lineWidth=Math.min(this.width,h),e.beginPath();let f=i?this.options.color.highlight.border:s?this.options.color.hover.border:this.options.color.border,p=i?this.options.color.highlight.background:s?this.options.color.hover.background:this.options.color.background;a.opacity!==void 0&&(f=Fn(f,a.opacity),p=Fn(p,a.opacity)),e.strokeStyle=f,e.fillStyle=p,e.rect(this.left-.5*e.lineWidth,this.top-.5*e.lineWidth,this.width+e.lineWidth,this.height+e.lineWidth),Ph(e).call(e),this.performStroke(e,a),e.closePath()}this._drawImageAtPosition(e,a),this._drawImageLabel(e,o,l,i,s),this.updateBoundingBox(r,n),e.restore()}updateBoundingBox(e,r){this.resize(),this.options.shapeProperties.coordinateOrigin==="top-left"?(this.left=e,this.top=r):(this.left=e-this.width/2,this.top=r-this.height/2),this.boundingBox.left=this.left,this.boundingBox.top=this.top,this.boundingBox.bottom=this.top+this.height,this.boundingBox.right=this.left+this.width,this.options.label!==void 0&&this.labelModule.size.width>0&&(this.boundingBox.left=Math.min(this.boundingBox.left,this.labelModule.size.left),this.boundingBox.right=Math.max(this.boundingBox.right,this.labelModule.size.left+this.labelModule.size.width),this.boundingBox.bottom=Math.max(this.boundingBox.bottom,this.boundingBox.bottom+this.labelOffset))}distanceToBorder(e,r){return this._distanceToBorder(e,r)}};class Y0e extends ka{constructor(e,r,n){super(e,r,n)}draw(e,r,n,i,s,a){return this._drawShape(e,"square",2,r,n,i,s,a)}distanceToBorder(e,r){return this._distanceToBorder(e,r)}}class Q0e extends ka{constructor(e,r,n){super(e,r,n)}draw(e,r,n,i,s,a){return this._drawShape(e,"hexagon",4,r,n,i,s,a)}distanceToBorder(e,r){return this._distanceToBorder(e,r)}}class X0e extends ka{constructor(e,r,n){super(e,r,n)}draw(e,r,n,i,s,a){return this._drawShape(e,"star",4,r,n,i,s,a)}distanceToBorder(e,r){return this._distanceToBorder(e,r)}}class J0e extends tl{constructor(e,r,n){super(e,r,n),this._setMargins(n)}resize(e,r,n){this.needsRefresh(r,n)&&(this.textSize=this.labelModule.getTextSize(e,r,n),this.width=this.textSize.width+this.margin.right+this.margin.left,this.height=this.textSize.height+this.margin.top+this.margin.bottom,this.radius=.5*this.width)}draw(e,r,n,i,s,a){this.resize(e,i,s),this.left=r-this.width/2,this.top=n-this.height/2,this.enableShadow(e,a),this.labelModule.draw(e,this.left+this.textSize.width/2+this.margin.left,this.top+this.textSize.height/2+this.margin.top,i,s),this.disableShadow(e,a),this.updateBoundingBox(r,n,e,i,s)}distanceToBorder(e,r){return this._distanceToBorder(e,r)}}let Z0e=class extends ka{constructor(e,r,n){super(e,r,n)}draw(e,r,n,i,s,a){return this._drawShape(e,"triangle",3,r,n,i,s,a)}distanceToBorder(e,r){return this._distanceToBorder(e,r)}};class ebe extends ka{constructor(e,r,n){super(e,r,n)}draw(e,r,n,i,s,a){return this._drawShape(e,"triangleDown",3,r,n,i,s,a)}distanceToBorder(e,r){return this._distanceToBorder(e,r)}}function J7(t,e){var r=Rt(t);if(_a){var n=_a(t);e&&(n=rn(n).call(n,function(i){return $a(t,i).enumerable})),r.push.apply(r,n)}return r}function Z7(t){for(var e=1;e<arguments.length;e++){var r,n,i=arguments[e]!=null?arguments[e]:{};e%2?ot(r=J7(Object(i),!0)).call(r,function(s){es(t,s,i[s])}):Sa?Wm(t,Sa(i)):ot(n=J7(Object(i))).call(n,function(s){Hm(t,s,$a(i,s))})}return t}class xt{constructor(e,r,n,i,s,a){this.options=ma(s),this.globalOptions=s,this.defaultOptions=a,this.body=r,this.edges=[],this.id=void 0,this.imagelist=n,this.grouplist=i,this.x=void 0,this.y=void 0,this.baseSize=this.options.size,this.baseFontSize=this.options.font.size,this.predefinedPosition=!1,this.selected=!1,this.hover=!1,this.labelModule=new zl(this.body,this.options,!1),this.setOptions(e)}attachEdge(e){var r;Ze(r=this.edges).call(r,e)===-1&&this.edges.push(e)}detachEdge(e){var r;const n=Ze(r=this.edges).call(r,e);if(n!=-1){var i;os(i=this.edges).call(i,n,1)}}setOptions(e){const r=this.options.shape;if(!e)return;if(typeof e.color<"u"&&(this._localColor=e.color),e.id!==void 0&&(this.id=e.id),this.id===void 0)throw new Error("Node must have an id");xt.checkMass(e,this.id),e.x!==void 0&&(e.x===null?(this.x=void 0,this.predefinedPosition=!1):(this.x=ai(e.x),this.predefinedPosition=!0)),e.y!==void 0&&(e.y===null?(this.y=void 0,this.predefinedPosition=!1):(this.y=ai(e.y),this.predefinedPosition=!0)),e.size!==void 0&&(this.baseSize=e.size),e.value!==void 0&&(e.value=CQ(e.value)),xt.parseOptions(this.options,e,!0,this.globalOptions,this.grouplist);const n=[e,this.options,this.defaultOptions];return this.chooser=xT("node",n),this._load_images(),this.updateLabelModule(e),e.opacity!==void 0&&xt.checkOpacity(e.opacity)&&(this.options.opacity=e.opacity),this.updateShape(r),e.hidden!==void 0||e.physics!==void 0}_load_images(){if((this.options.shape==="circularImage"||this.options.shape==="image")&&this.options.image===void 0)throw new Error("Option image must be defined for node type '"+this.options.shape+"'");if(this.options.image!==void 0){if(this.imagelist===void 0)throw new Error("Internal Error: No images provided");if(typeof this.options.image=="string")this.imageObj=this.imagelist.load(this.options.image,this.options.brokenImage,this.id);else{if(this.options.image.unselected===void 0)throw new Error("No unselected image provided");this.imageObj=this.imagelist.load(this.options.image.unselected,this.options.brokenImage,this.id),this.options.image.selected!==void 0?this.imageObjAlt=this.imagelist.load(this.options.image.selected,this.options.brokenImage,this.id):this.imageObjAlt=void 0}}}static checkOpacity(e){return 0<=e&&e<=1}static checkCoordinateOrigin(e){return e===void 0||e==="center"||e==="top-left"}static updateGroupOptions(e,r,n){var i;if(n===void 0)return;const s=e.group;if(r!==void 0&&r.group!==void 0&&s!==r.group)throw new Error("updateGroupOptions: group values in options don't match.");if(!(typeof s=="number"||typeof s=="string"&&s!=""))return;const o=n.get(s);o.opacity!==void 0&&r.opacity===void 0&&(xt.checkOpacity(o.opacity)||(console.error("Invalid option for node opacity. Value must be between 0 and 1, found: "+o.opacity),o.opacity=void 0));const l=rn(i=u0e(r)).call(i,c=>r[c]!=null);l.push("font"),kp(l,e,o),e.color=Uj(e.color)}static parseOptions(e,r){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},s=arguments.length>4?arguments[4]:void 0;if(kp(["color","fixed","shadow"],e,r,n),xt.checkMass(r),e.opacity!==void 0&&(xt.checkOpacity(e.opacity)||(console.error("Invalid option for node opacity. Value must be between 0 and 1, found: "+e.opacity),e.opacity=void 0)),r.opacity!==void 0&&(xt.checkOpacity(r.opacity)||(console.error("Invalid option for node opacity. Value must be between 0 and 1, found: "+r.opacity),r.opacity=void 0)),r.shapeProperties&&!xt.checkCoordinateOrigin(r.shapeProperties.coordinateOrigin)&&console.error("Invalid option for node coordinateOrigin, found: "+r.shapeProperties.coordinateOrigin),Dn(e,r,"shadow",i),r.color!==void 0&&r.color!==null){const o=Uj(r.color);lQ(e.color,o)}else n===!0&&r.color===null&&(e.color=ma(i.color));r.fixed!==void 0&&r.fixed!==null&&(typeof r.fixed=="boolean"?(e.fixed.x=r.fixed,e.fixed.y=r.fixed):(r.fixed.x!==void 0&&typeof r.fixed.x=="boolean"&&(e.fixed.x=r.fixed.x),r.fixed.y!==void 0&&typeof r.fixed.y=="boolean"&&(e.fixed.y=r.fixed.y))),n===!0&&r.font===null&&(e.font=ma(i.font)),xt.updateGroupOptions(e,r,s),r.scaling!==void 0&&Dn(e.scaling,r.scaling,"label",i.scaling)}getFormattingValues(){const e={color:this.options.color.background,opacity:this.options.opacity,borderWidth:this.options.borderWidth,borderColor:this.options.color.border,size:this.options.size,borderDashes:this.options.shapeProperties.borderDashes,borderRadius:this.options.shapeProperties.borderRadius,shadow:this.options.shadow.enabled,shadowColor:this.options.shadow.color,shadowSize:this.options.shadow.size,shadowX:this.options.shadow.x,shadowY:this.options.shadow.y};if(this.selected||this.hover?this.chooser===!0?this.selected?(this.options.borderWidthSelected!=null?e.borderWidth=this.options.borderWidthSelected:e.borderWidth*=2,e.color=this.options.color.highlight.background,e.borderColor=this.options.color.highlight.border,e.shadow=this.options.shadow.enabled):this.hover&&(e.color=this.options.color.hover.background,e.borderColor=this.options.color.hover.border,e.shadow=this.options.shadow.enabled):typeof this.chooser=="function"&&(this.chooser(e,this.options.id,this.selected,this.hover),e.shadow===!1&&(e.shadowColor!==this.options.shadow.color||e.shadowSize!==this.options.shadow.size||e.shadowX!==this.options.shadow.x||e.shadowY!==this.options.shadow.y)&&(e.shadow=!0)):e.shadow=this.options.shadow.enabled,this.options.opacity!==void 0){const r=this.options.opacity;e.borderColor=Fn(e.borderColor,r),e.color=Fn(e.color,r),e.shadowColor=Fn(e.shadowColor,r)}return e}updateLabelModule(e){(this.options.label===void 0||this.options.label===null)&&(this.options.label=""),xt.updateGroupOptions(this.options,Z7(Z7({},e),{},{color:e&&e.color||this._localColor||void 0}),this.grouplist);const r=this.grouplist.get(this.options.group,!1),n=[e,this.options,r,this.globalOptions,this.defaultOptions];this.labelModule.update(this.options,n),this.labelModule.baseSize!==void 0&&(this.baseFontSize=this.labelModule.baseSize)}updateShape(e){if(e===this.options.shape&&this.shape)this.shape.setOptions(this.options,this.imageObj,this.imageObjAlt);else switch(this.options.shape){case"box":this.shape=new F0e(this.options,this.body,this.labelModule);break;case"circle":this.shape=new L0e(this.options,this.body,this.labelModule);break;case"circularImage":this.shape=new B0e(this.options,this.body,this.labelModule,this.imageObj,this.imageObjAlt);break;case"custom":this.shape=new U0e(this.options,this.body,this.labelModule,this.options.ctxRenderer);break;case"database":this.shape=new W0e(this.options,this.body,this.labelModule);break;case"diamond":this.shape=new H0e(this.options,this.body,this.labelModule);break;case"dot":this.shape=new V0e(this.options,this.body,this.labelModule);break;case"ellipse":this.shape=new X7(this.options,this.body,this.labelModule);break;case"icon":this.shape=new K0e(this.options,this.body,this.labelModule);break;case"image":this.shape=new G0e(this.options,this.body,this.labelModule,this.imageObj,this.imageObjAlt);break;case"square":this.shape=new Y0e(this.options,this.body,this.labelModule);break;case"hexagon":this.shape=new Q0e(this.options,this.body,this.labelModule);break;case"star":this.shape=new X0e(this.options,this.body,this.labelModule);break;case"text":this.shape=new J0e(this.options,this.body,this.labelModule);break;case"triangle":this.shape=new Z0e(this.options,this.body,this.labelModule);break;case"triangleDown":this.shape=new ebe(this.options,this.body,this.labelModule);break;default:this.shape=new X7(this.options,this.body,this.labelModule);break}this.needsRefresh()}select(){this.selected=!0,this.needsRefresh()}unselect(){this.selected=!1,this.needsRefresh()}needsRefresh(){this.shape.refreshNeeded=!0}getTitle(){return this.options.title}distanceToBorder(e,r){return this.shape.distanceToBorder(e,r)}isFixed(){return this.options.fixed.x&&this.options.fixed.y}isSelected(){return this.selected}getValue(){return this.options.value}getLabelSize(){return this.labelModule.size()}setValueRange(e,r,n){if(this.options.value!==void 0){const i=this.options.scaling.customScalingFunction(e,r,n,this.options.value),s=this.options.scaling.max-this.options.scaling.min;if(this.options.scaling.label.enabled===!0){const a=this.options.scaling.label.max-this.options.scaling.label.min;this.options.font.size=this.options.scaling.label.min+i*a}this.options.size=this.options.scaling.min+i*s}else this.options.size=this.baseSize,this.options.font.size=this.baseFontSize;this.updateLabelModule()}draw(e){const r=this.getFormattingValues();return this.shape.draw(e,this.x,this.y,this.selected,this.hover,r)||{}}updateBoundingBox(e){this.shape.updateBoundingBox(this.x,this.y,e)}resize(e){const r=this.getFormattingValues();this.shape.resize(e,this.selected,this.hover,r)}getItemsOnPoint(e){const r=[];return this.labelModule.visible()&&Gj(this.labelModule.getSize(),e)&&r.push({nodeId:this.id,labelId:0}),Gj(this.shape.boundingBox,e)&&r.push({nodeId:this.id}),r}isOverlappingWith(e){return this.shape.left<e.right&&this.shape.left+this.shape.width>e.left&&this.shape.top<e.bottom&&this.shape.top+this.shape.height>e.top}isBoundingBoxOverlappingWith(e){return this.shape.boundingBox.left<e.right&&this.shape.boundingBox.right>e.left&&this.shape.boundingBox.top<e.bottom&&this.shape.boundingBox.bottom>e.top}static checkMass(e,r){if(e.mass!==void 0&&e.mass<=0){let n="";r!==void 0&&(n=" in node id: "+r),console.error("%cNegative or zero mass disallowed"+n+", setting mass to 1.",hQ),e.mass=1}}}class tbe{constructor(e,r,n,i){var s;if(this.body=e,this.images=r,this.groups=n,this.layoutEngine=i,this.body.functions.createNode=te(s=this.create).call(s,this),this.nodesListeners={add:(a,o)=>{this.add(o.items)},update:(a,o)=>{this.update(o.items,o.data,o.oldData)},remove:(a,o)=>{this.remove(o.items)}},this.defaultOptions={borderWidth:1,borderWidthSelected:void 0,brokenImage:void 0,color:{border:"#2B7CE9",background:"#97C2FC",highlight:{border:"#2B7CE9",background:"#D2E5FF"},hover:{border:"#2B7CE9",background:"#D2E5FF"}},opacity:void 0,fixed:{x:!1,y:!1},font:{color:"#343434",size:14,face:"arial",background:"none",strokeWidth:0,strokeColor:"#ffffff",align:"center",vadjust:0,multi:!1,bold:{mod:"bold"},boldital:{mod:"bold italic"},ital:{mod:"italic"},mono:{mod:"",size:15,face:"monospace",vadjust:2}},group:void 0,hidden:!1,icon:{face:"FontAwesome",code:void 0,size:50,color:"#2B7CE9"},image:void 0,imagePadding:{top:0,right:0,bottom:0,left:0},label:void 0,labelHighlightBold:!0,level:void 0,margin:{top:5,right:5,bottom:5,left:5},mass:1,physics:!0,scaling:{min:10,max:30,label:{enabled:!1,min:14,max:30,maxVisible:30,drawThreshold:5},customScalingFunction:function(a,o,l,c){if(o===a)return .5;{const d=1/(o-a);return Math.max(0,(c-a)*d)}}},shadow:{enabled:!1,color:"rgba(0,0,0,0.5)",size:10,x:5,y:5},shape:"ellipse",shapeProperties:{borderDashes:!1,borderRadius:6,interpolation:!0,useImageSize:!1,useBorderWithImage:!1,coordinateOrigin:"center"},size:25,title:void 0,value:void 0,x:void 0,y:void 0},this.defaultOptions.mass<=0)throw"Internal error: mass in defaultOptions of NodesHandler may not be zero or negative";this.options=ma(this.defaultOptions),this.bindEventListeners()}bindEventListeners(){var e,r;this.body.emitter.on("refreshNodes",te(e=this.refresh).call(e,this)),this.body.emitter.on("refresh",te(r=this.refresh).call(r,this)),this.body.emitter.on("destroy",()=>{qe(this.nodesListeners,(n,i)=>{this.body.data.nodes&&this.body.data.nodes.off(i,n)}),delete this.body.functions.createNode,delete this.nodesListeners.add,delete this.nodesListeners.update,delete this.nodesListeners.remove,delete this.nodesListeners})}setOptions(e){if(e!==void 0){if(xt.parseOptions(this.options,e),e.opacity!==void 0&&(Kj(e.opacity)||!Za(e.opacity)||e.opacity<0||e.opacity>1?console.error("Invalid option for node opacity. Value must be between 0 and 1, found: "+e.opacity):this.options.opacity=e.opacity),e.shape!==void 0)for(const r in this.body.nodes)Object.prototype.hasOwnProperty.call(this.body.nodes,r)&&this.body.nodes[r].updateShape();if(typeof e.font<"u"||typeof e.widthConstraint<"u"||typeof e.heightConstraint<"u")for(const r of Rt(this.body.nodes))this.body.nodes[r].updateLabelModule(),this.body.nodes[r].needsRefresh();if(e.size!==void 0)for(const r in this.body.nodes)Object.prototype.hasOwnProperty.call(this.body.nodes,r)&&this.body.nodes[r].needsRefresh();(e.hidden!==void 0||e.physics!==void 0)&&this.body.emitter.emit("_dataChanged")}}setData(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;const n=this.body.data.nodes;if(aY("id",e))this.body.data.nodes=e;else if(Dt(e))this.body.data.nodes=new _u,this.body.data.nodes.add(e);else if(!e)this.body.data.nodes=new _u;else throw new TypeError("Array or DataSet expected");if(n&&qe(this.nodesListeners,function(i,s){n.off(s,i)}),this.body.nodes={},this.body.data.nodes){const i=this;qe(this.nodesListeners,function(a,o){i.body.data.nodes.on(o,a)});const s=this.body.data.nodes.getIds();this.add(s,!0)}r===!1&&this.body.emitter.emit("_dataChanged")}add(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,n;const i=[];for(let s=0;s<e.length;s++){n=e[s];const a=this.body.data.nodes.get(n),o=this.create(a);i.push(o),this.body.nodes[n]=o}this.layoutEngine.positionInitially(i),r===!1&&this.body.emitter.emit("_dataChanged")}update(e,r,n){const i=this.body.nodes;let s=!1;for(let a=0;a<e.length;a++){const o=e[a];let l=i[o];const c=r[a];l!==void 0?l.setOptions(c)&&(s=!0):(s=!0,l=this.create(c),i[o]=l)}!s&&n!==void 0&&(s=cye(r).call(r,function(a,o){const l=n[o];return l&&l.level!==a.level})),s===!0?this.body.emitter.emit("_dataChanged"):this.body.emitter.emit("_dataUpdated")}remove(e){const r=this.body.nodes;for(let n=0;n<e.length;n++){const i=e[n];delete r[i]}this.body.emitter.emit("_dataChanged")}create(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:xt;return new r(e,this.body,this.images,this.groups,this.options,this.defaultOptions)}refresh(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;qe(this.body.nodes,(r,n)=>{const i=this.body.data.nodes.get(n);i!==void 0&&(e===!0&&r.setOptions({x:null,y:null}),r.setOptions({fixed:!1}),r.setOptions(i))})}getPositions(e){const r={};if(e!==void 0){if(Dt(e)===!0){for(let n=0;n<e.length;n++)if(this.body.nodes[e[n]]!==void 0){const i=this.body.nodes[e[n]];r[e[n]]={x:Math.round(i.x),y:Math.round(i.y)}}}else if(this.body.nodes[e]!==void 0){const n=this.body.nodes[e];r[e]={x:Math.round(n.x),y:Math.round(n.y)}}}else for(let n=0;n<this.body.nodeIndices.length;n++){const i=this.body.nodes[this.body.nodeIndices[n]];r[this.body.nodeIndices[n]]={x:Math.round(i.x),y:Math.round(i.y)}}return r}getPosition(e){if(e==null)throw new TypeError("No id was specified for getPosition method.");if(this.body.nodes[e]==null)throw new ReferenceError("NodeId provided for getPosition does not exist. Provided: ".concat(e));return{x:Math.round(this.body.nodes[e].x),y:Math.round(this.body.nodes[e].y)}}storePositions(){const e=[],r=this.body.data.nodes.getDataSet();for(const n of r.get()){const i=n.id,s=this.body.nodes[i],a=Math.round(s.x),o=Math.round(s.y);(n.x!==a||n.y!==o)&&e.push({id:i,x:a,y:o})}r.update(e)}getBoundingBox(e){if(this.body.nodes[e]!==void 0)return this.body.nodes[e].shape.boundingBox}getConnectedNodes(e,r){const n=[];if(this.body.nodes[e]!==void 0){const i=this.body.nodes[e],s={};for(let a=0;a<i.edges.length;a++){const o=i.edges[a];r!=="to"&&o.toId==i.id?s[o.fromId]===void 0&&(n.push(o.fromId),s[o.fromId]=!0):r!=="from"&&o.fromId==i.id&&s[o.toId]===void 0&&(n.push(o.toId),s[o.toId]=!0)}}return n}getConnectedEdges(e){const r=[];if(this.body.nodes[e]!==void 0){const n=this.body.nodes[e];for(let i=0;i<n.edges.length;i++)r.push(n.edges[i].id)}else console.error("NodeId provided for getConnectedEdges does not exist. Provided: ",e);return r}moveNode(e,r,n){this.body.nodes[e]!==void 0?(this.body.nodes[e].x=Number(r),this.body.nodes[e].y=Number(n),ls(()=>{this.body.emitter.emit("startSimulation")},0)):console.error("Node id supplied to moveNode does not exist. Provided: ",e)}}var eU={},tU;function rbe(){if(tU)return eU;tU=1;var t=Se(),e=Math.hypot,r=Math.abs,n=Math.sqrt,i=!!e&&e(1/0,NaN)!==1/0;return t({target:"Math",stat:!0,arity:2,forced:i},{hypot:function(a,o){for(var l=0,c=0,d=arguments.length,h=0,f,p;c<d;)f=r(arguments[c++]),h<f?(p=h/f,l=l*p*p+1,h=f):f>0?(p=f/h,l+=p*p):l+=f;return h===1/0?1/0:h*n(l)}}),eU}var i2,rU;function nbe(){if(rU)return i2;rU=1,rbe();var t=nt();return i2=t.Math.hypot,i2}var s2,nU;function ibe(){if(nU)return s2;nU=1;var t=nbe();return s2=t,s2}var a2,iU;function sbe(){return iU||(iU=1,a2=ibe()),a2}var abe=sbe(),obe=Oe(abe);class At{static transform(e,r){Dt(e)||(e=[e]);const n=r.point.x,i=r.point.y,s=r.angle,a=r.length;for(let o=0;o<e.length;++o){const l=e[o],c=l.x*Math.cos(s)-l.y*Math.sin(s),d=l.x*Math.sin(s)+l.y*Math.cos(s);l.x=n+a*c,l.y=i+a*d}}static drawPath(e,r){e.beginPath(),e.moveTo(r[0].x,r[0].y);for(let n=1;n<r.length;++n)e.lineTo(r[n].x,r[n].y);e.closePath()}}let lbe=class extends At{static draw(e,r){if(r.image){e.save(),e.translate(r.point.x,r.point.y),e.rotate(Math.PI/2+r.angle);const n=r.imageWidth!=null?r.imageWidth:r.image.width,i=r.imageHeight!=null?r.imageHeight:r.image.height;r.image.drawImageAtPosition(e,1,-n/2,0,n,i),e.restore()}return!1}};class ube extends At{static draw(e,r){const n=[{x:0,y:0},{x:-1,y:.3},{x:-.9,y:0},{x:-1,y:-.3}];return At.transform(n,r),At.drawPath(e,n),!0}}class cbe{static draw(e,r){const n=[{x:-1,y:0},{x:0,y:.3},{x:-.4,y:0},{x:0,y:-.3}];return At.transform(n,r),At.drawPath(e,n),!0}}class dbe{static draw(e,r){const n={x:-.4,y:0};At.transform(n,r),e.strokeStyle=e.fillStyle,e.fillStyle="rgba(0, 0, 0, 0)";const i=Math.PI,s=r.angle-i/2,a=r.angle+i/2;return e.beginPath(),e.arc(n.x,n.y,r.length*.4,s,a,!1),e.stroke(),!0}}class hbe{static draw(e,r){const n={x:-.3,y:0};At.transform(n,r),e.strokeStyle=e.fillStyle,e.fillStyle="rgba(0, 0, 0, 0)";const i=Math.PI,s=r.angle+i/2,a=r.angle+3*i/2;return e.beginPath(),e.arc(n.x,n.y,r.length*.4,s,a,!1),e.stroke(),!0}}class fbe{static draw(e,r){const n=[{x:.02,y:0},{x:-1,y:.3},{x:-1,y:-.3}];return At.transform(n,r),At.drawPath(e,n),!0}}class pbe{static draw(e,r){const n=[{x:0,y:.3},{x:0,y:-.3},{x:-1,y:0}];return At.transform(n,r),At.drawPath(e,n),!0}}class mbe{static draw(e,r){const n={x:-.4,y:0};return At.transform(n,r),GO(e,n.x,n.y,r.length*.4),!0}}class vbe{static draw(e,r){const n=[{x:0,y:.5},{x:0,y:-.5},{x:-.15,y:-.5},{x:-.15,y:.5}];return At.transform(n,r),At.drawPath(e,n),!0}}class gbe{static draw(e,r){const n=[{x:0,y:.3},{x:0,y:-.3},{x:-.6,y:-.3},{x:-.6,y:.3}];return At.transform(n,r),At.drawPath(e,n),!0}}class ybe{static draw(e,r){const n=[{x:0,y:0},{x:-.5,y:-.3},{x:-1,y:0},{x:-.5,y:.3}];return At.transform(n,r),At.drawPath(e,n),!0}}class bbe{static draw(e,r){const n=[{x:-1,y:.3},{x:-.5,y:0},{x:-1,y:-.3},{x:0,y:0}];return At.transform(n,r),At.drawPath(e,n),!0}}class PQ{static draw(e,r){let n;switch(r.type&&(n=r.type.toLowerCase()),n){case"image":return lbe.draw(e,r);case"circle":return mbe.draw(e,r);case"box":return gbe.draw(e,r);case"crow":return cbe.draw(e,r);case"curve":return dbe.draw(e,r);case"diamond":return ybe.draw(e,r);case"inv_curve":return hbe.draw(e,r);case"triangle":return fbe.draw(e,r);case"inv_triangle":return pbe.draw(e,r);case"bar":return vbe.draw(e,r);case"vee":return bbe.draw(e,r);case"arrow":default:return ube.draw(e,r)}}}function sU(t,e){var r=Rt(t);if(_a){var n=_a(t);e&&(n=rn(n).call(n,function(i){return $a(t,i).enumerable})),r.push.apply(r,n)}return r}function aU(t){for(var e=1;e<arguments.length;e++){var r,n,i=arguments[e]!=null?arguments[e]:{};e%2?ot(r=sU(Object(i),!0)).call(r,function(s){es(t,s,i[s])}):Sa?Wm(t,Sa(i)):ot(n=sU(Object(i))).call(n,function(s){Hm(t,s,$a(i,s))})}return t}class IQ{constructor(e,r,n){es(this,"color",{}),es(this,"colorDirty",!0),es(this,"hoverWidth",1.5),es(this,"selectionWidth",2),this._body=r,this._labelModule=n,this.setOptions(e),this.fromPoint=this.from,this.toPoint=this.to}connect(){this.from=this._body.nodes[this.options.from],this.to=this._body.nodes[this.options.to]}cleanup(){return!1}setOptions(e){this.options=e,this.from=this._body.nodes[this.options.from],this.to=this._body.nodes[this.options.to],this.id=this.options.id}drawLine(e,r,n,i){let s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:this.getViaNode();e.strokeStyle=this.getColor(e,r),e.lineWidth=r.width,r.dashes!==!1?this._drawDashedLine(e,r,s):this._drawLine(e,r,s)}_drawLine(e,r,n,i,s){if(this.from!=this.to)this._line(e,r,n,i,s);else{const[a,o,l]=this._getCircleData(e);this._circle(e,r,a,o,l)}}_drawDashedLine(e,r,n,i,s){e.lineCap="round";const a=Dt(r.dashes)?r.dashes:[5,5];if(e.setLineDash!==void 0){if(e.save(),e.setLineDash(a),e.lineDashOffset=0,this.from!=this.to)this._line(e,r,n);else{const[o,l,c]=this._getCircleData(e);this._circle(e,r,o,l,c)}e.setLineDash([0]),e.lineDashOffset=0,e.restore()}else{if(this.from!=this.to)vY(e,this.from.x,this.from.y,this.to.x,this.to.y,a);else{const[o,l,c]=this._getCircleData(e);this._circle(e,r,o,l,c)}this.enableShadow(e,r),e.stroke(),this.disableShadow(e,r)}}findBorderPosition(e,r,n){return this.from!=this.to?this._findBorderPosition(e,r,n):this._findBorderPositionCircle(e,r,n)}findBorderPositions(e){if(this.from!=this.to)return{from:this._findBorderPosition(this.from,e),to:this._findBorderPosition(this.to,e)};{var r;const[n,i]=Ci(r=this._getCircleData(e)).call(r,0,2);return{from:this._findBorderPositionCircle(this.from,e,{x:n,y:i,low:.25,high:.6,direction:-1}),to:this._findBorderPositionCircle(this.from,e,{x:n,y:i,low:.6,high:.8,direction:1})}}}_getCircleData(e){const r=this.options.selfReference.size;e!==void 0&&this.from.shape.width===void 0&&this.from.shape.resize(e);const n=OQ(e,this.options.selfReference.angle,r,this.from);return[n.x,n.y,r]}_pointOnCircle(e,r,n,i){const s=i*2*Math.PI;return{x:e+n*Math.cos(s),y:r-n*Math.sin(s)}}_findBorderPositionCircle(e,r,n){const i=n.x,s=n.y;let a=n.low,o=n.high;const l=n.direction,c=10,d=this.options.selfReference.size,h=.05;let f,p=(a+o)*.5,m=0;this.options.arrowStrikethrough===!0&&(l===-1?m=this.options.endPointOffset.from:l===1&&(m=this.options.endPointOffset.to));let y=0;do{p=(a+o)*.5,f=this._pointOnCircle(i,s,d,p);const b=Math.atan2(e.y-f.y,e.x-f.x),g=e.distanceToBorder(r,b)+m,v=Math.sqrt(Math.pow(f.x-e.x,2)+Math.pow(f.y-e.y,2)),w=g-v;if(Math.abs(w)<h)break;w>0?l>0?a=p:o=p:l>0?o=p:a=p,++y}while(a<=o&&y<c);return aU(aU({},f),{},{t:p})}getLineWidth(e,r){return e===!0?Math.max(this.selectionWidth,.3/this._body.view.scale):r===!0?Math.max(this.hoverWidth,.3/this._body.view.scale):Math.max(this.options.width,.3/this._body.view.scale)}getColor(e,r){if(r.inheritsColor!==!1){if(r.inheritsColor==="both"&&this.from.id!==this.to.id){const n=e.createLinearGradient(this.from.x,this.from.y,this.to.x,this.to.y);let i=this.from.options.color.highlight.border,s=this.to.options.color.highlight.border;return this.from.selected===!1&&this.to.selected===!1?(i=Fn(this.from.options.color.border,r.opacity),s=Fn(this.to.options.color.border,r.opacity)):this.from.selected===!0&&this.to.selected===!1?s=this.to.options.color.border:this.from.selected===!1&&this.to.selected===!0&&(i=this.from.options.color.border),n.addColorStop(0,i),n.addColorStop(1,s),n}return r.inheritsColor==="to"?Fn(this.to.options.color.border,r.opacity):Fn(this.from.options.color.border,r.opacity)}else return Fn(r.color,r.opacity)}_circle(e,r,n,i,s){this.enableShadow(e,r);let a=0,o=Math.PI*2;if(!this.options.selfReference.renderBehindTheNode){const l=this.options.selfReference.angle,c=this.options.selfReference.angle+Math.PI,d=this._findBorderPositionCircle(this.from,e,{x:n,y:i,low:l,high:c,direction:-1}),h=this._findBorderPositionCircle(this.from,e,{x:n,y:i,low:l,high:c,direction:1});a=Math.atan2(d.y-i,d.x-n),o=Math.atan2(h.y-i,h.x-n)}e.beginPath(),e.arc(n,i,s,a,o,!1),e.stroke(),this.disableShadow(e,r)}getDistanceToEdge(e,r,n,i,s,a){if(this.from!=this.to)return this._getDistanceToEdge(e,r,n,i,s,a);{const[o,l,c]=this._getCircleData(void 0),d=o-s,h=l-a;return Math.abs(Math.sqrt(d*d+h*h)-c)}}_getDistanceToLine(e,r,n,i,s,a){const o=n-e,l=i-r,c=o*o+l*l;let d=((s-e)*o+(a-r)*l)/c;d>1?d=1:d<0&&(d=0);const h=e+d*o,f=r+d*l,p=h-s,m=f-a;return Math.sqrt(p*p+m*m)}getArrowData(e,r,n,i,s,a){let o,l,c,d,h,f,p;const m=a.width;r==="from"?(c=this.from,d=this.to,h=a.fromArrowScale<0,f=Math.abs(a.fromArrowScale),p=a.fromArrowType):r==="to"?(c=this.to,d=this.from,h=a.toArrowScale<0,f=Math.abs(a.toArrowScale),p=a.toArrowType):(c=this.to,d=this.from,h=a.middleArrowScale<0,f=Math.abs(a.middleArrowScale),p=a.middleArrowType);const y=15*f+3*m;if(c!=d){const w=obe(c.x-d.x,c.y-d.y),x=y/w;if(r!=="middle")if(this.options.smooth.enabled===!0){const _=this._findBorderPosition(c,e,{via:n}),E=this.getPoint(_.t+x*(r==="from"?1:-1),n);o=Math.atan2(_.y-E.y,_.x-E.x),l=_}else o=Math.atan2(c.y-d.y,c.x-d.x),l=this._findBorderPosition(c,e);else{const _=(h?-x:x)/2,E=this.getPoint(.5+_,n),N=this.getPoint(.5-_,n);o=Math.atan2(E.y-N.y,E.x-N.x),l=this.getPoint(.5,n)}}else{const[w,x,_]=this._getCircleData(e);if(r==="from"){const E=this.options.selfReference.angle,N=this.options.selfReference.angle+Math.PI,S=this._findBorderPositionCircle(this.from,e,{x:w,y:x,low:E,high:N,direction:-1});o=S.t*-2*Math.PI+1.5*Math.PI+.1*Math.PI,l=S}else if(r==="to"){const E=this.options.selfReference.angle,N=this.options.selfReference.angle+Math.PI,S=this._findBorderPositionCircle(this.from,e,{x:w,y:x,low:E,high:N,direction:1});o=S.t*-2*Math.PI+1.5*Math.PI-1.1*Math.PI,l=S}else{const E=this.options.selfReference.angle/(2*Math.PI);l=this._pointOnCircle(w,x,_,E),o=E*-2*Math.PI+1.5*Math.PI+.1*Math.PI}}const b=l.x-y*.9*Math.cos(o),g=l.y-y*.9*Math.sin(o);return{point:l,core:{x:b,y:g},angle:o,length:y,type:p}}drawArrowHead(e,r,n,i,s){e.strokeStyle=this.getColor(e,r),e.fillStyle=e.strokeStyle,e.lineWidth=r.width,PQ.draw(e,s)&&(this.enableShadow(e,r),Ph(e).call(e),this.disableShadow(e,r))}enableShadow(e,r){r.shadow===!0&&(e.shadowColor=r.shadowColor,e.shadowBlur=r.shadowSize,e.shadowOffsetX=r.shadowX,e.shadowOffsetY=r.shadowY)}disableShadow(e,r){r.shadow===!0&&(e.shadowColor="rgba(0,0,0,0)",e.shadowBlur=0,e.shadowOffsetX=0,e.shadowOffsetY=0)}drawBackground(e,r){if(r.background!==!1){const n={strokeStyle:e.strokeStyle,lineWidth:e.lineWidth,dashes:e.dashes};e.strokeStyle=r.backgroundColor,e.lineWidth=r.backgroundSize,this.setStrokeDashed(e,r.backgroundDashes),e.stroke(),e.strokeStyle=n.strokeStyle,e.lineWidth=n.lineWidth,e.dashes=n.dashes,this.setStrokeDashed(e,r.dashes)}}setStrokeDashed(e,r){if(r!==!1)if(e.setLineDash!==void 0){const n=Dt(r)?r:[5,5];e.setLineDash(n)}else console.warn("setLineDash is not supported in this browser. The dashed stroke cannot be used.");else e.setLineDash!==void 0?e.setLineDash([]):console.warn("setLineDash is not supported in this browser. The dashed stroke cannot be used.")}}function oU(t,e){var r=Rt(t);if(_a){var n=_a(t);e&&(n=rn(n).call(n,function(i){return $a(t,i).enumerable})),r.push.apply(r,n)}return r}function lU(t){for(var e=1;e<arguments.length;e++){var r,n,i=arguments[e]!=null?arguments[e]:{};e%2?ot(r=oU(Object(i),!0)).call(r,function(s){es(t,s,i[s])}):Sa?Wm(t,Sa(i)):ot(n=oU(Object(i))).call(n,function(s){Hm(t,s,$a(i,s))})}return t}class _T extends IQ{constructor(e,r,n){super(e,r,n)}_findBorderPositionBezier(e,r){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this._getViaCoordinates();const i=10,s=.2;let a=!1,o=1,l=0,c=this.to,d,h,f=this.options.endPointOffset?this.options.endPointOffset.to:0;e.id===this.from.id&&(c=this.from,a=!0,f=this.options.endPointOffset?this.options.endPointOffset.from:0),this.options.arrowStrikethrough===!1&&(f=0);let p=0;do{h=(l+o)*.5,d=this.getPoint(h,n);const m=Math.atan2(c.y-d.y,c.x-d.x),y=c.distanceToBorder(r,m)+f,b=Math.sqrt(Math.pow(d.x-c.x,2)+Math.pow(d.y-c.y,2)),g=y-b;if(Math.abs(g)<s)break;g<0?a===!1?l=h:o=h:a===!1?o=h:l=h,++p}while(l<=o&&p<i);return lU(lU({},d),{},{t:h})}_getDistanceToBezierEdge(e,r,n,i,s,a,o){let l=1e9,c,d,h,f,p,m=e,y=r;for(d=1;d<10;d++)h=.1*d,f=Math.pow(1-h,2)*e+2*h*(1-h)*o.x+Math.pow(h,2)*n,p=Math.pow(1-h,2)*r+2*h*(1-h)*o.y+Math.pow(h,2)*i,d>0&&(c=this._getDistanceToLine(m,y,f,p,s,a),l=c<l?c:l),m=f,y=p;return l}_bezierCurve(e,r,n,i){e.beginPath(),e.moveTo(this.fromPoint.x,this.fromPoint.y),n!=null&&n.x!=null?i!=null&&i.x!=null?e.bezierCurveTo(n.x,n.y,i.x,i.y,this.toPoint.x,this.toPoint.y):e.quadraticCurveTo(n.x,n.y,this.toPoint.x,this.toPoint.y):e.lineTo(this.toPoint.x,this.toPoint.y),this.drawBackground(e,r),this.enableShadow(e,r),e.stroke(),this.disableShadow(e,r)}getViaNode(){return this._getViaCoordinates()}}class uU extends _T{constructor(e,r,n){super(e,r,n),es(this,"via",this.via),this._boundFunction=()=>{this.positionBezierNode()},this._body.emitter.on("_repositionBezierNodes",this._boundFunction)}setOptions(e){super.setOptions(e);let r=!1;this.options.physics!==e.physics&&(r=!0),this.options=e,this.id=this.options.id,this.from=this._body.nodes[this.options.from],this.to=this._body.nodes[this.options.to],this.setupSupportNode(),this.connect(),r===!0&&(this.via.setOptions({physics:this.options.physics}),this.positionBezierNode())}connect(){this.from=this._body.nodes[this.options.from],this.to=this._body.nodes[this.options.to],this.from===void 0||this.to===void 0||this.options.physics===!1?this.via.setOptions({physics:!1}):this.from.id===this.to.id?this.via.setOptions({physics:!1}):this.via.setOptions({physics:!0})}cleanup(){return this._body.emitter.off("_repositionBezierNodes",this._boundFunction),this.via!==void 0?(delete this._body.nodes[this.via.id],this.via=void 0,!0):!1}setupSupportNode(){if(this.via===void 0){const e="edgeId:"+this.id,r=this._body.functions.createNode({id:e,shape:"circle",physics:!0,hidden:!0});this._body.nodes[e]=r,this.via=r,this.via.parentEdgeId=this.id,this.positionBezierNode()}}positionBezierNode(){this.via!==void 0&&this.from!==void 0&&this.to!==void 0?(this.via.x=.5*(this.from.x+this.to.x),this.via.y=.5*(this.from.y+this.to.y)):this.via!==void 0&&(this.via.x=0,this.via.y=0)}_line(e,r,n){this._bezierCurve(e,r,n)}_getViaCoordinates(){return this.via}getViaNode(){return this.via}getPoint(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.via;if(this.from===this.to){const[n,i,s]=this._getCircleData(),a=2*Math.PI*(1-e);return{x:n+s*Math.sin(a),y:i+s-s*(1-Math.cos(a))}}else return{x:Math.pow(1-e,2)*this.fromPoint.x+2*e*(1-e)*r.x+Math.pow(e,2)*this.toPoint.x,y:Math.pow(1-e,2)*this.fromPoint.y+2*e*(1-e)*r.y+Math.pow(e,2)*this.toPoint.y}}_findBorderPosition(e,r){return this._findBorderPositionBezier(e,r,this.via)}_getDistanceToEdge(e,r,n,i,s,a){return this._getDistanceToBezierEdge(e,r,n,i,s,a,this.via)}}class cU extends _T{constructor(e,r,n){super(e,r,n)}_line(e,r,n){this._bezierCurve(e,r,n)}getViaNode(){return this._getViaCoordinates()}_getViaCoordinates(){const e=this.options.smooth.roundness,r=this.options.smooth.type;let n=Math.abs(this.from.x-this.to.x),i=Math.abs(this.from.y-this.to.y);if(r==="discrete"||r==="diagonalCross"){let s,a;n<=i?s=a=e*i:s=a=e*n,this.from.x>this.to.x&&(s=-s),this.from.y>=this.to.y&&(a=-a);let o=this.from.x+s,l=this.from.y+a;return r==="discrete"&&(n<=i?o=n<e*i?this.from.x:o:l=i<e*n?this.from.y:l),{x:o,y:l}}else if(r==="straightCross"){let s=(1-e)*n,a=(1-e)*i;return n<=i?(s=0,this.from.y<this.to.y&&(a=-a)):(this.from.x<this.to.x&&(s=-s),a=0),{x:this.to.x+s,y:this.to.y+a}}else if(r==="horizontal"){let s=(1-e)*n;return this.from.x<this.to.x&&(s=-s),{x:this.to.x+s,y:this.from.y}}else if(r==="vertical"){let s=(1-e)*i;return this.from.y<this.to.y&&(s=-s),{x:this.from.x,y:this.to.y+s}}else if(r==="curvedCW"){n=this.to.x-this.from.x,i=this.from.y-this.to.y;const s=Math.sqrt(n*n+i*i),a=Math.PI,l=(Math.atan2(i,n)+(e*.5+.5)*a)%(2*a);return{x:this.from.x+(e*.5+.5)*s*Math.sin(l),y:this.from.y+(e*.5+.5)*s*Math.cos(l)}}else if(r==="curvedCCW"){n=this.to.x-this.from.x,i=this.from.y-this.to.y;const s=Math.sqrt(n*n+i*i),a=Math.PI,l=(Math.atan2(i,n)+(-e*.5+.5)*a)%(2*a);return{x:this.from.x+(e*.5+.5)*s*Math.sin(l),y:this.from.y+(e*.5+.5)*s*Math.cos(l)}}else{let s,a;n<=i?s=a=e*i:s=a=e*n,this.from.x>this.to.x&&(s=-s),this.from.y>=this.to.y&&(a=-a);let o=this.from.x+s,l=this.from.y+a;return n<=i?this.from.x<=this.to.x?o=this.to.x<o?this.to.x:o:o=this.to.x>o?this.to.x:o:this.from.y>=this.to.y?l=this.to.y>l?this.to.y:l:l=this.to.y<l?this.to.y:l,{x:o,y:l}}}_findBorderPosition(e,r){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this._findBorderPositionBezier(e,r,n.via)}_getDistanceToEdge(e,r,n,i,s,a){let o=arguments.length>6&&arguments[6]!==void 0?arguments[6]:this._getViaCoordinates();return this._getDistanceToBezierEdge(e,r,n,i,s,a,o)}getPoint(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this._getViaCoordinates();const n=e,i=Math.pow(1-n,2)*this.fromPoint.x+2*n*(1-n)*r.x+Math.pow(n,2)*this.toPoint.x,s=Math.pow(1-n,2)*this.fromPoint.y+2*n*(1-n)*r.y+Math.pow(n,2)*this.toPoint.y;return{x:i,y:s}}}class xbe extends _T{constructor(e,r,n){super(e,r,n)}_getDistanceToBezierEdge2(e,r,n,i,s,a,o,l){let c=1e9,d=e,h=r;const f=[0,0,0,0];for(let p=1;p<10;p++){const m=.1*p;f[0]=Math.pow(1-m,3),f[1]=3*m*Math.pow(1-m,2),f[2]=3*Math.pow(m,2)*(1-m),f[3]=Math.pow(m,3);const y=f[0]*e+f[1]*o.x+f[2]*l.x+f[3]*n,b=f[0]*r+f[1]*o.y+f[2]*l.y+f[3]*i;if(p>0){const g=this._getDistanceToLine(d,h,y,b,s,a);c=g<c?g:c}d=y,h=b}return c}}class dU extends xbe{constructor(e,r,n){super(e,r,n)}_line(e,r,n){const i=n[0],s=n[1];this._bezierCurve(e,r,i,s)}_getViaCoordinates(){const e=this.from.x-this.to.x,r=this.from.y-this.to.y;let n,i,s,a;const o=this.options.smooth.roundness;return(Math.abs(e)>Math.abs(r)||this.options.smooth.forceDirection===!0||this.options.smooth.forceDirection==="horizontal")&&this.options.smooth.forceDirection!=="vertical"?(i=this.from.y,a=this.to.y,n=this.from.x-o*e,s=this.to.x+o*e):(i=this.from.y-o*r,a=this.to.y+o*r,n=this.from.x,s=this.to.x),[{x:n,y:i},{x:s,y:a}]}getViaNode(){return this._getViaCoordinates()}_findBorderPosition(e,r){return this._findBorderPositionBezier(e,r)}_getDistanceToEdge(e,r,n,i,s,a){let[o,l]=arguments.length>6&&arguments[6]!==void 0?arguments[6]:this._getViaCoordinates();return this._getDistanceToBezierEdge2(e,r,n,i,s,a,o,l)}getPoint(e){let[r,n]=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this._getViaCoordinates();const i=e,s=[Math.pow(1-i,3),3*i*Math.pow(1-i,2),3*Math.pow(i,2)*(1-i),Math.pow(i,3)],a=s[0]*this.fromPoint.x+s[1]*r.x+s[2]*n.x+s[3]*this.toPoint.x,o=s[0]*this.fromPoint.y+s[1]*r.y+s[2]*n.y+s[3]*this.toPoint.y;return{x:a,y:o}}}class hU extends IQ{constructor(e,r,n){super(e,r,n)}_line(e,r){e.beginPath(),e.moveTo(this.fromPoint.x,this.fromPoint.y),e.lineTo(this.toPoint.x,this.toPoint.y),this.enableShadow(e,r),e.stroke(),this.disableShadow(e,r)}getViaNode(){}getPoint(e){return{x:(1-e)*this.fromPoint.x+e*this.toPoint.x,y:(1-e)*this.fromPoint.y+e*this.toPoint.y}}_findBorderPosition(e,r){let n=this.to,i=this.from;e.id===this.from.id&&(n=this.from,i=this.to);const s=Math.atan2(n.y-i.y,n.x-i.x),a=n.x-i.x,o=n.y-i.y,l=Math.sqrt(a*a+o*o),c=e.distanceToBorder(r,s),d=(l-c)/l;return{x:(1-d)*i.x+d*n.x,y:(1-d)*i.y+d*n.y,t:0}}_getDistanceToEdge(e,r,n,i,s,a){return this._getDistanceToLine(e,r,n,i,s,a)}}class va{constructor(e,r,n,i,s){if(r===void 0)throw new Error("No body provided");this.options=ma(i),this.globalOptions=i,this.defaultOptions=s,this.body=r,this.imagelist=n,this.id=void 0,this.fromId=void 0,this.toId=void 0,this.selected=!1,this.hover=!1,this.labelDirty=!0,this.baseWidth=this.options.width,this.baseFontSize=this.options.font.size,this.from=void 0,this.to=void 0,this.edgeType=void 0,this.connected=!1,this.labelModule=new zl(this.body,this.options,!0),this.setOptions(e)}setOptions(e){if(!e)return;let r=typeof e.physics<"u"&&this.options.physics!==e.physics||typeof e.hidden<"u"&&(this.options.hidden||!1)!==(e.hidden||!1)||typeof e.from<"u"&&this.options.from!==e.from||typeof e.to<"u"&&this.options.to!==e.to;va.parseOptions(this.options,e,!0,this.globalOptions),e.id!==void 0&&(this.id=e.id),e.from!==void 0&&(this.fromId=e.from),e.to!==void 0&&(this.toId=e.to),e.title!==void 0&&(this.title=e.title),e.value!==void 0&&(e.value=CQ(e.value));const n=[e,this.options,this.defaultOptions];return this.chooser=xT("edge",n),this.updateLabelModule(e),r=this.updateEdgeType()||r,this._setInteractionWidths(),this.connect(),r}static parseOptions(e,r){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1;if(uc(["endPointOffset","arrowStrikethrough","id","from","hidden","hoverWidth","labelHighlightBold","length","line","opacity","physics","scaling","selectionWidth","selfReferenceSize","selfReference","to","title","value","width","font","chosen","widthConstraint"],e,r,n),r.endPointOffset!==void 0&&r.endPointOffset.from!==void 0&&(Za(r.endPointOffset.from)?e.endPointOffset.from=r.endPointOffset.from:(e.endPointOffset.from=i.endPointOffset.from!==void 0?i.endPointOffset.from:0,console.error("endPointOffset.from is not a valid number"))),r.endPointOffset!==void 0&&r.endPointOffset.to!==void 0&&(Za(r.endPointOffset.to)?e.endPointOffset.to=r.endPointOffset.to:(e.endPointOffset.to=i.endPointOffset.to!==void 0?i.endPointOffset.to:0,console.error("endPointOffset.to is not a valid number"))),Mp(r.label)?e.label=r.label:Mp(e.label)||(e.label=void 0),Dn(e,r,"smooth",i),Dn(e,r,"shadow",i),Dn(e,r,"background",i),r.dashes!==void 0&&r.dashes!==null?e.dashes=r.dashes:n===!0&&r.dashes===null&&(e.dashes=go(i.dashes)),r.scaling!==void 0&&r.scaling!==null?(r.scaling.min!==void 0&&(e.scaling.min=r.scaling.min),r.scaling.max!==void 0&&(e.scaling.max=r.scaling.max),Dn(e.scaling,r.scaling,"label",i.scaling)):n===!0&&r.scaling===null&&(e.scaling=go(i.scaling)),r.arrows!==void 0&&r.arrows!==null)if(typeof r.arrows=="string"){const o=r.arrows.toLowerCase();e.arrows.to.enabled=Ze(o).call(o,"to")!=-1,e.arrows.middle.enabled=Ze(o).call(o,"middle")!=-1,e.arrows.from.enabled=Ze(o).call(o,"from")!=-1}else if(typeof r.arrows=="object")Dn(e.arrows,r.arrows,"to",i.arrows),Dn(e.arrows,r.arrows,"middle",i.arrows),Dn(e.arrows,r.arrows,"from",i.arrows);else throw new Error("The arrow newOptions can only be an object or a string. Refer to the documentation. You used:"+Th(r.arrows));else n===!0&&r.arrows===null&&(e.arrows=go(i.arrows));if(r.color!==void 0&&r.color!==null){const o=Ll(r.color)?{color:r.color,highlight:r.color,hover:r.color,inherit:!1,opacity:1}:r.color,l=e.color;if(s)ht(l,i.color,!1,n);else for(const c in l)Object.prototype.hasOwnProperty.call(l,c)&&delete l[c];if(Ll(l))l.color=l,l.highlight=l,l.hover=l,l.inherit=!1,o.opacity===void 0&&(l.opacity=1);else{let c=!1;o.color!==void 0&&(l.color=o.color,c=!0),o.highlight!==void 0&&(l.highlight=o.highlight,c=!0),o.hover!==void 0&&(l.hover=o.hover,c=!0),o.inherit!==void 0&&(l.inherit=o.inherit),o.opacity!==void 0&&(l.opacity=Math.min(1,Math.max(0,o.opacity))),c===!0?l.inherit=!1:l.inherit===void 0&&(l.inherit="from")}}else n===!0&&r.color===null&&(e.color=ma(i.color));n===!0&&r.font===null&&(e.font=ma(i.font)),Object.prototype.hasOwnProperty.call(r,"selfReferenceSize")&&(console.warn("The selfReferenceSize property has been deprecated. Please use selfReference property instead. The selfReference can be set like thise selfReference:{size:30, angle:Math.PI / 4}"),e.selfReference.size=r.selfReferenceSize)}getFormattingValues(){const e=this.options.arrows.to===!0||this.options.arrows.to.enabled===!0,r=this.options.arrows.from===!0||this.options.arrows.from.enabled===!0,n=this.options.arrows.middle===!0||this.options.arrows.middle.enabled===!0,i=this.options.color.inherit,s={toArrow:e,toArrowScale:this.options.arrows.to.scaleFactor,toArrowType:this.options.arrows.to.type,toArrowSrc:this.options.arrows.to.src,toArrowImageWidth:this.options.arrows.to.imageWidth,toArrowImageHeight:this.options.arrows.to.imageHeight,middleArrow:n,middleArrowScale:this.options.arrows.middle.scaleFactor,middleArrowType:this.options.arrows.middle.type,middleArrowSrc:this.options.arrows.middle.src,middleArrowImageWidth:this.options.arrows.middle.imageWidth,middleArrowImageHeight:this.options.arrows.middle.imageHeight,fromArrow:r,fromArrowScale:this.options.arrows.from.scaleFactor,fromArrowType:this.options.arrows.from.type,fromArrowSrc:this.options.arrows.from.src,fromArrowImageWidth:this.options.arrows.from.imageWidth,fromArrowImageHeight:this.options.arrows.from.imageHeight,arrowStrikethrough:this.options.arrowStrikethrough,color:i?void 0:this.options.color.color,inheritsColor:i,opacity:this.options.color.opacity,hidden:this.options.hidden,length:this.options.length,shadow:this.options.shadow.enabled,shadowColor:this.options.shadow.color,shadowSize:this.options.shadow.size,shadowX:this.options.shadow.x,shadowY:this.options.shadow.y,dashes:this.options.dashes,width:this.options.width,background:this.options.background.enabled,backgroundColor:this.options.background.color,backgroundSize:this.options.background.size,backgroundDashes:this.options.background.dashes};if(this.selected||this.hover)if(this.chooser===!0){if(this.selected){const a=this.options.selectionWidth;typeof a=="function"?s.width=a(s.width):typeof a=="number"&&(s.width+=a),s.width=Math.max(s.width,.3/this.body.view.scale),s.color=this.options.color.highlight,s.shadow=this.options.shadow.enabled}else if(this.hover){const a=this.options.hoverWidth;typeof a=="function"?s.width=a(s.width):typeof a=="number"&&(s.width+=a),s.width=Math.max(s.width,.3/this.body.view.scale),s.color=this.options.color.hover,s.shadow=this.options.shadow.enabled}}else typeof this.chooser=="function"&&(this.chooser(s,this.options.id,this.selected,this.hover),s.color!==void 0&&(s.inheritsColor=!1),s.shadow===!1&&(s.shadowColor!==this.options.shadow.color||s.shadowSize!==this.options.shadow.size||s.shadowX!==this.options.shadow.x||s.shadowY!==this.options.shadow.y)&&(s.shadow=!0));else s.shadow=this.options.shadow.enabled,s.width=Math.max(s.width,.3/this.body.view.scale);return s}updateLabelModule(e){const r=[e,this.options,this.globalOptions,this.defaultOptions];this.labelModule.update(this.options,r),this.labelModule.baseSize!==void 0&&(this.baseFontSize=this.labelModule.baseSize)}updateEdgeType(){const e=this.options.smooth;let r=!1,n=!0;return this.edgeType!==void 0&&((this.edgeType instanceof uU&&e.enabled===!0&&e.type==="dynamic"||this.edgeType instanceof dU&&e.enabled===!0&&e.type==="cubicBezier"||this.edgeType instanceof cU&&e.enabled===!0&&e.type!=="dynamic"&&e.type!=="cubicBezier"||this.edgeType instanceof hU&&e.type.enabled===!1)&&(n=!1),n===!0&&(r=this.cleanup())),n===!0?e.enabled===!0?e.type==="dynamic"?(r=!0,this.edgeType=new uU(this.options,this.body,this.labelModule)):e.type==="cubicBezier"?this.edgeType=new dU(this.options,this.body,this.labelModule):this.edgeType=new cU(this.options,this.body,this.labelModule):this.edgeType=new hU(this.options,this.body,this.labelModule):this.edgeType.setOptions(this.options),r}connect(){this.disconnect(),this.from=this.body.nodes[this.fromId]||void 0,this.to=this.body.nodes[this.toId]||void 0,this.connected=this.from!==void 0&&this.to!==void 0,this.connected===!0?(this.from.attachEdge(this),this.to.attachEdge(this)):(this.from&&this.from.detachEdge(this),this.to&&this.to.detachEdge(this)),this.edgeType.connect()}disconnect(){this.from&&(this.from.detachEdge(this),this.from=void 0),this.to&&(this.to.detachEdge(this),this.to=void 0),this.connected=!1}getTitle(){return this.title}isSelected(){return this.selected}getValue(){return this.options.value}setValueRange(e,r,n){if(this.options.value!==void 0){const i=this.options.scaling.customScalingFunction(e,r,n,this.options.value),s=this.options.scaling.max-this.options.scaling.min;if(this.options.scaling.label.enabled===!0){const a=this.options.scaling.label.max-this.options.scaling.label.min;this.options.font.size=this.options.scaling.label.min+i*a}this.options.width=this.options.scaling.min+i*s}else this.options.width=this.baseWidth,this.options.font.size=this.baseFontSize;this._setInteractionWidths(),this.updateLabelModule()}_setInteractionWidths(){typeof this.options.hoverWidth=="function"?this.edgeType.hoverWidth=this.options.hoverWidth(this.options.width):this.edgeType.hoverWidth=this.options.hoverWidth+this.options.width,typeof this.options.selectionWidth=="function"?this.edgeType.selectionWidth=this.options.selectionWidth(this.options.width):this.edgeType.selectionWidth=this.options.selectionWidth+this.options.width}draw(e){const r=this.getFormattingValues();if(r.hidden)return;const n=this.edgeType.getViaNode();this.edgeType.drawLine(e,r,this.selected,this.hover,n),this.drawLabel(e,n)}drawArrows(e){const r=this.getFormattingValues();if(r.hidden)return;const n=this.edgeType.getViaNode(),i={};this.edgeType.fromPoint=this.edgeType.from,this.edgeType.toPoint=this.edgeType.to,r.fromArrow&&(i.from=this.edgeType.getArrowData(e,"from",n,this.selected,this.hover,r),r.arrowStrikethrough===!1&&(this.edgeType.fromPoint=i.from.core),r.fromArrowSrc&&(i.from.image=this.imagelist.load(r.fromArrowSrc)),r.fromArrowImageWidth&&(i.from.imageWidth=r.fromArrowImageWidth),r.fromArrowImageHeight&&(i.from.imageHeight=r.fromArrowImageHeight)),r.toArrow&&(i.to=this.edgeType.getArrowData(e,"to",n,this.selected,this.hover,r),r.arrowStrikethrough===!1&&(this.edgeType.toPoint=i.to.core),r.toArrowSrc&&(i.to.image=this.imagelist.load(r.toArrowSrc)),r.toArrowImageWidth&&(i.to.imageWidth=r.toArrowImageWidth),r.toArrowImageHeight&&(i.to.imageHeight=r.toArrowImageHeight)),r.middleArrow&&(i.middle=this.edgeType.getArrowData(e,"middle",n,this.selected,this.hover,r),r.middleArrowSrc&&(i.middle.image=this.imagelist.load(r.middleArrowSrc)),r.middleArrowImageWidth&&(i.middle.imageWidth=r.middleArrowImageWidth),r.middleArrowImageHeight&&(i.middle.imageHeight=r.middleArrowImageHeight)),r.fromArrow&&this.edgeType.drawArrowHead(e,r,this.selected,this.hover,i.from),r.middleArrow&&this.edgeType.drawArrowHead(e,r,this.selected,this.hover,i.middle),r.toArrow&&this.edgeType.drawArrowHead(e,r,this.selected,this.hover,i.to)}drawLabel(e,r){if(this.options.label!==void 0){const n=this.from,i=this.to;this.labelModule.differentState(this.selected,this.hover)&&this.labelModule.getTextSize(e,this.selected,this.hover);let s;if(n.id!=i.id){this.labelModule.pointToSelf=!1,s=this.edgeType.getPoint(.5,r),e.save();const a=this._getRotation(e);a.angle!=0&&(e.translate(a.x,a.y),e.rotate(a.angle)),this.labelModule.draw(e,s.x,s.y,this.selected,this.hover),e.restore()}else{this.labelModule.pointToSelf=!0;const a=OQ(e,this.options.selfReference.angle,this.options.selfReference.size,n);s=this._pointOnCircle(a.x,a.y,this.options.selfReference.size,this.options.selfReference.angle),this.labelModule.draw(e,s.x,s.y,this.selected,this.hover)}}}getItemsOnPoint(e){const r=[];if(this.labelModule.visible()){const i=this._getRotation();Gj(this.labelModule.getSize(),e,i)&&r.push({edgeId:this.id,labelId:0})}const n={left:e.x,top:e.y};return this.isOverlappingWith(n)&&r.push({edgeId:this.id}),r}isOverlappingWith(e){if(this.connected){const n=this.from.x,i=this.from.y,s=this.to.x,a=this.to.y,o=e.left,l=e.top;return this.edgeType.getDistanceToEdge(n,i,s,a,o,l)<10}else return!1}_getRotation(e){const r=this.edgeType.getViaNode(),n=this.edgeType.getPoint(.5,r);e!==void 0&&this.labelModule.calculateLabelSize(e,this.selected,this.hover,n.x,n.y);const i={x:n.x,y:this.labelModule.size.yLine,angle:0};if(!this.labelModule.visible()||this.options.font.align==="horizontal")return i;const s=this.from.y-this.to.y,a=this.from.x-this.to.x;let o=Math.atan2(s,a);return(o<-1&&a<0||o>0&&a<0)&&(o+=Math.PI),i.angle=o,i}_pointOnCircle(e,r,n,i){return{x:e+n*Math.cos(i),y:r-n*Math.sin(i)}}select(){this.selected=!0}unselect(){this.selected=!1}cleanup(){return this.edgeType.cleanup()}remove(){this.cleanup(),this.disconnect(),delete this.body.edges[this.id]}endPointsValid(){return this.body.nodes[this.fromId]!==void 0&&this.body.nodes[this.toId]!==void 0}}class wbe{constructor(e,r,n){var i;this.body=e,this.images=r,this.groups=n,this.body.functions.createEdge=te(i=this.create).call(i,this),this.edgesListeners={add:(s,a)=>{this.add(a.items)},update:(s,a)=>{this.update(a.items)},remove:(s,a)=>{this.remove(a.items)}},this.options={},this.defaultOptions={arrows:{to:{enabled:!1,scaleFactor:1,type:"arrow"},middle:{enabled:!1,scaleFactor:1,type:"arrow"},from:{enabled:!1,scaleFactor:1,type:"arrow"}},endPointOffset:{from:0,to:0},arrowStrikethrough:!0,color:{color:"#848484",highlight:"#848484",hover:"#848484",inherit:"from",opacity:1},dashes:!1,font:{color:"#343434",size:14,face:"arial",background:"none",strokeWidth:2,strokeColor:"#ffffff",align:"horizontal",multi:!1,vadjust:0,bold:{mod:"bold"},boldital:{mod:"bold italic"},ital:{mod:"italic"},mono:{mod:"",size:15,face:"courier new",vadjust:2}},hidden:!1,hoverWidth:1.5,label:void 0,labelHighlightBold:!0,length:void 0,physics:!0,scaling:{min:1,max:15,label:{enabled:!0,min:14,max:30,maxVisible:30,drawThreshold:5},customScalingFunction:function(s,a,o,l){if(a===s)return .5;{const c=1/(a-s);return Math.max(0,(l-s)*c)}}},selectionWidth:1.5,selfReference:{size:20,angle:Math.PI/4,renderBehindTheNode:!0},shadow:{enabled:!1,color:"rgba(0,0,0,0.5)",size:10,x:5,y:5},background:{enabled:!1,color:"rgba(111,111,111,1)",size:10,dashes:!1},smooth:{enabled:!0,type:"dynamic",forceDirection:"none",roundness:.5},title:void 0,width:1,value:void 0},ht(this.options,this.defaultOptions),this.bindEventListeners()}bindEventListeners(){var e=this,r,n;this.body.emitter.on("_forceDisableDynamicCurves",function(i){let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;i==="dynamic"&&(i="continuous");let a=!1;for(const o in e.body.edges)if(Object.prototype.hasOwnProperty.call(e.body.edges,o)){const l=e.body.edges[o],c=e.body.data.edges.get(o);if(c!=null){const d=c.smooth;d!==void 0&&d.enabled===!0&&d.type==="dynamic"&&(i===void 0?l.setOptions({smooth:!1}):l.setOptions({smooth:{type:i}}),a=!0)}}s===!0&&a===!0&&e.body.emitter.emit("_dataChanged")}),this.body.emitter.on("_dataUpdated",()=>{this.reconnectEdges()}),this.body.emitter.on("refreshEdges",te(r=this.refresh).call(r,this)),this.body.emitter.on("refresh",te(n=this.refresh).call(n,this)),this.body.emitter.on("destroy",()=>{qe(this.edgesListeners,(i,s)=>{this.body.data.edges&&this.body.data.edges.off(s,i)}),delete this.body.functions.createEdge,delete this.edgesListeners.add,delete this.edgesListeners.update,delete this.edgesListeners.remove,delete this.edgesListeners})}setOptions(e){if(e!==void 0){va.parseOptions(this.options,e,!0,this.defaultOptions,!0);let r=!1;if(e.smooth!==void 0)for(const n in this.body.edges)Object.prototype.hasOwnProperty.call(this.body.edges,n)&&(r=this.body.edges[n].updateEdgeType()||r);if(e.font!==void 0)for(const n in this.body.edges)Object.prototype.hasOwnProperty.call(this.body.edges,n)&&this.body.edges[n].updateLabelModule();(e.hidden!==void 0||e.physics!==void 0||r===!0)&&this.body.emitter.emit("_dataChanged")}}setData(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;const n=this.body.data.edges;if(aY("id",e))this.body.data.edges=e;else if(Dt(e))this.body.data.edges=new _u,this.body.data.edges.add(e);else if(!e)this.body.data.edges=new _u;else throw new TypeError("Array or DataSet expected");if(n&&qe(this.edgesListeners,(i,s)=>{n.off(s,i)}),this.body.edges={},this.body.data.edges){qe(this.edgesListeners,(s,a)=>{this.body.data.edges.on(a,s)});const i=this.body.data.edges.getIds();this.add(i,!0)}this.body.emitter.emit("_adjustEdgesForHierarchicalLayout"),r===!1&&this.body.emitter.emit("_dataChanged")}add(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;const n=this.body.edges,i=this.body.data.edges;for(let s=0;s<e.length;s++){const a=e[s],o=n[a];o&&o.disconnect();const l=i.get(a,{showInternalIds:!0});n[a]=this.create(l)}this.body.emitter.emit("_adjustEdgesForHierarchicalLayout"),r===!1&&this.body.emitter.emit("_dataChanged")}update(e){const r=this.body.edges,n=this.body.data.edges;let i=!1;for(let s=0;s<e.length;s++){const a=e[s],o=n.get(a),l=r[a];l!==void 0?(l.disconnect(),i=l.setOptions(o)||i,l.connect()):(this.body.edges[a]=this.create(o),i=!0)}i===!0?(this.body.emitter.emit("_adjustEdgesForHierarchicalLayout"),this.body.emitter.emit("_dataChanged")):this.body.emitter.emit("_dataUpdated")}remove(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(e.length===0)return;const n=this.body.edges;qe(e,i=>{const s=n[i];s!==void 0&&s.remove()}),r&&this.body.emitter.emit("_dataChanged")}refresh(){qe(this.body.edges,(e,r)=>{const n=this.body.data.edges.get(r);n!==void 0&&e.setOptions(n)})}create(e){return new va(e,this.body,this.images,this.options,this.defaultOptions)}reconnectEdges(){let e;const r=this.body.nodes,n=this.body.edges;for(e in r)Object.prototype.hasOwnProperty.call(r,e)&&(r[e].edges=[]);for(e in n)if(Object.prototype.hasOwnProperty.call(n,e)){const i=n[e];i.from=null,i.to=null,i.connect()}}getConnectedNodes(e){const r=[];if(this.body.edges[e]!==void 0){const n=this.body.edges[e];n.fromId!==void 0&&r.push(n.fromId),n.toId!==void 0&&r.push(n.toId)}return r}_updateState(){this._addMissingEdges(),this._removeInvalidEdges()}_removeInvalidEdges(){const e=[];qe(this.body.edges,(r,n)=>{const i=this.body.nodes[r.toId],s=this.body.nodes[r.fromId];i!==void 0&&i.isCluster===!0||s!==void 0&&s.isCluster===!0||(i===void 0||s===void 0)&&e.push(n)}),this.remove(e,!1)}_addMissingEdges(){const e=this.body.data.edges;if(e==null)return;const r=this.body.edges,n=[];ot(e).call(e,(i,s)=>{r[s]===void 0&&n.push(s)}),this.add(n,!0)}}class RQ{constructor(e,r,n){this.body=e,this.physicsBody=r,this.barnesHutTree,this.setOptions(n),this._rng=Bm("BARNES HUT SOLVER")}setOptions(e){this.options=e,this.thetaInversed=1/this.options.theta,this.overlapAvoidanceFactor=1-Math.max(0,Math.min(1,this.options.avoidOverlap))}solve(){if(this.options.gravitationalConstant!==0&&this.physicsBody.physicsNodeIndices.length>0){let e;const r=this.body.nodes,n=this.physicsBody.physicsNodeIndices,i=n.length,s=this._formBarnesHutTree(r,n);this.barnesHutTree=s;for(let a=0;a<i;a++)e=r[n[a]],e.options.mass>0&&this._getForceContributions(s.root,e)}}_getForceContributions(e,r){this._getForceContribution(e.children.NW,r),this._getForceContribution(e.children.NE,r),this._getForceContribution(e.children.SW,r),this._getForceContribution(e.children.SE,r)}_getForceContribution(e,r){if(e.childrenCount>0){const n=e.centerOfMass.x-r.x,i=e.centerOfMass.y-r.y,s=Math.sqrt(n*n+i*i);s*e.calcSize>this.thetaInversed?this._calculateForces(s,n,i,r,e):e.childrenCount===4?this._getForceContributions(e,r):e.children.data.id!=r.id&&this._calculateForces(s,n,i,r,e)}}_calculateForces(e,r,n,i,s){e===0&&(e=.1,r=e),this.overlapAvoidanceFactor<1&&i.shape.radius&&(e=Math.max(.1+this.overlapAvoidanceFactor*i.shape.radius,e-i.shape.radius));const a=this.options.gravitationalConstant*s.mass*i.options.mass/Math.pow(e,3),o=r*a,l=n*a;this.physicsBody.forces[i.id].x+=o,this.physicsBody.forces[i.id].y+=l}_formBarnesHutTree(e,r){let n;const i=r.length;let s=e[r[0]].x,a=e[r[0]].y,o=e[r[0]].x,l=e[r[0]].y;for(let b=1;b<i;b++){const g=e[r[b]],v=g.x,w=g.y;g.options.mass>0&&(v<s&&(s=v),v>o&&(o=v),w<a&&(a=w),w>l&&(l=w))}const c=Math.abs(o-s)-Math.abs(l-a);c>0?(a-=.5*c,l+=.5*c):(s+=.5*c,o-=.5*c);const h=Math.max(1e-5,Math.abs(o-s)),f=.5*h,p=.5*(s+o),m=.5*(a+l),y={root:{centerOfMass:{x:0,y:0},mass:0,range:{minX:p-f,maxX:p+f,minY:m-f,maxY:m+f},size:h,calcSize:1/h,children:{data:null},maxWidth:0,level:0,childrenCount:4}};this._splitBranch(y.root);for(let b=0;b<i;b++)n=e[r[b]],n.options.mass>0&&this._placeInTree(y.root,n);return y}_updateBranchMass(e,r){const n=e.centerOfMass,i=e.mass+r.options.mass,s=1/i;n.x=n.x*e.mass+r.x*r.options.mass,n.x*=s,n.y=n.y*e.mass+r.y*r.options.mass,n.y*=s,e.mass=i;const a=Math.max(Math.max(r.height,r.radius),r.width);e.maxWidth=e.maxWidth<a?a:e.maxWidth}_placeInTree(e,r,n){(n!=!0||n===void 0)&&this._updateBranchMass(e,r);const i=e.children.NW.range;let s;i.maxX>r.x?i.maxY>r.y?s="NW":s="SW":i.maxY>r.y?s="NE":s="SE",this._placeInRegion(e,r,s)}_placeInRegion(e,r,n){const i=e.children[n];switch(i.childrenCount){case 0:i.children.data=r,i.childrenCount=1,this._updateBranchMass(i,r);break;case 1:i.children.data.x===r.x&&i.children.data.y===r.y?(r.x+=this._rng(),r.y+=this._rng()):(this._splitBranch(i),this._placeInTree(i,r));break;case 4:this._placeInTree(i,r);break}}_splitBranch(e){let r=null;e.childrenCount===1&&(r=e.children.data,e.mass=0,e.centerOfMass.x=0,e.centerOfMass.y=0),e.childrenCount=4,e.children.data=null,this._insertRegion(e,"NW"),this._insertRegion(e,"NE"),this._insertRegion(e,"SW"),this._insertRegion(e,"SE"),r!=null&&this._placeInTree(e,r)}_insertRegion(e,r){let n,i,s,a;const o=.5*e.size;switch(r){case"NW":n=e.range.minX,i=e.range.minX+o,s=e.range.minY,a=e.range.minY+o;break;case"NE":n=e.range.minX+o,i=e.range.maxX,s=e.range.minY,a=e.range.minY+o;break;case"SW":n=e.range.minX,i=e.range.minX+o,s=e.range.minY+o,a=e.range.maxY;break;case"SE":n=e.range.minX+o,i=e.range.maxX,s=e.range.minY+o,a=e.range.maxY;break}e.children[r]={centerOfMass:{x:0,y:0},mass:0,range:{minX:n,maxX:i,minY:s,maxY:a},size:.5*e.size,calcSize:2*e.calcSize,children:{data:null},maxWidth:0,level:e.level+1,childrenCount:0}}_debug(e,r){this.barnesHutTree!==void 0&&(e.lineWidth=1,this._drawBranch(this.barnesHutTree.root,e,r))}_drawBranch(e,r,n){n===void 0&&(n="#FF0000"),e.childrenCount===4&&(this._drawBranch(e.children.NW,r),this._drawBranch(e.children.NE,r),this._drawBranch(e.children.SE,r),this._drawBranch(e.children.SW,r)),r.strokeStyle=n,r.beginPath(),r.moveTo(e.range.minX,e.range.minY),r.lineTo(e.range.maxX,e.range.minY),r.stroke(),r.beginPath(),r.moveTo(e.range.maxX,e.range.minY),r.lineTo(e.range.maxX,e.range.maxY),r.stroke(),r.beginPath(),r.moveTo(e.range.maxX,e.range.maxY),r.lineTo(e.range.minX,e.range.maxY),r.stroke(),r.beginPath(),r.moveTo(e.range.minX,e.range.maxY),r.lineTo(e.range.minX,e.range.minY),r.stroke()}}class _be{constructor(e,r,n){this._rng=Bm("REPULSION SOLVER"),this.body=e,this.physicsBody=r,this.setOptions(n)}setOptions(e){this.options=e}solve(){let e,r,n,i,s,a,o,l;const c=this.body.nodes,d=this.physicsBody.physicsNodeIndices,h=this.physicsBody.forces,f=this.options.nodeDistance,p=-2/3/f,m=4/3;for(let y=0;y<d.length-1;y++){o=c[d[y]];for(let b=y+1;b<d.length;b++)l=c[d[b]],e=l.x-o.x,r=l.y-o.y,n=Math.sqrt(e*e+r*r),n===0&&(n=.1*this._rng(),e=n),n<2*f&&(n<.5*f?a=1:a=p*n+m,a=a/n,i=e*a,s=r*a,h[o.id].x-=i,h[o.id].y-=s,h[l.id].x+=i,h[l.id].y+=s)}}}class Sbe{constructor(e,r,n){this.body=e,this.physicsBody=r,this.setOptions(n)}setOptions(e){this.options=e,this.overlapAvoidanceFactor=Math.max(0,Math.min(1,this.options.avoidOverlap||0))}solve(){const e=this.body.nodes,r=this.physicsBody.physicsNodeIndices,n=this.physicsBody.forces,i=this.options.nodeDistance;for(let s=0;s<r.length-1;s++){const a=e[r[s]];for(let o=s+1;o<r.length;o++){const l=e[r[o]];if(a.level===l.level){const c=i+this.overlapAvoidanceFactor*((a.shape.radius||0)/2+(l.shape.radius||0)/2),d=l.x-a.x,h=l.y-a.y,f=Math.sqrt(d*d+h*h),p=.05;let m;f<c?m=-Math.pow(p*f,2)+Math.pow(p*c,2):m=0,f!==0&&(m=m/f);const y=d*m,b=h*m;n[a.id].x-=y,n[a.id].y-=b,n[l.id].x+=y,n[l.id].y+=b}}}}}class o2{constructor(e,r,n){this.body=e,this.physicsBody=r,this.setOptions(n)}setOptions(e){this.options=e}solve(){let e,r;const n=this.physicsBody.physicsEdgeIndices,i=this.body.edges;let s,a,o;for(let l=0;l<n.length;l++)r=i[n[l]],r.connected===!0&&r.toId!==r.fromId&&this.body.nodes[r.toId]!==void 0&&this.body.nodes[r.fromId]!==void 0&&(r.edgeType.via!==void 0?(e=r.options.length===void 0?this.options.springLength:r.options.length,s=r.to,a=r.edgeType.via,o=r.from,this._calculateSpringForce(s,a,.5*e),this._calculateSpringForce(a,o,.5*e)):(e=r.options.length===void 0?this.options.springLength*1.5:r.options.length,this._calculateSpringForce(r.from,r.to,e)))}_calculateSpringForce(e,r,n){const i=e.x-r.x,s=e.y-r.y,a=Math.max(Math.sqrt(i*i+s*s),.01),o=this.options.springConstant*(n-a)/a,l=i*o,c=s*o;this.physicsBody.forces[e.id]!==void 0&&(this.physicsBody.forces[e.id].x+=l,this.physicsBody.forces[e.id].y+=c),this.physicsBody.forces[r.id]!==void 0&&(this.physicsBody.forces[r.id].x-=l,this.physicsBody.forces[r.id].y-=c)}}class Ebe{constructor(e,r,n){this.body=e,this.physicsBody=r,this.setOptions(n)}setOptions(e){this.options=e}solve(){let e,r,n,i,s,a,o,l;const c=this.body.edges,d=.5,h=this.physicsBody.physicsEdgeIndices,f=this.physicsBody.physicsNodeIndices,p=this.physicsBody.forces;for(let x=0;x<f.length;x++){const _=f[x];p[_].springFx=0,p[_].springFy=0}for(let x=0;x<h.length;x++)r=c[h[x]],r.connected===!0&&(e=r.options.length===void 0?this.options.springLength:r.options.length,n=r.from.x-r.to.x,i=r.from.y-r.to.y,l=Math.sqrt(n*n+i*i),l=l===0?.01:l,o=this.options.springConstant*(e-l)/l,s=n*o,a=i*o,r.to.level!=r.from.level?(p[r.toId]!==void 0&&(p[r.toId].springFx-=s,p[r.toId].springFy-=a),p[r.fromId]!==void 0&&(p[r.fromId].springFx+=s,p[r.fromId].springFy+=a)):(p[r.toId]!==void 0&&(p[r.toId].x-=d*s,p[r.toId].y-=d*a),p[r.fromId]!==void 0&&(p[r.fromId].x+=d*s,p[r.fromId].y+=d*a)));o=1;let m,y;for(let x=0;x<f.length;x++){const _=f[x];m=Math.min(o,Math.max(-o,p[_].springFx)),y=Math.min(o,Math.max(-o,p[_].springFy)),p[_].x+=m,p[_].y+=y}let b=0,g=0;for(let x=0;x<f.length;x++){const _=f[x];b+=p[_].x,g+=p[_].y}const v=b/f.length,w=g/f.length;for(let x=0;x<f.length;x++){const _=f[x];p[_].x-=v,p[_].y-=w}}}class Ff{constructor(e,r,n){this.body=e,this.physicsBody=r,this.setOptions(n)}setOptions(e){this.options=e}solve(){let e,r,n,i;const s=this.body.nodes,a=this.physicsBody.physicsNodeIndices,o=this.physicsBody.forces;for(let l=0;l<a.length;l++){const c=a[l];i=s[c],e=-i.x,r=-i.y,n=Math.sqrt(e*e+r*r),this._calculateForces(n,e,r,o,i)}}_calculateForces(e,r,n,i,s){const a=e===0?0:this.options.centralGravity/e;i[s.id].x=r*a,i[s.id].y=n*a}}class Nbe extends RQ{constructor(e,r,n){super(e,r,n),this._rng=Bm("FORCE ATLAS 2 BASED REPULSION SOLVER")}_calculateForces(e,r,n,i,s){e===0&&(e=.1*this._rng(),r=e),this.overlapAvoidanceFactor<1&&i.shape.radius&&(e=Math.max(.1+this.overlapAvoidanceFactor*i.shape.radius,e-i.shape.radius));const a=i.edges.length+1,o=this.options.gravitationalConstant*s.mass*i.options.mass*a/Math.pow(e,2),l=r*o,c=n*o;this.physicsBody.forces[i.id].x+=l,this.physicsBody.forces[i.id].y+=c}}class jbe extends Ff{constructor(e,r,n){super(e,r,n)}_calculateForces(e,r,n,i,s){if(e>0){const a=s.edges.length+1,o=this.options.centralGravity*a*s.options.mass;i[s.id].x=r*o,i[s.id].y=n*o}}}class Cbe{constructor(e){this.body=e,this.physicsBody={physicsNodeIndices:[],physicsEdgeIndices:[],forces:{},velocities:{}},this.physicsEnabled=!0,this.simulationInterval=1e3/60,this.requiresTimeout=!0,this.previousStates={},this.referenceState={},this.freezeCache={},this.renderTimer=void 0,this.adaptiveTimestep=!1,this.adaptiveTimestepEnabled=!1,this.adaptiveCounter=0,this.adaptiveInterval=3,this.stabilized=!1,this.startedStabilization=!1,this.stabilizationIterations=0,this.ready=!1,this.options={},this.defaultOptions={enabled:!0,barnesHut:{theta:.5,gravitationalConstant:-2e3,centralGravity:.3,springLength:95,springConstant:.04,damping:.09,avoidOverlap:0},forceAtlas2Based:{theta:.5,gravitationalConstant:-50,centralGravity:.01,springConstant:.08,springLength:100,damping:.4,avoidOverlap:0},repulsion:{centralGravity:.2,springLength:200,springConstant:.05,nodeDistance:100,damping:.09,avoidOverlap:0},hierarchicalRepulsion:{centralGravity:0,springLength:100,springConstant:.01,nodeDistance:120,damping:.09},maxVelocity:50,minVelocity:.75,solver:"barnesHut",stabilization:{enabled:!0,iterations:1e3,updateInterval:50,onlyDynamicEdges:!1,fit:!0},timestep:.5,adaptiveTimestep:!0,wind:{x:0,y:0}},Vt(this.options,this.defaultOptions),this.timestep=.5,this.layoutFailed=!1,this.bindEventListeners()}bindEventListeners(){this.body.emitter.on("initPhysics",()=>{this.initPhysics()}),this.body.emitter.on("_layoutFailed",()=>{this.layoutFailed=!0}),this.body.emitter.on("resetPhysics",()=>{this.stopSimulation(),this.ready=!1}),this.body.emitter.on("disablePhysics",()=>{this.physicsEnabled=!1,this.stopSimulation()}),this.body.emitter.on("restorePhysics",()=>{this.setOptions(this.options),this.ready===!0&&this.startSimulation()}),this.body.emitter.on("startSimulation",()=>{this.ready===!0&&this.startSimulation()}),this.body.emitter.on("stopSimulation",()=>{this.stopSimulation()}),this.body.emitter.on("destroy",()=>{this.stopSimulation(!1),this.body.emitter.off()}),this.body.emitter.on("_dataChanged",()=>{this.updatePhysicsData()})}setOptions(e){if(e!==void 0)if(e===!1)this.options.enabled=!1,this.physicsEnabled=!1,this.stopSimulation();else if(e===!0)this.options.enabled=!0,this.physicsEnabled=!0,this.startSimulation();else{this.physicsEnabled=!0,kp(["stabilization"],this.options,e),Dn(this.options,e,"stabilization"),e.enabled===void 0&&(this.options.enabled=!0),this.options.enabled===!1&&(this.physicsEnabled=!1,this.stopSimulation());const r=this.options.wind;r&&((typeof r.x!="number"||Kj(r.x))&&(r.x=0),(typeof r.y!="number"||Kj(r.y))&&(r.y=0)),this.timestep=this.options.timestep}this.init()}init(){let e;this.options.solver==="forceAtlas2Based"?(e=this.options.forceAtlas2Based,this.nodesSolver=new Nbe(this.body,this.physicsBody,e),this.edgesSolver=new o2(this.body,this.physicsBody,e),this.gravitySolver=new jbe(this.body,this.physicsBody,e)):this.options.solver==="repulsion"?(e=this.options.repulsion,this.nodesSolver=new _be(this.body,this.physicsBody,e),this.edgesSolver=new o2(this.body,this.physicsBody,e),this.gravitySolver=new Ff(this.body,this.physicsBody,e)):this.options.solver==="hierarchicalRepulsion"?(e=this.options.hierarchicalRepulsion,this.nodesSolver=new Sbe(this.body,this.physicsBody,e),this.edgesSolver=new Ebe(this.body,this.physicsBody,e),this.gravitySolver=new Ff(this.body,this.physicsBody,e)):(e=this.options.barnesHut,this.nodesSolver=new RQ(this.body,this.physicsBody,e),this.edgesSolver=new o2(this.body,this.physicsBody,e),this.gravitySolver=new Ff(this.body,this.physicsBody,e)),this.modelOptions=e}initPhysics(){this.physicsEnabled===!0&&this.options.enabled===!0?this.options.stabilization.enabled===!0?this.stabilize():(this.stabilized=!1,this.ready=!0,this.body.emitter.emit("fit",{},this.layoutFailed),this.startSimulation()):(this.ready=!0,this.body.emitter.emit("fit"))}startSimulation(){if(this.physicsEnabled===!0&&this.options.enabled===!0){if(this.stabilized=!1,this.adaptiveTimestep=!1,this.body.emitter.emit("_resizeNodes"),this.viewFunction===void 0){var e;this.viewFunction=te(e=this.simulationStep).call(e,this),this.body.emitter.on("initRedraw",this.viewFunction),this.body.emitter.emit("_startRendering")}}else this.body.emitter.emit("_redraw")}stopSimulation(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.stabilized=!0,e===!0&&this._emitStabilized(),this.viewFunction!==void 0&&(this.body.emitter.off("initRedraw",this.viewFunction),this.viewFunction=void 0,e===!0&&this.body.emitter.emit("_stopRendering"))}simulationStep(){const e=Pp();this.physicsTick(),(Pp()-e<.4*this.simulationInterval||this.runDoubleSpeed===!0)&&this.stabilized===!1&&(this.physicsTick(),this.runDoubleSpeed=!0),this.stabilized===!0&&this.stopSimulation()}_emitStabilized(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.stabilizationIterations;(this.stabilizationIterations>1||this.startedStabilization===!0)&&ls(()=>{this.body.emitter.emit("stabilized",{iterations:e}),this.startedStabilization=!1,this.stabilizationIterations=0},0)}physicsStep(){this.gravitySolver.solve(),this.nodesSolver.solve(),this.edgesSolver.solve(),this.moveNodes()}adjustTimeStep(){this._evaluateStepQuality()===!0?this.timestep=1.2*this.timestep:this.timestep/1.2<this.options.timestep?this.timestep=this.options.timestep:(this.adaptiveCounter=-1,this.timestep=Math.max(this.options.timestep,this.timestep/1.2))}physicsTick(){this._startStabilizing(),this.stabilized!==!0&&(this.adaptiveTimestep===!0&&this.adaptiveTimestepEnabled===!0?(this.adaptiveCounter%this.adaptiveInterval===0?(this.timestep=2*this.timestep,this.physicsStep(),this.revert(),this.timestep=.5*this.timestep,this.physicsStep(),this.physicsStep(),this.adjustTimeStep()):this.physicsStep(),this.adaptiveCounter+=1):(this.timestep=this.options.timestep,this.physicsStep()),this.stabilized===!0&&this.revert(),this.stabilizationIterations++)}updatePhysicsData(){this.physicsBody.forces={},this.physicsBody.physicsNodeIndices=[],this.physicsBody.physicsEdgeIndices=[];const e=this.body.nodes,r=this.body.edges;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&e[n].options.physics===!0&&this.physicsBody.physicsNodeIndices.push(e[n].id);for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&r[n].options.physics===!0&&this.physicsBody.physicsEdgeIndices.push(r[n].id);for(let n=0;n<this.physicsBody.physicsNodeIndices.length;n++){const i=this.physicsBody.physicsNodeIndices[n];this.physicsBody.forces[i]={x:0,y:0},this.physicsBody.velocities[i]===void 0&&(this.physicsBody.velocities[i]={x:0,y:0})}for(const n in this.physicsBody.velocities)e[n]===void 0&&delete this.physicsBody.velocities[n]}revert(){const e=Rt(this.previousStates),r=this.body.nodes,n=this.physicsBody.velocities;this.referenceState={};for(let i=0;i<e.length;i++){const s=e[i];r[s]!==void 0?r[s].options.physics===!0&&(this.referenceState[s]={positions:{x:r[s].x,y:r[s].y}},n[s].x=this.previousStates[s].vx,n[s].y=this.previousStates[s].vy,r[s].x=this.previousStates[s].x,r[s].y=this.previousStates[s].y):delete this.previousStates[s]}}_evaluateStepQuality(){let e,r,n;const i=this.body.nodes,s=this.referenceState,a=.3;for(const o in this.referenceState)if(Object.prototype.hasOwnProperty.call(this.referenceState,o)&&i[o]!==void 0&&(e=i[o].x-s[o].positions.x,r=i[o].y-s[o].positions.y,n=Math.sqrt(Math.pow(e,2)+Math.pow(r,2)),n>a))return!1;return!0}moveNodes(){const e=this.physicsBody.physicsNodeIndices;let r=0,n=0;const i=5;for(let s=0;s<e.length;s++){const a=e[s],o=this._performStep(a);r=Math.max(r,o),n+=o}this.adaptiveTimestepEnabled=n/e.length<i,this.stabilized=r<this.options.minVelocity}calculateComponentVelocity(e,r,n){const i=this.modelOptions.damping*e,s=(r-i)/n;e+=s*this.timestep;const a=this.options.maxVelocity||1e9;return Math.abs(e)>a&&(e=e>0?a:-a),e}_performStep(e){const r=this.body.nodes[e],n=this.physicsBody.forces[e];this.options.wind&&(n.x+=this.options.wind.x,n.y+=this.options.wind.y);const i=this.physicsBody.velocities[e];return this.previousStates[e]={x:r.x,y:r.y,vx:i.x,vy:i.y},r.options.fixed.x===!1?(i.x=this.calculateComponentVelocity(i.x,n.x,r.options.mass),r.x+=i.x*this.timestep):(n.x=0,i.x=0),r.options.fixed.y===!1?(i.y=this.calculateComponentVelocity(i.y,n.y,r.options.mass),r.y+=i.y*this.timestep):(n.y=0,i.y=0),Math.sqrt(Math.pow(i.x,2)+Math.pow(i.y,2))}_freezeNodes(){const e=this.body.nodes;for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&e[r].x&&e[r].y){const n=e[r].options.fixed;this.freezeCache[r]={x:n.x,y:n.y},n.x=!0,n.y=!0}}_restoreFrozenNodes(){const e=this.body.nodes;for(const r in e)Object.prototype.hasOwnProperty.call(e,r)&&this.freezeCache[r]!==void 0&&(e[r].options.fixed.x=this.freezeCache[r].x,e[r].options.fixed.y=this.freezeCache[r].y);this.freezeCache={}}stabilize(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.options.stabilization.iterations;if(typeof e!="number"&&(e=this.options.stabilization.iterations,console.error("The stabilize method needs a numeric amount of iterations. Switching to default: ",e)),this.physicsBody.physicsNodeIndices.length===0){this.ready=!0;return}this.adaptiveTimestep=this.options.adaptiveTimestep,this.body.emitter.emit("_resizeNodes"),this.stopSimulation(),this.stabilized=!1,this.body.emitter.emit("_blockRedraw"),this.targetIterations=e,this.options.stabilization.onlyDynamicEdges===!0&&this._freezeNodes(),this.stabilizationIterations=0,ls(()=>this._stabilizationBatch(),0)}_startStabilizing(){return this.startedStabilization===!0?!1:(this.body.emitter.emit("startStabilizing"),this.startedStabilization=!0,!0)}_stabilizationBatch(){const e=()=>this.stabilized===!1&&this.stabilizationIterations<this.targetIterations,r=()=>{this.body.emitter.emit("stabilizationProgress",{iterations:this.stabilizationIterations,total:this.targetIterations})};this._startStabilizing()&&r();let n=0;for(;e()&&n<this.options.stabilization.updateInterval;)this.physicsTick(),n++;if(r(),e()){var i;ls(te(i=this._stabilizationBatch).call(i,this),0)}else this._finalizeStabilization()}_finalizeStabilization(){this.body.emitter.emit("_allowRedraw"),this.options.stabilization.fit===!0&&this.body.emitter.emit("fit"),this.options.stabilization.onlyDynamicEdges===!0&&this._restoreFrozenNodes(),this.body.emitter.emit("stabilizationIterationsDone"),this.body.emitter.emit("_requestRedraw"),this.stabilized===!0?this._emitStabilized():this.startSimulation(),this.ready=!0}_drawForces(e){for(let r=0;r<this.physicsBody.physicsNodeIndices.length;r++){const n=this.physicsBody.physicsNodeIndices[r],i=this.body.nodes[n],s=this.physicsBody.forces[n],a=20,o=.03,l=Math.sqrt(Math.pow(s.x,2)+Math.pow(s.x,2)),c=Math.min(Math.max(5,l),15),d=3*c,h=Wj((180-Math.min(1,Math.max(0,o*l))*180)/360,1,1),f={x:i.x+a*s.x,y:i.y+a*s.y};e.lineWidth=c,e.strokeStyle=h,e.beginPath(),e.moveTo(i.x,i.y),e.lineTo(f.x,f.y),e.stroke();const p=Math.atan2(s.y,s.x);e.fillStyle=h,PQ.draw(e,{type:"arrow",point:f,angle:p,length:d}),Ph(e).call(e)}}}const mr=[];for(let t=0;t<256;++t)mr.push((t+256).toString(16).slice(1));function Obe(t,e=0){return(mr[t[e+0]]+mr[t[e+1]]+mr[t[e+2]]+mr[t[e+3]]+"-"+mr[t[e+4]]+mr[t[e+5]]+"-"+mr[t[e+6]]+mr[t[e+7]]+"-"+mr[t[e+8]]+mr[t[e+9]]+"-"+mr[t[e+10]]+mr[t[e+11]]+mr[t[e+12]]+mr[t[e+13]]+mr[t[e+14]]+mr[t[e+15]]).toLowerCase()}let l2;const Tbe=new Uint8Array(16);function Pbe(){if(!l2){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");l2=crypto.getRandomValues.bind(crypto)}return l2(Tbe)}const Ibe=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto);var fU={randomUUID:Ibe};function Rbe(t,e,r){var i;t=t||{};const n=t.random??((i=t.rng)==null?void 0:i.call(t))??Pbe();if(n.length<16)throw new Error("Random bytes length must be >= 16");return n[6]=n[6]&15|64,n[8]=n[8]&63|128,Obe(n)}function ed(t,e,r){return fU.randomUUID&&!t?fU.randomUUID():Rbe(t)}class Lr{constructor(){}static getRange(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],n=1e9,i=-1e9,s=1e9,a=-1e9,o;if(r.length>0)for(let l=0;l<r.length;l++)o=e[r[l]],s>o.shape.boundingBox.left&&(s=o.shape.boundingBox.left),a<o.shape.boundingBox.right&&(a=o.shape.boundingBox.right),n>o.shape.boundingBox.top&&(n=o.shape.boundingBox.top),i<o.shape.boundingBox.bottom&&(i=o.shape.boundingBox.bottom);return s===1e9&&a===-1e9&&n===1e9&&i===-1e9&&(n=0,i=0,s=0,a=0),{minX:s,maxX:a,minY:n,maxY:i}}static getRangeCore(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],n=1e9,i=-1e9,s=1e9,a=-1e9,o;if(r.length>0)for(let l=0;l<r.length;l++)o=e[r[l]],s>o.x&&(s=o.x),a<o.x&&(a=o.x),n>o.y&&(n=o.y),i<o.y&&(i=o.y);return s===1e9&&a===-1e9&&n===1e9&&i===-1e9&&(n=0,i=0,s=0,a=0),{minX:s,maxX:a,minY:n,maxY:i}}static findCenter(e){return{x:.5*(e.maxX+e.minX),y:.5*(e.maxY+e.minY)}}static cloneOptions(e,r){const n={};return r===void 0||r==="node"?(ht(n,e.options,!0),n.x=e.x,n.y=e.y,n.amountOfConnections=e.edges.length):ht(n,e.options,!0),n}}class $be extends xt{constructor(e,r,n,i,s,a){super(e,r,n,i,s,a),this.isCluster=!0,this.containedNodes={},this.containedEdges={}}_openChildCluster(e){const r=this.body.nodes[e];if(this.containedNodes[e]===void 0)throw new Error("node with id: "+e+" not in current cluster");if(!r.isCluster)throw new Error("node with id: "+e+" is not a cluster");delete this.containedNodes[e],qe(r.edges,n=>{delete this.containedEdges[n.id]}),qe(r.containedNodes,(n,i)=>{this.containedNodes[i]=n}),r.containedNodes={},qe(r.containedEdges,(n,i)=>{this.containedEdges[i]=n}),r.containedEdges={},qe(r.edges,n=>{qe(this.edges,i=>{var s,a;const o=Ze(s=i.clusteringEdgeReplacingIds).call(s,n.id);o!==-1&&(qe(n.clusteringEdgeReplacingIds,l=>{i.clusteringEdgeReplacingIds.push(l),this.body.edges[l].edgeReplacedById=i.id}),os(a=i.clusteringEdgeReplacingIds).call(a,o,1))})}),r.edges=[]}}class kbe{constructor(e){this.body=e,this.clusteredNodes={},this.clusteredEdges={},this.options={},this.defaultOptions={},Vt(this.options,this.defaultOptions),this.body.emitter.on("_resetData",()=>{this.clusteredNodes={},this.clusteredEdges={}})}clusterByHubsize(e,r){e===void 0?e=this._getHubSize():typeof e=="object"&&(r=this._checkOptions(e),e=this._getHubSize());const n=[];for(let i=0;i<this.body.nodeIndices.length;i++){const s=this.body.nodes[this.body.nodeIndices[i]];s.edges.length>=e&&n.push(s.id)}for(let i=0;i<n.length;i++)this.clusterByConnection(n[i],r,!0);this.body.emitter.emit("_dataChanged")}cluster(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(e.joinCondition===void 0)throw new Error("Cannot call clusterByNodeData without a joinCondition function in the options.");e=this._checkOptions(e);const n={},i={};qe(this.body.nodes,(s,a)=>{s.options&&e.joinCondition(s.options)===!0&&(n[a]=s,qe(s.edges,o=>{this.clusteredEdges[o.id]===void 0&&(i[o.id]=o)}))}),this._cluster(n,i,e,r)}clusterByEdgeCount(e,r){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;r=this._checkOptions(r);const i=[],s={};let a,o,l;for(let c=0;c<this.body.nodeIndices.length;c++){const d={},h={},f=this.body.nodeIndices[c],p=this.body.nodes[f];if(s[f]===void 0){l=0,o=[];for(let m=0;m<p.edges.length;m++)a=p.edges[m],this.clusteredEdges[a.id]===void 0&&(a.toId!==a.fromId&&l++,o.push(a));if(l===e){const m=function(b){if(r.joinCondition===void 0||r.joinCondition===null)return!0;const g=Lr.cloneOptions(b);return r.joinCondition(g)};let y=!0;for(let b=0;b<o.length;b++){a=o[b];const g=this._getConnectedId(a,f);if(m(p))h[a.id]=a,d[f]=p,d[g]=this.body.nodes[g],s[f]=!0;else{y=!1;break}}if(Rt(d).length>0&&Rt(h).length>0&&y===!0){const g=function(){for(let v=0;v<i.length;++v)for(const w in d)if(i[v].nodes[w]!==void 0)return i[v]}();if(g!==void 0){for(const v in d)g.nodes[v]===void 0&&(g.nodes[v]=d[v]);for(const v in h)g.edges[v]===void 0&&(g.edges[v]=h[v])}else i.push({nodes:d,edges:h})}}}}for(let c=0;c<i.length;c++)this._cluster(i[c].nodes,i[c].edges,r,!1);n===!0&&this.body.emitter.emit("_dataChanged")}clusterOutliers(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;this.clusterByEdgeCount(1,e,r)}clusterBridges(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;this.clusterByEdgeCount(2,e,r)}clusterByConnection(e,r){var n;let i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(e===void 0)throw new Error("No nodeId supplied to clusterByConnection!");if(this.body.nodes[e]===void 0)throw new Error("The nodeId given to clusterByConnection does not exist!");const s=this.body.nodes[e];r=this._checkOptions(r,s),r.clusterNodeProperties.x===void 0&&(r.clusterNodeProperties.x=s.x),r.clusterNodeProperties.y===void 0&&(r.clusterNodeProperties.y=s.y),r.clusterNodeProperties.fixed===void 0&&(r.clusterNodeProperties.fixed={},r.clusterNodeProperties.fixed.x=s.options.fixed.x,r.clusterNodeProperties.fixed.y=s.options.fixed.y);const a={},o={},l=s.id,c=Lr.cloneOptions(s);a[l]=s;for(let h=0;h<s.edges.length;h++){const f=s.edges[h];if(this.clusteredEdges[f.id]===void 0){const p=this._getConnectedId(f,l);if(this.clusteredNodes[p]===void 0)if(p!==l)if(r.joinCondition===void 0)o[f.id]=f,a[p]=this.body.nodes[p];else{const m=Lr.cloneOptions(this.body.nodes[p]);r.joinCondition(c,m)===!0&&(o[f.id]=f,a[p]=this.body.nodes[p])}else o[f.id]=f}}const d=Su(n=Rt(a)).call(n,function(h){return a[h].id});for(const h in a){if(!Object.prototype.hasOwnProperty.call(a,h))continue;const f=a[h];for(let p=0;p<f.edges.length;p++){const m=f.edges[p];Ze(d).call(d,this._getConnectedId(m,f.id))>-1&&(o[m.id]=m)}}this._cluster(a,o,r,i)}_createClusterEdges(e,r,n,i){let s,a,o,l,c,d;const h=Rt(e),f=[];for(let y=0;y<h.length;y++){a=h[y],o=e[a];for(let b=0;b<o.edges.length;b++)s=o.edges[b],this.clusteredEdges[s.id]===void 0&&(s.toId==s.fromId?r[s.id]=s:s.toId==a?(l=n.id,c=s.fromId,d=c):(l=s.toId,c=n.id,d=l),e[d]===void 0&&f.push({edge:s,fromId:c,toId:l}))}const p=[],m=function(y){for(let b=0;b<p.length;b++){const g=p[b],v=y.fromId===g.fromId&&y.toId===g.toId,w=y.fromId===g.toId&&y.toId===g.fromId;if(v||w)return g}return null};for(let y=0;y<f.length;y++){const b=f[y],g=b.edge;let v=m(b);v===null?(v=this._createClusteredEdge(b.fromId,b.toId,g,i),p.push(v)):v.clusteringEdgeReplacingIds.push(g.id),this.body.edges[g.id].edgeReplacedById=v.id,this._backupEdgeOptions(g),g.setOptions({physics:!1})}}_checkOptions(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return e.clusterEdgeProperties===void 0&&(e.clusterEdgeProperties={}),e.clusterNodeProperties===void 0&&(e.clusterNodeProperties={}),e}_cluster(e,r,n){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0;const s=[];for(const d in e)Object.prototype.hasOwnProperty.call(e,d)&&this.clusteredNodes[d]!==void 0&&s.push(d);for(let d=0;d<s.length;++d)delete e[s[d]];if(Rt(e).length==0||Rt(e).length==1&&n.clusterNodeProperties.allowSingleNodeCluster!=!0)return;let a=ht({},n.clusterNodeProperties);if(n.processProperties!==void 0){const d=[];for(const f in e)if(Object.prototype.hasOwnProperty.call(e,f)){const p=Lr.cloneOptions(e[f]);d.push(p)}const h=[];for(const f in r)if(Object.prototype.hasOwnProperty.call(r,f)&&f.substr(0,12)!=="clusterEdge:"){const p=Lr.cloneOptions(r[f],"edge");h.push(p)}if(a=n.processProperties(a,d,h),!a)throw new Error("The processProperties function does not return properties!")}a.id===void 0&&(a.id="cluster:"+ed());const o=a.id;a.label===void 0&&(a.label="cluster");let l;a.x===void 0&&(l=this._getClusterPosition(e),a.x=l.x),a.y===void 0&&(l===void 0&&(l=this._getClusterPosition(e)),a.y=l.y),a.id=o;const c=this.body.functions.createNode(a,$be);c.containedNodes=e,c.containedEdges=r,c.clusterEdgeProperties=n.clusterEdgeProperties,this.body.nodes[a.id]=c,this._clusterEdges(e,r,a,n.clusterEdgeProperties),a.id=void 0,i===!0&&this.body.emitter.emit("_dataChanged")}_backupEdgeOptions(e){this.clusteredEdges[e.id]===void 0&&(this.clusteredEdges[e.id]={physics:e.options.physics})}_restoreEdge(e){const r=this.clusteredEdges[e.id];r!==void 0&&(e.setOptions({physics:r.physics}),delete this.clusteredEdges[e.id])}isCluster(e){return this.body.nodes[e]!==void 0?this.body.nodes[e].isCluster===!0:(console.error("Node does not exist."),!1)}_getClusterPosition(e){const r=Rt(e);let n=e[r[0]].x,i=e[r[0]].x,s=e[r[0]].y,a=e[r[0]].y,o;for(let l=1;l<r.length;l++)o=e[r[l]],n=o.x<n?o.x:n,i=o.x>i?o.x:i,s=o.y<s?o.y:s,a=o.y>a?o.y:a;return{x:.5*(n+i),y:.5*(s+a)}}openCluster(e,r){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(e===void 0)throw new Error("No clusterNodeId supplied to openCluster.");const i=this.body.nodes[e];if(i===void 0)throw new Error("The clusterNodeId supplied to openCluster does not exist.");if(i.isCluster!==!0||i.containedNodes===void 0||i.containedEdges===void 0)throw new Error("The node:"+e+" is not a valid cluster.");const s=this.findNode(e),a=Ze(s).call(s,e)-1;if(a>=0){const d=s[a];this.body.nodes[d]._openChildCluster(e),delete this.body.nodes[e],n===!0&&this.body.emitter.emit("_dataChanged");return}const o=i.containedNodes,l=i.containedEdges;if(r!==void 0&&r.releaseFunction!==void 0&&typeof r.releaseFunction=="function"){const d={},h={x:i.x,y:i.y};for(const p in o)if(Object.prototype.hasOwnProperty.call(o,p)){const m=this.body.nodes[p];d[p]={x:m.x,y:m.y}}const f=r.releaseFunction(h,d);for(const p in o)if(Object.prototype.hasOwnProperty.call(o,p)){const m=this.body.nodes[p];f[p]!==void 0&&(m.x=f[p].x===void 0?i.x:f[p].x,m.y=f[p].y===void 0?i.y:f[p].y)}}else qe(o,function(d){d.options.fixed.x===!1&&(d.x=i.x),d.options.fixed.y===!1&&(d.y=i.y)});for(const d in o)if(Object.prototype.hasOwnProperty.call(o,d)){const h=this.body.nodes[d];h.vx=i.vx,h.vy=i.vy,h.setOptions({physics:!0}),delete this.clusteredNodes[d]}const c=[];for(let d=0;d<i.edges.length;d++)c.push(i.edges[d]);for(let d=0;d<c.length;d++){const h=c[d],f=this._getConnectedId(h,e),p=this.clusteredNodes[f];for(let m=0;m<h.clusteringEdgeReplacingIds.length;m++){const y=h.clusteringEdgeReplacingIds[m],b=this.body.edges[y];if(b!==void 0)if(p!==void 0){const g=this.body.nodes[p.clusterId];g.containedEdges[b.id]=b,delete l[b.id];let v=b.fromId,w=b.toId;b.toId==f?w=p.clusterId:v=p.clusterId,this._createClusteredEdge(v,w,b,g.clusterEdgeProperties,{hidden:!1,physics:!0})}else this._restoreEdge(b)}h.remove()}for(const d in l)Object.prototype.hasOwnProperty.call(l,d)&&this._restoreEdge(l[d]);delete this.body.nodes[e],n===!0&&this.body.emitter.emit("_dataChanged")}getNodesInCluster(e){const r=[];if(this.isCluster(e)===!0){const n=this.body.nodes[e].containedNodes;for(const i in n)Object.prototype.hasOwnProperty.call(n,i)&&r.push(this.body.nodes[i].id)}return r}findNode(e){const r=[];let i=0,s;for(;this.clusteredNodes[e]!==void 0&&i<100;){if(s=this.body.nodes[e],s===void 0)return[];r.push(s.id),e=this.clusteredNodes[e].clusterId,i++}return s=this.body.nodes[e],s===void 0?[]:(r.push(s.id),vo(r).call(r),r)}updateClusteredNode(e,r){if(e===void 0)throw new Error("No clusteredNodeId supplied to updateClusteredNode.");if(r===void 0)throw new Error("No newOptions supplied to updateClusteredNode.");if(this.body.nodes[e]===void 0)throw new Error("The clusteredNodeId supplied to updateClusteredNode does not exist.");this.body.nodes[e].setOptions(r),this.body.emitter.emit("_dataChanged")}updateEdge(e,r){if(e===void 0)throw new Error("No startEdgeId supplied to updateEdge.");if(r===void 0)throw new Error("No newOptions supplied to updateEdge.");if(this.body.edges[e]===void 0)throw new Error("The startEdgeId supplied to updateEdge does not exist.");const n=this.getClusteredEdges(e);for(let i=0;i<n.length;i++)this.body.edges[n[i]].setOptions(r);this.body.emitter.emit("_dataChanged")}getClusteredEdges(e){const r=[];let i=0;for(;e!==void 0&&this.body.edges[e]!==void 0&&i<100;)r.push(this.body.edges[e].id),e=this.body.edges[e].edgeReplacedById,i++;return vo(r).call(r),r}getBaseEdge(e){return this.getBaseEdges(e)[0]}getBaseEdges(e){const r=[e],n=[],i=[],s=100;let a=0;for(;r.length>0&&a<s;){const o=r.pop();if(o===void 0)continue;const l=this.body.edges[o];if(l===void 0)continue;a++;const c=l.clusteringEdgeReplacingIds;if(c===void 0)i.push(o);else for(let d=0;d<c.length;++d){const h=c[d];Ze(r).call(r,c)!==-1||Ze(n).call(n,c)!==-1||r.push(h)}n.push(o)}return i}_getConnectedId(e,r){return e.toId!=r?e.toId:(e.fromId!=r,e.fromId)}_getHubSize(){let e=0,r=0,n=0,i=0;for(let l=0;l<this.body.nodeIndices.length;l++){const c=this.body.nodes[this.body.nodeIndices[l]];c.edges.length>i&&(i=c.edges.length),e+=c.edges.length,r+=Math.pow(c.edges.length,2),n+=1}e=e/n,r=r/n;const s=r-Math.pow(e,2),a=Math.sqrt(s);let o=Math.floor(e+2*a);return o>i&&(o=i),o}_createClusteredEdge(e,r,n,i,s){const a=Lr.cloneOptions(n,"edge");ht(a,i),a.from=e,a.to=r,a.id="clusterEdge:"+ed(),s!==void 0&&ht(a,s);const o=this.body.functions.createEdge(a);return o.clusteringEdgeReplacingIds=[n.id],o.connect(),this.body.edges[o.id]=o,o}_clusterEdges(e,r,n,i){if(r instanceof va){const s=r,a={};a[s.id]=s,r=a}if(e instanceof xt){const s=e,a={};a[s.id]=s,e=a}if(n==null)throw new Error("_clusterEdges: parameter clusterNode required");i===void 0&&(i=n.clusterEdgeProperties),this._createClusterEdges(e,r,n,i);for(const s in r)if(Object.prototype.hasOwnProperty.call(r,s)&&this.body.edges[s]!==void 0){const a=this.body.edges[s];this._backupEdgeOptions(a),a.setOptions({physics:!1})}for(const s in e)Object.prototype.hasOwnProperty.call(e,s)&&(this.clusteredNodes[s]={clusterId:n.id,node:this.body.nodes[s]},this.body.nodes[s].setOptions({physics:!1}))}_getClusterNodeForNode(e){if(e===void 0)return;const r=this.clusteredNodes[e];if(r===void 0)return;const n=r.clusterId;if(n!==void 0)return this.body.nodes[n]}_filter(e,r){const n=[];return qe(e,i=>{r(i)&&n.push(i)}),n}_updateState(){let e;const r=[],n={},i=l=>{qe(this.body.nodes,c=>{c.isCluster===!0&&l(c)})};for(e in this.clusteredNodes){if(!Object.prototype.hasOwnProperty.call(this.clusteredNodes,e))continue;this.body.nodes[e]===void 0&&r.push(e)}i(function(l){for(let c=0;c<r.length;c++)delete l.containedNodes[r[c]]});for(let l=0;l<r.length;l++)delete this.clusteredNodes[r[l]];qe(this.clusteredEdges,l=>{const c=this.body.edges[l];(c===void 0||!c.endPointsValid())&&(n[l]=l)}),i(function(l){qe(l.containedEdges,(c,d)=>{!c.endPointsValid()&&!n[d]&&(n[d]=d)})}),qe(this.body.edges,(l,c)=>{let d=!0;const h=l.clusteringEdgeReplacingIds;if(h!==void 0){let f=0;qe(h,p=>{const m=this.body.edges[p];m!==void 0&&m.endPointsValid()&&(f+=1)}),d=f>0}(!l.endPointsValid()||!d)&&(n[c]=c)}),i(l=>{qe(n,c=>{delete l.containedEdges[c],qe(l.edges,(d,h)=>{if(d.id===c){l.edges[h]=null;return}d.clusteringEdgeReplacingIds=this._filter(d.clusteringEdgeReplacingIds,function(f){return!n[f]})}),l.edges=this._filter(l.edges,function(d){return d!==null})})}),qe(n,l=>{delete this.clusteredEdges[l]}),qe(n,l=>{delete this.body.edges[l]});const s=Rt(this.body.edges);qe(s,l=>{const c=this.body.edges[l],d=this._isClusteredNode(c.fromId)||this._isClusteredNode(c.toId);if(d!==this._isClusteredEdge(c.id))if(d){const h=this._getClusterNodeForNode(c.fromId);h!==void 0&&this._clusterEdges(this.body.nodes[c.fromId],c,h);const f=this._getClusterNodeForNode(c.toId);f!==void 0&&this._clusterEdges(this.body.nodes[c.toId],c,f)}else delete this._clusterEdges[l],this._restoreEdge(c)});let a=!1,o=!0;for(;o;){const l=[];i(function(c){const d=Rt(c.containedNodes).length,h=c.options.allowSingleNodeCluster===!0;(h&&d<1||!h&&d<2)&&l.push(c.id)});for(let c=0;c<l.length;++c)this.openCluster(l[c],{},!1);o=l.length>0,a=a||o}a&&this._updateState()}_isClusteredNode(e){return this.clusteredNodes[e]!==void 0}_isClusteredEdge(e){return this.clusteredEdges[e]!==void 0}}class Dbe{constructor(e,r){this.body=e,this.canvas=r,this.redrawRequested=!1,this.requestAnimationFrameRequestId=void 0,this.renderingActive=!1,this.renderRequests=0,this.allowRedraw=!0,this.dragging=!1,this.zooming=!1,this.options={},this.defaultOptions={hideEdgesOnDrag:!1,hideEdgesOnZoom:!1,hideNodesOnDrag:!1},Vt(this.options,this.defaultOptions),this.bindEventListeners()}bindEventListeners(){var e;this.body.emitter.on("dragStart",()=>{this.dragging=!0}),this.body.emitter.on("dragEnd",()=>{this.dragging=!1}),this.body.emitter.on("zoom",()=>{this.zooming=!0,window.clearTimeout(this.zoomTimeoutId),this.zoomTimeoutId=ls(()=>{var r;this.zooming=!1,te(r=this._requestRedraw).call(r,this)()},250)}),this.body.emitter.on("_resizeNodes",()=>{this._resizeNodes()}),this.body.emitter.on("_redraw",()=>{this.renderingActive===!1&&this._redraw()}),this.body.emitter.on("_blockRedraw",()=>{this.allowRedraw=!1}),this.body.emitter.on("_allowRedraw",()=>{this.allowRedraw=!0,this.redrawRequested=!1}),this.body.emitter.on("_requestRedraw",te(e=this._requestRedraw).call(e,this)),this.body.emitter.on("_startRendering",()=>{this.renderRequests+=1,this.renderingActive=!0,this._startRendering()}),this.body.emitter.on("_stopRendering",()=>{this.renderRequests-=1,this.renderingActive=this.renderRequests>0,this.requestAnimationFrameRequestId=void 0}),this.body.emitter.on("destroy",()=>{this.renderRequests=0,this.allowRedraw=!1,this.renderingActive=!1,window.cancelAnimationFrame(this.requestAnimationFrameRequestId),this.body.emitter.off()})}setOptions(e){e!==void 0&&uc(["hideEdgesOnDrag","hideEdgesOnZoom","hideNodesOnDrag"],this.options,e)}_startRendering(){if(this.renderingActive===!0&&this.requestAnimationFrameRequestId===void 0){var e;this.requestAnimationFrameRequestId=window.requestAnimationFrame(te(e=this._renderStep).call(e,this),this.simulationInterval)}}_renderStep(){this.renderingActive===!0&&(this.requestAnimationFrameRequestId=void 0,this._startRendering(),this._redraw())}redraw(){this.body.emitter.emit("setSize"),this._redraw()}_requestRedraw(){this.redrawRequested!==!0&&this.renderingActive===!1&&this.allowRedraw===!0&&(this.redrawRequested=!0,window.requestAnimationFrame(()=>{this._redraw(!1)}))}_redraw(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;if(this.allowRedraw===!0){this.body.emitter.emit("initRedraw"),this.redrawRequested=!1;const r={drawExternalLabels:null};(this.canvas.frame.canvas.width===0||this.canvas.frame.canvas.height===0)&&this.canvas.setSize(),this.canvas.setTransform();const n=this.canvas.getContext(),i=this.canvas.frame.canvas.clientWidth,s=this.canvas.frame.canvas.clientHeight;if(n.clearRect(0,0,i,s),this.canvas.frame.clientWidth===0)return;if(n.save(),n.translate(this.body.view.translation.x,this.body.view.translation.y),n.scale(this.body.view.scale,this.body.view.scale),n.beginPath(),this.body.emitter.emit("beforeDrawing",n),n.closePath(),e===!1&&(this.dragging===!1||this.dragging===!0&&this.options.hideEdgesOnDrag===!1)&&(this.zooming===!1||this.zooming===!0&&this.options.hideEdgesOnZoom===!1)&&this._drawEdges(n),this.dragging===!1||this.dragging===!0&&this.options.hideNodesOnDrag===!1){const{drawExternalLabels:a}=this._drawNodes(n,e);r.drawExternalLabels=a}e===!1&&(this.dragging===!1||this.dragging===!0&&this.options.hideEdgesOnDrag===!1)&&(this.zooming===!1||this.zooming===!0&&this.options.hideEdgesOnZoom===!1)&&this._drawArrows(n),r.drawExternalLabels!=null&&r.drawExternalLabels(),e===!1&&this._drawSelectionBox(n),n.beginPath(),this.body.emitter.emit("afterDrawing",n),n.closePath(),n.restore(),e===!0&&n.clearRect(0,0,i,s)}}_resizeNodes(){this.canvas.setTransform();const e=this.canvas.getContext();e.save(),e.translate(this.body.view.translation.x,this.body.view.translation.y),e.scale(this.body.view.scale,this.body.view.scale);const r=this.body.nodes;let n;for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n=r[i],n.resize(e),n.updateBoundingBox(e,n.selected));e.restore()}_drawNodes(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;const n=this.body.nodes,i=this.body.nodeIndices;let s;const a=[],o=[],l=20,c=this.canvas.DOMtoCanvas({x:-l,y:-l}),d=this.canvas.DOMtoCanvas({x:this.canvas.frame.canvas.clientWidth+l,y:this.canvas.frame.canvas.clientHeight+l}),h={top:c.y,left:c.x,bottom:d.y,right:d.x},f=[];for(let b=0;b<i.length;b++)if(s=n[i[b]],s.hover)o.push(i[b]);else if(s.isSelected())a.push(i[b]);else if(r===!0){const g=s.draw(e);g.drawExternalLabel!=null&&f.push(g.drawExternalLabel)}else if(s.isBoundingBoxOverlappingWith(h)===!0){const g=s.draw(e);g.drawExternalLabel!=null&&f.push(g.drawExternalLabel)}else s.updateBoundingBox(e,s.selected);let p;const m=a.length,y=o.length;for(p=0;p<m;p++){s=n[a[p]];const b=s.draw(e);b.drawExternalLabel!=null&&f.push(b.drawExternalLabel)}for(p=0;p<y;p++){s=n[o[p]];const b=s.draw(e);b.drawExternalLabel!=null&&f.push(b.drawExternalLabel)}return{drawExternalLabels:()=>{for(const b of f)b()}}}_drawEdges(e){const r=this.body.edges,n=this.body.edgeIndices;for(let i=0;i<n.length;i++){const s=r[n[i]];s.connected===!0&&s.draw(e)}}_drawArrows(e){const r=this.body.edges,n=this.body.edgeIndices;for(let i=0;i<n.length;i++){const s=r[n[i]];s.connected===!0&&s.drawArrows(e)}}_drawSelectionBox(e){if(this.body.selectionBox.show){e.beginPath();const r=this.body.selectionBox.position.end.x-this.body.selectionBox.position.start.x,n=this.body.selectionBox.position.end.y-this.body.selectionBox.position.start.y;e.rect(this.body.selectionBox.position.start.x,this.body.selectionBox.position.start.y,r,n),e.fillStyle="rgba(151, 194, 252, 0.2)",e.fillRect(this.body.selectionBox.position.start.x,this.body.selectionBox.position.start.y,r,n),e.strokeStyle="rgba(151, 194, 252, 1)",e.stroke()}else e.closePath()}}var u2,pU;function Mbe(){if(pU)return u2;pU=1,qY();var t=nt();return u2=t.setInterval,u2}var c2,mU;function qbe(){return mU||(mU=1,c2=Mbe()),c2}var Abe=qbe(),Fbe=Oe(Abe);function qp(t,e){e.inputHandler=function(r){r.isFirst&&e(r)},t.on("hammer.input",e.inputHandler)}function $Q(t,e){return e.inputHandler=function(r){r.isFinal&&e(r)},t.on("hammer.input",e.inputHandler)}class Lbe{constructor(e){this.body=e,this.pixelRatio=1,this.cameraState={},this.initialized=!1,this.canvasViewCenter={},this._cleanupCallbacks=[],this.options={},this.defaultOptions={autoResize:!0,height:"100%",width:"100%"},Vt(this.options,this.defaultOptions),this.bindEventListeners()}bindEventListeners(){var e;this.body.emitter.once("resize",r=>{r.width!==0&&(this.body.view.translation.x=r.width*.5),r.height!==0&&(this.body.view.translation.y=r.height*.5)}),this.body.emitter.on("setSize",te(e=this.setSize).call(e,this)),this.body.emitter.on("destroy",()=>{this.hammerFrame.destroy(),this.hammer.destroy(),this._cleanUp()})}setOptions(e){if(e!==void 0&&uc(["width","height","autoResize"],this.options,e),this._cleanUp(),this.options.autoResize===!0){var r;if(window.ResizeObserver){const i=new ResizeObserver(()=>{this.setSize()===!0&&this.body.emitter.emit("_requestRedraw")}),{frame:s}=this;i.observe(s),this._cleanupCallbacks.push(()=>{i.unobserve(s)})}else{const i=Fbe(()=>{this.setSize()===!0&&this.body.emitter.emit("_requestRedraw")},1e3);this._cleanupCallbacks.push(()=>{clearInterval(i)})}const n=te(r=this._onResize).call(r,this);window.addEventListener("resize",n),this._cleanupCallbacks.push(()=>{window.removeEventListener("resize",n)})}}_cleanUp(){var e,r,n;ot(e=vo(r=os(n=this._cleanupCallbacks).call(n,0)).call(r)).call(e,i=>{try{i()}catch(s){console.error(s)}})}_onResize(){this.setSize(),this.body.emitter.emit("_redraw")}_getCameraState(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.pixelRatio;this.initialized===!0&&(this.cameraState.previousWidth=this.frame.canvas.width/e,this.cameraState.previousHeight=this.frame.canvas.height/e,this.cameraState.scale=this.body.view.scale,this.cameraState.position=this.DOMtoCanvas({x:.5*this.frame.canvas.width/e,y:.5*this.frame.canvas.height/e}))}_setCameraState(){if(this.cameraState.scale!==void 0&&this.frame.canvas.clientWidth!==0&&this.frame.canvas.clientHeight!==0&&this.pixelRatio!==0&&this.cameraState.previousWidth>0&&this.cameraState.previousHeight>0){const e=this.frame.canvas.width/this.pixelRatio/this.cameraState.previousWidth,r=this.frame.canvas.height/this.pixelRatio/this.cameraState.previousHeight;let n=this.cameraState.scale;e!=1&&r!=1?n=this.cameraState.scale*.5*(e+r):e!=1?n=this.cameraState.scale*e:r!=1&&(n=this.cameraState.scale*r),this.body.view.scale=n;const i=this.DOMtoCanvas({x:.5*this.frame.canvas.clientWidth,y:.5*this.frame.canvas.clientHeight}),s={x:i.x-this.cameraState.position.x,y:i.y-this.cameraState.position.y};this.body.view.translation.x+=s.x*this.body.view.scale,this.body.view.translation.y+=s.y*this.body.view.scale}}_prepareValue(e){if(typeof e=="number")return e+"px";if(typeof e=="string"){if(Ze(e).call(e,"%")!==-1||Ze(e).call(e,"px")!==-1)return e;if(Ze(e).call(e,"%")===-1)return e+"px"}throw new Error("Could not use the value supplied for width or height:"+e)}_create(){for(;this.body.container.hasChildNodes();)this.body.container.removeChild(this.body.container.firstChild);if(this.frame=document.createElement("div"),this.frame.className="vis-network",this.frame.style.position="relative",this.frame.style.overflow="hidden",this.frame.tabIndex=0,this.frame.canvas=document.createElement("canvas"),this.frame.canvas.style.position="relative",this.frame.appendChild(this.frame.canvas),this.frame.canvas.getContext)this._setPixelRatio(),this.setTransform();else{const e=document.createElement("DIV");e.style.color="red",e.style.fontWeight="bold",e.style.padding="10px",e.innerText="Error: your browser does not support HTML canvas",this.frame.canvas.appendChild(e)}this.body.container.appendChild(this.frame),this.body.view.scale=1,this.body.view.translation={x:.5*this.frame.canvas.clientWidth,y:.5*this.frame.canvas.clientHeight},this._bindHammer()}_bindHammer(){this.hammer!==void 0&&this.hammer.destroy(),this.drag={},this.pinch={},this.hammer=new Bl(this.frame.canvas),this.hammer.get("pinch").set({enable:!0}),this.hammer.get("pan").set({threshold:5,direction:Bl.DIRECTION_ALL}),qp(this.hammer,e=>{this.body.eventListeners.onTouch(e)}),this.hammer.on("tap",e=>{this.body.eventListeners.onTap(e)}),this.hammer.on("doubletap",e=>{this.body.eventListeners.onDoubleTap(e)}),this.hammer.on("press",e=>{this.body.eventListeners.onHold(e)}),this.hammer.on("panstart",e=>{this.body.eventListeners.onDragStart(e)}),this.hammer.on("panmove",e=>{this.body.eventListeners.onDrag(e)}),this.hammer.on("panend",e=>{this.body.eventListeners.onDragEnd(e)}),this.hammer.on("pinch",e=>{this.body.eventListeners.onPinch(e)}),this.frame.canvas.addEventListener("wheel",e=>{this.body.eventListeners.onMouseWheel(e)}),this.frame.canvas.addEventListener("mousemove",e=>{this.body.eventListeners.onMouseMove(e)}),this.frame.canvas.addEventListener("contextmenu",e=>{this.body.eventListeners.onContext(e)}),this.hammerFrame=new Bl(this.frame),$Q(this.hammerFrame,e=>{this.body.eventListeners.onRelease(e)})}setSize(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.options.width,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.options.height;e=this._prepareValue(e),r=this._prepareValue(r);let n=!1;const i=this.frame.canvas.width,s=this.frame.canvas.height,a=this.pixelRatio;if(this._setPixelRatio(),e!=this.options.width||r!=this.options.height||this.frame.style.width!=e||this.frame.style.height!=r)this._getCameraState(a),this.frame.style.width=e,this.frame.style.height=r,this.frame.canvas.style.width="100%",this.frame.canvas.style.height="100%",this.frame.canvas.width=Math.round(this.frame.canvas.clientWidth*this.pixelRatio),this.frame.canvas.height=Math.round(this.frame.canvas.clientHeight*this.pixelRatio),this.options.width=e,this.options.height=r,this.canvasViewCenter={x:.5*this.frame.clientWidth,y:.5*this.frame.clientHeight},n=!0;else{const o=Math.round(this.frame.canvas.clientWidth*this.pixelRatio),l=Math.round(this.frame.canvas.clientHeight*this.pixelRatio);(this.frame.canvas.width!==o||this.frame.canvas.height!==l)&&this._getCameraState(a),this.frame.canvas.width!==o&&(this.frame.canvas.width=o,n=!0),this.frame.canvas.height!==l&&(this.frame.canvas.height=l,n=!0)}return n===!0&&(this.body.emitter.emit("resize",{width:Math.round(this.frame.canvas.width/this.pixelRatio),height:Math.round(this.frame.canvas.height/this.pixelRatio),oldWidth:Math.round(i/this.pixelRatio),oldHeight:Math.round(s/this.pixelRatio)}),this._setCameraState()),this.initialized=!0,n}getContext(){return this.frame.canvas.getContext("2d")}_determinePixelRatio(){const e=this.getContext();if(e===void 0)throw new Error("Could not get canvax context");let r=1;typeof window<"u"&&(r=window.devicePixelRatio||1);const n=e.webkitBackingStorePixelRatio||e.mozBackingStorePixelRatio||e.msBackingStorePixelRatio||e.oBackingStorePixelRatio||e.backingStorePixelRatio||1;return r/n}_setPixelRatio(){this.pixelRatio=this._determinePixelRatio()}setTransform(){const e=this.getContext();if(e===void 0)throw new Error("Could not get canvax context");e.setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0)}_XconvertDOMtoCanvas(e){return(e-this.body.view.translation.x)/this.body.view.scale}_XconvertCanvasToDOM(e){return e*this.body.view.scale+this.body.view.translation.x}_YconvertDOMtoCanvas(e){return(e-this.body.view.translation.y)/this.body.view.scale}_YconvertCanvasToDOM(e){return e*this.body.view.scale+this.body.view.translation.y}canvasToDOM(e){return{x:this._XconvertCanvasToDOM(e.x),y:this._YconvertCanvasToDOM(e.y)}}DOMtoCanvas(e){return{x:this._XconvertDOMtoCanvas(e.x),y:this._YconvertDOMtoCanvas(e.y)}}}function Bbe(t,e){const r=Vt({nodes:e,minZoomLevel:Number.MIN_VALUE,maxZoomLevel:1},t??{});if(!Dt(r.nodes))throw new TypeError("Nodes has to be an array of ids.");if(r.nodes.length===0&&(r.nodes=e),!(typeof r.minZoomLevel=="number"&&r.minZoomLevel>0))throw new TypeError("Min zoom level has to be a number higher than zero.");if(!(typeof r.maxZoomLevel=="number"&&r.minZoomLevel<=r.maxZoomLevel))throw new TypeError("Max zoom level has to be a number higher than min zoom level.");return r}class zbe{constructor(e,r){var n,i;this.body=e,this.canvas=r,this.animationSpeed=1/this.renderRefreshRate,this.animationEasingFunction="easeInOutQuint",this.easingTime=0,this.sourceScale=0,this.targetScale=0,this.sourceTranslation=0,this.targetTranslation=0,this.lockedOnNodeId=void 0,this.lockedOnNodeOffset=void 0,this.touchTime=0,this.viewFunction=void 0,this.body.emitter.on("fit",te(n=this.fit).call(n,this)),this.body.emitter.on("animationFinished",()=>{this.body.emitter.emit("_stopRendering")}),this.body.emitter.on("unlockNode",te(i=this.releaseNode).call(i,this))}setOptions(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.options=e}fit(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;e=Bbe(e,this.body.nodeIndices);const n=this.canvas.frame.canvas.clientWidth,i=this.canvas.frame.canvas.clientHeight;let s,a;if(n===0||i===0)a=1,s=Lr.getRange(this.body.nodes,e.nodes);else if(r===!0){let c=0;for(const f in this.body.nodes)Object.prototype.hasOwnProperty.call(this.body.nodes,f)&&this.body.nodes[f].predefinedPosition===!0&&(c+=1);if(c>.5*this.body.nodeIndices.length){this.fit(e,!1);return}s=Lr.getRange(this.body.nodes,e.nodes),a=12.662/(this.body.nodeIndices.length+7.4147)+.0964822;const h=Math.min(n/600,i/600);a*=h}else{this.body.emitter.emit("_resizeNodes"),s=Lr.getRange(this.body.nodes,e.nodes);const c=Math.abs(s.maxX-s.minX)*1.1,d=Math.abs(s.maxY-s.minY)*1.1,h=n/c,f=i/d;a=h<=f?h:f}a>e.maxZoomLevel?a=e.maxZoomLevel:a<e.minZoomLevel&&(a=e.minZoomLevel);const l={position:Lr.findCenter(s),scale:a,animation:e.animation};this.moveTo(l)}focus(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(this.body.nodes[e]!==void 0){const n={x:this.body.nodes[e].x,y:this.body.nodes[e].y};r.position=n,r.lockedOnNode=e,this.moveTo(r)}else console.error("Node: "+e+" cannot be found.")}moveTo(e){if(e===void 0){e={};return}if(e.offset!=null){if(e.offset.x!=null){if(e.offset.x=+e.offset.x,!Za(e.offset.x))throw new TypeError('The option "offset.x" has to be a finite number.')}else e.offset.x=0;if(e.offset.y!=null){if(e.offset.y=+e.offset.y,!Za(e.offset.y))throw new TypeError('The option "offset.y" has to be a finite number.')}else e.offset.x=0}else e.offset={x:0,y:0};if(e.position!=null){if(e.position.x!=null){if(e.position.x=+e.position.x,!Za(e.position.x))throw new TypeError('The option "position.x" has to be a finite number.')}else e.position.x=0;if(e.position.y!=null){if(e.position.y=+e.position.y,!Za(e.position.y))throw new TypeError('The option "position.y" has to be a finite number.')}else e.position.x=0}else e.position=this.getViewPosition();if(e.scale!=null){if(e.scale=+e.scale,!(e.scale>0))throw new TypeError('The option "scale" has to be a number greater than zero.')}else e.scale=this.body.view.scale;e.animation===void 0&&(e.animation={duration:0}),e.animation===!1&&(e.animation={duration:0}),e.animation===!0&&(e.animation={}),e.animation.duration===void 0&&(e.animation.duration=1e3),e.animation.easingFunction===void 0&&(e.animation.easingFunction="easeInOutQuad"),this.animateView(e)}animateView(e){if(e===void 0)return;this.animationEasingFunction=e.animation.easingFunction,this.releaseNode(),e.locked===!0&&(this.lockedOnNodeId=e.lockedOnNode,this.lockedOnNodeOffset=e.offset),this.easingTime!=0&&this._transitionRedraw(!0),this.sourceScale=this.body.view.scale,this.sourceTranslation=this.body.view.translation,this.targetScale=e.scale,this.body.view.scale=this.targetScale;const r=this.canvas.DOMtoCanvas({x:.5*this.canvas.frame.canvas.clientWidth,y:.5*this.canvas.frame.canvas.clientHeight}),n={x:r.x-e.position.x,y:r.y-e.position.y};if(this.targetTranslation={x:this.sourceTranslation.x+n.x*this.targetScale+e.offset.x,y:this.sourceTranslation.y+n.y*this.targetScale+e.offset.y},e.animation.duration===0)if(this.lockedOnNodeId!=null){var i;this.viewFunction=te(i=this._lockedRedraw).call(i,this),this.body.emitter.on("initRedraw",this.viewFunction)}else this.body.view.scale=this.targetScale,this.body.view.translation=this.targetTranslation,this.body.emitter.emit("_requestRedraw");else{var s;this.animationSpeed=1/(60*e.animation.duration*.001)||1/60,this.animationEasingFunction=e.animation.easingFunction,this.viewFunction=te(s=this._transitionRedraw).call(s,this),this.body.emitter.on("initRedraw",this.viewFunction),this.body.emitter.emit("_startRendering")}}_lockedRedraw(){const e={x:this.body.nodes[this.lockedOnNodeId].x,y:this.body.nodes[this.lockedOnNodeId].y},r=this.canvas.DOMtoCanvas({x:.5*this.canvas.frame.canvas.clientWidth,y:.5*this.canvas.frame.canvas.clientHeight}),n={x:r.x-e.x,y:r.y-e.y},i=this.body.view.translation,s={x:i.x+n.x*this.body.view.scale+this.lockedOnNodeOffset.x,y:i.y+n.y*this.body.view.scale+this.lockedOnNodeOffset.y};this.body.view.translation=s}releaseNode(){this.lockedOnNodeId!==void 0&&this.viewFunction!==void 0&&(this.body.emitter.off("initRedraw",this.viewFunction),this.lockedOnNodeId=void 0,this.lockedOnNodeOffset=void 0)}_transitionRedraw(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;this.easingTime+=this.animationSpeed,this.easingTime=e===!0?1:this.easingTime;const r=Qve[this.animationEasingFunction](this.easingTime);if(this.body.view.scale=this.sourceScale+(this.targetScale-this.sourceScale)*r,this.body.view.translation={x:this.sourceTranslation.x+(this.targetTranslation.x-this.sourceTranslation.x)*r,y:this.sourceTranslation.y+(this.targetTranslation.y-this.sourceTranslation.y)*r},this.easingTime>=1){if(this.body.emitter.off("initRedraw",this.viewFunction),this.easingTime=0,this.lockedOnNodeId!=null){var n;this.viewFunction=te(n=this._lockedRedraw).call(n,this),this.body.emitter.on("initRedraw",this.viewFunction)}this.body.emitter.emit("animationFinished")}}getScale(){return this.body.view.scale}getViewPosition(){return this.canvas.DOMtoCanvas({x:.5*this.canvas.frame.canvas.clientWidth,y:.5*this.canvas.frame.canvas.clientHeight})}}function vU(t){var e=t&&t.preventDefault||!1,r=t&&t.container||window,n={},i={keydown:{},keyup:{}},s={},a;for(a=97;a<=122;a++)s[String.fromCharCode(a)]={code:65+(a-97),shift:!1};for(a=65;a<=90;a++)s[String.fromCharCode(a)]={code:a,shift:!0};for(a=0;a<=9;a++)s[""+a]={code:48+a,shift:!1};for(a=1;a<=12;a++)s["F"+a]={code:111+a,shift:!1};for(a=0;a<=9;a++)s["num"+a]={code:96+a,shift:!1};s["num*"]={code:106,shift:!1},s["num+"]={code:107,shift:!1},s["num-"]={code:109,shift:!1},s["num/"]={code:111,shift:!1},s["num."]={code:110,shift:!1},s.left={code:37,shift:!1},s.up={code:38,shift:!1},s.right={code:39,shift:!1},s.down={code:40,shift:!1},s.space={code:32,shift:!1},s.enter={code:13,shift:!1},s.shift={code:16,shift:void 0},s.esc={code:27,shift:!1},s.backspace={code:8,shift:!1},s.tab={code:9,shift:!1},s.ctrl={code:17,shift:!1},s.alt={code:18,shift:!1},s.delete={code:46,shift:!1},s.pageup={code:33,shift:!1},s.pagedown={code:34,shift:!1},s["="]={code:187,shift:!1},s["-"]={code:189,shift:!1},s["]"]={code:221,shift:!1},s["["]={code:219,shift:!1};var o=function(d){c(d,"keydown")},l=function(d){c(d,"keyup")},c=function(d,h){if(i[h][d.keyCode]!==void 0){for(var f=i[h][d.keyCode],p=0;p<f.length;p++)(f[p].shift===void 0||f[p].shift==!0&&d.shiftKey==!0||f[p].shift==!1&&d.shiftKey==!1)&&f[p].fn(d);e==!0&&d.preventDefault()}};return n.bind=function(d,h,f){if(f===void 0&&(f="keydown"),s[d]===void 0)throw new Error("unsupported key: "+d);i[f][s[d].code]===void 0&&(i[f][s[d].code]=[]),i[f][s[d].code].push({fn:h,shift:s[d].shift})},n.bindAll=function(d,h){h===void 0&&(h="keydown");for(var f in s)s.hasOwnProperty(f)&&n.bind(f,d,h)},n.getKey=function(d){for(var h in s)if(s.hasOwnProperty(h)){if(d.shiftKey==!0&&s[h].shift==!0&&d.keyCode==s[h].code)return h;if(d.shiftKey==!1&&s[h].shift==!1&&d.keyCode==s[h].code)return h;if(d.keyCode==s[h].code&&h=="shift")return h}return"unknown key, currently not supported"},n.unbind=function(d,h,f){if(f===void 0&&(f="keydown"),s[d]===void 0)throw new Error("unsupported key: "+d);if(h!==void 0){var p=[],m=i[f][s[d].code];if(m!==void 0)for(var y=0;y<m.length;y++)m[y].fn==h&&m[y].shift==s[d].shift||p.push(i[f][s[d].code][y]);i[f][s[d].code]=p}else i[f][s[d].code]=[]},n.reset=function(){i={keydown:{},keyup:{}}},n.destroy=function(){i={keydown:{},keyup:{}},r.removeEventListener("keydown",o,!0),r.removeEventListener("keyup",l,!0)},r.addEventListener("keydown",o,!0),r.addEventListener("keyup",l,!0),n}class Ube{constructor(e,r){this.body=e,this.canvas=r,this.iconsCreated=!1,this.navigationHammers=[],this.boundFunctions={},this.touchTime=0,this.activated=!1,this.body.emitter.on("activate",()=>{this.activated=!0,this.configureKeyboardBindings()}),this.body.emitter.on("deactivate",()=>{this.activated=!1,this.configureKeyboardBindings()}),this.body.emitter.on("destroy",()=>{this.keycharm!==void 0&&this.keycharm.destroy()}),this.options={}}setOptions(e){e!==void 0&&(this.options=e,this.create())}create(){this.options.navigationButtons===!0?this.iconsCreated===!1&&this.loadNavigationElements():this.iconsCreated===!0&&this.cleanNavigation(),this.configureKeyboardBindings()}cleanNavigation(){if(this.navigationHammers.length!=0){for(let e=0;e<this.navigationHammers.length;e++)this.navigationHammers[e].destroy();this.navigationHammers=[]}this.navigationDOM&&this.navigationDOM.wrapper&&this.navigationDOM.wrapper.parentNode&&this.navigationDOM.wrapper.parentNode.removeChild(this.navigationDOM.wrapper),this.iconsCreated=!1}loadNavigationElements(){this.cleanNavigation(),this.navigationDOM={};const e=["up","down","left","right","zoomIn","zoomOut","zoomExtends"],r=["_moveUp","_moveDown","_moveLeft","_moveRight","_zoomIn","_zoomOut","_fit"];this.navigationDOM.wrapper=document.createElement("div"),this.navigationDOM.wrapper.className="vis-navigation",this.canvas.frame.appendChild(this.navigationDOM.wrapper);for(let a=0;a<e.length;a++){this.navigationDOM[e[a]]=document.createElement("div"),this.navigationDOM[e[a]].className="vis-button vis-"+e[a],this.navigationDOM.wrapper.appendChild(this.navigationDOM[e[a]]);const o=new Bl(this.navigationDOM[e[a]]);if(r[a]==="_fit"){var n;qp(o,te(n=this._fit).call(n,this))}else{var i;qp(o,te(i=this.bindToRedraw).call(i,this,r[a]))}this.navigationHammers.push(o)}const s=new Bl(this.canvas.frame);$Q(s,()=>{this._stopMovement()}),this.navigationHammers.push(s),this.iconsCreated=!0}bindToRedraw(e){if(this.boundFunctions[e]===void 0){var r;this.boundFunctions[e]=te(r=this[e]).call(r,this),this.body.emitter.on("initRedraw",this.boundFunctions[e]),this.body.emitter.emit("_startRendering")}}unbindFromRedraw(e){this.boundFunctions[e]!==void 0&&(this.body.emitter.off("initRedraw",this.boundFunctions[e]),this.body.emitter.emit("_stopRendering"),delete this.boundFunctions[e])}_fit(){new Date().valueOf()-this.touchTime>700&&(this.body.emitter.emit("fit",{duration:700}),this.touchTime=new Date().valueOf())}_stopMovement(){for(const e in this.boundFunctions)Object.prototype.hasOwnProperty.call(this.boundFunctions,e)&&(this.body.emitter.off("initRedraw",this.boundFunctions[e]),this.body.emitter.emit("_stopRendering"));this.boundFunctions={}}_moveUp(){this.body.view.translation.y+=this.options.keyboard.speed.y}_moveDown(){this.body.view.translation.y-=this.options.keyboard.speed.y}_moveLeft(){this.body.view.translation.x+=this.options.keyboard.speed.x}_moveRight(){this.body.view.translation.x-=this.options.keyboard.speed.x}_zoomIn(){const e=this.body.view.scale,r=this.body.view.scale*(1+this.options.keyboard.speed.zoom),n=this.body.view.translation,i=r/e,s=(1-i)*this.canvas.canvasViewCenter.x+n.x*i,a=(1-i)*this.canvas.canvasViewCenter.y+n.y*i;this.body.view.scale=r,this.body.view.translation={x:s,y:a},this.body.emitter.emit("zoom",{direction:"+",scale:this.body.view.scale,pointer:null})}_zoomOut(){const e=this.body.view.scale,r=this.body.view.scale/(1+this.options.keyboard.speed.zoom),n=this.body.view.translation,i=r/e,s=(1-i)*this.canvas.canvasViewCenter.x+n.x*i,a=(1-i)*this.canvas.canvasViewCenter.y+n.y*i;this.body.view.scale=r,this.body.view.translation={x:s,y:a},this.body.emitter.emit("zoom",{direction:"-",scale:this.body.view.scale,pointer:null})}configureKeyboardBindings(){if(this.keycharm!==void 0&&this.keycharm.destroy(),this.options.keyboard.enabled===!0&&(this.options.keyboard.bindToWindow===!0?this.keycharm=vU({container:window,preventDefault:!0}):this.keycharm=vU({container:this.canvas.frame,preventDefault:!0}),this.keycharm.reset(),this.activated===!0)){var e,r,n,i,s,a,o,l,c,d,h,f,p,m,y,b,g,v,w,x,_,E,N,S;te(e=this.keycharm).call(e,"up",()=>{this.bindToRedraw("_moveUp")},"keydown"),te(r=this.keycharm).call(r,"down",()=>{this.bindToRedraw("_moveDown")},"keydown"),te(n=this.keycharm).call(n,"left",()=>{this.bindToRedraw("_moveLeft")},"keydown"),te(i=this.keycharm).call(i,"right",()=>{this.bindToRedraw("_moveRight")},"keydown"),te(s=this.keycharm).call(s,"=",()=>{this.bindToRedraw("_zoomIn")},"keydown"),te(a=this.keycharm).call(a,"num+",()=>{this.bindToRedraw("_zoomIn")},"keydown"),te(o=this.keycharm).call(o,"num-",()=>{this.bindToRedraw("_zoomOut")},"keydown"),te(l=this.keycharm).call(l,"-",()=>{this.bindToRedraw("_zoomOut")},"keydown"),te(c=this.keycharm).call(c,"[",()=>{this.bindToRedraw("_zoomOut")},"keydown"),te(d=this.keycharm).call(d,"]",()=>{this.bindToRedraw("_zoomIn")},"keydown"),te(h=this.keycharm).call(h,"pageup",()=>{this.bindToRedraw("_zoomIn")},"keydown"),te(f=this.keycharm).call(f,"pagedown",()=>{this.bindToRedraw("_zoomOut")},"keydown"),te(p=this.keycharm).call(p,"up",()=>{this.unbindFromRedraw("_moveUp")},"keyup"),te(m=this.keycharm).call(m,"down",()=>{this.unbindFromRedraw("_moveDown")},"keyup"),te(y=this.keycharm).call(y,"left",()=>{this.unbindFromRedraw("_moveLeft")},"keyup"),te(b=this.keycharm).call(b,"right",()=>{this.unbindFromRedraw("_moveRight")},"keyup"),te(g=this.keycharm).call(g,"=",()=>{this.unbindFromRedraw("_zoomIn")},"keyup"),te(v=this.keycharm).call(v,"num+",()=>{this.unbindFromRedraw("_zoomIn")},"keyup"),te(w=this.keycharm).call(w,"num-",()=>{this.unbindFromRedraw("_zoomOut")},"keyup"),te(x=this.keycharm).call(x,"-",()=>{this.unbindFromRedraw("_zoomOut")},"keyup"),te(_=this.keycharm).call(_,"[",()=>{this.unbindFromRedraw("_zoomOut")},"keyup"),te(E=this.keycharm).call(E,"]",()=>{this.unbindFromRedraw("_zoomIn")},"keyup"),te(N=this.keycharm).call(N,"pageup",()=>{this.unbindFromRedraw("_zoomIn")},"keyup"),te(S=this.keycharm).call(S,"pagedown",()=>{this.unbindFromRedraw("_zoomOut")},"keyup")}}}class Wbe{constructor(e,r,n){var i,s,a,o,l,c,d,h,f,p,m,y,b;this.body=e,this.canvas=r,this.selectionHandler=n,this.navigationHandler=new Ube(e,r),this.body.eventListeners.onTap=te(i=this.onTap).call(i,this),this.body.eventListeners.onTouch=te(s=this.onTouch).call(s,this),this.body.eventListeners.onDoubleTap=te(a=this.onDoubleTap).call(a,this),this.body.eventListeners.onHold=te(o=this.onHold).call(o,this),this.body.eventListeners.onDragStart=te(l=this.onDragStart).call(l,this),this.body.eventListeners.onDrag=te(c=this.onDrag).call(c,this),this.body.eventListeners.onDragEnd=te(d=this.onDragEnd).call(d,this),this.body.eventListeners.onMouseWheel=te(h=this.onMouseWheel).call(h,this),this.body.eventListeners.onPinch=te(f=this.onPinch).call(f,this),this.body.eventListeners.onMouseMove=te(p=this.onMouseMove).call(p,this),this.body.eventListeners.onRelease=te(m=this.onRelease).call(m,this),this.body.eventListeners.onContext=te(y=this.onContext).call(y,this),this.touchTime=0,this.drag={},this.pinch={},this.popup=void 0,this.popupObj=void 0,this.popupTimer=void 0,this.body.functions.getPointer=te(b=this.getPointer).call(b,this),this.options={},this.defaultOptions={dragNodes:!0,dragView:!0,hover:!1,keyboard:{enabled:!1,speed:{x:10,y:10,zoom:.02},bindToWindow:!0,autoFocus:!0},navigationButtons:!1,tooltipDelay:300,zoomView:!0,zoomSpeed:1},Vt(this.options,this.defaultOptions),this.bindEventListeners()}bindEventListeners(){this.body.emitter.on("destroy",()=>{clearTimeout(this.popupTimer),delete this.body.functions.getPointer})}setOptions(e){e!==void 0&&(kp(["hideEdgesOnDrag","hideEdgesOnZoom","hideNodesOnDrag","keyboard","multiselect","selectable","selectConnectedEdges"],this.options,e),Dn(this.options,e,"keyboard"),e.tooltip&&(Vt(this.options.tooltip,e.tooltip),e.tooltip.color&&(this.options.tooltip.color=Uj(e.tooltip.color)))),this.navigationHandler.setOptions(this.options)}getPointer(e){return{x:e.x-Vve(this.canvas.frame.canvas),y:e.y-Kve(this.canvas.frame.canvas)}}onTouch(e){new Date().valueOf()-this.touchTime>50&&(this.drag.pointer=this.getPointer(e.center),this.drag.pinched=!1,this.pinch.scale=this.body.view.scale,this.touchTime=new Date().valueOf())}onTap(e){const r=this.getPointer(e.center),n=this.selectionHandler.options.multiselect&&(e.changedPointers[0].ctrlKey||e.changedPointers[0].metaKey);this.checkSelectionChanges(r,n),this.selectionHandler.commitAndEmit(r,e),this.selectionHandler.generateClickEvent("click",e,r)}onDoubleTap(e){const r=this.getPointer(e.center);this.selectionHandler.generateClickEvent("doubleClick",e,r)}onHold(e){const r=this.getPointer(e.center),n=this.selectionHandler.options.multiselect;this.checkSelectionChanges(r,n),this.selectionHandler.commitAndEmit(r,e),this.selectionHandler.generateClickEvent("click",e,r),this.selectionHandler.generateClickEvent("hold",e,r)}onRelease(e){if(new Date().valueOf()-this.touchTime>10){const r=this.getPointer(e.center);this.selectionHandler.generateClickEvent("release",e,r),this.touchTime=new Date().valueOf()}}onContext(e){const r=this.getPointer({x:e.clientX,y:e.clientY});this.selectionHandler.generateClickEvent("oncontext",e,r)}checkSelectionChanges(e){(arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1)===!0?this.selectionHandler.selectAdditionalOnPoint(e):this.selectionHandler.selectOnPoint(e)}_determineDifference(e,r){const n=function(i,s){const a=[];for(let o=0;o<i.length;o++){const l=i[o];Ze(s).call(s,l)===-1&&a.push(l)}return a};return{nodes:n(e.nodes,r.nodes),edges:n(e.edges,r.edges)}}onDragStart(e){if(this.drag.dragging)return;this.drag.pointer===void 0&&this.onTouch(e);const r=this.selectionHandler.getNodeAt(this.drag.pointer);if(this.drag.dragging=!0,this.drag.selection=[],this.drag.translation=Vt({},this.body.view.translation),this.drag.nodeId=void 0,e.srcEvent.shiftKey){this.body.selectionBox.show=!0;const n=this.getPointer(e.center);this.body.selectionBox.position.start={x:this.canvas._XconvertDOMtoCanvas(n.x),y:this.canvas._YconvertDOMtoCanvas(n.y)},this.body.selectionBox.position.end={x:this.canvas._XconvertDOMtoCanvas(n.x),y:this.canvas._YconvertDOMtoCanvas(n.y)}}else if(r!==void 0&&this.options.dragNodes===!0){this.drag.nodeId=r.id,r.isSelected()===!1&&this.selectionHandler.setSelection({nodes:[r.id]}),this.selectionHandler.generateClickEvent("dragStart",e,this.drag.pointer);for(const n of this.selectionHandler.getSelectedNodes()){const i={id:n.id,node:n,x:n.x,y:n.y,xFixed:n.options.fixed.x,yFixed:n.options.fixed.y};n.options.fixed.x=!0,n.options.fixed.y=!0,this.drag.selection.push(i)}}else this.selectionHandler.generateClickEvent("dragStart",e,this.drag.pointer,void 0,!0)}onDrag(e){if(this.drag.pinched===!0)return;this.body.emitter.emit("unlockNode");const r=this.getPointer(e.center),n=this.drag.selection;if(n&&n.length&&this.options.dragNodes===!0){this.selectionHandler.generateClickEvent("dragging",e,r);const i=r.x-this.drag.pointer.x,s=r.y-this.drag.pointer.y;ot(n).call(n,a=>{const o=a.node;a.xFixed===!1&&(o.x=this.canvas._XconvertDOMtoCanvas(this.canvas._XconvertCanvasToDOM(a.x)+i)),a.yFixed===!1&&(o.y=this.canvas._YconvertDOMtoCanvas(this.canvas._YconvertCanvasToDOM(a.y)+s))}),this.body.emitter.emit("startSimulation")}else{if(e.srcEvent.shiftKey){if(this.selectionHandler.generateClickEvent("dragging",e,r,void 0,!0),this.drag.pointer===void 0){this.onDragStart(e);return}this.body.selectionBox.position.end={x:this.canvas._XconvertDOMtoCanvas(r.x),y:this.canvas._YconvertDOMtoCanvas(r.y)},this.body.emitter.emit("_requestRedraw")}if(this.options.dragView===!0&&!e.srcEvent.shiftKey){if(this.selectionHandler.generateClickEvent("dragging",e,r,void 0,!0),this.drag.pointer===void 0){this.onDragStart(e);return}const i=r.x-this.drag.pointer.x,s=r.y-this.drag.pointer.y;this.body.view.translation={x:this.drag.translation.x+i,y:this.drag.translation.y+s},this.body.emitter.emit("_requestRedraw")}}}onDragEnd(e){if(this.drag.dragging=!1,this.body.selectionBox.show){var r;this.body.selectionBox.show=!1;const n=this.body.selectionBox.position,i={minX:Math.min(n.start.x,n.end.x),minY:Math.min(n.start.y,n.end.y),maxX:Math.max(n.start.x,n.end.x),maxY:Math.max(n.start.y,n.end.y)},s=rn(r=this.body.nodeIndices).call(r,o=>{const l=this.body.nodes[o];return l.x>=i.minX&&l.x<=i.maxX&&l.y>=i.minY&&l.y<=i.maxY});ot(s).call(s,o=>this.selectionHandler.selectObject(this.body.nodes[o]));const a=this.getPointer(e.center);this.selectionHandler.commitAndEmit(a,e),this.selectionHandler.generateClickEvent("dragEnd",e,this.getPointer(e.center),void 0,!0),this.body.emitter.emit("_requestRedraw")}else{const n=this.drag.selection;n&&n.length?(ot(n).call(n,function(i){i.node.options.fixed.x=i.xFixed,i.node.options.fixed.y=i.yFixed}),this.selectionHandler.generateClickEvent("dragEnd",e,this.getPointer(e.center)),this.body.emitter.emit("startSimulation")):(this.selectionHandler.generateClickEvent("dragEnd",e,this.getPointer(e.center),void 0,!0),this.body.emitter.emit("_requestRedraw"))}}onPinch(e){const r=this.getPointer(e.center);this.drag.pinched=!0,this.pinch.scale===void 0&&(this.pinch.scale=1);const n=this.pinch.scale*e.scale;this.zoom(n,r)}zoom(e,r){if(this.options.zoomView===!0){const n=this.body.view.scale;e<1e-5&&(e=1e-5),e>10&&(e=10);let i;this.drag!==void 0&&this.drag.dragging===!0&&(i=this.canvas.DOMtoCanvas(this.drag.pointer));const s=this.body.view.translation,a=e/n,o=(1-a)*r.x+s.x*a,l=(1-a)*r.y+s.y*a;if(this.body.view.scale=e,this.body.view.translation={x:o,y:l},i!=null){const c=this.canvas.canvasToDOM(i);this.drag.pointer.x=c.x,this.drag.pointer.y=c.y}this.body.emitter.emit("_requestRedraw"),n<e?this.body.emitter.emit("zoom",{direction:"+",scale:this.body.view.scale,pointer:r}):this.body.emitter.emit("zoom",{direction:"-",scale:this.body.view.scale,pointer:r})}}onMouseWheel(e){if(this.options.zoomView===!0){if(e.deltaY!==0){let r=this.body.view.scale;r*=1+(e.deltaY<0?1:-1)*(this.options.zoomSpeed*.1);const n=this.getPointer({x:e.clientX,y:e.clientY});this.zoom(r,n)}e.preventDefault()}}onMouseMove(e){const r=this.getPointer({x:e.clientX,y:e.clientY});let n=!1;this.popup!==void 0&&(this.popup.hidden===!1&&this._checkHidePopup(r),this.popup.hidden===!1&&(n=!0,this.popup.setPosition(r.x+3,r.y-5),this.popup.show())),this.options.keyboard.autoFocus&&this.options.keyboard.bindToWindow===!1&&this.options.keyboard.enabled===!0&&this.canvas.frame.focus(),n===!1&&(this.popupTimer!==void 0&&(clearInterval(this.popupTimer),this.popupTimer=void 0),this.drag.dragging||(this.popupTimer=ls(()=>this._checkShowPopup(r),this.options.tooltipDelay))),this.options.hover===!0&&this.selectionHandler.hoverObject(e,r)}_checkShowPopup(e){const r=this.canvas._XconvertDOMtoCanvas(e.x),n=this.canvas._YconvertDOMtoCanvas(e.y),i={left:r,top:n,right:r,bottom:n},s=this.popupObj===void 0?void 0:this.popupObj.id;let a=!1,o="node";if(this.popupObj===void 0){const l=this.body.nodeIndices,c=this.body.nodes;let d;const h=[];for(let f=0;f<l.length;f++)d=c[l[f]],d.isOverlappingWith(i)===!0&&(a=!0,d.getTitle()!==void 0&&h.push(l[f]));h.length>0&&(this.popupObj=c[h[h.length-1]],a=!0)}if(this.popupObj===void 0&&a===!1){const l=this.body.edgeIndices,c=this.body.edges;let d;const h=[];for(let f=0;f<l.length;f++)d=c[l[f]],d.isOverlappingWith(i)===!0&&d.connected===!0&&d.getTitle()!==void 0&&h.push(l[f]);h.length>0&&(this.popupObj=c[h[h.length-1]],o="edge")}this.popupObj!==void 0?this.popupObj.id!==s&&(this.popup===void 0&&(this.popup=new ige(this.canvas.frame)),this.popup.popupTargetType=o,this.popup.popupTargetId=this.popupObj.id,this.popup.setPosition(e.x+3,e.y-5),this.popup.setText(this.popupObj.getTitle()),this.popup.show(),this.body.emitter.emit("showPopup",this.popupObj.id)):this.popup!==void 0&&(this.popup.hide(),this.body.emitter.emit("hidePopup"))}_checkHidePopup(e){const r=this.selectionHandler._pointerToPositionObject(e);let n=!1;if(this.popup.popupTargetType==="node"){if(this.body.nodes[this.popup.popupTargetId]!==void 0&&(n=this.body.nodes[this.popup.popupTargetId].isOverlappingWith(r),n===!0)){const i=this.selectionHandler.getNodeAt(e);n=i===void 0?!1:i.id===this.popup.popupTargetId}}else this.selectionHandler.getNodeAt(e)===void 0&&this.body.edges[this.popup.popupTargetId]!==void 0&&(n=this.body.edges[this.popup.popupTargetId].isOverlappingWith(r));n===!1&&(this.popupObj=void 0,this.popup.hide(),this.body.emitter.emit("hidePopup"))}}var gU={},yU={},bU;function Hbe(){if(bU)return yU;bU=1;var t=vT(),e=_Q();return t("Set",function(r){return function(){return r(this,arguments.length?arguments[0]:void 0)}},e),yU}var xU;function Vbe(){return xU||(xU=1,Hbe()),gU}var wU={},d2,_U;function rl(){if(_U)return d2;_U=1;var t=Xu(),e=TypeError;return d2=function(r){if(typeof r=="object"&&"size"in r&&"has"in r&&"add"in r&&"delete"in r&&"keys"in r)return r;throw new e(t(r)+" is not a set")},d2}var h2,SU;function nl(){if(SU)return h2;SU=1;var t=On(),e=SQ(),r=t("Set"),n=r.prototype;return h2={Set:r,add:e("add",1),has:e("has",1),remove:e("delete",1),proto:n},h2}var f2,EU;function il(){if(EU)return f2;EU=1;var t=vn();return f2=function(e,r,n){for(var i=n?e:e.iterator,s=e.next,a,o;!(a=t(s,i)).done;)if(o=r(a.value),o!==void 0)return o},f2}var p2,NU;function Mh(){if(NU)return p2;NU=1;var t=il();return p2=function(e,r,n){return n?t(e.keys(),r,!0):e.forEach(r)},p2}var m2,jU;function ST(){if(jU)return m2;jU=1;var t=nl(),e=Mh(),r=t.Set,n=t.add;return m2=function(i){var s=new r;return e(i,function(a){n(s,a)}),s},m2}var v2,CU;function qh(){return CU||(CU=1,v2=function(t){return t.size}),v2}var g2,OU;function Kbe(){return OU||(OU=1,g2=function(t){return{iterator:t,next:t.next,done:!1}}),g2}var y2,TU;function sl(){if(TU)return y2;TU=1;var t=Cs(),e=Fi(),r=vn(),n=tc(),i=Kbe(),s="Invalid size",a=RangeError,o=TypeError,l=Math.max,c=function(d,h){this.set=d,this.size=l(h,0),this.has=t(d.has),this.keys=t(d.keys)};return c.prototype={getIterator:function(){return i(e(r(this.keys,this.set)))},includes:function(d){return r(this.has,this.set,d)}},y2=function(d){e(d);var h=+d.size;if(h!==h)throw new o(s);var f=n(h);if(f<0)throw new a(s);return new c(d,f)},y2}var b2,PU;function Gbe(){if(PU)return b2;PU=1;var t=rl(),e=nl(),r=ST(),n=qh(),i=sl(),s=Mh(),a=il(),o=e.has,l=e.remove;return b2=function(d){var h=t(this),f=i(d),p=r(h);return n(h)<=f.size?s(h,function(m){f.includes(m)&&l(p,m)}):a(f.getIterator(),function(m){o(p,m)&&l(p,m)}),p},b2}var x2,IU;function al(){return IU||(IU=1,x2=function(){return!1}),x2}var RU;function Ybe(){if(RU)return wU;RU=1;var t=Se(),e=Gbe(),r=Be(),n=al(),i=!n("difference",function(a){return a.size===0}),s=i||r(function(){var a={size:1,has:function(){return!0},keys:function(){var l=0;return{next:function(){var c=l++>1;return o.has(1)&&o.clear(),{done:c,value:2}}}}},o=new Set([1,2,3,4]);return o.difference(a).size!==3});return t({target:"Set",proto:!0,real:!0,forced:s},{difference:e}),wU}var $U={},w2,kU;function Qbe(){if(kU)return w2;kU=1;var t=rl(),e=nl(),r=qh(),n=sl(),i=Mh(),s=il(),a=e.Set,o=e.add,l=e.has;return w2=function(d){var h=t(this),f=n(d),p=new a;return r(h)>f.size?s(f.getIterator(),function(m){l(h,m)&&o(p,m)}):i(h,function(m){f.includes(m)&&o(p,m)}),p},w2}var DU;function Xbe(){if(DU)return $U;DU=1;var t=Se(),e=Be(),r=Qbe(),n=al(),i=!n("intersection",function(s){return s.size===2&&s.has(1)&&s.has(2)})||e(function(){return String(Array.from(new Set([1,2,3]).intersection(new Set([3,2]))))!=="3,2"});return t({target:"Set",proto:!0,real:!0,forced:i},{intersection:r}),$U}var MU={},_2,qU;function Jbe(){if(qU)return _2;qU=1;var t=rl(),e=nl().has,r=qh(),n=sl(),i=Mh(),s=il(),a=pT();return _2=function(l){var c=t(this),d=n(l);if(r(c)<=d.size)return i(c,function(f){if(d.includes(f))return!1},!0)!==!1;var h=d.getIterator();return s(h,function(f){if(e(c,f))return a(h,"normal",!1)})!==!1},_2}var AU;function Zbe(){if(AU)return MU;AU=1;var t=Se(),e=Jbe(),r=al(),n=!r("isDisjointFrom",function(i){return!i});return t({target:"Set",proto:!0,real:!0,forced:n},{isDisjointFrom:e}),MU}var FU={},S2,LU;function e1e(){if(LU)return S2;LU=1;var t=rl(),e=qh(),r=Mh(),n=sl();return S2=function(s){var a=t(this),o=n(s);return e(a)>o.size?!1:r(a,function(l){if(!o.includes(l))return!1},!0)!==!1},S2}var BU;function t1e(){if(BU)return FU;BU=1;var t=Se(),e=e1e(),r=al(),n=!r("isSubsetOf",function(i){return i});return t({target:"Set",proto:!0,real:!0,forced:n},{isSubsetOf:e}),FU}var zU={},E2,UU;function r1e(){if(UU)return E2;UU=1;var t=rl(),e=nl().has,r=qh(),n=sl(),i=il(),s=pT();return E2=function(o){var l=t(this),c=n(o);if(r(l)<c.size)return!1;var d=c.getIterator();return i(d,function(h){if(!e(l,h))return s(d,"normal",!1)})!==!1},E2}var WU;function n1e(){if(WU)return zU;WU=1;var t=Se(),e=r1e(),r=al(),n=!r("isSupersetOf",function(i){return!i});return t({target:"Set",proto:!0,real:!0,forced:n},{isSupersetOf:e}),zU}var HU={},N2,VU;function i1e(){if(VU)return N2;VU=1;var t=rl(),e=nl(),r=ST(),n=sl(),i=il(),s=e.add,a=e.has,o=e.remove;return N2=function(c){var d=t(this),h=n(c).getIterator(),f=r(d);return i(h,function(p){a(d,p)?o(f,p):s(f,p)}),f},N2}var j2,KU;function kQ(){return KU||(KU=1,j2=function(t){try{var e=new Set,r={size:0,has:function(){return!0},keys:function(){return Object.defineProperty({},"next",{get:function(){return e.clear(),e.add(4),function(){return{done:!0}}}})}},n=e[t](r);return n.size===1&&n.values().next().value===4}catch{return!1}}),j2}var GU;function s1e(){if(GU)return HU;GU=1;var t=Se(),e=i1e(),r=kQ(),n=al(),i=!n("symmetricDifference")||!r("symmetricDifference");return t({target:"Set",proto:!0,real:!0,forced:i},{symmetricDifference:e}),HU}var YU={},C2,QU;function a1e(){if(QU)return C2;QU=1;var t=rl(),e=nl().add,r=ST(),n=sl(),i=il();return C2=function(a){var o=t(this),l=n(a).getIterator(),c=r(o);return i(l,function(d){e(c,d)}),c},C2}var XU;function o1e(){if(XU)return YU;XU=1;var t=Se(),e=a1e(),r=kQ(),n=al(),i=!n("union")||!r("union");return t({target:"Set",proto:!0,real:!0,forced:i},{union:e}),YU}var O2,JU;function l1e(){if(JU)return O2;JU=1,sc(),Vbe(),Ybe(),Xbe(),Zbe(),t1e(),n1e(),s1e(),o1e(),yT();var t=nt();return O2=t.Set,O2}var T2,ZU;function u1e(){if(ZU)return T2;ZU=1;var t=l1e();return ac(),T2=t,T2}var P2,eW;function c1e(){return eW||(eW=1,P2=u1e()),P2}var d1e=c1e(),Fs=Oe(d1e),tW={},rW={},I2,nW;function h1e(){if(nW)return I2;nW=1;var t=He(),e=gT(),r=zm().getWeakData,n=mT(),i=Fi(),s=Gu(),a=hr(),o=Um(),l=Ra(),c=xr(),d=Zo(),h=d.set,f=d.getterFor,p=l.find,m=l.findIndex,y=t([].splice),b=0,g=function(x){return x.frozen||(x.frozen=new v)},v=function(){this.entries=[]},w=function(x,_){return p(x.entries,function(E){return E[0]===_})};return v.prototype={get:function(x){var _=w(this,x);if(_)return _[1]},has:function(x){return!!w(this,x)},set:function(x,_){var E=w(this,x);E?E[1]=_:this.entries.push([x,_])},delete:function(x){var _=m(this.entries,function(E){return E[0]===x});return~_&&y(this.entries,_,1),!!~_}},I2={getConstructor:function(x,_,E,N){var S=x(function(T,P){n(T,j),h(T,{type:_,id:b++,frozen:null}),s(P)||o(P,T[N],{that:T,AS_ENTRIES:E})}),j=S.prototype,C=f(_),O=function(T,P,D){var F=C(T),Q=r(i(P),!0);return Q===!0?g(F).set(P,D):Q[F.id]=D,T};return e(j,{delete:function(T){var P=C(this);if(!a(T))return!1;var D=r(T);return D===!0?g(P).delete(T):D&&c(D,P.id)&&delete D[P.id]},has:function(P){var D=C(this);if(!a(P))return!1;var F=r(P);return F===!0?g(D).has(P):F&&c(F,D.id)}}),e(j,E?{get:function(P){var D=C(this);if(a(P)){var F=r(P);if(F===!0)return g(D).get(P);if(F)return F[D.id]}},set:function(P,D){return O(this,P,D)}}:{add:function(P){return O(this,P,!0)}}),S}},I2}var iW;function f1e(){if(iW)return rW;iW=1;var t=xQ(),e=_t(),r=He(),n=gT(),i=zm(),s=vT(),a=h1e(),o=hr(),l=Zo().enforce,c=Be(),d=_Y(),h=Object,f=Array.isArray,p=h.isExtensible,m=h.isFrozen,y=h.isSealed,b=h.freeze,g=h.seal,v=!e.ActiveXObject&&"ActiveXObject"in e,w,x=function(T){return function(){return T(this,arguments.length?arguments[0]:void 0)}},_=s("WeakMap",x,a),E=_.prototype,N=r(E.set),S=function(){return t&&c(function(){var T=b([]);return N(new _,T,1),!m(T)})};if(d)if(v){w=a.getConstructor(x,"WeakMap",!0),i.enable();var j=r(E.delete),C=r(E.has),O=r(E.get);n(E,{delete:function(T){if(o(T)&&!p(T)){var P=l(this);return P.frozen||(P.frozen=new w),j(this,T)||P.frozen.delete(T)}return j(this,T)},has:function(P){if(o(P)&&!p(P)){var D=l(this);return D.frozen||(D.frozen=new w),C(this,P)||D.frozen.has(P)}return C(this,P)},get:function(P){if(o(P)&&!p(P)){var D=l(this);return D.frozen||(D.frozen=new w),C(this,P)?O(this,P):D.frozen.get(P)}return O(this,P)},set:function(P,D){if(o(P)&&!p(P)){var F=l(this);F.frozen||(F.frozen=new w),C(this,P)?N(this,P,D):F.frozen.set(P,D)}else N(this,P,D);return this}})}else S()&&n(E,{set:function(P,D){var F;return f(P)&&(m(P)?F=b:y(P)&&(F=g)),N(this,P,D),F&&F(P),this}});return rW}var sW;function p1e(){return sW||(sW=1,f1e()),tW}var R2,aW;function m1e(){if(aW)return R2;aW=1,sc(),p1e();var t=nt();return R2=t.WeakMap,R2}var $2,oW;function v1e(){if(oW)return $2;oW=1;var t=m1e();return ac(),$2=t,$2}var k2,lW;function g1e(){return lW||(lW=1,k2=v1e()),k2}var y1e=g1e(),Ah=Oe(y1e);function td(t,e,r){b1e(t,e),e.set(t,r)}function b1e(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function Yj(t,e,r){return t.set(DQ(t,e),r),r}function dt(t,e){return t.get(DQ(t,e))}function DQ(t,e,r){if(typeof t=="function"?t===e:t.has(e))return arguments.length<3?e:r;throw new TypeError("Private element is not present on this object")}function uW(t,e){const r=new Fs;for(const n of e)t.has(n)||r.add(n);return r}var fl=new Ah,Zn=new Ah;class cW{constructor(){td(this,fl,new Fs),td(this,Zn,new Fs)}get size(){return dt(Zn,this).size}add(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];for(const i of r)dt(Zn,this).add(i)}delete(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];for(const i of r)dt(Zn,this).delete(i)}clear(){dt(Zn,this).clear()}getSelection(){return[...dt(Zn,this)]}getChanges(){return{added:[...uW(dt(fl,this),dt(Zn,this))],deleted:[...uW(dt(Zn,this),dt(fl,this))],previous:[...new Fs(dt(fl,this))],current:[...new Fs(dt(Zn,this))]}}commit(){const e=this.getChanges();Yj(fl,this,dt(Zn,this)),Yj(Zn,this,new Fs(dt(fl,this)));for(const r of e.added)r.select();for(const r of e.deleted)r.unselect();return e}}var qa=new Ah,Aa=new Ah,D2=new Ah;class x1e{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:()=>{};td(this,qa,new cW),td(this,Aa,new cW),td(this,D2,void 0),Yj(D2,this,e)}get sizeNodes(){return dt(qa,this).size}get sizeEdges(){return dt(Aa,this).size}getNodes(){return dt(qa,this).getSelection()}getEdges(){return dt(Aa,this).getSelection()}addNodes(){dt(qa,this).add(...arguments)}addEdges(){dt(Aa,this).add(...arguments)}deleteNodes(e){dt(qa,this).delete(e)}deleteEdges(e){dt(Aa,this).delete(e)}clear(){dt(qa,this).clear(),dt(Aa,this).clear()}commit(){const e={nodes:dt(qa,this).commit(),edges:dt(Aa,this).commit()};for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return dt(D2,this).call(this,e,...n),e}}class w1e{constructor(e,r){this.body=e,this.canvas=r,this._selectionAccumulator=new x1e,this.hoverObj={nodes:{},edges:{}},this.options={},this.defaultOptions={multiselect:!1,selectable:!0,selectConnectedEdges:!0,hoverConnectedEdges:!0},Vt(this.options,this.defaultOptions),this.body.emitter.on("_dataChanged",()=>{this.updateSelection()})}setOptions(e){e!==void 0&&uc(["multiselect","hoverConnectedEdges","selectable","selectConnectedEdges"],this.options,e)}selectOnPoint(e){let r=!1;if(this.options.selectable===!0){const n=this.getNodeAt(e)||this.getEdgeAt(e);this.unselectAll(),n!==void 0&&(r=this.selectObject(n)),this.body.emitter.emit("_requestRedraw")}return r}selectAdditionalOnPoint(e){let r=!1;if(this.options.selectable===!0){const n=this.getNodeAt(e)||this.getEdgeAt(e);n!==void 0&&(r=!0,n.isSelected()===!0?this.deselectObject(n):this.selectObject(n),this.body.emitter.emit("_requestRedraw"))}return r}_initBaseEvent(e,r){const n={};return n.pointer={DOM:{x:r.x,y:r.y},canvas:this.canvas.DOMtoCanvas(r)},n.event=e,n}generateClickEvent(e,r,n,i){let s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1;const a=this._initBaseEvent(r,n);if(s===!0)a.nodes=[],a.edges=[];else{const o=this.getSelection();a.nodes=o.nodes,a.edges=o.edges}i!==void 0&&(a.previousSelection=i),e=="click"&&(a.items=this.getClickedItems(n)),r.controlEdge!==void 0&&(a.controlEdge=r.controlEdge),this.body.emitter.emit(e,a)}selectObject(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.options.selectConnectedEdges;return e!==void 0?(e instanceof xt?(r===!0&&this._selectionAccumulator.addEdges(...e.edges),this._selectionAccumulator.addNodes(e)):this._selectionAccumulator.addEdges(e),!0):!1}deselectObject(e){e.isSelected()===!0&&(e.selected=!1,this._removeFromSelection(e))}_getAllNodesOverlappingWith(e){const r=[],n=this.body.nodes;for(let i=0;i<this.body.nodeIndices.length;i++){const s=this.body.nodeIndices[i];n[s].isOverlappingWith(e)&&r.push(s)}return r}_pointerToPositionObject(e){const r=this.canvas.DOMtoCanvas(e);return{left:r.x-1,top:r.y+1,right:r.x+1,bottom:r.y-1}}getNodeAt(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;const n=this._pointerToPositionObject(e),i=this._getAllNodesOverlappingWith(n);if(i.length>0)return r===!0?this.body.nodes[i[i.length-1]]:i[i.length-1]}_getEdgesOverlappingWith(e,r){const n=this.body.edges;for(let i=0;i<this.body.edgeIndices.length;i++){const s=this.body.edgeIndices[i];n[s].isOverlappingWith(e)&&r.push(s)}}_getAllEdgesOverlappingWith(e){const r=[];return this._getEdgesOverlappingWith(e,r),r}getEdgeAt(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;const n=this.canvas.DOMtoCanvas(e);let i=10,s=null;const a=this.body.edges;for(let o=0;o<this.body.edgeIndices.length;o++){const l=this.body.edgeIndices[o],c=a[l];if(c.connected){const d=c.from.x,h=c.from.y,f=c.to.x,p=c.to.y,m=c.edgeType.getDistanceToEdge(d,h,f,p,n.x,n.y);m<i&&(s=l,i=m)}}if(s!==null)return r===!0?this.body.edges[s]:s}_addToHover(e){e instanceof xt?this.hoverObj.nodes[e.id]=e:this.hoverObj.edges[e.id]=e}_removeFromSelection(e){e instanceof xt?(this._selectionAccumulator.deleteNodes(e),this._selectionAccumulator.deleteEdges(...e.edges)):this._selectionAccumulator.deleteEdges(e)}unselectAll(){this._selectionAccumulator.clear()}getSelectedNodeCount(){return this._selectionAccumulator.sizeNodes}getSelectedEdgeCount(){return this._selectionAccumulator.sizeEdges}_hoverConnectedEdges(e){for(let r=0;r<e.edges.length;r++){const n=e.edges[r];n.hover=!0,this._addToHover(n)}}emitBlurEvent(e,r,n){const i=this._initBaseEvent(e,r);n.hover===!0&&(n.hover=!1,n instanceof xt?(i.node=n.id,this.body.emitter.emit("blurNode",i)):(i.edge=n.id,this.body.emitter.emit("blurEdge",i)))}emitHoverEvent(e,r,n){const i=this._initBaseEvent(e,r);let s=!1;return n.hover===!1&&(n.hover=!0,this._addToHover(n),s=!0,n instanceof xt?(i.node=n.id,this.body.emitter.emit("hoverNode",i)):(i.edge=n.id,this.body.emitter.emit("hoverEdge",i))),s}hoverObject(e,r){let n=this.getNodeAt(r);n===void 0&&(n=this.getEdgeAt(r));let i=!1;for(const s in this.hoverObj.nodes)Object.prototype.hasOwnProperty.call(this.hoverObj.nodes,s)&&(n===void 0||n instanceof xt&&n.id!=s||n instanceof va)&&(this.emitBlurEvent(e,r,this.hoverObj.nodes[s]),delete this.hoverObj.nodes[s],i=!0);for(const s in this.hoverObj.edges)Object.prototype.hasOwnProperty.call(this.hoverObj.edges,s)&&(i===!0?(this.hoverObj.edges[s].hover=!1,delete this.hoverObj.edges[s]):(n===void 0||n instanceof va&&n.id!=s||n instanceof xt&&!n.hover)&&(this.emitBlurEvent(e,r,this.hoverObj.edges[s]),delete this.hoverObj.edges[s],i=!0));if(n!==void 0){const s=Rt(this.hoverObj.edges).length,a=Rt(this.hoverObj.nodes).length,o=n instanceof va&&s===0&&a===0,l=n instanceof xt&&s===0&&a===0;(i||o||l)&&(i=this.emitHoverEvent(e,r,n)),n instanceof xt&&this.options.hoverConnectedEdges===!0&&this._hoverConnectedEdges(n)}i===!0&&this.body.emitter.emit("_requestRedraw")}commitWithoutEmitting(){this._selectionAccumulator.commit()}commitAndEmit(e,r){let n=!1;const i=this._selectionAccumulator.commit(),s={nodes:i.nodes.previous,edges:i.edges.previous};i.edges.deleted.length>0&&(this.generateClickEvent("deselectEdge",r,e,s),n=!0),i.nodes.deleted.length>0&&(this.generateClickEvent("deselectNode",r,e,s),n=!0),i.nodes.added.length>0&&(this.generateClickEvent("selectNode",r,e),n=!0),i.edges.added.length>0&&(this.generateClickEvent("selectEdge",r,e),n=!0),n===!0&&this.generateClickEvent("select",r,e)}getSelection(){return{nodes:this.getSelectedNodeIds(),edges:this.getSelectedEdgeIds()}}getSelectedNodes(){return this._selectionAccumulator.getNodes()}getSelectedEdges(){return this._selectionAccumulator.getEdges()}getSelectedNodeIds(){var e;return Su(e=this._selectionAccumulator.getNodes()).call(e,r=>r.id)}getSelectedEdgeIds(){var e;return Su(e=this._selectionAccumulator.getEdges()).call(e,r=>r.id)}setSelection(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!e||!e.nodes&&!e.edges)throw new TypeError("Selection must be an object with nodes and/or edges properties");if((r.unselectAll||r.unselectAll===void 0)&&this.unselectAll(),e.nodes)for(const n of e.nodes){const i=this.body.nodes[n];if(!i)throw new RangeError('Node with id "'+n+'" not found');this.selectObject(i,r.highlightEdges)}if(e.edges)for(const n of e.edges){const i=this.body.edges[n];if(!i)throw new RangeError('Edge with id "'+n+'" not found');this.selectObject(i)}this.body.emitter.emit("_requestRedraw"),this._selectionAccumulator.commit()}selectNodes(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(!e||e.length===void 0)throw"Selection must be an array with ids";this.setSelection({nodes:e},{highlightEdges:r})}selectEdges(e){if(!e||e.length===void 0)throw"Selection must be an array with ids";this.setSelection({edges:e})}updateSelection(){for(const e in this._selectionAccumulator.getNodes())Object.prototype.hasOwnProperty.call(this.body.nodes,e.id)||this._selectionAccumulator.deleteNodes(e);for(const e in this._selectionAccumulator.getEdges())Object.prototype.hasOwnProperty.call(this.body.edges,e.id)||this._selectionAccumulator.deleteEdges(e)}getClickedItems(e){const r=this.canvas.DOMtoCanvas(e),n=[],i=this.body.nodeIndices,s=this.body.nodes;for(let l=i.length-1;l>=0;l--){const d=s[i[l]].getItemsOnPoint(r);n.push.apply(n,d)}const a=this.body.edgeIndices,o=this.body.edges;for(let l=a.length-1;l>=0;l--){const d=o[a[l]].getItemsOnPoint(r);n.push.apply(n,d)}return n}}var dW={},M2,hW;function _1e(){if(hW)return M2;hW=1;var t=rc(),e=Math.floor,r=function(n,i){var s=n.length;if(s<8)for(var a=1,o,l;a<s;){for(l=a,o=n[a];l&&i(n[l-1],o)>0;)n[l]=n[--l];l!==a++&&(n[l]=o)}else for(var c=e(s/2),d=r(t(n,0,c),i),h=r(t(n,c),i),f=d.length,p=h.length,m=0,y=0;m<f||y<p;)n[m+y]=m<f&&y<p?i(d[m],h[y])<=0?d[m++]:h[y++]:m<f?d[m++]:h[y++];return n};return M2=r,M2}var q2,fW;function S1e(){if(fW)return q2;fW=1;var t=Yu(),e=t.match(/firefox\/(\d+)/i);return q2=!!e&&+e[1],q2}var A2,pW;function E1e(){if(pW)return A2;pW=1;var t=Yu();return A2=/MSIE|Trident/.test(t),A2}var F2,mW;function N1e(){if(mW)return F2;mW=1;var t=Yu(),e=t.match(/AppleWebKit\/(\d+)\./);return F2=!!e&&+e[1],F2}var vW;function j1e(){if(vW)return dW;vW=1;var t=Se(),e=He(),r=Cs(),n=Tn(),i=Os(),s=$Y(),a=Yn(),o=Be(),l=_1e(),c=oc(),d=S1e(),h=E1e(),f=_h(),p=N1e(),m=[],y=e(m.sort),b=e(m.push),g=o(function(){m.sort(void 0)}),v=o(function(){m.sort(null)}),w=c("sort"),x=!o(function(){if(f)return f<70;if(!(d&&d>3)){if(h)return!0;if(p)return p<603;var N="",S,j,C,O;for(S=65;S<76;S++){switch(j=String.fromCharCode(S),S){case 66:case 69:case 70:case 72:C=3;break;case 68:case 71:C=4;break;default:C=2}for(O=0;O<47;O++)m.push({k:j+O,v:C})}for(m.sort(function(T,P){return P.v-T.v}),O=0;O<m.length;O++)j=m[O].k.charAt(0),N.charAt(N.length-1)!==j&&(N+=j);return N!=="DGBEFHACIJK"}}),_=g||!v||!w||!x,E=function(N){return function(S,j){return j===void 0?-1:S===void 0?1:N!==void 0?+N(S,j)||0:a(S)>a(j)?1:-1}};return t({target:"Array",proto:!0,forced:_},{sort:function(S){S!==void 0&&r(S);var j=n(this);if(x)return S===void 0?y(j):y(j,S);var C=[],O=i(j),T,P;for(P=0;P<O;P++)P in j&&b(C,j[P]);for(l(C,E(S)),T=i(C),P=0;P<T;)j[P]=C[P++];for(;P<O;)s(j,P++);return j}}),dW}var L2,gW;function C1e(){if(gW)return L2;gW=1,j1e();var t=wr();return L2=t("Array","sort"),L2}var B2,yW;function O1e(){if(yW)return B2;yW=1;var t=Qt(),e=C1e(),r=Array.prototype;return B2=function(n){var i=n.sort;return n===r||t(r,n)&&i===r.sort?e:i},B2}var z2,bW;function T1e(){if(bW)return z2;bW=1;var t=O1e();return z2=t,z2}var U2,xW;function P1e(){return xW||(xW=1,U2=T1e()),U2}var I1e=P1e(),Ul=Oe(I1e),wW={},W2,_W;function R1e(){if(_W)return W2;_W=1;var t=Cs(),e=Tn(),r=Om(),n=Os(),i=TypeError,s="Reduce of empty array with no initial value",a=function(o){return function(l,c,d,h){var f=e(l),p=r(f),m=n(f);if(t(c),m===0&&d<2)throw new i(s);var y=o?m-1:0,b=o?-1:1;if(d<2)for(;;){if(y in p){h=p[y],y+=b;break}if(y+=b,o?y<0:m<=y)throw new i(s)}for(;o?y>=0:m>y;y+=b)y in p&&(h=c(h,p[y],y,f));return h}};return W2={left:a(!1),right:a(!0)},W2}var H2,SW;function $1e(){if(SW)return H2;SW=1;var t=DY();return H2=t==="NODE",H2}var EW;function k1e(){if(EW)return wW;EW=1;var t=Se(),e=R1e().left,r=oc(),n=_h(),i=$1e(),s=!i&&n>79&&n<83,a=s||!r("reduce");return t({target:"Array",proto:!0,forced:a},{reduce:function(l){var c=arguments.length;return e(this,l,c,c>1?arguments[1]:void 0)}}),wW}var V2,NW;function D1e(){if(NW)return V2;NW=1,k1e();var t=wr();return V2=t("Array","reduce"),V2}var K2,jW;function M1e(){if(jW)return K2;jW=1;var t=Qt(),e=D1e(),r=Array.prototype;return K2=function(n){var i=n.reduce;return n===r||t(r,n)&&i===r.reduce?e:i},K2}var G2,CW;function q1e(){if(CW)return G2;CW=1;var t=M1e();return G2=t,G2}var Y2,OW;function A1e(){return OW||(OW=1,Y2=q1e()),Y2}var F1e=A1e(),MQ=Oe(F1e);class qQ{abstract(){throw new Error("Can't instantiate abstract class!")}fake_use(){}curveType(){return this.abstract()}getPosition(e){return this.fake_use(e),this.abstract()}setPosition(e,r){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0;this.fake_use(e,r,n),this.abstract()}getTreeSize(e){return this.fake_use(e),this.abstract()}sort(e){this.fake_use(e),this.abstract()}fix(e,r){this.fake_use(e,r),this.abstract()}shift(e,r){this.fake_use(e,r),this.abstract()}}class L1e extends qQ{constructor(e){super(),this.layout=e}curveType(){return"horizontal"}getPosition(e){return e.x}setPosition(e,r){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0;n!==void 0&&this.layout.hierarchical.addToOrdering(e,n),e.x=r}getTreeSize(e){const r=this.layout.hierarchical.getTreeSize(this.layout.body.nodes,e);return{min:r.min_x,max:r.max_x}}sort(e){Ul(e).call(e,function(r,n){return r.x-n.x})}fix(e,r){e.y=this.layout.options.hierarchical.levelSeparation*r,e.options.fixed.y=!0}shift(e,r){this.layout.body.nodes[e].x+=r}}class B1e extends qQ{constructor(e){super(),this.layout=e}curveType(){return"vertical"}getPosition(e){return e.y}setPosition(e,r){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0;n!==void 0&&this.layout.hierarchical.addToOrdering(e,n),e.y=r}getTreeSize(e){const r=this.layout.hierarchical.getTreeSize(this.layout.body.nodes,e);return{min:r.min_y,max:r.max_y}}sort(e){Ul(e).call(e,function(r,n){return r.y-n.y})}fix(e,r){e.x=this.layout.options.hierarchical.levelSeparation*r,e.options.fixed.x=!0}shift(e,r){this.layout.body.nodes[e].y+=r}}var TW={},PW;function z1e(){if(PW)return TW;PW=1;var t=Se(),e=Ra().every,r=oc(),n=r("every");return t({target:"Array",proto:!0,forced:!n},{every:function(s){return e(this,s,arguments.length>1?arguments[1]:void 0)}}),TW}var Q2,IW;function U1e(){if(IW)return Q2;IW=1,z1e();var t=wr();return Q2=t("Array","every"),Q2}var X2,RW;function W1e(){if(RW)return X2;RW=1;var t=Qt(),e=U1e(),r=Array.prototype;return X2=function(n){var i=n.every;return n===r||t(r,n)&&i===r.every?e:i},X2}var J2,$W;function H1e(){if($W)return J2;$W=1;var t=W1e();return J2=t,J2}var Z2,kW;function V1e(){return kW||(kW=1,Z2=H1e()),Z2}var K1e=V1e(),AQ=Oe(K1e);function G1e(t,e){const r=new Fs;return ot(t).call(t,n=>{var i;ot(i=n.edges).call(i,s=>{s.connected&&r.add(s)})}),ot(r).call(r,n=>{const i=n.from.id,s=n.to.id;e[i]==null&&(e[i]=0),(e[s]==null||e[i]>=e[s])&&(e[s]=e[i]+1)}),e}function Y1e(t){return FQ(e=>{var r,n;return AQ(r=rn(n=e.edges).call(n,i=>t.has(i.toId))).call(r,i=>i.to===e)},(e,r)=>r>e,"from",t)}function Q1e(t){return FQ(e=>{var r,n;return AQ(r=rn(n=e.edges).call(n,i=>t.has(i.toId))).call(r,i=>i.from===e)},(e,r)=>r<e,"to",t)}function FQ(t,e,r,n){var i;const s=go(null),a=MQ(i=[...TQ(n).call(n)]).call(i,(h,f)=>h+1+f.edges.length,0),o=r+"Id",l=r==="to"?1:-1;for(const[h,f]of n){if(!n.has(h)||!t(f))continue;s[h]=0;const p=[f];let m=0,y;for(;y=p.pop();){var c,d;if(!n.has(h))continue;const b=s[y.id]+l;if(ot(c=rn(d=y.edges).call(d,g=>g.connected&&g.to!==g.from&&g[r]!==y&&n.has(g.toId)&&n.has(g.fromId))).call(c,g=>{const v=g[o],w=s[v];(w==null||e(b,w))&&(s[v]=b,p.push(g[r]))}),m>a)return G1e(n,s);++m}}return s}class X1e{constructor(){this.childrenReference={},this.parentReference={},this.trees={},this.distributionOrdering={},this.levels={},this.distributionIndex={},this.isTree=!1,this.treeIndex=-1}addRelation(e,r){this.childrenReference[e]===void 0&&(this.childrenReference[e]=[]),this.childrenReference[e].push(r),this.parentReference[r]===void 0&&(this.parentReference[r]=[]),this.parentReference[r].push(e)}checkIfTree(){for(const e in this.parentReference)if(this.parentReference[e].length>1){this.isTree=!1;return}this.isTree=!0}numTrees(){return this.treeIndex+1}setTreeIndex(e,r){r!==void 0&&this.trees[e.id]===void 0&&(this.trees[e.id]=r,this.treeIndex=Math.max(r,this.treeIndex))}ensureLevel(e){this.levels[e]===void 0&&(this.levels[e]=0)}getMaxLevel(e){const r={},n=i=>{if(r[i]!==void 0)return r[i];let s=this.levels[i];if(this.childrenReference[i]){const a=this.childrenReference[i];if(a.length>0)for(let o=0;o<a.length;o++)s=Math.max(s,n(a[o]))}return r[i]=s,s};return n(e)}levelDownstream(e,r){this.levels[r.id]===void 0&&(this.levels[e.id]===void 0&&(this.levels[e.id]=0),this.levels[r.id]=this.levels[e.id]+1)}setMinLevelToZero(){var e;const r=new bT;let n=0;const i=Ul(e=[...new Fs(hme(this.levels))]).call(e,(s,a)=>s-a);for(const s of i)r.set(s,n++);for(const s in this.levels)Object.prototype.hasOwnProperty.call(this.levels,s)&&(this.levels[s]=r.get(this.levels[s]))}getTreeSize(e,r){let n=1e9,i=-1e9,s=1e9,a=-1e9;for(const o in this.trees)if(Object.prototype.hasOwnProperty.call(this.trees,o)&&this.trees[o]===r){const l=e[o];n=Math.min(l.x,n),i=Math.max(l.x,i),s=Math.min(l.y,s),a=Math.max(l.y,a)}return{min_x:n,max_x:i,min_y:s,max_y:a}}hasSameParent(e,r){const n=this.parentReference[e.id],i=this.parentReference[r.id];if(n===void 0||i===void 0)return!1;for(let s=0;s<n.length;s++)for(let a=0;a<i.length;a++)if(n[s]==i[a])return!0;return!1}inSameSubNetwork(e,r){return this.trees[e.id]===this.trees[r.id]}getLevels(){return Rt(this.distributionOrdering)}addToOrdering(e,r){this.distributionOrdering[r]===void 0&&(this.distributionOrdering[r]=[]);let n=!1;const i=this.distributionOrdering[r];for(const s in i)if(i[s]===e){n=!0;break}n||(this.distributionOrdering[r].push(e),this.distributionIndex[e.id]=this.distributionOrdering[r].length-1)}}class J1e{constructor(e){this.body=e,this._resetRNG(Math.random()+":"+Pp()),this.setPhysics=!1,this.options={},this.optionsBackup={physics:{}},this.defaultOptions={randomSeed:void 0,improvedLayout:!0,clusterThreshold:150,hierarchical:{enabled:!1,levelSeparation:150,nodeSpacing:100,treeSpacing:200,blockShifting:!0,edgeMinimization:!0,parentCentralization:!0,direction:"UD",sortMethod:"hubsize"}},Vt(this.options,this.defaultOptions),this.bindEventListeners()}bindEventListeners(){this.body.emitter.on("_dataChanged",()=>{this.setupHierarchicalLayout()}),this.body.emitter.on("_dataLoaded",()=>{this.layoutNetwork()}),this.body.emitter.on("_resetHierarchicalLayout",()=>{this.setupHierarchicalLayout()}),this.body.emitter.on("_adjustEdgesForHierarchicalLayout",()=>{if(this.options.hierarchical.enabled!==!0)return;const e=this.direction.curveType();this.body.emitter.emit("_forceDisableDynamicCurves",e,!1)})}setOptions(e,r){if(e!==void 0){const n=this.options.hierarchical,i=n.enabled;if(uc(["randomSeed","improvedLayout","clusterThreshold"],this.options,e),Dn(this.options,e,"hierarchical"),e.randomSeed!==void 0&&this._resetRNG(e.randomSeed),n.enabled===!0)return i===!0&&this.body.emitter.emit("refresh",!0),n.direction==="RL"||n.direction==="DU"?n.levelSeparation>0&&(n.levelSeparation*=-1):n.levelSeparation<0&&(n.levelSeparation*=-1),this.setDirectionStrategy(),this.body.emitter.emit("_resetHierarchicalLayout"),this.adaptAllOptionsForHierarchicalLayout(r);if(i===!0)return this.body.emitter.emit("refresh"),ht(r,this.optionsBackup)}return r}_resetRNG(e){this.initialRandomSeed=e,this._rng=Bm(this.initialRandomSeed)}adaptAllOptionsForHierarchicalLayout(e){if(this.options.hierarchical.enabled===!0){const r=this.optionsBackup.physics;e.physics===void 0||e.physics===!0?(e.physics={enabled:r.enabled===void 0?!0:r.enabled,solver:"hierarchicalRepulsion"},r.enabled=r.enabled===void 0?!0:r.enabled,r.solver=r.solver||"barnesHut"):typeof e.physics=="object"?(r.enabled=e.physics.enabled===void 0?!0:e.physics.enabled,r.solver=e.physics.solver||"barnesHut",e.physics.solver="hierarchicalRepulsion"):e.physics!==!1&&(r.solver="barnesHut",e.physics={solver:"hierarchicalRepulsion"});let n=this.direction.curveType();if(e.edges===void 0)this.optionsBackup.edges={smooth:{enabled:!0,type:"dynamic"}},e.edges={smooth:!1};else if(e.edges.smooth===void 0)this.optionsBackup.edges={smooth:{enabled:!0,type:"dynamic"}},e.edges.smooth=!1;else if(typeof e.edges.smooth=="boolean")this.optionsBackup.edges={smooth:e.edges.smooth},e.edges.smooth={enabled:e.edges.smooth,type:n};else{const i=e.edges.smooth;i.type!==void 0&&i.type!=="dynamic"&&(n=i.type),this.optionsBackup.edges={smooth:{enabled:i.enabled===void 0?!0:i.enabled,type:i.type===void 0?"dynamic":i.type,roundness:i.roundness===void 0?.5:i.roundness,forceDirection:i.forceDirection===void 0?!1:i.forceDirection}},e.edges.smooth={enabled:i.enabled===void 0?!0:i.enabled,type:n,roundness:i.roundness===void 0?.5:i.roundness,forceDirection:i.forceDirection===void 0?!1:i.forceDirection}}this.body.emitter.emit("_forceDisableDynamicCurves",n)}return e}positionInitially(e){if(this.options.hierarchical.enabled!==!0){this._resetRNG(this.initialRandomSeed);const r=e.length+50;for(let n=0;n<e.length;n++){const i=e[n],s=2*Math.PI*this._rng();i.x===void 0&&(i.x=r*Math.cos(s)),i.y===void 0&&(i.y=r*Math.sin(s))}}}layoutNetwork(){if(this.options.hierarchical.enabled!==!0&&this.options.improvedLayout===!0){const e=this.body.nodeIndices;let r=0;for(let n=0;n<e.length;n++)this.body.nodes[e[n]].predefinedPosition===!0&&(r+=1);if(r<.5*e.length){let i=0;const s=this.options.clusterThreshold,a={clusterNodeProperties:{shape:"ellipse",label:"",group:"",font:{multi:!1}},clusterEdgeProperties:{label:"",font:{multi:!1},smooth:{enabled:!1}}};if(e.length>s){const l=e.length;for(;e.length>s&&i<=10;){i+=1;const c=e.length;i%3===0?this.body.modules.clustering.clusterBridges(a):this.body.modules.clustering.clusterOutliers(a);const d=e.length;if(c==d&&i%3!==0){this._declusterAll(),this.body.emitter.emit("_layoutFailed"),console.info("This network could not be positioned by this version of the improved layout algorithm. Please disable improvedLayout for better performance.");return}}this.body.modules.kamadaKawai.setOptions({springLength:Math.max(150,2*l)})}i>10&&console.info("The clustering didn't succeed within the amount of interations allowed, progressing with partial result."),this.body.modules.kamadaKawai.solve(e,this.body.edgeIndices,!0),this._shiftToCenter();const o=70;for(let l=0;l<e.length;l++){const c=this.body.nodes[e[l]];c.predefinedPosition===!1&&(c.x+=(.5-this._rng())*o,c.y+=(.5-this._rng())*o)}this._declusterAll(),this.body.emitter.emit("_repositionBezierNodes")}}}_shiftToCenter(){const e=Lr.getRangeCore(this.body.nodes,this.body.nodeIndices),r=Lr.findCenter(e);for(let n=0;n<this.body.nodeIndices.length;n++){const i=this.body.nodes[this.body.nodeIndices[n]];i.x-=r.x,i.y-=r.y}}_declusterAll(){let e=!0;for(;e===!0;){e=!1;for(let r=0;r<this.body.nodeIndices.length;r++)this.body.nodes[this.body.nodeIndices[r]].isCluster===!0&&(e=!0,this.body.modules.clustering.openCluster(this.body.nodeIndices[r],{},!1));e===!0&&this.body.emitter.emit("_dataChanged")}}getSeed(){return this.initialRandomSeed}setupHierarchicalLayout(){if(this.options.hierarchical.enabled===!0&&this.body.nodeIndices.length>0){let e,r,n=!1,i=!1;this.lastNodeOnLevel={},this.hierarchical=new X1e;for(r in this.body.nodes)Object.prototype.hasOwnProperty.call(this.body.nodes,r)&&(e=this.body.nodes[r],e.options.level!==void 0?(n=!0,this.hierarchical.levels[r]=e.options.level):i=!0);if(i===!0&&n===!0)throw new Error("To use the hierarchical layout, nodes require either no predefined levels or levels have to be defined for all nodes.");{if(i===!0){const a=this.options.hierarchical.sortMethod;a==="hubsize"?this._determineLevelsByHubsize():a==="directed"?this._determineLevelsDirected():a==="custom"&&this._determineLevelsCustomCallback()}for(const a in this.body.nodes)Object.prototype.hasOwnProperty.call(this.body.nodes,a)&&this.hierarchical.ensureLevel(a);const s=this._getDistribution();this._generateMap(),this._placeNodesByHierarchy(s),this._condenseHierarchy(),this._shiftToCenter()}}}_condenseHierarchy(){var e=this;let r=!1;const n={},i=()=>{const g=a();let v=0;for(let w=0;w<g.length-1;w++){const x=g[w].max-g[w+1].min;v+=x+this.options.hierarchical.treeSpacing,s(w+1,v)}},s=(g,v)=>{const w=this.hierarchical.trees;for(const x in w)Object.prototype.hasOwnProperty.call(w,x)&&w[x]===g&&this.direction.shift(x,v)},a=()=>{const g=[];for(let v=0;v<this.hierarchical.numTrees();v++)g.push(this.direction.getTreeSize(v));return g},o=(g,v)=>{if(!v[g.id]&&(v[g.id]=!0,this.hierarchical.childrenReference[g.id])){const w=this.hierarchical.childrenReference[g.id];if(w.length>0)for(let x=0;x<w.length;x++)o(this.body.nodes[w[x]],v)}},l=function(g){let v=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1e9,w=1e9,x=1e9,_=1e9,E=-1e9;for(const N in g)if(Object.prototype.hasOwnProperty.call(g,N)){const S=e.body.nodes[N],j=e.hierarchical.levels[S.id],C=e.direction.getPosition(S),[O,T]=e._getSpaceAroundNode(S,g);w=Math.min(O,w),x=Math.min(T,x),j<=v&&(_=Math.min(C,_),E=Math.max(C,E))}return[_,E,w,x]},c=(g,v)=>{const w=this.hierarchical.getMaxLevel(g.id),x=this.hierarchical.getMaxLevel(v.id);return Math.min(w,x)},d=(g,v,w)=>{const x=this.hierarchical;for(let _=0;_<v.length;_++){const E=v[_],N=x.distributionOrdering[E];if(N.length>1)for(let S=0;S<N.length-1;S++){const j=N[S],C=N[S+1];x.hasSameParent(j,C)&&x.inSameSubNetwork(j,C)&&g(j,C,w)}}},h=function(g,v){let w=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;const x=e.direction.getPosition(g),_=e.direction.getPosition(v),E=Math.abs(_-x),N=e.options.hierarchical.nodeSpacing;if(E>N){const S={},j={};o(g,S),o(v,j);const C=c(g,v),O=l(S,C),T=l(j,C),P=O[1],D=T[0],F=T[2];if(Math.abs(P-D)>N){let H=P-D+N;H<-F+N&&(H=-F+N),H<0&&(e._shiftBlock(v.id,H),r=!0,w===!0&&e._centerParent(v))}}},f=(g,v)=>{const w=v.id,x=v.edges,_=this.hierarchical.levels[v.id],E=this.options.hierarchical.levelSeparation*this.options.hierarchical.levelSeparation,N={},S=[];for(let F=0;F<x.length;F++){const Q=x[F];if(Q.toId!=Q.fromId){const H=Q.toId==w?Q.from:Q.to;N[x[F].id]=H,this.hierarchical.levels[H.id]<_&&S.push(Q)}}const j=(F,Q)=>{let H=0;for(let L=0;L<Q.length;L++)if(N[Q[L].id]!==void 0){const V=this.direction.getPosition(N[Q[L].id])-F;H+=V/Math.sqrt(V*V+E)}return H},C=(F,Q)=>{let H=0;for(let L=0;L<Q.length;L++)if(N[Q[L].id]!==void 0){const V=this.direction.getPosition(N[Q[L].id])-F;H-=E*Math.pow(V*V+E,-1.5)}return H},O=(F,Q)=>{let H=this.direction.getPosition(v);const L={};for(let V=0;V<F;V++){const W=j(H,Q),z=C(H,Q),K=40,fe=Math.max(-K,Math.min(K,Math.round(W/z)));if(H=H-fe,L[H]!==void 0)break;L[H]=V}return H},T=F=>{const Q=this.direction.getPosition(v);if(n[v.id]===void 0){const K={};o(v,K),n[v.id]=K}const H=l(n[v.id]),L=H[2],V=H[3],W=F-Q;let z=0;W>0?z=Math.min(W,V-this.options.hierarchical.nodeSpacing):W<0&&(z=-Math.min(-W,L-this.options.hierarchical.nodeSpacing)),z!=0&&(this._shiftBlock(v.id,z),r=!0)},P=F=>{const Q=this.direction.getPosition(v),[H,L]=this._getSpaceAroundNode(v),V=F-Q;let W=Q;V>0?W=Math.min(Q+(L-this.options.hierarchical.nodeSpacing),F):V<0&&(W=Math.max(Q-(H-this.options.hierarchical.nodeSpacing),F)),W!==Q&&(this.direction.setPosition(v,W),r=!0)};let D=O(g,S);T(D),D=O(g,x),P(D)},p=g=>{let v=this.hierarchical.getLevels();v=vo(v).call(v);for(let w=0;w<g;w++){r=!1;for(let x=0;x<v.length;x++){const _=v[x],E=this.hierarchical.distributionOrdering[_];for(let N=0;N<E.length;N++)f(1e3,E[N])}if(r!==!0)break}},m=g=>{let v=this.hierarchical.getLevels();v=vo(v).call(v);for(let w=0;w<g&&(r=!1,d(h,v,!0),r===!0);w++);},y=()=>{for(const g in this.body.nodes)Object.prototype.hasOwnProperty.call(this.body.nodes,g)&&this._centerParent(this.body.nodes[g])},b=()=>{let g=this.hierarchical.getLevels();g=vo(g).call(g);for(let v=0;v<g.length;v++){const w=g[v],x=this.hierarchical.distributionOrdering[w];for(let _=0;_<x.length;_++)this._centerParent(x[_])}};this.options.hierarchical.blockShifting===!0&&(m(5),y()),this.options.hierarchical.edgeMinimization===!0&&p(20),this.options.hierarchical.parentCentralization===!0&&b(),i()}_getSpaceAroundNode(e,r){let n=!0;r===void 0&&(n=!1);const i=this.hierarchical.levels[e.id];if(i!==void 0){const s=this.hierarchical.distributionIndex[e.id],a=this.direction.getPosition(e),o=this.hierarchical.distributionOrdering[i];let l=1e9,c=1e9;if(s!==0){const d=o[s-1];if(n===!0&&r[d.id]===void 0||n===!1){const h=this.direction.getPosition(d);l=a-h}}if(s!=o.length-1){const d=o[s+1];if(n===!0&&r[d.id]===void 0||n===!1){const h=this.direction.getPosition(d);c=Math.min(c,h-a)}}return[l,c]}else return[0,0]}_centerParent(e){if(this.hierarchical.parentReference[e.id]){const r=this.hierarchical.parentReference[e.id];for(let n=0;n<r.length;n++){const i=r[n],s=this.body.nodes[i],a=this.hierarchical.childrenReference[i];if(a!==void 0){const o=this._getCenterPosition(a),l=this.direction.getPosition(s),[c,d]=this._getSpaceAroundNode(s),h=l-o;(h<0&&Math.abs(h)<d-this.options.hierarchical.nodeSpacing||h>0&&Math.abs(h)<c-this.options.hierarchical.nodeSpacing)&&this.direction.setPosition(s,o)}}}}_placeNodesByHierarchy(e){this.positionedNodes={};for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r;let i=Rt(e[n]);i=this._indexArrayToNodes(i),Ul(r=this.direction).call(r,i);let s=0;for(let a=0;a<i.length;a++){const o=i[a];if(this.positionedNodes[o.id]===void 0){const l=this.options.hierarchical.nodeSpacing;let c=l*s;s>0&&(c=this.direction.getPosition(i[a-1])+l),this.direction.setPosition(o,c,n),this._validatePositionAndContinue(o,n,c),s++}}}}_placeBranchNodes(e,r){var n;const i=this.hierarchical.childrenReference[e];if(i===void 0)return;const s=[];for(let o=0;o<i.length;o++)s.push(this.body.nodes[i[o]]);Ul(n=this.direction).call(n,s);for(let o=0;o<s.length;o++){const l=s[o],c=this.hierarchical.levels[l.id];if(c>r&&this.positionedNodes[l.id]===void 0){const d=this.options.hierarchical.nodeSpacing;let h;o===0?h=this.direction.getPosition(this.body.nodes[e]):h=this.direction.getPosition(s[o-1])+d,this.direction.setPosition(l,h,c),this._validatePositionAndContinue(l,c,h)}else return}const a=this._getCenterPosition(s);this.direction.setPosition(this.body.nodes[e],a,r)}_validatePositionAndContinue(e,r,n){if(this.hierarchical.isTree){if(this.lastNodeOnLevel[r]!==void 0){const i=this.direction.getPosition(this.body.nodes[this.lastNodeOnLevel[r]]);if(n-i<this.options.hierarchical.nodeSpacing){const s=i+this.options.hierarchical.nodeSpacing-n,a=this._findCommonParent(this.lastNodeOnLevel[r],e.id);this._shiftBlock(a.withChild,s)}}this.lastNodeOnLevel[r]=e.id,this.positionedNodes[e.id]=!0,this._placeBranchNodes(e.id,r)}}_indexArrayToNodes(e){const r=[];for(let n=0;n<e.length;n++)r.push(this.body.nodes[e[n]]);return r}_getDistribution(){const e={};let r,n;for(r in this.body.nodes)if(Object.prototype.hasOwnProperty.call(this.body.nodes,r)){n=this.body.nodes[r];const i=this.hierarchical.levels[r]===void 0?0:this.hierarchical.levels[r];this.direction.fix(n,i),e[i]===void 0&&(e[i]={}),e[i][r]=n}return e}_getActiveEdges(e){const r=[];return qe(e.edges,n=>{var i;Ze(i=this.body.edgeIndices).call(i,n.id)!==-1&&r.push(n)}),r}_getHubSizes(){const e={},r=this.body.nodeIndices;qe(r,i=>{const s=this.body.nodes[i],a=this._getActiveEdges(s).length;e[a]=!0});const n=[];return qe(e,i=>{n.push(Number(i))}),Ul(n).call(n,function(i,s){return s-i}),n}_determineLevelsByHubsize(){const e=(n,i)=>{this.hierarchical.levelDownstream(n,i)},r=this._getHubSizes();for(let n=0;n<r.length;++n){const i=r[n];if(i===0)break;qe(this.body.nodeIndices,s=>{const a=this.body.nodes[s];i===this._getActiveEdges(a).length&&this._crawlNetwork(e,s)})}}_determineLevelsCustomCallback(){const r=function(i,s,a){},n=(i,s,a)=>{let o=this.hierarchical.levels[i.id];o===void 0&&(o=this.hierarchical.levels[i.id]=1e5);const l=r(Lr.cloneOptions(i,"node"),Lr.cloneOptions(s,"node"),Lr.cloneOptions(a,"edge"));this.hierarchical.levels[s.id]=o+l};this._crawlNetwork(n),this.hierarchical.setMinLevelToZero()}_determineLevelsDirected(){var e;const r=MQ(e=this.body.nodeIndices).call(e,(n,i)=>(n.set(i,this.body.nodes[i]),n),new bT);this.options.hierarchical.shakeTowards==="roots"?this.hierarchical.levels=Q1e(r):this.hierarchical.levels=Y1e(r),this.hierarchical.setMinLevelToZero()}_generateMap(){const e=(r,n)=>{this.hierarchical.levels[n.id]>this.hierarchical.levels[r.id]&&this.hierarchical.addRelation(r.id,n.id)};this._crawlNetwork(e),this.hierarchical.checkIfTree()}_crawlNetwork(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:function(){},r=arguments.length>1?arguments[1]:void 0;const n={},i=(s,a)=>{if(n[s.id]===void 0){this.hierarchical.setTreeIndex(s,a),n[s.id]=!0;let o;const l=this._getActiveEdges(s);for(let c=0;c<l.length;c++){const d=l[c];d.connected===!0&&(d.toId==s.id?o=d.from:o=d.to,s.id!=o.id&&(e(s,o,d),i(o,a)))}}};if(r===void 0){let s=0;for(let a=0;a<this.body.nodeIndices.length;a++){const o=this.body.nodeIndices[a];if(n[o]===void 0){const l=this.body.nodes[o];i(l,s),s+=1}}}else{const s=this.body.nodes[r];if(s===void 0){console.error("Node not found:",r);return}i(s)}}_shiftBlock(e,r){const n={},i=s=>{if(n[s])return;n[s]=!0,this.direction.shift(s,r);const a=this.hierarchical.childrenReference[s];if(a!==void 0)for(let o=0;o<a.length;o++)i(a[o])};i(e)}_findCommonParent(e,r){const n={},i=(a,o)=>{const l=this.hierarchical.parentReference[o];if(l!==void 0)for(let c=0;c<l.length;c++){const d=l[c];a[d]=!0,i(a,d)}},s=(a,o)=>{const l=this.hierarchical.parentReference[o];if(l!==void 0)for(let c=0;c<l.length;c++){const d=l[c];if(a[d]!==void 0)return{foundParent:d,withChild:o};const h=s(a,d);if(h.foundParent!==null)return h}return{foundParent:null,withChild:o}};return i(n,e),s(n,r)}setDirectionStrategy(){this.options.hierarchical.direction==="UD"||this.options.hierarchical.direction==="DU"?this.direction=new L1e(this):this.direction=new B1e(this)}_getCenterPosition(e){let r=1e9,n=-1e9;for(let i=0;i<e.length;i++){let s;if(e[i].id!==void 0)s=e[i];else{const o=e[i];s=this.body.nodes[o]}const a=this.direction.getPosition(s);r=Math.min(r,a),n=Math.max(n,a)}return .5*(r+n)}}class Z1e{constructor(e,r,n,i){var s,a;this.body=e,this.canvas=r,this.selectionHandler=n,this.interactionHandler=i,this.editMode=!1,this.manipulationDiv=void 0,this.editModeDiv=void 0,this.closeDiv=void 0,this._domEventListenerCleanupQueue=[],this.temporaryUIFunctions={},this.temporaryEventFunctions=[],this.touchTime=0,this.temporaryIds={nodes:[],edges:[]},this.guiEnabled=!1,this.inMode=!1,this.selectedControlNode=void 0,this.options={},this.defaultOptions={enabled:!1,initiallyActive:!1,addNode:!0,addEdge:!0,editNode:void 0,editEdge:!0,deleteNode:!0,deleteEdge:!0,controlNodeStyle:{shape:"dot",size:6,color:{background:"#ff0000",border:"#3c3c3c",highlight:{background:"#07f968",border:"#3c3c3c"}},borderWidth:2,borderWidthSelected:2}},Vt(this.options,this.defaultOptions),this.body.emitter.on("destroy",()=>{this._clean()}),this.body.emitter.on("_dataChanged",te(s=this._restore).call(s,this)),this.body.emitter.on("_resetData",te(a=this._restore).call(a,this))}_restore(){this.inMode!==!1&&(this.options.initiallyActive===!0?this.enableEditMode():this.disableEditMode())}setOptions(e,r,n){r!==void 0&&(r.locale!==void 0?this.options.locale=r.locale:this.options.locale=n.locale,r.locales!==void 0?this.options.locales=r.locales:this.options.locales=n.locales),e!==void 0&&(typeof e=="boolean"?this.options.enabled=e:(this.options.enabled=!0,ht(this.options,e)),this.options.initiallyActive===!0&&(this.editMode=!0),this._setup())}toggleEditMode(){this.editMode===!0?this.disableEditMode():this.enableEditMode()}enableEditMode(){this.editMode=!0,this._clean(),this.guiEnabled===!0&&(this.manipulationDiv.style.display="block",this.closeDiv.style.display="block",this.editModeDiv.style.display="none",this.showManipulatorToolbar())}disableEditMode(){this.editMode=!1,this._clean(),this.guiEnabled===!0&&(this.manipulationDiv.style.display="none",this.closeDiv.style.display="none",this.editModeDiv.style.display="block",this._createEditButton())}showManipulatorToolbar(){if(this._clean(),this.manipulationDOM={},this.guiEnabled===!0){var e,r;this.editMode=!0,this.manipulationDiv.style.display="block",this.closeDiv.style.display="block";const n=this.selectionHandler.getSelectedNodeCount(),i=this.selectionHandler.getSelectedEdgeCount(),s=n+i,a=this.options.locales[this.options.locale];let o=!1;this.options.addNode!==!1&&(this._createAddNodeButton(a),o=!0),this.options.addEdge!==!1&&(o===!0?this._createSeperator(1):o=!0,this._createAddEdgeButton(a)),n===1&&typeof this.options.editNode=="function"?(o===!0?this._createSeperator(2):o=!0,this._createEditNodeButton(a)):i===1&&n===0&&this.options.editEdge!==!1&&(o===!0?this._createSeperator(3):o=!0,this._createEditEdgeButton(a)),s!==0&&(n>0&&this.options.deleteNode!==!1?(o===!0&&this._createSeperator(4),this._createDeleteButton(a)):n===0&&this.options.deleteEdge!==!1&&(o===!0&&this._createSeperator(4),this._createDeleteButton(a))),this._bindElementEvents(this.closeDiv,te(e=this.toggleEditMode).call(e,this)),this._temporaryBindEvent("select",te(r=this.showManipulatorToolbar).call(r,this))}this.body.emitter.emit("_redraw")}addNodeMode(){var e;if(this.editMode!==!0&&this.enableEditMode(),this._clean(),this.inMode="addNode",this.guiEnabled===!0){var r;const n=this.options.locales[this.options.locale];this.manipulationDOM={},this._createBackButton(n),this._createSeperator(),this._createDescription(n.addDescription||this.options.locales.en.addDescription),this._bindElementEvents(this.closeDiv,te(r=this.toggleEditMode).call(r,this))}this._temporaryBindEvent("click",te(e=this._performAddNode).call(e,this))}editNode(){this.editMode!==!0&&this.enableEditMode(),this._clean();const e=this.selectionHandler.getSelectedNodes()[0];if(e!==void 0)if(this.inMode="editNode",typeof this.options.editNode=="function")if(e.isCluster!==!0){const r=ht({},e.options,!1);if(r.x=e.x,r.y=e.y,this.options.editNode.length===2)this.options.editNode(r,n=>{n!=null&&this.inMode==="editNode"&&this.body.data.nodes.getDataSet().update(n),this.showManipulatorToolbar()});else throw new Error("The function for edit does not support two arguments (data, callback)")}else alert(this.options.locales[this.options.locale].editClusterError||this.options.locales.en.editClusterError);else throw new Error("No function has been configured to handle the editing of nodes.");else this.showManipulatorToolbar()}addEdgeMode(){var e,r,n,i,s;if(this.editMode!==!0&&this.enableEditMode(),this._clean(),this.inMode="addEdge",this.guiEnabled===!0){var a;const o=this.options.locales[this.options.locale];this.manipulationDOM={},this._createBackButton(o),this._createSeperator(),this._createDescription(o.edgeDescription||this.options.locales.en.edgeDescription),this._bindElementEvents(this.closeDiv,te(a=this.toggleEditMode).call(a,this))}this._temporaryBindUI("onTouch",te(e=this._handleConnect).call(e,this)),this._temporaryBindUI("onDragEnd",te(r=this._finishConnect).call(r,this)),this._temporaryBindUI("onDrag",te(n=this._dragControlNode).call(n,this)),this._temporaryBindUI("onRelease",te(i=this._finishConnect).call(i,this)),this._temporaryBindUI("onDragStart",te(s=this._dragStartEdge).call(s,this)),this._temporaryBindUI("onHold",()=>{})}editEdgeMode(){if(this.editMode!==!0&&this.enableEditMode(),this._clean(),this.inMode="editEdge",typeof this.options.editEdge=="object"&&typeof this.options.editEdge.editWithoutDrag=="function"&&(this.edgeBeingEditedId=this.selectionHandler.getSelectedEdgeIds()[0],this.edgeBeingEditedId!==void 0)){const a=this.body.edges[this.edgeBeingEditedId];this._performEditEdge(a.from.id,a.to.id);return}if(this.guiEnabled===!0){var e;const a=this.options.locales[this.options.locale];this.manipulationDOM={},this._createBackButton(a),this._createSeperator(),this._createDescription(a.editEdgeDescription||this.options.locales.en.editEdgeDescription),this._bindElementEvents(this.closeDiv,te(e=this.toggleEditMode).call(e,this))}if(this.edgeBeingEditedId=this.selectionHandler.getSelectedEdgeIds()[0],this.edgeBeingEditedId!==void 0){var r,n,i,s;const a=this.body.edges[this.edgeBeingEditedId],o=this._getNewTargetNode(a.from.x,a.from.y),l=this._getNewTargetNode(a.to.x,a.to.y);this.temporaryIds.nodes.push(o.id),this.temporaryIds.nodes.push(l.id),this.body.nodes[o.id]=o,this.body.nodeIndices.push(o.id),this.body.nodes[l.id]=l,this.body.nodeIndices.push(l.id),this._temporaryBindUI("onTouch",te(r=this._controlNodeTouch).call(r,this)),this._temporaryBindUI("onTap",()=>{}),this._temporaryBindUI("onHold",()=>{}),this._temporaryBindUI("onDragStart",te(n=this._controlNodeDragStart).call(n,this)),this._temporaryBindUI("onDrag",te(i=this._controlNodeDrag).call(i,this)),this._temporaryBindUI("onDragEnd",te(s=this._controlNodeDragEnd).call(s,this)),this._temporaryBindUI("onMouseMove",()=>{}),this._temporaryBindEvent("beforeDrawing",c=>{const d=a.edgeType.findBorderPositions(c);o.selected===!1&&(o.x=d.from.x,o.y=d.from.y),l.selected===!1&&(l.x=d.to.x,l.y=d.to.y)}),this.body.emitter.emit("_redraw")}else this.showManipulatorToolbar()}deleteSelected(){this.editMode!==!0&&this.enableEditMode(),this._clean(),this.inMode="delete";const e=this.selectionHandler.getSelectedNodeIds(),r=this.selectionHandler.getSelectedEdgeIds();let n;if(e.length>0){for(let i=0;i<e.length;i++)if(this.body.nodes[e[i]].isCluster===!0){alert(this.options.locales[this.options.locale].deleteClusterError||this.options.locales.en.deleteClusterError);return}typeof this.options.deleteNode=="function"&&(n=this.options.deleteNode)}else r.length>0&&typeof this.options.deleteEdge=="function"&&(n=this.options.deleteEdge);if(typeof n=="function"){const i={nodes:e,edges:r};if(n.length===2)n(i,s=>{s!=null&&this.inMode==="delete"?(this.body.data.edges.getDataSet().remove(s.edges),this.body.data.nodes.getDataSet().remove(s.nodes),this.body.emitter.emit("startSimulation"),this.showManipulatorToolbar()):(this.body.emitter.emit("startSimulation"),this.showManipulatorToolbar())});else throw new Error("The function for delete does not support two arguments (data, callback)")}else this.body.data.edges.getDataSet().remove(r),this.body.data.nodes.getDataSet().remove(e),this.body.emitter.emit("startSimulation"),this.showManipulatorToolbar()}_setup(){this.options.enabled===!0?(this.guiEnabled=!0,this._createWrappers(),this.editMode===!1?this._createEditButton():this.showManipulatorToolbar()):(this._removeManipulationDOM(),this.guiEnabled=!1)}_createWrappers(){if(this.manipulationDiv===void 0&&(this.manipulationDiv=document.createElement("div"),this.manipulationDiv.className="vis-manipulation",this.editMode===!0?this.manipulationDiv.style.display="block":this.manipulationDiv.style.display="none",this.canvas.frame.appendChild(this.manipulationDiv)),this.editModeDiv===void 0&&(this.editModeDiv=document.createElement("div"),this.editModeDiv.className="vis-edit-mode",this.editMode===!0?this.editModeDiv.style.display="none":this.editModeDiv.style.display="block",this.canvas.frame.appendChild(this.editModeDiv)),this.closeDiv===void 0){var e,r;this.closeDiv=document.createElement("button"),this.closeDiv.className="vis-close",this.closeDiv.setAttribute("aria-label",(e=(r=this.options.locales[this.options.locale])===null||r===void 0?void 0:r.close)!==null&&e!==void 0?e:this.options.locales.en.close),this.closeDiv.style.display=this.manipulationDiv.style.display,this.canvas.frame.appendChild(this.closeDiv)}}_getNewTargetNode(e,r){const n=ht({},this.options.controlNodeStyle);n.id="targetNode"+ed(),n.hidden=!1,n.physics=!1,n.x=e,n.y=r;const i=this.body.functions.createNode(n);return i.shape.boundingBox={left:e,right:e,top:r,bottom:r},i}_createEditButton(){var e;this._clean(),this.manipulationDOM={},Ds(this.editModeDiv);const r=this.options.locales[this.options.locale],n=this._createButton("editMode","vis-edit vis-edit-mode",r.edit||this.options.locales.en.edit);this.editModeDiv.appendChild(n),this._bindElementEvents(n,te(e=this.toggleEditMode).call(e,this))}_clean(){this.inMode=!1,this.guiEnabled===!0&&(Ds(this.editModeDiv),Ds(this.manipulationDiv),this._cleanupDOMEventListeners()),this._cleanupTemporaryNodesAndEdges(),this._unbindTemporaryUIs(),this._unbindTemporaryEvents(),this.body.emitter.emit("restorePhysics")}_cleanupDOMEventListeners(){for(const r of os(e=this._domEventListenerCleanupQueue).call(e,0)){var e;r()}}_removeManipulationDOM(){this._clean(),Ds(this.manipulationDiv),Ds(this.editModeDiv),Ds(this.closeDiv),this.manipulationDiv&&this.canvas.frame.removeChild(this.manipulationDiv),this.editModeDiv&&this.canvas.frame.removeChild(this.editModeDiv),this.closeDiv&&this.canvas.frame.removeChild(this.closeDiv),this.manipulationDiv=void 0,this.editModeDiv=void 0,this.closeDiv=void 0}_createSeperator(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1;this.manipulationDOM["seperatorLineDiv"+e]=document.createElement("div"),this.manipulationDOM["seperatorLineDiv"+e].className="vis-separator-line",this.manipulationDiv.appendChild(this.manipulationDOM["seperatorLineDiv"+e])}_createAddNodeButton(e){var r;const n=this._createButton("addNode","vis-add",e.addNode||this.options.locales.en.addNode);this.manipulationDiv.appendChild(n),this._bindElementEvents(n,te(r=this.addNodeMode).call(r,this))}_createAddEdgeButton(e){var r;const n=this._createButton("addEdge","vis-connect",e.addEdge||this.options.locales.en.addEdge);this.manipulationDiv.appendChild(n),this._bindElementEvents(n,te(r=this.addEdgeMode).call(r,this))}_createEditNodeButton(e){var r;const n=this._createButton("editNode","vis-edit",e.editNode||this.options.locales.en.editNode);this.manipulationDiv.appendChild(n),this._bindElementEvents(n,te(r=this.editNode).call(r,this))}_createEditEdgeButton(e){var r;const n=this._createButton("editEdge","vis-edit",e.editEdge||this.options.locales.en.editEdge);this.manipulationDiv.appendChild(n),this._bindElementEvents(n,te(r=this.editEdgeMode).call(r,this))}_createDeleteButton(e){var r;let n;this.options.rtl?n="vis-delete-rtl":n="vis-delete";const i=this._createButton("delete",n,e.del||this.options.locales.en.del);this.manipulationDiv.appendChild(i),this._bindElementEvents(i,te(r=this.deleteSelected).call(r,this))}_createBackButton(e){var r;const n=this._createButton("back","vis-back",e.back||this.options.locales.en.back);this.manipulationDiv.appendChild(n),this._bindElementEvents(n,te(r=this.showManipulatorToolbar).call(r,this))}_createButton(e,r,n){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"vis-label";return this.manipulationDOM[e+"Div"]=document.createElement("button"),this.manipulationDOM[e+"Div"].className="vis-button "+r,this.manipulationDOM[e+"Label"]=document.createElement("div"),this.manipulationDOM[e+"Label"].className=i,this.manipulationDOM[e+"Label"].innerText=n,this.manipulationDOM[e+"Div"].appendChild(this.manipulationDOM[e+"Label"]),this.manipulationDOM[e+"Div"]}_createDescription(e){this.manipulationDOM.descriptionLabel=document.createElement("div"),this.manipulationDOM.descriptionLabel.className="vis-none",this.manipulationDOM.descriptionLabel.innerText=e,this.manipulationDiv.appendChild(this.manipulationDOM.descriptionLabel)}_temporaryBindEvent(e,r){this.temporaryEventFunctions.push({event:e,boundFunction:r}),this.body.emitter.on(e,r)}_temporaryBindUI(e,r){if(this.body.eventListeners[e]!==void 0)this.temporaryUIFunctions[e]=this.body.eventListeners[e],this.body.eventListeners[e]=r;else throw new Error("This UI function does not exist. Typo? You tried: "+e+" possible are: "+Th(Rt(this.body.eventListeners)))}_unbindTemporaryUIs(){for(const e in this.temporaryUIFunctions)Object.prototype.hasOwnProperty.call(this.temporaryUIFunctions,e)&&(this.body.eventListeners[e]=this.temporaryUIFunctions[e],delete this.temporaryUIFunctions[e]);this.temporaryUIFunctions={}}_unbindTemporaryEvents(){for(let e=0;e<this.temporaryEventFunctions.length;e++){const r=this.temporaryEventFunctions[e].event,n=this.temporaryEventFunctions[e].boundFunction;this.body.emitter.off(r,n)}this.temporaryEventFunctions=[]}_bindElementEvents(e,r){const n=new Bl(e,{});qp(n,r),this._domEventListenerCleanupQueue.push(()=>{n.destroy()});const i=s=>{let{keyCode:a,key:o}=s;(o==="Enter"||o===" "||a===13||a===32)&&r()};e.addEventListener("keyup",i,!1),this._domEventListenerCleanupQueue.push(()=>{e.removeEventListener("keyup",i,!1)})}_cleanupTemporaryNodesAndEdges(){for(let s=0;s<this.temporaryIds.edges.length;s++){var e;this.body.edges[this.temporaryIds.edges[s]].disconnect(),delete this.body.edges[this.temporaryIds.edges[s]];const a=Ze(e=this.body.edgeIndices).call(e,this.temporaryIds.edges[s]);if(a!==-1){var r;os(r=this.body.edgeIndices).call(r,a,1)}}for(let s=0;s<this.temporaryIds.nodes.length;s++){var n;delete this.body.nodes[this.temporaryIds.nodes[s]];const a=Ze(n=this.body.nodeIndices).call(n,this.temporaryIds.nodes[s]);if(a!==-1){var i;os(i=this.body.nodeIndices).call(i,a,1)}}this.temporaryIds={nodes:[],edges:[]}}_controlNodeTouch(e){this.selectionHandler.unselectAll(),this.lastTouch=this.body.functions.getPointer(e.center),this.lastTouch.translation=Vt({},this.body.view.translation)}_controlNodeDragStart(){const e=this.lastTouch,r=this.selectionHandler._pointerToPositionObject(e),n=this.body.nodes[this.temporaryIds.nodes[0]],i=this.body.nodes[this.temporaryIds.nodes[1]],s=this.body.edges[this.edgeBeingEditedId];this.selectedControlNode=void 0;const a=n.isOverlappingWith(r),o=i.isOverlappingWith(r);a===!0?(this.selectedControlNode=n,s.edgeType.from=n):o===!0&&(this.selectedControlNode=i,s.edgeType.to=i),this.selectedControlNode!==void 0&&this.selectionHandler.selectObject(this.selectedControlNode),this.body.emitter.emit("_redraw")}_controlNodeDrag(e){this.body.emitter.emit("disablePhysics");const r=this.body.functions.getPointer(e.center),n=this.canvas.DOMtoCanvas(r);this.selectedControlNode!==void 0?(this.selectedControlNode.x=n.x,this.selectedControlNode.y=n.y):this.interactionHandler.onDrag(e),this.body.emitter.emit("_redraw")}_controlNodeDragEnd(e){const r=this.body.functions.getPointer(e.center),n=this.selectionHandler._pointerToPositionObject(r),i=this.body.edges[this.edgeBeingEditedId];if(this.selectedControlNode===void 0)return;this.selectionHandler.unselectAll();const s=this.selectionHandler._getAllNodesOverlappingWith(n);let a;for(let o=s.length-1;o>=0;o--)if(s[o]!==this.selectedControlNode.id){a=this.body.nodes[s[o]];break}if(a!==void 0&&this.selectedControlNode!==void 0)if(a.isCluster===!0)alert(this.options.locales[this.options.locale].createEdgeError||this.options.locales.en.createEdgeError);else{const o=this.body.nodes[this.temporaryIds.nodes[0]];this.selectedControlNode.id===o.id?this._performEditEdge(a.id,i.to.id):this._performEditEdge(i.from.id,a.id)}else i.updateEdgeType(),this.body.emitter.emit("restorePhysics");this.body.emitter.emit("_redraw")}_handleConnect(e){if(new Date().valueOf()-this.touchTime>100){this.lastTouch=this.body.functions.getPointer(e.center),this.lastTouch.translation=Vt({},this.body.view.translation),this.interactionHandler.drag.pointer=this.lastTouch,this.interactionHandler.drag.translation=this.lastTouch.translation;const r=this.lastTouch,n=this.selectionHandler.getNodeAt(r);if(n!==void 0)if(n.isCluster===!0)alert(this.options.locales[this.options.locale].createEdgeError||this.options.locales.en.createEdgeError);else{const i=this._getNewTargetNode(n.x,n.y);this.body.nodes[i.id]=i,this.body.nodeIndices.push(i.id);const s=this.body.functions.createEdge({id:"connectionEdge"+ed(),from:n.id,to:i.id,physics:!1,smooth:{enabled:!0,type:"continuous",roundness:.5}});this.body.edges[s.id]=s,this.body.edgeIndices.push(s.id),this.temporaryIds.nodes.push(i.id),this.temporaryIds.edges.push(s.id)}this.touchTime=new Date().valueOf()}}_dragControlNode(e){const r=this.body.functions.getPointer(e.center),n=this.selectionHandler._pointerToPositionObject(r);let i;this.temporaryIds.edges[0]!==void 0&&(i=this.body.edges[this.temporaryIds.edges[0]].fromId);const s=this.selectionHandler._getAllNodesOverlappingWith(n);let a;for(let l=s.length-1;l>=0;l--){var o;if(Ze(o=this.temporaryIds.nodes).call(o,s[l])===-1){a=this.body.nodes[s[l]];break}}if(e.controlEdge={from:i,to:a?a.id:void 0},this.selectionHandler.generateClickEvent("controlNodeDragging",e,r),this.temporaryIds.nodes[0]!==void 0){const l=this.body.nodes[this.temporaryIds.nodes[0]];l.x=this.canvas._XconvertDOMtoCanvas(r.x),l.y=this.canvas._YconvertDOMtoCanvas(r.y),this.body.emitter.emit("_redraw")}else this.interactionHandler.onDrag(e)}_finishConnect(e){const r=this.body.functions.getPointer(e.center),n=this.selectionHandler._pointerToPositionObject(r);let i;this.temporaryIds.edges[0]!==void 0&&(i=this.body.edges[this.temporaryIds.edges[0]].fromId);const s=this.selectionHandler._getAllNodesOverlappingWith(n);let a;for(let l=s.length-1;l>=0;l--){var o;if(Ze(o=this.temporaryIds.nodes).call(o,s[l])===-1){a=this.body.nodes[s[l]];break}}this._cleanupTemporaryNodesAndEdges(),a!==void 0&&(a.isCluster===!0?alert(this.options.locales[this.options.locale].createEdgeError||this.options.locales.en.createEdgeError):this.body.nodes[i]!==void 0&&this.body.nodes[a.id]!==void 0&&this._performAddEdge(i,a.id)),e.controlEdge={from:i,to:a?a.id:void 0},this.selectionHandler.generateClickEvent("controlNodeDragEnd",e,r),this.body.emitter.emit("_redraw")}_dragStartEdge(e){const r=this.lastTouch;this.selectionHandler.generateClickEvent("dragStart",e,r,void 0,!0)}_performAddNode(e){const r={id:ed(),x:e.pointer.canvas.x,y:e.pointer.canvas.y,label:"new"};if(typeof this.options.addNode=="function")if(this.options.addNode.length===2)this.options.addNode(r,n=>{n!=null&&this.inMode==="addNode"&&this.body.data.nodes.getDataSet().add(n),this.showManipulatorToolbar()});else throw this.showManipulatorToolbar(),new Error("The function for add does not support two arguments (data,callback)");else this.body.data.nodes.getDataSet().add(r),this.showManipulatorToolbar()}_performAddEdge(e,r){const n={from:e,to:r};if(typeof this.options.addEdge=="function")if(this.options.addEdge.length===2)this.options.addEdge(n,i=>{i!=null&&this.inMode==="addEdge"&&(this.body.data.edges.getDataSet().add(i),this.selectionHandler.unselectAll(),this.showManipulatorToolbar())});else throw new Error("The function for connect does not support two arguments (data,callback)");else this.body.data.edges.getDataSet().add(n),this.selectionHandler.unselectAll(),this.showManipulatorToolbar()}_performEditEdge(e,r){const n={id:this.edgeBeingEditedId,from:e,to:r,label:this.body.data.edges.get(this.edgeBeingEditedId).label};let i=this.options.editEdge;if(typeof i=="object"&&(i=i.editWithoutDrag),typeof i=="function")if(i.length===2)i(n,s=>{s==null||this.inMode!=="editEdge"?(this.body.edges[n.id].updateEdgeType(),this.body.emitter.emit("_redraw"),this.showManipulatorToolbar()):(this.body.data.edges.getDataSet().update(s),this.selectionHandler.unselectAll(),this.showManipulatorToolbar())});else throw new Error("The function for edit does not support two arguments (data, callback)");else this.body.data.edges.getDataSet().update(n),this.selectionHandler.unselectAll(),this.showManipulatorToolbar()}}const ie="string",ee="boolean",B="number",qc="array",_e="object",LQ="dom",exe="any",eN=["arrow","bar","box","circle","crow","curve","diamond","image","inv_curve","inv_triangle","triangle","vee"],tN={borderWidth:{number:B},borderWidthSelected:{number:B,undefined:"undefined"},brokenImage:{string:ie,undefined:"undefined"},chosen:{label:{boolean:ee,function:"function"},node:{boolean:ee,function:"function"},__type__:{object:_e,boolean:ee}},color:{border:{string:ie},background:{string:ie},highlight:{border:{string:ie},background:{string:ie},__type__:{object:_e,string:ie}},hover:{border:{string:ie},background:{string:ie},__type__:{object:_e,string:ie}},__type__:{object:_e,string:ie}},opacity:{number:B,undefined:"undefined"},fixed:{x:{boolean:ee},y:{boolean:ee},__type__:{object:_e,boolean:ee}},font:{align:{string:ie},color:{string:ie},size:{number:B},face:{string:ie},background:{string:ie},strokeWidth:{number:B},strokeColor:{string:ie},vadjust:{number:B},multi:{boolean:ee,string:ie},bold:{color:{string:ie},size:{number:B},face:{string:ie},mod:{string:ie},vadjust:{number:B},__type__:{object:_e,string:ie}},boldital:{color:{string:ie},size:{number:B},face:{string:ie},mod:{string:ie},vadjust:{number:B},__type__:{object:_e,string:ie}},ital:{color:{string:ie},size:{number:B},face:{string:ie},mod:{string:ie},vadjust:{number:B},__type__:{object:_e,string:ie}},mono:{color:{string:ie},size:{number:B},face:{string:ie},mod:{string:ie},vadjust:{number:B},__type__:{object:_e,string:ie}},__type__:{object:_e,string:ie}},group:{string:ie,number:B,undefined:"undefined"},heightConstraint:{minimum:{number:B},valign:{string:ie},__type__:{object:_e,boolean:ee,number:B}},hidden:{boolean:ee},icon:{face:{string:ie},code:{string:ie},size:{number:B},color:{string:ie},weight:{string:ie,number:B},__type__:{object:_e}},id:{string:ie,number:B},image:{selected:{string:ie,undefined:"undefined"},unselected:{string:ie,undefined:"undefined"},__type__:{object:_e,string:ie}},imagePadding:{top:{number:B},right:{number:B},bottom:{number:B},left:{number:B},__type__:{object:_e,number:B}},label:{string:ie,undefined:"undefined"},labelHighlightBold:{boolean:ee},level:{number:B,undefined:"undefined"},margin:{top:{number:B},right:{number:B},bottom:{number:B},left:{number:B},__type__:{object:_e,number:B}},mass:{number:B},physics:{boolean:ee},scaling:{min:{number:B},max:{number:B},label:{enabled:{boolean:ee},min:{number:B},max:{number:B},maxVisible:{number:B},drawThreshold:{number:B},__type__:{object:_e,boolean:ee}},customScalingFunction:{function:"function"},__type__:{object:_e}},shadow:{enabled:{boolean:ee},color:{string:ie},size:{number:B},x:{number:B},y:{number:B},__type__:{object:_e,boolean:ee}},shape:{string:["custom","ellipse","circle","database","box","text","image","circularImage","diamond","dot","star","triangle","triangleDown","square","icon","hexagon"]},ctxRenderer:{function:"function"},shapeProperties:{borderDashes:{boolean:ee,array:qc},borderRadius:{number:B},interpolation:{boolean:ee},useImageSize:{boolean:ee},useBorderWithImage:{boolean:ee},coordinateOrigin:{string:["center","top-left"]},__type__:{object:_e}},size:{number:B},title:{string:ie,dom:LQ,undefined:"undefined"},value:{number:B,undefined:"undefined"},widthConstraint:{minimum:{number:B},maximum:{number:B},__type__:{object:_e,boolean:ee,number:B}},x:{number:B},y:{number:B},__type__:{object:_e}},txe={configure:{enabled:{boolean:ee},filter:{boolean:ee,string:ie,array:qc,function:"function"},container:{dom:LQ},showButton:{boolean:ee},__type__:{object:_e,boolean:ee,string:ie,array:qc,function:"function"}},edges:{arrows:{to:{enabled:{boolean:ee},scaleFactor:{number:B},type:{string:eN},imageHeight:{number:B},imageWidth:{number:B},src:{string:ie},__type__:{object:_e,boolean:ee}},middle:{enabled:{boolean:ee},scaleFactor:{number:B},type:{string:eN},imageWidth:{number:B},imageHeight:{number:B},src:{string:ie},__type__:{object:_e,boolean:ee}},from:{enabled:{boolean:ee},scaleFactor:{number:B},type:{string:eN},imageWidth:{number:B},imageHeight:{number:B},src:{string:ie},__type__:{object:_e,boolean:ee}},__type__:{string:["from","to","middle"],object:_e}},endPointOffset:{from:{number:B},to:{number:B},__type__:{object:_e,number:B}},arrowStrikethrough:{boolean:ee},background:{enabled:{boolean:ee},color:{string:ie},size:{number:B},dashes:{boolean:ee,array:qc},__type__:{object:_e,boolean:ee}},chosen:{label:{boolean:ee,function:"function"},edge:{boolean:ee,function:"function"},__type__:{object:_e,boolean:ee}},color:{color:{string:ie},highlight:{string:ie},hover:{string:ie},inherit:{string:["from","to","both"],boolean:ee},opacity:{number:B},__type__:{object:_e,string:ie}},dashes:{boolean:ee,array:qc},font:{color:{string:ie},size:{number:B},face:{string:ie},background:{string:ie},strokeWidth:{number:B},strokeColor:{string:ie},align:{string:["horizontal","top","middle","bottom"]},vadjust:{number:B},multi:{boolean:ee,string:ie},bold:{color:{string:ie},size:{number:B},face:{string:ie},mod:{string:ie},vadjust:{number:B},__type__:{object:_e,string:ie}},boldital:{color:{string:ie},size:{number:B},face:{string:ie},mod:{string:ie},vadjust:{number:B},__type__:{object:_e,string:ie}},ital:{color:{string:ie},size:{number:B},face:{string:ie},mod:{string:ie},vadjust:{number:B},__type__:{object:_e,string:ie}},mono:{color:{string:ie},size:{number:B},face:{string:ie},mod:{string:ie},vadjust:{number:B},__type__:{object:_e,string:ie}},__type__:{object:_e,string:ie}},hidden:{boolean:ee},hoverWidth:{function:"function",number:B},label:{string:ie,undefined:"undefined"},labelHighlightBold:{boolean:ee},length:{number:B,undefined:"undefined"},physics:{boolean:ee},scaling:{min:{number:B},max:{number:B},label:{enabled:{boolean:ee},min:{number:B},max:{number:B},maxVisible:{number:B},drawThreshold:{number:B},__type__:{object:_e,boolean:ee}},customScalingFunction:{function:"function"},__type__:{object:_e}},selectionWidth:{function:"function",number:B},selfReferenceSize:{number:B},selfReference:{size:{number:B},angle:{number:B},renderBehindTheNode:{boolean:ee},__type__:{object:_e}},shadow:{enabled:{boolean:ee},color:{string:ie},size:{number:B},x:{number:B},y:{number:B},__type__:{object:_e,boolean:ee}},smooth:{enabled:{boolean:ee},type:{string:["dynamic","continuous","discrete","diagonalCross","straightCross","horizontal","vertical","curvedCW","curvedCCW","cubicBezier"]},roundness:{number:B},forceDirection:{string:["horizontal","vertical","none"],boolean:ee},__type__:{object:_e,boolean:ee}},title:{string:ie,undefined:"undefined"},width:{number:B},widthConstraint:{maximum:{number:B},__type__:{object:_e,boolean:ee,number:B}},value:{number:B,undefined:"undefined"},__type__:{object:_e}},groups:{useDefaultGroups:{boolean:ee},__any__:tN,__type__:{object:_e}},interaction:{dragNodes:{boolean:ee},dragView:{boolean:ee},hideEdgesOnDrag:{boolean:ee},hideEdgesOnZoom:{boolean:ee},hideNodesOnDrag:{boolean:ee},hover:{boolean:ee},keyboard:{enabled:{boolean:ee},speed:{x:{number:B},y:{number:B},zoom:{number:B},__type__:{object:_e}},bindToWindow:{boolean:ee},autoFocus:{boolean:ee},__type__:{object:_e,boolean:ee}},multiselect:{boolean:ee},navigationButtons:{boolean:ee},selectable:{boolean:ee},selectConnectedEdges:{boolean:ee},hoverConnectedEdges:{boolean:ee},tooltipDelay:{number:B},zoomView:{boolean:ee},zoomSpeed:{number:B},__type__:{object:_e}},layout:{randomSeed:{undefined:"undefined",number:B,string:ie},improvedLayout:{boolean:ee},clusterThreshold:{number:B},hierarchical:{enabled:{boolean:ee},levelSeparation:{number:B},nodeSpacing:{number:B},treeSpacing:{number:B},blockShifting:{boolean:ee},edgeMinimization:{boolean:ee},parentCentralization:{boolean:ee},direction:{string:["UD","DU","LR","RL"]},sortMethod:{string:["hubsize","directed"]},shakeTowards:{string:["leaves","roots"]},__type__:{object:_e,boolean:ee}},__type__:{object:_e}},manipulation:{enabled:{boolean:ee},initiallyActive:{boolean:ee},addNode:{boolean:ee,function:"function"},addEdge:{boolean:ee,function:"function"},editNode:{function:"function"},editEdge:{editWithoutDrag:{function:"function"},__type__:{object:_e,boolean:ee,function:"function"}},deleteNode:{boolean:ee,function:"function"},deleteEdge:{boolean:ee,function:"function"},controlNodeStyle:tN,__type__:{object:_e,boolean:ee}},nodes:tN,physics:{enabled:{boolean:ee},barnesHut:{theta:{number:B},gravitationalConstant:{number:B},centralGravity:{number:B},springLength:{number:B},springConstant:{number:B},damping:{number:B},avoidOverlap:{number:B},__type__:{object:_e}},forceAtlas2Based:{theta:{number:B},gravitationalConstant:{number:B},centralGravity:{number:B},springLength:{number:B},springConstant:{number:B},damping:{number:B},avoidOverlap:{number:B},__type__:{object:_e}},repulsion:{centralGravity:{number:B},springLength:{number:B},springConstant:{number:B},nodeDistance:{number:B},damping:{number:B},__type__:{object:_e}},hierarchicalRepulsion:{centralGravity:{number:B},springLength:{number:B},springConstant:{number:B},nodeDistance:{number:B},damping:{number:B},avoidOverlap:{number:B},__type__:{object:_e}},maxVelocity:{number:B},minVelocity:{number:B},solver:{string:["barnesHut","repulsion","hierarchicalRepulsion","forceAtlas2Based"]},stabilization:{enabled:{boolean:ee},iterations:{number:B},updateInterval:{number:B},onlyDynamicEdges:{boolean:ee},fit:{boolean:ee},__type__:{object:_e,boolean:ee}},timestep:{number:B},adaptiveTimestep:{boolean:ee},wind:{x:{number:B},y:{number:B},__type__:{object:_e}},__type__:{object:_e,boolean:ee}},autoResize:{boolean:ee},clickToUse:{boolean:ee},locale:{string:ie},locales:{__any__:{any:exe},__type__:{object:_e}},height:{string:ie},width:{string:ie},__type__:{object:_e}},BQ={nodes:{borderWidth:[1,0,10,1],borderWidthSelected:[2,0,10,1],color:{border:["color","#2B7CE9"],background:["color","#97C2FC"],highlight:{border:["color","#2B7CE9"],background:["color","#D2E5FF"]},hover:{border:["color","#2B7CE9"],background:["color","#D2E5FF"]}},opacity:[0,0,1,.1],fixed:{x:!1,y:!1},font:{color:["color","#343434"],size:[14,0,100,1],face:["arial","verdana","tahoma"],background:["color","none"],strokeWidth:[0,0,50,1],strokeColor:["color","#ffffff"]},hidden:!1,labelHighlightBold:!0,physics:!0,scaling:{min:[10,0,200,1],max:[30,0,200,1],label:{enabled:!1,min:[14,0,200,1],max:[30,0,200,1],maxVisible:[30,0,200,1],drawThreshold:[5,0,20,1]}},shadow:{enabled:!1,color:"rgba(0,0,0,0.5)",size:[10,0,20,1],x:[5,-30,30,1],y:[5,-30,30,1]},shape:["ellipse","box","circle","database","diamond","dot","square","star","text","triangle","triangleDown","hexagon"],shapeProperties:{borderDashes:!1,borderRadius:[6,0,20,1],interpolation:!0,useImageSize:!1},size:[25,0,200,1]},edges:{arrows:{to:{enabled:!1,scaleFactor:[1,0,3,.05],type:"arrow"},middle:{enabled:!1,scaleFactor:[1,0,3,.05],type:"arrow"},from:{enabled:!1,scaleFactor:[1,0,3,.05],type:"arrow"}},endPointOffset:{from:[0,-10,10,1],to:[0,-10,10,1]},arrowStrikethrough:!0,color:{color:["color","#848484"],highlight:["color","#848484"],hover:["color","#848484"],inherit:["from","to","both",!0,!1],opacity:[1,0,1,.05]},dashes:!1,font:{color:["color","#343434"],size:[14,0,100,1],face:["arial","verdana","tahoma"],background:["color","none"],strokeWidth:[2,0,50,1],strokeColor:["color","#ffffff"],align:["horizontal","top","middle","bottom"]},hidden:!1,hoverWidth:[1.5,0,5,.1],labelHighlightBold:!0,physics:!0,scaling:{min:[1,0,100,1],max:[15,0,100,1],label:{enabled:!0,min:[14,0,200,1],max:[30,0,200,1],maxVisible:[30,0,200,1],drawThreshold:[5,0,20,1]}},selectionWidth:[1.5,0,5,.1],selfReferenceSize:[20,0,200,1],selfReference:{size:[20,0,200,1],angle:[Math.PI/2,-6*Math.PI,6*Math.PI,Math.PI/8],renderBehindTheNode:!0},shadow:{enabled:!1,color:"rgba(0,0,0,0.5)",size:[10,0,20,1],x:[5,-30,30,1],y:[5,-30,30,1]},smooth:{enabled:!0,type:["dynamic","continuous","discrete","diagonalCross","straightCross","horizontal","vertical","curvedCW","curvedCCW","cubicBezier"],forceDirection:["horizontal","vertical","none"],roundness:[.5,0,1,.05]},width:[1,0,30,1]},layout:{hierarchical:{enabled:!1,levelSeparation:[150,20,500,5],nodeSpacing:[100,20,500,5],treeSpacing:[200,20,500,5],blockShifting:!0,edgeMinimization:!0,parentCentralization:!0,direction:["UD","DU","LR","RL"],sortMethod:["hubsize","directed"],shakeTowards:["leaves","roots"]}},interaction:{dragNodes:!0,dragView:!0,hideEdgesOnDrag:!1,hideEdgesOnZoom:!1,hideNodesOnDrag:!1,hover:!1,keyboard:{enabled:!1,speed:{x:[10,0,40,1],y:[10,0,40,1],zoom:[.02,0,.1,.005]},bindToWindow:!0,autoFocus:!0},multiselect:!1,navigationButtons:!1,selectable:!0,selectConnectedEdges:!0,hoverConnectedEdges:!0,tooltipDelay:[300,0,1e3,25],zoomView:!0,zoomSpeed:[1,.1,2,.1]},manipulation:{enabled:!1,initiallyActive:!1},physics:{enabled:!0,barnesHut:{theta:[.5,.1,1,.05],gravitationalConstant:[-2e3,-3e4,0,50],centralGravity:[.3,0,10,.05],springLength:[95,0,500,5],springConstant:[.04,0,1.2,.005],damping:[.09,0,1,.01],avoidOverlap:[0,0,1,.01]},forceAtlas2Based:{theta:[.5,.1,1,.05],gravitationalConstant:[-50,-500,0,1],centralGravity:[.01,0,1,.005],springLength:[95,0,500,5],springConstant:[.08,0,1.2,.005],damping:[.4,0,1,.01],avoidOverlap:[0,0,1,.01]},repulsion:{centralGravity:[.2,0,10,.05],springLength:[200,0,500,5],springConstant:[.05,0,1.2,.005],nodeDistance:[100,0,500,5],damping:[.09,0,1,.01]},hierarchicalRepulsion:{centralGravity:[.2,0,10,.05],springLength:[100,0,500,5],springConstant:[.01,0,1.2,.005],nodeDistance:[120,0,500,5],damping:[.09,0,1,.01],avoidOverlap:[0,0,1,.01]},maxVelocity:[50,0,150,1],minVelocity:[.1,.01,.5,.01],solver:["barnesHut","forceAtlas2Based","repulsion","hierarchicalRepulsion"],timestep:[.5,.01,1,.01],wind:{x:[0,-10,10,.1],y:[0,-10,10,.1]}}},rxe=(t,e,r)=>{var n;return!!(fa(t).call(t,"physics")&&fa(n=BQ.physics.solver).call(n,e)&&r.physics.solver!==e&&e!=="wind")};class nxe{constructor(){}getDistances(e,r,n){const i={},s=e.edges;for(let o=0;o<r.length;o++){const l=r[o],c={};i[l]=c;for(let d=0;d<r.length;d++)c[r[d]]=o==d?0:1e9}for(let o=0;o<n.length;o++){const l=s[n[o]];l.connected===!0&&i[l.fromId]!==void 0&&i[l.toId]!==void 0&&(i[l.fromId][l.toId]=1,i[l.toId][l.fromId]=1)}const a=r.length;for(let o=0;o<a;o++){const l=r[o],c=i[l];for(let d=0;d<a-1;d++){const h=r[d],f=i[h];for(let p=d+1;p<a;p++){const m=r[p],y=i[m],b=Math.min(f[m],f[l]+c[m]);f[m]=b,y[h]=b}}}return i}}class ixe{constructor(e,r,n){this.body=e,this.springLength=r,this.springConstant=n,this.distanceSolver=new nxe}setOptions(e){e&&(e.springLength&&(this.springLength=e.springLength),e.springConstant&&(this.springConstant=e.springConstant))}solve(e,r){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;const i=this.distanceSolver.getDistances(this.body,e,r);this._createL_matrix(i),this._createK_matrix(i),this._createE_matrix();const s=.01,a=1;let o=0;const l=Math.max(1e3,Math.min(10*this.body.nodeIndices.length,6e3)),c=5;let d=1e9,h=0,f=0,p=0,m=0,y=0;for(;d>s&&o<l;)for(o+=1,[h,d,f,p]=this._getHighestEnergyNode(n),m=d,y=0;m>a&&y<c;)y+=1,this._moveNode(h,f,p),[m,f,p]=this._getEnergy(h)}_getHighestEnergyNode(e){const r=this.body.nodeIndices,n=this.body.nodes;let i=0,s=r[0],a=0,o=0;for(let l=0;l<r.length;l++){const c=r[l];if(n[c].predefinedPosition!==!0||n[c].isCluster===!0&&e===!0||n[c].options.fixed.x!==!0||n[c].options.fixed.y!==!0){const[d,h,f]=this._getEnergy(c);i<d&&(i=d,s=c,a=h,o=f)}}return[s,i,a,o]}_getEnergy(e){const[r,n]=this.E_sums[e];return[Math.sqrt(r**2+n**2),r,n]}_moveNode(e,r,n){const i=this.body.nodeIndices,s=this.body.nodes;let a=0,o=0,l=0;const c=s[e].x,d=s[e].y,h=this.K_matrix[e],f=this.L_matrix[e];for(let x=0;x<i.length;x++){const _=i[x];if(_!==e){const E=s[_].x,N=s[_].y,S=h[_],j=f[_],C=1/((c-E)**2+(d-N)**2)**1.5;a+=S*(1-j*(d-N)**2*C),o+=S*(j*(c-E)*(d-N)*C),l+=S*(1-j*(c-E)**2*C)}}const p=a,m=o,y=r,b=l,g=n,v=(y/p+g/m)/(m/p-b/m),w=-(m*v+y)/p;s[e].x+=w,s[e].y+=v,this._updateE_matrix(e)}_createL_matrix(e){const r=this.body.nodeIndices,n=this.springLength;this.L_matrix=[];for(let i=0;i<r.length;i++){this.L_matrix[r[i]]={};for(let s=0;s<r.length;s++)this.L_matrix[r[i]][r[s]]=n*e[r[i]][r[s]]}}_createK_matrix(e){const r=this.body.nodeIndices,n=this.springConstant;this.K_matrix=[];for(let i=0;i<r.length;i++){this.K_matrix[r[i]]={};for(let s=0;s<r.length;s++)this.K_matrix[r[i]][r[s]]=n*e[r[i]][r[s]]**-2}}_createE_matrix(){const e=this.body.nodeIndices,r=this.body.nodes;this.E_matrix={},this.E_sums={};for(let n=0;n<e.length;n++)this.E_matrix[e[n]]=[];for(let n=0;n<e.length;n++){const i=e[n],s=r[i].x,a=r[i].y;let o=0,l=0;for(let c=n;c<e.length;c++){const d=e[c];if(d!==i){const h=r[d].x,f=r[d].y,p=1/Math.sqrt((s-h)**2+(a-f)**2);this.E_matrix[i][c]=[this.K_matrix[i][d]*(s-h-this.L_matrix[i][d]*(s-h)*p),this.K_matrix[i][d]*(a-f-this.L_matrix[i][d]*(a-f)*p)],this.E_matrix[d][n]=this.E_matrix[i][c],o+=this.E_matrix[i][c][0],l+=this.E_matrix[i][c][1]}}this.E_sums[i]=[o,l]}}_updateE_matrix(e){const r=this.body.nodeIndices,n=this.body.nodes,i=this.E_matrix[e],s=this.K_matrix[e],a=this.L_matrix[e],o=n[e].x,l=n[e].y;let c=0,d=0;for(let h=0;h<r.length;h++){const f=r[h];if(f!==e){const p=i[h],m=p[0],y=p[1],b=n[f].x,g=n[f].y,v=1/Math.sqrt((o-b)**2+(l-g)**2),w=s[f]*(o-b-a[f]*(o-b)*v),x=s[f]*(l-g-a[f]*(l-g)*v);i[h]=[w,x],c+=w,d+=x;const _=this.E_sums[f];_[0]+=w-m,_[1]+=x-y}}this.E_sums[e]=[c,d]}}function be(t,e,r){var n,i,s,a;if(!(this instanceof be))throw new SyntaxError("Constructor must be called with the new operator");this.options={},this.defaultOptions={locale:"en",locales:Oge,clickToUse:!1},Vt(this.options,this.defaultOptions),this.body={container:t,nodes:{},nodeIndices:[],edges:{},edgeIndices:[],emitter:{on:te(n=this.on).call(n,this),off:te(i=this.off).call(i,this),emit:te(s=this.emit).call(s,this),once:te(a=this.once).call(a,this)},eventListeners:{onTap:function(){},onTouch:function(){},onDoubleTap:function(){},onHold:function(){},onDragStart:function(){},onDrag:function(){},onDragEnd:function(){},onMouseWheel:function(){},onPinch:function(){},onMouseMove:function(){},onRelease:function(){},onContext:function(){}},data:{nodes:null,edges:null},functions:{createNode:function(){},createEdge:function(){},getPointer:function(){}},modules:{},view:{scale:1,translation:{x:0,y:0}},selectionBox:{show:!1,position:{start:{x:0,y:0},end:{x:0,y:0}}}},this.bindEventListeners(),this.images=new Ige(()=>this.body.emitter.emit("_requestRedraw")),this.groups=new Vge,this.canvas=new Lbe(this.body),this.selectionHandler=new w1e(this.body,this.canvas),this.interactionHandler=new Wbe(this.body,this.canvas,this.selectionHandler),this.view=new zbe(this.body,this.canvas),this.renderer=new Dbe(this.body,this.canvas),this.physics=new Cbe(this.body),this.layoutEngine=new J1e(this.body),this.clustering=new kbe(this.body),this.manipulation=new Z1e(this.body,this.canvas,this.selectionHandler,this.interactionHandler),this.nodesHandler=new tbe(this.body,this.images,this.groups,this.layoutEngine),this.edgesHandler=new wbe(this.body,this.images,this.groups),this.body.modules.kamadaKawai=new ixe(this.body,150,.05),this.body.modules.clustering=this.clustering,this.canvas._create(),this.setOptions(r),this.setData(e)}gY(be.prototype);be.prototype.setOptions=function(t){if(t===null&&(t=void 0),t!==void 0){if(sge.validate(t,txe)===!0&&console.error("%cErrors have been found in the supplied options object.",hQ),uc(["locale","locales","clickToUse"],this.options,t),t.locale!==void 0&&(t.locale=Tge(t.locales||this.options.locales,t.locale)),t=this.layoutEngine.setOptions(t.layout,t),this.canvas.setOptions(t),this.groups.setOptions(t.groups),this.nodesHandler.setOptions(t.nodes),this.edgesHandler.setOptions(t.edges),this.physics.setOptions(t.physics),this.manipulation.setOptions(t.manipulation,t,this.options),this.interactionHandler.setOptions(t.interaction),this.renderer.setOptions(t.interaction),this.selectionHandler.setOptions(t.interaction),t.groups!==void 0&&this.body.emitter.emit("refreshNodes"),"configure"in t&&(this.configurator||(this.configurator=new nge(this,this.body.container,BQ,this.canvas.pixelRatio,rxe)),this.configurator.setOptions(t.configure)),this.configurator&&this.configurator.options.enabled===!0){const n={nodes:{},edges:{},layout:{},interaction:{},manipulation:{},physics:{},global:{}};ht(n.nodes,this.nodesHandler.options),ht(n.edges,this.edgesHandler.options),ht(n.layout,this.layoutEngine.options),ht(n.interaction,this.selectionHandler.options),ht(n.interaction,this.renderer.options),ht(n.interaction,this.interactionHandler.options),ht(n.manipulation,this.manipulation.options),ht(n.physics,this.physics.options),ht(n.global,this.canvas.options),ht(n.global,this.options),this.configurator.setModuleOptions(n)}t.clickToUse!==void 0?t.clickToUse===!0?this.activator===void 0&&(this.activator=new rge(this.canvas.frame),this.activator.on("change",()=>{this.body.emitter.emit("activate")})):(this.activator!==void 0&&(this.activator.destroy(),delete this.activator),this.body.emitter.emit("activate")):this.body.emitter.emit("activate"),this.canvas.setSize(),this.body.emitter.emit("startSimulation")}};be.prototype._updateVisibleIndices=function(){const t=this.body.nodes,e=this.body.edges;this.body.nodeIndices=[],this.body.edgeIndices=[];for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&!this.clustering._isClusteredNode(r)&&t[r].options.hidden===!1&&this.body.nodeIndices.push(t[r].id);for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)){const n=e[r],i=t[n.fromId],s=t[n.toId],a=i!==void 0&&s!==void 0;!this.clustering._isClusteredEdge(r)&&n.options.hidden===!1&&a&&i.options.hidden===!1&&s.options.hidden===!1&&this.body.edgeIndices.push(n.id)}};be.prototype.bindEventListeners=function(){this.body.emitter.on("_dataChanged",()=>{this.edgesHandler._updateState(),this.body.emitter.emit("_dataUpdated")}),this.body.emitter.on("_dataUpdated",()=>{this.clustering._updateState(),this._updateVisibleIndices(),this._updateValueRange(this.body.nodes),this._updateValueRange(this.body.edges),this.body.emitter.emit("startSimulation"),this.body.emitter.emit("_requestRedraw")})};be.prototype.setData=function(t){if(this.body.emitter.emit("resetPhysics"),this.body.emitter.emit("_resetData"),this.selectionHandler.unselectAll(),t&&t.dot&&(t.nodes||t.edges))throw new SyntaxError('Data must contain either parameter "dot" or  parameter pair "nodes" and "edges", but not both.');if(this.setOptions(t&&t.options),t&&t.dot){console.warn("The dot property has been deprecated. Please use the static convertDot method to convert DOT into vis.network format and use the normal data format with nodes and edges. This converter is used like this: var data = vis.network.convertDot(dotString);");const e=mge(t.dot);this.setData(e);return}else if(t&&t.gephi){console.warn("The gephi property has been deprecated. Please use the static convertGephi method to convert gephi into vis.network format and use the normal data format with nodes and edges. This converter is used like this: var data = vis.network.convertGephi(gephiJson);");const e=vge(t.gephi);this.setData(e);return}else this.nodesHandler.setData(t&&t.nodes,!0),this.edgesHandler.setData(t&&t.edges,!0);this.body.emitter.emit("_dataChanged"),this.body.emitter.emit("_dataLoaded"),this.body.emitter.emit("initPhysics")};be.prototype.destroy=function(){this.body.emitter.emit("destroy"),this.body.emitter.off(),this.off(),delete this.groups,delete this.canvas,delete this.selectionHandler,delete this.interactionHandler,delete this.view,delete this.renderer,delete this.physics,delete this.layoutEngine,delete this.clustering,delete this.manipulation,delete this.nodesHandler,delete this.edgesHandler,delete this.configurator,delete this.images;for(const t in this.body.nodes)Object.prototype.hasOwnProperty.call(this.body.nodes,t)&&delete this.body.nodes[t];for(const t in this.body.edges)Object.prototype.hasOwnProperty.call(this.body.edges,t)&&delete this.body.edges[t];Ds(this.body.container)};be.prototype._updateValueRange=function(t){let e,r,n,i=0;for(e in t)if(Object.prototype.hasOwnProperty.call(t,e)){const s=t[e].getValue();s!==void 0&&(r=r===void 0?s:Math.min(s,r),n=n===void 0?s:Math.max(s,n),i+=s)}if(r!==void 0&&n!==void 0)for(e in t)Object.prototype.hasOwnProperty.call(t,e)&&t[e].setValueRange(r,n,i)};be.prototype.isActive=function(){return!this.activator||this.activator.active};be.prototype.setSize=function(){return this.canvas.setSize.apply(this.canvas,arguments)};be.prototype.canvasToDOM=function(){return this.canvas.canvasToDOM.apply(this.canvas,arguments)};be.prototype.DOMtoCanvas=function(){return this.canvas.DOMtoCanvas.apply(this.canvas,arguments)};be.prototype.findNode=function(){return this.clustering.findNode.apply(this.clustering,arguments)};be.prototype.isCluster=function(){return this.clustering.isCluster.apply(this.clustering,arguments)};be.prototype.openCluster=function(){return this.clustering.openCluster.apply(this.clustering,arguments)};be.prototype.cluster=function(){return this.clustering.cluster.apply(this.clustering,arguments)};be.prototype.getNodesInCluster=function(){return this.clustering.getNodesInCluster.apply(this.clustering,arguments)};be.prototype.clusterByConnection=function(){return this.clustering.clusterByConnection.apply(this.clustering,arguments)};be.prototype.clusterByHubsize=function(){return this.clustering.clusterByHubsize.apply(this.clustering,arguments)};be.prototype.updateClusteredNode=function(){return this.clustering.updateClusteredNode.apply(this.clustering,arguments)};be.prototype.getClusteredEdges=function(){return this.clustering.getClusteredEdges.apply(this.clustering,arguments)};be.prototype.getBaseEdge=function(){return this.clustering.getBaseEdge.apply(this.clustering,arguments)};be.prototype.getBaseEdges=function(){return this.clustering.getBaseEdges.apply(this.clustering,arguments)};be.prototype.updateEdge=function(){return this.clustering.updateEdge.apply(this.clustering,arguments)};be.prototype.clusterOutliers=function(){return this.clustering.clusterOutliers.apply(this.clustering,arguments)};be.prototype.getSeed=function(){return this.layoutEngine.getSeed.apply(this.layoutEngine,arguments)};be.prototype.enableEditMode=function(){return this.manipulation.enableEditMode.apply(this.manipulation,arguments)};be.prototype.disableEditMode=function(){return this.manipulation.disableEditMode.apply(this.manipulation,arguments)};be.prototype.addNodeMode=function(){return this.manipulation.addNodeMode.apply(this.manipulation,arguments)};be.prototype.editNode=function(){return this.manipulation.editNode.apply(this.manipulation,arguments)};be.prototype.editNodeMode=function(){return console.warn("Deprecated: Please use editNode instead of editNodeMode."),this.manipulation.editNode.apply(this.manipulation,arguments)};be.prototype.addEdgeMode=function(){return this.manipulation.addEdgeMode.apply(this.manipulation,arguments)};be.prototype.editEdgeMode=function(){return this.manipulation.editEdgeMode.apply(this.manipulation,arguments)};be.prototype.deleteSelected=function(){return this.manipulation.deleteSelected.apply(this.manipulation,arguments)};be.prototype.getPositions=function(){return this.nodesHandler.getPositions.apply(this.nodesHandler,arguments)};be.prototype.getPosition=function(){return this.nodesHandler.getPosition.apply(this.nodesHandler,arguments)};be.prototype.storePositions=function(){return this.nodesHandler.storePositions.apply(this.nodesHandler,arguments)};be.prototype.moveNode=function(){return this.nodesHandler.moveNode.apply(this.nodesHandler,arguments)};be.prototype.getBoundingBox=function(){return this.nodesHandler.getBoundingBox.apply(this.nodesHandler,arguments)};be.prototype.getConnectedNodes=function(t){return this.body.nodes[t]!==void 0?this.nodesHandler.getConnectedNodes.apply(this.nodesHandler,arguments):this.edgesHandler.getConnectedNodes.apply(this.edgesHandler,arguments)};be.prototype.getConnectedEdges=function(){return this.nodesHandler.getConnectedEdges.apply(this.nodesHandler,arguments)};be.prototype.startSimulation=function(){return this.physics.startSimulation.apply(this.physics,arguments)};be.prototype.stopSimulation=function(){return this.physics.stopSimulation.apply(this.physics,arguments)};be.prototype.stabilize=function(){return this.physics.stabilize.apply(this.physics,arguments)};be.prototype.getSelection=function(){return this.selectionHandler.getSelection.apply(this.selectionHandler,arguments)};be.prototype.setSelection=function(){return this.selectionHandler.setSelection.apply(this.selectionHandler,arguments)};be.prototype.getSelectedNodes=function(){return this.selectionHandler.getSelectedNodeIds.apply(this.selectionHandler,arguments)};be.prototype.getSelectedEdges=function(){return this.selectionHandler.getSelectedEdgeIds.apply(this.selectionHandler,arguments)};be.prototype.getNodeAt=function(){const t=this.selectionHandler.getNodeAt.apply(this.selectionHandler,arguments);return t!==void 0&&t.id!==void 0?t.id:t};be.prototype.getEdgeAt=function(){const t=this.selectionHandler.getEdgeAt.apply(this.selectionHandler,arguments);return t!==void 0&&t.id!==void 0?t.id:t};be.prototype.selectNodes=function(){return this.selectionHandler.selectNodes.apply(this.selectionHandler,arguments)};be.prototype.selectEdges=function(){return this.selectionHandler.selectEdges.apply(this.selectionHandler,arguments)};be.prototype.unselectAll=function(){this.selectionHandler.unselectAll.apply(this.selectionHandler,arguments),this.selectionHandler.commitWithoutEmitting.apply(this.selectionHandler),this.redraw()};be.prototype.redraw=function(){return this.renderer.redraw.apply(this.renderer,arguments)};be.prototype.getScale=function(){return this.view.getScale.apply(this.view,arguments)};be.prototype.getViewPosition=function(){return this.view.getViewPosition.apply(this.view,arguments)};be.prototype.fit=function(){return this.view.fit.apply(this.view,arguments)};be.prototype.moveTo=function(){return this.view.moveTo.apply(this.view,arguments)};be.prototype.focus=function(){return this.view.focus.apply(this.view,arguments)};be.prototype.releaseNode=function(){return this.view.releaseNode.apply(this.view,arguments)};be.prototype.getOptionsFromConfigurator=function(){let t={};return this.configurator&&(t=this.configurator.getOptions.apply(this.configurator)),t};function sxe({graphData:t,startPersonId:e,onNodeClick:r}){const n=I.useRef(null),i=I.useRef(null),s=Kr(),a=I.useCallback(d=>{r?r(d):s(`/people/${d}`)},[r,s]);I.useEffect(()=>{if(!n.current||!t||!t.nodes||t.nodes.length===0)return;const d=new _u(t.nodes),h=new _u(t.edges),f={layout:{hierarchical:{enabled:!0,direction:"UD",sortMethod:"directed",levelSeparation:180,nodeSpacing:200,treeSpacing:250,blockShifting:!0,edgeMinimization:!0,parentCentralization:!0}},nodes:{shape:"box",margin:10,font:{size:14,face:'system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif',color:"#1f2937"},color:{border:"#d1d5db",background:"#ffffff",highlight:{border:"#f59e0b",background:"#fef3c7"},hover:{border:"#9ca3af",background:"#f9fafb"}},borderWidth:2,borderWidthSelected:3,shadow:{enabled:!0,color:"rgba(0,0,0,0.1)",size:5,x:0,y:2}},edges:{color:{color:"#9ca3af",highlight:"#6b7280",hover:"#6b7280"},width:2,smooth:{enabled:!0,type:"cubicBezier",forceDirection:"vertical",roundness:.4},arrows:{to:{enabled:!1}}},physics:{enabled:!1},interaction:{hover:!0,tooltipDelay:200,zoomView:!0,dragView:!0,dragNodes:!1,navigationButtons:!1,keyboard:{enabled:!0,bindToWindow:!1}}},p=new be(n.current,{nodes:d,edges:h},f);return i.current=p,p.on("click",m=>{if(m.nodes.length>0){const y=m.nodes[0];a(y)}}),p.on("doubleClick",m=>{m.nodes.length>0&&p.focus(m.nodes[0],{scale:1,animation:{duration:500,easingFunction:"easeInOutQuad"}})}),p.once("stabilized",()=>{const m=t.edges.filter(y=>y.dashes).map(y=>[y.from,y.to]);if(m.length>0){const y=p.getPositions(),b={},g=new Set;m.forEach(([v,w])=>{if(g.has(v)||g.has(w))return;const x=y[v],_=y[w];if(!x||!_)return;const E=(x.x+_.x)/2;b[v]={x:E-60,y:x.y},b[w]={x:E+60,y:_.y},g.add(v),g.add(w)}),Object.entries(b).forEach(([v,w])=>{p.moveNode(v,w.x,w.y)})}setTimeout(()=>{p.fit({animation:{duration:500,easingFunction:"easeInOutQuad"}})},50)}),setTimeout(()=>{e&&p&&p.focus(e,{scale:.8,animation:{duration:500,easingFunction:"easeInOutQuad"}})},100),()=>{p&&p.destroy()}},[t,e,a]);const o=()=>{if(i.current){const d=i.current.getScale();i.current.moveTo({scale:d*1.3,animation:{duration:300,easingFunction:"easeInOutQuad"}})}},l=()=>{if(i.current){const d=i.current.getScale();i.current.moveTo({scale:d/1.3,animation:{duration:300,easingFunction:"easeInOutQuad"}})}},c=()=>{i.current&&i.current.fit({animation:{duration:500,easingFunction:"easeInOutQuad"}})};return!t||!t.nodes||t.nodes.length===0?u.jsx("div",{className:"flex items-center justify-center h-96",children:u.jsx("p",{className:"text-gray-500",children:"No family tree data available"})}):u.jsxs("div",{className:"relative w-full h-full",children:[u.jsxs("div",{className:"absolute top-4 right-4 z-10 flex gap-2 bg-white rounded-lg shadow-lg p-2",children:[u.jsx("button",{onClick:o,className:"p-2 hover:bg-gray-100 rounded",title:"Zoom In",children:u.jsx(Gre,{className:"w-4 h-4"})}),u.jsx("button",{onClick:l,className:"p-2 hover:bg-gray-100 rounded",title:"Zoom Out",children:u.jsx(Yre,{className:"w-4 h-4"})}),u.jsx("button",{onClick:c,className:"p-2 hover:bg-gray-100 rounded",title:"Fit All",children:u.jsx(lK,{className:"w-4 h-4"})})]}),u.jsx("div",{className:"absolute bottom-4 left-4 z-10 text-xs text-gray-500 bg-white/80 px-2 py-1 rounded",children:"Click a person to view details  Double-click to center  Scroll to zoom"}),u.jsx("div",{ref:n,className:"w-full h-full min-h-[600px]",style:{background:"#fafafa"}})]})}const axe=["parent","child","spouse","lover","partner"];function oxe(t){return axe.includes(t==null?void 0:t.toLowerCase())}function lxe(t){return(t==null?void 0:t.toLowerCase())==="parent"}function uxe(t){return(t==null?void 0:t.toLowerCase())==="child"}function cxe(t){const e=t==null?void 0:t.toLowerCase();return e==="spouse"||e==="lover"||e==="partner"}function dxe(t,e,r){var d;const n=new Map,i=[],s=new Set,a=new Map;e.forEach(h=>a.set(h.id,h));const o=[{personId:t,depth:0}];s.add(t);function l(h,f){var v,w,x,_;let p=h.name||((v=h.title)==null?void 0:v.rendered)||h.title||`Person ${f}`;if(p&&typeof p=="string"&&typeof document<"u"){const E=document.createElement("textarea");E.innerHTML=p,p=E.value}let m=null,y=((w=h.acf)==null?void 0:w.birth_date)||null;if(y){const E=new Date(y);isNaN(E.getTime())||(m=Math.floor((new Date-E)/(365.25*24*60*60*1e3)))}let b="";switch((x=h.acf)==null?void 0:x.gender){case"male":b="";break;case"female":b="";break;case"non_binary":case"other":case"prefer_not_to_say":b="";break}let g="";if(y)try{const E=new Date(y);if(!isNaN(E.getTime())){const N=String(E.getDate()).padStart(2,"0"),S=String(E.getMonth()+1).padStart(2,"0"),j=E.getFullYear();g=`${N}-${S}-${j}`}}catch{}return{id:f,name:p,gender:((_=h.acf)==null?void 0:_.gender)||"",genderSymbol:b,photo:h.thumbnail||null,age:m,birthDate:y,formattedBirthDate:g}}const c=a.get(t);for(c&&n.set(t,l(c,t));o.length>0;){const{personId:h,depth:f}=o.shift(),p=r.get(h)||[];for(const m of p){if(m.relationship_type_slug&&!oxe(m.relationship_type_slug))continue;const y=m.related_person;if(!y||!a.has(y))continue;if(!n.has(y)){const w=a.get(y);n.set(y,l(w,y))}const b=`${h}-${y}`,g=`${y}-${h}`;if(!i.some(w=>`${w.from}-${w.to}`===b||`${w.from}-${w.to}`===g)){const w=(d=m.relationship_type_slug)==null?void 0:d.toLowerCase();if(lxe(w))i.push({from:y,to:h,type:"parent-child"});else if(uxe(w))i.push({from:h,to:y,type:"parent-child"});else if(cxe(w)){const[x,_]=h<y?[h,y]:[y,h];i.push({from:x,to:_,type:"spouse"})}}s.has(y)||(s.add(y),o.push({personId:y,depth:f+1}))}}return{nodes:Array.from(n.values()),edges:i}}function hxe(t,e,r={}){const{nodes:n,edges:i}=t;if(n.length===0)return{nodes:[],edges:[]};const s=new Map,a=new Map,o=new Map;n.forEach(b=>{s.set(b.id,[]),a.set(b.id,[]),o.set(b.id,[])}),i.forEach(b=>{var g,v,w,x;b.type==="parent-child"?((g=s.get(b.to))==null||g.push(b.from),(v=a.get(b.from))==null||v.push(b.to)):b.type==="spouse"&&((w=o.get(b.from))==null||w.push(b.to),(x=o.get(b.to))==null||x.push(b.from))});const l=new Map,c=new Set,d=[{id:e,generation:0}];for(l.set(e,0),c.add(e);d.length>0;){const{id:b,generation:g}=d.shift(),v=s.get(b)||[];for(const _ of v)c.has(_)||(c.add(_),l.set(_,g-1),d.push({id:_,generation:g-1}));const w=a.get(b)||[];for(const _ of w)c.has(_)||(c.add(_),l.set(_,g+1),d.push({id:_,generation:g+1}));const x=o.get(b)||[];for(const _ of x)c.has(_)||(c.add(_),l.set(_,g),d.push({id:_,generation:g}))}n.forEach(b=>{l.has(b.id)||l.set(b.id,0)});const h=Math.min(...l.values()),f=new Map;l.forEach((b,g)=>{f.set(g,b-h)});function p(b,g,v=!1){const w=b?b.split(" ").map(N=>N[0]).join("").toUpperCase().slice(0,2):"?";let x,_;v?(x="%23d1d5db",_="%236b7280"):g?(x="%23fef3c7",_="%23b45309"):(x="%23e5e7eb",_="%23374151");const E=`<svg xmlns="http://www.w3.org/2000/svg" width="90" height="90" viewBox="0 0 90 90">
      <circle cx="45" cy="45" r="45" fill="${x}"/>
      <text x="45" y="55" text-anchor="middle" font-family="system-ui, sans-serif" font-size="28" font-weight="500" fill="${_}">${w}</text>
    </svg>`;return"data:image/svg+xml,"+encodeURIComponent(E)}const m=n.map(b=>{const g=f.get(b.id)||0,v=b.id===e,w=r[b.id]||!1;let x=b.name;w&&(x=b.name+" ");let _=[x],E="";b.genderSymbol&&(E+=b.genderSymbol+" "),b.age!==null&&(E+=b.age+" "),b.formattedBirthDate&&(E+=b.formattedBirthDate),E.trim()&&_.push(E.trim());const N=b.photo||p(b.name,v,w);let S="#d1d5db";return v?S="#f59e0b":w&&(S="#9ca3af"),{id:b.id,label:_.join(`
`),level:g,shape:"circularImage",image:N,size:45,font:{size:14,face:"system-ui, -apple-system, sans-serif",vadjust:8,color:w?"#6b7280":"#1f2937"},color:{border:S,background:"#ffffff",highlight:{border:"#f59e0b",background:"#fef3c7"}},borderWidth:v?3:2,data:{...b,isDeceased:w}}}),y=i.map((b,g)=>{const v=b.type==="spouse";return{id:`edge-${g}`,from:b.from,to:b.to,arrows:{to:{enabled:!1}},color:{color:v?"#ec4899":"#9ca3af",highlight:v?"#db2777":"#6b7280"},width:2,dashes:v?[5,5]:!1,smooth:!1,length:v?50:300}});return{nodes:m,edges:y}}function fxe(t){const e=new Map;return t.forEach(r=>{var s;const i=(((s=r.acf)==null?void 0:s.relationships)||[]).map(a=>{var c,d,h,f,p,m;let o="";a.relationship_slug?o=a.relationship_slug.toLowerCase():typeof a.relationship_type=="object"?o=((c=a.relationship_type)==null?void 0:c.slug)||((h=(d=a.relationship_type)==null?void 0:d.name)==null?void 0:h.toLowerCase())||"":typeof a.relationship_type=="string"&&(o=a.relationship_type.toLowerCase());let l=null;return typeof a.related_person=="object"?l=((f=a.related_person)==null?void 0:f.ID)||((p=a.related_person)==null?void 0:p.id)||((m=a.related_person)==null?void 0:m.term_id):(typeof a.related_person=="number"||typeof a.related_person=="string")&&(l=parseInt(a.related_person,10)),{related_person:l,relationship_type:a.relationship_type,relationship_type_slug:o,relationship_name:a.relationship_name||"",relationship_label:a.relationship_label||""}}).filter(a=>a.related_person);e.set(r.id,i)}),e}function pxe(t,e){const r=new Map;e.forEach(n=>{var i;r.set(n.id,n.slug||((i=n.name)==null?void 0:i.toLowerCase()))}),t.forEach(n=>{n.forEach(i=>{if(!i.relationship_type_slug&&i.relationship_type){const s=typeof i.relationship_type=="object"?i.relationship_type.term_id||i.relationship_type.id:i.relationship_type;i.relationship_type_slug=r.get(s)||""}})})}function mxe(){var p,m;const{id:t}=_s(),e=Kr(),r=parseInt(t,10),{data:n,isLoading:i}=Du(t),{data:s=[],isLoading:a}=Bo(),{data:o=[]}=mt({queryKey:["relationship-types"],queryFn:async()=>(await We.getRelationshipTypes()).data}),l=I.useMemo(()=>s.map(y=>y.id).filter(Boolean),[s]),c=pp({queries:l.map(y=>({queryKey:["person-dates",y],queryFn:async()=>(await $e.getPersonDates(y)).data,enabled:!!y,staleTime:5*60*1e3}))}),d=I.useMemo(()=>{const y={};return c.forEach((b,g)=>{if(b.data&&l[g]){const v=l[g],w=b.data.some(x=>{const _=Array.isArray(x.date_type)?x.date_type[0]:x.date_type;return(_==null?void 0:_.toLowerCase())==="died"});y[v]=w}}),y},[c,l]);fn(n?`Family Tree - ${n.name||((p=n.title)==null?void 0:p.rendered)||n.title||"Person"}`:"Family Tree");const h=I.useMemo(()=>{if(!n||!s.length)return null;try{const y=fxe(s);o.length>0&&pxe(y,o);const b=dxe(r,s,y);return!b||b.nodes.length===0?null:hxe(b,r,d)}catch(y){return console.error("Error building family tree:",y),null}},[n,s,o,r,d]),f=y=>{e(`/people/${y}`)};return i||a?u.jsx("div",{className:"flex items-center justify-center h-64",children:u.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"})}):n?u.jsxs("div",{className:"max-w-full mx-auto space-y-6",children:[u.jsx("div",{className:"flex items-center justify-between",children:u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsxs(he,{to:`/people/${t}`,className:"flex items-center text-gray-600 hover:text-gray-900",children:[u.jsx(En,{className:"w-4 h-4 md:mr-2"}),u.jsx("span",{className:"hidden md:inline",children:"Back to Person"})]}),u.jsxs("h1",{className:"text-2xl font-bold",children:["Family Tree: ",n.name||((m=n.title)==null?void 0:m.rendered)||n.title||`Person ${t}`]})]})}),u.jsx("div",{className:"card p-6",children:u.jsx("div",{className:"w-full",style:{height:"800px"},children:h&&h.nodes&&h.nodes.length>0?u.jsx(sxe,{graphData:h,startPersonId:r,onNodeClick:f}):u.jsx("div",{className:"flex items-center justify-center h-full",children:u.jsxs("div",{className:"text-center",children:[u.jsx("p",{className:"text-gray-500 mb-2",children:"No family relationships found."}),u.jsx("p",{className:"text-sm text-gray-400",children:"Add parent or child relationships to see the family tree."})]})})})})]}):u.jsxs("div",{className:"card p-6 text-center",children:[u.jsx("p",{className:"text-red-600 mb-4",children:"Failed to load person."}),u.jsx(he,{to:"/people",className:"btn-secondary",children:"Back to People"})]})}function vxe(){const{loginUrl:t,isLoggedIn:e}=rO();return mK(),I.useEffect(()=>{e||(window.location.href=t)},[e,t]),u.jsx("div",{className:"flex items-center justify-center min-h-screen bg-gray-50",children:u.jsxs("div",{className:"text-center",children:[u.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600 mx-auto mb-4"}),u.jsx("p",{className:"text-gray-600",children:"Redirecting to login..."})]})})}function gxe({children:t}){const{data:e,isLoading:r,error:n}=mt({queryKey:["current-user"],queryFn:async()=>(await $e.getCurrentUser()).data,retry:!1});return r?u.jsx("div",{className:"flex items-center justify-center min-h-screen bg-gray-50",children:u.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"})}):n||!e?u.jsx("div",{className:"flex items-center justify-center min-h-screen bg-gray-50",children:u.jsx("div",{className:"max-w-md w-full mx-4",children:u.jsxs("div",{className:"card p-8 text-center",children:[u.jsx("div",{className:"flex justify-center mb-4",children:u.jsx("div",{className:"p-3 bg-yellow-100 rounded-full",children:u.jsx(ba,{className:"w-8 h-8 text-yellow-600"})})}),u.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-2",children:"Account Pending Approval"}),u.jsx("p",{className:"text-gray-600 mb-6",children:"Your account is pending approval by an administrator. You will receive an email notification once your account has been approved."}),u.jsx("p",{className:"text-sm text-gray-500",children:"If you have any questions, please contact your administrator."})]})})}):e!=null&&e.is_admin||e.is_approved?t:u.jsx("div",{className:"flex items-center justify-center min-h-screen bg-gray-50",children:u.jsx("div",{className:"max-w-md w-full mx-4",children:u.jsxs("div",{className:"card p-8 text-center",children:[u.jsx("div",{className:"flex justify-center mb-4",children:u.jsx("div",{className:"p-3 bg-yellow-100 rounded-full",children:u.jsx(ba,{className:"w-8 h-8 text-yellow-600"})})}),u.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-2",children:"Account Pending Approval"}),u.jsx("p",{className:"text-gray-600 mb-6",children:"Your account is pending approval by an administrator. You will receive an email notification once your account has been approved."}),u.jsx("p",{className:"text-sm text-gray-500",children:"If you have any questions, please contact your administrator."})]})})})}function yxe({children:t}){const{isLoggedIn:e,isLoading:r}=rO();return r?u.jsx("div",{className:"flex items-center justify-center min-h-screen",children:u.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"})}):e?u.jsx(gxe,{children:t}):u.jsx(pV,{to:"/login",replace:!0})}function bxe(){return u.jsxs(aI,{children:[u.jsx(Xe,{path:"/login",element:u.jsx(vxe,{})}),u.jsx(Xe,{path:"/*",element:u.jsx(yxe,{children:u.jsx(vne,{children:u.jsxs(aI,{children:[u.jsx(Xe,{path:"/",element:u.jsx(sse,{})}),u.jsx(Xe,{path:"/people",element:u.jsx(ose,{})}),u.jsx(Xe,{path:"/people/new",element:u.jsx(sR,{})}),u.jsx(Xe,{path:"/people/:personId/contact/new",element:u.jsx(oR,{})}),u.jsx(Xe,{path:"/people/:personId/contact/:index/edit",element:u.jsx(oR,{})}),u.jsx(Xe,{path:"/people/:personId/work-history/new",element:u.jsx(aR,{})}),u.jsx(Xe,{path:"/people/:personId/work-history/:index/edit",element:u.jsx(aR,{})}),u.jsx(Xe,{path:"/people/:personId/relationship/new",element:u.jsx(lR,{})}),u.jsx(Xe,{path:"/people/:personId/relationship/:index/edit",element:u.jsx(lR,{})}),u.jsx(Xe,{path:"/people/:id/family-tree",element:u.jsx(mxe,{})}),u.jsx(Xe,{path:"/people/:id/edit",element:u.jsx(sR,{})}),u.jsx(Xe,{path:"/people/:id",element:u.jsx(Cse,{})}),u.jsx(Xe,{path:"/companies",element:u.jsx(Jse,{})}),u.jsx(Xe,{path:"/companies/new",element:u.jsx(uR,{})}),u.jsx(Xe,{path:"/companies/:id",element:u.jsx(Zse,{})}),u.jsx(Xe,{path:"/companies/:id/edit",element:u.jsx(uR,{})}),u.jsx(Xe,{path:"/dates",element:u.jsx(rae,{})}),u.jsx(Xe,{path:"/dates/new",element:u.jsx(cR,{})}),u.jsx(Xe,{path:"/dates/:id/edit",element:u.jsx(cR,{})}),u.jsx(Xe,{path:"/todos",element:u.jsx(iae,{})}),u.jsx(Xe,{path:"/settings",element:u.jsx(sae,{})}),u.jsx(Xe,{path:"/settings/relationship-types",element:u.jsx(aae,{})}),u.jsx(Xe,{path:"/settings/import",element:u.jsx(dae,{})}),u.jsx(Xe,{path:"/settings/export",element:u.jsx(hae,{})}),u.jsx(Xe,{path:"/settings/user-approval",element:u.jsx(fae,{})}),u.jsx(Xe,{path:"*",element:u.jsx(pV,{to:"/",replace:!0})})]})})})})]})}const xxe=new Qee({defaultOptions:{queries:{staleTime:5*60*1e3,retry:1}}}),rN=document.getElementById("root");if(!rN)console.error('Root element not found! Make sure there is a <div id="root"></div> in your HTML.');else try{nN.createRoot(rN).render(u.jsx(Pe.StrictMode,{children:u.jsx(Xee,{client:xxe,children:u.jsx(bee,{children:u.jsx(bxe,{})})})}))}catch(t){console.error("Error mounting React app:",t),rN.innerHTML='<div style="padding: 20px; color: red;"><h1>Error Loading Application</h1><p>Please check the browser console for details.</p></div>'}
