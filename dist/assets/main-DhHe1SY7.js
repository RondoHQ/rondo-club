var II=t=>{throw TypeError(t)};var um=(t,e,r)=>e.has(t)||II("Cannot "+r);var R=(t,e,r)=>(um(t,e,"read from private field"),r?r.call(t):e.get(t)),ue=(t,e,r)=>e.has(t)?II("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,r),ie=(t,e,r,n)=>(um(t,e,"write to private field"),n?n.call(t,r):e.set(t,r),r),Se=(t,e,r)=>(um(t,e,"access private method"),r);var uh=(t,e,r,n)=>({set _(i){ie(t,e,i,r)},get _(){return R(t,e,n)}});function fY(t,e){for(var r=0;r<e.length;r++){const n=e[r];if(typeof n!="string"&&!Array.isArray(n)){for(const i in n)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(n,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>n[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}function pY(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var jH={exports:{}},tp={},kH={exports:{}},je={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vd=Symbol.for("react.element"),mY=Symbol.for("react.portal"),vY=Symbol.for("react.fragment"),gY=Symbol.for("react.strict_mode"),yY=Symbol.for("react.profiler"),bY=Symbol.for("react.provider"),wY=Symbol.for("react.context"),xY=Symbol.for("react.forward_ref"),_Y=Symbol.for("react.suspense"),SY=Symbol.for("react.memo"),EY=Symbol.for("react.lazy"),NI=Symbol.iterator;function OY(t){return t===null||typeof t!="object"?null:(t=NI&&t[NI]||t["@@iterator"],typeof t=="function"?t:null)}var DH={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},qH=Object.assign,MH={};function iu(t,e,r){this.props=t,this.context=e,this.refs=MH,this.updater=r||DH}iu.prototype.isReactComponent={};iu.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};iu.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function AH(){}AH.prototype=iu.prototype;function aC(t,e,r){this.props=t,this.context=e,this.refs=MH,this.updater=r||DH}var oC=aC.prototype=new AH;oC.constructor=aC;qH(oC,iu.prototype);oC.isPureReactComponent=!0;var RI=Array.isArray,FH=Object.prototype.hasOwnProperty,lC={current:null},LH={key:!0,ref:!0,__self:!0,__source:!0};function BH(t,e,r){var n,i={},s=null,a=null;if(e!=null)for(n in e.ref!==void 0&&(a=e.ref),e.key!==void 0&&(s=""+e.key),e)FH.call(e,n)&&!LH.hasOwnProperty(n)&&(i[n]=e[n]);var o=arguments.length-2;if(o===1)i.children=r;else if(1<o){for(var l=Array(o),u=0;u<o;u++)l[u]=arguments[u+2];i.children=l}if(t&&t.defaultProps)for(n in o=t.defaultProps,o)i[n]===void 0&&(i[n]=o[n]);return{$$typeof:vd,type:t,key:s,ref:a,props:i,_owner:lC.current}}function PY(t,e){return{$$typeof:vd,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function uC(t){return typeof t=="object"&&t!==null&&t.$$typeof===vd}function CY(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(r){return e[r]})}var $I=/\/+/g;function cm(t,e){return typeof t=="object"&&t!==null&&t.key!=null?CY(""+t.key):e.toString(36)}function Fh(t,e,r,n,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var a=!1;if(t===null)a=!0;else switch(s){case"string":case"number":a=!0;break;case"object":switch(t.$$typeof){case vd:case mY:a=!0}}if(a)return a=t,i=i(a),t=n===""?"."+cm(a,0):n,RI(i)?(r="",t!=null&&(r=t.replace($I,"$&/")+"/"),Fh(i,e,r,"",function(u){return u})):i!=null&&(uC(i)&&(i=PY(i,r+(!i.key||a&&a.key===i.key?"":(""+i.key).replace($I,"$&/")+"/")+t)),e.push(i)),1;if(a=0,n=n===""?".":n+":",RI(t))for(var o=0;o<t.length;o++){s=t[o];var l=n+cm(s,o);a+=Fh(s,e,r,l,i)}else if(l=OY(t),typeof l=="function")for(t=l.call(t),o=0;!(s=t.next()).done;)s=s.value,l=n+cm(s,o++),a+=Fh(s,e,r,l,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return a}function ch(t,e,r){if(t==null)return t;var n=[],i=0;return Fh(t,n,"","",function(s){return e.call(r,s,i++)}),n}function TY(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(r){(t._status===0||t._status===-1)&&(t._status=1,t._result=r)},function(r){(t._status===0||t._status===-1)&&(t._status=2,t._result=r)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var kr={current:null},Lh={transition:null},IY={ReactCurrentDispatcher:kr,ReactCurrentBatchConfig:Lh,ReactCurrentOwner:lC};function zH(){throw Error("act(...) is not supported in production builds of React.")}je.Children={map:ch,forEach:function(t,e,r){ch(t,function(){e.apply(this,arguments)},r)},count:function(t){var e=0;return ch(t,function(){e++}),e},toArray:function(t){return ch(t,function(e){return e})||[]},only:function(t){if(!uC(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};je.Component=iu;je.Fragment=vY;je.Profiler=yY;je.PureComponent=aC;je.StrictMode=gY;je.Suspense=_Y;je.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=IY;je.act=zH;je.cloneElement=function(t,e,r){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var n=qH({},t.props),i=t.key,s=t.ref,a=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,a=lC.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var o=t.type.defaultProps;for(l in e)FH.call(e,l)&&!LH.hasOwnProperty(l)&&(n[l]=e[l]===void 0&&o!==void 0?o[l]:e[l])}var l=arguments.length-2;if(l===1)n.children=r;else if(1<l){o=Array(l);for(var u=0;u<l;u++)o[u]=arguments[u+2];n.children=o}return{$$typeof:vd,type:t.type,key:i,ref:s,props:n,_owner:a}};je.createContext=function(t){return t={$$typeof:wY,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:bY,_context:t},t.Consumer=t};je.createElement=BH;je.createFactory=function(t){var e=BH.bind(null,t);return e.type=t,e};je.createRef=function(){return{current:null}};je.forwardRef=function(t){return{$$typeof:xY,render:t}};je.isValidElement=uC;je.lazy=function(t){return{$$typeof:EY,_payload:{_status:-1,_result:t},_init:TY}};je.memo=function(t,e){return{$$typeof:SY,type:t,compare:e===void 0?null:e}};je.startTransition=function(t){var e=Lh.transition;Lh.transition={};try{t()}finally{Lh.transition=e}};je.unstable_act=zH;je.useCallback=function(t,e){return kr.current.useCallback(t,e)};je.useContext=function(t){return kr.current.useContext(t)};je.useDebugValue=function(){};je.useDeferredValue=function(t){return kr.current.useDeferredValue(t)};je.useEffect=function(t,e){return kr.current.useEffect(t,e)};je.useId=function(){return kr.current.useId()};je.useImperativeHandle=function(t,e,r){return kr.current.useImperativeHandle(t,e,r)};je.useInsertionEffect=function(t,e){return kr.current.useInsertionEffect(t,e)};je.useLayoutEffect=function(t,e){return kr.current.useLayoutEffect(t,e)};je.useMemo=function(t,e){return kr.current.useMemo(t,e)};je.useReducer=function(t,e,r){return kr.current.useReducer(t,e,r)};je.useRef=function(t){return kr.current.useRef(t)};je.useState=function(t){return kr.current.useState(t)};je.useSyncExternalStore=function(t,e,r){return kr.current.useSyncExternalStore(t,e,r)};je.useTransition=function(){return kr.current.useTransition()};je.version="18.3.1";kH.exports=je;var j=kH.exports;const Ce=pY(j),NY=fY({__proto__:null,default:Ce},[j]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var RY=j,$Y=Symbol.for("react.element"),jY=Symbol.for("react.fragment"),kY=Object.prototype.hasOwnProperty,DY=RY.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,qY={key:!0,ref:!0,__self:!0,__source:!0};function UH(t,e,r){var n,i={},s=null,a=null;r!==void 0&&(s=""+r),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(a=e.ref);for(n in e)kY.call(e,n)&&!qY.hasOwnProperty(n)&&(i[n]=e[n]);if(t&&t.defaultProps)for(n in e=t.defaultProps,e)i[n]===void 0&&(i[n]=e[n]);return{$$typeof:$Y,type:t,key:s,ref:a,props:i,_owner:DY.current}}tp.Fragment=jY;tp.jsx=UH;tp.jsxs=UH;jH.exports=tp;var d=jH.exports,mO={},WH={exports:{}},fn={},HH={exports:{}},VH={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(L,G){var z=L.length;L.push(G);e:for(;0<z;){var U=z-1>>>1,te=L[U];if(0<i(te,G))L[U]=G,L[z]=te,z=U;else break e}}function r(L){return L.length===0?null:L[0]}function n(L){if(L.length===0)return null;var G=L[0],z=L.pop();if(z!==G){L[0]=z;e:for(var U=0,te=L.length,fe=te>>>1;U<fe;){var ge=2*(U+1)-1,ke=L[ge],be=ge+1,xe=L[be];if(0>i(ke,z))be<te&&0>i(xe,ke)?(L[U]=xe,L[be]=z,U=be):(L[U]=ke,L[ge]=z,U=ge);else if(be<te&&0>i(xe,z))L[U]=xe,L[be]=z,U=be;else break e}}return G}function i(L,G){var z=L.sortIndex-G.sortIndex;return z!==0?z:L.id-G.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var a=Date,o=a.now();t.unstable_now=function(){return a.now()-o}}var l=[],u=[],c=1,h=null,f=3,p=!1,m=!1,y=!1,b=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,v=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function x(L){for(var G=r(u);G!==null;){if(G.callback===null)n(u);else if(G.startTime<=L)n(u),G.sortIndex=G.expirationTime,e(l,G);else break;G=r(u)}}function w(L){if(y=!1,x(L),!m)if(r(l)!==null)m=!0,re(_);else{var G=r(u);G!==null&&Q(w,G.startTime-L)}}function _(L,G){m=!1,y&&(y=!1,g(S),S=-1),p=!0;var z=f;try{for(x(G),h=r(l);h!==null&&(!(h.expirationTime>G)||L&&!N());){var U=h.callback;if(typeof U=="function"){h.callback=null,f=h.priorityLevel;var te=U(h.expirationTime<=G);G=t.unstable_now(),typeof te=="function"?h.callback=te:h===r(l)&&n(l),x(G)}else n(l);h=r(l)}if(h!==null)var fe=!0;else{var ge=r(u);ge!==null&&Q(w,ge.startTime-G),fe=!1}return fe}finally{h=null,f=z,p=!1}}var E=!1,O=null,S=-1,P=5,C=-1;function N(){return!(t.unstable_now()-C<P)}function T(){if(O!==null){var L=t.unstable_now();C=L;var G=!0;try{G=O(!0,L)}finally{G?I():(E=!1,O=null)}}else E=!1}var I;if(typeof v=="function")I=function(){v(T)};else if(typeof MessageChannel<"u"){var q=new MessageChannel,B=q.port2;q.port1.onmessage=T,I=function(){B.postMessage(null)}}else I=function(){b(T,0)};function re(L){O=L,E||(E=!0,I())}function Q(L,G){S=b(function(){L(t.unstable_now())},G)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(L){L.callback=null},t.unstable_continueExecution=function(){m||p||(m=!0,re(_))},t.unstable_forceFrameRate=function(L){0>L||125<L?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<L?Math.floor(1e3/L):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return r(l)},t.unstable_next=function(L){switch(f){case 1:case 2:case 3:var G=3;break;default:G=f}var z=f;f=G;try{return L()}finally{f=z}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(L,G){switch(L){case 1:case 2:case 3:case 4:case 5:break;default:L=3}var z=f;f=L;try{return G()}finally{f=z}},t.unstable_scheduleCallback=function(L,G,z){var U=t.unstable_now();switch(typeof z=="object"&&z!==null?(z=z.delay,z=typeof z=="number"&&0<z?U+z:U):z=U,L){case 1:var te=-1;break;case 2:te=250;break;case 5:te=1073741823;break;case 4:te=1e4;break;default:te=5e3}return te=z+te,L={id:c++,callback:G,priorityLevel:L,startTime:z,expirationTime:te,sortIndex:-1},z>U?(L.sortIndex=z,e(u,L),r(l)===null&&L===r(u)&&(y?(g(S),S=-1):y=!0,Q(w,z-U))):(L.sortIndex=te,e(l,L),m||p||(m=!0,re(_))),L},t.unstable_shouldYield=N,t.unstable_wrapCallback=function(L){var G=f;return function(){var z=f;f=G;try{return L.apply(this,arguments)}finally{f=z}}}})(VH);HH.exports=VH;var MY=HH.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var AY=j,hn=MY;function J(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,r=1;r<arguments.length;r++)e+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var KH=new Set,Cc={};function vo(t,e){Dl(t,e),Dl(t+"Capture",e)}function Dl(t,e){for(Cc[t]=e,t=0;t<e.length;t++)KH.add(e[t])}var Gi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),vO=Object.prototype.hasOwnProperty,FY=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,jI={},kI={};function LY(t){return vO.call(kI,t)?!0:vO.call(jI,t)?!1:FY.test(t)?kI[t]=!0:(jI[t]=!0,!1)}function BY(t,e,r,n){if(r!==null&&r.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function zY(t,e,r,n){if(e===null||typeof e>"u"||BY(t,e,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Dr(t,e,r,n,i,s,a){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=n,this.attributeNamespace=i,this.mustUseProperty=r,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=a}var lr={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){lr[t]=new Dr(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];lr[e]=new Dr(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){lr[t]=new Dr(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){lr[t]=new Dr(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){lr[t]=new Dr(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){lr[t]=new Dr(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){lr[t]=new Dr(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){lr[t]=new Dr(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){lr[t]=new Dr(t,5,!1,t.toLowerCase(),null,!1,!1)});var cC=/[\-:]([a-z])/g;function dC(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(cC,dC);lr[e]=new Dr(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(cC,dC);lr[e]=new Dr(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(cC,dC);lr[e]=new Dr(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){lr[t]=new Dr(t,1,!1,t.toLowerCase(),null,!1,!1)});lr.xlinkHref=new Dr("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){lr[t]=new Dr(t,1,!1,t.toLowerCase(),null,!0,!0)});function hC(t,e,r,n){var i=lr.hasOwnProperty(e)?lr[e]:null;(i!==null?i.type!==0:n||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(zY(e,r,i,n)&&(r=null),n||i===null?LY(e)&&(r===null?t.removeAttribute(e):t.setAttribute(e,""+r)):i.mustUseProperty?t[i.propertyName]=r===null?i.type===3?!1:"":r:(e=i.attributeName,n=i.attributeNamespace,r===null?t.removeAttribute(e):(i=i.type,r=i===3||i===4&&r===!0?"":""+r,n?t.setAttributeNS(n,e,r):t.setAttribute(e,r))))}var Zi=AY.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,dh=Symbol.for("react.element"),Vo=Symbol.for("react.portal"),Ko=Symbol.for("react.fragment"),fC=Symbol.for("react.strict_mode"),gO=Symbol.for("react.profiler"),GH=Symbol.for("react.provider"),YH=Symbol.for("react.context"),pC=Symbol.for("react.forward_ref"),yO=Symbol.for("react.suspense"),bO=Symbol.for("react.suspense_list"),mC=Symbol.for("react.memo"),ps=Symbol.for("react.lazy"),QH=Symbol.for("react.offscreen"),DI=Symbol.iterator;function Lu(t){return t===null||typeof t!="object"?null:(t=DI&&t[DI]||t["@@iterator"],typeof t=="function"?t:null)}var pt=Object.assign,dm;function rc(t){if(dm===void 0)try{throw Error()}catch(r){var e=r.stack.trim().match(/\n( *(at )?)/);dm=e&&e[1]||""}return`
`+dm+t}var hm=!1;function fm(t,e){if(!t||hm)return"";hm=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var n=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){n=u}t.call(e.prototype)}else{try{throw Error()}catch(u){n=u}t()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),s=n.stack.split(`
`),a=i.length-1,o=s.length-1;1<=a&&0<=o&&i[a]!==s[o];)o--;for(;1<=a&&0<=o;a--,o--)if(i[a]!==s[o]){if(a!==1||o!==1)do if(a--,o--,0>o||i[a]!==s[o]){var l=`
`+i[a].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=a&&0<=o);break}}}finally{hm=!1,Error.prepareStackTrace=r}return(t=t?t.displayName||t.name:"")?rc(t):""}function UY(t){switch(t.tag){case 5:return rc(t.type);case 16:return rc("Lazy");case 13:return rc("Suspense");case 19:return rc("SuspenseList");case 0:case 2:case 15:return t=fm(t.type,!1),t;case 11:return t=fm(t.type.render,!1),t;case 1:return t=fm(t.type,!0),t;default:return""}}function wO(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Ko:return"Fragment";case Vo:return"Portal";case gO:return"Profiler";case fC:return"StrictMode";case yO:return"Suspense";case bO:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case YH:return(t.displayName||"Context")+".Consumer";case GH:return(t._context.displayName||"Context")+".Provider";case pC:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case mC:return e=t.displayName||null,e!==null?e:wO(t.type)||"Memo";case ps:e=t._payload,t=t._init;try{return wO(t(e))}catch{}}return null}function WY(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return wO(e);case 8:return e===fC?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Js(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function XH(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function HY(t){var e=XH(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),n=""+t[e];if(!t.hasOwnProperty(e)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var i=r.get,s=r.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(a){n=""+a,s.call(this,a)}}),Object.defineProperty(t,e,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(a){n=""+a},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function hh(t){t._valueTracker||(t._valueTracker=HY(t))}function JH(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var r=e.getValue(),n="";return t&&(n=XH(t)?t.checked?"true":"false":t.value),t=n,t!==r?(e.setValue(t),!0):!1}function of(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function xO(t,e){var r=e.checked;return pt({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??t._wrapperState.initialChecked})}function qI(t,e){var r=e.defaultValue==null?"":e.defaultValue,n=e.checked!=null?e.checked:e.defaultChecked;r=Js(e.value!=null?e.value:r),t._wrapperState={initialChecked:n,initialValue:r,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function ZH(t,e){e=e.checked,e!=null&&hC(t,"checked",e,!1)}function _O(t,e){ZH(t,e);var r=Js(e.value),n=e.type;if(r!=null)n==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+r):t.value!==""+r&&(t.value=""+r);else if(n==="submit"||n==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?SO(t,e.type,r):e.hasOwnProperty("defaultValue")&&SO(t,e.type,Js(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function MI(t,e,r){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var n=e.type;if(!(n!=="submit"&&n!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,r||e===t.value||(t.value=e),t.defaultValue=e}r=t.name,r!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,r!==""&&(t.name=r)}function SO(t,e,r){(e!=="number"||of(t.ownerDocument)!==t)&&(r==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+r&&(t.defaultValue=""+r))}var nc=Array.isArray;function cl(t,e,r,n){if(t=t.options,e){e={};for(var i=0;i<r.length;i++)e["$"+r[i]]=!0;for(r=0;r<t.length;r++)i=e.hasOwnProperty("$"+t[r].value),t[r].selected!==i&&(t[r].selected=i),i&&n&&(t[r].defaultSelected=!0)}else{for(r=""+Js(r),e=null,i=0;i<t.length;i++){if(t[i].value===r){t[i].selected=!0,n&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function EO(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(J(91));return pt({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function AI(t,e){var r=e.value;if(r==null){if(r=e.children,e=e.defaultValue,r!=null){if(e!=null)throw Error(J(92));if(nc(r)){if(1<r.length)throw Error(J(93));r=r[0]}e=r}e==null&&(e=""),r=e}t._wrapperState={initialValue:Js(r)}}function e8(t,e){var r=Js(e.value),n=Js(e.defaultValue);r!=null&&(r=""+r,r!==t.value&&(t.value=r),e.defaultValue==null&&t.defaultValue!==r&&(t.defaultValue=r)),n!=null&&(t.defaultValue=""+n)}function FI(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function t8(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function OO(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?t8(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var fh,r8=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,r,n,i){MSApp.execUnsafeLocalFunction(function(){return t(e,r,n,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(fh=fh||document.createElement("div"),fh.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=fh.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Tc(t,e){if(e){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=e;return}}t.textContent=e}var uc={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},VY=["Webkit","ms","Moz","O"];Object.keys(uc).forEach(function(t){VY.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),uc[e]=uc[t]})});function n8(t,e,r){return e==null||typeof e=="boolean"||e===""?"":r||typeof e!="number"||e===0||uc.hasOwnProperty(t)&&uc[t]?(""+e).trim():e+"px"}function i8(t,e){t=t.style;for(var r in e)if(e.hasOwnProperty(r)){var n=r.indexOf("--")===0,i=n8(r,e[r],n);r==="float"&&(r="cssFloat"),n?t.setProperty(r,i):t[r]=i}}var KY=pt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function PO(t,e){if(e){if(KY[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(J(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(J(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(J(61))}if(e.style!=null&&typeof e.style!="object")throw Error(J(62))}}function CO(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var TO=null;function vC(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var IO=null,dl=null,hl=null;function LI(t){if(t=bd(t)){if(typeof IO!="function")throw Error(J(280));var e=t.stateNode;e&&(e=ap(e),IO(t.stateNode,t.type,e))}}function s8(t){dl?hl?hl.push(t):hl=[t]:dl=t}function a8(){if(dl){var t=dl,e=hl;if(hl=dl=null,LI(t),e)for(t=0;t<e.length;t++)LI(e[t])}}function o8(t,e){return t(e)}function l8(){}var pm=!1;function u8(t,e,r){if(pm)return t(e,r);pm=!0;try{return o8(t,e,r)}finally{pm=!1,(dl!==null||hl!==null)&&(l8(),a8())}}function Ic(t,e){var r=t.stateNode;if(r===null)return null;var n=ap(r);if(n===null)return null;r=n[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(t=t.type,n=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!n;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(J(231,e,typeof r));return r}var NO=!1;if(Gi)try{var Bu={};Object.defineProperty(Bu,"passive",{get:function(){NO=!0}}),window.addEventListener("test",Bu,Bu),window.removeEventListener("test",Bu,Bu)}catch{NO=!1}function GY(t,e,r,n,i,s,a,o,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(r,u)}catch(c){this.onError(c)}}var cc=!1,lf=null,uf=!1,RO=null,YY={onError:function(t){cc=!0,lf=t}};function QY(t,e,r,n,i,s,a,o,l){cc=!1,lf=null,GY.apply(YY,arguments)}function XY(t,e,r,n,i,s,a,o,l){if(QY.apply(this,arguments),cc){if(cc){var u=lf;cc=!1,lf=null}else throw Error(J(198));uf||(uf=!0,RO=u)}}function go(t){var e=t,r=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(r=e.return),t=e.return;while(t)}return e.tag===3?r:null}function c8(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function BI(t){if(go(t)!==t)throw Error(J(188))}function JY(t){var e=t.alternate;if(!e){if(e=go(t),e===null)throw Error(J(188));return e!==t?null:t}for(var r=t,n=e;;){var i=r.return;if(i===null)break;var s=i.alternate;if(s===null){if(n=i.return,n!==null){r=n;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===r)return BI(i),t;if(s===n)return BI(i),e;s=s.sibling}throw Error(J(188))}if(r.return!==n.return)r=i,n=s;else{for(var a=!1,o=i.child;o;){if(o===r){a=!0,r=i,n=s;break}if(o===n){a=!0,n=i,r=s;break}o=o.sibling}if(!a){for(o=s.child;o;){if(o===r){a=!0,r=s,n=i;break}if(o===n){a=!0,n=s,r=i;break}o=o.sibling}if(!a)throw Error(J(189))}}if(r.alternate!==n)throw Error(J(190))}if(r.tag!==3)throw Error(J(188));return r.stateNode.current===r?t:e}function d8(t){return t=JY(t),t!==null?h8(t):null}function h8(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=h8(t);if(e!==null)return e;t=t.sibling}return null}var f8=hn.unstable_scheduleCallback,zI=hn.unstable_cancelCallback,ZY=hn.unstable_shouldYield,eQ=hn.unstable_requestPaint,Pt=hn.unstable_now,tQ=hn.unstable_getCurrentPriorityLevel,gC=hn.unstable_ImmediatePriority,p8=hn.unstable_UserBlockingPriority,cf=hn.unstable_NormalPriority,rQ=hn.unstable_LowPriority,m8=hn.unstable_IdlePriority,rp=null,yi=null;function nQ(t){if(yi&&typeof yi.onCommitFiberRoot=="function")try{yi.onCommitFiberRoot(rp,t,void 0,(t.current.flags&128)===128)}catch{}}var Yn=Math.clz32?Math.clz32:aQ,iQ=Math.log,sQ=Math.LN2;function aQ(t){return t>>>=0,t===0?32:31-(iQ(t)/sQ|0)|0}var ph=64,mh=4194304;function ic(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function df(t,e){var r=t.pendingLanes;if(r===0)return 0;var n=0,i=t.suspendedLanes,s=t.pingedLanes,a=r&268435455;if(a!==0){var o=a&~i;o!==0?n=ic(o):(s&=a,s!==0&&(n=ic(s)))}else a=r&~i,a!==0?n=ic(a):s!==0&&(n=ic(s));if(n===0)return 0;if(e!==0&&e!==n&&!(e&i)&&(i=n&-n,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(n&4&&(n|=r&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=n;0<e;)r=31-Yn(e),i=1<<r,n|=t[r],e&=~i;return n}function oQ(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function lQ(t,e){for(var r=t.suspendedLanes,n=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var a=31-Yn(s),o=1<<a,l=i[a];l===-1?(!(o&r)||o&n)&&(i[a]=oQ(o,e)):l<=e&&(t.expiredLanes|=o),s&=~o}}function $O(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function v8(){var t=ph;return ph<<=1,!(ph&4194240)&&(ph=64),t}function mm(t){for(var e=[],r=0;31>r;r++)e.push(t);return e}function gd(t,e,r){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Yn(e),t[e]=r}function uQ(t,e){var r=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var n=t.eventTimes;for(t=t.expirationTimes;0<r;){var i=31-Yn(r),s=1<<i;e[i]=0,n[i]=-1,t[i]=-1,r&=~s}}function yC(t,e){var r=t.entangledLanes|=e;for(t=t.entanglements;r;){var n=31-Yn(r),i=1<<n;i&e|t[n]&e&&(t[n]|=e),r&=~i}}var We=0;function g8(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var y8,bC,b8,w8,x8,jO=!1,vh=[],qs=null,Ms=null,As=null,Nc=new Map,Rc=new Map,bs=[],cQ="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function UI(t,e){switch(t){case"focusin":case"focusout":qs=null;break;case"dragenter":case"dragleave":Ms=null;break;case"mouseover":case"mouseout":As=null;break;case"pointerover":case"pointerout":Nc.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Rc.delete(e.pointerId)}}function zu(t,e,r,n,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:r,eventSystemFlags:n,nativeEvent:s,targetContainers:[i]},e!==null&&(e=bd(e),e!==null&&bC(e)),t):(t.eventSystemFlags|=n,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function dQ(t,e,r,n,i){switch(e){case"focusin":return qs=zu(qs,t,e,r,n,i),!0;case"dragenter":return Ms=zu(Ms,t,e,r,n,i),!0;case"mouseover":return As=zu(As,t,e,r,n,i),!0;case"pointerover":var s=i.pointerId;return Nc.set(s,zu(Nc.get(s)||null,t,e,r,n,i)),!0;case"gotpointercapture":return s=i.pointerId,Rc.set(s,zu(Rc.get(s)||null,t,e,r,n,i)),!0}return!1}function _8(t){var e=xa(t.target);if(e!==null){var r=go(e);if(r!==null){if(e=r.tag,e===13){if(e=c8(r),e!==null){t.blockedOn=e,x8(t.priority,function(){b8(r)});return}}else if(e===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Bh(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var r=kO(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(r===null){r=t.nativeEvent;var n=new r.constructor(r.type,r);TO=n,r.target.dispatchEvent(n),TO=null}else return e=bd(r),e!==null&&bC(e),t.blockedOn=r,!1;e.shift()}return!0}function WI(t,e,r){Bh(t)&&r.delete(e)}function hQ(){jO=!1,qs!==null&&Bh(qs)&&(qs=null),Ms!==null&&Bh(Ms)&&(Ms=null),As!==null&&Bh(As)&&(As=null),Nc.forEach(WI),Rc.forEach(WI)}function Uu(t,e){t.blockedOn===e&&(t.blockedOn=null,jO||(jO=!0,hn.unstable_scheduleCallback(hn.unstable_NormalPriority,hQ)))}function $c(t){function e(i){return Uu(i,t)}if(0<vh.length){Uu(vh[0],t);for(var r=1;r<vh.length;r++){var n=vh[r];n.blockedOn===t&&(n.blockedOn=null)}}for(qs!==null&&Uu(qs,t),Ms!==null&&Uu(Ms,t),As!==null&&Uu(As,t),Nc.forEach(e),Rc.forEach(e),r=0;r<bs.length;r++)n=bs[r],n.blockedOn===t&&(n.blockedOn=null);for(;0<bs.length&&(r=bs[0],r.blockedOn===null);)_8(r),r.blockedOn===null&&bs.shift()}var fl=Zi.ReactCurrentBatchConfig,hf=!0;function fQ(t,e,r,n){var i=We,s=fl.transition;fl.transition=null;try{We=1,wC(t,e,r,n)}finally{We=i,fl.transition=s}}function pQ(t,e,r,n){var i=We,s=fl.transition;fl.transition=null;try{We=4,wC(t,e,r,n)}finally{We=i,fl.transition=s}}function wC(t,e,r,n){if(hf){var i=kO(t,e,r,n);if(i===null)Om(t,e,n,ff,r),UI(t,n);else if(dQ(i,t,e,r,n))n.stopPropagation();else if(UI(t,n),e&4&&-1<cQ.indexOf(t)){for(;i!==null;){var s=bd(i);if(s!==null&&y8(s),s=kO(t,e,r,n),s===null&&Om(t,e,n,ff,r),s===i)break;i=s}i!==null&&n.stopPropagation()}else Om(t,e,n,null,r)}}var ff=null;function kO(t,e,r,n){if(ff=null,t=vC(n),t=xa(t),t!==null)if(e=go(t),e===null)t=null;else if(r=e.tag,r===13){if(t=c8(e),t!==null)return t;t=null}else if(r===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return ff=t,null}function S8(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(tQ()){case gC:return 1;case p8:return 4;case cf:case rQ:return 16;case m8:return 536870912;default:return 16}default:return 16}}var $s=null,xC=null,zh=null;function E8(){if(zh)return zh;var t,e=xC,r=e.length,n,i="value"in $s?$s.value:$s.textContent,s=i.length;for(t=0;t<r&&e[t]===i[t];t++);var a=r-t;for(n=1;n<=a&&e[r-n]===i[s-n];n++);return zh=i.slice(t,1<n?1-n:void 0)}function Uh(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function gh(){return!0}function HI(){return!1}function pn(t){function e(r,n,i,s,a){this._reactName=r,this._targetInst=i,this.type=n,this.nativeEvent=s,this.target=a,this.currentTarget=null;for(var o in t)t.hasOwnProperty(o)&&(r=t[o],this[o]=r?r(s):s[o]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?gh:HI,this.isPropagationStopped=HI,this}return pt(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=gh)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=gh)},persist:function(){},isPersistent:gh}),e}var su={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},_C=pn(su),yd=pt({},su,{view:0,detail:0}),mQ=pn(yd),vm,gm,Wu,np=pt({},yd,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:SC,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Wu&&(Wu&&t.type==="mousemove"?(vm=t.screenX-Wu.screenX,gm=t.screenY-Wu.screenY):gm=vm=0,Wu=t),vm)},movementY:function(t){return"movementY"in t?t.movementY:gm}}),VI=pn(np),vQ=pt({},np,{dataTransfer:0}),gQ=pn(vQ),yQ=pt({},yd,{relatedTarget:0}),ym=pn(yQ),bQ=pt({},su,{animationName:0,elapsedTime:0,pseudoElement:0}),wQ=pn(bQ),xQ=pt({},su,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),_Q=pn(xQ),SQ=pt({},su,{data:0}),KI=pn(SQ),EQ={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},OQ={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},PQ={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function CQ(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=PQ[t])?!!e[t]:!1}function SC(){return CQ}var TQ=pt({},yd,{key:function(t){if(t.key){var e=EQ[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Uh(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?OQ[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:SC,charCode:function(t){return t.type==="keypress"?Uh(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Uh(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),IQ=pn(TQ),NQ=pt({},np,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),GI=pn(NQ),RQ=pt({},yd,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:SC}),$Q=pn(RQ),jQ=pt({},su,{propertyName:0,elapsedTime:0,pseudoElement:0}),kQ=pn(jQ),DQ=pt({},np,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),qQ=pn(DQ),MQ=[9,13,27,32],EC=Gi&&"CompositionEvent"in window,dc=null;Gi&&"documentMode"in document&&(dc=document.documentMode);var AQ=Gi&&"TextEvent"in window&&!dc,O8=Gi&&(!EC||dc&&8<dc&&11>=dc),YI=" ",QI=!1;function P8(t,e){switch(t){case"keyup":return MQ.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function C8(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Go=!1;function FQ(t,e){switch(t){case"compositionend":return C8(e);case"keypress":return e.which!==32?null:(QI=!0,YI);case"textInput":return t=e.data,t===YI&&QI?null:t;default:return null}}function LQ(t,e){if(Go)return t==="compositionend"||!EC&&P8(t,e)?(t=E8(),zh=xC=$s=null,Go=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return O8&&e.locale!=="ko"?null:e.data;default:return null}}var BQ={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function XI(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!BQ[t.type]:e==="textarea"}function T8(t,e,r,n){s8(n),e=pf(e,"onChange"),0<e.length&&(r=new _C("onChange","change",null,r,n),t.push({event:r,listeners:e}))}var hc=null,jc=null;function zQ(t){F8(t,0)}function ip(t){var e=Xo(t);if(JH(e))return t}function UQ(t,e){if(t==="change")return e}var I8=!1;if(Gi){var bm;if(Gi){var wm="oninput"in document;if(!wm){var JI=document.createElement("div");JI.setAttribute("oninput","return;"),wm=typeof JI.oninput=="function"}bm=wm}else bm=!1;I8=bm&&(!document.documentMode||9<document.documentMode)}function ZI(){hc&&(hc.detachEvent("onpropertychange",N8),jc=hc=null)}function N8(t){if(t.propertyName==="value"&&ip(jc)){var e=[];T8(e,jc,t,vC(t)),u8(zQ,e)}}function WQ(t,e,r){t==="focusin"?(ZI(),hc=e,jc=r,hc.attachEvent("onpropertychange",N8)):t==="focusout"&&ZI()}function HQ(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return ip(jc)}function VQ(t,e){if(t==="click")return ip(e)}function KQ(t,e){if(t==="input"||t==="change")return ip(e)}function GQ(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Xn=typeof Object.is=="function"?Object.is:GQ;function kc(t,e){if(Xn(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var i=r[n];if(!vO.call(e,i)||!Xn(t[i],e[i]))return!1}return!0}function eN(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function tN(t,e){var r=eN(t);t=0;for(var n;r;){if(r.nodeType===3){if(n=t+r.textContent.length,t<=e&&n>=e)return{node:r,offset:e-t};t=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=eN(r)}}function R8(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?R8(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function $8(){for(var t=window,e=of();e instanceof t.HTMLIFrameElement;){try{var r=typeof e.contentWindow.location.href=="string"}catch{r=!1}if(r)t=e.contentWindow;else break;e=of(t.document)}return e}function OC(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function YQ(t){var e=$8(),r=t.focusedElem,n=t.selectionRange;if(e!==r&&r&&r.ownerDocument&&R8(r.ownerDocument.documentElement,r)){if(n!==null&&OC(r)){if(e=n.start,t=n.end,t===void 0&&(t=e),"selectionStart"in r)r.selectionStart=e,r.selectionEnd=Math.min(t,r.value.length);else if(t=(e=r.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=r.textContent.length,s=Math.min(n.start,i);n=n.end===void 0?s:Math.min(n.end,i),!t.extend&&s>n&&(i=n,n=s,s=i),i=tN(r,s);var a=tN(r,n);i&&a&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==a.node||t.focusOffset!==a.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>n?(t.addRange(e),t.extend(a.node,a.offset)):(e.setEnd(a.node,a.offset),t.addRange(e)))}}for(e=[],t=r;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<e.length;r++)t=e[r],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var QQ=Gi&&"documentMode"in document&&11>=document.documentMode,Yo=null,DO=null,fc=null,qO=!1;function rN(t,e,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;qO||Yo==null||Yo!==of(n)||(n=Yo,"selectionStart"in n&&OC(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),fc&&kc(fc,n)||(fc=n,n=pf(DO,"onSelect"),0<n.length&&(e=new _C("onSelect","select",null,e,r),t.push({event:e,listeners:n}),e.target=Yo)))}function yh(t,e){var r={};return r[t.toLowerCase()]=e.toLowerCase(),r["Webkit"+t]="webkit"+e,r["Moz"+t]="moz"+e,r}var Qo={animationend:yh("Animation","AnimationEnd"),animationiteration:yh("Animation","AnimationIteration"),animationstart:yh("Animation","AnimationStart"),transitionend:yh("Transition","TransitionEnd")},xm={},j8={};Gi&&(j8=document.createElement("div").style,"AnimationEvent"in window||(delete Qo.animationend.animation,delete Qo.animationiteration.animation,delete Qo.animationstart.animation),"TransitionEvent"in window||delete Qo.transitionend.transition);function sp(t){if(xm[t])return xm[t];if(!Qo[t])return t;var e=Qo[t],r;for(r in e)if(e.hasOwnProperty(r)&&r in j8)return xm[t]=e[r];return t}var k8=sp("animationend"),D8=sp("animationiteration"),q8=sp("animationstart"),M8=sp("transitionend"),A8=new Map,nN="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function sa(t,e){A8.set(t,e),vo(e,[t])}for(var _m=0;_m<nN.length;_m++){var Sm=nN[_m],XQ=Sm.toLowerCase(),JQ=Sm[0].toUpperCase()+Sm.slice(1);sa(XQ,"on"+JQ)}sa(k8,"onAnimationEnd");sa(D8,"onAnimationIteration");sa(q8,"onAnimationStart");sa("dblclick","onDoubleClick");sa("focusin","onFocus");sa("focusout","onBlur");sa(M8,"onTransitionEnd");Dl("onMouseEnter",["mouseout","mouseover"]);Dl("onMouseLeave",["mouseout","mouseover"]);Dl("onPointerEnter",["pointerout","pointerover"]);Dl("onPointerLeave",["pointerout","pointerover"]);vo("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));vo("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));vo("onBeforeInput",["compositionend","keypress","textInput","paste"]);vo("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));vo("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));vo("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var sc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),ZQ=new Set("cancel close invalid load scroll toggle".split(" ").concat(sc));function iN(t,e,r){var n=t.type||"unknown-event";t.currentTarget=r,XY(n,e,void 0,t),t.currentTarget=null}function F8(t,e){e=(e&4)!==0;for(var r=0;r<t.length;r++){var n=t[r],i=n.event;n=n.listeners;e:{var s=void 0;if(e)for(var a=n.length-1;0<=a;a--){var o=n[a],l=o.instance,u=o.currentTarget;if(o=o.listener,l!==s&&i.isPropagationStopped())break e;iN(i,o,u),s=l}else for(a=0;a<n.length;a++){if(o=n[a],l=o.instance,u=o.currentTarget,o=o.listener,l!==s&&i.isPropagationStopped())break e;iN(i,o,u),s=l}}}if(uf)throw t=RO,uf=!1,RO=null,t}function st(t,e){var r=e[BO];r===void 0&&(r=e[BO]=new Set);var n=t+"__bubble";r.has(n)||(L8(e,t,2,!1),r.add(n))}function Em(t,e,r){var n=0;e&&(n|=4),L8(r,t,n,e)}var bh="_reactListening"+Math.random().toString(36).slice(2);function Dc(t){if(!t[bh]){t[bh]=!0,KH.forEach(function(r){r!=="selectionchange"&&(ZQ.has(r)||Em(r,!1,t),Em(r,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[bh]||(e[bh]=!0,Em("selectionchange",!1,e))}}function L8(t,e,r,n){switch(S8(e)){case 1:var i=fQ;break;case 4:i=pQ;break;default:i=wC}r=i.bind(null,e,r,t),i=void 0,!NO||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),n?i!==void 0?t.addEventListener(e,r,{capture:!0,passive:i}):t.addEventListener(e,r,!0):i!==void 0?t.addEventListener(e,r,{passive:i}):t.addEventListener(e,r,!1)}function Om(t,e,r,n,i){var s=n;if(!(e&1)&&!(e&2)&&n!==null)e:for(;;){if(n===null)return;var a=n.tag;if(a===3||a===4){var o=n.stateNode.containerInfo;if(o===i||o.nodeType===8&&o.parentNode===i)break;if(a===4)for(a=n.return;a!==null;){var l=a.tag;if((l===3||l===4)&&(l=a.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;a=a.return}for(;o!==null;){if(a=xa(o),a===null)return;if(l=a.tag,l===5||l===6){n=s=a;continue e}o=o.parentNode}}n=n.return}u8(function(){var u=s,c=vC(r),h=[];e:{var f=A8.get(t);if(f!==void 0){var p=_C,m=t;switch(t){case"keypress":if(Uh(r)===0)break e;case"keydown":case"keyup":p=IQ;break;case"focusin":m="focus",p=ym;break;case"focusout":m="blur",p=ym;break;case"beforeblur":case"afterblur":p=ym;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=VI;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=gQ;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=$Q;break;case k8:case D8:case q8:p=wQ;break;case M8:p=kQ;break;case"scroll":p=mQ;break;case"wheel":p=qQ;break;case"copy":case"cut":case"paste":p=_Q;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=GI}var y=(e&4)!==0,b=!y&&t==="scroll",g=y?f!==null?f+"Capture":null:f;y=[];for(var v=u,x;v!==null;){x=v;var w=x.stateNode;if(x.tag===5&&w!==null&&(x=w,g!==null&&(w=Ic(v,g),w!=null&&y.push(qc(v,w,x)))),b)break;v=v.return}0<y.length&&(f=new p(f,m,null,r,c),h.push({event:f,listeners:y}))}}if(!(e&7)){e:{if(f=t==="mouseover"||t==="pointerover",p=t==="mouseout"||t==="pointerout",f&&r!==TO&&(m=r.relatedTarget||r.fromElement)&&(xa(m)||m[Yi]))break e;if((p||f)&&(f=c.window===c?c:(f=c.ownerDocument)?f.defaultView||f.parentWindow:window,p?(m=r.relatedTarget||r.toElement,p=u,m=m?xa(m):null,m!==null&&(b=go(m),m!==b||m.tag!==5&&m.tag!==6)&&(m=null)):(p=null,m=u),p!==m)){if(y=VI,w="onMouseLeave",g="onMouseEnter",v="mouse",(t==="pointerout"||t==="pointerover")&&(y=GI,w="onPointerLeave",g="onPointerEnter",v="pointer"),b=p==null?f:Xo(p),x=m==null?f:Xo(m),f=new y(w,v+"leave",p,r,c),f.target=b,f.relatedTarget=x,w=null,xa(c)===u&&(y=new y(g,v+"enter",m,r,c),y.target=x,y.relatedTarget=b,w=y),b=w,p&&m)t:{for(y=p,g=m,v=0,x=y;x;x=Ao(x))v++;for(x=0,w=g;w;w=Ao(w))x++;for(;0<v-x;)y=Ao(y),v--;for(;0<x-v;)g=Ao(g),x--;for(;v--;){if(y===g||g!==null&&y===g.alternate)break t;y=Ao(y),g=Ao(g)}y=null}else y=null;p!==null&&sN(h,f,p,y,!1),m!==null&&b!==null&&sN(h,b,m,y,!0)}}e:{if(f=u?Xo(u):window,p=f.nodeName&&f.nodeName.toLowerCase(),p==="select"||p==="input"&&f.type==="file")var _=UQ;else if(XI(f))if(I8)_=KQ;else{_=HQ;var E=WQ}else(p=f.nodeName)&&p.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(_=VQ);if(_&&(_=_(t,u))){T8(h,_,r,c);break e}E&&E(t,f,u),t==="focusout"&&(E=f._wrapperState)&&E.controlled&&f.type==="number"&&SO(f,"number",f.value)}switch(E=u?Xo(u):window,t){case"focusin":(XI(E)||E.contentEditable==="true")&&(Yo=E,DO=u,fc=null);break;case"focusout":fc=DO=Yo=null;break;case"mousedown":qO=!0;break;case"contextmenu":case"mouseup":case"dragend":qO=!1,rN(h,r,c);break;case"selectionchange":if(QQ)break;case"keydown":case"keyup":rN(h,r,c)}var O;if(EC)e:{switch(t){case"compositionstart":var S="onCompositionStart";break e;case"compositionend":S="onCompositionEnd";break e;case"compositionupdate":S="onCompositionUpdate";break e}S=void 0}else Go?P8(t,r)&&(S="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(S="onCompositionStart");S&&(O8&&r.locale!=="ko"&&(Go||S!=="onCompositionStart"?S==="onCompositionEnd"&&Go&&(O=E8()):($s=c,xC="value"in $s?$s.value:$s.textContent,Go=!0)),E=pf(u,S),0<E.length&&(S=new KI(S,t,null,r,c),h.push({event:S,listeners:E}),O?S.data=O:(O=C8(r),O!==null&&(S.data=O)))),(O=AQ?FQ(t,r):LQ(t,r))&&(u=pf(u,"onBeforeInput"),0<u.length&&(c=new KI("onBeforeInput","beforeinput",null,r,c),h.push({event:c,listeners:u}),c.data=O))}F8(h,e)})}function qc(t,e,r){return{instance:t,listener:e,currentTarget:r}}function pf(t,e){for(var r=e+"Capture",n=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=Ic(t,r),s!=null&&n.unshift(qc(t,s,i)),s=Ic(t,e),s!=null&&n.push(qc(t,s,i))),t=t.return}return n}function Ao(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function sN(t,e,r,n,i){for(var s=e._reactName,a=[];r!==null&&r!==n;){var o=r,l=o.alternate,u=o.stateNode;if(l!==null&&l===n)break;o.tag===5&&u!==null&&(o=u,i?(l=Ic(r,s),l!=null&&a.unshift(qc(r,l,o))):i||(l=Ic(r,s),l!=null&&a.push(qc(r,l,o)))),r=r.return}a.length!==0&&t.push({event:e,listeners:a})}var eX=/\r\n?/g,tX=/\u0000|\uFFFD/g;function aN(t){return(typeof t=="string"?t:""+t).replace(eX,`
`).replace(tX,"")}function wh(t,e,r){if(e=aN(e),aN(t)!==e&&r)throw Error(J(425))}function mf(){}var MO=null,AO=null;function FO(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var LO=typeof setTimeout=="function"?setTimeout:void 0,rX=typeof clearTimeout=="function"?clearTimeout:void 0,oN=typeof Promise=="function"?Promise:void 0,nX=typeof queueMicrotask=="function"?queueMicrotask:typeof oN<"u"?function(t){return oN.resolve(null).then(t).catch(iX)}:LO;function iX(t){setTimeout(function(){throw t})}function Pm(t,e){var r=e,n=0;do{var i=r.nextSibling;if(t.removeChild(r),i&&i.nodeType===8)if(r=i.data,r==="/$"){if(n===0){t.removeChild(i),$c(e);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=i}while(r);$c(e)}function Fs(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function lN(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(e===0)return t;e--}else r==="/$"&&e++}t=t.previousSibling}return null}var au=Math.random().toString(36).slice(2),fi="__reactFiber$"+au,Mc="__reactProps$"+au,Yi="__reactContainer$"+au,BO="__reactEvents$"+au,sX="__reactListeners$"+au,aX="__reactHandles$"+au;function xa(t){var e=t[fi];if(e)return e;for(var r=t.parentNode;r;){if(e=r[Yi]||r[fi]){if(r=e.alternate,e.child!==null||r!==null&&r.child!==null)for(t=lN(t);t!==null;){if(r=t[fi])return r;t=lN(t)}return e}t=r,r=t.parentNode}return null}function bd(t){return t=t[fi]||t[Yi],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Xo(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(J(33))}function ap(t){return t[Mc]||null}var zO=[],Jo=-1;function aa(t){return{current:t}}function at(t){0>Jo||(t.current=zO[Jo],zO[Jo]=null,Jo--)}function rt(t,e){Jo++,zO[Jo]=t.current,t.current=e}var Zs={},wr=aa(Zs),Hr=aa(!1),Qa=Zs;function ql(t,e){var r=t.type.contextTypes;if(!r)return Zs;var n=t.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===e)return n.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in r)i[s]=e[s];return n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function Vr(t){return t=t.childContextTypes,t!=null}function vf(){at(Hr),at(wr)}function uN(t,e,r){if(wr.current!==Zs)throw Error(J(168));rt(wr,e),rt(Hr,r)}function B8(t,e,r){var n=t.stateNode;if(e=e.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var i in n)if(!(i in e))throw Error(J(108,WY(t)||"Unknown",i));return pt({},r,n)}function gf(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Zs,Qa=wr.current,rt(wr,t),rt(Hr,Hr.current),!0}function cN(t,e,r){var n=t.stateNode;if(!n)throw Error(J(169));r?(t=B8(t,e,Qa),n.__reactInternalMemoizedMergedChildContext=t,at(Hr),at(wr),rt(wr,t)):at(Hr),rt(Hr,r)}var Ti=null,op=!1,Cm=!1;function z8(t){Ti===null?Ti=[t]:Ti.push(t)}function oX(t){op=!0,z8(t)}function oa(){if(!Cm&&Ti!==null){Cm=!0;var t=0,e=We;try{var r=Ti;for(We=1;t<r.length;t++){var n=r[t];do n=n(!0);while(n!==null)}Ti=null,op=!1}catch(i){throw Ti!==null&&(Ti=Ti.slice(t+1)),f8(gC,oa),i}finally{We=e,Cm=!1}}return null}var Zo=[],el=0,yf=null,bf=0,Sn=[],En=0,Xa=null,ji=1,ki="";function ya(t,e){Zo[el++]=bf,Zo[el++]=yf,yf=t,bf=e}function U8(t,e,r){Sn[En++]=ji,Sn[En++]=ki,Sn[En++]=Xa,Xa=t;var n=ji;t=ki;var i=32-Yn(n)-1;n&=~(1<<i),r+=1;var s=32-Yn(e)+i;if(30<s){var a=i-i%5;s=(n&(1<<a)-1).toString(32),n>>=a,i-=a,ji=1<<32-Yn(e)+i|r<<i|n,ki=s+t}else ji=1<<s|r<<i|n,ki=t}function PC(t){t.return!==null&&(ya(t,1),U8(t,1,0))}function CC(t){for(;t===yf;)yf=Zo[--el],Zo[el]=null,bf=Zo[--el],Zo[el]=null;for(;t===Xa;)Xa=Sn[--En],Sn[En]=null,ki=Sn[--En],Sn[En]=null,ji=Sn[--En],Sn[En]=null}var dn=null,cn=null,lt=!1,Un=null;function W8(t,e){var r=Pn(5,null,null,0);r.elementType="DELETED",r.stateNode=e,r.return=t,e=t.deletions,e===null?(t.deletions=[r],t.flags|=16):e.push(r)}function dN(t,e){switch(t.tag){case 5:var r=t.type;return e=e.nodeType!==1||r.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,dn=t,cn=Fs(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,dn=t,cn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(r=Xa!==null?{id:ji,overflow:ki}:null,t.memoizedState={dehydrated:e,treeContext:r,retryLane:1073741824},r=Pn(18,null,null,0),r.stateNode=e,r.return=t,t.child=r,dn=t,cn=null,!0):!1;default:return!1}}function UO(t){return(t.mode&1)!==0&&(t.flags&128)===0}function WO(t){if(lt){var e=cn;if(e){var r=e;if(!dN(t,e)){if(UO(t))throw Error(J(418));e=Fs(r.nextSibling);var n=dn;e&&dN(t,e)?W8(n,r):(t.flags=t.flags&-4097|2,lt=!1,dn=t)}}else{if(UO(t))throw Error(J(418));t.flags=t.flags&-4097|2,lt=!1,dn=t}}}function hN(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;dn=t}function xh(t){if(t!==dn)return!1;if(!lt)return hN(t),lt=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!FO(t.type,t.memoizedProps)),e&&(e=cn)){if(UO(t))throw H8(),Error(J(418));for(;e;)W8(t,e),e=Fs(e.nextSibling)}if(hN(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(J(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"){if(e===0){cn=Fs(t.nextSibling);break e}e--}else r!=="$"&&r!=="$!"&&r!=="$?"||e++}t=t.nextSibling}cn=null}}else cn=dn?Fs(t.stateNode.nextSibling):null;return!0}function H8(){for(var t=cn;t;)t=Fs(t.nextSibling)}function Ml(){cn=dn=null,lt=!1}function TC(t){Un===null?Un=[t]:Un.push(t)}var lX=Zi.ReactCurrentBatchConfig;function Hu(t,e,r){if(t=r.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(J(309));var n=r.stateNode}if(!n)throw Error(J(147,t));var i=n,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(a){var o=i.refs;a===null?delete o[s]:o[s]=a},e._stringRef=s,e)}if(typeof t!="string")throw Error(J(284));if(!r._owner)throw Error(J(290,t))}return t}function _h(t,e){throw t=Object.prototype.toString.call(e),Error(J(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function fN(t){var e=t._init;return e(t._payload)}function V8(t){function e(g,v){if(t){var x=g.deletions;x===null?(g.deletions=[v],g.flags|=16):x.push(v)}}function r(g,v){if(!t)return null;for(;v!==null;)e(g,v),v=v.sibling;return null}function n(g,v){for(g=new Map;v!==null;)v.key!==null?g.set(v.key,v):g.set(v.index,v),v=v.sibling;return g}function i(g,v){return g=Us(g,v),g.index=0,g.sibling=null,g}function s(g,v,x){return g.index=x,t?(x=g.alternate,x!==null?(x=x.index,x<v?(g.flags|=2,v):x):(g.flags|=2,v)):(g.flags|=1048576,v)}function a(g){return t&&g.alternate===null&&(g.flags|=2),g}function o(g,v,x,w){return v===null||v.tag!==6?(v=km(x,g.mode,w),v.return=g,v):(v=i(v,x),v.return=g,v)}function l(g,v,x,w){var _=x.type;return _===Ko?c(g,v,x.props.children,w,x.key):v!==null&&(v.elementType===_||typeof _=="object"&&_!==null&&_.$$typeof===ps&&fN(_)===v.type)?(w=i(v,x.props),w.ref=Hu(g,v,x),w.return=g,w):(w=Qh(x.type,x.key,x.props,null,g.mode,w),w.ref=Hu(g,v,x),w.return=g,w)}function u(g,v,x,w){return v===null||v.tag!==4||v.stateNode.containerInfo!==x.containerInfo||v.stateNode.implementation!==x.implementation?(v=Dm(x,g.mode,w),v.return=g,v):(v=i(v,x.children||[]),v.return=g,v)}function c(g,v,x,w,_){return v===null||v.tag!==7?(v=Ba(x,g.mode,w,_),v.return=g,v):(v=i(v,x),v.return=g,v)}function h(g,v,x){if(typeof v=="string"&&v!==""||typeof v=="number")return v=km(""+v,g.mode,x),v.return=g,v;if(typeof v=="object"&&v!==null){switch(v.$$typeof){case dh:return x=Qh(v.type,v.key,v.props,null,g.mode,x),x.ref=Hu(g,null,v),x.return=g,x;case Vo:return v=Dm(v,g.mode,x),v.return=g,v;case ps:var w=v._init;return h(g,w(v._payload),x)}if(nc(v)||Lu(v))return v=Ba(v,g.mode,x,null),v.return=g,v;_h(g,v)}return null}function f(g,v,x,w){var _=v!==null?v.key:null;if(typeof x=="string"&&x!==""||typeof x=="number")return _!==null?null:o(g,v,""+x,w);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case dh:return x.key===_?l(g,v,x,w):null;case Vo:return x.key===_?u(g,v,x,w):null;case ps:return _=x._init,f(g,v,_(x._payload),w)}if(nc(x)||Lu(x))return _!==null?null:c(g,v,x,w,null);_h(g,x)}return null}function p(g,v,x,w,_){if(typeof w=="string"&&w!==""||typeof w=="number")return g=g.get(x)||null,o(v,g,""+w,_);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case dh:return g=g.get(w.key===null?x:w.key)||null,l(v,g,w,_);case Vo:return g=g.get(w.key===null?x:w.key)||null,u(v,g,w,_);case ps:var E=w._init;return p(g,v,x,E(w._payload),_)}if(nc(w)||Lu(w))return g=g.get(x)||null,c(v,g,w,_,null);_h(v,w)}return null}function m(g,v,x,w){for(var _=null,E=null,O=v,S=v=0,P=null;O!==null&&S<x.length;S++){O.index>S?(P=O,O=null):P=O.sibling;var C=f(g,O,x[S],w);if(C===null){O===null&&(O=P);break}t&&O&&C.alternate===null&&e(g,O),v=s(C,v,S),E===null?_=C:E.sibling=C,E=C,O=P}if(S===x.length)return r(g,O),lt&&ya(g,S),_;if(O===null){for(;S<x.length;S++)O=h(g,x[S],w),O!==null&&(v=s(O,v,S),E===null?_=O:E.sibling=O,E=O);return lt&&ya(g,S),_}for(O=n(g,O);S<x.length;S++)P=p(O,g,S,x[S],w),P!==null&&(t&&P.alternate!==null&&O.delete(P.key===null?S:P.key),v=s(P,v,S),E===null?_=P:E.sibling=P,E=P);return t&&O.forEach(function(N){return e(g,N)}),lt&&ya(g,S),_}function y(g,v,x,w){var _=Lu(x);if(typeof _!="function")throw Error(J(150));if(x=_.call(x),x==null)throw Error(J(151));for(var E=_=null,O=v,S=v=0,P=null,C=x.next();O!==null&&!C.done;S++,C=x.next()){O.index>S?(P=O,O=null):P=O.sibling;var N=f(g,O,C.value,w);if(N===null){O===null&&(O=P);break}t&&O&&N.alternate===null&&e(g,O),v=s(N,v,S),E===null?_=N:E.sibling=N,E=N,O=P}if(C.done)return r(g,O),lt&&ya(g,S),_;if(O===null){for(;!C.done;S++,C=x.next())C=h(g,C.value,w),C!==null&&(v=s(C,v,S),E===null?_=C:E.sibling=C,E=C);return lt&&ya(g,S),_}for(O=n(g,O);!C.done;S++,C=x.next())C=p(O,g,S,C.value,w),C!==null&&(t&&C.alternate!==null&&O.delete(C.key===null?S:C.key),v=s(C,v,S),E===null?_=C:E.sibling=C,E=C);return t&&O.forEach(function(T){return e(g,T)}),lt&&ya(g,S),_}function b(g,v,x,w){if(typeof x=="object"&&x!==null&&x.type===Ko&&x.key===null&&(x=x.props.children),typeof x=="object"&&x!==null){switch(x.$$typeof){case dh:e:{for(var _=x.key,E=v;E!==null;){if(E.key===_){if(_=x.type,_===Ko){if(E.tag===7){r(g,E.sibling),v=i(E,x.props.children),v.return=g,g=v;break e}}else if(E.elementType===_||typeof _=="object"&&_!==null&&_.$$typeof===ps&&fN(_)===E.type){r(g,E.sibling),v=i(E,x.props),v.ref=Hu(g,E,x),v.return=g,g=v;break e}r(g,E);break}else e(g,E);E=E.sibling}x.type===Ko?(v=Ba(x.props.children,g.mode,w,x.key),v.return=g,g=v):(w=Qh(x.type,x.key,x.props,null,g.mode,w),w.ref=Hu(g,v,x),w.return=g,g=w)}return a(g);case Vo:e:{for(E=x.key;v!==null;){if(v.key===E)if(v.tag===4&&v.stateNode.containerInfo===x.containerInfo&&v.stateNode.implementation===x.implementation){r(g,v.sibling),v=i(v,x.children||[]),v.return=g,g=v;break e}else{r(g,v);break}else e(g,v);v=v.sibling}v=Dm(x,g.mode,w),v.return=g,g=v}return a(g);case ps:return E=x._init,b(g,v,E(x._payload),w)}if(nc(x))return m(g,v,x,w);if(Lu(x))return y(g,v,x,w);_h(g,x)}return typeof x=="string"&&x!==""||typeof x=="number"?(x=""+x,v!==null&&v.tag===6?(r(g,v.sibling),v=i(v,x),v.return=g,g=v):(r(g,v),v=km(x,g.mode,w),v.return=g,g=v),a(g)):r(g,v)}return b}var Al=V8(!0),K8=V8(!1),wf=aa(null),xf=null,tl=null,IC=null;function NC(){IC=tl=xf=null}function RC(t){var e=wf.current;at(wf),t._currentValue=e}function HO(t,e,r){for(;t!==null;){var n=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,n!==null&&(n.childLanes|=e)):n!==null&&(n.childLanes&e)!==e&&(n.childLanes|=e),t===r)break;t=t.return}}function pl(t,e){xf=t,IC=tl=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Wr=!0),t.firstContext=null)}function Nn(t){var e=t._currentValue;if(IC!==t)if(t={context:t,memoizedValue:e,next:null},tl===null){if(xf===null)throw Error(J(308));tl=t,xf.dependencies={lanes:0,firstContext:t}}else tl=tl.next=t;return e}var _a=null;function $C(t){_a===null?_a=[t]:_a.push(t)}function G8(t,e,r,n){var i=e.interleaved;return i===null?(r.next=r,$C(e)):(r.next=i.next,i.next=r),e.interleaved=r,Qi(t,n)}function Qi(t,e){t.lanes|=e;var r=t.alternate;for(r!==null&&(r.lanes|=e),r=t,t=t.return;t!==null;)t.childLanes|=e,r=t.alternate,r!==null&&(r.childLanes|=e),r=t,t=t.return;return r.tag===3?r.stateNode:null}var ms=!1;function jC(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Y8(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Mi(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Ls(t,e,r){var n=t.updateQueue;if(n===null)return null;if(n=n.shared,Fe&2){var i=n.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),n.pending=e,Qi(t,r)}return i=n.interleaved,i===null?(e.next=e,$C(n)):(e.next=i.next,i.next=e),n.interleaved=e,Qi(t,r)}function Wh(t,e,r){if(e=e.updateQueue,e!==null&&(e=e.shared,(r&4194240)!==0)){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,yC(t,r)}}function pN(t,e){var r=t.updateQueue,n=t.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var i=null,s=null;if(r=r.firstBaseUpdate,r!==null){do{var a={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};s===null?i=s=a:s=s.next=a,r=r.next}while(r!==null);s===null?i=s=e:s=s.next=e}else i=s=e;r={baseState:n.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:n.shared,effects:n.effects},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=e:t.next=e,r.lastBaseUpdate=e}function _f(t,e,r,n){var i=t.updateQueue;ms=!1;var s=i.firstBaseUpdate,a=i.lastBaseUpdate,o=i.shared.pending;if(o!==null){i.shared.pending=null;var l=o,u=l.next;l.next=null,a===null?s=u:a.next=u,a=l;var c=t.alternate;c!==null&&(c=c.updateQueue,o=c.lastBaseUpdate,o!==a&&(o===null?c.firstBaseUpdate=u:o.next=u,c.lastBaseUpdate=l))}if(s!==null){var h=i.baseState;a=0,c=u=l=null,o=s;do{var f=o.lane,p=o.eventTime;if((n&f)===f){c!==null&&(c=c.next={eventTime:p,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var m=t,y=o;switch(f=e,p=r,y.tag){case 1:if(m=y.payload,typeof m=="function"){h=m.call(p,h,f);break e}h=m;break e;case 3:m.flags=m.flags&-65537|128;case 0:if(m=y.payload,f=typeof m=="function"?m.call(p,h,f):m,f==null)break e;h=pt({},h,f);break e;case 2:ms=!0}}o.callback!==null&&o.lane!==0&&(t.flags|=64,f=i.effects,f===null?i.effects=[o]:f.push(o))}else p={eventTime:p,lane:f,tag:o.tag,payload:o.payload,callback:o.callback,next:null},c===null?(u=c=p,l=h):c=c.next=p,a|=f;if(o=o.next,o===null){if(o=i.shared.pending,o===null)break;f=o,o=f.next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}while(!0);if(c===null&&(l=h),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=c,e=i.shared.interleaved,e!==null){i=e;do a|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);Za|=a,t.lanes=a,t.memoizedState=h}}function mN(t,e,r){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var n=t[e],i=n.callback;if(i!==null){if(n.callback=null,n=r,typeof i!="function")throw Error(J(191,i));i.call(n)}}}var wd={},bi=aa(wd),Ac=aa(wd),Fc=aa(wd);function Sa(t){if(t===wd)throw Error(J(174));return t}function kC(t,e){switch(rt(Fc,e),rt(Ac,t),rt(bi,wd),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:OO(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=OO(e,t)}at(bi),rt(bi,e)}function Fl(){at(bi),at(Ac),at(Fc)}function Q8(t){Sa(Fc.current);var e=Sa(bi.current),r=OO(e,t.type);e!==r&&(rt(Ac,t),rt(bi,r))}function DC(t){Ac.current===t&&(at(bi),at(Ac))}var ct=aa(0);function Sf(t){for(var e=t;e!==null;){if(e.tag===13){var r=e.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Tm=[];function qC(){for(var t=0;t<Tm.length;t++)Tm[t]._workInProgressVersionPrimary=null;Tm.length=0}var Hh=Zi.ReactCurrentDispatcher,Im=Zi.ReactCurrentBatchConfig,Ja=0,dt=null,Ut=null,Yt=null,Ef=!1,pc=!1,Lc=0,uX=0;function pr(){throw Error(J(321))}function MC(t,e){if(e===null)return!1;for(var r=0;r<e.length&&r<t.length;r++)if(!Xn(t[r],e[r]))return!1;return!0}function AC(t,e,r,n,i,s){if(Ja=s,dt=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Hh.current=t===null||t.memoizedState===null?fX:pX,t=r(n,i),pc){s=0;do{if(pc=!1,Lc=0,25<=s)throw Error(J(301));s+=1,Yt=Ut=null,e.updateQueue=null,Hh.current=mX,t=r(n,i)}while(pc)}if(Hh.current=Of,e=Ut!==null&&Ut.next!==null,Ja=0,Yt=Ut=dt=null,Ef=!1,e)throw Error(J(300));return t}function FC(){var t=Lc!==0;return Lc=0,t}function oi(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Yt===null?dt.memoizedState=Yt=t:Yt=Yt.next=t,Yt}function Rn(){if(Ut===null){var t=dt.alternate;t=t!==null?t.memoizedState:null}else t=Ut.next;var e=Yt===null?dt.memoizedState:Yt.next;if(e!==null)Yt=e,Ut=t;else{if(t===null)throw Error(J(310));Ut=t,t={memoizedState:Ut.memoizedState,baseState:Ut.baseState,baseQueue:Ut.baseQueue,queue:Ut.queue,next:null},Yt===null?dt.memoizedState=Yt=t:Yt=Yt.next=t}return Yt}function Bc(t,e){return typeof e=="function"?e(t):e}function Nm(t){var e=Rn(),r=e.queue;if(r===null)throw Error(J(311));r.lastRenderedReducer=t;var n=Ut,i=n.baseQueue,s=r.pending;if(s!==null){if(i!==null){var a=i.next;i.next=s.next,s.next=a}n.baseQueue=i=s,r.pending=null}if(i!==null){s=i.next,n=n.baseState;var o=a=null,l=null,u=s;do{var c=u.lane;if((Ja&c)===c)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:t(n,u.action);else{var h={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(o=l=h,a=n):l=l.next=h,dt.lanes|=c,Za|=c}u=u.next}while(u!==null&&u!==s);l===null?a=n:l.next=o,Xn(n,e.memoizedState)||(Wr=!0),e.memoizedState=n,e.baseState=a,e.baseQueue=l,r.lastRenderedState=n}if(t=r.interleaved,t!==null){i=t;do s=i.lane,dt.lanes|=s,Za|=s,i=i.next;while(i!==t)}else i===null&&(r.lanes=0);return[e.memoizedState,r.dispatch]}function Rm(t){var e=Rn(),r=e.queue;if(r===null)throw Error(J(311));r.lastRenderedReducer=t;var n=r.dispatch,i=r.pending,s=e.memoizedState;if(i!==null){r.pending=null;var a=i=i.next;do s=t(s,a.action),a=a.next;while(a!==i);Xn(s,e.memoizedState)||(Wr=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),r.lastRenderedState=s}return[s,n]}function X8(){}function J8(t,e){var r=dt,n=Rn(),i=e(),s=!Xn(n.memoizedState,i);if(s&&(n.memoizedState=i,Wr=!0),n=n.queue,LC(tV.bind(null,r,n,t),[t]),n.getSnapshot!==e||s||Yt!==null&&Yt.memoizedState.tag&1){if(r.flags|=2048,zc(9,eV.bind(null,r,n,i,e),void 0,null),Xt===null)throw Error(J(349));Ja&30||Z8(r,e,i)}return i}function Z8(t,e,r){t.flags|=16384,t={getSnapshot:e,value:r},e=dt.updateQueue,e===null?(e={lastEffect:null,stores:null},dt.updateQueue=e,e.stores=[t]):(r=e.stores,r===null?e.stores=[t]:r.push(t))}function eV(t,e,r,n){e.value=r,e.getSnapshot=n,rV(e)&&nV(t)}function tV(t,e,r){return r(function(){rV(e)&&nV(t)})}function rV(t){var e=t.getSnapshot;t=t.value;try{var r=e();return!Xn(t,r)}catch{return!0}}function nV(t){var e=Qi(t,1);e!==null&&Qn(e,t,1,-1)}function vN(t){var e=oi();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Bc,lastRenderedState:t},e.queue=t,t=t.dispatch=hX.bind(null,dt,t),[e.memoizedState,t]}function zc(t,e,r,n){return t={tag:t,create:e,destroy:r,deps:n,next:null},e=dt.updateQueue,e===null?(e={lastEffect:null,stores:null},dt.updateQueue=e,e.lastEffect=t.next=t):(r=e.lastEffect,r===null?e.lastEffect=t.next=t:(n=r.next,r.next=t,t.next=n,e.lastEffect=t)),t}function iV(){return Rn().memoizedState}function Vh(t,e,r,n){var i=oi();dt.flags|=t,i.memoizedState=zc(1|e,r,void 0,n===void 0?null:n)}function lp(t,e,r,n){var i=Rn();n=n===void 0?null:n;var s=void 0;if(Ut!==null){var a=Ut.memoizedState;if(s=a.destroy,n!==null&&MC(n,a.deps)){i.memoizedState=zc(e,r,s,n);return}}dt.flags|=t,i.memoizedState=zc(1|e,r,s,n)}function gN(t,e){return Vh(8390656,8,t,e)}function LC(t,e){return lp(2048,8,t,e)}function sV(t,e){return lp(4,2,t,e)}function aV(t,e){return lp(4,4,t,e)}function oV(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function lV(t,e,r){return r=r!=null?r.concat([t]):null,lp(4,4,oV.bind(null,e,t),r)}function BC(){}function uV(t,e){var r=Rn();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&MC(e,n[1])?n[0]:(r.memoizedState=[t,e],t)}function cV(t,e){var r=Rn();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&MC(e,n[1])?n[0]:(t=t(),r.memoizedState=[t,e],t)}function dV(t,e,r){return Ja&21?(Xn(r,e)||(r=v8(),dt.lanes|=r,Za|=r,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Wr=!0),t.memoizedState=r)}function cX(t,e){var r=We;We=r!==0&&4>r?r:4,t(!0);var n=Im.transition;Im.transition={};try{t(!1),e()}finally{We=r,Im.transition=n}}function hV(){return Rn().memoizedState}function dX(t,e,r){var n=zs(t);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},fV(t))pV(e,r);else if(r=G8(t,e,r,n),r!==null){var i=Rr();Qn(r,t,n,i),mV(r,e,n)}}function hX(t,e,r){var n=zs(t),i={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(fV(t))pV(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var a=e.lastRenderedState,o=s(a,r);if(i.hasEagerState=!0,i.eagerState=o,Xn(o,a)){var l=e.interleaved;l===null?(i.next=i,$C(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}r=G8(t,e,i,n),r!==null&&(i=Rr(),Qn(r,t,n,i),mV(r,e,n))}}function fV(t){var e=t.alternate;return t===dt||e!==null&&e===dt}function pV(t,e){pc=Ef=!0;var r=t.pending;r===null?e.next=e:(e.next=r.next,r.next=e),t.pending=e}function mV(t,e,r){if(r&4194240){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,yC(t,r)}}var Of={readContext:Nn,useCallback:pr,useContext:pr,useEffect:pr,useImperativeHandle:pr,useInsertionEffect:pr,useLayoutEffect:pr,useMemo:pr,useReducer:pr,useRef:pr,useState:pr,useDebugValue:pr,useDeferredValue:pr,useTransition:pr,useMutableSource:pr,useSyncExternalStore:pr,useId:pr,unstable_isNewReconciler:!1},fX={readContext:Nn,useCallback:function(t,e){return oi().memoizedState=[t,e===void 0?null:e],t},useContext:Nn,useEffect:gN,useImperativeHandle:function(t,e,r){return r=r!=null?r.concat([t]):null,Vh(4194308,4,oV.bind(null,e,t),r)},useLayoutEffect:function(t,e){return Vh(4194308,4,t,e)},useInsertionEffect:function(t,e){return Vh(4,2,t,e)},useMemo:function(t,e){var r=oi();return e=e===void 0?null:e,t=t(),r.memoizedState=[t,e],t},useReducer:function(t,e,r){var n=oi();return e=r!==void 0?r(e):e,n.memoizedState=n.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},n.queue=t,t=t.dispatch=dX.bind(null,dt,t),[n.memoizedState,t]},useRef:function(t){var e=oi();return t={current:t},e.memoizedState=t},useState:vN,useDebugValue:BC,useDeferredValue:function(t){return oi().memoizedState=t},useTransition:function(){var t=vN(!1),e=t[0];return t=cX.bind(null,t[1]),oi().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,r){var n=dt,i=oi();if(lt){if(r===void 0)throw Error(J(407));r=r()}else{if(r=e(),Xt===null)throw Error(J(349));Ja&30||Z8(n,e,r)}i.memoizedState=r;var s={value:r,getSnapshot:e};return i.queue=s,gN(tV.bind(null,n,s,t),[t]),n.flags|=2048,zc(9,eV.bind(null,n,s,r,e),void 0,null),r},useId:function(){var t=oi(),e=Xt.identifierPrefix;if(lt){var r=ki,n=ji;r=(n&~(1<<32-Yn(n)-1)).toString(32)+r,e=":"+e+"R"+r,r=Lc++,0<r&&(e+="H"+r.toString(32)),e+=":"}else r=uX++,e=":"+e+"r"+r.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},pX={readContext:Nn,useCallback:uV,useContext:Nn,useEffect:LC,useImperativeHandle:lV,useInsertionEffect:sV,useLayoutEffect:aV,useMemo:cV,useReducer:Nm,useRef:iV,useState:function(){return Nm(Bc)},useDebugValue:BC,useDeferredValue:function(t){var e=Rn();return dV(e,Ut.memoizedState,t)},useTransition:function(){var t=Nm(Bc)[0],e=Rn().memoizedState;return[t,e]},useMutableSource:X8,useSyncExternalStore:J8,useId:hV,unstable_isNewReconciler:!1},mX={readContext:Nn,useCallback:uV,useContext:Nn,useEffect:LC,useImperativeHandle:lV,useInsertionEffect:sV,useLayoutEffect:aV,useMemo:cV,useReducer:Rm,useRef:iV,useState:function(){return Rm(Bc)},useDebugValue:BC,useDeferredValue:function(t){var e=Rn();return Ut===null?e.memoizedState=t:dV(e,Ut.memoizedState,t)},useTransition:function(){var t=Rm(Bc)[0],e=Rn().memoizedState;return[t,e]},useMutableSource:X8,useSyncExternalStore:J8,useId:hV,unstable_isNewReconciler:!1};function Fn(t,e){if(t&&t.defaultProps){e=pt({},e),t=t.defaultProps;for(var r in t)e[r]===void 0&&(e[r]=t[r]);return e}return e}function VO(t,e,r,n){e=t.memoizedState,r=r(n,e),r=r==null?e:pt({},e,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var up={isMounted:function(t){return(t=t._reactInternals)?go(t)===t:!1},enqueueSetState:function(t,e,r){t=t._reactInternals;var n=Rr(),i=zs(t),s=Mi(n,i);s.payload=e,r!=null&&(s.callback=r),e=Ls(t,s,i),e!==null&&(Qn(e,t,i,n),Wh(e,t,i))},enqueueReplaceState:function(t,e,r){t=t._reactInternals;var n=Rr(),i=zs(t),s=Mi(n,i);s.tag=1,s.payload=e,r!=null&&(s.callback=r),e=Ls(t,s,i),e!==null&&(Qn(e,t,i,n),Wh(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var r=Rr(),n=zs(t),i=Mi(r,n);i.tag=2,e!=null&&(i.callback=e),e=Ls(t,i,n),e!==null&&(Qn(e,t,n,r),Wh(e,t,n))}};function yN(t,e,r,n,i,s,a){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(n,s,a):e.prototype&&e.prototype.isPureReactComponent?!kc(r,n)||!kc(i,s):!0}function vV(t,e,r){var n=!1,i=Zs,s=e.contextType;return typeof s=="object"&&s!==null?s=Nn(s):(i=Vr(e)?Qa:wr.current,n=e.contextTypes,s=(n=n!=null)?ql(t,i):Zs),e=new e(r,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=up,t.stateNode=e,e._reactInternals=t,n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function bN(t,e,r,n){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(r,n),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(r,n),e.state!==t&&up.enqueueReplaceState(e,e.state,null)}function KO(t,e,r,n){var i=t.stateNode;i.props=r,i.state=t.memoizedState,i.refs={},jC(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=Nn(s):(s=Vr(e)?Qa:wr.current,i.context=ql(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(VO(t,e,s,r),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&up.enqueueReplaceState(i,i.state,null),_f(t,r,i,n),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Ll(t,e){try{var r="",n=e;do r+=UY(n),n=n.return;while(n);var i=r}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function $m(t,e,r){return{value:t,source:null,stack:r??null,digest:e??null}}function GO(t,e){try{console.error(e.value)}catch(r){setTimeout(function(){throw r})}}var vX=typeof WeakMap=="function"?WeakMap:Map;function gV(t,e,r){r=Mi(-1,r),r.tag=3,r.payload={element:null};var n=e.value;return r.callback=function(){Cf||(Cf=!0,iP=n),GO(t,e)},r}function yV(t,e,r){r=Mi(-1,r),r.tag=3;var n=t.type.getDerivedStateFromError;if(typeof n=="function"){var i=e.value;r.payload=function(){return n(i)},r.callback=function(){GO(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(r.callback=function(){GO(t,e),typeof n!="function"&&(Bs===null?Bs=new Set([this]):Bs.add(this));var a=e.stack;this.componentDidCatch(e.value,{componentStack:a!==null?a:""})}),r}function wN(t,e,r){var n=t.pingCache;if(n===null){n=t.pingCache=new vX;var i=new Set;n.set(e,i)}else i=n.get(e),i===void 0&&(i=new Set,n.set(e,i));i.has(r)||(i.add(r),t=NX.bind(null,t,e,r),e.then(t,t))}function xN(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function _N(t,e,r,n,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(e=Mi(-1,1),e.tag=2,Ls(r,e,1))),r.lanes|=1),t)}var gX=Zi.ReactCurrentOwner,Wr=!1;function Pr(t,e,r,n){e.child=t===null?K8(e,null,r,n):Al(e,t.child,r,n)}function SN(t,e,r,n,i){r=r.render;var s=e.ref;return pl(e,i),n=AC(t,e,r,n,s,i),r=FC(),t!==null&&!Wr?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Xi(t,e,i)):(lt&&r&&PC(e),e.flags|=1,Pr(t,e,n,i),e.child)}function EN(t,e,r,n,i){if(t===null){var s=r.type;return typeof s=="function"&&!YC(s)&&s.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(e.tag=15,e.type=s,bV(t,e,s,n,i)):(t=Qh(r.type,null,n,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var a=s.memoizedProps;if(r=r.compare,r=r!==null?r:kc,r(a,n)&&t.ref===e.ref)return Xi(t,e,i)}return e.flags|=1,t=Us(s,n),t.ref=e.ref,t.return=e,e.child=t}function bV(t,e,r,n,i){if(t!==null){var s=t.memoizedProps;if(kc(s,n)&&t.ref===e.ref)if(Wr=!1,e.pendingProps=n=s,(t.lanes&i)!==0)t.flags&131072&&(Wr=!0);else return e.lanes=t.lanes,Xi(t,e,i)}return YO(t,e,r,n,i)}function wV(t,e,r){var n=e.pendingProps,i=n.children,s=t!==null?t.memoizedState:null;if(n.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},rt(nl,on),on|=r;else{if(!(r&1073741824))return t=s!==null?s.baseLanes|r:r,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,rt(nl,on),on|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=s!==null?s.baseLanes:r,rt(nl,on),on|=n}else s!==null?(n=s.baseLanes|r,e.memoizedState=null):n=r,rt(nl,on),on|=n;return Pr(t,e,i,r),e.child}function xV(t,e){var r=e.ref;(t===null&&r!==null||t!==null&&t.ref!==r)&&(e.flags|=512,e.flags|=2097152)}function YO(t,e,r,n,i){var s=Vr(r)?Qa:wr.current;return s=ql(e,s),pl(e,i),r=AC(t,e,r,n,s,i),n=FC(),t!==null&&!Wr?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Xi(t,e,i)):(lt&&n&&PC(e),e.flags|=1,Pr(t,e,r,i),e.child)}function ON(t,e,r,n,i){if(Vr(r)){var s=!0;gf(e)}else s=!1;if(pl(e,i),e.stateNode===null)Kh(t,e),vV(e,r,n),KO(e,r,n,i),n=!0;else if(t===null){var a=e.stateNode,o=e.memoizedProps;a.props=o;var l=a.context,u=r.contextType;typeof u=="object"&&u!==null?u=Nn(u):(u=Vr(r)?Qa:wr.current,u=ql(e,u));var c=r.getDerivedStateFromProps,h=typeof c=="function"||typeof a.getSnapshotBeforeUpdate=="function";h||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o!==n||l!==u)&&bN(e,a,n,u),ms=!1;var f=e.memoizedState;a.state=f,_f(e,n,a,i),l=e.memoizedState,o!==n||f!==l||Hr.current||ms?(typeof c=="function"&&(VO(e,r,c,n),l=e.memoizedState),(o=ms||yN(e,r,o,n,f,l,u))?(h||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(e.flags|=4194308)):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=n,e.memoizedState=l),a.props=n,a.state=l,a.context=u,n=o):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),n=!1)}else{a=e.stateNode,Y8(t,e),o=e.memoizedProps,u=e.type===e.elementType?o:Fn(e.type,o),a.props=u,h=e.pendingProps,f=a.context,l=r.contextType,typeof l=="object"&&l!==null?l=Nn(l):(l=Vr(r)?Qa:wr.current,l=ql(e,l));var p=r.getDerivedStateFromProps;(c=typeof p=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o!==h||f!==l)&&bN(e,a,n,l),ms=!1,f=e.memoizedState,a.state=f,_f(e,n,a,i);var m=e.memoizedState;o!==h||f!==m||Hr.current||ms?(typeof p=="function"&&(VO(e,r,p,n),m=e.memoizedState),(u=ms||yN(e,r,u,n,f,m,l)||!1)?(c||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(n,m,l),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(n,m,l)),typeof a.componentDidUpdate=="function"&&(e.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof a.componentDidUpdate!="function"||o===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||o===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=n,e.memoizedState=m),a.props=n,a.state=m,a.context=l,n=u):(typeof a.componentDidUpdate!="function"||o===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||o===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),n=!1)}return QO(t,e,r,n,s,i)}function QO(t,e,r,n,i,s){xV(t,e);var a=(e.flags&128)!==0;if(!n&&!a)return i&&cN(e,r,!1),Xi(t,e,s);n=e.stateNode,gX.current=e;var o=a&&typeof r.getDerivedStateFromError!="function"?null:n.render();return e.flags|=1,t!==null&&a?(e.child=Al(e,t.child,null,s),e.child=Al(e,null,o,s)):Pr(t,e,o,s),e.memoizedState=n.state,i&&cN(e,r,!0),e.child}function _V(t){var e=t.stateNode;e.pendingContext?uN(t,e.pendingContext,e.pendingContext!==e.context):e.context&&uN(t,e.context,!1),kC(t,e.containerInfo)}function PN(t,e,r,n,i){return Ml(),TC(i),e.flags|=256,Pr(t,e,r,n),e.child}var XO={dehydrated:null,treeContext:null,retryLane:0};function JO(t){return{baseLanes:t,cachePool:null,transitions:null}}function SV(t,e,r){var n=e.pendingProps,i=ct.current,s=!1,a=(e.flags&128)!==0,o;if((o=a)||(o=t!==null&&t.memoizedState===null?!1:(i&2)!==0),o?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),rt(ct,i&1),t===null)return WO(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(a=n.children,t=n.fallback,s?(n=e.mode,s=e.child,a={mode:"hidden",children:a},!(n&1)&&s!==null?(s.childLanes=0,s.pendingProps=a):s=hp(a,n,0,null),t=Ba(t,n,r,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=JO(r),e.memoizedState=XO,t):zC(e,a));if(i=t.memoizedState,i!==null&&(o=i.dehydrated,o!==null))return yX(t,e,a,n,o,i,r);if(s){s=n.fallback,a=e.mode,i=t.child,o=i.sibling;var l={mode:"hidden",children:n.children};return!(a&1)&&e.child!==i?(n=e.child,n.childLanes=0,n.pendingProps=l,e.deletions=null):(n=Us(i,l),n.subtreeFlags=i.subtreeFlags&14680064),o!==null?s=Us(o,s):(s=Ba(s,a,r,null),s.flags|=2),s.return=e,n.return=e,n.sibling=s,e.child=n,n=s,s=e.child,a=t.child.memoizedState,a=a===null?JO(r):{baseLanes:a.baseLanes|r,cachePool:null,transitions:a.transitions},s.memoizedState=a,s.childLanes=t.childLanes&~r,e.memoizedState=XO,n}return s=t.child,t=s.sibling,n=Us(s,{mode:"visible",children:n.children}),!(e.mode&1)&&(n.lanes=r),n.return=e,n.sibling=null,t!==null&&(r=e.deletions,r===null?(e.deletions=[t],e.flags|=16):r.push(t)),e.child=n,e.memoizedState=null,n}function zC(t,e){return e=hp({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Sh(t,e,r,n){return n!==null&&TC(n),Al(e,t.child,null,r),t=zC(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function yX(t,e,r,n,i,s,a){if(r)return e.flags&256?(e.flags&=-257,n=$m(Error(J(422))),Sh(t,e,a,n)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=n.fallback,i=e.mode,n=hp({mode:"visible",children:n.children},i,0,null),s=Ba(s,i,a,null),s.flags|=2,n.return=e,s.return=e,n.sibling=s,e.child=n,e.mode&1&&Al(e,t.child,null,a),e.child.memoizedState=JO(a),e.memoizedState=XO,s);if(!(e.mode&1))return Sh(t,e,a,null);if(i.data==="$!"){if(n=i.nextSibling&&i.nextSibling.dataset,n)var o=n.dgst;return n=o,s=Error(J(419)),n=$m(s,n,void 0),Sh(t,e,a,n)}if(o=(a&t.childLanes)!==0,Wr||o){if(n=Xt,n!==null){switch(a&-a){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(n.suspendedLanes|a)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,Qi(t,i),Qn(n,t,i,-1))}return GC(),n=$m(Error(J(421))),Sh(t,e,a,n)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=RX.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,cn=Fs(i.nextSibling),dn=e,lt=!0,Un=null,t!==null&&(Sn[En++]=ji,Sn[En++]=ki,Sn[En++]=Xa,ji=t.id,ki=t.overflow,Xa=e),e=zC(e,n.children),e.flags|=4096,e)}function CN(t,e,r){t.lanes|=e;var n=t.alternate;n!==null&&(n.lanes|=e),HO(t.return,e,r)}function jm(t,e,r,n,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=n,s.tail=r,s.tailMode=i)}function EV(t,e,r){var n=e.pendingProps,i=n.revealOrder,s=n.tail;if(Pr(t,e,n.children,r),n=ct.current,n&2)n=n&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&CN(t,r,e);else if(t.tag===19)CN(t,r,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}n&=1}if(rt(ct,n),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(r=e.child,i=null;r!==null;)t=r.alternate,t!==null&&Sf(t)===null&&(i=r),r=r.sibling;r=i,r===null?(i=e.child,e.child=null):(i=r.sibling,r.sibling=null),jm(e,!1,i,r,s);break;case"backwards":for(r=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Sf(t)===null){e.child=i;break}t=i.sibling,i.sibling=r,r=i,i=t}jm(e,!0,r,null,s);break;case"together":jm(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Kh(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Xi(t,e,r){if(t!==null&&(e.dependencies=t.dependencies),Za|=e.lanes,!(r&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(J(153));if(e.child!==null){for(t=e.child,r=Us(t,t.pendingProps),e.child=r,r.return=e;t.sibling!==null;)t=t.sibling,r=r.sibling=Us(t,t.pendingProps),r.return=e;r.sibling=null}return e.child}function bX(t,e,r){switch(e.tag){case 3:_V(e),Ml();break;case 5:Q8(e);break;case 1:Vr(e.type)&&gf(e);break;case 4:kC(e,e.stateNode.containerInfo);break;case 10:var n=e.type._context,i=e.memoizedProps.value;rt(wf,n._currentValue),n._currentValue=i;break;case 13:if(n=e.memoizedState,n!==null)return n.dehydrated!==null?(rt(ct,ct.current&1),e.flags|=128,null):r&e.child.childLanes?SV(t,e,r):(rt(ct,ct.current&1),t=Xi(t,e,r),t!==null?t.sibling:null);rt(ct,ct.current&1);break;case 19:if(n=(r&e.childLanes)!==0,t.flags&128){if(n)return EV(t,e,r);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),rt(ct,ct.current),n)break;return null;case 22:case 23:return e.lanes=0,wV(t,e,r)}return Xi(t,e,r)}var OV,ZO,PV,CV;OV=function(t,e){for(var r=e.child;r!==null;){if(r.tag===5||r.tag===6)t.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};ZO=function(){};PV=function(t,e,r,n){var i=t.memoizedProps;if(i!==n){t=e.stateNode,Sa(bi.current);var s=null;switch(r){case"input":i=xO(t,i),n=xO(t,n),s=[];break;case"select":i=pt({},i,{value:void 0}),n=pt({},n,{value:void 0}),s=[];break;case"textarea":i=EO(t,i),n=EO(t,n),s=[];break;default:typeof i.onClick!="function"&&typeof n.onClick=="function"&&(t.onclick=mf)}PO(r,n);var a;r=null;for(u in i)if(!n.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var o=i[u];for(a in o)o.hasOwnProperty(a)&&(r||(r={}),r[a]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Cc.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in n){var l=n[u];if(o=i!=null?i[u]:void 0,n.hasOwnProperty(u)&&l!==o&&(l!=null||o!=null))if(u==="style")if(o){for(a in o)!o.hasOwnProperty(a)||l&&l.hasOwnProperty(a)||(r||(r={}),r[a]="");for(a in l)l.hasOwnProperty(a)&&o[a]!==l[a]&&(r||(r={}),r[a]=l[a])}else r||(s||(s=[]),s.push(u,r)),r=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,o=o?o.__html:void 0,l!=null&&o!==l&&(s=s||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Cc.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&st("scroll",t),s||o===l||(s=[])):(s=s||[]).push(u,l))}r&&(s=s||[]).push("style",r);var u=s;(e.updateQueue=u)&&(e.flags|=4)}};CV=function(t,e,r,n){r!==n&&(e.flags|=4)};function Vu(t,e){if(!lt)switch(t.tailMode){case"hidden":e=t.tail;for(var r=null;e!==null;)e.alternate!==null&&(r=e),e=e.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:n.sibling=null}}function mr(t){var e=t.alternate!==null&&t.alternate.child===t.child,r=0,n=0;if(e)for(var i=t.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags&14680064,n|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags,n|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=n,t.childLanes=r,e}function wX(t,e,r){var n=e.pendingProps;switch(CC(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return mr(e),null;case 1:return Vr(e.type)&&vf(),mr(e),null;case 3:return n=e.stateNode,Fl(),at(Hr),at(wr),qC(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(xh(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Un!==null&&(oP(Un),Un=null))),ZO(t,e),mr(e),null;case 5:DC(e);var i=Sa(Fc.current);if(r=e.type,t!==null&&e.stateNode!=null)PV(t,e,r,n,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!n){if(e.stateNode===null)throw Error(J(166));return mr(e),null}if(t=Sa(bi.current),xh(e)){n=e.stateNode,r=e.type;var s=e.memoizedProps;switch(n[fi]=e,n[Mc]=s,t=(e.mode&1)!==0,r){case"dialog":st("cancel",n),st("close",n);break;case"iframe":case"object":case"embed":st("load",n);break;case"video":case"audio":for(i=0;i<sc.length;i++)st(sc[i],n);break;case"source":st("error",n);break;case"img":case"image":case"link":st("error",n),st("load",n);break;case"details":st("toggle",n);break;case"input":qI(n,s),st("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!s.multiple},st("invalid",n);break;case"textarea":AI(n,s),st("invalid",n)}PO(r,s),i=null;for(var a in s)if(s.hasOwnProperty(a)){var o=s[a];a==="children"?typeof o=="string"?n.textContent!==o&&(s.suppressHydrationWarning!==!0&&wh(n.textContent,o,t),i=["children",o]):typeof o=="number"&&n.textContent!==""+o&&(s.suppressHydrationWarning!==!0&&wh(n.textContent,o,t),i=["children",""+o]):Cc.hasOwnProperty(a)&&o!=null&&a==="onScroll"&&st("scroll",n)}switch(r){case"input":hh(n),MI(n,s,!0);break;case"textarea":hh(n),FI(n);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(n.onclick=mf)}n=i,e.updateQueue=n,n!==null&&(e.flags|=4)}else{a=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=t8(r)),t==="http://www.w3.org/1999/xhtml"?r==="script"?(t=a.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof n.is=="string"?t=a.createElement(r,{is:n.is}):(t=a.createElement(r),r==="select"&&(a=t,n.multiple?a.multiple=!0:n.size&&(a.size=n.size))):t=a.createElementNS(t,r),t[fi]=e,t[Mc]=n,OV(t,e,!1,!1),e.stateNode=t;e:{switch(a=CO(r,n),r){case"dialog":st("cancel",t),st("close",t),i=n;break;case"iframe":case"object":case"embed":st("load",t),i=n;break;case"video":case"audio":for(i=0;i<sc.length;i++)st(sc[i],t);i=n;break;case"source":st("error",t),i=n;break;case"img":case"image":case"link":st("error",t),st("load",t),i=n;break;case"details":st("toggle",t),i=n;break;case"input":qI(t,n),i=xO(t,n),st("invalid",t);break;case"option":i=n;break;case"select":t._wrapperState={wasMultiple:!!n.multiple},i=pt({},n,{value:void 0}),st("invalid",t);break;case"textarea":AI(t,n),i=EO(t,n),st("invalid",t);break;default:i=n}PO(r,i),o=i;for(s in o)if(o.hasOwnProperty(s)){var l=o[s];s==="style"?i8(t,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&r8(t,l)):s==="children"?typeof l=="string"?(r!=="textarea"||l!=="")&&Tc(t,l):typeof l=="number"&&Tc(t,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Cc.hasOwnProperty(s)?l!=null&&s==="onScroll"&&st("scroll",t):l!=null&&hC(t,s,l,a))}switch(r){case"input":hh(t),MI(t,n,!1);break;case"textarea":hh(t),FI(t);break;case"option":n.value!=null&&t.setAttribute("value",""+Js(n.value));break;case"select":t.multiple=!!n.multiple,s=n.value,s!=null?cl(t,!!n.multiple,s,!1):n.defaultValue!=null&&cl(t,!!n.multiple,n.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=mf)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return mr(e),null;case 6:if(t&&e.stateNode!=null)CV(t,e,t.memoizedProps,n);else{if(typeof n!="string"&&e.stateNode===null)throw Error(J(166));if(r=Sa(Fc.current),Sa(bi.current),xh(e)){if(n=e.stateNode,r=e.memoizedProps,n[fi]=e,(s=n.nodeValue!==r)&&(t=dn,t!==null))switch(t.tag){case 3:wh(n.nodeValue,r,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&wh(n.nodeValue,r,(t.mode&1)!==0)}s&&(e.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[fi]=e,e.stateNode=n}return mr(e),null;case 13:if(at(ct),n=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(lt&&cn!==null&&e.mode&1&&!(e.flags&128))H8(),Ml(),e.flags|=98560,s=!1;else if(s=xh(e),n!==null&&n.dehydrated!==null){if(t===null){if(!s)throw Error(J(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(J(317));s[fi]=e}else Ml(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;mr(e),s=!1}else Un!==null&&(oP(Un),Un=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=r,e):(n=n!==null,n!==(t!==null&&t.memoizedState!==null)&&n&&(e.child.flags|=8192,e.mode&1&&(t===null||ct.current&1?Wt===0&&(Wt=3):GC())),e.updateQueue!==null&&(e.flags|=4),mr(e),null);case 4:return Fl(),ZO(t,e),t===null&&Dc(e.stateNode.containerInfo),mr(e),null;case 10:return RC(e.type._context),mr(e),null;case 17:return Vr(e.type)&&vf(),mr(e),null;case 19:if(at(ct),s=e.memoizedState,s===null)return mr(e),null;if(n=(e.flags&128)!==0,a=s.rendering,a===null)if(n)Vu(s,!1);else{if(Wt!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(a=Sf(t),a!==null){for(e.flags|=128,Vu(s,!1),n=a.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),e.subtreeFlags=0,n=r,r=e.child;r!==null;)s=r,t=n,s.flags&=14680066,a=s.alternate,a===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=a.childLanes,s.lanes=a.lanes,s.child=a.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=a.memoizedProps,s.memoizedState=a.memoizedState,s.updateQueue=a.updateQueue,s.type=a.type,t=a.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),r=r.sibling;return rt(ct,ct.current&1|2),e.child}t=t.sibling}s.tail!==null&&Pt()>Bl&&(e.flags|=128,n=!0,Vu(s,!1),e.lanes=4194304)}else{if(!n)if(t=Sf(a),t!==null){if(e.flags|=128,n=!0,r=t.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),Vu(s,!0),s.tail===null&&s.tailMode==="hidden"&&!a.alternate&&!lt)return mr(e),null}else 2*Pt()-s.renderingStartTime>Bl&&r!==1073741824&&(e.flags|=128,n=!0,Vu(s,!1),e.lanes=4194304);s.isBackwards?(a.sibling=e.child,e.child=a):(r=s.last,r!==null?r.sibling=a:e.child=a,s.last=a)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=Pt(),e.sibling=null,r=ct.current,rt(ct,n?r&1|2:r&1),e):(mr(e),null);case 22:case 23:return KC(),n=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==n&&(e.flags|=8192),n&&e.mode&1?on&1073741824&&(mr(e),e.subtreeFlags&6&&(e.flags|=8192)):mr(e),null;case 24:return null;case 25:return null}throw Error(J(156,e.tag))}function xX(t,e){switch(CC(e),e.tag){case 1:return Vr(e.type)&&vf(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Fl(),at(Hr),at(wr),qC(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return DC(e),null;case 13:if(at(ct),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(J(340));Ml()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return at(ct),null;case 4:return Fl(),null;case 10:return RC(e.type._context),null;case 22:case 23:return KC(),null;case 24:return null;default:return null}}var Eh=!1,gr=!1,_X=typeof WeakSet=="function"?WeakSet:Set,ce=null;function rl(t,e){var r=t.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){xt(t,e,n)}else r.current=null}function eP(t,e,r){try{r()}catch(n){xt(t,e,n)}}var TN=!1;function SX(t,e){if(MO=hf,t=$8(),OC(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var i=n.anchorOffset,s=n.focusNode;n=n.focusOffset;try{r.nodeType,s.nodeType}catch{r=null;break e}var a=0,o=-1,l=-1,u=0,c=0,h=t,f=null;t:for(;;){for(var p;h!==r||i!==0&&h.nodeType!==3||(o=a+i),h!==s||n!==0&&h.nodeType!==3||(l=a+n),h.nodeType===3&&(a+=h.nodeValue.length),(p=h.firstChild)!==null;)f=h,h=p;for(;;){if(h===t)break t;if(f===r&&++u===i&&(o=a),f===s&&++c===n&&(l=a),(p=h.nextSibling)!==null)break;h=f,f=h.parentNode}h=p}r=o===-1||l===-1?null:{start:o,end:l}}else r=null}r=r||{start:0,end:0}}else r=null;for(AO={focusedElem:t,selectionRange:r},hf=!1,ce=e;ce!==null;)if(e=ce,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,ce=t;else for(;ce!==null;){e=ce;try{var m=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(m!==null){var y=m.memoizedProps,b=m.memoizedState,g=e.stateNode,v=g.getSnapshotBeforeUpdate(e.elementType===e.type?y:Fn(e.type,y),b);g.__reactInternalSnapshotBeforeUpdate=v}break;case 3:var x=e.stateNode.containerInfo;x.nodeType===1?x.textContent="":x.nodeType===9&&x.documentElement&&x.removeChild(x.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(J(163))}}catch(w){xt(e,e.return,w)}if(t=e.sibling,t!==null){t.return=e.return,ce=t;break}ce=e.return}return m=TN,TN=!1,m}function mc(t,e,r){var n=e.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var i=n=n.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&eP(e,r,s)}i=i.next}while(i!==n)}}function cp(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var r=e=e.next;do{if((r.tag&t)===t){var n=r.create;r.destroy=n()}r=r.next}while(r!==e)}}function tP(t){var e=t.ref;if(e!==null){var r=t.stateNode;switch(t.tag){case 5:t=r;break;default:t=r}typeof e=="function"?e(t):e.current=t}}function TV(t){var e=t.alternate;e!==null&&(t.alternate=null,TV(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[fi],delete e[Mc],delete e[BO],delete e[sX],delete e[aX])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function IV(t){return t.tag===5||t.tag===3||t.tag===4}function IN(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||IV(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function rP(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.nodeType===8?r.parentNode.insertBefore(t,e):r.insertBefore(t,e):(r.nodeType===8?(e=r.parentNode,e.insertBefore(t,r)):(e=r,e.appendChild(t)),r=r._reactRootContainer,r!=null||e.onclick!==null||(e.onclick=mf));else if(n!==4&&(t=t.child,t!==null))for(rP(t,e,r),t=t.sibling;t!==null;)rP(t,e,r),t=t.sibling}function nP(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.insertBefore(t,e):r.appendChild(t);else if(n!==4&&(t=t.child,t!==null))for(nP(t,e,r),t=t.sibling;t!==null;)nP(t,e,r),t=t.sibling}var ar=null,zn=!1;function ds(t,e,r){for(r=r.child;r!==null;)NV(t,e,r),r=r.sibling}function NV(t,e,r){if(yi&&typeof yi.onCommitFiberUnmount=="function")try{yi.onCommitFiberUnmount(rp,r)}catch{}switch(r.tag){case 5:gr||rl(r,e);case 6:var n=ar,i=zn;ar=null,ds(t,e,r),ar=n,zn=i,ar!==null&&(zn?(t=ar,r=r.stateNode,t.nodeType===8?t.parentNode.removeChild(r):t.removeChild(r)):ar.removeChild(r.stateNode));break;case 18:ar!==null&&(zn?(t=ar,r=r.stateNode,t.nodeType===8?Pm(t.parentNode,r):t.nodeType===1&&Pm(t,r),$c(t)):Pm(ar,r.stateNode));break;case 4:n=ar,i=zn,ar=r.stateNode.containerInfo,zn=!0,ds(t,e,r),ar=n,zn=i;break;case 0:case 11:case 14:case 15:if(!gr&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){i=n=n.next;do{var s=i,a=s.destroy;s=s.tag,a!==void 0&&(s&2||s&4)&&eP(r,e,a),i=i.next}while(i!==n)}ds(t,e,r);break;case 1:if(!gr&&(rl(r,e),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(o){xt(r,e,o)}ds(t,e,r);break;case 21:ds(t,e,r);break;case 22:r.mode&1?(gr=(n=gr)||r.memoizedState!==null,ds(t,e,r),gr=n):ds(t,e,r);break;default:ds(t,e,r)}}function NN(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var r=t.stateNode;r===null&&(r=t.stateNode=new _X),e.forEach(function(n){var i=$X.bind(null,t,n);r.has(n)||(r.add(n),n.then(i,i))})}}function Mn(t,e){var r=e.deletions;if(r!==null)for(var n=0;n<r.length;n++){var i=r[n];try{var s=t,a=e,o=a;e:for(;o!==null;){switch(o.tag){case 5:ar=o.stateNode,zn=!1;break e;case 3:ar=o.stateNode.containerInfo,zn=!0;break e;case 4:ar=o.stateNode.containerInfo,zn=!0;break e}o=o.return}if(ar===null)throw Error(J(160));NV(s,a,i),ar=null,zn=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){xt(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)RV(e,t),e=e.sibling}function RV(t,e){var r=t.alternate,n=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Mn(e,t),si(t),n&4){try{mc(3,t,t.return),cp(3,t)}catch(y){xt(t,t.return,y)}try{mc(5,t,t.return)}catch(y){xt(t,t.return,y)}}break;case 1:Mn(e,t),si(t),n&512&&r!==null&&rl(r,r.return);break;case 5:if(Mn(e,t),si(t),n&512&&r!==null&&rl(r,r.return),t.flags&32){var i=t.stateNode;try{Tc(i,"")}catch(y){xt(t,t.return,y)}}if(n&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,a=r!==null?r.memoizedProps:s,o=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{o==="input"&&s.type==="radio"&&s.name!=null&&ZH(i,s),CO(o,a);var u=CO(o,s);for(a=0;a<l.length;a+=2){var c=l[a],h=l[a+1];c==="style"?i8(i,h):c==="dangerouslySetInnerHTML"?r8(i,h):c==="children"?Tc(i,h):hC(i,c,h,u)}switch(o){case"input":_O(i,s);break;case"textarea":e8(i,s);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var p=s.value;p!=null?cl(i,!!s.multiple,p,!1):f!==!!s.multiple&&(s.defaultValue!=null?cl(i,!!s.multiple,s.defaultValue,!0):cl(i,!!s.multiple,s.multiple?[]:"",!1))}i[Mc]=s}catch(y){xt(t,t.return,y)}}break;case 6:if(Mn(e,t),si(t),n&4){if(t.stateNode===null)throw Error(J(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(y){xt(t,t.return,y)}}break;case 3:if(Mn(e,t),si(t),n&4&&r!==null&&r.memoizedState.isDehydrated)try{$c(e.containerInfo)}catch(y){xt(t,t.return,y)}break;case 4:Mn(e,t),si(t);break;case 13:Mn(e,t),si(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(HC=Pt())),n&4&&NN(t);break;case 22:if(c=r!==null&&r.memoizedState!==null,t.mode&1?(gr=(u=gr)||c,Mn(e,t),gr=u):Mn(e,t),si(t),n&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!c&&t.mode&1)for(ce=t,c=t.child;c!==null;){for(h=ce=c;ce!==null;){switch(f=ce,p=f.child,f.tag){case 0:case 11:case 14:case 15:mc(4,f,f.return);break;case 1:rl(f,f.return);var m=f.stateNode;if(typeof m.componentWillUnmount=="function"){n=f,r=f.return;try{e=n,m.props=e.memoizedProps,m.state=e.memoizedState,m.componentWillUnmount()}catch(y){xt(n,r,y)}}break;case 5:rl(f,f.return);break;case 22:if(f.memoizedState!==null){$N(h);continue}}p!==null?(p.return=f,ce=p):$N(h)}c=c.sibling}e:for(c=null,h=t;;){if(h.tag===5){if(c===null){c=h;try{i=h.stateNode,u?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(o=h.stateNode,l=h.memoizedProps.style,a=l!=null&&l.hasOwnProperty("display")?l.display:null,o.style.display=n8("display",a))}catch(y){xt(t,t.return,y)}}}else if(h.tag===6){if(c===null)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(y){xt(t,t.return,y)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;c===h&&(c=null),h=h.return}c===h&&(c=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:Mn(e,t),si(t),n&4&&NN(t);break;case 21:break;default:Mn(e,t),si(t)}}function si(t){var e=t.flags;if(e&2){try{e:{for(var r=t.return;r!==null;){if(IV(r)){var n=r;break e}r=r.return}throw Error(J(160))}switch(n.tag){case 5:var i=n.stateNode;n.flags&32&&(Tc(i,""),n.flags&=-33);var s=IN(t);nP(t,s,i);break;case 3:case 4:var a=n.stateNode.containerInfo,o=IN(t);rP(t,o,a);break;default:throw Error(J(161))}}catch(l){xt(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function EX(t,e,r){ce=t,$V(t)}function $V(t,e,r){for(var n=(t.mode&1)!==0;ce!==null;){var i=ce,s=i.child;if(i.tag===22&&n){var a=i.memoizedState!==null||Eh;if(!a){var o=i.alternate,l=o!==null&&o.memoizedState!==null||gr;o=Eh;var u=gr;if(Eh=a,(gr=l)&&!u)for(ce=i;ce!==null;)a=ce,l=a.child,a.tag===22&&a.memoizedState!==null?jN(i):l!==null?(l.return=a,ce=l):jN(i);for(;s!==null;)ce=s,$V(s),s=s.sibling;ce=i,Eh=o,gr=u}RN(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,ce=s):RN(t)}}function RN(t){for(;ce!==null;){var e=ce;if(e.flags&8772){var r=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:gr||cp(5,e);break;case 1:var n=e.stateNode;if(e.flags&4&&!gr)if(r===null)n.componentDidMount();else{var i=e.elementType===e.type?r.memoizedProps:Fn(e.type,r.memoizedProps);n.componentDidUpdate(i,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&mN(e,s,n);break;case 3:var a=e.updateQueue;if(a!==null){if(r=null,e.child!==null)switch(e.child.tag){case 5:r=e.child.stateNode;break;case 1:r=e.child.stateNode}mN(e,a,r)}break;case 5:var o=e.stateNode;if(r===null&&e.flags&4){r=o;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&r.focus();break;case"img":l.src&&(r.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var h=c.dehydrated;h!==null&&$c(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(J(163))}gr||e.flags&512&&tP(e)}catch(f){xt(e,e.return,f)}}if(e===t){ce=null;break}if(r=e.sibling,r!==null){r.return=e.return,ce=r;break}ce=e.return}}function $N(t){for(;ce!==null;){var e=ce;if(e===t){ce=null;break}var r=e.sibling;if(r!==null){r.return=e.return,ce=r;break}ce=e.return}}function jN(t){for(;ce!==null;){var e=ce;try{switch(e.tag){case 0:case 11:case 15:var r=e.return;try{cp(4,e)}catch(l){xt(e,r,l)}break;case 1:var n=e.stateNode;if(typeof n.componentDidMount=="function"){var i=e.return;try{n.componentDidMount()}catch(l){xt(e,i,l)}}var s=e.return;try{tP(e)}catch(l){xt(e,s,l)}break;case 5:var a=e.return;try{tP(e)}catch(l){xt(e,a,l)}}}catch(l){xt(e,e.return,l)}if(e===t){ce=null;break}var o=e.sibling;if(o!==null){o.return=e.return,ce=o;break}ce=e.return}}var OX=Math.ceil,Pf=Zi.ReactCurrentDispatcher,UC=Zi.ReactCurrentOwner,Cn=Zi.ReactCurrentBatchConfig,Fe=0,Xt=null,Rt=null,or=0,on=0,nl=aa(0),Wt=0,Uc=null,Za=0,dp=0,WC=0,vc=null,zr=null,HC=0,Bl=1/0,Ci=null,Cf=!1,iP=null,Bs=null,Oh=!1,js=null,Tf=0,gc=0,sP=null,Gh=-1,Yh=0;function Rr(){return Fe&6?Pt():Gh!==-1?Gh:Gh=Pt()}function zs(t){return t.mode&1?Fe&2&&or!==0?or&-or:lX.transition!==null?(Yh===0&&(Yh=v8()),Yh):(t=We,t!==0||(t=window.event,t=t===void 0?16:S8(t.type)),t):1}function Qn(t,e,r,n){if(50<gc)throw gc=0,sP=null,Error(J(185));gd(t,r,n),(!(Fe&2)||t!==Xt)&&(t===Xt&&(!(Fe&2)&&(dp|=r),Wt===4&&ws(t,or)),Kr(t,n),r===1&&Fe===0&&!(e.mode&1)&&(Bl=Pt()+500,op&&oa()))}function Kr(t,e){var r=t.callbackNode;lQ(t,e);var n=df(t,t===Xt?or:0);if(n===0)r!==null&&zI(r),t.callbackNode=null,t.callbackPriority=0;else if(e=n&-n,t.callbackPriority!==e){if(r!=null&&zI(r),e===1)t.tag===0?oX(kN.bind(null,t)):z8(kN.bind(null,t)),nX(function(){!(Fe&6)&&oa()}),r=null;else{switch(g8(n)){case 1:r=gC;break;case 4:r=p8;break;case 16:r=cf;break;case 536870912:r=m8;break;default:r=cf}r=LV(r,jV.bind(null,t))}t.callbackPriority=e,t.callbackNode=r}}function jV(t,e){if(Gh=-1,Yh=0,Fe&6)throw Error(J(327));var r=t.callbackNode;if(ml()&&t.callbackNode!==r)return null;var n=df(t,t===Xt?or:0);if(n===0)return null;if(n&30||n&t.expiredLanes||e)e=If(t,n);else{e=n;var i=Fe;Fe|=2;var s=DV();(Xt!==t||or!==e)&&(Ci=null,Bl=Pt()+500,La(t,e));do try{TX();break}catch(o){kV(t,o)}while(!0);NC(),Pf.current=s,Fe=i,Rt!==null?e=0:(Xt=null,or=0,e=Wt)}if(e!==0){if(e===2&&(i=$O(t),i!==0&&(n=i,e=aP(t,i))),e===1)throw r=Uc,La(t,0),ws(t,n),Kr(t,Pt()),r;if(e===6)ws(t,n);else{if(i=t.current.alternate,!(n&30)&&!PX(i)&&(e=If(t,n),e===2&&(s=$O(t),s!==0&&(n=s,e=aP(t,s))),e===1))throw r=Uc,La(t,0),ws(t,n),Kr(t,Pt()),r;switch(t.finishedWork=i,t.finishedLanes=n,e){case 0:case 1:throw Error(J(345));case 2:ba(t,zr,Ci);break;case 3:if(ws(t,n),(n&130023424)===n&&(e=HC+500-Pt(),10<e)){if(df(t,0)!==0)break;if(i=t.suspendedLanes,(i&n)!==n){Rr(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=LO(ba.bind(null,t,zr,Ci),e);break}ba(t,zr,Ci);break;case 4:if(ws(t,n),(n&4194240)===n)break;for(e=t.eventTimes,i=-1;0<n;){var a=31-Yn(n);s=1<<a,a=e[a],a>i&&(i=a),n&=~s}if(n=i,n=Pt()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*OX(n/1960))-n,10<n){t.timeoutHandle=LO(ba.bind(null,t,zr,Ci),n);break}ba(t,zr,Ci);break;case 5:ba(t,zr,Ci);break;default:throw Error(J(329))}}}return Kr(t,Pt()),t.callbackNode===r?jV.bind(null,t):null}function aP(t,e){var r=vc;return t.current.memoizedState.isDehydrated&&(La(t,e).flags|=256),t=If(t,e),t!==2&&(e=zr,zr=r,e!==null&&oP(e)),t}function oP(t){zr===null?zr=t:zr.push.apply(zr,t)}function PX(t){for(var e=t;;){if(e.flags&16384){var r=e.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var i=r[n],s=i.getSnapshot;i=i.value;try{if(!Xn(s(),i))return!1}catch{return!1}}}if(r=e.child,e.subtreeFlags&16384&&r!==null)r.return=e,e=r;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function ws(t,e){for(e&=~WC,e&=~dp,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var r=31-Yn(e),n=1<<r;t[r]=-1,e&=~n}}function kN(t){if(Fe&6)throw Error(J(327));ml();var e=df(t,0);if(!(e&1))return Kr(t,Pt()),null;var r=If(t,e);if(t.tag!==0&&r===2){var n=$O(t);n!==0&&(e=n,r=aP(t,n))}if(r===1)throw r=Uc,La(t,0),ws(t,e),Kr(t,Pt()),r;if(r===6)throw Error(J(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,ba(t,zr,Ci),Kr(t,Pt()),null}function VC(t,e){var r=Fe;Fe|=1;try{return t(e)}finally{Fe=r,Fe===0&&(Bl=Pt()+500,op&&oa())}}function eo(t){js!==null&&js.tag===0&&!(Fe&6)&&ml();var e=Fe;Fe|=1;var r=Cn.transition,n=We;try{if(Cn.transition=null,We=1,t)return t()}finally{We=n,Cn.transition=r,Fe=e,!(Fe&6)&&oa()}}function KC(){on=nl.current,at(nl)}function La(t,e){t.finishedWork=null,t.finishedLanes=0;var r=t.timeoutHandle;if(r!==-1&&(t.timeoutHandle=-1,rX(r)),Rt!==null)for(r=Rt.return;r!==null;){var n=r;switch(CC(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&vf();break;case 3:Fl(),at(Hr),at(wr),qC();break;case 5:DC(n);break;case 4:Fl();break;case 13:at(ct);break;case 19:at(ct);break;case 10:RC(n.type._context);break;case 22:case 23:KC()}r=r.return}if(Xt=t,Rt=t=Us(t.current,null),or=on=e,Wt=0,Uc=null,WC=dp=Za=0,zr=vc=null,_a!==null){for(e=0;e<_a.length;e++)if(r=_a[e],n=r.interleaved,n!==null){r.interleaved=null;var i=n.next,s=r.pending;if(s!==null){var a=s.next;s.next=i,n.next=a}r.pending=n}_a=null}return t}function kV(t,e){do{var r=Rt;try{if(NC(),Hh.current=Of,Ef){for(var n=dt.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}Ef=!1}if(Ja=0,Yt=Ut=dt=null,pc=!1,Lc=0,UC.current=null,r===null||r.return===null){Wt=1,Uc=e,Rt=null;break}e:{var s=t,a=r.return,o=r,l=e;if(e=or,o.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,c=o,h=c.tag;if(!(c.mode&1)&&(h===0||h===11||h===15)){var f=c.alternate;f?(c.updateQueue=f.updateQueue,c.memoizedState=f.memoizedState,c.lanes=f.lanes):(c.updateQueue=null,c.memoizedState=null)}var p=xN(a);if(p!==null){p.flags&=-257,_N(p,a,o,s,e),p.mode&1&&wN(s,u,e),e=p,l=u;var m=e.updateQueue;if(m===null){var y=new Set;y.add(l),e.updateQueue=y}else m.add(l);break e}else{if(!(e&1)){wN(s,u,e),GC();break e}l=Error(J(426))}}else if(lt&&o.mode&1){var b=xN(a);if(b!==null){!(b.flags&65536)&&(b.flags|=256),_N(b,a,o,s,e),TC(Ll(l,o));break e}}s=l=Ll(l,o),Wt!==4&&(Wt=2),vc===null?vc=[s]:vc.push(s),s=a;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var g=gV(s,l,e);pN(s,g);break e;case 1:o=l;var v=s.type,x=s.stateNode;if(!(s.flags&128)&&(typeof v.getDerivedStateFromError=="function"||x!==null&&typeof x.componentDidCatch=="function"&&(Bs===null||!Bs.has(x)))){s.flags|=65536,e&=-e,s.lanes|=e;var w=yV(s,o,e);pN(s,w);break e}}s=s.return}while(s!==null)}MV(r)}catch(_){e=_,Rt===r&&r!==null&&(Rt=r=r.return);continue}break}while(!0)}function DV(){var t=Pf.current;return Pf.current=Of,t===null?Of:t}function GC(){(Wt===0||Wt===3||Wt===2)&&(Wt=4),Xt===null||!(Za&268435455)&&!(dp&268435455)||ws(Xt,or)}function If(t,e){var r=Fe;Fe|=2;var n=DV();(Xt!==t||or!==e)&&(Ci=null,La(t,e));do try{CX();break}catch(i){kV(t,i)}while(!0);if(NC(),Fe=r,Pf.current=n,Rt!==null)throw Error(J(261));return Xt=null,or=0,Wt}function CX(){for(;Rt!==null;)qV(Rt)}function TX(){for(;Rt!==null&&!ZY();)qV(Rt)}function qV(t){var e=FV(t.alternate,t,on);t.memoizedProps=t.pendingProps,e===null?MV(t):Rt=e,UC.current=null}function MV(t){var e=t;do{var r=e.alternate;if(t=e.return,e.flags&32768){if(r=xX(r,e),r!==null){r.flags&=32767,Rt=r;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Wt=6,Rt=null;return}}else if(r=wX(r,e,on),r!==null){Rt=r;return}if(e=e.sibling,e!==null){Rt=e;return}Rt=e=t}while(e!==null);Wt===0&&(Wt=5)}function ba(t,e,r){var n=We,i=Cn.transition;try{Cn.transition=null,We=1,IX(t,e,r,n)}finally{Cn.transition=i,We=n}return null}function IX(t,e,r,n){do ml();while(js!==null);if(Fe&6)throw Error(J(327));r=t.finishedWork;var i=t.finishedLanes;if(r===null)return null;if(t.finishedWork=null,t.finishedLanes=0,r===t.current)throw Error(J(177));t.callbackNode=null,t.callbackPriority=0;var s=r.lanes|r.childLanes;if(uQ(t,s),t===Xt&&(Rt=Xt=null,or=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||Oh||(Oh=!0,LV(cf,function(){return ml(),null})),s=(r.flags&15990)!==0,r.subtreeFlags&15990||s){s=Cn.transition,Cn.transition=null;var a=We;We=1;var o=Fe;Fe|=4,UC.current=null,SX(t,r),RV(r,t),YQ(AO),hf=!!MO,AO=MO=null,t.current=r,EX(r),eQ(),Fe=o,We=a,Cn.transition=s}else t.current=r;if(Oh&&(Oh=!1,js=t,Tf=i),s=t.pendingLanes,s===0&&(Bs=null),nQ(r.stateNode),Kr(t,Pt()),e!==null)for(n=t.onRecoverableError,r=0;r<e.length;r++)i=e[r],n(i.value,{componentStack:i.stack,digest:i.digest});if(Cf)throw Cf=!1,t=iP,iP=null,t;return Tf&1&&t.tag!==0&&ml(),s=t.pendingLanes,s&1?t===sP?gc++:(gc=0,sP=t):gc=0,oa(),null}function ml(){if(js!==null){var t=g8(Tf),e=Cn.transition,r=We;try{if(Cn.transition=null,We=16>t?16:t,js===null)var n=!1;else{if(t=js,js=null,Tf=0,Fe&6)throw Error(J(331));var i=Fe;for(Fe|=4,ce=t.current;ce!==null;){var s=ce,a=s.child;if(ce.flags&16){var o=s.deletions;if(o!==null){for(var l=0;l<o.length;l++){var u=o[l];for(ce=u;ce!==null;){var c=ce;switch(c.tag){case 0:case 11:case 15:mc(8,c,s)}var h=c.child;if(h!==null)h.return=c,ce=h;else for(;ce!==null;){c=ce;var f=c.sibling,p=c.return;if(TV(c),c===u){ce=null;break}if(f!==null){f.return=p,ce=f;break}ce=p}}}var m=s.alternate;if(m!==null){var y=m.child;if(y!==null){m.child=null;do{var b=y.sibling;y.sibling=null,y=b}while(y!==null)}}ce=s}}if(s.subtreeFlags&2064&&a!==null)a.return=s,ce=a;else e:for(;ce!==null;){if(s=ce,s.flags&2048)switch(s.tag){case 0:case 11:case 15:mc(9,s,s.return)}var g=s.sibling;if(g!==null){g.return=s.return,ce=g;break e}ce=s.return}}var v=t.current;for(ce=v;ce!==null;){a=ce;var x=a.child;if(a.subtreeFlags&2064&&x!==null)x.return=a,ce=x;else e:for(a=v;ce!==null;){if(o=ce,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:cp(9,o)}}catch(_){xt(o,o.return,_)}if(o===a){ce=null;break e}var w=o.sibling;if(w!==null){w.return=o.return,ce=w;break e}ce=o.return}}if(Fe=i,oa(),yi&&typeof yi.onPostCommitFiberRoot=="function")try{yi.onPostCommitFiberRoot(rp,t)}catch{}n=!0}return n}finally{We=r,Cn.transition=e}}return!1}function DN(t,e,r){e=Ll(r,e),e=gV(t,e,1),t=Ls(t,e,1),e=Rr(),t!==null&&(gd(t,1,e),Kr(t,e))}function xt(t,e,r){if(t.tag===3)DN(t,t,r);else for(;e!==null;){if(e.tag===3){DN(e,t,r);break}else if(e.tag===1){var n=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Bs===null||!Bs.has(n))){t=Ll(r,t),t=yV(e,t,1),e=Ls(e,t,1),t=Rr(),e!==null&&(gd(e,1,t),Kr(e,t));break}}e=e.return}}function NX(t,e,r){var n=t.pingCache;n!==null&&n.delete(e),e=Rr(),t.pingedLanes|=t.suspendedLanes&r,Xt===t&&(or&r)===r&&(Wt===4||Wt===3&&(or&130023424)===or&&500>Pt()-HC?La(t,0):WC|=r),Kr(t,e)}function AV(t,e){e===0&&(t.mode&1?(e=mh,mh<<=1,!(mh&130023424)&&(mh=4194304)):e=1);var r=Rr();t=Qi(t,e),t!==null&&(gd(t,e,r),Kr(t,r))}function RX(t){var e=t.memoizedState,r=0;e!==null&&(r=e.retryLane),AV(t,r)}function $X(t,e){var r=0;switch(t.tag){case 13:var n=t.stateNode,i=t.memoizedState;i!==null&&(r=i.retryLane);break;case 19:n=t.stateNode;break;default:throw Error(J(314))}n!==null&&n.delete(e),AV(t,r)}var FV;FV=function(t,e,r){if(t!==null)if(t.memoizedProps!==e.pendingProps||Hr.current)Wr=!0;else{if(!(t.lanes&r)&&!(e.flags&128))return Wr=!1,bX(t,e,r);Wr=!!(t.flags&131072)}else Wr=!1,lt&&e.flags&1048576&&U8(e,bf,e.index);switch(e.lanes=0,e.tag){case 2:var n=e.type;Kh(t,e),t=e.pendingProps;var i=ql(e,wr.current);pl(e,r),i=AC(null,e,n,t,i,r);var s=FC();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Vr(n)?(s=!0,gf(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,jC(e),i.updater=up,e.stateNode=i,i._reactInternals=e,KO(e,n,t,r),e=QO(null,e,n,!0,s,r)):(e.tag=0,lt&&s&&PC(e),Pr(null,e,i,r),e=e.child),e;case 16:n=e.elementType;e:{switch(Kh(t,e),t=e.pendingProps,i=n._init,n=i(n._payload),e.type=n,i=e.tag=kX(n),t=Fn(n,t),i){case 0:e=YO(null,e,n,t,r);break e;case 1:e=ON(null,e,n,t,r);break e;case 11:e=SN(null,e,n,t,r);break e;case 14:e=EN(null,e,n,Fn(n.type,t),r);break e}throw Error(J(306,n,""))}return e;case 0:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:Fn(n,i),YO(t,e,n,i,r);case 1:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:Fn(n,i),ON(t,e,n,i,r);case 3:e:{if(_V(e),t===null)throw Error(J(387));n=e.pendingProps,s=e.memoizedState,i=s.element,Y8(t,e),_f(e,n,null,r);var a=e.memoizedState;if(n=a.element,s.isDehydrated)if(s={element:n,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=Ll(Error(J(423)),e),e=PN(t,e,n,r,i);break e}else if(n!==i){i=Ll(Error(J(424)),e),e=PN(t,e,n,r,i);break e}else for(cn=Fs(e.stateNode.containerInfo.firstChild),dn=e,lt=!0,Un=null,r=K8(e,null,n,r),e.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Ml(),n===i){e=Xi(t,e,r);break e}Pr(t,e,n,r)}e=e.child}return e;case 5:return Q8(e),t===null&&WO(e),n=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,a=i.children,FO(n,i)?a=null:s!==null&&FO(n,s)&&(e.flags|=32),xV(t,e),Pr(t,e,a,r),e.child;case 6:return t===null&&WO(e),null;case 13:return SV(t,e,r);case 4:return kC(e,e.stateNode.containerInfo),n=e.pendingProps,t===null?e.child=Al(e,null,n,r):Pr(t,e,n,r),e.child;case 11:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:Fn(n,i),SN(t,e,n,i,r);case 7:return Pr(t,e,e.pendingProps,r),e.child;case 8:return Pr(t,e,e.pendingProps.children,r),e.child;case 12:return Pr(t,e,e.pendingProps.children,r),e.child;case 10:e:{if(n=e.type._context,i=e.pendingProps,s=e.memoizedProps,a=i.value,rt(wf,n._currentValue),n._currentValue=a,s!==null)if(Xn(s.value,a)){if(s.children===i.children&&!Hr.current){e=Xi(t,e,r);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var o=s.dependencies;if(o!==null){a=s.child;for(var l=o.firstContext;l!==null;){if(l.context===n){if(s.tag===1){l=Mi(-1,r&-r),l.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?l.next=l:(l.next=c.next,c.next=l),u.pending=l}}s.lanes|=r,l=s.alternate,l!==null&&(l.lanes|=r),HO(s.return,r,e),o.lanes|=r;break}l=l.next}}else if(s.tag===10)a=s.type===e.type?null:s.child;else if(s.tag===18){if(a=s.return,a===null)throw Error(J(341));a.lanes|=r,o=a.alternate,o!==null&&(o.lanes|=r),HO(a,r,e),a=s.sibling}else a=s.child;if(a!==null)a.return=s;else for(a=s;a!==null;){if(a===e){a=null;break}if(s=a.sibling,s!==null){s.return=a.return,a=s;break}a=a.return}s=a}Pr(t,e,i.children,r),e=e.child}return e;case 9:return i=e.type,n=e.pendingProps.children,pl(e,r),i=Nn(i),n=n(i),e.flags|=1,Pr(t,e,n,r),e.child;case 14:return n=e.type,i=Fn(n,e.pendingProps),i=Fn(n.type,i),EN(t,e,n,i,r);case 15:return bV(t,e,e.type,e.pendingProps,r);case 17:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:Fn(n,i),Kh(t,e),e.tag=1,Vr(n)?(t=!0,gf(e)):t=!1,pl(e,r),vV(e,n,i),KO(e,n,i,r),QO(null,e,n,!0,t,r);case 19:return EV(t,e,r);case 22:return wV(t,e,r)}throw Error(J(156,e.tag))};function LV(t,e){return f8(t,e)}function jX(t,e,r,n){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Pn(t,e,r,n){return new jX(t,e,r,n)}function YC(t){return t=t.prototype,!(!t||!t.isReactComponent)}function kX(t){if(typeof t=="function")return YC(t)?1:0;if(t!=null){if(t=t.$$typeof,t===pC)return 11;if(t===mC)return 14}return 2}function Us(t,e){var r=t.alternate;return r===null?(r=Pn(t.tag,e,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=e,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&14680064,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,e=t.dependencies,r.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r}function Qh(t,e,r,n,i,s){var a=2;if(n=t,typeof t=="function")YC(t)&&(a=1);else if(typeof t=="string")a=5;else e:switch(t){case Ko:return Ba(r.children,i,s,e);case fC:a=8,i|=8;break;case gO:return t=Pn(12,r,e,i|2),t.elementType=gO,t.lanes=s,t;case yO:return t=Pn(13,r,e,i),t.elementType=yO,t.lanes=s,t;case bO:return t=Pn(19,r,e,i),t.elementType=bO,t.lanes=s,t;case QH:return hp(r,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case GH:a=10;break e;case YH:a=9;break e;case pC:a=11;break e;case mC:a=14;break e;case ps:a=16,n=null;break e}throw Error(J(130,t==null?t:typeof t,""))}return e=Pn(a,r,e,i),e.elementType=t,e.type=n,e.lanes=s,e}function Ba(t,e,r,n){return t=Pn(7,t,n,e),t.lanes=r,t}function hp(t,e,r,n){return t=Pn(22,t,n,e),t.elementType=QH,t.lanes=r,t.stateNode={isHidden:!1},t}function km(t,e,r){return t=Pn(6,t,null,e),t.lanes=r,t}function Dm(t,e,r){return e=Pn(4,t.children!==null?t.children:[],t.key,e),e.lanes=r,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function DX(t,e,r,n,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=mm(0),this.expirationTimes=mm(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=mm(0),this.identifierPrefix=n,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function QC(t,e,r,n,i,s,a,o,l){return t=new DX(t,e,r,o,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=Pn(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},jC(s),t}function qX(t,e,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Vo,key:n==null?null:""+n,children:t,containerInfo:e,implementation:r}}function BV(t){if(!t)return Zs;t=t._reactInternals;e:{if(go(t)!==t||t.tag!==1)throw Error(J(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Vr(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(J(171))}if(t.tag===1){var r=t.type;if(Vr(r))return B8(t,r,e)}return e}function zV(t,e,r,n,i,s,a,o,l){return t=QC(r,n,!0,t,i,s,a,o,l),t.context=BV(null),r=t.current,n=Rr(),i=zs(r),s=Mi(n,i),s.callback=e??null,Ls(r,s,i),t.current.lanes=i,gd(t,i,n),Kr(t,n),t}function fp(t,e,r,n){var i=e.current,s=Rr(),a=zs(i);return r=BV(r),e.context===null?e.context=r:e.pendingContext=r,e=Mi(s,a),e.payload={element:t},n=n===void 0?null:n,n!==null&&(e.callback=n),t=Ls(i,e,a),t!==null&&(Qn(t,i,a,s),Wh(t,i,a)),a}function Nf(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function qN(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<e?r:e}}function XC(t,e){qN(t,e),(t=t.alternate)&&qN(t,e)}function MX(){return null}var UV=typeof reportError=="function"?reportError:function(t){console.error(t)};function JC(t){this._internalRoot=t}pp.prototype.render=JC.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(J(409));fp(t,e,null,null)};pp.prototype.unmount=JC.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;eo(function(){fp(null,t,null,null)}),e[Yi]=null}};function pp(t){this._internalRoot=t}pp.prototype.unstable_scheduleHydration=function(t){if(t){var e=w8();t={blockedOn:null,target:t,priority:e};for(var r=0;r<bs.length&&e!==0&&e<bs[r].priority;r++);bs.splice(r,0,t),r===0&&_8(t)}};function ZC(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function mp(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function MN(){}function AX(t,e,r,n,i){if(i){if(typeof n=="function"){var s=n;n=function(){var u=Nf(a);s.call(u)}}var a=zV(e,n,t,0,null,!1,!1,"",MN);return t._reactRootContainer=a,t[Yi]=a.current,Dc(t.nodeType===8?t.parentNode:t),eo(),a}for(;i=t.lastChild;)t.removeChild(i);if(typeof n=="function"){var o=n;n=function(){var u=Nf(l);o.call(u)}}var l=QC(t,0,!1,null,null,!1,!1,"",MN);return t._reactRootContainer=l,t[Yi]=l.current,Dc(t.nodeType===8?t.parentNode:t),eo(function(){fp(e,l,r,n)}),l}function vp(t,e,r,n,i){var s=r._reactRootContainer;if(s){var a=s;if(typeof i=="function"){var o=i;i=function(){var l=Nf(a);o.call(l)}}fp(e,a,t,i)}else a=AX(r,e,t,i,n);return Nf(a)}y8=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var r=ic(e.pendingLanes);r!==0&&(yC(e,r|1),Kr(e,Pt()),!(Fe&6)&&(Bl=Pt()+500,oa()))}break;case 13:eo(function(){var n=Qi(t,1);if(n!==null){var i=Rr();Qn(n,t,1,i)}}),XC(t,1)}};bC=function(t){if(t.tag===13){var e=Qi(t,134217728);if(e!==null){var r=Rr();Qn(e,t,134217728,r)}XC(t,134217728)}};b8=function(t){if(t.tag===13){var e=zs(t),r=Qi(t,e);if(r!==null){var n=Rr();Qn(r,t,e,n)}XC(t,e)}};w8=function(){return We};x8=function(t,e){var r=We;try{return We=t,e()}finally{We=r}};IO=function(t,e,r){switch(e){case"input":if(_O(t,r),e=r.name,r.type==="radio"&&e!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<r.length;e++){var n=r[e];if(n!==t&&n.form===t.form){var i=ap(n);if(!i)throw Error(J(90));JH(n),_O(n,i)}}}break;case"textarea":e8(t,r);break;case"select":e=r.value,e!=null&&cl(t,!!r.multiple,e,!1)}};o8=VC;l8=eo;var FX={usingClientEntryPoint:!1,Events:[bd,Xo,ap,s8,a8,VC]},Ku={findFiberByHostInstance:xa,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},LX={bundleType:Ku.bundleType,version:Ku.version,rendererPackageName:Ku.rendererPackageName,rendererConfig:Ku.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Zi.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=d8(t),t===null?null:t.stateNode},findFiberByHostInstance:Ku.findFiberByHostInstance||MX,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ph=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ph.isDisabled&&Ph.supportsFiber)try{rp=Ph.inject(LX),yi=Ph}catch{}}fn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=FX;fn.createPortal=function(t,e){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!ZC(e))throw Error(J(200));return qX(t,e,null,r)};fn.createRoot=function(t,e){if(!ZC(t))throw Error(J(299));var r=!1,n="",i=UV;return e!=null&&(e.unstable_strictMode===!0&&(r=!0),e.identifierPrefix!==void 0&&(n=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=QC(t,1,!1,null,null,r,!1,n,i),t[Yi]=e.current,Dc(t.nodeType===8?t.parentNode:t),new JC(e)};fn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(J(188)):(t=Object.keys(t).join(","),Error(J(268,t)));return t=d8(e),t=t===null?null:t.stateNode,t};fn.flushSync=function(t){return eo(t)};fn.hydrate=function(t,e,r){if(!mp(e))throw Error(J(200));return vp(null,t,e,!0,r)};fn.hydrateRoot=function(t,e,r){if(!ZC(t))throw Error(J(405));var n=r!=null&&r.hydratedSources||null,i=!1,s="",a=UV;if(r!=null&&(r.unstable_strictMode===!0&&(i=!0),r.identifierPrefix!==void 0&&(s=r.identifierPrefix),r.onRecoverableError!==void 0&&(a=r.onRecoverableError)),e=zV(e,null,t,1,r??null,i,!1,s,a),t[Yi]=e.current,Dc(t),n)for(t=0;t<n.length;t++)r=n[t],i=r._getVersion,i=i(r._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[r,i]:e.mutableSourceEagerHydrationData.push(r,i);return new pp(e)};fn.render=function(t,e,r){if(!mp(e))throw Error(J(200));return vp(null,t,e,!1,r)};fn.unmountComponentAtNode=function(t){if(!mp(t))throw Error(J(40));return t._reactRootContainer?(eo(function(){vp(null,null,t,!1,function(){t._reactRootContainer=null,t[Yi]=null})}),!0):!1};fn.unstable_batchedUpdates=VC;fn.unstable_renderSubtreeIntoContainer=function(t,e,r,n){if(!mp(r))throw Error(J(200));if(t==null||t._reactInternals===void 0)throw Error(J(38));return vp(t,e,r,!1,n)};fn.version="18.3.1-next-f1338f8080-20240426";function WV(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(WV)}catch(t){console.error(t)}}WV(),WH.exports=fn;var BX=WH.exports,AN=BX;mO.createRoot=AN.createRoot,mO.hydrateRoot=AN.hydrateRoot;/**
 * @remix-run/router v1.23.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Wc(){return Wc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Wc.apply(this,arguments)}var ks;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(ks||(ks={}));const FN="popstate";function zX(t){t===void 0&&(t={});function e(n,i){let{pathname:s,search:a,hash:o}=n.location;return lP("",{pathname:s,search:a,hash:o},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function r(n,i){return typeof i=="string"?i:Rf(i)}return WX(e,r,null,t)}function ht(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function eT(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function UX(){return Math.random().toString(36).substr(2,8)}function LN(t,e){return{usr:t.state,key:t.key,idx:e}}function lP(t,e,r,n){return r===void 0&&(r=null),Wc({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?ou(e):e,{state:r,key:e&&e.key||n||UX()})}function Rf(t){let{pathname:e="/",search:r="",hash:n=""}=t;return r&&r!=="?"&&(e+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function ou(t){let e={};if(t){let r=t.indexOf("#");r>=0&&(e.hash=t.substr(r),t=t.substr(0,r));let n=t.indexOf("?");n>=0&&(e.search=t.substr(n),t=t.substr(0,n)),t&&(e.pathname=t)}return e}function WX(t,e,r,n){n===void 0&&(n={});let{window:i=document.defaultView,v5Compat:s=!1}=n,a=i.history,o=ks.Pop,l=null,u=c();u==null&&(u=0,a.replaceState(Wc({},a.state,{idx:u}),""));function c(){return(a.state||{idx:null}).idx}function h(){o=ks.Pop;let b=c(),g=b==null?null:b-u;u=b,l&&l({action:o,location:y.location,delta:g})}function f(b,g){o=ks.Push;let v=lP(y.location,b,g);u=c()+1;let x=LN(v,u),w=y.createHref(v);try{a.pushState(x,"",w)}catch(_){if(_ instanceof DOMException&&_.name==="DataCloneError")throw _;i.location.assign(w)}s&&l&&l({action:o,location:y.location,delta:1})}function p(b,g){o=ks.Replace;let v=lP(y.location,b,g);u=c();let x=LN(v,u),w=y.createHref(v);a.replaceState(x,"",w),s&&l&&l({action:o,location:y.location,delta:0})}function m(b){let g=i.location.origin!=="null"?i.location.origin:i.location.href,v=typeof b=="string"?b:Rf(b);return v=v.replace(/ $/,"%20"),ht(g,"No window.location.(origin|href) available to create URL for href: "+v),new URL(v,g)}let y={get action(){return o},get location(){return t(i,a)},listen(b){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(FN,h),l=b,()=>{i.removeEventListener(FN,h),l=null}},createHref(b){return e(i,b)},createURL:m,encodeLocation(b){let g=m(b);return{pathname:g.pathname,search:g.search,hash:g.hash}},push:f,replace:p,go(b){return a.go(b)}};return y}var BN;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(BN||(BN={}));function HX(t,e,r){return r===void 0&&(r="/"),VX(t,e,r)}function VX(t,e,r,n){let i=typeof e=="string"?ou(e):e,s=zl(i.pathname||"/",r);if(s==null)return null;let a=HV(t);KX(a);let o=null;for(let l=0;o==null&&l<a.length;++l){let u=iJ(s);o=rJ(a[l],u)}return o}function HV(t,e,r,n){e===void 0&&(e=[]),r===void 0&&(r=[]),n===void 0&&(n="");let i=(s,a,o)=>{let l={relativePath:o===void 0?s.path||"":o,caseSensitive:s.caseSensitive===!0,childrenIndex:a,route:s};l.relativePath.startsWith("/")&&(ht(l.relativePath.startsWith(n),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(n.length));let u=Ws([n,l.relativePath]),c=r.concat(l);s.children&&s.children.length>0&&(ht(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),HV(s.children,e,c,u)),!(s.path==null&&!s.index)&&e.push({path:u,score:eJ(u,s.index),routesMeta:c})};return t.forEach((s,a)=>{var o;if(s.path===""||!((o=s.path)!=null&&o.includes("?")))i(s,a);else for(let l of VV(s.path))i(s,a,l)}),e}function VV(t){let e=t.split("/");if(e.length===0)return[];let[r,...n]=e,i=r.endsWith("?"),s=r.replace(/\?$/,"");if(n.length===0)return i?[s,""]:[s];let a=VV(n.join("/")),o=[];return o.push(...a.map(l=>l===""?s:[s,l].join("/"))),i&&o.push(...a),o.map(l=>t.startsWith("/")&&l===""?"/":l)}function KX(t){t.sort((e,r)=>e.score!==r.score?r.score-e.score:tJ(e.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const GX=/^:[\w-]+$/,YX=3,QX=2,XX=1,JX=10,ZX=-2,zN=t=>t==="*";function eJ(t,e){let r=t.split("/"),n=r.length;return r.some(zN)&&(n+=ZX),e&&(n+=QX),r.filter(i=>!zN(i)).reduce((i,s)=>i+(GX.test(s)?YX:s===""?XX:JX),n)}function tJ(t,e){return t.length===e.length&&t.slice(0,-1).every((n,i)=>n===e[i])?t[t.length-1]-e[e.length-1]:0}function rJ(t,e,r){let{routesMeta:n}=t,i={},s="/",a=[];for(let o=0;o<n.length;++o){let l=n[o],u=o===n.length-1,c=s==="/"?e:e.slice(s.length)||"/",h=uP({path:l.relativePath,caseSensitive:l.caseSensitive,end:u},c),f=l.route;if(!h)return null;Object.assign(i,h.params),a.push({params:i,pathname:Ws([s,h.pathname]),pathnameBase:uJ(Ws([s,h.pathnameBase])),route:f}),h.pathnameBase!=="/"&&(s=Ws([s,h.pathnameBase]))}return a}function uP(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[r,n]=nJ(t.path,t.caseSensitive,t.end),i=e.match(r);if(!i)return null;let s=i[0],a=s.replace(/(.)\/+$/,"$1"),o=i.slice(1);return{params:n.reduce((u,c,h)=>{let{paramName:f,isOptional:p}=c;if(f==="*"){let y=o[h]||"";a=s.slice(0,s.length-y.length).replace(/(.)\/+$/,"$1")}const m=o[h];return p&&!m?u[f]=void 0:u[f]=(m||"").replace(/%2F/g,"/"),u},{}),pathname:s,pathnameBase:a,pattern:t}}function nJ(t,e,r){e===void 0&&(e=!1),r===void 0&&(r=!0),eT(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let n=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,o,l)=>(n.push({paramName:o,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(n.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),n]}function iJ(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return eT(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function zl(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let r=e.endsWith("/")?e.length-1:e.length,n=t.charAt(r);return n&&n!=="/"?null:t.slice(r)||"/"}const sJ=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,aJ=t=>sJ.test(t);function oJ(t,e){e===void 0&&(e="/");let{pathname:r,search:n="",hash:i=""}=typeof t=="string"?ou(t):t,s;if(r)if(aJ(r))s=r;else{if(r.includes("//")){let a=r;r=r.replace(/\/\/+/g,"/"),eT(!1,"Pathnames cannot have embedded double slashes - normalizing "+(a+" -> "+r))}r.startsWith("/")?s=UN(r.substring(1),"/"):s=UN(r,e)}else s=e;return{pathname:s,search:cJ(n),hash:dJ(i)}}function UN(t,e){let r=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?r.length>1&&r.pop():i!=="."&&r.push(i)}),r.length>1?r.join("/"):"/"}function qm(t,e,r,n){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function lJ(t){return t.filter((e,r)=>r===0||e.route.path&&e.route.path.length>0)}function tT(t,e){let r=lJ(t);return e?r.map((n,i)=>i===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function rT(t,e,r,n){n===void 0&&(n=!1);let i;typeof t=="string"?i=ou(t):(i=Wc({},t),ht(!i.pathname||!i.pathname.includes("?"),qm("?","pathname","search",i)),ht(!i.pathname||!i.pathname.includes("#"),qm("#","pathname","hash",i)),ht(!i.search||!i.search.includes("#"),qm("#","search","hash",i)));let s=t===""||i.pathname==="",a=s?"/":i.pathname,o;if(a==null)o=r;else{let h=e.length-1;if(!n&&a.startsWith("..")){let f=a.split("/");for(;f[0]==="..";)f.shift(),h-=1;i.pathname=f.join("/")}o=h>=0?e[h]:"/"}let l=oJ(i,o),u=a&&a!=="/"&&a.endsWith("/"),c=(s||a===".")&&r.endsWith("/");return!l.pathname.endsWith("/")&&(u||c)&&(l.pathname+="/"),l}const Ws=t=>t.join("/").replace(/\/\/+/g,"/"),uJ=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),cJ=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,dJ=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function hJ(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const KV=["post","put","patch","delete"];new Set(KV);const fJ=["get",...KV];new Set(fJ);/**
 * React Router v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Hc(){return Hc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Hc.apply(this,arguments)}const gp=j.createContext(null),GV=j.createContext(null),es=j.createContext(null),yp=j.createContext(null),ts=j.createContext({outlet:null,matches:[],isDataRoute:!1}),YV=j.createContext(null);function pJ(t,e){let{relative:r}=e===void 0?{}:e;lu()||ht(!1);let{basename:n,navigator:i}=j.useContext(es),{hash:s,pathname:a,search:o}=bp(t,{relative:r}),l=a;return n!=="/"&&(l=a==="/"?n:Ws([n,a])),i.createHref({pathname:l,search:o,hash:s})}function lu(){return j.useContext(yp)!=null}function rs(){return lu()||ht(!1),j.useContext(yp).location}function QV(t){j.useContext(es).static||j.useLayoutEffect(t)}function Zr(){let{isDataRoute:t}=j.useContext(ts);return t?CJ():mJ()}function mJ(){lu()||ht(!1);let t=j.useContext(gp),{basename:e,future:r,navigator:n}=j.useContext(es),{matches:i}=j.useContext(ts),{pathname:s}=rs(),a=JSON.stringify(tT(i,r.v7_relativeSplatPath)),o=j.useRef(!1);return QV(()=>{o.current=!0}),j.useCallback(function(u,c){if(c===void 0&&(c={}),!o.current)return;if(typeof u=="number"){n.go(u);return}let h=rT(u,JSON.parse(a),s,c.relative==="path");t==null&&e!=="/"&&(h.pathname=h.pathname==="/"?e:Ws([e,h.pathname])),(c.replace?n.replace:n.push)(h,c.state,c)},[e,n,a,s,t])}function ns(){let{matches:t}=j.useContext(ts),e=t[t.length-1];return e?e.params:{}}function bp(t,e){let{relative:r}=e===void 0?{}:e,{future:n}=j.useContext(es),{matches:i}=j.useContext(ts),{pathname:s}=rs(),a=JSON.stringify(tT(i,n.v7_relativeSplatPath));return j.useMemo(()=>rT(t,JSON.parse(a),s,r==="path"),[t,a,s,r])}function vJ(t,e){return gJ(t,e)}function gJ(t,e,r,n){lu()||ht(!1);let{navigator:i}=j.useContext(es),{matches:s}=j.useContext(ts),a=s[s.length-1],o=a?a.params:{};a&&a.pathname;let l=a?a.pathnameBase:"/";a&&a.route;let u=rs(),c;if(e){var h;let b=typeof e=="string"?ou(e):e;l==="/"||(h=b.pathname)!=null&&h.startsWith(l)||ht(!1),c=b}else c=u;let f=c.pathname||"/",p=f;if(l!=="/"){let b=l.replace(/^\//,"").split("/");p="/"+f.replace(/^\//,"").split("/").slice(b.length).join("/")}let m=HX(t,{pathname:p}),y=_J(m&&m.map(b=>Object.assign({},b,{params:Object.assign({},o,b.params),pathname:Ws([l,i.encodeLocation?i.encodeLocation(b.pathname).pathname:b.pathname]),pathnameBase:b.pathnameBase==="/"?l:Ws([l,i.encodeLocation?i.encodeLocation(b.pathnameBase).pathname:b.pathnameBase])})),s,r,n);return e&&y?j.createElement(yp.Provider,{value:{location:Hc({pathname:"/",search:"",hash:"",state:null,key:"default"},c),navigationType:ks.Pop}},y):y}function yJ(){let t=PJ(),e=hJ(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),r=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return j.createElement(j.Fragment,null,j.createElement("h2",null,"Unexpected Application Error!"),j.createElement("h3",{style:{fontStyle:"italic"}},e),r?j.createElement("pre",{style:i},r):null,null)}const bJ=j.createElement(yJ,null);class wJ extends j.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,r){return r.location!==e.location||r.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:r.error,location:r.location,revalidation:e.revalidation||r.revalidation}}componentDidCatch(e,r){console.error("React Router caught the following error during render",e,r)}render(){return this.state.error!==void 0?j.createElement(ts.Provider,{value:this.props.routeContext},j.createElement(YV.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function xJ(t){let{routeContext:e,match:r,children:n}=t,i=j.useContext(gp);return i&&i.static&&i.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=r.route.id),j.createElement(ts.Provider,{value:e},n)}function _J(t,e,r,n){var i;if(e===void 0&&(e=[]),r===void 0&&(r=null),n===void 0&&(n=null),t==null){var s;if(!r)return null;if(r.errors)t=r.matches;else if((s=n)!=null&&s.v7_partialHydration&&e.length===0&&!r.initialized&&r.matches.length>0)t=r.matches;else return null}let a=t,o=(i=r)==null?void 0:i.errors;if(o!=null){let c=a.findIndex(h=>h.route.id&&(o==null?void 0:o[h.route.id])!==void 0);c>=0||ht(!1),a=a.slice(0,Math.min(a.length,c+1))}let l=!1,u=-1;if(r&&n&&n.v7_partialHydration)for(let c=0;c<a.length;c++){let h=a[c];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(u=c),h.route.id){let{loaderData:f,errors:p}=r,m=h.route.loader&&f[h.route.id]===void 0&&(!p||p[h.route.id]===void 0);if(h.route.lazy||m){l=!0,u>=0?a=a.slice(0,u+1):a=[a[0]];break}}}return a.reduceRight((c,h,f)=>{let p,m=!1,y=null,b=null;r&&(p=o&&h.route.id?o[h.route.id]:void 0,y=h.route.errorElement||bJ,l&&(u<0&&f===0?(TJ("route-fallback"),m=!0,b=null):u===f&&(m=!0,b=h.route.hydrateFallbackElement||null)));let g=e.concat(a.slice(0,f+1)),v=()=>{let x;return p?x=y:m?x=b:h.route.Component?x=j.createElement(h.route.Component,null):h.route.element?x=h.route.element:x=c,j.createElement(xJ,{match:h,routeContext:{outlet:c,matches:g,isDataRoute:r!=null},children:x})};return r&&(h.route.ErrorBoundary||h.route.errorElement||f===0)?j.createElement(wJ,{location:r.location,revalidation:r.revalidation,component:y,error:p,children:v(),routeContext:{outlet:null,matches:g,isDataRoute:!0}}):v()},null)}var XV=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(XV||{}),JV=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(JV||{});function SJ(t){let e=j.useContext(gp);return e||ht(!1),e}function EJ(t){let e=j.useContext(GV);return e||ht(!1),e}function OJ(t){let e=j.useContext(ts);return e||ht(!1),e}function ZV(t){let e=OJ(),r=e.matches[e.matches.length-1];return r.route.id||ht(!1),r.route.id}function PJ(){var t;let e=j.useContext(YV),r=EJ(),n=ZV();return e!==void 0?e:(t=r.errors)==null?void 0:t[n]}function CJ(){let{router:t}=SJ(XV.UseNavigateStable),e=ZV(JV.UseNavigateStable),r=j.useRef(!1);return QV(()=>{r.current=!0}),j.useCallback(function(i,s){s===void 0&&(s={}),r.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,Hc({fromRouteId:e},s)))},[t,e])}const WN={};function TJ(t,e,r){WN[t]||(WN[t]=!0)}function IJ(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function e7(t){let{to:e,replace:r,state:n,relative:i}=t;lu()||ht(!1);let{future:s,static:a}=j.useContext(es),{matches:o}=j.useContext(ts),{pathname:l}=rs(),u=Zr(),c=rT(e,tT(o,s.v7_relativeSplatPath),l,i==="path"),h=JSON.stringify(c);return j.useEffect(()=>u(JSON.parse(h),{replace:r,state:n,relative:i}),[u,h,i,r,n]),null}function Xe(t){ht(!1)}function NJ(t){let{basename:e="/",children:r=null,location:n,navigationType:i=ks.Pop,navigator:s,static:a=!1,future:o}=t;lu()&&ht(!1);let l=e.replace(/^\/*/,"/"),u=j.useMemo(()=>({basename:l,navigator:s,static:a,future:Hc({v7_relativeSplatPath:!1},o)}),[l,o,s,a]);typeof n=="string"&&(n=ou(n));let{pathname:c="/",search:h="",hash:f="",state:p=null,key:m="default"}=n,y=j.useMemo(()=>{let b=zl(c,l);return b==null?null:{location:{pathname:b,search:h,hash:f,state:p,key:m},navigationType:i}},[l,c,h,f,p,m,i]);return y==null?null:j.createElement(es.Provider,{value:u},j.createElement(yp.Provider,{children:r,value:y}))}function HN(t){let{children:e,location:r}=t;return vJ(cP(e),r)}new Promise(()=>{});function cP(t,e){e===void 0&&(e=[]);let r=[];return j.Children.forEach(t,(n,i)=>{if(!j.isValidElement(n))return;let s=[...e,i];if(n.type===j.Fragment){r.push.apply(r,cP(n.props.children,s));return}n.type!==Xe&&ht(!1),!n.props.index||!n.props.children||ht(!1);let a={id:n.props.id||s.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(a.children=cP(n.props.children,s)),r.push(a)}),r}/**
 * React Router DOM v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function $f(){return $f=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},$f.apply(this,arguments)}function t7(t,e){if(t==null)return{};var r={},n=Object.keys(t),i,s;for(s=0;s<n.length;s++)i=n[s],!(e.indexOf(i)>=0)&&(r[i]=t[i]);return r}function RJ(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function $J(t,e){return t.button===0&&(!e||e==="_self")&&!RJ(t)}function dP(t){return t===void 0&&(t=""),new URLSearchParams(typeof t=="string"||Array.isArray(t)||t instanceof URLSearchParams?t:Object.keys(t).reduce((e,r)=>{let n=t[r];return e.concat(Array.isArray(n)?n.map(i=>[r,i]):[[r,n]])},[]))}function jJ(t,e){let r=dP(t);return e&&e.forEach((n,i)=>{r.has(i)||e.getAll(i).forEach(s=>{r.append(i,s)})}),r}const kJ=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],DJ=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],qJ="6";try{window.__reactRouterVersion=qJ}catch{}const MJ=j.createContext({isTransitioning:!1}),AJ="startTransition",VN=NY[AJ];function FJ(t){let{basename:e,children:r,future:n,window:i}=t,s=j.useRef();s.current==null&&(s.current=zX({window:i,v5Compat:!0}));let a=s.current,[o,l]=j.useState({action:a.action,location:a.location}),{v7_startTransition:u}=n||{},c=j.useCallback(h=>{u&&VN?VN(()=>l(h)):l(h)},[l,u]);return j.useLayoutEffect(()=>a.listen(c),[a,c]),j.useEffect(()=>IJ(n),[n]),j.createElement(NJ,{basename:e,children:r,location:o.location,navigationType:o.action,navigator:a,future:n})}const LJ=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",BJ=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ve=j.forwardRef(function(e,r){let{onClick:n,relative:i,reloadDocument:s,replace:a,state:o,target:l,to:u,preventScrollReset:c,viewTransition:h}=e,f=t7(e,kJ),{basename:p}=j.useContext(es),m,y=!1;if(typeof u=="string"&&BJ.test(u)&&(m=u,LJ))try{let x=new URL(window.location.href),w=u.startsWith("//")?new URL(x.protocol+u):new URL(u),_=zl(w.pathname,p);w.origin===x.origin&&_!=null?u=_+w.search+w.hash:y=!0}catch{}let b=pJ(u,{relative:i}),g=WJ(u,{replace:a,state:o,target:l,preventScrollReset:c,relative:i,viewTransition:h});function v(x){n&&n(x),x.defaultPrevented||g(x)}return j.createElement("a",$f({},f,{href:m||b,onClick:y||s?n:v,ref:r,target:l}))}),zJ=j.forwardRef(function(e,r){let{"aria-current":n="page",caseSensitive:i=!1,className:s="",end:a=!1,style:o,to:l,viewTransition:u,children:c}=e,h=t7(e,DJ),f=bp(l,{relative:h.relative}),p=rs(),m=j.useContext(GV),{navigator:y,basename:b}=j.useContext(es),g=m!=null&&VJ(f)&&u===!0,v=y.encodeLocation?y.encodeLocation(f).pathname:f.pathname,x=p.pathname,w=m&&m.navigation&&m.navigation.location?m.navigation.location.pathname:null;i||(x=x.toLowerCase(),w=w?w.toLowerCase():null,v=v.toLowerCase()),w&&b&&(w=zl(w,b)||w);const _=v!=="/"&&v.endsWith("/")?v.length-1:v.length;let E=x===v||!a&&x.startsWith(v)&&x.charAt(_)==="/",O=w!=null&&(w===v||!a&&w.startsWith(v)&&w.charAt(v.length)==="/"),S={isActive:E,isPending:O,isTransitioning:g},P=E?n:void 0,C;typeof s=="function"?C=s(S):C=[s,E?"active":null,O?"pending":null,g?"transitioning":null].filter(Boolean).join(" ");let N=typeof o=="function"?o(S):o;return j.createElement(ve,$f({},h,{"aria-current":P,className:C,ref:r,style:N,to:l,viewTransition:u}),typeof c=="function"?c(S):c)});var hP;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(hP||(hP={}));var KN;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(KN||(KN={}));function UJ(t){let e=j.useContext(gp);return e||ht(!1),e}function WJ(t,e){let{target:r,replace:n,state:i,preventScrollReset:s,relative:a,viewTransition:o}=e===void 0?{}:e,l=Zr(),u=rs(),c=bp(t,{relative:a});return j.useCallback(h=>{if($J(h,r)){h.preventDefault();let f=n!==void 0?n:Rf(u)===Rf(c);l(t,{replace:f,state:i,preventScrollReset:s,relative:a,viewTransition:o})}},[u,l,c,n,i,r,t,s,a,o])}function HJ(t){let e=j.useRef(dP(t)),r=j.useRef(!1),n=rs(),i=j.useMemo(()=>jJ(n.search,r.current?null:e.current),[n.search]),s=Zr(),a=j.useCallback((o,l)=>{const u=dP(typeof o=="function"?o(i):o);r.current=!0,s("?"+u,l)},[s,i]);return[i,a]}function VJ(t,e){e===void 0&&(e={});let r=j.useContext(MJ);r==null&&ht(!1);let{basename:n}=UJ(hP.useViewTransitionState),i=bp(t,{relative:e.relative});if(!r.isTransitioning)return!1;let s=zl(r.currentLocation.pathname,n)||r.currentLocation.pathname,a=zl(r.nextLocation.pathname,n)||r.nextLocation.pathname;return uP(i.pathname,a)!=null||uP(i.pathname,s)!=null}var yo=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},KJ={setTimeout:(t,e)=>setTimeout(t,e),clearTimeout:t=>clearTimeout(t),setInterval:(t,e)=>setInterval(t,e),clearInterval:t=>clearInterval(t)},_s,sC,xH,GJ=(xH=class{constructor(){ue(this,_s,KJ);ue(this,sC,!1)}setTimeoutProvider(t){ie(this,_s,t)}setTimeout(t,e){return R(this,_s).setTimeout(t,e)}clearTimeout(t){R(this,_s).clearTimeout(t)}setInterval(t,e){return R(this,_s).setInterval(t,e)}clearInterval(t){R(this,_s).clearInterval(t)}},_s=new WeakMap,sC=new WeakMap,xH),Ea=new GJ;function YJ(t){setTimeout(t,0)}var to=typeof window>"u"||"Deno"in globalThis;function vr(){}function QJ(t,e){return typeof t=="function"?t(e):t}function fP(t){return typeof t=="number"&&t>=0&&t!==1/0}function r7(t,e){return Math.max(t+(e||0)-Date.now(),0)}function Hs(t,e){return typeof t=="function"?t(e):t}function xn(t,e){return typeof t=="function"?t(e):t}function GN(t,e){const{type:r="all",exact:n,fetchStatus:i,predicate:s,queryKey:a,stale:o}=t;if(a){if(n){if(e.queryHash!==nT(a,e.options))return!1}else if(!Vc(e.queryKey,a))return!1}if(r!=="all"){const l=e.isActive();if(r==="active"&&!l||r==="inactive"&&l)return!1}return!(typeof o=="boolean"&&e.isStale()!==o||i&&i!==e.state.fetchStatus||s&&!s(e))}function YN(t,e){const{exact:r,status:n,predicate:i,mutationKey:s}=t;if(s){if(!e.options.mutationKey)return!1;if(r){if(ro(e.options.mutationKey)!==ro(s))return!1}else if(!Vc(e.options.mutationKey,s))return!1}return!(n&&e.state.status!==n||i&&!i(e))}function nT(t,e){return((e==null?void 0:e.queryKeyHashFn)||ro)(t)}function ro(t){return JSON.stringify(t,(e,r)=>pP(r)?Object.keys(r).sort().reduce((n,i)=>(n[i]=r[i],n),{}):r)}function Vc(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?Object.keys(e).every(r=>Vc(t[r],e[r])):!1}var XJ=Object.prototype.hasOwnProperty;function iT(t,e){if(t===e)return t;const r=QN(t)&&QN(e);if(!r&&!(pP(t)&&pP(e)))return e;const i=(r?t:Object.keys(t)).length,s=r?e:Object.keys(e),a=s.length,o=r?new Array(a):{};let l=0;for(let u=0;u<a;u++){const c=r?u:s[u],h=t[c],f=e[c];if(h===f){o[c]=h,(r?u<i:XJ.call(t,c))&&l++;continue}if(h===null||f===null||typeof h!="object"||typeof f!="object"){o[c]=f;continue}const p=iT(h,f);o[c]=p,p===h&&l++}return i===a&&l===i?t:o}function Kc(t,e){if(!e||Object.keys(t).length!==Object.keys(e).length)return!1;for(const r in t)if(t[r]!==e[r])return!1;return!0}function QN(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function pP(t){if(!XN(t))return!1;const e=t.constructor;if(e===void 0)return!0;const r=e.prototype;return!(!XN(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function XN(t){return Object.prototype.toString.call(t)==="[object Object]"}function JJ(t){return new Promise(e=>{Ea.setTimeout(e,t)})}function mP(t,e,r){return typeof r.structuralSharing=="function"?r.structuralSharing(t,e):r.structuralSharing!==!1?iT(t,e):e}function ZJ(t,e,r=0){const n=[...t,e];return r&&n.length>r?n.slice(1):n}function eZ(t,e,r=0){const n=[e,...t];return r&&n.length>r?n.slice(0,-1):n}var sT=Symbol();function n7(t,e){return!t.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!t.queryFn||t.queryFn===sT?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}function aT(t,e){return typeof t=="function"?t(...e):!!t}function tZ(t,e,r){let n=!1,i;return Object.defineProperty(t,"signal",{enumerable:!0,get:()=>(i??(i=e()),n||(n=!0,i.aborted?r():i.addEventListener("abort",r,{once:!0})),i)}),t}var Ra,Ss,wl,_H,rZ=(_H=class extends yo{constructor(){super();ue(this,Ra);ue(this,Ss);ue(this,wl);ie(this,wl,e=>{if(!to&&window.addEventListener){const r=()=>e();return window.addEventListener("visibilitychange",r,!1),()=>{window.removeEventListener("visibilitychange",r)}}})}onSubscribe(){R(this,Ss)||this.setEventListener(R(this,wl))}onUnsubscribe(){var e;this.hasListeners()||((e=R(this,Ss))==null||e.call(this),ie(this,Ss,void 0))}setEventListener(e){var r;ie(this,wl,e),(r=R(this,Ss))==null||r.call(this),ie(this,Ss,e(n=>{typeof n=="boolean"?this.setFocused(n):this.onFocus()}))}setFocused(e){R(this,Ra)!==e&&(ie(this,Ra,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(r=>{r(e)})}isFocused(){var e;return typeof R(this,Ra)=="boolean"?R(this,Ra):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},Ra=new WeakMap,Ss=new WeakMap,wl=new WeakMap,_H),oT=new rZ;function vP(){let t,e;const r=new Promise((i,s)=>{t=i,e=s});r.status="pending",r.catch(()=>{});function n(i){Object.assign(r,i),delete r.resolve,delete r.reject}return r.resolve=i=>{n({status:"fulfilled",value:i}),t(i)},r.reject=i=>{n({status:"rejected",reason:i}),e(i)},r}var nZ=YJ;function iZ(){let t=[],e=0,r=o=>{o()},n=o=>{o()},i=nZ;const s=o=>{e?t.push(o):i(()=>{r(o)})},a=()=>{const o=t;t=[],o.length&&i(()=>{n(()=>{o.forEach(l=>{r(l)})})})};return{batch:o=>{let l;e++;try{l=o()}finally{e--,e||a()}return l},batchCalls:o=>(...l)=>{s(()=>{o(...l)})},schedule:s,setNotifyFunction:o=>{r=o},setBatchNotifyFunction:o=>{n=o},setScheduler:o=>{i=o}}}var Et=iZ(),xl,Es,_l,SH,sZ=(SH=class extends yo{constructor(){super();ue(this,xl,!0);ue(this,Es);ue(this,_l);ie(this,_l,e=>{if(!to&&window.addEventListener){const r=()=>e(!0),n=()=>e(!1);return window.addEventListener("online",r,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",r),window.removeEventListener("offline",n)}}})}onSubscribe(){R(this,Es)||this.setEventListener(R(this,_l))}onUnsubscribe(){var e;this.hasListeners()||((e=R(this,Es))==null||e.call(this),ie(this,Es,void 0))}setEventListener(e){var r;ie(this,_l,e),(r=R(this,Es))==null||r.call(this),ie(this,Es,e(this.setOnline.bind(this)))}setOnline(e){R(this,xl)!==e&&(ie(this,xl,e),this.listeners.forEach(n=>{n(e)}))}isOnline(){return R(this,xl)}},xl=new WeakMap,Es=new WeakMap,_l=new WeakMap,SH),jf=new sZ;function aZ(t){return Math.min(1e3*2**t,3e4)}function i7(t){return(t??"online")==="online"?jf.isOnline():!0}var gP=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function s7(t){let e=!1,r=0,n;const i=vP(),s=()=>i.status!=="pending",a=y=>{var b;if(!s()){const g=new gP(y);f(g),(b=t.onCancel)==null||b.call(t,g)}},o=()=>{e=!0},l=()=>{e=!1},u=()=>oT.isFocused()&&(t.networkMode==="always"||jf.isOnline())&&t.canRun(),c=()=>i7(t.networkMode)&&t.canRun(),h=y=>{s()||(n==null||n(),i.resolve(y))},f=y=>{s()||(n==null||n(),i.reject(y))},p=()=>new Promise(y=>{var b;n=g=>{(s()||u())&&y(g)},(b=t.onPause)==null||b.call(t)}).then(()=>{var y;n=void 0,s()||(y=t.onContinue)==null||y.call(t)}),m=()=>{if(s())return;let y;const b=r===0?t.initialPromise:void 0;try{y=b??t.fn()}catch(g){y=Promise.reject(g)}Promise.resolve(y).then(h).catch(g=>{var E;if(s())return;const v=t.retry??(to?0:3),x=t.retryDelay??aZ,w=typeof x=="function"?x(r,g):x,_=v===!0||typeof v=="number"&&r<v||typeof v=="function"&&v(r,g);if(e||!_){f(g);return}r++,(E=t.onFail)==null||E.call(t,r,g),JJ(w).then(()=>u()?void 0:p()).then(()=>{e?f(g):m()})})};return{promise:i,status:()=>i.status,cancel:a,continue:()=>(n==null||n(),i),cancelRetry:o,continueRetry:l,canStart:c,start:()=>(c()?m():p().then(m),i)}}var $a,EH,a7=(EH=class{constructor(){ue(this,$a)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),fP(this.gcTime)&&ie(this,$a,Ea.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(to?1/0:5*60*1e3))}clearGcTimeout(){R(this,$a)&&(Ea.clearTimeout(R(this,$a)),ie(this,$a,void 0))}},$a=new WeakMap,EH),ja,Sl,bn,ka,Gt,ld,Da,Ln,Pi,OH,oZ=(OH=class extends a7{constructor(e){super();ue(this,Ln);ue(this,ja);ue(this,Sl);ue(this,bn);ue(this,ka);ue(this,Gt);ue(this,ld);ue(this,Da);ie(this,Da,!1),ie(this,ld,e.defaultOptions),this.setOptions(e.options),this.observers=[],ie(this,ka,e.client),ie(this,bn,R(this,ka).getQueryCache()),this.queryKey=e.queryKey,this.queryHash=e.queryHash,ie(this,ja,ZN(this.options)),this.state=e.state??R(this,ja),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var e;return(e=R(this,Gt))==null?void 0:e.promise}setOptions(e){if(this.options={...R(this,ld),...e},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const r=ZN(this.options);r.data!==void 0&&(this.setState(JN(r.data,r.dataUpdatedAt)),ie(this,ja,r))}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&R(this,bn).remove(this)}setData(e,r){const n=mP(this.state.data,e,this.options);return Se(this,Ln,Pi).call(this,{data:n,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),n}setState(e,r){Se(this,Ln,Pi).call(this,{type:"setState",state:e,setStateOptions:r})}cancel(e){var n,i;const r=(n=R(this,Gt))==null?void 0:n.promise;return(i=R(this,Gt))==null||i.cancel(e),r?r.then(vr).catch(vr):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(R(this,ja))}isActive(){return this.observers.some(e=>xn(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===sT||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(e=>Hs(e.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(e=0){return this.state.data===void 0?!0:e==="static"?!1:this.state.isInvalidated?!0:!r7(this.state.dataUpdatedAt,e)}onFocus(){var r;const e=this.observers.find(n=>n.shouldFetchOnWindowFocus());e==null||e.refetch({cancelRefetch:!1}),(r=R(this,Gt))==null||r.continue()}onOnline(){var r;const e=this.observers.find(n=>n.shouldFetchOnReconnect());e==null||e.refetch({cancelRefetch:!1}),(r=R(this,Gt))==null||r.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),R(this,bn).notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(r=>r!==e),this.observers.length||(R(this,Gt)&&(R(this,Da)?R(this,Gt).cancel({revert:!0}):R(this,Gt).cancelRetry()),this.scheduleGc()),R(this,bn).notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||Se(this,Ln,Pi).call(this,{type:"invalidate"})}async fetch(e,r){var l,u,c,h,f,p,m,y,b,g,v,x;if(this.state.fetchStatus!=="idle"&&((l=R(this,Gt))==null?void 0:l.status())!=="rejected"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(R(this,Gt))return R(this,Gt).continueRetry(),R(this,Gt).promise}if(e&&this.setOptions(e),!this.options.queryFn){const w=this.observers.find(_=>_.options.queryFn);w&&this.setOptions(w.options)}const n=new AbortController,i=w=>{Object.defineProperty(w,"signal",{enumerable:!0,get:()=>(ie(this,Da,!0),n.signal)})},s=()=>{const w=n7(this.options,r),E=(()=>{const O={client:R(this,ka),queryKey:this.queryKey,meta:this.meta};return i(O),O})();return ie(this,Da,!1),this.options.persister?this.options.persister(w,E,this):w(E)},o=(()=>{const w={fetchOptions:r,options:this.options,queryKey:this.queryKey,client:R(this,ka),state:this.state,fetchFn:s};return i(w),w})();(u=this.options.behavior)==null||u.onFetch(o,this),ie(this,Sl,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((c=o.fetchOptions)==null?void 0:c.meta))&&Se(this,Ln,Pi).call(this,{type:"fetch",meta:(h=o.fetchOptions)==null?void 0:h.meta}),ie(this,Gt,s7({initialPromise:r==null?void 0:r.initialPromise,fn:o.fetchFn,onCancel:w=>{w instanceof gP&&w.revert&&this.setState({...R(this,Sl),fetchStatus:"idle"}),n.abort()},onFail:(w,_)=>{Se(this,Ln,Pi).call(this,{type:"failed",failureCount:w,error:_})},onPause:()=>{Se(this,Ln,Pi).call(this,{type:"pause"})},onContinue:()=>{Se(this,Ln,Pi).call(this,{type:"continue"})},retry:o.options.retry,retryDelay:o.options.retryDelay,networkMode:o.options.networkMode,canRun:()=>!0}));try{const w=await R(this,Gt).start();if(w===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(w),(p=(f=R(this,bn).config).onSuccess)==null||p.call(f,w,this),(y=(m=R(this,bn).config).onSettled)==null||y.call(m,w,this.state.error,this),w}catch(w){if(w instanceof gP){if(w.silent)return R(this,Gt).promise;if(w.revert){if(this.state.data===void 0)throw w;return this.state.data}}throw Se(this,Ln,Pi).call(this,{type:"error",error:w}),(g=(b=R(this,bn).config).onError)==null||g.call(b,w,this),(x=(v=R(this,bn).config).onSettled)==null||x.call(v,this.state.data,w,this),w}finally{this.scheduleGc()}}},ja=new WeakMap,Sl=new WeakMap,bn=new WeakMap,ka=new WeakMap,Gt=new WeakMap,ld=new WeakMap,Da=new WeakMap,Ln=new WeakSet,Pi=function(e){const r=n=>{switch(e.type){case"failed":return{...n,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...o7(n.data,this.options),fetchMeta:e.meta??null};case"success":const i={...n,...JN(e.data,e.dataUpdatedAt),dataUpdateCount:n.dataUpdateCount+1,...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return ie(this,Sl,e.manual?i:void 0),i;case"error":const s=e.error;return{...n,error:s,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:s,fetchStatus:"idle",status:"error",isInvalidated:!0};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...e.state}}};this.state=r(this.state),Et.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),R(this,bn).notify({query:this,type:"updated",action:e})})},OH);function o7(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:i7(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function JN(t,e){return{data:t,dataUpdatedAt:e??Date.now(),error:null,isInvalidated:!1,status:"success"}}function ZN(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,r=e!==void 0,n=r?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:r?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var Ar,Me,ud,Sr,qa,El,Ii,Os,cd,Ol,Pl,Ma,Aa,Ps,Cl,Be,ac,yP,bP,wP,xP,_P,SP,EP,l7,PH,lT=(PH=class extends yo{constructor(e,r){super();ue(this,Be);ue(this,Ar);ue(this,Me);ue(this,ud);ue(this,Sr);ue(this,qa);ue(this,El);ue(this,Ii);ue(this,Os);ue(this,cd);ue(this,Ol);ue(this,Pl);ue(this,Ma);ue(this,Aa);ue(this,Ps);ue(this,Cl,new Set);this.options=r,ie(this,Ar,e),ie(this,Os,null),ie(this,Ii,vP()),this.bindMethods(),this.setOptions(r)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(R(this,Me).addObserver(this),eR(R(this,Me),this.options)?Se(this,Be,ac).call(this):this.updateResult(),Se(this,Be,xP).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return OP(R(this,Me),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return OP(R(this,Me),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,Se(this,Be,_P).call(this),Se(this,Be,SP).call(this),R(this,Me).removeObserver(this)}setOptions(e){const r=this.options,n=R(this,Me);if(this.options=R(this,Ar).defaultQueryOptions(e),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof xn(this.options.enabled,R(this,Me))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");Se(this,Be,EP).call(this),R(this,Me).setOptions(this.options),r._defaulted&&!Kc(this.options,r)&&R(this,Ar).getQueryCache().notify({type:"observerOptionsUpdated",query:R(this,Me),observer:this});const i=this.hasListeners();i&&tR(R(this,Me),n,this.options,r)&&Se(this,Be,ac).call(this),this.updateResult(),i&&(R(this,Me)!==n||xn(this.options.enabled,R(this,Me))!==xn(r.enabled,R(this,Me))||Hs(this.options.staleTime,R(this,Me))!==Hs(r.staleTime,R(this,Me)))&&Se(this,Be,yP).call(this);const s=Se(this,Be,bP).call(this);i&&(R(this,Me)!==n||xn(this.options.enabled,R(this,Me))!==xn(r.enabled,R(this,Me))||s!==R(this,Ps))&&Se(this,Be,wP).call(this,s)}getOptimisticResult(e){const r=R(this,Ar).getQueryCache().build(R(this,Ar),e),n=this.createResult(r,e);return uZ(this,n)&&(ie(this,Sr,n),ie(this,El,this.options),ie(this,qa,R(this,Me).state)),n}getCurrentResult(){return R(this,Sr)}trackResult(e,r){return new Proxy(e,{get:(n,i)=>(this.trackProp(i),r==null||r(i),i==="promise"&&(this.trackProp("data"),!this.options.experimental_prefetchInRender&&R(this,Ii).status==="pending"&&R(this,Ii).reject(new Error("experimental_prefetchInRender feature flag is not enabled"))),Reflect.get(n,i))})}trackProp(e){R(this,Cl).add(e)}getCurrentQuery(){return R(this,Me)}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){const r=R(this,Ar).defaultQueryOptions(e),n=R(this,Ar).getQueryCache().build(R(this,Ar),r);return n.fetch().then(()=>this.createResult(n,r))}fetch(e){return Se(this,Be,ac).call(this,{...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),R(this,Sr)))}createResult(e,r){var P;const n=R(this,Me),i=this.options,s=R(this,Sr),a=R(this,qa),o=R(this,El),u=e!==n?e.state:R(this,ud),{state:c}=e;let h={...c},f=!1,p;if(r._optimisticResults){const C=this.hasListeners(),N=!C&&eR(e,r),T=C&&tR(e,n,r,i);(N||T)&&(h={...h,...o7(c.data,e.options)}),r._optimisticResults==="isRestoring"&&(h.fetchStatus="idle")}let{error:m,errorUpdatedAt:y,status:b}=h;p=h.data;let g=!1;if(r.placeholderData!==void 0&&p===void 0&&b==="pending"){let C;s!=null&&s.isPlaceholderData&&r.placeholderData===(o==null?void 0:o.placeholderData)?(C=s.data,g=!0):C=typeof r.placeholderData=="function"?r.placeholderData((P=R(this,Pl))==null?void 0:P.state.data,R(this,Pl)):r.placeholderData,C!==void 0&&(b="success",p=mP(s==null?void 0:s.data,C,r),f=!0)}if(r.select&&p!==void 0&&!g)if(s&&p===(a==null?void 0:a.data)&&r.select===R(this,cd))p=R(this,Ol);else try{ie(this,cd,r.select),p=r.select(p),p=mP(s==null?void 0:s.data,p,r),ie(this,Ol,p),ie(this,Os,null)}catch(C){ie(this,Os,C)}R(this,Os)&&(m=R(this,Os),p=R(this,Ol),y=Date.now(),b="error");const v=h.fetchStatus==="fetching",x=b==="pending",w=b==="error",_=x&&v,E=p!==void 0,S={status:b,fetchStatus:h.fetchStatus,isPending:x,isSuccess:b==="success",isError:w,isInitialLoading:_,isLoading:_,data:p,dataUpdatedAt:h.dataUpdatedAt,error:m,errorUpdatedAt:y,failureCount:h.fetchFailureCount,failureReason:h.fetchFailureReason,errorUpdateCount:h.errorUpdateCount,isFetched:h.dataUpdateCount>0||h.errorUpdateCount>0,isFetchedAfterMount:h.dataUpdateCount>u.dataUpdateCount||h.errorUpdateCount>u.errorUpdateCount,isFetching:v,isRefetching:v&&!x,isLoadingError:w&&!E,isPaused:h.fetchStatus==="paused",isPlaceholderData:f,isRefetchError:w&&E,isStale:uT(e,r),refetch:this.refetch,promise:R(this,Ii),isEnabled:xn(r.enabled,e)!==!1};if(this.options.experimental_prefetchInRender){const C=I=>{S.status==="error"?I.reject(S.error):S.data!==void 0&&I.resolve(S.data)},N=()=>{const I=ie(this,Ii,S.promise=vP());C(I)},T=R(this,Ii);switch(T.status){case"pending":e.queryHash===n.queryHash&&C(T);break;case"fulfilled":(S.status==="error"||S.data!==T.value)&&N();break;case"rejected":(S.status!=="error"||S.error!==T.reason)&&N();break}}return S}updateResult(){const e=R(this,Sr),r=this.createResult(R(this,Me),this.options);if(ie(this,qa,R(this,Me).state),ie(this,El,this.options),R(this,qa).data!==void 0&&ie(this,Pl,R(this,Me)),Kc(r,e))return;ie(this,Sr,r);const n=()=>{if(!e)return!0;const{notifyOnChangeProps:i}=this.options,s=typeof i=="function"?i():i;if(s==="all"||!s&&!R(this,Cl).size)return!0;const a=new Set(s??R(this,Cl));return this.options.throwOnError&&a.add("error"),Object.keys(R(this,Sr)).some(o=>{const l=o;return R(this,Sr)[l]!==e[l]&&a.has(l)})};Se(this,Be,l7).call(this,{listeners:n()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&Se(this,Be,xP).call(this)}},Ar=new WeakMap,Me=new WeakMap,ud=new WeakMap,Sr=new WeakMap,qa=new WeakMap,El=new WeakMap,Ii=new WeakMap,Os=new WeakMap,cd=new WeakMap,Ol=new WeakMap,Pl=new WeakMap,Ma=new WeakMap,Aa=new WeakMap,Ps=new WeakMap,Cl=new WeakMap,Be=new WeakSet,ac=function(e){Se(this,Be,EP).call(this);let r=R(this,Me).fetch(this.options,e);return e!=null&&e.throwOnError||(r=r.catch(vr)),r},yP=function(){Se(this,Be,_P).call(this);const e=Hs(this.options.staleTime,R(this,Me));if(to||R(this,Sr).isStale||!fP(e))return;const n=r7(R(this,Sr).dataUpdatedAt,e)+1;ie(this,Ma,Ea.setTimeout(()=>{R(this,Sr).isStale||this.updateResult()},n))},bP=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(R(this,Me)):this.options.refetchInterval)??!1},wP=function(e){Se(this,Be,SP).call(this),ie(this,Ps,e),!(to||xn(this.options.enabled,R(this,Me))===!1||!fP(R(this,Ps))||R(this,Ps)===0)&&ie(this,Aa,Ea.setInterval(()=>{(this.options.refetchIntervalInBackground||oT.isFocused())&&Se(this,Be,ac).call(this)},R(this,Ps)))},xP=function(){Se(this,Be,yP).call(this),Se(this,Be,wP).call(this,Se(this,Be,bP).call(this))},_P=function(){R(this,Ma)&&(Ea.clearTimeout(R(this,Ma)),ie(this,Ma,void 0))},SP=function(){R(this,Aa)&&(Ea.clearInterval(R(this,Aa)),ie(this,Aa,void 0))},EP=function(){const e=R(this,Ar).getQueryCache().build(R(this,Ar),this.options);if(e===R(this,Me))return;const r=R(this,Me);ie(this,Me,e),ie(this,ud,e.state),this.hasListeners()&&(r==null||r.removeObserver(this),e.addObserver(this))},l7=function(e){Et.batch(()=>{e.listeners&&this.listeners.forEach(r=>{r(R(this,Sr))}),R(this,Ar).getQueryCache().notify({query:R(this,Me),type:"observerResultsUpdated"})})},PH);function lZ(t,e){return xn(e.enabled,t)!==!1&&t.state.data===void 0&&!(t.state.status==="error"&&e.retryOnMount===!1)}function eR(t,e){return lZ(t,e)||t.state.data!==void 0&&OP(t,e,e.refetchOnMount)}function OP(t,e,r){if(xn(e.enabled,t)!==!1&&Hs(e.staleTime,t)!=="static"){const n=typeof r=="function"?r(t):r;return n==="always"||n!==!1&&uT(t,e)}return!1}function tR(t,e,r,n){return(t!==e||xn(n.enabled,t)===!1)&&(!r.suspense||t.state.status!=="error")&&uT(t,r)}function uT(t,e){return xn(e.enabled,t)!==!1&&t.isStaleByTime(Hs(e.staleTime,t))}function uZ(t,e){return!Kc(t.getCurrentResult(),e)}function rR(t){return{onFetch:(e,r)=>{var c,h,f,p,m;const n=e.options,i=(f=(h=(c=e.fetchOptions)==null?void 0:c.meta)==null?void 0:h.fetchMore)==null?void 0:f.direction,s=((p=e.state.data)==null?void 0:p.pages)||[],a=((m=e.state.data)==null?void 0:m.pageParams)||[];let o={pages:[],pageParams:[]},l=0;const u=async()=>{let y=!1;const b=x=>{tZ(x,()=>e.signal,()=>y=!0)},g=n7(e.options,e.fetchOptions),v=async(x,w,_)=>{if(y)return Promise.reject();if(w==null&&x.pages.length)return Promise.resolve(x);const O=(()=>{const N={client:e.client,queryKey:e.queryKey,pageParam:w,direction:_?"backward":"forward",meta:e.options.meta};return b(N),N})(),S=await g(O),{maxPages:P}=e.options,C=_?eZ:ZJ;return{pages:C(x.pages,S,P),pageParams:C(x.pageParams,w,P)}};if(i&&s.length){const x=i==="backward",w=x?cZ:nR,_={pages:s,pageParams:a},E=w(n,_);o=await v(_,E,x)}else{const x=t??s.length;do{const w=l===0?a[0]??n.initialPageParam:nR(n,o);if(l>0&&w==null)break;o=await v(o,w),l++}while(l<x)}return o};e.options.persister?e.fetchFn=()=>{var y,b;return(b=(y=e.options).persister)==null?void 0:b.call(y,u,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},r)}:e.fetchFn=u}}}function nR(t,{pages:e,pageParams:r}){const n=e.length-1;return e.length>0?t.getNextPageParam(e[n],e,r[n],r):void 0}function cZ(t,{pages:e,pageParams:r}){var n;return e.length>0?(n=t.getPreviousPageParam)==null?void 0:n.call(t,e[0],e,r[0],r):void 0}var dd,ui,Er,Fa,ci,fs,CH,dZ=(CH=class extends a7{constructor(e){super();ue(this,ci);ue(this,dd);ue(this,ui);ue(this,Er);ue(this,Fa);ie(this,dd,e.client),this.mutationId=e.mutationId,ie(this,Er,e.mutationCache),ie(this,ui,[]),this.state=e.state||u7(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){R(this,ui).includes(e)||(R(this,ui).push(e),this.clearGcTimeout(),R(this,Er).notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){ie(this,ui,R(this,ui).filter(r=>r!==e)),this.scheduleGc(),R(this,Er).notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){R(this,ui).length||(this.state.status==="pending"?this.scheduleGc():R(this,Er).remove(this))}continue(){var e;return((e=R(this,Fa))==null?void 0:e.continue())??this.execute(this.state.variables)}async execute(e){var a,o,l,u,c,h,f,p,m,y,b,g,v,x,w,_,E,O,S,P;const r=()=>{Se(this,ci,fs).call(this,{type:"continue"})},n={client:R(this,dd),meta:this.options.meta,mutationKey:this.options.mutationKey};ie(this,Fa,s7({fn:()=>this.options.mutationFn?this.options.mutationFn(e,n):Promise.reject(new Error("No mutationFn found")),onFail:(C,N)=>{Se(this,ci,fs).call(this,{type:"failed",failureCount:C,error:N})},onPause:()=>{Se(this,ci,fs).call(this,{type:"pause"})},onContinue:r,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>R(this,Er).canRun(this)}));const i=this.state.status==="pending",s=!R(this,Fa).canStart();try{if(i)r();else{Se(this,ci,fs).call(this,{type:"pending",variables:e,isPaused:s}),await((o=(a=R(this,Er).config).onMutate)==null?void 0:o.call(a,e,this,n));const N=await((u=(l=this.options).onMutate)==null?void 0:u.call(l,e,n));N!==this.state.context&&Se(this,ci,fs).call(this,{type:"pending",context:N,variables:e,isPaused:s})}const C=await R(this,Fa).start();return await((h=(c=R(this,Er).config).onSuccess)==null?void 0:h.call(c,C,e,this.state.context,this,n)),await((p=(f=this.options).onSuccess)==null?void 0:p.call(f,C,e,this.state.context,n)),await((y=(m=R(this,Er).config).onSettled)==null?void 0:y.call(m,C,null,this.state.variables,this.state.context,this,n)),await((g=(b=this.options).onSettled)==null?void 0:g.call(b,C,null,e,this.state.context,n)),Se(this,ci,fs).call(this,{type:"success",data:C}),C}catch(C){try{await((x=(v=R(this,Er).config).onError)==null?void 0:x.call(v,C,e,this.state.context,this,n))}catch(N){Promise.reject(N)}try{await((_=(w=this.options).onError)==null?void 0:_.call(w,C,e,this.state.context,n))}catch(N){Promise.reject(N)}try{await((O=(E=R(this,Er).config).onSettled)==null?void 0:O.call(E,void 0,C,this.state.variables,this.state.context,this,n))}catch(N){Promise.reject(N)}try{await((P=(S=this.options).onSettled)==null?void 0:P.call(S,void 0,C,e,this.state.context,n))}catch(N){Promise.reject(N)}throw Se(this,ci,fs).call(this,{type:"error",error:C}),C}finally{R(this,Er).runNext(this)}}},dd=new WeakMap,ui=new WeakMap,Er=new WeakMap,Fa=new WeakMap,ci=new WeakSet,fs=function(e){const r=n=>{switch(e.type){case"failed":return{...n,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...n,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:e.error,failureCount:n.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=r(this.state),Et.batch(()=>{R(this,ui).forEach(n=>{n.onMutationUpdate(e)}),R(this,Er).notify({mutation:this,type:"updated",action:e})})},CH);function u7(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Ni,Bn,hd,TH,hZ=(TH=class extends yo{constructor(e={}){super();ue(this,Ni);ue(this,Bn);ue(this,hd);this.config=e,ie(this,Ni,new Set),ie(this,Bn,new Map),ie(this,hd,0)}build(e,r,n){const i=new dZ({client:e,mutationCache:this,mutationId:++uh(this,hd)._,options:e.defaultMutationOptions(r),state:n});return this.add(i),i}add(e){R(this,Ni).add(e);const r=Ch(e);if(typeof r=="string"){const n=R(this,Bn).get(r);n?n.push(e):R(this,Bn).set(r,[e])}this.notify({type:"added",mutation:e})}remove(e){if(R(this,Ni).delete(e)){const r=Ch(e);if(typeof r=="string"){const n=R(this,Bn).get(r);if(n)if(n.length>1){const i=n.indexOf(e);i!==-1&&n.splice(i,1)}else n[0]===e&&R(this,Bn).delete(r)}}this.notify({type:"removed",mutation:e})}canRun(e){const r=Ch(e);if(typeof r=="string"){const n=R(this,Bn).get(r),i=n==null?void 0:n.find(s=>s.state.status==="pending");return!i||i===e}else return!0}runNext(e){var n;const r=Ch(e);if(typeof r=="string"){const i=(n=R(this,Bn).get(r))==null?void 0:n.find(s=>s!==e&&s.state.isPaused);return(i==null?void 0:i.continue())??Promise.resolve()}else return Promise.resolve()}clear(){Et.batch(()=>{R(this,Ni).forEach(e=>{this.notify({type:"removed",mutation:e})}),R(this,Ni).clear(),R(this,Bn).clear()})}getAll(){return Array.from(R(this,Ni))}find(e){const r={exact:!0,...e};return this.getAll().find(n=>YN(r,n))}findAll(e={}){return this.getAll().filter(r=>YN(e,r))}notify(e){Et.batch(()=>{this.listeners.forEach(r=>{r(e)})})}resumePausedMutations(){const e=this.getAll().filter(r=>r.state.isPaused);return Et.batch(()=>Promise.all(e.map(r=>r.continue().catch(vr))))}},Ni=new WeakMap,Bn=new WeakMap,hd=new WeakMap,TH);function Ch(t){var e;return(e=t.options.scope)==null?void 0:e.id}var Ri,Cs,Fr,$i,Ki,Xh,PP,IH,fZ=(IH=class extends yo{constructor(e,r){super();ue(this,Ki);ue(this,Ri);ue(this,Cs);ue(this,Fr);ue(this,$i);ie(this,Ri,e),this.setOptions(r),this.bindMethods(),Se(this,Ki,Xh).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(e){var n;const r=this.options;this.options=R(this,Ri).defaultMutationOptions(e),Kc(this.options,r)||R(this,Ri).getMutationCache().notify({type:"observerOptionsUpdated",mutation:R(this,Fr),observer:this}),r!=null&&r.mutationKey&&this.options.mutationKey&&ro(r.mutationKey)!==ro(this.options.mutationKey)?this.reset():((n=R(this,Fr))==null?void 0:n.state.status)==="pending"&&R(this,Fr).setOptions(this.options)}onUnsubscribe(){var e;this.hasListeners()||(e=R(this,Fr))==null||e.removeObserver(this)}onMutationUpdate(e){Se(this,Ki,Xh).call(this),Se(this,Ki,PP).call(this,e)}getCurrentResult(){return R(this,Cs)}reset(){var e;(e=R(this,Fr))==null||e.removeObserver(this),ie(this,Fr,void 0),Se(this,Ki,Xh).call(this),Se(this,Ki,PP).call(this)}mutate(e,r){var n;return ie(this,$i,r),(n=R(this,Fr))==null||n.removeObserver(this),ie(this,Fr,R(this,Ri).getMutationCache().build(R(this,Ri),this.options)),R(this,Fr).addObserver(this),R(this,Fr).execute(e)}},Ri=new WeakMap,Cs=new WeakMap,Fr=new WeakMap,$i=new WeakMap,Ki=new WeakSet,Xh=function(){var r;const e=((r=R(this,Fr))==null?void 0:r.state)??u7();ie(this,Cs,{...e,isPending:e.status==="pending",isSuccess:e.status==="success",isError:e.status==="error",isIdle:e.status==="idle",mutate:this.mutate,reset:this.reset})},PP=function(e){Et.batch(()=>{var r,n,i,s,a,o,l,u;if(R(this,$i)&&this.hasListeners()){const c=R(this,Cs).variables,h=R(this,Cs).context,f={client:R(this,Ri),meta:this.options.meta,mutationKey:this.options.mutationKey};if((e==null?void 0:e.type)==="success"){try{(n=(r=R(this,$i)).onSuccess)==null||n.call(r,e.data,c,h,f)}catch(p){Promise.reject(p)}try{(s=(i=R(this,$i)).onSettled)==null||s.call(i,e.data,null,c,h,f)}catch(p){Promise.reject(p)}}else if((e==null?void 0:e.type)==="error"){try{(o=(a=R(this,$i)).onError)==null||o.call(a,e.error,c,h,f)}catch(p){Promise.reject(p)}try{(u=(l=R(this,$i)).onSettled)==null||u.call(l,void 0,e.error,c,h,f)}catch(p){Promise.reject(p)}}}this.listeners.forEach(c=>{c(R(this,Cs))})})},IH);function iR(t,e){const r=new Set(e);return t.filter(n=>!r.has(n))}function pZ(t,e,r){const n=t.slice(0);return n[e]=r,n}var Tl,an,Il,Nl,wn,Ts,fd,pd,md,cr,CP,TP,IP,NP,RP,NH,mZ=(NH=class extends yo{constructor(e,r,n){super();ue(this,cr);ue(this,Tl);ue(this,an);ue(this,Il);ue(this,Nl);ue(this,wn);ue(this,Ts);ue(this,fd);ue(this,pd);ue(this,md,[]);ie(this,Tl,e),ie(this,Nl,n),ie(this,Il,[]),ie(this,wn,[]),ie(this,an,[]),this.setQueries(r)}onSubscribe(){this.listeners.size===1&&R(this,wn).forEach(e=>{e.subscribe(r=>{Se(this,cr,NP).call(this,e,r)})})}onUnsubscribe(){this.listeners.size||this.destroy()}destroy(){this.listeners=new Set,R(this,wn).forEach(e=>{e.destroy()})}setQueries(e,r){ie(this,Il,e),ie(this,Nl,r),Et.batch(()=>{const n=R(this,wn),i=Se(this,cr,IP).call(this,R(this,Il));i.forEach(h=>h.observer.setOptions(h.defaultedQueryOptions));const s=i.map(h=>h.observer),a=s.map(h=>h.getCurrentResult()),o=n.length!==s.length,l=s.some((h,f)=>h!==n[f]),u=o||l,c=u?!0:a.some((h,f)=>{const p=R(this,an)[f];return!p||!Kc(h,p)});!u&&!c||(u&&(ie(this,md,i),ie(this,wn,s)),ie(this,an,a),this.hasListeners()&&(u&&(iR(n,s).forEach(h=>{h.destroy()}),iR(s,n).forEach(h=>{h.subscribe(f=>{Se(this,cr,NP).call(this,h,f)})})),Se(this,cr,RP).call(this)))})}getCurrentResult(){return R(this,an)}getQueries(){return R(this,wn).map(e=>e.getCurrentQuery())}getObservers(){return R(this,wn)}getOptimisticResult(e,r){const n=Se(this,cr,IP).call(this,e),i=n.map(s=>s.observer.getOptimisticResult(s.defaultedQueryOptions));return[i,s=>Se(this,cr,TP).call(this,s??i,r),()=>Se(this,cr,CP).call(this,i,n)]}},Tl=new WeakMap,an=new WeakMap,Il=new WeakMap,Nl=new WeakMap,wn=new WeakMap,Ts=new WeakMap,fd=new WeakMap,pd=new WeakMap,md=new WeakMap,cr=new WeakSet,CP=function(e,r){return r.map((n,i)=>{const s=e[i];return n.defaultedQueryOptions.notifyOnChangeProps?s:n.observer.trackResult(s,a=>{r.forEach(o=>{o.observer.trackProp(a)})})})},TP=function(e,r){return r?((!R(this,Ts)||R(this,an)!==R(this,pd)||r!==R(this,fd))&&(ie(this,fd,r),ie(this,pd,R(this,an)),ie(this,Ts,iT(R(this,Ts),r(e)))),R(this,Ts)):e},IP=function(e){const r=new Map;R(this,wn).forEach(i=>{const s=i.options.queryHash;if(!s)return;const a=r.get(s);a?a.push(i):r.set(s,[i])});const n=[];return e.forEach(i=>{var l;const s=R(this,Tl).defaultQueryOptions(i),o=((l=r.get(s.queryHash))==null?void 0:l.shift())??new lT(R(this,Tl),s);n.push({defaultedQueryOptions:s,observer:o})}),n},NP=function(e,r){const n=R(this,wn).indexOf(e);n!==-1&&(ie(this,an,pZ(R(this,an),n,r)),Se(this,cr,RP).call(this))},RP=function(){var e;if(this.hasListeners()){const r=R(this,Ts),n=Se(this,cr,CP).call(this,R(this,an),R(this,md)),i=Se(this,cr,TP).call(this,n,(e=R(this,Nl))==null?void 0:e.combine);r!==i&&Et.batch(()=>{this.listeners.forEach(s=>{s(R(this,an))})})}},NH),di,RH,vZ=(RH=class extends yo{constructor(e={}){super();ue(this,di);this.config=e,ie(this,di,new Map)}build(e,r,n){const i=r.queryKey,s=r.queryHash??nT(i,r);let a=this.get(s);return a||(a=new oZ({client:e,queryKey:i,queryHash:s,options:e.defaultQueryOptions(r),state:n,defaultOptions:e.getQueryDefaults(i)}),this.add(a)),a}add(e){R(this,di).has(e.queryHash)||(R(this,di).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const r=R(this,di).get(e.queryHash);r&&(e.destroy(),r===e&&R(this,di).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){Et.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return R(this,di).get(e)}getAll(){return[...R(this,di).values()]}find(e){const r={exact:!0,...e};return this.getAll().find(n=>GN(r,n))}findAll(e={}){const r=this.getAll();return Object.keys(e).length>0?r.filter(n=>GN(e,n)):r}notify(e){Et.batch(()=>{this.listeners.forEach(r=>{r(e)})})}onFocus(){Et.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){Et.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},di=new WeakMap,RH),wt,Is,Ns,Rl,$l,Rs,jl,kl,$H,gZ=($H=class{constructor(t={}){ue(this,wt);ue(this,Is);ue(this,Ns);ue(this,Rl);ue(this,$l);ue(this,Rs);ue(this,jl);ue(this,kl);ie(this,wt,t.queryCache||new vZ),ie(this,Is,t.mutationCache||new hZ),ie(this,Ns,t.defaultOptions||{}),ie(this,Rl,new Map),ie(this,$l,new Map),ie(this,Rs,0)}mount(){uh(this,Rs)._++,R(this,Rs)===1&&(ie(this,jl,oT.subscribe(async t=>{t&&(await this.resumePausedMutations(),R(this,wt).onFocus())})),ie(this,kl,jf.subscribe(async t=>{t&&(await this.resumePausedMutations(),R(this,wt).onOnline())})))}unmount(){var t,e;uh(this,Rs)._--,R(this,Rs)===0&&((t=R(this,jl))==null||t.call(this),ie(this,jl,void 0),(e=R(this,kl))==null||e.call(this),ie(this,kl,void 0))}isFetching(t){return R(this,wt).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return R(this,Is).findAll({...t,status:"pending"}).length}getQueryData(t){var r;const e=this.defaultQueryOptions({queryKey:t});return(r=R(this,wt).get(e.queryHash))==null?void 0:r.state.data}ensureQueryData(t){const e=this.defaultQueryOptions(t),r=R(this,wt).build(this,e),n=r.state.data;return n===void 0?this.fetchQuery(t):(t.revalidateIfStale&&r.isStaleByTime(Hs(e.staleTime,r))&&this.prefetchQuery(e),Promise.resolve(n))}getQueriesData(t){return R(this,wt).findAll(t).map(({queryKey:e,state:r})=>{const n=r.data;return[e,n]})}setQueryData(t,e,r){const n=this.defaultQueryOptions({queryKey:t}),i=R(this,wt).get(n.queryHash),s=i==null?void 0:i.state.data,a=QJ(e,s);if(a!==void 0)return R(this,wt).build(this,n).setData(a,{...r,manual:!0})}setQueriesData(t,e,r){return Et.batch(()=>R(this,wt).findAll(t).map(({queryKey:n})=>[n,this.setQueryData(n,e,r)]))}getQueryState(t){var r;const e=this.defaultQueryOptions({queryKey:t});return(r=R(this,wt).get(e.queryHash))==null?void 0:r.state}removeQueries(t){const e=R(this,wt);Et.batch(()=>{e.findAll(t).forEach(r=>{e.remove(r)})})}resetQueries(t,e){const r=R(this,wt);return Et.batch(()=>(r.findAll(t).forEach(n=>{n.reset()}),this.refetchQueries({type:"active",...t},e)))}cancelQueries(t,e={}){const r={revert:!0,...e},n=Et.batch(()=>R(this,wt).findAll(t).map(i=>i.cancel(r)));return Promise.all(n).then(vr).catch(vr)}invalidateQueries(t,e={}){return Et.batch(()=>(R(this,wt).findAll(t).forEach(r=>{r.invalidate()}),(t==null?void 0:t.refetchType)==="none"?Promise.resolve():this.refetchQueries({...t,type:(t==null?void 0:t.refetchType)??(t==null?void 0:t.type)??"active"},e)))}refetchQueries(t,e={}){const r={...e,cancelRefetch:e.cancelRefetch??!0},n=Et.batch(()=>R(this,wt).findAll(t).filter(i=>!i.isDisabled()&&!i.isStatic()).map(i=>{let s=i.fetch(void 0,r);return r.throwOnError||(s=s.catch(vr)),i.state.fetchStatus==="paused"?Promise.resolve():s}));return Promise.all(n).then(vr)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const r=R(this,wt).build(this,e);return r.isStaleByTime(Hs(e.staleTime,r))?r.fetch(e):Promise.resolve(r.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(vr).catch(vr)}fetchInfiniteQuery(t){return t.behavior=rR(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(vr).catch(vr)}ensureInfiniteQueryData(t){return t.behavior=rR(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return jf.isOnline()?R(this,Is).resumePausedMutations():Promise.resolve()}getQueryCache(){return R(this,wt)}getMutationCache(){return R(this,Is)}getDefaultOptions(){return R(this,Ns)}setDefaultOptions(t){ie(this,Ns,t)}setQueryDefaults(t,e){R(this,Rl).set(ro(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...R(this,Rl).values()],r={};return e.forEach(n=>{Vc(t,n.queryKey)&&Object.assign(r,n.defaultOptions)}),r}setMutationDefaults(t,e){R(this,$l).set(ro(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...R(this,$l).values()],r={};return e.forEach(n=>{Vc(t,n.mutationKey)&&Object.assign(r,n.defaultOptions)}),r}defaultQueryOptions(t){if(t._defaulted)return t;const e={...R(this,Ns).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=nT(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===sT&&(e.enabled=!1),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...R(this,Ns).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){R(this,wt).clear(),R(this,Is).clear()}},wt=new WeakMap,Is=new WeakMap,Ns=new WeakMap,Rl=new WeakMap,$l=new WeakMap,Rs=new WeakMap,jl=new WeakMap,kl=new WeakMap,$H),c7=j.createContext(void 0),dr=t=>{const e=j.useContext(c7);if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},yZ=({client:t,children:e})=>(j.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),d.jsx(c7.Provider,{value:t,children:e})),d7=j.createContext(!1),h7=()=>j.useContext(d7);d7.Provider;function bZ(){let t=!1;return{clearReset:()=>{t=!1},reset:()=>{t=!0},isReset:()=>t}}var wZ=j.createContext(bZ()),f7=()=>j.useContext(wZ),p7=(t,e,r)=>{const n=r!=null&&r.state.error&&typeof t.throwOnError=="function"?aT(t.throwOnError,[r.state.error,r]):t.throwOnError;(t.suspense||t.experimental_prefetchInRender||n)&&(e.isReset()||(t.retryOnMount=!1))},m7=t=>{j.useEffect(()=>{t.clearReset()},[t])},v7=({result:t,errorResetBoundary:e,throwOnError:r,query:n,suspense:i})=>t.isError&&!e.isReset()&&!t.isFetching&&n&&(i&&t.data===void 0||aT(r,[t.error,n])),g7=t=>{if(t.suspense){const r=i=>i==="static"?i:Math.max(i??1e3,1e3),n=t.staleTime;t.staleTime=typeof n=="function"?(...i)=>r(n(...i)):r(n),typeof t.gcTime=="number"&&(t.gcTime=Math.max(t.gcTime,1e3))}},y7=(t,e)=>t.isLoading&&t.isFetching&&!e,$P=(t,e)=>(t==null?void 0:t.suspense)&&e.isPending,kf=(t,e,r)=>e.fetchOptimistic(t).catch(()=>{r.clearReset()});function Df({queries:t,...e},r){const n=dr(),i=h7(),s=f7(),a=j.useMemo(()=>t.map(y=>{const b=n.defaultQueryOptions(y);return b._optimisticResults=i?"isRestoring":"optimistic",b}),[t,n,i]);a.forEach(y=>{g7(y);const b=n.getQueryCache().get(y.queryHash);p7(y,s,b)}),m7(s);const[o]=j.useState(()=>new mZ(n,a,e)),[l,u,c]=o.getOptimisticResult(a,e.combine),h=!i&&e.subscribed!==!1;j.useSyncExternalStore(j.useCallback(y=>h?o.subscribe(Et.batchCalls(y)):vr,[o,h]),()=>o.getCurrentResult(),()=>o.getCurrentResult()),j.useEffect(()=>{o.setQueries(a,e)},[a,e,o]);const p=l.some((y,b)=>$P(a[b],y))?l.flatMap((y,b)=>{const g=a[b];if(g){const v=new lT(n,g);if($P(g,y))return kf(g,v,s);y7(y,i)&&kf(g,v,s)}return[]}):[];if(p.length>0)throw Promise.all(p);const m=l.find((y,b)=>{const g=a[b];return g&&v7({result:y,errorResetBoundary:s,throwOnError:g.throwOnError,query:n.getQueryCache().get(g.queryHash),suspense:g.suspense})});if(m!=null&&m.error)throw m.error;return u(c())}function xZ(t,e,r){var f,p,m,y;const n=h7(),i=f7(),s=dr(),a=s.defaultQueryOptions(t);(p=(f=s.getDefaultOptions().queries)==null?void 0:f._experimental_beforeQuery)==null||p.call(f,a);const o=s.getQueryCache().get(a.queryHash);a._optimisticResults=n?"isRestoring":"optimistic",g7(a),p7(a,i,o),m7(i);const l=!s.getQueryCache().get(a.queryHash),[u]=j.useState(()=>new e(s,a)),c=u.getOptimisticResult(a),h=!n&&t.subscribed!==!1;if(j.useSyncExternalStore(j.useCallback(b=>{const g=h?u.subscribe(Et.batchCalls(b)):vr;return u.updateResult(),g},[u,h]),()=>u.getCurrentResult(),()=>u.getCurrentResult()),j.useEffect(()=>{u.setOptions(a)},[a,u]),$P(a,c))throw kf(a,u,i);if(v7({result:c,errorResetBoundary:i,throwOnError:a.throwOnError,query:o,suspense:a.suspense}))throw c.error;if((y=(m=s.getDefaultOptions().queries)==null?void 0:m._experimental_afterQuery)==null||y.call(m,a,c),a.experimental_prefetchInRender&&!to&&y7(c,n)){const b=l?kf(a,u,i):o==null?void 0:o.promise;b==null||b.catch(vr).finally(()=>{u.updateResult()})}return a.notifyOnChangeProps?c:u.trackResult(c)}function ft(t,e){return xZ(t,lT)}function $t(t,e){const r=dr(),[n]=j.useState(()=>new fZ(r,t));j.useEffect(()=>{n.setOptions(t)},[n,t]);const i=j.useSyncExternalStore(j.useCallback(a=>n.subscribe(Et.batchCalls(a)),[n]),()=>n.getCurrentResult(),()=>n.getCurrentResult()),s=j.useCallback((a,o)=>{n.mutate(a,o).catch(vr)},[n]);if(i.error&&aT(n.options.throwOnError,[i.error]))throw i.error;return{...i,mutate:s,mutateAsync:i.mutate}}function cT(){const t=window.prmConfig||{};return j.useMemo(()=>({isLoggedIn:t.isLoggedIn||!1,userId:t.userId||null,loginUrl:t.loginUrl||"/wp-login.php",logoutUrl:t.logoutUrl||"/wp-login.php?action=logout",isLoading:!1}),[t.isLoggedIn,t.userId,t.loginUrl,t.logoutUrl])}/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var _Z={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SZ=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),Ee=(t,e)=>{const r=j.forwardRef(({color:n="currentColor",size:i=24,strokeWidth:s=2,absoluteStrokeWidth:a,className:o="",children:l,...u},c)=>j.createElement("svg",{ref:c,..._Z,width:i,height:i,stroke:n,strokeWidth:a?Number(s)*24/Number(i):s,className:["lucide",`lucide-${SZ(t)}`,o].join(" "),...u},[...e.map(([h,f])=>j.createElement(h,f)),...Array.isArray(l)?l:[l]]));return r.displayName=`${t}`,r};/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ul=Ee("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EZ=Ee("ArrowDown",[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const is=Ee("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sR=Ee("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OZ=Ee("ArrowUp",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PZ=Ee("Briefcase",[["rect",{width:"20",height:"14",x:"2",y:"7",rx:"2",ry:"2",key:"eto64e"}],["path",{d:"M16 21V5a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"zwj3tp"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ji=Ee("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b7=Ee("Cake",[["path",{d:"M20 21v-8a2 2 0 0 0-2-2H6a2 2 0 0 0-2 2v8",key:"1w3rig"}],["path",{d:"M4 16s.5-1 2-1 2.5 2 4 2 2.5-2 4-2 2.5 2 4 2 2-1 2-1",key:"n2jgmb"}],["path",{d:"M2 21h20",key:"1nyx9w"}],["path",{d:"M7 8v3",key:"1qtyvj"}],["path",{d:"M12 8v3",key:"hwp4zt"}],["path",{d:"M17 8v3",key:"1i6e5u"}],["path",{d:"M7 4h0.01",key:"hsw7lv"}],["path",{d:"M12 4h0.01",key:"1e3d8f"}],["path",{d:"M17 4h0.01",key:"p7cxgy"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const no=Ee("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jh=Ee("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wl=Ee("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aR=Ee("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CZ=Ee("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TZ=Ee("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dT=Ee("FileCode",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["path",{d:"m10 13-2 2 2 2",key:"17smn8"}],["path",{d:"m14 17 2-2-2-2",key:"14mezr"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w7=Ee("FileSpreadsheet",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["path",{d:"M8 13h2",key:"yr2amv"}],["path",{d:"M8 17h2",key:"2yhykz"}],["path",{d:"M14 13h2",key:"un5t4a"}],["path",{d:"M14 17h2",key:"10kma7"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oR=Ee("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IZ=Ee("Gift",[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jP=Ee("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NZ=Ee("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RZ=Ee("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $Z=Ee("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jZ=Ee("Link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lR=Ee("Linkedin",[["path",{d:"M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z",key:"c2jq9f"}],["rect",{width:"4",height:"12",x:"2",y:"9",key:"mk3on5"}],["circle",{cx:"4",cy:"4",r:"2",key:"bt5ra8"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hl=Ee("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kZ=Ee("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DZ=Ee("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qZ=Ee("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MZ=Ee("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AZ=Ee("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FZ=Ee("Pen",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Th=Ee("Pencil",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LZ=Ee("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yr=Ee("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x7=Ee("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ea=Ee("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _7=Ee("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S7=Ee("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BZ=Ee("ShieldAlert",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E7=Ee("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O7=Ee("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a2.121 2.121 0 1 1 3 3L12 15l-4 1 1-4Z",key:"1lpok0"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gc=Ee("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P7=Ee("StickyNote",[["path",{d:"M15.5 3H5a2 2 0 0 0-2 2v14c0 1.1.9 2 2 2h14a2 2 0 0 0 2-2V8.5L15.5 3Z",key:"1wis1t"}],["path",{d:"M15 3v6h6",key:"edgan2"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vs=Ee("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vl=Ee("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C7=Ee("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const io=Ee("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ta=Ee("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zZ=Ee("ZoomIn",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"11",x2:"11",y1:"8",y2:"14",key:"1vmskp"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UZ=Ee("ZoomOut",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]]),Kl="Caelis";function ei(t){j.useEffect(()=>{var e;if(t){const r=((e=window.prmConfig)==null?void 0:e.siteName)||Kl;document.title=`${t} - ${r}`}},[t])}function WZ(t){const e=t.match(/\/(?:people|companies|dates)\/(\d+)/);return e?e[1]:null}function T7(t=null){const e=rs();j.useEffect(()=>{var i;let r=t;if(!r){const s=e.pathname,a=WZ(s);s==="/"?r="Dashboard":s==="/login"?r="Login":s.startsWith("/people")?s==="/people"||s==="/people/"?r="People":s==="/people/new"?r="New Person":s.endsWith("/edit")?r="Edit Person":a?r="Person":r="People":s.startsWith("/companies")?s==="/companies"||s==="/companies/"?r="Companies":s==="/companies/new"?r="New Company":s.endsWith("/edit")?r="Edit Company":a?r="Company":r="Companies":s.startsWith("/dates")?s==="/dates"||s==="/dates/"?r="Important Dates":s==="/dates/new"?r="New Date":s.endsWith("/edit")?r="Edit Date":r="Important Dates":s.startsWith("/settings")?r="Settings":r=Kl}const n=((i=window.prmConfig)==null?void 0:i.siteName)||Kl;document.title=`${r} - ${n}`},[e.pathname,t])}function I7(t,e){return function(){return t.apply(e,arguments)}}const{toString:HZ}=Object.prototype,{getPrototypeOf:hT}=Object,{iterator:wp,toStringTag:N7}=Symbol,xp=(t=>e=>{const r=HZ.call(e);return t[r]||(t[r]=r.slice(8,-1).toLowerCase())})(Object.create(null)),ti=t=>(t=t.toLowerCase(),e=>xp(e)===t),_p=t=>e=>typeof e===t,{isArray:uu}=Array,Gl=_p("undefined");function xd(t){return t!==null&&!Gl(t)&&t.constructor!==null&&!Gl(t.constructor)&&Gr(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const R7=ti("ArrayBuffer");function VZ(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&R7(t.buffer),e}const KZ=_p("string"),Gr=_p("function"),$7=_p("number"),_d=t=>t!==null&&typeof t=="object",GZ=t=>t===!0||t===!1,Zh=t=>{if(xp(t)!=="object")return!1;const e=hT(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(N7 in t)&&!(wp in t)},YZ=t=>{if(!_d(t)||xd(t))return!1;try{return Object.keys(t).length===0&&Object.getPrototypeOf(t)===Object.prototype}catch{return!1}},QZ=ti("Date"),XZ=ti("File"),JZ=ti("Blob"),ZZ=ti("FileList"),eee=t=>_d(t)&&Gr(t.pipe),tee=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||Gr(t.append)&&((e=xp(t))==="formdata"||e==="object"&&Gr(t.toString)&&t.toString()==="[object FormData]"))},ree=ti("URLSearchParams"),[nee,iee,see,aee]=["ReadableStream","Request","Response","Headers"].map(ti),oee=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Sd(t,e,{allOwnKeys:r=!1}={}){if(t===null||typeof t>"u")return;let n,i;if(typeof t!="object"&&(t=[t]),uu(t))for(n=0,i=t.length;n<i;n++)e.call(null,t[n],n,t);else{if(xd(t))return;const s=r?Object.getOwnPropertyNames(t):Object.keys(t),a=s.length;let o;for(n=0;n<a;n++)o=s[n],e.call(null,t[o],o,t)}}function j7(t,e){if(xd(t))return null;e=e.toLowerCase();const r=Object.keys(t);let n=r.length,i;for(;n-- >0;)if(i=r[n],e===i.toLowerCase())return i;return null}const Oa=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,k7=t=>!Gl(t)&&t!==Oa;function kP(){const{caseless:t,skipUndefined:e}=k7(this)&&this||{},r={},n=(i,s)=>{const a=t&&j7(r,s)||s;Zh(r[a])&&Zh(i)?r[a]=kP(r[a],i):Zh(i)?r[a]=kP({},i):uu(i)?r[a]=i.slice():(!e||!Gl(i))&&(r[a]=i)};for(let i=0,s=arguments.length;i<s;i++)arguments[i]&&Sd(arguments[i],n);return r}const lee=(t,e,r,{allOwnKeys:n}={})=>(Sd(e,(i,s)=>{r&&Gr(i)?t[s]=I7(i,r):t[s]=i},{allOwnKeys:n}),t),uee=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),cee=(t,e,r,n)=>{t.prototype=Object.create(e.prototype,n),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),r&&Object.assign(t.prototype,r)},dee=(t,e,r,n)=>{let i,s,a;const o={};if(e=e||{},t==null)return e;do{for(i=Object.getOwnPropertyNames(t),s=i.length;s-- >0;)a=i[s],(!n||n(a,t,e))&&!o[a]&&(e[a]=t[a],o[a]=!0);t=r!==!1&&hT(t)}while(t&&(!r||r(t,e))&&t!==Object.prototype);return e},hee=(t,e,r)=>{t=String(t),(r===void 0||r>t.length)&&(r=t.length),r-=e.length;const n=t.indexOf(e,r);return n!==-1&&n===r},fee=t=>{if(!t)return null;if(uu(t))return t;let e=t.length;if(!$7(e))return null;const r=new Array(e);for(;e-- >0;)r[e]=t[e];return r},pee=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&hT(Uint8Array)),mee=(t,e)=>{const n=(t&&t[wp]).call(t);let i;for(;(i=n.next())&&!i.done;){const s=i.value;e.call(t,s[0],s[1])}},vee=(t,e)=>{let r;const n=[];for(;(r=t.exec(e))!==null;)n.push(r);return n},gee=ti("HTMLFormElement"),yee=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(r,n,i){return n.toUpperCase()+i}),uR=(({hasOwnProperty:t})=>(e,r)=>t.call(e,r))(Object.prototype),bee=ti("RegExp"),D7=(t,e)=>{const r=Object.getOwnPropertyDescriptors(t),n={};Sd(r,(i,s)=>{let a;(a=e(i,s,t))!==!1&&(n[s]=a||i)}),Object.defineProperties(t,n)},wee=t=>{D7(t,(e,r)=>{if(Gr(t)&&["arguments","caller","callee"].indexOf(r)!==-1)return!1;const n=t[r];if(Gr(n)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")})}})},xee=(t,e)=>{const r={},n=i=>{i.forEach(s=>{r[s]=!0})};return uu(t)?n(t):n(String(t).split(e)),r},_ee=()=>{},See=(t,e)=>t!=null&&Number.isFinite(t=+t)?t:e;function Eee(t){return!!(t&&Gr(t.append)&&t[N7]==="FormData"&&t[wp])}const Oee=t=>{const e=new Array(10),r=(n,i)=>{if(_d(n)){if(e.indexOf(n)>=0)return;if(xd(n))return n;if(!("toJSON"in n)){e[i]=n;const s=uu(n)?[]:{};return Sd(n,(a,o)=>{const l=r(a,i+1);!Gl(l)&&(s[o]=l)}),e[i]=void 0,s}}return n};return r(t,0)},Pee=ti("AsyncFunction"),Cee=t=>t&&(_d(t)||Gr(t))&&Gr(t.then)&&Gr(t.catch),q7=((t,e)=>t?setImmediate:e?((r,n)=>(Oa.addEventListener("message",({source:i,data:s})=>{i===Oa&&s===r&&n.length&&n.shift()()},!1),i=>{n.push(i),Oa.postMessage(r,"*")}))(`axios@${Math.random()}`,[]):r=>setTimeout(r))(typeof setImmediate=="function",Gr(Oa.postMessage)),Tee=typeof queueMicrotask<"u"?queueMicrotask.bind(Oa):typeof process<"u"&&process.nextTick||q7,Iee=t=>t!=null&&Gr(t[wp]),M={isArray:uu,isArrayBuffer:R7,isBuffer:xd,isFormData:tee,isArrayBufferView:VZ,isString:KZ,isNumber:$7,isBoolean:GZ,isObject:_d,isPlainObject:Zh,isEmptyObject:YZ,isReadableStream:nee,isRequest:iee,isResponse:see,isHeaders:aee,isUndefined:Gl,isDate:QZ,isFile:XZ,isBlob:JZ,isRegExp:bee,isFunction:Gr,isStream:eee,isURLSearchParams:ree,isTypedArray:pee,isFileList:ZZ,forEach:Sd,merge:kP,extend:lee,trim:oee,stripBOM:uee,inherits:cee,toFlatObject:dee,kindOf:xp,kindOfTest:ti,endsWith:hee,toArray:fee,forEachEntry:mee,matchAll:vee,isHTMLForm:gee,hasOwnProperty:uR,hasOwnProp:uR,reduceDescriptors:D7,freezeMethods:wee,toObjectSet:xee,toCamelCase:yee,noop:_ee,toFiniteNumber:See,findKey:j7,global:Oa,isContextDefined:k7,isSpecCompliantForm:Eee,toJSONObject:Oee,isAsyncFn:Pee,isThenable:Cee,setImmediate:q7,asap:Tee,isIterable:Iee};function Te(t,e,r,n,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),r&&(this.config=r),n&&(this.request=n),i&&(this.response=i,this.status=i.status?i.status:null)}M.inherits(Te,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:M.toJSONObject(this.config),code:this.code,status:this.status}}});const M7=Te.prototype,A7={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{A7[t]={value:t}});Object.defineProperties(Te,A7);Object.defineProperty(M7,"isAxiosError",{value:!0});Te.from=(t,e,r,n,i,s)=>{const a=Object.create(M7);M.toFlatObject(t,a,function(c){return c!==Error.prototype},u=>u!=="isAxiosError");const o=t&&t.message?t.message:"Error",l=e==null&&t?t.code:e;return Te.call(a,o,l,r,n,i),t&&a.cause==null&&Object.defineProperty(a,"cause",{value:t,configurable:!0}),a.name=t&&t.name||"Error",s&&Object.assign(a,s),a};const Nee=null;function DP(t){return M.isPlainObject(t)||M.isArray(t)}function F7(t){return M.endsWith(t,"[]")?t.slice(0,-2):t}function cR(t,e,r){return t?t.concat(e).map(function(i,s){return i=F7(i),!r&&s?"["+i+"]":i}).join(r?".":""):e}function Ree(t){return M.isArray(t)&&!t.some(DP)}const $ee=M.toFlatObject(M,{},null,function(e){return/^is[A-Z]/.test(e)});function Sp(t,e,r){if(!M.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,r=M.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,function(y,b){return!M.isUndefined(b[y])});const n=r.metaTokens,i=r.visitor||c,s=r.dots,a=r.indexes,l=(r.Blob||typeof Blob<"u"&&Blob)&&M.isSpecCompliantForm(e);if(!M.isFunction(i))throw new TypeError("visitor must be a function");function u(m){if(m===null)return"";if(M.isDate(m))return m.toISOString();if(M.isBoolean(m))return m.toString();if(!l&&M.isBlob(m))throw new Te("Blob is not supported. Use a Buffer instead.");return M.isArrayBuffer(m)||M.isTypedArray(m)?l&&typeof Blob=="function"?new Blob([m]):Buffer.from(m):m}function c(m,y,b){let g=m;if(m&&!b&&typeof m=="object"){if(M.endsWith(y,"{}"))y=n?y:y.slice(0,-2),m=JSON.stringify(m);else if(M.isArray(m)&&Ree(m)||(M.isFileList(m)||M.endsWith(y,"[]"))&&(g=M.toArray(m)))return y=F7(y),g.forEach(function(x,w){!(M.isUndefined(x)||x===null)&&e.append(a===!0?cR([y],w,s):a===null?y:y+"[]",u(x))}),!1}return DP(m)?!0:(e.append(cR(b,y,s),u(m)),!1)}const h=[],f=Object.assign($ee,{defaultVisitor:c,convertValue:u,isVisitable:DP});function p(m,y){if(!M.isUndefined(m)){if(h.indexOf(m)!==-1)throw Error("Circular reference detected in "+y.join("."));h.push(m),M.forEach(m,function(g,v){(!(M.isUndefined(g)||g===null)&&i.call(e,g,M.isString(v)?v.trim():v,y,f))===!0&&p(g,y?y.concat(v):[v])}),h.pop()}}if(!M.isObject(t))throw new TypeError("data must be an object");return p(t),e}function dR(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(n){return e[n]})}function fT(t,e){this._pairs=[],t&&Sp(t,this,e)}const L7=fT.prototype;L7.append=function(e,r){this._pairs.push([e,r])};L7.toString=function(e){const r=e?function(n){return e.call(this,n,dR)}:dR;return this._pairs.map(function(i){return r(i[0])+"="+r(i[1])},"").join("&")};function jee(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function B7(t,e,r){if(!e)return t;const n=r&&r.encode||jee;M.isFunction(r)&&(r={serialize:r});const i=r&&r.serialize;let s;if(i?s=i(e,r):s=M.isURLSearchParams(e)?e.toString():new fT(e,r).toString(n),s){const a=t.indexOf("#");a!==-1&&(t=t.slice(0,a)),t+=(t.indexOf("?")===-1?"?":"&")+s}return t}class hR{constructor(){this.handlers=[]}use(e,r,n){return this.handlers.push({fulfilled:e,rejected:r,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){M.forEach(this.handlers,function(n){n!==null&&e(n)})}}const z7={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},kee=typeof URLSearchParams<"u"?URLSearchParams:fT,Dee=typeof FormData<"u"?FormData:null,qee=typeof Blob<"u"?Blob:null,Mee={isBrowser:!0,classes:{URLSearchParams:kee,FormData:Dee,Blob:qee},protocols:["http","https","file","blob","url","data"]},pT=typeof window<"u"&&typeof document<"u",qP=typeof navigator=="object"&&navigator||void 0,Aee=pT&&(!qP||["ReactNative","NativeScript","NS"].indexOf(qP.product)<0),Fee=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",Lee=pT&&window.location.href||"http://localhost",Bee=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:pT,hasStandardBrowserEnv:Aee,hasStandardBrowserWebWorkerEnv:Fee,navigator:qP,origin:Lee},Symbol.toStringTag,{value:"Module"})),br={...Bee,...Mee};function zee(t,e){return Sp(t,new br.classes.URLSearchParams,{visitor:function(r,n,i,s){return br.isNode&&M.isBuffer(r)?(this.append(n,r.toString("base64")),!1):s.defaultVisitor.apply(this,arguments)},...e})}function Uee(t){return M.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function Wee(t){const e={},r=Object.keys(t);let n;const i=r.length;let s;for(n=0;n<i;n++)s=r[n],e[s]=t[s];return e}function U7(t){function e(r,n,i,s){let a=r[s++];if(a==="__proto__")return!0;const o=Number.isFinite(+a),l=s>=r.length;return a=!a&&M.isArray(i)?i.length:a,l?(M.hasOwnProp(i,a)?i[a]=[i[a],n]:i[a]=n,!o):((!i[a]||!M.isObject(i[a]))&&(i[a]=[]),e(r,n,i[a],s)&&M.isArray(i[a])&&(i[a]=Wee(i[a])),!o)}if(M.isFormData(t)&&M.isFunction(t.entries)){const r={};return M.forEachEntry(t,(n,i)=>{e(Uee(n),i,r,0)}),r}return null}function Hee(t,e,r){if(M.isString(t))try{return(e||JSON.parse)(t),M.trim(t)}catch(n){if(n.name!=="SyntaxError")throw n}return(r||JSON.stringify)(t)}const Ed={transitional:z7,adapter:["xhr","http","fetch"],transformRequest:[function(e,r){const n=r.getContentType()||"",i=n.indexOf("application/json")>-1,s=M.isObject(e);if(s&&M.isHTMLForm(e)&&(e=new FormData(e)),M.isFormData(e))return i?JSON.stringify(U7(e)):e;if(M.isArrayBuffer(e)||M.isBuffer(e)||M.isStream(e)||M.isFile(e)||M.isBlob(e)||M.isReadableStream(e))return e;if(M.isArrayBufferView(e))return e.buffer;if(M.isURLSearchParams(e))return r.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let o;if(s){if(n.indexOf("application/x-www-form-urlencoded")>-1)return zee(e,this.formSerializer).toString();if((o=M.isFileList(e))||n.indexOf("multipart/form-data")>-1){const l=this.env&&this.env.FormData;return Sp(o?{"files[]":e}:e,l&&new l,this.formSerializer)}}return s||i?(r.setContentType("application/json",!1),Hee(e)):e}],transformResponse:[function(e){const r=this.transitional||Ed.transitional,n=r&&r.forcedJSONParsing,i=this.responseType==="json";if(M.isResponse(e)||M.isReadableStream(e))return e;if(e&&M.isString(e)&&(n&&!this.responseType||i)){const a=!(r&&r.silentJSONParsing)&&i;try{return JSON.parse(e,this.parseReviver)}catch(o){if(a)throw o.name==="SyntaxError"?Te.from(o,Te.ERR_BAD_RESPONSE,this,null,this.response):o}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:br.classes.FormData,Blob:br.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};M.forEach(["delete","get","head","post","put","patch"],t=>{Ed.headers[t]={}});const Vee=M.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Kee=t=>{const e={};let r,n,i;return t&&t.split(`
`).forEach(function(a){i=a.indexOf(":"),r=a.substring(0,i).trim().toLowerCase(),n=a.substring(i+1).trim(),!(!r||e[r]&&Vee[r])&&(r==="set-cookie"?e[r]?e[r].push(n):e[r]=[n]:e[r]=e[r]?e[r]+", "+n:n)}),e},fR=Symbol("internals");function Gu(t){return t&&String(t).trim().toLowerCase()}function ef(t){return t===!1||t==null?t:M.isArray(t)?t.map(ef):String(t)}function Gee(t){const e=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let n;for(;n=r.exec(t);)e[n[1]]=n[2];return e}const Yee=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function Mm(t,e,r,n,i){if(M.isFunction(n))return n.call(this,e,r);if(i&&(e=r),!!M.isString(e)){if(M.isString(n))return e.indexOf(n)!==-1;if(M.isRegExp(n))return n.test(e)}}function Qee(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,r,n)=>r.toUpperCase()+n)}function Xee(t,e){const r=M.toCamelCase(" "+e);["get","set","has"].forEach(n=>{Object.defineProperty(t,n+r,{value:function(i,s,a){return this[n].call(this,e,i,s,a)},configurable:!0})})}let Yr=class{constructor(e){e&&this.set(e)}set(e,r,n){const i=this;function s(o,l,u){const c=Gu(l);if(!c)throw new Error("header name must be a non-empty string");const h=M.findKey(i,c);(!h||i[h]===void 0||u===!0||u===void 0&&i[h]!==!1)&&(i[h||l]=ef(o))}const a=(o,l)=>M.forEach(o,(u,c)=>s(u,c,l));if(M.isPlainObject(e)||e instanceof this.constructor)a(e,r);else if(M.isString(e)&&(e=e.trim())&&!Yee(e))a(Kee(e),r);else if(M.isObject(e)&&M.isIterable(e)){let o={},l,u;for(const c of e){if(!M.isArray(c))throw TypeError("Object iterator must return a key-value pair");o[u=c[0]]=(l=o[u])?M.isArray(l)?[...l,c[1]]:[l,c[1]]:c[1]}a(o,r)}else e!=null&&s(r,e,n);return this}get(e,r){if(e=Gu(e),e){const n=M.findKey(this,e);if(n){const i=this[n];if(!r)return i;if(r===!0)return Gee(i);if(M.isFunction(r))return r.call(this,i,n);if(M.isRegExp(r))return r.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,r){if(e=Gu(e),e){const n=M.findKey(this,e);return!!(n&&this[n]!==void 0&&(!r||Mm(this,this[n],n,r)))}return!1}delete(e,r){const n=this;let i=!1;function s(a){if(a=Gu(a),a){const o=M.findKey(n,a);o&&(!r||Mm(n,n[o],o,r))&&(delete n[o],i=!0)}}return M.isArray(e)?e.forEach(s):s(e),i}clear(e){const r=Object.keys(this);let n=r.length,i=!1;for(;n--;){const s=r[n];(!e||Mm(this,this[s],s,e,!0))&&(delete this[s],i=!0)}return i}normalize(e){const r=this,n={};return M.forEach(this,(i,s)=>{const a=M.findKey(n,s);if(a){r[a]=ef(i),delete r[s];return}const o=e?Qee(s):String(s).trim();o!==s&&delete r[s],r[o]=ef(i),n[o]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const r=Object.create(null);return M.forEach(this,(n,i)=>{n!=null&&n!==!1&&(r[i]=e&&M.isArray(n)?n.join(", "):n)}),r}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,r])=>e+": "+r).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...r){const n=new this(e);return r.forEach(i=>n.set(i)),n}static accessor(e){const n=(this[fR]=this[fR]={accessors:{}}).accessors,i=this.prototype;function s(a){const o=Gu(a);n[o]||(Xee(i,a),n[o]=!0)}return M.isArray(e)?e.forEach(s):s(e),this}};Yr.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);M.reduceDescriptors(Yr.prototype,({value:t},e)=>{let r=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(n){this[r]=n}}});M.freezeMethods(Yr);function Am(t,e){const r=this||Ed,n=e||r,i=Yr.from(n.headers);let s=n.data;return M.forEach(t,function(o){s=o.call(r,s,i.normalize(),e?e.status:void 0)}),i.normalize(),s}function W7(t){return!!(t&&t.__CANCEL__)}function cu(t,e,r){Te.call(this,t??"canceled",Te.ERR_CANCELED,e,r),this.name="CanceledError"}M.inherits(cu,Te,{__CANCEL__:!0});function H7(t,e,r){const n=r.config.validateStatus;!r.status||!n||n(r.status)?t(r):e(new Te("Request failed with status code "+r.status,[Te.ERR_BAD_REQUEST,Te.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r))}function Jee(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function Zee(t,e){t=t||10;const r=new Array(t),n=new Array(t);let i=0,s=0,a;return e=e!==void 0?e:1e3,function(l){const u=Date.now(),c=n[s];a||(a=u),r[i]=l,n[i]=u;let h=s,f=0;for(;h!==i;)f+=r[h++],h=h%t;if(i=(i+1)%t,i===s&&(s=(s+1)%t),u-a<e)return;const p=c&&u-c;return p?Math.round(f*1e3/p):void 0}}function ete(t,e){let r=0,n=1e3/e,i,s;const a=(u,c=Date.now())=>{r=c,i=null,s&&(clearTimeout(s),s=null),t(...u)};return[(...u)=>{const c=Date.now(),h=c-r;h>=n?a(u,c):(i=u,s||(s=setTimeout(()=>{s=null,a(i)},n-h)))},()=>i&&a(i)]}const qf=(t,e,r=3)=>{let n=0;const i=Zee(50,250);return ete(s=>{const a=s.loaded,o=s.lengthComputable?s.total:void 0,l=a-n,u=i(l),c=a<=o;n=a;const h={loaded:a,total:o,progress:o?a/o:void 0,bytes:l,rate:u||void 0,estimated:u&&o&&c?(o-a)/u:void 0,event:s,lengthComputable:o!=null,[e?"download":"upload"]:!0};t(h)},r)},pR=(t,e)=>{const r=t!=null;return[n=>e[0]({lengthComputable:r,total:t,loaded:n}),e[1]]},mR=t=>(...e)=>M.asap(()=>t(...e)),tte=br.hasStandardBrowserEnv?((t,e)=>r=>(r=new URL(r,br.origin),t.protocol===r.protocol&&t.host===r.host&&(e||t.port===r.port)))(new URL(br.origin),br.navigator&&/(msie|trident)/i.test(br.navigator.userAgent)):()=>!0,rte=br.hasStandardBrowserEnv?{write(t,e,r,n,i,s,a){if(typeof document>"u")return;const o=[`${t}=${encodeURIComponent(e)}`];M.isNumber(r)&&o.push(`expires=${new Date(r).toUTCString()}`),M.isString(n)&&o.push(`path=${n}`),M.isString(i)&&o.push(`domain=${i}`),s===!0&&o.push("secure"),M.isString(a)&&o.push(`SameSite=${a}`),document.cookie=o.join("; ")},read(t){if(typeof document>"u")return null;const e=document.cookie.match(new RegExp("(?:^|; )"+t+"=([^;]*)"));return e?decodeURIComponent(e[1]):null},remove(t){this.write(t,"",Date.now()-864e5,"/")}}:{write(){},read(){return null},remove(){}};function nte(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function ite(t,e){return e?t.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):t}function V7(t,e,r){let n=!nte(e);return t&&(n||r==!1)?ite(t,e):e}const vR=t=>t instanceof Yr?{...t}:t;function so(t,e){e=e||{};const r={};function n(u,c,h,f){return M.isPlainObject(u)&&M.isPlainObject(c)?M.merge.call({caseless:f},u,c):M.isPlainObject(c)?M.merge({},c):M.isArray(c)?c.slice():c}function i(u,c,h,f){if(M.isUndefined(c)){if(!M.isUndefined(u))return n(void 0,u,h,f)}else return n(u,c,h,f)}function s(u,c){if(!M.isUndefined(c))return n(void 0,c)}function a(u,c){if(M.isUndefined(c)){if(!M.isUndefined(u))return n(void 0,u)}else return n(void 0,c)}function o(u,c,h){if(h in e)return n(u,c);if(h in t)return n(void 0,u)}const l={url:s,method:s,data:s,baseURL:a,transformRequest:a,transformResponse:a,paramsSerializer:a,timeout:a,timeoutMessage:a,withCredentials:a,withXSRFToken:a,adapter:a,responseType:a,xsrfCookieName:a,xsrfHeaderName:a,onUploadProgress:a,onDownloadProgress:a,decompress:a,maxContentLength:a,maxBodyLength:a,beforeRedirect:a,transport:a,httpAgent:a,httpsAgent:a,cancelToken:a,socketPath:a,responseEncoding:a,validateStatus:o,headers:(u,c,h)=>i(vR(u),vR(c),h,!0)};return M.forEach(Object.keys({...t,...e}),function(c){const h=l[c]||i,f=h(t[c],e[c],c);M.isUndefined(f)&&h!==o||(r[c]=f)}),r}const K7=t=>{const e=so({},t);let{data:r,withXSRFToken:n,xsrfHeaderName:i,xsrfCookieName:s,headers:a,auth:o}=e;if(e.headers=a=Yr.from(a),e.url=B7(V7(e.baseURL,e.url,e.allowAbsoluteUrls),t.params,t.paramsSerializer),o&&a.set("Authorization","Basic "+btoa((o.username||"")+":"+(o.password?unescape(encodeURIComponent(o.password)):""))),M.isFormData(r)){if(br.hasStandardBrowserEnv||br.hasStandardBrowserWebWorkerEnv)a.setContentType(void 0);else if(M.isFunction(r.getHeaders)){const l=r.getHeaders(),u=["content-type","content-length"];Object.entries(l).forEach(([c,h])=>{u.includes(c.toLowerCase())&&a.set(c,h)})}}if(br.hasStandardBrowserEnv&&(n&&M.isFunction(n)&&(n=n(e)),n||n!==!1&&tte(e.url))){const l=i&&s&&rte.read(s);l&&a.set(i,l)}return e},ste=typeof XMLHttpRequest<"u",ate=ste&&function(t){return new Promise(function(r,n){const i=K7(t);let s=i.data;const a=Yr.from(i.headers).normalize();let{responseType:o,onUploadProgress:l,onDownloadProgress:u}=i,c,h,f,p,m;function y(){p&&p(),m&&m(),i.cancelToken&&i.cancelToken.unsubscribe(c),i.signal&&i.signal.removeEventListener("abort",c)}let b=new XMLHttpRequest;b.open(i.method.toUpperCase(),i.url,!0),b.timeout=i.timeout;function g(){if(!b)return;const x=Yr.from("getAllResponseHeaders"in b&&b.getAllResponseHeaders()),_={data:!o||o==="text"||o==="json"?b.responseText:b.response,status:b.status,statusText:b.statusText,headers:x,config:t,request:b};H7(function(O){r(O),y()},function(O){n(O),y()},_),b=null}"onloadend"in b?b.onloadend=g:b.onreadystatechange=function(){!b||b.readyState!==4||b.status===0&&!(b.responseURL&&b.responseURL.indexOf("file:")===0)||setTimeout(g)},b.onabort=function(){b&&(n(new Te("Request aborted",Te.ECONNABORTED,t,b)),b=null)},b.onerror=function(w){const _=w&&w.message?w.message:"Network Error",E=new Te(_,Te.ERR_NETWORK,t,b);E.event=w||null,n(E),b=null},b.ontimeout=function(){let w=i.timeout?"timeout of "+i.timeout+"ms exceeded":"timeout exceeded";const _=i.transitional||z7;i.timeoutErrorMessage&&(w=i.timeoutErrorMessage),n(new Te(w,_.clarifyTimeoutError?Te.ETIMEDOUT:Te.ECONNABORTED,t,b)),b=null},s===void 0&&a.setContentType(null),"setRequestHeader"in b&&M.forEach(a.toJSON(),function(w,_){b.setRequestHeader(_,w)}),M.isUndefined(i.withCredentials)||(b.withCredentials=!!i.withCredentials),o&&o!=="json"&&(b.responseType=i.responseType),u&&([f,m]=qf(u,!0),b.addEventListener("progress",f)),l&&b.upload&&([h,p]=qf(l),b.upload.addEventListener("progress",h),b.upload.addEventListener("loadend",p)),(i.cancelToken||i.signal)&&(c=x=>{b&&(n(!x||x.type?new cu(null,t,b):x),b.abort(),b=null)},i.cancelToken&&i.cancelToken.subscribe(c),i.signal&&(i.signal.aborted?c():i.signal.addEventListener("abort",c)));const v=Jee(i.url);if(v&&br.protocols.indexOf(v)===-1){n(new Te("Unsupported protocol "+v+":",Te.ERR_BAD_REQUEST,t));return}b.send(s||null)})},ote=(t,e)=>{const{length:r}=t=t?t.filter(Boolean):[];if(e||r){let n=new AbortController,i;const s=function(u){if(!i){i=!0,o();const c=u instanceof Error?u:this.reason;n.abort(c instanceof Te?c:new cu(c instanceof Error?c.message:c))}};let a=e&&setTimeout(()=>{a=null,s(new Te(`timeout ${e} of ms exceeded`,Te.ETIMEDOUT))},e);const o=()=>{t&&(a&&clearTimeout(a),a=null,t.forEach(u=>{u.unsubscribe?u.unsubscribe(s):u.removeEventListener("abort",s)}),t=null)};t.forEach(u=>u.addEventListener("abort",s));const{signal:l}=n;return l.unsubscribe=()=>M.asap(o),l}},lte=function*(t,e){let r=t.byteLength;if(r<e){yield t;return}let n=0,i;for(;n<r;)i=n+e,yield t.slice(n,i),n=i},ute=async function*(t,e){for await(const r of cte(t))yield*lte(r,e)},cte=async function*(t){if(t[Symbol.asyncIterator]){yield*t;return}const e=t.getReader();try{for(;;){const{done:r,value:n}=await e.read();if(r)break;yield n}}finally{await e.cancel()}},gR=(t,e,r,n)=>{const i=ute(t,e);let s=0,a,o=l=>{a||(a=!0,n&&n(l))};return new ReadableStream({async pull(l){try{const{done:u,value:c}=await i.next();if(u){o(),l.close();return}let h=c.byteLength;if(r){let f=s+=h;r(f)}l.enqueue(new Uint8Array(c))}catch(u){throw o(u),u}},cancel(l){return o(l),i.return()}},{highWaterMark:2})},yR=64*1024,{isFunction:Ih}=M,dte=(({Request:t,Response:e})=>({Request:t,Response:e}))(M.global),{ReadableStream:bR,TextEncoder:wR}=M.global,xR=(t,...e)=>{try{return!!t(...e)}catch{return!1}},hte=t=>{t=M.merge.call({skipUndefined:!0},dte,t);const{fetch:e,Request:r,Response:n}=t,i=e?Ih(e):typeof fetch=="function",s=Ih(r),a=Ih(n);if(!i)return!1;const o=i&&Ih(bR),l=i&&(typeof wR=="function"?(m=>y=>m.encode(y))(new wR):async m=>new Uint8Array(await new r(m).arrayBuffer())),u=s&&o&&xR(()=>{let m=!1;const y=new r(br.origin,{body:new bR,method:"POST",get duplex(){return m=!0,"half"}}).headers.has("Content-Type");return m&&!y}),c=a&&o&&xR(()=>M.isReadableStream(new n("").body)),h={stream:c&&(m=>m.body)};i&&["text","arrayBuffer","blob","formData","stream"].forEach(m=>{!h[m]&&(h[m]=(y,b)=>{let g=y&&y[m];if(g)return g.call(y);throw new Te(`Response type '${m}' is not supported`,Te.ERR_NOT_SUPPORT,b)})});const f=async m=>{if(m==null)return 0;if(M.isBlob(m))return m.size;if(M.isSpecCompliantForm(m))return(await new r(br.origin,{method:"POST",body:m}).arrayBuffer()).byteLength;if(M.isArrayBufferView(m)||M.isArrayBuffer(m))return m.byteLength;if(M.isURLSearchParams(m)&&(m=m+""),M.isString(m))return(await l(m)).byteLength},p=async(m,y)=>{const b=M.toFiniteNumber(m.getContentLength());return b??f(y)};return async m=>{let{url:y,method:b,data:g,signal:v,cancelToken:x,timeout:w,onDownloadProgress:_,onUploadProgress:E,responseType:O,headers:S,withCredentials:P="same-origin",fetchOptions:C}=K7(m),N=e||fetch;O=O?(O+"").toLowerCase():"text";let T=ote([v,x&&x.toAbortSignal()],w),I=null;const q=T&&T.unsubscribe&&(()=>{T.unsubscribe()});let B;try{if(E&&u&&b!=="get"&&b!=="head"&&(B=await p(S,g))!==0){let U=new r(y,{method:"POST",body:g,duplex:"half"}),te;if(M.isFormData(g)&&(te=U.headers.get("content-type"))&&S.setContentType(te),U.body){const[fe,ge]=pR(B,qf(mR(E)));g=gR(U.body,yR,fe,ge)}}M.isString(P)||(P=P?"include":"omit");const re=s&&"credentials"in r.prototype,Q={...C,signal:T,method:b.toUpperCase(),headers:S.normalize().toJSON(),body:g,duplex:"half",credentials:re?P:void 0};I=s&&new r(y,Q);let L=await(s?N(I,C):N(y,Q));const G=c&&(O==="stream"||O==="response");if(c&&(_||G&&q)){const U={};["status","statusText","headers"].forEach(ke=>{U[ke]=L[ke]});const te=M.toFiniteNumber(L.headers.get("content-length")),[fe,ge]=_&&pR(te,qf(mR(_),!0))||[];L=new n(gR(L.body,yR,fe,()=>{ge&&ge(),q&&q()}),U)}O=O||"text";let z=await h[M.findKey(h,O)||"text"](L,m);return!G&&q&&q(),await new Promise((U,te)=>{H7(U,te,{data:z,headers:Yr.from(L.headers),status:L.status,statusText:L.statusText,config:m,request:I})})}catch(re){throw q&&q(),re&&re.name==="TypeError"&&/Load failed|fetch/i.test(re.message)?Object.assign(new Te("Network Error",Te.ERR_NETWORK,m,I),{cause:re.cause||re}):Te.from(re,re&&re.code,m,I)}}},fte=new Map,G7=t=>{let e=t&&t.env||{};const{fetch:r,Request:n,Response:i}=e,s=[n,i,r];let a=s.length,o=a,l,u,c=fte;for(;o--;)l=s[o],u=c.get(l),u===void 0&&c.set(l,u=o?new Map:hte(e)),c=u;return u};G7();const mT={http:Nee,xhr:ate,fetch:{get:G7}};M.forEach(mT,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const _R=t=>`- ${t}`,pte=t=>M.isFunction(t)||t===null||t===!1;function mte(t,e){t=M.isArray(t)?t:[t];const{length:r}=t;let n,i;const s={};for(let a=0;a<r;a++){n=t[a];let o;if(i=n,!pte(n)&&(i=mT[(o=String(n)).toLowerCase()],i===void 0))throw new Te(`Unknown adapter '${o}'`);if(i&&(M.isFunction(i)||(i=i.get(e))))break;s[o||"#"+a]=i}if(!i){const a=Object.entries(s).map(([l,u])=>`adapter ${l} `+(u===!1?"is not supported by the environment":"is not available in the build"));let o=r?a.length>1?`since :
`+a.map(_R).join(`
`):" "+_R(a[0]):"as no adapter specified";throw new Te("There is no suitable adapter to dispatch the request "+o,"ERR_NOT_SUPPORT")}return i}const Y7={getAdapter:mte,adapters:mT};function Fm(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new cu(null,t)}function SR(t){return Fm(t),t.headers=Yr.from(t.headers),t.data=Am.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),Y7.getAdapter(t.adapter||Ed.adapter,t)(t).then(function(n){return Fm(t),n.data=Am.call(t,t.transformResponse,n),n.headers=Yr.from(n.headers),n},function(n){return W7(n)||(Fm(t),n&&n.response&&(n.response.data=Am.call(t,t.transformResponse,n.response),n.response.headers=Yr.from(n.response.headers))),Promise.reject(n)})}const Q7="1.13.2",Ep={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{Ep[t]=function(n){return typeof n===t||"a"+(e<1?"n ":" ")+t}});const ER={};Ep.transitional=function(e,r,n){function i(s,a){return"[Axios v"+Q7+"] Transitional option '"+s+"'"+a+(n?". "+n:"")}return(s,a,o)=>{if(e===!1)throw new Te(i(a," has been removed"+(r?" in "+r:"")),Te.ERR_DEPRECATED);return r&&!ER[a]&&(ER[a]=!0,console.warn(i(a," has been deprecated since v"+r+" and will be removed in the near future"))),e?e(s,a,o):!0}};Ep.spelling=function(e){return(r,n)=>(console.warn(`${n} is likely a misspelling of ${e}`),!0)};function vte(t,e,r){if(typeof t!="object")throw new Te("options must be an object",Te.ERR_BAD_OPTION_VALUE);const n=Object.keys(t);let i=n.length;for(;i-- >0;){const s=n[i],a=e[s];if(a){const o=t[s],l=o===void 0||a(o,s,t);if(l!==!0)throw new Te("option "+s+" must be "+l,Te.ERR_BAD_OPTION_VALUE);continue}if(r!==!0)throw new Te("Unknown option "+s,Te.ERR_BAD_OPTION)}}const tf={assertOptions:vte,validators:Ep},ai=tf.validators;let za=class{constructor(e){this.defaults=e||{},this.interceptors={request:new hR,response:new hR}}async request(e,r){try{return await this._request(e,r)}catch(n){if(n instanceof Error){let i={};Error.captureStackTrace?Error.captureStackTrace(i):i=new Error;const s=i.stack?i.stack.replace(/^.+\n/,""):"";try{n.stack?s&&!String(n.stack).endsWith(s.replace(/^.+\n.+\n/,""))&&(n.stack+=`
`+s):n.stack=s}catch{}}throw n}}_request(e,r){typeof e=="string"?(r=r||{},r.url=e):r=e||{},r=so(this.defaults,r);const{transitional:n,paramsSerializer:i,headers:s}=r;n!==void 0&&tf.assertOptions(n,{silentJSONParsing:ai.transitional(ai.boolean),forcedJSONParsing:ai.transitional(ai.boolean),clarifyTimeoutError:ai.transitional(ai.boolean)},!1),i!=null&&(M.isFunction(i)?r.paramsSerializer={serialize:i}:tf.assertOptions(i,{encode:ai.function,serialize:ai.function},!0)),r.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?r.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:r.allowAbsoluteUrls=!0),tf.assertOptions(r,{baseUrl:ai.spelling("baseURL"),withXsrfToken:ai.spelling("withXSRFToken")},!0),r.method=(r.method||this.defaults.method||"get").toLowerCase();let a=s&&M.merge(s.common,s[r.method]);s&&M.forEach(["delete","get","head","post","put","patch","common"],m=>{delete s[m]}),r.headers=Yr.concat(a,s);const o=[];let l=!0;this.interceptors.request.forEach(function(y){typeof y.runWhen=="function"&&y.runWhen(r)===!1||(l=l&&y.synchronous,o.unshift(y.fulfilled,y.rejected))});const u=[];this.interceptors.response.forEach(function(y){u.push(y.fulfilled,y.rejected)});let c,h=0,f;if(!l){const m=[SR.bind(this),void 0];for(m.unshift(...o),m.push(...u),f=m.length,c=Promise.resolve(r);h<f;)c=c.then(m[h++],m[h++]);return c}f=o.length;let p=r;for(;h<f;){const m=o[h++],y=o[h++];try{p=m(p)}catch(b){y.call(this,b);break}}try{c=SR.call(this,p)}catch(m){return Promise.reject(m)}for(h=0,f=u.length;h<f;)c=c.then(u[h++],u[h++]);return c}getUri(e){e=so(this.defaults,e);const r=V7(e.baseURL,e.url,e.allowAbsoluteUrls);return B7(r,e.params,e.paramsSerializer)}};M.forEach(["delete","get","head","options"],function(e){za.prototype[e]=function(r,n){return this.request(so(n||{},{method:e,url:r,data:(n||{}).data}))}});M.forEach(["post","put","patch"],function(e){function r(n){return function(s,a,o){return this.request(so(o||{},{method:e,headers:n?{"Content-Type":"multipart/form-data"}:{},url:s,data:a}))}}za.prototype[e]=r(),za.prototype[e+"Form"]=r(!0)});let gte=class X7{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let r;this.promise=new Promise(function(s){r=s});const n=this;this.promise.then(i=>{if(!n._listeners)return;let s=n._listeners.length;for(;s-- >0;)n._listeners[s](i);n._listeners=null}),this.promise.then=i=>{let s;const a=new Promise(o=>{n.subscribe(o),s=o}).then(i);return a.cancel=function(){n.unsubscribe(s)},a},e(function(s,a,o){n.reason||(n.reason=new cu(s,a,o),r(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const r=this._listeners.indexOf(e);r!==-1&&this._listeners.splice(r,1)}toAbortSignal(){const e=new AbortController,r=n=>{e.abort(n)};return this.subscribe(r),e.signal.unsubscribe=()=>this.unsubscribe(r),e.signal}static source(){let e;return{token:new X7(function(i){e=i}),cancel:e}}};function yte(t){return function(r){return t.apply(null,r)}}function bte(t){return M.isObject(t)&&t.isAxiosError===!0}const MP={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(MP).forEach(([t,e])=>{MP[e]=t});function J7(t){const e=new za(t),r=I7(za.prototype.request,e);return M.extend(r,za.prototype,e,{allOwnKeys:!0}),M.extend(r,e,null,{allOwnKeys:!0}),r.create=function(i){return J7(so(t,i))},r}const Tt=J7(Ed);Tt.Axios=za;Tt.CanceledError=cu;Tt.CancelToken=gte;Tt.isCancel=W7;Tt.VERSION=Q7;Tt.toFormData=Sp;Tt.AxiosError=Te;Tt.Cancel=Tt.CanceledError;Tt.all=function(e){return Promise.all(e)};Tt.spread=yte;Tt.isAxiosError=bte;Tt.mergeConfig=so;Tt.AxiosHeaders=Yr;Tt.formToJSON=t=>U7(M.isHTMLForm(t)?new FormData(t):t);Tt.getAdapter=Y7.getAdapter;Tt.HttpStatusCode=MP;Tt.default=Tt;const{Axios:qbe,AxiosError:Mbe,CanceledError:Abe,isCancel:Fbe,CancelToken:Lbe,VERSION:Bbe,all:zbe,Cancel:Ube,isAxiosError:Wbe,spread:Hbe,toFormData:Vbe,AxiosHeaders:Kbe,HttpStatusCode:Gbe,formToJSON:Ybe,getAdapter:Qbe,mergeConfig:Xbe}=Tt,AP=window.prmConfig||{},we=Tt.create({baseURL:AP.apiUrl||"/wp-json",headers:{"Content-Type":"application/json","X-WP-Nonce":AP.nonce||""}});we.interceptors.request.use(t=>{var e;return(e=window.prmConfig)!=null&&e.nonce&&(t.headers["X-WP-Nonce"]=window.prmConfig.nonce),t});we.interceptors.response.use(t=>t,t=>{var e,r;return((e=t.response)==null?void 0:e.status)===401&&(window.location.href=AP.loginUrl||"/wp-login.php"),((r=t.response)==null?void 0:r.status)===403&&console.error("Access denied:",t.response.data),Promise.reject(t)});const Le={getPeople:t=>we.get("/wp/v2/people",{params:t}),getPerson:(t,e={})=>we.get(`/wp/v2/people/${t}`,{params:e}),createPerson:t=>we.post("/wp/v2/people",t),updatePerson:(t,e)=>we.put(`/wp/v2/people/${t}`,e),deletePerson:t=>we.delete(`/wp/v2/people/${t}`),getCompanies:t=>we.get("/wp/v2/companies",{params:t}),getCompany:(t,e={})=>we.get(`/wp/v2/companies/${t}`,{params:e}),createCompany:t=>we.post("/wp/v2/companies",t),updateCompany:(t,e)=>we.put(`/wp/v2/companies/${t}`,e),deleteCompany:t=>we.delete(`/wp/v2/companies/${t}`),getDates:t=>we.get("/wp/v2/important-dates",{params:t}),getDate:t=>we.get(`/wp/v2/important-dates/${t}`),createDate:t=>we.post("/wp/v2/important-dates",t),updateDate:(t,e)=>we.put(`/wp/v2/important-dates/${t}`,e),deleteDate:t=>we.delete(`/wp/v2/important-dates/${t}`),getPersonLabels:()=>we.get("/wp/v2/person_label"),getCompanyLabels:()=>we.get("/wp/v2/company_label"),getRelationshipTypes:()=>we.get("/wp/v2/relationship_type",{params:{per_page:100,_fields:"id,name,slug,acf"}}),createRelationshipType:t=>we.post("/wp/v2/relationship_type",t),updateRelationshipType:(t,e)=>we.post(`/wp/v2/relationship_type/${t}`,e),deleteRelationshipType:t=>we.delete(`/wp/v2/relationship_type/${t}?force=true`),restoreRelationshipTypeDefaults:()=>we.post("/prm/v1/relationship-types/restore-defaults"),getDateTypes:()=>we.get("/wp/v2/date_type",{params:{per_page:100}}),uploadMedia:t=>{const e=new FormData;return e.append("file",t),we.post("/wp/v2/media",e,{headers:{"Content-Type":"multipart/form-data"}})}},Qr={getDashboard:()=>we.get("/prm/v1/dashboard"),sideloadGravatar:(t,e)=>we.post(`/prm/v1/people/${t}/gravatar`,{email:e}),getCurrentUser:()=>we.get("/prm/v1/user/me"),search:t=>we.get("/prm/v1/search",{params:{q:t}}),getReminders:(t=30)=>we.get("/prm/v1/reminders",{params:{days_ahead:t}}),getPersonDates:t=>we.get(`/prm/v1/people/${t}/dates`),getPersonTimeline:t=>we.get(`/prm/v1/people/${t}/timeline`),getPersonNotes:t=>we.get(`/prm/v1/people/${t}/notes`),createNote:(t,e)=>we.post(`/prm/v1/people/${t}/notes`,{content:e}),updateNote:(t,e)=>we.put(`/prm/v1/notes/${t}`,{content:e}),deleteNote:t=>we.delete(`/prm/v1/notes/${t}`),getPersonActivities:t=>we.get(`/prm/v1/people/${t}/activities`),createActivity:(t,e)=>we.post(`/prm/v1/people/${t}/activities`,e),updateActivity:(t,e)=>we.put(`/prm/v1/activities/${t}`,e),deleteActivity:t=>we.delete(`/prm/v1/activities/${t}`),getCompanyPeople:t=>we.get(`/prm/v1/companies/${t}/people`),setCompanyLogo:(t,e)=>we.post(`/prm/v1/companies/${t}/logo`,{media_id:e}),uploadPersonPhoto:(t,e)=>{const r=new FormData;return r.append("file",e),we.post(`/prm/v1/people/${t}/photo`,r,{headers:{"Content-Type":"multipart/form-data"}})},uploadCompanyLogo:(t,e)=>{const r=new FormData;return r.append("file",e),we.post(`/prm/v1/companies/${t}/logo/upload`,r,{headers:{"Content-Type":"multipart/form-data"}})}};function wte(){return ft({queryKey:["dashboard"],queryFn:async()=>(await Qr.getDashboard()).data})}function xte(t=30){return ft({queryKey:["reminders",t],queryFn:async()=>(await Qr.getReminders(t)).data})}function _te(t){const e=typeof t=="string"?t:"",r=e.length>=2;return ft({queryKey:["search",e],queryFn:async()=>r?(await Qr.search(e)).data:{people:[],companies:[],dates:[]},enabled:r})}const Ste=[{name:"Dashboard",href:"/",icon:RZ},{name:"People",href:"/people",icon:io},{name:"Companies",href:"/companies",icon:Ji},{name:"Dates",href:"/dates",icon:no},{name:"Settings",href:"/settings",icon:S7}];function OR({mobile:t=!1,onClose:e}){const{logoutUrl:r}=cT();return d.jsxs("div",{className:"flex flex-col h-full bg-white border-r border-gray-200",children:[d.jsxs("div",{className:"flex items-center justify-between h-16 px-4 border-b border-gray-200",children:[d.jsxs(ve,{to:"/",className:"flex items-center gap-2 text-xl font-bold text-primary-600",children:[d.jsx(E7,{className:"w-5 h-5"}),Kl]}),t&&d.jsx("button",{onClick:e,className:"p-2 -mr-2",children:d.jsx(ta,{className:"w-5 h-5"})})]}),d.jsx("nav",{className:"flex-1 px-2 py-4 space-y-1 overflow-y-auto",children:Ste.map(n=>d.jsxs(zJ,{to:n.href,onClick:t?e:void 0,className:({isActive:i})=>`flex items-center px-3 py-2 text-sm font-medium rounded-lg transition-colors ${i?"bg-primary-50 text-primary-700":"text-gray-700 hover:bg-gray-50"}`,children:[d.jsx(n.icon,{className:"w-5 h-5 mr-3"}),n.name]},n.name))}),d.jsx("div",{className:"p-4 border-t border-gray-200",children:d.jsxs("a",{href:r,className:"flex items-center px-3 py-2 text-sm font-medium text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:[d.jsx(kZ,{className:"w-5 h-5 mr-3"}),"Log Out"]})})]})}function Ete(){var a;const[t,e]=j.useState(!1),r=j.useRef(null),{data:n,isLoading:i}=ft({queryKey:["current-user"],queryFn:async()=>(await Qr.getCurrentUser()).data});if(j.useEffect(()=>{const o=l=>{r.current&&!r.current.contains(l.target)&&e(!1)};if(t)return document.addEventListener("mousedown",o),()=>{document.removeEventListener("mousedown",o)}},[t]),i||!n)return d.jsx("div",{className:"flex items-center ml-auto",children:d.jsx("div",{className:"w-8 h-8 bg-gray-200 rounded-full animate-pulse"})});const s=((a=n.name)==null?void 0:a.split(" ").map(o=>o[0]).join("").toUpperCase().slice(0,2))||"?";return d.jsxs("div",{className:"relative ml-auto",ref:r,children:[d.jsxs("button",{onClick:()=>e(!t),className:"flex items-center gap-2 p-1 rounded-full hover:bg-gray-100 transition-colors","aria-label":"User menu",children:[n.avatar_url?d.jsx("img",{src:n.avatar_url,alt:n.name,className:"w-8 h-8 rounded-full object-cover"}):d.jsx("div",{className:"w-8 h-8 bg-primary-100 rounded-full flex items-center justify-center",children:d.jsx("span",{className:"text-sm font-medium text-primary-700",children:s})}),d.jsx(CZ,{className:`w-4 h-4 text-gray-500 transition-transform ${t?"rotate-180":""}`})]}),t&&d.jsx("div",{className:"absolute right-0 mt-2 w-48 bg-white border border-gray-200 rounded-lg shadow-lg z-50",children:d.jsxs("div",{className:"py-1",children:[d.jsxs("a",{href:n.profile_url,target:"_blank",rel:"noopener noreferrer",className:"flex items-center px-4 py-2 text-sm text-gray-700 hover:bg-gray-50 transition-colors",onClick:()=>e(!1),children:[d.jsx(C7,{className:"w-4 h-4 mr-2"}),"Edit profile"]}),n.is_admin&&d.jsxs("a",{href:n.admin_url,target:"_blank",rel:"noopener noreferrer",className:"flex items-center px-4 py-2 text-sm text-gray-700 hover:bg-gray-50 transition-colors",onClick:()=>e(!1),children:[d.jsx(S7,{className:"w-4 h-4 mr-2"}),"WordPress admin"]})]})})]})}function Ote({onMenuClick:t}){const[e,r]=j.useState(""),[n,i]=j.useState(!1),s=rs(),a=Zr(),o=j.useRef(null),l=j.useRef(null),u=e.trim(),{data:c,isLoading:h}=_te(u),f=()=>{const g=s.pathname;return g==="/"?"Dashboard":g.startsWith("/people")?"People":g.startsWith("/companies")?"Companies":g.startsWith("/dates")?"Important Dates":g.startsWith("/settings")?"Settings":""};j.useEffect(()=>{const g=v=>{l.current&&!l.current.contains(v.target)&&o.current&&!o.current.contains(v.target)&&i(!1)};return document.addEventListener("mousedown",g),()=>{document.removeEventListener("mousedown",g)}},[]);const p=(g,v)=>{i(!1),r(""),g==="person"?a(`/people/${v}`):g==="company"?a(`/companies/${v}`):g==="date"&&a(`/dates/${v}/edit`)},m=c||{people:[],companies:[],dates:[]},y=m.people&&m.people.length>0||m.companies&&m.companies.length>0||m.dates&&m.dates.length>0,b=n&&e.trim().length>=2;return d.jsxs("header",{className:"sticky top-0 z-10 flex items-center h-16 px-4 bg-white border-b border-gray-200 lg:px-6",children:[d.jsx("button",{onClick:t,className:"p-2 -ml-2 lg:hidden",children:d.jsx(MZ,{className:"w-5 h-5"})}),d.jsx("h1",{className:"ml-2 text-lg font-semibold lg:ml-0",children:f()}),d.jsx("div",{className:"flex-1 flex justify-center max-w-2xl mx-4 lg:mx-8",children:d.jsxs("div",{className:"relative w-full",ref:o,children:[d.jsx(_7,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}),d.jsx("input",{type:"search",placeholder:"Search people, companies, dates...",value:e,onChange:g=>r(g.target.value),onFocus:()=>i(!0),className:"input pl-9 w-full"}),b&&d.jsx("div",{ref:l,className:"absolute top-full left-0 right-0 mt-2 bg-white border border-gray-200 rounded-lg shadow-lg max-h-96 overflow-y-auto z-50",children:h?d.jsxs("div",{className:"p-4 text-center text-gray-500",children:[d.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-primary-600 mx-auto"}),d.jsx("p",{className:"mt-2 text-sm",children:"Searching..."})]}):y?d.jsxs("div",{className:"py-2",children:[m.people&&m.people.length>0&&d.jsxs("div",{className:"px-3 py-2",children:[d.jsx("div",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wide mb-2 px-2",children:"People"}),m.people.map(g=>d.jsxs("button",{onClick:()=>p("person",g.id),className:"w-full flex items-center gap-3 px-2 py-2 rounded-lg hover:bg-gray-50 transition-colors text-left",children:[d.jsx(C7,{className:"w-4 h-4 text-gray-400 flex-shrink-0"}),d.jsx("span",{className:"text-sm font-medium text-gray-900 flex-1 truncate",children:g.name})]},g.id))]}),m.companies&&m.companies.length>0&&d.jsxs("div",{className:"px-3 py-2 border-t border-gray-100",children:[d.jsx("div",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wide mb-2 px-2",children:"Companies"}),m.companies.map(g=>d.jsxs("button",{onClick:()=>p("company",g.id),className:"w-full flex items-center gap-3 px-2 py-2 rounded-lg hover:bg-gray-50 transition-colors text-left",children:[d.jsx(PZ,{className:"w-4 h-4 text-gray-400 flex-shrink-0"}),d.jsx("span",{className:"text-sm font-medium text-gray-900 flex-1 truncate",children:g.name})]},g.id))]}),m.dates&&m.dates.length>0&&d.jsxs("div",{className:"px-3 py-2 border-t border-gray-100",children:[d.jsx("div",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wide mb-2 px-2",children:"Dates"}),m.dates.map(g=>d.jsxs("button",{onClick:()=>p("date",g.id),className:"w-full flex items-center gap-3 px-2 py-2 rounded-lg hover:bg-gray-50 transition-colors text-left",children:[d.jsx(no,{className:"w-4 h-4 text-gray-400 flex-shrink-0"}),d.jsx("span",{className:"text-sm font-medium text-gray-900 flex-1 truncate",children:g.title})]},g.id))]})]}):d.jsx("div",{className:"p-4 text-center text-gray-500",children:d.jsx("p",{className:"text-sm",children:"No results found"})})})]})}),d.jsx(Ete,{})]})}function Pte({children:t}){const[e,r]=j.useState(!1);return T7(),d.jsxs("div",{className:"flex h-screen bg-gray-50",children:[d.jsx("div",{className:"hidden lg:flex lg:w-64 lg:flex-col",children:d.jsx(OR,{})}),e&&d.jsxs("div",{className:"fixed inset-0 z-40 lg:hidden",children:[d.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-75",onClick:()=>r(!1)}),d.jsx("div",{className:"fixed inset-y-0 left-0 flex flex-col w-64 bg-white",children:d.jsx(OR,{mobile:!0,onClose:()=>r(!1)})})]}),d.jsxs("div",{className:"flex flex-col flex-1 min-w-0",children:[d.jsx(Ote,{onMenuClick:()=>r(!0)}),d.jsx("main",{className:"flex-1 overflow-y-auto p-4 lg:p-6",children:t})]})]})}function ur(t){const e=Object.prototype.toString.call(t);return t instanceof Date||typeof t=="object"&&e==="[object Date]"?new t.constructor(+t):typeof t=="number"||e==="[object Number]"||typeof t=="string"||e==="[object String]"?new Date(t):new Date(NaN)}function ao(t,e){return t instanceof Date?new t.constructor(e):new Date(e)}const Z7=6048e5,Cte=864e5;let Tte={};function Op(){return Tte}function Yc(t,e){var o,l,u,c;const r=Op(),n=(e==null?void 0:e.weekStartsOn)??((l=(o=e==null?void 0:e.locale)==null?void 0:o.options)==null?void 0:l.weekStartsOn)??r.weekStartsOn??((c=(u=r.locale)==null?void 0:u.options)==null?void 0:c.weekStartsOn)??0,i=ur(t),s=i.getDay(),a=(s<n?7:0)+s-n;return i.setDate(i.getDate()-a),i.setHours(0,0,0,0),i}function Mf(t){return Yc(t,{weekStartsOn:1})}function eK(t){const e=ur(t),r=e.getFullYear(),n=ao(t,0);n.setFullYear(r+1,0,4),n.setHours(0,0,0,0);const i=Mf(n),s=ao(t,0);s.setFullYear(r,0,4),s.setHours(0,0,0,0);const a=Mf(s);return e.getTime()>=i.getTime()?r+1:e.getTime()>=a.getTime()?r:r-1}function PR(t){const e=ur(t);return e.setHours(0,0,0,0),e}function CR(t){const e=ur(t),r=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return r.setUTCFullYear(e.getFullYear()),+t-+r}function Ite(t,e){const r=PR(t),n=PR(e),i=+r-CR(r),s=+n-CR(n);return Math.round((i-s)/Cte)}function Nte(t){const e=eK(t),r=ao(t,0);return r.setFullYear(e,0,4),r.setHours(0,0,0,0),Mf(r)}function TR(t,e){const r=ur(t),n=ur(e),i=r.getTime()-n.getTime();return i<0?-1:i>0?1:i}function Rte(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function $te(t){if(!Rte(t)&&typeof t!="number")return!1;const e=ur(t);return!isNaN(Number(e))}function jte(t,e){const r=ur(t),n=ur(e);return r.getFullYear()-n.getFullYear()}function Lm(t,e){const r=ur(t),n=ur(e),i=TR(r,n),s=Math.abs(jte(r,n));r.setFullYear(1584),n.setFullYear(1584);const a=TR(r,n)===-i,o=i*(s-+a);return o===0?0:o}function kte(t){const e=ur(t),r=ao(t,0);return r.setFullYear(e.getFullYear(),0,1),r.setHours(0,0,0,0),r}const Dte={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},qte=(t,e,r)=>{let n;const i=Dte[t];return typeof i=="string"?n=i:e===1?n=i.one:n=i.other.replace("{{count}}",e.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+n:n+" ago":n};function Bm(t){return(e={})=>{const r=e.width?String(e.width):t.defaultWidth;return t.formats[r]||t.formats[t.defaultWidth]}}const Mte={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},Ate={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},Fte={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},Lte={date:Bm({formats:Mte,defaultWidth:"full"}),time:Bm({formats:Ate,defaultWidth:"full"}),dateTime:Bm({formats:Fte,defaultWidth:"full"})},Bte={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},zte=(t,e,r,n)=>Bte[t];function Yu(t){return(e,r)=>{const n=r!=null&&r.context?String(r.context):"standalone";let i;if(n==="formatting"&&t.formattingValues){const a=t.defaultFormattingWidth||t.defaultWidth,o=r!=null&&r.width?String(r.width):a;i=t.formattingValues[o]||t.formattingValues[a]}else{const a=t.defaultWidth,o=r!=null&&r.width?String(r.width):t.defaultWidth;i=t.values[o]||t.values[a]}const s=t.argumentCallback?t.argumentCallback(e):e;return i[s]}}const Ute={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},Wte={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},Hte={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},Vte={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},Kte={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},Gte={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},Yte=(t,e)=>{const r=Number(t),n=r%100;if(n>20||n<10)switch(n%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},Qte={ordinalNumber:Yte,era:Yu({values:Ute,defaultWidth:"wide"}),quarter:Yu({values:Wte,defaultWidth:"wide",argumentCallback:t=>t-1}),month:Yu({values:Hte,defaultWidth:"wide"}),day:Yu({values:Vte,defaultWidth:"wide"}),dayPeriod:Yu({values:Kte,defaultWidth:"wide",formattingValues:Gte,defaultFormattingWidth:"wide"})};function Qu(t){return(e,r={})=>{const n=r.width,i=n&&t.matchPatterns[n]||t.matchPatterns[t.defaultMatchWidth],s=e.match(i);if(!s)return null;const a=s[0],o=n&&t.parsePatterns[n]||t.parsePatterns[t.defaultParseWidth],l=Array.isArray(o)?Jte(o,h=>h.test(a)):Xte(o,h=>h.test(a));let u;u=t.valueCallback?t.valueCallback(l):l,u=r.valueCallback?r.valueCallback(u):u;const c=e.slice(a.length);return{value:u,rest:c}}}function Xte(t,e){for(const r in t)if(Object.prototype.hasOwnProperty.call(t,r)&&e(t[r]))return r}function Jte(t,e){for(let r=0;r<t.length;r++)if(e(t[r]))return r}function Zte(t){return(e,r={})=>{const n=e.match(t.matchPattern);if(!n)return null;const i=n[0],s=e.match(t.parsePattern);if(!s)return null;let a=t.valueCallback?t.valueCallback(s[0]):s[0];a=r.valueCallback?r.valueCallback(a):a;const o=e.slice(i.length);return{value:a,rest:o}}}const ere=/^(\d+)(th|st|nd|rd)?/i,tre=/\d+/i,rre={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},nre={any:[/^b/i,/^(a|c)/i]},ire={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},sre={any:[/1/i,/2/i,/3/i,/4/i]},are={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},ore={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},lre={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},ure={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},cre={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},dre={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},hre={ordinalNumber:Zte({matchPattern:ere,parsePattern:tre,valueCallback:t=>parseInt(t,10)}),era:Qu({matchPatterns:rre,defaultMatchWidth:"wide",parsePatterns:nre,defaultParseWidth:"any"}),quarter:Qu({matchPatterns:ire,defaultMatchWidth:"wide",parsePatterns:sre,defaultParseWidth:"any",valueCallback:t=>t+1}),month:Qu({matchPatterns:are,defaultMatchWidth:"wide",parsePatterns:ore,defaultParseWidth:"any"}),day:Qu({matchPatterns:lre,defaultMatchWidth:"wide",parsePatterns:ure,defaultParseWidth:"any"}),dayPeriod:Qu({matchPatterns:cre,defaultMatchWidth:"any",parsePatterns:dre,defaultParseWidth:"any"})},fre={code:"en-US",formatDistance:qte,formatLong:Lte,formatRelative:zte,localize:Qte,match:hre,options:{weekStartsOn:0,firstWeekContainsDate:1}};function pre(t){const e=ur(t);return Ite(e,kte(e))+1}function mre(t){const e=ur(t),r=+Mf(e)-+Nte(e);return Math.round(r/Z7)+1}function tK(t,e){var c,h,f,p;const r=ur(t),n=r.getFullYear(),i=Op(),s=(e==null?void 0:e.firstWeekContainsDate)??((h=(c=e==null?void 0:e.locale)==null?void 0:c.options)==null?void 0:h.firstWeekContainsDate)??i.firstWeekContainsDate??((p=(f=i.locale)==null?void 0:f.options)==null?void 0:p.firstWeekContainsDate)??1,a=ao(t,0);a.setFullYear(n+1,0,s),a.setHours(0,0,0,0);const o=Yc(a,e),l=ao(t,0);l.setFullYear(n,0,s),l.setHours(0,0,0,0);const u=Yc(l,e);return r.getTime()>=o.getTime()?n+1:r.getTime()>=u.getTime()?n:n-1}function vre(t,e){var o,l,u,c;const r=Op(),n=(e==null?void 0:e.firstWeekContainsDate)??((l=(o=e==null?void 0:e.locale)==null?void 0:o.options)==null?void 0:l.firstWeekContainsDate)??r.firstWeekContainsDate??((c=(u=r.locale)==null?void 0:u.options)==null?void 0:c.firstWeekContainsDate)??1,i=tK(t,e),s=ao(t,0);return s.setFullYear(i,0,n),s.setHours(0,0,0,0),Yc(s,e)}function gre(t,e){const r=ur(t),n=+Yc(r,e)-+vre(r,e);return Math.round(n/Z7)+1}function ze(t,e){const r=t<0?"-":"",n=Math.abs(t).toString().padStart(e,"0");return r+n}const hs={y(t,e){const r=t.getFullYear(),n=r>0?r:1-r;return ze(e==="yy"?n%100:n,e.length)},M(t,e){const r=t.getMonth();return e==="M"?String(r+1):ze(r+1,2)},d(t,e){return ze(t.getDate(),e.length)},a(t,e){const r=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h(t,e){return ze(t.getHours()%12||12,e.length)},H(t,e){return ze(t.getHours(),e.length)},m(t,e){return ze(t.getMinutes(),e.length)},s(t,e){return ze(t.getSeconds(),e.length)},S(t,e){const r=e.length,n=t.getMilliseconds(),i=Math.trunc(n*Math.pow(10,r-3));return ze(i,e.length)}},Fo={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},IR={G:function(t,e,r){const n=t.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return r.era(n,{width:"abbreviated"});case"GGGGG":return r.era(n,{width:"narrow"});case"GGGG":default:return r.era(n,{width:"wide"})}},y:function(t,e,r){if(e==="yo"){const n=t.getFullYear(),i=n>0?n:1-n;return r.ordinalNumber(i,{unit:"year"})}return hs.y(t,e)},Y:function(t,e,r,n){const i=tK(t,n),s=i>0?i:1-i;if(e==="YY"){const a=s%100;return ze(a,2)}return e==="Yo"?r.ordinalNumber(s,{unit:"year"}):ze(s,e.length)},R:function(t,e){const r=eK(t);return ze(r,e.length)},u:function(t,e){const r=t.getFullYear();return ze(r,e.length)},Q:function(t,e,r){const n=Math.ceil((t.getMonth()+1)/3);switch(e){case"Q":return String(n);case"QQ":return ze(n,2);case"Qo":return r.ordinalNumber(n,{unit:"quarter"});case"QQQ":return r.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(n,{width:"wide",context:"formatting"})}},q:function(t,e,r){const n=Math.ceil((t.getMonth()+1)/3);switch(e){case"q":return String(n);case"qq":return ze(n,2);case"qo":return r.ordinalNumber(n,{unit:"quarter"});case"qqq":return r.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(n,{width:"wide",context:"standalone"})}},M:function(t,e,r){const n=t.getMonth();switch(e){case"M":case"MM":return hs.M(t,e);case"Mo":return r.ordinalNumber(n+1,{unit:"month"});case"MMM":return r.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(n,{width:"wide",context:"formatting"})}},L:function(t,e,r){const n=t.getMonth();switch(e){case"L":return String(n+1);case"LL":return ze(n+1,2);case"Lo":return r.ordinalNumber(n+1,{unit:"month"});case"LLL":return r.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(n,{width:"wide",context:"standalone"})}},w:function(t,e,r,n){const i=gre(t,n);return e==="wo"?r.ordinalNumber(i,{unit:"week"}):ze(i,e.length)},I:function(t,e,r){const n=mre(t);return e==="Io"?r.ordinalNumber(n,{unit:"week"}):ze(n,e.length)},d:function(t,e,r){return e==="do"?r.ordinalNumber(t.getDate(),{unit:"date"}):hs.d(t,e)},D:function(t,e,r){const n=pre(t);return e==="Do"?r.ordinalNumber(n,{unit:"dayOfYear"}):ze(n,e.length)},E:function(t,e,r){const n=t.getDay();switch(e){case"E":case"EE":case"EEE":return r.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(n,{width:"short",context:"formatting"});case"EEEE":default:return r.day(n,{width:"wide",context:"formatting"})}},e:function(t,e,r,n){const i=t.getDay(),s=(i-n.weekStartsOn+8)%7||7;switch(e){case"e":return String(s);case"ee":return ze(s,2);case"eo":return r.ordinalNumber(s,{unit:"day"});case"eee":return r.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(i,{width:"short",context:"formatting"});case"eeee":default:return r.day(i,{width:"wide",context:"formatting"})}},c:function(t,e,r,n){const i=t.getDay(),s=(i-n.weekStartsOn+8)%7||7;switch(e){case"c":return String(s);case"cc":return ze(s,e.length);case"co":return r.ordinalNumber(s,{unit:"day"});case"ccc":return r.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(i,{width:"narrow",context:"standalone"});case"cccccc":return r.day(i,{width:"short",context:"standalone"});case"cccc":default:return r.day(i,{width:"wide",context:"standalone"})}},i:function(t,e,r){const n=t.getDay(),i=n===0?7:n;switch(e){case"i":return String(i);case"ii":return ze(i,e.length);case"io":return r.ordinalNumber(i,{unit:"day"});case"iii":return r.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(n,{width:"short",context:"formatting"});case"iiii":default:return r.day(n,{width:"wide",context:"formatting"})}},a:function(t,e,r){const i=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(t,e,r){const n=t.getHours();let i;switch(n===12?i=Fo.noon:n===0?i=Fo.midnight:i=n/12>=1?"pm":"am",e){case"b":case"bb":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(t,e,r){const n=t.getHours();let i;switch(n>=17?i=Fo.evening:n>=12?i=Fo.afternoon:n>=4?i=Fo.morning:i=Fo.night,e){case"B":case"BB":case"BBB":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(t,e,r){if(e==="ho"){let n=t.getHours()%12;return n===0&&(n=12),r.ordinalNumber(n,{unit:"hour"})}return hs.h(t,e)},H:function(t,e,r){return e==="Ho"?r.ordinalNumber(t.getHours(),{unit:"hour"}):hs.H(t,e)},K:function(t,e,r){const n=t.getHours()%12;return e==="Ko"?r.ordinalNumber(n,{unit:"hour"}):ze(n,e.length)},k:function(t,e,r){let n=t.getHours();return n===0&&(n=24),e==="ko"?r.ordinalNumber(n,{unit:"hour"}):ze(n,e.length)},m:function(t,e,r){return e==="mo"?r.ordinalNumber(t.getMinutes(),{unit:"minute"}):hs.m(t,e)},s:function(t,e,r){return e==="so"?r.ordinalNumber(t.getSeconds(),{unit:"second"}):hs.s(t,e)},S:function(t,e){return hs.S(t,e)},X:function(t,e,r){const n=t.getTimezoneOffset();if(n===0)return"Z";switch(e){case"X":return RR(n);case"XXXX":case"XX":return wa(n);case"XXXXX":case"XXX":default:return wa(n,":")}},x:function(t,e,r){const n=t.getTimezoneOffset();switch(e){case"x":return RR(n);case"xxxx":case"xx":return wa(n);case"xxxxx":case"xxx":default:return wa(n,":")}},O:function(t,e,r){const n=t.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+NR(n,":");case"OOOO":default:return"GMT"+wa(n,":")}},z:function(t,e,r){const n=t.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+NR(n,":");case"zzzz":default:return"GMT"+wa(n,":")}},t:function(t,e,r){const n=Math.trunc(t.getTime()/1e3);return ze(n,e.length)},T:function(t,e,r){const n=t.getTime();return ze(n,e.length)}};function NR(t,e=""){const r=t>0?"-":"+",n=Math.abs(t),i=Math.trunc(n/60),s=n%60;return s===0?r+String(i):r+String(i)+e+ze(s,2)}function RR(t,e){return t%60===0?(t>0?"-":"+")+ze(Math.abs(t)/60,2):wa(t,e)}function wa(t,e=""){const r=t>0?"-":"+",n=Math.abs(t),i=ze(Math.trunc(n/60),2),s=ze(n%60,2);return r+i+e+s}const $R=(t,e)=>{switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},rK=(t,e)=>{switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},yre=(t,e)=>{const r=t.match(/(P+)(p+)?/)||[],n=r[1],i=r[2];if(!i)return $R(t,e);let s;switch(n){case"P":s=e.dateTime({width:"short"});break;case"PP":s=e.dateTime({width:"medium"});break;case"PPP":s=e.dateTime({width:"long"});break;case"PPPP":default:s=e.dateTime({width:"full"});break}return s.replace("{{date}}",$R(n,e)).replace("{{time}}",rK(i,e))},bre={p:rK,P:yre},wre=/^D+$/,xre=/^Y+$/,_re=["D","DD","YY","YYYY"];function Sre(t){return wre.test(t)}function Ere(t){return xre.test(t)}function Ore(t,e,r){const n=Pre(t,e,r);if(console.warn(n),_re.includes(t))throw new RangeError(n)}function Pre(t,e,r){const n=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${e}\`) for formatting ${n} to the input \`${r}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const Cre=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Tre=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Ire=/^'([^]*?)'?$/,Nre=/''/g,Rre=/[a-zA-Z]/;function hi(t,e,r){var c,h,f,p;const n=Op(),i=n.locale??fre,s=n.firstWeekContainsDate??((h=(c=n.locale)==null?void 0:c.options)==null?void 0:h.firstWeekContainsDate)??1,a=n.weekStartsOn??((p=(f=n.locale)==null?void 0:f.options)==null?void 0:p.weekStartsOn)??0,o=ur(t);if(!$te(o))throw new RangeError("Invalid time value");let l=e.match(Tre).map(m=>{const y=m[0];if(y==="p"||y==="P"){const b=bre[y];return b(m,i.formatLong)}return m}).join("").match(Cre).map(m=>{if(m==="''")return{isToken:!1,value:"'"};const y=m[0];if(y==="'")return{isToken:!1,value:$re(m)};if(IR[y])return{isToken:!0,value:m};if(y.match(Rre))throw new RangeError("Format string contains an unescaped latin alphabet character `"+y+"`");return{isToken:!1,value:m}});i.localize.preprocessor&&(l=i.localize.preprocessor(o,l));const u={firstWeekContainsDate:s,weekStartsOn:a,locale:i};return l.map(m=>{if(!m.isToken)return m.value;const y=m.value;(Ere(y)||Sre(y))&&Ore(y,e,String(t));const b=IR[y[0]];return b(o,y,i.localize,u)}).join("")}function $re(t){const e=t.match(Ire);return e?e[1].replace(Nre,"'"):t}function Lo({title:t,value:e,icon:r,href:n}){return d.jsx(ve,{to:n,className:"card p-6 hover:shadow-md transition-shadow",children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{children:[d.jsx("p",{className:"text-sm font-medium text-gray-500",children:t}),d.jsx("p",{className:"mt-1 text-3xl font-semibold",children:e})]}),d.jsx("div",{className:"p-3 bg-primary-50 rounded-lg",children:d.jsx(r,{className:"w-6 h-6 text-primary-600"})})]})})}function jR({person:t}){var e,r;return d.jsxs(ve,{to:`/people/${t.id}`,className:"flex items-center p-3 rounded-lg hover:bg-gray-50 transition-colors",children:[t.thumbnail?d.jsx("img",{src:t.thumbnail,alt:t.name,loading:"lazy",className:"w-10 h-10 rounded-full object-cover"}):d.jsx("div",{className:"w-10 h-10 bg-gray-200 rounded-full flex items-center justify-center",children:d.jsx("span",{className:"text-sm font-medium text-gray-500",children:((e=t.first_name)==null?void 0:e[0])||"?"})}),d.jsxs("div",{className:"ml-3 flex-1 min-w-0",children:[d.jsx("p",{className:"text-sm font-medium text-gray-900 truncate",children:t.name}),((r=t.labels)==null?void 0:r.length)>0&&d.jsx("p",{className:"text-xs text-gray-500 truncate",children:t.labels.join(", ")})]}),t.is_favorite&&d.jsx(Gc,{className:"w-4 h-4 text-yellow-400 fill-current"})]})}function jre({reminder:t}){var o,l,u,c,h;const e=t.days_until;let r="bg-gray-100 text-gray-700";e===0?r="bg-green-100 text-green-700":e<=3?r="bg-orange-100 text-orange-700":e<=7&&(r="bg-yellow-100 text-yellow-700");const n=((l=(o=t.related_people)==null?void 0:o[0])==null?void 0:l.name)||t.title,i=(c=(u=t.related_people)==null?void 0:u[0])==null?void 0:c.id,s=((h=t.related_people)==null?void 0:h.length)>0,a=d.jsxs(d.Fragment,{children:[d.jsx("div",{className:`px-2 py-1 rounded text-xs font-medium ${r}`,children:e===0?"Today":`${e}d`}),d.jsxs("div",{className:"ml-3 flex-1 min-w-0",children:[d.jsx("p",{className:"text-sm font-medium text-gray-900",children:n}),d.jsx("p",{className:"text-xs text-gray-500",children:hi(new Date(t.next_occurrence),"MMMM d, yyyy")}),s&&d.jsx("div",{className:"flex -space-x-2 mt-1",children:t.related_people.slice(0,3).map(f=>{var p;return f.thumbnail?d.jsx("img",{src:f.thumbnail,alt:f.name,loading:"lazy",className:"w-10 h-10 rounded-full border-2 border-white object-cover"},f.id):d.jsx("div",{className:"w-10 h-10 bg-gray-300 rounded-full border-2 border-white flex items-center justify-center",children:d.jsx("span",{className:"text-sm",children:(p=f.name)==null?void 0:p[0]})},f.id)})})]})]});return s&&i?d.jsx(ve,{to:`/people/${i}`,className:"flex items-start p-3 rounded-lg hover:bg-gray-50 transition-colors",children:a}):d.jsx("div",{className:"flex items-start p-3 rounded-lg hover:bg-gray-50 transition-colors",children:a})}function kre(){return d.jsxs("div",{className:"card p-12 text-center",children:[d.jsx("div",{className:"flex justify-center mb-4",children:d.jsx("div",{className:"p-4 bg-primary-50 rounded-full",children:d.jsx(E7,{className:"w-12 h-12 text-primary-600"})})}),d.jsxs("h2",{className:"text-2xl font-semibold text-gray-900 mb-2",children:["Welcome to ",Kl,"!"]}),d.jsx("p",{className:"text-gray-600 mb-8 max-w-md mx-auto",children:"Get started by adding your first contact, company, or important date. Your dashboard will populate as you add more information."}),d.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[d.jsxs(ve,{to:"/people/new",className:"inline-flex items-center px-6 py-3 bg-primary-600 text-white rounded-lg hover:bg-primary-700 transition-colors",children:[d.jsx(yr,{className:"w-5 h-5 mr-2"}),"Add Your First Person"]}),d.jsxs(ve,{to:"/companies/new",className:"inline-flex items-center px-6 py-3 bg-white text-gray-700 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",children:[d.jsx(yr,{className:"w-5 h-5 mr-2"}),"Add Your First Company"]})]})]})}function Dre(){var u,c,h;const{data:t,isLoading:e,error:r}=wte();if(e)return d.jsx("div",{className:"flex items-center justify-center h-64",children:d.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"})});if(r){const f=((u=r==null?void 0:r.response)==null?void 0:u.status)>=500||!(r!=null&&r.response);return d.jsx("div",{className:"card p-8 text-center",children:d.jsx("div",{className:"text-red-600 mb-2",children:f?d.jsxs(d.Fragment,{children:[d.jsx("p",{className:"font-medium mb-1",children:"Failed to load dashboard data"}),d.jsx("p",{className:"text-sm text-gray-600",children:"Please check your connection and try refreshing the page."})]}):d.jsxs(d.Fragment,{children:[d.jsx("p",{className:"font-medium mb-1",children:"Unable to load dashboard"}),d.jsx("p",{className:"text-sm text-gray-600",children:((h=(c=r==null?void 0:r.response)==null?void 0:c.data)==null?void 0:h.message)||"An error occurred while loading your data."})]})})})}const{stats:n,recent_people:i,upcoming_reminders:s,favorites:a}=t||{};return((n==null?void 0:n.total_people)||0)+((n==null?void 0:n.total_companies)||0)+((n==null?void 0:n.total_dates)||0)===0?d.jsxs("div",{className:"space-y-6",children:[d.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:[d.jsx(Lo,{title:"Total People",value:0,icon:io,href:"/people"}),d.jsx(Lo,{title:"Companies",value:0,icon:Ji,href:"/companies"}),d.jsx(Lo,{title:"Important Dates",value:0,icon:no,href:"/dates"})]}),d.jsx(kre,{})]}):d.jsxs("div",{className:"space-y-6",children:[d.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:[d.jsx(Lo,{title:"Total People",value:(n==null?void 0:n.total_people)||0,icon:io,href:"/people"}),d.jsx(Lo,{title:"Companies",value:(n==null?void 0:n.total_companies)||0,icon:Ji,href:"/companies"}),d.jsx(Lo,{title:"Important Dates",value:(n==null?void 0:n.total_dates)||0,icon:no,href:"/dates"})]}),d.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[d.jsxs("div",{className:"card",children:[d.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-200",children:[d.jsx("h2",{className:"font-semibold",children:"Upcoming Reminders"}),d.jsxs(ve,{to:"/dates",className:"text-sm text-primary-600 hover:text-primary-700 flex items-center",children:["View all",d.jsx(sR,{className:"w-4 h-4 ml-1"})]})]}),d.jsx("div",{className:"divide-y divide-gray-100",children:(s==null?void 0:s.length)>0?s.map(f=>d.jsx(jre,{reminder:f},f.id)):d.jsx("p",{className:"p-4 text-sm text-gray-500 text-center",children:"No upcoming reminders"})})]}),d.jsxs("div",{className:"card",children:[d.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-200",children:[d.jsx("h2",{className:"font-semibold",children:"Recent People"}),d.jsxs(ve,{to:"/people",className:"text-sm text-primary-600 hover:text-primary-700 flex items-center",children:["View all",d.jsx(sR,{className:"w-4 h-4 ml-1"})]})]}),d.jsx("div",{className:"divide-y divide-gray-100",children:(i==null?void 0:i.length)>0?i.map(f=>d.jsx(jR,{person:f},f.id)):d.jsxs("p",{className:"p-4 text-sm text-gray-500 text-center",children:["No people yet. ",d.jsx(ve,{to:"/people/new",className:"text-primary-600",children:"Add someone"})]})})]})]}),(a==null?void 0:a.length)>0&&d.jsxs("div",{className:"card",children:[d.jsx("div",{className:"flex items-center justify-between p-4 border-b border-gray-200",children:d.jsx("h2",{className:"font-semibold",children:"Favorites"})}),d.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-2 p-2",children:a.map(f=>d.jsx(jR,{person:f},f.id))})]})]})}function Gn(t){if(!t)return"";const e=document.createElement("textarea");return e.innerHTML=t,e.value}function Ai(t){var r;if(!t)return"";const e=((r=t.title)==null?void 0:r.rendered)||t.title||t.name||"";return Gn(e)}function Ua(t){var r,n;if(!t)return"";if(t.name&&typeof t.name=="string"&&!((r=t.title)!=null&&r.rendered))return Gn(t.name);const e=((n=t.title)==null?void 0:n.rendered)||t.title||t.name||"";return Gn(e)}const Qt={all:["people"],lists:()=>[...Qt.all,"list"],list:t=>[...Qt.lists(),t],details:()=>[...Qt.all,"detail"],detail:t=>[...Qt.details(),t],timeline:t=>[...Qt.detail(t),"timeline"],dates:t=>[...Qt.detail(t),"dates"]};function nK(t){var i,s,a,o,l,u,c,h,f,p,m,y,b,g,v,x,w;const e=((a=(s=(i=t._embedded)==null?void 0:i["wp:featuredmedia"])==null?void 0:s[0])==null?void 0:a.source_url)||((f=(h=(c=(u=(l=(o=t._embedded)==null?void 0:o["wp:featuredmedia"])==null?void 0:l[0])==null?void 0:u.media_details)==null?void 0:c.sizes)==null?void 0:h.thumbnail)==null?void 0:f.source_url)||null,r=((b=(y=(m=(p=t._embedded)==null?void 0:p["wp:term"])==null?void 0:m.flat())==null?void 0:y.filter(_=>(_==null?void 0:_.taxonomy)==="person_label"))==null?void 0:b.map(_=>_.name))||[],n=Gn(((g=t.title)==null?void 0:g.rendered)||"");return{...t,id:t.id,name:n,first_name:((v=t.acf)==null?void 0:v.first_name)||"",last_name:((x=t.acf)==null?void 0:x.last_name)||"",is_favorite:((w=t.acf)==null?void 0:w.is_favorite)||!1,thumbnail:e,labels:r}}function Pp(t={}){return ft({queryKey:Qt.list(t),queryFn:async()=>{const e=[];let r=1;const n=100;for(;;){const i=await Le.getPeople({per_page:n,page:r,_embed:!0,...t}),s=i.data.map(nK);if(e.push(...s),s.length<n)break;const a=parseInt(i.headers["x-wp-totalpages"]||i.headers["X-WP-TotalPages"]||"0",10);if(a>0&&r>=a)break;r++}return e}})}function du(t){return ft({queryKey:Qt.detail(t),queryFn:async()=>{const e=await Le.getPerson(t,{_embed:!0});return nK(e.data)},enabled:!!t})}function qre(t){return ft({queryKey:Qt.timeline(t),queryFn:async()=>(await Qr.getPersonTimeline(t)).data,enabled:!!t})}function Mre(t){return ft({queryKey:Qt.dates(t),queryFn:async()=>(await Qr.getPersonDates(t)).data,enabled:!!t})}function Are(){const t=dr();return $t({mutationFn:e=>Le.createPerson(e),onSuccess:()=>{t.invalidateQueries({queryKey:Qt.lists()})}})}function Od(){const t=dr();return $t({mutationFn:({id:e,data:r})=>Le.updatePerson(e,r),onSuccess:(e,{id:r,data:n})=>{var i;t.invalidateQueries({queryKey:Qt.detail(r)}),t.invalidateQueries({queryKey:Qt.lists()}),(i=n==null?void 0:n.acf)!=null&&i.relationships&&(Array.isArray(n.acf.relationships)?n.acf.relationships:[]).forEach(a=>{const o=a.related_person;o&&t.invalidateQueries({queryKey:Qt.detail(o)})})}})}function Fre(){const t=dr();return $t({mutationFn:e=>Le.deletePerson(e),onSuccess:()=>{t.invalidateQueries({queryKey:Qt.lists()})}})}function Lre(){const t=dr();return $t({mutationFn:({noteId:e,personId:r})=>Qr.deleteNote(e),onSuccess:(e,{personId:r})=>{t.invalidateQueries({queryKey:Qt.timeline(r)})}})}function Bre(){const t=dr();return $t({mutationFn:({dateId:e,personId:r})=>Le.deleteDate(e),onSuccess:(e,{personId:r})=>{r&&(t.invalidateQueries({queryKey:Qt.dates(r)}),t.invalidateQueries({queryKey:Qt.detail(r)})),t.invalidateQueries({queryKey:["reminders"]})}})}function kR(t){var i;const e=((i=t.acf)==null?void 0:i.work_history)||[];if(e.length===0)return null;const r=e.find(s=>s.is_current&&s.company);if(r)return r.company;const n=e.filter(s=>s.company).sort((s,a)=>{const o=s.start_date?new Date(s.start_date):new Date(0);return(a.start_date?new Date(a.start_date):new Date(0))-o});return n.length>0?n[0].company:null}function zre({person:t,companyName:e,isDeceased:r}){var n,i;return d.jsx(ve,{to:`/people/${t.id}`,className:"card p-4 hover:shadow-md transition-shadow",children:d.jsxs("div",{className:"flex items-start",children:[t.thumbnail?d.jsx("img",{src:t.thumbnail,alt:t.name,loading:"lazy",className:"w-12 h-12 rounded-full object-cover"}):d.jsx("div",{className:"w-12 h-12 bg-gray-200 rounded-full flex items-center justify-center",children:d.jsx("span",{className:"text-lg font-medium text-gray-500",children:((n=t.first_name)==null?void 0:n[0])||"?"})}),d.jsxs("div",{className:"ml-3 flex-1 min-w-0",children:[d.jsxs("div",{className:"flex items-center",children:[d.jsxs("h3",{className:"text-sm font-medium text-gray-900 truncate",children:[t.name,r&&d.jsx("span",{className:"ml-1 text-gray-500",children:""})]}),t.is_favorite&&d.jsx(Gc,{className:"w-4 h-4 ml-1 text-yellow-400 fill-current flex-shrink-0"})]}),e&&d.jsx("p",{className:"text-xs text-gray-500 mt-0.5 truncate",children:e}),((i=t.labels)==null?void 0:i.length)>0&&d.jsx("div",{className:"flex flex-wrap gap-1 mt-1",children:t.labels.slice(0,3).map(s=>d.jsx("span",{className:"inline-flex px-2 py-0.5 text-xs rounded-full bg-gray-100 text-gray-600",children:s},s))})]})]})})}function Ure(){const[t,e]=j.useState(!1),[r,n]=j.useState(!1),[i,s]=j.useState([]),[a,o]=j.useState("first_name"),[l,u]=j.useState("asc"),c=j.useRef(null),h=j.useRef(null),{data:f,isLoading:p,error:m}=Pp(),{data:y}=ft({queryKey:["person-labels"],queryFn:async()=>(await Le.getPersonLabels()).data}),b=(y==null?void 0:y.map(T=>T.name))||[];j.useEffect(()=>{const T=I=>{h.current&&!h.current.contains(I.target)&&c.current&&!c.current.contains(I.target)&&e(!1)};return document.addEventListener("mousedown",T),()=>{document.removeEventListener("mousedown",T)}},[]);const g=j.useMemo(()=>{if(!f)return[];let T=[...f];return r&&(T=T.filter(I=>I.is_favorite)),i.length>0&&(T=T.filter(I=>{const q=I.labels||[];return i.some(B=>q.includes(B))})),T.sort((I,q)=>{var L,G,z,U,te,fe,ge,ke;let B,re;if(a==="first_name"?(B=(((L=I.acf)==null?void 0:L.first_name)||I.first_name||"").toLowerCase(),re=(((G=q.acf)==null?void 0:G.first_name)||q.first_name||"").toLowerCase()):(B=(((z=I.acf)==null?void 0:z.last_name)||I.last_name||"").toLowerCase(),re=(((U=q.acf)==null?void 0:U.last_name)||q.last_name||"").toLowerCase()),B===re){const be=a==="first_name"?(((te=I.acf)==null?void 0:te.last_name)||I.last_name||"").toLowerCase():(((fe=I.acf)==null?void 0:fe.first_name)||I.first_name||"").toLowerCase(),xe=a==="first_name"?(((ge=q.acf)==null?void 0:ge.last_name)||q.last_name||"").toLowerCase():(((ke=q.acf)==null?void 0:ke.first_name)||q.first_name||"").toLowerCase(),Ie=be.localeCompare(xe);return l==="asc"?Ie:-Ie}const Q=B.localeCompare(re);return l==="asc"?Q:-Q})},[f,r,i,a,l]),v=r||i.length>0,x=T=>{s(I=>I.includes(T)?I.filter(q=>q!==T):[...I,T])},w=()=>{n(!1),s([])},_=j.useMemo(()=>{if(!g)return[];const T=g.map(I=>kR(I)).filter(Boolean);return[...new Set(T)]},[g]),{data:E}=ft({queryKey:["companies","batch",_.sort().join(",")],queryFn:async()=>_.length===0?[]:(await Le.getCompanies({per_page:100,include:_.join(",")})).data,enabled:_.length>0}),O=j.useMemo(()=>{const T={};return E&&E.forEach(I=>{T[I.id]=Ai(I)}),T},[E]),S=j.useMemo(()=>{const T={};return g.forEach(I=>{const q=kR(I);q&&O[q]&&(T[I.id]=O[q])}),T},[g,O]),P=j.useMemo(()=>g.map(T=>T.id).filter(Boolean),[g]),C=Df({queries:P.map(T=>({queryKey:["person-dates",T],queryFn:async()=>(await Qr.getPersonDates(T)).data,enabled:!!T}))}),N=j.useMemo(()=>{const T={};return C.forEach((I,q)=>{if(I.data&&P[q]){const B=P[q],re=I.data.some(Q=>{const L=Array.isArray(Q.date_type)?Q.date_type[0]:Q.date_type;return(L==null?void 0:L.toLowerCase())==="died"});T[B]=re}}),T},[C,P]);return d.jsxs("div",{className:"space-y-4",children:[d.jsx("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:d.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[d.jsxs("div",{className:"flex items-center gap-2 border border-gray-200 rounded-lg p-1",children:[d.jsxs("select",{value:a,onChange:T=>o(T.target.value),className:"text-sm border-0 bg-transparent focus:ring-0 focus:outline-none cursor-pointer",children:[d.jsx("option",{value:"first_name",children:"First Name"}),d.jsx("option",{value:"last_name",children:"Last Name"})]}),d.jsx("div",{className:"h-4 w-px bg-gray-300"}),d.jsx("button",{onClick:()=>u(l==="asc"?"desc":"asc"),className:"p-1 hover:bg-gray-100 rounded transition-colors",title:`Sort ${l==="asc"?"descending":"ascending"}`,children:l==="asc"?d.jsx(OZ,{className:"w-4 h-4 text-gray-600"}):d.jsx(EZ,{className:"w-4 h-4 text-gray-600"})})]}),d.jsxs("div",{className:"relative",ref:c,children:[d.jsxs("button",{onClick:()=>e(!t),className:`btn-secondary ${v?"bg-primary-50 text-primary-700 border-primary-200":""}`,children:[d.jsx(oR,{className:"w-4 h-4 mr-2"}),"Filter",v&&d.jsx("span",{className:"ml-2 px-1.5 py-0.5 bg-primary-600 text-white text-xs rounded-full",children:i.length+(r?1:0)})]}),t&&d.jsx("div",{ref:h,className:"absolute top-full left-0 mt-2 w-64 bg-white border border-gray-200 rounded-lg shadow-lg z-50",children:d.jsxs("div",{className:"p-4 space-y-4",children:[d.jsx("div",{children:d.jsxs("label",{className:"flex items-center cursor-pointer",children:[d.jsx("input",{type:"checkbox",checked:r,onChange:T=>n(T.target.checked),className:"sr-only"}),d.jsx("div",{className:`flex items-center justify-center w-5 h-5 border-2 rounded mr-3 ${r?"bg-primary-600 border-primary-600":"border-gray-300"}`,children:r&&d.jsx(aR,{className:"w-3 h-3 text-white"})}),d.jsxs("div",{className:"flex items-center",children:[d.jsx(Gc,{className:"w-4 h-4 mr-2 text-yellow-400 fill-current"}),d.jsx("span",{className:"text-sm font-medium text-gray-900",children:"Favorites only"})]})]})}),b.length>0&&d.jsxs("div",{children:[d.jsx("h3",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wide mb-2",children:"Labels"}),d.jsx("div",{className:"space-y-1 max-h-48 overflow-y-auto",children:b.map(T=>d.jsxs("label",{className:"flex items-center cursor-pointer hover:bg-gray-50 p-1 rounded",children:[d.jsx("input",{type:"checkbox",checked:i.includes(T),onChange:()=>x(T),className:"sr-only"}),d.jsx("div",{className:`flex items-center justify-center w-5 h-5 border-2 rounded mr-3 ${i.includes(T)?"bg-primary-600 border-primary-600":"border-gray-300"}`,children:i.includes(T)&&d.jsx(aR,{className:"w-3 h-3 text-white"})}),d.jsx("span",{className:"text-sm text-gray-700",children:T})]},T))})]}),v&&d.jsx("button",{onClick:w,className:"w-full text-sm text-primary-600 hover:text-primary-700 font-medium pt-2 border-t border-gray-200",children:"Clear all filters"})]})})]}),v&&d.jsxs("div",{className:"flex flex-wrap gap-2",children:[r&&d.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 bg-primary-100 text-primary-800 rounded-full text-xs",children:[d.jsx(Gc,{className:"w-3 h-3"}),"Favorites",d.jsx("button",{onClick:()=>n(!1),className:"hover:text-primary-600",children:d.jsx(ta,{className:"w-3 h-3"})})]}),i.map(T=>d.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 bg-gray-100 text-gray-800 rounded-full text-xs",children:[T,d.jsx("button",{onClick:()=>x(T),className:"hover:text-gray-600",children:d.jsx(ta,{className:"w-3 h-3"})})]},T))]}),d.jsxs(ve,{to:"/people/new",className:"btn-primary",children:[d.jsx(yr,{className:"w-4 h-4 mr-2"}),"Add Person"]})]})}),p&&d.jsx("div",{className:"flex items-center justify-center h-64",children:d.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"})}),m&&d.jsx("div",{className:"card p-6 text-center",children:d.jsx("p",{className:"text-red-600",children:"Failed to load people."})}),!p&&!m&&(f==null?void 0:f.length)===0&&d.jsxs("div",{className:"card p-12 text-center",children:[d.jsx("div",{className:"w-12 h-12 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4",children:d.jsx(yr,{className:"w-6 h-6 text-gray-400"})}),d.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-1",children:"No people found"}),d.jsx("p",{className:"text-gray-500 mb-4",children:"Get started by adding your first person."}),d.jsxs(ve,{to:"/people/new",className:"btn-primary",children:[d.jsx(yr,{className:"w-4 h-4 mr-2"}),"Add Person"]})]}),!p&&!m&&(g==null?void 0:g.length)>0&&d.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:g.map(T=>d.jsx(zre,{person:T,companyName:S[T.id],isDeceased:N[T.id]||!1},T.id))}),!p&&!m&&(f==null?void 0:f.length)>0&&(g==null?void 0:g.length)===0&&d.jsxs("div",{className:"card p-12 text-center",children:[d.jsx("div",{className:"w-12 h-12 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4",children:d.jsx(oR,{className:"w-6 h-6 text-gray-400"})}),d.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-1",children:"No people match your filters"}),d.jsx("p",{className:"text-gray-500 mb-4",children:"Try adjusting your filters to see more results."}),d.jsx("button",{onClick:w,className:"btn-secondary",children:"Clear filters"})]})]})}function Nh(t){if(!t)return null;switch(t){case"male":return"";case"female":return"";case"non_binary":case"other":case"prefer_not_to_say":return"";default:return null}}function Wre(){var yn,Mr,Ke,Bt,nn,sn,$,D,F,ae,ne,X,de;const{id:t}=ns(),e=Zr(),r=dr(),{data:n,isLoading:i,error:s}=du(t),{data:a}=qre(t),{data:o}=Mre(t),l=Fre(),u=Lre(),c=Bre(),h=Od(),[f,p]=j.useState(!1),[m,y]=j.useState(""),[b,g]=j.useState(!1),v=j.useRef(null),{data:x}=ft({queryKey:["person-labels"],queryFn:async()=>(await Le.getPersonLabels()).data}),w=x||[],_=(n==null?void 0:n.labels)||[],E=((Bt=(Ke=(Mr=(yn=n==null?void 0:n._embedded)==null?void 0:yn["wp:term"])==null?void 0:Mr.flat())==null?void 0:Ke.filter(k=>(k==null?void 0:k.taxonomy)==="person_label"))==null?void 0:Bt.map(k=>k.id))||[],O=w.filter(k=>!_.includes(k.name));ei((n==null?void 0:n.name)||((nn=n==null?void 0:n.title)==null?void 0:nn.rendered)||(n==null?void 0:n.title)||"Person");const S=o==null?void 0:o.find(k=>{const H=Array.isArray(k.date_type)?k.date_type[0]:k.date_type;return(H==null?void 0:H.toLowerCase())==="birthday"}),P=S!=null&&S.date_value?new Date(S.date_value):null,C=o==null?void 0:o.find(k=>{const H=Array.isArray(k.date_type)?k.date_type[0]:k.date_type;return(H==null?void 0:H.toLowerCase())==="died"}),N=C!=null&&C.date_value?new Date(C.date_value):null,T=!!N,I=P?Lm(T?N:new Date,P):null,q=o?[...o].sort((k,H)=>{const le=k.date_value?new Date(k.date_value):new Date(0),K=H.date_value?new Date(H.date_value):new Date(0);return le-K}):[],B=async()=>{window.confirm("Are you sure you want to delete this person?")&&(await l.mutateAsync(t),e("/people"))},re=k=>{if(!k)return"";let H=k.replace(/[\u200B-\u200D\uFEFF\u200E\u200F\u202A-\u202E]/g,"");const le=H.startsWith("+");return H=H.replace(/\D/g,""),le?`+${H}`:H},Q=async k=>{var K,W,V;if(!window.confirm("Are you sure you want to delete this contact detail?"))return;const H=[...((K=n.acf)==null?void 0:K.contact_info)||[]];H.splice(k,1);const le={...n.acf,contact_info:H,work_history:Array.isArray((W=n.acf)==null?void 0:W.work_history)?n.acf.work_history:[],relationships:Array.isArray((V=n.acf)==null?void 0:V.relationships)?n.acf.relationships:[]};await h.mutateAsync({id:t,data:{acf:le}})},L=async k=>{var K,W,V;if(!window.confirm("Are you sure you want to delete this relationship?"))return;const H=[...((K=n.acf)==null?void 0:K.relationships)||[]];H.splice(k,1);const le={...n.acf,relationships:H,contact_info:Array.isArray((W=n.acf)==null?void 0:W.contact_info)?n.acf.contact_info:[],work_history:Array.isArray((V=n.acf)==null?void 0:V.work_history)?n.acf.work_history:[]};await h.mutateAsync({id:t,data:{acf:le}})},G=async k=>{window.confirm("Are you sure you want to delete this important date?")&&await c.mutateAsync({dateId:k,personId:t})},z=async k=>{window.confirm("Are you sure you want to delete this note?")&&await u.mutateAsync({noteId:k,personId:t})},U=async k=>{var K,W,V;if(!window.confirm("Are you sure you want to delete this work history item?"))return;const H=[...((K=n.acf)==null?void 0:K.work_history)||[]];H.splice(k,1);const le={...n.acf,work_history:H,contact_info:Array.isArray((W=n.acf)==null?void 0:W.contact_info)?n.acf.contact_info:[],relationships:Array.isArray((V=n.acf)==null?void 0:V.relationships)?n.acf.relationships:[]};await h.mutateAsync({id:t,data:{acf:le}})},te=async k=>{var K,W,V;const H=(V=(W=(K=n==null?void 0:n._embedded)==null?void 0:K["wp:term"])==null?void 0:W.flat())==null?void 0:V.find(Y=>(Y==null?void 0:Y.taxonomy)==="person_label"&&(Y==null?void 0:Y.name)===k);if(!H)return;const le=E.filter(Y=>Y!==H.id);await h.mutateAsync({id:t,data:{person_label:le}})},fe=async()=>{if(!m)return;const k=w.find(le=>le.id.toString()===m);if(!k)return;const H=[...E,k.id];await h.mutateAsync({id:t,data:{person_label:H}}),y(""),p(!1)},ge=async k=>{var le;const H=(le=k.target.files)==null?void 0:le[0];if(H){if(!H.type.startsWith("image/")){alert("Please select an image file");return}if(H.size>5*1024*1024){alert("Image size must be less than 5MB");return}g(!0);try{await Qr.uploadPersonPhoto(t,H),r.invalidateQueries({queryKey:["person",t]}),r.invalidateQueries({queryKey:["people"]})}catch(K){console.error("Failed to upload photo:",K),alert("Failed to upload photo. Please try again.")}finally{g(!1),v.current&&(v.current.value="")}}},ke=(($=(sn=n==null?void 0:n.acf)==null?void 0:sn.work_history)==null?void 0:$.map(k=>k.company).filter(Boolean))||[],be=Df({queries:ke.map(k=>({queryKey:["company",k],queryFn:async()=>(await Le.getCompany(k,{_embed:!0})).data,enabled:!!k}))}),xe=((F=(D=n==null?void 0:n.acf)==null?void 0:D.relationships)==null?void 0:F.map(k=>k.related_person).filter(Boolean))||[],Ie=Df({queries:xe.map(k=>({queryKey:["person-dates",k],queryFn:async()=>(await Qr.getPersonDates(k)).data,enabled:!!k}))}),gt=j.useMemo(()=>{const k={};return Ie.forEach((H,le)=>{if(H.data&&xe[le]){const K=xe[le],W=H.data.find(V=>{const Y=Array.isArray(V.date_type)?V.date_type[0]:V.date_type;return(Y==null?void 0:Y.toLowerCase())==="birthday"});if(W!=null&&W.date_value){const V=new Date(W.date_value);k[K]=Lm(new Date,V)}else k[K]=-1}}),k},[Ie,xe]),nt=j.useMemo(()=>{const k={};return Ie.forEach((H,le)=>{if(H.data&&xe[le]){const K=xe[le],W=H.data.some(V=>{const Y=Array.isArray(V.date_type)?V.date_type[0]:V.date_type;return(Y==null?void 0:Y.toLowerCase())==="died"});k[K]=W}}),k},[Ie,xe]),yt=j.useMemo(()=>{var k;return(k=n==null?void 0:n.acf)!=null&&k.relationships?[...n.acf.relationships].sort((H,le)=>{const K=gt[H.related_person]??-1,W=gt[le.related_person]??-1;return K===-1&&W===-1?0:K===-1?1:W===-1?-1:W-K}):[]},[(ae=n==null?void 0:n.acf)==null?void 0:ae.relationships,gt]),xr={};be.forEach((k,H)=>{var le,K,W,V,Y,pe,$e,Vt,_r;if(k.data){const ii=ke[H];xr[ii]={name:Ai(k.data),logo:((W=(K=(le=k.data._embedded)==null?void 0:le["wp:featuredmedia"])==null?void 0:K[0])==null?void 0:W.source_url)||((_r=(Vt=($e=(pe=(Y=(V=k.data._embedded)==null?void 0:V["wp:featuredmedia"])==null?void 0:Y[0])==null?void 0:pe.media_details)==null?void 0:$e.sizes)==null?void 0:Vt.thumbnail)==null?void 0:_r.source_url)||null}}});const Qe=j.useMemo(()=>{var k;return(k=n==null?void 0:n.acf)!=null&&k.work_history?[...n.acf.work_history].map((H,le)=>({...H,originalIndex:le})).sort((H,le)=>{if(H.is_current&&!le.is_current)return-1;if(!H.is_current&&le.is_current)return 1;const K=H.start_date?new Date(H.start_date):new Date(0);return(le.start_date?new Date(le.start_date):new Date(0))-K}):[]},[(ne=n==null?void 0:n.acf)==null?void 0:ne.work_history]);if(i)return d.jsx("div",{className:"flex items-center justify-center h-64",children:d.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"})});if(s||!n)return d.jsxs("div",{className:"card p-6 text-center",children:[d.jsx("p",{className:"text-red-600",children:"Failed to load person."}),d.jsx(ve,{to:"/people",className:"btn-secondary mt-4",children:"Back to People"})]});const it=n.acf||{};return d.jsxs("div",{className:"space-y-6",children:[d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs(ve,{to:"/people",className:"flex items-center text-gray-600 hover:text-gray-900",children:[d.jsx(is,{className:"w-4 h-4 mr-2"}),"Back to People"]}),d.jsxs("div",{className:"flex gap-2",children:[d.jsxs(ve,{to:`/people/${t}/edit`,className:"btn-secondary",children:[d.jsx(O7,{className:"w-4 h-4 mr-2"}),"Edit"]}),d.jsxs("button",{onClick:B,className:"btn-danger",children:[d.jsx(vs,{className:"w-4 h-4 mr-2"}),"Delete"]})]})]}),d.jsxs("div",{className:"card p-6 relative",children:[d.jsx("div",{className:"absolute top-4 right-4",children:d.jsx(ve,{to:`/people/${t}/family-tree`,className:"btn-secondary text-sm",children:"View Family Tree"})}),d.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center gap-4",children:[d.jsxs("div",{className:"relative group",children:[n.thumbnail?d.jsx("img",{src:n.thumbnail,alt:n.name,className:"w-24 h-24 rounded-full object-cover"}):d.jsx("div",{className:"w-24 h-24 bg-gray-200 rounded-full flex items-center justify-center",children:d.jsx("span",{className:"text-3xl font-medium text-gray-500",children:((X=n.first_name)==null?void 0:X[0])||"?"})}),d.jsx("div",{className:"absolute inset-0 rounded-full bg-black bg-opacity-0 group-hover:bg-opacity-50 transition-all duration-200 flex items-center justify-center cursor-pointer",onClick:()=>{var k;return(k=v.current)==null?void 0:k.click()},children:b?d.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-white"}):d.jsx(Jh,{className:"w-6 h-6 text-white opacity-0 group-hover:opacity-100 transition-opacity"})}),d.jsx("input",{ref:v,type:"file",accept:"image/*",onChange:ge,className:"hidden",disabled:b})]}),d.jsxs("div",{className:"flex-1",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsxs("h1",{className:"text-2xl font-bold",children:[n.name,T&&d.jsx("span",{className:"ml-1 text-gray-500",children:""})]}),n.is_favorite&&d.jsx(Gc,{className:"w-5 h-5 text-yellow-400 fill-current"})]}),it.nickname&&d.jsxs("p",{className:"text-gray-500",children:['"',it.nickname,'"']}),T&&N&&I!==null&&d.jsxs("p",{className:"text-gray-500 text-sm mt-1",children:[Nh(it.gender)&&d.jsx("span",{className:"mr-1",children:Nh(it.gender)}),"Died ",hi(N,"MMMM d, yyyy")," at age ",I]}),!T&&I!==null&&d.jsxs("p",{className:"text-gray-500 text-sm mt-1",children:[Nh(it.gender)&&d.jsx("span",{className:"mr-1",children:Nh(it.gender)}),I," years old"]}),d.jsx("div",{className:"mt-2",children:d.jsxs("div",{className:"flex flex-wrap gap-2 items-center",children:[n.labels&&n.labels.length>0&&n.labels.map((k,H)=>d.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 rounded-full text-xs font-medium bg-gray-100 text-gray-700 group/label",children:[k,d.jsx("button",{onClick:()=>te(k),className:"opacity-0 group-hover/label:opacity-100 transition-opacity hover:bg-gray-200 rounded-full p-0.5",title:"Remove label",children:d.jsx(ta,{className:"w-3 h-3"})})]},H)),f?d.jsxs("div",{className:"inline-flex items-center gap-2",children:[d.jsxs("select",{value:m,onChange:k=>y(k.target.value),className:"text-xs border border-gray-300 rounded px-2 py-1",autoFocus:!0,disabled:O.length===0,children:[d.jsx("option",{value:"",children:"Select a label..."}),O.map(k=>d.jsx("option",{value:k.id,children:k.name},k.id))]}),d.jsx("button",{onClick:fe,disabled:!m,className:"text-xs px-2 py-1 bg-primary-600 text-white rounded hover:bg-primary-700 disabled:opacity-50 disabled:cursor-not-allowed",children:"Add"}),d.jsx("button",{onClick:()=>{p(!1),y("")},className:"text-xs px-2 py-1 bg-gray-200 text-gray-700 rounded hover:bg-gray-300",children:"Cancel"})]}):O.length>0&&d.jsxs("button",{onClick:()=>p(!0),className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-gray-100 text-gray-700 hover:bg-gray-200 transition-colors",children:[d.jsx(yr,{className:"w-3 h-3 mr-1"}),"Add label"]})]})})]})]})]}),d.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[d.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[!T&&d.jsxs("div",{className:"card p-6",children:[d.jsxs("div",{className:"flex items-center justify-between mb-4",children:[d.jsx("h2",{className:"font-semibold",children:"Contact Information"}),d.jsxs(ve,{to:`/people/${t}/contact/new`,className:"btn-secondary text-sm",children:[d.jsx(yr,{className:"w-4 h-4 mr-1"}),"Add contact detail"]})]}),((de=it.contact_info)==null?void 0:de.length)>0?d.jsx("div",{className:"space-y-3",children:it.contact_info.map((k,H)=>{const le=k.contact_type==="email"?DZ:k.contact_type==="phone"||k.contact_type==="mobile"?LZ:k.contact_type==="address"?qZ:k.contact_type==="linkedin"?lR:(k.contact_type==="website",jP),K=k.contact_type==="email",W=k.contact_type==="phone"||k.contact_type==="mobile",V=k.contact_type==="mobile",Y=k.contact_type==="website"||k.contact_type==="linkedin"||k.contact_type==="twitter"||k.contact_type==="instagram"||k.contact_type==="facebook",pe=k.contact_type==="address",$e=k.contact_type==="linkedin";let Vt=null,_r=null;if(K)Vt=`mailto:${k.contact_value}`;else if(W)Vt=`tel:${re(k.contact_value)}`;else if(Y){let ii=k.contact_value;ii.match(/^https?:\/\//i)||(ii=`https://${ii}`),Vt=ii,_r="_blank"}else pe&&(Vt=`https://www.google.com/maps/search/?api=1&query=${encodeURIComponent(k.contact_value)}`,_r="_blank");return d.jsxs("div",{className:"flex items-center group",children:[!$e&&d.jsx(le,{className:"w-4 h-4 text-gray-400 mr-3 flex-shrink-0"}),d.jsxs("div",{className:"flex-1 min-w-0",children:[$e?d.jsx(lR,{className:"w-4 h-4 text-blue-600 inline-block mr-2 align-middle"}):d.jsxs("span",{className:"text-sm text-gray-500",children:[k.contact_label||k.contact_type,": "]}),Vt?d.jsx("a",{href:Vt,target:_r||void 0,rel:_r==="_blank"?"noopener noreferrer":void 0,className:"text-primary-600 hover:text-primary-700 hover:underline",children:k.contact_value}):d.jsx("span",{children:k.contact_value})]}),d.jsxs("div",{className:"flex items-center gap-1 opacity-0 group-hover:opacity-100 transition-opacity ml-2",children:[V&&d.jsx("a",{href:`whatsapp:${re(k.contact_value)}`,className:"p-1 hover:bg-green-50 rounded",title:"Open WhatsApp",children:d.jsx(AZ,{className:"w-4 h-4 text-gray-400 hover:text-green-600"})}),d.jsx(ve,{to:`/people/${t}/contact/${H}/edit`,className:"p-1 hover:bg-gray-100 rounded",title:"Edit contact detail",children:d.jsx(Th,{className:"w-4 h-4 text-gray-400 hover:text-gray-600"})}),d.jsx("button",{onClick:()=>Q(H),className:"p-1 hover:bg-red-50 rounded",title:"Delete contact detail",children:d.jsx(vs,{className:"w-4 h-4 text-gray-400 hover:text-red-600"})})]})]},H)})}):d.jsx("p",{className:"text-sm text-gray-500 text-center py-4",children:"No contact information yet."})]}),d.jsxs("div",{className:"card p-6",children:[d.jsxs("div",{className:"flex items-center justify-between mb-4",children:[d.jsx("h2",{className:"font-semibold",children:"Important Dates"}),d.jsxs(ve,{to:`/dates/new?person=${t}`,className:"btn-secondary text-sm",children:[d.jsx(yr,{className:"w-4 h-4 mr-1"}),"Add Important Date"]})]}),q.length>0?d.jsx("div",{className:"space-y-3",children:q.map(k=>{const H=Array.isArray(k.date_type)?k.date_type[0]:k.date_type,le=(H==null?void 0:H.toLowerCase())||"",K=le.includes("died"),W=le.includes("wedding")||le.includes("marriage")?NZ:le.includes("birthday")?IZ:no;return d.jsxs("div",{className:"flex items-start group",children:[d.jsx("div",{className:"w-8 h-8 bg-gray-100 rounded-lg flex items-center justify-center mr-3",children:K?d.jsx("span",{className:"text-gray-500 text-lg font-semibold",children:""}):d.jsx(W,{className:"w-4 h-4 text-gray-500"})}),d.jsxs("div",{className:"flex-1",children:[d.jsx("p",{className:"text-sm font-medium",children:k.title}),d.jsx("p",{className:"text-xs text-gray-500",children:k.date_value&&hi(new Date(k.date_value),"MMMM d, yyyy")}),H&&d.jsx("p",{className:"text-xs text-gray-400 capitalize",children:H})]}),d.jsxs("div",{className:"flex items-center gap-1 opacity-0 group-hover:opacity-100 transition-opacity",children:[d.jsx(ve,{to:`/dates/${k.id}/edit`,className:"p-1 hover:bg-gray-100 rounded",title:"Edit date",children:d.jsx(Th,{className:"w-4 h-4 text-gray-400 hover:text-gray-600"})}),d.jsx("button",{onClick:()=>G(k.id),className:"p-1 hover:bg-red-50 rounded",title:"Delete date",children:d.jsx(vs,{className:"w-4 h-4 text-gray-400 hover:text-red-600"})})]})]},k.id)})}):d.jsx("p",{className:"text-sm text-gray-500 text-center py-4",children:"No important dates yet."})]}),d.jsxs("div",{className:"card p-6",children:[d.jsxs("div",{className:"flex items-center justify-between mb-4",children:[d.jsx("h2",{className:"font-semibold",children:"Work History"}),d.jsxs(ve,{to:`/people/${t}/work-history/new`,className:"btn-secondary text-sm",children:[d.jsx(yr,{className:"w-4 h-4 mr-1"}),"Add Work History"]})]}),(Qe==null?void 0:Qe.length)>0?d.jsx("div",{className:"space-y-4",children:Qe.map((k,H)=>{const le=k.company?xr[k.company]:null,K=k.originalIndex;return d.jsxs("div",{className:"flex items-start group",children:[le!=null&&le.logo?d.jsx("img",{src:le.logo,alt:le.name,className:"w-10 h-10 rounded-lg object-cover mr-3 flex-shrink-0"}):d.jsx("div",{className:"w-10 h-10 bg-gray-100 rounded-lg flex items-center justify-center mr-3 flex-shrink-0",children:d.jsx(Ji,{className:"w-5 h-5 text-gray-500"})}),d.jsxs("div",{className:"flex-1 min-w-0",children:[d.jsx("p",{className:"font-medium",children:k.job_title}),k.company&&le&&d.jsx(ve,{to:`/companies/${k.company}`,className:"text-sm text-primary-600 hover:underline",children:le.name}),d.jsxs("p",{className:"text-sm text-gray-500",children:[k.start_date&&hi(new Date(k.start_date),"MMM yyyy")," - ",k.is_current?"Present":k.end_date?hi(new Date(k.end_date),"MMM yyyy"):""]}),k.description&&d.jsx("p",{className:"text-sm text-gray-600 mt-1",children:k.description})]}),d.jsxs("div",{className:"flex items-center gap-1 opacity-0 group-hover:opacity-100 transition-opacity ml-2",children:[d.jsx(ve,{to:`/people/${t}/work-history/${K}/edit`,className:"p-1 hover:bg-gray-100 rounded",title:"Edit work history",children:d.jsx(Th,{className:"w-4 h-4 text-gray-400 hover:text-gray-600"})}),d.jsx("button",{onClick:()=>U(K),className:"p-1 hover:bg-red-50 rounded",title:"Delete work history",children:d.jsx(vs,{className:"w-4 h-4 text-gray-400 hover:text-red-600"})})]})]},K)})}):d.jsx("p",{className:"text-sm text-gray-500 text-center py-4",children:"No work history yet."})]}),d.jsxs("div",{className:"card p-6",children:[d.jsxs("div",{className:"flex items-center justify-between mb-4",children:[d.jsx("h2",{className:"font-semibold",children:"Timeline"}),d.jsxs("button",{className:"btn-secondary text-sm",children:[d.jsx(yr,{className:"w-4 h-4 mr-1"}),"Add Note"]})]}),(a==null?void 0:a.length)>0?d.jsx("div",{className:"space-y-4",children:a.map(k=>d.jsxs("div",{className:"border-l-2 border-gray-200 pl-4 pb-4 group",children:[d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-500",children:[d.jsx("span",{className:"capitalize",children:k.type}),d.jsx("span",{children:""}),d.jsx("span",{children:hi(new Date(k.created),"MMM d, yyyy")})]}),d.jsx("button",{onClick:()=>z(k.id),className:"opacity-0 group-hover:opacity-100 transition-opacity p-1 hover:bg-red-50 rounded",title:"Delete note",children:d.jsx(vs,{className:"w-4 h-4 text-gray-400 hover:text-red-600"})})]}),d.jsx("p",{className:"mt-1",children:k.content})]},k.id))}):d.jsx("p",{className:"text-sm text-gray-500 text-center py-4",children:"No notes or activities yet."})]})]}),d.jsxs("div",{className:"space-y-6",children:[(it.how_we_met||it.met_date)&&d.jsxs("div",{className:"card p-6",children:[d.jsx("h2",{className:"font-semibold mb-3",children:"How We Met"}),it.met_date&&d.jsxs("p",{className:"text-sm text-gray-500 mb-2",children:[d.jsx(no,{className:"w-4 h-4 inline mr-1"}),hi(new Date(it.met_date),"MMMM d, yyyy")]}),it.how_we_met&&d.jsx("p",{className:"text-sm",children:it.how_we_met})]}),d.jsxs("div",{className:"card p-6",children:[d.jsxs("div",{className:"flex items-center justify-between mb-3",children:[d.jsx("h2",{className:"font-semibold",children:"Relationships"}),d.jsxs(ve,{to:`/people/${t}/relationship/new`,className:"btn-secondary text-sm",children:[d.jsx(yr,{className:"w-4 h-4 mr-1"}),"Add Relationship"]})]}),(yt==null?void 0:yt.length)>0?d.jsx("div",{className:"space-y-2",children:yt.map((k,H)=>{var K,W,V;const le=((W=(K=n==null?void 0:n.acf)==null?void 0:K.relationships)==null?void 0:W.findIndex(Y=>Y.related_person===k.related_person&&Y.relationship_type===k.relationship_type))??H;return d.jsxs("div",{className:"flex items-center p-2 rounded hover:bg-gray-50 group",children:[d.jsxs(ve,{to:`/people/${k.related_person}`,className:"flex items-center flex-1 min-w-0",children:[k.person_thumbnail?d.jsx("img",{src:k.person_thumbnail,alt:Gn(k.person_name)||"",className:"w-8 h-8 rounded-full object-cover mr-2"}):d.jsx("div",{className:"w-8 h-8 bg-gray-200 rounded-full mr-2 flex items-center justify-center",children:d.jsx("span",{className:"text-xs font-medium text-gray-500",children:((V=Gn(k.person_name))==null?void 0:V[0])||"?"})}),d.jsxs("div",{children:[d.jsxs("p",{className:"text-sm font-medium",children:[Gn(k.person_name)||`Person #${k.related_person}`,nt[k.related_person]&&d.jsx("span",{className:"text-gray-400 ml-1",title:"Deceased",children:""})]}),d.jsx("p",{className:"text-xs text-gray-500",children:Gn(k.relationship_name||k.relationship_label)})]})]}),d.jsxs("div",{className:"flex items-center gap-1 opacity-0 group-hover:opacity-100 transition-opacity ml-2",children:[d.jsx(ve,{to:`/people/${t}/relationship/${le}/edit`,className:"p-1 hover:bg-gray-100 rounded",title:"Edit relationship",children:d.jsx(Th,{className:"w-4 h-4 text-gray-400 hover:text-gray-600"})}),d.jsx("button",{onClick:()=>L(le),className:"p-1 hover:bg-red-50 rounded",title:"Delete relationship",children:d.jsx(vs,{className:"w-4 h-4 text-gray-400 hover:text-red-600"})})]})]},H)})}):d.jsx("p",{className:"text-sm text-gray-500 text-center py-4",children:"No relationships yet."})]})]})]})]})}var Pd=t=>t.type==="checkbox",Pa=t=>t instanceof Date,Lr=t=>t==null;const iK=t=>typeof t=="object";var jt=t=>!Lr(t)&&!Array.isArray(t)&&iK(t)&&!Pa(t),sK=t=>jt(t)&&t.target?Pd(t.target)?t.target.checked:t.target.value:t,Hre=t=>t.substring(0,t.search(/\.\d+(\.|$)/))||t,aK=(t,e)=>t.has(Hre(e)),Vre=t=>{const e=t.constructor&&t.constructor.prototype;return jt(e)&&e.hasOwnProperty("isPrototypeOf")},vT=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function zt(t){if(t instanceof Date)return new Date(t);const e=typeof FileList<"u"&&t instanceof FileList;if(vT&&(t instanceof Blob||e))return t;const r=Array.isArray(t);if(!r&&!(jt(t)&&Vre(t)))return t;const n=r?[]:Object.create(Object.getPrototypeOf(t));for(const i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=zt(t[i]));return n}var Cp=t=>/^\w*$/.test(t),St=t=>t===void 0,gT=t=>Array.isArray(t)?t.filter(Boolean):[],yT=t=>gT(t.replace(/["|']|\]/g,"").split(/\.|\[/)),oe=(t,e,r)=>{if(!e||!jt(t))return r;const n=(Cp(e)?[e]:yT(e)).reduce((i,s)=>Lr(i)?i:i[s],t);return St(n)||n===t?St(t[e])?r:t[e]:n},ln=t=>typeof t=="boolean",Nr=t=>typeof t=="function",Je=(t,e,r)=>{let n=-1;const i=Cp(e)?[e]:yT(e),s=i.length,a=s-1;for(;++n<s;){const o=i[n];let l=r;if(n!==a){const u=t[o];l=jt(u)||Array.isArray(u)?u:isNaN(+i[n+1])?{}:[]}if(o==="__proto__"||o==="constructor"||o==="prototype")return;t[o]=l,t=t[o]}};const Af={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},Vn={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},Oi={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},oK=Ce.createContext(null);oK.displayName="HookFormContext";const bT=()=>Ce.useContext(oK);var lK=(t,e,r,n=!0)=>{const i={defaultValues:e._defaultValues};for(const s in t)Object.defineProperty(i,s,{get:()=>{const a=s;return e._proxyFormState[a]!==Vn.all&&(e._proxyFormState[a]=!n||Vn.all),r&&(r[a]=!0),t[a]}});return i};const wT=typeof window<"u"?Ce.useLayoutEffect:Ce.useEffect;function Kre(t){const e=bT(),{control:r=e.control,disabled:n,name:i,exact:s}=t||{},[a,o]=Ce.useState(r._formState),l=Ce.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1});return wT(()=>r._subscribe({name:i,formState:l.current,exact:s,callback:u=>{!n&&o({...r._formState,...u})}}),[i,n,s]),Ce.useEffect(()=>{l.current.isValid&&r._setValid(!0)},[r]),Ce.useMemo(()=>lK(a,r,l.current,!1),[a,r])}var un=t=>typeof t=="string",FP=(t,e,r,n,i)=>un(t)?(n&&e.watch.add(t),oe(r,t,i)):Array.isArray(t)?t.map(s=>(n&&e.watch.add(s),oe(r,s))):(n&&(e.watchAll=!0),r),LP=t=>Lr(t)||!iK(t);function Kn(t,e,r=new WeakSet){if(LP(t)||LP(e))return Object.is(t,e);if(Pa(t)&&Pa(e))return t.getTime()===e.getTime();const n=Object.keys(t),i=Object.keys(e);if(n.length!==i.length)return!1;if(r.has(t)||r.has(e))return!0;r.add(t),r.add(e);for(const s of n){const a=t[s];if(!i.includes(s))return!1;if(s!=="ref"){const o=e[s];if(Pa(a)&&Pa(o)||jt(a)&&jt(o)||Array.isArray(a)&&Array.isArray(o)?!Kn(a,o,r):!Object.is(a,o))return!1}}return!0}function Gre(t){const e=bT(),{control:r=e.control,name:n,defaultValue:i,disabled:s,exact:a,compute:o}=t||{},l=Ce.useRef(i),u=Ce.useRef(o),c=Ce.useRef(void 0),h=Ce.useRef(r),f=Ce.useRef(n);u.current=o;const[p,m]=Ce.useState(()=>{const w=r._getWatch(n,l.current);return u.current?u.current(w):w}),y=Ce.useCallback(w=>{const _=FP(n,r._names,w||r._formValues,!1,l.current);return u.current?u.current(_):_},[r._formValues,r._names,n]),b=Ce.useCallback(w=>{if(!s){const _=FP(n,r._names,w||r._formValues,!1,l.current);if(u.current){const E=u.current(_);Kn(E,c.current)||(m(E),c.current=E)}else m(_)}},[r._formValues,r._names,s,n]);wT(()=>((h.current!==r||!Kn(f.current,n))&&(h.current=r,f.current=n,b()),r._subscribe({name:n,formState:{values:!0},exact:a,callback:w=>{b(w.values)}})),[r,a,n,b]),Ce.useEffect(()=>r._removeUnmounted());const g=h.current!==r,v=f.current,x=Ce.useMemo(()=>{if(s)return null;const w=!g&&!Kn(v,n);return g||w?y():null},[s,g,n,v,y]);return x!==null?x:p}function Yre(t){const e=bT(),{name:r,disabled:n,control:i=e.control,shouldUnregister:s,defaultValue:a,exact:o=!0}=t,l=aK(i._names.array,r),u=Ce.useMemo(()=>oe(i._formValues,r,oe(i._defaultValues,r,a)),[i,r,a]),c=Gre({control:i,name:r,defaultValue:u,exact:o}),h=Kre({control:i,name:r,exact:o}),f=Ce.useRef(t),p=Ce.useRef(void 0),m=Ce.useRef(i.register(r,{...t.rules,value:c,...ln(t.disabled)?{disabled:t.disabled}:{}}));f.current=t;const y=Ce.useMemo(()=>Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!oe(h.errors,r)},isDirty:{enumerable:!0,get:()=>!!oe(h.dirtyFields,r)},isTouched:{enumerable:!0,get:()=>!!oe(h.touchedFields,r)},isValidating:{enumerable:!0,get:()=>!!oe(h.validatingFields,r)},error:{enumerable:!0,get:()=>oe(h.errors,r)}}),[h,r]),b=Ce.useCallback(w=>m.current.onChange({target:{value:sK(w),name:r},type:Af.CHANGE}),[r]),g=Ce.useCallback(()=>m.current.onBlur({target:{value:oe(i._formValues,r),name:r},type:Af.BLUR}),[r,i._formValues]),v=Ce.useCallback(w=>{const _=oe(i._fields,r);_&&_._f&&w&&(_._f.ref={focus:()=>Nr(w.focus)&&w.focus(),select:()=>Nr(w.select)&&w.select(),setCustomValidity:E=>Nr(w.setCustomValidity)&&w.setCustomValidity(E),reportValidity:()=>Nr(w.reportValidity)&&w.reportValidity()})},[i._fields,r]),x=Ce.useMemo(()=>({name:r,value:c,...ln(n)||h.disabled?{disabled:h.disabled||n}:{},onChange:b,onBlur:g,ref:v}),[r,n,h.disabled,b,g,v,c]);return Ce.useEffect(()=>{const w=i._options.shouldUnregister||s,_=p.current;_&&_!==r&&!l&&i.unregister(_),i.register(r,{...f.current.rules,...ln(f.current.disabled)?{disabled:f.current.disabled}:{}});const E=(O,S)=>{const P=oe(i._fields,O);P&&P._f&&(P._f.mount=S)};if(E(r,!0),w){const O=zt(oe(i._options.defaultValues,r,f.current.defaultValue));Je(i._defaultValues,r,O),St(oe(i._formValues,r))&&Je(i._formValues,r,O)}return!l&&i.register(r),p.current=r,()=>{(l?w&&!i._state.action:w)?i.unregister(r):E(r,!1)}},[r,i,l,s]),Ce.useEffect(()=>{i._setDisabledField({disabled:n,name:r})},[n,r,i]),Ce.useMemo(()=>({field:x,formState:h,fieldState:y}),[x,h,y])}const Ff=t=>t.render(Yre(t));var Qre=(t,e,r,n,i)=>e?{...r[t],types:{...r[t]&&r[t].types?r[t].types:{},[n]:i||!0}}:{},yc=t=>Array.isArray(t)?t:[t],DR=()=>{let t=[];return{get observers(){return t},next:i=>{for(const s of t)s.next&&s.next(i)},subscribe:i=>(t.push(i),{unsubscribe:()=>{t=t.filter(s=>s!==i)}}),unsubscribe:()=>{t=[]}}};function uK(t,e){const r={};for(const n in t)if(t.hasOwnProperty(n)){const i=t[n],s=e[n];if(i&&jt(i)&&s){const a=uK(i,s);jt(a)&&(r[n]=a)}else t[n]&&(r[n]=s)}return r}var Or=t=>jt(t)&&!Object.keys(t).length,xT=t=>t.type==="file",Lf=t=>{if(!vT)return!1;const e=t?t.ownerDocument:0;return t instanceof(e&&e.defaultView?e.defaultView.HTMLElement:HTMLElement)},cK=t=>t.type==="select-multiple",_T=t=>t.type==="radio",Xre=t=>_T(t)||Pd(t),zm=t=>Lf(t)&&t.isConnected;function Jre(t,e){const r=e.slice(0,-1).length;let n=0;for(;n<r;)t=St(t)?n++:t[e[n++]];return t}function Zre(t){for(const e in t)if(t.hasOwnProperty(e)&&!St(t[e]))return!1;return!0}function Nt(t,e){const r=Array.isArray(e)?e:Cp(e)?[e]:yT(e),n=r.length===1?t:Jre(t,r),i=r.length-1,s=r[i];return n&&delete n[s],i!==0&&(jt(n)&&Or(n)||Array.isArray(n)&&Zre(n))&&Nt(t,r.slice(0,-1)),t}var ene=t=>{for(const e in t)if(Nr(t[e]))return!0;return!1};function dK(t){return Array.isArray(t)||jt(t)&&!ene(t)}function BP(t,e={}){for(const r in t){const n=t[r];dK(n)?(e[r]=Array.isArray(n)?[]:{},BP(n,e[r])):St(n)||(e[r]=!0)}return e}function Ho(t,e,r){r||(r=BP(e));for(const n in t){const i=t[n];if(dK(i))St(e)||LP(r[n])?r[n]=BP(i,Array.isArray(i)?[]:{}):Ho(i,Lr(e)?{}:e[n],r[n]);else{const s=e[n];r[n]=!Kn(i,s)}}return r}const qR={value:!1,isValid:!1},MR={value:!0,isValid:!0};var hK=t=>{if(Array.isArray(t)){if(t.length>1){const e=t.filter(r=>r&&r.checked&&!r.disabled).map(r=>r.value);return{value:e,isValid:!!e.length}}return t[0].checked&&!t[0].disabled?t[0].attributes&&!St(t[0].attributes.value)?St(t[0].value)||t[0].value===""?MR:{value:t[0].value,isValid:!0}:MR:qR}return qR},fK=(t,{valueAsNumber:e,valueAsDate:r,setValueAs:n})=>St(t)?t:e?t===""?NaN:t&&+t:r&&un(t)?new Date(t):n?n(t):t;const AR={isValid:!1,value:null};var pK=t=>Array.isArray(t)?t.reduce((e,r)=>r&&r.checked&&!r.disabled?{isValid:!0,value:r.value}:e,AR):AR;function FR(t){const e=t.ref;return xT(e)?e.files:_T(e)?pK(t.refs).value:cK(e)?[...e.selectedOptions].map(({value:r})=>r):Pd(e)?hK(t.refs).value:fK(St(e.value)?t.ref.value:e.value,t)}var tne=(t,e,r,n)=>{const i={};for(const s of t){const a=oe(e,s);a&&Je(i,s,a._f)}return{criteriaMode:r,names:[...t],fields:i,shouldUseNativeValidation:n}},Bf=t=>t instanceof RegExp,Xu=t=>St(t)?t:Bf(t)?t.source:jt(t)?Bf(t.value)?t.value.source:t.value:t,LR=t=>({isOnSubmit:!t||t===Vn.onSubmit,isOnBlur:t===Vn.onBlur,isOnChange:t===Vn.onChange,isOnAll:t===Vn.all,isOnTouch:t===Vn.onTouched});const BR="AsyncFunction";var rne=t=>!!t&&!!t.validate&&!!(Nr(t.validate)&&t.validate.constructor.name===BR||jt(t.validate)&&Object.values(t.validate).find(e=>e.constructor.name===BR)),nne=t=>t.mount&&(t.required||t.min||t.max||t.maxLength||t.minLength||t.pattern||t.validate),zR=(t,e,r)=>!r&&(e.watchAll||e.watch.has(t)||[...e.watch].some(n=>t.startsWith(n)&&/^\.\w+/.test(t.slice(n.length))));const bc=(t,e,r,n)=>{for(const i of r||Object.keys(t)){const s=oe(t,i);if(s){const{_f:a,...o}=s;if(a){if(a.refs&&a.refs[0]&&e(a.refs[0],i)&&!n)return!0;if(a.ref&&e(a.ref,a.name)&&!n)return!0;if(bc(o,e))break}else if(jt(o)&&bc(o,e))break}}};function UR(t,e,r){const n=oe(t,r);if(n||Cp(r))return{error:n,name:r};const i=r.split(".");for(;i.length;){const s=i.join("."),a=oe(e,s),o=oe(t,s);if(a&&!Array.isArray(a)&&r!==s)return{name:r};if(o&&o.type)return{name:s,error:o};if(o&&o.root&&o.root.type)return{name:`${s}.root`,error:o.root};i.pop()}return{name:r}}var ine=(t,e,r,n)=>{r(t);const{name:i,...s}=t;return Or(s)||Object.keys(s).length>=Object.keys(e).length||Object.keys(s).find(a=>e[a]===(!n||Vn.all))},sne=(t,e,r)=>!t||!e||t===e||yc(t).some(n=>n&&(r?n===e:n.startsWith(e)||e.startsWith(n))),ane=(t,e,r,n,i)=>i.isOnAll?!1:!r&&i.isOnTouch?!(e||t):(r?n.isOnBlur:i.isOnBlur)?!t:(r?n.isOnChange:i.isOnChange)?t:!0,one=(t,e)=>!gT(oe(t,e)).length&&Nt(t,e),lne=(t,e,r)=>{const n=yc(oe(t,r));return Je(n,"root",e[r]),Je(t,r,n),t};function WR(t,e,r="validate"){if(un(t)||Array.isArray(t)&&t.every(un)||ln(t)&&!t)return{type:r,message:un(t)?t:"",ref:e}}var Bo=t=>jt(t)&&!Bf(t)?t:{value:t,message:""},HR=async(t,e,r,n,i,s)=>{const{ref:a,refs:o,required:l,maxLength:u,minLength:c,min:h,max:f,pattern:p,validate:m,name:y,valueAsNumber:b,mount:g}=t._f,v=oe(r,y);if(!g||e.has(y))return{};const x=o?o[0]:a,w=T=>{i&&x.reportValidity&&(x.setCustomValidity(ln(T)?"":T||""),x.reportValidity())},_={},E=_T(a),O=Pd(a),S=E||O,P=(b||xT(a))&&St(a.value)&&St(v)||Lf(a)&&a.value===""||v===""||Array.isArray(v)&&!v.length,C=Qre.bind(null,y,n,_),N=(T,I,q,B=Oi.maxLength,re=Oi.minLength)=>{const Q=T?I:q;_[y]={type:T?B:re,message:Q,ref:a,...C(T?B:re,Q)}};if(s?!Array.isArray(v)||!v.length:l&&(!S&&(P||Lr(v))||ln(v)&&!v||O&&!hK(o).isValid||E&&!pK(o).isValid)){const{value:T,message:I}=un(l)?{value:!!l,message:l}:Bo(l);if(T&&(_[y]={type:Oi.required,message:I,ref:x,...C(Oi.required,I)},!n))return w(I),_}if(!P&&(!Lr(h)||!Lr(f))){let T,I;const q=Bo(f),B=Bo(h);if(!Lr(v)&&!isNaN(v)){const re=a.valueAsNumber||v&&+v;Lr(q.value)||(T=re>q.value),Lr(B.value)||(I=re<B.value)}else{const re=a.valueAsDate||new Date(v),Q=z=>new Date(new Date().toDateString()+" "+z),L=a.type=="time",G=a.type=="week";un(q.value)&&v&&(T=L?Q(v)>Q(q.value):G?v>q.value:re>new Date(q.value)),un(B.value)&&v&&(I=L?Q(v)<Q(B.value):G?v<B.value:re<new Date(B.value))}if((T||I)&&(N(!!T,q.message,B.message,Oi.max,Oi.min),!n))return w(_[y].message),_}if((u||c)&&!P&&(un(v)||s&&Array.isArray(v))){const T=Bo(u),I=Bo(c),q=!Lr(T.value)&&v.length>+T.value,B=!Lr(I.value)&&v.length<+I.value;if((q||B)&&(N(q,T.message,I.message),!n))return w(_[y].message),_}if(p&&!P&&un(v)){const{value:T,message:I}=Bo(p);if(Bf(T)&&!v.match(T)&&(_[y]={type:Oi.pattern,message:I,ref:a,...C(Oi.pattern,I)},!n))return w(I),_}if(m){if(Nr(m)){const T=await m(v,r),I=WR(T,x);if(I&&(_[y]={...I,...C(Oi.validate,I.message)},!n))return w(I.message),_}else if(jt(m)){let T={};for(const I in m){if(!Or(T)&&!n)break;const q=WR(await m[I](v,r),x,I);q&&(T={...q,...C(I,q.message)},w(q.message),n&&(_[y]=T))}if(!Or(T)&&(_[y]={ref:x,...T},!n))return _}}return w(!0),_};const une={mode:Vn.onSubmit,reValidateMode:Vn.onChange,shouldFocusError:!0};function cne(t={}){let e={...une,...t},r={submitCount:0,isDirty:!1,isReady:!1,isLoading:Nr(e.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1},n={},i=jt(e.defaultValues)||jt(e.values)?zt(e.defaultValues||e.values)||{}:{},s=e.shouldUnregister?{}:zt(i),a={action:!1,mount:!1,watch:!1,keepIsValid:!1},o={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},l,u=0;const c={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},h={...c};let f={...h};const p={array:DR(),state:DR()},m=e.criteriaMode===Vn.all,y=$=>D=>{clearTimeout(u),u=setTimeout($,D)},b=async $=>{if(!a.keepIsValid&&!e.disabled&&(h.isValid||f.isValid||$)){let D;e.resolver?(D=Or((await S()).errors),g()):D=await C(n,!0),D!==r.isValid&&p.state.next({isValid:D})}},g=($,D)=>{!e.disabled&&(h.isValidating||h.validatingFields||f.isValidating||f.validatingFields)&&(($||Array.from(o.mount)).forEach(F=>{F&&(D?Je(r.validatingFields,F,D):Nt(r.validatingFields,F))}),p.state.next({validatingFields:r.validatingFields,isValidating:!Or(r.validatingFields)}))},v=($,D=[],F,ae,ne=!0,X=!0)=>{if(ae&&F&&!e.disabled){if(a.action=!0,X&&Array.isArray(oe(n,$))){const de=F(oe(n,$),ae.argA,ae.argB);ne&&Je(n,$,de)}if(X&&Array.isArray(oe(r.errors,$))){const de=F(oe(r.errors,$),ae.argA,ae.argB);ne&&Je(r.errors,$,de),one(r.errors,$)}if((h.touchedFields||f.touchedFields)&&X&&Array.isArray(oe(r.touchedFields,$))){const de=F(oe(r.touchedFields,$),ae.argA,ae.argB);ne&&Je(r.touchedFields,$,de)}(h.dirtyFields||f.dirtyFields)&&(r.dirtyFields=Ho(i,s)),p.state.next({name:$,isDirty:T($,D),dirtyFields:r.dirtyFields,errors:r.errors,isValid:r.isValid})}else Je(s,$,D)},x=($,D)=>{Je(r.errors,$,D),p.state.next({errors:r.errors})},w=$=>{r.errors=$,p.state.next({errors:r.errors,isValid:!1})},_=($,D,F,ae)=>{const ne=oe(n,$);if(ne){const X=oe(s,$,St(F)?oe(i,$):F);St(X)||ae&&ae.defaultChecked||D?Je(s,$,D?X:FR(ne._f)):B($,X),a.mount&&!a.action&&b()}},E=($,D,F,ae,ne)=>{let X=!1,de=!1;const k={name:$};if(!e.disabled){if(!F||ae){(h.isDirty||f.isDirty)&&(de=r.isDirty,r.isDirty=k.isDirty=T(),X=de!==k.isDirty);const H=Kn(oe(i,$),D);de=!!oe(r.dirtyFields,$),H?Nt(r.dirtyFields,$):Je(r.dirtyFields,$,!0),k.dirtyFields=r.dirtyFields,X=X||(h.dirtyFields||f.dirtyFields)&&de!==!H}if(F){const H=oe(r.touchedFields,$);H||(Je(r.touchedFields,$,F),k.touchedFields=r.touchedFields,X=X||(h.touchedFields||f.touchedFields)&&H!==F)}X&&ne&&p.state.next(k)}return X?k:{}},O=($,D,F,ae)=>{const ne=oe(r.errors,$),X=(h.isValid||f.isValid)&&ln(D)&&r.isValid!==D;if(e.delayError&&F?(l=y(()=>x($,F)),l(e.delayError)):(clearTimeout(u),l=null,F?Je(r.errors,$,F):Nt(r.errors,$)),(F?!Kn(ne,F):ne)||!Or(ae)||X){const de={...ae,...X&&ln(D)?{isValid:D}:{},errors:r.errors,name:$};r={...r,...de},p.state.next(de)}},S=async $=>(g($,!0),await e.resolver(s,e.context,tne($||o.mount,n,e.criteriaMode,e.shouldUseNativeValidation))),P=async $=>{const{errors:D}=await S($);if(g($),$)for(const F of $){const ae=oe(D,F);ae?Je(r.errors,F,ae):Nt(r.errors,F)}else r.errors=D;return D},C=async($,D,F={valid:!0})=>{for(const ae in $){const ne=$[ae];if(ne){const{_f:X,...de}=ne;if(X){const k=o.array.has(X.name),H=ne._f&&rne(ne._f);H&&h.validatingFields&&g([X.name],!0);const le=await HR(ne,o.disabled,s,m,e.shouldUseNativeValidation&&!D,k);if(H&&h.validatingFields&&g([X.name]),le[X.name]&&(F.valid=!1,D))break;!D&&(oe(le,X.name)?k?lne(r.errors,le,X.name):Je(r.errors,X.name,le[X.name]):Nt(r.errors,X.name))}!Or(de)&&await C(de,D,F)}}return F.valid},N=()=>{for(const $ of o.unMount){const D=oe(n,$);D&&(D._f.refs?D._f.refs.every(F=>!zm(F)):!zm(D._f.ref))&&Ie($)}o.unMount=new Set},T=($,D)=>!e.disabled&&($&&D&&Je(s,$,D),!Kn(U(),i)),I=($,D,F)=>FP($,o,{...a.mount?s:St(D)?i:un($)?{[$]:D}:D},F,D),q=$=>gT(oe(a.mount?s:i,$,e.shouldUnregister?oe(i,$,[]):[])),B=($,D,F={})=>{const ae=oe(n,$);let ne=D;if(ae){const X=ae._f;X&&(!X.disabled&&Je(s,$,fK(D,X)),ne=Lf(X.ref)&&Lr(D)?"":D,cK(X.ref)?[...X.ref.options].forEach(de=>de.selected=ne.includes(de.value)):X.refs?Pd(X.ref)?X.refs.forEach(de=>{(!de.defaultChecked||!de.disabled)&&(Array.isArray(ne)?de.checked=!!ne.find(k=>k===de.value):de.checked=ne===de.value||!!ne)}):X.refs.forEach(de=>de.checked=de.value===ne):xT(X.ref)?X.ref.value="":(X.ref.value=ne,X.ref.type||p.state.next({name:$,values:zt(s)})))}(F.shouldDirty||F.shouldTouch)&&E($,ne,F.shouldTouch,F.shouldDirty,!0),F.shouldValidate&&z($)},re=($,D,F)=>{for(const ae in D){if(!D.hasOwnProperty(ae))return;const ne=D[ae],X=$+"."+ae,de=oe(n,X);(o.array.has($)||jt(ne)||de&&!de._f)&&!Pa(ne)?re(X,ne,F):B(X,ne,F)}},Q=($,D,F={})=>{const ae=oe(n,$),ne=o.array.has($),X=zt(D);Je(s,$,X),ne?(p.array.next({name:$,values:zt(s)}),(h.isDirty||h.dirtyFields||f.isDirty||f.dirtyFields)&&F.shouldDirty&&p.state.next({name:$,dirtyFields:Ho(i,s),isDirty:T($,X)})):ae&&!ae._f&&!Lr(X)?re($,X,F):B($,X,F),zR($,o)&&p.state.next({...r,name:$}),p.state.next({name:a.mount?$:void 0,values:zt(s)})},L=async $=>{a.mount=!0;const D=$.target;let F=D.name,ae=!0;const ne=oe(n,F),X=H=>{ae=Number.isNaN(H)||Pa(H)&&isNaN(H.getTime())||Kn(H,oe(s,F,H))},de=LR(e.mode),k=LR(e.reValidateMode);if(ne){let H,le;const K=D.type?FR(ne._f):sK($),W=$.type===Af.BLUR||$.type===Af.FOCUS_OUT,V=!nne(ne._f)&&!e.resolver&&!oe(r.errors,F)&&!ne._f.deps||ane(W,oe(r.touchedFields,F),r.isSubmitted,k,de),Y=zR(F,o,W);Je(s,F,K),W?(!D||!D.readOnly)&&(ne._f.onBlur&&ne._f.onBlur($),l&&l(0)):ne._f.onChange&&ne._f.onChange($);const pe=E(F,K,W),$e=!Or(pe)||Y;if(!W&&p.state.next({name:F,type:$.type,values:zt(s)}),V)return(h.isValid||f.isValid)&&(e.mode==="onBlur"?W&&b():W||b()),$e&&p.state.next({name:F,...Y?{}:pe});if(!W&&Y&&p.state.next({...r}),e.resolver){const{errors:Vt}=await S([F]);if(g([F]),X(K),ae){const _r=UR(r.errors,n,F),ii=UR(Vt,n,_r.name||F);H=ii.error,F=ii.name,le=Or(Vt)}}else g([F],!0),H=(await HR(ne,o.disabled,s,m,e.shouldUseNativeValidation))[F],g([F]),X(K),ae&&(H?le=!1:(h.isValid||f.isValid)&&(le=await C(n,!0)));ae&&(ne._f.deps&&(!Array.isArray(ne._f.deps)||ne._f.deps.length>0)&&z(ne._f.deps),O(F,le,H,pe))}},G=($,D)=>{if(oe(r.errors,D)&&$.focus)return $.focus(),1},z=async($,D={})=>{let F,ae;const ne=yc($);if(e.resolver){const X=await P(St($)?$:ne);F=Or(X),ae=$?!ne.some(de=>oe(X,de)):F}else $?(ae=(await Promise.all(ne.map(async X=>{const de=oe(n,X);return await C(de&&de._f?{[X]:de}:de)}))).every(Boolean),!(!ae&&!r.isValid)&&b()):ae=F=await C(n);return p.state.next({...!un($)||(h.isValid||f.isValid)&&F!==r.isValid?{}:{name:$},...e.resolver||!$?{isValid:F}:{},errors:r.errors}),D.shouldFocus&&!ae&&bc(n,G,$?ne:o.mount),ae},U=($,D)=>{let F={...a.mount?s:i};return D&&(F=uK(D.dirtyFields?r.dirtyFields:r.touchedFields,F)),St($)?F:un($)?oe(F,$):$.map(ae=>oe(F,ae))},te=($,D)=>({invalid:!!oe((D||r).errors,$),isDirty:!!oe((D||r).dirtyFields,$),error:oe((D||r).errors,$),isValidating:!!oe(r.validatingFields,$),isTouched:!!oe((D||r).touchedFields,$)}),fe=$=>{$&&yc($).forEach(D=>Nt(r.errors,D)),p.state.next({errors:$?r.errors:{}})},ge=($,D,F)=>{const ae=(oe(n,$,{_f:{}})._f||{}).ref,ne=oe(r.errors,$)||{},{ref:X,message:de,type:k,...H}=ne;Je(r.errors,$,{...H,...D,ref:ae}),p.state.next({name:$,errors:r.errors,isValid:!1}),F&&F.shouldFocus&&ae&&ae.focus&&ae.focus()},ke=($,D)=>Nr($)?p.state.subscribe({next:F=>"values"in F&&$(I(void 0,D),F)}):I($,D,!0),be=$=>p.state.subscribe({next:D=>{sne($.name,D.name,$.exact)&&ine(D,$.formState||h,Bt,$.reRenderRoot)&&$.callback({values:{...s},...r,...D,defaultValues:i})}}).unsubscribe,xe=$=>(a.mount=!0,f={...f,...$.formState},be({...$,formState:{...c,...$.formState}})),Ie=($,D={})=>{for(const F of $?yc($):o.mount)o.mount.delete(F),o.array.delete(F),D.keepValue||(Nt(n,F),Nt(s,F)),!D.keepError&&Nt(r.errors,F),!D.keepDirty&&Nt(r.dirtyFields,F),!D.keepTouched&&Nt(r.touchedFields,F),!D.keepIsValidating&&Nt(r.validatingFields,F),!e.shouldUnregister&&!D.keepDefaultValue&&Nt(i,F);p.state.next({values:zt(s)}),p.state.next({...r,...D.keepDirty?{isDirty:T()}:{}}),!D.keepIsValid&&b()},gt=({disabled:$,name:D})=>{(ln($)&&a.mount||$||o.disabled.has(D))&&($?o.disabled.add(D):o.disabled.delete(D))},nt=($,D={})=>{let F=oe(n,$);const ae=ln(D.disabled)||ln(e.disabled);return Je(n,$,{...F||{},_f:{...F&&F._f?F._f:{ref:{name:$}},name:$,mount:!0,...D}}),o.mount.add($),F?gt({disabled:ln(D.disabled)?D.disabled:e.disabled,name:$}):_($,!0,D.value),{...ae?{disabled:D.disabled||e.disabled}:{},...e.progressive?{required:!!D.required,min:Xu(D.min),max:Xu(D.max),minLength:Xu(D.minLength),maxLength:Xu(D.maxLength),pattern:Xu(D.pattern)}:{},name:$,onChange:L,onBlur:L,ref:ne=>{if(ne){nt($,D),F=oe(n,$);const X=St(ne.value)&&ne.querySelectorAll&&ne.querySelectorAll("input,select,textarea")[0]||ne,de=Xre(X),k=F._f.refs||[];if(de?k.find(H=>H===X):X===F._f.ref)return;Je(n,$,{_f:{...F._f,...de?{refs:[...k.filter(zm),X,...Array.isArray(oe(i,$))?[{}]:[]],ref:{type:X.type,name:$}}:{ref:X}}}),_($,!1,void 0,X)}else F=oe(n,$,{}),F._f&&(F._f.mount=!1),(e.shouldUnregister||D.shouldUnregister)&&!(aK(o.array,$)&&a.action)&&o.unMount.add($)}}},yt=()=>e.shouldFocusError&&bc(n,G,o.mount),xr=$=>{ln($)&&(p.state.next({disabled:$}),bc(n,(D,F)=>{const ae=oe(n,F);ae&&(D.disabled=ae._f.disabled||$,Array.isArray(ae._f.refs)&&ae._f.refs.forEach(ne=>{ne.disabled=ae._f.disabled||$}))},0,!1))},Qe=($,D)=>async F=>{let ae;F&&(F.preventDefault&&F.preventDefault(),F.persist&&F.persist());let ne=zt(s);if(p.state.next({isSubmitting:!0}),e.resolver){const{errors:X,values:de}=await S();g(),r.errors=X,ne=zt(de)}else await C(n);if(o.disabled.size)for(const X of o.disabled)Nt(ne,X);if(Nt(r.errors,"root"),Or(r.errors)){p.state.next({errors:{}});try{await $(ne,F)}catch(X){ae=X}}else D&&await D({...r.errors},F),yt(),setTimeout(yt);if(p.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:Or(r.errors)&&!ae,submitCount:r.submitCount+1,errors:r.errors}),ae)throw ae},it=($,D={})=>{oe(n,$)&&(St(D.defaultValue)?Q($,zt(oe(i,$))):(Q($,D.defaultValue),Je(i,$,zt(D.defaultValue))),D.keepTouched||Nt(r.touchedFields,$),D.keepDirty||(Nt(r.dirtyFields,$),r.isDirty=D.defaultValue?T($,zt(oe(i,$))):T()),D.keepError||(Nt(r.errors,$),h.isValid&&b()),p.state.next({...r}))},yn=($,D={})=>{const F=$?zt($):i,ae=zt(F),ne=Or($),X=ne?i:ae;if(D.keepDefaultValues||(i=F),!D.keepValues){if(D.keepDirtyValues){const de=new Set([...o.mount,...Object.keys(Ho(i,s))]);for(const k of Array.from(de))oe(r.dirtyFields,k)?Je(X,k,oe(s,k)):Q(k,oe(X,k))}else{if(vT&&St($))for(const de of o.mount){const k=oe(n,de);if(k&&k._f){const H=Array.isArray(k._f.refs)?k._f.refs[0]:k._f.ref;if(Lf(H)){const le=H.closest("form");if(le){le.reset();break}}}}if(D.keepFieldsRef)for(const de of o.mount)Q(de,oe(X,de));else n={}}s=e.shouldUnregister?D.keepDefaultValues?zt(i):{}:zt(X),p.array.next({values:{...X}}),p.state.next({values:{...X}})}o={mount:D.keepDirtyValues?o.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},a.mount=!h.isValid||!!D.keepIsValid||!!D.keepDirtyValues||!e.shouldUnregister&&!Or(X),a.watch=!!e.shouldUnregister,a.keepIsValid=!!D.keepIsValid,a.action=!1,D.keepErrors||(r.errors={}),p.state.next({submitCount:D.keepSubmitCount?r.submitCount:0,isDirty:ne?!1:D.keepDirty?r.isDirty:!!(D.keepDefaultValues&&!Kn($,i)),isSubmitted:D.keepIsSubmitted?r.isSubmitted:!1,dirtyFields:ne?{}:D.keepDirtyValues?D.keepDefaultValues&&s?Ho(i,s):r.dirtyFields:D.keepDefaultValues&&$?Ho(i,$):D.keepDirty?r.dirtyFields:{},touchedFields:D.keepTouched?r.touchedFields:{},errors:D.keepErrors?r.errors:{},isSubmitSuccessful:D.keepIsSubmitSuccessful?r.isSubmitSuccessful:!1,isSubmitting:!1,defaultValues:i})},Mr=($,D)=>yn(Nr($)?$(s):$,{...e.resetOptions,...D}),Ke=($,D={})=>{const F=oe(n,$),ae=F&&F._f;if(ae){const ne=ae.refs?ae.refs[0]:ae.ref;ne.focus&&setTimeout(()=>{ne.focus(),D.shouldSelect&&Nr(ne.select)&&ne.select()})}},Bt=$=>{r={...r,...$}},sn={control:{register:nt,unregister:Ie,getFieldState:te,handleSubmit:Qe,setError:ge,_subscribe:be,_runSchema:S,_updateIsValidating:g,_focusError:yt,_getWatch:I,_getDirty:T,_setValid:b,_setFieldArray:v,_setDisabledField:gt,_setErrors:w,_getFieldArray:q,_reset:yn,_resetDefaultValues:()=>Nr(e.defaultValues)&&e.defaultValues().then($=>{Mr($,e.resetOptions),p.state.next({isLoading:!1})}),_removeUnmounted:N,_disableForm:xr,_subjects:p,_proxyFormState:h,get _fields(){return n},get _formValues(){return s},get _state(){return a},set _state($){a=$},get _defaultValues(){return i},get _names(){return o},set _names($){o=$},get _formState(){return r},get _options(){return e},set _options($){e={...e,...$}}},subscribe:xe,trigger:z,register:nt,handleSubmit:Qe,watch:ke,setValue:Q,getValues:U,reset:Mr,resetField:it,clearErrors:fe,unregister:Ie,setError:ge,setFocus:Ke,getFieldState:te};return{...sn,formControl:sn}}function hu(t={}){const e=Ce.useRef(void 0),r=Ce.useRef(void 0),[n,i]=Ce.useState({isDirty:!1,isValidating:!1,isLoading:Nr(t.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1,isReady:!1,defaultValues:Nr(t.defaultValues)?void 0:t.defaultValues});if(!e.current)if(t.formControl)e.current={...t.formControl,formState:n},t.defaultValues&&!Nr(t.defaultValues)&&t.formControl.reset(t.defaultValues,t.resetOptions);else{const{formControl:a,...o}=cne(t);e.current={...o,formState:n}}const s=e.current.control;return s._options=t,wT(()=>{const a=s._subscribe({formState:s._proxyFormState,callback:()=>i({...s._formState}),reRenderRoot:!0});return i(o=>({...o,isReady:!0})),s._formState.isReady=!0,a},[s]),Ce.useEffect(()=>s._disableForm(t.disabled),[s,t.disabled]),Ce.useEffect(()=>{t.mode&&(s._options.mode=t.mode),t.reValidateMode&&(s._options.reValidateMode=t.reValidateMode)},[s,t.mode,t.reValidateMode]),Ce.useEffect(()=>{t.errors&&(s._setErrors(t.errors),s._focusError())},[s,t.errors]),Ce.useEffect(()=>{t.shouldUnregister&&s._subjects.state.next({values:s._getWatch()})},[s,t.shouldUnregister]),Ce.useEffect(()=>{if(s._proxyFormState.isDirty){const a=s._getDirty();a!==n.isDirty&&s._subjects.state.next({isDirty:a})}},[s,n.isDirty]),Ce.useEffect(()=>{var a;t.values&&!Kn(t.values,r.current)?(s._reset(t.values,{keepFieldsRef:!0,...s._options.resetOptions}),!((a=s._options.resetOptions)===null||a===void 0)&&a.keepIsValid||s._setValid(),r.current=t.values,i(o=>({...o}))):s._resetDefaultValues()},[s,t.values]),Ce.useEffect(()=>{s._state.mount||(s._setValid(),s._state.mount=!0),s._state.watch&&(s._state.watch=!1,s._subjects.state.next({...s._formState})),s._removeUnmounted()}),e.current.formState=lK(n,s),e.current}function VR(){var y;const{id:t}=ns(),e=Zr(),r=!!t,{data:n,isLoading:i}=du(t),s=Are(),a=Od(),{data:o=[]}=ft({queryKey:["date-types"],queryFn:async()=>(await Le.getDateTypes()).data}),l=o.find(b=>b.slug==="birthday"||b.name.toLowerCase()==="birthday"),{register:u,handleSubmit:c,reset:h,formState:{errors:f,isSubmitting:p}}=hu({defaultValues:{first_name:"",last_name:"",nickname:"",gender:"",email:"",how_we_met:"",is_favorite:!1,birthday:""}});j.useEffect(()=>{var b,g,v,x,w,_,E,O;if(n){const S=(g=(b=n.acf)==null?void 0:b.contact_info)==null?void 0:g.find(C=>C.contact_type==="email"),P=(S==null?void 0:S.contact_value)||"";h({first_name:((v=n.acf)==null?void 0:v.first_name)||"",last_name:((x=n.acf)==null?void 0:x.last_name)||"",nickname:((w=n.acf)==null?void 0:w.nickname)||"",gender:((_=n.acf)==null?void 0:_.gender)||"",email:P,how_we_met:((E=n.acf)==null?void 0:E.how_we_met)||"",is_favorite:((O=n.acf)==null?void 0:O.is_favorite)||!1,birthday:""})}},[n,h]),ei(r&&n?`Edit ${((y=n.title)==null?void 0:y.rendered)||n.title||"Person"}`:"New Person");const m=async b=>{try{const v=`${b.first_name||""} ${b.last_name||""}`.trim()||"Unnamed Person",x={title:v,status:"publish",acf:{first_name:b.first_name,last_name:b.last_name,nickname:b.nickname,gender:b.gender||"",how_we_met:b.how_we_met,is_favorite:b.is_favorite}};if(!r&&b.email&&(x.acf.contact_info=[{contact_type:"email",contact_value:b.email,contact_label:""}]),r)x.title=v,await a.mutateAsync({id:t,data:x}),e(`/people/${t}`);else{const _=(await s.mutateAsync(x)).data.id;if(b.email)try{await Qr.sideloadGravatar(_,b.email)}catch(E){console.error("Failed to load Gravatar:",E)}if(b.birthday&&l)try{const E=b.first_name||"Person";await Le.createDate({title:`${E}'s Birthday`,status:"publish",date_type:[l.id],acf:{date_value:b.birthday,is_recurring:!0,related_people:[_],reminder_days_before:7}})}catch(E){console.error("Failed to create birthday:",E)}e(`/people/${_}`)}}catch(g){console.error("Failed to save person:",g)}};return r&&i?d.jsx("div",{className:"flex items-center justify-center h-64",children:d.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"})}):d.jsxs("div",{className:"max-w-2xl mx-auto space-y-6",children:[d.jsx("div",{className:"flex items-center justify-between",children:d.jsxs(ve,{to:"/people",className:"flex items-center text-gray-600 hover:text-gray-900",children:[d.jsx(is,{className:"w-4 h-4 mr-2"}),"Back to People"]})}),d.jsxs("div",{className:"card p-6",children:[d.jsx("h1",{className:"text-xl font-bold mb-6",children:r?"Edit Person":"Add New Person"}),d.jsxs("form",{onSubmit:c(m),className:"space-y-6",children:[d.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"label",children:"First Name *"}),d.jsx("input",{...u("first_name",{required:"First name is required"}),className:"input",placeholder:"John"}),f.first_name&&d.jsx("p",{className:"text-sm text-red-600 mt-1",children:f.first_name.message})]}),d.jsxs("div",{children:[d.jsx("label",{className:"label",children:"Last Name"}),d.jsx("input",{...u("last_name"),className:"input",placeholder:"Doe"})]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"label",children:"Nickname"}),d.jsx("input",{...u("nickname"),className:"input",placeholder:"Johnny"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"label",children:"Gender"}),d.jsxs("select",{...u("gender"),className:"input",children:[d.jsx("option",{value:"",children:"Select gender..."}),d.jsx("option",{value:"male",children:"Male"}),d.jsx("option",{value:"female",children:"Female"}),d.jsx("option",{value:"non_binary",children:"Non-binary"}),d.jsx("option",{value:"other",children:"Other"}),d.jsx("option",{value:"prefer_not_to_say",children:"Prefer not to say"})]})]}),!r&&d.jsxs("div",{children:[d.jsx("label",{className:"label",children:"Email"}),d.jsx("input",{type:"email",...u("email"),className:"input",placeholder:"john@example.com"}),d.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Optional: If a Gravatar is associated with this email, it will be automatically set as the profile photo"})]}),!r&&d.jsxs("div",{children:[d.jsx("label",{className:"label",children:"Birthday"}),d.jsx("input",{type:"date",...u("birthday"),className:"input"}),d.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Optional: Set their birthday when creating a new person"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"label",children:"How We Met"}),d.jsx("textarea",{...u("how_we_met"),className:"input",rows:4,placeholder:"We met at..."})]}),d.jsxs("div",{className:"flex items-center",children:[d.jsx("input",{type:"checkbox",...u("is_favorite"),className:"w-4 h-4 rounded border-gray-300 text-primary-600 focus:ring-primary-500"}),d.jsx("label",{className:"ml-2 text-sm text-gray-700",children:"Mark as favorite"})]}),d.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t",children:[d.jsx(ve,{to:"/people",className:"btn-secondary",children:"Cancel"}),d.jsxs("button",{type:"submit",className:"btn-primary",disabled:p,children:[p?d.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}):d.jsx(ea,{className:"w-4 h-4 mr-2"}),r?"Save Changes":"Create Person"]})]})]})]})]})}function dne({value:t,onChange:e,companies:r,isLoading:n}){return d.jsxs("select",{value:t||"",onChange:i=>e(i.target.value?parseInt(i.target.value,10):null),className:"input",disabled:n,children:[d.jsx("option",{value:"",children:"Select a company..."}),r.map(i=>{var s;return d.jsx("option",{value:i.id,children:((s=i.title)==null?void 0:s.rendered)||i.title},i.id)})]})}function KR(){var v,x;const{personId:t,index:e}=ns(),r=Zr();dr();const n=parseInt(e,10),i=!isNaN(n),{data:s,isLoading:a}=du(t),o=Od(),{data:l=[],isLoading:u}=ft({queryKey:["companies","all"],queryFn:async()=>(await Le.getCompanies({per_page:100,orderby:"title",order:"asc"})).data}),{register:c,handleSubmit:h,reset:f,watch:p,control:m,formState:{errors:y,isSubmitting:b}}=hu({defaultValues:{company:null,job_title:"",description:"",start_date:"",end_date:"",is_current:!1}});j.useEffect(()=>{var w;if(s&&i){const E=(((w=s.acf)==null?void 0:w.work_history)||[])[n];E&&f({company:E.company||null,job_title:E.job_title||"",description:E.description||"",start_date:E.start_date||"",end_date:E.end_date||"",is_current:E.is_current||!1})}},[s,n,i,f]),ei(i?`Edit Work History - ${((v=s==null?void 0:s.title)==null?void 0:v.rendered)||(s==null?void 0:s.title)||"Person"}`:`Add Work History - ${((x=s==null?void 0:s.title)==null?void 0:x.rendered)||(s==null?void 0:s.title)||"Person"}`);const g=async w=>{var _,E,O;try{const S=[...((_=s.acf)==null?void 0:_.work_history)||[]],P={company:w.company||null,job_title:w.job_title||"",description:w.description||"",start_date:w.start_date||"",end_date:w.end_date||"",is_current:w.is_current||!1};i?S[n]=P:S.push(P);const C={...s.acf,work_history:S,contact_info:Array.isArray((E=s.acf)==null?void 0:E.contact_info)?s.acf.contact_info:[],relationships:Array.isArray((O=s.acf)==null?void 0:O.relationships)?s.acf.relationships:[]};await o.mutateAsync({id:t,data:{acf:C}}),r(`/people/${t}`)}catch(S){console.error("Failed to save work history:",S)}};return p("is_current"),a?d.jsx("div",{className:"flex items-center justify-center h-64",children:d.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"})}):s?d.jsxs("div",{className:"max-w-2xl mx-auto space-y-6",children:[d.jsx("div",{className:"flex items-center justify-between",children:d.jsxs(ve,{to:`/people/${t}`,className:"flex items-center text-gray-600 hover:text-gray-900",children:[d.jsx(is,{className:"w-4 h-4 mr-2"}),"Back to Person"]})}),d.jsxs("div",{className:"card p-6",children:[d.jsx("h1",{className:"text-xl font-bold mb-6",children:i?"Edit Work History":"Add Work History"}),d.jsxs("form",{onSubmit:h(g),className:"space-y-6",children:[d.jsxs("div",{children:[d.jsx("label",{className:"label",children:"Company"}),d.jsx(Ff,{name:"company",control:m,render:({field:w})=>d.jsx(dne,{value:w.value,onChange:w.onChange,companies:l,isLoading:u})})]}),d.jsxs("div",{children:[d.jsx("label",{className:"label",children:"Job Title"}),d.jsx("input",{...c("job_title"),className:"input",placeholder:"e.g., Software Engineer"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"label",children:"Description"}),d.jsx("textarea",{...c("description"),className:"input",rows:4,placeholder:"Job description, responsibilities, achievements..."})]}),d.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"label",children:"Start Date"}),d.jsx("input",{type:"date",...c("start_date"),className:"input"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"label",children:"End Date"}),d.jsx("input",{type:"date",...c("end_date"),className:"input"}),d.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Optional: Set a future end date to automatically mark as former when it passes"})]})]}),d.jsxs("div",{className:"flex items-center",children:[d.jsx("input",{type:"checkbox",...c("is_current"),className:"w-4 h-4 rounded border-gray-300 text-primary-600 focus:ring-primary-500"}),d.jsx("label",{className:"ml-2 text-sm text-gray-700",children:"Currently works here"})]}),d.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t",children:[d.jsx(ve,{to:`/people/${t}`,className:"btn-secondary",children:"Cancel"}),d.jsxs("button",{type:"submit",className:"btn-primary",disabled:b,children:[b?d.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}):d.jsx(ea,{className:"w-4 h-4 mr-2"}),i?"Save Changes":"Add Work History"]})]})]})]})]}):d.jsxs("div",{className:"card p-6 text-center",children:[d.jsx("p",{className:"text-red-600",children:"Failed to load person."}),d.jsx(ve,{to:"/people",className:"btn-secondary mt-4",children:"Back to People"})]})}const hne=[{value:"email",label:"Email"},{value:"phone",label:"Phone"},{value:"mobile",label:"Mobile"},{value:"address",label:"Address"},{value:"website",label:"Website"},{value:"linkedin",label:"LinkedIn"},{value:"twitter",label:"Twitter"},{value:"instagram",label:"Instagram"},{value:"facebook",label:"Facebook"},{value:"other",label:"Other"}];function GR(){var m,y;const{personId:t,index:e}=ns(),r=Zr(),n=parseInt(e,10),i=!isNaN(n),{data:s,isLoading:a}=du(t),o=Od(),{register:l,handleSubmit:u,reset:c,formState:{errors:h,isSubmitting:f}}=hu({defaultValues:{contact_type:"",contact_label:"",contact_value:""}});j.useEffect(()=>{var b;if(s&&i){const v=(((b=s.acf)==null?void 0:b.contact_info)||[])[n];v&&c({contact_type:v.contact_type||"",contact_label:v.contact_label||"",contact_value:v.contact_value||""})}},[s,n,i,c]),ei(i?`Edit Contact Detail - ${((m=s==null?void 0:s.title)==null?void 0:m.rendered)||(s==null?void 0:s.title)||"Person"}`:`Add Contact Detail - ${((y=s==null?void 0:s.title)==null?void 0:y.rendered)||(s==null?void 0:s.title)||"Person"}`);const p=async b=>{var g,v,x;try{const w=[...((g=s.acf)==null?void 0:g.contact_info)||[]],_={contact_type:b.contact_type||"",contact_label:b.contact_label||"",contact_value:b.contact_value||""};i?w[n]=_:w.push(_);const E={...s.acf,contact_info:w,work_history:Array.isArray((v=s.acf)==null?void 0:v.work_history)?s.acf.work_history:[],relationships:Array.isArray((x=s.acf)==null?void 0:x.relationships)?s.acf.relationships:[]};await o.mutateAsync({id:t,data:{acf:E}}),r(`/people/${t}`)}catch(w){console.error("Failed to save contact detail:",w)}};return a?d.jsx("div",{className:"flex items-center justify-center h-64",children:d.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"})}):s?d.jsxs("div",{className:"max-w-2xl mx-auto space-y-6",children:[d.jsx("div",{className:"flex items-center justify-between",children:d.jsxs(ve,{to:`/people/${t}`,className:"flex items-center text-gray-600 hover:text-gray-900",children:[d.jsx(is,{className:"w-4 h-4 mr-2"}),"Back to Person"]})}),d.jsxs("div",{className:"card p-6",children:[d.jsx("h1",{className:"text-xl font-bold mb-6",children:i?"Edit Contact Detail":"Add Contact Detail"}),d.jsxs("form",{onSubmit:u(p),className:"space-y-6",children:[d.jsxs("div",{children:[d.jsx("label",{className:"label",children:"Contact Type *"}),d.jsxs("select",{...l("contact_type",{required:"Please select a contact type"}),className:"input",children:[d.jsx("option",{value:"",children:"Select a type..."}),hne.map(b=>d.jsx("option",{value:b.value,children:b.label},b.value))]}),h.contact_type&&d.jsx("p",{className:"text-sm text-red-600 mt-1",children:h.contact_type.message})]}),d.jsxs("div",{children:[d.jsx("label",{className:"label",children:"Label"}),d.jsx("input",{...l("contact_label"),className:"input",placeholder:"e.g., Work, Personal, Home"}),d.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Optional: Add a label to distinguish multiple entries of the same type"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"label",children:"Value *"}),d.jsx("input",{...l("contact_value",{required:"Please enter a contact value"}),className:"input",placeholder:"e.g., john@example.com, +1 234 567 8900"}),h.contact_value&&d.jsx("p",{className:"text-sm text-red-600 mt-1",children:h.contact_value.message})]}),d.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t",children:[d.jsx(ve,{to:`/people/${t}`,className:"btn-secondary",children:"Cancel"}),d.jsxs("button",{type:"submit",className:"btn-primary",disabled:f,children:[f?d.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}):d.jsx(ea,{className:"w-4 h-4 mr-2"}),i?"Save Changes":"Add Contact Detail"]})]})]})]})]}):d.jsxs("div",{className:"card p-6 text-center",children:[d.jsx("p",{className:"text-red-600",children:"Failed to load person."}),d.jsx(ve,{to:"/people",className:"btn-secondary mt-4",children:"Back to People"})]})}function fne({value:t,onChange:e,people:r,isLoading:n,excludePersonId:i}){const[s,a]=j.useState(""),[o,l]=j.useState(!1),u=j.useRef(null),c=j.useRef(null),h=j.useMemo(()=>r.filter(v=>v.id!==i).sort((v,x)=>{var E,O;const w=(v.first_name||((E=v.acf)==null?void 0:E.first_name)||"").toLowerCase(),_=(x.first_name||((O=x.acf)==null?void 0:O.first_name)||"").toLowerCase();return w<_?-1:w>_?1:0}),[r,i]),f=j.useMemo(()=>{if(!s)return h.slice(0,10);const g=s.toLowerCase();return h.filter(v=>{var E,O;const x=Ua(v).toLowerCase(),w=(v.first_name||((E=v.acf)==null?void 0:E.first_name)||"").toLowerCase(),_=(v.last_name||((O=v.acf)==null?void 0:O.last_name)||"").toLowerCase();return x.includes(g)||w.includes(g)||_.includes(g)}).slice(0,10)},[h,s]),p=j.useMemo(()=>h.find(g=>g.id===t),[h,t]);j.useEffect(()=>{const g=v=>{c.current&&!c.current.contains(v.target)&&u.current&&!u.current.contains(v.target)&&l(!1)};return document.addEventListener("mousedown",g),()=>document.removeEventListener("mousedown",g)},[]);const m=g=>{e(g),a(""),l(!1)},y=()=>{e(null),a(""),l(!1)},b=p?Ua(p):"";return d.jsxs("div",{className:"relative",children:[d.jsx("div",{className:"relative",children:p&&!o?d.jsxs("div",{className:"flex items-center justify-between input pr-8 cursor-text",onClick:()=>l(!0),children:[d.jsx("span",{children:b}),d.jsx("button",{type:"button",onClick:g=>{g.stopPropagation(),y()},className:"absolute right-2 text-gray-400 hover:text-gray-600",children:d.jsx(ta,{className:"w-4 h-4"})})]}):d.jsx("input",{ref:u,type:"text",value:s,onChange:g=>{a(g.target.value),l(!0)},onFocus:()=>l(!0),placeholder:"Search for a person...",className:"input",disabled:n})}),o&&(s||!p)&&d.jsx("div",{ref:c,className:"absolute z-10 w-full mt-1 bg-white border border-gray-200 rounded-lg shadow-lg max-h-48 overflow-y-auto",children:f.length>0?f.map(g=>d.jsx("button",{type:"button",onClick:()=>m(g.id),className:`w-full text-left px-4 py-2 hover:bg-gray-50 ${t===g.id?"bg-primary-50":""}`,children:Ua(g)},g.id)):d.jsx("p",{className:"px-4 py-2 text-gray-500 text-sm",children:"No people found"})})]})}function YR(){var x,w;const{personId:t,index:e}=ns(),r=Zr(),n=parseInt(e,10),i=!isNaN(n),{data:s,isLoading:a}=du(t),o=Od(),{data:l=[],isLoading:u}=Pp(),{data:c=[],isLoading:h}=ft({queryKey:["relationship-types"],queryFn:async()=>(await Le.getRelationshipTypes()).data}),{register:f,handleSubmit:p,reset:m,control:y,formState:{errors:b,isSubmitting:g}}=hu({defaultValues:{related_person:null,relationship_type:"",relationship_label:""}});j.useEffect(()=>{var _;if(s&&i){const O=(((_=s.acf)==null?void 0:_.relationships)||[])[n];O&&m({related_person:O.related_person||null,relationship_type:O.relationship_type?String(O.relationship_type):"",relationship_label:O.relationship_label||""})}},[s,n,i,m]),ei(i?`Edit Relationship - ${((x=s==null?void 0:s.title)==null?void 0:x.rendered)||(s==null?void 0:s.title)||"Person"}`:`Add Relationship - ${((w=s==null?void 0:s.title)==null?void 0:w.rendered)||(s==null?void 0:s.title)||"Person"}`);const v=async _=>{var E,O,S;try{const P=[...((E=s.acf)==null?void 0:E.relationships)||[]],C={related_person:_.related_person||null,relationship_type:_.relationship_type||null,relationship_label:_.relationship_label||""};i?P[n]=C:P.push(C);const N={...s.acf,relationships:P,contact_info:Array.isArray((O=s.acf)==null?void 0:O.contact_info)?s.acf.contact_info:[],work_history:Array.isArray((S=s.acf)==null?void 0:S.work_history)?s.acf.work_history:[]};await o.mutateAsync({id:t,data:{acf:N}}),r(`/people/${t}`)}catch(P){console.error("Failed to save relationship:",P)}};return a?d.jsx("div",{className:"flex items-center justify-center h-64",children:d.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"})}):s?d.jsxs("div",{className:"max-w-2xl mx-auto space-y-6",children:[d.jsx("div",{className:"flex items-center justify-between",children:d.jsxs(ve,{to:`/people/${t}`,className:"flex items-center text-gray-600 hover:text-gray-900",children:[d.jsx(is,{className:"w-4 h-4 mr-2"}),"Back to Person"]})}),d.jsxs("div",{className:"card p-6",children:[d.jsx("h1",{className:"text-xl font-bold mb-6",children:i?"Edit Relationship":"Add Relationship"}),d.jsxs("form",{onSubmit:p(v),className:"space-y-6",children:[d.jsxs("div",{children:[d.jsx("label",{className:"label",children:"Related Person *"}),d.jsx(Ff,{name:"related_person",control:y,rules:{required:"Please select a person"},render:({field:_})=>d.jsx(fne,{value:_.value,onChange:_.onChange,people:l,isLoading:u,excludePersonId:parseInt(t,10)})}),b.related_person&&d.jsx("p",{className:"text-sm text-red-600 mt-1",children:b.related_person.message})]}),d.jsxs("div",{children:[d.jsx("label",{className:"label",children:"Relationship Type"}),d.jsxs("select",{...f("relationship_type",{setValueAs:_=>_?parseInt(_,10):null}),className:"input",disabled:h,children:[d.jsx("option",{value:"",children:"Select a type..."}),c.map(_=>d.jsx("option",{value:_.id,children:_.name},_.id))]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"label",children:"Custom Label"}),d.jsx("input",{...f("relationship_label"),className:"input",placeholder:"e.g., Brother-in-law"}),d.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Optional: Override the relationship type with a custom label"})]}),d.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t",children:[d.jsx(ve,{to:`/people/${t}`,className:"btn-secondary",children:"Cancel"}),d.jsxs("button",{type:"submit",className:"btn-primary",disabled:g,children:[g?d.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}):d.jsx(ea,{className:"w-4 h-4 mr-2"}),i?"Save Changes":"Add Relationship"]})]})]})]})]}):d.jsxs("div",{className:"card p-6 text-center",children:[d.jsx("p",{className:"text-red-600",children:"Failed to load person."}),d.jsx(ve,{to:"/people",className:"btn-secondary mt-4",children:"Back to People"})]})}function pne({company:t}){var e,r,n,i,s;return d.jsx(ve,{to:`/companies/${t.id}`,className:"card p-4 hover:shadow-md transition-shadow",children:d.jsxs("div",{className:"flex items-start",children:[(n=(r=(e=t._embedded)==null?void 0:e["wp:featuredmedia"])==null?void 0:r[0])!=null&&n.source_url?d.jsx("img",{src:t._embedded["wp:featuredmedia"][0].source_url,alt:Ai(t),className:"w-12 h-12 rounded-lg object-cover"}):d.jsx("div",{className:"w-12 h-12 bg-gray-200 rounded-lg flex items-center justify-center",children:d.jsx(Ji,{className:"w-6 h-6 text-gray-400"})}),d.jsxs("div",{className:"ml-3 flex-1 min-w-0",children:[d.jsx("h3",{className:"text-sm font-medium text-gray-900 truncate",children:Ai(t)}),((i=t.acf)==null?void 0:i.industry)&&d.jsx("p",{className:"text-sm text-gray-500",children:t.acf.industry}),((s=t.acf)==null?void 0:s.website)&&d.jsx("p",{className:"text-xs text-primary-600 truncate",children:t.acf.website})]})]})})}function mne(){const[t,e]=j.useState(""),{data:r,isLoading:n,error:i}=ft({queryKey:["companies",t],queryFn:async()=>(await Le.getCompanies({search:t,per_page:100,_embed:!0})).data}),s=j.useMemo(()=>r?[...r].sort((a,o)=>{var c,h;const l=(((c=a.title)==null?void 0:c.rendered)||a.title||"").toLowerCase(),u=(((h=o.title)==null?void 0:h.rendered)||o.title||"").toLowerCase();return l.localeCompare(u)}):[],[r]);return d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[d.jsxs("div",{className:"relative flex-1 max-w-md",children:[d.jsx(_7,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}),d.jsx("input",{type:"search",placeholder:"Search companies...",value:t,onChange:a=>e(a.target.value),className:"input pl-9"})]}),d.jsxs(ve,{to:"/companies/new",className:"btn-primary",children:[d.jsx(yr,{className:"w-4 h-4 mr-2"}),"Add Company"]})]}),n&&d.jsx("div",{className:"flex items-center justify-center h-64",children:d.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"})}),i&&d.jsx("div",{className:"card p-6 text-center",children:d.jsx("p",{className:"text-red-600",children:"Failed to load companies."})}),!n&&!i&&(s==null?void 0:s.length)===0&&d.jsxs("div",{className:"card p-12 text-center",children:[d.jsx("div",{className:"w-12 h-12 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4",children:d.jsx(Ji,{className:"w-6 h-6 text-gray-400"})}),d.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-1",children:"No companies found"}),d.jsx("p",{className:"text-gray-500 mb-4",children:t?"Try a different search.":"Add your first company."}),!t&&d.jsxs(ve,{to:"/companies/new",className:"btn-primary",children:[d.jsx(yr,{className:"w-4 h-4 mr-2"}),"Add Company"]})]}),!n&&!i&&(s==null?void 0:s.length)>0&&d.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:s.map(a=>d.jsx(pne,{company:a},a.id))})]})}function vne(){var c,h,f,p,m,y;const{id:t}=ns(),e=Zr(),r=dr(),{data:n,isLoading:i,error:s}=ft({queryKey:["company",t],queryFn:async()=>(await Le.getCompany(t,{_embed:!0})).data}),{data:a}=ft({queryKey:["company-people",t],queryFn:async()=>(await Qr.getCompanyPeople(t)).data}),o=$t({mutationFn:()=>Le.deleteCompany(t),onSuccess:()=>{r.invalidateQueries({queryKey:["companies"]}),e("/companies")}});ei(Ai(n)||"Company");const l=()=>{window.confirm("Are you sure you want to delete this company?")&&o.mutate()};if(i)return d.jsx("div",{className:"flex items-center justify-center h-64",children:d.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"})});if(s||!n)return d.jsxs("div",{className:"card p-6 text-center",children:[d.jsx("p",{className:"text-red-600",children:"Failed to load company."}),d.jsx(ve,{to:"/companies",className:"btn-secondary mt-4",children:"Back to Companies"})]});const u=n.acf||{};return d.jsxs("div",{className:"space-y-6",children:[d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs(ve,{to:"/companies",className:"flex items-center text-gray-600 hover:text-gray-900",children:[d.jsx(is,{className:"w-4 h-4 mr-2"}),"Back to Companies"]}),d.jsxs("div",{className:"flex gap-2",children:[d.jsxs(ve,{to:`/companies/${t}/edit`,className:"btn-secondary",children:[d.jsx(O7,{className:"w-4 h-4 mr-2"}),"Edit"]}),d.jsxs("button",{onClick:l,className:"btn-danger",children:[d.jsx(vs,{className:"w-4 h-4 mr-2"}),"Delete"]})]})]}),d.jsx("div",{className:"card p-6",children:d.jsxs("div",{className:"flex items-center gap-4",children:[(f=(h=(c=n._embedded)==null?void 0:c["wp:featuredmedia"])==null?void 0:h[0])!=null&&f.source_url?d.jsx("img",{src:n._embedded["wp:featuredmedia"][0].source_url,alt:Ai(n),className:"w-16 h-16 rounded-lg object-cover"}):d.jsx("div",{className:"w-16 h-16 bg-gray-200 rounded-lg flex items-center justify-center",children:d.jsx(Ji,{className:"w-8 h-8 text-gray-400"})}),d.jsxs("div",{children:[d.jsx("h1",{className:"text-2xl font-bold",children:Ai(n)}),u.industry&&d.jsx("p",{className:"text-gray-500",children:u.industry}),u.website&&d.jsxs("a",{href:u.website,target:"_blank",rel:"noopener noreferrer",className:"text-primary-600 hover:underline flex items-center mt-1",children:[d.jsx(jP,{className:"w-4 h-4 mr-1"}),u.website]})]})]})}),d.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[d.jsxs("div",{className:"card p-6",children:[d.jsxs("h2",{className:"font-semibold mb-4 flex items-center",children:[d.jsx(io,{className:"w-5 h-5 mr-2"}),"Current Employees"]}),((p=a==null?void 0:a.current)==null?void 0:p.length)>0?d.jsx("div",{className:"space-y-2",children:a.current.map(b=>{var g;return d.jsxs(ve,{to:`/people/${b.id}`,className:"flex items-center p-2 rounded hover:bg-gray-50",children:[b.thumbnail?d.jsx("img",{src:b.thumbnail,alt:"",loading:"lazy",className:"w-8 h-8 rounded-full"}):d.jsx("div",{className:"w-8 h-8 bg-gray-200 rounded-full flex items-center justify-center",children:d.jsx("span",{className:"text-xs text-gray-500",children:((g=b.name)==null?void 0:g[0])||"?"})}),d.jsxs("div",{className:"ml-2",children:[d.jsx("p",{className:"text-sm font-medium",children:b.name}),b.job_title&&d.jsx("p",{className:"text-xs text-gray-500",children:b.job_title})]})]},b.id)})}):d.jsx("p",{className:"text-sm text-gray-500",children:"No current employees."})]}),d.jsxs("div",{className:"card p-6",children:[d.jsxs("h2",{className:"font-semibold mb-4 flex items-center",children:[d.jsx(io,{className:"w-5 h-5 mr-2"}),"Former Employees"]}),((m=a==null?void 0:a.former)==null?void 0:m.length)>0?d.jsx("div",{className:"space-y-2",children:a.former.map(b=>{var g;return d.jsxs(ve,{to:`/people/${b.id}`,className:"flex items-center p-2 rounded hover:bg-gray-50",children:[b.thumbnail?d.jsx("img",{src:b.thumbnail,alt:"",loading:"lazy",className:"w-8 h-8 rounded-full opacity-75"}):d.jsx("div",{className:"w-8 h-8 bg-gray-200 rounded-full flex items-center justify-center opacity-75",children:d.jsx("span",{className:"text-xs text-gray-500",children:((g=b.name)==null?void 0:g[0])||"?"})}),d.jsxs("div",{className:"ml-2",children:[d.jsx("p",{className:"text-sm font-medium text-gray-700",children:b.name}),b.job_title&&d.jsx("p",{className:"text-xs text-gray-500",children:b.job_title})]})]},b.id)})}):d.jsx("p",{className:"text-sm text-gray-500",children:"No former employees."})]})]}),((y=u.contact_info)==null?void 0:y.length)>0&&d.jsxs("div",{className:"card p-6",children:[d.jsx("h2",{className:"font-semibold mb-4",children:"Contact Information"}),d.jsx("div",{className:"space-y-3",children:u.contact_info.map((b,g)=>d.jsxs("div",{children:[d.jsxs("span",{className:"text-sm text-gray-500",children:[b.contact_label||b.contact_type,":"]}),d.jsx("span",{className:"ml-2",children:b.contact_value})]},g))})]})]})}function QR(){var v,x,w,_,E,O;const{id:t}=ns(),e=Zr(),r=dr(),n=!!t,{data:i,isLoading:s}=ft({queryKey:["company",t],queryFn:async()=>(await Le.getCompany(t,{_embed:!0})).data,enabled:n}),[a,o]=j.useState(!1),l=j.useRef(null),u=$t({mutationFn:S=>Le.createCompany(S),onSuccess:S=>{r.invalidateQueries({queryKey:["companies"]}),e(`/companies/${S.data.id}`)}}),c=$t({mutationFn:S=>Le.updateCompany(t,S),onSuccess:()=>{r.invalidateQueries({queryKey:["company",t]}),r.invalidateQueries({queryKey:["companies"]}),r.invalidateQueries({queryKey:["people"]}),e(`/companies/${t}`)}}),h=async S=>{var C;const P=(C=S.target.files)==null?void 0:C[0];if(P){if(!P.type.startsWith("image/")){alert("Please select an image file");return}if(P.size>5*1024*1024){alert("Image size must be less than 5MB");return}o(!0);try{await Qr.uploadCompanyLogo(t,P),r.invalidateQueries({queryKey:["company",t]}),r.invalidateQueries({queryKey:["companies"]}),r.invalidateQueries({queryKey:["people"]}),r.refetchQueries({queryKey:["company",t]}),r.refetchQueries({queryKey:["companies"]}),r.refetchQueries({queryKey:["people"]})}catch(N){console.error("Failed to upload logo:",N),alert("Failed to upload logo. Please try again.")}finally{o(!1),l.current&&(l.current.value="")}}},{register:f,handleSubmit:p,reset:m,formState:{errors:y,isSubmitting:b}}=hu();j.useEffect(()=>{var S,P,C;i&&m({title:Gn(((S=i.title)==null?void 0:S.rendered)||""),website:((P=i.acf)==null?void 0:P.website)||"",industry:((C=i.acf)==null?void 0:C.industry)||""})},[i,m]),ei(n&&i?`Edit ${Ai(i)||"Company"}`:"New Company");const g=async S=>{const P={title:S.title,status:"publish",acf:{website:S.website,industry:S.industry}};n?c.mutate(P):u.mutate(P)};return n&&s?d.jsx("div",{className:"flex items-center justify-center h-64",children:d.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"})}):d.jsxs("div",{className:"max-w-2xl mx-auto space-y-6",children:[d.jsx("div",{className:"flex items-center justify-between",children:d.jsxs(ve,{to:"/companies",className:"flex items-center text-gray-600 hover:text-gray-900",children:[d.jsx(is,{className:"w-4 h-4 mr-2"}),"Back to Companies"]})}),d.jsxs("div",{className:"card p-6",children:[d.jsx("h1",{className:"text-xl font-bold mb-6",children:n?"Edit Company":"Add New Company"}),d.jsxs("form",{onSubmit:p(g),className:"space-y-6",children:[n&&d.jsxs("div",{children:[d.jsx("label",{className:"label",children:"Logo"}),d.jsxs("div",{className:"flex items-center gap-4",children:[(w=(x=(v=i==null?void 0:i._embedded)==null?void 0:v["wp:featuredmedia"])==null?void 0:x[0])!=null&&w.source_url?d.jsxs("div",{className:"relative group",children:[d.jsx("img",{src:i._embedded["wp:featuredmedia"][0].source_url,alt:Ai(i)||"Company logo",className:"w-20 h-20 rounded-lg object-cover"}),d.jsx("div",{className:"absolute inset-0 rounded-lg bg-black bg-opacity-0 group-hover:bg-opacity-50 transition-all duration-200 flex items-center justify-center cursor-pointer",onClick:()=>{var S;return(S=l.current)==null?void 0:S.click()},children:a?d.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-white"}):d.jsx(Jh,{className:"w-6 h-6 text-white opacity-0 group-hover:opacity-100 transition-opacity"})})]}):d.jsxs("div",{className:"relative group",children:[d.jsx("div",{className:"w-20 h-20 bg-gray-200 rounded-lg flex items-center justify-center",children:d.jsx(Jh,{className:"w-8 h-8 text-gray-400"})}),d.jsx("div",{className:"absolute inset-0 rounded-lg bg-black bg-opacity-0 group-hover:bg-opacity-50 transition-all duration-200 flex items-center justify-center cursor-pointer",onClick:()=>{var S;return(S=l.current)==null?void 0:S.click()},children:a?d.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-white"}):d.jsx(Jh,{className:"w-6 h-6 text-white opacity-0 group-hover:opacity-100 transition-opacity"})})]}),d.jsxs("div",{children:[d.jsx("button",{type:"button",onClick:()=>{var S;return(S=l.current)==null?void 0:S.click()},className:"btn-secondary text-sm",disabled:a,children:(O=(E=(_=i==null?void 0:i._embedded)==null?void 0:_["wp:featuredmedia"])==null?void 0:E[0])!=null&&O.source_url?"Change Logo":"Upload Logo"}),d.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Click the logo or button to upload a new logo"})]}),d.jsx("input",{ref:l,type:"file",accept:"image/*",onChange:h,className:"hidden",disabled:a})]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"label",children:"Company Name *"}),d.jsx("input",{...f("title",{required:"Company name is required"}),className:"input",placeholder:"Acme Inc."}),y.title&&d.jsx("p",{className:"text-sm text-red-600 mt-1",children:y.title.message})]}),d.jsxs("div",{children:[d.jsx("label",{className:"label",children:"Website"}),d.jsx("input",{...f("website"),type:"url",className:"input",placeholder:"https://example.com"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"label",children:"Industry"}),d.jsx("input",{...f("industry"),className:"input",placeholder:"Technology"})]}),d.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t",children:[d.jsx(ve,{to:"/companies",className:"btn-secondary",children:"Cancel"}),d.jsxs("button",{type:"submit",className:"btn-primary",disabled:b,children:[d.jsx(ea,{className:"w-4 h-4 mr-2"}),n?"Save Changes":"Create Company"]})]})]})]})]})}function gne({person:t,dateType:e}){var r;return d.jsx("div",{className:"flex items-center gap-3 py-2",children:d.jsxs(ve,{to:`/people/${t.id}`,className:"flex items-center gap-3 flex-1 min-w-0 hover:opacity-80",children:[t.thumbnail?d.jsx("img",{src:t.thumbnail,alt:t.name,loading:"lazy",className:"w-10 h-10 rounded-full object-cover flex-shrink-0"}):d.jsx("div",{className:"w-10 h-10 rounded-full bg-gray-200 flex items-center justify-center flex-shrink-0",children:d.jsx("span",{className:"text-sm font-medium text-gray-500",children:(r=t.name)==null?void 0:r[0]})}),d.jsx("span",{className:"font-medium truncate",children:t.name}),d.jsx("span",{className:"text-sm text-gray-500 capitalize flex-shrink-0",children:e})]})})}function yne({dates:t}){const e=t[0],n=e.days_until===0?"bg-green-100 text-green-700":"bg-gray-100 text-gray-600",i=[];return t.forEach(s=>{var o,l;const a=((o=s.date_type)==null?void 0:o[0])||"Date";((l=s.related_people)==null?void 0:l.length)>0?s.related_people.forEach(u=>{i.push({person:u,dateType:a})}):i.push({person:{id:null,name:s.title,thumbnail:null},dateType:a})}),d.jsx("div",{className:"card p-4 break-inside-avoid mb-4",children:d.jsxs("div",{className:"flex items-start gap-4",children:[d.jsx("div",{className:`w-14 h-14 rounded-lg ${n} flex items-center justify-center flex-shrink-0`,children:d.jsx("span",{className:"text-2xl font-bold leading-none",children:hi(new Date(e.next_occurrence),"d")})}),d.jsx("div",{className:"flex-1 min-w-0 divide-y divide-gray-100",children:i.map(({person:s,dateType:a},o)=>d.jsx(gne,{person:s,dateType:a},s.id?`${s.id}-${a}`:`${o}-${a}`))})]})})}function bne(){const{data:t,isLoading:e,error:r}=xte(365),n=(t==null?void 0:t.reduce((s,a)=>{const o=hi(new Date(a.next_occurrence),"yyyy-MM-dd");return s[o]||(s[o]=[]),s[o].push(a),s},{}))||{},i=Object.entries(n).reduce((s,[a,o])=>{const l=hi(new Date(a),"MMMM yyyy");return s[l]||(s[l]=[]),s[l].push(o),s},{});return d.jsxs("div",{className:"space-y-6",children:[d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("p",{className:"text-gray-600",children:[(t==null?void 0:t.length)||0," upcoming dates"]}),d.jsxs(ve,{to:"/dates/new",className:"btn-primary",children:[d.jsx(yr,{className:"w-4 h-4 mr-2"}),"Add Date"]})]}),e&&d.jsx("div",{className:"flex items-center justify-center h-64",children:d.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"})}),r&&d.jsx("div",{className:"card p-6 text-center",children:d.jsx("p",{className:"text-red-600",children:"Failed to load dates."})}),!e&&!r&&(t==null?void 0:t.length)===0&&d.jsxs("div",{className:"card p-12 text-center",children:[d.jsx(no,{className:"w-12 h-12 text-gray-300 mx-auto mb-4"}),d.jsx("h3",{className:"text-lg font-medium mb-1",children:"No important dates"}),d.jsx("p",{className:"text-gray-500 mb-4",children:"Add birthdays, anniversaries, and more."}),d.jsxs(ve,{to:"/dates/new",className:"btn-primary",children:[d.jsx(yr,{className:"w-4 h-4 mr-2"}),"Add Date"]})]}),Object.entries(i).map(([s,a])=>d.jsxs("div",{children:[d.jsx("h2",{className:"text-2xl font-semibold text-gray-700 mb-4",children:s}),d.jsx("div",{className:"columns-1 md:columns-2 lg:columns-3 gap-4",children:a.map(o=>d.jsx(yne,{dates:o},o[0].next_occurrence))})]},s))]})}function wne({value:t=[],onChange:e,people:r=[],isLoading:n}){const[i,s]=j.useState(""),a=j.useMemo(()=>{if(!i)return r.slice(0,10);const c=i.toLowerCase();return r.filter(h=>Ua(h).toLowerCase().includes(c)).slice(0,10)},[r,i]),o=j.useMemo(()=>t.map(c=>r.find(h=>h.id===c)).filter(Boolean),[t,r]),l=c=>{t.includes(c)||e([...t,c]),s("")},u=c=>{e(t.filter(h=>h!==c))};return d.jsxs("div",{className:"space-y-2",children:[o.length>0&&d.jsx("div",{className:"flex flex-wrap gap-2",children:o.map(c=>d.jsxs("span",{className:"inline-flex items-center gap-1 px-3 py-1 bg-primary-100 text-primary-800 rounded-full text-sm",children:[Ua(c),d.jsx("button",{type:"button",onClick:()=>u(c.id),className:"hover:text-primary-600",children:d.jsx(ta,{className:"w-3 h-3"})})]},c.id))}),d.jsxs("div",{className:"relative",children:[d.jsx("input",{type:"text",value:i,onChange:c=>s(c.target.value),placeholder:"Search for people...",className:"input",disabled:n}),i&&d.jsx("div",{className:"absolute z-10 w-full mt-1 bg-white border border-gray-200 rounded-lg shadow-lg max-h-48 overflow-y-auto",children:a.length>0?a.map(c=>d.jsx("button",{type:"button",onClick:()=>l(c.id),disabled:t.includes(c.id),className:`w-full text-left px-4 py-2 hover:bg-gray-50 ${t.includes(c.id)?"opacity-50 cursor-not-allowed":""}`,children:Ua(c)},c.id)):d.jsx("p",{className:"px-4 py-2 text-gray-500 text-sm",children:"No people found"})})]})]})}function XR(){var G;const{id:t}=ns(),[e]=HJ(),r=Zr(),n=dr(),i=!!t,s=e.get("person"),a=e.get("type"),{data:o,isLoading:l}=ft({queryKey:["important-date",t],queryFn:async()=>(await Le.getDate(t)).data,enabled:i}),u=j.useMemo(()=>{var U;if(!((U=o==null?void 0:o.acf)!=null&&U.related_people))return[];const z=o.acf.related_people;return Array.isArray(z)?z.map(te=>parseInt(typeof te=="object"&&te!==null?te.ID||te.id||te.post_id:te,10)).filter(te=>!isNaN(te)&&te>0):[]},[o]),{data:c=[],isLoading:h}=Pp({orderby:"title",order:"asc"}),{data:f=[]}=ft({queryKey:["people","specific",u],queryFn:async()=>{const z=u.map(te=>Le.getPerson(te,{_embed:!0}).then(fe=>fe.data).catch(()=>null));return(await Promise.all(z)).filter(Boolean)},enabled:u.length>0}),p=j.useMemo(()=>{const z=new Map;return c.forEach(U=>z.set(U.id,U)),f.forEach(U=>{var fe,ge,ke,be,xe,Ie,gt,nt,yt,xr,Qe,it,yn,Mr,Ke,Bt;const te={...U,id:U.id,name:Ua(U),first_name:((fe=U.acf)==null?void 0:fe.first_name)||"",last_name:((ge=U.acf)==null?void 0:ge.last_name)||"",is_favorite:((ke=U.acf)==null?void 0:ke.is_favorite)||!1,thumbnail:((Ie=(xe=(be=U._embedded)==null?void 0:be["wp:featuredmedia"])==null?void 0:xe[0])==null?void 0:Ie.source_url)||((it=(Qe=(xr=(yt=(nt=(gt=U._embedded)==null?void 0:gt["wp:featuredmedia"])==null?void 0:nt[0])==null?void 0:yt.media_details)==null?void 0:xr.sizes)==null?void 0:Qe.thumbnail)==null?void 0:it.source_url)||null,labels:((Bt=(Ke=(Mr=(yn=U._embedded)==null?void 0:yn["wp:term"])==null?void 0:Mr.flat())==null?void 0:Ke.filter(nn=>(nn==null?void 0:nn.taxonomy)==="person_label"))==null?void 0:Bt.map(nn=>nn.name))||[]};z.set(te.id,te)}),Array.from(z.values())},[c,f]),{data:m=[]}=ft({queryKey:["date-types"],queryFn:async()=>((await Le.getDateTypes()).data||[]).sort((te,fe)=>{const ge=te.name||"",ke=fe.name||"";return ge.localeCompare(ke)})}),y=$t({mutationFn:z=>Le.createDate(z),onSuccess:()=>{n.invalidateQueries({queryKey:["reminders"]}),r(s?`/people/${s}`:"/dates")}}),b=$t({mutationFn:z=>Le.updateDate(t,z),onSuccess:()=>{n.invalidateQueries({queryKey:["reminders"]}),n.invalidateQueries({queryKey:["important-date",t]}),n.invalidateQueries({queryKey:["people"]});const z=w("related_people");(z==null?void 0:z.length)>0?r(`/people/${z[0]}`):r("/dates")}}),{register:g,handleSubmit:v,reset:x,watch:w,setValue:_,control:E,formState:{errors:O,isSubmitting:S}}=hu({defaultValues:{title:"",date_value:"",date_type:"",related_people:[],is_recurring:!0,reminder_days_before:7}}),P=w("related_people"),C=w("date_type"),N=w("title");j.useEffect(()=>{var te;if((!N||["'s Birthday","Wedding of "].some(fe=>N.endsWith(fe)||N.startsWith(fe)))&&(P==null?void 0:P.length)>0&&C){const fe=m.find(xe=>xe.id===parseInt(C)),ge=(fe==null?void 0:fe.name)||"",ke=((te=fe==null?void 0:fe.slug)==null?void 0:te.toLowerCase())||ge.toLowerCase(),be=P.map(xe=>{var gt,nt,yt;const Ie=p.find(xr=>xr.id===xe);return Ie?Gn(((gt=Ie.acf)==null?void 0:gt.first_name)||((yt=(nt=Ie.title)==null?void 0:nt.rendered)==null?void 0:yt.split(" ")[0])||""):null}).filter(Boolean);if(be.length>0&&ge){let xe;ke==="wedding"?be.length>=2?xe=`Wedding of ${be[0]} & ${be[1]}`:xe=`Wedding of ${be[0]}`:xe=`${be[0]}'s ${ge}`,_("title",xe)}}},[P,C,p,m,_,N]);const[T,I]=j.useState(!1);j.useEffect(()=>{var U,te,fe,ge,ke,be;if(T&&!i)return;const z=u.length===0||f.length>0;if(o&&p.length>0&&z){let xe=[];const Ie=(U=o.acf)==null?void 0:U.related_people;Ie&&(Array.isArray(Ie)?xe=Ie.map(nt=>parseInt(typeof nt=="object"&&nt!==null?nt.ID||nt.id||nt.post_id:nt,10)).filter(nt=>!isNaN(nt)&&nt>0):typeof Ie=="number"&&(xe=[Ie]));let gt="";((te=o.date_type)==null?void 0:te.length)>0&&(gt=o.date_type[0].toString()),x({title:Gn(((fe=o.title)==null?void 0:fe.rendered)||""),date_value:((ge=o.acf)==null?void 0:ge.date_value)||"",date_type:gt,related_people:xe,is_recurring:((ke=o.acf)==null?void 0:ke.is_recurring)??!0,reminder_days_before:((be=o.acf)==null?void 0:be.reminder_days_before)||7}),I(!0)}else if(!i&&p.length>0&&m.length>0){const xe={title:"",date_value:"",date_type:"",related_people:[],is_recurring:!0,reminder_days_before:7};if(s&&(xe.related_people=[parseInt(s)]),a){const Ie=m.find(gt=>gt.slug===a||gt.name.toLowerCase()===a.toLowerCase());Ie&&(xe.date_type=Ie.id.toString())}x(xe),I(!0)}},[o,x,i,s,a,m,p,u,f,T]),ei(i&&o?`Edit ${((G=o.title)==null?void 0:G.rendered)||o.title||"Date"}`:"New Date");const q=async z=>{const U={title:z.title,status:"publish",date_type:z.date_type?[parseInt(z.date_type)]:[],acf:{date_value:z.date_value,related_people:z.related_people,is_recurring:z.is_recurring,reminder_days_before:parseInt(z.reminder_days_before,10)}};i?b.mutate(U):y.mutate(U)};if(i&&l)return d.jsx("div",{className:"flex items-center justify-center h-64",children:d.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"})});const B=w("related_people"),re=i&&(B==null?void 0:B.length)>0?B[0]:s,Q=re?`/people/${re}`:"/dates",L=re?"Back to Person":"Back to Dates";return d.jsxs("div",{className:"max-w-2xl mx-auto space-y-6",children:[d.jsx("div",{className:"flex items-center justify-between",children:d.jsxs(ve,{to:Q,className:"flex items-center text-gray-600 hover:text-gray-900",children:[d.jsx(is,{className:"w-4 h-4 mr-2"}),L]})}),d.jsxs("div",{className:"card p-6",children:[d.jsx("h1",{className:"text-xl font-bold mb-6",children:i?"Edit Date":"Add New Date"}),d.jsxs("form",{onSubmit:v(q),className:"space-y-6",children:[d.jsxs("div",{children:[d.jsx("label",{className:"label",children:"Related People"}),d.jsx(Ff,{name:"related_people",control:E,render:({field:z})=>d.jsx(wne,{value:z.value,onChange:z.onChange,people:p,isLoading:h})})]}),d.jsxs("div",{children:[d.jsx("label",{className:"label",children:"Date Type *"}),d.jsx(Ff,{name:"date_type",control:E,rules:{required:"Please select a date type"},render:({field:z})=>{const U=z.value?String(z.value):"";return d.jsxs("select",{value:U,onChange:te=>{const fe=te.target.value;z.onChange(fe)},onBlur:z.onBlur,name:z.name,ref:z.ref,className:"input",children:[d.jsx("option",{value:"",children:"Select a type..."}),m.map(te=>d.jsx("option",{value:String(te.id),children:te.name},te.id))]})}}),O.date_type&&d.jsx("p",{className:"text-sm text-red-600 mt-1",children:O.date_type.message})]}),d.jsxs("div",{children:[d.jsx("label",{className:"label",children:"Label"}),d.jsx("input",{...g("title"),className:"input",placeholder:"e.g., Mom's Birthday, Wedding Anniversary"}),d.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Auto-generated from person and date type. You can customize it."})]}),d.jsxs("div",{children:[d.jsx("label",{className:"label",children:"Date *"}),d.jsx("input",{...g("date_value",{required:"Date is required"}),type:"date",className:"input"}),O.date_value&&d.jsx("p",{className:"text-sm text-red-600 mt-1",children:O.date_value.message})]}),d.jsxs("div",{className:"flex items-center",children:[d.jsx("input",{type:"checkbox",...g("is_recurring"),className:"w-4 h-4 rounded border-gray-300 text-primary-600 focus:ring-primary-500"}),d.jsx("label",{className:"ml-2 text-sm text-gray-700",children:"Repeats every year"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"label",children:"Remind me"}),d.jsxs("select",{...g("reminder_days_before"),className:"input",children:[d.jsx("option",{value:"0",children:"On the day"}),d.jsx("option",{value:"1",children:"1 day before"}),d.jsx("option",{value:"3",children:"3 days before"}),d.jsx("option",{value:"7",children:"1 week before"}),d.jsx("option",{value:"14",children:"2 weeks before"}),d.jsx("option",{value:"30",children:"1 month before"})]})]}),d.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t",children:[d.jsx(ve,{to:Q,className:"btn-secondary",children:"Cancel"}),d.jsxs("button",{type:"submit",className:"btn-primary",disabled:S,children:[d.jsx(ea,{className:"w-4 h-4 mr-2"}),i?"Save Changes":"Create Date"]})]})]})]})]})}function xne(){const t=window.prmConfig||{},e=t.isAdmin||!1,[r,n]=j.useState(""),[i,s]=j.useState(""),[a,o]=j.useState(!0),[l,u]=j.useState(!1),[c,h]=j.useState(!1);j.useEffect(()=>{(async()=>{try{const y=await we.get("/prm/v1/user/ical-url");n(y.data.url),s(y.data.webcal_url)}catch(y){console.error("Failed to fetch iCal URL:",y)}finally{o(!1)}})()},[]);const f=async()=>{try{await navigator.clipboard.writeText(r),u(!0),setTimeout(()=>u(!1),2e3)}catch(m){console.error("Failed to copy:",m)}},p=async()=>{if(confirm("Are you sure you want to regenerate your calendar URL? Any existing calendar subscriptions will stop working until you update them with the new URL.")){h(!0);try{const m=await we.post("/prm/v1/user/regenerate-ical-token");n(m.data.url),s(m.data.webcal_url)}catch(m){console.error("Failed to regenerate token:",m)}finally{h(!1)}}};return d.jsxs("div",{className:"max-w-2xl mx-auto space-y-6",children:[d.jsxs("div",{className:"card p-6",children:[d.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Calendar Subscription"}),d.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Subscribe to your important dates in any calendar app (Apple Calendar, Google Calendar, Outlook, etc.)"}),a?d.jsxs("div",{className:"animate-pulse",children:[d.jsx("div",{className:"h-10 bg-gray-200 rounded mb-3"}),d.jsx("div",{className:"h-9 bg-gray-200 rounded w-24"})]}):d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"label mb-1",children:"Your Calendar Feed URL"}),d.jsxs("div",{className:"flex gap-2",children:[d.jsx("input",{type:"text",readOnly:!0,value:r,className:"input flex-1 text-sm font-mono bg-gray-50",onClick:m=>m.target.select()}),d.jsx("button",{onClick:f,className:"btn-secondary whitespace-nowrap",title:"Copy URL",children:l?d.jsxs("span",{className:"flex items-center gap-1",children:[d.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),"Copied"]}):d.jsxs("span",{className:"flex items-center gap-1",children:[d.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 5H6a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2v-1M8 5a2 2 0 002 2h2a2 2 0 002-2M8 5a2 2 0 012-2h2a2 2 0 012 2m0 0h2a2 2 0 012 2v3m2 4H10m0 0l3-3m-3 3l3 3"})}),"Copy"]})})]})]}),d.jsxs("div",{className:"flex flex-wrap gap-2",children:[d.jsx("a",{href:i,className:"btn-primary",children:d.jsxs("span",{className:"flex items-center gap-1",children:[d.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})}),"Subscribe in Calendar App"]})}),d.jsx("button",{onClick:p,disabled:c,className:"btn-secondary",children:c?"Regenerating...":"Regenerate URL"})]}),d.jsx("p",{className:"text-xs text-gray-500",children:'Keep this URL private. Anyone with access to it can see your important dates. If you think it has been compromised, click "Regenerate URL" to get a new one.'})]})]}),d.jsxs("div",{className:"card p-6",children:[d.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Data"}),d.jsx("div",{className:"space-y-3",children:d.jsxs(ve,{to:"/settings/import",className:"block p-3 rounded-lg border border-gray-200 hover:bg-gray-50",children:[d.jsx("p",{className:"font-medium",children:"Import Data"}),d.jsx("p",{className:"text-sm text-gray-500",children:"Import contacts from Monica CRM or other sources"})]})})]}),e&&d.jsxs("div",{className:"card p-6",children:[d.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Configuration"}),d.jsx("div",{className:"space-y-3",children:d.jsxs(ve,{to:"/settings/relationship-types",className:"block p-3 rounded-lg border border-gray-200 hover:bg-gray-50",children:[d.jsx("p",{className:"font-medium",children:"Relationship Types"}),d.jsx("p",{className:"text-sm text-gray-500",children:"Manage relationship types and their inverse mappings"})]})})]}),e&&d.jsxs("div",{className:"card p-6",children:[d.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Administration"}),d.jsxs("div",{className:"space-y-3",children:[d.jsxs("a",{href:t.adminUrl,className:"block p-3 rounded-lg border border-gray-200 hover:bg-gray-50",target:"_blank",rel:"noopener noreferrer",children:[d.jsx("p",{className:"font-medium",children:"WordPress Admin"}),d.jsx("p",{className:"text-sm text-gray-500",children:"Manage all settings, users, and content"})]}),d.jsxs("a",{href:t.adminUrl+"edit.php?post_type=person",className:"block p-3 rounded-lg border border-gray-200 hover:bg-gray-50",target:"_blank",rel:"noopener noreferrer",children:[d.jsx("p",{className:"font-medium",children:"Manage People"}),d.jsx("p",{className:"text-sm text-gray-500",children:"Edit people with all ACF fields"})]}),d.jsxs("a",{href:t.adminUrl+"edit.php?post_type=company",className:"block p-3 rounded-lg border border-gray-200 hover:bg-gray-50",target:"_blank",rel:"noopener noreferrer",children:[d.jsx("p",{className:"font-medium",children:"Manage Companies"}),d.jsx("p",{className:"text-sm text-gray-500",children:"Edit companies with all ACF fields"})]}),d.jsxs("a",{href:t.adminUrl+"edit.php?post_type=important_date",className:"block p-3 rounded-lg border border-gray-200 hover:bg-gray-50",target:"_blank",rel:"noopener noreferrer",children:[d.jsx("p",{className:"font-medium",children:"Manage Important Dates"}),d.jsx("p",{className:"text-sm text-gray-500",children:"Edit dates and link people"})]})]})]}),d.jsxs("div",{className:"card p-6",children:[d.jsx("h2",{className:"text-lg font-semibold mb-4",children:"About"}),d.jsxs("p",{className:"text-sm text-gray-600",children:[Kl," v",t.version||"1.0.0",d.jsx("br",{}),"Built with WordPress, React, and Tailwind CSS."]})]})]})}function JR({value:t,onChange:e,relationshipTypes:r,currentTypeId:n=null}){const[i,s]=j.useState(""),[a,o]=j.useState(!1),l=j.useRef(null),u=j.useRef(null),c=j.useMemo(()=>r.sort((b,g)=>{const v=(b.name||"").toLowerCase(),x=(g.name||"").toLowerCase();return v<x?-1:v>x?1:0}),[r]),h=j.useMemo(()=>{if(!i)return c.slice(0,10);const b=i.toLowerCase();return c.filter(g=>(g.name||"").toLowerCase().includes(b)).slice(0,10)},[c,i]),f=j.useMemo(()=>c.find(b=>b.id===parseInt(t,10)),[c,t]);j.useEffect(()=>{const b=g=>{u.current&&!u.current.contains(g.target)&&l.current&&!l.current.contains(g.target)&&o(!1)};return document.addEventListener("mousedown",b),()=>document.removeEventListener("mousedown",b)},[]);const p=b=>{e(b?b.toString():""),s(""),o(!1)},m=()=>{e(""),s(""),o(!1)},y=f?f.name:"";return d.jsxs("div",{className:"relative",children:[d.jsx("div",{className:"relative",children:f&&!a?d.jsxs("div",{className:"flex items-center justify-between input pr-8 cursor-text",onClick:()=>o(!0),children:[d.jsx("span",{children:y}),d.jsx("button",{type:"button",onClick:b=>{b.stopPropagation(),m()},className:"absolute right-2 text-gray-400 hover:text-gray-600",children:d.jsx(ta,{className:"w-4 h-4"})})]}):d.jsx("input",{ref:l,type:"text",value:i,onChange:b=>{s(b.target.value),o(!0)},onFocus:()=>o(!0),placeholder:"Search for a relationship type...",className:"input"})}),a&&(i||!f)&&d.jsx("div",{ref:u,className:"absolute z-10 w-full mt-1 bg-white border border-gray-200 rounded-lg shadow-lg max-h-48 overflow-y-auto",children:h.length>0?d.jsxs(d.Fragment,{children:[d.jsx("button",{type:"button",onClick:()=>p(null),className:`w-full text-left px-4 py-2 hover:bg-gray-50 ${t?"":"bg-primary-50"}`,children:d.jsx("span",{className:"text-gray-500 italic",children:"None (no inverse)"})}),h.map(b=>d.jsx("button",{type:"button",onClick:()=>p(b.id),className:`w-full text-left px-4 py-2 hover:bg-gray-50 ${t===b.id.toString()?"bg-primary-50":""}`,children:b.name},b.id))]}):d.jsx("p",{className:"px-4 py-2 text-gray-500 text-sm",children:"No relationship types found"})})]})}function _ne(){ei("Relationship Types - Settings");const t=dr();if(!((window.prmConfig||{}).isAdmin||!1))return d.jsx("div",{className:"max-w-2xl mx-auto",children:d.jsxs("div",{className:"card p-8 text-center",children:[d.jsx(BZ,{className:"w-16 h-16 mx-auto text-amber-500 mb-4"}),d.jsx("h1",{className:"text-2xl font-bold mb-2",children:"Access Denied"}),d.jsx("p",{className:"text-gray-600 mb-6",children:"You don't have permission to manage relationship types. This feature is only available to administrators."}),d.jsx(ve,{to:"/settings",className:"btn-primary",children:"Back to Settings"})]})});const{data:n=[],isLoading:i}=ft({queryKey:["relationship-types"],queryFn:async()=>(await Le.getRelationshipTypes()).data}),[s,a]=j.useState(null),[o,l]=j.useState(""),[u,c]=j.useState(""),[h,f]=j.useState(""),[p,m]=j.useState(""),[y,b]=j.useState(!1),g=$t({mutationFn:async({id:N,name:T,inverseId:I})=>{const q={name:T};return I&&(q.acf={inverse_relationship_type:parseInt(I,10)}),Le.updateRelationshipType(N,q)},onSuccess:()=>{t.invalidateQueries({queryKey:["relationship-types"]}),a(null),l(""),c("")}}),v=$t({mutationFn:async({name:N,inverseId:T})=>{const I={name:N};return T&&(I.acf={inverse_relationship_type:parseInt(T,10)}),Le.createRelationshipType(I)},onSuccess:()=>{t.invalidateQueries({queryKey:["relationship-types"]}),f(""),m(""),b(!1)}}),x=$t({mutationFn:N=>Le.deleteRelationshipType(N),onSuccess:()=>{t.invalidateQueries({queryKey:["relationship-types"]})}}),w=$t({mutationFn:()=>Le.restoreRelationshipTypeDefaults(),onSuccess:()=>{t.invalidateQueries({queryKey:["relationship-types"]}),alert("Default relationship type configurations have been restored.")},onError:()=>{alert("Failed to restore defaults. Please try again.")}});function _(){return d.jsxs("button",{onClick:()=>{window.confirm("This will restore all default inverse mappings and gender-dependent settings. Continue?")&&w.mutate()},disabled:w.isPending,className:"btn-secondary flex items-center gap-2",title:"Restore default inverse mappings and gender-dependent settings",children:[w.isPending?d.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-gray-600"}):d.jsx(x7,{className:"w-4 h-4"}),"Restore Defaults"]})}const E=N=>{var I;a(N.id),l(N.name);const T=(I=N.acf)==null?void 0:I.inverse_relationship_type;c(T?T.toString():"")},O=()=>{a(null),l(""),c("")},S=()=>{if(!o.trim()){alert("Name is required");return}g.mutate({id:s,name:o.trim(),inverseId:u||null})},P=()=>{if(!h.trim()){alert("Name is required");return}v.mutate({name:h.trim(),inverseId:p||null})},C=(N,T)=>{window.confirm(`Are you sure you want to delete "${T}"? This cannot be undone.`)&&x.mutate(N)};return i?d.jsx("div",{className:"flex items-center justify-center h-64",children:d.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"})}):d.jsx("div",{className:"max-w-4xl mx-auto space-y-6",children:d.jsxs("div",{className:"card p-6",children:[d.jsxs("div",{className:"flex items-center justify-between mb-6",children:[d.jsx("h1",{className:"text-2xl font-bold",children:"Relationship Types"}),d.jsx("div",{className:"flex gap-2",children:!y&&d.jsxs(d.Fragment,{children:[d.jsx(_,{}),d.jsxs("button",{onClick:()=>b(!0),className:"btn-primary flex items-center gap-2",children:[d.jsx(yr,{className:"w-4 h-4"}),"Add Relationship Type"]})]})})]}),y&&d.jsxs("div",{className:"mb-6 p-4 border border-gray-200 rounded-lg bg-gray-50",children:[d.jsx("h3",{className:"font-semibold mb-4",children:"Add New Relationship Type"}),d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"label",children:"Name *"}),d.jsx("input",{type:"text",value:h,onChange:N=>f(N.target.value),className:"input",placeholder:"e.g., Parent, Spouse, Colleague"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"label",children:"Inverse Relationship Type"}),d.jsx(JR,{value:p,onChange:m,relationshipTypes:n}),d.jsx("p",{className:"text-xs text-gray-500 mt-1",children:'Select the inverse relationship type. For example, if this is "Parent", select "Child". If this is "Spouse" or "Acquaintance", select the same type (e.g., "Spouse"  "Spouse").'})]}),d.jsxs("div",{className:"flex gap-2",children:[d.jsxs("button",{onClick:P,disabled:v.isPending,className:"btn-primary flex items-center gap-2",children:[v.isPending?d.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}):d.jsx(ea,{className:"w-4 h-4"}),"Save"]}),d.jsx("button",{onClick:()=>{b(!1),f(""),m("")},className:"btn-secondary",children:"Cancel"})]})]})]}),d.jsx("div",{className:"space-y-2",children:n.length===0?d.jsx("p",{className:"text-gray-500 text-center py-8",children:"No relationship types found."}):n.map(N=>{var re,Q;const T=s===N.id,I=(re=N.acf)==null?void 0:re.inverse_relationship_type,q=typeof I=="object"&&(I!=null&&I.ID)?I.ID:typeof I=="object"&&(I!=null&&I.id)?I.id:I,B=q?n.find(L=>L.id===q):null;return d.jsx("div",{className:"p-4 border border-gray-200 rounded-lg hover:bg-gray-50",children:T?d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"label",children:"Name *"}),d.jsx("input",{type:"text",value:o,onChange:L=>l(L.target.value),className:"input"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"label",children:"Inverse Relationship Type"}),d.jsx(JR,{value:u,onChange:c,relationshipTypes:n,currentTypeId:N.id}),d.jsx("p",{className:"text-xs text-gray-500 mt-1",children:'Select the inverse relationship type. For example, if this is "Parent", select "Child". If this is "Spouse" or "Acquaintance", select the same type (e.g., "Spouse"  "Spouse").'})]}),d.jsxs("div",{className:"flex gap-2",children:[d.jsxs("button",{onClick:S,disabled:g.isPending,className:"btn-primary flex items-center gap-2",children:[g.isPending?d.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}):d.jsx(ea,{className:"w-4 h-4"}),"Save"]}),d.jsxs("button",{onClick:O,className:"btn-secondary flex items-center gap-2",children:[d.jsx(ta,{className:"w-4 h-4"}),"Cancel"]})]})]}):d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{className:"flex-1",children:[d.jsx("div",{className:"font-medium",children:N.name}),B&&d.jsxs("div",{className:"text-sm text-gray-500 mt-1",children:["Inverse: ",d.jsx("span",{className:"font-medium",children:B.name})]}),!B&&((Q=N.acf)==null?void 0:Q.inverse_relationship_type)===null&&d.jsx("div",{className:"text-sm text-gray-400 mt-1 italic",children:"No inverse relationship"})]}),d.jsxs("div",{className:"flex gap-2",children:[d.jsx("button",{onClick:()=>E(N),className:"p-2 text-gray-600 hover:text-primary-600 hover:bg-primary-50 rounded",title:"Edit",children:d.jsx(FZ,{className:"w-4 h-4"})}),d.jsx("button",{onClick:()=>C(N.id,N.name),className:"p-2 text-gray-600 hover:text-red-600 hover:bg-red-50 rounded",title:"Delete",children:d.jsx(vs,{className:"w-4 h-4"})})]})]})},N.id)})})]})})}function Sne(){var g,v,x;const[t,e]=j.useState(null),[r,n]=j.useState(""),[i,s]=j.useState(!1),[a,o]=j.useState(null),l=dr(),u=$t({mutationFn:async w=>{const _=new FormData;return _.append("file",w),(await we.post("/prm/v1/import/monica/validate",_,{headers:{"Content-Type":"multipart/form-data"}})).data},onSuccess:w=>{o(w)},onError:w=>{var _,E;o({valid:!1,error:((E=(_=w.response)==null?void 0:_.data)==null?void 0:E.message)||"Failed to validate file"})}}),c=$t({mutationFn:async({file:w,monicaUrl:_})=>{const E=new FormData;return E.append("file",w),E.append("monica_url",_),(await we.post("/prm/v1/import/monica",E,{headers:{"Content-Type":"multipart/form-data"}})).data},onSuccess:()=>{l.invalidateQueries({queryKey:["people"]}),l.invalidateQueries({queryKey:["companies"]}),l.invalidateQueries({queryKey:["dates"]}),l.invalidateQueries({queryKey:["dashboard"]})}}),h=j.useCallback(w=>{w.preventDefault(),w.stopPropagation(),w.type==="dragenter"||w.type==="dragover"?s(!0):w.type==="dragleave"&&s(!1)},[]),f=j.useCallback(w=>{w.preventDefault(),w.stopPropagation(),s(!1),w.dataTransfer.files&&w.dataTransfer.files[0]&&m(w.dataTransfer.files[0])},[]),p=w=>{w.target.files&&w.target.files[0]&&m(w.target.files[0])},m=w=>{if(!w.name.endsWith(".sql")){o({valid:!1,error:"Please select a SQL file"});return}e(w),o(null),c.reset(),u.mutate(w)},y=()=>{if(!r.trim()){o(w=>({...w,urlError:"Please enter your Monica instance URL"}));return}t&&(a!=null&&a.valid)&&c.mutate({file:t,monicaUrl:r.trim()})},b=()=>{e(null),n(""),o(null),u.reset(),c.reset()};return d.jsxs("div",{className:"space-y-4",children:[d.jsx("h2",{className:"text-lg font-semibold",children:"Import from Monica"}),d.jsx("p",{className:"text-sm text-gray-600",children:"Import contacts, relationships, notes, and photos from a Monica CRM SQL export file. Reimporting the same file will update existing contacts instead of creating duplicates."}),c.isSuccess?d.jsx("div",{className:"rounded-lg border border-green-200 bg-green-50 p-4",children:d.jsxs("div",{className:"flex items-start gap-3",children:[d.jsx(Wl,{className:"h-5 w-5 text-green-600 mt-0.5"}),d.jsxs("div",{className:"flex-1",children:[d.jsx("h3",{className:"font-medium text-green-900",children:"Import Complete"}),d.jsxs("div",{className:"mt-2 text-sm text-green-800 space-y-1",children:[d.jsxs("p",{children:["Contacts imported: ",c.data.stats.contacts_imported]}),d.jsxs("p",{children:["Contacts updated: ",c.data.stats.contacts_updated]}),d.jsxs("p",{children:["Contacts skipped (partial): ",c.data.stats.contacts_skipped]}),d.jsxs("p",{children:["Photos imported: ",c.data.stats.photos_imported]}),d.jsxs("p",{children:["Companies created: ",c.data.stats.companies_created]}),d.jsxs("p",{children:["Relationships created: ",c.data.stats.relationships_created]}),d.jsxs("p",{children:["Important dates created: ",c.data.stats.dates_created]}),d.jsxs("p",{children:["Notes created: ",c.data.stats.notes_created]}),((g=c.data.stats.errors)==null?void 0:g.length)>0&&d.jsxs("div",{className:"mt-2 pt-2 border-t border-green-200",children:[d.jsx("p",{className:"font-medium",children:"Errors:"}),d.jsx("ul",{className:"list-disc list-inside",children:c.data.stats.errors.map((w,_)=>d.jsx("li",{children:w},_))})]})]}),d.jsx("button",{onClick:b,className:"mt-3 text-sm text-green-700 hover:text-green-800 font-medium",children:"Import another file"})]})]})}):d.jsxs(d.Fragment,{children:[d.jsxs("div",{className:`relative rounded-lg border-2 border-dashed p-8 text-center transition-colors ${i?"border-primary-500 bg-primary-50":t?"border-green-300 bg-green-50":"border-gray-300 hover:border-gray-400"}`,onDragEnter:h,onDragLeave:h,onDragOver:h,onDrop:f,children:[d.jsx("input",{type:"file",accept:".sql",onChange:p,className:"absolute inset-0 w-full h-full opacity-0 cursor-pointer"}),u.isPending?d.jsxs("div",{className:"flex flex-col items-center gap-2",children:[d.jsx(Hl,{className:"h-8 w-8 text-primary-600 animate-spin"}),d.jsx("p",{className:"text-gray-600",children:"Validating file..."})]}):t?d.jsxs("div",{className:"flex flex-col items-center gap-2",children:[d.jsx(dT,{className:"h-8 w-8 text-green-600"}),d.jsx("p",{className:"font-medium text-gray-900",children:t.name}),d.jsxs("p",{className:"text-sm text-gray-500",children:[(t.size/1024/1024).toFixed(2)," MB"]})]}):d.jsxs("div",{className:"flex flex-col items-center gap-2",children:[d.jsx(Vl,{className:"h-8 w-8 text-gray-400"}),d.jsx("p",{className:"text-gray-600",children:"Drag and drop your Monica SQL export file here, or click to browse"}),d.jsx("p",{className:"text-sm text-gray-500",children:"Supports SQL export files"})]})]}),a&&d.jsx("div",{className:`rounded-lg border p-4 ${a.valid?"border-green-200 bg-green-50":"border-red-200 bg-red-50"}`,children:a.valid?d.jsxs("div",{className:"flex items-start gap-3",children:[d.jsx(Wl,{className:"h-5 w-5 text-green-600 mt-0.5"}),d.jsxs("div",{className:"flex-1",children:[d.jsx("h3",{className:"font-medium text-green-900",children:"File validated successfully"}),d.jsxs("div",{className:"mt-2 text-sm text-green-800",children:[d.jsxs("p",{children:["Export format: ",a.version]}),d.jsxs("p",{children:["Contacts to import: ",a.summary.contacts]}),d.jsxs("p",{children:["Relationships: ",a.summary.relationships]}),d.jsxs("p",{children:["Notes: ",a.summary.notes]}),d.jsxs("p",{children:["Dates: ",a.summary.reminders]}),d.jsxs("p",{children:["Photos: ",a.summary.photos]}),d.jsxs("p",{children:["Companies: ",a.summary.companies_count]})]})]})]}):d.jsxs("div",{className:"flex items-start gap-3",children:[d.jsx(Ul,{className:"h-5 w-5 text-red-600 mt-0.5"}),d.jsxs("div",{children:[d.jsx("h3",{className:"font-medium text-red-900",children:"Validation failed"}),d.jsx("p",{className:"text-sm text-red-700 mt-1",children:a.error})]})]})}),(a==null?void 0:a.valid)&&d.jsxs("div",{className:"space-y-2",children:[d.jsx("label",{htmlFor:"monica-url",className:"block text-sm font-medium text-gray-700",children:"Monica Instance URL"}),d.jsxs("div",{className:"relative",children:[d.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:d.jsx(jZ,{className:"h-4 w-4 text-gray-400"})}),d.jsx("input",{type:"url",id:"monica-url",value:r,onChange:w=>n(w.target.value),placeholder:"https://your-monica-instance.com",className:`block w-full pl-10 pr-3 py-2 border rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500 ${a.urlError?"border-red-300":"border-gray-300"}`})]}),a.urlError&&d.jsx("p",{className:"text-sm text-red-600",children:a.urlError}),d.jsx("p",{className:"text-xs text-gray-500",children:"Enter the URL of your Monica instance to import photos. Photos will be downloaded from this URL."})]}),(a==null?void 0:a.valid)&&d.jsxs("div",{className:"flex gap-3",children:[d.jsx("button",{onClick:y,disabled:c.isPending,className:"btn-primary flex items-center gap-2",children:c.isPending?d.jsxs(d.Fragment,{children:[d.jsx(Hl,{className:"h-4 w-4 animate-spin"}),"Importing..."]}):d.jsxs(d.Fragment,{children:[d.jsx(Vl,{className:"h-4 w-4"}),"Start Import"]})}),d.jsx("button",{onClick:b,disabled:c.isPending,className:"btn-secondary",children:"Cancel"})]}),c.isError&&d.jsx("div",{className:"rounded-lg border border-red-200 bg-red-50 p-4",children:d.jsxs("div",{className:"flex items-start gap-3",children:[d.jsx(Ul,{className:"h-5 w-5 text-red-600 mt-0.5"}),d.jsxs("div",{children:[d.jsx("h3",{className:"font-medium text-red-900",children:"Import failed"}),d.jsx("p",{className:"text-sm text-red-700 mt-1",children:((x=(v=c.error.response)==null?void 0:v.data)==null?void 0:x.message)||"An error occurred during import"})]})]})})]})]})}function Ene(){var y,b,g;const[t,e]=j.useState(null),[r,n]=j.useState(!1),[i,s]=j.useState(null),a=dr(),o=$t({mutationFn:async v=>{const x=new FormData;return x.append("file",v),(await we.post("/prm/v1/import/vcard/validate",x,{headers:{"Content-Type":"multipart/form-data"}})).data},onSuccess:v=>{s(v)},onError:v=>{var x,w;s({valid:!1,error:((w=(x=v.response)==null?void 0:x.data)==null?void 0:w.message)||"Failed to validate file"})}}),l=$t({mutationFn:async v=>{const x=new FormData;return x.append("file",v),(await we.post("/prm/v1/import/vcard",x,{headers:{"Content-Type":"multipart/form-data"}})).data},onSuccess:()=>{a.invalidateQueries({queryKey:["people"]}),a.invalidateQueries({queryKey:["companies"]}),a.invalidateQueries({queryKey:["dates"]}),a.invalidateQueries({queryKey:["dashboard"]})}}),u=j.useCallback(v=>{v.preventDefault(),v.stopPropagation(),v.type==="dragenter"||v.type==="dragover"?n(!0):v.type==="dragleave"&&n(!1)},[]),c=j.useCallback(v=>{v.preventDefault(),v.stopPropagation(),n(!1),v.dataTransfer.files&&v.dataTransfer.files[0]&&f(v.dataTransfer.files[0])},[]),h=v=>{v.target.files&&v.target.files[0]&&f(v.target.files[0])},f=v=>{const x=v.name.split(".").pop().toLowerCase();if(x!=="vcf"&&x!=="vcard"){s({valid:!1,error:"Please select a vCard file (.vcf)"});return}e(v),s(null),l.reset(),o.mutate(v)},p=()=>{t&&(i!=null&&i.valid)&&l.mutate(t)},m=()=>{e(null),s(null),o.reset(),l.reset()};return d.jsxs("div",{className:"space-y-4",children:[d.jsx("h2",{className:"text-lg font-semibold",children:"Import from vCard"}),d.jsx("p",{className:"text-sm text-gray-600",children:"Import contacts from a vCard (.vcf) file. vCard is a standard format supported by most contact apps including Apple Contacts, Outlook, and Android. Files can contain one or multiple contacts."}),l.isSuccess?d.jsx("div",{className:"rounded-lg border border-green-200 bg-green-50 p-4",children:d.jsxs("div",{className:"flex items-start gap-3",children:[d.jsx(Wl,{className:"h-5 w-5 text-green-600 mt-0.5"}),d.jsxs("div",{className:"flex-1",children:[d.jsx("h3",{className:"font-medium text-green-900",children:"Import Complete"}),d.jsxs("div",{className:"mt-2 text-sm text-green-800 space-y-1",children:[d.jsxs("p",{children:["Contacts imported: ",l.data.stats.contacts_imported]}),d.jsxs("p",{children:["Contacts updated: ",l.data.stats.contacts_updated]}),d.jsxs("p",{children:["Contacts skipped: ",l.data.stats.contacts_skipped]}),d.jsxs("p",{children:["Photos imported: ",l.data.stats.photos_imported]}),d.jsxs("p",{children:["Companies created: ",l.data.stats.companies_created]}),d.jsxs("p",{children:["Birthdays created: ",l.data.stats.dates_created]}),d.jsxs("p",{children:["Notes created: ",l.data.stats.notes_created]}),((y=l.data.stats.errors)==null?void 0:y.length)>0&&d.jsxs("div",{className:"mt-2 pt-2 border-t border-green-200",children:[d.jsx("p",{className:"font-medium",children:"Errors:"}),d.jsx("ul",{className:"list-disc list-inside",children:l.data.stats.errors.map((v,x)=>d.jsx("li",{children:v},x))})]})]}),d.jsx("button",{onClick:m,className:"mt-3 text-sm text-green-700 hover:text-green-800 font-medium",children:"Import another file"})]})]})}):d.jsxs(d.Fragment,{children:[d.jsxs("div",{className:`relative rounded-lg border-2 border-dashed p-8 text-center transition-colors ${r?"border-primary-500 bg-primary-50":t?"border-green-300 bg-green-50":"border-gray-300 hover:border-gray-400"}`,onDragEnter:u,onDragLeave:u,onDragOver:u,onDrop:c,children:[d.jsx("input",{type:"file",accept:".vcf,.vcard",onChange:h,className:"absolute inset-0 w-full h-full opacity-0 cursor-pointer"}),o.isPending?d.jsxs("div",{className:"flex flex-col items-center gap-2",children:[d.jsx(Hl,{className:"h-8 w-8 text-primary-600 animate-spin"}),d.jsx("p",{className:"text-gray-600",children:"Validating file..."})]}):t?d.jsxs("div",{className:"flex flex-col items-center gap-2",children:[d.jsx(dT,{className:"h-8 w-8 text-green-600"}),d.jsx("p",{className:"font-medium text-gray-900",children:t.name}),d.jsxs("p",{className:"text-sm text-gray-500",children:[(t.size/1024).toFixed(2)," KB"]})]}):d.jsxs("div",{className:"flex flex-col items-center gap-2",children:[d.jsx(Vl,{className:"h-8 w-8 text-gray-400"}),d.jsx("p",{className:"text-gray-600",children:"Drag and drop your vCard file here, or click to browse"}),d.jsx("p",{className:"text-sm text-gray-500",children:"Supports .vcf and .vcard files"})]})]}),i&&d.jsx("div",{className:`rounded-lg border p-4 ${i.valid?"border-green-200 bg-green-50":"border-red-200 bg-red-50"}`,children:i.valid?d.jsxs("div",{className:"flex items-start gap-3",children:[d.jsx(Wl,{className:"h-5 w-5 text-green-600 mt-0.5"}),d.jsxs("div",{className:"flex-1",children:[d.jsx("h3",{className:"font-medium text-green-900",children:"File validated successfully"}),d.jsxs("div",{className:"mt-3 grid grid-cols-2 sm:grid-cols-3 gap-3",children:[d.jsxs("div",{className:"flex items-center gap-2 text-sm text-green-800",children:[d.jsx(io,{className:"h-4 w-4"}),d.jsxs("span",{children:[i.summary.contacts," contacts"]})]}),i.summary.companies_count>0&&d.jsxs("div",{className:"flex items-center gap-2 text-sm text-green-800",children:[d.jsx(Ji,{className:"h-4 w-4"}),d.jsxs("span",{children:[i.summary.companies_count," companies"]})]}),i.summary.birthdays>0&&d.jsxs("div",{className:"flex items-center gap-2 text-sm text-green-800",children:[d.jsx(b7,{className:"h-4 w-4"}),d.jsxs("span",{children:[i.summary.birthdays," birthdays"]})]}),i.summary.photos>0&&d.jsxs("div",{className:"flex items-center gap-2 text-sm text-green-800",children:[d.jsx($Z,{className:"h-4 w-4"}),d.jsxs("span",{children:[i.summary.photos," photos"]})]}),i.summary.notes>0&&d.jsxs("div",{className:"flex items-center gap-2 text-sm text-green-800",children:[d.jsx(P7,{className:"h-4 w-4"}),d.jsxs("span",{children:[i.summary.notes," notes"]})]})]})]})]}):d.jsxs("div",{className:"flex items-start gap-3",children:[d.jsx(Ul,{className:"h-5 w-5 text-red-600 mt-0.5"}),d.jsxs("div",{children:[d.jsx("h3",{className:"font-medium text-red-900",children:"Validation failed"}),d.jsx("p",{className:"text-sm text-red-700 mt-1",children:i.error})]})]})}),(i==null?void 0:i.valid)&&d.jsxs("div",{className:"flex gap-3",children:[d.jsx("button",{onClick:p,disabled:l.isPending,className:"btn-primary flex items-center gap-2",children:l.isPending?d.jsxs(d.Fragment,{children:[d.jsx(Hl,{className:"h-4 w-4 animate-spin"}),"Importing..."]}):d.jsxs(d.Fragment,{children:[d.jsx(Vl,{className:"h-4 w-4"}),"Start Import"]})}),d.jsx("button",{onClick:m,disabled:l.isPending,className:"btn-secondary",children:"Cancel"})]}),l.isError&&d.jsx("div",{className:"rounded-lg border border-red-200 bg-red-50 p-4",children:d.jsxs("div",{className:"flex items-start gap-3",children:[d.jsx(Ul,{className:"h-5 w-5 text-red-600 mt-0.5"}),d.jsxs("div",{children:[d.jsx("h3",{className:"font-medium text-red-900",children:"Import failed"}),d.jsx("p",{className:"text-sm text-red-700 mt-1",children:((g=(b=l.error.response)==null?void 0:b.data)==null?void 0:g.message)||"An error occurred during import"})]})]})})]})]})}function One(){var y,b,g;const[t,e]=j.useState(null),[r,n]=j.useState(!1),[i,s]=j.useState(null),a=dr(),o=$t({mutationFn:async v=>{const x=new FormData;return x.append("file",v),(await we.post("/prm/v1/import/google-contacts/validate",x,{headers:{"Content-Type":"multipart/form-data"}})).data},onSuccess:v=>{s(v)},onError:v=>{var x,w;s({valid:!1,error:((w=(x=v.response)==null?void 0:x.data)==null?void 0:w.message)||"Failed to validate file"})}}),l=$t({mutationFn:async v=>{const x=new FormData;return x.append("file",v),(await we.post("/prm/v1/import/google-contacts",x,{headers:{"Content-Type":"multipart/form-data"}})).data},onSuccess:()=>{a.invalidateQueries({queryKey:["people"]}),a.invalidateQueries({queryKey:["companies"]}),a.invalidateQueries({queryKey:["dates"]}),a.invalidateQueries({queryKey:["dashboard"]})}}),u=j.useCallback(v=>{v.preventDefault(),v.stopPropagation(),v.type==="dragenter"||v.type==="dragover"?n(!0):v.type==="dragleave"&&n(!1)},[]),c=j.useCallback(v=>{v.preventDefault(),v.stopPropagation(),n(!1),v.dataTransfer.files&&v.dataTransfer.files[0]&&f(v.dataTransfer.files[0])},[]),h=v=>{v.target.files&&v.target.files[0]&&f(v.target.files[0])},f=v=>{if(!v.name.endsWith(".csv")){s({valid:!1,error:"Please select a CSV file"});return}e(v),s(null),l.reset(),o.mutate(v)},p=()=>{t&&(i!=null&&i.valid)&&l.mutate(t)},m=()=>{e(null),s(null),o.reset(),l.reset()};return d.jsxs("div",{className:"space-y-4",children:[d.jsx("h2",{className:"text-lg font-semibold",children:"Import from Google Contacts"}),d.jsx("p",{className:"text-sm text-gray-600",children:"Import contacts from a Google Contacts CSV export. To export from Google:"}),d.jsxs("ol",{className:"text-sm text-gray-600 list-decimal list-inside space-y-1 ml-2",children:[d.jsxs("li",{children:["Go to ",d.jsx("a",{href:"https://contacts.google.com",target:"_blank",rel:"noopener noreferrer",className:"text-primary-600 hover:underline",children:"contacts.google.com"})]}),d.jsx("li",{children:'Click "Export" in the left sidebar'}),d.jsx("li",{children:'Select "Google CSV" format and click "Export"'})]}),l.isSuccess?d.jsx("div",{className:"rounded-lg border border-green-200 bg-green-50 p-4",children:d.jsxs("div",{className:"flex items-start gap-3",children:[d.jsx(Wl,{className:"h-5 w-5 text-green-600 mt-0.5"}),d.jsxs("div",{className:"flex-1",children:[d.jsx("h3",{className:"font-medium text-green-900",children:"Import Complete"}),d.jsxs("div",{className:"mt-2 text-sm text-green-800 space-y-1",children:[d.jsxs("p",{children:["Contacts imported: ",l.data.stats.contacts_imported]}),d.jsxs("p",{children:["Contacts updated: ",l.data.stats.contacts_updated]}),d.jsxs("p",{children:["Contacts skipped: ",l.data.stats.contacts_skipped]}),d.jsxs("p",{children:["Companies created: ",l.data.stats.companies_created]}),d.jsxs("p",{children:["Birthdays created: ",l.data.stats.dates_created]}),d.jsxs("p",{children:["Notes created: ",l.data.stats.notes_created]}),((y=l.data.stats.errors)==null?void 0:y.length)>0&&d.jsxs("div",{className:"mt-2 pt-2 border-t border-green-200",children:[d.jsx("p",{className:"font-medium",children:"Errors:"}),d.jsx("ul",{className:"list-disc list-inside",children:l.data.stats.errors.map((v,x)=>d.jsx("li",{children:v},x))})]})]}),d.jsx("button",{onClick:m,className:"mt-3 text-sm text-green-700 hover:text-green-800 font-medium",children:"Import another file"})]})]})}):d.jsxs(d.Fragment,{children:[d.jsxs("div",{className:`relative rounded-lg border-2 border-dashed p-8 text-center transition-colors ${r?"border-primary-500 bg-primary-50":t?"border-green-300 bg-green-50":"border-gray-300 hover:border-gray-400"}`,onDragEnter:u,onDragLeave:u,onDragOver:u,onDrop:c,children:[d.jsx("input",{type:"file",accept:".csv",onChange:h,className:"absolute inset-0 w-full h-full opacity-0 cursor-pointer"}),o.isPending?d.jsxs("div",{className:"flex flex-col items-center gap-2",children:[d.jsx(Hl,{className:"h-8 w-8 text-primary-600 animate-spin"}),d.jsx("p",{className:"text-gray-600",children:"Validating file..."})]}):t?d.jsxs("div",{className:"flex flex-col items-center gap-2",children:[d.jsx(w7,{className:"h-8 w-8 text-green-600"}),d.jsx("p",{className:"font-medium text-gray-900",children:t.name}),d.jsxs("p",{className:"text-sm text-gray-500",children:[(t.size/1024).toFixed(2)," KB"]})]}):d.jsxs("div",{className:"flex flex-col items-center gap-2",children:[d.jsx(Vl,{className:"h-8 w-8 text-gray-400"}),d.jsx("p",{className:"text-gray-600",children:"Drag and drop your Google Contacts CSV here, or click to browse"}),d.jsx("p",{className:"text-sm text-gray-500",children:"Supports Google CSV format"})]})]}),i&&d.jsx("div",{className:`rounded-lg border p-4 ${i.valid?"border-green-200 bg-green-50":"border-red-200 bg-red-50"}`,children:i.valid?d.jsxs("div",{className:"flex items-start gap-3",children:[d.jsx(Wl,{className:"h-5 w-5 text-green-600 mt-0.5"}),d.jsxs("div",{className:"flex-1",children:[d.jsx("h3",{className:"font-medium text-green-900",children:"File validated successfully"}),d.jsxs("div",{className:"mt-3 grid grid-cols-2 sm:grid-cols-3 gap-3",children:[d.jsxs("div",{className:"flex items-center gap-2 text-sm text-green-800",children:[d.jsx(io,{className:"h-4 w-4"}),d.jsxs("span",{children:[i.summary.contacts," contacts"]})]}),i.summary.companies_count>0&&d.jsxs("div",{className:"flex items-center gap-2 text-sm text-green-800",children:[d.jsx(Ji,{className:"h-4 w-4"}),d.jsxs("span",{children:[i.summary.companies_count," companies"]})]}),i.summary.birthdays>0&&d.jsxs("div",{className:"flex items-center gap-2 text-sm text-green-800",children:[d.jsx(b7,{className:"h-4 w-4"}),d.jsxs("span",{children:[i.summary.birthdays," birthdays"]})]}),i.summary.notes>0&&d.jsxs("div",{className:"flex items-center gap-2 text-sm text-green-800",children:[d.jsx(P7,{className:"h-4 w-4"}),d.jsxs("span",{children:[i.summary.notes," notes"]})]})]})]})]}):d.jsxs("div",{className:"flex items-start gap-3",children:[d.jsx(Ul,{className:"h-5 w-5 text-red-600 mt-0.5"}),d.jsxs("div",{children:[d.jsx("h3",{className:"font-medium text-red-900",children:"Validation failed"}),d.jsx("p",{className:"text-sm text-red-700 mt-1",children:i.error})]})]})}),(i==null?void 0:i.valid)&&d.jsxs("div",{className:"flex gap-3",children:[d.jsx("button",{onClick:p,disabled:l.isPending,className:"btn-primary flex items-center gap-2",children:l.isPending?d.jsxs(d.Fragment,{children:[d.jsx(Hl,{className:"h-4 w-4 animate-spin"}),"Importing..."]}):d.jsxs(d.Fragment,{children:[d.jsx(Vl,{className:"h-4 w-4"}),"Start Import"]})}),d.jsx("button",{onClick:m,disabled:l.isPending,className:"btn-secondary",children:"Cancel"})]}),l.isError&&d.jsx("div",{className:"rounded-lg border border-red-200 bg-red-50 p-4",children:d.jsxs("div",{className:"flex items-start gap-3",children:[d.jsx(Ul,{className:"h-5 w-5 text-red-600 mt-0.5"}),d.jsxs("div",{children:[d.jsx("h3",{className:"font-medium text-red-900",children:"Import failed"}),d.jsx("p",{className:"text-sm text-red-700 mt-1",children:((g=(b=l.error.response)==null?void 0:b.data)==null?void 0:g.message)||"An error occurred during import"})]})]})})]})]})}const ZR=[{id:"vcard",name:"vCard",description:"Apple Contacts, Outlook, Android",icon:dT,component:Ene},{id:"google",name:"Google Contacts",description:"CSV export from Google",icon:w7,component:One},{id:"monica",name:"Monica CRM",description:"SQL export from Monica",icon:TZ,component:Sne}];function Pne(){var n;ei("Import - Settings");const[t,e]=j.useState("vcard"),r=(n=ZR.find(i=>i.id===t))==null?void 0:n.component;return d.jsx("div",{className:"max-w-2xl mx-auto",children:d.jsxs("div",{className:"card p-6",children:[d.jsx("h1",{className:"text-xl font-semibold mb-4",children:"Import Contacts"}),d.jsx("p",{className:"text-sm text-gray-600 mb-6",children:"Import your contacts from various sources. Existing contacts with matching names will be updated instead of duplicated."}),d.jsx("div",{className:"border-b border-gray-200 mb-6",children:d.jsx("nav",{className:"-mb-px flex space-x-6","aria-label":"Import types",children:ZR.map(i=>{const s=i.icon,a=t===i.id;return d.jsxs("button",{onClick:()=>e(i.id),className:`group inline-flex items-center py-3 px-1 border-b-2 font-medium text-sm transition-colors ${a?"border-primary-500 text-primary-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[d.jsx(s,{className:`mr-2 h-5 w-5 ${a?"text-primary-500":"text-gray-400 group-hover:text-gray-500"}`}),d.jsxs("div",{className:"text-left",children:[d.jsx("span",{className:"block",children:i.name}),d.jsx("span",{className:`block text-xs font-normal ${a?"text-primary-400":"text-gray-400"}`,children:i.description})]})]},i.id)})})}),r&&d.jsx(r,{})]})})}/**
 * vis-data
 * http://visjs.org/
 *
 * Manage unstructured data using DataSet. Add, update, and remove data, and listen for changes in the data.
 *
 * @version 8.0.3
 * @date    2025-09-10T16:22:00.613Z
 *
 * @copyright (c) 2011-2017 Almende B.V, http://almende.com
 * @copyright (c) 2017-2019 visjs contributors, https://github.com/visjs
 *
 * @license
 * vis.js is dual licensed under both
 *
 *   1. The Apache 2.0 License
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 *   and
 *
 *   2. The MIT License
 *      http://opensource.org/licenses/MIT
 *
 * vis.js may be distributed under either license.
 */var e2=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function De(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Um={exports:{}},t2={},Ju,r2;function Mt(){if(r2)return Ju;r2=1;var t=function(e){return e&&e.Math===Math&&e};return Ju=t(typeof globalThis=="object"&&globalThis)||t(typeof window=="object"&&window)||t(typeof self=="object"&&self)||t(typeof e2=="object"&&e2)||t(typeof Ju=="object"&&Ju)||function(){return this}()||Function("return this")(),Ju}var Wm,n2;function He(){return n2||(n2=1,Wm=function(t){try{return!!t()}catch{return!0}}),Wm}var Hm,i2;function Cd(){if(i2)return Hm;i2=1;var t=He();return Hm=!t(function(){var e=(function(){}).bind();return typeof e!="function"||e.hasOwnProperty("prototype")}),Hm}var Vm,s2;function Tp(){if(s2)return Vm;s2=1;var t=Cd(),e=Function.prototype,r=e.apply,n=e.call;return Vm=typeof Reflect=="object"&&Reflect.apply||(t?n.bind(r):function(){return n.apply(r,arguments)}),Vm}var Km,a2;function Ye(){if(a2)return Km;a2=1;var t=Cd(),e=Function.prototype,r=e.call,n=t&&e.bind.bind(r,r);return Km=t?n:function(i){return function(){return r.apply(i,arguments)}},Km}var Gm,o2;function ss(){if(o2)return Gm;o2=1;var t=Ye(),e=t({}.toString),r=t("".slice);return Gm=function(n){return r(e(n),8,-1)},Gm}var Ym,l2;function mK(){if(l2)return Ym;l2=1;var t=ss(),e=Ye();return Ym=function(r){if(t(r)==="Function")return e(r)},Ym}var Qm,u2;function Jt(){if(u2)return Qm;u2=1;var t=typeof document=="object"&&document.all;return Qm=typeof t>"u"&&t!==void 0?function(e){return typeof e=="function"||e===t}:function(e){return typeof e=="function"},Qm}var Xm={},Jm,c2;function At(){if(c2)return Jm;c2=1;var t=He();return Jm=!t(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!==7}),Jm}var Zm,d2;function en(){if(d2)return Zm;d2=1;var t=Cd(),e=Function.prototype.call;return Zm=t?e.bind(e):function(){return e.apply(e,arguments)},Zm}var ev={},h2;function ST(){if(h2)return ev;h2=1;var t={}.propertyIsEnumerable,e=Object.getOwnPropertyDescriptor,r=e&&!t.call({1:2},1);return ev.f=r?function(i){var s=e(this,i);return!!s&&s.enumerable}:t,ev}var tv,f2;function Td(){return f2||(f2=1,tv=function(t,e){return{enumerable:!(t&1),configurable:!(t&2),writable:!(t&4),value:e}}),tv}var rv,p2;function Ip(){if(p2)return rv;p2=1;var t=Ye(),e=He(),r=ss(),n=Object,i=t("".split);return rv=e(function(){return!n("z").propertyIsEnumerable(0)})?function(s){return r(s)==="String"?i(s,""):n(s)}:n,rv}var nv,m2;function Id(){return m2||(m2=1,nv=function(t){return t==null}),nv}var iv,v2;function bo(){if(v2)return iv;v2=1;var t=Id(),e=TypeError;return iv=function(r){if(t(r))throw new e("Can't call method on "+r);return r},iv}var sv,g2;function _i(){if(g2)return sv;g2=1;var t=Ip(),e=bo();return sv=function(r){return t(e(r))},sv}var av,y2;function qr(){if(y2)return av;y2=1;var t=Jt();return av=function(e){return typeof e=="object"?e!==null:t(e)},av}var ov,b2;function Ht(){return b2||(b2=1,ov={}),ov}var lv,w2;function mn(){if(w2)return lv;w2=1;var t=Ht(),e=Mt(),r=Jt(),n=function(i){return r(i)?i:void 0};return lv=function(i,s){return arguments.length<2?n(t[i])||n(e[i]):t[i]&&t[i][s]||e[i]&&e[i][s]},lv}var uv,x2;function Zt(){if(x2)return uv;x2=1;var t=Ye();return uv=t({}.isPrototypeOf),uv}var cv,_2;function fu(){if(_2)return cv;_2=1;var t=Mt(),e=t.navigator,r=e&&e.userAgent;return cv=r?String(r):"",cv}var dv,S2;function Nd(){if(S2)return dv;S2=1;var t=Mt(),e=fu(),r=t.process,n=t.Deno,i=r&&r.versions||n&&n.version,s=i&&i.v8,a,o;return s&&(a=s.split("."),o=a[0]>0&&a[0]<4?1:+(a[0]+a[1])),!o&&e&&(a=e.match(/Edge\/(\d+)/),(!a||a[1]>=74)&&(a=e.match(/Chrome\/(\d+)/),a&&(o=+a[1]))),dv=o,dv}var hv,E2;function pu(){if(E2)return hv;E2=1;var t=Nd(),e=He(),r=Mt(),n=r.String;return hv=!!Object.getOwnPropertySymbols&&!e(function(){var i=Symbol("symbol detection");return!n(i)||!(Object(i)instanceof Symbol)||!Symbol.sham&&t&&t<41}),hv}var fv,O2;function vK(){if(O2)return fv;O2=1;var t=pu();return fv=t&&!Symbol.sham&&typeof Symbol.iterator=="symbol",fv}var pv,P2;function Rd(){if(P2)return pv;P2=1;var t=mn(),e=Jt(),r=Zt(),n=vK(),i=Object;return pv=n?function(s){return typeof s=="symbol"}:function(s){var a=t("Symbol");return e(a)&&r(a.prototype,i(s))},pv}var mv,C2;function mu(){if(C2)return mv;C2=1;var t=String;return mv=function(e){try{return t(e)}catch{return"Object"}},mv}var vv,T2;function as(){if(T2)return vv;T2=1;var t=Jt(),e=mu(),r=TypeError;return vv=function(n){if(t(n))return n;throw new r(e(n)+" is not a function")},vv}var gv,I2;function ET(){if(I2)return gv;I2=1;var t=as(),e=Id();return gv=function(r,n){var i=r[n];return e(i)?void 0:t(i)},gv}var yv,N2;function Cne(){if(N2)return yv;N2=1;var t=en(),e=Jt(),r=qr(),n=TypeError;return yv=function(i,s){var a,o;if(s==="string"&&e(a=i.toString)&&!r(o=t(a,i))||e(a=i.valueOf)&&!r(o=t(a,i))||s!=="string"&&e(a=i.toString)&&!r(o=t(a,i)))return o;throw new n("Can't convert object to primitive value")},yv}var bv={exports:{}},wv,R2;function vu(){return R2||(R2=1,wv=!0),wv}var xv,$2;function Tne(){if($2)return xv;$2=1;var t=Mt(),e=Object.defineProperty;return xv=function(r,n){try{e(t,r,{value:n,configurable:!0,writable:!0})}catch{t[r]=n}return n},xv}var j2;function OT(){if(j2)return bv.exports;j2=1;var t=vu(),e=Mt(),r=Tne(),n="__core-js_shared__",i=bv.exports=e[n]||r(n,{});return(i.versions||(i.versions=[])).push({version:"3.44.0",mode:t?"pure":"global",copyright:" 2014-2025 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.44.0/LICENSE",source:"https://github.com/zloirock/core-js"}),bv.exports}var _v,k2;function gu(){if(k2)return _v;k2=1;var t=OT();return _v=function(e,r){return t[e]||(t[e]=r||{})},_v}var Sv,D2;function ri(){if(D2)return Sv;D2=1;var t=bo(),e=Object;return Sv=function(r){return e(t(r))},Sv}var Ev,q2;function er(){if(q2)return Ev;q2=1;var t=Ye(),e=ri(),r=t({}.hasOwnProperty);return Ev=Object.hasOwn||function(i,s){return r(e(i),s)},Ev}var Ov,M2;function Np(){if(M2)return Ov;M2=1;var t=Ye(),e=0,r=Math.random(),n=t(1.1.toString);return Ov=function(i){return"Symbol("+(i===void 0?"":i)+")_"+n(++e+r,36)},Ov}var Pv,A2;function tr(){if(A2)return Pv;A2=1;var t=Mt(),e=gu(),r=er(),n=Np(),i=pu(),s=vK(),a=t.Symbol,o=e("wks"),l=s?a.for||a:a&&a.withoutSetter||n;return Pv=function(u){return r(o,u)||(o[u]=i&&r(a,u)?a[u]:l("Symbol."+u)),o[u]},Pv}var Cv,F2;function gK(){if(F2)return Cv;F2=1;var t=en(),e=qr(),r=Rd(),n=ET(),i=Cne(),s=tr(),a=TypeError,o=s("toPrimitive");return Cv=function(l,u){if(!e(l)||r(l))return l;var c=n(l,o),h;if(c){if(u===void 0&&(u="default"),h=t(c,l,u),!e(h)||r(h))return h;throw new a("Can't convert object to primitive value")}return u===void 0&&(u="number"),i(l,u)},Cv}var Tv,L2;function PT(){if(L2)return Tv;L2=1;var t=gK(),e=Rd();return Tv=function(r){var n=t(r,"string");return e(n)?n:n+""},Tv}var Iv,B2;function yK(){if(B2)return Iv;B2=1;var t=Mt(),e=qr(),r=t.document,n=e(r)&&e(r.createElement);return Iv=function(i){return n?r.createElement(i):{}},Iv}var Nv,z2;function bK(){if(z2)return Nv;z2=1;var t=At(),e=He(),r=yK();return Nv=!t&&!e(function(){return Object.defineProperty(r("div"),"a",{get:function(){return 7}}).a!==7}),Nv}var U2;function Rp(){if(U2)return Xm;U2=1;var t=At(),e=en(),r=ST(),n=Td(),i=_i(),s=PT(),a=er(),o=bK(),l=Object.getOwnPropertyDescriptor;return Xm.f=t?l:function(c,h){if(c=i(c),h=s(h),o)try{return l(c,h)}catch{}if(a(c,h))return n(!e(r.f,c,h),c[h])},Xm}var Rv,W2;function Ine(){if(W2)return Rv;W2=1;var t=He(),e=Jt(),r=/#|\.prototype\./,n=function(l,u){var c=s[i(l)];return c===o?!0:c===a?!1:e(u)?t(u):!!u},i=n.normalize=function(l){return String(l).replace(r,".").toLowerCase()},s=n.data={},a=n.NATIVE="N",o=n.POLYFILL="P";return Rv=n,Rv}var $v,H2;function $p(){if(H2)return $v;H2=1;var t=mK(),e=as(),r=Cd(),n=t(t.bind);return $v=function(i,s){return e(i),s===void 0?i:r?n(i,s):function(){return i.apply(s,arguments)}},$v}var jv={},kv,V2;function wK(){if(V2)return kv;V2=1;var t=At(),e=He();return kv=t&&e(function(){return Object.defineProperty(function(){},"prototype",{value:42,writable:!1}).prototype!==42}),kv}var Dv,K2;function os(){if(K2)return Dv;K2=1;var t=qr(),e=String,r=TypeError;return Dv=function(n){if(t(n))return n;throw new r(e(n)+" is not an object")},Dv}var G2;function $n(){if(G2)return jv;G2=1;var t=At(),e=bK(),r=wK(),n=os(),i=PT(),s=TypeError,a=Object.defineProperty,o=Object.getOwnPropertyDescriptor,l="enumerable",u="configurable",c="writable";return jv.f=t?r?function(f,p,m){if(n(f),p=i(p),n(m),typeof f=="function"&&p==="prototype"&&"value"in m&&c in m&&!m[c]){var y=o(f,p);y&&y[c]&&(f[p]=m.value,m={configurable:u in m?m[u]:y[u],enumerable:l in m?m[l]:y[l],writable:!1})}return a(f,p,m)}:a:function(f,p,m){if(n(f),p=i(p),n(m),e)try{return a(f,p,m)}catch{}if("get"in m||"set"in m)throw new s("Accessors not supported");return"value"in m&&(f[p]=m.value),f},jv}var qv,Y2;function yu(){if(Y2)return qv;Y2=1;var t=At(),e=$n(),r=Td();return qv=t?function(n,i,s){return e.f(n,i,r(1,s))}:function(n,i,s){return n[i]=s,n},qv}var Mv,Q2;function Pe(){if(Q2)return Mv;Q2=1;var t=Mt(),e=Tp(),r=mK(),n=Jt(),i=Rp().f,s=Ine(),a=Ht(),o=$p(),l=yu(),u=er(),c=function(h){var f=function(p,m,y){if(this instanceof f){switch(arguments.length){case 0:return new h;case 1:return new h(p);case 2:return new h(p,m)}return new h(p,m,y)}return e(h,this,arguments)};return f.prototype=h.prototype,f};return Mv=function(h,f){var p=h.target,m=h.global,y=h.stat,b=h.proto,g=m?t:y?t[p]:t[p]&&t[p].prototype,v=m?a:a[p]||l(a,p,{})[p],x=v.prototype,w,_,E,O,S,P,C,N,T;for(O in f)w=s(m?O:p+(y?".":"#")+O,h.forced),_=!w&&g&&u(g,O),P=v[O],_&&(h.dontCallGetSet?(T=i(g,O),C=T&&T.value):C=g[O]),S=_&&C?C:f[O],!(!w&&!b&&typeof P==typeof S)&&(h.bind&&_?N=o(S,t):h.wrap&&_?N=c(S):b&&n(S)?N=r(S):N=S,(h.sham||S&&S.sham||P&&P.sham)&&l(N,"sham",!0),l(v,O,N),b&&(E=p+"Prototype",u(a,E)||l(a,E,{}),l(a[E],O,S),h.real&&x&&(w||!x[O])&&l(x,O,S)))},Mv}var X2;function Nne(){if(X2)return t2;X2=1;var t=Pe(),e=At(),r=$n().f;return t({target:"Object",stat:!0,forced:Object.defineProperty!==r,sham:!e},{defineProperty:r}),t2}var J2;function Rne(){if(J2)return Um.exports;J2=1,Nne();var t=Ht(),e=t.Object,r=Um.exports=function(i,s,a){return e.defineProperty(i,s,a)};return e.defineProperty.sham&&(r.sham=!0),Um.exports}var Av,Z2;function xK(){if(Z2)return Av;Z2=1;var t=Rne();return Av=t,Av}var Fv,e$;function $ne(){if(e$)return Fv;e$=1;var t=xK();return Fv=t,Fv}var Lv,t$;function jne(){if(t$)return Lv;t$=1;var t=$ne();return Lv=t,Lv}var Bv,r$;function kne(){return r$||(r$=1,Bv=jne()),Bv}var Dne=kne(),qne=De(Dne),n$={},zv,i$;function wo(){if(i$)return zv;i$=1;var t=ss();return zv=Array.isArray||function(r){return t(r)==="Array"},zv}var Uv,s$;function Mne(){if(s$)return Uv;s$=1;var t=Math.ceil,e=Math.floor;return Uv=Math.trunc||function(n){var i=+n;return(i>0?e:t)(i)},Uv}var Wv,a$;function bu(){if(a$)return Wv;a$=1;var t=Mne();return Wv=function(e){var r=+e;return r!==r||r===0?0:t(r)},Wv}var Hv,o$;function _K(){if(o$)return Hv;o$=1;var t=bu(),e=Math.min;return Hv=function(r){var n=t(r);return n>0?e(n,9007199254740991):0},Hv}var Vv,l$;function la(){if(l$)return Vv;l$=1;var t=_K();return Vv=function(e){return t(e.length)},Vv}var Kv,u$;function SK(){if(u$)return Kv;u$=1;var t=TypeError,e=9007199254740991;return Kv=function(r){if(r>e)throw t("Maximum allowed index exceeded");return r},Kv}var Gv,c$;function jp(){if(c$)return Gv;c$=1;var t=At(),e=$n(),r=Td();return Gv=function(n,i,s){t?e.f(n,i,r(0,s)):n[i]=s},Gv}var Yv,d$;function CT(){if(d$)return Yv;d$=1;var t=tr(),e=t("toStringTag"),r={};return r[e]="z",Yv=String(r)==="[object z]",Yv}var Qv,h$;function ua(){if(h$)return Qv;h$=1;var t=CT(),e=Jt(),r=ss(),n=tr(),i=n("toStringTag"),s=Object,a=r(function(){return arguments}())==="Arguments",o=function(l,u){try{return l[u]}catch{}};return Qv=t?r:function(l){var u,c,h;return l===void 0?"Undefined":l===null?"Null":typeof(c=o(u=s(l),i))=="string"?c:a?r(u):(h=r(u))==="Object"&&e(u.callee)?"Arguments":h},Qv}var Xv,f$;function Ane(){if(f$)return Xv;f$=1;var t=Ye(),e=Jt(),r=OT(),n=t(Function.toString);return e(r.inspectSource)||(r.inspectSource=function(i){return n(i)}),Xv=r.inspectSource,Xv}var Jv,p$;function EK(){if(p$)return Jv;p$=1;var t=Ye(),e=He(),r=Jt(),n=ua(),i=mn(),s=Ane(),a=function(){},o=i("Reflect","construct"),l=/^\s*(?:class|function)\b/,u=t(l.exec),c=!l.test(a),h=function(m){if(!r(m))return!1;try{return o(a,[],m),!0}catch{return!1}},f=function(m){if(!r(m))return!1;switch(n(m)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return c||!!u(l,s(m))}catch{return!0}};return f.sham=!0,Jv=!o||e(function(){var p;return h(h.call)||!h(Object)||!h(function(){p=!0})||p})?f:h,Jv}var Zv,m$;function Fne(){if(m$)return Zv;m$=1;var t=wo(),e=EK(),r=qr(),n=tr(),i=n("species"),s=Array;return Zv=function(a){var o;return t(a)&&(o=a.constructor,e(o)&&(o===s||t(o.prototype))?o=void 0:r(o)&&(o=o[i],o===null&&(o=void 0))),o===void 0?s:o},Zv}var eg,v$;function TT(){if(v$)return eg;v$=1;var t=Fne();return eg=function(e,r){return new(t(e))(r===0?0:r)},eg}var tg,g$;function $d(){if(g$)return tg;g$=1;var t=He(),e=tr(),r=Nd(),n=e("species");return tg=function(i){return r>=51||!t(function(){var s=[],a=s.constructor={};return a[n]=function(){return{foo:1}},s[i](Boolean).foo!==1})},tg}var y$;function OK(){if(y$)return n$;y$=1;var t=Pe(),e=He(),r=wo(),n=qr(),i=ri(),s=la(),a=SK(),o=jp(),l=TT(),u=$d(),c=tr(),h=Nd(),f=c("isConcatSpreadable"),p=h>=51||!e(function(){var b=[];return b[f]=!1,b.concat()[0]!==b}),m=function(b){if(!n(b))return!1;var g=b[f];return g!==void 0?!!g:r(b)},y=!p||!u("concat");return t({target:"Array",proto:!0,arity:1,forced:y},{concat:function(g){var v=i(this),x=l(v,0),w=0,_,E,O,S,P;for(_=-1,O=arguments.length;_<O;_++)if(P=_===-1?v:arguments[_],m(P))for(S=s(P),a(w+S),E=0;E<S;E++,w++)E in P&&o(x,w,P[E]);else a(w+1),o(x,w++,P);return x.length=w,x}}),n$}var b$={},w$={},rg,x$;function ca(){if(x$)return rg;x$=1;var t=ua(),e=String;return rg=function(r){if(t(r)==="Symbol")throw new TypeError("Cannot convert a Symbol value to a string");return e(r)},rg}var ng={},ig,_$;function IT(){if(_$)return ig;_$=1;var t=bu(),e=Math.max,r=Math.min;return ig=function(n,i){var s=t(n);return s<0?e(s+i,0):r(s,i)},ig}var sg,S$;function Lne(){if(S$)return sg;S$=1;var t=_i(),e=IT(),r=la(),n=function(i){return function(s,a,o){var l=t(s),u=r(l);if(u===0)return!i&&-1;var c=e(o,u),h;if(i&&a!==a){for(;u>c;)if(h=l[c++],h!==h)return!0}else for(;u>c;c++)if((i||c in l)&&l[c]===a)return i||c||0;return!i&&-1}};return sg={includes:n(!0),indexOf:n(!1)},sg}var ag,E$;function jd(){return E$||(E$=1,ag={}),ag}var og,O$;function PK(){if(O$)return og;O$=1;var t=Ye(),e=er(),r=_i(),n=Lne().indexOf,i=jd(),s=t([].push);return og=function(a,o){var l=r(a),u=0,c=[],h;for(h in l)!e(i,h)&&e(l,h)&&s(c,h);for(;o.length>u;)e(l,h=o[u++])&&(~n(c,h)||s(c,h));return c},og}var lg,P$;function NT(){return P$||(P$=1,lg=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]),lg}var ug,C$;function kp(){if(C$)return ug;C$=1;var t=PK(),e=NT();return ug=Object.keys||function(n){return t(n,e)},ug}var T$;function RT(){if(T$)return ng;T$=1;var t=At(),e=wK(),r=$n(),n=os(),i=_i(),s=kp();return ng.f=t&&!e?Object.defineProperties:function(o,l){n(o);for(var u=i(l),c=s(l),h=c.length,f=0,p;h>f;)r.f(o,p=c[f++],u[p]);return o},ng}var cg,I$;function Bne(){if(I$)return cg;I$=1;var t=mn();return cg=t("document","documentElement"),cg}var dg,N$;function Dp(){if(N$)return dg;N$=1;var t=gu(),e=Np(),r=t("keys");return dg=function(n){return r[n]||(r[n]=e(n))},dg}var hg,R$;function kd(){if(R$)return hg;R$=1;var t=os(),e=RT(),r=NT(),n=jd(),i=Bne(),s=yK(),a=Dp(),o=">",l="<",u="prototype",c="script",h=a("IE_PROTO"),f=function(){},p=function(v){return l+c+o+v+l+"/"+c+o},m=function(v){v.write(p("")),v.close();var x=v.parentWindow.Object;return v=null,x},y=function(){var v=s("iframe"),x="java"+c+":",w;return v.style.display="none",i.appendChild(v),v.src=String(x),w=v.contentWindow.document,w.open(),w.write(p("document.F=Object")),w.close(),w.F},b,g=function(){try{b=new ActiveXObject("htmlfile")}catch{}g=typeof document<"u"?document.domain&&b?m(b):y():m(b);for(var v=r.length;v--;)delete g[u][r[v]];return g()};return n[h]=!0,hg=Object.create||function(x,w){var _;return x!==null?(f[u]=t(x),_=new f,f[u]=null,_[h]=x):_=g(),w===void 0?_:e.f(_,w)},hg}var fg={},$$;function qp(){if($$)return fg;$$=1;var t=PK(),e=NT(),r=e.concat("length","prototype");return fg.f=Object.getOwnPropertyNames||function(i){return t(i,r)},fg}var pg={},mg,j$;function wu(){if(j$)return mg;j$=1;var t=Ye();return mg=t([].slice),mg}var k$;function CK(){if(k$)return pg;k$=1;var t=ss(),e=_i(),r=qp().f,n=wu(),i=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],s=function(a){try{return r(a)}catch{return n(i)}};return pg.f=function(o){return i&&t(o)==="Window"?s(o):r(e(o))},pg}var vg={},D$;function Mp(){return D$||(D$=1,vg.f=Object.getOwnPropertySymbols),vg}var gg,q$;function Dd(){if(q$)return gg;q$=1;var t=yu();return gg=function(e,r,n,i){return i&&i.enumerable?e[r]=n:t(e,r,n),e},gg}var yg,M$;function $T(){if(M$)return yg;M$=1;var t=$n();return yg=function(e,r,n){return t.f(e,r,n)},yg}var bg={},A$;function Ap(){if(A$)return bg;A$=1;var t=tr();return bg.f=t,bg}var wg,F$;function mt(){if(F$)return wg;F$=1;var t=Ht(),e=er(),r=Ap(),n=$n().f;return wg=function(i){var s=t.Symbol||(t.Symbol={});e(s,i)||n(s,i,{value:r.f(i)})},wg}var xg,L$;function TK(){if(L$)return xg;L$=1;var t=en(),e=mn(),r=tr(),n=Dd();return xg=function(){var i=e("Symbol"),s=i&&i.prototype,a=s&&s.valueOf,o=r("toPrimitive");s&&!s[o]&&n(s,o,function(l){return t(a,this)},{arity:1})},xg}var _g,B$;function zne(){if(B$)return _g;B$=1;var t=CT(),e=ua();return _g=t?{}.toString:function(){return"[object "+e(this)+"]"},_g}var Sg,z$;function xo(){if(z$)return Sg;z$=1;var t=CT(),e=$n().f,r=yu(),n=er(),i=zne(),s=tr(),a=s("toStringTag");return Sg=function(o,l,u,c){var h=u?o:o&&o.prototype;h&&(n(h,a)||e(h,a,{configurable:!0,value:l}),c&&!t&&r(h,"toString",i))},Sg}var Eg,U$;function Une(){if(U$)return Eg;U$=1;var t=Mt(),e=Jt(),r=t.WeakMap;return Eg=e(r)&&/native code/.test(String(r)),Eg}var Og,W$;function qd(){if(W$)return Og;W$=1;var t=Une(),e=Mt(),r=qr(),n=yu(),i=er(),s=OT(),a=Dp(),o=jd(),l="Object already initialized",u=e.TypeError,c=e.WeakMap,h,f,p,m=function(v){return p(v)?f(v):h(v,{})},y=function(v){return function(x){var w;if(!r(x)||(w=f(x)).type!==v)throw new u("Incompatible receiver, "+v+" required");return w}};if(t||s.state){var b=s.state||(s.state=new c);b.get=b.get,b.has=b.has,b.set=b.set,h=function(v,x){if(b.has(v))throw new u(l);return x.facade=v,b.set(v,x),x},f=function(v){return b.get(v)||{}},p=function(v){return b.has(v)}}else{var g=a("state");o[g]=!0,h=function(v,x){if(i(v,g))throw new u(l);return x.facade=v,n(v,g,x),x},f=function(v){return i(v,g)?v[g]:{}},p=function(v){return i(v,g)}}return Og={set:h,get:f,has:p,enforce:m,getterFor:y},Og}var Pg,H$;function xu(){if(H$)return Pg;H$=1;var t=$p(),e=Ye(),r=Ip(),n=ri(),i=la(),s=TT(),a=e([].push),o=function(l){var u=l===1,c=l===2,h=l===3,f=l===4,p=l===6,m=l===7,y=l===5||p;return function(b,g,v,x){for(var w=n(b),_=r(w),E=i(_),O=t(g,v),S=0,P=x||s,C=u?P(b,E):c||m?P(b,0):void 0,N,T;E>S;S++)if((y||S in _)&&(N=_[S],T=O(N,S,w),l))if(u)C[S]=T;else if(T)switch(l){case 3:return!0;case 5:return N;case 6:return S;case 2:a(C,N)}else switch(l){case 4:return!1;case 7:a(C,N)}return p?-1:h||f?f:C}};return Pg={forEach:o(0),map:o(1),filter:o(2),some:o(3),every:o(4),find:o(5),findIndex:o(6),filterReject:o(7)},Pg}var V$;function Wne(){if(V$)return w$;V$=1;var t=Pe(),e=Mt(),r=en(),n=Ye(),i=vu(),s=At(),a=pu(),o=He(),l=er(),u=Zt(),c=os(),h=_i(),f=PT(),p=ca(),m=Td(),y=kd(),b=kp(),g=qp(),v=CK(),x=Mp(),w=Rp(),_=$n(),E=RT(),O=ST(),S=Dd(),P=$T(),C=gu(),N=Dp(),T=jd(),I=Np(),q=tr(),B=Ap(),re=mt(),Q=TK(),L=xo(),G=qd(),z=xu().forEach,U=N("hidden"),te="Symbol",fe="prototype",ge=G.set,ke=G.getterFor(te),be=Object[fe],xe=e.Symbol,Ie=xe&&xe[fe],gt=e.RangeError,nt=e.TypeError,yt=e.QObject,xr=w.f,Qe=_.f,it=v.f,yn=O.f,Mr=n([].push),Ke=C("symbols"),Bt=C("op-symbols"),nn=C("wks"),sn=!yt||!yt[fe]||!yt[fe].findChild,$=function(K,W,V){var Y=xr(be,W);Y&&delete be[W],Qe(K,W,V),Y&&K!==be&&Qe(be,W,Y)},D=s&&o(function(){return y(Qe({},"a",{get:function(){return Qe(this,"a",{value:7}).a}})).a!==7})?$:Qe,F=function(K,W){var V=Ke[K]=y(Ie);return ge(V,{type:te,tag:K,description:W}),s||(V.description=W),V},ae=function(W,V,Y){W===be&&ae(Bt,V,Y),c(W);var pe=f(V);return c(Y),l(Ke,pe)?(Y.enumerable?(l(W,U)&&W[U][pe]&&(W[U][pe]=!1),Y=y(Y,{enumerable:m(0,!1)})):(l(W,U)||Qe(W,U,m(1,y(null))),W[U][pe]=!0),D(W,pe,Y)):Qe(W,pe,Y)},ne=function(W,V){c(W);var Y=h(V),pe=b(Y).concat(le(Y));return z(pe,function($e){(!s||r(de,Y,$e))&&ae(W,$e,Y[$e])}),W},X=function(W,V){return V===void 0?y(W):ne(y(W),V)},de=function(W){var V=f(W),Y=r(yn,this,V);return this===be&&l(Ke,V)&&!l(Bt,V)?!1:Y||!l(this,V)||!l(Ke,V)||l(this,U)&&this[U][V]?Y:!0},k=function(W,V){var Y=h(W),pe=f(V);if(!(Y===be&&l(Ke,pe)&&!l(Bt,pe))){var $e=xr(Y,pe);return $e&&l(Ke,pe)&&!(l(Y,U)&&Y[U][pe])&&($e.enumerable=!0),$e}},H=function(W){var V=it(h(W)),Y=[];return z(V,function(pe){!l(Ke,pe)&&!l(T,pe)&&Mr(Y,pe)}),Y},le=function(K){var W=K===be,V=it(W?Bt:h(K)),Y=[];return z(V,function(pe){l(Ke,pe)&&(!W||l(be,pe))&&Mr(Y,Ke[pe])}),Y};return a||(xe=function(){if(u(Ie,this))throw new nt("Symbol is not a constructor");var W=!arguments.length||arguments[0]===void 0?void 0:p(arguments[0]),V=I(W),Y=function(pe){var $e=this===void 0?e:this;$e===be&&r(Y,Bt,pe),l($e,U)&&l($e[U],V)&&($e[U][V]=!1);var Vt=m(1,pe);try{D($e,V,Vt)}catch(_r){if(!(_r instanceof gt))throw _r;$($e,V,Vt)}};return s&&sn&&D(be,V,{configurable:!0,set:Y}),F(V,W)},Ie=xe[fe],S(Ie,"toString",function(){return ke(this).tag}),S(xe,"withoutSetter",function(K){return F(I(K),K)}),O.f=de,_.f=ae,E.f=ne,w.f=k,g.f=v.f=H,x.f=le,B.f=function(K){return F(q(K),K)},s&&(P(Ie,"description",{configurable:!0,get:function(){return ke(this).description}}),i||S(be,"propertyIsEnumerable",de,{unsafe:!0}))),t({global:!0,constructor:!0,wrap:!0,forced:!a,sham:!a},{Symbol:xe}),z(b(nn),function(K){re(K)}),t({target:te,stat:!0,forced:!a},{useSetter:function(){sn=!0},useSimple:function(){sn=!1}}),t({target:"Object",stat:!0,forced:!a,sham:!s},{create:X,defineProperty:ae,defineProperties:ne,getOwnPropertyDescriptor:k}),t({target:"Object",stat:!0,forced:!a},{getOwnPropertyNames:H}),Q(),L(xe,te),T[U]=!0,w$}var K$={},Cg,G$;function IK(){if(G$)return Cg;G$=1;var t=pu();return Cg=t&&!!Symbol.for&&!!Symbol.keyFor,Cg}var Y$;function Hne(){if(Y$)return K$;Y$=1;var t=Pe(),e=mn(),r=er(),n=ca(),i=gu(),s=IK(),a=i("string-to-symbol-registry"),o=i("symbol-to-string-registry");return t({target:"Symbol",stat:!0,forced:!s},{for:function(l){var u=n(l);if(r(a,u))return a[u];var c=e("Symbol")(u);return a[u]=c,o[c]=u,c}}),K$}var Q$={},X$;function Vne(){if(X$)return Q$;X$=1;var t=Pe(),e=er(),r=Rd(),n=mu(),i=gu(),s=IK(),a=i("symbol-to-string-registry");return t({target:"Symbol",stat:!0,forced:!s},{keyFor:function(l){if(!r(l))throw new TypeError(n(l)+" is not a symbol");if(e(a,l))return a[l]}}),Q$}var J$={},Tg,Z$;function Kne(){if(Z$)return Tg;Z$=1;var t=Ye(),e=wo(),r=Jt(),n=ss(),i=ca(),s=t([].push);return Tg=function(a){if(r(a))return a;if(e(a)){for(var o=a.length,l=[],u=0;u<o;u++){var c=a[u];typeof c=="string"?s(l,c):(typeof c=="number"||n(c)==="Number"||n(c)==="String")&&s(l,i(c))}var h=l.length,f=!0;return function(p,m){if(f)return f=!1,m;if(e(this))return m;for(var y=0;y<h;y++)if(l[y]===p)return m}}},Tg}var ej;function NK(){if(ej)return J$;ej=1;var t=Pe(),e=mn(),r=Tp(),n=en(),i=Ye(),s=He(),a=Jt(),o=Rd(),l=wu(),u=Kne(),c=pu(),h=String,f=e("JSON","stringify"),p=i(/./.exec),m=i("".charAt),y=i("".charCodeAt),b=i("".replace),g=i(1.1.toString),v=/[\uD800-\uDFFF]/g,x=/^[\uD800-\uDBFF]$/,w=/^[\uDC00-\uDFFF]$/,_=!c||s(function(){var P=e("Symbol")("stringify detection");return f([P])!=="[null]"||f({a:P})!=="{}"||f(Object(P))!=="{}"}),E=s(function(){return f("\uDF06\uD834")!=='"\\udf06\\ud834"'||f("\uDEAD")!=='"\\udead"'}),O=function(P,C){var N=l(arguments),T=u(C);if(!(!a(T)&&(P===void 0||o(P))))return N[1]=function(I,q){if(a(T)&&(q=n(T,this,h(I),q)),!o(q))return q},r(f,null,N)},S=function(P,C,N){var T=m(N,C-1),I=m(N,C+1);return p(x,P)&&!p(w,I)||p(w,P)&&!p(x,T)?"\\u"+g(y(P,0),16):P};return f&&t({target:"JSON",stat:!0,arity:3,forced:_||E},{stringify:function(C,N,T){var I=l(arguments),q=r(_?O:f,null,I);return E&&typeof q=="string"?b(q,v,S):q}}),J$}var tj={},rj;function Gne(){if(rj)return tj;rj=1;var t=Pe(),e=pu(),r=He(),n=Mp(),i=ri(),s=!e||r(function(){n.f(1)});return t({target:"Object",stat:!0,forced:s},{getOwnPropertySymbols:function(o){var l=n.f;return l?l(i(o)):[]}}),tj}var nj;function RK(){return nj||(nj=1,Wne(),Hne(),Vne(),NK(),Gne()),b$}var ij={},sj;function $K(){if(sj)return ij;sj=1;var t=mt();return t("asyncDispose"),ij}var aj={},oj;function Yne(){if(oj)return aj;oj=1;var t=mt();return t("asyncIterator"),aj}var lj={},uj;function jK(){if(uj)return lj;uj=1;var t=mt();return t("dispose"),lj}var cj={},dj;function Qne(){if(dj)return cj;dj=1;var t=mt();return t("hasInstance"),cj}var hj={},fj;function Xne(){if(fj)return hj;fj=1;var t=mt();return t("isConcatSpreadable"),hj}var pj={},mj;function kK(){if(mj)return pj;mj=1;var t=mt();return t("iterator"),pj}var vj={},gj;function Jne(){if(gj)return vj;gj=1;var t=mt();return t("match"),vj}var yj={},bj;function Zne(){if(bj)return yj;bj=1;var t=mt();return t("matchAll"),yj}var wj={},xj;function eie(){if(xj)return wj;xj=1;var t=mt();return t("replace"),wj}var _j={},Sj;function tie(){if(Sj)return _j;Sj=1;var t=mt();return t("search"),_j}var Ej={},Oj;function rie(){if(Oj)return Ej;Oj=1;var t=mt();return t("species"),Ej}var Pj={},Cj;function nie(){if(Cj)return Pj;Cj=1;var t=mt();return t("split"),Pj}var Tj={},Ij;function DK(){if(Ij)return Tj;Ij=1;var t=mt(),e=TK();return t("toPrimitive"),e(),Tj}var Nj={},Rj;function iie(){if(Rj)return Nj;Rj=1;var t=mn(),e=mt(),r=xo();return e("toStringTag"),r(t("Symbol"),"Symbol"),Nj}var $j={},jj;function sie(){if(jj)return $j;jj=1;var t=mt();return t("unscopables"),$j}var kj={},Dj;function aie(){if(Dj)return kj;Dj=1;var t=Mt(),e=xo();return e(t.JSON,"JSON",!0),kj}var Ig,qj;function oie(){if(qj)return Ig;qj=1,OK(),RK(),$K(),Yne(),jK(),Qne(),Xne(),kK(),Jne(),Zne(),eie(),tie(),rie(),nie(),DK(),iie(),sie(),aie();var t=Ht();return Ig=t.Symbol,Ig}var Mj={},Ng,Aj;function lie(){return Aj||(Aj=1,Ng=function(){}),Ng}var Rg,Fj;function _u(){return Fj||(Fj=1,Rg={}),Rg}var $g,Lj;function uie(){if(Lj)return $g;Lj=1;var t=At(),e=er(),r=Function.prototype,n=t&&Object.getOwnPropertyDescriptor,i=e(r,"name"),s=i&&(function(){}).name==="something",a=i&&(!t||t&&n(r,"name").configurable);return $g={EXISTS:i,PROPER:s,CONFIGURABLE:a},$g}var jg,Bj;function cie(){if(Bj)return jg;Bj=1;var t=He();return jg=!t(function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype}),jg}var kg,zj;function qK(){if(zj)return kg;zj=1;var t=er(),e=Jt(),r=ri(),n=Dp(),i=cie(),s=n("IE_PROTO"),a=Object,o=a.prototype;return kg=i?a.getPrototypeOf:function(l){var u=r(l);if(t(u,s))return u[s];var c=u.constructor;return e(c)&&u instanceof c?c.prototype:u instanceof a?o:null},kg}var Dg,Uj;function MK(){if(Uj)return Dg;Uj=1;var t=He(),e=Jt(),r=qr(),n=kd(),i=qK(),s=Dd(),a=tr(),o=vu(),l=a("iterator"),u=!1,c,h,f;[].keys&&(f=[].keys(),"next"in f?(h=i(i(f)),h!==Object.prototype&&(c=h)):u=!0);var p=!r(c)||t(function(){var m={};return c[l].call(m)!==m});return p?c={}:o&&(c=n(c)),e(c[l])||s(c,l,function(){return this}),Dg={IteratorPrototype:c,BUGGY_SAFARI_ITERATORS:u},Dg}var qg,Wj;function die(){if(Wj)return qg;Wj=1;var t=MK().IteratorPrototype,e=kd(),r=Td(),n=xo(),i=_u(),s=function(){return this};return qg=function(a,o,l,u){var c=o+" Iterator";return a.prototype=e(t,{next:r(+!u,l)}),n(a,c,!1,!0),i[c]=s,a},qg}var Mg,Hj;function hie(){if(Hj)return Mg;Hj=1;var t=Ye(),e=as();return Mg=function(r,n,i){try{return t(e(Object.getOwnPropertyDescriptor(r,n)[i]))}catch{}},Mg}var Ag,Vj;function fie(){if(Vj)return Ag;Vj=1;var t=qr();return Ag=function(e){return t(e)||e===null},Ag}var Fg,Kj;function pie(){if(Kj)return Fg;Kj=1;var t=fie(),e=String,r=TypeError;return Fg=function(n){if(t(n))return n;throw new r("Can't set "+e(n)+" as a prototype")},Fg}var Lg,Gj;function mie(){if(Gj)return Lg;Gj=1;var t=hie(),e=qr(),r=bo(),n=pie();return Lg=Object.setPrototypeOf||("__proto__"in{}?function(){var i=!1,s={},a;try{a=t(Object.prototype,"__proto__","set"),a(s,[]),i=s instanceof Array}catch{}return function(l,u){return r(l),n(u),e(l)&&(i?a(l,u):l.__proto__=u),l}}():void 0),Lg}var Bg,Yj;function jT(){if(Yj)return Bg;Yj=1;var t=Pe(),e=en(),r=vu(),n=uie(),i=Jt(),s=die(),a=qK(),o=mie(),l=xo(),u=yu(),c=Dd(),h=tr(),f=_u(),p=MK(),m=n.PROPER,y=n.CONFIGURABLE,b=p.IteratorPrototype,g=p.BUGGY_SAFARI_ITERATORS,v=h("iterator"),x="keys",w="values",_="entries",E=function(){return this};return Bg=function(O,S,P,C,N,T,I){s(P,S,C);var q=function(ge){if(ge===N&&G)return G;if(!g&&ge&&ge in Q)return Q[ge];switch(ge){case x:return function(){return new P(this,ge)};case w:return function(){return new P(this,ge)};case _:return function(){return new P(this,ge)}}return function(){return new P(this)}},B=S+" Iterator",re=!1,Q=O.prototype,L=Q[v]||Q["@@iterator"]||N&&Q[N],G=!g&&L||q(N),z=S==="Array"&&Q.entries||L,U,te,fe;if(z&&(U=a(z.call(new O)),U!==Object.prototype&&U.next&&(!r&&a(U)!==b&&(o?o(U,b):i(U[v])||c(U,v,E)),l(U,B,!0,!0),r&&(f[B]=E))),m&&N===w&&L&&L.name!==w&&(!r&&y?u(Q,"name",w):(re=!0,G=function(){return e(L,this)})),N)if(te={values:q(w),keys:T?G:q(x),entries:q(_)},I)for(fe in te)(g||re||!(fe in Q))&&c(Q,fe,te[fe]);else t({target:S,proto:!0,forced:g||re},te);return(!r||I)&&Q[v]!==G&&c(Q,v,G,{name:N}),f[S]=G,te},Bg}var zg,Qj;function kT(){return Qj||(Qj=1,zg=function(t,e){return{value:t,done:e}}),zg}var Ug,Xj;function da(){if(Xj)return Ug;Xj=1;var t=_i(),e=lie(),r=_u(),n=qd(),i=$n().f,s=jT(),a=kT(),o=vu(),l=At(),u="Array Iterator",c=n.set,h=n.getterFor(u);Ug=s(Array,"Array",function(p,m){c(this,{type:u,target:t(p),index:0,kind:m})},function(){var p=h(this),m=p.target,y=p.index++;if(!m||y>=m.length)return p.target=null,a(void 0,!0);switch(p.kind){case"keys":return a(y,!1);case"values":return a(m[y],!1)}return a([y,m[y]],!1)},"values");var f=r.Arguments=r.Array;if(e("keys"),e("values"),e("entries"),!o&&l&&f.name!=="values")try{i(f,"name",{value:"values"})}catch{}return Ug}var Wg,Jj;function vie(){return Jj||(Jj=1,Wg={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}),Wg}var Zj;function ha(){if(Zj)return Mj;Zj=1,da();var t=vie(),e=Mt(),r=xo(),n=_u();for(var i in t)r(e[i],i),n[i]=n.Array;return Mj}var Hg,ek;function AK(){if(ek)return Hg;ek=1;var t=oie();return ha(),Hg=t,Hg}var tk={},rk;function gie(){if(rk)return tk;rk=1;var t=tr(),e=$n().f,r=t("metadata"),n=Function.prototype;return n[r]===void 0&&e(n,r,{value:null}),tk}var nk={},ik;function yie(){return ik||(ik=1,$K()),nk}var sk={},ak;function bie(){return ak||(ak=1,jK()),sk}var ok={},lk;function wie(){if(lk)return ok;lk=1;var t=mt();return t("metadata"),ok}var Vg,uk;function xie(){if(uk)return Vg;uk=1;var t=AK();return gie(),yie(),bie(),wie(),Vg=t,Vg}var ck={},Kg,dk;function FK(){if(dk)return Kg;dk=1;var t=mn(),e=Ye(),r=t("Symbol"),n=r.keyFor,i=e(r.prototype.valueOf);return Kg=r.isRegisteredSymbol||function(a){try{return n(i(a))!==void 0}catch{return!1}},Kg}var hk;function _ie(){if(hk)return ck;hk=1;var t=Pe(),e=FK();return t({target:"Symbol",stat:!0},{isRegisteredSymbol:e}),ck}var fk={},Gg,pk;function LK(){if(pk)return Gg;pk=1;for(var t=gu(),e=mn(),r=Ye(),n=Rd(),i=tr(),s=e("Symbol"),a=s.isWellKnownSymbol,o=e("Object","getOwnPropertyNames"),l=r(s.prototype.valueOf),u=t("wks"),c=0,h=o(s),f=h.length;c<f;c++)try{var p=h[c];n(s[p])&&i(p)}catch{}return Gg=function(y){if(a&&a(y))return!0;try{for(var b=l(y),g=0,v=o(u),x=v.length;g<x;g++)if(u[v[g]]==b)return!0}catch{}return!1},Gg}var mk;function Sie(){if(mk)return fk;mk=1;var t=Pe(),e=LK();return t({target:"Symbol",stat:!0,forced:!0},{isWellKnownSymbol:e}),fk}var vk={},gk;function Eie(){if(gk)return vk;gk=1;var t=mt();return t("customMatcher"),vk}var yk={},bk;function Oie(){if(bk)return yk;bk=1;var t=mt();return t("observable"),yk}var wk={},xk;function Pie(){if(xk)return wk;xk=1;var t=Pe(),e=FK();return t({target:"Symbol",stat:!0,name:"isRegisteredSymbol"},{isRegistered:e}),wk}var _k={},Sk;function Cie(){if(Sk)return _k;Sk=1;var t=Pe(),e=LK();return t({target:"Symbol",stat:!0,name:"isWellKnownSymbol",forced:!0},{isWellKnown:e}),_k}var Ek={},Ok;function Tie(){if(Ok)return Ek;Ok=1;var t=mt();return t("matcher"),Ek}var Pk={},Ck;function Iie(){if(Ck)return Pk;Ck=1;var t=mt();return t("metadataKey"),Pk}var Tk={},Ik;function Nie(){if(Ik)return Tk;Ik=1;var t=mt();return t("patternMatch"),Tk}var Nk={},Rk;function Rie(){if(Rk)return Nk;Rk=1;var t=mt();return t("replaceAll"),Nk}var Yg,$k;function $ie(){if($k)return Yg;$k=1;var t=xie();return _ie(),Sie(),Eie(),Oie(),Pie(),Cie(),Tie(),Iie(),Nie(),Rie(),Yg=t,Yg}var Qg,jk;function jie(){return jk||(jk=1,Qg=$ie()),Qg}var kie=jie(),Rh=De(kie),kk={},Xg,Dk;function Die(){if(Dk)return Xg;Dk=1;var t=Ye(),e=bu(),r=ca(),n=bo(),i=t("".charAt),s=t("".charCodeAt),a=t("".slice),o=function(l){return function(u,c){var h=r(n(u)),f=e(c),p=h.length,m,y;return f<0||f>=p?l?"":void 0:(m=s(h,f),m<55296||m>56319||f+1===p||(y=s(h,f+1))<56320||y>57343?l?i(h,f):m:l?a(h,f,f+2):(m-55296<<10)+(y-56320)+65536)}};return Xg={codeAt:o(!1),charAt:o(!0)},Xg}var qk;function Fp(){if(qk)return kk;qk=1;var t=Die().charAt,e=ca(),r=qd(),n=jT(),i=kT(),s="String Iterator",a=r.set,o=r.getterFor(s);return n(String,"String",function(l){a(this,{type:s,string:e(l),index:0})},function(){var u=o(this),c=u.string,h=u.index,f;return h>=c.length?i(void 0,!0):(f=t(c,h),u.index+=f.length,i(f,!1))}),kk}var Jg,Mk;function qie(){if(Mk)return Jg;Mk=1,da(),Fp(),kK();var t=Ap();return Jg=t.f("iterator"),Jg}var Zg,Ak;function BK(){if(Ak)return Zg;Ak=1;var t=qie();return ha(),Zg=t,Zg}var ey,Fk;function Mie(){if(Fk)return ey;Fk=1;var t=BK();return ey=t,ey}var ty,Lk;function Aie(){if(Lk)return ty;Lk=1;var t=Mie();return ty=t,ty}var ry,Bk;function Fie(){return Bk||(Bk=1,ry=Aie()),ry}var Lie=Fie(),Bie=De(Lie);function Qc(t){"@babel/helpers - typeof";return Qc=typeof Rh=="function"&&typeof Bie=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Rh=="function"&&e.constructor===Rh&&e!==Rh.prototype?"symbol":typeof e},Qc(t)}var ny,zk;function zie(){if(zk)return ny;zk=1,DK();var t=Ap();return ny=t.f("toPrimitive"),ny}var iy,Uk;function Uie(){if(Uk)return iy;Uk=1;var t=zie();return iy=t,iy}var sy,Wk;function Wie(){if(Wk)return sy;Wk=1;var t=Uie();return sy=t,sy}var ay,Hk;function Hie(){if(Hk)return ay;Hk=1;var t=Wie();return ay=t,ay}var oy,Vk;function Vie(){return Vk||(Vk=1,oy=Hie()),oy}var Kie=Vie(),Gie=De(Kie);function Yie(t,e){if(Qc(t)!="object"||!t)return t;var r=t[Gie];if(r!==void 0){var n=r.call(t,e);if(Qc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Qie(t){var e=Yie(t,"string");return Qc(e)=="symbol"?e:e+""}function Vs(t,e,r){return(e=Qie(e))in t?qne(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var Kk={},ly,Gk;function Xie(){if(Gk)return ly;Gk=1;var t=Ye(),e=as(),r=qr(),n=er(),i=wu(),s=Cd(),a=Function,o=t([].concat),l=t([].join),u={},c=function(h,f,p){if(!n(u,f)){for(var m=[],y=0;y<f;y++)m[y]="a["+y+"]";u[f]=a("C,a","return new C("+l(m,",")+")")}return u[f](h,p)};return ly=s?a.bind:function(f){var p=e(this),m=p.prototype,y=i(arguments,1),b=function(){var v=o(y,i(arguments));return this instanceof b?c(p,v.length,v):p.apply(f,v)};return r(m)&&(b.prototype=m),b},ly}var Yk;function Jie(){if(Yk)return Kk;Yk=1;var t=Pe(),e=Xie();return t({target:"Function",proto:!0,forced:Function.bind!==e},{bind:e}),Kk}var uy,Qk;function tn(){if(Qk)return uy;Qk=1;var t=Mt(),e=Ht();return uy=function(r,n){var i=e[r+"Prototype"],s=i&&i[n];if(s)return s;var a=t[r],o=a&&a.prototype;return o&&o[n]},uy}var cy,Xk;function Zie(){if(Xk)return cy;Xk=1,Jie();var t=tn();return cy=t("Function","bind"),cy}var dy,Jk;function ese(){if(Jk)return dy;Jk=1;var t=Zt(),e=Zie(),r=Function.prototype;return dy=function(n){var i=n.bind;return n===r||t(r,n)&&i===r.bind?e:i},dy}var hy,Zk;function tse(){if(Zk)return hy;Zk=1;var t=ese();return hy=t,hy}var fy,eD;function rse(){return eD||(eD=1,fy=tse()),fy}var nse=rse(),zK=De(nse),tD={},py,rD;function ise(){if(rD)return py;rD=1;var t=as(),e=ri(),r=Ip(),n=la(),i=TypeError,s="Reduce of empty array with no initial value",a=function(o){return function(l,u,c,h){var f=e(l),p=r(f),m=n(f);if(t(u),m===0&&c<2)throw new i(s);var y=o?m-1:0,b=o?-1:1;if(c<2)for(;;){if(y in p){h=p[y],y+=b;break}if(y+=b,o?y<0:m<=y)throw new i(s)}for(;o?y>=0:m>y;y+=b)y in p&&(h=u(h,p[y],y,f));return h}};return py={left:a(!1),right:a(!0)},py}var my,nD;function Lp(){if(nD)return my;nD=1;var t=He();return my=function(e,r){var n=[][e];return!!n&&t(function(){n.call(null,r||function(){return 1},1)})},my}var vy,iD;function UK(){if(iD)return vy;iD=1;var t=Mt(),e=fu(),r=ss(),n=function(i){return e.slice(0,i.length)===i};return vy=function(){return n("Bun/")?"BUN":n("Cloudflare-Workers")?"CLOUDFLARE":n("Deno/")?"DENO":n("Node.js/")?"NODE":t.Bun&&typeof Bun.version=="string"?"BUN":t.Deno&&typeof Deno.version=="object"?"DENO":r(t.process)==="process"?"NODE":t.window&&t.document?"BROWSER":"REST"}(),vy}var gy,sD;function sse(){if(sD)return gy;sD=1;var t=UK();return gy=t==="NODE",gy}var aD;function ase(){if(aD)return tD;aD=1;var t=Pe(),e=ise().left,r=Lp(),n=Nd(),i=sse(),s=!i&&n>79&&n<83,a=s||!r("reduce");return t({target:"Array",proto:!0,forced:a},{reduce:function(l){var u=arguments.length;return e(this,l,u,u>1?arguments[1]:void 0)}}),tD}var yy,oD;function ose(){if(oD)return yy;oD=1,ase();var t=tn();return yy=t("Array","reduce"),yy}var by,lD;function lse(){if(lD)return by;lD=1;var t=Zt(),e=ose(),r=Array.prototype;return by=function(n){var i=n.reduce;return n===r||t(r,n)&&i===r.reduce?e:i},by}var wy,uD;function use(){if(uD)return wy;uD=1;var t=lse();return wy=t,wy}var xy,cD;function cse(){return cD||(cD=1,xy=use()),xy}var dse=cse(),hse=De(dse),dD={},hD;function fse(){if(hD)return dD;hD=1;var t=Pe(),e=xu().filter,r=$d(),n=r("filter");return t({target:"Array",proto:!0,forced:!n},{filter:function(s){return e(this,s,arguments.length>1?arguments[1]:void 0)}}),dD}var _y,fD;function pse(){if(fD)return _y;fD=1,fse();var t=tn();return _y=t("Array","filter"),_y}var Sy,pD;function mse(){if(pD)return Sy;pD=1;var t=Zt(),e=pse(),r=Array.prototype;return Sy=function(n){var i=n.filter;return n===r||t(r,n)&&i===r.filter?e:i},Sy}var Ey,mD;function vse(){if(mD)return Ey;mD=1;var t=mse();return Ey=t,Ey}var Oy,vD;function gse(){return vD||(vD=1,Oy=vse()),Oy}var yse=gse(),il=De(yse),gD={},yD;function bse(){if(yD)return gD;yD=1;var t=Pe(),e=xu().map,r=$d(),n=r("map");return t({target:"Array",proto:!0,forced:!n},{map:function(s){return e(this,s,arguments.length>1?arguments[1]:void 0)}}),gD}var Py,bD;function wse(){if(bD)return Py;bD=1,bse();var t=tn();return Py=t("Array","map"),Py}var Cy,wD;function xse(){if(wD)return Cy;wD=1;var t=Zt(),e=wse(),r=Array.prototype;return Cy=function(n){var i=n.map;return n===r||t(r,n)&&i===r.map?e:i},Cy}var Ty,xD;function _se(){if(xD)return Ty;xD=1;var t=xse();return Ty=t,Ty}var Iy,_D;function Sse(){return _D||(_D=1,Iy=_se()),Iy}var Ese=Sse(),Wn=De(Ese),Ny,SD;function Ose(){return SD||(SD=1,Ny=AK()),Ny}var Pse=Ose(),Cse=De(Pse),ED={},OD;function Tse(){if(OD)return ED;OD=1;var t=Pe(),e=wo(),r=EK(),n=qr(),i=IT(),s=la(),a=_i(),o=jp(),l=tr(),u=$d(),c=wu(),h=u("slice"),f=l("species"),p=Array,m=Math.max;return t({target:"Array",proto:!0,forced:!h},{slice:function(b,g){var v=a(this),x=s(v),w=i(b,x),_=i(g===void 0?x:g,x),E,O,S;if(e(v)&&(E=v.constructor,r(E)&&(E===p||e(E.prototype))?E=void 0:n(E)&&(E=E[f],E===null&&(E=void 0)),E===p||E===void 0))return c(v,w,_);for(O=new(E===void 0?p:E)(m(_-w,0)),S=0;w<_;w++,S++)w in v&&o(O,S,v[w]);return O.length=S,O}}),ED}var Ry,PD;function Ise(){if(PD)return Ry;PD=1,Tse();var t=tn();return Ry=t("Array","slice"),Ry}var $y,CD;function Nse(){if(CD)return $y;CD=1;var t=Zt(),e=Ise(),r=Array.prototype;return $y=function(n){var i=n.slice;return n===r||t(r,n)&&i===r.slice?e:i},$y}var jy,TD;function Rse(){if(TD)return jy;TD=1;var t=Nse();return jy=t,jy}var ky,ID;function $se(){return ID||(ID=1,ky=Rse()),ky}var jse=$se(),kse=De(jse),ND={},Dy,RD;function WK(){if(RD)return Dy;RD=1;var t=mn(),e=Ye(),r=qp(),n=Mp(),i=os(),s=e([].concat);return Dy=t("Reflect","ownKeys")||function(o){var l=r.f(i(o)),u=n.f;return u?s(l,u(o)):l},Dy}var $D;function Dse(){if($D)return ND;$D=1;var t=Pe(),e=WK();return t({target:"Reflect",stat:!0},{ownKeys:e}),ND}var qy,jD;function qse(){if(jD)return qy;jD=1,Dse();var t=Ht();return qy=t.Reflect.ownKeys,qy}var My,kD;function Mse(){if(kD)return My;kD=1;var t=qse();return My=t,My}var Ay,DD;function Ase(){return DD||(DD=1,Ay=Mse()),Ay}var Fse=Ase(),Lse=De(Fse),qD={},MD;function Bse(){if(MD)return qD;MD=1;var t=Pe(),e=wo();return t({target:"Array",stat:!0},{isArray:e}),qD}var Fy,AD;function zse(){if(AD)return Fy;AD=1,Bse();var t=Ht();return Fy=t.Array.isArray,Fy}var Ly,FD;function Use(){if(FD)return Ly;FD=1;var t=zse();return Ly=t,Ly}var By,LD;function Wse(){return LD||(LD=1,By=Use()),By}var Hse=Wse(),li=De(Hse),BD={},zD;function Vse(){if(zD)return BD;zD=1;var t=Pe(),e=ri(),r=kp(),n=He(),i=n(function(){r(1)});return t({target:"Object",stat:!0,forced:i},{keys:function(a){return r(e(a))}}),BD}var zy,UD;function Kse(){if(UD)return zy;UD=1,Vse();var t=Ht();return zy=t.Object.keys,zy}var Uy,WD;function Gse(){if(WD)return Uy;WD=1;var t=Kse();return Uy=t,Uy}var Wy,HD;function Yse(){return HD||(HD=1,Wy=Gse()),Wy}var Qse=Yse(),DT=De(Qse),VD={},Hy,KD;function Xse(){if(KD)return Hy;KD=1;var t=xu().forEach,e=Lp(),r=e("forEach");return Hy=r?[].forEach:function(i){return t(this,i,arguments.length>1?arguments[1]:void 0)},Hy}var GD;function Jse(){if(GD)return VD;GD=1;var t=Pe(),e=Xse();return t({target:"Array",proto:!0,forced:[].forEach!==e},{forEach:e}),VD}var Vy,YD;function Zse(){if(YD)return Vy;YD=1,Jse();var t=tn();return Vy=t("Array","forEach"),Vy}var Ky,QD;function eae(){if(QD)return Ky;QD=1;var t=Zse();return Ky=t,Ky}var Gy,XD;function tae(){if(XD)return Gy;XD=1;var t=ua(),e=er(),r=Zt(),n=eae(),i=Array.prototype,s={DOMTokenList:!0,NodeList:!0};return Gy=function(a){var o=a.forEach;return a===i||r(i,a)&&o===i.forEach||e(s,t(a))?n:o},Gy}var Yy,JD;function rae(){return JD||(JD=1,Yy=tae()),Yy}var nae=rae(),oo=De(nae),ZD={},eq;function iae(){if(eq)return ZD;eq=1;var t=Pe(),e=Ye(),r=wo(),n=e([].reverse),i=[1,2];return t({target:"Array",proto:!0,forced:String(i)===String(i.reverse())},{reverse:function(){return r(this)&&(this.length=this.length),n(this)}}),ZD}var Qy,tq;function sae(){if(tq)return Qy;tq=1,iae();var t=tn();return Qy=t("Array","reverse"),Qy}var Xy,rq;function aae(){if(rq)return Xy;rq=1;var t=Zt(),e=sae(),r=Array.prototype;return Xy=function(n){var i=n.reverse;return n===r||t(r,n)&&i===r.reverse?e:i},Xy}var Jy,nq;function oae(){if(nq)return Jy;nq=1;var t=aae();return Jy=t,Jy}var Zy,iq;function lae(){return iq||(iq=1,Zy=oae()),Zy}var uae=lae(),cae=De(uae),sq={},eb,aq;function dae(){if(aq)return eb;aq=1;var t=At(),e=wo(),r=TypeError,n=Object.getOwnPropertyDescriptor,i=t&&!function(){if(this!==void 0)return!0;try{Object.defineProperty([],"length",{writable:!1}).length=1}catch(s){return s instanceof TypeError}}();return eb=i?function(s,a){if(e(s)&&!n(s,"length").writable)throw new r("Cannot set read only .length");return s.length=a}:function(s,a){return s.length=a},eb}var tb,oq;function HK(){if(oq)return tb;oq=1;var t=mu(),e=TypeError;return tb=function(r,n){if(!delete r[n])throw new e("Cannot delete property "+t(n)+" of "+t(r))},tb}var lq;function hae(){if(lq)return sq;lq=1;var t=Pe(),e=ri(),r=IT(),n=bu(),i=la(),s=dae(),a=SK(),o=TT(),l=jp(),u=HK(),c=$d(),h=c("splice"),f=Math.max,p=Math.min;return t({target:"Array",proto:!0,forced:!h},{splice:function(y,b){var g=e(this),v=i(g),x=r(y,v),w=arguments.length,_,E,O,S,P,C;for(w===0?_=E=0:w===1?(_=0,E=v-x):(_=w-2,E=p(f(n(b),0),v-x)),a(v+_-E),O=o(g,E),S=0;S<E;S++)P=x+S,P in g&&l(O,S,g[P]);if(O.length=E,_<E){for(S=x;S<v-E;S++)P=S+E,C=S+_,P in g?g[C]=g[P]:u(g,C);for(S=v;S>v-E+_;S--)u(g,S-1)}else if(_>E)for(S=v-E;S>x;S--)P=S+E-1,C=S+_-1,P in g?g[C]=g[P]:u(g,C);for(S=0;S<_;S++)g[S+x]=arguments[S+2];return s(g,v-E+_),O}}),sq}var rb,uq;function fae(){if(uq)return rb;uq=1,hae();var t=tn();return rb=t("Array","splice"),rb}var nb,cq;function pae(){if(cq)return nb;cq=1;var t=Zt(),e=fae(),r=Array.prototype;return nb=function(n){var i=n.splice;return n===r||t(r,n)&&i===r.splice?e:i},nb}var ib,dq;function mae(){if(dq)return ib;dq=1;var t=pae();return ib=t,ib}var sb,hq;function vae(){return hq||(hq=1,sb=mae()),sb}var gae=vae(),VK=De(gae),fq={},ab,pq;function yae(){if(pq)return ab;pq=1;var t=At(),e=Ye(),r=en(),n=He(),i=kp(),s=Mp(),a=ST(),o=ri(),l=Ip(),u=Object.assign,c=Object.defineProperty,h=e([].concat);return ab=!u||n(function(){if(t&&u({b:1},u(c({},"a",{enumerable:!0,get:function(){c(this,"b",{value:3,enumerable:!1})}}),{b:2})).b!==1)return!0;var f={},p={},m=Symbol("assign detection"),y="abcdefghijklmnopqrst";return f[m]=7,y.split("").forEach(function(b){p[b]=b}),u({},f)[m]!==7||i(u({},p)).join("")!==y})?function(p,m){for(var y=o(p),b=arguments.length,g=1,v=s.f,x=a.f;b>g;)for(var w=l(arguments[g++]),_=v?h(i(w),v(w)):i(w),E=_.length,O=0,S;E>O;)S=_[O++],(!t||r(x,w,S))&&(y[S]=w[S]);return y}:u,ab}var mq;function bae(){if(mq)return fq;mq=1;var t=Pe(),e=yae();return t({target:"Object",stat:!0,arity:2,forced:Object.assign!==e},{assign:e}),fq}var ob,vq;function wae(){if(vq)return ob;vq=1,bae();var t=Ht();return ob=t.Object.assign,ob}var lb,gq;function xae(){if(gq)return lb;gq=1;var t=wae();return lb=t,lb}var ub,yq;function _ae(){return yq||(yq=1,ub=xae()),ub}var Sae=_ae(),Eae=De(Sae),cb,bq;function Oae(){if(bq)return cb;bq=1,OK();var t=tn();return cb=t("Array","concat"),cb}var db,wq;function Pae(){if(wq)return db;wq=1;var t=Zt(),e=Oae(),r=Array.prototype;return db=function(n){var i=n.concat;return n===r||t(r,n)&&i===r.concat?e:i},db}var hb,xq;function Cae(){if(xq)return hb;xq=1;var t=Pae();return hb=t,hb}var fb,_q;function Tae(){return _q||(_q=1,fb=Cae()),fb}var Iae=Tae(),Nae=De(Iae),Sq={},Eq;function Rae(){if(Eq)return Sq;Eq=1;var t=Pe(),e=At(),r=kd();return t({target:"Object",stat:!0,sham:!e},{create:r}),Sq}var pb,Oq;function $ae(){if(Oq)return pb;Oq=1,Rae();var t=Ht(),e=t.Object;return pb=function(n,i){return e.create(n,i)},pb}var mb,Pq;function jae(){if(Pq)return mb;Pq=1;var t=$ae();return mb=t,mb}var vb,Cq;function kae(){return Cq||(Cq=1,vb=jae()),vb}var Dae=kae(),qae=De(Dae),Tq={},gb,Iq;function Mae(){if(Iq)return gb;Iq=1;var t=bu(),e=ca(),r=bo(),n=RangeError;return gb=function(s){var a=e(r(this)),o="",l=t(s);if(l<0||l===1/0)throw new n("Wrong number of repetitions");for(;l>0;(l>>>=1)&&(a+=a))l&1&&(o+=a);return o},gb}var yb,Nq;function Aae(){if(Nq)return yb;Nq=1;var t=Ye(),e=_K(),r=ca(),n=Mae(),i=bo(),s=t(n),a=t("".slice),o=Math.ceil,l=function(u){return function(c,h,f){var p=r(i(c)),m=e(h),y=p.length,b=f===void 0?" ":r(f),g,v;return m<=y||b===""?p:(g=m-y,v=s(b,o(g/b.length)),v.length>g&&(v=a(v,0,g)),u?p+v:v+p)}};return yb={start:l(!1),end:l(!0)},yb}var bb,Rq;function Fae(){if(Rq)return bb;Rq=1;var t=Ye(),e=He(),r=Aae().start,n=RangeError,i=isFinite,s=Math.abs,a=Date.prototype,o=a.toISOString,l=t(a.getTime),u=t(a.getUTCDate),c=t(a.getUTCFullYear),h=t(a.getUTCHours),f=t(a.getUTCMilliseconds),p=t(a.getUTCMinutes),m=t(a.getUTCMonth),y=t(a.getUTCSeconds);return bb=e(function(){return o.call(new Date(-5e13-1))!=="0385-07-25T07:06:39.999Z"})||!e(function(){o.call(new Date(NaN))})?function(){if(!i(l(this)))throw new n("Invalid time value");var g=this,v=c(g),x=f(g),w=v<0?"-":v>9999?"+":"";return w+r(s(v),w?6:4,0)+"-"+r(m(g)+1,2,0)+"-"+r(u(g),2,0)+"T"+r(h(g),2,0)+":"+r(p(g),2,0)+":"+r(y(g),2,0)+"."+r(x,3,0)+"Z"}:o,bb}var $q;function Lae(){if($q)return Tq;$q=1;var t=Pe(),e=en(),r=ri(),n=gK(),i=Fae(),s=ss(),a=He(),o=a(function(){return new Date(NaN).toJSON()!==null||e(Date.prototype.toJSON,{toISOString:function(){return 1}})!==1});return t({target:"Date",proto:!0,forced:o},{toJSON:function(u){var c=r(this),h=n(c,"number");return typeof h=="number"&&!isFinite(h)?null:!("toISOString"in c)&&s(c)==="Date"?e(i,c):c.toISOString()}}),Tq}var wb,jq;function Bae(){if(jq)return wb;jq=1,Lae(),NK();var t=Ht(),e=Tp();return t.JSON||(t.JSON={stringify:JSON.stringify}),wb=function(n,i,s){return e(t.JSON.stringify,null,arguments)},wb}var xb,kq;function zae(){if(kq)return xb;kq=1;var t=Bae();return xb=t,xb}var _b,Dq;function Uae(){return Dq||(Dq=1,_b=zae()),_b}var Wae=Uae(),Hae=De(Wae),qq={},Mq={},Sb,Aq;function Vae(){if(Aq)return Sb;Aq=1;var t=TypeError;return Sb=function(e,r){if(e<r)throw new t("Not enough arguments");return e},Sb}var Eb,Fq;function KK(){if(Fq)return Eb;Fq=1;var t=Mt(),e=Tp(),r=Jt(),n=UK(),i=fu(),s=wu(),a=Vae(),o=t.Function,l=/MSIE .\./.test(i)||n==="BUN"&&function(){var u=t.Bun.version.split(".");return u.length<3||u[0]==="0"&&(u[1]<3||u[1]==="3"&&u[2]==="0")}();return Eb=function(u,c){var h=c?2:1;return l?function(f,p){var m=a(arguments.length,1)>h,y=r(f)?f:o(f),b=m?s(arguments,h):[],g=m?function(){e(y,this,b)}:y;return c?u(g,p):u(g)}:u},Eb}var Lq;function Kae(){if(Lq)return Mq;Lq=1;var t=Pe(),e=Mt(),r=KK(),n=r(e.setInterval,!0);return t({global:!0,bind:!0,forced:e.setInterval!==n},{setInterval:n}),Mq}var Bq={},zq;function Gae(){if(zq)return Bq;zq=1;var t=Pe(),e=Mt(),r=KK(),n=r(e.setTimeout,!0);return t({global:!0,bind:!0,forced:e.setTimeout!==n},{setTimeout:n}),Bq}var Uq;function Yae(){return Uq||(Uq=1,Kae(),Gae()),qq}var Ob,Wq;function Qae(){if(Wq)return Ob;Wq=1,Yae();var t=Ht();return Ob=t.setTimeout,Ob}var Pb,Hq;function Xae(){return Hq||(Hq=1,Pb=Qae()),Pb}var Jae=Xae(),Zae=De(Jae),Cb={exports:{}},Vq;function eoe(){return Vq||(Vq=1,function(t){function e(n){if(n)return r(n);this._callbacks=new Map}function r(n){return Object.assign(n,e.prototype),n._callbacks=new Map,n}e.prototype.on=function(n,i){const s=this._callbacks.get(n)??[];return s.push(i),this._callbacks.set(n,s),this},e.prototype.once=function(n,i){const s=(...a)=>{this.off(n,s),i.apply(this,a)};return s.fn=i,this.on(n,s),this},e.prototype.off=function(n,i){if(n===void 0&&i===void 0)return this._callbacks.clear(),this;if(i===void 0)return this._callbacks.delete(n),this;const s=this._callbacks.get(n);if(s){for(const[a,o]of s.entries())if(o===i||o.fn===i){s.splice(a,1);break}s.length===0?this._callbacks.delete(n):this._callbacks.set(n,s)}return this},e.prototype.emit=function(n,...i){const s=this._callbacks.get(n);if(s){const a=[...s];for(const o of a)o.apply(this,i)}return this},e.prototype.listeners=function(n){return this._callbacks.get(n)??[]},e.prototype.listenerCount=function(n){if(n)return this.listeners(n).length;let i=0;for(const s of this._callbacks.values())i+=s.length;return i},e.prototype.hasListeners=function(n){return this.listenerCount(n)>0},e.prototype.addEventListener=e.prototype.on,e.prototype.removeListener=e.prototype.off,e.prototype.removeEventListener=e.prototype.off,e.prototype.removeAllListeners=e.prototype.off,t.exports=e}(Cb)),Cb.exports}var toe=eoe(),roe=De(toe);/*! Hammer.JS - v2.0.17-rc - 2019-12-16
 * http://naver.github.io/egjs
 *
 * Forked By Naver egjs
 * Copyright (c) hammerjs
 * Licensed under the MIT license */function Jn(){return Jn=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Jn.apply(this,arguments)}function jn(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}function $h(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}var zP;typeof Object.assign!="function"?zP=function(e){if(e==null)throw new TypeError("Cannot convert undefined or null to object");for(var r=Object(e),n=1;n<arguments.length;n++){var i=arguments[n];if(i!=null)for(var s in i)i.hasOwnProperty(s)&&(r[s]=i[s])}return r}:zP=Object.assign;var lo=zP,Kq=["","webkit","Moz","MS","ms","o"],noe=typeof document>"u"?{style:{}}:document.createElement("div"),ioe="function",sl=Math.round,uo=Math.abs,qT=Date.now;function Bp(t,e){for(var r,n,i=e[0].toUpperCase()+e.slice(1),s=0;s<Kq.length;){if(r=Kq[s],n=r?r+i:e,n in t)return n;s++}}var Fi;typeof window>"u"?Fi={}:Fi=window;var GK=Bp(noe.style,"touchAction"),YK=GK!==void 0;function soe(){if(!YK)return!1;var t={},e=Fi.CSS&&Fi.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach(function(r){return t[r]=e?Fi.CSS.supports("touch-action",r):!0}),t}var QK="compute",XK="auto",UP="manipulation",Wa="none",Xc="pan-x",Jc="pan-y",jh=soe(),aoe=/mobile|tablet|ip(ad|hone|od)|android/i,JK="ontouchstart"in Fi,ooe=Bp(Fi,"PointerEvent")!==void 0,loe=JK&&aoe.test(navigator.userAgent),Md="touch",uoe="pen",MT="mouse",coe="kinect",doe=25,$r=1,_o=2,kt=4,Xr=8,zf=1,Ad=2,Fd=4,Ld=8,Yl=16,wi=Ad|Fd,Ha=Ld|Yl,ZK=wi|Ha,e9=["x","y"],Uf=["clientX","clientY"];function Li(t,e,r){var n;if(t)if(t.forEach)t.forEach(e,r);else if(t.length!==void 0)for(n=0;n<t.length;)e.call(r,t[n],n,t),n++;else for(n in t)t.hasOwnProperty(n)&&e.call(r,t[n],n,t)}function zp(t,e){return typeof t===ioe?t.apply(e&&e[0]||void 0,e):t}function Ca(t,e){return t.indexOf(e)>-1}function hoe(t){if(Ca(t,Wa))return Wa;var e=Ca(t,Xc),r=Ca(t,Jc);return e&&r?Wa:e||r?e?Xc:Jc:Ca(t,UP)?UP:XK}var t9=function(){function t(r,n){this.manager=r,this.set(n)}var e=t.prototype;return e.set=function(n){n===QK&&(n=this.compute()),YK&&this.manager.element.style&&jh[n]&&(this.manager.element.style[GK]=n),this.actions=n.toLowerCase().trim()},e.update=function(){this.set(this.manager.options.touchAction)},e.compute=function(){var n=[];return Li(this.manager.recognizers,function(i){zp(i.options.enable,[i])&&(n=n.concat(i.getTouchAction()))}),hoe(n.join(" "))},e.preventDefaults=function(n){var i=n.srcEvent,s=n.offsetDirection;if(this.manager.session.prevented){i.preventDefault();return}var a=this.actions,o=Ca(a,Wa)&&!jh[Wa],l=Ca(a,Jc)&&!jh[Jc],u=Ca(a,Xc)&&!jh[Xc];if(o){var c=n.pointers.length===1,h=n.distance<2,f=n.deltaTime<250;if(c&&h&&f)return}if(!(u&&l)&&(o||l&&s&wi||u&&s&Ha))return this.preventSrc(i)},e.preventSrc=function(n){this.manager.session.prevented=!0,n.preventDefault()},t}();function AT(t,e){for(;t;){if(t===e)return!0;t=t.parentNode}return!1}function r9(t){var e=t.length;if(e===1)return{x:sl(t[0].clientX),y:sl(t[0].clientY)};for(var r=0,n=0,i=0;i<e;)r+=t[i].clientX,n+=t[i].clientY,i++;return{x:sl(r/e),y:sl(n/e)}}function Gq(t){for(var e=[],r=0;r<t.pointers.length;)e[r]={clientX:sl(t.pointers[r].clientX),clientY:sl(t.pointers[r].clientY)},r++;return{timeStamp:qT(),pointers:e,center:r9(e),deltaX:t.deltaX,deltaY:t.deltaY}}function Wf(t,e,r){r||(r=e9);var n=e[r[0]]-t[r[0]],i=e[r[1]]-t[r[1]];return Math.sqrt(n*n+i*i)}function WP(t,e,r){r||(r=e9);var n=e[r[0]]-t[r[0]],i=e[r[1]]-t[r[1]];return Math.atan2(i,n)*180/Math.PI}function n9(t,e){return t===e?zf:uo(t)>=uo(e)?t<0?Ad:Fd:e<0?Ld:Yl}function foe(t,e){var r=e.center,n=t.offsetDelta||{},i=t.prevDelta||{},s=t.prevInput||{};(e.eventType===$r||s.eventType===kt)&&(i=t.prevDelta={x:s.deltaX||0,y:s.deltaY||0},n=t.offsetDelta={x:r.x,y:r.y}),e.deltaX=i.x+(r.x-n.x),e.deltaY=i.y+(r.y-n.y)}function i9(t,e,r){return{x:e/t||0,y:r/t||0}}function poe(t,e){return Wf(e[0],e[1],Uf)/Wf(t[0],t[1],Uf)}function moe(t,e){return WP(e[1],e[0],Uf)+WP(t[1],t[0],Uf)}function voe(t,e){var r=t.lastInterval||e,n=e.timeStamp-r.timeStamp,i,s,a,o;if(e.eventType!==Xr&&(n>doe||r.velocity===void 0)){var l=e.deltaX-r.deltaX,u=e.deltaY-r.deltaY,c=i9(n,l,u);s=c.x,a=c.y,i=uo(c.x)>uo(c.y)?c.x:c.y,o=n9(l,u),t.lastInterval=e}else i=r.velocity,s=r.velocityX,a=r.velocityY,o=r.direction;e.velocity=i,e.velocityX=s,e.velocityY=a,e.direction=o}function goe(t,e){var r=t.session,n=e.pointers,i=n.length;r.firstInput||(r.firstInput=Gq(e)),i>1&&!r.firstMultiple?r.firstMultiple=Gq(e):i===1&&(r.firstMultiple=!1);var s=r.firstInput,a=r.firstMultiple,o=a?a.center:s.center,l=e.center=r9(n);e.timeStamp=qT(),e.deltaTime=e.timeStamp-s.timeStamp,e.angle=WP(o,l),e.distance=Wf(o,l),foe(r,e),e.offsetDirection=n9(e.deltaX,e.deltaY);var u=i9(e.deltaTime,e.deltaX,e.deltaY);e.overallVelocityX=u.x,e.overallVelocityY=u.y,e.overallVelocity=uo(u.x)>uo(u.y)?u.x:u.y,e.scale=a?poe(a.pointers,n):1,e.rotation=a?moe(a.pointers,n):0,e.maxPointers=r.prevInput?e.pointers.length>r.prevInput.maxPointers?e.pointers.length:r.prevInput.maxPointers:e.pointers.length,voe(r,e);var c=t.element,h=e.srcEvent,f;h.composedPath?f=h.composedPath()[0]:h.path?f=h.path[0]:f=h.target,AT(f,c)&&(c=f),e.target=c}function yoe(t,e,r){var n=r.pointers.length,i=r.changedPointers.length,s=e&$r&&n-i===0,a=e&(kt|Xr)&&n-i===0;r.isFirst=!!s,r.isFinal=!!a,s&&(t.session={}),r.eventType=e,goe(t,r),t.emit("hammer.input",r),t.recognize(r),t.session.prevInput=r}function Zc(t){return t.trim().split(/\s+/g)}function wc(t,e,r){Li(Zc(e),function(n){t.addEventListener(n,r,!1)})}function xc(t,e,r){Li(Zc(e),function(n){t.removeEventListener(n,r,!1)})}function Yq(t){var e=t.ownerDocument||t;return e.defaultView||e.parentWindow||window}var Su=function(){function t(r,n){var i=this;this.manager=r,this.callback=n,this.element=r.element,this.target=r.options.inputTarget,this.domHandler=function(s){zp(r.options.enable,[r])&&i.handler(s)},this.init()}var e=t.prototype;return e.handler=function(){},e.init=function(){this.evEl&&wc(this.element,this.evEl,this.domHandler),this.evTarget&&wc(this.target,this.evTarget,this.domHandler),this.evWin&&wc(Yq(this.element),this.evWin,this.domHandler)},e.destroy=function(){this.evEl&&xc(this.element,this.evEl,this.domHandler),this.evTarget&&xc(this.target,this.evTarget,this.domHandler),this.evWin&&xc(Yq(this.element),this.evWin,this.domHandler)},t}();function co(t,e,r){if(t.indexOf&&!r)return t.indexOf(e);for(var n=0;n<t.length;){if(r&&t[n][r]==e||!r&&t[n]===e)return n;n++}return-1}var boe={pointerdown:$r,pointermove:_o,pointerup:kt,pointercancel:Xr,pointerout:Xr},woe={2:Md,3:uoe,4:MT,5:coe},s9="pointerdown",a9="pointermove pointerup pointercancel";Fi.MSPointerEvent&&!Fi.PointerEvent&&(s9="MSPointerDown",a9="MSPointerMove MSPointerUp MSPointerCancel");var o9=function(t){jn(e,t);function e(){var n,i=e.prototype;return i.evEl=s9,i.evWin=a9,n=t.apply(this,arguments)||this,n.store=n.manager.session.pointerEvents=[],n}var r=e.prototype;return r.handler=function(i){var s=this.store,a=!1,o=i.type.toLowerCase().replace("ms",""),l=boe[o],u=woe[i.pointerType]||i.pointerType,c=u===Md,h=co(s,i.pointerId,"pointerId");l&$r&&(i.button===0||c)?h<0&&(s.push(i),h=s.length-1):l&(kt|Xr)&&(a=!0),!(h<0)&&(s[h]=i,this.callback(this.manager,l,{pointers:s,changedPointers:[i],pointerType:u,srcEvent:i}),a&&s.splice(h,1))},e}(Su);function ed(t){return Array.prototype.slice.call(t,0)}function FT(t,e,r){for(var n=[],i=[],s=0;s<t.length;){var a=e?t[s][e]:t[s];co(i,a)<0&&n.push(t[s]),i[s]=a,s++}return r&&(e?n=n.sort(function(o,l){return o[e]>l[e]}):n=n.sort()),n}var xoe={touchstart:$r,touchmove:_o,touchend:kt,touchcancel:Xr},_oe="touchstart touchmove touchend touchcancel",LT=function(t){jn(e,t);function e(){var n;return e.prototype.evTarget=_oe,n=t.apply(this,arguments)||this,n.targetIds={},n}var r=e.prototype;return r.handler=function(i){var s=xoe[i.type],a=Soe.call(this,i,s);a&&this.callback(this.manager,s,{pointers:a[0],changedPointers:a[1],pointerType:Md,srcEvent:i})},e}(Su);function Soe(t,e){var r=ed(t.touches),n=this.targetIds;if(e&($r|_o)&&r.length===1)return n[r[0].identifier]=!0,[r,r];var i,s,a=ed(t.changedTouches),o=[],l=this.target;if(s=r.filter(function(u){return AT(u.target,l)}),e===$r)for(i=0;i<s.length;)n[s[i].identifier]=!0,i++;for(i=0;i<a.length;)n[a[i].identifier]&&o.push(a[i]),e&(kt|Xr)&&delete n[a[i].identifier],i++;if(o.length)return[FT(s.concat(o),"identifier",!0),o]}var Eoe={mousedown:$r,mousemove:_o,mouseup:kt},Ooe="mousedown",Poe="mousemove mouseup",BT=function(t){jn(e,t);function e(){var n,i=e.prototype;return i.evEl=Ooe,i.evWin=Poe,n=t.apply(this,arguments)||this,n.pressed=!1,n}var r=e.prototype;return r.handler=function(i){var s=Eoe[i.type];s&$r&&i.button===0&&(this.pressed=!0),s&_o&&i.which!==1&&(s=kt),this.pressed&&(s&kt&&(this.pressed=!1),this.callback(this.manager,s,{pointers:[i],changedPointers:[i],pointerType:MT,srcEvent:i}))},e}(Su),Coe=2500,Qq=25;function Xq(t){var e=t.changedPointers,r=e[0];if(r.identifier===this.primaryTouch){var n={x:r.clientX,y:r.clientY},i=this.lastTouches;this.lastTouches.push(n);var s=function(){var o=i.indexOf(n);o>-1&&i.splice(o,1)};setTimeout(s,Coe)}}function Toe(t,e){t&$r?(this.primaryTouch=e.changedPointers[0].identifier,Xq.call(this,e)):t&(kt|Xr)&&Xq.call(this,e)}function Ioe(t){for(var e=t.srcEvent.clientX,r=t.srcEvent.clientY,n=0;n<this.lastTouches.length;n++){var i=this.lastTouches[n],s=Math.abs(e-i.x),a=Math.abs(r-i.y);if(s<=Qq&&a<=Qq)return!0}return!1}var l9=function(){var t=function(e){jn(r,e);function r(i,s){var a;return a=e.call(this,i,s)||this,a.handler=function(o,l,u){var c=u.pointerType===Md,h=u.pointerType===MT;if(!(h&&u.sourceCapabilities&&u.sourceCapabilities.firesTouchEvents)){if(c)Toe.call($h($h(a)),l,u);else if(h&&Ioe.call($h($h(a)),u))return;a.callback(o,l,u)}},a.touch=new LT(a.manager,a.handler),a.mouse=new BT(a.manager,a.handler),a.primaryTouch=null,a.lastTouches=[],a}var n=r.prototype;return n.destroy=function(){this.touch.destroy(),this.mouse.destroy()},r}(Su);return t}();function Noe(t){var e,r=t.options.inputClass;return r?e=r:ooe?e=o9:loe?e=LT:JK?e=l9:e=BT,new e(t,yoe)}function al(t,e,r){return Array.isArray(t)?(Li(t,r[e],r),!0):!1}var rf=1,Tn=2,Ql=4,Ks=8,Bi=Ks,td=16,mi=32,Roe=1;function $oe(){return Roe++}function kh(t,e){var r=e.manager;return r?r.get(t):t}function Jq(t){return t&td?"cancel":t&Ks?"end":t&Ql?"move":t&Tn?"start":""}var Bd=function(){function t(r){r===void 0&&(r={}),this.options=Jn({enable:!0},r),this.id=$oe(),this.manager=null,this.state=rf,this.simultaneous={},this.requireFail=[]}var e=t.prototype;return e.set=function(n){return lo(this.options,n),this.manager&&this.manager.touchAction.update(),this},e.recognizeWith=function(n){if(al(n,"recognizeWith",this))return this;var i=this.simultaneous;return n=kh(n,this),i[n.id]||(i[n.id]=n,n.recognizeWith(this)),this},e.dropRecognizeWith=function(n){return al(n,"dropRecognizeWith",this)?this:(n=kh(n,this),delete this.simultaneous[n.id],this)},e.requireFailure=function(n){if(al(n,"requireFailure",this))return this;var i=this.requireFail;return n=kh(n,this),co(i,n)===-1&&(i.push(n),n.requireFailure(this)),this},e.dropRequireFailure=function(n){if(al(n,"dropRequireFailure",this))return this;n=kh(n,this);var i=co(this.requireFail,n);return i>-1&&this.requireFail.splice(i,1),this},e.hasRequireFailures=function(){return this.requireFail.length>0},e.canRecognizeWith=function(n){return!!this.simultaneous[n.id]},e.emit=function(n){var i=this,s=this.state;function a(o){i.manager.emit(o,n)}s<Ks&&a(i.options.event+Jq(s)),a(i.options.event),n.additionalEvent&&a(n.additionalEvent),s>=Ks&&a(i.options.event+Jq(s))},e.tryEmit=function(n){if(this.canEmit())return this.emit(n);this.state=mi},e.canEmit=function(){for(var n=0;n<this.requireFail.length;){if(!(this.requireFail[n].state&(mi|rf)))return!1;n++}return!0},e.recognize=function(n){var i=lo({},n);if(!zp(this.options.enable,[this,i])){this.reset(),this.state=mi;return}this.state&(Bi|td|mi)&&(this.state=rf),this.state=this.process(i),this.state&(Tn|Ql|Ks|td)&&this.tryEmit(i)},e.process=function(n){},e.getTouchAction=function(){},e.reset=function(){},t}(),HP=function(t){jn(e,t);function e(n){var i;return n===void 0&&(n={}),i=t.call(this,Jn({event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},n))||this,i.pTime=!1,i.pCenter=!1,i._timer=null,i._input=null,i.count=0,i}var r=e.prototype;return r.getTouchAction=function(){return[UP]},r.process=function(i){var s=this,a=this.options,o=i.pointers.length===a.pointers,l=i.distance<a.threshold,u=i.deltaTime<a.time;if(this.reset(),i.eventType&$r&&this.count===0)return this.failTimeout();if(l&&u&&o){if(i.eventType!==kt)return this.failTimeout();var c=this.pTime?i.timeStamp-this.pTime<a.interval:!0,h=!this.pCenter||Wf(this.pCenter,i.center)<a.posThreshold;this.pTime=i.timeStamp,this.pCenter=i.center,!h||!c?this.count=1:this.count+=1,this._input=i;var f=this.count%a.taps;if(f===0)return this.hasRequireFailures()?(this._timer=setTimeout(function(){s.state=Bi,s.tryEmit()},a.interval),Tn):Bi}return mi},r.failTimeout=function(){var i=this;return this._timer=setTimeout(function(){i.state=mi},this.options.interval),mi},r.reset=function(){clearTimeout(this._timer)},r.emit=function(){this.state===Bi&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))},e}(Bd),Xl=function(t){jn(e,t);function e(n){return n===void 0&&(n={}),t.call(this,Jn({pointers:1},n))||this}var r=e.prototype;return r.attrTest=function(i){var s=this.options.pointers;return s===0||i.pointers.length===s},r.process=function(i){var s=this.state,a=i.eventType,o=s&(Tn|Ql),l=this.attrTest(i);return o&&(a&Xr||!l)?s|td:o||l?a&kt?s|Ks:s&Tn?s|Ql:Tn:mi},e}(Bd);function u9(t){return t===Yl?"down":t===Ld?"up":t===Ad?"left":t===Fd?"right":""}var zT=function(t){jn(e,t);function e(n){var i;return n===void 0&&(n={}),i=t.call(this,Jn({event:"pan",threshold:10,pointers:1,direction:ZK},n))||this,i.pX=null,i.pY=null,i}var r=e.prototype;return r.getTouchAction=function(){var i=this.options.direction,s=[];return i&wi&&s.push(Jc),i&Ha&&s.push(Xc),s},r.directionTest=function(i){var s=this.options,a=!0,o=i.distance,l=i.direction,u=i.deltaX,c=i.deltaY;return l&s.direction||(s.direction&wi?(l=u===0?zf:u<0?Ad:Fd,a=u!==this.pX,o=Math.abs(i.deltaX)):(l=c===0?zf:c<0?Ld:Yl,a=c!==this.pY,o=Math.abs(i.deltaY))),i.direction=l,a&&o>s.threshold&&l&s.direction},r.attrTest=function(i){return Xl.prototype.attrTest.call(this,i)&&(this.state&Tn||!(this.state&Tn)&&this.directionTest(i))},r.emit=function(i){this.pX=i.deltaX,this.pY=i.deltaY;var s=u9(i.direction);s&&(i.additionalEvent=this.options.event+s),t.prototype.emit.call(this,i)},e}(Xl),c9=function(t){jn(e,t);function e(n){return n===void 0&&(n={}),t.call(this,Jn({event:"swipe",threshold:10,velocity:.3,direction:wi|Ha,pointers:1},n))||this}var r=e.prototype;return r.getTouchAction=function(){return zT.prototype.getTouchAction.call(this)},r.attrTest=function(i){var s=this.options.direction,a;return s&(wi|Ha)?a=i.overallVelocity:s&wi?a=i.overallVelocityX:s&Ha&&(a=i.overallVelocityY),t.prototype.attrTest.call(this,i)&&s&i.offsetDirection&&i.distance>this.options.threshold&&i.maxPointers===this.options.pointers&&uo(a)>this.options.velocity&&i.eventType&kt},r.emit=function(i){var s=u9(i.offsetDirection);s&&this.manager.emit(this.options.event+s,i),this.manager.emit(this.options.event,i)},e}(Xl),d9=function(t){jn(e,t);function e(n){return n===void 0&&(n={}),t.call(this,Jn({event:"pinch",threshold:0,pointers:2},n))||this}var r=e.prototype;return r.getTouchAction=function(){return[Wa]},r.attrTest=function(i){return t.prototype.attrTest.call(this,i)&&(Math.abs(i.scale-1)>this.options.threshold||this.state&Tn)},r.emit=function(i){if(i.scale!==1){var s=i.scale<1?"in":"out";i.additionalEvent=this.options.event+s}t.prototype.emit.call(this,i)},e}(Xl),h9=function(t){jn(e,t);function e(n){return n===void 0&&(n={}),t.call(this,Jn({event:"rotate",threshold:0,pointers:2},n))||this}var r=e.prototype;return r.getTouchAction=function(){return[Wa]},r.attrTest=function(i){return t.prototype.attrTest.call(this,i)&&(Math.abs(i.rotation)>this.options.threshold||this.state&Tn)},e}(Xl),f9=function(t){jn(e,t);function e(n){var i;return n===void 0&&(n={}),i=t.call(this,Jn({event:"press",pointers:1,time:251,threshold:9},n))||this,i._timer=null,i._input=null,i}var r=e.prototype;return r.getTouchAction=function(){return[XK]},r.process=function(i){var s=this,a=this.options,o=i.pointers.length===a.pointers,l=i.distance<a.threshold,u=i.deltaTime>a.time;if(this._input=i,!l||!o||i.eventType&(kt|Xr)&&!u)this.reset();else if(i.eventType&$r)this.reset(),this._timer=setTimeout(function(){s.state=Bi,s.tryEmit()},a.time);else if(i.eventType&kt)return Bi;return mi},r.reset=function(){clearTimeout(this._timer)},r.emit=function(i){this.state===Bi&&(i&&i.eventType&kt?this.manager.emit(this.options.event+"up",i):(this._input.timeStamp=qT(),this.manager.emit(this.options.event,this._input)))},e}(Bd),p9={domEvents:!1,touchAction:QK,enable:!0,inputTarget:null,inputClass:null,cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}},Zq=[[h9,{enable:!1}],[d9,{enable:!1},["rotate"]],[c9,{direction:wi}],[zT,{direction:wi},["swipe"]],[HP],[HP,{event:"doubletap",taps:2},["tap"]],[f9]],joe=1,eM=2;function tM(t,e){var r=t.element;if(r.style){var n;Li(t.options.cssProps,function(i,s){n=Bp(r.style,s),e?(t.oldCssProps[n]=r.style[n],r.style[n]=i):r.style[n]=t.oldCssProps[n]||""}),e||(t.oldCssProps={})}}function koe(t,e){var r=document.createEvent("Event");r.initEvent(t,!0,!0),r.gesture=e,e.target.dispatchEvent(r)}var rM=function(){function t(r,n){var i=this;this.options=lo({},p9,n||{}),this.options.inputTarget=this.options.inputTarget||r,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=r,this.input=Noe(this),this.touchAction=new t9(this,this.options.touchAction),tM(this,!0),Li(this.options.recognizers,function(s){var a=i.add(new s[0](s[1]));s[2]&&a.recognizeWith(s[2]),s[3]&&a.requireFailure(s[3])},this)}var e=t.prototype;return e.set=function(n){return lo(this.options,n),n.touchAction&&this.touchAction.update(),n.inputTarget&&(this.input.destroy(),this.input.target=n.inputTarget,this.input.init()),this},e.stop=function(n){this.session.stopped=n?eM:joe},e.recognize=function(n){var i=this.session;if(!i.stopped){this.touchAction.preventDefaults(n);var s,a=this.recognizers,o=i.curRecognizer;(!o||o&&o.state&Bi)&&(i.curRecognizer=null,o=null);for(var l=0;l<a.length;)s=a[l],i.stopped!==eM&&(!o||s===o||s.canRecognizeWith(o))?s.recognize(n):s.reset(),!o&&s.state&(Tn|Ql|Ks)&&(i.curRecognizer=s,o=s),l++}},e.get=function(n){if(n instanceof Bd)return n;for(var i=this.recognizers,s=0;s<i.length;s++)if(i[s].options.event===n)return i[s];return null},e.add=function(n){if(al(n,"add",this))return this;var i=this.get(n.options.event);return i&&this.remove(i),this.recognizers.push(n),n.manager=this,this.touchAction.update(),n},e.remove=function(n){if(al(n,"remove",this))return this;var i=this.get(n);if(n){var s=this.recognizers,a=co(s,i);a!==-1&&(s.splice(a,1),this.touchAction.update())}return this},e.on=function(n,i){if(n===void 0||i===void 0)return this;var s=this.handlers;return Li(Zc(n),function(a){s[a]=s[a]||[],s[a].push(i)}),this},e.off=function(n,i){if(n===void 0)return this;var s=this.handlers;return Li(Zc(n),function(a){i?s[a]&&s[a].splice(co(s[a],i),1):delete s[a]}),this},e.emit=function(n,i){this.options.domEvents&&koe(n,i);var s=this.handlers[n]&&this.handlers[n].slice();if(!(!s||!s.length)){i.type=n,i.preventDefault=function(){i.srcEvent.preventDefault()};for(var a=0;a<s.length;)s[a](i),a++}},e.destroy=function(){this.element&&tM(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null},t}(),Doe={touchstart:$r,touchmove:_o,touchend:kt,touchcancel:Xr},qoe="touchstart",Moe="touchstart touchmove touchend touchcancel",Aoe=function(t){jn(e,t);function e(){var n,i=e.prototype;return i.evTarget=qoe,i.evWin=Moe,n=t.apply(this,arguments)||this,n.started=!1,n}var r=e.prototype;return r.handler=function(i){var s=Doe[i.type];if(s===$r&&(this.started=!0),!!this.started){var a=Foe.call(this,i,s);s&(kt|Xr)&&a[0].length-a[1].length===0&&(this.started=!1),this.callback(this.manager,s,{pointers:a[0],changedPointers:a[1],pointerType:Md,srcEvent:i})}},e}(Su);function Foe(t,e){var r=ed(t.touches),n=ed(t.changedTouches);return e&(kt|Xr)&&(r=FT(r.concat(n),"identifier",!0)),[r,n]}function m9(t,e,r){var n="DEPRECATED METHOD: "+e+`
`+r+` AT 
`;return function(){var i=new Error("get-stack-trace"),s=i&&i.stack?i.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",a=window.console&&(window.console.warn||window.console.log);return a&&a.call(window.console,n,s),t.apply(this,arguments)}}var v9=m9(function(t,e,r){for(var n=Object.keys(e),i=0;i<n.length;)(!r||r&&t[n[i]]===void 0)&&(t[n[i]]=e[n[i]]),i++;return t},"extend","Use `assign`."),Loe=m9(function(t,e){return v9(t,e,!0)},"merge","Use `assign`.");function Boe(t,e,r){var n=e.prototype,i;i=t.prototype=Object.create(n),i.constructor=t,i._super=n,r&&lo(i,r)}function nM(t,e){return function(){return t.apply(e,arguments)}}var zoe=function(){var t=function(r,n){return n===void 0&&(n={}),new rM(r,Jn({recognizers:Zq.concat()},n))};return t.VERSION="2.0.17-rc",t.DIRECTION_ALL=ZK,t.DIRECTION_DOWN=Yl,t.DIRECTION_LEFT=Ad,t.DIRECTION_RIGHT=Fd,t.DIRECTION_UP=Ld,t.DIRECTION_HORIZONTAL=wi,t.DIRECTION_VERTICAL=Ha,t.DIRECTION_NONE=zf,t.DIRECTION_DOWN=Yl,t.INPUT_START=$r,t.INPUT_MOVE=_o,t.INPUT_END=kt,t.INPUT_CANCEL=Xr,t.STATE_POSSIBLE=rf,t.STATE_BEGAN=Tn,t.STATE_CHANGED=Ql,t.STATE_ENDED=Ks,t.STATE_RECOGNIZED=Bi,t.STATE_CANCELLED=td,t.STATE_FAILED=mi,t.Manager=rM,t.Input=Su,t.TouchAction=t9,t.TouchInput=LT,t.MouseInput=BT,t.PointerEventInput=o9,t.TouchMouseInput=l9,t.SingleTouchInput=Aoe,t.Recognizer=Bd,t.AttrRecognizer=Xl,t.Tap=HP,t.Pan=zT,t.Swipe=c9,t.Pinch=d9,t.Rotate=h9,t.Press=f9,t.on=wc,t.off=xc,t.each=Li,t.merge=Loe,t.extend=v9,t.bindFn=nM,t.assign=lo,t.inherit=Boe,t.bindFn=nM,t.prefixed=Bp,t.toArray=ed,t.inArray=co,t.uniqueArray=FT,t.splitStr=Zc,t.boolOrFn=zp,t.hasParent=AT,t.addEventListeners=wc,t.removeEventListeners=xc,t.defaults=lo({},p9,{preset:Zq}),t}();const g9=Cse("DELETE");function Uoe(t){for(var e=arguments.length,r=new Array(e>1?e-1:0),n=1;n<e;n++)r[n-1]=arguments[n];return y9({},t,...r)}function y9(){const t=Hf(...arguments);return w9(t),t}function Hf(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];if(e.length<2)return e[0];if(e.length>2)return Hf(y9(e[0],e[1]),...kse(e).call(e,2));const n=e[0],i=e[1];if(n instanceof Date&&i instanceof Date)return n.setTime(i.getTime()),n;for(const s of Lse(i))Object.prototype.propertyIsEnumerable.call(i,s)&&(i[s]===g9?delete n[s]:n[s]!==null&&i[s]!==null&&typeof n[s]=="object"&&typeof i[s]=="object"&&!li(n[s])&&!li(i[s])?n[s]=Hf(n[s],i[s]):n[s]=b9(i[s]));return n}function b9(t){return li(t)?Wn(t).call(t,e=>b9(e)):typeof t=="object"&&t!==null?t instanceof Date?new Date(t.getTime()):Hf({},t):t}function w9(t){for(const e of DT(t))t[e]===g9?delete t[e]:typeof t[e]=="object"&&t[e]!==null&&w9(t[e])}function Woe(){const t=()=>{};return{on:t,off:t,destroy:t,emit:t,get(){return{set:t}}}}const Hoe=typeof window<"u"?window.Hammer||zoe:function(){return Woe()};function Di(t){var e;this._cleanupQueue=[],this.active=!1,this._dom={container:t,overlay:document.createElement("div")},this._dom.overlay.classList.add("vis-overlay"),this._dom.container.appendChild(this._dom.overlay),this._cleanupQueue.push(()=>{this._dom.overlay.parentNode.removeChild(this._dom.overlay)});const r=Hoe(this._dom.overlay);r.on("tap",zK(e=this._onTapOverlay).call(e,this)),this._cleanupQueue.push(()=>{r.destroy()});const n=["tap","doubletap","press","pinch","pan","panstart","panmove","panend"];oo(n).call(n,i=>{r.on(i,s=>{s.srcEvent.stopPropagation()})}),document&&document.body&&(this._onClick=i=>{Voe(i.target,t)||this.deactivate()},document.body.addEventListener("click",this._onClick),this._cleanupQueue.push(()=>{document.body.removeEventListener("click",this._onClick)})),this._escListener=i=>{("key"in i?i.key==="Escape":i.keyCode===27)&&this.deactivate()}}roe(Di.prototype);Di.current=null;Di.prototype.destroy=function(){this.deactivate();for(const r of cae(t=VK(e=this._cleanupQueue).call(e,0)).call(t)){var t,e;r()}};Di.prototype.activate=function(){Di.current&&Di.current.deactivate(),Di.current=this,this.active=!0,this._dom.overlay.style.display="none",this._dom.container.classList.add("vis-active"),this.emit("change"),this.emit("activate"),document.body.addEventListener("keydown",this._escListener)};Di.prototype.deactivate=function(){this.active=!1,this._dom.overlay.style.display="block",this._dom.container.classList.remove("vis-active"),document.body.removeEventListener("keydown",this._escListener),this.emit("change"),this.emit("deactivate")};Di.prototype._onTapOverlay=function(t){this.activate(),t.srcEvent.stopPropagation()};function Voe(t,e){for(;t;){if(t===e)return!0;t=t.parentNode}return!1}var Tb,iM;function Koe(){if(iM)return Tb;iM=1,RK();var t=Ht();return Tb=t.Object.getOwnPropertySymbols,Tb}var Ib,sM;function Goe(){if(sM)return Ib;sM=1;var t=Koe();return Ib=t,Ib}var Nb,aM;function Yoe(){return aM||(aM=1,Nb=Goe()),Nb}var Qoe=Yoe(),oM=De(Qoe),Rb={exports:{}},lM={},uM;function Xoe(){if(uM)return lM;uM=1;var t=Pe(),e=He(),r=_i(),n=Rp().f,i=At(),s=!i||e(function(){n(1)});return t({target:"Object",stat:!0,forced:s,sham:!i},{getOwnPropertyDescriptor:function(o,l){return n(r(o),l)}}),lM}var cM;function Joe(){if(cM)return Rb.exports;cM=1,Xoe();var t=Ht(),e=t.Object,r=Rb.exports=function(i,s){return e.getOwnPropertyDescriptor(i,s)};return e.getOwnPropertyDescriptor.sham&&(r.sham=!0),Rb.exports}var $b,dM;function Zoe(){if(dM)return $b;dM=1;var t=Joe();return $b=t,$b}var jb,hM;function ele(){return hM||(hM=1,jb=Zoe()),jb}var tle=ele(),x9=De(tle),fM={},pM;function rle(){if(pM)return fM;pM=1;var t=Pe(),e=At(),r=WK(),n=_i(),i=Rp(),s=jp();return t({target:"Object",stat:!0,sham:!e},{getOwnPropertyDescriptors:function(o){for(var l=n(o),u=i.f,c=r(l),h={},f=0,p,m;c.length>f;)m=u(l,p=c[f++]),m!==void 0&&s(h,p,m);return h}}),fM}var kb,mM;function nle(){if(mM)return kb;mM=1,rle();var t=Ht();return kb=t.Object.getOwnPropertyDescriptors,kb}var Db,vM;function ile(){if(vM)return Db;vM=1;var t=nle();return Db=t,Db}var qb,gM;function sle(){return gM||(gM=1,qb=ile()),qb}var ale=sle(),yM=De(ale),Mb={exports:{}},bM={},wM;function ole(){if(wM)return bM;wM=1;var t=Pe(),e=At(),r=RT().f;return t({target:"Object",stat:!0,forced:Object.defineProperties!==r,sham:!e},{defineProperties:r}),bM}var xM;function lle(){if(xM)return Mb.exports;xM=1,ole();var t=Ht(),e=t.Object,r=Mb.exports=function(i,s){return e.defineProperties(i,s)};return e.defineProperties.sham&&(r.sham=!0),Mb.exports}var Ab,_M;function ule(){if(_M)return Ab;_M=1;var t=lle();return Ab=t,Ab}var Fb,SM;function cle(){return SM||(SM=1,Fb=ule()),Fb}var dle=cle(),hle=De(dle),Lb,EM;function fle(){return EM||(EM=1,Lb=xK()),Lb}var ple=fle(),mle=De(ple),OM={},PM={},Bb={exports:{}},zb,CM;function vle(){if(CM)return zb;CM=1;var t=He();return zb=t(function(){if(typeof ArrayBuffer=="function"){var e=new ArrayBuffer(8);Object.isExtensible(e)&&Object.defineProperty(e,"a",{value:8})}}),zb}var Ub,TM;function gle(){if(TM)return Ub;TM=1;var t=He(),e=qr(),r=ss(),n=vle(),i=Object.isExtensible,s=t(function(){});return Ub=s||n?function(o){return!e(o)||n&&r(o)==="ArrayBuffer"?!1:i?i(o):!0}:i,Ub}var Wb,IM;function yle(){if(IM)return Wb;IM=1;var t=He();return Wb=!t(function(){return Object.isExtensible(Object.preventExtensions({}))}),Wb}var NM;function _9(){if(NM)return Bb.exports;NM=1;var t=Pe(),e=Ye(),r=jd(),n=qr(),i=er(),s=$n().f,a=qp(),o=CK(),l=gle(),u=Np(),c=yle(),h=!1,f=u("meta"),p=0,m=function(w){s(w,f,{value:{objectID:"O"+p++,weakData:{}}})},y=function(w,_){if(!n(w))return typeof w=="symbol"?w:(typeof w=="string"?"S":"P")+w;if(!i(w,f)){if(!l(w))return"F";if(!_)return"E";m(w)}return w[f].objectID},b=function(w,_){if(!i(w,f)){if(!l(w))return!0;if(!_)return!1;m(w)}return w[f].weakData},g=function(w){return c&&h&&l(w)&&!i(w,f)&&m(w),w},v=function(){x.enable=function(){},h=!0;var w=a.f,_=e([].splice),E={};E[f]=1,w(E).length&&(a.f=function(O){for(var S=w(O),P=0,C=S.length;P<C;P++)if(S[P]===f){_(S,P,1);break}return S},t({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:o.f}))},x=Bb.exports={enable:v,fastKey:y,getWeakData:b,onFreeze:g};return r[f]=!0,Bb.exports}var Hb,RM;function ble(){if(RM)return Hb;RM=1;var t=tr(),e=_u(),r=t("iterator"),n=Array.prototype;return Hb=function(i){return i!==void 0&&(e.Array===i||n[r]===i)},Hb}var Vb,$M;function S9(){if($M)return Vb;$M=1;var t=ua(),e=ET(),r=Id(),n=_u(),i=tr(),s=i("iterator");return Vb=function(a){if(!r(a))return e(a,s)||e(a,"@@iterator")||n[t(a)]},Vb}var Kb,jM;function E9(){if(jM)return Kb;jM=1;var t=en(),e=as(),r=os(),n=mu(),i=S9(),s=TypeError;return Kb=function(a,o){var l=arguments.length<2?i(a):o;if(e(l))return r(t(l,a));throw new s(n(a)+" is not iterable")},Kb}var Gb,kM;function UT(){if(kM)return Gb;kM=1;var t=en(),e=os(),r=ET();return Gb=function(n,i,s){var a,o;e(n);try{if(a=r(n,"return"),!a){if(i==="throw")throw s;return s}a=t(a,n)}catch(l){o=!0,a=l}if(i==="throw")throw s;if(o)throw a;return e(a),s},Gb}var Yb,DM;function WT(){if(DM)return Yb;DM=1;var t=$p(),e=en(),r=os(),n=mu(),i=ble(),s=la(),a=Zt(),o=E9(),l=S9(),u=UT(),c=TypeError,h=function(p,m){this.stopped=p,this.result=m},f=h.prototype;return Yb=function(p,m,y){var b=y&&y.that,g=!!(y&&y.AS_ENTRIES),v=!!(y&&y.IS_RECORD),x=!!(y&&y.IS_ITERATOR),w=!!(y&&y.INTERRUPTED),_=t(m,b),E,O,S,P,C,N,T,I=function(B){return E&&u(E,"normal"),new h(!0,B)},q=function(B){return g?(r(B),w?_(B[0],B[1],I):_(B[0],B[1])):w?_(B,I):_(B)};if(v)E=p.iterator;else if(x)E=p;else{if(O=l(p),!O)throw new c(n(p)+" is not iterable");if(i(O)){for(S=0,P=s(p);P>S;S++)if(C=q(p[S]),C&&a(f,C))return C;return new h(!1)}E=o(p,O)}for(N=v?p.next:E.next;!(T=e(N,E)).done;){try{C=q(T.value)}catch(B){u(E,"throw",B)}if(typeof C=="object"&&C&&a(f,C))return C}return new h(!1)},Yb}var Qb,qM;function O9(){if(qM)return Qb;qM=1;var t=Zt(),e=TypeError;return Qb=function(r,n){if(t(n,r))return r;throw new e("Incorrect invocation")},Qb}var Xb,MM;function P9(){if(MM)return Xb;MM=1;var t=Pe(),e=Mt(),r=_9(),n=He(),i=yu(),s=WT(),a=O9(),o=Jt(),l=qr(),u=Id(),c=xo(),h=$n().f,f=xu().forEach,p=At(),m=qd(),y=m.set,b=m.getterFor;return Xb=function(g,v,x){var w=g.indexOf("Map")!==-1,_=g.indexOf("Weak")!==-1,E=w?"set":"add",O=e[g],S=O&&O.prototype,P={},C;if(!p||!o(O)||!(_||S.forEach&&!n(function(){new O().entries().next()})))C=x.getConstructor(v,g,w,E),r.enable();else{C=v(function(I,q){y(a(I,N),{type:g,collection:new O}),u(q)||s(q,I[E],{that:I,AS_ENTRIES:w})});var N=C.prototype,T=b(g);f(["add","clear","delete","forEach","get","has","set","keys","values","entries"],function(I){var q=I==="add"||I==="set";I in S&&!(_&&I==="clear")&&i(N,I,function(B,re){var Q=T(this).collection;if(!q&&_&&!l(B))return I==="get"?void 0:!1;var L=Q[I](B===0?0:B,re);return q?this:L})}),_||h(N,"size",{configurable:!0,get:function(){return T(this).collection.size}})}return c(C,g,!1,!0),P[g]=C,t({global:!0,forced:!0},P),_||x.setStrong(C,g,w),C},Xb}var Jb,AM;function wle(){if(AM)return Jb;AM=1;var t=Dd();return Jb=function(e,r,n){for(var i in r)n&&n.unsafe&&e[i]?e[i]=r[i]:t(e,i,r[i],n);return e},Jb}var Zb,FM;function xle(){if(FM)return Zb;FM=1;var t=mn(),e=$T(),r=tr(),n=At(),i=r("species");return Zb=function(s){var a=t(s);n&&a&&!a[i]&&e(a,i,{configurable:!0,get:function(){return this}})},Zb}var e0,LM;function C9(){if(LM)return e0;LM=1;var t=kd(),e=$T(),r=wle(),n=$p(),i=O9(),s=Id(),a=WT(),o=jT(),l=kT(),u=xle(),c=At(),h=_9().fastKey,f=qd(),p=f.set,m=f.getterFor;return e0={getConstructor:function(y,b,g,v){var x=y(function(S,P){i(S,w),p(S,{type:b,index:t(null),first:null,last:null,size:0}),c||(S.size=0),s(P)||a(P,S[v],{that:S,AS_ENTRIES:g})}),w=x.prototype,_=m(b),E=function(S,P,C){var N=_(S),T=O(S,P),I,q;return T?T.value=C:(N.last=T={index:q=h(P,!0),key:P,value:C,previous:I=N.last,next:null,removed:!1},N.first||(N.first=T),I&&(I.next=T),c?N.size++:S.size++,q!=="F"&&(N.index[q]=T)),S},O=function(S,P){var C=_(S),N=h(P),T;if(N!=="F")return C.index[N];for(T=C.first;T;T=T.next)if(T.key===P)return T};return r(w,{clear:function(){for(var P=this,C=_(P),N=C.first;N;)N.removed=!0,N.previous&&(N.previous=N.previous.next=null),N=N.next;C.first=C.last=null,C.index=t(null),c?C.size=0:P.size=0},delete:function(S){var P=this,C=_(P),N=O(P,S);if(N){var T=N.next,I=N.previous;delete C.index[N.index],N.removed=!0,I&&(I.next=T),T&&(T.previous=I),C.first===N&&(C.first=T),C.last===N&&(C.last=I),c?C.size--:P.size--}return!!N},forEach:function(P){for(var C=_(this),N=n(P,arguments.length>1?arguments[1]:void 0),T;T=T?T.next:C.first;)for(N(T.value,T.key,this);T&&T.removed;)T=T.previous},has:function(P){return!!O(this,P)}}),r(w,g?{get:function(P){var C=O(this,P);return C&&C.value},set:function(P,C){return E(this,P===0?0:P,C)}}:{add:function(P){return E(this,P=P===0?0:P,P)}}),c&&e(w,"size",{configurable:!0,get:function(){return _(this).size}}),x},setStrong:function(y,b,g){var v=b+" Iterator",x=m(b),w=m(v);o(y,b,function(_,E){p(this,{type:v,target:_,state:x(_),kind:E,last:null})},function(){for(var _=w(this),E=_.kind,O=_.last;O&&O.removed;)O=O.previous;return!_.target||!(_.last=O=O?O.next:_.state.first)?(_.target=null,l(void 0,!0)):l(E==="keys"?O.key:E==="values"?O.value:[O.key,O.value],!1)},g?"entries":"values",!g,!0),u(b)}},e0}var BM;function _le(){if(BM)return PM;BM=1;var t=P9(),e=C9();return t("Map",function(r){return function(){return r(this,arguments.length?arguments[0]:void 0)}},e),PM}var zM;function Sle(){return zM||(zM=1,_le()),OM}var UM={},t0,WM;function T9(){return WM||(WM=1,t0=function(t,e){return e===1?function(r,n){return r[t](n)}:function(r,n,i){return r[t](n,i)}}),t0}var r0,HM;function Ele(){if(HM)return r0;HM=1;var t=mn(),e=T9(),r=t("Map");return r0={Map:r,set:e("set",2),get:e("get",1),has:e("has",1),remove:e("delete",1),proto:r.prototype},r0}var VM;function Ole(){if(VM)return UM;VM=1;var t=Pe(),e=Ye(),r=as(),n=bo(),i=WT(),s=Ele(),a=vu(),o=He(),l=s.Map,u=s.has,c=s.get,h=s.set,f=e([].push),p=a||o(function(){return l.groupBy("ab",function(m){return m}).get("a").length!==1});return t({target:"Map",stat:!0,forced:a||p},{groupBy:function(y,b){n(y),r(b);var g=new l,v=0;return i(y,function(x){var w=b(x,v++);u(g,w)?f(c(g,w),x):h(g,w,[x])}),g}}),UM}var n0,KM;function Ple(){if(KM)return n0;KM=1,da(),Sle(),Ole(),Fp();var t=Ht();return n0=t.Map,n0}var i0,GM;function Cle(){if(GM)return i0;GM=1;var t=Ple();return ha(),i0=t,i0}var s0,YM;function Tle(){return YM||(YM=1,s0=Cle()),s0}var Ile=Tle(),I9=De(Ile),QM={},XM;function Nle(){if(XM)return QM;XM=1;var t=Pe(),e=xu().some,r=Lp(),n=r("some");return t({target:"Array",proto:!0,forced:!n},{some:function(s){return e(this,s,arguments.length>1?arguments[1]:void 0)}}),QM}var a0,JM;function Rle(){if(JM)return a0;JM=1,Nle();var t=tn();return a0=t("Array","some"),a0}var o0,ZM;function $le(){if(ZM)return o0;ZM=1;var t=Zt(),e=Rle(),r=Array.prototype;return o0=function(n){var i=n.some;return n===r||t(r,n)&&i===r.some?e:i},o0}var l0,eA;function jle(){if(eA)return l0;eA=1;var t=$le();return l0=t,l0}var u0,tA;function kle(){return tA||(tA=1,u0=jle()),u0}var Dle=kle(),qle=De(Dle),c0,rA;function Mle(){if(rA)return c0;rA=1,da();var t=tn();return c0=t("Array","keys"),c0}var d0,nA;function Ale(){if(nA)return d0;nA=1;var t=Mle();return d0=t,d0}var h0,iA;function Fle(){if(iA)return h0;iA=1,ha();var t=ua(),e=er(),r=Zt(),n=Ale(),i=Array.prototype,s={DOMTokenList:!0,NodeList:!0};return h0=function(a){var o=a.keys;return a===i||r(i,a)&&o===i.keys||e(s,t(a))?n:o},h0}var f0,sA;function Lle(){return sA||(sA=1,f0=Fle()),f0}var Ble=Lle(),zo=De(Ble),aA={},p0,oA;function zle(){if(oA)return p0;oA=1;var t=wu(),e=Math.floor,r=function(n,i){var s=n.length;if(s<8)for(var a=1,o,l;a<s;){for(l=a,o=n[a];l&&i(n[l-1],o)>0;)n[l]=n[--l];l!==a++&&(n[l]=o)}else for(var u=e(s/2),c=r(t(n,0,u),i),h=r(t(n,u),i),f=c.length,p=h.length,m=0,y=0;m<f||y<p;)n[m+y]=m<f&&y<p?i(c[m],h[y])<=0?c[m++]:h[y++]:m<f?c[m++]:h[y++];return n};return p0=r,p0}var m0,lA;function Ule(){if(lA)return m0;lA=1;var t=fu(),e=t.match(/firefox\/(\d+)/i);return m0=!!e&&+e[1],m0}var v0,uA;function Wle(){if(uA)return v0;uA=1;var t=fu();return v0=/MSIE|Trident/.test(t),v0}var g0,cA;function Hle(){if(cA)return g0;cA=1;var t=fu(),e=t.match(/AppleWebKit\/(\d+)\./);return g0=!!e&&+e[1],g0}var dA;function Vle(){if(dA)return aA;dA=1;var t=Pe(),e=Ye(),r=as(),n=ri(),i=la(),s=HK(),a=ca(),o=He(),l=zle(),u=Lp(),c=Ule(),h=Wle(),f=Nd(),p=Hle(),m=[],y=e(m.sort),b=e(m.push),g=o(function(){m.sort(void 0)}),v=o(function(){m.sort(null)}),x=u("sort"),w=!o(function(){if(f)return f<70;if(!(c&&c>3)){if(h)return!0;if(p)return p<603;var O="",S,P,C,N;for(S=65;S<76;S++){switch(P=String.fromCharCode(S),S){case 66:case 69:case 70:case 72:C=3;break;case 68:case 71:C=4;break;default:C=2}for(N=0;N<47;N++)m.push({k:P+N,v:C})}for(m.sort(function(T,I){return I.v-T.v}),N=0;N<m.length;N++)P=m[N].k.charAt(0),O.charAt(O.length-1)!==P&&(O+=P);return O!=="DGBEFHACIJK"}}),_=g||!v||!x||!w,E=function(O){return function(S,P){return P===void 0?-1:S===void 0?1:O!==void 0?+O(S,P)||0:a(S)>a(P)?1:-1}};return t({target:"Array",proto:!0,forced:_},{sort:function(S){S!==void 0&&r(S);var P=n(this);if(w)return S===void 0?y(P):y(P,S);var C=[],N=i(P),T,I;for(I=0;I<N;I++)I in P&&b(C,P[I]);for(l(C,E(S)),T=i(C),I=0;I<T;)P[I]=C[I++];for(;I<N;)s(P,I++);return P}}),aA}var y0,hA;function Kle(){if(hA)return y0;hA=1,Vle();var t=tn();return y0=t("Array","sort"),y0}var b0,fA;function Gle(){if(fA)return b0;fA=1;var t=Zt(),e=Kle(),r=Array.prototype;return b0=function(n){var i=n.sort;return n===r||t(r,n)&&i===r.sort?e:i},b0}var w0,pA;function Yle(){if(pA)return w0;pA=1;var t=Gle();return w0=t,w0}var x0,mA;function Qle(){return mA||(mA=1,x0=Yle()),x0}var Xle=Qle(),VP=De(Xle),_0,vA;function Jle(){if(vA)return _0;vA=1,da();var t=tn();return _0=t("Array","values"),_0}var S0,gA;function Zle(){if(gA)return S0;gA=1;var t=Jle();return S0=t,S0}var E0,yA;function eue(){if(yA)return E0;yA=1,ha();var t=ua(),e=er(),r=Zt(),n=Zle(),i=Array.prototype,s={DOMTokenList:!0,NodeList:!0};return E0=function(a){var o=a.values;return a===i||r(i,a)&&o===i.values||e(s,t(a))?n:o},E0}var O0,bA;function tue(){return bA||(bA=1,O0=eue()),O0}var rue=tue(),wA=De(rue),P0,xA;function nue(){return xA||(xA=1,P0=BK()),P0}var iue=nue(),ol=De(iue),C0,_A;function sue(){if(_A)return C0;_A=1,da();var t=tn();return C0=t("Array","entries"),C0}var T0,SA;function aue(){if(SA)return T0;SA=1;var t=sue();return T0=t,T0}var I0,EA;function oue(){if(EA)return I0;EA=1,ha();var t=ua(),e=er(),r=Zt(),n=aue(),i=Array.prototype,s={DOMTokenList:!0,NodeList:!0};return I0=function(a){var o=a.entries;return a===i||r(i,a)&&o===i.entries||e(s,t(a))?n:o},I0}var N0,OA;function lue(){return OA||(OA=1,N0=oue()),N0}var uue=lue(),cue=De(uue);const ir=[];for(let t=0;t<256;++t)ir.push((t+256).toString(16).slice(1));function due(t,e=0){return(ir[t[e+0]]+ir[t[e+1]]+ir[t[e+2]]+ir[t[e+3]]+"-"+ir[t[e+4]]+ir[t[e+5]]+"-"+ir[t[e+6]]+ir[t[e+7]]+"-"+ir[t[e+8]]+ir[t[e+9]]+"-"+ir[t[e+10]]+ir[t[e+11]]+ir[t[e+12]]+ir[t[e+13]]+ir[t[e+14]]+ir[t[e+15]]).toLowerCase()}let R0;const hue=new Uint8Array(16);function fue(){if(!R0){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");R0=crypto.getRandomValues.bind(crypto)}return R0(hue)}const pue=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto);var PA={randomUUID:pue};function mue(t,e,r){var i;t=t||{};const n=t.random??((i=t.rng)==null?void 0:i.call(t))??fue();if(n.length<16)throw new Error("Random bytes length must be >= 16");return n[6]=n[6]&15|64,n[8]=n[8]&63|128,due(n)}function vue(t,e,r){return PA.randomUUID&&!t?PA.randomUUID():mue(t)}function CA(t){return typeof t=="string"||typeof t=="number"}class HT{constructor(e){Vs(this,"_queue",[]),Vs(this,"_timeout",null),Vs(this,"_extended",null),this.delay=null,this.max=1/0,this.setOptions(e)}setOptions(e){e&&typeof e.delay<"u"&&(this.delay=e.delay),e&&typeof e.max<"u"&&(this.max=e.max),this._flushIfNeeded()}static extend(e,r){const n=new HT(r);if(e.flush!==void 0)throw new Error("Target object already has a property flush");e.flush=()=>{n.flush()};const i=[{name:"flush",original:void 0}];if(r&&r.replace)for(let s=0;s<r.replace.length;s++){const a=r.replace[s];i.push({name:a,original:e[a]}),n.replace(e,a)}return n._extended={object:e,methods:i},n}destroy(){if(this.flush(),this._extended){const e=this._extended.object,r=this._extended.methods;for(let n=0;n<r.length;n++){const i=r[n];i.original?e[i.name]=i.original:delete e[i.name]}this._extended=null}}replace(e,r){const n=this,i=e[r];if(!i)throw new Error("Method "+r+" undefined");e[r]=function(){for(var s=arguments.length,a=new Array(s),o=0;o<s;o++)a[o]=arguments[o];n.queue({args:a,fn:i,context:this})}}queue(e){typeof e=="function"?this._queue.push({fn:e}):this._queue.push(e),this._flushIfNeeded()}_flushIfNeeded(){this._queue.length>this.max&&this.flush(),this._timeout!=null&&(clearTimeout(this._timeout),this._timeout=null),this.queue.length>0&&typeof this.delay=="number"&&(this._timeout=Zae(()=>{this.flush()},this.delay))}flush(){var e,r;oo(e=VK(r=this._queue).call(r,0)).call(e,n=>{n.fn.apply(n.context||n.fn,n.args||[])})}}class Vf{constructor(){Vs(this,"_subscribers",{"*":[],add:[],remove:[],update:[]}),Vs(this,"subscribe",Vf.prototype.on),Vs(this,"unsubscribe",Vf.prototype.off)}_trigger(e,r,n){var i;if(e==="*")throw new Error("Cannot trigger event *");oo(i=[...this._subscribers[e],...this._subscribers["*"]]).call(i,s=>{s(e,r,n??null)})}on(e,r){typeof r=="function"&&this._subscribers[e].push(r)}off(e,r){var n;this._subscribers[e]=il(n=this._subscribers[e]).call(n,i=>i!==r)}}var TA={},IA={},NA;function gue(){if(NA)return IA;NA=1;var t=P9(),e=C9();return t("Set",function(r){return function(){return r(this,arguments.length?arguments[0]:void 0)}},e),IA}var RA;function yue(){return RA||(RA=1,gue()),TA}var $A={},$0,jA;function So(){if(jA)return $0;jA=1;var t=mu(),e=TypeError;return $0=function(r){if(typeof r=="object"&&"size"in r&&"has"in r&&"add"in r&&"delete"in r&&"keys"in r)return r;throw new e(t(r)+" is not a set")},$0}var j0,kA;function Eo(){if(kA)return j0;kA=1;var t=mn(),e=T9(),r=t("Set"),n=r.prototype;return j0={Set:r,add:e("add",1),has:e("has",1),remove:e("delete",1),proto:n},j0}var k0,DA;function Oo(){if(DA)return k0;DA=1;var t=en();return k0=function(e,r,n){for(var i=n?e:e.iterator,s=e.next,a,o;!(a=t(s,i)).done;)if(o=r(a.value),o!==void 0)return o},k0}var D0,qA;function zd(){if(qA)return D0;qA=1;var t=Oo();return D0=function(e,r,n){return n?t(e.keys(),r,!0):e.forEach(r)},D0}var q0,MA;function VT(){if(MA)return q0;MA=1;var t=Eo(),e=zd(),r=t.Set,n=t.add;return q0=function(i){var s=new r;return e(i,function(a){n(s,a)}),s},q0}var M0,AA;function Ud(){return AA||(AA=1,M0=function(t){return t.size}),M0}var A0,FA;function bue(){return FA||(FA=1,A0=function(t){return{iterator:t,next:t.next,done:!1}}),A0}var F0,LA;function Po(){if(LA)return F0;LA=1;var t=as(),e=os(),r=en(),n=bu(),i=bue(),s="Invalid size",a=RangeError,o=TypeError,l=Math.max,u=function(c,h){this.set=c,this.size=l(h,0),this.has=t(c.has),this.keys=t(c.keys)};return u.prototype={getIterator:function(){return i(e(r(this.keys,this.set)))},includes:function(c){return r(this.has,this.set,c)}},F0=function(c){e(c);var h=+c.size;if(h!==h)throw new o(s);var f=n(h);if(f<0)throw new a(s);return new u(c,f)},F0}var L0,BA;function wue(){if(BA)return L0;BA=1;var t=So(),e=Eo(),r=VT(),n=Ud(),i=Po(),s=zd(),a=Oo(),o=e.has,l=e.remove;return L0=function(c){var h=t(this),f=i(c),p=r(h);return n(h)<=f.size?s(h,function(m){f.includes(m)&&l(p,m)}):a(f.getIterator(),function(m){o(p,m)&&l(p,m)}),p},L0}var B0,zA;function Co(){return zA||(zA=1,B0=function(){return!1}),B0}var UA;function xue(){if(UA)return $A;UA=1;var t=Pe(),e=wue(),r=He(),n=Co(),i=!n("difference",function(a){return a.size===0}),s=i||r(function(){var a={size:1,has:function(){return!0},keys:function(){var l=0;return{next:function(){var u=l++>1;return o.has(1)&&o.clear(),{done:u,value:2}}}}},o=new Set([1,2,3,4]);return o.difference(a).size!==3});return t({target:"Set",proto:!0,real:!0,forced:s},{difference:e}),$A}var WA={},z0,HA;function _ue(){if(HA)return z0;HA=1;var t=So(),e=Eo(),r=Ud(),n=Po(),i=zd(),s=Oo(),a=e.Set,o=e.add,l=e.has;return z0=function(c){var h=t(this),f=n(c),p=new a;return r(h)>f.size?s(f.getIterator(),function(m){l(h,m)&&o(p,m)}):i(h,function(m){f.includes(m)&&o(p,m)}),p},z0}var VA;function Sue(){if(VA)return WA;VA=1;var t=Pe(),e=He(),r=_ue(),n=Co(),i=!n("intersection",function(s){return s.size===2&&s.has(1)&&s.has(2)})||e(function(){return String(Array.from(new Set([1,2,3]).intersection(new Set([3,2]))))!=="3,2"});return t({target:"Set",proto:!0,real:!0,forced:i},{intersection:r}),WA}var KA={},U0,GA;function Eue(){if(GA)return U0;GA=1;var t=So(),e=Eo().has,r=Ud(),n=Po(),i=zd(),s=Oo(),a=UT();return U0=function(l){var u=t(this),c=n(l);if(r(u)<=c.size)return i(u,function(f){if(c.includes(f))return!1},!0)!==!1;var h=c.getIterator();return s(h,function(f){if(e(u,f))return a(h,"normal",!1)})!==!1},U0}var YA;function Oue(){if(YA)return KA;YA=1;var t=Pe(),e=Eue(),r=Co(),n=!r("isDisjointFrom",function(i){return!i});return t({target:"Set",proto:!0,real:!0,forced:n},{isDisjointFrom:e}),KA}var QA={},W0,XA;function Pue(){if(XA)return W0;XA=1;var t=So(),e=Ud(),r=zd(),n=Po();return W0=function(s){var a=t(this),o=n(s);return e(a)>o.size?!1:r(a,function(l){if(!o.includes(l))return!1},!0)!==!1},W0}var JA;function Cue(){if(JA)return QA;JA=1;var t=Pe(),e=Pue(),r=Co(),n=!r("isSubsetOf",function(i){return i});return t({target:"Set",proto:!0,real:!0,forced:n},{isSubsetOf:e}),QA}var ZA={},H0,eF;function Tue(){if(eF)return H0;eF=1;var t=So(),e=Eo().has,r=Ud(),n=Po(),i=Oo(),s=UT();return H0=function(o){var l=t(this),u=n(o);if(r(l)<u.size)return!1;var c=u.getIterator();return i(c,function(h){if(!e(l,h))return s(c,"normal",!1)})!==!1},H0}var tF;function Iue(){if(tF)return ZA;tF=1;var t=Pe(),e=Tue(),r=Co(),n=!r("isSupersetOf",function(i){return!i});return t({target:"Set",proto:!0,real:!0,forced:n},{isSupersetOf:e}),ZA}var rF={},V0,nF;function Nue(){if(nF)return V0;nF=1;var t=So(),e=Eo(),r=VT(),n=Po(),i=Oo(),s=e.add,a=e.has,o=e.remove;return V0=function(u){var c=t(this),h=n(u).getIterator(),f=r(c);return i(h,function(p){a(c,p)?o(f,p):s(f,p)}),f},V0}var K0,iF;function N9(){return iF||(iF=1,K0=function(t){try{var e=new Set,r={size:0,has:function(){return!0},keys:function(){return Object.defineProperty({},"next",{get:function(){return e.clear(),e.add(4),function(){return{done:!0}}}})}},n=e[t](r);return n.size===1&&n.values().next().value===4}catch{return!1}}),K0}var sF;function Rue(){if(sF)return rF;sF=1;var t=Pe(),e=Nue(),r=N9(),n=Co(),i=!n("symmetricDifference")||!r("symmetricDifference");return t({target:"Set",proto:!0,real:!0,forced:i},{symmetricDifference:e}),rF}var aF={},G0,oF;function $ue(){if(oF)return G0;oF=1;var t=So(),e=Eo().add,r=VT(),n=Po(),i=Oo();return G0=function(a){var o=t(this),l=n(a).getIterator(),u=r(o);return i(l,function(c){e(u,c)}),u},G0}var lF;function jue(){if(lF)return aF;lF=1;var t=Pe(),e=$ue(),r=N9(),n=Co(),i=!n("union")||!r("union");return t({target:"Set",proto:!0,real:!0,forced:i},{union:e}),aF}var Y0,uF;function kue(){if(uF)return Y0;uF=1,da(),yue(),xue(),Sue(),Oue(),Cue(),Iue(),Rue(),jue(),Fp();var t=Ht();return Y0=t.Set,Y0}var Q0,cF;function Due(){if(cF)return Q0;cF=1;var t=kue();return ha(),Q0=t,Q0}var X0,dF;function que(){return dF||(dF=1,X0=Due()),X0}var Mue=que(),J0=De(Mue),Z0,hF;function Aue(){if(hF)return Z0;hF=1,da(),Fp();var t=E9();return Z0=t,Z0}var e1,fF;function Fue(){if(fF)return e1;fF=1;var t=Aue();return ha(),e1=t,e1}var t1,pF;function Lue(){if(pF)return t1;pF=1;var t=Fue();return t1=t,t1}var r1,mF;function Bue(){if(mF)return r1;mF=1;var t=Lue();return r1=t,r1}var n1,vF;function zue(){return vF||(vF=1,n1=Bue()),n1}var i1,gF;function Uue(){return gF||(gF=1,i1=zue()),i1}var Wue=Uue(),s1=De(Wue);class Ta{constructor(e){this._pairs=e}*[ol](){for(const[e,r]of this._pairs)yield[e,r]}*entries(){for(const[e,r]of this._pairs)yield[e,r]}*keys(){for(const[e]of this._pairs)yield e}*values(){for(const[,e]of this._pairs)yield e}toIdArray(){var e;return Wn(e=[...this._pairs]).call(e,r=>r[0])}toItemArray(){var e;return Wn(e=[...this._pairs]).call(e,r=>r[1])}toEntryArray(){return[...this._pairs]}toObjectMap(){const e=qae(null);for(const[r,n]of this._pairs)e[r]=n;return e}toMap(){return new I9(this._pairs)}toIdSet(){return new J0(this.toIdArray())}toItemSet(){return new J0(this.toItemArray())}cache(){return new Ta([...this._pairs])}distinct(e){const r=new J0;for(const[n,i]of this._pairs)r.add(e(i,n));return r}filter(e){const r=this._pairs;return new Ta({*[ol](){for(const[n,i]of r)e(i,n)&&(yield[n,i])}})}forEach(e){for(const[r,n]of this._pairs)e(n,r)}map(e){const r=this._pairs;return new Ta({*[ol](){for(const[n,i]of r)yield[n,e(i,n)]}})}max(e){const r=s1(this._pairs);let n=r.next();if(n.done)return null;let i=n.value[1],s=e(n.value[1],n.value[0]);for(;!(n=r.next()).done;){const[a,o]=n.value,l=e(o,a);l>s&&(s=l,i=o)}return i}min(e){const r=s1(this._pairs);let n=r.next();if(n.done)return null;let i=n.value[1],s=e(n.value[1],n.value[0]);for(;!(n=r.next()).done;){const[a,o]=n.value,l=e(o,a);l<s&&(s=l,i=o)}return i}reduce(e,r){for(const[n,i]of this._pairs)r=e(r,i,n);return r}sort(e){return new Ta({[ol]:()=>{var r;return s1(VP(r=[...this._pairs]).call(r,(n,i)=>{let[s,a]=n,[o,l]=i;return e(a,l,s,o)}))}})}}function yF(t,e){var r=DT(t);if(oM){var n=oM(t);e&&(n=il(n).call(n,function(i){return x9(t,i).enumerable})),r.push.apply(r,n)}return r}function bF(t){for(var e=1;e<arguments.length;e++){var r,n,i=arguments[e]!=null?arguments[e]:{};e%2?oo(r=yF(Object(i),!0)).call(r,function(s){Vs(t,s,i[s])}):yM?hle(t,yM(i)):oo(n=yF(Object(i))).call(n,function(s){mle(t,s,x9(i,s))})}return t}function Hue(t,e){return t[e]==null&&(t[e]=vue()),t}class Jl extends Vf{get idProp(){return this._idProp}constructor(e,r){super(),Vs(this,"_queue",null),e&&!li(e)&&(r=e,e=[]),this._options=r||{},this._data=new I9,this.length=0,this._idProp=this._options.fieldId||"id",e&&e.length&&this.add(e),this.setOptions(r)}setOptions(e){e&&e.queue!==void 0&&(e.queue===!1?this._queue&&(this._queue.destroy(),this._queue=null):(this._queue||(this._queue=HT.extend(this,{replace:["add","update","remove"]})),e.queue&&typeof e.queue=="object"&&this._queue.setOptions(e.queue)))}add(e,r){const n=[];let i;if(li(e)){const s=Wn(e).call(e,a=>a[this._idProp]);if(qle(s).call(s,a=>this._data.has(a)))throw new Error("A duplicate id was found in the parameter array.");for(let a=0,o=e.length;a<o;a++)i=this._addItem(e[a]),n.push(i)}else if(e&&typeof e=="object")i=this._addItem(e),n.push(i);else throw new Error("Unknown dataType");return n.length&&this._trigger("add",{items:n},r),n}update(e,r){const n=[],i=[],s=[],a=[],o=this._idProp,l=u=>{const c=u[o];if(c!=null&&this._data.has(c)){const h=u,f=Eae({},this._data.get(c)),p=this._updateItem(h);i.push(p),a.push(h),s.push(f)}else{const h=this._addItem(u);n.push(h)}};if(li(e))for(let u=0,c=e.length;u<c;u++)e[u]&&typeof e[u]=="object"?l(e[u]):console.warn("Ignoring input item, which is not an object at index "+u);else if(e&&typeof e=="object")l(e);else throw new Error("Unknown dataType");if(n.length&&this._trigger("add",{items:n},r),i.length){const u={items:i,oldData:s,data:a};this._trigger("update",u,r)}return Nae(n).call(n,i)}updateOnly(e,r){var n;li(e)||(e=[e]);const i=Wn(n=Wn(e).call(e,s=>{const a=this._data.get(s[this._idProp]);if(a==null)throw new Error("Updating non-existent items is not allowed.");return{oldData:a,update:s}})).call(n,s=>{let{oldData:a,update:o}=s;const l=a[this._idProp],u=Uoe(a,o);return this._data.set(l,u),{id:l,oldData:a,updatedData:u}});if(i.length){const s={items:Wn(i).call(i,a=>a.id),oldData:Wn(i).call(i,a=>a.oldData),data:Wn(i).call(i,a=>a.updatedData)};return this._trigger("update",s,r),s.items}else return[]}get(e,r){let n,i,s;CA(e)?(n=e,s=r):li(e)?(i=e,s=r):s=e;const a=s&&s.returnType==="Object"?"Object":"Array",o=s&&il(s),l=[];let u,c,h;if(n!=null)u=this._data.get(n),u&&o&&!o(u)&&(u=void 0);else if(i!=null)for(let p=0,m=i.length;p<m;p++)u=this._data.get(i[p]),u!=null&&(!o||o(u))&&l.push(u);else{var f;c=[...zo(f=this._data).call(f)];for(let p=0,m=c.length;p<m;p++)h=c[p],u=this._data.get(h),u!=null&&(!o||o(u))&&l.push(u)}if(s&&s.order&&n==null&&this._sort(l,s.order),s&&s.fields){const p=s.fields;if(n!=null&&u!=null)u=this._filterFields(u,p);else for(let m=0,y=l.length;m<y;m++)l[m]=this._filterFields(l[m],p)}if(a=="Object"){const p={};for(let m=0,y=l.length;m<y;m++){const b=l[m],g=b[this._idProp];p[g]=b}return p}else return n!=null?u??null:l}getIds(e){const r=this._data,n=e&&il(e),i=e&&e.order,s=[...zo(r).call(r)],a=[];if(n)if(i){const o=[];for(let l=0,u=s.length;l<u;l++){const c=s[l],h=this._data.get(c);h!=null&&n(h)&&o.push(h)}this._sort(o,i);for(let l=0,u=o.length;l<u;l++)a.push(o[l][this._idProp])}else for(let o=0,l=s.length;o<l;o++){const u=s[o],c=this._data.get(u);c!=null&&n(c)&&a.push(c[this._idProp])}else if(i){const o=[];for(let l=0,u=s.length;l<u;l++){const c=s[l];o.push(r.get(c))}this._sort(o,i);for(let l=0,u=o.length;l<u;l++)a.push(o[l][this._idProp])}else for(let o=0,l=s.length;o<l;o++){const u=s[o],c=r.get(u);c!=null&&a.push(c[this._idProp])}return a}getDataSet(){return this}forEach(e,r){const n=r&&il(r),i=this._data,s=[...zo(i).call(i)];if(r&&r.order){const a=this.get(r);for(let o=0,l=a.length;o<l;o++){const u=a[o],c=u[this._idProp];e(u,c)}}else for(let a=0,o=s.length;a<o;a++){const l=s[a],u=this._data.get(l);u!=null&&(!n||n(u))&&e(u,l)}}map(e,r){const n=r&&il(r),i=[],s=this._data,a=[...zo(s).call(s)];for(let o=0,l=a.length;o<l;o++){const u=a[o],c=this._data.get(u);c!=null&&(!n||n(c))&&i.push(e(c,u))}return r&&r.order&&this._sort(i,r.order),i}_filterFields(e,r){var n;return e&&hse(n=li(r)?r:DT(r)).call(n,(i,s)=>(i[s]=e[s],i),{})}_sort(e,r){if(typeof r=="string"){const n=r;VP(e).call(e,(i,s)=>{const a=i[n],o=s[n];return a>o?1:a<o?-1:0})}else if(typeof r=="function")VP(e).call(e,r);else throw new TypeError("Order must be a function or a string")}remove(e,r){const n=[],i=[],s=li(e)?e:[e];for(let a=0,o=s.length;a<o;a++){const l=this._remove(s[a]);if(l){const u=l[this._idProp];u!=null&&(n.push(u),i.push(l))}}return n.length&&this._trigger("remove",{items:n,oldData:i},r),n}_remove(e){let r;if(CA(e)?r=e:e&&typeof e=="object"&&(r=e[this._idProp]),r!=null&&this._data.has(r)){const n=this._data.get(r)||null;return this._data.delete(r),--this.length,n}return null}clear(e){var r;const n=[...zo(r=this._data).call(r)],i=[];for(let s=0,a=n.length;s<a;s++)i.push(this._data.get(n[s]));return this._data.clear(),this.length=0,this._trigger("remove",{items:n,oldData:i},e),n}max(e){let r=null,n=null;for(const s of wA(i=this._data).call(i)){var i;const a=s[e];typeof a=="number"&&(n==null||a>n)&&(r=s,n=a)}return r||null}min(e){let r=null,n=null;for(const s of wA(i=this._data).call(i)){var i;const a=s[e];typeof a=="number"&&(n==null||a<n)&&(r=s,n=a)}return r||null}distinct(e){const r=this._data,n=[...zo(r).call(r)],i=[];let s=0;for(let a=0,o=n.length;a<o;a++){const l=n[a],c=r.get(l)[e];let h=!1;for(let f=0;f<s;f++)if(i[f]==c){h=!0;break}!h&&c!==void 0&&(i[s]=c,s++)}return i}_addItem(e){const r=Hue(e,this._idProp),n=r[this._idProp];if(this._data.has(n))throw new Error("Cannot add item: item with id "+n+" already exists");return this._data.set(n,r),++this.length,n}_updateItem(e){const r=e[this._idProp];if(r==null)throw new Error("Cannot update item: item has no id (item: "+Hae(e)+")");const n=this._data.get(r);if(!n)throw new Error("Cannot update item: no item with id "+r+" found");return this._data.set(r,bF(bF({},n),e)),r}stream(e){if(e){const n=this._data;return new Ta({*[ol](){for(const i of e){const s=n.get(i);s!=null&&(yield[i,s])}}})}else{var r;return new Ta({[ol]:zK(r=cue(this._data)).call(r,this._data)})}}}function Vue(t,e){return typeof e=="object"&&e!==null&&t===e.idProp&&typeof e.add=="function"&&typeof e.clear=="function"&&typeof e.distinct=="function"&&typeof oo(e)=="function"&&typeof e.get=="function"&&typeof e.getDataSet=="function"&&typeof e.getIds=="function"&&typeof e.length=="number"&&typeof Wn(e)=="function"&&typeof e.max=="function"&&typeof e.min=="function"&&typeof e.off=="function"&&typeof e.on=="function"&&typeof e.remove=="function"&&typeof e.setOptions=="function"&&typeof e.stream=="function"&&typeof e.update=="function"&&typeof e.updateOnly=="function"}function R9(t,e){return typeof e=="object"&&e!==null&&t===e.idProp&&typeof oo(e)=="function"&&typeof e.get=="function"&&typeof e.getDataSet=="function"&&typeof e.getIds=="function"&&typeof e.length=="number"&&typeof Wn(e)=="function"&&typeof e.off=="function"&&typeof e.on=="function"&&typeof e.stream=="function"&&Vue(t,e.getDataSet())}/**
 * vis-network
 * https://visjs.github.io/vis-network/
 *
 * A dynamic, browser-based visualization library.
 *
 * @version 10.0.2
 * @date    2025-09-15T17:48:13.838Z
 *
 * @copyright (c) 2011-2017 Almende B.V, http://almende.com
 * @copyright (c) 2017-2019 visjs contributors, https://github.com/visjs
 *
 * @license
 * vis.js is dual licensed under both
 *
 *   1. The Apache 2.0 License
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 *   and
 *
 *   2. The MIT License
 *      http://opensource.org/licenses/MIT
 *
 * vis.js may be distributed under either license.
 */var wF=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Oe(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var xF={},Zu,_F;function ut(){if(_F)return Zu;_F=1;var t=function(e){return e&&e.Math===Math&&e};return Zu=t(typeof globalThis=="object"&&globalThis)||t(typeof window=="object"&&window)||t(typeof self=="object"&&self)||t(typeof wF=="object"&&wF)||t(typeof Zu=="object"&&Zu)||function(){return this}()||Function("return this")(),Zu}var a1,SF;function qe(){return SF||(SF=1,a1=function(t){try{return!!t()}catch{return!0}}),a1}var o1,EF;function Wd(){if(EF)return o1;EF=1;var t=qe();return o1=!t(function(){var e=(function(){}).bind();return typeof e!="function"||e.hasOwnProperty("prototype")}),o1}var l1,OF;function Up(){if(OF)return l1;OF=1;var t=Wd(),e=Function.prototype,r=e.apply,n=e.call;return l1=typeof Reflect=="object"&&Reflect.apply||(t?n.bind(r):function(){return n.apply(r,arguments)}),l1}var u1,PF;function Ae(){if(PF)return u1;PF=1;var t=Wd(),e=Function.prototype,r=e.call,n=t&&e.bind.bind(r,r);return u1=t?n:function(i){return function(){return r.apply(i,arguments)}},u1}var c1,CF;function Si(){if(CF)return c1;CF=1;var t=Ae(),e=t({}.toString),r=t("".slice);return c1=function(n){return r(e(n),8,-1)},c1}var d1,TF;function KT(){if(TF)return d1;TF=1;var t=Si(),e=Ae();return d1=function(r){if(t(r)==="Function")return e(r)},d1}var h1,IF;function rr(){if(IF)return h1;IF=1;var t=typeof document=="object"&&document.all;return h1=typeof t>"u"&&t!==void 0?function(e){return typeof e=="function"||e===t}:function(e){return typeof e=="function"},h1}var f1={},p1,NF;function It(){if(NF)return p1;NF=1;var t=qe();return p1=!t(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!==7}),p1}var m1,RF;function rn(){if(RF)return m1;RF=1;var t=Wd(),e=Function.prototype.call;return m1=t?e.bind(e):function(){return e.apply(e,arguments)},m1}var v1={},$F;function Wp(){if($F)return v1;$F=1;var t={}.propertyIsEnumerable,e=Object.getOwnPropertyDescriptor,r=e&&!t.call({1:2},1);return v1.f=r?function(i){var s=e(this,i);return!!s&&s.enumerable}:t,v1}var g1,jF;function Hd(){return jF||(jF=1,g1=function(t,e){return{enumerable:!(t&1),configurable:!(t&2),writable:!(t&4),value:e}}),g1}var y1,kF;function Hp(){if(kF)return y1;kF=1;var t=Ae(),e=qe(),r=Si(),n=Object,i=t("".split);return y1=e(function(){return!n("z").propertyIsEnumerable(0)})?function(s){return r(s)==="String"?i(s,""):n(s)}:n,y1}var b1,DF;function Eu(){return DF||(DF=1,b1=function(t){return t==null}),b1}var w1,qF;function ls(){if(qF)return w1;qF=1;var t=Eu(),e=TypeError;return w1=function(r){if(t(r))throw new e("Can't call method on "+r);return r},w1}var x1,MF;function ni(){if(MF)return x1;MF=1;var t=Hp(),e=ls();return x1=function(r){return t(e(r))},x1}var _1,AF;function nr(){if(AF)return _1;AF=1;var t=rr();return _1=function(e){return typeof e=="object"?e!==null:t(e)},_1}var S1,FF;function Ve(){return FF||(FF=1,S1={}),S1}var E1,LF;function vn(){if(LF)return E1;LF=1;var t=Ve(),e=ut(),r=rr(),n=function(i){return r(i)?i:void 0};return E1=function(i,s){return arguments.length<2?n(t[i])||n(e[i]):t[i]&&t[i][s]||e[i]&&e[i][s]},E1}var O1,BF;function Ft(){if(BF)return O1;BF=1;var t=Ae();return O1=t({}.isPrototypeOf),O1}var P1,zF;function Ou(){if(zF)return P1;zF=1;var t=ut(),e=t.navigator,r=e&&e.userAgent;return P1=r?String(r):"",P1}var C1,UF;function Vd(){if(UF)return C1;UF=1;var t=ut(),e=Ou(),r=t.process,n=t.Deno,i=r&&r.versions||n&&n.version,s=i&&i.v8,a,o;return s&&(a=s.split("."),o=a[0]>0&&a[0]<4?1:+(a[0]+a[1])),!o&&e&&(a=e.match(/Edge\/(\d+)/),(!a||a[1]>=74)&&(a=e.match(/Chrome\/(\d+)/),a&&(o=+a[1]))),C1=o,C1}var T1,WF;function Pu(){if(WF)return T1;WF=1;var t=Vd(),e=qe(),r=ut(),n=r.String;return T1=!!Object.getOwnPropertySymbols&&!e(function(){var i=Symbol("symbol detection");return!n(i)||!(Object(i)instanceof Symbol)||!Symbol.sham&&t&&t<41}),T1}var I1,HF;function $9(){if(HF)return I1;HF=1;var t=Pu();return I1=t&&!Symbol.sham&&typeof Symbol.iterator=="symbol",I1}var N1,VF;function Kd(){if(VF)return N1;VF=1;var t=vn(),e=rr(),r=Ft(),n=$9(),i=Object;return N1=n?function(s){return typeof s=="symbol"}:function(s){var a=t("Symbol");return e(a)&&r(a.prototype,i(s))},N1}var R1,KF;function Cu(){if(KF)return R1;KF=1;var t=String;return R1=function(e){try{return t(e)}catch{return"Object"}},R1}var $1,GF;function us(){if(GF)return $1;GF=1;var t=rr(),e=Cu(),r=TypeError;return $1=function(n){if(t(n))return n;throw new r(e(n)+" is not a function")},$1}var j1,YF;function GT(){if(YF)return j1;YF=1;var t=us(),e=Eu();return j1=function(r,n){var i=r[n];return e(i)?void 0:t(i)},j1}var k1,QF;function Kue(){if(QF)return k1;QF=1;var t=rn(),e=rr(),r=nr(),n=TypeError;return k1=function(i,s){var a,o;if(s==="string"&&e(a=i.toString)&&!r(o=t(a,i))||e(a=i.valueOf)&&!r(o=t(a,i))||s!=="string"&&e(a=i.toString)&&!r(o=t(a,i)))return o;throw new n("Can't convert object to primitive value")},k1}var D1={exports:{}},q1,XF;function Tu(){return XF||(XF=1,q1=!0),q1}var M1,JF;function Gue(){if(JF)return M1;JF=1;var t=ut(),e=Object.defineProperty;return M1=function(r,n){try{e(t,r,{value:n,configurable:!0,writable:!0})}catch{t[r]=n}return n},M1}var ZF;function YT(){if(ZF)return D1.exports;ZF=1;var t=Tu(),e=ut(),r=Gue(),n="__core-js_shared__",i=D1.exports=e[n]||r(n,{});return(i.versions||(i.versions=[])).push({version:"3.44.0",mode:t?"pure":"global",copyright:" 2014-2025 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.44.0/LICENSE",source:"https://github.com/zloirock/core-js"}),D1.exports}var A1,eL;function Iu(){if(eL)return A1;eL=1;var t=YT();return A1=function(e,r){return t[e]||(t[e]=r||{})},A1}var F1,tL;function gn(){if(tL)return F1;tL=1;var t=ls(),e=Object;return F1=function(r){return e(t(r))},F1}var L1,rL;function hr(){if(rL)return L1;rL=1;var t=Ae(),e=gn(),r=t({}.hasOwnProperty);return L1=Object.hasOwn||function(i,s){return r(e(i),s)},L1}var B1,nL;function Vp(){if(nL)return B1;nL=1;var t=Ae(),e=0,r=Math.random(),n=t(1.1.toString);return B1=function(i){return"Symbol("+(i===void 0?"":i)+")_"+n(++e+r,36)},B1}var z1,iL;function Lt(){if(iL)return z1;iL=1;var t=ut(),e=Iu(),r=hr(),n=Vp(),i=Pu(),s=$9(),a=t.Symbol,o=e("wks"),l=s?a.for||a:a&&a.withoutSetter||n;return z1=function(u){return r(o,u)||(o[u]=i&&r(a,u)?a[u]:l("Symbol."+u)),o[u]},z1}var U1,sL;function j9(){if(sL)return U1;sL=1;var t=rn(),e=nr(),r=Kd(),n=GT(),i=Kue(),s=Lt(),a=TypeError,o=s("toPrimitive");return U1=function(l,u){if(!e(l)||r(l))return l;var c=n(l,o),h;if(c){if(u===void 0&&(u="default"),h=t(c,l,u),!e(h)||r(h))return h;throw new a("Can't convert object to primitive value")}return u===void 0&&(u="number"),i(l,u)},U1}var W1,aL;function QT(){if(aL)return W1;aL=1;var t=j9(),e=Kd();return W1=function(r){var n=t(r,"string");return e(n)?n:n+""},W1}var H1,oL;function k9(){if(oL)return H1;oL=1;var t=ut(),e=nr(),r=t.document,n=e(r)&&e(r.createElement);return H1=function(i){return n?r.createElement(i):{}},H1}var V1,lL;function D9(){if(lL)return V1;lL=1;var t=It(),e=qe(),r=k9();return V1=!t&&!e(function(){return Object.defineProperty(r("div"),"a",{get:function(){return 7}}).a!==7}),V1}var uL;function Kp(){if(uL)return f1;uL=1;var t=It(),e=rn(),r=Wp(),n=Hd(),i=ni(),s=QT(),a=hr(),o=D9(),l=Object.getOwnPropertyDescriptor;return f1.f=t?l:function(c,h){if(c=i(c),h=s(h),o)try{return l(c,h)}catch{}if(a(c,h))return n(!e(r.f,c,h),c[h])},f1}var K1,cL;function Yue(){if(cL)return K1;cL=1;var t=qe(),e=rr(),r=/#|\.prototype\./,n=function(l,u){var c=s[i(l)];return c===o?!0:c===a?!1:e(u)?t(u):!!u},i=n.normalize=function(l){return String(l).replace(r,".").toLowerCase()},s=n.data={},a=n.NATIVE="N",o=n.POLYFILL="P";return K1=n,K1}var G1,dL;function Gp(){if(dL)return G1;dL=1;var t=KT(),e=us(),r=Wd(),n=t(t.bind);return G1=function(i,s){return e(i),s===void 0?i:r?n(i,s):function(){return i.apply(s,arguments)}},G1}var Y1={},Q1,hL;function q9(){if(hL)return Q1;hL=1;var t=It(),e=qe();return Q1=t&&e(function(){return Object.defineProperty(function(){},"prototype",{value:42,writable:!1}).prototype!==42}),Q1}var X1,fL;function Ei(){if(fL)return X1;fL=1;var t=nr(),e=String,r=TypeError;return X1=function(n){if(t(n))return n;throw new r(e(n)+" is not an object")},X1}var pL;function kn(){if(pL)return Y1;pL=1;var t=It(),e=D9(),r=q9(),n=Ei(),i=QT(),s=TypeError,a=Object.defineProperty,o=Object.getOwnPropertyDescriptor,l="enumerable",u="configurable",c="writable";return Y1.f=t?r?function(f,p,m){if(n(f),p=i(p),n(m),typeof f=="function"&&p==="prototype"&&"value"in m&&c in m&&!m[c]){var y=o(f,p);y&&y[c]&&(f[p]=m.value,m={configurable:u in m?m[u]:y[u],enumerable:l in m?m[l]:y[l],writable:!1})}return a(f,p,m)}:a:function(f,p,m){if(n(f),p=i(p),n(m),e)try{return a(f,p,m)}catch{}if("get"in m||"set"in m)throw new s("Accessors not supported");return"value"in m&&(f[p]=m.value),f},Y1}var J1,mL;function Nu(){if(mL)return J1;mL=1;var t=It(),e=kn(),r=Hd();return J1=t?function(n,i,s){return e.f(n,i,r(1,s))}:function(n,i,s){return n[i]=s,n},J1}var Z1,vL;function ye(){if(vL)return Z1;vL=1;var t=ut(),e=Up(),r=KT(),n=rr(),i=Kp().f,s=Yue(),a=Ve(),o=Gp(),l=Nu(),u=hr(),c=function(h){var f=function(p,m,y){if(this instanceof f){switch(arguments.length){case 0:return new h;case 1:return new h(p);case 2:return new h(p,m)}return new h(p,m,y)}return e(h,this,arguments)};return f.prototype=h.prototype,f};return Z1=function(h,f){var p=h.target,m=h.global,y=h.stat,b=h.proto,g=m?t:y?t[p]:t[p]&&t[p].prototype,v=m?a:a[p]||l(a,p,{})[p],x=v.prototype,w,_,E,O,S,P,C,N,T;for(O in f)w=s(m?O:p+(y?".":"#")+O,h.forced),_=!w&&g&&u(g,O),P=v[O],_&&(h.dontCallGetSet?(T=i(g,O),C=T&&T.value):C=g[O]),S=_&&C?C:f[O],!(!w&&!b&&typeof P==typeof S)&&(h.bind&&_?N=o(S,t):h.wrap&&_?N=c(S):b&&n(S)?N=r(S):N=S,(h.sham||S&&S.sham||P&&P.sham)&&l(N,"sham",!0),l(v,O,N),b&&(E=p+"Prototype",u(a,E)||l(a,E,{}),l(a[E],O,S),h.real&&x&&(w||!x[O])&&l(x,O,S)))},Z1}var ew,gL;function Que(){if(gL)return ew;gL=1;var t=Math.ceil,e=Math.floor;return ew=Math.trunc||function(n){var i=+n;return(i>0?e:t)(i)},ew}var tw,yL;function Ru(){if(yL)return tw;yL=1;var t=Que();return tw=function(e){var r=+e;return r!==r||r===0?0:t(r)},tw}var rw,bL;function Yp(){if(bL)return rw;bL=1;var t=Ru(),e=Math.max,r=Math.min;return rw=function(n,i){var s=t(n);return s<0?e(s+i,0):r(s,i)},rw}var nw,wL;function M9(){if(wL)return nw;wL=1;var t=Ru(),e=Math.min;return nw=function(r){var n=t(r);return n>0?e(n,9007199254740991):0},nw}var iw,xL;function cs(){if(xL)return iw;xL=1;var t=M9();return iw=function(e){return t(e.length)},iw}var sw,_L;function XT(){if(_L)return sw;_L=1;var t=ni(),e=Yp(),r=cs(),n=function(i){return function(s,a,o){var l=t(s),u=r(l);if(u===0)return!i&&-1;var c=e(o,u),h;if(i&&a!==a){for(;u>c;)if(h=l[c++],h!==h)return!0}else for(;u>c;c++)if((i||c in l)&&l[c]===a)return i||c||0;return!i&&-1}};return sw={includes:n(!0),indexOf:n(!1)},sw}var aw,SL;function Gd(){return SL||(SL=1,aw={}),aw}var ow,EL;function A9(){if(EL)return ow;EL=1;var t=Ae(),e=hr(),r=ni(),n=XT().indexOf,i=Gd(),s=t([].push);return ow=function(a,o){var l=r(a),u=0,c=[],h;for(h in l)!e(i,h)&&e(l,h)&&s(c,h);for(;o.length>u;)e(l,h=o[u++])&&(~n(c,h)||s(c,h));return c},ow}var lw,OL;function JT(){return OL||(OL=1,lw=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]),lw}var uw,PL;function Yd(){if(PL)return uw;PL=1;var t=A9(),e=JT();return uw=Object.keys||function(n){return t(n,e)},uw}var cw={},CL;function Qp(){return CL||(CL=1,cw.f=Object.getOwnPropertySymbols),cw}var dw,TL;function Xue(){if(TL)return dw;TL=1;var t=It(),e=Ae(),r=rn(),n=qe(),i=Yd(),s=Qp(),a=Wp(),o=gn(),l=Hp(),u=Object.assign,c=Object.defineProperty,h=e([].concat);return dw=!u||n(function(){if(t&&u({b:1},u(c({},"a",{enumerable:!0,get:function(){c(this,"b",{value:3,enumerable:!1})}}),{b:2})).b!==1)return!0;var f={},p={},m=Symbol("assign detection"),y="abcdefghijklmnopqrst";return f[m]=7,y.split("").forEach(function(b){p[b]=b}),u({},f)[m]!==7||i(u({},p)).join("")!==y})?function(p,m){for(var y=o(p),b=arguments.length,g=1,v=s.f,x=a.f;b>g;)for(var w=l(arguments[g++]),_=v?h(i(w),v(w)):i(w),E=_.length,O=0,S;E>O;)S=_[O++],(!t||r(x,w,S))&&(y[S]=w[S]);return y}:u,dw}var IL;function Jue(){if(IL)return xF;IL=1;var t=ye(),e=Xue();return t({target:"Object",stat:!0,arity:2,forced:Object.assign!==e},{assign:e}),xF}var hw,NL;function Zue(){if(NL)return hw;NL=1,Jue();var t=Ve();return hw=t.Object.assign,hw}var fw,RL;function ece(){if(RL)return fw;RL=1;var t=Zue();return fw=t,fw}var pw,$L;function tce(){return $L||($L=1,pw=ece()),pw}var rce=tce(),Dt=Oe(rce),jL={},mw,kL;function $u(){if(kL)return mw;kL=1;var t=Ae();return mw=t([].slice),mw}var vw,DL;function nce(){if(DL)return vw;DL=1;var t=Ae(),e=us(),r=nr(),n=hr(),i=$u(),s=Wd(),a=Function,o=t([].concat),l=t([].join),u={},c=function(h,f,p){if(!n(u,f)){for(var m=[],y=0;y<f;y++)m[y]="a["+y+"]";u[f]=a("C,a","return new C("+l(m,",")+")")}return u[f](h,p)};return vw=s?a.bind:function(f){var p=e(this),m=p.prototype,y=i(arguments,1),b=function(){var v=o(y,i(arguments));return this instanceof b?c(p,v.length,v):p.apply(f,v)};return r(m)&&(b.prototype=m),b},vw}var qL;function ice(){if(qL)return jL;qL=1;var t=ye(),e=nce();return t({target:"Function",proto:!0,forced:Function.bind!==e},{bind:e}),jL}var gw,ML;function fr(){if(ML)return gw;ML=1;var t=ut(),e=Ve();return gw=function(r,n){var i=e[r+"Prototype"],s=i&&i[n];if(s)return s;var a=t[r],o=a&&a.prototype;return o&&o[n]},gw}var yw,AL;function sce(){if(AL)return yw;AL=1,ice();var t=fr();return yw=t("Function","bind"),yw}var bw,FL;function ace(){if(FL)return bw;FL=1;var t=Ft(),e=sce(),r=Function.prototype;return bw=function(n){var i=n.bind;return n===r||t(r,n)&&i===r.bind?e:i},bw}var ww,LL;function oce(){if(LL)return ww;LL=1;var t=ace();return ww=t,ww}var xw,BL;function lce(){return BL||(BL=1,xw=oce()),xw}var uce=lce(),ee=Oe(uce);function ZT(t,e,r,n){t.beginPath(),t.arc(e,r,n,0,2*Math.PI,!1),t.closePath()}function cce(t,e,r,n){t.beginPath(),t.rect(e-n,r-n,n*2,n*2),t.closePath()}function dce(t,e,r,n){t.beginPath(),n*=1.15,r+=.275*n;const i=n*2,s=i/2,a=Math.sqrt(3)/6*i,o=Math.sqrt(i*i-s*s);t.moveTo(e,r-(o-a)),t.lineTo(e+s,r+a),t.lineTo(e-s,r+a),t.lineTo(e,r-(o-a)),t.closePath()}function hce(t,e,r,n){t.beginPath(),n*=1.15,r-=.275*n;const i=n*2,s=i/2,a=Math.sqrt(3)/6*i,o=Math.sqrt(i*i-s*s);t.moveTo(e,r+(o-a)),t.lineTo(e+s,r-a),t.lineTo(e-s,r-a),t.lineTo(e,r+(o-a)),t.closePath()}function fce(t,e,r,n){t.beginPath(),n*=.82,r+=.1*n;for(let i=0;i<10;i++){const s=i%2===0?n*1.3:n*.5;t.lineTo(e+s*Math.sin(i*2*Math.PI/10),r-s*Math.cos(i*2*Math.PI/10))}t.closePath()}function pce(t,e,r,n){t.beginPath(),t.lineTo(e,r+n),t.lineTo(e+n,r),t.lineTo(e,r-n),t.lineTo(e-n,r),t.closePath()}function F9(t,e,r,n,i,s){const a=Math.PI/180;n-2*s<0&&(s=n/2),i-2*s<0&&(s=i/2),t.beginPath(),t.moveTo(e+s,r),t.lineTo(e+n-s,r),t.arc(e+n-s,r+s,s,a*270,a*360,!1),t.lineTo(e+n,r+i-s),t.arc(e+n-s,r+i-s,s,0,a*90,!1),t.lineTo(e+s,r+i),t.arc(e+s,r+i-s,s,a*90,a*180,!1),t.lineTo(e,r+s),t.arc(e+s,r+s,s,a*180,a*270,!1),t.closePath()}function KP(t,e,r,n,i){const s=.5522848,a=n/2*s,o=i/2*s,l=e+n,u=r+i,c=e+n/2,h=r+i/2;t.beginPath(),t.moveTo(e,h),t.bezierCurveTo(e,h-o,c-a,r,c,r),t.bezierCurveTo(c+a,r,l,h-o,l,h),t.bezierCurveTo(l,h+o,c+a,u,c,u),t.bezierCurveTo(c-a,u,e,h+o,e,h),t.closePath()}function L9(t,e,r,n,i){const s=.3333333333333333,a=n,o=i*s,l=.5522848,u=a/2*l,c=o/2*l,h=e+a,f=r+o,p=e+a/2,m=r+o/2,y=r+(i-o/2),b=r+i;t.beginPath(),t.moveTo(h,m),t.bezierCurveTo(h,m+c,p+u,f,p,f),t.bezierCurveTo(p-u,f,e,m+c,e,m),t.bezierCurveTo(e,m-c,p-u,r,p,r),t.bezierCurveTo(p+u,r,h,m-c,h,m),t.lineTo(h,y),t.bezierCurveTo(h,y+c,p+u,b,p,b),t.bezierCurveTo(p-u,b,e,y+c,e,y),t.lineTo(e,m)}function B9(t,e,r,n,i,s){t.beginPath(),t.moveTo(e,r);const a=s.length,o=n-e,l=i-r,u=l/o;let c=Math.sqrt(o*o+l*l),h=0,f=!0,p=0,m=+s[0];for(;c>=.1;)m=+s[h++%a],m>c&&(m=c),p=Math.sqrt(m*m/(1+u*u)),p=o<0?-p:p,e+=p,r+=u*p,f===!0?t.lineTo(e,r):t.moveTo(e,r),c-=m,f=!f}function mce(t,e,r,n){t.beginPath();const i=6,s=Math.PI*2/i;t.moveTo(e+n,r);for(let a=1;a<i;a++)t.lineTo(e+n*Math.cos(s*a),r+n*Math.sin(s*a));t.closePath()}const zL={circle:ZT,dashedLine:B9,database:L9,diamond:pce,ellipse:KP,ellipse_vis:KP,hexagon:mce,roundRect:F9,square:cce,star:fce,triangle:dce,triangleDown:hce};function vce(t){return Object.prototype.hasOwnProperty.call(zL,t)?zL[t]:function(e){for(var r=arguments.length,n=new Array(r>1?r-1:0),i=1;i<r;i++)n[i-1]=arguments[i];CanvasRenderingContext2D.prototype[t].call(e,n)}}var _w={exports:{}},UL;function gce(){return UL||(UL=1,function(t){t.exports=e;function e(n){if(n)return r(n)}function r(n){for(var i in e.prototype)n[i]=e.prototype[i];return n}e.prototype.on=e.prototype.addEventListener=function(n,i){return this._callbacks=this._callbacks||{},(this._callbacks["$"+n]=this._callbacks["$"+n]||[]).push(i),this},e.prototype.once=function(n,i){function s(){this.off(n,s),i.apply(this,arguments)}return s.fn=i,this.on(n,s),this},e.prototype.off=e.prototype.removeListener=e.prototype.removeAllListeners=e.prototype.removeEventListener=function(n,i){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var s=this._callbacks["$"+n];if(!s)return this;if(arguments.length==1)return delete this._callbacks["$"+n],this;for(var a,o=0;o<s.length;o++)if(a=s[o],a===i||a.fn===i){s.splice(o,1);break}return s.length===0&&delete this._callbacks["$"+n],this},e.prototype.emit=function(n){this._callbacks=this._callbacks||{};for(var i=new Array(arguments.length-1),s=this._callbacks["$"+n],a=1;a<arguments.length;a++)i[a-1]=arguments[a];if(s){s=s.slice(0);for(var a=0,o=s.length;a<o;++a)s[a].apply(this,i)}return this},e.prototype.listeners=function(n){return this._callbacks=this._callbacks||{},this._callbacks["$"+n]||[]},e.prototype.hasListeners=function(n){return!!this.listeners(n).length}}(_w)),_w.exports}var yce=gce(),z9=Oe(yce),WL={},Sw,HL;function To(){if(HL)return Sw;HL=1;var t=Si();return Sw=Array.isArray||function(r){return t(r)==="Array"},Sw}var Ew,VL;function U9(){if(VL)return Ew;VL=1;var t=TypeError,e=9007199254740991;return Ew=function(r){if(r>e)throw t("Maximum allowed index exceeded");return r},Ew}var Ow,KL;function Xp(){if(KL)return Ow;KL=1;var t=It(),e=kn(),r=Hd();return Ow=function(n,i,s){t?e.f(n,i,r(0,s)):n[i]=s},Ow}var Pw,GL;function eI(){if(GL)return Pw;GL=1;var t=Lt(),e=t("toStringTag"),r={};return r[e]="z",Pw=String(r)==="[object z]",Pw}var Cw,YL;function ju(){if(YL)return Cw;YL=1;var t=eI(),e=rr(),r=Si(),n=Lt(),i=n("toStringTag"),s=Object,a=r(function(){return arguments}())==="Arguments",o=function(l,u){try{return l[u]}catch{}};return Cw=t?r:function(l){var u,c,h;return l===void 0?"Undefined":l===null?"Null":typeof(c=o(u=s(l),i))=="string"?c:a?r(u):(h=r(u))==="Object"&&e(u.callee)?"Arguments":h},Cw}var Tw,QL;function bce(){if(QL)return Tw;QL=1;var t=Ae(),e=rr(),r=YT(),n=t(Function.toString);return e(r.inspectSource)||(r.inspectSource=function(i){return n(i)}),Tw=r.inspectSource,Tw}var Iw,XL;function W9(){if(XL)return Iw;XL=1;var t=Ae(),e=qe(),r=rr(),n=ju(),i=vn(),s=bce(),a=function(){},o=i("Reflect","construct"),l=/^\s*(?:class|function)\b/,u=t(l.exec),c=!l.test(a),h=function(m){if(!r(m))return!1;try{return o(a,[],m),!0}catch{return!1}},f=function(m){if(!r(m))return!1;switch(n(m)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return c||!!u(l,s(m))}catch{return!0}};return f.sham=!0,Iw=!o||e(function(){var p;return h(h.call)||!h(Object)||!h(function(){p=!0})||p})?f:h,Iw}var Nw,JL;function wce(){if(JL)return Nw;JL=1;var t=To(),e=W9(),r=nr(),n=Lt(),i=n("species"),s=Array;return Nw=function(a){var o;return t(a)&&(o=a.constructor,e(o)&&(o===s||t(o.prototype))?o=void 0:r(o)&&(o=o[i],o===null&&(o=void 0))),o===void 0?s:o},Nw}var Rw,ZL;function tI(){if(ZL)return Rw;ZL=1;var t=wce();return Rw=function(e,r){return new(t(e))(r===0?0:r)},Rw}var $w,e4;function Qd(){if(e4)return $w;e4=1;var t=qe(),e=Lt(),r=Vd(),n=e("species");return $w=function(i){return r>=51||!t(function(){var s=[],a=s.constructor={};return a[n]=function(){return{foo:1}},s[i](Boolean).foo!==1})},$w}var t4;function H9(){if(t4)return WL;t4=1;var t=ye(),e=qe(),r=To(),n=nr(),i=gn(),s=cs(),a=U9(),o=Xp(),l=tI(),u=Qd(),c=Lt(),h=Vd(),f=c("isConcatSpreadable"),p=h>=51||!e(function(){var b=[];return b[f]=!1,b.concat()[0]!==b}),m=function(b){if(!n(b))return!1;var g=b[f];return g!==void 0?!!g:r(b)},y=!p||!u("concat");return t({target:"Array",proto:!0,arity:1,forced:y},{concat:function(g){var v=i(this),x=l(v,0),w=0,_,E,O,S,P;for(_=-1,O=arguments.length;_<O;_++)if(P=_===-1?v:arguments[_],m(P))for(S=s(P),a(w+S),E=0;E<S;E++,w++)E in P&&o(x,w,P[E]);else a(w+1),o(x,w++,P);return x.length=w,x}}),WL}var r4={},n4={},jw,i4;function Dn(){if(i4)return jw;i4=1;var t=ju(),e=String;return jw=function(r){if(t(r)==="Symbol")throw new TypeError("Cannot convert a Symbol value to a string");return e(r)},jw}var kw={},s4;function rI(){if(s4)return kw;s4=1;var t=It(),e=q9(),r=kn(),n=Ei(),i=ni(),s=Yd();return kw.f=t&&!e?Object.defineProperties:function(o,l){n(o);for(var u=i(l),c=s(l),h=c.length,f=0,p;h>f;)r.f(o,p=c[f++],u[p]);return o},kw}var Dw,a4;function xce(){if(a4)return Dw;a4=1;var t=vn();return Dw=t("document","documentElement"),Dw}var qw,o4;function Jp(){if(o4)return qw;o4=1;var t=Iu(),e=Vp(),r=t("keys");return qw=function(n){return r[n]||(r[n]=e(n))},qw}var Mw,l4;function Xd(){if(l4)return Mw;l4=1;var t=Ei(),e=rI(),r=JT(),n=Gd(),i=xce(),s=k9(),a=Jp(),o=">",l="<",u="prototype",c="script",h=a("IE_PROTO"),f=function(){},p=function(v){return l+c+o+v+l+"/"+c+o},m=function(v){v.write(p("")),v.close();var x=v.parentWindow.Object;return v=null,x},y=function(){var v=s("iframe"),x="java"+c+":",w;return v.style.display="none",i.appendChild(v),v.src=String(x),w=v.contentWindow.document,w.open(),w.write(p("document.F=Object")),w.close(),w.F},b,g=function(){try{b=new ActiveXObject("htmlfile")}catch{}g=typeof document<"u"?document.domain&&b?m(b):y():m(b);for(var v=r.length;v--;)delete g[u][r[v]];return g()};return n[h]=!0,Mw=Object.create||function(x,w){var _;return x!==null?(f[u]=t(x),_=new f,f[u]=null,_[h]=x):_=g(),w===void 0?_:e.f(_,w)},Mw}var Aw={},u4;function Zp(){if(u4)return Aw;u4=1;var t=A9(),e=JT(),r=e.concat("length","prototype");return Aw.f=Object.getOwnPropertyNames||function(i){return t(i,r)},Aw}var Fw={},c4;function nI(){if(c4)return Fw;c4=1;var t=Si(),e=ni(),r=Zp().f,n=$u(),i=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],s=function(a){try{return r(a)}catch{return n(i)}};return Fw.f=function(o){return i&&t(o)==="Window"?s(o):r(e(o))},Fw}var Lw,d4;function Jd(){if(d4)return Lw;d4=1;var t=Nu();return Lw=function(e,r,n,i){return i&&i.enumerable?e[r]=n:t(e,r,n),e},Lw}var Bw,h4;function iI(){if(h4)return Bw;h4=1;var t=kn();return Bw=function(e,r,n){return t.f(e,r,n)},Bw}var zw={},f4;function em(){if(f4)return zw;f4=1;var t=Lt();return zw.f=t,zw}var Uw,p4;function vt(){if(p4)return Uw;p4=1;var t=Ve(),e=hr(),r=em(),n=kn().f;return Uw=function(i){var s=t.Symbol||(t.Symbol={});e(s,i)||n(s,i,{value:r.f(i)})},Uw}var Ww,m4;function V9(){if(m4)return Ww;m4=1;var t=rn(),e=vn(),r=Lt(),n=Jd();return Ww=function(){var i=e("Symbol"),s=i&&i.prototype,a=s&&s.valueOf,o=r("toPrimitive");s&&!s[o]&&n(s,o,function(l){return t(a,this)},{arity:1})},Ww}var Hw,v4;function _ce(){if(v4)return Hw;v4=1;var t=eI(),e=ju();return Hw=t?{}.toString:function(){return"[object "+e(this)+"]"},Hw}var Vw,g4;function Io(){if(g4)return Vw;g4=1;var t=eI(),e=kn().f,r=Nu(),n=hr(),i=_ce(),s=Lt(),a=s("toStringTag");return Vw=function(o,l,u,c){var h=u?o:o&&o.prototype;h&&(n(h,a)||e(h,a,{configurable:!0,value:l}),c&&!t&&r(h,"toString",i))},Vw}var Kw,y4;function K9(){if(y4)return Kw;y4=1;var t=ut(),e=rr(),r=t.WeakMap;return Kw=e(r)&&/native code/.test(String(r)),Kw}var Gw,b4;function No(){if(b4)return Gw;b4=1;var t=K9(),e=ut(),r=nr(),n=Nu(),i=hr(),s=YT(),a=Jp(),o=Gd(),l="Object already initialized",u=e.TypeError,c=e.WeakMap,h,f,p,m=function(v){return p(v)?f(v):h(v,{})},y=function(v){return function(x){var w;if(!r(x)||(w=f(x)).type!==v)throw new u("Incompatible receiver, "+v+" required");return w}};if(t||s.state){var b=s.state||(s.state=new c);b.get=b.get,b.has=b.has,b.set=b.set,h=function(v,x){if(b.has(v))throw new u(l);return x.facade=v,b.set(v,x),x},f=function(v){return b.get(v)||{}},p=function(v){return b.has(v)}}else{var g=a("state");o[g]=!0,h=function(v,x){if(i(v,g))throw new u(l);return x.facade=v,n(v,g,x),x},f=function(v){return i(v,g)?v[g]:{}},p=function(v){return i(v,g)}}return Gw={set:h,get:f,has:p,enforce:m,getterFor:y},Gw}var Yw,w4;function fa(){if(w4)return Yw;w4=1;var t=Gp(),e=Ae(),r=Hp(),n=gn(),i=cs(),s=tI(),a=e([].push),o=function(l){var u=l===1,c=l===2,h=l===3,f=l===4,p=l===6,m=l===7,y=l===5||p;return function(b,g,v,x){for(var w=n(b),_=r(w),E=i(_),O=t(g,v),S=0,P=x||s,C=u?P(b,E):c||m?P(b,0):void 0,N,T;E>S;S++)if((y||S in _)&&(N=_[S],T=O(N,S,w),l))if(u)C[S]=T;else if(T)switch(l){case 3:return!0;case 5:return N;case 6:return S;case 2:a(C,N)}else switch(l){case 4:return!1;case 7:a(C,N)}return p?-1:h||f?f:C}};return Yw={forEach:o(0),map:o(1),filter:o(2),some:o(3),every:o(4),find:o(5),findIndex:o(6),filterReject:o(7)},Yw}var x4;function Sce(){if(x4)return n4;x4=1;var t=ye(),e=ut(),r=rn(),n=Ae(),i=Tu(),s=It(),a=Pu(),o=qe(),l=hr(),u=Ft(),c=Ei(),h=ni(),f=QT(),p=Dn(),m=Hd(),y=Xd(),b=Yd(),g=Zp(),v=nI(),x=Qp(),w=Kp(),_=kn(),E=rI(),O=Wp(),S=Jd(),P=iI(),C=Iu(),N=Jp(),T=Gd(),I=Vp(),q=Lt(),B=em(),re=vt(),Q=V9(),L=Io(),G=No(),z=fa().forEach,U=N("hidden"),te="Symbol",fe="prototype",ge=G.set,ke=G.getterFor(te),be=Object[fe],xe=e.Symbol,Ie=xe&&xe[fe],gt=e.RangeError,nt=e.TypeError,yt=e.QObject,xr=w.f,Qe=_.f,it=v.f,yn=O.f,Mr=n([].push),Ke=C("symbols"),Bt=C("op-symbols"),nn=C("wks"),sn=!yt||!yt[fe]||!yt[fe].findChild,$=function(K,W,V){var Y=xr(be,W);Y&&delete be[W],Qe(K,W,V),Y&&K!==be&&Qe(be,W,Y)},D=s&&o(function(){return y(Qe({},"a",{get:function(){return Qe(this,"a",{value:7}).a}})).a!==7})?$:Qe,F=function(K,W){var V=Ke[K]=y(Ie);return ge(V,{type:te,tag:K,description:W}),s||(V.description=W),V},ae=function(W,V,Y){W===be&&ae(Bt,V,Y),c(W);var pe=f(V);return c(Y),l(Ke,pe)?(Y.enumerable?(l(W,U)&&W[U][pe]&&(W[U][pe]=!1),Y=y(Y,{enumerable:m(0,!1)})):(l(W,U)||Qe(W,U,m(1,y(null))),W[U][pe]=!0),D(W,pe,Y)):Qe(W,pe,Y)},ne=function(W,V){c(W);var Y=h(V),pe=b(Y).concat(le(Y));return z(pe,function($e){(!s||r(de,Y,$e))&&ae(W,$e,Y[$e])}),W},X=function(W,V){return V===void 0?y(W):ne(y(W),V)},de=function(W){var V=f(W),Y=r(yn,this,V);return this===be&&l(Ke,V)&&!l(Bt,V)?!1:Y||!l(this,V)||!l(Ke,V)||l(this,U)&&this[U][V]?Y:!0},k=function(W,V){var Y=h(W),pe=f(V);if(!(Y===be&&l(Ke,pe)&&!l(Bt,pe))){var $e=xr(Y,pe);return $e&&l(Ke,pe)&&!(l(Y,U)&&Y[U][pe])&&($e.enumerable=!0),$e}},H=function(W){var V=it(h(W)),Y=[];return z(V,function(pe){!l(Ke,pe)&&!l(T,pe)&&Mr(Y,pe)}),Y},le=function(K){var W=K===be,V=it(W?Bt:h(K)),Y=[];return z(V,function(pe){l(Ke,pe)&&(!W||l(be,pe))&&Mr(Y,Ke[pe])}),Y};return a||(xe=function(){if(u(Ie,this))throw new nt("Symbol is not a constructor");var W=!arguments.length||arguments[0]===void 0?void 0:p(arguments[0]),V=I(W),Y=function(pe){var $e=this===void 0?e:this;$e===be&&r(Y,Bt,pe),l($e,U)&&l($e[U],V)&&($e[U][V]=!1);var Vt=m(1,pe);try{D($e,V,Vt)}catch(_r){if(!(_r instanceof gt))throw _r;$($e,V,Vt)}};return s&&sn&&D(be,V,{configurable:!0,set:Y}),F(V,W)},Ie=xe[fe],S(Ie,"toString",function(){return ke(this).tag}),S(xe,"withoutSetter",function(K){return F(I(K),K)}),O.f=de,_.f=ae,E.f=ne,w.f=k,g.f=v.f=H,x.f=le,B.f=function(K){return F(q(K),K)},s&&(P(Ie,"description",{configurable:!0,get:function(){return ke(this).description}}),i||S(be,"propertyIsEnumerable",de,{unsafe:!0}))),t({global:!0,constructor:!0,wrap:!0,forced:!a,sham:!a},{Symbol:xe}),z(b(nn),function(K){re(K)}),t({target:te,stat:!0,forced:!a},{useSetter:function(){sn=!0},useSimple:function(){sn=!1}}),t({target:"Object",stat:!0,forced:!a,sham:!s},{create:X,defineProperty:ae,defineProperties:ne,getOwnPropertyDescriptor:k}),t({target:"Object",stat:!0,forced:!a},{getOwnPropertyNames:H}),Q(),L(xe,te),T[U]=!0,n4}var _4={},Qw,S4;function G9(){if(S4)return Qw;S4=1;var t=Pu();return Qw=t&&!!Symbol.for&&!!Symbol.keyFor,Qw}var E4;function Ece(){if(E4)return _4;E4=1;var t=ye(),e=vn(),r=hr(),n=Dn(),i=Iu(),s=G9(),a=i("string-to-symbol-registry"),o=i("symbol-to-string-registry");return t({target:"Symbol",stat:!0,forced:!s},{for:function(l){var u=n(l);if(r(a,u))return a[u];var c=e("Symbol")(u);return a[u]=c,o[c]=u,c}}),_4}var O4={},P4;function Oce(){if(P4)return O4;P4=1;var t=ye(),e=hr(),r=Kd(),n=Cu(),i=Iu(),s=G9(),a=i("symbol-to-string-registry");return t({target:"Symbol",stat:!0,forced:!s},{keyFor:function(l){if(!r(l))throw new TypeError(n(l)+" is not a symbol");if(e(a,l))return a[l]}}),O4}var C4={},Xw,T4;function Pce(){if(T4)return Xw;T4=1;var t=Ae(),e=To(),r=rr(),n=Si(),i=Dn(),s=t([].push);return Xw=function(a){if(r(a))return a;if(e(a)){for(var o=a.length,l=[],u=0;u<o;u++){var c=a[u];typeof c=="string"?s(l,c):(typeof c=="number"||n(c)==="Number"||n(c)==="String")&&s(l,i(c))}var h=l.length,f=!0;return function(p,m){if(f)return f=!1,m;if(e(this))return m;for(var y=0;y<h;y++)if(l[y]===p)return m}}},Xw}var I4;function Y9(){if(I4)return C4;I4=1;var t=ye(),e=vn(),r=Up(),n=rn(),i=Ae(),s=qe(),a=rr(),o=Kd(),l=$u(),u=Pce(),c=Pu(),h=String,f=e("JSON","stringify"),p=i(/./.exec),m=i("".charAt),y=i("".charCodeAt),b=i("".replace),g=i(1.1.toString),v=/[\uD800-\uDFFF]/g,x=/^[\uD800-\uDBFF]$/,w=/^[\uDC00-\uDFFF]$/,_=!c||s(function(){var P=e("Symbol")("stringify detection");return f([P])!=="[null]"||f({a:P})!=="{}"||f(Object(P))!=="{}"}),E=s(function(){return f("\uDF06\uD834")!=='"\\udf06\\ud834"'||f("\uDEAD")!=='"\\udead"'}),O=function(P,C){var N=l(arguments),T=u(C);if(!(!a(T)&&(P===void 0||o(P))))return N[1]=function(I,q){if(a(T)&&(q=n(T,this,h(I),q)),!o(q))return q},r(f,null,N)},S=function(P,C,N){var T=m(N,C-1),I=m(N,C+1);return p(x,P)&&!p(w,I)||p(w,P)&&!p(x,T)?"\\u"+g(y(P,0),16):P};return f&&t({target:"JSON",stat:!0,arity:3,forced:_||E},{stringify:function(C,N,T){var I=l(arguments),q=r(_?O:f,null,I);return E&&typeof q=="string"?b(q,v,S):q}}),C4}var N4={},R4;function Cce(){if(R4)return N4;R4=1;var t=ye(),e=Pu(),r=qe(),n=Qp(),i=gn(),s=!e||r(function(){n.f(1)});return t({target:"Object",stat:!0,forced:s},{getOwnPropertySymbols:function(o){var l=n.f;return l?l(i(o)):[]}}),N4}var $4;function Q9(){return $4||($4=1,Sce(),Ece(),Oce(),Y9(),Cce()),r4}var j4={},k4;function X9(){if(k4)return j4;k4=1;var t=vt();return t("asyncDispose"),j4}var D4={},q4;function Tce(){if(q4)return D4;q4=1;var t=vt();return t("asyncIterator"),D4}var M4={},A4;function J9(){if(A4)return M4;A4=1;var t=vt();return t("dispose"),M4}var F4={},L4;function Ice(){if(L4)return F4;L4=1;var t=vt();return t("hasInstance"),F4}var B4={},z4;function Nce(){if(z4)return B4;z4=1;var t=vt();return t("isConcatSpreadable"),B4}var U4={},W4;function Z9(){if(W4)return U4;W4=1;var t=vt();return t("iterator"),U4}var H4={},V4;function Rce(){if(V4)return H4;V4=1;var t=vt();return t("match"),H4}var K4={},G4;function $ce(){if(G4)return K4;G4=1;var t=vt();return t("matchAll"),K4}var Y4={},Q4;function jce(){if(Q4)return Y4;Q4=1;var t=vt();return t("replace"),Y4}var X4={},J4;function kce(){if(J4)return X4;J4=1;var t=vt();return t("search"),X4}var Z4={},eB;function Dce(){if(eB)return Z4;eB=1;var t=vt();return t("species"),Z4}var tB={},rB;function qce(){if(rB)return tB;rB=1;var t=vt();return t("split"),tB}var nB={},iB;function eG(){if(iB)return nB;iB=1;var t=vt(),e=V9();return t("toPrimitive"),e(),nB}var sB={},aB;function Mce(){if(aB)return sB;aB=1;var t=vn(),e=vt(),r=Io();return e("toStringTag"),r(t("Symbol"),"Symbol"),sB}var oB={},lB;function Ace(){if(lB)return oB;lB=1;var t=vt();return t("unscopables"),oB}var uB={},cB;function Fce(){if(cB)return uB;cB=1;var t=ut(),e=Io();return e(t.JSON,"JSON",!0),uB}var Jw,dB;function Lce(){if(dB)return Jw;dB=1,H9(),Q9(),X9(),Tce(),J9(),Ice(),Nce(),Z9(),Rce(),$ce(),jce(),kce(),Dce(),qce(),eG(),Mce(),Ace(),Fce();var t=Ve();return Jw=t.Symbol,Jw}var hB={},Zw,fB;function sI(){return fB||(fB=1,Zw=function(){}),Zw}var ex,pB;function ku(){return pB||(pB=1,ex={}),ex}var tx,mB;function Bce(){if(mB)return tx;mB=1;var t=It(),e=hr(),r=Function.prototype,n=t&&Object.getOwnPropertyDescriptor,i=e(r,"name"),s=i&&(function(){}).name==="something",a=i&&(!t||t&&n(r,"name").configurable);return tx={EXISTS:i,PROPER:s,CONFIGURABLE:a},tx}var rx,vB;function tG(){if(vB)return rx;vB=1;var t=qe();return rx=!t(function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype}),rx}var nx,gB;function tm(){if(gB)return nx;gB=1;var t=hr(),e=rr(),r=gn(),n=Jp(),i=tG(),s=n("IE_PROTO"),a=Object,o=a.prototype;return nx=i?a.getPrototypeOf:function(l){var u=r(l);if(t(u,s))return u[s];var c=u.constructor;return e(c)&&u instanceof c?c.prototype:u instanceof a?o:null},nx}var ix,yB;function rG(){if(yB)return ix;yB=1;var t=qe(),e=rr(),r=nr(),n=Xd(),i=tm(),s=Jd(),a=Lt(),o=Tu(),l=a("iterator"),u=!1,c,h,f;[].keys&&(f=[].keys(),"next"in f?(h=i(i(f)),h!==Object.prototype&&(c=h)):u=!0);var p=!r(c)||t(function(){var m={};return c[l].call(m)!==m});return p?c={}:o&&(c=n(c)),e(c[l])||s(c,l,function(){return this}),ix={IteratorPrototype:c,BUGGY_SAFARI_ITERATORS:u},ix}var sx,bB;function zce(){if(bB)return sx;bB=1;var t=rG().IteratorPrototype,e=Xd(),r=Hd(),n=Io(),i=ku(),s=function(){return this};return sx=function(a,o,l,u){var c=o+" Iterator";return a.prototype=e(t,{next:r(+!u,l)}),n(a,c,!1,!0),i[c]=s,a},sx}var ax,wB;function Uce(){if(wB)return ax;wB=1;var t=Ae(),e=us();return ax=function(r,n,i){try{return t(e(Object.getOwnPropertyDescriptor(r,n)[i]))}catch{}},ax}var ox,xB;function Wce(){if(xB)return ox;xB=1;var t=nr();return ox=function(e){return t(e)||e===null},ox}var lx,_B;function Hce(){if(_B)return lx;_B=1;var t=Wce(),e=String,r=TypeError;return lx=function(n){if(t(n))return n;throw new r("Can't set "+e(n)+" as a prototype")},lx}var ux,SB;function Vce(){if(SB)return ux;SB=1;var t=Uce(),e=nr(),r=ls(),n=Hce();return ux=Object.setPrototypeOf||("__proto__"in{}?function(){var i=!1,s={},a;try{a=t(Object.prototype,"__proto__","set"),a(s,[]),i=s instanceof Array}catch{}return function(l,u){return r(l),n(u),e(l)&&(i?a(l,u):l.__proto__=u),l}}():void 0),ux}var cx,EB;function aI(){if(EB)return cx;EB=1;var t=ye(),e=rn(),r=Tu(),n=Bce(),i=rr(),s=zce(),a=tm(),o=Vce(),l=Io(),u=Nu(),c=Jd(),h=Lt(),f=ku(),p=rG(),m=n.PROPER,y=n.CONFIGURABLE,b=p.IteratorPrototype,g=p.BUGGY_SAFARI_ITERATORS,v=h("iterator"),x="keys",w="values",_="entries",E=function(){return this};return cx=function(O,S,P,C,N,T,I){s(P,S,C);var q=function(ge){if(ge===N&&G)return G;if(!g&&ge&&ge in Q)return Q[ge];switch(ge){case x:return function(){return new P(this,ge)};case w:return function(){return new P(this,ge)};case _:return function(){return new P(this,ge)}}return function(){return new P(this)}},B=S+" Iterator",re=!1,Q=O.prototype,L=Q[v]||Q["@@iterator"]||N&&Q[N],G=!g&&L||q(N),z=S==="Array"&&Q.entries||L,U,te,fe;if(z&&(U=a(z.call(new O)),U!==Object.prototype&&U.next&&(!r&&a(U)!==b&&(o?o(U,b):i(U[v])||c(U,v,E)),l(U,B,!0,!0),r&&(f[B]=E))),m&&N===w&&L&&L.name!==w&&(!r&&y?u(Q,"name",w):(re=!0,G=function(){return e(L,this)})),N)if(te={values:q(w),keys:T?G:q(x),entries:q(_)},I)for(fe in te)(g||re||!(fe in Q))&&c(Q,fe,te[fe]);else t({target:S,proto:!0,forced:g||re},te);return(!r||I)&&Q[v]!==G&&c(Q,v,G,{name:N}),f[S]=G,te},cx}var dx,OB;function oI(){return OB||(OB=1,dx=function(t,e){return{value:t,done:e}}),dx}var hx,PB;function Du(){if(PB)return hx;PB=1;var t=ni(),e=sI(),r=ku(),n=No(),i=kn().f,s=aI(),a=oI(),o=Tu(),l=It(),u="Array Iterator",c=n.set,h=n.getterFor(u);hx=s(Array,"Array",function(p,m){c(this,{type:u,target:t(p),index:0,kind:m})},function(){var p=h(this),m=p.target,y=p.index++;if(!m||y>=m.length)return p.target=null,a(void 0,!0);switch(p.kind){case"keys":return a(y,!1);case"values":return a(m[y],!1)}return a([y,m[y]],!1)},"values");var f=r.Arguments=r.Array;if(e("keys"),e("values"),e("entries"),!o&&l&&f.name!=="values")try{i(f,"name",{value:"values"})}catch{}return hx}var fx,CB;function Kce(){return CB||(CB=1,fx={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}),fx}var TB;function qu(){if(TB)return hB;TB=1,Du();var t=Kce(),e=ut(),r=Io(),n=ku();for(var i in t)r(e[i],i),n[i]=n.Array;return hB}var px,IB;function nG(){if(IB)return px;IB=1;var t=Lce();return qu(),px=t,px}var mx,NB;function Gce(){return NB||(NB=1,mx=nG()),mx}var Yce=Gce(),Qce=Oe(Yce),RB={},$B;function Xce(){if($B)return RB;$B=1;var t=ye(),e=To(),r=W9(),n=nr(),i=Yp(),s=cs(),a=ni(),o=Xp(),l=Lt(),u=Qd(),c=$u(),h=u("slice"),f=l("species"),p=Array,m=Math.max;return t({target:"Array",proto:!0,forced:!h},{slice:function(b,g){var v=a(this),x=s(v),w=i(b,x),_=i(g===void 0?x:g,x),E,O,S;if(e(v)&&(E=v.constructor,r(E)&&(E===p||e(E.prototype))?E=void 0:n(E)&&(E=E[f],E===null&&(E=void 0)),E===p||E===void 0))return c(v,w,_);for(O=new(E===void 0?p:E)(m(_-w,0)),S=0;w<_;w++,S++)w in v&&o(O,S,v[w]);return O.length=S,O}}),RB}var vx,jB;function Jce(){if(jB)return vx;jB=1,Xce();var t=fr();return vx=t("Array","slice"),vx}var gx,kB;function Zce(){if(kB)return gx;kB=1;var t=Ft(),e=Jce(),r=Array.prototype;return gx=function(n){var i=n.slice;return n===r||t(r,n)&&i===r.slice?e:i},gx}var yx,DB;function ede(){if(DB)return yx;DB=1;var t=Zce();return yx=t,yx}var bx,qB;function tde(){return qB||(qB=1,bx=ede()),bx}var rde=tde(),pi=Oe(rde),wx,MB;function nde(){if(MB)return wx;MB=1;var t=vn(),e=Ae(),r=Zp(),n=Qp(),i=Ei(),s=e([].concat);return wx=t("Reflect","ownKeys")||function(o){var l=r.f(i(o)),u=n.f;return u?s(l,u(o)):l},wx}var AB={},FB;function ide(){if(FB)return AB;FB=1;var t=ye(),e=To();return t({target:"Array",stat:!0},{isArray:e}),AB}var xx,LB;function sde(){if(LB)return xx;LB=1,ide();var t=Ve();return xx=t.Array.isArray,xx}var _x,BB;function ade(){if(BB)return _x;BB=1;var t=sde();return _x=t,_x}var Sx,zB;function ode(){return zB||(zB=1,Sx=ade()),Sx}var lde=ode(),Ot=Oe(lde),UB={},WB;function ude(){if(WB)return UB;WB=1;var t=ye(),e=fa().map,r=Qd(),n=r("map");return t({target:"Array",proto:!0,forced:!n},{map:function(s){return e(this,s,arguments.length>1?arguments[1]:void 0)}}),UB}var Ex,HB;function cde(){if(HB)return Ex;HB=1,ude();var t=fr();return Ex=t("Array","map"),Ex}var Ox,VB;function dde(){if(VB)return Ox;VB=1;var t=Ft(),e=cde(),r=Array.prototype;return Ox=function(n){var i=n.map;return n===r||t(r,n)&&i===r.map?e:i},Ox}var Px,KB;function hde(){if(KB)return Px;KB=1;var t=dde();return Px=t,Px}var Cx,GB;function fde(){return GB||(GB=1,Cx=hde()),Cx}var pde=fde(),Zl=Oe(pde),YB={},QB;function mde(){if(QB)return YB;QB=1;var t=ye(),e=gn(),r=Yd(),n=qe(),i=n(function(){r(1)});return t({target:"Object",stat:!0,forced:i},{keys:function(a){return r(e(a))}}),YB}var Tx,XB;function vde(){if(XB)return Tx;XB=1,mde();var t=Ve();return Tx=t.Object.keys,Tx}var Ix,JB;function gde(){if(JB)return Ix;JB=1;var t=vde();return Ix=t,Ix}var Nx,ZB;function yde(){return ZB||(ZB=1,Nx=gde()),Nx}var bde=yde(),_t=Oe(bde),e3={},t3;function wde(){if(t3)return e3;t3=1;var t=ye(),e=Ae(),r=Date,n=e(r.prototype.getTime);return t({target:"Date",stat:!0},{now:function(){return n(new r)}}),e3}var Rx,r3;function xde(){if(r3)return Rx;r3=1,wde();var t=Ve();return Rx=t.Date.now,Rx}var $x,n3;function _de(){if(n3)return $x;n3=1;var t=xde();return $x=t,$x}var jx,i3;function Sde(){return i3||(i3=1,jx=_de()),jx}var Ede=Sde(),Kf=Oe(Ede),s3={},kx,a3;function Mu(){if(a3)return kx;a3=1;var t=qe();return kx=function(e,r){var n=[][e];return!!n&&t(function(){n.call(null,r||function(){return 1},1)})},kx}var Dx,o3;function Ode(){if(o3)return Dx;o3=1;var t=fa().forEach,e=Mu(),r=e("forEach");return Dx=r?[].forEach:function(i){return t(this,i,arguments.length>1?arguments[1]:void 0)},Dx}var l3;function Pde(){if(l3)return s3;l3=1;var t=ye(),e=Ode();return t({target:"Array",proto:!0,forced:[].forEach!==e},{forEach:e}),s3}var qx,u3;function Cde(){if(u3)return qx;u3=1,Pde();var t=fr();return qx=t("Array","forEach"),qx}var Mx,c3;function Tde(){if(c3)return Mx;c3=1;var t=Cde();return Mx=t,Mx}var Ax,d3;function Ide(){if(d3)return Ax;d3=1;var t=ju(),e=hr(),r=Ft(),n=Tde(),i=Array.prototype,s={DOMTokenList:!0,NodeList:!0};return Ax=function(a){var o=a.forEach;return a===i||r(i,a)&&o===i.forEach||e(s,t(a))?n:o},Ax}var Fx,h3;function Nde(){return h3||(h3=1,Fx=Ide()),Fx}var Rde=Nde(),Ge=Oe(Rde),f3={},p3;function $de(){if(p3)return f3;p3=1;var t=ye(),e=Ae(),r=To(),n=e([].reverse),i=[1,2];return t({target:"Array",proto:!0,forced:String(i)===String(i.reverse())},{reverse:function(){return r(this)&&(this.length=this.length),n(this)}}),f3}var Lx,m3;function jde(){if(m3)return Lx;m3=1,$de();var t=fr();return Lx=t("Array","reverse"),Lx}var Bx,v3;function kde(){if(v3)return Bx;v3=1;var t=Ft(),e=jde(),r=Array.prototype;return Bx=function(n){var i=n.reverse;return n===r||t(r,n)&&i===r.reverse?e:i},Bx}var zx,g3;function Dde(){if(g3)return zx;g3=1;var t=kde();return zx=t,zx}var Ux,y3;function qde(){return y3||(y3=1,Ux=Dde()),Ux}var Mde=qde(),Va=Oe(Mde),b3={},Wx,w3;function Ade(){if(w3)return Wx;w3=1;var t=It(),e=To(),r=TypeError,n=Object.getOwnPropertyDescriptor,i=t&&!function(){if(this!==void 0)return!0;try{Object.defineProperty([],"length",{writable:!1}).length=1}catch(s){return s instanceof TypeError}}();return Wx=i?function(s,a){if(e(s)&&!n(s,"length").writable)throw new r("Cannot set read only .length");return s.length=a}:function(s,a){return s.length=a},Wx}var Hx,x3;function iG(){if(x3)return Hx;x3=1;var t=Cu(),e=TypeError;return Hx=function(r,n){if(!delete r[n])throw new e("Cannot delete property "+t(n)+" of "+t(r))},Hx}var _3;function Fde(){if(_3)return b3;_3=1;var t=ye(),e=gn(),r=Yp(),n=Ru(),i=cs(),s=Ade(),a=U9(),o=tI(),l=Xp(),u=iG(),c=Qd(),h=c("splice"),f=Math.max,p=Math.min;return t({target:"Array",proto:!0,forced:!h},{splice:function(y,b){var g=e(this),v=i(g),x=r(y,v),w=arguments.length,_,E,O,S,P,C;for(w===0?_=E=0:w===1?(_=0,E=v-x):(_=w-2,E=p(f(n(b),0),v-x)),a(v+_-E),O=o(g,E),S=0;S<E;S++)P=x+S,P in g&&l(O,S,g[P]);if(O.length=E,_<E){for(S=x;S<v-E;S++)P=S+E,C=S+_,P in g?g[C]=g[P]:u(g,C);for(S=v;S>v-E+_;S--)u(g,S-1)}else if(_>E)for(S=v-E;S>x;S--)P=S+E-1,C=S+_-1,P in g?g[C]=g[P]:u(g,C);for(S=0;S<_;S++)g[S+x]=arguments[S+2];return s(g,v-E+_),O}}),b3}var Vx,S3;function Lde(){if(S3)return Vx;S3=1,Fde();var t=fr();return Vx=t("Array","splice"),Vx}var Kx,E3;function Bde(){if(E3)return Kx;E3=1;var t=Ft(),e=Lde(),r=Array.prototype;return Kx=function(n){var i=n.splice;return n===r||t(r,n)&&i===r.splice?e:i},Kx}var Gx,O3;function zde(){if(O3)return Gx;O3=1;var t=Bde();return Gx=t,Gx}var Yx,P3;function Ude(){return P3||(P3=1,Yx=zde()),Yx}var Wde=Ude(),zi=Oe(Wde),C3={},T3;function Hde(){if(T3)return C3;T3=1;var t=ye(),e=XT().includes,r=qe(),n=sI(),i=r(function(){return!Array(1).includes()});return t({target:"Array",proto:!0,forced:i},{includes:function(a){return e(this,a,arguments.length>1?arguments[1]:void 0)}}),n("includes"),C3}var Qx,I3;function Vde(){if(I3)return Qx;I3=1,Hde();var t=fr();return Qx=t("Array","includes"),Qx}var N3={},Xx,R3;function Kde(){if(R3)return Xx;R3=1;var t=nr(),e=Si(),r=Lt(),n=r("match");return Xx=function(i){var s;return t(i)&&((s=i[n])!==void 0?!!s:e(i)==="RegExp")},Xx}var Jx,$3;function Gde(){if($3)return Jx;$3=1;var t=Kde(),e=TypeError;return Jx=function(r){if(t(r))throw new e("The method doesn't accept regular expressions");return r},Jx}var Zx,j3;function Yde(){if(j3)return Zx;j3=1;var t=Lt(),e=t("match");return Zx=function(r){var n=/./;try{"/./"[r](n)}catch{try{return n[e]=!1,"/./"[r](n)}catch{}}return!1},Zx}var k3;function Qde(){if(k3)return N3;k3=1;var t=ye(),e=Ae(),r=Gde(),n=ls(),i=Dn(),s=Yde(),a=e("".indexOf);return t({target:"String",proto:!0,forced:!s("includes")},{includes:function(l){return!!~a(i(n(this)),i(r(l)),arguments.length>1?arguments[1]:void 0)}}),N3}var e_,D3;function Xde(){if(D3)return e_;D3=1,Qde();var t=fr();return e_=t("String","includes"),e_}var t_,q3;function Jde(){if(q3)return t_;q3=1;var t=Ft(),e=Vde(),r=Xde(),n=Array.prototype,i=String.prototype;return t_=function(s){var a=s.includes;return s===n||t(n,s)&&a===n.includes?e:typeof s=="string"||s===i||t(i,s)&&a===i.includes?r:a},t_}var r_,M3;function Zde(){if(M3)return r_;M3=1;var t=Jde();return r_=t,r_}var n_,A3;function ehe(){return A3||(A3=1,n_=Zde()),n_}var the=ehe(),Gs=Oe(the),F3={},L3;function rhe(){if(L3)return F3;L3=1;var t=ye(),e=qe(),r=gn(),n=tm(),i=tG(),s=e(function(){n(1)});return t({target:"Object",stat:!0,forced:s,sham:!i},{getPrototypeOf:function(o){return n(r(o))}}),F3}var i_,B3;function nhe(){if(B3)return i_;B3=1,rhe();var t=Ve();return i_=t.Object.getPrototypeOf,i_}var s_,z3;function ihe(){if(z3)return s_;z3=1;var t=nhe();return s_=t,s_}var a_,U3;function she(){return U3||(U3=1,a_=ihe()),a_}var ahe=she(),W3=Oe(ahe),o_,H3;function ohe(){if(H3)return o_;H3=1,H9();var t=fr();return o_=t("Array","concat"),o_}var l_,V3;function lhe(){if(V3)return l_;V3=1;var t=Ft(),e=ohe(),r=Array.prototype;return l_=function(n){var i=n.concat;return n===r||t(r,n)&&i===r.concat?e:i},l_}var u_,K3;function uhe(){if(K3)return u_;K3=1;var t=lhe();return u_=t,u_}var c_,G3;function che(){return G3||(G3=1,c_=uhe()),c_}var dhe=che(),hhe=Oe(dhe),Y3={},Q3;function fhe(){if(Q3)return Y3;Q3=1;var t=ye(),e=fa().filter,r=Qd(),n=r("filter");return t({target:"Array",proto:!0,forced:!n},{filter:function(s){return e(this,s,arguments.length>1?arguments[1]:void 0)}}),Y3}var d_,X3;function phe(){if(X3)return d_;X3=1,fhe();var t=fr();return d_=t("Array","filter"),d_}var h_,J3;function mhe(){if(J3)return h_;J3=1;var t=Ft(),e=phe(),r=Array.prototype;return h_=function(n){var i=n.filter;return n===r||t(r,n)&&i===r.filter?e:i},h_}var f_,Z3;function vhe(){if(Z3)return f_;Z3=1;var t=mhe();return f_=t,f_}var p_,e5;function ghe(){return e5||(e5=1,p_=vhe()),p_}var yhe=ghe(),Ur=Oe(yhe),t5={},m_,r5;function bhe(){if(r5)return m_;r5=1;var t=It(),e=qe(),r=Ae(),n=tm(),i=Yd(),s=ni(),a=Wp().f,o=r(a),l=r([].push),u=t&&e(function(){var h=Object.create(null);return h[2]=2,!o(h,2)}),c=function(h){return function(f){for(var p=s(f),m=i(p),y=u&&n(p)===null,b=m.length,g=0,v=[],x;b>g;)x=m[g++],(!t||(y?x in p:o(p,x)))&&l(v,h?[x,p[x]]:p[x]);return v}};return m_={entries:c(!0),values:c(!1)},m_}var n5;function whe(){if(n5)return t5;n5=1;var t=ye(),e=bhe().values;return t({target:"Object",stat:!0},{values:function(n){return e(n)}}),t5}var v_,i5;function xhe(){if(i5)return v_;i5=1,whe();var t=Ve();return v_=t.Object.values,v_}var g_,s5;function _he(){if(s5)return g_;s5=1;var t=xhe();return g_=t,g_}var y_,a5;function She(){return a5||(a5=1,y_=_he()),y_}var Ehe=She(),Ohe=Oe(Ehe),o5={},b_,l5;function lI(){return l5||(l5=1,b_=`	
\v\f\r \u2028\u2029\uFEFF`),b_}var w_,u5;function sG(){if(u5)return w_;u5=1;var t=Ae(),e=ls(),r=Dn(),n=lI(),i=t("".replace),s=RegExp("^["+n+"]+"),a=RegExp("(^|[^"+n+"])["+n+"]+$"),o=function(l){return function(u){var c=r(e(u));return l&1&&(c=i(c,s,"")),l&2&&(c=i(c,a,"$1")),c}};return w_={start:o(1),end:o(2),trim:o(3)},w_}var x_,c5;function Phe(){if(c5)return x_;c5=1;var t=ut(),e=qe(),r=Ae(),n=Dn(),i=sG().trim,s=lI(),a=t.parseInt,o=t.Symbol,l=o&&o.iterator,u=/^[+-]?0x/i,c=r(u.exec),h=a(s+"08")!==8||a(s+"0x16")!==22||l&&!e(function(){a(Object(l))});return x_=h?function(p,m){var y=i(n(p));return a(y,m>>>0||(c(u,y)?16:10))}:a,x_}var d5;function Che(){if(d5)return o5;d5=1;var t=ye(),e=Phe();return t({global:!0,forced:parseInt!==e},{parseInt:e}),o5}var __,h5;function The(){if(h5)return __;h5=1,Che();var t=Ve();return __=t.parseInt,__}var S_,f5;function Ihe(){if(f5)return S_;f5=1;var t=The();return S_=t,S_}var E_,p5;function Nhe(){return p5||(p5=1,E_=Ihe()),E_}var Rhe=Nhe(),Hn=Oe(Rhe),m5={},v5;function $he(){if(v5)return m5;v5=1;var t=ye(),e=KT(),r=XT().indexOf,n=Mu(),i=e([].indexOf),s=!!i&&1/i([1],1,-0)<0,a=s||!n("indexOf");return t({target:"Array",proto:!0,forced:a},{indexOf:function(l){var u=arguments.length>1?arguments[1]:void 0;return s?i(this,l,u)||0:r(this,l,u)}}),m5}var O_,g5;function jhe(){if(g5)return O_;g5=1,$he();var t=fr();return O_=t("Array","indexOf"),O_}var P_,y5;function khe(){if(y5)return P_;y5=1;var t=Ft(),e=jhe(),r=Array.prototype;return P_=function(n){var i=n.indexOf;return n===r||t(r,n)&&i===r.indexOf?e:i},P_}var C_,b5;function Dhe(){if(b5)return C_;b5=1;var t=khe();return C_=t,C_}var T_,w5;function qhe(){return w5||(w5=1,T_=Dhe()),T_}var Mhe=qhe(),Ue=Oe(Mhe),x5={},_5;function Ahe(){if(_5)return x5;_5=1;var t=ye(),e=It(),r=Xd();return t({target:"Object",stat:!0,sham:!e},{create:r}),x5}var I_,S5;function Fhe(){if(S5)return I_;S5=1,Ahe();var t=Ve(),e=t.Object;return I_=function(n,i){return e.create(n,i)},I_}var N_,E5;function Lhe(){if(E5)return N_;E5=1;var t=Fhe();return N_=t,N_}var R_,O5;function Bhe(){return O5||(O5=1,R_=Lhe()),R_}var zhe=Bhe(),Ka=Oe(zhe),P5={},$_,C5;function Uhe(){if(C5)return $_;C5=1;var t=Ru(),e=Dn(),r=ls(),n=RangeError;return $_=function(s){var a=e(r(this)),o="",l=t(s);if(l<0||l===1/0)throw new n("Wrong number of repetitions");for(;l>0;(l>>>=1)&&(a+=a))l&1&&(o+=a);return o},$_}var j_,T5;function Whe(){if(T5)return j_;T5=1;var t=Ae(),e=M9(),r=Dn(),n=Uhe(),i=ls(),s=t(n),a=t("".slice),o=Math.ceil,l=function(u){return function(c,h,f){var p=r(i(c)),m=e(h),y=p.length,b=f===void 0?" ":r(f),g,v;return m<=y||b===""?p:(g=m-y,v=s(b,o(g/b.length)),v.length>g&&(v=a(v,0,g)),u?p+v:v+p)}};return j_={start:l(!1),end:l(!0)},j_}var k_,I5;function Hhe(){if(I5)return k_;I5=1;var t=Ae(),e=qe(),r=Whe().start,n=RangeError,i=isFinite,s=Math.abs,a=Date.prototype,o=a.toISOString,l=t(a.getTime),u=t(a.getUTCDate),c=t(a.getUTCFullYear),h=t(a.getUTCHours),f=t(a.getUTCMilliseconds),p=t(a.getUTCMinutes),m=t(a.getUTCMonth),y=t(a.getUTCSeconds);return k_=e(function(){return o.call(new Date(-5e13-1))!=="0385-07-25T07:06:39.999Z"})||!e(function(){o.call(new Date(NaN))})?function(){if(!i(l(this)))throw new n("Invalid time value");var g=this,v=c(g),x=f(g),w=v<0?"-":v>9999?"+":"";return w+r(s(v),w?6:4,0)+"-"+r(m(g)+1,2,0)+"-"+r(u(g),2,0)+"T"+r(h(g),2,0)+":"+r(p(g),2,0)+":"+r(y(g),2,0)+"."+r(x,3,0)+"Z"}:o,k_}var N5;function Vhe(){if(N5)return P5;N5=1;var t=ye(),e=rn(),r=gn(),n=j9(),i=Hhe(),s=Si(),a=qe(),o=a(function(){return new Date(NaN).toJSON()!==null||e(Date.prototype.toJSON,{toISOString:function(){return 1}})!==1});return t({target:"Date",proto:!0,forced:o},{toJSON:function(u){var c=r(this),h=n(c,"number");return typeof h=="number"&&!isFinite(h)?null:!("toISOString"in c)&&s(c)==="Date"?e(i,c):c.toISOString()}}),P5}var D_,R5;function Khe(){if(R5)return D_;R5=1,Vhe(),Y9();var t=Ve(),e=Up();return t.JSON||(t.JSON={stringify:JSON.stringify}),D_=function(n,i,s){return e(t.JSON.stringify,null,arguments)},D_}var q_,$5;function Ghe(){if($5)return q_;$5=1;var t=Khe();return q_=t,q_}var M_,j5;function Yhe(){return j5||(j5=1,M_=Ghe()),M_}var Qhe=Yhe(),Zd=Oe(Qhe),k5={},D5={},A_,q5;function aG(){if(q5)return A_;q5=1;var t=ut(),e=Ou(),r=Si(),n=function(i){return e.slice(0,i.length)===i};return A_=function(){return n("Bun/")?"BUN":n("Cloudflare-Workers")?"CLOUDFLARE":n("Deno/")?"DENO":n("Node.js/")?"NODE":t.Bun&&typeof Bun.version=="string"?"BUN":t.Deno&&typeof Deno.version=="object"?"DENO":r(t.process)==="process"?"NODE":t.window&&t.document?"BROWSER":"REST"}(),A_}var F_,M5;function Xhe(){if(M5)return F_;M5=1;var t=TypeError;return F_=function(e,r){if(e<r)throw new t("Not enough arguments");return e},F_}var L_,A5;function oG(){if(A5)return L_;A5=1;var t=ut(),e=Up(),r=rr(),n=aG(),i=Ou(),s=$u(),a=Xhe(),o=t.Function,l=/MSIE .\./.test(i)||n==="BUN"&&function(){var u=t.Bun.version.split(".");return u.length<3||u[0]==="0"&&(u[1]<3||u[1]==="3"&&u[2]==="0")}();return L_=function(u,c){var h=c?2:1;return l?function(f,p){var m=a(arguments.length,1)>h,y=r(f)?f:o(f),b=m?s(arguments,h):[],g=m?function(){e(y,this,b)}:y;return c?u(g,p):u(g)}:u},L_}var F5;function Jhe(){if(F5)return D5;F5=1;var t=ye(),e=ut(),r=oG(),n=r(e.setInterval,!0);return t({global:!0,bind:!0,forced:e.setInterval!==n},{setInterval:n}),D5}var L5={},B5;function Zhe(){if(B5)return L5;B5=1;var t=ye(),e=ut(),r=oG(),n=r(e.setTimeout,!0);return t({global:!0,bind:!0,forced:e.setTimeout!==n},{setTimeout:n}),L5}var z5;function lG(){return z5||(z5=1,Jhe(),Zhe()),k5}var B_,U5;function efe(){if(U5)return B_;U5=1,lG();var t=Ve();return B_=t.setTimeout,B_}var z_,W5;function tfe(){return W5||(W5=1,z_=efe()),z_}var rfe=tfe(),Ui=Oe(rfe),H5={},U_,V5;function nfe(){if(V5)return U_;V5=1;var t=gn(),e=Yp(),r=cs();return U_=function(i){for(var s=t(this),a=r(s),o=arguments.length,l=e(o>1?arguments[1]:void 0,a),u=o>2?arguments[2]:void 0,c=u===void 0?a:e(u,a);c>l;)s[l++]=i;return s},U_}var K5;function ife(){if(K5)return H5;K5=1;var t=ye(),e=nfe(),r=sI();return t({target:"Array",proto:!0},{fill:e}),r("fill"),H5}var W_,G5;function sfe(){if(G5)return W_;G5=1,ife();var t=fr();return W_=t("Array","fill"),W_}var H_,Y5;function afe(){if(Y5)return H_;Y5=1;var t=Ft(),e=sfe(),r=Array.prototype;return H_=function(n){var i=n.fill;return n===r||t(r,n)&&i===r.fill?e:i},H_}var V_,Q5;function ofe(){if(Q5)return V_;Q5=1;var t=afe();return V_=t,V_}var K_,X5;function lfe(){return X5||(X5=1,K_=ofe()),K_}var ufe=lfe(),eh=Oe(ufe);/*! Hammer.JS - v2.0.17-rc - 2019-12-16
 * http://naver.github.io/egjs
 *
 * Forked By Naver egjs
 * Copyright (c) hammerjs
 * Licensed under the MIT license */function Zn(){return Zn=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Zn.apply(this,arguments)}function qn(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}function Dh(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}var GP;typeof Object.assign!="function"?GP=function(e){if(e==null)throw new TypeError("Cannot convert undefined or null to object");for(var r=Object(e),n=1;n<arguments.length;n++){var i=arguments[n];if(i!=null)for(var s in i)i.hasOwnProperty(s)&&(r[s]=i[s])}return r}:GP=Object.assign;var ho=GP,J5=["","webkit","Moz","MS","ms","o"],cfe=typeof document>"u"?{style:{}}:document.createElement("div"),dfe="function",ll=Math.round,fo=Math.abs,uI=Date.now;function rm(t,e){for(var r,n,i=e[0].toUpperCase()+e.slice(1),s=0;s<J5.length;){if(r=J5[s],n=r?r+i:e,n in t)return n;s++}}var Wi;typeof window>"u"?Wi={}:Wi=window;var uG=rm(cfe.style,"touchAction"),cG=uG!==void 0;function hfe(){if(!cG)return!1;var t={},e=Wi.CSS&&Wi.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach(function(r){return t[r]=e?Wi.CSS.supports("touch-action",r):!0}),t}var dG="compute",hG="auto",YP="manipulation",Ga="none",rd="pan-x",nd="pan-y",qh=hfe(),ffe=/mobile|tablet|ip(ad|hone|od)|android/i,fG="ontouchstart"in Wi,pfe=rm(Wi,"PointerEvent")!==void 0,mfe=fG&&ffe.test(navigator.userAgent),th="touch",vfe="pen",cI="mouse",gfe="kinect",yfe=25,jr=1,Ro=2,qt=4,Jr=8,Gf=1,rh=2,nh=4,ih=8,eu=16,xi=rh|nh,Ya=ih|eu,pG=xi|Ya,mG=["x","y"],Yf=["clientX","clientY"];function Hi(t,e,r){var n;if(t)if(t.forEach)t.forEach(e,r);else if(t.length!==void 0)for(n=0;n<t.length;)e.call(r,t[n],n,t),n++;else for(n in t)t.hasOwnProperty(n)&&e.call(r,t[n],n,t)}function nm(t,e){return typeof t===dfe?t.apply(e&&e[0]||void 0,e):t}function Ia(t,e){return t.indexOf(e)>-1}function bfe(t){if(Ia(t,Ga))return Ga;var e=Ia(t,rd),r=Ia(t,nd);return e&&r?Ga:e||r?e?rd:nd:Ia(t,YP)?YP:hG}var vG=function(){function t(r,n){this.manager=r,this.set(n)}var e=t.prototype;return e.set=function(n){n===dG&&(n=this.compute()),cG&&this.manager.element.style&&qh[n]&&(this.manager.element.style[uG]=n),this.actions=n.toLowerCase().trim()},e.update=function(){this.set(this.manager.options.touchAction)},e.compute=function(){var n=[];return Hi(this.manager.recognizers,function(i){nm(i.options.enable,[i])&&(n=n.concat(i.getTouchAction()))}),bfe(n.join(" "))},e.preventDefaults=function(n){var i=n.srcEvent,s=n.offsetDirection;if(this.manager.session.prevented){i.preventDefault();return}var a=this.actions,o=Ia(a,Ga)&&!qh[Ga],l=Ia(a,nd)&&!qh[nd],u=Ia(a,rd)&&!qh[rd];if(o){var c=n.pointers.length===1,h=n.distance<2,f=n.deltaTime<250;if(c&&h&&f)return}if(!(u&&l)&&(o||l&&s&xi||u&&s&Ya))return this.preventSrc(i)},e.preventSrc=function(n){this.manager.session.prevented=!0,n.preventDefault()},t}();function dI(t,e){for(;t;){if(t===e)return!0;t=t.parentNode}return!1}function gG(t){var e=t.length;if(e===1)return{x:ll(t[0].clientX),y:ll(t[0].clientY)};for(var r=0,n=0,i=0;i<e;)r+=t[i].clientX,n+=t[i].clientY,i++;return{x:ll(r/e),y:ll(n/e)}}function Z5(t){for(var e=[],r=0;r<t.pointers.length;)e[r]={clientX:ll(t.pointers[r].clientX),clientY:ll(t.pointers[r].clientY)},r++;return{timeStamp:uI(),pointers:e,center:gG(e),deltaX:t.deltaX,deltaY:t.deltaY}}function Qf(t,e,r){r||(r=mG);var n=e[r[0]]-t[r[0]],i=e[r[1]]-t[r[1]];return Math.sqrt(n*n+i*i)}function QP(t,e,r){r||(r=mG);var n=e[r[0]]-t[r[0]],i=e[r[1]]-t[r[1]];return Math.atan2(i,n)*180/Math.PI}function yG(t,e){return t===e?Gf:fo(t)>=fo(e)?t<0?rh:nh:e<0?ih:eu}function wfe(t,e){var r=e.center,n=t.offsetDelta||{},i=t.prevDelta||{},s=t.prevInput||{};(e.eventType===jr||s.eventType===qt)&&(i=t.prevDelta={x:s.deltaX||0,y:s.deltaY||0},n=t.offsetDelta={x:r.x,y:r.y}),e.deltaX=i.x+(r.x-n.x),e.deltaY=i.y+(r.y-n.y)}function bG(t,e,r){return{x:e/t||0,y:r/t||0}}function xfe(t,e){return Qf(e[0],e[1],Yf)/Qf(t[0],t[1],Yf)}function _fe(t,e){return QP(e[1],e[0],Yf)+QP(t[1],t[0],Yf)}function Sfe(t,e){var r=t.lastInterval||e,n=e.timeStamp-r.timeStamp,i,s,a,o;if(e.eventType!==Jr&&(n>yfe||r.velocity===void 0)){var l=e.deltaX-r.deltaX,u=e.deltaY-r.deltaY,c=bG(n,l,u);s=c.x,a=c.y,i=fo(c.x)>fo(c.y)?c.x:c.y,o=yG(l,u),t.lastInterval=e}else i=r.velocity,s=r.velocityX,a=r.velocityY,o=r.direction;e.velocity=i,e.velocityX=s,e.velocityY=a,e.direction=o}function Efe(t,e){var r=t.session,n=e.pointers,i=n.length;r.firstInput||(r.firstInput=Z5(e)),i>1&&!r.firstMultiple?r.firstMultiple=Z5(e):i===1&&(r.firstMultiple=!1);var s=r.firstInput,a=r.firstMultiple,o=a?a.center:s.center,l=e.center=gG(n);e.timeStamp=uI(),e.deltaTime=e.timeStamp-s.timeStamp,e.angle=QP(o,l),e.distance=Qf(o,l),wfe(r,e),e.offsetDirection=yG(e.deltaX,e.deltaY);var u=bG(e.deltaTime,e.deltaX,e.deltaY);e.overallVelocityX=u.x,e.overallVelocityY=u.y,e.overallVelocity=fo(u.x)>fo(u.y)?u.x:u.y,e.scale=a?xfe(a.pointers,n):1,e.rotation=a?_fe(a.pointers,n):0,e.maxPointers=r.prevInput?e.pointers.length>r.prevInput.maxPointers?e.pointers.length:r.prevInput.maxPointers:e.pointers.length,Sfe(r,e);var c=t.element,h=e.srcEvent,f;h.composedPath?f=h.composedPath()[0]:h.path?f=h.path[0]:f=h.target,dI(f,c)&&(c=f),e.target=c}function Ofe(t,e,r){var n=r.pointers.length,i=r.changedPointers.length,s=e&jr&&n-i===0,a=e&(qt|Jr)&&n-i===0;r.isFirst=!!s,r.isFinal=!!a,s&&(t.session={}),r.eventType=e,Efe(t,r),t.emit("hammer.input",r),t.recognize(r),t.session.prevInput=r}function id(t){return t.trim().split(/\s+/g)}function _c(t,e,r){Hi(id(e),function(n){t.addEventListener(n,r,!1)})}function Sc(t,e,r){Hi(id(e),function(n){t.removeEventListener(n,r,!1)})}function ez(t){var e=t.ownerDocument||t;return e.defaultView||e.parentWindow||window}var Au=function(){function t(r,n){var i=this;this.manager=r,this.callback=n,this.element=r.element,this.target=r.options.inputTarget,this.domHandler=function(s){nm(r.options.enable,[r])&&i.handler(s)},this.init()}var e=t.prototype;return e.handler=function(){},e.init=function(){this.evEl&&_c(this.element,this.evEl,this.domHandler),this.evTarget&&_c(this.target,this.evTarget,this.domHandler),this.evWin&&_c(ez(this.element),this.evWin,this.domHandler)},e.destroy=function(){this.evEl&&Sc(this.element,this.evEl,this.domHandler),this.evTarget&&Sc(this.target,this.evTarget,this.domHandler),this.evWin&&Sc(ez(this.element),this.evWin,this.domHandler)},t}();function po(t,e,r){if(t.indexOf&&!r)return t.indexOf(e);for(var n=0;n<t.length;){if(r&&t[n][r]==e||!r&&t[n]===e)return n;n++}return-1}var Pfe={pointerdown:jr,pointermove:Ro,pointerup:qt,pointercancel:Jr,pointerout:Jr},Cfe={2:th,3:vfe,4:cI,5:gfe},wG="pointerdown",xG="pointermove pointerup pointercancel";Wi.MSPointerEvent&&!Wi.PointerEvent&&(wG="MSPointerDown",xG="MSPointerMove MSPointerUp MSPointerCancel");var _G=function(t){qn(e,t);function e(){var n,i=e.prototype;return i.evEl=wG,i.evWin=xG,n=t.apply(this,arguments)||this,n.store=n.manager.session.pointerEvents=[],n}var r=e.prototype;return r.handler=function(i){var s=this.store,a=!1,o=i.type.toLowerCase().replace("ms",""),l=Pfe[o],u=Cfe[i.pointerType]||i.pointerType,c=u===th,h=po(s,i.pointerId,"pointerId");l&jr&&(i.button===0||c)?h<0&&(s.push(i),h=s.length-1):l&(qt|Jr)&&(a=!0),!(h<0)&&(s[h]=i,this.callback(this.manager,l,{pointers:s,changedPointers:[i],pointerType:u,srcEvent:i}),a&&s.splice(h,1))},e}(Au);function sd(t){return Array.prototype.slice.call(t,0)}function hI(t,e,r){for(var n=[],i=[],s=0;s<t.length;){var a=e?t[s][e]:t[s];po(i,a)<0&&n.push(t[s]),i[s]=a,s++}return r&&(e?n=n.sort(function(o,l){return o[e]>l[e]}):n=n.sort()),n}var Tfe={touchstart:jr,touchmove:Ro,touchend:qt,touchcancel:Jr},Ife="touchstart touchmove touchend touchcancel",fI=function(t){qn(e,t);function e(){var n;return e.prototype.evTarget=Ife,n=t.apply(this,arguments)||this,n.targetIds={},n}var r=e.prototype;return r.handler=function(i){var s=Tfe[i.type],a=Nfe.call(this,i,s);a&&this.callback(this.manager,s,{pointers:a[0],changedPointers:a[1],pointerType:th,srcEvent:i})},e}(Au);function Nfe(t,e){var r=sd(t.touches),n=this.targetIds;if(e&(jr|Ro)&&r.length===1)return n[r[0].identifier]=!0,[r,r];var i,s,a=sd(t.changedTouches),o=[],l=this.target;if(s=r.filter(function(u){return dI(u.target,l)}),e===jr)for(i=0;i<s.length;)n[s[i].identifier]=!0,i++;for(i=0;i<a.length;)n[a[i].identifier]&&o.push(a[i]),e&(qt|Jr)&&delete n[a[i].identifier],i++;if(o.length)return[hI(s.concat(o),"identifier",!0),o]}var Rfe={mousedown:jr,mousemove:Ro,mouseup:qt},$fe="mousedown",jfe="mousemove mouseup",pI=function(t){qn(e,t);function e(){var n,i=e.prototype;return i.evEl=$fe,i.evWin=jfe,n=t.apply(this,arguments)||this,n.pressed=!1,n}var r=e.prototype;return r.handler=function(i){var s=Rfe[i.type];s&jr&&i.button===0&&(this.pressed=!0),s&Ro&&i.which!==1&&(s=qt),this.pressed&&(s&qt&&(this.pressed=!1),this.callback(this.manager,s,{pointers:[i],changedPointers:[i],pointerType:cI,srcEvent:i}))},e}(Au),kfe=2500,tz=25;function rz(t){var e=t.changedPointers,r=e[0];if(r.identifier===this.primaryTouch){var n={x:r.clientX,y:r.clientY},i=this.lastTouches;this.lastTouches.push(n);var s=function(){var o=i.indexOf(n);o>-1&&i.splice(o,1)};setTimeout(s,kfe)}}function Dfe(t,e){t&jr?(this.primaryTouch=e.changedPointers[0].identifier,rz.call(this,e)):t&(qt|Jr)&&rz.call(this,e)}function qfe(t){for(var e=t.srcEvent.clientX,r=t.srcEvent.clientY,n=0;n<this.lastTouches.length;n++){var i=this.lastTouches[n],s=Math.abs(e-i.x),a=Math.abs(r-i.y);if(s<=tz&&a<=tz)return!0}return!1}var SG=function(){var t=function(e){qn(r,e);function r(i,s){var a;return a=e.call(this,i,s)||this,a.handler=function(o,l,u){var c=u.pointerType===th,h=u.pointerType===cI;if(!(h&&u.sourceCapabilities&&u.sourceCapabilities.firesTouchEvents)){if(c)Dfe.call(Dh(Dh(a)),l,u);else if(h&&qfe.call(Dh(Dh(a)),u))return;a.callback(o,l,u)}},a.touch=new fI(a.manager,a.handler),a.mouse=new pI(a.manager,a.handler),a.primaryTouch=null,a.lastTouches=[],a}var n=r.prototype;return n.destroy=function(){this.touch.destroy(),this.mouse.destroy()},r}(Au);return t}();function Mfe(t){var e,r=t.options.inputClass;return r?e=r:pfe?e=_G:mfe?e=fI:fG?e=SG:e=pI,new e(t,Ofe)}function ul(t,e,r){return Array.isArray(t)?(Hi(t,r[e],r),!0):!1}var nf=1,In=2,tu=4,Ys=8,Vi=Ys,ad=16,vi=32,Afe=1;function Ffe(){return Afe++}function Mh(t,e){var r=e.manager;return r?r.get(t):t}function nz(t){return t&ad?"cancel":t&Ys?"end":t&tu?"move":t&In?"start":""}var sh=function(){function t(r){r===void 0&&(r={}),this.options=Zn({enable:!0},r),this.id=Ffe(),this.manager=null,this.state=nf,this.simultaneous={},this.requireFail=[]}var e=t.prototype;return e.set=function(n){return ho(this.options,n),this.manager&&this.manager.touchAction.update(),this},e.recognizeWith=function(n){if(ul(n,"recognizeWith",this))return this;var i=this.simultaneous;return n=Mh(n,this),i[n.id]||(i[n.id]=n,n.recognizeWith(this)),this},e.dropRecognizeWith=function(n){return ul(n,"dropRecognizeWith",this)?this:(n=Mh(n,this),delete this.simultaneous[n.id],this)},e.requireFailure=function(n){if(ul(n,"requireFailure",this))return this;var i=this.requireFail;return n=Mh(n,this),po(i,n)===-1&&(i.push(n),n.requireFailure(this)),this},e.dropRequireFailure=function(n){if(ul(n,"dropRequireFailure",this))return this;n=Mh(n,this);var i=po(this.requireFail,n);return i>-1&&this.requireFail.splice(i,1),this},e.hasRequireFailures=function(){return this.requireFail.length>0},e.canRecognizeWith=function(n){return!!this.simultaneous[n.id]},e.emit=function(n){var i=this,s=this.state;function a(o){i.manager.emit(o,n)}s<Ys&&a(i.options.event+nz(s)),a(i.options.event),n.additionalEvent&&a(n.additionalEvent),s>=Ys&&a(i.options.event+nz(s))},e.tryEmit=function(n){if(this.canEmit())return this.emit(n);this.state=vi},e.canEmit=function(){for(var n=0;n<this.requireFail.length;){if(!(this.requireFail[n].state&(vi|nf)))return!1;n++}return!0},e.recognize=function(n){var i=ho({},n);if(!nm(this.options.enable,[this,i])){this.reset(),this.state=vi;return}this.state&(Vi|ad|vi)&&(this.state=nf),this.state=this.process(i),this.state&(In|tu|Ys|ad)&&this.tryEmit(i)},e.process=function(n){},e.getTouchAction=function(){},e.reset=function(){},t}(),XP=function(t){qn(e,t);function e(n){var i;return n===void 0&&(n={}),i=t.call(this,Zn({event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},n))||this,i.pTime=!1,i.pCenter=!1,i._timer=null,i._input=null,i.count=0,i}var r=e.prototype;return r.getTouchAction=function(){return[YP]},r.process=function(i){var s=this,a=this.options,o=i.pointers.length===a.pointers,l=i.distance<a.threshold,u=i.deltaTime<a.time;if(this.reset(),i.eventType&jr&&this.count===0)return this.failTimeout();if(l&&u&&o){if(i.eventType!==qt)return this.failTimeout();var c=this.pTime?i.timeStamp-this.pTime<a.interval:!0,h=!this.pCenter||Qf(this.pCenter,i.center)<a.posThreshold;this.pTime=i.timeStamp,this.pCenter=i.center,!h||!c?this.count=1:this.count+=1,this._input=i;var f=this.count%a.taps;if(f===0)return this.hasRequireFailures()?(this._timer=setTimeout(function(){s.state=Vi,s.tryEmit()},a.interval),In):Vi}return vi},r.failTimeout=function(){var i=this;return this._timer=setTimeout(function(){i.state=vi},this.options.interval),vi},r.reset=function(){clearTimeout(this._timer)},r.emit=function(){this.state===Vi&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))},e}(sh),ru=function(t){qn(e,t);function e(n){return n===void 0&&(n={}),t.call(this,Zn({pointers:1},n))||this}var r=e.prototype;return r.attrTest=function(i){var s=this.options.pointers;return s===0||i.pointers.length===s},r.process=function(i){var s=this.state,a=i.eventType,o=s&(In|tu),l=this.attrTest(i);return o&&(a&Jr||!l)?s|ad:o||l?a&qt?s|Ys:s&In?s|tu:In:vi},e}(sh);function EG(t){return t===eu?"down":t===ih?"up":t===rh?"left":t===nh?"right":""}var mI=function(t){qn(e,t);function e(n){var i;return n===void 0&&(n={}),i=t.call(this,Zn({event:"pan",threshold:10,pointers:1,direction:pG},n))||this,i.pX=null,i.pY=null,i}var r=e.prototype;return r.getTouchAction=function(){var i=this.options.direction,s=[];return i&xi&&s.push(nd),i&Ya&&s.push(rd),s},r.directionTest=function(i){var s=this.options,a=!0,o=i.distance,l=i.direction,u=i.deltaX,c=i.deltaY;return l&s.direction||(s.direction&xi?(l=u===0?Gf:u<0?rh:nh,a=u!==this.pX,o=Math.abs(i.deltaX)):(l=c===0?Gf:c<0?ih:eu,a=c!==this.pY,o=Math.abs(i.deltaY))),i.direction=l,a&&o>s.threshold&&l&s.direction},r.attrTest=function(i){return ru.prototype.attrTest.call(this,i)&&(this.state&In||!(this.state&In)&&this.directionTest(i))},r.emit=function(i){this.pX=i.deltaX,this.pY=i.deltaY;var s=EG(i.direction);s&&(i.additionalEvent=this.options.event+s),t.prototype.emit.call(this,i)},e}(ru),OG=function(t){qn(e,t);function e(n){return n===void 0&&(n={}),t.call(this,Zn({event:"swipe",threshold:10,velocity:.3,direction:xi|Ya,pointers:1},n))||this}var r=e.prototype;return r.getTouchAction=function(){return mI.prototype.getTouchAction.call(this)},r.attrTest=function(i){var s=this.options.direction,a;return s&(xi|Ya)?a=i.overallVelocity:s&xi?a=i.overallVelocityX:s&Ya&&(a=i.overallVelocityY),t.prototype.attrTest.call(this,i)&&s&i.offsetDirection&&i.distance>this.options.threshold&&i.maxPointers===this.options.pointers&&fo(a)>this.options.velocity&&i.eventType&qt},r.emit=function(i){var s=EG(i.offsetDirection);s&&this.manager.emit(this.options.event+s,i),this.manager.emit(this.options.event,i)},e}(ru),PG=function(t){qn(e,t);function e(n){return n===void 0&&(n={}),t.call(this,Zn({event:"pinch",threshold:0,pointers:2},n))||this}var r=e.prototype;return r.getTouchAction=function(){return[Ga]},r.attrTest=function(i){return t.prototype.attrTest.call(this,i)&&(Math.abs(i.scale-1)>this.options.threshold||this.state&In)},r.emit=function(i){if(i.scale!==1){var s=i.scale<1?"in":"out";i.additionalEvent=this.options.event+s}t.prototype.emit.call(this,i)},e}(ru),CG=function(t){qn(e,t);function e(n){return n===void 0&&(n={}),t.call(this,Zn({event:"rotate",threshold:0,pointers:2},n))||this}var r=e.prototype;return r.getTouchAction=function(){return[Ga]},r.attrTest=function(i){return t.prototype.attrTest.call(this,i)&&(Math.abs(i.rotation)>this.options.threshold||this.state&In)},e}(ru),TG=function(t){qn(e,t);function e(n){var i;return n===void 0&&(n={}),i=t.call(this,Zn({event:"press",pointers:1,time:251,threshold:9},n))||this,i._timer=null,i._input=null,i}var r=e.prototype;return r.getTouchAction=function(){return[hG]},r.process=function(i){var s=this,a=this.options,o=i.pointers.length===a.pointers,l=i.distance<a.threshold,u=i.deltaTime>a.time;if(this._input=i,!l||!o||i.eventType&(qt|Jr)&&!u)this.reset();else if(i.eventType&jr)this.reset(),this._timer=setTimeout(function(){s.state=Vi,s.tryEmit()},a.time);else if(i.eventType&qt)return Vi;return vi},r.reset=function(){clearTimeout(this._timer)},r.emit=function(i){this.state===Vi&&(i&&i.eventType&qt?this.manager.emit(this.options.event+"up",i):(this._input.timeStamp=uI(),this.manager.emit(this.options.event,this._input)))},e}(sh),IG={domEvents:!1,touchAction:dG,enable:!0,inputTarget:null,inputClass:null,cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}},iz=[[CG,{enable:!1}],[PG,{enable:!1},["rotate"]],[OG,{direction:xi}],[mI,{direction:xi},["swipe"]],[XP],[XP,{event:"doubletap",taps:2},["tap"]],[TG]],Lfe=1,sz=2;function az(t,e){var r=t.element;if(r.style){var n;Hi(t.options.cssProps,function(i,s){n=rm(r.style,s),e?(t.oldCssProps[n]=r.style[n],r.style[n]=i):r.style[n]=t.oldCssProps[n]||""}),e||(t.oldCssProps={})}}function Bfe(t,e){var r=document.createEvent("Event");r.initEvent(t,!0,!0),r.gesture=e,e.target.dispatchEvent(r)}var oz=function(){function t(r,n){var i=this;this.options=ho({},IG,n||{}),this.options.inputTarget=this.options.inputTarget||r,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=r,this.input=Mfe(this),this.touchAction=new vG(this,this.options.touchAction),az(this,!0),Hi(this.options.recognizers,function(s){var a=i.add(new s[0](s[1]));s[2]&&a.recognizeWith(s[2]),s[3]&&a.requireFailure(s[3])},this)}var e=t.prototype;return e.set=function(n){return ho(this.options,n),n.touchAction&&this.touchAction.update(),n.inputTarget&&(this.input.destroy(),this.input.target=n.inputTarget,this.input.init()),this},e.stop=function(n){this.session.stopped=n?sz:Lfe},e.recognize=function(n){var i=this.session;if(!i.stopped){this.touchAction.preventDefaults(n);var s,a=this.recognizers,o=i.curRecognizer;(!o||o&&o.state&Vi)&&(i.curRecognizer=null,o=null);for(var l=0;l<a.length;)s=a[l],i.stopped!==sz&&(!o||s===o||s.canRecognizeWith(o))?s.recognize(n):s.reset(),!o&&s.state&(In|tu|Ys)&&(i.curRecognizer=s,o=s),l++}},e.get=function(n){if(n instanceof sh)return n;for(var i=this.recognizers,s=0;s<i.length;s++)if(i[s].options.event===n)return i[s];return null},e.add=function(n){if(ul(n,"add",this))return this;var i=this.get(n.options.event);return i&&this.remove(i),this.recognizers.push(n),n.manager=this,this.touchAction.update(),n},e.remove=function(n){if(ul(n,"remove",this))return this;var i=this.get(n);if(n){var s=this.recognizers,a=po(s,i);a!==-1&&(s.splice(a,1),this.touchAction.update())}return this},e.on=function(n,i){if(n===void 0||i===void 0)return this;var s=this.handlers;return Hi(id(n),function(a){s[a]=s[a]||[],s[a].push(i)}),this},e.off=function(n,i){if(n===void 0)return this;var s=this.handlers;return Hi(id(n),function(a){i?s[a]&&s[a].splice(po(s[a],i),1):delete s[a]}),this},e.emit=function(n,i){this.options.domEvents&&Bfe(n,i);var s=this.handlers[n]&&this.handlers[n].slice();if(!(!s||!s.length)){i.type=n,i.preventDefault=function(){i.srcEvent.preventDefault()};for(var a=0;a<s.length;)s[a](i),a++}},e.destroy=function(){this.element&&az(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null},t}(),zfe={touchstart:jr,touchmove:Ro,touchend:qt,touchcancel:Jr},Ufe="touchstart",Wfe="touchstart touchmove touchend touchcancel",Hfe=function(t){qn(e,t);function e(){var n,i=e.prototype;return i.evTarget=Ufe,i.evWin=Wfe,n=t.apply(this,arguments)||this,n.started=!1,n}var r=e.prototype;return r.handler=function(i){var s=zfe[i.type];if(s===jr&&(this.started=!0),!!this.started){var a=Vfe.call(this,i,s);s&(qt|Jr)&&a[0].length-a[1].length===0&&(this.started=!1),this.callback(this.manager,s,{pointers:a[0],changedPointers:a[1],pointerType:th,srcEvent:i})}},e}(Au);function Vfe(t,e){var r=sd(t.touches),n=sd(t.changedTouches);return e&(qt|Jr)&&(r=hI(r.concat(n),"identifier",!0)),[r,n]}function NG(t,e,r){var n="DEPRECATED METHOD: "+e+`
`+r+` AT 
`;return function(){var i=new Error("get-stack-trace"),s=i&&i.stack?i.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",a=window.console&&(window.console.warn||window.console.log);return a&&a.call(window.console,n,s),t.apply(this,arguments)}}var RG=NG(function(t,e,r){for(var n=Object.keys(e),i=0;i<n.length;)(!r||r&&t[n[i]]===void 0)&&(t[n[i]]=e[n[i]]),i++;return t},"extend","Use `assign`."),Kfe=NG(function(t,e){return RG(t,e,!0)},"merge","Use `assign`.");function Gfe(t,e,r){var n=e.prototype,i;i=t.prototype=Object.create(n),i.constructor=t,i._super=n,r&&ho(i,r)}function lz(t,e){return function(){return t.apply(e,arguments)}}var $G=function(){var t=function(r,n){return n===void 0&&(n={}),new oz(r,Zn({recognizers:iz.concat()},n))};return t.VERSION="2.0.17-rc",t.DIRECTION_ALL=pG,t.DIRECTION_DOWN=eu,t.DIRECTION_LEFT=rh,t.DIRECTION_RIGHT=nh,t.DIRECTION_UP=ih,t.DIRECTION_HORIZONTAL=xi,t.DIRECTION_VERTICAL=Ya,t.DIRECTION_NONE=Gf,t.DIRECTION_DOWN=eu,t.INPUT_START=jr,t.INPUT_MOVE=Ro,t.INPUT_END=qt,t.INPUT_CANCEL=Jr,t.STATE_POSSIBLE=nf,t.STATE_BEGAN=In,t.STATE_CHANGED=tu,t.STATE_ENDED=Ys,t.STATE_RECOGNIZED=Vi,t.STATE_CANCELLED=ad,t.STATE_FAILED=vi,t.Manager=oz,t.Input=Au,t.TouchAction=vG,t.TouchInput=fI,t.MouseInput=pI,t.PointerEventInput=_G,t.TouchMouseInput=SG,t.SingleTouchInput=Hfe,t.Recognizer=sh,t.AttrRecognizer=ru,t.Tap=XP,t.Pan=mI,t.Swipe=OG,t.Pinch=PG,t.Rotate=CG,t.Press=TG,t.on=_c,t.off=Sc,t.each=Hi,t.merge=Kfe,t.extend=RG,t.bindFn=lz,t.assign=ho,t.inherit=Gfe,t.bindFn=lz,t.prefixed=rm,t.toArray=sd,t.inArray=po,t.uniqueArray=hI,t.splitStr=id,t.boolOrFn=nm,t.hasParent=dI,t.addEventListeners=_c,t.removeEventListeners=Sc,t.defaults=ho({},IG,{preset:iz}),t}();$G.defaults;Qce("DELETE");function im(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return Yfe(e.length?e:[Kf()])}function Yfe(t){let[e,r,n]=Qfe(t),i=1;const s=()=>{const a=2091639*e+i*23283064365386963e-26;return e=r,r=n,n=a-(i=a|0)};return s.uint32=()=>s()*4294967296,s.fract53=()=>s()+(s()*2097152|0)*11102230246251565e-32,s.algorithm="Alea",s.seed=t,s.version="0.9",s}function Qfe(){const t=Xfe();let e=t(" "),r=t(" "),n=t(" ");for(let i=0;i<arguments.length;i++)e-=t(i<0||arguments.length<=i?void 0:arguments[i]),e<0&&(e+=1),r-=t(i<0||arguments.length<=i?void 0:arguments[i]),r<0&&(r+=1),n-=t(i<0||arguments.length<=i?void 0:arguments[i]),n<0&&(n+=1);return[e,r,n]}function Xfe(){let t=4022871197;return function(e){const r=e.toString();for(let n=0;n<r.length;n++){t+=r.charCodeAt(n);let i=.02519603282416938*t;t=i>>>0,i-=t,i*=t,t=i>>>0,i-=t,t+=i*4294967296}return(t>>>0)*23283064365386963e-26}}function Jfe(){const t=()=>{};return{on:t,off:t,destroy:t,emit:t,get(){return{set:t}}}}const vI=typeof window<"u"?window.Hammer||$G:function(){return Jfe()};function gi(t){var e;this._cleanupQueue=[],this.active=!1,this._dom={container:t,overlay:document.createElement("div")},this._dom.overlay.classList.add("vis-overlay"),this._dom.container.appendChild(this._dom.overlay),this._cleanupQueue.push(()=>{this._dom.overlay.parentNode.removeChild(this._dom.overlay)});const r=vI(this._dom.overlay);r.on("tap",ee(e=this._onTapOverlay).call(e,this)),this._cleanupQueue.push(()=>{r.destroy()});const n=["tap","doubletap","press","pinch","pan","panstart","panmove","panend"];Ge(n).call(n,i=>{r.on(i,s=>{s.srcEvent.stopPropagation()})}),document&&document.body&&(this._onClick=i=>{Zfe(i.target,t)||this.deactivate()},document.body.addEventListener("click",this._onClick),this._cleanupQueue.push(()=>{document.body.removeEventListener("click",this._onClick)})),this._escListener=i=>{("key"in i?i.key==="Escape":i.keyCode===27)&&this.deactivate()}}z9(gi.prototype);gi.current=null;gi.prototype.destroy=function(){this.deactivate();for(const r of Va(t=zi(e=this._cleanupQueue).call(e,0)).call(t)){var t,e;r()}};gi.prototype.activate=function(){gi.current&&gi.current.deactivate(),gi.current=this,this.active=!0,this._dom.overlay.style.display="none",this._dom.container.classList.add("vis-active"),this.emit("change"),this.emit("activate"),document.body.addEventListener("keydown",this._escListener)};gi.prototype.deactivate=function(){this.active=!1,this._dom.overlay.style.display="block",this._dom.container.classList.remove("vis-active"),document.body.removeEventListener("keydown",this._escListener),this.emit("change"),this.emit("deactivate")};gi.prototype._onTapOverlay=function(t){this.activate(),t.srcEvent.stopPropagation()};function Zfe(t,e){for(;t;){if(t===e)return!0;t=t.parentNode}return!1}const epe=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i,tpe=/^#?([a-f\d])([a-f\d])([a-f\d])$/i,rpe=/^rgb\( *(1?\d{1,2}|2[0-4]\d|25[0-5]) *, *(1?\d{1,2}|2[0-4]\d|25[0-5]) *, *(1?\d{1,2}|2[0-4]\d|25[0-5]) *\)$/i,npe=/^rgba\( *(1?\d{1,2}|2[0-4]\d|25[0-5]) *, *(1?\d{1,2}|2[0-4]\d|25[0-5]) *, *(1?\d{1,2}|2[0-4]\d|25[0-5]) *, *([01]|0?\.\d+) *\)$/i;function gs(t){if(t)for(;t.hasChildNodes()===!0;){const e=t.firstChild;e&&(gs(e),t.removeChild(e))}}function vl(t){return t instanceof String||typeof t=="string"}function uz(t){return typeof t=="object"&&t!==null}function mo(t,e,r,n){let i=!1;n===!0&&(i=e[r]===null&&t[r]!==void 0),i?delete t[r]:t[r]=e[r]}function jG(t,e){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;for(const n in t)if(e[n]!==void 0)if(e[n]===null||typeof e[n]!="object")mo(t,e,n,r);else{const i=t[n],s=e[n];uz(i)&&uz(s)&&jG(i,s,r)}}function Fu(t,e,r){let n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(Ot(r))throw new TypeError("Arrays are not supported by deepExtend");for(let i=0;i<t.length;i++){const s=t[i];if(Object.prototype.hasOwnProperty.call(r,s))if(r[s]&&r[s].constructor===Object)e[s]===void 0&&(e[s]={}),e[s].constructor===Object?et(e[s],r[s],!1,n):mo(e,r,s,n);else{if(Ot(r[s]))throw new TypeError("Arrays are not supported by deepExtend");mo(e,r,s,n)}}return e}function Xf(t,e,r){let n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(Ot(r))throw new TypeError("Arrays are not supported by deepExtend");for(const i in r)if(Object.prototype.hasOwnProperty.call(r,i)&&!Gs(t).call(t,i))if(r[i]&&r[i].constructor===Object)e[i]===void 0&&(e[i]={}),e[i].constructor===Object?et(e[i],r[i]):mo(e,r,i,n);else if(Ot(r[i])){e[i]=[];for(let s=0;s<r[i].length;s++)e[i].push(r[i][s])}else mo(e,r,i,n);return e}function et(t,e){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;for(const s in e)if(Object.prototype.hasOwnProperty.call(e,s)||r===!0)if(typeof e[s]=="object"&&e[s]!==null&&W3(e[s])===Object.prototype)t[s]===void 0?t[s]=et({},e[s],r):typeof t[s]=="object"&&t[s]!==null&&W3(t[s])===Object.prototype?et(t[s],e[s],r):mo(t,e,s,n);else if(Ot(e[s])){var i;t[s]=pi(i=e[s]).call(i)}else mo(t,e,s,n);return t}function Jf(t,e){return[...t,e]}function ipe(t){return pi(t).call(t)}function spe(t){return t.getBoundingClientRect().left}function ape(t){return t.getBoundingClientRect().top}function Re(t,e){if(Ot(t)){const r=t.length;for(let n=0;n<r;n++)e(t[n],n,t)}else for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&e(t[r],r,t)}function gI(t){let e;switch(t.length){case 3:case 4:return e=tpe.exec(t),e?{r:Hn(e[1]+e[1],16),g:Hn(e[2]+e[2],16),b:Hn(e[3]+e[3],16)}:null;case 6:case 7:return e=epe.exec(t),e?{r:Hn(e[1],16),g:Hn(e[2],16),b:Hn(e[3],16)}:null;default:return null}}function On(t,e){if(Gs(t).call(t,"rgba"))return t;if(Gs(t).call(t,"rgb")){const r=t.substr(Ue(t).call(t,"(")+1).replace(")","").split(",");return"rgba("+r[0]+","+r[1]+","+r[2]+","+e+")"}else{const r=gI(t);return r==null?t:"rgba("+r.r+","+r.g+","+r.b+","+e+")"}}function kG(t,e,r){var n;return"#"+pi(n=((1<<24)+(t<<16)+(e<<8)+r).toString(16)).call(n,1)}function JP(t,e){if(vl(t)){let n=t;if(qG(n)){var r;const i=Zl(r=n.substr(4).substr(0,n.length-5).split(",")).call(r,function(s){return Hn(s)});n=kG(i[0],i[1],i[2])}if(DG(n)===!0){const i=ope(n),s={h:i.h,s:i.s*.8,v:Math.min(1,i.v*1.02)},a={h:i.h,s:Math.min(1,i.s*1.25),v:i.v*.8},o=ZP(a.h,a.s,a.v),l=ZP(s.h,s.s,s.v);return{background:n,border:o,highlight:{background:l,border:o},hover:{background:l,border:o}}}else return{background:n,border:n,highlight:{background:n,border:n},hover:{background:n,border:n}}}else return{background:t.background||void 0,border:t.border||void 0,highlight:vl(t.highlight)?{border:t.highlight,background:t.highlight}:{background:t.highlight&&t.highlight.background||void 0,border:t.highlight&&t.highlight.border||void 0},hover:vl(t.hover)?{border:t.hover,background:t.hover}:{border:t.hover&&t.hover.border||void 0,background:t.hover&&t.hover.background||void 0}}}function oc(t,e,r){t=t/255,e=e/255,r=r/255;const n=Math.min(t,Math.min(e,r)),i=Math.max(t,Math.max(e,r));if(n===i)return{h:0,s:0,v:n};const s=t===n?e-r:r===n?t-e:r-t,o=60*((t===n?3:r===n?1:5)-s/(i-n))/360,l=(i-n)/i;return{h:o,s:l,v:i}}function sf(t,e,r){let n,i,s;const a=Math.floor(t*6),o=t*6-a,l=r*(1-e),u=r*(1-o*e),c=r*(1-(1-o)*e);switch(a%6){case 0:n=r,i=c,s=l;break;case 1:n=u,i=r,s=l;break;case 2:n=l,i=r,s=c;break;case 3:n=l,i=u,s=r;break;case 4:n=c,i=l,s=r;break;case 5:n=r,i=l,s=u;break}return{r:Math.floor(n*255),g:Math.floor(i*255),b:Math.floor(s*255)}}function ZP(t,e,r){const n=sf(t,e,r);return kG(n.r,n.g,n.b)}function ope(t){const e=gI(t);if(!e)throw new TypeError("'".concat(t,"' is not a valid color."));return oc(e.r,e.g,e.b)}function DG(t){return/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i.test(t)}function qG(t){return rpe.test(t)}function lpe(t){return npe.test(t)}function Qs(t){if(t===null||typeof t!="object")return null;if(t instanceof Element)return t;const e=Ka(t);for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&typeof t[r]=="object"&&(e[r]=Qs(t[r]));return e}function _n(t,e,r){let n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};const i=function(p){return p!=null},s=function(p){return p!==null&&typeof p=="object"},a=function(p){for(const m in p)if(Object.prototype.hasOwnProperty.call(p,m))return!1;return!0};if(!s(t))throw new Error("Parameter mergeTarget must be an object");if(!s(e))throw new Error("Parameter options must be an object");if(!i(r))throw new Error("Parameter option must have a value");if(!s(n))throw new Error("Parameter globalOptions must be an object");const o=function(p,m,y){s(p[y])||(p[y]={});const b=m[y],g=p[y];for(const v in b)Object.prototype.hasOwnProperty.call(b,v)&&(g[v]=b[v])},l=e[r],c=s(n)&&!a(n)?n[r]:void 0,h=c?c.enabled:void 0;if(l===void 0)return;if(typeof l=="boolean"){s(t[r])||(t[r]={}),t[r].enabled=l;return}if(l===null&&!s(t[r]))if(i(c))t[r]=Ka(c);else return;if(!s(l))return;let f=!0;l.enabled!==void 0?f=l.enabled:h!==void 0&&(f=c.enabled),o(t,e,r),t[r].enabled=f}const upe={linear(t){return t},easeInQuad(t){return t*t},easeOutQuad(t){return t*(2-t)},easeInOutQuad(t){return t<.5?2*t*t:-1+(4-2*t)*t},easeInCubic(t){return t*t*t},easeOutCubic(t){return--t*t*t+1},easeInOutCubic(t){return t<.5?4*t*t*t:(t-1)*(2*t-2)*(2*t-2)+1},easeInQuart(t){return t*t*t*t},easeOutQuart(t){return 1- --t*t*t*t},easeInOutQuart(t){return t<.5?8*t*t*t*t:1-8*--t*t*t*t},easeInQuint(t){return t*t*t*t*t},easeOutQuint(t){return 1+--t*t*t*t*t},easeInOutQuint(t){return t<.5?16*t*t*t*t*t:1+16*--t*t*t*t*t}};function ys(t,e){let r;Ot(e)||(e=[e]);for(const n of t)if(n){r=n[e[0]];for(let i=1;i<e.length;i++)r&&(r=r[e[i]]);if(typeof r<"u")break}return r}const cpe={black:"#000000",navy:"#000080",darkblue:"#00008B",mediumblue:"#0000CD",blue:"#0000FF",darkgreen:"#006400",green:"#008000",teal:"#008080",darkcyan:"#008B8B",deepskyblue:"#00BFFF",darkturquoise:"#00CED1",mediumspringgreen:"#00FA9A",lime:"#00FF00",springgreen:"#00FF7F",aqua:"#00FFFF",cyan:"#00FFFF",midnightblue:"#191970",dodgerblue:"#1E90FF",lightseagreen:"#20B2AA",forestgreen:"#228B22",seagreen:"#2E8B57",darkslategray:"#2F4F4F",limegreen:"#32CD32",mediumseagreen:"#3CB371",turquoise:"#40E0D0",royalblue:"#4169E1",steelblue:"#4682B4",darkslateblue:"#483D8B",mediumturquoise:"#48D1CC",indigo:"#4B0082",darkolivegreen:"#556B2F",cadetblue:"#5F9EA0",cornflowerblue:"#6495ED",mediumaquamarine:"#66CDAA",dimgray:"#696969",slateblue:"#6A5ACD",olivedrab:"#6B8E23",slategray:"#708090",lightslategray:"#778899",mediumslateblue:"#7B68EE",lawngreen:"#7CFC00",chartreuse:"#7FFF00",aquamarine:"#7FFFD4",maroon:"#800000",purple:"#800080",olive:"#808000",gray:"#808080",skyblue:"#87CEEB",lightskyblue:"#87CEFA",blueviolet:"#8A2BE2",darkred:"#8B0000",darkmagenta:"#8B008B",saddlebrown:"#8B4513",darkseagreen:"#8FBC8F",lightgreen:"#90EE90",mediumpurple:"#9370D8",darkviolet:"#9400D3",palegreen:"#98FB98",darkorchid:"#9932CC",yellowgreen:"#9ACD32",sienna:"#A0522D",brown:"#A52A2A",darkgray:"#A9A9A9",lightblue:"#ADD8E6",greenyellow:"#ADFF2F",paleturquoise:"#AFEEEE",lightsteelblue:"#B0C4DE",powderblue:"#B0E0E6",firebrick:"#B22222",darkgoldenrod:"#B8860B",mediumorchid:"#BA55D3",rosybrown:"#BC8F8F",darkkhaki:"#BDB76B",silver:"#C0C0C0",mediumvioletred:"#C71585",indianred:"#CD5C5C",peru:"#CD853F",chocolate:"#D2691E",tan:"#D2B48C",lightgrey:"#D3D3D3",palevioletred:"#D87093",thistle:"#D8BFD8",orchid:"#DA70D6",goldenrod:"#DAA520",crimson:"#DC143C",gainsboro:"#DCDCDC",plum:"#DDA0DD",burlywood:"#DEB887",lightcyan:"#E0FFFF",lavender:"#E6E6FA",darksalmon:"#E9967A",violet:"#EE82EE",palegoldenrod:"#EEE8AA",lightcoral:"#F08080",khaki:"#F0E68C",aliceblue:"#F0F8FF",honeydew:"#F0FFF0",azure:"#F0FFFF",sandybrown:"#F4A460",wheat:"#F5DEB3",beige:"#F5F5DC",whitesmoke:"#F5F5F5",mintcream:"#F5FFFA",ghostwhite:"#F8F8FF",salmon:"#FA8072",antiquewhite:"#FAEBD7",linen:"#FAF0E6",lightgoldenrodyellow:"#FAFAD2",oldlace:"#FDF5E6",red:"#FF0000",fuchsia:"#FF00FF",magenta:"#FF00FF",deeppink:"#FF1493",orangered:"#FF4500",tomato:"#FF6347",hotpink:"#FF69B4",coral:"#FF7F50",darkorange:"#FF8C00",lightsalmon:"#FFA07A",orange:"#FFA500",lightpink:"#FFB6C1",pink:"#FFC0CB",gold:"#FFD700",peachpuff:"#FFDAB9",navajowhite:"#FFDEAD",moccasin:"#FFE4B5",bisque:"#FFE4C4",mistyrose:"#FFE4E1",blanchedalmond:"#FFEBCD",papayawhip:"#FFEFD5",lavenderblush:"#FFF0F5",seashell:"#FFF5EE",cornsilk:"#FFF8DC",lemonchiffon:"#FFFACD",floralwhite:"#FFFAF0",snow:"#FFFAFA",yellow:"#FFFF00",lightyellow:"#FFFFE0",ivory:"#FFFFF0",white:"#FFFFFF"};let dpe=class{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1;this.pixelRatio=e,this.generated=!1,this.centerCoordinates={x:289/2,y:289/2},this.r=289*.49,this.color={r:255,g:255,b:255,a:1},this.hueCircle=void 0,this.initialColor={r:255,g:255,b:255,a:1},this.previousColor=void 0,this.applied=!1,this.updateCallback=()=>{},this.closeCallback=()=>{},this._create()}insertTo(e){this.hammer!==void 0&&(this.hammer.destroy(),this.hammer=void 0),this.container=e,this.container.appendChild(this.frame),this._bindHammer(),this._setSize()}setUpdateCallback(e){if(typeof e=="function")this.updateCallback=e;else throw new Error("Function attempted to set as colorPicker update callback is not a function.")}setCloseCallback(e){if(typeof e=="function")this.closeCallback=e;else throw new Error("Function attempted to set as colorPicker closing callback is not a function.")}_isColorString(e){if(typeof e=="string")return cpe[e]}setColor(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(e==="none")return;let n;const i=this._isColorString(e);if(i!==void 0&&(e=i),vl(e)===!0){if(qG(e)===!0){const s=e.substr(4).substr(0,e.length-5).split(",");n={r:s[0],g:s[1],b:s[2],a:1}}else if(lpe(e)===!0){const s=e.substr(5).substr(0,e.length-6).split(",");n={r:s[0],g:s[1],b:s[2],a:s[3]}}else if(DG(e)===!0){const s=gI(e);n={r:s.r,g:s.g,b:s.b,a:1}}}else if(e instanceof Object&&e.r!==void 0&&e.g!==void 0&&e.b!==void 0){const s=e.a!==void 0?e.a:"1.0";n={r:e.r,g:e.g,b:e.b,a:s}}if(n===void 0)throw new Error("Unknown color passed to the colorPicker. Supported are strings: rgb, hex, rgba. Object: rgb ({r:r,g:g,b:b,[a:a]}). Supplied: "+Zd(e));this._setColor(n,r)}show(){this.closeCallback!==void 0&&(this.closeCallback(),this.closeCallback=void 0),this.applied=!1,this.frame.style.display="block",this._generateHueCircle()}_hide(){(arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0)===!0&&(this.previousColor=Dt({},this.color)),this.applied===!0&&this.updateCallback(this.initialColor),this.frame.style.display="none",Ui(()=>{this.closeCallback!==void 0&&(this.closeCallback(),this.closeCallback=void 0)},0)}_save(){this.updateCallback(this.color),this.applied=!1,this._hide()}_apply(){this.applied=!0,this.updateCallback(this.color),this._updatePicker(this.color)}_loadLast(){this.previousColor!==void 0?this.setColor(this.previousColor,!1):alert("There is no last color to load...")}_setColor(e){(arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0)===!0&&(this.initialColor=Dt({},e)),this.color=e;const n=oc(e.r,e.g,e.b),i=2*Math.PI,s=this.r*n.s,a=this.centerCoordinates.x+s*Math.sin(i*n.h),o=this.centerCoordinates.y+s*Math.cos(i*n.h);this.colorPickerSelector.style.left=a-.5*this.colorPickerSelector.clientWidth+"px",this.colorPickerSelector.style.top=o-.5*this.colorPickerSelector.clientHeight+"px",this._updatePicker(e)}_setOpacity(e){this.color.a=e/100,this._updatePicker(this.color)}_setBrightness(e){const r=oc(this.color.r,this.color.g,this.color.b);r.v=e/100;const n=sf(r.h,r.s,r.v);n.a=this.color.a,this.color=n,this._updatePicker()}_updatePicker(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.color;const r=oc(e.r,e.g,e.b),n=this.colorPickerCanvas.getContext("2d");this.pixelRation===void 0&&(this.pixelRatio=(window.devicePixelRatio||1)/(n.webkitBackingStorePixelRatio||n.mozBackingStorePixelRatio||n.msBackingStorePixelRatio||n.oBackingStorePixelRatio||n.backingStorePixelRatio||1)),n.setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0);const i=this.colorPickerCanvas.clientWidth,s=this.colorPickerCanvas.clientHeight;n.clearRect(0,0,i,s),n.putImageData(this.hueCircle,0,0),n.fillStyle="rgba(0,0,0,"+(1-r.v)+")",n.circle(this.centerCoordinates.x,this.centerCoordinates.y,this.r),eh(n).call(n),this.brightnessRange.value=100*r.v,this.opacityRange.value=100*e.a,this.initialColorDiv.style.backgroundColor="rgba("+this.initialColor.r+","+this.initialColor.g+","+this.initialColor.b+","+this.initialColor.a+")",this.newColorDiv.style.backgroundColor="rgba("+this.color.r+","+this.color.g+","+this.color.b+","+this.color.a+")"}_setSize(){this.colorPickerCanvas.style.width="100%",this.colorPickerCanvas.style.height="100%",this.colorPickerCanvas.width=289*this.pixelRatio,this.colorPickerCanvas.height=289*this.pixelRatio}_create(){var e,r,n,i;if(this.frame=document.createElement("div"),this.frame.className="vis-color-picker",this.colorPickerDiv=document.createElement("div"),this.colorPickerSelector=document.createElement("div"),this.colorPickerSelector.className="vis-selector",this.colorPickerDiv.appendChild(this.colorPickerSelector),this.colorPickerCanvas=document.createElement("canvas"),this.colorPickerDiv.appendChild(this.colorPickerCanvas),this.colorPickerCanvas.getContext){const a=this.colorPickerCanvas.getContext("2d");this.pixelRatio=(window.devicePixelRatio||1)/(a.webkitBackingStorePixelRatio||a.mozBackingStorePixelRatio||a.msBackingStorePixelRatio||a.oBackingStorePixelRatio||a.backingStorePixelRatio||1),this.colorPickerCanvas.getContext("2d").setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0)}else{const a=document.createElement("DIV");a.style.color="red",a.style.fontWeight="bold",a.style.padding="10px",a.innerText="Error: your browser does not support HTML canvas",this.colorPickerCanvas.appendChild(a)}this.colorPickerDiv.className="vis-color",this.opacityDiv=document.createElement("div"),this.opacityDiv.className="vis-opacity",this.brightnessDiv=document.createElement("div"),this.brightnessDiv.className="vis-brightness",this.arrowDiv=document.createElement("div"),this.arrowDiv.className="vis-arrow",this.opacityRange=document.createElement("input");try{this.opacityRange.type="range",this.opacityRange.min="0",this.opacityRange.max="100"}catch{}this.opacityRange.value="100",this.opacityRange.className="vis-range",this.brightnessRange=document.createElement("input");try{this.brightnessRange.type="range",this.brightnessRange.min="0",this.brightnessRange.max="100"}catch{}this.brightnessRange.value="100",this.brightnessRange.className="vis-range",this.opacityDiv.appendChild(this.opacityRange),this.brightnessDiv.appendChild(this.brightnessRange);const s=this;this.opacityRange.onchange=function(){s._setOpacity(this.value)},this.opacityRange.oninput=function(){s._setOpacity(this.value)},this.brightnessRange.onchange=function(){s._setBrightness(this.value)},this.brightnessRange.oninput=function(){s._setBrightness(this.value)},this.brightnessLabel=document.createElement("div"),this.brightnessLabel.className="vis-label vis-brightness",this.brightnessLabel.innerText="brightness:",this.opacityLabel=document.createElement("div"),this.opacityLabel.className="vis-label vis-opacity",this.opacityLabel.innerText="opacity:",this.newColorDiv=document.createElement("div"),this.newColorDiv.className="vis-new-color",this.newColorDiv.innerText="new",this.initialColorDiv=document.createElement("div"),this.initialColorDiv.className="vis-initial-color",this.initialColorDiv.innerText="initial",this.cancelButton=document.createElement("div"),this.cancelButton.className="vis-button vis-cancel",this.cancelButton.innerText="cancel",this.cancelButton.onclick=ee(e=this._hide).call(e,this,!1),this.applyButton=document.createElement("div"),this.applyButton.className="vis-button vis-apply",this.applyButton.innerText="apply",this.applyButton.onclick=ee(r=this._apply).call(r,this),this.saveButton=document.createElement("div"),this.saveButton.className="vis-button vis-save",this.saveButton.innerText="save",this.saveButton.onclick=ee(n=this._save).call(n,this),this.loadButton=document.createElement("div"),this.loadButton.className="vis-button vis-load",this.loadButton.innerText="load last",this.loadButton.onclick=ee(i=this._loadLast).call(i,this),this.frame.appendChild(this.colorPickerDiv),this.frame.appendChild(this.arrowDiv),this.frame.appendChild(this.brightnessLabel),this.frame.appendChild(this.brightnessDiv),this.frame.appendChild(this.opacityLabel),this.frame.appendChild(this.opacityDiv),this.frame.appendChild(this.newColorDiv),this.frame.appendChild(this.initialColorDiv),this.frame.appendChild(this.cancelButton),this.frame.appendChild(this.applyButton),this.frame.appendChild(this.saveButton),this.frame.appendChild(this.loadButton)}_bindHammer(){this.drag={},this.pinch={},this.hammer=new vI(this.colorPickerCanvas),this.hammer.get("pinch").set({enable:!0}),this.hammer.on("hammer.input",e=>{e.isFirst&&this._moveSelector(e)}),this.hammer.on("tap",e=>{this._moveSelector(e)}),this.hammer.on("panstart",e=>{this._moveSelector(e)}),this.hammer.on("panmove",e=>{this._moveSelector(e)}),this.hammer.on("panend",e=>{this._moveSelector(e)})}_generateHueCircle(){if(this.generated===!1){const e=this.colorPickerCanvas.getContext("2d");this.pixelRation===void 0&&(this.pixelRatio=(window.devicePixelRatio||1)/(e.webkitBackingStorePixelRatio||e.mozBackingStorePixelRatio||e.msBackingStorePixelRatio||e.oBackingStorePixelRatio||e.backingStorePixelRatio||1)),e.setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0);const r=this.colorPickerCanvas.clientWidth,n=this.colorPickerCanvas.clientHeight;e.clearRect(0,0,r,n);let i,s,a,o;this.centerCoordinates={x:r*.5,y:n*.5},this.r=.49*r;const l=2*Math.PI/360,u=1/360,c=1/this.r;let h;for(a=0;a<360;a++)for(o=0;o<this.r;o++)i=this.centerCoordinates.x+o*Math.sin(l*a),s=this.centerCoordinates.y+o*Math.cos(l*a),h=sf(a*u,o*c,1),e.fillStyle="rgb("+h.r+","+h.g+","+h.b+")",e.fillRect(i-.5,s-.5,2,2);e.strokeStyle="rgba(0,0,0,1)",e.circle(this.centerCoordinates.x,this.centerCoordinates.y,this.r),e.stroke(),this.hueCircle=e.getImageData(0,0,r,n)}this.generated=!0}_moveSelector(e){const r=this.colorPickerDiv.getBoundingClientRect(),n=e.center.x-r.left,i=e.center.y-r.top,s=.5*this.colorPickerDiv.clientHeight,a=.5*this.colorPickerDiv.clientWidth,o=n-a,l=i-s,u=Math.atan2(o,l),c=.98*Math.min(Math.sqrt(o*o+l*l),a),h=Math.cos(u)*c+s,f=Math.sin(u)*c+a;this.colorPickerSelector.style.top=h-.5*this.colorPickerSelector.clientHeight+"px",this.colorPickerSelector.style.left=f-.5*this.colorPickerSelector.clientWidth+"px";let p=u/(2*Math.PI);p=p<0?p+1:p;const m=c/this.r,y=oc(this.color.r,this.color.g,this.color.b);y.h=p,y.s=m;const b=sf(y.h,y.s,y.v);b.a=this.color.a,this.color=b,this.initialColorDiv.style.backgroundColor="rgba("+this.initialColor.r+","+this.initialColor.g+","+this.initialColor.b+","+this.initialColor.a+")",this.newColorDiv.style.backgroundColor="rgba("+this.color.r+","+this.color.g+","+this.color.b+","+this.color.a+")"}};function eC(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];if(e.length<1)throw new TypeError("Invalid arguments.");if(e.length===1)return document.createTextNode(e[0]);{const n=document.createElement(e[0]);return n.appendChild(eC(...pi(e).call(e,1))),n}}let hpe=class{constructor(e,r,n){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:1,s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:()=>!1;this.parent=e,this.changedOptions=[],this.container=r,this.allowCreation=!1,this.hideOption=s,this.options={},this.initialized=!1,this.popupCounter=0,this.defaultOptions={enabled:!1,filter:!0,container:void 0,showButton:!0},Dt(this.options,this.defaultOptions),this.configureOptions=n,this.moduleOptions={},this.domElements=[],this.popupDiv={},this.popupLimit=5,this.popupHistory={},this.colorPicker=new dpe(i),this.wrapper=void 0}setOptions(e){if(e!==void 0){this.popupHistory={},this._removePopup();let r=!0;if(typeof e=="string")this.options.filter=e;else if(Ot(e))this.options.filter=e.join();else if(typeof e=="object"){if(e==null)throw new TypeError("options cannot be null");e.container!==void 0&&(this.options.container=e.container),Ur(e)!==void 0&&(this.options.filter=Ur(e)),e.showButton!==void 0&&(this.options.showButton=e.showButton),e.enabled!==void 0&&(r=e.enabled)}else typeof e=="boolean"?(this.options.filter=!0,r=e):typeof e=="function"&&(this.options.filter=e,r=!0);Ur(this.options)===!1&&(r=!1),this.options.enabled=r}this._clean()}setModuleOptions(e){this.moduleOptions=e,this.options.enabled===!0&&(this._clean(),this.options.container!==void 0&&(this.container=this.options.container),this._create())}_create(){this._clean(),this.changedOptions=[];const e=Ur(this.options);let r=0,n=!1;for(const i in this.configureOptions)Object.prototype.hasOwnProperty.call(this.configureOptions,i)&&(this.allowCreation=!1,n=!1,typeof e=="function"?(n=e(i,[]),n=n||this._handleObject(this.configureOptions[i],[i],!0)):(e===!0||Ue(e).call(e,i)!==-1)&&(n=!0),n!==!1&&(this.allowCreation=!0,r>0&&this._makeItem([]),this._makeHeader(i),this._handleObject(this.configureOptions[i],[i])),r++);this._makeButton(),this._push()}_push(){this.wrapper=document.createElement("div"),this.wrapper.className="vis-configuration-wrapper",this.container.appendChild(this.wrapper);for(let e=0;e<this.domElements.length;e++)this.wrapper.appendChild(this.domElements[e]);this._showPopupIfNeeded()}_clean(){for(let e=0;e<this.domElements.length;e++)this.wrapper.removeChild(this.domElements[e]);this.wrapper!==void 0&&(this.container.removeChild(this.wrapper),this.wrapper=void 0),this.domElements=[],this._removePopup()}_getValue(e){let r=this.moduleOptions;for(let n=0;n<e.length;n++)if(r[e[n]]!==void 0)r=r[e[n]];else{r=void 0;break}return r}_makeItem(e){if(this.allowCreation===!0){const s=document.createElement("div");s.className="vis-configuration vis-config-item vis-config-s"+e.length;for(var r=arguments.length,n=new Array(r>1?r-1:0),i=1;i<r;i++)n[i-1]=arguments[i];return Ge(n).call(n,a=>{s.appendChild(a)}),this.domElements.push(s),this.domElements.length}return 0}_makeHeader(e){const r=document.createElement("div");r.className="vis-configuration vis-config-header",r.innerText=e,this._makeItem([],r)}_makeLabel(e,r){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;const i=document.createElement("div");if(i.className="vis-configuration vis-config-label vis-config-s"+r.length,n===!0){for(;i.firstChild;)i.removeChild(i.firstChild);i.appendChild(eC("i","b",e))}else i.innerText=e+":";return i}_makeDropdown(e,r,n){const i=document.createElement("select");i.className="vis-configuration vis-config-select";let s=0;r!==void 0&&Ue(e).call(e,r)!==-1&&(s=Ue(e).call(e,r));for(let l=0;l<e.length;l++){const u=document.createElement("option");u.value=e[l],l===s&&(u.selected="selected"),u.innerText=e[l],i.appendChild(u)}const a=this;i.onchange=function(){a._update(this.value,n)};const o=this._makeLabel(n[n.length-1],n);this._makeItem(n,o,i)}_makeRange(e,r,n){const i=e[0],s=e[1],a=e[2],o=e[3],l=document.createElement("input");l.className="vis-configuration vis-config-range";try{l.type="range",l.min=s,l.max=a}catch{}l.step=o;let u="",c=0;r!==void 0?(r<0&&r*1.2<s?(l.min=Math.ceil(r*1.2),c=l.min,u="range increased"):r/1.2<s&&(l.min=Math.ceil(r/1.2),c=l.min,u="range increased"),r*1.2>a&&a!==1&&(l.max=Math.ceil(r*1.2),c=l.max,u="range increased"),l.value=r):l.value=i;const h=document.createElement("input");h.className="vis-configuration vis-config-rangeinput",h.value=l.value;const f=this;l.onchange=function(){h.value=this.value,f._update(Number(this.value),n)},l.oninput=function(){h.value=this.value};const p=this._makeLabel(n[n.length-1],n),m=this._makeItem(n,p,l,h);u!==""&&this.popupHistory[m]!==c&&(this.popupHistory[m]=c,this._setupPopup(u,m))}_makeButton(){if(this.options.showButton===!0){const e=document.createElement("div");e.className="vis-configuration vis-config-button",e.innerText="generate options",e.onclick=()=>{this._printOptions()},e.onmouseover=()=>{e.className="vis-configuration vis-config-button hover"},e.onmouseout=()=>{e.className="vis-configuration vis-config-button"},this.optionsContainer=document.createElement("div"),this.optionsContainer.className="vis-configuration vis-config-option-container",this.domElements.push(this.optionsContainer),this.domElements.push(e)}}_setupPopup(e,r){if(this.initialized===!0&&this.allowCreation===!0&&this.popupCounter<this.popupLimit){const n=document.createElement("div");n.id="vis-configuration-popup",n.className="vis-configuration-popup",n.innerText=e,n.onclick=()=>{this._removePopup()},this.popupCounter+=1,this.popupDiv={html:n,index:r}}}_removePopup(){this.popupDiv.html!==void 0&&(this.popupDiv.html.parentNode.removeChild(this.popupDiv.html),clearTimeout(this.popupDiv.hideTimeout),clearTimeout(this.popupDiv.deleteTimeout),this.popupDiv={})}_showPopupIfNeeded(){if(this.popupDiv.html!==void 0){const r=this.domElements[this.popupDiv.index].getBoundingClientRect();this.popupDiv.html.style.left=r.left+"px",this.popupDiv.html.style.top=r.top-30+"px",document.body.appendChild(this.popupDiv.html),this.popupDiv.hideTimeout=Ui(()=>{this.popupDiv.html.style.opacity=0},1500),this.popupDiv.deleteTimeout=Ui(()=>{this._removePopup()},1800)}}_makeCheckbox(e,r,n){const i=document.createElement("input");i.type="checkbox",i.className="vis-configuration vis-config-checkbox",i.checked=e,r!==void 0&&(i.checked=r,r!==e&&(typeof e=="object"?r!==e.enabled&&this.changedOptions.push({path:n,value:r}):this.changedOptions.push({path:n,value:r})));const s=this;i.onchange=function(){s._update(this.checked,n)};const a=this._makeLabel(n[n.length-1],n);this._makeItem(n,a,i)}_makeTextInput(e,r,n){const i=document.createElement("input");i.type="text",i.className="vis-configuration vis-config-text",i.value=r,r!==e&&this.changedOptions.push({path:n,value:r});const s=this;i.onchange=function(){s._update(this.value,n)};const a=this._makeLabel(n[n.length-1],n);this._makeItem(n,a,i)}_makeColorField(e,r,n){const i=e[1],s=document.createElement("div");r=r===void 0?i:r,r!=="none"?(s.className="vis-configuration vis-config-colorBlock",s.style.backgroundColor=r):s.className="vis-configuration vis-config-colorBlock none",r=r===void 0?i:r,s.onclick=()=>{this._showColorPicker(r,s,n)};const a=this._makeLabel(n[n.length-1],n);this._makeItem(n,a,s)}_showColorPicker(e,r,n){r.onclick=function(){},this.colorPicker.insertTo(r),this.colorPicker.show(),this.colorPicker.setColor(e),this.colorPicker.setUpdateCallback(i=>{const s="rgba("+i.r+","+i.g+","+i.b+","+i.a+")";r.style.backgroundColor=s,this._update(s,n)}),this.colorPicker.setCloseCallback(()=>{r.onclick=()=>{this._showColorPicker(e,r,n)}})}_handleObject(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,i=!1;const s=Ur(this.options);let a=!1;for(const o in e)if(Object.prototype.hasOwnProperty.call(e,o)){i=!0;const l=e[o],u=Jf(r,o);if(typeof s=="function"&&(i=s(o,r),i===!1&&!Ot(l)&&typeof l!="string"&&typeof l!="boolean"&&l instanceof Object&&(this.allowCreation=!1,i=this._handleObject(l,u,!0),this.allowCreation=n===!1)),i!==!1){a=!0;const c=this._getValue(u);if(Ot(l))this._handleArray(l,c,u);else if(typeof l=="string")this._makeTextInput(l,c,u);else if(typeof l=="boolean")this._makeCheckbox(l,c,u);else if(l instanceof Object){if(!this.hideOption(r,o,this.moduleOptions))if(l.enabled!==void 0){const h=Jf(u,"enabled"),f=this._getValue(h);if(f===!0){const p=this._makeLabel(o,u,!0);this._makeItem(u,p),a=this._handleObject(l,u)||a}else this._makeCheckbox(l,f,u)}else{const h=this._makeLabel(o,u,!0);this._makeItem(u,h),a=this._handleObject(l,u)||a}}else console.error("dont know how to handle",l,o,u)}}return a}_handleArray(e,r,n){typeof e[0]=="string"&&e[0]==="color"?(this._makeColorField(e,r,n),e[1]!==r&&this.changedOptions.push({path:n,value:r})):typeof e[0]=="string"?(this._makeDropdown(e,r,n),e[0]!==r&&this.changedOptions.push({path:n,value:r})):typeof e[0]=="number"&&(this._makeRange(e,r,n),e[0]!==r&&this.changedOptions.push({path:n,value:Number(r)}))}_update(e,r){const n=this._constructOptions(e,r);this.parent.body&&this.parent.body.emitter&&this.parent.body.emitter.emit&&this.parent.body.emitter.emit("configChange",n),this.initialized=!0,this.parent.setOptions(n)}_constructOptions(e,r){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},i=n;e=e==="true"?!0:e,e=e==="false"?!1:e;for(let s=0;s<r.length;s++)r[s]!=="global"&&(i[r[s]]===void 0&&(i[r[s]]={}),s!==r.length-1?i=i[r[s]]:i[r[s]]=e);return n}_printOptions(){const e=this.getOptions();for(;this.optionsContainer.firstChild;)this.optionsContainer.removeChild(this.optionsContainer.firstChild);this.optionsContainer.appendChild(eC("pre","const options = "+Zd(e,null,2)))}getOptions(){const e={};for(let r=0;r<this.changedOptions.length;r++)this._constructOptions(this.changedOptions[r].value,this.changedOptions[r].path,e);return e}},fpe=class{constructor(e,r){this.container=e,this.overflowMethod=r||"cap",this.x=0,this.y=0,this.padding=5,this.hidden=!1,this.frame=document.createElement("div"),this.frame.className="vis-tooltip",this.container.appendChild(this.frame)}setPosition(e,r){this.x=Hn(e),this.y=Hn(r)}setText(e){if(e instanceof Element){for(;this.frame.firstChild;)this.frame.removeChild(this.frame.firstChild);this.frame.appendChild(e)}else this.frame.innerText=e}show(e){if(e===void 0&&(e=!0),e===!0){const r=this.frame.clientHeight,n=this.frame.clientWidth,i=this.frame.parentNode.clientHeight,s=this.frame.parentNode.clientWidth;let a=0,o=0;if(this.overflowMethod=="flip"){let l=!1,u=!0;this.y-r<this.padding&&(u=!1),this.x+n>s-this.padding&&(l=!0),l?a=this.x-n:a=this.x,u?o=this.y-r:o=this.y}else o=this.y-r,o+r+this.padding>i&&(o=i-r-this.padding),o<this.padding&&(o=this.padding),a=this.x,a+n+this.padding>s&&(a=s-n-this.padding),a<this.padding&&(a=this.padding);this.frame.style.left=a+"px",this.frame.style.top=o+"px",this.frame.style.visibility="visible",this.hidden=!1}else this.hide()}hide(){this.hidden=!0,this.frame.style.left="0",this.frame.style.top="0",this.frame.style.visibility="hidden"}destroy(){this.frame.parentNode.removeChild(this.frame)}},ec=!1,cz;const tC="background: #FFeeee; color: #dd0000";let ppe=class bt{static validate(e,r,n){ec=!1,cz=r;let i=r;return n!==void 0&&(i=r[n]),bt.parse(e,i,[]),ec}static parse(e,r,n){for(const i in e)Object.prototype.hasOwnProperty.call(e,i)&&bt.check(i,e,r,n)}static check(e,r,n,i){if(n[e]===void 0&&n.__any__===void 0){bt.getSuggestion(e,n,i);return}let s=e,a=!0;n[e]===void 0&&n.__any__!==void 0&&(s="__any__",a=bt.getType(r[e])==="object");let o=n[s];a&&o.__type__!==void 0&&(o=o.__type__),bt.checkFields(e,r,n,s,o,i)}static checkFields(e,r,n,i,s,a){const o=function(c){console.error("%c"+c+bt.printLocation(a,e),tC)},l=bt.getType(r[e]),u=s[l];u!==void 0?bt.getType(u)==="array"&&Ue(u).call(u,r[e])===-1?(o('Invalid option detected in "'+e+'". Allowed values are:'+bt.print(u)+' not "'+r[e]+'". '),ec=!0):l==="object"&&i!=="__any__"&&(a=Jf(a,e),bt.parse(r[e],n[i],a)):s.any===void 0&&(o('Invalid type received for "'+e+'". Expected: '+bt.print(_t(s))+". Received ["+l+'] "'+r[e]+'"'),ec=!0)}static getType(e){const r=typeof e;return r==="object"?e===null?"null":e instanceof Boolean?"boolean":e instanceof Number?"number":e instanceof String?"string":Ot(e)?"array":e instanceof Date?"date":e.nodeType!==void 0?"dom":e._isAMomentObject===!0?"moment":"object":r==="number"?"number":r==="boolean"?"boolean":r==="string"?"string":r===void 0?"undefined":r}static getSuggestion(e,r,n){const i=bt.findInOptions(e,r,n,!1),s=bt.findInOptions(e,cz,[],!0),a=8,o=4;let l;i.indexMatch!==void 0?l=" in "+bt.printLocation(i.path,e,"")+'Perhaps it was incomplete? Did you mean: "'+i.indexMatch+`"?

`:s.distance<=o&&i.distance>s.distance?l=" in "+bt.printLocation(i.path,e,"")+"Perhaps it was misplaced? Matching option found at: "+bt.printLocation(s.path,s.closestMatch,""):i.distance<=a?l='. Did you mean "'+i.closestMatch+'"?'+bt.printLocation(i.path,e):l=". Did you mean one of these: "+bt.print(_t(r))+bt.printLocation(n,e),console.error('%cUnknown option detected: "'+e+'"'+l,tC),ec=!0}static findInOptions(e,r,n){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1,s=1e9,a="",o=[];const l=e.toLowerCase();let u;for(const h in r){let f;if(r[h].__type__!==void 0&&i===!0){const p=bt.findInOptions(e,r[h],Jf(n,h));s>p.distance&&(a=p.closestMatch,o=p.path,s=p.distance,u=p.indexMatch)}else{var c;Ue(c=h.toLowerCase()).call(c,l)!==-1&&(u=h),f=bt.levenshteinDistance(e,h),s>f&&(a=h,o=ipe(n),s=f)}}return{closestMatch:a,path:o,distance:s,indexMatch:u}}static printLocation(e,r){let i=`

`+(arguments.length>2&&arguments[2]!==void 0?arguments[2]:`Problem value found at: 
`)+`options = {
`;for(let s=0;s<e.length;s++){for(let a=0;a<s+1;a++)i+="  ";i+=e[s]+`: {
`}for(let s=0;s<e.length+1;s++)i+="  ";i+=r+`
`;for(let s=0;s<e.length+1;s++){for(let a=0;a<e.length-s;a++)i+="  ";i+=`}
`}return i+`

`}static print(e){return Zd(e).replace(/(")|(\[)|(\])|(,"__type__")/g,"").replace(/(,)/g,", ")}static levenshteinDistance(e,r){if(e.length===0)return r.length;if(r.length===0)return e.length;const n=[];let i;for(i=0;i<=r.length;i++)n[i]=[i];let s;for(s=0;s<=e.length;s++)n[0][s]=s;for(i=1;i<=r.length;i++)for(s=1;s<=e.length;s++)r.charAt(i-1)==e.charAt(s-1)?n[i][s]=n[i-1][s-1]:n[i][s]=Math.min(n[i-1][s-1]+1,Math.min(n[i][s-1]+1,n[i-1][s]+1));return n[r.length][e.length]}};const mpe=gi,vpe=hpe,gl=vI,gpe=fpe,MG=tC,ype=ppe;function bpe(t){return Ds=t,Spe()}var AG={fontsize:"font.size",fontcolor:"font.color",labelfontcolor:"font.color",fontname:"font.face",color:["color.border","color.background"],fillcolor:"color.background",tooltip:"title",labeltooltip:"title"},yI=Ka(AG);yI.color="color.color";yI.style="dashes";var Cr={NULL:0,DELIMITER:1,IDENTIFIER:2,UNKNOWN:3},dz={"{":!0,"}":!0,"[":!0,"]":!0,";":!0,"=":!0,",":!0,"->":!0,"--":!0},Ds="",nu=0,Ne="",_e="",Br=Cr.NULL;function wpe(){nu=0,Ne=Ds.charAt(0)}function Kt(){nu++,Ne=Ds.charAt(nu)}function Uo(){return Ds.charAt(nu+1)}function hz(t){var e=t.charCodeAt(0);return e<47?e===35||e===46:e<59?e>47:e<91?e>64:e<96?e===95:e<123?e>96:!1}function ra(t,e){if(t||(t={}),e)for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);return t}function xpe(t,e,r){for(var n=e.split("."),i=t;n.length;){var s=n.shift();n.length?(i[s]||(i[s]={}),i=i[s]):i[s]=r}}function FG(t,e){for(var r,n,i=null,s=[t],a=t;a.parent;)s.push(a.parent),a=a.parent;if(a.nodes){for(r=0,n=a.nodes.length;r<n;r++)if(e.id===a.nodes[r].id){i=a.nodes[r];break}}for(i||(i={id:e.id},t.node&&(i.attr=ra(i.attr,t.node))),r=s.length-1;r>=0;r--){var o,l=s[r];l.nodes||(l.nodes=[]),Ue(o=l.nodes).call(o,i)===-1&&l.nodes.push(i)}e.attr&&(i.attr=ra(i.attr,e.attr))}function _pe(t,e){if(t.edges||(t.edges=[]),t.edges.push(e),t.edge){var r=ra({},t.edge);e.attr=ra(r,e.attr)}}function LG(t,e,r,n,i){var s={from:e,to:r,type:n};return t.edge&&(s.attr=ra({},t.edge)),s.attr=ra(s.attr||{},i),i!=null&&i.hasOwnProperty("arrows")&&i.arrows!=null&&(s.arrows={to:{enabled:!0,type:i.arrows.type}},i.arrows=null),s}function tt(){for(Br=Cr.NULL,_e="";Ne===" "||Ne==="	"||Ne===`
`||Ne==="\r";)Kt();do{var t=!1;if(Ne==="#"){for(var e=nu-1;Ds.charAt(e)===" "||Ds.charAt(e)==="	";)e--;if(Ds.charAt(e)===`
`||Ds.charAt(e)===""){for(;Ne!=""&&Ne!=`
`;)Kt();t=!0}}if(Ne==="/"&&Uo()==="/"){for(;Ne!=""&&Ne!=`
`;)Kt();t=!0}if(Ne==="/"&&Uo()==="*"){for(;Ne!="";)if(Ne==="*"&&Uo()==="/"){Kt(),Kt();break}else Kt();t=!0}for(;Ne===" "||Ne==="	"||Ne===`
`||Ne==="\r";)Kt()}while(t);if(Ne===""){Br=Cr.DELIMITER;return}var r=Ne+Uo();if(dz[r]){Br=Cr.DELIMITER,_e=r,Kt(),Kt();return}if(dz[Ne]){Br=Cr.DELIMITER,_e=Ne,Kt();return}if(hz(Ne)||Ne==="-"){for(_e+=Ne,Kt();hz(Ne);)_e+=Ne,Kt();_e==="false"?_e=!1:_e==="true"?_e=!0:isNaN(Number(_e))||(_e=Number(_e)),Br=Cr.IDENTIFIER;return}if(Ne==='"'){for(Kt();Ne!=""&&(Ne!='"'||Ne==='"'&&Uo()==='"');)Ne==='"'?(_e+=Ne,Kt()):Ne==="\\"&&Uo()==="n"?(_e+=`
`,Kt()):_e+=Ne,Kt();if(Ne!='"')throw Tr('End of string " expected');Kt(),Br=Cr.IDENTIFIER;return}for(Br=Cr.UNKNOWN;Ne!="";)_e+=Ne,Kt();throw new SyntaxError('Syntax error in part "'+WG(_e,30)+'"')}function Spe(){var t={};if(wpe(),tt(),_e==="strict"&&(t.strict=!0,tt()),(_e==="graph"||_e==="digraph")&&(t.type=_e,tt()),Br===Cr.IDENTIFIER&&(t.id=_e,tt()),_e!="{")throw Tr("Angle bracket { expected");if(tt(),BG(t),_e!="}")throw Tr("Angle bracket } expected");if(tt(),_e!=="")throw Tr("End of file expected");return tt(),delete t.node,delete t.edge,delete t.graph,t}function BG(t){for(;_e!==""&&_e!="}";)Epe(t),_e===";"&&tt()}function Epe(t){var e=zG(t);if(e){UG(t,e);return}var r=Ope(t);if(!r){if(Br!=Cr.IDENTIFIER)throw Tr("Identifier expected");var n=_e;if(tt(),_e==="="){if(tt(),Br!=Cr.IDENTIFIER)throw Tr("Identifier expected");t[n]=_e,tt()}else Ppe(t,n)}}function zG(t){var e=null;if(_e==="subgraph"&&(e={},e.type="subgraph",tt(),Br===Cr.IDENTIFIER&&(e.id=_e,tt())),_e==="{"){if(tt(),e||(e={}),e.parent=t,e.node=t.node,e.edge=t.edge,e.graph=t.graph,BG(e),_e!="}")throw Tr("Angle bracket } expected");tt(),delete e.node,delete e.edge,delete e.graph,delete e.parent,t.subgraphs||(t.subgraphs=[]),t.subgraphs.push(e)}return e}function Ope(t){return _e==="node"?(tt(),t.node=Ec(),"node"):_e==="edge"?(tt(),t.edge=Ec(),"edge"):_e==="graph"?(tt(),t.graph=Ec(),"graph"):null}function Ppe(t,e){var r={id:e},n=Ec();n&&(r.attr=n),FG(t,r),UG(t,e)}function UG(t,e){for(;_e==="->"||_e==="--";){var r,n=_e;tt();var i=zG(t);if(i)r=i;else{if(Br!=Cr.IDENTIFIER)throw Tr("Identifier or subgraph expected");r=_e,FG(t,{id:r}),tt()}var s=Ec(),a=LG(t,e,r,n,s);_pe(t,a),e=r}}function Ec(){for(var t,e=null,r={dashed:!0,solid:!1,dotted:[1,5]},n={dot:"circle",box:"box",crow:"crow",curve:"curve",icurve:"inv_curve",normal:"triangle",inv:"inv_triangle",diamond:"diamond",tee:"bar",vee:"vee"},i=new Array,s=new Array;_e==="[";){for(tt(),e={};_e!==""&&_e!="]";){if(Br!=Cr.IDENTIFIER)throw Tr("Attribute name expected");var a=_e;if(tt(),_e!="=")throw Tr("Equal sign = expected");if(tt(),Br!=Cr.IDENTIFIER)throw Tr("Attribute value expected");var o=_e;a==="style"&&(o=r[o]);var l;a==="arrowhead"&&(l=n[o],a="arrows",o={to:{enabled:!0,type:l}}),a==="arrowtail"&&(l=n[o],a="arrows",o={from:{enabled:!0,type:l}}),i.push({attr:e,name:a,value:o}),s.push(a),tt(),_e==","&&tt()}if(_e!="]")throw Tr("Bracket ] expected");tt()}if(Gs(s).call(s,"dir")){var u={};for(u.arrows={},t=0;t<i.length;t++)if(i[t].name==="arrows")if(i[t].value.to!=null)u.arrows.to=t;else if(i[t].value.from!=null)u.arrows.from=t;else throw Tr("Invalid value of arrows");else i[t].name==="dir"&&(u.dir=t);var c=i[u.dir].value;if(!Gs(s).call(s,"arrows"))if(c==="both")i.push({attr:i[u.dir].attr,name:"arrows",value:{to:{enabled:!0}}}),u.arrows.to=i.length-1,i.push({attr:i[u.dir].attr,name:"arrows",value:{from:{enabled:!0}}}),u.arrows.from=i.length-1;else if(c==="forward")i.push({attr:i[u.dir].attr,name:"arrows",value:{to:{enabled:!0}}}),u.arrows.to=i.length-1;else if(c==="back")i.push({attr:i[u.dir].attr,name:"arrows",value:{from:{enabled:!0}}}),u.arrows.from=i.length-1;else if(c==="none")i.push({attr:i[u.dir].attr,name:"arrows",value:""}),u.arrows.to=i.length-1;else throw Tr('Invalid dir type "'+c+'"');var h,f;if(c==="both")u.arrows.to&&u.arrows.from?(f=i[u.arrows.to].value.to.type,h=i[u.arrows.from].value.from.type,i[u.arrows.to]={attr:i[u.arrows.to].attr,name:i[u.arrows.to].name,value:{to:{enabled:!0,type:f},from:{enabled:!0,type:h}}},zi(i).call(i,u.arrows.from,1)):u.arrows.to?(f=i[u.arrows.to].value.to.type,h="arrow",i[u.arrows.to]={attr:i[u.arrows.to].attr,name:i[u.arrows.to].name,value:{to:{enabled:!0,type:f},from:{enabled:!0,type:h}}}):u.arrows.from&&(f="arrow",h=i[u.arrows.from].value.from.type,i[u.arrows.from]={attr:i[u.arrows.from].attr,name:i[u.arrows.from].name,value:{to:{enabled:!0,type:f},from:{enabled:!0,type:h}}});else if(c==="back")u.arrows.to&&u.arrows.from?(f="",h=i[u.arrows.from].value.from.type,i[u.arrows.from]={attr:i[u.arrows.from].attr,name:i[u.arrows.from].name,value:{to:{enabled:!0,type:f},from:{enabled:!0,type:h}}}):u.arrows.to?(f="",h="arrow",u.arrows.from=u.arrows.to,i[u.arrows.from]={attr:i[u.arrows.from].attr,name:i[u.arrows.from].name,value:{to:{enabled:!0,type:f},from:{enabled:!0,type:h}}}):u.arrows.from&&(f="",h=i[u.arrows.from].value.from.type,i[u.arrows.to]={attr:i[u.arrows.from].attr,name:i[u.arrows.from].name,value:{to:{enabled:!0,type:f},from:{enabled:!0,type:h}}}),i[u.arrows.from]={attr:i[u.arrows.from].attr,name:i[u.arrows.from].name,value:{from:{enabled:!0,type:i[u.arrows.from].value.from.type}}};else if(c==="none"){var p;u.arrows.to?p=u.arrows.to:p=u.arrows.from,i[p]={attr:i[p].attr,name:i[p].name,value:""}}else if(c==="forward")u.arrows.to&&u.arrows.from?(f=i[u.arrows.to].value.to.type,h="",i[u.arrows.to]={attr:i[u.arrows.to].attr,name:i[u.arrows.to].name,value:{to:{enabled:!0,type:f},from:{enabled:!0,type:h}}}):u.arrows.to?(f=i[u.arrows.to].value.to.type,h="",i[u.arrows.to]={attr:i[u.arrows.to].attr,name:i[u.arrows.to].name,value:{to:{enabled:!0,type:f},from:{enabled:!0,type:h}}}):u.arrows.from&&(f="arrow",h="",u.arrows.to=u.arrows.from,i[u.arrows.to]={attr:i[u.arrows.to].attr,name:i[u.arrows.to].name,value:{to:{enabled:!0,type:f},from:{enabled:!0,type:h}}}),i[u.arrows.to]={attr:i[u.arrows.to].attr,name:i[u.arrows.to].name,value:{to:{enabled:!0,type:i[u.arrows.to].value.to.type}}};else throw Tr('Invalid dir type "'+c+'"');zi(i).call(i,u.dir,1)}var m;if(Gs(s).call(s,"penwidth")){var y=[];for(m=i.length,t=0;t<m;t++)i[t].name!=="width"&&(i[t].name==="penwidth"&&(i[t].name="width"),y.push(i[t]));i=y}for(m=i.length,t=0;t<m;t++)xpe(i[t].attr,i[t].name,i[t].value);return e}function Tr(t){return new SyntaxError(t+', got "'+WG(_e,30)+'" (char '+nu+")")}function WG(t,e){return t.length<=e?t:t.substr(0,27)+"..."}function Cpe(t,e,r){Ot(t)?Ge(t).call(t,function(n){Ot(e)?Ge(e).call(e,function(i){r(n,i)}):r(n,e)}):Ot(e)?Ge(e).call(e,function(n){r(t,n)}):r(t,e)}function G_(t,e,r){for(var n=e.split("."),i=n.pop(),s=t,a=0;a<n.length;a++){var o=n[a];o in s||(s[o]={}),s=s[o]}return s[i]=r,t}function fz(t,e){var r={};for(var n in t)if(t.hasOwnProperty(n)){var i=e[n];Ot(i)?Ge(i).call(i,function(s){G_(r,s,t[n])}):typeof i=="string"?G_(r,i,t[n]):G_(r,n,t[n])}return r}function Tpe(t){var e=bpe(t),r={nodes:[],edges:[],options:{}};if(e.nodes){var n;Ge(n=e.nodes).call(n,function(a){var o={id:a.id,label:String(a.label||a.id)};ra(o,fz(a.attr,AG)),o.image&&(o.shape="image"),r.nodes.push(o)})}if(e.edges){var i,s=function(a){var o={from:a.from,to:a.to};return ra(o,fz(a.attr,yI)),o.arrows==null&&a.type==="->"&&(o.arrows="to"),o};Ge(i=e.edges).call(i,function(a){var o,l;if(a.from instanceof Object?o=a.from.nodes:o={id:a.from},a.to instanceof Object?l=a.to.nodes:l={id:a.to},a.from instanceof Object&&a.from.edges){var u;Ge(u=a.from.edges).call(u,function(h){var f=s(h);r.edges.push(f)})}if(Cpe(o,l,function(h,f){var p=LG(r,h.id,f.id,a.type,a.attr),m=s(p);r.edges.push(m)}),a.to instanceof Object&&a.to.edges){var c;Ge(c=a.to.edges).call(c,function(h){var f=s(h);r.edges.push(f)})}})}return e.attr&&(r.options=e.attr),r}function Ipe(t,e){var r;const n={edges:{inheritColor:!1},nodes:{fixed:!1,parseColor:!1}};e!=null&&(e.fixed!=null&&(n.nodes.fixed=e.fixed),e.parseColor!=null&&(n.nodes.parseColor=e.parseColor),e.inheritColor!=null&&(n.edges.inheritColor=e.inheritColor));const i=t.edges,s=Zl(i).call(i,o=>{const l={from:o.source,id:o.id,to:o.target};return o.attributes!=null&&(l.attributes=o.attributes),o.label!=null&&(l.label=o.label),o.attributes!=null&&o.attributes.title!=null&&(l.title=o.attributes.title),o.type==="Directed"&&(l.arrows="to"),o.color&&n.edges.inheritColor===!1&&(l.color=o.color),l});return{nodes:Zl(r=t.nodes).call(r,o=>{const l={id:o.id,fixed:n.nodes.fixed&&o.x!=null&&o.y!=null};return o.attributes!=null&&(l.attributes=o.attributes),o.label!=null&&(l.label=o.label),o.size!=null&&(l.size=o.size),o.attributes!=null&&o.attributes.title!=null&&(l.title=o.attributes.title),o.title!=null&&(l.title=o.title),o.x!=null&&(l.x=o.x),o.y!=null&&(l.y=o.y),o.color!=null&&(n.nodes.parseColor===!0?l.color=o.color:l.color={background:o.color,border:o.color,highlight:{background:o.color,border:o.color},hover:{background:o.color,border:o.color}}),l}),edges:s}}const Npe={addDescription:"Click in an empty space to place a new node.",addEdge:"Add Edge",addNode:"Add Node",back:"Back",close:"Close",createEdgeError:"Cannot link edges to a cluster.",del:"Delete selected",deleteClusterError:"Clusters cannot be deleted.",edgeDescription:"Click on a node and drag the edge to another node to connect them.",edit:"Edit",editClusterError:"Clusters cannot be edited.",editEdge:"Edit Edge",editEdgeDescription:"Click on the control points and drag them to a node to connect to it.",editNode:"Edit Node"},Rpe={addDescription:"Klicke auf eine freie Stelle, um einen neuen Knoten zu plazieren.",addEdge:"Kante hinzufgen",addNode:"Knoten hinzufgen",back:"Zurck",close:"Schlieen",createEdgeError:"Es ist nicht mglich, Kanten mit Clustern zu verbinden.",del:"Lsche Auswahl",deleteClusterError:"Cluster knnen nicht gelscht werden.",edgeDescription:"Klicke auf einen Knoten und ziehe die Kante zu einem anderen Knoten, um diese zu verbinden.",edit:"Editieren",editClusterError:"Cluster knnen nicht editiert werden.",editEdge:"Kante editieren",editEdgeDescription:"Klicke auf die Verbindungspunkte und ziehe diese auf einen Knoten, um sie zu verbinden.",editNode:"Knoten editieren"},$pe={addDescription:"Haga clic en un lugar vaco para colocar un nuevo nodo.",addEdge:"Aadir arista",addNode:"Aadir nodo",back:"Atrs",close:"Cerrar",createEdgeError:"No se puede conectar una arista a un grupo.",del:"Eliminar seleccin",deleteClusterError:"No es posible eliminar grupos.",edgeDescription:"Haga clic en un nodo y arrastre la arista hacia otro nodo para conectarlos.",edit:"Editar",editClusterError:"No es posible editar grupos.",editEdge:"Editar arista",editEdgeDescription:"Haga clic en un punto de control y arrastrelo a un nodo para conectarlo.",editNode:"Editar nodo"},jpe={addDescription:"Clicca per aggiungere un nuovo nodo",addEdge:"Aggiungi un vertice",addNode:"Aggiungi un nodo",back:"Indietro",close:"Chiudere",createEdgeError:"Non si possono collegare vertici ad un cluster",del:"Cancella la selezione",deleteClusterError:"I cluster non possono essere cancellati",edgeDescription:"Clicca su un nodo e trascinalo ad un altro nodo per connetterli.",edit:"Modifica",editClusterError:"I clusters non possono essere modificati.",editEdge:"Modifica il vertice",editEdgeDescription:"Clicca sui Punti di controllo e trascinali ad un nodo per connetterli.",editNode:"Modifica il nodo"},kpe={addDescription:"Klik op een leeg gebied om een nieuwe node te maken.",addEdge:"Link toevoegen",addNode:"Node toevoegen",back:"Terug",close:"Sluiten",createEdgeError:"Kan geen link maken naar een cluster.",del:"Selectie verwijderen",deleteClusterError:"Clusters kunnen niet worden verwijderd.",edgeDescription:"Klik op een node en sleep de link naar een andere node om ze te verbinden.",edit:"Wijzigen",editClusterError:"Clusters kunnen niet worden aangepast.",editEdge:"Link wijzigen",editEdgeDescription:"Klik op de verbindingspunten en sleep ze naar een node om daarmee te verbinden.",editNode:"Node wijzigen"},Dpe={addDescription:"Clique em um espao em branco para adicionar um novo n",addEdge:"Adicionar aresta",addNode:"Adicionar n",back:"Voltar",close:"Fechar",createEdgeError:"No foi possvel linkar arestas a um cluster.",del:"Remover selecionado",deleteClusterError:"Clusters no puderam ser removidos.",edgeDescription:"Clique em um n e arraste a aresta at outro n para conect-los",edit:"Editar",editClusterError:"Clusters no puderam ser editados.",editEdge:"Editar aresta",editEdgeDescription:"Clique nos pontos de controle e os arraste para um n para conect-los",editNode:"Editar n"},qpe={addDescription:"   ,    .",addEdge:" ",addNode:" ",back:"",close:"",createEdgeError:"    .",del:" ",deleteClusterError:"    ",edgeDescription:"        ,   .",edit:"",editClusterError:"   .",editEdge:" ",editEdgeDescription:"        ,    .",editNode:" "},Mpe={addDescription:"",addEdge:"",addNode:"",back:"",close:"",createEdgeError:"",del:"",deleteClusterError:"",edgeDescription:"",edit:"",editClusterError:"",editEdge:"",editEdgeDescription:"",editNode:""},Ape={addDescription:"K   ,    .",addEdge:" ",addNode:" ",back:"",close:"",createEdgeError:"  '   .",del:" ",deleteClusterError:"    .",edgeDescription:"        ,   '.",edit:"",editClusterError:"   .",editEdge:" ",editEdgeDescription:"        ,    .",editNode:" "},Fpe={addDescription:"Cliquez dans un endroit vide pour placer un nud.",addEdge:"Ajouter un lien",addNode:"Ajouter un nud",back:"Retour",close:"Fermer",createEdgeError:"Impossible de crer un lien vers un cluster.",del:"Effacer la slection",deleteClusterError:"Les clusters ne peuvent pas tre effacs.",edgeDescription:"Cliquez sur un nud et glissez le lien vers un autre nud pour les connecter.",edit:"diter",editClusterError:"Les clusters ne peuvent pas tre dits.",editEdge:"diter le lien",editEdgeDescription:"Cliquez sur les points de contrle et glissez-les pour connecter un nud.",editNode:"diter le nud"},Lpe={addDescription:"Kluknutm do przdnho prostoru mete pidat nov vrchol.",addEdge:"Pidat hranu",addNode:"Pidat vrchol",back:"Zpt",close:"Zavt",createEdgeError:"Nelze pipojit hranu ke shluku.",del:"Smazat vbr",deleteClusterError:"Nelze mazat shluky.",edgeDescription:"Petaenm z jednoho vrcholu do druhho mete spojit tyto vrcholy novou hranou.",edit:"Upravit",editClusterError:"Nelze upravovat shluky.",editEdge:"Upravit hranu",editEdgeDescription:"Petaenm kontrolnho vrcholu hrany ji mete pipojit k jinmu vrcholu.",editNode:"Upravit vrchol"};var Bpe=Object.freeze({__proto__:null,cn:Mpe,cs:Lpe,de:Rpe,en:Npe,es:$pe,fr:Fpe,it:jpe,nl:kpe,pt:Dpe,ru:qpe,uk:Ape});function zpe(t,e){try{const[n,i]=e.split(/[-_ /]/,2),s=n!=null?n.toLowerCase():null,a=i!=null?i.toUpperCase():null;if(s&&a){const o=s+"-"+a;if(Object.prototype.hasOwnProperty.call(t,o))return o;var r;console.warn(hhe(r="Unknown variant ".concat(a," of language ")).call(r,s,"."))}if(s){const o=s;if(Object.prototype.hasOwnProperty.call(t,o))return o;console.warn("Unknown language ".concat(s))}return console.warn("Unknown locale ".concat(e,", falling back to English.")),"en"}catch(n){return console.error(n),console.warn("Unexpected error while normalizing locale ".concat(e,", falling back to English.")),"en"}}class Upe{constructor(){this.NUM_ITERATIONS=4,this.image=new Image,this.canvas=document.createElement("canvas")}init(){if(this.initialized())return;this.src=this.image.src;const e=this.image.width,r=this.image.height;this.width=e,this.height=r;const n=Math.floor(r/2),i=Math.floor(r/4),s=Math.floor(r/8),a=Math.floor(r/16),o=Math.floor(e/2),l=Math.floor(e/4),u=Math.floor(e/8),c=Math.floor(e/16);this.canvas.width=3*l,this.canvas.height=n,this.coordinates=[[0,0,o,n],[o,0,l,i],[o,i,u,s],[5*u,i,c,a]],this._fillMipMap()}initialized(){return this.coordinates!==void 0}_fillMipMap(){const e=this.canvas.getContext("2d"),r=this.coordinates[0];e.drawImage(this.image,r[0],r[1],r[2],r[3]);for(let n=1;n<this.NUM_ITERATIONS;n++){const i=this.coordinates[n-1],s=this.coordinates[n];e.drawImage(this.canvas,i[0],i[1],i[2],i[3],s[0],s[1],s[2],s[3])}}drawImageAtPosition(e,r,n,i,s,a){if(this.initialized())if(r>2){r*=.5;let o=0;for(;r>2&&o<this.NUM_ITERATIONS;)r*=.5,o+=1;o>=this.NUM_ITERATIONS&&(o=this.NUM_ITERATIONS-1);const l=this.coordinates[o];e.drawImage(this.canvas,l[0],l[1],l[2],l[3],n,i,s,a)}else e.drawImage(this.image,n,i,s,a)}}class Wpe{constructor(e){this.images={},this.imageBroken={},this.callback=e}_tryloadBrokenUrl(e,r,n){if(!(e===void 0||n===void 0)){if(r===void 0){console.warn("No broken url image defined");return}n.image.onerror=()=>{console.error("Could not load brokenImage:",r)},n.image.src=r}}_redrawWithImage(e){this.callback&&this.callback(e)}load(e,r){const n=this.images[e];if(n)return n;const i=new Upe;return this.images[e]=i,i.image.onload=()=>{this._fixImageCoordinates(i.image),i.init(),this._redrawWithImage(i)},i.image.onerror=()=>{console.error("Could not load image:",e),this._tryloadBrokenUrl(e,r,i)},i.image.src=e,i}_fixImageCoordinates(e){e.width===0&&(document.body.appendChild(e),e.width=e.offsetWidth,e.height=e.offsetHeight,document.body.removeChild(e))}}var pz={},mz={},Y_={exports:{}},Q_,vz;function Hpe(){if(vz)return Q_;vz=1;var t=qe();return Q_=t(function(){if(typeof ArrayBuffer=="function"){var e=new ArrayBuffer(8);Object.isExtensible(e)&&Object.defineProperty(e,"a",{value:8})}}),Q_}var X_,gz;function Vpe(){if(gz)return X_;gz=1;var t=qe(),e=nr(),r=Si(),n=Hpe(),i=Object.isExtensible,s=t(function(){});return X_=s||n?function(o){return!e(o)||n&&r(o)==="ArrayBuffer"?!1:i?i(o):!0}:i,X_}var J_,yz;function HG(){if(yz)return J_;yz=1;var t=qe();return J_=!t(function(){return Object.isExtensible(Object.preventExtensions({}))}),J_}var bz;function sm(){if(bz)return Y_.exports;bz=1;var t=ye(),e=Ae(),r=Gd(),n=nr(),i=hr(),s=kn().f,a=Zp(),o=nI(),l=Vpe(),u=Vp(),c=HG(),h=!1,f=u("meta"),p=0,m=function(w){s(w,f,{value:{objectID:"O"+p++,weakData:{}}})},y=function(w,_){if(!n(w))return typeof w=="symbol"?w:(typeof w=="string"?"S":"P")+w;if(!i(w,f)){if(!l(w))return"F";if(!_)return"E";m(w)}return w[f].objectID},b=function(w,_){if(!i(w,f)){if(!l(w))return!0;if(!_)return!1;m(w)}return w[f].weakData},g=function(w){return c&&h&&l(w)&&!i(w,f)&&m(w),w},v=function(){x.enable=function(){},h=!0;var w=a.f,_=e([].splice),E={};E[f]=1,w(E).length&&(a.f=function(O){for(var S=w(O),P=0,C=S.length;P<C;P++)if(S[P]===f){_(S,P,1);break}return S},t({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:o.f}))},x=Y_.exports={enable:v,fastKey:y,getWeakData:b,onFreeze:g};return r[f]=!0,Y_.exports}var Z_,wz;function Kpe(){if(wz)return Z_;wz=1;var t=Lt(),e=ku(),r=t("iterator"),n=Array.prototype;return Z_=function(i){return i!==void 0&&(e.Array===i||n[r]===i)},Z_}var eS,xz;function VG(){if(xz)return eS;xz=1;var t=ju(),e=GT(),r=Eu(),n=ku(),i=Lt(),s=i("iterator");return eS=function(a){if(!r(a))return e(a,s)||e(a,"@@iterator")||n[t(a)]},eS}var tS,_z;function Gpe(){if(_z)return tS;_z=1;var t=rn(),e=us(),r=Ei(),n=Cu(),i=VG(),s=TypeError;return tS=function(a,o){var l=arguments.length<2?i(a):o;if(e(l))return r(t(l,a));throw new s(n(a)+" is not iterable")},tS}var rS,Sz;function bI(){if(Sz)return rS;Sz=1;var t=rn(),e=Ei(),r=GT();return rS=function(n,i,s){var a,o;e(n);try{if(a=r(n,"return"),!a){if(i==="throw")throw s;return s}a=t(a,n)}catch(l){o=!0,a=l}if(i==="throw")throw s;if(o)throw a;return e(a),s},rS}var nS,Ez;function am(){if(Ez)return nS;Ez=1;var t=Gp(),e=rn(),r=Ei(),n=Cu(),i=Kpe(),s=cs(),a=Ft(),o=Gpe(),l=VG(),u=bI(),c=TypeError,h=function(p,m){this.stopped=p,this.result=m},f=h.prototype;return nS=function(p,m,y){var b=y&&y.that,g=!!(y&&y.AS_ENTRIES),v=!!(y&&y.IS_RECORD),x=!!(y&&y.IS_ITERATOR),w=!!(y&&y.INTERRUPTED),_=t(m,b),E,O,S,P,C,N,T,I=function(B){return E&&u(E,"normal"),new h(!0,B)},q=function(B){return g?(r(B),w?_(B[0],B[1],I):_(B[0],B[1])):w?_(B,I):_(B)};if(v)E=p.iterator;else if(x)E=p;else{if(O=l(p),!O)throw new c(n(p)+" is not iterable");if(i(O)){for(S=0,P=s(p);P>S;S++)if(C=q(p[S]),C&&a(f,C))return C;return new h(!1)}E=o(p,O)}for(N=v?p.next:E.next;!(T=e(N,E)).done;){try{C=q(T.value)}catch(B){u(E,"throw",B)}if(typeof C=="object"&&C&&a(f,C))return C}return new h(!1)},nS}var iS,Oz;function wI(){if(Oz)return iS;Oz=1;var t=Ft(),e=TypeError;return iS=function(r,n){if(t(n,r))return r;throw new e("Incorrect invocation")},iS}var sS,Pz;function xI(){if(Pz)return sS;Pz=1;var t=ye(),e=ut(),r=sm(),n=qe(),i=Nu(),s=am(),a=wI(),o=rr(),l=nr(),u=Eu(),c=Io(),h=kn().f,f=fa().forEach,p=It(),m=No(),y=m.set,b=m.getterFor;return sS=function(g,v,x){var w=g.indexOf("Map")!==-1,_=g.indexOf("Weak")!==-1,E=w?"set":"add",O=e[g],S=O&&O.prototype,P={},C;if(!p||!o(O)||!(_||S.forEach&&!n(function(){new O().entries().next()})))C=x.getConstructor(v,g,w,E),r.enable();else{C=v(function(I,q){y(a(I,N),{type:g,collection:new O}),u(q)||s(q,I[E],{that:I,AS_ENTRIES:w})});var N=C.prototype,T=b(g);f(["add","clear","delete","forEach","get","has","set","keys","values","entries"],function(I){var q=I==="add"||I==="set";I in S&&!(_&&I==="clear")&&i(N,I,function(B,re){var Q=T(this).collection;if(!q&&_&&!l(B))return I==="get"?void 0:!1;var L=Q[I](B===0?0:B,re);return q?this:L})}),_||h(N,"size",{configurable:!0,get:function(){return T(this).collection.size}})}return c(C,g,!1,!0),P[g]=C,t({global:!0,forced:!0},P),_||x.setStrong(C,g,w),C},sS}var aS,Cz;function _I(){if(Cz)return aS;Cz=1;var t=Jd();return aS=function(e,r,n){for(var i in r)n&&n.unsafe&&e[i]?e[i]=r[i]:t(e,i,r[i],n);return e},aS}var oS,Tz;function Ype(){if(Tz)return oS;Tz=1;var t=vn(),e=iI(),r=Lt(),n=It(),i=r("species");return oS=function(s){var a=t(s);n&&a&&!a[i]&&e(a,i,{configurable:!0,get:function(){return this}})},oS}var lS,Iz;function KG(){if(Iz)return lS;Iz=1;var t=Xd(),e=iI(),r=_I(),n=Gp(),i=wI(),s=Eu(),a=am(),o=aI(),l=oI(),u=Ype(),c=It(),h=sm().fastKey,f=No(),p=f.set,m=f.getterFor;return lS={getConstructor:function(y,b,g,v){var x=y(function(S,P){i(S,w),p(S,{type:b,index:t(null),first:null,last:null,size:0}),c||(S.size=0),s(P)||a(P,S[v],{that:S,AS_ENTRIES:g})}),w=x.prototype,_=m(b),E=function(S,P,C){var N=_(S),T=O(S,P),I,q;return T?T.value=C:(N.last=T={index:q=h(P,!0),key:P,value:C,previous:I=N.last,next:null,removed:!1},N.first||(N.first=T),I&&(I.next=T),c?N.size++:S.size++,q!=="F"&&(N.index[q]=T)),S},O=function(S,P){var C=_(S),N=h(P),T;if(N!=="F")return C.index[N];for(T=C.first;T;T=T.next)if(T.key===P)return T};return r(w,{clear:function(){for(var P=this,C=_(P),N=C.first;N;)N.removed=!0,N.previous&&(N.previous=N.previous.next=null),N=N.next;C.first=C.last=null,C.index=t(null),c?C.size=0:P.size=0},delete:function(S){var P=this,C=_(P),N=O(P,S);if(N){var T=N.next,I=N.previous;delete C.index[N.index],N.removed=!0,I&&(I.next=T),T&&(T.previous=I),C.first===N&&(C.first=T),C.last===N&&(C.last=I),c?C.size--:P.size--}return!!N},forEach:function(P){for(var C=_(this),N=n(P,arguments.length>1?arguments[1]:void 0),T;T=T?T.next:C.first;)for(N(T.value,T.key,this);T&&T.removed;)T=T.previous},has:function(P){return!!O(this,P)}}),r(w,g?{get:function(P){var C=O(this,P);return C&&C.value},set:function(P,C){return E(this,P===0?0:P,C)}}:{add:function(P){return E(this,P=P===0?0:P,P)}}),c&&e(w,"size",{configurable:!0,get:function(){return _(this).size}}),x},setStrong:function(y,b,g){var v=b+" Iterator",x=m(b),w=m(v);o(y,b,function(_,E){p(this,{type:v,target:_,state:x(_),kind:E,last:null})},function(){for(var _=w(this),E=_.kind,O=_.last;O&&O.removed;)O=O.previous;return!_.target||!(_.last=O=O?O.next:_.state.first)?(_.target=null,l(void 0,!0)):l(E==="keys"?O.key:E==="values"?O.value:[O.key,O.value],!1)},g?"entries":"values",!g,!0),u(b)}},lS}var Nz;function Qpe(){if(Nz)return mz;Nz=1;var t=xI(),e=KG();return t("Map",function(r){return function(){return r(this,arguments.length?arguments[0]:void 0)}},e),mz}var Rz;function Xpe(){return Rz||(Rz=1,Qpe()),pz}var $z={},uS,jz;function GG(){return jz||(jz=1,uS=function(t,e){return e===1?function(r,n){return r[t](n)}:function(r,n,i){return r[t](n,i)}}),uS}var cS,kz;function Jpe(){if(kz)return cS;kz=1;var t=vn(),e=GG(),r=t("Map");return cS={Map:r,set:e("set",2),get:e("get",1),has:e("has",1),remove:e("delete",1),proto:r.prototype},cS}var Dz;function Zpe(){if(Dz)return $z;Dz=1;var t=ye(),e=Ae(),r=us(),n=ls(),i=am(),s=Jpe(),a=Tu(),o=qe(),l=s.Map,u=s.has,c=s.get,h=s.set,f=e([].push),p=a||o(function(){return l.groupBy("ab",function(m){return m}).get("a").length!==1});return t({target:"Map",stat:!0,forced:a||p},{groupBy:function(y,b){n(y),r(b);var g=new l,v=0;return i(y,function(x){var w=b(x,v++);u(g,w)?f(c(g,w),x):h(g,w,[x])}),g}}),$z}var qz={},dS,Mz;function eme(){if(Mz)return dS;Mz=1;var t=Ae(),e=Ru(),r=Dn(),n=ls(),i=t("".charAt),s=t("".charCodeAt),a=t("".slice),o=function(l){return function(u,c){var h=r(n(u)),f=e(c),p=h.length,m,y;return f<0||f>=p?l?"":void 0:(m=s(h,f),m<55296||m>56319||f+1===p||(y=s(h,f+1))<56320||y>57343?l?i(h,f):m:l?a(h,f,f+2):(m-55296<<10)+(y-56320)+65536)}};return dS={codeAt:o(!1),charAt:o(!0)},dS}var Az;function SI(){if(Az)return qz;Az=1;var t=eme().charAt,e=Dn(),r=No(),n=aI(),i=oI(),s="String Iterator",a=r.set,o=r.getterFor(s);return n(String,"String",function(l){a(this,{type:s,string:e(l),index:0})},function(){var u=o(this),c=u.string,h=u.index,f;return h>=c.length?i(void 0,!0):(f=t(c,h),u.index+=f.length,i(f,!1))}),qz}var hS,Fz;function tme(){if(Fz)return hS;Fz=1,Du(),Xpe(),Zpe(),SI();var t=Ve();return hS=t.Map,hS}var fS,Lz;function rme(){if(Lz)return fS;Lz=1;var t=tme();return qu(),fS=t,fS}var pS,Bz;function nme(){return Bz||(Bz=1,pS=rme()),pS}var ime=nme(),EI=Oe(ime);class sme{constructor(){this.clear(),this._defaultIndex=0,this._groupIndex=0,this._defaultGroups=[{border:"#2B7CE9",background:"#97C2FC",highlight:{border:"#2B7CE9",background:"#D2E5FF"},hover:{border:"#2B7CE9",background:"#D2E5FF"}},{border:"#FFA500",background:"#FFFF00",highlight:{border:"#FFA500",background:"#FFFFA3"},hover:{border:"#FFA500",background:"#FFFFA3"}},{border:"#FA0A10",background:"#FB7E81",highlight:{border:"#FA0A10",background:"#FFAFB1"},hover:{border:"#FA0A10",background:"#FFAFB1"}},{border:"#41A906",background:"#7BE141",highlight:{border:"#41A906",background:"#A1EC76"},hover:{border:"#41A906",background:"#A1EC76"}},{border:"#E129F0",background:"#EB7DF4",highlight:{border:"#E129F0",background:"#F0B3F5"},hover:{border:"#E129F0",background:"#F0B3F5"}},{border:"#7C29F0",background:"#AD85E4",highlight:{border:"#7C29F0",background:"#D3BDF0"},hover:{border:"#7C29F0",background:"#D3BDF0"}},{border:"#C37F00",background:"#FFA807",highlight:{border:"#C37F00",background:"#FFCA66"},hover:{border:"#C37F00",background:"#FFCA66"}},{border:"#4220FB",background:"#6E6EFD",highlight:{border:"#4220FB",background:"#9B9BFD"},hover:{border:"#4220FB",background:"#9B9BFD"}},{border:"#FD5A77",background:"#FFC0CB",highlight:{border:"#FD5A77",background:"#FFD1D9"},hover:{border:"#FD5A77",background:"#FFD1D9"}},{border:"#4AD63A",background:"#C2FABC",highlight:{border:"#4AD63A",background:"#E6FFE3"},hover:{border:"#4AD63A",background:"#E6FFE3"}},{border:"#990000",background:"#EE0000",highlight:{border:"#BB0000",background:"#FF3333"},hover:{border:"#BB0000",background:"#FF3333"}},{border:"#FF6000",background:"#FF6000",highlight:{border:"#FF6000",background:"#FF6000"},hover:{border:"#FF6000",background:"#FF6000"}},{border:"#97C2FC",background:"#2B7CE9",highlight:{border:"#D2E5FF",background:"#2B7CE9"},hover:{border:"#D2E5FF",background:"#2B7CE9"}},{border:"#399605",background:"#255C03",highlight:{border:"#399605",background:"#255C03"},hover:{border:"#399605",background:"#255C03"}},{border:"#B70054",background:"#FF007E",highlight:{border:"#B70054",background:"#FF007E"},hover:{border:"#B70054",background:"#FF007E"}},{border:"#AD85E4",background:"#7C29F0",highlight:{border:"#D3BDF0",background:"#7C29F0"},hover:{border:"#D3BDF0",background:"#7C29F0"}},{border:"#4557FA",background:"#000EA1",highlight:{border:"#6E6EFD",background:"#000EA1"},hover:{border:"#6E6EFD",background:"#000EA1"}},{border:"#FFC0CB",background:"#FD5A77",highlight:{border:"#FFD1D9",background:"#FD5A77"},hover:{border:"#FFD1D9",background:"#FD5A77"}},{border:"#C2FABC",background:"#74D66A",highlight:{border:"#E6FFE3",background:"#74D66A"},hover:{border:"#E6FFE3",background:"#74D66A"}},{border:"#EE0000",background:"#990000",highlight:{border:"#FF3333",background:"#BB0000"},hover:{border:"#FF3333",background:"#BB0000"}}],this.options={},this.defaultOptions={useDefaultGroups:!0},Dt(this.options,this.defaultOptions)}setOptions(e){const r=["useDefaultGroups"];if(e!==void 0){for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&Ue(r).call(r,n)===-1){const i=e[n];this.add(n,i)}}}clear(){this._groups=new EI,this._groupNames=[]}get(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,n=this._groups.get(e);if(n===void 0&&r)if(this.options.useDefaultGroups===!1&&this._groupNames.length>0){const i=this._groupIndex%this._groupNames.length;++this._groupIndex,n={},n.color=this._groups.get(this._groupNames[i]),this._groups.set(e,n)}else{const i=this._defaultIndex%this._defaultGroups.length;this._defaultIndex++,n={},n.color=this._defaultGroups[i],this._groups.set(e,n)}return n}add(e,r){return this._groups.has(e)||this._groupNames.push(e),this._groups.set(e,r),r}}var zz={},Uz;function ame(){if(Uz)return zz;Uz=1;var t=ye();return t({target:"Number",stat:!0},{isNaN:function(r){return r!==r}}),zz}var mS,Wz;function ome(){if(Wz)return mS;Wz=1,ame();var t=Ve();return mS=t.Number.isNaN,mS}var vS,Hz;function lme(){if(Hz)return vS;Hz=1;var t=ome();return vS=t,vS}var gS,Vz;function ume(){return Vz||(Vz=1,gS=lme()),gS}var cme=ume(),rC=Oe(cme),Kz={},yS,Gz;function dme(){if(Gz)return yS;Gz=1;var t=ut(),e=t.isFinite;return yS=Number.isFinite||function(n){return typeof n=="number"&&e(n)},yS}var Yz;function hme(){if(Yz)return Kz;Yz=1;var t=ye(),e=dme();return t({target:"Number",stat:!0},{isFinite:e}),Kz}var bS,Qz;function fme(){if(Qz)return bS;Qz=1,hme();var t=Ve();return bS=t.Number.isFinite,bS}var wS,Xz;function pme(){if(Xz)return wS;Xz=1;var t=fme();return wS=t,wS}var xS,Jz;function mme(){return Jz||(Jz=1,xS=pme()),xS}var vme=mme(),Na=Oe(vme),Zz={},e6;function gme(){if(e6)return Zz;e6=1;var t=ye(),e=fa().some,r=Mu(),n=r("some");return t({target:"Array",proto:!0,forced:!n},{some:function(s){return e(this,s,arguments.length>1?arguments[1]:void 0)}}),Zz}var _S,t6;function yme(){if(t6)return _S;t6=1,gme();var t=fr();return _S=t("Array","some"),_S}var SS,r6;function bme(){if(r6)return SS;r6=1;var t=Ft(),e=yme(),r=Array.prototype;return SS=function(n){var i=n.some;return n===r||t(r,n)&&i===r.some?e:i},SS}var ES,n6;function wme(){if(n6)return ES;n6=1;var t=bme();return ES=t,ES}var OS,i6;function xme(){return i6||(i6=1,OS=wme()),OS}var _me=xme(),Sme=Oe(_me),PS={exports:{}},s6={},a6;function Eme(){if(a6)return s6;a6=1;var t=ye(),e=It(),r=kn().f;return t({target:"Object",stat:!0,forced:Object.defineProperty!==r,sham:!e},{defineProperty:r}),s6}var o6;function Ome(){if(o6)return PS.exports;o6=1,Eme();var t=Ve(),e=t.Object,r=PS.exports=function(i,s,a){return e.defineProperty(i,s,a)};return e.defineProperty.sham&&(r.sham=!0),PS.exports}var CS,l6;function YG(){if(l6)return CS;l6=1;var t=Ome();return CS=t,CS}var TS,u6;function Pme(){if(u6)return TS;u6=1;var t=YG();return TS=t,TS}var IS,c6;function Cme(){if(c6)return IS;c6=1;var t=Pme();return IS=t,IS}var NS,d6;function Tme(){return d6||(d6=1,NS=Cme()),NS}var Ime=Tme(),Nme=Oe(Ime),h6={},f6;function Rme(){if(f6)return h6;f6=1;var t=Lt(),e=kn().f,r=t("metadata"),n=Function.prototype;return n[r]===void 0&&e(n,r,{value:null}),h6}var p6={},m6;function $me(){return m6||(m6=1,X9()),p6}var v6={},g6;function jme(){return g6||(g6=1,J9()),v6}var y6={},b6;function kme(){if(b6)return y6;b6=1;var t=vt();return t("metadata"),y6}var RS,w6;function Dme(){if(w6)return RS;w6=1;var t=nG();return Rme(),$me(),jme(),kme(),RS=t,RS}var x6={},$S,_6;function QG(){if(_6)return $S;_6=1;var t=vn(),e=Ae(),r=t("Symbol"),n=r.keyFor,i=e(r.prototype.valueOf);return $S=r.isRegisteredSymbol||function(a){try{return n(i(a))!==void 0}catch{return!1}},$S}var S6;function qme(){if(S6)return x6;S6=1;var t=ye(),e=QG();return t({target:"Symbol",stat:!0},{isRegisteredSymbol:e}),x6}var E6={},jS,O6;function XG(){if(O6)return jS;O6=1;for(var t=Iu(),e=vn(),r=Ae(),n=Kd(),i=Lt(),s=e("Symbol"),a=s.isWellKnownSymbol,o=e("Object","getOwnPropertyNames"),l=r(s.prototype.valueOf),u=t("wks"),c=0,h=o(s),f=h.length;c<f;c++)try{var p=h[c];n(s[p])&&i(p)}catch{}return jS=function(y){if(a&&a(y))return!0;try{for(var b=l(y),g=0,v=o(u),x=v.length;g<x;g++)if(u[v[g]]==b)return!0}catch{}return!1},jS}var P6;function Mme(){if(P6)return E6;P6=1;var t=ye(),e=XG();return t({target:"Symbol",stat:!0,forced:!0},{isWellKnownSymbol:e}),E6}var C6={},T6;function Ame(){if(T6)return C6;T6=1;var t=vt();return t("customMatcher"),C6}var I6={},N6;function Fme(){if(N6)return I6;N6=1;var t=vt();return t("observable"),I6}var R6={},$6;function Lme(){if($6)return R6;$6=1;var t=ye(),e=QG();return t({target:"Symbol",stat:!0,name:"isRegisteredSymbol"},{isRegistered:e}),R6}var j6={},k6;function Bme(){if(k6)return j6;k6=1;var t=ye(),e=XG();return t({target:"Symbol",stat:!0,name:"isWellKnownSymbol",forced:!0},{isWellKnown:e}),j6}var D6={},q6;function zme(){if(q6)return D6;q6=1;var t=vt();return t("matcher"),D6}var M6={},A6;function Ume(){if(A6)return M6;A6=1;var t=vt();return t("metadataKey"),M6}var F6={},L6;function Wme(){if(L6)return F6;L6=1;var t=vt();return t("patternMatch"),F6}var B6={},z6;function Hme(){if(z6)return B6;z6=1;var t=vt();return t("replaceAll"),B6}var kS,U6;function Vme(){if(U6)return kS;U6=1;var t=Dme();return qme(),Mme(),Ame(),Fme(),Lme(),Bme(),zme(),Ume(),Wme(),Hme(),kS=t,kS}var DS,W6;function Kme(){return W6||(W6=1,DS=Vme()),DS}var Gme=Kme(),Ah=Oe(Gme),qS,H6;function Yme(){if(H6)return qS;H6=1,Du(),SI(),Z9();var t=em();return qS=t.f("iterator"),qS}var MS,V6;function Qme(){if(V6)return MS;V6=1;var t=Yme();return qu(),MS=t,MS}var AS,K6;function Xme(){if(K6)return AS;K6=1;var t=Qme();return AS=t,AS}var FS,G6;function Jme(){if(G6)return FS;G6=1;var t=Xme();return FS=t,FS}var LS,Y6;function Zme(){return Y6||(Y6=1,LS=Jme()),LS}var eve=Zme(),tve=Oe(eve);function od(t){"@babel/helpers - typeof";return od=typeof Ah=="function"&&typeof tve=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Ah=="function"&&e.constructor===Ah&&e!==Ah.prototype?"symbol":typeof e},od(t)}var BS,Q6;function rve(){if(Q6)return BS;Q6=1,eG();var t=em();return BS=t.f("toPrimitive"),BS}var zS,X6;function nve(){if(X6)return zS;X6=1;var t=rve();return zS=t,zS}var US,J6;function ive(){if(J6)return US;J6=1;var t=nve();return US=t,US}var WS,Z6;function sve(){if(Z6)return WS;Z6=1;var t=ive();return WS=t,WS}var HS,eU;function ave(){return eU||(eU=1,HS=sve()),HS}var ove=ave(),lve=Oe(ove);function uve(t,e){if(od(t)!="object"||!t)return t;var r=t[lve];if(r!==void 0){var n=r.call(t,e);if(od(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function cve(t){var e=uve(t,"string");return od(e)=="symbol"?e:e+""}function qi(t,e,r){return(e=cve(e))in t?Nme(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var tU={},VS,rU;function dve(){if(rU)return VS;rU=1;var t=ut(),e=qe(),r=Ae(),n=Dn(),i=sG().trim,s=lI(),a=r("".charAt),o=t.parseFloat,l=t.Symbol,u=l&&l.iterator,c=1/o(s+"-0")!==-1/0||u&&!e(function(){o(Object(u))});return VS=c?function(f){var p=i(n(f)),m=o(p);return m===0&&a(p,0)==="-"?-0:m}:o,VS}var nU;function hve(){if(nU)return tU;nU=1;var t=ye(),e=dve();return t({global:!0,forced:parseFloat!==e},{parseFloat:e}),tU}var KS,iU;function fve(){if(iU)return KS;iU=1,hve();var t=Ve();return KS=t.parseFloat,KS}var GS,sU;function pve(){if(sU)return GS;sU=1;var t=fve();return GS=t,GS}var YS,aU;function mve(){return aU||(aU=1,YS=pve()),YS}var vve=mve(),JG=Oe(vve),oU={},lU;function gve(){if(lU)return oU;lU=1;var t=ye(),e=qe(),r=nI().f,n=e(function(){return!Object.getOwnPropertyNames(1)});return t({target:"Object",stat:!0,forced:n},{getOwnPropertyNames:r}),oU}var QS,uU;function yve(){if(uU)return QS;uU=1,gve();var t=Ve(),e=t.Object;return QS=function(n){return e.getOwnPropertyNames(n)},QS}var XS,cU;function bve(){if(cU)return XS;cU=1;var t=yve();return XS=t,XS}var JS,dU;function wve(){return dU||(dU=1,JS=bve()),JS}var xve=wve(),_ve=Oe(xve),ZS,hU;function Sve(){if(hU)return ZS;hU=1,Q9();var t=Ve();return ZS=t.Object.getOwnPropertySymbols,ZS}var eE,fU;function Eve(){if(fU)return eE;fU=1;var t=Sve();return eE=t,eE}var tE,pU;function Ove(){return pU||(pU=1,tE=Eve()),tE}var Pve=Ove(),na=Oe(Pve),rE={exports:{}},mU={},vU;function Cve(){if(vU)return mU;vU=1;var t=ye(),e=qe(),r=ni(),n=Kp().f,i=It(),s=!i||e(function(){n(1)});return t({target:"Object",stat:!0,forced:s,sham:!i},{getOwnPropertyDescriptor:function(o,l){return n(r(o),l)}}),mU}var gU;function Tve(){if(gU)return rE.exports;gU=1,Cve();var t=Ve(),e=t.Object,r=rE.exports=function(i,s){return e.getOwnPropertyDescriptor(i,s)};return e.getOwnPropertyDescriptor.sham&&(r.sham=!0),rE.exports}var nE,yU;function Ive(){if(yU)return nE;yU=1;var t=Tve();return nE=t,nE}var iE,bU;function Nve(){return bU||(bU=1,iE=Ive()),iE}var Rve=Nve(),pa=Oe(Rve),wU={},xU;function $ve(){if(xU)return wU;xU=1;var t=ye(),e=It(),r=nde(),n=ni(),i=Kp(),s=Xp();return t({target:"Object",stat:!0,sham:!e},{getOwnPropertyDescriptors:function(o){for(var l=n(o),u=i.f,c=r(l),h={},f=0,p,m;c.length>f;)m=u(l,p=c[f++]),m!==void 0&&s(h,p,m);return h}}),wU}var sE,_U;function jve(){if(_U)return sE;_U=1,$ve();var t=Ve();return sE=t.Object.getOwnPropertyDescriptors,sE}var aE,SU;function kve(){if(SU)return aE;SU=1;var t=jve();return aE=t,aE}var oE,EU;function Dve(){return EU||(EU=1,oE=kve()),oE}var qve=Dve(),ia=Oe(qve),lE={exports:{}},OU={},PU;function Mve(){if(PU)return OU;PU=1;var t=ye(),e=It(),r=rI().f;return t({target:"Object",stat:!0,forced:Object.defineProperties!==r,sham:!e},{defineProperties:r}),OU}var CU;function Ave(){if(CU)return lE.exports;CU=1,Mve();var t=Ve(),e=t.Object,r=lE.exports=function(i,s){return e.defineProperties(i,s)};return e.defineProperties.sham&&(r.sham=!0),lE.exports}var uE,TU;function Fve(){if(TU)return uE;TU=1;var t=Ave();return uE=t,uE}var cE,IU;function Lve(){return IU||(IU=1,cE=Fve()),cE}var Bve=Lve(),om=Oe(Bve),dE,NU;function zve(){return NU||(NU=1,dE=YG()),dE}var Uve=zve(),lm=Oe(Uve);function OI(t,e){const r=["node","edge","label"];let n=!0;const i=ys(e,"chosen");if(typeof i=="boolean")n=i;else if(typeof i=="object"){if(Ue(r).call(r,t)===-1)throw new Error("choosify: subOption '"+t+"' should be one of '"+r.join("', '")+"'");const s=ys(e,["chosen",t]);(typeof s=="boolean"||typeof s=="function")&&(n=s)}return n}function nC(t,e,r){if(t.width<=0||t.height<=0)return!1;if(r!==void 0){const s={x:e.x-r.x,y:e.y-r.y};if(r.angle!==0){const a=-r.angle;e={x:Math.cos(a)*s.x-Math.sin(a)*s.y,y:Math.sin(a)*s.x+Math.cos(a)*s.y}}else e=s}const n=t.x+t.width,i=t.y+t.width;return t.left<e.x&&n>e.x&&t.top<e.y&&i>e.y}function Zf(t){return typeof t=="string"&&t!==""}function ZG(t,e,r,n){let i=n.x,s=n.y;if(typeof n.distanceToBorder=="function"){const a=n.distanceToBorder(t,e),o=Math.sin(e)*a,l=Math.cos(e)*a;l===a?(i+=a,s=n.y):o===a?(i=n.x,s-=a):(i+=l,s-=o)}else n.shape.width>n.shape.height?(i=n.x+n.shape.width*.5,s=n.y-r):(i=n.x+r,s=n.y-n.shape.height*.5);return{x:i,y:s}}var hE,RU;function Wve(){if(RU)return hE;RU=1,Du();var t=fr();return hE=t("Array","values"),hE}var fE,$U;function Hve(){if($U)return fE;$U=1;var t=Wve();return fE=t,fE}var pE,jU;function Vve(){if(jU)return pE;jU=1,qu();var t=ju(),e=hr(),r=Ft(),n=Hve(),i=Array.prototype,s={DOMTokenList:!0,NodeList:!0};return pE=function(a){var o=a.values;return a===i||r(i,a)&&o===i.values||e(s,t(a))?n:o},pE}var mE,kU;function Kve(){return kU||(kU=1,mE=Vve()),mE}var Gve=Kve(),eY=Oe(Gve);class Yve{constructor(e){this.measureText=e,this.current=0,this.width=0,this.height=0,this.lines=[]}_add(e,r){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"normal";this.lines[e]===void 0&&(this.lines[e]={width:0,height:0,blocks:[]});let i=r;(r===void 0||r==="")&&(i=" ");const s=this.measureText(i,n),a=Dt({},eY(s));a.text=r,a.width=s.width,a.mod=n,(r===void 0||r==="")&&(a.width=0),this.lines[e].blocks.push(a),this.lines[e].width+=a.width}curWidth(){const e=this.lines[this.current];return e===void 0?0:e.width}append(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"normal";this._add(this.current,e,r)}newLine(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"normal";this._add(this.current,e,r),this.current++}determineLineHeights(){for(let e=0;e<this.lines.length;e++){const r=this.lines[e];let n=0;if(r.blocks!==void 0)for(let i=0;i<r.blocks.length;i++){const s=r.blocks[i];n<s.height&&(n=s.height)}r.height=n}}determineLabelSize(){let e=0,r=0;for(let n=0;n<this.lines.length;n++){const i=this.lines[n];i.width>e&&(e=i.width),r+=i.height}this.width=e,this.height=r}removeEmptyBlocks(){const e=[];for(let r=0;r<this.lines.length;r++){const n=this.lines[r];if(n.blocks.length===0||r===this.lines.length-1&&n.width===0)continue;const i={};Dt(i,n),i.blocks=[];let s;const a=[];for(let o=0;o<n.blocks.length;o++){const l=n.blocks[o];l.width!==0?a.push(l):s===void 0&&(s=l)}a.length===0&&s!==void 0&&a.push(s),i.blocks=a,e.push(i)}return e}finalize(){this.determineLineHeights(),this.determineLabelSize();const e=this.removeEmptyBlocks();return{width:this.width,height:this.height,lines:e}}}const Qve={"<b>":/<b>/,"<i>":/<i>/,"<code>":/<code>/,"</b>":/<\/b>/,"</i>":/<\/i>/,"</code>":/<\/code>/,"*":/\*/,_:/_/,"`":/`/,afterBold:/[^*]/,afterItal:/[^_]/,afterMono:/[^`]/};class DU{constructor(e){this.text=e,this.bold=!1,this.ital=!1,this.mono=!1,this.spacing=!1,this.position=0,this.buffer="",this.modStack=[],this.blocks=[]}mod(){return this.modStack.length===0?"normal":this.modStack[0]}modName(){if(this.modStack.length===0)return"normal";if(this.modStack[0]==="mono")return"mono";if(this.bold&&this.ital)return"boldital";if(this.bold)return"bold";if(this.ital)return"ital"}emitBlock(){this.spacing&&(this.add(" "),this.spacing=!1),this.buffer.length>0&&(this.blocks.push({text:this.buffer,mod:this.modName()}),this.buffer="")}add(e){e===" "&&(this.spacing=!0),this.spacing&&(this.buffer+=" ",this.spacing=!1),e!=" "&&(this.buffer+=e)}parseWS(e){return/[ \t]/.test(e)?(this.mono?this.add(e):this.spacing=!0,!0):!1}setTag(e){this.emitBlock(),this[e]=!0,this.modStack.unshift(e)}unsetTag(e){this.emitBlock(),this[e]=!1,this.modStack.shift()}parseStartTag(e,r){return!this.mono&&!this[e]&&this.match(r)?(this.setTag(e),!0):!1}match(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;const[n,i]=this.prepareRegExp(e),s=n.test(this.text.substr(this.position,i));return s&&r&&(this.position+=i-1),s}parseEndTag(e,r,n){let i=this.mod()===e;return e==="mono"?i=i&&this.mono:i=i&&!this.mono,i&&this.match(r)?(n!==void 0?(this.position===this.text.length-1||this.match(n,!1))&&this.unsetTag(e):this.unsetTag(e),!0):!1}replace(e,r){return this.match(e)?(this.add(r),this.position+=length-1,!0):!1}prepareRegExp(e){let r,n;if(e instanceof RegExp)n=e,r=1;else{const i=Qve[e];i!==void 0?n=i:n=new RegExp(e),r=e.length}return[n,r]}}class Xve{constructor(e,r,n,i){this.ctx=e,this.parent=r,this.selected=n,this.hover=i;const s=(a,o)=>{if(a===void 0)return 0;const l=this.parent.getFormattingValues(e,n,i,o);let u=0;return a!==""&&(u=this.ctx.measureText(a).width),{width:u,values:l}};this.lines=new Yve(s)}process(e){if(!Zf(e))return this.lines.finalize();const r=this.parent.fontOptions;e=e.replace(/\r\n/g,`
`),e=e.replace(/\r/g,`
`);const n=String(e).split(`
`),i=n.length;if(r.multi)for(let s=0;s<i;s++){const a=this.splitBlocks(n[s],r.multi);if(a!==void 0){if(a.length===0){this.lines.newLine("");continue}if(r.maxWdt>0)for(let o=0;o<a.length;o++){const l=a[o].mod,u=a[o].text;this.splitStringIntoLines(u,l,!0)}else for(let o=0;o<a.length;o++){const l=a[o].mod,u=a[o].text;this.lines.append(u,l)}this.lines.newLine()}}else if(r.maxWdt>0)for(let s=0;s<i;s++)this.splitStringIntoLines(n[s]);else for(let s=0;s<i;s++)this.lines.newLine(n[s]);return this.lines.finalize()}decodeMarkupSystem(e){let r="none";return e==="markdown"||e==="md"?r="markdown":(e===!0||e==="html")&&(r="html"),r}splitHtmlBlocks(e){const r=new DU(e),n=i=>/&/.test(i)?(r.replace(r.text,"&lt;","<")||r.replace(r.text,"&amp;","&")||r.add("&"),!0):!1;for(;r.position<r.text.length;){const i=r.text.charAt(r.position);r.parseWS(i)||/</.test(i)&&(r.parseStartTag("bold","<b>")||r.parseStartTag("ital","<i>")||r.parseStartTag("mono","<code>")||r.parseEndTag("bold","</b>")||r.parseEndTag("ital","</i>")||r.parseEndTag("mono","</code>"))||n(i)||r.add(i),r.position++}return r.emitBlock(),r.blocks}splitMarkdownBlocks(e){const r=new DU(e);let n=!0;const i=s=>/\\/.test(s)?(r.position<this.text.length+1&&(r.position++,s=this.text.charAt(r.position),/ \t/.test(s)?r.spacing=!0:(r.add(s),n=!1)),!0):!1;for(;r.position<r.text.length;){const s=r.text.charAt(r.position);r.parseWS(s)||i(s)||(n||r.spacing)&&(r.parseStartTag("bold","*")||r.parseStartTag("ital","_")||r.parseStartTag("mono","`"))||r.parseEndTag("bold","*","afterBold")||r.parseEndTag("ital","_","afterItal")||r.parseEndTag("mono","`","afterMono")||(r.add(s),n=!1),r.position++}return r.emitBlock(),r.blocks}splitBlocks(e,r){const n=this.decodeMarkupSystem(r);if(n==="none")return[{text:e,mod:"normal"}];if(n==="markdown")return this.splitMarkdownBlocks(e);if(n==="html")return this.splitHtmlBlocks(e)}overMaxWidth(e){const r=this.ctx.measureText(e).width;return this.lines.curWidth()+r>this.parent.fontOptions.maxWdt}getLongestFit(e){let r="",n=0;for(;n<e.length;){const s=r+(r===""?"":" ")+e[n];if(this.overMaxWidth(s))break;r=s,n++}return n}getLongestFitWord(e){let r=0;for(;r<e.length&&!this.overMaxWidth(pi(e).call(e,0,r));)r++;return r}splitStringIntoLines(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"normal",n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;this.parent.getFormattingValues(this.ctx,this.selected,this.hover,r),e=e.replace(/^( +)/g,"$1\r"),e=e.replace(/([^\r][^ ]*)( +)/g,"$1\r$2\r");let i=e.split("\r");for(;i.length>0;){let s=this.getLongestFit(i);if(s===0){const a=i[0],o=this.getLongestFitWord(a);this.lines.newLine(pi(a).call(a,0,o),r),i[0]=pi(a).call(a,o)}else{let a=s;i[s-1]===" "?s--:i[a]===" "&&a++;const o=pi(i).call(i,0,s).join("");s==i.length&&n?this.lines.append(o,r):this.lines.newLine(o,r),i=pi(i).call(i,a)}}}}const tc=["bold","ital","boldital","mono"];class yl{constructor(e,r){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;this.body=e,this.pointToSelf=!1,this.baseSize=void 0,this.fontOptions={},this.setOptions(r),this.size={top:0,left:0,width:0,height:0,yLine:0},this.isEdgeLabel=n}setOptions(e){if(this.elementOptions=e,this.initFontOptions(e.font),Zf(e.label)?this.labelDirty=!0:e.label=void 0,e.font!==void 0&&e.font!==null){if(typeof e.font=="string")this.baseSize=this.fontOptions.size;else if(typeof e.font=="object"){const r=e.font.size;r!==void 0&&(this.baseSize=r)}}}initFontOptions(e){if(Re(tc,r=>{this.fontOptions[r]={}}),yl.parseFontString(this.fontOptions,e)){this.fontOptions.vadjust=0;return}Re(e,(r,n)=>{r!=null&&typeof r!="object"&&(this.fontOptions[n]=r)})}static parseFontString(e,r){if(!r||typeof r!="string")return!1;const n=r.split(" ");return e.size=+n[0].replace("px",""),e.face=n[1],e.color=n[2],!0}constrain(e){const r={constrainWidth:!1,maxWdt:-1,minWdt:-1,constrainHeight:!1,minHgt:-1,valign:"middle"},n=ys(e,"widthConstraint");if(typeof n=="number")r.maxWdt=Number(n),r.minWdt=Number(n);else if(typeof n=="object"){const s=ys(e,["widthConstraint","maximum"]);typeof s=="number"&&(r.maxWdt=Number(s));const a=ys(e,["widthConstraint","minimum"]);typeof a=="number"&&(r.minWdt=Number(a))}const i=ys(e,"heightConstraint");if(typeof i=="number")r.minHgt=Number(i);else if(typeof i=="object"){const s=ys(e,["heightConstraint","minimum"]);typeof s=="number"&&(r.minHgt=Number(s));const a=ys(e,["heightConstraint","valign"]);typeof a=="string"&&(a==="top"||a==="bottom")&&(r.valign=a)}return r}update(e,r){this.setOptions(e,!0),this.propagateFonts(r),et(this.fontOptions,this.constrain(r)),this.fontOptions.chooser=OI("label",r)}adjustSizes(e){const r=e?e.right+e.left:0;this.fontOptions.constrainWidth&&(this.fontOptions.maxWdt-=r,this.fontOptions.minWdt-=r);const n=e?e.top+e.bottom:0;this.fontOptions.constrainHeight&&(this.fontOptions.minHgt-=n)}addFontOptionsToPile(e,r){for(let n=0;n<r.length;++n)this.addFontToPile(e,r[n])}addFontToPile(e,r){if(r===void 0||r.font===void 0||r.font===null)return;const n=r.font;e.push(n)}getBasicOptions(e){const r={};for(let n=0;n<e.length;++n){let i=e[n];const s={};yl.parseFontString(s,i)&&(i=s),Re(i,(a,o)=>{a!==void 0&&(Object.prototype.hasOwnProperty.call(r,o)||(Ue(tc).call(tc,o)!==-1?r[o]={}:r[o]=a))})}return r}getFontOption(e,r,n){let i;for(let s=0;s<e.length;++s){const a=e[s];if(Object.prototype.hasOwnProperty.call(a,r)){if(i=a[r],i==null)continue;const o={};if(yl.parseFontString(o,i)&&(i=o),Object.prototype.hasOwnProperty.call(i,n))return i[n]}}if(Object.prototype.hasOwnProperty.call(this.fontOptions,n))return this.fontOptions[n];throw new Error("Did not find value for multi-font for property: '"+n+"'")}getFontOptions(e,r){const n={},i=["color","size","face","mod","vadjust"];for(let s=0;s<i.length;++s){const a=i[s];n[a]=this.getFontOption(e,r,a)}return n}propagateFonts(e){const r=[];this.addFontOptionsToPile(r,e),this.fontOptions=this.getBasicOptions(r);for(let n=0;n<tc.length;++n){const i=tc[n],s=this.fontOptions[i],a=this.getFontOptions(r,i);Re(a,(o,l)=>{s[l]=o}),s.size=Number(s.size),s.vadjust=Number(s.vadjust)}}draw(e,r,n,i,s){let a=arguments.length>5&&arguments[5]!==void 0?arguments[5]:"middle";if(this.elementOptions.label===void 0)return;let o=this.fontOptions.size*this.body.view.scale;this.elementOptions.label&&o<this.elementOptions.scaling.label.drawThreshold-1||(o>=this.elementOptions.scaling.label.maxVisible&&(o=Number(this.elementOptions.scaling.label.maxVisible)/this.body.view.scale),this.calculateLabelSize(e,i,s,r,n,a),this._drawBackground(e),this._drawText(e,r,this.size.yLine,a,o))}_drawBackground(e){if(this.fontOptions.background!==void 0&&this.fontOptions.background!=="none"){e.fillStyle=this.fontOptions.background;const r=this.getSize();e.fillRect(r.left,r.top,r.width,r.height)}}_drawText(e,r,n){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"middle",s=arguments.length>4?arguments[4]:void 0;[r,n]=this._setAlignment(e,r,n,i),e.textAlign="left",r=r-this.size.width/2,this.fontOptions.valign&&this.size.height>this.size.labelHeight&&(this.fontOptions.valign==="top"&&(n-=(this.size.height-this.size.labelHeight)/2),this.fontOptions.valign==="bottom"&&(n+=(this.size.height-this.size.labelHeight)/2));for(let a=0;a<this.lineCount;a++){const o=this.lines[a];if(o&&o.blocks){let l=0;this.isEdgeLabel||this.fontOptions.align==="center"?l+=(this.size.width-o.width)/2:this.fontOptions.align==="right"&&(l+=this.size.width-o.width);for(let u=0;u<o.blocks.length;u++){const c=o.blocks[u];e.font=c.font;const[h,f]=this._getColor(c.color,s,c.strokeColor);c.strokeWidth>0&&(e.lineWidth=c.strokeWidth,e.strokeStyle=f,e.lineJoin="round"),e.fillStyle=h,c.strokeWidth>0&&e.strokeText(c.text,r+l,n+c.vadjust),e.fillText(c.text,r+l,n+c.vadjust),l+=c.width}n+=o.height}}}_setAlignment(e,r,n,i){if(this.isEdgeLabel&&this.fontOptions.align!=="horizontal"&&this.pointToSelf===!1){r=0,n=0;const s=2;this.fontOptions.align==="top"?(e.textBaseline="alphabetic",n-=2*s):this.fontOptions.align==="bottom"?(e.textBaseline="hanging",n+=2*s):e.textBaseline="middle"}else e.textBaseline=i;return[r,n]}_getColor(e,r,n){let i=e||"#000000",s=n||"#ffffff";if(r<=this.elementOptions.scaling.label.drawThreshold){const a=Math.max(0,Math.min(1,1-(this.elementOptions.scaling.label.drawThreshold-r)));i=On(i,a),s=On(s,a)}return[i,s]}getTextSize(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;return this._processLabel(e,r,n),{width:this.size.width,height:this.size.height,lineCount:this.lineCount}}getSize(){let r=this.size.left,n=this.size.top-.5*2;if(this.isEdgeLabel){const s=-this.size.width*.5;switch(this.fontOptions.align){case"middle":r=s,n=-this.size.height*.5;break;case"top":r=s,n=-(this.size.height+2);break;case"bottom":r=s,n=2;break}}return{left:r,top:n,width:this.size.width,height:this.size.height}}calculateLabelSize(e,r,n){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0,a=arguments.length>5&&arguments[5]!==void 0?arguments[5]:"middle";this._processLabel(e,r,n),this.size.left=i-this.size.width*.5,this.size.top=s-this.size.height*.5,this.size.yLine=s+(1-this.lineCount)*.5*this.fontOptions.size,a==="hanging"&&(this.size.top+=.5*this.fontOptions.size,this.size.top+=4,this.size.yLine+=4)}getFormattingValues(e,r,n,i){const s=function(l,u,c){return u==="normal"?c==="mod"?"":l[c]:l[u][c]!==void 0?l[u][c]:l[c]},a={color:s(this.fontOptions,i,"color"),size:s(this.fontOptions,i,"size"),face:s(this.fontOptions,i,"face"),mod:s(this.fontOptions,i,"mod"),vadjust:s(this.fontOptions,i,"vadjust"),strokeWidth:this.fontOptions.strokeWidth,strokeColor:this.fontOptions.strokeColor};(r||n)&&(i==="normal"&&this.fontOptions.chooser===!0&&this.elementOptions.labelHighlightBold?a.mod="bold":typeof this.fontOptions.chooser=="function"&&this.fontOptions.chooser(a,this.elementOptions.id,r,n));let o="";return a.mod!==void 0&&a.mod!==""&&(o+=a.mod+" "),o+=a.size+"px "+a.face,e.font=o.replace(/"/g,""),a.font=e.font,a.height=a.size,a}differentState(e,r){return e!==this.selectedState||r!==this.hoverState}_processLabelText(e,r,n,i){return new Xve(e,this,r,n).process(i)}_processLabel(e,r,n){if(this.labelDirty===!1&&!this.differentState(r,n))return;const i=this._processLabelText(e,r,n,this.elementOptions.label);this.fontOptions.minWdt>0&&i.width<this.fontOptions.minWdt&&(i.width=this.fontOptions.minWdt),this.size.labelHeight=i.height,this.fontOptions.minHgt>0&&i.height<this.fontOptions.minHgt&&(i.height=this.fontOptions.minHgt),this.lines=i.lines,this.lineCount=i.lines.length,this.size.width=i.width,this.size.height=i.height,this.selectedState=r,this.hoverState=n,this.labelDirty=!1}visible(){return!(this.size.width===0||this.size.height===0||this.elementOptions.label===void 0||this.fontOptions.size*this.body.view.scale<this.elementOptions.scaling.label.drawThreshold-1)}}class $o{constructor(e,r,n){this.body=r,this.labelModule=n,this.setOptions(e),this.top=void 0,this.left=void 0,this.height=void 0,this.width=void 0,this.radius=void 0,this.margin=void 0,this.refreshNeeded=!0,this.boundingBox={top:0,left:0,right:0,bottom:0}}setOptions(e){this.options=e}_setMargins(e){this.margin={},this.options.margin&&(typeof this.options.margin=="object"?(this.margin.top=this.options.margin.top,this.margin.right=this.options.margin.right,this.margin.bottom=this.options.margin.bottom,this.margin.left=this.options.margin.left):(this.margin.top=this.options.margin,this.margin.right=this.options.margin,this.margin.bottom=this.options.margin,this.margin.left=this.options.margin)),e.adjustSizes(this.margin)}_distanceToBorder(e,r){const n=this.options.borderWidth;return e&&this.resize(e),Math.min(Math.abs(this.width/2/Math.cos(r)),Math.abs(this.height/2/Math.sin(r)))+n}enableShadow(e,r){r.shadow&&(e.shadowColor=r.shadowColor,e.shadowBlur=r.shadowSize,e.shadowOffsetX=r.shadowX,e.shadowOffsetY=r.shadowY)}disableShadow(e,r){r.shadow&&(e.shadowColor="rgba(0,0,0,0)",e.shadowBlur=0,e.shadowOffsetX=0,e.shadowOffsetY=0)}enableBorderDashes(e,r){if(r.borderDashes!==!1)if(e.setLineDash!==void 0){let n=r.borderDashes;n===!0&&(n=[5,15]),e.setLineDash(n)}else console.warn("setLineDash is not supported in this browser. The dashed borders cannot be used."),this.options.shapeProperties.borderDashes=!1,r.borderDashes=!1}disableBorderDashes(e,r){r.borderDashes!==!1&&(e.setLineDash!==void 0?e.setLineDash([0]):(console.warn("setLineDash is not supported in this browser. The dashed borders cannot be used."),this.options.shapeProperties.borderDashes=!1,r.borderDashes=!1))}needsRefresh(e,r){return this.refreshNeeded===!0?(this.refreshNeeded=!1,!0):this.width===void 0||this.labelModule.differentState(e,r)}initContextForDraw(e,r){const n=r.borderWidth/this.body.view.scale;e.lineWidth=Math.min(this.width,n),e.strokeStyle=r.borderColor,e.fillStyle=r.color}performStroke(e,r){const n=r.borderWidth/this.body.view.scale;e.save(),n>0&&(this.enableBorderDashes(e,r),e.stroke(),this.disableBorderDashes(e,r)),e.restore()}performFill(e,r){e.save(),e.fillStyle=r.color,this.enableShadow(e,r),eh(e).call(e),this.disableShadow(e,r),e.restore(),this.performStroke(e,r)}_addBoundingBoxMargin(e){this.boundingBox.left-=e,this.boundingBox.top-=e,this.boundingBox.bottom+=e,this.boundingBox.right+=e}_updateBoundingBox(e,r,n,i,s){n!==void 0&&this.resize(n,i,s),this.left=e-this.width/2,this.top=r-this.height/2,this.boundingBox.left=this.left,this.boundingBox.top=this.top,this.boundingBox.bottom=this.top+this.height,this.boundingBox.right=this.left+this.width}updateBoundingBox(e,r,n,i,s){this._updateBoundingBox(e,r,n,i,s)}getDimensionsFromLabel(e,r,n){this.textSize=this.labelModule.getTextSize(e,r,n);let i=this.textSize.width,s=this.textSize.height;const a=14;return i===0&&(i=a,s=a),{width:i,height:s}}}let Jve=class extends $o{constructor(e,r,n){super(e,r,n),this._setMargins(n)}resize(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.selected,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.hover;if(this.needsRefresh(r,n)){const i=this.getDimensionsFromLabel(e,r,n);this.width=i.width+this.margin.right+this.margin.left,this.height=i.height+this.margin.top+this.margin.bottom,this.radius=this.width/2}}draw(e,r,n,i,s,a){this.resize(e,i,s),this.left=r-this.width/2,this.top=n-this.height/2,this.initContextForDraw(e,a),F9(e,this.left,this.top,this.width,this.height,a.borderRadius),this.performFill(e,a),this.updateBoundingBox(r,n,e,i,s),this.labelModule.draw(e,this.left+this.textSize.width/2+this.margin.left,this.top+this.textSize.height/2+this.margin.top,i,s)}updateBoundingBox(e,r,n,i,s){this._updateBoundingBox(e,r,n,i,s);const a=this.options.shapeProperties.borderRadius;this._addBoundingBoxMargin(a)}distanceToBorder(e,r){e&&this.resize(e);const n=this.options.borderWidth;return Math.min(Math.abs(this.width/2/Math.cos(r)),Math.abs(this.height/2/Math.sin(r)))+n}};class PI extends $o{constructor(e,r,n){super(e,r,n),this.labelOffset=0,this.selected=!1}setOptions(e,r,n){this.options=e,r===void 0&&n===void 0||this.setImages(r,n)}setImages(e,r){r&&this.selected?(this.imageObj=r,this.imageObjAlt=e):(this.imageObj=e,this.imageObjAlt=r)}switchImages(e){const r=e&&!this.selected||!e&&this.selected;if(this.selected=e,this.imageObjAlt!==void 0&&r){const n=this.imageObj;this.imageObj=this.imageObjAlt,this.imageObjAlt=n}}_getImagePadding(){const e={top:0,right:0,bottom:0,left:0};if(this.options.imagePadding){const r=this.options.imagePadding;typeof r=="object"?(e.top=r.top,e.right=r.right,e.bottom=r.bottom,e.left=r.left):(e.top=r,e.right=r,e.bottom=r,e.left=r)}return e}_resizeImage(){let e,r;if(this.options.shapeProperties.useImageSize===!1){let n=1,i=1;this.imageObj.width&&this.imageObj.height&&(this.imageObj.width>this.imageObj.height?n=this.imageObj.width/this.imageObj.height:i=this.imageObj.height/this.imageObj.width),e=this.options.size*2*n,r=this.options.size*2*i}else{const n=this._getImagePadding();e=this.imageObj.width+n.left+n.right,r=this.imageObj.height+n.top+n.bottom}this.width=e,this.height=r,this.radius=.5*this.width}_drawRawCircle(e,r,n,i){this.initContextForDraw(e,i),ZT(e,r,n,i.size),this.performFill(e,i)}_drawImageAtPosition(e,r){if(this.imageObj.width!=0){e.globalAlpha=r.opacity!==void 0?r.opacity:1,this.enableShadow(e,r);let n=1;this.options.shapeProperties.interpolation===!0&&(n=this.imageObj.width/this.width/this.body.view.scale);const i=this._getImagePadding(),s=this.left+i.left,a=this.top+i.top,o=this.width-i.left-i.right,l=this.height-i.top-i.bottom;this.imageObj.drawImageAtPosition(e,n,s,a,o,l),this.disableShadow(e,r)}}_drawImageLabel(e,r,n,i,s){let a=0;if(this.height!==void 0){a=this.height*.5;const l=this.labelModule.getTextSize(e,i,s);l.lineCount>=1&&(a+=l.height/2)}const o=n+a;this.options.label&&(this.labelOffset=a),this.labelModule.draw(e,r,o,i,s,"hanging")}}let Zve=class extends PI{constructor(e,r,n){super(e,r,n),this._setMargins(n)}resize(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.selected,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.hover;if(this.needsRefresh(r,n)){const i=this.getDimensionsFromLabel(e,r,n),s=Math.max(i.width+this.margin.right+this.margin.left,i.height+this.margin.top+this.margin.bottom);this.options.size=s/2,this.width=s,this.height=s,this.radius=this.width/2}}draw(e,r,n,i,s,a){this.resize(e,i,s),this.left=r-this.width/2,this.top=n-this.height/2,this._drawRawCircle(e,r,n,a),this.updateBoundingBox(r,n),this.labelModule.draw(e,this.left+this.textSize.width/2+this.margin.left,n,i,s)}updateBoundingBox(e,r){this.boundingBox.top=r-this.options.size,this.boundingBox.left=e-this.options.size,this.boundingBox.right=e+this.options.size,this.boundingBox.bottom=r+this.options.size}distanceToBorder(e){return e&&this.resize(e),this.width*.5}};class ege extends PI{constructor(e,r,n,i,s){super(e,r,n),this.setImages(i,s)}resize(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.selected,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.hover;if(this.imageObj.src===void 0||this.imageObj.width===void 0||this.imageObj.height===void 0){const s=this.options.size*2;this.width=s,this.height=s,this.radius=.5*this.width;return}this.needsRefresh(r,n)&&this._resizeImage()}draw(e,r,n,i,s,a){this.switchImages(i),this.resize();let o=r,l=n;this.options.shapeProperties.coordinateOrigin==="top-left"?(this.left=r,this.top=n,o+=this.width/2,l+=this.height/2):(this.left=r-this.width/2,this.top=n-this.height/2),this._drawRawCircle(e,o,l,a),e.save(),e.clip(),this._drawImageAtPosition(e,a),e.restore(),this._drawImageLabel(e,o,l,i,s),this.updateBoundingBox(r,n)}updateBoundingBox(e,r){this.options.shapeProperties.coordinateOrigin==="top-left"?(this.boundingBox.top=r,this.boundingBox.left=e,this.boundingBox.right=e+this.options.size*2,this.boundingBox.bottom=r+this.options.size*2):(this.boundingBox.top=r-this.options.size,this.boundingBox.left=e-this.options.size,this.boundingBox.right=e+this.options.size,this.boundingBox.bottom=r+this.options.size),this.boundingBox.left=Math.min(this.boundingBox.left,this.labelModule.size.left),this.boundingBox.right=Math.max(this.boundingBox.right,this.labelModule.size.left+this.labelModule.size.width),this.boundingBox.bottom=Math.max(this.boundingBox.bottom,this.boundingBox.bottom+this.labelOffset)}distanceToBorder(e){return e&&this.resize(e),this.width*.5}}class ma extends $o{constructor(e,r,n){super(e,r,n)}resize(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.selected,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.hover,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{size:this.options.size};if(this.needsRefresh(r,n)){var s,a;this.labelModule.getTextSize(e,r,n);const o=2*i.size;this.width=(s=this.customSizeWidth)!==null&&s!==void 0?s:o,this.height=(a=this.customSizeHeight)!==null&&a!==void 0?a:o,this.radius=.5*this.width}}_drawShape(e,r,n,i,s,a,o,l){return this.resize(e,a,o,l),this.left=i-this.width/2,this.top=s-this.height/2,this.initContextForDraw(e,l),vce(r)(e,i,s,l.size),this.performFill(e,l),this.options.icon!==void 0&&this.options.icon.code!==void 0&&(e.font=(a?"bold ":"")+this.height/2+"px "+(this.options.icon.face||"FontAwesome"),e.fillStyle=this.options.icon.color||"black",e.textAlign="center",e.textBaseline="middle",e.fillText(this.options.icon.code,i,s)),{drawExternalLabel:()=>{if(this.options.label!==void 0){this.labelModule.calculateLabelSize(e,a,o,i,s,"hanging");const u=s+.5*this.height+.5*this.labelModule.size.height;this.labelModule.draw(e,i,u,a,o,"hanging")}this.updateBoundingBox(i,s)}}}updateBoundingBox(e,r){this.boundingBox.top=r-this.options.size,this.boundingBox.left=e-this.options.size,this.boundingBox.right=e+this.options.size,this.boundingBox.bottom=r+this.options.size,this.options.label!==void 0&&this.labelModule.size.width>0&&(this.boundingBox.left=Math.min(this.boundingBox.left,this.labelModule.size.left),this.boundingBox.right=Math.max(this.boundingBox.right,this.labelModule.size.left+this.labelModule.size.width),this.boundingBox.bottom=Math.max(this.boundingBox.bottom,this.boundingBox.bottom+this.labelModule.size.height))}}function qU(t,e){var r=_t(t);if(na){var n=na(t);e&&(n=Ur(n).call(n,function(i){return pa(t,i).enumerable})),r.push.apply(r,n)}return r}function tge(t){for(var e=1;e<arguments.length;e++){var r,n,i=arguments[e]!=null?arguments[e]:{};e%2?Ge(r=qU(Object(i),!0)).call(r,function(s){qi(t,s,i[s])}):ia?om(t,ia(i)):Ge(n=qU(Object(i))).call(n,function(s){lm(t,s,pa(i,s))})}return t}class rge extends ma{constructor(e,r,n,i){super(e,r,n,i),this.ctxRenderer=i}draw(e,r,n,i,s,a){this.resize(e,i,s,a),this.left=r-this.width/2,this.top=n-this.height/2,e.save();const o=this.ctxRenderer({ctx:e,id:this.options.id,x:r,y:n,state:{selected:i,hover:s},style:tge({},a),label:this.options.label});if(o.drawNode!=null&&o.drawNode(),e.restore(),o.drawExternalLabel){const l=o.drawExternalLabel;o.drawExternalLabel=()=>{e.save(),l(),e.restore()}}return o.nodeDimensions&&(this.customSizeWidth=o.nodeDimensions.width,this.customSizeHeight=o.nodeDimensions.height),o}distanceToBorder(e,r){return this._distanceToBorder(e,r)}}class nge extends $o{constructor(e,r,n){super(e,r,n),this._setMargins(n)}resize(e,r,n){if(this.needsRefresh(r,n)){const s=this.getDimensionsFromLabel(e,r,n).width+this.margin.right+this.margin.left;this.width=s,this.height=s,this.radius=this.width/2}}draw(e,r,n,i,s,a){this.resize(e,i,s),this.left=r-this.width/2,this.top=n-this.height/2,this.initContextForDraw(e,a),L9(e,r-this.width/2,n-this.height/2,this.width,this.height),this.performFill(e,a),this.updateBoundingBox(r,n,e,i,s),this.labelModule.draw(e,this.left+this.textSize.width/2+this.margin.left,this.top+this.textSize.height/2+this.margin.top,i,s)}distanceToBorder(e,r){return this._distanceToBorder(e,r)}}let ige=class extends ma{constructor(e,r,n){super(e,r,n)}draw(e,r,n,i,s,a){return this._drawShape(e,"diamond",4,r,n,i,s,a)}distanceToBorder(e,r){return this._distanceToBorder(e,r)}};class sge extends ma{constructor(e,r,n){super(e,r,n)}draw(e,r,n,i,s,a){return this._drawShape(e,"circle",2,r,n,i,s,a)}distanceToBorder(e){return e&&this.resize(e),this.options.size}}class MU extends $o{constructor(e,r,n){super(e,r,n)}resize(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.selected,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.hover;if(this.needsRefresh(r,n)){const i=this.getDimensionsFromLabel(e,r,n);this.height=i.height*2,this.width=i.width+i.height,this.radius=.5*this.width}}draw(e,r,n,i,s,a){this.resize(e,i,s),this.left=r-this.width*.5,this.top=n-this.height*.5,this.initContextForDraw(e,a),KP(e,this.left,this.top,this.width,this.height),this.performFill(e,a),this.updateBoundingBox(r,n,e,i,s),this.labelModule.draw(e,r,n,i,s)}distanceToBorder(e,r){e&&this.resize(e);const n=this.width*.5,i=this.height*.5,s=Math.sin(r)*n,a=Math.cos(r)*i;return n*i/Math.sqrt(s*s+a*a)}}class age extends $o{constructor(e,r,n){super(e,r,n),this._setMargins(n)}resize(e,r,n){this.needsRefresh(r,n)&&(this.iconSize={width:Number(this.options.icon.size),height:Number(this.options.icon.size)},this.width=this.iconSize.width+this.margin.right+this.margin.left,this.height=this.iconSize.height+this.margin.top+this.margin.bottom,this.radius=.5*this.width)}draw(e,r,n,i,s,a){return this.resize(e,i,s),this.options.icon.size=this.options.icon.size||50,this.left=r-this.width/2,this.top=n-this.height/2,this._icon(e,r,n,i,s,a),{drawExternalLabel:()=>{this.options.label!==void 0&&this.labelModule.draw(e,this.left+this.iconSize.width/2+this.margin.left,n+this.height/2+5,i),this.updateBoundingBox(r,n)}}}updateBoundingBox(e,r){this.boundingBox.top=r-this.options.icon.size*.5,this.boundingBox.left=e-this.options.icon.size*.5,this.boundingBox.right=e+this.options.icon.size*.5,this.boundingBox.bottom=r+this.options.icon.size*.5,this.options.label!==void 0&&this.labelModule.size.width>0&&(this.boundingBox.left=Math.min(this.boundingBox.left,this.labelModule.size.left),this.boundingBox.right=Math.max(this.boundingBox.right,this.labelModule.size.left+this.labelModule.size.width),this.boundingBox.bottom=Math.max(this.boundingBox.bottom,this.boundingBox.bottom+this.labelModule.size.height+5))}_icon(e,r,n,i,s,a){const o=Number(this.options.icon.size);this.options.icon.code!==void 0?(e.font=[this.options.icon.weight!=null?this.options.icon.weight:i?"bold":"",(this.options.icon.weight!=null&&i?5:0)+o+"px",this.options.icon.face].join(" "),e.fillStyle=this.options.icon.color||"black",e.textAlign="center",e.textBaseline="middle",this.enableShadow(e,a),e.fillText(this.options.icon.code,r,n),this.disableShadow(e,a)):console.error("When using the icon shape, you need to define the code in the icon options object. This can be done per node or globally.")}distanceToBorder(e,r){return this._distanceToBorder(e,r)}}let oge=class extends PI{constructor(e,r,n,i,s){super(e,r,n),this.setImages(i,s)}resize(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.selected,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.hover;if(this.imageObj.src===void 0||this.imageObj.width===void 0||this.imageObj.height===void 0){const s=this.options.size*2;this.width=s,this.height=s;return}this.needsRefresh(r,n)&&this._resizeImage()}draw(e,r,n,i,s,a){e.save(),this.switchImages(i),this.resize();let o=r,l=n;if(this.options.shapeProperties.coordinateOrigin==="top-left"?(this.left=r,this.top=n,o+=this.width/2,l+=this.height/2):(this.left=r-this.width/2,this.top=n-this.height/2),this.options.shapeProperties.useBorderWithImage===!0){const u=this.options.borderWidth,c=this.options.borderWidthSelected||2*this.options.borderWidth,h=(i?c:u)/this.body.view.scale;e.lineWidth=Math.min(this.width,h),e.beginPath();let f=i?this.options.color.highlight.border:s?this.options.color.hover.border:this.options.color.border,p=i?this.options.color.highlight.background:s?this.options.color.hover.background:this.options.color.background;a.opacity!==void 0&&(f=On(f,a.opacity),p=On(p,a.opacity)),e.strokeStyle=f,e.fillStyle=p,e.rect(this.left-.5*e.lineWidth,this.top-.5*e.lineWidth,this.width+e.lineWidth,this.height+e.lineWidth),eh(e).call(e),this.performStroke(e,a),e.closePath()}this._drawImageAtPosition(e,a),this._drawImageLabel(e,o,l,i,s),this.updateBoundingBox(r,n),e.restore()}updateBoundingBox(e,r){this.resize(),this.options.shapeProperties.coordinateOrigin==="top-left"?(this.left=e,this.top=r):(this.left=e-this.width/2,this.top=r-this.height/2),this.boundingBox.left=this.left,this.boundingBox.top=this.top,this.boundingBox.bottom=this.top+this.height,this.boundingBox.right=this.left+this.width,this.options.label!==void 0&&this.labelModule.size.width>0&&(this.boundingBox.left=Math.min(this.boundingBox.left,this.labelModule.size.left),this.boundingBox.right=Math.max(this.boundingBox.right,this.labelModule.size.left+this.labelModule.size.width),this.boundingBox.bottom=Math.max(this.boundingBox.bottom,this.boundingBox.bottom+this.labelOffset))}distanceToBorder(e,r){return this._distanceToBorder(e,r)}};class lge extends ma{constructor(e,r,n){super(e,r,n)}draw(e,r,n,i,s,a){return this._drawShape(e,"square",2,r,n,i,s,a)}distanceToBorder(e,r){return this._distanceToBorder(e,r)}}class uge extends ma{constructor(e,r,n){super(e,r,n)}draw(e,r,n,i,s,a){return this._drawShape(e,"hexagon",4,r,n,i,s,a)}distanceToBorder(e,r){return this._distanceToBorder(e,r)}}class cge extends ma{constructor(e,r,n){super(e,r,n)}draw(e,r,n,i,s,a){return this._drawShape(e,"star",4,r,n,i,s,a)}distanceToBorder(e,r){return this._distanceToBorder(e,r)}}class dge extends $o{constructor(e,r,n){super(e,r,n),this._setMargins(n)}resize(e,r,n){this.needsRefresh(r,n)&&(this.textSize=this.labelModule.getTextSize(e,r,n),this.width=this.textSize.width+this.margin.right+this.margin.left,this.height=this.textSize.height+this.margin.top+this.margin.bottom,this.radius=.5*this.width)}draw(e,r,n,i,s,a){this.resize(e,i,s),this.left=r-this.width/2,this.top=n-this.height/2,this.enableShadow(e,a),this.labelModule.draw(e,this.left+this.textSize.width/2+this.margin.left,this.top+this.textSize.height/2+this.margin.top,i,s),this.disableShadow(e,a),this.updateBoundingBox(r,n,e,i,s)}distanceToBorder(e,r){return this._distanceToBorder(e,r)}}let hge=class extends ma{constructor(e,r,n){super(e,r,n)}draw(e,r,n,i,s,a){return this._drawShape(e,"triangle",3,r,n,i,s,a)}distanceToBorder(e,r){return this._distanceToBorder(e,r)}};class fge extends ma{constructor(e,r,n){super(e,r,n)}draw(e,r,n,i,s,a){return this._drawShape(e,"triangleDown",3,r,n,i,s,a)}distanceToBorder(e,r){return this._distanceToBorder(e,r)}}function AU(t,e){var r=_t(t);if(na){var n=na(t);e&&(n=Ur(n).call(n,function(i){return pa(t,i).enumerable})),r.push.apply(r,n)}return r}function FU(t){for(var e=1;e<arguments.length;e++){var r,n,i=arguments[e]!=null?arguments[e]:{};e%2?Ge(r=AU(Object(i),!0)).call(r,function(s){qi(t,s,i[s])}):ia?om(t,ia(i)):Ge(n=AU(Object(i))).call(n,function(s){lm(t,s,pa(i,s))})}return t}class ot{constructor(e,r,n,i,s,a){this.options=Qs(s),this.globalOptions=s,this.defaultOptions=a,this.body=r,this.edges=[],this.id=void 0,this.imagelist=n,this.grouplist=i,this.x=void 0,this.y=void 0,this.baseSize=this.options.size,this.baseFontSize=this.options.font.size,this.predefinedPosition=!1,this.selected=!1,this.hover=!1,this.labelModule=new yl(this.body,this.options,!1),this.setOptions(e)}attachEdge(e){var r;Ue(r=this.edges).call(r,e)===-1&&this.edges.push(e)}detachEdge(e){var r;const n=Ue(r=this.edges).call(r,e);if(n!=-1){var i;zi(i=this.edges).call(i,n,1)}}setOptions(e){const r=this.options.shape;if(!e)return;if(typeof e.color<"u"&&(this._localColor=e.color),e.id!==void 0&&(this.id=e.id),this.id===void 0)throw new Error("Node must have an id");ot.checkMass(e,this.id),e.x!==void 0&&(e.x===null?(this.x=void 0,this.predefinedPosition=!1):(this.x=Hn(e.x),this.predefinedPosition=!0)),e.y!==void 0&&(e.y===null?(this.y=void 0,this.predefinedPosition=!1):(this.y=Hn(e.y),this.predefinedPosition=!0)),e.size!==void 0&&(this.baseSize=e.size),e.value!==void 0&&(e.value=JG(e.value)),ot.parseOptions(this.options,e,!0,this.globalOptions,this.grouplist);const n=[e,this.options,this.defaultOptions];return this.chooser=OI("node",n),this._load_images(),this.updateLabelModule(e),e.opacity!==void 0&&ot.checkOpacity(e.opacity)&&(this.options.opacity=e.opacity),this.updateShape(r),e.hidden!==void 0||e.physics!==void 0}_load_images(){if((this.options.shape==="circularImage"||this.options.shape==="image")&&this.options.image===void 0)throw new Error("Option image must be defined for node type '"+this.options.shape+"'");if(this.options.image!==void 0){if(this.imagelist===void 0)throw new Error("Internal Error: No images provided");if(typeof this.options.image=="string")this.imageObj=this.imagelist.load(this.options.image,this.options.brokenImage,this.id);else{if(this.options.image.unselected===void 0)throw new Error("No unselected image provided");this.imageObj=this.imagelist.load(this.options.image.unselected,this.options.brokenImage,this.id),this.options.image.selected!==void 0?this.imageObjAlt=this.imagelist.load(this.options.image.selected,this.options.brokenImage,this.id):this.imageObjAlt=void 0}}}static checkOpacity(e){return 0<=e&&e<=1}static checkCoordinateOrigin(e){return e===void 0||e==="center"||e==="top-left"}static updateGroupOptions(e,r,n){var i;if(n===void 0)return;const s=e.group;if(r!==void 0&&r.group!==void 0&&s!==r.group)throw new Error("updateGroupOptions: group values in options don't match.");if(!(typeof s=="number"||typeof s=="string"&&s!=""))return;const o=n.get(s);o.opacity!==void 0&&r.opacity===void 0&&(ot.checkOpacity(o.opacity)||(console.error("Invalid option for node opacity. Value must be between 0 and 1, found: "+o.opacity),o.opacity=void 0));const l=Ur(i=_ve(r)).call(i,u=>r[u]!=null);l.push("font"),Xf(l,e,o),e.color=JP(e.color)}static parseOptions(e,r){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},s=arguments.length>4?arguments[4]:void 0;if(Xf(["color","fixed","shadow"],e,r,n),ot.checkMass(r),e.opacity!==void 0&&(ot.checkOpacity(e.opacity)||(console.error("Invalid option for node opacity. Value must be between 0 and 1, found: "+e.opacity),e.opacity=void 0)),r.opacity!==void 0&&(ot.checkOpacity(r.opacity)||(console.error("Invalid option for node opacity. Value must be between 0 and 1, found: "+r.opacity),r.opacity=void 0)),r.shapeProperties&&!ot.checkCoordinateOrigin(r.shapeProperties.coordinateOrigin)&&console.error("Invalid option for node coordinateOrigin, found: "+r.shapeProperties.coordinateOrigin),_n(e,r,"shadow",i),r.color!==void 0&&r.color!==null){const o=JP(r.color);jG(e.color,o)}else n===!0&&r.color===null&&(e.color=Qs(i.color));r.fixed!==void 0&&r.fixed!==null&&(typeof r.fixed=="boolean"?(e.fixed.x=r.fixed,e.fixed.y=r.fixed):(r.fixed.x!==void 0&&typeof r.fixed.x=="boolean"&&(e.fixed.x=r.fixed.x),r.fixed.y!==void 0&&typeof r.fixed.y=="boolean"&&(e.fixed.y=r.fixed.y))),n===!0&&r.font===null&&(e.font=Qs(i.font)),ot.updateGroupOptions(e,r,s),r.scaling!==void 0&&_n(e.scaling,r.scaling,"label",i.scaling)}getFormattingValues(){const e={color:this.options.color.background,opacity:this.options.opacity,borderWidth:this.options.borderWidth,borderColor:this.options.color.border,size:this.options.size,borderDashes:this.options.shapeProperties.borderDashes,borderRadius:this.options.shapeProperties.borderRadius,shadow:this.options.shadow.enabled,shadowColor:this.options.shadow.color,shadowSize:this.options.shadow.size,shadowX:this.options.shadow.x,shadowY:this.options.shadow.y};if(this.selected||this.hover?this.chooser===!0?this.selected?(this.options.borderWidthSelected!=null?e.borderWidth=this.options.borderWidthSelected:e.borderWidth*=2,e.color=this.options.color.highlight.background,e.borderColor=this.options.color.highlight.border,e.shadow=this.options.shadow.enabled):this.hover&&(e.color=this.options.color.hover.background,e.borderColor=this.options.color.hover.border,e.shadow=this.options.shadow.enabled):typeof this.chooser=="function"&&(this.chooser(e,this.options.id,this.selected,this.hover),e.shadow===!1&&(e.shadowColor!==this.options.shadow.color||e.shadowSize!==this.options.shadow.size||e.shadowX!==this.options.shadow.x||e.shadowY!==this.options.shadow.y)&&(e.shadow=!0)):e.shadow=this.options.shadow.enabled,this.options.opacity!==void 0){const r=this.options.opacity;e.borderColor=On(e.borderColor,r),e.color=On(e.color,r),e.shadowColor=On(e.shadowColor,r)}return e}updateLabelModule(e){(this.options.label===void 0||this.options.label===null)&&(this.options.label=""),ot.updateGroupOptions(this.options,FU(FU({},e),{},{color:e&&e.color||this._localColor||void 0}),this.grouplist);const r=this.grouplist.get(this.options.group,!1),n=[e,this.options,r,this.globalOptions,this.defaultOptions];this.labelModule.update(this.options,n),this.labelModule.baseSize!==void 0&&(this.baseFontSize=this.labelModule.baseSize)}updateShape(e){if(e===this.options.shape&&this.shape)this.shape.setOptions(this.options,this.imageObj,this.imageObjAlt);else switch(this.options.shape){case"box":this.shape=new Jve(this.options,this.body,this.labelModule);break;case"circle":this.shape=new Zve(this.options,this.body,this.labelModule);break;case"circularImage":this.shape=new ege(this.options,this.body,this.labelModule,this.imageObj,this.imageObjAlt);break;case"custom":this.shape=new rge(this.options,this.body,this.labelModule,this.options.ctxRenderer);break;case"database":this.shape=new nge(this.options,this.body,this.labelModule);break;case"diamond":this.shape=new ige(this.options,this.body,this.labelModule);break;case"dot":this.shape=new sge(this.options,this.body,this.labelModule);break;case"ellipse":this.shape=new MU(this.options,this.body,this.labelModule);break;case"icon":this.shape=new age(this.options,this.body,this.labelModule);break;case"image":this.shape=new oge(this.options,this.body,this.labelModule,this.imageObj,this.imageObjAlt);break;case"square":this.shape=new lge(this.options,this.body,this.labelModule);break;case"hexagon":this.shape=new uge(this.options,this.body,this.labelModule);break;case"star":this.shape=new cge(this.options,this.body,this.labelModule);break;case"text":this.shape=new dge(this.options,this.body,this.labelModule);break;case"triangle":this.shape=new hge(this.options,this.body,this.labelModule);break;case"triangleDown":this.shape=new fge(this.options,this.body,this.labelModule);break;default:this.shape=new MU(this.options,this.body,this.labelModule);break}this.needsRefresh()}select(){this.selected=!0,this.needsRefresh()}unselect(){this.selected=!1,this.needsRefresh()}needsRefresh(){this.shape.refreshNeeded=!0}getTitle(){return this.options.title}distanceToBorder(e,r){return this.shape.distanceToBorder(e,r)}isFixed(){return this.options.fixed.x&&this.options.fixed.y}isSelected(){return this.selected}getValue(){return this.options.value}getLabelSize(){return this.labelModule.size()}setValueRange(e,r,n){if(this.options.value!==void 0){const i=this.options.scaling.customScalingFunction(e,r,n,this.options.value),s=this.options.scaling.max-this.options.scaling.min;if(this.options.scaling.label.enabled===!0){const a=this.options.scaling.label.max-this.options.scaling.label.min;this.options.font.size=this.options.scaling.label.min+i*a}this.options.size=this.options.scaling.min+i*s}else this.options.size=this.baseSize,this.options.font.size=this.baseFontSize;this.updateLabelModule()}draw(e){const r=this.getFormattingValues();return this.shape.draw(e,this.x,this.y,this.selected,this.hover,r)||{}}updateBoundingBox(e){this.shape.updateBoundingBox(this.x,this.y,e)}resize(e){const r=this.getFormattingValues();this.shape.resize(e,this.selected,this.hover,r)}getItemsOnPoint(e){const r=[];return this.labelModule.visible()&&nC(this.labelModule.getSize(),e)&&r.push({nodeId:this.id,labelId:0}),nC(this.shape.boundingBox,e)&&r.push({nodeId:this.id}),r}isOverlappingWith(e){return this.shape.left<e.right&&this.shape.left+this.shape.width>e.left&&this.shape.top<e.bottom&&this.shape.top+this.shape.height>e.top}isBoundingBoxOverlappingWith(e){return this.shape.boundingBox.left<e.right&&this.shape.boundingBox.right>e.left&&this.shape.boundingBox.top<e.bottom&&this.shape.boundingBox.bottom>e.top}static checkMass(e,r){if(e.mass!==void 0&&e.mass<=0){let n="";r!==void 0&&(n=" in node id: "+r),console.error("%cNegative or zero mass disallowed"+n+", setting mass to 1.",MG),e.mass=1}}}class pge{constructor(e,r,n,i){var s;if(this.body=e,this.images=r,this.groups=n,this.layoutEngine=i,this.body.functions.createNode=ee(s=this.create).call(s,this),this.nodesListeners={add:(a,o)=>{this.add(o.items)},update:(a,o)=>{this.update(o.items,o.data,o.oldData)},remove:(a,o)=>{this.remove(o.items)}},this.defaultOptions={borderWidth:1,borderWidthSelected:void 0,brokenImage:void 0,color:{border:"#2B7CE9",background:"#97C2FC",highlight:{border:"#2B7CE9",background:"#D2E5FF"},hover:{border:"#2B7CE9",background:"#D2E5FF"}},opacity:void 0,fixed:{x:!1,y:!1},font:{color:"#343434",size:14,face:"arial",background:"none",strokeWidth:0,strokeColor:"#ffffff",align:"center",vadjust:0,multi:!1,bold:{mod:"bold"},boldital:{mod:"bold italic"},ital:{mod:"italic"},mono:{mod:"",size:15,face:"monospace",vadjust:2}},group:void 0,hidden:!1,icon:{face:"FontAwesome",code:void 0,size:50,color:"#2B7CE9"},image:void 0,imagePadding:{top:0,right:0,bottom:0,left:0},label:void 0,labelHighlightBold:!0,level:void 0,margin:{top:5,right:5,bottom:5,left:5},mass:1,physics:!0,scaling:{min:10,max:30,label:{enabled:!1,min:14,max:30,maxVisible:30,drawThreshold:5},customScalingFunction:function(a,o,l,u){if(o===a)return .5;{const c=1/(o-a);return Math.max(0,(u-a)*c)}}},shadow:{enabled:!1,color:"rgba(0,0,0,0.5)",size:10,x:5,y:5},shape:"ellipse",shapeProperties:{borderDashes:!1,borderRadius:6,interpolation:!0,useImageSize:!1,useBorderWithImage:!1,coordinateOrigin:"center"},size:25,title:void 0,value:void 0,x:void 0,y:void 0},this.defaultOptions.mass<=0)throw"Internal error: mass in defaultOptions of NodesHandler may not be zero or negative";this.options=Qs(this.defaultOptions),this.bindEventListeners()}bindEventListeners(){var e,r;this.body.emitter.on("refreshNodes",ee(e=this.refresh).call(e,this)),this.body.emitter.on("refresh",ee(r=this.refresh).call(r,this)),this.body.emitter.on("destroy",()=>{Re(this.nodesListeners,(n,i)=>{this.body.data.nodes&&this.body.data.nodes.off(i,n)}),delete this.body.functions.createNode,delete this.nodesListeners.add,delete this.nodesListeners.update,delete this.nodesListeners.remove,delete this.nodesListeners})}setOptions(e){if(e!==void 0){if(ot.parseOptions(this.options,e),e.opacity!==void 0&&(rC(e.opacity)||!Na(e.opacity)||e.opacity<0||e.opacity>1?console.error("Invalid option for node opacity. Value must be between 0 and 1, found: "+e.opacity):this.options.opacity=e.opacity),e.shape!==void 0)for(const r in this.body.nodes)Object.prototype.hasOwnProperty.call(this.body.nodes,r)&&this.body.nodes[r].updateShape();if(typeof e.font<"u"||typeof e.widthConstraint<"u"||typeof e.heightConstraint<"u")for(const r of _t(this.body.nodes))this.body.nodes[r].updateLabelModule(),this.body.nodes[r].needsRefresh();if(e.size!==void 0)for(const r in this.body.nodes)Object.prototype.hasOwnProperty.call(this.body.nodes,r)&&this.body.nodes[r].needsRefresh();(e.hidden!==void 0||e.physics!==void 0)&&this.body.emitter.emit("_dataChanged")}}setData(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;const n=this.body.data.nodes;if(R9("id",e))this.body.data.nodes=e;else if(Ot(e))this.body.data.nodes=new Jl,this.body.data.nodes.add(e);else if(!e)this.body.data.nodes=new Jl;else throw new TypeError("Array or DataSet expected");if(n&&Re(this.nodesListeners,function(i,s){n.off(s,i)}),this.body.nodes={},this.body.data.nodes){const i=this;Re(this.nodesListeners,function(a,o){i.body.data.nodes.on(o,a)});const s=this.body.data.nodes.getIds();this.add(s,!0)}r===!1&&this.body.emitter.emit("_dataChanged")}add(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,n;const i=[];for(let s=0;s<e.length;s++){n=e[s];const a=this.body.data.nodes.get(n),o=this.create(a);i.push(o),this.body.nodes[n]=o}this.layoutEngine.positionInitially(i),r===!1&&this.body.emitter.emit("_dataChanged")}update(e,r,n){const i=this.body.nodes;let s=!1;for(let a=0;a<e.length;a++){const o=e[a];let l=i[o];const u=r[a];l!==void 0?l.setOptions(u)&&(s=!0):(s=!0,l=this.create(u),i[o]=l)}!s&&n!==void 0&&(s=Sme(r).call(r,function(a,o){const l=n[o];return l&&l.level!==a.level})),s===!0?this.body.emitter.emit("_dataChanged"):this.body.emitter.emit("_dataUpdated")}remove(e){const r=this.body.nodes;for(let n=0;n<e.length;n++){const i=e[n];delete r[i]}this.body.emitter.emit("_dataChanged")}create(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:ot;return new r(e,this.body,this.images,this.groups,this.options,this.defaultOptions)}refresh(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;Re(this.body.nodes,(r,n)=>{const i=this.body.data.nodes.get(n);i!==void 0&&(e===!0&&r.setOptions({x:null,y:null}),r.setOptions({fixed:!1}),r.setOptions(i))})}getPositions(e){const r={};if(e!==void 0){if(Ot(e)===!0){for(let n=0;n<e.length;n++)if(this.body.nodes[e[n]]!==void 0){const i=this.body.nodes[e[n]];r[e[n]]={x:Math.round(i.x),y:Math.round(i.y)}}}else if(this.body.nodes[e]!==void 0){const n=this.body.nodes[e];r[e]={x:Math.round(n.x),y:Math.round(n.y)}}}else for(let n=0;n<this.body.nodeIndices.length;n++){const i=this.body.nodes[this.body.nodeIndices[n]];r[this.body.nodeIndices[n]]={x:Math.round(i.x),y:Math.round(i.y)}}return r}getPosition(e){if(e==null)throw new TypeError("No id was specified for getPosition method.");if(this.body.nodes[e]==null)throw new ReferenceError("NodeId provided for getPosition does not exist. Provided: ".concat(e));return{x:Math.round(this.body.nodes[e].x),y:Math.round(this.body.nodes[e].y)}}storePositions(){const e=[],r=this.body.data.nodes.getDataSet();for(const n of r.get()){const i=n.id,s=this.body.nodes[i],a=Math.round(s.x),o=Math.round(s.y);(n.x!==a||n.y!==o)&&e.push({id:i,x:a,y:o})}r.update(e)}getBoundingBox(e){if(this.body.nodes[e]!==void 0)return this.body.nodes[e].shape.boundingBox}getConnectedNodes(e,r){const n=[];if(this.body.nodes[e]!==void 0){const i=this.body.nodes[e],s={};for(let a=0;a<i.edges.length;a++){const o=i.edges[a];r!=="to"&&o.toId==i.id?s[o.fromId]===void 0&&(n.push(o.fromId),s[o.fromId]=!0):r!=="from"&&o.fromId==i.id&&s[o.toId]===void 0&&(n.push(o.toId),s[o.toId]=!0)}}return n}getConnectedEdges(e){const r=[];if(this.body.nodes[e]!==void 0){const n=this.body.nodes[e];for(let i=0;i<n.edges.length;i++)r.push(n.edges[i].id)}else console.error("NodeId provided for getConnectedEdges does not exist. Provided: ",e);return r}moveNode(e,r,n){this.body.nodes[e]!==void 0?(this.body.nodes[e].x=Number(r),this.body.nodes[e].y=Number(n),Ui(()=>{this.body.emitter.emit("startSimulation")},0)):console.error("Node id supplied to moveNode does not exist. Provided: ",e)}}var LU={},BU;function mge(){if(BU)return LU;BU=1;var t=ye(),e=Math.hypot,r=Math.abs,n=Math.sqrt,i=!!e&&e(1/0,NaN)!==1/0;return t({target:"Math",stat:!0,arity:2,forced:i},{hypot:function(a,o){for(var l=0,u=0,c=arguments.length,h=0,f,p;u<c;)f=r(arguments[u++]),h<f?(p=h/f,l=l*p*p+1,h=f):f>0?(p=f/h,l+=p*p):l+=f;return h===1/0?1/0:h*n(l)}}),LU}var vE,zU;function vge(){if(zU)return vE;zU=1,mge();var t=Ve();return vE=t.Math.hypot,vE}var gE,UU;function gge(){if(UU)return gE;UU=1;var t=vge();return gE=t,gE}var yE,WU;function yge(){return WU||(WU=1,yE=gge()),yE}var bge=yge(),wge=Oe(bge);class Ct{static transform(e,r){Ot(e)||(e=[e]);const n=r.point.x,i=r.point.y,s=r.angle,a=r.length;for(let o=0;o<e.length;++o){const l=e[o],u=l.x*Math.cos(s)-l.y*Math.sin(s),c=l.x*Math.sin(s)+l.y*Math.cos(s);l.x=n+a*u,l.y=i+a*c}}static drawPath(e,r){e.beginPath(),e.moveTo(r[0].x,r[0].y);for(let n=1;n<r.length;++n)e.lineTo(r[n].x,r[n].y);e.closePath()}}let xge=class extends Ct{static draw(e,r){if(r.image){e.save(),e.translate(r.point.x,r.point.y),e.rotate(Math.PI/2+r.angle);const n=r.imageWidth!=null?r.imageWidth:r.image.width,i=r.imageHeight!=null?r.imageHeight:r.image.height;r.image.drawImageAtPosition(e,1,-n/2,0,n,i),e.restore()}return!1}};class _ge extends Ct{static draw(e,r){const n=[{x:0,y:0},{x:-1,y:.3},{x:-.9,y:0},{x:-1,y:-.3}];return Ct.transform(n,r),Ct.drawPath(e,n),!0}}class Sge{static draw(e,r){const n=[{x:-1,y:0},{x:0,y:.3},{x:-.4,y:0},{x:0,y:-.3}];return Ct.transform(n,r),Ct.drawPath(e,n),!0}}class Ege{static draw(e,r){const n={x:-.4,y:0};Ct.transform(n,r),e.strokeStyle=e.fillStyle,e.fillStyle="rgba(0, 0, 0, 0)";const i=Math.PI,s=r.angle-i/2,a=r.angle+i/2;return e.beginPath(),e.arc(n.x,n.y,r.length*.4,s,a,!1),e.stroke(),!0}}class Oge{static draw(e,r){const n={x:-.3,y:0};Ct.transform(n,r),e.strokeStyle=e.fillStyle,e.fillStyle="rgba(0, 0, 0, 0)";const i=Math.PI,s=r.angle+i/2,a=r.angle+3*i/2;return e.beginPath(),e.arc(n.x,n.y,r.length*.4,s,a,!1),e.stroke(),!0}}class Pge{static draw(e,r){const n=[{x:.02,y:0},{x:-1,y:.3},{x:-1,y:-.3}];return Ct.transform(n,r),Ct.drawPath(e,n),!0}}class Cge{static draw(e,r){const n=[{x:0,y:.3},{x:0,y:-.3},{x:-1,y:0}];return Ct.transform(n,r),Ct.drawPath(e,n),!0}}class Tge{static draw(e,r){const n={x:-.4,y:0};return Ct.transform(n,r),ZT(e,n.x,n.y,r.length*.4),!0}}class Ige{static draw(e,r){const n=[{x:0,y:.5},{x:0,y:-.5},{x:-.15,y:-.5},{x:-.15,y:.5}];return Ct.transform(n,r),Ct.drawPath(e,n),!0}}class Nge{static draw(e,r){const n=[{x:0,y:.3},{x:0,y:-.3},{x:-.6,y:-.3},{x:-.6,y:.3}];return Ct.transform(n,r),Ct.drawPath(e,n),!0}}class Rge{static draw(e,r){const n=[{x:0,y:0},{x:-.5,y:-.3},{x:-1,y:0},{x:-.5,y:.3}];return Ct.transform(n,r),Ct.drawPath(e,n),!0}}class $ge{static draw(e,r){const n=[{x:-1,y:.3},{x:-.5,y:0},{x:-1,y:-.3},{x:0,y:0}];return Ct.transform(n,r),Ct.drawPath(e,n),!0}}class tY{static draw(e,r){let n;switch(r.type&&(n=r.type.toLowerCase()),n){case"image":return xge.draw(e,r);case"circle":return Tge.draw(e,r);case"box":return Nge.draw(e,r);case"crow":return Sge.draw(e,r);case"curve":return Ege.draw(e,r);case"diamond":return Rge.draw(e,r);case"inv_curve":return Oge.draw(e,r);case"triangle":return Pge.draw(e,r);case"inv_triangle":return Cge.draw(e,r);case"bar":return Ige.draw(e,r);case"vee":return $ge.draw(e,r);case"arrow":default:return _ge.draw(e,r)}}}function HU(t,e){var r=_t(t);if(na){var n=na(t);e&&(n=Ur(n).call(n,function(i){return pa(t,i).enumerable})),r.push.apply(r,n)}return r}function VU(t){for(var e=1;e<arguments.length;e++){var r,n,i=arguments[e]!=null?arguments[e]:{};e%2?Ge(r=HU(Object(i),!0)).call(r,function(s){qi(t,s,i[s])}):ia?om(t,ia(i)):Ge(n=HU(Object(i))).call(n,function(s){lm(t,s,pa(i,s))})}return t}class rY{constructor(e,r,n){qi(this,"color",{}),qi(this,"colorDirty",!0),qi(this,"hoverWidth",1.5),qi(this,"selectionWidth",2),this._body=r,this._labelModule=n,this.setOptions(e),this.fromPoint=this.from,this.toPoint=this.to}connect(){this.from=this._body.nodes[this.options.from],this.to=this._body.nodes[this.options.to]}cleanup(){return!1}setOptions(e){this.options=e,this.from=this._body.nodes[this.options.from],this.to=this._body.nodes[this.options.to],this.id=this.options.id}drawLine(e,r,n,i){let s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:this.getViaNode();e.strokeStyle=this.getColor(e,r),e.lineWidth=r.width,r.dashes!==!1?this._drawDashedLine(e,r,s):this._drawLine(e,r,s)}_drawLine(e,r,n,i,s){if(this.from!=this.to)this._line(e,r,n,i,s);else{const[a,o,l]=this._getCircleData(e);this._circle(e,r,a,o,l)}}_drawDashedLine(e,r,n,i,s){e.lineCap="round";const a=Ot(r.dashes)?r.dashes:[5,5];if(e.setLineDash!==void 0){if(e.save(),e.setLineDash(a),e.lineDashOffset=0,this.from!=this.to)this._line(e,r,n);else{const[o,l,u]=this._getCircleData(e);this._circle(e,r,o,l,u)}e.setLineDash([0]),e.lineDashOffset=0,e.restore()}else{if(this.from!=this.to)B9(e,this.from.x,this.from.y,this.to.x,this.to.y,a);else{const[o,l,u]=this._getCircleData(e);this._circle(e,r,o,l,u)}this.enableShadow(e,r),e.stroke(),this.disableShadow(e,r)}}findBorderPosition(e,r,n){return this.from!=this.to?this._findBorderPosition(e,r,n):this._findBorderPositionCircle(e,r,n)}findBorderPositions(e){if(this.from!=this.to)return{from:this._findBorderPosition(this.from,e),to:this._findBorderPosition(this.to,e)};{var r;const[n,i]=pi(r=this._getCircleData(e)).call(r,0,2);return{from:this._findBorderPositionCircle(this.from,e,{x:n,y:i,low:.25,high:.6,direction:-1}),to:this._findBorderPositionCircle(this.from,e,{x:n,y:i,low:.6,high:.8,direction:1})}}}_getCircleData(e){const r=this.options.selfReference.size;e!==void 0&&this.from.shape.width===void 0&&this.from.shape.resize(e);const n=ZG(e,this.options.selfReference.angle,r,this.from);return[n.x,n.y,r]}_pointOnCircle(e,r,n,i){const s=i*2*Math.PI;return{x:e+n*Math.cos(s),y:r-n*Math.sin(s)}}_findBorderPositionCircle(e,r,n){const i=n.x,s=n.y;let a=n.low,o=n.high;const l=n.direction,u=10,c=this.options.selfReference.size,h=.05;let f,p=(a+o)*.5,m=0;this.options.arrowStrikethrough===!0&&(l===-1?m=this.options.endPointOffset.from:l===1&&(m=this.options.endPointOffset.to));let y=0;do{p=(a+o)*.5,f=this._pointOnCircle(i,s,c,p);const b=Math.atan2(e.y-f.y,e.x-f.x),g=e.distanceToBorder(r,b)+m,v=Math.sqrt(Math.pow(f.x-e.x,2)+Math.pow(f.y-e.y,2)),x=g-v;if(Math.abs(x)<h)break;x>0?l>0?a=p:o=p:l>0?o=p:a=p,++y}while(a<=o&&y<u);return VU(VU({},f),{},{t:p})}getLineWidth(e,r){return e===!0?Math.max(this.selectionWidth,.3/this._body.view.scale):r===!0?Math.max(this.hoverWidth,.3/this._body.view.scale):Math.max(this.options.width,.3/this._body.view.scale)}getColor(e,r){if(r.inheritsColor!==!1){if(r.inheritsColor==="both"&&this.from.id!==this.to.id){const n=e.createLinearGradient(this.from.x,this.from.y,this.to.x,this.to.y);let i=this.from.options.color.highlight.border,s=this.to.options.color.highlight.border;return this.from.selected===!1&&this.to.selected===!1?(i=On(this.from.options.color.border,r.opacity),s=On(this.to.options.color.border,r.opacity)):this.from.selected===!0&&this.to.selected===!1?s=this.to.options.color.border:this.from.selected===!1&&this.to.selected===!0&&(i=this.from.options.color.border),n.addColorStop(0,i),n.addColorStop(1,s),n}return r.inheritsColor==="to"?On(this.to.options.color.border,r.opacity):On(this.from.options.color.border,r.opacity)}else return On(r.color,r.opacity)}_circle(e,r,n,i,s){this.enableShadow(e,r);let a=0,o=Math.PI*2;if(!this.options.selfReference.renderBehindTheNode){const l=this.options.selfReference.angle,u=this.options.selfReference.angle+Math.PI,c=this._findBorderPositionCircle(this.from,e,{x:n,y:i,low:l,high:u,direction:-1}),h=this._findBorderPositionCircle(this.from,e,{x:n,y:i,low:l,high:u,direction:1});a=Math.atan2(c.y-i,c.x-n),o=Math.atan2(h.y-i,h.x-n)}e.beginPath(),e.arc(n,i,s,a,o,!1),e.stroke(),this.disableShadow(e,r)}getDistanceToEdge(e,r,n,i,s,a){if(this.from!=this.to)return this._getDistanceToEdge(e,r,n,i,s,a);{const[o,l,u]=this._getCircleData(void 0),c=o-s,h=l-a;return Math.abs(Math.sqrt(c*c+h*h)-u)}}_getDistanceToLine(e,r,n,i,s,a){const o=n-e,l=i-r,u=o*o+l*l;let c=((s-e)*o+(a-r)*l)/u;c>1?c=1:c<0&&(c=0);const h=e+c*o,f=r+c*l,p=h-s,m=f-a;return Math.sqrt(p*p+m*m)}getArrowData(e,r,n,i,s,a){let o,l,u,c,h,f,p;const m=a.width;r==="from"?(u=this.from,c=this.to,h=a.fromArrowScale<0,f=Math.abs(a.fromArrowScale),p=a.fromArrowType):r==="to"?(u=this.to,c=this.from,h=a.toArrowScale<0,f=Math.abs(a.toArrowScale),p=a.toArrowType):(u=this.to,c=this.from,h=a.middleArrowScale<0,f=Math.abs(a.middleArrowScale),p=a.middleArrowType);const y=15*f+3*m;if(u!=c){const x=wge(u.x-c.x,u.y-c.y),w=y/x;if(r!=="middle")if(this.options.smooth.enabled===!0){const _=this._findBorderPosition(u,e,{via:n}),E=this.getPoint(_.t+w*(r==="from"?1:-1),n);o=Math.atan2(_.y-E.y,_.x-E.x),l=_}else o=Math.atan2(u.y-c.y,u.x-c.x),l=this._findBorderPosition(u,e);else{const _=(h?-w:w)/2,E=this.getPoint(.5+_,n),O=this.getPoint(.5-_,n);o=Math.atan2(E.y-O.y,E.x-O.x),l=this.getPoint(.5,n)}}else{const[x,w,_]=this._getCircleData(e);if(r==="from"){const E=this.options.selfReference.angle,O=this.options.selfReference.angle+Math.PI,S=this._findBorderPositionCircle(this.from,e,{x,y:w,low:E,high:O,direction:-1});o=S.t*-2*Math.PI+1.5*Math.PI+.1*Math.PI,l=S}else if(r==="to"){const E=this.options.selfReference.angle,O=this.options.selfReference.angle+Math.PI,S=this._findBorderPositionCircle(this.from,e,{x,y:w,low:E,high:O,direction:1});o=S.t*-2*Math.PI+1.5*Math.PI-1.1*Math.PI,l=S}else{const E=this.options.selfReference.angle/(2*Math.PI);l=this._pointOnCircle(x,w,_,E),o=E*-2*Math.PI+1.5*Math.PI+.1*Math.PI}}const b=l.x-y*.9*Math.cos(o),g=l.y-y*.9*Math.sin(o);return{point:l,core:{x:b,y:g},angle:o,length:y,type:p}}drawArrowHead(e,r,n,i,s){e.strokeStyle=this.getColor(e,r),e.fillStyle=e.strokeStyle,e.lineWidth=r.width,tY.draw(e,s)&&(this.enableShadow(e,r),eh(e).call(e),this.disableShadow(e,r))}enableShadow(e,r){r.shadow===!0&&(e.shadowColor=r.shadowColor,e.shadowBlur=r.shadowSize,e.shadowOffsetX=r.shadowX,e.shadowOffsetY=r.shadowY)}disableShadow(e,r){r.shadow===!0&&(e.shadowColor="rgba(0,0,0,0)",e.shadowBlur=0,e.shadowOffsetX=0,e.shadowOffsetY=0)}drawBackground(e,r){if(r.background!==!1){const n={strokeStyle:e.strokeStyle,lineWidth:e.lineWidth,dashes:e.dashes};e.strokeStyle=r.backgroundColor,e.lineWidth=r.backgroundSize,this.setStrokeDashed(e,r.backgroundDashes),e.stroke(),e.strokeStyle=n.strokeStyle,e.lineWidth=n.lineWidth,e.dashes=n.dashes,this.setStrokeDashed(e,r.dashes)}}setStrokeDashed(e,r){if(r!==!1)if(e.setLineDash!==void 0){const n=Ot(r)?r:[5,5];e.setLineDash(n)}else console.warn("setLineDash is not supported in this browser. The dashed stroke cannot be used.");else e.setLineDash!==void 0?e.setLineDash([]):console.warn("setLineDash is not supported in this browser. The dashed stroke cannot be used.")}}function KU(t,e){var r=_t(t);if(na){var n=na(t);e&&(n=Ur(n).call(n,function(i){return pa(t,i).enumerable})),r.push.apply(r,n)}return r}function GU(t){for(var e=1;e<arguments.length;e++){var r,n,i=arguments[e]!=null?arguments[e]:{};e%2?Ge(r=KU(Object(i),!0)).call(r,function(s){qi(t,s,i[s])}):ia?om(t,ia(i)):Ge(n=KU(Object(i))).call(n,function(s){lm(t,s,pa(i,s))})}return t}class CI extends rY{constructor(e,r,n){super(e,r,n)}_findBorderPositionBezier(e,r){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this._getViaCoordinates();const i=10,s=.2;let a=!1,o=1,l=0,u=this.to,c,h,f=this.options.endPointOffset?this.options.endPointOffset.to:0;e.id===this.from.id&&(u=this.from,a=!0,f=this.options.endPointOffset?this.options.endPointOffset.from:0),this.options.arrowStrikethrough===!1&&(f=0);let p=0;do{h=(l+o)*.5,c=this.getPoint(h,n);const m=Math.atan2(u.y-c.y,u.x-c.x),y=u.distanceToBorder(r,m)+f,b=Math.sqrt(Math.pow(c.x-u.x,2)+Math.pow(c.y-u.y,2)),g=y-b;if(Math.abs(g)<s)break;g<0?a===!1?l=h:o=h:a===!1?o=h:l=h,++p}while(l<=o&&p<i);return GU(GU({},c),{},{t:h})}_getDistanceToBezierEdge(e,r,n,i,s,a,o){let l=1e9,u,c,h,f,p,m=e,y=r;for(c=1;c<10;c++)h=.1*c,f=Math.pow(1-h,2)*e+2*h*(1-h)*o.x+Math.pow(h,2)*n,p=Math.pow(1-h,2)*r+2*h*(1-h)*o.y+Math.pow(h,2)*i,c>0&&(u=this._getDistanceToLine(m,y,f,p,s,a),l=u<l?u:l),m=f,y=p;return l}_bezierCurve(e,r,n,i){e.beginPath(),e.moveTo(this.fromPoint.x,this.fromPoint.y),n!=null&&n.x!=null?i!=null&&i.x!=null?e.bezierCurveTo(n.x,n.y,i.x,i.y,this.toPoint.x,this.toPoint.y):e.quadraticCurveTo(n.x,n.y,this.toPoint.x,this.toPoint.y):e.lineTo(this.toPoint.x,this.toPoint.y),this.drawBackground(e,r),this.enableShadow(e,r),e.stroke(),this.disableShadow(e,r)}getViaNode(){return this._getViaCoordinates()}}class YU extends CI{constructor(e,r,n){super(e,r,n),qi(this,"via",this.via),this._boundFunction=()=>{this.positionBezierNode()},this._body.emitter.on("_repositionBezierNodes",this._boundFunction)}setOptions(e){super.setOptions(e);let r=!1;this.options.physics!==e.physics&&(r=!0),this.options=e,this.id=this.options.id,this.from=this._body.nodes[this.options.from],this.to=this._body.nodes[this.options.to],this.setupSupportNode(),this.connect(),r===!0&&(this.via.setOptions({physics:this.options.physics}),this.positionBezierNode())}connect(){this.from=this._body.nodes[this.options.from],this.to=this._body.nodes[this.options.to],this.from===void 0||this.to===void 0||this.options.physics===!1?this.via.setOptions({physics:!1}):this.from.id===this.to.id?this.via.setOptions({physics:!1}):this.via.setOptions({physics:!0})}cleanup(){return this._body.emitter.off("_repositionBezierNodes",this._boundFunction),this.via!==void 0?(delete this._body.nodes[this.via.id],this.via=void 0,!0):!1}setupSupportNode(){if(this.via===void 0){const e="edgeId:"+this.id,r=this._body.functions.createNode({id:e,shape:"circle",physics:!0,hidden:!0});this._body.nodes[e]=r,this.via=r,this.via.parentEdgeId=this.id,this.positionBezierNode()}}positionBezierNode(){this.via!==void 0&&this.from!==void 0&&this.to!==void 0?(this.via.x=.5*(this.from.x+this.to.x),this.via.y=.5*(this.from.y+this.to.y)):this.via!==void 0&&(this.via.x=0,this.via.y=0)}_line(e,r,n){this._bezierCurve(e,r,n)}_getViaCoordinates(){return this.via}getViaNode(){return this.via}getPoint(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.via;if(this.from===this.to){const[n,i,s]=this._getCircleData(),a=2*Math.PI*(1-e);return{x:n+s*Math.sin(a),y:i+s-s*(1-Math.cos(a))}}else return{x:Math.pow(1-e,2)*this.fromPoint.x+2*e*(1-e)*r.x+Math.pow(e,2)*this.toPoint.x,y:Math.pow(1-e,2)*this.fromPoint.y+2*e*(1-e)*r.y+Math.pow(e,2)*this.toPoint.y}}_findBorderPosition(e,r){return this._findBorderPositionBezier(e,r,this.via)}_getDistanceToEdge(e,r,n,i,s,a){return this._getDistanceToBezierEdge(e,r,n,i,s,a,this.via)}}class QU extends CI{constructor(e,r,n){super(e,r,n)}_line(e,r,n){this._bezierCurve(e,r,n)}getViaNode(){return this._getViaCoordinates()}_getViaCoordinates(){const e=this.options.smooth.roundness,r=this.options.smooth.type;let n=Math.abs(this.from.x-this.to.x),i=Math.abs(this.from.y-this.to.y);if(r==="discrete"||r==="diagonalCross"){let s,a;n<=i?s=a=e*i:s=a=e*n,this.from.x>this.to.x&&(s=-s),this.from.y>=this.to.y&&(a=-a);let o=this.from.x+s,l=this.from.y+a;return r==="discrete"&&(n<=i?o=n<e*i?this.from.x:o:l=i<e*n?this.from.y:l),{x:o,y:l}}else if(r==="straightCross"){let s=(1-e)*n,a=(1-e)*i;return n<=i?(s=0,this.from.y<this.to.y&&(a=-a)):(this.from.x<this.to.x&&(s=-s),a=0),{x:this.to.x+s,y:this.to.y+a}}else if(r==="horizontal"){let s=(1-e)*n;return this.from.x<this.to.x&&(s=-s),{x:this.to.x+s,y:this.from.y}}else if(r==="vertical"){let s=(1-e)*i;return this.from.y<this.to.y&&(s=-s),{x:this.from.x,y:this.to.y+s}}else if(r==="curvedCW"){n=this.to.x-this.from.x,i=this.from.y-this.to.y;const s=Math.sqrt(n*n+i*i),a=Math.PI,l=(Math.atan2(i,n)+(e*.5+.5)*a)%(2*a);return{x:this.from.x+(e*.5+.5)*s*Math.sin(l),y:this.from.y+(e*.5+.5)*s*Math.cos(l)}}else if(r==="curvedCCW"){n=this.to.x-this.from.x,i=this.from.y-this.to.y;const s=Math.sqrt(n*n+i*i),a=Math.PI,l=(Math.atan2(i,n)+(-e*.5+.5)*a)%(2*a);return{x:this.from.x+(e*.5+.5)*s*Math.sin(l),y:this.from.y+(e*.5+.5)*s*Math.cos(l)}}else{let s,a;n<=i?s=a=e*i:s=a=e*n,this.from.x>this.to.x&&(s=-s),this.from.y>=this.to.y&&(a=-a);let o=this.from.x+s,l=this.from.y+a;return n<=i?this.from.x<=this.to.x?o=this.to.x<o?this.to.x:o:o=this.to.x>o?this.to.x:o:this.from.y>=this.to.y?l=this.to.y>l?this.to.y:l:l=this.to.y<l?this.to.y:l,{x:o,y:l}}}_findBorderPosition(e,r){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this._findBorderPositionBezier(e,r,n.via)}_getDistanceToEdge(e,r,n,i,s,a){let o=arguments.length>6&&arguments[6]!==void 0?arguments[6]:this._getViaCoordinates();return this._getDistanceToBezierEdge(e,r,n,i,s,a,o)}getPoint(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this._getViaCoordinates();const n=e,i=Math.pow(1-n,2)*this.fromPoint.x+2*n*(1-n)*r.x+Math.pow(n,2)*this.toPoint.x,s=Math.pow(1-n,2)*this.fromPoint.y+2*n*(1-n)*r.y+Math.pow(n,2)*this.toPoint.y;return{x:i,y:s}}}class jge extends CI{constructor(e,r,n){super(e,r,n)}_getDistanceToBezierEdge2(e,r,n,i,s,a,o,l){let u=1e9,c=e,h=r;const f=[0,0,0,0];for(let p=1;p<10;p++){const m=.1*p;f[0]=Math.pow(1-m,3),f[1]=3*m*Math.pow(1-m,2),f[2]=3*Math.pow(m,2)*(1-m),f[3]=Math.pow(m,3);const y=f[0]*e+f[1]*o.x+f[2]*l.x+f[3]*n,b=f[0]*r+f[1]*o.y+f[2]*l.y+f[3]*i;if(p>0){const g=this._getDistanceToLine(c,h,y,b,s,a);u=g<u?g:u}c=y,h=b}return u}}class XU extends jge{constructor(e,r,n){super(e,r,n)}_line(e,r,n){const i=n[0],s=n[1];this._bezierCurve(e,r,i,s)}_getViaCoordinates(){const e=this.from.x-this.to.x,r=this.from.y-this.to.y;let n,i,s,a;const o=this.options.smooth.roundness;return(Math.abs(e)>Math.abs(r)||this.options.smooth.forceDirection===!0||this.options.smooth.forceDirection==="horizontal")&&this.options.smooth.forceDirection!=="vertical"?(i=this.from.y,a=this.to.y,n=this.from.x-o*e,s=this.to.x+o*e):(i=this.from.y-o*r,a=this.to.y+o*r,n=this.from.x,s=this.to.x),[{x:n,y:i},{x:s,y:a}]}getViaNode(){return this._getViaCoordinates()}_findBorderPosition(e,r){return this._findBorderPositionBezier(e,r)}_getDistanceToEdge(e,r,n,i,s,a){let[o,l]=arguments.length>6&&arguments[6]!==void 0?arguments[6]:this._getViaCoordinates();return this._getDistanceToBezierEdge2(e,r,n,i,s,a,o,l)}getPoint(e){let[r,n]=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this._getViaCoordinates();const i=e,s=[Math.pow(1-i,3),3*i*Math.pow(1-i,2),3*Math.pow(i,2)*(1-i),Math.pow(i,3)],a=s[0]*this.fromPoint.x+s[1]*r.x+s[2]*n.x+s[3]*this.toPoint.x,o=s[0]*this.fromPoint.y+s[1]*r.y+s[2]*n.y+s[3]*this.toPoint.y;return{x:a,y:o}}}class JU extends rY{constructor(e,r,n){super(e,r,n)}_line(e,r){e.beginPath(),e.moveTo(this.fromPoint.x,this.fromPoint.y),e.lineTo(this.toPoint.x,this.toPoint.y),this.enableShadow(e,r),e.stroke(),this.disableShadow(e,r)}getViaNode(){}getPoint(e){return{x:(1-e)*this.fromPoint.x+e*this.toPoint.x,y:(1-e)*this.fromPoint.y+e*this.toPoint.y}}_findBorderPosition(e,r){let n=this.to,i=this.from;e.id===this.from.id&&(n=this.from,i=this.to);const s=Math.atan2(n.y-i.y,n.x-i.x),a=n.x-i.x,o=n.y-i.y,l=Math.sqrt(a*a+o*o),u=e.distanceToBorder(r,s),c=(l-u)/l;return{x:(1-c)*i.x+c*n.x,y:(1-c)*i.y+c*n.y,t:0}}_getDistanceToEdge(e,r,n,i,s,a){return this._getDistanceToLine(e,r,n,i,s,a)}}class Xs{constructor(e,r,n,i,s){if(r===void 0)throw new Error("No body provided");this.options=Qs(i),this.globalOptions=i,this.defaultOptions=s,this.body=r,this.imagelist=n,this.id=void 0,this.fromId=void 0,this.toId=void 0,this.selected=!1,this.hover=!1,this.labelDirty=!0,this.baseWidth=this.options.width,this.baseFontSize=this.options.font.size,this.from=void 0,this.to=void 0,this.edgeType=void 0,this.connected=!1,this.labelModule=new yl(this.body,this.options,!0),this.setOptions(e)}setOptions(e){if(!e)return;let r=typeof e.physics<"u"&&this.options.physics!==e.physics||typeof e.hidden<"u"&&(this.options.hidden||!1)!==(e.hidden||!1)||typeof e.from<"u"&&this.options.from!==e.from||typeof e.to<"u"&&this.options.to!==e.to;Xs.parseOptions(this.options,e,!0,this.globalOptions),e.id!==void 0&&(this.id=e.id),e.from!==void 0&&(this.fromId=e.from),e.to!==void 0&&(this.toId=e.to),e.title!==void 0&&(this.title=e.title),e.value!==void 0&&(e.value=JG(e.value));const n=[e,this.options,this.defaultOptions];return this.chooser=OI("edge",n),this.updateLabelModule(e),r=this.updateEdgeType()||r,this._setInteractionWidths(),this.connect(),r}static parseOptions(e,r){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1;if(Fu(["endPointOffset","arrowStrikethrough","id","from","hidden","hoverWidth","labelHighlightBold","length","line","opacity","physics","scaling","selectionWidth","selfReferenceSize","selfReference","to","title","value","width","font","chosen","widthConstraint"],e,r,n),r.endPointOffset!==void 0&&r.endPointOffset.from!==void 0&&(Na(r.endPointOffset.from)?e.endPointOffset.from=r.endPointOffset.from:(e.endPointOffset.from=i.endPointOffset.from!==void 0?i.endPointOffset.from:0,console.error("endPointOffset.from is not a valid number"))),r.endPointOffset!==void 0&&r.endPointOffset.to!==void 0&&(Na(r.endPointOffset.to)?e.endPointOffset.to=r.endPointOffset.to:(e.endPointOffset.to=i.endPointOffset.to!==void 0?i.endPointOffset.to:0,console.error("endPointOffset.to is not a valid number"))),Zf(r.label)?e.label=r.label:Zf(e.label)||(e.label=void 0),_n(e,r,"smooth",i),_n(e,r,"shadow",i),_n(e,r,"background",i),r.dashes!==void 0&&r.dashes!==null?e.dashes=r.dashes:n===!0&&r.dashes===null&&(e.dashes=Ka(i.dashes)),r.scaling!==void 0&&r.scaling!==null?(r.scaling.min!==void 0&&(e.scaling.min=r.scaling.min),r.scaling.max!==void 0&&(e.scaling.max=r.scaling.max),_n(e.scaling,r.scaling,"label",i.scaling)):n===!0&&r.scaling===null&&(e.scaling=Ka(i.scaling)),r.arrows!==void 0&&r.arrows!==null)if(typeof r.arrows=="string"){const o=r.arrows.toLowerCase();e.arrows.to.enabled=Ue(o).call(o,"to")!=-1,e.arrows.middle.enabled=Ue(o).call(o,"middle")!=-1,e.arrows.from.enabled=Ue(o).call(o,"from")!=-1}else if(typeof r.arrows=="object")_n(e.arrows,r.arrows,"to",i.arrows),_n(e.arrows,r.arrows,"middle",i.arrows),_n(e.arrows,r.arrows,"from",i.arrows);else throw new Error("The arrow newOptions can only be an object or a string. Refer to the documentation. You used:"+Zd(r.arrows));else n===!0&&r.arrows===null&&(e.arrows=Ka(i.arrows));if(r.color!==void 0&&r.color!==null){const o=vl(r.color)?{color:r.color,highlight:r.color,hover:r.color,inherit:!1,opacity:1}:r.color,l=e.color;if(s)et(l,i.color,!1,n);else for(const u in l)Object.prototype.hasOwnProperty.call(l,u)&&delete l[u];if(vl(l))l.color=l,l.highlight=l,l.hover=l,l.inherit=!1,o.opacity===void 0&&(l.opacity=1);else{let u=!1;o.color!==void 0&&(l.color=o.color,u=!0),o.highlight!==void 0&&(l.highlight=o.highlight,u=!0),o.hover!==void 0&&(l.hover=o.hover,u=!0),o.inherit!==void 0&&(l.inherit=o.inherit),o.opacity!==void 0&&(l.opacity=Math.min(1,Math.max(0,o.opacity))),u===!0?l.inherit=!1:l.inherit===void 0&&(l.inherit="from")}}else n===!0&&r.color===null&&(e.color=Qs(i.color));n===!0&&r.font===null&&(e.font=Qs(i.font)),Object.prototype.hasOwnProperty.call(r,"selfReferenceSize")&&(console.warn("The selfReferenceSize property has been deprecated. Please use selfReference property instead. The selfReference can be set like thise selfReference:{size:30, angle:Math.PI / 4}"),e.selfReference.size=r.selfReferenceSize)}getFormattingValues(){const e=this.options.arrows.to===!0||this.options.arrows.to.enabled===!0,r=this.options.arrows.from===!0||this.options.arrows.from.enabled===!0,n=this.options.arrows.middle===!0||this.options.arrows.middle.enabled===!0,i=this.options.color.inherit,s={toArrow:e,toArrowScale:this.options.arrows.to.scaleFactor,toArrowType:this.options.arrows.to.type,toArrowSrc:this.options.arrows.to.src,toArrowImageWidth:this.options.arrows.to.imageWidth,toArrowImageHeight:this.options.arrows.to.imageHeight,middleArrow:n,middleArrowScale:this.options.arrows.middle.scaleFactor,middleArrowType:this.options.arrows.middle.type,middleArrowSrc:this.options.arrows.middle.src,middleArrowImageWidth:this.options.arrows.middle.imageWidth,middleArrowImageHeight:this.options.arrows.middle.imageHeight,fromArrow:r,fromArrowScale:this.options.arrows.from.scaleFactor,fromArrowType:this.options.arrows.from.type,fromArrowSrc:this.options.arrows.from.src,fromArrowImageWidth:this.options.arrows.from.imageWidth,fromArrowImageHeight:this.options.arrows.from.imageHeight,arrowStrikethrough:this.options.arrowStrikethrough,color:i?void 0:this.options.color.color,inheritsColor:i,opacity:this.options.color.opacity,hidden:this.options.hidden,length:this.options.length,shadow:this.options.shadow.enabled,shadowColor:this.options.shadow.color,shadowSize:this.options.shadow.size,shadowX:this.options.shadow.x,shadowY:this.options.shadow.y,dashes:this.options.dashes,width:this.options.width,background:this.options.background.enabled,backgroundColor:this.options.background.color,backgroundSize:this.options.background.size,backgroundDashes:this.options.background.dashes};if(this.selected||this.hover)if(this.chooser===!0){if(this.selected){const a=this.options.selectionWidth;typeof a=="function"?s.width=a(s.width):typeof a=="number"&&(s.width+=a),s.width=Math.max(s.width,.3/this.body.view.scale),s.color=this.options.color.highlight,s.shadow=this.options.shadow.enabled}else if(this.hover){const a=this.options.hoverWidth;typeof a=="function"?s.width=a(s.width):typeof a=="number"&&(s.width+=a),s.width=Math.max(s.width,.3/this.body.view.scale),s.color=this.options.color.hover,s.shadow=this.options.shadow.enabled}}else typeof this.chooser=="function"&&(this.chooser(s,this.options.id,this.selected,this.hover),s.color!==void 0&&(s.inheritsColor=!1),s.shadow===!1&&(s.shadowColor!==this.options.shadow.color||s.shadowSize!==this.options.shadow.size||s.shadowX!==this.options.shadow.x||s.shadowY!==this.options.shadow.y)&&(s.shadow=!0));else s.shadow=this.options.shadow.enabled,s.width=Math.max(s.width,.3/this.body.view.scale);return s}updateLabelModule(e){const r=[e,this.options,this.globalOptions,this.defaultOptions];this.labelModule.update(this.options,r),this.labelModule.baseSize!==void 0&&(this.baseFontSize=this.labelModule.baseSize)}updateEdgeType(){const e=this.options.smooth;let r=!1,n=!0;return this.edgeType!==void 0&&((this.edgeType instanceof YU&&e.enabled===!0&&e.type==="dynamic"||this.edgeType instanceof XU&&e.enabled===!0&&e.type==="cubicBezier"||this.edgeType instanceof QU&&e.enabled===!0&&e.type!=="dynamic"&&e.type!=="cubicBezier"||this.edgeType instanceof JU&&e.type.enabled===!1)&&(n=!1),n===!0&&(r=this.cleanup())),n===!0?e.enabled===!0?e.type==="dynamic"?(r=!0,this.edgeType=new YU(this.options,this.body,this.labelModule)):e.type==="cubicBezier"?this.edgeType=new XU(this.options,this.body,this.labelModule):this.edgeType=new QU(this.options,this.body,this.labelModule):this.edgeType=new JU(this.options,this.body,this.labelModule):this.edgeType.setOptions(this.options),r}connect(){this.disconnect(),this.from=this.body.nodes[this.fromId]||void 0,this.to=this.body.nodes[this.toId]||void 0,this.connected=this.from!==void 0&&this.to!==void 0,this.connected===!0?(this.from.attachEdge(this),this.to.attachEdge(this)):(this.from&&this.from.detachEdge(this),this.to&&this.to.detachEdge(this)),this.edgeType.connect()}disconnect(){this.from&&(this.from.detachEdge(this),this.from=void 0),this.to&&(this.to.detachEdge(this),this.to=void 0),this.connected=!1}getTitle(){return this.title}isSelected(){return this.selected}getValue(){return this.options.value}setValueRange(e,r,n){if(this.options.value!==void 0){const i=this.options.scaling.customScalingFunction(e,r,n,this.options.value),s=this.options.scaling.max-this.options.scaling.min;if(this.options.scaling.label.enabled===!0){const a=this.options.scaling.label.max-this.options.scaling.label.min;this.options.font.size=this.options.scaling.label.min+i*a}this.options.width=this.options.scaling.min+i*s}else this.options.width=this.baseWidth,this.options.font.size=this.baseFontSize;this._setInteractionWidths(),this.updateLabelModule()}_setInteractionWidths(){typeof this.options.hoverWidth=="function"?this.edgeType.hoverWidth=this.options.hoverWidth(this.options.width):this.edgeType.hoverWidth=this.options.hoverWidth+this.options.width,typeof this.options.selectionWidth=="function"?this.edgeType.selectionWidth=this.options.selectionWidth(this.options.width):this.edgeType.selectionWidth=this.options.selectionWidth+this.options.width}draw(e){const r=this.getFormattingValues();if(r.hidden)return;const n=this.edgeType.getViaNode();this.edgeType.drawLine(e,r,this.selected,this.hover,n),this.drawLabel(e,n)}drawArrows(e){const r=this.getFormattingValues();if(r.hidden)return;const n=this.edgeType.getViaNode(),i={};this.edgeType.fromPoint=this.edgeType.from,this.edgeType.toPoint=this.edgeType.to,r.fromArrow&&(i.from=this.edgeType.getArrowData(e,"from",n,this.selected,this.hover,r),r.arrowStrikethrough===!1&&(this.edgeType.fromPoint=i.from.core),r.fromArrowSrc&&(i.from.image=this.imagelist.load(r.fromArrowSrc)),r.fromArrowImageWidth&&(i.from.imageWidth=r.fromArrowImageWidth),r.fromArrowImageHeight&&(i.from.imageHeight=r.fromArrowImageHeight)),r.toArrow&&(i.to=this.edgeType.getArrowData(e,"to",n,this.selected,this.hover,r),r.arrowStrikethrough===!1&&(this.edgeType.toPoint=i.to.core),r.toArrowSrc&&(i.to.image=this.imagelist.load(r.toArrowSrc)),r.toArrowImageWidth&&(i.to.imageWidth=r.toArrowImageWidth),r.toArrowImageHeight&&(i.to.imageHeight=r.toArrowImageHeight)),r.middleArrow&&(i.middle=this.edgeType.getArrowData(e,"middle",n,this.selected,this.hover,r),r.middleArrowSrc&&(i.middle.image=this.imagelist.load(r.middleArrowSrc)),r.middleArrowImageWidth&&(i.middle.imageWidth=r.middleArrowImageWidth),r.middleArrowImageHeight&&(i.middle.imageHeight=r.middleArrowImageHeight)),r.fromArrow&&this.edgeType.drawArrowHead(e,r,this.selected,this.hover,i.from),r.middleArrow&&this.edgeType.drawArrowHead(e,r,this.selected,this.hover,i.middle),r.toArrow&&this.edgeType.drawArrowHead(e,r,this.selected,this.hover,i.to)}drawLabel(e,r){if(this.options.label!==void 0){const n=this.from,i=this.to;this.labelModule.differentState(this.selected,this.hover)&&this.labelModule.getTextSize(e,this.selected,this.hover);let s;if(n.id!=i.id){this.labelModule.pointToSelf=!1,s=this.edgeType.getPoint(.5,r),e.save();const a=this._getRotation(e);a.angle!=0&&(e.translate(a.x,a.y),e.rotate(a.angle)),this.labelModule.draw(e,s.x,s.y,this.selected,this.hover),e.restore()}else{this.labelModule.pointToSelf=!0;const a=ZG(e,this.options.selfReference.angle,this.options.selfReference.size,n);s=this._pointOnCircle(a.x,a.y,this.options.selfReference.size,this.options.selfReference.angle),this.labelModule.draw(e,s.x,s.y,this.selected,this.hover)}}}getItemsOnPoint(e){const r=[];if(this.labelModule.visible()){const i=this._getRotation();nC(this.labelModule.getSize(),e,i)&&r.push({edgeId:this.id,labelId:0})}const n={left:e.x,top:e.y};return this.isOverlappingWith(n)&&r.push({edgeId:this.id}),r}isOverlappingWith(e){if(this.connected){const n=this.from.x,i=this.from.y,s=this.to.x,a=this.to.y,o=e.left,l=e.top;return this.edgeType.getDistanceToEdge(n,i,s,a,o,l)<10}else return!1}_getRotation(e){const r=this.edgeType.getViaNode(),n=this.edgeType.getPoint(.5,r);e!==void 0&&this.labelModule.calculateLabelSize(e,this.selected,this.hover,n.x,n.y);const i={x:n.x,y:this.labelModule.size.yLine,angle:0};if(!this.labelModule.visible()||this.options.font.align==="horizontal")return i;const s=this.from.y-this.to.y,a=this.from.x-this.to.x;let o=Math.atan2(s,a);return(o<-1&&a<0||o>0&&a<0)&&(o+=Math.PI),i.angle=o,i}_pointOnCircle(e,r,n,i){return{x:e+n*Math.cos(i),y:r-n*Math.sin(i)}}select(){this.selected=!0}unselect(){this.selected=!1}cleanup(){return this.edgeType.cleanup()}remove(){this.cleanup(),this.disconnect(),delete this.body.edges[this.id]}endPointsValid(){return this.body.nodes[this.fromId]!==void 0&&this.body.nodes[this.toId]!==void 0}}class kge{constructor(e,r,n){var i;this.body=e,this.images=r,this.groups=n,this.body.functions.createEdge=ee(i=this.create).call(i,this),this.edgesListeners={add:(s,a)=>{this.add(a.items)},update:(s,a)=>{this.update(a.items)},remove:(s,a)=>{this.remove(a.items)}},this.options={},this.defaultOptions={arrows:{to:{enabled:!1,scaleFactor:1,type:"arrow"},middle:{enabled:!1,scaleFactor:1,type:"arrow"},from:{enabled:!1,scaleFactor:1,type:"arrow"}},endPointOffset:{from:0,to:0},arrowStrikethrough:!0,color:{color:"#848484",highlight:"#848484",hover:"#848484",inherit:"from",opacity:1},dashes:!1,font:{color:"#343434",size:14,face:"arial",background:"none",strokeWidth:2,strokeColor:"#ffffff",align:"horizontal",multi:!1,vadjust:0,bold:{mod:"bold"},boldital:{mod:"bold italic"},ital:{mod:"italic"},mono:{mod:"",size:15,face:"courier new",vadjust:2}},hidden:!1,hoverWidth:1.5,label:void 0,labelHighlightBold:!0,length:void 0,physics:!0,scaling:{min:1,max:15,label:{enabled:!0,min:14,max:30,maxVisible:30,drawThreshold:5},customScalingFunction:function(s,a,o,l){if(a===s)return .5;{const u=1/(a-s);return Math.max(0,(l-s)*u)}}},selectionWidth:1.5,selfReference:{size:20,angle:Math.PI/4,renderBehindTheNode:!0},shadow:{enabled:!1,color:"rgba(0,0,0,0.5)",size:10,x:5,y:5},background:{enabled:!1,color:"rgba(111,111,111,1)",size:10,dashes:!1},smooth:{enabled:!0,type:"dynamic",forceDirection:"none",roundness:.5},title:void 0,width:1,value:void 0},et(this.options,this.defaultOptions),this.bindEventListeners()}bindEventListeners(){var e=this,r,n;this.body.emitter.on("_forceDisableDynamicCurves",function(i){let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;i==="dynamic"&&(i="continuous");let a=!1;for(const o in e.body.edges)if(Object.prototype.hasOwnProperty.call(e.body.edges,o)){const l=e.body.edges[o],u=e.body.data.edges.get(o);if(u!=null){const c=u.smooth;c!==void 0&&c.enabled===!0&&c.type==="dynamic"&&(i===void 0?l.setOptions({smooth:!1}):l.setOptions({smooth:{type:i}}),a=!0)}}s===!0&&a===!0&&e.body.emitter.emit("_dataChanged")}),this.body.emitter.on("_dataUpdated",()=>{this.reconnectEdges()}),this.body.emitter.on("refreshEdges",ee(r=this.refresh).call(r,this)),this.body.emitter.on("refresh",ee(n=this.refresh).call(n,this)),this.body.emitter.on("destroy",()=>{Re(this.edgesListeners,(i,s)=>{this.body.data.edges&&this.body.data.edges.off(s,i)}),delete this.body.functions.createEdge,delete this.edgesListeners.add,delete this.edgesListeners.update,delete this.edgesListeners.remove,delete this.edgesListeners})}setOptions(e){if(e!==void 0){Xs.parseOptions(this.options,e,!0,this.defaultOptions,!0);let r=!1;if(e.smooth!==void 0)for(const n in this.body.edges)Object.prototype.hasOwnProperty.call(this.body.edges,n)&&(r=this.body.edges[n].updateEdgeType()||r);if(e.font!==void 0)for(const n in this.body.edges)Object.prototype.hasOwnProperty.call(this.body.edges,n)&&this.body.edges[n].updateLabelModule();(e.hidden!==void 0||e.physics!==void 0||r===!0)&&this.body.emitter.emit("_dataChanged")}}setData(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;const n=this.body.data.edges;if(R9("id",e))this.body.data.edges=e;else if(Ot(e))this.body.data.edges=new Jl,this.body.data.edges.add(e);else if(!e)this.body.data.edges=new Jl;else throw new TypeError("Array or DataSet expected");if(n&&Re(this.edgesListeners,(i,s)=>{n.off(s,i)}),this.body.edges={},this.body.data.edges){Re(this.edgesListeners,(s,a)=>{this.body.data.edges.on(a,s)});const i=this.body.data.edges.getIds();this.add(i,!0)}this.body.emitter.emit("_adjustEdgesForHierarchicalLayout"),r===!1&&this.body.emitter.emit("_dataChanged")}add(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;const n=this.body.edges,i=this.body.data.edges;for(let s=0;s<e.length;s++){const a=e[s],o=n[a];o&&o.disconnect();const l=i.get(a,{showInternalIds:!0});n[a]=this.create(l)}this.body.emitter.emit("_adjustEdgesForHierarchicalLayout"),r===!1&&this.body.emitter.emit("_dataChanged")}update(e){const r=this.body.edges,n=this.body.data.edges;let i=!1;for(let s=0;s<e.length;s++){const a=e[s],o=n.get(a),l=r[a];l!==void 0?(l.disconnect(),i=l.setOptions(o)||i,l.connect()):(this.body.edges[a]=this.create(o),i=!0)}i===!0?(this.body.emitter.emit("_adjustEdgesForHierarchicalLayout"),this.body.emitter.emit("_dataChanged")):this.body.emitter.emit("_dataUpdated")}remove(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(e.length===0)return;const n=this.body.edges;Re(e,i=>{const s=n[i];s!==void 0&&s.remove()}),r&&this.body.emitter.emit("_dataChanged")}refresh(){Re(this.body.edges,(e,r)=>{const n=this.body.data.edges.get(r);n!==void 0&&e.setOptions(n)})}create(e){return new Xs(e,this.body,this.images,this.options,this.defaultOptions)}reconnectEdges(){let e;const r=this.body.nodes,n=this.body.edges;for(e in r)Object.prototype.hasOwnProperty.call(r,e)&&(r[e].edges=[]);for(e in n)if(Object.prototype.hasOwnProperty.call(n,e)){const i=n[e];i.from=null,i.to=null,i.connect()}}getConnectedNodes(e){const r=[];if(this.body.edges[e]!==void 0){const n=this.body.edges[e];n.fromId!==void 0&&r.push(n.fromId),n.toId!==void 0&&r.push(n.toId)}return r}_updateState(){this._addMissingEdges(),this._removeInvalidEdges()}_removeInvalidEdges(){const e=[];Re(this.body.edges,(r,n)=>{const i=this.body.nodes[r.toId],s=this.body.nodes[r.fromId];i!==void 0&&i.isCluster===!0||s!==void 0&&s.isCluster===!0||(i===void 0||s===void 0)&&e.push(n)}),this.remove(e,!1)}_addMissingEdges(){const e=this.body.data.edges;if(e==null)return;const r=this.body.edges,n=[];Ge(e).call(e,(i,s)=>{r[s]===void 0&&n.push(s)}),this.add(n,!0)}}class nY{constructor(e,r,n){this.body=e,this.physicsBody=r,this.barnesHutTree,this.setOptions(n),this._rng=im("BARNES HUT SOLVER")}setOptions(e){this.options=e,this.thetaInversed=1/this.options.theta,this.overlapAvoidanceFactor=1-Math.max(0,Math.min(1,this.options.avoidOverlap))}solve(){if(this.options.gravitationalConstant!==0&&this.physicsBody.physicsNodeIndices.length>0){let e;const r=this.body.nodes,n=this.physicsBody.physicsNodeIndices,i=n.length,s=this._formBarnesHutTree(r,n);this.barnesHutTree=s;for(let a=0;a<i;a++)e=r[n[a]],e.options.mass>0&&this._getForceContributions(s.root,e)}}_getForceContributions(e,r){this._getForceContribution(e.children.NW,r),this._getForceContribution(e.children.NE,r),this._getForceContribution(e.children.SW,r),this._getForceContribution(e.children.SE,r)}_getForceContribution(e,r){if(e.childrenCount>0){const n=e.centerOfMass.x-r.x,i=e.centerOfMass.y-r.y,s=Math.sqrt(n*n+i*i);s*e.calcSize>this.thetaInversed?this._calculateForces(s,n,i,r,e):e.childrenCount===4?this._getForceContributions(e,r):e.children.data.id!=r.id&&this._calculateForces(s,n,i,r,e)}}_calculateForces(e,r,n,i,s){e===0&&(e=.1,r=e),this.overlapAvoidanceFactor<1&&i.shape.radius&&(e=Math.max(.1+this.overlapAvoidanceFactor*i.shape.radius,e-i.shape.radius));const a=this.options.gravitationalConstant*s.mass*i.options.mass/Math.pow(e,3),o=r*a,l=n*a;this.physicsBody.forces[i.id].x+=o,this.physicsBody.forces[i.id].y+=l}_formBarnesHutTree(e,r){let n;const i=r.length;let s=e[r[0]].x,a=e[r[0]].y,o=e[r[0]].x,l=e[r[0]].y;for(let b=1;b<i;b++){const g=e[r[b]],v=g.x,x=g.y;g.options.mass>0&&(v<s&&(s=v),v>o&&(o=v),x<a&&(a=x),x>l&&(l=x))}const u=Math.abs(o-s)-Math.abs(l-a);u>0?(a-=.5*u,l+=.5*u):(s+=.5*u,o-=.5*u);const h=Math.max(1e-5,Math.abs(o-s)),f=.5*h,p=.5*(s+o),m=.5*(a+l),y={root:{centerOfMass:{x:0,y:0},mass:0,range:{minX:p-f,maxX:p+f,minY:m-f,maxY:m+f},size:h,calcSize:1/h,children:{data:null},maxWidth:0,level:0,childrenCount:4}};this._splitBranch(y.root);for(let b=0;b<i;b++)n=e[r[b]],n.options.mass>0&&this._placeInTree(y.root,n);return y}_updateBranchMass(e,r){const n=e.centerOfMass,i=e.mass+r.options.mass,s=1/i;n.x=n.x*e.mass+r.x*r.options.mass,n.x*=s,n.y=n.y*e.mass+r.y*r.options.mass,n.y*=s,e.mass=i;const a=Math.max(Math.max(r.height,r.radius),r.width);e.maxWidth=e.maxWidth<a?a:e.maxWidth}_placeInTree(e,r,n){(n!=!0||n===void 0)&&this._updateBranchMass(e,r);const i=e.children.NW.range;let s;i.maxX>r.x?i.maxY>r.y?s="NW":s="SW":i.maxY>r.y?s="NE":s="SE",this._placeInRegion(e,r,s)}_placeInRegion(e,r,n){const i=e.children[n];switch(i.childrenCount){case 0:i.children.data=r,i.childrenCount=1,this._updateBranchMass(i,r);break;case 1:i.children.data.x===r.x&&i.children.data.y===r.y?(r.x+=this._rng(),r.y+=this._rng()):(this._splitBranch(i),this._placeInTree(i,r));break;case 4:this._placeInTree(i,r);break}}_splitBranch(e){let r=null;e.childrenCount===1&&(r=e.children.data,e.mass=0,e.centerOfMass.x=0,e.centerOfMass.y=0),e.childrenCount=4,e.children.data=null,this._insertRegion(e,"NW"),this._insertRegion(e,"NE"),this._insertRegion(e,"SW"),this._insertRegion(e,"SE"),r!=null&&this._placeInTree(e,r)}_insertRegion(e,r){let n,i,s,a;const o=.5*e.size;switch(r){case"NW":n=e.range.minX,i=e.range.minX+o,s=e.range.minY,a=e.range.minY+o;break;case"NE":n=e.range.minX+o,i=e.range.maxX,s=e.range.minY,a=e.range.minY+o;break;case"SW":n=e.range.minX,i=e.range.minX+o,s=e.range.minY+o,a=e.range.maxY;break;case"SE":n=e.range.minX+o,i=e.range.maxX,s=e.range.minY+o,a=e.range.maxY;break}e.children[r]={centerOfMass:{x:0,y:0},mass:0,range:{minX:n,maxX:i,minY:s,maxY:a},size:.5*e.size,calcSize:2*e.calcSize,children:{data:null},maxWidth:0,level:e.level+1,childrenCount:0}}_debug(e,r){this.barnesHutTree!==void 0&&(e.lineWidth=1,this._drawBranch(this.barnesHutTree.root,e,r))}_drawBranch(e,r,n){n===void 0&&(n="#FF0000"),e.childrenCount===4&&(this._drawBranch(e.children.NW,r),this._drawBranch(e.children.NE,r),this._drawBranch(e.children.SE,r),this._drawBranch(e.children.SW,r)),r.strokeStyle=n,r.beginPath(),r.moveTo(e.range.minX,e.range.minY),r.lineTo(e.range.maxX,e.range.minY),r.stroke(),r.beginPath(),r.moveTo(e.range.maxX,e.range.minY),r.lineTo(e.range.maxX,e.range.maxY),r.stroke(),r.beginPath(),r.moveTo(e.range.maxX,e.range.maxY),r.lineTo(e.range.minX,e.range.maxY),r.stroke(),r.beginPath(),r.moveTo(e.range.minX,e.range.maxY),r.lineTo(e.range.minX,e.range.minY),r.stroke()}}class Dge{constructor(e,r,n){this._rng=im("REPULSION SOLVER"),this.body=e,this.physicsBody=r,this.setOptions(n)}setOptions(e){this.options=e}solve(){let e,r,n,i,s,a,o,l;const u=this.body.nodes,c=this.physicsBody.physicsNodeIndices,h=this.physicsBody.forces,f=this.options.nodeDistance,p=-2/3/f,m=4/3;for(let y=0;y<c.length-1;y++){o=u[c[y]];for(let b=y+1;b<c.length;b++)l=u[c[b]],e=l.x-o.x,r=l.y-o.y,n=Math.sqrt(e*e+r*r),n===0&&(n=.1*this._rng(),e=n),n<2*f&&(n<.5*f?a=1:a=p*n+m,a=a/n,i=e*a,s=r*a,h[o.id].x-=i,h[o.id].y-=s,h[l.id].x+=i,h[l.id].y+=s)}}}class qge{constructor(e,r,n){this.body=e,this.physicsBody=r,this.setOptions(n)}setOptions(e){this.options=e,this.overlapAvoidanceFactor=Math.max(0,Math.min(1,this.options.avoidOverlap||0))}solve(){const e=this.body.nodes,r=this.physicsBody.physicsNodeIndices,n=this.physicsBody.forces,i=this.options.nodeDistance;for(let s=0;s<r.length-1;s++){const a=e[r[s]];for(let o=s+1;o<r.length;o++){const l=e[r[o]];if(a.level===l.level){const u=i+this.overlapAvoidanceFactor*((a.shape.radius||0)/2+(l.shape.radius||0)/2),c=l.x-a.x,h=l.y-a.y,f=Math.sqrt(c*c+h*h),p=.05;let m;f<u?m=-Math.pow(p*f,2)+Math.pow(p*u,2):m=0,f!==0&&(m=m/f);const y=c*m,b=h*m;n[a.id].x-=y,n[a.id].y-=b,n[l.id].x+=y,n[l.id].y+=b}}}}}class bE{constructor(e,r,n){this.body=e,this.physicsBody=r,this.setOptions(n)}setOptions(e){this.options=e}solve(){let e,r;const n=this.physicsBody.physicsEdgeIndices,i=this.body.edges;let s,a,o;for(let l=0;l<n.length;l++)r=i[n[l]],r.connected===!0&&r.toId!==r.fromId&&this.body.nodes[r.toId]!==void 0&&this.body.nodes[r.fromId]!==void 0&&(r.edgeType.via!==void 0?(e=r.options.length===void 0?this.options.springLength:r.options.length,s=r.to,a=r.edgeType.via,o=r.from,this._calculateSpringForce(s,a,.5*e),this._calculateSpringForce(a,o,.5*e)):(e=r.options.length===void 0?this.options.springLength*1.5:r.options.length,this._calculateSpringForce(r.from,r.to,e)))}_calculateSpringForce(e,r,n){const i=e.x-r.x,s=e.y-r.y,a=Math.max(Math.sqrt(i*i+s*s),.01),o=this.options.springConstant*(n-a)/a,l=i*o,u=s*o;this.physicsBody.forces[e.id]!==void 0&&(this.physicsBody.forces[e.id].x+=l,this.physicsBody.forces[e.id].y+=u),this.physicsBody.forces[r.id]!==void 0&&(this.physicsBody.forces[r.id].x-=l,this.physicsBody.forces[r.id].y-=u)}}class Mge{constructor(e,r,n){this.body=e,this.physicsBody=r,this.setOptions(n)}setOptions(e){this.options=e}solve(){let e,r,n,i,s,a,o,l;const u=this.body.edges,c=.5,h=this.physicsBody.physicsEdgeIndices,f=this.physicsBody.physicsNodeIndices,p=this.physicsBody.forces;for(let w=0;w<f.length;w++){const _=f[w];p[_].springFx=0,p[_].springFy=0}for(let w=0;w<h.length;w++)r=u[h[w]],r.connected===!0&&(e=r.options.length===void 0?this.options.springLength:r.options.length,n=r.from.x-r.to.x,i=r.from.y-r.to.y,l=Math.sqrt(n*n+i*i),l=l===0?.01:l,o=this.options.springConstant*(e-l)/l,s=n*o,a=i*o,r.to.level!=r.from.level?(p[r.toId]!==void 0&&(p[r.toId].springFx-=s,p[r.toId].springFy-=a),p[r.fromId]!==void 0&&(p[r.fromId].springFx+=s,p[r.fromId].springFy+=a)):(p[r.toId]!==void 0&&(p[r.toId].x-=c*s,p[r.toId].y-=c*a),p[r.fromId]!==void 0&&(p[r.fromId].x+=c*s,p[r.fromId].y+=c*a)));o=1;let m,y;for(let w=0;w<f.length;w++){const _=f[w];m=Math.min(o,Math.max(-o,p[_].springFx)),y=Math.min(o,Math.max(-o,p[_].springFy)),p[_].x+=m,p[_].y+=y}let b=0,g=0;for(let w=0;w<f.length;w++){const _=f[w];b+=p[_].x,g+=p[_].y}const v=b/f.length,x=g/f.length;for(let w=0;w<f.length;w++){const _=f[w];p[_].x-=v,p[_].y-=x}}}class af{constructor(e,r,n){this.body=e,this.physicsBody=r,this.setOptions(n)}setOptions(e){this.options=e}solve(){let e,r,n,i;const s=this.body.nodes,a=this.physicsBody.physicsNodeIndices,o=this.physicsBody.forces;for(let l=0;l<a.length;l++){const u=a[l];i=s[u],e=-i.x,r=-i.y,n=Math.sqrt(e*e+r*r),this._calculateForces(n,e,r,o,i)}}_calculateForces(e,r,n,i,s){const a=e===0?0:this.options.centralGravity/e;i[s.id].x=r*a,i[s.id].y=n*a}}class Age extends nY{constructor(e,r,n){super(e,r,n),this._rng=im("FORCE ATLAS 2 BASED REPULSION SOLVER")}_calculateForces(e,r,n,i,s){e===0&&(e=.1*this._rng(),r=e),this.overlapAvoidanceFactor<1&&i.shape.radius&&(e=Math.max(.1+this.overlapAvoidanceFactor*i.shape.radius,e-i.shape.radius));const a=i.edges.length+1,o=this.options.gravitationalConstant*s.mass*i.options.mass*a/Math.pow(e,2),l=r*o,u=n*o;this.physicsBody.forces[i.id].x+=l,this.physicsBody.forces[i.id].y+=u}}class Fge extends af{constructor(e,r,n){super(e,r,n)}_calculateForces(e,r,n,i,s){if(e>0){const a=s.edges.length+1,o=this.options.centralGravity*a*s.options.mass;i[s.id].x=r*o,i[s.id].y=n*o}}}class Lge{constructor(e){this.body=e,this.physicsBody={physicsNodeIndices:[],physicsEdgeIndices:[],forces:{},velocities:{}},this.physicsEnabled=!0,this.simulationInterval=1e3/60,this.requiresTimeout=!0,this.previousStates={},this.referenceState={},this.freezeCache={},this.renderTimer=void 0,this.adaptiveTimestep=!1,this.adaptiveTimestepEnabled=!1,this.adaptiveCounter=0,this.adaptiveInterval=3,this.stabilized=!1,this.startedStabilization=!1,this.stabilizationIterations=0,this.ready=!1,this.options={},this.defaultOptions={enabled:!0,barnesHut:{theta:.5,gravitationalConstant:-2e3,centralGravity:.3,springLength:95,springConstant:.04,damping:.09,avoidOverlap:0},forceAtlas2Based:{theta:.5,gravitationalConstant:-50,centralGravity:.01,springConstant:.08,springLength:100,damping:.4,avoidOverlap:0},repulsion:{centralGravity:.2,springLength:200,springConstant:.05,nodeDistance:100,damping:.09,avoidOverlap:0},hierarchicalRepulsion:{centralGravity:0,springLength:100,springConstant:.01,nodeDistance:120,damping:.09},maxVelocity:50,minVelocity:.75,solver:"barnesHut",stabilization:{enabled:!0,iterations:1e3,updateInterval:50,onlyDynamicEdges:!1,fit:!0},timestep:.5,adaptiveTimestep:!0,wind:{x:0,y:0}},Dt(this.options,this.defaultOptions),this.timestep=.5,this.layoutFailed=!1,this.bindEventListeners()}bindEventListeners(){this.body.emitter.on("initPhysics",()=>{this.initPhysics()}),this.body.emitter.on("_layoutFailed",()=>{this.layoutFailed=!0}),this.body.emitter.on("resetPhysics",()=>{this.stopSimulation(),this.ready=!1}),this.body.emitter.on("disablePhysics",()=>{this.physicsEnabled=!1,this.stopSimulation()}),this.body.emitter.on("restorePhysics",()=>{this.setOptions(this.options),this.ready===!0&&this.startSimulation()}),this.body.emitter.on("startSimulation",()=>{this.ready===!0&&this.startSimulation()}),this.body.emitter.on("stopSimulation",()=>{this.stopSimulation()}),this.body.emitter.on("destroy",()=>{this.stopSimulation(!1),this.body.emitter.off()}),this.body.emitter.on("_dataChanged",()=>{this.updatePhysicsData()})}setOptions(e){if(e!==void 0)if(e===!1)this.options.enabled=!1,this.physicsEnabled=!1,this.stopSimulation();else if(e===!0)this.options.enabled=!0,this.physicsEnabled=!0,this.startSimulation();else{this.physicsEnabled=!0,Xf(["stabilization"],this.options,e),_n(this.options,e,"stabilization"),e.enabled===void 0&&(this.options.enabled=!0),this.options.enabled===!1&&(this.physicsEnabled=!1,this.stopSimulation());const r=this.options.wind;r&&((typeof r.x!="number"||rC(r.x))&&(r.x=0),(typeof r.y!="number"||rC(r.y))&&(r.y=0)),this.timestep=this.options.timestep}this.init()}init(){let e;this.options.solver==="forceAtlas2Based"?(e=this.options.forceAtlas2Based,this.nodesSolver=new Age(this.body,this.physicsBody,e),this.edgesSolver=new bE(this.body,this.physicsBody,e),this.gravitySolver=new Fge(this.body,this.physicsBody,e)):this.options.solver==="repulsion"?(e=this.options.repulsion,this.nodesSolver=new Dge(this.body,this.physicsBody,e),this.edgesSolver=new bE(this.body,this.physicsBody,e),this.gravitySolver=new af(this.body,this.physicsBody,e)):this.options.solver==="hierarchicalRepulsion"?(e=this.options.hierarchicalRepulsion,this.nodesSolver=new qge(this.body,this.physicsBody,e),this.edgesSolver=new Mge(this.body,this.physicsBody,e),this.gravitySolver=new af(this.body,this.physicsBody,e)):(e=this.options.barnesHut,this.nodesSolver=new nY(this.body,this.physicsBody,e),this.edgesSolver=new bE(this.body,this.physicsBody,e),this.gravitySolver=new af(this.body,this.physicsBody,e)),this.modelOptions=e}initPhysics(){this.physicsEnabled===!0&&this.options.enabled===!0?this.options.stabilization.enabled===!0?this.stabilize():(this.stabilized=!1,this.ready=!0,this.body.emitter.emit("fit",{},this.layoutFailed),this.startSimulation()):(this.ready=!0,this.body.emitter.emit("fit"))}startSimulation(){if(this.physicsEnabled===!0&&this.options.enabled===!0){if(this.stabilized=!1,this.adaptiveTimestep=!1,this.body.emitter.emit("_resizeNodes"),this.viewFunction===void 0){var e;this.viewFunction=ee(e=this.simulationStep).call(e,this),this.body.emitter.on("initRedraw",this.viewFunction),this.body.emitter.emit("_startRendering")}}else this.body.emitter.emit("_redraw")}stopSimulation(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.stabilized=!0,e===!0&&this._emitStabilized(),this.viewFunction!==void 0&&(this.body.emitter.off("initRedraw",this.viewFunction),this.viewFunction=void 0,e===!0&&this.body.emitter.emit("_stopRendering"))}simulationStep(){const e=Kf();this.physicsTick(),(Kf()-e<.4*this.simulationInterval||this.runDoubleSpeed===!0)&&this.stabilized===!1&&(this.physicsTick(),this.runDoubleSpeed=!0),this.stabilized===!0&&this.stopSimulation()}_emitStabilized(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.stabilizationIterations;(this.stabilizationIterations>1||this.startedStabilization===!0)&&Ui(()=>{this.body.emitter.emit("stabilized",{iterations:e}),this.startedStabilization=!1,this.stabilizationIterations=0},0)}physicsStep(){this.gravitySolver.solve(),this.nodesSolver.solve(),this.edgesSolver.solve(),this.moveNodes()}adjustTimeStep(){this._evaluateStepQuality()===!0?this.timestep=1.2*this.timestep:this.timestep/1.2<this.options.timestep?this.timestep=this.options.timestep:(this.adaptiveCounter=-1,this.timestep=Math.max(this.options.timestep,this.timestep/1.2))}physicsTick(){this._startStabilizing(),this.stabilized!==!0&&(this.adaptiveTimestep===!0&&this.adaptiveTimestepEnabled===!0?(this.adaptiveCounter%this.adaptiveInterval===0?(this.timestep=2*this.timestep,this.physicsStep(),this.revert(),this.timestep=.5*this.timestep,this.physicsStep(),this.physicsStep(),this.adjustTimeStep()):this.physicsStep(),this.adaptiveCounter+=1):(this.timestep=this.options.timestep,this.physicsStep()),this.stabilized===!0&&this.revert(),this.stabilizationIterations++)}updatePhysicsData(){this.physicsBody.forces={},this.physicsBody.physicsNodeIndices=[],this.physicsBody.physicsEdgeIndices=[];const e=this.body.nodes,r=this.body.edges;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&e[n].options.physics===!0&&this.physicsBody.physicsNodeIndices.push(e[n].id);for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&r[n].options.physics===!0&&this.physicsBody.physicsEdgeIndices.push(r[n].id);for(let n=0;n<this.physicsBody.physicsNodeIndices.length;n++){const i=this.physicsBody.physicsNodeIndices[n];this.physicsBody.forces[i]={x:0,y:0},this.physicsBody.velocities[i]===void 0&&(this.physicsBody.velocities[i]={x:0,y:0})}for(const n in this.physicsBody.velocities)e[n]===void 0&&delete this.physicsBody.velocities[n]}revert(){const e=_t(this.previousStates),r=this.body.nodes,n=this.physicsBody.velocities;this.referenceState={};for(let i=0;i<e.length;i++){const s=e[i];r[s]!==void 0?r[s].options.physics===!0&&(this.referenceState[s]={positions:{x:r[s].x,y:r[s].y}},n[s].x=this.previousStates[s].vx,n[s].y=this.previousStates[s].vy,r[s].x=this.previousStates[s].x,r[s].y=this.previousStates[s].y):delete this.previousStates[s]}}_evaluateStepQuality(){let e,r,n;const i=this.body.nodes,s=this.referenceState,a=.3;for(const o in this.referenceState)if(Object.prototype.hasOwnProperty.call(this.referenceState,o)&&i[o]!==void 0&&(e=i[o].x-s[o].positions.x,r=i[o].y-s[o].positions.y,n=Math.sqrt(Math.pow(e,2)+Math.pow(r,2)),n>a))return!1;return!0}moveNodes(){const e=this.physicsBody.physicsNodeIndices;let r=0,n=0;const i=5;for(let s=0;s<e.length;s++){const a=e[s],o=this._performStep(a);r=Math.max(r,o),n+=o}this.adaptiveTimestepEnabled=n/e.length<i,this.stabilized=r<this.options.minVelocity}calculateComponentVelocity(e,r,n){const i=this.modelOptions.damping*e,s=(r-i)/n;e+=s*this.timestep;const a=this.options.maxVelocity||1e9;return Math.abs(e)>a&&(e=e>0?a:-a),e}_performStep(e){const r=this.body.nodes[e],n=this.physicsBody.forces[e];this.options.wind&&(n.x+=this.options.wind.x,n.y+=this.options.wind.y);const i=this.physicsBody.velocities[e];return this.previousStates[e]={x:r.x,y:r.y,vx:i.x,vy:i.y},r.options.fixed.x===!1?(i.x=this.calculateComponentVelocity(i.x,n.x,r.options.mass),r.x+=i.x*this.timestep):(n.x=0,i.x=0),r.options.fixed.y===!1?(i.y=this.calculateComponentVelocity(i.y,n.y,r.options.mass),r.y+=i.y*this.timestep):(n.y=0,i.y=0),Math.sqrt(Math.pow(i.x,2)+Math.pow(i.y,2))}_freezeNodes(){const e=this.body.nodes;for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&e[r].x&&e[r].y){const n=e[r].options.fixed;this.freezeCache[r]={x:n.x,y:n.y},n.x=!0,n.y=!0}}_restoreFrozenNodes(){const e=this.body.nodes;for(const r in e)Object.prototype.hasOwnProperty.call(e,r)&&this.freezeCache[r]!==void 0&&(e[r].options.fixed.x=this.freezeCache[r].x,e[r].options.fixed.y=this.freezeCache[r].y);this.freezeCache={}}stabilize(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.options.stabilization.iterations;if(typeof e!="number"&&(e=this.options.stabilization.iterations,console.error("The stabilize method needs a numeric amount of iterations. Switching to default: ",e)),this.physicsBody.physicsNodeIndices.length===0){this.ready=!0;return}this.adaptiveTimestep=this.options.adaptiveTimestep,this.body.emitter.emit("_resizeNodes"),this.stopSimulation(),this.stabilized=!1,this.body.emitter.emit("_blockRedraw"),this.targetIterations=e,this.options.stabilization.onlyDynamicEdges===!0&&this._freezeNodes(),this.stabilizationIterations=0,Ui(()=>this._stabilizationBatch(),0)}_startStabilizing(){return this.startedStabilization===!0?!1:(this.body.emitter.emit("startStabilizing"),this.startedStabilization=!0,!0)}_stabilizationBatch(){const e=()=>this.stabilized===!1&&this.stabilizationIterations<this.targetIterations,r=()=>{this.body.emitter.emit("stabilizationProgress",{iterations:this.stabilizationIterations,total:this.targetIterations})};this._startStabilizing()&&r();let n=0;for(;e()&&n<this.options.stabilization.updateInterval;)this.physicsTick(),n++;if(r(),e()){var i;Ui(ee(i=this._stabilizationBatch).call(i,this),0)}else this._finalizeStabilization()}_finalizeStabilization(){this.body.emitter.emit("_allowRedraw"),this.options.stabilization.fit===!0&&this.body.emitter.emit("fit"),this.options.stabilization.onlyDynamicEdges===!0&&this._restoreFrozenNodes(),this.body.emitter.emit("stabilizationIterationsDone"),this.body.emitter.emit("_requestRedraw"),this.stabilized===!0?this._emitStabilized():this.startSimulation(),this.ready=!0}_drawForces(e){for(let r=0;r<this.physicsBody.physicsNodeIndices.length;r++){const n=this.physicsBody.physicsNodeIndices[r],i=this.body.nodes[n],s=this.physicsBody.forces[n],a=20,o=.03,l=Math.sqrt(Math.pow(s.x,2)+Math.pow(s.x,2)),u=Math.min(Math.max(5,l),15),c=3*u,h=ZP((180-Math.min(1,Math.max(0,o*l))*180)/360,1,1),f={x:i.x+a*s.x,y:i.y+a*s.y};e.lineWidth=u,e.strokeStyle=h,e.beginPath(),e.moveTo(i.x,i.y),e.lineTo(f.x,f.y),e.stroke();const p=Math.atan2(s.y,s.x);e.fillStyle=h,tY.draw(e,{type:"arrow",point:f,angle:p,length:c}),eh(e).call(e)}}}const sr=[];for(let t=0;t<256;++t)sr.push((t+256).toString(16).slice(1));function Bge(t,e=0){return(sr[t[e+0]]+sr[t[e+1]]+sr[t[e+2]]+sr[t[e+3]]+"-"+sr[t[e+4]]+sr[t[e+5]]+"-"+sr[t[e+6]]+sr[t[e+7]]+"-"+sr[t[e+8]]+sr[t[e+9]]+"-"+sr[t[e+10]]+sr[t[e+11]]+sr[t[e+12]]+sr[t[e+13]]+sr[t[e+14]]+sr[t[e+15]]).toLowerCase()}let wE;const zge=new Uint8Array(16);function Uge(){if(!wE){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");wE=crypto.getRandomValues.bind(crypto)}return wE(zge)}const Wge=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto);var ZU={randomUUID:Wge};function Hge(t,e,r){var i;t=t||{};const n=t.random??((i=t.rng)==null?void 0:i.call(t))??Uge();if(n.length<16)throw new Error("Random bytes length must be >= 16");return n[6]=n[6]&15|64,n[8]=n[8]&63|128,Bge(n)}function Oc(t,e,r){return ZU.randomUUID&&!t?ZU.randomUUID():Hge(t)}class Ir{constructor(){}static getRange(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],n=1e9,i=-1e9,s=1e9,a=-1e9,o;if(r.length>0)for(let l=0;l<r.length;l++)o=e[r[l]],s>o.shape.boundingBox.left&&(s=o.shape.boundingBox.left),a<o.shape.boundingBox.right&&(a=o.shape.boundingBox.right),n>o.shape.boundingBox.top&&(n=o.shape.boundingBox.top),i<o.shape.boundingBox.bottom&&(i=o.shape.boundingBox.bottom);return s===1e9&&a===-1e9&&n===1e9&&i===-1e9&&(n=0,i=0,s=0,a=0),{minX:s,maxX:a,minY:n,maxY:i}}static getRangeCore(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],n=1e9,i=-1e9,s=1e9,a=-1e9,o;if(r.length>0)for(let l=0;l<r.length;l++)o=e[r[l]],s>o.x&&(s=o.x),a<o.x&&(a=o.x),n>o.y&&(n=o.y),i<o.y&&(i=o.y);return s===1e9&&a===-1e9&&n===1e9&&i===-1e9&&(n=0,i=0,s=0,a=0),{minX:s,maxX:a,minY:n,maxY:i}}static findCenter(e){return{x:.5*(e.maxX+e.minX),y:.5*(e.maxY+e.minY)}}static cloneOptions(e,r){const n={};return r===void 0||r==="node"?(et(n,e.options,!0),n.x=e.x,n.y=e.y,n.amountOfConnections=e.edges.length):et(n,e.options,!0),n}}class Vge extends ot{constructor(e,r,n,i,s,a){super(e,r,n,i,s,a),this.isCluster=!0,this.containedNodes={},this.containedEdges={}}_openChildCluster(e){const r=this.body.nodes[e];if(this.containedNodes[e]===void 0)throw new Error("node with id: "+e+" not in current cluster");if(!r.isCluster)throw new Error("node with id: "+e+" is not a cluster");delete this.containedNodes[e],Re(r.edges,n=>{delete this.containedEdges[n.id]}),Re(r.containedNodes,(n,i)=>{this.containedNodes[i]=n}),r.containedNodes={},Re(r.containedEdges,(n,i)=>{this.containedEdges[i]=n}),r.containedEdges={},Re(r.edges,n=>{Re(this.edges,i=>{var s,a;const o=Ue(s=i.clusteringEdgeReplacingIds).call(s,n.id);o!==-1&&(Re(n.clusteringEdgeReplacingIds,l=>{i.clusteringEdgeReplacingIds.push(l),this.body.edges[l].edgeReplacedById=i.id}),zi(a=i.clusteringEdgeReplacingIds).call(a,o,1))})}),r.edges=[]}}class Kge{constructor(e){this.body=e,this.clusteredNodes={},this.clusteredEdges={},this.options={},this.defaultOptions={},Dt(this.options,this.defaultOptions),this.body.emitter.on("_resetData",()=>{this.clusteredNodes={},this.clusteredEdges={}})}clusterByHubsize(e,r){e===void 0?e=this._getHubSize():typeof e=="object"&&(r=this._checkOptions(e),e=this._getHubSize());const n=[];for(let i=0;i<this.body.nodeIndices.length;i++){const s=this.body.nodes[this.body.nodeIndices[i]];s.edges.length>=e&&n.push(s.id)}for(let i=0;i<n.length;i++)this.clusterByConnection(n[i],r,!0);this.body.emitter.emit("_dataChanged")}cluster(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(e.joinCondition===void 0)throw new Error("Cannot call clusterByNodeData without a joinCondition function in the options.");e=this._checkOptions(e);const n={},i={};Re(this.body.nodes,(s,a)=>{s.options&&e.joinCondition(s.options)===!0&&(n[a]=s,Re(s.edges,o=>{this.clusteredEdges[o.id]===void 0&&(i[o.id]=o)}))}),this._cluster(n,i,e,r)}clusterByEdgeCount(e,r){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;r=this._checkOptions(r);const i=[],s={};let a,o,l;for(let u=0;u<this.body.nodeIndices.length;u++){const c={},h={},f=this.body.nodeIndices[u],p=this.body.nodes[f];if(s[f]===void 0){l=0,o=[];for(let m=0;m<p.edges.length;m++)a=p.edges[m],this.clusteredEdges[a.id]===void 0&&(a.toId!==a.fromId&&l++,o.push(a));if(l===e){const m=function(b){if(r.joinCondition===void 0||r.joinCondition===null)return!0;const g=Ir.cloneOptions(b);return r.joinCondition(g)};let y=!0;for(let b=0;b<o.length;b++){a=o[b];const g=this._getConnectedId(a,f);if(m(p))h[a.id]=a,c[f]=p,c[g]=this.body.nodes[g],s[f]=!0;else{y=!1;break}}if(_t(c).length>0&&_t(h).length>0&&y===!0){const g=function(){for(let v=0;v<i.length;++v)for(const x in c)if(i[v].nodes[x]!==void 0)return i[v]}();if(g!==void 0){for(const v in c)g.nodes[v]===void 0&&(g.nodes[v]=c[v]);for(const v in h)g.edges[v]===void 0&&(g.edges[v]=h[v])}else i.push({nodes:c,edges:h})}}}}for(let u=0;u<i.length;u++)this._cluster(i[u].nodes,i[u].edges,r,!1);n===!0&&this.body.emitter.emit("_dataChanged")}clusterOutliers(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;this.clusterByEdgeCount(1,e,r)}clusterBridges(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;this.clusterByEdgeCount(2,e,r)}clusterByConnection(e,r){var n;let i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(e===void 0)throw new Error("No nodeId supplied to clusterByConnection!");if(this.body.nodes[e]===void 0)throw new Error("The nodeId given to clusterByConnection does not exist!");const s=this.body.nodes[e];r=this._checkOptions(r,s),r.clusterNodeProperties.x===void 0&&(r.clusterNodeProperties.x=s.x),r.clusterNodeProperties.y===void 0&&(r.clusterNodeProperties.y=s.y),r.clusterNodeProperties.fixed===void 0&&(r.clusterNodeProperties.fixed={},r.clusterNodeProperties.fixed.x=s.options.fixed.x,r.clusterNodeProperties.fixed.y=s.options.fixed.y);const a={},o={},l=s.id,u=Ir.cloneOptions(s);a[l]=s;for(let h=0;h<s.edges.length;h++){const f=s.edges[h];if(this.clusteredEdges[f.id]===void 0){const p=this._getConnectedId(f,l);if(this.clusteredNodes[p]===void 0)if(p!==l)if(r.joinCondition===void 0)o[f.id]=f,a[p]=this.body.nodes[p];else{const m=Ir.cloneOptions(this.body.nodes[p]);r.joinCondition(u,m)===!0&&(o[f.id]=f,a[p]=this.body.nodes[p])}else o[f.id]=f}}const c=Zl(n=_t(a)).call(n,function(h){return a[h].id});for(const h in a){if(!Object.prototype.hasOwnProperty.call(a,h))continue;const f=a[h];for(let p=0;p<f.edges.length;p++){const m=f.edges[p];Ue(c).call(c,this._getConnectedId(m,f.id))>-1&&(o[m.id]=m)}}this._cluster(a,o,r,i)}_createClusterEdges(e,r,n,i){let s,a,o,l,u,c;const h=_t(e),f=[];for(let y=0;y<h.length;y++){a=h[y],o=e[a];for(let b=0;b<o.edges.length;b++)s=o.edges[b],this.clusteredEdges[s.id]===void 0&&(s.toId==s.fromId?r[s.id]=s:s.toId==a?(l=n.id,u=s.fromId,c=u):(l=s.toId,u=n.id,c=l),e[c]===void 0&&f.push({edge:s,fromId:u,toId:l}))}const p=[],m=function(y){for(let b=0;b<p.length;b++){const g=p[b],v=y.fromId===g.fromId&&y.toId===g.toId,x=y.fromId===g.toId&&y.toId===g.fromId;if(v||x)return g}return null};for(let y=0;y<f.length;y++){const b=f[y],g=b.edge;let v=m(b);v===null?(v=this._createClusteredEdge(b.fromId,b.toId,g,i),p.push(v)):v.clusteringEdgeReplacingIds.push(g.id),this.body.edges[g.id].edgeReplacedById=v.id,this._backupEdgeOptions(g),g.setOptions({physics:!1})}}_checkOptions(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return e.clusterEdgeProperties===void 0&&(e.clusterEdgeProperties={}),e.clusterNodeProperties===void 0&&(e.clusterNodeProperties={}),e}_cluster(e,r,n){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0;const s=[];for(const c in e)Object.prototype.hasOwnProperty.call(e,c)&&this.clusteredNodes[c]!==void 0&&s.push(c);for(let c=0;c<s.length;++c)delete e[s[c]];if(_t(e).length==0||_t(e).length==1&&n.clusterNodeProperties.allowSingleNodeCluster!=!0)return;let a=et({},n.clusterNodeProperties);if(n.processProperties!==void 0){const c=[];for(const f in e)if(Object.prototype.hasOwnProperty.call(e,f)){const p=Ir.cloneOptions(e[f]);c.push(p)}const h=[];for(const f in r)if(Object.prototype.hasOwnProperty.call(r,f)&&f.substr(0,12)!=="clusterEdge:"){const p=Ir.cloneOptions(r[f],"edge");h.push(p)}if(a=n.processProperties(a,c,h),!a)throw new Error("The processProperties function does not return properties!")}a.id===void 0&&(a.id="cluster:"+Oc());const o=a.id;a.label===void 0&&(a.label="cluster");let l;a.x===void 0&&(l=this._getClusterPosition(e),a.x=l.x),a.y===void 0&&(l===void 0&&(l=this._getClusterPosition(e)),a.y=l.y),a.id=o;const u=this.body.functions.createNode(a,Vge);u.containedNodes=e,u.containedEdges=r,u.clusterEdgeProperties=n.clusterEdgeProperties,this.body.nodes[a.id]=u,this._clusterEdges(e,r,a,n.clusterEdgeProperties),a.id=void 0,i===!0&&this.body.emitter.emit("_dataChanged")}_backupEdgeOptions(e){this.clusteredEdges[e.id]===void 0&&(this.clusteredEdges[e.id]={physics:e.options.physics})}_restoreEdge(e){const r=this.clusteredEdges[e.id];r!==void 0&&(e.setOptions({physics:r.physics}),delete this.clusteredEdges[e.id])}isCluster(e){return this.body.nodes[e]!==void 0?this.body.nodes[e].isCluster===!0:(console.error("Node does not exist."),!1)}_getClusterPosition(e){const r=_t(e);let n=e[r[0]].x,i=e[r[0]].x,s=e[r[0]].y,a=e[r[0]].y,o;for(let l=1;l<r.length;l++)o=e[r[l]],n=o.x<n?o.x:n,i=o.x>i?o.x:i,s=o.y<s?o.y:s,a=o.y>a?o.y:a;return{x:.5*(n+i),y:.5*(s+a)}}openCluster(e,r){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(e===void 0)throw new Error("No clusterNodeId supplied to openCluster.");const i=this.body.nodes[e];if(i===void 0)throw new Error("The clusterNodeId supplied to openCluster does not exist.");if(i.isCluster!==!0||i.containedNodes===void 0||i.containedEdges===void 0)throw new Error("The node:"+e+" is not a valid cluster.");const s=this.findNode(e),a=Ue(s).call(s,e)-1;if(a>=0){const c=s[a];this.body.nodes[c]._openChildCluster(e),delete this.body.nodes[e],n===!0&&this.body.emitter.emit("_dataChanged");return}const o=i.containedNodes,l=i.containedEdges;if(r!==void 0&&r.releaseFunction!==void 0&&typeof r.releaseFunction=="function"){const c={},h={x:i.x,y:i.y};for(const p in o)if(Object.prototype.hasOwnProperty.call(o,p)){const m=this.body.nodes[p];c[p]={x:m.x,y:m.y}}const f=r.releaseFunction(h,c);for(const p in o)if(Object.prototype.hasOwnProperty.call(o,p)){const m=this.body.nodes[p];f[p]!==void 0&&(m.x=f[p].x===void 0?i.x:f[p].x,m.y=f[p].y===void 0?i.y:f[p].y)}}else Re(o,function(c){c.options.fixed.x===!1&&(c.x=i.x),c.options.fixed.y===!1&&(c.y=i.y)});for(const c in o)if(Object.prototype.hasOwnProperty.call(o,c)){const h=this.body.nodes[c];h.vx=i.vx,h.vy=i.vy,h.setOptions({physics:!0}),delete this.clusteredNodes[c]}const u=[];for(let c=0;c<i.edges.length;c++)u.push(i.edges[c]);for(let c=0;c<u.length;c++){const h=u[c],f=this._getConnectedId(h,e),p=this.clusteredNodes[f];for(let m=0;m<h.clusteringEdgeReplacingIds.length;m++){const y=h.clusteringEdgeReplacingIds[m],b=this.body.edges[y];if(b!==void 0)if(p!==void 0){const g=this.body.nodes[p.clusterId];g.containedEdges[b.id]=b,delete l[b.id];let v=b.fromId,x=b.toId;b.toId==f?x=p.clusterId:v=p.clusterId,this._createClusteredEdge(v,x,b,g.clusterEdgeProperties,{hidden:!1,physics:!0})}else this._restoreEdge(b)}h.remove()}for(const c in l)Object.prototype.hasOwnProperty.call(l,c)&&this._restoreEdge(l[c]);delete this.body.nodes[e],n===!0&&this.body.emitter.emit("_dataChanged")}getNodesInCluster(e){const r=[];if(this.isCluster(e)===!0){const n=this.body.nodes[e].containedNodes;for(const i in n)Object.prototype.hasOwnProperty.call(n,i)&&r.push(this.body.nodes[i].id)}return r}findNode(e){const r=[];let i=0,s;for(;this.clusteredNodes[e]!==void 0&&i<100;){if(s=this.body.nodes[e],s===void 0)return[];r.push(s.id),e=this.clusteredNodes[e].clusterId,i++}return s=this.body.nodes[e],s===void 0?[]:(r.push(s.id),Va(r).call(r),r)}updateClusteredNode(e,r){if(e===void 0)throw new Error("No clusteredNodeId supplied to updateClusteredNode.");if(r===void 0)throw new Error("No newOptions supplied to updateClusteredNode.");if(this.body.nodes[e]===void 0)throw new Error("The clusteredNodeId supplied to updateClusteredNode does not exist.");this.body.nodes[e].setOptions(r),this.body.emitter.emit("_dataChanged")}updateEdge(e,r){if(e===void 0)throw new Error("No startEdgeId supplied to updateEdge.");if(r===void 0)throw new Error("No newOptions supplied to updateEdge.");if(this.body.edges[e]===void 0)throw new Error("The startEdgeId supplied to updateEdge does not exist.");const n=this.getClusteredEdges(e);for(let i=0;i<n.length;i++)this.body.edges[n[i]].setOptions(r);this.body.emitter.emit("_dataChanged")}getClusteredEdges(e){const r=[];let i=0;for(;e!==void 0&&this.body.edges[e]!==void 0&&i<100;)r.push(this.body.edges[e].id),e=this.body.edges[e].edgeReplacedById,i++;return Va(r).call(r),r}getBaseEdge(e){return this.getBaseEdges(e)[0]}getBaseEdges(e){const r=[e],n=[],i=[],s=100;let a=0;for(;r.length>0&&a<s;){const o=r.pop();if(o===void 0)continue;const l=this.body.edges[o];if(l===void 0)continue;a++;const u=l.clusteringEdgeReplacingIds;if(u===void 0)i.push(o);else for(let c=0;c<u.length;++c){const h=u[c];Ue(r).call(r,u)!==-1||Ue(n).call(n,u)!==-1||r.push(h)}n.push(o)}return i}_getConnectedId(e,r){return e.toId!=r?e.toId:(e.fromId!=r,e.fromId)}_getHubSize(){let e=0,r=0,n=0,i=0;for(let l=0;l<this.body.nodeIndices.length;l++){const u=this.body.nodes[this.body.nodeIndices[l]];u.edges.length>i&&(i=u.edges.length),e+=u.edges.length,r+=Math.pow(u.edges.length,2),n+=1}e=e/n,r=r/n;const s=r-Math.pow(e,2),a=Math.sqrt(s);let o=Math.floor(e+2*a);return o>i&&(o=i),o}_createClusteredEdge(e,r,n,i,s){const a=Ir.cloneOptions(n,"edge");et(a,i),a.from=e,a.to=r,a.id="clusterEdge:"+Oc(),s!==void 0&&et(a,s);const o=this.body.functions.createEdge(a);return o.clusteringEdgeReplacingIds=[n.id],o.connect(),this.body.edges[o.id]=o,o}_clusterEdges(e,r,n,i){if(r instanceof Xs){const s=r,a={};a[s.id]=s,r=a}if(e instanceof ot){const s=e,a={};a[s.id]=s,e=a}if(n==null)throw new Error("_clusterEdges: parameter clusterNode required");i===void 0&&(i=n.clusterEdgeProperties),this._createClusterEdges(e,r,n,i);for(const s in r)if(Object.prototype.hasOwnProperty.call(r,s)&&this.body.edges[s]!==void 0){const a=this.body.edges[s];this._backupEdgeOptions(a),a.setOptions({physics:!1})}for(const s in e)Object.prototype.hasOwnProperty.call(e,s)&&(this.clusteredNodes[s]={clusterId:n.id,node:this.body.nodes[s]},this.body.nodes[s].setOptions({physics:!1}))}_getClusterNodeForNode(e){if(e===void 0)return;const r=this.clusteredNodes[e];if(r===void 0)return;const n=r.clusterId;if(n!==void 0)return this.body.nodes[n]}_filter(e,r){const n=[];return Re(e,i=>{r(i)&&n.push(i)}),n}_updateState(){let e;const r=[],n={},i=l=>{Re(this.body.nodes,u=>{u.isCluster===!0&&l(u)})};for(e in this.clusteredNodes){if(!Object.prototype.hasOwnProperty.call(this.clusteredNodes,e))continue;this.body.nodes[e]===void 0&&r.push(e)}i(function(l){for(let u=0;u<r.length;u++)delete l.containedNodes[r[u]]});for(let l=0;l<r.length;l++)delete this.clusteredNodes[r[l]];Re(this.clusteredEdges,l=>{const u=this.body.edges[l];(u===void 0||!u.endPointsValid())&&(n[l]=l)}),i(function(l){Re(l.containedEdges,(u,c)=>{!u.endPointsValid()&&!n[c]&&(n[c]=c)})}),Re(this.body.edges,(l,u)=>{let c=!0;const h=l.clusteringEdgeReplacingIds;if(h!==void 0){let f=0;Re(h,p=>{const m=this.body.edges[p];m!==void 0&&m.endPointsValid()&&(f+=1)}),c=f>0}(!l.endPointsValid()||!c)&&(n[u]=u)}),i(l=>{Re(n,u=>{delete l.containedEdges[u],Re(l.edges,(c,h)=>{if(c.id===u){l.edges[h]=null;return}c.clusteringEdgeReplacingIds=this._filter(c.clusteringEdgeReplacingIds,function(f){return!n[f]})}),l.edges=this._filter(l.edges,function(c){return c!==null})})}),Re(n,l=>{delete this.clusteredEdges[l]}),Re(n,l=>{delete this.body.edges[l]});const s=_t(this.body.edges);Re(s,l=>{const u=this.body.edges[l],c=this._isClusteredNode(u.fromId)||this._isClusteredNode(u.toId);if(c!==this._isClusteredEdge(u.id))if(c){const h=this._getClusterNodeForNode(u.fromId);h!==void 0&&this._clusterEdges(this.body.nodes[u.fromId],u,h);const f=this._getClusterNodeForNode(u.toId);f!==void 0&&this._clusterEdges(this.body.nodes[u.toId],u,f)}else delete this._clusterEdges[l],this._restoreEdge(u)});let a=!1,o=!0;for(;o;){const l=[];i(function(u){const c=_t(u.containedNodes).length,h=u.options.allowSingleNodeCluster===!0;(h&&c<1||!h&&c<2)&&l.push(u.id)});for(let u=0;u<l.length;++u)this.openCluster(l[u],{},!1);o=l.length>0,a=a||o}a&&this._updateState()}_isClusteredNode(e){return this.clusteredNodes[e]!==void 0}_isClusteredEdge(e){return this.clusteredEdges[e]!==void 0}}class Gge{constructor(e,r){this.body=e,this.canvas=r,this.redrawRequested=!1,this.requestAnimationFrameRequestId=void 0,this.renderingActive=!1,this.renderRequests=0,this.allowRedraw=!0,this.dragging=!1,this.zooming=!1,this.options={},this.defaultOptions={hideEdgesOnDrag:!1,hideEdgesOnZoom:!1,hideNodesOnDrag:!1},Dt(this.options,this.defaultOptions),this.bindEventListeners()}bindEventListeners(){var e;this.body.emitter.on("dragStart",()=>{this.dragging=!0}),this.body.emitter.on("dragEnd",()=>{this.dragging=!1}),this.body.emitter.on("zoom",()=>{this.zooming=!0,window.clearTimeout(this.zoomTimeoutId),this.zoomTimeoutId=Ui(()=>{var r;this.zooming=!1,ee(r=this._requestRedraw).call(r,this)()},250)}),this.body.emitter.on("_resizeNodes",()=>{this._resizeNodes()}),this.body.emitter.on("_redraw",()=>{this.renderingActive===!1&&this._redraw()}),this.body.emitter.on("_blockRedraw",()=>{this.allowRedraw=!1}),this.body.emitter.on("_allowRedraw",()=>{this.allowRedraw=!0,this.redrawRequested=!1}),this.body.emitter.on("_requestRedraw",ee(e=this._requestRedraw).call(e,this)),this.body.emitter.on("_startRendering",()=>{this.renderRequests+=1,this.renderingActive=!0,this._startRendering()}),this.body.emitter.on("_stopRendering",()=>{this.renderRequests-=1,this.renderingActive=this.renderRequests>0,this.requestAnimationFrameRequestId=void 0}),this.body.emitter.on("destroy",()=>{this.renderRequests=0,this.allowRedraw=!1,this.renderingActive=!1,window.cancelAnimationFrame(this.requestAnimationFrameRequestId),this.body.emitter.off()})}setOptions(e){e!==void 0&&Fu(["hideEdgesOnDrag","hideEdgesOnZoom","hideNodesOnDrag"],this.options,e)}_startRendering(){if(this.renderingActive===!0&&this.requestAnimationFrameRequestId===void 0){var e;this.requestAnimationFrameRequestId=window.requestAnimationFrame(ee(e=this._renderStep).call(e,this),this.simulationInterval)}}_renderStep(){this.renderingActive===!0&&(this.requestAnimationFrameRequestId=void 0,this._startRendering(),this._redraw())}redraw(){this.body.emitter.emit("setSize"),this._redraw()}_requestRedraw(){this.redrawRequested!==!0&&this.renderingActive===!1&&this.allowRedraw===!0&&(this.redrawRequested=!0,window.requestAnimationFrame(()=>{this._redraw(!1)}))}_redraw(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;if(this.allowRedraw===!0){this.body.emitter.emit("initRedraw"),this.redrawRequested=!1;const r={drawExternalLabels:null};(this.canvas.frame.canvas.width===0||this.canvas.frame.canvas.height===0)&&this.canvas.setSize(),this.canvas.setTransform();const n=this.canvas.getContext(),i=this.canvas.frame.canvas.clientWidth,s=this.canvas.frame.canvas.clientHeight;if(n.clearRect(0,0,i,s),this.canvas.frame.clientWidth===0)return;if(n.save(),n.translate(this.body.view.translation.x,this.body.view.translation.y),n.scale(this.body.view.scale,this.body.view.scale),n.beginPath(),this.body.emitter.emit("beforeDrawing",n),n.closePath(),e===!1&&(this.dragging===!1||this.dragging===!0&&this.options.hideEdgesOnDrag===!1)&&(this.zooming===!1||this.zooming===!0&&this.options.hideEdgesOnZoom===!1)&&this._drawEdges(n),this.dragging===!1||this.dragging===!0&&this.options.hideNodesOnDrag===!1){const{drawExternalLabels:a}=this._drawNodes(n,e);r.drawExternalLabels=a}e===!1&&(this.dragging===!1||this.dragging===!0&&this.options.hideEdgesOnDrag===!1)&&(this.zooming===!1||this.zooming===!0&&this.options.hideEdgesOnZoom===!1)&&this._drawArrows(n),r.drawExternalLabels!=null&&r.drawExternalLabels(),e===!1&&this._drawSelectionBox(n),n.beginPath(),this.body.emitter.emit("afterDrawing",n),n.closePath(),n.restore(),e===!0&&n.clearRect(0,0,i,s)}}_resizeNodes(){this.canvas.setTransform();const e=this.canvas.getContext();e.save(),e.translate(this.body.view.translation.x,this.body.view.translation.y),e.scale(this.body.view.scale,this.body.view.scale);const r=this.body.nodes;let n;for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n=r[i],n.resize(e),n.updateBoundingBox(e,n.selected));e.restore()}_drawNodes(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;const n=this.body.nodes,i=this.body.nodeIndices;let s;const a=[],o=[],l=20,u=this.canvas.DOMtoCanvas({x:-l,y:-l}),c=this.canvas.DOMtoCanvas({x:this.canvas.frame.canvas.clientWidth+l,y:this.canvas.frame.canvas.clientHeight+l}),h={top:u.y,left:u.x,bottom:c.y,right:c.x},f=[];for(let b=0;b<i.length;b++)if(s=n[i[b]],s.hover)o.push(i[b]);else if(s.isSelected())a.push(i[b]);else if(r===!0){const g=s.draw(e);g.drawExternalLabel!=null&&f.push(g.drawExternalLabel)}else if(s.isBoundingBoxOverlappingWith(h)===!0){const g=s.draw(e);g.drawExternalLabel!=null&&f.push(g.drawExternalLabel)}else s.updateBoundingBox(e,s.selected);let p;const m=a.length,y=o.length;for(p=0;p<m;p++){s=n[a[p]];const b=s.draw(e);b.drawExternalLabel!=null&&f.push(b.drawExternalLabel)}for(p=0;p<y;p++){s=n[o[p]];const b=s.draw(e);b.drawExternalLabel!=null&&f.push(b.drawExternalLabel)}return{drawExternalLabels:()=>{for(const b of f)b()}}}_drawEdges(e){const r=this.body.edges,n=this.body.edgeIndices;for(let i=0;i<n.length;i++){const s=r[n[i]];s.connected===!0&&s.draw(e)}}_drawArrows(e){const r=this.body.edges,n=this.body.edgeIndices;for(let i=0;i<n.length;i++){const s=r[n[i]];s.connected===!0&&s.drawArrows(e)}}_drawSelectionBox(e){if(this.body.selectionBox.show){e.beginPath();const r=this.body.selectionBox.position.end.x-this.body.selectionBox.position.start.x,n=this.body.selectionBox.position.end.y-this.body.selectionBox.position.start.y;e.rect(this.body.selectionBox.position.start.x,this.body.selectionBox.position.start.y,r,n),e.fillStyle="rgba(151, 194, 252, 0.2)",e.fillRect(this.body.selectionBox.position.start.x,this.body.selectionBox.position.start.y,r,n),e.strokeStyle="rgba(151, 194, 252, 1)",e.stroke()}else e.closePath()}}var xE,eW;function Yge(){if(eW)return xE;eW=1,lG();var t=Ve();return xE=t.setInterval,xE}var _E,tW;function Qge(){return tW||(tW=1,_E=Yge()),_E}var Xge=Qge(),Jge=Oe(Xge);function ep(t,e){e.inputHandler=function(r){r.isFirst&&e(r)},t.on("hammer.input",e.inputHandler)}function iY(t,e){return e.inputHandler=function(r){r.isFinal&&e(r)},t.on("hammer.input",e.inputHandler)}class Zge{constructor(e){this.body=e,this.pixelRatio=1,this.cameraState={},this.initialized=!1,this.canvasViewCenter={},this._cleanupCallbacks=[],this.options={},this.defaultOptions={autoResize:!0,height:"100%",width:"100%"},Dt(this.options,this.defaultOptions),this.bindEventListeners()}bindEventListeners(){var e;this.body.emitter.once("resize",r=>{r.width!==0&&(this.body.view.translation.x=r.width*.5),r.height!==0&&(this.body.view.translation.y=r.height*.5)}),this.body.emitter.on("setSize",ee(e=this.setSize).call(e,this)),this.body.emitter.on("destroy",()=>{this.hammerFrame.destroy(),this.hammer.destroy(),this._cleanUp()})}setOptions(e){if(e!==void 0&&Fu(["width","height","autoResize"],this.options,e),this._cleanUp(),this.options.autoResize===!0){var r;if(window.ResizeObserver){const i=new ResizeObserver(()=>{this.setSize()===!0&&this.body.emitter.emit("_requestRedraw")}),{frame:s}=this;i.observe(s),this._cleanupCallbacks.push(()=>{i.unobserve(s)})}else{const i=Jge(()=>{this.setSize()===!0&&this.body.emitter.emit("_requestRedraw")},1e3);this._cleanupCallbacks.push(()=>{clearInterval(i)})}const n=ee(r=this._onResize).call(r,this);window.addEventListener("resize",n),this._cleanupCallbacks.push(()=>{window.removeEventListener("resize",n)})}}_cleanUp(){var e,r,n;Ge(e=Va(r=zi(n=this._cleanupCallbacks).call(n,0)).call(r)).call(e,i=>{try{i()}catch(s){console.error(s)}})}_onResize(){this.setSize(),this.body.emitter.emit("_redraw")}_getCameraState(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.pixelRatio;this.initialized===!0&&(this.cameraState.previousWidth=this.frame.canvas.width/e,this.cameraState.previousHeight=this.frame.canvas.height/e,this.cameraState.scale=this.body.view.scale,this.cameraState.position=this.DOMtoCanvas({x:.5*this.frame.canvas.width/e,y:.5*this.frame.canvas.height/e}))}_setCameraState(){if(this.cameraState.scale!==void 0&&this.frame.canvas.clientWidth!==0&&this.frame.canvas.clientHeight!==0&&this.pixelRatio!==0&&this.cameraState.previousWidth>0&&this.cameraState.previousHeight>0){const e=this.frame.canvas.width/this.pixelRatio/this.cameraState.previousWidth,r=this.frame.canvas.height/this.pixelRatio/this.cameraState.previousHeight;let n=this.cameraState.scale;e!=1&&r!=1?n=this.cameraState.scale*.5*(e+r):e!=1?n=this.cameraState.scale*e:r!=1&&(n=this.cameraState.scale*r),this.body.view.scale=n;const i=this.DOMtoCanvas({x:.5*this.frame.canvas.clientWidth,y:.5*this.frame.canvas.clientHeight}),s={x:i.x-this.cameraState.position.x,y:i.y-this.cameraState.position.y};this.body.view.translation.x+=s.x*this.body.view.scale,this.body.view.translation.y+=s.y*this.body.view.scale}}_prepareValue(e){if(typeof e=="number")return e+"px";if(typeof e=="string"){if(Ue(e).call(e,"%")!==-1||Ue(e).call(e,"px")!==-1)return e;if(Ue(e).call(e,"%")===-1)return e+"px"}throw new Error("Could not use the value supplied for width or height:"+e)}_create(){for(;this.body.container.hasChildNodes();)this.body.container.removeChild(this.body.container.firstChild);if(this.frame=document.createElement("div"),this.frame.className="vis-network",this.frame.style.position="relative",this.frame.style.overflow="hidden",this.frame.tabIndex=0,this.frame.canvas=document.createElement("canvas"),this.frame.canvas.style.position="relative",this.frame.appendChild(this.frame.canvas),this.frame.canvas.getContext)this._setPixelRatio(),this.setTransform();else{const e=document.createElement("DIV");e.style.color="red",e.style.fontWeight="bold",e.style.padding="10px",e.innerText="Error: your browser does not support HTML canvas",this.frame.canvas.appendChild(e)}this.body.container.appendChild(this.frame),this.body.view.scale=1,this.body.view.translation={x:.5*this.frame.canvas.clientWidth,y:.5*this.frame.canvas.clientHeight},this._bindHammer()}_bindHammer(){this.hammer!==void 0&&this.hammer.destroy(),this.drag={},this.pinch={},this.hammer=new gl(this.frame.canvas),this.hammer.get("pinch").set({enable:!0}),this.hammer.get("pan").set({threshold:5,direction:gl.DIRECTION_ALL}),ep(this.hammer,e=>{this.body.eventListeners.onTouch(e)}),this.hammer.on("tap",e=>{this.body.eventListeners.onTap(e)}),this.hammer.on("doubletap",e=>{this.body.eventListeners.onDoubleTap(e)}),this.hammer.on("press",e=>{this.body.eventListeners.onHold(e)}),this.hammer.on("panstart",e=>{this.body.eventListeners.onDragStart(e)}),this.hammer.on("panmove",e=>{this.body.eventListeners.onDrag(e)}),this.hammer.on("panend",e=>{this.body.eventListeners.onDragEnd(e)}),this.hammer.on("pinch",e=>{this.body.eventListeners.onPinch(e)}),this.frame.canvas.addEventListener("wheel",e=>{this.body.eventListeners.onMouseWheel(e)}),this.frame.canvas.addEventListener("mousemove",e=>{this.body.eventListeners.onMouseMove(e)}),this.frame.canvas.addEventListener("contextmenu",e=>{this.body.eventListeners.onContext(e)}),this.hammerFrame=new gl(this.frame),iY(this.hammerFrame,e=>{this.body.eventListeners.onRelease(e)})}setSize(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.options.width,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.options.height;e=this._prepareValue(e),r=this._prepareValue(r);let n=!1;const i=this.frame.canvas.width,s=this.frame.canvas.height,a=this.pixelRatio;if(this._setPixelRatio(),e!=this.options.width||r!=this.options.height||this.frame.style.width!=e||this.frame.style.height!=r)this._getCameraState(a),this.frame.style.width=e,this.frame.style.height=r,this.frame.canvas.style.width="100%",this.frame.canvas.style.height="100%",this.frame.canvas.width=Math.round(this.frame.canvas.clientWidth*this.pixelRatio),this.frame.canvas.height=Math.round(this.frame.canvas.clientHeight*this.pixelRatio),this.options.width=e,this.options.height=r,this.canvasViewCenter={x:.5*this.frame.clientWidth,y:.5*this.frame.clientHeight},n=!0;else{const o=Math.round(this.frame.canvas.clientWidth*this.pixelRatio),l=Math.round(this.frame.canvas.clientHeight*this.pixelRatio);(this.frame.canvas.width!==o||this.frame.canvas.height!==l)&&this._getCameraState(a),this.frame.canvas.width!==o&&(this.frame.canvas.width=o,n=!0),this.frame.canvas.height!==l&&(this.frame.canvas.height=l,n=!0)}return n===!0&&(this.body.emitter.emit("resize",{width:Math.round(this.frame.canvas.width/this.pixelRatio),height:Math.round(this.frame.canvas.height/this.pixelRatio),oldWidth:Math.round(i/this.pixelRatio),oldHeight:Math.round(s/this.pixelRatio)}),this._setCameraState()),this.initialized=!0,n}getContext(){return this.frame.canvas.getContext("2d")}_determinePixelRatio(){const e=this.getContext();if(e===void 0)throw new Error("Could not get canvax context");let r=1;typeof window<"u"&&(r=window.devicePixelRatio||1);const n=e.webkitBackingStorePixelRatio||e.mozBackingStorePixelRatio||e.msBackingStorePixelRatio||e.oBackingStorePixelRatio||e.backingStorePixelRatio||1;return r/n}_setPixelRatio(){this.pixelRatio=this._determinePixelRatio()}setTransform(){const e=this.getContext();if(e===void 0)throw new Error("Could not get canvax context");e.setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0)}_XconvertDOMtoCanvas(e){return(e-this.body.view.translation.x)/this.body.view.scale}_XconvertCanvasToDOM(e){return e*this.body.view.scale+this.body.view.translation.x}_YconvertDOMtoCanvas(e){return(e-this.body.view.translation.y)/this.body.view.scale}_YconvertCanvasToDOM(e){return e*this.body.view.scale+this.body.view.translation.y}canvasToDOM(e){return{x:this._XconvertCanvasToDOM(e.x),y:this._YconvertCanvasToDOM(e.y)}}DOMtoCanvas(e){return{x:this._XconvertDOMtoCanvas(e.x),y:this._YconvertDOMtoCanvas(e.y)}}}function eye(t,e){const r=Dt({nodes:e,minZoomLevel:Number.MIN_VALUE,maxZoomLevel:1},t??{});if(!Ot(r.nodes))throw new TypeError("Nodes has to be an array of ids.");if(r.nodes.length===0&&(r.nodes=e),!(typeof r.minZoomLevel=="number"&&r.minZoomLevel>0))throw new TypeError("Min zoom level has to be a number higher than zero.");if(!(typeof r.maxZoomLevel=="number"&&r.minZoomLevel<=r.maxZoomLevel))throw new TypeError("Max zoom level has to be a number higher than min zoom level.");return r}class tye{constructor(e,r){var n,i;this.body=e,this.canvas=r,this.animationSpeed=1/this.renderRefreshRate,this.animationEasingFunction="easeInOutQuint",this.easingTime=0,this.sourceScale=0,this.targetScale=0,this.sourceTranslation=0,this.targetTranslation=0,this.lockedOnNodeId=void 0,this.lockedOnNodeOffset=void 0,this.touchTime=0,this.viewFunction=void 0,this.body.emitter.on("fit",ee(n=this.fit).call(n,this)),this.body.emitter.on("animationFinished",()=>{this.body.emitter.emit("_stopRendering")}),this.body.emitter.on("unlockNode",ee(i=this.releaseNode).call(i,this))}setOptions(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.options=e}fit(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;e=eye(e,this.body.nodeIndices);const n=this.canvas.frame.canvas.clientWidth,i=this.canvas.frame.canvas.clientHeight;let s,a;if(n===0||i===0)a=1,s=Ir.getRange(this.body.nodes,e.nodes);else if(r===!0){let u=0;for(const f in this.body.nodes)Object.prototype.hasOwnProperty.call(this.body.nodes,f)&&this.body.nodes[f].predefinedPosition===!0&&(u+=1);if(u>.5*this.body.nodeIndices.length){this.fit(e,!1);return}s=Ir.getRange(this.body.nodes,e.nodes),a=12.662/(this.body.nodeIndices.length+7.4147)+.0964822;const h=Math.min(n/600,i/600);a*=h}else{this.body.emitter.emit("_resizeNodes"),s=Ir.getRange(this.body.nodes,e.nodes);const u=Math.abs(s.maxX-s.minX)*1.1,c=Math.abs(s.maxY-s.minY)*1.1,h=n/u,f=i/c;a=h<=f?h:f}a>e.maxZoomLevel?a=e.maxZoomLevel:a<e.minZoomLevel&&(a=e.minZoomLevel);const l={position:Ir.findCenter(s),scale:a,animation:e.animation};this.moveTo(l)}focus(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(this.body.nodes[e]!==void 0){const n={x:this.body.nodes[e].x,y:this.body.nodes[e].y};r.position=n,r.lockedOnNode=e,this.moveTo(r)}else console.error("Node: "+e+" cannot be found.")}moveTo(e){if(e===void 0){e={};return}if(e.offset!=null){if(e.offset.x!=null){if(e.offset.x=+e.offset.x,!Na(e.offset.x))throw new TypeError('The option "offset.x" has to be a finite number.')}else e.offset.x=0;if(e.offset.y!=null){if(e.offset.y=+e.offset.y,!Na(e.offset.y))throw new TypeError('The option "offset.y" has to be a finite number.')}else e.offset.x=0}else e.offset={x:0,y:0};if(e.position!=null){if(e.position.x!=null){if(e.position.x=+e.position.x,!Na(e.position.x))throw new TypeError('The option "position.x" has to be a finite number.')}else e.position.x=0;if(e.position.y!=null){if(e.position.y=+e.position.y,!Na(e.position.y))throw new TypeError('The option "position.y" has to be a finite number.')}else e.position.x=0}else e.position=this.getViewPosition();if(e.scale!=null){if(e.scale=+e.scale,!(e.scale>0))throw new TypeError('The option "scale" has to be a number greater than zero.')}else e.scale=this.body.view.scale;e.animation===void 0&&(e.animation={duration:0}),e.animation===!1&&(e.animation={duration:0}),e.animation===!0&&(e.animation={}),e.animation.duration===void 0&&(e.animation.duration=1e3),e.animation.easingFunction===void 0&&(e.animation.easingFunction="easeInOutQuad"),this.animateView(e)}animateView(e){if(e===void 0)return;this.animationEasingFunction=e.animation.easingFunction,this.releaseNode(),e.locked===!0&&(this.lockedOnNodeId=e.lockedOnNode,this.lockedOnNodeOffset=e.offset),this.easingTime!=0&&this._transitionRedraw(!0),this.sourceScale=this.body.view.scale,this.sourceTranslation=this.body.view.translation,this.targetScale=e.scale,this.body.view.scale=this.targetScale;const r=this.canvas.DOMtoCanvas({x:.5*this.canvas.frame.canvas.clientWidth,y:.5*this.canvas.frame.canvas.clientHeight}),n={x:r.x-e.position.x,y:r.y-e.position.y};if(this.targetTranslation={x:this.sourceTranslation.x+n.x*this.targetScale+e.offset.x,y:this.sourceTranslation.y+n.y*this.targetScale+e.offset.y},e.animation.duration===0)if(this.lockedOnNodeId!=null){var i;this.viewFunction=ee(i=this._lockedRedraw).call(i,this),this.body.emitter.on("initRedraw",this.viewFunction)}else this.body.view.scale=this.targetScale,this.body.view.translation=this.targetTranslation,this.body.emitter.emit("_requestRedraw");else{var s;this.animationSpeed=1/(60*e.animation.duration*.001)||1/60,this.animationEasingFunction=e.animation.easingFunction,this.viewFunction=ee(s=this._transitionRedraw).call(s,this),this.body.emitter.on("initRedraw",this.viewFunction),this.body.emitter.emit("_startRendering")}}_lockedRedraw(){const e={x:this.body.nodes[this.lockedOnNodeId].x,y:this.body.nodes[this.lockedOnNodeId].y},r=this.canvas.DOMtoCanvas({x:.5*this.canvas.frame.canvas.clientWidth,y:.5*this.canvas.frame.canvas.clientHeight}),n={x:r.x-e.x,y:r.y-e.y},i=this.body.view.translation,s={x:i.x+n.x*this.body.view.scale+this.lockedOnNodeOffset.x,y:i.y+n.y*this.body.view.scale+this.lockedOnNodeOffset.y};this.body.view.translation=s}releaseNode(){this.lockedOnNodeId!==void 0&&this.viewFunction!==void 0&&(this.body.emitter.off("initRedraw",this.viewFunction),this.lockedOnNodeId=void 0,this.lockedOnNodeOffset=void 0)}_transitionRedraw(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;this.easingTime+=this.animationSpeed,this.easingTime=e===!0?1:this.easingTime;const r=upe[this.animationEasingFunction](this.easingTime);if(this.body.view.scale=this.sourceScale+(this.targetScale-this.sourceScale)*r,this.body.view.translation={x:this.sourceTranslation.x+(this.targetTranslation.x-this.sourceTranslation.x)*r,y:this.sourceTranslation.y+(this.targetTranslation.y-this.sourceTranslation.y)*r},this.easingTime>=1){if(this.body.emitter.off("initRedraw",this.viewFunction),this.easingTime=0,this.lockedOnNodeId!=null){var n;this.viewFunction=ee(n=this._lockedRedraw).call(n,this),this.body.emitter.on("initRedraw",this.viewFunction)}this.body.emitter.emit("animationFinished")}}getScale(){return this.body.view.scale}getViewPosition(){return this.canvas.DOMtoCanvas({x:.5*this.canvas.frame.canvas.clientWidth,y:.5*this.canvas.frame.canvas.clientHeight})}}function rW(t){var e=t&&t.preventDefault||!1,r=t&&t.container||window,n={},i={keydown:{},keyup:{}},s={},a;for(a=97;a<=122;a++)s[String.fromCharCode(a)]={code:65+(a-97),shift:!1};for(a=65;a<=90;a++)s[String.fromCharCode(a)]={code:a,shift:!0};for(a=0;a<=9;a++)s[""+a]={code:48+a,shift:!1};for(a=1;a<=12;a++)s["F"+a]={code:111+a,shift:!1};for(a=0;a<=9;a++)s["num"+a]={code:96+a,shift:!1};s["num*"]={code:106,shift:!1},s["num+"]={code:107,shift:!1},s["num-"]={code:109,shift:!1},s["num/"]={code:111,shift:!1},s["num."]={code:110,shift:!1},s.left={code:37,shift:!1},s.up={code:38,shift:!1},s.right={code:39,shift:!1},s.down={code:40,shift:!1},s.space={code:32,shift:!1},s.enter={code:13,shift:!1},s.shift={code:16,shift:void 0},s.esc={code:27,shift:!1},s.backspace={code:8,shift:!1},s.tab={code:9,shift:!1},s.ctrl={code:17,shift:!1},s.alt={code:18,shift:!1},s.delete={code:46,shift:!1},s.pageup={code:33,shift:!1},s.pagedown={code:34,shift:!1},s["="]={code:187,shift:!1},s["-"]={code:189,shift:!1},s["]"]={code:221,shift:!1},s["["]={code:219,shift:!1};var o=function(c){u(c,"keydown")},l=function(c){u(c,"keyup")},u=function(c,h){if(i[h][c.keyCode]!==void 0){for(var f=i[h][c.keyCode],p=0;p<f.length;p++)(f[p].shift===void 0||f[p].shift==!0&&c.shiftKey==!0||f[p].shift==!1&&c.shiftKey==!1)&&f[p].fn(c);e==!0&&c.preventDefault()}};return n.bind=function(c,h,f){if(f===void 0&&(f="keydown"),s[c]===void 0)throw new Error("unsupported key: "+c);i[f][s[c].code]===void 0&&(i[f][s[c].code]=[]),i[f][s[c].code].push({fn:h,shift:s[c].shift})},n.bindAll=function(c,h){h===void 0&&(h="keydown");for(var f in s)s.hasOwnProperty(f)&&n.bind(f,c,h)},n.getKey=function(c){for(var h in s)if(s.hasOwnProperty(h)){if(c.shiftKey==!0&&s[h].shift==!0&&c.keyCode==s[h].code)return h;if(c.shiftKey==!1&&s[h].shift==!1&&c.keyCode==s[h].code)return h;if(c.keyCode==s[h].code&&h=="shift")return h}return"unknown key, currently not supported"},n.unbind=function(c,h,f){if(f===void 0&&(f="keydown"),s[c]===void 0)throw new Error("unsupported key: "+c);if(h!==void 0){var p=[],m=i[f][s[c].code];if(m!==void 0)for(var y=0;y<m.length;y++)m[y].fn==h&&m[y].shift==s[c].shift||p.push(i[f][s[c].code][y]);i[f][s[c].code]=p}else i[f][s[c].code]=[]},n.reset=function(){i={keydown:{},keyup:{}}},n.destroy=function(){i={keydown:{},keyup:{}},r.removeEventListener("keydown",o,!0),r.removeEventListener("keyup",l,!0)},r.addEventListener("keydown",o,!0),r.addEventListener("keyup",l,!0),n}class rye{constructor(e,r){this.body=e,this.canvas=r,this.iconsCreated=!1,this.navigationHammers=[],this.boundFunctions={},this.touchTime=0,this.activated=!1,this.body.emitter.on("activate",()=>{this.activated=!0,this.configureKeyboardBindings()}),this.body.emitter.on("deactivate",()=>{this.activated=!1,this.configureKeyboardBindings()}),this.body.emitter.on("destroy",()=>{this.keycharm!==void 0&&this.keycharm.destroy()}),this.options={}}setOptions(e){e!==void 0&&(this.options=e,this.create())}create(){this.options.navigationButtons===!0?this.iconsCreated===!1&&this.loadNavigationElements():this.iconsCreated===!0&&this.cleanNavigation(),this.configureKeyboardBindings()}cleanNavigation(){if(this.navigationHammers.length!=0){for(let e=0;e<this.navigationHammers.length;e++)this.navigationHammers[e].destroy();this.navigationHammers=[]}this.navigationDOM&&this.navigationDOM.wrapper&&this.navigationDOM.wrapper.parentNode&&this.navigationDOM.wrapper.parentNode.removeChild(this.navigationDOM.wrapper),this.iconsCreated=!1}loadNavigationElements(){this.cleanNavigation(),this.navigationDOM={};const e=["up","down","left","right","zoomIn","zoomOut","zoomExtends"],r=["_moveUp","_moveDown","_moveLeft","_moveRight","_zoomIn","_zoomOut","_fit"];this.navigationDOM.wrapper=document.createElement("div"),this.navigationDOM.wrapper.className="vis-navigation",this.canvas.frame.appendChild(this.navigationDOM.wrapper);for(let a=0;a<e.length;a++){this.navigationDOM[e[a]]=document.createElement("div"),this.navigationDOM[e[a]].className="vis-button vis-"+e[a],this.navigationDOM.wrapper.appendChild(this.navigationDOM[e[a]]);const o=new gl(this.navigationDOM[e[a]]);if(r[a]==="_fit"){var n;ep(o,ee(n=this._fit).call(n,this))}else{var i;ep(o,ee(i=this.bindToRedraw).call(i,this,r[a]))}this.navigationHammers.push(o)}const s=new gl(this.canvas.frame);iY(s,()=>{this._stopMovement()}),this.navigationHammers.push(s),this.iconsCreated=!0}bindToRedraw(e){if(this.boundFunctions[e]===void 0){var r;this.boundFunctions[e]=ee(r=this[e]).call(r,this),this.body.emitter.on("initRedraw",this.boundFunctions[e]),this.body.emitter.emit("_startRendering")}}unbindFromRedraw(e){this.boundFunctions[e]!==void 0&&(this.body.emitter.off("initRedraw",this.boundFunctions[e]),this.body.emitter.emit("_stopRendering"),delete this.boundFunctions[e])}_fit(){new Date().valueOf()-this.touchTime>700&&(this.body.emitter.emit("fit",{duration:700}),this.touchTime=new Date().valueOf())}_stopMovement(){for(const e in this.boundFunctions)Object.prototype.hasOwnProperty.call(this.boundFunctions,e)&&(this.body.emitter.off("initRedraw",this.boundFunctions[e]),this.body.emitter.emit("_stopRendering"));this.boundFunctions={}}_moveUp(){this.body.view.translation.y+=this.options.keyboard.speed.y}_moveDown(){this.body.view.translation.y-=this.options.keyboard.speed.y}_moveLeft(){this.body.view.translation.x+=this.options.keyboard.speed.x}_moveRight(){this.body.view.translation.x-=this.options.keyboard.speed.x}_zoomIn(){const e=this.body.view.scale,r=this.body.view.scale*(1+this.options.keyboard.speed.zoom),n=this.body.view.translation,i=r/e,s=(1-i)*this.canvas.canvasViewCenter.x+n.x*i,a=(1-i)*this.canvas.canvasViewCenter.y+n.y*i;this.body.view.scale=r,this.body.view.translation={x:s,y:a},this.body.emitter.emit("zoom",{direction:"+",scale:this.body.view.scale,pointer:null})}_zoomOut(){const e=this.body.view.scale,r=this.body.view.scale/(1+this.options.keyboard.speed.zoom),n=this.body.view.translation,i=r/e,s=(1-i)*this.canvas.canvasViewCenter.x+n.x*i,a=(1-i)*this.canvas.canvasViewCenter.y+n.y*i;this.body.view.scale=r,this.body.view.translation={x:s,y:a},this.body.emitter.emit("zoom",{direction:"-",scale:this.body.view.scale,pointer:null})}configureKeyboardBindings(){if(this.keycharm!==void 0&&this.keycharm.destroy(),this.options.keyboard.enabled===!0&&(this.options.keyboard.bindToWindow===!0?this.keycharm=rW({container:window,preventDefault:!0}):this.keycharm=rW({container:this.canvas.frame,preventDefault:!0}),this.keycharm.reset(),this.activated===!0)){var e,r,n,i,s,a,o,l,u,c,h,f,p,m,y,b,g,v,x,w,_,E,O,S;ee(e=this.keycharm).call(e,"up",()=>{this.bindToRedraw("_moveUp")},"keydown"),ee(r=this.keycharm).call(r,"down",()=>{this.bindToRedraw("_moveDown")},"keydown"),ee(n=this.keycharm).call(n,"left",()=>{this.bindToRedraw("_moveLeft")},"keydown"),ee(i=this.keycharm).call(i,"right",()=>{this.bindToRedraw("_moveRight")},"keydown"),ee(s=this.keycharm).call(s,"=",()=>{this.bindToRedraw("_zoomIn")},"keydown"),ee(a=this.keycharm).call(a,"num+",()=>{this.bindToRedraw("_zoomIn")},"keydown"),ee(o=this.keycharm).call(o,"num-",()=>{this.bindToRedraw("_zoomOut")},"keydown"),ee(l=this.keycharm).call(l,"-",()=>{this.bindToRedraw("_zoomOut")},"keydown"),ee(u=this.keycharm).call(u,"[",()=>{this.bindToRedraw("_zoomOut")},"keydown"),ee(c=this.keycharm).call(c,"]",()=>{this.bindToRedraw("_zoomIn")},"keydown"),ee(h=this.keycharm).call(h,"pageup",()=>{this.bindToRedraw("_zoomIn")},"keydown"),ee(f=this.keycharm).call(f,"pagedown",()=>{this.bindToRedraw("_zoomOut")},"keydown"),ee(p=this.keycharm).call(p,"up",()=>{this.unbindFromRedraw("_moveUp")},"keyup"),ee(m=this.keycharm).call(m,"down",()=>{this.unbindFromRedraw("_moveDown")},"keyup"),ee(y=this.keycharm).call(y,"left",()=>{this.unbindFromRedraw("_moveLeft")},"keyup"),ee(b=this.keycharm).call(b,"right",()=>{this.unbindFromRedraw("_moveRight")},"keyup"),ee(g=this.keycharm).call(g,"=",()=>{this.unbindFromRedraw("_zoomIn")},"keyup"),ee(v=this.keycharm).call(v,"num+",()=>{this.unbindFromRedraw("_zoomIn")},"keyup"),ee(x=this.keycharm).call(x,"num-",()=>{this.unbindFromRedraw("_zoomOut")},"keyup"),ee(w=this.keycharm).call(w,"-",()=>{this.unbindFromRedraw("_zoomOut")},"keyup"),ee(_=this.keycharm).call(_,"[",()=>{this.unbindFromRedraw("_zoomOut")},"keyup"),ee(E=this.keycharm).call(E,"]",()=>{this.unbindFromRedraw("_zoomIn")},"keyup"),ee(O=this.keycharm).call(O,"pageup",()=>{this.unbindFromRedraw("_zoomIn")},"keyup"),ee(S=this.keycharm).call(S,"pagedown",()=>{this.unbindFromRedraw("_zoomOut")},"keyup")}}}class nye{constructor(e,r,n){var i,s,a,o,l,u,c,h,f,p,m,y,b;this.body=e,this.canvas=r,this.selectionHandler=n,this.navigationHandler=new rye(e,r),this.body.eventListeners.onTap=ee(i=this.onTap).call(i,this),this.body.eventListeners.onTouch=ee(s=this.onTouch).call(s,this),this.body.eventListeners.onDoubleTap=ee(a=this.onDoubleTap).call(a,this),this.body.eventListeners.onHold=ee(o=this.onHold).call(o,this),this.body.eventListeners.onDragStart=ee(l=this.onDragStart).call(l,this),this.body.eventListeners.onDrag=ee(u=this.onDrag).call(u,this),this.body.eventListeners.onDragEnd=ee(c=this.onDragEnd).call(c,this),this.body.eventListeners.onMouseWheel=ee(h=this.onMouseWheel).call(h,this),this.body.eventListeners.onPinch=ee(f=this.onPinch).call(f,this),this.body.eventListeners.onMouseMove=ee(p=this.onMouseMove).call(p,this),this.body.eventListeners.onRelease=ee(m=this.onRelease).call(m,this),this.body.eventListeners.onContext=ee(y=this.onContext).call(y,this),this.touchTime=0,this.drag={},this.pinch={},this.popup=void 0,this.popupObj=void 0,this.popupTimer=void 0,this.body.functions.getPointer=ee(b=this.getPointer).call(b,this),this.options={},this.defaultOptions={dragNodes:!0,dragView:!0,hover:!1,keyboard:{enabled:!1,speed:{x:10,y:10,zoom:.02},bindToWindow:!0,autoFocus:!0},navigationButtons:!1,tooltipDelay:300,zoomView:!0,zoomSpeed:1},Dt(this.options,this.defaultOptions),this.bindEventListeners()}bindEventListeners(){this.body.emitter.on("destroy",()=>{clearTimeout(this.popupTimer),delete this.body.functions.getPointer})}setOptions(e){e!==void 0&&(Xf(["hideEdgesOnDrag","hideEdgesOnZoom","hideNodesOnDrag","keyboard","multiselect","selectable","selectConnectedEdges"],this.options,e),_n(this.options,e,"keyboard"),e.tooltip&&(Dt(this.options.tooltip,e.tooltip),e.tooltip.color&&(this.options.tooltip.color=JP(e.tooltip.color)))),this.navigationHandler.setOptions(this.options)}getPointer(e){return{x:e.x-spe(this.canvas.frame.canvas),y:e.y-ape(this.canvas.frame.canvas)}}onTouch(e){new Date().valueOf()-this.touchTime>50&&(this.drag.pointer=this.getPointer(e.center),this.drag.pinched=!1,this.pinch.scale=this.body.view.scale,this.touchTime=new Date().valueOf())}onTap(e){const r=this.getPointer(e.center),n=this.selectionHandler.options.multiselect&&(e.changedPointers[0].ctrlKey||e.changedPointers[0].metaKey);this.checkSelectionChanges(r,n),this.selectionHandler.commitAndEmit(r,e),this.selectionHandler.generateClickEvent("click",e,r)}onDoubleTap(e){const r=this.getPointer(e.center);this.selectionHandler.generateClickEvent("doubleClick",e,r)}onHold(e){const r=this.getPointer(e.center),n=this.selectionHandler.options.multiselect;this.checkSelectionChanges(r,n),this.selectionHandler.commitAndEmit(r,e),this.selectionHandler.generateClickEvent("click",e,r),this.selectionHandler.generateClickEvent("hold",e,r)}onRelease(e){if(new Date().valueOf()-this.touchTime>10){const r=this.getPointer(e.center);this.selectionHandler.generateClickEvent("release",e,r),this.touchTime=new Date().valueOf()}}onContext(e){const r=this.getPointer({x:e.clientX,y:e.clientY});this.selectionHandler.generateClickEvent("oncontext",e,r)}checkSelectionChanges(e){(arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1)===!0?this.selectionHandler.selectAdditionalOnPoint(e):this.selectionHandler.selectOnPoint(e)}_determineDifference(e,r){const n=function(i,s){const a=[];for(let o=0;o<i.length;o++){const l=i[o];Ue(s).call(s,l)===-1&&a.push(l)}return a};return{nodes:n(e.nodes,r.nodes),edges:n(e.edges,r.edges)}}onDragStart(e){if(this.drag.dragging)return;this.drag.pointer===void 0&&this.onTouch(e);const r=this.selectionHandler.getNodeAt(this.drag.pointer);if(this.drag.dragging=!0,this.drag.selection=[],this.drag.translation=Dt({},this.body.view.translation),this.drag.nodeId=void 0,e.srcEvent.shiftKey){this.body.selectionBox.show=!0;const n=this.getPointer(e.center);this.body.selectionBox.position.start={x:this.canvas._XconvertDOMtoCanvas(n.x),y:this.canvas._YconvertDOMtoCanvas(n.y)},this.body.selectionBox.position.end={x:this.canvas._XconvertDOMtoCanvas(n.x),y:this.canvas._YconvertDOMtoCanvas(n.y)}}else if(r!==void 0&&this.options.dragNodes===!0){this.drag.nodeId=r.id,r.isSelected()===!1&&this.selectionHandler.setSelection({nodes:[r.id]}),this.selectionHandler.generateClickEvent("dragStart",e,this.drag.pointer);for(const n of this.selectionHandler.getSelectedNodes()){const i={id:n.id,node:n,x:n.x,y:n.y,xFixed:n.options.fixed.x,yFixed:n.options.fixed.y};n.options.fixed.x=!0,n.options.fixed.y=!0,this.drag.selection.push(i)}}else this.selectionHandler.generateClickEvent("dragStart",e,this.drag.pointer,void 0,!0)}onDrag(e){if(this.drag.pinched===!0)return;this.body.emitter.emit("unlockNode");const r=this.getPointer(e.center),n=this.drag.selection;if(n&&n.length&&this.options.dragNodes===!0){this.selectionHandler.generateClickEvent("dragging",e,r);const i=r.x-this.drag.pointer.x,s=r.y-this.drag.pointer.y;Ge(n).call(n,a=>{const o=a.node;a.xFixed===!1&&(o.x=this.canvas._XconvertDOMtoCanvas(this.canvas._XconvertCanvasToDOM(a.x)+i)),a.yFixed===!1&&(o.y=this.canvas._YconvertDOMtoCanvas(this.canvas._YconvertCanvasToDOM(a.y)+s))}),this.body.emitter.emit("startSimulation")}else{if(e.srcEvent.shiftKey){if(this.selectionHandler.generateClickEvent("dragging",e,r,void 0,!0),this.drag.pointer===void 0){this.onDragStart(e);return}this.body.selectionBox.position.end={x:this.canvas._XconvertDOMtoCanvas(r.x),y:this.canvas._YconvertDOMtoCanvas(r.y)},this.body.emitter.emit("_requestRedraw")}if(this.options.dragView===!0&&!e.srcEvent.shiftKey){if(this.selectionHandler.generateClickEvent("dragging",e,r,void 0,!0),this.drag.pointer===void 0){this.onDragStart(e);return}const i=r.x-this.drag.pointer.x,s=r.y-this.drag.pointer.y;this.body.view.translation={x:this.drag.translation.x+i,y:this.drag.translation.y+s},this.body.emitter.emit("_requestRedraw")}}}onDragEnd(e){if(this.drag.dragging=!1,this.body.selectionBox.show){var r;this.body.selectionBox.show=!1;const n=this.body.selectionBox.position,i={minX:Math.min(n.start.x,n.end.x),minY:Math.min(n.start.y,n.end.y),maxX:Math.max(n.start.x,n.end.x),maxY:Math.max(n.start.y,n.end.y)},s=Ur(r=this.body.nodeIndices).call(r,o=>{const l=this.body.nodes[o];return l.x>=i.minX&&l.x<=i.maxX&&l.y>=i.minY&&l.y<=i.maxY});Ge(s).call(s,o=>this.selectionHandler.selectObject(this.body.nodes[o]));const a=this.getPointer(e.center);this.selectionHandler.commitAndEmit(a,e),this.selectionHandler.generateClickEvent("dragEnd",e,this.getPointer(e.center),void 0,!0),this.body.emitter.emit("_requestRedraw")}else{const n=this.drag.selection;n&&n.length?(Ge(n).call(n,function(i){i.node.options.fixed.x=i.xFixed,i.node.options.fixed.y=i.yFixed}),this.selectionHandler.generateClickEvent("dragEnd",e,this.getPointer(e.center)),this.body.emitter.emit("startSimulation")):(this.selectionHandler.generateClickEvent("dragEnd",e,this.getPointer(e.center),void 0,!0),this.body.emitter.emit("_requestRedraw"))}}onPinch(e){const r=this.getPointer(e.center);this.drag.pinched=!0,this.pinch.scale===void 0&&(this.pinch.scale=1);const n=this.pinch.scale*e.scale;this.zoom(n,r)}zoom(e,r){if(this.options.zoomView===!0){const n=this.body.view.scale;e<1e-5&&(e=1e-5),e>10&&(e=10);let i;this.drag!==void 0&&this.drag.dragging===!0&&(i=this.canvas.DOMtoCanvas(this.drag.pointer));const s=this.body.view.translation,a=e/n,o=(1-a)*r.x+s.x*a,l=(1-a)*r.y+s.y*a;if(this.body.view.scale=e,this.body.view.translation={x:o,y:l},i!=null){const u=this.canvas.canvasToDOM(i);this.drag.pointer.x=u.x,this.drag.pointer.y=u.y}this.body.emitter.emit("_requestRedraw"),n<e?this.body.emitter.emit("zoom",{direction:"+",scale:this.body.view.scale,pointer:r}):this.body.emitter.emit("zoom",{direction:"-",scale:this.body.view.scale,pointer:r})}}onMouseWheel(e){if(this.options.zoomView===!0){if(e.deltaY!==0){let r=this.body.view.scale;r*=1+(e.deltaY<0?1:-1)*(this.options.zoomSpeed*.1);const n=this.getPointer({x:e.clientX,y:e.clientY});this.zoom(r,n)}e.preventDefault()}}onMouseMove(e){const r=this.getPointer({x:e.clientX,y:e.clientY});let n=!1;this.popup!==void 0&&(this.popup.hidden===!1&&this._checkHidePopup(r),this.popup.hidden===!1&&(n=!0,this.popup.setPosition(r.x+3,r.y-5),this.popup.show())),this.options.keyboard.autoFocus&&this.options.keyboard.bindToWindow===!1&&this.options.keyboard.enabled===!0&&this.canvas.frame.focus(),n===!1&&(this.popupTimer!==void 0&&(clearInterval(this.popupTimer),this.popupTimer=void 0),this.drag.dragging||(this.popupTimer=Ui(()=>this._checkShowPopup(r),this.options.tooltipDelay))),this.options.hover===!0&&this.selectionHandler.hoverObject(e,r)}_checkShowPopup(e){const r=this.canvas._XconvertDOMtoCanvas(e.x),n=this.canvas._YconvertDOMtoCanvas(e.y),i={left:r,top:n,right:r,bottom:n},s=this.popupObj===void 0?void 0:this.popupObj.id;let a=!1,o="node";if(this.popupObj===void 0){const l=this.body.nodeIndices,u=this.body.nodes;let c;const h=[];for(let f=0;f<l.length;f++)c=u[l[f]],c.isOverlappingWith(i)===!0&&(a=!0,c.getTitle()!==void 0&&h.push(l[f]));h.length>0&&(this.popupObj=u[h[h.length-1]],a=!0)}if(this.popupObj===void 0&&a===!1){const l=this.body.edgeIndices,u=this.body.edges;let c;const h=[];for(let f=0;f<l.length;f++)c=u[l[f]],c.isOverlappingWith(i)===!0&&c.connected===!0&&c.getTitle()!==void 0&&h.push(l[f]);h.length>0&&(this.popupObj=u[h[h.length-1]],o="edge")}this.popupObj!==void 0?this.popupObj.id!==s&&(this.popup===void 0&&(this.popup=new gpe(this.canvas.frame)),this.popup.popupTargetType=o,this.popup.popupTargetId=this.popupObj.id,this.popup.setPosition(e.x+3,e.y-5),this.popup.setText(this.popupObj.getTitle()),this.popup.show(),this.body.emitter.emit("showPopup",this.popupObj.id)):this.popup!==void 0&&(this.popup.hide(),this.body.emitter.emit("hidePopup"))}_checkHidePopup(e){const r=this.selectionHandler._pointerToPositionObject(e);let n=!1;if(this.popup.popupTargetType==="node"){if(this.body.nodes[this.popup.popupTargetId]!==void 0&&(n=this.body.nodes[this.popup.popupTargetId].isOverlappingWith(r),n===!0)){const i=this.selectionHandler.getNodeAt(e);n=i===void 0?!1:i.id===this.popup.popupTargetId}}else this.selectionHandler.getNodeAt(e)===void 0&&this.body.edges[this.popup.popupTargetId]!==void 0&&(n=this.body.edges[this.popup.popupTargetId].isOverlappingWith(r));n===!1&&(this.popupObj=void 0,this.popup.hide(),this.body.emitter.emit("hidePopup"))}}var nW={},iW={},sW;function iye(){if(sW)return iW;sW=1;var t=xI(),e=KG();return t("Set",function(r){return function(){return r(this,arguments.length?arguments[0]:void 0)}},e),iW}var aW;function sye(){return aW||(aW=1,iye()),nW}var oW={},SE,lW;function jo(){if(lW)return SE;lW=1;var t=Cu(),e=TypeError;return SE=function(r){if(typeof r=="object"&&"size"in r&&"has"in r&&"add"in r&&"delete"in r&&"keys"in r)return r;throw new e(t(r)+" is not a set")},SE}var EE,uW;function ko(){if(uW)return EE;uW=1;var t=vn(),e=GG(),r=t("Set"),n=r.prototype;return EE={Set:r,add:e("add",1),has:e("has",1),remove:e("delete",1),proto:n},EE}var OE,cW;function Do(){if(cW)return OE;cW=1;var t=rn();return OE=function(e,r,n){for(var i=n?e:e.iterator,s=e.next,a,o;!(a=t(s,i)).done;)if(o=r(a.value),o!==void 0)return o},OE}var PE,dW;function ah(){if(dW)return PE;dW=1;var t=Do();return PE=function(e,r,n){return n?t(e.keys(),r,!0):e.forEach(r)},PE}var CE,hW;function TI(){if(hW)return CE;hW=1;var t=ko(),e=ah(),r=t.Set,n=t.add;return CE=function(i){var s=new r;return e(i,function(a){n(s,a)}),s},CE}var TE,fW;function oh(){return fW||(fW=1,TE=function(t){return t.size}),TE}var IE,pW;function aye(){return pW||(pW=1,IE=function(t){return{iterator:t,next:t.next,done:!1}}),IE}var NE,mW;function qo(){if(mW)return NE;mW=1;var t=us(),e=Ei(),r=rn(),n=Ru(),i=aye(),s="Invalid size",a=RangeError,o=TypeError,l=Math.max,u=function(c,h){this.set=c,this.size=l(h,0),this.has=t(c.has),this.keys=t(c.keys)};return u.prototype={getIterator:function(){return i(e(r(this.keys,this.set)))},includes:function(c){return r(this.has,this.set,c)}},NE=function(c){e(c);var h=+c.size;if(h!==h)throw new o(s);var f=n(h);if(f<0)throw new a(s);return new u(c,f)},NE}var RE,vW;function oye(){if(vW)return RE;vW=1;var t=jo(),e=ko(),r=TI(),n=oh(),i=qo(),s=ah(),a=Do(),o=e.has,l=e.remove;return RE=function(c){var h=t(this),f=i(c),p=r(h);return n(h)<=f.size?s(h,function(m){f.includes(m)&&l(p,m)}):a(f.getIterator(),function(m){o(p,m)&&l(p,m)}),p},RE}var $E,gW;function Mo(){return gW||(gW=1,$E=function(){return!1}),$E}var yW;function lye(){if(yW)return oW;yW=1;var t=ye(),e=oye(),r=qe(),n=Mo(),i=!n("difference",function(a){return a.size===0}),s=i||r(function(){var a={size:1,has:function(){return!0},keys:function(){var l=0;return{next:function(){var u=l++>1;return o.has(1)&&o.clear(),{done:u,value:2}}}}},o=new Set([1,2,3,4]);return o.difference(a).size!==3});return t({target:"Set",proto:!0,real:!0,forced:s},{difference:e}),oW}var bW={},jE,wW;function uye(){if(wW)return jE;wW=1;var t=jo(),e=ko(),r=oh(),n=qo(),i=ah(),s=Do(),a=e.Set,o=e.add,l=e.has;return jE=function(c){var h=t(this),f=n(c),p=new a;return r(h)>f.size?s(f.getIterator(),function(m){l(h,m)&&o(p,m)}):i(h,function(m){f.includes(m)&&o(p,m)}),p},jE}var xW;function cye(){if(xW)return bW;xW=1;var t=ye(),e=qe(),r=uye(),n=Mo(),i=!n("intersection",function(s){return s.size===2&&s.has(1)&&s.has(2)})||e(function(){return String(Array.from(new Set([1,2,3]).intersection(new Set([3,2]))))!=="3,2"});return t({target:"Set",proto:!0,real:!0,forced:i},{intersection:r}),bW}var _W={},kE,SW;function dye(){if(SW)return kE;SW=1;var t=jo(),e=ko().has,r=oh(),n=qo(),i=ah(),s=Do(),a=bI();return kE=function(l){var u=t(this),c=n(l);if(r(u)<=c.size)return i(u,function(f){if(c.includes(f))return!1},!0)!==!1;var h=c.getIterator();return s(h,function(f){if(e(u,f))return a(h,"normal",!1)})!==!1},kE}var EW;function hye(){if(EW)return _W;EW=1;var t=ye(),e=dye(),r=Mo(),n=!r("isDisjointFrom",function(i){return!i});return t({target:"Set",proto:!0,real:!0,forced:n},{isDisjointFrom:e}),_W}var OW={},DE,PW;function fye(){if(PW)return DE;PW=1;var t=jo(),e=oh(),r=ah(),n=qo();return DE=function(s){var a=t(this),o=n(s);return e(a)>o.size?!1:r(a,function(l){if(!o.includes(l))return!1},!0)!==!1},DE}var CW;function pye(){if(CW)return OW;CW=1;var t=ye(),e=fye(),r=Mo(),n=!r("isSubsetOf",function(i){return i});return t({target:"Set",proto:!0,real:!0,forced:n},{isSubsetOf:e}),OW}var TW={},qE,IW;function mye(){if(IW)return qE;IW=1;var t=jo(),e=ko().has,r=oh(),n=qo(),i=Do(),s=bI();return qE=function(o){var l=t(this),u=n(o);if(r(l)<u.size)return!1;var c=u.getIterator();return i(c,function(h){if(!e(l,h))return s(c,"normal",!1)})!==!1},qE}var NW;function vye(){if(NW)return TW;NW=1;var t=ye(),e=mye(),r=Mo(),n=!r("isSupersetOf",function(i){return!i});return t({target:"Set",proto:!0,real:!0,forced:n},{isSupersetOf:e}),TW}var RW={},ME,$W;function gye(){if($W)return ME;$W=1;var t=jo(),e=ko(),r=TI(),n=qo(),i=Do(),s=e.add,a=e.has,o=e.remove;return ME=function(u){var c=t(this),h=n(u).getIterator(),f=r(c);return i(h,function(p){a(c,p)?o(f,p):s(f,p)}),f},ME}var AE,jW;function sY(){return jW||(jW=1,AE=function(t){try{var e=new Set,r={size:0,has:function(){return!0},keys:function(){return Object.defineProperty({},"next",{get:function(){return e.clear(),e.add(4),function(){return{done:!0}}}})}},n=e[t](r);return n.size===1&&n.values().next().value===4}catch{return!1}}),AE}var kW;function yye(){if(kW)return RW;kW=1;var t=ye(),e=gye(),r=sY(),n=Mo(),i=!n("symmetricDifference")||!r("symmetricDifference");return t({target:"Set",proto:!0,real:!0,forced:i},{symmetricDifference:e}),RW}var DW={},FE,qW;function bye(){if(qW)return FE;qW=1;var t=jo(),e=ko().add,r=TI(),n=qo(),i=Do();return FE=function(a){var o=t(this),l=n(a).getIterator(),u=r(o);return i(l,function(c){e(u,c)}),u},FE}var MW;function wye(){if(MW)return DW;MW=1;var t=ye(),e=bye(),r=sY(),n=Mo(),i=!n("union")||!r("union");return t({target:"Set",proto:!0,real:!0,forced:i},{union:e}),DW}var LE,AW;function xye(){if(AW)return LE;AW=1,Du(),sye(),lye(),cye(),hye(),pye(),vye(),yye(),wye(),SI();var t=Ve();return LE=t.Set,LE}var BE,FW;function _ye(){if(FW)return BE;FW=1;var t=xye();return qu(),BE=t,BE}var zE,LW;function Sye(){return LW||(LW=1,zE=_ye()),zE}var Eye=Sye(),xs=Oe(Eye),BW={},zW={},UE,UW;function Oye(){if(UW)return UE;UW=1;var t=Ae(),e=_I(),r=sm().getWeakData,n=wI(),i=Ei(),s=Eu(),a=nr(),o=am(),l=fa(),u=hr(),c=No(),h=c.set,f=c.getterFor,p=l.find,m=l.findIndex,y=t([].splice),b=0,g=function(w){return w.frozen||(w.frozen=new v)},v=function(){this.entries=[]},x=function(w,_){return p(w.entries,function(E){return E[0]===_})};return v.prototype={get:function(w){var _=x(this,w);if(_)return _[1]},has:function(w){return!!x(this,w)},set:function(w,_){var E=x(this,w);E?E[1]=_:this.entries.push([w,_])},delete:function(w){var _=m(this.entries,function(E){return E[0]===w});return~_&&y(this.entries,_,1),!!~_}},UE={getConstructor:function(w,_,E,O){var S=w(function(T,I){n(T,P),h(T,{type:_,id:b++,frozen:null}),s(I)||o(I,T[O],{that:T,AS_ENTRIES:E})}),P=S.prototype,C=f(_),N=function(T,I,q){var B=C(T),re=r(i(I),!0);return re===!0?g(B).set(I,q):re[B.id]=q,T};return e(P,{delete:function(T){var I=C(this);if(!a(T))return!1;var q=r(T);return q===!0?g(I).delete(T):q&&u(q,I.id)&&delete q[I.id]},has:function(I){var q=C(this);if(!a(I))return!1;var B=r(I);return B===!0?g(q).has(I):B&&u(B,q.id)}}),e(P,E?{get:function(I){var q=C(this);if(a(I)){var B=r(I);if(B===!0)return g(q).get(I);if(B)return B[q.id]}},set:function(I,q){return N(this,I,q)}}:{add:function(I){return N(this,I,!0)}}),S}},UE}var WW;function Pye(){if(WW)return zW;WW=1;var t=HG(),e=ut(),r=Ae(),n=_I(),i=sm(),s=xI(),a=Oye(),o=nr(),l=No().enforce,u=qe(),c=K9(),h=Object,f=Array.isArray,p=h.isExtensible,m=h.isFrozen,y=h.isSealed,b=h.freeze,g=h.seal,v=!e.ActiveXObject&&"ActiveXObject"in e,x,w=function(T){return function(){return T(this,arguments.length?arguments[0]:void 0)}},_=s("WeakMap",w,a),E=_.prototype,O=r(E.set),S=function(){return t&&u(function(){var T=b([]);return O(new _,T,1),!m(T)})};if(c)if(v){x=a.getConstructor(w,"WeakMap",!0),i.enable();var P=r(E.delete),C=r(E.has),N=r(E.get);n(E,{delete:function(T){if(o(T)&&!p(T)){var I=l(this);return I.frozen||(I.frozen=new x),P(this,T)||I.frozen.delete(T)}return P(this,T)},has:function(I){if(o(I)&&!p(I)){var q=l(this);return q.frozen||(q.frozen=new x),C(this,I)||q.frozen.has(I)}return C(this,I)},get:function(I){if(o(I)&&!p(I)){var q=l(this);return q.frozen||(q.frozen=new x),C(this,I)?N(this,I):q.frozen.get(I)}return N(this,I)},set:function(I,q){if(o(I)&&!p(I)){var B=l(this);B.frozen||(B.frozen=new x),C(this,I)?O(this,I,q):B.frozen.set(I,q)}else O(this,I,q);return this}})}else S()&&n(E,{set:function(I,q){var B;return f(I)&&(m(I)?B=b:y(I)&&(B=g)),O(this,I,q),B&&B(I),this}});return zW}var HW;function Cye(){return HW||(HW=1,Pye()),BW}var WE,VW;function Tye(){if(VW)return WE;VW=1,Du(),Cye();var t=Ve();return WE=t.WeakMap,WE}var HE,KW;function Iye(){if(KW)return HE;KW=1;var t=Tye();return qu(),HE=t,HE}var VE,GW;function Nye(){return GW||(GW=1,VE=Iye()),VE}var Rye=Nye(),lh=Oe(Rye);function Pc(t,e,r){$ye(t,e),e.set(t,r)}function $ye(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function iC(t,e,r){return t.set(aY(t,e),r),r}function Ze(t,e){return t.get(aY(t,e))}function aY(t,e,r){if(typeof t=="function"?t===e:t.has(e))return arguments.length<3?e:r;throw new TypeError("Private element is not present on this object")}function YW(t,e){const r=new xs;for(const n of e)t.has(n)||r.add(n);return r}var Wo=new lh,An=new lh;class QW{constructor(){Pc(this,Wo,new xs),Pc(this,An,new xs)}get size(){return Ze(An,this).size}add(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];for(const i of r)Ze(An,this).add(i)}delete(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];for(const i of r)Ze(An,this).delete(i)}clear(){Ze(An,this).clear()}getSelection(){return[...Ze(An,this)]}getChanges(){return{added:[...YW(Ze(Wo,this),Ze(An,this))],deleted:[...YW(Ze(An,this),Ze(Wo,this))],previous:[...new xs(Ze(Wo,this))],current:[...new xs(Ze(An,this))]}}commit(){const e=this.getChanges();iC(Wo,this,Ze(An,this)),iC(An,this,new xs(Ze(Wo,this)));for(const r of e.added)r.select();for(const r of e.deleted)r.unselect();return e}}var va=new lh,ga=new lh,KE=new lh;class jye{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:()=>{};Pc(this,va,new QW),Pc(this,ga,new QW),Pc(this,KE,void 0),iC(KE,this,e)}get sizeNodes(){return Ze(va,this).size}get sizeEdges(){return Ze(ga,this).size}getNodes(){return Ze(va,this).getSelection()}getEdges(){return Ze(ga,this).getSelection()}addNodes(){Ze(va,this).add(...arguments)}addEdges(){Ze(ga,this).add(...arguments)}deleteNodes(e){Ze(va,this).delete(e)}deleteEdges(e){Ze(ga,this).delete(e)}clear(){Ze(va,this).clear(),Ze(ga,this).clear()}commit(){const e={nodes:Ze(va,this).commit(),edges:Ze(ga,this).commit()};for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return Ze(KE,this).call(this,e,...n),e}}class kye{constructor(e,r){this.body=e,this.canvas=r,this._selectionAccumulator=new jye,this.hoverObj={nodes:{},edges:{}},this.options={},this.defaultOptions={multiselect:!1,selectable:!0,selectConnectedEdges:!0,hoverConnectedEdges:!0},Dt(this.options,this.defaultOptions),this.body.emitter.on("_dataChanged",()=>{this.updateSelection()})}setOptions(e){e!==void 0&&Fu(["multiselect","hoverConnectedEdges","selectable","selectConnectedEdges"],this.options,e)}selectOnPoint(e){let r=!1;if(this.options.selectable===!0){const n=this.getNodeAt(e)||this.getEdgeAt(e);this.unselectAll(),n!==void 0&&(r=this.selectObject(n)),this.body.emitter.emit("_requestRedraw")}return r}selectAdditionalOnPoint(e){let r=!1;if(this.options.selectable===!0){const n=this.getNodeAt(e)||this.getEdgeAt(e);n!==void 0&&(r=!0,n.isSelected()===!0?this.deselectObject(n):this.selectObject(n),this.body.emitter.emit("_requestRedraw"))}return r}_initBaseEvent(e,r){const n={};return n.pointer={DOM:{x:r.x,y:r.y},canvas:this.canvas.DOMtoCanvas(r)},n.event=e,n}generateClickEvent(e,r,n,i){let s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1;const a=this._initBaseEvent(r,n);if(s===!0)a.nodes=[],a.edges=[];else{const o=this.getSelection();a.nodes=o.nodes,a.edges=o.edges}i!==void 0&&(a.previousSelection=i),e=="click"&&(a.items=this.getClickedItems(n)),r.controlEdge!==void 0&&(a.controlEdge=r.controlEdge),this.body.emitter.emit(e,a)}selectObject(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.options.selectConnectedEdges;return e!==void 0?(e instanceof ot?(r===!0&&this._selectionAccumulator.addEdges(...e.edges),this._selectionAccumulator.addNodes(e)):this._selectionAccumulator.addEdges(e),!0):!1}deselectObject(e){e.isSelected()===!0&&(e.selected=!1,this._removeFromSelection(e))}_getAllNodesOverlappingWith(e){const r=[],n=this.body.nodes;for(let i=0;i<this.body.nodeIndices.length;i++){const s=this.body.nodeIndices[i];n[s].isOverlappingWith(e)&&r.push(s)}return r}_pointerToPositionObject(e){const r=this.canvas.DOMtoCanvas(e);return{left:r.x-1,top:r.y+1,right:r.x+1,bottom:r.y-1}}getNodeAt(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;const n=this._pointerToPositionObject(e),i=this._getAllNodesOverlappingWith(n);if(i.length>0)return r===!0?this.body.nodes[i[i.length-1]]:i[i.length-1]}_getEdgesOverlappingWith(e,r){const n=this.body.edges;for(let i=0;i<this.body.edgeIndices.length;i++){const s=this.body.edgeIndices[i];n[s].isOverlappingWith(e)&&r.push(s)}}_getAllEdgesOverlappingWith(e){const r=[];return this._getEdgesOverlappingWith(e,r),r}getEdgeAt(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;const n=this.canvas.DOMtoCanvas(e);let i=10,s=null;const a=this.body.edges;for(let o=0;o<this.body.edgeIndices.length;o++){const l=this.body.edgeIndices[o],u=a[l];if(u.connected){const c=u.from.x,h=u.from.y,f=u.to.x,p=u.to.y,m=u.edgeType.getDistanceToEdge(c,h,f,p,n.x,n.y);m<i&&(s=l,i=m)}}if(s!==null)return r===!0?this.body.edges[s]:s}_addToHover(e){e instanceof ot?this.hoverObj.nodes[e.id]=e:this.hoverObj.edges[e.id]=e}_removeFromSelection(e){e instanceof ot?(this._selectionAccumulator.deleteNodes(e),this._selectionAccumulator.deleteEdges(...e.edges)):this._selectionAccumulator.deleteEdges(e)}unselectAll(){this._selectionAccumulator.clear()}getSelectedNodeCount(){return this._selectionAccumulator.sizeNodes}getSelectedEdgeCount(){return this._selectionAccumulator.sizeEdges}_hoverConnectedEdges(e){for(let r=0;r<e.edges.length;r++){const n=e.edges[r];n.hover=!0,this._addToHover(n)}}emitBlurEvent(e,r,n){const i=this._initBaseEvent(e,r);n.hover===!0&&(n.hover=!1,n instanceof ot?(i.node=n.id,this.body.emitter.emit("blurNode",i)):(i.edge=n.id,this.body.emitter.emit("blurEdge",i)))}emitHoverEvent(e,r,n){const i=this._initBaseEvent(e,r);let s=!1;return n.hover===!1&&(n.hover=!0,this._addToHover(n),s=!0,n instanceof ot?(i.node=n.id,this.body.emitter.emit("hoverNode",i)):(i.edge=n.id,this.body.emitter.emit("hoverEdge",i))),s}hoverObject(e,r){let n=this.getNodeAt(r);n===void 0&&(n=this.getEdgeAt(r));let i=!1;for(const s in this.hoverObj.nodes)Object.prototype.hasOwnProperty.call(this.hoverObj.nodes,s)&&(n===void 0||n instanceof ot&&n.id!=s||n instanceof Xs)&&(this.emitBlurEvent(e,r,this.hoverObj.nodes[s]),delete this.hoverObj.nodes[s],i=!0);for(const s in this.hoverObj.edges)Object.prototype.hasOwnProperty.call(this.hoverObj.edges,s)&&(i===!0?(this.hoverObj.edges[s].hover=!1,delete this.hoverObj.edges[s]):(n===void 0||n instanceof Xs&&n.id!=s||n instanceof ot&&!n.hover)&&(this.emitBlurEvent(e,r,this.hoverObj.edges[s]),delete this.hoverObj.edges[s],i=!0));if(n!==void 0){const s=_t(this.hoverObj.edges).length,a=_t(this.hoverObj.nodes).length,o=n instanceof Xs&&s===0&&a===0,l=n instanceof ot&&s===0&&a===0;(i||o||l)&&(i=this.emitHoverEvent(e,r,n)),n instanceof ot&&this.options.hoverConnectedEdges===!0&&this._hoverConnectedEdges(n)}i===!0&&this.body.emitter.emit("_requestRedraw")}commitWithoutEmitting(){this._selectionAccumulator.commit()}commitAndEmit(e,r){let n=!1;const i=this._selectionAccumulator.commit(),s={nodes:i.nodes.previous,edges:i.edges.previous};i.edges.deleted.length>0&&(this.generateClickEvent("deselectEdge",r,e,s),n=!0),i.nodes.deleted.length>0&&(this.generateClickEvent("deselectNode",r,e,s),n=!0),i.nodes.added.length>0&&(this.generateClickEvent("selectNode",r,e),n=!0),i.edges.added.length>0&&(this.generateClickEvent("selectEdge",r,e),n=!0),n===!0&&this.generateClickEvent("select",r,e)}getSelection(){return{nodes:this.getSelectedNodeIds(),edges:this.getSelectedEdgeIds()}}getSelectedNodes(){return this._selectionAccumulator.getNodes()}getSelectedEdges(){return this._selectionAccumulator.getEdges()}getSelectedNodeIds(){var e;return Zl(e=this._selectionAccumulator.getNodes()).call(e,r=>r.id)}getSelectedEdgeIds(){var e;return Zl(e=this._selectionAccumulator.getEdges()).call(e,r=>r.id)}setSelection(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!e||!e.nodes&&!e.edges)throw new TypeError("Selection must be an object with nodes and/or edges properties");if((r.unselectAll||r.unselectAll===void 0)&&this.unselectAll(),e.nodes)for(const n of e.nodes){const i=this.body.nodes[n];if(!i)throw new RangeError('Node with id "'+n+'" not found');this.selectObject(i,r.highlightEdges)}if(e.edges)for(const n of e.edges){const i=this.body.edges[n];if(!i)throw new RangeError('Edge with id "'+n+'" not found');this.selectObject(i)}this.body.emitter.emit("_requestRedraw"),this._selectionAccumulator.commit()}selectNodes(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(!e||e.length===void 0)throw"Selection must be an array with ids";this.setSelection({nodes:e},{highlightEdges:r})}selectEdges(e){if(!e||e.length===void 0)throw"Selection must be an array with ids";this.setSelection({edges:e})}updateSelection(){for(const e in this._selectionAccumulator.getNodes())Object.prototype.hasOwnProperty.call(this.body.nodes,e.id)||this._selectionAccumulator.deleteNodes(e);for(const e in this._selectionAccumulator.getEdges())Object.prototype.hasOwnProperty.call(this.body.edges,e.id)||this._selectionAccumulator.deleteEdges(e)}getClickedItems(e){const r=this.canvas.DOMtoCanvas(e),n=[],i=this.body.nodeIndices,s=this.body.nodes;for(let l=i.length-1;l>=0;l--){const c=s[i[l]].getItemsOnPoint(r);n.push.apply(n,c)}const a=this.body.edgeIndices,o=this.body.edges;for(let l=a.length-1;l>=0;l--){const c=o[a[l]].getItemsOnPoint(r);n.push.apply(n,c)}return n}}var XW={},GE,JW;function Dye(){if(JW)return GE;JW=1;var t=$u(),e=Math.floor,r=function(n,i){var s=n.length;if(s<8)for(var a=1,o,l;a<s;){for(l=a,o=n[a];l&&i(n[l-1],o)>0;)n[l]=n[--l];l!==a++&&(n[l]=o)}else for(var u=e(s/2),c=r(t(n,0,u),i),h=r(t(n,u),i),f=c.length,p=h.length,m=0,y=0;m<f||y<p;)n[m+y]=m<f&&y<p?i(c[m],h[y])<=0?c[m++]:h[y++]:m<f?c[m++]:h[y++];return n};return GE=r,GE}var YE,ZW;function qye(){if(ZW)return YE;ZW=1;var t=Ou(),e=t.match(/firefox\/(\d+)/i);return YE=!!e&&+e[1],YE}var QE,eH;function Mye(){if(eH)return QE;eH=1;var t=Ou();return QE=/MSIE|Trident/.test(t),QE}var XE,tH;function Aye(){if(tH)return XE;tH=1;var t=Ou(),e=t.match(/AppleWebKit\/(\d+)\./);return XE=!!e&&+e[1],XE}var rH;function Fye(){if(rH)return XW;rH=1;var t=ye(),e=Ae(),r=us(),n=gn(),i=cs(),s=iG(),a=Dn(),o=qe(),l=Dye(),u=Mu(),c=qye(),h=Mye(),f=Vd(),p=Aye(),m=[],y=e(m.sort),b=e(m.push),g=o(function(){m.sort(void 0)}),v=o(function(){m.sort(null)}),x=u("sort"),w=!o(function(){if(f)return f<70;if(!(c&&c>3)){if(h)return!0;if(p)return p<603;var O="",S,P,C,N;for(S=65;S<76;S++){switch(P=String.fromCharCode(S),S){case 66:case 69:case 70:case 72:C=3;break;case 68:case 71:C=4;break;default:C=2}for(N=0;N<47;N++)m.push({k:P+N,v:C})}for(m.sort(function(T,I){return I.v-T.v}),N=0;N<m.length;N++)P=m[N].k.charAt(0),O.charAt(O.length-1)!==P&&(O+=P);return O!=="DGBEFHACIJK"}}),_=g||!v||!x||!w,E=function(O){return function(S,P){return P===void 0?-1:S===void 0?1:O!==void 0?+O(S,P)||0:a(S)>a(P)?1:-1}};return t({target:"Array",proto:!0,forced:_},{sort:function(S){S!==void 0&&r(S);var P=n(this);if(w)return S===void 0?y(P):y(P,S);var C=[],N=i(P),T,I;for(I=0;I<N;I++)I in P&&b(C,P[I]);for(l(C,E(S)),T=i(C),I=0;I<T;)P[I]=C[I++];for(;I<N;)s(P,I++);return P}}),XW}var JE,nH;function Lye(){if(nH)return JE;nH=1,Fye();var t=fr();return JE=t("Array","sort"),JE}var ZE,iH;function Bye(){if(iH)return ZE;iH=1;var t=Ft(),e=Lye(),r=Array.prototype;return ZE=function(n){var i=n.sort;return n===r||t(r,n)&&i===r.sort?e:i},ZE}var eO,sH;function zye(){if(sH)return eO;sH=1;var t=Bye();return eO=t,eO}var tO,aH;function Uye(){return aH||(aH=1,tO=zye()),tO}var Wye=Uye(),bl=Oe(Wye),oH={},rO,lH;function Hye(){if(lH)return rO;lH=1;var t=us(),e=gn(),r=Hp(),n=cs(),i=TypeError,s="Reduce of empty array with no initial value",a=function(o){return function(l,u,c,h){var f=e(l),p=r(f),m=n(f);if(t(u),m===0&&c<2)throw new i(s);var y=o?m-1:0,b=o?-1:1;if(c<2)for(;;){if(y in p){h=p[y],y+=b;break}if(y+=b,o?y<0:m<=y)throw new i(s)}for(;o?y>=0:m>y;y+=b)y in p&&(h=u(h,p[y],y,f));return h}};return rO={left:a(!1),right:a(!0)},rO}var nO,uH;function Vye(){if(uH)return nO;uH=1;var t=aG();return nO=t==="NODE",nO}var cH;function Kye(){if(cH)return oH;cH=1;var t=ye(),e=Hye().left,r=Mu(),n=Vd(),i=Vye(),s=!i&&n>79&&n<83,a=s||!r("reduce");return t({target:"Array",proto:!0,forced:a},{reduce:function(l){var u=arguments.length;return e(this,l,u,u>1?arguments[1]:void 0)}}),oH}var iO,dH;function Gye(){if(dH)return iO;dH=1,Kye();var t=fr();return iO=t("Array","reduce"),iO}var sO,hH;function Yye(){if(hH)return sO;hH=1;var t=Ft(),e=Gye(),r=Array.prototype;return sO=function(n){var i=n.reduce;return n===r||t(r,n)&&i===r.reduce?e:i},sO}var aO,fH;function Qye(){if(fH)return aO;fH=1;var t=Yye();return aO=t,aO}var oO,pH;function Xye(){return pH||(pH=1,oO=Qye()),oO}var Jye=Xye(),oY=Oe(Jye);class lY{abstract(){throw new Error("Can't instantiate abstract class!")}fake_use(){}curveType(){return this.abstract()}getPosition(e){return this.fake_use(e),this.abstract()}setPosition(e,r){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0;this.fake_use(e,r,n),this.abstract()}getTreeSize(e){return this.fake_use(e),this.abstract()}sort(e){this.fake_use(e),this.abstract()}fix(e,r){this.fake_use(e,r),this.abstract()}shift(e,r){this.fake_use(e,r),this.abstract()}}class Zye extends lY{constructor(e){super(),this.layout=e}curveType(){return"horizontal"}getPosition(e){return e.x}setPosition(e,r){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0;n!==void 0&&this.layout.hierarchical.addToOrdering(e,n),e.x=r}getTreeSize(e){const r=this.layout.hierarchical.getTreeSize(this.layout.body.nodes,e);return{min:r.min_x,max:r.max_x}}sort(e){bl(e).call(e,function(r,n){return r.x-n.x})}fix(e,r){e.y=this.layout.options.hierarchical.levelSeparation*r,e.options.fixed.y=!0}shift(e,r){this.layout.body.nodes[e].x+=r}}class ebe extends lY{constructor(e){super(),this.layout=e}curveType(){return"vertical"}getPosition(e){return e.y}setPosition(e,r){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0;n!==void 0&&this.layout.hierarchical.addToOrdering(e,n),e.y=r}getTreeSize(e){const r=this.layout.hierarchical.getTreeSize(this.layout.body.nodes,e);return{min:r.min_y,max:r.max_y}}sort(e){bl(e).call(e,function(r,n){return r.y-n.y})}fix(e,r){e.x=this.layout.options.hierarchical.levelSeparation*r,e.options.fixed.x=!0}shift(e,r){this.layout.body.nodes[e].y+=r}}var mH={},vH;function tbe(){if(vH)return mH;vH=1;var t=ye(),e=fa().every,r=Mu(),n=r("every");return t({target:"Array",proto:!0,forced:!n},{every:function(s){return e(this,s,arguments.length>1?arguments[1]:void 0)}}),mH}var lO,gH;function rbe(){if(gH)return lO;gH=1,tbe();var t=fr();return lO=t("Array","every"),lO}var uO,yH;function nbe(){if(yH)return uO;yH=1;var t=Ft(),e=rbe(),r=Array.prototype;return uO=function(n){var i=n.every;return n===r||t(r,n)&&i===r.every?e:i},uO}var cO,bH;function ibe(){if(bH)return cO;bH=1;var t=nbe();return cO=t,cO}var dO,wH;function sbe(){return wH||(wH=1,dO=ibe()),dO}var abe=sbe(),uY=Oe(abe);function obe(t,e){const r=new xs;return Ge(t).call(t,n=>{var i;Ge(i=n.edges).call(i,s=>{s.connected&&r.add(s)})}),Ge(r).call(r,n=>{const i=n.from.id,s=n.to.id;e[i]==null&&(e[i]=0),(e[s]==null||e[i]>=e[s])&&(e[s]=e[i]+1)}),e}function lbe(t){return cY(e=>{var r,n;return uY(r=Ur(n=e.edges).call(n,i=>t.has(i.toId))).call(r,i=>i.to===e)},(e,r)=>r>e,"from",t)}function ube(t){return cY(e=>{var r,n;return uY(r=Ur(n=e.edges).call(n,i=>t.has(i.toId))).call(r,i=>i.from===e)},(e,r)=>r<e,"to",t)}function cY(t,e,r,n){var i;const s=Ka(null),a=oY(i=[...eY(n).call(n)]).call(i,(h,f)=>h+1+f.edges.length,0),o=r+"Id",l=r==="to"?1:-1;for(const[h,f]of n){if(!n.has(h)||!t(f))continue;s[h]=0;const p=[f];let m=0,y;for(;y=p.pop();){var u,c;if(!n.has(h))continue;const b=s[y.id]+l;if(Ge(u=Ur(c=y.edges).call(c,g=>g.connected&&g.to!==g.from&&g[r]!==y&&n.has(g.toId)&&n.has(g.fromId))).call(u,g=>{const v=g[o],x=s[v];(x==null||e(b,x))&&(s[v]=b,p.push(g[r]))}),m>a)return obe(n,s);++m}}return s}class cbe{constructor(){this.childrenReference={},this.parentReference={},this.trees={},this.distributionOrdering={},this.levels={},this.distributionIndex={},this.isTree=!1,this.treeIndex=-1}addRelation(e,r){this.childrenReference[e]===void 0&&(this.childrenReference[e]=[]),this.childrenReference[e].push(r),this.parentReference[r]===void 0&&(this.parentReference[r]=[]),this.parentReference[r].push(e)}checkIfTree(){for(const e in this.parentReference)if(this.parentReference[e].length>1){this.isTree=!1;return}this.isTree=!0}numTrees(){return this.treeIndex+1}setTreeIndex(e,r){r!==void 0&&this.trees[e.id]===void 0&&(this.trees[e.id]=r,this.treeIndex=Math.max(r,this.treeIndex))}ensureLevel(e){this.levels[e]===void 0&&(this.levels[e]=0)}getMaxLevel(e){const r={},n=i=>{if(r[i]!==void 0)return r[i];let s=this.levels[i];if(this.childrenReference[i]){const a=this.childrenReference[i];if(a.length>0)for(let o=0;o<a.length;o++)s=Math.max(s,n(a[o]))}return r[i]=s,s};return n(e)}levelDownstream(e,r){this.levels[r.id]===void 0&&(this.levels[e.id]===void 0&&(this.levels[e.id]=0),this.levels[r.id]=this.levels[e.id]+1)}setMinLevelToZero(){var e;const r=new EI;let n=0;const i=bl(e=[...new xs(Ohe(this.levels))]).call(e,(s,a)=>s-a);for(const s of i)r.set(s,n++);for(const s in this.levels)Object.prototype.hasOwnProperty.call(this.levels,s)&&(this.levels[s]=r.get(this.levels[s]))}getTreeSize(e,r){let n=1e9,i=-1e9,s=1e9,a=-1e9;for(const o in this.trees)if(Object.prototype.hasOwnProperty.call(this.trees,o)&&this.trees[o]===r){const l=e[o];n=Math.min(l.x,n),i=Math.max(l.x,i),s=Math.min(l.y,s),a=Math.max(l.y,a)}return{min_x:n,max_x:i,min_y:s,max_y:a}}hasSameParent(e,r){const n=this.parentReference[e.id],i=this.parentReference[r.id];if(n===void 0||i===void 0)return!1;for(let s=0;s<n.length;s++)for(let a=0;a<i.length;a++)if(n[s]==i[a])return!0;return!1}inSameSubNetwork(e,r){return this.trees[e.id]===this.trees[r.id]}getLevels(){return _t(this.distributionOrdering)}addToOrdering(e,r){this.distributionOrdering[r]===void 0&&(this.distributionOrdering[r]=[]);let n=!1;const i=this.distributionOrdering[r];for(const s in i)if(i[s]===e){n=!0;break}n||(this.distributionOrdering[r].push(e),this.distributionIndex[e.id]=this.distributionOrdering[r].length-1)}}class dbe{constructor(e){this.body=e,this._resetRNG(Math.random()+":"+Kf()),this.setPhysics=!1,this.options={},this.optionsBackup={physics:{}},this.defaultOptions={randomSeed:void 0,improvedLayout:!0,clusterThreshold:150,hierarchical:{enabled:!1,levelSeparation:150,nodeSpacing:100,treeSpacing:200,blockShifting:!0,edgeMinimization:!0,parentCentralization:!0,direction:"UD",sortMethod:"hubsize"}},Dt(this.options,this.defaultOptions),this.bindEventListeners()}bindEventListeners(){this.body.emitter.on("_dataChanged",()=>{this.setupHierarchicalLayout()}),this.body.emitter.on("_dataLoaded",()=>{this.layoutNetwork()}),this.body.emitter.on("_resetHierarchicalLayout",()=>{this.setupHierarchicalLayout()}),this.body.emitter.on("_adjustEdgesForHierarchicalLayout",()=>{if(this.options.hierarchical.enabled!==!0)return;const e=this.direction.curveType();this.body.emitter.emit("_forceDisableDynamicCurves",e,!1)})}setOptions(e,r){if(e!==void 0){const n=this.options.hierarchical,i=n.enabled;if(Fu(["randomSeed","improvedLayout","clusterThreshold"],this.options,e),_n(this.options,e,"hierarchical"),e.randomSeed!==void 0&&this._resetRNG(e.randomSeed),n.enabled===!0)return i===!0&&this.body.emitter.emit("refresh",!0),n.direction==="RL"||n.direction==="DU"?n.levelSeparation>0&&(n.levelSeparation*=-1):n.levelSeparation<0&&(n.levelSeparation*=-1),this.setDirectionStrategy(),this.body.emitter.emit("_resetHierarchicalLayout"),this.adaptAllOptionsForHierarchicalLayout(r);if(i===!0)return this.body.emitter.emit("refresh"),et(r,this.optionsBackup)}return r}_resetRNG(e){this.initialRandomSeed=e,this._rng=im(this.initialRandomSeed)}adaptAllOptionsForHierarchicalLayout(e){if(this.options.hierarchical.enabled===!0){const r=this.optionsBackup.physics;e.physics===void 0||e.physics===!0?(e.physics={enabled:r.enabled===void 0?!0:r.enabled,solver:"hierarchicalRepulsion"},r.enabled=r.enabled===void 0?!0:r.enabled,r.solver=r.solver||"barnesHut"):typeof e.physics=="object"?(r.enabled=e.physics.enabled===void 0?!0:e.physics.enabled,r.solver=e.physics.solver||"barnesHut",e.physics.solver="hierarchicalRepulsion"):e.physics!==!1&&(r.solver="barnesHut",e.physics={solver:"hierarchicalRepulsion"});let n=this.direction.curveType();if(e.edges===void 0)this.optionsBackup.edges={smooth:{enabled:!0,type:"dynamic"}},e.edges={smooth:!1};else if(e.edges.smooth===void 0)this.optionsBackup.edges={smooth:{enabled:!0,type:"dynamic"}},e.edges.smooth=!1;else if(typeof e.edges.smooth=="boolean")this.optionsBackup.edges={smooth:e.edges.smooth},e.edges.smooth={enabled:e.edges.smooth,type:n};else{const i=e.edges.smooth;i.type!==void 0&&i.type!=="dynamic"&&(n=i.type),this.optionsBackup.edges={smooth:{enabled:i.enabled===void 0?!0:i.enabled,type:i.type===void 0?"dynamic":i.type,roundness:i.roundness===void 0?.5:i.roundness,forceDirection:i.forceDirection===void 0?!1:i.forceDirection}},e.edges.smooth={enabled:i.enabled===void 0?!0:i.enabled,type:n,roundness:i.roundness===void 0?.5:i.roundness,forceDirection:i.forceDirection===void 0?!1:i.forceDirection}}this.body.emitter.emit("_forceDisableDynamicCurves",n)}return e}positionInitially(e){if(this.options.hierarchical.enabled!==!0){this._resetRNG(this.initialRandomSeed);const r=e.length+50;for(let n=0;n<e.length;n++){const i=e[n],s=2*Math.PI*this._rng();i.x===void 0&&(i.x=r*Math.cos(s)),i.y===void 0&&(i.y=r*Math.sin(s))}}}layoutNetwork(){if(this.options.hierarchical.enabled!==!0&&this.options.improvedLayout===!0){const e=this.body.nodeIndices;let r=0;for(let n=0;n<e.length;n++)this.body.nodes[e[n]].predefinedPosition===!0&&(r+=1);if(r<.5*e.length){let i=0;const s=this.options.clusterThreshold,a={clusterNodeProperties:{shape:"ellipse",label:"",group:"",font:{multi:!1}},clusterEdgeProperties:{label:"",font:{multi:!1},smooth:{enabled:!1}}};if(e.length>s){const l=e.length;for(;e.length>s&&i<=10;){i+=1;const u=e.length;i%3===0?this.body.modules.clustering.clusterBridges(a):this.body.modules.clustering.clusterOutliers(a);const c=e.length;if(u==c&&i%3!==0){this._declusterAll(),this.body.emitter.emit("_layoutFailed"),console.info("This network could not be positioned by this version of the improved layout algorithm. Please disable improvedLayout for better performance.");return}}this.body.modules.kamadaKawai.setOptions({springLength:Math.max(150,2*l)})}i>10&&console.info("The clustering didn't succeed within the amount of interations allowed, progressing with partial result."),this.body.modules.kamadaKawai.solve(e,this.body.edgeIndices,!0),this._shiftToCenter();const o=70;for(let l=0;l<e.length;l++){const u=this.body.nodes[e[l]];u.predefinedPosition===!1&&(u.x+=(.5-this._rng())*o,u.y+=(.5-this._rng())*o)}this._declusterAll(),this.body.emitter.emit("_repositionBezierNodes")}}}_shiftToCenter(){const e=Ir.getRangeCore(this.body.nodes,this.body.nodeIndices),r=Ir.findCenter(e);for(let n=0;n<this.body.nodeIndices.length;n++){const i=this.body.nodes[this.body.nodeIndices[n]];i.x-=r.x,i.y-=r.y}}_declusterAll(){let e=!0;for(;e===!0;){e=!1;for(let r=0;r<this.body.nodeIndices.length;r++)this.body.nodes[this.body.nodeIndices[r]].isCluster===!0&&(e=!0,this.body.modules.clustering.openCluster(this.body.nodeIndices[r],{},!1));e===!0&&this.body.emitter.emit("_dataChanged")}}getSeed(){return this.initialRandomSeed}setupHierarchicalLayout(){if(this.options.hierarchical.enabled===!0&&this.body.nodeIndices.length>0){let e,r,n=!1,i=!1;this.lastNodeOnLevel={},this.hierarchical=new cbe;for(r in this.body.nodes)Object.prototype.hasOwnProperty.call(this.body.nodes,r)&&(e=this.body.nodes[r],e.options.level!==void 0?(n=!0,this.hierarchical.levels[r]=e.options.level):i=!0);if(i===!0&&n===!0)throw new Error("To use the hierarchical layout, nodes require either no predefined levels or levels have to be defined for all nodes.");{if(i===!0){const a=this.options.hierarchical.sortMethod;a==="hubsize"?this._determineLevelsByHubsize():a==="directed"?this._determineLevelsDirected():a==="custom"&&this._determineLevelsCustomCallback()}for(const a in this.body.nodes)Object.prototype.hasOwnProperty.call(this.body.nodes,a)&&this.hierarchical.ensureLevel(a);const s=this._getDistribution();this._generateMap(),this._placeNodesByHierarchy(s),this._condenseHierarchy(),this._shiftToCenter()}}}_condenseHierarchy(){var e=this;let r=!1;const n={},i=()=>{const g=a();let v=0;for(let x=0;x<g.length-1;x++){const w=g[x].max-g[x+1].min;v+=w+this.options.hierarchical.treeSpacing,s(x+1,v)}},s=(g,v)=>{const x=this.hierarchical.trees;for(const w in x)Object.prototype.hasOwnProperty.call(x,w)&&x[w]===g&&this.direction.shift(w,v)},a=()=>{const g=[];for(let v=0;v<this.hierarchical.numTrees();v++)g.push(this.direction.getTreeSize(v));return g},o=(g,v)=>{if(!v[g.id]&&(v[g.id]=!0,this.hierarchical.childrenReference[g.id])){const x=this.hierarchical.childrenReference[g.id];if(x.length>0)for(let w=0;w<x.length;w++)o(this.body.nodes[x[w]],v)}},l=function(g){let v=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1e9,x=1e9,w=1e9,_=1e9,E=-1e9;for(const O in g)if(Object.prototype.hasOwnProperty.call(g,O)){const S=e.body.nodes[O],P=e.hierarchical.levels[S.id],C=e.direction.getPosition(S),[N,T]=e._getSpaceAroundNode(S,g);x=Math.min(N,x),w=Math.min(T,w),P<=v&&(_=Math.min(C,_),E=Math.max(C,E))}return[_,E,x,w]},u=(g,v)=>{const x=this.hierarchical.getMaxLevel(g.id),w=this.hierarchical.getMaxLevel(v.id);return Math.min(x,w)},c=(g,v,x)=>{const w=this.hierarchical;for(let _=0;_<v.length;_++){const E=v[_],O=w.distributionOrdering[E];if(O.length>1)for(let S=0;S<O.length-1;S++){const P=O[S],C=O[S+1];w.hasSameParent(P,C)&&w.inSameSubNetwork(P,C)&&g(P,C,x)}}},h=function(g,v){let x=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;const w=e.direction.getPosition(g),_=e.direction.getPosition(v),E=Math.abs(_-w),O=e.options.hierarchical.nodeSpacing;if(E>O){const S={},P={};o(g,S),o(v,P);const C=u(g,v),N=l(S,C),T=l(P,C),I=N[1],q=T[0],B=T[2];if(Math.abs(I-q)>O){let Q=I-q+O;Q<-B+O&&(Q=-B+O),Q<0&&(e._shiftBlock(v.id,Q),r=!0,x===!0&&e._centerParent(v))}}},f=(g,v)=>{const x=v.id,w=v.edges,_=this.hierarchical.levels[v.id],E=this.options.hierarchical.levelSeparation*this.options.hierarchical.levelSeparation,O={},S=[];for(let B=0;B<w.length;B++){const re=w[B];if(re.toId!=re.fromId){const Q=re.toId==x?re.from:re.to;O[w[B].id]=Q,this.hierarchical.levels[Q.id]<_&&S.push(re)}}const P=(B,re)=>{let Q=0;for(let L=0;L<re.length;L++)if(O[re[L].id]!==void 0){const G=this.direction.getPosition(O[re[L].id])-B;Q+=G/Math.sqrt(G*G+E)}return Q},C=(B,re)=>{let Q=0;for(let L=0;L<re.length;L++)if(O[re[L].id]!==void 0){const G=this.direction.getPosition(O[re[L].id])-B;Q-=E*Math.pow(G*G+E,-1.5)}return Q},N=(B,re)=>{let Q=this.direction.getPosition(v);const L={};for(let G=0;G<B;G++){const z=P(Q,re),U=C(Q,re),te=40,fe=Math.max(-te,Math.min(te,Math.round(z/U)));if(Q=Q-fe,L[Q]!==void 0)break;L[Q]=G}return Q},T=B=>{const re=this.direction.getPosition(v);if(n[v.id]===void 0){const te={};o(v,te),n[v.id]=te}const Q=l(n[v.id]),L=Q[2],G=Q[3],z=B-re;let U=0;z>0?U=Math.min(z,G-this.options.hierarchical.nodeSpacing):z<0&&(U=-Math.min(-z,L-this.options.hierarchical.nodeSpacing)),U!=0&&(this._shiftBlock(v.id,U),r=!0)},I=B=>{const re=this.direction.getPosition(v),[Q,L]=this._getSpaceAroundNode(v),G=B-re;let z=re;G>0?z=Math.min(re+(L-this.options.hierarchical.nodeSpacing),B):G<0&&(z=Math.max(re-(Q-this.options.hierarchical.nodeSpacing),B)),z!==re&&(this.direction.setPosition(v,z),r=!0)};let q=N(g,S);T(q),q=N(g,w),I(q)},p=g=>{let v=this.hierarchical.getLevels();v=Va(v).call(v);for(let x=0;x<g;x++){r=!1;for(let w=0;w<v.length;w++){const _=v[w],E=this.hierarchical.distributionOrdering[_];for(let O=0;O<E.length;O++)f(1e3,E[O])}if(r!==!0)break}},m=g=>{let v=this.hierarchical.getLevels();v=Va(v).call(v);for(let x=0;x<g&&(r=!1,c(h,v,!0),r===!0);x++);},y=()=>{for(const g in this.body.nodes)Object.prototype.hasOwnProperty.call(this.body.nodes,g)&&this._centerParent(this.body.nodes[g])},b=()=>{let g=this.hierarchical.getLevels();g=Va(g).call(g);for(let v=0;v<g.length;v++){const x=g[v],w=this.hierarchical.distributionOrdering[x];for(let _=0;_<w.length;_++)this._centerParent(w[_])}};this.options.hierarchical.blockShifting===!0&&(m(5),y()),this.options.hierarchical.edgeMinimization===!0&&p(20),this.options.hierarchical.parentCentralization===!0&&b(),i()}_getSpaceAroundNode(e,r){let n=!0;r===void 0&&(n=!1);const i=this.hierarchical.levels[e.id];if(i!==void 0){const s=this.hierarchical.distributionIndex[e.id],a=this.direction.getPosition(e),o=this.hierarchical.distributionOrdering[i];let l=1e9,u=1e9;if(s!==0){const c=o[s-1];if(n===!0&&r[c.id]===void 0||n===!1){const h=this.direction.getPosition(c);l=a-h}}if(s!=o.length-1){const c=o[s+1];if(n===!0&&r[c.id]===void 0||n===!1){const h=this.direction.getPosition(c);u=Math.min(u,h-a)}}return[l,u]}else return[0,0]}_centerParent(e){if(this.hierarchical.parentReference[e.id]){const r=this.hierarchical.parentReference[e.id];for(let n=0;n<r.length;n++){const i=r[n],s=this.body.nodes[i],a=this.hierarchical.childrenReference[i];if(a!==void 0){const o=this._getCenterPosition(a),l=this.direction.getPosition(s),[u,c]=this._getSpaceAroundNode(s),h=l-o;(h<0&&Math.abs(h)<c-this.options.hierarchical.nodeSpacing||h>0&&Math.abs(h)<u-this.options.hierarchical.nodeSpacing)&&this.direction.setPosition(s,o)}}}}_placeNodesByHierarchy(e){this.positionedNodes={};for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r;let i=_t(e[n]);i=this._indexArrayToNodes(i),bl(r=this.direction).call(r,i);let s=0;for(let a=0;a<i.length;a++){const o=i[a];if(this.positionedNodes[o.id]===void 0){const l=this.options.hierarchical.nodeSpacing;let u=l*s;s>0&&(u=this.direction.getPosition(i[a-1])+l),this.direction.setPosition(o,u,n),this._validatePositionAndContinue(o,n,u),s++}}}}_placeBranchNodes(e,r){var n;const i=this.hierarchical.childrenReference[e];if(i===void 0)return;const s=[];for(let o=0;o<i.length;o++)s.push(this.body.nodes[i[o]]);bl(n=this.direction).call(n,s);for(let o=0;o<s.length;o++){const l=s[o],u=this.hierarchical.levels[l.id];if(u>r&&this.positionedNodes[l.id]===void 0){const c=this.options.hierarchical.nodeSpacing;let h;o===0?h=this.direction.getPosition(this.body.nodes[e]):h=this.direction.getPosition(s[o-1])+c,this.direction.setPosition(l,h,u),this._validatePositionAndContinue(l,u,h)}else return}const a=this._getCenterPosition(s);this.direction.setPosition(this.body.nodes[e],a,r)}_validatePositionAndContinue(e,r,n){if(this.hierarchical.isTree){if(this.lastNodeOnLevel[r]!==void 0){const i=this.direction.getPosition(this.body.nodes[this.lastNodeOnLevel[r]]);if(n-i<this.options.hierarchical.nodeSpacing){const s=i+this.options.hierarchical.nodeSpacing-n,a=this._findCommonParent(this.lastNodeOnLevel[r],e.id);this._shiftBlock(a.withChild,s)}}this.lastNodeOnLevel[r]=e.id,this.positionedNodes[e.id]=!0,this._placeBranchNodes(e.id,r)}}_indexArrayToNodes(e){const r=[];for(let n=0;n<e.length;n++)r.push(this.body.nodes[e[n]]);return r}_getDistribution(){const e={};let r,n;for(r in this.body.nodes)if(Object.prototype.hasOwnProperty.call(this.body.nodes,r)){n=this.body.nodes[r];const i=this.hierarchical.levels[r]===void 0?0:this.hierarchical.levels[r];this.direction.fix(n,i),e[i]===void 0&&(e[i]={}),e[i][r]=n}return e}_getActiveEdges(e){const r=[];return Re(e.edges,n=>{var i;Ue(i=this.body.edgeIndices).call(i,n.id)!==-1&&r.push(n)}),r}_getHubSizes(){const e={},r=this.body.nodeIndices;Re(r,i=>{const s=this.body.nodes[i],a=this._getActiveEdges(s).length;e[a]=!0});const n=[];return Re(e,i=>{n.push(Number(i))}),bl(n).call(n,function(i,s){return s-i}),n}_determineLevelsByHubsize(){const e=(n,i)=>{this.hierarchical.levelDownstream(n,i)},r=this._getHubSizes();for(let n=0;n<r.length;++n){const i=r[n];if(i===0)break;Re(this.body.nodeIndices,s=>{const a=this.body.nodes[s];i===this._getActiveEdges(a).length&&this._crawlNetwork(e,s)})}}_determineLevelsCustomCallback(){const r=function(i,s,a){},n=(i,s,a)=>{let o=this.hierarchical.levels[i.id];o===void 0&&(o=this.hierarchical.levels[i.id]=1e5);const l=r(Ir.cloneOptions(i,"node"),Ir.cloneOptions(s,"node"),Ir.cloneOptions(a,"edge"));this.hierarchical.levels[s.id]=o+l};this._crawlNetwork(n),this.hierarchical.setMinLevelToZero()}_determineLevelsDirected(){var e;const r=oY(e=this.body.nodeIndices).call(e,(n,i)=>(n.set(i,this.body.nodes[i]),n),new EI);this.options.hierarchical.shakeTowards==="roots"?this.hierarchical.levels=ube(r):this.hierarchical.levels=lbe(r),this.hierarchical.setMinLevelToZero()}_generateMap(){const e=(r,n)=>{this.hierarchical.levels[n.id]>this.hierarchical.levels[r.id]&&this.hierarchical.addRelation(r.id,n.id)};this._crawlNetwork(e),this.hierarchical.checkIfTree()}_crawlNetwork(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:function(){},r=arguments.length>1?arguments[1]:void 0;const n={},i=(s,a)=>{if(n[s.id]===void 0){this.hierarchical.setTreeIndex(s,a),n[s.id]=!0;let o;const l=this._getActiveEdges(s);for(let u=0;u<l.length;u++){const c=l[u];c.connected===!0&&(c.toId==s.id?o=c.from:o=c.to,s.id!=o.id&&(e(s,o,c),i(o,a)))}}};if(r===void 0){let s=0;for(let a=0;a<this.body.nodeIndices.length;a++){const o=this.body.nodeIndices[a];if(n[o]===void 0){const l=this.body.nodes[o];i(l,s),s+=1}}}else{const s=this.body.nodes[r];if(s===void 0){console.error("Node not found:",r);return}i(s)}}_shiftBlock(e,r){const n={},i=s=>{if(n[s])return;n[s]=!0,this.direction.shift(s,r);const a=this.hierarchical.childrenReference[s];if(a!==void 0)for(let o=0;o<a.length;o++)i(a[o])};i(e)}_findCommonParent(e,r){const n={},i=(a,o)=>{const l=this.hierarchical.parentReference[o];if(l!==void 0)for(let u=0;u<l.length;u++){const c=l[u];a[c]=!0,i(a,c)}},s=(a,o)=>{const l=this.hierarchical.parentReference[o];if(l!==void 0)for(let u=0;u<l.length;u++){const c=l[u];if(a[c]!==void 0)return{foundParent:c,withChild:o};const h=s(a,c);if(h.foundParent!==null)return h}return{foundParent:null,withChild:o}};return i(n,e),s(n,r)}setDirectionStrategy(){this.options.hierarchical.direction==="UD"||this.options.hierarchical.direction==="DU"?this.direction=new Zye(this):this.direction=new ebe(this)}_getCenterPosition(e){let r=1e9,n=-1e9;for(let i=0;i<e.length;i++){let s;if(e[i].id!==void 0)s=e[i];else{const o=e[i];s=this.body.nodes[o]}const a=this.direction.getPosition(s);r=Math.min(r,a),n=Math.max(n,a)}return .5*(r+n)}}class hbe{constructor(e,r,n,i){var s,a;this.body=e,this.canvas=r,this.selectionHandler=n,this.interactionHandler=i,this.editMode=!1,this.manipulationDiv=void 0,this.editModeDiv=void 0,this.closeDiv=void 0,this._domEventListenerCleanupQueue=[],this.temporaryUIFunctions={},this.temporaryEventFunctions=[],this.touchTime=0,this.temporaryIds={nodes:[],edges:[]},this.guiEnabled=!1,this.inMode=!1,this.selectedControlNode=void 0,this.options={},this.defaultOptions={enabled:!1,initiallyActive:!1,addNode:!0,addEdge:!0,editNode:void 0,editEdge:!0,deleteNode:!0,deleteEdge:!0,controlNodeStyle:{shape:"dot",size:6,color:{background:"#ff0000",border:"#3c3c3c",highlight:{background:"#07f968",border:"#3c3c3c"}},borderWidth:2,borderWidthSelected:2}},Dt(this.options,this.defaultOptions),this.body.emitter.on("destroy",()=>{this._clean()}),this.body.emitter.on("_dataChanged",ee(s=this._restore).call(s,this)),this.body.emitter.on("_resetData",ee(a=this._restore).call(a,this))}_restore(){this.inMode!==!1&&(this.options.initiallyActive===!0?this.enableEditMode():this.disableEditMode())}setOptions(e,r,n){r!==void 0&&(r.locale!==void 0?this.options.locale=r.locale:this.options.locale=n.locale,r.locales!==void 0?this.options.locales=r.locales:this.options.locales=n.locales),e!==void 0&&(typeof e=="boolean"?this.options.enabled=e:(this.options.enabled=!0,et(this.options,e)),this.options.initiallyActive===!0&&(this.editMode=!0),this._setup())}toggleEditMode(){this.editMode===!0?this.disableEditMode():this.enableEditMode()}enableEditMode(){this.editMode=!0,this._clean(),this.guiEnabled===!0&&(this.manipulationDiv.style.display="block",this.closeDiv.style.display="block",this.editModeDiv.style.display="none",this.showManipulatorToolbar())}disableEditMode(){this.editMode=!1,this._clean(),this.guiEnabled===!0&&(this.manipulationDiv.style.display="none",this.closeDiv.style.display="none",this.editModeDiv.style.display="block",this._createEditButton())}showManipulatorToolbar(){if(this._clean(),this.manipulationDOM={},this.guiEnabled===!0){var e,r;this.editMode=!0,this.manipulationDiv.style.display="block",this.closeDiv.style.display="block";const n=this.selectionHandler.getSelectedNodeCount(),i=this.selectionHandler.getSelectedEdgeCount(),s=n+i,a=this.options.locales[this.options.locale];let o=!1;this.options.addNode!==!1&&(this._createAddNodeButton(a),o=!0),this.options.addEdge!==!1&&(o===!0?this._createSeperator(1):o=!0,this._createAddEdgeButton(a)),n===1&&typeof this.options.editNode=="function"?(o===!0?this._createSeperator(2):o=!0,this._createEditNodeButton(a)):i===1&&n===0&&this.options.editEdge!==!1&&(o===!0?this._createSeperator(3):o=!0,this._createEditEdgeButton(a)),s!==0&&(n>0&&this.options.deleteNode!==!1?(o===!0&&this._createSeperator(4),this._createDeleteButton(a)):n===0&&this.options.deleteEdge!==!1&&(o===!0&&this._createSeperator(4),this._createDeleteButton(a))),this._bindElementEvents(this.closeDiv,ee(e=this.toggleEditMode).call(e,this)),this._temporaryBindEvent("select",ee(r=this.showManipulatorToolbar).call(r,this))}this.body.emitter.emit("_redraw")}addNodeMode(){var e;if(this.editMode!==!0&&this.enableEditMode(),this._clean(),this.inMode="addNode",this.guiEnabled===!0){var r;const n=this.options.locales[this.options.locale];this.manipulationDOM={},this._createBackButton(n),this._createSeperator(),this._createDescription(n.addDescription||this.options.locales.en.addDescription),this._bindElementEvents(this.closeDiv,ee(r=this.toggleEditMode).call(r,this))}this._temporaryBindEvent("click",ee(e=this._performAddNode).call(e,this))}editNode(){this.editMode!==!0&&this.enableEditMode(),this._clean();const e=this.selectionHandler.getSelectedNodes()[0];if(e!==void 0)if(this.inMode="editNode",typeof this.options.editNode=="function")if(e.isCluster!==!0){const r=et({},e.options,!1);if(r.x=e.x,r.y=e.y,this.options.editNode.length===2)this.options.editNode(r,n=>{n!=null&&this.inMode==="editNode"&&this.body.data.nodes.getDataSet().update(n),this.showManipulatorToolbar()});else throw new Error("The function for edit does not support two arguments (data, callback)")}else alert(this.options.locales[this.options.locale].editClusterError||this.options.locales.en.editClusterError);else throw new Error("No function has been configured to handle the editing of nodes.");else this.showManipulatorToolbar()}addEdgeMode(){var e,r,n,i,s;if(this.editMode!==!0&&this.enableEditMode(),this._clean(),this.inMode="addEdge",this.guiEnabled===!0){var a;const o=this.options.locales[this.options.locale];this.manipulationDOM={},this._createBackButton(o),this._createSeperator(),this._createDescription(o.edgeDescription||this.options.locales.en.edgeDescription),this._bindElementEvents(this.closeDiv,ee(a=this.toggleEditMode).call(a,this))}this._temporaryBindUI("onTouch",ee(e=this._handleConnect).call(e,this)),this._temporaryBindUI("onDragEnd",ee(r=this._finishConnect).call(r,this)),this._temporaryBindUI("onDrag",ee(n=this._dragControlNode).call(n,this)),this._temporaryBindUI("onRelease",ee(i=this._finishConnect).call(i,this)),this._temporaryBindUI("onDragStart",ee(s=this._dragStartEdge).call(s,this)),this._temporaryBindUI("onHold",()=>{})}editEdgeMode(){if(this.editMode!==!0&&this.enableEditMode(),this._clean(),this.inMode="editEdge",typeof this.options.editEdge=="object"&&typeof this.options.editEdge.editWithoutDrag=="function"&&(this.edgeBeingEditedId=this.selectionHandler.getSelectedEdgeIds()[0],this.edgeBeingEditedId!==void 0)){const a=this.body.edges[this.edgeBeingEditedId];this._performEditEdge(a.from.id,a.to.id);return}if(this.guiEnabled===!0){var e;const a=this.options.locales[this.options.locale];this.manipulationDOM={},this._createBackButton(a),this._createSeperator(),this._createDescription(a.editEdgeDescription||this.options.locales.en.editEdgeDescription),this._bindElementEvents(this.closeDiv,ee(e=this.toggleEditMode).call(e,this))}if(this.edgeBeingEditedId=this.selectionHandler.getSelectedEdgeIds()[0],this.edgeBeingEditedId!==void 0){var r,n,i,s;const a=this.body.edges[this.edgeBeingEditedId],o=this._getNewTargetNode(a.from.x,a.from.y),l=this._getNewTargetNode(a.to.x,a.to.y);this.temporaryIds.nodes.push(o.id),this.temporaryIds.nodes.push(l.id),this.body.nodes[o.id]=o,this.body.nodeIndices.push(o.id),this.body.nodes[l.id]=l,this.body.nodeIndices.push(l.id),this._temporaryBindUI("onTouch",ee(r=this._controlNodeTouch).call(r,this)),this._temporaryBindUI("onTap",()=>{}),this._temporaryBindUI("onHold",()=>{}),this._temporaryBindUI("onDragStart",ee(n=this._controlNodeDragStart).call(n,this)),this._temporaryBindUI("onDrag",ee(i=this._controlNodeDrag).call(i,this)),this._temporaryBindUI("onDragEnd",ee(s=this._controlNodeDragEnd).call(s,this)),this._temporaryBindUI("onMouseMove",()=>{}),this._temporaryBindEvent("beforeDrawing",u=>{const c=a.edgeType.findBorderPositions(u);o.selected===!1&&(o.x=c.from.x,o.y=c.from.y),l.selected===!1&&(l.x=c.to.x,l.y=c.to.y)}),this.body.emitter.emit("_redraw")}else this.showManipulatorToolbar()}deleteSelected(){this.editMode!==!0&&this.enableEditMode(),this._clean(),this.inMode="delete";const e=this.selectionHandler.getSelectedNodeIds(),r=this.selectionHandler.getSelectedEdgeIds();let n;if(e.length>0){for(let i=0;i<e.length;i++)if(this.body.nodes[e[i]].isCluster===!0){alert(this.options.locales[this.options.locale].deleteClusterError||this.options.locales.en.deleteClusterError);return}typeof this.options.deleteNode=="function"&&(n=this.options.deleteNode)}else r.length>0&&typeof this.options.deleteEdge=="function"&&(n=this.options.deleteEdge);if(typeof n=="function"){const i={nodes:e,edges:r};if(n.length===2)n(i,s=>{s!=null&&this.inMode==="delete"?(this.body.data.edges.getDataSet().remove(s.edges),this.body.data.nodes.getDataSet().remove(s.nodes),this.body.emitter.emit("startSimulation"),this.showManipulatorToolbar()):(this.body.emitter.emit("startSimulation"),this.showManipulatorToolbar())});else throw new Error("The function for delete does not support two arguments (data, callback)")}else this.body.data.edges.getDataSet().remove(r),this.body.data.nodes.getDataSet().remove(e),this.body.emitter.emit("startSimulation"),this.showManipulatorToolbar()}_setup(){this.options.enabled===!0?(this.guiEnabled=!0,this._createWrappers(),this.editMode===!1?this._createEditButton():this.showManipulatorToolbar()):(this._removeManipulationDOM(),this.guiEnabled=!1)}_createWrappers(){if(this.manipulationDiv===void 0&&(this.manipulationDiv=document.createElement("div"),this.manipulationDiv.className="vis-manipulation",this.editMode===!0?this.manipulationDiv.style.display="block":this.manipulationDiv.style.display="none",this.canvas.frame.appendChild(this.manipulationDiv)),this.editModeDiv===void 0&&(this.editModeDiv=document.createElement("div"),this.editModeDiv.className="vis-edit-mode",this.editMode===!0?this.editModeDiv.style.display="none":this.editModeDiv.style.display="block",this.canvas.frame.appendChild(this.editModeDiv)),this.closeDiv===void 0){var e,r;this.closeDiv=document.createElement("button"),this.closeDiv.className="vis-close",this.closeDiv.setAttribute("aria-label",(e=(r=this.options.locales[this.options.locale])===null||r===void 0?void 0:r.close)!==null&&e!==void 0?e:this.options.locales.en.close),this.closeDiv.style.display=this.manipulationDiv.style.display,this.canvas.frame.appendChild(this.closeDiv)}}_getNewTargetNode(e,r){const n=et({},this.options.controlNodeStyle);n.id="targetNode"+Oc(),n.hidden=!1,n.physics=!1,n.x=e,n.y=r;const i=this.body.functions.createNode(n);return i.shape.boundingBox={left:e,right:e,top:r,bottom:r},i}_createEditButton(){var e;this._clean(),this.manipulationDOM={},gs(this.editModeDiv);const r=this.options.locales[this.options.locale],n=this._createButton("editMode","vis-edit vis-edit-mode",r.edit||this.options.locales.en.edit);this.editModeDiv.appendChild(n),this._bindElementEvents(n,ee(e=this.toggleEditMode).call(e,this))}_clean(){this.inMode=!1,this.guiEnabled===!0&&(gs(this.editModeDiv),gs(this.manipulationDiv),this._cleanupDOMEventListeners()),this._cleanupTemporaryNodesAndEdges(),this._unbindTemporaryUIs(),this._unbindTemporaryEvents(),this.body.emitter.emit("restorePhysics")}_cleanupDOMEventListeners(){for(const r of zi(e=this._domEventListenerCleanupQueue).call(e,0)){var e;r()}}_removeManipulationDOM(){this._clean(),gs(this.manipulationDiv),gs(this.editModeDiv),gs(this.closeDiv),this.manipulationDiv&&this.canvas.frame.removeChild(this.manipulationDiv),this.editModeDiv&&this.canvas.frame.removeChild(this.editModeDiv),this.closeDiv&&this.canvas.frame.removeChild(this.closeDiv),this.manipulationDiv=void 0,this.editModeDiv=void 0,this.closeDiv=void 0}_createSeperator(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1;this.manipulationDOM["seperatorLineDiv"+e]=document.createElement("div"),this.manipulationDOM["seperatorLineDiv"+e].className="vis-separator-line",this.manipulationDiv.appendChild(this.manipulationDOM["seperatorLineDiv"+e])}_createAddNodeButton(e){var r;const n=this._createButton("addNode","vis-add",e.addNode||this.options.locales.en.addNode);this.manipulationDiv.appendChild(n),this._bindElementEvents(n,ee(r=this.addNodeMode).call(r,this))}_createAddEdgeButton(e){var r;const n=this._createButton("addEdge","vis-connect",e.addEdge||this.options.locales.en.addEdge);this.manipulationDiv.appendChild(n),this._bindElementEvents(n,ee(r=this.addEdgeMode).call(r,this))}_createEditNodeButton(e){var r;const n=this._createButton("editNode","vis-edit",e.editNode||this.options.locales.en.editNode);this.manipulationDiv.appendChild(n),this._bindElementEvents(n,ee(r=this.editNode).call(r,this))}_createEditEdgeButton(e){var r;const n=this._createButton("editEdge","vis-edit",e.editEdge||this.options.locales.en.editEdge);this.manipulationDiv.appendChild(n),this._bindElementEvents(n,ee(r=this.editEdgeMode).call(r,this))}_createDeleteButton(e){var r;let n;this.options.rtl?n="vis-delete-rtl":n="vis-delete";const i=this._createButton("delete",n,e.del||this.options.locales.en.del);this.manipulationDiv.appendChild(i),this._bindElementEvents(i,ee(r=this.deleteSelected).call(r,this))}_createBackButton(e){var r;const n=this._createButton("back","vis-back",e.back||this.options.locales.en.back);this.manipulationDiv.appendChild(n),this._bindElementEvents(n,ee(r=this.showManipulatorToolbar).call(r,this))}_createButton(e,r,n){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"vis-label";return this.manipulationDOM[e+"Div"]=document.createElement("button"),this.manipulationDOM[e+"Div"].className="vis-button "+r,this.manipulationDOM[e+"Label"]=document.createElement("div"),this.manipulationDOM[e+"Label"].className=i,this.manipulationDOM[e+"Label"].innerText=n,this.manipulationDOM[e+"Div"].appendChild(this.manipulationDOM[e+"Label"]),this.manipulationDOM[e+"Div"]}_createDescription(e){this.manipulationDOM.descriptionLabel=document.createElement("div"),this.manipulationDOM.descriptionLabel.className="vis-none",this.manipulationDOM.descriptionLabel.innerText=e,this.manipulationDiv.appendChild(this.manipulationDOM.descriptionLabel)}_temporaryBindEvent(e,r){this.temporaryEventFunctions.push({event:e,boundFunction:r}),this.body.emitter.on(e,r)}_temporaryBindUI(e,r){if(this.body.eventListeners[e]!==void 0)this.temporaryUIFunctions[e]=this.body.eventListeners[e],this.body.eventListeners[e]=r;else throw new Error("This UI function does not exist. Typo? You tried: "+e+" possible are: "+Zd(_t(this.body.eventListeners)))}_unbindTemporaryUIs(){for(const e in this.temporaryUIFunctions)Object.prototype.hasOwnProperty.call(this.temporaryUIFunctions,e)&&(this.body.eventListeners[e]=this.temporaryUIFunctions[e],delete this.temporaryUIFunctions[e]);this.temporaryUIFunctions={}}_unbindTemporaryEvents(){for(let e=0;e<this.temporaryEventFunctions.length;e++){const r=this.temporaryEventFunctions[e].event,n=this.temporaryEventFunctions[e].boundFunction;this.body.emitter.off(r,n)}this.temporaryEventFunctions=[]}_bindElementEvents(e,r){const n=new gl(e,{});ep(n,r),this._domEventListenerCleanupQueue.push(()=>{n.destroy()});const i=s=>{let{keyCode:a,key:o}=s;(o==="Enter"||o===" "||a===13||a===32)&&r()};e.addEventListener("keyup",i,!1),this._domEventListenerCleanupQueue.push(()=>{e.removeEventListener("keyup",i,!1)})}_cleanupTemporaryNodesAndEdges(){for(let s=0;s<this.temporaryIds.edges.length;s++){var e;this.body.edges[this.temporaryIds.edges[s]].disconnect(),delete this.body.edges[this.temporaryIds.edges[s]];const a=Ue(e=this.body.edgeIndices).call(e,this.temporaryIds.edges[s]);if(a!==-1){var r;zi(r=this.body.edgeIndices).call(r,a,1)}}for(let s=0;s<this.temporaryIds.nodes.length;s++){var n;delete this.body.nodes[this.temporaryIds.nodes[s]];const a=Ue(n=this.body.nodeIndices).call(n,this.temporaryIds.nodes[s]);if(a!==-1){var i;zi(i=this.body.nodeIndices).call(i,a,1)}}this.temporaryIds={nodes:[],edges:[]}}_controlNodeTouch(e){this.selectionHandler.unselectAll(),this.lastTouch=this.body.functions.getPointer(e.center),this.lastTouch.translation=Dt({},this.body.view.translation)}_controlNodeDragStart(){const e=this.lastTouch,r=this.selectionHandler._pointerToPositionObject(e),n=this.body.nodes[this.temporaryIds.nodes[0]],i=this.body.nodes[this.temporaryIds.nodes[1]],s=this.body.edges[this.edgeBeingEditedId];this.selectedControlNode=void 0;const a=n.isOverlappingWith(r),o=i.isOverlappingWith(r);a===!0?(this.selectedControlNode=n,s.edgeType.from=n):o===!0&&(this.selectedControlNode=i,s.edgeType.to=i),this.selectedControlNode!==void 0&&this.selectionHandler.selectObject(this.selectedControlNode),this.body.emitter.emit("_redraw")}_controlNodeDrag(e){this.body.emitter.emit("disablePhysics");const r=this.body.functions.getPointer(e.center),n=this.canvas.DOMtoCanvas(r);this.selectedControlNode!==void 0?(this.selectedControlNode.x=n.x,this.selectedControlNode.y=n.y):this.interactionHandler.onDrag(e),this.body.emitter.emit("_redraw")}_controlNodeDragEnd(e){const r=this.body.functions.getPointer(e.center),n=this.selectionHandler._pointerToPositionObject(r),i=this.body.edges[this.edgeBeingEditedId];if(this.selectedControlNode===void 0)return;this.selectionHandler.unselectAll();const s=this.selectionHandler._getAllNodesOverlappingWith(n);let a;for(let o=s.length-1;o>=0;o--)if(s[o]!==this.selectedControlNode.id){a=this.body.nodes[s[o]];break}if(a!==void 0&&this.selectedControlNode!==void 0)if(a.isCluster===!0)alert(this.options.locales[this.options.locale].createEdgeError||this.options.locales.en.createEdgeError);else{const o=this.body.nodes[this.temporaryIds.nodes[0]];this.selectedControlNode.id===o.id?this._performEditEdge(a.id,i.to.id):this._performEditEdge(i.from.id,a.id)}else i.updateEdgeType(),this.body.emitter.emit("restorePhysics");this.body.emitter.emit("_redraw")}_handleConnect(e){if(new Date().valueOf()-this.touchTime>100){this.lastTouch=this.body.functions.getPointer(e.center),this.lastTouch.translation=Dt({},this.body.view.translation),this.interactionHandler.drag.pointer=this.lastTouch,this.interactionHandler.drag.translation=this.lastTouch.translation;const r=this.lastTouch,n=this.selectionHandler.getNodeAt(r);if(n!==void 0)if(n.isCluster===!0)alert(this.options.locales[this.options.locale].createEdgeError||this.options.locales.en.createEdgeError);else{const i=this._getNewTargetNode(n.x,n.y);this.body.nodes[i.id]=i,this.body.nodeIndices.push(i.id);const s=this.body.functions.createEdge({id:"connectionEdge"+Oc(),from:n.id,to:i.id,physics:!1,smooth:{enabled:!0,type:"continuous",roundness:.5}});this.body.edges[s.id]=s,this.body.edgeIndices.push(s.id),this.temporaryIds.nodes.push(i.id),this.temporaryIds.edges.push(s.id)}this.touchTime=new Date().valueOf()}}_dragControlNode(e){const r=this.body.functions.getPointer(e.center),n=this.selectionHandler._pointerToPositionObject(r);let i;this.temporaryIds.edges[0]!==void 0&&(i=this.body.edges[this.temporaryIds.edges[0]].fromId);const s=this.selectionHandler._getAllNodesOverlappingWith(n);let a;for(let l=s.length-1;l>=0;l--){var o;if(Ue(o=this.temporaryIds.nodes).call(o,s[l])===-1){a=this.body.nodes[s[l]];break}}if(e.controlEdge={from:i,to:a?a.id:void 0},this.selectionHandler.generateClickEvent("controlNodeDragging",e,r),this.temporaryIds.nodes[0]!==void 0){const l=this.body.nodes[this.temporaryIds.nodes[0]];l.x=this.canvas._XconvertDOMtoCanvas(r.x),l.y=this.canvas._YconvertDOMtoCanvas(r.y),this.body.emitter.emit("_redraw")}else this.interactionHandler.onDrag(e)}_finishConnect(e){const r=this.body.functions.getPointer(e.center),n=this.selectionHandler._pointerToPositionObject(r);let i;this.temporaryIds.edges[0]!==void 0&&(i=this.body.edges[this.temporaryIds.edges[0]].fromId);const s=this.selectionHandler._getAllNodesOverlappingWith(n);let a;for(let l=s.length-1;l>=0;l--){var o;if(Ue(o=this.temporaryIds.nodes).call(o,s[l])===-1){a=this.body.nodes[s[l]];break}}this._cleanupTemporaryNodesAndEdges(),a!==void 0&&(a.isCluster===!0?alert(this.options.locales[this.options.locale].createEdgeError||this.options.locales.en.createEdgeError):this.body.nodes[i]!==void 0&&this.body.nodes[a.id]!==void 0&&this._performAddEdge(i,a.id)),e.controlEdge={from:i,to:a?a.id:void 0},this.selectionHandler.generateClickEvent("controlNodeDragEnd",e,r),this.body.emitter.emit("_redraw")}_dragStartEdge(e){const r=this.lastTouch;this.selectionHandler.generateClickEvent("dragStart",e,r,void 0,!0)}_performAddNode(e){const r={id:Oc(),x:e.pointer.canvas.x,y:e.pointer.canvas.y,label:"new"};if(typeof this.options.addNode=="function")if(this.options.addNode.length===2)this.options.addNode(r,n=>{n!=null&&this.inMode==="addNode"&&this.body.data.nodes.getDataSet().add(n),this.showManipulatorToolbar()});else throw this.showManipulatorToolbar(),new Error("The function for add does not support two arguments (data,callback)");else this.body.data.nodes.getDataSet().add(r),this.showManipulatorToolbar()}_performAddEdge(e,r){const n={from:e,to:r};if(typeof this.options.addEdge=="function")if(this.options.addEdge.length===2)this.options.addEdge(n,i=>{i!=null&&this.inMode==="addEdge"&&(this.body.data.edges.getDataSet().add(i),this.selectionHandler.unselectAll(),this.showManipulatorToolbar())});else throw new Error("The function for connect does not support two arguments (data,callback)");else this.body.data.edges.getDataSet().add(n),this.selectionHandler.unselectAll(),this.showManipulatorToolbar()}_performEditEdge(e,r){const n={id:this.edgeBeingEditedId,from:e,to:r,label:this.body.data.edges.get(this.edgeBeingEditedId).label};let i=this.options.editEdge;if(typeof i=="object"&&(i=i.editWithoutDrag),typeof i=="function")if(i.length===2)i(n,s=>{s==null||this.inMode!=="editEdge"?(this.body.edges[n.id].updateEdgeType(),this.body.emitter.emit("_redraw"),this.showManipulatorToolbar()):(this.body.data.edges.getDataSet().update(s),this.selectionHandler.unselectAll(),this.showManipulatorToolbar())});else throw new Error("The function for edit does not support two arguments (data, callback)");else this.body.data.edges.getDataSet().update(n),this.selectionHandler.unselectAll(),this.showManipulatorToolbar()}}const se="string",Z="boolean",A="number",lc="array",me="object",dY="dom",fbe="any",hO=["arrow","bar","box","circle","crow","curve","diamond","image","inv_curve","inv_triangle","triangle","vee"],fO={borderWidth:{number:A},borderWidthSelected:{number:A,undefined:"undefined"},brokenImage:{string:se,undefined:"undefined"},chosen:{label:{boolean:Z,function:"function"},node:{boolean:Z,function:"function"},__type__:{object:me,boolean:Z}},color:{border:{string:se},background:{string:se},highlight:{border:{string:se},background:{string:se},__type__:{object:me,string:se}},hover:{border:{string:se},background:{string:se},__type__:{object:me,string:se}},__type__:{object:me,string:se}},opacity:{number:A,undefined:"undefined"},fixed:{x:{boolean:Z},y:{boolean:Z},__type__:{object:me,boolean:Z}},font:{align:{string:se},color:{string:se},size:{number:A},face:{string:se},background:{string:se},strokeWidth:{number:A},strokeColor:{string:se},vadjust:{number:A},multi:{boolean:Z,string:se},bold:{color:{string:se},size:{number:A},face:{string:se},mod:{string:se},vadjust:{number:A},__type__:{object:me,string:se}},boldital:{color:{string:se},size:{number:A},face:{string:se},mod:{string:se},vadjust:{number:A},__type__:{object:me,string:se}},ital:{color:{string:se},size:{number:A},face:{string:se},mod:{string:se},vadjust:{number:A},__type__:{object:me,string:se}},mono:{color:{string:se},size:{number:A},face:{string:se},mod:{string:se},vadjust:{number:A},__type__:{object:me,string:se}},__type__:{object:me,string:se}},group:{string:se,number:A,undefined:"undefined"},heightConstraint:{minimum:{number:A},valign:{string:se},__type__:{object:me,boolean:Z,number:A}},hidden:{boolean:Z},icon:{face:{string:se},code:{string:se},size:{number:A},color:{string:se},weight:{string:se,number:A},__type__:{object:me}},id:{string:se,number:A},image:{selected:{string:se,undefined:"undefined"},unselected:{string:se,undefined:"undefined"},__type__:{object:me,string:se}},imagePadding:{top:{number:A},right:{number:A},bottom:{number:A},left:{number:A},__type__:{object:me,number:A}},label:{string:se,undefined:"undefined"},labelHighlightBold:{boolean:Z},level:{number:A,undefined:"undefined"},margin:{top:{number:A},right:{number:A},bottom:{number:A},left:{number:A},__type__:{object:me,number:A}},mass:{number:A},physics:{boolean:Z},scaling:{min:{number:A},max:{number:A},label:{enabled:{boolean:Z},min:{number:A},max:{number:A},maxVisible:{number:A},drawThreshold:{number:A},__type__:{object:me,boolean:Z}},customScalingFunction:{function:"function"},__type__:{object:me}},shadow:{enabled:{boolean:Z},color:{string:se},size:{number:A},x:{number:A},y:{number:A},__type__:{object:me,boolean:Z}},shape:{string:["custom","ellipse","circle","database","box","text","image","circularImage","diamond","dot","star","triangle","triangleDown","square","icon","hexagon"]},ctxRenderer:{function:"function"},shapeProperties:{borderDashes:{boolean:Z,array:lc},borderRadius:{number:A},interpolation:{boolean:Z},useImageSize:{boolean:Z},useBorderWithImage:{boolean:Z},coordinateOrigin:{string:["center","top-left"]},__type__:{object:me}},size:{number:A},title:{string:se,dom:dY,undefined:"undefined"},value:{number:A,undefined:"undefined"},widthConstraint:{minimum:{number:A},maximum:{number:A},__type__:{object:me,boolean:Z,number:A}},x:{number:A},y:{number:A},__type__:{object:me}},pbe={configure:{enabled:{boolean:Z},filter:{boolean:Z,string:se,array:lc,function:"function"},container:{dom:dY},showButton:{boolean:Z},__type__:{object:me,boolean:Z,string:se,array:lc,function:"function"}},edges:{arrows:{to:{enabled:{boolean:Z},scaleFactor:{number:A},type:{string:hO},imageHeight:{number:A},imageWidth:{number:A},src:{string:se},__type__:{object:me,boolean:Z}},middle:{enabled:{boolean:Z},scaleFactor:{number:A},type:{string:hO},imageWidth:{number:A},imageHeight:{number:A},src:{string:se},__type__:{object:me,boolean:Z}},from:{enabled:{boolean:Z},scaleFactor:{number:A},type:{string:hO},imageWidth:{number:A},imageHeight:{number:A},src:{string:se},__type__:{object:me,boolean:Z}},__type__:{string:["from","to","middle"],object:me}},endPointOffset:{from:{number:A},to:{number:A},__type__:{object:me,number:A}},arrowStrikethrough:{boolean:Z},background:{enabled:{boolean:Z},color:{string:se},size:{number:A},dashes:{boolean:Z,array:lc},__type__:{object:me,boolean:Z}},chosen:{label:{boolean:Z,function:"function"},edge:{boolean:Z,function:"function"},__type__:{object:me,boolean:Z}},color:{color:{string:se},highlight:{string:se},hover:{string:se},inherit:{string:["from","to","both"],boolean:Z},opacity:{number:A},__type__:{object:me,string:se}},dashes:{boolean:Z,array:lc},font:{color:{string:se},size:{number:A},face:{string:se},background:{string:se},strokeWidth:{number:A},strokeColor:{string:se},align:{string:["horizontal","top","middle","bottom"]},vadjust:{number:A},multi:{boolean:Z,string:se},bold:{color:{string:se},size:{number:A},face:{string:se},mod:{string:se},vadjust:{number:A},__type__:{object:me,string:se}},boldital:{color:{string:se},size:{number:A},face:{string:se},mod:{string:se},vadjust:{number:A},__type__:{object:me,string:se}},ital:{color:{string:se},size:{number:A},face:{string:se},mod:{string:se},vadjust:{number:A},__type__:{object:me,string:se}},mono:{color:{string:se},size:{number:A},face:{string:se},mod:{string:se},vadjust:{number:A},__type__:{object:me,string:se}},__type__:{object:me,string:se}},hidden:{boolean:Z},hoverWidth:{function:"function",number:A},label:{string:se,undefined:"undefined"},labelHighlightBold:{boolean:Z},length:{number:A,undefined:"undefined"},physics:{boolean:Z},scaling:{min:{number:A},max:{number:A},label:{enabled:{boolean:Z},min:{number:A},max:{number:A},maxVisible:{number:A},drawThreshold:{number:A},__type__:{object:me,boolean:Z}},customScalingFunction:{function:"function"},__type__:{object:me}},selectionWidth:{function:"function",number:A},selfReferenceSize:{number:A},selfReference:{size:{number:A},angle:{number:A},renderBehindTheNode:{boolean:Z},__type__:{object:me}},shadow:{enabled:{boolean:Z},color:{string:se},size:{number:A},x:{number:A},y:{number:A},__type__:{object:me,boolean:Z}},smooth:{enabled:{boolean:Z},type:{string:["dynamic","continuous","discrete","diagonalCross","straightCross","horizontal","vertical","curvedCW","curvedCCW","cubicBezier"]},roundness:{number:A},forceDirection:{string:["horizontal","vertical","none"],boolean:Z},__type__:{object:me,boolean:Z}},title:{string:se,undefined:"undefined"},width:{number:A},widthConstraint:{maximum:{number:A},__type__:{object:me,boolean:Z,number:A}},value:{number:A,undefined:"undefined"},__type__:{object:me}},groups:{useDefaultGroups:{boolean:Z},__any__:fO,__type__:{object:me}},interaction:{dragNodes:{boolean:Z},dragView:{boolean:Z},hideEdgesOnDrag:{boolean:Z},hideEdgesOnZoom:{boolean:Z},hideNodesOnDrag:{boolean:Z},hover:{boolean:Z},keyboard:{enabled:{boolean:Z},speed:{x:{number:A},y:{number:A},zoom:{number:A},__type__:{object:me}},bindToWindow:{boolean:Z},autoFocus:{boolean:Z},__type__:{object:me,boolean:Z}},multiselect:{boolean:Z},navigationButtons:{boolean:Z},selectable:{boolean:Z},selectConnectedEdges:{boolean:Z},hoverConnectedEdges:{boolean:Z},tooltipDelay:{number:A},zoomView:{boolean:Z},zoomSpeed:{number:A},__type__:{object:me}},layout:{randomSeed:{undefined:"undefined",number:A,string:se},improvedLayout:{boolean:Z},clusterThreshold:{number:A},hierarchical:{enabled:{boolean:Z},levelSeparation:{number:A},nodeSpacing:{number:A},treeSpacing:{number:A},blockShifting:{boolean:Z},edgeMinimization:{boolean:Z},parentCentralization:{boolean:Z},direction:{string:["UD","DU","LR","RL"]},sortMethod:{string:["hubsize","directed"]},shakeTowards:{string:["leaves","roots"]},__type__:{object:me,boolean:Z}},__type__:{object:me}},manipulation:{enabled:{boolean:Z},initiallyActive:{boolean:Z},addNode:{boolean:Z,function:"function"},addEdge:{boolean:Z,function:"function"},editNode:{function:"function"},editEdge:{editWithoutDrag:{function:"function"},__type__:{object:me,boolean:Z,function:"function"}},deleteNode:{boolean:Z,function:"function"},deleteEdge:{boolean:Z,function:"function"},controlNodeStyle:fO,__type__:{object:me,boolean:Z}},nodes:fO,physics:{enabled:{boolean:Z},barnesHut:{theta:{number:A},gravitationalConstant:{number:A},centralGravity:{number:A},springLength:{number:A},springConstant:{number:A},damping:{number:A},avoidOverlap:{number:A},__type__:{object:me}},forceAtlas2Based:{theta:{number:A},gravitationalConstant:{number:A},centralGravity:{number:A},springLength:{number:A},springConstant:{number:A},damping:{number:A},avoidOverlap:{number:A},__type__:{object:me}},repulsion:{centralGravity:{number:A},springLength:{number:A},springConstant:{number:A},nodeDistance:{number:A},damping:{number:A},__type__:{object:me}},hierarchicalRepulsion:{centralGravity:{number:A},springLength:{number:A},springConstant:{number:A},nodeDistance:{number:A},damping:{number:A},avoidOverlap:{number:A},__type__:{object:me}},maxVelocity:{number:A},minVelocity:{number:A},solver:{string:["barnesHut","repulsion","hierarchicalRepulsion","forceAtlas2Based"]},stabilization:{enabled:{boolean:Z},iterations:{number:A},updateInterval:{number:A},onlyDynamicEdges:{boolean:Z},fit:{boolean:Z},__type__:{object:me,boolean:Z}},timestep:{number:A},adaptiveTimestep:{boolean:Z},wind:{x:{number:A},y:{number:A},__type__:{object:me}},__type__:{object:me,boolean:Z}},autoResize:{boolean:Z},clickToUse:{boolean:Z},locale:{string:se},locales:{__any__:{any:fbe},__type__:{object:me}},height:{string:se},width:{string:se},__type__:{object:me}},hY={nodes:{borderWidth:[1,0,10,1],borderWidthSelected:[2,0,10,1],color:{border:["color","#2B7CE9"],background:["color","#97C2FC"],highlight:{border:["color","#2B7CE9"],background:["color","#D2E5FF"]},hover:{border:["color","#2B7CE9"],background:["color","#D2E5FF"]}},opacity:[0,0,1,.1],fixed:{x:!1,y:!1},font:{color:["color","#343434"],size:[14,0,100,1],face:["arial","verdana","tahoma"],background:["color","none"],strokeWidth:[0,0,50,1],strokeColor:["color","#ffffff"]},hidden:!1,labelHighlightBold:!0,physics:!0,scaling:{min:[10,0,200,1],max:[30,0,200,1],label:{enabled:!1,min:[14,0,200,1],max:[30,0,200,1],maxVisible:[30,0,200,1],drawThreshold:[5,0,20,1]}},shadow:{enabled:!1,color:"rgba(0,0,0,0.5)",size:[10,0,20,1],x:[5,-30,30,1],y:[5,-30,30,1]},shape:["ellipse","box","circle","database","diamond","dot","square","star","text","triangle","triangleDown","hexagon"],shapeProperties:{borderDashes:!1,borderRadius:[6,0,20,1],interpolation:!0,useImageSize:!1},size:[25,0,200,1]},edges:{arrows:{to:{enabled:!1,scaleFactor:[1,0,3,.05],type:"arrow"},middle:{enabled:!1,scaleFactor:[1,0,3,.05],type:"arrow"},from:{enabled:!1,scaleFactor:[1,0,3,.05],type:"arrow"}},endPointOffset:{from:[0,-10,10,1],to:[0,-10,10,1]},arrowStrikethrough:!0,color:{color:["color","#848484"],highlight:["color","#848484"],hover:["color","#848484"],inherit:["from","to","both",!0,!1],opacity:[1,0,1,.05]},dashes:!1,font:{color:["color","#343434"],size:[14,0,100,1],face:["arial","verdana","tahoma"],background:["color","none"],strokeWidth:[2,0,50,1],strokeColor:["color","#ffffff"],align:["horizontal","top","middle","bottom"]},hidden:!1,hoverWidth:[1.5,0,5,.1],labelHighlightBold:!0,physics:!0,scaling:{min:[1,0,100,1],max:[15,0,100,1],label:{enabled:!0,min:[14,0,200,1],max:[30,0,200,1],maxVisible:[30,0,200,1],drawThreshold:[5,0,20,1]}},selectionWidth:[1.5,0,5,.1],selfReferenceSize:[20,0,200,1],selfReference:{size:[20,0,200,1],angle:[Math.PI/2,-6*Math.PI,6*Math.PI,Math.PI/8],renderBehindTheNode:!0},shadow:{enabled:!1,color:"rgba(0,0,0,0.5)",size:[10,0,20,1],x:[5,-30,30,1],y:[5,-30,30,1]},smooth:{enabled:!0,type:["dynamic","continuous","discrete","diagonalCross","straightCross","horizontal","vertical","curvedCW","curvedCCW","cubicBezier"],forceDirection:["horizontal","vertical","none"],roundness:[.5,0,1,.05]},width:[1,0,30,1]},layout:{hierarchical:{enabled:!1,levelSeparation:[150,20,500,5],nodeSpacing:[100,20,500,5],treeSpacing:[200,20,500,5],blockShifting:!0,edgeMinimization:!0,parentCentralization:!0,direction:["UD","DU","LR","RL"],sortMethod:["hubsize","directed"],shakeTowards:["leaves","roots"]}},interaction:{dragNodes:!0,dragView:!0,hideEdgesOnDrag:!1,hideEdgesOnZoom:!1,hideNodesOnDrag:!1,hover:!1,keyboard:{enabled:!1,speed:{x:[10,0,40,1],y:[10,0,40,1],zoom:[.02,0,.1,.005]},bindToWindow:!0,autoFocus:!0},multiselect:!1,navigationButtons:!1,selectable:!0,selectConnectedEdges:!0,hoverConnectedEdges:!0,tooltipDelay:[300,0,1e3,25],zoomView:!0,zoomSpeed:[1,.1,2,.1]},manipulation:{enabled:!1,initiallyActive:!1},physics:{enabled:!0,barnesHut:{theta:[.5,.1,1,.05],gravitationalConstant:[-2e3,-3e4,0,50],centralGravity:[.3,0,10,.05],springLength:[95,0,500,5],springConstant:[.04,0,1.2,.005],damping:[.09,0,1,.01],avoidOverlap:[0,0,1,.01]},forceAtlas2Based:{theta:[.5,.1,1,.05],gravitationalConstant:[-50,-500,0,1],centralGravity:[.01,0,1,.005],springLength:[95,0,500,5],springConstant:[.08,0,1.2,.005],damping:[.4,0,1,.01],avoidOverlap:[0,0,1,.01]},repulsion:{centralGravity:[.2,0,10,.05],springLength:[200,0,500,5],springConstant:[.05,0,1.2,.005],nodeDistance:[100,0,500,5],damping:[.09,0,1,.01]},hierarchicalRepulsion:{centralGravity:[.2,0,10,.05],springLength:[100,0,500,5],springConstant:[.01,0,1.2,.005],nodeDistance:[120,0,500,5],damping:[.09,0,1,.01],avoidOverlap:[0,0,1,.01]},maxVelocity:[50,0,150,1],minVelocity:[.1,.01,.5,.01],solver:["barnesHut","forceAtlas2Based","repulsion","hierarchicalRepulsion"],timestep:[.5,.01,1,.01],wind:{x:[0,-10,10,.1],y:[0,-10,10,.1]}}},mbe=(t,e,r)=>{var n;return!!(Gs(t).call(t,"physics")&&Gs(n=hY.physics.solver).call(n,e)&&r.physics.solver!==e&&e!=="wind")};class vbe{constructor(){}getDistances(e,r,n){const i={},s=e.edges;for(let o=0;o<r.length;o++){const l=r[o],u={};i[l]=u;for(let c=0;c<r.length;c++)u[r[c]]=o==c?0:1e9}for(let o=0;o<n.length;o++){const l=s[n[o]];l.connected===!0&&i[l.fromId]!==void 0&&i[l.toId]!==void 0&&(i[l.fromId][l.toId]=1,i[l.toId][l.fromId]=1)}const a=r.length;for(let o=0;o<a;o++){const l=r[o],u=i[l];for(let c=0;c<a-1;c++){const h=r[c],f=i[h];for(let p=c+1;p<a;p++){const m=r[p],y=i[m],b=Math.min(f[m],f[l]+u[m]);f[m]=b,y[h]=b}}}return i}}class gbe{constructor(e,r,n){this.body=e,this.springLength=r,this.springConstant=n,this.distanceSolver=new vbe}setOptions(e){e&&(e.springLength&&(this.springLength=e.springLength),e.springConstant&&(this.springConstant=e.springConstant))}solve(e,r){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;const i=this.distanceSolver.getDistances(this.body,e,r);this._createL_matrix(i),this._createK_matrix(i),this._createE_matrix();const s=.01,a=1;let o=0;const l=Math.max(1e3,Math.min(10*this.body.nodeIndices.length,6e3)),u=5;let c=1e9,h=0,f=0,p=0,m=0,y=0;for(;c>s&&o<l;)for(o+=1,[h,c,f,p]=this._getHighestEnergyNode(n),m=c,y=0;m>a&&y<u;)y+=1,this._moveNode(h,f,p),[m,f,p]=this._getEnergy(h)}_getHighestEnergyNode(e){const r=this.body.nodeIndices,n=this.body.nodes;let i=0,s=r[0],a=0,o=0;for(let l=0;l<r.length;l++){const u=r[l];if(n[u].predefinedPosition!==!0||n[u].isCluster===!0&&e===!0||n[u].options.fixed.x!==!0||n[u].options.fixed.y!==!0){const[c,h,f]=this._getEnergy(u);i<c&&(i=c,s=u,a=h,o=f)}}return[s,i,a,o]}_getEnergy(e){const[r,n]=this.E_sums[e];return[Math.sqrt(r**2+n**2),r,n]}_moveNode(e,r,n){const i=this.body.nodeIndices,s=this.body.nodes;let a=0,o=0,l=0;const u=s[e].x,c=s[e].y,h=this.K_matrix[e],f=this.L_matrix[e];for(let w=0;w<i.length;w++){const _=i[w];if(_!==e){const E=s[_].x,O=s[_].y,S=h[_],P=f[_],C=1/((u-E)**2+(c-O)**2)**1.5;a+=S*(1-P*(c-O)**2*C),o+=S*(P*(u-E)*(c-O)*C),l+=S*(1-P*(u-E)**2*C)}}const p=a,m=o,y=r,b=l,g=n,v=(y/p+g/m)/(m/p-b/m),x=-(m*v+y)/p;s[e].x+=x,s[e].y+=v,this._updateE_matrix(e)}_createL_matrix(e){const r=this.body.nodeIndices,n=this.springLength;this.L_matrix=[];for(let i=0;i<r.length;i++){this.L_matrix[r[i]]={};for(let s=0;s<r.length;s++)this.L_matrix[r[i]][r[s]]=n*e[r[i]][r[s]]}}_createK_matrix(e){const r=this.body.nodeIndices,n=this.springConstant;this.K_matrix=[];for(let i=0;i<r.length;i++){this.K_matrix[r[i]]={};for(let s=0;s<r.length;s++)this.K_matrix[r[i]][r[s]]=n*e[r[i]][r[s]]**-2}}_createE_matrix(){const e=this.body.nodeIndices,r=this.body.nodes;this.E_matrix={},this.E_sums={};for(let n=0;n<e.length;n++)this.E_matrix[e[n]]=[];for(let n=0;n<e.length;n++){const i=e[n],s=r[i].x,a=r[i].y;let o=0,l=0;for(let u=n;u<e.length;u++){const c=e[u];if(c!==i){const h=r[c].x,f=r[c].y,p=1/Math.sqrt((s-h)**2+(a-f)**2);this.E_matrix[i][u]=[this.K_matrix[i][c]*(s-h-this.L_matrix[i][c]*(s-h)*p),this.K_matrix[i][c]*(a-f-this.L_matrix[i][c]*(a-f)*p)],this.E_matrix[c][n]=this.E_matrix[i][u],o+=this.E_matrix[i][u][0],l+=this.E_matrix[i][u][1]}}this.E_sums[i]=[o,l]}}_updateE_matrix(e){const r=this.body.nodeIndices,n=this.body.nodes,i=this.E_matrix[e],s=this.K_matrix[e],a=this.L_matrix[e],o=n[e].x,l=n[e].y;let u=0,c=0;for(let h=0;h<r.length;h++){const f=r[h];if(f!==e){const p=i[h],m=p[0],y=p[1],b=n[f].x,g=n[f].y,v=1/Math.sqrt((o-b)**2+(l-g)**2),x=s[f]*(o-b-a[f]*(o-b)*v),w=s[f]*(l-g-a[f]*(l-g)*v);i[h]=[x,w],u+=x,c+=w;const _=this.E_sums[f];_[0]+=x-m,_[1]+=w-y}}this.E_sums[e]=[u,c]}}function he(t,e,r){var n,i,s,a;if(!(this instanceof he))throw new SyntaxError("Constructor must be called with the new operator");this.options={},this.defaultOptions={locale:"en",locales:Bpe,clickToUse:!1},Dt(this.options,this.defaultOptions),this.body={container:t,nodes:{},nodeIndices:[],edges:{},edgeIndices:[],emitter:{on:ee(n=this.on).call(n,this),off:ee(i=this.off).call(i,this),emit:ee(s=this.emit).call(s,this),once:ee(a=this.once).call(a,this)},eventListeners:{onTap:function(){},onTouch:function(){},onDoubleTap:function(){},onHold:function(){},onDragStart:function(){},onDrag:function(){},onDragEnd:function(){},onMouseWheel:function(){},onPinch:function(){},onMouseMove:function(){},onRelease:function(){},onContext:function(){}},data:{nodes:null,edges:null},functions:{createNode:function(){},createEdge:function(){},getPointer:function(){}},modules:{},view:{scale:1,translation:{x:0,y:0}},selectionBox:{show:!1,position:{start:{x:0,y:0},end:{x:0,y:0}}}},this.bindEventListeners(),this.images=new Wpe(()=>this.body.emitter.emit("_requestRedraw")),this.groups=new sme,this.canvas=new Zge(this.body),this.selectionHandler=new kye(this.body,this.canvas),this.interactionHandler=new nye(this.body,this.canvas,this.selectionHandler),this.view=new tye(this.body,this.canvas),this.renderer=new Gge(this.body,this.canvas),this.physics=new Lge(this.body),this.layoutEngine=new dbe(this.body),this.clustering=new Kge(this.body),this.manipulation=new hbe(this.body,this.canvas,this.selectionHandler,this.interactionHandler),this.nodesHandler=new pge(this.body,this.images,this.groups,this.layoutEngine),this.edgesHandler=new kge(this.body,this.images,this.groups),this.body.modules.kamadaKawai=new gbe(this.body,150,.05),this.body.modules.clustering=this.clustering,this.canvas._create(),this.setOptions(r),this.setData(e)}z9(he.prototype);he.prototype.setOptions=function(t){if(t===null&&(t=void 0),t!==void 0){if(ype.validate(t,pbe)===!0&&console.error("%cErrors have been found in the supplied options object.",MG),Fu(["locale","locales","clickToUse"],this.options,t),t.locale!==void 0&&(t.locale=zpe(t.locales||this.options.locales,t.locale)),t=this.layoutEngine.setOptions(t.layout,t),this.canvas.setOptions(t),this.groups.setOptions(t.groups),this.nodesHandler.setOptions(t.nodes),this.edgesHandler.setOptions(t.edges),this.physics.setOptions(t.physics),this.manipulation.setOptions(t.manipulation,t,this.options),this.interactionHandler.setOptions(t.interaction),this.renderer.setOptions(t.interaction),this.selectionHandler.setOptions(t.interaction),t.groups!==void 0&&this.body.emitter.emit("refreshNodes"),"configure"in t&&(this.configurator||(this.configurator=new vpe(this,this.body.container,hY,this.canvas.pixelRatio,mbe)),this.configurator.setOptions(t.configure)),this.configurator&&this.configurator.options.enabled===!0){const n={nodes:{},edges:{},layout:{},interaction:{},manipulation:{},physics:{},global:{}};et(n.nodes,this.nodesHandler.options),et(n.edges,this.edgesHandler.options),et(n.layout,this.layoutEngine.options),et(n.interaction,this.selectionHandler.options),et(n.interaction,this.renderer.options),et(n.interaction,this.interactionHandler.options),et(n.manipulation,this.manipulation.options),et(n.physics,this.physics.options),et(n.global,this.canvas.options),et(n.global,this.options),this.configurator.setModuleOptions(n)}t.clickToUse!==void 0?t.clickToUse===!0?this.activator===void 0&&(this.activator=new mpe(this.canvas.frame),this.activator.on("change",()=>{this.body.emitter.emit("activate")})):(this.activator!==void 0&&(this.activator.destroy(),delete this.activator),this.body.emitter.emit("activate")):this.body.emitter.emit("activate"),this.canvas.setSize(),this.body.emitter.emit("startSimulation")}};he.prototype._updateVisibleIndices=function(){const t=this.body.nodes,e=this.body.edges;this.body.nodeIndices=[],this.body.edgeIndices=[];for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&!this.clustering._isClusteredNode(r)&&t[r].options.hidden===!1&&this.body.nodeIndices.push(t[r].id);for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)){const n=e[r],i=t[n.fromId],s=t[n.toId],a=i!==void 0&&s!==void 0;!this.clustering._isClusteredEdge(r)&&n.options.hidden===!1&&a&&i.options.hidden===!1&&s.options.hidden===!1&&this.body.edgeIndices.push(n.id)}};he.prototype.bindEventListeners=function(){this.body.emitter.on("_dataChanged",()=>{this.edgesHandler._updateState(),this.body.emitter.emit("_dataUpdated")}),this.body.emitter.on("_dataUpdated",()=>{this.clustering._updateState(),this._updateVisibleIndices(),this._updateValueRange(this.body.nodes),this._updateValueRange(this.body.edges),this.body.emitter.emit("startSimulation"),this.body.emitter.emit("_requestRedraw")})};he.prototype.setData=function(t){if(this.body.emitter.emit("resetPhysics"),this.body.emitter.emit("_resetData"),this.selectionHandler.unselectAll(),t&&t.dot&&(t.nodes||t.edges))throw new SyntaxError('Data must contain either parameter "dot" or  parameter pair "nodes" and "edges", but not both.');if(this.setOptions(t&&t.options),t&&t.dot){console.warn("The dot property has been deprecated. Please use the static convertDot method to convert DOT into vis.network format and use the normal data format with nodes and edges. This converter is used like this: var data = vis.network.convertDot(dotString);");const e=Tpe(t.dot);this.setData(e);return}else if(t&&t.gephi){console.warn("The gephi property has been deprecated. Please use the static convertGephi method to convert gephi into vis.network format and use the normal data format with nodes and edges. This converter is used like this: var data = vis.network.convertGephi(gephiJson);");const e=Ipe(t.gephi);this.setData(e);return}else this.nodesHandler.setData(t&&t.nodes,!0),this.edgesHandler.setData(t&&t.edges,!0);this.body.emitter.emit("_dataChanged"),this.body.emitter.emit("_dataLoaded"),this.body.emitter.emit("initPhysics")};he.prototype.destroy=function(){this.body.emitter.emit("destroy"),this.body.emitter.off(),this.off(),delete this.groups,delete this.canvas,delete this.selectionHandler,delete this.interactionHandler,delete this.view,delete this.renderer,delete this.physics,delete this.layoutEngine,delete this.clustering,delete this.manipulation,delete this.nodesHandler,delete this.edgesHandler,delete this.configurator,delete this.images;for(const t in this.body.nodes)Object.prototype.hasOwnProperty.call(this.body.nodes,t)&&delete this.body.nodes[t];for(const t in this.body.edges)Object.prototype.hasOwnProperty.call(this.body.edges,t)&&delete this.body.edges[t];gs(this.body.container)};he.prototype._updateValueRange=function(t){let e,r,n,i=0;for(e in t)if(Object.prototype.hasOwnProperty.call(t,e)){const s=t[e].getValue();s!==void 0&&(r=r===void 0?s:Math.min(s,r),n=n===void 0?s:Math.max(s,n),i+=s)}if(r!==void 0&&n!==void 0)for(e in t)Object.prototype.hasOwnProperty.call(t,e)&&t[e].setValueRange(r,n,i)};he.prototype.isActive=function(){return!this.activator||this.activator.active};he.prototype.setSize=function(){return this.canvas.setSize.apply(this.canvas,arguments)};he.prototype.canvasToDOM=function(){return this.canvas.canvasToDOM.apply(this.canvas,arguments)};he.prototype.DOMtoCanvas=function(){return this.canvas.DOMtoCanvas.apply(this.canvas,arguments)};he.prototype.findNode=function(){return this.clustering.findNode.apply(this.clustering,arguments)};he.prototype.isCluster=function(){return this.clustering.isCluster.apply(this.clustering,arguments)};he.prototype.openCluster=function(){return this.clustering.openCluster.apply(this.clustering,arguments)};he.prototype.cluster=function(){return this.clustering.cluster.apply(this.clustering,arguments)};he.prototype.getNodesInCluster=function(){return this.clustering.getNodesInCluster.apply(this.clustering,arguments)};he.prototype.clusterByConnection=function(){return this.clustering.clusterByConnection.apply(this.clustering,arguments)};he.prototype.clusterByHubsize=function(){return this.clustering.clusterByHubsize.apply(this.clustering,arguments)};he.prototype.updateClusteredNode=function(){return this.clustering.updateClusteredNode.apply(this.clustering,arguments)};he.prototype.getClusteredEdges=function(){return this.clustering.getClusteredEdges.apply(this.clustering,arguments)};he.prototype.getBaseEdge=function(){return this.clustering.getBaseEdge.apply(this.clustering,arguments)};he.prototype.getBaseEdges=function(){return this.clustering.getBaseEdges.apply(this.clustering,arguments)};he.prototype.updateEdge=function(){return this.clustering.updateEdge.apply(this.clustering,arguments)};he.prototype.clusterOutliers=function(){return this.clustering.clusterOutliers.apply(this.clustering,arguments)};he.prototype.getSeed=function(){return this.layoutEngine.getSeed.apply(this.layoutEngine,arguments)};he.prototype.enableEditMode=function(){return this.manipulation.enableEditMode.apply(this.manipulation,arguments)};he.prototype.disableEditMode=function(){return this.manipulation.disableEditMode.apply(this.manipulation,arguments)};he.prototype.addNodeMode=function(){return this.manipulation.addNodeMode.apply(this.manipulation,arguments)};he.prototype.editNode=function(){return this.manipulation.editNode.apply(this.manipulation,arguments)};he.prototype.editNodeMode=function(){return console.warn("Deprecated: Please use editNode instead of editNodeMode."),this.manipulation.editNode.apply(this.manipulation,arguments)};he.prototype.addEdgeMode=function(){return this.manipulation.addEdgeMode.apply(this.manipulation,arguments)};he.prototype.editEdgeMode=function(){return this.manipulation.editEdgeMode.apply(this.manipulation,arguments)};he.prototype.deleteSelected=function(){return this.manipulation.deleteSelected.apply(this.manipulation,arguments)};he.prototype.getPositions=function(){return this.nodesHandler.getPositions.apply(this.nodesHandler,arguments)};he.prototype.getPosition=function(){return this.nodesHandler.getPosition.apply(this.nodesHandler,arguments)};he.prototype.storePositions=function(){return this.nodesHandler.storePositions.apply(this.nodesHandler,arguments)};he.prototype.moveNode=function(){return this.nodesHandler.moveNode.apply(this.nodesHandler,arguments)};he.prototype.getBoundingBox=function(){return this.nodesHandler.getBoundingBox.apply(this.nodesHandler,arguments)};he.prototype.getConnectedNodes=function(t){return this.body.nodes[t]!==void 0?this.nodesHandler.getConnectedNodes.apply(this.nodesHandler,arguments):this.edgesHandler.getConnectedNodes.apply(this.edgesHandler,arguments)};he.prototype.getConnectedEdges=function(){return this.nodesHandler.getConnectedEdges.apply(this.nodesHandler,arguments)};he.prototype.startSimulation=function(){return this.physics.startSimulation.apply(this.physics,arguments)};he.prototype.stopSimulation=function(){return this.physics.stopSimulation.apply(this.physics,arguments)};he.prototype.stabilize=function(){return this.physics.stabilize.apply(this.physics,arguments)};he.prototype.getSelection=function(){return this.selectionHandler.getSelection.apply(this.selectionHandler,arguments)};he.prototype.setSelection=function(){return this.selectionHandler.setSelection.apply(this.selectionHandler,arguments)};he.prototype.getSelectedNodes=function(){return this.selectionHandler.getSelectedNodeIds.apply(this.selectionHandler,arguments)};he.prototype.getSelectedEdges=function(){return this.selectionHandler.getSelectedEdgeIds.apply(this.selectionHandler,arguments)};he.prototype.getNodeAt=function(){const t=this.selectionHandler.getNodeAt.apply(this.selectionHandler,arguments);return t!==void 0&&t.id!==void 0?t.id:t};he.prototype.getEdgeAt=function(){const t=this.selectionHandler.getEdgeAt.apply(this.selectionHandler,arguments);return t!==void 0&&t.id!==void 0?t.id:t};he.prototype.selectNodes=function(){return this.selectionHandler.selectNodes.apply(this.selectionHandler,arguments)};he.prototype.selectEdges=function(){return this.selectionHandler.selectEdges.apply(this.selectionHandler,arguments)};he.prototype.unselectAll=function(){this.selectionHandler.unselectAll.apply(this.selectionHandler,arguments),this.selectionHandler.commitWithoutEmitting.apply(this.selectionHandler),this.redraw()};he.prototype.redraw=function(){return this.renderer.redraw.apply(this.renderer,arguments)};he.prototype.getScale=function(){return this.view.getScale.apply(this.view,arguments)};he.prototype.getViewPosition=function(){return this.view.getViewPosition.apply(this.view,arguments)};he.prototype.fit=function(){return this.view.fit.apply(this.view,arguments)};he.prototype.moveTo=function(){return this.view.moveTo.apply(this.view,arguments)};he.prototype.focus=function(){return this.view.focus.apply(this.view,arguments)};he.prototype.releaseNode=function(){return this.view.releaseNode.apply(this.view,arguments)};he.prototype.getOptionsFromConfigurator=function(){let t={};return this.configurator&&(t=this.configurator.getOptions.apply(this.configurator)),t};function ybe({graphData:t,startPersonId:e,onNodeClick:r}){const n=j.useRef(null),i=j.useRef(null),s=Zr(),a=j.useCallback(c=>{r?r(c):s(`/people/${c}`)},[r,s]);j.useEffect(()=>{if(!n.current||!t||!t.nodes||t.nodes.length===0)return;const c=new Jl(t.nodes),h=new Jl(t.edges),f={layout:{hierarchical:{enabled:!0,direction:"UD",sortMethod:"directed",levelSeparation:180,nodeSpacing:200,treeSpacing:250,blockShifting:!0,edgeMinimization:!0,parentCentralization:!0}},nodes:{shape:"box",margin:10,font:{size:14,face:'system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif',color:"#1f2937"},color:{border:"#d1d5db",background:"#ffffff",highlight:{border:"#f59e0b",background:"#fef3c7"},hover:{border:"#9ca3af",background:"#f9fafb"}},borderWidth:2,borderWidthSelected:3,shadow:{enabled:!0,color:"rgba(0,0,0,0.1)",size:5,x:0,y:2}},edges:{color:{color:"#9ca3af",highlight:"#6b7280",hover:"#6b7280"},width:2,smooth:{enabled:!0,type:"cubicBezier",forceDirection:"vertical",roundness:.4},arrows:{to:{enabled:!1}}},physics:{enabled:!1},interaction:{hover:!0,tooltipDelay:200,zoomView:!0,dragView:!0,dragNodes:!1,navigationButtons:!1,keyboard:{enabled:!0,bindToWindow:!1}}},p=new he(n.current,{nodes:c,edges:h},f);return i.current=p,p.on("click",m=>{if(m.nodes.length>0){const y=m.nodes[0];a(y)}}),p.on("doubleClick",m=>{m.nodes.length>0&&p.focus(m.nodes[0],{scale:1,animation:{duration:500,easingFunction:"easeInOutQuad"}})}),p.once("stabilized",()=>{const m=t.edges.filter(y=>y.dashes).map(y=>[y.from,y.to]);if(m.length>0){const y=p.getPositions(),b={},g=new Set;m.forEach(([v,x])=>{if(g.has(v)||g.has(x))return;const w=y[v],_=y[x];if(!w||!_)return;const E=(w.x+_.x)/2;b[v]={x:E-60,y:w.y},b[x]={x:E+60,y:_.y},g.add(v),g.add(x)}),Object.entries(b).forEach(([v,x])=>{p.moveNode(v,x.x,x.y)})}setTimeout(()=>{p.fit({animation:{duration:500,easingFunction:"easeInOutQuad"}})},50)}),setTimeout(()=>{e&&p&&p.focus(e,{scale:.8,animation:{duration:500,easingFunction:"easeInOutQuad"}})},100),()=>{p&&p.destroy()}},[t,e,a]);const o=()=>{if(i.current){const c=i.current.getScale();i.current.moveTo({scale:c*1.3,animation:{duration:300,easingFunction:"easeInOutQuad"}})}},l=()=>{if(i.current){const c=i.current.getScale();i.current.moveTo({scale:c/1.3,animation:{duration:300,easingFunction:"easeInOutQuad"}})}},u=()=>{i.current&&i.current.fit({animation:{duration:500,easingFunction:"easeInOutQuad"}})};return!t||!t.nodes||t.nodes.length===0?d.jsx("div",{className:"flex items-center justify-center h-96",children:d.jsx("p",{className:"text-gray-500",children:"No family tree data available"})}):d.jsxs("div",{className:"relative w-full h-full",children:[d.jsxs("div",{className:"absolute top-4 right-4 z-10 flex gap-2 bg-white rounded-lg shadow-lg p-2",children:[d.jsx("button",{onClick:o,className:"p-2 hover:bg-gray-100 rounded",title:"Zoom In",children:d.jsx(zZ,{className:"w-4 h-4"})}),d.jsx("button",{onClick:l,className:"p-2 hover:bg-gray-100 rounded",title:"Zoom Out",children:d.jsx(UZ,{className:"w-4 h-4"})}),d.jsx("button",{onClick:u,className:"p-2 hover:bg-gray-100 rounded",title:"Fit All",children:d.jsx(x7,{className:"w-4 h-4"})})]}),d.jsx("div",{className:"absolute bottom-4 left-4 z-10 text-xs text-gray-500 bg-white/80 px-2 py-1 rounded",children:"Click a person to view details  Double-click to center  Scroll to zoom"}),d.jsx("div",{ref:n,className:"w-full h-full min-h-[600px]",style:{background:"#fafafa"}})]})}const bbe=["parent","child","spouse","lover","partner"];function wbe(t){return bbe.includes(t==null?void 0:t.toLowerCase())}function xbe(t){return(t==null?void 0:t.toLowerCase())==="parent"}function _be(t){return(t==null?void 0:t.toLowerCase())==="child"}function Sbe(t){const e=t==null?void 0:t.toLowerCase();return e==="spouse"||e==="lover"||e==="partner"}function Ebe(t,e,r){var c;const n=new Map,i=[],s=new Set,a=new Map;e.forEach(h=>a.set(h.id,h));const o=[{personId:t,depth:0}];s.add(t);function l(h,f){var v,x,w,_;let p=h.name||((v=h.title)==null?void 0:v.rendered)||h.title||`Person ${f}`;if(p&&typeof p=="string"&&typeof document<"u"){const E=document.createElement("textarea");E.innerHTML=p,p=E.value}let m=null,y=((x=h.acf)==null?void 0:x.birth_date)||null;if(y){const E=new Date(y);isNaN(E.getTime())||(m=Math.floor((new Date-E)/(365.25*24*60*60*1e3)))}let b="";switch((w=h.acf)==null?void 0:w.gender){case"male":b="";break;case"female":b="";break;case"non_binary":case"other":case"prefer_not_to_say":b="";break}let g="";if(y)try{const E=new Date(y);if(!isNaN(E.getTime())){const O=String(E.getDate()).padStart(2,"0"),S=String(E.getMonth()+1).padStart(2,"0"),P=E.getFullYear();g=`${O}-${S}-${P}`}}catch{}return{id:f,name:p,gender:((_=h.acf)==null?void 0:_.gender)||"",genderSymbol:b,photo:h.thumbnail||null,age:m,birthDate:y,formattedBirthDate:g}}const u=a.get(t);for(u&&n.set(t,l(u,t));o.length>0;){const{personId:h,depth:f}=o.shift(),p=r.get(h)||[];for(const m of p){if(m.relationship_type_slug&&!wbe(m.relationship_type_slug))continue;const y=m.related_person;if(!y||!a.has(y))continue;if(!n.has(y)){const x=a.get(y);n.set(y,l(x,y))}const b=`${h}-${y}`,g=`${y}-${h}`;if(!i.some(x=>`${x.from}-${x.to}`===b||`${x.from}-${x.to}`===g)){const x=(c=m.relationship_type_slug)==null?void 0:c.toLowerCase();if(xbe(x))i.push({from:y,to:h,type:"parent-child"});else if(_be(x))i.push({from:h,to:y,type:"parent-child"});else if(Sbe(x)){const[w,_]=h<y?[h,y]:[y,h];i.push({from:w,to:_,type:"spouse"})}}s.has(y)||(s.add(y),o.push({personId:y,depth:f+1}))}}return{nodes:Array.from(n.values()),edges:i}}function Obe(t,e,r={}){const{nodes:n,edges:i}=t;if(n.length===0)return{nodes:[],edges:[]};const s=new Map,a=new Map,o=new Map;n.forEach(b=>{s.set(b.id,[]),a.set(b.id,[]),o.set(b.id,[])}),i.forEach(b=>{var g,v,x,w;b.type==="parent-child"?((g=s.get(b.to))==null||g.push(b.from),(v=a.get(b.from))==null||v.push(b.to)):b.type==="spouse"&&((x=o.get(b.from))==null||x.push(b.to),(w=o.get(b.to))==null||w.push(b.from))});const l=new Map,u=new Set,c=[{id:e,generation:0}];for(l.set(e,0),u.add(e);c.length>0;){const{id:b,generation:g}=c.shift(),v=s.get(b)||[];for(const _ of v)u.has(_)||(u.add(_),l.set(_,g-1),c.push({id:_,generation:g-1}));const x=a.get(b)||[];for(const _ of x)u.has(_)||(u.add(_),l.set(_,g+1),c.push({id:_,generation:g+1}));const w=o.get(b)||[];for(const _ of w)u.has(_)||(u.add(_),l.set(_,g),c.push({id:_,generation:g}))}n.forEach(b=>{l.has(b.id)||l.set(b.id,0)});const h=Math.min(...l.values()),f=new Map;l.forEach((b,g)=>{f.set(g,b-h)});function p(b,g,v=!1){const x=b?b.split(" ").map(O=>O[0]).join("").toUpperCase().slice(0,2):"?";let w,_;v?(w="%23d1d5db",_="%236b7280"):g?(w="%23fef3c7",_="%23b45309"):(w="%23e5e7eb",_="%23374151");const E=`<svg xmlns="http://www.w3.org/2000/svg" width="90" height="90" viewBox="0 0 90 90">
      <circle cx="45" cy="45" r="45" fill="${w}"/>
      <text x="45" y="55" text-anchor="middle" font-family="system-ui, sans-serif" font-size="28" font-weight="500" fill="${_}">${x}</text>
    </svg>`;return"data:image/svg+xml,"+encodeURIComponent(E)}const m=n.map(b=>{const g=f.get(b.id)||0,v=b.id===e,x=r[b.id]||!1;let w=b.name;x&&(w=b.name+" ");let _=[w],E="";b.genderSymbol&&(E+=b.genderSymbol+" "),b.age!==null&&(E+=b.age+" "),b.formattedBirthDate&&(E+=b.formattedBirthDate),E.trim()&&_.push(E.trim());const O=b.photo||p(b.name,v,x);let S="#d1d5db";return v?S="#f59e0b":x&&(S="#9ca3af"),{id:b.id,label:_.join(`
`),level:g,shape:"circularImage",image:O,size:45,font:{size:14,face:"system-ui, -apple-system, sans-serif",vadjust:8,color:x?"#6b7280":"#1f2937"},color:{border:S,background:"#ffffff",highlight:{border:"#f59e0b",background:"#fef3c7"}},borderWidth:v?3:2,data:{...b,isDeceased:x}}}),y=i.map((b,g)=>{const v=b.type==="spouse";return{id:`edge-${g}`,from:b.from,to:b.to,arrows:{to:{enabled:!1}},color:{color:v?"#ec4899":"#9ca3af",highlight:v?"#db2777":"#6b7280"},width:2,dashes:v?[5,5]:!1,smooth:!1,length:v?50:300}});return{nodes:m,edges:y}}function Pbe(t){const e=new Map;return t.forEach(r=>{var s;const i=(((s=r.acf)==null?void 0:s.relationships)||[]).map(a=>{var u,c,h,f,p,m;let o="";a.relationship_slug?o=a.relationship_slug.toLowerCase():typeof a.relationship_type=="object"?o=((u=a.relationship_type)==null?void 0:u.slug)||((h=(c=a.relationship_type)==null?void 0:c.name)==null?void 0:h.toLowerCase())||"":typeof a.relationship_type=="string"&&(o=a.relationship_type.toLowerCase());let l=null;return typeof a.related_person=="object"?l=((f=a.related_person)==null?void 0:f.ID)||((p=a.related_person)==null?void 0:p.id)||((m=a.related_person)==null?void 0:m.term_id):(typeof a.related_person=="number"||typeof a.related_person=="string")&&(l=parseInt(a.related_person,10)),{related_person:l,relationship_type:a.relationship_type,relationship_type_slug:o,relationship_name:a.relationship_name||"",relationship_label:a.relationship_label||""}}).filter(a=>a.related_person);e.set(r.id,i)}),e}function Cbe(t,e){const r=new Map;e.forEach(n=>{var i;r.set(n.id,n.slug||((i=n.name)==null?void 0:i.toLowerCase()))}),t.forEach(n=>{n.forEach(i=>{if(!i.relationship_type_slug&&i.relationship_type){const s=typeof i.relationship_type=="object"?i.relationship_type.term_id||i.relationship_type.id:i.relationship_type;i.relationship_type_slug=r.get(s)||""}})})}function Tbe(){var p,m;const{id:t}=ns(),e=Zr(),r=parseInt(t,10),{data:n,isLoading:i}=du(t),{data:s=[],isLoading:a}=Pp(),{data:o=[]}=ft({queryKey:["relationship-types"],queryFn:async()=>(await Le.getRelationshipTypes()).data}),l=j.useMemo(()=>s.map(y=>y.id).filter(Boolean),[s]),u=Df({queries:l.map(y=>({queryKey:["person-dates",y],queryFn:async()=>(await Qr.getPersonDates(y)).data,enabled:!!y,staleTime:5*60*1e3}))}),c=j.useMemo(()=>{const y={};return u.forEach((b,g)=>{if(b.data&&l[g]){const v=l[g],x=b.data.some(w=>{const _=Array.isArray(w.date_type)?w.date_type[0]:w.date_type;return(_==null?void 0:_.toLowerCase())==="died"});y[v]=x}}),y},[u,l]);ei(n?`Family Tree - ${n.name||((p=n.title)==null?void 0:p.rendered)||n.title||"Person"}`:"Family Tree");const h=j.useMemo(()=>{if(!n||!s.length)return null;try{const y=Pbe(s);o.length>0&&Cbe(y,o);const b=Ebe(r,s,y);return!b||b.nodes.length===0?null:Obe(b,r,c)}catch(y){return console.error("Error building family tree:",y),null}},[n,s,o,r,c]),f=y=>{e(`/people/${y}`)};return i||a?d.jsx("div",{className:"flex items-center justify-center h-64",children:d.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"})}):n?d.jsxs("div",{className:"max-w-full mx-auto space-y-6",children:[d.jsx("div",{className:"flex items-center justify-between",children:d.jsxs("div",{className:"flex items-center gap-4",children:[d.jsxs(ve,{to:`/people/${t}`,className:"flex items-center text-gray-600 hover:text-gray-900",children:[d.jsx(is,{className:"w-4 h-4 mr-2"}),"Back to Person"]}),d.jsxs("h1",{className:"text-2xl font-bold",children:["Family Tree: ",n.name||((m=n.title)==null?void 0:m.rendered)||n.title||`Person ${t}`]})]})}),d.jsx("div",{className:"card p-6",children:d.jsx("div",{className:"w-full",style:{height:"800px"},children:h&&h.nodes&&h.nodes.length>0?d.jsx(ybe,{graphData:h,startPersonId:r,onNodeClick:f}):d.jsx("div",{className:"flex items-center justify-center h-full",children:d.jsxs("div",{className:"text-center",children:[d.jsx("p",{className:"text-gray-500 mb-2",children:"No family relationships found."}),d.jsx("p",{className:"text-sm text-gray-400",children:"Add parent or child relationships to see the family tree."})]})})})})]}):d.jsxs("div",{className:"card p-6 text-center",children:[d.jsx("p",{className:"text-red-600 mb-4",children:"Failed to load person."}),d.jsx(ve,{to:"/people",className:"btn-secondary",children:"Back to People"})]})}function Ibe(){const{loginUrl:t,isLoggedIn:e}=cT();return T7(),j.useEffect(()=>{e||(window.location.href=t)},[e,t]),d.jsx("div",{className:"flex items-center justify-center min-h-screen bg-gray-50",children:d.jsxs("div",{className:"text-center",children:[d.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600 mx-auto mb-4"}),d.jsx("p",{className:"text-gray-600",children:"Redirecting to login..."})]})})}function Nbe({children:t}){const{isLoggedIn:e,isLoading:r}=cT();return r?d.jsx("div",{className:"flex items-center justify-center min-h-screen",children:d.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"})}):e?t:d.jsx(e7,{to:"/login",replace:!0})}function Rbe(){return d.jsxs(HN,{children:[d.jsx(Xe,{path:"/login",element:d.jsx(Ibe,{})}),d.jsx(Xe,{path:"/*",element:d.jsx(Nbe,{children:d.jsx(Pte,{children:d.jsxs(HN,{children:[d.jsx(Xe,{path:"/",element:d.jsx(Dre,{})}),d.jsx(Xe,{path:"/people",element:d.jsx(Ure,{})}),d.jsx(Xe,{path:"/people/new",element:d.jsx(VR,{})}),d.jsx(Xe,{path:"/people/:personId/contact/new",element:d.jsx(GR,{})}),d.jsx(Xe,{path:"/people/:personId/contact/:index/edit",element:d.jsx(GR,{})}),d.jsx(Xe,{path:"/people/:personId/work-history/new",element:d.jsx(KR,{})}),d.jsx(Xe,{path:"/people/:personId/work-history/:index/edit",element:d.jsx(KR,{})}),d.jsx(Xe,{path:"/people/:personId/relationship/new",element:d.jsx(YR,{})}),d.jsx(Xe,{path:"/people/:personId/relationship/:index/edit",element:d.jsx(YR,{})}),d.jsx(Xe,{path:"/people/:id/family-tree",element:d.jsx(Tbe,{})}),d.jsx(Xe,{path:"/people/:id/edit",element:d.jsx(VR,{})}),d.jsx(Xe,{path:"/people/:id",element:d.jsx(Wre,{})}),d.jsx(Xe,{path:"/companies",element:d.jsx(mne,{})}),d.jsx(Xe,{path:"/companies/new",element:d.jsx(QR,{})}),d.jsx(Xe,{path:"/companies/:id",element:d.jsx(vne,{})}),d.jsx(Xe,{path:"/companies/:id/edit",element:d.jsx(QR,{})}),d.jsx(Xe,{path:"/dates",element:d.jsx(bne,{})}),d.jsx(Xe,{path:"/dates/new",element:d.jsx(XR,{})}),d.jsx(Xe,{path:"/dates/:id/edit",element:d.jsx(XR,{})}),d.jsx(Xe,{path:"/settings",element:d.jsx(xne,{})}),d.jsx(Xe,{path:"/settings/relationship-types",element:d.jsx(_ne,{})}),d.jsx(Xe,{path:"/settings/import",element:d.jsx(Pne,{})}),d.jsx(Xe,{path:"*",element:d.jsx(e7,{to:"/",replace:!0})})]})})})})]})}const $be=new gZ({defaultOptions:{queries:{staleTime:5*60*1e3,retry:1}}}),pO=document.getElementById("root");if(!pO)console.error('Root element not found! Make sure there is a <div id="root"></div> in your HTML.');else try{mO.createRoot(pO).render(d.jsx(Ce.StrictMode,{children:d.jsx(yZ,{client:$be,children:d.jsx(FJ,{children:d.jsx(Rbe,{})})})}))}catch(t){console.error("Error mounting React app:",t),pO.innerHTML='<div style="padding: 20px; color: red;"><h1>Error Loading Application</h1><p>Please check the browser console for details.</p></div>'}
