var EI=t=>{throw TypeError(t)};var sm=(t,e,r)=>e.has(t)||EI("Cannot "+r);var N=(t,e,r)=>(sm(t,e,"read from private field"),r?r.call(t):e.get(t)),ue=(t,e,r)=>e.has(t)?EI("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,r),ie=(t,e,r,n)=>(sm(t,e,"write to private field"),n?n.call(t,r):e.set(t,r),r),_e=(t,e,r)=>(sm(t,e,"access private method"),r);var nh=(t,e,r,n)=>({set _(i){ie(t,e,i,r)},get _(){return N(t,e,n)}});function uY(t,e){for(var r=0;r<e.length;r++){const n=e[r];if(typeof n!="string"&&!Array.isArray(n)){for(const i in n)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(n,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>n[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}function cY(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var NH={exports:{}},Qf={},$H={exports:{}},je={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cd=Symbol.for("react.element"),dY=Symbol.for("react.portal"),hY=Symbol.for("react.fragment"),fY=Symbol.for("react.strict_mode"),pY=Symbol.for("react.profiler"),mY=Symbol.for("react.provider"),vY=Symbol.for("react.context"),yY=Symbol.for("react.forward_ref"),gY=Symbol.for("react.suspense"),bY=Symbol.for("react.memo"),wY=Symbol.for("react.lazy"),OI=Symbol.iterator;function xY(t){return t===null||typeof t!="object"?null:(t=OI&&t[OI]||t["@@iterator"],typeof t=="function"?t:null)}var jH={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},kH=Object.assign,DH={};function Xl(t,e,r){this.props=t,this.context=e,this.refs=DH,this.updater=r||jH}Xl.prototype.isReactComponent={};Xl.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Xl.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function qH(){}qH.prototype=Xl.prototype;function nT(t,e,r){this.props=t,this.context=e,this.refs=DH,this.updater=r||jH}var iT=nT.prototype=new qH;iT.constructor=nT;kH(iT,Xl.prototype);iT.isPureReactComponent=!0;var PI=Array.isArray,MH=Object.prototype.hasOwnProperty,sT={current:null},AH={key:!0,ref:!0,__self:!0,__source:!0};function FH(t,e,r){var n,i={},s=null,o=null;if(e!=null)for(n in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)MH.call(e,n)&&!AH.hasOwnProperty(n)&&(i[n]=e[n]);var a=arguments.length-2;if(a===1)i.children=r;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];i.children=l}if(t&&t.defaultProps)for(n in a=t.defaultProps,a)i[n]===void 0&&(i[n]=a[n]);return{$$typeof:cd,type:t,key:s,ref:o,props:i,_owner:sT.current}}function _Y(t,e){return{$$typeof:cd,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function oT(t){return typeof t=="object"&&t!==null&&t.$$typeof===cd}function SY(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(r){return e[r]})}var TI=/\/+/g;function om(t,e){return typeof t=="object"&&t!==null&&t.key!=null?SY(""+t.key):e.toString(36)}function kh(t,e,r,n,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case cd:case dY:o=!0}}if(o)return o=t,i=i(o),t=n===""?"."+om(o,0):n,PI(i)?(r="",t!=null&&(r=t.replace(TI,"$&/")+"/"),kh(i,e,r,"",function(u){return u})):i!=null&&(oT(i)&&(i=_Y(i,r+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(TI,"$&/")+"/")+t)),e.push(i)),1;if(o=0,n=n===""?".":n+":",PI(t))for(var a=0;a<t.length;a++){s=t[a];var l=n+om(s,a);o+=kh(s,e,r,l,i)}else if(l=xY(t),typeof l=="function")for(t=l.call(t),a=0;!(s=t.next()).done;)s=s.value,l=n+om(s,a++),o+=kh(s,e,r,l,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function ih(t,e,r){if(t==null)return t;var n=[],i=0;return kh(t,n,"","",function(s){return e.call(r,s,i++)}),n}function EY(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(r){(t._status===0||t._status===-1)&&(t._status=1,t._result=r)},function(r){(t._status===0||t._status===-1)&&(t._status=2,t._result=r)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var kr={current:null},Dh={transition:null},OY={ReactCurrentDispatcher:kr,ReactCurrentBatchConfig:Dh,ReactCurrentOwner:sT};function LH(){throw Error("act(...) is not supported in production builds of React.")}je.Children={map:ih,forEach:function(t,e,r){ih(t,function(){e.apply(this,arguments)},r)},count:function(t){var e=0;return ih(t,function(){e++}),e},toArray:function(t){return ih(t,function(e){return e})||[]},only:function(t){if(!oT(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};je.Component=Xl;je.Fragment=hY;je.Profiler=pY;je.PureComponent=nT;je.StrictMode=fY;je.Suspense=gY;je.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=OY;je.act=LH;je.cloneElement=function(t,e,r){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var n=kH({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=sT.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)MH.call(e,l)&&!AH.hasOwnProperty(l)&&(n[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)n.children=r;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];n.children=a}return{$$typeof:cd,type:t.type,key:i,ref:s,props:n,_owner:o}};je.createContext=function(t){return t={$$typeof:vY,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:mY,_context:t},t.Consumer=t};je.createElement=FH;je.createFactory=function(t){var e=FH.bind(null,t);return e.type=t,e};je.createRef=function(){return{current:null}};je.forwardRef=function(t){return{$$typeof:yY,render:t}};je.isValidElement=oT;je.lazy=function(t){return{$$typeof:wY,_payload:{_status:-1,_result:t},_init:EY}};je.memo=function(t,e){return{$$typeof:bY,type:t,compare:e===void 0?null:e}};je.startTransition=function(t){var e=Dh.transition;Dh.transition={};try{t()}finally{Dh.transition=e}};je.unstable_act=LH;je.useCallback=function(t,e){return kr.current.useCallback(t,e)};je.useContext=function(t){return kr.current.useContext(t)};je.useDebugValue=function(){};je.useDeferredValue=function(t){return kr.current.useDeferredValue(t)};je.useEffect=function(t,e){return kr.current.useEffect(t,e)};je.useId=function(){return kr.current.useId()};je.useImperativeHandle=function(t,e,r){return kr.current.useImperativeHandle(t,e,r)};je.useInsertionEffect=function(t,e){return kr.current.useInsertionEffect(t,e)};je.useLayoutEffect=function(t,e){return kr.current.useLayoutEffect(t,e)};je.useMemo=function(t,e){return kr.current.useMemo(t,e)};je.useReducer=function(t,e,r){return kr.current.useReducer(t,e,r)};je.useRef=function(t){return kr.current.useRef(t)};je.useState=function(t){return kr.current.useState(t)};je.useSyncExternalStore=function(t,e,r){return kr.current.useSyncExternalStore(t,e,r)};je.useTransition=function(){return kr.current.useTransition()};je.version="18.3.1";$H.exports=je;var j=$H.exports;const Te=cY(j),PY=uY({__proto__:null,default:Te},[j]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var TY=j,CY=Symbol.for("react.element"),IY=Symbol.for("react.fragment"),RY=Object.prototype.hasOwnProperty,NY=TY.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,$Y={key:!0,ref:!0,__self:!0,__source:!0};function BH(t,e,r){var n,i={},s=null,o=null;r!==void 0&&(s=""+r),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(n in e)RY.call(e,n)&&!$Y.hasOwnProperty(n)&&(i[n]=e[n]);if(t&&t.defaultProps)for(n in e=t.defaultProps,e)i[n]===void 0&&(i[n]=e[n]);return{$$typeof:CY,type:t,key:s,ref:o,props:i,_owner:NY.current}}Qf.Fragment=IY;Qf.jsx=BH;Qf.jsxs=BH;NH.exports=Qf;var h=NH.exports,hO={},zH={exports:{}},hn={},UH={exports:{}},WH={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(L,G){var U=L.length;L.push(G);e:for(;0<U;){var z=U-1>>>1,te=L[z];if(0<i(te,G))L[z]=G,L[U]=te,U=z;else break e}}function r(L){return L.length===0?null:L[0]}function n(L){if(L.length===0)return null;var G=L[0],U=L.pop();if(U!==G){L[0]=U;e:for(var z=0,te=L.length,fe=te>>>1;z<fe;){var ye=2*(z+1)-1,ke=L[ye],be=ye+1,we=L[be];if(0>i(ke,U))be<te&&0>i(we,ke)?(L[z]=we,L[be]=U,z=be):(L[z]=ke,L[ye]=U,z=ye);else if(be<te&&0>i(we,U))L[z]=we,L[be]=U,z=be;else break e}}return G}function i(L,G){var U=L.sortIndex-G.sortIndex;return U!==0?U:L.id-G.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],u=[],c=1,d=null,f=3,p=!1,m=!1,g=!1,b=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,v=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function x(L){for(var G=r(u);G!==null;){if(G.callback===null)n(u);else if(G.startTime<=L)n(u),G.sortIndex=G.expirationTime,e(l,G);else break;G=r(u)}}function w(L){if(g=!1,x(L),!m)if(r(l)!==null)m=!0,re(_);else{var G=r(u);G!==null&&Q(w,G.startTime-L)}}function _(L,G){m=!1,g&&(g=!1,y(S),S=-1),p=!0;var U=f;try{for(x(G),d=r(l);d!==null&&(!(d.expirationTime>G)||L&&!R());){var z=d.callback;if(typeof z=="function"){d.callback=null,f=d.priorityLevel;var te=z(d.expirationTime<=G);G=t.unstable_now(),typeof te=="function"?d.callback=te:d===r(l)&&n(l),x(G)}else n(l);d=r(l)}if(d!==null)var fe=!0;else{var ye=r(u);ye!==null&&Q(w,ye.startTime-G),fe=!1}return fe}finally{d=null,f=U,p=!1}}var E=!1,O=null,S=-1,T=5,P=-1;function R(){return!(t.unstable_now()-P<T)}function C(){if(O!==null){var L=t.unstable_now();P=L;var G=!0;try{G=O(!0,L)}finally{G?I():(E=!1,O=null)}}else E=!1}var I;if(typeof v=="function")I=function(){v(C)};else if(typeof MessageChannel<"u"){var q=new MessageChannel,B=q.port2;q.port1.onmessage=C,I=function(){B.postMessage(null)}}else I=function(){b(C,0)};function re(L){O=L,E||(E=!0,I())}function Q(L,G){S=b(function(){L(t.unstable_now())},G)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(L){L.callback=null},t.unstable_continueExecution=function(){m||p||(m=!0,re(_))},t.unstable_forceFrameRate=function(L){0>L||125<L?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<L?Math.floor(1e3/L):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return r(l)},t.unstable_next=function(L){switch(f){case 1:case 2:case 3:var G=3;break;default:G=f}var U=f;f=G;try{return L()}finally{f=U}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(L,G){switch(L){case 1:case 2:case 3:case 4:case 5:break;default:L=3}var U=f;f=L;try{return G()}finally{f=U}},t.unstable_scheduleCallback=function(L,G,U){var z=t.unstable_now();switch(typeof U=="object"&&U!==null?(U=U.delay,U=typeof U=="number"&&0<U?z+U:z):U=z,L){case 1:var te=-1;break;case 2:te=250;break;case 5:te=1073741823;break;case 4:te=1e4;break;default:te=5e3}return te=U+te,L={id:c++,callback:G,priorityLevel:L,startTime:U,expirationTime:te,sortIndex:-1},U>z?(L.sortIndex=U,e(u,L),r(l)===null&&L===r(u)&&(g?(y(S),S=-1):g=!0,Q(w,U-z))):(L.sortIndex=te,e(l,L),m||p||(m=!0,re(_))),L},t.unstable_shouldYield=R,t.unstable_wrapCallback=function(L){var G=f;return function(){var U=f;f=G;try{return L.apply(this,arguments)}finally{f=U}}}})(WH);UH.exports=WH;var jY=UH.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var kY=j,dn=jY;function J(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,r=1;r<arguments.length;r++)e+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var HH=new Set,wc={};function ha(t,e){$l(t,e),$l(t+"Capture",e)}function $l(t,e){for(wc[t]=e,t=0;t<e.length;t++)HH.add(e[t])}var Vi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),fO=Object.prototype.hasOwnProperty,DY=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,CI={},II={};function qY(t){return fO.call(II,t)?!0:fO.call(CI,t)?!1:DY.test(t)?II[t]=!0:(CI[t]=!0,!1)}function MY(t,e,r,n){if(r!==null&&r.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function AY(t,e,r,n){if(e===null||typeof e>"u"||MY(t,e,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Dr(t,e,r,n,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=n,this.attributeNamespace=i,this.mustUseProperty=r,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var lr={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){lr[t]=new Dr(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];lr[e]=new Dr(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){lr[t]=new Dr(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){lr[t]=new Dr(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){lr[t]=new Dr(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){lr[t]=new Dr(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){lr[t]=new Dr(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){lr[t]=new Dr(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){lr[t]=new Dr(t,5,!1,t.toLowerCase(),null,!1,!1)});var aT=/[\-:]([a-z])/g;function lT(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(aT,lT);lr[e]=new Dr(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(aT,lT);lr[e]=new Dr(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(aT,lT);lr[e]=new Dr(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){lr[t]=new Dr(t,1,!1,t.toLowerCase(),null,!1,!1)});lr.xlinkHref=new Dr("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){lr[t]=new Dr(t,1,!1,t.toLowerCase(),null,!0,!0)});function uT(t,e,r,n){var i=lr.hasOwnProperty(e)?lr[e]:null;(i!==null?i.type!==0:n||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(AY(e,r,i,n)&&(r=null),n||i===null?qY(e)&&(r===null?t.removeAttribute(e):t.setAttribute(e,""+r)):i.mustUseProperty?t[i.propertyName]=r===null?i.type===3?!1:"":r:(e=i.attributeName,n=i.attributeNamespace,r===null?t.removeAttribute(e):(i=i.type,r=i===3||i===4&&r===!0?"":""+r,n?t.setAttributeNS(n,e,r):t.setAttribute(e,r))))}var Qi=kY.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,sh=Symbol.for("react.element"),za=Symbol.for("react.portal"),Ua=Symbol.for("react.fragment"),cT=Symbol.for("react.strict_mode"),pO=Symbol.for("react.profiler"),VH=Symbol.for("react.provider"),KH=Symbol.for("react.context"),dT=Symbol.for("react.forward_ref"),mO=Symbol.for("react.suspense"),vO=Symbol.for("react.suspense_list"),hT=Symbol.for("react.memo"),ds=Symbol.for("react.lazy"),GH=Symbol.for("react.offscreen"),RI=Symbol.iterator;function ju(t){return t===null||typeof t!="object"?null:(t=RI&&t[RI]||t["@@iterator"],typeof t=="function"?t:null)}var pt=Object.assign,am;function Yu(t){if(am===void 0)try{throw Error()}catch(r){var e=r.stack.trim().match(/\n( *(at )?)/);am=e&&e[1]||""}return`
`+am+t}var lm=!1;function um(t,e){if(!t||lm)return"";lm=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var n=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){n=u}t.call(e.prototype)}else{try{throw Error()}catch(u){n=u}t()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),s=n.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var l=`
`+i[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{lm=!1,Error.prepareStackTrace=r}return(t=t?t.displayName||t.name:"")?Yu(t):""}function FY(t){switch(t.tag){case 5:return Yu(t.type);case 16:return Yu("Lazy");case 13:return Yu("Suspense");case 19:return Yu("SuspenseList");case 0:case 2:case 15:return t=um(t.type,!1),t;case 11:return t=um(t.type.render,!1),t;case 1:return t=um(t.type,!0),t;default:return""}}function yO(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Ua:return"Fragment";case za:return"Portal";case pO:return"Profiler";case cT:return"StrictMode";case mO:return"Suspense";case vO:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case KH:return(t.displayName||"Context")+".Consumer";case VH:return(t._context.displayName||"Context")+".Provider";case dT:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case hT:return e=t.displayName||null,e!==null?e:yO(t.type)||"Memo";case ds:e=t._payload,t=t._init;try{return yO(t(e))}catch{}}return null}function LY(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return yO(e);case 8:return e===cT?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Ys(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function YH(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function BY(t){var e=YH(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),n=""+t[e];if(!t.hasOwnProperty(e)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var i=r.get,s=r.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){n=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(o){n=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function oh(t){t._valueTracker||(t._valueTracker=BY(t))}function QH(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var r=e.getValue(),n="";return t&&(n=YH(t)?t.checked?"true":"false":t.value),t=n,t!==r?(e.setValue(t),!0):!1}function tf(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function gO(t,e){var r=e.checked;return pt({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??t._wrapperState.initialChecked})}function NI(t,e){var r=e.defaultValue==null?"":e.defaultValue,n=e.checked!=null?e.checked:e.defaultChecked;r=Ys(e.value!=null?e.value:r),t._wrapperState={initialChecked:n,initialValue:r,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function XH(t,e){e=e.checked,e!=null&&uT(t,"checked",e,!1)}function bO(t,e){XH(t,e);var r=Ys(e.value),n=e.type;if(r!=null)n==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+r):t.value!==""+r&&(t.value=""+r);else if(n==="submit"||n==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?wO(t,e.type,r):e.hasOwnProperty("defaultValue")&&wO(t,e.type,Ys(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function $I(t,e,r){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var n=e.type;if(!(n!=="submit"&&n!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,r||e===t.value||(t.value=e),t.defaultValue=e}r=t.name,r!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,r!==""&&(t.name=r)}function wO(t,e,r){(e!=="number"||tf(t.ownerDocument)!==t)&&(r==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+r&&(t.defaultValue=""+r))}var Qu=Array.isArray;function ol(t,e,r,n){if(t=t.options,e){e={};for(var i=0;i<r.length;i++)e["$"+r[i]]=!0;for(r=0;r<t.length;r++)i=e.hasOwnProperty("$"+t[r].value),t[r].selected!==i&&(t[r].selected=i),i&&n&&(t[r].defaultSelected=!0)}else{for(r=""+Ys(r),e=null,i=0;i<t.length;i++){if(t[i].value===r){t[i].selected=!0,n&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function xO(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(J(91));return pt({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function jI(t,e){var r=e.value;if(r==null){if(r=e.children,e=e.defaultValue,r!=null){if(e!=null)throw Error(J(92));if(Qu(r)){if(1<r.length)throw Error(J(93));r=r[0]}e=r}e==null&&(e=""),r=e}t._wrapperState={initialValue:Ys(r)}}function JH(t,e){var r=Ys(e.value),n=Ys(e.defaultValue);r!=null&&(r=""+r,r!==t.value&&(t.value=r),e.defaultValue==null&&t.defaultValue!==r&&(t.defaultValue=r)),n!=null&&(t.defaultValue=""+n)}function kI(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function ZH(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function _O(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?ZH(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var ah,eV=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,r,n,i){MSApp.execUnsafeLocalFunction(function(){return t(e,r,n,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(ah=ah||document.createElement("div"),ah.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=ah.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function xc(t,e){if(e){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=e;return}}t.textContent=e}var rc={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},zY=["Webkit","ms","Moz","O"];Object.keys(rc).forEach(function(t){zY.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),rc[e]=rc[t]})});function tV(t,e,r){return e==null||typeof e=="boolean"||e===""?"":r||typeof e!="number"||e===0||rc.hasOwnProperty(t)&&rc[t]?(""+e).trim():e+"px"}function rV(t,e){t=t.style;for(var r in e)if(e.hasOwnProperty(r)){var n=r.indexOf("--")===0,i=tV(r,e[r],n);r==="float"&&(r="cssFloat"),n?t.setProperty(r,i):t[r]=i}}var UY=pt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function SO(t,e){if(e){if(UY[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(J(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(J(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(J(61))}if(e.style!=null&&typeof e.style!="object")throw Error(J(62))}}function EO(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var OO=null;function fT(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var PO=null,al=null,ll=null;function DI(t){if(t=fd(t)){if(typeof PO!="function")throw Error(J(280));var e=t.stateNode;e&&(e=tp(e),PO(t.stateNode,t.type,e))}}function nV(t){al?ll?ll.push(t):ll=[t]:al=t}function iV(){if(al){var t=al,e=ll;if(ll=al=null,DI(t),e)for(t=0;t<e.length;t++)DI(e[t])}}function sV(t,e){return t(e)}function oV(){}var cm=!1;function aV(t,e,r){if(cm)return t(e,r);cm=!0;try{return sV(t,e,r)}finally{cm=!1,(al!==null||ll!==null)&&(oV(),iV())}}function _c(t,e){var r=t.stateNode;if(r===null)return null;var n=tp(r);if(n===null)return null;r=n[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(t=t.type,n=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!n;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(J(231,e,typeof r));return r}var TO=!1;if(Vi)try{var ku={};Object.defineProperty(ku,"passive",{get:function(){TO=!0}}),window.addEventListener("test",ku,ku),window.removeEventListener("test",ku,ku)}catch{TO=!1}function WY(t,e,r,n,i,s,o,a,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(r,u)}catch(c){this.onError(c)}}var nc=!1,rf=null,nf=!1,CO=null,HY={onError:function(t){nc=!0,rf=t}};function VY(t,e,r,n,i,s,o,a,l){nc=!1,rf=null,WY.apply(HY,arguments)}function KY(t,e,r,n,i,s,o,a,l){if(VY.apply(this,arguments),nc){if(nc){var u=rf;nc=!1,rf=null}else throw Error(J(198));nf||(nf=!0,CO=u)}}function fa(t){var e=t,r=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(r=e.return),t=e.return;while(t)}return e.tag===3?r:null}function lV(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function qI(t){if(fa(t)!==t)throw Error(J(188))}function GY(t){var e=t.alternate;if(!e){if(e=fa(t),e===null)throw Error(J(188));return e!==t?null:t}for(var r=t,n=e;;){var i=r.return;if(i===null)break;var s=i.alternate;if(s===null){if(n=i.return,n!==null){r=n;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===r)return qI(i),t;if(s===n)return qI(i),e;s=s.sibling}throw Error(J(188))}if(r.return!==n.return)r=i,n=s;else{for(var o=!1,a=i.child;a;){if(a===r){o=!0,r=i,n=s;break}if(a===n){o=!0,n=i,r=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===r){o=!0,r=s,n=i;break}if(a===n){o=!0,n=s,r=i;break}a=a.sibling}if(!o)throw Error(J(189))}}if(r.alternate!==n)throw Error(J(190))}if(r.tag!==3)throw Error(J(188));return r.stateNode.current===r?t:e}function uV(t){return t=GY(t),t!==null?cV(t):null}function cV(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=cV(t);if(e!==null)return e;t=t.sibling}return null}var dV=dn.unstable_scheduleCallback,MI=dn.unstable_cancelCallback,YY=dn.unstable_shouldYield,QY=dn.unstable_requestPaint,Pt=dn.unstable_now,XY=dn.unstable_getCurrentPriorityLevel,pT=dn.unstable_ImmediatePriority,hV=dn.unstable_UserBlockingPriority,sf=dn.unstable_NormalPriority,JY=dn.unstable_LowPriority,fV=dn.unstable_IdlePriority,Xf=null,vi=null;function ZY(t){if(vi&&typeof vi.onCommitFiberRoot=="function")try{vi.onCommitFiberRoot(Xf,t,void 0,(t.current.flags&128)===128)}catch{}}var Gn=Math.clz32?Math.clz32:rQ,eQ=Math.log,tQ=Math.LN2;function rQ(t){return t>>>=0,t===0?32:31-(eQ(t)/tQ|0)|0}var lh=64,uh=4194304;function Xu(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function of(t,e){var r=t.pendingLanes;if(r===0)return 0;var n=0,i=t.suspendedLanes,s=t.pingedLanes,o=r&268435455;if(o!==0){var a=o&~i;a!==0?n=Xu(a):(s&=o,s!==0&&(n=Xu(s)))}else o=r&~i,o!==0?n=Xu(o):s!==0&&(n=Xu(s));if(n===0)return 0;if(e!==0&&e!==n&&!(e&i)&&(i=n&-n,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(n&4&&(n|=r&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=n;0<e;)r=31-Gn(e),i=1<<r,n|=t[r],e&=~i;return n}function nQ(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function iQ(t,e){for(var r=t.suspendedLanes,n=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-Gn(s),a=1<<o,l=i[o];l===-1?(!(a&r)||a&n)&&(i[o]=nQ(a,e)):l<=e&&(t.expiredLanes|=a),s&=~a}}function IO(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function pV(){var t=lh;return lh<<=1,!(lh&4194240)&&(lh=64),t}function dm(t){for(var e=[],r=0;31>r;r++)e.push(t);return e}function dd(t,e,r){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Gn(e),t[e]=r}function sQ(t,e){var r=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var n=t.eventTimes;for(t=t.expirationTimes;0<r;){var i=31-Gn(r),s=1<<i;e[i]=0,n[i]=-1,t[i]=-1,r&=~s}}function mT(t,e){var r=t.entangledLanes|=e;for(t=t.entanglements;r;){var n=31-Gn(r),i=1<<n;i&e|t[n]&e&&(t[n]|=e),r&=~i}}var We=0;function mV(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var vV,vT,yV,gV,bV,RO=!1,ch=[],js=null,ks=null,Ds=null,Sc=new Map,Ec=new Map,vs=[],oQ="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function AI(t,e){switch(t){case"focusin":case"focusout":js=null;break;case"dragenter":case"dragleave":ks=null;break;case"mouseover":case"mouseout":Ds=null;break;case"pointerover":case"pointerout":Sc.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ec.delete(e.pointerId)}}function Du(t,e,r,n,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:r,eventSystemFlags:n,nativeEvent:s,targetContainers:[i]},e!==null&&(e=fd(e),e!==null&&vT(e)),t):(t.eventSystemFlags|=n,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function aQ(t,e,r,n,i){switch(e){case"focusin":return js=Du(js,t,e,r,n,i),!0;case"dragenter":return ks=Du(ks,t,e,r,n,i),!0;case"mouseover":return Ds=Du(Ds,t,e,r,n,i),!0;case"pointerover":var s=i.pointerId;return Sc.set(s,Du(Sc.get(s)||null,t,e,r,n,i)),!0;case"gotpointercapture":return s=i.pointerId,Ec.set(s,Du(Ec.get(s)||null,t,e,r,n,i)),!0}return!1}function wV(t){var e=bo(t.target);if(e!==null){var r=fa(e);if(r!==null){if(e=r.tag,e===13){if(e=lV(r),e!==null){t.blockedOn=e,bV(t.priority,function(){yV(r)});return}}else if(e===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function qh(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var r=NO(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(r===null){r=t.nativeEvent;var n=new r.constructor(r.type,r);OO=n,r.target.dispatchEvent(n),OO=null}else return e=fd(r),e!==null&&vT(e),t.blockedOn=r,!1;e.shift()}return!0}function FI(t,e,r){qh(t)&&r.delete(e)}function lQ(){RO=!1,js!==null&&qh(js)&&(js=null),ks!==null&&qh(ks)&&(ks=null),Ds!==null&&qh(Ds)&&(Ds=null),Sc.forEach(FI),Ec.forEach(FI)}function qu(t,e){t.blockedOn===e&&(t.blockedOn=null,RO||(RO=!0,dn.unstable_scheduleCallback(dn.unstable_NormalPriority,lQ)))}function Oc(t){function e(i){return qu(i,t)}if(0<ch.length){qu(ch[0],t);for(var r=1;r<ch.length;r++){var n=ch[r];n.blockedOn===t&&(n.blockedOn=null)}}for(js!==null&&qu(js,t),ks!==null&&qu(ks,t),Ds!==null&&qu(Ds,t),Sc.forEach(e),Ec.forEach(e),r=0;r<vs.length;r++)n=vs[r],n.blockedOn===t&&(n.blockedOn=null);for(;0<vs.length&&(r=vs[0],r.blockedOn===null);)wV(r),r.blockedOn===null&&vs.shift()}var ul=Qi.ReactCurrentBatchConfig,af=!0;function uQ(t,e,r,n){var i=We,s=ul.transition;ul.transition=null;try{We=1,yT(t,e,r,n)}finally{We=i,ul.transition=s}}function cQ(t,e,r,n){var i=We,s=ul.transition;ul.transition=null;try{We=4,yT(t,e,r,n)}finally{We=i,ul.transition=s}}function yT(t,e,r,n){if(af){var i=NO(t,e,r,n);if(i===null)xm(t,e,n,lf,r),AI(t,n);else if(aQ(i,t,e,r,n))n.stopPropagation();else if(AI(t,n),e&4&&-1<oQ.indexOf(t)){for(;i!==null;){var s=fd(i);if(s!==null&&vV(s),s=NO(t,e,r,n),s===null&&xm(t,e,n,lf,r),s===i)break;i=s}i!==null&&n.stopPropagation()}else xm(t,e,n,null,r)}}var lf=null;function NO(t,e,r,n){if(lf=null,t=fT(n),t=bo(t),t!==null)if(e=fa(t),e===null)t=null;else if(r=e.tag,r===13){if(t=lV(e),t!==null)return t;t=null}else if(r===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return lf=t,null}function xV(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(XY()){case pT:return 1;case hV:return 4;case sf:case JY:return 16;case fV:return 536870912;default:return 16}default:return 16}}var Is=null,gT=null,Mh=null;function _V(){if(Mh)return Mh;var t,e=gT,r=e.length,n,i="value"in Is?Is.value:Is.textContent,s=i.length;for(t=0;t<r&&e[t]===i[t];t++);var o=r-t;for(n=1;n<=o&&e[r-n]===i[s-n];n++);return Mh=i.slice(t,1<n?1-n:void 0)}function Ah(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function dh(){return!0}function LI(){return!1}function fn(t){function e(r,n,i,s,o){this._reactName=r,this._targetInst=i,this.type=n,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(r=t[a],this[a]=r?r(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?dh:LI,this.isPropagationStopped=LI,this}return pt(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=dh)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=dh)},persist:function(){},isPersistent:dh}),e}var Jl={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},bT=fn(Jl),hd=pt({},Jl,{view:0,detail:0}),dQ=fn(hd),hm,fm,Mu,Jf=pt({},hd,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:wT,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Mu&&(Mu&&t.type==="mousemove"?(hm=t.screenX-Mu.screenX,fm=t.screenY-Mu.screenY):fm=hm=0,Mu=t),hm)},movementY:function(t){return"movementY"in t?t.movementY:fm}}),BI=fn(Jf),hQ=pt({},Jf,{dataTransfer:0}),fQ=fn(hQ),pQ=pt({},hd,{relatedTarget:0}),pm=fn(pQ),mQ=pt({},Jl,{animationName:0,elapsedTime:0,pseudoElement:0}),vQ=fn(mQ),yQ=pt({},Jl,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),gQ=fn(yQ),bQ=pt({},Jl,{data:0}),zI=fn(bQ),wQ={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},xQ={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},_Q={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function SQ(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=_Q[t])?!!e[t]:!1}function wT(){return SQ}var EQ=pt({},hd,{key:function(t){if(t.key){var e=wQ[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Ah(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?xQ[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:wT,charCode:function(t){return t.type==="keypress"?Ah(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Ah(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),OQ=fn(EQ),PQ=pt({},Jf,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),UI=fn(PQ),TQ=pt({},hd,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:wT}),CQ=fn(TQ),IQ=pt({},Jl,{propertyName:0,elapsedTime:0,pseudoElement:0}),RQ=fn(IQ),NQ=pt({},Jf,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),$Q=fn(NQ),jQ=[9,13,27,32],xT=Vi&&"CompositionEvent"in window,ic=null;Vi&&"documentMode"in document&&(ic=document.documentMode);var kQ=Vi&&"TextEvent"in window&&!ic,SV=Vi&&(!xT||ic&&8<ic&&11>=ic),WI=" ",HI=!1;function EV(t,e){switch(t){case"keyup":return jQ.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function OV(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Wa=!1;function DQ(t,e){switch(t){case"compositionend":return OV(e);case"keypress":return e.which!==32?null:(HI=!0,WI);case"textInput":return t=e.data,t===WI&&HI?null:t;default:return null}}function qQ(t,e){if(Wa)return t==="compositionend"||!xT&&EV(t,e)?(t=_V(),Mh=gT=Is=null,Wa=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return SV&&e.locale!=="ko"?null:e.data;default:return null}}var MQ={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function VI(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!MQ[t.type]:e==="textarea"}function PV(t,e,r,n){nV(n),e=uf(e,"onChange"),0<e.length&&(r=new bT("onChange","change",null,r,n),t.push({event:r,listeners:e}))}var sc=null,Pc=null;function AQ(t){MV(t,0)}function Zf(t){var e=Ka(t);if(QH(e))return t}function FQ(t,e){if(t==="change")return e}var TV=!1;if(Vi){var mm;if(Vi){var vm="oninput"in document;if(!vm){var KI=document.createElement("div");KI.setAttribute("oninput","return;"),vm=typeof KI.oninput=="function"}mm=vm}else mm=!1;TV=mm&&(!document.documentMode||9<document.documentMode)}function GI(){sc&&(sc.detachEvent("onpropertychange",CV),Pc=sc=null)}function CV(t){if(t.propertyName==="value"&&Zf(Pc)){var e=[];PV(e,Pc,t,fT(t)),aV(AQ,e)}}function LQ(t,e,r){t==="focusin"?(GI(),sc=e,Pc=r,sc.attachEvent("onpropertychange",CV)):t==="focusout"&&GI()}function BQ(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Zf(Pc)}function zQ(t,e){if(t==="click")return Zf(e)}function UQ(t,e){if(t==="input"||t==="change")return Zf(e)}function WQ(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Qn=typeof Object.is=="function"?Object.is:WQ;function Tc(t,e){if(Qn(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var i=r[n];if(!fO.call(e,i)||!Qn(t[i],e[i]))return!1}return!0}function YI(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function QI(t,e){var r=YI(t);t=0;for(var n;r;){if(r.nodeType===3){if(n=t+r.textContent.length,t<=e&&n>=e)return{node:r,offset:e-t};t=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=YI(r)}}function IV(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?IV(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function RV(){for(var t=window,e=tf();e instanceof t.HTMLIFrameElement;){try{var r=typeof e.contentWindow.location.href=="string"}catch{r=!1}if(r)t=e.contentWindow;else break;e=tf(t.document)}return e}function _T(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function HQ(t){var e=RV(),r=t.focusedElem,n=t.selectionRange;if(e!==r&&r&&r.ownerDocument&&IV(r.ownerDocument.documentElement,r)){if(n!==null&&_T(r)){if(e=n.start,t=n.end,t===void 0&&(t=e),"selectionStart"in r)r.selectionStart=e,r.selectionEnd=Math.min(t,r.value.length);else if(t=(e=r.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=r.textContent.length,s=Math.min(n.start,i);n=n.end===void 0?s:Math.min(n.end,i),!t.extend&&s>n&&(i=n,n=s,s=i),i=QI(r,s);var o=QI(r,n);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>n?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=r;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<e.length;r++)t=e[r],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var VQ=Vi&&"documentMode"in document&&11>=document.documentMode,Ha=null,$O=null,oc=null,jO=!1;function XI(t,e,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;jO||Ha==null||Ha!==tf(n)||(n=Ha,"selectionStart"in n&&_T(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),oc&&Tc(oc,n)||(oc=n,n=uf($O,"onSelect"),0<n.length&&(e=new bT("onSelect","select",null,e,r),t.push({event:e,listeners:n}),e.target=Ha)))}function hh(t,e){var r={};return r[t.toLowerCase()]=e.toLowerCase(),r["Webkit"+t]="webkit"+e,r["Moz"+t]="moz"+e,r}var Va={animationend:hh("Animation","AnimationEnd"),animationiteration:hh("Animation","AnimationIteration"),animationstart:hh("Animation","AnimationStart"),transitionend:hh("Transition","TransitionEnd")},ym={},NV={};Vi&&(NV=document.createElement("div").style,"AnimationEvent"in window||(delete Va.animationend.animation,delete Va.animationiteration.animation,delete Va.animationstart.animation),"TransitionEvent"in window||delete Va.transitionend.transition);function ep(t){if(ym[t])return ym[t];if(!Va[t])return t;var e=Va[t],r;for(r in e)if(e.hasOwnProperty(r)&&r in NV)return ym[t]=e[r];return t}var $V=ep("animationend"),jV=ep("animationiteration"),kV=ep("animationstart"),DV=ep("transitionend"),qV=new Map,JI="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ro(t,e){qV.set(t,e),ha(e,[t])}for(var gm=0;gm<JI.length;gm++){var bm=JI[gm],KQ=bm.toLowerCase(),GQ=bm[0].toUpperCase()+bm.slice(1);ro(KQ,"on"+GQ)}ro($V,"onAnimationEnd");ro(jV,"onAnimationIteration");ro(kV,"onAnimationStart");ro("dblclick","onDoubleClick");ro("focusin","onFocus");ro("focusout","onBlur");ro(DV,"onTransitionEnd");$l("onMouseEnter",["mouseout","mouseover"]);$l("onMouseLeave",["mouseout","mouseover"]);$l("onPointerEnter",["pointerout","pointerover"]);$l("onPointerLeave",["pointerout","pointerover"]);ha("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ha("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ha("onBeforeInput",["compositionend","keypress","textInput","paste"]);ha("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ha("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ha("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ju="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),YQ=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ju));function ZI(t,e,r){var n=t.type||"unknown-event";t.currentTarget=r,KY(n,e,void 0,t),t.currentTarget=null}function MV(t,e){e=(e&4)!==0;for(var r=0;r<t.length;r++){var n=t[r],i=n.event;n=n.listeners;e:{var s=void 0;if(e)for(var o=n.length-1;0<=o;o--){var a=n[o],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;ZI(i,a,u),s=l}else for(o=0;o<n.length;o++){if(a=n[o],l=a.instance,u=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;ZI(i,a,u),s=l}}}if(nf)throw t=CO,nf=!1,CO=null,t}function it(t,e){var r=e[AO];r===void 0&&(r=e[AO]=new Set);var n=t+"__bubble";r.has(n)||(AV(e,t,2,!1),r.add(n))}function wm(t,e,r){var n=0;e&&(n|=4),AV(r,t,n,e)}var fh="_reactListening"+Math.random().toString(36).slice(2);function Cc(t){if(!t[fh]){t[fh]=!0,HH.forEach(function(r){r!=="selectionchange"&&(YQ.has(r)||wm(r,!1,t),wm(r,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[fh]||(e[fh]=!0,wm("selectionchange",!1,e))}}function AV(t,e,r,n){switch(xV(e)){case 1:var i=uQ;break;case 4:i=cQ;break;default:i=yT}r=i.bind(null,e,r,t),i=void 0,!TO||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),n?i!==void 0?t.addEventListener(e,r,{capture:!0,passive:i}):t.addEventListener(e,r,!0):i!==void 0?t.addEventListener(e,r,{passive:i}):t.addEventListener(e,r,!1)}function xm(t,e,r,n,i){var s=n;if(!(e&1)&&!(e&2)&&n!==null)e:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var a=n.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=n.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;a!==null;){if(o=bo(a),o===null)return;if(l=o.tag,l===5||l===6){n=s=o;continue e}a=a.parentNode}}n=n.return}aV(function(){var u=s,c=fT(r),d=[];e:{var f=qV.get(t);if(f!==void 0){var p=bT,m=t;switch(t){case"keypress":if(Ah(r)===0)break e;case"keydown":case"keyup":p=OQ;break;case"focusin":m="focus",p=pm;break;case"focusout":m="blur",p=pm;break;case"beforeblur":case"afterblur":p=pm;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=BI;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=fQ;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=CQ;break;case $V:case jV:case kV:p=vQ;break;case DV:p=RQ;break;case"scroll":p=dQ;break;case"wheel":p=$Q;break;case"copy":case"cut":case"paste":p=gQ;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=UI}var g=(e&4)!==0,b=!g&&t==="scroll",y=g?f!==null?f+"Capture":null:f;g=[];for(var v=u,x;v!==null;){x=v;var w=x.stateNode;if(x.tag===5&&w!==null&&(x=w,y!==null&&(w=_c(v,y),w!=null&&g.push(Ic(v,w,x)))),b)break;v=v.return}0<g.length&&(f=new p(f,m,null,r,c),d.push({event:f,listeners:g}))}}if(!(e&7)){e:{if(f=t==="mouseover"||t==="pointerover",p=t==="mouseout"||t==="pointerout",f&&r!==OO&&(m=r.relatedTarget||r.fromElement)&&(bo(m)||m[Ki]))break e;if((p||f)&&(f=c.window===c?c:(f=c.ownerDocument)?f.defaultView||f.parentWindow:window,p?(m=r.relatedTarget||r.toElement,p=u,m=m?bo(m):null,m!==null&&(b=fa(m),m!==b||m.tag!==5&&m.tag!==6)&&(m=null)):(p=null,m=u),p!==m)){if(g=BI,w="onMouseLeave",y="onMouseEnter",v="mouse",(t==="pointerout"||t==="pointerover")&&(g=UI,w="onPointerLeave",y="onPointerEnter",v="pointer"),b=p==null?f:Ka(p),x=m==null?f:Ka(m),f=new g(w,v+"leave",p,r,c),f.target=b,f.relatedTarget=x,w=null,bo(c)===u&&(g=new g(y,v+"enter",m,r,c),g.target=x,g.relatedTarget=b,w=g),b=w,p&&m)t:{for(g=p,y=m,v=0,x=g;x;x=ka(x))v++;for(x=0,w=y;w;w=ka(w))x++;for(;0<v-x;)g=ka(g),v--;for(;0<x-v;)y=ka(y),x--;for(;v--;){if(g===y||y!==null&&g===y.alternate)break t;g=ka(g),y=ka(y)}g=null}else g=null;p!==null&&eR(d,f,p,g,!1),m!==null&&b!==null&&eR(d,b,m,g,!0)}}e:{if(f=u?Ka(u):window,p=f.nodeName&&f.nodeName.toLowerCase(),p==="select"||p==="input"&&f.type==="file")var _=FQ;else if(VI(f))if(TV)_=UQ;else{_=BQ;var E=LQ}else(p=f.nodeName)&&p.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(_=zQ);if(_&&(_=_(t,u))){PV(d,_,r,c);break e}E&&E(t,f,u),t==="focusout"&&(E=f._wrapperState)&&E.controlled&&f.type==="number"&&wO(f,"number",f.value)}switch(E=u?Ka(u):window,t){case"focusin":(VI(E)||E.contentEditable==="true")&&(Ha=E,$O=u,oc=null);break;case"focusout":oc=$O=Ha=null;break;case"mousedown":jO=!0;break;case"contextmenu":case"mouseup":case"dragend":jO=!1,XI(d,r,c);break;case"selectionchange":if(VQ)break;case"keydown":case"keyup":XI(d,r,c)}var O;if(xT)e:{switch(t){case"compositionstart":var S="onCompositionStart";break e;case"compositionend":S="onCompositionEnd";break e;case"compositionupdate":S="onCompositionUpdate";break e}S=void 0}else Wa?EV(t,r)&&(S="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(S="onCompositionStart");S&&(SV&&r.locale!=="ko"&&(Wa||S!=="onCompositionStart"?S==="onCompositionEnd"&&Wa&&(O=_V()):(Is=c,gT="value"in Is?Is.value:Is.textContent,Wa=!0)),E=uf(u,S),0<E.length&&(S=new zI(S,t,null,r,c),d.push({event:S,listeners:E}),O?S.data=O:(O=OV(r),O!==null&&(S.data=O)))),(O=kQ?DQ(t,r):qQ(t,r))&&(u=uf(u,"onBeforeInput"),0<u.length&&(c=new zI("onBeforeInput","beforeinput",null,r,c),d.push({event:c,listeners:u}),c.data=O))}MV(d,e)})}function Ic(t,e,r){return{instance:t,listener:e,currentTarget:r}}function uf(t,e){for(var r=e+"Capture",n=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=_c(t,r),s!=null&&n.unshift(Ic(t,s,i)),s=_c(t,e),s!=null&&n.push(Ic(t,s,i))),t=t.return}return n}function ka(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function eR(t,e,r,n,i){for(var s=e._reactName,o=[];r!==null&&r!==n;){var a=r,l=a.alternate,u=a.stateNode;if(l!==null&&l===n)break;a.tag===5&&u!==null&&(a=u,i?(l=_c(r,s),l!=null&&o.unshift(Ic(r,l,a))):i||(l=_c(r,s),l!=null&&o.push(Ic(r,l,a)))),r=r.return}o.length!==0&&t.push({event:e,listeners:o})}var QQ=/\r\n?/g,XQ=/\u0000|\uFFFD/g;function tR(t){return(typeof t=="string"?t:""+t).replace(QQ,`
`).replace(XQ,"")}function ph(t,e,r){if(e=tR(e),tR(t)!==e&&r)throw Error(J(425))}function cf(){}var kO=null,DO=null;function qO(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var MO=typeof setTimeout=="function"?setTimeout:void 0,JQ=typeof clearTimeout=="function"?clearTimeout:void 0,rR=typeof Promise=="function"?Promise:void 0,ZQ=typeof queueMicrotask=="function"?queueMicrotask:typeof rR<"u"?function(t){return rR.resolve(null).then(t).catch(eX)}:MO;function eX(t){setTimeout(function(){throw t})}function _m(t,e){var r=e,n=0;do{var i=r.nextSibling;if(t.removeChild(r),i&&i.nodeType===8)if(r=i.data,r==="/$"){if(n===0){t.removeChild(i),Oc(e);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=i}while(r);Oc(e)}function qs(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function nR(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(e===0)return t;e--}else r==="/$"&&e++}t=t.previousSibling}return null}var Zl=Math.random().toString(36).slice(2),di="__reactFiber$"+Zl,Rc="__reactProps$"+Zl,Ki="__reactContainer$"+Zl,AO="__reactEvents$"+Zl,tX="__reactListeners$"+Zl,rX="__reactHandles$"+Zl;function bo(t){var e=t[di];if(e)return e;for(var r=t.parentNode;r;){if(e=r[Ki]||r[di]){if(r=e.alternate,e.child!==null||r!==null&&r.child!==null)for(t=nR(t);t!==null;){if(r=t[di])return r;t=nR(t)}return e}t=r,r=t.parentNode}return null}function fd(t){return t=t[di]||t[Ki],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Ka(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(J(33))}function tp(t){return t[Rc]||null}var FO=[],Ga=-1;function no(t){return{current:t}}function ot(t){0>Ga||(t.current=FO[Ga],FO[Ga]=null,Ga--)}function tt(t,e){Ga++,FO[Ga]=t.current,t.current=e}var Qs={},wr=no(Qs),Vr=no(!1),Ko=Qs;function jl(t,e){var r=t.type.contextTypes;if(!r)return Qs;var n=t.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===e)return n.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in r)i[s]=e[s];return n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function Kr(t){return t=t.childContextTypes,t!=null}function df(){ot(Vr),ot(wr)}function iR(t,e,r){if(wr.current!==Qs)throw Error(J(168));tt(wr,e),tt(Vr,r)}function FV(t,e,r){var n=t.stateNode;if(e=e.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var i in n)if(!(i in e))throw Error(J(108,LY(t)||"Unknown",i));return pt({},r,n)}function hf(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Qs,Ko=wr.current,tt(wr,t),tt(Vr,Vr.current),!0}function sR(t,e,r){var n=t.stateNode;if(!n)throw Error(J(169));r?(t=FV(t,e,Ko),n.__reactInternalMemoizedMergedChildContext=t,ot(Vr),ot(wr),tt(wr,t)):ot(Vr),tt(Vr,r)}var Ti=null,rp=!1,Sm=!1;function LV(t){Ti===null?Ti=[t]:Ti.push(t)}function nX(t){rp=!0,LV(t)}function io(){if(!Sm&&Ti!==null){Sm=!0;var t=0,e=We;try{var r=Ti;for(We=1;t<r.length;t++){var n=r[t];do n=n(!0);while(n!==null)}Ti=null,rp=!1}catch(i){throw Ti!==null&&(Ti=Ti.slice(t+1)),dV(pT,io),i}finally{We=e,Sm=!1}}return null}var Ya=[],Qa=0,ff=null,pf=0,_n=[],Sn=0,Go=null,$i=1,ji="";function vo(t,e){Ya[Qa++]=pf,Ya[Qa++]=ff,ff=t,pf=e}function BV(t,e,r){_n[Sn++]=$i,_n[Sn++]=ji,_n[Sn++]=Go,Go=t;var n=$i;t=ji;var i=32-Gn(n)-1;n&=~(1<<i),r+=1;var s=32-Gn(e)+i;if(30<s){var o=i-i%5;s=(n&(1<<o)-1).toString(32),n>>=o,i-=o,$i=1<<32-Gn(e)+i|r<<i|n,ji=s+t}else $i=1<<s|r<<i|n,ji=t}function ST(t){t.return!==null&&(vo(t,1),BV(t,1,0))}function ET(t){for(;t===ff;)ff=Ya[--Qa],Ya[Qa]=null,pf=Ya[--Qa],Ya[Qa]=null;for(;t===Go;)Go=_n[--Sn],_n[Sn]=null,ji=_n[--Sn],_n[Sn]=null,$i=_n[--Sn],_n[Sn]=null}var cn=null,un=null,lt=!1,Un=null;function zV(t,e){var r=On(5,null,null,0);r.elementType="DELETED",r.stateNode=e,r.return=t,e=t.deletions,e===null?(t.deletions=[r],t.flags|=16):e.push(r)}function oR(t,e){switch(t.tag){case 5:var r=t.type;return e=e.nodeType!==1||r.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,cn=t,un=qs(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,cn=t,un=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(r=Go!==null?{id:$i,overflow:ji}:null,t.memoizedState={dehydrated:e,treeContext:r,retryLane:1073741824},r=On(18,null,null,0),r.stateNode=e,r.return=t,t.child=r,cn=t,un=null,!0):!1;default:return!1}}function LO(t){return(t.mode&1)!==0&&(t.flags&128)===0}function BO(t){if(lt){var e=un;if(e){var r=e;if(!oR(t,e)){if(LO(t))throw Error(J(418));e=qs(r.nextSibling);var n=cn;e&&oR(t,e)?zV(n,r):(t.flags=t.flags&-4097|2,lt=!1,cn=t)}}else{if(LO(t))throw Error(J(418));t.flags=t.flags&-4097|2,lt=!1,cn=t}}}function aR(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;cn=t}function mh(t){if(t!==cn)return!1;if(!lt)return aR(t),lt=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!qO(t.type,t.memoizedProps)),e&&(e=un)){if(LO(t))throw UV(),Error(J(418));for(;e;)zV(t,e),e=qs(e.nextSibling)}if(aR(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(J(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"){if(e===0){un=qs(t.nextSibling);break e}e--}else r!=="$"&&r!=="$!"&&r!=="$?"||e++}t=t.nextSibling}un=null}}else un=cn?qs(t.stateNode.nextSibling):null;return!0}function UV(){for(var t=un;t;)t=qs(t.nextSibling)}function kl(){un=cn=null,lt=!1}function OT(t){Un===null?Un=[t]:Un.push(t)}var iX=Qi.ReactCurrentBatchConfig;function Au(t,e,r){if(t=r.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(J(309));var n=r.stateNode}if(!n)throw Error(J(147,t));var i=n,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=i.refs;o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(J(284));if(!r._owner)throw Error(J(290,t))}return t}function vh(t,e){throw t=Object.prototype.toString.call(e),Error(J(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function lR(t){var e=t._init;return e(t._payload)}function WV(t){function e(y,v){if(t){var x=y.deletions;x===null?(y.deletions=[v],y.flags|=16):x.push(v)}}function r(y,v){if(!t)return null;for(;v!==null;)e(y,v),v=v.sibling;return null}function n(y,v){for(y=new Map;v!==null;)v.key!==null?y.set(v.key,v):y.set(v.index,v),v=v.sibling;return y}function i(y,v){return y=Ls(y,v),y.index=0,y.sibling=null,y}function s(y,v,x){return y.index=x,t?(x=y.alternate,x!==null?(x=x.index,x<v?(y.flags|=2,v):x):(y.flags|=2,v)):(y.flags|=1048576,v)}function o(y){return t&&y.alternate===null&&(y.flags|=2),y}function a(y,v,x,w){return v===null||v.tag!==6?(v=Rm(x,y.mode,w),v.return=y,v):(v=i(v,x),v.return=y,v)}function l(y,v,x,w){var _=x.type;return _===Ua?c(y,v,x.props.children,w,x.key):v!==null&&(v.elementType===_||typeof _=="object"&&_!==null&&_.$$typeof===ds&&lR(_)===v.type)?(w=i(v,x.props),w.ref=Au(y,v,x),w.return=y,w):(w=Hh(x.type,x.key,x.props,null,y.mode,w),w.ref=Au(y,v,x),w.return=y,w)}function u(y,v,x,w){return v===null||v.tag!==4||v.stateNode.containerInfo!==x.containerInfo||v.stateNode.implementation!==x.implementation?(v=Nm(x,y.mode,w),v.return=y,v):(v=i(v,x.children||[]),v.return=y,v)}function c(y,v,x,w,_){return v===null||v.tag!==7?(v=Fo(x,y.mode,w,_),v.return=y,v):(v=i(v,x),v.return=y,v)}function d(y,v,x){if(typeof v=="string"&&v!==""||typeof v=="number")return v=Rm(""+v,y.mode,x),v.return=y,v;if(typeof v=="object"&&v!==null){switch(v.$$typeof){case sh:return x=Hh(v.type,v.key,v.props,null,y.mode,x),x.ref=Au(y,null,v),x.return=y,x;case za:return v=Nm(v,y.mode,x),v.return=y,v;case ds:var w=v._init;return d(y,w(v._payload),x)}if(Qu(v)||ju(v))return v=Fo(v,y.mode,x,null),v.return=y,v;vh(y,v)}return null}function f(y,v,x,w){var _=v!==null?v.key:null;if(typeof x=="string"&&x!==""||typeof x=="number")return _!==null?null:a(y,v,""+x,w);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case sh:return x.key===_?l(y,v,x,w):null;case za:return x.key===_?u(y,v,x,w):null;case ds:return _=x._init,f(y,v,_(x._payload),w)}if(Qu(x)||ju(x))return _!==null?null:c(y,v,x,w,null);vh(y,x)}return null}function p(y,v,x,w,_){if(typeof w=="string"&&w!==""||typeof w=="number")return y=y.get(x)||null,a(v,y,""+w,_);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case sh:return y=y.get(w.key===null?x:w.key)||null,l(v,y,w,_);case za:return y=y.get(w.key===null?x:w.key)||null,u(v,y,w,_);case ds:var E=w._init;return p(y,v,x,E(w._payload),_)}if(Qu(w)||ju(w))return y=y.get(x)||null,c(v,y,w,_,null);vh(v,w)}return null}function m(y,v,x,w){for(var _=null,E=null,O=v,S=v=0,T=null;O!==null&&S<x.length;S++){O.index>S?(T=O,O=null):T=O.sibling;var P=f(y,O,x[S],w);if(P===null){O===null&&(O=T);break}t&&O&&P.alternate===null&&e(y,O),v=s(P,v,S),E===null?_=P:E.sibling=P,E=P,O=T}if(S===x.length)return r(y,O),lt&&vo(y,S),_;if(O===null){for(;S<x.length;S++)O=d(y,x[S],w),O!==null&&(v=s(O,v,S),E===null?_=O:E.sibling=O,E=O);return lt&&vo(y,S),_}for(O=n(y,O);S<x.length;S++)T=p(O,y,S,x[S],w),T!==null&&(t&&T.alternate!==null&&O.delete(T.key===null?S:T.key),v=s(T,v,S),E===null?_=T:E.sibling=T,E=T);return t&&O.forEach(function(R){return e(y,R)}),lt&&vo(y,S),_}function g(y,v,x,w){var _=ju(x);if(typeof _!="function")throw Error(J(150));if(x=_.call(x),x==null)throw Error(J(151));for(var E=_=null,O=v,S=v=0,T=null,P=x.next();O!==null&&!P.done;S++,P=x.next()){O.index>S?(T=O,O=null):T=O.sibling;var R=f(y,O,P.value,w);if(R===null){O===null&&(O=T);break}t&&O&&R.alternate===null&&e(y,O),v=s(R,v,S),E===null?_=R:E.sibling=R,E=R,O=T}if(P.done)return r(y,O),lt&&vo(y,S),_;if(O===null){for(;!P.done;S++,P=x.next())P=d(y,P.value,w),P!==null&&(v=s(P,v,S),E===null?_=P:E.sibling=P,E=P);return lt&&vo(y,S),_}for(O=n(y,O);!P.done;S++,P=x.next())P=p(O,y,S,P.value,w),P!==null&&(t&&P.alternate!==null&&O.delete(P.key===null?S:P.key),v=s(P,v,S),E===null?_=P:E.sibling=P,E=P);return t&&O.forEach(function(C){return e(y,C)}),lt&&vo(y,S),_}function b(y,v,x,w){if(typeof x=="object"&&x!==null&&x.type===Ua&&x.key===null&&(x=x.props.children),typeof x=="object"&&x!==null){switch(x.$$typeof){case sh:e:{for(var _=x.key,E=v;E!==null;){if(E.key===_){if(_=x.type,_===Ua){if(E.tag===7){r(y,E.sibling),v=i(E,x.props.children),v.return=y,y=v;break e}}else if(E.elementType===_||typeof _=="object"&&_!==null&&_.$$typeof===ds&&lR(_)===E.type){r(y,E.sibling),v=i(E,x.props),v.ref=Au(y,E,x),v.return=y,y=v;break e}r(y,E);break}else e(y,E);E=E.sibling}x.type===Ua?(v=Fo(x.props.children,y.mode,w,x.key),v.return=y,y=v):(w=Hh(x.type,x.key,x.props,null,y.mode,w),w.ref=Au(y,v,x),w.return=y,y=w)}return o(y);case za:e:{for(E=x.key;v!==null;){if(v.key===E)if(v.tag===4&&v.stateNode.containerInfo===x.containerInfo&&v.stateNode.implementation===x.implementation){r(y,v.sibling),v=i(v,x.children||[]),v.return=y,y=v;break e}else{r(y,v);break}else e(y,v);v=v.sibling}v=Nm(x,y.mode,w),v.return=y,y=v}return o(y);case ds:return E=x._init,b(y,v,E(x._payload),w)}if(Qu(x))return m(y,v,x,w);if(ju(x))return g(y,v,x,w);vh(y,x)}return typeof x=="string"&&x!==""||typeof x=="number"?(x=""+x,v!==null&&v.tag===6?(r(y,v.sibling),v=i(v,x),v.return=y,y=v):(r(y,v),v=Rm(x,y.mode,w),v.return=y,y=v),o(y)):r(y,v)}return b}var Dl=WV(!0),HV=WV(!1),mf=no(null),vf=null,Xa=null,PT=null;function TT(){PT=Xa=vf=null}function CT(t){var e=mf.current;ot(mf),t._currentValue=e}function zO(t,e,r){for(;t!==null;){var n=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,n!==null&&(n.childLanes|=e)):n!==null&&(n.childLanes&e)!==e&&(n.childLanes|=e),t===r)break;t=t.return}}function cl(t,e){vf=t,PT=Xa=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Hr=!0),t.firstContext=null)}function In(t){var e=t._currentValue;if(PT!==t)if(t={context:t,memoizedValue:e,next:null},Xa===null){if(vf===null)throw Error(J(308));Xa=t,vf.dependencies={lanes:0,firstContext:t}}else Xa=Xa.next=t;return e}var wo=null;function IT(t){wo===null?wo=[t]:wo.push(t)}function VV(t,e,r,n){var i=e.interleaved;return i===null?(r.next=r,IT(e)):(r.next=i.next,i.next=r),e.interleaved=r,Gi(t,n)}function Gi(t,e){t.lanes|=e;var r=t.alternate;for(r!==null&&(r.lanes|=e),r=t,t=t.return;t!==null;)t.childLanes|=e,r=t.alternate,r!==null&&(r.childLanes|=e),r=t,t=t.return;return r.tag===3?r.stateNode:null}var hs=!1;function RT(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function KV(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function qi(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Ms(t,e,r){var n=t.updateQueue;if(n===null)return null;if(n=n.shared,Fe&2){var i=n.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),n.pending=e,Gi(t,r)}return i=n.interleaved,i===null?(e.next=e,IT(n)):(e.next=i.next,i.next=e),n.interleaved=e,Gi(t,r)}function Fh(t,e,r){if(e=e.updateQueue,e!==null&&(e=e.shared,(r&4194240)!==0)){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,mT(t,r)}}function uR(t,e){var r=t.updateQueue,n=t.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var i=null,s=null;if(r=r.firstBaseUpdate,r!==null){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};s===null?i=s=o:s=s.next=o,r=r.next}while(r!==null);s===null?i=s=e:s=s.next=e}else i=s=e;r={baseState:n.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:n.shared,effects:n.effects},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=e:t.next=e,r.lastBaseUpdate=e}function yf(t,e,r,n){var i=t.updateQueue;hs=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,u=l.next;l.next=null,o===null?s=u:o.next=u,o=l;var c=t.alternate;c!==null&&(c=c.updateQueue,a=c.lastBaseUpdate,a!==o&&(a===null?c.firstBaseUpdate=u:a.next=u,c.lastBaseUpdate=l))}if(s!==null){var d=i.baseState;o=0,c=u=l=null,a=s;do{var f=a.lane,p=a.eventTime;if((n&f)===f){c!==null&&(c=c.next={eventTime:p,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var m=t,g=a;switch(f=e,p=r,g.tag){case 1:if(m=g.payload,typeof m=="function"){d=m.call(p,d,f);break e}d=m;break e;case 3:m.flags=m.flags&-65537|128;case 0:if(m=g.payload,f=typeof m=="function"?m.call(p,d,f):m,f==null)break e;d=pt({},d,f);break e;case 2:hs=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,f=i.effects,f===null?i.effects=[a]:f.push(a))}else p={eventTime:p,lane:f,tag:a.tag,payload:a.payload,callback:a.callback,next:null},c===null?(u=c=p,l=d):c=c.next=p,o|=f;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;f=a,a=f.next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}while(!0);if(c===null&&(l=d),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=c,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);Qo|=o,t.lanes=o,t.memoizedState=d}}function cR(t,e,r){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var n=t[e],i=n.callback;if(i!==null){if(n.callback=null,n=r,typeof i!="function")throw Error(J(191,i));i.call(n)}}}var pd={},yi=no(pd),Nc=no(pd),$c=no(pd);function xo(t){if(t===pd)throw Error(J(174));return t}function NT(t,e){switch(tt($c,e),tt(Nc,t),tt(yi,pd),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:_O(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=_O(e,t)}ot(yi),tt(yi,e)}function ql(){ot(yi),ot(Nc),ot($c)}function GV(t){xo($c.current);var e=xo(yi.current),r=_O(e,t.type);e!==r&&(tt(Nc,t),tt(yi,r))}function $T(t){Nc.current===t&&(ot(yi),ot(Nc))}var ct=no(0);function gf(t){for(var e=t;e!==null;){if(e.tag===13){var r=e.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Em=[];function jT(){for(var t=0;t<Em.length;t++)Em[t]._workInProgressVersionPrimary=null;Em.length=0}var Lh=Qi.ReactCurrentDispatcher,Om=Qi.ReactCurrentBatchConfig,Yo=0,dt=null,Ut=null,Yt=null,bf=!1,ac=!1,jc=0,sX=0;function fr(){throw Error(J(321))}function kT(t,e){if(e===null)return!1;for(var r=0;r<e.length&&r<t.length;r++)if(!Qn(t[r],e[r]))return!1;return!0}function DT(t,e,r,n,i,s){if(Yo=s,dt=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Lh.current=t===null||t.memoizedState===null?uX:cX,t=r(n,i),ac){s=0;do{if(ac=!1,jc=0,25<=s)throw Error(J(301));s+=1,Yt=Ut=null,e.updateQueue=null,Lh.current=dX,t=r(n,i)}while(ac)}if(Lh.current=wf,e=Ut!==null&&Ut.next!==null,Yo=0,Yt=Ut=dt=null,bf=!1,e)throw Error(J(300));return t}function qT(){var t=jc!==0;return jc=0,t}function si(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Yt===null?dt.memoizedState=Yt=t:Yt=Yt.next=t,Yt}function Rn(){if(Ut===null){var t=dt.alternate;t=t!==null?t.memoizedState:null}else t=Ut.next;var e=Yt===null?dt.memoizedState:Yt.next;if(e!==null)Yt=e,Ut=t;else{if(t===null)throw Error(J(310));Ut=t,t={memoizedState:Ut.memoizedState,baseState:Ut.baseState,baseQueue:Ut.baseQueue,queue:Ut.queue,next:null},Yt===null?dt.memoizedState=Yt=t:Yt=Yt.next=t}return Yt}function kc(t,e){return typeof e=="function"?e(t):e}function Pm(t){var e=Rn(),r=e.queue;if(r===null)throw Error(J(311));r.lastRenderedReducer=t;var n=Ut,i=n.baseQueue,s=r.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}n.baseQueue=i=s,r.pending=null}if(i!==null){s=i.next,n=n.baseState;var a=o=null,l=null,u=s;do{var c=u.lane;if((Yo&c)===c)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:t(n,u.action);else{var d={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=d,o=n):l=l.next=d,dt.lanes|=c,Qo|=c}u=u.next}while(u!==null&&u!==s);l===null?o=n:l.next=a,Qn(n,e.memoizedState)||(Hr=!0),e.memoizedState=n,e.baseState=o,e.baseQueue=l,r.lastRenderedState=n}if(t=r.interleaved,t!==null){i=t;do s=i.lane,dt.lanes|=s,Qo|=s,i=i.next;while(i!==t)}else i===null&&(r.lanes=0);return[e.memoizedState,r.dispatch]}function Tm(t){var e=Rn(),r=e.queue;if(r===null)throw Error(J(311));r.lastRenderedReducer=t;var n=r.dispatch,i=r.pending,s=e.memoizedState;if(i!==null){r.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);Qn(s,e.memoizedState)||(Hr=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),r.lastRenderedState=s}return[s,n]}function YV(){}function QV(t,e){var r=dt,n=Rn(),i=e(),s=!Qn(n.memoizedState,i);if(s&&(n.memoizedState=i,Hr=!0),n=n.queue,MT(ZV.bind(null,r,n,t),[t]),n.getSnapshot!==e||s||Yt!==null&&Yt.memoizedState.tag&1){if(r.flags|=2048,Dc(9,JV.bind(null,r,n,i,e),void 0,null),Xt===null)throw Error(J(349));Yo&30||XV(r,e,i)}return i}function XV(t,e,r){t.flags|=16384,t={getSnapshot:e,value:r},e=dt.updateQueue,e===null?(e={lastEffect:null,stores:null},dt.updateQueue=e,e.stores=[t]):(r=e.stores,r===null?e.stores=[t]:r.push(t))}function JV(t,e,r,n){e.value=r,e.getSnapshot=n,e8(e)&&t8(t)}function ZV(t,e,r){return r(function(){e8(e)&&t8(t)})}function e8(t){var e=t.getSnapshot;t=t.value;try{var r=e();return!Qn(t,r)}catch{return!0}}function t8(t){var e=Gi(t,1);e!==null&&Yn(e,t,1,-1)}function dR(t){var e=si();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:kc,lastRenderedState:t},e.queue=t,t=t.dispatch=lX.bind(null,dt,t),[e.memoizedState,t]}function Dc(t,e,r,n){return t={tag:t,create:e,destroy:r,deps:n,next:null},e=dt.updateQueue,e===null?(e={lastEffect:null,stores:null},dt.updateQueue=e,e.lastEffect=t.next=t):(r=e.lastEffect,r===null?e.lastEffect=t.next=t:(n=r.next,r.next=t,t.next=n,e.lastEffect=t)),t}function r8(){return Rn().memoizedState}function Bh(t,e,r,n){var i=si();dt.flags|=t,i.memoizedState=Dc(1|e,r,void 0,n===void 0?null:n)}function np(t,e,r,n){var i=Rn();n=n===void 0?null:n;var s=void 0;if(Ut!==null){var o=Ut.memoizedState;if(s=o.destroy,n!==null&&kT(n,o.deps)){i.memoizedState=Dc(e,r,s,n);return}}dt.flags|=t,i.memoizedState=Dc(1|e,r,s,n)}function hR(t,e){return Bh(8390656,8,t,e)}function MT(t,e){return np(2048,8,t,e)}function n8(t,e){return np(4,2,t,e)}function i8(t,e){return np(4,4,t,e)}function s8(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function o8(t,e,r){return r=r!=null?r.concat([t]):null,np(4,4,s8.bind(null,e,t),r)}function AT(){}function a8(t,e){var r=Rn();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&kT(e,n[1])?n[0]:(r.memoizedState=[t,e],t)}function l8(t,e){var r=Rn();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&kT(e,n[1])?n[0]:(t=t(),r.memoizedState=[t,e],t)}function u8(t,e,r){return Yo&21?(Qn(r,e)||(r=pV(),dt.lanes|=r,Qo|=r,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Hr=!0),t.memoizedState=r)}function oX(t,e){var r=We;We=r!==0&&4>r?r:4,t(!0);var n=Om.transition;Om.transition={};try{t(!1),e()}finally{We=r,Om.transition=n}}function c8(){return Rn().memoizedState}function aX(t,e,r){var n=Fs(t);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},d8(t))h8(e,r);else if(r=VV(t,e,r,n),r!==null){var i=Nr();Yn(r,t,n,i),f8(r,e,n)}}function lX(t,e,r){var n=Fs(t),i={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(d8(t))h8(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,r);if(i.hasEagerState=!0,i.eagerState=a,Qn(a,o)){var l=e.interleaved;l===null?(i.next=i,IT(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}r=VV(t,e,i,n),r!==null&&(i=Nr(),Yn(r,t,n,i),f8(r,e,n))}}function d8(t){var e=t.alternate;return t===dt||e!==null&&e===dt}function h8(t,e){ac=bf=!0;var r=t.pending;r===null?e.next=e:(e.next=r.next,r.next=e),t.pending=e}function f8(t,e,r){if(r&4194240){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,mT(t,r)}}var wf={readContext:In,useCallback:fr,useContext:fr,useEffect:fr,useImperativeHandle:fr,useInsertionEffect:fr,useLayoutEffect:fr,useMemo:fr,useReducer:fr,useRef:fr,useState:fr,useDebugValue:fr,useDeferredValue:fr,useTransition:fr,useMutableSource:fr,useSyncExternalStore:fr,useId:fr,unstable_isNewReconciler:!1},uX={readContext:In,useCallback:function(t,e){return si().memoizedState=[t,e===void 0?null:e],t},useContext:In,useEffect:hR,useImperativeHandle:function(t,e,r){return r=r!=null?r.concat([t]):null,Bh(4194308,4,s8.bind(null,e,t),r)},useLayoutEffect:function(t,e){return Bh(4194308,4,t,e)},useInsertionEffect:function(t,e){return Bh(4,2,t,e)},useMemo:function(t,e){var r=si();return e=e===void 0?null:e,t=t(),r.memoizedState=[t,e],t},useReducer:function(t,e,r){var n=si();return e=r!==void 0?r(e):e,n.memoizedState=n.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},n.queue=t,t=t.dispatch=aX.bind(null,dt,t),[n.memoizedState,t]},useRef:function(t){var e=si();return t={current:t},e.memoizedState=t},useState:dR,useDebugValue:AT,useDeferredValue:function(t){return si().memoizedState=t},useTransition:function(){var t=dR(!1),e=t[0];return t=oX.bind(null,t[1]),si().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,r){var n=dt,i=si();if(lt){if(r===void 0)throw Error(J(407));r=r()}else{if(r=e(),Xt===null)throw Error(J(349));Yo&30||XV(n,e,r)}i.memoizedState=r;var s={value:r,getSnapshot:e};return i.queue=s,hR(ZV.bind(null,n,s,t),[t]),n.flags|=2048,Dc(9,JV.bind(null,n,s,r,e),void 0,null),r},useId:function(){var t=si(),e=Xt.identifierPrefix;if(lt){var r=ji,n=$i;r=(n&~(1<<32-Gn(n)-1)).toString(32)+r,e=":"+e+"R"+r,r=jc++,0<r&&(e+="H"+r.toString(32)),e+=":"}else r=sX++,e=":"+e+"r"+r.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},cX={readContext:In,useCallback:a8,useContext:In,useEffect:MT,useImperativeHandle:o8,useInsertionEffect:n8,useLayoutEffect:i8,useMemo:l8,useReducer:Pm,useRef:r8,useState:function(){return Pm(kc)},useDebugValue:AT,useDeferredValue:function(t){var e=Rn();return u8(e,Ut.memoizedState,t)},useTransition:function(){var t=Pm(kc)[0],e=Rn().memoizedState;return[t,e]},useMutableSource:YV,useSyncExternalStore:QV,useId:c8,unstable_isNewReconciler:!1},dX={readContext:In,useCallback:a8,useContext:In,useEffect:MT,useImperativeHandle:o8,useInsertionEffect:n8,useLayoutEffect:i8,useMemo:l8,useReducer:Tm,useRef:r8,useState:function(){return Tm(kc)},useDebugValue:AT,useDeferredValue:function(t){var e=Rn();return Ut===null?e.memoizedState=t:u8(e,Ut.memoizedState,t)},useTransition:function(){var t=Tm(kc)[0],e=Rn().memoizedState;return[t,e]},useMutableSource:YV,useSyncExternalStore:QV,useId:c8,unstable_isNewReconciler:!1};function Fn(t,e){if(t&&t.defaultProps){e=pt({},e),t=t.defaultProps;for(var r in t)e[r]===void 0&&(e[r]=t[r]);return e}return e}function UO(t,e,r,n){e=t.memoizedState,r=r(n,e),r=r==null?e:pt({},e,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var ip={isMounted:function(t){return(t=t._reactInternals)?fa(t)===t:!1},enqueueSetState:function(t,e,r){t=t._reactInternals;var n=Nr(),i=Fs(t),s=qi(n,i);s.payload=e,r!=null&&(s.callback=r),e=Ms(t,s,i),e!==null&&(Yn(e,t,i,n),Fh(e,t,i))},enqueueReplaceState:function(t,e,r){t=t._reactInternals;var n=Nr(),i=Fs(t),s=qi(n,i);s.tag=1,s.payload=e,r!=null&&(s.callback=r),e=Ms(t,s,i),e!==null&&(Yn(e,t,i,n),Fh(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var r=Nr(),n=Fs(t),i=qi(r,n);i.tag=2,e!=null&&(i.callback=e),e=Ms(t,i,n),e!==null&&(Yn(e,t,n,r),Fh(e,t,n))}};function fR(t,e,r,n,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(n,s,o):e.prototype&&e.prototype.isPureReactComponent?!Tc(r,n)||!Tc(i,s):!0}function p8(t,e,r){var n=!1,i=Qs,s=e.contextType;return typeof s=="object"&&s!==null?s=In(s):(i=Kr(e)?Ko:wr.current,n=e.contextTypes,s=(n=n!=null)?jl(t,i):Qs),e=new e(r,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=ip,t.stateNode=e,e._reactInternals=t,n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function pR(t,e,r,n){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(r,n),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(r,n),e.state!==t&&ip.enqueueReplaceState(e,e.state,null)}function WO(t,e,r,n){var i=t.stateNode;i.props=r,i.state=t.memoizedState,i.refs={},RT(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=In(s):(s=Kr(e)?Ko:wr.current,i.context=jl(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(UO(t,e,s,r),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&ip.enqueueReplaceState(i,i.state,null),yf(t,r,i,n),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Ml(t,e){try{var r="",n=e;do r+=FY(n),n=n.return;while(n);var i=r}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function Cm(t,e,r){return{value:t,source:null,stack:r??null,digest:e??null}}function HO(t,e){try{console.error(e.value)}catch(r){setTimeout(function(){throw r})}}var hX=typeof WeakMap=="function"?WeakMap:Map;function m8(t,e,r){r=qi(-1,r),r.tag=3,r.payload={element:null};var n=e.value;return r.callback=function(){_f||(_f=!0,tP=n),HO(t,e)},r}function v8(t,e,r){r=qi(-1,r),r.tag=3;var n=t.type.getDerivedStateFromError;if(typeof n=="function"){var i=e.value;r.payload=function(){return n(i)},r.callback=function(){HO(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(r.callback=function(){HO(t,e),typeof n!="function"&&(As===null?As=new Set([this]):As.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),r}function mR(t,e,r){var n=t.pingCache;if(n===null){n=t.pingCache=new hX;var i=new Set;n.set(e,i)}else i=n.get(e),i===void 0&&(i=new Set,n.set(e,i));i.has(r)||(i.add(r),t=PX.bind(null,t,e,r),e.then(t,t))}function vR(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function yR(t,e,r,n,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(e=qi(-1,1),e.tag=2,Ms(r,e,1))),r.lanes|=1),t)}var fX=Qi.ReactCurrentOwner,Hr=!1;function Pr(t,e,r,n){e.child=t===null?HV(e,null,r,n):Dl(e,t.child,r,n)}function gR(t,e,r,n,i){r=r.render;var s=e.ref;return cl(e,i),n=DT(t,e,r,n,s,i),r=qT(),t!==null&&!Hr?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Yi(t,e,i)):(lt&&r&&ST(e),e.flags|=1,Pr(t,e,n,i),e.child)}function bR(t,e,r,n,i){if(t===null){var s=r.type;return typeof s=="function"&&!VT(s)&&s.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(e.tag=15,e.type=s,y8(t,e,s,n,i)):(t=Hh(r.type,null,n,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(r=r.compare,r=r!==null?r:Tc,r(o,n)&&t.ref===e.ref)return Yi(t,e,i)}return e.flags|=1,t=Ls(s,n),t.ref=e.ref,t.return=e,e.child=t}function y8(t,e,r,n,i){if(t!==null){var s=t.memoizedProps;if(Tc(s,n)&&t.ref===e.ref)if(Hr=!1,e.pendingProps=n=s,(t.lanes&i)!==0)t.flags&131072&&(Hr=!0);else return e.lanes=t.lanes,Yi(t,e,i)}return VO(t,e,r,n,i)}function g8(t,e,r){var n=e.pendingProps,i=n.children,s=t!==null?t.memoizedState:null;if(n.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},tt(Za,on),on|=r;else{if(!(r&1073741824))return t=s!==null?s.baseLanes|r:r,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,tt(Za,on),on|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=s!==null?s.baseLanes:r,tt(Za,on),on|=n}else s!==null?(n=s.baseLanes|r,e.memoizedState=null):n=r,tt(Za,on),on|=n;return Pr(t,e,i,r),e.child}function b8(t,e){var r=e.ref;(t===null&&r!==null||t!==null&&t.ref!==r)&&(e.flags|=512,e.flags|=2097152)}function VO(t,e,r,n,i){var s=Kr(r)?Ko:wr.current;return s=jl(e,s),cl(e,i),r=DT(t,e,r,n,s,i),n=qT(),t!==null&&!Hr?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Yi(t,e,i)):(lt&&n&&ST(e),e.flags|=1,Pr(t,e,r,i),e.child)}function wR(t,e,r,n,i){if(Kr(r)){var s=!0;hf(e)}else s=!1;if(cl(e,i),e.stateNode===null)zh(t,e),p8(e,r,n),WO(e,r,n,i),n=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,u=r.contextType;typeof u=="object"&&u!==null?u=In(u):(u=Kr(r)?Ko:wr.current,u=jl(e,u));var c=r.getDerivedStateFromProps,d=typeof c=="function"||typeof o.getSnapshotBeforeUpdate=="function";d||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==n||l!==u)&&pR(e,o,n,u),hs=!1;var f=e.memoizedState;o.state=f,yf(e,n,o,i),l=e.memoizedState,a!==n||f!==l||Vr.current||hs?(typeof c=="function"&&(UO(e,r,c,n),l=e.memoizedState),(a=hs||fR(e,r,a,n,f,l,u))?(d||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=n,e.memoizedState=l),o.props=n,o.state=l,o.context=u,n=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),n=!1)}else{o=e.stateNode,KV(t,e),a=e.memoizedProps,u=e.type===e.elementType?a:Fn(e.type,a),o.props=u,d=e.pendingProps,f=o.context,l=r.contextType,typeof l=="object"&&l!==null?l=In(l):(l=Kr(r)?Ko:wr.current,l=jl(e,l));var p=r.getDerivedStateFromProps;(c=typeof p=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==d||f!==l)&&pR(e,o,n,l),hs=!1,f=e.memoizedState,o.state=f,yf(e,n,o,i);var m=e.memoizedState;a!==d||f!==m||Vr.current||hs?(typeof p=="function"&&(UO(e,r,p,n),m=e.memoizedState),(u=hs||fR(e,r,u,n,f,m,l)||!1)?(c||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(n,m,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(n,m,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=n,e.memoizedState=m),o.props=n,o.state=m,o.context=l,n=u):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),n=!1)}return KO(t,e,r,n,s,i)}function KO(t,e,r,n,i,s){b8(t,e);var o=(e.flags&128)!==0;if(!n&&!o)return i&&sR(e,r,!1),Yi(t,e,s);n=e.stateNode,fX.current=e;var a=o&&typeof r.getDerivedStateFromError!="function"?null:n.render();return e.flags|=1,t!==null&&o?(e.child=Dl(e,t.child,null,s),e.child=Dl(e,null,a,s)):Pr(t,e,a,s),e.memoizedState=n.state,i&&sR(e,r,!0),e.child}function w8(t){var e=t.stateNode;e.pendingContext?iR(t,e.pendingContext,e.pendingContext!==e.context):e.context&&iR(t,e.context,!1),NT(t,e.containerInfo)}function xR(t,e,r,n,i){return kl(),OT(i),e.flags|=256,Pr(t,e,r,n),e.child}var GO={dehydrated:null,treeContext:null,retryLane:0};function YO(t){return{baseLanes:t,cachePool:null,transitions:null}}function x8(t,e,r){var n=e.pendingProps,i=ct.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),tt(ct,i&1),t===null)return BO(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=n.children,t=n.fallback,s?(n=e.mode,s=e.child,o={mode:"hidden",children:o},!(n&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=ap(o,n,0,null),t=Fo(t,n,r,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=YO(r),e.memoizedState=GO,t):FT(e,o));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return pX(t,e,o,n,a,i,r);if(s){s=n.fallback,o=e.mode,i=t.child,a=i.sibling;var l={mode:"hidden",children:n.children};return!(o&1)&&e.child!==i?(n=e.child,n.childLanes=0,n.pendingProps=l,e.deletions=null):(n=Ls(i,l),n.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=Ls(a,s):(s=Fo(s,o,r,null),s.flags|=2),s.return=e,n.return=e,n.sibling=s,e.child=n,n=s,s=e.child,o=t.child.memoizedState,o=o===null?YO(r):{baseLanes:o.baseLanes|r,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~r,e.memoizedState=GO,n}return s=t.child,t=s.sibling,n=Ls(s,{mode:"visible",children:n.children}),!(e.mode&1)&&(n.lanes=r),n.return=e,n.sibling=null,t!==null&&(r=e.deletions,r===null?(e.deletions=[t],e.flags|=16):r.push(t)),e.child=n,e.memoizedState=null,n}function FT(t,e){return e=ap({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function yh(t,e,r,n){return n!==null&&OT(n),Dl(e,t.child,null,r),t=FT(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function pX(t,e,r,n,i,s,o){if(r)return e.flags&256?(e.flags&=-257,n=Cm(Error(J(422))),yh(t,e,o,n)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=n.fallback,i=e.mode,n=ap({mode:"visible",children:n.children},i,0,null),s=Fo(s,i,o,null),s.flags|=2,n.return=e,s.return=e,n.sibling=s,e.child=n,e.mode&1&&Dl(e,t.child,null,o),e.child.memoizedState=YO(o),e.memoizedState=GO,s);if(!(e.mode&1))return yh(t,e,o,null);if(i.data==="$!"){if(n=i.nextSibling&&i.nextSibling.dataset,n)var a=n.dgst;return n=a,s=Error(J(419)),n=Cm(s,n,void 0),yh(t,e,o,n)}if(a=(o&t.childLanes)!==0,Hr||a){if(n=Xt,n!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(n.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,Gi(t,i),Yn(n,t,i,-1))}return HT(),n=Cm(Error(J(421))),yh(t,e,o,n)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=TX.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,un=qs(i.nextSibling),cn=e,lt=!0,Un=null,t!==null&&(_n[Sn++]=$i,_n[Sn++]=ji,_n[Sn++]=Go,$i=t.id,ji=t.overflow,Go=e),e=FT(e,n.children),e.flags|=4096,e)}function _R(t,e,r){t.lanes|=e;var n=t.alternate;n!==null&&(n.lanes|=e),zO(t.return,e,r)}function Im(t,e,r,n,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=n,s.tail=r,s.tailMode=i)}function _8(t,e,r){var n=e.pendingProps,i=n.revealOrder,s=n.tail;if(Pr(t,e,n.children,r),n=ct.current,n&2)n=n&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&_R(t,r,e);else if(t.tag===19)_R(t,r,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}n&=1}if(tt(ct,n),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(r=e.child,i=null;r!==null;)t=r.alternate,t!==null&&gf(t)===null&&(i=r),r=r.sibling;r=i,r===null?(i=e.child,e.child=null):(i=r.sibling,r.sibling=null),Im(e,!1,i,r,s);break;case"backwards":for(r=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&gf(t)===null){e.child=i;break}t=i.sibling,i.sibling=r,r=i,i=t}Im(e,!0,r,null,s);break;case"together":Im(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function zh(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Yi(t,e,r){if(t!==null&&(e.dependencies=t.dependencies),Qo|=e.lanes,!(r&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(J(153));if(e.child!==null){for(t=e.child,r=Ls(t,t.pendingProps),e.child=r,r.return=e;t.sibling!==null;)t=t.sibling,r=r.sibling=Ls(t,t.pendingProps),r.return=e;r.sibling=null}return e.child}function mX(t,e,r){switch(e.tag){case 3:w8(e),kl();break;case 5:GV(e);break;case 1:Kr(e.type)&&hf(e);break;case 4:NT(e,e.stateNode.containerInfo);break;case 10:var n=e.type._context,i=e.memoizedProps.value;tt(mf,n._currentValue),n._currentValue=i;break;case 13:if(n=e.memoizedState,n!==null)return n.dehydrated!==null?(tt(ct,ct.current&1),e.flags|=128,null):r&e.child.childLanes?x8(t,e,r):(tt(ct,ct.current&1),t=Yi(t,e,r),t!==null?t.sibling:null);tt(ct,ct.current&1);break;case 19:if(n=(r&e.childLanes)!==0,t.flags&128){if(n)return _8(t,e,r);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),tt(ct,ct.current),n)break;return null;case 22:case 23:return e.lanes=0,g8(t,e,r)}return Yi(t,e,r)}var S8,QO,E8,O8;S8=function(t,e){for(var r=e.child;r!==null;){if(r.tag===5||r.tag===6)t.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};QO=function(){};E8=function(t,e,r,n){var i=t.memoizedProps;if(i!==n){t=e.stateNode,xo(yi.current);var s=null;switch(r){case"input":i=gO(t,i),n=gO(t,n),s=[];break;case"select":i=pt({},i,{value:void 0}),n=pt({},n,{value:void 0}),s=[];break;case"textarea":i=xO(t,i),n=xO(t,n),s=[];break;default:typeof i.onClick!="function"&&typeof n.onClick=="function"&&(t.onclick=cf)}SO(r,n);var o;r=null;for(u in i)if(!n.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var a=i[u];for(o in a)a.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(wc.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in n){var l=n[u];if(a=i!=null?i[u]:void 0,n.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(r||(r={}),r[o]=l[o])}else r||(s||(s=[]),s.push(u,r)),r=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(wc.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&it("scroll",t),s||a===l||(s=[])):(s=s||[]).push(u,l))}r&&(s=s||[]).push("style",r);var u=s;(e.updateQueue=u)&&(e.flags|=4)}};O8=function(t,e,r,n){r!==n&&(e.flags|=4)};function Fu(t,e){if(!lt)switch(t.tailMode){case"hidden":e=t.tail;for(var r=null;e!==null;)e.alternate!==null&&(r=e),e=e.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:n.sibling=null}}function pr(t){var e=t.alternate!==null&&t.alternate.child===t.child,r=0,n=0;if(e)for(var i=t.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags&14680064,n|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags,n|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=n,t.childLanes=r,e}function vX(t,e,r){var n=e.pendingProps;switch(ET(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return pr(e),null;case 1:return Kr(e.type)&&df(),pr(e),null;case 3:return n=e.stateNode,ql(),ot(Vr),ot(wr),jT(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(mh(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Un!==null&&(iP(Un),Un=null))),QO(t,e),pr(e),null;case 5:$T(e);var i=xo($c.current);if(r=e.type,t!==null&&e.stateNode!=null)E8(t,e,r,n,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!n){if(e.stateNode===null)throw Error(J(166));return pr(e),null}if(t=xo(yi.current),mh(e)){n=e.stateNode,r=e.type;var s=e.memoizedProps;switch(n[di]=e,n[Rc]=s,t=(e.mode&1)!==0,r){case"dialog":it("cancel",n),it("close",n);break;case"iframe":case"object":case"embed":it("load",n);break;case"video":case"audio":for(i=0;i<Ju.length;i++)it(Ju[i],n);break;case"source":it("error",n);break;case"img":case"image":case"link":it("error",n),it("load",n);break;case"details":it("toggle",n);break;case"input":NI(n,s),it("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!s.multiple},it("invalid",n);break;case"textarea":jI(n,s),it("invalid",n)}SO(r,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?n.textContent!==a&&(s.suppressHydrationWarning!==!0&&ph(n.textContent,a,t),i=["children",a]):typeof a=="number"&&n.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&ph(n.textContent,a,t),i=["children",""+a]):wc.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&it("scroll",n)}switch(r){case"input":oh(n),$I(n,s,!0);break;case"textarea":oh(n),kI(n);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(n.onclick=cf)}n=i,e.updateQueue=n,n!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=ZH(r)),t==="http://www.w3.org/1999/xhtml"?r==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof n.is=="string"?t=o.createElement(r,{is:n.is}):(t=o.createElement(r),r==="select"&&(o=t,n.multiple?o.multiple=!0:n.size&&(o.size=n.size))):t=o.createElementNS(t,r),t[di]=e,t[Rc]=n,S8(t,e,!1,!1),e.stateNode=t;e:{switch(o=EO(r,n),r){case"dialog":it("cancel",t),it("close",t),i=n;break;case"iframe":case"object":case"embed":it("load",t),i=n;break;case"video":case"audio":for(i=0;i<Ju.length;i++)it(Ju[i],t);i=n;break;case"source":it("error",t),i=n;break;case"img":case"image":case"link":it("error",t),it("load",t),i=n;break;case"details":it("toggle",t),i=n;break;case"input":NI(t,n),i=gO(t,n),it("invalid",t);break;case"option":i=n;break;case"select":t._wrapperState={wasMultiple:!!n.multiple},i=pt({},n,{value:void 0}),it("invalid",t);break;case"textarea":jI(t,n),i=xO(t,n),it("invalid",t);break;default:i=n}SO(r,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?rV(t,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&eV(t,l)):s==="children"?typeof l=="string"?(r!=="textarea"||l!=="")&&xc(t,l):typeof l=="number"&&xc(t,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(wc.hasOwnProperty(s)?l!=null&&s==="onScroll"&&it("scroll",t):l!=null&&uT(t,s,l,o))}switch(r){case"input":oh(t),$I(t,n,!1);break;case"textarea":oh(t),kI(t);break;case"option":n.value!=null&&t.setAttribute("value",""+Ys(n.value));break;case"select":t.multiple=!!n.multiple,s=n.value,s!=null?ol(t,!!n.multiple,s,!1):n.defaultValue!=null&&ol(t,!!n.multiple,n.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=cf)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return pr(e),null;case 6:if(t&&e.stateNode!=null)O8(t,e,t.memoizedProps,n);else{if(typeof n!="string"&&e.stateNode===null)throw Error(J(166));if(r=xo($c.current),xo(yi.current),mh(e)){if(n=e.stateNode,r=e.memoizedProps,n[di]=e,(s=n.nodeValue!==r)&&(t=cn,t!==null))switch(t.tag){case 3:ph(n.nodeValue,r,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&ph(n.nodeValue,r,(t.mode&1)!==0)}s&&(e.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[di]=e,e.stateNode=n}return pr(e),null;case 13:if(ot(ct),n=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(lt&&un!==null&&e.mode&1&&!(e.flags&128))UV(),kl(),e.flags|=98560,s=!1;else if(s=mh(e),n!==null&&n.dehydrated!==null){if(t===null){if(!s)throw Error(J(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(J(317));s[di]=e}else kl(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;pr(e),s=!1}else Un!==null&&(iP(Un),Un=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=r,e):(n=n!==null,n!==(t!==null&&t.memoizedState!==null)&&n&&(e.child.flags|=8192,e.mode&1&&(t===null||ct.current&1?Wt===0&&(Wt=3):HT())),e.updateQueue!==null&&(e.flags|=4),pr(e),null);case 4:return ql(),QO(t,e),t===null&&Cc(e.stateNode.containerInfo),pr(e),null;case 10:return CT(e.type._context),pr(e),null;case 17:return Kr(e.type)&&df(),pr(e),null;case 19:if(ot(ct),s=e.memoizedState,s===null)return pr(e),null;if(n=(e.flags&128)!==0,o=s.rendering,o===null)if(n)Fu(s,!1);else{if(Wt!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=gf(t),o!==null){for(e.flags|=128,Fu(s,!1),n=o.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),e.subtreeFlags=0,n=r,r=e.child;r!==null;)s=r,t=n,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),r=r.sibling;return tt(ct,ct.current&1|2),e.child}t=t.sibling}s.tail!==null&&Pt()>Al&&(e.flags|=128,n=!0,Fu(s,!1),e.lanes=4194304)}else{if(!n)if(t=gf(o),t!==null){if(e.flags|=128,n=!0,r=t.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),Fu(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!lt)return pr(e),null}else 2*Pt()-s.renderingStartTime>Al&&r!==1073741824&&(e.flags|=128,n=!0,Fu(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(r=s.last,r!==null?r.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=Pt(),e.sibling=null,r=ct.current,tt(ct,n?r&1|2:r&1),e):(pr(e),null);case 22:case 23:return WT(),n=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==n&&(e.flags|=8192),n&&e.mode&1?on&1073741824&&(pr(e),e.subtreeFlags&6&&(e.flags|=8192)):pr(e),null;case 24:return null;case 25:return null}throw Error(J(156,e.tag))}function yX(t,e){switch(ET(e),e.tag){case 1:return Kr(e.type)&&df(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return ql(),ot(Vr),ot(wr),jT(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return $T(e),null;case 13:if(ot(ct),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(J(340));kl()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return ot(ct),null;case 4:return ql(),null;case 10:return CT(e.type._context),null;case 22:case 23:return WT(),null;case 24:return null;default:return null}}var gh=!1,vr=!1,gX=typeof WeakSet=="function"?WeakSet:Set,ce=null;function Ja(t,e){var r=t.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){xt(t,e,n)}else r.current=null}function XO(t,e,r){try{r()}catch(n){xt(t,e,n)}}var SR=!1;function bX(t,e){if(kO=af,t=RV(),_T(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var i=n.anchorOffset,s=n.focusNode;n=n.focusOffset;try{r.nodeType,s.nodeType}catch{r=null;break e}var o=0,a=-1,l=-1,u=0,c=0,d=t,f=null;t:for(;;){for(var p;d!==r||i!==0&&d.nodeType!==3||(a=o+i),d!==s||n!==0&&d.nodeType!==3||(l=o+n),d.nodeType===3&&(o+=d.nodeValue.length),(p=d.firstChild)!==null;)f=d,d=p;for(;;){if(d===t)break t;if(f===r&&++u===i&&(a=o),f===s&&++c===n&&(l=o),(p=d.nextSibling)!==null)break;d=f,f=d.parentNode}d=p}r=a===-1||l===-1?null:{start:a,end:l}}else r=null}r=r||{start:0,end:0}}else r=null;for(DO={focusedElem:t,selectionRange:r},af=!1,ce=e;ce!==null;)if(e=ce,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,ce=t;else for(;ce!==null;){e=ce;try{var m=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(m!==null){var g=m.memoizedProps,b=m.memoizedState,y=e.stateNode,v=y.getSnapshotBeforeUpdate(e.elementType===e.type?g:Fn(e.type,g),b);y.__reactInternalSnapshotBeforeUpdate=v}break;case 3:var x=e.stateNode.containerInfo;x.nodeType===1?x.textContent="":x.nodeType===9&&x.documentElement&&x.removeChild(x.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(J(163))}}catch(w){xt(e,e.return,w)}if(t=e.sibling,t!==null){t.return=e.return,ce=t;break}ce=e.return}return m=SR,SR=!1,m}function lc(t,e,r){var n=e.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var i=n=n.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&XO(e,r,s)}i=i.next}while(i!==n)}}function sp(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var r=e=e.next;do{if((r.tag&t)===t){var n=r.create;r.destroy=n()}r=r.next}while(r!==e)}}function JO(t){var e=t.ref;if(e!==null){var r=t.stateNode;switch(t.tag){case 5:t=r;break;default:t=r}typeof e=="function"?e(t):e.current=t}}function P8(t){var e=t.alternate;e!==null&&(t.alternate=null,P8(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[di],delete e[Rc],delete e[AO],delete e[tX],delete e[rX])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function T8(t){return t.tag===5||t.tag===3||t.tag===4}function ER(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||T8(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function ZO(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.nodeType===8?r.parentNode.insertBefore(t,e):r.insertBefore(t,e):(r.nodeType===8?(e=r.parentNode,e.insertBefore(t,r)):(e=r,e.appendChild(t)),r=r._reactRootContainer,r!=null||e.onclick!==null||(e.onclick=cf));else if(n!==4&&(t=t.child,t!==null))for(ZO(t,e,r),t=t.sibling;t!==null;)ZO(t,e,r),t=t.sibling}function eP(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.insertBefore(t,e):r.appendChild(t);else if(n!==4&&(t=t.child,t!==null))for(eP(t,e,r),t=t.sibling;t!==null;)eP(t,e,r),t=t.sibling}var or=null,zn=!1;function ls(t,e,r){for(r=r.child;r!==null;)C8(t,e,r),r=r.sibling}function C8(t,e,r){if(vi&&typeof vi.onCommitFiberUnmount=="function")try{vi.onCommitFiberUnmount(Xf,r)}catch{}switch(r.tag){case 5:vr||Ja(r,e);case 6:var n=or,i=zn;or=null,ls(t,e,r),or=n,zn=i,or!==null&&(zn?(t=or,r=r.stateNode,t.nodeType===8?t.parentNode.removeChild(r):t.removeChild(r)):or.removeChild(r.stateNode));break;case 18:or!==null&&(zn?(t=or,r=r.stateNode,t.nodeType===8?_m(t.parentNode,r):t.nodeType===1&&_m(t,r),Oc(t)):_m(or,r.stateNode));break;case 4:n=or,i=zn,or=r.stateNode.containerInfo,zn=!0,ls(t,e,r),or=n,zn=i;break;case 0:case 11:case 14:case 15:if(!vr&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){i=n=n.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&XO(r,e,o),i=i.next}while(i!==n)}ls(t,e,r);break;case 1:if(!vr&&(Ja(r,e),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(a){xt(r,e,a)}ls(t,e,r);break;case 21:ls(t,e,r);break;case 22:r.mode&1?(vr=(n=vr)||r.memoizedState!==null,ls(t,e,r),vr=n):ls(t,e,r);break;default:ls(t,e,r)}}function OR(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var r=t.stateNode;r===null&&(r=t.stateNode=new gX),e.forEach(function(n){var i=CX.bind(null,t,n);r.has(n)||(r.add(n),n.then(i,i))})}}function Mn(t,e){var r=e.deletions;if(r!==null)for(var n=0;n<r.length;n++){var i=r[n];try{var s=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:or=a.stateNode,zn=!1;break e;case 3:or=a.stateNode.containerInfo,zn=!0;break e;case 4:or=a.stateNode.containerInfo,zn=!0;break e}a=a.return}if(or===null)throw Error(J(160));C8(s,o,i),or=null,zn=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){xt(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)I8(e,t),e=e.sibling}function I8(t,e){var r=t.alternate,n=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Mn(e,t),ni(t),n&4){try{lc(3,t,t.return),sp(3,t)}catch(g){xt(t,t.return,g)}try{lc(5,t,t.return)}catch(g){xt(t,t.return,g)}}break;case 1:Mn(e,t),ni(t),n&512&&r!==null&&Ja(r,r.return);break;case 5:if(Mn(e,t),ni(t),n&512&&r!==null&&Ja(r,r.return),t.flags&32){var i=t.stateNode;try{xc(i,"")}catch(g){xt(t,t.return,g)}}if(n&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=r!==null?r.memoizedProps:s,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&XH(i,s),EO(a,o);var u=EO(a,s);for(o=0;o<l.length;o+=2){var c=l[o],d=l[o+1];c==="style"?rV(i,d):c==="dangerouslySetInnerHTML"?eV(i,d):c==="children"?xc(i,d):uT(i,c,d,u)}switch(a){case"input":bO(i,s);break;case"textarea":JH(i,s);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var p=s.value;p!=null?ol(i,!!s.multiple,p,!1):f!==!!s.multiple&&(s.defaultValue!=null?ol(i,!!s.multiple,s.defaultValue,!0):ol(i,!!s.multiple,s.multiple?[]:"",!1))}i[Rc]=s}catch(g){xt(t,t.return,g)}}break;case 6:if(Mn(e,t),ni(t),n&4){if(t.stateNode===null)throw Error(J(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(g){xt(t,t.return,g)}}break;case 3:if(Mn(e,t),ni(t),n&4&&r!==null&&r.memoizedState.isDehydrated)try{Oc(e.containerInfo)}catch(g){xt(t,t.return,g)}break;case 4:Mn(e,t),ni(t);break;case 13:Mn(e,t),ni(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(zT=Pt())),n&4&&OR(t);break;case 22:if(c=r!==null&&r.memoizedState!==null,t.mode&1?(vr=(u=vr)||c,Mn(e,t),vr=u):Mn(e,t),ni(t),n&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!c&&t.mode&1)for(ce=t,c=t.child;c!==null;){for(d=ce=c;ce!==null;){switch(f=ce,p=f.child,f.tag){case 0:case 11:case 14:case 15:lc(4,f,f.return);break;case 1:Ja(f,f.return);var m=f.stateNode;if(typeof m.componentWillUnmount=="function"){n=f,r=f.return;try{e=n,m.props=e.memoizedProps,m.state=e.memoizedState,m.componentWillUnmount()}catch(g){xt(n,r,g)}}break;case 5:Ja(f,f.return);break;case 22:if(f.memoizedState!==null){TR(d);continue}}p!==null?(p.return=f,ce=p):TR(d)}c=c.sibling}e:for(c=null,d=t;;){if(d.tag===5){if(c===null){c=d;try{i=d.stateNode,u?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=d.stateNode,l=d.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=tV("display",o))}catch(g){xt(t,t.return,g)}}}else if(d.tag===6){if(c===null)try{d.stateNode.nodeValue=u?"":d.memoizedProps}catch(g){xt(t,t.return,g)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===t)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===t)break e;for(;d.sibling===null;){if(d.return===null||d.return===t)break e;c===d&&(c=null),d=d.return}c===d&&(c=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:Mn(e,t),ni(t),n&4&&OR(t);break;case 21:break;default:Mn(e,t),ni(t)}}function ni(t){var e=t.flags;if(e&2){try{e:{for(var r=t.return;r!==null;){if(T8(r)){var n=r;break e}r=r.return}throw Error(J(160))}switch(n.tag){case 5:var i=n.stateNode;n.flags&32&&(xc(i,""),n.flags&=-33);var s=ER(t);eP(t,s,i);break;case 3:case 4:var o=n.stateNode.containerInfo,a=ER(t);ZO(t,a,o);break;default:throw Error(J(161))}}catch(l){xt(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function wX(t,e,r){ce=t,R8(t)}function R8(t,e,r){for(var n=(t.mode&1)!==0;ce!==null;){var i=ce,s=i.child;if(i.tag===22&&n){var o=i.memoizedState!==null||gh;if(!o){var a=i.alternate,l=a!==null&&a.memoizedState!==null||vr;a=gh;var u=vr;if(gh=o,(vr=l)&&!u)for(ce=i;ce!==null;)o=ce,l=o.child,o.tag===22&&o.memoizedState!==null?CR(i):l!==null?(l.return=o,ce=l):CR(i);for(;s!==null;)ce=s,R8(s),s=s.sibling;ce=i,gh=a,vr=u}PR(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,ce=s):PR(t)}}function PR(t){for(;ce!==null;){var e=ce;if(e.flags&8772){var r=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:vr||sp(5,e);break;case 1:var n=e.stateNode;if(e.flags&4&&!vr)if(r===null)n.componentDidMount();else{var i=e.elementType===e.type?r.memoizedProps:Fn(e.type,r.memoizedProps);n.componentDidUpdate(i,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&cR(e,s,n);break;case 3:var o=e.updateQueue;if(o!==null){if(r=null,e.child!==null)switch(e.child.tag){case 5:r=e.child.stateNode;break;case 1:r=e.child.stateNode}cR(e,o,r)}break;case 5:var a=e.stateNode;if(r===null&&e.flags&4){r=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&r.focus();break;case"img":l.src&&(r.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var d=c.dehydrated;d!==null&&Oc(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(J(163))}vr||e.flags&512&&JO(e)}catch(f){xt(e,e.return,f)}}if(e===t){ce=null;break}if(r=e.sibling,r!==null){r.return=e.return,ce=r;break}ce=e.return}}function TR(t){for(;ce!==null;){var e=ce;if(e===t){ce=null;break}var r=e.sibling;if(r!==null){r.return=e.return,ce=r;break}ce=e.return}}function CR(t){for(;ce!==null;){var e=ce;try{switch(e.tag){case 0:case 11:case 15:var r=e.return;try{sp(4,e)}catch(l){xt(e,r,l)}break;case 1:var n=e.stateNode;if(typeof n.componentDidMount=="function"){var i=e.return;try{n.componentDidMount()}catch(l){xt(e,i,l)}}var s=e.return;try{JO(e)}catch(l){xt(e,s,l)}break;case 5:var o=e.return;try{JO(e)}catch(l){xt(e,o,l)}}}catch(l){xt(e,e.return,l)}if(e===t){ce=null;break}var a=e.sibling;if(a!==null){a.return=e.return,ce=a;break}ce=e.return}}var xX=Math.ceil,xf=Qi.ReactCurrentDispatcher,LT=Qi.ReactCurrentOwner,Pn=Qi.ReactCurrentBatchConfig,Fe=0,Xt=null,Nt=null,ar=0,on=0,Za=no(0),Wt=0,qc=null,Qo=0,op=0,BT=0,uc=null,Ur=null,zT=0,Al=1/0,Pi=null,_f=!1,tP=null,As=null,bh=!1,Rs=null,Sf=0,cc=0,rP=null,Uh=-1,Wh=0;function Nr(){return Fe&6?Pt():Uh!==-1?Uh:Uh=Pt()}function Fs(t){return t.mode&1?Fe&2&&ar!==0?ar&-ar:iX.transition!==null?(Wh===0&&(Wh=pV()),Wh):(t=We,t!==0||(t=window.event,t=t===void 0?16:xV(t.type)),t):1}function Yn(t,e,r,n){if(50<cc)throw cc=0,rP=null,Error(J(185));dd(t,r,n),(!(Fe&2)||t!==Xt)&&(t===Xt&&(!(Fe&2)&&(op|=r),Wt===4&&ys(t,ar)),Gr(t,n),r===1&&Fe===0&&!(e.mode&1)&&(Al=Pt()+500,rp&&io()))}function Gr(t,e){var r=t.callbackNode;iQ(t,e);var n=of(t,t===Xt?ar:0);if(n===0)r!==null&&MI(r),t.callbackNode=null,t.callbackPriority=0;else if(e=n&-n,t.callbackPriority!==e){if(r!=null&&MI(r),e===1)t.tag===0?nX(IR.bind(null,t)):LV(IR.bind(null,t)),ZQ(function(){!(Fe&6)&&io()}),r=null;else{switch(mV(n)){case 1:r=pT;break;case 4:r=hV;break;case 16:r=sf;break;case 536870912:r=fV;break;default:r=sf}r=A8(r,N8.bind(null,t))}t.callbackPriority=e,t.callbackNode=r}}function N8(t,e){if(Uh=-1,Wh=0,Fe&6)throw Error(J(327));var r=t.callbackNode;if(dl()&&t.callbackNode!==r)return null;var n=of(t,t===Xt?ar:0);if(n===0)return null;if(n&30||n&t.expiredLanes||e)e=Ef(t,n);else{e=n;var i=Fe;Fe|=2;var s=j8();(Xt!==t||ar!==e)&&(Pi=null,Al=Pt()+500,Ao(t,e));do try{EX();break}catch(a){$8(t,a)}while(!0);TT(),xf.current=s,Fe=i,Nt!==null?e=0:(Xt=null,ar=0,e=Wt)}if(e!==0){if(e===2&&(i=IO(t),i!==0&&(n=i,e=nP(t,i))),e===1)throw r=qc,Ao(t,0),ys(t,n),Gr(t,Pt()),r;if(e===6)ys(t,n);else{if(i=t.current.alternate,!(n&30)&&!_X(i)&&(e=Ef(t,n),e===2&&(s=IO(t),s!==0&&(n=s,e=nP(t,s))),e===1))throw r=qc,Ao(t,0),ys(t,n),Gr(t,Pt()),r;switch(t.finishedWork=i,t.finishedLanes=n,e){case 0:case 1:throw Error(J(345));case 2:yo(t,Ur,Pi);break;case 3:if(ys(t,n),(n&130023424)===n&&(e=zT+500-Pt(),10<e)){if(of(t,0)!==0)break;if(i=t.suspendedLanes,(i&n)!==n){Nr(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=MO(yo.bind(null,t,Ur,Pi),e);break}yo(t,Ur,Pi);break;case 4:if(ys(t,n),(n&4194240)===n)break;for(e=t.eventTimes,i=-1;0<n;){var o=31-Gn(n);s=1<<o,o=e[o],o>i&&(i=o),n&=~s}if(n=i,n=Pt()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*xX(n/1960))-n,10<n){t.timeoutHandle=MO(yo.bind(null,t,Ur,Pi),n);break}yo(t,Ur,Pi);break;case 5:yo(t,Ur,Pi);break;default:throw Error(J(329))}}}return Gr(t,Pt()),t.callbackNode===r?N8.bind(null,t):null}function nP(t,e){var r=uc;return t.current.memoizedState.isDehydrated&&(Ao(t,e).flags|=256),t=Ef(t,e),t!==2&&(e=Ur,Ur=r,e!==null&&iP(e)),t}function iP(t){Ur===null?Ur=t:Ur.push.apply(Ur,t)}function _X(t){for(var e=t;;){if(e.flags&16384){var r=e.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var i=r[n],s=i.getSnapshot;i=i.value;try{if(!Qn(s(),i))return!1}catch{return!1}}}if(r=e.child,e.subtreeFlags&16384&&r!==null)r.return=e,e=r;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function ys(t,e){for(e&=~BT,e&=~op,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var r=31-Gn(e),n=1<<r;t[r]=-1,e&=~n}}function IR(t){if(Fe&6)throw Error(J(327));dl();var e=of(t,0);if(!(e&1))return Gr(t,Pt()),null;var r=Ef(t,e);if(t.tag!==0&&r===2){var n=IO(t);n!==0&&(e=n,r=nP(t,n))}if(r===1)throw r=qc,Ao(t,0),ys(t,e),Gr(t,Pt()),r;if(r===6)throw Error(J(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,yo(t,Ur,Pi),Gr(t,Pt()),null}function UT(t,e){var r=Fe;Fe|=1;try{return t(e)}finally{Fe=r,Fe===0&&(Al=Pt()+500,rp&&io())}}function Xo(t){Rs!==null&&Rs.tag===0&&!(Fe&6)&&dl();var e=Fe;Fe|=1;var r=Pn.transition,n=We;try{if(Pn.transition=null,We=1,t)return t()}finally{We=n,Pn.transition=r,Fe=e,!(Fe&6)&&io()}}function WT(){on=Za.current,ot(Za)}function Ao(t,e){t.finishedWork=null,t.finishedLanes=0;var r=t.timeoutHandle;if(r!==-1&&(t.timeoutHandle=-1,JQ(r)),Nt!==null)for(r=Nt.return;r!==null;){var n=r;switch(ET(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&df();break;case 3:ql(),ot(Vr),ot(wr),jT();break;case 5:$T(n);break;case 4:ql();break;case 13:ot(ct);break;case 19:ot(ct);break;case 10:CT(n.type._context);break;case 22:case 23:WT()}r=r.return}if(Xt=t,Nt=t=Ls(t.current,null),ar=on=e,Wt=0,qc=null,BT=op=Qo=0,Ur=uc=null,wo!==null){for(e=0;e<wo.length;e++)if(r=wo[e],n=r.interleaved,n!==null){r.interleaved=null;var i=n.next,s=r.pending;if(s!==null){var o=s.next;s.next=i,n.next=o}r.pending=n}wo=null}return t}function $8(t,e){do{var r=Nt;try{if(TT(),Lh.current=wf,bf){for(var n=dt.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}bf=!1}if(Yo=0,Yt=Ut=dt=null,ac=!1,jc=0,LT.current=null,r===null||r.return===null){Wt=1,qc=e,Nt=null;break}e:{var s=t,o=r.return,a=r,l=e;if(e=ar,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,c=a,d=c.tag;if(!(c.mode&1)&&(d===0||d===11||d===15)){var f=c.alternate;f?(c.updateQueue=f.updateQueue,c.memoizedState=f.memoizedState,c.lanes=f.lanes):(c.updateQueue=null,c.memoizedState=null)}var p=vR(o);if(p!==null){p.flags&=-257,yR(p,o,a,s,e),p.mode&1&&mR(s,u,e),e=p,l=u;var m=e.updateQueue;if(m===null){var g=new Set;g.add(l),e.updateQueue=g}else m.add(l);break e}else{if(!(e&1)){mR(s,u,e),HT();break e}l=Error(J(426))}}else if(lt&&a.mode&1){var b=vR(o);if(b!==null){!(b.flags&65536)&&(b.flags|=256),yR(b,o,a,s,e),OT(Ml(l,a));break e}}s=l=Ml(l,a),Wt!==4&&(Wt=2),uc===null?uc=[s]:uc.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var y=m8(s,l,e);uR(s,y);break e;case 1:a=l;var v=s.type,x=s.stateNode;if(!(s.flags&128)&&(typeof v.getDerivedStateFromError=="function"||x!==null&&typeof x.componentDidCatch=="function"&&(As===null||!As.has(x)))){s.flags|=65536,e&=-e,s.lanes|=e;var w=v8(s,a,e);uR(s,w);break e}}s=s.return}while(s!==null)}D8(r)}catch(_){e=_,Nt===r&&r!==null&&(Nt=r=r.return);continue}break}while(!0)}function j8(){var t=xf.current;return xf.current=wf,t===null?wf:t}function HT(){(Wt===0||Wt===3||Wt===2)&&(Wt=4),Xt===null||!(Qo&268435455)&&!(op&268435455)||ys(Xt,ar)}function Ef(t,e){var r=Fe;Fe|=2;var n=j8();(Xt!==t||ar!==e)&&(Pi=null,Ao(t,e));do try{SX();break}catch(i){$8(t,i)}while(!0);if(TT(),Fe=r,xf.current=n,Nt!==null)throw Error(J(261));return Xt=null,ar=0,Wt}function SX(){for(;Nt!==null;)k8(Nt)}function EX(){for(;Nt!==null&&!YY();)k8(Nt)}function k8(t){var e=M8(t.alternate,t,on);t.memoizedProps=t.pendingProps,e===null?D8(t):Nt=e,LT.current=null}function D8(t){var e=t;do{var r=e.alternate;if(t=e.return,e.flags&32768){if(r=yX(r,e),r!==null){r.flags&=32767,Nt=r;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Wt=6,Nt=null;return}}else if(r=vX(r,e,on),r!==null){Nt=r;return}if(e=e.sibling,e!==null){Nt=e;return}Nt=e=t}while(e!==null);Wt===0&&(Wt=5)}function yo(t,e,r){var n=We,i=Pn.transition;try{Pn.transition=null,We=1,OX(t,e,r,n)}finally{Pn.transition=i,We=n}return null}function OX(t,e,r,n){do dl();while(Rs!==null);if(Fe&6)throw Error(J(327));r=t.finishedWork;var i=t.finishedLanes;if(r===null)return null;if(t.finishedWork=null,t.finishedLanes=0,r===t.current)throw Error(J(177));t.callbackNode=null,t.callbackPriority=0;var s=r.lanes|r.childLanes;if(sQ(t,s),t===Xt&&(Nt=Xt=null,ar=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||bh||(bh=!0,A8(sf,function(){return dl(),null})),s=(r.flags&15990)!==0,r.subtreeFlags&15990||s){s=Pn.transition,Pn.transition=null;var o=We;We=1;var a=Fe;Fe|=4,LT.current=null,bX(t,r),I8(r,t),HQ(DO),af=!!kO,DO=kO=null,t.current=r,wX(r),QY(),Fe=a,We=o,Pn.transition=s}else t.current=r;if(bh&&(bh=!1,Rs=t,Sf=i),s=t.pendingLanes,s===0&&(As=null),ZY(r.stateNode),Gr(t,Pt()),e!==null)for(n=t.onRecoverableError,r=0;r<e.length;r++)i=e[r],n(i.value,{componentStack:i.stack,digest:i.digest});if(_f)throw _f=!1,t=tP,tP=null,t;return Sf&1&&t.tag!==0&&dl(),s=t.pendingLanes,s&1?t===rP?cc++:(cc=0,rP=t):cc=0,io(),null}function dl(){if(Rs!==null){var t=mV(Sf),e=Pn.transition,r=We;try{if(Pn.transition=null,We=16>t?16:t,Rs===null)var n=!1;else{if(t=Rs,Rs=null,Sf=0,Fe&6)throw Error(J(331));var i=Fe;for(Fe|=4,ce=t.current;ce!==null;){var s=ce,o=s.child;if(ce.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(ce=u;ce!==null;){var c=ce;switch(c.tag){case 0:case 11:case 15:lc(8,c,s)}var d=c.child;if(d!==null)d.return=c,ce=d;else for(;ce!==null;){c=ce;var f=c.sibling,p=c.return;if(P8(c),c===u){ce=null;break}if(f!==null){f.return=p,ce=f;break}ce=p}}}var m=s.alternate;if(m!==null){var g=m.child;if(g!==null){m.child=null;do{var b=g.sibling;g.sibling=null,g=b}while(g!==null)}}ce=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,ce=o;else e:for(;ce!==null;){if(s=ce,s.flags&2048)switch(s.tag){case 0:case 11:case 15:lc(9,s,s.return)}var y=s.sibling;if(y!==null){y.return=s.return,ce=y;break e}ce=s.return}}var v=t.current;for(ce=v;ce!==null;){o=ce;var x=o.child;if(o.subtreeFlags&2064&&x!==null)x.return=o,ce=x;else e:for(o=v;ce!==null;){if(a=ce,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:sp(9,a)}}catch(_){xt(a,a.return,_)}if(a===o){ce=null;break e}var w=a.sibling;if(w!==null){w.return=a.return,ce=w;break e}ce=a.return}}if(Fe=i,io(),vi&&typeof vi.onPostCommitFiberRoot=="function")try{vi.onPostCommitFiberRoot(Xf,t)}catch{}n=!0}return n}finally{We=r,Pn.transition=e}}return!1}function RR(t,e,r){e=Ml(r,e),e=m8(t,e,1),t=Ms(t,e,1),e=Nr(),t!==null&&(dd(t,1,e),Gr(t,e))}function xt(t,e,r){if(t.tag===3)RR(t,t,r);else for(;e!==null;){if(e.tag===3){RR(e,t,r);break}else if(e.tag===1){var n=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(As===null||!As.has(n))){t=Ml(r,t),t=v8(e,t,1),e=Ms(e,t,1),t=Nr(),e!==null&&(dd(e,1,t),Gr(e,t));break}}e=e.return}}function PX(t,e,r){var n=t.pingCache;n!==null&&n.delete(e),e=Nr(),t.pingedLanes|=t.suspendedLanes&r,Xt===t&&(ar&r)===r&&(Wt===4||Wt===3&&(ar&130023424)===ar&&500>Pt()-zT?Ao(t,0):BT|=r),Gr(t,e)}function q8(t,e){e===0&&(t.mode&1?(e=uh,uh<<=1,!(uh&130023424)&&(uh=4194304)):e=1);var r=Nr();t=Gi(t,e),t!==null&&(dd(t,e,r),Gr(t,r))}function TX(t){var e=t.memoizedState,r=0;e!==null&&(r=e.retryLane),q8(t,r)}function CX(t,e){var r=0;switch(t.tag){case 13:var n=t.stateNode,i=t.memoizedState;i!==null&&(r=i.retryLane);break;case 19:n=t.stateNode;break;default:throw Error(J(314))}n!==null&&n.delete(e),q8(t,r)}var M8;M8=function(t,e,r){if(t!==null)if(t.memoizedProps!==e.pendingProps||Vr.current)Hr=!0;else{if(!(t.lanes&r)&&!(e.flags&128))return Hr=!1,mX(t,e,r);Hr=!!(t.flags&131072)}else Hr=!1,lt&&e.flags&1048576&&BV(e,pf,e.index);switch(e.lanes=0,e.tag){case 2:var n=e.type;zh(t,e),t=e.pendingProps;var i=jl(e,wr.current);cl(e,r),i=DT(null,e,n,t,i,r);var s=qT();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Kr(n)?(s=!0,hf(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,RT(e),i.updater=ip,e.stateNode=i,i._reactInternals=e,WO(e,n,t,r),e=KO(null,e,n,!0,s,r)):(e.tag=0,lt&&s&&ST(e),Pr(null,e,i,r),e=e.child),e;case 16:n=e.elementType;e:{switch(zh(t,e),t=e.pendingProps,i=n._init,n=i(n._payload),e.type=n,i=e.tag=RX(n),t=Fn(n,t),i){case 0:e=VO(null,e,n,t,r);break e;case 1:e=wR(null,e,n,t,r);break e;case 11:e=gR(null,e,n,t,r);break e;case 14:e=bR(null,e,n,Fn(n.type,t),r);break e}throw Error(J(306,n,""))}return e;case 0:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:Fn(n,i),VO(t,e,n,i,r);case 1:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:Fn(n,i),wR(t,e,n,i,r);case 3:e:{if(w8(e),t===null)throw Error(J(387));n=e.pendingProps,s=e.memoizedState,i=s.element,KV(t,e),yf(e,n,null,r);var o=e.memoizedState;if(n=o.element,s.isDehydrated)if(s={element:n,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=Ml(Error(J(423)),e),e=xR(t,e,n,r,i);break e}else if(n!==i){i=Ml(Error(J(424)),e),e=xR(t,e,n,r,i);break e}else for(un=qs(e.stateNode.containerInfo.firstChild),cn=e,lt=!0,Un=null,r=HV(e,null,n,r),e.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(kl(),n===i){e=Yi(t,e,r);break e}Pr(t,e,n,r)}e=e.child}return e;case 5:return GV(e),t===null&&BO(e),n=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,qO(n,i)?o=null:s!==null&&qO(n,s)&&(e.flags|=32),b8(t,e),Pr(t,e,o,r),e.child;case 6:return t===null&&BO(e),null;case 13:return x8(t,e,r);case 4:return NT(e,e.stateNode.containerInfo),n=e.pendingProps,t===null?e.child=Dl(e,null,n,r):Pr(t,e,n,r),e.child;case 11:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:Fn(n,i),gR(t,e,n,i,r);case 7:return Pr(t,e,e.pendingProps,r),e.child;case 8:return Pr(t,e,e.pendingProps.children,r),e.child;case 12:return Pr(t,e,e.pendingProps.children,r),e.child;case 10:e:{if(n=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,tt(mf,n._currentValue),n._currentValue=o,s!==null)if(Qn(s.value,o)){if(s.children===i.children&&!Vr.current){e=Yi(t,e,r);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===n){if(s.tag===1){l=qi(-1,r&-r),l.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?l.next=l:(l.next=c.next,c.next=l),u.pending=l}}s.lanes|=r,l=s.alternate,l!==null&&(l.lanes|=r),zO(s.return,r,e),a.lanes|=r;break}l=l.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(J(341));o.lanes|=r,a=o.alternate,a!==null&&(a.lanes|=r),zO(o,r,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}Pr(t,e,i.children,r),e=e.child}return e;case 9:return i=e.type,n=e.pendingProps.children,cl(e,r),i=In(i),n=n(i),e.flags|=1,Pr(t,e,n,r),e.child;case 14:return n=e.type,i=Fn(n,e.pendingProps),i=Fn(n.type,i),bR(t,e,n,i,r);case 15:return y8(t,e,e.type,e.pendingProps,r);case 17:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:Fn(n,i),zh(t,e),e.tag=1,Kr(n)?(t=!0,hf(e)):t=!1,cl(e,r),p8(e,n,i),WO(e,n,i,r),KO(null,e,n,!0,t,r);case 19:return _8(t,e,r);case 22:return g8(t,e,r)}throw Error(J(156,e.tag))};function A8(t,e){return dV(t,e)}function IX(t,e,r,n){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function On(t,e,r,n){return new IX(t,e,r,n)}function VT(t){return t=t.prototype,!(!t||!t.isReactComponent)}function RX(t){if(typeof t=="function")return VT(t)?1:0;if(t!=null){if(t=t.$$typeof,t===dT)return 11;if(t===hT)return 14}return 2}function Ls(t,e){var r=t.alternate;return r===null?(r=On(t.tag,e,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=e,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&14680064,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,e=t.dependencies,r.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r}function Hh(t,e,r,n,i,s){var o=2;if(n=t,typeof t=="function")VT(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Ua:return Fo(r.children,i,s,e);case cT:o=8,i|=8;break;case pO:return t=On(12,r,e,i|2),t.elementType=pO,t.lanes=s,t;case mO:return t=On(13,r,e,i),t.elementType=mO,t.lanes=s,t;case vO:return t=On(19,r,e,i),t.elementType=vO,t.lanes=s,t;case GH:return ap(r,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case VH:o=10;break e;case KH:o=9;break e;case dT:o=11;break e;case hT:o=14;break e;case ds:o=16,n=null;break e}throw Error(J(130,t==null?t:typeof t,""))}return e=On(o,r,e,i),e.elementType=t,e.type=n,e.lanes=s,e}function Fo(t,e,r,n){return t=On(7,t,n,e),t.lanes=r,t}function ap(t,e,r,n){return t=On(22,t,n,e),t.elementType=GH,t.lanes=r,t.stateNode={isHidden:!1},t}function Rm(t,e,r){return t=On(6,t,null,e),t.lanes=r,t}function Nm(t,e,r){return e=On(4,t.children!==null?t.children:[],t.key,e),e.lanes=r,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function NX(t,e,r,n,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=dm(0),this.expirationTimes=dm(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=dm(0),this.identifierPrefix=n,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function KT(t,e,r,n,i,s,o,a,l){return t=new NX(t,e,r,a,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=On(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},RT(s),t}function $X(t,e,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:za,key:n==null?null:""+n,children:t,containerInfo:e,implementation:r}}function F8(t){if(!t)return Qs;t=t._reactInternals;e:{if(fa(t)!==t||t.tag!==1)throw Error(J(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Kr(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(J(171))}if(t.tag===1){var r=t.type;if(Kr(r))return FV(t,r,e)}return e}function L8(t,e,r,n,i,s,o,a,l){return t=KT(r,n,!0,t,i,s,o,a,l),t.context=F8(null),r=t.current,n=Nr(),i=Fs(r),s=qi(n,i),s.callback=e??null,Ms(r,s,i),t.current.lanes=i,dd(t,i,n),Gr(t,n),t}function lp(t,e,r,n){var i=e.current,s=Nr(),o=Fs(i);return r=F8(r),e.context===null?e.context=r:e.pendingContext=r,e=qi(s,o),e.payload={element:t},n=n===void 0?null:n,n!==null&&(e.callback=n),t=Ms(i,e,o),t!==null&&(Yn(t,i,o,s),Fh(t,i,o)),o}function Of(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function NR(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<e?r:e}}function GT(t,e){NR(t,e),(t=t.alternate)&&NR(t,e)}function jX(){return null}var B8=typeof reportError=="function"?reportError:function(t){console.error(t)};function YT(t){this._internalRoot=t}up.prototype.render=YT.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(J(409));lp(t,e,null,null)};up.prototype.unmount=YT.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Xo(function(){lp(null,t,null,null)}),e[Ki]=null}};function up(t){this._internalRoot=t}up.prototype.unstable_scheduleHydration=function(t){if(t){var e=gV();t={blockedOn:null,target:t,priority:e};for(var r=0;r<vs.length&&e!==0&&e<vs[r].priority;r++);vs.splice(r,0,t),r===0&&wV(t)}};function QT(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function cp(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function $R(){}function kX(t,e,r,n,i){if(i){if(typeof n=="function"){var s=n;n=function(){var u=Of(o);s.call(u)}}var o=L8(e,n,t,0,null,!1,!1,"",$R);return t._reactRootContainer=o,t[Ki]=o.current,Cc(t.nodeType===8?t.parentNode:t),Xo(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof n=="function"){var a=n;n=function(){var u=Of(l);a.call(u)}}var l=KT(t,0,!1,null,null,!1,!1,"",$R);return t._reactRootContainer=l,t[Ki]=l.current,Cc(t.nodeType===8?t.parentNode:t),Xo(function(){lp(e,l,r,n)}),l}function dp(t,e,r,n,i){var s=r._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var l=Of(o);a.call(l)}}lp(e,o,t,i)}else o=kX(r,e,t,i,n);return Of(o)}vV=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var r=Xu(e.pendingLanes);r!==0&&(mT(e,r|1),Gr(e,Pt()),!(Fe&6)&&(Al=Pt()+500,io()))}break;case 13:Xo(function(){var n=Gi(t,1);if(n!==null){var i=Nr();Yn(n,t,1,i)}}),GT(t,1)}};vT=function(t){if(t.tag===13){var e=Gi(t,134217728);if(e!==null){var r=Nr();Yn(e,t,134217728,r)}GT(t,134217728)}};yV=function(t){if(t.tag===13){var e=Fs(t),r=Gi(t,e);if(r!==null){var n=Nr();Yn(r,t,e,n)}GT(t,e)}};gV=function(){return We};bV=function(t,e){var r=We;try{return We=t,e()}finally{We=r}};PO=function(t,e,r){switch(e){case"input":if(bO(t,r),e=r.name,r.type==="radio"&&e!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<r.length;e++){var n=r[e];if(n!==t&&n.form===t.form){var i=tp(n);if(!i)throw Error(J(90));QH(n),bO(n,i)}}}break;case"textarea":JH(t,r);break;case"select":e=r.value,e!=null&&ol(t,!!r.multiple,e,!1)}};sV=UT;oV=Xo;var DX={usingClientEntryPoint:!1,Events:[fd,Ka,tp,nV,iV,UT]},Lu={findFiberByHostInstance:bo,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},qX={bundleType:Lu.bundleType,version:Lu.version,rendererPackageName:Lu.rendererPackageName,rendererConfig:Lu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Qi.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=uV(t),t===null?null:t.stateNode},findFiberByHostInstance:Lu.findFiberByHostInstance||jX,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var wh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!wh.isDisabled&&wh.supportsFiber)try{Xf=wh.inject(qX),vi=wh}catch{}}hn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=DX;hn.createPortal=function(t,e){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!QT(e))throw Error(J(200));return $X(t,e,null,r)};hn.createRoot=function(t,e){if(!QT(t))throw Error(J(299));var r=!1,n="",i=B8;return e!=null&&(e.unstable_strictMode===!0&&(r=!0),e.identifierPrefix!==void 0&&(n=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=KT(t,1,!1,null,null,r,!1,n,i),t[Ki]=e.current,Cc(t.nodeType===8?t.parentNode:t),new YT(e)};hn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(J(188)):(t=Object.keys(t).join(","),Error(J(268,t)));return t=uV(e),t=t===null?null:t.stateNode,t};hn.flushSync=function(t){return Xo(t)};hn.hydrate=function(t,e,r){if(!cp(e))throw Error(J(200));return dp(null,t,e,!0,r)};hn.hydrateRoot=function(t,e,r){if(!QT(t))throw Error(J(405));var n=r!=null&&r.hydratedSources||null,i=!1,s="",o=B8;if(r!=null&&(r.unstable_strictMode===!0&&(i=!0),r.identifierPrefix!==void 0&&(s=r.identifierPrefix),r.onRecoverableError!==void 0&&(o=r.onRecoverableError)),e=L8(e,null,t,1,r??null,i,!1,s,o),t[Ki]=e.current,Cc(t),n)for(t=0;t<n.length;t++)r=n[t],i=r._getVersion,i=i(r._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[r,i]:e.mutableSourceEagerHydrationData.push(r,i);return new up(e)};hn.render=function(t,e,r){if(!cp(e))throw Error(J(200));return dp(null,t,e,!1,r)};hn.unmountComponentAtNode=function(t){if(!cp(t))throw Error(J(40));return t._reactRootContainer?(Xo(function(){dp(null,null,t,!1,function(){t._reactRootContainer=null,t[Ki]=null})}),!0):!1};hn.unstable_batchedUpdates=UT;hn.unstable_renderSubtreeIntoContainer=function(t,e,r,n){if(!cp(r))throw Error(J(200));if(t==null||t._reactInternals===void 0)throw Error(J(38));return dp(t,e,r,!1,n)};hn.version="18.3.1-next-f1338f8080-20240426";function z8(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(z8)}catch(t){console.error(t)}}z8(),zH.exports=hn;var MX=zH.exports,jR=MX;hO.createRoot=jR.createRoot,hO.hydrateRoot=jR.hydrateRoot;/**
 * @remix-run/router v1.23.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Mc(){return Mc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Mc.apply(this,arguments)}var Ns;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Ns||(Ns={}));const kR="popstate";function AX(t){t===void 0&&(t={});function e(n,i){let{pathname:s,search:o,hash:a}=n.location;return sP("",{pathname:s,search:o,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function r(n,i){return typeof i=="string"?i:Pf(i)}return LX(e,r,null,t)}function ht(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function XT(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function FX(){return Math.random().toString(36).substr(2,8)}function DR(t,e){return{usr:t.state,key:t.key,idx:e}}function sP(t,e,r,n){return r===void 0&&(r=null),Mc({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?eu(e):e,{state:r,key:e&&e.key||n||FX()})}function Pf(t){let{pathname:e="/",search:r="",hash:n=""}=t;return r&&r!=="?"&&(e+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function eu(t){let e={};if(t){let r=t.indexOf("#");r>=0&&(e.hash=t.substr(r),t=t.substr(0,r));let n=t.indexOf("?");n>=0&&(e.search=t.substr(n),t=t.substr(0,n)),t&&(e.pathname=t)}return e}function LX(t,e,r,n){n===void 0&&(n={});let{window:i=document.defaultView,v5Compat:s=!1}=n,o=i.history,a=Ns.Pop,l=null,u=c();u==null&&(u=0,o.replaceState(Mc({},o.state,{idx:u}),""));function c(){return(o.state||{idx:null}).idx}function d(){a=Ns.Pop;let b=c(),y=b==null?null:b-u;u=b,l&&l({action:a,location:g.location,delta:y})}function f(b,y){a=Ns.Push;let v=sP(g.location,b,y);u=c()+1;let x=DR(v,u),w=g.createHref(v);try{o.pushState(x,"",w)}catch(_){if(_ instanceof DOMException&&_.name==="DataCloneError")throw _;i.location.assign(w)}s&&l&&l({action:a,location:g.location,delta:1})}function p(b,y){a=Ns.Replace;let v=sP(g.location,b,y);u=c();let x=DR(v,u),w=g.createHref(v);o.replaceState(x,"",w),s&&l&&l({action:a,location:g.location,delta:0})}function m(b){let y=i.location.origin!=="null"?i.location.origin:i.location.href,v=typeof b=="string"?b:Pf(b);return v=v.replace(/ $/,"%20"),ht(y,"No window.location.(origin|href) available to create URL for href: "+v),new URL(v,y)}let g={get action(){return a},get location(){return t(i,o)},listen(b){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(kR,d),l=b,()=>{i.removeEventListener(kR,d),l=null}},createHref(b){return e(i,b)},createURL:m,encodeLocation(b){let y=m(b);return{pathname:y.pathname,search:y.search,hash:y.hash}},push:f,replace:p,go(b){return o.go(b)}};return g}var qR;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(qR||(qR={}));function BX(t,e,r){return r===void 0&&(r="/"),zX(t,e,r)}function zX(t,e,r,n){let i=typeof e=="string"?eu(e):e,s=Fl(i.pathname||"/",r);if(s==null)return null;let o=U8(t);UX(o);let a=null;for(let l=0;a==null&&l<o.length;++l){let u=eJ(s);a=JX(o[l],u)}return a}function U8(t,e,r,n){e===void 0&&(e=[]),r===void 0&&(r=[]),n===void 0&&(n="");let i=(s,o,a)=>{let l={relativePath:a===void 0?s.path||"":a,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};l.relativePath.startsWith("/")&&(ht(l.relativePath.startsWith(n),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(n.length));let u=Bs([n,l.relativePath]),c=r.concat(l);s.children&&s.children.length>0&&(ht(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),U8(s.children,e,c,u)),!(s.path==null&&!s.index)&&e.push({path:u,score:QX(u,s.index),routesMeta:c})};return t.forEach((s,o)=>{var a;if(s.path===""||!((a=s.path)!=null&&a.includes("?")))i(s,o);else for(let l of W8(s.path))i(s,o,l)}),e}function W8(t){let e=t.split("/");if(e.length===0)return[];let[r,...n]=e,i=r.endsWith("?"),s=r.replace(/\?$/,"");if(n.length===0)return i?[s,""]:[s];let o=W8(n.join("/")),a=[];return a.push(...o.map(l=>l===""?s:[s,l].join("/"))),i&&a.push(...o),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function UX(t){t.sort((e,r)=>e.score!==r.score?r.score-e.score:XX(e.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const WX=/^:[\w-]+$/,HX=3,VX=2,KX=1,GX=10,YX=-2,MR=t=>t==="*";function QX(t,e){let r=t.split("/"),n=r.length;return r.some(MR)&&(n+=YX),e&&(n+=VX),r.filter(i=>!MR(i)).reduce((i,s)=>i+(WX.test(s)?HX:s===""?KX:GX),n)}function XX(t,e){return t.length===e.length&&t.slice(0,-1).every((n,i)=>n===e[i])?t[t.length-1]-e[e.length-1]:0}function JX(t,e,r){let{routesMeta:n}=t,i={},s="/",o=[];for(let a=0;a<n.length;++a){let l=n[a],u=a===n.length-1,c=s==="/"?e:e.slice(s.length)||"/",d=oP({path:l.relativePath,caseSensitive:l.caseSensitive,end:u},c),f=l.route;if(!d)return null;Object.assign(i,d.params),o.push({params:i,pathname:Bs([s,d.pathname]),pathnameBase:sJ(Bs([s,d.pathnameBase])),route:f}),d.pathnameBase!=="/"&&(s=Bs([s,d.pathnameBase]))}return o}function oP(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[r,n]=ZX(t.path,t.caseSensitive,t.end),i=e.match(r);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:n.reduce((u,c,d)=>{let{paramName:f,isOptional:p}=c;if(f==="*"){let g=a[d]||"";o=s.slice(0,s.length-g.length).replace(/(.)\/+$/,"$1")}const m=a[d];return p&&!m?u[f]=void 0:u[f]=(m||"").replace(/%2F/g,"/"),u},{}),pathname:s,pathnameBase:o,pattern:t}}function ZX(t,e,r){e===void 0&&(e=!1),r===void 0&&(r=!0),XT(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let n=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(n.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(n.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),n]}function eJ(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return XT(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function Fl(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let r=e.endsWith("/")?e.length-1:e.length,n=t.charAt(r);return n&&n!=="/"?null:t.slice(r)||"/"}const tJ=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,rJ=t=>tJ.test(t);function nJ(t,e){e===void 0&&(e="/");let{pathname:r,search:n="",hash:i=""}=typeof t=="string"?eu(t):t,s;if(r)if(rJ(r))s=r;else{if(r.includes("//")){let o=r;r=r.replace(/\/\/+/g,"/"),XT(!1,"Pathnames cannot have embedded double slashes - normalizing "+(o+" -> "+r))}r.startsWith("/")?s=AR(r.substring(1),"/"):s=AR(r,e)}else s=e;return{pathname:s,search:oJ(n),hash:aJ(i)}}function AR(t,e){let r=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?r.length>1&&r.pop():i!=="."&&r.push(i)}),r.length>1?r.join("/"):"/"}function $m(t,e,r,n){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function iJ(t){return t.filter((e,r)=>r===0||e.route.path&&e.route.path.length>0)}function JT(t,e){let r=iJ(t);return e?r.map((n,i)=>i===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function ZT(t,e,r,n){n===void 0&&(n=!1);let i;typeof t=="string"?i=eu(t):(i=Mc({},t),ht(!i.pathname||!i.pathname.includes("?"),$m("?","pathname","search",i)),ht(!i.pathname||!i.pathname.includes("#"),$m("#","pathname","hash",i)),ht(!i.search||!i.search.includes("#"),$m("#","search","hash",i)));let s=t===""||i.pathname==="",o=s?"/":i.pathname,a;if(o==null)a=r;else{let d=e.length-1;if(!n&&o.startsWith("..")){let f=o.split("/");for(;f[0]==="..";)f.shift(),d-=1;i.pathname=f.join("/")}a=d>=0?e[d]:"/"}let l=nJ(i,a),u=o&&o!=="/"&&o.endsWith("/"),c=(s||o===".")&&r.endsWith("/");return!l.pathname.endsWith("/")&&(u||c)&&(l.pathname+="/"),l}const Bs=t=>t.join("/").replace(/\/\/+/g,"/"),sJ=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),oJ=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,aJ=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function lJ(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const H8=["post","put","patch","delete"];new Set(H8);const uJ=["get",...H8];new Set(uJ);/**
 * React Router v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ac(){return Ac=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Ac.apply(this,arguments)}const hp=j.createContext(null),V8=j.createContext(null),Xi=j.createContext(null),fp=j.createContext(null),Ji=j.createContext({outlet:null,matches:[],isDataRoute:!1}),K8=j.createContext(null);function cJ(t,e){let{relative:r}=e===void 0?{}:e;tu()||ht(!1);let{basename:n,navigator:i}=j.useContext(Xi),{hash:s,pathname:o,search:a}=pp(t,{relative:r}),l=o;return n!=="/"&&(l=o==="/"?n:Bs([n,o])),i.createHref({pathname:l,search:a,hash:s})}function tu(){return j.useContext(fp)!=null}function Zi(){return tu()||ht(!1),j.useContext(fp).location}function G8(t){j.useContext(Xi).static||j.useLayoutEffect(t)}function en(){let{isDataRoute:t}=j.useContext(Ji);return t?SJ():dJ()}function dJ(){tu()||ht(!1);let t=j.useContext(hp),{basename:e,future:r,navigator:n}=j.useContext(Xi),{matches:i}=j.useContext(Ji),{pathname:s}=Zi(),o=JSON.stringify(JT(i,r.v7_relativeSplatPath)),a=j.useRef(!1);return G8(()=>{a.current=!0}),j.useCallback(function(u,c){if(c===void 0&&(c={}),!a.current)return;if(typeof u=="number"){n.go(u);return}let d=ZT(u,JSON.parse(o),s,c.relative==="path");t==null&&e!=="/"&&(d.pathname=d.pathname==="/"?e:Bs([e,d.pathname])),(c.replace?n.replace:n.push)(d,c.state,c)},[e,n,o,s,t])}function es(){let{matches:t}=j.useContext(Ji),e=t[t.length-1];return e?e.params:{}}function pp(t,e){let{relative:r}=e===void 0?{}:e,{future:n}=j.useContext(Xi),{matches:i}=j.useContext(Ji),{pathname:s}=Zi(),o=JSON.stringify(JT(i,n.v7_relativeSplatPath));return j.useMemo(()=>ZT(t,JSON.parse(o),s,r==="path"),[t,o,s,r])}function hJ(t,e){return fJ(t,e)}function fJ(t,e,r,n){tu()||ht(!1);let{navigator:i}=j.useContext(Xi),{matches:s}=j.useContext(Ji),o=s[s.length-1],a=o?o.params:{};o&&o.pathname;let l=o?o.pathnameBase:"/";o&&o.route;let u=Zi(),c;if(e){var d;let b=typeof e=="string"?eu(e):e;l==="/"||(d=b.pathname)!=null&&d.startsWith(l)||ht(!1),c=b}else c=u;let f=c.pathname||"/",p=f;if(l!=="/"){let b=l.replace(/^\//,"").split("/");p="/"+f.replace(/^\//,"").split("/").slice(b.length).join("/")}let m=BX(t,{pathname:p}),g=gJ(m&&m.map(b=>Object.assign({},b,{params:Object.assign({},a,b.params),pathname:Bs([l,i.encodeLocation?i.encodeLocation(b.pathname).pathname:b.pathname]),pathnameBase:b.pathnameBase==="/"?l:Bs([l,i.encodeLocation?i.encodeLocation(b.pathnameBase).pathname:b.pathnameBase])})),s,r,n);return e&&g?j.createElement(fp.Provider,{value:{location:Ac({pathname:"/",search:"",hash:"",state:null,key:"default"},c),navigationType:Ns.Pop}},g):g}function pJ(){let t=_J(),e=lJ(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),r=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return j.createElement(j.Fragment,null,j.createElement("h2",null,"Unexpected Application Error!"),j.createElement("h3",{style:{fontStyle:"italic"}},e),r?j.createElement("pre",{style:i},r):null,null)}const mJ=j.createElement(pJ,null);class vJ extends j.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,r){return r.location!==e.location||r.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:r.error,location:r.location,revalidation:e.revalidation||r.revalidation}}componentDidCatch(e,r){console.error("React Router caught the following error during render",e,r)}render(){return this.state.error!==void 0?j.createElement(Ji.Provider,{value:this.props.routeContext},j.createElement(K8.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function yJ(t){let{routeContext:e,match:r,children:n}=t,i=j.useContext(hp);return i&&i.static&&i.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=r.route.id),j.createElement(Ji.Provider,{value:e},n)}function gJ(t,e,r,n){var i;if(e===void 0&&(e=[]),r===void 0&&(r=null),n===void 0&&(n=null),t==null){var s;if(!r)return null;if(r.errors)t=r.matches;else if((s=n)!=null&&s.v7_partialHydration&&e.length===0&&!r.initialized&&r.matches.length>0)t=r.matches;else return null}let o=t,a=(i=r)==null?void 0:i.errors;if(a!=null){let c=o.findIndex(d=>d.route.id&&(a==null?void 0:a[d.route.id])!==void 0);c>=0||ht(!1),o=o.slice(0,Math.min(o.length,c+1))}let l=!1,u=-1;if(r&&n&&n.v7_partialHydration)for(let c=0;c<o.length;c++){let d=o[c];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(u=c),d.route.id){let{loaderData:f,errors:p}=r,m=d.route.loader&&f[d.route.id]===void 0&&(!p||p[d.route.id]===void 0);if(d.route.lazy||m){l=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((c,d,f)=>{let p,m=!1,g=null,b=null;r&&(p=a&&d.route.id?a[d.route.id]:void 0,g=d.route.errorElement||mJ,l&&(u<0&&f===0?(EJ("route-fallback"),m=!0,b=null):u===f&&(m=!0,b=d.route.hydrateFallbackElement||null)));let y=e.concat(o.slice(0,f+1)),v=()=>{let x;return p?x=g:m?x=b:d.route.Component?x=j.createElement(d.route.Component,null):d.route.element?x=d.route.element:x=c,j.createElement(yJ,{match:d,routeContext:{outlet:c,matches:y,isDataRoute:r!=null},children:x})};return r&&(d.route.ErrorBoundary||d.route.errorElement||f===0)?j.createElement(vJ,{location:r.location,revalidation:r.revalidation,component:g,error:p,children:v(),routeContext:{outlet:null,matches:y,isDataRoute:!0}}):v()},null)}var Y8=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(Y8||{}),Q8=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(Q8||{});function bJ(t){let e=j.useContext(hp);return e||ht(!1),e}function wJ(t){let e=j.useContext(V8);return e||ht(!1),e}function xJ(t){let e=j.useContext(Ji);return e||ht(!1),e}function X8(t){let e=xJ(),r=e.matches[e.matches.length-1];return r.route.id||ht(!1),r.route.id}function _J(){var t;let e=j.useContext(K8),r=wJ(),n=X8();return e!==void 0?e:(t=r.errors)==null?void 0:t[n]}function SJ(){let{router:t}=bJ(Y8.UseNavigateStable),e=X8(Q8.UseNavigateStable),r=j.useRef(!1);return G8(()=>{r.current=!0}),j.useCallback(function(i,s){s===void 0&&(s={}),r.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,Ac({fromRouteId:e},s)))},[t,e])}const FR={};function EJ(t,e,r){FR[t]||(FR[t]=!0)}function OJ(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function J8(t){let{to:e,replace:r,state:n,relative:i}=t;tu()||ht(!1);let{future:s,static:o}=j.useContext(Xi),{matches:a}=j.useContext(Ji),{pathname:l}=Zi(),u=en(),c=ZT(e,JT(a,s.v7_relativeSplatPath),l,i==="path"),d=JSON.stringify(c);return j.useEffect(()=>u(JSON.parse(d),{replace:r,state:n,relative:i}),[u,d,i,r,n]),null}function st(t){ht(!1)}function PJ(t){let{basename:e="/",children:r=null,location:n,navigationType:i=Ns.Pop,navigator:s,static:o=!1,future:a}=t;tu()&&ht(!1);let l=e.replace(/^\/*/,"/"),u=j.useMemo(()=>({basename:l,navigator:s,static:o,future:Ac({v7_relativeSplatPath:!1},a)}),[l,a,s,o]);typeof n=="string"&&(n=eu(n));let{pathname:c="/",search:d="",hash:f="",state:p=null,key:m="default"}=n,g=j.useMemo(()=>{let b=Fl(c,l);return b==null?null:{location:{pathname:b,search:d,hash:f,state:p,key:m},navigationType:i}},[l,c,d,f,p,m,i]);return g==null?null:j.createElement(Xi.Provider,{value:u},j.createElement(fp.Provider,{children:r,value:g}))}function LR(t){let{children:e,location:r}=t;return hJ(aP(e),r)}new Promise(()=>{});function aP(t,e){e===void 0&&(e=[]);let r=[];return j.Children.forEach(t,(n,i)=>{if(!j.isValidElement(n))return;let s=[...e,i];if(n.type===j.Fragment){r.push.apply(r,aP(n.props.children,s));return}n.type!==st&&ht(!1),!n.props.index||!n.props.children||ht(!1);let o={id:n.props.id||s.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(o.children=aP(n.props.children,s)),r.push(o)}),r}/**
 * React Router DOM v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Tf(){return Tf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Tf.apply(this,arguments)}function Z8(t,e){if(t==null)return{};var r={},n=Object.keys(t),i,s;for(s=0;s<n.length;s++)i=n[s],!(e.indexOf(i)>=0)&&(r[i]=t[i]);return r}function TJ(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function CJ(t,e){return t.button===0&&(!e||e==="_self")&&!TJ(t)}function lP(t){return t===void 0&&(t=""),new URLSearchParams(typeof t=="string"||Array.isArray(t)||t instanceof URLSearchParams?t:Object.keys(t).reduce((e,r)=>{let n=t[r];return e.concat(Array.isArray(n)?n.map(i=>[r,i]):[[r,n]])},[]))}function IJ(t,e){let r=lP(t);return e&&e.forEach((n,i)=>{r.has(i)||e.getAll(i).forEach(s=>{r.append(i,s)})}),r}const RJ=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],NJ=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],$J="6";try{window.__reactRouterVersion=$J}catch{}const jJ=j.createContext({isTransitioning:!1}),kJ="startTransition",BR=PY[kJ];function DJ(t){let{basename:e,children:r,future:n,window:i}=t,s=j.useRef();s.current==null&&(s.current=AX({window:i,v5Compat:!0}));let o=s.current,[a,l]=j.useState({action:o.action,location:o.location}),{v7_startTransition:u}=n||{},c=j.useCallback(d=>{u&&BR?BR(()=>l(d)):l(d)},[l,u]);return j.useLayoutEffect(()=>o.listen(c),[o,c]),j.useEffect(()=>OJ(n),[n]),j.createElement(PJ,{basename:e,children:r,location:a.location,navigationType:a.action,navigator:o,future:n})}const qJ=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",MJ=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ve=j.forwardRef(function(e,r){let{onClick:n,relative:i,reloadDocument:s,replace:o,state:a,target:l,to:u,preventScrollReset:c,viewTransition:d}=e,f=Z8(e,RJ),{basename:p}=j.useContext(Xi),m,g=!1;if(typeof u=="string"&&MJ.test(u)&&(m=u,qJ))try{let x=new URL(window.location.href),w=u.startsWith("//")?new URL(x.protocol+u):new URL(u),_=Fl(w.pathname,p);w.origin===x.origin&&_!=null?u=_+w.search+w.hash:g=!0}catch{}let b=cJ(u,{relative:i}),y=LJ(u,{replace:o,state:a,target:l,preventScrollReset:c,relative:i,viewTransition:d});function v(x){n&&n(x),x.defaultPrevented||y(x)}return j.createElement("a",Tf({},f,{href:m||b,onClick:g||s?n:v,ref:r,target:l}))}),AJ=j.forwardRef(function(e,r){let{"aria-current":n="page",caseSensitive:i=!1,className:s="",end:o=!1,style:a,to:l,viewTransition:u,children:c}=e,d=Z8(e,NJ),f=pp(l,{relative:d.relative}),p=Zi(),m=j.useContext(V8),{navigator:g,basename:b}=j.useContext(Xi),y=m!=null&&zJ(f)&&u===!0,v=g.encodeLocation?g.encodeLocation(f).pathname:f.pathname,x=p.pathname,w=m&&m.navigation&&m.navigation.location?m.navigation.location.pathname:null;i||(x=x.toLowerCase(),w=w?w.toLowerCase():null,v=v.toLowerCase()),w&&b&&(w=Fl(w,b)||w);const _=v!=="/"&&v.endsWith("/")?v.length-1:v.length;let E=x===v||!o&&x.startsWith(v)&&x.charAt(_)==="/",O=w!=null&&(w===v||!o&&w.startsWith(v)&&w.charAt(v.length)==="/"),S={isActive:E,isPending:O,isTransitioning:y},T=E?n:void 0,P;typeof s=="function"?P=s(S):P=[s,E?"active":null,O?"pending":null,y?"transitioning":null].filter(Boolean).join(" ");let R=typeof a=="function"?a(S):a;return j.createElement(ve,Tf({},d,{"aria-current":T,className:P,ref:r,style:R,to:l,viewTransition:u}),typeof c=="function"?c(S):c)});var uP;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(uP||(uP={}));var zR;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(zR||(zR={}));function FJ(t){let e=j.useContext(hp);return e||ht(!1),e}function LJ(t,e){let{target:r,replace:n,state:i,preventScrollReset:s,relative:o,viewTransition:a}=e===void 0?{}:e,l=en(),u=Zi(),c=pp(t,{relative:o});return j.useCallback(d=>{if(CJ(d,r)){d.preventDefault();let f=n!==void 0?n:Pf(u)===Pf(c);l(t,{replace:f,state:i,preventScrollReset:s,relative:o,viewTransition:a})}},[u,l,c,n,i,r,t,s,o,a])}function BJ(t){let e=j.useRef(lP(t)),r=j.useRef(!1),n=Zi(),i=j.useMemo(()=>IJ(n.search,r.current?null:e.current),[n.search]),s=en(),o=j.useCallback((a,l)=>{const u=lP(typeof a=="function"?a(i):a);r.current=!0,s("?"+u,l)},[s,i]);return[i,o]}function zJ(t,e){e===void 0&&(e={});let r=j.useContext(jJ);r==null&&ht(!1);let{basename:n}=FJ(uP.useViewTransitionState),i=pp(t,{relative:e.relative});if(!r.isTransitioning)return!1;let s=Fl(r.currentLocation.pathname,n)||r.currentLocation.pathname,o=Fl(r.nextLocation.pathname,n)||r.nextLocation.pathname;return oP(i.pathname,o)!=null||oP(i.pathname,s)!=null}var pa=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},UJ={setTimeout:(t,e)=>setTimeout(t,e),clearTimeout:t=>clearTimeout(t),setInterval:(t,e)=>setInterval(t,e),clearInterval:t=>clearInterval(t)},bs,rT,bH,WJ=(bH=class{constructor(){ue(this,bs,UJ);ue(this,rT,!1)}setTimeoutProvider(t){ie(this,bs,t)}setTimeout(t,e){return N(this,bs).setTimeout(t,e)}clearTimeout(t){N(this,bs).clearTimeout(t)}setInterval(t,e){return N(this,bs).setInterval(t,e)}clearInterval(t){N(this,bs).clearInterval(t)}},bs=new WeakMap,rT=new WeakMap,bH),_o=new WJ;function HJ(t){setTimeout(t,0)}var Jo=typeof window>"u"||"Deno"in globalThis;function mr(){}function VJ(t,e){return typeof t=="function"?t(e):t}function cP(t){return typeof t=="number"&&t>=0&&t!==1/0}function e7(t,e){return Math.max(t+(e||0)-Date.now(),0)}function zs(t,e){return typeof t=="function"?t(e):t}function wn(t,e){return typeof t=="function"?t(e):t}function UR(t,e){const{type:r="all",exact:n,fetchStatus:i,predicate:s,queryKey:o,stale:a}=t;if(o){if(n){if(e.queryHash!==eC(o,e.options))return!1}else if(!Fc(e.queryKey,o))return!1}if(r!=="all"){const l=e.isActive();if(r==="active"&&!l||r==="inactive"&&l)return!1}return!(typeof a=="boolean"&&e.isStale()!==a||i&&i!==e.state.fetchStatus||s&&!s(e))}function WR(t,e){const{exact:r,status:n,predicate:i,mutationKey:s}=t;if(s){if(!e.options.mutationKey)return!1;if(r){if(Zo(e.options.mutationKey)!==Zo(s))return!1}else if(!Fc(e.options.mutationKey,s))return!1}return!(n&&e.state.status!==n||i&&!i(e))}function eC(t,e){return((e==null?void 0:e.queryKeyHashFn)||Zo)(t)}function Zo(t){return JSON.stringify(t,(e,r)=>dP(r)?Object.keys(r).sort().reduce((n,i)=>(n[i]=r[i],n),{}):r)}function Fc(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?Object.keys(e).every(r=>Fc(t[r],e[r])):!1}var KJ=Object.prototype.hasOwnProperty;function tC(t,e){if(t===e)return t;const r=HR(t)&&HR(e);if(!r&&!(dP(t)&&dP(e)))return e;const i=(r?t:Object.keys(t)).length,s=r?e:Object.keys(e),o=s.length,a=r?new Array(o):{};let l=0;for(let u=0;u<o;u++){const c=r?u:s[u],d=t[c],f=e[c];if(d===f){a[c]=d,(r?u<i:KJ.call(t,c))&&l++;continue}if(d===null||f===null||typeof d!="object"||typeof f!="object"){a[c]=f;continue}const p=tC(d,f);a[c]=p,p===d&&l++}return i===o&&l===i?t:a}function Lc(t,e){if(!e||Object.keys(t).length!==Object.keys(e).length)return!1;for(const r in t)if(t[r]!==e[r])return!1;return!0}function HR(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function dP(t){if(!VR(t))return!1;const e=t.constructor;if(e===void 0)return!0;const r=e.prototype;return!(!VR(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function VR(t){return Object.prototype.toString.call(t)==="[object Object]"}function GJ(t){return new Promise(e=>{_o.setTimeout(e,t)})}function hP(t,e,r){return typeof r.structuralSharing=="function"?r.structuralSharing(t,e):r.structuralSharing!==!1?tC(t,e):e}function YJ(t,e,r=0){const n=[...t,e];return r&&n.length>r?n.slice(1):n}function QJ(t,e,r=0){const n=[e,...t];return r&&n.length>r?n.slice(0,-1):n}var rC=Symbol();function t7(t,e){return!t.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!t.queryFn||t.queryFn===rC?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}function nC(t,e){return typeof t=="function"?t(...e):!!t}function XJ(t,e,r){let n=!1,i;return Object.defineProperty(t,"signal",{enumerable:!0,get:()=>(i??(i=e()),n||(n=!0,i.aborted?r():i.addEventListener("abort",r,{once:!0})),i)}),t}var Io,ws,yl,wH,JJ=(wH=class extends pa{constructor(){super();ue(this,Io);ue(this,ws);ue(this,yl);ie(this,yl,e=>{if(!Jo&&window.addEventListener){const r=()=>e();return window.addEventListener("visibilitychange",r,!1),()=>{window.removeEventListener("visibilitychange",r)}}})}onSubscribe(){N(this,ws)||this.setEventListener(N(this,yl))}onUnsubscribe(){var e;this.hasListeners()||((e=N(this,ws))==null||e.call(this),ie(this,ws,void 0))}setEventListener(e){var r;ie(this,yl,e),(r=N(this,ws))==null||r.call(this),ie(this,ws,e(n=>{typeof n=="boolean"?this.setFocused(n):this.onFocus()}))}setFocused(e){N(this,Io)!==e&&(ie(this,Io,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(r=>{r(e)})}isFocused(){var e;return typeof N(this,Io)=="boolean"?N(this,Io):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},Io=new WeakMap,ws=new WeakMap,yl=new WeakMap,wH),iC=new JJ;function fP(){let t,e;const r=new Promise((i,s)=>{t=i,e=s});r.status="pending",r.catch(()=>{});function n(i){Object.assign(r,i),delete r.resolve,delete r.reject}return r.resolve=i=>{n({status:"fulfilled",value:i}),t(i)},r.reject=i=>{n({status:"rejected",reason:i}),e(i)},r}var ZJ=HJ;function eZ(){let t=[],e=0,r=a=>{a()},n=a=>{a()},i=ZJ;const s=a=>{e?t.push(a):i(()=>{r(a)})},o=()=>{const a=t;t=[],a.length&&i(()=>{n(()=>{a.forEach(l=>{r(l)})})})};return{batch:a=>{let l;e++;try{l=a()}finally{e--,e||o()}return l},batchCalls:a=>(...l)=>{s(()=>{a(...l)})},schedule:s,setNotifyFunction:a=>{r=a},setBatchNotifyFunction:a=>{n=a},setScheduler:a=>{i=a}}}var Et=eZ(),gl,xs,bl,xH,tZ=(xH=class extends pa{constructor(){super();ue(this,gl,!0);ue(this,xs);ue(this,bl);ie(this,bl,e=>{if(!Jo&&window.addEventListener){const r=()=>e(!0),n=()=>e(!1);return window.addEventListener("online",r,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",r),window.removeEventListener("offline",n)}}})}onSubscribe(){N(this,xs)||this.setEventListener(N(this,bl))}onUnsubscribe(){var e;this.hasListeners()||((e=N(this,xs))==null||e.call(this),ie(this,xs,void 0))}setEventListener(e){var r;ie(this,bl,e),(r=N(this,xs))==null||r.call(this),ie(this,xs,e(this.setOnline.bind(this)))}setOnline(e){N(this,gl)!==e&&(ie(this,gl,e),this.listeners.forEach(n=>{n(e)}))}isOnline(){return N(this,gl)}},gl=new WeakMap,xs=new WeakMap,bl=new WeakMap,xH),Cf=new tZ;function rZ(t){return Math.min(1e3*2**t,3e4)}function r7(t){return(t??"online")==="online"?Cf.isOnline():!0}var pP=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function n7(t){let e=!1,r=0,n;const i=fP(),s=()=>i.status!=="pending",o=g=>{var b;if(!s()){const y=new pP(g);f(y),(b=t.onCancel)==null||b.call(t,y)}},a=()=>{e=!0},l=()=>{e=!1},u=()=>iC.isFocused()&&(t.networkMode==="always"||Cf.isOnline())&&t.canRun(),c=()=>r7(t.networkMode)&&t.canRun(),d=g=>{s()||(n==null||n(),i.resolve(g))},f=g=>{s()||(n==null||n(),i.reject(g))},p=()=>new Promise(g=>{var b;n=y=>{(s()||u())&&g(y)},(b=t.onPause)==null||b.call(t)}).then(()=>{var g;n=void 0,s()||(g=t.onContinue)==null||g.call(t)}),m=()=>{if(s())return;let g;const b=r===0?t.initialPromise:void 0;try{g=b??t.fn()}catch(y){g=Promise.reject(y)}Promise.resolve(g).then(d).catch(y=>{var E;if(s())return;const v=t.retry??(Jo?0:3),x=t.retryDelay??rZ,w=typeof x=="function"?x(r,y):x,_=v===!0||typeof v=="number"&&r<v||typeof v=="function"&&v(r,y);if(e||!_){f(y);return}r++,(E=t.onFail)==null||E.call(t,r,y),GJ(w).then(()=>u()?void 0:p()).then(()=>{e?f(y):m()})})};return{promise:i,status:()=>i.status,cancel:o,continue:()=>(n==null||n(),i),cancelRetry:a,continueRetry:l,canStart:c,start:()=>(c()?m():p().then(m),i)}}var Ro,_H,i7=(_H=class{constructor(){ue(this,Ro)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),cP(this.gcTime)&&ie(this,Ro,_o.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(Jo?1/0:5*60*1e3))}clearGcTimeout(){N(this,Ro)&&(_o.clearTimeout(N(this,Ro)),ie(this,Ro,void 0))}},Ro=new WeakMap,_H),No,wl,gn,$o,Gt,rd,jo,Ln,Oi,SH,nZ=(SH=class extends i7{constructor(e){super();ue(this,Ln);ue(this,No);ue(this,wl);ue(this,gn);ue(this,$o);ue(this,Gt);ue(this,rd);ue(this,jo);ie(this,jo,!1),ie(this,rd,e.defaultOptions),this.setOptions(e.options),this.observers=[],ie(this,$o,e.client),ie(this,gn,N(this,$o).getQueryCache()),this.queryKey=e.queryKey,this.queryHash=e.queryHash,ie(this,No,GR(this.options)),this.state=e.state??N(this,No),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var e;return(e=N(this,Gt))==null?void 0:e.promise}setOptions(e){if(this.options={...N(this,rd),...e},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const r=GR(this.options);r.data!==void 0&&(this.setState(KR(r.data,r.dataUpdatedAt)),ie(this,No,r))}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&N(this,gn).remove(this)}setData(e,r){const n=hP(this.state.data,e,this.options);return _e(this,Ln,Oi).call(this,{data:n,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),n}setState(e,r){_e(this,Ln,Oi).call(this,{type:"setState",state:e,setStateOptions:r})}cancel(e){var n,i;const r=(n=N(this,Gt))==null?void 0:n.promise;return(i=N(this,Gt))==null||i.cancel(e),r?r.then(mr).catch(mr):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(N(this,No))}isActive(){return this.observers.some(e=>wn(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===rC||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(e=>zs(e.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(e=0){return this.state.data===void 0?!0:e==="static"?!1:this.state.isInvalidated?!0:!e7(this.state.dataUpdatedAt,e)}onFocus(){var r;const e=this.observers.find(n=>n.shouldFetchOnWindowFocus());e==null||e.refetch({cancelRefetch:!1}),(r=N(this,Gt))==null||r.continue()}onOnline(){var r;const e=this.observers.find(n=>n.shouldFetchOnReconnect());e==null||e.refetch({cancelRefetch:!1}),(r=N(this,Gt))==null||r.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),N(this,gn).notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(r=>r!==e),this.observers.length||(N(this,Gt)&&(N(this,jo)?N(this,Gt).cancel({revert:!0}):N(this,Gt).cancelRetry()),this.scheduleGc()),N(this,gn).notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||_e(this,Ln,Oi).call(this,{type:"invalidate"})}async fetch(e,r){var l,u,c,d,f,p,m,g,b,y,v,x;if(this.state.fetchStatus!=="idle"&&((l=N(this,Gt))==null?void 0:l.status())!=="rejected"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(N(this,Gt))return N(this,Gt).continueRetry(),N(this,Gt).promise}if(e&&this.setOptions(e),!this.options.queryFn){const w=this.observers.find(_=>_.options.queryFn);w&&this.setOptions(w.options)}const n=new AbortController,i=w=>{Object.defineProperty(w,"signal",{enumerable:!0,get:()=>(ie(this,jo,!0),n.signal)})},s=()=>{const w=t7(this.options,r),E=(()=>{const O={client:N(this,$o),queryKey:this.queryKey,meta:this.meta};return i(O),O})();return ie(this,jo,!1),this.options.persister?this.options.persister(w,E,this):w(E)},a=(()=>{const w={fetchOptions:r,options:this.options,queryKey:this.queryKey,client:N(this,$o),state:this.state,fetchFn:s};return i(w),w})();(u=this.options.behavior)==null||u.onFetch(a,this),ie(this,wl,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((c=a.fetchOptions)==null?void 0:c.meta))&&_e(this,Ln,Oi).call(this,{type:"fetch",meta:(d=a.fetchOptions)==null?void 0:d.meta}),ie(this,Gt,n7({initialPromise:r==null?void 0:r.initialPromise,fn:a.fetchFn,onCancel:w=>{w instanceof pP&&w.revert&&this.setState({...N(this,wl),fetchStatus:"idle"}),n.abort()},onFail:(w,_)=>{_e(this,Ln,Oi).call(this,{type:"failed",failureCount:w,error:_})},onPause:()=>{_e(this,Ln,Oi).call(this,{type:"pause"})},onContinue:()=>{_e(this,Ln,Oi).call(this,{type:"continue"})},retry:a.options.retry,retryDelay:a.options.retryDelay,networkMode:a.options.networkMode,canRun:()=>!0}));try{const w=await N(this,Gt).start();if(w===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(w),(p=(f=N(this,gn).config).onSuccess)==null||p.call(f,w,this),(g=(m=N(this,gn).config).onSettled)==null||g.call(m,w,this.state.error,this),w}catch(w){if(w instanceof pP){if(w.silent)return N(this,Gt).promise;if(w.revert){if(this.state.data===void 0)throw w;return this.state.data}}throw _e(this,Ln,Oi).call(this,{type:"error",error:w}),(y=(b=N(this,gn).config).onError)==null||y.call(b,w,this),(x=(v=N(this,gn).config).onSettled)==null||x.call(v,this.state.data,w,this),w}finally{this.scheduleGc()}}},No=new WeakMap,wl=new WeakMap,gn=new WeakMap,$o=new WeakMap,Gt=new WeakMap,rd=new WeakMap,jo=new WeakMap,Ln=new WeakSet,Oi=function(e){const r=n=>{switch(e.type){case"failed":return{...n,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...s7(n.data,this.options),fetchMeta:e.meta??null};case"success":const i={...n,...KR(e.data,e.dataUpdatedAt),dataUpdateCount:n.dataUpdateCount+1,...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return ie(this,wl,e.manual?i:void 0),i;case"error":const s=e.error;return{...n,error:s,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:s,fetchStatus:"idle",status:"error",isInvalidated:!0};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...e.state}}};this.state=r(this.state),Et.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),N(this,gn).notify({query:this,type:"updated",action:e})})},SH);function s7(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:r7(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function KR(t,e){return{data:t,dataUpdatedAt:e??Date.now(),error:null,isInvalidated:!1,status:"success"}}function GR(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,r=e!==void 0,n=r?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:r?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var Fr,Me,nd,Sr,ko,xl,Ci,_s,id,_l,Sl,Do,qo,Ss,El,Be,Zu,mP,vP,yP,gP,bP,wP,xP,o7,EH,sC=(EH=class extends pa{constructor(e,r){super();ue(this,Be);ue(this,Fr);ue(this,Me);ue(this,nd);ue(this,Sr);ue(this,ko);ue(this,xl);ue(this,Ci);ue(this,_s);ue(this,id);ue(this,_l);ue(this,Sl);ue(this,Do);ue(this,qo);ue(this,Ss);ue(this,El,new Set);this.options=r,ie(this,Fr,e),ie(this,_s,null),ie(this,Ci,fP()),this.bindMethods(),this.setOptions(r)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(N(this,Me).addObserver(this),YR(N(this,Me),this.options)?_e(this,Be,Zu).call(this):this.updateResult(),_e(this,Be,gP).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return _P(N(this,Me),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return _P(N(this,Me),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,_e(this,Be,bP).call(this),_e(this,Be,wP).call(this),N(this,Me).removeObserver(this)}setOptions(e){const r=this.options,n=N(this,Me);if(this.options=N(this,Fr).defaultQueryOptions(e),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof wn(this.options.enabled,N(this,Me))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");_e(this,Be,xP).call(this),N(this,Me).setOptions(this.options),r._defaulted&&!Lc(this.options,r)&&N(this,Fr).getQueryCache().notify({type:"observerOptionsUpdated",query:N(this,Me),observer:this});const i=this.hasListeners();i&&QR(N(this,Me),n,this.options,r)&&_e(this,Be,Zu).call(this),this.updateResult(),i&&(N(this,Me)!==n||wn(this.options.enabled,N(this,Me))!==wn(r.enabled,N(this,Me))||zs(this.options.staleTime,N(this,Me))!==zs(r.staleTime,N(this,Me)))&&_e(this,Be,mP).call(this);const s=_e(this,Be,vP).call(this);i&&(N(this,Me)!==n||wn(this.options.enabled,N(this,Me))!==wn(r.enabled,N(this,Me))||s!==N(this,Ss))&&_e(this,Be,yP).call(this,s)}getOptimisticResult(e){const r=N(this,Fr).getQueryCache().build(N(this,Fr),e),n=this.createResult(r,e);return sZ(this,n)&&(ie(this,Sr,n),ie(this,xl,this.options),ie(this,ko,N(this,Me).state)),n}getCurrentResult(){return N(this,Sr)}trackResult(e,r){return new Proxy(e,{get:(n,i)=>(this.trackProp(i),r==null||r(i),i==="promise"&&(this.trackProp("data"),!this.options.experimental_prefetchInRender&&N(this,Ci).status==="pending"&&N(this,Ci).reject(new Error("experimental_prefetchInRender feature flag is not enabled"))),Reflect.get(n,i))})}trackProp(e){N(this,El).add(e)}getCurrentQuery(){return N(this,Me)}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){const r=N(this,Fr).defaultQueryOptions(e),n=N(this,Fr).getQueryCache().build(N(this,Fr),r);return n.fetch().then(()=>this.createResult(n,r))}fetch(e){return _e(this,Be,Zu).call(this,{...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),N(this,Sr)))}createResult(e,r){var T;const n=N(this,Me),i=this.options,s=N(this,Sr),o=N(this,ko),a=N(this,xl),u=e!==n?e.state:N(this,nd),{state:c}=e;let d={...c},f=!1,p;if(r._optimisticResults){const P=this.hasListeners(),R=!P&&YR(e,r),C=P&&QR(e,n,r,i);(R||C)&&(d={...d,...s7(c.data,e.options)}),r._optimisticResults==="isRestoring"&&(d.fetchStatus="idle")}let{error:m,errorUpdatedAt:g,status:b}=d;p=d.data;let y=!1;if(r.placeholderData!==void 0&&p===void 0&&b==="pending"){let P;s!=null&&s.isPlaceholderData&&r.placeholderData===(a==null?void 0:a.placeholderData)?(P=s.data,y=!0):P=typeof r.placeholderData=="function"?r.placeholderData((T=N(this,Sl))==null?void 0:T.state.data,N(this,Sl)):r.placeholderData,P!==void 0&&(b="success",p=hP(s==null?void 0:s.data,P,r),f=!0)}if(r.select&&p!==void 0&&!y)if(s&&p===(o==null?void 0:o.data)&&r.select===N(this,id))p=N(this,_l);else try{ie(this,id,r.select),p=r.select(p),p=hP(s==null?void 0:s.data,p,r),ie(this,_l,p),ie(this,_s,null)}catch(P){ie(this,_s,P)}N(this,_s)&&(m=N(this,_s),p=N(this,_l),g=Date.now(),b="error");const v=d.fetchStatus==="fetching",x=b==="pending",w=b==="error",_=x&&v,E=p!==void 0,S={status:b,fetchStatus:d.fetchStatus,isPending:x,isSuccess:b==="success",isError:w,isInitialLoading:_,isLoading:_,data:p,dataUpdatedAt:d.dataUpdatedAt,error:m,errorUpdatedAt:g,failureCount:d.fetchFailureCount,failureReason:d.fetchFailureReason,errorUpdateCount:d.errorUpdateCount,isFetched:d.dataUpdateCount>0||d.errorUpdateCount>0,isFetchedAfterMount:d.dataUpdateCount>u.dataUpdateCount||d.errorUpdateCount>u.errorUpdateCount,isFetching:v,isRefetching:v&&!x,isLoadingError:w&&!E,isPaused:d.fetchStatus==="paused",isPlaceholderData:f,isRefetchError:w&&E,isStale:oC(e,r),refetch:this.refetch,promise:N(this,Ci),isEnabled:wn(r.enabled,e)!==!1};if(this.options.experimental_prefetchInRender){const P=I=>{S.status==="error"?I.reject(S.error):S.data!==void 0&&I.resolve(S.data)},R=()=>{const I=ie(this,Ci,S.promise=fP());P(I)},C=N(this,Ci);switch(C.status){case"pending":e.queryHash===n.queryHash&&P(C);break;case"fulfilled":(S.status==="error"||S.data!==C.value)&&R();break;case"rejected":(S.status!=="error"||S.error!==C.reason)&&R();break}}return S}updateResult(){const e=N(this,Sr),r=this.createResult(N(this,Me),this.options);if(ie(this,ko,N(this,Me).state),ie(this,xl,this.options),N(this,ko).data!==void 0&&ie(this,Sl,N(this,Me)),Lc(r,e))return;ie(this,Sr,r);const n=()=>{if(!e)return!0;const{notifyOnChangeProps:i}=this.options,s=typeof i=="function"?i():i;if(s==="all"||!s&&!N(this,El).size)return!0;const o=new Set(s??N(this,El));return this.options.throwOnError&&o.add("error"),Object.keys(N(this,Sr)).some(a=>{const l=a;return N(this,Sr)[l]!==e[l]&&o.has(l)})};_e(this,Be,o7).call(this,{listeners:n()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&_e(this,Be,gP).call(this)}},Fr=new WeakMap,Me=new WeakMap,nd=new WeakMap,Sr=new WeakMap,ko=new WeakMap,xl=new WeakMap,Ci=new WeakMap,_s=new WeakMap,id=new WeakMap,_l=new WeakMap,Sl=new WeakMap,Do=new WeakMap,qo=new WeakMap,Ss=new WeakMap,El=new WeakMap,Be=new WeakSet,Zu=function(e){_e(this,Be,xP).call(this);let r=N(this,Me).fetch(this.options,e);return e!=null&&e.throwOnError||(r=r.catch(mr)),r},mP=function(){_e(this,Be,bP).call(this);const e=zs(this.options.staleTime,N(this,Me));if(Jo||N(this,Sr).isStale||!cP(e))return;const n=e7(N(this,Sr).dataUpdatedAt,e)+1;ie(this,Do,_o.setTimeout(()=>{N(this,Sr).isStale||this.updateResult()},n))},vP=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(N(this,Me)):this.options.refetchInterval)??!1},yP=function(e){_e(this,Be,wP).call(this),ie(this,Ss,e),!(Jo||wn(this.options.enabled,N(this,Me))===!1||!cP(N(this,Ss))||N(this,Ss)===0)&&ie(this,qo,_o.setInterval(()=>{(this.options.refetchIntervalInBackground||iC.isFocused())&&_e(this,Be,Zu).call(this)},N(this,Ss)))},gP=function(){_e(this,Be,mP).call(this),_e(this,Be,yP).call(this,_e(this,Be,vP).call(this))},bP=function(){N(this,Do)&&(_o.clearTimeout(N(this,Do)),ie(this,Do,void 0))},wP=function(){N(this,qo)&&(_o.clearInterval(N(this,qo)),ie(this,qo,void 0))},xP=function(){const e=N(this,Fr).getQueryCache().build(N(this,Fr),this.options);if(e===N(this,Me))return;const r=N(this,Me);ie(this,Me,e),ie(this,nd,e.state),this.hasListeners()&&(r==null||r.removeObserver(this),e.addObserver(this))},o7=function(e){Et.batch(()=>{e.listeners&&this.listeners.forEach(r=>{r(N(this,Sr))}),N(this,Fr).getQueryCache().notify({query:N(this,Me),type:"observerResultsUpdated"})})},EH);function iZ(t,e){return wn(e.enabled,t)!==!1&&t.state.data===void 0&&!(t.state.status==="error"&&e.retryOnMount===!1)}function YR(t,e){return iZ(t,e)||t.state.data!==void 0&&_P(t,e,e.refetchOnMount)}function _P(t,e,r){if(wn(e.enabled,t)!==!1&&zs(e.staleTime,t)!=="static"){const n=typeof r=="function"?r(t):r;return n==="always"||n!==!1&&oC(t,e)}return!1}function QR(t,e,r,n){return(t!==e||wn(n.enabled,t)===!1)&&(!r.suspense||t.state.status!=="error")&&oC(t,r)}function oC(t,e){return wn(e.enabled,t)!==!1&&t.isStaleByTime(zs(e.staleTime,t))}function sZ(t,e){return!Lc(t.getCurrentResult(),e)}function XR(t){return{onFetch:(e,r)=>{var c,d,f,p,m;const n=e.options,i=(f=(d=(c=e.fetchOptions)==null?void 0:c.meta)==null?void 0:d.fetchMore)==null?void 0:f.direction,s=((p=e.state.data)==null?void 0:p.pages)||[],o=((m=e.state.data)==null?void 0:m.pageParams)||[];let a={pages:[],pageParams:[]},l=0;const u=async()=>{let g=!1;const b=x=>{XJ(x,()=>e.signal,()=>g=!0)},y=t7(e.options,e.fetchOptions),v=async(x,w,_)=>{if(g)return Promise.reject();if(w==null&&x.pages.length)return Promise.resolve(x);const O=(()=>{const R={client:e.client,queryKey:e.queryKey,pageParam:w,direction:_?"backward":"forward",meta:e.options.meta};return b(R),R})(),S=await y(O),{maxPages:T}=e.options,P=_?QJ:YJ;return{pages:P(x.pages,S,T),pageParams:P(x.pageParams,w,T)}};if(i&&s.length){const x=i==="backward",w=x?oZ:JR,_={pages:s,pageParams:o},E=w(n,_);a=await v(_,E,x)}else{const x=t??s.length;do{const w=l===0?o[0]??n.initialPageParam:JR(n,a);if(l>0&&w==null)break;a=await v(a,w),l++}while(l<x)}return a};e.options.persister?e.fetchFn=()=>{var g,b;return(b=(g=e.options).persister)==null?void 0:b.call(g,u,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},r)}:e.fetchFn=u}}}function JR(t,{pages:e,pageParams:r}){const n=e.length-1;return e.length>0?t.getNextPageParam(e[n],e,r[n],r):void 0}function oZ(t,{pages:e,pageParams:r}){var n;return e.length>0?(n=t.getPreviousPageParam)==null?void 0:n.call(t,e[0],e,r[0],r):void 0}var sd,ai,Er,Mo,li,cs,OH,aZ=(OH=class extends i7{constructor(e){super();ue(this,li);ue(this,sd);ue(this,ai);ue(this,Er);ue(this,Mo);ie(this,sd,e.client),this.mutationId=e.mutationId,ie(this,Er,e.mutationCache),ie(this,ai,[]),this.state=e.state||a7(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){N(this,ai).includes(e)||(N(this,ai).push(e),this.clearGcTimeout(),N(this,Er).notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){ie(this,ai,N(this,ai).filter(r=>r!==e)),this.scheduleGc(),N(this,Er).notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){N(this,ai).length||(this.state.status==="pending"?this.scheduleGc():N(this,Er).remove(this))}continue(){var e;return((e=N(this,Mo))==null?void 0:e.continue())??this.execute(this.state.variables)}async execute(e){var o,a,l,u,c,d,f,p,m,g,b,y,v,x,w,_,E,O,S,T;const r=()=>{_e(this,li,cs).call(this,{type:"continue"})},n={client:N(this,sd),meta:this.options.meta,mutationKey:this.options.mutationKey};ie(this,Mo,n7({fn:()=>this.options.mutationFn?this.options.mutationFn(e,n):Promise.reject(new Error("No mutationFn found")),onFail:(P,R)=>{_e(this,li,cs).call(this,{type:"failed",failureCount:P,error:R})},onPause:()=>{_e(this,li,cs).call(this,{type:"pause"})},onContinue:r,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>N(this,Er).canRun(this)}));const i=this.state.status==="pending",s=!N(this,Mo).canStart();try{if(i)r();else{_e(this,li,cs).call(this,{type:"pending",variables:e,isPaused:s}),await((a=(o=N(this,Er).config).onMutate)==null?void 0:a.call(o,e,this,n));const R=await((u=(l=this.options).onMutate)==null?void 0:u.call(l,e,n));R!==this.state.context&&_e(this,li,cs).call(this,{type:"pending",context:R,variables:e,isPaused:s})}const P=await N(this,Mo).start();return await((d=(c=N(this,Er).config).onSuccess)==null?void 0:d.call(c,P,e,this.state.context,this,n)),await((p=(f=this.options).onSuccess)==null?void 0:p.call(f,P,e,this.state.context,n)),await((g=(m=N(this,Er).config).onSettled)==null?void 0:g.call(m,P,null,this.state.variables,this.state.context,this,n)),await((y=(b=this.options).onSettled)==null?void 0:y.call(b,P,null,e,this.state.context,n)),_e(this,li,cs).call(this,{type:"success",data:P}),P}catch(P){try{await((x=(v=N(this,Er).config).onError)==null?void 0:x.call(v,P,e,this.state.context,this,n))}catch(R){Promise.reject(R)}try{await((_=(w=this.options).onError)==null?void 0:_.call(w,P,e,this.state.context,n))}catch(R){Promise.reject(R)}try{await((O=(E=N(this,Er).config).onSettled)==null?void 0:O.call(E,void 0,P,this.state.variables,this.state.context,this,n))}catch(R){Promise.reject(R)}try{await((T=(S=this.options).onSettled)==null?void 0:T.call(S,void 0,P,e,this.state.context,n))}catch(R){Promise.reject(R)}throw _e(this,li,cs).call(this,{type:"error",error:P}),P}finally{N(this,Er).runNext(this)}}},sd=new WeakMap,ai=new WeakMap,Er=new WeakMap,Mo=new WeakMap,li=new WeakSet,cs=function(e){const r=n=>{switch(e.type){case"failed":return{...n,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...n,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:e.error,failureCount:n.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=r(this.state),Et.batch(()=>{N(this,ai).forEach(n=>{n.onMutationUpdate(e)}),N(this,Er).notify({mutation:this,type:"updated",action:e})})},OH);function a7(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Ii,Bn,od,PH,lZ=(PH=class extends pa{constructor(e={}){super();ue(this,Ii);ue(this,Bn);ue(this,od);this.config=e,ie(this,Ii,new Set),ie(this,Bn,new Map),ie(this,od,0)}build(e,r,n){const i=new aZ({client:e,mutationCache:this,mutationId:++nh(this,od)._,options:e.defaultMutationOptions(r),state:n});return this.add(i),i}add(e){N(this,Ii).add(e);const r=xh(e);if(typeof r=="string"){const n=N(this,Bn).get(r);n?n.push(e):N(this,Bn).set(r,[e])}this.notify({type:"added",mutation:e})}remove(e){if(N(this,Ii).delete(e)){const r=xh(e);if(typeof r=="string"){const n=N(this,Bn).get(r);if(n)if(n.length>1){const i=n.indexOf(e);i!==-1&&n.splice(i,1)}else n[0]===e&&N(this,Bn).delete(r)}}this.notify({type:"removed",mutation:e})}canRun(e){const r=xh(e);if(typeof r=="string"){const n=N(this,Bn).get(r),i=n==null?void 0:n.find(s=>s.state.status==="pending");return!i||i===e}else return!0}runNext(e){var n;const r=xh(e);if(typeof r=="string"){const i=(n=N(this,Bn).get(r))==null?void 0:n.find(s=>s!==e&&s.state.isPaused);return(i==null?void 0:i.continue())??Promise.resolve()}else return Promise.resolve()}clear(){Et.batch(()=>{N(this,Ii).forEach(e=>{this.notify({type:"removed",mutation:e})}),N(this,Ii).clear(),N(this,Bn).clear()})}getAll(){return Array.from(N(this,Ii))}find(e){const r={exact:!0,...e};return this.getAll().find(n=>WR(r,n))}findAll(e={}){return this.getAll().filter(r=>WR(e,r))}notify(e){Et.batch(()=>{this.listeners.forEach(r=>{r(e)})})}resumePausedMutations(){const e=this.getAll().filter(r=>r.state.isPaused);return Et.batch(()=>Promise.all(e.map(r=>r.continue().catch(mr))))}},Ii=new WeakMap,Bn=new WeakMap,od=new WeakMap,PH);function xh(t){var e;return(e=t.options.scope)==null?void 0:e.id}var Ri,Es,Lr,Ni,Hi,Vh,SP,TH,uZ=(TH=class extends pa{constructor(e,r){super();ue(this,Hi);ue(this,Ri);ue(this,Es);ue(this,Lr);ue(this,Ni);ie(this,Ri,e),this.setOptions(r),this.bindMethods(),_e(this,Hi,Vh).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(e){var n;const r=this.options;this.options=N(this,Ri).defaultMutationOptions(e),Lc(this.options,r)||N(this,Ri).getMutationCache().notify({type:"observerOptionsUpdated",mutation:N(this,Lr),observer:this}),r!=null&&r.mutationKey&&this.options.mutationKey&&Zo(r.mutationKey)!==Zo(this.options.mutationKey)?this.reset():((n=N(this,Lr))==null?void 0:n.state.status)==="pending"&&N(this,Lr).setOptions(this.options)}onUnsubscribe(){var e;this.hasListeners()||(e=N(this,Lr))==null||e.removeObserver(this)}onMutationUpdate(e){_e(this,Hi,Vh).call(this),_e(this,Hi,SP).call(this,e)}getCurrentResult(){return N(this,Es)}reset(){var e;(e=N(this,Lr))==null||e.removeObserver(this),ie(this,Lr,void 0),_e(this,Hi,Vh).call(this),_e(this,Hi,SP).call(this)}mutate(e,r){var n;return ie(this,Ni,r),(n=N(this,Lr))==null||n.removeObserver(this),ie(this,Lr,N(this,Ri).getMutationCache().build(N(this,Ri),this.options)),N(this,Lr).addObserver(this),N(this,Lr).execute(e)}},Ri=new WeakMap,Es=new WeakMap,Lr=new WeakMap,Ni=new WeakMap,Hi=new WeakSet,Vh=function(){var r;const e=((r=N(this,Lr))==null?void 0:r.state)??a7();ie(this,Es,{...e,isPending:e.status==="pending",isSuccess:e.status==="success",isError:e.status==="error",isIdle:e.status==="idle",mutate:this.mutate,reset:this.reset})},SP=function(e){Et.batch(()=>{var r,n,i,s,o,a,l,u;if(N(this,Ni)&&this.hasListeners()){const c=N(this,Es).variables,d=N(this,Es).context,f={client:N(this,Ri),meta:this.options.meta,mutationKey:this.options.mutationKey};if((e==null?void 0:e.type)==="success"){try{(n=(r=N(this,Ni)).onSuccess)==null||n.call(r,e.data,c,d,f)}catch(p){Promise.reject(p)}try{(s=(i=N(this,Ni)).onSettled)==null||s.call(i,e.data,null,c,d,f)}catch(p){Promise.reject(p)}}else if((e==null?void 0:e.type)==="error"){try{(a=(o=N(this,Ni)).onError)==null||a.call(o,e.error,c,d,f)}catch(p){Promise.reject(p)}try{(u=(l=N(this,Ni)).onSettled)==null||u.call(l,void 0,e.error,c,d,f)}catch(p){Promise.reject(p)}}}this.listeners.forEach(c=>{c(N(this,Es))})})},TH);function ZR(t,e){const r=new Set(e);return t.filter(n=>!r.has(n))}function cZ(t,e,r){const n=t.slice(0);return n[e]=r,n}var Ol,sn,Pl,Tl,bn,Os,ad,ld,ud,cr,EP,OP,PP,TP,CP,CH,dZ=(CH=class extends pa{constructor(e,r,n){super();ue(this,cr);ue(this,Ol);ue(this,sn);ue(this,Pl);ue(this,Tl);ue(this,bn);ue(this,Os);ue(this,ad);ue(this,ld);ue(this,ud,[]);ie(this,Ol,e),ie(this,Tl,n),ie(this,Pl,[]),ie(this,bn,[]),ie(this,sn,[]),this.setQueries(r)}onSubscribe(){this.listeners.size===1&&N(this,bn).forEach(e=>{e.subscribe(r=>{_e(this,cr,TP).call(this,e,r)})})}onUnsubscribe(){this.listeners.size||this.destroy()}destroy(){this.listeners=new Set,N(this,bn).forEach(e=>{e.destroy()})}setQueries(e,r){ie(this,Pl,e),ie(this,Tl,r),Et.batch(()=>{const n=N(this,bn),i=_e(this,cr,PP).call(this,N(this,Pl));i.forEach(d=>d.observer.setOptions(d.defaultedQueryOptions));const s=i.map(d=>d.observer),o=s.map(d=>d.getCurrentResult()),a=n.length!==s.length,l=s.some((d,f)=>d!==n[f]),u=a||l,c=u?!0:o.some((d,f)=>{const p=N(this,sn)[f];return!p||!Lc(d,p)});!u&&!c||(u&&(ie(this,ud,i),ie(this,bn,s)),ie(this,sn,o),this.hasListeners()&&(u&&(ZR(n,s).forEach(d=>{d.destroy()}),ZR(s,n).forEach(d=>{d.subscribe(f=>{_e(this,cr,TP).call(this,d,f)})})),_e(this,cr,CP).call(this)))})}getCurrentResult(){return N(this,sn)}getQueries(){return N(this,bn).map(e=>e.getCurrentQuery())}getObservers(){return N(this,bn)}getOptimisticResult(e,r){const n=_e(this,cr,PP).call(this,e),i=n.map(s=>s.observer.getOptimisticResult(s.defaultedQueryOptions));return[i,s=>_e(this,cr,OP).call(this,s??i,r),()=>_e(this,cr,EP).call(this,i,n)]}},Ol=new WeakMap,sn=new WeakMap,Pl=new WeakMap,Tl=new WeakMap,bn=new WeakMap,Os=new WeakMap,ad=new WeakMap,ld=new WeakMap,ud=new WeakMap,cr=new WeakSet,EP=function(e,r){return r.map((n,i)=>{const s=e[i];return n.defaultedQueryOptions.notifyOnChangeProps?s:n.observer.trackResult(s,o=>{r.forEach(a=>{a.observer.trackProp(o)})})})},OP=function(e,r){return r?((!N(this,Os)||N(this,sn)!==N(this,ld)||r!==N(this,ad))&&(ie(this,ad,r),ie(this,ld,N(this,sn)),ie(this,Os,tC(N(this,Os),r(e)))),N(this,Os)):e},PP=function(e){const r=new Map;N(this,bn).forEach(i=>{const s=i.options.queryHash;if(!s)return;const o=r.get(s);o?o.push(i):r.set(s,[i])});const n=[];return e.forEach(i=>{var l;const s=N(this,Ol).defaultQueryOptions(i),a=((l=r.get(s.queryHash))==null?void 0:l.shift())??new sC(N(this,Ol),s);n.push({defaultedQueryOptions:s,observer:a})}),n},TP=function(e,r){const n=N(this,bn).indexOf(e);n!==-1&&(ie(this,sn,cZ(N(this,sn),n,r)),_e(this,cr,CP).call(this))},CP=function(){var e;if(this.hasListeners()){const r=N(this,Os),n=_e(this,cr,EP).call(this,N(this,sn),N(this,ud)),i=_e(this,cr,OP).call(this,n,(e=N(this,Tl))==null?void 0:e.combine);r!==i&&Et.batch(()=>{this.listeners.forEach(s=>{s(N(this,sn))})})}},CH),ui,IH,hZ=(IH=class extends pa{constructor(e={}){super();ue(this,ui);this.config=e,ie(this,ui,new Map)}build(e,r,n){const i=r.queryKey,s=r.queryHash??eC(i,r);let o=this.get(s);return o||(o=new nZ({client:e,queryKey:i,queryHash:s,options:e.defaultQueryOptions(r),state:n,defaultOptions:e.getQueryDefaults(i)}),this.add(o)),o}add(e){N(this,ui).has(e.queryHash)||(N(this,ui).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const r=N(this,ui).get(e.queryHash);r&&(e.destroy(),r===e&&N(this,ui).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){Et.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return N(this,ui).get(e)}getAll(){return[...N(this,ui).values()]}find(e){const r={exact:!0,...e};return this.getAll().find(n=>UR(r,n))}findAll(e={}){const r=this.getAll();return Object.keys(e).length>0?r.filter(n=>UR(e,n)):r}notify(e){Et.batch(()=>{this.listeners.forEach(r=>{r(e)})})}onFocus(){Et.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){Et.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},ui=new WeakMap,IH),wt,Ps,Ts,Cl,Il,Cs,Rl,Nl,RH,fZ=(RH=class{constructor(t={}){ue(this,wt);ue(this,Ps);ue(this,Ts);ue(this,Cl);ue(this,Il);ue(this,Cs);ue(this,Rl);ue(this,Nl);ie(this,wt,t.queryCache||new hZ),ie(this,Ps,t.mutationCache||new lZ),ie(this,Ts,t.defaultOptions||{}),ie(this,Cl,new Map),ie(this,Il,new Map),ie(this,Cs,0)}mount(){nh(this,Cs)._++,N(this,Cs)===1&&(ie(this,Rl,iC.subscribe(async t=>{t&&(await this.resumePausedMutations(),N(this,wt).onFocus())})),ie(this,Nl,Cf.subscribe(async t=>{t&&(await this.resumePausedMutations(),N(this,wt).onOnline())})))}unmount(){var t,e;nh(this,Cs)._--,N(this,Cs)===0&&((t=N(this,Rl))==null||t.call(this),ie(this,Rl,void 0),(e=N(this,Nl))==null||e.call(this),ie(this,Nl,void 0))}isFetching(t){return N(this,wt).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return N(this,Ps).findAll({...t,status:"pending"}).length}getQueryData(t){var r;const e=this.defaultQueryOptions({queryKey:t});return(r=N(this,wt).get(e.queryHash))==null?void 0:r.state.data}ensureQueryData(t){const e=this.defaultQueryOptions(t),r=N(this,wt).build(this,e),n=r.state.data;return n===void 0?this.fetchQuery(t):(t.revalidateIfStale&&r.isStaleByTime(zs(e.staleTime,r))&&this.prefetchQuery(e),Promise.resolve(n))}getQueriesData(t){return N(this,wt).findAll(t).map(({queryKey:e,state:r})=>{const n=r.data;return[e,n]})}setQueryData(t,e,r){const n=this.defaultQueryOptions({queryKey:t}),i=N(this,wt).get(n.queryHash),s=i==null?void 0:i.state.data,o=VJ(e,s);if(o!==void 0)return N(this,wt).build(this,n).setData(o,{...r,manual:!0})}setQueriesData(t,e,r){return Et.batch(()=>N(this,wt).findAll(t).map(({queryKey:n})=>[n,this.setQueryData(n,e,r)]))}getQueryState(t){var r;const e=this.defaultQueryOptions({queryKey:t});return(r=N(this,wt).get(e.queryHash))==null?void 0:r.state}removeQueries(t){const e=N(this,wt);Et.batch(()=>{e.findAll(t).forEach(r=>{e.remove(r)})})}resetQueries(t,e){const r=N(this,wt);return Et.batch(()=>(r.findAll(t).forEach(n=>{n.reset()}),this.refetchQueries({type:"active",...t},e)))}cancelQueries(t,e={}){const r={revert:!0,...e},n=Et.batch(()=>N(this,wt).findAll(t).map(i=>i.cancel(r)));return Promise.all(n).then(mr).catch(mr)}invalidateQueries(t,e={}){return Et.batch(()=>(N(this,wt).findAll(t).forEach(r=>{r.invalidate()}),(t==null?void 0:t.refetchType)==="none"?Promise.resolve():this.refetchQueries({...t,type:(t==null?void 0:t.refetchType)??(t==null?void 0:t.type)??"active"},e)))}refetchQueries(t,e={}){const r={...e,cancelRefetch:e.cancelRefetch??!0},n=Et.batch(()=>N(this,wt).findAll(t).filter(i=>!i.isDisabled()&&!i.isStatic()).map(i=>{let s=i.fetch(void 0,r);return r.throwOnError||(s=s.catch(mr)),i.state.fetchStatus==="paused"?Promise.resolve():s}));return Promise.all(n).then(mr)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const r=N(this,wt).build(this,e);return r.isStaleByTime(zs(e.staleTime,r))?r.fetch(e):Promise.resolve(r.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(mr).catch(mr)}fetchInfiniteQuery(t){return t.behavior=XR(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(mr).catch(mr)}ensureInfiniteQueryData(t){return t.behavior=XR(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return Cf.isOnline()?N(this,Ps).resumePausedMutations():Promise.resolve()}getQueryCache(){return N(this,wt)}getMutationCache(){return N(this,Ps)}getDefaultOptions(){return N(this,Ts)}setDefaultOptions(t){ie(this,Ts,t)}setQueryDefaults(t,e){N(this,Cl).set(Zo(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...N(this,Cl).values()],r={};return e.forEach(n=>{Fc(t,n.queryKey)&&Object.assign(r,n.defaultOptions)}),r}setMutationDefaults(t,e){N(this,Il).set(Zo(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...N(this,Il).values()],r={};return e.forEach(n=>{Fc(t,n.mutationKey)&&Object.assign(r,n.defaultOptions)}),r}defaultQueryOptions(t){if(t._defaulted)return t;const e={...N(this,Ts).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=eC(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===rC&&(e.enabled=!1),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...N(this,Ts).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){N(this,wt).clear(),N(this,Ps).clear()}},wt=new WeakMap,Ps=new WeakMap,Ts=new WeakMap,Cl=new WeakMap,Il=new WeakMap,Cs=new WeakMap,Rl=new WeakMap,Nl=new WeakMap,RH),l7=j.createContext(void 0),qr=t=>{const e=j.useContext(l7);if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},pZ=({client:t,children:e})=>(j.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),h.jsx(l7.Provider,{value:t,children:e})),u7=j.createContext(!1),c7=()=>j.useContext(u7);u7.Provider;function mZ(){let t=!1;return{clearReset:()=>{t=!1},reset:()=>{t=!0},isReset:()=>t}}var vZ=j.createContext(mZ()),d7=()=>j.useContext(vZ),h7=(t,e,r)=>{const n=r!=null&&r.state.error&&typeof t.throwOnError=="function"?nC(t.throwOnError,[r.state.error,r]):t.throwOnError;(t.suspense||t.experimental_prefetchInRender||n)&&(e.isReset()||(t.retryOnMount=!1))},f7=t=>{j.useEffect(()=>{t.clearReset()},[t])},p7=({result:t,errorResetBoundary:e,throwOnError:r,query:n,suspense:i})=>t.isError&&!e.isReset()&&!t.isFetching&&n&&(i&&t.data===void 0||nC(r,[t.error,n])),m7=t=>{if(t.suspense){const r=i=>i==="static"?i:Math.max(i??1e3,1e3),n=t.staleTime;t.staleTime=typeof n=="function"?(...i)=>r(n(...i)):r(n),typeof t.gcTime=="number"&&(t.gcTime=Math.max(t.gcTime,1e3))}},v7=(t,e)=>t.isLoading&&t.isFetching&&!e,IP=(t,e)=>(t==null?void 0:t.suspense)&&e.isPending,If=(t,e,r)=>e.fetchOptimistic(t).catch(()=>{r.clearReset()});function Rf({queries:t,...e},r){const n=qr(),i=c7(),s=d7(),o=j.useMemo(()=>t.map(g=>{const b=n.defaultQueryOptions(g);return b._optimisticResults=i?"isRestoring":"optimistic",b}),[t,n,i]);o.forEach(g=>{m7(g);const b=n.getQueryCache().get(g.queryHash);h7(g,s,b)}),f7(s);const[a]=j.useState(()=>new dZ(n,o,e)),[l,u,c]=a.getOptimisticResult(o,e.combine),d=!i&&e.subscribed!==!1;j.useSyncExternalStore(j.useCallback(g=>d?a.subscribe(Et.batchCalls(g)):mr,[a,d]),()=>a.getCurrentResult(),()=>a.getCurrentResult()),j.useEffect(()=>{a.setQueries(o,e)},[o,e,a]);const p=l.some((g,b)=>IP(o[b],g))?l.flatMap((g,b)=>{const y=o[b];if(y){const v=new sC(n,y);if(IP(y,g))return If(y,v,s);v7(g,i)&&If(y,v,s)}return[]}):[];if(p.length>0)throw Promise.all(p);const m=l.find((g,b)=>{const y=o[b];return y&&p7({result:g,errorResetBoundary:s,throwOnError:y.throwOnError,query:n.getQueryCache().get(y.queryHash),suspense:y.suspense})});if(m!=null&&m.error)throw m.error;return u(c())}function yZ(t,e,r){var f,p,m,g;const n=c7(),i=d7(),s=qr(),o=s.defaultQueryOptions(t);(p=(f=s.getDefaultOptions().queries)==null?void 0:f._experimental_beforeQuery)==null||p.call(f,o);const a=s.getQueryCache().get(o.queryHash);o._optimisticResults=n?"isRestoring":"optimistic",m7(o),h7(o,i,a),f7(i);const l=!s.getQueryCache().get(o.queryHash),[u]=j.useState(()=>new e(s,o)),c=u.getOptimisticResult(o),d=!n&&t.subscribed!==!1;if(j.useSyncExternalStore(j.useCallback(b=>{const y=d?u.subscribe(Et.batchCalls(b)):mr;return u.updateResult(),y},[u,d]),()=>u.getCurrentResult(),()=>u.getCurrentResult()),j.useEffect(()=>{u.setOptions(o)},[o,u]),IP(o,c))throw If(o,u,i);if(p7({result:c,errorResetBoundary:i,throwOnError:o.throwOnError,query:a,suspense:o.suspense}))throw c.error;if((g=(m=s.getDefaultOptions().queries)==null?void 0:m._experimental_afterQuery)==null||g.call(m,o,c),o.experimental_prefetchInRender&&!Jo&&v7(c,n)){const b=l?If(o,u,i):a==null?void 0:a.promise;b==null||b.catch(mr).finally(()=>{u.updateResult()})}return o.notifyOnChangeProps?c:u.trackResult(c)}function ft(t,e){return yZ(t,sC)}function br(t,e){const r=qr(),[n]=j.useState(()=>new uZ(r,t));j.useEffect(()=>{n.setOptions(t)},[n,t]);const i=j.useSyncExternalStore(j.useCallback(o=>n.subscribe(Et.batchCalls(o)),[n]),()=>n.getCurrentResult(),()=>n.getCurrentResult()),s=j.useCallback((o,a)=>{n.mutate(o,a).catch(mr)},[n]);if(i.error&&nC(n.options.throwOnError,[i.error]))throw i.error;return{...i,mutate:s,mutateAsync:i.mutate}}function mp(){const t=window.prmConfig||{};return j.useMemo(()=>({isLoggedIn:t.isLoggedIn||!1,userId:t.userId||null,loginUrl:t.loginUrl||"/wp-login.php",logoutUrl:t.logoutUrl||"/wp-login.php?action=logout",isLoading:!1}),[t.isLoggedIn,t.userId,t.loginUrl,t.logoutUrl])}/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var gZ={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bZ=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),Oe=(t,e)=>{const r=j.forwardRef(({color:n="currentColor",size:i=24,strokeWidth:s=2,absoluteStrokeWidth:o,className:a="",children:l,...u},c)=>j.createElement("svg",{ref:c,...gZ,width:i,height:i,stroke:n,strokeWidth:o?Number(s)*24/Number(i):s,className:["lucide",`lucide-${bZ(t)}`,a].join(" "),...u},[...e.map(([d,f])=>j.createElement(d,f)),...Array.isArray(l)?l:[l]]));return r.displayName=`${t}`,r};/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eN=Oe("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wZ=Oe("ArrowDown",[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ts=Oe("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tN=Oe("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xZ=Oe("ArrowUp",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _Z=Oe("Briefcase",[["rect",{width:"20",height:"14",x:"2",y:"7",rx:"2",ry:"2",key:"eto64e"}],["path",{d:"M16 21V5a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"zwj3tp"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ea=Oe("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ta=Oe("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kh=Oe("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rN=Oe("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nN=Oe("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SZ=Oe("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EZ=Oe("FileCode",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["path",{d:"m10 13-2 2 2 2",key:"17smn8"}],["path",{d:"m14 17 2-2-2-2",key:"14mezr"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iN=Oe("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OZ=Oe("Gift",[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RP=Oe("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PZ=Oe("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TZ=Oe("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CZ=Oe("Link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sN=Oe("Linkedin",[["path",{d:"M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z",key:"c2jq9f"}],["rect",{width:"4",height:"12",x:"2",y:"9",key:"mk3on5"}],["circle",{cx:"4",cy:"4",r:"2",key:"bt5ra8"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oN=Oe("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IZ=Oe("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RZ=Oe("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NZ=Oe("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $Z=Oe("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jZ=Oe("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kZ=Oe("Pen",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _h=Oe("Pencil",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DZ=Oe("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yr=Oe("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y7=Oe("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xs=Oe("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g7=Oe("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b7=Oe("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qZ=Oe("ShieldAlert",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w7=Oe("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x7=Oe("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a2.121 2.121 0 1 1 3 3L12 15l-4 1 1-4Z",key:"1lpok0"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bc=Oe("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fs=Oe("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aN=Oe("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _7=Oe("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zc=Oe("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Js=Oe("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MZ=Oe("ZoomIn",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"11",x2:"11",y1:"8",y2:"14",key:"1vmskp"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AZ=Oe("ZoomOut",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]]),Ll="Caelis";function wi(t){j.useEffect(()=>{var e;if(t){const r=((e=window.prmConfig)==null?void 0:e.siteName)||Ll;document.title=`${t} - ${r}`}},[t])}function FZ(t){const e=t.match(/\/(?:people|companies|dates)\/(\d+)/);return e?e[1]:null}function S7(t=null){const e=Zi();j.useEffect(()=>{var i;let r=t;if(!r){const s=e.pathname,o=FZ(s);s==="/"?r="Dashboard":s==="/login"?r="Login":s.startsWith("/people")?s==="/people"||s==="/people/"?r="People":s==="/people/new"?r="New Person":s.endsWith("/edit")?r="Edit Person":o?r="Person":r="People":s.startsWith("/companies")?s==="/companies"||s==="/companies/"?r="Companies":s==="/companies/new"?r="New Company":s.endsWith("/edit")?r="Edit Company":o?r="Company":r="Companies":s.startsWith("/dates")?s==="/dates"||s==="/dates/"?r="Important Dates":s==="/dates/new"?r="New Date":s.endsWith("/edit")?r="Edit Date":r="Important Dates":s.startsWith("/settings")?r="Settings":r=Ll}const n=((i=window.prmConfig)==null?void 0:i.siteName)||Ll;document.title=`${r} - ${n}`},[e.pathname,t])}function E7(t,e){return function(){return t.apply(e,arguments)}}const{toString:LZ}=Object.prototype,{getPrototypeOf:aC}=Object,{iterator:vp,toStringTag:O7}=Symbol,yp=(t=>e=>{const r=LZ.call(e);return t[r]||(t[r]=r.slice(8,-1).toLowerCase())})(Object.create(null)),Zn=t=>(t=t.toLowerCase(),e=>yp(e)===t),gp=t=>e=>typeof e===t,{isArray:ru}=Array,Bl=gp("undefined");function md(t){return t!==null&&!Bl(t)&&t.constructor!==null&&!Bl(t.constructor)&&Yr(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const P7=Zn("ArrayBuffer");function BZ(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&P7(t.buffer),e}const zZ=gp("string"),Yr=gp("function"),T7=gp("number"),vd=t=>t!==null&&typeof t=="object",UZ=t=>t===!0||t===!1,Gh=t=>{if(yp(t)!=="object")return!1;const e=aC(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(O7 in t)&&!(vp in t)},WZ=t=>{if(!vd(t)||md(t))return!1;try{return Object.keys(t).length===0&&Object.getPrototypeOf(t)===Object.prototype}catch{return!1}},HZ=Zn("Date"),VZ=Zn("File"),KZ=Zn("Blob"),GZ=Zn("FileList"),YZ=t=>vd(t)&&Yr(t.pipe),QZ=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||Yr(t.append)&&((e=yp(t))==="formdata"||e==="object"&&Yr(t.toString)&&t.toString()==="[object FormData]"))},XZ=Zn("URLSearchParams"),[JZ,ZZ,eee,tee]=["ReadableStream","Request","Response","Headers"].map(Zn),ree=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function yd(t,e,{allOwnKeys:r=!1}={}){if(t===null||typeof t>"u")return;let n,i;if(typeof t!="object"&&(t=[t]),ru(t))for(n=0,i=t.length;n<i;n++)e.call(null,t[n],n,t);else{if(md(t))return;const s=r?Object.getOwnPropertyNames(t):Object.keys(t),o=s.length;let a;for(n=0;n<o;n++)a=s[n],e.call(null,t[a],a,t)}}function C7(t,e){if(md(t))return null;e=e.toLowerCase();const r=Object.keys(t);let n=r.length,i;for(;n-- >0;)if(i=r[n],e===i.toLowerCase())return i;return null}const So=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,I7=t=>!Bl(t)&&t!==So;function NP(){const{caseless:t,skipUndefined:e}=I7(this)&&this||{},r={},n=(i,s)=>{const o=t&&C7(r,s)||s;Gh(r[o])&&Gh(i)?r[o]=NP(r[o],i):Gh(i)?r[o]=NP({},i):ru(i)?r[o]=i.slice():(!e||!Bl(i))&&(r[o]=i)};for(let i=0,s=arguments.length;i<s;i++)arguments[i]&&yd(arguments[i],n);return r}const nee=(t,e,r,{allOwnKeys:n}={})=>(yd(e,(i,s)=>{r&&Yr(i)?t[s]=E7(i,r):t[s]=i},{allOwnKeys:n}),t),iee=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),see=(t,e,r,n)=>{t.prototype=Object.create(e.prototype,n),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),r&&Object.assign(t.prototype,r)},oee=(t,e,r,n)=>{let i,s,o;const a={};if(e=e||{},t==null)return e;do{for(i=Object.getOwnPropertyNames(t),s=i.length;s-- >0;)o=i[s],(!n||n(o,t,e))&&!a[o]&&(e[o]=t[o],a[o]=!0);t=r!==!1&&aC(t)}while(t&&(!r||r(t,e))&&t!==Object.prototype);return e},aee=(t,e,r)=>{t=String(t),(r===void 0||r>t.length)&&(r=t.length),r-=e.length;const n=t.indexOf(e,r);return n!==-1&&n===r},lee=t=>{if(!t)return null;if(ru(t))return t;let e=t.length;if(!T7(e))return null;const r=new Array(e);for(;e-- >0;)r[e]=t[e];return r},uee=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&aC(Uint8Array)),cee=(t,e)=>{const n=(t&&t[vp]).call(t);let i;for(;(i=n.next())&&!i.done;){const s=i.value;e.call(t,s[0],s[1])}},dee=(t,e)=>{let r;const n=[];for(;(r=t.exec(e))!==null;)n.push(r);return n},hee=Zn("HTMLFormElement"),fee=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(r,n,i){return n.toUpperCase()+i}),lN=(({hasOwnProperty:t})=>(e,r)=>t.call(e,r))(Object.prototype),pee=Zn("RegExp"),R7=(t,e)=>{const r=Object.getOwnPropertyDescriptors(t),n={};yd(r,(i,s)=>{let o;(o=e(i,s,t))!==!1&&(n[s]=o||i)}),Object.defineProperties(t,n)},mee=t=>{R7(t,(e,r)=>{if(Yr(t)&&["arguments","caller","callee"].indexOf(r)!==-1)return!1;const n=t[r];if(Yr(n)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")})}})},vee=(t,e)=>{const r={},n=i=>{i.forEach(s=>{r[s]=!0})};return ru(t)?n(t):n(String(t).split(e)),r},yee=()=>{},gee=(t,e)=>t!=null&&Number.isFinite(t=+t)?t:e;function bee(t){return!!(t&&Yr(t.append)&&t[O7]==="FormData"&&t[vp])}const wee=t=>{const e=new Array(10),r=(n,i)=>{if(vd(n)){if(e.indexOf(n)>=0)return;if(md(n))return n;if(!("toJSON"in n)){e[i]=n;const s=ru(n)?[]:{};return yd(n,(o,a)=>{const l=r(o,i+1);!Bl(l)&&(s[a]=l)}),e[i]=void 0,s}}return n};return r(t,0)},xee=Zn("AsyncFunction"),_ee=t=>t&&(vd(t)||Yr(t))&&Yr(t.then)&&Yr(t.catch),N7=((t,e)=>t?setImmediate:e?((r,n)=>(So.addEventListener("message",({source:i,data:s})=>{i===So&&s===r&&n.length&&n.shift()()},!1),i=>{n.push(i),So.postMessage(r,"*")}))(`axios@${Math.random()}`,[]):r=>setTimeout(r))(typeof setImmediate=="function",Yr(So.postMessage)),See=typeof queueMicrotask<"u"?queueMicrotask.bind(So):typeof process<"u"&&process.nextTick||N7,Eee=t=>t!=null&&Yr(t[vp]),M={isArray:ru,isArrayBuffer:P7,isBuffer:md,isFormData:QZ,isArrayBufferView:BZ,isString:zZ,isNumber:T7,isBoolean:UZ,isObject:vd,isPlainObject:Gh,isEmptyObject:WZ,isReadableStream:JZ,isRequest:ZZ,isResponse:eee,isHeaders:tee,isUndefined:Bl,isDate:HZ,isFile:VZ,isBlob:KZ,isRegExp:pee,isFunction:Yr,isStream:YZ,isURLSearchParams:XZ,isTypedArray:uee,isFileList:GZ,forEach:yd,merge:NP,extend:nee,trim:ree,stripBOM:iee,inherits:see,toFlatObject:oee,kindOf:yp,kindOfTest:Zn,endsWith:aee,toArray:lee,forEachEntry:cee,matchAll:dee,isHTMLForm:hee,hasOwnProperty:lN,hasOwnProp:lN,reduceDescriptors:R7,freezeMethods:mee,toObjectSet:vee,toCamelCase:fee,noop:yee,toFiniteNumber:gee,findKey:C7,global:So,isContextDefined:I7,isSpecCompliantForm:bee,toJSONObject:wee,isAsyncFn:xee,isThenable:_ee,setImmediate:N7,asap:See,isIterable:Eee};function Ce(t,e,r,n,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),r&&(this.config=r),n&&(this.request=n),i&&(this.response=i,this.status=i.status?i.status:null)}M.inherits(Ce,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:M.toJSONObject(this.config),code:this.code,status:this.status}}});const $7=Ce.prototype,j7={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{j7[t]={value:t}});Object.defineProperties(Ce,j7);Object.defineProperty($7,"isAxiosError",{value:!0});Ce.from=(t,e,r,n,i,s)=>{const o=Object.create($7);M.toFlatObject(t,o,function(c){return c!==Error.prototype},u=>u!=="isAxiosError");const a=t&&t.message?t.message:"Error",l=e==null&&t?t.code:e;return Ce.call(o,a,l,r,n,i),t&&o.cause==null&&Object.defineProperty(o,"cause",{value:t,configurable:!0}),o.name=t&&t.name||"Error",s&&Object.assign(o,s),o};const Oee=null;function $P(t){return M.isPlainObject(t)||M.isArray(t)}function k7(t){return M.endsWith(t,"[]")?t.slice(0,-2):t}function uN(t,e,r){return t?t.concat(e).map(function(i,s){return i=k7(i),!r&&s?"["+i+"]":i}).join(r?".":""):e}function Pee(t){return M.isArray(t)&&!t.some($P)}const Tee=M.toFlatObject(M,{},null,function(e){return/^is[A-Z]/.test(e)});function bp(t,e,r){if(!M.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,r=M.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,function(g,b){return!M.isUndefined(b[g])});const n=r.metaTokens,i=r.visitor||c,s=r.dots,o=r.indexes,l=(r.Blob||typeof Blob<"u"&&Blob)&&M.isSpecCompliantForm(e);if(!M.isFunction(i))throw new TypeError("visitor must be a function");function u(m){if(m===null)return"";if(M.isDate(m))return m.toISOString();if(M.isBoolean(m))return m.toString();if(!l&&M.isBlob(m))throw new Ce("Blob is not supported. Use a Buffer instead.");return M.isArrayBuffer(m)||M.isTypedArray(m)?l&&typeof Blob=="function"?new Blob([m]):Buffer.from(m):m}function c(m,g,b){let y=m;if(m&&!b&&typeof m=="object"){if(M.endsWith(g,"{}"))g=n?g:g.slice(0,-2),m=JSON.stringify(m);else if(M.isArray(m)&&Pee(m)||(M.isFileList(m)||M.endsWith(g,"[]"))&&(y=M.toArray(m)))return g=k7(g),y.forEach(function(x,w){!(M.isUndefined(x)||x===null)&&e.append(o===!0?uN([g],w,s):o===null?g:g+"[]",u(x))}),!1}return $P(m)?!0:(e.append(uN(b,g,s),u(m)),!1)}const d=[],f=Object.assign(Tee,{defaultVisitor:c,convertValue:u,isVisitable:$P});function p(m,g){if(!M.isUndefined(m)){if(d.indexOf(m)!==-1)throw Error("Circular reference detected in "+g.join("."));d.push(m),M.forEach(m,function(y,v){(!(M.isUndefined(y)||y===null)&&i.call(e,y,M.isString(v)?v.trim():v,g,f))===!0&&p(y,g?g.concat(v):[v])}),d.pop()}}if(!M.isObject(t))throw new TypeError("data must be an object");return p(t),e}function cN(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(n){return e[n]})}function lC(t,e){this._pairs=[],t&&bp(t,this,e)}const D7=lC.prototype;D7.append=function(e,r){this._pairs.push([e,r])};D7.toString=function(e){const r=e?function(n){return e.call(this,n,cN)}:cN;return this._pairs.map(function(i){return r(i[0])+"="+r(i[1])},"").join("&")};function Cee(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function q7(t,e,r){if(!e)return t;const n=r&&r.encode||Cee;M.isFunction(r)&&(r={serialize:r});const i=r&&r.serialize;let s;if(i?s=i(e,r):s=M.isURLSearchParams(e)?e.toString():new lC(e,r).toString(n),s){const o=t.indexOf("#");o!==-1&&(t=t.slice(0,o)),t+=(t.indexOf("?")===-1?"?":"&")+s}return t}class dN{constructor(){this.handlers=[]}use(e,r,n){return this.handlers.push({fulfilled:e,rejected:r,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){M.forEach(this.handlers,function(n){n!==null&&e(n)})}}const M7={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Iee=typeof URLSearchParams<"u"?URLSearchParams:lC,Ree=typeof FormData<"u"?FormData:null,Nee=typeof Blob<"u"?Blob:null,$ee={isBrowser:!0,classes:{URLSearchParams:Iee,FormData:Ree,Blob:Nee},protocols:["http","https","file","blob","url","data"]},uC=typeof window<"u"&&typeof document<"u",jP=typeof navigator=="object"&&navigator||void 0,jee=uC&&(!jP||["ReactNative","NativeScript","NS"].indexOf(jP.product)<0),kee=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",Dee=uC&&window.location.href||"http://localhost",qee=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:uC,hasStandardBrowserEnv:jee,hasStandardBrowserWebWorkerEnv:kee,navigator:jP,origin:Dee},Symbol.toStringTag,{value:"Module"})),gr={...qee,...$ee};function Mee(t,e){return bp(t,new gr.classes.URLSearchParams,{visitor:function(r,n,i,s){return gr.isNode&&M.isBuffer(r)?(this.append(n,r.toString("base64")),!1):s.defaultVisitor.apply(this,arguments)},...e})}function Aee(t){return M.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function Fee(t){const e={},r=Object.keys(t);let n;const i=r.length;let s;for(n=0;n<i;n++)s=r[n],e[s]=t[s];return e}function A7(t){function e(r,n,i,s){let o=r[s++];if(o==="__proto__")return!0;const a=Number.isFinite(+o),l=s>=r.length;return o=!o&&M.isArray(i)?i.length:o,l?(M.hasOwnProp(i,o)?i[o]=[i[o],n]:i[o]=n,!a):((!i[o]||!M.isObject(i[o]))&&(i[o]=[]),e(r,n,i[o],s)&&M.isArray(i[o])&&(i[o]=Fee(i[o])),!a)}if(M.isFormData(t)&&M.isFunction(t.entries)){const r={};return M.forEachEntry(t,(n,i)=>{e(Aee(n),i,r,0)}),r}return null}function Lee(t,e,r){if(M.isString(t))try{return(e||JSON.parse)(t),M.trim(t)}catch(n){if(n.name!=="SyntaxError")throw n}return(r||JSON.stringify)(t)}const gd={transitional:M7,adapter:["xhr","http","fetch"],transformRequest:[function(e,r){const n=r.getContentType()||"",i=n.indexOf("application/json")>-1,s=M.isObject(e);if(s&&M.isHTMLForm(e)&&(e=new FormData(e)),M.isFormData(e))return i?JSON.stringify(A7(e)):e;if(M.isArrayBuffer(e)||M.isBuffer(e)||M.isStream(e)||M.isFile(e)||M.isBlob(e)||M.isReadableStream(e))return e;if(M.isArrayBufferView(e))return e.buffer;if(M.isURLSearchParams(e))return r.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let a;if(s){if(n.indexOf("application/x-www-form-urlencoded")>-1)return Mee(e,this.formSerializer).toString();if((a=M.isFileList(e))||n.indexOf("multipart/form-data")>-1){const l=this.env&&this.env.FormData;return bp(a?{"files[]":e}:e,l&&new l,this.formSerializer)}}return s||i?(r.setContentType("application/json",!1),Lee(e)):e}],transformResponse:[function(e){const r=this.transitional||gd.transitional,n=r&&r.forcedJSONParsing,i=this.responseType==="json";if(M.isResponse(e)||M.isReadableStream(e))return e;if(e&&M.isString(e)&&(n&&!this.responseType||i)){const o=!(r&&r.silentJSONParsing)&&i;try{return JSON.parse(e,this.parseReviver)}catch(a){if(o)throw a.name==="SyntaxError"?Ce.from(a,Ce.ERR_BAD_RESPONSE,this,null,this.response):a}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:gr.classes.FormData,Blob:gr.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};M.forEach(["delete","get","head","post","put","patch"],t=>{gd.headers[t]={}});const Bee=M.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),zee=t=>{const e={};let r,n,i;return t&&t.split(`
`).forEach(function(o){i=o.indexOf(":"),r=o.substring(0,i).trim().toLowerCase(),n=o.substring(i+1).trim(),!(!r||e[r]&&Bee[r])&&(r==="set-cookie"?e[r]?e[r].push(n):e[r]=[n]:e[r]=e[r]?e[r]+", "+n:n)}),e},hN=Symbol("internals");function Bu(t){return t&&String(t).trim().toLowerCase()}function Yh(t){return t===!1||t==null?t:M.isArray(t)?t.map(Yh):String(t)}function Uee(t){const e=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let n;for(;n=r.exec(t);)e[n[1]]=n[2];return e}const Wee=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function jm(t,e,r,n,i){if(M.isFunction(n))return n.call(this,e,r);if(i&&(e=r),!!M.isString(e)){if(M.isString(n))return e.indexOf(n)!==-1;if(M.isRegExp(n))return n.test(e)}}function Hee(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,r,n)=>r.toUpperCase()+n)}function Vee(t,e){const r=M.toCamelCase(" "+e);["get","set","has"].forEach(n=>{Object.defineProperty(t,n+r,{value:function(i,s,o){return this[n].call(this,e,i,s,o)},configurable:!0})})}let Qr=class{constructor(e){e&&this.set(e)}set(e,r,n){const i=this;function s(a,l,u){const c=Bu(l);if(!c)throw new Error("header name must be a non-empty string");const d=M.findKey(i,c);(!d||i[d]===void 0||u===!0||u===void 0&&i[d]!==!1)&&(i[d||l]=Yh(a))}const o=(a,l)=>M.forEach(a,(u,c)=>s(u,c,l));if(M.isPlainObject(e)||e instanceof this.constructor)o(e,r);else if(M.isString(e)&&(e=e.trim())&&!Wee(e))o(zee(e),r);else if(M.isObject(e)&&M.isIterable(e)){let a={},l,u;for(const c of e){if(!M.isArray(c))throw TypeError("Object iterator must return a key-value pair");a[u=c[0]]=(l=a[u])?M.isArray(l)?[...l,c[1]]:[l,c[1]]:c[1]}o(a,r)}else e!=null&&s(r,e,n);return this}get(e,r){if(e=Bu(e),e){const n=M.findKey(this,e);if(n){const i=this[n];if(!r)return i;if(r===!0)return Uee(i);if(M.isFunction(r))return r.call(this,i,n);if(M.isRegExp(r))return r.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,r){if(e=Bu(e),e){const n=M.findKey(this,e);return!!(n&&this[n]!==void 0&&(!r||jm(this,this[n],n,r)))}return!1}delete(e,r){const n=this;let i=!1;function s(o){if(o=Bu(o),o){const a=M.findKey(n,o);a&&(!r||jm(n,n[a],a,r))&&(delete n[a],i=!0)}}return M.isArray(e)?e.forEach(s):s(e),i}clear(e){const r=Object.keys(this);let n=r.length,i=!1;for(;n--;){const s=r[n];(!e||jm(this,this[s],s,e,!0))&&(delete this[s],i=!0)}return i}normalize(e){const r=this,n={};return M.forEach(this,(i,s)=>{const o=M.findKey(n,s);if(o){r[o]=Yh(i),delete r[s];return}const a=e?Hee(s):String(s).trim();a!==s&&delete r[s],r[a]=Yh(i),n[a]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const r=Object.create(null);return M.forEach(this,(n,i)=>{n!=null&&n!==!1&&(r[i]=e&&M.isArray(n)?n.join(", "):n)}),r}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,r])=>e+": "+r).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...r){const n=new this(e);return r.forEach(i=>n.set(i)),n}static accessor(e){const n=(this[hN]=this[hN]={accessors:{}}).accessors,i=this.prototype;function s(o){const a=Bu(o);n[a]||(Vee(i,o),n[a]=!0)}return M.isArray(e)?e.forEach(s):s(e),this}};Qr.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);M.reduceDescriptors(Qr.prototype,({value:t},e)=>{let r=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(n){this[r]=n}}});M.freezeMethods(Qr);function km(t,e){const r=this||gd,n=e||r,i=Qr.from(n.headers);let s=n.data;return M.forEach(t,function(a){s=a.call(r,s,i.normalize(),e?e.status:void 0)}),i.normalize(),s}function F7(t){return!!(t&&t.__CANCEL__)}function nu(t,e,r){Ce.call(this,t??"canceled",Ce.ERR_CANCELED,e,r),this.name="CanceledError"}M.inherits(nu,Ce,{__CANCEL__:!0});function L7(t,e,r){const n=r.config.validateStatus;!r.status||!n||n(r.status)?t(r):e(new Ce("Request failed with status code "+r.status,[Ce.ERR_BAD_REQUEST,Ce.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r))}function Kee(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function Gee(t,e){t=t||10;const r=new Array(t),n=new Array(t);let i=0,s=0,o;return e=e!==void 0?e:1e3,function(l){const u=Date.now(),c=n[s];o||(o=u),r[i]=l,n[i]=u;let d=s,f=0;for(;d!==i;)f+=r[d++],d=d%t;if(i=(i+1)%t,i===s&&(s=(s+1)%t),u-o<e)return;const p=c&&u-c;return p?Math.round(f*1e3/p):void 0}}function Yee(t,e){let r=0,n=1e3/e,i,s;const o=(u,c=Date.now())=>{r=c,i=null,s&&(clearTimeout(s),s=null),t(...u)};return[(...u)=>{const c=Date.now(),d=c-r;d>=n?o(u,c):(i=u,s||(s=setTimeout(()=>{s=null,o(i)},n-d)))},()=>i&&o(i)]}const Nf=(t,e,r=3)=>{let n=0;const i=Gee(50,250);return Yee(s=>{const o=s.loaded,a=s.lengthComputable?s.total:void 0,l=o-n,u=i(l),c=o<=a;n=o;const d={loaded:o,total:a,progress:a?o/a:void 0,bytes:l,rate:u||void 0,estimated:u&&a&&c?(a-o)/u:void 0,event:s,lengthComputable:a!=null,[e?"download":"upload"]:!0};t(d)},r)},fN=(t,e)=>{const r=t!=null;return[n=>e[0]({lengthComputable:r,total:t,loaded:n}),e[1]]},pN=t=>(...e)=>M.asap(()=>t(...e)),Qee=gr.hasStandardBrowserEnv?((t,e)=>r=>(r=new URL(r,gr.origin),t.protocol===r.protocol&&t.host===r.host&&(e||t.port===r.port)))(new URL(gr.origin),gr.navigator&&/(msie|trident)/i.test(gr.navigator.userAgent)):()=>!0,Xee=gr.hasStandardBrowserEnv?{write(t,e,r,n,i,s,o){if(typeof document>"u")return;const a=[`${t}=${encodeURIComponent(e)}`];M.isNumber(r)&&a.push(`expires=${new Date(r).toUTCString()}`),M.isString(n)&&a.push(`path=${n}`),M.isString(i)&&a.push(`domain=${i}`),s===!0&&a.push("secure"),M.isString(o)&&a.push(`SameSite=${o}`),document.cookie=a.join("; ")},read(t){if(typeof document>"u")return null;const e=document.cookie.match(new RegExp("(?:^|; )"+t+"=([^;]*)"));return e?decodeURIComponent(e[1]):null},remove(t){this.write(t,"",Date.now()-864e5,"/")}}:{write(){},read(){return null},remove(){}};function Jee(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function Zee(t,e){return e?t.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):t}function B7(t,e,r){let n=!Jee(e);return t&&(n||r==!1)?Zee(t,e):e}const mN=t=>t instanceof Qr?{...t}:t;function ra(t,e){e=e||{};const r={};function n(u,c,d,f){return M.isPlainObject(u)&&M.isPlainObject(c)?M.merge.call({caseless:f},u,c):M.isPlainObject(c)?M.merge({},c):M.isArray(c)?c.slice():c}function i(u,c,d,f){if(M.isUndefined(c)){if(!M.isUndefined(u))return n(void 0,u,d,f)}else return n(u,c,d,f)}function s(u,c){if(!M.isUndefined(c))return n(void 0,c)}function o(u,c){if(M.isUndefined(c)){if(!M.isUndefined(u))return n(void 0,u)}else return n(void 0,c)}function a(u,c,d){if(d in e)return n(u,c);if(d in t)return n(void 0,u)}const l={url:s,method:s,data:s,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:a,headers:(u,c,d)=>i(mN(u),mN(c),d,!0)};return M.forEach(Object.keys({...t,...e}),function(c){const d=l[c]||i,f=d(t[c],e[c],c);M.isUndefined(f)&&d!==a||(r[c]=f)}),r}const z7=t=>{const e=ra({},t);let{data:r,withXSRFToken:n,xsrfHeaderName:i,xsrfCookieName:s,headers:o,auth:a}=e;if(e.headers=o=Qr.from(o),e.url=q7(B7(e.baseURL,e.url,e.allowAbsoluteUrls),t.params,t.paramsSerializer),a&&o.set("Authorization","Basic "+btoa((a.username||"")+":"+(a.password?unescape(encodeURIComponent(a.password)):""))),M.isFormData(r)){if(gr.hasStandardBrowserEnv||gr.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if(M.isFunction(r.getHeaders)){const l=r.getHeaders(),u=["content-type","content-length"];Object.entries(l).forEach(([c,d])=>{u.includes(c.toLowerCase())&&o.set(c,d)})}}if(gr.hasStandardBrowserEnv&&(n&&M.isFunction(n)&&(n=n(e)),n||n!==!1&&Qee(e.url))){const l=i&&s&&Xee.read(s);l&&o.set(i,l)}return e},ete=typeof XMLHttpRequest<"u",tte=ete&&function(t){return new Promise(function(r,n){const i=z7(t);let s=i.data;const o=Qr.from(i.headers).normalize();let{responseType:a,onUploadProgress:l,onDownloadProgress:u}=i,c,d,f,p,m;function g(){p&&p(),m&&m(),i.cancelToken&&i.cancelToken.unsubscribe(c),i.signal&&i.signal.removeEventListener("abort",c)}let b=new XMLHttpRequest;b.open(i.method.toUpperCase(),i.url,!0),b.timeout=i.timeout;function y(){if(!b)return;const x=Qr.from("getAllResponseHeaders"in b&&b.getAllResponseHeaders()),_={data:!a||a==="text"||a==="json"?b.responseText:b.response,status:b.status,statusText:b.statusText,headers:x,config:t,request:b};L7(function(O){r(O),g()},function(O){n(O),g()},_),b=null}"onloadend"in b?b.onloadend=y:b.onreadystatechange=function(){!b||b.readyState!==4||b.status===0&&!(b.responseURL&&b.responseURL.indexOf("file:")===0)||setTimeout(y)},b.onabort=function(){b&&(n(new Ce("Request aborted",Ce.ECONNABORTED,t,b)),b=null)},b.onerror=function(w){const _=w&&w.message?w.message:"Network Error",E=new Ce(_,Ce.ERR_NETWORK,t,b);E.event=w||null,n(E),b=null},b.ontimeout=function(){let w=i.timeout?"timeout of "+i.timeout+"ms exceeded":"timeout exceeded";const _=i.transitional||M7;i.timeoutErrorMessage&&(w=i.timeoutErrorMessage),n(new Ce(w,_.clarifyTimeoutError?Ce.ETIMEDOUT:Ce.ECONNABORTED,t,b)),b=null},s===void 0&&o.setContentType(null),"setRequestHeader"in b&&M.forEach(o.toJSON(),function(w,_){b.setRequestHeader(_,w)}),M.isUndefined(i.withCredentials)||(b.withCredentials=!!i.withCredentials),a&&a!=="json"&&(b.responseType=i.responseType),u&&([f,m]=Nf(u,!0),b.addEventListener("progress",f)),l&&b.upload&&([d,p]=Nf(l),b.upload.addEventListener("progress",d),b.upload.addEventListener("loadend",p)),(i.cancelToken||i.signal)&&(c=x=>{b&&(n(!x||x.type?new nu(null,t,b):x),b.abort(),b=null)},i.cancelToken&&i.cancelToken.subscribe(c),i.signal&&(i.signal.aborted?c():i.signal.addEventListener("abort",c)));const v=Kee(i.url);if(v&&gr.protocols.indexOf(v)===-1){n(new Ce("Unsupported protocol "+v+":",Ce.ERR_BAD_REQUEST,t));return}b.send(s||null)})},rte=(t,e)=>{const{length:r}=t=t?t.filter(Boolean):[];if(e||r){let n=new AbortController,i;const s=function(u){if(!i){i=!0,a();const c=u instanceof Error?u:this.reason;n.abort(c instanceof Ce?c:new nu(c instanceof Error?c.message:c))}};let o=e&&setTimeout(()=>{o=null,s(new Ce(`timeout ${e} of ms exceeded`,Ce.ETIMEDOUT))},e);const a=()=>{t&&(o&&clearTimeout(o),o=null,t.forEach(u=>{u.unsubscribe?u.unsubscribe(s):u.removeEventListener("abort",s)}),t=null)};t.forEach(u=>u.addEventListener("abort",s));const{signal:l}=n;return l.unsubscribe=()=>M.asap(a),l}},nte=function*(t,e){let r=t.byteLength;if(r<e){yield t;return}let n=0,i;for(;n<r;)i=n+e,yield t.slice(n,i),n=i},ite=async function*(t,e){for await(const r of ste(t))yield*nte(r,e)},ste=async function*(t){if(t[Symbol.asyncIterator]){yield*t;return}const e=t.getReader();try{for(;;){const{done:r,value:n}=await e.read();if(r)break;yield n}}finally{await e.cancel()}},vN=(t,e,r,n)=>{const i=ite(t,e);let s=0,o,a=l=>{o||(o=!0,n&&n(l))};return new ReadableStream({async pull(l){try{const{done:u,value:c}=await i.next();if(u){a(),l.close();return}let d=c.byteLength;if(r){let f=s+=d;r(f)}l.enqueue(new Uint8Array(c))}catch(u){throw a(u),u}},cancel(l){return a(l),i.return()}},{highWaterMark:2})},yN=64*1024,{isFunction:Sh}=M,ote=(({Request:t,Response:e})=>({Request:t,Response:e}))(M.global),{ReadableStream:gN,TextEncoder:bN}=M.global,wN=(t,...e)=>{try{return!!t(...e)}catch{return!1}},ate=t=>{t=M.merge.call({skipUndefined:!0},ote,t);const{fetch:e,Request:r,Response:n}=t,i=e?Sh(e):typeof fetch=="function",s=Sh(r),o=Sh(n);if(!i)return!1;const a=i&&Sh(gN),l=i&&(typeof bN=="function"?(m=>g=>m.encode(g))(new bN):async m=>new Uint8Array(await new r(m).arrayBuffer())),u=s&&a&&wN(()=>{let m=!1;const g=new r(gr.origin,{body:new gN,method:"POST",get duplex(){return m=!0,"half"}}).headers.has("Content-Type");return m&&!g}),c=o&&a&&wN(()=>M.isReadableStream(new n("").body)),d={stream:c&&(m=>m.body)};i&&["text","arrayBuffer","blob","formData","stream"].forEach(m=>{!d[m]&&(d[m]=(g,b)=>{let y=g&&g[m];if(y)return y.call(g);throw new Ce(`Response type '${m}' is not supported`,Ce.ERR_NOT_SUPPORT,b)})});const f=async m=>{if(m==null)return 0;if(M.isBlob(m))return m.size;if(M.isSpecCompliantForm(m))return(await new r(gr.origin,{method:"POST",body:m}).arrayBuffer()).byteLength;if(M.isArrayBufferView(m)||M.isArrayBuffer(m))return m.byteLength;if(M.isURLSearchParams(m)&&(m=m+""),M.isString(m))return(await l(m)).byteLength},p=async(m,g)=>{const b=M.toFiniteNumber(m.getContentLength());return b??f(g)};return async m=>{let{url:g,method:b,data:y,signal:v,cancelToken:x,timeout:w,onDownloadProgress:_,onUploadProgress:E,responseType:O,headers:S,withCredentials:T="same-origin",fetchOptions:P}=z7(m),R=e||fetch;O=O?(O+"").toLowerCase():"text";let C=rte([v,x&&x.toAbortSignal()],w),I=null;const q=C&&C.unsubscribe&&(()=>{C.unsubscribe()});let B;try{if(E&&u&&b!=="get"&&b!=="head"&&(B=await p(S,y))!==0){let z=new r(g,{method:"POST",body:y,duplex:"half"}),te;if(M.isFormData(y)&&(te=z.headers.get("content-type"))&&S.setContentType(te),z.body){const[fe,ye]=fN(B,Nf(pN(E)));y=vN(z.body,yN,fe,ye)}}M.isString(T)||(T=T?"include":"omit");const re=s&&"credentials"in r.prototype,Q={...P,signal:C,method:b.toUpperCase(),headers:S.normalize().toJSON(),body:y,duplex:"half",credentials:re?T:void 0};I=s&&new r(g,Q);let L=await(s?R(I,P):R(g,Q));const G=c&&(O==="stream"||O==="response");if(c&&(_||G&&q)){const z={};["status","statusText","headers"].forEach(ke=>{z[ke]=L[ke]});const te=M.toFiniteNumber(L.headers.get("content-length")),[fe,ye]=_&&fN(te,Nf(pN(_),!0))||[];L=new n(vN(L.body,yN,fe,()=>{ye&&ye(),q&&q()}),z)}O=O||"text";let U=await d[M.findKey(d,O)||"text"](L,m);return!G&&q&&q(),await new Promise((z,te)=>{L7(z,te,{data:U,headers:Qr.from(L.headers),status:L.status,statusText:L.statusText,config:m,request:I})})}catch(re){throw q&&q(),re&&re.name==="TypeError"&&/Load failed|fetch/i.test(re.message)?Object.assign(new Ce("Network Error",Ce.ERR_NETWORK,m,I),{cause:re.cause||re}):Ce.from(re,re&&re.code,m,I)}}},lte=new Map,U7=t=>{let e=t&&t.env||{};const{fetch:r,Request:n,Response:i}=e,s=[n,i,r];let o=s.length,a=o,l,u,c=lte;for(;a--;)l=s[a],u=c.get(l),u===void 0&&c.set(l,u=a?new Map:ate(e)),c=u;return u};U7();const cC={http:Oee,xhr:tte,fetch:{get:U7}};M.forEach(cC,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const xN=t=>`- ${t}`,ute=t=>M.isFunction(t)||t===null||t===!1;function cte(t,e){t=M.isArray(t)?t:[t];const{length:r}=t;let n,i;const s={};for(let o=0;o<r;o++){n=t[o];let a;if(i=n,!ute(n)&&(i=cC[(a=String(n)).toLowerCase()],i===void 0))throw new Ce(`Unknown adapter '${a}'`);if(i&&(M.isFunction(i)||(i=i.get(e))))break;s[a||"#"+o]=i}if(!i){const o=Object.entries(s).map(([l,u])=>`adapter ${l} `+(u===!1?"is not supported by the environment":"is not available in the build"));let a=r?o.length>1?`since :
`+o.map(xN).join(`
`):" "+xN(o[0]):"as no adapter specified";throw new Ce("There is no suitable adapter to dispatch the request "+a,"ERR_NOT_SUPPORT")}return i}const W7={getAdapter:cte,adapters:cC};function Dm(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new nu(null,t)}function _N(t){return Dm(t),t.headers=Qr.from(t.headers),t.data=km.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),W7.getAdapter(t.adapter||gd.adapter,t)(t).then(function(n){return Dm(t),n.data=km.call(t,t.transformResponse,n),n.headers=Qr.from(n.headers),n},function(n){return F7(n)||(Dm(t),n&&n.response&&(n.response.data=km.call(t,t.transformResponse,n.response),n.response.headers=Qr.from(n.response.headers))),Promise.reject(n)})}const H7="1.13.2",wp={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{wp[t]=function(n){return typeof n===t||"a"+(e<1?"n ":" ")+t}});const SN={};wp.transitional=function(e,r,n){function i(s,o){return"[Axios v"+H7+"] Transitional option '"+s+"'"+o+(n?". "+n:"")}return(s,o,a)=>{if(e===!1)throw new Ce(i(o," has been removed"+(r?" in "+r:"")),Ce.ERR_DEPRECATED);return r&&!SN[o]&&(SN[o]=!0,console.warn(i(o," has been deprecated since v"+r+" and will be removed in the near future"))),e?e(s,o,a):!0}};wp.spelling=function(e){return(r,n)=>(console.warn(`${n} is likely a misspelling of ${e}`),!0)};function dte(t,e,r){if(typeof t!="object")throw new Ce("options must be an object",Ce.ERR_BAD_OPTION_VALUE);const n=Object.keys(t);let i=n.length;for(;i-- >0;){const s=n[i],o=e[s];if(o){const a=t[s],l=a===void 0||o(a,s,t);if(l!==!0)throw new Ce("option "+s+" must be "+l,Ce.ERR_BAD_OPTION_VALUE);continue}if(r!==!0)throw new Ce("Unknown option "+s,Ce.ERR_BAD_OPTION)}}const Qh={assertOptions:dte,validators:wp},ii=Qh.validators;let Lo=class{constructor(e){this.defaults=e||{},this.interceptors={request:new dN,response:new dN}}async request(e,r){try{return await this._request(e,r)}catch(n){if(n instanceof Error){let i={};Error.captureStackTrace?Error.captureStackTrace(i):i=new Error;const s=i.stack?i.stack.replace(/^.+\n/,""):"";try{n.stack?s&&!String(n.stack).endsWith(s.replace(/^.+\n.+\n/,""))&&(n.stack+=`
`+s):n.stack=s}catch{}}throw n}}_request(e,r){typeof e=="string"?(r=r||{},r.url=e):r=e||{},r=ra(this.defaults,r);const{transitional:n,paramsSerializer:i,headers:s}=r;n!==void 0&&Qh.assertOptions(n,{silentJSONParsing:ii.transitional(ii.boolean),forcedJSONParsing:ii.transitional(ii.boolean),clarifyTimeoutError:ii.transitional(ii.boolean)},!1),i!=null&&(M.isFunction(i)?r.paramsSerializer={serialize:i}:Qh.assertOptions(i,{encode:ii.function,serialize:ii.function},!0)),r.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?r.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:r.allowAbsoluteUrls=!0),Qh.assertOptions(r,{baseUrl:ii.spelling("baseURL"),withXsrfToken:ii.spelling("withXSRFToken")},!0),r.method=(r.method||this.defaults.method||"get").toLowerCase();let o=s&&M.merge(s.common,s[r.method]);s&&M.forEach(["delete","get","head","post","put","patch","common"],m=>{delete s[m]}),r.headers=Qr.concat(o,s);const a=[];let l=!0;this.interceptors.request.forEach(function(g){typeof g.runWhen=="function"&&g.runWhen(r)===!1||(l=l&&g.synchronous,a.unshift(g.fulfilled,g.rejected))});const u=[];this.interceptors.response.forEach(function(g){u.push(g.fulfilled,g.rejected)});let c,d=0,f;if(!l){const m=[_N.bind(this),void 0];for(m.unshift(...a),m.push(...u),f=m.length,c=Promise.resolve(r);d<f;)c=c.then(m[d++],m[d++]);return c}f=a.length;let p=r;for(;d<f;){const m=a[d++],g=a[d++];try{p=m(p)}catch(b){g.call(this,b);break}}try{c=_N.call(this,p)}catch(m){return Promise.reject(m)}for(d=0,f=u.length;d<f;)c=c.then(u[d++],u[d++]);return c}getUri(e){e=ra(this.defaults,e);const r=B7(e.baseURL,e.url,e.allowAbsoluteUrls);return q7(r,e.params,e.paramsSerializer)}};M.forEach(["delete","get","head","options"],function(e){Lo.prototype[e]=function(r,n){return this.request(ra(n||{},{method:e,url:r,data:(n||{}).data}))}});M.forEach(["post","put","patch"],function(e){function r(n){return function(s,o,a){return this.request(ra(a||{},{method:e,headers:n?{"Content-Type":"multipart/form-data"}:{},url:s,data:o}))}}Lo.prototype[e]=r(),Lo.prototype[e+"Form"]=r(!0)});let hte=class V7{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let r;this.promise=new Promise(function(s){r=s});const n=this;this.promise.then(i=>{if(!n._listeners)return;let s=n._listeners.length;for(;s-- >0;)n._listeners[s](i);n._listeners=null}),this.promise.then=i=>{let s;const o=new Promise(a=>{n.subscribe(a),s=a}).then(i);return o.cancel=function(){n.unsubscribe(s)},o},e(function(s,o,a){n.reason||(n.reason=new nu(s,o,a),r(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const r=this._listeners.indexOf(e);r!==-1&&this._listeners.splice(r,1)}toAbortSignal(){const e=new AbortController,r=n=>{e.abort(n)};return this.subscribe(r),e.signal.unsubscribe=()=>this.unsubscribe(r),e.signal}static source(){let e;return{token:new V7(function(i){e=i}),cancel:e}}};function fte(t){return function(r){return t.apply(null,r)}}function pte(t){return M.isObject(t)&&t.isAxiosError===!0}const kP={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(kP).forEach(([t,e])=>{kP[e]=t});function K7(t){const e=new Lo(t),r=E7(Lo.prototype.request,e);return M.extend(r,Lo.prototype,e,{allOwnKeys:!0}),M.extend(r,e,null,{allOwnKeys:!0}),r.create=function(i){return K7(ra(t,i))},r}const Ct=K7(gd);Ct.Axios=Lo;Ct.CanceledError=nu;Ct.CancelToken=hte;Ct.isCancel=F7;Ct.VERSION=H7;Ct.toFormData=bp;Ct.AxiosError=Ce;Ct.Cancel=Ct.CanceledError;Ct.all=function(e){return Promise.all(e)};Ct.spread=fte;Ct.isAxiosError=pte;Ct.mergeConfig=ra;Ct.AxiosHeaders=Qr;Ct.formToJSON=t=>A7(M.isHTMLForm(t)?new FormData(t):t);Ct.getAdapter=W7.getAdapter;Ct.HttpStatusCode=kP;Ct.default=Ct;const{Axios:Ibe,AxiosError:Rbe,CanceledError:Nbe,isCancel:$be,CancelToken:jbe,VERSION:kbe,all:Dbe,Cancel:qbe,isAxiosError:Mbe,spread:Abe,toFormData:Fbe,AxiosHeaders:Lbe,HttpStatusCode:Bbe,formToJSON:zbe,getAdapter:Ube,mergeConfig:Wbe}=Ct,DP=window.prmConfig||{},Se=Ct.create({baseURL:DP.apiUrl||"/wp-json",headers:{"Content-Type":"application/json","X-WP-Nonce":DP.nonce||""}});Se.interceptors.request.use(t=>{var e;return(e=window.prmConfig)!=null&&e.nonce&&(t.headers["X-WP-Nonce"]=window.prmConfig.nonce),t});Se.interceptors.response.use(t=>t,t=>{var e,r;return((e=t.response)==null?void 0:e.status)===401&&(window.location.href=DP.loginUrl||"/wp-login.php"),((r=t.response)==null?void 0:r.status)===403&&console.error("Access denied:",t.response.data),Promise.reject(t)});const Le={getPeople:t=>Se.get("/wp/v2/people",{params:t}),getPerson:(t,e={})=>Se.get(`/wp/v2/people/${t}`,{params:e}),createPerson:t=>Se.post("/wp/v2/people",t),updatePerson:(t,e)=>Se.put(`/wp/v2/people/${t}`,e),deletePerson:t=>Se.delete(`/wp/v2/people/${t}`),getCompanies:t=>Se.get("/wp/v2/companies",{params:t}),getCompany:(t,e={})=>Se.get(`/wp/v2/companies/${t}`,{params:e}),createCompany:t=>Se.post("/wp/v2/companies",t),updateCompany:(t,e)=>Se.put(`/wp/v2/companies/${t}`,e),deleteCompany:t=>Se.delete(`/wp/v2/companies/${t}`),getDates:t=>Se.get("/wp/v2/important-dates",{params:t}),getDate:t=>Se.get(`/wp/v2/important-dates/${t}`),createDate:t=>Se.post("/wp/v2/important-dates",t),updateDate:(t,e)=>Se.put(`/wp/v2/important-dates/${t}`,e),deleteDate:t=>Se.delete(`/wp/v2/important-dates/${t}`),getPersonLabels:()=>Se.get("/wp/v2/person_label"),getCompanyLabels:()=>Se.get("/wp/v2/company_label"),getRelationshipTypes:()=>Se.get("/wp/v2/relationship_type",{params:{per_page:100,_fields:"id,name,slug,acf"}}),createRelationshipType:t=>Se.post("/wp/v2/relationship_type",t),updateRelationshipType:(t,e)=>Se.post(`/wp/v2/relationship_type/${t}`,e),deleteRelationshipType:t=>Se.delete(`/wp/v2/relationship_type/${t}?force=true`),restoreRelationshipTypeDefaults:()=>Se.post("/prm/v1/relationship-types/restore-defaults"),getDateTypes:()=>Se.get("/wp/v2/date_type",{params:{per_page:100}}),uploadMedia:t=>{const e=new FormData;return e.append("file",t),Se.post("/wp/v2/media",e,{headers:{"Content-Type":"multipart/form-data"}})}},Xr={getDashboard:()=>Se.get("/prm/v1/dashboard"),sideloadGravatar:(t,e)=>Se.post(`/prm/v1/people/${t}/gravatar`,{email:e}),getCurrentUser:()=>Se.get("/prm/v1/user/me"),search:t=>Se.get("/prm/v1/search",{params:{q:t}}),getReminders:(t=30)=>Se.get("/prm/v1/reminders",{params:{days_ahead:t}}),getPersonDates:t=>Se.get(`/prm/v1/people/${t}/dates`),getPersonTimeline:t=>Se.get(`/prm/v1/people/${t}/timeline`),getPersonNotes:t=>Se.get(`/prm/v1/people/${t}/notes`),createNote:(t,e)=>Se.post(`/prm/v1/people/${t}/notes`,{content:e}),updateNote:(t,e)=>Se.put(`/prm/v1/notes/${t}`,{content:e}),deleteNote:t=>Se.delete(`/prm/v1/notes/${t}`),getPersonActivities:t=>Se.get(`/prm/v1/people/${t}/activities`),createActivity:(t,e)=>Se.post(`/prm/v1/people/${t}/activities`,e),updateActivity:(t,e)=>Se.put(`/prm/v1/activities/${t}`,e),deleteActivity:t=>Se.delete(`/prm/v1/activities/${t}`),getCompanyPeople:t=>Se.get(`/prm/v1/companies/${t}/people`),setCompanyLogo:(t,e)=>Se.post(`/prm/v1/companies/${t}/logo`,{media_id:e}),uploadPersonPhoto:(t,e)=>{const r=new FormData;return r.append("file",e),Se.post(`/prm/v1/people/${t}/photo`,r,{headers:{"Content-Type":"multipart/form-data"}})},uploadCompanyLogo:(t,e)=>{const r=new FormData;return r.append("file",e),Se.post(`/prm/v1/companies/${t}/logo/upload`,r,{headers:{"Content-Type":"multipart/form-data"}})}};function mte(){return ft({queryKey:["dashboard"],queryFn:async()=>(await Xr.getDashboard()).data})}function vte(t=30){return ft({queryKey:["reminders",t],queryFn:async()=>(await Xr.getReminders(t)).data})}function yte(t){const e=typeof t=="string"?t:"",r=e.length>=2;return ft({queryKey:["search",e],queryFn:async()=>r?(await Xr.search(e)).data:{people:[],companies:[],dates:[]},enabled:r})}const gte=[{name:"Dashboard",href:"/",icon:TZ},{name:"People",href:"/people",icon:zc},{name:"Companies",href:"/companies",icon:ea},{name:"Dates",href:"/dates",icon:ta},{name:"Settings",href:"/settings",icon:b7}];function EN({mobile:t=!1,onClose:e}){const{logoutUrl:r}=mp();return h.jsxs("div",{className:"flex flex-col h-full bg-white border-r border-gray-200",children:[h.jsxs("div",{className:"flex items-center justify-between h-16 px-4 border-b border-gray-200",children:[h.jsxs(ve,{to:"/",className:"flex items-center gap-2 text-xl font-bold text-primary-600",children:[h.jsx(w7,{className:"w-5 h-5"}),Ll]}),t&&h.jsx("button",{onClick:e,className:"p-2 -mr-2",children:h.jsx(Js,{className:"w-5 h-5"})})]}),h.jsx("nav",{className:"flex-1 px-2 py-4 space-y-1 overflow-y-auto",children:gte.map(n=>h.jsxs(AJ,{to:n.href,onClick:t?e:void 0,className:({isActive:i})=>`flex items-center px-3 py-2 text-sm font-medium rounded-lg transition-colors ${i?"bg-primary-50 text-primary-700":"text-gray-700 hover:bg-gray-50"}`,children:[h.jsx(n.icon,{className:"w-5 h-5 mr-3"}),n.name]},n.name))}),h.jsx("div",{className:"p-4 border-t border-gray-200",children:h.jsxs("a",{href:r,className:"flex items-center px-3 py-2 text-sm font-medium text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:[h.jsx(IZ,{className:"w-5 h-5 mr-3"}),"Log Out"]})})]})}function bte(){var o;const[t,e]=j.useState(!1),r=j.useRef(null),{data:n,isLoading:i}=ft({queryKey:["current-user"],queryFn:async()=>(await Xr.getCurrentUser()).data});if(j.useEffect(()=>{const a=l=>{r.current&&!r.current.contains(l.target)&&e(!1)};if(t)return document.addEventListener("mousedown",a),()=>{document.removeEventListener("mousedown",a)}},[t]),i||!n)return h.jsx("div",{className:"flex items-center ml-auto",children:h.jsx("div",{className:"w-8 h-8 bg-gray-200 rounded-full animate-pulse"})});const s=((o=n.name)==null?void 0:o.split(" ").map(a=>a[0]).join("").toUpperCase().slice(0,2))||"?";return h.jsxs("div",{className:"relative ml-auto",ref:r,children:[h.jsxs("button",{onClick:()=>e(!t),className:"flex items-center gap-2 p-1 rounded-full hover:bg-gray-100 transition-colors","aria-label":"User menu",children:[n.avatar_url?h.jsx("img",{src:n.avatar_url,alt:n.name,className:"w-8 h-8 rounded-full object-cover"}):h.jsx("div",{className:"w-8 h-8 bg-primary-100 rounded-full flex items-center justify-center",children:h.jsx("span",{className:"text-sm font-medium text-primary-700",children:s})}),h.jsx(SZ,{className:`w-4 h-4 text-gray-500 transition-transform ${t?"rotate-180":""}`})]}),t&&h.jsx("div",{className:"absolute right-0 mt-2 w-48 bg-white border border-gray-200 rounded-lg shadow-lg z-50",children:h.jsxs("div",{className:"py-1",children:[h.jsxs("a",{href:n.profile_url,target:"_blank",rel:"noopener noreferrer",className:"flex items-center px-4 py-2 text-sm text-gray-700 hover:bg-gray-50 transition-colors",onClick:()=>e(!1),children:[h.jsx(_7,{className:"w-4 h-4 mr-2"}),"Edit profile"]}),n.is_admin&&h.jsxs("a",{href:n.admin_url,target:"_blank",rel:"noopener noreferrer",className:"flex items-center px-4 py-2 text-sm text-gray-700 hover:bg-gray-50 transition-colors",onClick:()=>e(!1),children:[h.jsx(b7,{className:"w-4 h-4 mr-2"}),"WordPress admin"]})]})})]})}function wte({onMenuClick:t}){const[e,r]=j.useState(""),[n,i]=j.useState(!1),s=Zi(),o=en(),a=j.useRef(null),l=j.useRef(null),u=e.trim(),{data:c,isLoading:d}=yte(u),f=()=>{const y=s.pathname;return y==="/"?"Dashboard":y.startsWith("/people")?"People":y.startsWith("/companies")?"Companies":y.startsWith("/dates")?"Important Dates":y.startsWith("/settings")?"Settings":""};j.useEffect(()=>{const y=v=>{l.current&&!l.current.contains(v.target)&&a.current&&!a.current.contains(v.target)&&i(!1)};return document.addEventListener("mousedown",y),()=>{document.removeEventListener("mousedown",y)}},[]);const p=(y,v)=>{i(!1),r(""),y==="person"?o(`/people/${v}`):y==="company"?o(`/companies/${v}`):y==="date"&&o(`/dates/${v}/edit`)},m=c||{people:[],companies:[],dates:[]},g=m.people&&m.people.length>0||m.companies&&m.companies.length>0||m.dates&&m.dates.length>0,b=n&&e.trim().length>=2;return h.jsxs("header",{className:"sticky top-0 z-10 flex items-center h-16 px-4 bg-white border-b border-gray-200 lg:px-6",children:[h.jsx("button",{onClick:t,className:"p-2 -ml-2 lg:hidden",children:h.jsx($Z,{className:"w-5 h-5"})}),h.jsx("h1",{className:"ml-2 text-lg font-semibold lg:ml-0",children:f()}),h.jsx("div",{className:"flex-1 flex justify-center max-w-2xl mx-4 lg:mx-8",children:h.jsxs("div",{className:"relative w-full",ref:a,children:[h.jsx(g7,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}),h.jsx("input",{type:"search",placeholder:"Search people, companies, dates...",value:e,onChange:y=>r(y.target.value),onFocus:()=>i(!0),className:"input pl-9 w-full"}),b&&h.jsx("div",{ref:l,className:"absolute top-full left-0 right-0 mt-2 bg-white border border-gray-200 rounded-lg shadow-lg max-h-96 overflow-y-auto z-50",children:d?h.jsxs("div",{className:"p-4 text-center text-gray-500",children:[h.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-primary-600 mx-auto"}),h.jsx("p",{className:"mt-2 text-sm",children:"Searching..."})]}):g?h.jsxs("div",{className:"py-2",children:[m.people&&m.people.length>0&&h.jsxs("div",{className:"px-3 py-2",children:[h.jsx("div",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wide mb-2 px-2",children:"People"}),m.people.map(y=>h.jsxs("button",{onClick:()=>p("person",y.id),className:"w-full flex items-center gap-3 px-2 py-2 rounded-lg hover:bg-gray-50 transition-colors text-left",children:[h.jsx(_7,{className:"w-4 h-4 text-gray-400 flex-shrink-0"}),h.jsx("span",{className:"text-sm font-medium text-gray-900 flex-1 truncate",children:y.name})]},y.id))]}),m.companies&&m.companies.length>0&&h.jsxs("div",{className:"px-3 py-2 border-t border-gray-100",children:[h.jsx("div",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wide mb-2 px-2",children:"Companies"}),m.companies.map(y=>h.jsxs("button",{onClick:()=>p("company",y.id),className:"w-full flex items-center gap-3 px-2 py-2 rounded-lg hover:bg-gray-50 transition-colors text-left",children:[h.jsx(_Z,{className:"w-4 h-4 text-gray-400 flex-shrink-0"}),h.jsx("span",{className:"text-sm font-medium text-gray-900 flex-1 truncate",children:y.name})]},y.id))]}),m.dates&&m.dates.length>0&&h.jsxs("div",{className:"px-3 py-2 border-t border-gray-100",children:[h.jsx("div",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wide mb-2 px-2",children:"Dates"}),m.dates.map(y=>h.jsxs("button",{onClick:()=>p("date",y.id),className:"w-full flex items-center gap-3 px-2 py-2 rounded-lg hover:bg-gray-50 transition-colors text-left",children:[h.jsx(ta,{className:"w-4 h-4 text-gray-400 flex-shrink-0"}),h.jsx("span",{className:"text-sm font-medium text-gray-900 flex-1 truncate",children:y.title})]},y.id))]})]}):h.jsx("div",{className:"p-4 text-center text-gray-500",children:h.jsx("p",{className:"text-sm",children:"No results found"})})})]})}),h.jsx(bte,{})]})}function xte({children:t}){const[e,r]=j.useState(!1);return S7(),h.jsxs("div",{className:"flex h-screen bg-gray-50",children:[h.jsx("div",{className:"hidden lg:flex lg:w-64 lg:flex-col",children:h.jsx(EN,{})}),e&&h.jsxs("div",{className:"fixed inset-0 z-40 lg:hidden",children:[h.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-75",onClick:()=>r(!1)}),h.jsx("div",{className:"fixed inset-y-0 left-0 flex flex-col w-64 bg-white",children:h.jsx(EN,{mobile:!0,onClose:()=>r(!1)})})]}),h.jsxs("div",{className:"flex flex-col flex-1 min-w-0",children:[h.jsx(wte,{onMenuClick:()=>r(!0)}),h.jsx("main",{className:"flex-1 overflow-y-auto p-4 lg:p-6",children:t})]})]})}function ur(t){const e=Object.prototype.toString.call(t);return t instanceof Date||typeof t=="object"&&e==="[object Date]"?new t.constructor(+t):typeof t=="number"||e==="[object Number]"||typeof t=="string"||e==="[object String]"?new Date(t):new Date(NaN)}function na(t,e){return t instanceof Date?new t.constructor(e):new Date(e)}const G7=6048e5,_te=864e5;let Ste={};function xp(){return Ste}function Uc(t,e){var a,l,u,c;const r=xp(),n=(e==null?void 0:e.weekStartsOn)??((l=(a=e==null?void 0:e.locale)==null?void 0:a.options)==null?void 0:l.weekStartsOn)??r.weekStartsOn??((c=(u=r.locale)==null?void 0:u.options)==null?void 0:c.weekStartsOn)??0,i=ur(t),s=i.getDay(),o=(s<n?7:0)+s-n;return i.setDate(i.getDate()-o),i.setHours(0,0,0,0),i}function $f(t){return Uc(t,{weekStartsOn:1})}function Y7(t){const e=ur(t),r=e.getFullYear(),n=na(t,0);n.setFullYear(r+1,0,4),n.setHours(0,0,0,0);const i=$f(n),s=na(t,0);s.setFullYear(r,0,4),s.setHours(0,0,0,0);const o=$f(s);return e.getTime()>=i.getTime()?r+1:e.getTime()>=o.getTime()?r:r-1}function ON(t){const e=ur(t);return e.setHours(0,0,0,0),e}function PN(t){const e=ur(t),r=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return r.setUTCFullYear(e.getFullYear()),+t-+r}function Ete(t,e){const r=ON(t),n=ON(e),i=+r-PN(r),s=+n-PN(n);return Math.round((i-s)/_te)}function Ote(t){const e=Y7(t),r=na(t,0);return r.setFullYear(e,0,4),r.setHours(0,0,0,0),$f(r)}function TN(t,e){const r=ur(t),n=ur(e),i=r.getTime()-n.getTime();return i<0?-1:i>0?1:i}function Pte(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function Tte(t){if(!Pte(t)&&typeof t!="number")return!1;const e=ur(t);return!isNaN(Number(e))}function Cte(t,e){const r=ur(t),n=ur(e);return r.getFullYear()-n.getFullYear()}function qm(t,e){const r=ur(t),n=ur(e),i=TN(r,n),s=Math.abs(Cte(r,n));r.setFullYear(1584),n.setFullYear(1584);const o=TN(r,n)===-i,a=i*(s-+o);return a===0?0:a}function Ite(t){const e=ur(t),r=na(t,0);return r.setFullYear(e.getFullYear(),0,1),r.setHours(0,0,0,0),r}const Rte={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},Nte=(t,e,r)=>{let n;const i=Rte[t];return typeof i=="string"?n=i:e===1?n=i.one:n=i.other.replace("{{count}}",e.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+n:n+" ago":n};function Mm(t){return(e={})=>{const r=e.width?String(e.width):t.defaultWidth;return t.formats[r]||t.formats[t.defaultWidth]}}const $te={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},jte={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},kte={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},Dte={date:Mm({formats:$te,defaultWidth:"full"}),time:Mm({formats:jte,defaultWidth:"full"}),dateTime:Mm({formats:kte,defaultWidth:"full"})},qte={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},Mte=(t,e,r,n)=>qte[t];function zu(t){return(e,r)=>{const n=r!=null&&r.context?String(r.context):"standalone";let i;if(n==="formatting"&&t.formattingValues){const o=t.defaultFormattingWidth||t.defaultWidth,a=r!=null&&r.width?String(r.width):o;i=t.formattingValues[a]||t.formattingValues[o]}else{const o=t.defaultWidth,a=r!=null&&r.width?String(r.width):t.defaultWidth;i=t.values[a]||t.values[o]}const s=t.argumentCallback?t.argumentCallback(e):e;return i[s]}}const Ate={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},Fte={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},Lte={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},Bte={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},zte={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},Ute={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},Wte=(t,e)=>{const r=Number(t),n=r%100;if(n>20||n<10)switch(n%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},Hte={ordinalNumber:Wte,era:zu({values:Ate,defaultWidth:"wide"}),quarter:zu({values:Fte,defaultWidth:"wide",argumentCallback:t=>t-1}),month:zu({values:Lte,defaultWidth:"wide"}),day:zu({values:Bte,defaultWidth:"wide"}),dayPeriod:zu({values:zte,defaultWidth:"wide",formattingValues:Ute,defaultFormattingWidth:"wide"})};function Uu(t){return(e,r={})=>{const n=r.width,i=n&&t.matchPatterns[n]||t.matchPatterns[t.defaultMatchWidth],s=e.match(i);if(!s)return null;const o=s[0],a=n&&t.parsePatterns[n]||t.parsePatterns[t.defaultParseWidth],l=Array.isArray(a)?Kte(a,d=>d.test(o)):Vte(a,d=>d.test(o));let u;u=t.valueCallback?t.valueCallback(l):l,u=r.valueCallback?r.valueCallback(u):u;const c=e.slice(o.length);return{value:u,rest:c}}}function Vte(t,e){for(const r in t)if(Object.prototype.hasOwnProperty.call(t,r)&&e(t[r]))return r}function Kte(t,e){for(let r=0;r<t.length;r++)if(e(t[r]))return r}function Gte(t){return(e,r={})=>{const n=e.match(t.matchPattern);if(!n)return null;const i=n[0],s=e.match(t.parsePattern);if(!s)return null;let o=t.valueCallback?t.valueCallback(s[0]):s[0];o=r.valueCallback?r.valueCallback(o):o;const a=e.slice(i.length);return{value:o,rest:a}}}const Yte=/^(\d+)(th|st|nd|rd)?/i,Qte=/\d+/i,Xte={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},Jte={any:[/^b/i,/^(a|c)/i]},Zte={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},ere={any:[/1/i,/2/i,/3/i,/4/i]},tre={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},rre={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},nre={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},ire={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},sre={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},ore={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},are={ordinalNumber:Gte({matchPattern:Yte,parsePattern:Qte,valueCallback:t=>parseInt(t,10)}),era:Uu({matchPatterns:Xte,defaultMatchWidth:"wide",parsePatterns:Jte,defaultParseWidth:"any"}),quarter:Uu({matchPatterns:Zte,defaultMatchWidth:"wide",parsePatterns:ere,defaultParseWidth:"any",valueCallback:t=>t+1}),month:Uu({matchPatterns:tre,defaultMatchWidth:"wide",parsePatterns:rre,defaultParseWidth:"any"}),day:Uu({matchPatterns:nre,defaultMatchWidth:"wide",parsePatterns:ire,defaultParseWidth:"any"}),dayPeriod:Uu({matchPatterns:sre,defaultMatchWidth:"any",parsePatterns:ore,defaultParseWidth:"any"})},lre={code:"en-US",formatDistance:Nte,formatLong:Dte,formatRelative:Mte,localize:Hte,match:are,options:{weekStartsOn:0,firstWeekContainsDate:1}};function ure(t){const e=ur(t);return Ete(e,Ite(e))+1}function cre(t){const e=ur(t),r=+$f(e)-+Ote(e);return Math.round(r/G7)+1}function Q7(t,e){var c,d,f,p;const r=ur(t),n=r.getFullYear(),i=xp(),s=(e==null?void 0:e.firstWeekContainsDate)??((d=(c=e==null?void 0:e.locale)==null?void 0:c.options)==null?void 0:d.firstWeekContainsDate)??i.firstWeekContainsDate??((p=(f=i.locale)==null?void 0:f.options)==null?void 0:p.firstWeekContainsDate)??1,o=na(t,0);o.setFullYear(n+1,0,s),o.setHours(0,0,0,0);const a=Uc(o,e),l=na(t,0);l.setFullYear(n,0,s),l.setHours(0,0,0,0);const u=Uc(l,e);return r.getTime()>=a.getTime()?n+1:r.getTime()>=u.getTime()?n:n-1}function dre(t,e){var a,l,u,c;const r=xp(),n=(e==null?void 0:e.firstWeekContainsDate)??((l=(a=e==null?void 0:e.locale)==null?void 0:a.options)==null?void 0:l.firstWeekContainsDate)??r.firstWeekContainsDate??((c=(u=r.locale)==null?void 0:u.options)==null?void 0:c.firstWeekContainsDate)??1,i=Q7(t,e),s=na(t,0);return s.setFullYear(i,0,n),s.setHours(0,0,0,0),Uc(s,e)}function hre(t,e){const r=ur(t),n=+Uc(r,e)-+dre(r,e);return Math.round(n/G7)+1}function ze(t,e){const r=t<0?"-":"",n=Math.abs(t).toString().padStart(e,"0");return r+n}const us={y(t,e){const r=t.getFullYear(),n=r>0?r:1-r;return ze(e==="yy"?n%100:n,e.length)},M(t,e){const r=t.getMonth();return e==="M"?String(r+1):ze(r+1,2)},d(t,e){return ze(t.getDate(),e.length)},a(t,e){const r=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h(t,e){return ze(t.getHours()%12||12,e.length)},H(t,e){return ze(t.getHours(),e.length)},m(t,e){return ze(t.getMinutes(),e.length)},s(t,e){return ze(t.getSeconds(),e.length)},S(t,e){const r=e.length,n=t.getMilliseconds(),i=Math.trunc(n*Math.pow(10,r-3));return ze(i,e.length)}},Da={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},CN={G:function(t,e,r){const n=t.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return r.era(n,{width:"abbreviated"});case"GGGGG":return r.era(n,{width:"narrow"});case"GGGG":default:return r.era(n,{width:"wide"})}},y:function(t,e,r){if(e==="yo"){const n=t.getFullYear(),i=n>0?n:1-n;return r.ordinalNumber(i,{unit:"year"})}return us.y(t,e)},Y:function(t,e,r,n){const i=Q7(t,n),s=i>0?i:1-i;if(e==="YY"){const o=s%100;return ze(o,2)}return e==="Yo"?r.ordinalNumber(s,{unit:"year"}):ze(s,e.length)},R:function(t,e){const r=Y7(t);return ze(r,e.length)},u:function(t,e){const r=t.getFullYear();return ze(r,e.length)},Q:function(t,e,r){const n=Math.ceil((t.getMonth()+1)/3);switch(e){case"Q":return String(n);case"QQ":return ze(n,2);case"Qo":return r.ordinalNumber(n,{unit:"quarter"});case"QQQ":return r.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(n,{width:"wide",context:"formatting"})}},q:function(t,e,r){const n=Math.ceil((t.getMonth()+1)/3);switch(e){case"q":return String(n);case"qq":return ze(n,2);case"qo":return r.ordinalNumber(n,{unit:"quarter"});case"qqq":return r.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(n,{width:"wide",context:"standalone"})}},M:function(t,e,r){const n=t.getMonth();switch(e){case"M":case"MM":return us.M(t,e);case"Mo":return r.ordinalNumber(n+1,{unit:"month"});case"MMM":return r.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(n,{width:"wide",context:"formatting"})}},L:function(t,e,r){const n=t.getMonth();switch(e){case"L":return String(n+1);case"LL":return ze(n+1,2);case"Lo":return r.ordinalNumber(n+1,{unit:"month"});case"LLL":return r.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(n,{width:"wide",context:"standalone"})}},w:function(t,e,r,n){const i=hre(t,n);return e==="wo"?r.ordinalNumber(i,{unit:"week"}):ze(i,e.length)},I:function(t,e,r){const n=cre(t);return e==="Io"?r.ordinalNumber(n,{unit:"week"}):ze(n,e.length)},d:function(t,e,r){return e==="do"?r.ordinalNumber(t.getDate(),{unit:"date"}):us.d(t,e)},D:function(t,e,r){const n=ure(t);return e==="Do"?r.ordinalNumber(n,{unit:"dayOfYear"}):ze(n,e.length)},E:function(t,e,r){const n=t.getDay();switch(e){case"E":case"EE":case"EEE":return r.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(n,{width:"short",context:"formatting"});case"EEEE":default:return r.day(n,{width:"wide",context:"formatting"})}},e:function(t,e,r,n){const i=t.getDay(),s=(i-n.weekStartsOn+8)%7||7;switch(e){case"e":return String(s);case"ee":return ze(s,2);case"eo":return r.ordinalNumber(s,{unit:"day"});case"eee":return r.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(i,{width:"short",context:"formatting"});case"eeee":default:return r.day(i,{width:"wide",context:"formatting"})}},c:function(t,e,r,n){const i=t.getDay(),s=(i-n.weekStartsOn+8)%7||7;switch(e){case"c":return String(s);case"cc":return ze(s,e.length);case"co":return r.ordinalNumber(s,{unit:"day"});case"ccc":return r.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(i,{width:"narrow",context:"standalone"});case"cccccc":return r.day(i,{width:"short",context:"standalone"});case"cccc":default:return r.day(i,{width:"wide",context:"standalone"})}},i:function(t,e,r){const n=t.getDay(),i=n===0?7:n;switch(e){case"i":return String(i);case"ii":return ze(i,e.length);case"io":return r.ordinalNumber(i,{unit:"day"});case"iii":return r.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(n,{width:"short",context:"formatting"});case"iiii":default:return r.day(n,{width:"wide",context:"formatting"})}},a:function(t,e,r){const i=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(t,e,r){const n=t.getHours();let i;switch(n===12?i=Da.noon:n===0?i=Da.midnight:i=n/12>=1?"pm":"am",e){case"b":case"bb":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(t,e,r){const n=t.getHours();let i;switch(n>=17?i=Da.evening:n>=12?i=Da.afternoon:n>=4?i=Da.morning:i=Da.night,e){case"B":case"BB":case"BBB":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(t,e,r){if(e==="ho"){let n=t.getHours()%12;return n===0&&(n=12),r.ordinalNumber(n,{unit:"hour"})}return us.h(t,e)},H:function(t,e,r){return e==="Ho"?r.ordinalNumber(t.getHours(),{unit:"hour"}):us.H(t,e)},K:function(t,e,r){const n=t.getHours()%12;return e==="Ko"?r.ordinalNumber(n,{unit:"hour"}):ze(n,e.length)},k:function(t,e,r){let n=t.getHours();return n===0&&(n=24),e==="ko"?r.ordinalNumber(n,{unit:"hour"}):ze(n,e.length)},m:function(t,e,r){return e==="mo"?r.ordinalNumber(t.getMinutes(),{unit:"minute"}):us.m(t,e)},s:function(t,e,r){return e==="so"?r.ordinalNumber(t.getSeconds(),{unit:"second"}):us.s(t,e)},S:function(t,e){return us.S(t,e)},X:function(t,e,r){const n=t.getTimezoneOffset();if(n===0)return"Z";switch(e){case"X":return RN(n);case"XXXX":case"XX":return go(n);case"XXXXX":case"XXX":default:return go(n,":")}},x:function(t,e,r){const n=t.getTimezoneOffset();switch(e){case"x":return RN(n);case"xxxx":case"xx":return go(n);case"xxxxx":case"xxx":default:return go(n,":")}},O:function(t,e,r){const n=t.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+IN(n,":");case"OOOO":default:return"GMT"+go(n,":")}},z:function(t,e,r){const n=t.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+IN(n,":");case"zzzz":default:return"GMT"+go(n,":")}},t:function(t,e,r){const n=Math.trunc(t.getTime()/1e3);return ze(n,e.length)},T:function(t,e,r){const n=t.getTime();return ze(n,e.length)}};function IN(t,e=""){const r=t>0?"-":"+",n=Math.abs(t),i=Math.trunc(n/60),s=n%60;return s===0?r+String(i):r+String(i)+e+ze(s,2)}function RN(t,e){return t%60===0?(t>0?"-":"+")+ze(Math.abs(t)/60,2):go(t,e)}function go(t,e=""){const r=t>0?"-":"+",n=Math.abs(t),i=ze(Math.trunc(n/60),2),s=ze(n%60,2);return r+i+e+s}const NN=(t,e)=>{switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},X7=(t,e)=>{switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},fre=(t,e)=>{const r=t.match(/(P+)(p+)?/)||[],n=r[1],i=r[2];if(!i)return NN(t,e);let s;switch(n){case"P":s=e.dateTime({width:"short"});break;case"PP":s=e.dateTime({width:"medium"});break;case"PPP":s=e.dateTime({width:"long"});break;case"PPPP":default:s=e.dateTime({width:"full"});break}return s.replace("{{date}}",NN(n,e)).replace("{{time}}",X7(i,e))},pre={p:X7,P:fre},mre=/^D+$/,vre=/^Y+$/,yre=["D","DD","YY","YYYY"];function gre(t){return mre.test(t)}function bre(t){return vre.test(t)}function wre(t,e,r){const n=xre(t,e,r);if(console.warn(n),yre.includes(t))throw new RangeError(n)}function xre(t,e,r){const n=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${e}\`) for formatting ${n} to the input \`${r}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const _re=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Sre=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Ere=/^'([^]*?)'?$/,Ore=/''/g,Pre=/[a-zA-Z]/;function ci(t,e,r){var c,d,f,p;const n=xp(),i=n.locale??lre,s=n.firstWeekContainsDate??((d=(c=n.locale)==null?void 0:c.options)==null?void 0:d.firstWeekContainsDate)??1,o=n.weekStartsOn??((p=(f=n.locale)==null?void 0:f.options)==null?void 0:p.weekStartsOn)??0,a=ur(t);if(!Tte(a))throw new RangeError("Invalid time value");let l=e.match(Sre).map(m=>{const g=m[0];if(g==="p"||g==="P"){const b=pre[g];return b(m,i.formatLong)}return m}).join("").match(_re).map(m=>{if(m==="''")return{isToken:!1,value:"'"};const g=m[0];if(g==="'")return{isToken:!1,value:Tre(m)};if(CN[g])return{isToken:!0,value:m};if(g.match(Pre))throw new RangeError("Format string contains an unescaped latin alphabet character `"+g+"`");return{isToken:!1,value:m}});i.localize.preprocessor&&(l=i.localize.preprocessor(a,l));const u={firstWeekContainsDate:s,weekStartsOn:o,locale:i};return l.map(m=>{if(!m.isToken)return m.value;const g=m.value;(bre(g)||gre(g))&&wre(g,e,String(t));const b=CN[g[0]];return b(a,g,i.localize,u)}).join("")}function Tre(t){const e=t.match(Ere);return e?e[1].replace(Ore,"'"):t}function qa({title:t,value:e,icon:r,href:n}){return h.jsx(ve,{to:n,className:"card p-6 hover:shadow-md transition-shadow",children:h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsxs("div",{children:[h.jsx("p",{className:"text-sm font-medium text-gray-500",children:t}),h.jsx("p",{className:"mt-1 text-3xl font-semibold",children:e})]}),h.jsx("div",{className:"p-3 bg-primary-50 rounded-lg",children:h.jsx(r,{className:"w-6 h-6 text-primary-600"})})]})})}function $N({person:t}){var e,r;return h.jsxs(ve,{to:`/people/${t.id}`,className:"flex items-center p-3 rounded-lg hover:bg-gray-50 transition-colors",children:[t.thumbnail?h.jsx("img",{src:t.thumbnail,alt:t.name,loading:"lazy",className:"w-10 h-10 rounded-full object-cover"}):h.jsx("div",{className:"w-10 h-10 bg-gray-200 rounded-full flex items-center justify-center",children:h.jsx("span",{className:"text-sm font-medium text-gray-500",children:((e=t.first_name)==null?void 0:e[0])||"?"})}),h.jsxs("div",{className:"ml-3 flex-1 min-w-0",children:[h.jsx("p",{className:"text-sm font-medium text-gray-900 truncate",children:t.name}),((r=t.labels)==null?void 0:r.length)>0&&h.jsx("p",{className:"text-xs text-gray-500 truncate",children:t.labels.join(", ")})]}),t.is_favorite&&h.jsx(Bc,{className:"w-4 h-4 text-yellow-400 fill-current"})]})}function Cre({reminder:t}){var a,l,u,c,d;const e=t.days_until;let r="bg-gray-100 text-gray-700";e===0?r="bg-green-100 text-green-700":e<=3?r="bg-orange-100 text-orange-700":e<=7&&(r="bg-yellow-100 text-yellow-700");const n=((l=(a=t.related_people)==null?void 0:a[0])==null?void 0:l.name)||t.title,i=(c=(u=t.related_people)==null?void 0:u[0])==null?void 0:c.id,s=((d=t.related_people)==null?void 0:d.length)>0,o=h.jsxs(h.Fragment,{children:[h.jsx("div",{className:`px-2 py-1 rounded text-xs font-medium ${r}`,children:e===0?"Today":`${e}d`}),h.jsxs("div",{className:"ml-3 flex-1 min-w-0",children:[h.jsx("p",{className:"text-sm font-medium text-gray-900",children:n}),h.jsx("p",{className:"text-xs text-gray-500",children:ci(new Date(t.next_occurrence),"MMMM d, yyyy")}),s&&h.jsx("div",{className:"flex -space-x-2 mt-1",children:t.related_people.slice(0,3).map(f=>{var p;return f.thumbnail?h.jsx("img",{src:f.thumbnail,alt:f.name,loading:"lazy",className:"w-10 h-10 rounded-full border-2 border-white object-cover"},f.id):h.jsx("div",{className:"w-10 h-10 bg-gray-300 rounded-full border-2 border-white flex items-center justify-center",children:h.jsx("span",{className:"text-sm",children:(p=f.name)==null?void 0:p[0]})},f.id)})})]})]});return s&&i?h.jsx(ve,{to:`/people/${i}`,className:"flex items-start p-3 rounded-lg hover:bg-gray-50 transition-colors",children:o}):h.jsx("div",{className:"flex items-start p-3 rounded-lg hover:bg-gray-50 transition-colors",children:o})}function Ire(){return h.jsxs("div",{className:"card p-12 text-center",children:[h.jsx("div",{className:"flex justify-center mb-4",children:h.jsx("div",{className:"p-4 bg-primary-50 rounded-full",children:h.jsx(w7,{className:"w-12 h-12 text-primary-600"})})}),h.jsxs("h2",{className:"text-2xl font-semibold text-gray-900 mb-2",children:["Welcome to ",Ll,"!"]}),h.jsx("p",{className:"text-gray-600 mb-8 max-w-md mx-auto",children:"Get started by adding your first contact, company, or important date. Your dashboard will populate as you add more information."}),h.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[h.jsxs(ve,{to:"/people/new",className:"inline-flex items-center px-6 py-3 bg-primary-600 text-white rounded-lg hover:bg-primary-700 transition-colors",children:[h.jsx(yr,{className:"w-5 h-5 mr-2"}),"Add Your First Person"]}),h.jsxs(ve,{to:"/companies/new",className:"inline-flex items-center px-6 py-3 bg-white text-gray-700 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",children:[h.jsx(yr,{className:"w-5 h-5 mr-2"}),"Add Your First Company"]})]})]})}function Rre(){var u,c,d;const{data:t,isLoading:e,error:r}=mte();if(e)return h.jsx("div",{className:"flex items-center justify-center h-64",children:h.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"})});if(r){const f=((u=r==null?void 0:r.response)==null?void 0:u.status)>=500||!(r!=null&&r.response);return h.jsx("div",{className:"card p-8 text-center",children:h.jsx("div",{className:"text-red-600 mb-2",children:f?h.jsxs(h.Fragment,{children:[h.jsx("p",{className:"font-medium mb-1",children:"Failed to load dashboard data"}),h.jsx("p",{className:"text-sm text-gray-600",children:"Please check your connection and try refreshing the page."})]}):h.jsxs(h.Fragment,{children:[h.jsx("p",{className:"font-medium mb-1",children:"Unable to load dashboard"}),h.jsx("p",{className:"text-sm text-gray-600",children:((d=(c=r==null?void 0:r.response)==null?void 0:c.data)==null?void 0:d.message)||"An error occurred while loading your data."})]})})})}const{stats:n,recent_people:i,upcoming_reminders:s,favorites:o}=t||{};return((n==null?void 0:n.total_people)||0)+((n==null?void 0:n.total_companies)||0)+((n==null?void 0:n.total_dates)||0)===0?h.jsxs("div",{className:"space-y-6",children:[h.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:[h.jsx(qa,{title:"Total People",value:0,icon:zc,href:"/people"}),h.jsx(qa,{title:"Companies",value:0,icon:ea,href:"/companies"}),h.jsx(qa,{title:"Important Dates",value:0,icon:ta,href:"/dates"})]}),h.jsx(Ire,{})]}):h.jsxs("div",{className:"space-y-6",children:[h.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:[h.jsx(qa,{title:"Total People",value:(n==null?void 0:n.total_people)||0,icon:zc,href:"/people"}),h.jsx(qa,{title:"Companies",value:(n==null?void 0:n.total_companies)||0,icon:ea,href:"/companies"}),h.jsx(qa,{title:"Important Dates",value:(n==null?void 0:n.total_dates)||0,icon:ta,href:"/dates"})]}),h.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[h.jsxs("div",{className:"card",children:[h.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-200",children:[h.jsx("h2",{className:"font-semibold",children:"Upcoming Reminders"}),h.jsxs(ve,{to:"/dates",className:"text-sm text-primary-600 hover:text-primary-700 flex items-center",children:["View all",h.jsx(tN,{className:"w-4 h-4 ml-1"})]})]}),h.jsx("div",{className:"divide-y divide-gray-100",children:(s==null?void 0:s.length)>0?s.map(f=>h.jsx(Cre,{reminder:f},f.id)):h.jsx("p",{className:"p-4 text-sm text-gray-500 text-center",children:"No upcoming reminders"})})]}),h.jsxs("div",{className:"card",children:[h.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-200",children:[h.jsx("h2",{className:"font-semibold",children:"Recent People"}),h.jsxs(ve,{to:"/people",className:"text-sm text-primary-600 hover:text-primary-700 flex items-center",children:["View all",h.jsx(tN,{className:"w-4 h-4 ml-1"})]})]}),h.jsx("div",{className:"divide-y divide-gray-100",children:(i==null?void 0:i.length)>0?i.map(f=>h.jsx($N,{person:f},f.id)):h.jsxs("p",{className:"p-4 text-sm text-gray-500 text-center",children:["No people yet. ",h.jsx(ve,{to:"/people/new",className:"text-primary-600",children:"Add someone"})]})})]})]}),(o==null?void 0:o.length)>0&&h.jsxs("div",{className:"card",children:[h.jsx("div",{className:"flex items-center justify-between p-4 border-b border-gray-200",children:h.jsx("h2",{className:"font-semibold",children:"Favorites"})}),h.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-2 p-2",children:o.map(f=>h.jsx($N,{person:f},f.id))})]})]})}const Qt={all:["people"],lists:()=>[...Qt.all,"list"],list:t=>[...Qt.lists(),t],details:()=>[...Qt.all,"detail"],detail:t=>[...Qt.details(),t],timeline:t=>[...Qt.detail(t),"timeline"],dates:t=>[...Qt.detail(t),"dates"]};function Nre(t){if(!t)return"";const e=document.createElement("textarea");return e.innerHTML=t,e.value}function J7(t){var i,s,o,a,l,u,c,d,f,p,m,g,b,y,v,x,w;const e=((o=(s=(i=t._embedded)==null?void 0:i["wp:featuredmedia"])==null?void 0:s[0])==null?void 0:o.source_url)||((f=(d=(c=(u=(l=(a=t._embedded)==null?void 0:a["wp:featuredmedia"])==null?void 0:l[0])==null?void 0:u.media_details)==null?void 0:c.sizes)==null?void 0:d.thumbnail)==null?void 0:f.source_url)||null,r=((b=(g=(m=(p=t._embedded)==null?void 0:p["wp:term"])==null?void 0:m.flat())==null?void 0:g.filter(_=>(_==null?void 0:_.taxonomy)==="person_label"))==null?void 0:b.map(_=>_.name))||[],n=Nre(((y=t.title)==null?void 0:y.rendered)||"");return{...t,id:t.id,name:n,first_name:((v=t.acf)==null?void 0:v.first_name)||"",last_name:((x=t.acf)==null?void 0:x.last_name)||"",is_favorite:((w=t.acf)==null?void 0:w.is_favorite)||!1,thumbnail:e,labels:r}}function _p(t={}){return ft({queryKey:Qt.list(t),queryFn:async()=>{const e=[];let r=1;const n=100;for(;;){const i=await Le.getPeople({per_page:n,page:r,_embed:!0,...t}),s=i.data.map(J7);if(e.push(...s),s.length<n)break;const o=parseInt(i.headers["x-wp-totalpages"]||i.headers["X-WP-TotalPages"]||"0",10);if(o>0&&r>=o)break;r++}return e}})}function iu(t){return ft({queryKey:Qt.detail(t),queryFn:async()=>{const e=await Le.getPerson(t,{_embed:!0});return J7(e.data)},enabled:!!t})}function $re(t){return ft({queryKey:Qt.timeline(t),queryFn:async()=>(await Xr.getPersonTimeline(t)).data,enabled:!!t})}function jre(t){return ft({queryKey:Qt.dates(t),queryFn:async()=>(await Xr.getPersonDates(t)).data,enabled:!!t})}function kre(){const t=qr();return br({mutationFn:e=>Le.createPerson(e),onSuccess:()=>{t.invalidateQueries({queryKey:Qt.lists()})}})}function bd(){const t=qr();return br({mutationFn:({id:e,data:r})=>Le.updatePerson(e,r),onSuccess:(e,{id:r,data:n})=>{var i;t.invalidateQueries({queryKey:Qt.detail(r)}),t.invalidateQueries({queryKey:Qt.lists()}),(i=n==null?void 0:n.acf)!=null&&i.relationships&&(Array.isArray(n.acf.relationships)?n.acf.relationships:[]).forEach(o=>{const a=o.related_person;a&&t.invalidateQueries({queryKey:Qt.detail(a)})})}})}function Dre(){const t=qr();return br({mutationFn:e=>Le.deletePerson(e),onSuccess:()=>{t.invalidateQueries({queryKey:Qt.lists()})}})}function qre(){const t=qr();return br({mutationFn:({noteId:e,personId:r})=>Xr.deleteNote(e),onSuccess:(e,{personId:r})=>{t.invalidateQueries({queryKey:Qt.timeline(r)})}})}function Mre(){const t=qr();return br({mutationFn:({dateId:e,personId:r})=>Le.deleteDate(e),onSuccess:(e,{personId:r})=>{r&&(t.invalidateQueries({queryKey:Qt.dates(r)}),t.invalidateQueries({queryKey:Qt.detail(r)})),t.invalidateQueries({queryKey:["reminders"]})}})}function jN(t){var i;const e=((i=t.acf)==null?void 0:i.work_history)||[];if(e.length===0)return null;const r=e.find(s=>s.is_current&&s.company);if(r)return r.company;const n=e.filter(s=>s.company).sort((s,o)=>{const a=s.start_date?new Date(s.start_date):new Date(0);return(o.start_date?new Date(o.start_date):new Date(0))-a});return n.length>0?n[0].company:null}function Are({person:t,companyName:e,isDeceased:r}){var n,i;return h.jsx(ve,{to:`/people/${t.id}`,className:"card p-4 hover:shadow-md transition-shadow",children:h.jsxs("div",{className:"flex items-start",children:[t.thumbnail?h.jsx("img",{src:t.thumbnail,alt:t.name,loading:"lazy",className:"w-12 h-12 rounded-full object-cover"}):h.jsx("div",{className:"w-12 h-12 bg-gray-200 rounded-full flex items-center justify-center",children:h.jsx("span",{className:"text-lg font-medium text-gray-500",children:((n=t.first_name)==null?void 0:n[0])||"?"})}),h.jsxs("div",{className:"ml-3 flex-1 min-w-0",children:[h.jsxs("div",{className:"flex items-center",children:[h.jsxs("h3",{className:"text-sm font-medium text-gray-900 truncate",children:[t.name,r&&h.jsx("span",{className:"ml-1 text-gray-500",children:""})]}),t.is_favorite&&h.jsx(Bc,{className:"w-4 h-4 ml-1 text-yellow-400 fill-current flex-shrink-0"})]}),e&&h.jsx("p",{className:"text-xs text-gray-500 mt-0.5 truncate",children:e}),((i=t.labels)==null?void 0:i.length)>0&&h.jsx("div",{className:"flex flex-wrap gap-1 mt-1",children:t.labels.slice(0,3).map(s=>h.jsx("span",{className:"inline-flex px-2 py-0.5 text-xs rounded-full bg-gray-100 text-gray-600",children:s},s))})]})]})})}function Fre(){const[t,e]=j.useState(!1),[r,n]=j.useState(!1),[i,s]=j.useState([]),[o,a]=j.useState("first_name"),[l,u]=j.useState("asc"),c=j.useRef(null),d=j.useRef(null),{data:f,isLoading:p,error:m}=_p(),{data:g}=ft({queryKey:["person-labels"],queryFn:async()=>(await Le.getPersonLabels()).data}),b=(g==null?void 0:g.map(C=>C.name))||[];j.useEffect(()=>{const C=I=>{d.current&&!d.current.contains(I.target)&&c.current&&!c.current.contains(I.target)&&e(!1)};return document.addEventListener("mousedown",C),()=>{document.removeEventListener("mousedown",C)}},[]);const y=j.useMemo(()=>{if(!f)return[];let C=[...f];return r&&(C=C.filter(I=>I.is_favorite)),i.length>0&&(C=C.filter(I=>{const q=I.labels||[];return i.some(B=>q.includes(B))})),C.sort((I,q)=>{var L,G,U,z,te,fe,ye,ke;let B,re;if(o==="first_name"?(B=(((L=I.acf)==null?void 0:L.first_name)||I.first_name||"").toLowerCase(),re=(((G=q.acf)==null?void 0:G.first_name)||q.first_name||"").toLowerCase()):(B=(((U=I.acf)==null?void 0:U.last_name)||I.last_name||"").toLowerCase(),re=(((z=q.acf)==null?void 0:z.last_name)||q.last_name||"").toLowerCase()),B===re){const be=o==="first_name"?(((te=I.acf)==null?void 0:te.last_name)||I.last_name||"").toLowerCase():(((fe=I.acf)==null?void 0:fe.first_name)||I.first_name||"").toLowerCase(),we=o==="first_name"?(((ye=q.acf)==null?void 0:ye.last_name)||q.last_name||"").toLowerCase():(((ke=q.acf)==null?void 0:ke.first_name)||q.first_name||"").toLowerCase(),Ie=be.localeCompare(we);return l==="asc"?Ie:-Ie}const Q=B.localeCompare(re);return l==="asc"?Q:-Q})},[f,r,i,o,l]),v=r||i.length>0,x=C=>{s(I=>I.includes(C)?I.filter(q=>q!==C):[...I,C])},w=()=>{n(!1),s([])},_=j.useMemo(()=>{if(!y)return[];const C=y.map(I=>jN(I)).filter(Boolean);return[...new Set(C)]},[y]),{data:E}=ft({queryKey:["companies","batch",_.sort().join(",")],queryFn:async()=>_.length===0?[]:(await Le.getCompanies({per_page:100,include:_.join(",")})).data,enabled:_.length>0}),O=j.useMemo(()=>{const C={};return E&&E.forEach(I=>{var q;C[I.id]=((q=I.title)==null?void 0:q.rendered)||I.title||""}),C},[E]),S=j.useMemo(()=>{const C={};return y.forEach(I=>{const q=jN(I);q&&O[q]&&(C[I.id]=O[q])}),C},[y,O]),T=j.useMemo(()=>y.map(C=>C.id).filter(Boolean),[y]),P=Rf({queries:T.map(C=>({queryKey:["person-dates",C],queryFn:async()=>(await Xr.getPersonDates(C)).data,enabled:!!C}))}),R=j.useMemo(()=>{const C={};return P.forEach((I,q)=>{if(I.data&&T[q]){const B=T[q],re=I.data.some(Q=>{const L=Array.isArray(Q.date_type)?Q.date_type[0]:Q.date_type;return(L==null?void 0:L.toLowerCase())==="died"});C[B]=re}}),C},[P,T]);return h.jsxs("div",{className:"space-y-4",children:[h.jsx("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:h.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[h.jsxs("div",{className:"flex items-center gap-2 border border-gray-200 rounded-lg p-1",children:[h.jsxs("select",{value:o,onChange:C=>a(C.target.value),className:"text-sm border-0 bg-transparent focus:ring-0 focus:outline-none cursor-pointer",children:[h.jsx("option",{value:"first_name",children:"First Name"}),h.jsx("option",{value:"last_name",children:"Last Name"})]}),h.jsx("div",{className:"h-4 w-px bg-gray-300"}),h.jsx("button",{onClick:()=>u(l==="asc"?"desc":"asc"),className:"p-1 hover:bg-gray-100 rounded transition-colors",title:`Sort ${l==="asc"?"descending":"ascending"}`,children:l==="asc"?h.jsx(xZ,{className:"w-4 h-4 text-gray-600"}):h.jsx(wZ,{className:"w-4 h-4 text-gray-600"})})]}),h.jsxs("div",{className:"relative",ref:c,children:[h.jsxs("button",{onClick:()=>e(!t),className:`btn-secondary ${v?"bg-primary-50 text-primary-700 border-primary-200":""}`,children:[h.jsx(iN,{className:"w-4 h-4 mr-2"}),"Filter",v&&h.jsx("span",{className:"ml-2 px-1.5 py-0.5 bg-primary-600 text-white text-xs rounded-full",children:i.length+(r?1:0)})]}),t&&h.jsx("div",{ref:d,className:"absolute top-full left-0 mt-2 w-64 bg-white border border-gray-200 rounded-lg shadow-lg z-50",children:h.jsxs("div",{className:"p-4 space-y-4",children:[h.jsx("div",{children:h.jsxs("label",{className:"flex items-center cursor-pointer",children:[h.jsx("input",{type:"checkbox",checked:r,onChange:C=>n(C.target.checked),className:"sr-only"}),h.jsx("div",{className:`flex items-center justify-center w-5 h-5 border-2 rounded mr-3 ${r?"bg-primary-600 border-primary-600":"border-gray-300"}`,children:r&&h.jsx(nN,{className:"w-3 h-3 text-white"})}),h.jsxs("div",{className:"flex items-center",children:[h.jsx(Bc,{className:"w-4 h-4 mr-2 text-yellow-400 fill-current"}),h.jsx("span",{className:"text-sm font-medium text-gray-900",children:"Favorites only"})]})]})}),b.length>0&&h.jsxs("div",{children:[h.jsx("h3",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wide mb-2",children:"Labels"}),h.jsx("div",{className:"space-y-1 max-h-48 overflow-y-auto",children:b.map(C=>h.jsxs("label",{className:"flex items-center cursor-pointer hover:bg-gray-50 p-1 rounded",children:[h.jsx("input",{type:"checkbox",checked:i.includes(C),onChange:()=>x(C),className:"sr-only"}),h.jsx("div",{className:`flex items-center justify-center w-5 h-5 border-2 rounded mr-3 ${i.includes(C)?"bg-primary-600 border-primary-600":"border-gray-300"}`,children:i.includes(C)&&h.jsx(nN,{className:"w-3 h-3 text-white"})}),h.jsx("span",{className:"text-sm text-gray-700",children:C})]},C))})]}),v&&h.jsx("button",{onClick:w,className:"w-full text-sm text-primary-600 hover:text-primary-700 font-medium pt-2 border-t border-gray-200",children:"Clear all filters"})]})})]}),v&&h.jsxs("div",{className:"flex flex-wrap gap-2",children:[r&&h.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 bg-primary-100 text-primary-800 rounded-full text-xs",children:[h.jsx(Bc,{className:"w-3 h-3"}),"Favorites",h.jsx("button",{onClick:()=>n(!1),className:"hover:text-primary-600",children:h.jsx(Js,{className:"w-3 h-3"})})]}),i.map(C=>h.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 bg-gray-100 text-gray-800 rounded-full text-xs",children:[C,h.jsx("button",{onClick:()=>x(C),className:"hover:text-gray-600",children:h.jsx(Js,{className:"w-3 h-3"})})]},C))]}),h.jsxs(ve,{to:"/people/new",className:"btn-primary",children:[h.jsx(yr,{className:"w-4 h-4 mr-2"}),"Add Person"]})]})}),p&&h.jsx("div",{className:"flex items-center justify-center h-64",children:h.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"})}),m&&h.jsx("div",{className:"card p-6 text-center",children:h.jsx("p",{className:"text-red-600",children:"Failed to load people."})}),!p&&!m&&(f==null?void 0:f.length)===0&&h.jsxs("div",{className:"card p-12 text-center",children:[h.jsx("div",{className:"w-12 h-12 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4",children:h.jsx(yr,{className:"w-6 h-6 text-gray-400"})}),h.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-1",children:"No people found"}),h.jsx("p",{className:"text-gray-500 mb-4",children:"Get started by adding your first person."}),h.jsxs(ve,{to:"/people/new",className:"btn-primary",children:[h.jsx(yr,{className:"w-4 h-4 mr-2"}),"Add Person"]})]}),!p&&!m&&(y==null?void 0:y.length)>0&&h.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:y.map(C=>h.jsx(Are,{person:C,companyName:S[C.id],isDeceased:R[C.id]||!1},C.id))}),!p&&!m&&(f==null?void 0:f.length)>0&&(y==null?void 0:y.length)===0&&h.jsxs("div",{className:"card p-12 text-center",children:[h.jsx("div",{className:"w-12 h-12 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4",children:h.jsx(iN,{className:"w-6 h-6 text-gray-400"})}),h.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-1",children:"No people match your filters"}),h.jsx("p",{className:"text-gray-500 mb-4",children:"Try adjusting your filters to see more results."}),h.jsx("button",{onClick:w,className:"btn-secondary",children:"Clear filters"})]})]})}function Eh(t){if(!t)return"";const e=document.createElement("textarea");return e.innerHTML=t,e.value}function Oh(t){if(!t)return null;switch(t){case"male":return"";case"female":return"";case"non_binary":case"other":case"prefer_not_to_say":return"";default:return null}}function Lre(){var yn,Ar,Ke,Lt,ri,Bt,$,D,F,oe,ne,X,de;const{id:t}=es(),e=en(),r=qr(),{data:n,isLoading:i,error:s}=iu(t),{data:o}=$re(t),{data:a}=jre(t),l=Dre(),u=qre(),c=Mre(),d=bd(),[f,p]=j.useState(!1),[m,g]=j.useState(""),[b,y]=j.useState(!1),v=j.useRef(null),{data:x}=ft({queryKey:["person-labels"],queryFn:async()=>(await Le.getPersonLabels()).data}),w=x||[],_=(n==null?void 0:n.labels)||[],E=((Lt=(Ke=(Ar=(yn=n==null?void 0:n._embedded)==null?void 0:yn["wp:term"])==null?void 0:Ar.flat())==null?void 0:Ke.filter(k=>(k==null?void 0:k.taxonomy)==="person_label"))==null?void 0:Lt.map(k=>k.id))||[],O=w.filter(k=>!_.includes(k.name));wi((n==null?void 0:n.name)||((ri=n==null?void 0:n.title)==null?void 0:ri.rendered)||(n==null?void 0:n.title)||"Person");const S=a==null?void 0:a.find(k=>{const H=Array.isArray(k.date_type)?k.date_type[0]:k.date_type;return(H==null?void 0:H.toLowerCase())==="birthday"}),T=S!=null&&S.date_value?new Date(S.date_value):null,P=a==null?void 0:a.find(k=>{const H=Array.isArray(k.date_type)?k.date_type[0]:k.date_type;return(H==null?void 0:H.toLowerCase())==="died"}),R=P!=null&&P.date_value?new Date(P.date_value):null,C=!!R,I=T?qm(C?R:new Date,T):null,q=a?[...a].sort((k,H)=>{const le=k.date_value?new Date(k.date_value):new Date(0),K=H.date_value?new Date(H.date_value):new Date(0);return le-K}):[],B=async()=>{window.confirm("Are you sure you want to delete this person?")&&(await l.mutateAsync(t),e("/people"))},re=k=>{if(!k)return"";let H=k.replace(/[\u200B-\u200D\uFEFF\u200E\u200F\u202A-\u202E]/g,"");const le=H.startsWith("+");return H=H.replace(/\D/g,""),le?`+${H}`:H},Q=async k=>{var K,W,V;if(!window.confirm("Are you sure you want to delete this contact detail?"))return;const H=[...((K=n.acf)==null?void 0:K.contact_info)||[]];H.splice(k,1);const le={...n.acf,contact_info:H,work_history:Array.isArray((W=n.acf)==null?void 0:W.work_history)?n.acf.work_history:[],relationships:Array.isArray((V=n.acf)==null?void 0:V.relationships)?n.acf.relationships:[]};await d.mutateAsync({id:t,data:{acf:le}})},L=async k=>{var K,W,V;if(!window.confirm("Are you sure you want to delete this relationship?"))return;const H=[...((K=n.acf)==null?void 0:K.relationships)||[]];H.splice(k,1);const le={...n.acf,relationships:H,contact_info:Array.isArray((W=n.acf)==null?void 0:W.contact_info)?n.acf.contact_info:[],work_history:Array.isArray((V=n.acf)==null?void 0:V.work_history)?n.acf.work_history:[]};await d.mutateAsync({id:t,data:{acf:le}})},G=async k=>{window.confirm("Are you sure you want to delete this important date?")&&await c.mutateAsync({dateId:k,personId:t})},U=async k=>{window.confirm("Are you sure you want to delete this note?")&&await u.mutateAsync({noteId:k,personId:t})},z=async k=>{var K,W,V;if(!window.confirm("Are you sure you want to delete this work history item?"))return;const H=[...((K=n.acf)==null?void 0:K.work_history)||[]];H.splice(k,1);const le={...n.acf,work_history:H,contact_info:Array.isArray((W=n.acf)==null?void 0:W.contact_info)?n.acf.contact_info:[],relationships:Array.isArray((V=n.acf)==null?void 0:V.relationships)?n.acf.relationships:[]};await d.mutateAsync({id:t,data:{acf:le}})},te=async k=>{var K,W,V;const H=(V=(W=(K=n==null?void 0:n._embedded)==null?void 0:K["wp:term"])==null?void 0:W.flat())==null?void 0:V.find(Y=>(Y==null?void 0:Y.taxonomy)==="person_label"&&(Y==null?void 0:Y.name)===k);if(!H)return;const le=E.filter(Y=>Y!==H.id);await d.mutateAsync({id:t,data:{person_label:le}})},fe=async()=>{if(!m)return;const k=w.find(le=>le.id.toString()===m);if(!k)return;const H=[...E,k.id];await d.mutateAsync({id:t,data:{person_label:H}}),g(""),p(!1)},ye=async k=>{var le;const H=(le=k.target.files)==null?void 0:le[0];if(H){if(!H.type.startsWith("image/")){alert("Please select an image file");return}if(H.size>5*1024*1024){alert("Image size must be less than 5MB");return}y(!0);try{await Xr.uploadPersonPhoto(t,H),r.invalidateQueries({queryKey:["person",t]}),r.invalidateQueries({queryKey:["people"]})}catch(K){console.error("Failed to upload photo:",K),alert("Failed to upload photo. Please try again.")}finally{y(!1),v.current&&(v.current.value="")}}},ke=(($=(Bt=n==null?void 0:n.acf)==null?void 0:Bt.work_history)==null?void 0:$.map(k=>k.company).filter(Boolean))||[],be=Rf({queries:ke.map(k=>({queryKey:["company",k],queryFn:async()=>(await Le.getCompany(k,{_embed:!0})).data,enabled:!!k}))}),we=((F=(D=n==null?void 0:n.acf)==null?void 0:D.relationships)==null?void 0:F.map(k=>k.related_person).filter(Boolean))||[],Ie=Rf({queries:we.map(k=>({queryKey:["person-dates",k],queryFn:async()=>(await Xr.getPersonDates(k)).data,enabled:!!k}))}),yt=j.useMemo(()=>{const k={};return Ie.forEach((H,le)=>{if(H.data&&we[le]){const K=we[le],W=H.data.find(V=>{const Y=Array.isArray(V.date_type)?V.date_type[0]:V.date_type;return(Y==null?void 0:Y.toLowerCase())==="birthday"});if(W!=null&&W.date_value){const V=new Date(W.date_value);k[K]=qm(new Date,V)}else k[K]=-1}}),k},[Ie,we]),rt=j.useMemo(()=>{const k={};return Ie.forEach((H,le)=>{if(H.data&&we[le]){const K=we[le],W=H.data.some(V=>{const Y=Array.isArray(V.date_type)?V.date_type[0]:V.date_type;return(Y==null?void 0:Y.toLowerCase())==="died"});k[K]=W}}),k},[Ie,we]),gt=j.useMemo(()=>{var k;return(k=n==null?void 0:n.acf)!=null&&k.relationships?[...n.acf.relationships].sort((H,le)=>{const K=yt[H.related_person]??-1,W=yt[le.related_person]??-1;return K===-1&&W===-1?0:K===-1?1:W===-1?-1:W-K}):[]},[(oe=n==null?void 0:n.acf)==null?void 0:oe.relationships,yt]),xr={};be.forEach((k,H)=>{var le,K,W,V,Y,pe,$e,Vt,_r,qn;if(k.data){const lY=ke[H];xr[lY]={name:((le=k.data.title)==null?void 0:le.rendered)||k.data.title||"",logo:((V=(W=(K=k.data._embedded)==null?void 0:K["wp:featuredmedia"])==null?void 0:W[0])==null?void 0:V.source_url)||((qn=(_r=(Vt=($e=(pe=(Y=k.data._embedded)==null?void 0:Y["wp:featuredmedia"])==null?void 0:pe[0])==null?void 0:$e.media_details)==null?void 0:Vt.sizes)==null?void 0:_r.thumbnail)==null?void 0:qn.source_url)||null}}});const Qe=j.useMemo(()=>{var k;return(k=n==null?void 0:n.acf)!=null&&k.work_history?[...n.acf.work_history].map((H,le)=>({...H,originalIndex:le})).sort((H,le)=>{if(H.is_current&&!le.is_current)return-1;if(!H.is_current&&le.is_current)return 1;const K=H.start_date?new Date(H.start_date):new Date(0);return(le.start_date?new Date(le.start_date):new Date(0))-K}):[]},[(ne=n==null?void 0:n.acf)==null?void 0:ne.work_history]);if(i)return h.jsx("div",{className:"flex items-center justify-center h-64",children:h.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"})});if(s||!n)return h.jsxs("div",{className:"card p-6 text-center",children:[h.jsx("p",{className:"text-red-600",children:"Failed to load person."}),h.jsx(ve,{to:"/people",className:"btn-secondary mt-4",children:"Back to People"})]});const nt=n.acf||{};return h.jsxs("div",{className:"space-y-6",children:[h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsxs(ve,{to:"/people",className:"flex items-center text-gray-600 hover:text-gray-900",children:[h.jsx(ts,{className:"w-4 h-4 mr-2"}),"Back to People"]}),h.jsxs("div",{className:"flex gap-2",children:[h.jsxs(ve,{to:`/people/${t}/edit`,className:"btn-secondary",children:[h.jsx(x7,{className:"w-4 h-4 mr-2"}),"Edit"]}),h.jsxs("button",{onClick:B,className:"btn-danger",children:[h.jsx(fs,{className:"w-4 h-4 mr-2"}),"Delete"]})]})]}),h.jsxs("div",{className:"card p-6 relative",children:[h.jsx("div",{className:"absolute top-4 right-4",children:h.jsx(ve,{to:`/people/${t}/family-tree`,className:"btn-secondary text-sm",children:"View Family Tree"})}),h.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center gap-4",children:[h.jsxs("div",{className:"relative group",children:[n.thumbnail?h.jsx("img",{src:n.thumbnail,alt:n.name,className:"w-24 h-24 rounded-full object-cover"}):h.jsx("div",{className:"w-24 h-24 bg-gray-200 rounded-full flex items-center justify-center",children:h.jsx("span",{className:"text-3xl font-medium text-gray-500",children:((X=n.first_name)==null?void 0:X[0])||"?"})}),h.jsx("div",{className:"absolute inset-0 rounded-full bg-black bg-opacity-0 group-hover:bg-opacity-50 transition-all duration-200 flex items-center justify-center cursor-pointer",onClick:()=>{var k;return(k=v.current)==null?void 0:k.click()},children:b?h.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-white"}):h.jsx(Kh,{className:"w-6 h-6 text-white opacity-0 group-hover:opacity-100 transition-opacity"})}),h.jsx("input",{ref:v,type:"file",accept:"image/*",onChange:ye,className:"hidden",disabled:b})]}),h.jsxs("div",{className:"flex-1",children:[h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsxs("h1",{className:"text-2xl font-bold",children:[n.name,C&&h.jsx("span",{className:"ml-1 text-gray-500",children:""})]}),n.is_favorite&&h.jsx(Bc,{className:"w-5 h-5 text-yellow-400 fill-current"})]}),nt.nickname&&h.jsxs("p",{className:"text-gray-500",children:['"',nt.nickname,'"']}),C&&R&&I!==null&&h.jsxs("p",{className:"text-gray-500 text-sm mt-1",children:[Oh(nt.gender)&&h.jsx("span",{className:"mr-1",children:Oh(nt.gender)}),"Died ",ci(R,"MMMM d, yyyy")," at age ",I]}),!C&&I!==null&&h.jsxs("p",{className:"text-gray-500 text-sm mt-1",children:[Oh(nt.gender)&&h.jsx("span",{className:"mr-1",children:Oh(nt.gender)}),I," years old"]}),h.jsx("div",{className:"mt-2",children:h.jsxs("div",{className:"flex flex-wrap gap-2 items-center",children:[n.labels&&n.labels.length>0&&n.labels.map((k,H)=>h.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 rounded-full text-xs font-medium bg-gray-100 text-gray-700 group/label",children:[k,h.jsx("button",{onClick:()=>te(k),className:"opacity-0 group-hover/label:opacity-100 transition-opacity hover:bg-gray-200 rounded-full p-0.5",title:"Remove label",children:h.jsx(Js,{className:"w-3 h-3"})})]},H)),f?h.jsxs("div",{className:"inline-flex items-center gap-2",children:[h.jsxs("select",{value:m,onChange:k=>g(k.target.value),className:"text-xs border border-gray-300 rounded px-2 py-1",autoFocus:!0,disabled:O.length===0,children:[h.jsx("option",{value:"",children:"Select a label..."}),O.map(k=>h.jsx("option",{value:k.id,children:k.name},k.id))]}),h.jsx("button",{onClick:fe,disabled:!m,className:"text-xs px-2 py-1 bg-primary-600 text-white rounded hover:bg-primary-700 disabled:opacity-50 disabled:cursor-not-allowed",children:"Add"}),h.jsx("button",{onClick:()=>{p(!1),g("")},className:"text-xs px-2 py-1 bg-gray-200 text-gray-700 rounded hover:bg-gray-300",children:"Cancel"})]}):O.length>0&&h.jsxs("button",{onClick:()=>p(!0),className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-gray-100 text-gray-700 hover:bg-gray-200 transition-colors",children:[h.jsx(yr,{className:"w-3 h-3 mr-1"}),"Add label"]})]})})]})]})]}),h.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[h.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[!C&&h.jsxs("div",{className:"card p-6",children:[h.jsxs("div",{className:"flex items-center justify-between mb-4",children:[h.jsx("h2",{className:"font-semibold",children:"Contact Information"}),h.jsxs(ve,{to:`/people/${t}/contact/new`,className:"btn-secondary text-sm",children:[h.jsx(yr,{className:"w-4 h-4 mr-1"}),"Add contact detail"]})]}),((de=nt.contact_info)==null?void 0:de.length)>0?h.jsx("div",{className:"space-y-3",children:nt.contact_info.map((k,H)=>{const le=k.contact_type==="email"?RZ:k.contact_type==="phone"||k.contact_type==="mobile"?DZ:k.contact_type==="address"?NZ:k.contact_type==="linkedin"?sN:(k.contact_type==="website",RP),K=k.contact_type==="email",W=k.contact_type==="phone"||k.contact_type==="mobile",V=k.contact_type==="mobile",Y=k.contact_type==="website"||k.contact_type==="linkedin"||k.contact_type==="twitter"||k.contact_type==="instagram"||k.contact_type==="facebook",pe=k.contact_type==="address",$e=k.contact_type==="linkedin";let Vt=null,_r=null;if(K)Vt=`mailto:${k.contact_value}`;else if(W)Vt=`tel:${re(k.contact_value)}`;else if(Y){let qn=k.contact_value;qn.match(/^https?:\/\//i)||(qn=`https://${qn}`),Vt=qn,_r="_blank"}else pe&&(Vt=`https://www.google.com/maps/search/?api=1&query=${encodeURIComponent(k.contact_value)}`,_r="_blank");return h.jsxs("div",{className:"flex items-center group",children:[!$e&&h.jsx(le,{className:"w-4 h-4 text-gray-400 mr-3 flex-shrink-0"}),h.jsxs("div",{className:"flex-1 min-w-0",children:[$e?h.jsx(sN,{className:"w-4 h-4 text-blue-600 inline-block mr-2 align-middle"}):h.jsxs("span",{className:"text-sm text-gray-500",children:[k.contact_label||k.contact_type,": "]}),Vt?h.jsx("a",{href:Vt,target:_r||void 0,rel:_r==="_blank"?"noopener noreferrer":void 0,className:"text-primary-600 hover:text-primary-700 hover:underline",children:k.contact_value}):h.jsx("span",{children:k.contact_value})]}),h.jsxs("div",{className:"flex items-center gap-1 opacity-0 group-hover:opacity-100 transition-opacity ml-2",children:[V&&h.jsx("a",{href:`whatsapp:${re(k.contact_value)}`,className:"p-1 hover:bg-green-50 rounded",title:"Open WhatsApp",children:h.jsx(jZ,{className:"w-4 h-4 text-gray-400 hover:text-green-600"})}),h.jsx(ve,{to:`/people/${t}/contact/${H}/edit`,className:"p-1 hover:bg-gray-100 rounded",title:"Edit contact detail",children:h.jsx(_h,{className:"w-4 h-4 text-gray-400 hover:text-gray-600"})}),h.jsx("button",{onClick:()=>Q(H),className:"p-1 hover:bg-red-50 rounded",title:"Delete contact detail",children:h.jsx(fs,{className:"w-4 h-4 text-gray-400 hover:text-red-600"})})]})]},H)})}):h.jsx("p",{className:"text-sm text-gray-500 text-center py-4",children:"No contact information yet."})]}),h.jsxs("div",{className:"card p-6",children:[h.jsxs("div",{className:"flex items-center justify-between mb-4",children:[h.jsx("h2",{className:"font-semibold",children:"Important Dates"}),h.jsxs(ve,{to:`/dates/new?person=${t}`,className:"btn-secondary text-sm",children:[h.jsx(yr,{className:"w-4 h-4 mr-1"}),"Add Important Date"]})]}),q.length>0?h.jsx("div",{className:"space-y-3",children:q.map(k=>{const H=Array.isArray(k.date_type)?k.date_type[0]:k.date_type,le=(H==null?void 0:H.toLowerCase())||"",K=le.includes("died"),W=le.includes("wedding")||le.includes("marriage")?PZ:le.includes("birthday")?OZ:ta;return h.jsxs("div",{className:"flex items-start group",children:[h.jsx("div",{className:"w-8 h-8 bg-gray-100 rounded-lg flex items-center justify-center mr-3",children:K?h.jsx("span",{className:"text-gray-500 text-lg font-semibold",children:""}):h.jsx(W,{className:"w-4 h-4 text-gray-500"})}),h.jsxs("div",{className:"flex-1",children:[h.jsx("p",{className:"text-sm font-medium",children:k.title}),h.jsx("p",{className:"text-xs text-gray-500",children:k.date_value&&ci(new Date(k.date_value),"MMMM d, yyyy")}),H&&h.jsx("p",{className:"text-xs text-gray-400 capitalize",children:H})]}),h.jsxs("div",{className:"flex items-center gap-1 opacity-0 group-hover:opacity-100 transition-opacity",children:[h.jsx(ve,{to:`/dates/${k.id}/edit`,className:"p-1 hover:bg-gray-100 rounded",title:"Edit date",children:h.jsx(_h,{className:"w-4 h-4 text-gray-400 hover:text-gray-600"})}),h.jsx("button",{onClick:()=>G(k.id),className:"p-1 hover:bg-red-50 rounded",title:"Delete date",children:h.jsx(fs,{className:"w-4 h-4 text-gray-400 hover:text-red-600"})})]})]},k.id)})}):h.jsx("p",{className:"text-sm text-gray-500 text-center py-4",children:"No important dates yet."})]}),h.jsxs("div",{className:"card p-6",children:[h.jsxs("div",{className:"flex items-center justify-between mb-4",children:[h.jsx("h2",{className:"font-semibold",children:"Work History"}),h.jsxs(ve,{to:`/people/${t}/work-history/new`,className:"btn-secondary text-sm",children:[h.jsx(yr,{className:"w-4 h-4 mr-1"}),"Add Work History"]})]}),(Qe==null?void 0:Qe.length)>0?h.jsx("div",{className:"space-y-4",children:Qe.map((k,H)=>{const le=k.company?xr[k.company]:null,K=k.originalIndex;return h.jsxs("div",{className:"flex items-start group",children:[le!=null&&le.logo?h.jsx("img",{src:le.logo,alt:le.name,className:"w-10 h-10 rounded-lg object-cover mr-3 flex-shrink-0"}):h.jsx("div",{className:"w-10 h-10 bg-gray-100 rounded-lg flex items-center justify-center mr-3 flex-shrink-0",children:h.jsx(ea,{className:"w-5 h-5 text-gray-500"})}),h.jsxs("div",{className:"flex-1 min-w-0",children:[h.jsx("p",{className:"font-medium",children:k.job_title}),k.company&&le&&h.jsx(ve,{to:`/companies/${k.company}`,className:"text-sm text-primary-600 hover:underline",children:le.name}),h.jsxs("p",{className:"text-sm text-gray-500",children:[k.start_date&&ci(new Date(k.start_date),"MMM yyyy")," - ",k.is_current?"Present":k.end_date?ci(new Date(k.end_date),"MMM yyyy"):""]}),k.description&&h.jsx("p",{className:"text-sm text-gray-600 mt-1",children:k.description})]}),h.jsxs("div",{className:"flex items-center gap-1 opacity-0 group-hover:opacity-100 transition-opacity ml-2",children:[h.jsx(ve,{to:`/people/${t}/work-history/${K}/edit`,className:"p-1 hover:bg-gray-100 rounded",title:"Edit work history",children:h.jsx(_h,{className:"w-4 h-4 text-gray-400 hover:text-gray-600"})}),h.jsx("button",{onClick:()=>z(K),className:"p-1 hover:bg-red-50 rounded",title:"Delete work history",children:h.jsx(fs,{className:"w-4 h-4 text-gray-400 hover:text-red-600"})})]})]},K)})}):h.jsx("p",{className:"text-sm text-gray-500 text-center py-4",children:"No work history yet."})]}),h.jsxs("div",{className:"card p-6",children:[h.jsxs("div",{className:"flex items-center justify-between mb-4",children:[h.jsx("h2",{className:"font-semibold",children:"Timeline"}),h.jsxs("button",{className:"btn-secondary text-sm",children:[h.jsx(yr,{className:"w-4 h-4 mr-1"}),"Add Note"]})]}),(o==null?void 0:o.length)>0?h.jsx("div",{className:"space-y-4",children:o.map(k=>h.jsxs("div",{className:"border-l-2 border-gray-200 pl-4 pb-4 group",children:[h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-500",children:[h.jsx("span",{className:"capitalize",children:k.type}),h.jsx("span",{children:""}),h.jsx("span",{children:ci(new Date(k.created),"MMM d, yyyy")})]}),h.jsx("button",{onClick:()=>U(k.id),className:"opacity-0 group-hover:opacity-100 transition-opacity p-1 hover:bg-red-50 rounded",title:"Delete note",children:h.jsx(fs,{className:"w-4 h-4 text-gray-400 hover:text-red-600"})})]}),h.jsx("p",{className:"mt-1",children:k.content})]},k.id))}):h.jsx("p",{className:"text-sm text-gray-500 text-center py-4",children:"No notes or activities yet."})]})]}),h.jsxs("div",{className:"space-y-6",children:[(nt.how_we_met||nt.met_date)&&h.jsxs("div",{className:"card p-6",children:[h.jsx("h2",{className:"font-semibold mb-3",children:"How We Met"}),nt.met_date&&h.jsxs("p",{className:"text-sm text-gray-500 mb-2",children:[h.jsx(ta,{className:"w-4 h-4 inline mr-1"}),ci(new Date(nt.met_date),"MMMM d, yyyy")]}),nt.how_we_met&&h.jsx("p",{className:"text-sm",children:nt.how_we_met})]}),h.jsxs("div",{className:"card p-6",children:[h.jsxs("div",{className:"flex items-center justify-between mb-3",children:[h.jsx("h2",{className:"font-semibold",children:"Relationships"}),h.jsxs(ve,{to:`/people/${t}/relationship/new`,className:"btn-secondary text-sm",children:[h.jsx(yr,{className:"w-4 h-4 mr-1"}),"Add Relationship"]})]}),(gt==null?void 0:gt.length)>0?h.jsx("div",{className:"space-y-2",children:gt.map((k,H)=>{var K,W,V;const le=((W=(K=n==null?void 0:n.acf)==null?void 0:K.relationships)==null?void 0:W.findIndex(Y=>Y.related_person===k.related_person&&Y.relationship_type===k.relationship_type))??H;return h.jsxs("div",{className:"flex items-center p-2 rounded hover:bg-gray-50 group",children:[h.jsxs(ve,{to:`/people/${k.related_person}`,className:"flex items-center flex-1 min-w-0",children:[k.person_thumbnail?h.jsx("img",{src:k.person_thumbnail,alt:Eh(k.person_name)||"",className:"w-8 h-8 rounded-full object-cover mr-2"}):h.jsx("div",{className:"w-8 h-8 bg-gray-200 rounded-full mr-2 flex items-center justify-center",children:h.jsx("span",{className:"text-xs font-medium text-gray-500",children:((V=Eh(k.person_name))==null?void 0:V[0])||"?"})}),h.jsxs("div",{children:[h.jsxs("p",{className:"text-sm font-medium",children:[Eh(k.person_name)||`Person #${k.related_person}`,rt[k.related_person]&&h.jsx("span",{className:"text-gray-400 ml-1",title:"Deceased",children:""})]}),h.jsx("p",{className:"text-xs text-gray-500",children:Eh(k.relationship_name||k.relationship_label)})]})]}),h.jsxs("div",{className:"flex items-center gap-1 opacity-0 group-hover:opacity-100 transition-opacity ml-2",children:[h.jsx(ve,{to:`/people/${t}/relationship/${le}/edit`,className:"p-1 hover:bg-gray-100 rounded",title:"Edit relationship",children:h.jsx(_h,{className:"w-4 h-4 text-gray-400 hover:text-gray-600"})}),h.jsx("button",{onClick:()=>L(le),className:"p-1 hover:bg-red-50 rounded",title:"Delete relationship",children:h.jsx(fs,{className:"w-4 h-4 text-gray-400 hover:text-red-600"})})]})]},H)})}):h.jsx("p",{className:"text-sm text-gray-500 text-center py-4",children:"No relationships yet."})]})]})]})]})}var wd=t=>t.type==="checkbox",Eo=t=>t instanceof Date,Br=t=>t==null;const Z7=t=>typeof t=="object";var $t=t=>!Br(t)&&!Array.isArray(t)&&Z7(t)&&!Eo(t),eK=t=>$t(t)&&t.target?wd(t.target)?t.target.checked:t.target.value:t,Bre=t=>t.substring(0,t.search(/\.\d+(\.|$)/))||t,tK=(t,e)=>t.has(Bre(e)),zre=t=>{const e=t.constructor&&t.constructor.prototype;return $t(e)&&e.hasOwnProperty("isPrototypeOf")},dC=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function zt(t){if(t instanceof Date)return new Date(t);const e=typeof FileList<"u"&&t instanceof FileList;if(dC&&(t instanceof Blob||e))return t;const r=Array.isArray(t);if(!r&&!($t(t)&&zre(t)))return t;const n=r?[]:Object.create(Object.getPrototypeOf(t));for(const i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=zt(t[i]));return n}var Sp=t=>/^\w*$/.test(t),St=t=>t===void 0,hC=t=>Array.isArray(t)?t.filter(Boolean):[],fC=t=>hC(t.replace(/["|']|\]/g,"").split(/\.|\[/)),ae=(t,e,r)=>{if(!e||!$t(t))return r;const n=(Sp(e)?[e]:fC(e)).reduce((i,s)=>Br(i)?i:i[s],t);return St(n)||n===t?St(t[e])?r:t[e]:n},an=t=>typeof t=="boolean",Rr=t=>typeof t=="function",Xe=(t,e,r)=>{let n=-1;const i=Sp(e)?[e]:fC(e),s=i.length,o=s-1;for(;++n<s;){const a=i[n];let l=r;if(n!==o){const u=t[a];l=$t(u)||Array.isArray(u)?u:isNaN(+i[n+1])?{}:[]}if(a==="__proto__"||a==="constructor"||a==="prototype")return;t[a]=l,t=t[a]}};const jf={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},Vn={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},Ei={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},rK=Te.createContext(null);rK.displayName="HookFormContext";const pC=()=>Te.useContext(rK);var nK=(t,e,r,n=!0)=>{const i={defaultValues:e._defaultValues};for(const s in t)Object.defineProperty(i,s,{get:()=>{const o=s;return e._proxyFormState[o]!==Vn.all&&(e._proxyFormState[o]=!n||Vn.all),r&&(r[o]=!0),t[o]}});return i};const mC=typeof window<"u"?Te.useLayoutEffect:Te.useEffect;function Ure(t){const e=pC(),{control:r=e.control,disabled:n,name:i,exact:s}=t||{},[o,a]=Te.useState(r._formState),l=Te.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1});return mC(()=>r._subscribe({name:i,formState:l.current,exact:s,callback:u=>{!n&&a({...r._formState,...u})}}),[i,n,s]),Te.useEffect(()=>{l.current.isValid&&r._setValid(!0)},[r]),Te.useMemo(()=>nK(o,r,l.current,!1),[o,r])}var ln=t=>typeof t=="string",qP=(t,e,r,n,i)=>ln(t)?(n&&e.watch.add(t),ae(r,t,i)):Array.isArray(t)?t.map(s=>(n&&e.watch.add(s),ae(r,s))):(n&&(e.watchAll=!0),r),MP=t=>Br(t)||!Z7(t);function Kn(t,e,r=new WeakSet){if(MP(t)||MP(e))return Object.is(t,e);if(Eo(t)&&Eo(e))return t.getTime()===e.getTime();const n=Object.keys(t),i=Object.keys(e);if(n.length!==i.length)return!1;if(r.has(t)||r.has(e))return!0;r.add(t),r.add(e);for(const s of n){const o=t[s];if(!i.includes(s))return!1;if(s!=="ref"){const a=e[s];if(Eo(o)&&Eo(a)||$t(o)&&$t(a)||Array.isArray(o)&&Array.isArray(a)?!Kn(o,a,r):!Object.is(o,a))return!1}}return!0}function Wre(t){const e=pC(),{control:r=e.control,name:n,defaultValue:i,disabled:s,exact:o,compute:a}=t||{},l=Te.useRef(i),u=Te.useRef(a),c=Te.useRef(void 0),d=Te.useRef(r),f=Te.useRef(n);u.current=a;const[p,m]=Te.useState(()=>{const w=r._getWatch(n,l.current);return u.current?u.current(w):w}),g=Te.useCallback(w=>{const _=qP(n,r._names,w||r._formValues,!1,l.current);return u.current?u.current(_):_},[r._formValues,r._names,n]),b=Te.useCallback(w=>{if(!s){const _=qP(n,r._names,w||r._formValues,!1,l.current);if(u.current){const E=u.current(_);Kn(E,c.current)||(m(E),c.current=E)}else m(_)}},[r._formValues,r._names,s,n]);mC(()=>((d.current!==r||!Kn(f.current,n))&&(d.current=r,f.current=n,b()),r._subscribe({name:n,formState:{values:!0},exact:o,callback:w=>{b(w.values)}})),[r,o,n,b]),Te.useEffect(()=>r._removeUnmounted());const y=d.current!==r,v=f.current,x=Te.useMemo(()=>{if(s)return null;const w=!y&&!Kn(v,n);return y||w?g():null},[s,y,n,v,g]);return x!==null?x:p}function Hre(t){const e=pC(),{name:r,disabled:n,control:i=e.control,shouldUnregister:s,defaultValue:o,exact:a=!0}=t,l=tK(i._names.array,r),u=Te.useMemo(()=>ae(i._formValues,r,ae(i._defaultValues,r,o)),[i,r,o]),c=Wre({control:i,name:r,defaultValue:u,exact:a}),d=Ure({control:i,name:r,exact:a}),f=Te.useRef(t),p=Te.useRef(void 0),m=Te.useRef(i.register(r,{...t.rules,value:c,...an(t.disabled)?{disabled:t.disabled}:{}}));f.current=t;const g=Te.useMemo(()=>Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!ae(d.errors,r)},isDirty:{enumerable:!0,get:()=>!!ae(d.dirtyFields,r)},isTouched:{enumerable:!0,get:()=>!!ae(d.touchedFields,r)},isValidating:{enumerable:!0,get:()=>!!ae(d.validatingFields,r)},error:{enumerable:!0,get:()=>ae(d.errors,r)}}),[d,r]),b=Te.useCallback(w=>m.current.onChange({target:{value:eK(w),name:r},type:jf.CHANGE}),[r]),y=Te.useCallback(()=>m.current.onBlur({target:{value:ae(i._formValues,r),name:r},type:jf.BLUR}),[r,i._formValues]),v=Te.useCallback(w=>{const _=ae(i._fields,r);_&&_._f&&w&&(_._f.ref={focus:()=>Rr(w.focus)&&w.focus(),select:()=>Rr(w.select)&&w.select(),setCustomValidity:E=>Rr(w.setCustomValidity)&&w.setCustomValidity(E),reportValidity:()=>Rr(w.reportValidity)&&w.reportValidity()})},[i._fields,r]),x=Te.useMemo(()=>({name:r,value:c,...an(n)||d.disabled?{disabled:d.disabled||n}:{},onChange:b,onBlur:y,ref:v}),[r,n,d.disabled,b,y,v,c]);return Te.useEffect(()=>{const w=i._options.shouldUnregister||s,_=p.current;_&&_!==r&&!l&&i.unregister(_),i.register(r,{...f.current.rules,...an(f.current.disabled)?{disabled:f.current.disabled}:{}});const E=(O,S)=>{const T=ae(i._fields,O);T&&T._f&&(T._f.mount=S)};if(E(r,!0),w){const O=zt(ae(i._options.defaultValues,r,f.current.defaultValue));Xe(i._defaultValues,r,O),St(ae(i._formValues,r))&&Xe(i._formValues,r,O)}return!l&&i.register(r),p.current=r,()=>{(l?w&&!i._state.action:w)?i.unregister(r):E(r,!1)}},[r,i,l,s]),Te.useEffect(()=>{i._setDisabledField({disabled:n,name:r})},[n,r,i]),Te.useMemo(()=>({field:x,formState:d,fieldState:g}),[x,d,g])}const kf=t=>t.render(Hre(t));var Vre=(t,e,r,n,i)=>e?{...r[t],types:{...r[t]&&r[t].types?r[t].types:{},[n]:i||!0}}:{},dc=t=>Array.isArray(t)?t:[t],kN=()=>{let t=[];return{get observers(){return t},next:i=>{for(const s of t)s.next&&s.next(i)},subscribe:i=>(t.push(i),{unsubscribe:()=>{t=t.filter(s=>s!==i)}}),unsubscribe:()=>{t=[]}}};function iK(t,e){const r={};for(const n in t)if(t.hasOwnProperty(n)){const i=t[n],s=e[n];if(i&&$t(i)&&s){const o=iK(i,s);$t(o)&&(r[n]=o)}else t[n]&&(r[n]=s)}return r}var Or=t=>$t(t)&&!Object.keys(t).length,vC=t=>t.type==="file",Df=t=>{if(!dC)return!1;const e=t?t.ownerDocument:0;return t instanceof(e&&e.defaultView?e.defaultView.HTMLElement:HTMLElement)},sK=t=>t.type==="select-multiple",yC=t=>t.type==="radio",Kre=t=>yC(t)||wd(t),Am=t=>Df(t)&&t.isConnected;function Gre(t,e){const r=e.slice(0,-1).length;let n=0;for(;n<r;)t=St(t)?n++:t[e[n++]];return t}function Yre(t){for(const e in t)if(t.hasOwnProperty(e)&&!St(t[e]))return!1;return!0}function Rt(t,e){const r=Array.isArray(e)?e:Sp(e)?[e]:fC(e),n=r.length===1?t:Gre(t,r),i=r.length-1,s=r[i];return n&&delete n[s],i!==0&&($t(n)&&Or(n)||Array.isArray(n)&&Yre(n))&&Rt(t,r.slice(0,-1)),t}var Qre=t=>{for(const e in t)if(Rr(t[e]))return!0;return!1};function oK(t){return Array.isArray(t)||$t(t)&&!Qre(t)}function AP(t,e={}){for(const r in t){const n=t[r];oK(n)?(e[r]=Array.isArray(n)?[]:{},AP(n,e[r])):St(n)||(e[r]=!0)}return e}function Ba(t,e,r){r||(r=AP(e));for(const n in t){const i=t[n];if(oK(i))St(e)||MP(r[n])?r[n]=AP(i,Array.isArray(i)?[]:{}):Ba(i,Br(e)?{}:e[n],r[n]);else{const s=e[n];r[n]=!Kn(i,s)}}return r}const DN={value:!1,isValid:!1},qN={value:!0,isValid:!0};var aK=t=>{if(Array.isArray(t)){if(t.length>1){const e=t.filter(r=>r&&r.checked&&!r.disabled).map(r=>r.value);return{value:e,isValid:!!e.length}}return t[0].checked&&!t[0].disabled?t[0].attributes&&!St(t[0].attributes.value)?St(t[0].value)||t[0].value===""?qN:{value:t[0].value,isValid:!0}:qN:DN}return DN},lK=(t,{valueAsNumber:e,valueAsDate:r,setValueAs:n})=>St(t)?t:e?t===""?NaN:t&&+t:r&&ln(t)?new Date(t):n?n(t):t;const MN={isValid:!1,value:null};var uK=t=>Array.isArray(t)?t.reduce((e,r)=>r&&r.checked&&!r.disabled?{isValid:!0,value:r.value}:e,MN):MN;function AN(t){const e=t.ref;return vC(e)?e.files:yC(e)?uK(t.refs).value:sK(e)?[...e.selectedOptions].map(({value:r})=>r):wd(e)?aK(t.refs).value:lK(St(e.value)?t.ref.value:e.value,t)}var Xre=(t,e,r,n)=>{const i={};for(const s of t){const o=ae(e,s);o&&Xe(i,s,o._f)}return{criteriaMode:r,names:[...t],fields:i,shouldUseNativeValidation:n}},qf=t=>t instanceof RegExp,Wu=t=>St(t)?t:qf(t)?t.source:$t(t)?qf(t.value)?t.value.source:t.value:t,FN=t=>({isOnSubmit:!t||t===Vn.onSubmit,isOnBlur:t===Vn.onBlur,isOnChange:t===Vn.onChange,isOnAll:t===Vn.all,isOnTouch:t===Vn.onTouched});const LN="AsyncFunction";var Jre=t=>!!t&&!!t.validate&&!!(Rr(t.validate)&&t.validate.constructor.name===LN||$t(t.validate)&&Object.values(t.validate).find(e=>e.constructor.name===LN)),Zre=t=>t.mount&&(t.required||t.min||t.max||t.maxLength||t.minLength||t.pattern||t.validate),BN=(t,e,r)=>!r&&(e.watchAll||e.watch.has(t)||[...e.watch].some(n=>t.startsWith(n)&&/^\.\w+/.test(t.slice(n.length))));const hc=(t,e,r,n)=>{for(const i of r||Object.keys(t)){const s=ae(t,i);if(s){const{_f:o,...a}=s;if(o){if(o.refs&&o.refs[0]&&e(o.refs[0],i)&&!n)return!0;if(o.ref&&e(o.ref,o.name)&&!n)return!0;if(hc(a,e))break}else if($t(a)&&hc(a,e))break}}};function zN(t,e,r){const n=ae(t,r);if(n||Sp(r))return{error:n,name:r};const i=r.split(".");for(;i.length;){const s=i.join("."),o=ae(e,s),a=ae(t,s);if(o&&!Array.isArray(o)&&r!==s)return{name:r};if(a&&a.type)return{name:s,error:a};if(a&&a.root&&a.root.type)return{name:`${s}.root`,error:a.root};i.pop()}return{name:r}}var ene=(t,e,r,n)=>{r(t);const{name:i,...s}=t;return Or(s)||Object.keys(s).length>=Object.keys(e).length||Object.keys(s).find(o=>e[o]===(!n||Vn.all))},tne=(t,e,r)=>!t||!e||t===e||dc(t).some(n=>n&&(r?n===e:n.startsWith(e)||e.startsWith(n))),rne=(t,e,r,n,i)=>i.isOnAll?!1:!r&&i.isOnTouch?!(e||t):(r?n.isOnBlur:i.isOnBlur)?!t:(r?n.isOnChange:i.isOnChange)?t:!0,nne=(t,e)=>!hC(ae(t,e)).length&&Rt(t,e),ine=(t,e,r)=>{const n=dc(ae(t,r));return Xe(n,"root",e[r]),Xe(t,r,n),t};function UN(t,e,r="validate"){if(ln(t)||Array.isArray(t)&&t.every(ln)||an(t)&&!t)return{type:r,message:ln(t)?t:"",ref:e}}var Ma=t=>$t(t)&&!qf(t)?t:{value:t,message:""},WN=async(t,e,r,n,i,s)=>{const{ref:o,refs:a,required:l,maxLength:u,minLength:c,min:d,max:f,pattern:p,validate:m,name:g,valueAsNumber:b,mount:y}=t._f,v=ae(r,g);if(!y||e.has(g))return{};const x=a?a[0]:o,w=C=>{i&&x.reportValidity&&(x.setCustomValidity(an(C)?"":C||""),x.reportValidity())},_={},E=yC(o),O=wd(o),S=E||O,T=(b||vC(o))&&St(o.value)&&St(v)||Df(o)&&o.value===""||v===""||Array.isArray(v)&&!v.length,P=Vre.bind(null,g,n,_),R=(C,I,q,B=Ei.maxLength,re=Ei.minLength)=>{const Q=C?I:q;_[g]={type:C?B:re,message:Q,ref:o,...P(C?B:re,Q)}};if(s?!Array.isArray(v)||!v.length:l&&(!S&&(T||Br(v))||an(v)&&!v||O&&!aK(a).isValid||E&&!uK(a).isValid)){const{value:C,message:I}=ln(l)?{value:!!l,message:l}:Ma(l);if(C&&(_[g]={type:Ei.required,message:I,ref:x,...P(Ei.required,I)},!n))return w(I),_}if(!T&&(!Br(d)||!Br(f))){let C,I;const q=Ma(f),B=Ma(d);if(!Br(v)&&!isNaN(v)){const re=o.valueAsNumber||v&&+v;Br(q.value)||(C=re>q.value),Br(B.value)||(I=re<B.value)}else{const re=o.valueAsDate||new Date(v),Q=U=>new Date(new Date().toDateString()+" "+U),L=o.type=="time",G=o.type=="week";ln(q.value)&&v&&(C=L?Q(v)>Q(q.value):G?v>q.value:re>new Date(q.value)),ln(B.value)&&v&&(I=L?Q(v)<Q(B.value):G?v<B.value:re<new Date(B.value))}if((C||I)&&(R(!!C,q.message,B.message,Ei.max,Ei.min),!n))return w(_[g].message),_}if((u||c)&&!T&&(ln(v)||s&&Array.isArray(v))){const C=Ma(u),I=Ma(c),q=!Br(C.value)&&v.length>+C.value,B=!Br(I.value)&&v.length<+I.value;if((q||B)&&(R(q,C.message,I.message),!n))return w(_[g].message),_}if(p&&!T&&ln(v)){const{value:C,message:I}=Ma(p);if(qf(C)&&!v.match(C)&&(_[g]={type:Ei.pattern,message:I,ref:o,...P(Ei.pattern,I)},!n))return w(I),_}if(m){if(Rr(m)){const C=await m(v,r),I=UN(C,x);if(I&&(_[g]={...I,...P(Ei.validate,I.message)},!n))return w(I.message),_}else if($t(m)){let C={};for(const I in m){if(!Or(C)&&!n)break;const q=UN(await m[I](v,r),x,I);q&&(C={...q,...P(I,q.message)},w(q.message),n&&(_[g]=C))}if(!Or(C)&&(_[g]={ref:x,...C},!n))return _}}return w(!0),_};const sne={mode:Vn.onSubmit,reValidateMode:Vn.onChange,shouldFocusError:!0};function one(t={}){let e={...sne,...t},r={submitCount:0,isDirty:!1,isReady:!1,isLoading:Rr(e.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1},n={},i=$t(e.defaultValues)||$t(e.values)?zt(e.defaultValues||e.values)||{}:{},s=e.shouldUnregister?{}:zt(i),o={action:!1,mount:!1,watch:!1,keepIsValid:!1},a={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},l,u=0;const c={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},d={...c};let f={...d};const p={array:kN(),state:kN()},m=e.criteriaMode===Vn.all,g=$=>D=>{clearTimeout(u),u=setTimeout($,D)},b=async $=>{if(!o.keepIsValid&&!e.disabled&&(d.isValid||f.isValid||$)){let D;e.resolver?(D=Or((await S()).errors),y()):D=await P(n,!0),D!==r.isValid&&p.state.next({isValid:D})}},y=($,D)=>{!e.disabled&&(d.isValidating||d.validatingFields||f.isValidating||f.validatingFields)&&(($||Array.from(a.mount)).forEach(F=>{F&&(D?Xe(r.validatingFields,F,D):Rt(r.validatingFields,F))}),p.state.next({validatingFields:r.validatingFields,isValidating:!Or(r.validatingFields)}))},v=($,D=[],F,oe,ne=!0,X=!0)=>{if(oe&&F&&!e.disabled){if(o.action=!0,X&&Array.isArray(ae(n,$))){const de=F(ae(n,$),oe.argA,oe.argB);ne&&Xe(n,$,de)}if(X&&Array.isArray(ae(r.errors,$))){const de=F(ae(r.errors,$),oe.argA,oe.argB);ne&&Xe(r.errors,$,de),nne(r.errors,$)}if((d.touchedFields||f.touchedFields)&&X&&Array.isArray(ae(r.touchedFields,$))){const de=F(ae(r.touchedFields,$),oe.argA,oe.argB);ne&&Xe(r.touchedFields,$,de)}(d.dirtyFields||f.dirtyFields)&&(r.dirtyFields=Ba(i,s)),p.state.next({name:$,isDirty:C($,D),dirtyFields:r.dirtyFields,errors:r.errors,isValid:r.isValid})}else Xe(s,$,D)},x=($,D)=>{Xe(r.errors,$,D),p.state.next({errors:r.errors})},w=$=>{r.errors=$,p.state.next({errors:r.errors,isValid:!1})},_=($,D,F,oe)=>{const ne=ae(n,$);if(ne){const X=ae(s,$,St(F)?ae(i,$):F);St(X)||oe&&oe.defaultChecked||D?Xe(s,$,D?X:AN(ne._f)):B($,X),o.mount&&!o.action&&b()}},E=($,D,F,oe,ne)=>{let X=!1,de=!1;const k={name:$};if(!e.disabled){if(!F||oe){(d.isDirty||f.isDirty)&&(de=r.isDirty,r.isDirty=k.isDirty=C(),X=de!==k.isDirty);const H=Kn(ae(i,$),D);de=!!ae(r.dirtyFields,$),H?Rt(r.dirtyFields,$):Xe(r.dirtyFields,$,!0),k.dirtyFields=r.dirtyFields,X=X||(d.dirtyFields||f.dirtyFields)&&de!==!H}if(F){const H=ae(r.touchedFields,$);H||(Xe(r.touchedFields,$,F),k.touchedFields=r.touchedFields,X=X||(d.touchedFields||f.touchedFields)&&H!==F)}X&&ne&&p.state.next(k)}return X?k:{}},O=($,D,F,oe)=>{const ne=ae(r.errors,$),X=(d.isValid||f.isValid)&&an(D)&&r.isValid!==D;if(e.delayError&&F?(l=g(()=>x($,F)),l(e.delayError)):(clearTimeout(u),l=null,F?Xe(r.errors,$,F):Rt(r.errors,$)),(F?!Kn(ne,F):ne)||!Or(oe)||X){const de={...oe,...X&&an(D)?{isValid:D}:{},errors:r.errors,name:$};r={...r,...de},p.state.next(de)}},S=async $=>(y($,!0),await e.resolver(s,e.context,Xre($||a.mount,n,e.criteriaMode,e.shouldUseNativeValidation))),T=async $=>{const{errors:D}=await S($);if(y($),$)for(const F of $){const oe=ae(D,F);oe?Xe(r.errors,F,oe):Rt(r.errors,F)}else r.errors=D;return D},P=async($,D,F={valid:!0})=>{for(const oe in $){const ne=$[oe];if(ne){const{_f:X,...de}=ne;if(X){const k=a.array.has(X.name),H=ne._f&&Jre(ne._f);H&&d.validatingFields&&y([X.name],!0);const le=await WN(ne,a.disabled,s,m,e.shouldUseNativeValidation&&!D,k);if(H&&d.validatingFields&&y([X.name]),le[X.name]&&(F.valid=!1,D))break;!D&&(ae(le,X.name)?k?ine(r.errors,le,X.name):Xe(r.errors,X.name,le[X.name]):Rt(r.errors,X.name))}!Or(de)&&await P(de,D,F)}}return F.valid},R=()=>{for(const $ of a.unMount){const D=ae(n,$);D&&(D._f.refs?D._f.refs.every(F=>!Am(F)):!Am(D._f.ref))&&Ie($)}a.unMount=new Set},C=($,D)=>!e.disabled&&($&&D&&Xe(s,$,D),!Kn(z(),i)),I=($,D,F)=>qP($,a,{...o.mount?s:St(D)?i:ln($)?{[$]:D}:D},F,D),q=$=>hC(ae(o.mount?s:i,$,e.shouldUnregister?ae(i,$,[]):[])),B=($,D,F={})=>{const oe=ae(n,$);let ne=D;if(oe){const X=oe._f;X&&(!X.disabled&&Xe(s,$,lK(D,X)),ne=Df(X.ref)&&Br(D)?"":D,sK(X.ref)?[...X.ref.options].forEach(de=>de.selected=ne.includes(de.value)):X.refs?wd(X.ref)?X.refs.forEach(de=>{(!de.defaultChecked||!de.disabled)&&(Array.isArray(ne)?de.checked=!!ne.find(k=>k===de.value):de.checked=ne===de.value||!!ne)}):X.refs.forEach(de=>de.checked=de.value===ne):vC(X.ref)?X.ref.value="":(X.ref.value=ne,X.ref.type||p.state.next({name:$,values:zt(s)})))}(F.shouldDirty||F.shouldTouch)&&E($,ne,F.shouldTouch,F.shouldDirty,!0),F.shouldValidate&&U($)},re=($,D,F)=>{for(const oe in D){if(!D.hasOwnProperty(oe))return;const ne=D[oe],X=$+"."+oe,de=ae(n,X);(a.array.has($)||$t(ne)||de&&!de._f)&&!Eo(ne)?re(X,ne,F):B(X,ne,F)}},Q=($,D,F={})=>{const oe=ae(n,$),ne=a.array.has($),X=zt(D);Xe(s,$,X),ne?(p.array.next({name:$,values:zt(s)}),(d.isDirty||d.dirtyFields||f.isDirty||f.dirtyFields)&&F.shouldDirty&&p.state.next({name:$,dirtyFields:Ba(i,s),isDirty:C($,X)})):oe&&!oe._f&&!Br(X)?re($,X,F):B($,X,F),BN($,a)&&p.state.next({...r,name:$}),p.state.next({name:o.mount?$:void 0,values:zt(s)})},L=async $=>{o.mount=!0;const D=$.target;let F=D.name,oe=!0;const ne=ae(n,F),X=H=>{oe=Number.isNaN(H)||Eo(H)&&isNaN(H.getTime())||Kn(H,ae(s,F,H))},de=FN(e.mode),k=FN(e.reValidateMode);if(ne){let H,le;const K=D.type?AN(ne._f):eK($),W=$.type===jf.BLUR||$.type===jf.FOCUS_OUT,V=!Zre(ne._f)&&!e.resolver&&!ae(r.errors,F)&&!ne._f.deps||rne(W,ae(r.touchedFields,F),r.isSubmitted,k,de),Y=BN(F,a,W);Xe(s,F,K),W?(!D||!D.readOnly)&&(ne._f.onBlur&&ne._f.onBlur($),l&&l(0)):ne._f.onChange&&ne._f.onChange($);const pe=E(F,K,W),$e=!Or(pe)||Y;if(!W&&p.state.next({name:F,type:$.type,values:zt(s)}),V)return(d.isValid||f.isValid)&&(e.mode==="onBlur"?W&&b():W||b()),$e&&p.state.next({name:F,...Y?{}:pe});if(!W&&Y&&p.state.next({...r}),e.resolver){const{errors:Vt}=await S([F]);if(y([F]),X(K),oe){const _r=zN(r.errors,n,F),qn=zN(Vt,n,_r.name||F);H=qn.error,F=qn.name,le=Or(Vt)}}else y([F],!0),H=(await WN(ne,a.disabled,s,m,e.shouldUseNativeValidation))[F],y([F]),X(K),oe&&(H?le=!1:(d.isValid||f.isValid)&&(le=await P(n,!0)));oe&&(ne._f.deps&&(!Array.isArray(ne._f.deps)||ne._f.deps.length>0)&&U(ne._f.deps),O(F,le,H,pe))}},G=($,D)=>{if(ae(r.errors,D)&&$.focus)return $.focus(),1},U=async($,D={})=>{let F,oe;const ne=dc($);if(e.resolver){const X=await T(St($)?$:ne);F=Or(X),oe=$?!ne.some(de=>ae(X,de)):F}else $?(oe=(await Promise.all(ne.map(async X=>{const de=ae(n,X);return await P(de&&de._f?{[X]:de}:de)}))).every(Boolean),!(!oe&&!r.isValid)&&b()):oe=F=await P(n);return p.state.next({...!ln($)||(d.isValid||f.isValid)&&F!==r.isValid?{}:{name:$},...e.resolver||!$?{isValid:F}:{},errors:r.errors}),D.shouldFocus&&!oe&&hc(n,G,$?ne:a.mount),oe},z=($,D)=>{let F={...o.mount?s:i};return D&&(F=iK(D.dirtyFields?r.dirtyFields:r.touchedFields,F)),St($)?F:ln($)?ae(F,$):$.map(oe=>ae(F,oe))},te=($,D)=>({invalid:!!ae((D||r).errors,$),isDirty:!!ae((D||r).dirtyFields,$),error:ae((D||r).errors,$),isValidating:!!ae(r.validatingFields,$),isTouched:!!ae((D||r).touchedFields,$)}),fe=$=>{$&&dc($).forEach(D=>Rt(r.errors,D)),p.state.next({errors:$?r.errors:{}})},ye=($,D,F)=>{const oe=(ae(n,$,{_f:{}})._f||{}).ref,ne=ae(r.errors,$)||{},{ref:X,message:de,type:k,...H}=ne;Xe(r.errors,$,{...H,...D,ref:oe}),p.state.next({name:$,errors:r.errors,isValid:!1}),F&&F.shouldFocus&&oe&&oe.focus&&oe.focus()},ke=($,D)=>Rr($)?p.state.subscribe({next:F=>"values"in F&&$(I(void 0,D),F)}):I($,D,!0),be=$=>p.state.subscribe({next:D=>{tne($.name,D.name,$.exact)&&ene(D,$.formState||d,Lt,$.reRenderRoot)&&$.callback({values:{...s},...r,...D,defaultValues:i})}}).unsubscribe,we=$=>(o.mount=!0,f={...f,...$.formState},be({...$,formState:{...c,...$.formState}})),Ie=($,D={})=>{for(const F of $?dc($):a.mount)a.mount.delete(F),a.array.delete(F),D.keepValue||(Rt(n,F),Rt(s,F)),!D.keepError&&Rt(r.errors,F),!D.keepDirty&&Rt(r.dirtyFields,F),!D.keepTouched&&Rt(r.touchedFields,F),!D.keepIsValidating&&Rt(r.validatingFields,F),!e.shouldUnregister&&!D.keepDefaultValue&&Rt(i,F);p.state.next({values:zt(s)}),p.state.next({...r,...D.keepDirty?{isDirty:C()}:{}}),!D.keepIsValid&&b()},yt=({disabled:$,name:D})=>{(an($)&&o.mount||$||a.disabled.has(D))&&($?a.disabled.add(D):a.disabled.delete(D))},rt=($,D={})=>{let F=ae(n,$);const oe=an(D.disabled)||an(e.disabled);return Xe(n,$,{...F||{},_f:{...F&&F._f?F._f:{ref:{name:$}},name:$,mount:!0,...D}}),a.mount.add($),F?yt({disabled:an(D.disabled)?D.disabled:e.disabled,name:$}):_($,!0,D.value),{...oe?{disabled:D.disabled||e.disabled}:{},...e.progressive?{required:!!D.required,min:Wu(D.min),max:Wu(D.max),minLength:Wu(D.minLength),maxLength:Wu(D.maxLength),pattern:Wu(D.pattern)}:{},name:$,onChange:L,onBlur:L,ref:ne=>{if(ne){rt($,D),F=ae(n,$);const X=St(ne.value)&&ne.querySelectorAll&&ne.querySelectorAll("input,select,textarea")[0]||ne,de=Kre(X),k=F._f.refs||[];if(de?k.find(H=>H===X):X===F._f.ref)return;Xe(n,$,{_f:{...F._f,...de?{refs:[...k.filter(Am),X,...Array.isArray(ae(i,$))?[{}]:[]],ref:{type:X.type,name:$}}:{ref:X}}}),_($,!1,void 0,X)}else F=ae(n,$,{}),F._f&&(F._f.mount=!1),(e.shouldUnregister||D.shouldUnregister)&&!(tK(a.array,$)&&o.action)&&a.unMount.add($)}}},gt=()=>e.shouldFocusError&&hc(n,G,a.mount),xr=$=>{an($)&&(p.state.next({disabled:$}),hc(n,(D,F)=>{const oe=ae(n,F);oe&&(D.disabled=oe._f.disabled||$,Array.isArray(oe._f.refs)&&oe._f.refs.forEach(ne=>{ne.disabled=oe._f.disabled||$}))},0,!1))},Qe=($,D)=>async F=>{let oe;F&&(F.preventDefault&&F.preventDefault(),F.persist&&F.persist());let ne=zt(s);if(p.state.next({isSubmitting:!0}),e.resolver){const{errors:X,values:de}=await S();y(),r.errors=X,ne=zt(de)}else await P(n);if(a.disabled.size)for(const X of a.disabled)Rt(ne,X);if(Rt(r.errors,"root"),Or(r.errors)){p.state.next({errors:{}});try{await $(ne,F)}catch(X){oe=X}}else D&&await D({...r.errors},F),gt(),setTimeout(gt);if(p.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:Or(r.errors)&&!oe,submitCount:r.submitCount+1,errors:r.errors}),oe)throw oe},nt=($,D={})=>{ae(n,$)&&(St(D.defaultValue)?Q($,zt(ae(i,$))):(Q($,D.defaultValue),Xe(i,$,zt(D.defaultValue))),D.keepTouched||Rt(r.touchedFields,$),D.keepDirty||(Rt(r.dirtyFields,$),r.isDirty=D.defaultValue?C($,zt(ae(i,$))):C()),D.keepError||(Rt(r.errors,$),d.isValid&&b()),p.state.next({...r}))},yn=($,D={})=>{const F=$?zt($):i,oe=zt(F),ne=Or($),X=ne?i:oe;if(D.keepDefaultValues||(i=F),!D.keepValues){if(D.keepDirtyValues){const de=new Set([...a.mount,...Object.keys(Ba(i,s))]);for(const k of Array.from(de))ae(r.dirtyFields,k)?Xe(X,k,ae(s,k)):Q(k,ae(X,k))}else{if(dC&&St($))for(const de of a.mount){const k=ae(n,de);if(k&&k._f){const H=Array.isArray(k._f.refs)?k._f.refs[0]:k._f.ref;if(Df(H)){const le=H.closest("form");if(le){le.reset();break}}}}if(D.keepFieldsRef)for(const de of a.mount)Q(de,ae(X,de));else n={}}s=e.shouldUnregister?D.keepDefaultValues?zt(i):{}:zt(X),p.array.next({values:{...X}}),p.state.next({values:{...X}})}a={mount:D.keepDirtyValues?a.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},o.mount=!d.isValid||!!D.keepIsValid||!!D.keepDirtyValues||!e.shouldUnregister&&!Or(X),o.watch=!!e.shouldUnregister,o.keepIsValid=!!D.keepIsValid,o.action=!1,D.keepErrors||(r.errors={}),p.state.next({submitCount:D.keepSubmitCount?r.submitCount:0,isDirty:ne?!1:D.keepDirty?r.isDirty:!!(D.keepDefaultValues&&!Kn($,i)),isSubmitted:D.keepIsSubmitted?r.isSubmitted:!1,dirtyFields:ne?{}:D.keepDirtyValues?D.keepDefaultValues&&s?Ba(i,s):r.dirtyFields:D.keepDefaultValues&&$?Ba(i,$):D.keepDirty?r.dirtyFields:{},touchedFields:D.keepTouched?r.touchedFields:{},errors:D.keepErrors?r.errors:{},isSubmitSuccessful:D.keepIsSubmitSuccessful?r.isSubmitSuccessful:!1,isSubmitting:!1,defaultValues:i})},Ar=($,D)=>yn(Rr($)?$(s):$,{...e.resetOptions,...D}),Ke=($,D={})=>{const F=ae(n,$),oe=F&&F._f;if(oe){const ne=oe.refs?oe.refs[0]:oe.ref;ne.focus&&setTimeout(()=>{ne.focus(),D.shouldSelect&&Rr(ne.select)&&ne.select()})}},Lt=$=>{r={...r,...$}},Bt={control:{register:rt,unregister:Ie,getFieldState:te,handleSubmit:Qe,setError:ye,_subscribe:be,_runSchema:S,_updateIsValidating:y,_focusError:gt,_getWatch:I,_getDirty:C,_setValid:b,_setFieldArray:v,_setDisabledField:yt,_setErrors:w,_getFieldArray:q,_reset:yn,_resetDefaultValues:()=>Rr(e.defaultValues)&&e.defaultValues().then($=>{Ar($,e.resetOptions),p.state.next({isLoading:!1})}),_removeUnmounted:R,_disableForm:xr,_subjects:p,_proxyFormState:d,get _fields(){return n},get _formValues(){return s},get _state(){return o},set _state($){o=$},get _defaultValues(){return i},get _names(){return a},set _names($){a=$},get _formState(){return r},get _options(){return e},set _options($){e={...e,...$}}},subscribe:we,trigger:U,register:rt,handleSubmit:Qe,watch:ke,setValue:Q,getValues:z,reset:Ar,resetField:nt,clearErrors:fe,unregister:Ie,setError:ye,setFocus:Ke,getFieldState:te};return{...Bt,formControl:Bt}}function su(t={}){const e=Te.useRef(void 0),r=Te.useRef(void 0),[n,i]=Te.useState({isDirty:!1,isValidating:!1,isLoading:Rr(t.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1,isReady:!1,defaultValues:Rr(t.defaultValues)?void 0:t.defaultValues});if(!e.current)if(t.formControl)e.current={...t.formControl,formState:n},t.defaultValues&&!Rr(t.defaultValues)&&t.formControl.reset(t.defaultValues,t.resetOptions);else{const{formControl:o,...a}=one(t);e.current={...a,formState:n}}const s=e.current.control;return s._options=t,mC(()=>{const o=s._subscribe({formState:s._proxyFormState,callback:()=>i({...s._formState}),reRenderRoot:!0});return i(a=>({...a,isReady:!0})),s._formState.isReady=!0,o},[s]),Te.useEffect(()=>s._disableForm(t.disabled),[s,t.disabled]),Te.useEffect(()=>{t.mode&&(s._options.mode=t.mode),t.reValidateMode&&(s._options.reValidateMode=t.reValidateMode)},[s,t.mode,t.reValidateMode]),Te.useEffect(()=>{t.errors&&(s._setErrors(t.errors),s._focusError())},[s,t.errors]),Te.useEffect(()=>{t.shouldUnregister&&s._subjects.state.next({values:s._getWatch()})},[s,t.shouldUnregister]),Te.useEffect(()=>{if(s._proxyFormState.isDirty){const o=s._getDirty();o!==n.isDirty&&s._subjects.state.next({isDirty:o})}},[s,n.isDirty]),Te.useEffect(()=>{var o;t.values&&!Kn(t.values,r.current)?(s._reset(t.values,{keepFieldsRef:!0,...s._options.resetOptions}),!((o=s._options.resetOptions)===null||o===void 0)&&o.keepIsValid||s._setValid(),r.current=t.values,i(a=>({...a}))):s._resetDefaultValues()},[s,t.values]),Te.useEffect(()=>{s._state.mount||(s._setValid(),s._state.mount=!0),s._state.watch&&(s._state.watch=!1,s._subjects.state.next({...s._formState})),s._removeUnmounted()}),e.current.formState=nK(n,s),e.current}function HN(){var g;const{id:t}=es(),e=en(),r=!!t,{data:n,isLoading:i}=iu(t),s=kre(),o=bd(),{data:a=[]}=ft({queryKey:["date-types"],queryFn:async()=>(await Le.getDateTypes()).data}),l=a.find(b=>b.slug==="birthday"||b.name.toLowerCase()==="birthday"),{register:u,handleSubmit:c,reset:d,formState:{errors:f,isSubmitting:p}}=su({defaultValues:{first_name:"",last_name:"",nickname:"",gender:"",email:"",how_we_met:"",is_favorite:!1,birthday:""}});j.useEffect(()=>{var b,y,v,x,w,_,E,O;if(n){const S=(y=(b=n.acf)==null?void 0:b.contact_info)==null?void 0:y.find(P=>P.contact_type==="email"),T=(S==null?void 0:S.contact_value)||"";d({first_name:((v=n.acf)==null?void 0:v.first_name)||"",last_name:((x=n.acf)==null?void 0:x.last_name)||"",nickname:((w=n.acf)==null?void 0:w.nickname)||"",gender:((_=n.acf)==null?void 0:_.gender)||"",email:T,how_we_met:((E=n.acf)==null?void 0:E.how_we_met)||"",is_favorite:((O=n.acf)==null?void 0:O.is_favorite)||!1,birthday:""})}},[n,d]),wi(r&&n?`Edit ${((g=n.title)==null?void 0:g.rendered)||n.title||"Person"}`:"New Person");const m=async b=>{try{const v=`${b.first_name||""} ${b.last_name||""}`.trim()||"Unnamed Person",x={title:v,status:"publish",acf:{first_name:b.first_name,last_name:b.last_name,nickname:b.nickname,gender:b.gender||"",how_we_met:b.how_we_met,is_favorite:b.is_favorite}};if(!r&&b.email&&(x.acf.contact_info=[{contact_type:"email",contact_value:b.email,contact_label:""}]),r)x.title=v,await o.mutateAsync({id:t,data:x}),e(`/people/${t}`);else{const _=(await s.mutateAsync(x)).data.id;if(b.email)try{await Xr.sideloadGravatar(_,b.email)}catch(E){console.error("Failed to load Gravatar:",E)}if(b.birthday&&l)try{const E=b.first_name||"Person";await Le.createDate({title:`${E}'s Birthday`,status:"publish",date_type:[l.id],acf:{date_value:b.birthday,is_recurring:!0,related_people:[_],reminder_days_before:7}})}catch(E){console.error("Failed to create birthday:",E)}e(`/people/${_}`)}}catch(y){console.error("Failed to save person:",y)}};return r&&i?h.jsx("div",{className:"flex items-center justify-center h-64",children:h.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"})}):h.jsxs("div",{className:"max-w-2xl mx-auto space-y-6",children:[h.jsx("div",{className:"flex items-center justify-between",children:h.jsxs(ve,{to:"/people",className:"flex items-center text-gray-600 hover:text-gray-900",children:[h.jsx(ts,{className:"w-4 h-4 mr-2"}),"Back to People"]})}),h.jsxs("div",{className:"card p-6",children:[h.jsx("h1",{className:"text-xl font-bold mb-6",children:r?"Edit Person":"Add New Person"}),h.jsxs("form",{onSubmit:c(m),className:"space-y-6",children:[h.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[h.jsxs("div",{children:[h.jsx("label",{className:"label",children:"First Name *"}),h.jsx("input",{...u("first_name",{required:"First name is required"}),className:"input",placeholder:"John"}),f.first_name&&h.jsx("p",{className:"text-sm text-red-600 mt-1",children:f.first_name.message})]}),h.jsxs("div",{children:[h.jsx("label",{className:"label",children:"Last Name"}),h.jsx("input",{...u("last_name"),className:"input",placeholder:"Doe"})]})]}),h.jsxs("div",{children:[h.jsx("label",{className:"label",children:"Nickname"}),h.jsx("input",{...u("nickname"),className:"input",placeholder:"Johnny"})]}),h.jsxs("div",{children:[h.jsx("label",{className:"label",children:"Gender"}),h.jsxs("select",{...u("gender"),className:"input",children:[h.jsx("option",{value:"",children:"Select gender..."}),h.jsx("option",{value:"male",children:"Male"}),h.jsx("option",{value:"female",children:"Female"}),h.jsx("option",{value:"non_binary",children:"Non-binary"}),h.jsx("option",{value:"other",children:"Other"}),h.jsx("option",{value:"prefer_not_to_say",children:"Prefer not to say"})]})]}),!r&&h.jsxs("div",{children:[h.jsx("label",{className:"label",children:"Email"}),h.jsx("input",{type:"email",...u("email"),className:"input",placeholder:"john@example.com"}),h.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Optional: If a Gravatar is associated with this email, it will be automatically set as the profile photo"})]}),!r&&h.jsxs("div",{children:[h.jsx("label",{className:"label",children:"Birthday"}),h.jsx("input",{type:"date",...u("birthday"),className:"input"}),h.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Optional: Set their birthday when creating a new person"})]}),h.jsxs("div",{children:[h.jsx("label",{className:"label",children:"How We Met"}),h.jsx("textarea",{...u("how_we_met"),className:"input",rows:4,placeholder:"We met at..."})]}),h.jsxs("div",{className:"flex items-center",children:[h.jsx("input",{type:"checkbox",...u("is_favorite"),className:"w-4 h-4 rounded border-gray-300 text-primary-600 focus:ring-primary-500"}),h.jsx("label",{className:"ml-2 text-sm text-gray-700",children:"Mark as favorite"})]}),h.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t",children:[h.jsx(ve,{to:"/people",className:"btn-secondary",children:"Cancel"}),h.jsxs("button",{type:"submit",className:"btn-primary",disabled:p,children:[p?h.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}):h.jsx(Xs,{className:"w-4 h-4 mr-2"}),r?"Save Changes":"Create Person"]})]})]})]})]})}function ane({value:t,onChange:e,companies:r,isLoading:n}){return h.jsxs("select",{value:t||"",onChange:i=>e(i.target.value?parseInt(i.target.value,10):null),className:"input",disabled:n,children:[h.jsx("option",{value:"",children:"Select a company..."}),r.map(i=>{var s;return h.jsx("option",{value:i.id,children:((s=i.title)==null?void 0:s.rendered)||i.title},i.id)})]})}function VN(){var v,x;const{personId:t,index:e}=es(),r=en();qr();const n=parseInt(e,10),i=!isNaN(n),{data:s,isLoading:o}=iu(t),a=bd(),{data:l=[],isLoading:u}=ft({queryKey:["companies","all"],queryFn:async()=>(await Le.getCompanies({per_page:100,orderby:"title",order:"asc"})).data}),{register:c,handleSubmit:d,reset:f,watch:p,control:m,formState:{errors:g,isSubmitting:b}}=su({defaultValues:{company:null,job_title:"",description:"",start_date:"",end_date:"",is_current:!1}});j.useEffect(()=>{var w;if(s&&i){const E=(((w=s.acf)==null?void 0:w.work_history)||[])[n];E&&f({company:E.company||null,job_title:E.job_title||"",description:E.description||"",start_date:E.start_date||"",end_date:E.end_date||"",is_current:E.is_current||!1})}},[s,n,i,f]),wi(i?`Edit Work History - ${((v=s==null?void 0:s.title)==null?void 0:v.rendered)||(s==null?void 0:s.title)||"Person"}`:`Add Work History - ${((x=s==null?void 0:s.title)==null?void 0:x.rendered)||(s==null?void 0:s.title)||"Person"}`);const y=async w=>{var _,E,O;try{const S=[...((_=s.acf)==null?void 0:_.work_history)||[]],T={company:w.company||null,job_title:w.job_title||"",description:w.description||"",start_date:w.start_date||"",end_date:w.end_date||"",is_current:w.is_current||!1};i?S[n]=T:S.push(T);const P={...s.acf,work_history:S,contact_info:Array.isArray((E=s.acf)==null?void 0:E.contact_info)?s.acf.contact_info:[],relationships:Array.isArray((O=s.acf)==null?void 0:O.relationships)?s.acf.relationships:[]};await a.mutateAsync({id:t,data:{acf:P}}),r(`/people/${t}`)}catch(S){console.error("Failed to save work history:",S)}};return p("is_current"),o?h.jsx("div",{className:"flex items-center justify-center h-64",children:h.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"})}):s?h.jsxs("div",{className:"max-w-2xl mx-auto space-y-6",children:[h.jsx("div",{className:"flex items-center justify-between",children:h.jsxs(ve,{to:`/people/${t}`,className:"flex items-center text-gray-600 hover:text-gray-900",children:[h.jsx(ts,{className:"w-4 h-4 mr-2"}),"Back to Person"]})}),h.jsxs("div",{className:"card p-6",children:[h.jsx("h1",{className:"text-xl font-bold mb-6",children:i?"Edit Work History":"Add Work History"}),h.jsxs("form",{onSubmit:d(y),className:"space-y-6",children:[h.jsxs("div",{children:[h.jsx("label",{className:"label",children:"Company"}),h.jsx(kf,{name:"company",control:m,render:({field:w})=>h.jsx(ane,{value:w.value,onChange:w.onChange,companies:l,isLoading:u})})]}),h.jsxs("div",{children:[h.jsx("label",{className:"label",children:"Job Title"}),h.jsx("input",{...c("job_title"),className:"input",placeholder:"e.g., Software Engineer"})]}),h.jsxs("div",{children:[h.jsx("label",{className:"label",children:"Description"}),h.jsx("textarea",{...c("description"),className:"input",rows:4,placeholder:"Job description, responsibilities, achievements..."})]}),h.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[h.jsxs("div",{children:[h.jsx("label",{className:"label",children:"Start Date"}),h.jsx("input",{type:"date",...c("start_date"),className:"input"})]}),h.jsxs("div",{children:[h.jsx("label",{className:"label",children:"End Date"}),h.jsx("input",{type:"date",...c("end_date"),className:"input"}),h.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Optional: Set a future end date to automatically mark as former when it passes"})]})]}),h.jsxs("div",{className:"flex items-center",children:[h.jsx("input",{type:"checkbox",...c("is_current"),className:"w-4 h-4 rounded border-gray-300 text-primary-600 focus:ring-primary-500"}),h.jsx("label",{className:"ml-2 text-sm text-gray-700",children:"Currently works here"})]}),h.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t",children:[h.jsx(ve,{to:`/people/${t}`,className:"btn-secondary",children:"Cancel"}),h.jsxs("button",{type:"submit",className:"btn-primary",disabled:b,children:[b?h.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}):h.jsx(Xs,{className:"w-4 h-4 mr-2"}),i?"Save Changes":"Add Work History"]})]})]})]})]}):h.jsxs("div",{className:"card p-6 text-center",children:[h.jsx("p",{className:"text-red-600",children:"Failed to load person."}),h.jsx(ve,{to:"/people",className:"btn-secondary mt-4",children:"Back to People"})]})}const lne=[{value:"email",label:"Email"},{value:"phone",label:"Phone"},{value:"mobile",label:"Mobile"},{value:"address",label:"Address"},{value:"website",label:"Website"},{value:"linkedin",label:"LinkedIn"},{value:"twitter",label:"Twitter"},{value:"instagram",label:"Instagram"},{value:"facebook",label:"Facebook"},{value:"other",label:"Other"}];function KN(){var m,g;const{personId:t,index:e}=es(),r=en(),n=parseInt(e,10),i=!isNaN(n),{data:s,isLoading:o}=iu(t),a=bd(),{register:l,handleSubmit:u,reset:c,formState:{errors:d,isSubmitting:f}}=su({defaultValues:{contact_type:"",contact_label:"",contact_value:""}});j.useEffect(()=>{var b;if(s&&i){const v=(((b=s.acf)==null?void 0:b.contact_info)||[])[n];v&&c({contact_type:v.contact_type||"",contact_label:v.contact_label||"",contact_value:v.contact_value||""})}},[s,n,i,c]),wi(i?`Edit Contact Detail - ${((m=s==null?void 0:s.title)==null?void 0:m.rendered)||(s==null?void 0:s.title)||"Person"}`:`Add Contact Detail - ${((g=s==null?void 0:s.title)==null?void 0:g.rendered)||(s==null?void 0:s.title)||"Person"}`);const p=async b=>{var y,v,x;try{const w=[...((y=s.acf)==null?void 0:y.contact_info)||[]],_={contact_type:b.contact_type||"",contact_label:b.contact_label||"",contact_value:b.contact_value||""};i?w[n]=_:w.push(_);const E={...s.acf,contact_info:w,work_history:Array.isArray((v=s.acf)==null?void 0:v.work_history)?s.acf.work_history:[],relationships:Array.isArray((x=s.acf)==null?void 0:x.relationships)?s.acf.relationships:[]};await a.mutateAsync({id:t,data:{acf:E}}),r(`/people/${t}`)}catch(w){console.error("Failed to save contact detail:",w)}};return o?h.jsx("div",{className:"flex items-center justify-center h-64",children:h.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"})}):s?h.jsxs("div",{className:"max-w-2xl mx-auto space-y-6",children:[h.jsx("div",{className:"flex items-center justify-between",children:h.jsxs(ve,{to:`/people/${t}`,className:"flex items-center text-gray-600 hover:text-gray-900",children:[h.jsx(ts,{className:"w-4 h-4 mr-2"}),"Back to Person"]})}),h.jsxs("div",{className:"card p-6",children:[h.jsx("h1",{className:"text-xl font-bold mb-6",children:i?"Edit Contact Detail":"Add Contact Detail"}),h.jsxs("form",{onSubmit:u(p),className:"space-y-6",children:[h.jsxs("div",{children:[h.jsx("label",{className:"label",children:"Contact Type *"}),h.jsxs("select",{...l("contact_type",{required:"Please select a contact type"}),className:"input",children:[h.jsx("option",{value:"",children:"Select a type..."}),lne.map(b=>h.jsx("option",{value:b.value,children:b.label},b.value))]}),d.contact_type&&h.jsx("p",{className:"text-sm text-red-600 mt-1",children:d.contact_type.message})]}),h.jsxs("div",{children:[h.jsx("label",{className:"label",children:"Label"}),h.jsx("input",{...l("contact_label"),className:"input",placeholder:"e.g., Work, Personal, Home"}),h.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Optional: Add a label to distinguish multiple entries of the same type"})]}),h.jsxs("div",{children:[h.jsx("label",{className:"label",children:"Value *"}),h.jsx("input",{...l("contact_value",{required:"Please enter a contact value"}),className:"input",placeholder:"e.g., john@example.com, +1 234 567 8900"}),d.contact_value&&h.jsx("p",{className:"text-sm text-red-600 mt-1",children:d.contact_value.message})]}),h.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t",children:[h.jsx(ve,{to:`/people/${t}`,className:"btn-secondary",children:"Cancel"}),h.jsxs("button",{type:"submit",className:"btn-primary",disabled:f,children:[f?h.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}):h.jsx(Xs,{className:"w-4 h-4 mr-2"}),i?"Save Changes":"Add Contact Detail"]})]})]})]})]}):h.jsxs("div",{className:"card p-6 text-center",children:[h.jsx("p",{className:"text-red-600",children:"Failed to load person."}),h.jsx(ve,{to:"/people",className:"btn-secondary mt-4",children:"Back to People"})]})}function Fm(t){if(!t)return"";const e=document.createElement("textarea");return e.innerHTML=t,e.value}function une({value:t,onChange:e,people:r,isLoading:n,excludePersonId:i}){var y;const[s,o]=j.useState(""),[a,l]=j.useState(!1),u=j.useRef(null),c=j.useRef(null),d=j.useMemo(()=>r.filter(x=>x.id!==i).sort((x,w)=>{var O,S;const _=(x.first_name||((O=x.acf)==null?void 0:O.first_name)||"").toLowerCase(),E=(w.first_name||((S=w.acf)==null?void 0:S.first_name)||"").toLowerCase();return _<E?-1:_>E?1:0}),[r,i]),f=j.useMemo(()=>{if(!s)return d.slice(0,10);const v=s.toLowerCase();return d.filter(x=>{var O,S,T;const w=Fm(((O=x.title)==null?void 0:O.rendered)||x.title||"").toLowerCase(),_=(x.first_name||((S=x.acf)==null?void 0:S.first_name)||"").toLowerCase(),E=(x.last_name||((T=x.acf)==null?void 0:T.last_name)||"").toLowerCase();return w.includes(v)||_.includes(v)||E.includes(v)}).slice(0,10)},[d,s]),p=j.useMemo(()=>d.find(v=>v.id===t),[d,t]);j.useEffect(()=>{const v=x=>{c.current&&!c.current.contains(x.target)&&u.current&&!u.current.contains(x.target)&&l(!1)};return document.addEventListener("mousedown",v),()=>document.removeEventListener("mousedown",v)},[]);const m=v=>{e(v),o(""),l(!1)},g=()=>{e(null),o(""),l(!1)},b=p?Fm(((y=p.title)==null?void 0:y.rendered)||p.title):"";return h.jsxs("div",{className:"relative",children:[h.jsx("div",{className:"relative",children:p&&!a?h.jsxs("div",{className:"flex items-center justify-between input pr-8 cursor-text",onClick:()=>l(!0),children:[h.jsx("span",{children:b}),h.jsx("button",{type:"button",onClick:v=>{v.stopPropagation(),g()},className:"absolute right-2 text-gray-400 hover:text-gray-600",children:h.jsx(Js,{className:"w-4 h-4"})})]}):h.jsx("input",{ref:u,type:"text",value:s,onChange:v=>{o(v.target.value),l(!0)},onFocus:()=>l(!0),placeholder:"Search for a person...",className:"input",disabled:n})}),a&&(s||!p)&&h.jsx("div",{ref:c,className:"absolute z-10 w-full mt-1 bg-white border border-gray-200 rounded-lg shadow-lg max-h-48 overflow-y-auto",children:f.length>0?f.map(v=>{var x;return h.jsx("button",{type:"button",onClick:()=>m(v.id),className:`w-full text-left px-4 py-2 hover:bg-gray-50 ${t===v.id?"bg-primary-50":""}`,children:Fm(((x=v.title)==null?void 0:x.rendered)||v.title)},v.id)}):h.jsx("p",{className:"px-4 py-2 text-gray-500 text-sm",children:"No people found"})})]})}function GN(){var x,w;const{personId:t,index:e}=es(),r=en(),n=parseInt(e,10),i=!isNaN(n),{data:s,isLoading:o}=iu(t),a=bd(),{data:l=[],isLoading:u}=_p(),{data:c=[],isLoading:d}=ft({queryKey:["relationship-types"],queryFn:async()=>(await Le.getRelationshipTypes()).data}),{register:f,handleSubmit:p,reset:m,control:g,formState:{errors:b,isSubmitting:y}}=su({defaultValues:{related_person:null,relationship_type:"",relationship_label:""}});j.useEffect(()=>{var _;if(s&&i){const O=(((_=s.acf)==null?void 0:_.relationships)||[])[n];O&&m({related_person:O.related_person||null,relationship_type:O.relationship_type?String(O.relationship_type):"",relationship_label:O.relationship_label||""})}},[s,n,i,m]),wi(i?`Edit Relationship - ${((x=s==null?void 0:s.title)==null?void 0:x.rendered)||(s==null?void 0:s.title)||"Person"}`:`Add Relationship - ${((w=s==null?void 0:s.title)==null?void 0:w.rendered)||(s==null?void 0:s.title)||"Person"}`);const v=async _=>{var E,O,S;try{const T=[...((E=s.acf)==null?void 0:E.relationships)||[]],P={related_person:_.related_person||null,relationship_type:_.relationship_type||null,relationship_label:_.relationship_label||""};i?T[n]=P:T.push(P);const R={...s.acf,relationships:T,contact_info:Array.isArray((O=s.acf)==null?void 0:O.contact_info)?s.acf.contact_info:[],work_history:Array.isArray((S=s.acf)==null?void 0:S.work_history)?s.acf.work_history:[]};await a.mutateAsync({id:t,data:{acf:R}}),r(`/people/${t}`)}catch(T){console.error("Failed to save relationship:",T)}};return o?h.jsx("div",{className:"flex items-center justify-center h-64",children:h.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"})}):s?h.jsxs("div",{className:"max-w-2xl mx-auto space-y-6",children:[h.jsx("div",{className:"flex items-center justify-between",children:h.jsxs(ve,{to:`/people/${t}`,className:"flex items-center text-gray-600 hover:text-gray-900",children:[h.jsx(ts,{className:"w-4 h-4 mr-2"}),"Back to Person"]})}),h.jsxs("div",{className:"card p-6",children:[h.jsx("h1",{className:"text-xl font-bold mb-6",children:i?"Edit Relationship":"Add Relationship"}),h.jsxs("form",{onSubmit:p(v),className:"space-y-6",children:[h.jsxs("div",{children:[h.jsx("label",{className:"label",children:"Related Person *"}),h.jsx(kf,{name:"related_person",control:g,rules:{required:"Please select a person"},render:({field:_})=>h.jsx(une,{value:_.value,onChange:_.onChange,people:l,isLoading:u,excludePersonId:parseInt(t,10)})}),b.related_person&&h.jsx("p",{className:"text-sm text-red-600 mt-1",children:b.related_person.message})]}),h.jsxs("div",{children:[h.jsx("label",{className:"label",children:"Relationship Type"}),h.jsxs("select",{...f("relationship_type",{setValueAs:_=>_?parseInt(_,10):null}),className:"input",disabled:d,children:[h.jsx("option",{value:"",children:"Select a type..."}),c.map(_=>h.jsx("option",{value:_.id,children:_.name},_.id))]})]}),h.jsxs("div",{children:[h.jsx("label",{className:"label",children:"Custom Label"}),h.jsx("input",{...f("relationship_label"),className:"input",placeholder:"e.g., Brother-in-law"}),h.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Optional: Override the relationship type with a custom label"})]}),h.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t",children:[h.jsx(ve,{to:`/people/${t}`,className:"btn-secondary",children:"Cancel"}),h.jsxs("button",{type:"submit",className:"btn-primary",disabled:y,children:[y?h.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}):h.jsx(Xs,{className:"w-4 h-4 mr-2"}),i?"Save Changes":"Add Relationship"]})]})]})]})]}):h.jsxs("div",{className:"card p-6 text-center",children:[h.jsx("p",{className:"text-red-600",children:"Failed to load person."}),h.jsx(ve,{to:"/people",className:"btn-secondary mt-4",children:"Back to People"})]})}function cne({company:t}){var e,r,n,i,s;return h.jsx(ve,{to:`/companies/${t.id}`,className:"card p-4 hover:shadow-md transition-shadow",children:h.jsxs("div",{className:"flex items-start",children:[(n=(r=(e=t._embedded)==null?void 0:e["wp:featuredmedia"])==null?void 0:r[0])!=null&&n.source_url?h.jsx("img",{src:t._embedded["wp:featuredmedia"][0].source_url,alt:t.title.rendered,className:"w-12 h-12 rounded-lg object-cover"}):h.jsx("div",{className:"w-12 h-12 bg-gray-200 rounded-lg flex items-center justify-center",children:h.jsx(ea,{className:"w-6 h-6 text-gray-400"})}),h.jsxs("div",{className:"ml-3 flex-1 min-w-0",children:[h.jsx("h3",{className:"text-sm font-medium text-gray-900 truncate",children:t.title.rendered}),((i=t.acf)==null?void 0:i.industry)&&h.jsx("p",{className:"text-sm text-gray-500",children:t.acf.industry}),((s=t.acf)==null?void 0:s.website)&&h.jsx("p",{className:"text-xs text-primary-600 truncate",children:t.acf.website})]})]})})}function dne(){const[t,e]=j.useState(""),{data:r,isLoading:n,error:i}=ft({queryKey:["companies",t],queryFn:async()=>(await Le.getCompanies({search:t,per_page:100,_embed:!0})).data}),s=j.useMemo(()=>r?[...r].sort((o,a)=>{var c,d;const l=(((c=o.title)==null?void 0:c.rendered)||o.title||"").toLowerCase(),u=(((d=a.title)==null?void 0:d.rendered)||a.title||"").toLowerCase();return l.localeCompare(u)}):[],[r]);return h.jsxs("div",{className:"space-y-4",children:[h.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[h.jsxs("div",{className:"relative flex-1 max-w-md",children:[h.jsx(g7,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}),h.jsx("input",{type:"search",placeholder:"Search companies...",value:t,onChange:o=>e(o.target.value),className:"input pl-9"})]}),h.jsxs(ve,{to:"/companies/new",className:"btn-primary",children:[h.jsx(yr,{className:"w-4 h-4 mr-2"}),"Add Company"]})]}),n&&h.jsx("div",{className:"flex items-center justify-center h-64",children:h.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"})}),i&&h.jsx("div",{className:"card p-6 text-center",children:h.jsx("p",{className:"text-red-600",children:"Failed to load companies."})}),!n&&!i&&(s==null?void 0:s.length)===0&&h.jsxs("div",{className:"card p-12 text-center",children:[h.jsx("div",{className:"w-12 h-12 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4",children:h.jsx(ea,{className:"w-6 h-6 text-gray-400"})}),h.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-1",children:"No companies found"}),h.jsx("p",{className:"text-gray-500 mb-4",children:t?"Try a different search.":"Add your first company."}),!t&&h.jsxs(ve,{to:"/companies/new",className:"btn-primary",children:[h.jsx(yr,{className:"w-4 h-4 mr-2"}),"Add Company"]})]}),!n&&!i&&(s==null?void 0:s.length)>0&&h.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:s.map(o=>h.jsx(cne,{company:o},o.id))})]})}function hne(){var c,d,f,p,m,g,b;const{id:t}=es(),e=en(),r=qr(),{data:n,isLoading:i,error:s}=ft({queryKey:["company",t],queryFn:async()=>(await Le.getCompany(t,{_embed:!0})).data}),{data:o}=ft({queryKey:["company-people",t],queryFn:async()=>(await Xr.getCompanyPeople(t)).data}),a=br({mutationFn:()=>Le.deleteCompany(t),onSuccess:()=>{r.invalidateQueries({queryKey:["companies"]}),e("/companies")}});wi(((c=n==null?void 0:n.title)==null?void 0:c.rendered)||(n==null?void 0:n.title)||"Company");const l=()=>{window.confirm("Are you sure you want to delete this company?")&&a.mutate()};if(i)return h.jsx("div",{className:"flex items-center justify-center h-64",children:h.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"})});if(s||!n)return h.jsxs("div",{className:"card p-6 text-center",children:[h.jsx("p",{className:"text-red-600",children:"Failed to load company."}),h.jsx(ve,{to:"/companies",className:"btn-secondary mt-4",children:"Back to Companies"})]});const u=n.acf||{};return h.jsxs("div",{className:"space-y-6",children:[h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsxs(ve,{to:"/companies",className:"flex items-center text-gray-600 hover:text-gray-900",children:[h.jsx(ts,{className:"w-4 h-4 mr-2"}),"Back to Companies"]}),h.jsxs("div",{className:"flex gap-2",children:[h.jsxs(ve,{to:`/companies/${t}/edit`,className:"btn-secondary",children:[h.jsx(x7,{className:"w-4 h-4 mr-2"}),"Edit"]}),h.jsxs("button",{onClick:l,className:"btn-danger",children:[h.jsx(fs,{className:"w-4 h-4 mr-2"}),"Delete"]})]})]}),h.jsx("div",{className:"card p-6",children:h.jsxs("div",{className:"flex items-center gap-4",children:[(p=(f=(d=n._embedded)==null?void 0:d["wp:featuredmedia"])==null?void 0:f[0])!=null&&p.source_url?h.jsx("img",{src:n._embedded["wp:featuredmedia"][0].source_url,alt:n.title.rendered,className:"w-16 h-16 rounded-lg object-cover"}):h.jsx("div",{className:"w-16 h-16 bg-gray-200 rounded-lg flex items-center justify-center",children:h.jsx(ea,{className:"w-8 h-8 text-gray-400"})}),h.jsxs("div",{children:[h.jsx("h1",{className:"text-2xl font-bold",children:n.title.rendered}),u.industry&&h.jsx("p",{className:"text-gray-500",children:u.industry}),u.website&&h.jsxs("a",{href:u.website,target:"_blank",rel:"noopener noreferrer",className:"text-primary-600 hover:underline flex items-center mt-1",children:[h.jsx(RP,{className:"w-4 h-4 mr-1"}),u.website]})]})]})}),h.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[h.jsxs("div",{className:"card p-6",children:[h.jsxs("h2",{className:"font-semibold mb-4 flex items-center",children:[h.jsx(zc,{className:"w-5 h-5 mr-2"}),"Current Employees"]}),((m=o==null?void 0:o.current)==null?void 0:m.length)>0?h.jsx("div",{className:"space-y-2",children:o.current.map(y=>{var v;return h.jsxs(ve,{to:`/people/${y.id}`,className:"flex items-center p-2 rounded hover:bg-gray-50",children:[y.thumbnail?h.jsx("img",{src:y.thumbnail,alt:"",loading:"lazy",className:"w-8 h-8 rounded-full"}):h.jsx("div",{className:"w-8 h-8 bg-gray-200 rounded-full flex items-center justify-center",children:h.jsx("span",{className:"text-xs text-gray-500",children:((v=y.name)==null?void 0:v[0])||"?"})}),h.jsxs("div",{className:"ml-2",children:[h.jsx("p",{className:"text-sm font-medium",children:y.name}),y.job_title&&h.jsx("p",{className:"text-xs text-gray-500",children:y.job_title})]})]},y.id)})}):h.jsx("p",{className:"text-sm text-gray-500",children:"No current employees."})]}),h.jsxs("div",{className:"card p-6",children:[h.jsxs("h2",{className:"font-semibold mb-4 flex items-center",children:[h.jsx(zc,{className:"w-5 h-5 mr-2"}),"Former Employees"]}),((g=o==null?void 0:o.former)==null?void 0:g.length)>0?h.jsx("div",{className:"space-y-2",children:o.former.map(y=>{var v;return h.jsxs(ve,{to:`/people/${y.id}`,className:"flex items-center p-2 rounded hover:bg-gray-50",children:[y.thumbnail?h.jsx("img",{src:y.thumbnail,alt:"",loading:"lazy",className:"w-8 h-8 rounded-full opacity-75"}):h.jsx("div",{className:"w-8 h-8 bg-gray-200 rounded-full flex items-center justify-center opacity-75",children:h.jsx("span",{className:"text-xs text-gray-500",children:((v=y.name)==null?void 0:v[0])||"?"})}),h.jsxs("div",{className:"ml-2",children:[h.jsx("p",{className:"text-sm font-medium text-gray-700",children:y.name}),y.job_title&&h.jsx("p",{className:"text-xs text-gray-500",children:y.job_title})]})]},y.id)})}):h.jsx("p",{className:"text-sm text-gray-500",children:"No former employees."})]})]}),((b=u.contact_info)==null?void 0:b.length)>0&&h.jsxs("div",{className:"card p-6",children:[h.jsx("h2",{className:"font-semibold mb-4",children:"Contact Information"}),h.jsx("div",{className:"space-y-3",children:u.contact_info.map((y,v)=>h.jsxs("div",{children:[h.jsxs("span",{className:"text-sm text-gray-500",children:[y.contact_label||y.contact_type,":"]}),h.jsx("span",{className:"ml-2",children:y.contact_value})]},v))})]})]})}function YN(){var v,x,w,_,E,O,S,T;const{id:t}=es(),e=en(),r=qr(),n=!!t,{data:i,isLoading:s}=ft({queryKey:["company",t],queryFn:async()=>(await Le.getCompany(t,{_embed:!0})).data,enabled:n}),[o,a]=j.useState(!1),l=j.useRef(null),u=br({mutationFn:P=>Le.createCompany(P),onSuccess:P=>{r.invalidateQueries({queryKey:["companies"]}),e(`/companies/${P.data.id}`)}}),c=br({mutationFn:P=>Le.updateCompany(t,P),onSuccess:()=>{r.invalidateQueries({queryKey:["company",t]}),r.invalidateQueries({queryKey:["companies"]}),r.invalidateQueries({queryKey:["people"]}),e(`/companies/${t}`)}}),d=async P=>{var C;const R=(C=P.target.files)==null?void 0:C[0];if(R){if(!R.type.startsWith("image/")){alert("Please select an image file");return}if(R.size>5*1024*1024){alert("Image size must be less than 5MB");return}a(!0);try{await Xr.uploadCompanyLogo(t,R),r.invalidateQueries({queryKey:["company",t]}),r.invalidateQueries({queryKey:["companies"]}),r.invalidateQueries({queryKey:["people"]}),r.refetchQueries({queryKey:["company",t]}),r.refetchQueries({queryKey:["companies"]}),r.refetchQueries({queryKey:["people"]})}catch(I){console.error("Failed to upload logo:",I),alert("Failed to upload logo. Please try again.")}finally{a(!1),l.current&&(l.current.value="")}}},{register:f,handleSubmit:p,reset:m,formState:{errors:g,isSubmitting:b}}=su();j.useEffect(()=>{var P,R;i&&m({title:i.title.rendered||"",website:((P=i.acf)==null?void 0:P.website)||"",industry:((R=i.acf)==null?void 0:R.industry)||""})},[i,m]),wi(n&&i?`Edit ${((v=i.title)==null?void 0:v.rendered)||i.title||"Company"}`:"New Company");const y=async P=>{const R={title:P.title,status:"publish",acf:{website:P.website,industry:P.industry}};n?c.mutate(R):u.mutate(R)};return n&&s?h.jsx("div",{className:"flex items-center justify-center h-64",children:h.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"})}):h.jsxs("div",{className:"max-w-2xl mx-auto space-y-6",children:[h.jsx("div",{className:"flex items-center justify-between",children:h.jsxs(ve,{to:"/companies",className:"flex items-center text-gray-600 hover:text-gray-900",children:[h.jsx(ts,{className:"w-4 h-4 mr-2"}),"Back to Companies"]})}),h.jsxs("div",{className:"card p-6",children:[h.jsx("h1",{className:"text-xl font-bold mb-6",children:n?"Edit Company":"Add New Company"}),h.jsxs("form",{onSubmit:p(y),className:"space-y-6",children:[n&&h.jsxs("div",{children:[h.jsx("label",{className:"label",children:"Logo"}),h.jsxs("div",{className:"flex items-center gap-4",children:[(_=(w=(x=i==null?void 0:i._embedded)==null?void 0:x["wp:featuredmedia"])==null?void 0:w[0])!=null&&_.source_url?h.jsxs("div",{className:"relative group",children:[h.jsx("img",{src:i._embedded["wp:featuredmedia"][0].source_url,alt:((E=i.title)==null?void 0:E.rendered)||"Company logo",className:"w-20 h-20 rounded-lg object-cover"}),h.jsx("div",{className:"absolute inset-0 rounded-lg bg-black bg-opacity-0 group-hover:bg-opacity-50 transition-all duration-200 flex items-center justify-center cursor-pointer",onClick:()=>{var P;return(P=l.current)==null?void 0:P.click()},children:o?h.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-white"}):h.jsx(Kh,{className:"w-6 h-6 text-white opacity-0 group-hover:opacity-100 transition-opacity"})})]}):h.jsxs("div",{className:"relative group",children:[h.jsx("div",{className:"w-20 h-20 bg-gray-200 rounded-lg flex items-center justify-center",children:h.jsx(Kh,{className:"w-8 h-8 text-gray-400"})}),h.jsx("div",{className:"absolute inset-0 rounded-lg bg-black bg-opacity-0 group-hover:bg-opacity-50 transition-all duration-200 flex items-center justify-center cursor-pointer",onClick:()=>{var P;return(P=l.current)==null?void 0:P.click()},children:o?h.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-white"}):h.jsx(Kh,{className:"w-6 h-6 text-white opacity-0 group-hover:opacity-100 transition-opacity"})})]}),h.jsxs("div",{children:[h.jsx("button",{type:"button",onClick:()=>{var P;return(P=l.current)==null?void 0:P.click()},className:"btn-secondary text-sm",disabled:o,children:(T=(S=(O=i==null?void 0:i._embedded)==null?void 0:O["wp:featuredmedia"])==null?void 0:S[0])!=null&&T.source_url?"Change Logo":"Upload Logo"}),h.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Click the logo or button to upload a new logo"})]}),h.jsx("input",{ref:l,type:"file",accept:"image/*",onChange:d,className:"hidden",disabled:o})]})]}),h.jsxs("div",{children:[h.jsx("label",{className:"label",children:"Company Name *"}),h.jsx("input",{...f("title",{required:"Company name is required"}),className:"input",placeholder:"Acme Inc."}),g.title&&h.jsx("p",{className:"text-sm text-red-600 mt-1",children:g.title.message})]}),h.jsxs("div",{children:[h.jsx("label",{className:"label",children:"Website"}),h.jsx("input",{...f("website"),type:"url",className:"input",placeholder:"https://example.com"})]}),h.jsxs("div",{children:[h.jsx("label",{className:"label",children:"Industry"}),h.jsx("input",{...f("industry"),className:"input",placeholder:"Technology"})]}),h.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t",children:[h.jsx(ve,{to:"/companies",className:"btn-secondary",children:"Cancel"}),h.jsxs("button",{type:"submit",className:"btn-primary",disabled:b,children:[h.jsx(Xs,{className:"w-4 h-4 mr-2"}),n?"Save Changes":"Create Company"]})]})]})]})]})}function fne({person:t,dateType:e}){var r;return h.jsx("div",{className:"flex items-center gap-3 py-2",children:h.jsxs(ve,{to:`/people/${t.id}`,className:"flex items-center gap-3 flex-1 min-w-0 hover:opacity-80",children:[t.thumbnail?h.jsx("img",{src:t.thumbnail,alt:t.name,loading:"lazy",className:"w-10 h-10 rounded-full object-cover flex-shrink-0"}):h.jsx("div",{className:"w-10 h-10 rounded-full bg-gray-200 flex items-center justify-center flex-shrink-0",children:h.jsx("span",{className:"text-sm font-medium text-gray-500",children:(r=t.name)==null?void 0:r[0]})}),h.jsx("span",{className:"font-medium truncate",children:t.name}),h.jsx("span",{className:"text-sm text-gray-500 capitalize flex-shrink-0",children:e})]})})}function pne({dates:t}){const e=t[0],n=e.days_until===0?"bg-green-100 text-green-700":"bg-gray-100 text-gray-600",i=[];return t.forEach(s=>{var a,l;const o=((a=s.date_type)==null?void 0:a[0])||"Date";((l=s.related_people)==null?void 0:l.length)>0?s.related_people.forEach(u=>{i.push({person:u,dateType:o})}):i.push({person:{id:null,name:s.title,thumbnail:null},dateType:o})}),h.jsx("div",{className:"card p-4 break-inside-avoid mb-4",children:h.jsxs("div",{className:"flex items-start gap-4",children:[h.jsx("div",{className:`w-14 h-14 rounded-lg ${n} flex items-center justify-center flex-shrink-0`,children:h.jsx("span",{className:"text-2xl font-bold leading-none",children:ci(new Date(e.next_occurrence),"d")})}),h.jsx("div",{className:"flex-1 min-w-0 divide-y divide-gray-100",children:i.map(({person:s,dateType:o},a)=>h.jsx(fne,{person:s,dateType:o},s.id?`${s.id}-${o}`:`${a}-${o}`))})]})})}function mne(){const{data:t,isLoading:e,error:r}=vte(365),n=(t==null?void 0:t.reduce((s,o)=>{const a=ci(new Date(o.next_occurrence),"yyyy-MM-dd");return s[a]||(s[a]=[]),s[a].push(o),s},{}))||{},i=Object.entries(n).reduce((s,[o,a])=>{const l=ci(new Date(o),"MMMM yyyy");return s[l]||(s[l]=[]),s[l].push(a),s},{});return h.jsxs("div",{className:"space-y-6",children:[h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsxs("p",{className:"text-gray-600",children:[(t==null?void 0:t.length)||0," upcoming dates"]}),h.jsxs(ve,{to:"/dates/new",className:"btn-primary",children:[h.jsx(yr,{className:"w-4 h-4 mr-2"}),"Add Date"]})]}),e&&h.jsx("div",{className:"flex items-center justify-center h-64",children:h.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"})}),r&&h.jsx("div",{className:"card p-6 text-center",children:h.jsx("p",{className:"text-red-600",children:"Failed to load dates."})}),!e&&!r&&(t==null?void 0:t.length)===0&&h.jsxs("div",{className:"card p-12 text-center",children:[h.jsx(ta,{className:"w-12 h-12 text-gray-300 mx-auto mb-4"}),h.jsx("h3",{className:"text-lg font-medium mb-1",children:"No important dates"}),h.jsx("p",{className:"text-gray-500 mb-4",children:"Add birthdays, anniversaries, and more."}),h.jsxs(ve,{to:"/dates/new",className:"btn-primary",children:[h.jsx(yr,{className:"w-4 h-4 mr-2"}),"Add Date"]})]}),Object.entries(i).map(([s,o])=>h.jsxs("div",{children:[h.jsx("h2",{className:"text-2xl font-semibold text-gray-700 mb-4",children:s}),h.jsx("div",{className:"columns-1 md:columns-2 lg:columns-3 gap-4",children:o.map(a=>h.jsx(pne,{dates:a},a[0].next_occurrence))})]},s))]})}function hl(t){if(!t)return"";const e=document.createElement("textarea");return e.innerHTML=t,e.value}function vne({value:t=[],onChange:e,people:r=[],isLoading:n}){const[i,s]=j.useState(""),o=j.useMemo(()=>{if(!i)return r.slice(0,10);const c=i.toLowerCase();return r.filter(d=>{var f,p;return(p=hl((f=d.title)==null?void 0:f.rendered))==null?void 0:p.toLowerCase().includes(c)}).slice(0,10)},[r,i]),a=j.useMemo(()=>t.map(c=>r.find(d=>d.id===c)).filter(Boolean),[t,r]),l=c=>{t.includes(c)||e([...t,c]),s("")},u=c=>{e(t.filter(d=>d!==c))};return h.jsxs("div",{className:"space-y-2",children:[a.length>0&&h.jsx("div",{className:"flex flex-wrap gap-2",children:a.map(c=>{var d;return h.jsxs("span",{className:"inline-flex items-center gap-1 px-3 py-1 bg-primary-100 text-primary-800 rounded-full text-sm",children:[hl((d=c.title)==null?void 0:d.rendered),h.jsx("button",{type:"button",onClick:()=>u(c.id),className:"hover:text-primary-600",children:h.jsx(Js,{className:"w-3 h-3"})})]},c.id)})}),h.jsxs("div",{className:"relative",children:[h.jsx("input",{type:"text",value:i,onChange:c=>s(c.target.value),placeholder:"Search for people...",className:"input",disabled:n}),i&&h.jsx("div",{className:"absolute z-10 w-full mt-1 bg-white border border-gray-200 rounded-lg shadow-lg max-h-48 overflow-y-auto",children:o.length>0?o.map(c=>{var d;return h.jsx("button",{type:"button",onClick:()=>l(c.id),disabled:t.includes(c.id),className:`w-full text-left px-4 py-2 hover:bg-gray-50 ${t.includes(c.id)?"opacity-50 cursor-not-allowed":""}`,children:hl((d=c.title)==null?void 0:d.rendered)},c.id)}):h.jsx("p",{className:"px-4 py-2 text-gray-500 text-sm",children:"No people found"})})]})]})}function QN(){var G;const{id:t}=es(),[e]=BJ(),r=en(),n=qr(),i=!!t,s=e.get("person"),o=e.get("type"),{data:a,isLoading:l}=ft({queryKey:["important-date",t],queryFn:async()=>(await Le.getDate(t)).data,enabled:i}),u=j.useMemo(()=>{var z;if(!((z=a==null?void 0:a.acf)!=null&&z.related_people))return[];const U=a.acf.related_people;return Array.isArray(U)?U.map(te=>parseInt(typeof te=="object"&&te!==null?te.ID||te.id||te.post_id:te,10)).filter(te=>!isNaN(te)&&te>0):[]},[a]),{data:c=[],isLoading:d}=_p({orderby:"title",order:"asc"}),{data:f=[]}=ft({queryKey:["people","specific",u],queryFn:async()=>{const U=u.map(te=>Le.getPerson(te,{_embed:!0}).then(fe=>fe.data).catch(()=>null));return(await Promise.all(U)).filter(Boolean)},enabled:u.length>0}),p=j.useMemo(()=>{const U=new Map;return c.forEach(z=>U.set(z.id,z)),f.forEach(z=>{var fe,ye,ke,be,we,Ie,yt,rt,gt,xr,Qe,nt,yn,Ar,Ke,Lt,ri;const te={...z,id:z.id,name:hl(((fe=z.title)==null?void 0:fe.rendered)||z.title||""),first_name:((ye=z.acf)==null?void 0:ye.first_name)||"",last_name:((ke=z.acf)==null?void 0:ke.last_name)||"",is_favorite:((be=z.acf)==null?void 0:be.is_favorite)||!1,thumbnail:((yt=(Ie=(we=z._embedded)==null?void 0:we["wp:featuredmedia"])==null?void 0:Ie[0])==null?void 0:yt.source_url)||((yn=(nt=(Qe=(xr=(gt=(rt=z._embedded)==null?void 0:rt["wp:featuredmedia"])==null?void 0:gt[0])==null?void 0:xr.media_details)==null?void 0:Qe.sizes)==null?void 0:nt.thumbnail)==null?void 0:yn.source_url)||null,labels:((ri=(Lt=(Ke=(Ar=z._embedded)==null?void 0:Ar["wp:term"])==null?void 0:Ke.flat())==null?void 0:Lt.filter(Bt=>(Bt==null?void 0:Bt.taxonomy)==="person_label"))==null?void 0:ri.map(Bt=>Bt.name))||[]};U.set(te.id,te)}),Array.from(U.values())},[c,f]),{data:m=[]}=ft({queryKey:["date-types"],queryFn:async()=>((await Le.getDateTypes()).data||[]).sort((te,fe)=>{const ye=te.name||"",ke=fe.name||"";return ye.localeCompare(ke)})}),g=br({mutationFn:U=>Le.createDate(U),onSuccess:()=>{n.invalidateQueries({queryKey:["reminders"]}),r(s?`/people/${s}`:"/dates")}}),b=br({mutationFn:U=>Le.updateDate(t,U),onSuccess:()=>{n.invalidateQueries({queryKey:["reminders"]}),n.invalidateQueries({queryKey:["important-date",t]}),n.invalidateQueries({queryKey:["people"]});const U=w("related_people");(U==null?void 0:U.length)>0?r(`/people/${U[0]}`):r("/dates")}}),{register:y,handleSubmit:v,reset:x,watch:w,setValue:_,control:E,formState:{errors:O,isSubmitting:S}}=su({defaultValues:{title:"",date_value:"",date_type:"",related_people:[],is_recurring:!0,reminder_days_before:7}}),T=w("related_people"),P=w("date_type"),R=w("title");j.useEffect(()=>{var te;if((!R||["'s Birthday","Wedding of "].some(fe=>R.endsWith(fe)||R.startsWith(fe)))&&(T==null?void 0:T.length)>0&&P){const fe=m.find(we=>we.id===parseInt(P)),ye=(fe==null?void 0:fe.name)||"",ke=((te=fe==null?void 0:fe.slug)==null?void 0:te.toLowerCase())||ye.toLowerCase(),be=T.map(we=>{var yt,rt,gt;const Ie=p.find(xr=>xr.id===we);return Ie?hl(((yt=Ie.acf)==null?void 0:yt.first_name)||((gt=(rt=Ie.title)==null?void 0:rt.rendered)==null?void 0:gt.split(" ")[0])||""):null}).filter(Boolean);if(be.length>0&&ye){let we;ke==="wedding"?be.length>=2?we=`Wedding of ${be[0]} & ${be[1]}`:we=`Wedding of ${be[0]}`:we=`${be[0]}'s ${ye}`,_("title",we)}}},[T,P,p,m,_,R]);const[C,I]=j.useState(!1);j.useEffect(()=>{var z,te,fe,ye,ke,be;if(C&&!i)return;const U=u.length===0||f.length>0;if(a&&p.length>0&&U){let we=[];const Ie=(z=a.acf)==null?void 0:z.related_people;Ie&&(Array.isArray(Ie)?we=Ie.map(rt=>parseInt(typeof rt=="object"&&rt!==null?rt.ID||rt.id||rt.post_id:rt,10)).filter(rt=>!isNaN(rt)&&rt>0):typeof Ie=="number"&&(we=[Ie]));let yt="";((te=a.date_type)==null?void 0:te.length)>0&&(yt=a.date_type[0].toString()),x({title:hl(((fe=a.title)==null?void 0:fe.rendered)||""),date_value:((ye=a.acf)==null?void 0:ye.date_value)||"",date_type:yt,related_people:we,is_recurring:((ke=a.acf)==null?void 0:ke.is_recurring)??!0,reminder_days_before:((be=a.acf)==null?void 0:be.reminder_days_before)||7}),I(!0)}else if(!i&&p.length>0&&m.length>0){const we={title:"",date_value:"",date_type:"",related_people:[],is_recurring:!0,reminder_days_before:7};if(s&&(we.related_people=[parseInt(s)]),o){const Ie=m.find(yt=>yt.slug===o||yt.name.toLowerCase()===o.toLowerCase());Ie&&(we.date_type=Ie.id.toString())}x(we),I(!0)}},[a,x,i,s,o,m,p,u,f,C]),wi(i&&a?`Edit ${((G=a.title)==null?void 0:G.rendered)||a.title||"Date"}`:"New Date");const q=async U=>{const z={title:U.title,status:"publish",date_type:U.date_type?[parseInt(U.date_type)]:[],acf:{date_value:U.date_value,related_people:U.related_people,is_recurring:U.is_recurring,reminder_days_before:parseInt(U.reminder_days_before,10)}};i?b.mutate(z):g.mutate(z)};if(i&&l)return h.jsx("div",{className:"flex items-center justify-center h-64",children:h.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"})});const B=w("related_people"),re=i&&(B==null?void 0:B.length)>0?B[0]:s,Q=re?`/people/${re}`:"/dates",L=re?"Back to Person":"Back to Dates";return h.jsxs("div",{className:"max-w-2xl mx-auto space-y-6",children:[h.jsx("div",{className:"flex items-center justify-between",children:h.jsxs(ve,{to:Q,className:"flex items-center text-gray-600 hover:text-gray-900",children:[h.jsx(ts,{className:"w-4 h-4 mr-2"}),L]})}),h.jsxs("div",{className:"card p-6",children:[h.jsx("h1",{className:"text-xl font-bold mb-6",children:i?"Edit Date":"Add New Date"}),h.jsxs("form",{onSubmit:v(q),className:"space-y-6",children:[h.jsxs("div",{children:[h.jsx("label",{className:"label",children:"Related People"}),h.jsx(kf,{name:"related_people",control:E,render:({field:U})=>h.jsx(vne,{value:U.value,onChange:U.onChange,people:p,isLoading:d})})]}),h.jsxs("div",{children:[h.jsx("label",{className:"label",children:"Date Type *"}),h.jsx(kf,{name:"date_type",control:E,rules:{required:"Please select a date type"},render:({field:U})=>{const z=U.value?String(U.value):"";return h.jsxs("select",{value:z,onChange:te=>{const fe=te.target.value;U.onChange(fe)},onBlur:U.onBlur,name:U.name,ref:U.ref,className:"input",children:[h.jsx("option",{value:"",children:"Select a type..."}),m.map(te=>h.jsx("option",{value:String(te.id),children:te.name},te.id))]})}}),O.date_type&&h.jsx("p",{className:"text-sm text-red-600 mt-1",children:O.date_type.message})]}),h.jsxs("div",{children:[h.jsx("label",{className:"label",children:"Label"}),h.jsx("input",{...y("title"),className:"input",placeholder:"e.g., Mom's Birthday, Wedding Anniversary"}),h.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Auto-generated from person and date type. You can customize it."})]}),h.jsxs("div",{children:[h.jsx("label",{className:"label",children:"Date *"}),h.jsx("input",{...y("date_value",{required:"Date is required"}),type:"date",className:"input"}),O.date_value&&h.jsx("p",{className:"text-sm text-red-600 mt-1",children:O.date_value.message})]}),h.jsxs("div",{className:"flex items-center",children:[h.jsx("input",{type:"checkbox",...y("is_recurring"),className:"w-4 h-4 rounded border-gray-300 text-primary-600 focus:ring-primary-500"}),h.jsx("label",{className:"ml-2 text-sm text-gray-700",children:"Repeats every year"})]}),h.jsxs("div",{children:[h.jsx("label",{className:"label",children:"Remind me"}),h.jsxs("select",{...y("reminder_days_before"),className:"input",children:[h.jsx("option",{value:"0",children:"On the day"}),h.jsx("option",{value:"1",children:"1 day before"}),h.jsx("option",{value:"3",children:"3 days before"}),h.jsx("option",{value:"7",children:"1 week before"}),h.jsx("option",{value:"14",children:"2 weeks before"}),h.jsx("option",{value:"30",children:"1 month before"})]})]}),h.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t",children:[h.jsx(ve,{to:Q,className:"btn-secondary",children:"Cancel"}),h.jsxs("button",{type:"submit",className:"btn-primary",disabled:S,children:[h.jsx(Xs,{className:"w-4 h-4 mr-2"}),i?"Save Changes":"Create Date"]})]})]})]})]})}function yne(){var y,v,x;const[t,e]=j.useState(null),[r,n]=j.useState(""),[i,s]=j.useState(!1),[o,a]=j.useState(null),l=qr(),u=br({mutationFn:async w=>{const _=new FormData;return _.append("file",w),(await Se.post("/prm/v1/import/monica/validate",_,{headers:{"Content-Type":"multipart/form-data"}})).data},onSuccess:w=>{a(w)},onError:w=>{var _,E;a({valid:!1,error:((E=(_=w.response)==null?void 0:_.data)==null?void 0:E.message)||"Failed to validate file"})}}),c=br({mutationFn:async({file:w,monicaUrl:_})=>{const E=new FormData;return E.append("file",w),E.append("monica_url",_),(await Se.post("/prm/v1/import/monica",E,{headers:{"Content-Type":"multipart/form-data"}})).data},onSuccess:()=>{l.invalidateQueries({queryKey:["people"]}),l.invalidateQueries({queryKey:["companies"]}),l.invalidateQueries({queryKey:["dates"]}),l.invalidateQueries({queryKey:["dashboard"]})}}),d=j.useCallback(w=>{w.preventDefault(),w.stopPropagation(),w.type==="dragenter"||w.type==="dragover"?s(!0):w.type==="dragleave"&&s(!1)},[]),f=j.useCallback(w=>{w.preventDefault(),w.stopPropagation(),s(!1),w.dataTransfer.files&&w.dataTransfer.files[0]&&m(w.dataTransfer.files[0])},[]),p=w=>{w.target.files&&w.target.files[0]&&m(w.target.files[0])},m=w=>{if(!w.name.endsWith(".sql")){a({valid:!1,error:"Please select a SQL file"});return}e(w),a(null),c.reset(),u.mutate(w)},g=()=>{if(!r.trim()){a(w=>({...w,urlError:"Please enter your Monica instance URL"}));return}t&&(o!=null&&o.valid)&&c.mutate({file:t,monicaUrl:r.trim()})},b=()=>{e(null),n(""),a(null),u.reset(),c.reset()};return h.jsxs("div",{className:"space-y-4",children:[h.jsx("h2",{className:"text-lg font-semibold",children:"Import from Monica"}),h.jsx("p",{className:"text-sm text-gray-600",children:"Import contacts, relationships, notes, and photos from a Monica CRM SQL export file. Reimporting the same file will update existing contacts instead of creating duplicates."}),c.isSuccess?h.jsx("div",{className:"rounded-lg border border-green-200 bg-green-50 p-4",children:h.jsxs("div",{className:"flex items-start gap-3",children:[h.jsx(rN,{className:"h-5 w-5 text-green-600 mt-0.5"}),h.jsxs("div",{className:"flex-1",children:[h.jsx("h3",{className:"font-medium text-green-900",children:"Import Complete"}),h.jsxs("div",{className:"mt-2 text-sm text-green-800 space-y-1",children:[h.jsxs("p",{children:["Contacts imported: ",c.data.stats.contacts_imported]}),h.jsxs("p",{children:["Contacts updated: ",c.data.stats.contacts_updated]}),h.jsxs("p",{children:["Contacts skipped (partial): ",c.data.stats.contacts_skipped]}),h.jsxs("p",{children:["Photos imported: ",c.data.stats.photos_imported]}),h.jsxs("p",{children:["Companies created: ",c.data.stats.companies_created]}),h.jsxs("p",{children:["Relationships created: ",c.data.stats.relationships_created]}),h.jsxs("p",{children:["Important dates created: ",c.data.stats.dates_created]}),h.jsxs("p",{children:["Notes created: ",c.data.stats.notes_created]}),((y=c.data.stats.errors)==null?void 0:y.length)>0&&h.jsxs("div",{className:"mt-2 pt-2 border-t border-green-200",children:[h.jsx("p",{className:"font-medium",children:"Errors:"}),h.jsx("ul",{className:"list-disc list-inside",children:c.data.stats.errors.map((w,_)=>h.jsx("li",{children:w},_))})]})]}),h.jsx("button",{onClick:b,className:"mt-3 text-sm text-green-700 hover:text-green-800 font-medium",children:"Import another file"})]})]})}):h.jsxs(h.Fragment,{children:[h.jsxs("div",{className:`relative rounded-lg border-2 border-dashed p-8 text-center transition-colors ${i?"border-primary-500 bg-primary-50":t?"border-green-300 bg-green-50":"border-gray-300 hover:border-gray-400"}`,onDragEnter:d,onDragLeave:d,onDragOver:d,onDrop:f,children:[h.jsx("input",{type:"file",accept:".sql",onChange:p,className:"absolute inset-0 w-full h-full opacity-0 cursor-pointer"}),u.isPending?h.jsxs("div",{className:"flex flex-col items-center gap-2",children:[h.jsx(oN,{className:"h-8 w-8 text-primary-600 animate-spin"}),h.jsx("p",{className:"text-gray-600",children:"Validating file..."})]}):t?h.jsxs("div",{className:"flex flex-col items-center gap-2",children:[h.jsx(EZ,{className:"h-8 w-8 text-green-600"}),h.jsx("p",{className:"font-medium text-gray-900",children:t.name}),h.jsxs("p",{className:"text-sm text-gray-500",children:[(t.size/1024/1024).toFixed(2)," MB"]})]}):h.jsxs("div",{className:"flex flex-col items-center gap-2",children:[h.jsx(aN,{className:"h-8 w-8 text-gray-400"}),h.jsx("p",{className:"text-gray-600",children:"Drag and drop your Monica SQL export file here, or click to browse"}),h.jsx("p",{className:"text-sm text-gray-500",children:"Supports SQL export files"})]})]}),o&&h.jsx("div",{className:`rounded-lg border p-4 ${o.valid?"border-green-200 bg-green-50":"border-red-200 bg-red-50"}`,children:o.valid?h.jsxs("div",{className:"flex items-start gap-3",children:[h.jsx(rN,{className:"h-5 w-5 text-green-600 mt-0.5"}),h.jsxs("div",{className:"flex-1",children:[h.jsx("h3",{className:"font-medium text-green-900",children:"File validated successfully"}),h.jsxs("div",{className:"mt-2 text-sm text-green-800",children:[h.jsxs("p",{children:["Export format: ",o.version]}),h.jsxs("p",{children:["Contacts to import: ",o.summary.contacts]}),h.jsxs("p",{children:["Relationships: ",o.summary.relationships]}),h.jsxs("p",{children:["Notes: ",o.summary.notes]}),h.jsxs("p",{children:["Dates: ",o.summary.reminders]}),h.jsxs("p",{children:["Photos: ",o.summary.photos]}),h.jsxs("p",{children:["Companies: ",o.summary.companies_count]})]})]})]}):h.jsxs("div",{className:"flex items-start gap-3",children:[h.jsx(eN,{className:"h-5 w-5 text-red-600 mt-0.5"}),h.jsxs("div",{children:[h.jsx("h3",{className:"font-medium text-red-900",children:"Validation failed"}),h.jsx("p",{className:"text-sm text-red-700 mt-1",children:o.error})]})]})}),(o==null?void 0:o.valid)&&h.jsxs("div",{className:"space-y-2",children:[h.jsx("label",{htmlFor:"monica-url",className:"block text-sm font-medium text-gray-700",children:"Monica Instance URL"}),h.jsxs("div",{className:"relative",children:[h.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:h.jsx(CZ,{className:"h-4 w-4 text-gray-400"})}),h.jsx("input",{type:"url",id:"monica-url",value:r,onChange:w=>n(w.target.value),placeholder:"https://your-monica-instance.com",className:`block w-full pl-10 pr-3 py-2 border rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500 ${o.urlError?"border-red-300":"border-gray-300"}`})]}),o.urlError&&h.jsx("p",{className:"text-sm text-red-600",children:o.urlError}),h.jsx("p",{className:"text-xs text-gray-500",children:"Enter the URL of your Monica instance to import photos. Photos will be downloaded from this URL."})]}),(o==null?void 0:o.valid)&&h.jsxs("div",{className:"flex gap-3",children:[h.jsx("button",{onClick:g,disabled:c.isPending,className:"btn-primary flex items-center gap-2",children:c.isPending?h.jsxs(h.Fragment,{children:[h.jsx(oN,{className:"h-4 w-4 animate-spin"}),"Importing..."]}):h.jsxs(h.Fragment,{children:[h.jsx(aN,{className:"h-4 w-4"}),"Start Import"]})}),h.jsx("button",{onClick:b,disabled:c.isPending,className:"btn-secondary",children:"Cancel"})]}),c.isError&&h.jsx("div",{className:"rounded-lg border border-red-200 bg-red-50 p-4",children:h.jsxs("div",{className:"flex items-start gap-3",children:[h.jsx(eN,{className:"h-5 w-5 text-red-600 mt-0.5"}),h.jsxs("div",{children:[h.jsx("h3",{className:"font-medium text-red-900",children:"Import failed"}),h.jsx("p",{className:"text-sm text-red-700 mt-1",children:((x=(v=c.error.response)==null?void 0:v.data)==null?void 0:x.message)||"An error occurred during import"})]})]})})]})]})}function gne(){const{logoutUrl:t}=mp(),e=window.prmConfig||{},r=e.isAdmin||!1,[n,i]=j.useState(""),[s,o]=j.useState(""),[a,l]=j.useState(!0),[u,c]=j.useState(!1),[d,f]=j.useState(!1);j.useEffect(()=>{(async()=>{try{const b=await Se.get("/prm/v1/user/ical-url");i(b.data.url),o(b.data.webcal_url)}catch(b){console.error("Failed to fetch iCal URL:",b)}finally{l(!1)}})()},[]);const p=async()=>{try{await navigator.clipboard.writeText(n),c(!0),setTimeout(()=>c(!1),2e3)}catch(g){console.error("Failed to copy:",g)}},m=async()=>{if(confirm("Are you sure you want to regenerate your calendar URL? Any existing calendar subscriptions will stop working until you update them with the new URL.")){f(!0);try{const g=await Se.post("/prm/v1/user/regenerate-ical-token");i(g.data.url),o(g.data.webcal_url)}catch(g){console.error("Failed to regenerate token:",g)}finally{f(!1)}}};return h.jsxs("div",{className:"max-w-2xl mx-auto space-y-6",children:[h.jsx("div",{className:"card p-6",children:h.jsx(yne,{})}),h.jsxs("div",{className:"card p-6",children:[h.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Account"}),h.jsxs("div",{className:"space-y-4",children:[h.jsxs("div",{children:[h.jsx("label",{className:"label",children:"User ID"}),h.jsx("p",{className:"text-gray-600",children:e.userId||"N/A"})]}),h.jsx("div",{children:h.jsx("a",{href:e.adminUrl+"profile.php",className:"btn-secondary",target:"_blank",rel:"noopener noreferrer",children:"Edit Profile in WordPress"})})]})]}),h.jsxs("div",{className:"card p-6",children:[h.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Calendar Subscription"}),h.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Subscribe to your important dates in any calendar app (Apple Calendar, Google Calendar, Outlook, etc.)"}),a?h.jsxs("div",{className:"animate-pulse",children:[h.jsx("div",{className:"h-10 bg-gray-200 rounded mb-3"}),h.jsx("div",{className:"h-9 bg-gray-200 rounded w-24"})]}):h.jsxs("div",{className:"space-y-4",children:[h.jsxs("div",{children:[h.jsx("label",{className:"label mb-1",children:"Your Calendar Feed URL"}),h.jsxs("div",{className:"flex gap-2",children:[h.jsx("input",{type:"text",readOnly:!0,value:n,className:"input flex-1 text-sm font-mono bg-gray-50",onClick:g=>g.target.select()}),h.jsx("button",{onClick:p,className:"btn-secondary whitespace-nowrap",title:"Copy URL",children:u?h.jsxs("span",{className:"flex items-center gap-1",children:[h.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),"Copied"]}):h.jsxs("span",{className:"flex items-center gap-1",children:[h.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 5H6a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2v-1M8 5a2 2 0 002 2h2a2 2 0 002-2M8 5a2 2 0 012-2h2a2 2 0 012 2m0 0h2a2 2 0 012 2v3m2 4H10m0 0l3-3m-3 3l3 3"})}),"Copy"]})})]})]}),h.jsxs("div",{className:"flex flex-wrap gap-2",children:[h.jsx("a",{href:s,className:"btn-primary",children:h.jsxs("span",{className:"flex items-center gap-1",children:[h.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})}),"Subscribe in Calendar App"]})}),h.jsx("button",{onClick:m,disabled:d,className:"btn-secondary",children:d?"Regenerating...":"Regenerate URL"})]}),h.jsx("p",{className:"text-xs text-gray-500",children:'Keep this URL private. Anyone with access to it can see your important dates. If you think it has been compromised, click "Regenerate URL" to get a new one.'})]})]}),r&&h.jsxs("div",{className:"card p-6",children:[h.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Configuration"}),h.jsx("div",{className:"space-y-3",children:h.jsxs(ve,{to:"/settings/relationship-types",className:"block p-3 rounded-lg border border-gray-200 hover:bg-gray-50",children:[h.jsx("p",{className:"font-medium",children:"Relationship Types"}),h.jsx("p",{className:"text-sm text-gray-500",children:"Manage relationship types and their inverse mappings"})]})})]}),r&&h.jsxs("div",{className:"card p-6",children:[h.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Administration"}),h.jsxs("div",{className:"space-y-3",children:[h.jsxs("a",{href:e.adminUrl,className:"block p-3 rounded-lg border border-gray-200 hover:bg-gray-50",target:"_blank",rel:"noopener noreferrer",children:[h.jsx("p",{className:"font-medium",children:"WordPress Admin"}),h.jsx("p",{className:"text-sm text-gray-500",children:"Manage all settings, users, and content"})]}),h.jsxs("a",{href:e.adminUrl+"edit.php?post_type=person",className:"block p-3 rounded-lg border border-gray-200 hover:bg-gray-50",target:"_blank",rel:"noopener noreferrer",children:[h.jsx("p",{className:"font-medium",children:"Manage People"}),h.jsx("p",{className:"text-sm text-gray-500",children:"Edit people with all ACF fields"})]}),h.jsxs("a",{href:e.adminUrl+"edit.php?post_type=company",className:"block p-3 rounded-lg border border-gray-200 hover:bg-gray-50",target:"_blank",rel:"noopener noreferrer",children:[h.jsx("p",{className:"font-medium",children:"Manage Companies"}),h.jsx("p",{className:"text-sm text-gray-500",children:"Edit companies with all ACF fields"})]}),h.jsxs("a",{href:e.adminUrl+"edit.php?post_type=important_date",className:"block p-3 rounded-lg border border-gray-200 hover:bg-gray-50",target:"_blank",rel:"noopener noreferrer",children:[h.jsx("p",{className:"font-medium",children:"Manage Important Dates"}),h.jsx("p",{className:"text-sm text-gray-500",children:"Edit dates and link people"})]})]})]}),h.jsxs("div",{className:"card p-6",children:[h.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Session"}),h.jsx("a",{href:t,className:"btn-danger",children:"Log Out"})]}),h.jsxs("div",{className:"card p-6",children:[h.jsx("h2",{className:"text-lg font-semibold mb-4",children:"About"}),h.jsxs("p",{className:"text-sm text-gray-600",children:[Ll," v",e.version||"1.0.0",h.jsx("br",{}),"Built with WordPress, React, and Tailwind CSS."]})]})]})}function XN({value:t,onChange:e,relationshipTypes:r,currentTypeId:n=null}){const[i,s]=j.useState(""),[o,a]=j.useState(!1),l=j.useRef(null),u=j.useRef(null),c=j.useMemo(()=>r.sort((b,y)=>{const v=(b.name||"").toLowerCase(),x=(y.name||"").toLowerCase();return v<x?-1:v>x?1:0}),[r]),d=j.useMemo(()=>{if(!i)return c.slice(0,10);const b=i.toLowerCase();return c.filter(y=>(y.name||"").toLowerCase().includes(b)).slice(0,10)},[c,i]),f=j.useMemo(()=>c.find(b=>b.id===parseInt(t,10)),[c,t]);j.useEffect(()=>{const b=y=>{u.current&&!u.current.contains(y.target)&&l.current&&!l.current.contains(y.target)&&a(!1)};return document.addEventListener("mousedown",b),()=>document.removeEventListener("mousedown",b)},[]);const p=b=>{e(b?b.toString():""),s(""),a(!1)},m=()=>{e(""),s(""),a(!1)},g=f?f.name:"";return h.jsxs("div",{className:"relative",children:[h.jsx("div",{className:"relative",children:f&&!o?h.jsxs("div",{className:"flex items-center justify-between input pr-8 cursor-text",onClick:()=>a(!0),children:[h.jsx("span",{children:g}),h.jsx("button",{type:"button",onClick:b=>{b.stopPropagation(),m()},className:"absolute right-2 text-gray-400 hover:text-gray-600",children:h.jsx(Js,{className:"w-4 h-4"})})]}):h.jsx("input",{ref:l,type:"text",value:i,onChange:b=>{s(b.target.value),a(!0)},onFocus:()=>a(!0),placeholder:"Search for a relationship type...",className:"input"})}),o&&(i||!f)&&h.jsx("div",{ref:u,className:"absolute z-10 w-full mt-1 bg-white border border-gray-200 rounded-lg shadow-lg max-h-48 overflow-y-auto",children:d.length>0?h.jsxs(h.Fragment,{children:[h.jsx("button",{type:"button",onClick:()=>p(null),className:`w-full text-left px-4 py-2 hover:bg-gray-50 ${t?"":"bg-primary-50"}`,children:h.jsx("span",{className:"text-gray-500 italic",children:"None (no inverse)"})}),d.map(b=>h.jsx("button",{type:"button",onClick:()=>p(b.id),className:`w-full text-left px-4 py-2 hover:bg-gray-50 ${t===b.id.toString()?"bg-primary-50":""}`,children:b.name},b.id))]}):h.jsx("p",{className:"px-4 py-2 text-gray-500 text-sm",children:"No relationship types found"})})]})}function bne(){wi("Relationship Types - Settings");const t=qr();if(!((window.prmConfig||{}).isAdmin||!1))return h.jsx("div",{className:"max-w-2xl mx-auto",children:h.jsxs("div",{className:"card p-8 text-center",children:[h.jsx(qZ,{className:"w-16 h-16 mx-auto text-amber-500 mb-4"}),h.jsx("h1",{className:"text-2xl font-bold mb-2",children:"Access Denied"}),h.jsx("p",{className:"text-gray-600 mb-6",children:"You don't have permission to manage relationship types. This feature is only available to administrators."}),h.jsx(ve,{to:"/settings",className:"btn-primary",children:"Back to Settings"})]})});const{data:n=[],isLoading:i}=ft({queryKey:["relationship-types"],queryFn:async()=>(await Le.getRelationshipTypes()).data}),[s,o]=j.useState(null),[a,l]=j.useState(""),[u,c]=j.useState(""),[d,f]=j.useState(""),[p,m]=j.useState(""),[g,b]=j.useState(!1),y=br({mutationFn:async({id:R,name:C,inverseId:I})=>{const q={name:C};return I&&(q.acf={inverse_relationship_type:parseInt(I,10)}),Le.updateRelationshipType(R,q)},onSuccess:()=>{t.invalidateQueries({queryKey:["relationship-types"]}),o(null),l(""),c("")}}),v=br({mutationFn:async({name:R,inverseId:C})=>{const I={name:R};return C&&(I.acf={inverse_relationship_type:parseInt(C,10)}),Le.createRelationshipType(I)},onSuccess:()=>{t.invalidateQueries({queryKey:["relationship-types"]}),f(""),m(""),b(!1)}}),x=br({mutationFn:R=>Le.deleteRelationshipType(R),onSuccess:()=>{t.invalidateQueries({queryKey:["relationship-types"]})}}),w=br({mutationFn:()=>Le.restoreRelationshipTypeDefaults(),onSuccess:()=>{t.invalidateQueries({queryKey:["relationship-types"]}),alert("Default relationship type configurations have been restored.")},onError:()=>{alert("Failed to restore defaults. Please try again.")}});function _(){return h.jsxs("button",{onClick:()=>{window.confirm("This will restore all default inverse mappings and gender-dependent settings. Continue?")&&w.mutate()},disabled:w.isPending,className:"btn-secondary flex items-center gap-2",title:"Restore default inverse mappings and gender-dependent settings",children:[w.isPending?h.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-gray-600"}):h.jsx(y7,{className:"w-4 h-4"}),"Restore Defaults"]})}const E=R=>{var I;o(R.id),l(R.name);const C=(I=R.acf)==null?void 0:I.inverse_relationship_type;c(C?C.toString():"")},O=()=>{o(null),l(""),c("")},S=()=>{if(!a.trim()){alert("Name is required");return}y.mutate({id:s,name:a.trim(),inverseId:u||null})},T=()=>{if(!d.trim()){alert("Name is required");return}v.mutate({name:d.trim(),inverseId:p||null})},P=(R,C)=>{window.confirm(`Are you sure you want to delete "${C}"? This cannot be undone.`)&&x.mutate(R)};return i?h.jsx("div",{className:"flex items-center justify-center h-64",children:h.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"})}):h.jsx("div",{className:"max-w-4xl mx-auto space-y-6",children:h.jsxs("div",{className:"card p-6",children:[h.jsxs("div",{className:"flex items-center justify-between mb-6",children:[h.jsx("h1",{className:"text-2xl font-bold",children:"Relationship Types"}),h.jsx("div",{className:"flex gap-2",children:!g&&h.jsxs(h.Fragment,{children:[h.jsx(_,{}),h.jsxs("button",{onClick:()=>b(!0),className:"btn-primary flex items-center gap-2",children:[h.jsx(yr,{className:"w-4 h-4"}),"Add Relationship Type"]})]})})]}),g&&h.jsxs("div",{className:"mb-6 p-4 border border-gray-200 rounded-lg bg-gray-50",children:[h.jsx("h3",{className:"font-semibold mb-4",children:"Add New Relationship Type"}),h.jsxs("div",{className:"space-y-4",children:[h.jsxs("div",{children:[h.jsx("label",{className:"label",children:"Name *"}),h.jsx("input",{type:"text",value:d,onChange:R=>f(R.target.value),className:"input",placeholder:"e.g., Parent, Spouse, Colleague"})]}),h.jsxs("div",{children:[h.jsx("label",{className:"label",children:"Inverse Relationship Type"}),h.jsx(XN,{value:p,onChange:m,relationshipTypes:n}),h.jsx("p",{className:"text-xs text-gray-500 mt-1",children:'Select the inverse relationship type. For example, if this is "Parent", select "Child". If this is "Spouse" or "Acquaintance", select the same type (e.g., "Spouse"  "Spouse").'})]}),h.jsxs("div",{className:"flex gap-2",children:[h.jsxs("button",{onClick:T,disabled:v.isPending,className:"btn-primary flex items-center gap-2",children:[v.isPending?h.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}):h.jsx(Xs,{className:"w-4 h-4"}),"Save"]}),h.jsx("button",{onClick:()=>{b(!1),f(""),m("")},className:"btn-secondary",children:"Cancel"})]})]})]}),h.jsx("div",{className:"space-y-2",children:n.length===0?h.jsx("p",{className:"text-gray-500 text-center py-8",children:"No relationship types found."}):n.map(R=>{var re,Q;const C=s===R.id,I=(re=R.acf)==null?void 0:re.inverse_relationship_type,q=typeof I=="object"&&(I!=null&&I.ID)?I.ID:typeof I=="object"&&(I!=null&&I.id)?I.id:I,B=q?n.find(L=>L.id===q):null;return h.jsx("div",{className:"p-4 border border-gray-200 rounded-lg hover:bg-gray-50",children:C?h.jsxs("div",{className:"space-y-4",children:[h.jsxs("div",{children:[h.jsx("label",{className:"label",children:"Name *"}),h.jsx("input",{type:"text",value:a,onChange:L=>l(L.target.value),className:"input"})]}),h.jsxs("div",{children:[h.jsx("label",{className:"label",children:"Inverse Relationship Type"}),h.jsx(XN,{value:u,onChange:c,relationshipTypes:n,currentTypeId:R.id}),h.jsx("p",{className:"text-xs text-gray-500 mt-1",children:'Select the inverse relationship type. For example, if this is "Parent", select "Child". If this is "Spouse" or "Acquaintance", select the same type (e.g., "Spouse"  "Spouse").'})]}),h.jsxs("div",{className:"flex gap-2",children:[h.jsxs("button",{onClick:S,disabled:y.isPending,className:"btn-primary flex items-center gap-2",children:[y.isPending?h.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}):h.jsx(Xs,{className:"w-4 h-4"}),"Save"]}),h.jsxs("button",{onClick:O,className:"btn-secondary flex items-center gap-2",children:[h.jsx(Js,{className:"w-4 h-4"}),"Cancel"]})]})]}):h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsxs("div",{className:"flex-1",children:[h.jsx("div",{className:"font-medium",children:R.name}),B&&h.jsxs("div",{className:"text-sm text-gray-500 mt-1",children:["Inverse: ",h.jsx("span",{className:"font-medium",children:B.name})]}),!B&&((Q=R.acf)==null?void 0:Q.inverse_relationship_type)===null&&h.jsx("div",{className:"text-sm text-gray-400 mt-1 italic",children:"No inverse relationship"})]}),h.jsxs("div",{className:"flex gap-2",children:[h.jsx("button",{onClick:()=>E(R),className:"p-2 text-gray-600 hover:text-primary-600 hover:bg-primary-50 rounded",title:"Edit",children:h.jsx(kZ,{className:"w-4 h-4"})}),h.jsx("button",{onClick:()=>P(R.id,R.name),className:"p-2 text-gray-600 hover:text-red-600 hover:bg-red-50 rounded",title:"Delete",children:h.jsx(fs,{className:"w-4 h-4"})})]})]})},R.id)})})]})})}/**
 * vis-data
 * http://visjs.org/
 *
 * Manage unstructured data using DataSet. Add, update, and remove data, and listen for changes in the data.
 *
 * @version 8.0.3
 * @date    2025-09-10T16:22:00.613Z
 *
 * @copyright (c) 2011-2017 Almende B.V, http://almende.com
 * @copyright (c) 2017-2019 visjs contributors, https://github.com/visjs
 *
 * @license
 * vis.js is dual licensed under both
 *
 *   1. The Apache 2.0 License
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 *   and
 *
 *   2. The MIT License
 *      http://opensource.org/licenses/MIT
 *
 * vis.js may be distributed under either license.
 */var JN=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function De(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Lm={exports:{}},ZN={},Hu,e$;function qt(){if(e$)return Hu;e$=1;var t=function(e){return e&&e.Math===Math&&e};return Hu=t(typeof globalThis=="object"&&globalThis)||t(typeof window=="object"&&window)||t(typeof self=="object"&&self)||t(typeof JN=="object"&&JN)||t(typeof Hu=="object"&&Hu)||function(){return this}()||Function("return this")(),Hu}var Bm,t$;function He(){return t$||(t$=1,Bm=function(t){try{return!!t()}catch{return!0}}),Bm}var zm,r$;function xd(){if(r$)return zm;r$=1;var t=He();return zm=!t(function(){var e=(function(){}).bind();return typeof e!="function"||e.hasOwnProperty("prototype")}),zm}var Um,n$;function Ep(){if(n$)return Um;n$=1;var t=xd(),e=Function.prototype,r=e.apply,n=e.call;return Um=typeof Reflect=="object"&&Reflect.apply||(t?n.bind(r):function(){return n.apply(r,arguments)}),Um}var Wm,i$;function Ye(){if(i$)return Wm;i$=1;var t=xd(),e=Function.prototype,r=e.call,n=t&&e.bind.bind(r,r);return Wm=t?n:function(i){return function(){return r.apply(i,arguments)}},Wm}var Hm,s$;function rs(){if(s$)return Hm;s$=1;var t=Ye(),e=t({}.toString),r=t("".slice);return Hm=function(n){return r(e(n),8,-1)},Hm}var Vm,o$;function cK(){if(o$)return Vm;o$=1;var t=rs(),e=Ye();return Vm=function(r){if(t(r)==="Function")return e(r)},Vm}var Km,a$;function Jt(){if(a$)return Km;a$=1;var t=typeof document=="object"&&document.all;return Km=typeof t>"u"&&t!==void 0?function(e){return typeof e=="function"||e===t}:function(e){return typeof e=="function"},Km}var Gm={},Ym,l$;function Mt(){if(l$)return Ym;l$=1;var t=He();return Ym=!t(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!==7}),Ym}var Qm,u$;function tn(){if(u$)return Qm;u$=1;var t=xd(),e=Function.prototype.call;return Qm=t?e.bind(e):function(){return e.apply(e,arguments)},Qm}var Xm={},c$;function gC(){if(c$)return Xm;c$=1;var t={}.propertyIsEnumerable,e=Object.getOwnPropertyDescriptor,r=e&&!t.call({1:2},1);return Xm.f=r?function(i){var s=e(this,i);return!!s&&s.enumerable}:t,Xm}var Jm,d$;function _d(){return d$||(d$=1,Jm=function(t,e){return{enumerable:!(t&1),configurable:!(t&2),writable:!(t&4),value:e}}),Jm}var Zm,h$;function Op(){if(h$)return Zm;h$=1;var t=Ye(),e=He(),r=rs(),n=Object,i=t("".split);return Zm=e(function(){return!n("z").propertyIsEnumerable(0)})?function(s){return r(s)==="String"?i(s,""):n(s)}:n,Zm}var ev,f$;function Sd(){return f$||(f$=1,ev=function(t){return t==null}),ev}var tv,p$;function ma(){if(p$)return tv;p$=1;var t=Sd(),e=TypeError;return tv=function(r){if(t(r))throw new e("Can't call method on "+r);return r},tv}var rv,m$;function xi(){if(m$)return rv;m$=1;var t=Op(),e=ma();return rv=function(r){return t(e(r))},rv}var nv,v$;function Mr(){if(v$)return nv;v$=1;var t=Jt();return nv=function(e){return typeof e=="object"?e!==null:t(e)},nv}var iv,y$;function Ht(){return y$||(y$=1,iv={}),iv}var sv,g$;function pn(){if(g$)return sv;g$=1;var t=Ht(),e=qt(),r=Jt(),n=function(i){return r(i)?i:void 0};return sv=function(i,s){return arguments.length<2?n(t[i])||n(e[i]):t[i]&&t[i][s]||e[i]&&e[i][s]},sv}var ov,b$;function Zt(){if(b$)return ov;b$=1;var t=Ye();return ov=t({}.isPrototypeOf),ov}var av,w$;function ou(){if(w$)return av;w$=1;var t=qt(),e=t.navigator,r=e&&e.userAgent;return av=r?String(r):"",av}var lv,x$;function Ed(){if(x$)return lv;x$=1;var t=qt(),e=ou(),r=t.process,n=t.Deno,i=r&&r.versions||n&&n.version,s=i&&i.v8,o,a;return s&&(o=s.split("."),a=o[0]>0&&o[0]<4?1:+(o[0]+o[1])),!a&&e&&(o=e.match(/Edge\/(\d+)/),(!o||o[1]>=74)&&(o=e.match(/Chrome\/(\d+)/),o&&(a=+o[1]))),lv=a,lv}var uv,_$;function au(){if(_$)return uv;_$=1;var t=Ed(),e=He(),r=qt(),n=r.String;return uv=!!Object.getOwnPropertySymbols&&!e(function(){var i=Symbol("symbol detection");return!n(i)||!(Object(i)instanceof Symbol)||!Symbol.sham&&t&&t<41}),uv}var cv,S$;function dK(){if(S$)return cv;S$=1;var t=au();return cv=t&&!Symbol.sham&&typeof Symbol.iterator=="symbol",cv}var dv,E$;function Od(){if(E$)return dv;E$=1;var t=pn(),e=Jt(),r=Zt(),n=dK(),i=Object;return dv=n?function(s){return typeof s=="symbol"}:function(s){var o=t("Symbol");return e(o)&&r(o.prototype,i(s))},dv}var hv,O$;function lu(){if(O$)return hv;O$=1;var t=String;return hv=function(e){try{return t(e)}catch{return"Object"}},hv}var fv,P$;function ns(){if(P$)return fv;P$=1;var t=Jt(),e=lu(),r=TypeError;return fv=function(n){if(t(n))return n;throw new r(e(n)+" is not a function")},fv}var pv,T$;function bC(){if(T$)return pv;T$=1;var t=ns(),e=Sd();return pv=function(r,n){var i=r[n];return e(i)?void 0:t(i)},pv}var mv,C$;function wne(){if(C$)return mv;C$=1;var t=tn(),e=Jt(),r=Mr(),n=TypeError;return mv=function(i,s){var o,a;if(s==="string"&&e(o=i.toString)&&!r(a=t(o,i))||e(o=i.valueOf)&&!r(a=t(o,i))||s!=="string"&&e(o=i.toString)&&!r(a=t(o,i)))return a;throw new n("Can't convert object to primitive value")},mv}var vv={exports:{}},yv,I$;function uu(){return I$||(I$=1,yv=!0),yv}var gv,R$;function xne(){if(R$)return gv;R$=1;var t=qt(),e=Object.defineProperty;return gv=function(r,n){try{e(t,r,{value:n,configurable:!0,writable:!0})}catch{t[r]=n}return n},gv}var N$;function wC(){if(N$)return vv.exports;N$=1;var t=uu(),e=qt(),r=xne(),n="__core-js_shared__",i=vv.exports=e[n]||r(n,{});return(i.versions||(i.versions=[])).push({version:"3.44.0",mode:t?"pure":"global",copyright:" 2014-2025 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.44.0/LICENSE",source:"https://github.com/zloirock/core-js"}),vv.exports}var bv,$$;function cu(){if($$)return bv;$$=1;var t=wC();return bv=function(e,r){return t[e]||(t[e]=r||{})},bv}var wv,j$;function ei(){if(j$)return wv;j$=1;var t=ma(),e=Object;return wv=function(r){return e(t(r))},wv}var xv,k$;function er(){if(k$)return xv;k$=1;var t=Ye(),e=ei(),r=t({}.hasOwnProperty);return xv=Object.hasOwn||function(i,s){return r(e(i),s)},xv}var _v,D$;function Pp(){if(D$)return _v;D$=1;var t=Ye(),e=0,r=Math.random(),n=t(1.1.toString);return _v=function(i){return"Symbol("+(i===void 0?"":i)+")_"+n(++e+r,36)},_v}var Sv,q$;function tr(){if(q$)return Sv;q$=1;var t=qt(),e=cu(),r=er(),n=Pp(),i=au(),s=dK(),o=t.Symbol,a=e("wks"),l=s?o.for||o:o&&o.withoutSetter||n;return Sv=function(u){return r(a,u)||(a[u]=i&&r(o,u)?o[u]:l("Symbol."+u)),a[u]},Sv}var Ev,M$;function hK(){if(M$)return Ev;M$=1;var t=tn(),e=Mr(),r=Od(),n=bC(),i=wne(),s=tr(),o=TypeError,a=s("toPrimitive");return Ev=function(l,u){if(!e(l)||r(l))return l;var c=n(l,a),d;if(c){if(u===void 0&&(u="default"),d=t(c,l,u),!e(d)||r(d))return d;throw new o("Can't convert object to primitive value")}return u===void 0&&(u="number"),i(l,u)},Ev}var Ov,A$;function xC(){if(A$)return Ov;A$=1;var t=hK(),e=Od();return Ov=function(r){var n=t(r,"string");return e(n)?n:n+""},Ov}var Pv,F$;function fK(){if(F$)return Pv;F$=1;var t=qt(),e=Mr(),r=t.document,n=e(r)&&e(r.createElement);return Pv=function(i){return n?r.createElement(i):{}},Pv}var Tv,L$;function pK(){if(L$)return Tv;L$=1;var t=Mt(),e=He(),r=fK();return Tv=!t&&!e(function(){return Object.defineProperty(r("div"),"a",{get:function(){return 7}}).a!==7}),Tv}var B$;function Tp(){if(B$)return Gm;B$=1;var t=Mt(),e=tn(),r=gC(),n=_d(),i=xi(),s=xC(),o=er(),a=pK(),l=Object.getOwnPropertyDescriptor;return Gm.f=t?l:function(c,d){if(c=i(c),d=s(d),a)try{return l(c,d)}catch{}if(o(c,d))return n(!e(r.f,c,d),c[d])},Gm}var Cv,z$;function _ne(){if(z$)return Cv;z$=1;var t=He(),e=Jt(),r=/#|\.prototype\./,n=function(l,u){var c=s[i(l)];return c===a?!0:c===o?!1:e(u)?t(u):!!u},i=n.normalize=function(l){return String(l).replace(r,".").toLowerCase()},s=n.data={},o=n.NATIVE="N",a=n.POLYFILL="P";return Cv=n,Cv}var Iv,U$;function Cp(){if(U$)return Iv;U$=1;var t=cK(),e=ns(),r=xd(),n=t(t.bind);return Iv=function(i,s){return e(i),s===void 0?i:r?n(i,s):function(){return i.apply(s,arguments)}},Iv}var Rv={},Nv,W$;function mK(){if(W$)return Nv;W$=1;var t=Mt(),e=He();return Nv=t&&e(function(){return Object.defineProperty(function(){},"prototype",{value:42,writable:!1}).prototype!==42}),Nv}var $v,H$;function is(){if(H$)return $v;H$=1;var t=Mr(),e=String,r=TypeError;return $v=function(n){if(t(n))return n;throw new r(e(n)+" is not an object")},$v}var V$;function Nn(){if(V$)return Rv;V$=1;var t=Mt(),e=pK(),r=mK(),n=is(),i=xC(),s=TypeError,o=Object.defineProperty,a=Object.getOwnPropertyDescriptor,l="enumerable",u="configurable",c="writable";return Rv.f=t?r?function(f,p,m){if(n(f),p=i(p),n(m),typeof f=="function"&&p==="prototype"&&"value"in m&&c in m&&!m[c]){var g=a(f,p);g&&g[c]&&(f[p]=m.value,m={configurable:u in m?m[u]:g[u],enumerable:l in m?m[l]:g[l],writable:!1})}return o(f,p,m)}:o:function(f,p,m){if(n(f),p=i(p),n(m),e)try{return o(f,p,m)}catch{}if("get"in m||"set"in m)throw new s("Accessors not supported");return"value"in m&&(f[p]=m.value),f},Rv}var jv,K$;function du(){if(K$)return jv;K$=1;var t=Mt(),e=Nn(),r=_d();return jv=t?function(n,i,s){return e.f(n,i,r(1,s))}:function(n,i,s){return n[i]=s,n},jv}var kv,G$;function Pe(){if(G$)return kv;G$=1;var t=qt(),e=Ep(),r=cK(),n=Jt(),i=Tp().f,s=_ne(),o=Ht(),a=Cp(),l=du(),u=er(),c=function(d){var f=function(p,m,g){if(this instanceof f){switch(arguments.length){case 0:return new d;case 1:return new d(p);case 2:return new d(p,m)}return new d(p,m,g)}return e(d,this,arguments)};return f.prototype=d.prototype,f};return kv=function(d,f){var p=d.target,m=d.global,g=d.stat,b=d.proto,y=m?t:g?t[p]:t[p]&&t[p].prototype,v=m?o:o[p]||l(o,p,{})[p],x=v.prototype,w,_,E,O,S,T,P,R,C;for(O in f)w=s(m?O:p+(g?".":"#")+O,d.forced),_=!w&&y&&u(y,O),T=v[O],_&&(d.dontCallGetSet?(C=i(y,O),P=C&&C.value):P=y[O]),S=_&&P?P:f[O],!(!w&&!b&&typeof T==typeof S)&&(d.bind&&_?R=a(S,t):d.wrap&&_?R=c(S):b&&n(S)?R=r(S):R=S,(d.sham||S&&S.sham||T&&T.sham)&&l(R,"sham",!0),l(v,O,R),b&&(E=p+"Prototype",u(o,E)||l(o,E,{}),l(o[E],O,S),d.real&&x&&(w||!x[O])&&l(x,O,S)))},kv}var Y$;function Sne(){if(Y$)return ZN;Y$=1;var t=Pe(),e=Mt(),r=Nn().f;return t({target:"Object",stat:!0,forced:Object.defineProperty!==r,sham:!e},{defineProperty:r}),ZN}var Q$;function Ene(){if(Q$)return Lm.exports;Q$=1,Sne();var t=Ht(),e=t.Object,r=Lm.exports=function(i,s,o){return e.defineProperty(i,s,o)};return e.defineProperty.sham&&(r.sham=!0),Lm.exports}var Dv,X$;function vK(){if(X$)return Dv;X$=1;var t=Ene();return Dv=t,Dv}var qv,J$;function One(){if(J$)return qv;J$=1;var t=vK();return qv=t,qv}var Mv,Z$;function Pne(){if(Z$)return Mv;Z$=1;var t=One();return Mv=t,Mv}var Av,e2;function Tne(){return e2||(e2=1,Av=Pne()),Av}var Cne=Tne(),Ine=De(Cne),t2={},Fv,r2;function va(){if(r2)return Fv;r2=1;var t=rs();return Fv=Array.isArray||function(r){return t(r)==="Array"},Fv}var Lv,n2;function Rne(){if(n2)return Lv;n2=1;var t=Math.ceil,e=Math.floor;return Lv=Math.trunc||function(n){var i=+n;return(i>0?e:t)(i)},Lv}var Bv,i2;function hu(){if(i2)return Bv;i2=1;var t=Rne();return Bv=function(e){var r=+e;return r!==r||r===0?0:t(r)},Bv}var zv,s2;function yK(){if(s2)return zv;s2=1;var t=hu(),e=Math.min;return zv=function(r){var n=t(r);return n>0?e(n,9007199254740991):0},zv}var Uv,o2;function so(){if(o2)return Uv;o2=1;var t=yK();return Uv=function(e){return t(e.length)},Uv}var Wv,a2;function gK(){if(a2)return Wv;a2=1;var t=TypeError,e=9007199254740991;return Wv=function(r){if(r>e)throw t("Maximum allowed index exceeded");return r},Wv}var Hv,l2;function Ip(){if(l2)return Hv;l2=1;var t=Mt(),e=Nn(),r=_d();return Hv=function(n,i,s){t?e.f(n,i,r(0,s)):n[i]=s},Hv}var Vv,u2;function _C(){if(u2)return Vv;u2=1;var t=tr(),e=t("toStringTag"),r={};return r[e]="z",Vv=String(r)==="[object z]",Vv}var Kv,c2;function oo(){if(c2)return Kv;c2=1;var t=_C(),e=Jt(),r=rs(),n=tr(),i=n("toStringTag"),s=Object,o=r(function(){return arguments}())==="Arguments",a=function(l,u){try{return l[u]}catch{}};return Kv=t?r:function(l){var u,c,d;return l===void 0?"Undefined":l===null?"Null":typeof(c=a(u=s(l),i))=="string"?c:o?r(u):(d=r(u))==="Object"&&e(u.callee)?"Arguments":d},Kv}var Gv,d2;function Nne(){if(d2)return Gv;d2=1;var t=Ye(),e=Jt(),r=wC(),n=t(Function.toString);return e(r.inspectSource)||(r.inspectSource=function(i){return n(i)}),Gv=r.inspectSource,Gv}var Yv,h2;function bK(){if(h2)return Yv;h2=1;var t=Ye(),e=He(),r=Jt(),n=oo(),i=pn(),s=Nne(),o=function(){},a=i("Reflect","construct"),l=/^\s*(?:class|function)\b/,u=t(l.exec),c=!l.test(o),d=function(m){if(!r(m))return!1;try{return a(o,[],m),!0}catch{return!1}},f=function(m){if(!r(m))return!1;switch(n(m)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return c||!!u(l,s(m))}catch{return!0}};return f.sham=!0,Yv=!a||e(function(){var p;return d(d.call)||!d(Object)||!d(function(){p=!0})||p})?f:d,Yv}var Qv,f2;function $ne(){if(f2)return Qv;f2=1;var t=va(),e=bK(),r=Mr(),n=tr(),i=n("species"),s=Array;return Qv=function(o){var a;return t(o)&&(a=o.constructor,e(a)&&(a===s||t(a.prototype))?a=void 0:r(a)&&(a=a[i],a===null&&(a=void 0))),a===void 0?s:a},Qv}var Xv,p2;function SC(){if(p2)return Xv;p2=1;var t=$ne();return Xv=function(e,r){return new(t(e))(r===0?0:r)},Xv}var Jv,m2;function Pd(){if(m2)return Jv;m2=1;var t=He(),e=tr(),r=Ed(),n=e("species");return Jv=function(i){return r>=51||!t(function(){var s=[],o=s.constructor={};return o[n]=function(){return{foo:1}},s[i](Boolean).foo!==1})},Jv}var v2;function wK(){if(v2)return t2;v2=1;var t=Pe(),e=He(),r=va(),n=Mr(),i=ei(),s=so(),o=gK(),a=Ip(),l=SC(),u=Pd(),c=tr(),d=Ed(),f=c("isConcatSpreadable"),p=d>=51||!e(function(){var b=[];return b[f]=!1,b.concat()[0]!==b}),m=function(b){if(!n(b))return!1;var y=b[f];return y!==void 0?!!y:r(b)},g=!p||!u("concat");return t({target:"Array",proto:!0,arity:1,forced:g},{concat:function(y){var v=i(this),x=l(v,0),w=0,_,E,O,S,T;for(_=-1,O=arguments.length;_<O;_++)if(T=_===-1?v:arguments[_],m(T))for(S=s(T),o(w+S),E=0;E<S;E++,w++)E in T&&a(x,w,T[E]);else o(w+1),a(x,w++,T);return x.length=w,x}}),t2}var y2={},g2={},Zv,b2;function ao(){if(b2)return Zv;b2=1;var t=oo(),e=String;return Zv=function(r){if(t(r)==="Symbol")throw new TypeError("Cannot convert a Symbol value to a string");return e(r)},Zv}var ey={},ty,w2;function EC(){if(w2)return ty;w2=1;var t=hu(),e=Math.max,r=Math.min;return ty=function(n,i){var s=t(n);return s<0?e(s+i,0):r(s,i)},ty}var ry,x2;function jne(){if(x2)return ry;x2=1;var t=xi(),e=EC(),r=so(),n=function(i){return function(s,o,a){var l=t(s),u=r(l);if(u===0)return!i&&-1;var c=e(a,u),d;if(i&&o!==o){for(;u>c;)if(d=l[c++],d!==d)return!0}else for(;u>c;c++)if((i||c in l)&&l[c]===o)return i||c||0;return!i&&-1}};return ry={includes:n(!0),indexOf:n(!1)},ry}var ny,_2;function Td(){return _2||(_2=1,ny={}),ny}var iy,S2;function xK(){if(S2)return iy;S2=1;var t=Ye(),e=er(),r=xi(),n=jne().indexOf,i=Td(),s=t([].push);return iy=function(o,a){var l=r(o),u=0,c=[],d;for(d in l)!e(i,d)&&e(l,d)&&s(c,d);for(;a.length>u;)e(l,d=a[u++])&&(~n(c,d)||s(c,d));return c},iy}var sy,E2;function OC(){return E2||(E2=1,sy=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]),sy}var oy,O2;function Rp(){if(O2)return oy;O2=1;var t=xK(),e=OC();return oy=Object.keys||function(n){return t(n,e)},oy}var P2;function PC(){if(P2)return ey;P2=1;var t=Mt(),e=mK(),r=Nn(),n=is(),i=xi(),s=Rp();return ey.f=t&&!e?Object.defineProperties:function(a,l){n(a);for(var u=i(l),c=s(l),d=c.length,f=0,p;d>f;)r.f(a,p=c[f++],u[p]);return a},ey}var ay,T2;function kne(){if(T2)return ay;T2=1;var t=pn();return ay=t("document","documentElement"),ay}var ly,C2;function Np(){if(C2)return ly;C2=1;var t=cu(),e=Pp(),r=t("keys");return ly=function(n){return r[n]||(r[n]=e(n))},ly}var uy,I2;function Cd(){if(I2)return uy;I2=1;var t=is(),e=PC(),r=OC(),n=Td(),i=kne(),s=fK(),o=Np(),a=">",l="<",u="prototype",c="script",d=o("IE_PROTO"),f=function(){},p=function(v){return l+c+a+v+l+"/"+c+a},m=function(v){v.write(p("")),v.close();var x=v.parentWindow.Object;return v=null,x},g=function(){var v=s("iframe"),x="java"+c+":",w;return v.style.display="none",i.appendChild(v),v.src=String(x),w=v.contentWindow.document,w.open(),w.write(p("document.F=Object")),w.close(),w.F},b,y=function(){try{b=new ActiveXObject("htmlfile")}catch{}y=typeof document<"u"?document.domain&&b?m(b):g():m(b);for(var v=r.length;v--;)delete y[u][r[v]];return y()};return n[d]=!0,uy=Object.create||function(x,w){var _;return x!==null?(f[u]=t(x),_=new f,f[u]=null,_[d]=x):_=y(),w===void 0?_:e.f(_,w)},uy}var cy={},R2;function $p(){if(R2)return cy;R2=1;var t=xK(),e=OC(),r=e.concat("length","prototype");return cy.f=Object.getOwnPropertyNames||function(i){return t(i,r)},cy}var dy={},hy,N2;function fu(){if(N2)return hy;N2=1;var t=Ye();return hy=t([].slice),hy}var $2;function _K(){if($2)return dy;$2=1;var t=rs(),e=xi(),r=$p().f,n=fu(),i=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],s=function(o){try{return r(o)}catch{return n(i)}};return dy.f=function(a){return i&&t(a)==="Window"?s(a):r(e(a))},dy}var fy={},j2;function jp(){return j2||(j2=1,fy.f=Object.getOwnPropertySymbols),fy}var py,k2;function Id(){if(k2)return py;k2=1;var t=du();return py=function(e,r,n,i){return i&&i.enumerable?e[r]=n:t(e,r,n),e},py}var my,D2;function TC(){if(D2)return my;D2=1;var t=Nn();return my=function(e,r,n){return t.f(e,r,n)},my}var vy={},q2;function kp(){if(q2)return vy;q2=1;var t=tr();return vy.f=t,vy}var yy,M2;function mt(){if(M2)return yy;M2=1;var t=Ht(),e=er(),r=kp(),n=Nn().f;return yy=function(i){var s=t.Symbol||(t.Symbol={});e(s,i)||n(s,i,{value:r.f(i)})},yy}var gy,A2;function SK(){if(A2)return gy;A2=1;var t=tn(),e=pn(),r=tr(),n=Id();return gy=function(){var i=e("Symbol"),s=i&&i.prototype,o=s&&s.valueOf,a=r("toPrimitive");s&&!s[a]&&n(s,a,function(l){return t(o,this)},{arity:1})},gy}var by,F2;function Dne(){if(F2)return by;F2=1;var t=_C(),e=oo();return by=t?{}.toString:function(){return"[object "+e(this)+"]"},by}var wy,L2;function ya(){if(L2)return wy;L2=1;var t=_C(),e=Nn().f,r=du(),n=er(),i=Dne(),s=tr(),o=s("toStringTag");return wy=function(a,l,u,c){var d=u?a:a&&a.prototype;d&&(n(d,o)||e(d,o,{configurable:!0,value:l}),c&&!t&&r(d,"toString",i))},wy}var xy,B2;function qne(){if(B2)return xy;B2=1;var t=qt(),e=Jt(),r=t.WeakMap;return xy=e(r)&&/native code/.test(String(r)),xy}var _y,z2;function Rd(){if(z2)return _y;z2=1;var t=qne(),e=qt(),r=Mr(),n=du(),i=er(),s=wC(),o=Np(),a=Td(),l="Object already initialized",u=e.TypeError,c=e.WeakMap,d,f,p,m=function(v){return p(v)?f(v):d(v,{})},g=function(v){return function(x){var w;if(!r(x)||(w=f(x)).type!==v)throw new u("Incompatible receiver, "+v+" required");return w}};if(t||s.state){var b=s.state||(s.state=new c);b.get=b.get,b.has=b.has,b.set=b.set,d=function(v,x){if(b.has(v))throw new u(l);return x.facade=v,b.set(v,x),x},f=function(v){return b.get(v)||{}},p=function(v){return b.has(v)}}else{var y=o("state");a[y]=!0,d=function(v,x){if(i(v,y))throw new u(l);return x.facade=v,n(v,y,x),x},f=function(v){return i(v,y)?v[y]:{}},p=function(v){return i(v,y)}}return _y={set:d,get:f,has:p,enforce:m,getterFor:g},_y}var Sy,U2;function pu(){if(U2)return Sy;U2=1;var t=Cp(),e=Ye(),r=Op(),n=ei(),i=so(),s=SC(),o=e([].push),a=function(l){var u=l===1,c=l===2,d=l===3,f=l===4,p=l===6,m=l===7,g=l===5||p;return function(b,y,v,x){for(var w=n(b),_=r(w),E=i(_),O=t(y,v),S=0,T=x||s,P=u?T(b,E):c||m?T(b,0):void 0,R,C;E>S;S++)if((g||S in _)&&(R=_[S],C=O(R,S,w),l))if(u)P[S]=C;else if(C)switch(l){case 3:return!0;case 5:return R;case 6:return S;case 2:o(P,R)}else switch(l){case 4:return!1;case 7:o(P,R)}return p?-1:d||f?f:P}};return Sy={forEach:a(0),map:a(1),filter:a(2),some:a(3),every:a(4),find:a(5),findIndex:a(6),filterReject:a(7)},Sy}var W2;function Mne(){if(W2)return g2;W2=1;var t=Pe(),e=qt(),r=tn(),n=Ye(),i=uu(),s=Mt(),o=au(),a=He(),l=er(),u=Zt(),c=is(),d=xi(),f=xC(),p=ao(),m=_d(),g=Cd(),b=Rp(),y=$p(),v=_K(),x=jp(),w=Tp(),_=Nn(),E=PC(),O=gC(),S=Id(),T=TC(),P=cu(),R=Np(),C=Td(),I=Pp(),q=tr(),B=kp(),re=mt(),Q=SK(),L=ya(),G=Rd(),U=pu().forEach,z=R("hidden"),te="Symbol",fe="prototype",ye=G.set,ke=G.getterFor(te),be=Object[fe],we=e.Symbol,Ie=we&&we[fe],yt=e.RangeError,rt=e.TypeError,gt=e.QObject,xr=w.f,Qe=_.f,nt=v.f,yn=O.f,Ar=n([].push),Ke=P("symbols"),Lt=P("op-symbols"),ri=P("wks"),Bt=!gt||!gt[fe]||!gt[fe].findChild,$=function(K,W,V){var Y=xr(be,W);Y&&delete be[W],Qe(K,W,V),Y&&K!==be&&Qe(be,W,Y)},D=s&&a(function(){return g(Qe({},"a",{get:function(){return Qe(this,"a",{value:7}).a}})).a!==7})?$:Qe,F=function(K,W){var V=Ke[K]=g(Ie);return ye(V,{type:te,tag:K,description:W}),s||(V.description=W),V},oe=function(W,V,Y){W===be&&oe(Lt,V,Y),c(W);var pe=f(V);return c(Y),l(Ke,pe)?(Y.enumerable?(l(W,z)&&W[z][pe]&&(W[z][pe]=!1),Y=g(Y,{enumerable:m(0,!1)})):(l(W,z)||Qe(W,z,m(1,g(null))),W[z][pe]=!0),D(W,pe,Y)):Qe(W,pe,Y)},ne=function(W,V){c(W);var Y=d(V),pe=b(Y).concat(le(Y));return U(pe,function($e){(!s||r(de,Y,$e))&&oe(W,$e,Y[$e])}),W},X=function(W,V){return V===void 0?g(W):ne(g(W),V)},de=function(W){var V=f(W),Y=r(yn,this,V);return this===be&&l(Ke,V)&&!l(Lt,V)?!1:Y||!l(this,V)||!l(Ke,V)||l(this,z)&&this[z][V]?Y:!0},k=function(W,V){var Y=d(W),pe=f(V);if(!(Y===be&&l(Ke,pe)&&!l(Lt,pe))){var $e=xr(Y,pe);return $e&&l(Ke,pe)&&!(l(Y,z)&&Y[z][pe])&&($e.enumerable=!0),$e}},H=function(W){var V=nt(d(W)),Y=[];return U(V,function(pe){!l(Ke,pe)&&!l(C,pe)&&Ar(Y,pe)}),Y},le=function(K){var W=K===be,V=nt(W?Lt:d(K)),Y=[];return U(V,function(pe){l(Ke,pe)&&(!W||l(be,pe))&&Ar(Y,Ke[pe])}),Y};return o||(we=function(){if(u(Ie,this))throw new rt("Symbol is not a constructor");var W=!arguments.length||arguments[0]===void 0?void 0:p(arguments[0]),V=I(W),Y=function(pe){var $e=this===void 0?e:this;$e===be&&r(Y,Lt,pe),l($e,z)&&l($e[z],V)&&($e[z][V]=!1);var Vt=m(1,pe);try{D($e,V,Vt)}catch(_r){if(!(_r instanceof yt))throw _r;$($e,V,Vt)}};return s&&Bt&&D(be,V,{configurable:!0,set:Y}),F(V,W)},Ie=we[fe],S(Ie,"toString",function(){return ke(this).tag}),S(we,"withoutSetter",function(K){return F(I(K),K)}),O.f=de,_.f=oe,E.f=ne,w.f=k,y.f=v.f=H,x.f=le,B.f=function(K){return F(q(K),K)},s&&(T(Ie,"description",{configurable:!0,get:function(){return ke(this).description}}),i||S(be,"propertyIsEnumerable",de,{unsafe:!0}))),t({global:!0,constructor:!0,wrap:!0,forced:!o,sham:!o},{Symbol:we}),U(b(ri),function(K){re(K)}),t({target:te,stat:!0,forced:!o},{useSetter:function(){Bt=!0},useSimple:function(){Bt=!1}}),t({target:"Object",stat:!0,forced:!o,sham:!s},{create:X,defineProperty:oe,defineProperties:ne,getOwnPropertyDescriptor:k}),t({target:"Object",stat:!0,forced:!o},{getOwnPropertyNames:H}),Q(),L(we,te),C[z]=!0,g2}var H2={},Ey,V2;function EK(){if(V2)return Ey;V2=1;var t=au();return Ey=t&&!!Symbol.for&&!!Symbol.keyFor,Ey}var K2;function Ane(){if(K2)return H2;K2=1;var t=Pe(),e=pn(),r=er(),n=ao(),i=cu(),s=EK(),o=i("string-to-symbol-registry"),a=i("symbol-to-string-registry");return t({target:"Symbol",stat:!0,forced:!s},{for:function(l){var u=n(l);if(r(o,u))return o[u];var c=e("Symbol")(u);return o[u]=c,a[c]=u,c}}),H2}var G2={},Y2;function Fne(){if(Y2)return G2;Y2=1;var t=Pe(),e=er(),r=Od(),n=lu(),i=cu(),s=EK(),o=i("symbol-to-string-registry");return t({target:"Symbol",stat:!0,forced:!s},{keyFor:function(l){if(!r(l))throw new TypeError(n(l)+" is not a symbol");if(e(o,l))return o[l]}}),G2}var Q2={},Oy,X2;function Lne(){if(X2)return Oy;X2=1;var t=Ye(),e=va(),r=Jt(),n=rs(),i=ao(),s=t([].push);return Oy=function(o){if(r(o))return o;if(e(o)){for(var a=o.length,l=[],u=0;u<a;u++){var c=o[u];typeof c=="string"?s(l,c):(typeof c=="number"||n(c)==="Number"||n(c)==="String")&&s(l,i(c))}var d=l.length,f=!0;return function(p,m){if(f)return f=!1,m;if(e(this))return m;for(var g=0;g<d;g++)if(l[g]===p)return m}}},Oy}var J2;function OK(){if(J2)return Q2;J2=1;var t=Pe(),e=pn(),r=Ep(),n=tn(),i=Ye(),s=He(),o=Jt(),a=Od(),l=fu(),u=Lne(),c=au(),d=String,f=e("JSON","stringify"),p=i(/./.exec),m=i("".charAt),g=i("".charCodeAt),b=i("".replace),y=i(1.1.toString),v=/[\uD800-\uDFFF]/g,x=/^[\uD800-\uDBFF]$/,w=/^[\uDC00-\uDFFF]$/,_=!c||s(function(){var T=e("Symbol")("stringify detection");return f([T])!=="[null]"||f({a:T})!=="{}"||f(Object(T))!=="{}"}),E=s(function(){return f("\uDF06\uD834")!=='"\\udf06\\ud834"'||f("\uDEAD")!=='"\\udead"'}),O=function(T,P){var R=l(arguments),C=u(P);if(!(!o(C)&&(T===void 0||a(T))))return R[1]=function(I,q){if(o(C)&&(q=n(C,this,d(I),q)),!a(q))return q},r(f,null,R)},S=function(T,P,R){var C=m(R,P-1),I=m(R,P+1);return p(x,T)&&!p(w,I)||p(w,T)&&!p(x,C)?"\\u"+y(g(T,0),16):T};return f&&t({target:"JSON",stat:!0,arity:3,forced:_||E},{stringify:function(P,R,C){var I=l(arguments),q=r(_?O:f,null,I);return E&&typeof q=="string"?b(q,v,S):q}}),Q2}var Z2={},ej;function Bne(){if(ej)return Z2;ej=1;var t=Pe(),e=au(),r=He(),n=jp(),i=ei(),s=!e||r(function(){n.f(1)});return t({target:"Object",stat:!0,forced:s},{getOwnPropertySymbols:function(a){var l=n.f;return l?l(i(a)):[]}}),Z2}var tj;function PK(){return tj||(tj=1,Mne(),Ane(),Fne(),OK(),Bne()),y2}var rj={},nj;function TK(){if(nj)return rj;nj=1;var t=mt();return t("asyncDispose"),rj}var ij={},sj;function zne(){if(sj)return ij;sj=1;var t=mt();return t("asyncIterator"),ij}var oj={},aj;function CK(){if(aj)return oj;aj=1;var t=mt();return t("dispose"),oj}var lj={},uj;function Une(){if(uj)return lj;uj=1;var t=mt();return t("hasInstance"),lj}var cj={},dj;function Wne(){if(dj)return cj;dj=1;var t=mt();return t("isConcatSpreadable"),cj}var hj={},fj;function IK(){if(fj)return hj;fj=1;var t=mt();return t("iterator"),hj}var pj={},mj;function Hne(){if(mj)return pj;mj=1;var t=mt();return t("match"),pj}var vj={},yj;function Vne(){if(yj)return vj;yj=1;var t=mt();return t("matchAll"),vj}var gj={},bj;function Kne(){if(bj)return gj;bj=1;var t=mt();return t("replace"),gj}var wj={},xj;function Gne(){if(xj)return wj;xj=1;var t=mt();return t("search"),wj}var _j={},Sj;function Yne(){if(Sj)return _j;Sj=1;var t=mt();return t("species"),_j}var Ej={},Oj;function Qne(){if(Oj)return Ej;Oj=1;var t=mt();return t("split"),Ej}var Pj={},Tj;function RK(){if(Tj)return Pj;Tj=1;var t=mt(),e=SK();return t("toPrimitive"),e(),Pj}var Cj={},Ij;function Xne(){if(Ij)return Cj;Ij=1;var t=pn(),e=mt(),r=ya();return e("toStringTag"),r(t("Symbol"),"Symbol"),Cj}var Rj={},Nj;function Jne(){if(Nj)return Rj;Nj=1;var t=mt();return t("unscopables"),Rj}var $j={},jj;function Zne(){if(jj)return $j;jj=1;var t=qt(),e=ya();return e(t.JSON,"JSON",!0),$j}var Py,kj;function eie(){if(kj)return Py;kj=1,wK(),PK(),TK(),zne(),CK(),Une(),Wne(),IK(),Hne(),Vne(),Kne(),Gne(),Yne(),Qne(),RK(),Xne(),Jne(),Zne();var t=Ht();return Py=t.Symbol,Py}var Dj={},Ty,qj;function tie(){return qj||(qj=1,Ty=function(){}),Ty}var Cy,Mj;function mu(){return Mj||(Mj=1,Cy={}),Cy}var Iy,Aj;function rie(){if(Aj)return Iy;Aj=1;var t=Mt(),e=er(),r=Function.prototype,n=t&&Object.getOwnPropertyDescriptor,i=e(r,"name"),s=i&&(function(){}).name==="something",o=i&&(!t||t&&n(r,"name").configurable);return Iy={EXISTS:i,PROPER:s,CONFIGURABLE:o},Iy}var Ry,Fj;function nie(){if(Fj)return Ry;Fj=1;var t=He();return Ry=!t(function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype}),Ry}var Ny,Lj;function NK(){if(Lj)return Ny;Lj=1;var t=er(),e=Jt(),r=ei(),n=Np(),i=nie(),s=n("IE_PROTO"),o=Object,a=o.prototype;return Ny=i?o.getPrototypeOf:function(l){var u=r(l);if(t(u,s))return u[s];var c=u.constructor;return e(c)&&u instanceof c?c.prototype:u instanceof o?a:null},Ny}var $y,Bj;function $K(){if(Bj)return $y;Bj=1;var t=He(),e=Jt(),r=Mr(),n=Cd(),i=NK(),s=Id(),o=tr(),a=uu(),l=o("iterator"),u=!1,c,d,f;[].keys&&(f=[].keys(),"next"in f?(d=i(i(f)),d!==Object.prototype&&(c=d)):u=!0);var p=!r(c)||t(function(){var m={};return c[l].call(m)!==m});return p?c={}:a&&(c=n(c)),e(c[l])||s(c,l,function(){return this}),$y={IteratorPrototype:c,BUGGY_SAFARI_ITERATORS:u},$y}var jy,zj;function iie(){if(zj)return jy;zj=1;var t=$K().IteratorPrototype,e=Cd(),r=_d(),n=ya(),i=mu(),s=function(){return this};return jy=function(o,a,l,u){var c=a+" Iterator";return o.prototype=e(t,{next:r(+!u,l)}),n(o,c,!1,!0),i[c]=s,o},jy}var ky,Uj;function sie(){if(Uj)return ky;Uj=1;var t=Ye(),e=ns();return ky=function(r,n,i){try{return t(e(Object.getOwnPropertyDescriptor(r,n)[i]))}catch{}},ky}var Dy,Wj;function oie(){if(Wj)return Dy;Wj=1;var t=Mr();return Dy=function(e){return t(e)||e===null},Dy}var qy,Hj;function aie(){if(Hj)return qy;Hj=1;var t=oie(),e=String,r=TypeError;return qy=function(n){if(t(n))return n;throw new r("Can't set "+e(n)+" as a prototype")},qy}var My,Vj;function lie(){if(Vj)return My;Vj=1;var t=sie(),e=Mr(),r=ma(),n=aie();return My=Object.setPrototypeOf||("__proto__"in{}?function(){var i=!1,s={},o;try{o=t(Object.prototype,"__proto__","set"),o(s,[]),i=s instanceof Array}catch{}return function(l,u){return r(l),n(u),e(l)&&(i?o(l,u):l.__proto__=u),l}}():void 0),My}var Ay,Kj;function CC(){if(Kj)return Ay;Kj=1;var t=Pe(),e=tn(),r=uu(),n=rie(),i=Jt(),s=iie(),o=NK(),a=lie(),l=ya(),u=du(),c=Id(),d=tr(),f=mu(),p=$K(),m=n.PROPER,g=n.CONFIGURABLE,b=p.IteratorPrototype,y=p.BUGGY_SAFARI_ITERATORS,v=d("iterator"),x="keys",w="values",_="entries",E=function(){return this};return Ay=function(O,S,T,P,R,C,I){s(T,S,P);var q=function(ye){if(ye===R&&G)return G;if(!y&&ye&&ye in Q)return Q[ye];switch(ye){case x:return function(){return new T(this,ye)};case w:return function(){return new T(this,ye)};case _:return function(){return new T(this,ye)}}return function(){return new T(this)}},B=S+" Iterator",re=!1,Q=O.prototype,L=Q[v]||Q["@@iterator"]||R&&Q[R],G=!y&&L||q(R),U=S==="Array"&&Q.entries||L,z,te,fe;if(U&&(z=o(U.call(new O)),z!==Object.prototype&&z.next&&(!r&&o(z)!==b&&(a?a(z,b):i(z[v])||c(z,v,E)),l(z,B,!0,!0),r&&(f[B]=E))),m&&R===w&&L&&L.name!==w&&(!r&&g?u(Q,"name",w):(re=!0,G=function(){return e(L,this)})),R)if(te={values:q(w),keys:C?G:q(x),entries:q(_)},I)for(fe in te)(y||re||!(fe in Q))&&c(Q,fe,te[fe]);else t({target:S,proto:!0,forced:y||re},te);return(!r||I)&&Q[v]!==G&&c(Q,v,G,{name:R}),f[S]=G,te},Ay}var Fy,Gj;function IC(){return Gj||(Gj=1,Fy=function(t,e){return{value:t,done:e}}),Fy}var Ly,Yj;function lo(){if(Yj)return Ly;Yj=1;var t=xi(),e=tie(),r=mu(),n=Rd(),i=Nn().f,s=CC(),o=IC(),a=uu(),l=Mt(),u="Array Iterator",c=n.set,d=n.getterFor(u);Ly=s(Array,"Array",function(p,m){c(this,{type:u,target:t(p),index:0,kind:m})},function(){var p=d(this),m=p.target,g=p.index++;if(!m||g>=m.length)return p.target=null,o(void 0,!0);switch(p.kind){case"keys":return o(g,!1);case"values":return o(m[g],!1)}return o([g,m[g]],!1)},"values");var f=r.Arguments=r.Array;if(e("keys"),e("values"),e("entries"),!a&&l&&f.name!=="values")try{i(f,"name",{value:"values"})}catch{}return Ly}var By,Qj;function uie(){return Qj||(Qj=1,By={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}),By}var Xj;function uo(){if(Xj)return Dj;Xj=1,lo();var t=uie(),e=qt(),r=ya(),n=mu();for(var i in t)r(e[i],i),n[i]=n.Array;return Dj}var zy,Jj;function jK(){if(Jj)return zy;Jj=1;var t=eie();return uo(),zy=t,zy}var Zj={},ek;function cie(){if(ek)return Zj;ek=1;var t=tr(),e=Nn().f,r=t("metadata"),n=Function.prototype;return n[r]===void 0&&e(n,r,{value:null}),Zj}var tk={},rk;function die(){return rk||(rk=1,TK()),tk}var nk={},ik;function hie(){return ik||(ik=1,CK()),nk}var sk={},ok;function fie(){if(ok)return sk;ok=1;var t=mt();return t("metadata"),sk}var Uy,ak;function pie(){if(ak)return Uy;ak=1;var t=jK();return cie(),die(),hie(),fie(),Uy=t,Uy}var lk={},Wy,uk;function kK(){if(uk)return Wy;uk=1;var t=pn(),e=Ye(),r=t("Symbol"),n=r.keyFor,i=e(r.prototype.valueOf);return Wy=r.isRegisteredSymbol||function(o){try{return n(i(o))!==void 0}catch{return!1}},Wy}var ck;function mie(){if(ck)return lk;ck=1;var t=Pe(),e=kK();return t({target:"Symbol",stat:!0},{isRegisteredSymbol:e}),lk}var dk={},Hy,hk;function DK(){if(hk)return Hy;hk=1;for(var t=cu(),e=pn(),r=Ye(),n=Od(),i=tr(),s=e("Symbol"),o=s.isWellKnownSymbol,a=e("Object","getOwnPropertyNames"),l=r(s.prototype.valueOf),u=t("wks"),c=0,d=a(s),f=d.length;c<f;c++)try{var p=d[c];n(s[p])&&i(p)}catch{}return Hy=function(g){if(o&&o(g))return!0;try{for(var b=l(g),y=0,v=a(u),x=v.length;y<x;y++)if(u[v[y]]==b)return!0}catch{}return!1},Hy}var fk;function vie(){if(fk)return dk;fk=1;var t=Pe(),e=DK();return t({target:"Symbol",stat:!0,forced:!0},{isWellKnownSymbol:e}),dk}var pk={},mk;function yie(){if(mk)return pk;mk=1;var t=mt();return t("customMatcher"),pk}var vk={},yk;function gie(){if(yk)return vk;yk=1;var t=mt();return t("observable"),vk}var gk={},bk;function bie(){if(bk)return gk;bk=1;var t=Pe(),e=kK();return t({target:"Symbol",stat:!0,name:"isRegisteredSymbol"},{isRegistered:e}),gk}var wk={},xk;function wie(){if(xk)return wk;xk=1;var t=Pe(),e=DK();return t({target:"Symbol",stat:!0,name:"isWellKnownSymbol",forced:!0},{isWellKnown:e}),wk}var _k={},Sk;function xie(){if(Sk)return _k;Sk=1;var t=mt();return t("matcher"),_k}var Ek={},Ok;function _ie(){if(Ok)return Ek;Ok=1;var t=mt();return t("metadataKey"),Ek}var Pk={},Tk;function Sie(){if(Tk)return Pk;Tk=1;var t=mt();return t("patternMatch"),Pk}var Ck={},Ik;function Eie(){if(Ik)return Ck;Ik=1;var t=mt();return t("replaceAll"),Ck}var Vy,Rk;function Oie(){if(Rk)return Vy;Rk=1;var t=pie();return mie(),vie(),yie(),gie(),bie(),wie(),xie(),_ie(),Sie(),Eie(),Vy=t,Vy}var Ky,Nk;function Pie(){return Nk||(Nk=1,Ky=Oie()),Ky}var Tie=Pie(),Ph=De(Tie),$k={},Gy,jk;function Cie(){if(jk)return Gy;jk=1;var t=Ye(),e=hu(),r=ao(),n=ma(),i=t("".charAt),s=t("".charCodeAt),o=t("".slice),a=function(l){return function(u,c){var d=r(n(u)),f=e(c),p=d.length,m,g;return f<0||f>=p?l?"":void 0:(m=s(d,f),m<55296||m>56319||f+1===p||(g=s(d,f+1))<56320||g>57343?l?i(d,f):m:l?o(d,f,f+2):(m-55296<<10)+(g-56320)+65536)}};return Gy={codeAt:a(!1),charAt:a(!0)},Gy}var kk;function Dp(){if(kk)return $k;kk=1;var t=Cie().charAt,e=ao(),r=Rd(),n=CC(),i=IC(),s="String Iterator",o=r.set,a=r.getterFor(s);return n(String,"String",function(l){o(this,{type:s,string:e(l),index:0})},function(){var u=a(this),c=u.string,d=u.index,f;return d>=c.length?i(void 0,!0):(f=t(c,d),u.index+=f.length,i(f,!1))}),$k}var Yy,Dk;function Iie(){if(Dk)return Yy;Dk=1,lo(),Dp(),IK();var t=kp();return Yy=t.f("iterator"),Yy}var Qy,qk;function qK(){if(qk)return Qy;qk=1;var t=Iie();return uo(),Qy=t,Qy}var Xy,Mk;function Rie(){if(Mk)return Xy;Mk=1;var t=qK();return Xy=t,Xy}var Jy,Ak;function Nie(){if(Ak)return Jy;Ak=1;var t=Rie();return Jy=t,Jy}var Zy,Fk;function $ie(){return Fk||(Fk=1,Zy=Nie()),Zy}var jie=$ie(),kie=De(jie);function Wc(t){"@babel/helpers - typeof";return Wc=typeof Ph=="function"&&typeof kie=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Ph=="function"&&e.constructor===Ph&&e!==Ph.prototype?"symbol":typeof e},Wc(t)}var eg,Lk;function Die(){if(Lk)return eg;Lk=1,RK();var t=kp();return eg=t.f("toPrimitive"),eg}var tg,Bk;function qie(){if(Bk)return tg;Bk=1;var t=Die();return tg=t,tg}var rg,zk;function Mie(){if(zk)return rg;zk=1;var t=qie();return rg=t,rg}var ng,Uk;function Aie(){if(Uk)return ng;Uk=1;var t=Mie();return ng=t,ng}var ig,Wk;function Fie(){return Wk||(Wk=1,ig=Aie()),ig}var Lie=Fie(),Bie=De(Lie);function zie(t,e){if(Wc(t)!="object"||!t)return t;var r=t[Bie];if(r!==void 0){var n=r.call(t,e);if(Wc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Uie(t){var e=zie(t,"string");return Wc(e)=="symbol"?e:e+""}function Us(t,e,r){return(e=Uie(e))in t?Ine(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var Hk={},sg,Vk;function Wie(){if(Vk)return sg;Vk=1;var t=Ye(),e=ns(),r=Mr(),n=er(),i=fu(),s=xd(),o=Function,a=t([].concat),l=t([].join),u={},c=function(d,f,p){if(!n(u,f)){for(var m=[],g=0;g<f;g++)m[g]="a["+g+"]";u[f]=o("C,a","return new C("+l(m,",")+")")}return u[f](d,p)};return sg=s?o.bind:function(f){var p=e(this),m=p.prototype,g=i(arguments,1),b=function(){var v=a(g,i(arguments));return this instanceof b?c(p,v.length,v):p.apply(f,v)};return r(m)&&(b.prototype=m),b},sg}var Kk;function Hie(){if(Kk)return Hk;Kk=1;var t=Pe(),e=Wie();return t({target:"Function",proto:!0,forced:Function.bind!==e},{bind:e}),Hk}var og,Gk;function rn(){if(Gk)return og;Gk=1;var t=qt(),e=Ht();return og=function(r,n){var i=e[r+"Prototype"],s=i&&i[n];if(s)return s;var o=t[r],a=o&&o.prototype;return a&&a[n]},og}var ag,Yk;function Vie(){if(Yk)return ag;Yk=1,Hie();var t=rn();return ag=t("Function","bind"),ag}var lg,Qk;function Kie(){if(Qk)return lg;Qk=1;var t=Zt(),e=Vie(),r=Function.prototype;return lg=function(n){var i=n.bind;return n===r||t(r,n)&&i===r.bind?e:i},lg}var ug,Xk;function Gie(){if(Xk)return ug;Xk=1;var t=Kie();return ug=t,ug}var cg,Jk;function Yie(){return Jk||(Jk=1,cg=Gie()),cg}var Qie=Yie(),MK=De(Qie),Zk={},dg,eD;function Xie(){if(eD)return dg;eD=1;var t=ns(),e=ei(),r=Op(),n=so(),i=TypeError,s="Reduce of empty array with no initial value",o=function(a){return function(l,u,c,d){var f=e(l),p=r(f),m=n(f);if(t(u),m===0&&c<2)throw new i(s);var g=a?m-1:0,b=a?-1:1;if(c<2)for(;;){if(g in p){d=p[g],g+=b;break}if(g+=b,a?g<0:m<=g)throw new i(s)}for(;a?g>=0:m>g;g+=b)g in p&&(d=u(d,p[g],g,f));return d}};return dg={left:o(!1),right:o(!0)},dg}var hg,tD;function qp(){if(tD)return hg;tD=1;var t=He();return hg=function(e,r){var n=[][e];return!!n&&t(function(){n.call(null,r||function(){return 1},1)})},hg}var fg,rD;function AK(){if(rD)return fg;rD=1;var t=qt(),e=ou(),r=rs(),n=function(i){return e.slice(0,i.length)===i};return fg=function(){return n("Bun/")?"BUN":n("Cloudflare-Workers")?"CLOUDFLARE":n("Deno/")?"DENO":n("Node.js/")?"NODE":t.Bun&&typeof Bun.version=="string"?"BUN":t.Deno&&typeof Deno.version=="object"?"DENO":r(t.process)==="process"?"NODE":t.window&&t.document?"BROWSER":"REST"}(),fg}var pg,nD;function Jie(){if(nD)return pg;nD=1;var t=AK();return pg=t==="NODE",pg}var iD;function Zie(){if(iD)return Zk;iD=1;var t=Pe(),e=Xie().left,r=qp(),n=Ed(),i=Jie(),s=!i&&n>79&&n<83,o=s||!r("reduce");return t({target:"Array",proto:!0,forced:o},{reduce:function(l){var u=arguments.length;return e(this,l,u,u>1?arguments[1]:void 0)}}),Zk}var mg,sD;function ese(){if(sD)return mg;sD=1,Zie();var t=rn();return mg=t("Array","reduce"),mg}var vg,oD;function tse(){if(oD)return vg;oD=1;var t=Zt(),e=ese(),r=Array.prototype;return vg=function(n){var i=n.reduce;return n===r||t(r,n)&&i===r.reduce?e:i},vg}var yg,aD;function rse(){if(aD)return yg;aD=1;var t=tse();return yg=t,yg}var gg,lD;function nse(){return lD||(lD=1,gg=rse()),gg}var ise=nse(),sse=De(ise),uD={},cD;function ose(){if(cD)return uD;cD=1;var t=Pe(),e=pu().filter,r=Pd(),n=r("filter");return t({target:"Array",proto:!0,forced:!n},{filter:function(s){return e(this,s,arguments.length>1?arguments[1]:void 0)}}),uD}var bg,dD;function ase(){if(dD)return bg;dD=1,ose();var t=rn();return bg=t("Array","filter"),bg}var wg,hD;function lse(){if(hD)return wg;hD=1;var t=Zt(),e=ase(),r=Array.prototype;return wg=function(n){var i=n.filter;return n===r||t(r,n)&&i===r.filter?e:i},wg}var xg,fD;function use(){if(fD)return xg;fD=1;var t=lse();return xg=t,xg}var _g,pD;function cse(){return pD||(pD=1,_g=use()),_g}var dse=cse(),el=De(dse),mD={},vD;function hse(){if(vD)return mD;vD=1;var t=Pe(),e=pu().map,r=Pd(),n=r("map");return t({target:"Array",proto:!0,forced:!n},{map:function(s){return e(this,s,arguments.length>1?arguments[1]:void 0)}}),mD}var Sg,yD;function fse(){if(yD)return Sg;yD=1,hse();var t=rn();return Sg=t("Array","map"),Sg}var Eg,gD;function pse(){if(gD)return Eg;gD=1;var t=Zt(),e=fse(),r=Array.prototype;return Eg=function(n){var i=n.map;return n===r||t(r,n)&&i===r.map?e:i},Eg}var Og,bD;function mse(){if(bD)return Og;bD=1;var t=pse();return Og=t,Og}var Pg,wD;function vse(){return wD||(wD=1,Pg=mse()),Pg}var yse=vse(),Wn=De(yse),Tg,xD;function gse(){return xD||(xD=1,Tg=jK()),Tg}var bse=gse(),wse=De(bse),_D={},SD;function xse(){if(SD)return _D;SD=1;var t=Pe(),e=va(),r=bK(),n=Mr(),i=EC(),s=so(),o=xi(),a=Ip(),l=tr(),u=Pd(),c=fu(),d=u("slice"),f=l("species"),p=Array,m=Math.max;return t({target:"Array",proto:!0,forced:!d},{slice:function(b,y){var v=o(this),x=s(v),w=i(b,x),_=i(y===void 0?x:y,x),E,O,S;if(e(v)&&(E=v.constructor,r(E)&&(E===p||e(E.prototype))?E=void 0:n(E)&&(E=E[f],E===null&&(E=void 0)),E===p||E===void 0))return c(v,w,_);for(O=new(E===void 0?p:E)(m(_-w,0)),S=0;w<_;w++,S++)w in v&&a(O,S,v[w]);return O.length=S,O}}),_D}var Cg,ED;function _se(){if(ED)return Cg;ED=1,xse();var t=rn();return Cg=t("Array","slice"),Cg}var Ig,OD;function Sse(){if(OD)return Ig;OD=1;var t=Zt(),e=_se(),r=Array.prototype;return Ig=function(n){var i=n.slice;return n===r||t(r,n)&&i===r.slice?e:i},Ig}var Rg,PD;function Ese(){if(PD)return Rg;PD=1;var t=Sse();return Rg=t,Rg}var Ng,TD;function Ose(){return TD||(TD=1,Ng=Ese()),Ng}var Pse=Ose(),Tse=De(Pse),CD={},$g,ID;function FK(){if(ID)return $g;ID=1;var t=pn(),e=Ye(),r=$p(),n=jp(),i=is(),s=e([].concat);return $g=t("Reflect","ownKeys")||function(a){var l=r.f(i(a)),u=n.f;return u?s(l,u(a)):l},$g}var RD;function Cse(){if(RD)return CD;RD=1;var t=Pe(),e=FK();return t({target:"Reflect",stat:!0},{ownKeys:e}),CD}var jg,ND;function Ise(){if(ND)return jg;ND=1,Cse();var t=Ht();return jg=t.Reflect.ownKeys,jg}var kg,$D;function Rse(){if($D)return kg;$D=1;var t=Ise();return kg=t,kg}var Dg,jD;function Nse(){return jD||(jD=1,Dg=Rse()),Dg}var $se=Nse(),jse=De($se),kD={},DD;function kse(){if(DD)return kD;DD=1;var t=Pe(),e=va();return t({target:"Array",stat:!0},{isArray:e}),kD}var qg,qD;function Dse(){if(qD)return qg;qD=1,kse();var t=Ht();return qg=t.Array.isArray,qg}var Mg,MD;function qse(){if(MD)return Mg;MD=1;var t=Dse();return Mg=t,Mg}var Ag,AD;function Mse(){return AD||(AD=1,Ag=qse()),Ag}var Ase=Mse(),oi=De(Ase),FD={},LD;function Fse(){if(LD)return FD;LD=1;var t=Pe(),e=ei(),r=Rp(),n=He(),i=n(function(){r(1)});return t({target:"Object",stat:!0,forced:i},{keys:function(o){return r(e(o))}}),FD}var Fg,BD;function Lse(){if(BD)return Fg;BD=1,Fse();var t=Ht();return Fg=t.Object.keys,Fg}var Lg,zD;function Bse(){if(zD)return Lg;zD=1;var t=Lse();return Lg=t,Lg}var Bg,UD;function zse(){return UD||(UD=1,Bg=Bse()),Bg}var Use=zse(),RC=De(Use),WD={},zg,HD;function Wse(){if(HD)return zg;HD=1;var t=pu().forEach,e=qp(),r=e("forEach");return zg=r?[].forEach:function(i){return t(this,i,arguments.length>1?arguments[1]:void 0)},zg}var VD;function Hse(){if(VD)return WD;VD=1;var t=Pe(),e=Wse();return t({target:"Array",proto:!0,forced:[].forEach!==e},{forEach:e}),WD}var Ug,KD;function Vse(){if(KD)return Ug;KD=1,Hse();var t=rn();return Ug=t("Array","forEach"),Ug}var Wg,GD;function Kse(){if(GD)return Wg;GD=1;var t=Vse();return Wg=t,Wg}var Hg,YD;function Gse(){if(YD)return Hg;YD=1;var t=oo(),e=er(),r=Zt(),n=Kse(),i=Array.prototype,s={DOMTokenList:!0,NodeList:!0};return Hg=function(o){var a=o.forEach;return o===i||r(i,o)&&a===i.forEach||e(s,t(o))?n:a},Hg}var Vg,QD;function Yse(){return QD||(QD=1,Vg=Gse()),Vg}var Qse=Yse(),ia=De(Qse),XD={},JD;function Xse(){if(JD)return XD;JD=1;var t=Pe(),e=Ye(),r=va(),n=e([].reverse),i=[1,2];return t({target:"Array",proto:!0,forced:String(i)===String(i.reverse())},{reverse:function(){return r(this)&&(this.length=this.length),n(this)}}),XD}var Kg,ZD;function Jse(){if(ZD)return Kg;ZD=1,Xse();var t=rn();return Kg=t("Array","reverse"),Kg}var Gg,eq;function Zse(){if(eq)return Gg;eq=1;var t=Zt(),e=Jse(),r=Array.prototype;return Gg=function(n){var i=n.reverse;return n===r||t(r,n)&&i===r.reverse?e:i},Gg}var Yg,tq;function eoe(){if(tq)return Yg;tq=1;var t=Zse();return Yg=t,Yg}var Qg,rq;function toe(){return rq||(rq=1,Qg=eoe()),Qg}var roe=toe(),noe=De(roe),nq={},Xg,iq;function ioe(){if(iq)return Xg;iq=1;var t=Mt(),e=va(),r=TypeError,n=Object.getOwnPropertyDescriptor,i=t&&!function(){if(this!==void 0)return!0;try{Object.defineProperty([],"length",{writable:!1}).length=1}catch(s){return s instanceof TypeError}}();return Xg=i?function(s,o){if(e(s)&&!n(s,"length").writable)throw new r("Cannot set read only .length");return s.length=o}:function(s,o){return s.length=o},Xg}var Jg,sq;function LK(){if(sq)return Jg;sq=1;var t=lu(),e=TypeError;return Jg=function(r,n){if(!delete r[n])throw new e("Cannot delete property "+t(n)+" of "+t(r))},Jg}var oq;function soe(){if(oq)return nq;oq=1;var t=Pe(),e=ei(),r=EC(),n=hu(),i=so(),s=ioe(),o=gK(),a=SC(),l=Ip(),u=LK(),c=Pd(),d=c("splice"),f=Math.max,p=Math.min;return t({target:"Array",proto:!0,forced:!d},{splice:function(g,b){var y=e(this),v=i(y),x=r(g,v),w=arguments.length,_,E,O,S,T,P;for(w===0?_=E=0:w===1?(_=0,E=v-x):(_=w-2,E=p(f(n(b),0),v-x)),o(v+_-E),O=a(y,E),S=0;S<E;S++)T=x+S,T in y&&l(O,S,y[T]);if(O.length=E,_<E){for(S=x;S<v-E;S++)T=S+E,P=S+_,T in y?y[P]=y[T]:u(y,P);for(S=v;S>v-E+_;S--)u(y,S-1)}else if(_>E)for(S=v-E;S>x;S--)T=S+E-1,P=S+_-1,T in y?y[P]=y[T]:u(y,P);for(S=0;S<_;S++)y[S+x]=arguments[S+2];return s(y,v-E+_),O}}),nq}var Zg,aq;function ooe(){if(aq)return Zg;aq=1,soe();var t=rn();return Zg=t("Array","splice"),Zg}var eb,lq;function aoe(){if(lq)return eb;lq=1;var t=Zt(),e=ooe(),r=Array.prototype;return eb=function(n){var i=n.splice;return n===r||t(r,n)&&i===r.splice?e:i},eb}var tb,uq;function loe(){if(uq)return tb;uq=1;var t=aoe();return tb=t,tb}var rb,cq;function uoe(){return cq||(cq=1,rb=loe()),rb}var coe=uoe(),BK=De(coe),dq={},nb,hq;function doe(){if(hq)return nb;hq=1;var t=Mt(),e=Ye(),r=tn(),n=He(),i=Rp(),s=jp(),o=gC(),a=ei(),l=Op(),u=Object.assign,c=Object.defineProperty,d=e([].concat);return nb=!u||n(function(){if(t&&u({b:1},u(c({},"a",{enumerable:!0,get:function(){c(this,"b",{value:3,enumerable:!1})}}),{b:2})).b!==1)return!0;var f={},p={},m=Symbol("assign detection"),g="abcdefghijklmnopqrst";return f[m]=7,g.split("").forEach(function(b){p[b]=b}),u({},f)[m]!==7||i(u({},p)).join("")!==g})?function(p,m){for(var g=a(p),b=arguments.length,y=1,v=s.f,x=o.f;b>y;)for(var w=l(arguments[y++]),_=v?d(i(w),v(w)):i(w),E=_.length,O=0,S;E>O;)S=_[O++],(!t||r(x,w,S))&&(g[S]=w[S]);return g}:u,nb}var fq;function hoe(){if(fq)return dq;fq=1;var t=Pe(),e=doe();return t({target:"Object",stat:!0,arity:2,forced:Object.assign!==e},{assign:e}),dq}var ib,pq;function foe(){if(pq)return ib;pq=1,hoe();var t=Ht();return ib=t.Object.assign,ib}var sb,mq;function poe(){if(mq)return sb;mq=1;var t=foe();return sb=t,sb}var ob,vq;function moe(){return vq||(vq=1,ob=poe()),ob}var voe=moe(),yoe=De(voe),ab,yq;function goe(){if(yq)return ab;yq=1,wK();var t=rn();return ab=t("Array","concat"),ab}var lb,gq;function boe(){if(gq)return lb;gq=1;var t=Zt(),e=goe(),r=Array.prototype;return lb=function(n){var i=n.concat;return n===r||t(r,n)&&i===r.concat?e:i},lb}var ub,bq;function woe(){if(bq)return ub;bq=1;var t=boe();return ub=t,ub}var cb,wq;function xoe(){return wq||(wq=1,cb=woe()),cb}var _oe=xoe(),Soe=De(_oe),xq={},_q;function Eoe(){if(_q)return xq;_q=1;var t=Pe(),e=Mt(),r=Cd();return t({target:"Object",stat:!0,sham:!e},{create:r}),xq}var db,Sq;function Ooe(){if(Sq)return db;Sq=1,Eoe();var t=Ht(),e=t.Object;return db=function(n,i){return e.create(n,i)},db}var hb,Eq;function Poe(){if(Eq)return hb;Eq=1;var t=Ooe();return hb=t,hb}var fb,Oq;function Toe(){return Oq||(Oq=1,fb=Poe()),fb}var Coe=Toe(),Ioe=De(Coe),Pq={},pb,Tq;function Roe(){if(Tq)return pb;Tq=1;var t=hu(),e=ao(),r=ma(),n=RangeError;return pb=function(s){var o=e(r(this)),a="",l=t(s);if(l<0||l===1/0)throw new n("Wrong number of repetitions");for(;l>0;(l>>>=1)&&(o+=o))l&1&&(a+=o);return a},pb}var mb,Cq;function Noe(){if(Cq)return mb;Cq=1;var t=Ye(),e=yK(),r=ao(),n=Roe(),i=ma(),s=t(n),o=t("".slice),a=Math.ceil,l=function(u){return function(c,d,f){var p=r(i(c)),m=e(d),g=p.length,b=f===void 0?" ":r(f),y,v;return m<=g||b===""?p:(y=m-g,v=s(b,a(y/b.length)),v.length>y&&(v=o(v,0,y)),u?p+v:v+p)}};return mb={start:l(!1),end:l(!0)},mb}var vb,Iq;function $oe(){if(Iq)return vb;Iq=1;var t=Ye(),e=He(),r=Noe().start,n=RangeError,i=isFinite,s=Math.abs,o=Date.prototype,a=o.toISOString,l=t(o.getTime),u=t(o.getUTCDate),c=t(o.getUTCFullYear),d=t(o.getUTCHours),f=t(o.getUTCMilliseconds),p=t(o.getUTCMinutes),m=t(o.getUTCMonth),g=t(o.getUTCSeconds);return vb=e(function(){return a.call(new Date(-5e13-1))!=="0385-07-25T07:06:39.999Z"})||!e(function(){a.call(new Date(NaN))})?function(){if(!i(l(this)))throw new n("Invalid time value");var y=this,v=c(y),x=f(y),w=v<0?"-":v>9999?"+":"";return w+r(s(v),w?6:4,0)+"-"+r(m(y)+1,2,0)+"-"+r(u(y),2,0)+"T"+r(d(y),2,0)+":"+r(p(y),2,0)+":"+r(g(y),2,0)+"."+r(x,3,0)+"Z"}:a,vb}var Rq;function joe(){if(Rq)return Pq;Rq=1;var t=Pe(),e=tn(),r=ei(),n=hK(),i=$oe(),s=rs(),o=He(),a=o(function(){return new Date(NaN).toJSON()!==null||e(Date.prototype.toJSON,{toISOString:function(){return 1}})!==1});return t({target:"Date",proto:!0,forced:a},{toJSON:function(u){var c=r(this),d=n(c,"number");return typeof d=="number"&&!isFinite(d)?null:!("toISOString"in c)&&s(c)==="Date"?e(i,c):c.toISOString()}}),Pq}var yb,Nq;function koe(){if(Nq)return yb;Nq=1,joe(),OK();var t=Ht(),e=Ep();return t.JSON||(t.JSON={stringify:JSON.stringify}),yb=function(n,i,s){return e(t.JSON.stringify,null,arguments)},yb}var gb,$q;function Doe(){if($q)return gb;$q=1;var t=koe();return gb=t,gb}var bb,jq;function qoe(){return jq||(jq=1,bb=Doe()),bb}var Moe=qoe(),Aoe=De(Moe),kq={},Dq={},wb,qq;function Foe(){if(qq)return wb;qq=1;var t=TypeError;return wb=function(e,r){if(e<r)throw new t("Not enough arguments");return e},wb}var xb,Mq;function zK(){if(Mq)return xb;Mq=1;var t=qt(),e=Ep(),r=Jt(),n=AK(),i=ou(),s=fu(),o=Foe(),a=t.Function,l=/MSIE .\./.test(i)||n==="BUN"&&function(){var u=t.Bun.version.split(".");return u.length<3||u[0]==="0"&&(u[1]<3||u[1]==="3"&&u[2]==="0")}();return xb=function(u,c){var d=c?2:1;return l?function(f,p){var m=o(arguments.length,1)>d,g=r(f)?f:a(f),b=m?s(arguments,d):[],y=m?function(){e(g,this,b)}:g;return c?u(y,p):u(y)}:u},xb}var Aq;function Loe(){if(Aq)return Dq;Aq=1;var t=Pe(),e=qt(),r=zK(),n=r(e.setInterval,!0);return t({global:!0,bind:!0,forced:e.setInterval!==n},{setInterval:n}),Dq}var Fq={},Lq;function Boe(){if(Lq)return Fq;Lq=1;var t=Pe(),e=qt(),r=zK(),n=r(e.setTimeout,!0);return t({global:!0,bind:!0,forced:e.setTimeout!==n},{setTimeout:n}),Fq}var Bq;function zoe(){return Bq||(Bq=1,Loe(),Boe()),kq}var _b,zq;function Uoe(){if(zq)return _b;zq=1,zoe();var t=Ht();return _b=t.setTimeout,_b}var Sb,Uq;function Woe(){return Uq||(Uq=1,Sb=Uoe()),Sb}var Hoe=Woe(),Voe=De(Hoe),Eb={exports:{}},Wq;function Koe(){return Wq||(Wq=1,function(t){function e(n){if(n)return r(n);this._callbacks=new Map}function r(n){return Object.assign(n,e.prototype),n._callbacks=new Map,n}e.prototype.on=function(n,i){const s=this._callbacks.get(n)??[];return s.push(i),this._callbacks.set(n,s),this},e.prototype.once=function(n,i){const s=(...o)=>{this.off(n,s),i.apply(this,o)};return s.fn=i,this.on(n,s),this},e.prototype.off=function(n,i){if(n===void 0&&i===void 0)return this._callbacks.clear(),this;if(i===void 0)return this._callbacks.delete(n),this;const s=this._callbacks.get(n);if(s){for(const[o,a]of s.entries())if(a===i||a.fn===i){s.splice(o,1);break}s.length===0?this._callbacks.delete(n):this._callbacks.set(n,s)}return this},e.prototype.emit=function(n,...i){const s=this._callbacks.get(n);if(s){const o=[...s];for(const a of o)a.apply(this,i)}return this},e.prototype.listeners=function(n){return this._callbacks.get(n)??[]},e.prototype.listenerCount=function(n){if(n)return this.listeners(n).length;let i=0;for(const s of this._callbacks.values())i+=s.length;return i},e.prototype.hasListeners=function(n){return this.listenerCount(n)>0},e.prototype.addEventListener=e.prototype.on,e.prototype.removeListener=e.prototype.off,e.prototype.removeEventListener=e.prototype.off,e.prototype.removeAllListeners=e.prototype.off,t.exports=e}(Eb)),Eb.exports}var Goe=Koe(),Yoe=De(Goe);/*! Hammer.JS - v2.0.17-rc - 2019-12-16
 * http://naver.github.io/egjs
 *
 * Forked By Naver egjs
 * Copyright (c) hammerjs
 * Licensed under the MIT license */function Xn(){return Xn=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Xn.apply(this,arguments)}function $n(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}function Th(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}var FP;typeof Object.assign!="function"?FP=function(e){if(e==null)throw new TypeError("Cannot convert undefined or null to object");for(var r=Object(e),n=1;n<arguments.length;n++){var i=arguments[n];if(i!=null)for(var s in i)i.hasOwnProperty(s)&&(r[s]=i[s])}return r}:FP=Object.assign;var sa=FP,Hq=["","webkit","Moz","MS","ms","o"],Qoe=typeof document>"u"?{style:{}}:document.createElement("div"),Xoe="function",tl=Math.round,oa=Math.abs,NC=Date.now;function Mp(t,e){for(var r,n,i=e[0].toUpperCase()+e.slice(1),s=0;s<Hq.length;){if(r=Hq[s],n=r?r+i:e,n in t)return n;s++}}var Mi;typeof window>"u"?Mi={}:Mi=window;var UK=Mp(Qoe.style,"touchAction"),WK=UK!==void 0;function Joe(){if(!WK)return!1;var t={},e=Mi.CSS&&Mi.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach(function(r){return t[r]=e?Mi.CSS.supports("touch-action",r):!0}),t}var HK="compute",VK="auto",LP="manipulation",Bo="none",Hc="pan-x",Vc="pan-y",Ch=Joe(),Zoe=/mobile|tablet|ip(ad|hone|od)|android/i,KK="ontouchstart"in Mi,eae=Mp(Mi,"PointerEvent")!==void 0,tae=KK&&Zoe.test(navigator.userAgent),Nd="touch",rae="pen",$C="mouse",nae="kinect",iae=25,$r=1,ga=2,jt=4,Jr=8,Mf=1,$d=2,jd=4,kd=8,zl=16,gi=$d|jd,zo=kd|zl,GK=gi|zo,YK=["x","y"],Af=["clientX","clientY"];function Ai(t,e,r){var n;if(t)if(t.forEach)t.forEach(e,r);else if(t.length!==void 0)for(n=0;n<t.length;)e.call(r,t[n],n,t),n++;else for(n in t)t.hasOwnProperty(n)&&e.call(r,t[n],n,t)}function Ap(t,e){return typeof t===Xoe?t.apply(e&&e[0]||void 0,e):t}function Oo(t,e){return t.indexOf(e)>-1}function sae(t){if(Oo(t,Bo))return Bo;var e=Oo(t,Hc),r=Oo(t,Vc);return e&&r?Bo:e||r?e?Hc:Vc:Oo(t,LP)?LP:VK}var QK=function(){function t(r,n){this.manager=r,this.set(n)}var e=t.prototype;return e.set=function(n){n===HK&&(n=this.compute()),WK&&this.manager.element.style&&Ch[n]&&(this.manager.element.style[UK]=n),this.actions=n.toLowerCase().trim()},e.update=function(){this.set(this.manager.options.touchAction)},e.compute=function(){var n=[];return Ai(this.manager.recognizers,function(i){Ap(i.options.enable,[i])&&(n=n.concat(i.getTouchAction()))}),sae(n.join(" "))},e.preventDefaults=function(n){var i=n.srcEvent,s=n.offsetDirection;if(this.manager.session.prevented){i.preventDefault();return}var o=this.actions,a=Oo(o,Bo)&&!Ch[Bo],l=Oo(o,Vc)&&!Ch[Vc],u=Oo(o,Hc)&&!Ch[Hc];if(a){var c=n.pointers.length===1,d=n.distance<2,f=n.deltaTime<250;if(c&&d&&f)return}if(!(u&&l)&&(a||l&&s&gi||u&&s&zo))return this.preventSrc(i)},e.preventSrc=function(n){this.manager.session.prevented=!0,n.preventDefault()},t}();function jC(t,e){for(;t;){if(t===e)return!0;t=t.parentNode}return!1}function XK(t){var e=t.length;if(e===1)return{x:tl(t[0].clientX),y:tl(t[0].clientY)};for(var r=0,n=0,i=0;i<e;)r+=t[i].clientX,n+=t[i].clientY,i++;return{x:tl(r/e),y:tl(n/e)}}function Vq(t){for(var e=[],r=0;r<t.pointers.length;)e[r]={clientX:tl(t.pointers[r].clientX),clientY:tl(t.pointers[r].clientY)},r++;return{timeStamp:NC(),pointers:e,center:XK(e),deltaX:t.deltaX,deltaY:t.deltaY}}function Ff(t,e,r){r||(r=YK);var n=e[r[0]]-t[r[0]],i=e[r[1]]-t[r[1]];return Math.sqrt(n*n+i*i)}function BP(t,e,r){r||(r=YK);var n=e[r[0]]-t[r[0]],i=e[r[1]]-t[r[1]];return Math.atan2(i,n)*180/Math.PI}function JK(t,e){return t===e?Mf:oa(t)>=oa(e)?t<0?$d:jd:e<0?kd:zl}function oae(t,e){var r=e.center,n=t.offsetDelta||{},i=t.prevDelta||{},s=t.prevInput||{};(e.eventType===$r||s.eventType===jt)&&(i=t.prevDelta={x:s.deltaX||0,y:s.deltaY||0},n=t.offsetDelta={x:r.x,y:r.y}),e.deltaX=i.x+(r.x-n.x),e.deltaY=i.y+(r.y-n.y)}function ZK(t,e,r){return{x:e/t||0,y:r/t||0}}function aae(t,e){return Ff(e[0],e[1],Af)/Ff(t[0],t[1],Af)}function lae(t,e){return BP(e[1],e[0],Af)+BP(t[1],t[0],Af)}function uae(t,e){var r=t.lastInterval||e,n=e.timeStamp-r.timeStamp,i,s,o,a;if(e.eventType!==Jr&&(n>iae||r.velocity===void 0)){var l=e.deltaX-r.deltaX,u=e.deltaY-r.deltaY,c=ZK(n,l,u);s=c.x,o=c.y,i=oa(c.x)>oa(c.y)?c.x:c.y,a=JK(l,u),t.lastInterval=e}else i=r.velocity,s=r.velocityX,o=r.velocityY,a=r.direction;e.velocity=i,e.velocityX=s,e.velocityY=o,e.direction=a}function cae(t,e){var r=t.session,n=e.pointers,i=n.length;r.firstInput||(r.firstInput=Vq(e)),i>1&&!r.firstMultiple?r.firstMultiple=Vq(e):i===1&&(r.firstMultiple=!1);var s=r.firstInput,o=r.firstMultiple,a=o?o.center:s.center,l=e.center=XK(n);e.timeStamp=NC(),e.deltaTime=e.timeStamp-s.timeStamp,e.angle=BP(a,l),e.distance=Ff(a,l),oae(r,e),e.offsetDirection=JK(e.deltaX,e.deltaY);var u=ZK(e.deltaTime,e.deltaX,e.deltaY);e.overallVelocityX=u.x,e.overallVelocityY=u.y,e.overallVelocity=oa(u.x)>oa(u.y)?u.x:u.y,e.scale=o?aae(o.pointers,n):1,e.rotation=o?lae(o.pointers,n):0,e.maxPointers=r.prevInput?e.pointers.length>r.prevInput.maxPointers?e.pointers.length:r.prevInput.maxPointers:e.pointers.length,uae(r,e);var c=t.element,d=e.srcEvent,f;d.composedPath?f=d.composedPath()[0]:d.path?f=d.path[0]:f=d.target,jC(f,c)&&(c=f),e.target=c}function dae(t,e,r){var n=r.pointers.length,i=r.changedPointers.length,s=e&$r&&n-i===0,o=e&(jt|Jr)&&n-i===0;r.isFirst=!!s,r.isFinal=!!o,s&&(t.session={}),r.eventType=e,cae(t,r),t.emit("hammer.input",r),t.recognize(r),t.session.prevInput=r}function Kc(t){return t.trim().split(/\s+/g)}function fc(t,e,r){Ai(Kc(e),function(n){t.addEventListener(n,r,!1)})}function pc(t,e,r){Ai(Kc(e),function(n){t.removeEventListener(n,r,!1)})}function Kq(t){var e=t.ownerDocument||t;return e.defaultView||e.parentWindow||window}var vu=function(){function t(r,n){var i=this;this.manager=r,this.callback=n,this.element=r.element,this.target=r.options.inputTarget,this.domHandler=function(s){Ap(r.options.enable,[r])&&i.handler(s)},this.init()}var e=t.prototype;return e.handler=function(){},e.init=function(){this.evEl&&fc(this.element,this.evEl,this.domHandler),this.evTarget&&fc(this.target,this.evTarget,this.domHandler),this.evWin&&fc(Kq(this.element),this.evWin,this.domHandler)},e.destroy=function(){this.evEl&&pc(this.element,this.evEl,this.domHandler),this.evTarget&&pc(this.target,this.evTarget,this.domHandler),this.evWin&&pc(Kq(this.element),this.evWin,this.domHandler)},t}();function aa(t,e,r){if(t.indexOf&&!r)return t.indexOf(e);for(var n=0;n<t.length;){if(r&&t[n][r]==e||!r&&t[n]===e)return n;n++}return-1}var hae={pointerdown:$r,pointermove:ga,pointerup:jt,pointercancel:Jr,pointerout:Jr},fae={2:Nd,3:rae,4:$C,5:nae},e9="pointerdown",t9="pointermove pointerup pointercancel";Mi.MSPointerEvent&&!Mi.PointerEvent&&(e9="MSPointerDown",t9="MSPointerMove MSPointerUp MSPointerCancel");var r9=function(t){$n(e,t);function e(){var n,i=e.prototype;return i.evEl=e9,i.evWin=t9,n=t.apply(this,arguments)||this,n.store=n.manager.session.pointerEvents=[],n}var r=e.prototype;return r.handler=function(i){var s=this.store,o=!1,a=i.type.toLowerCase().replace("ms",""),l=hae[a],u=fae[i.pointerType]||i.pointerType,c=u===Nd,d=aa(s,i.pointerId,"pointerId");l&$r&&(i.button===0||c)?d<0&&(s.push(i),d=s.length-1):l&(jt|Jr)&&(o=!0),!(d<0)&&(s[d]=i,this.callback(this.manager,l,{pointers:s,changedPointers:[i],pointerType:u,srcEvent:i}),o&&s.splice(d,1))},e}(vu);function Gc(t){return Array.prototype.slice.call(t,0)}function kC(t,e,r){for(var n=[],i=[],s=0;s<t.length;){var o=e?t[s][e]:t[s];aa(i,o)<0&&n.push(t[s]),i[s]=o,s++}return r&&(e?n=n.sort(function(a,l){return a[e]>l[e]}):n=n.sort()),n}var pae={touchstart:$r,touchmove:ga,touchend:jt,touchcancel:Jr},mae="touchstart touchmove touchend touchcancel",DC=function(t){$n(e,t);function e(){var n;return e.prototype.evTarget=mae,n=t.apply(this,arguments)||this,n.targetIds={},n}var r=e.prototype;return r.handler=function(i){var s=pae[i.type],o=vae.call(this,i,s);o&&this.callback(this.manager,s,{pointers:o[0],changedPointers:o[1],pointerType:Nd,srcEvent:i})},e}(vu);function vae(t,e){var r=Gc(t.touches),n=this.targetIds;if(e&($r|ga)&&r.length===1)return n[r[0].identifier]=!0,[r,r];var i,s,o=Gc(t.changedTouches),a=[],l=this.target;if(s=r.filter(function(u){return jC(u.target,l)}),e===$r)for(i=0;i<s.length;)n[s[i].identifier]=!0,i++;for(i=0;i<o.length;)n[o[i].identifier]&&a.push(o[i]),e&(jt|Jr)&&delete n[o[i].identifier],i++;if(a.length)return[kC(s.concat(a),"identifier",!0),a]}var yae={mousedown:$r,mousemove:ga,mouseup:jt},gae="mousedown",bae="mousemove mouseup",qC=function(t){$n(e,t);function e(){var n,i=e.prototype;return i.evEl=gae,i.evWin=bae,n=t.apply(this,arguments)||this,n.pressed=!1,n}var r=e.prototype;return r.handler=function(i){var s=yae[i.type];s&$r&&i.button===0&&(this.pressed=!0),s&ga&&i.which!==1&&(s=jt),this.pressed&&(s&jt&&(this.pressed=!1),this.callback(this.manager,s,{pointers:[i],changedPointers:[i],pointerType:$C,srcEvent:i}))},e}(vu),wae=2500,Gq=25;function Yq(t){var e=t.changedPointers,r=e[0];if(r.identifier===this.primaryTouch){var n={x:r.clientX,y:r.clientY},i=this.lastTouches;this.lastTouches.push(n);var s=function(){var a=i.indexOf(n);a>-1&&i.splice(a,1)};setTimeout(s,wae)}}function xae(t,e){t&$r?(this.primaryTouch=e.changedPointers[0].identifier,Yq.call(this,e)):t&(jt|Jr)&&Yq.call(this,e)}function _ae(t){for(var e=t.srcEvent.clientX,r=t.srcEvent.clientY,n=0;n<this.lastTouches.length;n++){var i=this.lastTouches[n],s=Math.abs(e-i.x),o=Math.abs(r-i.y);if(s<=Gq&&o<=Gq)return!0}return!1}var n9=function(){var t=function(e){$n(r,e);function r(i,s){var o;return o=e.call(this,i,s)||this,o.handler=function(a,l,u){var c=u.pointerType===Nd,d=u.pointerType===$C;if(!(d&&u.sourceCapabilities&&u.sourceCapabilities.firesTouchEvents)){if(c)xae.call(Th(Th(o)),l,u);else if(d&&_ae.call(Th(Th(o)),u))return;o.callback(a,l,u)}},o.touch=new DC(o.manager,o.handler),o.mouse=new qC(o.manager,o.handler),o.primaryTouch=null,o.lastTouches=[],o}var n=r.prototype;return n.destroy=function(){this.touch.destroy(),this.mouse.destroy()},r}(vu);return t}();function Sae(t){var e,r=t.options.inputClass;return r?e=r:eae?e=r9:tae?e=DC:KK?e=n9:e=qC,new e(t,dae)}function rl(t,e,r){return Array.isArray(t)?(Ai(t,r[e],r),!0):!1}var Xh=1,Tn=2,Ul=4,Ws=8,Fi=Ws,Yc=16,fi=32,Eae=1;function Oae(){return Eae++}function Ih(t,e){var r=e.manager;return r?r.get(t):t}function Qq(t){return t&Yc?"cancel":t&Ws?"end":t&Ul?"move":t&Tn?"start":""}var Dd=function(){function t(r){r===void 0&&(r={}),this.options=Xn({enable:!0},r),this.id=Oae(),this.manager=null,this.state=Xh,this.simultaneous={},this.requireFail=[]}var e=t.prototype;return e.set=function(n){return sa(this.options,n),this.manager&&this.manager.touchAction.update(),this},e.recognizeWith=function(n){if(rl(n,"recognizeWith",this))return this;var i=this.simultaneous;return n=Ih(n,this),i[n.id]||(i[n.id]=n,n.recognizeWith(this)),this},e.dropRecognizeWith=function(n){return rl(n,"dropRecognizeWith",this)?this:(n=Ih(n,this),delete this.simultaneous[n.id],this)},e.requireFailure=function(n){if(rl(n,"requireFailure",this))return this;var i=this.requireFail;return n=Ih(n,this),aa(i,n)===-1&&(i.push(n),n.requireFailure(this)),this},e.dropRequireFailure=function(n){if(rl(n,"dropRequireFailure",this))return this;n=Ih(n,this);var i=aa(this.requireFail,n);return i>-1&&this.requireFail.splice(i,1),this},e.hasRequireFailures=function(){return this.requireFail.length>0},e.canRecognizeWith=function(n){return!!this.simultaneous[n.id]},e.emit=function(n){var i=this,s=this.state;function o(a){i.manager.emit(a,n)}s<Ws&&o(i.options.event+Qq(s)),o(i.options.event),n.additionalEvent&&o(n.additionalEvent),s>=Ws&&o(i.options.event+Qq(s))},e.tryEmit=function(n){if(this.canEmit())return this.emit(n);this.state=fi},e.canEmit=function(){for(var n=0;n<this.requireFail.length;){if(!(this.requireFail[n].state&(fi|Xh)))return!1;n++}return!0},e.recognize=function(n){var i=sa({},n);if(!Ap(this.options.enable,[this,i])){this.reset(),this.state=fi;return}this.state&(Fi|Yc|fi)&&(this.state=Xh),this.state=this.process(i),this.state&(Tn|Ul|Ws|Yc)&&this.tryEmit(i)},e.process=function(n){},e.getTouchAction=function(){},e.reset=function(){},t}(),zP=function(t){$n(e,t);function e(n){var i;return n===void 0&&(n={}),i=t.call(this,Xn({event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},n))||this,i.pTime=!1,i.pCenter=!1,i._timer=null,i._input=null,i.count=0,i}var r=e.prototype;return r.getTouchAction=function(){return[LP]},r.process=function(i){var s=this,o=this.options,a=i.pointers.length===o.pointers,l=i.distance<o.threshold,u=i.deltaTime<o.time;if(this.reset(),i.eventType&$r&&this.count===0)return this.failTimeout();if(l&&u&&a){if(i.eventType!==jt)return this.failTimeout();var c=this.pTime?i.timeStamp-this.pTime<o.interval:!0,d=!this.pCenter||Ff(this.pCenter,i.center)<o.posThreshold;this.pTime=i.timeStamp,this.pCenter=i.center,!d||!c?this.count=1:this.count+=1,this._input=i;var f=this.count%o.taps;if(f===0)return this.hasRequireFailures()?(this._timer=setTimeout(function(){s.state=Fi,s.tryEmit()},o.interval),Tn):Fi}return fi},r.failTimeout=function(){var i=this;return this._timer=setTimeout(function(){i.state=fi},this.options.interval),fi},r.reset=function(){clearTimeout(this._timer)},r.emit=function(){this.state===Fi&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))},e}(Dd),Wl=function(t){$n(e,t);function e(n){return n===void 0&&(n={}),t.call(this,Xn({pointers:1},n))||this}var r=e.prototype;return r.attrTest=function(i){var s=this.options.pointers;return s===0||i.pointers.length===s},r.process=function(i){var s=this.state,o=i.eventType,a=s&(Tn|Ul),l=this.attrTest(i);return a&&(o&Jr||!l)?s|Yc:a||l?o&jt?s|Ws:s&Tn?s|Ul:Tn:fi},e}(Dd);function i9(t){return t===zl?"down":t===kd?"up":t===$d?"left":t===jd?"right":""}var MC=function(t){$n(e,t);function e(n){var i;return n===void 0&&(n={}),i=t.call(this,Xn({event:"pan",threshold:10,pointers:1,direction:GK},n))||this,i.pX=null,i.pY=null,i}var r=e.prototype;return r.getTouchAction=function(){var i=this.options.direction,s=[];return i&gi&&s.push(Vc),i&zo&&s.push(Hc),s},r.directionTest=function(i){var s=this.options,o=!0,a=i.distance,l=i.direction,u=i.deltaX,c=i.deltaY;return l&s.direction||(s.direction&gi?(l=u===0?Mf:u<0?$d:jd,o=u!==this.pX,a=Math.abs(i.deltaX)):(l=c===0?Mf:c<0?kd:zl,o=c!==this.pY,a=Math.abs(i.deltaY))),i.direction=l,o&&a>s.threshold&&l&s.direction},r.attrTest=function(i){return Wl.prototype.attrTest.call(this,i)&&(this.state&Tn||!(this.state&Tn)&&this.directionTest(i))},r.emit=function(i){this.pX=i.deltaX,this.pY=i.deltaY;var s=i9(i.direction);s&&(i.additionalEvent=this.options.event+s),t.prototype.emit.call(this,i)},e}(Wl),s9=function(t){$n(e,t);function e(n){return n===void 0&&(n={}),t.call(this,Xn({event:"swipe",threshold:10,velocity:.3,direction:gi|zo,pointers:1},n))||this}var r=e.prototype;return r.getTouchAction=function(){return MC.prototype.getTouchAction.call(this)},r.attrTest=function(i){var s=this.options.direction,o;return s&(gi|zo)?o=i.overallVelocity:s&gi?o=i.overallVelocityX:s&zo&&(o=i.overallVelocityY),t.prototype.attrTest.call(this,i)&&s&i.offsetDirection&&i.distance>this.options.threshold&&i.maxPointers===this.options.pointers&&oa(o)>this.options.velocity&&i.eventType&jt},r.emit=function(i){var s=i9(i.offsetDirection);s&&this.manager.emit(this.options.event+s,i),this.manager.emit(this.options.event,i)},e}(Wl),o9=function(t){$n(e,t);function e(n){return n===void 0&&(n={}),t.call(this,Xn({event:"pinch",threshold:0,pointers:2},n))||this}var r=e.prototype;return r.getTouchAction=function(){return[Bo]},r.attrTest=function(i){return t.prototype.attrTest.call(this,i)&&(Math.abs(i.scale-1)>this.options.threshold||this.state&Tn)},r.emit=function(i){if(i.scale!==1){var s=i.scale<1?"in":"out";i.additionalEvent=this.options.event+s}t.prototype.emit.call(this,i)},e}(Wl),a9=function(t){$n(e,t);function e(n){return n===void 0&&(n={}),t.call(this,Xn({event:"rotate",threshold:0,pointers:2},n))||this}var r=e.prototype;return r.getTouchAction=function(){return[Bo]},r.attrTest=function(i){return t.prototype.attrTest.call(this,i)&&(Math.abs(i.rotation)>this.options.threshold||this.state&Tn)},e}(Wl),l9=function(t){$n(e,t);function e(n){var i;return n===void 0&&(n={}),i=t.call(this,Xn({event:"press",pointers:1,time:251,threshold:9},n))||this,i._timer=null,i._input=null,i}var r=e.prototype;return r.getTouchAction=function(){return[VK]},r.process=function(i){var s=this,o=this.options,a=i.pointers.length===o.pointers,l=i.distance<o.threshold,u=i.deltaTime>o.time;if(this._input=i,!l||!a||i.eventType&(jt|Jr)&&!u)this.reset();else if(i.eventType&$r)this.reset(),this._timer=setTimeout(function(){s.state=Fi,s.tryEmit()},o.time);else if(i.eventType&jt)return Fi;return fi},r.reset=function(){clearTimeout(this._timer)},r.emit=function(i){this.state===Fi&&(i&&i.eventType&jt?this.manager.emit(this.options.event+"up",i):(this._input.timeStamp=NC(),this.manager.emit(this.options.event,this._input)))},e}(Dd),u9={domEvents:!1,touchAction:HK,enable:!0,inputTarget:null,inputClass:null,cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}},Xq=[[a9,{enable:!1}],[o9,{enable:!1},["rotate"]],[s9,{direction:gi}],[MC,{direction:gi},["swipe"]],[zP],[zP,{event:"doubletap",taps:2},["tap"]],[l9]],Pae=1,Jq=2;function Zq(t,e){var r=t.element;if(r.style){var n;Ai(t.options.cssProps,function(i,s){n=Mp(r.style,s),e?(t.oldCssProps[n]=r.style[n],r.style[n]=i):r.style[n]=t.oldCssProps[n]||""}),e||(t.oldCssProps={})}}function Tae(t,e){var r=document.createEvent("Event");r.initEvent(t,!0,!0),r.gesture=e,e.target.dispatchEvent(r)}var eM=function(){function t(r,n){var i=this;this.options=sa({},u9,n||{}),this.options.inputTarget=this.options.inputTarget||r,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=r,this.input=Sae(this),this.touchAction=new QK(this,this.options.touchAction),Zq(this,!0),Ai(this.options.recognizers,function(s){var o=i.add(new s[0](s[1]));s[2]&&o.recognizeWith(s[2]),s[3]&&o.requireFailure(s[3])},this)}var e=t.prototype;return e.set=function(n){return sa(this.options,n),n.touchAction&&this.touchAction.update(),n.inputTarget&&(this.input.destroy(),this.input.target=n.inputTarget,this.input.init()),this},e.stop=function(n){this.session.stopped=n?Jq:Pae},e.recognize=function(n){var i=this.session;if(!i.stopped){this.touchAction.preventDefaults(n);var s,o=this.recognizers,a=i.curRecognizer;(!a||a&&a.state&Fi)&&(i.curRecognizer=null,a=null);for(var l=0;l<o.length;)s=o[l],i.stopped!==Jq&&(!a||s===a||s.canRecognizeWith(a))?s.recognize(n):s.reset(),!a&&s.state&(Tn|Ul|Ws)&&(i.curRecognizer=s,a=s),l++}},e.get=function(n){if(n instanceof Dd)return n;for(var i=this.recognizers,s=0;s<i.length;s++)if(i[s].options.event===n)return i[s];return null},e.add=function(n){if(rl(n,"add",this))return this;var i=this.get(n.options.event);return i&&this.remove(i),this.recognizers.push(n),n.manager=this,this.touchAction.update(),n},e.remove=function(n){if(rl(n,"remove",this))return this;var i=this.get(n);if(n){var s=this.recognizers,o=aa(s,i);o!==-1&&(s.splice(o,1),this.touchAction.update())}return this},e.on=function(n,i){if(n===void 0||i===void 0)return this;var s=this.handlers;return Ai(Kc(n),function(o){s[o]=s[o]||[],s[o].push(i)}),this},e.off=function(n,i){if(n===void 0)return this;var s=this.handlers;return Ai(Kc(n),function(o){i?s[o]&&s[o].splice(aa(s[o],i),1):delete s[o]}),this},e.emit=function(n,i){this.options.domEvents&&Tae(n,i);var s=this.handlers[n]&&this.handlers[n].slice();if(!(!s||!s.length)){i.type=n,i.preventDefault=function(){i.srcEvent.preventDefault()};for(var o=0;o<s.length;)s[o](i),o++}},e.destroy=function(){this.element&&Zq(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null},t}(),Cae={touchstart:$r,touchmove:ga,touchend:jt,touchcancel:Jr},Iae="touchstart",Rae="touchstart touchmove touchend touchcancel",Nae=function(t){$n(e,t);function e(){var n,i=e.prototype;return i.evTarget=Iae,i.evWin=Rae,n=t.apply(this,arguments)||this,n.started=!1,n}var r=e.prototype;return r.handler=function(i){var s=Cae[i.type];if(s===$r&&(this.started=!0),!!this.started){var o=$ae.call(this,i,s);s&(jt|Jr)&&o[0].length-o[1].length===0&&(this.started=!1),this.callback(this.manager,s,{pointers:o[0],changedPointers:o[1],pointerType:Nd,srcEvent:i})}},e}(vu);function $ae(t,e){var r=Gc(t.touches),n=Gc(t.changedTouches);return e&(jt|Jr)&&(r=kC(r.concat(n),"identifier",!0)),[r,n]}function c9(t,e,r){var n="DEPRECATED METHOD: "+e+`
`+r+` AT 
`;return function(){var i=new Error("get-stack-trace"),s=i&&i.stack?i.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",o=window.console&&(window.console.warn||window.console.log);return o&&o.call(window.console,n,s),t.apply(this,arguments)}}var d9=c9(function(t,e,r){for(var n=Object.keys(e),i=0;i<n.length;)(!r||r&&t[n[i]]===void 0)&&(t[n[i]]=e[n[i]]),i++;return t},"extend","Use `assign`."),jae=c9(function(t,e){return d9(t,e,!0)},"merge","Use `assign`.");function kae(t,e,r){var n=e.prototype,i;i=t.prototype=Object.create(n),i.constructor=t,i._super=n,r&&sa(i,r)}function tM(t,e){return function(){return t.apply(e,arguments)}}var Dae=function(){var t=function(r,n){return n===void 0&&(n={}),new eM(r,Xn({recognizers:Xq.concat()},n))};return t.VERSION="2.0.17-rc",t.DIRECTION_ALL=GK,t.DIRECTION_DOWN=zl,t.DIRECTION_LEFT=$d,t.DIRECTION_RIGHT=jd,t.DIRECTION_UP=kd,t.DIRECTION_HORIZONTAL=gi,t.DIRECTION_VERTICAL=zo,t.DIRECTION_NONE=Mf,t.DIRECTION_DOWN=zl,t.INPUT_START=$r,t.INPUT_MOVE=ga,t.INPUT_END=jt,t.INPUT_CANCEL=Jr,t.STATE_POSSIBLE=Xh,t.STATE_BEGAN=Tn,t.STATE_CHANGED=Ul,t.STATE_ENDED=Ws,t.STATE_RECOGNIZED=Fi,t.STATE_CANCELLED=Yc,t.STATE_FAILED=fi,t.Manager=eM,t.Input=vu,t.TouchAction=QK,t.TouchInput=DC,t.MouseInput=qC,t.PointerEventInput=r9,t.TouchMouseInput=n9,t.SingleTouchInput=Nae,t.Recognizer=Dd,t.AttrRecognizer=Wl,t.Tap=zP,t.Pan=MC,t.Swipe=s9,t.Pinch=o9,t.Rotate=a9,t.Press=l9,t.on=fc,t.off=pc,t.each=Ai,t.merge=jae,t.extend=d9,t.bindFn=tM,t.assign=sa,t.inherit=kae,t.bindFn=tM,t.prefixed=Mp,t.toArray=Gc,t.inArray=aa,t.uniqueArray=kC,t.splitStr=Kc,t.boolOrFn=Ap,t.hasParent=jC,t.addEventListeners=fc,t.removeEventListeners=pc,t.defaults=sa({},u9,{preset:Xq}),t}();const h9=wse("DELETE");function qae(t){for(var e=arguments.length,r=new Array(e>1?e-1:0),n=1;n<e;n++)r[n-1]=arguments[n];return f9({},t,...r)}function f9(){const t=Lf(...arguments);return m9(t),t}function Lf(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];if(e.length<2)return e[0];if(e.length>2)return Lf(f9(e[0],e[1]),...Tse(e).call(e,2));const n=e[0],i=e[1];if(n instanceof Date&&i instanceof Date)return n.setTime(i.getTime()),n;for(const s of jse(i))Object.prototype.propertyIsEnumerable.call(i,s)&&(i[s]===h9?delete n[s]:n[s]!==null&&i[s]!==null&&typeof n[s]=="object"&&typeof i[s]=="object"&&!oi(n[s])&&!oi(i[s])?n[s]=Lf(n[s],i[s]):n[s]=p9(i[s]));return n}function p9(t){return oi(t)?Wn(t).call(t,e=>p9(e)):typeof t=="object"&&t!==null?t instanceof Date?new Date(t.getTime()):Lf({},t):t}function m9(t){for(const e of RC(t))t[e]===h9?delete t[e]:typeof t[e]=="object"&&t[e]!==null&&m9(t[e])}function Mae(){const t=()=>{};return{on:t,off:t,destroy:t,emit:t,get(){return{set:t}}}}const Aae=typeof window<"u"?window.Hammer||Dae:function(){return Mae()};function ki(t){var e;this._cleanupQueue=[],this.active=!1,this._dom={container:t,overlay:document.createElement("div")},this._dom.overlay.classList.add("vis-overlay"),this._dom.container.appendChild(this._dom.overlay),this._cleanupQueue.push(()=>{this._dom.overlay.parentNode.removeChild(this._dom.overlay)});const r=Aae(this._dom.overlay);r.on("tap",MK(e=this._onTapOverlay).call(e,this)),this._cleanupQueue.push(()=>{r.destroy()});const n=["tap","doubletap","press","pinch","pan","panstart","panmove","panend"];ia(n).call(n,i=>{r.on(i,s=>{s.srcEvent.stopPropagation()})}),document&&document.body&&(this._onClick=i=>{Fae(i.target,t)||this.deactivate()},document.body.addEventListener("click",this._onClick),this._cleanupQueue.push(()=>{document.body.removeEventListener("click",this._onClick)})),this._escListener=i=>{("key"in i?i.key==="Escape":i.keyCode===27)&&this.deactivate()}}Yoe(ki.prototype);ki.current=null;ki.prototype.destroy=function(){this.deactivate();for(const r of noe(t=BK(e=this._cleanupQueue).call(e,0)).call(t)){var t,e;r()}};ki.prototype.activate=function(){ki.current&&ki.current.deactivate(),ki.current=this,this.active=!0,this._dom.overlay.style.display="none",this._dom.container.classList.add("vis-active"),this.emit("change"),this.emit("activate"),document.body.addEventListener("keydown",this._escListener)};ki.prototype.deactivate=function(){this.active=!1,this._dom.overlay.style.display="block",this._dom.container.classList.remove("vis-active"),document.body.removeEventListener("keydown",this._escListener),this.emit("change"),this.emit("deactivate")};ki.prototype._onTapOverlay=function(t){this.activate(),t.srcEvent.stopPropagation()};function Fae(t,e){for(;t;){if(t===e)return!0;t=t.parentNode}return!1}var Ob,rM;function Lae(){if(rM)return Ob;rM=1,PK();var t=Ht();return Ob=t.Object.getOwnPropertySymbols,Ob}var Pb,nM;function Bae(){if(nM)return Pb;nM=1;var t=Lae();return Pb=t,Pb}var Tb,iM;function zae(){return iM||(iM=1,Tb=Bae()),Tb}var Uae=zae(),sM=De(Uae),Cb={exports:{}},oM={},aM;function Wae(){if(aM)return oM;aM=1;var t=Pe(),e=He(),r=xi(),n=Tp().f,i=Mt(),s=!i||e(function(){n(1)});return t({target:"Object",stat:!0,forced:s,sham:!i},{getOwnPropertyDescriptor:function(a,l){return n(r(a),l)}}),oM}var lM;function Hae(){if(lM)return Cb.exports;lM=1,Wae();var t=Ht(),e=t.Object,r=Cb.exports=function(i,s){return e.getOwnPropertyDescriptor(i,s)};return e.getOwnPropertyDescriptor.sham&&(r.sham=!0),Cb.exports}var Ib,uM;function Vae(){if(uM)return Ib;uM=1;var t=Hae();return Ib=t,Ib}var Rb,cM;function Kae(){return cM||(cM=1,Rb=Vae()),Rb}var Gae=Kae(),v9=De(Gae),dM={},hM;function Yae(){if(hM)return dM;hM=1;var t=Pe(),e=Mt(),r=FK(),n=xi(),i=Tp(),s=Ip();return t({target:"Object",stat:!0,sham:!e},{getOwnPropertyDescriptors:function(a){for(var l=n(a),u=i.f,c=r(l),d={},f=0,p,m;c.length>f;)m=u(l,p=c[f++]),m!==void 0&&s(d,p,m);return d}}),dM}var Nb,fM;function Qae(){if(fM)return Nb;fM=1,Yae();var t=Ht();return Nb=t.Object.getOwnPropertyDescriptors,Nb}var $b,pM;function Xae(){if(pM)return $b;pM=1;var t=Qae();return $b=t,$b}var jb,mM;function Jae(){return mM||(mM=1,jb=Xae()),jb}var Zae=Jae(),vM=De(Zae),kb={exports:{}},yM={},gM;function ele(){if(gM)return yM;gM=1;var t=Pe(),e=Mt(),r=PC().f;return t({target:"Object",stat:!0,forced:Object.defineProperties!==r,sham:!e},{defineProperties:r}),yM}var bM;function tle(){if(bM)return kb.exports;bM=1,ele();var t=Ht(),e=t.Object,r=kb.exports=function(i,s){return e.defineProperties(i,s)};return e.defineProperties.sham&&(r.sham=!0),kb.exports}var Db,wM;function rle(){if(wM)return Db;wM=1;var t=tle();return Db=t,Db}var qb,xM;function nle(){return xM||(xM=1,qb=rle()),qb}var ile=nle(),sle=De(ile),Mb,_M;function ole(){return _M||(_M=1,Mb=vK()),Mb}var ale=ole(),lle=De(ale),SM={},EM={},Ab={exports:{}},Fb,OM;function ule(){if(OM)return Fb;OM=1;var t=He();return Fb=t(function(){if(typeof ArrayBuffer=="function"){var e=new ArrayBuffer(8);Object.isExtensible(e)&&Object.defineProperty(e,"a",{value:8})}}),Fb}var Lb,PM;function cle(){if(PM)return Lb;PM=1;var t=He(),e=Mr(),r=rs(),n=ule(),i=Object.isExtensible,s=t(function(){});return Lb=s||n?function(a){return!e(a)||n&&r(a)==="ArrayBuffer"?!1:i?i(a):!0}:i,Lb}var Bb,TM;function dle(){if(TM)return Bb;TM=1;var t=He();return Bb=!t(function(){return Object.isExtensible(Object.preventExtensions({}))}),Bb}var CM;function y9(){if(CM)return Ab.exports;CM=1;var t=Pe(),e=Ye(),r=Td(),n=Mr(),i=er(),s=Nn().f,o=$p(),a=_K(),l=cle(),u=Pp(),c=dle(),d=!1,f=u("meta"),p=0,m=function(w){s(w,f,{value:{objectID:"O"+p++,weakData:{}}})},g=function(w,_){if(!n(w))return typeof w=="symbol"?w:(typeof w=="string"?"S":"P")+w;if(!i(w,f)){if(!l(w))return"F";if(!_)return"E";m(w)}return w[f].objectID},b=function(w,_){if(!i(w,f)){if(!l(w))return!0;if(!_)return!1;m(w)}return w[f].weakData},y=function(w){return c&&d&&l(w)&&!i(w,f)&&m(w),w},v=function(){x.enable=function(){},d=!0;var w=o.f,_=e([].splice),E={};E[f]=1,w(E).length&&(o.f=function(O){for(var S=w(O),T=0,P=S.length;T<P;T++)if(S[T]===f){_(S,T,1);break}return S},t({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:a.f}))},x=Ab.exports={enable:v,fastKey:g,getWeakData:b,onFreeze:y};return r[f]=!0,Ab.exports}var zb,IM;function hle(){if(IM)return zb;IM=1;var t=tr(),e=mu(),r=t("iterator"),n=Array.prototype;return zb=function(i){return i!==void 0&&(e.Array===i||n[r]===i)},zb}var Ub,RM;function g9(){if(RM)return Ub;RM=1;var t=oo(),e=bC(),r=Sd(),n=mu(),i=tr(),s=i("iterator");return Ub=function(o){if(!r(o))return e(o,s)||e(o,"@@iterator")||n[t(o)]},Ub}var Wb,NM;function b9(){if(NM)return Wb;NM=1;var t=tn(),e=ns(),r=is(),n=lu(),i=g9(),s=TypeError;return Wb=function(o,a){var l=arguments.length<2?i(o):a;if(e(l))return r(t(l,o));throw new s(n(o)+" is not iterable")},Wb}var Hb,$M;function AC(){if($M)return Hb;$M=1;var t=tn(),e=is(),r=bC();return Hb=function(n,i,s){var o,a;e(n);try{if(o=r(n,"return"),!o){if(i==="throw")throw s;return s}o=t(o,n)}catch(l){a=!0,o=l}if(i==="throw")throw s;if(a)throw o;return e(o),s},Hb}var Vb,jM;function FC(){if(jM)return Vb;jM=1;var t=Cp(),e=tn(),r=is(),n=lu(),i=hle(),s=so(),o=Zt(),a=b9(),l=g9(),u=AC(),c=TypeError,d=function(p,m){this.stopped=p,this.result=m},f=d.prototype;return Vb=function(p,m,g){var b=g&&g.that,y=!!(g&&g.AS_ENTRIES),v=!!(g&&g.IS_RECORD),x=!!(g&&g.IS_ITERATOR),w=!!(g&&g.INTERRUPTED),_=t(m,b),E,O,S,T,P,R,C,I=function(B){return E&&u(E,"normal"),new d(!0,B)},q=function(B){return y?(r(B),w?_(B[0],B[1],I):_(B[0],B[1])):w?_(B,I):_(B)};if(v)E=p.iterator;else if(x)E=p;else{if(O=l(p),!O)throw new c(n(p)+" is not iterable");if(i(O)){for(S=0,T=s(p);T>S;S++)if(P=q(p[S]),P&&o(f,P))return P;return new d(!1)}E=a(p,O)}for(R=v?p.next:E.next;!(C=e(R,E)).done;){try{P=q(C.value)}catch(B){u(E,"throw",B)}if(typeof P=="object"&&P&&o(f,P))return P}return new d(!1)},Vb}var Kb,kM;function w9(){if(kM)return Kb;kM=1;var t=Zt(),e=TypeError;return Kb=function(r,n){if(t(n,r))return r;throw new e("Incorrect invocation")},Kb}var Gb,DM;function x9(){if(DM)return Gb;DM=1;var t=Pe(),e=qt(),r=y9(),n=He(),i=du(),s=FC(),o=w9(),a=Jt(),l=Mr(),u=Sd(),c=ya(),d=Nn().f,f=pu().forEach,p=Mt(),m=Rd(),g=m.set,b=m.getterFor;return Gb=function(y,v,x){var w=y.indexOf("Map")!==-1,_=y.indexOf("Weak")!==-1,E=w?"set":"add",O=e[y],S=O&&O.prototype,T={},P;if(!p||!a(O)||!(_||S.forEach&&!n(function(){new O().entries().next()})))P=x.getConstructor(v,y,w,E),r.enable();else{P=v(function(I,q){g(o(I,R),{type:y,collection:new O}),u(q)||s(q,I[E],{that:I,AS_ENTRIES:w})});var R=P.prototype,C=b(y);f(["add","clear","delete","forEach","get","has","set","keys","values","entries"],function(I){var q=I==="add"||I==="set";I in S&&!(_&&I==="clear")&&i(R,I,function(B,re){var Q=C(this).collection;if(!q&&_&&!l(B))return I==="get"?void 0:!1;var L=Q[I](B===0?0:B,re);return q?this:L})}),_||d(R,"size",{configurable:!0,get:function(){return C(this).collection.size}})}return c(P,y,!1,!0),T[y]=P,t({global:!0,forced:!0},T),_||x.setStrong(P,y,w),P},Gb}var Yb,qM;function fle(){if(qM)return Yb;qM=1;var t=Id();return Yb=function(e,r,n){for(var i in r)n&&n.unsafe&&e[i]?e[i]=r[i]:t(e,i,r[i],n);return e},Yb}var Qb,MM;function ple(){if(MM)return Qb;MM=1;var t=pn(),e=TC(),r=tr(),n=Mt(),i=r("species");return Qb=function(s){var o=t(s);n&&o&&!o[i]&&e(o,i,{configurable:!0,get:function(){return this}})},Qb}var Xb,AM;function _9(){if(AM)return Xb;AM=1;var t=Cd(),e=TC(),r=fle(),n=Cp(),i=w9(),s=Sd(),o=FC(),a=CC(),l=IC(),u=ple(),c=Mt(),d=y9().fastKey,f=Rd(),p=f.set,m=f.getterFor;return Xb={getConstructor:function(g,b,y,v){var x=g(function(S,T){i(S,w),p(S,{type:b,index:t(null),first:null,last:null,size:0}),c||(S.size=0),s(T)||o(T,S[v],{that:S,AS_ENTRIES:y})}),w=x.prototype,_=m(b),E=function(S,T,P){var R=_(S),C=O(S,T),I,q;return C?C.value=P:(R.last=C={index:q=d(T,!0),key:T,value:P,previous:I=R.last,next:null,removed:!1},R.first||(R.first=C),I&&(I.next=C),c?R.size++:S.size++,q!=="F"&&(R.index[q]=C)),S},O=function(S,T){var P=_(S),R=d(T),C;if(R!=="F")return P.index[R];for(C=P.first;C;C=C.next)if(C.key===T)return C};return r(w,{clear:function(){for(var T=this,P=_(T),R=P.first;R;)R.removed=!0,R.previous&&(R.previous=R.previous.next=null),R=R.next;P.first=P.last=null,P.index=t(null),c?P.size=0:T.size=0},delete:function(S){var T=this,P=_(T),R=O(T,S);if(R){var C=R.next,I=R.previous;delete P.index[R.index],R.removed=!0,I&&(I.next=C),C&&(C.previous=I),P.first===R&&(P.first=C),P.last===R&&(P.last=I),c?P.size--:T.size--}return!!R},forEach:function(T){for(var P=_(this),R=n(T,arguments.length>1?arguments[1]:void 0),C;C=C?C.next:P.first;)for(R(C.value,C.key,this);C&&C.removed;)C=C.previous},has:function(T){return!!O(this,T)}}),r(w,y?{get:function(T){var P=O(this,T);return P&&P.value},set:function(T,P){return E(this,T===0?0:T,P)}}:{add:function(T){return E(this,T=T===0?0:T,T)}}),c&&e(w,"size",{configurable:!0,get:function(){return _(this).size}}),x},setStrong:function(g,b,y){var v=b+" Iterator",x=m(b),w=m(v);a(g,b,function(_,E){p(this,{type:v,target:_,state:x(_),kind:E,last:null})},function(){for(var _=w(this),E=_.kind,O=_.last;O&&O.removed;)O=O.previous;return!_.target||!(_.last=O=O?O.next:_.state.first)?(_.target=null,l(void 0,!0)):l(E==="keys"?O.key:E==="values"?O.value:[O.key,O.value],!1)},y?"entries":"values",!y,!0),u(b)}},Xb}var FM;function mle(){if(FM)return EM;FM=1;var t=x9(),e=_9();return t("Map",function(r){return function(){return r(this,arguments.length?arguments[0]:void 0)}},e),EM}var LM;function vle(){return LM||(LM=1,mle()),SM}var BM={},Jb,zM;function S9(){return zM||(zM=1,Jb=function(t,e){return e===1?function(r,n){return r[t](n)}:function(r,n,i){return r[t](n,i)}}),Jb}var Zb,UM;function yle(){if(UM)return Zb;UM=1;var t=pn(),e=S9(),r=t("Map");return Zb={Map:r,set:e("set",2),get:e("get",1),has:e("has",1),remove:e("delete",1),proto:r.prototype},Zb}var WM;function gle(){if(WM)return BM;WM=1;var t=Pe(),e=Ye(),r=ns(),n=ma(),i=FC(),s=yle(),o=uu(),a=He(),l=s.Map,u=s.has,c=s.get,d=s.set,f=e([].push),p=o||a(function(){return l.groupBy("ab",function(m){return m}).get("a").length!==1});return t({target:"Map",stat:!0,forced:o||p},{groupBy:function(g,b){n(g),r(b);var y=new l,v=0;return i(g,function(x){var w=b(x,v++);u(y,w)?f(c(y,w),x):d(y,w,[x])}),y}}),BM}var e0,HM;function ble(){if(HM)return e0;HM=1,lo(),vle(),gle(),Dp();var t=Ht();return e0=t.Map,e0}var t0,VM;function wle(){if(VM)return t0;VM=1;var t=ble();return uo(),t0=t,t0}var r0,KM;function xle(){return KM||(KM=1,r0=wle()),r0}var _le=xle(),E9=De(_le),GM={},YM;function Sle(){if(YM)return GM;YM=1;var t=Pe(),e=pu().some,r=qp(),n=r("some");return t({target:"Array",proto:!0,forced:!n},{some:function(s){return e(this,s,arguments.length>1?arguments[1]:void 0)}}),GM}var n0,QM;function Ele(){if(QM)return n0;QM=1,Sle();var t=rn();return n0=t("Array","some"),n0}var i0,XM;function Ole(){if(XM)return i0;XM=1;var t=Zt(),e=Ele(),r=Array.prototype;return i0=function(n){var i=n.some;return n===r||t(r,n)&&i===r.some?e:i},i0}var s0,JM;function Ple(){if(JM)return s0;JM=1;var t=Ole();return s0=t,s0}var o0,ZM;function Tle(){return ZM||(ZM=1,o0=Ple()),o0}var Cle=Tle(),Ile=De(Cle),a0,eA;function Rle(){if(eA)return a0;eA=1,lo();var t=rn();return a0=t("Array","keys"),a0}var l0,tA;function Nle(){if(tA)return l0;tA=1;var t=Rle();return l0=t,l0}var u0,rA;function $le(){if(rA)return u0;rA=1,uo();var t=oo(),e=er(),r=Zt(),n=Nle(),i=Array.prototype,s={DOMTokenList:!0,NodeList:!0};return u0=function(o){var a=o.keys;return o===i||r(i,o)&&a===i.keys||e(s,t(o))?n:a},u0}var c0,nA;function jle(){return nA||(nA=1,c0=$le()),c0}var kle=jle(),Aa=De(kle),iA={},d0,sA;function Dle(){if(sA)return d0;sA=1;var t=fu(),e=Math.floor,r=function(n,i){var s=n.length;if(s<8)for(var o=1,a,l;o<s;){for(l=o,a=n[o];l&&i(n[l-1],a)>0;)n[l]=n[--l];l!==o++&&(n[l]=a)}else for(var u=e(s/2),c=r(t(n,0,u),i),d=r(t(n,u),i),f=c.length,p=d.length,m=0,g=0;m<f||g<p;)n[m+g]=m<f&&g<p?i(c[m],d[g])<=0?c[m++]:d[g++]:m<f?c[m++]:d[g++];return n};return d0=r,d0}var h0,oA;function qle(){if(oA)return h0;oA=1;var t=ou(),e=t.match(/firefox\/(\d+)/i);return h0=!!e&&+e[1],h0}var f0,aA;function Mle(){if(aA)return f0;aA=1;var t=ou();return f0=/MSIE|Trident/.test(t),f0}var p0,lA;function Ale(){if(lA)return p0;lA=1;var t=ou(),e=t.match(/AppleWebKit\/(\d+)\./);return p0=!!e&&+e[1],p0}var uA;function Fle(){if(uA)return iA;uA=1;var t=Pe(),e=Ye(),r=ns(),n=ei(),i=so(),s=LK(),o=ao(),a=He(),l=Dle(),u=qp(),c=qle(),d=Mle(),f=Ed(),p=Ale(),m=[],g=e(m.sort),b=e(m.push),y=a(function(){m.sort(void 0)}),v=a(function(){m.sort(null)}),x=u("sort"),w=!a(function(){if(f)return f<70;if(!(c&&c>3)){if(d)return!0;if(p)return p<603;var O="",S,T,P,R;for(S=65;S<76;S++){switch(T=String.fromCharCode(S),S){case 66:case 69:case 70:case 72:P=3;break;case 68:case 71:P=4;break;default:P=2}for(R=0;R<47;R++)m.push({k:T+R,v:P})}for(m.sort(function(C,I){return I.v-C.v}),R=0;R<m.length;R++)T=m[R].k.charAt(0),O.charAt(O.length-1)!==T&&(O+=T);return O!=="DGBEFHACIJK"}}),_=y||!v||!x||!w,E=function(O){return function(S,T){return T===void 0?-1:S===void 0?1:O!==void 0?+O(S,T)||0:o(S)>o(T)?1:-1}};return t({target:"Array",proto:!0,forced:_},{sort:function(S){S!==void 0&&r(S);var T=n(this);if(w)return S===void 0?g(T):g(T,S);var P=[],R=i(T),C,I;for(I=0;I<R;I++)I in T&&b(P,T[I]);for(l(P,E(S)),C=i(P),I=0;I<C;)T[I]=P[I++];for(;I<R;)s(T,I++);return T}}),iA}var m0,cA;function Lle(){if(cA)return m0;cA=1,Fle();var t=rn();return m0=t("Array","sort"),m0}var v0,dA;function Ble(){if(dA)return v0;dA=1;var t=Zt(),e=Lle(),r=Array.prototype;return v0=function(n){var i=n.sort;return n===r||t(r,n)&&i===r.sort?e:i},v0}var y0,hA;function zle(){if(hA)return y0;hA=1;var t=Ble();return y0=t,y0}var g0,fA;function Ule(){return fA||(fA=1,g0=zle()),g0}var Wle=Ule(),UP=De(Wle),b0,pA;function Hle(){if(pA)return b0;pA=1,lo();var t=rn();return b0=t("Array","values"),b0}var w0,mA;function Vle(){if(mA)return w0;mA=1;var t=Hle();return w0=t,w0}var x0,vA;function Kle(){if(vA)return x0;vA=1,uo();var t=oo(),e=er(),r=Zt(),n=Vle(),i=Array.prototype,s={DOMTokenList:!0,NodeList:!0};return x0=function(o){var a=o.values;return o===i||r(i,o)&&a===i.values||e(s,t(o))?n:a},x0}var _0,yA;function Gle(){return yA||(yA=1,_0=Kle()),_0}var Yle=Gle(),gA=De(Yle),S0,bA;function Qle(){return bA||(bA=1,S0=qK()),S0}var Xle=Qle(),nl=De(Xle),E0,wA;function Jle(){if(wA)return E0;wA=1,lo();var t=rn();return E0=t("Array","entries"),E0}var O0,xA;function Zle(){if(xA)return O0;xA=1;var t=Jle();return O0=t,O0}var P0,_A;function eue(){if(_A)return P0;_A=1,uo();var t=oo(),e=er(),r=Zt(),n=Zle(),i=Array.prototype,s={DOMTokenList:!0,NodeList:!0};return P0=function(o){var a=o.entries;return o===i||r(i,o)&&a===i.entries||e(s,t(o))?n:a},P0}var T0,SA;function tue(){return SA||(SA=1,T0=eue()),T0}var rue=tue(),nue=De(rue);const ir=[];for(let t=0;t<256;++t)ir.push((t+256).toString(16).slice(1));function iue(t,e=0){return(ir[t[e+0]]+ir[t[e+1]]+ir[t[e+2]]+ir[t[e+3]]+"-"+ir[t[e+4]]+ir[t[e+5]]+"-"+ir[t[e+6]]+ir[t[e+7]]+"-"+ir[t[e+8]]+ir[t[e+9]]+"-"+ir[t[e+10]]+ir[t[e+11]]+ir[t[e+12]]+ir[t[e+13]]+ir[t[e+14]]+ir[t[e+15]]).toLowerCase()}let C0;const sue=new Uint8Array(16);function oue(){if(!C0){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");C0=crypto.getRandomValues.bind(crypto)}return C0(sue)}const aue=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto);var EA={randomUUID:aue};function lue(t,e,r){var i;t=t||{};const n=t.random??((i=t.rng)==null?void 0:i.call(t))??oue();if(n.length<16)throw new Error("Random bytes length must be >= 16");return n[6]=n[6]&15|64,n[8]=n[8]&63|128,iue(n)}function uue(t,e,r){return EA.randomUUID&&!t?EA.randomUUID():lue(t)}function OA(t){return typeof t=="string"||typeof t=="number"}class LC{constructor(e){Us(this,"_queue",[]),Us(this,"_timeout",null),Us(this,"_extended",null),this.delay=null,this.max=1/0,this.setOptions(e)}setOptions(e){e&&typeof e.delay<"u"&&(this.delay=e.delay),e&&typeof e.max<"u"&&(this.max=e.max),this._flushIfNeeded()}static extend(e,r){const n=new LC(r);if(e.flush!==void 0)throw new Error("Target object already has a property flush");e.flush=()=>{n.flush()};const i=[{name:"flush",original:void 0}];if(r&&r.replace)for(let s=0;s<r.replace.length;s++){const o=r.replace[s];i.push({name:o,original:e[o]}),n.replace(e,o)}return n._extended={object:e,methods:i},n}destroy(){if(this.flush(),this._extended){const e=this._extended.object,r=this._extended.methods;for(let n=0;n<r.length;n++){const i=r[n];i.original?e[i.name]=i.original:delete e[i.name]}this._extended=null}}replace(e,r){const n=this,i=e[r];if(!i)throw new Error("Method "+r+" undefined");e[r]=function(){for(var s=arguments.length,o=new Array(s),a=0;a<s;a++)o[a]=arguments[a];n.queue({args:o,fn:i,context:this})}}queue(e){typeof e=="function"?this._queue.push({fn:e}):this._queue.push(e),this._flushIfNeeded()}_flushIfNeeded(){this._queue.length>this.max&&this.flush(),this._timeout!=null&&(clearTimeout(this._timeout),this._timeout=null),this.queue.length>0&&typeof this.delay=="number"&&(this._timeout=Voe(()=>{this.flush()},this.delay))}flush(){var e,r;ia(e=BK(r=this._queue).call(r,0)).call(e,n=>{n.fn.apply(n.context||n.fn,n.args||[])})}}class Bf{constructor(){Us(this,"_subscribers",{"*":[],add:[],remove:[],update:[]}),Us(this,"subscribe",Bf.prototype.on),Us(this,"unsubscribe",Bf.prototype.off)}_trigger(e,r,n){var i;if(e==="*")throw new Error("Cannot trigger event *");ia(i=[...this._subscribers[e],...this._subscribers["*"]]).call(i,s=>{s(e,r,n??null)})}on(e,r){typeof r=="function"&&this._subscribers[e].push(r)}off(e,r){var n;this._subscribers[e]=el(n=this._subscribers[e]).call(n,i=>i!==r)}}var PA={},TA={},CA;function cue(){if(CA)return TA;CA=1;var t=x9(),e=_9();return t("Set",function(r){return function(){return r(this,arguments.length?arguments[0]:void 0)}},e),TA}var IA;function due(){return IA||(IA=1,cue()),PA}var RA={},I0,NA;function ba(){if(NA)return I0;NA=1;var t=lu(),e=TypeError;return I0=function(r){if(typeof r=="object"&&"size"in r&&"has"in r&&"add"in r&&"delete"in r&&"keys"in r)return r;throw new e(t(r)+" is not a set")},I0}var R0,$A;function wa(){if($A)return R0;$A=1;var t=pn(),e=S9(),r=t("Set"),n=r.prototype;return R0={Set:r,add:e("add",1),has:e("has",1),remove:e("delete",1),proto:n},R0}var N0,jA;function xa(){if(jA)return N0;jA=1;var t=tn();return N0=function(e,r,n){for(var i=n?e:e.iterator,s=e.next,o,a;!(o=t(s,i)).done;)if(a=r(o.value),a!==void 0)return a},N0}var $0,kA;function qd(){if(kA)return $0;kA=1;var t=xa();return $0=function(e,r,n){return n?t(e.keys(),r,!0):e.forEach(r)},$0}var j0,DA;function BC(){if(DA)return j0;DA=1;var t=wa(),e=qd(),r=t.Set,n=t.add;return j0=function(i){var s=new r;return e(i,function(o){n(s,o)}),s},j0}var k0,qA;function Md(){return qA||(qA=1,k0=function(t){return t.size}),k0}var D0,MA;function hue(){return MA||(MA=1,D0=function(t){return{iterator:t,next:t.next,done:!1}}),D0}var q0,AA;function _a(){if(AA)return q0;AA=1;var t=ns(),e=is(),r=tn(),n=hu(),i=hue(),s="Invalid size",o=RangeError,a=TypeError,l=Math.max,u=function(c,d){this.set=c,this.size=l(d,0),this.has=t(c.has),this.keys=t(c.keys)};return u.prototype={getIterator:function(){return i(e(r(this.keys,this.set)))},includes:function(c){return r(this.has,this.set,c)}},q0=function(c){e(c);var d=+c.size;if(d!==d)throw new a(s);var f=n(d);if(f<0)throw new o(s);return new u(c,f)},q0}var M0,FA;function fue(){if(FA)return M0;FA=1;var t=ba(),e=wa(),r=BC(),n=Md(),i=_a(),s=qd(),o=xa(),a=e.has,l=e.remove;return M0=function(c){var d=t(this),f=i(c),p=r(d);return n(d)<=f.size?s(d,function(m){f.includes(m)&&l(p,m)}):o(f.getIterator(),function(m){a(p,m)&&l(p,m)}),p},M0}var A0,LA;function Sa(){return LA||(LA=1,A0=function(){return!1}),A0}var BA;function pue(){if(BA)return RA;BA=1;var t=Pe(),e=fue(),r=He(),n=Sa(),i=!n("difference",function(o){return o.size===0}),s=i||r(function(){var o={size:1,has:function(){return!0},keys:function(){var l=0;return{next:function(){var u=l++>1;return a.has(1)&&a.clear(),{done:u,value:2}}}}},a=new Set([1,2,3,4]);return a.difference(o).size!==3});return t({target:"Set",proto:!0,real:!0,forced:s},{difference:e}),RA}var zA={},F0,UA;function mue(){if(UA)return F0;UA=1;var t=ba(),e=wa(),r=Md(),n=_a(),i=qd(),s=xa(),o=e.Set,a=e.add,l=e.has;return F0=function(c){var d=t(this),f=n(c),p=new o;return r(d)>f.size?s(f.getIterator(),function(m){l(d,m)&&a(p,m)}):i(d,function(m){f.includes(m)&&a(p,m)}),p},F0}var WA;function vue(){if(WA)return zA;WA=1;var t=Pe(),e=He(),r=mue(),n=Sa(),i=!n("intersection",function(s){return s.size===2&&s.has(1)&&s.has(2)})||e(function(){return String(Array.from(new Set([1,2,3]).intersection(new Set([3,2]))))!=="3,2"});return t({target:"Set",proto:!0,real:!0,forced:i},{intersection:r}),zA}var HA={},L0,VA;function yue(){if(VA)return L0;VA=1;var t=ba(),e=wa().has,r=Md(),n=_a(),i=qd(),s=xa(),o=AC();return L0=function(l){var u=t(this),c=n(l);if(r(u)<=c.size)return i(u,function(f){if(c.includes(f))return!1},!0)!==!1;var d=c.getIterator();return s(d,function(f){if(e(u,f))return o(d,"normal",!1)})!==!1},L0}var KA;function gue(){if(KA)return HA;KA=1;var t=Pe(),e=yue(),r=Sa(),n=!r("isDisjointFrom",function(i){return!i});return t({target:"Set",proto:!0,real:!0,forced:n},{isDisjointFrom:e}),HA}var GA={},B0,YA;function bue(){if(YA)return B0;YA=1;var t=ba(),e=Md(),r=qd(),n=_a();return B0=function(s){var o=t(this),a=n(s);return e(o)>a.size?!1:r(o,function(l){if(!a.includes(l))return!1},!0)!==!1},B0}var QA;function wue(){if(QA)return GA;QA=1;var t=Pe(),e=bue(),r=Sa(),n=!r("isSubsetOf",function(i){return i});return t({target:"Set",proto:!0,real:!0,forced:n},{isSubsetOf:e}),GA}var XA={},z0,JA;function xue(){if(JA)return z0;JA=1;var t=ba(),e=wa().has,r=Md(),n=_a(),i=xa(),s=AC();return z0=function(a){var l=t(this),u=n(a);if(r(l)<u.size)return!1;var c=u.getIterator();return i(c,function(d){if(!e(l,d))return s(c,"normal",!1)})!==!1},z0}var ZA;function _ue(){if(ZA)return XA;ZA=1;var t=Pe(),e=xue(),r=Sa(),n=!r("isSupersetOf",function(i){return!i});return t({target:"Set",proto:!0,real:!0,forced:n},{isSupersetOf:e}),XA}var eF={},U0,tF;function Sue(){if(tF)return U0;tF=1;var t=ba(),e=wa(),r=BC(),n=_a(),i=xa(),s=e.add,o=e.has,a=e.remove;return U0=function(u){var c=t(this),d=n(u).getIterator(),f=r(c);return i(d,function(p){o(c,p)?a(f,p):s(f,p)}),f},U0}var W0,rF;function O9(){return rF||(rF=1,W0=function(t){try{var e=new Set,r={size:0,has:function(){return!0},keys:function(){return Object.defineProperty({},"next",{get:function(){return e.clear(),e.add(4),function(){return{done:!0}}}})}},n=e[t](r);return n.size===1&&n.values().next().value===4}catch{return!1}}),W0}var nF;function Eue(){if(nF)return eF;nF=1;var t=Pe(),e=Sue(),r=O9(),n=Sa(),i=!n("symmetricDifference")||!r("symmetricDifference");return t({target:"Set",proto:!0,real:!0,forced:i},{symmetricDifference:e}),eF}var iF={},H0,sF;function Oue(){if(sF)return H0;sF=1;var t=ba(),e=wa().add,r=BC(),n=_a(),i=xa();return H0=function(o){var a=t(this),l=n(o).getIterator(),u=r(a);return i(l,function(c){e(u,c)}),u},H0}var oF;function Pue(){if(oF)return iF;oF=1;var t=Pe(),e=Oue(),r=O9(),n=Sa(),i=!n("union")||!r("union");return t({target:"Set",proto:!0,real:!0,forced:i},{union:e}),iF}var V0,aF;function Tue(){if(aF)return V0;aF=1,lo(),due(),pue(),vue(),gue(),wue(),_ue(),Eue(),Pue(),Dp();var t=Ht();return V0=t.Set,V0}var K0,lF;function Cue(){if(lF)return K0;lF=1;var t=Tue();return uo(),K0=t,K0}var G0,uF;function Iue(){return uF||(uF=1,G0=Cue()),G0}var Rue=Iue(),Y0=De(Rue),Q0,cF;function Nue(){if(cF)return Q0;cF=1,lo(),Dp();var t=b9();return Q0=t,Q0}var X0,dF;function $ue(){if(dF)return X0;dF=1;var t=Nue();return uo(),X0=t,X0}var J0,hF;function jue(){if(hF)return J0;hF=1;var t=$ue();return J0=t,J0}var Z0,fF;function kue(){if(fF)return Z0;fF=1;var t=jue();return Z0=t,Z0}var e1,pF;function Due(){return pF||(pF=1,e1=kue()),e1}var t1,mF;function que(){return mF||(mF=1,t1=Due()),t1}var Mue=que(),r1=De(Mue);class Po{constructor(e){this._pairs=e}*[nl](){for(const[e,r]of this._pairs)yield[e,r]}*entries(){for(const[e,r]of this._pairs)yield[e,r]}*keys(){for(const[e]of this._pairs)yield e}*values(){for(const[,e]of this._pairs)yield e}toIdArray(){var e;return Wn(e=[...this._pairs]).call(e,r=>r[0])}toItemArray(){var e;return Wn(e=[...this._pairs]).call(e,r=>r[1])}toEntryArray(){return[...this._pairs]}toObjectMap(){const e=Ioe(null);for(const[r,n]of this._pairs)e[r]=n;return e}toMap(){return new E9(this._pairs)}toIdSet(){return new Y0(this.toIdArray())}toItemSet(){return new Y0(this.toItemArray())}cache(){return new Po([...this._pairs])}distinct(e){const r=new Y0;for(const[n,i]of this._pairs)r.add(e(i,n));return r}filter(e){const r=this._pairs;return new Po({*[nl](){for(const[n,i]of r)e(i,n)&&(yield[n,i])}})}forEach(e){for(const[r,n]of this._pairs)e(n,r)}map(e){const r=this._pairs;return new Po({*[nl](){for(const[n,i]of r)yield[n,e(i,n)]}})}max(e){const r=r1(this._pairs);let n=r.next();if(n.done)return null;let i=n.value[1],s=e(n.value[1],n.value[0]);for(;!(n=r.next()).done;){const[o,a]=n.value,l=e(a,o);l>s&&(s=l,i=a)}return i}min(e){const r=r1(this._pairs);let n=r.next();if(n.done)return null;let i=n.value[1],s=e(n.value[1],n.value[0]);for(;!(n=r.next()).done;){const[o,a]=n.value,l=e(a,o);l<s&&(s=l,i=a)}return i}reduce(e,r){for(const[n,i]of this._pairs)r=e(r,i,n);return r}sort(e){return new Po({[nl]:()=>{var r;return r1(UP(r=[...this._pairs]).call(r,(n,i)=>{let[s,o]=n,[a,l]=i;return e(o,l,s,a)}))}})}}function vF(t,e){var r=RC(t);if(sM){var n=sM(t);e&&(n=el(n).call(n,function(i){return v9(t,i).enumerable})),r.push.apply(r,n)}return r}function yF(t){for(var e=1;e<arguments.length;e++){var r,n,i=arguments[e]!=null?arguments[e]:{};e%2?ia(r=vF(Object(i),!0)).call(r,function(s){Us(t,s,i[s])}):vM?sle(t,vM(i)):ia(n=vF(Object(i))).call(n,function(s){lle(t,s,v9(i,s))})}return t}function Aue(t,e){return t[e]==null&&(t[e]=uue()),t}class Hl extends Bf{get idProp(){return this._idProp}constructor(e,r){super(),Us(this,"_queue",null),e&&!oi(e)&&(r=e,e=[]),this._options=r||{},this._data=new E9,this.length=0,this._idProp=this._options.fieldId||"id",e&&e.length&&this.add(e),this.setOptions(r)}setOptions(e){e&&e.queue!==void 0&&(e.queue===!1?this._queue&&(this._queue.destroy(),this._queue=null):(this._queue||(this._queue=LC.extend(this,{replace:["add","update","remove"]})),e.queue&&typeof e.queue=="object"&&this._queue.setOptions(e.queue)))}add(e,r){const n=[];let i;if(oi(e)){const s=Wn(e).call(e,o=>o[this._idProp]);if(Ile(s).call(s,o=>this._data.has(o)))throw new Error("A duplicate id was found in the parameter array.");for(let o=0,a=e.length;o<a;o++)i=this._addItem(e[o]),n.push(i)}else if(e&&typeof e=="object")i=this._addItem(e),n.push(i);else throw new Error("Unknown dataType");return n.length&&this._trigger("add",{items:n},r),n}update(e,r){const n=[],i=[],s=[],o=[],a=this._idProp,l=u=>{const c=u[a];if(c!=null&&this._data.has(c)){const d=u,f=yoe({},this._data.get(c)),p=this._updateItem(d);i.push(p),o.push(d),s.push(f)}else{const d=this._addItem(u);n.push(d)}};if(oi(e))for(let u=0,c=e.length;u<c;u++)e[u]&&typeof e[u]=="object"?l(e[u]):console.warn("Ignoring input item, which is not an object at index "+u);else if(e&&typeof e=="object")l(e);else throw new Error("Unknown dataType");if(n.length&&this._trigger("add",{items:n},r),i.length){const u={items:i,oldData:s,data:o};this._trigger("update",u,r)}return Soe(n).call(n,i)}updateOnly(e,r){var n;oi(e)||(e=[e]);const i=Wn(n=Wn(e).call(e,s=>{const o=this._data.get(s[this._idProp]);if(o==null)throw new Error("Updating non-existent items is not allowed.");return{oldData:o,update:s}})).call(n,s=>{let{oldData:o,update:a}=s;const l=o[this._idProp],u=qae(o,a);return this._data.set(l,u),{id:l,oldData:o,updatedData:u}});if(i.length){const s={items:Wn(i).call(i,o=>o.id),oldData:Wn(i).call(i,o=>o.oldData),data:Wn(i).call(i,o=>o.updatedData)};return this._trigger("update",s,r),s.items}else return[]}get(e,r){let n,i,s;OA(e)?(n=e,s=r):oi(e)?(i=e,s=r):s=e;const o=s&&s.returnType==="Object"?"Object":"Array",a=s&&el(s),l=[];let u,c,d;if(n!=null)u=this._data.get(n),u&&a&&!a(u)&&(u=void 0);else if(i!=null)for(let p=0,m=i.length;p<m;p++)u=this._data.get(i[p]),u!=null&&(!a||a(u))&&l.push(u);else{var f;c=[...Aa(f=this._data).call(f)];for(let p=0,m=c.length;p<m;p++)d=c[p],u=this._data.get(d),u!=null&&(!a||a(u))&&l.push(u)}if(s&&s.order&&n==null&&this._sort(l,s.order),s&&s.fields){const p=s.fields;if(n!=null&&u!=null)u=this._filterFields(u,p);else for(let m=0,g=l.length;m<g;m++)l[m]=this._filterFields(l[m],p)}if(o=="Object"){const p={};for(let m=0,g=l.length;m<g;m++){const b=l[m],y=b[this._idProp];p[y]=b}return p}else return n!=null?u??null:l}getIds(e){const r=this._data,n=e&&el(e),i=e&&e.order,s=[...Aa(r).call(r)],o=[];if(n)if(i){const a=[];for(let l=0,u=s.length;l<u;l++){const c=s[l],d=this._data.get(c);d!=null&&n(d)&&a.push(d)}this._sort(a,i);for(let l=0,u=a.length;l<u;l++)o.push(a[l][this._idProp])}else for(let a=0,l=s.length;a<l;a++){const u=s[a],c=this._data.get(u);c!=null&&n(c)&&o.push(c[this._idProp])}else if(i){const a=[];for(let l=0,u=s.length;l<u;l++){const c=s[l];a.push(r.get(c))}this._sort(a,i);for(let l=0,u=a.length;l<u;l++)o.push(a[l][this._idProp])}else for(let a=0,l=s.length;a<l;a++){const u=s[a],c=r.get(u);c!=null&&o.push(c[this._idProp])}return o}getDataSet(){return this}forEach(e,r){const n=r&&el(r),i=this._data,s=[...Aa(i).call(i)];if(r&&r.order){const o=this.get(r);for(let a=0,l=o.length;a<l;a++){const u=o[a],c=u[this._idProp];e(u,c)}}else for(let o=0,a=s.length;o<a;o++){const l=s[o],u=this._data.get(l);u!=null&&(!n||n(u))&&e(u,l)}}map(e,r){const n=r&&el(r),i=[],s=this._data,o=[...Aa(s).call(s)];for(let a=0,l=o.length;a<l;a++){const u=o[a],c=this._data.get(u);c!=null&&(!n||n(c))&&i.push(e(c,u))}return r&&r.order&&this._sort(i,r.order),i}_filterFields(e,r){var n;return e&&sse(n=oi(r)?r:RC(r)).call(n,(i,s)=>(i[s]=e[s],i),{})}_sort(e,r){if(typeof r=="string"){const n=r;UP(e).call(e,(i,s)=>{const o=i[n],a=s[n];return o>a?1:o<a?-1:0})}else if(typeof r=="function")UP(e).call(e,r);else throw new TypeError("Order must be a function or a string")}remove(e,r){const n=[],i=[],s=oi(e)?e:[e];for(let o=0,a=s.length;o<a;o++){const l=this._remove(s[o]);if(l){const u=l[this._idProp];u!=null&&(n.push(u),i.push(l))}}return n.length&&this._trigger("remove",{items:n,oldData:i},r),n}_remove(e){let r;if(OA(e)?r=e:e&&typeof e=="object"&&(r=e[this._idProp]),r!=null&&this._data.has(r)){const n=this._data.get(r)||null;return this._data.delete(r),--this.length,n}return null}clear(e){var r;const n=[...Aa(r=this._data).call(r)],i=[];for(let s=0,o=n.length;s<o;s++)i.push(this._data.get(n[s]));return this._data.clear(),this.length=0,this._trigger("remove",{items:n,oldData:i},e),n}max(e){let r=null,n=null;for(const s of gA(i=this._data).call(i)){var i;const o=s[e];typeof o=="number"&&(n==null||o>n)&&(r=s,n=o)}return r||null}min(e){let r=null,n=null;for(const s of gA(i=this._data).call(i)){var i;const o=s[e];typeof o=="number"&&(n==null||o<n)&&(r=s,n=o)}return r||null}distinct(e){const r=this._data,n=[...Aa(r).call(r)],i=[];let s=0;for(let o=0,a=n.length;o<a;o++){const l=n[o],c=r.get(l)[e];let d=!1;for(let f=0;f<s;f++)if(i[f]==c){d=!0;break}!d&&c!==void 0&&(i[s]=c,s++)}return i}_addItem(e){const r=Aue(e,this._idProp),n=r[this._idProp];if(this._data.has(n))throw new Error("Cannot add item: item with id "+n+" already exists");return this._data.set(n,r),++this.length,n}_updateItem(e){const r=e[this._idProp];if(r==null)throw new Error("Cannot update item: item has no id (item: "+Aoe(e)+")");const n=this._data.get(r);if(!n)throw new Error("Cannot update item: no item with id "+r+" found");return this._data.set(r,yF(yF({},n),e)),r}stream(e){if(e){const n=this._data;return new Po({*[nl](){for(const i of e){const s=n.get(i);s!=null&&(yield[i,s])}}})}else{var r;return new Po({[nl]:MK(r=nue(this._data)).call(r,this._data)})}}}function Fue(t,e){return typeof e=="object"&&e!==null&&t===e.idProp&&typeof e.add=="function"&&typeof e.clear=="function"&&typeof e.distinct=="function"&&typeof ia(e)=="function"&&typeof e.get=="function"&&typeof e.getDataSet=="function"&&typeof e.getIds=="function"&&typeof e.length=="number"&&typeof Wn(e)=="function"&&typeof e.max=="function"&&typeof e.min=="function"&&typeof e.off=="function"&&typeof e.on=="function"&&typeof e.remove=="function"&&typeof e.setOptions=="function"&&typeof e.stream=="function"&&typeof e.update=="function"&&typeof e.updateOnly=="function"}function P9(t,e){return typeof e=="object"&&e!==null&&t===e.idProp&&typeof ia(e)=="function"&&typeof e.get=="function"&&typeof e.getDataSet=="function"&&typeof e.getIds=="function"&&typeof e.length=="number"&&typeof Wn(e)=="function"&&typeof e.off=="function"&&typeof e.on=="function"&&typeof e.stream=="function"&&Fue(t,e.getDataSet())}/**
 * vis-network
 * https://visjs.github.io/vis-network/
 *
 * A dynamic, browser-based visualization library.
 *
 * @version 10.0.2
 * @date    2025-09-15T17:48:13.838Z
 *
 * @copyright (c) 2011-2017 Almende B.V, http://almende.com
 * @copyright (c) 2017-2019 visjs contributors, https://github.com/visjs
 *
 * @license
 * vis.js is dual licensed under both
 *
 *   1. The Apache 2.0 License
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 *   and
 *
 *   2. The MIT License
 *      http://opensource.org/licenses/MIT
 *
 * vis.js may be distributed under either license.
 */var gF=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Ee(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var bF={},Vu,wF;function ut(){if(wF)return Vu;wF=1;var t=function(e){return e&&e.Math===Math&&e};return Vu=t(typeof globalThis=="object"&&globalThis)||t(typeof window=="object"&&window)||t(typeof self=="object"&&self)||t(typeof gF=="object"&&gF)||t(typeof Vu=="object"&&Vu)||function(){return this}()||Function("return this")(),Vu}var n1,xF;function qe(){return xF||(xF=1,n1=function(t){try{return!!t()}catch{return!0}}),n1}var i1,_F;function Ad(){if(_F)return i1;_F=1;var t=qe();return i1=!t(function(){var e=(function(){}).bind();return typeof e!="function"||e.hasOwnProperty("prototype")}),i1}var s1,SF;function Fp(){if(SF)return s1;SF=1;var t=Ad(),e=Function.prototype,r=e.apply,n=e.call;return s1=typeof Reflect=="object"&&Reflect.apply||(t?n.bind(r):function(){return n.apply(r,arguments)}),s1}var o1,EF;function Ae(){if(EF)return o1;EF=1;var t=Ad(),e=Function.prototype,r=e.call,n=t&&e.bind.bind(r,r);return o1=t?n:function(i){return function(){return r.apply(i,arguments)}},o1}var a1,OF;function _i(){if(OF)return a1;OF=1;var t=Ae(),e=t({}.toString),r=t("".slice);return a1=function(n){return r(e(n),8,-1)},a1}var l1,PF;function zC(){if(PF)return l1;PF=1;var t=_i(),e=Ae();return l1=function(r){if(t(r)==="Function")return e(r)},l1}var u1,TF;function rr(){if(TF)return u1;TF=1;var t=typeof document=="object"&&document.all;return u1=typeof t>"u"&&t!==void 0?function(e){return typeof e=="function"||e===t}:function(e){return typeof e=="function"},u1}var c1={},d1,CF;function It(){if(CF)return d1;CF=1;var t=qe();return d1=!t(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!==7}),d1}var h1,IF;function nn(){if(IF)return h1;IF=1;var t=Ad(),e=Function.prototype.call;return h1=t?e.bind(e):function(){return e.apply(e,arguments)},h1}var f1={},RF;function Lp(){if(RF)return f1;RF=1;var t={}.propertyIsEnumerable,e=Object.getOwnPropertyDescriptor,r=e&&!t.call({1:2},1);return f1.f=r?function(i){var s=e(this,i);return!!s&&s.enumerable}:t,f1}var p1,NF;function Fd(){return NF||(NF=1,p1=function(t,e){return{enumerable:!(t&1),configurable:!(t&2),writable:!(t&4),value:e}}),p1}var m1,$F;function Bp(){if($F)return m1;$F=1;var t=Ae(),e=qe(),r=_i(),n=Object,i=t("".split);return m1=e(function(){return!n("z").propertyIsEnumerable(0)})?function(s){return r(s)==="String"?i(s,""):n(s)}:n,m1}var v1,jF;function yu(){return jF||(jF=1,v1=function(t){return t==null}),v1}var y1,kF;function ss(){if(kF)return y1;kF=1;var t=yu(),e=TypeError;return y1=function(r){if(t(r))throw new e("Can't call method on "+r);return r},y1}var g1,DF;function ti(){if(DF)return g1;DF=1;var t=Bp(),e=ss();return g1=function(r){return t(e(r))},g1}var b1,qF;function nr(){if(qF)return b1;qF=1;var t=rr();return b1=function(e){return typeof e=="object"?e!==null:t(e)},b1}var w1,MF;function Ve(){return MF||(MF=1,w1={}),w1}var x1,AF;function mn(){if(AF)return x1;AF=1;var t=Ve(),e=ut(),r=rr(),n=function(i){return r(i)?i:void 0};return x1=function(i,s){return arguments.length<2?n(t[i])||n(e[i]):t[i]&&t[i][s]||e[i]&&e[i][s]},x1}var _1,FF;function At(){if(FF)return _1;FF=1;var t=Ae();return _1=t({}.isPrototypeOf),_1}var S1,LF;function gu(){if(LF)return S1;LF=1;var t=ut(),e=t.navigator,r=e&&e.userAgent;return S1=r?String(r):"",S1}var E1,BF;function Ld(){if(BF)return E1;BF=1;var t=ut(),e=gu(),r=t.process,n=t.Deno,i=r&&r.versions||n&&n.version,s=i&&i.v8,o,a;return s&&(o=s.split("."),a=o[0]>0&&o[0]<4?1:+(o[0]+o[1])),!a&&e&&(o=e.match(/Edge\/(\d+)/),(!o||o[1]>=74)&&(o=e.match(/Chrome\/(\d+)/),o&&(a=+o[1]))),E1=a,E1}var O1,zF;function bu(){if(zF)return O1;zF=1;var t=Ld(),e=qe(),r=ut(),n=r.String;return O1=!!Object.getOwnPropertySymbols&&!e(function(){var i=Symbol("symbol detection");return!n(i)||!(Object(i)instanceof Symbol)||!Symbol.sham&&t&&t<41}),O1}var P1,UF;function T9(){if(UF)return P1;UF=1;var t=bu();return P1=t&&!Symbol.sham&&typeof Symbol.iterator=="symbol",P1}var T1,WF;function Bd(){if(WF)return T1;WF=1;var t=mn(),e=rr(),r=At(),n=T9(),i=Object;return T1=n?function(s){return typeof s=="symbol"}:function(s){var o=t("Symbol");return e(o)&&r(o.prototype,i(s))},T1}var C1,HF;function wu(){if(HF)return C1;HF=1;var t=String;return C1=function(e){try{return t(e)}catch{return"Object"}},C1}var I1,VF;function os(){if(VF)return I1;VF=1;var t=rr(),e=wu(),r=TypeError;return I1=function(n){if(t(n))return n;throw new r(e(n)+" is not a function")},I1}var R1,KF;function UC(){if(KF)return R1;KF=1;var t=os(),e=yu();return R1=function(r,n){var i=r[n];return e(i)?void 0:t(i)},R1}var N1,GF;function Lue(){if(GF)return N1;GF=1;var t=nn(),e=rr(),r=nr(),n=TypeError;return N1=function(i,s){var o,a;if(s==="string"&&e(o=i.toString)&&!r(a=t(o,i))||e(o=i.valueOf)&&!r(a=t(o,i))||s!=="string"&&e(o=i.toString)&&!r(a=t(o,i)))return a;throw new n("Can't convert object to primitive value")},N1}var $1={exports:{}},j1,YF;function xu(){return YF||(YF=1,j1=!0),j1}var k1,QF;function Bue(){if(QF)return k1;QF=1;var t=ut(),e=Object.defineProperty;return k1=function(r,n){try{e(t,r,{value:n,configurable:!0,writable:!0})}catch{t[r]=n}return n},k1}var XF;function WC(){if(XF)return $1.exports;XF=1;var t=xu(),e=ut(),r=Bue(),n="__core-js_shared__",i=$1.exports=e[n]||r(n,{});return(i.versions||(i.versions=[])).push({version:"3.44.0",mode:t?"pure":"global",copyright:" 2014-2025 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.44.0/LICENSE",source:"https://github.com/zloirock/core-js"}),$1.exports}var D1,JF;function _u(){if(JF)return D1;JF=1;var t=WC();return D1=function(e,r){return t[e]||(t[e]=r||{})},D1}var q1,ZF;function vn(){if(ZF)return q1;ZF=1;var t=ss(),e=Object;return q1=function(r){return e(t(r))},q1}var M1,eL;function dr(){if(eL)return M1;eL=1;var t=Ae(),e=vn(),r=t({}.hasOwnProperty);return M1=Object.hasOwn||function(i,s){return r(e(i),s)},M1}var A1,tL;function zp(){if(tL)return A1;tL=1;var t=Ae(),e=0,r=Math.random(),n=t(1.1.toString);return A1=function(i){return"Symbol("+(i===void 0?"":i)+")_"+n(++e+r,36)},A1}var F1,rL;function Ft(){if(rL)return F1;rL=1;var t=ut(),e=_u(),r=dr(),n=zp(),i=bu(),s=T9(),o=t.Symbol,a=e("wks"),l=s?o.for||o:o&&o.withoutSetter||n;return F1=function(u){return r(a,u)||(a[u]=i&&r(o,u)?o[u]:l("Symbol."+u)),a[u]},F1}var L1,nL;function C9(){if(nL)return L1;nL=1;var t=nn(),e=nr(),r=Bd(),n=UC(),i=Lue(),s=Ft(),o=TypeError,a=s("toPrimitive");return L1=function(l,u){if(!e(l)||r(l))return l;var c=n(l,a),d;if(c){if(u===void 0&&(u="default"),d=t(c,l,u),!e(d)||r(d))return d;throw new o("Can't convert object to primitive value")}return u===void 0&&(u="number"),i(l,u)},L1}var B1,iL;function HC(){if(iL)return B1;iL=1;var t=C9(),e=Bd();return B1=function(r){var n=t(r,"string");return e(n)?n:n+""},B1}var z1,sL;function I9(){if(sL)return z1;sL=1;var t=ut(),e=nr(),r=t.document,n=e(r)&&e(r.createElement);return z1=function(i){return n?r.createElement(i):{}},z1}var U1,oL;function R9(){if(oL)return U1;oL=1;var t=It(),e=qe(),r=I9();return U1=!t&&!e(function(){return Object.defineProperty(r("div"),"a",{get:function(){return 7}}).a!==7}),U1}var aL;function Up(){if(aL)return c1;aL=1;var t=It(),e=nn(),r=Lp(),n=Fd(),i=ti(),s=HC(),o=dr(),a=R9(),l=Object.getOwnPropertyDescriptor;return c1.f=t?l:function(c,d){if(c=i(c),d=s(d),a)try{return l(c,d)}catch{}if(o(c,d))return n(!e(r.f,c,d),c[d])},c1}var W1,lL;function zue(){if(lL)return W1;lL=1;var t=qe(),e=rr(),r=/#|\.prototype\./,n=function(l,u){var c=s[i(l)];return c===a?!0:c===o?!1:e(u)?t(u):!!u},i=n.normalize=function(l){return String(l).replace(r,".").toLowerCase()},s=n.data={},o=n.NATIVE="N",a=n.POLYFILL="P";return W1=n,W1}var H1,uL;function Wp(){if(uL)return H1;uL=1;var t=zC(),e=os(),r=Ad(),n=t(t.bind);return H1=function(i,s){return e(i),s===void 0?i:r?n(i,s):function(){return i.apply(s,arguments)}},H1}var V1={},K1,cL;function N9(){if(cL)return K1;cL=1;var t=It(),e=qe();return K1=t&&e(function(){return Object.defineProperty(function(){},"prototype",{value:42,writable:!1}).prototype!==42}),K1}var G1,dL;function Si(){if(dL)return G1;dL=1;var t=nr(),e=String,r=TypeError;return G1=function(n){if(t(n))return n;throw new r(e(n)+" is not an object")},G1}var hL;function jn(){if(hL)return V1;hL=1;var t=It(),e=R9(),r=N9(),n=Si(),i=HC(),s=TypeError,o=Object.defineProperty,a=Object.getOwnPropertyDescriptor,l="enumerable",u="configurable",c="writable";return V1.f=t?r?function(f,p,m){if(n(f),p=i(p),n(m),typeof f=="function"&&p==="prototype"&&"value"in m&&c in m&&!m[c]){var g=a(f,p);g&&g[c]&&(f[p]=m.value,m={configurable:u in m?m[u]:g[u],enumerable:l in m?m[l]:g[l],writable:!1})}return o(f,p,m)}:o:function(f,p,m){if(n(f),p=i(p),n(m),e)try{return o(f,p,m)}catch{}if("get"in m||"set"in m)throw new s("Accessors not supported");return"value"in m&&(f[p]=m.value),f},V1}var Y1,fL;function Su(){if(fL)return Y1;fL=1;var t=It(),e=jn(),r=Fd();return Y1=t?function(n,i,s){return e.f(n,i,r(1,s))}:function(n,i,s){return n[i]=s,n},Y1}var Q1,pL;function ge(){if(pL)return Q1;pL=1;var t=ut(),e=Fp(),r=zC(),n=rr(),i=Up().f,s=zue(),o=Ve(),a=Wp(),l=Su(),u=dr(),c=function(d){var f=function(p,m,g){if(this instanceof f){switch(arguments.length){case 0:return new d;case 1:return new d(p);case 2:return new d(p,m)}return new d(p,m,g)}return e(d,this,arguments)};return f.prototype=d.prototype,f};return Q1=function(d,f){var p=d.target,m=d.global,g=d.stat,b=d.proto,y=m?t:g?t[p]:t[p]&&t[p].prototype,v=m?o:o[p]||l(o,p,{})[p],x=v.prototype,w,_,E,O,S,T,P,R,C;for(O in f)w=s(m?O:p+(g?".":"#")+O,d.forced),_=!w&&y&&u(y,O),T=v[O],_&&(d.dontCallGetSet?(C=i(y,O),P=C&&C.value):P=y[O]),S=_&&P?P:f[O],!(!w&&!b&&typeof T==typeof S)&&(d.bind&&_?R=a(S,t):d.wrap&&_?R=c(S):b&&n(S)?R=r(S):R=S,(d.sham||S&&S.sham||T&&T.sham)&&l(R,"sham",!0),l(v,O,R),b&&(E=p+"Prototype",u(o,E)||l(o,E,{}),l(o[E],O,S),d.real&&x&&(w||!x[O])&&l(x,O,S)))},Q1}var X1,mL;function Uue(){if(mL)return X1;mL=1;var t=Math.ceil,e=Math.floor;return X1=Math.trunc||function(n){var i=+n;return(i>0?e:t)(i)},X1}var J1,vL;function Eu(){if(vL)return J1;vL=1;var t=Uue();return J1=function(e){var r=+e;return r!==r||r===0?0:t(r)},J1}var Z1,yL;function Hp(){if(yL)return Z1;yL=1;var t=Eu(),e=Math.max,r=Math.min;return Z1=function(n,i){var s=t(n);return s<0?e(s+i,0):r(s,i)},Z1}var ew,gL;function $9(){if(gL)return ew;gL=1;var t=Eu(),e=Math.min;return ew=function(r){var n=t(r);return n>0?e(n,9007199254740991):0},ew}var tw,bL;function as(){if(bL)return tw;bL=1;var t=$9();return tw=function(e){return t(e.length)},tw}var rw,wL;function VC(){if(wL)return rw;wL=1;var t=ti(),e=Hp(),r=as(),n=function(i){return function(s,o,a){var l=t(s),u=r(l);if(u===0)return!i&&-1;var c=e(a,u),d;if(i&&o!==o){for(;u>c;)if(d=l[c++],d!==d)return!0}else for(;u>c;c++)if((i||c in l)&&l[c]===o)return i||c||0;return!i&&-1}};return rw={includes:n(!0),indexOf:n(!1)},rw}var nw,xL;function zd(){return xL||(xL=1,nw={}),nw}var iw,_L;function j9(){if(_L)return iw;_L=1;var t=Ae(),e=dr(),r=ti(),n=VC().indexOf,i=zd(),s=t([].push);return iw=function(o,a){var l=r(o),u=0,c=[],d;for(d in l)!e(i,d)&&e(l,d)&&s(c,d);for(;a.length>u;)e(l,d=a[u++])&&(~n(c,d)||s(c,d));return c},iw}var sw,SL;function KC(){return SL||(SL=1,sw=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]),sw}var ow,EL;function Ud(){if(EL)return ow;EL=1;var t=j9(),e=KC();return ow=Object.keys||function(n){return t(n,e)},ow}var aw={},OL;function Vp(){return OL||(OL=1,aw.f=Object.getOwnPropertySymbols),aw}var lw,PL;function Wue(){if(PL)return lw;PL=1;var t=It(),e=Ae(),r=nn(),n=qe(),i=Ud(),s=Vp(),o=Lp(),a=vn(),l=Bp(),u=Object.assign,c=Object.defineProperty,d=e([].concat);return lw=!u||n(function(){if(t&&u({b:1},u(c({},"a",{enumerable:!0,get:function(){c(this,"b",{value:3,enumerable:!1})}}),{b:2})).b!==1)return!0;var f={},p={},m=Symbol("assign detection"),g="abcdefghijklmnopqrst";return f[m]=7,g.split("").forEach(function(b){p[b]=b}),u({},f)[m]!==7||i(u({},p)).join("")!==g})?function(p,m){for(var g=a(p),b=arguments.length,y=1,v=s.f,x=o.f;b>y;)for(var w=l(arguments[y++]),_=v?d(i(w),v(w)):i(w),E=_.length,O=0,S;E>O;)S=_[O++],(!t||r(x,w,S))&&(g[S]=w[S]);return g}:u,lw}var TL;function Hue(){if(TL)return bF;TL=1;var t=ge(),e=Wue();return t({target:"Object",stat:!0,arity:2,forced:Object.assign!==e},{assign:e}),bF}var uw,CL;function Vue(){if(CL)return uw;CL=1,Hue();var t=Ve();return uw=t.Object.assign,uw}var cw,IL;function Kue(){if(IL)return cw;IL=1;var t=Vue();return cw=t,cw}var dw,RL;function Gue(){return RL||(RL=1,dw=Kue()),dw}var Yue=Gue(),kt=Ee(Yue),NL={},hw,$L;function Ou(){if($L)return hw;$L=1;var t=Ae();return hw=t([].slice),hw}var fw,jL;function Que(){if(jL)return fw;jL=1;var t=Ae(),e=os(),r=nr(),n=dr(),i=Ou(),s=Ad(),o=Function,a=t([].concat),l=t([].join),u={},c=function(d,f,p){if(!n(u,f)){for(var m=[],g=0;g<f;g++)m[g]="a["+g+"]";u[f]=o("C,a","return new C("+l(m,",")+")")}return u[f](d,p)};return fw=s?o.bind:function(f){var p=e(this),m=p.prototype,g=i(arguments,1),b=function(){var v=a(g,i(arguments));return this instanceof b?c(p,v.length,v):p.apply(f,v)};return r(m)&&(b.prototype=m),b},fw}var kL;function Xue(){if(kL)return NL;kL=1;var t=ge(),e=Que();return t({target:"Function",proto:!0,forced:Function.bind!==e},{bind:e}),NL}var pw,DL;function hr(){if(DL)return pw;DL=1;var t=ut(),e=Ve();return pw=function(r,n){var i=e[r+"Prototype"],s=i&&i[n];if(s)return s;var o=t[r],a=o&&o.prototype;return a&&a[n]},pw}var mw,qL;function Jue(){if(qL)return mw;qL=1,Xue();var t=hr();return mw=t("Function","bind"),mw}var vw,ML;function Zue(){if(ML)return vw;ML=1;var t=At(),e=Jue(),r=Function.prototype;return vw=function(n){var i=n.bind;return n===r||t(r,n)&&i===r.bind?e:i},vw}var yw,AL;function ece(){if(AL)return yw;AL=1;var t=Zue();return yw=t,yw}var gw,FL;function tce(){return FL||(FL=1,gw=ece()),gw}var rce=tce(),ee=Ee(rce);function GC(t,e,r,n){t.beginPath(),t.arc(e,r,n,0,2*Math.PI,!1),t.closePath()}function nce(t,e,r,n){t.beginPath(),t.rect(e-n,r-n,n*2,n*2),t.closePath()}function ice(t,e,r,n){t.beginPath(),n*=1.15,r+=.275*n;const i=n*2,s=i/2,o=Math.sqrt(3)/6*i,a=Math.sqrt(i*i-s*s);t.moveTo(e,r-(a-o)),t.lineTo(e+s,r+o),t.lineTo(e-s,r+o),t.lineTo(e,r-(a-o)),t.closePath()}function sce(t,e,r,n){t.beginPath(),n*=1.15,r-=.275*n;const i=n*2,s=i/2,o=Math.sqrt(3)/6*i,a=Math.sqrt(i*i-s*s);t.moveTo(e,r+(a-o)),t.lineTo(e+s,r-o),t.lineTo(e-s,r-o),t.lineTo(e,r+(a-o)),t.closePath()}function oce(t,e,r,n){t.beginPath(),n*=.82,r+=.1*n;for(let i=0;i<10;i++){const s=i%2===0?n*1.3:n*.5;t.lineTo(e+s*Math.sin(i*2*Math.PI/10),r-s*Math.cos(i*2*Math.PI/10))}t.closePath()}function ace(t,e,r,n){t.beginPath(),t.lineTo(e,r+n),t.lineTo(e+n,r),t.lineTo(e,r-n),t.lineTo(e-n,r),t.closePath()}function k9(t,e,r,n,i,s){const o=Math.PI/180;n-2*s<0&&(s=n/2),i-2*s<0&&(s=i/2),t.beginPath(),t.moveTo(e+s,r),t.lineTo(e+n-s,r),t.arc(e+n-s,r+s,s,o*270,o*360,!1),t.lineTo(e+n,r+i-s),t.arc(e+n-s,r+i-s,s,0,o*90,!1),t.lineTo(e+s,r+i),t.arc(e+s,r+i-s,s,o*90,o*180,!1),t.lineTo(e,r+s),t.arc(e+s,r+s,s,o*180,o*270,!1),t.closePath()}function WP(t,e,r,n,i){const s=.5522848,o=n/2*s,a=i/2*s,l=e+n,u=r+i,c=e+n/2,d=r+i/2;t.beginPath(),t.moveTo(e,d),t.bezierCurveTo(e,d-a,c-o,r,c,r),t.bezierCurveTo(c+o,r,l,d-a,l,d),t.bezierCurveTo(l,d+a,c+o,u,c,u),t.bezierCurveTo(c-o,u,e,d+a,e,d),t.closePath()}function D9(t,e,r,n,i){const s=.3333333333333333,o=n,a=i*s,l=.5522848,u=o/2*l,c=a/2*l,d=e+o,f=r+a,p=e+o/2,m=r+a/2,g=r+(i-a/2),b=r+i;t.beginPath(),t.moveTo(d,m),t.bezierCurveTo(d,m+c,p+u,f,p,f),t.bezierCurveTo(p-u,f,e,m+c,e,m),t.bezierCurveTo(e,m-c,p-u,r,p,r),t.bezierCurveTo(p+u,r,d,m-c,d,m),t.lineTo(d,g),t.bezierCurveTo(d,g+c,p+u,b,p,b),t.bezierCurveTo(p-u,b,e,g+c,e,g),t.lineTo(e,m)}function q9(t,e,r,n,i,s){t.beginPath(),t.moveTo(e,r);const o=s.length,a=n-e,l=i-r,u=l/a;let c=Math.sqrt(a*a+l*l),d=0,f=!0,p=0,m=+s[0];for(;c>=.1;)m=+s[d++%o],m>c&&(m=c),p=Math.sqrt(m*m/(1+u*u)),p=a<0?-p:p,e+=p,r+=u*p,f===!0?t.lineTo(e,r):t.moveTo(e,r),c-=m,f=!f}function lce(t,e,r,n){t.beginPath();const i=6,s=Math.PI*2/i;t.moveTo(e+n,r);for(let o=1;o<i;o++)t.lineTo(e+n*Math.cos(s*o),r+n*Math.sin(s*o));t.closePath()}const LL={circle:GC,dashedLine:q9,database:D9,diamond:ace,ellipse:WP,ellipse_vis:WP,hexagon:lce,roundRect:k9,square:nce,star:oce,triangle:ice,triangleDown:sce};function uce(t){return Object.prototype.hasOwnProperty.call(LL,t)?LL[t]:function(e){for(var r=arguments.length,n=new Array(r>1?r-1:0),i=1;i<r;i++)n[i-1]=arguments[i];CanvasRenderingContext2D.prototype[t].call(e,n)}}var bw={exports:{}},BL;function cce(){return BL||(BL=1,function(t){t.exports=e;function e(n){if(n)return r(n)}function r(n){for(var i in e.prototype)n[i]=e.prototype[i];return n}e.prototype.on=e.prototype.addEventListener=function(n,i){return this._callbacks=this._callbacks||{},(this._callbacks["$"+n]=this._callbacks["$"+n]||[]).push(i),this},e.prototype.once=function(n,i){function s(){this.off(n,s),i.apply(this,arguments)}return s.fn=i,this.on(n,s),this},e.prototype.off=e.prototype.removeListener=e.prototype.removeAllListeners=e.prototype.removeEventListener=function(n,i){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var s=this._callbacks["$"+n];if(!s)return this;if(arguments.length==1)return delete this._callbacks["$"+n],this;for(var o,a=0;a<s.length;a++)if(o=s[a],o===i||o.fn===i){s.splice(a,1);break}return s.length===0&&delete this._callbacks["$"+n],this},e.prototype.emit=function(n){this._callbacks=this._callbacks||{};for(var i=new Array(arguments.length-1),s=this._callbacks["$"+n],o=1;o<arguments.length;o++)i[o-1]=arguments[o];if(s){s=s.slice(0);for(var o=0,a=s.length;o<a;++o)s[o].apply(this,i)}return this},e.prototype.listeners=function(n){return this._callbacks=this._callbacks||{},this._callbacks["$"+n]||[]},e.prototype.hasListeners=function(n){return!!this.listeners(n).length}}(bw)),bw.exports}var dce=cce(),M9=Ee(dce),zL={},ww,UL;function Ea(){if(UL)return ww;UL=1;var t=_i();return ww=Array.isArray||function(r){return t(r)==="Array"},ww}var xw,WL;function A9(){if(WL)return xw;WL=1;var t=TypeError,e=9007199254740991;return xw=function(r){if(r>e)throw t("Maximum allowed index exceeded");return r},xw}var _w,HL;function Kp(){if(HL)return _w;HL=1;var t=It(),e=jn(),r=Fd();return _w=function(n,i,s){t?e.f(n,i,r(0,s)):n[i]=s},_w}var Sw,VL;function YC(){if(VL)return Sw;VL=1;var t=Ft(),e=t("toStringTag"),r={};return r[e]="z",Sw=String(r)==="[object z]",Sw}var Ew,KL;function Pu(){if(KL)return Ew;KL=1;var t=YC(),e=rr(),r=_i(),n=Ft(),i=n("toStringTag"),s=Object,o=r(function(){return arguments}())==="Arguments",a=function(l,u){try{return l[u]}catch{}};return Ew=t?r:function(l){var u,c,d;return l===void 0?"Undefined":l===null?"Null":typeof(c=a(u=s(l),i))=="string"?c:o?r(u):(d=r(u))==="Object"&&e(u.callee)?"Arguments":d},Ew}var Ow,GL;function hce(){if(GL)return Ow;GL=1;var t=Ae(),e=rr(),r=WC(),n=t(Function.toString);return e(r.inspectSource)||(r.inspectSource=function(i){return n(i)}),Ow=r.inspectSource,Ow}var Pw,YL;function F9(){if(YL)return Pw;YL=1;var t=Ae(),e=qe(),r=rr(),n=Pu(),i=mn(),s=hce(),o=function(){},a=i("Reflect","construct"),l=/^\s*(?:class|function)\b/,u=t(l.exec),c=!l.test(o),d=function(m){if(!r(m))return!1;try{return a(o,[],m),!0}catch{return!1}},f=function(m){if(!r(m))return!1;switch(n(m)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return c||!!u(l,s(m))}catch{return!0}};return f.sham=!0,Pw=!a||e(function(){var p;return d(d.call)||!d(Object)||!d(function(){p=!0})||p})?f:d,Pw}var Tw,QL;function fce(){if(QL)return Tw;QL=1;var t=Ea(),e=F9(),r=nr(),n=Ft(),i=n("species"),s=Array;return Tw=function(o){var a;return t(o)&&(a=o.constructor,e(a)&&(a===s||t(a.prototype))?a=void 0:r(a)&&(a=a[i],a===null&&(a=void 0))),a===void 0?s:a},Tw}var Cw,XL;function QC(){if(XL)return Cw;XL=1;var t=fce();return Cw=function(e,r){return new(t(e))(r===0?0:r)},Cw}var Iw,JL;function Wd(){if(JL)return Iw;JL=1;var t=qe(),e=Ft(),r=Ld(),n=e("species");return Iw=function(i){return r>=51||!t(function(){var s=[],o=s.constructor={};return o[n]=function(){return{foo:1}},s[i](Boolean).foo!==1})},Iw}var ZL;function L9(){if(ZL)return zL;ZL=1;var t=ge(),e=qe(),r=Ea(),n=nr(),i=vn(),s=as(),o=A9(),a=Kp(),l=QC(),u=Wd(),c=Ft(),d=Ld(),f=c("isConcatSpreadable"),p=d>=51||!e(function(){var b=[];return b[f]=!1,b.concat()[0]!==b}),m=function(b){if(!n(b))return!1;var y=b[f];return y!==void 0?!!y:r(b)},g=!p||!u("concat");return t({target:"Array",proto:!0,arity:1,forced:g},{concat:function(y){var v=i(this),x=l(v,0),w=0,_,E,O,S,T;for(_=-1,O=arguments.length;_<O;_++)if(T=_===-1?v:arguments[_],m(T))for(S=s(T),o(w+S),E=0;E<S;E++,w++)E in T&&a(x,w,T[E]);else o(w+1),a(x,w++,T);return x.length=w,x}}),zL}var eB={},tB={},Rw,rB;function kn(){if(rB)return Rw;rB=1;var t=Pu(),e=String;return Rw=function(r){if(t(r)==="Symbol")throw new TypeError("Cannot convert a Symbol value to a string");return e(r)},Rw}var Nw={},nB;function XC(){if(nB)return Nw;nB=1;var t=It(),e=N9(),r=jn(),n=Si(),i=ti(),s=Ud();return Nw.f=t&&!e?Object.defineProperties:function(a,l){n(a);for(var u=i(l),c=s(l),d=c.length,f=0,p;d>f;)r.f(a,p=c[f++],u[p]);return a},Nw}var $w,iB;function pce(){if(iB)return $w;iB=1;var t=mn();return $w=t("document","documentElement"),$w}var jw,sB;function Gp(){if(sB)return jw;sB=1;var t=_u(),e=zp(),r=t("keys");return jw=function(n){return r[n]||(r[n]=e(n))},jw}var kw,oB;function Hd(){if(oB)return kw;oB=1;var t=Si(),e=XC(),r=KC(),n=zd(),i=pce(),s=I9(),o=Gp(),a=">",l="<",u="prototype",c="script",d=o("IE_PROTO"),f=function(){},p=function(v){return l+c+a+v+l+"/"+c+a},m=function(v){v.write(p("")),v.close();var x=v.parentWindow.Object;return v=null,x},g=function(){var v=s("iframe"),x="java"+c+":",w;return v.style.display="none",i.appendChild(v),v.src=String(x),w=v.contentWindow.document,w.open(),w.write(p("document.F=Object")),w.close(),w.F},b,y=function(){try{b=new ActiveXObject("htmlfile")}catch{}y=typeof document<"u"?document.domain&&b?m(b):g():m(b);for(var v=r.length;v--;)delete y[u][r[v]];return y()};return n[d]=!0,kw=Object.create||function(x,w){var _;return x!==null?(f[u]=t(x),_=new f,f[u]=null,_[d]=x):_=y(),w===void 0?_:e.f(_,w)},kw}var Dw={},aB;function Yp(){if(aB)return Dw;aB=1;var t=j9(),e=KC(),r=e.concat("length","prototype");return Dw.f=Object.getOwnPropertyNames||function(i){return t(i,r)},Dw}var qw={},lB;function JC(){if(lB)return qw;lB=1;var t=_i(),e=ti(),r=Yp().f,n=Ou(),i=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],s=function(o){try{return r(o)}catch{return n(i)}};return qw.f=function(a){return i&&t(a)==="Window"?s(a):r(e(a))},qw}var Mw,uB;function Vd(){if(uB)return Mw;uB=1;var t=Su();return Mw=function(e,r,n,i){return i&&i.enumerable?e[r]=n:t(e,r,n),e},Mw}var Aw,cB;function ZC(){if(cB)return Aw;cB=1;var t=jn();return Aw=function(e,r,n){return t.f(e,r,n)},Aw}var Fw={},dB;function Qp(){if(dB)return Fw;dB=1;var t=Ft();return Fw.f=t,Fw}var Lw,hB;function vt(){if(hB)return Lw;hB=1;var t=Ve(),e=dr(),r=Qp(),n=jn().f;return Lw=function(i){var s=t.Symbol||(t.Symbol={});e(s,i)||n(s,i,{value:r.f(i)})},Lw}var Bw,fB;function B9(){if(fB)return Bw;fB=1;var t=nn(),e=mn(),r=Ft(),n=Vd();return Bw=function(){var i=e("Symbol"),s=i&&i.prototype,o=s&&s.valueOf,a=r("toPrimitive");s&&!s[a]&&n(s,a,function(l){return t(o,this)},{arity:1})},Bw}var zw,pB;function mce(){if(pB)return zw;pB=1;var t=YC(),e=Pu();return zw=t?{}.toString:function(){return"[object "+e(this)+"]"},zw}var Uw,mB;function Oa(){if(mB)return Uw;mB=1;var t=YC(),e=jn().f,r=Su(),n=dr(),i=mce(),s=Ft(),o=s("toStringTag");return Uw=function(a,l,u,c){var d=u?a:a&&a.prototype;d&&(n(d,o)||e(d,o,{configurable:!0,value:l}),c&&!t&&r(d,"toString",i))},Uw}var Ww,vB;function z9(){if(vB)return Ww;vB=1;var t=ut(),e=rr(),r=t.WeakMap;return Ww=e(r)&&/native code/.test(String(r)),Ww}var Hw,yB;function Pa(){if(yB)return Hw;yB=1;var t=z9(),e=ut(),r=nr(),n=Su(),i=dr(),s=WC(),o=Gp(),a=zd(),l="Object already initialized",u=e.TypeError,c=e.WeakMap,d,f,p,m=function(v){return p(v)?f(v):d(v,{})},g=function(v){return function(x){var w;if(!r(x)||(w=f(x)).type!==v)throw new u("Incompatible receiver, "+v+" required");return w}};if(t||s.state){var b=s.state||(s.state=new c);b.get=b.get,b.has=b.has,b.set=b.set,d=function(v,x){if(b.has(v))throw new u(l);return x.facade=v,b.set(v,x),x},f=function(v){return b.get(v)||{}},p=function(v){return b.has(v)}}else{var y=o("state");a[y]=!0,d=function(v,x){if(i(v,y))throw new u(l);return x.facade=v,n(v,y,x),x},f=function(v){return i(v,y)?v[y]:{}},p=function(v){return i(v,y)}}return Hw={set:d,get:f,has:p,enforce:m,getterFor:g},Hw}var Vw,gB;function co(){if(gB)return Vw;gB=1;var t=Wp(),e=Ae(),r=Bp(),n=vn(),i=as(),s=QC(),o=e([].push),a=function(l){var u=l===1,c=l===2,d=l===3,f=l===4,p=l===6,m=l===7,g=l===5||p;return function(b,y,v,x){for(var w=n(b),_=r(w),E=i(_),O=t(y,v),S=0,T=x||s,P=u?T(b,E):c||m?T(b,0):void 0,R,C;E>S;S++)if((g||S in _)&&(R=_[S],C=O(R,S,w),l))if(u)P[S]=C;else if(C)switch(l){case 3:return!0;case 5:return R;case 6:return S;case 2:o(P,R)}else switch(l){case 4:return!1;case 7:o(P,R)}return p?-1:d||f?f:P}};return Vw={forEach:a(0),map:a(1),filter:a(2),some:a(3),every:a(4),find:a(5),findIndex:a(6),filterReject:a(7)},Vw}var bB;function vce(){if(bB)return tB;bB=1;var t=ge(),e=ut(),r=nn(),n=Ae(),i=xu(),s=It(),o=bu(),a=qe(),l=dr(),u=At(),c=Si(),d=ti(),f=HC(),p=kn(),m=Fd(),g=Hd(),b=Ud(),y=Yp(),v=JC(),x=Vp(),w=Up(),_=jn(),E=XC(),O=Lp(),S=Vd(),T=ZC(),P=_u(),R=Gp(),C=zd(),I=zp(),q=Ft(),B=Qp(),re=vt(),Q=B9(),L=Oa(),G=Pa(),U=co().forEach,z=R("hidden"),te="Symbol",fe="prototype",ye=G.set,ke=G.getterFor(te),be=Object[fe],we=e.Symbol,Ie=we&&we[fe],yt=e.RangeError,rt=e.TypeError,gt=e.QObject,xr=w.f,Qe=_.f,nt=v.f,yn=O.f,Ar=n([].push),Ke=P("symbols"),Lt=P("op-symbols"),ri=P("wks"),Bt=!gt||!gt[fe]||!gt[fe].findChild,$=function(K,W,V){var Y=xr(be,W);Y&&delete be[W],Qe(K,W,V),Y&&K!==be&&Qe(be,W,Y)},D=s&&a(function(){return g(Qe({},"a",{get:function(){return Qe(this,"a",{value:7}).a}})).a!==7})?$:Qe,F=function(K,W){var V=Ke[K]=g(Ie);return ye(V,{type:te,tag:K,description:W}),s||(V.description=W),V},oe=function(W,V,Y){W===be&&oe(Lt,V,Y),c(W);var pe=f(V);return c(Y),l(Ke,pe)?(Y.enumerable?(l(W,z)&&W[z][pe]&&(W[z][pe]=!1),Y=g(Y,{enumerable:m(0,!1)})):(l(W,z)||Qe(W,z,m(1,g(null))),W[z][pe]=!0),D(W,pe,Y)):Qe(W,pe,Y)},ne=function(W,V){c(W);var Y=d(V),pe=b(Y).concat(le(Y));return U(pe,function($e){(!s||r(de,Y,$e))&&oe(W,$e,Y[$e])}),W},X=function(W,V){return V===void 0?g(W):ne(g(W),V)},de=function(W){var V=f(W),Y=r(yn,this,V);return this===be&&l(Ke,V)&&!l(Lt,V)?!1:Y||!l(this,V)||!l(Ke,V)||l(this,z)&&this[z][V]?Y:!0},k=function(W,V){var Y=d(W),pe=f(V);if(!(Y===be&&l(Ke,pe)&&!l(Lt,pe))){var $e=xr(Y,pe);return $e&&l(Ke,pe)&&!(l(Y,z)&&Y[z][pe])&&($e.enumerable=!0),$e}},H=function(W){var V=nt(d(W)),Y=[];return U(V,function(pe){!l(Ke,pe)&&!l(C,pe)&&Ar(Y,pe)}),Y},le=function(K){var W=K===be,V=nt(W?Lt:d(K)),Y=[];return U(V,function(pe){l(Ke,pe)&&(!W||l(be,pe))&&Ar(Y,Ke[pe])}),Y};return o||(we=function(){if(u(Ie,this))throw new rt("Symbol is not a constructor");var W=!arguments.length||arguments[0]===void 0?void 0:p(arguments[0]),V=I(W),Y=function(pe){var $e=this===void 0?e:this;$e===be&&r(Y,Lt,pe),l($e,z)&&l($e[z],V)&&($e[z][V]=!1);var Vt=m(1,pe);try{D($e,V,Vt)}catch(_r){if(!(_r instanceof yt))throw _r;$($e,V,Vt)}};return s&&Bt&&D(be,V,{configurable:!0,set:Y}),F(V,W)},Ie=we[fe],S(Ie,"toString",function(){return ke(this).tag}),S(we,"withoutSetter",function(K){return F(I(K),K)}),O.f=de,_.f=oe,E.f=ne,w.f=k,y.f=v.f=H,x.f=le,B.f=function(K){return F(q(K),K)},s&&(T(Ie,"description",{configurable:!0,get:function(){return ke(this).description}}),i||S(be,"propertyIsEnumerable",de,{unsafe:!0}))),t({global:!0,constructor:!0,wrap:!0,forced:!o,sham:!o},{Symbol:we}),U(b(ri),function(K){re(K)}),t({target:te,stat:!0,forced:!o},{useSetter:function(){Bt=!0},useSimple:function(){Bt=!1}}),t({target:"Object",stat:!0,forced:!o,sham:!s},{create:X,defineProperty:oe,defineProperties:ne,getOwnPropertyDescriptor:k}),t({target:"Object",stat:!0,forced:!o},{getOwnPropertyNames:H}),Q(),L(we,te),C[z]=!0,tB}var wB={},Kw,xB;function U9(){if(xB)return Kw;xB=1;var t=bu();return Kw=t&&!!Symbol.for&&!!Symbol.keyFor,Kw}var _B;function yce(){if(_B)return wB;_B=1;var t=ge(),e=mn(),r=dr(),n=kn(),i=_u(),s=U9(),o=i("string-to-symbol-registry"),a=i("symbol-to-string-registry");return t({target:"Symbol",stat:!0,forced:!s},{for:function(l){var u=n(l);if(r(o,u))return o[u];var c=e("Symbol")(u);return o[u]=c,a[c]=u,c}}),wB}var SB={},EB;function gce(){if(EB)return SB;EB=1;var t=ge(),e=dr(),r=Bd(),n=wu(),i=_u(),s=U9(),o=i("symbol-to-string-registry");return t({target:"Symbol",stat:!0,forced:!s},{keyFor:function(l){if(!r(l))throw new TypeError(n(l)+" is not a symbol");if(e(o,l))return o[l]}}),SB}var OB={},Gw,PB;function bce(){if(PB)return Gw;PB=1;var t=Ae(),e=Ea(),r=rr(),n=_i(),i=kn(),s=t([].push);return Gw=function(o){if(r(o))return o;if(e(o)){for(var a=o.length,l=[],u=0;u<a;u++){var c=o[u];typeof c=="string"?s(l,c):(typeof c=="number"||n(c)==="Number"||n(c)==="String")&&s(l,i(c))}var d=l.length,f=!0;return function(p,m){if(f)return f=!1,m;if(e(this))return m;for(var g=0;g<d;g++)if(l[g]===p)return m}}},Gw}var TB;function W9(){if(TB)return OB;TB=1;var t=ge(),e=mn(),r=Fp(),n=nn(),i=Ae(),s=qe(),o=rr(),a=Bd(),l=Ou(),u=bce(),c=bu(),d=String,f=e("JSON","stringify"),p=i(/./.exec),m=i("".charAt),g=i("".charCodeAt),b=i("".replace),y=i(1.1.toString),v=/[\uD800-\uDFFF]/g,x=/^[\uD800-\uDBFF]$/,w=/^[\uDC00-\uDFFF]$/,_=!c||s(function(){var T=e("Symbol")("stringify detection");return f([T])!=="[null]"||f({a:T})!=="{}"||f(Object(T))!=="{}"}),E=s(function(){return f("\uDF06\uD834")!=='"\\udf06\\ud834"'||f("\uDEAD")!=='"\\udead"'}),O=function(T,P){var R=l(arguments),C=u(P);if(!(!o(C)&&(T===void 0||a(T))))return R[1]=function(I,q){if(o(C)&&(q=n(C,this,d(I),q)),!a(q))return q},r(f,null,R)},S=function(T,P,R){var C=m(R,P-1),I=m(R,P+1);return p(x,T)&&!p(w,I)||p(w,T)&&!p(x,C)?"\\u"+y(g(T,0),16):T};return f&&t({target:"JSON",stat:!0,arity:3,forced:_||E},{stringify:function(P,R,C){var I=l(arguments),q=r(_?O:f,null,I);return E&&typeof q=="string"?b(q,v,S):q}}),OB}var CB={},IB;function wce(){if(IB)return CB;IB=1;var t=ge(),e=bu(),r=qe(),n=Vp(),i=vn(),s=!e||r(function(){n.f(1)});return t({target:"Object",stat:!0,forced:s},{getOwnPropertySymbols:function(a){var l=n.f;return l?l(i(a)):[]}}),CB}var RB;function H9(){return RB||(RB=1,vce(),yce(),gce(),W9(),wce()),eB}var NB={},$B;function V9(){if($B)return NB;$B=1;var t=vt();return t("asyncDispose"),NB}var jB={},kB;function xce(){if(kB)return jB;kB=1;var t=vt();return t("asyncIterator"),jB}var DB={},qB;function K9(){if(qB)return DB;qB=1;var t=vt();return t("dispose"),DB}var MB={},AB;function _ce(){if(AB)return MB;AB=1;var t=vt();return t("hasInstance"),MB}var FB={},LB;function Sce(){if(LB)return FB;LB=1;var t=vt();return t("isConcatSpreadable"),FB}var BB={},zB;function G9(){if(zB)return BB;zB=1;var t=vt();return t("iterator"),BB}var UB={},WB;function Ece(){if(WB)return UB;WB=1;var t=vt();return t("match"),UB}var HB={},VB;function Oce(){if(VB)return HB;VB=1;var t=vt();return t("matchAll"),HB}var KB={},GB;function Pce(){if(GB)return KB;GB=1;var t=vt();return t("replace"),KB}var YB={},QB;function Tce(){if(QB)return YB;QB=1;var t=vt();return t("search"),YB}var XB={},JB;function Cce(){if(JB)return XB;JB=1;var t=vt();return t("species"),XB}var ZB={},e4;function Ice(){if(e4)return ZB;e4=1;var t=vt();return t("split"),ZB}var t4={},r4;function Y9(){if(r4)return t4;r4=1;var t=vt(),e=B9();return t("toPrimitive"),e(),t4}var n4={},i4;function Rce(){if(i4)return n4;i4=1;var t=mn(),e=vt(),r=Oa();return e("toStringTag"),r(t("Symbol"),"Symbol"),n4}var s4={},o4;function Nce(){if(o4)return s4;o4=1;var t=vt();return t("unscopables"),s4}var a4={},l4;function $ce(){if(l4)return a4;l4=1;var t=ut(),e=Oa();return e(t.JSON,"JSON",!0),a4}var Yw,u4;function jce(){if(u4)return Yw;u4=1,L9(),H9(),V9(),xce(),K9(),_ce(),Sce(),G9(),Ece(),Oce(),Pce(),Tce(),Cce(),Ice(),Y9(),Rce(),Nce(),$ce();var t=Ve();return Yw=t.Symbol,Yw}var c4={},Qw,d4;function eI(){return d4||(d4=1,Qw=function(){}),Qw}var Xw,h4;function Tu(){return h4||(h4=1,Xw={}),Xw}var Jw,f4;function kce(){if(f4)return Jw;f4=1;var t=It(),e=dr(),r=Function.prototype,n=t&&Object.getOwnPropertyDescriptor,i=e(r,"name"),s=i&&(function(){}).name==="something",o=i&&(!t||t&&n(r,"name").configurable);return Jw={EXISTS:i,PROPER:s,CONFIGURABLE:o},Jw}var Zw,p4;function Q9(){if(p4)return Zw;p4=1;var t=qe();return Zw=!t(function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype}),Zw}var ex,m4;function Xp(){if(m4)return ex;m4=1;var t=dr(),e=rr(),r=vn(),n=Gp(),i=Q9(),s=n("IE_PROTO"),o=Object,a=o.prototype;return ex=i?o.getPrototypeOf:function(l){var u=r(l);if(t(u,s))return u[s];var c=u.constructor;return e(c)&&u instanceof c?c.prototype:u instanceof o?a:null},ex}var tx,v4;function X9(){if(v4)return tx;v4=1;var t=qe(),e=rr(),r=nr(),n=Hd(),i=Xp(),s=Vd(),o=Ft(),a=xu(),l=o("iterator"),u=!1,c,d,f;[].keys&&(f=[].keys(),"next"in f?(d=i(i(f)),d!==Object.prototype&&(c=d)):u=!0);var p=!r(c)||t(function(){var m={};return c[l].call(m)!==m});return p?c={}:a&&(c=n(c)),e(c[l])||s(c,l,function(){return this}),tx={IteratorPrototype:c,BUGGY_SAFARI_ITERATORS:u},tx}var rx,y4;function Dce(){if(y4)return rx;y4=1;var t=X9().IteratorPrototype,e=Hd(),r=Fd(),n=Oa(),i=Tu(),s=function(){return this};return rx=function(o,a,l,u){var c=a+" Iterator";return o.prototype=e(t,{next:r(+!u,l)}),n(o,c,!1,!0),i[c]=s,o},rx}var nx,g4;function qce(){if(g4)return nx;g4=1;var t=Ae(),e=os();return nx=function(r,n,i){try{return t(e(Object.getOwnPropertyDescriptor(r,n)[i]))}catch{}},nx}var ix,b4;function Mce(){if(b4)return ix;b4=1;var t=nr();return ix=function(e){return t(e)||e===null},ix}var sx,w4;function Ace(){if(w4)return sx;w4=1;var t=Mce(),e=String,r=TypeError;return sx=function(n){if(t(n))return n;throw new r("Can't set "+e(n)+" as a prototype")},sx}var ox,x4;function Fce(){if(x4)return ox;x4=1;var t=qce(),e=nr(),r=ss(),n=Ace();return ox=Object.setPrototypeOf||("__proto__"in{}?function(){var i=!1,s={},o;try{o=t(Object.prototype,"__proto__","set"),o(s,[]),i=s instanceof Array}catch{}return function(l,u){return r(l),n(u),e(l)&&(i?o(l,u):l.__proto__=u),l}}():void 0),ox}var ax,_4;function tI(){if(_4)return ax;_4=1;var t=ge(),e=nn(),r=xu(),n=kce(),i=rr(),s=Dce(),o=Xp(),a=Fce(),l=Oa(),u=Su(),c=Vd(),d=Ft(),f=Tu(),p=X9(),m=n.PROPER,g=n.CONFIGURABLE,b=p.IteratorPrototype,y=p.BUGGY_SAFARI_ITERATORS,v=d("iterator"),x="keys",w="values",_="entries",E=function(){return this};return ax=function(O,S,T,P,R,C,I){s(T,S,P);var q=function(ye){if(ye===R&&G)return G;if(!y&&ye&&ye in Q)return Q[ye];switch(ye){case x:return function(){return new T(this,ye)};case w:return function(){return new T(this,ye)};case _:return function(){return new T(this,ye)}}return function(){return new T(this)}},B=S+" Iterator",re=!1,Q=O.prototype,L=Q[v]||Q["@@iterator"]||R&&Q[R],G=!y&&L||q(R),U=S==="Array"&&Q.entries||L,z,te,fe;if(U&&(z=o(U.call(new O)),z!==Object.prototype&&z.next&&(!r&&o(z)!==b&&(a?a(z,b):i(z[v])||c(z,v,E)),l(z,B,!0,!0),r&&(f[B]=E))),m&&R===w&&L&&L.name!==w&&(!r&&g?u(Q,"name",w):(re=!0,G=function(){return e(L,this)})),R)if(te={values:q(w),keys:C?G:q(x),entries:q(_)},I)for(fe in te)(y||re||!(fe in Q))&&c(Q,fe,te[fe]);else t({target:S,proto:!0,forced:y||re},te);return(!r||I)&&Q[v]!==G&&c(Q,v,G,{name:R}),f[S]=G,te},ax}var lx,S4;function rI(){return S4||(S4=1,lx=function(t,e){return{value:t,done:e}}),lx}var ux,E4;function Cu(){if(E4)return ux;E4=1;var t=ti(),e=eI(),r=Tu(),n=Pa(),i=jn().f,s=tI(),o=rI(),a=xu(),l=It(),u="Array Iterator",c=n.set,d=n.getterFor(u);ux=s(Array,"Array",function(p,m){c(this,{type:u,target:t(p),index:0,kind:m})},function(){var p=d(this),m=p.target,g=p.index++;if(!m||g>=m.length)return p.target=null,o(void 0,!0);switch(p.kind){case"keys":return o(g,!1);case"values":return o(m[g],!1)}return o([g,m[g]],!1)},"values");var f=r.Arguments=r.Array;if(e("keys"),e("values"),e("entries"),!a&&l&&f.name!=="values")try{i(f,"name",{value:"values"})}catch{}return ux}var cx,O4;function Lce(){return O4||(O4=1,cx={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}),cx}var P4;function Iu(){if(P4)return c4;P4=1,Cu();var t=Lce(),e=ut(),r=Oa(),n=Tu();for(var i in t)r(e[i],i),n[i]=n.Array;return c4}var dx,T4;function J9(){if(T4)return dx;T4=1;var t=jce();return Iu(),dx=t,dx}var hx,C4;function Bce(){return C4||(C4=1,hx=J9()),hx}var zce=Bce(),Uce=Ee(zce),I4={},R4;function Wce(){if(R4)return I4;R4=1;var t=ge(),e=Ea(),r=F9(),n=nr(),i=Hp(),s=as(),o=ti(),a=Kp(),l=Ft(),u=Wd(),c=Ou(),d=u("slice"),f=l("species"),p=Array,m=Math.max;return t({target:"Array",proto:!0,forced:!d},{slice:function(b,y){var v=o(this),x=s(v),w=i(b,x),_=i(y===void 0?x:y,x),E,O,S;if(e(v)&&(E=v.constructor,r(E)&&(E===p||e(E.prototype))?E=void 0:n(E)&&(E=E[f],E===null&&(E=void 0)),E===p||E===void 0))return c(v,w,_);for(O=new(E===void 0?p:E)(m(_-w,0)),S=0;w<_;w++,S++)w in v&&a(O,S,v[w]);return O.length=S,O}}),I4}var fx,N4;function Hce(){if(N4)return fx;N4=1,Wce();var t=hr();return fx=t("Array","slice"),fx}var px,$4;function Vce(){if($4)return px;$4=1;var t=At(),e=Hce(),r=Array.prototype;return px=function(n){var i=n.slice;return n===r||t(r,n)&&i===r.slice?e:i},px}var mx,j4;function Kce(){if(j4)return mx;j4=1;var t=Vce();return mx=t,mx}var vx,k4;function Gce(){return k4||(k4=1,vx=Kce()),vx}var Yce=Gce(),hi=Ee(Yce),yx,D4;function Qce(){if(D4)return yx;D4=1;var t=mn(),e=Ae(),r=Yp(),n=Vp(),i=Si(),s=e([].concat);return yx=t("Reflect","ownKeys")||function(a){var l=r.f(i(a)),u=n.f;return u?s(l,u(a)):l},yx}var q4={},M4;function Xce(){if(M4)return q4;M4=1;var t=ge(),e=Ea();return t({target:"Array",stat:!0},{isArray:e}),q4}var gx,A4;function Jce(){if(A4)return gx;A4=1,Xce();var t=Ve();return gx=t.Array.isArray,gx}var bx,F4;function Zce(){if(F4)return bx;F4=1;var t=Jce();return bx=t,bx}var wx,L4;function ede(){return L4||(L4=1,wx=Zce()),wx}var tde=ede(),Ot=Ee(tde),B4={},z4;function rde(){if(z4)return B4;z4=1;var t=ge(),e=co().map,r=Wd(),n=r("map");return t({target:"Array",proto:!0,forced:!n},{map:function(s){return e(this,s,arguments.length>1?arguments[1]:void 0)}}),B4}var xx,U4;function nde(){if(U4)return xx;U4=1,rde();var t=hr();return xx=t("Array","map"),xx}var _x,W4;function ide(){if(W4)return _x;W4=1;var t=At(),e=nde(),r=Array.prototype;return _x=function(n){var i=n.map;return n===r||t(r,n)&&i===r.map?e:i},_x}var Sx,H4;function sde(){if(H4)return Sx;H4=1;var t=ide();return Sx=t,Sx}var Ex,V4;function ode(){return V4||(V4=1,Ex=sde()),Ex}var ade=ode(),Vl=Ee(ade),K4={},G4;function lde(){if(G4)return K4;G4=1;var t=ge(),e=vn(),r=Ud(),n=qe(),i=n(function(){r(1)});return t({target:"Object",stat:!0,forced:i},{keys:function(o){return r(e(o))}}),K4}var Ox,Y4;function ude(){if(Y4)return Ox;Y4=1,lde();var t=Ve();return Ox=t.Object.keys,Ox}var Px,Q4;function cde(){if(Q4)return Px;Q4=1;var t=ude();return Px=t,Px}var Tx,X4;function dde(){return X4||(X4=1,Tx=cde()),Tx}var hde=dde(),_t=Ee(hde),J4={},Z4;function fde(){if(Z4)return J4;Z4=1;var t=ge(),e=Ae(),r=Date,n=e(r.prototype.getTime);return t({target:"Date",stat:!0},{now:function(){return n(new r)}}),J4}var Cx,e3;function pde(){if(e3)return Cx;e3=1,fde();var t=Ve();return Cx=t.Date.now,Cx}var Ix,t3;function mde(){if(t3)return Ix;t3=1;var t=pde();return Ix=t,Ix}var Rx,r3;function vde(){return r3||(r3=1,Rx=mde()),Rx}var yde=vde(),zf=Ee(yde),n3={},Nx,i3;function Ru(){if(i3)return Nx;i3=1;var t=qe();return Nx=function(e,r){var n=[][e];return!!n&&t(function(){n.call(null,r||function(){return 1},1)})},Nx}var $x,s3;function gde(){if(s3)return $x;s3=1;var t=co().forEach,e=Ru(),r=e("forEach");return $x=r?[].forEach:function(i){return t(this,i,arguments.length>1?arguments[1]:void 0)},$x}var o3;function bde(){if(o3)return n3;o3=1;var t=ge(),e=gde();return t({target:"Array",proto:!0,forced:[].forEach!==e},{forEach:e}),n3}var jx,a3;function wde(){if(a3)return jx;a3=1,bde();var t=hr();return jx=t("Array","forEach"),jx}var kx,l3;function xde(){if(l3)return kx;l3=1;var t=wde();return kx=t,kx}var Dx,u3;function _de(){if(u3)return Dx;u3=1;var t=Pu(),e=dr(),r=At(),n=xde(),i=Array.prototype,s={DOMTokenList:!0,NodeList:!0};return Dx=function(o){var a=o.forEach;return o===i||r(i,o)&&a===i.forEach||e(s,t(o))?n:a},Dx}var qx,c3;function Sde(){return c3||(c3=1,qx=_de()),qx}var Ede=Sde(),Ge=Ee(Ede),d3={},h3;function Ode(){if(h3)return d3;h3=1;var t=ge(),e=Ae(),r=Ea(),n=e([].reverse),i=[1,2];return t({target:"Array",proto:!0,forced:String(i)===String(i.reverse())},{reverse:function(){return r(this)&&(this.length=this.length),n(this)}}),d3}var Mx,f3;function Pde(){if(f3)return Mx;f3=1,Ode();var t=hr();return Mx=t("Array","reverse"),Mx}var Ax,p3;function Tde(){if(p3)return Ax;p3=1;var t=At(),e=Pde(),r=Array.prototype;return Ax=function(n){var i=n.reverse;return n===r||t(r,n)&&i===r.reverse?e:i},Ax}var Fx,m3;function Cde(){if(m3)return Fx;m3=1;var t=Tde();return Fx=t,Fx}var Lx,v3;function Ide(){return v3||(v3=1,Lx=Cde()),Lx}var Rde=Ide(),Uo=Ee(Rde),y3={},Bx,g3;function Nde(){if(g3)return Bx;g3=1;var t=It(),e=Ea(),r=TypeError,n=Object.getOwnPropertyDescriptor,i=t&&!function(){if(this!==void 0)return!0;try{Object.defineProperty([],"length",{writable:!1}).length=1}catch(s){return s instanceof TypeError}}();return Bx=i?function(s,o){if(e(s)&&!n(s,"length").writable)throw new r("Cannot set read only .length");return s.length=o}:function(s,o){return s.length=o},Bx}var zx,b3;function Z9(){if(b3)return zx;b3=1;var t=wu(),e=TypeError;return zx=function(r,n){if(!delete r[n])throw new e("Cannot delete property "+t(n)+" of "+t(r))},zx}var w3;function $de(){if(w3)return y3;w3=1;var t=ge(),e=vn(),r=Hp(),n=Eu(),i=as(),s=Nde(),o=A9(),a=QC(),l=Kp(),u=Z9(),c=Wd(),d=c("splice"),f=Math.max,p=Math.min;return t({target:"Array",proto:!0,forced:!d},{splice:function(g,b){var y=e(this),v=i(y),x=r(g,v),w=arguments.length,_,E,O,S,T,P;for(w===0?_=E=0:w===1?(_=0,E=v-x):(_=w-2,E=p(f(n(b),0),v-x)),o(v+_-E),O=a(y,E),S=0;S<E;S++)T=x+S,T in y&&l(O,S,y[T]);if(O.length=E,_<E){for(S=x;S<v-E;S++)T=S+E,P=S+_,T in y?y[P]=y[T]:u(y,P);for(S=v;S>v-E+_;S--)u(y,S-1)}else if(_>E)for(S=v-E;S>x;S--)T=S+E-1,P=S+_-1,T in y?y[P]=y[T]:u(y,P);for(S=0;S<_;S++)y[S+x]=arguments[S+2];return s(y,v-E+_),O}}),y3}var Ux,x3;function jde(){if(x3)return Ux;x3=1,$de();var t=hr();return Ux=t("Array","splice"),Ux}var Wx,_3;function kde(){if(_3)return Wx;_3=1;var t=At(),e=jde(),r=Array.prototype;return Wx=function(n){var i=n.splice;return n===r||t(r,n)&&i===r.splice?e:i},Wx}var Hx,S3;function Dde(){if(S3)return Hx;S3=1;var t=kde();return Hx=t,Hx}var Vx,E3;function qde(){return E3||(E3=1,Vx=Dde()),Vx}var Mde=qde(),Li=Ee(Mde),O3={},P3;function Ade(){if(P3)return O3;P3=1;var t=ge(),e=VC().includes,r=qe(),n=eI(),i=r(function(){return!Array(1).includes()});return t({target:"Array",proto:!0,forced:i},{includes:function(o){return e(this,o,arguments.length>1?arguments[1]:void 0)}}),n("includes"),O3}var Kx,T3;function Fde(){if(T3)return Kx;T3=1,Ade();var t=hr();return Kx=t("Array","includes"),Kx}var C3={},Gx,I3;function Lde(){if(I3)return Gx;I3=1;var t=nr(),e=_i(),r=Ft(),n=r("match");return Gx=function(i){var s;return t(i)&&((s=i[n])!==void 0?!!s:e(i)==="RegExp")},Gx}var Yx,R3;function Bde(){if(R3)return Yx;R3=1;var t=Lde(),e=TypeError;return Yx=function(r){if(t(r))throw new e("The method doesn't accept regular expressions");return r},Yx}var Qx,N3;function zde(){if(N3)return Qx;N3=1;var t=Ft(),e=t("match");return Qx=function(r){var n=/./;try{"/./"[r](n)}catch{try{return n[e]=!1,"/./"[r](n)}catch{}}return!1},Qx}var $3;function Ude(){if($3)return C3;$3=1;var t=ge(),e=Ae(),r=Bde(),n=ss(),i=kn(),s=zde(),o=e("".indexOf);return t({target:"String",proto:!0,forced:!s("includes")},{includes:function(l){return!!~o(i(n(this)),i(r(l)),arguments.length>1?arguments[1]:void 0)}}),C3}var Xx,j3;function Wde(){if(j3)return Xx;j3=1,Ude();var t=hr();return Xx=t("String","includes"),Xx}var Jx,k3;function Hde(){if(k3)return Jx;k3=1;var t=At(),e=Fde(),r=Wde(),n=Array.prototype,i=String.prototype;return Jx=function(s){var o=s.includes;return s===n||t(n,s)&&o===n.includes?e:typeof s=="string"||s===i||t(i,s)&&o===i.includes?r:o},Jx}var Zx,D3;function Vde(){if(D3)return Zx;D3=1;var t=Hde();return Zx=t,Zx}var e_,q3;function Kde(){return q3||(q3=1,e_=Vde()),e_}var Gde=Kde(),Hs=Ee(Gde),M3={},A3;function Yde(){if(A3)return M3;A3=1;var t=ge(),e=qe(),r=vn(),n=Xp(),i=Q9(),s=e(function(){n(1)});return t({target:"Object",stat:!0,forced:s,sham:!i},{getPrototypeOf:function(a){return n(r(a))}}),M3}var t_,F3;function Qde(){if(F3)return t_;F3=1,Yde();var t=Ve();return t_=t.Object.getPrototypeOf,t_}var r_,L3;function Xde(){if(L3)return r_;L3=1;var t=Qde();return r_=t,r_}var n_,B3;function Jde(){return B3||(B3=1,n_=Xde()),n_}var Zde=Jde(),z3=Ee(Zde),i_,U3;function ehe(){if(U3)return i_;U3=1,L9();var t=hr();return i_=t("Array","concat"),i_}var s_,W3;function the(){if(W3)return s_;W3=1;var t=At(),e=ehe(),r=Array.prototype;return s_=function(n){var i=n.concat;return n===r||t(r,n)&&i===r.concat?e:i},s_}var o_,H3;function rhe(){if(H3)return o_;H3=1;var t=the();return o_=t,o_}var a_,V3;function nhe(){return V3||(V3=1,a_=rhe()),a_}var ihe=nhe(),she=Ee(ihe),K3={},G3;function ohe(){if(G3)return K3;G3=1;var t=ge(),e=co().filter,r=Wd(),n=r("filter");return t({target:"Array",proto:!0,forced:!n},{filter:function(s){return e(this,s,arguments.length>1?arguments[1]:void 0)}}),K3}var l_,Y3;function ahe(){if(Y3)return l_;Y3=1,ohe();var t=hr();return l_=t("Array","filter"),l_}var u_,Q3;function lhe(){if(Q3)return u_;Q3=1;var t=At(),e=ahe(),r=Array.prototype;return u_=function(n){var i=n.filter;return n===r||t(r,n)&&i===r.filter?e:i},u_}var c_,X3;function uhe(){if(X3)return c_;X3=1;var t=lhe();return c_=t,c_}var d_,J3;function che(){return J3||(J3=1,d_=uhe()),d_}var dhe=che(),Wr=Ee(dhe),Z3={},h_,ez;function hhe(){if(ez)return h_;ez=1;var t=It(),e=qe(),r=Ae(),n=Xp(),i=Ud(),s=ti(),o=Lp().f,a=r(o),l=r([].push),u=t&&e(function(){var d=Object.create(null);return d[2]=2,!a(d,2)}),c=function(d){return function(f){for(var p=s(f),m=i(p),g=u&&n(p)===null,b=m.length,y=0,v=[],x;b>y;)x=m[y++],(!t||(g?x in p:a(p,x)))&&l(v,d?[x,p[x]]:p[x]);return v}};return h_={entries:c(!0),values:c(!1)},h_}var tz;function fhe(){if(tz)return Z3;tz=1;var t=ge(),e=hhe().values;return t({target:"Object",stat:!0},{values:function(n){return e(n)}}),Z3}var f_,rz;function phe(){if(rz)return f_;rz=1,fhe();var t=Ve();return f_=t.Object.values,f_}var p_,nz;function mhe(){if(nz)return p_;nz=1;var t=phe();return p_=t,p_}var m_,iz;function vhe(){return iz||(iz=1,m_=mhe()),m_}var yhe=vhe(),ghe=Ee(yhe),sz={},v_,oz;function nI(){return oz||(oz=1,v_=`	
\v\f\r \u2028\u2029\uFEFF`),v_}var y_,az;function eG(){if(az)return y_;az=1;var t=Ae(),e=ss(),r=kn(),n=nI(),i=t("".replace),s=RegExp("^["+n+"]+"),o=RegExp("(^|[^"+n+"])["+n+"]+$"),a=function(l){return function(u){var c=r(e(u));return l&1&&(c=i(c,s,"")),l&2&&(c=i(c,o,"$1")),c}};return y_={start:a(1),end:a(2),trim:a(3)},y_}var g_,lz;function bhe(){if(lz)return g_;lz=1;var t=ut(),e=qe(),r=Ae(),n=kn(),i=eG().trim,s=nI(),o=t.parseInt,a=t.Symbol,l=a&&a.iterator,u=/^[+-]?0x/i,c=r(u.exec),d=o(s+"08")!==8||o(s+"0x16")!==22||l&&!e(function(){o(Object(l))});return g_=d?function(p,m){var g=i(n(p));return o(g,m>>>0||(c(u,g)?16:10))}:o,g_}var uz;function whe(){if(uz)return sz;uz=1;var t=ge(),e=bhe();return t({global:!0,forced:parseInt!==e},{parseInt:e}),sz}var b_,cz;function xhe(){if(cz)return b_;cz=1,whe();var t=Ve();return b_=t.parseInt,b_}var w_,dz;function _he(){if(dz)return w_;dz=1;var t=xhe();return w_=t,w_}var x_,hz;function She(){return hz||(hz=1,x_=_he()),x_}var Ehe=She(),Hn=Ee(Ehe),fz={},pz;function Ohe(){if(pz)return fz;pz=1;var t=ge(),e=zC(),r=VC().indexOf,n=Ru(),i=e([].indexOf),s=!!i&&1/i([1],1,-0)<0,o=s||!n("indexOf");return t({target:"Array",proto:!0,forced:o},{indexOf:function(l){var u=arguments.length>1?arguments[1]:void 0;return s?i(this,l,u)||0:r(this,l,u)}}),fz}var __,mz;function Phe(){if(mz)return __;mz=1,Ohe();var t=hr();return __=t("Array","indexOf"),__}var S_,vz;function The(){if(vz)return S_;vz=1;var t=At(),e=Phe(),r=Array.prototype;return S_=function(n){var i=n.indexOf;return n===r||t(r,n)&&i===r.indexOf?e:i},S_}var E_,yz;function Che(){if(yz)return E_;yz=1;var t=The();return E_=t,E_}var O_,gz;function Ihe(){return gz||(gz=1,O_=Che()),O_}var Rhe=Ihe(),Ue=Ee(Rhe),bz={},wz;function Nhe(){if(wz)return bz;wz=1;var t=ge(),e=It(),r=Hd();return t({target:"Object",stat:!0,sham:!e},{create:r}),bz}var P_,xz;function $he(){if(xz)return P_;xz=1,Nhe();var t=Ve(),e=t.Object;return P_=function(n,i){return e.create(n,i)},P_}var T_,_z;function jhe(){if(_z)return T_;_z=1;var t=$he();return T_=t,T_}var C_,Sz;function khe(){return Sz||(Sz=1,C_=jhe()),C_}var Dhe=khe(),Wo=Ee(Dhe),Ez={},I_,Oz;function qhe(){if(Oz)return I_;Oz=1;var t=Eu(),e=kn(),r=ss(),n=RangeError;return I_=function(s){var o=e(r(this)),a="",l=t(s);if(l<0||l===1/0)throw new n("Wrong number of repetitions");for(;l>0;(l>>>=1)&&(o+=o))l&1&&(a+=o);return a},I_}var R_,Pz;function Mhe(){if(Pz)return R_;Pz=1;var t=Ae(),e=$9(),r=kn(),n=qhe(),i=ss(),s=t(n),o=t("".slice),a=Math.ceil,l=function(u){return function(c,d,f){var p=r(i(c)),m=e(d),g=p.length,b=f===void 0?" ":r(f),y,v;return m<=g||b===""?p:(y=m-g,v=s(b,a(y/b.length)),v.length>y&&(v=o(v,0,y)),u?p+v:v+p)}};return R_={start:l(!1),end:l(!0)},R_}var N_,Tz;function Ahe(){if(Tz)return N_;Tz=1;var t=Ae(),e=qe(),r=Mhe().start,n=RangeError,i=isFinite,s=Math.abs,o=Date.prototype,a=o.toISOString,l=t(o.getTime),u=t(o.getUTCDate),c=t(o.getUTCFullYear),d=t(o.getUTCHours),f=t(o.getUTCMilliseconds),p=t(o.getUTCMinutes),m=t(o.getUTCMonth),g=t(o.getUTCSeconds);return N_=e(function(){return a.call(new Date(-5e13-1))!=="0385-07-25T07:06:39.999Z"})||!e(function(){a.call(new Date(NaN))})?function(){if(!i(l(this)))throw new n("Invalid time value");var y=this,v=c(y),x=f(y),w=v<0?"-":v>9999?"+":"";return w+r(s(v),w?6:4,0)+"-"+r(m(y)+1,2,0)+"-"+r(u(y),2,0)+"T"+r(d(y),2,0)+":"+r(p(y),2,0)+":"+r(g(y),2,0)+"."+r(x,3,0)+"Z"}:a,N_}var Cz;function Fhe(){if(Cz)return Ez;Cz=1;var t=ge(),e=nn(),r=vn(),n=C9(),i=Ahe(),s=_i(),o=qe(),a=o(function(){return new Date(NaN).toJSON()!==null||e(Date.prototype.toJSON,{toISOString:function(){return 1}})!==1});return t({target:"Date",proto:!0,forced:a},{toJSON:function(u){var c=r(this),d=n(c,"number");return typeof d=="number"&&!isFinite(d)?null:!("toISOString"in c)&&s(c)==="Date"?e(i,c):c.toISOString()}}),Ez}var $_,Iz;function Lhe(){if(Iz)return $_;Iz=1,Fhe(),W9();var t=Ve(),e=Fp();return t.JSON||(t.JSON={stringify:JSON.stringify}),$_=function(n,i,s){return e(t.JSON.stringify,null,arguments)},$_}var j_,Rz;function Bhe(){if(Rz)return j_;Rz=1;var t=Lhe();return j_=t,j_}var k_,Nz;function zhe(){return Nz||(Nz=1,k_=Bhe()),k_}var Uhe=zhe(),Kd=Ee(Uhe),$z={},jz={},D_,kz;function tG(){if(kz)return D_;kz=1;var t=ut(),e=gu(),r=_i(),n=function(i){return e.slice(0,i.length)===i};return D_=function(){return n("Bun/")?"BUN":n("Cloudflare-Workers")?"CLOUDFLARE":n("Deno/")?"DENO":n("Node.js/")?"NODE":t.Bun&&typeof Bun.version=="string"?"BUN":t.Deno&&typeof Deno.version=="object"?"DENO":r(t.process)==="process"?"NODE":t.window&&t.document?"BROWSER":"REST"}(),D_}var q_,Dz;function Whe(){if(Dz)return q_;Dz=1;var t=TypeError;return q_=function(e,r){if(e<r)throw new t("Not enough arguments");return e},q_}var M_,qz;function rG(){if(qz)return M_;qz=1;var t=ut(),e=Fp(),r=rr(),n=tG(),i=gu(),s=Ou(),o=Whe(),a=t.Function,l=/MSIE .\./.test(i)||n==="BUN"&&function(){var u=t.Bun.version.split(".");return u.length<3||u[0]==="0"&&(u[1]<3||u[1]==="3"&&u[2]==="0")}();return M_=function(u,c){var d=c?2:1;return l?function(f,p){var m=o(arguments.length,1)>d,g=r(f)?f:a(f),b=m?s(arguments,d):[],y=m?function(){e(g,this,b)}:g;return c?u(y,p):u(y)}:u},M_}var Mz;function Hhe(){if(Mz)return jz;Mz=1;var t=ge(),e=ut(),r=rG(),n=r(e.setInterval,!0);return t({global:!0,bind:!0,forced:e.setInterval!==n},{setInterval:n}),jz}var Az={},Fz;function Vhe(){if(Fz)return Az;Fz=1;var t=ge(),e=ut(),r=rG(),n=r(e.setTimeout,!0);return t({global:!0,bind:!0,forced:e.setTimeout!==n},{setTimeout:n}),Az}var Lz;function nG(){return Lz||(Lz=1,Hhe(),Vhe()),$z}var A_,Bz;function Khe(){if(Bz)return A_;Bz=1,nG();var t=Ve();return A_=t.setTimeout,A_}var F_,zz;function Ghe(){return zz||(zz=1,F_=Khe()),F_}var Yhe=Ghe(),Bi=Ee(Yhe),Uz={},L_,Wz;function Qhe(){if(Wz)return L_;Wz=1;var t=vn(),e=Hp(),r=as();return L_=function(i){for(var s=t(this),o=r(s),a=arguments.length,l=e(a>1?arguments[1]:void 0,o),u=a>2?arguments[2]:void 0,c=u===void 0?o:e(u,o);c>l;)s[l++]=i;return s},L_}var Hz;function Xhe(){if(Hz)return Uz;Hz=1;var t=ge(),e=Qhe(),r=eI();return t({target:"Array",proto:!0},{fill:e}),r("fill"),Uz}var B_,Vz;function Jhe(){if(Vz)return B_;Vz=1,Xhe();var t=hr();return B_=t("Array","fill"),B_}var z_,Kz;function Zhe(){if(Kz)return z_;Kz=1;var t=At(),e=Jhe(),r=Array.prototype;return z_=function(n){var i=n.fill;return n===r||t(r,n)&&i===r.fill?e:i},z_}var U_,Gz;function efe(){if(Gz)return U_;Gz=1;var t=Zhe();return U_=t,U_}var W_,Yz;function tfe(){return Yz||(Yz=1,W_=efe()),W_}var rfe=tfe(),Gd=Ee(rfe);/*! Hammer.JS - v2.0.17-rc - 2019-12-16
 * http://naver.github.io/egjs
 *
 * Forked By Naver egjs
 * Copyright (c) hammerjs
 * Licensed under the MIT license */function Jn(){return Jn=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Jn.apply(this,arguments)}function Dn(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}function Rh(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}var HP;typeof Object.assign!="function"?HP=function(e){if(e==null)throw new TypeError("Cannot convert undefined or null to object");for(var r=Object(e),n=1;n<arguments.length;n++){var i=arguments[n];if(i!=null)for(var s in i)i.hasOwnProperty(s)&&(r[s]=i[s])}return r}:HP=Object.assign;var la=HP,Qz=["","webkit","Moz","MS","ms","o"],nfe=typeof document>"u"?{style:{}}:document.createElement("div"),ife="function",il=Math.round,ua=Math.abs,iI=Date.now;function Jp(t,e){for(var r,n,i=e[0].toUpperCase()+e.slice(1),s=0;s<Qz.length;){if(r=Qz[s],n=r?r+i:e,n in t)return n;s++}}var zi;typeof window>"u"?zi={}:zi=window;var iG=Jp(nfe.style,"touchAction"),sG=iG!==void 0;function sfe(){if(!sG)return!1;var t={},e=zi.CSS&&zi.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach(function(r){return t[r]=e?zi.CSS.supports("touch-action",r):!0}),t}var oG="compute",aG="auto",VP="manipulation",Ho="none",Qc="pan-x",Xc="pan-y",Nh=sfe(),ofe=/mobile|tablet|ip(ad|hone|od)|android/i,lG="ontouchstart"in zi,afe=Jp(zi,"PointerEvent")!==void 0,lfe=lG&&ofe.test(navigator.userAgent),Yd="touch",ufe="pen",sI="mouse",cfe="kinect",dfe=25,jr=1,Ta=2,Dt=4,Zr=8,Uf=1,Qd=2,Xd=4,Jd=8,Kl=16,bi=Qd|Xd,Vo=Jd|Kl,uG=bi|Vo,cG=["x","y"],Wf=["clientX","clientY"];function Ui(t,e,r){var n;if(t)if(t.forEach)t.forEach(e,r);else if(t.length!==void 0)for(n=0;n<t.length;)e.call(r,t[n],n,t),n++;else for(n in t)t.hasOwnProperty(n)&&e.call(r,t[n],n,t)}function Zp(t,e){return typeof t===ife?t.apply(e&&e[0]||void 0,e):t}function To(t,e){return t.indexOf(e)>-1}function hfe(t){if(To(t,Ho))return Ho;var e=To(t,Qc),r=To(t,Xc);return e&&r?Ho:e||r?e?Qc:Xc:To(t,VP)?VP:aG}var dG=function(){function t(r,n){this.manager=r,this.set(n)}var e=t.prototype;return e.set=function(n){n===oG&&(n=this.compute()),sG&&this.manager.element.style&&Nh[n]&&(this.manager.element.style[iG]=n),this.actions=n.toLowerCase().trim()},e.update=function(){this.set(this.manager.options.touchAction)},e.compute=function(){var n=[];return Ui(this.manager.recognizers,function(i){Zp(i.options.enable,[i])&&(n=n.concat(i.getTouchAction()))}),hfe(n.join(" "))},e.preventDefaults=function(n){var i=n.srcEvent,s=n.offsetDirection;if(this.manager.session.prevented){i.preventDefault();return}var o=this.actions,a=To(o,Ho)&&!Nh[Ho],l=To(o,Xc)&&!Nh[Xc],u=To(o,Qc)&&!Nh[Qc];if(a){var c=n.pointers.length===1,d=n.distance<2,f=n.deltaTime<250;if(c&&d&&f)return}if(!(u&&l)&&(a||l&&s&bi||u&&s&Vo))return this.preventSrc(i)},e.preventSrc=function(n){this.manager.session.prevented=!0,n.preventDefault()},t}();function oI(t,e){for(;t;){if(t===e)return!0;t=t.parentNode}return!1}function hG(t){var e=t.length;if(e===1)return{x:il(t[0].clientX),y:il(t[0].clientY)};for(var r=0,n=0,i=0;i<e;)r+=t[i].clientX,n+=t[i].clientY,i++;return{x:il(r/e),y:il(n/e)}}function Xz(t){for(var e=[],r=0;r<t.pointers.length;)e[r]={clientX:il(t.pointers[r].clientX),clientY:il(t.pointers[r].clientY)},r++;return{timeStamp:iI(),pointers:e,center:hG(e),deltaX:t.deltaX,deltaY:t.deltaY}}function Hf(t,e,r){r||(r=cG);var n=e[r[0]]-t[r[0]],i=e[r[1]]-t[r[1]];return Math.sqrt(n*n+i*i)}function KP(t,e,r){r||(r=cG);var n=e[r[0]]-t[r[0]],i=e[r[1]]-t[r[1]];return Math.atan2(i,n)*180/Math.PI}function fG(t,e){return t===e?Uf:ua(t)>=ua(e)?t<0?Qd:Xd:e<0?Jd:Kl}function ffe(t,e){var r=e.center,n=t.offsetDelta||{},i=t.prevDelta||{},s=t.prevInput||{};(e.eventType===jr||s.eventType===Dt)&&(i=t.prevDelta={x:s.deltaX||0,y:s.deltaY||0},n=t.offsetDelta={x:r.x,y:r.y}),e.deltaX=i.x+(r.x-n.x),e.deltaY=i.y+(r.y-n.y)}function pG(t,e,r){return{x:e/t||0,y:r/t||0}}function pfe(t,e){return Hf(e[0],e[1],Wf)/Hf(t[0],t[1],Wf)}function mfe(t,e){return KP(e[1],e[0],Wf)+KP(t[1],t[0],Wf)}function vfe(t,e){var r=t.lastInterval||e,n=e.timeStamp-r.timeStamp,i,s,o,a;if(e.eventType!==Zr&&(n>dfe||r.velocity===void 0)){var l=e.deltaX-r.deltaX,u=e.deltaY-r.deltaY,c=pG(n,l,u);s=c.x,o=c.y,i=ua(c.x)>ua(c.y)?c.x:c.y,a=fG(l,u),t.lastInterval=e}else i=r.velocity,s=r.velocityX,o=r.velocityY,a=r.direction;e.velocity=i,e.velocityX=s,e.velocityY=o,e.direction=a}function yfe(t,e){var r=t.session,n=e.pointers,i=n.length;r.firstInput||(r.firstInput=Xz(e)),i>1&&!r.firstMultiple?r.firstMultiple=Xz(e):i===1&&(r.firstMultiple=!1);var s=r.firstInput,o=r.firstMultiple,a=o?o.center:s.center,l=e.center=hG(n);e.timeStamp=iI(),e.deltaTime=e.timeStamp-s.timeStamp,e.angle=KP(a,l),e.distance=Hf(a,l),ffe(r,e),e.offsetDirection=fG(e.deltaX,e.deltaY);var u=pG(e.deltaTime,e.deltaX,e.deltaY);e.overallVelocityX=u.x,e.overallVelocityY=u.y,e.overallVelocity=ua(u.x)>ua(u.y)?u.x:u.y,e.scale=o?pfe(o.pointers,n):1,e.rotation=o?mfe(o.pointers,n):0,e.maxPointers=r.prevInput?e.pointers.length>r.prevInput.maxPointers?e.pointers.length:r.prevInput.maxPointers:e.pointers.length,vfe(r,e);var c=t.element,d=e.srcEvent,f;d.composedPath?f=d.composedPath()[0]:d.path?f=d.path[0]:f=d.target,oI(f,c)&&(c=f),e.target=c}function gfe(t,e,r){var n=r.pointers.length,i=r.changedPointers.length,s=e&jr&&n-i===0,o=e&(Dt|Zr)&&n-i===0;r.isFirst=!!s,r.isFinal=!!o,s&&(t.session={}),r.eventType=e,yfe(t,r),t.emit("hammer.input",r),t.recognize(r),t.session.prevInput=r}function Jc(t){return t.trim().split(/\s+/g)}function mc(t,e,r){Ui(Jc(e),function(n){t.addEventListener(n,r,!1)})}function vc(t,e,r){Ui(Jc(e),function(n){t.removeEventListener(n,r,!1)})}function Jz(t){var e=t.ownerDocument||t;return e.defaultView||e.parentWindow||window}var Nu=function(){function t(r,n){var i=this;this.manager=r,this.callback=n,this.element=r.element,this.target=r.options.inputTarget,this.domHandler=function(s){Zp(r.options.enable,[r])&&i.handler(s)},this.init()}var e=t.prototype;return e.handler=function(){},e.init=function(){this.evEl&&mc(this.element,this.evEl,this.domHandler),this.evTarget&&mc(this.target,this.evTarget,this.domHandler),this.evWin&&mc(Jz(this.element),this.evWin,this.domHandler)},e.destroy=function(){this.evEl&&vc(this.element,this.evEl,this.domHandler),this.evTarget&&vc(this.target,this.evTarget,this.domHandler),this.evWin&&vc(Jz(this.element),this.evWin,this.domHandler)},t}();function ca(t,e,r){if(t.indexOf&&!r)return t.indexOf(e);for(var n=0;n<t.length;){if(r&&t[n][r]==e||!r&&t[n]===e)return n;n++}return-1}var bfe={pointerdown:jr,pointermove:Ta,pointerup:Dt,pointercancel:Zr,pointerout:Zr},wfe={2:Yd,3:ufe,4:sI,5:cfe},mG="pointerdown",vG="pointermove pointerup pointercancel";zi.MSPointerEvent&&!zi.PointerEvent&&(mG="MSPointerDown",vG="MSPointerMove MSPointerUp MSPointerCancel");var yG=function(t){Dn(e,t);function e(){var n,i=e.prototype;return i.evEl=mG,i.evWin=vG,n=t.apply(this,arguments)||this,n.store=n.manager.session.pointerEvents=[],n}var r=e.prototype;return r.handler=function(i){var s=this.store,o=!1,a=i.type.toLowerCase().replace("ms",""),l=bfe[a],u=wfe[i.pointerType]||i.pointerType,c=u===Yd,d=ca(s,i.pointerId,"pointerId");l&jr&&(i.button===0||c)?d<0&&(s.push(i),d=s.length-1):l&(Dt|Zr)&&(o=!0),!(d<0)&&(s[d]=i,this.callback(this.manager,l,{pointers:s,changedPointers:[i],pointerType:u,srcEvent:i}),o&&s.splice(d,1))},e}(Nu);function Zc(t){return Array.prototype.slice.call(t,0)}function aI(t,e,r){for(var n=[],i=[],s=0;s<t.length;){var o=e?t[s][e]:t[s];ca(i,o)<0&&n.push(t[s]),i[s]=o,s++}return r&&(e?n=n.sort(function(a,l){return a[e]>l[e]}):n=n.sort()),n}var xfe={touchstart:jr,touchmove:Ta,touchend:Dt,touchcancel:Zr},_fe="touchstart touchmove touchend touchcancel",lI=function(t){Dn(e,t);function e(){var n;return e.prototype.evTarget=_fe,n=t.apply(this,arguments)||this,n.targetIds={},n}var r=e.prototype;return r.handler=function(i){var s=xfe[i.type],o=Sfe.call(this,i,s);o&&this.callback(this.manager,s,{pointers:o[0],changedPointers:o[1],pointerType:Yd,srcEvent:i})},e}(Nu);function Sfe(t,e){var r=Zc(t.touches),n=this.targetIds;if(e&(jr|Ta)&&r.length===1)return n[r[0].identifier]=!0,[r,r];var i,s,o=Zc(t.changedTouches),a=[],l=this.target;if(s=r.filter(function(u){return oI(u.target,l)}),e===jr)for(i=0;i<s.length;)n[s[i].identifier]=!0,i++;for(i=0;i<o.length;)n[o[i].identifier]&&a.push(o[i]),e&(Dt|Zr)&&delete n[o[i].identifier],i++;if(a.length)return[aI(s.concat(a),"identifier",!0),a]}var Efe={mousedown:jr,mousemove:Ta,mouseup:Dt},Ofe="mousedown",Pfe="mousemove mouseup",uI=function(t){Dn(e,t);function e(){var n,i=e.prototype;return i.evEl=Ofe,i.evWin=Pfe,n=t.apply(this,arguments)||this,n.pressed=!1,n}var r=e.prototype;return r.handler=function(i){var s=Efe[i.type];s&jr&&i.button===0&&(this.pressed=!0),s&Ta&&i.which!==1&&(s=Dt),this.pressed&&(s&Dt&&(this.pressed=!1),this.callback(this.manager,s,{pointers:[i],changedPointers:[i],pointerType:sI,srcEvent:i}))},e}(Nu),Tfe=2500,Zz=25;function e5(t){var e=t.changedPointers,r=e[0];if(r.identifier===this.primaryTouch){var n={x:r.clientX,y:r.clientY},i=this.lastTouches;this.lastTouches.push(n);var s=function(){var a=i.indexOf(n);a>-1&&i.splice(a,1)};setTimeout(s,Tfe)}}function Cfe(t,e){t&jr?(this.primaryTouch=e.changedPointers[0].identifier,e5.call(this,e)):t&(Dt|Zr)&&e5.call(this,e)}function Ife(t){for(var e=t.srcEvent.clientX,r=t.srcEvent.clientY,n=0;n<this.lastTouches.length;n++){var i=this.lastTouches[n],s=Math.abs(e-i.x),o=Math.abs(r-i.y);if(s<=Zz&&o<=Zz)return!0}return!1}var gG=function(){var t=function(e){Dn(r,e);function r(i,s){var o;return o=e.call(this,i,s)||this,o.handler=function(a,l,u){var c=u.pointerType===Yd,d=u.pointerType===sI;if(!(d&&u.sourceCapabilities&&u.sourceCapabilities.firesTouchEvents)){if(c)Cfe.call(Rh(Rh(o)),l,u);else if(d&&Ife.call(Rh(Rh(o)),u))return;o.callback(a,l,u)}},o.touch=new lI(o.manager,o.handler),o.mouse=new uI(o.manager,o.handler),o.primaryTouch=null,o.lastTouches=[],o}var n=r.prototype;return n.destroy=function(){this.touch.destroy(),this.mouse.destroy()},r}(Nu);return t}();function Rfe(t){var e,r=t.options.inputClass;return r?e=r:afe?e=yG:lfe?e=lI:lG?e=gG:e=uI,new e(t,gfe)}function sl(t,e,r){return Array.isArray(t)?(Ui(t,r[e],r),!0):!1}var Jh=1,Cn=2,Gl=4,Vs=8,Wi=Vs,ed=16,pi=32,Nfe=1;function $fe(){return Nfe++}function $h(t,e){var r=e.manager;return r?r.get(t):t}function t5(t){return t&ed?"cancel":t&Vs?"end":t&Gl?"move":t&Cn?"start":""}var Zd=function(){function t(r){r===void 0&&(r={}),this.options=Jn({enable:!0},r),this.id=$fe(),this.manager=null,this.state=Jh,this.simultaneous={},this.requireFail=[]}var e=t.prototype;return e.set=function(n){return la(this.options,n),this.manager&&this.manager.touchAction.update(),this},e.recognizeWith=function(n){if(sl(n,"recognizeWith",this))return this;var i=this.simultaneous;return n=$h(n,this),i[n.id]||(i[n.id]=n,n.recognizeWith(this)),this},e.dropRecognizeWith=function(n){return sl(n,"dropRecognizeWith",this)?this:(n=$h(n,this),delete this.simultaneous[n.id],this)},e.requireFailure=function(n){if(sl(n,"requireFailure",this))return this;var i=this.requireFail;return n=$h(n,this),ca(i,n)===-1&&(i.push(n),n.requireFailure(this)),this},e.dropRequireFailure=function(n){if(sl(n,"dropRequireFailure",this))return this;n=$h(n,this);var i=ca(this.requireFail,n);return i>-1&&this.requireFail.splice(i,1),this},e.hasRequireFailures=function(){return this.requireFail.length>0},e.canRecognizeWith=function(n){return!!this.simultaneous[n.id]},e.emit=function(n){var i=this,s=this.state;function o(a){i.manager.emit(a,n)}s<Vs&&o(i.options.event+t5(s)),o(i.options.event),n.additionalEvent&&o(n.additionalEvent),s>=Vs&&o(i.options.event+t5(s))},e.tryEmit=function(n){if(this.canEmit())return this.emit(n);this.state=pi},e.canEmit=function(){for(var n=0;n<this.requireFail.length;){if(!(this.requireFail[n].state&(pi|Jh)))return!1;n++}return!0},e.recognize=function(n){var i=la({},n);if(!Zp(this.options.enable,[this,i])){this.reset(),this.state=pi;return}this.state&(Wi|ed|pi)&&(this.state=Jh),this.state=this.process(i),this.state&(Cn|Gl|Vs|ed)&&this.tryEmit(i)},e.process=function(n){},e.getTouchAction=function(){},e.reset=function(){},t}(),GP=function(t){Dn(e,t);function e(n){var i;return n===void 0&&(n={}),i=t.call(this,Jn({event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},n))||this,i.pTime=!1,i.pCenter=!1,i._timer=null,i._input=null,i.count=0,i}var r=e.prototype;return r.getTouchAction=function(){return[VP]},r.process=function(i){var s=this,o=this.options,a=i.pointers.length===o.pointers,l=i.distance<o.threshold,u=i.deltaTime<o.time;if(this.reset(),i.eventType&jr&&this.count===0)return this.failTimeout();if(l&&u&&a){if(i.eventType!==Dt)return this.failTimeout();var c=this.pTime?i.timeStamp-this.pTime<o.interval:!0,d=!this.pCenter||Hf(this.pCenter,i.center)<o.posThreshold;this.pTime=i.timeStamp,this.pCenter=i.center,!d||!c?this.count=1:this.count+=1,this._input=i;var f=this.count%o.taps;if(f===0)return this.hasRequireFailures()?(this._timer=setTimeout(function(){s.state=Wi,s.tryEmit()},o.interval),Cn):Wi}return pi},r.failTimeout=function(){var i=this;return this._timer=setTimeout(function(){i.state=pi},this.options.interval),pi},r.reset=function(){clearTimeout(this._timer)},r.emit=function(){this.state===Wi&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))},e}(Zd),Yl=function(t){Dn(e,t);function e(n){return n===void 0&&(n={}),t.call(this,Jn({pointers:1},n))||this}var r=e.prototype;return r.attrTest=function(i){var s=this.options.pointers;return s===0||i.pointers.length===s},r.process=function(i){var s=this.state,o=i.eventType,a=s&(Cn|Gl),l=this.attrTest(i);return a&&(o&Zr||!l)?s|ed:a||l?o&Dt?s|Vs:s&Cn?s|Gl:Cn:pi},e}(Zd);function bG(t){return t===Kl?"down":t===Jd?"up":t===Qd?"left":t===Xd?"right":""}var cI=function(t){Dn(e,t);function e(n){var i;return n===void 0&&(n={}),i=t.call(this,Jn({event:"pan",threshold:10,pointers:1,direction:uG},n))||this,i.pX=null,i.pY=null,i}var r=e.prototype;return r.getTouchAction=function(){var i=this.options.direction,s=[];return i&bi&&s.push(Xc),i&Vo&&s.push(Qc),s},r.directionTest=function(i){var s=this.options,o=!0,a=i.distance,l=i.direction,u=i.deltaX,c=i.deltaY;return l&s.direction||(s.direction&bi?(l=u===0?Uf:u<0?Qd:Xd,o=u!==this.pX,a=Math.abs(i.deltaX)):(l=c===0?Uf:c<0?Jd:Kl,o=c!==this.pY,a=Math.abs(i.deltaY))),i.direction=l,o&&a>s.threshold&&l&s.direction},r.attrTest=function(i){return Yl.prototype.attrTest.call(this,i)&&(this.state&Cn||!(this.state&Cn)&&this.directionTest(i))},r.emit=function(i){this.pX=i.deltaX,this.pY=i.deltaY;var s=bG(i.direction);s&&(i.additionalEvent=this.options.event+s),t.prototype.emit.call(this,i)},e}(Yl),wG=function(t){Dn(e,t);function e(n){return n===void 0&&(n={}),t.call(this,Jn({event:"swipe",threshold:10,velocity:.3,direction:bi|Vo,pointers:1},n))||this}var r=e.prototype;return r.getTouchAction=function(){return cI.prototype.getTouchAction.call(this)},r.attrTest=function(i){var s=this.options.direction,o;return s&(bi|Vo)?o=i.overallVelocity:s&bi?o=i.overallVelocityX:s&Vo&&(o=i.overallVelocityY),t.prototype.attrTest.call(this,i)&&s&i.offsetDirection&&i.distance>this.options.threshold&&i.maxPointers===this.options.pointers&&ua(o)>this.options.velocity&&i.eventType&Dt},r.emit=function(i){var s=bG(i.offsetDirection);s&&this.manager.emit(this.options.event+s,i),this.manager.emit(this.options.event,i)},e}(Yl),xG=function(t){Dn(e,t);function e(n){return n===void 0&&(n={}),t.call(this,Jn({event:"pinch",threshold:0,pointers:2},n))||this}var r=e.prototype;return r.getTouchAction=function(){return[Ho]},r.attrTest=function(i){return t.prototype.attrTest.call(this,i)&&(Math.abs(i.scale-1)>this.options.threshold||this.state&Cn)},r.emit=function(i){if(i.scale!==1){var s=i.scale<1?"in":"out";i.additionalEvent=this.options.event+s}t.prototype.emit.call(this,i)},e}(Yl),_G=function(t){Dn(e,t);function e(n){return n===void 0&&(n={}),t.call(this,Jn({event:"rotate",threshold:0,pointers:2},n))||this}var r=e.prototype;return r.getTouchAction=function(){return[Ho]},r.attrTest=function(i){return t.prototype.attrTest.call(this,i)&&(Math.abs(i.rotation)>this.options.threshold||this.state&Cn)},e}(Yl),SG=function(t){Dn(e,t);function e(n){var i;return n===void 0&&(n={}),i=t.call(this,Jn({event:"press",pointers:1,time:251,threshold:9},n))||this,i._timer=null,i._input=null,i}var r=e.prototype;return r.getTouchAction=function(){return[aG]},r.process=function(i){var s=this,o=this.options,a=i.pointers.length===o.pointers,l=i.distance<o.threshold,u=i.deltaTime>o.time;if(this._input=i,!l||!a||i.eventType&(Dt|Zr)&&!u)this.reset();else if(i.eventType&jr)this.reset(),this._timer=setTimeout(function(){s.state=Wi,s.tryEmit()},o.time);else if(i.eventType&Dt)return Wi;return pi},r.reset=function(){clearTimeout(this._timer)},r.emit=function(i){this.state===Wi&&(i&&i.eventType&Dt?this.manager.emit(this.options.event+"up",i):(this._input.timeStamp=iI(),this.manager.emit(this.options.event,this._input)))},e}(Zd),EG={domEvents:!1,touchAction:oG,enable:!0,inputTarget:null,inputClass:null,cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}},r5=[[_G,{enable:!1}],[xG,{enable:!1},["rotate"]],[wG,{direction:bi}],[cI,{direction:bi},["swipe"]],[GP],[GP,{event:"doubletap",taps:2},["tap"]],[SG]],jfe=1,n5=2;function i5(t,e){var r=t.element;if(r.style){var n;Ui(t.options.cssProps,function(i,s){n=Jp(r.style,s),e?(t.oldCssProps[n]=r.style[n],r.style[n]=i):r.style[n]=t.oldCssProps[n]||""}),e||(t.oldCssProps={})}}function kfe(t,e){var r=document.createEvent("Event");r.initEvent(t,!0,!0),r.gesture=e,e.target.dispatchEvent(r)}var s5=function(){function t(r,n){var i=this;this.options=la({},EG,n||{}),this.options.inputTarget=this.options.inputTarget||r,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=r,this.input=Rfe(this),this.touchAction=new dG(this,this.options.touchAction),i5(this,!0),Ui(this.options.recognizers,function(s){var o=i.add(new s[0](s[1]));s[2]&&o.recognizeWith(s[2]),s[3]&&o.requireFailure(s[3])},this)}var e=t.prototype;return e.set=function(n){return la(this.options,n),n.touchAction&&this.touchAction.update(),n.inputTarget&&(this.input.destroy(),this.input.target=n.inputTarget,this.input.init()),this},e.stop=function(n){this.session.stopped=n?n5:jfe},e.recognize=function(n){var i=this.session;if(!i.stopped){this.touchAction.preventDefaults(n);var s,o=this.recognizers,a=i.curRecognizer;(!a||a&&a.state&Wi)&&(i.curRecognizer=null,a=null);for(var l=0;l<o.length;)s=o[l],i.stopped!==n5&&(!a||s===a||s.canRecognizeWith(a))?s.recognize(n):s.reset(),!a&&s.state&(Cn|Gl|Vs)&&(i.curRecognizer=s,a=s),l++}},e.get=function(n){if(n instanceof Zd)return n;for(var i=this.recognizers,s=0;s<i.length;s++)if(i[s].options.event===n)return i[s];return null},e.add=function(n){if(sl(n,"add",this))return this;var i=this.get(n.options.event);return i&&this.remove(i),this.recognizers.push(n),n.manager=this,this.touchAction.update(),n},e.remove=function(n){if(sl(n,"remove",this))return this;var i=this.get(n);if(n){var s=this.recognizers,o=ca(s,i);o!==-1&&(s.splice(o,1),this.touchAction.update())}return this},e.on=function(n,i){if(n===void 0||i===void 0)return this;var s=this.handlers;return Ui(Jc(n),function(o){s[o]=s[o]||[],s[o].push(i)}),this},e.off=function(n,i){if(n===void 0)return this;var s=this.handlers;return Ui(Jc(n),function(o){i?s[o]&&s[o].splice(ca(s[o],i),1):delete s[o]}),this},e.emit=function(n,i){this.options.domEvents&&kfe(n,i);var s=this.handlers[n]&&this.handlers[n].slice();if(!(!s||!s.length)){i.type=n,i.preventDefault=function(){i.srcEvent.preventDefault()};for(var o=0;o<s.length;)s[o](i),o++}},e.destroy=function(){this.element&&i5(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null},t}(),Dfe={touchstart:jr,touchmove:Ta,touchend:Dt,touchcancel:Zr},qfe="touchstart",Mfe="touchstart touchmove touchend touchcancel",Afe=function(t){Dn(e,t);function e(){var n,i=e.prototype;return i.evTarget=qfe,i.evWin=Mfe,n=t.apply(this,arguments)||this,n.started=!1,n}var r=e.prototype;return r.handler=function(i){var s=Dfe[i.type];if(s===jr&&(this.started=!0),!!this.started){var o=Ffe.call(this,i,s);s&(Dt|Zr)&&o[0].length-o[1].length===0&&(this.started=!1),this.callback(this.manager,s,{pointers:o[0],changedPointers:o[1],pointerType:Yd,srcEvent:i})}},e}(Nu);function Ffe(t,e){var r=Zc(t.touches),n=Zc(t.changedTouches);return e&(Dt|Zr)&&(r=aI(r.concat(n),"identifier",!0)),[r,n]}function OG(t,e,r){var n="DEPRECATED METHOD: "+e+`
`+r+` AT 
`;return function(){var i=new Error("get-stack-trace"),s=i&&i.stack?i.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",o=window.console&&(window.console.warn||window.console.log);return o&&o.call(window.console,n,s),t.apply(this,arguments)}}var PG=OG(function(t,e,r){for(var n=Object.keys(e),i=0;i<n.length;)(!r||r&&t[n[i]]===void 0)&&(t[n[i]]=e[n[i]]),i++;return t},"extend","Use `assign`."),Lfe=OG(function(t,e){return PG(t,e,!0)},"merge","Use `assign`.");function Bfe(t,e,r){var n=e.prototype,i;i=t.prototype=Object.create(n),i.constructor=t,i._super=n,r&&la(i,r)}function o5(t,e){return function(){return t.apply(e,arguments)}}var TG=function(){var t=function(r,n){return n===void 0&&(n={}),new s5(r,Jn({recognizers:r5.concat()},n))};return t.VERSION="2.0.17-rc",t.DIRECTION_ALL=uG,t.DIRECTION_DOWN=Kl,t.DIRECTION_LEFT=Qd,t.DIRECTION_RIGHT=Xd,t.DIRECTION_UP=Jd,t.DIRECTION_HORIZONTAL=bi,t.DIRECTION_VERTICAL=Vo,t.DIRECTION_NONE=Uf,t.DIRECTION_DOWN=Kl,t.INPUT_START=jr,t.INPUT_MOVE=Ta,t.INPUT_END=Dt,t.INPUT_CANCEL=Zr,t.STATE_POSSIBLE=Jh,t.STATE_BEGAN=Cn,t.STATE_CHANGED=Gl,t.STATE_ENDED=Vs,t.STATE_RECOGNIZED=Wi,t.STATE_CANCELLED=ed,t.STATE_FAILED=pi,t.Manager=s5,t.Input=Nu,t.TouchAction=dG,t.TouchInput=lI,t.MouseInput=uI,t.PointerEventInput=yG,t.TouchMouseInput=gG,t.SingleTouchInput=Afe,t.Recognizer=Zd,t.AttrRecognizer=Yl,t.Tap=GP,t.Pan=cI,t.Swipe=wG,t.Pinch=xG,t.Rotate=_G,t.Press=SG,t.on=mc,t.off=vc,t.each=Ui,t.merge=Lfe,t.extend=PG,t.bindFn=o5,t.assign=la,t.inherit=Bfe,t.bindFn=o5,t.prefixed=Jp,t.toArray=Zc,t.inArray=ca,t.uniqueArray=aI,t.splitStr=Jc,t.boolOrFn=Zp,t.hasParent=oI,t.addEventListeners=mc,t.removeEventListeners=vc,t.defaults=la({},EG,{preset:r5}),t}();TG.defaults;Uce("DELETE");function em(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return zfe(e.length?e:[zf()])}function zfe(t){let[e,r,n]=Ufe(t),i=1;const s=()=>{const o=2091639*e+i*23283064365386963e-26;return e=r,r=n,n=o-(i=o|0)};return s.uint32=()=>s()*4294967296,s.fract53=()=>s()+(s()*2097152|0)*11102230246251565e-32,s.algorithm="Alea",s.seed=t,s.version="0.9",s}function Ufe(){const t=Wfe();let e=t(" "),r=t(" "),n=t(" ");for(let i=0;i<arguments.length;i++)e-=t(i<0||arguments.length<=i?void 0:arguments[i]),e<0&&(e+=1),r-=t(i<0||arguments.length<=i?void 0:arguments[i]),r<0&&(r+=1),n-=t(i<0||arguments.length<=i?void 0:arguments[i]),n<0&&(n+=1);return[e,r,n]}function Wfe(){let t=4022871197;return function(e){const r=e.toString();for(let n=0;n<r.length;n++){t+=r.charCodeAt(n);let i=.02519603282416938*t;t=i>>>0,i-=t,i*=t,t=i>>>0,i-=t,t+=i*4294967296}return(t>>>0)*23283064365386963e-26}}function Hfe(){const t=()=>{};return{on:t,off:t,destroy:t,emit:t,get(){return{set:t}}}}const dI=typeof window<"u"?window.Hammer||TG:function(){return Hfe()};function mi(t){var e;this._cleanupQueue=[],this.active=!1,this._dom={container:t,overlay:document.createElement("div")},this._dom.overlay.classList.add("vis-overlay"),this._dom.container.appendChild(this._dom.overlay),this._cleanupQueue.push(()=>{this._dom.overlay.parentNode.removeChild(this._dom.overlay)});const r=dI(this._dom.overlay);r.on("tap",ee(e=this._onTapOverlay).call(e,this)),this._cleanupQueue.push(()=>{r.destroy()});const n=["tap","doubletap","press","pinch","pan","panstart","panmove","panend"];Ge(n).call(n,i=>{r.on(i,s=>{s.srcEvent.stopPropagation()})}),document&&document.body&&(this._onClick=i=>{Vfe(i.target,t)||this.deactivate()},document.body.addEventListener("click",this._onClick),this._cleanupQueue.push(()=>{document.body.removeEventListener("click",this._onClick)})),this._escListener=i=>{("key"in i?i.key==="Escape":i.keyCode===27)&&this.deactivate()}}M9(mi.prototype);mi.current=null;mi.prototype.destroy=function(){this.deactivate();for(const r of Uo(t=Li(e=this._cleanupQueue).call(e,0)).call(t)){var t,e;r()}};mi.prototype.activate=function(){mi.current&&mi.current.deactivate(),mi.current=this,this.active=!0,this._dom.overlay.style.display="none",this._dom.container.classList.add("vis-active"),this.emit("change"),this.emit("activate"),document.body.addEventListener("keydown",this._escListener)};mi.prototype.deactivate=function(){this.active=!1,this._dom.overlay.style.display="block",this._dom.container.classList.remove("vis-active"),document.body.removeEventListener("keydown",this._escListener),this.emit("change"),this.emit("deactivate")};mi.prototype._onTapOverlay=function(t){this.activate(),t.srcEvent.stopPropagation()};function Vfe(t,e){for(;t;){if(t===e)return!0;t=t.parentNode}return!1}const Kfe=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i,Gfe=/^#?([a-f\d])([a-f\d])([a-f\d])$/i,Yfe=/^rgb\( *(1?\d{1,2}|2[0-4]\d|25[0-5]) *, *(1?\d{1,2}|2[0-4]\d|25[0-5]) *, *(1?\d{1,2}|2[0-4]\d|25[0-5]) *\)$/i,Qfe=/^rgba\( *(1?\d{1,2}|2[0-4]\d|25[0-5]) *, *(1?\d{1,2}|2[0-4]\d|25[0-5]) *, *(1?\d{1,2}|2[0-4]\d|25[0-5]) *, *([01]|0?\.\d+) *\)$/i;function ps(t){if(t)for(;t.hasChildNodes()===!0;){const e=t.firstChild;e&&(ps(e),t.removeChild(e))}}function fl(t){return t instanceof String||typeof t=="string"}function a5(t){return typeof t=="object"&&t!==null}function da(t,e,r,n){let i=!1;n===!0&&(i=e[r]===null&&t[r]!==void 0),i?delete t[r]:t[r]=e[r]}function CG(t,e){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;for(const n in t)if(e[n]!==void 0)if(e[n]===null||typeof e[n]!="object")da(t,e,n,r);else{const i=t[n],s=e[n];a5(i)&&a5(s)&&CG(i,s,r)}}function $u(t,e,r){let n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(Ot(r))throw new TypeError("Arrays are not supported by deepExtend");for(let i=0;i<t.length;i++){const s=t[i];if(Object.prototype.hasOwnProperty.call(r,s))if(r[s]&&r[s].constructor===Object)e[s]===void 0&&(e[s]={}),e[s].constructor===Object?Ze(e[s],r[s],!1,n):da(e,r,s,n);else{if(Ot(r[s]))throw new TypeError("Arrays are not supported by deepExtend");da(e,r,s,n)}}return e}function Vf(t,e,r){let n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(Ot(r))throw new TypeError("Arrays are not supported by deepExtend");for(const i in r)if(Object.prototype.hasOwnProperty.call(r,i)&&!Hs(t).call(t,i))if(r[i]&&r[i].constructor===Object)e[i]===void 0&&(e[i]={}),e[i].constructor===Object?Ze(e[i],r[i]):da(e,r,i,n);else if(Ot(r[i])){e[i]=[];for(let s=0;s<r[i].length;s++)e[i].push(r[i][s])}else da(e,r,i,n);return e}function Ze(t,e){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;for(const s in e)if(Object.prototype.hasOwnProperty.call(e,s)||r===!0)if(typeof e[s]=="object"&&e[s]!==null&&z3(e[s])===Object.prototype)t[s]===void 0?t[s]=Ze({},e[s],r):typeof t[s]=="object"&&t[s]!==null&&z3(t[s])===Object.prototype?Ze(t[s],e[s],r):da(t,e,s,n);else if(Ot(e[s])){var i;t[s]=hi(i=e[s]).call(i)}else da(t,e,s,n);return t}function Kf(t,e){return[...t,e]}function Xfe(t){return hi(t).call(t)}function Jfe(t){return t.getBoundingClientRect().left}function Zfe(t){return t.getBoundingClientRect().top}function Ne(t,e){if(Ot(t)){const r=t.length;for(let n=0;n<r;n++)e(t[n],n,t)}else for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&e(t[r],r,t)}function hI(t){let e;switch(t.length){case 3:case 4:return e=Gfe.exec(t),e?{r:Hn(e[1]+e[1],16),g:Hn(e[2]+e[2],16),b:Hn(e[3]+e[3],16)}:null;case 6:case 7:return e=Kfe.exec(t),e?{r:Hn(e[1],16),g:Hn(e[2],16),b:Hn(e[3],16)}:null;default:return null}}function En(t,e){if(Hs(t).call(t,"rgba"))return t;if(Hs(t).call(t,"rgb")){const r=t.substr(Ue(t).call(t,"(")+1).replace(")","").split(",");return"rgba("+r[0]+","+r[1]+","+r[2]+","+e+")"}else{const r=hI(t);return r==null?t:"rgba("+r.r+","+r.g+","+r.b+","+e+")"}}function IG(t,e,r){var n;return"#"+hi(n=((1<<24)+(t<<16)+(e<<8)+r).toString(16)).call(n,1)}function YP(t,e){if(fl(t)){let n=t;if(NG(n)){var r;const i=Vl(r=n.substr(4).substr(0,n.length-5).split(",")).call(r,function(s){return Hn(s)});n=IG(i[0],i[1],i[2])}if(RG(n)===!0){const i=epe(n),s={h:i.h,s:i.s*.8,v:Math.min(1,i.v*1.02)},o={h:i.h,s:Math.min(1,i.s*1.25),v:i.v*.8},a=QP(o.h,o.s,o.v),l=QP(s.h,s.s,s.v);return{background:n,border:a,highlight:{background:l,border:a},hover:{background:l,border:a}}}else return{background:n,border:n,highlight:{background:n,border:n},hover:{background:n,border:n}}}else return{background:t.background||void 0,border:t.border||void 0,highlight:fl(t.highlight)?{border:t.highlight,background:t.highlight}:{background:t.highlight&&t.highlight.background||void 0,border:t.highlight&&t.highlight.border||void 0},hover:fl(t.hover)?{border:t.hover,background:t.hover}:{border:t.hover&&t.hover.border||void 0,background:t.hover&&t.hover.background||void 0}}}function ec(t,e,r){t=t/255,e=e/255,r=r/255;const n=Math.min(t,Math.min(e,r)),i=Math.max(t,Math.max(e,r));if(n===i)return{h:0,s:0,v:n};const s=t===n?e-r:r===n?t-e:r-t,a=60*((t===n?3:r===n?1:5)-s/(i-n))/360,l=(i-n)/i;return{h:a,s:l,v:i}}function Zh(t,e,r){let n,i,s;const o=Math.floor(t*6),a=t*6-o,l=r*(1-e),u=r*(1-a*e),c=r*(1-(1-a)*e);switch(o%6){case 0:n=r,i=c,s=l;break;case 1:n=u,i=r,s=l;break;case 2:n=l,i=r,s=c;break;case 3:n=l,i=u,s=r;break;case 4:n=c,i=l,s=r;break;case 5:n=r,i=l,s=u;break}return{r:Math.floor(n*255),g:Math.floor(i*255),b:Math.floor(s*255)}}function QP(t,e,r){const n=Zh(t,e,r);return IG(n.r,n.g,n.b)}function epe(t){const e=hI(t);if(!e)throw new TypeError("'".concat(t,"' is not a valid color."));return ec(e.r,e.g,e.b)}function RG(t){return/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i.test(t)}function NG(t){return Yfe.test(t)}function tpe(t){return Qfe.test(t)}function Ks(t){if(t===null||typeof t!="object")return null;if(t instanceof Element)return t;const e=Wo(t);for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&typeof t[r]=="object"&&(e[r]=Ks(t[r]));return e}function xn(t,e,r){let n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};const i=function(p){return p!=null},s=function(p){return p!==null&&typeof p=="object"},o=function(p){for(const m in p)if(Object.prototype.hasOwnProperty.call(p,m))return!1;return!0};if(!s(t))throw new Error("Parameter mergeTarget must be an object");if(!s(e))throw new Error("Parameter options must be an object");if(!i(r))throw new Error("Parameter option must have a value");if(!s(n))throw new Error("Parameter globalOptions must be an object");const a=function(p,m,g){s(p[g])||(p[g]={});const b=m[g],y=p[g];for(const v in b)Object.prototype.hasOwnProperty.call(b,v)&&(y[v]=b[v])},l=e[r],c=s(n)&&!o(n)?n[r]:void 0,d=c?c.enabled:void 0;if(l===void 0)return;if(typeof l=="boolean"){s(t[r])||(t[r]={}),t[r].enabled=l;return}if(l===null&&!s(t[r]))if(i(c))t[r]=Wo(c);else return;if(!s(l))return;let f=!0;l.enabled!==void 0?f=l.enabled:d!==void 0&&(f=c.enabled),a(t,e,r),t[r].enabled=f}const rpe={linear(t){return t},easeInQuad(t){return t*t},easeOutQuad(t){return t*(2-t)},easeInOutQuad(t){return t<.5?2*t*t:-1+(4-2*t)*t},easeInCubic(t){return t*t*t},easeOutCubic(t){return--t*t*t+1},easeInOutCubic(t){return t<.5?4*t*t*t:(t-1)*(2*t-2)*(2*t-2)+1},easeInQuart(t){return t*t*t*t},easeOutQuart(t){return 1- --t*t*t*t},easeInOutQuart(t){return t<.5?8*t*t*t*t:1-8*--t*t*t*t},easeInQuint(t){return t*t*t*t*t},easeOutQuint(t){return 1+--t*t*t*t*t},easeInOutQuint(t){return t<.5?16*t*t*t*t*t:1+16*--t*t*t*t*t}};function ms(t,e){let r;Ot(e)||(e=[e]);for(const n of t)if(n){r=n[e[0]];for(let i=1;i<e.length;i++)r&&(r=r[e[i]]);if(typeof r<"u")break}return r}const npe={black:"#000000",navy:"#000080",darkblue:"#00008B",mediumblue:"#0000CD",blue:"#0000FF",darkgreen:"#006400",green:"#008000",teal:"#008080",darkcyan:"#008B8B",deepskyblue:"#00BFFF",darkturquoise:"#00CED1",mediumspringgreen:"#00FA9A",lime:"#00FF00",springgreen:"#00FF7F",aqua:"#00FFFF",cyan:"#00FFFF",midnightblue:"#191970",dodgerblue:"#1E90FF",lightseagreen:"#20B2AA",forestgreen:"#228B22",seagreen:"#2E8B57",darkslategray:"#2F4F4F",limegreen:"#32CD32",mediumseagreen:"#3CB371",turquoise:"#40E0D0",royalblue:"#4169E1",steelblue:"#4682B4",darkslateblue:"#483D8B",mediumturquoise:"#48D1CC",indigo:"#4B0082",darkolivegreen:"#556B2F",cadetblue:"#5F9EA0",cornflowerblue:"#6495ED",mediumaquamarine:"#66CDAA",dimgray:"#696969",slateblue:"#6A5ACD",olivedrab:"#6B8E23",slategray:"#708090",lightslategray:"#778899",mediumslateblue:"#7B68EE",lawngreen:"#7CFC00",chartreuse:"#7FFF00",aquamarine:"#7FFFD4",maroon:"#800000",purple:"#800080",olive:"#808000",gray:"#808080",skyblue:"#87CEEB",lightskyblue:"#87CEFA",blueviolet:"#8A2BE2",darkred:"#8B0000",darkmagenta:"#8B008B",saddlebrown:"#8B4513",darkseagreen:"#8FBC8F",lightgreen:"#90EE90",mediumpurple:"#9370D8",darkviolet:"#9400D3",palegreen:"#98FB98",darkorchid:"#9932CC",yellowgreen:"#9ACD32",sienna:"#A0522D",brown:"#A52A2A",darkgray:"#A9A9A9",lightblue:"#ADD8E6",greenyellow:"#ADFF2F",paleturquoise:"#AFEEEE",lightsteelblue:"#B0C4DE",powderblue:"#B0E0E6",firebrick:"#B22222",darkgoldenrod:"#B8860B",mediumorchid:"#BA55D3",rosybrown:"#BC8F8F",darkkhaki:"#BDB76B",silver:"#C0C0C0",mediumvioletred:"#C71585",indianred:"#CD5C5C",peru:"#CD853F",chocolate:"#D2691E",tan:"#D2B48C",lightgrey:"#D3D3D3",palevioletred:"#D87093",thistle:"#D8BFD8",orchid:"#DA70D6",goldenrod:"#DAA520",crimson:"#DC143C",gainsboro:"#DCDCDC",plum:"#DDA0DD",burlywood:"#DEB887",lightcyan:"#E0FFFF",lavender:"#E6E6FA",darksalmon:"#E9967A",violet:"#EE82EE",palegoldenrod:"#EEE8AA",lightcoral:"#F08080",khaki:"#F0E68C",aliceblue:"#F0F8FF",honeydew:"#F0FFF0",azure:"#F0FFFF",sandybrown:"#F4A460",wheat:"#F5DEB3",beige:"#F5F5DC",whitesmoke:"#F5F5F5",mintcream:"#F5FFFA",ghostwhite:"#F8F8FF",salmon:"#FA8072",antiquewhite:"#FAEBD7",linen:"#FAF0E6",lightgoldenrodyellow:"#FAFAD2",oldlace:"#FDF5E6",red:"#FF0000",fuchsia:"#FF00FF",magenta:"#FF00FF",deeppink:"#FF1493",orangered:"#FF4500",tomato:"#FF6347",hotpink:"#FF69B4",coral:"#FF7F50",darkorange:"#FF8C00",lightsalmon:"#FFA07A",orange:"#FFA500",lightpink:"#FFB6C1",pink:"#FFC0CB",gold:"#FFD700",peachpuff:"#FFDAB9",navajowhite:"#FFDEAD",moccasin:"#FFE4B5",bisque:"#FFE4C4",mistyrose:"#FFE4E1",blanchedalmond:"#FFEBCD",papayawhip:"#FFEFD5",lavenderblush:"#FFF0F5",seashell:"#FFF5EE",cornsilk:"#FFF8DC",lemonchiffon:"#FFFACD",floralwhite:"#FFFAF0",snow:"#FFFAFA",yellow:"#FFFF00",lightyellow:"#FFFFE0",ivory:"#FFFFF0",white:"#FFFFFF"};let ipe=class{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1;this.pixelRatio=e,this.generated=!1,this.centerCoordinates={x:289/2,y:289/2},this.r=289*.49,this.color={r:255,g:255,b:255,a:1},this.hueCircle=void 0,this.initialColor={r:255,g:255,b:255,a:1},this.previousColor=void 0,this.applied=!1,this.updateCallback=()=>{},this.closeCallback=()=>{},this._create()}insertTo(e){this.hammer!==void 0&&(this.hammer.destroy(),this.hammer=void 0),this.container=e,this.container.appendChild(this.frame),this._bindHammer(),this._setSize()}setUpdateCallback(e){if(typeof e=="function")this.updateCallback=e;else throw new Error("Function attempted to set as colorPicker update callback is not a function.")}setCloseCallback(e){if(typeof e=="function")this.closeCallback=e;else throw new Error("Function attempted to set as colorPicker closing callback is not a function.")}_isColorString(e){if(typeof e=="string")return npe[e]}setColor(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(e==="none")return;let n;const i=this._isColorString(e);if(i!==void 0&&(e=i),fl(e)===!0){if(NG(e)===!0){const s=e.substr(4).substr(0,e.length-5).split(",");n={r:s[0],g:s[1],b:s[2],a:1}}else if(tpe(e)===!0){const s=e.substr(5).substr(0,e.length-6).split(",");n={r:s[0],g:s[1],b:s[2],a:s[3]}}else if(RG(e)===!0){const s=hI(e);n={r:s.r,g:s.g,b:s.b,a:1}}}else if(e instanceof Object&&e.r!==void 0&&e.g!==void 0&&e.b!==void 0){const s=e.a!==void 0?e.a:"1.0";n={r:e.r,g:e.g,b:e.b,a:s}}if(n===void 0)throw new Error("Unknown color passed to the colorPicker. Supported are strings: rgb, hex, rgba. Object: rgb ({r:r,g:g,b:b,[a:a]}). Supplied: "+Kd(e));this._setColor(n,r)}show(){this.closeCallback!==void 0&&(this.closeCallback(),this.closeCallback=void 0),this.applied=!1,this.frame.style.display="block",this._generateHueCircle()}_hide(){(arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0)===!0&&(this.previousColor=kt({},this.color)),this.applied===!0&&this.updateCallback(this.initialColor),this.frame.style.display="none",Bi(()=>{this.closeCallback!==void 0&&(this.closeCallback(),this.closeCallback=void 0)},0)}_save(){this.updateCallback(this.color),this.applied=!1,this._hide()}_apply(){this.applied=!0,this.updateCallback(this.color),this._updatePicker(this.color)}_loadLast(){this.previousColor!==void 0?this.setColor(this.previousColor,!1):alert("There is no last color to load...")}_setColor(e){(arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0)===!0&&(this.initialColor=kt({},e)),this.color=e;const n=ec(e.r,e.g,e.b),i=2*Math.PI,s=this.r*n.s,o=this.centerCoordinates.x+s*Math.sin(i*n.h),a=this.centerCoordinates.y+s*Math.cos(i*n.h);this.colorPickerSelector.style.left=o-.5*this.colorPickerSelector.clientWidth+"px",this.colorPickerSelector.style.top=a-.5*this.colorPickerSelector.clientHeight+"px",this._updatePicker(e)}_setOpacity(e){this.color.a=e/100,this._updatePicker(this.color)}_setBrightness(e){const r=ec(this.color.r,this.color.g,this.color.b);r.v=e/100;const n=Zh(r.h,r.s,r.v);n.a=this.color.a,this.color=n,this._updatePicker()}_updatePicker(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.color;const r=ec(e.r,e.g,e.b),n=this.colorPickerCanvas.getContext("2d");this.pixelRation===void 0&&(this.pixelRatio=(window.devicePixelRatio||1)/(n.webkitBackingStorePixelRatio||n.mozBackingStorePixelRatio||n.msBackingStorePixelRatio||n.oBackingStorePixelRatio||n.backingStorePixelRatio||1)),n.setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0);const i=this.colorPickerCanvas.clientWidth,s=this.colorPickerCanvas.clientHeight;n.clearRect(0,0,i,s),n.putImageData(this.hueCircle,0,0),n.fillStyle="rgba(0,0,0,"+(1-r.v)+")",n.circle(this.centerCoordinates.x,this.centerCoordinates.y,this.r),Gd(n).call(n),this.brightnessRange.value=100*r.v,this.opacityRange.value=100*e.a,this.initialColorDiv.style.backgroundColor="rgba("+this.initialColor.r+","+this.initialColor.g+","+this.initialColor.b+","+this.initialColor.a+")",this.newColorDiv.style.backgroundColor="rgba("+this.color.r+","+this.color.g+","+this.color.b+","+this.color.a+")"}_setSize(){this.colorPickerCanvas.style.width="100%",this.colorPickerCanvas.style.height="100%",this.colorPickerCanvas.width=289*this.pixelRatio,this.colorPickerCanvas.height=289*this.pixelRatio}_create(){var e,r,n,i;if(this.frame=document.createElement("div"),this.frame.className="vis-color-picker",this.colorPickerDiv=document.createElement("div"),this.colorPickerSelector=document.createElement("div"),this.colorPickerSelector.className="vis-selector",this.colorPickerDiv.appendChild(this.colorPickerSelector),this.colorPickerCanvas=document.createElement("canvas"),this.colorPickerDiv.appendChild(this.colorPickerCanvas),this.colorPickerCanvas.getContext){const o=this.colorPickerCanvas.getContext("2d");this.pixelRatio=(window.devicePixelRatio||1)/(o.webkitBackingStorePixelRatio||o.mozBackingStorePixelRatio||o.msBackingStorePixelRatio||o.oBackingStorePixelRatio||o.backingStorePixelRatio||1),this.colorPickerCanvas.getContext("2d").setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0)}else{const o=document.createElement("DIV");o.style.color="red",o.style.fontWeight="bold",o.style.padding="10px",o.innerText="Error: your browser does not support HTML canvas",this.colorPickerCanvas.appendChild(o)}this.colorPickerDiv.className="vis-color",this.opacityDiv=document.createElement("div"),this.opacityDiv.className="vis-opacity",this.brightnessDiv=document.createElement("div"),this.brightnessDiv.className="vis-brightness",this.arrowDiv=document.createElement("div"),this.arrowDiv.className="vis-arrow",this.opacityRange=document.createElement("input");try{this.opacityRange.type="range",this.opacityRange.min="0",this.opacityRange.max="100"}catch{}this.opacityRange.value="100",this.opacityRange.className="vis-range",this.brightnessRange=document.createElement("input");try{this.brightnessRange.type="range",this.brightnessRange.min="0",this.brightnessRange.max="100"}catch{}this.brightnessRange.value="100",this.brightnessRange.className="vis-range",this.opacityDiv.appendChild(this.opacityRange),this.brightnessDiv.appendChild(this.brightnessRange);const s=this;this.opacityRange.onchange=function(){s._setOpacity(this.value)},this.opacityRange.oninput=function(){s._setOpacity(this.value)},this.brightnessRange.onchange=function(){s._setBrightness(this.value)},this.brightnessRange.oninput=function(){s._setBrightness(this.value)},this.brightnessLabel=document.createElement("div"),this.brightnessLabel.className="vis-label vis-brightness",this.brightnessLabel.innerText="brightness:",this.opacityLabel=document.createElement("div"),this.opacityLabel.className="vis-label vis-opacity",this.opacityLabel.innerText="opacity:",this.newColorDiv=document.createElement("div"),this.newColorDiv.className="vis-new-color",this.newColorDiv.innerText="new",this.initialColorDiv=document.createElement("div"),this.initialColorDiv.className="vis-initial-color",this.initialColorDiv.innerText="initial",this.cancelButton=document.createElement("div"),this.cancelButton.className="vis-button vis-cancel",this.cancelButton.innerText="cancel",this.cancelButton.onclick=ee(e=this._hide).call(e,this,!1),this.applyButton=document.createElement("div"),this.applyButton.className="vis-button vis-apply",this.applyButton.innerText="apply",this.applyButton.onclick=ee(r=this._apply).call(r,this),this.saveButton=document.createElement("div"),this.saveButton.className="vis-button vis-save",this.saveButton.innerText="save",this.saveButton.onclick=ee(n=this._save).call(n,this),this.loadButton=document.createElement("div"),this.loadButton.className="vis-button vis-load",this.loadButton.innerText="load last",this.loadButton.onclick=ee(i=this._loadLast).call(i,this),this.frame.appendChild(this.colorPickerDiv),this.frame.appendChild(this.arrowDiv),this.frame.appendChild(this.brightnessLabel),this.frame.appendChild(this.brightnessDiv),this.frame.appendChild(this.opacityLabel),this.frame.appendChild(this.opacityDiv),this.frame.appendChild(this.newColorDiv),this.frame.appendChild(this.initialColorDiv),this.frame.appendChild(this.cancelButton),this.frame.appendChild(this.applyButton),this.frame.appendChild(this.saveButton),this.frame.appendChild(this.loadButton)}_bindHammer(){this.drag={},this.pinch={},this.hammer=new dI(this.colorPickerCanvas),this.hammer.get("pinch").set({enable:!0}),this.hammer.on("hammer.input",e=>{e.isFirst&&this._moveSelector(e)}),this.hammer.on("tap",e=>{this._moveSelector(e)}),this.hammer.on("panstart",e=>{this._moveSelector(e)}),this.hammer.on("panmove",e=>{this._moveSelector(e)}),this.hammer.on("panend",e=>{this._moveSelector(e)})}_generateHueCircle(){if(this.generated===!1){const e=this.colorPickerCanvas.getContext("2d");this.pixelRation===void 0&&(this.pixelRatio=(window.devicePixelRatio||1)/(e.webkitBackingStorePixelRatio||e.mozBackingStorePixelRatio||e.msBackingStorePixelRatio||e.oBackingStorePixelRatio||e.backingStorePixelRatio||1)),e.setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0);const r=this.colorPickerCanvas.clientWidth,n=this.colorPickerCanvas.clientHeight;e.clearRect(0,0,r,n);let i,s,o,a;this.centerCoordinates={x:r*.5,y:n*.5},this.r=.49*r;const l=2*Math.PI/360,u=1/360,c=1/this.r;let d;for(o=0;o<360;o++)for(a=0;a<this.r;a++)i=this.centerCoordinates.x+a*Math.sin(l*o),s=this.centerCoordinates.y+a*Math.cos(l*o),d=Zh(o*u,a*c,1),e.fillStyle="rgb("+d.r+","+d.g+","+d.b+")",e.fillRect(i-.5,s-.5,2,2);e.strokeStyle="rgba(0,0,0,1)",e.circle(this.centerCoordinates.x,this.centerCoordinates.y,this.r),e.stroke(),this.hueCircle=e.getImageData(0,0,r,n)}this.generated=!0}_moveSelector(e){const r=this.colorPickerDiv.getBoundingClientRect(),n=e.center.x-r.left,i=e.center.y-r.top,s=.5*this.colorPickerDiv.clientHeight,o=.5*this.colorPickerDiv.clientWidth,a=n-o,l=i-s,u=Math.atan2(a,l),c=.98*Math.min(Math.sqrt(a*a+l*l),o),d=Math.cos(u)*c+s,f=Math.sin(u)*c+o;this.colorPickerSelector.style.top=d-.5*this.colorPickerSelector.clientHeight+"px",this.colorPickerSelector.style.left=f-.5*this.colorPickerSelector.clientWidth+"px";let p=u/(2*Math.PI);p=p<0?p+1:p;const m=c/this.r,g=ec(this.color.r,this.color.g,this.color.b);g.h=p,g.s=m;const b=Zh(g.h,g.s,g.v);b.a=this.color.a,this.color=b,this.initialColorDiv.style.backgroundColor="rgba("+this.initialColor.r+","+this.initialColor.g+","+this.initialColor.b+","+this.initialColor.a+")",this.newColorDiv.style.backgroundColor="rgba("+this.color.r+","+this.color.g+","+this.color.b+","+this.color.a+")"}};function XP(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];if(e.length<1)throw new TypeError("Invalid arguments.");if(e.length===1)return document.createTextNode(e[0]);{const n=document.createElement(e[0]);return n.appendChild(XP(...hi(e).call(e,1))),n}}let spe=class{constructor(e,r,n){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:1,s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:()=>!1;this.parent=e,this.changedOptions=[],this.container=r,this.allowCreation=!1,this.hideOption=s,this.options={},this.initialized=!1,this.popupCounter=0,this.defaultOptions={enabled:!1,filter:!0,container:void 0,showButton:!0},kt(this.options,this.defaultOptions),this.configureOptions=n,this.moduleOptions={},this.domElements=[],this.popupDiv={},this.popupLimit=5,this.popupHistory={},this.colorPicker=new ipe(i),this.wrapper=void 0}setOptions(e){if(e!==void 0){this.popupHistory={},this._removePopup();let r=!0;if(typeof e=="string")this.options.filter=e;else if(Ot(e))this.options.filter=e.join();else if(typeof e=="object"){if(e==null)throw new TypeError("options cannot be null");e.container!==void 0&&(this.options.container=e.container),Wr(e)!==void 0&&(this.options.filter=Wr(e)),e.showButton!==void 0&&(this.options.showButton=e.showButton),e.enabled!==void 0&&(r=e.enabled)}else typeof e=="boolean"?(this.options.filter=!0,r=e):typeof e=="function"&&(this.options.filter=e,r=!0);Wr(this.options)===!1&&(r=!1),this.options.enabled=r}this._clean()}setModuleOptions(e){this.moduleOptions=e,this.options.enabled===!0&&(this._clean(),this.options.container!==void 0&&(this.container=this.options.container),this._create())}_create(){this._clean(),this.changedOptions=[];const e=Wr(this.options);let r=0,n=!1;for(const i in this.configureOptions)Object.prototype.hasOwnProperty.call(this.configureOptions,i)&&(this.allowCreation=!1,n=!1,typeof e=="function"?(n=e(i,[]),n=n||this._handleObject(this.configureOptions[i],[i],!0)):(e===!0||Ue(e).call(e,i)!==-1)&&(n=!0),n!==!1&&(this.allowCreation=!0,r>0&&this._makeItem([]),this._makeHeader(i),this._handleObject(this.configureOptions[i],[i])),r++);this._makeButton(),this._push()}_push(){this.wrapper=document.createElement("div"),this.wrapper.className="vis-configuration-wrapper",this.container.appendChild(this.wrapper);for(let e=0;e<this.domElements.length;e++)this.wrapper.appendChild(this.domElements[e]);this._showPopupIfNeeded()}_clean(){for(let e=0;e<this.domElements.length;e++)this.wrapper.removeChild(this.domElements[e]);this.wrapper!==void 0&&(this.container.removeChild(this.wrapper),this.wrapper=void 0),this.domElements=[],this._removePopup()}_getValue(e){let r=this.moduleOptions;for(let n=0;n<e.length;n++)if(r[e[n]]!==void 0)r=r[e[n]];else{r=void 0;break}return r}_makeItem(e){if(this.allowCreation===!0){const s=document.createElement("div");s.className="vis-configuration vis-config-item vis-config-s"+e.length;for(var r=arguments.length,n=new Array(r>1?r-1:0),i=1;i<r;i++)n[i-1]=arguments[i];return Ge(n).call(n,o=>{s.appendChild(o)}),this.domElements.push(s),this.domElements.length}return 0}_makeHeader(e){const r=document.createElement("div");r.className="vis-configuration vis-config-header",r.innerText=e,this._makeItem([],r)}_makeLabel(e,r){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;const i=document.createElement("div");if(i.className="vis-configuration vis-config-label vis-config-s"+r.length,n===!0){for(;i.firstChild;)i.removeChild(i.firstChild);i.appendChild(XP("i","b",e))}else i.innerText=e+":";return i}_makeDropdown(e,r,n){const i=document.createElement("select");i.className="vis-configuration vis-config-select";let s=0;r!==void 0&&Ue(e).call(e,r)!==-1&&(s=Ue(e).call(e,r));for(let l=0;l<e.length;l++){const u=document.createElement("option");u.value=e[l],l===s&&(u.selected="selected"),u.innerText=e[l],i.appendChild(u)}const o=this;i.onchange=function(){o._update(this.value,n)};const a=this._makeLabel(n[n.length-1],n);this._makeItem(n,a,i)}_makeRange(e,r,n){const i=e[0],s=e[1],o=e[2],a=e[3],l=document.createElement("input");l.className="vis-configuration vis-config-range";try{l.type="range",l.min=s,l.max=o}catch{}l.step=a;let u="",c=0;r!==void 0?(r<0&&r*1.2<s?(l.min=Math.ceil(r*1.2),c=l.min,u="range increased"):r/1.2<s&&(l.min=Math.ceil(r/1.2),c=l.min,u="range increased"),r*1.2>o&&o!==1&&(l.max=Math.ceil(r*1.2),c=l.max,u="range increased"),l.value=r):l.value=i;const d=document.createElement("input");d.className="vis-configuration vis-config-rangeinput",d.value=l.value;const f=this;l.onchange=function(){d.value=this.value,f._update(Number(this.value),n)},l.oninput=function(){d.value=this.value};const p=this._makeLabel(n[n.length-1],n),m=this._makeItem(n,p,l,d);u!==""&&this.popupHistory[m]!==c&&(this.popupHistory[m]=c,this._setupPopup(u,m))}_makeButton(){if(this.options.showButton===!0){const e=document.createElement("div");e.className="vis-configuration vis-config-button",e.innerText="generate options",e.onclick=()=>{this._printOptions()},e.onmouseover=()=>{e.className="vis-configuration vis-config-button hover"},e.onmouseout=()=>{e.className="vis-configuration vis-config-button"},this.optionsContainer=document.createElement("div"),this.optionsContainer.className="vis-configuration vis-config-option-container",this.domElements.push(this.optionsContainer),this.domElements.push(e)}}_setupPopup(e,r){if(this.initialized===!0&&this.allowCreation===!0&&this.popupCounter<this.popupLimit){const n=document.createElement("div");n.id="vis-configuration-popup",n.className="vis-configuration-popup",n.innerText=e,n.onclick=()=>{this._removePopup()},this.popupCounter+=1,this.popupDiv={html:n,index:r}}}_removePopup(){this.popupDiv.html!==void 0&&(this.popupDiv.html.parentNode.removeChild(this.popupDiv.html),clearTimeout(this.popupDiv.hideTimeout),clearTimeout(this.popupDiv.deleteTimeout),this.popupDiv={})}_showPopupIfNeeded(){if(this.popupDiv.html!==void 0){const r=this.domElements[this.popupDiv.index].getBoundingClientRect();this.popupDiv.html.style.left=r.left+"px",this.popupDiv.html.style.top=r.top-30+"px",document.body.appendChild(this.popupDiv.html),this.popupDiv.hideTimeout=Bi(()=>{this.popupDiv.html.style.opacity=0},1500),this.popupDiv.deleteTimeout=Bi(()=>{this._removePopup()},1800)}}_makeCheckbox(e,r,n){const i=document.createElement("input");i.type="checkbox",i.className="vis-configuration vis-config-checkbox",i.checked=e,r!==void 0&&(i.checked=r,r!==e&&(typeof e=="object"?r!==e.enabled&&this.changedOptions.push({path:n,value:r}):this.changedOptions.push({path:n,value:r})));const s=this;i.onchange=function(){s._update(this.checked,n)};const o=this._makeLabel(n[n.length-1],n);this._makeItem(n,o,i)}_makeTextInput(e,r,n){const i=document.createElement("input");i.type="text",i.className="vis-configuration vis-config-text",i.value=r,r!==e&&this.changedOptions.push({path:n,value:r});const s=this;i.onchange=function(){s._update(this.value,n)};const o=this._makeLabel(n[n.length-1],n);this._makeItem(n,o,i)}_makeColorField(e,r,n){const i=e[1],s=document.createElement("div");r=r===void 0?i:r,r!=="none"?(s.className="vis-configuration vis-config-colorBlock",s.style.backgroundColor=r):s.className="vis-configuration vis-config-colorBlock none",r=r===void 0?i:r,s.onclick=()=>{this._showColorPicker(r,s,n)};const o=this._makeLabel(n[n.length-1],n);this._makeItem(n,o,s)}_showColorPicker(e,r,n){r.onclick=function(){},this.colorPicker.insertTo(r),this.colorPicker.show(),this.colorPicker.setColor(e),this.colorPicker.setUpdateCallback(i=>{const s="rgba("+i.r+","+i.g+","+i.b+","+i.a+")";r.style.backgroundColor=s,this._update(s,n)}),this.colorPicker.setCloseCallback(()=>{r.onclick=()=>{this._showColorPicker(e,r,n)}})}_handleObject(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,i=!1;const s=Wr(this.options);let o=!1;for(const a in e)if(Object.prototype.hasOwnProperty.call(e,a)){i=!0;const l=e[a],u=Kf(r,a);if(typeof s=="function"&&(i=s(a,r),i===!1&&!Ot(l)&&typeof l!="string"&&typeof l!="boolean"&&l instanceof Object&&(this.allowCreation=!1,i=this._handleObject(l,u,!0),this.allowCreation=n===!1)),i!==!1){o=!0;const c=this._getValue(u);if(Ot(l))this._handleArray(l,c,u);else if(typeof l=="string")this._makeTextInput(l,c,u);else if(typeof l=="boolean")this._makeCheckbox(l,c,u);else if(l instanceof Object){if(!this.hideOption(r,a,this.moduleOptions))if(l.enabled!==void 0){const d=Kf(u,"enabled"),f=this._getValue(d);if(f===!0){const p=this._makeLabel(a,u,!0);this._makeItem(u,p),o=this._handleObject(l,u)||o}else this._makeCheckbox(l,f,u)}else{const d=this._makeLabel(a,u,!0);this._makeItem(u,d),o=this._handleObject(l,u)||o}}else console.error("dont know how to handle",l,a,u)}}return o}_handleArray(e,r,n){typeof e[0]=="string"&&e[0]==="color"?(this._makeColorField(e,r,n),e[1]!==r&&this.changedOptions.push({path:n,value:r})):typeof e[0]=="string"?(this._makeDropdown(e,r,n),e[0]!==r&&this.changedOptions.push({path:n,value:r})):typeof e[0]=="number"&&(this._makeRange(e,r,n),e[0]!==r&&this.changedOptions.push({path:n,value:Number(r)}))}_update(e,r){const n=this._constructOptions(e,r);this.parent.body&&this.parent.body.emitter&&this.parent.body.emitter.emit&&this.parent.body.emitter.emit("configChange",n),this.initialized=!0,this.parent.setOptions(n)}_constructOptions(e,r){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},i=n;e=e==="true"?!0:e,e=e==="false"?!1:e;for(let s=0;s<r.length;s++)r[s]!=="global"&&(i[r[s]]===void 0&&(i[r[s]]={}),s!==r.length-1?i=i[r[s]]:i[r[s]]=e);return n}_printOptions(){const e=this.getOptions();for(;this.optionsContainer.firstChild;)this.optionsContainer.removeChild(this.optionsContainer.firstChild);this.optionsContainer.appendChild(XP("pre","const options = "+Kd(e,null,2)))}getOptions(){const e={};for(let r=0;r<this.changedOptions.length;r++)this._constructOptions(this.changedOptions[r].value,this.changedOptions[r].path,e);return e}},ope=class{constructor(e,r){this.container=e,this.overflowMethod=r||"cap",this.x=0,this.y=0,this.padding=5,this.hidden=!1,this.frame=document.createElement("div"),this.frame.className="vis-tooltip",this.container.appendChild(this.frame)}setPosition(e,r){this.x=Hn(e),this.y=Hn(r)}setText(e){if(e instanceof Element){for(;this.frame.firstChild;)this.frame.removeChild(this.frame.firstChild);this.frame.appendChild(e)}else this.frame.innerText=e}show(e){if(e===void 0&&(e=!0),e===!0){const r=this.frame.clientHeight,n=this.frame.clientWidth,i=this.frame.parentNode.clientHeight,s=this.frame.parentNode.clientWidth;let o=0,a=0;if(this.overflowMethod=="flip"){let l=!1,u=!0;this.y-r<this.padding&&(u=!1),this.x+n>s-this.padding&&(l=!0),l?o=this.x-n:o=this.x,u?a=this.y-r:a=this.y}else a=this.y-r,a+r+this.padding>i&&(a=i-r-this.padding),a<this.padding&&(a=this.padding),o=this.x,o+n+this.padding>s&&(o=s-n-this.padding),o<this.padding&&(o=this.padding);this.frame.style.left=o+"px",this.frame.style.top=a+"px",this.frame.style.visibility="visible",this.hidden=!1}else this.hide()}hide(){this.hidden=!0,this.frame.style.left="0",this.frame.style.top="0",this.frame.style.visibility="hidden"}destroy(){this.frame.parentNode.removeChild(this.frame)}},Ku=!1,l5;const JP="background: #FFeeee; color: #dd0000";let ape=class bt{static validate(e,r,n){Ku=!1,l5=r;let i=r;return n!==void 0&&(i=r[n]),bt.parse(e,i,[]),Ku}static parse(e,r,n){for(const i in e)Object.prototype.hasOwnProperty.call(e,i)&&bt.check(i,e,r,n)}static check(e,r,n,i){if(n[e]===void 0&&n.__any__===void 0){bt.getSuggestion(e,n,i);return}let s=e,o=!0;n[e]===void 0&&n.__any__!==void 0&&(s="__any__",o=bt.getType(r[e])==="object");let a=n[s];o&&a.__type__!==void 0&&(a=a.__type__),bt.checkFields(e,r,n,s,a,i)}static checkFields(e,r,n,i,s,o){const a=function(c){console.error("%c"+c+bt.printLocation(o,e),JP)},l=bt.getType(r[e]),u=s[l];u!==void 0?bt.getType(u)==="array"&&Ue(u).call(u,r[e])===-1?(a('Invalid option detected in "'+e+'". Allowed values are:'+bt.print(u)+' not "'+r[e]+'". '),Ku=!0):l==="object"&&i!=="__any__"&&(o=Kf(o,e),bt.parse(r[e],n[i],o)):s.any===void 0&&(a('Invalid type received for "'+e+'". Expected: '+bt.print(_t(s))+". Received ["+l+'] "'+r[e]+'"'),Ku=!0)}static getType(e){const r=typeof e;return r==="object"?e===null?"null":e instanceof Boolean?"boolean":e instanceof Number?"number":e instanceof String?"string":Ot(e)?"array":e instanceof Date?"date":e.nodeType!==void 0?"dom":e._isAMomentObject===!0?"moment":"object":r==="number"?"number":r==="boolean"?"boolean":r==="string"?"string":r===void 0?"undefined":r}static getSuggestion(e,r,n){const i=bt.findInOptions(e,r,n,!1),s=bt.findInOptions(e,l5,[],!0),o=8,a=4;let l;i.indexMatch!==void 0?l=" in "+bt.printLocation(i.path,e,"")+'Perhaps it was incomplete? Did you mean: "'+i.indexMatch+`"?

`:s.distance<=a&&i.distance>s.distance?l=" in "+bt.printLocation(i.path,e,"")+"Perhaps it was misplaced? Matching option found at: "+bt.printLocation(s.path,s.closestMatch,""):i.distance<=o?l='. Did you mean "'+i.closestMatch+'"?'+bt.printLocation(i.path,e):l=". Did you mean one of these: "+bt.print(_t(r))+bt.printLocation(n,e),console.error('%cUnknown option detected: "'+e+'"'+l,JP),Ku=!0}static findInOptions(e,r,n){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1,s=1e9,o="",a=[];const l=e.toLowerCase();let u;for(const d in r){let f;if(r[d].__type__!==void 0&&i===!0){const p=bt.findInOptions(e,r[d],Kf(n,d));s>p.distance&&(o=p.closestMatch,a=p.path,s=p.distance,u=p.indexMatch)}else{var c;Ue(c=d.toLowerCase()).call(c,l)!==-1&&(u=d),f=bt.levenshteinDistance(e,d),s>f&&(o=d,a=Xfe(n),s=f)}}return{closestMatch:o,path:a,distance:s,indexMatch:u}}static printLocation(e,r){let i=`

`+(arguments.length>2&&arguments[2]!==void 0?arguments[2]:`Problem value found at: 
`)+`options = {
`;for(let s=0;s<e.length;s++){for(let o=0;o<s+1;o++)i+="  ";i+=e[s]+`: {
`}for(let s=0;s<e.length+1;s++)i+="  ";i+=r+`
`;for(let s=0;s<e.length+1;s++){for(let o=0;o<e.length-s;o++)i+="  ";i+=`}
`}return i+`

`}static print(e){return Kd(e).replace(/(")|(\[)|(\])|(,"__type__")/g,"").replace(/(,)/g,", ")}static levenshteinDistance(e,r){if(e.length===0)return r.length;if(r.length===0)return e.length;const n=[];let i;for(i=0;i<=r.length;i++)n[i]=[i];let s;for(s=0;s<=e.length;s++)n[0][s]=s;for(i=1;i<=r.length;i++)for(s=1;s<=e.length;s++)r.charAt(i-1)==e.charAt(s-1)?n[i][s]=n[i-1][s-1]:n[i][s]=Math.min(n[i-1][s-1]+1,Math.min(n[i][s-1]+1,n[i-1][s]+1));return n[r.length][e.length]}};const lpe=mi,upe=spe,pl=dI,cpe=ope,$G=JP,dpe=ape;function hpe(t){return $s=t,vpe()}var jG={fontsize:"font.size",fontcolor:"font.color",labelfontcolor:"font.color",fontname:"font.face",color:["color.border","color.background"],fillcolor:"color.background",tooltip:"title",labeltooltip:"title"},fI=Wo(jG);fI.color="color.color";fI.style="dashes";var Tr={NULL:0,DELIMITER:1,IDENTIFIER:2,UNKNOWN:3},u5={"{":!0,"}":!0,"[":!0,"]":!0,";":!0,"=":!0,",":!0,"->":!0,"--":!0},$s="",Ql=0,Re="",xe="",zr=Tr.NULL;function fpe(){Ql=0,Re=$s.charAt(0)}function Kt(){Ql++,Re=$s.charAt(Ql)}function Fa(){return $s.charAt(Ql+1)}function c5(t){var e=t.charCodeAt(0);return e<47?e===35||e===46:e<59?e>47:e<91?e>64:e<96?e===95:e<123?e>96:!1}function Zs(t,e){if(t||(t={}),e)for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);return t}function ppe(t,e,r){for(var n=e.split("."),i=t;n.length;){var s=n.shift();n.length?(i[s]||(i[s]={}),i=i[s]):i[s]=r}}function kG(t,e){for(var r,n,i=null,s=[t],o=t;o.parent;)s.push(o.parent),o=o.parent;if(o.nodes){for(r=0,n=o.nodes.length;r<n;r++)if(e.id===o.nodes[r].id){i=o.nodes[r];break}}for(i||(i={id:e.id},t.node&&(i.attr=Zs(i.attr,t.node))),r=s.length-1;r>=0;r--){var a,l=s[r];l.nodes||(l.nodes=[]),Ue(a=l.nodes).call(a,i)===-1&&l.nodes.push(i)}e.attr&&(i.attr=Zs(i.attr,e.attr))}function mpe(t,e){if(t.edges||(t.edges=[]),t.edges.push(e),t.edge){var r=Zs({},t.edge);e.attr=Zs(r,e.attr)}}function DG(t,e,r,n,i){var s={from:e,to:r,type:n};return t.edge&&(s.attr=Zs({},t.edge)),s.attr=Zs(s.attr||{},i),i!=null&&i.hasOwnProperty("arrows")&&i.arrows!=null&&(s.arrows={to:{enabled:!0,type:i.arrows.type}},i.arrows=null),s}function et(){for(zr=Tr.NULL,xe="";Re===" "||Re==="	"||Re===`
`||Re==="\r";)Kt();do{var t=!1;if(Re==="#"){for(var e=Ql-1;$s.charAt(e)===" "||$s.charAt(e)==="	";)e--;if($s.charAt(e)===`
`||$s.charAt(e)===""){for(;Re!=""&&Re!=`
`;)Kt();t=!0}}if(Re==="/"&&Fa()==="/"){for(;Re!=""&&Re!=`
`;)Kt();t=!0}if(Re==="/"&&Fa()==="*"){for(;Re!="";)if(Re==="*"&&Fa()==="/"){Kt(),Kt();break}else Kt();t=!0}for(;Re===" "||Re==="	"||Re===`
`||Re==="\r";)Kt()}while(t);if(Re===""){zr=Tr.DELIMITER;return}var r=Re+Fa();if(u5[r]){zr=Tr.DELIMITER,xe=r,Kt(),Kt();return}if(u5[Re]){zr=Tr.DELIMITER,xe=Re,Kt();return}if(c5(Re)||Re==="-"){for(xe+=Re,Kt();c5(Re);)xe+=Re,Kt();xe==="false"?xe=!1:xe==="true"?xe=!0:isNaN(Number(xe))||(xe=Number(xe)),zr=Tr.IDENTIFIER;return}if(Re==='"'){for(Kt();Re!=""&&(Re!='"'||Re==='"'&&Fa()==='"');)Re==='"'?(xe+=Re,Kt()):Re==="\\"&&Fa()==="n"?(xe+=`
`,Kt()):xe+=Re,Kt();if(Re!='"')throw Cr('End of string " expected');Kt(),zr=Tr.IDENTIFIER;return}for(zr=Tr.UNKNOWN;Re!="";)xe+=Re,Kt();throw new SyntaxError('Syntax error in part "'+FG(xe,30)+'"')}function vpe(){var t={};if(fpe(),et(),xe==="strict"&&(t.strict=!0,et()),(xe==="graph"||xe==="digraph")&&(t.type=xe,et()),zr===Tr.IDENTIFIER&&(t.id=xe,et()),xe!="{")throw Cr("Angle bracket { expected");if(et(),qG(t),xe!="}")throw Cr("Angle bracket } expected");if(et(),xe!=="")throw Cr("End of file expected");return et(),delete t.node,delete t.edge,delete t.graph,t}function qG(t){for(;xe!==""&&xe!="}";)ype(t),xe===";"&&et()}function ype(t){var e=MG(t);if(e){AG(t,e);return}var r=gpe(t);if(!r){if(zr!=Tr.IDENTIFIER)throw Cr("Identifier expected");var n=xe;if(et(),xe==="="){if(et(),zr!=Tr.IDENTIFIER)throw Cr("Identifier expected");t[n]=xe,et()}else bpe(t,n)}}function MG(t){var e=null;if(xe==="subgraph"&&(e={},e.type="subgraph",et(),zr===Tr.IDENTIFIER&&(e.id=xe,et())),xe==="{"){if(et(),e||(e={}),e.parent=t,e.node=t.node,e.edge=t.edge,e.graph=t.graph,qG(e),xe!="}")throw Cr("Angle bracket } expected");et(),delete e.node,delete e.edge,delete e.graph,delete e.parent,t.subgraphs||(t.subgraphs=[]),t.subgraphs.push(e)}return e}function gpe(t){return xe==="node"?(et(),t.node=yc(),"node"):xe==="edge"?(et(),t.edge=yc(),"edge"):xe==="graph"?(et(),t.graph=yc(),"graph"):null}function bpe(t,e){var r={id:e},n=yc();n&&(r.attr=n),kG(t,r),AG(t,e)}function AG(t,e){for(;xe==="->"||xe==="--";){var r,n=xe;et();var i=MG(t);if(i)r=i;else{if(zr!=Tr.IDENTIFIER)throw Cr("Identifier or subgraph expected");r=xe,kG(t,{id:r}),et()}var s=yc(),o=DG(t,e,r,n,s);mpe(t,o),e=r}}function yc(){for(var t,e=null,r={dashed:!0,solid:!1,dotted:[1,5]},n={dot:"circle",box:"box",crow:"crow",curve:"curve",icurve:"inv_curve",normal:"triangle",inv:"inv_triangle",diamond:"diamond",tee:"bar",vee:"vee"},i=new Array,s=new Array;xe==="[";){for(et(),e={};xe!==""&&xe!="]";){if(zr!=Tr.IDENTIFIER)throw Cr("Attribute name expected");var o=xe;if(et(),xe!="=")throw Cr("Equal sign = expected");if(et(),zr!=Tr.IDENTIFIER)throw Cr("Attribute value expected");var a=xe;o==="style"&&(a=r[a]);var l;o==="arrowhead"&&(l=n[a],o="arrows",a={to:{enabled:!0,type:l}}),o==="arrowtail"&&(l=n[a],o="arrows",a={from:{enabled:!0,type:l}}),i.push({attr:e,name:o,value:a}),s.push(o),et(),xe==","&&et()}if(xe!="]")throw Cr("Bracket ] expected");et()}if(Hs(s).call(s,"dir")){var u={};for(u.arrows={},t=0;t<i.length;t++)if(i[t].name==="arrows")if(i[t].value.to!=null)u.arrows.to=t;else if(i[t].value.from!=null)u.arrows.from=t;else throw Cr("Invalid value of arrows");else i[t].name==="dir"&&(u.dir=t);var c=i[u.dir].value;if(!Hs(s).call(s,"arrows"))if(c==="both")i.push({attr:i[u.dir].attr,name:"arrows",value:{to:{enabled:!0}}}),u.arrows.to=i.length-1,i.push({attr:i[u.dir].attr,name:"arrows",value:{from:{enabled:!0}}}),u.arrows.from=i.length-1;else if(c==="forward")i.push({attr:i[u.dir].attr,name:"arrows",value:{to:{enabled:!0}}}),u.arrows.to=i.length-1;else if(c==="back")i.push({attr:i[u.dir].attr,name:"arrows",value:{from:{enabled:!0}}}),u.arrows.from=i.length-1;else if(c==="none")i.push({attr:i[u.dir].attr,name:"arrows",value:""}),u.arrows.to=i.length-1;else throw Cr('Invalid dir type "'+c+'"');var d,f;if(c==="both")u.arrows.to&&u.arrows.from?(f=i[u.arrows.to].value.to.type,d=i[u.arrows.from].value.from.type,i[u.arrows.to]={attr:i[u.arrows.to].attr,name:i[u.arrows.to].name,value:{to:{enabled:!0,type:f},from:{enabled:!0,type:d}}},Li(i).call(i,u.arrows.from,1)):u.arrows.to?(f=i[u.arrows.to].value.to.type,d="arrow",i[u.arrows.to]={attr:i[u.arrows.to].attr,name:i[u.arrows.to].name,value:{to:{enabled:!0,type:f},from:{enabled:!0,type:d}}}):u.arrows.from&&(f="arrow",d=i[u.arrows.from].value.from.type,i[u.arrows.from]={attr:i[u.arrows.from].attr,name:i[u.arrows.from].name,value:{to:{enabled:!0,type:f},from:{enabled:!0,type:d}}});else if(c==="back")u.arrows.to&&u.arrows.from?(f="",d=i[u.arrows.from].value.from.type,i[u.arrows.from]={attr:i[u.arrows.from].attr,name:i[u.arrows.from].name,value:{to:{enabled:!0,type:f},from:{enabled:!0,type:d}}}):u.arrows.to?(f="",d="arrow",u.arrows.from=u.arrows.to,i[u.arrows.from]={attr:i[u.arrows.from].attr,name:i[u.arrows.from].name,value:{to:{enabled:!0,type:f},from:{enabled:!0,type:d}}}):u.arrows.from&&(f="",d=i[u.arrows.from].value.from.type,i[u.arrows.to]={attr:i[u.arrows.from].attr,name:i[u.arrows.from].name,value:{to:{enabled:!0,type:f},from:{enabled:!0,type:d}}}),i[u.arrows.from]={attr:i[u.arrows.from].attr,name:i[u.arrows.from].name,value:{from:{enabled:!0,type:i[u.arrows.from].value.from.type}}};else if(c==="none"){var p;u.arrows.to?p=u.arrows.to:p=u.arrows.from,i[p]={attr:i[p].attr,name:i[p].name,value:""}}else if(c==="forward")u.arrows.to&&u.arrows.from?(f=i[u.arrows.to].value.to.type,d="",i[u.arrows.to]={attr:i[u.arrows.to].attr,name:i[u.arrows.to].name,value:{to:{enabled:!0,type:f},from:{enabled:!0,type:d}}}):u.arrows.to?(f=i[u.arrows.to].value.to.type,d="",i[u.arrows.to]={attr:i[u.arrows.to].attr,name:i[u.arrows.to].name,value:{to:{enabled:!0,type:f},from:{enabled:!0,type:d}}}):u.arrows.from&&(f="arrow",d="",u.arrows.to=u.arrows.from,i[u.arrows.to]={attr:i[u.arrows.to].attr,name:i[u.arrows.to].name,value:{to:{enabled:!0,type:f},from:{enabled:!0,type:d}}}),i[u.arrows.to]={attr:i[u.arrows.to].attr,name:i[u.arrows.to].name,value:{to:{enabled:!0,type:i[u.arrows.to].value.to.type}}};else throw Cr('Invalid dir type "'+c+'"');Li(i).call(i,u.dir,1)}var m;if(Hs(s).call(s,"penwidth")){var g=[];for(m=i.length,t=0;t<m;t++)i[t].name!=="width"&&(i[t].name==="penwidth"&&(i[t].name="width"),g.push(i[t]));i=g}for(m=i.length,t=0;t<m;t++)ppe(i[t].attr,i[t].name,i[t].value);return e}function Cr(t){return new SyntaxError(t+', got "'+FG(xe,30)+'" (char '+Ql+")")}function FG(t,e){return t.length<=e?t:t.substr(0,27)+"..."}function wpe(t,e,r){Ot(t)?Ge(t).call(t,function(n){Ot(e)?Ge(e).call(e,function(i){r(n,i)}):r(n,e)}):Ot(e)?Ge(e).call(e,function(n){r(t,n)}):r(t,e)}function H_(t,e,r){for(var n=e.split("."),i=n.pop(),s=t,o=0;o<n.length;o++){var a=n[o];a in s||(s[a]={}),s=s[a]}return s[i]=r,t}function d5(t,e){var r={};for(var n in t)if(t.hasOwnProperty(n)){var i=e[n];Ot(i)?Ge(i).call(i,function(s){H_(r,s,t[n])}):typeof i=="string"?H_(r,i,t[n]):H_(r,n,t[n])}return r}function xpe(t){var e=hpe(t),r={nodes:[],edges:[],options:{}};if(e.nodes){var n;Ge(n=e.nodes).call(n,function(o){var a={id:o.id,label:String(o.label||o.id)};Zs(a,d5(o.attr,jG)),a.image&&(a.shape="image"),r.nodes.push(a)})}if(e.edges){var i,s=function(o){var a={from:o.from,to:o.to};return Zs(a,d5(o.attr,fI)),a.arrows==null&&o.type==="->"&&(a.arrows="to"),a};Ge(i=e.edges).call(i,function(o){var a,l;if(o.from instanceof Object?a=o.from.nodes:a={id:o.from},o.to instanceof Object?l=o.to.nodes:l={id:o.to},o.from instanceof Object&&o.from.edges){var u;Ge(u=o.from.edges).call(u,function(d){var f=s(d);r.edges.push(f)})}if(wpe(a,l,function(d,f){var p=DG(r,d.id,f.id,o.type,o.attr),m=s(p);r.edges.push(m)}),o.to instanceof Object&&o.to.edges){var c;Ge(c=o.to.edges).call(c,function(d){var f=s(d);r.edges.push(f)})}})}return e.attr&&(r.options=e.attr),r}function _pe(t,e){var r;const n={edges:{inheritColor:!1},nodes:{fixed:!1,parseColor:!1}};e!=null&&(e.fixed!=null&&(n.nodes.fixed=e.fixed),e.parseColor!=null&&(n.nodes.parseColor=e.parseColor),e.inheritColor!=null&&(n.edges.inheritColor=e.inheritColor));const i=t.edges,s=Vl(i).call(i,a=>{const l={from:a.source,id:a.id,to:a.target};return a.attributes!=null&&(l.attributes=a.attributes),a.label!=null&&(l.label=a.label),a.attributes!=null&&a.attributes.title!=null&&(l.title=a.attributes.title),a.type==="Directed"&&(l.arrows="to"),a.color&&n.edges.inheritColor===!1&&(l.color=a.color),l});return{nodes:Vl(r=t.nodes).call(r,a=>{const l={id:a.id,fixed:n.nodes.fixed&&a.x!=null&&a.y!=null};return a.attributes!=null&&(l.attributes=a.attributes),a.label!=null&&(l.label=a.label),a.size!=null&&(l.size=a.size),a.attributes!=null&&a.attributes.title!=null&&(l.title=a.attributes.title),a.title!=null&&(l.title=a.title),a.x!=null&&(l.x=a.x),a.y!=null&&(l.y=a.y),a.color!=null&&(n.nodes.parseColor===!0?l.color=a.color:l.color={background:a.color,border:a.color,highlight:{background:a.color,border:a.color},hover:{background:a.color,border:a.color}}),l}),edges:s}}const Spe={addDescription:"Click in an empty space to place a new node.",addEdge:"Add Edge",addNode:"Add Node",back:"Back",close:"Close",createEdgeError:"Cannot link edges to a cluster.",del:"Delete selected",deleteClusterError:"Clusters cannot be deleted.",edgeDescription:"Click on a node and drag the edge to another node to connect them.",edit:"Edit",editClusterError:"Clusters cannot be edited.",editEdge:"Edit Edge",editEdgeDescription:"Click on the control points and drag them to a node to connect to it.",editNode:"Edit Node"},Epe={addDescription:"Klicke auf eine freie Stelle, um einen neuen Knoten zu plazieren.",addEdge:"Kante hinzufgen",addNode:"Knoten hinzufgen",back:"Zurck",close:"Schlieen",createEdgeError:"Es ist nicht mglich, Kanten mit Clustern zu verbinden.",del:"Lsche Auswahl",deleteClusterError:"Cluster knnen nicht gelscht werden.",edgeDescription:"Klicke auf einen Knoten und ziehe die Kante zu einem anderen Knoten, um diese zu verbinden.",edit:"Editieren",editClusterError:"Cluster knnen nicht editiert werden.",editEdge:"Kante editieren",editEdgeDescription:"Klicke auf die Verbindungspunkte und ziehe diese auf einen Knoten, um sie zu verbinden.",editNode:"Knoten editieren"},Ope={addDescription:"Haga clic en un lugar vaco para colocar un nuevo nodo.",addEdge:"Aadir arista",addNode:"Aadir nodo",back:"Atrs",close:"Cerrar",createEdgeError:"No se puede conectar una arista a un grupo.",del:"Eliminar seleccin",deleteClusterError:"No es posible eliminar grupos.",edgeDescription:"Haga clic en un nodo y arrastre la arista hacia otro nodo para conectarlos.",edit:"Editar",editClusterError:"No es posible editar grupos.",editEdge:"Editar arista",editEdgeDescription:"Haga clic en un punto de control y arrastrelo a un nodo para conectarlo.",editNode:"Editar nodo"},Ppe={addDescription:"Clicca per aggiungere un nuovo nodo",addEdge:"Aggiungi un vertice",addNode:"Aggiungi un nodo",back:"Indietro",close:"Chiudere",createEdgeError:"Non si possono collegare vertici ad un cluster",del:"Cancella la selezione",deleteClusterError:"I cluster non possono essere cancellati",edgeDescription:"Clicca su un nodo e trascinalo ad un altro nodo per connetterli.",edit:"Modifica",editClusterError:"I clusters non possono essere modificati.",editEdge:"Modifica il vertice",editEdgeDescription:"Clicca sui Punti di controllo e trascinali ad un nodo per connetterli.",editNode:"Modifica il nodo"},Tpe={addDescription:"Klik op een leeg gebied om een nieuwe node te maken.",addEdge:"Link toevoegen",addNode:"Node toevoegen",back:"Terug",close:"Sluiten",createEdgeError:"Kan geen link maken naar een cluster.",del:"Selectie verwijderen",deleteClusterError:"Clusters kunnen niet worden verwijderd.",edgeDescription:"Klik op een node en sleep de link naar een andere node om ze te verbinden.",edit:"Wijzigen",editClusterError:"Clusters kunnen niet worden aangepast.",editEdge:"Link wijzigen",editEdgeDescription:"Klik op de verbindingspunten en sleep ze naar een node om daarmee te verbinden.",editNode:"Node wijzigen"},Cpe={addDescription:"Clique em um espao em branco para adicionar um novo n",addEdge:"Adicionar aresta",addNode:"Adicionar n",back:"Voltar",close:"Fechar",createEdgeError:"No foi possvel linkar arestas a um cluster.",del:"Remover selecionado",deleteClusterError:"Clusters no puderam ser removidos.",edgeDescription:"Clique em um n e arraste a aresta at outro n para conect-los",edit:"Editar",editClusterError:"Clusters no puderam ser editados.",editEdge:"Editar aresta",editEdgeDescription:"Clique nos pontos de controle e os arraste para um n para conect-los",editNode:"Editar n"},Ipe={addDescription:"   ,    .",addEdge:" ",addNode:" ",back:"",close:"",createEdgeError:"    .",del:" ",deleteClusterError:"    ",edgeDescription:"        ,   .",edit:"",editClusterError:"   .",editEdge:" ",editEdgeDescription:"        ,    .",editNode:" "},Rpe={addDescription:"",addEdge:"",addNode:"",back:"",close:"",createEdgeError:"",del:"",deleteClusterError:"",edgeDescription:"",edit:"",editClusterError:"",editEdge:"",editEdgeDescription:"",editNode:""},Npe={addDescription:"K   ,    .",addEdge:" ",addNode:" ",back:"",close:"",createEdgeError:"  '   .",del:" ",deleteClusterError:"    .",edgeDescription:"        ,   '.",edit:"",editClusterError:"   .",editEdge:" ",editEdgeDescription:"        ,    .",editNode:" "},$pe={addDescription:"Cliquez dans un endroit vide pour placer un nud.",addEdge:"Ajouter un lien",addNode:"Ajouter un nud",back:"Retour",close:"Fermer",createEdgeError:"Impossible de crer un lien vers un cluster.",del:"Effacer la slection",deleteClusterError:"Les clusters ne peuvent pas tre effacs.",edgeDescription:"Cliquez sur un nud et glissez le lien vers un autre nud pour les connecter.",edit:"diter",editClusterError:"Les clusters ne peuvent pas tre dits.",editEdge:"diter le lien",editEdgeDescription:"Cliquez sur les points de contrle et glissez-les pour connecter un nud.",editNode:"diter le nud"},jpe={addDescription:"Kluknutm do przdnho prostoru mete pidat nov vrchol.",addEdge:"Pidat hranu",addNode:"Pidat vrchol",back:"Zpt",close:"Zavt",createEdgeError:"Nelze pipojit hranu ke shluku.",del:"Smazat vbr",deleteClusterError:"Nelze mazat shluky.",edgeDescription:"Petaenm z jednoho vrcholu do druhho mete spojit tyto vrcholy novou hranou.",edit:"Upravit",editClusterError:"Nelze upravovat shluky.",editEdge:"Upravit hranu",editEdgeDescription:"Petaenm kontrolnho vrcholu hrany ji mete pipojit k jinmu vrcholu.",editNode:"Upravit vrchol"};var kpe=Object.freeze({__proto__:null,cn:Rpe,cs:jpe,de:Epe,en:Spe,es:Ope,fr:$pe,it:Ppe,nl:Tpe,pt:Cpe,ru:Ipe,uk:Npe});function Dpe(t,e){try{const[n,i]=e.split(/[-_ /]/,2),s=n!=null?n.toLowerCase():null,o=i!=null?i.toUpperCase():null;if(s&&o){const a=s+"-"+o;if(Object.prototype.hasOwnProperty.call(t,a))return a;var r;console.warn(she(r="Unknown variant ".concat(o," of language ")).call(r,s,"."))}if(s){const a=s;if(Object.prototype.hasOwnProperty.call(t,a))return a;console.warn("Unknown language ".concat(s))}return console.warn("Unknown locale ".concat(e,", falling back to English.")),"en"}catch(n){return console.error(n),console.warn("Unexpected error while normalizing locale ".concat(e,", falling back to English.")),"en"}}class qpe{constructor(){this.NUM_ITERATIONS=4,this.image=new Image,this.canvas=document.createElement("canvas")}init(){if(this.initialized())return;this.src=this.image.src;const e=this.image.width,r=this.image.height;this.width=e,this.height=r;const n=Math.floor(r/2),i=Math.floor(r/4),s=Math.floor(r/8),o=Math.floor(r/16),a=Math.floor(e/2),l=Math.floor(e/4),u=Math.floor(e/8),c=Math.floor(e/16);this.canvas.width=3*l,this.canvas.height=n,this.coordinates=[[0,0,a,n],[a,0,l,i],[a,i,u,s],[5*u,i,c,o]],this._fillMipMap()}initialized(){return this.coordinates!==void 0}_fillMipMap(){const e=this.canvas.getContext("2d"),r=this.coordinates[0];e.drawImage(this.image,r[0],r[1],r[2],r[3]);for(let n=1;n<this.NUM_ITERATIONS;n++){const i=this.coordinates[n-1],s=this.coordinates[n];e.drawImage(this.canvas,i[0],i[1],i[2],i[3],s[0],s[1],s[2],s[3])}}drawImageAtPosition(e,r,n,i,s,o){if(this.initialized())if(r>2){r*=.5;let a=0;for(;r>2&&a<this.NUM_ITERATIONS;)r*=.5,a+=1;a>=this.NUM_ITERATIONS&&(a=this.NUM_ITERATIONS-1);const l=this.coordinates[a];e.drawImage(this.canvas,l[0],l[1],l[2],l[3],n,i,s,o)}else e.drawImage(this.image,n,i,s,o)}}class Mpe{constructor(e){this.images={},this.imageBroken={},this.callback=e}_tryloadBrokenUrl(e,r,n){if(!(e===void 0||n===void 0)){if(r===void 0){console.warn("No broken url image defined");return}n.image.onerror=()=>{console.error("Could not load brokenImage:",r)},n.image.src=r}}_redrawWithImage(e){this.callback&&this.callback(e)}load(e,r){const n=this.images[e];if(n)return n;const i=new qpe;return this.images[e]=i,i.image.onload=()=>{this._fixImageCoordinates(i.image),i.init(),this._redrawWithImage(i)},i.image.onerror=()=>{console.error("Could not load image:",e),this._tryloadBrokenUrl(e,r,i)},i.image.src=e,i}_fixImageCoordinates(e){e.width===0&&(document.body.appendChild(e),e.width=e.offsetWidth,e.height=e.offsetHeight,document.body.removeChild(e))}}var h5={},f5={},V_={exports:{}},K_,p5;function Ape(){if(p5)return K_;p5=1;var t=qe();return K_=t(function(){if(typeof ArrayBuffer=="function"){var e=new ArrayBuffer(8);Object.isExtensible(e)&&Object.defineProperty(e,"a",{value:8})}}),K_}var G_,m5;function Fpe(){if(m5)return G_;m5=1;var t=qe(),e=nr(),r=_i(),n=Ape(),i=Object.isExtensible,s=t(function(){});return G_=s||n?function(a){return!e(a)||n&&r(a)==="ArrayBuffer"?!1:i?i(a):!0}:i,G_}var Y_,v5;function LG(){if(v5)return Y_;v5=1;var t=qe();return Y_=!t(function(){return Object.isExtensible(Object.preventExtensions({}))}),Y_}var y5;function tm(){if(y5)return V_.exports;y5=1;var t=ge(),e=Ae(),r=zd(),n=nr(),i=dr(),s=jn().f,o=Yp(),a=JC(),l=Fpe(),u=zp(),c=LG(),d=!1,f=u("meta"),p=0,m=function(w){s(w,f,{value:{objectID:"O"+p++,weakData:{}}})},g=function(w,_){if(!n(w))return typeof w=="symbol"?w:(typeof w=="string"?"S":"P")+w;if(!i(w,f)){if(!l(w))return"F";if(!_)return"E";m(w)}return w[f].objectID},b=function(w,_){if(!i(w,f)){if(!l(w))return!0;if(!_)return!1;m(w)}return w[f].weakData},y=function(w){return c&&d&&l(w)&&!i(w,f)&&m(w),w},v=function(){x.enable=function(){},d=!0;var w=o.f,_=e([].splice),E={};E[f]=1,w(E).length&&(o.f=function(O){for(var S=w(O),T=0,P=S.length;T<P;T++)if(S[T]===f){_(S,T,1);break}return S},t({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:a.f}))},x=V_.exports={enable:v,fastKey:g,getWeakData:b,onFreeze:y};return r[f]=!0,V_.exports}var Q_,g5;function Lpe(){if(g5)return Q_;g5=1;var t=Ft(),e=Tu(),r=t("iterator"),n=Array.prototype;return Q_=function(i){return i!==void 0&&(e.Array===i||n[r]===i)},Q_}var X_,b5;function BG(){if(b5)return X_;b5=1;var t=Pu(),e=UC(),r=yu(),n=Tu(),i=Ft(),s=i("iterator");return X_=function(o){if(!r(o))return e(o,s)||e(o,"@@iterator")||n[t(o)]},X_}var J_,w5;function Bpe(){if(w5)return J_;w5=1;var t=nn(),e=os(),r=Si(),n=wu(),i=BG(),s=TypeError;return J_=function(o,a){var l=arguments.length<2?i(o):a;if(e(l))return r(t(l,o));throw new s(n(o)+" is not iterable")},J_}var Z_,x5;function pI(){if(x5)return Z_;x5=1;var t=nn(),e=Si(),r=UC();return Z_=function(n,i,s){var o,a;e(n);try{if(o=r(n,"return"),!o){if(i==="throw")throw s;return s}o=t(o,n)}catch(l){a=!0,o=l}if(i==="throw")throw s;if(a)throw o;return e(o),s},Z_}var eS,_5;function rm(){if(_5)return eS;_5=1;var t=Wp(),e=nn(),r=Si(),n=wu(),i=Lpe(),s=as(),o=At(),a=Bpe(),l=BG(),u=pI(),c=TypeError,d=function(p,m){this.stopped=p,this.result=m},f=d.prototype;return eS=function(p,m,g){var b=g&&g.that,y=!!(g&&g.AS_ENTRIES),v=!!(g&&g.IS_RECORD),x=!!(g&&g.IS_ITERATOR),w=!!(g&&g.INTERRUPTED),_=t(m,b),E,O,S,T,P,R,C,I=function(B){return E&&u(E,"normal"),new d(!0,B)},q=function(B){return y?(r(B),w?_(B[0],B[1],I):_(B[0],B[1])):w?_(B,I):_(B)};if(v)E=p.iterator;else if(x)E=p;else{if(O=l(p),!O)throw new c(n(p)+" is not iterable");if(i(O)){for(S=0,T=s(p);T>S;S++)if(P=q(p[S]),P&&o(f,P))return P;return new d(!1)}E=a(p,O)}for(R=v?p.next:E.next;!(C=e(R,E)).done;){try{P=q(C.value)}catch(B){u(E,"throw",B)}if(typeof P=="object"&&P&&o(f,P))return P}return new d(!1)},eS}var tS,S5;function mI(){if(S5)return tS;S5=1;var t=At(),e=TypeError;return tS=function(r,n){if(t(n,r))return r;throw new e("Incorrect invocation")},tS}var rS,E5;function vI(){if(E5)return rS;E5=1;var t=ge(),e=ut(),r=tm(),n=qe(),i=Su(),s=rm(),o=mI(),a=rr(),l=nr(),u=yu(),c=Oa(),d=jn().f,f=co().forEach,p=It(),m=Pa(),g=m.set,b=m.getterFor;return rS=function(y,v,x){var w=y.indexOf("Map")!==-1,_=y.indexOf("Weak")!==-1,E=w?"set":"add",O=e[y],S=O&&O.prototype,T={},P;if(!p||!a(O)||!(_||S.forEach&&!n(function(){new O().entries().next()})))P=x.getConstructor(v,y,w,E),r.enable();else{P=v(function(I,q){g(o(I,R),{type:y,collection:new O}),u(q)||s(q,I[E],{that:I,AS_ENTRIES:w})});var R=P.prototype,C=b(y);f(["add","clear","delete","forEach","get","has","set","keys","values","entries"],function(I){var q=I==="add"||I==="set";I in S&&!(_&&I==="clear")&&i(R,I,function(B,re){var Q=C(this).collection;if(!q&&_&&!l(B))return I==="get"?void 0:!1;var L=Q[I](B===0?0:B,re);return q?this:L})}),_||d(R,"size",{configurable:!0,get:function(){return C(this).collection.size}})}return c(P,y,!1,!0),T[y]=P,t({global:!0,forced:!0},T),_||x.setStrong(P,y,w),P},rS}var nS,O5;function yI(){if(O5)return nS;O5=1;var t=Vd();return nS=function(e,r,n){for(var i in r)n&&n.unsafe&&e[i]?e[i]=r[i]:t(e,i,r[i],n);return e},nS}var iS,P5;function zpe(){if(P5)return iS;P5=1;var t=mn(),e=ZC(),r=Ft(),n=It(),i=r("species");return iS=function(s){var o=t(s);n&&o&&!o[i]&&e(o,i,{configurable:!0,get:function(){return this}})},iS}var sS,T5;function zG(){if(T5)return sS;T5=1;var t=Hd(),e=ZC(),r=yI(),n=Wp(),i=mI(),s=yu(),o=rm(),a=tI(),l=rI(),u=zpe(),c=It(),d=tm().fastKey,f=Pa(),p=f.set,m=f.getterFor;return sS={getConstructor:function(g,b,y,v){var x=g(function(S,T){i(S,w),p(S,{type:b,index:t(null),first:null,last:null,size:0}),c||(S.size=0),s(T)||o(T,S[v],{that:S,AS_ENTRIES:y})}),w=x.prototype,_=m(b),E=function(S,T,P){var R=_(S),C=O(S,T),I,q;return C?C.value=P:(R.last=C={index:q=d(T,!0),key:T,value:P,previous:I=R.last,next:null,removed:!1},R.first||(R.first=C),I&&(I.next=C),c?R.size++:S.size++,q!=="F"&&(R.index[q]=C)),S},O=function(S,T){var P=_(S),R=d(T),C;if(R!=="F")return P.index[R];for(C=P.first;C;C=C.next)if(C.key===T)return C};return r(w,{clear:function(){for(var T=this,P=_(T),R=P.first;R;)R.removed=!0,R.previous&&(R.previous=R.previous.next=null),R=R.next;P.first=P.last=null,P.index=t(null),c?P.size=0:T.size=0},delete:function(S){var T=this,P=_(T),R=O(T,S);if(R){var C=R.next,I=R.previous;delete P.index[R.index],R.removed=!0,I&&(I.next=C),C&&(C.previous=I),P.first===R&&(P.first=C),P.last===R&&(P.last=I),c?P.size--:T.size--}return!!R},forEach:function(T){for(var P=_(this),R=n(T,arguments.length>1?arguments[1]:void 0),C;C=C?C.next:P.first;)for(R(C.value,C.key,this);C&&C.removed;)C=C.previous},has:function(T){return!!O(this,T)}}),r(w,y?{get:function(T){var P=O(this,T);return P&&P.value},set:function(T,P){return E(this,T===0?0:T,P)}}:{add:function(T){return E(this,T=T===0?0:T,T)}}),c&&e(w,"size",{configurable:!0,get:function(){return _(this).size}}),x},setStrong:function(g,b,y){var v=b+" Iterator",x=m(b),w=m(v);a(g,b,function(_,E){p(this,{type:v,target:_,state:x(_),kind:E,last:null})},function(){for(var _=w(this),E=_.kind,O=_.last;O&&O.removed;)O=O.previous;return!_.target||!(_.last=O=O?O.next:_.state.first)?(_.target=null,l(void 0,!0)):l(E==="keys"?O.key:E==="values"?O.value:[O.key,O.value],!1)},y?"entries":"values",!y,!0),u(b)}},sS}var C5;function Upe(){if(C5)return f5;C5=1;var t=vI(),e=zG();return t("Map",function(r){return function(){return r(this,arguments.length?arguments[0]:void 0)}},e),f5}var I5;function Wpe(){return I5||(I5=1,Upe()),h5}var R5={},oS,N5;function UG(){return N5||(N5=1,oS=function(t,e){return e===1?function(r,n){return r[t](n)}:function(r,n,i){return r[t](n,i)}}),oS}var aS,$5;function Hpe(){if($5)return aS;$5=1;var t=mn(),e=UG(),r=t("Map");return aS={Map:r,set:e("set",2),get:e("get",1),has:e("has",1),remove:e("delete",1),proto:r.prototype},aS}var j5;function Vpe(){if(j5)return R5;j5=1;var t=ge(),e=Ae(),r=os(),n=ss(),i=rm(),s=Hpe(),o=xu(),a=qe(),l=s.Map,u=s.has,c=s.get,d=s.set,f=e([].push),p=o||a(function(){return l.groupBy("ab",function(m){return m}).get("a").length!==1});return t({target:"Map",stat:!0,forced:o||p},{groupBy:function(g,b){n(g),r(b);var y=new l,v=0;return i(g,function(x){var w=b(x,v++);u(y,w)?f(c(y,w),x):d(y,w,[x])}),y}}),R5}var k5={},lS,D5;function Kpe(){if(D5)return lS;D5=1;var t=Ae(),e=Eu(),r=kn(),n=ss(),i=t("".charAt),s=t("".charCodeAt),o=t("".slice),a=function(l){return function(u,c){var d=r(n(u)),f=e(c),p=d.length,m,g;return f<0||f>=p?l?"":void 0:(m=s(d,f),m<55296||m>56319||f+1===p||(g=s(d,f+1))<56320||g>57343?l?i(d,f):m:l?o(d,f,f+2):(m-55296<<10)+(g-56320)+65536)}};return lS={codeAt:a(!1),charAt:a(!0)},lS}var q5;function gI(){if(q5)return k5;q5=1;var t=Kpe().charAt,e=kn(),r=Pa(),n=tI(),i=rI(),s="String Iterator",o=r.set,a=r.getterFor(s);return n(String,"String",function(l){o(this,{type:s,string:e(l),index:0})},function(){var u=a(this),c=u.string,d=u.index,f;return d>=c.length?i(void 0,!0):(f=t(c,d),u.index+=f.length,i(f,!1))}),k5}var uS,M5;function Gpe(){if(M5)return uS;M5=1,Cu(),Wpe(),Vpe(),gI();var t=Ve();return uS=t.Map,uS}var cS,A5;function Ype(){if(A5)return cS;A5=1;var t=Gpe();return Iu(),cS=t,cS}var dS,F5;function Qpe(){return F5||(F5=1,dS=Ype()),dS}var Xpe=Qpe(),bI=Ee(Xpe);class Jpe{constructor(){this.clear(),this._defaultIndex=0,this._groupIndex=0,this._defaultGroups=[{border:"#2B7CE9",background:"#97C2FC",highlight:{border:"#2B7CE9",background:"#D2E5FF"},hover:{border:"#2B7CE9",background:"#D2E5FF"}},{border:"#FFA500",background:"#FFFF00",highlight:{border:"#FFA500",background:"#FFFFA3"},hover:{border:"#FFA500",background:"#FFFFA3"}},{border:"#FA0A10",background:"#FB7E81",highlight:{border:"#FA0A10",background:"#FFAFB1"},hover:{border:"#FA0A10",background:"#FFAFB1"}},{border:"#41A906",background:"#7BE141",highlight:{border:"#41A906",background:"#A1EC76"},hover:{border:"#41A906",background:"#A1EC76"}},{border:"#E129F0",background:"#EB7DF4",highlight:{border:"#E129F0",background:"#F0B3F5"},hover:{border:"#E129F0",background:"#F0B3F5"}},{border:"#7C29F0",background:"#AD85E4",highlight:{border:"#7C29F0",background:"#D3BDF0"},hover:{border:"#7C29F0",background:"#D3BDF0"}},{border:"#C37F00",background:"#FFA807",highlight:{border:"#C37F00",background:"#FFCA66"},hover:{border:"#C37F00",background:"#FFCA66"}},{border:"#4220FB",background:"#6E6EFD",highlight:{border:"#4220FB",background:"#9B9BFD"},hover:{border:"#4220FB",background:"#9B9BFD"}},{border:"#FD5A77",background:"#FFC0CB",highlight:{border:"#FD5A77",background:"#FFD1D9"},hover:{border:"#FD5A77",background:"#FFD1D9"}},{border:"#4AD63A",background:"#C2FABC",highlight:{border:"#4AD63A",background:"#E6FFE3"},hover:{border:"#4AD63A",background:"#E6FFE3"}},{border:"#990000",background:"#EE0000",highlight:{border:"#BB0000",background:"#FF3333"},hover:{border:"#BB0000",background:"#FF3333"}},{border:"#FF6000",background:"#FF6000",highlight:{border:"#FF6000",background:"#FF6000"},hover:{border:"#FF6000",background:"#FF6000"}},{border:"#97C2FC",background:"#2B7CE9",highlight:{border:"#D2E5FF",background:"#2B7CE9"},hover:{border:"#D2E5FF",background:"#2B7CE9"}},{border:"#399605",background:"#255C03",highlight:{border:"#399605",background:"#255C03"},hover:{border:"#399605",background:"#255C03"}},{border:"#B70054",background:"#FF007E",highlight:{border:"#B70054",background:"#FF007E"},hover:{border:"#B70054",background:"#FF007E"}},{border:"#AD85E4",background:"#7C29F0",highlight:{border:"#D3BDF0",background:"#7C29F0"},hover:{border:"#D3BDF0",background:"#7C29F0"}},{border:"#4557FA",background:"#000EA1",highlight:{border:"#6E6EFD",background:"#000EA1"},hover:{border:"#6E6EFD",background:"#000EA1"}},{border:"#FFC0CB",background:"#FD5A77",highlight:{border:"#FFD1D9",background:"#FD5A77"},hover:{border:"#FFD1D9",background:"#FD5A77"}},{border:"#C2FABC",background:"#74D66A",highlight:{border:"#E6FFE3",background:"#74D66A"},hover:{border:"#E6FFE3",background:"#74D66A"}},{border:"#EE0000",background:"#990000",highlight:{border:"#FF3333",background:"#BB0000"},hover:{border:"#FF3333",background:"#BB0000"}}],this.options={},this.defaultOptions={useDefaultGroups:!0},kt(this.options,this.defaultOptions)}setOptions(e){const r=["useDefaultGroups"];if(e!==void 0){for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&Ue(r).call(r,n)===-1){const i=e[n];this.add(n,i)}}}clear(){this._groups=new bI,this._groupNames=[]}get(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,n=this._groups.get(e);if(n===void 0&&r)if(this.options.useDefaultGroups===!1&&this._groupNames.length>0){const i=this._groupIndex%this._groupNames.length;++this._groupIndex,n={},n.color=this._groups.get(this._groupNames[i]),this._groups.set(e,n)}else{const i=this._defaultIndex%this._defaultGroups.length;this._defaultIndex++,n={},n.color=this._defaultGroups[i],this._groups.set(e,n)}return n}add(e,r){return this._groups.has(e)||this._groupNames.push(e),this._groups.set(e,r),r}}var L5={},B5;function Zpe(){if(B5)return L5;B5=1;var t=ge();return t({target:"Number",stat:!0},{isNaN:function(r){return r!==r}}),L5}var hS,z5;function eme(){if(z5)return hS;z5=1,Zpe();var t=Ve();return hS=t.Number.isNaN,hS}var fS,U5;function tme(){if(U5)return fS;U5=1;var t=eme();return fS=t,fS}var pS,W5;function rme(){return W5||(W5=1,pS=tme()),pS}var nme=rme(),ZP=Ee(nme),H5={},mS,V5;function ime(){if(V5)return mS;V5=1;var t=ut(),e=t.isFinite;return mS=Number.isFinite||function(n){return typeof n=="number"&&e(n)},mS}var K5;function sme(){if(K5)return H5;K5=1;var t=ge(),e=ime();return t({target:"Number",stat:!0},{isFinite:e}),H5}var vS,G5;function ome(){if(G5)return vS;G5=1,sme();var t=Ve();return vS=t.Number.isFinite,vS}var yS,Y5;function ame(){if(Y5)return yS;Y5=1;var t=ome();return yS=t,yS}var gS,Q5;function lme(){return Q5||(Q5=1,gS=ame()),gS}var ume=lme(),Co=Ee(ume),X5={},J5;function cme(){if(J5)return X5;J5=1;var t=ge(),e=co().some,r=Ru(),n=r("some");return t({target:"Array",proto:!0,forced:!n},{some:function(s){return e(this,s,arguments.length>1?arguments[1]:void 0)}}),X5}var bS,Z5;function dme(){if(Z5)return bS;Z5=1,cme();var t=hr();return bS=t("Array","some"),bS}var wS,e6;function hme(){if(e6)return wS;e6=1;var t=At(),e=dme(),r=Array.prototype;return wS=function(n){var i=n.some;return n===r||t(r,n)&&i===r.some?e:i},wS}var xS,t6;function fme(){if(t6)return xS;t6=1;var t=hme();return xS=t,xS}var _S,r6;function pme(){return r6||(r6=1,_S=fme()),_S}var mme=pme(),vme=Ee(mme),SS={exports:{}},n6={},i6;function yme(){if(i6)return n6;i6=1;var t=ge(),e=It(),r=jn().f;return t({target:"Object",stat:!0,forced:Object.defineProperty!==r,sham:!e},{defineProperty:r}),n6}var s6;function gme(){if(s6)return SS.exports;s6=1,yme();var t=Ve(),e=t.Object,r=SS.exports=function(i,s,o){return e.defineProperty(i,s,o)};return e.defineProperty.sham&&(r.sham=!0),SS.exports}var ES,o6;function WG(){if(o6)return ES;o6=1;var t=gme();return ES=t,ES}var OS,a6;function bme(){if(a6)return OS;a6=1;var t=WG();return OS=t,OS}var PS,l6;function wme(){if(l6)return PS;l6=1;var t=bme();return PS=t,PS}var TS,u6;function xme(){return u6||(u6=1,TS=wme()),TS}var _me=xme(),Sme=Ee(_me),c6={},d6;function Eme(){if(d6)return c6;d6=1;var t=Ft(),e=jn().f,r=t("metadata"),n=Function.prototype;return n[r]===void 0&&e(n,r,{value:null}),c6}var h6={},f6;function Ome(){return f6||(f6=1,V9()),h6}var p6={},m6;function Pme(){return m6||(m6=1,K9()),p6}var v6={},y6;function Tme(){if(y6)return v6;y6=1;var t=vt();return t("metadata"),v6}var CS,g6;function Cme(){if(g6)return CS;g6=1;var t=J9();return Eme(),Ome(),Pme(),Tme(),CS=t,CS}var b6={},IS,w6;function HG(){if(w6)return IS;w6=1;var t=mn(),e=Ae(),r=t("Symbol"),n=r.keyFor,i=e(r.prototype.valueOf);return IS=r.isRegisteredSymbol||function(o){try{return n(i(o))!==void 0}catch{return!1}},IS}var x6;function Ime(){if(x6)return b6;x6=1;var t=ge(),e=HG();return t({target:"Symbol",stat:!0},{isRegisteredSymbol:e}),b6}var _6={},RS,S6;function VG(){if(S6)return RS;S6=1;for(var t=_u(),e=mn(),r=Ae(),n=Bd(),i=Ft(),s=e("Symbol"),o=s.isWellKnownSymbol,a=e("Object","getOwnPropertyNames"),l=r(s.prototype.valueOf),u=t("wks"),c=0,d=a(s),f=d.length;c<f;c++)try{var p=d[c];n(s[p])&&i(p)}catch{}return RS=function(g){if(o&&o(g))return!0;try{for(var b=l(g),y=0,v=a(u),x=v.length;y<x;y++)if(u[v[y]]==b)return!0}catch{}return!1},RS}var E6;function Rme(){if(E6)return _6;E6=1;var t=ge(),e=VG();return t({target:"Symbol",stat:!0,forced:!0},{isWellKnownSymbol:e}),_6}var O6={},P6;function Nme(){if(P6)return O6;P6=1;var t=vt();return t("customMatcher"),O6}var T6={},C6;function $me(){if(C6)return T6;C6=1;var t=vt();return t("observable"),T6}var I6={},R6;function jme(){if(R6)return I6;R6=1;var t=ge(),e=HG();return t({target:"Symbol",stat:!0,name:"isRegisteredSymbol"},{isRegistered:e}),I6}var N6={},$6;function kme(){if($6)return N6;$6=1;var t=ge(),e=VG();return t({target:"Symbol",stat:!0,name:"isWellKnownSymbol",forced:!0},{isWellKnown:e}),N6}var j6={},k6;function Dme(){if(k6)return j6;k6=1;var t=vt();return t("matcher"),j6}var D6={},q6;function qme(){if(q6)return D6;q6=1;var t=vt();return t("metadataKey"),D6}var M6={},A6;function Mme(){if(A6)return M6;A6=1;var t=vt();return t("patternMatch"),M6}var F6={},L6;function Ame(){if(L6)return F6;L6=1;var t=vt();return t("replaceAll"),F6}var NS,B6;function Fme(){if(B6)return NS;B6=1;var t=Cme();return Ime(),Rme(),Nme(),$me(),jme(),kme(),Dme(),qme(),Mme(),Ame(),NS=t,NS}var $S,z6;function Lme(){return z6||(z6=1,$S=Fme()),$S}var Bme=Lme(),jh=Ee(Bme),jS,U6;function zme(){if(U6)return jS;U6=1,Cu(),gI(),G9();var t=Qp();return jS=t.f("iterator"),jS}var kS,W6;function Ume(){if(W6)return kS;W6=1;var t=zme();return Iu(),kS=t,kS}var DS,H6;function Wme(){if(H6)return DS;H6=1;var t=Ume();return DS=t,DS}var qS,V6;function Hme(){if(V6)return qS;V6=1;var t=Wme();return qS=t,qS}var MS,K6;function Vme(){return K6||(K6=1,MS=Hme()),MS}var Kme=Vme(),Gme=Ee(Kme);function td(t){"@babel/helpers - typeof";return td=typeof jh=="function"&&typeof Gme=="symbol"?function(e){return typeof e}:function(e){return e&&typeof jh=="function"&&e.constructor===jh&&e!==jh.prototype?"symbol":typeof e},td(t)}var AS,G6;function Yme(){if(G6)return AS;G6=1,Y9();var t=Qp();return AS=t.f("toPrimitive"),AS}var FS,Y6;function Qme(){if(Y6)return FS;Y6=1;var t=Yme();return FS=t,FS}var LS,Q6;function Xme(){if(Q6)return LS;Q6=1;var t=Qme();return LS=t,LS}var BS,X6;function Jme(){if(X6)return BS;X6=1;var t=Xme();return BS=t,BS}var zS,J6;function Zme(){return J6||(J6=1,zS=Jme()),zS}var eve=Zme(),tve=Ee(eve);function rve(t,e){if(td(t)!="object"||!t)return t;var r=t[tve];if(r!==void 0){var n=r.call(t,e);if(td(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function nve(t){var e=rve(t,"string");return td(e)=="symbol"?e:e+""}function Di(t,e,r){return(e=nve(e))in t?Sme(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var Z6={},US,eU;function ive(){if(eU)return US;eU=1;var t=ut(),e=qe(),r=Ae(),n=kn(),i=eG().trim,s=nI(),o=r("".charAt),a=t.parseFloat,l=t.Symbol,u=l&&l.iterator,c=1/a(s+"-0")!==-1/0||u&&!e(function(){a(Object(u))});return US=c?function(f){var p=i(n(f)),m=a(p);return m===0&&o(p,0)==="-"?-0:m}:a,US}var tU;function sve(){if(tU)return Z6;tU=1;var t=ge(),e=ive();return t({global:!0,forced:parseFloat!==e},{parseFloat:e}),Z6}var WS,rU;function ove(){if(rU)return WS;rU=1,sve();var t=Ve();return WS=t.parseFloat,WS}var HS,nU;function ave(){if(nU)return HS;nU=1;var t=ove();return HS=t,HS}var VS,iU;function lve(){return iU||(iU=1,VS=ave()),VS}var uve=lve(),KG=Ee(uve),sU={},oU;function cve(){if(oU)return sU;oU=1;var t=ge(),e=qe(),r=JC().f,n=e(function(){return!Object.getOwnPropertyNames(1)});return t({target:"Object",stat:!0,forced:n},{getOwnPropertyNames:r}),sU}var KS,aU;function dve(){if(aU)return KS;aU=1,cve();var t=Ve(),e=t.Object;return KS=function(n){return e.getOwnPropertyNames(n)},KS}var GS,lU;function hve(){if(lU)return GS;lU=1;var t=dve();return GS=t,GS}var YS,uU;function fve(){return uU||(uU=1,YS=hve()),YS}var pve=fve(),mve=Ee(pve),QS,cU;function vve(){if(cU)return QS;cU=1,H9();var t=Ve();return QS=t.Object.getOwnPropertySymbols,QS}var XS,dU;function yve(){if(dU)return XS;dU=1;var t=vve();return XS=t,XS}var JS,hU;function gve(){return hU||(hU=1,JS=yve()),JS}var bve=gve(),eo=Ee(bve),ZS={exports:{}},fU={},pU;function wve(){if(pU)return fU;pU=1;var t=ge(),e=qe(),r=ti(),n=Up().f,i=It(),s=!i||e(function(){n(1)});return t({target:"Object",stat:!0,forced:s,sham:!i},{getOwnPropertyDescriptor:function(a,l){return n(r(a),l)}}),fU}var mU;function xve(){if(mU)return ZS.exports;mU=1,wve();var t=Ve(),e=t.Object,r=ZS.exports=function(i,s){return e.getOwnPropertyDescriptor(i,s)};return e.getOwnPropertyDescriptor.sham&&(r.sham=!0),ZS.exports}var eE,vU;function _ve(){if(vU)return eE;vU=1;var t=xve();return eE=t,eE}var tE,yU;function Sve(){return yU||(yU=1,tE=_ve()),tE}var Eve=Sve(),ho=Ee(Eve),gU={},bU;function Ove(){if(bU)return gU;bU=1;var t=ge(),e=It(),r=Qce(),n=ti(),i=Up(),s=Kp();return t({target:"Object",stat:!0,sham:!e},{getOwnPropertyDescriptors:function(a){for(var l=n(a),u=i.f,c=r(l),d={},f=0,p,m;c.length>f;)m=u(l,p=c[f++]),m!==void 0&&s(d,p,m);return d}}),gU}var rE,wU;function Pve(){if(wU)return rE;wU=1,Ove();var t=Ve();return rE=t.Object.getOwnPropertyDescriptors,rE}var nE,xU;function Tve(){if(xU)return nE;xU=1;var t=Pve();return nE=t,nE}var iE,_U;function Cve(){return _U||(_U=1,iE=Tve()),iE}var Ive=Cve(),to=Ee(Ive),sE={exports:{}},SU={},EU;function Rve(){if(EU)return SU;EU=1;var t=ge(),e=It(),r=XC().f;return t({target:"Object",stat:!0,forced:Object.defineProperties!==r,sham:!e},{defineProperties:r}),SU}var OU;function Nve(){if(OU)return sE.exports;OU=1,Rve();var t=Ve(),e=t.Object,r=sE.exports=function(i,s){return e.defineProperties(i,s)};return e.defineProperties.sham&&(r.sham=!0),sE.exports}var oE,PU;function $ve(){if(PU)return oE;PU=1;var t=Nve();return oE=t,oE}var aE,TU;function jve(){return TU||(TU=1,aE=$ve()),aE}var kve=jve(),nm=Ee(kve),lE,CU;function Dve(){return CU||(CU=1,lE=WG()),lE}var qve=Dve(),im=Ee(qve);function wI(t,e){const r=["node","edge","label"];let n=!0;const i=ms(e,"chosen");if(typeof i=="boolean")n=i;else if(typeof i=="object"){if(Ue(r).call(r,t)===-1)throw new Error("choosify: subOption '"+t+"' should be one of '"+r.join("', '")+"'");const s=ms(e,["chosen",t]);(typeof s=="boolean"||typeof s=="function")&&(n=s)}return n}function eT(t,e,r){if(t.width<=0||t.height<=0)return!1;if(r!==void 0){const s={x:e.x-r.x,y:e.y-r.y};if(r.angle!==0){const o=-r.angle;e={x:Math.cos(o)*s.x-Math.sin(o)*s.y,y:Math.sin(o)*s.x+Math.cos(o)*s.y}}else e=s}const n=t.x+t.width,i=t.y+t.width;return t.left<e.x&&n>e.x&&t.top<e.y&&i>e.y}function Gf(t){return typeof t=="string"&&t!==""}function GG(t,e,r,n){let i=n.x,s=n.y;if(typeof n.distanceToBorder=="function"){const o=n.distanceToBorder(t,e),a=Math.sin(e)*o,l=Math.cos(e)*o;l===o?(i+=o,s=n.y):a===o?(i=n.x,s-=o):(i+=l,s-=a)}else n.shape.width>n.shape.height?(i=n.x+n.shape.width*.5,s=n.y-r):(i=n.x+r,s=n.y-n.shape.height*.5);return{x:i,y:s}}var uE,IU;function Mve(){if(IU)return uE;IU=1,Cu();var t=hr();return uE=t("Array","values"),uE}var cE,RU;function Ave(){if(RU)return cE;RU=1;var t=Mve();return cE=t,cE}var dE,NU;function Fve(){if(NU)return dE;NU=1,Iu();var t=Pu(),e=dr(),r=At(),n=Ave(),i=Array.prototype,s={DOMTokenList:!0,NodeList:!0};return dE=function(o){var a=o.values;return o===i||r(i,o)&&a===i.values||e(s,t(o))?n:a},dE}var hE,$U;function Lve(){return $U||($U=1,hE=Fve()),hE}var Bve=Lve(),YG=Ee(Bve);class zve{constructor(e){this.measureText=e,this.current=0,this.width=0,this.height=0,this.lines=[]}_add(e,r){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"normal";this.lines[e]===void 0&&(this.lines[e]={width:0,height:0,blocks:[]});let i=r;(r===void 0||r==="")&&(i=" ");const s=this.measureText(i,n),o=kt({},YG(s));o.text=r,o.width=s.width,o.mod=n,(r===void 0||r==="")&&(o.width=0),this.lines[e].blocks.push(o),this.lines[e].width+=o.width}curWidth(){const e=this.lines[this.current];return e===void 0?0:e.width}append(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"normal";this._add(this.current,e,r)}newLine(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"normal";this._add(this.current,e,r),this.current++}determineLineHeights(){for(let e=0;e<this.lines.length;e++){const r=this.lines[e];let n=0;if(r.blocks!==void 0)for(let i=0;i<r.blocks.length;i++){const s=r.blocks[i];n<s.height&&(n=s.height)}r.height=n}}determineLabelSize(){let e=0,r=0;for(let n=0;n<this.lines.length;n++){const i=this.lines[n];i.width>e&&(e=i.width),r+=i.height}this.width=e,this.height=r}removeEmptyBlocks(){const e=[];for(let r=0;r<this.lines.length;r++){const n=this.lines[r];if(n.blocks.length===0||r===this.lines.length-1&&n.width===0)continue;const i={};kt(i,n),i.blocks=[];let s;const o=[];for(let a=0;a<n.blocks.length;a++){const l=n.blocks[a];l.width!==0?o.push(l):s===void 0&&(s=l)}o.length===0&&s!==void 0&&o.push(s),i.blocks=o,e.push(i)}return e}finalize(){this.determineLineHeights(),this.determineLabelSize();const e=this.removeEmptyBlocks();return{width:this.width,height:this.height,lines:e}}}const Uve={"<b>":/<b>/,"<i>":/<i>/,"<code>":/<code>/,"</b>":/<\/b>/,"</i>":/<\/i>/,"</code>":/<\/code>/,"*":/\*/,_:/_/,"`":/`/,afterBold:/[^*]/,afterItal:/[^_]/,afterMono:/[^`]/};class jU{constructor(e){this.text=e,this.bold=!1,this.ital=!1,this.mono=!1,this.spacing=!1,this.position=0,this.buffer="",this.modStack=[],this.blocks=[]}mod(){return this.modStack.length===0?"normal":this.modStack[0]}modName(){if(this.modStack.length===0)return"normal";if(this.modStack[0]==="mono")return"mono";if(this.bold&&this.ital)return"boldital";if(this.bold)return"bold";if(this.ital)return"ital"}emitBlock(){this.spacing&&(this.add(" "),this.spacing=!1),this.buffer.length>0&&(this.blocks.push({text:this.buffer,mod:this.modName()}),this.buffer="")}add(e){e===" "&&(this.spacing=!0),this.spacing&&(this.buffer+=" ",this.spacing=!1),e!=" "&&(this.buffer+=e)}parseWS(e){return/[ \t]/.test(e)?(this.mono?this.add(e):this.spacing=!0,!0):!1}setTag(e){this.emitBlock(),this[e]=!0,this.modStack.unshift(e)}unsetTag(e){this.emitBlock(),this[e]=!1,this.modStack.shift()}parseStartTag(e,r){return!this.mono&&!this[e]&&this.match(r)?(this.setTag(e),!0):!1}match(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;const[n,i]=this.prepareRegExp(e),s=n.test(this.text.substr(this.position,i));return s&&r&&(this.position+=i-1),s}parseEndTag(e,r,n){let i=this.mod()===e;return e==="mono"?i=i&&this.mono:i=i&&!this.mono,i&&this.match(r)?(n!==void 0?(this.position===this.text.length-1||this.match(n,!1))&&this.unsetTag(e):this.unsetTag(e),!0):!1}replace(e,r){return this.match(e)?(this.add(r),this.position+=length-1,!0):!1}prepareRegExp(e){let r,n;if(e instanceof RegExp)n=e,r=1;else{const i=Uve[e];i!==void 0?n=i:n=new RegExp(e),r=e.length}return[n,r]}}class Wve{constructor(e,r,n,i){this.ctx=e,this.parent=r,this.selected=n,this.hover=i;const s=(o,a)=>{if(o===void 0)return 0;const l=this.parent.getFormattingValues(e,n,i,a);let u=0;return o!==""&&(u=this.ctx.measureText(o).width),{width:u,values:l}};this.lines=new zve(s)}process(e){if(!Gf(e))return this.lines.finalize();const r=this.parent.fontOptions;e=e.replace(/\r\n/g,`
`),e=e.replace(/\r/g,`
`);const n=String(e).split(`
`),i=n.length;if(r.multi)for(let s=0;s<i;s++){const o=this.splitBlocks(n[s],r.multi);if(o!==void 0){if(o.length===0){this.lines.newLine("");continue}if(r.maxWdt>0)for(let a=0;a<o.length;a++){const l=o[a].mod,u=o[a].text;this.splitStringIntoLines(u,l,!0)}else for(let a=0;a<o.length;a++){const l=o[a].mod,u=o[a].text;this.lines.append(u,l)}this.lines.newLine()}}else if(r.maxWdt>0)for(let s=0;s<i;s++)this.splitStringIntoLines(n[s]);else for(let s=0;s<i;s++)this.lines.newLine(n[s]);return this.lines.finalize()}decodeMarkupSystem(e){let r="none";return e==="markdown"||e==="md"?r="markdown":(e===!0||e==="html")&&(r="html"),r}splitHtmlBlocks(e){const r=new jU(e),n=i=>/&/.test(i)?(r.replace(r.text,"&lt;","<")||r.replace(r.text,"&amp;","&")||r.add("&"),!0):!1;for(;r.position<r.text.length;){const i=r.text.charAt(r.position);r.parseWS(i)||/</.test(i)&&(r.parseStartTag("bold","<b>")||r.parseStartTag("ital","<i>")||r.parseStartTag("mono","<code>")||r.parseEndTag("bold","</b>")||r.parseEndTag("ital","</i>")||r.parseEndTag("mono","</code>"))||n(i)||r.add(i),r.position++}return r.emitBlock(),r.blocks}splitMarkdownBlocks(e){const r=new jU(e);let n=!0;const i=s=>/\\/.test(s)?(r.position<this.text.length+1&&(r.position++,s=this.text.charAt(r.position),/ \t/.test(s)?r.spacing=!0:(r.add(s),n=!1)),!0):!1;for(;r.position<r.text.length;){const s=r.text.charAt(r.position);r.parseWS(s)||i(s)||(n||r.spacing)&&(r.parseStartTag("bold","*")||r.parseStartTag("ital","_")||r.parseStartTag("mono","`"))||r.parseEndTag("bold","*","afterBold")||r.parseEndTag("ital","_","afterItal")||r.parseEndTag("mono","`","afterMono")||(r.add(s),n=!1),r.position++}return r.emitBlock(),r.blocks}splitBlocks(e,r){const n=this.decodeMarkupSystem(r);if(n==="none")return[{text:e,mod:"normal"}];if(n==="markdown")return this.splitMarkdownBlocks(e);if(n==="html")return this.splitHtmlBlocks(e)}overMaxWidth(e){const r=this.ctx.measureText(e).width;return this.lines.curWidth()+r>this.parent.fontOptions.maxWdt}getLongestFit(e){let r="",n=0;for(;n<e.length;){const s=r+(r===""?"":" ")+e[n];if(this.overMaxWidth(s))break;r=s,n++}return n}getLongestFitWord(e){let r=0;for(;r<e.length&&!this.overMaxWidth(hi(e).call(e,0,r));)r++;return r}splitStringIntoLines(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"normal",n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;this.parent.getFormattingValues(this.ctx,this.selected,this.hover,r),e=e.replace(/^( +)/g,"$1\r"),e=e.replace(/([^\r][^ ]*)( +)/g,"$1\r$2\r");let i=e.split("\r");for(;i.length>0;){let s=this.getLongestFit(i);if(s===0){const o=i[0],a=this.getLongestFitWord(o);this.lines.newLine(hi(o).call(o,0,a),r),i[0]=hi(o).call(o,a)}else{let o=s;i[s-1]===" "?s--:i[o]===" "&&o++;const a=hi(i).call(i,0,s).join("");s==i.length&&n?this.lines.append(a,r):this.lines.newLine(a,r),i=hi(i).call(i,o)}}}}const Gu=["bold","ital","boldital","mono"];class ml{constructor(e,r){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;this.body=e,this.pointToSelf=!1,this.baseSize=void 0,this.fontOptions={},this.setOptions(r),this.size={top:0,left:0,width:0,height:0,yLine:0},this.isEdgeLabel=n}setOptions(e){if(this.elementOptions=e,this.initFontOptions(e.font),Gf(e.label)?this.labelDirty=!0:e.label=void 0,e.font!==void 0&&e.font!==null){if(typeof e.font=="string")this.baseSize=this.fontOptions.size;else if(typeof e.font=="object"){const r=e.font.size;r!==void 0&&(this.baseSize=r)}}}initFontOptions(e){if(Ne(Gu,r=>{this.fontOptions[r]={}}),ml.parseFontString(this.fontOptions,e)){this.fontOptions.vadjust=0;return}Ne(e,(r,n)=>{r!=null&&typeof r!="object"&&(this.fontOptions[n]=r)})}static parseFontString(e,r){if(!r||typeof r!="string")return!1;const n=r.split(" ");return e.size=+n[0].replace("px",""),e.face=n[1],e.color=n[2],!0}constrain(e){const r={constrainWidth:!1,maxWdt:-1,minWdt:-1,constrainHeight:!1,minHgt:-1,valign:"middle"},n=ms(e,"widthConstraint");if(typeof n=="number")r.maxWdt=Number(n),r.minWdt=Number(n);else if(typeof n=="object"){const s=ms(e,["widthConstraint","maximum"]);typeof s=="number"&&(r.maxWdt=Number(s));const o=ms(e,["widthConstraint","minimum"]);typeof o=="number"&&(r.minWdt=Number(o))}const i=ms(e,"heightConstraint");if(typeof i=="number")r.minHgt=Number(i);else if(typeof i=="object"){const s=ms(e,["heightConstraint","minimum"]);typeof s=="number"&&(r.minHgt=Number(s));const o=ms(e,["heightConstraint","valign"]);typeof o=="string"&&(o==="top"||o==="bottom")&&(r.valign=o)}return r}update(e,r){this.setOptions(e,!0),this.propagateFonts(r),Ze(this.fontOptions,this.constrain(r)),this.fontOptions.chooser=wI("label",r)}adjustSizes(e){const r=e?e.right+e.left:0;this.fontOptions.constrainWidth&&(this.fontOptions.maxWdt-=r,this.fontOptions.minWdt-=r);const n=e?e.top+e.bottom:0;this.fontOptions.constrainHeight&&(this.fontOptions.minHgt-=n)}addFontOptionsToPile(e,r){for(let n=0;n<r.length;++n)this.addFontToPile(e,r[n])}addFontToPile(e,r){if(r===void 0||r.font===void 0||r.font===null)return;const n=r.font;e.push(n)}getBasicOptions(e){const r={};for(let n=0;n<e.length;++n){let i=e[n];const s={};ml.parseFontString(s,i)&&(i=s),Ne(i,(o,a)=>{o!==void 0&&(Object.prototype.hasOwnProperty.call(r,a)||(Ue(Gu).call(Gu,a)!==-1?r[a]={}:r[a]=o))})}return r}getFontOption(e,r,n){let i;for(let s=0;s<e.length;++s){const o=e[s];if(Object.prototype.hasOwnProperty.call(o,r)){if(i=o[r],i==null)continue;const a={};if(ml.parseFontString(a,i)&&(i=a),Object.prototype.hasOwnProperty.call(i,n))return i[n]}}if(Object.prototype.hasOwnProperty.call(this.fontOptions,n))return this.fontOptions[n];throw new Error("Did not find value for multi-font for property: '"+n+"'")}getFontOptions(e,r){const n={},i=["color","size","face","mod","vadjust"];for(let s=0;s<i.length;++s){const o=i[s];n[o]=this.getFontOption(e,r,o)}return n}propagateFonts(e){const r=[];this.addFontOptionsToPile(r,e),this.fontOptions=this.getBasicOptions(r);for(let n=0;n<Gu.length;++n){const i=Gu[n],s=this.fontOptions[i],o=this.getFontOptions(r,i);Ne(o,(a,l)=>{s[l]=a}),s.size=Number(s.size),s.vadjust=Number(s.vadjust)}}draw(e,r,n,i,s){let o=arguments.length>5&&arguments[5]!==void 0?arguments[5]:"middle";if(this.elementOptions.label===void 0)return;let a=this.fontOptions.size*this.body.view.scale;this.elementOptions.label&&a<this.elementOptions.scaling.label.drawThreshold-1||(a>=this.elementOptions.scaling.label.maxVisible&&(a=Number(this.elementOptions.scaling.label.maxVisible)/this.body.view.scale),this.calculateLabelSize(e,i,s,r,n,o),this._drawBackground(e),this._drawText(e,r,this.size.yLine,o,a))}_drawBackground(e){if(this.fontOptions.background!==void 0&&this.fontOptions.background!=="none"){e.fillStyle=this.fontOptions.background;const r=this.getSize();e.fillRect(r.left,r.top,r.width,r.height)}}_drawText(e,r,n){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"middle",s=arguments.length>4?arguments[4]:void 0;[r,n]=this._setAlignment(e,r,n,i),e.textAlign="left",r=r-this.size.width/2,this.fontOptions.valign&&this.size.height>this.size.labelHeight&&(this.fontOptions.valign==="top"&&(n-=(this.size.height-this.size.labelHeight)/2),this.fontOptions.valign==="bottom"&&(n+=(this.size.height-this.size.labelHeight)/2));for(let o=0;o<this.lineCount;o++){const a=this.lines[o];if(a&&a.blocks){let l=0;this.isEdgeLabel||this.fontOptions.align==="center"?l+=(this.size.width-a.width)/2:this.fontOptions.align==="right"&&(l+=this.size.width-a.width);for(let u=0;u<a.blocks.length;u++){const c=a.blocks[u];e.font=c.font;const[d,f]=this._getColor(c.color,s,c.strokeColor);c.strokeWidth>0&&(e.lineWidth=c.strokeWidth,e.strokeStyle=f,e.lineJoin="round"),e.fillStyle=d,c.strokeWidth>0&&e.strokeText(c.text,r+l,n+c.vadjust),e.fillText(c.text,r+l,n+c.vadjust),l+=c.width}n+=a.height}}}_setAlignment(e,r,n,i){if(this.isEdgeLabel&&this.fontOptions.align!=="horizontal"&&this.pointToSelf===!1){r=0,n=0;const s=2;this.fontOptions.align==="top"?(e.textBaseline="alphabetic",n-=2*s):this.fontOptions.align==="bottom"?(e.textBaseline="hanging",n+=2*s):e.textBaseline="middle"}else e.textBaseline=i;return[r,n]}_getColor(e,r,n){let i=e||"#000000",s=n||"#ffffff";if(r<=this.elementOptions.scaling.label.drawThreshold){const o=Math.max(0,Math.min(1,1-(this.elementOptions.scaling.label.drawThreshold-r)));i=En(i,o),s=En(s,o)}return[i,s]}getTextSize(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;return this._processLabel(e,r,n),{width:this.size.width,height:this.size.height,lineCount:this.lineCount}}getSize(){let r=this.size.left,n=this.size.top-.5*2;if(this.isEdgeLabel){const s=-this.size.width*.5;switch(this.fontOptions.align){case"middle":r=s,n=-this.size.height*.5;break;case"top":r=s,n=-(this.size.height+2);break;case"bottom":r=s,n=2;break}}return{left:r,top:n,width:this.size.width,height:this.size.height}}calculateLabelSize(e,r,n){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0,o=arguments.length>5&&arguments[5]!==void 0?arguments[5]:"middle";this._processLabel(e,r,n),this.size.left=i-this.size.width*.5,this.size.top=s-this.size.height*.5,this.size.yLine=s+(1-this.lineCount)*.5*this.fontOptions.size,o==="hanging"&&(this.size.top+=.5*this.fontOptions.size,this.size.top+=4,this.size.yLine+=4)}getFormattingValues(e,r,n,i){const s=function(l,u,c){return u==="normal"?c==="mod"?"":l[c]:l[u][c]!==void 0?l[u][c]:l[c]},o={color:s(this.fontOptions,i,"color"),size:s(this.fontOptions,i,"size"),face:s(this.fontOptions,i,"face"),mod:s(this.fontOptions,i,"mod"),vadjust:s(this.fontOptions,i,"vadjust"),strokeWidth:this.fontOptions.strokeWidth,strokeColor:this.fontOptions.strokeColor};(r||n)&&(i==="normal"&&this.fontOptions.chooser===!0&&this.elementOptions.labelHighlightBold?o.mod="bold":typeof this.fontOptions.chooser=="function"&&this.fontOptions.chooser(o,this.elementOptions.id,r,n));let a="";return o.mod!==void 0&&o.mod!==""&&(a+=o.mod+" "),a+=o.size+"px "+o.face,e.font=a.replace(/"/g,""),o.font=e.font,o.height=o.size,o}differentState(e,r){return e!==this.selectedState||r!==this.hoverState}_processLabelText(e,r,n,i){return new Wve(e,this,r,n).process(i)}_processLabel(e,r,n){if(this.labelDirty===!1&&!this.differentState(r,n))return;const i=this._processLabelText(e,r,n,this.elementOptions.label);this.fontOptions.minWdt>0&&i.width<this.fontOptions.minWdt&&(i.width=this.fontOptions.minWdt),this.size.labelHeight=i.height,this.fontOptions.minHgt>0&&i.height<this.fontOptions.minHgt&&(i.height=this.fontOptions.minHgt),this.lines=i.lines,this.lineCount=i.lines.length,this.size.width=i.width,this.size.height=i.height,this.selectedState=r,this.hoverState=n,this.labelDirty=!1}visible(){return!(this.size.width===0||this.size.height===0||this.elementOptions.label===void 0||this.fontOptions.size*this.body.view.scale<this.elementOptions.scaling.label.drawThreshold-1)}}class Ca{constructor(e,r,n){this.body=r,this.labelModule=n,this.setOptions(e),this.top=void 0,this.left=void 0,this.height=void 0,this.width=void 0,this.radius=void 0,this.margin=void 0,this.refreshNeeded=!0,this.boundingBox={top:0,left:0,right:0,bottom:0}}setOptions(e){this.options=e}_setMargins(e){this.margin={},this.options.margin&&(typeof this.options.margin=="object"?(this.margin.top=this.options.margin.top,this.margin.right=this.options.margin.right,this.margin.bottom=this.options.margin.bottom,this.margin.left=this.options.margin.left):(this.margin.top=this.options.margin,this.margin.right=this.options.margin,this.margin.bottom=this.options.margin,this.margin.left=this.options.margin)),e.adjustSizes(this.margin)}_distanceToBorder(e,r){const n=this.options.borderWidth;return e&&this.resize(e),Math.min(Math.abs(this.width/2/Math.cos(r)),Math.abs(this.height/2/Math.sin(r)))+n}enableShadow(e,r){r.shadow&&(e.shadowColor=r.shadowColor,e.shadowBlur=r.shadowSize,e.shadowOffsetX=r.shadowX,e.shadowOffsetY=r.shadowY)}disableShadow(e,r){r.shadow&&(e.shadowColor="rgba(0,0,0,0)",e.shadowBlur=0,e.shadowOffsetX=0,e.shadowOffsetY=0)}enableBorderDashes(e,r){if(r.borderDashes!==!1)if(e.setLineDash!==void 0){let n=r.borderDashes;n===!0&&(n=[5,15]),e.setLineDash(n)}else console.warn("setLineDash is not supported in this browser. The dashed borders cannot be used."),this.options.shapeProperties.borderDashes=!1,r.borderDashes=!1}disableBorderDashes(e,r){r.borderDashes!==!1&&(e.setLineDash!==void 0?e.setLineDash([0]):(console.warn("setLineDash is not supported in this browser. The dashed borders cannot be used."),this.options.shapeProperties.borderDashes=!1,r.borderDashes=!1))}needsRefresh(e,r){return this.refreshNeeded===!0?(this.refreshNeeded=!1,!0):this.width===void 0||this.labelModule.differentState(e,r)}initContextForDraw(e,r){const n=r.borderWidth/this.body.view.scale;e.lineWidth=Math.min(this.width,n),e.strokeStyle=r.borderColor,e.fillStyle=r.color}performStroke(e,r){const n=r.borderWidth/this.body.view.scale;e.save(),n>0&&(this.enableBorderDashes(e,r),e.stroke(),this.disableBorderDashes(e,r)),e.restore()}performFill(e,r){e.save(),e.fillStyle=r.color,this.enableShadow(e,r),Gd(e).call(e),this.disableShadow(e,r),e.restore(),this.performStroke(e,r)}_addBoundingBoxMargin(e){this.boundingBox.left-=e,this.boundingBox.top-=e,this.boundingBox.bottom+=e,this.boundingBox.right+=e}_updateBoundingBox(e,r,n,i,s){n!==void 0&&this.resize(n,i,s),this.left=e-this.width/2,this.top=r-this.height/2,this.boundingBox.left=this.left,this.boundingBox.top=this.top,this.boundingBox.bottom=this.top+this.height,this.boundingBox.right=this.left+this.width}updateBoundingBox(e,r,n,i,s){this._updateBoundingBox(e,r,n,i,s)}getDimensionsFromLabel(e,r,n){this.textSize=this.labelModule.getTextSize(e,r,n);let i=this.textSize.width,s=this.textSize.height;const o=14;return i===0&&(i=o,s=o),{width:i,height:s}}}let Hve=class extends Ca{constructor(e,r,n){super(e,r,n),this._setMargins(n)}resize(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.selected,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.hover;if(this.needsRefresh(r,n)){const i=this.getDimensionsFromLabel(e,r,n);this.width=i.width+this.margin.right+this.margin.left,this.height=i.height+this.margin.top+this.margin.bottom,this.radius=this.width/2}}draw(e,r,n,i,s,o){this.resize(e,i,s),this.left=r-this.width/2,this.top=n-this.height/2,this.initContextForDraw(e,o),k9(e,this.left,this.top,this.width,this.height,o.borderRadius),this.performFill(e,o),this.updateBoundingBox(r,n,e,i,s),this.labelModule.draw(e,this.left+this.textSize.width/2+this.margin.left,this.top+this.textSize.height/2+this.margin.top,i,s)}updateBoundingBox(e,r,n,i,s){this._updateBoundingBox(e,r,n,i,s);const o=this.options.shapeProperties.borderRadius;this._addBoundingBoxMargin(o)}distanceToBorder(e,r){e&&this.resize(e);const n=this.options.borderWidth;return Math.min(Math.abs(this.width/2/Math.cos(r)),Math.abs(this.height/2/Math.sin(r)))+n}};class xI extends Ca{constructor(e,r,n){super(e,r,n),this.labelOffset=0,this.selected=!1}setOptions(e,r,n){this.options=e,r===void 0&&n===void 0||this.setImages(r,n)}setImages(e,r){r&&this.selected?(this.imageObj=r,this.imageObjAlt=e):(this.imageObj=e,this.imageObjAlt=r)}switchImages(e){const r=e&&!this.selected||!e&&this.selected;if(this.selected=e,this.imageObjAlt!==void 0&&r){const n=this.imageObj;this.imageObj=this.imageObjAlt,this.imageObjAlt=n}}_getImagePadding(){const e={top:0,right:0,bottom:0,left:0};if(this.options.imagePadding){const r=this.options.imagePadding;typeof r=="object"?(e.top=r.top,e.right=r.right,e.bottom=r.bottom,e.left=r.left):(e.top=r,e.right=r,e.bottom=r,e.left=r)}return e}_resizeImage(){let e,r;if(this.options.shapeProperties.useImageSize===!1){let n=1,i=1;this.imageObj.width&&this.imageObj.height&&(this.imageObj.width>this.imageObj.height?n=this.imageObj.width/this.imageObj.height:i=this.imageObj.height/this.imageObj.width),e=this.options.size*2*n,r=this.options.size*2*i}else{const n=this._getImagePadding();e=this.imageObj.width+n.left+n.right,r=this.imageObj.height+n.top+n.bottom}this.width=e,this.height=r,this.radius=.5*this.width}_drawRawCircle(e,r,n,i){this.initContextForDraw(e,i),GC(e,r,n,i.size),this.performFill(e,i)}_drawImageAtPosition(e,r){if(this.imageObj.width!=0){e.globalAlpha=r.opacity!==void 0?r.opacity:1,this.enableShadow(e,r);let n=1;this.options.shapeProperties.interpolation===!0&&(n=this.imageObj.width/this.width/this.body.view.scale);const i=this._getImagePadding(),s=this.left+i.left,o=this.top+i.top,a=this.width-i.left-i.right,l=this.height-i.top-i.bottom;this.imageObj.drawImageAtPosition(e,n,s,o,a,l),this.disableShadow(e,r)}}_drawImageLabel(e,r,n,i,s){let o=0;if(this.height!==void 0){o=this.height*.5;const l=this.labelModule.getTextSize(e,i,s);l.lineCount>=1&&(o+=l.height/2)}const a=n+o;this.options.label&&(this.labelOffset=o),this.labelModule.draw(e,r,a,i,s,"hanging")}}let Vve=class extends xI{constructor(e,r,n){super(e,r,n),this._setMargins(n)}resize(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.selected,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.hover;if(this.needsRefresh(r,n)){const i=this.getDimensionsFromLabel(e,r,n),s=Math.max(i.width+this.margin.right+this.margin.left,i.height+this.margin.top+this.margin.bottom);this.options.size=s/2,this.width=s,this.height=s,this.radius=this.width/2}}draw(e,r,n,i,s,o){this.resize(e,i,s),this.left=r-this.width/2,this.top=n-this.height/2,this._drawRawCircle(e,r,n,o),this.updateBoundingBox(r,n),this.labelModule.draw(e,this.left+this.textSize.width/2+this.margin.left,n,i,s)}updateBoundingBox(e,r){this.boundingBox.top=r-this.options.size,this.boundingBox.left=e-this.options.size,this.boundingBox.right=e+this.options.size,this.boundingBox.bottom=r+this.options.size}distanceToBorder(e){return e&&this.resize(e),this.width*.5}};class Kve extends xI{constructor(e,r,n,i,s){super(e,r,n),this.setImages(i,s)}resize(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.selected,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.hover;if(this.imageObj.src===void 0||this.imageObj.width===void 0||this.imageObj.height===void 0){const s=this.options.size*2;this.width=s,this.height=s,this.radius=.5*this.width;return}this.needsRefresh(r,n)&&this._resizeImage()}draw(e,r,n,i,s,o){this.switchImages(i),this.resize();let a=r,l=n;this.options.shapeProperties.coordinateOrigin==="top-left"?(this.left=r,this.top=n,a+=this.width/2,l+=this.height/2):(this.left=r-this.width/2,this.top=n-this.height/2),this._drawRawCircle(e,a,l,o),e.save(),e.clip(),this._drawImageAtPosition(e,o),e.restore(),this._drawImageLabel(e,a,l,i,s),this.updateBoundingBox(r,n)}updateBoundingBox(e,r){this.options.shapeProperties.coordinateOrigin==="top-left"?(this.boundingBox.top=r,this.boundingBox.left=e,this.boundingBox.right=e+this.options.size*2,this.boundingBox.bottom=r+this.options.size*2):(this.boundingBox.top=r-this.options.size,this.boundingBox.left=e-this.options.size,this.boundingBox.right=e+this.options.size,this.boundingBox.bottom=r+this.options.size),this.boundingBox.left=Math.min(this.boundingBox.left,this.labelModule.size.left),this.boundingBox.right=Math.max(this.boundingBox.right,this.labelModule.size.left+this.labelModule.size.width),this.boundingBox.bottom=Math.max(this.boundingBox.bottom,this.boundingBox.bottom+this.labelOffset)}distanceToBorder(e){return e&&this.resize(e),this.width*.5}}class fo extends Ca{constructor(e,r,n){super(e,r,n)}resize(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.selected,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.hover,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{size:this.options.size};if(this.needsRefresh(r,n)){var s,o;this.labelModule.getTextSize(e,r,n);const a=2*i.size;this.width=(s=this.customSizeWidth)!==null&&s!==void 0?s:a,this.height=(o=this.customSizeHeight)!==null&&o!==void 0?o:a,this.radius=.5*this.width}}_drawShape(e,r,n,i,s,o,a,l){return this.resize(e,o,a,l),this.left=i-this.width/2,this.top=s-this.height/2,this.initContextForDraw(e,l),uce(r)(e,i,s,l.size),this.performFill(e,l),this.options.icon!==void 0&&this.options.icon.code!==void 0&&(e.font=(o?"bold ":"")+this.height/2+"px "+(this.options.icon.face||"FontAwesome"),e.fillStyle=this.options.icon.color||"black",e.textAlign="center",e.textBaseline="middle",e.fillText(this.options.icon.code,i,s)),{drawExternalLabel:()=>{if(this.options.label!==void 0){this.labelModule.calculateLabelSize(e,o,a,i,s,"hanging");const u=s+.5*this.height+.5*this.labelModule.size.height;this.labelModule.draw(e,i,u,o,a,"hanging")}this.updateBoundingBox(i,s)}}}updateBoundingBox(e,r){this.boundingBox.top=r-this.options.size,this.boundingBox.left=e-this.options.size,this.boundingBox.right=e+this.options.size,this.boundingBox.bottom=r+this.options.size,this.options.label!==void 0&&this.labelModule.size.width>0&&(this.boundingBox.left=Math.min(this.boundingBox.left,this.labelModule.size.left),this.boundingBox.right=Math.max(this.boundingBox.right,this.labelModule.size.left+this.labelModule.size.width),this.boundingBox.bottom=Math.max(this.boundingBox.bottom,this.boundingBox.bottom+this.labelModule.size.height))}}function kU(t,e){var r=_t(t);if(eo){var n=eo(t);e&&(n=Wr(n).call(n,function(i){return ho(t,i).enumerable})),r.push.apply(r,n)}return r}function Gve(t){for(var e=1;e<arguments.length;e++){var r,n,i=arguments[e]!=null?arguments[e]:{};e%2?Ge(r=kU(Object(i),!0)).call(r,function(s){Di(t,s,i[s])}):to?nm(t,to(i)):Ge(n=kU(Object(i))).call(n,function(s){im(t,s,ho(i,s))})}return t}class Yve extends fo{constructor(e,r,n,i){super(e,r,n,i),this.ctxRenderer=i}draw(e,r,n,i,s,o){this.resize(e,i,s,o),this.left=r-this.width/2,this.top=n-this.height/2,e.save();const a=this.ctxRenderer({ctx:e,id:this.options.id,x:r,y:n,state:{selected:i,hover:s},style:Gve({},o),label:this.options.label});if(a.drawNode!=null&&a.drawNode(),e.restore(),a.drawExternalLabel){const l=a.drawExternalLabel;a.drawExternalLabel=()=>{e.save(),l(),e.restore()}}return a.nodeDimensions&&(this.customSizeWidth=a.nodeDimensions.width,this.customSizeHeight=a.nodeDimensions.height),a}distanceToBorder(e,r){return this._distanceToBorder(e,r)}}class Qve extends Ca{constructor(e,r,n){super(e,r,n),this._setMargins(n)}resize(e,r,n){if(this.needsRefresh(r,n)){const s=this.getDimensionsFromLabel(e,r,n).width+this.margin.right+this.margin.left;this.width=s,this.height=s,this.radius=this.width/2}}draw(e,r,n,i,s,o){this.resize(e,i,s),this.left=r-this.width/2,this.top=n-this.height/2,this.initContextForDraw(e,o),D9(e,r-this.width/2,n-this.height/2,this.width,this.height),this.performFill(e,o),this.updateBoundingBox(r,n,e,i,s),this.labelModule.draw(e,this.left+this.textSize.width/2+this.margin.left,this.top+this.textSize.height/2+this.margin.top,i,s)}distanceToBorder(e,r){return this._distanceToBorder(e,r)}}let Xve=class extends fo{constructor(e,r,n){super(e,r,n)}draw(e,r,n,i,s,o){return this._drawShape(e,"diamond",4,r,n,i,s,o)}distanceToBorder(e,r){return this._distanceToBorder(e,r)}};class Jve extends fo{constructor(e,r,n){super(e,r,n)}draw(e,r,n,i,s,o){return this._drawShape(e,"circle",2,r,n,i,s,o)}distanceToBorder(e){return e&&this.resize(e),this.options.size}}class DU extends Ca{constructor(e,r,n){super(e,r,n)}resize(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.selected,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.hover;if(this.needsRefresh(r,n)){const i=this.getDimensionsFromLabel(e,r,n);this.height=i.height*2,this.width=i.width+i.height,this.radius=.5*this.width}}draw(e,r,n,i,s,o){this.resize(e,i,s),this.left=r-this.width*.5,this.top=n-this.height*.5,this.initContextForDraw(e,o),WP(e,this.left,this.top,this.width,this.height),this.performFill(e,o),this.updateBoundingBox(r,n,e,i,s),this.labelModule.draw(e,r,n,i,s)}distanceToBorder(e,r){e&&this.resize(e);const n=this.width*.5,i=this.height*.5,s=Math.sin(r)*n,o=Math.cos(r)*i;return n*i/Math.sqrt(s*s+o*o)}}class Zve extends Ca{constructor(e,r,n){super(e,r,n),this._setMargins(n)}resize(e,r,n){this.needsRefresh(r,n)&&(this.iconSize={width:Number(this.options.icon.size),height:Number(this.options.icon.size)},this.width=this.iconSize.width+this.margin.right+this.margin.left,this.height=this.iconSize.height+this.margin.top+this.margin.bottom,this.radius=.5*this.width)}draw(e,r,n,i,s,o){return this.resize(e,i,s),this.options.icon.size=this.options.icon.size||50,this.left=r-this.width/2,this.top=n-this.height/2,this._icon(e,r,n,i,s,o),{drawExternalLabel:()=>{this.options.label!==void 0&&this.labelModule.draw(e,this.left+this.iconSize.width/2+this.margin.left,n+this.height/2+5,i),this.updateBoundingBox(r,n)}}}updateBoundingBox(e,r){this.boundingBox.top=r-this.options.icon.size*.5,this.boundingBox.left=e-this.options.icon.size*.5,this.boundingBox.right=e+this.options.icon.size*.5,this.boundingBox.bottom=r+this.options.icon.size*.5,this.options.label!==void 0&&this.labelModule.size.width>0&&(this.boundingBox.left=Math.min(this.boundingBox.left,this.labelModule.size.left),this.boundingBox.right=Math.max(this.boundingBox.right,this.labelModule.size.left+this.labelModule.size.width),this.boundingBox.bottom=Math.max(this.boundingBox.bottom,this.boundingBox.bottom+this.labelModule.size.height+5))}_icon(e,r,n,i,s,o){const a=Number(this.options.icon.size);this.options.icon.code!==void 0?(e.font=[this.options.icon.weight!=null?this.options.icon.weight:i?"bold":"",(this.options.icon.weight!=null&&i?5:0)+a+"px",this.options.icon.face].join(" "),e.fillStyle=this.options.icon.color||"black",e.textAlign="center",e.textBaseline="middle",this.enableShadow(e,o),e.fillText(this.options.icon.code,r,n),this.disableShadow(e,o)):console.error("When using the icon shape, you need to define the code in the icon options object. This can be done per node or globally.")}distanceToBorder(e,r){return this._distanceToBorder(e,r)}}let eye=class extends xI{constructor(e,r,n,i,s){super(e,r,n),this.setImages(i,s)}resize(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.selected,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.hover;if(this.imageObj.src===void 0||this.imageObj.width===void 0||this.imageObj.height===void 0){const s=this.options.size*2;this.width=s,this.height=s;return}this.needsRefresh(r,n)&&this._resizeImage()}draw(e,r,n,i,s,o){e.save(),this.switchImages(i),this.resize();let a=r,l=n;if(this.options.shapeProperties.coordinateOrigin==="top-left"?(this.left=r,this.top=n,a+=this.width/2,l+=this.height/2):(this.left=r-this.width/2,this.top=n-this.height/2),this.options.shapeProperties.useBorderWithImage===!0){const u=this.options.borderWidth,c=this.options.borderWidthSelected||2*this.options.borderWidth,d=(i?c:u)/this.body.view.scale;e.lineWidth=Math.min(this.width,d),e.beginPath();let f=i?this.options.color.highlight.border:s?this.options.color.hover.border:this.options.color.border,p=i?this.options.color.highlight.background:s?this.options.color.hover.background:this.options.color.background;o.opacity!==void 0&&(f=En(f,o.opacity),p=En(p,o.opacity)),e.strokeStyle=f,e.fillStyle=p,e.rect(this.left-.5*e.lineWidth,this.top-.5*e.lineWidth,this.width+e.lineWidth,this.height+e.lineWidth),Gd(e).call(e),this.performStroke(e,o),e.closePath()}this._drawImageAtPosition(e,o),this._drawImageLabel(e,a,l,i,s),this.updateBoundingBox(r,n),e.restore()}updateBoundingBox(e,r){this.resize(),this.options.shapeProperties.coordinateOrigin==="top-left"?(this.left=e,this.top=r):(this.left=e-this.width/2,this.top=r-this.height/2),this.boundingBox.left=this.left,this.boundingBox.top=this.top,this.boundingBox.bottom=this.top+this.height,this.boundingBox.right=this.left+this.width,this.options.label!==void 0&&this.labelModule.size.width>0&&(this.boundingBox.left=Math.min(this.boundingBox.left,this.labelModule.size.left),this.boundingBox.right=Math.max(this.boundingBox.right,this.labelModule.size.left+this.labelModule.size.width),this.boundingBox.bottom=Math.max(this.boundingBox.bottom,this.boundingBox.bottom+this.labelOffset))}distanceToBorder(e,r){return this._distanceToBorder(e,r)}};class tye extends fo{constructor(e,r,n){super(e,r,n)}draw(e,r,n,i,s,o){return this._drawShape(e,"square",2,r,n,i,s,o)}distanceToBorder(e,r){return this._distanceToBorder(e,r)}}class rye extends fo{constructor(e,r,n){super(e,r,n)}draw(e,r,n,i,s,o){return this._drawShape(e,"hexagon",4,r,n,i,s,o)}distanceToBorder(e,r){return this._distanceToBorder(e,r)}}class nye extends fo{constructor(e,r,n){super(e,r,n)}draw(e,r,n,i,s,o){return this._drawShape(e,"star",4,r,n,i,s,o)}distanceToBorder(e,r){return this._distanceToBorder(e,r)}}class iye extends Ca{constructor(e,r,n){super(e,r,n),this._setMargins(n)}resize(e,r,n){this.needsRefresh(r,n)&&(this.textSize=this.labelModule.getTextSize(e,r,n),this.width=this.textSize.width+this.margin.right+this.margin.left,this.height=this.textSize.height+this.margin.top+this.margin.bottom,this.radius=.5*this.width)}draw(e,r,n,i,s,o){this.resize(e,i,s),this.left=r-this.width/2,this.top=n-this.height/2,this.enableShadow(e,o),this.labelModule.draw(e,this.left+this.textSize.width/2+this.margin.left,this.top+this.textSize.height/2+this.margin.top,i,s),this.disableShadow(e,o),this.updateBoundingBox(r,n,e,i,s)}distanceToBorder(e,r){return this._distanceToBorder(e,r)}}let sye=class extends fo{constructor(e,r,n){super(e,r,n)}draw(e,r,n,i,s,o){return this._drawShape(e,"triangle",3,r,n,i,s,o)}distanceToBorder(e,r){return this._distanceToBorder(e,r)}};class oye extends fo{constructor(e,r,n){super(e,r,n)}draw(e,r,n,i,s,o){return this._drawShape(e,"triangleDown",3,r,n,i,s,o)}distanceToBorder(e,r){return this._distanceToBorder(e,r)}}function qU(t,e){var r=_t(t);if(eo){var n=eo(t);e&&(n=Wr(n).call(n,function(i){return ho(t,i).enumerable})),r.push.apply(r,n)}return r}function MU(t){for(var e=1;e<arguments.length;e++){var r,n,i=arguments[e]!=null?arguments[e]:{};e%2?Ge(r=qU(Object(i),!0)).call(r,function(s){Di(t,s,i[s])}):to?nm(t,to(i)):Ge(n=qU(Object(i))).call(n,function(s){im(t,s,ho(i,s))})}return t}class at{constructor(e,r,n,i,s,o){this.options=Ks(s),this.globalOptions=s,this.defaultOptions=o,this.body=r,this.edges=[],this.id=void 0,this.imagelist=n,this.grouplist=i,this.x=void 0,this.y=void 0,this.baseSize=this.options.size,this.baseFontSize=this.options.font.size,this.predefinedPosition=!1,this.selected=!1,this.hover=!1,this.labelModule=new ml(this.body,this.options,!1),this.setOptions(e)}attachEdge(e){var r;Ue(r=this.edges).call(r,e)===-1&&this.edges.push(e)}detachEdge(e){var r;const n=Ue(r=this.edges).call(r,e);if(n!=-1){var i;Li(i=this.edges).call(i,n,1)}}setOptions(e){const r=this.options.shape;if(!e)return;if(typeof e.color<"u"&&(this._localColor=e.color),e.id!==void 0&&(this.id=e.id),this.id===void 0)throw new Error("Node must have an id");at.checkMass(e,this.id),e.x!==void 0&&(e.x===null?(this.x=void 0,this.predefinedPosition=!1):(this.x=Hn(e.x),this.predefinedPosition=!0)),e.y!==void 0&&(e.y===null?(this.y=void 0,this.predefinedPosition=!1):(this.y=Hn(e.y),this.predefinedPosition=!0)),e.size!==void 0&&(this.baseSize=e.size),e.value!==void 0&&(e.value=KG(e.value)),at.parseOptions(this.options,e,!0,this.globalOptions,this.grouplist);const n=[e,this.options,this.defaultOptions];return this.chooser=wI("node",n),this._load_images(),this.updateLabelModule(e),e.opacity!==void 0&&at.checkOpacity(e.opacity)&&(this.options.opacity=e.opacity),this.updateShape(r),e.hidden!==void 0||e.physics!==void 0}_load_images(){if((this.options.shape==="circularImage"||this.options.shape==="image")&&this.options.image===void 0)throw new Error("Option image must be defined for node type '"+this.options.shape+"'");if(this.options.image!==void 0){if(this.imagelist===void 0)throw new Error("Internal Error: No images provided");if(typeof this.options.image=="string")this.imageObj=this.imagelist.load(this.options.image,this.options.brokenImage,this.id);else{if(this.options.image.unselected===void 0)throw new Error("No unselected image provided");this.imageObj=this.imagelist.load(this.options.image.unselected,this.options.brokenImage,this.id),this.options.image.selected!==void 0?this.imageObjAlt=this.imagelist.load(this.options.image.selected,this.options.brokenImage,this.id):this.imageObjAlt=void 0}}}static checkOpacity(e){return 0<=e&&e<=1}static checkCoordinateOrigin(e){return e===void 0||e==="center"||e==="top-left"}static updateGroupOptions(e,r,n){var i;if(n===void 0)return;const s=e.group;if(r!==void 0&&r.group!==void 0&&s!==r.group)throw new Error("updateGroupOptions: group values in options don't match.");if(!(typeof s=="number"||typeof s=="string"&&s!=""))return;const a=n.get(s);a.opacity!==void 0&&r.opacity===void 0&&(at.checkOpacity(a.opacity)||(console.error("Invalid option for node opacity. Value must be between 0 and 1, found: "+a.opacity),a.opacity=void 0));const l=Wr(i=mve(r)).call(i,u=>r[u]!=null);l.push("font"),Vf(l,e,a),e.color=YP(e.color)}static parseOptions(e,r){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},s=arguments.length>4?arguments[4]:void 0;if(Vf(["color","fixed","shadow"],e,r,n),at.checkMass(r),e.opacity!==void 0&&(at.checkOpacity(e.opacity)||(console.error("Invalid option for node opacity. Value must be between 0 and 1, found: "+e.opacity),e.opacity=void 0)),r.opacity!==void 0&&(at.checkOpacity(r.opacity)||(console.error("Invalid option for node opacity. Value must be between 0 and 1, found: "+r.opacity),r.opacity=void 0)),r.shapeProperties&&!at.checkCoordinateOrigin(r.shapeProperties.coordinateOrigin)&&console.error("Invalid option for node coordinateOrigin, found: "+r.shapeProperties.coordinateOrigin),xn(e,r,"shadow",i),r.color!==void 0&&r.color!==null){const a=YP(r.color);CG(e.color,a)}else n===!0&&r.color===null&&(e.color=Ks(i.color));r.fixed!==void 0&&r.fixed!==null&&(typeof r.fixed=="boolean"?(e.fixed.x=r.fixed,e.fixed.y=r.fixed):(r.fixed.x!==void 0&&typeof r.fixed.x=="boolean"&&(e.fixed.x=r.fixed.x),r.fixed.y!==void 0&&typeof r.fixed.y=="boolean"&&(e.fixed.y=r.fixed.y))),n===!0&&r.font===null&&(e.font=Ks(i.font)),at.updateGroupOptions(e,r,s),r.scaling!==void 0&&xn(e.scaling,r.scaling,"label",i.scaling)}getFormattingValues(){const e={color:this.options.color.background,opacity:this.options.opacity,borderWidth:this.options.borderWidth,borderColor:this.options.color.border,size:this.options.size,borderDashes:this.options.shapeProperties.borderDashes,borderRadius:this.options.shapeProperties.borderRadius,shadow:this.options.shadow.enabled,shadowColor:this.options.shadow.color,shadowSize:this.options.shadow.size,shadowX:this.options.shadow.x,shadowY:this.options.shadow.y};if(this.selected||this.hover?this.chooser===!0?this.selected?(this.options.borderWidthSelected!=null?e.borderWidth=this.options.borderWidthSelected:e.borderWidth*=2,e.color=this.options.color.highlight.background,e.borderColor=this.options.color.highlight.border,e.shadow=this.options.shadow.enabled):this.hover&&(e.color=this.options.color.hover.background,e.borderColor=this.options.color.hover.border,e.shadow=this.options.shadow.enabled):typeof this.chooser=="function"&&(this.chooser(e,this.options.id,this.selected,this.hover),e.shadow===!1&&(e.shadowColor!==this.options.shadow.color||e.shadowSize!==this.options.shadow.size||e.shadowX!==this.options.shadow.x||e.shadowY!==this.options.shadow.y)&&(e.shadow=!0)):e.shadow=this.options.shadow.enabled,this.options.opacity!==void 0){const r=this.options.opacity;e.borderColor=En(e.borderColor,r),e.color=En(e.color,r),e.shadowColor=En(e.shadowColor,r)}return e}updateLabelModule(e){(this.options.label===void 0||this.options.label===null)&&(this.options.label=""),at.updateGroupOptions(this.options,MU(MU({},e),{},{color:e&&e.color||this._localColor||void 0}),this.grouplist);const r=this.grouplist.get(this.options.group,!1),n=[e,this.options,r,this.globalOptions,this.defaultOptions];this.labelModule.update(this.options,n),this.labelModule.baseSize!==void 0&&(this.baseFontSize=this.labelModule.baseSize)}updateShape(e){if(e===this.options.shape&&this.shape)this.shape.setOptions(this.options,this.imageObj,this.imageObjAlt);else switch(this.options.shape){case"box":this.shape=new Hve(this.options,this.body,this.labelModule);break;case"circle":this.shape=new Vve(this.options,this.body,this.labelModule);break;case"circularImage":this.shape=new Kve(this.options,this.body,this.labelModule,this.imageObj,this.imageObjAlt);break;case"custom":this.shape=new Yve(this.options,this.body,this.labelModule,this.options.ctxRenderer);break;case"database":this.shape=new Qve(this.options,this.body,this.labelModule);break;case"diamond":this.shape=new Xve(this.options,this.body,this.labelModule);break;case"dot":this.shape=new Jve(this.options,this.body,this.labelModule);break;case"ellipse":this.shape=new DU(this.options,this.body,this.labelModule);break;case"icon":this.shape=new Zve(this.options,this.body,this.labelModule);break;case"image":this.shape=new eye(this.options,this.body,this.labelModule,this.imageObj,this.imageObjAlt);break;case"square":this.shape=new tye(this.options,this.body,this.labelModule);break;case"hexagon":this.shape=new rye(this.options,this.body,this.labelModule);break;case"star":this.shape=new nye(this.options,this.body,this.labelModule);break;case"text":this.shape=new iye(this.options,this.body,this.labelModule);break;case"triangle":this.shape=new sye(this.options,this.body,this.labelModule);break;case"triangleDown":this.shape=new oye(this.options,this.body,this.labelModule);break;default:this.shape=new DU(this.options,this.body,this.labelModule);break}this.needsRefresh()}select(){this.selected=!0,this.needsRefresh()}unselect(){this.selected=!1,this.needsRefresh()}needsRefresh(){this.shape.refreshNeeded=!0}getTitle(){return this.options.title}distanceToBorder(e,r){return this.shape.distanceToBorder(e,r)}isFixed(){return this.options.fixed.x&&this.options.fixed.y}isSelected(){return this.selected}getValue(){return this.options.value}getLabelSize(){return this.labelModule.size()}setValueRange(e,r,n){if(this.options.value!==void 0){const i=this.options.scaling.customScalingFunction(e,r,n,this.options.value),s=this.options.scaling.max-this.options.scaling.min;if(this.options.scaling.label.enabled===!0){const o=this.options.scaling.label.max-this.options.scaling.label.min;this.options.font.size=this.options.scaling.label.min+i*o}this.options.size=this.options.scaling.min+i*s}else this.options.size=this.baseSize,this.options.font.size=this.baseFontSize;this.updateLabelModule()}draw(e){const r=this.getFormattingValues();return this.shape.draw(e,this.x,this.y,this.selected,this.hover,r)||{}}updateBoundingBox(e){this.shape.updateBoundingBox(this.x,this.y,e)}resize(e){const r=this.getFormattingValues();this.shape.resize(e,this.selected,this.hover,r)}getItemsOnPoint(e){const r=[];return this.labelModule.visible()&&eT(this.labelModule.getSize(),e)&&r.push({nodeId:this.id,labelId:0}),eT(this.shape.boundingBox,e)&&r.push({nodeId:this.id}),r}isOverlappingWith(e){return this.shape.left<e.right&&this.shape.left+this.shape.width>e.left&&this.shape.top<e.bottom&&this.shape.top+this.shape.height>e.top}isBoundingBoxOverlappingWith(e){return this.shape.boundingBox.left<e.right&&this.shape.boundingBox.right>e.left&&this.shape.boundingBox.top<e.bottom&&this.shape.boundingBox.bottom>e.top}static checkMass(e,r){if(e.mass!==void 0&&e.mass<=0){let n="";r!==void 0&&(n=" in node id: "+r),console.error("%cNegative or zero mass disallowed"+n+", setting mass to 1.",$G),e.mass=1}}}class aye{constructor(e,r,n,i){var s;if(this.body=e,this.images=r,this.groups=n,this.layoutEngine=i,this.body.functions.createNode=ee(s=this.create).call(s,this),this.nodesListeners={add:(o,a)=>{this.add(a.items)},update:(o,a)=>{this.update(a.items,a.data,a.oldData)},remove:(o,a)=>{this.remove(a.items)}},this.defaultOptions={borderWidth:1,borderWidthSelected:void 0,brokenImage:void 0,color:{border:"#2B7CE9",background:"#97C2FC",highlight:{border:"#2B7CE9",background:"#D2E5FF"},hover:{border:"#2B7CE9",background:"#D2E5FF"}},opacity:void 0,fixed:{x:!1,y:!1},font:{color:"#343434",size:14,face:"arial",background:"none",strokeWidth:0,strokeColor:"#ffffff",align:"center",vadjust:0,multi:!1,bold:{mod:"bold"},boldital:{mod:"bold italic"},ital:{mod:"italic"},mono:{mod:"",size:15,face:"monospace",vadjust:2}},group:void 0,hidden:!1,icon:{face:"FontAwesome",code:void 0,size:50,color:"#2B7CE9"},image:void 0,imagePadding:{top:0,right:0,bottom:0,left:0},label:void 0,labelHighlightBold:!0,level:void 0,margin:{top:5,right:5,bottom:5,left:5},mass:1,physics:!0,scaling:{min:10,max:30,label:{enabled:!1,min:14,max:30,maxVisible:30,drawThreshold:5},customScalingFunction:function(o,a,l,u){if(a===o)return .5;{const c=1/(a-o);return Math.max(0,(u-o)*c)}}},shadow:{enabled:!1,color:"rgba(0,0,0,0.5)",size:10,x:5,y:5},shape:"ellipse",shapeProperties:{borderDashes:!1,borderRadius:6,interpolation:!0,useImageSize:!1,useBorderWithImage:!1,coordinateOrigin:"center"},size:25,title:void 0,value:void 0,x:void 0,y:void 0},this.defaultOptions.mass<=0)throw"Internal error: mass in defaultOptions of NodesHandler may not be zero or negative";this.options=Ks(this.defaultOptions),this.bindEventListeners()}bindEventListeners(){var e,r;this.body.emitter.on("refreshNodes",ee(e=this.refresh).call(e,this)),this.body.emitter.on("refresh",ee(r=this.refresh).call(r,this)),this.body.emitter.on("destroy",()=>{Ne(this.nodesListeners,(n,i)=>{this.body.data.nodes&&this.body.data.nodes.off(i,n)}),delete this.body.functions.createNode,delete this.nodesListeners.add,delete this.nodesListeners.update,delete this.nodesListeners.remove,delete this.nodesListeners})}setOptions(e){if(e!==void 0){if(at.parseOptions(this.options,e),e.opacity!==void 0&&(ZP(e.opacity)||!Co(e.opacity)||e.opacity<0||e.opacity>1?console.error("Invalid option for node opacity. Value must be between 0 and 1, found: "+e.opacity):this.options.opacity=e.opacity),e.shape!==void 0)for(const r in this.body.nodes)Object.prototype.hasOwnProperty.call(this.body.nodes,r)&&this.body.nodes[r].updateShape();if(typeof e.font<"u"||typeof e.widthConstraint<"u"||typeof e.heightConstraint<"u")for(const r of _t(this.body.nodes))this.body.nodes[r].updateLabelModule(),this.body.nodes[r].needsRefresh();if(e.size!==void 0)for(const r in this.body.nodes)Object.prototype.hasOwnProperty.call(this.body.nodes,r)&&this.body.nodes[r].needsRefresh();(e.hidden!==void 0||e.physics!==void 0)&&this.body.emitter.emit("_dataChanged")}}setData(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;const n=this.body.data.nodes;if(P9("id",e))this.body.data.nodes=e;else if(Ot(e))this.body.data.nodes=new Hl,this.body.data.nodes.add(e);else if(!e)this.body.data.nodes=new Hl;else throw new TypeError("Array or DataSet expected");if(n&&Ne(this.nodesListeners,function(i,s){n.off(s,i)}),this.body.nodes={},this.body.data.nodes){const i=this;Ne(this.nodesListeners,function(o,a){i.body.data.nodes.on(a,o)});const s=this.body.data.nodes.getIds();this.add(s,!0)}r===!1&&this.body.emitter.emit("_dataChanged")}add(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,n;const i=[];for(let s=0;s<e.length;s++){n=e[s];const o=this.body.data.nodes.get(n),a=this.create(o);i.push(a),this.body.nodes[n]=a}this.layoutEngine.positionInitially(i),r===!1&&this.body.emitter.emit("_dataChanged")}update(e,r,n){const i=this.body.nodes;let s=!1;for(let o=0;o<e.length;o++){const a=e[o];let l=i[a];const u=r[o];l!==void 0?l.setOptions(u)&&(s=!0):(s=!0,l=this.create(u),i[a]=l)}!s&&n!==void 0&&(s=vme(r).call(r,function(o,a){const l=n[a];return l&&l.level!==o.level})),s===!0?this.body.emitter.emit("_dataChanged"):this.body.emitter.emit("_dataUpdated")}remove(e){const r=this.body.nodes;for(let n=0;n<e.length;n++){const i=e[n];delete r[i]}this.body.emitter.emit("_dataChanged")}create(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:at;return new r(e,this.body,this.images,this.groups,this.options,this.defaultOptions)}refresh(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;Ne(this.body.nodes,(r,n)=>{const i=this.body.data.nodes.get(n);i!==void 0&&(e===!0&&r.setOptions({x:null,y:null}),r.setOptions({fixed:!1}),r.setOptions(i))})}getPositions(e){const r={};if(e!==void 0){if(Ot(e)===!0){for(let n=0;n<e.length;n++)if(this.body.nodes[e[n]]!==void 0){const i=this.body.nodes[e[n]];r[e[n]]={x:Math.round(i.x),y:Math.round(i.y)}}}else if(this.body.nodes[e]!==void 0){const n=this.body.nodes[e];r[e]={x:Math.round(n.x),y:Math.round(n.y)}}}else for(let n=0;n<this.body.nodeIndices.length;n++){const i=this.body.nodes[this.body.nodeIndices[n]];r[this.body.nodeIndices[n]]={x:Math.round(i.x),y:Math.round(i.y)}}return r}getPosition(e){if(e==null)throw new TypeError("No id was specified for getPosition method.");if(this.body.nodes[e]==null)throw new ReferenceError("NodeId provided for getPosition does not exist. Provided: ".concat(e));return{x:Math.round(this.body.nodes[e].x),y:Math.round(this.body.nodes[e].y)}}storePositions(){const e=[],r=this.body.data.nodes.getDataSet();for(const n of r.get()){const i=n.id,s=this.body.nodes[i],o=Math.round(s.x),a=Math.round(s.y);(n.x!==o||n.y!==a)&&e.push({id:i,x:o,y:a})}r.update(e)}getBoundingBox(e){if(this.body.nodes[e]!==void 0)return this.body.nodes[e].shape.boundingBox}getConnectedNodes(e,r){const n=[];if(this.body.nodes[e]!==void 0){const i=this.body.nodes[e],s={};for(let o=0;o<i.edges.length;o++){const a=i.edges[o];r!=="to"&&a.toId==i.id?s[a.fromId]===void 0&&(n.push(a.fromId),s[a.fromId]=!0):r!=="from"&&a.fromId==i.id&&s[a.toId]===void 0&&(n.push(a.toId),s[a.toId]=!0)}}return n}getConnectedEdges(e){const r=[];if(this.body.nodes[e]!==void 0){const n=this.body.nodes[e];for(let i=0;i<n.edges.length;i++)r.push(n.edges[i].id)}else console.error("NodeId provided for getConnectedEdges does not exist. Provided: ",e);return r}moveNode(e,r,n){this.body.nodes[e]!==void 0?(this.body.nodes[e].x=Number(r),this.body.nodes[e].y=Number(n),Bi(()=>{this.body.emitter.emit("startSimulation")},0)):console.error("Node id supplied to moveNode does not exist. Provided: ",e)}}var AU={},FU;function lye(){if(FU)return AU;FU=1;var t=ge(),e=Math.hypot,r=Math.abs,n=Math.sqrt,i=!!e&&e(1/0,NaN)!==1/0;return t({target:"Math",stat:!0,arity:2,forced:i},{hypot:function(o,a){for(var l=0,u=0,c=arguments.length,d=0,f,p;u<c;)f=r(arguments[u++]),d<f?(p=d/f,l=l*p*p+1,d=f):f>0?(p=f/d,l+=p*p):l+=f;return d===1/0?1/0:d*n(l)}}),AU}var fE,LU;function uye(){if(LU)return fE;LU=1,lye();var t=Ve();return fE=t.Math.hypot,fE}var pE,BU;function cye(){if(BU)return pE;BU=1;var t=uye();return pE=t,pE}var mE,zU;function dye(){return zU||(zU=1,mE=cye()),mE}var hye=dye(),fye=Ee(hye);class Tt{static transform(e,r){Ot(e)||(e=[e]);const n=r.point.x,i=r.point.y,s=r.angle,o=r.length;for(let a=0;a<e.length;++a){const l=e[a],u=l.x*Math.cos(s)-l.y*Math.sin(s),c=l.x*Math.sin(s)+l.y*Math.cos(s);l.x=n+o*u,l.y=i+o*c}}static drawPath(e,r){e.beginPath(),e.moveTo(r[0].x,r[0].y);for(let n=1;n<r.length;++n)e.lineTo(r[n].x,r[n].y);e.closePath()}}let pye=class extends Tt{static draw(e,r){if(r.image){e.save(),e.translate(r.point.x,r.point.y),e.rotate(Math.PI/2+r.angle);const n=r.imageWidth!=null?r.imageWidth:r.image.width,i=r.imageHeight!=null?r.imageHeight:r.image.height;r.image.drawImageAtPosition(e,1,-n/2,0,n,i),e.restore()}return!1}};class mye extends Tt{static draw(e,r){const n=[{x:0,y:0},{x:-1,y:.3},{x:-.9,y:0},{x:-1,y:-.3}];return Tt.transform(n,r),Tt.drawPath(e,n),!0}}class vye{static draw(e,r){const n=[{x:-1,y:0},{x:0,y:.3},{x:-.4,y:0},{x:0,y:-.3}];return Tt.transform(n,r),Tt.drawPath(e,n),!0}}class yye{static draw(e,r){const n={x:-.4,y:0};Tt.transform(n,r),e.strokeStyle=e.fillStyle,e.fillStyle="rgba(0, 0, 0, 0)";const i=Math.PI,s=r.angle-i/2,o=r.angle+i/2;return e.beginPath(),e.arc(n.x,n.y,r.length*.4,s,o,!1),e.stroke(),!0}}class gye{static draw(e,r){const n={x:-.3,y:0};Tt.transform(n,r),e.strokeStyle=e.fillStyle,e.fillStyle="rgba(0, 0, 0, 0)";const i=Math.PI,s=r.angle+i/2,o=r.angle+3*i/2;return e.beginPath(),e.arc(n.x,n.y,r.length*.4,s,o,!1),e.stroke(),!0}}class bye{static draw(e,r){const n=[{x:.02,y:0},{x:-1,y:.3},{x:-1,y:-.3}];return Tt.transform(n,r),Tt.drawPath(e,n),!0}}class wye{static draw(e,r){const n=[{x:0,y:.3},{x:0,y:-.3},{x:-1,y:0}];return Tt.transform(n,r),Tt.drawPath(e,n),!0}}class xye{static draw(e,r){const n={x:-.4,y:0};return Tt.transform(n,r),GC(e,n.x,n.y,r.length*.4),!0}}class _ye{static draw(e,r){const n=[{x:0,y:.5},{x:0,y:-.5},{x:-.15,y:-.5},{x:-.15,y:.5}];return Tt.transform(n,r),Tt.drawPath(e,n),!0}}class Sye{static draw(e,r){const n=[{x:0,y:.3},{x:0,y:-.3},{x:-.6,y:-.3},{x:-.6,y:.3}];return Tt.transform(n,r),Tt.drawPath(e,n),!0}}class Eye{static draw(e,r){const n=[{x:0,y:0},{x:-.5,y:-.3},{x:-1,y:0},{x:-.5,y:.3}];return Tt.transform(n,r),Tt.drawPath(e,n),!0}}class Oye{static draw(e,r){const n=[{x:-1,y:.3},{x:-.5,y:0},{x:-1,y:-.3},{x:0,y:0}];return Tt.transform(n,r),Tt.drawPath(e,n),!0}}class QG{static draw(e,r){let n;switch(r.type&&(n=r.type.toLowerCase()),n){case"image":return pye.draw(e,r);case"circle":return xye.draw(e,r);case"box":return Sye.draw(e,r);case"crow":return vye.draw(e,r);case"curve":return yye.draw(e,r);case"diamond":return Eye.draw(e,r);case"inv_curve":return gye.draw(e,r);case"triangle":return bye.draw(e,r);case"inv_triangle":return wye.draw(e,r);case"bar":return _ye.draw(e,r);case"vee":return Oye.draw(e,r);case"arrow":default:return mye.draw(e,r)}}}function UU(t,e){var r=_t(t);if(eo){var n=eo(t);e&&(n=Wr(n).call(n,function(i){return ho(t,i).enumerable})),r.push.apply(r,n)}return r}function WU(t){for(var e=1;e<arguments.length;e++){var r,n,i=arguments[e]!=null?arguments[e]:{};e%2?Ge(r=UU(Object(i),!0)).call(r,function(s){Di(t,s,i[s])}):to?nm(t,to(i)):Ge(n=UU(Object(i))).call(n,function(s){im(t,s,ho(i,s))})}return t}class XG{constructor(e,r,n){Di(this,"color",{}),Di(this,"colorDirty",!0),Di(this,"hoverWidth",1.5),Di(this,"selectionWidth",2),this._body=r,this._labelModule=n,this.setOptions(e),this.fromPoint=this.from,this.toPoint=this.to}connect(){this.from=this._body.nodes[this.options.from],this.to=this._body.nodes[this.options.to]}cleanup(){return!1}setOptions(e){this.options=e,this.from=this._body.nodes[this.options.from],this.to=this._body.nodes[this.options.to],this.id=this.options.id}drawLine(e,r,n,i){let s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:this.getViaNode();e.strokeStyle=this.getColor(e,r),e.lineWidth=r.width,r.dashes!==!1?this._drawDashedLine(e,r,s):this._drawLine(e,r,s)}_drawLine(e,r,n,i,s){if(this.from!=this.to)this._line(e,r,n,i,s);else{const[o,a,l]=this._getCircleData(e);this._circle(e,r,o,a,l)}}_drawDashedLine(e,r,n,i,s){e.lineCap="round";const o=Ot(r.dashes)?r.dashes:[5,5];if(e.setLineDash!==void 0){if(e.save(),e.setLineDash(o),e.lineDashOffset=0,this.from!=this.to)this._line(e,r,n);else{const[a,l,u]=this._getCircleData(e);this._circle(e,r,a,l,u)}e.setLineDash([0]),e.lineDashOffset=0,e.restore()}else{if(this.from!=this.to)q9(e,this.from.x,this.from.y,this.to.x,this.to.y,o);else{const[a,l,u]=this._getCircleData(e);this._circle(e,r,a,l,u)}this.enableShadow(e,r),e.stroke(),this.disableShadow(e,r)}}findBorderPosition(e,r,n){return this.from!=this.to?this._findBorderPosition(e,r,n):this._findBorderPositionCircle(e,r,n)}findBorderPositions(e){if(this.from!=this.to)return{from:this._findBorderPosition(this.from,e),to:this._findBorderPosition(this.to,e)};{var r;const[n,i]=hi(r=this._getCircleData(e)).call(r,0,2);return{from:this._findBorderPositionCircle(this.from,e,{x:n,y:i,low:.25,high:.6,direction:-1}),to:this._findBorderPositionCircle(this.from,e,{x:n,y:i,low:.6,high:.8,direction:1})}}}_getCircleData(e){const r=this.options.selfReference.size;e!==void 0&&this.from.shape.width===void 0&&this.from.shape.resize(e);const n=GG(e,this.options.selfReference.angle,r,this.from);return[n.x,n.y,r]}_pointOnCircle(e,r,n,i){const s=i*2*Math.PI;return{x:e+n*Math.cos(s),y:r-n*Math.sin(s)}}_findBorderPositionCircle(e,r,n){const i=n.x,s=n.y;let o=n.low,a=n.high;const l=n.direction,u=10,c=this.options.selfReference.size,d=.05;let f,p=(o+a)*.5,m=0;this.options.arrowStrikethrough===!0&&(l===-1?m=this.options.endPointOffset.from:l===1&&(m=this.options.endPointOffset.to));let g=0;do{p=(o+a)*.5,f=this._pointOnCircle(i,s,c,p);const b=Math.atan2(e.y-f.y,e.x-f.x),y=e.distanceToBorder(r,b)+m,v=Math.sqrt(Math.pow(f.x-e.x,2)+Math.pow(f.y-e.y,2)),x=y-v;if(Math.abs(x)<d)break;x>0?l>0?o=p:a=p:l>0?a=p:o=p,++g}while(o<=a&&g<u);return WU(WU({},f),{},{t:p})}getLineWidth(e,r){return e===!0?Math.max(this.selectionWidth,.3/this._body.view.scale):r===!0?Math.max(this.hoverWidth,.3/this._body.view.scale):Math.max(this.options.width,.3/this._body.view.scale)}getColor(e,r){if(r.inheritsColor!==!1){if(r.inheritsColor==="both"&&this.from.id!==this.to.id){const n=e.createLinearGradient(this.from.x,this.from.y,this.to.x,this.to.y);let i=this.from.options.color.highlight.border,s=this.to.options.color.highlight.border;return this.from.selected===!1&&this.to.selected===!1?(i=En(this.from.options.color.border,r.opacity),s=En(this.to.options.color.border,r.opacity)):this.from.selected===!0&&this.to.selected===!1?s=this.to.options.color.border:this.from.selected===!1&&this.to.selected===!0&&(i=this.from.options.color.border),n.addColorStop(0,i),n.addColorStop(1,s),n}return r.inheritsColor==="to"?En(this.to.options.color.border,r.opacity):En(this.from.options.color.border,r.opacity)}else return En(r.color,r.opacity)}_circle(e,r,n,i,s){this.enableShadow(e,r);let o=0,a=Math.PI*2;if(!this.options.selfReference.renderBehindTheNode){const l=this.options.selfReference.angle,u=this.options.selfReference.angle+Math.PI,c=this._findBorderPositionCircle(this.from,e,{x:n,y:i,low:l,high:u,direction:-1}),d=this._findBorderPositionCircle(this.from,e,{x:n,y:i,low:l,high:u,direction:1});o=Math.atan2(c.y-i,c.x-n),a=Math.atan2(d.y-i,d.x-n)}e.beginPath(),e.arc(n,i,s,o,a,!1),e.stroke(),this.disableShadow(e,r)}getDistanceToEdge(e,r,n,i,s,o){if(this.from!=this.to)return this._getDistanceToEdge(e,r,n,i,s,o);{const[a,l,u]=this._getCircleData(void 0),c=a-s,d=l-o;return Math.abs(Math.sqrt(c*c+d*d)-u)}}_getDistanceToLine(e,r,n,i,s,o){const a=n-e,l=i-r,u=a*a+l*l;let c=((s-e)*a+(o-r)*l)/u;c>1?c=1:c<0&&(c=0);const d=e+c*a,f=r+c*l,p=d-s,m=f-o;return Math.sqrt(p*p+m*m)}getArrowData(e,r,n,i,s,o){let a,l,u,c,d,f,p;const m=o.width;r==="from"?(u=this.from,c=this.to,d=o.fromArrowScale<0,f=Math.abs(o.fromArrowScale),p=o.fromArrowType):r==="to"?(u=this.to,c=this.from,d=o.toArrowScale<0,f=Math.abs(o.toArrowScale),p=o.toArrowType):(u=this.to,c=this.from,d=o.middleArrowScale<0,f=Math.abs(o.middleArrowScale),p=o.middleArrowType);const g=15*f+3*m;if(u!=c){const x=fye(u.x-c.x,u.y-c.y),w=g/x;if(r!=="middle")if(this.options.smooth.enabled===!0){const _=this._findBorderPosition(u,e,{via:n}),E=this.getPoint(_.t+w*(r==="from"?1:-1),n);a=Math.atan2(_.y-E.y,_.x-E.x),l=_}else a=Math.atan2(u.y-c.y,u.x-c.x),l=this._findBorderPosition(u,e);else{const _=(d?-w:w)/2,E=this.getPoint(.5+_,n),O=this.getPoint(.5-_,n);a=Math.atan2(E.y-O.y,E.x-O.x),l=this.getPoint(.5,n)}}else{const[x,w,_]=this._getCircleData(e);if(r==="from"){const E=this.options.selfReference.angle,O=this.options.selfReference.angle+Math.PI,S=this._findBorderPositionCircle(this.from,e,{x,y:w,low:E,high:O,direction:-1});a=S.t*-2*Math.PI+1.5*Math.PI+.1*Math.PI,l=S}else if(r==="to"){const E=this.options.selfReference.angle,O=this.options.selfReference.angle+Math.PI,S=this._findBorderPositionCircle(this.from,e,{x,y:w,low:E,high:O,direction:1});a=S.t*-2*Math.PI+1.5*Math.PI-1.1*Math.PI,l=S}else{const E=this.options.selfReference.angle/(2*Math.PI);l=this._pointOnCircle(x,w,_,E),a=E*-2*Math.PI+1.5*Math.PI+.1*Math.PI}}const b=l.x-g*.9*Math.cos(a),y=l.y-g*.9*Math.sin(a);return{point:l,core:{x:b,y},angle:a,length:g,type:p}}drawArrowHead(e,r,n,i,s){e.strokeStyle=this.getColor(e,r),e.fillStyle=e.strokeStyle,e.lineWidth=r.width,QG.draw(e,s)&&(this.enableShadow(e,r),Gd(e).call(e),this.disableShadow(e,r))}enableShadow(e,r){r.shadow===!0&&(e.shadowColor=r.shadowColor,e.shadowBlur=r.shadowSize,e.shadowOffsetX=r.shadowX,e.shadowOffsetY=r.shadowY)}disableShadow(e,r){r.shadow===!0&&(e.shadowColor="rgba(0,0,0,0)",e.shadowBlur=0,e.shadowOffsetX=0,e.shadowOffsetY=0)}drawBackground(e,r){if(r.background!==!1){const n={strokeStyle:e.strokeStyle,lineWidth:e.lineWidth,dashes:e.dashes};e.strokeStyle=r.backgroundColor,e.lineWidth=r.backgroundSize,this.setStrokeDashed(e,r.backgroundDashes),e.stroke(),e.strokeStyle=n.strokeStyle,e.lineWidth=n.lineWidth,e.dashes=n.dashes,this.setStrokeDashed(e,r.dashes)}}setStrokeDashed(e,r){if(r!==!1)if(e.setLineDash!==void 0){const n=Ot(r)?r:[5,5];e.setLineDash(n)}else console.warn("setLineDash is not supported in this browser. The dashed stroke cannot be used.");else e.setLineDash!==void 0?e.setLineDash([]):console.warn("setLineDash is not supported in this browser. The dashed stroke cannot be used.")}}function HU(t,e){var r=_t(t);if(eo){var n=eo(t);e&&(n=Wr(n).call(n,function(i){return ho(t,i).enumerable})),r.push.apply(r,n)}return r}function VU(t){for(var e=1;e<arguments.length;e++){var r,n,i=arguments[e]!=null?arguments[e]:{};e%2?Ge(r=HU(Object(i),!0)).call(r,function(s){Di(t,s,i[s])}):to?nm(t,to(i)):Ge(n=HU(Object(i))).call(n,function(s){im(t,s,ho(i,s))})}return t}class _I extends XG{constructor(e,r,n){super(e,r,n)}_findBorderPositionBezier(e,r){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this._getViaCoordinates();const i=10,s=.2;let o=!1,a=1,l=0,u=this.to,c,d,f=this.options.endPointOffset?this.options.endPointOffset.to:0;e.id===this.from.id&&(u=this.from,o=!0,f=this.options.endPointOffset?this.options.endPointOffset.from:0),this.options.arrowStrikethrough===!1&&(f=0);let p=0;do{d=(l+a)*.5,c=this.getPoint(d,n);const m=Math.atan2(u.y-c.y,u.x-c.x),g=u.distanceToBorder(r,m)+f,b=Math.sqrt(Math.pow(c.x-u.x,2)+Math.pow(c.y-u.y,2)),y=g-b;if(Math.abs(y)<s)break;y<0?o===!1?l=d:a=d:o===!1?a=d:l=d,++p}while(l<=a&&p<i);return VU(VU({},c),{},{t:d})}_getDistanceToBezierEdge(e,r,n,i,s,o,a){let l=1e9,u,c,d,f,p,m=e,g=r;for(c=1;c<10;c++)d=.1*c,f=Math.pow(1-d,2)*e+2*d*(1-d)*a.x+Math.pow(d,2)*n,p=Math.pow(1-d,2)*r+2*d*(1-d)*a.y+Math.pow(d,2)*i,c>0&&(u=this._getDistanceToLine(m,g,f,p,s,o),l=u<l?u:l),m=f,g=p;return l}_bezierCurve(e,r,n,i){e.beginPath(),e.moveTo(this.fromPoint.x,this.fromPoint.y),n!=null&&n.x!=null?i!=null&&i.x!=null?e.bezierCurveTo(n.x,n.y,i.x,i.y,this.toPoint.x,this.toPoint.y):e.quadraticCurveTo(n.x,n.y,this.toPoint.x,this.toPoint.y):e.lineTo(this.toPoint.x,this.toPoint.y),this.drawBackground(e,r),this.enableShadow(e,r),e.stroke(),this.disableShadow(e,r)}getViaNode(){return this._getViaCoordinates()}}class KU extends _I{constructor(e,r,n){super(e,r,n),Di(this,"via",this.via),this._boundFunction=()=>{this.positionBezierNode()},this._body.emitter.on("_repositionBezierNodes",this._boundFunction)}setOptions(e){super.setOptions(e);let r=!1;this.options.physics!==e.physics&&(r=!0),this.options=e,this.id=this.options.id,this.from=this._body.nodes[this.options.from],this.to=this._body.nodes[this.options.to],this.setupSupportNode(),this.connect(),r===!0&&(this.via.setOptions({physics:this.options.physics}),this.positionBezierNode())}connect(){this.from=this._body.nodes[this.options.from],this.to=this._body.nodes[this.options.to],this.from===void 0||this.to===void 0||this.options.physics===!1?this.via.setOptions({physics:!1}):this.from.id===this.to.id?this.via.setOptions({physics:!1}):this.via.setOptions({physics:!0})}cleanup(){return this._body.emitter.off("_repositionBezierNodes",this._boundFunction),this.via!==void 0?(delete this._body.nodes[this.via.id],this.via=void 0,!0):!1}setupSupportNode(){if(this.via===void 0){const e="edgeId:"+this.id,r=this._body.functions.createNode({id:e,shape:"circle",physics:!0,hidden:!0});this._body.nodes[e]=r,this.via=r,this.via.parentEdgeId=this.id,this.positionBezierNode()}}positionBezierNode(){this.via!==void 0&&this.from!==void 0&&this.to!==void 0?(this.via.x=.5*(this.from.x+this.to.x),this.via.y=.5*(this.from.y+this.to.y)):this.via!==void 0&&(this.via.x=0,this.via.y=0)}_line(e,r,n){this._bezierCurve(e,r,n)}_getViaCoordinates(){return this.via}getViaNode(){return this.via}getPoint(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.via;if(this.from===this.to){const[n,i,s]=this._getCircleData(),o=2*Math.PI*(1-e);return{x:n+s*Math.sin(o),y:i+s-s*(1-Math.cos(o))}}else return{x:Math.pow(1-e,2)*this.fromPoint.x+2*e*(1-e)*r.x+Math.pow(e,2)*this.toPoint.x,y:Math.pow(1-e,2)*this.fromPoint.y+2*e*(1-e)*r.y+Math.pow(e,2)*this.toPoint.y}}_findBorderPosition(e,r){return this._findBorderPositionBezier(e,r,this.via)}_getDistanceToEdge(e,r,n,i,s,o){return this._getDistanceToBezierEdge(e,r,n,i,s,o,this.via)}}class GU extends _I{constructor(e,r,n){super(e,r,n)}_line(e,r,n){this._bezierCurve(e,r,n)}getViaNode(){return this._getViaCoordinates()}_getViaCoordinates(){const e=this.options.smooth.roundness,r=this.options.smooth.type;let n=Math.abs(this.from.x-this.to.x),i=Math.abs(this.from.y-this.to.y);if(r==="discrete"||r==="diagonalCross"){let s,o;n<=i?s=o=e*i:s=o=e*n,this.from.x>this.to.x&&(s=-s),this.from.y>=this.to.y&&(o=-o);let a=this.from.x+s,l=this.from.y+o;return r==="discrete"&&(n<=i?a=n<e*i?this.from.x:a:l=i<e*n?this.from.y:l),{x:a,y:l}}else if(r==="straightCross"){let s=(1-e)*n,o=(1-e)*i;return n<=i?(s=0,this.from.y<this.to.y&&(o=-o)):(this.from.x<this.to.x&&(s=-s),o=0),{x:this.to.x+s,y:this.to.y+o}}else if(r==="horizontal"){let s=(1-e)*n;return this.from.x<this.to.x&&(s=-s),{x:this.to.x+s,y:this.from.y}}else if(r==="vertical"){let s=(1-e)*i;return this.from.y<this.to.y&&(s=-s),{x:this.from.x,y:this.to.y+s}}else if(r==="curvedCW"){n=this.to.x-this.from.x,i=this.from.y-this.to.y;const s=Math.sqrt(n*n+i*i),o=Math.PI,l=(Math.atan2(i,n)+(e*.5+.5)*o)%(2*o);return{x:this.from.x+(e*.5+.5)*s*Math.sin(l),y:this.from.y+(e*.5+.5)*s*Math.cos(l)}}else if(r==="curvedCCW"){n=this.to.x-this.from.x,i=this.from.y-this.to.y;const s=Math.sqrt(n*n+i*i),o=Math.PI,l=(Math.atan2(i,n)+(-e*.5+.5)*o)%(2*o);return{x:this.from.x+(e*.5+.5)*s*Math.sin(l),y:this.from.y+(e*.5+.5)*s*Math.cos(l)}}else{let s,o;n<=i?s=o=e*i:s=o=e*n,this.from.x>this.to.x&&(s=-s),this.from.y>=this.to.y&&(o=-o);let a=this.from.x+s,l=this.from.y+o;return n<=i?this.from.x<=this.to.x?a=this.to.x<a?this.to.x:a:a=this.to.x>a?this.to.x:a:this.from.y>=this.to.y?l=this.to.y>l?this.to.y:l:l=this.to.y<l?this.to.y:l,{x:a,y:l}}}_findBorderPosition(e,r){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this._findBorderPositionBezier(e,r,n.via)}_getDistanceToEdge(e,r,n,i,s,o){let a=arguments.length>6&&arguments[6]!==void 0?arguments[6]:this._getViaCoordinates();return this._getDistanceToBezierEdge(e,r,n,i,s,o,a)}getPoint(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this._getViaCoordinates();const n=e,i=Math.pow(1-n,2)*this.fromPoint.x+2*n*(1-n)*r.x+Math.pow(n,2)*this.toPoint.x,s=Math.pow(1-n,2)*this.fromPoint.y+2*n*(1-n)*r.y+Math.pow(n,2)*this.toPoint.y;return{x:i,y:s}}}class Pye extends _I{constructor(e,r,n){super(e,r,n)}_getDistanceToBezierEdge2(e,r,n,i,s,o,a,l){let u=1e9,c=e,d=r;const f=[0,0,0,0];for(let p=1;p<10;p++){const m=.1*p;f[0]=Math.pow(1-m,3),f[1]=3*m*Math.pow(1-m,2),f[2]=3*Math.pow(m,2)*(1-m),f[3]=Math.pow(m,3);const g=f[0]*e+f[1]*a.x+f[2]*l.x+f[3]*n,b=f[0]*r+f[1]*a.y+f[2]*l.y+f[3]*i;if(p>0){const y=this._getDistanceToLine(c,d,g,b,s,o);u=y<u?y:u}c=g,d=b}return u}}class YU extends Pye{constructor(e,r,n){super(e,r,n)}_line(e,r,n){const i=n[0],s=n[1];this._bezierCurve(e,r,i,s)}_getViaCoordinates(){const e=this.from.x-this.to.x,r=this.from.y-this.to.y;let n,i,s,o;const a=this.options.smooth.roundness;return(Math.abs(e)>Math.abs(r)||this.options.smooth.forceDirection===!0||this.options.smooth.forceDirection==="horizontal")&&this.options.smooth.forceDirection!=="vertical"?(i=this.from.y,o=this.to.y,n=this.from.x-a*e,s=this.to.x+a*e):(i=this.from.y-a*r,o=this.to.y+a*r,n=this.from.x,s=this.to.x),[{x:n,y:i},{x:s,y:o}]}getViaNode(){return this._getViaCoordinates()}_findBorderPosition(e,r){return this._findBorderPositionBezier(e,r)}_getDistanceToEdge(e,r,n,i,s,o){let[a,l]=arguments.length>6&&arguments[6]!==void 0?arguments[6]:this._getViaCoordinates();return this._getDistanceToBezierEdge2(e,r,n,i,s,o,a,l)}getPoint(e){let[r,n]=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this._getViaCoordinates();const i=e,s=[Math.pow(1-i,3),3*i*Math.pow(1-i,2),3*Math.pow(i,2)*(1-i),Math.pow(i,3)],o=s[0]*this.fromPoint.x+s[1]*r.x+s[2]*n.x+s[3]*this.toPoint.x,a=s[0]*this.fromPoint.y+s[1]*r.y+s[2]*n.y+s[3]*this.toPoint.y;return{x:o,y:a}}}class QU extends XG{constructor(e,r,n){super(e,r,n)}_line(e,r){e.beginPath(),e.moveTo(this.fromPoint.x,this.fromPoint.y),e.lineTo(this.toPoint.x,this.toPoint.y),this.enableShadow(e,r),e.stroke(),this.disableShadow(e,r)}getViaNode(){}getPoint(e){return{x:(1-e)*this.fromPoint.x+e*this.toPoint.x,y:(1-e)*this.fromPoint.y+e*this.toPoint.y}}_findBorderPosition(e,r){let n=this.to,i=this.from;e.id===this.from.id&&(n=this.from,i=this.to);const s=Math.atan2(n.y-i.y,n.x-i.x),o=n.x-i.x,a=n.y-i.y,l=Math.sqrt(o*o+a*a),u=e.distanceToBorder(r,s),c=(l-u)/l;return{x:(1-c)*i.x+c*n.x,y:(1-c)*i.y+c*n.y,t:0}}_getDistanceToEdge(e,r,n,i,s,o){return this._getDistanceToLine(e,r,n,i,s,o)}}class Gs{constructor(e,r,n,i,s){if(r===void 0)throw new Error("No body provided");this.options=Ks(i),this.globalOptions=i,this.defaultOptions=s,this.body=r,this.imagelist=n,this.id=void 0,this.fromId=void 0,this.toId=void 0,this.selected=!1,this.hover=!1,this.labelDirty=!0,this.baseWidth=this.options.width,this.baseFontSize=this.options.font.size,this.from=void 0,this.to=void 0,this.edgeType=void 0,this.connected=!1,this.labelModule=new ml(this.body,this.options,!0),this.setOptions(e)}setOptions(e){if(!e)return;let r=typeof e.physics<"u"&&this.options.physics!==e.physics||typeof e.hidden<"u"&&(this.options.hidden||!1)!==(e.hidden||!1)||typeof e.from<"u"&&this.options.from!==e.from||typeof e.to<"u"&&this.options.to!==e.to;Gs.parseOptions(this.options,e,!0,this.globalOptions),e.id!==void 0&&(this.id=e.id),e.from!==void 0&&(this.fromId=e.from),e.to!==void 0&&(this.toId=e.to),e.title!==void 0&&(this.title=e.title),e.value!==void 0&&(e.value=KG(e.value));const n=[e,this.options,this.defaultOptions];return this.chooser=wI("edge",n),this.updateLabelModule(e),r=this.updateEdgeType()||r,this._setInteractionWidths(),this.connect(),r}static parseOptions(e,r){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1;if($u(["endPointOffset","arrowStrikethrough","id","from","hidden","hoverWidth","labelHighlightBold","length","line","opacity","physics","scaling","selectionWidth","selfReferenceSize","selfReference","to","title","value","width","font","chosen","widthConstraint"],e,r,n),r.endPointOffset!==void 0&&r.endPointOffset.from!==void 0&&(Co(r.endPointOffset.from)?e.endPointOffset.from=r.endPointOffset.from:(e.endPointOffset.from=i.endPointOffset.from!==void 0?i.endPointOffset.from:0,console.error("endPointOffset.from is not a valid number"))),r.endPointOffset!==void 0&&r.endPointOffset.to!==void 0&&(Co(r.endPointOffset.to)?e.endPointOffset.to=r.endPointOffset.to:(e.endPointOffset.to=i.endPointOffset.to!==void 0?i.endPointOffset.to:0,console.error("endPointOffset.to is not a valid number"))),Gf(r.label)?e.label=r.label:Gf(e.label)||(e.label=void 0),xn(e,r,"smooth",i),xn(e,r,"shadow",i),xn(e,r,"background",i),r.dashes!==void 0&&r.dashes!==null?e.dashes=r.dashes:n===!0&&r.dashes===null&&(e.dashes=Wo(i.dashes)),r.scaling!==void 0&&r.scaling!==null?(r.scaling.min!==void 0&&(e.scaling.min=r.scaling.min),r.scaling.max!==void 0&&(e.scaling.max=r.scaling.max),xn(e.scaling,r.scaling,"label",i.scaling)):n===!0&&r.scaling===null&&(e.scaling=Wo(i.scaling)),r.arrows!==void 0&&r.arrows!==null)if(typeof r.arrows=="string"){const a=r.arrows.toLowerCase();e.arrows.to.enabled=Ue(a).call(a,"to")!=-1,e.arrows.middle.enabled=Ue(a).call(a,"middle")!=-1,e.arrows.from.enabled=Ue(a).call(a,"from")!=-1}else if(typeof r.arrows=="object")xn(e.arrows,r.arrows,"to",i.arrows),xn(e.arrows,r.arrows,"middle",i.arrows),xn(e.arrows,r.arrows,"from",i.arrows);else throw new Error("The arrow newOptions can only be an object or a string. Refer to the documentation. You used:"+Kd(r.arrows));else n===!0&&r.arrows===null&&(e.arrows=Wo(i.arrows));if(r.color!==void 0&&r.color!==null){const a=fl(r.color)?{color:r.color,highlight:r.color,hover:r.color,inherit:!1,opacity:1}:r.color,l=e.color;if(s)Ze(l,i.color,!1,n);else for(const u in l)Object.prototype.hasOwnProperty.call(l,u)&&delete l[u];if(fl(l))l.color=l,l.highlight=l,l.hover=l,l.inherit=!1,a.opacity===void 0&&(l.opacity=1);else{let u=!1;a.color!==void 0&&(l.color=a.color,u=!0),a.highlight!==void 0&&(l.highlight=a.highlight,u=!0),a.hover!==void 0&&(l.hover=a.hover,u=!0),a.inherit!==void 0&&(l.inherit=a.inherit),a.opacity!==void 0&&(l.opacity=Math.min(1,Math.max(0,a.opacity))),u===!0?l.inherit=!1:l.inherit===void 0&&(l.inherit="from")}}else n===!0&&r.color===null&&(e.color=Ks(i.color));n===!0&&r.font===null&&(e.font=Ks(i.font)),Object.prototype.hasOwnProperty.call(r,"selfReferenceSize")&&(console.warn("The selfReferenceSize property has been deprecated. Please use selfReference property instead. The selfReference can be set like thise selfReference:{size:30, angle:Math.PI / 4}"),e.selfReference.size=r.selfReferenceSize)}getFormattingValues(){const e=this.options.arrows.to===!0||this.options.arrows.to.enabled===!0,r=this.options.arrows.from===!0||this.options.arrows.from.enabled===!0,n=this.options.arrows.middle===!0||this.options.arrows.middle.enabled===!0,i=this.options.color.inherit,s={toArrow:e,toArrowScale:this.options.arrows.to.scaleFactor,toArrowType:this.options.arrows.to.type,toArrowSrc:this.options.arrows.to.src,toArrowImageWidth:this.options.arrows.to.imageWidth,toArrowImageHeight:this.options.arrows.to.imageHeight,middleArrow:n,middleArrowScale:this.options.arrows.middle.scaleFactor,middleArrowType:this.options.arrows.middle.type,middleArrowSrc:this.options.arrows.middle.src,middleArrowImageWidth:this.options.arrows.middle.imageWidth,middleArrowImageHeight:this.options.arrows.middle.imageHeight,fromArrow:r,fromArrowScale:this.options.arrows.from.scaleFactor,fromArrowType:this.options.arrows.from.type,fromArrowSrc:this.options.arrows.from.src,fromArrowImageWidth:this.options.arrows.from.imageWidth,fromArrowImageHeight:this.options.arrows.from.imageHeight,arrowStrikethrough:this.options.arrowStrikethrough,color:i?void 0:this.options.color.color,inheritsColor:i,opacity:this.options.color.opacity,hidden:this.options.hidden,length:this.options.length,shadow:this.options.shadow.enabled,shadowColor:this.options.shadow.color,shadowSize:this.options.shadow.size,shadowX:this.options.shadow.x,shadowY:this.options.shadow.y,dashes:this.options.dashes,width:this.options.width,background:this.options.background.enabled,backgroundColor:this.options.background.color,backgroundSize:this.options.background.size,backgroundDashes:this.options.background.dashes};if(this.selected||this.hover)if(this.chooser===!0){if(this.selected){const o=this.options.selectionWidth;typeof o=="function"?s.width=o(s.width):typeof o=="number"&&(s.width+=o),s.width=Math.max(s.width,.3/this.body.view.scale),s.color=this.options.color.highlight,s.shadow=this.options.shadow.enabled}else if(this.hover){const o=this.options.hoverWidth;typeof o=="function"?s.width=o(s.width):typeof o=="number"&&(s.width+=o),s.width=Math.max(s.width,.3/this.body.view.scale),s.color=this.options.color.hover,s.shadow=this.options.shadow.enabled}}else typeof this.chooser=="function"&&(this.chooser(s,this.options.id,this.selected,this.hover),s.color!==void 0&&(s.inheritsColor=!1),s.shadow===!1&&(s.shadowColor!==this.options.shadow.color||s.shadowSize!==this.options.shadow.size||s.shadowX!==this.options.shadow.x||s.shadowY!==this.options.shadow.y)&&(s.shadow=!0));else s.shadow=this.options.shadow.enabled,s.width=Math.max(s.width,.3/this.body.view.scale);return s}updateLabelModule(e){const r=[e,this.options,this.globalOptions,this.defaultOptions];this.labelModule.update(this.options,r),this.labelModule.baseSize!==void 0&&(this.baseFontSize=this.labelModule.baseSize)}updateEdgeType(){const e=this.options.smooth;let r=!1,n=!0;return this.edgeType!==void 0&&((this.edgeType instanceof KU&&e.enabled===!0&&e.type==="dynamic"||this.edgeType instanceof YU&&e.enabled===!0&&e.type==="cubicBezier"||this.edgeType instanceof GU&&e.enabled===!0&&e.type!=="dynamic"&&e.type!=="cubicBezier"||this.edgeType instanceof QU&&e.type.enabled===!1)&&(n=!1),n===!0&&(r=this.cleanup())),n===!0?e.enabled===!0?e.type==="dynamic"?(r=!0,this.edgeType=new KU(this.options,this.body,this.labelModule)):e.type==="cubicBezier"?this.edgeType=new YU(this.options,this.body,this.labelModule):this.edgeType=new GU(this.options,this.body,this.labelModule):this.edgeType=new QU(this.options,this.body,this.labelModule):this.edgeType.setOptions(this.options),r}connect(){this.disconnect(),this.from=this.body.nodes[this.fromId]||void 0,this.to=this.body.nodes[this.toId]||void 0,this.connected=this.from!==void 0&&this.to!==void 0,this.connected===!0?(this.from.attachEdge(this),this.to.attachEdge(this)):(this.from&&this.from.detachEdge(this),this.to&&this.to.detachEdge(this)),this.edgeType.connect()}disconnect(){this.from&&(this.from.detachEdge(this),this.from=void 0),this.to&&(this.to.detachEdge(this),this.to=void 0),this.connected=!1}getTitle(){return this.title}isSelected(){return this.selected}getValue(){return this.options.value}setValueRange(e,r,n){if(this.options.value!==void 0){const i=this.options.scaling.customScalingFunction(e,r,n,this.options.value),s=this.options.scaling.max-this.options.scaling.min;if(this.options.scaling.label.enabled===!0){const o=this.options.scaling.label.max-this.options.scaling.label.min;this.options.font.size=this.options.scaling.label.min+i*o}this.options.width=this.options.scaling.min+i*s}else this.options.width=this.baseWidth,this.options.font.size=this.baseFontSize;this._setInteractionWidths(),this.updateLabelModule()}_setInteractionWidths(){typeof this.options.hoverWidth=="function"?this.edgeType.hoverWidth=this.options.hoverWidth(this.options.width):this.edgeType.hoverWidth=this.options.hoverWidth+this.options.width,typeof this.options.selectionWidth=="function"?this.edgeType.selectionWidth=this.options.selectionWidth(this.options.width):this.edgeType.selectionWidth=this.options.selectionWidth+this.options.width}draw(e){const r=this.getFormattingValues();if(r.hidden)return;const n=this.edgeType.getViaNode();this.edgeType.drawLine(e,r,this.selected,this.hover,n),this.drawLabel(e,n)}drawArrows(e){const r=this.getFormattingValues();if(r.hidden)return;const n=this.edgeType.getViaNode(),i={};this.edgeType.fromPoint=this.edgeType.from,this.edgeType.toPoint=this.edgeType.to,r.fromArrow&&(i.from=this.edgeType.getArrowData(e,"from",n,this.selected,this.hover,r),r.arrowStrikethrough===!1&&(this.edgeType.fromPoint=i.from.core),r.fromArrowSrc&&(i.from.image=this.imagelist.load(r.fromArrowSrc)),r.fromArrowImageWidth&&(i.from.imageWidth=r.fromArrowImageWidth),r.fromArrowImageHeight&&(i.from.imageHeight=r.fromArrowImageHeight)),r.toArrow&&(i.to=this.edgeType.getArrowData(e,"to",n,this.selected,this.hover,r),r.arrowStrikethrough===!1&&(this.edgeType.toPoint=i.to.core),r.toArrowSrc&&(i.to.image=this.imagelist.load(r.toArrowSrc)),r.toArrowImageWidth&&(i.to.imageWidth=r.toArrowImageWidth),r.toArrowImageHeight&&(i.to.imageHeight=r.toArrowImageHeight)),r.middleArrow&&(i.middle=this.edgeType.getArrowData(e,"middle",n,this.selected,this.hover,r),r.middleArrowSrc&&(i.middle.image=this.imagelist.load(r.middleArrowSrc)),r.middleArrowImageWidth&&(i.middle.imageWidth=r.middleArrowImageWidth),r.middleArrowImageHeight&&(i.middle.imageHeight=r.middleArrowImageHeight)),r.fromArrow&&this.edgeType.drawArrowHead(e,r,this.selected,this.hover,i.from),r.middleArrow&&this.edgeType.drawArrowHead(e,r,this.selected,this.hover,i.middle),r.toArrow&&this.edgeType.drawArrowHead(e,r,this.selected,this.hover,i.to)}drawLabel(e,r){if(this.options.label!==void 0){const n=this.from,i=this.to;this.labelModule.differentState(this.selected,this.hover)&&this.labelModule.getTextSize(e,this.selected,this.hover);let s;if(n.id!=i.id){this.labelModule.pointToSelf=!1,s=this.edgeType.getPoint(.5,r),e.save();const o=this._getRotation(e);o.angle!=0&&(e.translate(o.x,o.y),e.rotate(o.angle)),this.labelModule.draw(e,s.x,s.y,this.selected,this.hover),e.restore()}else{this.labelModule.pointToSelf=!0;const o=GG(e,this.options.selfReference.angle,this.options.selfReference.size,n);s=this._pointOnCircle(o.x,o.y,this.options.selfReference.size,this.options.selfReference.angle),this.labelModule.draw(e,s.x,s.y,this.selected,this.hover)}}}getItemsOnPoint(e){const r=[];if(this.labelModule.visible()){const i=this._getRotation();eT(this.labelModule.getSize(),e,i)&&r.push({edgeId:this.id,labelId:0})}const n={left:e.x,top:e.y};return this.isOverlappingWith(n)&&r.push({edgeId:this.id}),r}isOverlappingWith(e){if(this.connected){const n=this.from.x,i=this.from.y,s=this.to.x,o=this.to.y,a=e.left,l=e.top;return this.edgeType.getDistanceToEdge(n,i,s,o,a,l)<10}else return!1}_getRotation(e){const r=this.edgeType.getViaNode(),n=this.edgeType.getPoint(.5,r);e!==void 0&&this.labelModule.calculateLabelSize(e,this.selected,this.hover,n.x,n.y);const i={x:n.x,y:this.labelModule.size.yLine,angle:0};if(!this.labelModule.visible()||this.options.font.align==="horizontal")return i;const s=this.from.y-this.to.y,o=this.from.x-this.to.x;let a=Math.atan2(s,o);return(a<-1&&o<0||a>0&&o<0)&&(a+=Math.PI),i.angle=a,i}_pointOnCircle(e,r,n,i){return{x:e+n*Math.cos(i),y:r-n*Math.sin(i)}}select(){this.selected=!0}unselect(){this.selected=!1}cleanup(){return this.edgeType.cleanup()}remove(){this.cleanup(),this.disconnect(),delete this.body.edges[this.id]}endPointsValid(){return this.body.nodes[this.fromId]!==void 0&&this.body.nodes[this.toId]!==void 0}}class Tye{constructor(e,r,n){var i;this.body=e,this.images=r,this.groups=n,this.body.functions.createEdge=ee(i=this.create).call(i,this),this.edgesListeners={add:(s,o)=>{this.add(o.items)},update:(s,o)=>{this.update(o.items)},remove:(s,o)=>{this.remove(o.items)}},this.options={},this.defaultOptions={arrows:{to:{enabled:!1,scaleFactor:1,type:"arrow"},middle:{enabled:!1,scaleFactor:1,type:"arrow"},from:{enabled:!1,scaleFactor:1,type:"arrow"}},endPointOffset:{from:0,to:0},arrowStrikethrough:!0,color:{color:"#848484",highlight:"#848484",hover:"#848484",inherit:"from",opacity:1},dashes:!1,font:{color:"#343434",size:14,face:"arial",background:"none",strokeWidth:2,strokeColor:"#ffffff",align:"horizontal",multi:!1,vadjust:0,bold:{mod:"bold"},boldital:{mod:"bold italic"},ital:{mod:"italic"},mono:{mod:"",size:15,face:"courier new",vadjust:2}},hidden:!1,hoverWidth:1.5,label:void 0,labelHighlightBold:!0,length:void 0,physics:!0,scaling:{min:1,max:15,label:{enabled:!0,min:14,max:30,maxVisible:30,drawThreshold:5},customScalingFunction:function(s,o,a,l){if(o===s)return .5;{const u=1/(o-s);return Math.max(0,(l-s)*u)}}},selectionWidth:1.5,selfReference:{size:20,angle:Math.PI/4,renderBehindTheNode:!0},shadow:{enabled:!1,color:"rgba(0,0,0,0.5)",size:10,x:5,y:5},background:{enabled:!1,color:"rgba(111,111,111,1)",size:10,dashes:!1},smooth:{enabled:!0,type:"dynamic",forceDirection:"none",roundness:.5},title:void 0,width:1,value:void 0},Ze(this.options,this.defaultOptions),this.bindEventListeners()}bindEventListeners(){var e=this,r,n;this.body.emitter.on("_forceDisableDynamicCurves",function(i){let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;i==="dynamic"&&(i="continuous");let o=!1;for(const a in e.body.edges)if(Object.prototype.hasOwnProperty.call(e.body.edges,a)){const l=e.body.edges[a],u=e.body.data.edges.get(a);if(u!=null){const c=u.smooth;c!==void 0&&c.enabled===!0&&c.type==="dynamic"&&(i===void 0?l.setOptions({smooth:!1}):l.setOptions({smooth:{type:i}}),o=!0)}}s===!0&&o===!0&&e.body.emitter.emit("_dataChanged")}),this.body.emitter.on("_dataUpdated",()=>{this.reconnectEdges()}),this.body.emitter.on("refreshEdges",ee(r=this.refresh).call(r,this)),this.body.emitter.on("refresh",ee(n=this.refresh).call(n,this)),this.body.emitter.on("destroy",()=>{Ne(this.edgesListeners,(i,s)=>{this.body.data.edges&&this.body.data.edges.off(s,i)}),delete this.body.functions.createEdge,delete this.edgesListeners.add,delete this.edgesListeners.update,delete this.edgesListeners.remove,delete this.edgesListeners})}setOptions(e){if(e!==void 0){Gs.parseOptions(this.options,e,!0,this.defaultOptions,!0);let r=!1;if(e.smooth!==void 0)for(const n in this.body.edges)Object.prototype.hasOwnProperty.call(this.body.edges,n)&&(r=this.body.edges[n].updateEdgeType()||r);if(e.font!==void 0)for(const n in this.body.edges)Object.prototype.hasOwnProperty.call(this.body.edges,n)&&this.body.edges[n].updateLabelModule();(e.hidden!==void 0||e.physics!==void 0||r===!0)&&this.body.emitter.emit("_dataChanged")}}setData(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;const n=this.body.data.edges;if(P9("id",e))this.body.data.edges=e;else if(Ot(e))this.body.data.edges=new Hl,this.body.data.edges.add(e);else if(!e)this.body.data.edges=new Hl;else throw new TypeError("Array or DataSet expected");if(n&&Ne(this.edgesListeners,(i,s)=>{n.off(s,i)}),this.body.edges={},this.body.data.edges){Ne(this.edgesListeners,(s,o)=>{this.body.data.edges.on(o,s)});const i=this.body.data.edges.getIds();this.add(i,!0)}this.body.emitter.emit("_adjustEdgesForHierarchicalLayout"),r===!1&&this.body.emitter.emit("_dataChanged")}add(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;const n=this.body.edges,i=this.body.data.edges;for(let s=0;s<e.length;s++){const o=e[s],a=n[o];a&&a.disconnect();const l=i.get(o,{showInternalIds:!0});n[o]=this.create(l)}this.body.emitter.emit("_adjustEdgesForHierarchicalLayout"),r===!1&&this.body.emitter.emit("_dataChanged")}update(e){const r=this.body.edges,n=this.body.data.edges;let i=!1;for(let s=0;s<e.length;s++){const o=e[s],a=n.get(o),l=r[o];l!==void 0?(l.disconnect(),i=l.setOptions(a)||i,l.connect()):(this.body.edges[o]=this.create(a),i=!0)}i===!0?(this.body.emitter.emit("_adjustEdgesForHierarchicalLayout"),this.body.emitter.emit("_dataChanged")):this.body.emitter.emit("_dataUpdated")}remove(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(e.length===0)return;const n=this.body.edges;Ne(e,i=>{const s=n[i];s!==void 0&&s.remove()}),r&&this.body.emitter.emit("_dataChanged")}refresh(){Ne(this.body.edges,(e,r)=>{const n=this.body.data.edges.get(r);n!==void 0&&e.setOptions(n)})}create(e){return new Gs(e,this.body,this.images,this.options,this.defaultOptions)}reconnectEdges(){let e;const r=this.body.nodes,n=this.body.edges;for(e in r)Object.prototype.hasOwnProperty.call(r,e)&&(r[e].edges=[]);for(e in n)if(Object.prototype.hasOwnProperty.call(n,e)){const i=n[e];i.from=null,i.to=null,i.connect()}}getConnectedNodes(e){const r=[];if(this.body.edges[e]!==void 0){const n=this.body.edges[e];n.fromId!==void 0&&r.push(n.fromId),n.toId!==void 0&&r.push(n.toId)}return r}_updateState(){this._addMissingEdges(),this._removeInvalidEdges()}_removeInvalidEdges(){const e=[];Ne(this.body.edges,(r,n)=>{const i=this.body.nodes[r.toId],s=this.body.nodes[r.fromId];i!==void 0&&i.isCluster===!0||s!==void 0&&s.isCluster===!0||(i===void 0||s===void 0)&&e.push(n)}),this.remove(e,!1)}_addMissingEdges(){const e=this.body.data.edges;if(e==null)return;const r=this.body.edges,n=[];Ge(e).call(e,(i,s)=>{r[s]===void 0&&n.push(s)}),this.add(n,!0)}}class JG{constructor(e,r,n){this.body=e,this.physicsBody=r,this.barnesHutTree,this.setOptions(n),this._rng=em("BARNES HUT SOLVER")}setOptions(e){this.options=e,this.thetaInversed=1/this.options.theta,this.overlapAvoidanceFactor=1-Math.max(0,Math.min(1,this.options.avoidOverlap))}solve(){if(this.options.gravitationalConstant!==0&&this.physicsBody.physicsNodeIndices.length>0){let e;const r=this.body.nodes,n=this.physicsBody.physicsNodeIndices,i=n.length,s=this._formBarnesHutTree(r,n);this.barnesHutTree=s;for(let o=0;o<i;o++)e=r[n[o]],e.options.mass>0&&this._getForceContributions(s.root,e)}}_getForceContributions(e,r){this._getForceContribution(e.children.NW,r),this._getForceContribution(e.children.NE,r),this._getForceContribution(e.children.SW,r),this._getForceContribution(e.children.SE,r)}_getForceContribution(e,r){if(e.childrenCount>0){const n=e.centerOfMass.x-r.x,i=e.centerOfMass.y-r.y,s=Math.sqrt(n*n+i*i);s*e.calcSize>this.thetaInversed?this._calculateForces(s,n,i,r,e):e.childrenCount===4?this._getForceContributions(e,r):e.children.data.id!=r.id&&this._calculateForces(s,n,i,r,e)}}_calculateForces(e,r,n,i,s){e===0&&(e=.1,r=e),this.overlapAvoidanceFactor<1&&i.shape.radius&&(e=Math.max(.1+this.overlapAvoidanceFactor*i.shape.radius,e-i.shape.radius));const o=this.options.gravitationalConstant*s.mass*i.options.mass/Math.pow(e,3),a=r*o,l=n*o;this.physicsBody.forces[i.id].x+=a,this.physicsBody.forces[i.id].y+=l}_formBarnesHutTree(e,r){let n;const i=r.length;let s=e[r[0]].x,o=e[r[0]].y,a=e[r[0]].x,l=e[r[0]].y;for(let b=1;b<i;b++){const y=e[r[b]],v=y.x,x=y.y;y.options.mass>0&&(v<s&&(s=v),v>a&&(a=v),x<o&&(o=x),x>l&&(l=x))}const u=Math.abs(a-s)-Math.abs(l-o);u>0?(o-=.5*u,l+=.5*u):(s+=.5*u,a-=.5*u);const d=Math.max(1e-5,Math.abs(a-s)),f=.5*d,p=.5*(s+a),m=.5*(o+l),g={root:{centerOfMass:{x:0,y:0},mass:0,range:{minX:p-f,maxX:p+f,minY:m-f,maxY:m+f},size:d,calcSize:1/d,children:{data:null},maxWidth:0,level:0,childrenCount:4}};this._splitBranch(g.root);for(let b=0;b<i;b++)n=e[r[b]],n.options.mass>0&&this._placeInTree(g.root,n);return g}_updateBranchMass(e,r){const n=e.centerOfMass,i=e.mass+r.options.mass,s=1/i;n.x=n.x*e.mass+r.x*r.options.mass,n.x*=s,n.y=n.y*e.mass+r.y*r.options.mass,n.y*=s,e.mass=i;const o=Math.max(Math.max(r.height,r.radius),r.width);e.maxWidth=e.maxWidth<o?o:e.maxWidth}_placeInTree(e,r,n){(n!=!0||n===void 0)&&this._updateBranchMass(e,r);const i=e.children.NW.range;let s;i.maxX>r.x?i.maxY>r.y?s="NW":s="SW":i.maxY>r.y?s="NE":s="SE",this._placeInRegion(e,r,s)}_placeInRegion(e,r,n){const i=e.children[n];switch(i.childrenCount){case 0:i.children.data=r,i.childrenCount=1,this._updateBranchMass(i,r);break;case 1:i.children.data.x===r.x&&i.children.data.y===r.y?(r.x+=this._rng(),r.y+=this._rng()):(this._splitBranch(i),this._placeInTree(i,r));break;case 4:this._placeInTree(i,r);break}}_splitBranch(e){let r=null;e.childrenCount===1&&(r=e.children.data,e.mass=0,e.centerOfMass.x=0,e.centerOfMass.y=0),e.childrenCount=4,e.children.data=null,this._insertRegion(e,"NW"),this._insertRegion(e,"NE"),this._insertRegion(e,"SW"),this._insertRegion(e,"SE"),r!=null&&this._placeInTree(e,r)}_insertRegion(e,r){let n,i,s,o;const a=.5*e.size;switch(r){case"NW":n=e.range.minX,i=e.range.minX+a,s=e.range.minY,o=e.range.minY+a;break;case"NE":n=e.range.minX+a,i=e.range.maxX,s=e.range.minY,o=e.range.minY+a;break;case"SW":n=e.range.minX,i=e.range.minX+a,s=e.range.minY+a,o=e.range.maxY;break;case"SE":n=e.range.minX+a,i=e.range.maxX,s=e.range.minY+a,o=e.range.maxY;break}e.children[r]={centerOfMass:{x:0,y:0},mass:0,range:{minX:n,maxX:i,minY:s,maxY:o},size:.5*e.size,calcSize:2*e.calcSize,children:{data:null},maxWidth:0,level:e.level+1,childrenCount:0}}_debug(e,r){this.barnesHutTree!==void 0&&(e.lineWidth=1,this._drawBranch(this.barnesHutTree.root,e,r))}_drawBranch(e,r,n){n===void 0&&(n="#FF0000"),e.childrenCount===4&&(this._drawBranch(e.children.NW,r),this._drawBranch(e.children.NE,r),this._drawBranch(e.children.SE,r),this._drawBranch(e.children.SW,r)),r.strokeStyle=n,r.beginPath(),r.moveTo(e.range.minX,e.range.minY),r.lineTo(e.range.maxX,e.range.minY),r.stroke(),r.beginPath(),r.moveTo(e.range.maxX,e.range.minY),r.lineTo(e.range.maxX,e.range.maxY),r.stroke(),r.beginPath(),r.moveTo(e.range.maxX,e.range.maxY),r.lineTo(e.range.minX,e.range.maxY),r.stroke(),r.beginPath(),r.moveTo(e.range.minX,e.range.maxY),r.lineTo(e.range.minX,e.range.minY),r.stroke()}}class Cye{constructor(e,r,n){this._rng=em("REPULSION SOLVER"),this.body=e,this.physicsBody=r,this.setOptions(n)}setOptions(e){this.options=e}solve(){let e,r,n,i,s,o,a,l;const u=this.body.nodes,c=this.physicsBody.physicsNodeIndices,d=this.physicsBody.forces,f=this.options.nodeDistance,p=-2/3/f,m=4/3;for(let g=0;g<c.length-1;g++){a=u[c[g]];for(let b=g+1;b<c.length;b++)l=u[c[b]],e=l.x-a.x,r=l.y-a.y,n=Math.sqrt(e*e+r*r),n===0&&(n=.1*this._rng(),e=n),n<2*f&&(n<.5*f?o=1:o=p*n+m,o=o/n,i=e*o,s=r*o,d[a.id].x-=i,d[a.id].y-=s,d[l.id].x+=i,d[l.id].y+=s)}}}class Iye{constructor(e,r,n){this.body=e,this.physicsBody=r,this.setOptions(n)}setOptions(e){this.options=e,this.overlapAvoidanceFactor=Math.max(0,Math.min(1,this.options.avoidOverlap||0))}solve(){const e=this.body.nodes,r=this.physicsBody.physicsNodeIndices,n=this.physicsBody.forces,i=this.options.nodeDistance;for(let s=0;s<r.length-1;s++){const o=e[r[s]];for(let a=s+1;a<r.length;a++){const l=e[r[a]];if(o.level===l.level){const u=i+this.overlapAvoidanceFactor*((o.shape.radius||0)/2+(l.shape.radius||0)/2),c=l.x-o.x,d=l.y-o.y,f=Math.sqrt(c*c+d*d),p=.05;let m;f<u?m=-Math.pow(p*f,2)+Math.pow(p*u,2):m=0,f!==0&&(m=m/f);const g=c*m,b=d*m;n[o.id].x-=g,n[o.id].y-=b,n[l.id].x+=g,n[l.id].y+=b}}}}}class vE{constructor(e,r,n){this.body=e,this.physicsBody=r,this.setOptions(n)}setOptions(e){this.options=e}solve(){let e,r;const n=this.physicsBody.physicsEdgeIndices,i=this.body.edges;let s,o,a;for(let l=0;l<n.length;l++)r=i[n[l]],r.connected===!0&&r.toId!==r.fromId&&this.body.nodes[r.toId]!==void 0&&this.body.nodes[r.fromId]!==void 0&&(r.edgeType.via!==void 0?(e=r.options.length===void 0?this.options.springLength:r.options.length,s=r.to,o=r.edgeType.via,a=r.from,this._calculateSpringForce(s,o,.5*e),this._calculateSpringForce(o,a,.5*e)):(e=r.options.length===void 0?this.options.springLength*1.5:r.options.length,this._calculateSpringForce(r.from,r.to,e)))}_calculateSpringForce(e,r,n){const i=e.x-r.x,s=e.y-r.y,o=Math.max(Math.sqrt(i*i+s*s),.01),a=this.options.springConstant*(n-o)/o,l=i*a,u=s*a;this.physicsBody.forces[e.id]!==void 0&&(this.physicsBody.forces[e.id].x+=l,this.physicsBody.forces[e.id].y+=u),this.physicsBody.forces[r.id]!==void 0&&(this.physicsBody.forces[r.id].x-=l,this.physicsBody.forces[r.id].y-=u)}}class Rye{constructor(e,r,n){this.body=e,this.physicsBody=r,this.setOptions(n)}setOptions(e){this.options=e}solve(){let e,r,n,i,s,o,a,l;const u=this.body.edges,c=.5,d=this.physicsBody.physicsEdgeIndices,f=this.physicsBody.physicsNodeIndices,p=this.physicsBody.forces;for(let w=0;w<f.length;w++){const _=f[w];p[_].springFx=0,p[_].springFy=0}for(let w=0;w<d.length;w++)r=u[d[w]],r.connected===!0&&(e=r.options.length===void 0?this.options.springLength:r.options.length,n=r.from.x-r.to.x,i=r.from.y-r.to.y,l=Math.sqrt(n*n+i*i),l=l===0?.01:l,a=this.options.springConstant*(e-l)/l,s=n*a,o=i*a,r.to.level!=r.from.level?(p[r.toId]!==void 0&&(p[r.toId].springFx-=s,p[r.toId].springFy-=o),p[r.fromId]!==void 0&&(p[r.fromId].springFx+=s,p[r.fromId].springFy+=o)):(p[r.toId]!==void 0&&(p[r.toId].x-=c*s,p[r.toId].y-=c*o),p[r.fromId]!==void 0&&(p[r.fromId].x+=c*s,p[r.fromId].y+=c*o)));a=1;let m,g;for(let w=0;w<f.length;w++){const _=f[w];m=Math.min(a,Math.max(-a,p[_].springFx)),g=Math.min(a,Math.max(-a,p[_].springFy)),p[_].x+=m,p[_].y+=g}let b=0,y=0;for(let w=0;w<f.length;w++){const _=f[w];b+=p[_].x,y+=p[_].y}const v=b/f.length,x=y/f.length;for(let w=0;w<f.length;w++){const _=f[w];p[_].x-=v,p[_].y-=x}}}class ef{constructor(e,r,n){this.body=e,this.physicsBody=r,this.setOptions(n)}setOptions(e){this.options=e}solve(){let e,r,n,i;const s=this.body.nodes,o=this.physicsBody.physicsNodeIndices,a=this.physicsBody.forces;for(let l=0;l<o.length;l++){const u=o[l];i=s[u],e=-i.x,r=-i.y,n=Math.sqrt(e*e+r*r),this._calculateForces(n,e,r,a,i)}}_calculateForces(e,r,n,i,s){const o=e===0?0:this.options.centralGravity/e;i[s.id].x=r*o,i[s.id].y=n*o}}class Nye extends JG{constructor(e,r,n){super(e,r,n),this._rng=em("FORCE ATLAS 2 BASED REPULSION SOLVER")}_calculateForces(e,r,n,i,s){e===0&&(e=.1*this._rng(),r=e),this.overlapAvoidanceFactor<1&&i.shape.radius&&(e=Math.max(.1+this.overlapAvoidanceFactor*i.shape.radius,e-i.shape.radius));const o=i.edges.length+1,a=this.options.gravitationalConstant*s.mass*i.options.mass*o/Math.pow(e,2),l=r*a,u=n*a;this.physicsBody.forces[i.id].x+=l,this.physicsBody.forces[i.id].y+=u}}class $ye extends ef{constructor(e,r,n){super(e,r,n)}_calculateForces(e,r,n,i,s){if(e>0){const o=s.edges.length+1,a=this.options.centralGravity*o*s.options.mass;i[s.id].x=r*a,i[s.id].y=n*a}}}class jye{constructor(e){this.body=e,this.physicsBody={physicsNodeIndices:[],physicsEdgeIndices:[],forces:{},velocities:{}},this.physicsEnabled=!0,this.simulationInterval=1e3/60,this.requiresTimeout=!0,this.previousStates={},this.referenceState={},this.freezeCache={},this.renderTimer=void 0,this.adaptiveTimestep=!1,this.adaptiveTimestepEnabled=!1,this.adaptiveCounter=0,this.adaptiveInterval=3,this.stabilized=!1,this.startedStabilization=!1,this.stabilizationIterations=0,this.ready=!1,this.options={},this.defaultOptions={enabled:!0,barnesHut:{theta:.5,gravitationalConstant:-2e3,centralGravity:.3,springLength:95,springConstant:.04,damping:.09,avoidOverlap:0},forceAtlas2Based:{theta:.5,gravitationalConstant:-50,centralGravity:.01,springConstant:.08,springLength:100,damping:.4,avoidOverlap:0},repulsion:{centralGravity:.2,springLength:200,springConstant:.05,nodeDistance:100,damping:.09,avoidOverlap:0},hierarchicalRepulsion:{centralGravity:0,springLength:100,springConstant:.01,nodeDistance:120,damping:.09},maxVelocity:50,minVelocity:.75,solver:"barnesHut",stabilization:{enabled:!0,iterations:1e3,updateInterval:50,onlyDynamicEdges:!1,fit:!0},timestep:.5,adaptiveTimestep:!0,wind:{x:0,y:0}},kt(this.options,this.defaultOptions),this.timestep=.5,this.layoutFailed=!1,this.bindEventListeners()}bindEventListeners(){this.body.emitter.on("initPhysics",()=>{this.initPhysics()}),this.body.emitter.on("_layoutFailed",()=>{this.layoutFailed=!0}),this.body.emitter.on("resetPhysics",()=>{this.stopSimulation(),this.ready=!1}),this.body.emitter.on("disablePhysics",()=>{this.physicsEnabled=!1,this.stopSimulation()}),this.body.emitter.on("restorePhysics",()=>{this.setOptions(this.options),this.ready===!0&&this.startSimulation()}),this.body.emitter.on("startSimulation",()=>{this.ready===!0&&this.startSimulation()}),this.body.emitter.on("stopSimulation",()=>{this.stopSimulation()}),this.body.emitter.on("destroy",()=>{this.stopSimulation(!1),this.body.emitter.off()}),this.body.emitter.on("_dataChanged",()=>{this.updatePhysicsData()})}setOptions(e){if(e!==void 0)if(e===!1)this.options.enabled=!1,this.physicsEnabled=!1,this.stopSimulation();else if(e===!0)this.options.enabled=!0,this.physicsEnabled=!0,this.startSimulation();else{this.physicsEnabled=!0,Vf(["stabilization"],this.options,e),xn(this.options,e,"stabilization"),e.enabled===void 0&&(this.options.enabled=!0),this.options.enabled===!1&&(this.physicsEnabled=!1,this.stopSimulation());const r=this.options.wind;r&&((typeof r.x!="number"||ZP(r.x))&&(r.x=0),(typeof r.y!="number"||ZP(r.y))&&(r.y=0)),this.timestep=this.options.timestep}this.init()}init(){let e;this.options.solver==="forceAtlas2Based"?(e=this.options.forceAtlas2Based,this.nodesSolver=new Nye(this.body,this.physicsBody,e),this.edgesSolver=new vE(this.body,this.physicsBody,e),this.gravitySolver=new $ye(this.body,this.physicsBody,e)):this.options.solver==="repulsion"?(e=this.options.repulsion,this.nodesSolver=new Cye(this.body,this.physicsBody,e),this.edgesSolver=new vE(this.body,this.physicsBody,e),this.gravitySolver=new ef(this.body,this.physicsBody,e)):this.options.solver==="hierarchicalRepulsion"?(e=this.options.hierarchicalRepulsion,this.nodesSolver=new Iye(this.body,this.physicsBody,e),this.edgesSolver=new Rye(this.body,this.physicsBody,e),this.gravitySolver=new ef(this.body,this.physicsBody,e)):(e=this.options.barnesHut,this.nodesSolver=new JG(this.body,this.physicsBody,e),this.edgesSolver=new vE(this.body,this.physicsBody,e),this.gravitySolver=new ef(this.body,this.physicsBody,e)),this.modelOptions=e}initPhysics(){this.physicsEnabled===!0&&this.options.enabled===!0?this.options.stabilization.enabled===!0?this.stabilize():(this.stabilized=!1,this.ready=!0,this.body.emitter.emit("fit",{},this.layoutFailed),this.startSimulation()):(this.ready=!0,this.body.emitter.emit("fit"))}startSimulation(){if(this.physicsEnabled===!0&&this.options.enabled===!0){if(this.stabilized=!1,this.adaptiveTimestep=!1,this.body.emitter.emit("_resizeNodes"),this.viewFunction===void 0){var e;this.viewFunction=ee(e=this.simulationStep).call(e,this),this.body.emitter.on("initRedraw",this.viewFunction),this.body.emitter.emit("_startRendering")}}else this.body.emitter.emit("_redraw")}stopSimulation(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.stabilized=!0,e===!0&&this._emitStabilized(),this.viewFunction!==void 0&&(this.body.emitter.off("initRedraw",this.viewFunction),this.viewFunction=void 0,e===!0&&this.body.emitter.emit("_stopRendering"))}simulationStep(){const e=zf();this.physicsTick(),(zf()-e<.4*this.simulationInterval||this.runDoubleSpeed===!0)&&this.stabilized===!1&&(this.physicsTick(),this.runDoubleSpeed=!0),this.stabilized===!0&&this.stopSimulation()}_emitStabilized(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.stabilizationIterations;(this.stabilizationIterations>1||this.startedStabilization===!0)&&Bi(()=>{this.body.emitter.emit("stabilized",{iterations:e}),this.startedStabilization=!1,this.stabilizationIterations=0},0)}physicsStep(){this.gravitySolver.solve(),this.nodesSolver.solve(),this.edgesSolver.solve(),this.moveNodes()}adjustTimeStep(){this._evaluateStepQuality()===!0?this.timestep=1.2*this.timestep:this.timestep/1.2<this.options.timestep?this.timestep=this.options.timestep:(this.adaptiveCounter=-1,this.timestep=Math.max(this.options.timestep,this.timestep/1.2))}physicsTick(){this._startStabilizing(),this.stabilized!==!0&&(this.adaptiveTimestep===!0&&this.adaptiveTimestepEnabled===!0?(this.adaptiveCounter%this.adaptiveInterval===0?(this.timestep=2*this.timestep,this.physicsStep(),this.revert(),this.timestep=.5*this.timestep,this.physicsStep(),this.physicsStep(),this.adjustTimeStep()):this.physicsStep(),this.adaptiveCounter+=1):(this.timestep=this.options.timestep,this.physicsStep()),this.stabilized===!0&&this.revert(),this.stabilizationIterations++)}updatePhysicsData(){this.physicsBody.forces={},this.physicsBody.physicsNodeIndices=[],this.physicsBody.physicsEdgeIndices=[];const e=this.body.nodes,r=this.body.edges;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&e[n].options.physics===!0&&this.physicsBody.physicsNodeIndices.push(e[n].id);for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&r[n].options.physics===!0&&this.physicsBody.physicsEdgeIndices.push(r[n].id);for(let n=0;n<this.physicsBody.physicsNodeIndices.length;n++){const i=this.physicsBody.physicsNodeIndices[n];this.physicsBody.forces[i]={x:0,y:0},this.physicsBody.velocities[i]===void 0&&(this.physicsBody.velocities[i]={x:0,y:0})}for(const n in this.physicsBody.velocities)e[n]===void 0&&delete this.physicsBody.velocities[n]}revert(){const e=_t(this.previousStates),r=this.body.nodes,n=this.physicsBody.velocities;this.referenceState={};for(let i=0;i<e.length;i++){const s=e[i];r[s]!==void 0?r[s].options.physics===!0&&(this.referenceState[s]={positions:{x:r[s].x,y:r[s].y}},n[s].x=this.previousStates[s].vx,n[s].y=this.previousStates[s].vy,r[s].x=this.previousStates[s].x,r[s].y=this.previousStates[s].y):delete this.previousStates[s]}}_evaluateStepQuality(){let e,r,n;const i=this.body.nodes,s=this.referenceState,o=.3;for(const a in this.referenceState)if(Object.prototype.hasOwnProperty.call(this.referenceState,a)&&i[a]!==void 0&&(e=i[a].x-s[a].positions.x,r=i[a].y-s[a].positions.y,n=Math.sqrt(Math.pow(e,2)+Math.pow(r,2)),n>o))return!1;return!0}moveNodes(){const e=this.physicsBody.physicsNodeIndices;let r=0,n=0;const i=5;for(let s=0;s<e.length;s++){const o=e[s],a=this._performStep(o);r=Math.max(r,a),n+=a}this.adaptiveTimestepEnabled=n/e.length<i,this.stabilized=r<this.options.minVelocity}calculateComponentVelocity(e,r,n){const i=this.modelOptions.damping*e,s=(r-i)/n;e+=s*this.timestep;const o=this.options.maxVelocity||1e9;return Math.abs(e)>o&&(e=e>0?o:-o),e}_performStep(e){const r=this.body.nodes[e],n=this.physicsBody.forces[e];this.options.wind&&(n.x+=this.options.wind.x,n.y+=this.options.wind.y);const i=this.physicsBody.velocities[e];return this.previousStates[e]={x:r.x,y:r.y,vx:i.x,vy:i.y},r.options.fixed.x===!1?(i.x=this.calculateComponentVelocity(i.x,n.x,r.options.mass),r.x+=i.x*this.timestep):(n.x=0,i.x=0),r.options.fixed.y===!1?(i.y=this.calculateComponentVelocity(i.y,n.y,r.options.mass),r.y+=i.y*this.timestep):(n.y=0,i.y=0),Math.sqrt(Math.pow(i.x,2)+Math.pow(i.y,2))}_freezeNodes(){const e=this.body.nodes;for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&e[r].x&&e[r].y){const n=e[r].options.fixed;this.freezeCache[r]={x:n.x,y:n.y},n.x=!0,n.y=!0}}_restoreFrozenNodes(){const e=this.body.nodes;for(const r in e)Object.prototype.hasOwnProperty.call(e,r)&&this.freezeCache[r]!==void 0&&(e[r].options.fixed.x=this.freezeCache[r].x,e[r].options.fixed.y=this.freezeCache[r].y);this.freezeCache={}}stabilize(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.options.stabilization.iterations;if(typeof e!="number"&&(e=this.options.stabilization.iterations,console.error("The stabilize method needs a numeric amount of iterations. Switching to default: ",e)),this.physicsBody.physicsNodeIndices.length===0){this.ready=!0;return}this.adaptiveTimestep=this.options.adaptiveTimestep,this.body.emitter.emit("_resizeNodes"),this.stopSimulation(),this.stabilized=!1,this.body.emitter.emit("_blockRedraw"),this.targetIterations=e,this.options.stabilization.onlyDynamicEdges===!0&&this._freezeNodes(),this.stabilizationIterations=0,Bi(()=>this._stabilizationBatch(),0)}_startStabilizing(){return this.startedStabilization===!0?!1:(this.body.emitter.emit("startStabilizing"),this.startedStabilization=!0,!0)}_stabilizationBatch(){const e=()=>this.stabilized===!1&&this.stabilizationIterations<this.targetIterations,r=()=>{this.body.emitter.emit("stabilizationProgress",{iterations:this.stabilizationIterations,total:this.targetIterations})};this._startStabilizing()&&r();let n=0;for(;e()&&n<this.options.stabilization.updateInterval;)this.physicsTick(),n++;if(r(),e()){var i;Bi(ee(i=this._stabilizationBatch).call(i,this),0)}else this._finalizeStabilization()}_finalizeStabilization(){this.body.emitter.emit("_allowRedraw"),this.options.stabilization.fit===!0&&this.body.emitter.emit("fit"),this.options.stabilization.onlyDynamicEdges===!0&&this._restoreFrozenNodes(),this.body.emitter.emit("stabilizationIterationsDone"),this.body.emitter.emit("_requestRedraw"),this.stabilized===!0?this._emitStabilized():this.startSimulation(),this.ready=!0}_drawForces(e){for(let r=0;r<this.physicsBody.physicsNodeIndices.length;r++){const n=this.physicsBody.physicsNodeIndices[r],i=this.body.nodes[n],s=this.physicsBody.forces[n],o=20,a=.03,l=Math.sqrt(Math.pow(s.x,2)+Math.pow(s.x,2)),u=Math.min(Math.max(5,l),15),c=3*u,d=QP((180-Math.min(1,Math.max(0,a*l))*180)/360,1,1),f={x:i.x+o*s.x,y:i.y+o*s.y};e.lineWidth=u,e.strokeStyle=d,e.beginPath(),e.moveTo(i.x,i.y),e.lineTo(f.x,f.y),e.stroke();const p=Math.atan2(s.y,s.x);e.fillStyle=d,QG.draw(e,{type:"arrow",point:f,angle:p,length:c}),Gd(e).call(e)}}}const sr=[];for(let t=0;t<256;++t)sr.push((t+256).toString(16).slice(1));function kye(t,e=0){return(sr[t[e+0]]+sr[t[e+1]]+sr[t[e+2]]+sr[t[e+3]]+"-"+sr[t[e+4]]+sr[t[e+5]]+"-"+sr[t[e+6]]+sr[t[e+7]]+"-"+sr[t[e+8]]+sr[t[e+9]]+"-"+sr[t[e+10]]+sr[t[e+11]]+sr[t[e+12]]+sr[t[e+13]]+sr[t[e+14]]+sr[t[e+15]]).toLowerCase()}let yE;const Dye=new Uint8Array(16);function qye(){if(!yE){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");yE=crypto.getRandomValues.bind(crypto)}return yE(Dye)}const Mye=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto);var XU={randomUUID:Mye};function Aye(t,e,r){var i;t=t||{};const n=t.random??((i=t.rng)==null?void 0:i.call(t))??qye();if(n.length<16)throw new Error("Random bytes length must be >= 16");return n[6]=n[6]&15|64,n[8]=n[8]&63|128,kye(n)}function gc(t,e,r){return XU.randomUUID&&!t?XU.randomUUID():Aye(t)}class Ir{constructor(){}static getRange(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],n=1e9,i=-1e9,s=1e9,o=-1e9,a;if(r.length>0)for(let l=0;l<r.length;l++)a=e[r[l]],s>a.shape.boundingBox.left&&(s=a.shape.boundingBox.left),o<a.shape.boundingBox.right&&(o=a.shape.boundingBox.right),n>a.shape.boundingBox.top&&(n=a.shape.boundingBox.top),i<a.shape.boundingBox.bottom&&(i=a.shape.boundingBox.bottom);return s===1e9&&o===-1e9&&n===1e9&&i===-1e9&&(n=0,i=0,s=0,o=0),{minX:s,maxX:o,minY:n,maxY:i}}static getRangeCore(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],n=1e9,i=-1e9,s=1e9,o=-1e9,a;if(r.length>0)for(let l=0;l<r.length;l++)a=e[r[l]],s>a.x&&(s=a.x),o<a.x&&(o=a.x),n>a.y&&(n=a.y),i<a.y&&(i=a.y);return s===1e9&&o===-1e9&&n===1e9&&i===-1e9&&(n=0,i=0,s=0,o=0),{minX:s,maxX:o,minY:n,maxY:i}}static findCenter(e){return{x:.5*(e.maxX+e.minX),y:.5*(e.maxY+e.minY)}}static cloneOptions(e,r){const n={};return r===void 0||r==="node"?(Ze(n,e.options,!0),n.x=e.x,n.y=e.y,n.amountOfConnections=e.edges.length):Ze(n,e.options,!0),n}}class Fye extends at{constructor(e,r,n,i,s,o){super(e,r,n,i,s,o),this.isCluster=!0,this.containedNodes={},this.containedEdges={}}_openChildCluster(e){const r=this.body.nodes[e];if(this.containedNodes[e]===void 0)throw new Error("node with id: "+e+" not in current cluster");if(!r.isCluster)throw new Error("node with id: "+e+" is not a cluster");delete this.containedNodes[e],Ne(r.edges,n=>{delete this.containedEdges[n.id]}),Ne(r.containedNodes,(n,i)=>{this.containedNodes[i]=n}),r.containedNodes={},Ne(r.containedEdges,(n,i)=>{this.containedEdges[i]=n}),r.containedEdges={},Ne(r.edges,n=>{Ne(this.edges,i=>{var s,o;const a=Ue(s=i.clusteringEdgeReplacingIds).call(s,n.id);a!==-1&&(Ne(n.clusteringEdgeReplacingIds,l=>{i.clusteringEdgeReplacingIds.push(l),this.body.edges[l].edgeReplacedById=i.id}),Li(o=i.clusteringEdgeReplacingIds).call(o,a,1))})}),r.edges=[]}}class Lye{constructor(e){this.body=e,this.clusteredNodes={},this.clusteredEdges={},this.options={},this.defaultOptions={},kt(this.options,this.defaultOptions),this.body.emitter.on("_resetData",()=>{this.clusteredNodes={},this.clusteredEdges={}})}clusterByHubsize(e,r){e===void 0?e=this._getHubSize():typeof e=="object"&&(r=this._checkOptions(e),e=this._getHubSize());const n=[];for(let i=0;i<this.body.nodeIndices.length;i++){const s=this.body.nodes[this.body.nodeIndices[i]];s.edges.length>=e&&n.push(s.id)}for(let i=0;i<n.length;i++)this.clusterByConnection(n[i],r,!0);this.body.emitter.emit("_dataChanged")}cluster(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(e.joinCondition===void 0)throw new Error("Cannot call clusterByNodeData without a joinCondition function in the options.");e=this._checkOptions(e);const n={},i={};Ne(this.body.nodes,(s,o)=>{s.options&&e.joinCondition(s.options)===!0&&(n[o]=s,Ne(s.edges,a=>{this.clusteredEdges[a.id]===void 0&&(i[a.id]=a)}))}),this._cluster(n,i,e,r)}clusterByEdgeCount(e,r){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;r=this._checkOptions(r);const i=[],s={};let o,a,l;for(let u=0;u<this.body.nodeIndices.length;u++){const c={},d={},f=this.body.nodeIndices[u],p=this.body.nodes[f];if(s[f]===void 0){l=0,a=[];for(let m=0;m<p.edges.length;m++)o=p.edges[m],this.clusteredEdges[o.id]===void 0&&(o.toId!==o.fromId&&l++,a.push(o));if(l===e){const m=function(b){if(r.joinCondition===void 0||r.joinCondition===null)return!0;const y=Ir.cloneOptions(b);return r.joinCondition(y)};let g=!0;for(let b=0;b<a.length;b++){o=a[b];const y=this._getConnectedId(o,f);if(m(p))d[o.id]=o,c[f]=p,c[y]=this.body.nodes[y],s[f]=!0;else{g=!1;break}}if(_t(c).length>0&&_t(d).length>0&&g===!0){const y=function(){for(let v=0;v<i.length;++v)for(const x in c)if(i[v].nodes[x]!==void 0)return i[v]}();if(y!==void 0){for(const v in c)y.nodes[v]===void 0&&(y.nodes[v]=c[v]);for(const v in d)y.edges[v]===void 0&&(y.edges[v]=d[v])}else i.push({nodes:c,edges:d})}}}}for(let u=0;u<i.length;u++)this._cluster(i[u].nodes,i[u].edges,r,!1);n===!0&&this.body.emitter.emit("_dataChanged")}clusterOutliers(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;this.clusterByEdgeCount(1,e,r)}clusterBridges(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;this.clusterByEdgeCount(2,e,r)}clusterByConnection(e,r){var n;let i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(e===void 0)throw new Error("No nodeId supplied to clusterByConnection!");if(this.body.nodes[e]===void 0)throw new Error("The nodeId given to clusterByConnection does not exist!");const s=this.body.nodes[e];r=this._checkOptions(r,s),r.clusterNodeProperties.x===void 0&&(r.clusterNodeProperties.x=s.x),r.clusterNodeProperties.y===void 0&&(r.clusterNodeProperties.y=s.y),r.clusterNodeProperties.fixed===void 0&&(r.clusterNodeProperties.fixed={},r.clusterNodeProperties.fixed.x=s.options.fixed.x,r.clusterNodeProperties.fixed.y=s.options.fixed.y);const o={},a={},l=s.id,u=Ir.cloneOptions(s);o[l]=s;for(let d=0;d<s.edges.length;d++){const f=s.edges[d];if(this.clusteredEdges[f.id]===void 0){const p=this._getConnectedId(f,l);if(this.clusteredNodes[p]===void 0)if(p!==l)if(r.joinCondition===void 0)a[f.id]=f,o[p]=this.body.nodes[p];else{const m=Ir.cloneOptions(this.body.nodes[p]);r.joinCondition(u,m)===!0&&(a[f.id]=f,o[p]=this.body.nodes[p])}else a[f.id]=f}}const c=Vl(n=_t(o)).call(n,function(d){return o[d].id});for(const d in o){if(!Object.prototype.hasOwnProperty.call(o,d))continue;const f=o[d];for(let p=0;p<f.edges.length;p++){const m=f.edges[p];Ue(c).call(c,this._getConnectedId(m,f.id))>-1&&(a[m.id]=m)}}this._cluster(o,a,r,i)}_createClusterEdges(e,r,n,i){let s,o,a,l,u,c;const d=_t(e),f=[];for(let g=0;g<d.length;g++){o=d[g],a=e[o];for(let b=0;b<a.edges.length;b++)s=a.edges[b],this.clusteredEdges[s.id]===void 0&&(s.toId==s.fromId?r[s.id]=s:s.toId==o?(l=n.id,u=s.fromId,c=u):(l=s.toId,u=n.id,c=l),e[c]===void 0&&f.push({edge:s,fromId:u,toId:l}))}const p=[],m=function(g){for(let b=0;b<p.length;b++){const y=p[b],v=g.fromId===y.fromId&&g.toId===y.toId,x=g.fromId===y.toId&&g.toId===y.fromId;if(v||x)return y}return null};for(let g=0;g<f.length;g++){const b=f[g],y=b.edge;let v=m(b);v===null?(v=this._createClusteredEdge(b.fromId,b.toId,y,i),p.push(v)):v.clusteringEdgeReplacingIds.push(y.id),this.body.edges[y.id].edgeReplacedById=v.id,this._backupEdgeOptions(y),y.setOptions({physics:!1})}}_checkOptions(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return e.clusterEdgeProperties===void 0&&(e.clusterEdgeProperties={}),e.clusterNodeProperties===void 0&&(e.clusterNodeProperties={}),e}_cluster(e,r,n){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0;const s=[];for(const c in e)Object.prototype.hasOwnProperty.call(e,c)&&this.clusteredNodes[c]!==void 0&&s.push(c);for(let c=0;c<s.length;++c)delete e[s[c]];if(_t(e).length==0||_t(e).length==1&&n.clusterNodeProperties.allowSingleNodeCluster!=!0)return;let o=Ze({},n.clusterNodeProperties);if(n.processProperties!==void 0){const c=[];for(const f in e)if(Object.prototype.hasOwnProperty.call(e,f)){const p=Ir.cloneOptions(e[f]);c.push(p)}const d=[];for(const f in r)if(Object.prototype.hasOwnProperty.call(r,f)&&f.substr(0,12)!=="clusterEdge:"){const p=Ir.cloneOptions(r[f],"edge");d.push(p)}if(o=n.processProperties(o,c,d),!o)throw new Error("The processProperties function does not return properties!")}o.id===void 0&&(o.id="cluster:"+gc());const a=o.id;o.label===void 0&&(o.label="cluster");let l;o.x===void 0&&(l=this._getClusterPosition(e),o.x=l.x),o.y===void 0&&(l===void 0&&(l=this._getClusterPosition(e)),o.y=l.y),o.id=a;const u=this.body.functions.createNode(o,Fye);u.containedNodes=e,u.containedEdges=r,u.clusterEdgeProperties=n.clusterEdgeProperties,this.body.nodes[o.id]=u,this._clusterEdges(e,r,o,n.clusterEdgeProperties),o.id=void 0,i===!0&&this.body.emitter.emit("_dataChanged")}_backupEdgeOptions(e){this.clusteredEdges[e.id]===void 0&&(this.clusteredEdges[e.id]={physics:e.options.physics})}_restoreEdge(e){const r=this.clusteredEdges[e.id];r!==void 0&&(e.setOptions({physics:r.physics}),delete this.clusteredEdges[e.id])}isCluster(e){return this.body.nodes[e]!==void 0?this.body.nodes[e].isCluster===!0:(console.error("Node does not exist."),!1)}_getClusterPosition(e){const r=_t(e);let n=e[r[0]].x,i=e[r[0]].x,s=e[r[0]].y,o=e[r[0]].y,a;for(let l=1;l<r.length;l++)a=e[r[l]],n=a.x<n?a.x:n,i=a.x>i?a.x:i,s=a.y<s?a.y:s,o=a.y>o?a.y:o;return{x:.5*(n+i),y:.5*(s+o)}}openCluster(e,r){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(e===void 0)throw new Error("No clusterNodeId supplied to openCluster.");const i=this.body.nodes[e];if(i===void 0)throw new Error("The clusterNodeId supplied to openCluster does not exist.");if(i.isCluster!==!0||i.containedNodes===void 0||i.containedEdges===void 0)throw new Error("The node:"+e+" is not a valid cluster.");const s=this.findNode(e),o=Ue(s).call(s,e)-1;if(o>=0){const c=s[o];this.body.nodes[c]._openChildCluster(e),delete this.body.nodes[e],n===!0&&this.body.emitter.emit("_dataChanged");return}const a=i.containedNodes,l=i.containedEdges;if(r!==void 0&&r.releaseFunction!==void 0&&typeof r.releaseFunction=="function"){const c={},d={x:i.x,y:i.y};for(const p in a)if(Object.prototype.hasOwnProperty.call(a,p)){const m=this.body.nodes[p];c[p]={x:m.x,y:m.y}}const f=r.releaseFunction(d,c);for(const p in a)if(Object.prototype.hasOwnProperty.call(a,p)){const m=this.body.nodes[p];f[p]!==void 0&&(m.x=f[p].x===void 0?i.x:f[p].x,m.y=f[p].y===void 0?i.y:f[p].y)}}else Ne(a,function(c){c.options.fixed.x===!1&&(c.x=i.x),c.options.fixed.y===!1&&(c.y=i.y)});for(const c in a)if(Object.prototype.hasOwnProperty.call(a,c)){const d=this.body.nodes[c];d.vx=i.vx,d.vy=i.vy,d.setOptions({physics:!0}),delete this.clusteredNodes[c]}const u=[];for(let c=0;c<i.edges.length;c++)u.push(i.edges[c]);for(let c=0;c<u.length;c++){const d=u[c],f=this._getConnectedId(d,e),p=this.clusteredNodes[f];for(let m=0;m<d.clusteringEdgeReplacingIds.length;m++){const g=d.clusteringEdgeReplacingIds[m],b=this.body.edges[g];if(b!==void 0)if(p!==void 0){const y=this.body.nodes[p.clusterId];y.containedEdges[b.id]=b,delete l[b.id];let v=b.fromId,x=b.toId;b.toId==f?x=p.clusterId:v=p.clusterId,this._createClusteredEdge(v,x,b,y.clusterEdgeProperties,{hidden:!1,physics:!0})}else this._restoreEdge(b)}d.remove()}for(const c in l)Object.prototype.hasOwnProperty.call(l,c)&&this._restoreEdge(l[c]);delete this.body.nodes[e],n===!0&&this.body.emitter.emit("_dataChanged")}getNodesInCluster(e){const r=[];if(this.isCluster(e)===!0){const n=this.body.nodes[e].containedNodes;for(const i in n)Object.prototype.hasOwnProperty.call(n,i)&&r.push(this.body.nodes[i].id)}return r}findNode(e){const r=[];let i=0,s;for(;this.clusteredNodes[e]!==void 0&&i<100;){if(s=this.body.nodes[e],s===void 0)return[];r.push(s.id),e=this.clusteredNodes[e].clusterId,i++}return s=this.body.nodes[e],s===void 0?[]:(r.push(s.id),Uo(r).call(r),r)}updateClusteredNode(e,r){if(e===void 0)throw new Error("No clusteredNodeId supplied to updateClusteredNode.");if(r===void 0)throw new Error("No newOptions supplied to updateClusteredNode.");if(this.body.nodes[e]===void 0)throw new Error("The clusteredNodeId supplied to updateClusteredNode does not exist.");this.body.nodes[e].setOptions(r),this.body.emitter.emit("_dataChanged")}updateEdge(e,r){if(e===void 0)throw new Error("No startEdgeId supplied to updateEdge.");if(r===void 0)throw new Error("No newOptions supplied to updateEdge.");if(this.body.edges[e]===void 0)throw new Error("The startEdgeId supplied to updateEdge does not exist.");const n=this.getClusteredEdges(e);for(let i=0;i<n.length;i++)this.body.edges[n[i]].setOptions(r);this.body.emitter.emit("_dataChanged")}getClusteredEdges(e){const r=[];let i=0;for(;e!==void 0&&this.body.edges[e]!==void 0&&i<100;)r.push(this.body.edges[e].id),e=this.body.edges[e].edgeReplacedById,i++;return Uo(r).call(r),r}getBaseEdge(e){return this.getBaseEdges(e)[0]}getBaseEdges(e){const r=[e],n=[],i=[],s=100;let o=0;for(;r.length>0&&o<s;){const a=r.pop();if(a===void 0)continue;const l=this.body.edges[a];if(l===void 0)continue;o++;const u=l.clusteringEdgeReplacingIds;if(u===void 0)i.push(a);else for(let c=0;c<u.length;++c){const d=u[c];Ue(r).call(r,u)!==-1||Ue(n).call(n,u)!==-1||r.push(d)}n.push(a)}return i}_getConnectedId(e,r){return e.toId!=r?e.toId:(e.fromId!=r,e.fromId)}_getHubSize(){let e=0,r=0,n=0,i=0;for(let l=0;l<this.body.nodeIndices.length;l++){const u=this.body.nodes[this.body.nodeIndices[l]];u.edges.length>i&&(i=u.edges.length),e+=u.edges.length,r+=Math.pow(u.edges.length,2),n+=1}e=e/n,r=r/n;const s=r-Math.pow(e,2),o=Math.sqrt(s);let a=Math.floor(e+2*o);return a>i&&(a=i),a}_createClusteredEdge(e,r,n,i,s){const o=Ir.cloneOptions(n,"edge");Ze(o,i),o.from=e,o.to=r,o.id="clusterEdge:"+gc(),s!==void 0&&Ze(o,s);const a=this.body.functions.createEdge(o);return a.clusteringEdgeReplacingIds=[n.id],a.connect(),this.body.edges[a.id]=a,a}_clusterEdges(e,r,n,i){if(r instanceof Gs){const s=r,o={};o[s.id]=s,r=o}if(e instanceof at){const s=e,o={};o[s.id]=s,e=o}if(n==null)throw new Error("_clusterEdges: parameter clusterNode required");i===void 0&&(i=n.clusterEdgeProperties),this._createClusterEdges(e,r,n,i);for(const s in r)if(Object.prototype.hasOwnProperty.call(r,s)&&this.body.edges[s]!==void 0){const o=this.body.edges[s];this._backupEdgeOptions(o),o.setOptions({physics:!1})}for(const s in e)Object.prototype.hasOwnProperty.call(e,s)&&(this.clusteredNodes[s]={clusterId:n.id,node:this.body.nodes[s]},this.body.nodes[s].setOptions({physics:!1}))}_getClusterNodeForNode(e){if(e===void 0)return;const r=this.clusteredNodes[e];if(r===void 0)return;const n=r.clusterId;if(n!==void 0)return this.body.nodes[n]}_filter(e,r){const n=[];return Ne(e,i=>{r(i)&&n.push(i)}),n}_updateState(){let e;const r=[],n={},i=l=>{Ne(this.body.nodes,u=>{u.isCluster===!0&&l(u)})};for(e in this.clusteredNodes){if(!Object.prototype.hasOwnProperty.call(this.clusteredNodes,e))continue;this.body.nodes[e]===void 0&&r.push(e)}i(function(l){for(let u=0;u<r.length;u++)delete l.containedNodes[r[u]]});for(let l=0;l<r.length;l++)delete this.clusteredNodes[r[l]];Ne(this.clusteredEdges,l=>{const u=this.body.edges[l];(u===void 0||!u.endPointsValid())&&(n[l]=l)}),i(function(l){Ne(l.containedEdges,(u,c)=>{!u.endPointsValid()&&!n[c]&&(n[c]=c)})}),Ne(this.body.edges,(l,u)=>{let c=!0;const d=l.clusteringEdgeReplacingIds;if(d!==void 0){let f=0;Ne(d,p=>{const m=this.body.edges[p];m!==void 0&&m.endPointsValid()&&(f+=1)}),c=f>0}(!l.endPointsValid()||!c)&&(n[u]=u)}),i(l=>{Ne(n,u=>{delete l.containedEdges[u],Ne(l.edges,(c,d)=>{if(c.id===u){l.edges[d]=null;return}c.clusteringEdgeReplacingIds=this._filter(c.clusteringEdgeReplacingIds,function(f){return!n[f]})}),l.edges=this._filter(l.edges,function(c){return c!==null})})}),Ne(n,l=>{delete this.clusteredEdges[l]}),Ne(n,l=>{delete this.body.edges[l]});const s=_t(this.body.edges);Ne(s,l=>{const u=this.body.edges[l],c=this._isClusteredNode(u.fromId)||this._isClusteredNode(u.toId);if(c!==this._isClusteredEdge(u.id))if(c){const d=this._getClusterNodeForNode(u.fromId);d!==void 0&&this._clusterEdges(this.body.nodes[u.fromId],u,d);const f=this._getClusterNodeForNode(u.toId);f!==void 0&&this._clusterEdges(this.body.nodes[u.toId],u,f)}else delete this._clusterEdges[l],this._restoreEdge(u)});let o=!1,a=!0;for(;a;){const l=[];i(function(u){const c=_t(u.containedNodes).length,d=u.options.allowSingleNodeCluster===!0;(d&&c<1||!d&&c<2)&&l.push(u.id)});for(let u=0;u<l.length;++u)this.openCluster(l[u],{},!1);a=l.length>0,o=o||a}o&&this._updateState()}_isClusteredNode(e){return this.clusteredNodes[e]!==void 0}_isClusteredEdge(e){return this.clusteredEdges[e]!==void 0}}class Bye{constructor(e,r){this.body=e,this.canvas=r,this.redrawRequested=!1,this.requestAnimationFrameRequestId=void 0,this.renderingActive=!1,this.renderRequests=0,this.allowRedraw=!0,this.dragging=!1,this.zooming=!1,this.options={},this.defaultOptions={hideEdgesOnDrag:!1,hideEdgesOnZoom:!1,hideNodesOnDrag:!1},kt(this.options,this.defaultOptions),this.bindEventListeners()}bindEventListeners(){var e;this.body.emitter.on("dragStart",()=>{this.dragging=!0}),this.body.emitter.on("dragEnd",()=>{this.dragging=!1}),this.body.emitter.on("zoom",()=>{this.zooming=!0,window.clearTimeout(this.zoomTimeoutId),this.zoomTimeoutId=Bi(()=>{var r;this.zooming=!1,ee(r=this._requestRedraw).call(r,this)()},250)}),this.body.emitter.on("_resizeNodes",()=>{this._resizeNodes()}),this.body.emitter.on("_redraw",()=>{this.renderingActive===!1&&this._redraw()}),this.body.emitter.on("_blockRedraw",()=>{this.allowRedraw=!1}),this.body.emitter.on("_allowRedraw",()=>{this.allowRedraw=!0,this.redrawRequested=!1}),this.body.emitter.on("_requestRedraw",ee(e=this._requestRedraw).call(e,this)),this.body.emitter.on("_startRendering",()=>{this.renderRequests+=1,this.renderingActive=!0,this._startRendering()}),this.body.emitter.on("_stopRendering",()=>{this.renderRequests-=1,this.renderingActive=this.renderRequests>0,this.requestAnimationFrameRequestId=void 0}),this.body.emitter.on("destroy",()=>{this.renderRequests=0,this.allowRedraw=!1,this.renderingActive=!1,window.cancelAnimationFrame(this.requestAnimationFrameRequestId),this.body.emitter.off()})}setOptions(e){e!==void 0&&$u(["hideEdgesOnDrag","hideEdgesOnZoom","hideNodesOnDrag"],this.options,e)}_startRendering(){if(this.renderingActive===!0&&this.requestAnimationFrameRequestId===void 0){var e;this.requestAnimationFrameRequestId=window.requestAnimationFrame(ee(e=this._renderStep).call(e,this),this.simulationInterval)}}_renderStep(){this.renderingActive===!0&&(this.requestAnimationFrameRequestId=void 0,this._startRendering(),this._redraw())}redraw(){this.body.emitter.emit("setSize"),this._redraw()}_requestRedraw(){this.redrawRequested!==!0&&this.renderingActive===!1&&this.allowRedraw===!0&&(this.redrawRequested=!0,window.requestAnimationFrame(()=>{this._redraw(!1)}))}_redraw(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;if(this.allowRedraw===!0){this.body.emitter.emit("initRedraw"),this.redrawRequested=!1;const r={drawExternalLabels:null};(this.canvas.frame.canvas.width===0||this.canvas.frame.canvas.height===0)&&this.canvas.setSize(),this.canvas.setTransform();const n=this.canvas.getContext(),i=this.canvas.frame.canvas.clientWidth,s=this.canvas.frame.canvas.clientHeight;if(n.clearRect(0,0,i,s),this.canvas.frame.clientWidth===0)return;if(n.save(),n.translate(this.body.view.translation.x,this.body.view.translation.y),n.scale(this.body.view.scale,this.body.view.scale),n.beginPath(),this.body.emitter.emit("beforeDrawing",n),n.closePath(),e===!1&&(this.dragging===!1||this.dragging===!0&&this.options.hideEdgesOnDrag===!1)&&(this.zooming===!1||this.zooming===!0&&this.options.hideEdgesOnZoom===!1)&&this._drawEdges(n),this.dragging===!1||this.dragging===!0&&this.options.hideNodesOnDrag===!1){const{drawExternalLabels:o}=this._drawNodes(n,e);r.drawExternalLabels=o}e===!1&&(this.dragging===!1||this.dragging===!0&&this.options.hideEdgesOnDrag===!1)&&(this.zooming===!1||this.zooming===!0&&this.options.hideEdgesOnZoom===!1)&&this._drawArrows(n),r.drawExternalLabels!=null&&r.drawExternalLabels(),e===!1&&this._drawSelectionBox(n),n.beginPath(),this.body.emitter.emit("afterDrawing",n),n.closePath(),n.restore(),e===!0&&n.clearRect(0,0,i,s)}}_resizeNodes(){this.canvas.setTransform();const e=this.canvas.getContext();e.save(),e.translate(this.body.view.translation.x,this.body.view.translation.y),e.scale(this.body.view.scale,this.body.view.scale);const r=this.body.nodes;let n;for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n=r[i],n.resize(e),n.updateBoundingBox(e,n.selected));e.restore()}_drawNodes(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;const n=this.body.nodes,i=this.body.nodeIndices;let s;const o=[],a=[],l=20,u=this.canvas.DOMtoCanvas({x:-l,y:-l}),c=this.canvas.DOMtoCanvas({x:this.canvas.frame.canvas.clientWidth+l,y:this.canvas.frame.canvas.clientHeight+l}),d={top:u.y,left:u.x,bottom:c.y,right:c.x},f=[];for(let b=0;b<i.length;b++)if(s=n[i[b]],s.hover)a.push(i[b]);else if(s.isSelected())o.push(i[b]);else if(r===!0){const y=s.draw(e);y.drawExternalLabel!=null&&f.push(y.drawExternalLabel)}else if(s.isBoundingBoxOverlappingWith(d)===!0){const y=s.draw(e);y.drawExternalLabel!=null&&f.push(y.drawExternalLabel)}else s.updateBoundingBox(e,s.selected);let p;const m=o.length,g=a.length;for(p=0;p<m;p++){s=n[o[p]];const b=s.draw(e);b.drawExternalLabel!=null&&f.push(b.drawExternalLabel)}for(p=0;p<g;p++){s=n[a[p]];const b=s.draw(e);b.drawExternalLabel!=null&&f.push(b.drawExternalLabel)}return{drawExternalLabels:()=>{for(const b of f)b()}}}_drawEdges(e){const r=this.body.edges,n=this.body.edgeIndices;for(let i=0;i<n.length;i++){const s=r[n[i]];s.connected===!0&&s.draw(e)}}_drawArrows(e){const r=this.body.edges,n=this.body.edgeIndices;for(let i=0;i<n.length;i++){const s=r[n[i]];s.connected===!0&&s.drawArrows(e)}}_drawSelectionBox(e){if(this.body.selectionBox.show){e.beginPath();const r=this.body.selectionBox.position.end.x-this.body.selectionBox.position.start.x,n=this.body.selectionBox.position.end.y-this.body.selectionBox.position.start.y;e.rect(this.body.selectionBox.position.start.x,this.body.selectionBox.position.start.y,r,n),e.fillStyle="rgba(151, 194, 252, 0.2)",e.fillRect(this.body.selectionBox.position.start.x,this.body.selectionBox.position.start.y,r,n),e.strokeStyle="rgba(151, 194, 252, 1)",e.stroke()}else e.closePath()}}var gE,JU;function zye(){if(JU)return gE;JU=1,nG();var t=Ve();return gE=t.setInterval,gE}var bE,ZU;function Uye(){return ZU||(ZU=1,bE=zye()),bE}var Wye=Uye(),Hye=Ee(Wye);function Yf(t,e){e.inputHandler=function(r){r.isFirst&&e(r)},t.on("hammer.input",e.inputHandler)}function ZG(t,e){return e.inputHandler=function(r){r.isFinal&&e(r)},t.on("hammer.input",e.inputHandler)}class Vye{constructor(e){this.body=e,this.pixelRatio=1,this.cameraState={},this.initialized=!1,this.canvasViewCenter={},this._cleanupCallbacks=[],this.options={},this.defaultOptions={autoResize:!0,height:"100%",width:"100%"},kt(this.options,this.defaultOptions),this.bindEventListeners()}bindEventListeners(){var e;this.body.emitter.once("resize",r=>{r.width!==0&&(this.body.view.translation.x=r.width*.5),r.height!==0&&(this.body.view.translation.y=r.height*.5)}),this.body.emitter.on("setSize",ee(e=this.setSize).call(e,this)),this.body.emitter.on("destroy",()=>{this.hammerFrame.destroy(),this.hammer.destroy(),this._cleanUp()})}setOptions(e){if(e!==void 0&&$u(["width","height","autoResize"],this.options,e),this._cleanUp(),this.options.autoResize===!0){var r;if(window.ResizeObserver){const i=new ResizeObserver(()=>{this.setSize()===!0&&this.body.emitter.emit("_requestRedraw")}),{frame:s}=this;i.observe(s),this._cleanupCallbacks.push(()=>{i.unobserve(s)})}else{const i=Hye(()=>{this.setSize()===!0&&this.body.emitter.emit("_requestRedraw")},1e3);this._cleanupCallbacks.push(()=>{clearInterval(i)})}const n=ee(r=this._onResize).call(r,this);window.addEventListener("resize",n),this._cleanupCallbacks.push(()=>{window.removeEventListener("resize",n)})}}_cleanUp(){var e,r,n;Ge(e=Uo(r=Li(n=this._cleanupCallbacks).call(n,0)).call(r)).call(e,i=>{try{i()}catch(s){console.error(s)}})}_onResize(){this.setSize(),this.body.emitter.emit("_redraw")}_getCameraState(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.pixelRatio;this.initialized===!0&&(this.cameraState.previousWidth=this.frame.canvas.width/e,this.cameraState.previousHeight=this.frame.canvas.height/e,this.cameraState.scale=this.body.view.scale,this.cameraState.position=this.DOMtoCanvas({x:.5*this.frame.canvas.width/e,y:.5*this.frame.canvas.height/e}))}_setCameraState(){if(this.cameraState.scale!==void 0&&this.frame.canvas.clientWidth!==0&&this.frame.canvas.clientHeight!==0&&this.pixelRatio!==0&&this.cameraState.previousWidth>0&&this.cameraState.previousHeight>0){const e=this.frame.canvas.width/this.pixelRatio/this.cameraState.previousWidth,r=this.frame.canvas.height/this.pixelRatio/this.cameraState.previousHeight;let n=this.cameraState.scale;e!=1&&r!=1?n=this.cameraState.scale*.5*(e+r):e!=1?n=this.cameraState.scale*e:r!=1&&(n=this.cameraState.scale*r),this.body.view.scale=n;const i=this.DOMtoCanvas({x:.5*this.frame.canvas.clientWidth,y:.5*this.frame.canvas.clientHeight}),s={x:i.x-this.cameraState.position.x,y:i.y-this.cameraState.position.y};this.body.view.translation.x+=s.x*this.body.view.scale,this.body.view.translation.y+=s.y*this.body.view.scale}}_prepareValue(e){if(typeof e=="number")return e+"px";if(typeof e=="string"){if(Ue(e).call(e,"%")!==-1||Ue(e).call(e,"px")!==-1)return e;if(Ue(e).call(e,"%")===-1)return e+"px"}throw new Error("Could not use the value supplied for width or height:"+e)}_create(){for(;this.body.container.hasChildNodes();)this.body.container.removeChild(this.body.container.firstChild);if(this.frame=document.createElement("div"),this.frame.className="vis-network",this.frame.style.position="relative",this.frame.style.overflow="hidden",this.frame.tabIndex=0,this.frame.canvas=document.createElement("canvas"),this.frame.canvas.style.position="relative",this.frame.appendChild(this.frame.canvas),this.frame.canvas.getContext)this._setPixelRatio(),this.setTransform();else{const e=document.createElement("DIV");e.style.color="red",e.style.fontWeight="bold",e.style.padding="10px",e.innerText="Error: your browser does not support HTML canvas",this.frame.canvas.appendChild(e)}this.body.container.appendChild(this.frame),this.body.view.scale=1,this.body.view.translation={x:.5*this.frame.canvas.clientWidth,y:.5*this.frame.canvas.clientHeight},this._bindHammer()}_bindHammer(){this.hammer!==void 0&&this.hammer.destroy(),this.drag={},this.pinch={},this.hammer=new pl(this.frame.canvas),this.hammer.get("pinch").set({enable:!0}),this.hammer.get("pan").set({threshold:5,direction:pl.DIRECTION_ALL}),Yf(this.hammer,e=>{this.body.eventListeners.onTouch(e)}),this.hammer.on("tap",e=>{this.body.eventListeners.onTap(e)}),this.hammer.on("doubletap",e=>{this.body.eventListeners.onDoubleTap(e)}),this.hammer.on("press",e=>{this.body.eventListeners.onHold(e)}),this.hammer.on("panstart",e=>{this.body.eventListeners.onDragStart(e)}),this.hammer.on("panmove",e=>{this.body.eventListeners.onDrag(e)}),this.hammer.on("panend",e=>{this.body.eventListeners.onDragEnd(e)}),this.hammer.on("pinch",e=>{this.body.eventListeners.onPinch(e)}),this.frame.canvas.addEventListener("wheel",e=>{this.body.eventListeners.onMouseWheel(e)}),this.frame.canvas.addEventListener("mousemove",e=>{this.body.eventListeners.onMouseMove(e)}),this.frame.canvas.addEventListener("contextmenu",e=>{this.body.eventListeners.onContext(e)}),this.hammerFrame=new pl(this.frame),ZG(this.hammerFrame,e=>{this.body.eventListeners.onRelease(e)})}setSize(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.options.width,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.options.height;e=this._prepareValue(e),r=this._prepareValue(r);let n=!1;const i=this.frame.canvas.width,s=this.frame.canvas.height,o=this.pixelRatio;if(this._setPixelRatio(),e!=this.options.width||r!=this.options.height||this.frame.style.width!=e||this.frame.style.height!=r)this._getCameraState(o),this.frame.style.width=e,this.frame.style.height=r,this.frame.canvas.style.width="100%",this.frame.canvas.style.height="100%",this.frame.canvas.width=Math.round(this.frame.canvas.clientWidth*this.pixelRatio),this.frame.canvas.height=Math.round(this.frame.canvas.clientHeight*this.pixelRatio),this.options.width=e,this.options.height=r,this.canvasViewCenter={x:.5*this.frame.clientWidth,y:.5*this.frame.clientHeight},n=!0;else{const a=Math.round(this.frame.canvas.clientWidth*this.pixelRatio),l=Math.round(this.frame.canvas.clientHeight*this.pixelRatio);(this.frame.canvas.width!==a||this.frame.canvas.height!==l)&&this._getCameraState(o),this.frame.canvas.width!==a&&(this.frame.canvas.width=a,n=!0),this.frame.canvas.height!==l&&(this.frame.canvas.height=l,n=!0)}return n===!0&&(this.body.emitter.emit("resize",{width:Math.round(this.frame.canvas.width/this.pixelRatio),height:Math.round(this.frame.canvas.height/this.pixelRatio),oldWidth:Math.round(i/this.pixelRatio),oldHeight:Math.round(s/this.pixelRatio)}),this._setCameraState()),this.initialized=!0,n}getContext(){return this.frame.canvas.getContext("2d")}_determinePixelRatio(){const e=this.getContext();if(e===void 0)throw new Error("Could not get canvax context");let r=1;typeof window<"u"&&(r=window.devicePixelRatio||1);const n=e.webkitBackingStorePixelRatio||e.mozBackingStorePixelRatio||e.msBackingStorePixelRatio||e.oBackingStorePixelRatio||e.backingStorePixelRatio||1;return r/n}_setPixelRatio(){this.pixelRatio=this._determinePixelRatio()}setTransform(){const e=this.getContext();if(e===void 0)throw new Error("Could not get canvax context");e.setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0)}_XconvertDOMtoCanvas(e){return(e-this.body.view.translation.x)/this.body.view.scale}_XconvertCanvasToDOM(e){return e*this.body.view.scale+this.body.view.translation.x}_YconvertDOMtoCanvas(e){return(e-this.body.view.translation.y)/this.body.view.scale}_YconvertCanvasToDOM(e){return e*this.body.view.scale+this.body.view.translation.y}canvasToDOM(e){return{x:this._XconvertCanvasToDOM(e.x),y:this._YconvertCanvasToDOM(e.y)}}DOMtoCanvas(e){return{x:this._XconvertDOMtoCanvas(e.x),y:this._YconvertDOMtoCanvas(e.y)}}}function Kye(t,e){const r=kt({nodes:e,minZoomLevel:Number.MIN_VALUE,maxZoomLevel:1},t??{});if(!Ot(r.nodes))throw new TypeError("Nodes has to be an array of ids.");if(r.nodes.length===0&&(r.nodes=e),!(typeof r.minZoomLevel=="number"&&r.minZoomLevel>0))throw new TypeError("Min zoom level has to be a number higher than zero.");if(!(typeof r.maxZoomLevel=="number"&&r.minZoomLevel<=r.maxZoomLevel))throw new TypeError("Max zoom level has to be a number higher than min zoom level.");return r}class Gye{constructor(e,r){var n,i;this.body=e,this.canvas=r,this.animationSpeed=1/this.renderRefreshRate,this.animationEasingFunction="easeInOutQuint",this.easingTime=0,this.sourceScale=0,this.targetScale=0,this.sourceTranslation=0,this.targetTranslation=0,this.lockedOnNodeId=void 0,this.lockedOnNodeOffset=void 0,this.touchTime=0,this.viewFunction=void 0,this.body.emitter.on("fit",ee(n=this.fit).call(n,this)),this.body.emitter.on("animationFinished",()=>{this.body.emitter.emit("_stopRendering")}),this.body.emitter.on("unlockNode",ee(i=this.releaseNode).call(i,this))}setOptions(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.options=e}fit(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;e=Kye(e,this.body.nodeIndices);const n=this.canvas.frame.canvas.clientWidth,i=this.canvas.frame.canvas.clientHeight;let s,o;if(n===0||i===0)o=1,s=Ir.getRange(this.body.nodes,e.nodes);else if(r===!0){let u=0;for(const f in this.body.nodes)Object.prototype.hasOwnProperty.call(this.body.nodes,f)&&this.body.nodes[f].predefinedPosition===!0&&(u+=1);if(u>.5*this.body.nodeIndices.length){this.fit(e,!1);return}s=Ir.getRange(this.body.nodes,e.nodes),o=12.662/(this.body.nodeIndices.length+7.4147)+.0964822;const d=Math.min(n/600,i/600);o*=d}else{this.body.emitter.emit("_resizeNodes"),s=Ir.getRange(this.body.nodes,e.nodes);const u=Math.abs(s.maxX-s.minX)*1.1,c=Math.abs(s.maxY-s.minY)*1.1,d=n/u,f=i/c;o=d<=f?d:f}o>e.maxZoomLevel?o=e.maxZoomLevel:o<e.minZoomLevel&&(o=e.minZoomLevel);const l={position:Ir.findCenter(s),scale:o,animation:e.animation};this.moveTo(l)}focus(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(this.body.nodes[e]!==void 0){const n={x:this.body.nodes[e].x,y:this.body.nodes[e].y};r.position=n,r.lockedOnNode=e,this.moveTo(r)}else console.error("Node: "+e+" cannot be found.")}moveTo(e){if(e===void 0){e={};return}if(e.offset!=null){if(e.offset.x!=null){if(e.offset.x=+e.offset.x,!Co(e.offset.x))throw new TypeError('The option "offset.x" has to be a finite number.')}else e.offset.x=0;if(e.offset.y!=null){if(e.offset.y=+e.offset.y,!Co(e.offset.y))throw new TypeError('The option "offset.y" has to be a finite number.')}else e.offset.x=0}else e.offset={x:0,y:0};if(e.position!=null){if(e.position.x!=null){if(e.position.x=+e.position.x,!Co(e.position.x))throw new TypeError('The option "position.x" has to be a finite number.')}else e.position.x=0;if(e.position.y!=null){if(e.position.y=+e.position.y,!Co(e.position.y))throw new TypeError('The option "position.y" has to be a finite number.')}else e.position.x=0}else e.position=this.getViewPosition();if(e.scale!=null){if(e.scale=+e.scale,!(e.scale>0))throw new TypeError('The option "scale" has to be a number greater than zero.')}else e.scale=this.body.view.scale;e.animation===void 0&&(e.animation={duration:0}),e.animation===!1&&(e.animation={duration:0}),e.animation===!0&&(e.animation={}),e.animation.duration===void 0&&(e.animation.duration=1e3),e.animation.easingFunction===void 0&&(e.animation.easingFunction="easeInOutQuad"),this.animateView(e)}animateView(e){if(e===void 0)return;this.animationEasingFunction=e.animation.easingFunction,this.releaseNode(),e.locked===!0&&(this.lockedOnNodeId=e.lockedOnNode,this.lockedOnNodeOffset=e.offset),this.easingTime!=0&&this._transitionRedraw(!0),this.sourceScale=this.body.view.scale,this.sourceTranslation=this.body.view.translation,this.targetScale=e.scale,this.body.view.scale=this.targetScale;const r=this.canvas.DOMtoCanvas({x:.5*this.canvas.frame.canvas.clientWidth,y:.5*this.canvas.frame.canvas.clientHeight}),n={x:r.x-e.position.x,y:r.y-e.position.y};if(this.targetTranslation={x:this.sourceTranslation.x+n.x*this.targetScale+e.offset.x,y:this.sourceTranslation.y+n.y*this.targetScale+e.offset.y},e.animation.duration===0)if(this.lockedOnNodeId!=null){var i;this.viewFunction=ee(i=this._lockedRedraw).call(i,this),this.body.emitter.on("initRedraw",this.viewFunction)}else this.body.view.scale=this.targetScale,this.body.view.translation=this.targetTranslation,this.body.emitter.emit("_requestRedraw");else{var s;this.animationSpeed=1/(60*e.animation.duration*.001)||1/60,this.animationEasingFunction=e.animation.easingFunction,this.viewFunction=ee(s=this._transitionRedraw).call(s,this),this.body.emitter.on("initRedraw",this.viewFunction),this.body.emitter.emit("_startRendering")}}_lockedRedraw(){const e={x:this.body.nodes[this.lockedOnNodeId].x,y:this.body.nodes[this.lockedOnNodeId].y},r=this.canvas.DOMtoCanvas({x:.5*this.canvas.frame.canvas.clientWidth,y:.5*this.canvas.frame.canvas.clientHeight}),n={x:r.x-e.x,y:r.y-e.y},i=this.body.view.translation,s={x:i.x+n.x*this.body.view.scale+this.lockedOnNodeOffset.x,y:i.y+n.y*this.body.view.scale+this.lockedOnNodeOffset.y};this.body.view.translation=s}releaseNode(){this.lockedOnNodeId!==void 0&&this.viewFunction!==void 0&&(this.body.emitter.off("initRedraw",this.viewFunction),this.lockedOnNodeId=void 0,this.lockedOnNodeOffset=void 0)}_transitionRedraw(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;this.easingTime+=this.animationSpeed,this.easingTime=e===!0?1:this.easingTime;const r=rpe[this.animationEasingFunction](this.easingTime);if(this.body.view.scale=this.sourceScale+(this.targetScale-this.sourceScale)*r,this.body.view.translation={x:this.sourceTranslation.x+(this.targetTranslation.x-this.sourceTranslation.x)*r,y:this.sourceTranslation.y+(this.targetTranslation.y-this.sourceTranslation.y)*r},this.easingTime>=1){if(this.body.emitter.off("initRedraw",this.viewFunction),this.easingTime=0,this.lockedOnNodeId!=null){var n;this.viewFunction=ee(n=this._lockedRedraw).call(n,this),this.body.emitter.on("initRedraw",this.viewFunction)}this.body.emitter.emit("animationFinished")}}getScale(){return this.body.view.scale}getViewPosition(){return this.canvas.DOMtoCanvas({x:.5*this.canvas.frame.canvas.clientWidth,y:.5*this.canvas.frame.canvas.clientHeight})}}function eW(t){var e=t&&t.preventDefault||!1,r=t&&t.container||window,n={},i={keydown:{},keyup:{}},s={},o;for(o=97;o<=122;o++)s[String.fromCharCode(o)]={code:65+(o-97),shift:!1};for(o=65;o<=90;o++)s[String.fromCharCode(o)]={code:o,shift:!0};for(o=0;o<=9;o++)s[""+o]={code:48+o,shift:!1};for(o=1;o<=12;o++)s["F"+o]={code:111+o,shift:!1};for(o=0;o<=9;o++)s["num"+o]={code:96+o,shift:!1};s["num*"]={code:106,shift:!1},s["num+"]={code:107,shift:!1},s["num-"]={code:109,shift:!1},s["num/"]={code:111,shift:!1},s["num."]={code:110,shift:!1},s.left={code:37,shift:!1},s.up={code:38,shift:!1},s.right={code:39,shift:!1},s.down={code:40,shift:!1},s.space={code:32,shift:!1},s.enter={code:13,shift:!1},s.shift={code:16,shift:void 0},s.esc={code:27,shift:!1},s.backspace={code:8,shift:!1},s.tab={code:9,shift:!1},s.ctrl={code:17,shift:!1},s.alt={code:18,shift:!1},s.delete={code:46,shift:!1},s.pageup={code:33,shift:!1},s.pagedown={code:34,shift:!1},s["="]={code:187,shift:!1},s["-"]={code:189,shift:!1},s["]"]={code:221,shift:!1},s["["]={code:219,shift:!1};var a=function(c){u(c,"keydown")},l=function(c){u(c,"keyup")},u=function(c,d){if(i[d][c.keyCode]!==void 0){for(var f=i[d][c.keyCode],p=0;p<f.length;p++)(f[p].shift===void 0||f[p].shift==!0&&c.shiftKey==!0||f[p].shift==!1&&c.shiftKey==!1)&&f[p].fn(c);e==!0&&c.preventDefault()}};return n.bind=function(c,d,f){if(f===void 0&&(f="keydown"),s[c]===void 0)throw new Error("unsupported key: "+c);i[f][s[c].code]===void 0&&(i[f][s[c].code]=[]),i[f][s[c].code].push({fn:d,shift:s[c].shift})},n.bindAll=function(c,d){d===void 0&&(d="keydown");for(var f in s)s.hasOwnProperty(f)&&n.bind(f,c,d)},n.getKey=function(c){for(var d in s)if(s.hasOwnProperty(d)){if(c.shiftKey==!0&&s[d].shift==!0&&c.keyCode==s[d].code)return d;if(c.shiftKey==!1&&s[d].shift==!1&&c.keyCode==s[d].code)return d;if(c.keyCode==s[d].code&&d=="shift")return d}return"unknown key, currently not supported"},n.unbind=function(c,d,f){if(f===void 0&&(f="keydown"),s[c]===void 0)throw new Error("unsupported key: "+c);if(d!==void 0){var p=[],m=i[f][s[c].code];if(m!==void 0)for(var g=0;g<m.length;g++)m[g].fn==d&&m[g].shift==s[c].shift||p.push(i[f][s[c].code][g]);i[f][s[c].code]=p}else i[f][s[c].code]=[]},n.reset=function(){i={keydown:{},keyup:{}}},n.destroy=function(){i={keydown:{},keyup:{}},r.removeEventListener("keydown",a,!0),r.removeEventListener("keyup",l,!0)},r.addEventListener("keydown",a,!0),r.addEventListener("keyup",l,!0),n}class Yye{constructor(e,r){this.body=e,this.canvas=r,this.iconsCreated=!1,this.navigationHammers=[],this.boundFunctions={},this.touchTime=0,this.activated=!1,this.body.emitter.on("activate",()=>{this.activated=!0,this.configureKeyboardBindings()}),this.body.emitter.on("deactivate",()=>{this.activated=!1,this.configureKeyboardBindings()}),this.body.emitter.on("destroy",()=>{this.keycharm!==void 0&&this.keycharm.destroy()}),this.options={}}setOptions(e){e!==void 0&&(this.options=e,this.create())}create(){this.options.navigationButtons===!0?this.iconsCreated===!1&&this.loadNavigationElements():this.iconsCreated===!0&&this.cleanNavigation(),this.configureKeyboardBindings()}cleanNavigation(){if(this.navigationHammers.length!=0){for(let e=0;e<this.navigationHammers.length;e++)this.navigationHammers[e].destroy();this.navigationHammers=[]}this.navigationDOM&&this.navigationDOM.wrapper&&this.navigationDOM.wrapper.parentNode&&this.navigationDOM.wrapper.parentNode.removeChild(this.navigationDOM.wrapper),this.iconsCreated=!1}loadNavigationElements(){this.cleanNavigation(),this.navigationDOM={};const e=["up","down","left","right","zoomIn","zoomOut","zoomExtends"],r=["_moveUp","_moveDown","_moveLeft","_moveRight","_zoomIn","_zoomOut","_fit"];this.navigationDOM.wrapper=document.createElement("div"),this.navigationDOM.wrapper.className="vis-navigation",this.canvas.frame.appendChild(this.navigationDOM.wrapper);for(let o=0;o<e.length;o++){this.navigationDOM[e[o]]=document.createElement("div"),this.navigationDOM[e[o]].className="vis-button vis-"+e[o],this.navigationDOM.wrapper.appendChild(this.navigationDOM[e[o]]);const a=new pl(this.navigationDOM[e[o]]);if(r[o]==="_fit"){var n;Yf(a,ee(n=this._fit).call(n,this))}else{var i;Yf(a,ee(i=this.bindToRedraw).call(i,this,r[o]))}this.navigationHammers.push(a)}const s=new pl(this.canvas.frame);ZG(s,()=>{this._stopMovement()}),this.navigationHammers.push(s),this.iconsCreated=!0}bindToRedraw(e){if(this.boundFunctions[e]===void 0){var r;this.boundFunctions[e]=ee(r=this[e]).call(r,this),this.body.emitter.on("initRedraw",this.boundFunctions[e]),this.body.emitter.emit("_startRendering")}}unbindFromRedraw(e){this.boundFunctions[e]!==void 0&&(this.body.emitter.off("initRedraw",this.boundFunctions[e]),this.body.emitter.emit("_stopRendering"),delete this.boundFunctions[e])}_fit(){new Date().valueOf()-this.touchTime>700&&(this.body.emitter.emit("fit",{duration:700}),this.touchTime=new Date().valueOf())}_stopMovement(){for(const e in this.boundFunctions)Object.prototype.hasOwnProperty.call(this.boundFunctions,e)&&(this.body.emitter.off("initRedraw",this.boundFunctions[e]),this.body.emitter.emit("_stopRendering"));this.boundFunctions={}}_moveUp(){this.body.view.translation.y+=this.options.keyboard.speed.y}_moveDown(){this.body.view.translation.y-=this.options.keyboard.speed.y}_moveLeft(){this.body.view.translation.x+=this.options.keyboard.speed.x}_moveRight(){this.body.view.translation.x-=this.options.keyboard.speed.x}_zoomIn(){const e=this.body.view.scale,r=this.body.view.scale*(1+this.options.keyboard.speed.zoom),n=this.body.view.translation,i=r/e,s=(1-i)*this.canvas.canvasViewCenter.x+n.x*i,o=(1-i)*this.canvas.canvasViewCenter.y+n.y*i;this.body.view.scale=r,this.body.view.translation={x:s,y:o},this.body.emitter.emit("zoom",{direction:"+",scale:this.body.view.scale,pointer:null})}_zoomOut(){const e=this.body.view.scale,r=this.body.view.scale/(1+this.options.keyboard.speed.zoom),n=this.body.view.translation,i=r/e,s=(1-i)*this.canvas.canvasViewCenter.x+n.x*i,o=(1-i)*this.canvas.canvasViewCenter.y+n.y*i;this.body.view.scale=r,this.body.view.translation={x:s,y:o},this.body.emitter.emit("zoom",{direction:"-",scale:this.body.view.scale,pointer:null})}configureKeyboardBindings(){if(this.keycharm!==void 0&&this.keycharm.destroy(),this.options.keyboard.enabled===!0&&(this.options.keyboard.bindToWindow===!0?this.keycharm=eW({container:window,preventDefault:!0}):this.keycharm=eW({container:this.canvas.frame,preventDefault:!0}),this.keycharm.reset(),this.activated===!0)){var e,r,n,i,s,o,a,l,u,c,d,f,p,m,g,b,y,v,x,w,_,E,O,S;ee(e=this.keycharm).call(e,"up",()=>{this.bindToRedraw("_moveUp")},"keydown"),ee(r=this.keycharm).call(r,"down",()=>{this.bindToRedraw("_moveDown")},"keydown"),ee(n=this.keycharm).call(n,"left",()=>{this.bindToRedraw("_moveLeft")},"keydown"),ee(i=this.keycharm).call(i,"right",()=>{this.bindToRedraw("_moveRight")},"keydown"),ee(s=this.keycharm).call(s,"=",()=>{this.bindToRedraw("_zoomIn")},"keydown"),ee(o=this.keycharm).call(o,"num+",()=>{this.bindToRedraw("_zoomIn")},"keydown"),ee(a=this.keycharm).call(a,"num-",()=>{this.bindToRedraw("_zoomOut")},"keydown"),ee(l=this.keycharm).call(l,"-",()=>{this.bindToRedraw("_zoomOut")},"keydown"),ee(u=this.keycharm).call(u,"[",()=>{this.bindToRedraw("_zoomOut")},"keydown"),ee(c=this.keycharm).call(c,"]",()=>{this.bindToRedraw("_zoomIn")},"keydown"),ee(d=this.keycharm).call(d,"pageup",()=>{this.bindToRedraw("_zoomIn")},"keydown"),ee(f=this.keycharm).call(f,"pagedown",()=>{this.bindToRedraw("_zoomOut")},"keydown"),ee(p=this.keycharm).call(p,"up",()=>{this.unbindFromRedraw("_moveUp")},"keyup"),ee(m=this.keycharm).call(m,"down",()=>{this.unbindFromRedraw("_moveDown")},"keyup"),ee(g=this.keycharm).call(g,"left",()=>{this.unbindFromRedraw("_moveLeft")},"keyup"),ee(b=this.keycharm).call(b,"right",()=>{this.unbindFromRedraw("_moveRight")},"keyup"),ee(y=this.keycharm).call(y,"=",()=>{this.unbindFromRedraw("_zoomIn")},"keyup"),ee(v=this.keycharm).call(v,"num+",()=>{this.unbindFromRedraw("_zoomIn")},"keyup"),ee(x=this.keycharm).call(x,"num-",()=>{this.unbindFromRedraw("_zoomOut")},"keyup"),ee(w=this.keycharm).call(w,"-",()=>{this.unbindFromRedraw("_zoomOut")},"keyup"),ee(_=this.keycharm).call(_,"[",()=>{this.unbindFromRedraw("_zoomOut")},"keyup"),ee(E=this.keycharm).call(E,"]",()=>{this.unbindFromRedraw("_zoomIn")},"keyup"),ee(O=this.keycharm).call(O,"pageup",()=>{this.unbindFromRedraw("_zoomIn")},"keyup"),ee(S=this.keycharm).call(S,"pagedown",()=>{this.unbindFromRedraw("_zoomOut")},"keyup")}}}class Qye{constructor(e,r,n){var i,s,o,a,l,u,c,d,f,p,m,g,b;this.body=e,this.canvas=r,this.selectionHandler=n,this.navigationHandler=new Yye(e,r),this.body.eventListeners.onTap=ee(i=this.onTap).call(i,this),this.body.eventListeners.onTouch=ee(s=this.onTouch).call(s,this),this.body.eventListeners.onDoubleTap=ee(o=this.onDoubleTap).call(o,this),this.body.eventListeners.onHold=ee(a=this.onHold).call(a,this),this.body.eventListeners.onDragStart=ee(l=this.onDragStart).call(l,this),this.body.eventListeners.onDrag=ee(u=this.onDrag).call(u,this),this.body.eventListeners.onDragEnd=ee(c=this.onDragEnd).call(c,this),this.body.eventListeners.onMouseWheel=ee(d=this.onMouseWheel).call(d,this),this.body.eventListeners.onPinch=ee(f=this.onPinch).call(f,this),this.body.eventListeners.onMouseMove=ee(p=this.onMouseMove).call(p,this),this.body.eventListeners.onRelease=ee(m=this.onRelease).call(m,this),this.body.eventListeners.onContext=ee(g=this.onContext).call(g,this),this.touchTime=0,this.drag={},this.pinch={},this.popup=void 0,this.popupObj=void 0,this.popupTimer=void 0,this.body.functions.getPointer=ee(b=this.getPointer).call(b,this),this.options={},this.defaultOptions={dragNodes:!0,dragView:!0,hover:!1,keyboard:{enabled:!1,speed:{x:10,y:10,zoom:.02},bindToWindow:!0,autoFocus:!0},navigationButtons:!1,tooltipDelay:300,zoomView:!0,zoomSpeed:1},kt(this.options,this.defaultOptions),this.bindEventListeners()}bindEventListeners(){this.body.emitter.on("destroy",()=>{clearTimeout(this.popupTimer),delete this.body.functions.getPointer})}setOptions(e){e!==void 0&&(Vf(["hideEdgesOnDrag","hideEdgesOnZoom","hideNodesOnDrag","keyboard","multiselect","selectable","selectConnectedEdges"],this.options,e),xn(this.options,e,"keyboard"),e.tooltip&&(kt(this.options.tooltip,e.tooltip),e.tooltip.color&&(this.options.tooltip.color=YP(e.tooltip.color)))),this.navigationHandler.setOptions(this.options)}getPointer(e){return{x:e.x-Jfe(this.canvas.frame.canvas),y:e.y-Zfe(this.canvas.frame.canvas)}}onTouch(e){new Date().valueOf()-this.touchTime>50&&(this.drag.pointer=this.getPointer(e.center),this.drag.pinched=!1,this.pinch.scale=this.body.view.scale,this.touchTime=new Date().valueOf())}onTap(e){const r=this.getPointer(e.center),n=this.selectionHandler.options.multiselect&&(e.changedPointers[0].ctrlKey||e.changedPointers[0].metaKey);this.checkSelectionChanges(r,n),this.selectionHandler.commitAndEmit(r,e),this.selectionHandler.generateClickEvent("click",e,r)}onDoubleTap(e){const r=this.getPointer(e.center);this.selectionHandler.generateClickEvent("doubleClick",e,r)}onHold(e){const r=this.getPointer(e.center),n=this.selectionHandler.options.multiselect;this.checkSelectionChanges(r,n),this.selectionHandler.commitAndEmit(r,e),this.selectionHandler.generateClickEvent("click",e,r),this.selectionHandler.generateClickEvent("hold",e,r)}onRelease(e){if(new Date().valueOf()-this.touchTime>10){const r=this.getPointer(e.center);this.selectionHandler.generateClickEvent("release",e,r),this.touchTime=new Date().valueOf()}}onContext(e){const r=this.getPointer({x:e.clientX,y:e.clientY});this.selectionHandler.generateClickEvent("oncontext",e,r)}checkSelectionChanges(e){(arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1)===!0?this.selectionHandler.selectAdditionalOnPoint(e):this.selectionHandler.selectOnPoint(e)}_determineDifference(e,r){const n=function(i,s){const o=[];for(let a=0;a<i.length;a++){const l=i[a];Ue(s).call(s,l)===-1&&o.push(l)}return o};return{nodes:n(e.nodes,r.nodes),edges:n(e.edges,r.edges)}}onDragStart(e){if(this.drag.dragging)return;this.drag.pointer===void 0&&this.onTouch(e);const r=this.selectionHandler.getNodeAt(this.drag.pointer);if(this.drag.dragging=!0,this.drag.selection=[],this.drag.translation=kt({},this.body.view.translation),this.drag.nodeId=void 0,e.srcEvent.shiftKey){this.body.selectionBox.show=!0;const n=this.getPointer(e.center);this.body.selectionBox.position.start={x:this.canvas._XconvertDOMtoCanvas(n.x),y:this.canvas._YconvertDOMtoCanvas(n.y)},this.body.selectionBox.position.end={x:this.canvas._XconvertDOMtoCanvas(n.x),y:this.canvas._YconvertDOMtoCanvas(n.y)}}else if(r!==void 0&&this.options.dragNodes===!0){this.drag.nodeId=r.id,r.isSelected()===!1&&this.selectionHandler.setSelection({nodes:[r.id]}),this.selectionHandler.generateClickEvent("dragStart",e,this.drag.pointer);for(const n of this.selectionHandler.getSelectedNodes()){const i={id:n.id,node:n,x:n.x,y:n.y,xFixed:n.options.fixed.x,yFixed:n.options.fixed.y};n.options.fixed.x=!0,n.options.fixed.y=!0,this.drag.selection.push(i)}}else this.selectionHandler.generateClickEvent("dragStart",e,this.drag.pointer,void 0,!0)}onDrag(e){if(this.drag.pinched===!0)return;this.body.emitter.emit("unlockNode");const r=this.getPointer(e.center),n=this.drag.selection;if(n&&n.length&&this.options.dragNodes===!0){this.selectionHandler.generateClickEvent("dragging",e,r);const i=r.x-this.drag.pointer.x,s=r.y-this.drag.pointer.y;Ge(n).call(n,o=>{const a=o.node;o.xFixed===!1&&(a.x=this.canvas._XconvertDOMtoCanvas(this.canvas._XconvertCanvasToDOM(o.x)+i)),o.yFixed===!1&&(a.y=this.canvas._YconvertDOMtoCanvas(this.canvas._YconvertCanvasToDOM(o.y)+s))}),this.body.emitter.emit("startSimulation")}else{if(e.srcEvent.shiftKey){if(this.selectionHandler.generateClickEvent("dragging",e,r,void 0,!0),this.drag.pointer===void 0){this.onDragStart(e);return}this.body.selectionBox.position.end={x:this.canvas._XconvertDOMtoCanvas(r.x),y:this.canvas._YconvertDOMtoCanvas(r.y)},this.body.emitter.emit("_requestRedraw")}if(this.options.dragView===!0&&!e.srcEvent.shiftKey){if(this.selectionHandler.generateClickEvent("dragging",e,r,void 0,!0),this.drag.pointer===void 0){this.onDragStart(e);return}const i=r.x-this.drag.pointer.x,s=r.y-this.drag.pointer.y;this.body.view.translation={x:this.drag.translation.x+i,y:this.drag.translation.y+s},this.body.emitter.emit("_requestRedraw")}}}onDragEnd(e){if(this.drag.dragging=!1,this.body.selectionBox.show){var r;this.body.selectionBox.show=!1;const n=this.body.selectionBox.position,i={minX:Math.min(n.start.x,n.end.x),minY:Math.min(n.start.y,n.end.y),maxX:Math.max(n.start.x,n.end.x),maxY:Math.max(n.start.y,n.end.y)},s=Wr(r=this.body.nodeIndices).call(r,a=>{const l=this.body.nodes[a];return l.x>=i.minX&&l.x<=i.maxX&&l.y>=i.minY&&l.y<=i.maxY});Ge(s).call(s,a=>this.selectionHandler.selectObject(this.body.nodes[a]));const o=this.getPointer(e.center);this.selectionHandler.commitAndEmit(o,e),this.selectionHandler.generateClickEvent("dragEnd",e,this.getPointer(e.center),void 0,!0),this.body.emitter.emit("_requestRedraw")}else{const n=this.drag.selection;n&&n.length?(Ge(n).call(n,function(i){i.node.options.fixed.x=i.xFixed,i.node.options.fixed.y=i.yFixed}),this.selectionHandler.generateClickEvent("dragEnd",e,this.getPointer(e.center)),this.body.emitter.emit("startSimulation")):(this.selectionHandler.generateClickEvent("dragEnd",e,this.getPointer(e.center),void 0,!0),this.body.emitter.emit("_requestRedraw"))}}onPinch(e){const r=this.getPointer(e.center);this.drag.pinched=!0,this.pinch.scale===void 0&&(this.pinch.scale=1);const n=this.pinch.scale*e.scale;this.zoom(n,r)}zoom(e,r){if(this.options.zoomView===!0){const n=this.body.view.scale;e<1e-5&&(e=1e-5),e>10&&(e=10);let i;this.drag!==void 0&&this.drag.dragging===!0&&(i=this.canvas.DOMtoCanvas(this.drag.pointer));const s=this.body.view.translation,o=e/n,a=(1-o)*r.x+s.x*o,l=(1-o)*r.y+s.y*o;if(this.body.view.scale=e,this.body.view.translation={x:a,y:l},i!=null){const u=this.canvas.canvasToDOM(i);this.drag.pointer.x=u.x,this.drag.pointer.y=u.y}this.body.emitter.emit("_requestRedraw"),n<e?this.body.emitter.emit("zoom",{direction:"+",scale:this.body.view.scale,pointer:r}):this.body.emitter.emit("zoom",{direction:"-",scale:this.body.view.scale,pointer:r})}}onMouseWheel(e){if(this.options.zoomView===!0){if(e.deltaY!==0){let r=this.body.view.scale;r*=1+(e.deltaY<0?1:-1)*(this.options.zoomSpeed*.1);const n=this.getPointer({x:e.clientX,y:e.clientY});this.zoom(r,n)}e.preventDefault()}}onMouseMove(e){const r=this.getPointer({x:e.clientX,y:e.clientY});let n=!1;this.popup!==void 0&&(this.popup.hidden===!1&&this._checkHidePopup(r),this.popup.hidden===!1&&(n=!0,this.popup.setPosition(r.x+3,r.y-5),this.popup.show())),this.options.keyboard.autoFocus&&this.options.keyboard.bindToWindow===!1&&this.options.keyboard.enabled===!0&&this.canvas.frame.focus(),n===!1&&(this.popupTimer!==void 0&&(clearInterval(this.popupTimer),this.popupTimer=void 0),this.drag.dragging||(this.popupTimer=Bi(()=>this._checkShowPopup(r),this.options.tooltipDelay))),this.options.hover===!0&&this.selectionHandler.hoverObject(e,r)}_checkShowPopup(e){const r=this.canvas._XconvertDOMtoCanvas(e.x),n=this.canvas._YconvertDOMtoCanvas(e.y),i={left:r,top:n,right:r,bottom:n},s=this.popupObj===void 0?void 0:this.popupObj.id;let o=!1,a="node";if(this.popupObj===void 0){const l=this.body.nodeIndices,u=this.body.nodes;let c;const d=[];for(let f=0;f<l.length;f++)c=u[l[f]],c.isOverlappingWith(i)===!0&&(o=!0,c.getTitle()!==void 0&&d.push(l[f]));d.length>0&&(this.popupObj=u[d[d.length-1]],o=!0)}if(this.popupObj===void 0&&o===!1){const l=this.body.edgeIndices,u=this.body.edges;let c;const d=[];for(let f=0;f<l.length;f++)c=u[l[f]],c.isOverlappingWith(i)===!0&&c.connected===!0&&c.getTitle()!==void 0&&d.push(l[f]);d.length>0&&(this.popupObj=u[d[d.length-1]],a="edge")}this.popupObj!==void 0?this.popupObj.id!==s&&(this.popup===void 0&&(this.popup=new cpe(this.canvas.frame)),this.popup.popupTargetType=a,this.popup.popupTargetId=this.popupObj.id,this.popup.setPosition(e.x+3,e.y-5),this.popup.setText(this.popupObj.getTitle()),this.popup.show(),this.body.emitter.emit("showPopup",this.popupObj.id)):this.popup!==void 0&&(this.popup.hide(),this.body.emitter.emit("hidePopup"))}_checkHidePopup(e){const r=this.selectionHandler._pointerToPositionObject(e);let n=!1;if(this.popup.popupTargetType==="node"){if(this.body.nodes[this.popup.popupTargetId]!==void 0&&(n=this.body.nodes[this.popup.popupTargetId].isOverlappingWith(r),n===!0)){const i=this.selectionHandler.getNodeAt(e);n=i===void 0?!1:i.id===this.popup.popupTargetId}}else this.selectionHandler.getNodeAt(e)===void 0&&this.body.edges[this.popup.popupTargetId]!==void 0&&(n=this.body.edges[this.popup.popupTargetId].isOverlappingWith(r));n===!1&&(this.popupObj=void 0,this.popup.hide(),this.body.emitter.emit("hidePopup"))}}var tW={},rW={},nW;function Xye(){if(nW)return rW;nW=1;var t=vI(),e=zG();return t("Set",function(r){return function(){return r(this,arguments.length?arguments[0]:void 0)}},e),rW}var iW;function Jye(){return iW||(iW=1,Xye()),tW}var sW={},wE,oW;function Ia(){if(oW)return wE;oW=1;var t=wu(),e=TypeError;return wE=function(r){if(typeof r=="object"&&"size"in r&&"has"in r&&"add"in r&&"delete"in r&&"keys"in r)return r;throw new e(t(r)+" is not a set")},wE}var xE,aW;function Ra(){if(aW)return xE;aW=1;var t=mn(),e=UG(),r=t("Set"),n=r.prototype;return xE={Set:r,add:e("add",1),has:e("has",1),remove:e("delete",1),proto:n},xE}var _E,lW;function Na(){if(lW)return _E;lW=1;var t=nn();return _E=function(e,r,n){for(var i=n?e:e.iterator,s=e.next,o,a;!(o=t(s,i)).done;)if(a=r(o.value),a!==void 0)return a},_E}var SE,uW;function eh(){if(uW)return SE;uW=1;var t=Na();return SE=function(e,r,n){return n?t(e.keys(),r,!0):e.forEach(r)},SE}var EE,cW;function SI(){if(cW)return EE;cW=1;var t=Ra(),e=eh(),r=t.Set,n=t.add;return EE=function(i){var s=new r;return e(i,function(o){n(s,o)}),s},EE}var OE,dW;function th(){return dW||(dW=1,OE=function(t){return t.size}),OE}var PE,hW;function Zye(){return hW||(hW=1,PE=function(t){return{iterator:t,next:t.next,done:!1}}),PE}var TE,fW;function $a(){if(fW)return TE;fW=1;var t=os(),e=Si(),r=nn(),n=Eu(),i=Zye(),s="Invalid size",o=RangeError,a=TypeError,l=Math.max,u=function(c,d){this.set=c,this.size=l(d,0),this.has=t(c.has),this.keys=t(c.keys)};return u.prototype={getIterator:function(){return i(e(r(this.keys,this.set)))},includes:function(c){return r(this.has,this.set,c)}},TE=function(c){e(c);var d=+c.size;if(d!==d)throw new a(s);var f=n(d);if(f<0)throw new o(s);return new u(c,f)},TE}var CE,pW;function ege(){if(pW)return CE;pW=1;var t=Ia(),e=Ra(),r=SI(),n=th(),i=$a(),s=eh(),o=Na(),a=e.has,l=e.remove;return CE=function(c){var d=t(this),f=i(c),p=r(d);return n(d)<=f.size?s(d,function(m){f.includes(m)&&l(p,m)}):o(f.getIterator(),function(m){a(p,m)&&l(p,m)}),p},CE}var IE,mW;function ja(){return mW||(mW=1,IE=function(){return!1}),IE}var vW;function tge(){if(vW)return sW;vW=1;var t=ge(),e=ege(),r=qe(),n=ja(),i=!n("difference",function(o){return o.size===0}),s=i||r(function(){var o={size:1,has:function(){return!0},keys:function(){var l=0;return{next:function(){var u=l++>1;return a.has(1)&&a.clear(),{done:u,value:2}}}}},a=new Set([1,2,3,4]);return a.difference(o).size!==3});return t({target:"Set",proto:!0,real:!0,forced:s},{difference:e}),sW}var yW={},RE,gW;function rge(){if(gW)return RE;gW=1;var t=Ia(),e=Ra(),r=th(),n=$a(),i=eh(),s=Na(),o=e.Set,a=e.add,l=e.has;return RE=function(c){var d=t(this),f=n(c),p=new o;return r(d)>f.size?s(f.getIterator(),function(m){l(d,m)&&a(p,m)}):i(d,function(m){f.includes(m)&&a(p,m)}),p},RE}var bW;function nge(){if(bW)return yW;bW=1;var t=ge(),e=qe(),r=rge(),n=ja(),i=!n("intersection",function(s){return s.size===2&&s.has(1)&&s.has(2)})||e(function(){return String(Array.from(new Set([1,2,3]).intersection(new Set([3,2]))))!=="3,2"});return t({target:"Set",proto:!0,real:!0,forced:i},{intersection:r}),yW}var wW={},NE,xW;function ige(){if(xW)return NE;xW=1;var t=Ia(),e=Ra().has,r=th(),n=$a(),i=eh(),s=Na(),o=pI();return NE=function(l){var u=t(this),c=n(l);if(r(u)<=c.size)return i(u,function(f){if(c.includes(f))return!1},!0)!==!1;var d=c.getIterator();return s(d,function(f){if(e(u,f))return o(d,"normal",!1)})!==!1},NE}var _W;function sge(){if(_W)return wW;_W=1;var t=ge(),e=ige(),r=ja(),n=!r("isDisjointFrom",function(i){return!i});return t({target:"Set",proto:!0,real:!0,forced:n},{isDisjointFrom:e}),wW}var SW={},$E,EW;function oge(){if(EW)return $E;EW=1;var t=Ia(),e=th(),r=eh(),n=$a();return $E=function(s){var o=t(this),a=n(s);return e(o)>a.size?!1:r(o,function(l){if(!a.includes(l))return!1},!0)!==!1},$E}var OW;function age(){if(OW)return SW;OW=1;var t=ge(),e=oge(),r=ja(),n=!r("isSubsetOf",function(i){return i});return t({target:"Set",proto:!0,real:!0,forced:n},{isSubsetOf:e}),SW}var PW={},jE,TW;function lge(){if(TW)return jE;TW=1;var t=Ia(),e=Ra().has,r=th(),n=$a(),i=Na(),s=pI();return jE=function(a){var l=t(this),u=n(a);if(r(l)<u.size)return!1;var c=u.getIterator();return i(c,function(d){if(!e(l,d))return s(c,"normal",!1)})!==!1},jE}var CW;function uge(){if(CW)return PW;CW=1;var t=ge(),e=lge(),r=ja(),n=!r("isSupersetOf",function(i){return!i});return t({target:"Set",proto:!0,real:!0,forced:n},{isSupersetOf:e}),PW}var IW={},kE,RW;function cge(){if(RW)return kE;RW=1;var t=Ia(),e=Ra(),r=SI(),n=$a(),i=Na(),s=e.add,o=e.has,a=e.remove;return kE=function(u){var c=t(this),d=n(u).getIterator(),f=r(c);return i(d,function(p){o(c,p)?a(f,p):s(f,p)}),f},kE}var DE,NW;function eY(){return NW||(NW=1,DE=function(t){try{var e=new Set,r={size:0,has:function(){return!0},keys:function(){return Object.defineProperty({},"next",{get:function(){return e.clear(),e.add(4),function(){return{done:!0}}}})}},n=e[t](r);return n.size===1&&n.values().next().value===4}catch{return!1}}),DE}var $W;function dge(){if($W)return IW;$W=1;var t=ge(),e=cge(),r=eY(),n=ja(),i=!n("symmetricDifference")||!r("symmetricDifference");return t({target:"Set",proto:!0,real:!0,forced:i},{symmetricDifference:e}),IW}var jW={},qE,kW;function hge(){if(kW)return qE;kW=1;var t=Ia(),e=Ra().add,r=SI(),n=$a(),i=Na();return qE=function(o){var a=t(this),l=n(o).getIterator(),u=r(a);return i(l,function(c){e(u,c)}),u},qE}var DW;function fge(){if(DW)return jW;DW=1;var t=ge(),e=hge(),r=eY(),n=ja(),i=!n("union")||!r("union");return t({target:"Set",proto:!0,real:!0,forced:i},{union:e}),jW}var ME,qW;function pge(){if(qW)return ME;qW=1,Cu(),Jye(),tge(),nge(),sge(),age(),uge(),dge(),fge(),gI();var t=Ve();return ME=t.Set,ME}var AE,MW;function mge(){if(MW)return AE;MW=1;var t=pge();return Iu(),AE=t,AE}var FE,AW;function vge(){return AW||(AW=1,FE=mge()),FE}var yge=vge(),gs=Ee(yge),FW={},LW={},LE,BW;function gge(){if(BW)return LE;BW=1;var t=Ae(),e=yI(),r=tm().getWeakData,n=mI(),i=Si(),s=yu(),o=nr(),a=rm(),l=co(),u=dr(),c=Pa(),d=c.set,f=c.getterFor,p=l.find,m=l.findIndex,g=t([].splice),b=0,y=function(w){return w.frozen||(w.frozen=new v)},v=function(){this.entries=[]},x=function(w,_){return p(w.entries,function(E){return E[0]===_})};return v.prototype={get:function(w){var _=x(this,w);if(_)return _[1]},has:function(w){return!!x(this,w)},set:function(w,_){var E=x(this,w);E?E[1]=_:this.entries.push([w,_])},delete:function(w){var _=m(this.entries,function(E){return E[0]===w});return~_&&g(this.entries,_,1),!!~_}},LE={getConstructor:function(w,_,E,O){var S=w(function(C,I){n(C,T),d(C,{type:_,id:b++,frozen:null}),s(I)||a(I,C[O],{that:C,AS_ENTRIES:E})}),T=S.prototype,P=f(_),R=function(C,I,q){var B=P(C),re=r(i(I),!0);return re===!0?y(B).set(I,q):re[B.id]=q,C};return e(T,{delete:function(C){var I=P(this);if(!o(C))return!1;var q=r(C);return q===!0?y(I).delete(C):q&&u(q,I.id)&&delete q[I.id]},has:function(I){var q=P(this);if(!o(I))return!1;var B=r(I);return B===!0?y(q).has(I):B&&u(B,q.id)}}),e(T,E?{get:function(I){var q=P(this);if(o(I)){var B=r(I);if(B===!0)return y(q).get(I);if(B)return B[q.id]}},set:function(I,q){return R(this,I,q)}}:{add:function(I){return R(this,I,!0)}}),S}},LE}var zW;function bge(){if(zW)return LW;zW=1;var t=LG(),e=ut(),r=Ae(),n=yI(),i=tm(),s=vI(),o=gge(),a=nr(),l=Pa().enforce,u=qe(),c=z9(),d=Object,f=Array.isArray,p=d.isExtensible,m=d.isFrozen,g=d.isSealed,b=d.freeze,y=d.seal,v=!e.ActiveXObject&&"ActiveXObject"in e,x,w=function(C){return function(){return C(this,arguments.length?arguments[0]:void 0)}},_=s("WeakMap",w,o),E=_.prototype,O=r(E.set),S=function(){return t&&u(function(){var C=b([]);return O(new _,C,1),!m(C)})};if(c)if(v){x=o.getConstructor(w,"WeakMap",!0),i.enable();var T=r(E.delete),P=r(E.has),R=r(E.get);n(E,{delete:function(C){if(a(C)&&!p(C)){var I=l(this);return I.frozen||(I.frozen=new x),T(this,C)||I.frozen.delete(C)}return T(this,C)},has:function(I){if(a(I)&&!p(I)){var q=l(this);return q.frozen||(q.frozen=new x),P(this,I)||q.frozen.has(I)}return P(this,I)},get:function(I){if(a(I)&&!p(I)){var q=l(this);return q.frozen||(q.frozen=new x),P(this,I)?R(this,I):q.frozen.get(I)}return R(this,I)},set:function(I,q){if(a(I)&&!p(I)){var B=l(this);B.frozen||(B.frozen=new x),P(this,I)?O(this,I,q):B.frozen.set(I,q)}else O(this,I,q);return this}})}else S()&&n(E,{set:function(I,q){var B;return f(I)&&(m(I)?B=b:g(I)&&(B=y)),O(this,I,q),B&&B(I),this}});return LW}var UW;function wge(){return UW||(UW=1,bge()),FW}var BE,WW;function xge(){if(WW)return BE;WW=1,Cu(),wge();var t=Ve();return BE=t.WeakMap,BE}var zE,HW;function _ge(){if(HW)return zE;HW=1;var t=xge();return Iu(),zE=t,zE}var UE,VW;function Sge(){return VW||(VW=1,UE=_ge()),UE}var Ege=Sge(),rh=Ee(Ege);function bc(t,e,r){Oge(t,e),e.set(t,r)}function Oge(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function tT(t,e,r){return t.set(tY(t,e),r),r}function Je(t,e){return t.get(tY(t,e))}function tY(t,e,r){if(typeof t=="function"?t===e:t.has(e))return arguments.length<3?e:r;throw new TypeError("Private element is not present on this object")}function KW(t,e){const r=new gs;for(const n of e)t.has(n)||r.add(n);return r}var La=new rh,An=new rh;class GW{constructor(){bc(this,La,new gs),bc(this,An,new gs)}get size(){return Je(An,this).size}add(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];for(const i of r)Je(An,this).add(i)}delete(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];for(const i of r)Je(An,this).delete(i)}clear(){Je(An,this).clear()}getSelection(){return[...Je(An,this)]}getChanges(){return{added:[...KW(Je(La,this),Je(An,this))],deleted:[...KW(Je(An,this),Je(La,this))],previous:[...new gs(Je(La,this))],current:[...new gs(Je(An,this))]}}commit(){const e=this.getChanges();tT(La,this,Je(An,this)),tT(An,this,new gs(Je(La,this)));for(const r of e.added)r.select();for(const r of e.deleted)r.unselect();return e}}var po=new rh,mo=new rh,WE=new rh;class Pge{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:()=>{};bc(this,po,new GW),bc(this,mo,new GW),bc(this,WE,void 0),tT(WE,this,e)}get sizeNodes(){return Je(po,this).size}get sizeEdges(){return Je(mo,this).size}getNodes(){return Je(po,this).getSelection()}getEdges(){return Je(mo,this).getSelection()}addNodes(){Je(po,this).add(...arguments)}addEdges(){Je(mo,this).add(...arguments)}deleteNodes(e){Je(po,this).delete(e)}deleteEdges(e){Je(mo,this).delete(e)}clear(){Je(po,this).clear(),Je(mo,this).clear()}commit(){const e={nodes:Je(po,this).commit(),edges:Je(mo,this).commit()};for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return Je(WE,this).call(this,e,...n),e}}class Tge{constructor(e,r){this.body=e,this.canvas=r,this._selectionAccumulator=new Pge,this.hoverObj={nodes:{},edges:{}},this.options={},this.defaultOptions={multiselect:!1,selectable:!0,selectConnectedEdges:!0,hoverConnectedEdges:!0},kt(this.options,this.defaultOptions),this.body.emitter.on("_dataChanged",()=>{this.updateSelection()})}setOptions(e){e!==void 0&&$u(["multiselect","hoverConnectedEdges","selectable","selectConnectedEdges"],this.options,e)}selectOnPoint(e){let r=!1;if(this.options.selectable===!0){const n=this.getNodeAt(e)||this.getEdgeAt(e);this.unselectAll(),n!==void 0&&(r=this.selectObject(n)),this.body.emitter.emit("_requestRedraw")}return r}selectAdditionalOnPoint(e){let r=!1;if(this.options.selectable===!0){const n=this.getNodeAt(e)||this.getEdgeAt(e);n!==void 0&&(r=!0,n.isSelected()===!0?this.deselectObject(n):this.selectObject(n),this.body.emitter.emit("_requestRedraw"))}return r}_initBaseEvent(e,r){const n={};return n.pointer={DOM:{x:r.x,y:r.y},canvas:this.canvas.DOMtoCanvas(r)},n.event=e,n}generateClickEvent(e,r,n,i){let s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1;const o=this._initBaseEvent(r,n);if(s===!0)o.nodes=[],o.edges=[];else{const a=this.getSelection();o.nodes=a.nodes,o.edges=a.edges}i!==void 0&&(o.previousSelection=i),e=="click"&&(o.items=this.getClickedItems(n)),r.controlEdge!==void 0&&(o.controlEdge=r.controlEdge),this.body.emitter.emit(e,o)}selectObject(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.options.selectConnectedEdges;return e!==void 0?(e instanceof at?(r===!0&&this._selectionAccumulator.addEdges(...e.edges),this._selectionAccumulator.addNodes(e)):this._selectionAccumulator.addEdges(e),!0):!1}deselectObject(e){e.isSelected()===!0&&(e.selected=!1,this._removeFromSelection(e))}_getAllNodesOverlappingWith(e){const r=[],n=this.body.nodes;for(let i=0;i<this.body.nodeIndices.length;i++){const s=this.body.nodeIndices[i];n[s].isOverlappingWith(e)&&r.push(s)}return r}_pointerToPositionObject(e){const r=this.canvas.DOMtoCanvas(e);return{left:r.x-1,top:r.y+1,right:r.x+1,bottom:r.y-1}}getNodeAt(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;const n=this._pointerToPositionObject(e),i=this._getAllNodesOverlappingWith(n);if(i.length>0)return r===!0?this.body.nodes[i[i.length-1]]:i[i.length-1]}_getEdgesOverlappingWith(e,r){const n=this.body.edges;for(let i=0;i<this.body.edgeIndices.length;i++){const s=this.body.edgeIndices[i];n[s].isOverlappingWith(e)&&r.push(s)}}_getAllEdgesOverlappingWith(e){const r=[];return this._getEdgesOverlappingWith(e,r),r}getEdgeAt(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;const n=this.canvas.DOMtoCanvas(e);let i=10,s=null;const o=this.body.edges;for(let a=0;a<this.body.edgeIndices.length;a++){const l=this.body.edgeIndices[a],u=o[l];if(u.connected){const c=u.from.x,d=u.from.y,f=u.to.x,p=u.to.y,m=u.edgeType.getDistanceToEdge(c,d,f,p,n.x,n.y);m<i&&(s=l,i=m)}}if(s!==null)return r===!0?this.body.edges[s]:s}_addToHover(e){e instanceof at?this.hoverObj.nodes[e.id]=e:this.hoverObj.edges[e.id]=e}_removeFromSelection(e){e instanceof at?(this._selectionAccumulator.deleteNodes(e),this._selectionAccumulator.deleteEdges(...e.edges)):this._selectionAccumulator.deleteEdges(e)}unselectAll(){this._selectionAccumulator.clear()}getSelectedNodeCount(){return this._selectionAccumulator.sizeNodes}getSelectedEdgeCount(){return this._selectionAccumulator.sizeEdges}_hoverConnectedEdges(e){for(let r=0;r<e.edges.length;r++){const n=e.edges[r];n.hover=!0,this._addToHover(n)}}emitBlurEvent(e,r,n){const i=this._initBaseEvent(e,r);n.hover===!0&&(n.hover=!1,n instanceof at?(i.node=n.id,this.body.emitter.emit("blurNode",i)):(i.edge=n.id,this.body.emitter.emit("blurEdge",i)))}emitHoverEvent(e,r,n){const i=this._initBaseEvent(e,r);let s=!1;return n.hover===!1&&(n.hover=!0,this._addToHover(n),s=!0,n instanceof at?(i.node=n.id,this.body.emitter.emit("hoverNode",i)):(i.edge=n.id,this.body.emitter.emit("hoverEdge",i))),s}hoverObject(e,r){let n=this.getNodeAt(r);n===void 0&&(n=this.getEdgeAt(r));let i=!1;for(const s in this.hoverObj.nodes)Object.prototype.hasOwnProperty.call(this.hoverObj.nodes,s)&&(n===void 0||n instanceof at&&n.id!=s||n instanceof Gs)&&(this.emitBlurEvent(e,r,this.hoverObj.nodes[s]),delete this.hoverObj.nodes[s],i=!0);for(const s in this.hoverObj.edges)Object.prototype.hasOwnProperty.call(this.hoverObj.edges,s)&&(i===!0?(this.hoverObj.edges[s].hover=!1,delete this.hoverObj.edges[s]):(n===void 0||n instanceof Gs&&n.id!=s||n instanceof at&&!n.hover)&&(this.emitBlurEvent(e,r,this.hoverObj.edges[s]),delete this.hoverObj.edges[s],i=!0));if(n!==void 0){const s=_t(this.hoverObj.edges).length,o=_t(this.hoverObj.nodes).length,a=n instanceof Gs&&s===0&&o===0,l=n instanceof at&&s===0&&o===0;(i||a||l)&&(i=this.emitHoverEvent(e,r,n)),n instanceof at&&this.options.hoverConnectedEdges===!0&&this._hoverConnectedEdges(n)}i===!0&&this.body.emitter.emit("_requestRedraw")}commitWithoutEmitting(){this._selectionAccumulator.commit()}commitAndEmit(e,r){let n=!1;const i=this._selectionAccumulator.commit(),s={nodes:i.nodes.previous,edges:i.edges.previous};i.edges.deleted.length>0&&(this.generateClickEvent("deselectEdge",r,e,s),n=!0),i.nodes.deleted.length>0&&(this.generateClickEvent("deselectNode",r,e,s),n=!0),i.nodes.added.length>0&&(this.generateClickEvent("selectNode",r,e),n=!0),i.edges.added.length>0&&(this.generateClickEvent("selectEdge",r,e),n=!0),n===!0&&this.generateClickEvent("select",r,e)}getSelection(){return{nodes:this.getSelectedNodeIds(),edges:this.getSelectedEdgeIds()}}getSelectedNodes(){return this._selectionAccumulator.getNodes()}getSelectedEdges(){return this._selectionAccumulator.getEdges()}getSelectedNodeIds(){var e;return Vl(e=this._selectionAccumulator.getNodes()).call(e,r=>r.id)}getSelectedEdgeIds(){var e;return Vl(e=this._selectionAccumulator.getEdges()).call(e,r=>r.id)}setSelection(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!e||!e.nodes&&!e.edges)throw new TypeError("Selection must be an object with nodes and/or edges properties");if((r.unselectAll||r.unselectAll===void 0)&&this.unselectAll(),e.nodes)for(const n of e.nodes){const i=this.body.nodes[n];if(!i)throw new RangeError('Node with id "'+n+'" not found');this.selectObject(i,r.highlightEdges)}if(e.edges)for(const n of e.edges){const i=this.body.edges[n];if(!i)throw new RangeError('Edge with id "'+n+'" not found');this.selectObject(i)}this.body.emitter.emit("_requestRedraw"),this._selectionAccumulator.commit()}selectNodes(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(!e||e.length===void 0)throw"Selection must be an array with ids";this.setSelection({nodes:e},{highlightEdges:r})}selectEdges(e){if(!e||e.length===void 0)throw"Selection must be an array with ids";this.setSelection({edges:e})}updateSelection(){for(const e in this._selectionAccumulator.getNodes())Object.prototype.hasOwnProperty.call(this.body.nodes,e.id)||this._selectionAccumulator.deleteNodes(e);for(const e in this._selectionAccumulator.getEdges())Object.prototype.hasOwnProperty.call(this.body.edges,e.id)||this._selectionAccumulator.deleteEdges(e)}getClickedItems(e){const r=this.canvas.DOMtoCanvas(e),n=[],i=this.body.nodeIndices,s=this.body.nodes;for(let l=i.length-1;l>=0;l--){const c=s[i[l]].getItemsOnPoint(r);n.push.apply(n,c)}const o=this.body.edgeIndices,a=this.body.edges;for(let l=o.length-1;l>=0;l--){const c=a[o[l]].getItemsOnPoint(r);n.push.apply(n,c)}return n}}var YW={},HE,QW;function Cge(){if(QW)return HE;QW=1;var t=Ou(),e=Math.floor,r=function(n,i){var s=n.length;if(s<8)for(var o=1,a,l;o<s;){for(l=o,a=n[o];l&&i(n[l-1],a)>0;)n[l]=n[--l];l!==o++&&(n[l]=a)}else for(var u=e(s/2),c=r(t(n,0,u),i),d=r(t(n,u),i),f=c.length,p=d.length,m=0,g=0;m<f||g<p;)n[m+g]=m<f&&g<p?i(c[m],d[g])<=0?c[m++]:d[g++]:m<f?c[m++]:d[g++];return n};return HE=r,HE}var VE,XW;function Ige(){if(XW)return VE;XW=1;var t=gu(),e=t.match(/firefox\/(\d+)/i);return VE=!!e&&+e[1],VE}var KE,JW;function Rge(){if(JW)return KE;JW=1;var t=gu();return KE=/MSIE|Trident/.test(t),KE}var GE,ZW;function Nge(){if(ZW)return GE;ZW=1;var t=gu(),e=t.match(/AppleWebKit\/(\d+)\./);return GE=!!e&&+e[1],GE}var eH;function $ge(){if(eH)return YW;eH=1;var t=ge(),e=Ae(),r=os(),n=vn(),i=as(),s=Z9(),o=kn(),a=qe(),l=Cge(),u=Ru(),c=Ige(),d=Rge(),f=Ld(),p=Nge(),m=[],g=e(m.sort),b=e(m.push),y=a(function(){m.sort(void 0)}),v=a(function(){m.sort(null)}),x=u("sort"),w=!a(function(){if(f)return f<70;if(!(c&&c>3)){if(d)return!0;if(p)return p<603;var O="",S,T,P,R;for(S=65;S<76;S++){switch(T=String.fromCharCode(S),S){case 66:case 69:case 70:case 72:P=3;break;case 68:case 71:P=4;break;default:P=2}for(R=0;R<47;R++)m.push({k:T+R,v:P})}for(m.sort(function(C,I){return I.v-C.v}),R=0;R<m.length;R++)T=m[R].k.charAt(0),O.charAt(O.length-1)!==T&&(O+=T);return O!=="DGBEFHACIJK"}}),_=y||!v||!x||!w,E=function(O){return function(S,T){return T===void 0?-1:S===void 0?1:O!==void 0?+O(S,T)||0:o(S)>o(T)?1:-1}};return t({target:"Array",proto:!0,forced:_},{sort:function(S){S!==void 0&&r(S);var T=n(this);if(w)return S===void 0?g(T):g(T,S);var P=[],R=i(T),C,I;for(I=0;I<R;I++)I in T&&b(P,T[I]);for(l(P,E(S)),C=i(P),I=0;I<C;)T[I]=P[I++];for(;I<R;)s(T,I++);return T}}),YW}var YE,tH;function jge(){if(tH)return YE;tH=1,$ge();var t=hr();return YE=t("Array","sort"),YE}var QE,rH;function kge(){if(rH)return QE;rH=1;var t=At(),e=jge(),r=Array.prototype;return QE=function(n){var i=n.sort;return n===r||t(r,n)&&i===r.sort?e:i},QE}var XE,nH;function Dge(){if(nH)return XE;nH=1;var t=kge();return XE=t,XE}var JE,iH;function qge(){return iH||(iH=1,JE=Dge()),JE}var Mge=qge(),vl=Ee(Mge),sH={},ZE,oH;function Age(){if(oH)return ZE;oH=1;var t=os(),e=vn(),r=Bp(),n=as(),i=TypeError,s="Reduce of empty array with no initial value",o=function(a){return function(l,u,c,d){var f=e(l),p=r(f),m=n(f);if(t(u),m===0&&c<2)throw new i(s);var g=a?m-1:0,b=a?-1:1;if(c<2)for(;;){if(g in p){d=p[g],g+=b;break}if(g+=b,a?g<0:m<=g)throw new i(s)}for(;a?g>=0:m>g;g+=b)g in p&&(d=u(d,p[g],g,f));return d}};return ZE={left:o(!1),right:o(!0)},ZE}var eO,aH;function Fge(){if(aH)return eO;aH=1;var t=tG();return eO=t==="NODE",eO}var lH;function Lge(){if(lH)return sH;lH=1;var t=ge(),e=Age().left,r=Ru(),n=Ld(),i=Fge(),s=!i&&n>79&&n<83,o=s||!r("reduce");return t({target:"Array",proto:!0,forced:o},{reduce:function(l){var u=arguments.length;return e(this,l,u,u>1?arguments[1]:void 0)}}),sH}var tO,uH;function Bge(){if(uH)return tO;uH=1,Lge();var t=hr();return tO=t("Array","reduce"),tO}var rO,cH;function zge(){if(cH)return rO;cH=1;var t=At(),e=Bge(),r=Array.prototype;return rO=function(n){var i=n.reduce;return n===r||t(r,n)&&i===r.reduce?e:i},rO}var nO,dH;function Uge(){if(dH)return nO;dH=1;var t=zge();return nO=t,nO}var iO,hH;function Wge(){return hH||(hH=1,iO=Uge()),iO}var Hge=Wge(),rY=Ee(Hge);class nY{abstract(){throw new Error("Can't instantiate abstract class!")}fake_use(){}curveType(){return this.abstract()}getPosition(e){return this.fake_use(e),this.abstract()}setPosition(e,r){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0;this.fake_use(e,r,n),this.abstract()}getTreeSize(e){return this.fake_use(e),this.abstract()}sort(e){this.fake_use(e),this.abstract()}fix(e,r){this.fake_use(e,r),this.abstract()}shift(e,r){this.fake_use(e,r),this.abstract()}}class Vge extends nY{constructor(e){super(),this.layout=e}curveType(){return"horizontal"}getPosition(e){return e.x}setPosition(e,r){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0;n!==void 0&&this.layout.hierarchical.addToOrdering(e,n),e.x=r}getTreeSize(e){const r=this.layout.hierarchical.getTreeSize(this.layout.body.nodes,e);return{min:r.min_x,max:r.max_x}}sort(e){vl(e).call(e,function(r,n){return r.x-n.x})}fix(e,r){e.y=this.layout.options.hierarchical.levelSeparation*r,e.options.fixed.y=!0}shift(e,r){this.layout.body.nodes[e].x+=r}}class Kge extends nY{constructor(e){super(),this.layout=e}curveType(){return"vertical"}getPosition(e){return e.y}setPosition(e,r){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0;n!==void 0&&this.layout.hierarchical.addToOrdering(e,n),e.y=r}getTreeSize(e){const r=this.layout.hierarchical.getTreeSize(this.layout.body.nodes,e);return{min:r.min_y,max:r.max_y}}sort(e){vl(e).call(e,function(r,n){return r.y-n.y})}fix(e,r){e.x=this.layout.options.hierarchical.levelSeparation*r,e.options.fixed.x=!0}shift(e,r){this.layout.body.nodes[e].y+=r}}var fH={},pH;function Gge(){if(pH)return fH;pH=1;var t=ge(),e=co().every,r=Ru(),n=r("every");return t({target:"Array",proto:!0,forced:!n},{every:function(s){return e(this,s,arguments.length>1?arguments[1]:void 0)}}),fH}var sO,mH;function Yge(){if(mH)return sO;mH=1,Gge();var t=hr();return sO=t("Array","every"),sO}var oO,vH;function Qge(){if(vH)return oO;vH=1;var t=At(),e=Yge(),r=Array.prototype;return oO=function(n){var i=n.every;return n===r||t(r,n)&&i===r.every?e:i},oO}var aO,yH;function Xge(){if(yH)return aO;yH=1;var t=Qge();return aO=t,aO}var lO,gH;function Jge(){return gH||(gH=1,lO=Xge()),lO}var Zge=Jge(),iY=Ee(Zge);function ebe(t,e){const r=new gs;return Ge(t).call(t,n=>{var i;Ge(i=n.edges).call(i,s=>{s.connected&&r.add(s)})}),Ge(r).call(r,n=>{const i=n.from.id,s=n.to.id;e[i]==null&&(e[i]=0),(e[s]==null||e[i]>=e[s])&&(e[s]=e[i]+1)}),e}function tbe(t){return sY(e=>{var r,n;return iY(r=Wr(n=e.edges).call(n,i=>t.has(i.toId))).call(r,i=>i.to===e)},(e,r)=>r>e,"from",t)}function rbe(t){return sY(e=>{var r,n;return iY(r=Wr(n=e.edges).call(n,i=>t.has(i.toId))).call(r,i=>i.from===e)},(e,r)=>r<e,"to",t)}function sY(t,e,r,n){var i;const s=Wo(null),o=rY(i=[...YG(n).call(n)]).call(i,(d,f)=>d+1+f.edges.length,0),a=r+"Id",l=r==="to"?1:-1;for(const[d,f]of n){if(!n.has(d)||!t(f))continue;s[d]=0;const p=[f];let m=0,g;for(;g=p.pop();){var u,c;if(!n.has(d))continue;const b=s[g.id]+l;if(Ge(u=Wr(c=g.edges).call(c,y=>y.connected&&y.to!==y.from&&y[r]!==g&&n.has(y.toId)&&n.has(y.fromId))).call(u,y=>{const v=y[a],x=s[v];(x==null||e(b,x))&&(s[v]=b,p.push(y[r]))}),m>o)return ebe(n,s);++m}}return s}class nbe{constructor(){this.childrenReference={},this.parentReference={},this.trees={},this.distributionOrdering={},this.levels={},this.distributionIndex={},this.isTree=!1,this.treeIndex=-1}addRelation(e,r){this.childrenReference[e]===void 0&&(this.childrenReference[e]=[]),this.childrenReference[e].push(r),this.parentReference[r]===void 0&&(this.parentReference[r]=[]),this.parentReference[r].push(e)}checkIfTree(){for(const e in this.parentReference)if(this.parentReference[e].length>1){this.isTree=!1;return}this.isTree=!0}numTrees(){return this.treeIndex+1}setTreeIndex(e,r){r!==void 0&&this.trees[e.id]===void 0&&(this.trees[e.id]=r,this.treeIndex=Math.max(r,this.treeIndex))}ensureLevel(e){this.levels[e]===void 0&&(this.levels[e]=0)}getMaxLevel(e){const r={},n=i=>{if(r[i]!==void 0)return r[i];let s=this.levels[i];if(this.childrenReference[i]){const o=this.childrenReference[i];if(o.length>0)for(let a=0;a<o.length;a++)s=Math.max(s,n(o[a]))}return r[i]=s,s};return n(e)}levelDownstream(e,r){this.levels[r.id]===void 0&&(this.levels[e.id]===void 0&&(this.levels[e.id]=0),this.levels[r.id]=this.levels[e.id]+1)}setMinLevelToZero(){var e;const r=new bI;let n=0;const i=vl(e=[...new gs(ghe(this.levels))]).call(e,(s,o)=>s-o);for(const s of i)r.set(s,n++);for(const s in this.levels)Object.prototype.hasOwnProperty.call(this.levels,s)&&(this.levels[s]=r.get(this.levels[s]))}getTreeSize(e,r){let n=1e9,i=-1e9,s=1e9,o=-1e9;for(const a in this.trees)if(Object.prototype.hasOwnProperty.call(this.trees,a)&&this.trees[a]===r){const l=e[a];n=Math.min(l.x,n),i=Math.max(l.x,i),s=Math.min(l.y,s),o=Math.max(l.y,o)}return{min_x:n,max_x:i,min_y:s,max_y:o}}hasSameParent(e,r){const n=this.parentReference[e.id],i=this.parentReference[r.id];if(n===void 0||i===void 0)return!1;for(let s=0;s<n.length;s++)for(let o=0;o<i.length;o++)if(n[s]==i[o])return!0;return!1}inSameSubNetwork(e,r){return this.trees[e.id]===this.trees[r.id]}getLevels(){return _t(this.distributionOrdering)}addToOrdering(e,r){this.distributionOrdering[r]===void 0&&(this.distributionOrdering[r]=[]);let n=!1;const i=this.distributionOrdering[r];for(const s in i)if(i[s]===e){n=!0;break}n||(this.distributionOrdering[r].push(e),this.distributionIndex[e.id]=this.distributionOrdering[r].length-1)}}class ibe{constructor(e){this.body=e,this._resetRNG(Math.random()+":"+zf()),this.setPhysics=!1,this.options={},this.optionsBackup={physics:{}},this.defaultOptions={randomSeed:void 0,improvedLayout:!0,clusterThreshold:150,hierarchical:{enabled:!1,levelSeparation:150,nodeSpacing:100,treeSpacing:200,blockShifting:!0,edgeMinimization:!0,parentCentralization:!0,direction:"UD",sortMethod:"hubsize"}},kt(this.options,this.defaultOptions),this.bindEventListeners()}bindEventListeners(){this.body.emitter.on("_dataChanged",()=>{this.setupHierarchicalLayout()}),this.body.emitter.on("_dataLoaded",()=>{this.layoutNetwork()}),this.body.emitter.on("_resetHierarchicalLayout",()=>{this.setupHierarchicalLayout()}),this.body.emitter.on("_adjustEdgesForHierarchicalLayout",()=>{if(this.options.hierarchical.enabled!==!0)return;const e=this.direction.curveType();this.body.emitter.emit("_forceDisableDynamicCurves",e,!1)})}setOptions(e,r){if(e!==void 0){const n=this.options.hierarchical,i=n.enabled;if($u(["randomSeed","improvedLayout","clusterThreshold"],this.options,e),xn(this.options,e,"hierarchical"),e.randomSeed!==void 0&&this._resetRNG(e.randomSeed),n.enabled===!0)return i===!0&&this.body.emitter.emit("refresh",!0),n.direction==="RL"||n.direction==="DU"?n.levelSeparation>0&&(n.levelSeparation*=-1):n.levelSeparation<0&&(n.levelSeparation*=-1),this.setDirectionStrategy(),this.body.emitter.emit("_resetHierarchicalLayout"),this.adaptAllOptionsForHierarchicalLayout(r);if(i===!0)return this.body.emitter.emit("refresh"),Ze(r,this.optionsBackup)}return r}_resetRNG(e){this.initialRandomSeed=e,this._rng=em(this.initialRandomSeed)}adaptAllOptionsForHierarchicalLayout(e){if(this.options.hierarchical.enabled===!0){const r=this.optionsBackup.physics;e.physics===void 0||e.physics===!0?(e.physics={enabled:r.enabled===void 0?!0:r.enabled,solver:"hierarchicalRepulsion"},r.enabled=r.enabled===void 0?!0:r.enabled,r.solver=r.solver||"barnesHut"):typeof e.physics=="object"?(r.enabled=e.physics.enabled===void 0?!0:e.physics.enabled,r.solver=e.physics.solver||"barnesHut",e.physics.solver="hierarchicalRepulsion"):e.physics!==!1&&(r.solver="barnesHut",e.physics={solver:"hierarchicalRepulsion"});let n=this.direction.curveType();if(e.edges===void 0)this.optionsBackup.edges={smooth:{enabled:!0,type:"dynamic"}},e.edges={smooth:!1};else if(e.edges.smooth===void 0)this.optionsBackup.edges={smooth:{enabled:!0,type:"dynamic"}},e.edges.smooth=!1;else if(typeof e.edges.smooth=="boolean")this.optionsBackup.edges={smooth:e.edges.smooth},e.edges.smooth={enabled:e.edges.smooth,type:n};else{const i=e.edges.smooth;i.type!==void 0&&i.type!=="dynamic"&&(n=i.type),this.optionsBackup.edges={smooth:{enabled:i.enabled===void 0?!0:i.enabled,type:i.type===void 0?"dynamic":i.type,roundness:i.roundness===void 0?.5:i.roundness,forceDirection:i.forceDirection===void 0?!1:i.forceDirection}},e.edges.smooth={enabled:i.enabled===void 0?!0:i.enabled,type:n,roundness:i.roundness===void 0?.5:i.roundness,forceDirection:i.forceDirection===void 0?!1:i.forceDirection}}this.body.emitter.emit("_forceDisableDynamicCurves",n)}return e}positionInitially(e){if(this.options.hierarchical.enabled!==!0){this._resetRNG(this.initialRandomSeed);const r=e.length+50;for(let n=0;n<e.length;n++){const i=e[n],s=2*Math.PI*this._rng();i.x===void 0&&(i.x=r*Math.cos(s)),i.y===void 0&&(i.y=r*Math.sin(s))}}}layoutNetwork(){if(this.options.hierarchical.enabled!==!0&&this.options.improvedLayout===!0){const e=this.body.nodeIndices;let r=0;for(let n=0;n<e.length;n++)this.body.nodes[e[n]].predefinedPosition===!0&&(r+=1);if(r<.5*e.length){let i=0;const s=this.options.clusterThreshold,o={clusterNodeProperties:{shape:"ellipse",label:"",group:"",font:{multi:!1}},clusterEdgeProperties:{label:"",font:{multi:!1},smooth:{enabled:!1}}};if(e.length>s){const l=e.length;for(;e.length>s&&i<=10;){i+=1;const u=e.length;i%3===0?this.body.modules.clustering.clusterBridges(o):this.body.modules.clustering.clusterOutliers(o);const c=e.length;if(u==c&&i%3!==0){this._declusterAll(),this.body.emitter.emit("_layoutFailed"),console.info("This network could not be positioned by this version of the improved layout algorithm. Please disable improvedLayout for better performance.");return}}this.body.modules.kamadaKawai.setOptions({springLength:Math.max(150,2*l)})}i>10&&console.info("The clustering didn't succeed within the amount of interations allowed, progressing with partial result."),this.body.modules.kamadaKawai.solve(e,this.body.edgeIndices,!0),this._shiftToCenter();const a=70;for(let l=0;l<e.length;l++){const u=this.body.nodes[e[l]];u.predefinedPosition===!1&&(u.x+=(.5-this._rng())*a,u.y+=(.5-this._rng())*a)}this._declusterAll(),this.body.emitter.emit("_repositionBezierNodes")}}}_shiftToCenter(){const e=Ir.getRangeCore(this.body.nodes,this.body.nodeIndices),r=Ir.findCenter(e);for(let n=0;n<this.body.nodeIndices.length;n++){const i=this.body.nodes[this.body.nodeIndices[n]];i.x-=r.x,i.y-=r.y}}_declusterAll(){let e=!0;for(;e===!0;){e=!1;for(let r=0;r<this.body.nodeIndices.length;r++)this.body.nodes[this.body.nodeIndices[r]].isCluster===!0&&(e=!0,this.body.modules.clustering.openCluster(this.body.nodeIndices[r],{},!1));e===!0&&this.body.emitter.emit("_dataChanged")}}getSeed(){return this.initialRandomSeed}setupHierarchicalLayout(){if(this.options.hierarchical.enabled===!0&&this.body.nodeIndices.length>0){let e,r,n=!1,i=!1;this.lastNodeOnLevel={},this.hierarchical=new nbe;for(r in this.body.nodes)Object.prototype.hasOwnProperty.call(this.body.nodes,r)&&(e=this.body.nodes[r],e.options.level!==void 0?(n=!0,this.hierarchical.levels[r]=e.options.level):i=!0);if(i===!0&&n===!0)throw new Error("To use the hierarchical layout, nodes require either no predefined levels or levels have to be defined for all nodes.");{if(i===!0){const o=this.options.hierarchical.sortMethod;o==="hubsize"?this._determineLevelsByHubsize():o==="directed"?this._determineLevelsDirected():o==="custom"&&this._determineLevelsCustomCallback()}for(const o in this.body.nodes)Object.prototype.hasOwnProperty.call(this.body.nodes,o)&&this.hierarchical.ensureLevel(o);const s=this._getDistribution();this._generateMap(),this._placeNodesByHierarchy(s),this._condenseHierarchy(),this._shiftToCenter()}}}_condenseHierarchy(){var e=this;let r=!1;const n={},i=()=>{const y=o();let v=0;for(let x=0;x<y.length-1;x++){const w=y[x].max-y[x+1].min;v+=w+this.options.hierarchical.treeSpacing,s(x+1,v)}},s=(y,v)=>{const x=this.hierarchical.trees;for(const w in x)Object.prototype.hasOwnProperty.call(x,w)&&x[w]===y&&this.direction.shift(w,v)},o=()=>{const y=[];for(let v=0;v<this.hierarchical.numTrees();v++)y.push(this.direction.getTreeSize(v));return y},a=(y,v)=>{if(!v[y.id]&&(v[y.id]=!0,this.hierarchical.childrenReference[y.id])){const x=this.hierarchical.childrenReference[y.id];if(x.length>0)for(let w=0;w<x.length;w++)a(this.body.nodes[x[w]],v)}},l=function(y){let v=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1e9,x=1e9,w=1e9,_=1e9,E=-1e9;for(const O in y)if(Object.prototype.hasOwnProperty.call(y,O)){const S=e.body.nodes[O],T=e.hierarchical.levels[S.id],P=e.direction.getPosition(S),[R,C]=e._getSpaceAroundNode(S,y);x=Math.min(R,x),w=Math.min(C,w),T<=v&&(_=Math.min(P,_),E=Math.max(P,E))}return[_,E,x,w]},u=(y,v)=>{const x=this.hierarchical.getMaxLevel(y.id),w=this.hierarchical.getMaxLevel(v.id);return Math.min(x,w)},c=(y,v,x)=>{const w=this.hierarchical;for(let _=0;_<v.length;_++){const E=v[_],O=w.distributionOrdering[E];if(O.length>1)for(let S=0;S<O.length-1;S++){const T=O[S],P=O[S+1];w.hasSameParent(T,P)&&w.inSameSubNetwork(T,P)&&y(T,P,x)}}},d=function(y,v){let x=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;const w=e.direction.getPosition(y),_=e.direction.getPosition(v),E=Math.abs(_-w),O=e.options.hierarchical.nodeSpacing;if(E>O){const S={},T={};a(y,S),a(v,T);const P=u(y,v),R=l(S,P),C=l(T,P),I=R[1],q=C[0],B=C[2];if(Math.abs(I-q)>O){let Q=I-q+O;Q<-B+O&&(Q=-B+O),Q<0&&(e._shiftBlock(v.id,Q),r=!0,x===!0&&e._centerParent(v))}}},f=(y,v)=>{const x=v.id,w=v.edges,_=this.hierarchical.levels[v.id],E=this.options.hierarchical.levelSeparation*this.options.hierarchical.levelSeparation,O={},S=[];for(let B=0;B<w.length;B++){const re=w[B];if(re.toId!=re.fromId){const Q=re.toId==x?re.from:re.to;O[w[B].id]=Q,this.hierarchical.levels[Q.id]<_&&S.push(re)}}const T=(B,re)=>{let Q=0;for(let L=0;L<re.length;L++)if(O[re[L].id]!==void 0){const G=this.direction.getPosition(O[re[L].id])-B;Q+=G/Math.sqrt(G*G+E)}return Q},P=(B,re)=>{let Q=0;for(let L=0;L<re.length;L++)if(O[re[L].id]!==void 0){const G=this.direction.getPosition(O[re[L].id])-B;Q-=E*Math.pow(G*G+E,-1.5)}return Q},R=(B,re)=>{let Q=this.direction.getPosition(v);const L={};for(let G=0;G<B;G++){const U=T(Q,re),z=P(Q,re),te=40,fe=Math.max(-te,Math.min(te,Math.round(U/z)));if(Q=Q-fe,L[Q]!==void 0)break;L[Q]=G}return Q},C=B=>{const re=this.direction.getPosition(v);if(n[v.id]===void 0){const te={};a(v,te),n[v.id]=te}const Q=l(n[v.id]),L=Q[2],G=Q[3],U=B-re;let z=0;U>0?z=Math.min(U,G-this.options.hierarchical.nodeSpacing):U<0&&(z=-Math.min(-U,L-this.options.hierarchical.nodeSpacing)),z!=0&&(this._shiftBlock(v.id,z),r=!0)},I=B=>{const re=this.direction.getPosition(v),[Q,L]=this._getSpaceAroundNode(v),G=B-re;let U=re;G>0?U=Math.min(re+(L-this.options.hierarchical.nodeSpacing),B):G<0&&(U=Math.max(re-(Q-this.options.hierarchical.nodeSpacing),B)),U!==re&&(this.direction.setPosition(v,U),r=!0)};let q=R(y,S);C(q),q=R(y,w),I(q)},p=y=>{let v=this.hierarchical.getLevels();v=Uo(v).call(v);for(let x=0;x<y;x++){r=!1;for(let w=0;w<v.length;w++){const _=v[w],E=this.hierarchical.distributionOrdering[_];for(let O=0;O<E.length;O++)f(1e3,E[O])}if(r!==!0)break}},m=y=>{let v=this.hierarchical.getLevels();v=Uo(v).call(v);for(let x=0;x<y&&(r=!1,c(d,v,!0),r===!0);x++);},g=()=>{for(const y in this.body.nodes)Object.prototype.hasOwnProperty.call(this.body.nodes,y)&&this._centerParent(this.body.nodes[y])},b=()=>{let y=this.hierarchical.getLevels();y=Uo(y).call(y);for(let v=0;v<y.length;v++){const x=y[v],w=this.hierarchical.distributionOrdering[x];for(let _=0;_<w.length;_++)this._centerParent(w[_])}};this.options.hierarchical.blockShifting===!0&&(m(5),g()),this.options.hierarchical.edgeMinimization===!0&&p(20),this.options.hierarchical.parentCentralization===!0&&b(),i()}_getSpaceAroundNode(e,r){let n=!0;r===void 0&&(n=!1);const i=this.hierarchical.levels[e.id];if(i!==void 0){const s=this.hierarchical.distributionIndex[e.id],o=this.direction.getPosition(e),a=this.hierarchical.distributionOrdering[i];let l=1e9,u=1e9;if(s!==0){const c=a[s-1];if(n===!0&&r[c.id]===void 0||n===!1){const d=this.direction.getPosition(c);l=o-d}}if(s!=a.length-1){const c=a[s+1];if(n===!0&&r[c.id]===void 0||n===!1){const d=this.direction.getPosition(c);u=Math.min(u,d-o)}}return[l,u]}else return[0,0]}_centerParent(e){if(this.hierarchical.parentReference[e.id]){const r=this.hierarchical.parentReference[e.id];for(let n=0;n<r.length;n++){const i=r[n],s=this.body.nodes[i],o=this.hierarchical.childrenReference[i];if(o!==void 0){const a=this._getCenterPosition(o),l=this.direction.getPosition(s),[u,c]=this._getSpaceAroundNode(s),d=l-a;(d<0&&Math.abs(d)<c-this.options.hierarchical.nodeSpacing||d>0&&Math.abs(d)<u-this.options.hierarchical.nodeSpacing)&&this.direction.setPosition(s,a)}}}}_placeNodesByHierarchy(e){this.positionedNodes={};for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r;let i=_t(e[n]);i=this._indexArrayToNodes(i),vl(r=this.direction).call(r,i);let s=0;for(let o=0;o<i.length;o++){const a=i[o];if(this.positionedNodes[a.id]===void 0){const l=this.options.hierarchical.nodeSpacing;let u=l*s;s>0&&(u=this.direction.getPosition(i[o-1])+l),this.direction.setPosition(a,u,n),this._validatePositionAndContinue(a,n,u),s++}}}}_placeBranchNodes(e,r){var n;const i=this.hierarchical.childrenReference[e];if(i===void 0)return;const s=[];for(let a=0;a<i.length;a++)s.push(this.body.nodes[i[a]]);vl(n=this.direction).call(n,s);for(let a=0;a<s.length;a++){const l=s[a],u=this.hierarchical.levels[l.id];if(u>r&&this.positionedNodes[l.id]===void 0){const c=this.options.hierarchical.nodeSpacing;let d;a===0?d=this.direction.getPosition(this.body.nodes[e]):d=this.direction.getPosition(s[a-1])+c,this.direction.setPosition(l,d,u),this._validatePositionAndContinue(l,u,d)}else return}const o=this._getCenterPosition(s);this.direction.setPosition(this.body.nodes[e],o,r)}_validatePositionAndContinue(e,r,n){if(this.hierarchical.isTree){if(this.lastNodeOnLevel[r]!==void 0){const i=this.direction.getPosition(this.body.nodes[this.lastNodeOnLevel[r]]);if(n-i<this.options.hierarchical.nodeSpacing){const s=i+this.options.hierarchical.nodeSpacing-n,o=this._findCommonParent(this.lastNodeOnLevel[r],e.id);this._shiftBlock(o.withChild,s)}}this.lastNodeOnLevel[r]=e.id,this.positionedNodes[e.id]=!0,this._placeBranchNodes(e.id,r)}}_indexArrayToNodes(e){const r=[];for(let n=0;n<e.length;n++)r.push(this.body.nodes[e[n]]);return r}_getDistribution(){const e={};let r,n;for(r in this.body.nodes)if(Object.prototype.hasOwnProperty.call(this.body.nodes,r)){n=this.body.nodes[r];const i=this.hierarchical.levels[r]===void 0?0:this.hierarchical.levels[r];this.direction.fix(n,i),e[i]===void 0&&(e[i]={}),e[i][r]=n}return e}_getActiveEdges(e){const r=[];return Ne(e.edges,n=>{var i;Ue(i=this.body.edgeIndices).call(i,n.id)!==-1&&r.push(n)}),r}_getHubSizes(){const e={},r=this.body.nodeIndices;Ne(r,i=>{const s=this.body.nodes[i],o=this._getActiveEdges(s).length;e[o]=!0});const n=[];return Ne(e,i=>{n.push(Number(i))}),vl(n).call(n,function(i,s){return s-i}),n}_determineLevelsByHubsize(){const e=(n,i)=>{this.hierarchical.levelDownstream(n,i)},r=this._getHubSizes();for(let n=0;n<r.length;++n){const i=r[n];if(i===0)break;Ne(this.body.nodeIndices,s=>{const o=this.body.nodes[s];i===this._getActiveEdges(o).length&&this._crawlNetwork(e,s)})}}_determineLevelsCustomCallback(){const r=function(i,s,o){},n=(i,s,o)=>{let a=this.hierarchical.levels[i.id];a===void 0&&(a=this.hierarchical.levels[i.id]=1e5);const l=r(Ir.cloneOptions(i,"node"),Ir.cloneOptions(s,"node"),Ir.cloneOptions(o,"edge"));this.hierarchical.levels[s.id]=a+l};this._crawlNetwork(n),this.hierarchical.setMinLevelToZero()}_determineLevelsDirected(){var e;const r=rY(e=this.body.nodeIndices).call(e,(n,i)=>(n.set(i,this.body.nodes[i]),n),new bI);this.options.hierarchical.shakeTowards==="roots"?this.hierarchical.levels=rbe(r):this.hierarchical.levels=tbe(r),this.hierarchical.setMinLevelToZero()}_generateMap(){const e=(r,n)=>{this.hierarchical.levels[n.id]>this.hierarchical.levels[r.id]&&this.hierarchical.addRelation(r.id,n.id)};this._crawlNetwork(e),this.hierarchical.checkIfTree()}_crawlNetwork(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:function(){},r=arguments.length>1?arguments[1]:void 0;const n={},i=(s,o)=>{if(n[s.id]===void 0){this.hierarchical.setTreeIndex(s,o),n[s.id]=!0;let a;const l=this._getActiveEdges(s);for(let u=0;u<l.length;u++){const c=l[u];c.connected===!0&&(c.toId==s.id?a=c.from:a=c.to,s.id!=a.id&&(e(s,a,c),i(a,o)))}}};if(r===void 0){let s=0;for(let o=0;o<this.body.nodeIndices.length;o++){const a=this.body.nodeIndices[o];if(n[a]===void 0){const l=this.body.nodes[a];i(l,s),s+=1}}}else{const s=this.body.nodes[r];if(s===void 0){console.error("Node not found:",r);return}i(s)}}_shiftBlock(e,r){const n={},i=s=>{if(n[s])return;n[s]=!0,this.direction.shift(s,r);const o=this.hierarchical.childrenReference[s];if(o!==void 0)for(let a=0;a<o.length;a++)i(o[a])};i(e)}_findCommonParent(e,r){const n={},i=(o,a)=>{const l=this.hierarchical.parentReference[a];if(l!==void 0)for(let u=0;u<l.length;u++){const c=l[u];o[c]=!0,i(o,c)}},s=(o,a)=>{const l=this.hierarchical.parentReference[a];if(l!==void 0)for(let u=0;u<l.length;u++){const c=l[u];if(o[c]!==void 0)return{foundParent:c,withChild:a};const d=s(o,c);if(d.foundParent!==null)return d}return{foundParent:null,withChild:a}};return i(n,e),s(n,r)}setDirectionStrategy(){this.options.hierarchical.direction==="UD"||this.options.hierarchical.direction==="DU"?this.direction=new Vge(this):this.direction=new Kge(this)}_getCenterPosition(e){let r=1e9,n=-1e9;for(let i=0;i<e.length;i++){let s;if(e[i].id!==void 0)s=e[i];else{const a=e[i];s=this.body.nodes[a]}const o=this.direction.getPosition(s);r=Math.min(r,o),n=Math.max(n,o)}return .5*(r+n)}}class sbe{constructor(e,r,n,i){var s,o;this.body=e,this.canvas=r,this.selectionHandler=n,this.interactionHandler=i,this.editMode=!1,this.manipulationDiv=void 0,this.editModeDiv=void 0,this.closeDiv=void 0,this._domEventListenerCleanupQueue=[],this.temporaryUIFunctions={},this.temporaryEventFunctions=[],this.touchTime=0,this.temporaryIds={nodes:[],edges:[]},this.guiEnabled=!1,this.inMode=!1,this.selectedControlNode=void 0,this.options={},this.defaultOptions={enabled:!1,initiallyActive:!1,addNode:!0,addEdge:!0,editNode:void 0,editEdge:!0,deleteNode:!0,deleteEdge:!0,controlNodeStyle:{shape:"dot",size:6,color:{background:"#ff0000",border:"#3c3c3c",highlight:{background:"#07f968",border:"#3c3c3c"}},borderWidth:2,borderWidthSelected:2}},kt(this.options,this.defaultOptions),this.body.emitter.on("destroy",()=>{this._clean()}),this.body.emitter.on("_dataChanged",ee(s=this._restore).call(s,this)),this.body.emitter.on("_resetData",ee(o=this._restore).call(o,this))}_restore(){this.inMode!==!1&&(this.options.initiallyActive===!0?this.enableEditMode():this.disableEditMode())}setOptions(e,r,n){r!==void 0&&(r.locale!==void 0?this.options.locale=r.locale:this.options.locale=n.locale,r.locales!==void 0?this.options.locales=r.locales:this.options.locales=n.locales),e!==void 0&&(typeof e=="boolean"?this.options.enabled=e:(this.options.enabled=!0,Ze(this.options,e)),this.options.initiallyActive===!0&&(this.editMode=!0),this._setup())}toggleEditMode(){this.editMode===!0?this.disableEditMode():this.enableEditMode()}enableEditMode(){this.editMode=!0,this._clean(),this.guiEnabled===!0&&(this.manipulationDiv.style.display="block",this.closeDiv.style.display="block",this.editModeDiv.style.display="none",this.showManipulatorToolbar())}disableEditMode(){this.editMode=!1,this._clean(),this.guiEnabled===!0&&(this.manipulationDiv.style.display="none",this.closeDiv.style.display="none",this.editModeDiv.style.display="block",this._createEditButton())}showManipulatorToolbar(){if(this._clean(),this.manipulationDOM={},this.guiEnabled===!0){var e,r;this.editMode=!0,this.manipulationDiv.style.display="block",this.closeDiv.style.display="block";const n=this.selectionHandler.getSelectedNodeCount(),i=this.selectionHandler.getSelectedEdgeCount(),s=n+i,o=this.options.locales[this.options.locale];let a=!1;this.options.addNode!==!1&&(this._createAddNodeButton(o),a=!0),this.options.addEdge!==!1&&(a===!0?this._createSeperator(1):a=!0,this._createAddEdgeButton(o)),n===1&&typeof this.options.editNode=="function"?(a===!0?this._createSeperator(2):a=!0,this._createEditNodeButton(o)):i===1&&n===0&&this.options.editEdge!==!1&&(a===!0?this._createSeperator(3):a=!0,this._createEditEdgeButton(o)),s!==0&&(n>0&&this.options.deleteNode!==!1?(a===!0&&this._createSeperator(4),this._createDeleteButton(o)):n===0&&this.options.deleteEdge!==!1&&(a===!0&&this._createSeperator(4),this._createDeleteButton(o))),this._bindElementEvents(this.closeDiv,ee(e=this.toggleEditMode).call(e,this)),this._temporaryBindEvent("select",ee(r=this.showManipulatorToolbar).call(r,this))}this.body.emitter.emit("_redraw")}addNodeMode(){var e;if(this.editMode!==!0&&this.enableEditMode(),this._clean(),this.inMode="addNode",this.guiEnabled===!0){var r;const n=this.options.locales[this.options.locale];this.manipulationDOM={},this._createBackButton(n),this._createSeperator(),this._createDescription(n.addDescription||this.options.locales.en.addDescription),this._bindElementEvents(this.closeDiv,ee(r=this.toggleEditMode).call(r,this))}this._temporaryBindEvent("click",ee(e=this._performAddNode).call(e,this))}editNode(){this.editMode!==!0&&this.enableEditMode(),this._clean();const e=this.selectionHandler.getSelectedNodes()[0];if(e!==void 0)if(this.inMode="editNode",typeof this.options.editNode=="function")if(e.isCluster!==!0){const r=Ze({},e.options,!1);if(r.x=e.x,r.y=e.y,this.options.editNode.length===2)this.options.editNode(r,n=>{n!=null&&this.inMode==="editNode"&&this.body.data.nodes.getDataSet().update(n),this.showManipulatorToolbar()});else throw new Error("The function for edit does not support two arguments (data, callback)")}else alert(this.options.locales[this.options.locale].editClusterError||this.options.locales.en.editClusterError);else throw new Error("No function has been configured to handle the editing of nodes.");else this.showManipulatorToolbar()}addEdgeMode(){var e,r,n,i,s;if(this.editMode!==!0&&this.enableEditMode(),this._clean(),this.inMode="addEdge",this.guiEnabled===!0){var o;const a=this.options.locales[this.options.locale];this.manipulationDOM={},this._createBackButton(a),this._createSeperator(),this._createDescription(a.edgeDescription||this.options.locales.en.edgeDescription),this._bindElementEvents(this.closeDiv,ee(o=this.toggleEditMode).call(o,this))}this._temporaryBindUI("onTouch",ee(e=this._handleConnect).call(e,this)),this._temporaryBindUI("onDragEnd",ee(r=this._finishConnect).call(r,this)),this._temporaryBindUI("onDrag",ee(n=this._dragControlNode).call(n,this)),this._temporaryBindUI("onRelease",ee(i=this._finishConnect).call(i,this)),this._temporaryBindUI("onDragStart",ee(s=this._dragStartEdge).call(s,this)),this._temporaryBindUI("onHold",()=>{})}editEdgeMode(){if(this.editMode!==!0&&this.enableEditMode(),this._clean(),this.inMode="editEdge",typeof this.options.editEdge=="object"&&typeof this.options.editEdge.editWithoutDrag=="function"&&(this.edgeBeingEditedId=this.selectionHandler.getSelectedEdgeIds()[0],this.edgeBeingEditedId!==void 0)){const o=this.body.edges[this.edgeBeingEditedId];this._performEditEdge(o.from.id,o.to.id);return}if(this.guiEnabled===!0){var e;const o=this.options.locales[this.options.locale];this.manipulationDOM={},this._createBackButton(o),this._createSeperator(),this._createDescription(o.editEdgeDescription||this.options.locales.en.editEdgeDescription),this._bindElementEvents(this.closeDiv,ee(e=this.toggleEditMode).call(e,this))}if(this.edgeBeingEditedId=this.selectionHandler.getSelectedEdgeIds()[0],this.edgeBeingEditedId!==void 0){var r,n,i,s;const o=this.body.edges[this.edgeBeingEditedId],a=this._getNewTargetNode(o.from.x,o.from.y),l=this._getNewTargetNode(o.to.x,o.to.y);this.temporaryIds.nodes.push(a.id),this.temporaryIds.nodes.push(l.id),this.body.nodes[a.id]=a,this.body.nodeIndices.push(a.id),this.body.nodes[l.id]=l,this.body.nodeIndices.push(l.id),this._temporaryBindUI("onTouch",ee(r=this._controlNodeTouch).call(r,this)),this._temporaryBindUI("onTap",()=>{}),this._temporaryBindUI("onHold",()=>{}),this._temporaryBindUI("onDragStart",ee(n=this._controlNodeDragStart).call(n,this)),this._temporaryBindUI("onDrag",ee(i=this._controlNodeDrag).call(i,this)),this._temporaryBindUI("onDragEnd",ee(s=this._controlNodeDragEnd).call(s,this)),this._temporaryBindUI("onMouseMove",()=>{}),this._temporaryBindEvent("beforeDrawing",u=>{const c=o.edgeType.findBorderPositions(u);a.selected===!1&&(a.x=c.from.x,a.y=c.from.y),l.selected===!1&&(l.x=c.to.x,l.y=c.to.y)}),this.body.emitter.emit("_redraw")}else this.showManipulatorToolbar()}deleteSelected(){this.editMode!==!0&&this.enableEditMode(),this._clean(),this.inMode="delete";const e=this.selectionHandler.getSelectedNodeIds(),r=this.selectionHandler.getSelectedEdgeIds();let n;if(e.length>0){for(let i=0;i<e.length;i++)if(this.body.nodes[e[i]].isCluster===!0){alert(this.options.locales[this.options.locale].deleteClusterError||this.options.locales.en.deleteClusterError);return}typeof this.options.deleteNode=="function"&&(n=this.options.deleteNode)}else r.length>0&&typeof this.options.deleteEdge=="function"&&(n=this.options.deleteEdge);if(typeof n=="function"){const i={nodes:e,edges:r};if(n.length===2)n(i,s=>{s!=null&&this.inMode==="delete"?(this.body.data.edges.getDataSet().remove(s.edges),this.body.data.nodes.getDataSet().remove(s.nodes),this.body.emitter.emit("startSimulation"),this.showManipulatorToolbar()):(this.body.emitter.emit("startSimulation"),this.showManipulatorToolbar())});else throw new Error("The function for delete does not support two arguments (data, callback)")}else this.body.data.edges.getDataSet().remove(r),this.body.data.nodes.getDataSet().remove(e),this.body.emitter.emit("startSimulation"),this.showManipulatorToolbar()}_setup(){this.options.enabled===!0?(this.guiEnabled=!0,this._createWrappers(),this.editMode===!1?this._createEditButton():this.showManipulatorToolbar()):(this._removeManipulationDOM(),this.guiEnabled=!1)}_createWrappers(){if(this.manipulationDiv===void 0&&(this.manipulationDiv=document.createElement("div"),this.manipulationDiv.className="vis-manipulation",this.editMode===!0?this.manipulationDiv.style.display="block":this.manipulationDiv.style.display="none",this.canvas.frame.appendChild(this.manipulationDiv)),this.editModeDiv===void 0&&(this.editModeDiv=document.createElement("div"),this.editModeDiv.className="vis-edit-mode",this.editMode===!0?this.editModeDiv.style.display="none":this.editModeDiv.style.display="block",this.canvas.frame.appendChild(this.editModeDiv)),this.closeDiv===void 0){var e,r;this.closeDiv=document.createElement("button"),this.closeDiv.className="vis-close",this.closeDiv.setAttribute("aria-label",(e=(r=this.options.locales[this.options.locale])===null||r===void 0?void 0:r.close)!==null&&e!==void 0?e:this.options.locales.en.close),this.closeDiv.style.display=this.manipulationDiv.style.display,this.canvas.frame.appendChild(this.closeDiv)}}_getNewTargetNode(e,r){const n=Ze({},this.options.controlNodeStyle);n.id="targetNode"+gc(),n.hidden=!1,n.physics=!1,n.x=e,n.y=r;const i=this.body.functions.createNode(n);return i.shape.boundingBox={left:e,right:e,top:r,bottom:r},i}_createEditButton(){var e;this._clean(),this.manipulationDOM={},ps(this.editModeDiv);const r=this.options.locales[this.options.locale],n=this._createButton("editMode","vis-edit vis-edit-mode",r.edit||this.options.locales.en.edit);this.editModeDiv.appendChild(n),this._bindElementEvents(n,ee(e=this.toggleEditMode).call(e,this))}_clean(){this.inMode=!1,this.guiEnabled===!0&&(ps(this.editModeDiv),ps(this.manipulationDiv),this._cleanupDOMEventListeners()),this._cleanupTemporaryNodesAndEdges(),this._unbindTemporaryUIs(),this._unbindTemporaryEvents(),this.body.emitter.emit("restorePhysics")}_cleanupDOMEventListeners(){for(const r of Li(e=this._domEventListenerCleanupQueue).call(e,0)){var e;r()}}_removeManipulationDOM(){this._clean(),ps(this.manipulationDiv),ps(this.editModeDiv),ps(this.closeDiv),this.manipulationDiv&&this.canvas.frame.removeChild(this.manipulationDiv),this.editModeDiv&&this.canvas.frame.removeChild(this.editModeDiv),this.closeDiv&&this.canvas.frame.removeChild(this.closeDiv),this.manipulationDiv=void 0,this.editModeDiv=void 0,this.closeDiv=void 0}_createSeperator(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1;this.manipulationDOM["seperatorLineDiv"+e]=document.createElement("div"),this.manipulationDOM["seperatorLineDiv"+e].className="vis-separator-line",this.manipulationDiv.appendChild(this.manipulationDOM["seperatorLineDiv"+e])}_createAddNodeButton(e){var r;const n=this._createButton("addNode","vis-add",e.addNode||this.options.locales.en.addNode);this.manipulationDiv.appendChild(n),this._bindElementEvents(n,ee(r=this.addNodeMode).call(r,this))}_createAddEdgeButton(e){var r;const n=this._createButton("addEdge","vis-connect",e.addEdge||this.options.locales.en.addEdge);this.manipulationDiv.appendChild(n),this._bindElementEvents(n,ee(r=this.addEdgeMode).call(r,this))}_createEditNodeButton(e){var r;const n=this._createButton("editNode","vis-edit",e.editNode||this.options.locales.en.editNode);this.manipulationDiv.appendChild(n),this._bindElementEvents(n,ee(r=this.editNode).call(r,this))}_createEditEdgeButton(e){var r;const n=this._createButton("editEdge","vis-edit",e.editEdge||this.options.locales.en.editEdge);this.manipulationDiv.appendChild(n),this._bindElementEvents(n,ee(r=this.editEdgeMode).call(r,this))}_createDeleteButton(e){var r;let n;this.options.rtl?n="vis-delete-rtl":n="vis-delete";const i=this._createButton("delete",n,e.del||this.options.locales.en.del);this.manipulationDiv.appendChild(i),this._bindElementEvents(i,ee(r=this.deleteSelected).call(r,this))}_createBackButton(e){var r;const n=this._createButton("back","vis-back",e.back||this.options.locales.en.back);this.manipulationDiv.appendChild(n),this._bindElementEvents(n,ee(r=this.showManipulatorToolbar).call(r,this))}_createButton(e,r,n){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"vis-label";return this.manipulationDOM[e+"Div"]=document.createElement("button"),this.manipulationDOM[e+"Div"].className="vis-button "+r,this.manipulationDOM[e+"Label"]=document.createElement("div"),this.manipulationDOM[e+"Label"].className=i,this.manipulationDOM[e+"Label"].innerText=n,this.manipulationDOM[e+"Div"].appendChild(this.manipulationDOM[e+"Label"]),this.manipulationDOM[e+"Div"]}_createDescription(e){this.manipulationDOM.descriptionLabel=document.createElement("div"),this.manipulationDOM.descriptionLabel.className="vis-none",this.manipulationDOM.descriptionLabel.innerText=e,this.manipulationDiv.appendChild(this.manipulationDOM.descriptionLabel)}_temporaryBindEvent(e,r){this.temporaryEventFunctions.push({event:e,boundFunction:r}),this.body.emitter.on(e,r)}_temporaryBindUI(e,r){if(this.body.eventListeners[e]!==void 0)this.temporaryUIFunctions[e]=this.body.eventListeners[e],this.body.eventListeners[e]=r;else throw new Error("This UI function does not exist. Typo? You tried: "+e+" possible are: "+Kd(_t(this.body.eventListeners)))}_unbindTemporaryUIs(){for(const e in this.temporaryUIFunctions)Object.prototype.hasOwnProperty.call(this.temporaryUIFunctions,e)&&(this.body.eventListeners[e]=this.temporaryUIFunctions[e],delete this.temporaryUIFunctions[e]);this.temporaryUIFunctions={}}_unbindTemporaryEvents(){for(let e=0;e<this.temporaryEventFunctions.length;e++){const r=this.temporaryEventFunctions[e].event,n=this.temporaryEventFunctions[e].boundFunction;this.body.emitter.off(r,n)}this.temporaryEventFunctions=[]}_bindElementEvents(e,r){const n=new pl(e,{});Yf(n,r),this._domEventListenerCleanupQueue.push(()=>{n.destroy()});const i=s=>{let{keyCode:o,key:a}=s;(a==="Enter"||a===" "||o===13||o===32)&&r()};e.addEventListener("keyup",i,!1),this._domEventListenerCleanupQueue.push(()=>{e.removeEventListener("keyup",i,!1)})}_cleanupTemporaryNodesAndEdges(){for(let s=0;s<this.temporaryIds.edges.length;s++){var e;this.body.edges[this.temporaryIds.edges[s]].disconnect(),delete this.body.edges[this.temporaryIds.edges[s]];const o=Ue(e=this.body.edgeIndices).call(e,this.temporaryIds.edges[s]);if(o!==-1){var r;Li(r=this.body.edgeIndices).call(r,o,1)}}for(let s=0;s<this.temporaryIds.nodes.length;s++){var n;delete this.body.nodes[this.temporaryIds.nodes[s]];const o=Ue(n=this.body.nodeIndices).call(n,this.temporaryIds.nodes[s]);if(o!==-1){var i;Li(i=this.body.nodeIndices).call(i,o,1)}}this.temporaryIds={nodes:[],edges:[]}}_controlNodeTouch(e){this.selectionHandler.unselectAll(),this.lastTouch=this.body.functions.getPointer(e.center),this.lastTouch.translation=kt({},this.body.view.translation)}_controlNodeDragStart(){const e=this.lastTouch,r=this.selectionHandler._pointerToPositionObject(e),n=this.body.nodes[this.temporaryIds.nodes[0]],i=this.body.nodes[this.temporaryIds.nodes[1]],s=this.body.edges[this.edgeBeingEditedId];this.selectedControlNode=void 0;const o=n.isOverlappingWith(r),a=i.isOverlappingWith(r);o===!0?(this.selectedControlNode=n,s.edgeType.from=n):a===!0&&(this.selectedControlNode=i,s.edgeType.to=i),this.selectedControlNode!==void 0&&this.selectionHandler.selectObject(this.selectedControlNode),this.body.emitter.emit("_redraw")}_controlNodeDrag(e){this.body.emitter.emit("disablePhysics");const r=this.body.functions.getPointer(e.center),n=this.canvas.DOMtoCanvas(r);this.selectedControlNode!==void 0?(this.selectedControlNode.x=n.x,this.selectedControlNode.y=n.y):this.interactionHandler.onDrag(e),this.body.emitter.emit("_redraw")}_controlNodeDragEnd(e){const r=this.body.functions.getPointer(e.center),n=this.selectionHandler._pointerToPositionObject(r),i=this.body.edges[this.edgeBeingEditedId];if(this.selectedControlNode===void 0)return;this.selectionHandler.unselectAll();const s=this.selectionHandler._getAllNodesOverlappingWith(n);let o;for(let a=s.length-1;a>=0;a--)if(s[a]!==this.selectedControlNode.id){o=this.body.nodes[s[a]];break}if(o!==void 0&&this.selectedControlNode!==void 0)if(o.isCluster===!0)alert(this.options.locales[this.options.locale].createEdgeError||this.options.locales.en.createEdgeError);else{const a=this.body.nodes[this.temporaryIds.nodes[0]];this.selectedControlNode.id===a.id?this._performEditEdge(o.id,i.to.id):this._performEditEdge(i.from.id,o.id)}else i.updateEdgeType(),this.body.emitter.emit("restorePhysics");this.body.emitter.emit("_redraw")}_handleConnect(e){if(new Date().valueOf()-this.touchTime>100){this.lastTouch=this.body.functions.getPointer(e.center),this.lastTouch.translation=kt({},this.body.view.translation),this.interactionHandler.drag.pointer=this.lastTouch,this.interactionHandler.drag.translation=this.lastTouch.translation;const r=this.lastTouch,n=this.selectionHandler.getNodeAt(r);if(n!==void 0)if(n.isCluster===!0)alert(this.options.locales[this.options.locale].createEdgeError||this.options.locales.en.createEdgeError);else{const i=this._getNewTargetNode(n.x,n.y);this.body.nodes[i.id]=i,this.body.nodeIndices.push(i.id);const s=this.body.functions.createEdge({id:"connectionEdge"+gc(),from:n.id,to:i.id,physics:!1,smooth:{enabled:!0,type:"continuous",roundness:.5}});this.body.edges[s.id]=s,this.body.edgeIndices.push(s.id),this.temporaryIds.nodes.push(i.id),this.temporaryIds.edges.push(s.id)}this.touchTime=new Date().valueOf()}}_dragControlNode(e){const r=this.body.functions.getPointer(e.center),n=this.selectionHandler._pointerToPositionObject(r);let i;this.temporaryIds.edges[0]!==void 0&&(i=this.body.edges[this.temporaryIds.edges[0]].fromId);const s=this.selectionHandler._getAllNodesOverlappingWith(n);let o;for(let l=s.length-1;l>=0;l--){var a;if(Ue(a=this.temporaryIds.nodes).call(a,s[l])===-1){o=this.body.nodes[s[l]];break}}if(e.controlEdge={from:i,to:o?o.id:void 0},this.selectionHandler.generateClickEvent("controlNodeDragging",e,r),this.temporaryIds.nodes[0]!==void 0){const l=this.body.nodes[this.temporaryIds.nodes[0]];l.x=this.canvas._XconvertDOMtoCanvas(r.x),l.y=this.canvas._YconvertDOMtoCanvas(r.y),this.body.emitter.emit("_redraw")}else this.interactionHandler.onDrag(e)}_finishConnect(e){const r=this.body.functions.getPointer(e.center),n=this.selectionHandler._pointerToPositionObject(r);let i;this.temporaryIds.edges[0]!==void 0&&(i=this.body.edges[this.temporaryIds.edges[0]].fromId);const s=this.selectionHandler._getAllNodesOverlappingWith(n);let o;for(let l=s.length-1;l>=0;l--){var a;if(Ue(a=this.temporaryIds.nodes).call(a,s[l])===-1){o=this.body.nodes[s[l]];break}}this._cleanupTemporaryNodesAndEdges(),o!==void 0&&(o.isCluster===!0?alert(this.options.locales[this.options.locale].createEdgeError||this.options.locales.en.createEdgeError):this.body.nodes[i]!==void 0&&this.body.nodes[o.id]!==void 0&&this._performAddEdge(i,o.id)),e.controlEdge={from:i,to:o?o.id:void 0},this.selectionHandler.generateClickEvent("controlNodeDragEnd",e,r),this.body.emitter.emit("_redraw")}_dragStartEdge(e){const r=this.lastTouch;this.selectionHandler.generateClickEvent("dragStart",e,r,void 0,!0)}_performAddNode(e){const r={id:gc(),x:e.pointer.canvas.x,y:e.pointer.canvas.y,label:"new"};if(typeof this.options.addNode=="function")if(this.options.addNode.length===2)this.options.addNode(r,n=>{n!=null&&this.inMode==="addNode"&&this.body.data.nodes.getDataSet().add(n),this.showManipulatorToolbar()});else throw this.showManipulatorToolbar(),new Error("The function for add does not support two arguments (data,callback)");else this.body.data.nodes.getDataSet().add(r),this.showManipulatorToolbar()}_performAddEdge(e,r){const n={from:e,to:r};if(typeof this.options.addEdge=="function")if(this.options.addEdge.length===2)this.options.addEdge(n,i=>{i!=null&&this.inMode==="addEdge"&&(this.body.data.edges.getDataSet().add(i),this.selectionHandler.unselectAll(),this.showManipulatorToolbar())});else throw new Error("The function for connect does not support two arguments (data,callback)");else this.body.data.edges.getDataSet().add(n),this.selectionHandler.unselectAll(),this.showManipulatorToolbar()}_performEditEdge(e,r){const n={id:this.edgeBeingEditedId,from:e,to:r,label:this.body.data.edges.get(this.edgeBeingEditedId).label};let i=this.options.editEdge;if(typeof i=="object"&&(i=i.editWithoutDrag),typeof i=="function")if(i.length===2)i(n,s=>{s==null||this.inMode!=="editEdge"?(this.body.edges[n.id].updateEdgeType(),this.body.emitter.emit("_redraw"),this.showManipulatorToolbar()):(this.body.data.edges.getDataSet().update(s),this.selectionHandler.unselectAll(),this.showManipulatorToolbar())});else throw new Error("The function for edit does not support two arguments (data, callback)");else this.body.data.edges.getDataSet().update(n),this.selectionHandler.unselectAll(),this.showManipulatorToolbar()}}const se="string",Z="boolean",A="number",tc="array",me="object",oY="dom",obe="any",uO=["arrow","bar","box","circle","crow","curve","diamond","image","inv_curve","inv_triangle","triangle","vee"],cO={borderWidth:{number:A},borderWidthSelected:{number:A,undefined:"undefined"},brokenImage:{string:se,undefined:"undefined"},chosen:{label:{boolean:Z,function:"function"},node:{boolean:Z,function:"function"},__type__:{object:me,boolean:Z}},color:{border:{string:se},background:{string:se},highlight:{border:{string:se},background:{string:se},__type__:{object:me,string:se}},hover:{border:{string:se},background:{string:se},__type__:{object:me,string:se}},__type__:{object:me,string:se}},opacity:{number:A,undefined:"undefined"},fixed:{x:{boolean:Z},y:{boolean:Z},__type__:{object:me,boolean:Z}},font:{align:{string:se},color:{string:se},size:{number:A},face:{string:se},background:{string:se},strokeWidth:{number:A},strokeColor:{string:se},vadjust:{number:A},multi:{boolean:Z,string:se},bold:{color:{string:se},size:{number:A},face:{string:se},mod:{string:se},vadjust:{number:A},__type__:{object:me,string:se}},boldital:{color:{string:se},size:{number:A},face:{string:se},mod:{string:se},vadjust:{number:A},__type__:{object:me,string:se}},ital:{color:{string:se},size:{number:A},face:{string:se},mod:{string:se},vadjust:{number:A},__type__:{object:me,string:se}},mono:{color:{string:se},size:{number:A},face:{string:se},mod:{string:se},vadjust:{number:A},__type__:{object:me,string:se}},__type__:{object:me,string:se}},group:{string:se,number:A,undefined:"undefined"},heightConstraint:{minimum:{number:A},valign:{string:se},__type__:{object:me,boolean:Z,number:A}},hidden:{boolean:Z},icon:{face:{string:se},code:{string:se},size:{number:A},color:{string:se},weight:{string:se,number:A},__type__:{object:me}},id:{string:se,number:A},image:{selected:{string:se,undefined:"undefined"},unselected:{string:se,undefined:"undefined"},__type__:{object:me,string:se}},imagePadding:{top:{number:A},right:{number:A},bottom:{number:A},left:{number:A},__type__:{object:me,number:A}},label:{string:se,undefined:"undefined"},labelHighlightBold:{boolean:Z},level:{number:A,undefined:"undefined"},margin:{top:{number:A},right:{number:A},bottom:{number:A},left:{number:A},__type__:{object:me,number:A}},mass:{number:A},physics:{boolean:Z},scaling:{min:{number:A},max:{number:A},label:{enabled:{boolean:Z},min:{number:A},max:{number:A},maxVisible:{number:A},drawThreshold:{number:A},__type__:{object:me,boolean:Z}},customScalingFunction:{function:"function"},__type__:{object:me}},shadow:{enabled:{boolean:Z},color:{string:se},size:{number:A},x:{number:A},y:{number:A},__type__:{object:me,boolean:Z}},shape:{string:["custom","ellipse","circle","database","box","text","image","circularImage","diamond","dot","star","triangle","triangleDown","square","icon","hexagon"]},ctxRenderer:{function:"function"},shapeProperties:{borderDashes:{boolean:Z,array:tc},borderRadius:{number:A},interpolation:{boolean:Z},useImageSize:{boolean:Z},useBorderWithImage:{boolean:Z},coordinateOrigin:{string:["center","top-left"]},__type__:{object:me}},size:{number:A},title:{string:se,dom:oY,undefined:"undefined"},value:{number:A,undefined:"undefined"},widthConstraint:{minimum:{number:A},maximum:{number:A},__type__:{object:me,boolean:Z,number:A}},x:{number:A},y:{number:A},__type__:{object:me}},abe={configure:{enabled:{boolean:Z},filter:{boolean:Z,string:se,array:tc,function:"function"},container:{dom:oY},showButton:{boolean:Z},__type__:{object:me,boolean:Z,string:se,array:tc,function:"function"}},edges:{arrows:{to:{enabled:{boolean:Z},scaleFactor:{number:A},type:{string:uO},imageHeight:{number:A},imageWidth:{number:A},src:{string:se},__type__:{object:me,boolean:Z}},middle:{enabled:{boolean:Z},scaleFactor:{number:A},type:{string:uO},imageWidth:{number:A},imageHeight:{number:A},src:{string:se},__type__:{object:me,boolean:Z}},from:{enabled:{boolean:Z},scaleFactor:{number:A},type:{string:uO},imageWidth:{number:A},imageHeight:{number:A},src:{string:se},__type__:{object:me,boolean:Z}},__type__:{string:["from","to","middle"],object:me}},endPointOffset:{from:{number:A},to:{number:A},__type__:{object:me,number:A}},arrowStrikethrough:{boolean:Z},background:{enabled:{boolean:Z},color:{string:se},size:{number:A},dashes:{boolean:Z,array:tc},__type__:{object:me,boolean:Z}},chosen:{label:{boolean:Z,function:"function"},edge:{boolean:Z,function:"function"},__type__:{object:me,boolean:Z}},color:{color:{string:se},highlight:{string:se},hover:{string:se},inherit:{string:["from","to","both"],boolean:Z},opacity:{number:A},__type__:{object:me,string:se}},dashes:{boolean:Z,array:tc},font:{color:{string:se},size:{number:A},face:{string:se},background:{string:se},strokeWidth:{number:A},strokeColor:{string:se},align:{string:["horizontal","top","middle","bottom"]},vadjust:{number:A},multi:{boolean:Z,string:se},bold:{color:{string:se},size:{number:A},face:{string:se},mod:{string:se},vadjust:{number:A},__type__:{object:me,string:se}},boldital:{color:{string:se},size:{number:A},face:{string:se},mod:{string:se},vadjust:{number:A},__type__:{object:me,string:se}},ital:{color:{string:se},size:{number:A},face:{string:se},mod:{string:se},vadjust:{number:A},__type__:{object:me,string:se}},mono:{color:{string:se},size:{number:A},face:{string:se},mod:{string:se},vadjust:{number:A},__type__:{object:me,string:se}},__type__:{object:me,string:se}},hidden:{boolean:Z},hoverWidth:{function:"function",number:A},label:{string:se,undefined:"undefined"},labelHighlightBold:{boolean:Z},length:{number:A,undefined:"undefined"},physics:{boolean:Z},scaling:{min:{number:A},max:{number:A},label:{enabled:{boolean:Z},min:{number:A},max:{number:A},maxVisible:{number:A},drawThreshold:{number:A},__type__:{object:me,boolean:Z}},customScalingFunction:{function:"function"},__type__:{object:me}},selectionWidth:{function:"function",number:A},selfReferenceSize:{number:A},selfReference:{size:{number:A},angle:{number:A},renderBehindTheNode:{boolean:Z},__type__:{object:me}},shadow:{enabled:{boolean:Z},color:{string:se},size:{number:A},x:{number:A},y:{number:A},__type__:{object:me,boolean:Z}},smooth:{enabled:{boolean:Z},type:{string:["dynamic","continuous","discrete","diagonalCross","straightCross","horizontal","vertical","curvedCW","curvedCCW","cubicBezier"]},roundness:{number:A},forceDirection:{string:["horizontal","vertical","none"],boolean:Z},__type__:{object:me,boolean:Z}},title:{string:se,undefined:"undefined"},width:{number:A},widthConstraint:{maximum:{number:A},__type__:{object:me,boolean:Z,number:A}},value:{number:A,undefined:"undefined"},__type__:{object:me}},groups:{useDefaultGroups:{boolean:Z},__any__:cO,__type__:{object:me}},interaction:{dragNodes:{boolean:Z},dragView:{boolean:Z},hideEdgesOnDrag:{boolean:Z},hideEdgesOnZoom:{boolean:Z},hideNodesOnDrag:{boolean:Z},hover:{boolean:Z},keyboard:{enabled:{boolean:Z},speed:{x:{number:A},y:{number:A},zoom:{number:A},__type__:{object:me}},bindToWindow:{boolean:Z},autoFocus:{boolean:Z},__type__:{object:me,boolean:Z}},multiselect:{boolean:Z},navigationButtons:{boolean:Z},selectable:{boolean:Z},selectConnectedEdges:{boolean:Z},hoverConnectedEdges:{boolean:Z},tooltipDelay:{number:A},zoomView:{boolean:Z},zoomSpeed:{number:A},__type__:{object:me}},layout:{randomSeed:{undefined:"undefined",number:A,string:se},improvedLayout:{boolean:Z},clusterThreshold:{number:A},hierarchical:{enabled:{boolean:Z},levelSeparation:{number:A},nodeSpacing:{number:A},treeSpacing:{number:A},blockShifting:{boolean:Z},edgeMinimization:{boolean:Z},parentCentralization:{boolean:Z},direction:{string:["UD","DU","LR","RL"]},sortMethod:{string:["hubsize","directed"]},shakeTowards:{string:["leaves","roots"]},__type__:{object:me,boolean:Z}},__type__:{object:me}},manipulation:{enabled:{boolean:Z},initiallyActive:{boolean:Z},addNode:{boolean:Z,function:"function"},addEdge:{boolean:Z,function:"function"},editNode:{function:"function"},editEdge:{editWithoutDrag:{function:"function"},__type__:{object:me,boolean:Z,function:"function"}},deleteNode:{boolean:Z,function:"function"},deleteEdge:{boolean:Z,function:"function"},controlNodeStyle:cO,__type__:{object:me,boolean:Z}},nodes:cO,physics:{enabled:{boolean:Z},barnesHut:{theta:{number:A},gravitationalConstant:{number:A},centralGravity:{number:A},springLength:{number:A},springConstant:{number:A},damping:{number:A},avoidOverlap:{number:A},__type__:{object:me}},forceAtlas2Based:{theta:{number:A},gravitationalConstant:{number:A},centralGravity:{number:A},springLength:{number:A},springConstant:{number:A},damping:{number:A},avoidOverlap:{number:A},__type__:{object:me}},repulsion:{centralGravity:{number:A},springLength:{number:A},springConstant:{number:A},nodeDistance:{number:A},damping:{number:A},__type__:{object:me}},hierarchicalRepulsion:{centralGravity:{number:A},springLength:{number:A},springConstant:{number:A},nodeDistance:{number:A},damping:{number:A},avoidOverlap:{number:A},__type__:{object:me}},maxVelocity:{number:A},minVelocity:{number:A},solver:{string:["barnesHut","repulsion","hierarchicalRepulsion","forceAtlas2Based"]},stabilization:{enabled:{boolean:Z},iterations:{number:A},updateInterval:{number:A},onlyDynamicEdges:{boolean:Z},fit:{boolean:Z},__type__:{object:me,boolean:Z}},timestep:{number:A},adaptiveTimestep:{boolean:Z},wind:{x:{number:A},y:{number:A},__type__:{object:me}},__type__:{object:me,boolean:Z}},autoResize:{boolean:Z},clickToUse:{boolean:Z},locale:{string:se},locales:{__any__:{any:obe},__type__:{object:me}},height:{string:se},width:{string:se},__type__:{object:me}},aY={nodes:{borderWidth:[1,0,10,1],borderWidthSelected:[2,0,10,1],color:{border:["color","#2B7CE9"],background:["color","#97C2FC"],highlight:{border:["color","#2B7CE9"],background:["color","#D2E5FF"]},hover:{border:["color","#2B7CE9"],background:["color","#D2E5FF"]}},opacity:[0,0,1,.1],fixed:{x:!1,y:!1},font:{color:["color","#343434"],size:[14,0,100,1],face:["arial","verdana","tahoma"],background:["color","none"],strokeWidth:[0,0,50,1],strokeColor:["color","#ffffff"]},hidden:!1,labelHighlightBold:!0,physics:!0,scaling:{min:[10,0,200,1],max:[30,0,200,1],label:{enabled:!1,min:[14,0,200,1],max:[30,0,200,1],maxVisible:[30,0,200,1],drawThreshold:[5,0,20,1]}},shadow:{enabled:!1,color:"rgba(0,0,0,0.5)",size:[10,0,20,1],x:[5,-30,30,1],y:[5,-30,30,1]},shape:["ellipse","box","circle","database","diamond","dot","square","star","text","triangle","triangleDown","hexagon"],shapeProperties:{borderDashes:!1,borderRadius:[6,0,20,1],interpolation:!0,useImageSize:!1},size:[25,0,200,1]},edges:{arrows:{to:{enabled:!1,scaleFactor:[1,0,3,.05],type:"arrow"},middle:{enabled:!1,scaleFactor:[1,0,3,.05],type:"arrow"},from:{enabled:!1,scaleFactor:[1,0,3,.05],type:"arrow"}},endPointOffset:{from:[0,-10,10,1],to:[0,-10,10,1]},arrowStrikethrough:!0,color:{color:["color","#848484"],highlight:["color","#848484"],hover:["color","#848484"],inherit:["from","to","both",!0,!1],opacity:[1,0,1,.05]},dashes:!1,font:{color:["color","#343434"],size:[14,0,100,1],face:["arial","verdana","tahoma"],background:["color","none"],strokeWidth:[2,0,50,1],strokeColor:["color","#ffffff"],align:["horizontal","top","middle","bottom"]},hidden:!1,hoverWidth:[1.5,0,5,.1],labelHighlightBold:!0,physics:!0,scaling:{min:[1,0,100,1],max:[15,0,100,1],label:{enabled:!0,min:[14,0,200,1],max:[30,0,200,1],maxVisible:[30,0,200,1],drawThreshold:[5,0,20,1]}},selectionWidth:[1.5,0,5,.1],selfReferenceSize:[20,0,200,1],selfReference:{size:[20,0,200,1],angle:[Math.PI/2,-6*Math.PI,6*Math.PI,Math.PI/8],renderBehindTheNode:!0},shadow:{enabled:!1,color:"rgba(0,0,0,0.5)",size:[10,0,20,1],x:[5,-30,30,1],y:[5,-30,30,1]},smooth:{enabled:!0,type:["dynamic","continuous","discrete","diagonalCross","straightCross","horizontal","vertical","curvedCW","curvedCCW","cubicBezier"],forceDirection:["horizontal","vertical","none"],roundness:[.5,0,1,.05]},width:[1,0,30,1]},layout:{hierarchical:{enabled:!1,levelSeparation:[150,20,500,5],nodeSpacing:[100,20,500,5],treeSpacing:[200,20,500,5],blockShifting:!0,edgeMinimization:!0,parentCentralization:!0,direction:["UD","DU","LR","RL"],sortMethod:["hubsize","directed"],shakeTowards:["leaves","roots"]}},interaction:{dragNodes:!0,dragView:!0,hideEdgesOnDrag:!1,hideEdgesOnZoom:!1,hideNodesOnDrag:!1,hover:!1,keyboard:{enabled:!1,speed:{x:[10,0,40,1],y:[10,0,40,1],zoom:[.02,0,.1,.005]},bindToWindow:!0,autoFocus:!0},multiselect:!1,navigationButtons:!1,selectable:!0,selectConnectedEdges:!0,hoverConnectedEdges:!0,tooltipDelay:[300,0,1e3,25],zoomView:!0,zoomSpeed:[1,.1,2,.1]},manipulation:{enabled:!1,initiallyActive:!1},physics:{enabled:!0,barnesHut:{theta:[.5,.1,1,.05],gravitationalConstant:[-2e3,-3e4,0,50],centralGravity:[.3,0,10,.05],springLength:[95,0,500,5],springConstant:[.04,0,1.2,.005],damping:[.09,0,1,.01],avoidOverlap:[0,0,1,.01]},forceAtlas2Based:{theta:[.5,.1,1,.05],gravitationalConstant:[-50,-500,0,1],centralGravity:[.01,0,1,.005],springLength:[95,0,500,5],springConstant:[.08,0,1.2,.005],damping:[.4,0,1,.01],avoidOverlap:[0,0,1,.01]},repulsion:{centralGravity:[.2,0,10,.05],springLength:[200,0,500,5],springConstant:[.05,0,1.2,.005],nodeDistance:[100,0,500,5],damping:[.09,0,1,.01]},hierarchicalRepulsion:{centralGravity:[.2,0,10,.05],springLength:[100,0,500,5],springConstant:[.01,0,1.2,.005],nodeDistance:[120,0,500,5],damping:[.09,0,1,.01],avoidOverlap:[0,0,1,.01]},maxVelocity:[50,0,150,1],minVelocity:[.1,.01,.5,.01],solver:["barnesHut","forceAtlas2Based","repulsion","hierarchicalRepulsion"],timestep:[.5,.01,1,.01],wind:{x:[0,-10,10,.1],y:[0,-10,10,.1]}}},lbe=(t,e,r)=>{var n;return!!(Hs(t).call(t,"physics")&&Hs(n=aY.physics.solver).call(n,e)&&r.physics.solver!==e&&e!=="wind")};class ube{constructor(){}getDistances(e,r,n){const i={},s=e.edges;for(let a=0;a<r.length;a++){const l=r[a],u={};i[l]=u;for(let c=0;c<r.length;c++)u[r[c]]=a==c?0:1e9}for(let a=0;a<n.length;a++){const l=s[n[a]];l.connected===!0&&i[l.fromId]!==void 0&&i[l.toId]!==void 0&&(i[l.fromId][l.toId]=1,i[l.toId][l.fromId]=1)}const o=r.length;for(let a=0;a<o;a++){const l=r[a],u=i[l];for(let c=0;c<o-1;c++){const d=r[c],f=i[d];for(let p=c+1;p<o;p++){const m=r[p],g=i[m],b=Math.min(f[m],f[l]+u[m]);f[m]=b,g[d]=b}}}return i}}class cbe{constructor(e,r,n){this.body=e,this.springLength=r,this.springConstant=n,this.distanceSolver=new ube}setOptions(e){e&&(e.springLength&&(this.springLength=e.springLength),e.springConstant&&(this.springConstant=e.springConstant))}solve(e,r){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;const i=this.distanceSolver.getDistances(this.body,e,r);this._createL_matrix(i),this._createK_matrix(i),this._createE_matrix();const s=.01,o=1;let a=0;const l=Math.max(1e3,Math.min(10*this.body.nodeIndices.length,6e3)),u=5;let c=1e9,d=0,f=0,p=0,m=0,g=0;for(;c>s&&a<l;)for(a+=1,[d,c,f,p]=this._getHighestEnergyNode(n),m=c,g=0;m>o&&g<u;)g+=1,this._moveNode(d,f,p),[m,f,p]=this._getEnergy(d)}_getHighestEnergyNode(e){const r=this.body.nodeIndices,n=this.body.nodes;let i=0,s=r[0],o=0,a=0;for(let l=0;l<r.length;l++){const u=r[l];if(n[u].predefinedPosition!==!0||n[u].isCluster===!0&&e===!0||n[u].options.fixed.x!==!0||n[u].options.fixed.y!==!0){const[c,d,f]=this._getEnergy(u);i<c&&(i=c,s=u,o=d,a=f)}}return[s,i,o,a]}_getEnergy(e){const[r,n]=this.E_sums[e];return[Math.sqrt(r**2+n**2),r,n]}_moveNode(e,r,n){const i=this.body.nodeIndices,s=this.body.nodes;let o=0,a=0,l=0;const u=s[e].x,c=s[e].y,d=this.K_matrix[e],f=this.L_matrix[e];for(let w=0;w<i.length;w++){const _=i[w];if(_!==e){const E=s[_].x,O=s[_].y,S=d[_],T=f[_],P=1/((u-E)**2+(c-O)**2)**1.5;o+=S*(1-T*(c-O)**2*P),a+=S*(T*(u-E)*(c-O)*P),l+=S*(1-T*(u-E)**2*P)}}const p=o,m=a,g=r,b=l,y=n,v=(g/p+y/m)/(m/p-b/m),x=-(m*v+g)/p;s[e].x+=x,s[e].y+=v,this._updateE_matrix(e)}_createL_matrix(e){const r=this.body.nodeIndices,n=this.springLength;this.L_matrix=[];for(let i=0;i<r.length;i++){this.L_matrix[r[i]]={};for(let s=0;s<r.length;s++)this.L_matrix[r[i]][r[s]]=n*e[r[i]][r[s]]}}_createK_matrix(e){const r=this.body.nodeIndices,n=this.springConstant;this.K_matrix=[];for(let i=0;i<r.length;i++){this.K_matrix[r[i]]={};for(let s=0;s<r.length;s++)this.K_matrix[r[i]][r[s]]=n*e[r[i]][r[s]]**-2}}_createE_matrix(){const e=this.body.nodeIndices,r=this.body.nodes;this.E_matrix={},this.E_sums={};for(let n=0;n<e.length;n++)this.E_matrix[e[n]]=[];for(let n=0;n<e.length;n++){const i=e[n],s=r[i].x,o=r[i].y;let a=0,l=0;for(let u=n;u<e.length;u++){const c=e[u];if(c!==i){const d=r[c].x,f=r[c].y,p=1/Math.sqrt((s-d)**2+(o-f)**2);this.E_matrix[i][u]=[this.K_matrix[i][c]*(s-d-this.L_matrix[i][c]*(s-d)*p),this.K_matrix[i][c]*(o-f-this.L_matrix[i][c]*(o-f)*p)],this.E_matrix[c][n]=this.E_matrix[i][u],a+=this.E_matrix[i][u][0],l+=this.E_matrix[i][u][1]}}this.E_sums[i]=[a,l]}}_updateE_matrix(e){const r=this.body.nodeIndices,n=this.body.nodes,i=this.E_matrix[e],s=this.K_matrix[e],o=this.L_matrix[e],a=n[e].x,l=n[e].y;let u=0,c=0;for(let d=0;d<r.length;d++){const f=r[d];if(f!==e){const p=i[d],m=p[0],g=p[1],b=n[f].x,y=n[f].y,v=1/Math.sqrt((a-b)**2+(l-y)**2),x=s[f]*(a-b-o[f]*(a-b)*v),w=s[f]*(l-y-o[f]*(l-y)*v);i[d]=[x,w],u+=x,c+=w;const _=this.E_sums[f];_[0]+=x-m,_[1]+=w-g}}this.E_sums[e]=[u,c]}}function he(t,e,r){var n,i,s,o;if(!(this instanceof he))throw new SyntaxError("Constructor must be called with the new operator");this.options={},this.defaultOptions={locale:"en",locales:kpe,clickToUse:!1},kt(this.options,this.defaultOptions),this.body={container:t,nodes:{},nodeIndices:[],edges:{},edgeIndices:[],emitter:{on:ee(n=this.on).call(n,this),off:ee(i=this.off).call(i,this),emit:ee(s=this.emit).call(s,this),once:ee(o=this.once).call(o,this)},eventListeners:{onTap:function(){},onTouch:function(){},onDoubleTap:function(){},onHold:function(){},onDragStart:function(){},onDrag:function(){},onDragEnd:function(){},onMouseWheel:function(){},onPinch:function(){},onMouseMove:function(){},onRelease:function(){},onContext:function(){}},data:{nodes:null,edges:null},functions:{createNode:function(){},createEdge:function(){},getPointer:function(){}},modules:{},view:{scale:1,translation:{x:0,y:0}},selectionBox:{show:!1,position:{start:{x:0,y:0},end:{x:0,y:0}}}},this.bindEventListeners(),this.images=new Mpe(()=>this.body.emitter.emit("_requestRedraw")),this.groups=new Jpe,this.canvas=new Vye(this.body),this.selectionHandler=new Tge(this.body,this.canvas),this.interactionHandler=new Qye(this.body,this.canvas,this.selectionHandler),this.view=new Gye(this.body,this.canvas),this.renderer=new Bye(this.body,this.canvas),this.physics=new jye(this.body),this.layoutEngine=new ibe(this.body),this.clustering=new Lye(this.body),this.manipulation=new sbe(this.body,this.canvas,this.selectionHandler,this.interactionHandler),this.nodesHandler=new aye(this.body,this.images,this.groups,this.layoutEngine),this.edgesHandler=new Tye(this.body,this.images,this.groups),this.body.modules.kamadaKawai=new cbe(this.body,150,.05),this.body.modules.clustering=this.clustering,this.canvas._create(),this.setOptions(r),this.setData(e)}M9(he.prototype);he.prototype.setOptions=function(t){if(t===null&&(t=void 0),t!==void 0){if(dpe.validate(t,abe)===!0&&console.error("%cErrors have been found in the supplied options object.",$G),$u(["locale","locales","clickToUse"],this.options,t),t.locale!==void 0&&(t.locale=Dpe(t.locales||this.options.locales,t.locale)),t=this.layoutEngine.setOptions(t.layout,t),this.canvas.setOptions(t),this.groups.setOptions(t.groups),this.nodesHandler.setOptions(t.nodes),this.edgesHandler.setOptions(t.edges),this.physics.setOptions(t.physics),this.manipulation.setOptions(t.manipulation,t,this.options),this.interactionHandler.setOptions(t.interaction),this.renderer.setOptions(t.interaction),this.selectionHandler.setOptions(t.interaction),t.groups!==void 0&&this.body.emitter.emit("refreshNodes"),"configure"in t&&(this.configurator||(this.configurator=new upe(this,this.body.container,aY,this.canvas.pixelRatio,lbe)),this.configurator.setOptions(t.configure)),this.configurator&&this.configurator.options.enabled===!0){const n={nodes:{},edges:{},layout:{},interaction:{},manipulation:{},physics:{},global:{}};Ze(n.nodes,this.nodesHandler.options),Ze(n.edges,this.edgesHandler.options),Ze(n.layout,this.layoutEngine.options),Ze(n.interaction,this.selectionHandler.options),Ze(n.interaction,this.renderer.options),Ze(n.interaction,this.interactionHandler.options),Ze(n.manipulation,this.manipulation.options),Ze(n.physics,this.physics.options),Ze(n.global,this.canvas.options),Ze(n.global,this.options),this.configurator.setModuleOptions(n)}t.clickToUse!==void 0?t.clickToUse===!0?this.activator===void 0&&(this.activator=new lpe(this.canvas.frame),this.activator.on("change",()=>{this.body.emitter.emit("activate")})):(this.activator!==void 0&&(this.activator.destroy(),delete this.activator),this.body.emitter.emit("activate")):this.body.emitter.emit("activate"),this.canvas.setSize(),this.body.emitter.emit("startSimulation")}};he.prototype._updateVisibleIndices=function(){const t=this.body.nodes,e=this.body.edges;this.body.nodeIndices=[],this.body.edgeIndices=[];for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&!this.clustering._isClusteredNode(r)&&t[r].options.hidden===!1&&this.body.nodeIndices.push(t[r].id);for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)){const n=e[r],i=t[n.fromId],s=t[n.toId],o=i!==void 0&&s!==void 0;!this.clustering._isClusteredEdge(r)&&n.options.hidden===!1&&o&&i.options.hidden===!1&&s.options.hidden===!1&&this.body.edgeIndices.push(n.id)}};he.prototype.bindEventListeners=function(){this.body.emitter.on("_dataChanged",()=>{this.edgesHandler._updateState(),this.body.emitter.emit("_dataUpdated")}),this.body.emitter.on("_dataUpdated",()=>{this.clustering._updateState(),this._updateVisibleIndices(),this._updateValueRange(this.body.nodes),this._updateValueRange(this.body.edges),this.body.emitter.emit("startSimulation"),this.body.emitter.emit("_requestRedraw")})};he.prototype.setData=function(t){if(this.body.emitter.emit("resetPhysics"),this.body.emitter.emit("_resetData"),this.selectionHandler.unselectAll(),t&&t.dot&&(t.nodes||t.edges))throw new SyntaxError('Data must contain either parameter "dot" or  parameter pair "nodes" and "edges", but not both.');if(this.setOptions(t&&t.options),t&&t.dot){console.warn("The dot property has been deprecated. Please use the static convertDot method to convert DOT into vis.network format and use the normal data format with nodes and edges. This converter is used like this: var data = vis.network.convertDot(dotString);");const e=xpe(t.dot);this.setData(e);return}else if(t&&t.gephi){console.warn("The gephi property has been deprecated. Please use the static convertGephi method to convert gephi into vis.network format and use the normal data format with nodes and edges. This converter is used like this: var data = vis.network.convertGephi(gephiJson);");const e=_pe(t.gephi);this.setData(e);return}else this.nodesHandler.setData(t&&t.nodes,!0),this.edgesHandler.setData(t&&t.edges,!0);this.body.emitter.emit("_dataChanged"),this.body.emitter.emit("_dataLoaded"),this.body.emitter.emit("initPhysics")};he.prototype.destroy=function(){this.body.emitter.emit("destroy"),this.body.emitter.off(),this.off(),delete this.groups,delete this.canvas,delete this.selectionHandler,delete this.interactionHandler,delete this.view,delete this.renderer,delete this.physics,delete this.layoutEngine,delete this.clustering,delete this.manipulation,delete this.nodesHandler,delete this.edgesHandler,delete this.configurator,delete this.images;for(const t in this.body.nodes)Object.prototype.hasOwnProperty.call(this.body.nodes,t)&&delete this.body.nodes[t];for(const t in this.body.edges)Object.prototype.hasOwnProperty.call(this.body.edges,t)&&delete this.body.edges[t];ps(this.body.container)};he.prototype._updateValueRange=function(t){let e,r,n,i=0;for(e in t)if(Object.prototype.hasOwnProperty.call(t,e)){const s=t[e].getValue();s!==void 0&&(r=r===void 0?s:Math.min(s,r),n=n===void 0?s:Math.max(s,n),i+=s)}if(r!==void 0&&n!==void 0)for(e in t)Object.prototype.hasOwnProperty.call(t,e)&&t[e].setValueRange(r,n,i)};he.prototype.isActive=function(){return!this.activator||this.activator.active};he.prototype.setSize=function(){return this.canvas.setSize.apply(this.canvas,arguments)};he.prototype.canvasToDOM=function(){return this.canvas.canvasToDOM.apply(this.canvas,arguments)};he.prototype.DOMtoCanvas=function(){return this.canvas.DOMtoCanvas.apply(this.canvas,arguments)};he.prototype.findNode=function(){return this.clustering.findNode.apply(this.clustering,arguments)};he.prototype.isCluster=function(){return this.clustering.isCluster.apply(this.clustering,arguments)};he.prototype.openCluster=function(){return this.clustering.openCluster.apply(this.clustering,arguments)};he.prototype.cluster=function(){return this.clustering.cluster.apply(this.clustering,arguments)};he.prototype.getNodesInCluster=function(){return this.clustering.getNodesInCluster.apply(this.clustering,arguments)};he.prototype.clusterByConnection=function(){return this.clustering.clusterByConnection.apply(this.clustering,arguments)};he.prototype.clusterByHubsize=function(){return this.clustering.clusterByHubsize.apply(this.clustering,arguments)};he.prototype.updateClusteredNode=function(){return this.clustering.updateClusteredNode.apply(this.clustering,arguments)};he.prototype.getClusteredEdges=function(){return this.clustering.getClusteredEdges.apply(this.clustering,arguments)};he.prototype.getBaseEdge=function(){return this.clustering.getBaseEdge.apply(this.clustering,arguments)};he.prototype.getBaseEdges=function(){return this.clustering.getBaseEdges.apply(this.clustering,arguments)};he.prototype.updateEdge=function(){return this.clustering.updateEdge.apply(this.clustering,arguments)};he.prototype.clusterOutliers=function(){return this.clustering.clusterOutliers.apply(this.clustering,arguments)};he.prototype.getSeed=function(){return this.layoutEngine.getSeed.apply(this.layoutEngine,arguments)};he.prototype.enableEditMode=function(){return this.manipulation.enableEditMode.apply(this.manipulation,arguments)};he.prototype.disableEditMode=function(){return this.manipulation.disableEditMode.apply(this.manipulation,arguments)};he.prototype.addNodeMode=function(){return this.manipulation.addNodeMode.apply(this.manipulation,arguments)};he.prototype.editNode=function(){return this.manipulation.editNode.apply(this.manipulation,arguments)};he.prototype.editNodeMode=function(){return console.warn("Deprecated: Please use editNode instead of editNodeMode."),this.manipulation.editNode.apply(this.manipulation,arguments)};he.prototype.addEdgeMode=function(){return this.manipulation.addEdgeMode.apply(this.manipulation,arguments)};he.prototype.editEdgeMode=function(){return this.manipulation.editEdgeMode.apply(this.manipulation,arguments)};he.prototype.deleteSelected=function(){return this.manipulation.deleteSelected.apply(this.manipulation,arguments)};he.prototype.getPositions=function(){return this.nodesHandler.getPositions.apply(this.nodesHandler,arguments)};he.prototype.getPosition=function(){return this.nodesHandler.getPosition.apply(this.nodesHandler,arguments)};he.prototype.storePositions=function(){return this.nodesHandler.storePositions.apply(this.nodesHandler,arguments)};he.prototype.moveNode=function(){return this.nodesHandler.moveNode.apply(this.nodesHandler,arguments)};he.prototype.getBoundingBox=function(){return this.nodesHandler.getBoundingBox.apply(this.nodesHandler,arguments)};he.prototype.getConnectedNodes=function(t){return this.body.nodes[t]!==void 0?this.nodesHandler.getConnectedNodes.apply(this.nodesHandler,arguments):this.edgesHandler.getConnectedNodes.apply(this.edgesHandler,arguments)};he.prototype.getConnectedEdges=function(){return this.nodesHandler.getConnectedEdges.apply(this.nodesHandler,arguments)};he.prototype.startSimulation=function(){return this.physics.startSimulation.apply(this.physics,arguments)};he.prototype.stopSimulation=function(){return this.physics.stopSimulation.apply(this.physics,arguments)};he.prototype.stabilize=function(){return this.physics.stabilize.apply(this.physics,arguments)};he.prototype.getSelection=function(){return this.selectionHandler.getSelection.apply(this.selectionHandler,arguments)};he.prototype.setSelection=function(){return this.selectionHandler.setSelection.apply(this.selectionHandler,arguments)};he.prototype.getSelectedNodes=function(){return this.selectionHandler.getSelectedNodeIds.apply(this.selectionHandler,arguments)};he.prototype.getSelectedEdges=function(){return this.selectionHandler.getSelectedEdgeIds.apply(this.selectionHandler,arguments)};he.prototype.getNodeAt=function(){const t=this.selectionHandler.getNodeAt.apply(this.selectionHandler,arguments);return t!==void 0&&t.id!==void 0?t.id:t};he.prototype.getEdgeAt=function(){const t=this.selectionHandler.getEdgeAt.apply(this.selectionHandler,arguments);return t!==void 0&&t.id!==void 0?t.id:t};he.prototype.selectNodes=function(){return this.selectionHandler.selectNodes.apply(this.selectionHandler,arguments)};he.prototype.selectEdges=function(){return this.selectionHandler.selectEdges.apply(this.selectionHandler,arguments)};he.prototype.unselectAll=function(){this.selectionHandler.unselectAll.apply(this.selectionHandler,arguments),this.selectionHandler.commitWithoutEmitting.apply(this.selectionHandler),this.redraw()};he.prototype.redraw=function(){return this.renderer.redraw.apply(this.renderer,arguments)};he.prototype.getScale=function(){return this.view.getScale.apply(this.view,arguments)};he.prototype.getViewPosition=function(){return this.view.getViewPosition.apply(this.view,arguments)};he.prototype.fit=function(){return this.view.fit.apply(this.view,arguments)};he.prototype.moveTo=function(){return this.view.moveTo.apply(this.view,arguments)};he.prototype.focus=function(){return this.view.focus.apply(this.view,arguments)};he.prototype.releaseNode=function(){return this.view.releaseNode.apply(this.view,arguments)};he.prototype.getOptionsFromConfigurator=function(){let t={};return this.configurator&&(t=this.configurator.getOptions.apply(this.configurator)),t};function dbe({graphData:t,startPersonId:e,onNodeClick:r}){const n=j.useRef(null),i=j.useRef(null),s=en(),o=j.useCallback(c=>{r?r(c):s(`/people/${c}`)},[r,s]);j.useEffect(()=>{if(!n.current||!t||!t.nodes||t.nodes.length===0)return;const c=new Hl(t.nodes),d=new Hl(t.edges),f={layout:{hierarchical:{enabled:!0,direction:"UD",sortMethod:"directed",levelSeparation:180,nodeSpacing:200,treeSpacing:250,blockShifting:!0,edgeMinimization:!0,parentCentralization:!0}},nodes:{shape:"box",margin:10,font:{size:14,face:'system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif',color:"#1f2937"},color:{border:"#d1d5db",background:"#ffffff",highlight:{border:"#f59e0b",background:"#fef3c7"},hover:{border:"#9ca3af",background:"#f9fafb"}},borderWidth:2,borderWidthSelected:3,shadow:{enabled:!0,color:"rgba(0,0,0,0.1)",size:5,x:0,y:2}},edges:{color:{color:"#9ca3af",highlight:"#6b7280",hover:"#6b7280"},width:2,smooth:{enabled:!0,type:"cubicBezier",forceDirection:"vertical",roundness:.4},arrows:{to:{enabled:!1}}},physics:{enabled:!1},interaction:{hover:!0,tooltipDelay:200,zoomView:!0,dragView:!0,dragNodes:!1,navigationButtons:!1,keyboard:{enabled:!0,bindToWindow:!1}}},p=new he(n.current,{nodes:c,edges:d},f);return i.current=p,p.on("click",m=>{if(m.nodes.length>0){const g=m.nodes[0];o(g)}}),p.on("doubleClick",m=>{m.nodes.length>0&&p.focus(m.nodes[0],{scale:1,animation:{duration:500,easingFunction:"easeInOutQuad"}})}),p.once("stabilized",()=>{const m=t.edges.filter(g=>g.dashes).map(g=>[g.from,g.to]);if(m.length>0){const g=p.getPositions(),b={},y=new Set;m.forEach(([v,x])=>{if(y.has(v)||y.has(x))return;const w=g[v],_=g[x];if(!w||!_)return;const E=(w.x+_.x)/2;b[v]={x:E-60,y:w.y},b[x]={x:E+60,y:_.y},y.add(v),y.add(x)}),Object.entries(b).forEach(([v,x])=>{p.moveNode(v,x.x,x.y)})}setTimeout(()=>{p.fit({animation:{duration:500,easingFunction:"easeInOutQuad"}})},50)}),setTimeout(()=>{e&&p&&p.focus(e,{scale:.8,animation:{duration:500,easingFunction:"easeInOutQuad"}})},100),()=>{p&&p.destroy()}},[t,e,o]);const a=()=>{if(i.current){const c=i.current.getScale();i.current.moveTo({scale:c*1.3,animation:{duration:300,easingFunction:"easeInOutQuad"}})}},l=()=>{if(i.current){const c=i.current.getScale();i.current.moveTo({scale:c/1.3,animation:{duration:300,easingFunction:"easeInOutQuad"}})}},u=()=>{i.current&&i.current.fit({animation:{duration:500,easingFunction:"easeInOutQuad"}})};return!t||!t.nodes||t.nodes.length===0?h.jsx("div",{className:"flex items-center justify-center h-96",children:h.jsx("p",{className:"text-gray-500",children:"No family tree data available"})}):h.jsxs("div",{className:"relative w-full h-full",children:[h.jsxs("div",{className:"absolute top-4 right-4 z-10 flex gap-2 bg-white rounded-lg shadow-lg p-2",children:[h.jsx("button",{onClick:a,className:"p-2 hover:bg-gray-100 rounded",title:"Zoom In",children:h.jsx(MZ,{className:"w-4 h-4"})}),h.jsx("button",{onClick:l,className:"p-2 hover:bg-gray-100 rounded",title:"Zoom Out",children:h.jsx(AZ,{className:"w-4 h-4"})}),h.jsx("button",{onClick:u,className:"p-2 hover:bg-gray-100 rounded",title:"Fit All",children:h.jsx(y7,{className:"w-4 h-4"})})]}),h.jsx("div",{className:"absolute bottom-4 left-4 z-10 text-xs text-gray-500 bg-white/80 px-2 py-1 rounded",children:"Click a person to view details  Double-click to center  Scroll to zoom"}),h.jsx("div",{ref:n,className:"w-full h-full min-h-[600px]",style:{background:"#fafafa"}})]})}const hbe=["parent","child","spouse","lover","partner"];function fbe(t){return hbe.includes(t==null?void 0:t.toLowerCase())}function pbe(t){return(t==null?void 0:t.toLowerCase())==="parent"}function mbe(t){return(t==null?void 0:t.toLowerCase())==="child"}function vbe(t){const e=t==null?void 0:t.toLowerCase();return e==="spouse"||e==="lover"||e==="partner"}function ybe(t,e,r){var c;const n=new Map,i=[],s=new Set,o=new Map;e.forEach(d=>o.set(d.id,d));const a=[{personId:t,depth:0}];s.add(t);function l(d,f){var v,x,w,_;let p=d.name||((v=d.title)==null?void 0:v.rendered)||d.title||`Person ${f}`;if(p&&typeof p=="string"&&typeof document<"u"){const E=document.createElement("textarea");E.innerHTML=p,p=E.value}let m=null,g=((x=d.acf)==null?void 0:x.birth_date)||null;if(g){const E=new Date(g);isNaN(E.getTime())||(m=Math.floor((new Date-E)/(365.25*24*60*60*1e3)))}let b="";switch((w=d.acf)==null?void 0:w.gender){case"male":b="";break;case"female":b="";break;case"non_binary":case"other":case"prefer_not_to_say":b="";break}let y="";if(g)try{const E=new Date(g);if(!isNaN(E.getTime())){const O=String(E.getDate()).padStart(2,"0"),S=String(E.getMonth()+1).padStart(2,"0"),T=E.getFullYear();y=`${O}-${S}-${T}`}}catch{}return{id:f,name:p,gender:((_=d.acf)==null?void 0:_.gender)||"",genderSymbol:b,photo:d.thumbnail||null,age:m,birthDate:g,formattedBirthDate:y}}const u=o.get(t);for(u&&n.set(t,l(u,t));a.length>0;){const{personId:d,depth:f}=a.shift(),p=r.get(d)||[];for(const m of p){if(m.relationship_type_slug&&!fbe(m.relationship_type_slug))continue;const g=m.related_person;if(!g||!o.has(g))continue;if(!n.has(g)){const x=o.get(g);n.set(g,l(x,g))}const b=`${d}-${g}`,y=`${g}-${d}`;if(!i.some(x=>`${x.from}-${x.to}`===b||`${x.from}-${x.to}`===y)){const x=(c=m.relationship_type_slug)==null?void 0:c.toLowerCase();if(pbe(x))i.push({from:g,to:d,type:"parent-child"});else if(mbe(x))i.push({from:d,to:g,type:"parent-child"});else if(vbe(x)){const[w,_]=d<g?[d,g]:[g,d];i.push({from:w,to:_,type:"spouse"})}}s.has(g)||(s.add(g),a.push({personId:g,depth:f+1}))}}return{nodes:Array.from(n.values()),edges:i}}function gbe(t,e,r={}){const{nodes:n,edges:i}=t;if(n.length===0)return{nodes:[],edges:[]};const s=new Map,o=new Map,a=new Map;n.forEach(b=>{s.set(b.id,[]),o.set(b.id,[]),a.set(b.id,[])}),i.forEach(b=>{var y,v,x,w;b.type==="parent-child"?((y=s.get(b.to))==null||y.push(b.from),(v=o.get(b.from))==null||v.push(b.to)):b.type==="spouse"&&((x=a.get(b.from))==null||x.push(b.to),(w=a.get(b.to))==null||w.push(b.from))});const l=new Map,u=new Set,c=[{id:e,generation:0}];for(l.set(e,0),u.add(e);c.length>0;){const{id:b,generation:y}=c.shift(),v=s.get(b)||[];for(const _ of v)u.has(_)||(u.add(_),l.set(_,y-1),c.push({id:_,generation:y-1}));const x=o.get(b)||[];for(const _ of x)u.has(_)||(u.add(_),l.set(_,y+1),c.push({id:_,generation:y+1}));const w=a.get(b)||[];for(const _ of w)u.has(_)||(u.add(_),l.set(_,y),c.push({id:_,generation:y}))}n.forEach(b=>{l.has(b.id)||l.set(b.id,0)});const d=Math.min(...l.values()),f=new Map;l.forEach((b,y)=>{f.set(y,b-d)});function p(b,y,v=!1){const x=b?b.split(" ").map(O=>O[0]).join("").toUpperCase().slice(0,2):"?";let w,_;v?(w="%23d1d5db",_="%236b7280"):y?(w="%23fef3c7",_="%23b45309"):(w="%23e5e7eb",_="%23374151");const E=`<svg xmlns="http://www.w3.org/2000/svg" width="90" height="90" viewBox="0 0 90 90">
      <circle cx="45" cy="45" r="45" fill="${w}"/>
      <text x="45" y="55" text-anchor="middle" font-family="system-ui, sans-serif" font-size="28" font-weight="500" fill="${_}">${x}</text>
    </svg>`;return"data:image/svg+xml,"+encodeURIComponent(E)}const m=n.map(b=>{const y=f.get(b.id)||0,v=b.id===e,x=r[b.id]||!1;let w=b.name;x&&(w=b.name+" ");let _=[w],E="";b.genderSymbol&&(E+=b.genderSymbol+" "),b.age!==null&&(E+=b.age+" "),b.formattedBirthDate&&(E+=b.formattedBirthDate),E.trim()&&_.push(E.trim());const O=b.photo||p(b.name,v,x);let S="#d1d5db";return v?S="#f59e0b":x&&(S="#9ca3af"),{id:b.id,label:_.join(`
`),level:y,shape:"circularImage",image:O,size:45,font:{size:14,face:"system-ui, -apple-system, sans-serif",vadjust:8,color:x?"#6b7280":"#1f2937"},color:{border:S,background:"#ffffff",highlight:{border:"#f59e0b",background:"#fef3c7"}},borderWidth:v?3:2,data:{...b,isDeceased:x}}}),g=i.map((b,y)=>{const v=b.type==="spouse";return{id:`edge-${y}`,from:b.from,to:b.to,arrows:{to:{enabled:!1}},color:{color:v?"#ec4899":"#9ca3af",highlight:v?"#db2777":"#6b7280"},width:2,dashes:v?[5,5]:!1,smooth:!1,length:v?50:300}});return{nodes:m,edges:g}}function bbe(t){const e=new Map;return t.forEach(r=>{var s;const i=(((s=r.acf)==null?void 0:s.relationships)||[]).map(o=>{var u,c,d,f,p,m;let a="";o.relationship_slug?a=o.relationship_slug.toLowerCase():typeof o.relationship_type=="object"?a=((u=o.relationship_type)==null?void 0:u.slug)||((d=(c=o.relationship_type)==null?void 0:c.name)==null?void 0:d.toLowerCase())||"":typeof o.relationship_type=="string"&&(a=o.relationship_type.toLowerCase());let l=null;return typeof o.related_person=="object"?l=((f=o.related_person)==null?void 0:f.ID)||((p=o.related_person)==null?void 0:p.id)||((m=o.related_person)==null?void 0:m.term_id):(typeof o.related_person=="number"||typeof o.related_person=="string")&&(l=parseInt(o.related_person,10)),{related_person:l,relationship_type:o.relationship_type,relationship_type_slug:a,relationship_name:o.relationship_name||"",relationship_label:o.relationship_label||""}}).filter(o=>o.related_person);e.set(r.id,i)}),e}function wbe(t,e){const r=new Map;e.forEach(n=>{var i;r.set(n.id,n.slug||((i=n.name)==null?void 0:i.toLowerCase()))}),t.forEach(n=>{n.forEach(i=>{if(!i.relationship_type_slug&&i.relationship_type){const s=typeof i.relationship_type=="object"?i.relationship_type.term_id||i.relationship_type.id:i.relationship_type;i.relationship_type_slug=r.get(s)||""}})})}function xbe(){var p,m;const{id:t}=es(),e=en(),r=parseInt(t,10),{data:n,isLoading:i}=iu(t),{data:s=[],isLoading:o}=_p(),{data:a=[]}=ft({queryKey:["relationship-types"],queryFn:async()=>(await Le.getRelationshipTypes()).data}),l=j.useMemo(()=>s.map(g=>g.id).filter(Boolean),[s]),u=Rf({queries:l.map(g=>({queryKey:["person-dates",g],queryFn:async()=>(await Xr.getPersonDates(g)).data,enabled:!!g,staleTime:5*60*1e3}))}),c=j.useMemo(()=>{const g={};return u.forEach((b,y)=>{if(b.data&&l[y]){const v=l[y],x=b.data.some(w=>{const _=Array.isArray(w.date_type)?w.date_type[0]:w.date_type;return(_==null?void 0:_.toLowerCase())==="died"});g[v]=x}}),g},[u,l]);wi(n?`Family Tree - ${n.name||((p=n.title)==null?void 0:p.rendered)||n.title||"Person"}`:"Family Tree");const d=j.useMemo(()=>{if(!n||!s.length)return null;try{const g=bbe(s);a.length>0&&wbe(g,a);const b=ybe(r,s,g);return!b||b.nodes.length===0?null:gbe(b,r,c)}catch(g){return console.error("Error building family tree:",g),null}},[n,s,a,r,c]),f=g=>{e(`/people/${g}`)};return i||o?h.jsx("div",{className:"flex items-center justify-center h-64",children:h.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"})}):n?h.jsxs("div",{className:"max-w-full mx-auto space-y-6",children:[h.jsx("div",{className:"flex items-center justify-between",children:h.jsxs("div",{className:"flex items-center gap-4",children:[h.jsxs(ve,{to:`/people/${t}`,className:"flex items-center text-gray-600 hover:text-gray-900",children:[h.jsx(ts,{className:"w-4 h-4 mr-2"}),"Back to Person"]}),h.jsxs("h1",{className:"text-2xl font-bold",children:["Family Tree: ",n.name||((m=n.title)==null?void 0:m.rendered)||n.title||`Person ${t}`]})]})}),h.jsx("div",{className:"card p-6",children:h.jsx("div",{className:"w-full",style:{height:"800px"},children:d&&d.nodes&&d.nodes.length>0?h.jsx(dbe,{graphData:d,startPersonId:r,onNodeClick:f}):h.jsx("div",{className:"flex items-center justify-center h-full",children:h.jsxs("div",{className:"text-center",children:[h.jsx("p",{className:"text-gray-500 mb-2",children:"No family relationships found."}),h.jsx("p",{className:"text-sm text-gray-400",children:"Add parent or child relationships to see the family tree."})]})})})})]}):h.jsxs("div",{className:"card p-6 text-center",children:[h.jsx("p",{className:"text-red-600 mb-4",children:"Failed to load person."}),h.jsx(ve,{to:"/people",className:"btn-secondary",children:"Back to People"})]})}function _be(){const{loginUrl:t,isLoggedIn:e}=mp();return S7(),j.useEffect(()=>{e||(window.location.href=t)},[e,t]),h.jsx("div",{className:"flex items-center justify-center min-h-screen bg-gray-50",children:h.jsxs("div",{className:"text-center",children:[h.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600 mx-auto mb-4"}),h.jsx("p",{className:"text-gray-600",children:"Redirecting to login..."})]})})}function Sbe({children:t}){const{isLoggedIn:e,isLoading:r}=mp();return r?h.jsx("div",{className:"flex items-center justify-center min-h-screen",children:h.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"})}):e?t:h.jsx(J8,{to:"/login",replace:!0})}function Ebe(){return h.jsxs(LR,{children:[h.jsx(st,{path:"/login",element:h.jsx(_be,{})}),h.jsx(st,{path:"/*",element:h.jsx(Sbe,{children:h.jsx(xte,{children:h.jsxs(LR,{children:[h.jsx(st,{path:"/",element:h.jsx(Rre,{})}),h.jsx(st,{path:"/people",element:h.jsx(Fre,{})}),h.jsx(st,{path:"/people/new",element:h.jsx(HN,{})}),h.jsx(st,{path:"/people/:personId/contact/new",element:h.jsx(KN,{})}),h.jsx(st,{path:"/people/:personId/contact/:index/edit",element:h.jsx(KN,{})}),h.jsx(st,{path:"/people/:personId/work-history/new",element:h.jsx(VN,{})}),h.jsx(st,{path:"/people/:personId/work-history/:index/edit",element:h.jsx(VN,{})}),h.jsx(st,{path:"/people/:personId/relationship/new",element:h.jsx(GN,{})}),h.jsx(st,{path:"/people/:personId/relationship/:index/edit",element:h.jsx(GN,{})}),h.jsx(st,{path:"/people/:id/family-tree",element:h.jsx(xbe,{})}),h.jsx(st,{path:"/people/:id/edit",element:h.jsx(HN,{})}),h.jsx(st,{path:"/people/:id",element:h.jsx(Lre,{})}),h.jsx(st,{path:"/companies",element:h.jsx(dne,{})}),h.jsx(st,{path:"/companies/new",element:h.jsx(YN,{})}),h.jsx(st,{path:"/companies/:id",element:h.jsx(hne,{})}),h.jsx(st,{path:"/companies/:id/edit",element:h.jsx(YN,{})}),h.jsx(st,{path:"/dates",element:h.jsx(mne,{})}),h.jsx(st,{path:"/dates/new",element:h.jsx(QN,{})}),h.jsx(st,{path:"/dates/:id/edit",element:h.jsx(QN,{})}),h.jsx(st,{path:"/settings",element:h.jsx(gne,{})}),h.jsx(st,{path:"/settings/relationship-types",element:h.jsx(bne,{})}),h.jsx(st,{path:"*",element:h.jsx(J8,{to:"/",replace:!0})})]})})})})]})}const Obe=new fZ({defaultOptions:{queries:{staleTime:5*60*1e3,retry:1}}}),dO=document.getElementById("root");if(!dO)console.error('Root element not found! Make sure there is a <div id="root"></div> in your HTML.');else try{hO.createRoot(dO).render(h.jsx(Te.StrictMode,{children:h.jsx(pZ,{client:Obe,children:h.jsx(DJ,{children:h.jsx(Ebe,{})})})}))}catch(t){console.error("Error mounting React app:",t),dO.innerHTML='<div style="padding: 20px; color: red;"><h1>Error Loading Application</h1><p>Please check the browser console for details.</p></div>'}
