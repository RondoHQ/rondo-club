var VP=t=>{throw TypeError(t)};var Ym=(t,e,r)=>e.has(t)||VP("Cannot "+r);var R=(t,e,r)=>(Ym(t,e,"read from private field"),r?r.call(t):e.get(t)),ge=(t,e,r)=>e.has(t)?VP("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,r),ie=(t,e,r,n)=>(Ym(t,e,"write to private field"),n?n.call(t,r):e.set(t,r),r),Pe=(t,e,r)=>(Ym(t,e,"access private method"),r);var zh=(t,e,r,n)=>({set _(i){ie(t,e,i,r)},get _(){return R(t,e,n)}});function QQ(t,e){for(var r=0;r<e.length;r++){const n=e[r];if(typeof n!="string"&&!Array.isArray(n)){for(const i in n)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(n,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>n[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}function XQ(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Y9={exports:{}},Lp={},Q9={exports:{}},Ue={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Vd=Symbol.for("react.element"),JQ=Symbol.for("react.portal"),ZQ=Symbol.for("react.fragment"),eX=Symbol.for("react.strict_mode"),tX=Symbol.for("react.profiler"),rX=Symbol.for("react.provider"),nX=Symbol.for("react.context"),iX=Symbol.for("react.forward_ref"),sX=Symbol.for("react.suspense"),aX=Symbol.for("react.memo"),oX=Symbol.for("react.lazy"),HP=Symbol.iterator;function lX(t){return t===null||typeof t!="object"?null:(t=HP&&t[HP]||t["@@iterator"],typeof t=="function"?t:null)}var X9={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},J9=Object.assign,Z9={};function Tu(t,e,r){this.props=t,this.context=e,this.refs=Z9,this.updater=r||X9}Tu.prototype.isReactComponent={};Tu.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Tu.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function eW(){}eW.prototype=Tu.prototype;function Jj(t,e,r){this.props=t,this.context=e,this.refs=Z9,this.updater=r||X9}var Zj=Jj.prototype=new eW;Zj.constructor=Jj;J9(Zj,Tu.prototype);Zj.isPureReactComponent=!0;var KP=Array.isArray,tW=Object.prototype.hasOwnProperty,eC={current:null},rW={key:!0,ref:!0,__self:!0,__source:!0};function nW(t,e,r){var n,i={},s=null,a=null;if(e!=null)for(n in e.ref!==void 0&&(a=e.ref),e.key!==void 0&&(s=""+e.key),e)tW.call(e,n)&&!rW.hasOwnProperty(n)&&(i[n]=e[n]);var o=arguments.length-2;if(o===1)i.children=r;else if(1<o){for(var u=Array(o),c=0;c<o;c++)u[c]=arguments[c+2];i.children=u}if(t&&t.defaultProps)for(n in o=t.defaultProps,o)i[n]===void 0&&(i[n]=o[n]);return{$$typeof:Vd,type:t,key:s,ref:a,props:i,_owner:eC.current}}function uX(t,e){return{$$typeof:Vd,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function tC(t){return typeof t=="object"&&t!==null&&t.$$typeof===Vd}function cX(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(r){return e[r]})}var GP=/\/+/g;function Qm(t,e){return typeof t=="object"&&t!==null&&t.key!=null?cX(""+t.key):e.toString(36)}function xf(t,e,r,n,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var a=!1;if(t===null)a=!0;else switch(s){case"string":case"number":a=!0;break;case"object":switch(t.$$typeof){case Vd:case JQ:a=!0}}if(a)return a=t,i=i(a),t=n===""?"."+Qm(a,0):n,KP(i)?(r="",t!=null&&(r=t.replace(GP,"$&/")+"/"),xf(i,e,r,"",function(c){return c})):i!=null&&(tC(i)&&(i=uX(i,r+(!i.key||a&&a.key===i.key?"":(""+i.key).replace(GP,"$&/")+"/")+t)),e.push(i)),1;if(a=0,n=n===""?".":n+":",KP(t))for(var o=0;o<t.length;o++){s=t[o];var u=n+Qm(s,o);a+=xf(s,e,r,u,i)}else if(u=lX(t),typeof u=="function")for(t=u.call(t),o=0;!(s=t.next()).done;)s=s.value,u=n+Qm(s,o++),a+=xf(s,e,r,u,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return a}function Uh(t,e,r){if(t==null)return t;var n=[],i=0;return xf(t,n,"","",function(s){return e.call(r,s,i++)}),n}function dX(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(r){(t._status===0||t._status===-1)&&(t._status=1,t._result=r)},function(r){(t._status===0||t._status===-1)&&(t._status=2,t._result=r)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Gr={current:null},wf={transition:null},hX={ReactCurrentDispatcher:Gr,ReactCurrentBatchConfig:wf,ReactCurrentOwner:eC};function iW(){throw Error("act(...) is not supported in production builds of React.")}Ue.Children={map:Uh,forEach:function(t,e,r){Uh(t,function(){e.apply(this,arguments)},r)},count:function(t){var e=0;return Uh(t,function(){e++}),e},toArray:function(t){return Uh(t,function(e){return e})||[]},only:function(t){if(!tC(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Ue.Component=Tu;Ue.Fragment=ZQ;Ue.Profiler=tX;Ue.PureComponent=Jj;Ue.StrictMode=eX;Ue.Suspense=sX;Ue.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=hX;Ue.act=iW;Ue.cloneElement=function(t,e,r){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var n=J9({},t.props),i=t.key,s=t.ref,a=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,a=eC.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var o=t.type.defaultProps;for(u in e)tW.call(e,u)&&!rW.hasOwnProperty(u)&&(n[u]=e[u]===void 0&&o!==void 0?o[u]:e[u])}var u=arguments.length-2;if(u===1)n.children=r;else if(1<u){o=Array(u);for(var c=0;c<u;c++)o[c]=arguments[c+2];n.children=o}return{$$typeof:Vd,type:t.type,key:i,ref:s,props:n,_owner:a}};Ue.createContext=function(t){return t={$$typeof:nX,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:rX,_context:t},t.Consumer=t};Ue.createElement=nW;Ue.createFactory=function(t){var e=nW.bind(null,t);return e.type=t,e};Ue.createRef=function(){return{current:null}};Ue.forwardRef=function(t){return{$$typeof:iX,render:t}};Ue.isValidElement=tC;Ue.lazy=function(t){return{$$typeof:oX,_payload:{_status:-1,_result:t},_init:dX}};Ue.memo=function(t,e){return{$$typeof:aX,type:t,compare:e===void 0?null:e}};Ue.startTransition=function(t){var e=wf.transition;wf.transition={};try{t()}finally{wf.transition=e}};Ue.unstable_act=iW;Ue.useCallback=function(t,e){return Gr.current.useCallback(t,e)};Ue.useContext=function(t){return Gr.current.useContext(t)};Ue.useDebugValue=function(){};Ue.useDeferredValue=function(t){return Gr.current.useDeferredValue(t)};Ue.useEffect=function(t,e){return Gr.current.useEffect(t,e)};Ue.useId=function(){return Gr.current.useId()};Ue.useImperativeHandle=function(t,e,r){return Gr.current.useImperativeHandle(t,e,r)};Ue.useInsertionEffect=function(t,e){return Gr.current.useInsertionEffect(t,e)};Ue.useLayoutEffect=function(t,e){return Gr.current.useLayoutEffect(t,e)};Ue.useMemo=function(t,e){return Gr.current.useMemo(t,e)};Ue.useReducer=function(t,e,r){return Gr.current.useReducer(t,e,r)};Ue.useRef=function(t){return Gr.current.useRef(t)};Ue.useState=function(t){return Gr.current.useState(t)};Ue.useSyncExternalStore=function(t,e,r){return Gr.current.useSyncExternalStore(t,e,r)};Ue.useTransition=function(){return Gr.current.useTransition()};Ue.version="18.3.1";Q9.exports=Ue;var T=Q9.exports;const De=XQ(T),fX=QQ({__proto__:null,default:De},[T]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pX=T,mX=Symbol.for("react.element"),vX=Symbol.for("react.fragment"),gX=Object.prototype.hasOwnProperty,yX=pX.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,bX={key:!0,ref:!0,__self:!0,__source:!0};function sW(t,e,r){var n,i={},s=null,a=null;r!==void 0&&(s=""+r),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(a=e.ref);for(n in e)gX.call(e,n)&&!bX.hasOwnProperty(n)&&(i[n]=e[n]);if(t&&t.defaultProps)for(n in e=t.defaultProps,e)i[n]===void 0&&(i[n]=e[n]);return{$$typeof:mX,type:t,key:s,ref:a,props:i,_owner:yX.current}}Lp.Fragment=vX;Lp.jsx=sW;Lp.jsxs=sW;Y9.exports=Lp;var l=Y9.exports,iN={},aW={exports:{}},On={},oW={exports:{}},lW={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(A,K){var U=A.length;A.push(K);e:for(;0<U;){var z=U-1>>>1,G=A[z];if(0<i(G,K))A[z]=K,A[U]=G,U=z;else break e}}function r(A){return A.length===0?null:A[0]}function n(A){if(A.length===0)return null;var K=A[0],U=A.pop();if(U!==K){A[0]=U;e:for(var z=0,G=A.length,ce=G>>>1;z<ce;){var ve=2*(z+1)-1,Ie=A[ve],me=ve+1,Ee=A[me];if(0>i(Ie,U))me<G&&0>i(Ee,Ie)?(A[z]=Ee,A[me]=U,z=me):(A[z]=Ie,A[ve]=U,z=ve);else if(me<G&&0>i(Ee,U))A[z]=Ee,A[me]=U,z=me;else break e}}return K}function i(A,K){var U=A.sortIndex-K.sortIndex;return U!==0?U:A.id-K.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var a=Date,o=a.now();t.unstable_now=function(){return a.now()-o}}var u=[],c=[],d=1,h=null,f=3,p=!1,m=!1,y=!1,x=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,v=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(A){for(var K=r(c);K!==null;){if(K.callback===null)n(c);else if(K.startTime<=A)n(c),K.sortIndex=K.expirationTime,e(u,K);else break;K=r(c)}}function b(A){if(y=!1,w(A),!m)if(r(u)!==null)m=!0,H(_);else{var K=r(c);K!==null&&W(b,K.startTime-A)}}function _(A,K){m=!1,y&&(y=!1,g(S),S=-1),p=!0;var U=f;try{for(w(K),h=r(u);h!==null&&(!(h.expirationTime>K)||A&&!P());){var z=h.callback;if(typeof z=="function"){h.callback=null,f=h.priorityLevel;var G=z(h.expirationTime<=K);K=t.unstable_now(),typeof G=="function"?h.callback=G:h===r(u)&&n(u),w(K)}else n(u);h=r(u)}if(h!==null)var ce=!0;else{var ve=r(c);ve!==null&&W(b,ve.startTime-K),ce=!1}return ce}finally{h=null,f=U,p=!1}}var E=!1,N=null,S=-1,j=5,C=-1;function P(){return!(t.unstable_now()-C<j)}function O(){if(N!==null){var A=t.unstable_now();C=A;var K=!0;try{K=N(!0,A)}finally{K?I():(E=!1,N=null)}}else E=!1}var I;if(typeof v=="function")I=function(){v(O)};else if(typeof MessageChannel<"u"){var M=new MessageChannel,k=M.port2;M.port1.onmessage=O,I=function(){k.postMessage(null)}}else I=function(){x(O,0)};function H(A){N=A,E||(E=!0,I())}function W(A,K){S=x(function(){A(t.unstable_now())},K)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(A){A.callback=null},t.unstable_continueExecution=function(){m||p||(m=!0,H(_))},t.unstable_forceFrameRate=function(A){0>A||125<A?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):j=0<A?Math.floor(1e3/A):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return r(u)},t.unstable_next=function(A){switch(f){case 1:case 2:case 3:var K=3;break;default:K=f}var U=f;f=K;try{return A()}finally{f=U}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(A,K){switch(A){case 1:case 2:case 3:case 4:case 5:break;default:A=3}var U=f;f=A;try{return K()}finally{f=U}},t.unstable_scheduleCallback=function(A,K,U){var z=t.unstable_now();switch(typeof U=="object"&&U!==null?(U=U.delay,U=typeof U=="number"&&0<U?z+U:z):U=z,A){case 1:var G=-1;break;case 2:G=250;break;case 5:G=1073741823;break;case 4:G=1e4;break;default:G=5e3}return G=U+G,A={id:d++,callback:K,priorityLevel:A,startTime:U,expirationTime:G,sortIndex:-1},U>z?(A.sortIndex=U,e(c,A),r(u)===null&&A===r(c)&&(y?(g(S),S=-1):y=!0,W(b,U-z))):(A.sortIndex=G,e(u,A),m||p||(m=!0,H(_))),A},t.unstable_shouldYield=P,t.unstable_wrapCallback=function(A){var K=f;return function(){var U=f;f=K;try{return A.apply(this,arguments)}finally{f=U}}}})(lW);oW.exports=lW;var xX=oW.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wX=T,jn=xX;function te(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,r=1;r<arguments.length;r++)e+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var uW=new Set,id={};function Bo(t,e){lu(t,e),lu(t+"Capture",e)}function lu(t,e){for(id[t]=e,t=0;t<e.length;t++)uW.add(e[t])}var fs=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),sN=Object.prototype.hasOwnProperty,_X=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,YP={},QP={};function SX(t){return sN.call(QP,t)?!0:sN.call(YP,t)?!1:_X.test(t)?QP[t]=!0:(YP[t]=!0,!1)}function EX(t,e,r,n){if(r!==null&&r.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function NX(t,e,r,n){if(e===null||typeof e>"u"||EX(t,e,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Yr(t,e,r,n,i,s,a){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=n,this.attributeNamespace=i,this.mustUseProperty=r,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=a}var Nr={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Nr[t]=new Yr(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Nr[e]=new Yr(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Nr[t]=new Yr(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Nr[t]=new Yr(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Nr[t]=new Yr(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Nr[t]=new Yr(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Nr[t]=new Yr(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Nr[t]=new Yr(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Nr[t]=new Yr(t,5,!1,t.toLowerCase(),null,!1,!1)});var rC=/[\-:]([a-z])/g;function nC(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(rC,nC);Nr[e]=new Yr(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(rC,nC);Nr[e]=new Yr(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(rC,nC);Nr[e]=new Yr(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Nr[t]=new Yr(t,1,!1,t.toLowerCase(),null,!1,!1)});Nr.xlinkHref=new Yr("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Nr[t]=new Yr(t,1,!1,t.toLowerCase(),null,!0,!0)});function iC(t,e,r,n){var i=Nr.hasOwnProperty(e)?Nr[e]:null;(i!==null?i.type!==0:n||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(NX(e,r,i,n)&&(r=null),n||i===null?SX(e)&&(r===null?t.removeAttribute(e):t.setAttribute(e,""+r)):i.mustUseProperty?t[i.propertyName]=r===null?i.type===3?!1:"":r:(e=i.attributeName,n=i.attributeNamespace,r===null?t.removeAttribute(e):(i=i.type,r=i===3||i===4&&r===!0?"":""+r,n?t.setAttributeNS(n,e,r):t.setAttribute(e,r))))}var bs=wX.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Wh=Symbol.for("react.element"),yl=Symbol.for("react.portal"),bl=Symbol.for("react.fragment"),sC=Symbol.for("react.strict_mode"),aN=Symbol.for("react.profiler"),cW=Symbol.for("react.provider"),dW=Symbol.for("react.context"),aC=Symbol.for("react.forward_ref"),oN=Symbol.for("react.suspense"),lN=Symbol.for("react.suspense_list"),oC=Symbol.for("react.memo"),ks=Symbol.for("react.lazy"),hW=Symbol.for("react.offscreen"),XP=Symbol.iterator;function vc(t){return t===null||typeof t!="object"?null:(t=XP&&t[XP]||t["@@iterator"],typeof t=="function"?t:null)}var Rt=Object.assign,Xm;function $c(t){if(Xm===void 0)try{throw Error()}catch(r){var e=r.stack.trim().match(/\n( *(at )?)/);Xm=e&&e[1]||""}return`
`+Xm+t}var Jm=!1;function Zm(t,e){if(!t||Jm)return"";Jm=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var n=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){n=c}t.call(e.prototype)}else{try{throw Error()}catch(c){n=c}t()}}catch(c){if(c&&n&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),s=n.stack.split(`
`),a=i.length-1,o=s.length-1;1<=a&&0<=o&&i[a]!==s[o];)o--;for(;1<=a&&0<=o;a--,o--)if(i[a]!==s[o]){if(a!==1||o!==1)do if(a--,o--,0>o||i[a]!==s[o]){var u=`
`+i[a].replace(" at new "," at ");return t.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",t.displayName)),u}while(1<=a&&0<=o);break}}}finally{Jm=!1,Error.prepareStackTrace=r}return(t=t?t.displayName||t.name:"")?$c(t):""}function jX(t){switch(t.tag){case 5:return $c(t.type);case 16:return $c("Lazy");case 13:return $c("Suspense");case 19:return $c("SuspenseList");case 0:case 2:case 15:return t=Zm(t.type,!1),t;case 11:return t=Zm(t.type.render,!1),t;case 1:return t=Zm(t.type,!0),t;default:return""}}function uN(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case bl:return"Fragment";case yl:return"Portal";case aN:return"Profiler";case sC:return"StrictMode";case oN:return"Suspense";case lN:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case dW:return(t.displayName||"Context")+".Consumer";case cW:return(t._context.displayName||"Context")+".Provider";case aC:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case oC:return e=t.displayName||null,e!==null?e:uN(t.type)||"Memo";case ks:e=t._payload,t=t._init;try{return uN(t(e))}catch{}}return null}function CX(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return uN(e);case 8:return e===sC?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function ya(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function fW(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function OX(t){var e=fW(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),n=""+t[e];if(!t.hasOwnProperty(e)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var i=r.get,s=r.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(a){n=""+a,s.call(this,a)}}),Object.defineProperty(t,e,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(a){n=""+a},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Vh(t){t._valueTracker||(t._valueTracker=OX(t))}function pW(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var r=e.getValue(),n="";return t&&(n=fW(t)?t.checked?"true":"false":t.value),t=n,t!==r?(e.setValue(t),!0):!1}function zf(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function cN(t,e){var r=e.checked;return Rt({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??t._wrapperState.initialChecked})}function JP(t,e){var r=e.defaultValue==null?"":e.defaultValue,n=e.checked!=null?e.checked:e.defaultChecked;r=ya(e.value!=null?e.value:r),t._wrapperState={initialChecked:n,initialValue:r,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function mW(t,e){e=e.checked,e!=null&&iC(t,"checked",e,!1)}function dN(t,e){mW(t,e);var r=ya(e.value),n=e.type;if(r!=null)n==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+r):t.value!==""+r&&(t.value=""+r);else if(n==="submit"||n==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?hN(t,e.type,r):e.hasOwnProperty("defaultValue")&&hN(t,e.type,ya(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function ZP(t,e,r){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var n=e.type;if(!(n!=="submit"&&n!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,r||e===t.value||(t.value=e),t.defaultValue=e}r=t.name,r!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,r!==""&&(t.name=r)}function hN(t,e,r){(e!=="number"||zf(t.ownerDocument)!==t)&&(r==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+r&&(t.defaultValue=""+r))}var kc=Array.isArray;function Ml(t,e,r,n){if(t=t.options,e){e={};for(var i=0;i<r.length;i++)e["$"+r[i]]=!0;for(r=0;r<t.length;r++)i=e.hasOwnProperty("$"+t[r].value),t[r].selected!==i&&(t[r].selected=i),i&&n&&(t[r].defaultSelected=!0)}else{for(r=""+ya(r),e=null,i=0;i<t.length;i++){if(t[i].value===r){t[i].selected=!0,n&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function fN(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(te(91));return Rt({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function eT(t,e){var r=e.value;if(r==null){if(r=e.children,e=e.defaultValue,r!=null){if(e!=null)throw Error(te(92));if(kc(r)){if(1<r.length)throw Error(te(93));r=r[0]}e=r}e==null&&(e=""),r=e}t._wrapperState={initialValue:ya(r)}}function vW(t,e){var r=ya(e.value),n=ya(e.defaultValue);r!=null&&(r=""+r,r!==t.value&&(t.value=r),e.defaultValue==null&&t.defaultValue!==r&&(t.defaultValue=r)),n!=null&&(t.defaultValue=""+n)}function tT(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function gW(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function pN(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?gW(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Hh,yW=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,r,n,i){MSApp.execUnsafeLocalFunction(function(){return t(e,r,n,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Hh=Hh||document.createElement("div"),Hh.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Hh.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function sd(t,e){if(e){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=e;return}}t.textContent=e}var Lc={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},PX=["Webkit","ms","Moz","O"];Object.keys(Lc).forEach(function(t){PX.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Lc[e]=Lc[t]})});function bW(t,e,r){return e==null||typeof e=="boolean"||e===""?"":r||typeof e!="number"||e===0||Lc.hasOwnProperty(t)&&Lc[t]?(""+e).trim():e+"px"}function xW(t,e){t=t.style;for(var r in e)if(e.hasOwnProperty(r)){var n=r.indexOf("--")===0,i=bW(r,e[r],n);r==="float"&&(r="cssFloat"),n?t.setProperty(r,i):t[r]=i}}var TX=Rt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function mN(t,e){if(e){if(TX[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(te(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(te(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(te(61))}if(e.style!=null&&typeof e.style!="object")throw Error(te(62))}}function vN(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var gN=null;function lC(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var yN=null,ql=null,Al=null;function rT(t){if(t=Gd(t)){if(typeof yN!="function")throw Error(te(280));var e=t.stateNode;e&&(e=Vp(e),yN(t.stateNode,t.type,e))}}function wW(t){ql?Al?Al.push(t):Al=[t]:ql=t}function _W(){if(ql){var t=ql,e=Al;if(Al=ql=null,rT(t),e)for(t=0;t<e.length;t++)rT(e[t])}}function SW(t,e){return t(e)}function EW(){}var ev=!1;function NW(t,e,r){if(ev)return t(e,r);ev=!0;try{return SW(t,e,r)}finally{ev=!1,(ql!==null||Al!==null)&&(EW(),_W())}}function ad(t,e){var r=t.stateNode;if(r===null)return null;var n=Vp(r);if(n===null)return null;r=n[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(t=t.type,n=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!n;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(te(231,e,typeof r));return r}var bN=!1;if(fs)try{var gc={};Object.defineProperty(gc,"passive",{get:function(){bN=!0}}),window.addEventListener("test",gc,gc),window.removeEventListener("test",gc,gc)}catch{bN=!1}function IX(t,e,r,n,i,s,a,o,u){var c=Array.prototype.slice.call(arguments,3);try{e.apply(r,c)}catch(d){this.onError(d)}}var Bc=!1,Uf=null,Wf=!1,xN=null,RX={onError:function(t){Bc=!0,Uf=t}};function $X(t,e,r,n,i,s,a,o,u){Bc=!1,Uf=null,IX.apply(RX,arguments)}function kX(t,e,r,n,i,s,a,o,u){if($X.apply(this,arguments),Bc){if(Bc){var c=Uf;Bc=!1,Uf=null}else throw Error(te(198));Wf||(Wf=!0,xN=c)}}function zo(t){var e=t,r=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(r=e.return),t=e.return;while(t)}return e.tag===3?r:null}function jW(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function nT(t){if(zo(t)!==t)throw Error(te(188))}function DX(t){var e=t.alternate;if(!e){if(e=zo(t),e===null)throw Error(te(188));return e!==t?null:t}for(var r=t,n=e;;){var i=r.return;if(i===null)break;var s=i.alternate;if(s===null){if(n=i.return,n!==null){r=n;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===r)return nT(i),t;if(s===n)return nT(i),e;s=s.sibling}throw Error(te(188))}if(r.return!==n.return)r=i,n=s;else{for(var a=!1,o=i.child;o;){if(o===r){a=!0,r=i,n=s;break}if(o===n){a=!0,n=i,r=s;break}o=o.sibling}if(!a){for(o=s.child;o;){if(o===r){a=!0,r=s,n=i;break}if(o===n){a=!0,n=s,r=i;break}o=o.sibling}if(!a)throw Error(te(189))}}if(r.alternate!==n)throw Error(te(190))}if(r.tag!==3)throw Error(te(188));return r.stateNode.current===r?t:e}function CW(t){return t=DX(t),t!==null?OW(t):null}function OW(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=OW(t);if(e!==null)return e;t=t.sibling}return null}var PW=jn.unstable_scheduleCallback,iT=jn.unstable_cancelCallback,MX=jn.unstable_shouldYield,qX=jn.unstable_requestPaint,Ht=jn.unstable_now,AX=jn.unstable_getCurrentPriorityLevel,uC=jn.unstable_ImmediatePriority,TW=jn.unstable_UserBlockingPriority,Vf=jn.unstable_NormalPriority,FX=jn.unstable_LowPriority,IW=jn.unstable_IdlePriority,Bp=null,$i=null;function LX(t){if($i&&typeof $i.onCommitFiberRoot=="function")try{$i.onCommitFiberRoot(Bp,t,void 0,(t.current.flags&128)===128)}catch{}}var hi=Math.clz32?Math.clz32:UX,BX=Math.log,zX=Math.LN2;function UX(t){return t>>>=0,t===0?32:31-(BX(t)/zX|0)|0}var Kh=64,Gh=4194304;function Dc(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Hf(t,e){var r=t.pendingLanes;if(r===0)return 0;var n=0,i=t.suspendedLanes,s=t.pingedLanes,a=r&268435455;if(a!==0){var o=a&~i;o!==0?n=Dc(o):(s&=a,s!==0&&(n=Dc(s)))}else a=r&~i,a!==0?n=Dc(a):s!==0&&(n=Dc(s));if(n===0)return 0;if(e!==0&&e!==n&&!(e&i)&&(i=n&-n,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(n&4&&(n|=r&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=n;0<e;)r=31-hi(e),i=1<<r,n|=t[r],e&=~i;return n}function WX(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function VX(t,e){for(var r=t.suspendedLanes,n=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var a=31-hi(s),o=1<<a,u=i[a];u===-1?(!(o&r)||o&n)&&(i[a]=WX(o,e)):u<=e&&(t.expiredLanes|=o),s&=~o}}function wN(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function RW(){var t=Kh;return Kh<<=1,!(Kh&4194240)&&(Kh=64),t}function tv(t){for(var e=[],r=0;31>r;r++)e.push(t);return e}function Hd(t,e,r){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-hi(e),t[e]=r}function HX(t,e){var r=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var n=t.eventTimes;for(t=t.expirationTimes;0<r;){var i=31-hi(r),s=1<<i;e[i]=0,n[i]=-1,t[i]=-1,r&=~s}}function cC(t,e){var r=t.entangledLanes|=e;for(t=t.entanglements;r;){var n=31-hi(r),i=1<<n;i&e|t[n]&e&&(t[n]|=e),r&=~i}}var lt=0;function $W(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var kW,dC,DW,MW,qW,_N=!1,Yh=[],ta=null,ra=null,na=null,od=new Map,ld=new Map,As=[],KX="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function sT(t,e){switch(t){case"focusin":case"focusout":ta=null;break;case"dragenter":case"dragleave":ra=null;break;case"mouseover":case"mouseout":na=null;break;case"pointerover":case"pointerout":od.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":ld.delete(e.pointerId)}}function yc(t,e,r,n,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:r,eventSystemFlags:n,nativeEvent:s,targetContainers:[i]},e!==null&&(e=Gd(e),e!==null&&dC(e)),t):(t.eventSystemFlags|=n,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function GX(t,e,r,n,i){switch(e){case"focusin":return ta=yc(ta,t,e,r,n,i),!0;case"dragenter":return ra=yc(ra,t,e,r,n,i),!0;case"mouseover":return na=yc(na,t,e,r,n,i),!0;case"pointerover":var s=i.pointerId;return od.set(s,yc(od.get(s)||null,t,e,r,n,i)),!0;case"gotpointercapture":return s=i.pointerId,ld.set(s,yc(ld.get(s)||null,t,e,r,n,i)),!0}return!1}function AW(t){var e=Wa(t.target);if(e!==null){var r=zo(e);if(r!==null){if(e=r.tag,e===13){if(e=jW(r),e!==null){t.blockedOn=e,qW(t.priority,function(){DW(r)});return}}else if(e===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function _f(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var r=SN(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(r===null){r=t.nativeEvent;var n=new r.constructor(r.type,r);gN=n,r.target.dispatchEvent(n),gN=null}else return e=Gd(r),e!==null&&dC(e),t.blockedOn=r,!1;e.shift()}return!0}function aT(t,e,r){_f(t)&&r.delete(e)}function YX(){_N=!1,ta!==null&&_f(ta)&&(ta=null),ra!==null&&_f(ra)&&(ra=null),na!==null&&_f(na)&&(na=null),od.forEach(aT),ld.forEach(aT)}function bc(t,e){t.blockedOn===e&&(t.blockedOn=null,_N||(_N=!0,jn.unstable_scheduleCallback(jn.unstable_NormalPriority,YX)))}function ud(t){function e(i){return bc(i,t)}if(0<Yh.length){bc(Yh[0],t);for(var r=1;r<Yh.length;r++){var n=Yh[r];n.blockedOn===t&&(n.blockedOn=null)}}for(ta!==null&&bc(ta,t),ra!==null&&bc(ra,t),na!==null&&bc(na,t),od.forEach(e),ld.forEach(e),r=0;r<As.length;r++)n=As[r],n.blockedOn===t&&(n.blockedOn=null);for(;0<As.length&&(r=As[0],r.blockedOn===null);)AW(r),r.blockedOn===null&&As.shift()}var Fl=bs.ReactCurrentBatchConfig,Kf=!0;function QX(t,e,r,n){var i=lt,s=Fl.transition;Fl.transition=null;try{lt=1,hC(t,e,r,n)}finally{lt=i,Fl.transition=s}}function XX(t,e,r,n){var i=lt,s=Fl.transition;Fl.transition=null;try{lt=4,hC(t,e,r,n)}finally{lt=i,Fl.transition=s}}function hC(t,e,r,n){if(Kf){var i=SN(t,e,r,n);if(i===null)dv(t,e,n,Gf,r),sT(t,n);else if(GX(i,t,e,r,n))n.stopPropagation();else if(sT(t,n),e&4&&-1<KX.indexOf(t)){for(;i!==null;){var s=Gd(i);if(s!==null&&kW(s),s=SN(t,e,r,n),s===null&&dv(t,e,n,Gf,r),s===i)break;i=s}i!==null&&n.stopPropagation()}else dv(t,e,n,null,r)}}var Gf=null;function SN(t,e,r,n){if(Gf=null,t=lC(n),t=Wa(t),t!==null)if(e=zo(t),e===null)t=null;else if(r=e.tag,r===13){if(t=jW(e),t!==null)return t;t=null}else if(r===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Gf=t,null}function FW(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(AX()){case uC:return 1;case TW:return 4;case Vf:case FX:return 16;case IW:return 536870912;default:return 16}default:return 16}}var Xs=null,fC=null,Sf=null;function LW(){if(Sf)return Sf;var t,e=fC,r=e.length,n,i="value"in Xs?Xs.value:Xs.textContent,s=i.length;for(t=0;t<r&&e[t]===i[t];t++);var a=r-t;for(n=1;n<=a&&e[r-n]===i[s-n];n++);return Sf=i.slice(t,1<n?1-n:void 0)}function Ef(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Qh(){return!0}function oT(){return!1}function Pn(t){function e(r,n,i,s,a){this._reactName=r,this._targetInst=i,this.type=n,this.nativeEvent=s,this.target=a,this.currentTarget=null;for(var o in t)t.hasOwnProperty(o)&&(r=t[o],this[o]=r?r(s):s[o]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Qh:oT,this.isPropagationStopped=oT,this}return Rt(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Qh)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Qh)},persist:function(){},isPersistent:Qh}),e}var Iu={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},pC=Pn(Iu),Kd=Rt({},Iu,{view:0,detail:0}),JX=Pn(Kd),rv,nv,xc,zp=Rt({},Kd,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:mC,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==xc&&(xc&&t.type==="mousemove"?(rv=t.screenX-xc.screenX,nv=t.screenY-xc.screenY):nv=rv=0,xc=t),rv)},movementY:function(t){return"movementY"in t?t.movementY:nv}}),lT=Pn(zp),ZX=Rt({},zp,{dataTransfer:0}),eJ=Pn(ZX),tJ=Rt({},Kd,{relatedTarget:0}),iv=Pn(tJ),rJ=Rt({},Iu,{animationName:0,elapsedTime:0,pseudoElement:0}),nJ=Pn(rJ),iJ=Rt({},Iu,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),sJ=Pn(iJ),aJ=Rt({},Iu,{data:0}),uT=Pn(aJ),oJ={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},lJ={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},uJ={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function cJ(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=uJ[t])?!!e[t]:!1}function mC(){return cJ}var dJ=Rt({},Kd,{key:function(t){if(t.key){var e=oJ[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Ef(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?lJ[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:mC,charCode:function(t){return t.type==="keypress"?Ef(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Ef(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),hJ=Pn(dJ),fJ=Rt({},zp,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),cT=Pn(fJ),pJ=Rt({},Kd,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:mC}),mJ=Pn(pJ),vJ=Rt({},Iu,{propertyName:0,elapsedTime:0,pseudoElement:0}),gJ=Pn(vJ),yJ=Rt({},zp,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),bJ=Pn(yJ),xJ=[9,13,27,32],vC=fs&&"CompositionEvent"in window,zc=null;fs&&"documentMode"in document&&(zc=document.documentMode);var wJ=fs&&"TextEvent"in window&&!zc,BW=fs&&(!vC||zc&&8<zc&&11>=zc),dT=" ",hT=!1;function zW(t,e){switch(t){case"keyup":return xJ.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function UW(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var xl=!1;function _J(t,e){switch(t){case"compositionend":return UW(e);case"keypress":return e.which!==32?null:(hT=!0,dT);case"textInput":return t=e.data,t===dT&&hT?null:t;default:return null}}function SJ(t,e){if(xl)return t==="compositionend"||!vC&&zW(t,e)?(t=LW(),Sf=fC=Xs=null,xl=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return BW&&e.locale!=="ko"?null:e.data;default:return null}}var EJ={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function fT(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!EJ[t.type]:e==="textarea"}function WW(t,e,r,n){wW(n),e=Yf(e,"onChange"),0<e.length&&(r=new pC("onChange","change",null,r,n),t.push({event:r,listeners:e}))}var Uc=null,cd=null;function NJ(t){tV(t,0)}function Up(t){var e=Sl(t);if(pW(e))return t}function jJ(t,e){if(t==="change")return e}var VW=!1;if(fs){var sv;if(fs){var av="oninput"in document;if(!av){var pT=document.createElement("div");pT.setAttribute("oninput","return;"),av=typeof pT.oninput=="function"}sv=av}else sv=!1;VW=sv&&(!document.documentMode||9<document.documentMode)}function mT(){Uc&&(Uc.detachEvent("onpropertychange",HW),cd=Uc=null)}function HW(t){if(t.propertyName==="value"&&Up(cd)){var e=[];WW(e,cd,t,lC(t)),NW(NJ,e)}}function CJ(t,e,r){t==="focusin"?(mT(),Uc=e,cd=r,Uc.attachEvent("onpropertychange",HW)):t==="focusout"&&mT()}function OJ(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Up(cd)}function PJ(t,e){if(t==="click")return Up(e)}function TJ(t,e){if(t==="input"||t==="change")return Up(e)}function IJ(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var pi=typeof Object.is=="function"?Object.is:IJ;function dd(t,e){if(pi(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var i=r[n];if(!sN.call(e,i)||!pi(t[i],e[i]))return!1}return!0}function vT(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function gT(t,e){var r=vT(t);t=0;for(var n;r;){if(r.nodeType===3){if(n=t+r.textContent.length,t<=e&&n>=e)return{node:r,offset:e-t};t=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=vT(r)}}function KW(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?KW(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function GW(){for(var t=window,e=zf();e instanceof t.HTMLIFrameElement;){try{var r=typeof e.contentWindow.location.href=="string"}catch{r=!1}if(r)t=e.contentWindow;else break;e=zf(t.document)}return e}function gC(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function RJ(t){var e=GW(),r=t.focusedElem,n=t.selectionRange;if(e!==r&&r&&r.ownerDocument&&KW(r.ownerDocument.documentElement,r)){if(n!==null&&gC(r)){if(e=n.start,t=n.end,t===void 0&&(t=e),"selectionStart"in r)r.selectionStart=e,r.selectionEnd=Math.min(t,r.value.length);else if(t=(e=r.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=r.textContent.length,s=Math.min(n.start,i);n=n.end===void 0?s:Math.min(n.end,i),!t.extend&&s>n&&(i=n,n=s,s=i),i=gT(r,s);var a=gT(r,n);i&&a&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==a.node||t.focusOffset!==a.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>n?(t.addRange(e),t.extend(a.node,a.offset)):(e.setEnd(a.node,a.offset),t.addRange(e)))}}for(e=[],t=r;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<e.length;r++)t=e[r],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var $J=fs&&"documentMode"in document&&11>=document.documentMode,wl=null,EN=null,Wc=null,NN=!1;function yT(t,e,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;NN||wl==null||wl!==zf(n)||(n=wl,"selectionStart"in n&&gC(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Wc&&dd(Wc,n)||(Wc=n,n=Yf(EN,"onSelect"),0<n.length&&(e=new pC("onSelect","select",null,e,r),t.push({event:e,listeners:n}),e.target=wl)))}function Xh(t,e){var r={};return r[t.toLowerCase()]=e.toLowerCase(),r["Webkit"+t]="webkit"+e,r["Moz"+t]="moz"+e,r}var _l={animationend:Xh("Animation","AnimationEnd"),animationiteration:Xh("Animation","AnimationIteration"),animationstart:Xh("Animation","AnimationStart"),transitionend:Xh("Transition","TransitionEnd")},ov={},YW={};fs&&(YW=document.createElement("div").style,"AnimationEvent"in window||(delete _l.animationend.animation,delete _l.animationiteration.animation,delete _l.animationstart.animation),"TransitionEvent"in window||delete _l.transitionend.transition);function Wp(t){if(ov[t])return ov[t];if(!_l[t])return t;var e=_l[t],r;for(r in e)if(e.hasOwnProperty(r)&&r in YW)return ov[t]=e[r];return t}var QW=Wp("animationend"),XW=Wp("animationiteration"),JW=Wp("animationstart"),ZW=Wp("transitionend"),eV=new Map,bT="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Na(t,e){eV.set(t,e),Bo(e,[t])}for(var lv=0;lv<bT.length;lv++){var uv=bT[lv],kJ=uv.toLowerCase(),DJ=uv[0].toUpperCase()+uv.slice(1);Na(kJ,"on"+DJ)}Na(QW,"onAnimationEnd");Na(XW,"onAnimationIteration");Na(JW,"onAnimationStart");Na("dblclick","onDoubleClick");Na("focusin","onFocus");Na("focusout","onBlur");Na(ZW,"onTransitionEnd");lu("onMouseEnter",["mouseout","mouseover"]);lu("onMouseLeave",["mouseout","mouseover"]);lu("onPointerEnter",["pointerout","pointerover"]);lu("onPointerLeave",["pointerout","pointerover"]);Bo("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Bo("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Bo("onBeforeInput",["compositionend","keypress","textInput","paste"]);Bo("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Bo("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Bo("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Mc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),MJ=new Set("cancel close invalid load scroll toggle".split(" ").concat(Mc));function xT(t,e,r){var n=t.type||"unknown-event";t.currentTarget=r,kX(n,e,void 0,t),t.currentTarget=null}function tV(t,e){e=(e&4)!==0;for(var r=0;r<t.length;r++){var n=t[r],i=n.event;n=n.listeners;e:{var s=void 0;if(e)for(var a=n.length-1;0<=a;a--){var o=n[a],u=o.instance,c=o.currentTarget;if(o=o.listener,u!==s&&i.isPropagationStopped())break e;xT(i,o,c),s=u}else for(a=0;a<n.length;a++){if(o=n[a],u=o.instance,c=o.currentTarget,o=o.listener,u!==s&&i.isPropagationStopped())break e;xT(i,o,c),s=u}}}if(Wf)throw t=xN,Wf=!1,xN=null,t}function wt(t,e){var r=e[TN];r===void 0&&(r=e[TN]=new Set);var n=t+"__bubble";r.has(n)||(rV(e,t,2,!1),r.add(n))}function cv(t,e,r){var n=0;e&&(n|=4),rV(r,t,n,e)}var Jh="_reactListening"+Math.random().toString(36).slice(2);function hd(t){if(!t[Jh]){t[Jh]=!0,uW.forEach(function(r){r!=="selectionchange"&&(MJ.has(r)||cv(r,!1,t),cv(r,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Jh]||(e[Jh]=!0,cv("selectionchange",!1,e))}}function rV(t,e,r,n){switch(FW(e)){case 1:var i=QX;break;case 4:i=XX;break;default:i=hC}r=i.bind(null,e,r,t),i=void 0,!bN||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),n?i!==void 0?t.addEventListener(e,r,{capture:!0,passive:i}):t.addEventListener(e,r,!0):i!==void 0?t.addEventListener(e,r,{passive:i}):t.addEventListener(e,r,!1)}function dv(t,e,r,n,i){var s=n;if(!(e&1)&&!(e&2)&&n!==null)e:for(;;){if(n===null)return;var a=n.tag;if(a===3||a===4){var o=n.stateNode.containerInfo;if(o===i||o.nodeType===8&&o.parentNode===i)break;if(a===4)for(a=n.return;a!==null;){var u=a.tag;if((u===3||u===4)&&(u=a.stateNode.containerInfo,u===i||u.nodeType===8&&u.parentNode===i))return;a=a.return}for(;o!==null;){if(a=Wa(o),a===null)return;if(u=a.tag,u===5||u===6){n=s=a;continue e}o=o.parentNode}}n=n.return}NW(function(){var c=s,d=lC(r),h=[];e:{var f=eV.get(t);if(f!==void 0){var p=pC,m=t;switch(t){case"keypress":if(Ef(r)===0)break e;case"keydown":case"keyup":p=hJ;break;case"focusin":m="focus",p=iv;break;case"focusout":m="blur",p=iv;break;case"beforeblur":case"afterblur":p=iv;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=lT;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=eJ;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=mJ;break;case QW:case XW:case JW:p=nJ;break;case ZW:p=gJ;break;case"scroll":p=JX;break;case"wheel":p=bJ;break;case"copy":case"cut":case"paste":p=sJ;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=cT}var y=(e&4)!==0,x=!y&&t==="scroll",g=y?f!==null?f+"Capture":null:f;y=[];for(var v=c,w;v!==null;){w=v;var b=w.stateNode;if(w.tag===5&&b!==null&&(w=b,g!==null&&(b=ad(v,g),b!=null&&y.push(fd(v,b,w)))),x)break;v=v.return}0<y.length&&(f=new p(f,m,null,r,d),h.push({event:f,listeners:y}))}}if(!(e&7)){e:{if(f=t==="mouseover"||t==="pointerover",p=t==="mouseout"||t==="pointerout",f&&r!==gN&&(m=r.relatedTarget||r.fromElement)&&(Wa(m)||m[ps]))break e;if((p||f)&&(f=d.window===d?d:(f=d.ownerDocument)?f.defaultView||f.parentWindow:window,p?(m=r.relatedTarget||r.toElement,p=c,m=m?Wa(m):null,m!==null&&(x=zo(m),m!==x||m.tag!==5&&m.tag!==6)&&(m=null)):(p=null,m=c),p!==m)){if(y=lT,b="onMouseLeave",g="onMouseEnter",v="mouse",(t==="pointerout"||t==="pointerover")&&(y=cT,b="onPointerLeave",g="onPointerEnter",v="pointer"),x=p==null?f:Sl(p),w=m==null?f:Sl(m),f=new y(b,v+"leave",p,r,d),f.target=x,f.relatedTarget=w,b=null,Wa(d)===c&&(y=new y(g,v+"enter",m,r,d),y.target=w,y.relatedTarget=x,b=y),x=b,p&&m)t:{for(y=p,g=m,v=0,w=y;w;w=dl(w))v++;for(w=0,b=g;b;b=dl(b))w++;for(;0<v-w;)y=dl(y),v--;for(;0<w-v;)g=dl(g),w--;for(;v--;){if(y===g||g!==null&&y===g.alternate)break t;y=dl(y),g=dl(g)}y=null}else y=null;p!==null&&wT(h,f,p,y,!1),m!==null&&x!==null&&wT(h,x,m,y,!0)}}e:{if(f=c?Sl(c):window,p=f.nodeName&&f.nodeName.toLowerCase(),p==="select"||p==="input"&&f.type==="file")var _=jJ;else if(fT(f))if(VW)_=TJ;else{_=OJ;var E=CJ}else(p=f.nodeName)&&p.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(_=PJ);if(_&&(_=_(t,c))){WW(h,_,r,d);break e}E&&E(t,f,c),t==="focusout"&&(E=f._wrapperState)&&E.controlled&&f.type==="number"&&hN(f,"number",f.value)}switch(E=c?Sl(c):window,t){case"focusin":(fT(E)||E.contentEditable==="true")&&(wl=E,EN=c,Wc=null);break;case"focusout":Wc=EN=wl=null;break;case"mousedown":NN=!0;break;case"contextmenu":case"mouseup":case"dragend":NN=!1,yT(h,r,d);break;case"selectionchange":if($J)break;case"keydown":case"keyup":yT(h,r,d)}var N;if(vC)e:{switch(t){case"compositionstart":var S="onCompositionStart";break e;case"compositionend":S="onCompositionEnd";break e;case"compositionupdate":S="onCompositionUpdate";break e}S=void 0}else xl?zW(t,r)&&(S="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(S="onCompositionStart");S&&(BW&&r.locale!=="ko"&&(xl||S!=="onCompositionStart"?S==="onCompositionEnd"&&xl&&(N=LW()):(Xs=d,fC="value"in Xs?Xs.value:Xs.textContent,xl=!0)),E=Yf(c,S),0<E.length&&(S=new uT(S,t,null,r,d),h.push({event:S,listeners:E}),N?S.data=N:(N=UW(r),N!==null&&(S.data=N)))),(N=wJ?_J(t,r):SJ(t,r))&&(c=Yf(c,"onBeforeInput"),0<c.length&&(d=new uT("onBeforeInput","beforeinput",null,r,d),h.push({event:d,listeners:c}),d.data=N))}tV(h,e)})}function fd(t,e,r){return{instance:t,listener:e,currentTarget:r}}function Yf(t,e){for(var r=e+"Capture",n=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=ad(t,r),s!=null&&n.unshift(fd(t,s,i)),s=ad(t,e),s!=null&&n.push(fd(t,s,i))),t=t.return}return n}function dl(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function wT(t,e,r,n,i){for(var s=e._reactName,a=[];r!==null&&r!==n;){var o=r,u=o.alternate,c=o.stateNode;if(u!==null&&u===n)break;o.tag===5&&c!==null&&(o=c,i?(u=ad(r,s),u!=null&&a.unshift(fd(r,u,o))):i||(u=ad(r,s),u!=null&&a.push(fd(r,u,o)))),r=r.return}a.length!==0&&t.push({event:e,listeners:a})}var qJ=/\r\n?/g,AJ=/\u0000|\uFFFD/g;function _T(t){return(typeof t=="string"?t:""+t).replace(qJ,`
`).replace(AJ,"")}function Zh(t,e,r){if(e=_T(e),_T(t)!==e&&r)throw Error(te(425))}function Qf(){}var jN=null,CN=null;function ON(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var PN=typeof setTimeout=="function"?setTimeout:void 0,FJ=typeof clearTimeout=="function"?clearTimeout:void 0,ST=typeof Promise=="function"?Promise:void 0,LJ=typeof queueMicrotask=="function"?queueMicrotask:typeof ST<"u"?function(t){return ST.resolve(null).then(t).catch(BJ)}:PN;function BJ(t){setTimeout(function(){throw t})}function hv(t,e){var r=e,n=0;do{var i=r.nextSibling;if(t.removeChild(r),i&&i.nodeType===8)if(r=i.data,r==="/$"){if(n===0){t.removeChild(i),ud(e);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=i}while(r);ud(e)}function ia(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function ET(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(e===0)return t;e--}else r==="/$"&&e++}t=t.previousSibling}return null}var Ru=Math.random().toString(36).slice(2),Oi="__reactFiber$"+Ru,pd="__reactProps$"+Ru,ps="__reactContainer$"+Ru,TN="__reactEvents$"+Ru,zJ="__reactListeners$"+Ru,UJ="__reactHandles$"+Ru;function Wa(t){var e=t[Oi];if(e)return e;for(var r=t.parentNode;r;){if(e=r[ps]||r[Oi]){if(r=e.alternate,e.child!==null||r!==null&&r.child!==null)for(t=ET(t);t!==null;){if(r=t[Oi])return r;t=ET(t)}return e}t=r,r=t.parentNode}return null}function Gd(t){return t=t[Oi]||t[ps],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Sl(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(te(33))}function Vp(t){return t[pd]||null}var IN=[],El=-1;function ja(t){return{current:t}}function St(t){0>El||(t.current=IN[El],IN[El]=null,El--)}function xt(t,e){El++,IN[El]=t.current,t.current=e}var ba={},Dr=ja(ba),un=ja(!1),wo=ba;function uu(t,e){var r=t.type.contextTypes;if(!r)return ba;var n=t.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===e)return n.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in r)i[s]=e[s];return n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function cn(t){return t=t.childContextTypes,t!=null}function Xf(){St(un),St(Dr)}function NT(t,e,r){if(Dr.current!==ba)throw Error(te(168));xt(Dr,e),xt(un,r)}function nV(t,e,r){var n=t.stateNode;if(e=e.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var i in n)if(!(i in e))throw Error(te(108,CX(t)||"Unknown",i));return Rt({},r,n)}function Jf(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||ba,wo=Dr.current,xt(Dr,t),xt(un,un.current),!0}function jT(t,e,r){var n=t.stateNode;if(!n)throw Error(te(169));r?(t=nV(t,e,wo),n.__reactInternalMemoizedMergedChildContext=t,St(un),St(Dr),xt(Dr,t)):St(un),xt(un,r)}var Ki=null,Hp=!1,fv=!1;function iV(t){Ki===null?Ki=[t]:Ki.push(t)}function WJ(t){Hp=!0,iV(t)}function Ca(){if(!fv&&Ki!==null){fv=!0;var t=0,e=lt;try{var r=Ki;for(lt=1;t<r.length;t++){var n=r[t];do n=n(!0);while(n!==null)}Ki=null,Hp=!1}catch(i){throw Ki!==null&&(Ki=Ki.slice(t+1)),PW(uC,Ca),i}finally{lt=e,fv=!1}}return null}var Nl=[],jl=0,Zf=null,ep=0,Fn=[],Ln=0,_o=null,Ji=1,Zi="";function La(t,e){Nl[jl++]=ep,Nl[jl++]=Zf,Zf=t,ep=e}function sV(t,e,r){Fn[Ln++]=Ji,Fn[Ln++]=Zi,Fn[Ln++]=_o,_o=t;var n=Ji;t=Zi;var i=32-hi(n)-1;n&=~(1<<i),r+=1;var s=32-hi(e)+i;if(30<s){var a=i-i%5;s=(n&(1<<a)-1).toString(32),n>>=a,i-=a,Ji=1<<32-hi(e)+i|r<<i|n,Zi=s+t}else Ji=1<<s|r<<i|n,Zi=t}function yC(t){t.return!==null&&(La(t,1),sV(t,1,0))}function bC(t){for(;t===Zf;)Zf=Nl[--jl],Nl[jl]=null,ep=Nl[--jl],Nl[jl]=null;for(;t===_o;)_o=Fn[--Ln],Fn[Ln]=null,Zi=Fn[--Ln],Fn[Ln]=null,Ji=Fn[--Ln],Fn[Ln]=null}var Nn=null,En=null,Ct=!1,oi=null;function aV(t,e){var r=Un(5,null,null,0);r.elementType="DELETED",r.stateNode=e,r.return=t,e=t.deletions,e===null?(t.deletions=[r],t.flags|=16):e.push(r)}function CT(t,e){switch(t.tag){case 5:var r=t.type;return e=e.nodeType!==1||r.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Nn=t,En=ia(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Nn=t,En=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(r=_o!==null?{id:Ji,overflow:Zi}:null,t.memoizedState={dehydrated:e,treeContext:r,retryLane:1073741824},r=Un(18,null,null,0),r.stateNode=e,r.return=t,t.child=r,Nn=t,En=null,!0):!1;default:return!1}}function RN(t){return(t.mode&1)!==0&&(t.flags&128)===0}function $N(t){if(Ct){var e=En;if(e){var r=e;if(!CT(t,e)){if(RN(t))throw Error(te(418));e=ia(r.nextSibling);var n=Nn;e&&CT(t,e)?aV(n,r):(t.flags=t.flags&-4097|2,Ct=!1,Nn=t)}}else{if(RN(t))throw Error(te(418));t.flags=t.flags&-4097|2,Ct=!1,Nn=t}}}function OT(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Nn=t}function ef(t){if(t!==Nn)return!1;if(!Ct)return OT(t),Ct=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!ON(t.type,t.memoizedProps)),e&&(e=En)){if(RN(t))throw oV(),Error(te(418));for(;e;)aV(t,e),e=ia(e.nextSibling)}if(OT(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(te(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"){if(e===0){En=ia(t.nextSibling);break e}e--}else r!=="$"&&r!=="$!"&&r!=="$?"||e++}t=t.nextSibling}En=null}}else En=Nn?ia(t.stateNode.nextSibling):null;return!0}function oV(){for(var t=En;t;)t=ia(t.nextSibling)}function cu(){En=Nn=null,Ct=!1}function xC(t){oi===null?oi=[t]:oi.push(t)}var VJ=bs.ReactCurrentBatchConfig;function wc(t,e,r){if(t=r.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(te(309));var n=r.stateNode}if(!n)throw Error(te(147,t));var i=n,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(a){var o=i.refs;a===null?delete o[s]:o[s]=a},e._stringRef=s,e)}if(typeof t!="string")throw Error(te(284));if(!r._owner)throw Error(te(290,t))}return t}function tf(t,e){throw t=Object.prototype.toString.call(e),Error(te(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function PT(t){var e=t._init;return e(t._payload)}function lV(t){function e(g,v){if(t){var w=g.deletions;w===null?(g.deletions=[v],g.flags|=16):w.push(v)}}function r(g,v){if(!t)return null;for(;v!==null;)e(g,v),v=v.sibling;return null}function n(g,v){for(g=new Map;v!==null;)v.key!==null?g.set(v.key,v):g.set(v.index,v),v=v.sibling;return g}function i(g,v){return g=la(g,v),g.index=0,g.sibling=null,g}function s(g,v,w){return g.index=w,t?(w=g.alternate,w!==null?(w=w.index,w<v?(g.flags|=2,v):w):(g.flags|=2,v)):(g.flags|=1048576,v)}function a(g){return t&&g.alternate===null&&(g.flags|=2),g}function o(g,v,w,b){return v===null||v.tag!==6?(v=xv(w,g.mode,b),v.return=g,v):(v=i(v,w),v.return=g,v)}function u(g,v,w,b){var _=w.type;return _===bl?d(g,v,w.props.children,b,w.key):v!==null&&(v.elementType===_||typeof _=="object"&&_!==null&&_.$$typeof===ks&&PT(_)===v.type)?(b=i(v,w.props),b.ref=wc(g,v,w),b.return=g,b):(b=If(w.type,w.key,w.props,null,g.mode,b),b.ref=wc(g,v,w),b.return=g,b)}function c(g,v,w,b){return v===null||v.tag!==4||v.stateNode.containerInfo!==w.containerInfo||v.stateNode.implementation!==w.implementation?(v=wv(w,g.mode,b),v.return=g,v):(v=i(v,w.children||[]),v.return=g,v)}function d(g,v,w,b,_){return v===null||v.tag!==7?(v=ho(w,g.mode,b,_),v.return=g,v):(v=i(v,w),v.return=g,v)}function h(g,v,w){if(typeof v=="string"&&v!==""||typeof v=="number")return v=xv(""+v,g.mode,w),v.return=g,v;if(typeof v=="object"&&v!==null){switch(v.$$typeof){case Wh:return w=If(v.type,v.key,v.props,null,g.mode,w),w.ref=wc(g,null,v),w.return=g,w;case yl:return v=wv(v,g.mode,w),v.return=g,v;case ks:var b=v._init;return h(g,b(v._payload),w)}if(kc(v)||vc(v))return v=ho(v,g.mode,w,null),v.return=g,v;tf(g,v)}return null}function f(g,v,w,b){var _=v!==null?v.key:null;if(typeof w=="string"&&w!==""||typeof w=="number")return _!==null?null:o(g,v,""+w,b);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Wh:return w.key===_?u(g,v,w,b):null;case yl:return w.key===_?c(g,v,w,b):null;case ks:return _=w._init,f(g,v,_(w._payload),b)}if(kc(w)||vc(w))return _!==null?null:d(g,v,w,b,null);tf(g,w)}return null}function p(g,v,w,b,_){if(typeof b=="string"&&b!==""||typeof b=="number")return g=g.get(w)||null,o(v,g,""+b,_);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case Wh:return g=g.get(b.key===null?w:b.key)||null,u(v,g,b,_);case yl:return g=g.get(b.key===null?w:b.key)||null,c(v,g,b,_);case ks:var E=b._init;return p(g,v,w,E(b._payload),_)}if(kc(b)||vc(b))return g=g.get(w)||null,d(v,g,b,_,null);tf(v,b)}return null}function m(g,v,w,b){for(var _=null,E=null,N=v,S=v=0,j=null;N!==null&&S<w.length;S++){N.index>S?(j=N,N=null):j=N.sibling;var C=f(g,N,w[S],b);if(C===null){N===null&&(N=j);break}t&&N&&C.alternate===null&&e(g,N),v=s(C,v,S),E===null?_=C:E.sibling=C,E=C,N=j}if(S===w.length)return r(g,N),Ct&&La(g,S),_;if(N===null){for(;S<w.length;S++)N=h(g,w[S],b),N!==null&&(v=s(N,v,S),E===null?_=N:E.sibling=N,E=N);return Ct&&La(g,S),_}for(N=n(g,N);S<w.length;S++)j=p(N,g,S,w[S],b),j!==null&&(t&&j.alternate!==null&&N.delete(j.key===null?S:j.key),v=s(j,v,S),E===null?_=j:E.sibling=j,E=j);return t&&N.forEach(function(P){return e(g,P)}),Ct&&La(g,S),_}function y(g,v,w,b){var _=vc(w);if(typeof _!="function")throw Error(te(150));if(w=_.call(w),w==null)throw Error(te(151));for(var E=_=null,N=v,S=v=0,j=null,C=w.next();N!==null&&!C.done;S++,C=w.next()){N.index>S?(j=N,N=null):j=N.sibling;var P=f(g,N,C.value,b);if(P===null){N===null&&(N=j);break}t&&N&&P.alternate===null&&e(g,N),v=s(P,v,S),E===null?_=P:E.sibling=P,E=P,N=j}if(C.done)return r(g,N),Ct&&La(g,S),_;if(N===null){for(;!C.done;S++,C=w.next())C=h(g,C.value,b),C!==null&&(v=s(C,v,S),E===null?_=C:E.sibling=C,E=C);return Ct&&La(g,S),_}for(N=n(g,N);!C.done;S++,C=w.next())C=p(N,g,S,C.value,b),C!==null&&(t&&C.alternate!==null&&N.delete(C.key===null?S:C.key),v=s(C,v,S),E===null?_=C:E.sibling=C,E=C);return t&&N.forEach(function(O){return e(g,O)}),Ct&&La(g,S),_}function x(g,v,w,b){if(typeof w=="object"&&w!==null&&w.type===bl&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case Wh:e:{for(var _=w.key,E=v;E!==null;){if(E.key===_){if(_=w.type,_===bl){if(E.tag===7){r(g,E.sibling),v=i(E,w.props.children),v.return=g,g=v;break e}}else if(E.elementType===_||typeof _=="object"&&_!==null&&_.$$typeof===ks&&PT(_)===E.type){r(g,E.sibling),v=i(E,w.props),v.ref=wc(g,E,w),v.return=g,g=v;break e}r(g,E);break}else e(g,E);E=E.sibling}w.type===bl?(v=ho(w.props.children,g.mode,b,w.key),v.return=g,g=v):(b=If(w.type,w.key,w.props,null,g.mode,b),b.ref=wc(g,v,w),b.return=g,g=b)}return a(g);case yl:e:{for(E=w.key;v!==null;){if(v.key===E)if(v.tag===4&&v.stateNode.containerInfo===w.containerInfo&&v.stateNode.implementation===w.implementation){r(g,v.sibling),v=i(v,w.children||[]),v.return=g,g=v;break e}else{r(g,v);break}else e(g,v);v=v.sibling}v=wv(w,g.mode,b),v.return=g,g=v}return a(g);case ks:return E=w._init,x(g,v,E(w._payload),b)}if(kc(w))return m(g,v,w,b);if(vc(w))return y(g,v,w,b);tf(g,w)}return typeof w=="string"&&w!==""||typeof w=="number"?(w=""+w,v!==null&&v.tag===6?(r(g,v.sibling),v=i(v,w),v.return=g,g=v):(r(g,v),v=xv(w,g.mode,b),v.return=g,g=v),a(g)):r(g,v)}return x}var du=lV(!0),uV=lV(!1),tp=ja(null),rp=null,Cl=null,wC=null;function _C(){wC=Cl=rp=null}function SC(t){var e=tp.current;St(tp),t._currentValue=e}function kN(t,e,r){for(;t!==null;){var n=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,n!==null&&(n.childLanes|=e)):n!==null&&(n.childLanes&e)!==e&&(n.childLanes|=e),t===r)break;t=t.return}}function Ll(t,e){rp=t,wC=Cl=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(on=!0),t.firstContext=null)}function Kn(t){var e=t._currentValue;if(wC!==t)if(t={context:t,memoizedValue:e,next:null},Cl===null){if(rp===null)throw Error(te(308));Cl=t,rp.dependencies={lanes:0,firstContext:t}}else Cl=Cl.next=t;return e}var Va=null;function EC(t){Va===null?Va=[t]:Va.push(t)}function cV(t,e,r,n){var i=e.interleaved;return i===null?(r.next=r,EC(e)):(r.next=i.next,i.next=r),e.interleaved=r,ms(t,n)}function ms(t,e){t.lanes|=e;var r=t.alternate;for(r!==null&&(r.lanes|=e),r=t,t=t.return;t!==null;)t.childLanes|=e,r=t.alternate,r!==null&&(r.childLanes|=e),r=t,t=t.return;return r.tag===3?r.stateNode:null}var Ds=!1;function NC(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function dV(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function rs(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function sa(t,e,r){var n=t.updateQueue;if(n===null)return null;if(n=n.shared,Je&2){var i=n.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),n.pending=e,ms(t,r)}return i=n.interleaved,i===null?(e.next=e,EC(n)):(e.next=i.next,i.next=e),n.interleaved=e,ms(t,r)}function Nf(t,e,r){if(e=e.updateQueue,e!==null&&(e=e.shared,(r&4194240)!==0)){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,cC(t,r)}}function TT(t,e){var r=t.updateQueue,n=t.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var i=null,s=null;if(r=r.firstBaseUpdate,r!==null){do{var a={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};s===null?i=s=a:s=s.next=a,r=r.next}while(r!==null);s===null?i=s=e:s=s.next=e}else i=s=e;r={baseState:n.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:n.shared,effects:n.effects},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=e:t.next=e,r.lastBaseUpdate=e}function np(t,e,r,n){var i=t.updateQueue;Ds=!1;var s=i.firstBaseUpdate,a=i.lastBaseUpdate,o=i.shared.pending;if(o!==null){i.shared.pending=null;var u=o,c=u.next;u.next=null,a===null?s=c:a.next=c,a=u;var d=t.alternate;d!==null&&(d=d.updateQueue,o=d.lastBaseUpdate,o!==a&&(o===null?d.firstBaseUpdate=c:o.next=c,d.lastBaseUpdate=u))}if(s!==null){var h=i.baseState;a=0,d=c=u=null,o=s;do{var f=o.lane,p=o.eventTime;if((n&f)===f){d!==null&&(d=d.next={eventTime:p,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var m=t,y=o;switch(f=e,p=r,y.tag){case 1:if(m=y.payload,typeof m=="function"){h=m.call(p,h,f);break e}h=m;break e;case 3:m.flags=m.flags&-65537|128;case 0:if(m=y.payload,f=typeof m=="function"?m.call(p,h,f):m,f==null)break e;h=Rt({},h,f);break e;case 2:Ds=!0}}o.callback!==null&&o.lane!==0&&(t.flags|=64,f=i.effects,f===null?i.effects=[o]:f.push(o))}else p={eventTime:p,lane:f,tag:o.tag,payload:o.payload,callback:o.callback,next:null},d===null?(c=d=p,u=h):d=d.next=p,a|=f;if(o=o.next,o===null){if(o=i.shared.pending,o===null)break;f=o,o=f.next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}while(!0);if(d===null&&(u=h),i.baseState=u,i.firstBaseUpdate=c,i.lastBaseUpdate=d,e=i.shared.interleaved,e!==null){i=e;do a|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);Eo|=a,t.lanes=a,t.memoizedState=h}}function IT(t,e,r){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var n=t[e],i=n.callback;if(i!==null){if(n.callback=null,n=r,typeof i!="function")throw Error(te(191,i));i.call(n)}}}var Yd={},ki=ja(Yd),md=ja(Yd),vd=ja(Yd);function Ha(t){if(t===Yd)throw Error(te(174));return t}function jC(t,e){switch(xt(vd,e),xt(md,t),xt(ki,Yd),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:pN(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=pN(e,t)}St(ki),xt(ki,e)}function hu(){St(ki),St(md),St(vd)}function hV(t){Ha(vd.current);var e=Ha(ki.current),r=pN(e,t.type);e!==r&&(xt(md,t),xt(ki,r))}function CC(t){md.current===t&&(St(ki),St(md))}var Pt=ja(0);function ip(t){for(var e=t;e!==null;){if(e.tag===13){var r=e.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var pv=[];function OC(){for(var t=0;t<pv.length;t++)pv[t]._workInProgressVersionPrimary=null;pv.length=0}var jf=bs.ReactCurrentDispatcher,mv=bs.ReactCurrentBatchConfig,So=0,Tt=null,or=null,hr=null,sp=!1,Vc=!1,gd=0,HJ=0;function Tr(){throw Error(te(321))}function PC(t,e){if(e===null)return!1;for(var r=0;r<e.length&&r<t.length;r++)if(!pi(t[r],e[r]))return!1;return!0}function TC(t,e,r,n,i,s){if(So=s,Tt=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,jf.current=t===null||t.memoizedState===null?QJ:XJ,t=r(n,i),Vc){s=0;do{if(Vc=!1,gd=0,25<=s)throw Error(te(301));s+=1,hr=or=null,e.updateQueue=null,jf.current=JJ,t=r(n,i)}while(Vc)}if(jf.current=ap,e=or!==null&&or.next!==null,So=0,hr=or=Tt=null,sp=!1,e)throw Error(te(300));return t}function IC(){var t=gd!==0;return gd=0,t}function Si(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return hr===null?Tt.memoizedState=hr=t:hr=hr.next=t,hr}function Gn(){if(or===null){var t=Tt.alternate;t=t!==null?t.memoizedState:null}else t=or.next;var e=hr===null?Tt.memoizedState:hr.next;if(e!==null)hr=e,or=t;else{if(t===null)throw Error(te(310));or=t,t={memoizedState:or.memoizedState,baseState:or.baseState,baseQueue:or.baseQueue,queue:or.queue,next:null},hr===null?Tt.memoizedState=hr=t:hr=hr.next=t}return hr}function yd(t,e){return typeof e=="function"?e(t):e}function vv(t){var e=Gn(),r=e.queue;if(r===null)throw Error(te(311));r.lastRenderedReducer=t;var n=or,i=n.baseQueue,s=r.pending;if(s!==null){if(i!==null){var a=i.next;i.next=s.next,s.next=a}n.baseQueue=i=s,r.pending=null}if(i!==null){s=i.next,n=n.baseState;var o=a=null,u=null,c=s;do{var d=c.lane;if((So&d)===d)u!==null&&(u=u.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),n=c.hasEagerState?c.eagerState:t(n,c.action);else{var h={lane:d,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};u===null?(o=u=h,a=n):u=u.next=h,Tt.lanes|=d,Eo|=d}c=c.next}while(c!==null&&c!==s);u===null?a=n:u.next=o,pi(n,e.memoizedState)||(on=!0),e.memoizedState=n,e.baseState=a,e.baseQueue=u,r.lastRenderedState=n}if(t=r.interleaved,t!==null){i=t;do s=i.lane,Tt.lanes|=s,Eo|=s,i=i.next;while(i!==t)}else i===null&&(r.lanes=0);return[e.memoizedState,r.dispatch]}function gv(t){var e=Gn(),r=e.queue;if(r===null)throw Error(te(311));r.lastRenderedReducer=t;var n=r.dispatch,i=r.pending,s=e.memoizedState;if(i!==null){r.pending=null;var a=i=i.next;do s=t(s,a.action),a=a.next;while(a!==i);pi(s,e.memoizedState)||(on=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),r.lastRenderedState=s}return[s,n]}function fV(){}function pV(t,e){var r=Tt,n=Gn(),i=e(),s=!pi(n.memoizedState,i);if(s&&(n.memoizedState=i,on=!0),n=n.queue,RC(gV.bind(null,r,n,t),[t]),n.getSnapshot!==e||s||hr!==null&&hr.memoizedState.tag&1){if(r.flags|=2048,bd(9,vV.bind(null,r,n,i,e),void 0,null),fr===null)throw Error(te(349));So&30||mV(r,e,i)}return i}function mV(t,e,r){t.flags|=16384,t={getSnapshot:e,value:r},e=Tt.updateQueue,e===null?(e={lastEffect:null,stores:null},Tt.updateQueue=e,e.stores=[t]):(r=e.stores,r===null?e.stores=[t]:r.push(t))}function vV(t,e,r,n){e.value=r,e.getSnapshot=n,yV(e)&&bV(t)}function gV(t,e,r){return r(function(){yV(e)&&bV(t)})}function yV(t){var e=t.getSnapshot;t=t.value;try{var r=e();return!pi(t,r)}catch{return!0}}function bV(t){var e=ms(t,1);e!==null&&fi(e,t,1,-1)}function RT(t){var e=Si();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:yd,lastRenderedState:t},e.queue=t,t=t.dispatch=YJ.bind(null,Tt,t),[e.memoizedState,t]}function bd(t,e,r,n){return t={tag:t,create:e,destroy:r,deps:n,next:null},e=Tt.updateQueue,e===null?(e={lastEffect:null,stores:null},Tt.updateQueue=e,e.lastEffect=t.next=t):(r=e.lastEffect,r===null?e.lastEffect=t.next=t:(n=r.next,r.next=t,t.next=n,e.lastEffect=t)),t}function xV(){return Gn().memoizedState}function Cf(t,e,r,n){var i=Si();Tt.flags|=t,i.memoizedState=bd(1|e,r,void 0,n===void 0?null:n)}function Kp(t,e,r,n){var i=Gn();n=n===void 0?null:n;var s=void 0;if(or!==null){var a=or.memoizedState;if(s=a.destroy,n!==null&&PC(n,a.deps)){i.memoizedState=bd(e,r,s,n);return}}Tt.flags|=t,i.memoizedState=bd(1|e,r,s,n)}function $T(t,e){return Cf(8390656,8,t,e)}function RC(t,e){return Kp(2048,8,t,e)}function wV(t,e){return Kp(4,2,t,e)}function _V(t,e){return Kp(4,4,t,e)}function SV(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function EV(t,e,r){return r=r!=null?r.concat([t]):null,Kp(4,4,SV.bind(null,e,t),r)}function $C(){}function NV(t,e){var r=Gn();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&PC(e,n[1])?n[0]:(r.memoizedState=[t,e],t)}function jV(t,e){var r=Gn();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&PC(e,n[1])?n[0]:(t=t(),r.memoizedState=[t,e],t)}function CV(t,e,r){return So&21?(pi(r,e)||(r=RW(),Tt.lanes|=r,Eo|=r,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,on=!0),t.memoizedState=r)}function KJ(t,e){var r=lt;lt=r!==0&&4>r?r:4,t(!0);var n=mv.transition;mv.transition={};try{t(!1),e()}finally{lt=r,mv.transition=n}}function OV(){return Gn().memoizedState}function GJ(t,e,r){var n=oa(t);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},PV(t))TV(e,r);else if(r=cV(t,e,r,n),r!==null){var i=Wr();fi(r,t,n,i),IV(r,e,n)}}function YJ(t,e,r){var n=oa(t),i={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(PV(t))TV(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var a=e.lastRenderedState,o=s(a,r);if(i.hasEagerState=!0,i.eagerState=o,pi(o,a)){var u=e.interleaved;u===null?(i.next=i,EC(e)):(i.next=u.next,u.next=i),e.interleaved=i;return}}catch{}finally{}r=cV(t,e,i,n),r!==null&&(i=Wr(),fi(r,t,n,i),IV(r,e,n))}}function PV(t){var e=t.alternate;return t===Tt||e!==null&&e===Tt}function TV(t,e){Vc=sp=!0;var r=t.pending;r===null?e.next=e:(e.next=r.next,r.next=e),t.pending=e}function IV(t,e,r){if(r&4194240){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,cC(t,r)}}var ap={readContext:Kn,useCallback:Tr,useContext:Tr,useEffect:Tr,useImperativeHandle:Tr,useInsertionEffect:Tr,useLayoutEffect:Tr,useMemo:Tr,useReducer:Tr,useRef:Tr,useState:Tr,useDebugValue:Tr,useDeferredValue:Tr,useTransition:Tr,useMutableSource:Tr,useSyncExternalStore:Tr,useId:Tr,unstable_isNewReconciler:!1},QJ={readContext:Kn,useCallback:function(t,e){return Si().memoizedState=[t,e===void 0?null:e],t},useContext:Kn,useEffect:$T,useImperativeHandle:function(t,e,r){return r=r!=null?r.concat([t]):null,Cf(4194308,4,SV.bind(null,e,t),r)},useLayoutEffect:function(t,e){return Cf(4194308,4,t,e)},useInsertionEffect:function(t,e){return Cf(4,2,t,e)},useMemo:function(t,e){var r=Si();return e=e===void 0?null:e,t=t(),r.memoizedState=[t,e],t},useReducer:function(t,e,r){var n=Si();return e=r!==void 0?r(e):e,n.memoizedState=n.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},n.queue=t,t=t.dispatch=GJ.bind(null,Tt,t),[n.memoizedState,t]},useRef:function(t){var e=Si();return t={current:t},e.memoizedState=t},useState:RT,useDebugValue:$C,useDeferredValue:function(t){return Si().memoizedState=t},useTransition:function(){var t=RT(!1),e=t[0];return t=KJ.bind(null,t[1]),Si().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,r){var n=Tt,i=Si();if(Ct){if(r===void 0)throw Error(te(407));r=r()}else{if(r=e(),fr===null)throw Error(te(349));So&30||mV(n,e,r)}i.memoizedState=r;var s={value:r,getSnapshot:e};return i.queue=s,$T(gV.bind(null,n,s,t),[t]),n.flags|=2048,bd(9,vV.bind(null,n,s,r,e),void 0,null),r},useId:function(){var t=Si(),e=fr.identifierPrefix;if(Ct){var r=Zi,n=Ji;r=(n&~(1<<32-hi(n)-1)).toString(32)+r,e=":"+e+"R"+r,r=gd++,0<r&&(e+="H"+r.toString(32)),e+=":"}else r=HJ++,e=":"+e+"r"+r.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},XJ={readContext:Kn,useCallback:NV,useContext:Kn,useEffect:RC,useImperativeHandle:EV,useInsertionEffect:wV,useLayoutEffect:_V,useMemo:jV,useReducer:vv,useRef:xV,useState:function(){return vv(yd)},useDebugValue:$C,useDeferredValue:function(t){var e=Gn();return CV(e,or.memoizedState,t)},useTransition:function(){var t=vv(yd)[0],e=Gn().memoizedState;return[t,e]},useMutableSource:fV,useSyncExternalStore:pV,useId:OV,unstable_isNewReconciler:!1},JJ={readContext:Kn,useCallback:NV,useContext:Kn,useEffect:RC,useImperativeHandle:EV,useInsertionEffect:wV,useLayoutEffect:_V,useMemo:jV,useReducer:gv,useRef:xV,useState:function(){return gv(yd)},useDebugValue:$C,useDeferredValue:function(t){var e=Gn();return or===null?e.memoizedState=t:CV(e,or.memoizedState,t)},useTransition:function(){var t=gv(yd)[0],e=Gn().memoizedState;return[t,e]},useMutableSource:fV,useSyncExternalStore:pV,useId:OV,unstable_isNewReconciler:!1};function ni(t,e){if(t&&t.defaultProps){e=Rt({},e),t=t.defaultProps;for(var r in t)e[r]===void 0&&(e[r]=t[r]);return e}return e}function DN(t,e,r,n){e=t.memoizedState,r=r(n,e),r=r==null?e:Rt({},e,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var Gp={isMounted:function(t){return(t=t._reactInternals)?zo(t)===t:!1},enqueueSetState:function(t,e,r){t=t._reactInternals;var n=Wr(),i=oa(t),s=rs(n,i);s.payload=e,r!=null&&(s.callback=r),e=sa(t,s,i),e!==null&&(fi(e,t,i,n),Nf(e,t,i))},enqueueReplaceState:function(t,e,r){t=t._reactInternals;var n=Wr(),i=oa(t),s=rs(n,i);s.tag=1,s.payload=e,r!=null&&(s.callback=r),e=sa(t,s,i),e!==null&&(fi(e,t,i,n),Nf(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var r=Wr(),n=oa(t),i=rs(r,n);i.tag=2,e!=null&&(i.callback=e),e=sa(t,i,n),e!==null&&(fi(e,t,n,r),Nf(e,t,n))}};function kT(t,e,r,n,i,s,a){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(n,s,a):e.prototype&&e.prototype.isPureReactComponent?!dd(r,n)||!dd(i,s):!0}function RV(t,e,r){var n=!1,i=ba,s=e.contextType;return typeof s=="object"&&s!==null?s=Kn(s):(i=cn(e)?wo:Dr.current,n=e.contextTypes,s=(n=n!=null)?uu(t,i):ba),e=new e(r,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Gp,t.stateNode=e,e._reactInternals=t,n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function DT(t,e,r,n){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(r,n),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(r,n),e.state!==t&&Gp.enqueueReplaceState(e,e.state,null)}function MN(t,e,r,n){var i=t.stateNode;i.props=r,i.state=t.memoizedState,i.refs={},NC(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=Kn(s):(s=cn(e)?wo:Dr.current,i.context=uu(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(DN(t,e,s,r),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Gp.enqueueReplaceState(i,i.state,null),np(t,r,i,n),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function fu(t,e){try{var r="",n=e;do r+=jX(n),n=n.return;while(n);var i=r}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function yv(t,e,r){return{value:t,source:null,stack:r??null,digest:e??null}}function qN(t,e){try{console.error(e.value)}catch(r){setTimeout(function(){throw r})}}var ZJ=typeof WeakMap=="function"?WeakMap:Map;function $V(t,e,r){r=rs(-1,r),r.tag=3,r.payload={element:null};var n=e.value;return r.callback=function(){lp||(lp=!0,KN=n),qN(t,e)},r}function kV(t,e,r){r=rs(-1,r),r.tag=3;var n=t.type.getDerivedStateFromError;if(typeof n=="function"){var i=e.value;r.payload=function(){return n(i)},r.callback=function(){qN(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(r.callback=function(){qN(t,e),typeof n!="function"&&(aa===null?aa=new Set([this]):aa.add(this));var a=e.stack;this.componentDidCatch(e.value,{componentStack:a!==null?a:""})}),r}function MT(t,e,r){var n=t.pingCache;if(n===null){n=t.pingCache=new ZJ;var i=new Set;n.set(e,i)}else i=n.get(e),i===void 0&&(i=new Set,n.set(e,i));i.has(r)||(i.add(r),t=fZ.bind(null,t,e,r),e.then(t,t))}function qT(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function AT(t,e,r,n,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(e=rs(-1,1),e.tag=2,sa(r,e,1))),r.lanes|=1),t)}var eZ=bs.ReactCurrentOwner,on=!1;function Fr(t,e,r,n){e.child=t===null?uV(e,null,r,n):du(e,t.child,r,n)}function FT(t,e,r,n,i){r=r.render;var s=e.ref;return Ll(e,i),n=TC(t,e,r,n,s,i),r=IC(),t!==null&&!on?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,vs(t,e,i)):(Ct&&r&&yC(e),e.flags|=1,Fr(t,e,n,i),e.child)}function LT(t,e,r,n,i){if(t===null){var s=r.type;return typeof s=="function"&&!BC(s)&&s.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(e.tag=15,e.type=s,DV(t,e,s,n,i)):(t=If(r.type,null,n,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var a=s.memoizedProps;if(r=r.compare,r=r!==null?r:dd,r(a,n)&&t.ref===e.ref)return vs(t,e,i)}return e.flags|=1,t=la(s,n),t.ref=e.ref,t.return=e,e.child=t}function DV(t,e,r,n,i){if(t!==null){var s=t.memoizedProps;if(dd(s,n)&&t.ref===e.ref)if(on=!1,e.pendingProps=n=s,(t.lanes&i)!==0)t.flags&131072&&(on=!0);else return e.lanes=t.lanes,vs(t,e,i)}return AN(t,e,r,n,i)}function MV(t,e,r){var n=e.pendingProps,i=n.children,s=t!==null?t.memoizedState:null;if(n.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},xt(Pl,wn),wn|=r;else{if(!(r&1073741824))return t=s!==null?s.baseLanes|r:r,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,xt(Pl,wn),wn|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=s!==null?s.baseLanes:r,xt(Pl,wn),wn|=n}else s!==null?(n=s.baseLanes|r,e.memoizedState=null):n=r,xt(Pl,wn),wn|=n;return Fr(t,e,i,r),e.child}function qV(t,e){var r=e.ref;(t===null&&r!==null||t!==null&&t.ref!==r)&&(e.flags|=512,e.flags|=2097152)}function AN(t,e,r,n,i){var s=cn(r)?wo:Dr.current;return s=uu(e,s),Ll(e,i),r=TC(t,e,r,n,s,i),n=IC(),t!==null&&!on?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,vs(t,e,i)):(Ct&&n&&yC(e),e.flags|=1,Fr(t,e,r,i),e.child)}function BT(t,e,r,n,i){if(cn(r)){var s=!0;Jf(e)}else s=!1;if(Ll(e,i),e.stateNode===null)Of(t,e),RV(e,r,n),MN(e,r,n,i),n=!0;else if(t===null){var a=e.stateNode,o=e.memoizedProps;a.props=o;var u=a.context,c=r.contextType;typeof c=="object"&&c!==null?c=Kn(c):(c=cn(r)?wo:Dr.current,c=uu(e,c));var d=r.getDerivedStateFromProps,h=typeof d=="function"||typeof a.getSnapshotBeforeUpdate=="function";h||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o!==n||u!==c)&&DT(e,a,n,c),Ds=!1;var f=e.memoizedState;a.state=f,np(e,n,a,i),u=e.memoizedState,o!==n||f!==u||un.current||Ds?(typeof d=="function"&&(DN(e,r,d,n),u=e.memoizedState),(o=Ds||kT(e,r,o,n,f,u,c))?(h||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(e.flags|=4194308)):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=n,e.memoizedState=u),a.props=n,a.state=u,a.context=c,n=o):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),n=!1)}else{a=e.stateNode,dV(t,e),o=e.memoizedProps,c=e.type===e.elementType?o:ni(e.type,o),a.props=c,h=e.pendingProps,f=a.context,u=r.contextType,typeof u=="object"&&u!==null?u=Kn(u):(u=cn(r)?wo:Dr.current,u=uu(e,u));var p=r.getDerivedStateFromProps;(d=typeof p=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o!==h||f!==u)&&DT(e,a,n,u),Ds=!1,f=e.memoizedState,a.state=f,np(e,n,a,i);var m=e.memoizedState;o!==h||f!==m||un.current||Ds?(typeof p=="function"&&(DN(e,r,p,n),m=e.memoizedState),(c=Ds||kT(e,r,c,n,f,m,u)||!1)?(d||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(n,m,u),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(n,m,u)),typeof a.componentDidUpdate=="function"&&(e.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof a.componentDidUpdate!="function"||o===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||o===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=n,e.memoizedState=m),a.props=n,a.state=m,a.context=u,n=c):(typeof a.componentDidUpdate!="function"||o===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||o===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),n=!1)}return FN(t,e,r,n,s,i)}function FN(t,e,r,n,i,s){qV(t,e);var a=(e.flags&128)!==0;if(!n&&!a)return i&&jT(e,r,!1),vs(t,e,s);n=e.stateNode,eZ.current=e;var o=a&&typeof r.getDerivedStateFromError!="function"?null:n.render();return e.flags|=1,t!==null&&a?(e.child=du(e,t.child,null,s),e.child=du(e,null,o,s)):Fr(t,e,o,s),e.memoizedState=n.state,i&&jT(e,r,!0),e.child}function AV(t){var e=t.stateNode;e.pendingContext?NT(t,e.pendingContext,e.pendingContext!==e.context):e.context&&NT(t,e.context,!1),jC(t,e.containerInfo)}function zT(t,e,r,n,i){return cu(),xC(i),e.flags|=256,Fr(t,e,r,n),e.child}var LN={dehydrated:null,treeContext:null,retryLane:0};function BN(t){return{baseLanes:t,cachePool:null,transitions:null}}function FV(t,e,r){var n=e.pendingProps,i=Pt.current,s=!1,a=(e.flags&128)!==0,o;if((o=a)||(o=t!==null&&t.memoizedState===null?!1:(i&2)!==0),o?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),xt(Pt,i&1),t===null)return $N(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(a=n.children,t=n.fallback,s?(n=e.mode,s=e.child,a={mode:"hidden",children:a},!(n&1)&&s!==null?(s.childLanes=0,s.pendingProps=a):s=Xp(a,n,0,null),t=ho(t,n,r,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=BN(r),e.memoizedState=LN,t):kC(e,a));if(i=t.memoizedState,i!==null&&(o=i.dehydrated,o!==null))return tZ(t,e,a,n,o,i,r);if(s){s=n.fallback,a=e.mode,i=t.child,o=i.sibling;var u={mode:"hidden",children:n.children};return!(a&1)&&e.child!==i?(n=e.child,n.childLanes=0,n.pendingProps=u,e.deletions=null):(n=la(i,u),n.subtreeFlags=i.subtreeFlags&14680064),o!==null?s=la(o,s):(s=ho(s,a,r,null),s.flags|=2),s.return=e,n.return=e,n.sibling=s,e.child=n,n=s,s=e.child,a=t.child.memoizedState,a=a===null?BN(r):{baseLanes:a.baseLanes|r,cachePool:null,transitions:a.transitions},s.memoizedState=a,s.childLanes=t.childLanes&~r,e.memoizedState=LN,n}return s=t.child,t=s.sibling,n=la(s,{mode:"visible",children:n.children}),!(e.mode&1)&&(n.lanes=r),n.return=e,n.sibling=null,t!==null&&(r=e.deletions,r===null?(e.deletions=[t],e.flags|=16):r.push(t)),e.child=n,e.memoizedState=null,n}function kC(t,e){return e=Xp({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function rf(t,e,r,n){return n!==null&&xC(n),du(e,t.child,null,r),t=kC(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function tZ(t,e,r,n,i,s,a){if(r)return e.flags&256?(e.flags&=-257,n=yv(Error(te(422))),rf(t,e,a,n)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=n.fallback,i=e.mode,n=Xp({mode:"visible",children:n.children},i,0,null),s=ho(s,i,a,null),s.flags|=2,n.return=e,s.return=e,n.sibling=s,e.child=n,e.mode&1&&du(e,t.child,null,a),e.child.memoizedState=BN(a),e.memoizedState=LN,s);if(!(e.mode&1))return rf(t,e,a,null);if(i.data==="$!"){if(n=i.nextSibling&&i.nextSibling.dataset,n)var o=n.dgst;return n=o,s=Error(te(419)),n=yv(s,n,void 0),rf(t,e,a,n)}if(o=(a&t.childLanes)!==0,on||o){if(n=fr,n!==null){switch(a&-a){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(n.suspendedLanes|a)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,ms(t,i),fi(n,t,i,-1))}return LC(),n=yv(Error(te(421))),rf(t,e,a,n)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=pZ.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,En=ia(i.nextSibling),Nn=e,Ct=!0,oi=null,t!==null&&(Fn[Ln++]=Ji,Fn[Ln++]=Zi,Fn[Ln++]=_o,Ji=t.id,Zi=t.overflow,_o=e),e=kC(e,n.children),e.flags|=4096,e)}function UT(t,e,r){t.lanes|=e;var n=t.alternate;n!==null&&(n.lanes|=e),kN(t.return,e,r)}function bv(t,e,r,n,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=n,s.tail=r,s.tailMode=i)}function LV(t,e,r){var n=e.pendingProps,i=n.revealOrder,s=n.tail;if(Fr(t,e,n.children,r),n=Pt.current,n&2)n=n&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&UT(t,r,e);else if(t.tag===19)UT(t,r,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}n&=1}if(xt(Pt,n),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(r=e.child,i=null;r!==null;)t=r.alternate,t!==null&&ip(t)===null&&(i=r),r=r.sibling;r=i,r===null?(i=e.child,e.child=null):(i=r.sibling,r.sibling=null),bv(e,!1,i,r,s);break;case"backwards":for(r=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&ip(t)===null){e.child=i;break}t=i.sibling,i.sibling=r,r=i,i=t}bv(e,!0,r,null,s);break;case"together":bv(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Of(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function vs(t,e,r){if(t!==null&&(e.dependencies=t.dependencies),Eo|=e.lanes,!(r&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(te(153));if(e.child!==null){for(t=e.child,r=la(t,t.pendingProps),e.child=r,r.return=e;t.sibling!==null;)t=t.sibling,r=r.sibling=la(t,t.pendingProps),r.return=e;r.sibling=null}return e.child}function rZ(t,e,r){switch(e.tag){case 3:AV(e),cu();break;case 5:hV(e);break;case 1:cn(e.type)&&Jf(e);break;case 4:jC(e,e.stateNode.containerInfo);break;case 10:var n=e.type._context,i=e.memoizedProps.value;xt(tp,n._currentValue),n._currentValue=i;break;case 13:if(n=e.memoizedState,n!==null)return n.dehydrated!==null?(xt(Pt,Pt.current&1),e.flags|=128,null):r&e.child.childLanes?FV(t,e,r):(xt(Pt,Pt.current&1),t=vs(t,e,r),t!==null?t.sibling:null);xt(Pt,Pt.current&1);break;case 19:if(n=(r&e.childLanes)!==0,t.flags&128){if(n)return LV(t,e,r);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),xt(Pt,Pt.current),n)break;return null;case 22:case 23:return e.lanes=0,MV(t,e,r)}return vs(t,e,r)}var BV,zN,zV,UV;BV=function(t,e){for(var r=e.child;r!==null;){if(r.tag===5||r.tag===6)t.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};zN=function(){};zV=function(t,e,r,n){var i=t.memoizedProps;if(i!==n){t=e.stateNode,Ha(ki.current);var s=null;switch(r){case"input":i=cN(t,i),n=cN(t,n),s=[];break;case"select":i=Rt({},i,{value:void 0}),n=Rt({},n,{value:void 0}),s=[];break;case"textarea":i=fN(t,i),n=fN(t,n),s=[];break;default:typeof i.onClick!="function"&&typeof n.onClick=="function"&&(t.onclick=Qf)}mN(r,n);var a;r=null;for(c in i)if(!n.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var o=i[c];for(a in o)o.hasOwnProperty(a)&&(r||(r={}),r[a]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(id.hasOwnProperty(c)?s||(s=[]):(s=s||[]).push(c,null));for(c in n){var u=n[c];if(o=i!=null?i[c]:void 0,n.hasOwnProperty(c)&&u!==o&&(u!=null||o!=null))if(c==="style")if(o){for(a in o)!o.hasOwnProperty(a)||u&&u.hasOwnProperty(a)||(r||(r={}),r[a]="");for(a in u)u.hasOwnProperty(a)&&o[a]!==u[a]&&(r||(r={}),r[a]=u[a])}else r||(s||(s=[]),s.push(c,r)),r=u;else c==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,o=o?o.__html:void 0,u!=null&&o!==u&&(s=s||[]).push(c,u)):c==="children"?typeof u!="string"&&typeof u!="number"||(s=s||[]).push(c,""+u):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(id.hasOwnProperty(c)?(u!=null&&c==="onScroll"&&wt("scroll",t),s||o===u||(s=[])):(s=s||[]).push(c,u))}r&&(s=s||[]).push("style",r);var c=s;(e.updateQueue=c)&&(e.flags|=4)}};UV=function(t,e,r,n){r!==n&&(e.flags|=4)};function _c(t,e){if(!Ct)switch(t.tailMode){case"hidden":e=t.tail;for(var r=null;e!==null;)e.alternate!==null&&(r=e),e=e.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:n.sibling=null}}function Ir(t){var e=t.alternate!==null&&t.alternate.child===t.child,r=0,n=0;if(e)for(var i=t.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags&14680064,n|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags,n|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=n,t.childLanes=r,e}function nZ(t,e,r){var n=e.pendingProps;switch(bC(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ir(e),null;case 1:return cn(e.type)&&Xf(),Ir(e),null;case 3:return n=e.stateNode,hu(),St(un),St(Dr),OC(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(ef(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,oi!==null&&(QN(oi),oi=null))),zN(t,e),Ir(e),null;case 5:CC(e);var i=Ha(vd.current);if(r=e.type,t!==null&&e.stateNode!=null)zV(t,e,r,n,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!n){if(e.stateNode===null)throw Error(te(166));return Ir(e),null}if(t=Ha(ki.current),ef(e)){n=e.stateNode,r=e.type;var s=e.memoizedProps;switch(n[Oi]=e,n[pd]=s,t=(e.mode&1)!==0,r){case"dialog":wt("cancel",n),wt("close",n);break;case"iframe":case"object":case"embed":wt("load",n);break;case"video":case"audio":for(i=0;i<Mc.length;i++)wt(Mc[i],n);break;case"source":wt("error",n);break;case"img":case"image":case"link":wt("error",n),wt("load",n);break;case"details":wt("toggle",n);break;case"input":JP(n,s),wt("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!s.multiple},wt("invalid",n);break;case"textarea":eT(n,s),wt("invalid",n)}mN(r,s),i=null;for(var a in s)if(s.hasOwnProperty(a)){var o=s[a];a==="children"?typeof o=="string"?n.textContent!==o&&(s.suppressHydrationWarning!==!0&&Zh(n.textContent,o,t),i=["children",o]):typeof o=="number"&&n.textContent!==""+o&&(s.suppressHydrationWarning!==!0&&Zh(n.textContent,o,t),i=["children",""+o]):id.hasOwnProperty(a)&&o!=null&&a==="onScroll"&&wt("scroll",n)}switch(r){case"input":Vh(n),ZP(n,s,!0);break;case"textarea":Vh(n),tT(n);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(n.onclick=Qf)}n=i,e.updateQueue=n,n!==null&&(e.flags|=4)}else{a=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=gW(r)),t==="http://www.w3.org/1999/xhtml"?r==="script"?(t=a.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof n.is=="string"?t=a.createElement(r,{is:n.is}):(t=a.createElement(r),r==="select"&&(a=t,n.multiple?a.multiple=!0:n.size&&(a.size=n.size))):t=a.createElementNS(t,r),t[Oi]=e,t[pd]=n,BV(t,e,!1,!1),e.stateNode=t;e:{switch(a=vN(r,n),r){case"dialog":wt("cancel",t),wt("close",t),i=n;break;case"iframe":case"object":case"embed":wt("load",t),i=n;break;case"video":case"audio":for(i=0;i<Mc.length;i++)wt(Mc[i],t);i=n;break;case"source":wt("error",t),i=n;break;case"img":case"image":case"link":wt("error",t),wt("load",t),i=n;break;case"details":wt("toggle",t),i=n;break;case"input":JP(t,n),i=cN(t,n),wt("invalid",t);break;case"option":i=n;break;case"select":t._wrapperState={wasMultiple:!!n.multiple},i=Rt({},n,{value:void 0}),wt("invalid",t);break;case"textarea":eT(t,n),i=fN(t,n),wt("invalid",t);break;default:i=n}mN(r,i),o=i;for(s in o)if(o.hasOwnProperty(s)){var u=o[s];s==="style"?xW(t,u):s==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,u!=null&&yW(t,u)):s==="children"?typeof u=="string"?(r!=="textarea"||u!=="")&&sd(t,u):typeof u=="number"&&sd(t,""+u):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(id.hasOwnProperty(s)?u!=null&&s==="onScroll"&&wt("scroll",t):u!=null&&iC(t,s,u,a))}switch(r){case"input":Vh(t),ZP(t,n,!1);break;case"textarea":Vh(t),tT(t);break;case"option":n.value!=null&&t.setAttribute("value",""+ya(n.value));break;case"select":t.multiple=!!n.multiple,s=n.value,s!=null?Ml(t,!!n.multiple,s,!1):n.defaultValue!=null&&Ml(t,!!n.multiple,n.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=Qf)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Ir(e),null;case 6:if(t&&e.stateNode!=null)UV(t,e,t.memoizedProps,n);else{if(typeof n!="string"&&e.stateNode===null)throw Error(te(166));if(r=Ha(vd.current),Ha(ki.current),ef(e)){if(n=e.stateNode,r=e.memoizedProps,n[Oi]=e,(s=n.nodeValue!==r)&&(t=Nn,t!==null))switch(t.tag){case 3:Zh(n.nodeValue,r,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Zh(n.nodeValue,r,(t.mode&1)!==0)}s&&(e.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[Oi]=e,e.stateNode=n}return Ir(e),null;case 13:if(St(Pt),n=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Ct&&En!==null&&e.mode&1&&!(e.flags&128))oV(),cu(),e.flags|=98560,s=!1;else if(s=ef(e),n!==null&&n.dehydrated!==null){if(t===null){if(!s)throw Error(te(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(te(317));s[Oi]=e}else cu(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Ir(e),s=!1}else oi!==null&&(QN(oi),oi=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=r,e):(n=n!==null,n!==(t!==null&&t.memoizedState!==null)&&n&&(e.child.flags|=8192,e.mode&1&&(t===null||Pt.current&1?lr===0&&(lr=3):LC())),e.updateQueue!==null&&(e.flags|=4),Ir(e),null);case 4:return hu(),zN(t,e),t===null&&hd(e.stateNode.containerInfo),Ir(e),null;case 10:return SC(e.type._context),Ir(e),null;case 17:return cn(e.type)&&Xf(),Ir(e),null;case 19:if(St(Pt),s=e.memoizedState,s===null)return Ir(e),null;if(n=(e.flags&128)!==0,a=s.rendering,a===null)if(n)_c(s,!1);else{if(lr!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(a=ip(t),a!==null){for(e.flags|=128,_c(s,!1),n=a.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),e.subtreeFlags=0,n=r,r=e.child;r!==null;)s=r,t=n,s.flags&=14680066,a=s.alternate,a===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=a.childLanes,s.lanes=a.lanes,s.child=a.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=a.memoizedProps,s.memoizedState=a.memoizedState,s.updateQueue=a.updateQueue,s.type=a.type,t=a.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),r=r.sibling;return xt(Pt,Pt.current&1|2),e.child}t=t.sibling}s.tail!==null&&Ht()>pu&&(e.flags|=128,n=!0,_c(s,!1),e.lanes=4194304)}else{if(!n)if(t=ip(a),t!==null){if(e.flags|=128,n=!0,r=t.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),_c(s,!0),s.tail===null&&s.tailMode==="hidden"&&!a.alternate&&!Ct)return Ir(e),null}else 2*Ht()-s.renderingStartTime>pu&&r!==1073741824&&(e.flags|=128,n=!0,_c(s,!1),e.lanes=4194304);s.isBackwards?(a.sibling=e.child,e.child=a):(r=s.last,r!==null?r.sibling=a:e.child=a,s.last=a)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=Ht(),e.sibling=null,r=Pt.current,xt(Pt,n?r&1|2:r&1),e):(Ir(e),null);case 22:case 23:return FC(),n=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==n&&(e.flags|=8192),n&&e.mode&1?wn&1073741824&&(Ir(e),e.subtreeFlags&6&&(e.flags|=8192)):Ir(e),null;case 24:return null;case 25:return null}throw Error(te(156,e.tag))}function iZ(t,e){switch(bC(e),e.tag){case 1:return cn(e.type)&&Xf(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return hu(),St(un),St(Dr),OC(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return CC(e),null;case 13:if(St(Pt),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(te(340));cu()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return St(Pt),null;case 4:return hu(),null;case 10:return SC(e.type._context),null;case 22:case 23:return FC(),null;case 24:return null;default:return null}}var nf=!1,$r=!1,sZ=typeof WeakSet=="function"?WeakSet:Set,ye=null;function Ol(t,e){var r=t.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){At(t,e,n)}else r.current=null}function UN(t,e,r){try{r()}catch(n){At(t,e,n)}}var WT=!1;function aZ(t,e){if(jN=Kf,t=GW(),gC(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var i=n.anchorOffset,s=n.focusNode;n=n.focusOffset;try{r.nodeType,s.nodeType}catch{r=null;break e}var a=0,o=-1,u=-1,c=0,d=0,h=t,f=null;t:for(;;){for(var p;h!==r||i!==0&&h.nodeType!==3||(o=a+i),h!==s||n!==0&&h.nodeType!==3||(u=a+n),h.nodeType===3&&(a+=h.nodeValue.length),(p=h.firstChild)!==null;)f=h,h=p;for(;;){if(h===t)break t;if(f===r&&++c===i&&(o=a),f===s&&++d===n&&(u=a),(p=h.nextSibling)!==null)break;h=f,f=h.parentNode}h=p}r=o===-1||u===-1?null:{start:o,end:u}}else r=null}r=r||{start:0,end:0}}else r=null;for(CN={focusedElem:t,selectionRange:r},Kf=!1,ye=e;ye!==null;)if(e=ye,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,ye=t;else for(;ye!==null;){e=ye;try{var m=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(m!==null){var y=m.memoizedProps,x=m.memoizedState,g=e.stateNode,v=g.getSnapshotBeforeUpdate(e.elementType===e.type?y:ni(e.type,y),x);g.__reactInternalSnapshotBeforeUpdate=v}break;case 3:var w=e.stateNode.containerInfo;w.nodeType===1?w.textContent="":w.nodeType===9&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(te(163))}}catch(b){At(e,e.return,b)}if(t=e.sibling,t!==null){t.return=e.return,ye=t;break}ye=e.return}return m=WT,WT=!1,m}function Hc(t,e,r){var n=e.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var i=n=n.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&UN(e,r,s)}i=i.next}while(i!==n)}}function Yp(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var r=e=e.next;do{if((r.tag&t)===t){var n=r.create;r.destroy=n()}r=r.next}while(r!==e)}}function WN(t){var e=t.ref;if(e!==null){var r=t.stateNode;switch(t.tag){case 5:t=r;break;default:t=r}typeof e=="function"?e(t):e.current=t}}function WV(t){var e=t.alternate;e!==null&&(t.alternate=null,WV(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Oi],delete e[pd],delete e[TN],delete e[zJ],delete e[UJ])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function VV(t){return t.tag===5||t.tag===3||t.tag===4}function VT(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||VV(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function VN(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.nodeType===8?r.parentNode.insertBefore(t,e):r.insertBefore(t,e):(r.nodeType===8?(e=r.parentNode,e.insertBefore(t,r)):(e=r,e.appendChild(t)),r=r._reactRootContainer,r!=null||e.onclick!==null||(e.onclick=Qf));else if(n!==4&&(t=t.child,t!==null))for(VN(t,e,r),t=t.sibling;t!==null;)VN(t,e,r),t=t.sibling}function HN(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.insertBefore(t,e):r.appendChild(t);else if(n!==4&&(t=t.child,t!==null))for(HN(t,e,r),t=t.sibling;t!==null;)HN(t,e,r),t=t.sibling}var _r=null,ai=!1;function Ts(t,e,r){for(r=r.child;r!==null;)HV(t,e,r),r=r.sibling}function HV(t,e,r){if($i&&typeof $i.onCommitFiberUnmount=="function")try{$i.onCommitFiberUnmount(Bp,r)}catch{}switch(r.tag){case 5:$r||Ol(r,e);case 6:var n=_r,i=ai;_r=null,Ts(t,e,r),_r=n,ai=i,_r!==null&&(ai?(t=_r,r=r.stateNode,t.nodeType===8?t.parentNode.removeChild(r):t.removeChild(r)):_r.removeChild(r.stateNode));break;case 18:_r!==null&&(ai?(t=_r,r=r.stateNode,t.nodeType===8?hv(t.parentNode,r):t.nodeType===1&&hv(t,r),ud(t)):hv(_r,r.stateNode));break;case 4:n=_r,i=ai,_r=r.stateNode.containerInfo,ai=!0,Ts(t,e,r),_r=n,ai=i;break;case 0:case 11:case 14:case 15:if(!$r&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){i=n=n.next;do{var s=i,a=s.destroy;s=s.tag,a!==void 0&&(s&2||s&4)&&UN(r,e,a),i=i.next}while(i!==n)}Ts(t,e,r);break;case 1:if(!$r&&(Ol(r,e),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(o){At(r,e,o)}Ts(t,e,r);break;case 21:Ts(t,e,r);break;case 22:r.mode&1?($r=(n=$r)||r.memoizedState!==null,Ts(t,e,r),$r=n):Ts(t,e,r);break;default:Ts(t,e,r)}}function HT(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var r=t.stateNode;r===null&&(r=t.stateNode=new sZ),e.forEach(function(n){var i=mZ.bind(null,t,n);r.has(n)||(r.add(n),n.then(i,i))})}}function ti(t,e){var r=e.deletions;if(r!==null)for(var n=0;n<r.length;n++){var i=r[n];try{var s=t,a=e,o=a;e:for(;o!==null;){switch(o.tag){case 5:_r=o.stateNode,ai=!1;break e;case 3:_r=o.stateNode.containerInfo,ai=!0;break e;case 4:_r=o.stateNode.containerInfo,ai=!0;break e}o=o.return}if(_r===null)throw Error(te(160));HV(s,a,i),_r=null,ai=!1;var u=i.alternate;u!==null&&(u.return=null),i.return=null}catch(c){At(i,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)KV(e,t),e=e.sibling}function KV(t,e){var r=t.alternate,n=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(ti(e,t),wi(t),n&4){try{Hc(3,t,t.return),Yp(3,t)}catch(y){At(t,t.return,y)}try{Hc(5,t,t.return)}catch(y){At(t,t.return,y)}}break;case 1:ti(e,t),wi(t),n&512&&r!==null&&Ol(r,r.return);break;case 5:if(ti(e,t),wi(t),n&512&&r!==null&&Ol(r,r.return),t.flags&32){var i=t.stateNode;try{sd(i,"")}catch(y){At(t,t.return,y)}}if(n&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,a=r!==null?r.memoizedProps:s,o=t.type,u=t.updateQueue;if(t.updateQueue=null,u!==null)try{o==="input"&&s.type==="radio"&&s.name!=null&&mW(i,s),vN(o,a);var c=vN(o,s);for(a=0;a<u.length;a+=2){var d=u[a],h=u[a+1];d==="style"?xW(i,h):d==="dangerouslySetInnerHTML"?yW(i,h):d==="children"?sd(i,h):iC(i,d,h,c)}switch(o){case"input":dN(i,s);break;case"textarea":vW(i,s);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var p=s.value;p!=null?Ml(i,!!s.multiple,p,!1):f!==!!s.multiple&&(s.defaultValue!=null?Ml(i,!!s.multiple,s.defaultValue,!0):Ml(i,!!s.multiple,s.multiple?[]:"",!1))}i[pd]=s}catch(y){At(t,t.return,y)}}break;case 6:if(ti(e,t),wi(t),n&4){if(t.stateNode===null)throw Error(te(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(y){At(t,t.return,y)}}break;case 3:if(ti(e,t),wi(t),n&4&&r!==null&&r.memoizedState.isDehydrated)try{ud(e.containerInfo)}catch(y){At(t,t.return,y)}break;case 4:ti(e,t),wi(t);break;case 13:ti(e,t),wi(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(qC=Ht())),n&4&&HT(t);break;case 22:if(d=r!==null&&r.memoizedState!==null,t.mode&1?($r=(c=$r)||d,ti(e,t),$r=c):ti(e,t),wi(t),n&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!d&&t.mode&1)for(ye=t,d=t.child;d!==null;){for(h=ye=d;ye!==null;){switch(f=ye,p=f.child,f.tag){case 0:case 11:case 14:case 15:Hc(4,f,f.return);break;case 1:Ol(f,f.return);var m=f.stateNode;if(typeof m.componentWillUnmount=="function"){n=f,r=f.return;try{e=n,m.props=e.memoizedProps,m.state=e.memoizedState,m.componentWillUnmount()}catch(y){At(n,r,y)}}break;case 5:Ol(f,f.return);break;case 22:if(f.memoizedState!==null){GT(h);continue}}p!==null?(p.return=f,ye=p):GT(h)}d=d.sibling}e:for(d=null,h=t;;){if(h.tag===5){if(d===null){d=h;try{i=h.stateNode,c?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(o=h.stateNode,u=h.memoizedProps.style,a=u!=null&&u.hasOwnProperty("display")?u.display:null,o.style.display=bW("display",a))}catch(y){At(t,t.return,y)}}}else if(h.tag===6){if(d===null)try{h.stateNode.nodeValue=c?"":h.memoizedProps}catch(y){At(t,t.return,y)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:ti(e,t),wi(t),n&4&&HT(t);break;case 21:break;default:ti(e,t),wi(t)}}function wi(t){var e=t.flags;if(e&2){try{e:{for(var r=t.return;r!==null;){if(VV(r)){var n=r;break e}r=r.return}throw Error(te(160))}switch(n.tag){case 5:var i=n.stateNode;n.flags&32&&(sd(i,""),n.flags&=-33);var s=VT(t);HN(t,s,i);break;case 3:case 4:var a=n.stateNode.containerInfo,o=VT(t);VN(t,o,a);break;default:throw Error(te(161))}}catch(u){At(t,t.return,u)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function oZ(t,e,r){ye=t,GV(t)}function GV(t,e,r){for(var n=(t.mode&1)!==0;ye!==null;){var i=ye,s=i.child;if(i.tag===22&&n){var a=i.memoizedState!==null||nf;if(!a){var o=i.alternate,u=o!==null&&o.memoizedState!==null||$r;o=nf;var c=$r;if(nf=a,($r=u)&&!c)for(ye=i;ye!==null;)a=ye,u=a.child,a.tag===22&&a.memoizedState!==null?YT(i):u!==null?(u.return=a,ye=u):YT(i);for(;s!==null;)ye=s,GV(s),s=s.sibling;ye=i,nf=o,$r=c}KT(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,ye=s):KT(t)}}function KT(t){for(;ye!==null;){var e=ye;if(e.flags&8772){var r=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:$r||Yp(5,e);break;case 1:var n=e.stateNode;if(e.flags&4&&!$r)if(r===null)n.componentDidMount();else{var i=e.elementType===e.type?r.memoizedProps:ni(e.type,r.memoizedProps);n.componentDidUpdate(i,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&IT(e,s,n);break;case 3:var a=e.updateQueue;if(a!==null){if(r=null,e.child!==null)switch(e.child.tag){case 5:r=e.child.stateNode;break;case 1:r=e.child.stateNode}IT(e,a,r)}break;case 5:var o=e.stateNode;if(r===null&&e.flags&4){r=o;var u=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&r.focus();break;case"img":u.src&&(r.src=u.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var d=c.memoizedState;if(d!==null){var h=d.dehydrated;h!==null&&ud(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(te(163))}$r||e.flags&512&&WN(e)}catch(f){At(e,e.return,f)}}if(e===t){ye=null;break}if(r=e.sibling,r!==null){r.return=e.return,ye=r;break}ye=e.return}}function GT(t){for(;ye!==null;){var e=ye;if(e===t){ye=null;break}var r=e.sibling;if(r!==null){r.return=e.return,ye=r;break}ye=e.return}}function YT(t){for(;ye!==null;){var e=ye;try{switch(e.tag){case 0:case 11:case 15:var r=e.return;try{Yp(4,e)}catch(u){At(e,r,u)}break;case 1:var n=e.stateNode;if(typeof n.componentDidMount=="function"){var i=e.return;try{n.componentDidMount()}catch(u){At(e,i,u)}}var s=e.return;try{WN(e)}catch(u){At(e,s,u)}break;case 5:var a=e.return;try{WN(e)}catch(u){At(e,a,u)}}}catch(u){At(e,e.return,u)}if(e===t){ye=null;break}var o=e.sibling;if(o!==null){o.return=e.return,ye=o;break}ye=e.return}}var lZ=Math.ceil,op=bs.ReactCurrentDispatcher,DC=bs.ReactCurrentOwner,Wn=bs.ReactCurrentBatchConfig,Je=0,fr=null,Xt=null,Er=0,wn=0,Pl=ja(0),lr=0,xd=null,Eo=0,Qp=0,MC=0,Kc=null,nn=null,qC=0,pu=1/0,Hi=null,lp=!1,KN=null,aa=null,sf=!1,Js=null,up=0,Gc=0,GN=null,Pf=-1,Tf=0;function Wr(){return Je&6?Ht():Pf!==-1?Pf:Pf=Ht()}function oa(t){return t.mode&1?Je&2&&Er!==0?Er&-Er:VJ.transition!==null?(Tf===0&&(Tf=RW()),Tf):(t=lt,t!==0||(t=window.event,t=t===void 0?16:FW(t.type)),t):1}function fi(t,e,r,n){if(50<Gc)throw Gc=0,GN=null,Error(te(185));Hd(t,r,n),(!(Je&2)||t!==fr)&&(t===fr&&(!(Je&2)&&(Qp|=r),lr===4&&Fs(t,Er)),dn(t,n),r===1&&Je===0&&!(e.mode&1)&&(pu=Ht()+500,Hp&&Ca()))}function dn(t,e){var r=t.callbackNode;VX(t,e);var n=Hf(t,t===fr?Er:0);if(n===0)r!==null&&iT(r),t.callbackNode=null,t.callbackPriority=0;else if(e=n&-n,t.callbackPriority!==e){if(r!=null&&iT(r),e===1)t.tag===0?WJ(QT.bind(null,t)):iV(QT.bind(null,t)),LJ(function(){!(Je&6)&&Ca()}),r=null;else{switch($W(n)){case 1:r=uC;break;case 4:r=TW;break;case 16:r=Vf;break;case 536870912:r=IW;break;default:r=Vf}r=rH(r,YV.bind(null,t))}t.callbackPriority=e,t.callbackNode=r}}function YV(t,e){if(Pf=-1,Tf=0,Je&6)throw Error(te(327));var r=t.callbackNode;if(Bl()&&t.callbackNode!==r)return null;var n=Hf(t,t===fr?Er:0);if(n===0)return null;if(n&30||n&t.expiredLanes||e)e=cp(t,n);else{e=n;var i=Je;Je|=2;var s=XV();(fr!==t||Er!==e)&&(Hi=null,pu=Ht()+500,co(t,e));do try{dZ();break}catch(o){QV(t,o)}while(!0);_C(),op.current=s,Je=i,Xt!==null?e=0:(fr=null,Er=0,e=lr)}if(e!==0){if(e===2&&(i=wN(t),i!==0&&(n=i,e=YN(t,i))),e===1)throw r=xd,co(t,0),Fs(t,n),dn(t,Ht()),r;if(e===6)Fs(t,n);else{if(i=t.current.alternate,!(n&30)&&!uZ(i)&&(e=cp(t,n),e===2&&(s=wN(t),s!==0&&(n=s,e=YN(t,s))),e===1))throw r=xd,co(t,0),Fs(t,n),dn(t,Ht()),r;switch(t.finishedWork=i,t.finishedLanes=n,e){case 0:case 1:throw Error(te(345));case 2:Ba(t,nn,Hi);break;case 3:if(Fs(t,n),(n&130023424)===n&&(e=qC+500-Ht(),10<e)){if(Hf(t,0)!==0)break;if(i=t.suspendedLanes,(i&n)!==n){Wr(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=PN(Ba.bind(null,t,nn,Hi),e);break}Ba(t,nn,Hi);break;case 4:if(Fs(t,n),(n&4194240)===n)break;for(e=t.eventTimes,i=-1;0<n;){var a=31-hi(n);s=1<<a,a=e[a],a>i&&(i=a),n&=~s}if(n=i,n=Ht()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*lZ(n/1960))-n,10<n){t.timeoutHandle=PN(Ba.bind(null,t,nn,Hi),n);break}Ba(t,nn,Hi);break;case 5:Ba(t,nn,Hi);break;default:throw Error(te(329))}}}return dn(t,Ht()),t.callbackNode===r?YV.bind(null,t):null}function YN(t,e){var r=Kc;return t.current.memoizedState.isDehydrated&&(co(t,e).flags|=256),t=cp(t,e),t!==2&&(e=nn,nn=r,e!==null&&QN(e)),t}function QN(t){nn===null?nn=t:nn.push.apply(nn,t)}function uZ(t){for(var e=t;;){if(e.flags&16384){var r=e.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var i=r[n],s=i.getSnapshot;i=i.value;try{if(!pi(s(),i))return!1}catch{return!1}}}if(r=e.child,e.subtreeFlags&16384&&r!==null)r.return=e,e=r;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Fs(t,e){for(e&=~MC,e&=~Qp,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var r=31-hi(e),n=1<<r;t[r]=-1,e&=~n}}function QT(t){if(Je&6)throw Error(te(327));Bl();var e=Hf(t,0);if(!(e&1))return dn(t,Ht()),null;var r=cp(t,e);if(t.tag!==0&&r===2){var n=wN(t);n!==0&&(e=n,r=YN(t,n))}if(r===1)throw r=xd,co(t,0),Fs(t,e),dn(t,Ht()),r;if(r===6)throw Error(te(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Ba(t,nn,Hi),dn(t,Ht()),null}function AC(t,e){var r=Je;Je|=1;try{return t(e)}finally{Je=r,Je===0&&(pu=Ht()+500,Hp&&Ca())}}function No(t){Js!==null&&Js.tag===0&&!(Je&6)&&Bl();var e=Je;Je|=1;var r=Wn.transition,n=lt;try{if(Wn.transition=null,lt=1,t)return t()}finally{lt=n,Wn.transition=r,Je=e,!(Je&6)&&Ca()}}function FC(){wn=Pl.current,St(Pl)}function co(t,e){t.finishedWork=null,t.finishedLanes=0;var r=t.timeoutHandle;if(r!==-1&&(t.timeoutHandle=-1,FJ(r)),Xt!==null)for(r=Xt.return;r!==null;){var n=r;switch(bC(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&Xf();break;case 3:hu(),St(un),St(Dr),OC();break;case 5:CC(n);break;case 4:hu();break;case 13:St(Pt);break;case 19:St(Pt);break;case 10:SC(n.type._context);break;case 22:case 23:FC()}r=r.return}if(fr=t,Xt=t=la(t.current,null),Er=wn=e,lr=0,xd=null,MC=Qp=Eo=0,nn=Kc=null,Va!==null){for(e=0;e<Va.length;e++)if(r=Va[e],n=r.interleaved,n!==null){r.interleaved=null;var i=n.next,s=r.pending;if(s!==null){var a=s.next;s.next=i,n.next=a}r.pending=n}Va=null}return t}function QV(t,e){do{var r=Xt;try{if(_C(),jf.current=ap,sp){for(var n=Tt.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}sp=!1}if(So=0,hr=or=Tt=null,Vc=!1,gd=0,DC.current=null,r===null||r.return===null){lr=1,xd=e,Xt=null;break}e:{var s=t,a=r.return,o=r,u=e;if(e=Er,o.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){var c=u,d=o,h=d.tag;if(!(d.mode&1)&&(h===0||h===11||h===15)){var f=d.alternate;f?(d.updateQueue=f.updateQueue,d.memoizedState=f.memoizedState,d.lanes=f.lanes):(d.updateQueue=null,d.memoizedState=null)}var p=qT(a);if(p!==null){p.flags&=-257,AT(p,a,o,s,e),p.mode&1&&MT(s,c,e),e=p,u=c;var m=e.updateQueue;if(m===null){var y=new Set;y.add(u),e.updateQueue=y}else m.add(u);break e}else{if(!(e&1)){MT(s,c,e),LC();break e}u=Error(te(426))}}else if(Ct&&o.mode&1){var x=qT(a);if(x!==null){!(x.flags&65536)&&(x.flags|=256),AT(x,a,o,s,e),xC(fu(u,o));break e}}s=u=fu(u,o),lr!==4&&(lr=2),Kc===null?Kc=[s]:Kc.push(s),s=a;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var g=$V(s,u,e);TT(s,g);break e;case 1:o=u;var v=s.type,w=s.stateNode;if(!(s.flags&128)&&(typeof v.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(aa===null||!aa.has(w)))){s.flags|=65536,e&=-e,s.lanes|=e;var b=kV(s,o,e);TT(s,b);break e}}s=s.return}while(s!==null)}ZV(r)}catch(_){e=_,Xt===r&&r!==null&&(Xt=r=r.return);continue}break}while(!0)}function XV(){var t=op.current;return op.current=ap,t===null?ap:t}function LC(){(lr===0||lr===3||lr===2)&&(lr=4),fr===null||!(Eo&268435455)&&!(Qp&268435455)||Fs(fr,Er)}function cp(t,e){var r=Je;Je|=2;var n=XV();(fr!==t||Er!==e)&&(Hi=null,co(t,e));do try{cZ();break}catch(i){QV(t,i)}while(!0);if(_C(),Je=r,op.current=n,Xt!==null)throw Error(te(261));return fr=null,Er=0,lr}function cZ(){for(;Xt!==null;)JV(Xt)}function dZ(){for(;Xt!==null&&!MX();)JV(Xt)}function JV(t){var e=tH(t.alternate,t,wn);t.memoizedProps=t.pendingProps,e===null?ZV(t):Xt=e,DC.current=null}function ZV(t){var e=t;do{var r=e.alternate;if(t=e.return,e.flags&32768){if(r=iZ(r,e),r!==null){r.flags&=32767,Xt=r;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{lr=6,Xt=null;return}}else if(r=nZ(r,e,wn),r!==null){Xt=r;return}if(e=e.sibling,e!==null){Xt=e;return}Xt=e=t}while(e!==null);lr===0&&(lr=5)}function Ba(t,e,r){var n=lt,i=Wn.transition;try{Wn.transition=null,lt=1,hZ(t,e,r,n)}finally{Wn.transition=i,lt=n}return null}function hZ(t,e,r,n){do Bl();while(Js!==null);if(Je&6)throw Error(te(327));r=t.finishedWork;var i=t.finishedLanes;if(r===null)return null;if(t.finishedWork=null,t.finishedLanes=0,r===t.current)throw Error(te(177));t.callbackNode=null,t.callbackPriority=0;var s=r.lanes|r.childLanes;if(HX(t,s),t===fr&&(Xt=fr=null,Er=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||sf||(sf=!0,rH(Vf,function(){return Bl(),null})),s=(r.flags&15990)!==0,r.subtreeFlags&15990||s){s=Wn.transition,Wn.transition=null;var a=lt;lt=1;var o=Je;Je|=4,DC.current=null,aZ(t,r),KV(r,t),RJ(CN),Kf=!!jN,CN=jN=null,t.current=r,oZ(r),qX(),Je=o,lt=a,Wn.transition=s}else t.current=r;if(sf&&(sf=!1,Js=t,up=i),s=t.pendingLanes,s===0&&(aa=null),LX(r.stateNode),dn(t,Ht()),e!==null)for(n=t.onRecoverableError,r=0;r<e.length;r++)i=e[r],n(i.value,{componentStack:i.stack,digest:i.digest});if(lp)throw lp=!1,t=KN,KN=null,t;return up&1&&t.tag!==0&&Bl(),s=t.pendingLanes,s&1?t===GN?Gc++:(Gc=0,GN=t):Gc=0,Ca(),null}function Bl(){if(Js!==null){var t=$W(up),e=Wn.transition,r=lt;try{if(Wn.transition=null,lt=16>t?16:t,Js===null)var n=!1;else{if(t=Js,Js=null,up=0,Je&6)throw Error(te(331));var i=Je;for(Je|=4,ye=t.current;ye!==null;){var s=ye,a=s.child;if(ye.flags&16){var o=s.deletions;if(o!==null){for(var u=0;u<o.length;u++){var c=o[u];for(ye=c;ye!==null;){var d=ye;switch(d.tag){case 0:case 11:case 15:Hc(8,d,s)}var h=d.child;if(h!==null)h.return=d,ye=h;else for(;ye!==null;){d=ye;var f=d.sibling,p=d.return;if(WV(d),d===c){ye=null;break}if(f!==null){f.return=p,ye=f;break}ye=p}}}var m=s.alternate;if(m!==null){var y=m.child;if(y!==null){m.child=null;do{var x=y.sibling;y.sibling=null,y=x}while(y!==null)}}ye=s}}if(s.subtreeFlags&2064&&a!==null)a.return=s,ye=a;else e:for(;ye!==null;){if(s=ye,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Hc(9,s,s.return)}var g=s.sibling;if(g!==null){g.return=s.return,ye=g;break e}ye=s.return}}var v=t.current;for(ye=v;ye!==null;){a=ye;var w=a.child;if(a.subtreeFlags&2064&&w!==null)w.return=a,ye=w;else e:for(a=v;ye!==null;){if(o=ye,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:Yp(9,o)}}catch(_){At(o,o.return,_)}if(o===a){ye=null;break e}var b=o.sibling;if(b!==null){b.return=o.return,ye=b;break e}ye=o.return}}if(Je=i,Ca(),$i&&typeof $i.onPostCommitFiberRoot=="function")try{$i.onPostCommitFiberRoot(Bp,t)}catch{}n=!0}return n}finally{lt=r,Wn.transition=e}}return!1}function XT(t,e,r){e=fu(r,e),e=$V(t,e,1),t=sa(t,e,1),e=Wr(),t!==null&&(Hd(t,1,e),dn(t,e))}function At(t,e,r){if(t.tag===3)XT(t,t,r);else for(;e!==null;){if(e.tag===3){XT(e,t,r);break}else if(e.tag===1){var n=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(aa===null||!aa.has(n))){t=fu(r,t),t=kV(e,t,1),e=sa(e,t,1),t=Wr(),e!==null&&(Hd(e,1,t),dn(e,t));break}}e=e.return}}function fZ(t,e,r){var n=t.pingCache;n!==null&&n.delete(e),e=Wr(),t.pingedLanes|=t.suspendedLanes&r,fr===t&&(Er&r)===r&&(lr===4||lr===3&&(Er&130023424)===Er&&500>Ht()-qC?co(t,0):MC|=r),dn(t,e)}function eH(t,e){e===0&&(t.mode&1?(e=Gh,Gh<<=1,!(Gh&130023424)&&(Gh=4194304)):e=1);var r=Wr();t=ms(t,e),t!==null&&(Hd(t,e,r),dn(t,r))}function pZ(t){var e=t.memoizedState,r=0;e!==null&&(r=e.retryLane),eH(t,r)}function mZ(t,e){var r=0;switch(t.tag){case 13:var n=t.stateNode,i=t.memoizedState;i!==null&&(r=i.retryLane);break;case 19:n=t.stateNode;break;default:throw Error(te(314))}n!==null&&n.delete(e),eH(t,r)}var tH;tH=function(t,e,r){if(t!==null)if(t.memoizedProps!==e.pendingProps||un.current)on=!0;else{if(!(t.lanes&r)&&!(e.flags&128))return on=!1,rZ(t,e,r);on=!!(t.flags&131072)}else on=!1,Ct&&e.flags&1048576&&sV(e,ep,e.index);switch(e.lanes=0,e.tag){case 2:var n=e.type;Of(t,e),t=e.pendingProps;var i=uu(e,Dr.current);Ll(e,r),i=TC(null,e,n,t,i,r);var s=IC();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,cn(n)?(s=!0,Jf(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,NC(e),i.updater=Gp,e.stateNode=i,i._reactInternals=e,MN(e,n,t,r),e=FN(null,e,n,!0,s,r)):(e.tag=0,Ct&&s&&yC(e),Fr(null,e,i,r),e=e.child),e;case 16:n=e.elementType;e:{switch(Of(t,e),t=e.pendingProps,i=n._init,n=i(n._payload),e.type=n,i=e.tag=gZ(n),t=ni(n,t),i){case 0:e=AN(null,e,n,t,r);break e;case 1:e=BT(null,e,n,t,r);break e;case 11:e=FT(null,e,n,t,r);break e;case 14:e=LT(null,e,n,ni(n.type,t),r);break e}throw Error(te(306,n,""))}return e;case 0:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:ni(n,i),AN(t,e,n,i,r);case 1:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:ni(n,i),BT(t,e,n,i,r);case 3:e:{if(AV(e),t===null)throw Error(te(387));n=e.pendingProps,s=e.memoizedState,i=s.element,dV(t,e),np(e,n,null,r);var a=e.memoizedState;if(n=a.element,s.isDehydrated)if(s={element:n,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=fu(Error(te(423)),e),e=zT(t,e,n,r,i);break e}else if(n!==i){i=fu(Error(te(424)),e),e=zT(t,e,n,r,i);break e}else for(En=ia(e.stateNode.containerInfo.firstChild),Nn=e,Ct=!0,oi=null,r=uV(e,null,n,r),e.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(cu(),n===i){e=vs(t,e,r);break e}Fr(t,e,n,r)}e=e.child}return e;case 5:return hV(e),t===null&&$N(e),n=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,a=i.children,ON(n,i)?a=null:s!==null&&ON(n,s)&&(e.flags|=32),qV(t,e),Fr(t,e,a,r),e.child;case 6:return t===null&&$N(e),null;case 13:return FV(t,e,r);case 4:return jC(e,e.stateNode.containerInfo),n=e.pendingProps,t===null?e.child=du(e,null,n,r):Fr(t,e,n,r),e.child;case 11:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:ni(n,i),FT(t,e,n,i,r);case 7:return Fr(t,e,e.pendingProps,r),e.child;case 8:return Fr(t,e,e.pendingProps.children,r),e.child;case 12:return Fr(t,e,e.pendingProps.children,r),e.child;case 10:e:{if(n=e.type._context,i=e.pendingProps,s=e.memoizedProps,a=i.value,xt(tp,n._currentValue),n._currentValue=a,s!==null)if(pi(s.value,a)){if(s.children===i.children&&!un.current){e=vs(t,e,r);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var o=s.dependencies;if(o!==null){a=s.child;for(var u=o.firstContext;u!==null;){if(u.context===n){if(s.tag===1){u=rs(-1,r&-r),u.tag=2;var c=s.updateQueue;if(c!==null){c=c.shared;var d=c.pending;d===null?u.next=u:(u.next=d.next,d.next=u),c.pending=u}}s.lanes|=r,u=s.alternate,u!==null&&(u.lanes|=r),kN(s.return,r,e),o.lanes|=r;break}u=u.next}}else if(s.tag===10)a=s.type===e.type?null:s.child;else if(s.tag===18){if(a=s.return,a===null)throw Error(te(341));a.lanes|=r,o=a.alternate,o!==null&&(o.lanes|=r),kN(a,r,e),a=s.sibling}else a=s.child;if(a!==null)a.return=s;else for(a=s;a!==null;){if(a===e){a=null;break}if(s=a.sibling,s!==null){s.return=a.return,a=s;break}a=a.return}s=a}Fr(t,e,i.children,r),e=e.child}return e;case 9:return i=e.type,n=e.pendingProps.children,Ll(e,r),i=Kn(i),n=n(i),e.flags|=1,Fr(t,e,n,r),e.child;case 14:return n=e.type,i=ni(n,e.pendingProps),i=ni(n.type,i),LT(t,e,n,i,r);case 15:return DV(t,e,e.type,e.pendingProps,r);case 17:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:ni(n,i),Of(t,e),e.tag=1,cn(n)?(t=!0,Jf(e)):t=!1,Ll(e,r),RV(e,n,i),MN(e,n,i,r),FN(null,e,n,!0,t,r);case 19:return LV(t,e,r);case 22:return MV(t,e,r)}throw Error(te(156,e.tag))};function rH(t,e){return PW(t,e)}function vZ(t,e,r,n){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Un(t,e,r,n){return new vZ(t,e,r,n)}function BC(t){return t=t.prototype,!(!t||!t.isReactComponent)}function gZ(t){if(typeof t=="function")return BC(t)?1:0;if(t!=null){if(t=t.$$typeof,t===aC)return 11;if(t===oC)return 14}return 2}function la(t,e){var r=t.alternate;return r===null?(r=Un(t.tag,e,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=e,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&14680064,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,e=t.dependencies,r.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r}function If(t,e,r,n,i,s){var a=2;if(n=t,typeof t=="function")BC(t)&&(a=1);else if(typeof t=="string")a=5;else e:switch(t){case bl:return ho(r.children,i,s,e);case sC:a=8,i|=8;break;case aN:return t=Un(12,r,e,i|2),t.elementType=aN,t.lanes=s,t;case oN:return t=Un(13,r,e,i),t.elementType=oN,t.lanes=s,t;case lN:return t=Un(19,r,e,i),t.elementType=lN,t.lanes=s,t;case hW:return Xp(r,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case cW:a=10;break e;case dW:a=9;break e;case aC:a=11;break e;case oC:a=14;break e;case ks:a=16,n=null;break e}throw Error(te(130,t==null?t:typeof t,""))}return e=Un(a,r,e,i),e.elementType=t,e.type=n,e.lanes=s,e}function ho(t,e,r,n){return t=Un(7,t,n,e),t.lanes=r,t}function Xp(t,e,r,n){return t=Un(22,t,n,e),t.elementType=hW,t.lanes=r,t.stateNode={isHidden:!1},t}function xv(t,e,r){return t=Un(6,t,null,e),t.lanes=r,t}function wv(t,e,r){return e=Un(4,t.children!==null?t.children:[],t.key,e),e.lanes=r,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function yZ(t,e,r,n,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=tv(0),this.expirationTimes=tv(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=tv(0),this.identifierPrefix=n,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function zC(t,e,r,n,i,s,a,o,u){return t=new yZ(t,e,r,o,u),e===1?(e=1,s===!0&&(e|=8)):e=0,s=Un(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},NC(s),t}function bZ(t,e,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:yl,key:n==null?null:""+n,children:t,containerInfo:e,implementation:r}}function nH(t){if(!t)return ba;t=t._reactInternals;e:{if(zo(t)!==t||t.tag!==1)throw Error(te(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(cn(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(te(171))}if(t.tag===1){var r=t.type;if(cn(r))return nV(t,r,e)}return e}function iH(t,e,r,n,i,s,a,o,u){return t=zC(r,n,!0,t,i,s,a,o,u),t.context=nH(null),r=t.current,n=Wr(),i=oa(r),s=rs(n,i),s.callback=e??null,sa(r,s,i),t.current.lanes=i,Hd(t,i,n),dn(t,n),t}function Jp(t,e,r,n){var i=e.current,s=Wr(),a=oa(i);return r=nH(r),e.context===null?e.context=r:e.pendingContext=r,e=rs(s,a),e.payload={element:t},n=n===void 0?null:n,n!==null&&(e.callback=n),t=sa(i,e,a),t!==null&&(fi(t,i,a,s),Nf(t,i,a)),a}function dp(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function JT(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<e?r:e}}function UC(t,e){JT(t,e),(t=t.alternate)&&JT(t,e)}function xZ(){return null}var sH=typeof reportError=="function"?reportError:function(t){console.error(t)};function WC(t){this._internalRoot=t}Zp.prototype.render=WC.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(te(409));Jp(t,e,null,null)};Zp.prototype.unmount=WC.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;No(function(){Jp(null,t,null,null)}),e[ps]=null}};function Zp(t){this._internalRoot=t}Zp.prototype.unstable_scheduleHydration=function(t){if(t){var e=MW();t={blockedOn:null,target:t,priority:e};for(var r=0;r<As.length&&e!==0&&e<As[r].priority;r++);As.splice(r,0,t),r===0&&AW(t)}};function VC(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function em(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function ZT(){}function wZ(t,e,r,n,i){if(i){if(typeof n=="function"){var s=n;n=function(){var c=dp(a);s.call(c)}}var a=iH(e,n,t,0,null,!1,!1,"",ZT);return t._reactRootContainer=a,t[ps]=a.current,hd(t.nodeType===8?t.parentNode:t),No(),a}for(;i=t.lastChild;)t.removeChild(i);if(typeof n=="function"){var o=n;n=function(){var c=dp(u);o.call(c)}}var u=zC(t,0,!1,null,null,!1,!1,"",ZT);return t._reactRootContainer=u,t[ps]=u.current,hd(t.nodeType===8?t.parentNode:t),No(function(){Jp(e,u,r,n)}),u}function tm(t,e,r,n,i){var s=r._reactRootContainer;if(s){var a=s;if(typeof i=="function"){var o=i;i=function(){var u=dp(a);o.call(u)}}Jp(e,a,t,i)}else a=wZ(r,e,t,i,n);return dp(a)}kW=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var r=Dc(e.pendingLanes);r!==0&&(cC(e,r|1),dn(e,Ht()),!(Je&6)&&(pu=Ht()+500,Ca()))}break;case 13:No(function(){var n=ms(t,1);if(n!==null){var i=Wr();fi(n,t,1,i)}}),UC(t,1)}};dC=function(t){if(t.tag===13){var e=ms(t,134217728);if(e!==null){var r=Wr();fi(e,t,134217728,r)}UC(t,134217728)}};DW=function(t){if(t.tag===13){var e=oa(t),r=ms(t,e);if(r!==null){var n=Wr();fi(r,t,e,n)}UC(t,e)}};MW=function(){return lt};qW=function(t,e){var r=lt;try{return lt=t,e()}finally{lt=r}};yN=function(t,e,r){switch(e){case"input":if(dN(t,r),e=r.name,r.type==="radio"&&e!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<r.length;e++){var n=r[e];if(n!==t&&n.form===t.form){var i=Vp(n);if(!i)throw Error(te(90));pW(n),dN(n,i)}}}break;case"textarea":vW(t,r);break;case"select":e=r.value,e!=null&&Ml(t,!!r.multiple,e,!1)}};SW=AC;EW=No;var _Z={usingClientEntryPoint:!1,Events:[Gd,Sl,Vp,wW,_W,AC]},Sc={findFiberByHostInstance:Wa,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},SZ={bundleType:Sc.bundleType,version:Sc.version,rendererPackageName:Sc.rendererPackageName,rendererConfig:Sc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:bs.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=CW(t),t===null?null:t.stateNode},findFiberByHostInstance:Sc.findFiberByHostInstance||xZ,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var af=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!af.isDisabled&&af.supportsFiber)try{Bp=af.inject(SZ),$i=af}catch{}}On.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=_Z;On.createPortal=function(t,e){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!VC(e))throw Error(te(200));return bZ(t,e,null,r)};On.createRoot=function(t,e){if(!VC(t))throw Error(te(299));var r=!1,n="",i=sH;return e!=null&&(e.unstable_strictMode===!0&&(r=!0),e.identifierPrefix!==void 0&&(n=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=zC(t,1,!1,null,null,r,!1,n,i),t[ps]=e.current,hd(t.nodeType===8?t.parentNode:t),new WC(e)};On.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(te(188)):(t=Object.keys(t).join(","),Error(te(268,t)));return t=CW(e),t=t===null?null:t.stateNode,t};On.flushSync=function(t){return No(t)};On.hydrate=function(t,e,r){if(!em(e))throw Error(te(200));return tm(null,t,e,!0,r)};On.hydrateRoot=function(t,e,r){if(!VC(t))throw Error(te(405));var n=r!=null&&r.hydratedSources||null,i=!1,s="",a=sH;if(r!=null&&(r.unstable_strictMode===!0&&(i=!0),r.identifierPrefix!==void 0&&(s=r.identifierPrefix),r.onRecoverableError!==void 0&&(a=r.onRecoverableError)),e=iH(e,null,t,1,r??null,i,!1,s,a),t[ps]=e.current,hd(t),n)for(t=0;t<n.length;t++)r=n[t],i=r._getVersion,i=i(r._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[r,i]:e.mutableSourceEagerHydrationData.push(r,i);return new Zp(e)};On.render=function(t,e,r){if(!em(e))throw Error(te(200));return tm(null,t,e,!1,r)};On.unmountComponentAtNode=function(t){if(!em(t))throw Error(te(40));return t._reactRootContainer?(No(function(){tm(null,null,t,!1,function(){t._reactRootContainer=null,t[ps]=null})}),!0):!1};On.unstable_batchedUpdates=AC;On.unstable_renderSubtreeIntoContainer=function(t,e,r,n){if(!em(r))throw Error(te(200));if(t==null||t._reactInternals===void 0)throw Error(te(38));return tm(t,e,r,!1,n)};On.version="18.3.1-next-f1338f8080-20240426";function aH(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(aH)}catch(t){console.error(t)}}aH(),aW.exports=On;var EZ=aW.exports,eI=EZ;iN.createRoot=eI.createRoot,iN.hydrateRoot=eI.hydrateRoot;/**
 * @remix-run/router v1.23.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function wd(){return wd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},wd.apply(this,arguments)}var Zs;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Zs||(Zs={}));const tI="popstate";function NZ(t){t===void 0&&(t={});function e(n,i){let{pathname:s,search:a,hash:o}=n.location;return XN("",{pathname:s,search:a,hash:o},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function r(n,i){return typeof i=="string"?i:hp(i)}return CZ(e,r,null,t)}function It(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function HC(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function jZ(){return Math.random().toString(36).substr(2,8)}function rI(t,e){return{usr:t.state,key:t.key,idx:e}}function XN(t,e,r,n){return r===void 0&&(r=null),wd({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?$u(e):e,{state:r,key:e&&e.key||n||jZ()})}function hp(t){let{pathname:e="/",search:r="",hash:n=""}=t;return r&&r!=="?"&&(e+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function $u(t){let e={};if(t){let r=t.indexOf("#");r>=0&&(e.hash=t.substr(r),t=t.substr(0,r));let n=t.indexOf("?");n>=0&&(e.search=t.substr(n),t=t.substr(0,n)),t&&(e.pathname=t)}return e}function CZ(t,e,r,n){n===void 0&&(n={});let{window:i=document.defaultView,v5Compat:s=!1}=n,a=i.history,o=Zs.Pop,u=null,c=d();c==null&&(c=0,a.replaceState(wd({},a.state,{idx:c}),""));function d(){return(a.state||{idx:null}).idx}function h(){o=Zs.Pop;let x=d(),g=x==null?null:x-c;c=x,u&&u({action:o,location:y.location,delta:g})}function f(x,g){o=Zs.Push;let v=XN(y.location,x,g);c=d()+1;let w=rI(v,c),b=y.createHref(v);try{a.pushState(w,"",b)}catch(_){if(_ instanceof DOMException&&_.name==="DataCloneError")throw _;i.location.assign(b)}s&&u&&u({action:o,location:y.location,delta:1})}function p(x,g){o=Zs.Replace;let v=XN(y.location,x,g);c=d();let w=rI(v,c),b=y.createHref(v);a.replaceState(w,"",b),s&&u&&u({action:o,location:y.location,delta:0})}function m(x){let g=i.location.origin!=="null"?i.location.origin:i.location.href,v=typeof x=="string"?x:hp(x);return v=v.replace(/ $/,"%20"),It(g,"No window.location.(origin|href) available to create URL for href: "+v),new URL(v,g)}let y={get action(){return o},get location(){return t(i,a)},listen(x){if(u)throw new Error("A history only accepts one active listener");return i.addEventListener(tI,h),u=x,()=>{i.removeEventListener(tI,h),u=null}},createHref(x){return e(i,x)},createURL:m,encodeLocation(x){let g=m(x);return{pathname:g.pathname,search:g.search,hash:g.hash}},push:f,replace:p,go(x){return a.go(x)}};return y}var nI;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(nI||(nI={}));function OZ(t,e,r){return r===void 0&&(r="/"),PZ(t,e,r)}function PZ(t,e,r,n){let i=typeof e=="string"?$u(e):e,s=mu(i.pathname||"/",r);if(s==null)return null;let a=oH(t);TZ(a);let o=null;for(let u=0;o==null&&u<a.length;++u){let c=BZ(s);o=FZ(a[u],c)}return o}function oH(t,e,r,n){e===void 0&&(e=[]),r===void 0&&(r=[]),n===void 0&&(n="");let i=(s,a,o)=>{let u={relativePath:o===void 0?s.path||"":o,caseSensitive:s.caseSensitive===!0,childrenIndex:a,route:s};u.relativePath.startsWith("/")&&(It(u.relativePath.startsWith(n),'Absolute route path "'+u.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),u.relativePath=u.relativePath.slice(n.length));let c=ua([n,u.relativePath]),d=r.concat(u);s.children&&s.children.length>0&&(It(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),oH(s.children,e,d,c)),!(s.path==null&&!s.index)&&e.push({path:c,score:qZ(c,s.index),routesMeta:d})};return t.forEach((s,a)=>{var o;if(s.path===""||!((o=s.path)!=null&&o.includes("?")))i(s,a);else for(let u of lH(s.path))i(s,a,u)}),e}function lH(t){let e=t.split("/");if(e.length===0)return[];let[r,...n]=e,i=r.endsWith("?"),s=r.replace(/\?$/,"");if(n.length===0)return i?[s,""]:[s];let a=lH(n.join("/")),o=[];return o.push(...a.map(u=>u===""?s:[s,u].join("/"))),i&&o.push(...a),o.map(u=>t.startsWith("/")&&u===""?"/":u)}function TZ(t){t.sort((e,r)=>e.score!==r.score?r.score-e.score:AZ(e.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const IZ=/^:[\w-]+$/,RZ=3,$Z=2,kZ=1,DZ=10,MZ=-2,iI=t=>t==="*";function qZ(t,e){let r=t.split("/"),n=r.length;return r.some(iI)&&(n+=MZ),e&&(n+=$Z),r.filter(i=>!iI(i)).reduce((i,s)=>i+(IZ.test(s)?RZ:s===""?kZ:DZ),n)}function AZ(t,e){return t.length===e.length&&t.slice(0,-1).every((n,i)=>n===e[i])?t[t.length-1]-e[e.length-1]:0}function FZ(t,e,r){let{routesMeta:n}=t,i={},s="/",a=[];for(let o=0;o<n.length;++o){let u=n[o],c=o===n.length-1,d=s==="/"?e:e.slice(s.length)||"/",h=JN({path:u.relativePath,caseSensitive:u.caseSensitive,end:c},d),f=u.route;if(!h)return null;Object.assign(i,h.params),a.push({params:i,pathname:ua([s,h.pathname]),pathnameBase:HZ(ua([s,h.pathnameBase])),route:f}),h.pathnameBase!=="/"&&(s=ua([s,h.pathnameBase]))}return a}function JN(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[r,n]=LZ(t.path,t.caseSensitive,t.end),i=e.match(r);if(!i)return null;let s=i[0],a=s.replace(/(.)\/+$/,"$1"),o=i.slice(1);return{params:n.reduce((c,d,h)=>{let{paramName:f,isOptional:p}=d;if(f==="*"){let y=o[h]||"";a=s.slice(0,s.length-y.length).replace(/(.)\/+$/,"$1")}const m=o[h];return p&&!m?c[f]=void 0:c[f]=(m||"").replace(/%2F/g,"/"),c},{}),pathname:s,pathnameBase:a,pattern:t}}function LZ(t,e,r){e===void 0&&(e=!1),r===void 0&&(r=!0),HC(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let n=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,o,u)=>(n.push({paramName:o,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(n.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),n]}function BZ(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return HC(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function mu(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let r=e.endsWith("/")?e.length-1:e.length,n=t.charAt(r);return n&&n!=="/"?null:t.slice(r)||"/"}const zZ=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,UZ=t=>zZ.test(t);function WZ(t,e){e===void 0&&(e="/");let{pathname:r,search:n="",hash:i=""}=typeof t=="string"?$u(t):t,s;if(r)if(UZ(r))s=r;else{if(r.includes("//")){let a=r;r=r.replace(/\/\/+/g,"/"),HC(!1,"Pathnames cannot have embedded double slashes - normalizing "+(a+" -> "+r))}r.startsWith("/")?s=sI(r.substring(1),"/"):s=sI(r,e)}else s=e;return{pathname:s,search:KZ(n),hash:GZ(i)}}function sI(t,e){let r=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?r.length>1&&r.pop():i!=="."&&r.push(i)}),r.length>1?r.join("/"):"/"}function _v(t,e,r,n){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function VZ(t){return t.filter((e,r)=>r===0||e.route.path&&e.route.path.length>0)}function KC(t,e){let r=VZ(t);return e?r.map((n,i)=>i===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function GC(t,e,r,n){n===void 0&&(n=!1);let i;typeof t=="string"?i=$u(t):(i=wd({},t),It(!i.pathname||!i.pathname.includes("?"),_v("?","pathname","search",i)),It(!i.pathname||!i.pathname.includes("#"),_v("#","pathname","hash",i)),It(!i.search||!i.search.includes("#"),_v("#","search","hash",i)));let s=t===""||i.pathname==="",a=s?"/":i.pathname,o;if(a==null)o=r;else{let h=e.length-1;if(!n&&a.startsWith("..")){let f=a.split("/");for(;f[0]==="..";)f.shift(),h-=1;i.pathname=f.join("/")}o=h>=0?e[h]:"/"}let u=WZ(i,o),c=a&&a!=="/"&&a.endsWith("/"),d=(s||a===".")&&r.endsWith("/");return!u.pathname.endsWith("/")&&(c||d)&&(u.pathname+="/"),u}const ua=t=>t.join("/").replace(/\/\/+/g,"/"),HZ=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),KZ=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,GZ=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function YZ(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const uH=["post","put","patch","delete"];new Set(uH);const QZ=["get",...uH];new Set(QZ);/**
 * React Router v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function _d(){return _d=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},_d.apply(this,arguments)}const rm=T.createContext(null),cH=T.createContext(null),xs=T.createContext(null),nm=T.createContext(null),ws=T.createContext({outlet:null,matches:[],isDataRoute:!1}),dH=T.createContext(null);function XZ(t,e){let{relative:r}=e===void 0?{}:e;ku()||It(!1);let{basename:n,navigator:i}=T.useContext(xs),{hash:s,pathname:a,search:o}=im(t,{relative:r}),u=a;return n!=="/"&&(u=a==="/"?n:ua([n,a])),i.createHref({pathname:u,search:o,hash:s})}function ku(){return T.useContext(nm)!=null}function _s(){return ku()||It(!1),T.useContext(nm).location}function hH(t){T.useContext(xs).static||T.useLayoutEffect(t)}function Qr(){let{isDataRoute:t}=T.useContext(ws);return t?cee():JZ()}function JZ(){ku()||It(!1);let t=T.useContext(rm),{basename:e,future:r,navigator:n}=T.useContext(xs),{matches:i}=T.useContext(ws),{pathname:s}=_s(),a=JSON.stringify(KC(i,r.v7_relativeSplatPath)),o=T.useRef(!1);return hH(()=>{o.current=!0}),T.useCallback(function(c,d){if(d===void 0&&(d={}),!o.current)return;if(typeof c=="number"){n.go(c);return}let h=GC(c,JSON.parse(a),s,d.relative==="path");t==null&&e!=="/"&&(h.pathname=h.pathname==="/"?e:ua([e,h.pathname])),(d.replace?n.replace:n.push)(h,d.state,d)},[e,n,a,s,t])}function Ss(){let{matches:t}=T.useContext(ws),e=t[t.length-1];return e?e.params:{}}function im(t,e){let{relative:r}=e===void 0?{}:e,{future:n}=T.useContext(xs),{matches:i}=T.useContext(ws),{pathname:s}=_s(),a=JSON.stringify(KC(i,n.v7_relativeSplatPath));return T.useMemo(()=>GC(t,JSON.parse(a),s,r==="path"),[t,a,s,r])}function ZZ(t,e){return eee(t,e)}function eee(t,e,r,n){ku()||It(!1);let{navigator:i}=T.useContext(xs),{matches:s}=T.useContext(ws),a=s[s.length-1],o=a?a.params:{};a&&a.pathname;let u=a?a.pathnameBase:"/";a&&a.route;let c=_s(),d;if(e){var h;let x=typeof e=="string"?$u(e):e;u==="/"||(h=x.pathname)!=null&&h.startsWith(u)||It(!1),d=x}else d=c;let f=d.pathname||"/",p=f;if(u!=="/"){let x=u.replace(/^\//,"").split("/");p="/"+f.replace(/^\//,"").split("/").slice(x.length).join("/")}let m=OZ(t,{pathname:p}),y=see(m&&m.map(x=>Object.assign({},x,{params:Object.assign({},o,x.params),pathname:ua([u,i.encodeLocation?i.encodeLocation(x.pathname).pathname:x.pathname]),pathnameBase:x.pathnameBase==="/"?u:ua([u,i.encodeLocation?i.encodeLocation(x.pathnameBase).pathname:x.pathnameBase])})),s,r,n);return e&&y?T.createElement(nm.Provider,{value:{location:_d({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:Zs.Pop}},y):y}function tee(){let t=uee(),e=YZ(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),r=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return T.createElement(T.Fragment,null,T.createElement("h2",null,"Unexpected Application Error!"),T.createElement("h3",{style:{fontStyle:"italic"}},e),r?T.createElement("pre",{style:i},r):null,null)}const ree=T.createElement(tee,null);class nee extends T.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,r){return r.location!==e.location||r.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:r.error,location:r.location,revalidation:e.revalidation||r.revalidation}}componentDidCatch(e,r){console.error("React Router caught the following error during render",e,r)}render(){return this.state.error!==void 0?T.createElement(ws.Provider,{value:this.props.routeContext},T.createElement(dH.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function iee(t){let{routeContext:e,match:r,children:n}=t,i=T.useContext(rm);return i&&i.static&&i.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=r.route.id),T.createElement(ws.Provider,{value:e},n)}function see(t,e,r,n){var i;if(e===void 0&&(e=[]),r===void 0&&(r=null),n===void 0&&(n=null),t==null){var s;if(!r)return null;if(r.errors)t=r.matches;else if((s=n)!=null&&s.v7_partialHydration&&e.length===0&&!r.initialized&&r.matches.length>0)t=r.matches;else return null}let a=t,o=(i=r)==null?void 0:i.errors;if(o!=null){let d=a.findIndex(h=>h.route.id&&(o==null?void 0:o[h.route.id])!==void 0);d>=0||It(!1),a=a.slice(0,Math.min(a.length,d+1))}let u=!1,c=-1;if(r&&n&&n.v7_partialHydration)for(let d=0;d<a.length;d++){let h=a[d];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(c=d),h.route.id){let{loaderData:f,errors:p}=r,m=h.route.loader&&f[h.route.id]===void 0&&(!p||p[h.route.id]===void 0);if(h.route.lazy||m){u=!0,c>=0?a=a.slice(0,c+1):a=[a[0]];break}}}return a.reduceRight((d,h,f)=>{let p,m=!1,y=null,x=null;r&&(p=o&&h.route.id?o[h.route.id]:void 0,y=h.route.errorElement||ree,u&&(c<0&&f===0?(dee("route-fallback"),m=!0,x=null):c===f&&(m=!0,x=h.route.hydrateFallbackElement||null)));let g=e.concat(a.slice(0,f+1)),v=()=>{let w;return p?w=y:m?w=x:h.route.Component?w=T.createElement(h.route.Component,null):h.route.element?w=h.route.element:w=d,T.createElement(iee,{match:h,routeContext:{outlet:d,matches:g,isDataRoute:r!=null},children:w})};return r&&(h.route.ErrorBoundary||h.route.errorElement||f===0)?T.createElement(nee,{location:r.location,revalidation:r.revalidation,component:y,error:p,children:v(),routeContext:{outlet:null,matches:g,isDataRoute:!0}}):v()},null)}var fH=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(fH||{}),pH=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(pH||{});function aee(t){let e=T.useContext(rm);return e||It(!1),e}function oee(t){let e=T.useContext(cH);return e||It(!1),e}function lee(t){let e=T.useContext(ws);return e||It(!1),e}function mH(t){let e=lee(),r=e.matches[e.matches.length-1];return r.route.id||It(!1),r.route.id}function uee(){var t;let e=T.useContext(dH),r=oee(),n=mH();return e!==void 0?e:(t=r.errors)==null?void 0:t[n]}function cee(){let{router:t}=aee(fH.UseNavigateStable),e=mH(pH.UseNavigateStable),r=T.useRef(!1);return hH(()=>{r.current=!0}),T.useCallback(function(i,s){s===void 0&&(s={}),r.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,_d({fromRouteId:e},s)))},[t,e])}const aI={};function dee(t,e,r){aI[t]||(aI[t]=!0)}function hee(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function vH(t){let{to:e,replace:r,state:n,relative:i}=t;ku()||It(!1);let{future:s,static:a}=T.useContext(xs),{matches:o}=T.useContext(ws),{pathname:u}=_s(),c=Qr(),d=GC(e,KC(o,s.v7_relativeSplatPath),u,i==="path"),h=JSON.stringify(d);return T.useEffect(()=>c(JSON.parse(h),{replace:r,state:n,relative:i}),[c,h,i,r,n]),null}function st(t){It(!1)}function fee(t){let{basename:e="/",children:r=null,location:n,navigationType:i=Zs.Pop,navigator:s,static:a=!1,future:o}=t;ku()&&It(!1);let u=e.replace(/^\/*/,"/"),c=T.useMemo(()=>({basename:u,navigator:s,static:a,future:_d({v7_relativeSplatPath:!1},o)}),[u,o,s,a]);typeof n=="string"&&(n=$u(n));let{pathname:d="/",search:h="",hash:f="",state:p=null,key:m="default"}=n,y=T.useMemo(()=>{let x=mu(d,u);return x==null?null:{location:{pathname:x,search:h,hash:f,state:p,key:m},navigationType:i}},[u,d,h,f,p,m,i]);return y==null?null:T.createElement(xs.Provider,{value:c},T.createElement(nm.Provider,{children:r,value:y}))}function oI(t){let{children:e,location:r}=t;return ZZ(ZN(e),r)}new Promise(()=>{});function ZN(t,e){e===void 0&&(e=[]);let r=[];return T.Children.forEach(t,(n,i)=>{if(!T.isValidElement(n))return;let s=[...e,i];if(n.type===T.Fragment){r.push.apply(r,ZN(n.props.children,s));return}n.type!==st&&It(!1),!n.props.index||!n.props.children||It(!1);let a={id:n.props.id||s.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(a.children=ZN(n.props.children,s)),r.push(a)}),r}/**
 * React Router DOM v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function fp(){return fp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},fp.apply(this,arguments)}function gH(t,e){if(t==null)return{};var r={},n=Object.keys(t),i,s;for(s=0;s<n.length;s++)i=n[s],!(e.indexOf(i)>=0)&&(r[i]=t[i]);return r}function pee(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function mee(t,e){return t.button===0&&(!e||e==="_self")&&!pee(t)}function ej(t){return t===void 0&&(t=""),new URLSearchParams(typeof t=="string"||Array.isArray(t)||t instanceof URLSearchParams?t:Object.keys(t).reduce((e,r)=>{let n=t[r];return e.concat(Array.isArray(n)?n.map(i=>[r,i]):[[r,n]])},[]))}function vee(t,e){let r=ej(t);return e&&e.forEach((n,i)=>{r.has(i)||e.getAll(i).forEach(s=>{r.append(i,s)})}),r}const gee=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],yee=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],bee="6";try{window.__reactRouterVersion=bee}catch{}const xee=T.createContext({isTransitioning:!1}),wee="startTransition",lI=fX[wee];function _ee(t){let{basename:e,children:r,future:n,window:i}=t,s=T.useRef();s.current==null&&(s.current=NZ({window:i,v5Compat:!0}));let a=s.current,[o,u]=T.useState({action:a.action,location:a.location}),{v7_startTransition:c}=n||{},d=T.useCallback(h=>{c&&lI?lI(()=>u(h)):u(h)},[u,c]);return T.useLayoutEffect(()=>a.listen(d),[a,d]),T.useEffect(()=>hee(n),[n]),T.createElement(fee,{basename:e,children:r,location:o.location,navigationType:o.action,navigator:a,future:n})}const See=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Eee=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,he=T.forwardRef(function(e,r){let{onClick:n,relative:i,reloadDocument:s,replace:a,state:o,target:u,to:c,preventScrollReset:d,viewTransition:h}=e,f=gH(e,gee),{basename:p}=T.useContext(xs),m,y=!1;if(typeof c=="string"&&Eee.test(c)&&(m=c,See))try{let w=new URL(window.location.href),b=c.startsWith("//")?new URL(w.protocol+c):new URL(c),_=mu(b.pathname,p);b.origin===w.origin&&_!=null?c=_+b.search+b.hash:y=!0}catch{}let x=XZ(c,{relative:i}),g=Cee(c,{replace:a,state:o,target:u,preventScrollReset:d,relative:i,viewTransition:h});function v(w){n&&n(w),w.defaultPrevented||g(w)}return T.createElement("a",fp({},f,{href:m||x,onClick:y||s?n:v,ref:r,target:u}))}),Nee=T.forwardRef(function(e,r){let{"aria-current":n="page",caseSensitive:i=!1,className:s="",end:a=!1,style:o,to:u,viewTransition:c,children:d}=e,h=gH(e,yee),f=im(u,{relative:h.relative}),p=_s(),m=T.useContext(cH),{navigator:y,basename:x}=T.useContext(xs),g=m!=null&&Oee(f)&&c===!0,v=y.encodeLocation?y.encodeLocation(f).pathname:f.pathname,w=p.pathname,b=m&&m.navigation&&m.navigation.location?m.navigation.location.pathname:null;i||(w=w.toLowerCase(),b=b?b.toLowerCase():null,v=v.toLowerCase()),b&&x&&(b=mu(b,x)||b);const _=v!=="/"&&v.endsWith("/")?v.length-1:v.length;let E=w===v||!a&&w.startsWith(v)&&w.charAt(_)==="/",N=b!=null&&(b===v||!a&&b.startsWith(v)&&b.charAt(v.length)==="/"),S={isActive:E,isPending:N,isTransitioning:g},j=E?n:void 0,C;typeof s=="function"?C=s(S):C=[s,E?"active":null,N?"pending":null,g?"transitioning":null].filter(Boolean).join(" ");let P=typeof o=="function"?o(S):o;return T.createElement(he,fp({},h,{"aria-current":j,className:C,ref:r,style:P,to:u,viewTransition:c}),typeof d=="function"?d(S):d)});var tj;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(tj||(tj={}));var uI;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(uI||(uI={}));function jee(t){let e=T.useContext(rm);return e||It(!1),e}function Cee(t,e){let{target:r,replace:n,state:i,preventScrollReset:s,relative:a,viewTransition:o}=e===void 0?{}:e,u=Qr(),c=_s(),d=im(t,{relative:a});return T.useCallback(h=>{if(mee(h,r)){h.preventDefault();let f=n!==void 0?n:hp(c)===hp(d);u(t,{replace:f,state:i,preventScrollReset:s,relative:a,viewTransition:o})}},[c,u,d,n,i,r,t,s,a,o])}function YC(t){let e=T.useRef(ej(t)),r=T.useRef(!1),n=_s(),i=T.useMemo(()=>vee(n.search,r.current?null:e.current),[n.search]),s=Qr(),a=T.useCallback((o,u)=>{const c=ej(typeof o=="function"?o(i):o);r.current=!0,s("?"+c,u)},[s,i]);return[i,a]}function Oee(t,e){e===void 0&&(e={});let r=T.useContext(xee);r==null&&It(!1);let{basename:n}=jee(tj.useViewTransitionState),i=im(t,{relative:e.relative});if(!r.isTransitioning)return!1;let s=mu(r.currentLocation.pathname,n)||r.currentLocation.pathname,a=mu(r.nextLocation.pathname,n)||r.nextLocation.pathname;return JN(i.pathname,a)!=null||JN(i.pathname,s)!=null}var Uo=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Pee={setTimeout:(t,e)=>setTimeout(t,e),clearTimeout:t=>clearTimeout(t),setInterval:(t,e)=>setInterval(t,e),clearInterval:t=>clearInterval(t)},Bs,Xj,q9,Tee=(q9=class{constructor(){ge(this,Bs,Pee);ge(this,Xj,!1)}setTimeoutProvider(t){ie(this,Bs,t)}setTimeout(t,e){return R(this,Bs).setTimeout(t,e)}clearTimeout(t){R(this,Bs).clearTimeout(t)}setInterval(t,e){return R(this,Bs).setInterval(t,e)}clearInterval(t){R(this,Bs).clearInterval(t)}},Bs=new WeakMap,Xj=new WeakMap,q9),Ka=new Tee;function Iee(t){setTimeout(t,0)}var jo=typeof window>"u"||"Deno"in globalThis;function Rr(){}function Ree(t,e){return typeof t=="function"?t(e):t}function rj(t){return typeof t=="number"&&t>=0&&t!==1/0}function yH(t,e){return Math.max(t+(e||0)-Date.now(),0)}function ca(t,e){return typeof t=="function"?t(e):t}function qn(t,e){return typeof t=="function"?t(e):t}function cI(t,e){const{type:r="all",exact:n,fetchStatus:i,predicate:s,queryKey:a,stale:o}=t;if(a){if(n){if(e.queryHash!==QC(a,e.options))return!1}else if(!Sd(e.queryKey,a))return!1}if(r!=="all"){const u=e.isActive();if(r==="active"&&!u||r==="inactive"&&u)return!1}return!(typeof o=="boolean"&&e.isStale()!==o||i&&i!==e.state.fetchStatus||s&&!s(e))}function dI(t,e){const{exact:r,status:n,predicate:i,mutationKey:s}=t;if(s){if(!e.options.mutationKey)return!1;if(r){if(Co(e.options.mutationKey)!==Co(s))return!1}else if(!Sd(e.options.mutationKey,s))return!1}return!(n&&e.state.status!==n||i&&!i(e))}function QC(t,e){return((e==null?void 0:e.queryKeyHashFn)||Co)(t)}function Co(t){return JSON.stringify(t,(e,r)=>nj(r)?Object.keys(r).sort().reduce((n,i)=>(n[i]=r[i],n),{}):r)}function Sd(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?Object.keys(e).every(r=>Sd(t[r],e[r])):!1}var $ee=Object.prototype.hasOwnProperty;function XC(t,e){if(t===e)return t;const r=hI(t)&&hI(e);if(!r&&!(nj(t)&&nj(e)))return e;const i=(r?t:Object.keys(t)).length,s=r?e:Object.keys(e),a=s.length,o=r?new Array(a):{};let u=0;for(let c=0;c<a;c++){const d=r?c:s[c],h=t[d],f=e[d];if(h===f){o[d]=h,(r?c<i:$ee.call(t,d))&&u++;continue}if(h===null||f===null||typeof h!="object"||typeof f!="object"){o[d]=f;continue}const p=XC(h,f);o[d]=p,p===h&&u++}return i===a&&u===i?t:o}function Ed(t,e){if(!e||Object.keys(t).length!==Object.keys(e).length)return!1;for(const r in t)if(t[r]!==e[r])return!1;return!0}function hI(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function nj(t){if(!fI(t))return!1;const e=t.constructor;if(e===void 0)return!0;const r=e.prototype;return!(!fI(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function fI(t){return Object.prototype.toString.call(t)==="[object Object]"}function kee(t){return new Promise(e=>{Ka.setTimeout(e,t)})}function ij(t,e,r){return typeof r.structuralSharing=="function"?r.structuralSharing(t,e):r.structuralSharing!==!1?XC(t,e):e}function Dee(t,e,r=0){const n=[...t,e];return r&&n.length>r?n.slice(1):n}function Mee(t,e,r=0){const n=[e,...t];return r&&n.length>r?n.slice(0,-1):n}var JC=Symbol();function bH(t,e){return!t.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!t.queryFn||t.queryFn===JC?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}function ZC(t,e){return typeof t=="function"?t(...e):!!t}function qee(t,e,r){let n=!1,i;return Object.defineProperty(t,"signal",{enumerable:!0,get:()=>(i??(i=e()),n||(n=!0,i.aborted?r():i.addEventListener("abort",r,{once:!0})),i)}),t}var to,zs,Kl,A9,Aee=(A9=class extends Uo{constructor(){super();ge(this,to);ge(this,zs);ge(this,Kl);ie(this,Kl,e=>{if(!jo&&window.addEventListener){const r=()=>e();return window.addEventListener("visibilitychange",r,!1),()=>{window.removeEventListener("visibilitychange",r)}}})}onSubscribe(){R(this,zs)||this.setEventListener(R(this,Kl))}onUnsubscribe(){var e;this.hasListeners()||((e=R(this,zs))==null||e.call(this),ie(this,zs,void 0))}setEventListener(e){var r;ie(this,Kl,e),(r=R(this,zs))==null||r.call(this),ie(this,zs,e(n=>{typeof n=="boolean"?this.setFocused(n):this.onFocus()}))}setFocused(e){R(this,to)!==e&&(ie(this,to,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(r=>{r(e)})}isFocused(){var e;return typeof R(this,to)=="boolean"?R(this,to):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},to=new WeakMap,zs=new WeakMap,Kl=new WeakMap,A9),eO=new Aee;function sj(){let t,e;const r=new Promise((i,s)=>{t=i,e=s});r.status="pending",r.catch(()=>{});function n(i){Object.assign(r,i),delete r.resolve,delete r.reject}return r.resolve=i=>{n({status:"fulfilled",value:i}),t(i)},r.reject=i=>{n({status:"rejected",reason:i}),e(i)},r}var Fee=Iee;function Lee(){let t=[],e=0,r=o=>{o()},n=o=>{o()},i=Fee;const s=o=>{e?t.push(o):i(()=>{r(o)})},a=()=>{const o=t;t=[],o.length&&i(()=>{n(()=>{o.forEach(u=>{r(u)})})})};return{batch:o=>{let u;e++;try{u=o()}finally{e--,e||a()}return u},batchCalls:o=>(...u)=>{s(()=>{o(...u)})},schedule:s,setNotifyFunction:o=>{r=o},setBatchNotifyFunction:o=>{n=o},setScheduler:o=>{i=o}}}var Bt=Lee(),Gl,Us,Yl,F9,Bee=(F9=class extends Uo{constructor(){super();ge(this,Gl,!0);ge(this,Us);ge(this,Yl);ie(this,Yl,e=>{if(!jo&&window.addEventListener){const r=()=>e(!0),n=()=>e(!1);return window.addEventListener("online",r,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",r),window.removeEventListener("offline",n)}}})}onSubscribe(){R(this,Us)||this.setEventListener(R(this,Yl))}onUnsubscribe(){var e;this.hasListeners()||((e=R(this,Us))==null||e.call(this),ie(this,Us,void 0))}setEventListener(e){var r;ie(this,Yl,e),(r=R(this,Us))==null||r.call(this),ie(this,Us,e(this.setOnline.bind(this)))}setOnline(e){R(this,Gl)!==e&&(ie(this,Gl,e),this.listeners.forEach(n=>{n(e)}))}isOnline(){return R(this,Gl)}},Gl=new WeakMap,Us=new WeakMap,Yl=new WeakMap,F9),pp=new Bee;function zee(t){return Math.min(1e3*2**t,3e4)}function xH(t){return(t??"online")==="online"?pp.isOnline():!0}var aj=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function wH(t){let e=!1,r=0,n;const i=sj(),s=()=>i.status!=="pending",a=y=>{var x;if(!s()){const g=new aj(y);f(g),(x=t.onCancel)==null||x.call(t,g)}},o=()=>{e=!0},u=()=>{e=!1},c=()=>eO.isFocused()&&(t.networkMode==="always"||pp.isOnline())&&t.canRun(),d=()=>xH(t.networkMode)&&t.canRun(),h=y=>{s()||(n==null||n(),i.resolve(y))},f=y=>{s()||(n==null||n(),i.reject(y))},p=()=>new Promise(y=>{var x;n=g=>{(s()||c())&&y(g)},(x=t.onPause)==null||x.call(t)}).then(()=>{var y;n=void 0,s()||(y=t.onContinue)==null||y.call(t)}),m=()=>{if(s())return;let y;const x=r===0?t.initialPromise:void 0;try{y=x??t.fn()}catch(g){y=Promise.reject(g)}Promise.resolve(y).then(h).catch(g=>{var E;if(s())return;const v=t.retry??(jo?0:3),w=t.retryDelay??zee,b=typeof w=="function"?w(r,g):w,_=v===!0||typeof v=="number"&&r<v||typeof v=="function"&&v(r,g);if(e||!_){f(g);return}r++,(E=t.onFail)==null||E.call(t,r,g),kee(b).then(()=>c()?void 0:p()).then(()=>{e?f(g):m()})})};return{promise:i,status:()=>i.status,cancel:a,continue:()=>(n==null||n(),i),cancelRetry:o,continueRetry:u,canStart:d,start:()=>(d()?m():p().then(m),i)}}var ro,L9,_H=(L9=class{constructor(){ge(this,ro)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),rj(this.gcTime)&&ie(this,ro,Ka.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(jo?1/0:5*60*1e3))}clearGcTimeout(){R(this,ro)&&(Ka.clearTimeout(R(this,ro)),ie(this,ro,void 0))}},ro=new WeakMap,L9),no,Ql,Dn,io,dr,qd,so,ii,Vi,B9,Uee=(B9=class extends _H{constructor(e){super();ge(this,ii);ge(this,no);ge(this,Ql);ge(this,Dn);ge(this,io);ge(this,dr);ge(this,qd);ge(this,so);ie(this,so,!1),ie(this,qd,e.defaultOptions),this.setOptions(e.options),this.observers=[],ie(this,io,e.client),ie(this,Dn,R(this,io).getQueryCache()),this.queryKey=e.queryKey,this.queryHash=e.queryHash,ie(this,no,mI(this.options)),this.state=e.state??R(this,no),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var e;return(e=R(this,dr))==null?void 0:e.promise}setOptions(e){if(this.options={...R(this,qd),...e},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const r=mI(this.options);r.data!==void 0&&(this.setState(pI(r.data,r.dataUpdatedAt)),ie(this,no,r))}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&R(this,Dn).remove(this)}setData(e,r){const n=ij(this.state.data,e,this.options);return Pe(this,ii,Vi).call(this,{data:n,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),n}setState(e,r){Pe(this,ii,Vi).call(this,{type:"setState",state:e,setStateOptions:r})}cancel(e){var n,i;const r=(n=R(this,dr))==null?void 0:n.promise;return(i=R(this,dr))==null||i.cancel(e),r?r.then(Rr).catch(Rr):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(R(this,no))}isActive(){return this.observers.some(e=>qn(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===JC||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(e=>ca(e.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(e=0){return this.state.data===void 0?!0:e==="static"?!1:this.state.isInvalidated?!0:!yH(this.state.dataUpdatedAt,e)}onFocus(){var r;const e=this.observers.find(n=>n.shouldFetchOnWindowFocus());e==null||e.refetch({cancelRefetch:!1}),(r=R(this,dr))==null||r.continue()}onOnline(){var r;const e=this.observers.find(n=>n.shouldFetchOnReconnect());e==null||e.refetch({cancelRefetch:!1}),(r=R(this,dr))==null||r.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),R(this,Dn).notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(r=>r!==e),this.observers.length||(R(this,dr)&&(R(this,so)?R(this,dr).cancel({revert:!0}):R(this,dr).cancelRetry()),this.scheduleGc()),R(this,Dn).notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||Pe(this,ii,Vi).call(this,{type:"invalidate"})}async fetch(e,r){var u,c,d,h,f,p,m,y,x,g,v,w;if(this.state.fetchStatus!=="idle"&&((u=R(this,dr))==null?void 0:u.status())!=="rejected"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(R(this,dr))return R(this,dr).continueRetry(),R(this,dr).promise}if(e&&this.setOptions(e),!this.options.queryFn){const b=this.observers.find(_=>_.options.queryFn);b&&this.setOptions(b.options)}const n=new AbortController,i=b=>{Object.defineProperty(b,"signal",{enumerable:!0,get:()=>(ie(this,so,!0),n.signal)})},s=()=>{const b=bH(this.options,r),E=(()=>{const N={client:R(this,io),queryKey:this.queryKey,meta:this.meta};return i(N),N})();return ie(this,so,!1),this.options.persister?this.options.persister(b,E,this):b(E)},o=(()=>{const b={fetchOptions:r,options:this.options,queryKey:this.queryKey,client:R(this,io),state:this.state,fetchFn:s};return i(b),b})();(c=this.options.behavior)==null||c.onFetch(o,this),ie(this,Ql,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((d=o.fetchOptions)==null?void 0:d.meta))&&Pe(this,ii,Vi).call(this,{type:"fetch",meta:(h=o.fetchOptions)==null?void 0:h.meta}),ie(this,dr,wH({initialPromise:r==null?void 0:r.initialPromise,fn:o.fetchFn,onCancel:b=>{b instanceof aj&&b.revert&&this.setState({...R(this,Ql),fetchStatus:"idle"}),n.abort()},onFail:(b,_)=>{Pe(this,ii,Vi).call(this,{type:"failed",failureCount:b,error:_})},onPause:()=>{Pe(this,ii,Vi).call(this,{type:"pause"})},onContinue:()=>{Pe(this,ii,Vi).call(this,{type:"continue"})},retry:o.options.retry,retryDelay:o.options.retryDelay,networkMode:o.options.networkMode,canRun:()=>!0}));try{const b=await R(this,dr).start();if(b===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(b),(p=(f=R(this,Dn).config).onSuccess)==null||p.call(f,b,this),(y=(m=R(this,Dn).config).onSettled)==null||y.call(m,b,this.state.error,this),b}catch(b){if(b instanceof aj){if(b.silent)return R(this,dr).promise;if(b.revert){if(this.state.data===void 0)throw b;return this.state.data}}throw Pe(this,ii,Vi).call(this,{type:"error",error:b}),(g=(x=R(this,Dn).config).onError)==null||g.call(x,b,this),(w=(v=R(this,Dn).config).onSettled)==null||w.call(v,this.state.data,b,this),b}finally{this.scheduleGc()}}},no=new WeakMap,Ql=new WeakMap,Dn=new WeakMap,io=new WeakMap,dr=new WeakMap,qd=new WeakMap,so=new WeakMap,ii=new WeakSet,Vi=function(e){const r=n=>{switch(e.type){case"failed":return{...n,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...SH(n.data,this.options),fetchMeta:e.meta??null};case"success":const i={...n,...pI(e.data,e.dataUpdatedAt),dataUpdateCount:n.dataUpdateCount+1,...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return ie(this,Ql,e.manual?i:void 0),i;case"error":const s=e.error;return{...n,error:s,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:s,fetchStatus:"idle",status:"error",isInvalidated:!0};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...e.state}}};this.state=r(this.state),Bt.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),R(this,Dn).notify({query:this,type:"updated",action:e})})},B9);function SH(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:xH(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function pI(t,e){return{data:t,dataUpdatedAt:e??Date.now(),error:null,isInvalidated:!1,status:"success"}}function mI(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,r=e!==void 0,n=r?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:r?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var Zr,Qe,Ad,Mr,ao,Xl,Gi,Ws,Fd,Jl,Zl,oo,lo,Vs,eu,nt,qc,oj,lj,uj,cj,dj,hj,fj,EH,z9,tO=(z9=class extends Uo{constructor(e,r){super();ge(this,nt);ge(this,Zr);ge(this,Qe);ge(this,Ad);ge(this,Mr);ge(this,ao);ge(this,Xl);ge(this,Gi);ge(this,Ws);ge(this,Fd);ge(this,Jl);ge(this,Zl);ge(this,oo);ge(this,lo);ge(this,Vs);ge(this,eu,new Set);this.options=r,ie(this,Zr,e),ie(this,Ws,null),ie(this,Gi,sj()),this.bindMethods(),this.setOptions(r)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(R(this,Qe).addObserver(this),vI(R(this,Qe),this.options)?Pe(this,nt,qc).call(this):this.updateResult(),Pe(this,nt,cj).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return pj(R(this,Qe),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return pj(R(this,Qe),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,Pe(this,nt,dj).call(this),Pe(this,nt,hj).call(this),R(this,Qe).removeObserver(this)}setOptions(e){const r=this.options,n=R(this,Qe);if(this.options=R(this,Zr).defaultQueryOptions(e),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof qn(this.options.enabled,R(this,Qe))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");Pe(this,nt,fj).call(this),R(this,Qe).setOptions(this.options),r._defaulted&&!Ed(this.options,r)&&R(this,Zr).getQueryCache().notify({type:"observerOptionsUpdated",query:R(this,Qe),observer:this});const i=this.hasListeners();i&&gI(R(this,Qe),n,this.options,r)&&Pe(this,nt,qc).call(this),this.updateResult(),i&&(R(this,Qe)!==n||qn(this.options.enabled,R(this,Qe))!==qn(r.enabled,R(this,Qe))||ca(this.options.staleTime,R(this,Qe))!==ca(r.staleTime,R(this,Qe)))&&Pe(this,nt,oj).call(this);const s=Pe(this,nt,lj).call(this);i&&(R(this,Qe)!==n||qn(this.options.enabled,R(this,Qe))!==qn(r.enabled,R(this,Qe))||s!==R(this,Vs))&&Pe(this,nt,uj).call(this,s)}getOptimisticResult(e){const r=R(this,Zr).getQueryCache().build(R(this,Zr),e),n=this.createResult(r,e);return Vee(this,n)&&(ie(this,Mr,n),ie(this,Xl,this.options),ie(this,ao,R(this,Qe).state)),n}getCurrentResult(){return R(this,Mr)}trackResult(e,r){return new Proxy(e,{get:(n,i)=>(this.trackProp(i),r==null||r(i),i==="promise"&&(this.trackProp("data"),!this.options.experimental_prefetchInRender&&R(this,Gi).status==="pending"&&R(this,Gi).reject(new Error("experimental_prefetchInRender feature flag is not enabled"))),Reflect.get(n,i))})}trackProp(e){R(this,eu).add(e)}getCurrentQuery(){return R(this,Qe)}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){const r=R(this,Zr).defaultQueryOptions(e),n=R(this,Zr).getQueryCache().build(R(this,Zr),r);return n.fetch().then(()=>this.createResult(n,r))}fetch(e){return Pe(this,nt,qc).call(this,{...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),R(this,Mr)))}createResult(e,r){var j;const n=R(this,Qe),i=this.options,s=R(this,Mr),a=R(this,ao),o=R(this,Xl),c=e!==n?e.state:R(this,Ad),{state:d}=e;let h={...d},f=!1,p;if(r._optimisticResults){const C=this.hasListeners(),P=!C&&vI(e,r),O=C&&gI(e,n,r,i);(P||O)&&(h={...h,...SH(d.data,e.options)}),r._optimisticResults==="isRestoring"&&(h.fetchStatus="idle")}let{error:m,errorUpdatedAt:y,status:x}=h;p=h.data;let g=!1;if(r.placeholderData!==void 0&&p===void 0&&x==="pending"){let C;s!=null&&s.isPlaceholderData&&r.placeholderData===(o==null?void 0:o.placeholderData)?(C=s.data,g=!0):C=typeof r.placeholderData=="function"?r.placeholderData((j=R(this,Zl))==null?void 0:j.state.data,R(this,Zl)):r.placeholderData,C!==void 0&&(x="success",p=ij(s==null?void 0:s.data,C,r),f=!0)}if(r.select&&p!==void 0&&!g)if(s&&p===(a==null?void 0:a.data)&&r.select===R(this,Fd))p=R(this,Jl);else try{ie(this,Fd,r.select),p=r.select(p),p=ij(s==null?void 0:s.data,p,r),ie(this,Jl,p),ie(this,Ws,null)}catch(C){ie(this,Ws,C)}R(this,Ws)&&(m=R(this,Ws),p=R(this,Jl),y=Date.now(),x="error");const v=h.fetchStatus==="fetching",w=x==="pending",b=x==="error",_=w&&v,E=p!==void 0,S={status:x,fetchStatus:h.fetchStatus,isPending:w,isSuccess:x==="success",isError:b,isInitialLoading:_,isLoading:_,data:p,dataUpdatedAt:h.dataUpdatedAt,error:m,errorUpdatedAt:y,failureCount:h.fetchFailureCount,failureReason:h.fetchFailureReason,errorUpdateCount:h.errorUpdateCount,isFetched:h.dataUpdateCount>0||h.errorUpdateCount>0,isFetchedAfterMount:h.dataUpdateCount>c.dataUpdateCount||h.errorUpdateCount>c.errorUpdateCount,isFetching:v,isRefetching:v&&!w,isLoadingError:b&&!E,isPaused:h.fetchStatus==="paused",isPlaceholderData:f,isRefetchError:b&&E,isStale:rO(e,r),refetch:this.refetch,promise:R(this,Gi),isEnabled:qn(r.enabled,e)!==!1};if(this.options.experimental_prefetchInRender){const C=I=>{S.status==="error"?I.reject(S.error):S.data!==void 0&&I.resolve(S.data)},P=()=>{const I=ie(this,Gi,S.promise=sj());C(I)},O=R(this,Gi);switch(O.status){case"pending":e.queryHash===n.queryHash&&C(O);break;case"fulfilled":(S.status==="error"||S.data!==O.value)&&P();break;case"rejected":(S.status!=="error"||S.error!==O.reason)&&P();break}}return S}updateResult(){const e=R(this,Mr),r=this.createResult(R(this,Qe),this.options);if(ie(this,ao,R(this,Qe).state),ie(this,Xl,this.options),R(this,ao).data!==void 0&&ie(this,Zl,R(this,Qe)),Ed(r,e))return;ie(this,Mr,r);const n=()=>{if(!e)return!0;const{notifyOnChangeProps:i}=this.options,s=typeof i=="function"?i():i;if(s==="all"||!s&&!R(this,eu).size)return!0;const a=new Set(s??R(this,eu));return this.options.throwOnError&&a.add("error"),Object.keys(R(this,Mr)).some(o=>{const u=o;return R(this,Mr)[u]!==e[u]&&a.has(u)})};Pe(this,nt,EH).call(this,{listeners:n()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&Pe(this,nt,cj).call(this)}},Zr=new WeakMap,Qe=new WeakMap,Ad=new WeakMap,Mr=new WeakMap,ao=new WeakMap,Xl=new WeakMap,Gi=new WeakMap,Ws=new WeakMap,Fd=new WeakMap,Jl=new WeakMap,Zl=new WeakMap,oo=new WeakMap,lo=new WeakMap,Vs=new WeakMap,eu=new WeakMap,nt=new WeakSet,qc=function(e){Pe(this,nt,fj).call(this);let r=R(this,Qe).fetch(this.options,e);return e!=null&&e.throwOnError||(r=r.catch(Rr)),r},oj=function(){Pe(this,nt,dj).call(this);const e=ca(this.options.staleTime,R(this,Qe));if(jo||R(this,Mr).isStale||!rj(e))return;const n=yH(R(this,Mr).dataUpdatedAt,e)+1;ie(this,oo,Ka.setTimeout(()=>{R(this,Mr).isStale||this.updateResult()},n))},lj=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(R(this,Qe)):this.options.refetchInterval)??!1},uj=function(e){Pe(this,nt,hj).call(this),ie(this,Vs,e),!(jo||qn(this.options.enabled,R(this,Qe))===!1||!rj(R(this,Vs))||R(this,Vs)===0)&&ie(this,lo,Ka.setInterval(()=>{(this.options.refetchIntervalInBackground||eO.isFocused())&&Pe(this,nt,qc).call(this)},R(this,Vs)))},cj=function(){Pe(this,nt,oj).call(this),Pe(this,nt,uj).call(this,Pe(this,nt,lj).call(this))},dj=function(){R(this,oo)&&(Ka.clearTimeout(R(this,oo)),ie(this,oo,void 0))},hj=function(){R(this,lo)&&(Ka.clearInterval(R(this,lo)),ie(this,lo,void 0))},fj=function(){const e=R(this,Zr).getQueryCache().build(R(this,Zr),this.options);if(e===R(this,Qe))return;const r=R(this,Qe);ie(this,Qe,e),ie(this,Ad,e.state),this.hasListeners()&&(r==null||r.removeObserver(this),e.addObserver(this))},EH=function(e){Bt.batch(()=>{e.listeners&&this.listeners.forEach(r=>{r(R(this,Mr))}),R(this,Zr).getQueryCache().notify({query:R(this,Qe),type:"observerResultsUpdated"})})},z9);function Wee(t,e){return qn(e.enabled,t)!==!1&&t.state.data===void 0&&!(t.state.status==="error"&&e.retryOnMount===!1)}function vI(t,e){return Wee(t,e)||t.state.data!==void 0&&pj(t,e,e.refetchOnMount)}function pj(t,e,r){if(qn(e.enabled,t)!==!1&&ca(e.staleTime,t)!=="static"){const n=typeof r=="function"?r(t):r;return n==="always"||n!==!1&&rO(t,e)}return!1}function gI(t,e,r,n){return(t!==e||qn(n.enabled,t)===!1)&&(!r.suspense||t.state.status!=="error")&&rO(t,r)}function rO(t,e){return qn(e.enabled,t)!==!1&&t.isStaleByTime(ca(e.staleTime,t))}function Vee(t,e){return!Ed(t.getCurrentResult(),e)}function yI(t){return{onFetch:(e,r)=>{var d,h,f,p,m;const n=e.options,i=(f=(h=(d=e.fetchOptions)==null?void 0:d.meta)==null?void 0:h.fetchMore)==null?void 0:f.direction,s=((p=e.state.data)==null?void 0:p.pages)||[],a=((m=e.state.data)==null?void 0:m.pageParams)||[];let o={pages:[],pageParams:[]},u=0;const c=async()=>{let y=!1;const x=w=>{qee(w,()=>e.signal,()=>y=!0)},g=bH(e.options,e.fetchOptions),v=async(w,b,_)=>{if(y)return Promise.reject();if(b==null&&w.pages.length)return Promise.resolve(w);const N=(()=>{const P={client:e.client,queryKey:e.queryKey,pageParam:b,direction:_?"backward":"forward",meta:e.options.meta};return x(P),P})(),S=await g(N),{maxPages:j}=e.options,C=_?Mee:Dee;return{pages:C(w.pages,S,j),pageParams:C(w.pageParams,b,j)}};if(i&&s.length){const w=i==="backward",b=w?Hee:bI,_={pages:s,pageParams:a},E=b(n,_);o=await v(_,E,w)}else{const w=t??s.length;do{const b=u===0?a[0]??n.initialPageParam:bI(n,o);if(u>0&&b==null)break;o=await v(o,b),u++}while(u<w)}return o};e.options.persister?e.fetchFn=()=>{var y,x;return(x=(y=e.options).persister)==null?void 0:x.call(y,c,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},r)}:e.fetchFn=c}}}function bI(t,{pages:e,pageParams:r}){const n=e.length-1;return e.length>0?t.getNextPageParam(e[n],e,r[n],r):void 0}function Hee(t,{pages:e,pageParams:r}){var n;return e.length>0?(n=t.getPreviousPageParam)==null?void 0:n.call(t,e[0],e,r[0],r):void 0}var Ld,Ni,qr,uo,ji,$s,U9,Kee=(U9=class extends _H{constructor(e){super();ge(this,ji);ge(this,Ld);ge(this,Ni);ge(this,qr);ge(this,uo);ie(this,Ld,e.client),this.mutationId=e.mutationId,ie(this,qr,e.mutationCache),ie(this,Ni,[]),this.state=e.state||NH(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){R(this,Ni).includes(e)||(R(this,Ni).push(e),this.clearGcTimeout(),R(this,qr).notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){ie(this,Ni,R(this,Ni).filter(r=>r!==e)),this.scheduleGc(),R(this,qr).notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){R(this,Ni).length||(this.state.status==="pending"?this.scheduleGc():R(this,qr).remove(this))}continue(){var e;return((e=R(this,uo))==null?void 0:e.continue())??this.execute(this.state.variables)}async execute(e){var a,o,u,c,d,h,f,p,m,y,x,g,v,w,b,_,E,N,S,j;const r=()=>{Pe(this,ji,$s).call(this,{type:"continue"})},n={client:R(this,Ld),meta:this.options.meta,mutationKey:this.options.mutationKey};ie(this,uo,wH({fn:()=>this.options.mutationFn?this.options.mutationFn(e,n):Promise.reject(new Error("No mutationFn found")),onFail:(C,P)=>{Pe(this,ji,$s).call(this,{type:"failed",failureCount:C,error:P})},onPause:()=>{Pe(this,ji,$s).call(this,{type:"pause"})},onContinue:r,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>R(this,qr).canRun(this)}));const i=this.state.status==="pending",s=!R(this,uo).canStart();try{if(i)r();else{Pe(this,ji,$s).call(this,{type:"pending",variables:e,isPaused:s}),await((o=(a=R(this,qr).config).onMutate)==null?void 0:o.call(a,e,this,n));const P=await((c=(u=this.options).onMutate)==null?void 0:c.call(u,e,n));P!==this.state.context&&Pe(this,ji,$s).call(this,{type:"pending",context:P,variables:e,isPaused:s})}const C=await R(this,uo).start();return await((h=(d=R(this,qr).config).onSuccess)==null?void 0:h.call(d,C,e,this.state.context,this,n)),await((p=(f=this.options).onSuccess)==null?void 0:p.call(f,C,e,this.state.context,n)),await((y=(m=R(this,qr).config).onSettled)==null?void 0:y.call(m,C,null,this.state.variables,this.state.context,this,n)),await((g=(x=this.options).onSettled)==null?void 0:g.call(x,C,null,e,this.state.context,n)),Pe(this,ji,$s).call(this,{type:"success",data:C}),C}catch(C){try{await((w=(v=R(this,qr).config).onError)==null?void 0:w.call(v,C,e,this.state.context,this,n))}catch(P){Promise.reject(P)}try{await((_=(b=this.options).onError)==null?void 0:_.call(b,C,e,this.state.context,n))}catch(P){Promise.reject(P)}try{await((N=(E=R(this,qr).config).onSettled)==null?void 0:N.call(E,void 0,C,this.state.variables,this.state.context,this,n))}catch(P){Promise.reject(P)}try{await((j=(S=this.options).onSettled)==null?void 0:j.call(S,void 0,C,e,this.state.context,n))}catch(P){Promise.reject(P)}throw Pe(this,ji,$s).call(this,{type:"error",error:C}),C}finally{R(this,qr).runNext(this)}}},Ld=new WeakMap,Ni=new WeakMap,qr=new WeakMap,uo=new WeakMap,ji=new WeakSet,$s=function(e){const r=n=>{switch(e.type){case"failed":return{...n,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...n,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:e.error,failureCount:n.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=r(this.state),Bt.batch(()=>{R(this,Ni).forEach(n=>{n.onMutationUpdate(e)}),R(this,qr).notify({mutation:this,type:"updated",action:e})})},U9);function NH(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Yi,si,Bd,W9,Gee=(W9=class extends Uo{constructor(e={}){super();ge(this,Yi);ge(this,si);ge(this,Bd);this.config=e,ie(this,Yi,new Set),ie(this,si,new Map),ie(this,Bd,0)}build(e,r,n){const i=new Kee({client:e,mutationCache:this,mutationId:++zh(this,Bd)._,options:e.defaultMutationOptions(r),state:n});return this.add(i),i}add(e){R(this,Yi).add(e);const r=of(e);if(typeof r=="string"){const n=R(this,si).get(r);n?n.push(e):R(this,si).set(r,[e])}this.notify({type:"added",mutation:e})}remove(e){if(R(this,Yi).delete(e)){const r=of(e);if(typeof r=="string"){const n=R(this,si).get(r);if(n)if(n.length>1){const i=n.indexOf(e);i!==-1&&n.splice(i,1)}else n[0]===e&&R(this,si).delete(r)}}this.notify({type:"removed",mutation:e})}canRun(e){const r=of(e);if(typeof r=="string"){const n=R(this,si).get(r),i=n==null?void 0:n.find(s=>s.state.status==="pending");return!i||i===e}else return!0}runNext(e){var n;const r=of(e);if(typeof r=="string"){const i=(n=R(this,si).get(r))==null?void 0:n.find(s=>s!==e&&s.state.isPaused);return(i==null?void 0:i.continue())??Promise.resolve()}else return Promise.resolve()}clear(){Bt.batch(()=>{R(this,Yi).forEach(e=>{this.notify({type:"removed",mutation:e})}),R(this,Yi).clear(),R(this,si).clear()})}getAll(){return Array.from(R(this,Yi))}find(e){const r={exact:!0,...e};return this.getAll().find(n=>dI(r,n))}findAll(e={}){return this.getAll().filter(r=>dI(e,r))}notify(e){Bt.batch(()=>{this.listeners.forEach(r=>{r(e)})})}resumePausedMutations(){const e=this.getAll().filter(r=>r.state.isPaused);return Bt.batch(()=>Promise.all(e.map(r=>r.continue().catch(Rr))))}},Yi=new WeakMap,si=new WeakMap,Bd=new WeakMap,W9);function of(t){var e;return(e=t.options.scope)==null?void 0:e.id}var Qi,Hs,en,Xi,hs,Rf,mj,V9,Yee=(V9=class extends Uo{constructor(e,r){super();ge(this,hs);ge(this,Qi);ge(this,Hs);ge(this,en);ge(this,Xi);ie(this,Qi,e),this.setOptions(r),this.bindMethods(),Pe(this,hs,Rf).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(e){var n;const r=this.options;this.options=R(this,Qi).defaultMutationOptions(e),Ed(this.options,r)||R(this,Qi).getMutationCache().notify({type:"observerOptionsUpdated",mutation:R(this,en),observer:this}),r!=null&&r.mutationKey&&this.options.mutationKey&&Co(r.mutationKey)!==Co(this.options.mutationKey)?this.reset():((n=R(this,en))==null?void 0:n.state.status)==="pending"&&R(this,en).setOptions(this.options)}onUnsubscribe(){var e;this.hasListeners()||(e=R(this,en))==null||e.removeObserver(this)}onMutationUpdate(e){Pe(this,hs,Rf).call(this),Pe(this,hs,mj).call(this,e)}getCurrentResult(){return R(this,Hs)}reset(){var e;(e=R(this,en))==null||e.removeObserver(this),ie(this,en,void 0),Pe(this,hs,Rf).call(this),Pe(this,hs,mj).call(this)}mutate(e,r){var n;return ie(this,Xi,r),(n=R(this,en))==null||n.removeObserver(this),ie(this,en,R(this,Qi).getMutationCache().build(R(this,Qi),this.options)),R(this,en).addObserver(this),R(this,en).execute(e)}},Qi=new WeakMap,Hs=new WeakMap,en=new WeakMap,Xi=new WeakMap,hs=new WeakSet,Rf=function(){var r;const e=((r=R(this,en))==null?void 0:r.state)??NH();ie(this,Hs,{...e,isPending:e.status==="pending",isSuccess:e.status==="success",isError:e.status==="error",isIdle:e.status==="idle",mutate:this.mutate,reset:this.reset})},mj=function(e){Bt.batch(()=>{var r,n,i,s,a,o,u,c;if(R(this,Xi)&&this.hasListeners()){const d=R(this,Hs).variables,h=R(this,Hs).context,f={client:R(this,Qi),meta:this.options.meta,mutationKey:this.options.mutationKey};if((e==null?void 0:e.type)==="success"){try{(n=(r=R(this,Xi)).onSuccess)==null||n.call(r,e.data,d,h,f)}catch(p){Promise.reject(p)}try{(s=(i=R(this,Xi)).onSettled)==null||s.call(i,e.data,null,d,h,f)}catch(p){Promise.reject(p)}}else if((e==null?void 0:e.type)==="error"){try{(o=(a=R(this,Xi)).onError)==null||o.call(a,e.error,d,h,f)}catch(p){Promise.reject(p)}try{(c=(u=R(this,Xi)).onSettled)==null||c.call(u,void 0,e.error,d,h,f)}catch(p){Promise.reject(p)}}}this.listeners.forEach(d=>{d(R(this,Hs))})})},V9);function xI(t,e){const r=new Set(e);return t.filter(n=>!r.has(n))}function Qee(t,e,r){const n=t.slice(0);return n[e]=r,n}var tu,xn,ru,nu,Mn,Ks,zd,Ud,Wd,jr,vj,gj,yj,bj,xj,H9,Xee=(H9=class extends Uo{constructor(e,r,n){super();ge(this,jr);ge(this,tu);ge(this,xn);ge(this,ru);ge(this,nu);ge(this,Mn);ge(this,Ks);ge(this,zd);ge(this,Ud);ge(this,Wd,[]);ie(this,tu,e),ie(this,nu,n),ie(this,ru,[]),ie(this,Mn,[]),ie(this,xn,[]),this.setQueries(r)}onSubscribe(){this.listeners.size===1&&R(this,Mn).forEach(e=>{e.subscribe(r=>{Pe(this,jr,bj).call(this,e,r)})})}onUnsubscribe(){this.listeners.size||this.destroy()}destroy(){this.listeners=new Set,R(this,Mn).forEach(e=>{e.destroy()})}setQueries(e,r){ie(this,ru,e),ie(this,nu,r),Bt.batch(()=>{const n=R(this,Mn),i=Pe(this,jr,yj).call(this,R(this,ru));i.forEach(h=>h.observer.setOptions(h.defaultedQueryOptions));const s=i.map(h=>h.observer),a=s.map(h=>h.getCurrentResult()),o=n.length!==s.length,u=s.some((h,f)=>h!==n[f]),c=o||u,d=c?!0:a.some((h,f)=>{const p=R(this,xn)[f];return!p||!Ed(h,p)});!c&&!d||(c&&(ie(this,Wd,i),ie(this,Mn,s)),ie(this,xn,a),this.hasListeners()&&(c&&(xI(n,s).forEach(h=>{h.destroy()}),xI(s,n).forEach(h=>{h.subscribe(f=>{Pe(this,jr,bj).call(this,h,f)})})),Pe(this,jr,xj).call(this)))})}getCurrentResult(){return R(this,xn)}getQueries(){return R(this,Mn).map(e=>e.getCurrentQuery())}getObservers(){return R(this,Mn)}getOptimisticResult(e,r){const n=Pe(this,jr,yj).call(this,e),i=n.map(s=>s.observer.getOptimisticResult(s.defaultedQueryOptions));return[i,s=>Pe(this,jr,gj).call(this,s??i,r),()=>Pe(this,jr,vj).call(this,i,n)]}},tu=new WeakMap,xn=new WeakMap,ru=new WeakMap,nu=new WeakMap,Mn=new WeakMap,Ks=new WeakMap,zd=new WeakMap,Ud=new WeakMap,Wd=new WeakMap,jr=new WeakSet,vj=function(e,r){return r.map((n,i)=>{const s=e[i];return n.defaultedQueryOptions.notifyOnChangeProps?s:n.observer.trackResult(s,a=>{r.forEach(o=>{o.observer.trackProp(a)})})})},gj=function(e,r){return r?((!R(this,Ks)||R(this,xn)!==R(this,Ud)||r!==R(this,zd))&&(ie(this,zd,r),ie(this,Ud,R(this,xn)),ie(this,Ks,XC(R(this,Ks),r(e)))),R(this,Ks)):e},yj=function(e){const r=new Map;R(this,Mn).forEach(i=>{const s=i.options.queryHash;if(!s)return;const a=r.get(s);a?a.push(i):r.set(s,[i])});const n=[];return e.forEach(i=>{var u;const s=R(this,tu).defaultQueryOptions(i),o=((u=r.get(s.queryHash))==null?void 0:u.shift())??new tO(R(this,tu),s);n.push({defaultedQueryOptions:s,observer:o})}),n},bj=function(e,r){const n=R(this,Mn).indexOf(e);n!==-1&&(ie(this,xn,Qee(R(this,xn),n,r)),Pe(this,jr,xj).call(this))},xj=function(){var e;if(this.hasListeners()){const r=R(this,Ks),n=Pe(this,jr,vj).call(this,R(this,xn),R(this,Wd)),i=Pe(this,jr,gj).call(this,n,(e=R(this,nu))==null?void 0:e.combine);r!==i&&Bt.batch(()=>{this.listeners.forEach(s=>{s(R(this,xn))})})}},H9),Ci,K9,Jee=(K9=class extends Uo{constructor(e={}){super();ge(this,Ci);this.config=e,ie(this,Ci,new Map)}build(e,r,n){const i=r.queryKey,s=r.queryHash??QC(i,r);let a=this.get(s);return a||(a=new Uee({client:e,queryKey:i,queryHash:s,options:e.defaultQueryOptions(r),state:n,defaultOptions:e.getQueryDefaults(i)}),this.add(a)),a}add(e){R(this,Ci).has(e.queryHash)||(R(this,Ci).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const r=R(this,Ci).get(e.queryHash);r&&(e.destroy(),r===e&&R(this,Ci).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){Bt.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return R(this,Ci).get(e)}getAll(){return[...R(this,Ci).values()]}find(e){const r={exact:!0,...e};return this.getAll().find(n=>cI(r,n))}findAll(e={}){const r=this.getAll();return Object.keys(e).length>0?r.filter(n=>cI(e,n)):r}notify(e){Bt.batch(()=>{this.listeners.forEach(r=>{r(e)})})}onFocus(){Bt.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){Bt.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},Ci=new WeakMap,K9),Mt,Gs,Ys,iu,su,Qs,au,ou,G9,Zee=(G9=class{constructor(t={}){ge(this,Mt);ge(this,Gs);ge(this,Ys);ge(this,iu);ge(this,su);ge(this,Qs);ge(this,au);ge(this,ou);ie(this,Mt,t.queryCache||new Jee),ie(this,Gs,t.mutationCache||new Gee),ie(this,Ys,t.defaultOptions||{}),ie(this,iu,new Map),ie(this,su,new Map),ie(this,Qs,0)}mount(){zh(this,Qs)._++,R(this,Qs)===1&&(ie(this,au,eO.subscribe(async t=>{t&&(await this.resumePausedMutations(),R(this,Mt).onFocus())})),ie(this,ou,pp.subscribe(async t=>{t&&(await this.resumePausedMutations(),R(this,Mt).onOnline())})))}unmount(){var t,e;zh(this,Qs)._--,R(this,Qs)===0&&((t=R(this,au))==null||t.call(this),ie(this,au,void 0),(e=R(this,ou))==null||e.call(this),ie(this,ou,void 0))}isFetching(t){return R(this,Mt).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return R(this,Gs).findAll({...t,status:"pending"}).length}getQueryData(t){var r;const e=this.defaultQueryOptions({queryKey:t});return(r=R(this,Mt).get(e.queryHash))==null?void 0:r.state.data}ensureQueryData(t){const e=this.defaultQueryOptions(t),r=R(this,Mt).build(this,e),n=r.state.data;return n===void 0?this.fetchQuery(t):(t.revalidateIfStale&&r.isStaleByTime(ca(e.staleTime,r))&&this.prefetchQuery(e),Promise.resolve(n))}getQueriesData(t){return R(this,Mt).findAll(t).map(({queryKey:e,state:r})=>{const n=r.data;return[e,n]})}setQueryData(t,e,r){const n=this.defaultQueryOptions({queryKey:t}),i=R(this,Mt).get(n.queryHash),s=i==null?void 0:i.state.data,a=Ree(e,s);if(a!==void 0)return R(this,Mt).build(this,n).setData(a,{...r,manual:!0})}setQueriesData(t,e,r){return Bt.batch(()=>R(this,Mt).findAll(t).map(({queryKey:n})=>[n,this.setQueryData(n,e,r)]))}getQueryState(t){var r;const e=this.defaultQueryOptions({queryKey:t});return(r=R(this,Mt).get(e.queryHash))==null?void 0:r.state}removeQueries(t){const e=R(this,Mt);Bt.batch(()=>{e.findAll(t).forEach(r=>{e.remove(r)})})}resetQueries(t,e){const r=R(this,Mt);return Bt.batch(()=>(r.findAll(t).forEach(n=>{n.reset()}),this.refetchQueries({type:"active",...t},e)))}cancelQueries(t,e={}){const r={revert:!0,...e},n=Bt.batch(()=>R(this,Mt).findAll(t).map(i=>i.cancel(r)));return Promise.all(n).then(Rr).catch(Rr)}invalidateQueries(t,e={}){return Bt.batch(()=>(R(this,Mt).findAll(t).forEach(r=>{r.invalidate()}),(t==null?void 0:t.refetchType)==="none"?Promise.resolve():this.refetchQueries({...t,type:(t==null?void 0:t.refetchType)??(t==null?void 0:t.type)??"active"},e)))}refetchQueries(t,e={}){const r={...e,cancelRefetch:e.cancelRefetch??!0},n=Bt.batch(()=>R(this,Mt).findAll(t).filter(i=>!i.isDisabled()&&!i.isStatic()).map(i=>{let s=i.fetch(void 0,r);return r.throwOnError||(s=s.catch(Rr)),i.state.fetchStatus==="paused"?Promise.resolve():s}));return Promise.all(n).then(Rr)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const r=R(this,Mt).build(this,e);return r.isStaleByTime(ca(e.staleTime,r))?r.fetch(e):Promise.resolve(r.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(Rr).catch(Rr)}fetchInfiniteQuery(t){return t.behavior=yI(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(Rr).catch(Rr)}ensureInfiniteQueryData(t){return t.behavior=yI(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return pp.isOnline()?R(this,Gs).resumePausedMutations():Promise.resolve()}getQueryCache(){return R(this,Mt)}getMutationCache(){return R(this,Gs)}getDefaultOptions(){return R(this,Ys)}setDefaultOptions(t){ie(this,Ys,t)}setQueryDefaults(t,e){R(this,iu).set(Co(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...R(this,iu).values()],r={};return e.forEach(n=>{Sd(t,n.queryKey)&&Object.assign(r,n.defaultOptions)}),r}setMutationDefaults(t,e){R(this,su).set(Co(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...R(this,su).values()],r={};return e.forEach(n=>{Sd(t,n.mutationKey)&&Object.assign(r,n.defaultOptions)}),r}defaultQueryOptions(t){if(t._defaulted)return t;const e={...R(this,Ys).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=QC(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===JC&&(e.enabled=!1),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...R(this,Ys).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){R(this,Mt).clear(),R(this,Gs).clear()}},Mt=new WeakMap,Gs=new WeakMap,Ys=new WeakMap,iu=new WeakMap,su=new WeakMap,Qs=new WeakMap,au=new WeakMap,ou=new WeakMap,G9),jH=T.createContext(void 0),ut=t=>{const e=T.useContext(jH);if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},ete=({client:t,children:e})=>(T.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),l.jsx(jH.Provider,{value:t,children:e})),CH=T.createContext(!1),OH=()=>T.useContext(CH);CH.Provider;function tte(){let t=!1;return{clearReset:()=>{t=!1},reset:()=>{t=!0},isReset:()=>t}}var rte=T.createContext(tte()),PH=()=>T.useContext(rte),TH=(t,e,r)=>{const n=r!=null&&r.state.error&&typeof t.throwOnError=="function"?ZC(t.throwOnError,[r.state.error,r]):t.throwOnError;(t.suspense||t.experimental_prefetchInRender||n)&&(e.isReset()||(t.retryOnMount=!1))},IH=t=>{T.useEffect(()=>{t.clearReset()},[t])},RH=({result:t,errorResetBoundary:e,throwOnError:r,query:n,suspense:i})=>t.isError&&!e.isReset()&&!t.isFetching&&n&&(i&&t.data===void 0||ZC(r,[t.error,n])),$H=t=>{if(t.suspense){const r=i=>i==="static"?i:Math.max(i??1e3,1e3),n=t.staleTime;t.staleTime=typeof n=="function"?(...i)=>r(n(...i)):r(n),typeof t.gcTime=="number"&&(t.gcTime=Math.max(t.gcTime,1e3))}},kH=(t,e)=>t.isLoading&&t.isFetching&&!e,wj=(t,e)=>(t==null?void 0:t.suspense)&&e.isPending,mp=(t,e,r)=>e.fetchOptimistic(t).catch(()=>{r.clearReset()});function vp({queries:t,...e},r){const n=ut(),i=OH(),s=PH(),a=T.useMemo(()=>t.map(y=>{const x=n.defaultQueryOptions(y);return x._optimisticResults=i?"isRestoring":"optimistic",x}),[t,n,i]);a.forEach(y=>{$H(y);const x=n.getQueryCache().get(y.queryHash);TH(y,s,x)}),IH(s);const[o]=T.useState(()=>new Xee(n,a,e)),[u,c,d]=o.getOptimisticResult(a,e.combine),h=!i&&e.subscribed!==!1;T.useSyncExternalStore(T.useCallback(y=>h?o.subscribe(Bt.batchCalls(y)):Rr,[o,h]),()=>o.getCurrentResult(),()=>o.getCurrentResult()),T.useEffect(()=>{o.setQueries(a,e)},[a,e,o]);const p=u.some((y,x)=>wj(a[x],y))?u.flatMap((y,x)=>{const g=a[x];if(g){const v=new tO(n,g);if(wj(g,y))return mp(g,v,s);kH(y,i)&&mp(g,v,s)}return[]}):[];if(p.length>0)throw Promise.all(p);const m=u.find((y,x)=>{const g=a[x];return g&&RH({result:y,errorResetBoundary:s,throwOnError:g.throwOnError,query:n.getQueryCache().get(g.queryHash),suspense:g.suspense})});if(m!=null&&m.error)throw m.error;return c(d())}function nte(t,e,r){var f,p,m,y;const n=OH(),i=PH(),s=ut(),a=s.defaultQueryOptions(t);(p=(f=s.getDefaultOptions().queries)==null?void 0:f._experimental_beforeQuery)==null||p.call(f,a);const o=s.getQueryCache().get(a.queryHash);a._optimisticResults=n?"isRestoring":"optimistic",$H(a),TH(a,i,o),IH(i);const u=!s.getQueryCache().get(a.queryHash),[c]=T.useState(()=>new e(s,a)),d=c.getOptimisticResult(a),h=!n&&t.subscribed!==!1;if(T.useSyncExternalStore(T.useCallback(x=>{const g=h?c.subscribe(Bt.batchCalls(x)):Rr;return c.updateResult(),g},[c,h]),()=>c.getCurrentResult(),()=>c.getCurrentResult()),T.useEffect(()=>{c.setOptions(a)},[a,c]),wj(a,d))throw mp(a,c,i);if(RH({result:d,errorResetBoundary:i,throwOnError:a.throwOnError,query:o,suspense:a.suspense}))throw d.error;if((y=(m=s.getDefaultOptions().queries)==null?void 0:m._experimental_afterQuery)==null||y.call(m,a,d),a.experimental_prefetchInRender&&!jo&&kH(d,n)){const x=u?mp(a,c,i):o==null?void 0:o.promise;x==null||x.catch(Rr).finally(()=>{c.updateResult()})}return a.notifyOnChangeProps?d:c.trackResult(d)}function rt(t,e){return nte(t,tO)}function Ze(t,e){const r=ut(),[n]=T.useState(()=>new Yee(r,t));T.useEffect(()=>{n.setOptions(t)},[n,t]);const i=T.useSyncExternalStore(T.useCallback(a=>n.subscribe(Bt.batchCalls(a)),[n]),()=>n.getCurrentResult(),()=>n.getCurrentResult()),s=T.useCallback((a,o)=>{n.mutate(a,o).catch(Rr)},[n]);if(i.error&&ZC(n.options.throwOnError,[i.error]))throw i.error;return{...i,mutate:s,mutateAsync:i.mutate}}function nO(){const t=window.prmConfig||{};return T.useMemo(()=>({isLoggedIn:t.isLoggedIn||!1,userId:t.userId||null,loginUrl:t.loginUrl||"/wp-login.php",logoutUrl:t.logoutUrl||"/wp-login.php?action=logout",isLoading:!1}),[t.isLoggedIn,t.userId,t.loginUrl,t.logoutUrl])}function DH(t,e){return function(){return t.apply(e,arguments)}}const{toString:ite}=Object.prototype,{getPrototypeOf:iO}=Object,{iterator:sm,toStringTag:MH}=Symbol,am=(t=>e=>{const r=ite.call(e);return t[r]||(t[r]=r.slice(8,-1).toLowerCase())})(Object.create(null)),gi=t=>(t=t.toLowerCase(),e=>am(e)===t),om=t=>e=>typeof e===t,{isArray:Du}=Array,vu=om("undefined");function Qd(t){return t!==null&&!vu(t)&&t.constructor!==null&&!vu(t.constructor)&&hn(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const qH=gi("ArrayBuffer");function ste(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&qH(t.buffer),e}const ate=om("string"),hn=om("function"),AH=om("number"),Xd=t=>t!==null&&typeof t=="object",ote=t=>t===!0||t===!1,$f=t=>{if(am(t)!=="object")return!1;const e=iO(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(MH in t)&&!(sm in t)},lte=t=>{if(!Xd(t)||Qd(t))return!1;try{return Object.keys(t).length===0&&Object.getPrototypeOf(t)===Object.prototype}catch{return!1}},ute=gi("Date"),cte=gi("File"),dte=gi("Blob"),hte=gi("FileList"),fte=t=>Xd(t)&&hn(t.pipe),pte=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||hn(t.append)&&((e=am(t))==="formdata"||e==="object"&&hn(t.toString)&&t.toString()==="[object FormData]"))},mte=gi("URLSearchParams"),[vte,gte,yte,bte]=["ReadableStream","Request","Response","Headers"].map(gi),xte=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Jd(t,e,{allOwnKeys:r=!1}={}){if(t===null||typeof t>"u")return;let n,i;if(typeof t!="object"&&(t=[t]),Du(t))for(n=0,i=t.length;n<i;n++)e.call(null,t[n],n,t);else{if(Qd(t))return;const s=r?Object.getOwnPropertyNames(t):Object.keys(t),a=s.length;let o;for(n=0;n<a;n++)o=s[n],e.call(null,t[o],o,t)}}function FH(t,e){if(Qd(t))return null;e=e.toLowerCase();const r=Object.keys(t);let n=r.length,i;for(;n-- >0;)if(i=r[n],e===i.toLowerCase())return i;return null}const Ga=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,LH=t=>!vu(t)&&t!==Ga;function _j(){const{caseless:t,skipUndefined:e}=LH(this)&&this||{},r={},n=(i,s)=>{const a=t&&FH(r,s)||s;$f(r[a])&&$f(i)?r[a]=_j(r[a],i):$f(i)?r[a]=_j({},i):Du(i)?r[a]=i.slice():(!e||!vu(i))&&(r[a]=i)};for(let i=0,s=arguments.length;i<s;i++)arguments[i]&&Jd(arguments[i],n);return r}const wte=(t,e,r,{allOwnKeys:n}={})=>(Jd(e,(i,s)=>{r&&hn(i)?t[s]=DH(i,r):t[s]=i},{allOwnKeys:n}),t),_te=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),Ste=(t,e,r,n)=>{t.prototype=Object.create(e.prototype,n),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),r&&Object.assign(t.prototype,r)},Ete=(t,e,r,n)=>{let i,s,a;const o={};if(e=e||{},t==null)return e;do{for(i=Object.getOwnPropertyNames(t),s=i.length;s-- >0;)a=i[s],(!n||n(a,t,e))&&!o[a]&&(e[a]=t[a],o[a]=!0);t=r!==!1&&iO(t)}while(t&&(!r||r(t,e))&&t!==Object.prototype);return e},Nte=(t,e,r)=>{t=String(t),(r===void 0||r>t.length)&&(r=t.length),r-=e.length;const n=t.indexOf(e,r);return n!==-1&&n===r},jte=t=>{if(!t)return null;if(Du(t))return t;let e=t.length;if(!AH(e))return null;const r=new Array(e);for(;e-- >0;)r[e]=t[e];return r},Cte=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&iO(Uint8Array)),Ote=(t,e)=>{const n=(t&&t[sm]).call(t);let i;for(;(i=n.next())&&!i.done;){const s=i.value;e.call(t,s[0],s[1])}},Pte=(t,e)=>{let r;const n=[];for(;(r=t.exec(e))!==null;)n.push(r);return n},Tte=gi("HTMLFormElement"),Ite=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(r,n,i){return n.toUpperCase()+i}),wI=(({hasOwnProperty:t})=>(e,r)=>t.call(e,r))(Object.prototype),Rte=gi("RegExp"),BH=(t,e)=>{const r=Object.getOwnPropertyDescriptors(t),n={};Jd(r,(i,s)=>{let a;(a=e(i,s,t))!==!1&&(n[s]=a||i)}),Object.defineProperties(t,n)},$te=t=>{BH(t,(e,r)=>{if(hn(t)&&["arguments","caller","callee"].indexOf(r)!==-1)return!1;const n=t[r];if(hn(n)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")})}})},kte=(t,e)=>{const r={},n=i=>{i.forEach(s=>{r[s]=!0})};return Du(t)?n(t):n(String(t).split(e)),r},Dte=()=>{},Mte=(t,e)=>t!=null&&Number.isFinite(t=+t)?t:e;function qte(t){return!!(t&&hn(t.append)&&t[MH]==="FormData"&&t[sm])}const Ate=t=>{const e=new Array(10),r=(n,i)=>{if(Xd(n)){if(e.indexOf(n)>=0)return;if(Qd(n))return n;if(!("toJSON"in n)){e[i]=n;const s=Du(n)?[]:{};return Jd(n,(a,o)=>{const u=r(a,i+1);!vu(u)&&(s[o]=u)}),e[i]=void 0,s}}return n};return r(t,0)},Fte=gi("AsyncFunction"),Lte=t=>t&&(Xd(t)||hn(t))&&hn(t.then)&&hn(t.catch),zH=((t,e)=>t?setImmediate:e?((r,n)=>(Ga.addEventListener("message",({source:i,data:s})=>{i===Ga&&s===r&&n.length&&n.shift()()},!1),i=>{n.push(i),Ga.postMessage(r,"*")}))(`axios@${Math.random()}`,[]):r=>setTimeout(r))(typeof setImmediate=="function",hn(Ga.postMessage)),Bte=typeof queueMicrotask<"u"?queueMicrotask.bind(Ga):typeof process<"u"&&process.nextTick||zH,zte=t=>t!=null&&hn(t[sm]),F={isArray:Du,isArrayBuffer:qH,isBuffer:Qd,isFormData:pte,isArrayBufferView:ste,isString:ate,isNumber:AH,isBoolean:ote,isObject:Xd,isPlainObject:$f,isEmptyObject:lte,isReadableStream:vte,isRequest:gte,isResponse:yte,isHeaders:bte,isUndefined:vu,isDate:ute,isFile:cte,isBlob:dte,isRegExp:Rte,isFunction:hn,isStream:fte,isURLSearchParams:mte,isTypedArray:Cte,isFileList:hte,forEach:Jd,merge:_j,extend:wte,trim:xte,stripBOM:_te,inherits:Ste,toFlatObject:Ete,kindOf:am,kindOfTest:gi,endsWith:Nte,toArray:jte,forEachEntry:Ote,matchAll:Pte,isHTMLForm:Tte,hasOwnProperty:wI,hasOwnProp:wI,reduceDescriptors:BH,freezeMethods:$te,toObjectSet:kte,toCamelCase:Ite,noop:Dte,toFiniteNumber:Mte,findKey:FH,global:Ga,isContextDefined:LH,isSpecCompliantForm:qte,toJSONObject:Ate,isAsyncFn:Fte,isThenable:Lte,setImmediate:zH,asap:Bte,isIterable:zte};function Me(t,e,r,n,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),r&&(this.config=r),n&&(this.request=n),i&&(this.response=i,this.status=i.status?i.status:null)}F.inherits(Me,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:F.toJSONObject(this.config),code:this.code,status:this.status}}});const UH=Me.prototype,WH={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{WH[t]={value:t}});Object.defineProperties(Me,WH);Object.defineProperty(UH,"isAxiosError",{value:!0});Me.from=(t,e,r,n,i,s)=>{const a=Object.create(UH);F.toFlatObject(t,a,function(d){return d!==Error.prototype},c=>c!=="isAxiosError");const o=t&&t.message?t.message:"Error",u=e==null&&t?t.code:e;return Me.call(a,o,u,r,n,i),t&&a.cause==null&&Object.defineProperty(a,"cause",{value:t,configurable:!0}),a.name=t&&t.name||"Error",s&&Object.assign(a,s),a};const Ute=null;function Sj(t){return F.isPlainObject(t)||F.isArray(t)}function VH(t){return F.endsWith(t,"[]")?t.slice(0,-2):t}function _I(t,e,r){return t?t.concat(e).map(function(i,s){return i=VH(i),!r&&s?"["+i+"]":i}).join(r?".":""):e}function Wte(t){return F.isArray(t)&&!t.some(Sj)}const Vte=F.toFlatObject(F,{},null,function(e){return/^is[A-Z]/.test(e)});function lm(t,e,r){if(!F.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,r=F.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,function(y,x){return!F.isUndefined(x[y])});const n=r.metaTokens,i=r.visitor||d,s=r.dots,a=r.indexes,u=(r.Blob||typeof Blob<"u"&&Blob)&&F.isSpecCompliantForm(e);if(!F.isFunction(i))throw new TypeError("visitor must be a function");function c(m){if(m===null)return"";if(F.isDate(m))return m.toISOString();if(F.isBoolean(m))return m.toString();if(!u&&F.isBlob(m))throw new Me("Blob is not supported. Use a Buffer instead.");return F.isArrayBuffer(m)||F.isTypedArray(m)?u&&typeof Blob=="function"?new Blob([m]):Buffer.from(m):m}function d(m,y,x){let g=m;if(m&&!x&&typeof m=="object"){if(F.endsWith(y,"{}"))y=n?y:y.slice(0,-2),m=JSON.stringify(m);else if(F.isArray(m)&&Wte(m)||(F.isFileList(m)||F.endsWith(y,"[]"))&&(g=F.toArray(m)))return y=VH(y),g.forEach(function(w,b){!(F.isUndefined(w)||w===null)&&e.append(a===!0?_I([y],b,s):a===null?y:y+"[]",c(w))}),!1}return Sj(m)?!0:(e.append(_I(x,y,s),c(m)),!1)}const h=[],f=Object.assign(Vte,{defaultVisitor:d,convertValue:c,isVisitable:Sj});function p(m,y){if(!F.isUndefined(m)){if(h.indexOf(m)!==-1)throw Error("Circular reference detected in "+y.join("."));h.push(m),F.forEach(m,function(g,v){(!(F.isUndefined(g)||g===null)&&i.call(e,g,F.isString(v)?v.trim():v,y,f))===!0&&p(g,y?y.concat(v):[v])}),h.pop()}}if(!F.isObject(t))throw new TypeError("data must be an object");return p(t),e}function SI(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(n){return e[n]})}function sO(t,e){this._pairs=[],t&&lm(t,this,e)}const HH=sO.prototype;HH.append=function(e,r){this._pairs.push([e,r])};HH.toString=function(e){const r=e?function(n){return e.call(this,n,SI)}:SI;return this._pairs.map(function(i){return r(i[0])+"="+r(i[1])},"").join("&")};function Hte(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function KH(t,e,r){if(!e)return t;const n=r&&r.encode||Hte;F.isFunction(r)&&(r={serialize:r});const i=r&&r.serialize;let s;if(i?s=i(e,r):s=F.isURLSearchParams(e)?e.toString():new sO(e,r).toString(n),s){const a=t.indexOf("#");a!==-1&&(t=t.slice(0,a)),t+=(t.indexOf("?")===-1?"?":"&")+s}return t}class EI{constructor(){this.handlers=[]}use(e,r,n){return this.handlers.push({fulfilled:e,rejected:r,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){F.forEach(this.handlers,function(n){n!==null&&e(n)})}}const GH={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Kte=typeof URLSearchParams<"u"?URLSearchParams:sO,Gte=typeof FormData<"u"?FormData:null,Yte=typeof Blob<"u"?Blob:null,Qte={isBrowser:!0,classes:{URLSearchParams:Kte,FormData:Gte,Blob:Yte},protocols:["http","https","file","blob","url","data"]},aO=typeof window<"u"&&typeof document<"u",Ej=typeof navigator=="object"&&navigator||void 0,Xte=aO&&(!Ej||["ReactNative","NativeScript","NS"].indexOf(Ej.product)<0),Jte=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",Zte=aO&&window.location.href||"http://localhost",ere=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:aO,hasStandardBrowserEnv:Xte,hasStandardBrowserWebWorkerEnv:Jte,navigator:Ej,origin:Zte},Symbol.toStringTag,{value:"Module"})),kr={...ere,...Qte};function tre(t,e){return lm(t,new kr.classes.URLSearchParams,{visitor:function(r,n,i,s){return kr.isNode&&F.isBuffer(r)?(this.append(n,r.toString("base64")),!1):s.defaultVisitor.apply(this,arguments)},...e})}function rre(t){return F.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function nre(t){const e={},r=Object.keys(t);let n;const i=r.length;let s;for(n=0;n<i;n++)s=r[n],e[s]=t[s];return e}function YH(t){function e(r,n,i,s){let a=r[s++];if(a==="__proto__")return!0;const o=Number.isFinite(+a),u=s>=r.length;return a=!a&&F.isArray(i)?i.length:a,u?(F.hasOwnProp(i,a)?i[a]=[i[a],n]:i[a]=n,!o):((!i[a]||!F.isObject(i[a]))&&(i[a]=[]),e(r,n,i[a],s)&&F.isArray(i[a])&&(i[a]=nre(i[a])),!o)}if(F.isFormData(t)&&F.isFunction(t.entries)){const r={};return F.forEachEntry(t,(n,i)=>{e(rre(n),i,r,0)}),r}return null}function ire(t,e,r){if(F.isString(t))try{return(e||JSON.parse)(t),F.trim(t)}catch(n){if(n.name!=="SyntaxError")throw n}return(r||JSON.stringify)(t)}const Zd={transitional:GH,adapter:["xhr","http","fetch"],transformRequest:[function(e,r){const n=r.getContentType()||"",i=n.indexOf("application/json")>-1,s=F.isObject(e);if(s&&F.isHTMLForm(e)&&(e=new FormData(e)),F.isFormData(e))return i?JSON.stringify(YH(e)):e;if(F.isArrayBuffer(e)||F.isBuffer(e)||F.isStream(e)||F.isFile(e)||F.isBlob(e)||F.isReadableStream(e))return e;if(F.isArrayBufferView(e))return e.buffer;if(F.isURLSearchParams(e))return r.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let o;if(s){if(n.indexOf("application/x-www-form-urlencoded")>-1)return tre(e,this.formSerializer).toString();if((o=F.isFileList(e))||n.indexOf("multipart/form-data")>-1){const u=this.env&&this.env.FormData;return lm(o?{"files[]":e}:e,u&&new u,this.formSerializer)}}return s||i?(r.setContentType("application/json",!1),ire(e)):e}],transformResponse:[function(e){const r=this.transitional||Zd.transitional,n=r&&r.forcedJSONParsing,i=this.responseType==="json";if(F.isResponse(e)||F.isReadableStream(e))return e;if(e&&F.isString(e)&&(n&&!this.responseType||i)){const a=!(r&&r.silentJSONParsing)&&i;try{return JSON.parse(e,this.parseReviver)}catch(o){if(a)throw o.name==="SyntaxError"?Me.from(o,Me.ERR_BAD_RESPONSE,this,null,this.response):o}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:kr.classes.FormData,Blob:kr.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};F.forEach(["delete","get","head","post","put","patch"],t=>{Zd.headers[t]={}});const sre=F.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),are=t=>{const e={};let r,n,i;return t&&t.split(`
`).forEach(function(a){i=a.indexOf(":"),r=a.substring(0,i).trim().toLowerCase(),n=a.substring(i+1).trim(),!(!r||e[r]&&sre[r])&&(r==="set-cookie"?e[r]?e[r].push(n):e[r]=[n]:e[r]=e[r]?e[r]+", "+n:n)}),e},NI=Symbol("internals");function Ec(t){return t&&String(t).trim().toLowerCase()}function kf(t){return t===!1||t==null?t:F.isArray(t)?t.map(kf):String(t)}function ore(t){const e=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let n;for(;n=r.exec(t);)e[n[1]]=n[2];return e}const lre=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function Sv(t,e,r,n,i){if(F.isFunction(n))return n.call(this,e,r);if(i&&(e=r),!!F.isString(e)){if(F.isString(n))return e.indexOf(n)!==-1;if(F.isRegExp(n))return n.test(e)}}function ure(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,r,n)=>r.toUpperCase()+n)}function cre(t,e){const r=F.toCamelCase(" "+e);["get","set","has"].forEach(n=>{Object.defineProperty(t,n+r,{value:function(i,s,a){return this[n].call(this,e,i,s,a)},configurable:!0})})}let fn=class{constructor(e){e&&this.set(e)}set(e,r,n){const i=this;function s(o,u,c){const d=Ec(u);if(!d)throw new Error("header name must be a non-empty string");const h=F.findKey(i,d);(!h||i[h]===void 0||c===!0||c===void 0&&i[h]!==!1)&&(i[h||u]=kf(o))}const a=(o,u)=>F.forEach(o,(c,d)=>s(c,d,u));if(F.isPlainObject(e)||e instanceof this.constructor)a(e,r);else if(F.isString(e)&&(e=e.trim())&&!lre(e))a(are(e),r);else if(F.isObject(e)&&F.isIterable(e)){let o={},u,c;for(const d of e){if(!F.isArray(d))throw TypeError("Object iterator must return a key-value pair");o[c=d[0]]=(u=o[c])?F.isArray(u)?[...u,d[1]]:[u,d[1]]:d[1]}a(o,r)}else e!=null&&s(r,e,n);return this}get(e,r){if(e=Ec(e),e){const n=F.findKey(this,e);if(n){const i=this[n];if(!r)return i;if(r===!0)return ore(i);if(F.isFunction(r))return r.call(this,i,n);if(F.isRegExp(r))return r.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,r){if(e=Ec(e),e){const n=F.findKey(this,e);return!!(n&&this[n]!==void 0&&(!r||Sv(this,this[n],n,r)))}return!1}delete(e,r){const n=this;let i=!1;function s(a){if(a=Ec(a),a){const o=F.findKey(n,a);o&&(!r||Sv(n,n[o],o,r))&&(delete n[o],i=!0)}}return F.isArray(e)?e.forEach(s):s(e),i}clear(e){const r=Object.keys(this);let n=r.length,i=!1;for(;n--;){const s=r[n];(!e||Sv(this,this[s],s,e,!0))&&(delete this[s],i=!0)}return i}normalize(e){const r=this,n={};return F.forEach(this,(i,s)=>{const a=F.findKey(n,s);if(a){r[a]=kf(i),delete r[s];return}const o=e?ure(s):String(s).trim();o!==s&&delete r[s],r[o]=kf(i),n[o]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const r=Object.create(null);return F.forEach(this,(n,i)=>{n!=null&&n!==!1&&(r[i]=e&&F.isArray(n)?n.join(", "):n)}),r}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,r])=>e+": "+r).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...r){const n=new this(e);return r.forEach(i=>n.set(i)),n}static accessor(e){const n=(this[NI]=this[NI]={accessors:{}}).accessors,i=this.prototype;function s(a){const o=Ec(a);n[o]||(cre(i,a),n[o]=!0)}return F.isArray(e)?e.forEach(s):s(e),this}};fn.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);F.reduceDescriptors(fn.prototype,({value:t},e)=>{let r=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(n){this[r]=n}}});F.freezeMethods(fn);function Ev(t,e){const r=this||Zd,n=e||r,i=fn.from(n.headers);let s=n.data;return F.forEach(t,function(o){s=o.call(r,s,i.normalize(),e?e.status:void 0)}),i.normalize(),s}function QH(t){return!!(t&&t.__CANCEL__)}function Mu(t,e,r){Me.call(this,t??"canceled",Me.ERR_CANCELED,e,r),this.name="CanceledError"}F.inherits(Mu,Me,{__CANCEL__:!0});function XH(t,e,r){const n=r.config.validateStatus;!r.status||!n||n(r.status)?t(r):e(new Me("Request failed with status code "+r.status,[Me.ERR_BAD_REQUEST,Me.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r))}function dre(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function hre(t,e){t=t||10;const r=new Array(t),n=new Array(t);let i=0,s=0,a;return e=e!==void 0?e:1e3,function(u){const c=Date.now(),d=n[s];a||(a=c),r[i]=u,n[i]=c;let h=s,f=0;for(;h!==i;)f+=r[h++],h=h%t;if(i=(i+1)%t,i===s&&(s=(s+1)%t),c-a<e)return;const p=d&&c-d;return p?Math.round(f*1e3/p):void 0}}function fre(t,e){let r=0,n=1e3/e,i,s;const a=(c,d=Date.now())=>{r=d,i=null,s&&(clearTimeout(s),s=null),t(...c)};return[(...c)=>{const d=Date.now(),h=d-r;h>=n?a(c,d):(i=c,s||(s=setTimeout(()=>{s=null,a(i)},n-h)))},()=>i&&a(i)]}const gp=(t,e,r=3)=>{let n=0;const i=hre(50,250);return fre(s=>{const a=s.loaded,o=s.lengthComputable?s.total:void 0,u=a-n,c=i(u),d=a<=o;n=a;const h={loaded:a,total:o,progress:o?a/o:void 0,bytes:u,rate:c||void 0,estimated:c&&o&&d?(o-a)/c:void 0,event:s,lengthComputable:o!=null,[e?"download":"upload"]:!0};t(h)},r)},jI=(t,e)=>{const r=t!=null;return[n=>e[0]({lengthComputable:r,total:t,loaded:n}),e[1]]},CI=t=>(...e)=>F.asap(()=>t(...e)),pre=kr.hasStandardBrowserEnv?((t,e)=>r=>(r=new URL(r,kr.origin),t.protocol===r.protocol&&t.host===r.host&&(e||t.port===r.port)))(new URL(kr.origin),kr.navigator&&/(msie|trident)/i.test(kr.navigator.userAgent)):()=>!0,mre=kr.hasStandardBrowserEnv?{write(t,e,r,n,i,s,a){if(typeof document>"u")return;const o=[`${t}=${encodeURIComponent(e)}`];F.isNumber(r)&&o.push(`expires=${new Date(r).toUTCString()}`),F.isString(n)&&o.push(`path=${n}`),F.isString(i)&&o.push(`domain=${i}`),s===!0&&o.push("secure"),F.isString(a)&&o.push(`SameSite=${a}`),document.cookie=o.join("; ")},read(t){if(typeof document>"u")return null;const e=document.cookie.match(new RegExp("(?:^|; )"+t+"=([^;]*)"));return e?decodeURIComponent(e[1]):null},remove(t){this.write(t,"",Date.now()-864e5,"/")}}:{write(){},read(){return null},remove(){}};function vre(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function gre(t,e){return e?t.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):t}function JH(t,e,r){let n=!vre(e);return t&&(n||r==!1)?gre(t,e):e}const OI=t=>t instanceof fn?{...t}:t;function Oo(t,e){e=e||{};const r={};function n(c,d,h,f){return F.isPlainObject(c)&&F.isPlainObject(d)?F.merge.call({caseless:f},c,d):F.isPlainObject(d)?F.merge({},d):F.isArray(d)?d.slice():d}function i(c,d,h,f){if(F.isUndefined(d)){if(!F.isUndefined(c))return n(void 0,c,h,f)}else return n(c,d,h,f)}function s(c,d){if(!F.isUndefined(d))return n(void 0,d)}function a(c,d){if(F.isUndefined(d)){if(!F.isUndefined(c))return n(void 0,c)}else return n(void 0,d)}function o(c,d,h){if(h in e)return n(c,d);if(h in t)return n(void 0,c)}const u={url:s,method:s,data:s,baseURL:a,transformRequest:a,transformResponse:a,paramsSerializer:a,timeout:a,timeoutMessage:a,withCredentials:a,withXSRFToken:a,adapter:a,responseType:a,xsrfCookieName:a,xsrfHeaderName:a,onUploadProgress:a,onDownloadProgress:a,decompress:a,maxContentLength:a,maxBodyLength:a,beforeRedirect:a,transport:a,httpAgent:a,httpsAgent:a,cancelToken:a,socketPath:a,responseEncoding:a,validateStatus:o,headers:(c,d,h)=>i(OI(c),OI(d),h,!0)};return F.forEach(Object.keys({...t,...e}),function(d){const h=u[d]||i,f=h(t[d],e[d],d);F.isUndefined(f)&&h!==o||(r[d]=f)}),r}const ZH=t=>{const e=Oo({},t);let{data:r,withXSRFToken:n,xsrfHeaderName:i,xsrfCookieName:s,headers:a,auth:o}=e;if(e.headers=a=fn.from(a),e.url=KH(JH(e.baseURL,e.url,e.allowAbsoluteUrls),t.params,t.paramsSerializer),o&&a.set("Authorization","Basic "+btoa((o.username||"")+":"+(o.password?unescape(encodeURIComponent(o.password)):""))),F.isFormData(r)){if(kr.hasStandardBrowserEnv||kr.hasStandardBrowserWebWorkerEnv)a.setContentType(void 0);else if(F.isFunction(r.getHeaders)){const u=r.getHeaders(),c=["content-type","content-length"];Object.entries(u).forEach(([d,h])=>{c.includes(d.toLowerCase())&&a.set(d,h)})}}if(kr.hasStandardBrowserEnv&&(n&&F.isFunction(n)&&(n=n(e)),n||n!==!1&&pre(e.url))){const u=i&&s&&mre.read(s);u&&a.set(i,u)}return e},yre=typeof XMLHttpRequest<"u",bre=yre&&function(t){return new Promise(function(r,n){const i=ZH(t);let s=i.data;const a=fn.from(i.headers).normalize();let{responseType:o,onUploadProgress:u,onDownloadProgress:c}=i,d,h,f,p,m;function y(){p&&p(),m&&m(),i.cancelToken&&i.cancelToken.unsubscribe(d),i.signal&&i.signal.removeEventListener("abort",d)}let x=new XMLHttpRequest;x.open(i.method.toUpperCase(),i.url,!0),x.timeout=i.timeout;function g(){if(!x)return;const w=fn.from("getAllResponseHeaders"in x&&x.getAllResponseHeaders()),_={data:!o||o==="text"||o==="json"?x.responseText:x.response,status:x.status,statusText:x.statusText,headers:w,config:t,request:x};XH(function(N){r(N),y()},function(N){n(N),y()},_),x=null}"onloadend"in x?x.onloadend=g:x.onreadystatechange=function(){!x||x.readyState!==4||x.status===0&&!(x.responseURL&&x.responseURL.indexOf("file:")===0)||setTimeout(g)},x.onabort=function(){x&&(n(new Me("Request aborted",Me.ECONNABORTED,t,x)),x=null)},x.onerror=function(b){const _=b&&b.message?b.message:"Network Error",E=new Me(_,Me.ERR_NETWORK,t,x);E.event=b||null,n(E),x=null},x.ontimeout=function(){let b=i.timeout?"timeout of "+i.timeout+"ms exceeded":"timeout exceeded";const _=i.transitional||GH;i.timeoutErrorMessage&&(b=i.timeoutErrorMessage),n(new Me(b,_.clarifyTimeoutError?Me.ETIMEDOUT:Me.ECONNABORTED,t,x)),x=null},s===void 0&&a.setContentType(null),"setRequestHeader"in x&&F.forEach(a.toJSON(),function(b,_){x.setRequestHeader(_,b)}),F.isUndefined(i.withCredentials)||(x.withCredentials=!!i.withCredentials),o&&o!=="json"&&(x.responseType=i.responseType),c&&([f,m]=gp(c,!0),x.addEventListener("progress",f)),u&&x.upload&&([h,p]=gp(u),x.upload.addEventListener("progress",h),x.upload.addEventListener("loadend",p)),(i.cancelToken||i.signal)&&(d=w=>{x&&(n(!w||w.type?new Mu(null,t,x):w),x.abort(),x=null)},i.cancelToken&&i.cancelToken.subscribe(d),i.signal&&(i.signal.aborted?d():i.signal.addEventListener("abort",d)));const v=dre(i.url);if(v&&kr.protocols.indexOf(v)===-1){n(new Me("Unsupported protocol "+v+":",Me.ERR_BAD_REQUEST,t));return}x.send(s||null)})},xre=(t,e)=>{const{length:r}=t=t?t.filter(Boolean):[];if(e||r){let n=new AbortController,i;const s=function(c){if(!i){i=!0,o();const d=c instanceof Error?c:this.reason;n.abort(d instanceof Me?d:new Mu(d instanceof Error?d.message:d))}};let a=e&&setTimeout(()=>{a=null,s(new Me(`timeout ${e} of ms exceeded`,Me.ETIMEDOUT))},e);const o=()=>{t&&(a&&clearTimeout(a),a=null,t.forEach(c=>{c.unsubscribe?c.unsubscribe(s):c.removeEventListener("abort",s)}),t=null)};t.forEach(c=>c.addEventListener("abort",s));const{signal:u}=n;return u.unsubscribe=()=>F.asap(o),u}},wre=function*(t,e){let r=t.byteLength;if(r<e){yield t;return}let n=0,i;for(;n<r;)i=n+e,yield t.slice(n,i),n=i},_re=async function*(t,e){for await(const r of Sre(t))yield*wre(r,e)},Sre=async function*(t){if(t[Symbol.asyncIterator]){yield*t;return}const e=t.getReader();try{for(;;){const{done:r,value:n}=await e.read();if(r)break;yield n}}finally{await e.cancel()}},PI=(t,e,r,n)=>{const i=_re(t,e);let s=0,a,o=u=>{a||(a=!0,n&&n(u))};return new ReadableStream({async pull(u){try{const{done:c,value:d}=await i.next();if(c){o(),u.close();return}let h=d.byteLength;if(r){let f=s+=h;r(f)}u.enqueue(new Uint8Array(d))}catch(c){throw o(c),c}},cancel(u){return o(u),i.return()}},{highWaterMark:2})},TI=64*1024,{isFunction:lf}=F,Ere=(({Request:t,Response:e})=>({Request:t,Response:e}))(F.global),{ReadableStream:II,TextEncoder:RI}=F.global,$I=(t,...e)=>{try{return!!t(...e)}catch{return!1}},Nre=t=>{t=F.merge.call({skipUndefined:!0},Ere,t);const{fetch:e,Request:r,Response:n}=t,i=e?lf(e):typeof fetch=="function",s=lf(r),a=lf(n);if(!i)return!1;const o=i&&lf(II),u=i&&(typeof RI=="function"?(m=>y=>m.encode(y))(new RI):async m=>new Uint8Array(await new r(m).arrayBuffer())),c=s&&o&&$I(()=>{let m=!1;const y=new r(kr.origin,{body:new II,method:"POST",get duplex(){return m=!0,"half"}}).headers.has("Content-Type");return m&&!y}),d=a&&o&&$I(()=>F.isReadableStream(new n("").body)),h={stream:d&&(m=>m.body)};i&&["text","arrayBuffer","blob","formData","stream"].forEach(m=>{!h[m]&&(h[m]=(y,x)=>{let g=y&&y[m];if(g)return g.call(y);throw new Me(`Response type '${m}' is not supported`,Me.ERR_NOT_SUPPORT,x)})});const f=async m=>{if(m==null)return 0;if(F.isBlob(m))return m.size;if(F.isSpecCompliantForm(m))return(await new r(kr.origin,{method:"POST",body:m}).arrayBuffer()).byteLength;if(F.isArrayBufferView(m)||F.isArrayBuffer(m))return m.byteLength;if(F.isURLSearchParams(m)&&(m=m+""),F.isString(m))return(await u(m)).byteLength},p=async(m,y)=>{const x=F.toFiniteNumber(m.getContentLength());return x??f(y)};return async m=>{let{url:y,method:x,data:g,signal:v,cancelToken:w,timeout:b,onDownloadProgress:_,onUploadProgress:E,responseType:N,headers:S,withCredentials:j="same-origin",fetchOptions:C}=ZH(m),P=e||fetch;N=N?(N+"").toLowerCase():"text";let O=xre([v,w&&w.toAbortSignal()],b),I=null;const M=O&&O.unsubscribe&&(()=>{O.unsubscribe()});let k;try{if(E&&c&&x!=="get"&&x!=="head"&&(k=await p(S,g))!==0){let z=new r(y,{method:"POST",body:g,duplex:"half"}),G;if(F.isFormData(g)&&(G=z.headers.get("content-type"))&&S.setContentType(G),z.body){const[ce,ve]=jI(k,gp(CI(E)));g=PI(z.body,TI,ce,ve)}}F.isString(j)||(j=j?"include":"omit");const H=s&&"credentials"in r.prototype,W={...C,signal:O,method:x.toUpperCase(),headers:S.normalize().toJSON(),body:g,duplex:"half",credentials:H?j:void 0};I=s&&new r(y,W);let A=await(s?P(I,C):P(y,W));const K=d&&(N==="stream"||N==="response");if(d&&(_||K&&M)){const z={};["status","statusText","headers"].forEach(Ie=>{z[Ie]=A[Ie]});const G=F.toFiniteNumber(A.headers.get("content-length")),[ce,ve]=_&&jI(G,gp(CI(_),!0))||[];A=new n(PI(A.body,TI,ce,()=>{ve&&ve(),M&&M()}),z)}N=N||"text";let U=await h[F.findKey(h,N)||"text"](A,m);return!K&&M&&M(),await new Promise((z,G)=>{XH(z,G,{data:U,headers:fn.from(A.headers),status:A.status,statusText:A.statusText,config:m,request:I})})}catch(H){throw M&&M(),H&&H.name==="TypeError"&&/Load failed|fetch/i.test(H.message)?Object.assign(new Me("Network Error",Me.ERR_NETWORK,m,I),{cause:H.cause||H}):Me.from(H,H&&H.code,m,I)}}},jre=new Map,eK=t=>{let e=t&&t.env||{};const{fetch:r,Request:n,Response:i}=e,s=[n,i,r];let a=s.length,o=a,u,c,d=jre;for(;o--;)u=s[o],c=d.get(u),c===void 0&&d.set(u,c=o?new Map:Nre(e)),d=c;return c};eK();const oO={http:Ute,xhr:bre,fetch:{get:eK}};F.forEach(oO,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const kI=t=>`- ${t}`,Cre=t=>F.isFunction(t)||t===null||t===!1;function Ore(t,e){t=F.isArray(t)?t:[t];const{length:r}=t;let n,i;const s={};for(let a=0;a<r;a++){n=t[a];let o;if(i=n,!Cre(n)&&(i=oO[(o=String(n)).toLowerCase()],i===void 0))throw new Me(`Unknown adapter '${o}'`);if(i&&(F.isFunction(i)||(i=i.get(e))))break;s[o||"#"+a]=i}if(!i){const a=Object.entries(s).map(([u,c])=>`adapter ${u} `+(c===!1?"is not supported by the environment":"is not available in the build"));let o=r?a.length>1?`since :
`+a.map(kI).join(`
`):" "+kI(a[0]):"as no adapter specified";throw new Me("There is no suitable adapter to dispatch the request "+o,"ERR_NOT_SUPPORT")}return i}const tK={getAdapter:Ore,adapters:oO};function Nv(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new Mu(null,t)}function DI(t){return Nv(t),t.headers=fn.from(t.headers),t.data=Ev.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),tK.getAdapter(t.adapter||Zd.adapter,t)(t).then(function(n){return Nv(t),n.data=Ev.call(t,t.transformResponse,n),n.headers=fn.from(n.headers),n},function(n){return QH(n)||(Nv(t),n&&n.response&&(n.response.data=Ev.call(t,t.transformResponse,n.response),n.response.headers=fn.from(n.response.headers))),Promise.reject(n)})}const rK="1.13.2",um={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{um[t]=function(n){return typeof n===t||"a"+(e<1?"n ":" ")+t}});const MI={};um.transitional=function(e,r,n){function i(s,a){return"[Axios v"+rK+"] Transitional option '"+s+"'"+a+(n?". "+n:"")}return(s,a,o)=>{if(e===!1)throw new Me(i(a," has been removed"+(r?" in "+r:"")),Me.ERR_DEPRECATED);return r&&!MI[a]&&(MI[a]=!0,console.warn(i(a," has been deprecated since v"+r+" and will be removed in the near future"))),e?e(s,a,o):!0}};um.spelling=function(e){return(r,n)=>(console.warn(`${n} is likely a misspelling of ${e}`),!0)};function Pre(t,e,r){if(typeof t!="object")throw new Me("options must be an object",Me.ERR_BAD_OPTION_VALUE);const n=Object.keys(t);let i=n.length;for(;i-- >0;){const s=n[i],a=e[s];if(a){const o=t[s],u=o===void 0||a(o,s,t);if(u!==!0)throw new Me("option "+s+" must be "+u,Me.ERR_BAD_OPTION_VALUE);continue}if(r!==!0)throw new Me("Unknown option "+s,Me.ERR_BAD_OPTION)}}const Df={assertOptions:Pre,validators:um},_i=Df.validators;let fo=class{constructor(e){this.defaults=e||{},this.interceptors={request:new EI,response:new EI}}async request(e,r){try{return await this._request(e,r)}catch(n){if(n instanceof Error){let i={};Error.captureStackTrace?Error.captureStackTrace(i):i=new Error;const s=i.stack?i.stack.replace(/^.+\n/,""):"";try{n.stack?s&&!String(n.stack).endsWith(s.replace(/^.+\n.+\n/,""))&&(n.stack+=`
`+s):n.stack=s}catch{}}throw n}}_request(e,r){typeof e=="string"?(r=r||{},r.url=e):r=e||{},r=Oo(this.defaults,r);const{transitional:n,paramsSerializer:i,headers:s}=r;n!==void 0&&Df.assertOptions(n,{silentJSONParsing:_i.transitional(_i.boolean),forcedJSONParsing:_i.transitional(_i.boolean),clarifyTimeoutError:_i.transitional(_i.boolean)},!1),i!=null&&(F.isFunction(i)?r.paramsSerializer={serialize:i}:Df.assertOptions(i,{encode:_i.function,serialize:_i.function},!0)),r.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?r.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:r.allowAbsoluteUrls=!0),Df.assertOptions(r,{baseUrl:_i.spelling("baseURL"),withXsrfToken:_i.spelling("withXSRFToken")},!0),r.method=(r.method||this.defaults.method||"get").toLowerCase();let a=s&&F.merge(s.common,s[r.method]);s&&F.forEach(["delete","get","head","post","put","patch","common"],m=>{delete s[m]}),r.headers=fn.concat(a,s);const o=[];let u=!0;this.interceptors.request.forEach(function(y){typeof y.runWhen=="function"&&y.runWhen(r)===!1||(u=u&&y.synchronous,o.unshift(y.fulfilled,y.rejected))});const c=[];this.interceptors.response.forEach(function(y){c.push(y.fulfilled,y.rejected)});let d,h=0,f;if(!u){const m=[DI.bind(this),void 0];for(m.unshift(...o),m.push(...c),f=m.length,d=Promise.resolve(r);h<f;)d=d.then(m[h++],m[h++]);return d}f=o.length;let p=r;for(;h<f;){const m=o[h++],y=o[h++];try{p=m(p)}catch(x){y.call(this,x);break}}try{d=DI.call(this,p)}catch(m){return Promise.reject(m)}for(h=0,f=c.length;h<f;)d=d.then(c[h++],c[h++]);return d}getUri(e){e=Oo(this.defaults,e);const r=JH(e.baseURL,e.url,e.allowAbsoluteUrls);return KH(r,e.params,e.paramsSerializer)}};F.forEach(["delete","get","head","options"],function(e){fo.prototype[e]=function(r,n){return this.request(Oo(n||{},{method:e,url:r,data:(n||{}).data}))}});F.forEach(["post","put","patch"],function(e){function r(n){return function(s,a,o){return this.request(Oo(o||{},{method:e,headers:n?{"Content-Type":"multipart/form-data"}:{},url:s,data:a}))}}fo.prototype[e]=r(),fo.prototype[e+"Form"]=r(!0)});let Tre=class nK{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let r;this.promise=new Promise(function(s){r=s});const n=this;this.promise.then(i=>{if(!n._listeners)return;let s=n._listeners.length;for(;s-- >0;)n._listeners[s](i);n._listeners=null}),this.promise.then=i=>{let s;const a=new Promise(o=>{n.subscribe(o),s=o}).then(i);return a.cancel=function(){n.unsubscribe(s)},a},e(function(s,a,o){n.reason||(n.reason=new Mu(s,a,o),r(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const r=this._listeners.indexOf(e);r!==-1&&this._listeners.splice(r,1)}toAbortSignal(){const e=new AbortController,r=n=>{e.abort(n)};return this.subscribe(r),e.signal.unsubscribe=()=>this.unsubscribe(r),e.signal}static source(){let e;return{token:new nK(function(i){e=i}),cancel:e}}};function Ire(t){return function(r){return t.apply(null,r)}}function Rre(t){return F.isObject(t)&&t.isAxiosError===!0}const Nj={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(Nj).forEach(([t,e])=>{Nj[e]=t});function iK(t){const e=new fo(t),r=DH(fo.prototype.request,e);return F.extend(r,fo.prototype,e,{allOwnKeys:!0}),F.extend(r,e,null,{allOwnKeys:!0}),r.create=function(i){return iK(Oo(t,i))},r}const Gt=iK(Zd);Gt.Axios=fo;Gt.CanceledError=Mu;Gt.CancelToken=Tre;Gt.isCancel=QH;Gt.VERSION=rK;Gt.toFormData=lm;Gt.AxiosError=Me;Gt.Cancel=Gt.CanceledError;Gt.all=function(e){return Promise.all(e)};Gt.spread=Ire;Gt.isAxiosError=Rre;Gt.mergeConfig=Oo;Gt.AxiosHeaders=fn;Gt.formToJSON=t=>YH(F.isHTMLForm(t)?new FormData(t):t);Gt.getAdapter=tK.getAdapter;Gt.HttpStatusCode=Nj;Gt.default=Gt;const{Axios:Cxe,AxiosError:Oxe,CanceledError:Pxe,isCancel:Txe,CancelToken:Ixe,VERSION:Rxe,all:$xe,Cancel:kxe,isAxiosError:Dxe,spread:Mxe,toFormData:qxe,AxiosHeaders:Axe,HttpStatusCode:Fxe,formToJSON:Lxe,getAdapter:Bxe,mergeConfig:zxe}=Gt,jj=window.prmConfig||{},de=Gt.create({baseURL:jj.apiUrl||"/wp-json",headers:{"Content-Type":"application/json","X-WP-Nonce":jj.nonce||""}});de.interceptors.request.use(t=>{var e;return(e=window.prmConfig)!=null&&e.nonce&&(t.headers["X-WP-Nonce"]=window.prmConfig.nonce),t});de.interceptors.response.use(t=>t,t=>{var e,r;return((e=t.response)==null?void 0:e.status)===401&&(window.location.href=jj.loginUrl||"/wp-login.php"),((r=t.response)==null?void 0:r.status)===403&&console.error("Access denied:",t.response.data),Promise.reject(t)});const Ae={getPeople:t=>de.get("/wp/v2/people",{params:t}),getPerson:(t,e={})=>de.get(`/wp/v2/people/${t}`,{params:e}),createPerson:t=>de.post("/wp/v2/people",t),updatePerson:(t,e)=>de.put(`/wp/v2/people/${t}`,e),deletePerson:(t,e={})=>de.delete(`/wp/v2/people/${t}`,{params:e}),getCompanies:t=>de.get("/wp/v2/companies",{params:t}),getCompany:(t,e={})=>de.get(`/wp/v2/companies/${t}`,{params:e}),createCompany:t=>de.post("/wp/v2/companies",t),updateCompany:(t,e)=>de.put(`/wp/v2/companies/${t}`,e),deleteCompany:(t,e={})=>de.delete(`/wp/v2/companies/${t}`,{params:e}),getDates:t=>de.get("/wp/v2/important-dates",{params:t}),getDate:t=>de.get(`/wp/v2/important-dates/${t}`),createDate:t=>de.post("/wp/v2/important-dates",t),updateDate:(t,e)=>de.put(`/wp/v2/important-dates/${t}`,e),deleteDate:t=>de.delete(`/wp/v2/important-dates/${t}`),getPersonLabels:()=>de.get("/wp/v2/person_label"),getCompanyLabels:()=>de.get("/wp/v2/company_label"),getRelationshipTypes:()=>de.get("/wp/v2/relationship_type",{params:{per_page:100,_fields:"id,name,slug,acf"}}),createRelationshipType:t=>de.post("/wp/v2/relationship_type",t),updateRelationshipType:(t,e)=>de.post(`/wp/v2/relationship_type/${t}`,e),deleteRelationshipType:t=>de.delete(`/wp/v2/relationship_type/${t}?force=true`),restoreRelationshipTypeDefaults:()=>de.post("/prm/v1/relationship-types/restore-defaults"),getDateTypes:()=>de.get("/wp/v2/date_type",{params:{per_page:100}}),uploadMedia:t=>{const e=new FormData;return e.append("file",t),de.post("/wp/v2/media",e,{headers:{"Content-Type":"multipart/form-data"}})}},qe={getDashboard:()=>de.get("/prm/v1/dashboard"),sideloadGravatar:(t,e)=>de.post(`/prm/v1/people/${t}/gravatar`,{email:e}),getCurrentUser:()=>de.get("/prm/v1/user/me"),getUsers:()=>de.get("/prm/v1/users"),approveUser:t=>de.post(`/prm/v1/users/${t}/approve`),denyUser:t=>de.post(`/prm/v1/users/${t}/deny`),deleteUser:t=>de.delete(`/prm/v1/users/${t}`),search:t=>de.get("/prm/v1/search",{params:{q:t}}),getReminders:(t=30)=>de.get("/prm/v1/reminders",{params:{days_ahead:t}}),triggerReminders:()=>de.post("/prm/v1/reminders/trigger"),rescheduleCronJobs:()=>de.post("/prm/v1/reminders/reschedule-cron"),getNotificationChannels:()=>de.get("/prm/v1/user/notification-channels"),updateNotificationChannels:t=>de.post("/prm/v1/user/notification-channels",{channels:t}),updateSlackWebhook:t=>de.post("/prm/v1/user/slack-webhook",{webhook:t}),updateNotificationTime:t=>de.post("/prm/v1/user/notification-time",{time:t}),getSlackStatus:()=>de.get("/prm/v1/user/slack-status"),disconnectSlack:()=>de.post("/prm/v1/slack/disconnect"),getSlackChannels:()=>de.get("/prm/v1/slack/channels"),getSlackTargets:()=>de.get("/prm/v1/slack/targets"),updateSlackTargets:t=>de.post("/prm/v1/slack/targets",{targets:t}),getPersonDates:t=>de.get(`/prm/v1/people/${t}/dates`),getPersonTimeline:t=>de.get(`/prm/v1/people/${t}/timeline`),getPersonNotes:t=>de.get(`/prm/v1/people/${t}/notes`),createNote:(t,e)=>de.post(`/prm/v1/people/${t}/notes`,{content:e}),updateNote:(t,e)=>de.put(`/prm/v1/notes/${t}`,{content:e}),deleteNote:t=>de.delete(`/prm/v1/notes/${t}`),getPersonActivities:t=>de.get(`/prm/v1/people/${t}/activities`),createActivity:(t,e)=>de.post(`/prm/v1/people/${t}/activities`,e),updateActivity:(t,e)=>de.put(`/prm/v1/activities/${t}`,e),deleteActivity:t=>de.delete(`/prm/v1/activities/${t}`),getAllTodos:(t=!1)=>de.get("/prm/v1/todos",{params:{completed:t}}),getPersonTodos:t=>de.get(`/prm/v1/people/${t}/todos`),createTodo:(t,e)=>de.post(`/prm/v1/people/${t}/todos`,e),updateTodo:(t,e)=>de.put(`/prm/v1/todos/${t}`,e),deleteTodo:t=>de.delete(`/prm/v1/todos/${t}`),getCompanyPeople:t=>de.get(`/prm/v1/companies/${t}/people`),setCompanyLogo:(t,e)=>de.post(`/prm/v1/companies/${t}/logo`,{media_id:e}),uploadPersonPhoto:(t,e)=>{const r=new FormData;return r.append("file",e),de.post(`/prm/v1/people/${t}/photo`,r,{headers:{"Content-Type":"multipart/form-data"}})},uploadCompanyLogo:(t,e)=>{const r=new FormData;return r.append("file",e),de.post(`/prm/v1/companies/${t}/logo/upload`,r,{headers:{"Content-Type":"multipart/form-data"}})}};/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var $re={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kre=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),xe=(t,e)=>{const r=T.forwardRef(({color:n="currentColor",size:i=24,strokeWidth:s=2,absoluteStrokeWidth:a,className:o="",children:u,...c},d)=>T.createElement("svg",{ref:d,...$re,width:i,height:i,stroke:n,strokeWidth:a?Number(s)*24/Number(i):s,className:["lucide",`lucide-${kre(t)}`,o].join(" "),...c},[...e.map(([h,f])=>T.createElement(h,f)),...Array.isArray(u)?u:[u]]));return r.displayName=`${t}`,r};/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gs=xe("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dre=xe("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mre=xe("ArrowDown",[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cn=xe("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jv=xe("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qre=xe("ArrowUp",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sr=xe("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sK=xe("Cake",[["path",{d:"M20 21v-8a2 2 0 0 0-2-2H6a2 2 0 0 0-2 2v8",key:"1w3rig"}],["path",{d:"M4 16s.5-1 2-1 2.5 2 4 2 2.5-2 4-2 2.5 2 4 2 2-1 2-1",key:"n2jgmb"}],["path",{d:"M2 21h20",key:"1nyx9w"}],["path",{d:"M7 8v3",key:"1qtyvj"}],["path",{d:"M12 8v3",key:"hwp4zt"}],["path",{d:"M17 8v3",key:"1i6e5u"}],["path",{d:"M7 4h0.01",key:"hsw7lv"}],["path",{d:"M12 4h0.01",key:"1e3d8f"}],["path",{d:"M17 4h0.01",key:"p7cxgy"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const da=xe("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mf=xe("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qI=xe("CheckCircle2",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gu=xe("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cj=xe("CheckSquare2",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ns=xe("CheckSquare",[["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}],["path",{d:"M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11",key:"1jnkn4"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AI=xe("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yp=xe("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oj=xe("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aK=xe("Coffee",[["path",{d:"M17 8h1a4 4 0 1 1 0 8h-1",key:"jx4kbh"}],["path",{d:"M3 8h14v9a4 4 0 0 1-4 4H7a4 4 0 0 1-4-4Z",key:"1bxrl0"}],["line",{x1:"6",x2:"6",y1:"2",y2:"4",key:"1cr9l3"}],["line",{x1:"10",x2:"10",y1:"2",y2:"4",key:"170wym"}],["line",{x1:"14",x2:"14",y1:"2",y2:"4",key:"1c5f70"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Are=xe("Command",[["path",{d:"M15 6v12a3 3 0 1 0 3-3H6a3 3 0 1 0 3 3V6a3 3 0 1 0-3 3h12a3 3 0 1 0-3-3",key:"11bfej"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fre=xe("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pj=xe("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eh=xe("FileCode",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["path",{d:"m10 13-2 2 2 2",key:"17smn8"}],["path",{d:"m14 17 2-2-2-2",key:"14mezr"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lO=xe("FileSpreadsheet",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["path",{d:"M8 13h2",key:"yr2amv"}],["path",{d:"M8 17h2",key:"2yhykz"}],["path",{d:"M14 13h2",key:"un5t4a"}],["path",{d:"M14 17h2",key:"10kma7"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uO=xe("FileText",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["line",{x1:"16",x2:"8",y1:"13",y2:"13",key:"14keom"}],["line",{x1:"16",x2:"8",y1:"17",y2:"17",key:"17nazh"}],["line",{x1:"10",x2:"8",y1:"9",y2:"9",key:"1a5vjj"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tj=xe("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lre=xe("Gift",[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FI=xe("GitBranch",[["line",{x1:"6",x2:"6",y1:"3",y2:"15",key:"17qcm7"}],["circle",{cx:"18",cy:"6",r:"3",key:"1h7g24"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["path",{d:"M18 9a9 9 0 0 1-9 9",key:"n2h4wq"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qf=xe("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bre=xe("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zre=xe("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oK=xe("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lK=xe("Link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Po=xe("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ure=xe("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cO=xe("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wre=xe("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vre=xe("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uK=xe("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hre=xe("Pen",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ua=xe("Pencil",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dO=xe("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vt=xe("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kre=xe("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cK=xe("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xa=xe("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const To=xe("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dK=xe("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hK=xe("ShieldAlert",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gre=xe("SkipForward",[["polygon",{points:"5 4 15 12 5 20 5 4",key:"16p6eg"}],["line",{x1:"19",x2:"19",y1:"5",y2:"19",key:"futhcm"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fK=xe("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pK=xe("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a2.121 2.121 0 1 1 3 3L12 15l-4 1 1-4Z",key:"1lpok0"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yu=xe("Square",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bu=xe("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mK=xe("StickyNote",[["path",{d:"M15.5 3H5a2 2 0 0 0-2 2v14c0 1.1.9 2 2 2h14a2 2 0 0 0 2-2V8.5L15.5 3Z",key:"1wis1t"}],["path",{d:"M15 3v6h6",key:"edgan2"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bn=xe("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vK=xe("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Io=xe("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yre=xe("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wa=xe("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Di=xe("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gK=xe("Utensils",[["path",{d:"M3 2v7c0 1.1.9 2 2 2h4a2 2 0 0 0 2-2V2",key:"cjf0a3"}],["path",{d:"M7 2v20",key:"1473qp"}],["path",{d:"M21 15V2v0a5 5 0 0 0-5 5v6c0 1.1.9 2 2 2h3Zm0 0v7",key:"1ogz0v"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LI=xe("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vr=xe("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qre=xe("ZoomIn",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"11",x2:"11",y1:"8",y2:"14",key:"1vmskp"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xre=xe("ZoomOut",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]]),xu="Caelis";function vn(t){T.useEffect(()=>{var e;if(t){const r=((e=window.prmConfig)==null?void 0:e.siteName)||xu;document.title=`${t} - ${r}`}},[t])}function Jre(t){const e=t.match(/\/(?:people|companies|dates)\/(\d+)/);return e?e[1]:null}function yK(t=null){const e=_s();T.useEffect(()=>{var i;let r=t;if(!r){const s=e.pathname,a=Jre(s);s==="/"?r="Dashboard":s==="/login"?r="Login":s.startsWith("/people")?s==="/people"||s==="/people/"?r="People":s==="/people/new"?r="New person":s.endsWith("/edit")?r="Edit person":a?r="Person":r="People":s.startsWith("/companies")?s==="/companies"||s==="/companies/"?r="Organizations":s==="/companies/new"?r="New organization":s.endsWith("/edit")?r="Edit organization":a?r="Organization":r="Organizations":s.startsWith("/dates")?s==="/dates"||s==="/dates/"?r="Events":s==="/dates/new"?r="New date":s.endsWith("/edit")?r="Edit date":r="Events":s.startsWith("/settings")?r="Settings":r=xu}const n=((i=window.prmConfig)==null?void 0:i.siteName)||xu;document.title=`${r} - ${n}`},[e.pathname,t])}function Zre(){return rt({queryKey:["dashboard"],queryFn:async()=>(await qe.getDashboard()).data})}function ene(t=30){return rt({queryKey:["reminders",t],queryFn:async()=>(await qe.getReminders(t)).data})}function bK(t=!1){return rt({queryKey:["todos",t],queryFn:async()=>(await qe.getAllTodos(t)).data})}function xK(){const t=ut();return Ze({mutationFn:({todoId:e,data:r})=>qe.updateTodo(e,r),onSuccess:()=>{t.invalidateQueries({queryKey:["todos"]}),t.invalidateQueries({queryKey:["dashboard"]})}})}function tne(){const t=ut();return Ze({mutationFn:e=>qe.deleteTodo(e),onSuccess:()=>{t.invalidateQueries({queryKey:["todos"]}),t.invalidateQueries({queryKey:["dashboard"]})}})}function rne(t){const e=typeof t=="string"?t:"",r=e.length>=2;return rt({queryKey:["search",e],queryFn:async()=>r?(await qe.search(e)).data:{people:[],companies:[]},enabled:r})}function ln(t){if(!t)return"";const e=document.createElement("textarea");return e.innerHTML=t,e.value}function qt(t){var r;if(!t)return"";const e=((r=t.title)==null?void 0:r.rendered)||t.title||t.name||"";return ln(e)}function po(t){var r,n;if(!t)return"";if(t.name&&typeof t.name=="string"&&!((r=t.title)!=null&&r.rendered))return ln(t.name);const e=((n=t.title)==null?void 0:n.rendered)||t.title||t.name||"";return ln(e)}function Ya(t,e={}){const r=["gender"],n=["contact_info","work_history","relationships","photo_gallery"],i={...t};return r.forEach(s=>{i[s]===""&&(i[s]=null)}),n.forEach(s=>{Array.isArray(i[s])||(i[s]=[])}),Object.assign(i,e),i}const _t={all:["people"],lists:()=>[..._t.all,"list"],list:t=>[..._t.lists(),t],details:()=>[..._t.all,"detail"],detail:t=>[..._t.details(),t],timeline:t=>[..._t.detail(t),"timeline"],dates:t=>[..._t.detail(t),"dates"]};function wK(t){var i,s,a,o,u,c,d,h,f,p,m,y,x,g,v,w,b;const e=((a=(s=(i=t._embedded)==null?void 0:i["wp:featuredmedia"])==null?void 0:s[0])==null?void 0:a.source_url)||((f=(h=(d=(c=(u=(o=t._embedded)==null?void 0:o["wp:featuredmedia"])==null?void 0:u[0])==null?void 0:c.media_details)==null?void 0:d.sizes)==null?void 0:h.thumbnail)==null?void 0:f.source_url)||null,r=((x=(y=(m=(p=t._embedded)==null?void 0:p["wp:term"])==null?void 0:m.flat())==null?void 0:y.filter(_=>(_==null?void 0:_.taxonomy)==="person_label"))==null?void 0:x.map(_=>_.name))||[],n=ln(((g=t.title)==null?void 0:g.rendered)||"");return{...t,id:t.id,name:n,first_name:((v=t.acf)==null?void 0:v.first_name)||"",last_name:((w=t.acf)==null?void 0:w.last_name)||"",is_favorite:((b=t.acf)==null?void 0:b.is_favorite)||!1,thumbnail:e,labels:r}}function Wo(t={}){return rt({queryKey:_t.list(t),queryFn:async()=>{const e=[];let r=1;const n=100;for(;;){const i=await Ae.getPeople({per_page:n,page:r,_embed:!0,...t}),s=i.data.map(wK);if(e.push(...s),s.length<n)break;const a=parseInt(i.headers["x-wp-totalpages"]||i.headers["X-WP-TotalPages"]||"0",10);if(a>0&&r>=a)break;r++}return e}})}function qu(t){return rt({queryKey:_t.detail(t),queryFn:async()=>{const e=await Ae.getPerson(t,{_embed:!0});return wK(e.data)},enabled:!!t})}function nne(t){return rt({queryKey:_t.timeline(t),queryFn:async()=>(await qe.getPersonTimeline(t)).data,enabled:!!t})}function ine(t){return rt({queryKey:_t.dates(t),queryFn:async()=>(await qe.getPersonDates(t)).data,enabled:!!t})}function sne(){const t=ut();return Ze({mutationFn:e=>Ae.createPerson(e),onSuccess:()=>{t.invalidateQueries({queryKey:_t.lists()})}})}function th(){const t=ut();return Ze({mutationFn:({id:e,data:r})=>Ae.updatePerson(e,r),onSuccess:(e,{id:r,data:n})=>{var i;t.invalidateQueries({queryKey:_t.detail(r)}),t.invalidateQueries({queryKey:_t.lists()}),(i=n==null?void 0:n.acf)!=null&&i.relationships&&(Array.isArray(n.acf.relationships)?n.acf.relationships:[]).forEach(a=>{const o=a.related_person;o&&t.invalidateQueries({queryKey:_t.detail(o)})})}})}function ane(){const t=ut();return Ze({mutationFn:e=>Ae.deletePerson(e,{force:!0}),onSuccess:()=>{t.invalidateQueries({queryKey:_t.lists()}),t.invalidateQueries({queryKey:_t.details()})}})}function one(){const t=ut();return Ze({mutationFn:({personId:e,content:r})=>qe.createNote(e,r),onSuccess:(e,{personId:r})=>{t.invalidateQueries({queryKey:_t.timeline(r)})}})}function lne(){const t=ut();return Ze({mutationFn:({noteId:e,personId:r})=>qe.deleteNote(e),onSuccess:(e,{personId:r})=>{t.invalidateQueries({queryKey:_t.timeline(r)})}})}function une(){const t=ut();return Ze({mutationFn:({personId:e,data:r})=>qe.createActivity(e,r),onSuccess:(e,{personId:r})=>{t.invalidateQueries({queryKey:_t.timeline(r)})}})}function cne(){const t=ut();return Ze({mutationFn:({activityId:e,personId:r})=>qe.deleteActivity(e),onSuccess:(e,{personId:r})=>{r&&t.invalidateQueries({queryKey:_t.timeline(r)})}})}function _K(){const t=ut();return Ze({mutationFn:({personId:e,data:r})=>qe.createTodo(e,r),onSuccess:(e,{personId:r})=>{t.invalidateQueries({queryKey:_t.timeline(r)})}})}function dne(){const t=ut();return Ze({mutationFn:({todoId:e,data:r,personId:n})=>qe.updateTodo(e,r),onSuccess:(e,{personId:r})=>{r&&t.invalidateQueries({queryKey:_t.timeline(r)})}})}function hne(){const t=ut();return Ze({mutationFn:({todoId:e,personId:r})=>qe.deleteTodo(e),onSuccess:(e,{personId:r})=>{r&&t.invalidateQueries({queryKey:_t.timeline(r)})}})}function fne(){const t=ut();return Ze({mutationFn:({dateId:e,personId:r})=>Ae.deleteDate(e),onSuccess:(e,{personId:r})=>{r&&(t.invalidateQueries({queryKey:_t.dates(r)}),t.invalidateQueries({queryKey:_t.detail(r)})),t.invalidateQueries({queryKey:["reminders"]})}})}function SK({isOpen:t,onClose:e}){const[r,n]=T.useState(""),[i,s]=T.useState(""),[a,o]=T.useState(""),[u,c]=T.useState(!1),[d,h]=T.useState(""),{data:f=[],isLoading:p}=Wo(),m=_K(),y=ut(),x=T.useMemo(()=>{const E=d.toLowerCase().trim();let N=f;return E&&(N=f.filter(S=>{var j,C,P;return((j=S.name)==null?void 0:j.toLowerCase().includes(E))||((C=S.first_name)==null?void 0:C.toLowerCase().includes(E))||((P=S.last_name)==null?void 0:P.toLowerCase().includes(E))})),[...N].sort((S,j)=>(S.name||"").localeCompare(j.name||""))},[f,d]),g=T.useMemo(()=>f.find(E=>E.id===parseInt(a)),[f,a]),v=()=>new Date().toISOString().split("T")[0];if(T.useEffect(()=>{t&&(n(""),s(v()),o(""),h(""),c(!1))},[t]),!t)return null;const w=async E=>{if(E.preventDefault(),!(!r.trim()||!a))try{await m.mutateAsync({personId:parseInt(a),data:{content:r.trim(),due_date:i||null,is_completed:!1}}),y.invalidateQueries({queryKey:["todos"]}),e()}catch(N){console.error("Failed to create todo:",N)}},b=()=>{e()},_=E=>{if(!E)return"";try{return new Date(E).toISOString().split("T")[0]}catch{return""}};return l.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50",children:l.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-md mx-4",children:[l.jsxs("div",{className:"flex items-center justify-between p-4 border-b",children:[l.jsx("h2",{className:"text-lg font-semibold",children:"Add todo"}),l.jsx("button",{onClick:b,className:"text-gray-400 hover:text-gray-600",disabled:m.isPending,children:l.jsx(Vr,{className:"w-5 h-5"})})]}),l.jsxs("form",{onSubmit:w,className:"p-4",children:[l.jsxs("div",{className:"mb-4",children:[l.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Person ",l.jsx("span",{className:"text-red-500",children:"*"})]}),l.jsxs("div",{className:"relative",children:[l.jsxs("button",{type:"button",onClick:()=>c(!u),className:"w-full flex items-center justify-between px-3 py-2 border border-gray-300 rounded-md bg-white text-left focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent",disabled:m.isPending,children:[g?l.jsxs("div",{className:"flex items-center gap-2",children:[g.thumbnail?l.jsx("img",{src:g.thumbnail,alt:g.name,className:"w-6 h-6 rounded-full object-cover"}):l.jsx("div",{className:"w-6 h-6 bg-gray-200 rounded-full flex items-center justify-center",children:l.jsx(wa,{className:"w-4 h-4 text-gray-500"})}),l.jsx("span",{className:"text-gray-900",children:g.name})]}):l.jsx("span",{className:"text-gray-400",children:"Select a person..."}),l.jsx(yp,{className:`w-4 h-4 text-gray-400 transition-transform ${u?"rotate-180":""}`})]}),u&&l.jsxs("div",{className:"absolute z-10 w-full mt-1 bg-white border border-gray-200 rounded-lg shadow-lg max-h-60 overflow-hidden",children:[l.jsx("div",{className:"p-2 border-b border-gray-100",children:l.jsxs("div",{className:"relative",children:[l.jsx(To,{className:"absolute left-2 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}),l.jsx("input",{type:"text",value:d,onChange:E=>h(E.target.value),placeholder:"Search people...",className:"w-full pl-8 pr-3 py-1.5 text-sm border border-gray-200 rounded focus:outline-none focus:ring-1 focus:ring-primary-500",autoFocus:!0})]})}),l.jsx("div",{className:"overflow-y-auto max-h-48",children:p?l.jsx("div",{className:"p-3 text-center text-gray-500 text-sm",children:"Loading..."}):x.length>0?x.map(E=>l.jsxs("button",{type:"button",onClick:()=>{o(String(E.id)),c(!1),h("")},className:`w-full flex items-center gap-2 px-3 py-2 text-left hover:bg-gray-50 transition-colors ${a===String(E.id)?"bg-primary-50":""}`,children:[E.thumbnail?l.jsx("img",{src:E.thumbnail,alt:E.name,className:"w-6 h-6 rounded-full object-cover"}):l.jsx("div",{className:"w-6 h-6 bg-gray-200 rounded-full flex items-center justify-center",children:l.jsx(wa,{className:"w-4 h-4 text-gray-500"})}),l.jsx("span",{className:"text-sm text-gray-900 truncate",children:E.name})]},E.id)):l.jsx("div",{className:"p-3 text-center text-gray-500 text-sm",children:"No people found"})})]})]})]}),l.jsxs("div",{className:"mb-4",children:[l.jsxs("label",{htmlFor:"todo-content",className:"block text-sm font-medium text-gray-700 mb-2",children:["Description ",l.jsx("span",{className:"text-red-500",children:"*"})]}),l.jsx("textarea",{id:"todo-content",value:r,onChange:E=>n(E.target.value),rows:4,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent",placeholder:"What needs to be done?",disabled:m.isPending})]}),l.jsxs("div",{className:"mb-4",children:[l.jsx("label",{htmlFor:"todo-due-date",className:"block text-sm font-medium text-gray-700 mb-2",children:"Due date (optional)"}),l.jsx("input",{id:"todo-due-date",type:"date",value:_(i),onChange:E=>s(E.target.value||""),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent",disabled:m.isPending})]}),l.jsxs("div",{className:"flex justify-end gap-2",children:[l.jsx("button",{type:"button",onClick:b,className:"btn-secondary",disabled:m.isPending,children:"Cancel"}),l.jsx("button",{type:"submit",className:"btn-primary",disabled:m.isPending||!r.trim()||!a,children:m.isPending?"Adding...":"Add todo"})]})]})]})})}const pne=[{name:"Dashboard",href:"/",icon:zre},{name:"People",href:"/people",icon:Di},{name:"Organizations",href:"/companies",icon:Sr},{name:"Dates",href:"/dates",icon:da},{name:"Todos",href:"/todos",icon:ns},{name:"Settings",href:"/settings",icon:dK}];function BI({mobile:t=!1,onClose:e}){const{logoutUrl:r}=nO();return l.jsxs("div",{className:"flex flex-col h-full bg-white border-r border-gray-200",children:[l.jsxs("div",{className:"flex items-center justify-between h-16 px-4 border-b border-gray-200",children:[l.jsxs(he,{to:"/",className:"flex items-center gap-2 text-xl font-bold text-primary-600",children:[l.jsx(fK,{className:"w-5 h-5"}),xu]}),t&&l.jsx("button",{onClick:e,className:"p-2 -mr-2",children:l.jsx(Vr,{className:"w-5 h-5"})})]}),l.jsx("nav",{className:"flex-1 px-2 py-4 space-y-1 overflow-y-auto",children:pne.map(n=>l.jsxs(Nee,{to:n.href,onClick:t?e:void 0,className:({isActive:i})=>`flex items-center px-3 py-2 text-sm font-medium rounded-lg transition-colors ${i?"bg-primary-50 text-primary-700":"text-gray-700 hover:bg-gray-50"}`,children:[l.jsx(n.icon,{className:"w-5 h-5 mr-3"}),n.name]},n.name))}),l.jsx("div",{className:"p-4 border-t border-gray-200",children:l.jsxs("a",{href:r,className:"flex items-center px-3 py-2 text-sm font-medium text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:[l.jsx(Ure,{className:"w-5 h-5 mr-3"}),"Log Out"]})})]})}function mne(){var a;const[t,e]=T.useState(!1),r=T.useRef(null),{data:n,isLoading:i}=rt({queryKey:["current-user"],queryFn:async()=>(await qe.getCurrentUser()).data});if(T.useEffect(()=>{const o=u=>{r.current&&!r.current.contains(u.target)&&e(!1)};if(t)return document.addEventListener("mousedown",o),()=>{document.removeEventListener("mousedown",o)}},[t]),i||!n)return l.jsx("div",{className:"flex items-center ml-auto",children:l.jsx("div",{className:"w-8 h-8 bg-gray-200 rounded-full animate-pulse"})});const s=((a=n.name)==null?void 0:a.split(" ").map(o=>o[0]).join("").toUpperCase().slice(0,2))||"?";return l.jsxs("div",{className:"relative ml-auto",ref:r,children:[l.jsxs("button",{onClick:()=>e(!t),className:"flex items-center gap-2 p-1 rounded-full hover:bg-gray-100 transition-colors","aria-label":"User menu",children:[n.avatar_url?l.jsx("img",{src:n.avatar_url,alt:n.name,className:"w-8 h-8 rounded-full object-cover"}):l.jsx("div",{className:"w-8 h-8 bg-primary-100 rounded-full flex items-center justify-center",children:l.jsx("span",{className:"text-sm font-medium text-primary-700",children:s})}),l.jsx(yp,{className:`w-4 h-4 text-gray-500 transition-transform ${t?"rotate-180":""}`})]}),t&&l.jsx("div",{className:"absolute right-0 mt-2 w-48 bg-white border border-gray-200 rounded-lg shadow-lg z-50",children:l.jsxs("div",{className:"py-1",children:[l.jsxs("a",{href:n.profile_url,target:"_blank",rel:"noopener noreferrer",className:"flex items-center px-4 py-2 text-sm text-gray-700 hover:bg-gray-50 transition-colors",onClick:()=>e(!1),children:[l.jsx(wa,{className:"w-4 h-4 mr-2"}),l.jsx("span",{className:"hidden md:inline",children:"Edit profile"})]}),n.is_admin&&l.jsxs("a",{href:n.admin_url,target:"_blank",rel:"noopener noreferrer",className:"flex items-center px-4 py-2 text-sm text-gray-700 hover:bg-gray-50 transition-colors",onClick:()=>e(!1),children:[l.jsx(dK,{className:"w-4 h-4 mr-2"}),l.jsx("span",{className:"hidden md:inline",children:"WordPress admin"})]})]})})]})}function vne({isOpen:t,onClose:e}){const[r,n]=T.useState(""),[i,s]=T.useState(0),a=Qr(),o=T.useRef(null),u=r.trim(),{data:c,isLoading:d}=rne(u),h=c||{people:[],companies:[]},f=[...(h.people||[]).map(g=>({...g,type:"person"})),...(h.companies||[]).map(g=>({...g,type:"company"}))],p=f.length>0,m=r.trim().length>=2;T.useEffect(()=>{t&&(n(""),s(0),setTimeout(()=>{var g;return(g=o.current)==null?void 0:g.focus()},50))},[t]),T.useEffect(()=>{s(0)},[c]);const y=g=>{if(g.key==="Escape"){e();return}if(!(!m||!p)){if(g.key==="ArrowDown")g.preventDefault(),s(v=>Math.min(v+1,f.length-1));else if(g.key==="ArrowUp")g.preventDefault(),s(v=>Math.max(v-1,0));else if(g.key==="Enter"){g.preventDefault();const v=f[i];v&&x(v.type,v.id)}}},x=(g,v)=>{e(),g==="person"?a(`/people/${v}`):g==="company"&&a(`/companies/${v}`)};return t?l.jsxs("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:[l.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm",onClick:e}),l.jsx("div",{className:"relative min-h-screen flex items-start justify-center pt-[15vh] px-4",children:l.jsxs("div",{className:"relative w-full max-w-xl bg-white rounded-xl shadow-2xl overflow-hidden",children:[l.jsxs("div",{className:"flex items-center px-4 border-b border-gray-200",children:[l.jsx(To,{className:"w-5 h-5 text-gray-400 flex-shrink-0"}),l.jsx("input",{ref:o,type:"text",value:r,onChange:g=>n(g.target.value),onKeyDown:y,placeholder:"Search people & organizations...",className:"flex-1 px-4 py-4 text-lg outline-none placeholder:text-gray-400",autoComplete:"off"}),l.jsxs("div",{className:"flex items-center gap-1 text-xs text-gray-400",children:[l.jsx("kbd",{className:"px-1.5 py-0.5 bg-gray-100 rounded text-gray-500 font-mono",children:"esc"}),l.jsx("span",{children:"to close"})]})]}),l.jsx("div",{className:"max-h-96 overflow-y-auto",children:m?d?l.jsxs("div",{className:"px-4 py-8 text-center",children:[l.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600 mx-auto"}),l.jsx("p",{className:"mt-3 text-sm text-gray-500",children:"Searching..."})]}):p?l.jsxs("div",{className:"py-2",children:[h.people&&h.people.length>0&&l.jsxs("div",{className:"px-2",children:[l.jsx("div",{className:"px-3 py-2 text-xs font-semibold text-gray-500 uppercase tracking-wide",children:"People"}),h.people.map((g,v)=>{const b=i===v;return l.jsxs("button",{onClick:()=>x("person",g.id),className:`w-full flex items-center gap-3 px-3 py-2.5 rounded-lg transition-colors text-left ${b?"bg-primary-50 text-primary-900":"hover:bg-gray-50"}`,children:[g.thumbnail?l.jsx("img",{src:g.thumbnail,alt:g.name,className:"w-8 h-8 rounded-full object-cover"}):l.jsx("div",{className:"w-8 h-8 bg-gray-200 rounded-full flex items-center justify-center",children:l.jsx(wa,{className:"w-4 h-4 text-gray-500"})}),l.jsx("span",{className:"text-sm font-medium flex-1 truncate",children:g.name}),b&&l.jsx("kbd",{className:"px-1.5 py-0.5 bg-gray-100 rounded text-xs text-gray-500 font-mono",children:""})]},g.id)})]}),h.companies&&h.companies.length>0&&l.jsxs("div",{className:"px-2 mt-2",children:[l.jsx("div",{className:"px-3 py-2 text-xs font-semibold text-gray-500 uppercase tracking-wide",children:"Organizations"}),h.companies.map((g,v)=>{var _;const w=(((_=h.people)==null?void 0:_.length)||0)+v,b=i===w;return l.jsxs("button",{onClick:()=>x("company",g.id),className:`w-full flex items-center gap-3 px-3 py-2.5 rounded-lg transition-colors text-left ${b?"bg-primary-50 text-primary-900":"hover:bg-gray-50"}`,children:[g.thumbnail?l.jsx("img",{src:g.thumbnail,alt:g.name,className:"w-8 h-8 rounded object-contain bg-white"}):l.jsx("div",{className:"w-8 h-8 bg-gray-200 rounded flex items-center justify-center",children:l.jsx(Sr,{className:"w-4 h-4 text-gray-500"})}),l.jsx("span",{className:"text-sm font-medium flex-1 truncate",children:g.name}),b&&l.jsx("kbd",{className:"px-1.5 py-0.5 bg-gray-100 rounded text-xs text-gray-500 font-mono",children:""})]},g.id)})]})]}):l.jsx("div",{className:"px-4 py-8 text-center text-gray-500",children:l.jsxs("p",{className:"text-sm",children:['No results found for "',r,'"']})}):l.jsxs("div",{className:"px-4 py-8 text-center text-gray-500",children:[l.jsx(To,{className:"w-12 h-12 mx-auto mb-3 text-gray-300"}),l.jsx("p",{className:"text-sm",children:"Type at least 2 characters to search"})]})}),l.jsx("div",{className:"px-4 py-3 bg-gray-50 border-t border-gray-200 flex items-center justify-between text-xs text-gray-500",children:l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsxs("span",{className:"flex items-center gap-1",children:[l.jsx("kbd",{className:"px-1.5 py-0.5 bg-white border border-gray-200 rounded font-mono",children:""}),l.jsx("kbd",{className:"px-1.5 py-0.5 bg-white border border-gray-200 rounded font-mono",children:""}),l.jsx("span",{children:"to navigate"})]}),l.jsxs("span",{className:"flex items-center gap-1",children:[l.jsx("kbd",{className:"px-1.5 py-0.5 bg-white border border-gray-200 rounded font-mono",children:""}),l.jsx("span",{children:"to select"})]})]})})]})})]}):null}function gne({onAddTodo:t}){const[e,r]=T.useState(!1),n=T.useRef(null),i=Qr();T.useEffect(()=>{const o=u=>{n.current&&!n.current.contains(u.target)&&r(!1)};if(e)return document.addEventListener("mousedown",o),()=>{document.removeEventListener("mousedown",o)}},[e]);const s=o=>{r(!1),i(o)},a=()=>{r(!1),t()};return l.jsxs("div",{className:"relative",ref:n,children:[l.jsx("button",{onClick:()=>r(!e),className:"flex items-center justify-center w-9 h-9 rounded-lg bg-primary-600 hover:bg-primary-700 text-white transition-colors","aria-label":"Quick add",title:"Quick add",children:l.jsx(Vt,{className:"w-5 h-5"})}),e&&l.jsx("div",{className:"absolute right-0 mt-2 w-48 bg-white border border-gray-200 rounded-lg shadow-lg z-50",children:l.jsxs("div",{className:"py-1",children:[l.jsxs("button",{onClick:()=>s("/people/new"),className:"w-full flex items-center px-4 py-2 text-sm text-gray-700 hover:bg-gray-50 transition-colors text-left",children:[l.jsx(wa,{className:"w-4 h-4 mr-3 text-gray-400"}),"New Person"]}),l.jsxs("button",{onClick:()=>s("/companies/new"),className:"w-full flex items-center px-4 py-2 text-sm text-gray-700 hover:bg-gray-50 transition-colors text-left",children:[l.jsx(Sr,{className:"w-4 h-4 mr-3 text-gray-400"}),"New Organization"]}),l.jsxs("button",{onClick:a,className:"w-full flex items-center px-4 py-2 text-sm text-gray-700 hover:bg-gray-50 transition-colors text-left",children:[l.jsx(ns,{className:"w-4 h-4 mr-3 text-gray-400"}),"New Todo"]}),l.jsxs("button",{onClick:()=>s("/dates/new"),className:"w-full flex items-center px-4 py-2 text-sm text-gray-700 hover:bg-gray-50 transition-colors text-left",children:[l.jsx(da,{className:"w-4 h-4 mr-3 text-gray-400"}),"New Date"]})]})})]})}function yne({onMenuClick:t,onAddTodo:e,onOpenSearch:r}){const n=_s(),i=()=>{const s=n.pathname;return s==="/"?"Dashboard":s.startsWith("/people")?"People":s.startsWith("/companies")?"Organizations":s.startsWith("/dates")?"Important Dates":s.startsWith("/todos")?"Todos":s.startsWith("/settings")?"Settings":""};return l.jsxs("header",{className:"sticky top-0 z-10 flex items-center h-16 px-4 bg-white border-b border-gray-200 lg:px-6",children:[l.jsx("button",{onClick:t,className:"p-2 -ml-2 lg:hidden",children:l.jsx(Vre,{className:"w-5 h-5"})}),l.jsx("h1",{className:"ml-2 text-lg font-semibold lg:ml-0",children:i()}),l.jsx("div",{className:"flex-1"}),l.jsxs("button",{onClick:r,className:"flex items-center gap-2 px-3 py-1.5 rounded-lg border border-gray-200 hover:bg-gray-50 text-gray-500 transition-colors","aria-label":"Search",title:"Search (K)",children:[l.jsx(To,{className:"w-4 h-4"}),l.jsx("span",{className:"hidden sm:inline text-sm",children:"Search..."}),l.jsxs("kbd",{className:"hidden sm:flex items-center gap-0.5 px-1.5 py-0.5 bg-gray-100 rounded text-xs text-gray-500 font-mono",children:[l.jsx(Are,{className:"w-3 h-3"}),"K"]})]}),l.jsx("div",{className:"ml-2",children:l.jsx(gne,{onAddTodo:e})}),l.jsx("div",{className:"ml-2",children:l.jsx(mne,{})})]})}function bne({children:t}){const[e,r]=T.useState(!1),[n,i]=T.useState(!1),[s,a]=T.useState(!1);return yK(),T.useEffect(()=>{const o=u=>{(u.metaKey||u.ctrlKey)&&u.key==="k"&&(u.preventDefault(),a(!0))};return document.addEventListener("keydown",o),()=>document.removeEventListener("keydown",o)},[]),l.jsxs("div",{className:"flex h-screen bg-gray-50",children:[l.jsx("div",{className:"hidden lg:flex lg:w-64 lg:flex-col",children:l.jsx(BI,{})}),e&&l.jsxs("div",{className:"fixed inset-0 z-40 lg:hidden",children:[l.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-75",onClick:()=>r(!1)}),l.jsx("div",{className:"fixed inset-y-0 left-0 flex flex-col w-64 bg-white",children:l.jsx(BI,{mobile:!0,onClose:()=>r(!1)})})]}),l.jsxs("div",{className:"flex flex-col flex-1 min-w-0",children:[l.jsx(yne,{onMenuClick:()=>r(!0),onAddTodo:()=>i(!0),onOpenSearch:()=>a(!0)}),l.jsx("main",{className:"flex-1 overflow-y-auto p-4 lg:p-6",children:t})]}),l.jsx(vne,{isOpen:s,onClose:()=>a(!1)}),l.jsx(SK,{isOpen:n,onClose:()=>i(!1)})]})}function et(t){const e=Object.prototype.toString.call(t);return t instanceof Date||typeof t=="object"&&e==="[object Date]"?new t.constructor(+t):typeof t=="number"||e==="[object Number]"||typeof t=="string"||e==="[object String]"?new Date(t):new Date(NaN)}function ys(t,e){return t instanceof Date?new t.constructor(e):new Date(e)}function xne(t,e){const r=et(t);return isNaN(e)?ys(t,NaN):(r.setDate(r.getDate()+e),r)}const EK=6048e5,wne=864e5,NK=6e4,jK=36e5,uf=43200,zI=1440;let _ne={};function rh(){return _ne}function Ro(t,e){var o,u,c,d;const r=rh(),n=(e==null?void 0:e.weekStartsOn)??((u=(o=e==null?void 0:e.locale)==null?void 0:o.options)==null?void 0:u.weekStartsOn)??r.weekStartsOn??((d=(c=r.locale)==null?void 0:c.options)==null?void 0:d.weekStartsOn)??0,i=et(t),s=i.getDay(),a=(s<n?7:0)+s-n;return i.setDate(i.getDate()-a),i.setHours(0,0,0,0),i}function bp(t){return Ro(t,{weekStartsOn:1})}function CK(t){const e=et(t),r=e.getFullYear(),n=ys(t,0);n.setFullYear(r+1,0,4),n.setHours(0,0,0,0);const i=bp(n),s=ys(t,0);s.setFullYear(r,0,4),s.setHours(0,0,0,0);const a=bp(s);return e.getTime()>=i.getTime()?r+1:e.getTime()>=a.getTime()?r:r-1}function xp(t){const e=et(t);return e.setHours(0,0,0,0),e}function wp(t){const e=et(t),r=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return r.setUTCFullYear(e.getFullYear()),+t-+r}function Sne(t,e){const r=xp(t),n=xp(e),i=+r-wp(r),s=+n-wp(n);return Math.round((i-s)/wne)}function Ene(t){const e=CK(t),r=ys(t,0);return r.setFullYear(e,0,4),r.setHours(0,0,0,0),bp(r)}function zl(t,e){const r=et(t),n=et(e),i=r.getTime()-n.getTime();return i<0?-1:i>0?1:i}function cm(t){return ys(t,Date.now())}function OK(t,e){const r=xp(t),n=xp(e);return+r==+n}function Nne(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function jne(t){if(!Nne(t)&&typeof t!="number")return!1;const e=et(t);return!isNaN(Number(e))}function Cne(t,e){const r=et(t),n=et(e),i=r.getFullYear()-n.getFullYear(),s=r.getMonth()-n.getMonth();return i*12+s}function One(t,e){const r=et(t),n=et(e);return r.getFullYear()-n.getFullYear()}function Pne(t){return e=>{const n=(t?Math[t]:Math.trunc)(e);return n===0?0:n}}function Tne(t,e){return+et(t)-+et(e)}function Ine(t){const e=et(t);return e.setHours(23,59,59,999),e}function Rne(t){const e=et(t),r=e.getMonth();return e.setFullYear(e.getFullYear(),r+1,0),e.setHours(23,59,59,999),e}function $ne(t){const e=et(t);return+Ine(e)==+Rne(e)}function kne(t,e){const r=et(t),n=et(e),i=zl(r,n),s=Math.abs(Cne(r,n));let a;if(s<1)a=0;else{r.getMonth()===1&&r.getDate()>27&&r.setDate(30),r.setMonth(r.getMonth()-i*s);let o=zl(r,n)===-i;$ne(et(t))&&s===1&&zl(t,n)===1&&(o=!1),a=i*(s-Number(o))}return a===0?0:a}function Dne(t,e,r){const n=Tne(t,e)/1e3;return Pne(r==null?void 0:r.roundingMethod)(n)}function Cv(t,e){const r=et(t),n=et(e),i=zl(r,n),s=Math.abs(One(r,n));r.setFullYear(1584),n.setFullYear(1584);const a=zl(r,n)===-i,o=i*(s-+a);return o===0?0:o}function Mne(t){const e=et(t),r=ys(t,0);return r.setFullYear(e.getFullYear(),0,1),r.setHours(0,0,0,0),r}const qne={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},Ane=(t,e,r)=>{let n;const i=qne[t];return typeof i=="string"?n=i:e===1?n=i.one:n=i.other.replace("{{count}}",e.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+n:n+" ago":n};function Ov(t){return(e={})=>{const r=e.width?String(e.width):t.defaultWidth;return t.formats[r]||t.formats[t.defaultWidth]}}const Fne={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},Lne={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},Bne={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},zne={date:Ov({formats:Fne,defaultWidth:"full"}),time:Ov({formats:Lne,defaultWidth:"full"}),dateTime:Ov({formats:Bne,defaultWidth:"full"})},Une={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},Wne=(t,e,r,n)=>Une[t];function Nc(t){return(e,r)=>{const n=r!=null&&r.context?String(r.context):"standalone";let i;if(n==="formatting"&&t.formattingValues){const a=t.defaultFormattingWidth||t.defaultWidth,o=r!=null&&r.width?String(r.width):a;i=t.formattingValues[o]||t.formattingValues[a]}else{const a=t.defaultWidth,o=r!=null&&r.width?String(r.width):t.defaultWidth;i=t.values[o]||t.values[a]}const s=t.argumentCallback?t.argumentCallback(e):e;return i[s]}}const Vne={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},Hne={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},Kne={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},Gne={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},Yne={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},Qne={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},Xne=(t,e)=>{const r=Number(t),n=r%100;if(n>20||n<10)switch(n%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},Jne={ordinalNumber:Xne,era:Nc({values:Vne,defaultWidth:"wide"}),quarter:Nc({values:Hne,defaultWidth:"wide",argumentCallback:t=>t-1}),month:Nc({values:Kne,defaultWidth:"wide"}),day:Nc({values:Gne,defaultWidth:"wide"}),dayPeriod:Nc({values:Yne,defaultWidth:"wide",formattingValues:Qne,defaultFormattingWidth:"wide"})};function jc(t){return(e,r={})=>{const n=r.width,i=n&&t.matchPatterns[n]||t.matchPatterns[t.defaultMatchWidth],s=e.match(i);if(!s)return null;const a=s[0],o=n&&t.parsePatterns[n]||t.parsePatterns[t.defaultParseWidth],u=Array.isArray(o)?eie(o,h=>h.test(a)):Zne(o,h=>h.test(a));let c;c=t.valueCallback?t.valueCallback(u):u,c=r.valueCallback?r.valueCallback(c):c;const d=e.slice(a.length);return{value:c,rest:d}}}function Zne(t,e){for(const r in t)if(Object.prototype.hasOwnProperty.call(t,r)&&e(t[r]))return r}function eie(t,e){for(let r=0;r<t.length;r++)if(e(t[r]))return r}function tie(t){return(e,r={})=>{const n=e.match(t.matchPattern);if(!n)return null;const i=n[0],s=e.match(t.parsePattern);if(!s)return null;let a=t.valueCallback?t.valueCallback(s[0]):s[0];a=r.valueCallback?r.valueCallback(a):a;const o=e.slice(i.length);return{value:a,rest:o}}}const rie=/^(\d+)(th|st|nd|rd)?/i,nie=/\d+/i,iie={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},sie={any:[/^b/i,/^(a|c)/i]},aie={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},oie={any:[/1/i,/2/i,/3/i,/4/i]},lie={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},uie={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},cie={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},die={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},hie={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},fie={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},pie={ordinalNumber:tie({matchPattern:rie,parsePattern:nie,valueCallback:t=>parseInt(t,10)}),era:jc({matchPatterns:iie,defaultMatchWidth:"wide",parsePatterns:sie,defaultParseWidth:"any"}),quarter:jc({matchPatterns:aie,defaultMatchWidth:"wide",parsePatterns:oie,defaultParseWidth:"any",valueCallback:t=>t+1}),month:jc({matchPatterns:lie,defaultMatchWidth:"wide",parsePatterns:uie,defaultParseWidth:"any"}),day:jc({matchPatterns:cie,defaultMatchWidth:"wide",parsePatterns:die,defaultParseWidth:"any"}),dayPeriod:jc({matchPatterns:hie,defaultMatchWidth:"any",parsePatterns:fie,defaultParseWidth:"any"})},PK={code:"en-US",formatDistance:Ane,formatLong:zne,formatRelative:Wne,localize:Jne,match:pie,options:{weekStartsOn:0,firstWeekContainsDate:1}};function mie(t){const e=et(t);return Sne(e,Mne(e))+1}function vie(t){const e=et(t),r=+bp(e)-+Ene(e);return Math.round(r/EK)+1}function TK(t,e){var d,h,f,p;const r=et(t),n=r.getFullYear(),i=rh(),s=(e==null?void 0:e.firstWeekContainsDate)??((h=(d=e==null?void 0:e.locale)==null?void 0:d.options)==null?void 0:h.firstWeekContainsDate)??i.firstWeekContainsDate??((p=(f=i.locale)==null?void 0:f.options)==null?void 0:p.firstWeekContainsDate)??1,a=ys(t,0);a.setFullYear(n+1,0,s),a.setHours(0,0,0,0);const o=Ro(a,e),u=ys(t,0);u.setFullYear(n,0,s),u.setHours(0,0,0,0);const c=Ro(u,e);return r.getTime()>=o.getTime()?n+1:r.getTime()>=c.getTime()?n:n-1}function gie(t,e){var o,u,c,d;const r=rh(),n=(e==null?void 0:e.firstWeekContainsDate)??((u=(o=e==null?void 0:e.locale)==null?void 0:o.options)==null?void 0:u.firstWeekContainsDate)??r.firstWeekContainsDate??((d=(c=r.locale)==null?void 0:c.options)==null?void 0:d.firstWeekContainsDate)??1,i=TK(t,e),s=ys(t,0);return s.setFullYear(i,0,n),s.setHours(0,0,0,0),Ro(s,e)}function yie(t,e){const r=et(t),n=+Ro(r,e)-+gie(r,e);return Math.round(n/EK)+1}function at(t,e){const r=t<0?"-":"",n=Math.abs(t).toString().padStart(e,"0");return r+n}const Is={y(t,e){const r=t.getFullYear(),n=r>0?r:1-r;return at(e==="yy"?n%100:n,e.length)},M(t,e){const r=t.getMonth();return e==="M"?String(r+1):at(r+1,2)},d(t,e){return at(t.getDate(),e.length)},a(t,e){const r=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h(t,e){return at(t.getHours()%12||12,e.length)},H(t,e){return at(t.getHours(),e.length)},m(t,e){return at(t.getMinutes(),e.length)},s(t,e){return at(t.getSeconds(),e.length)},S(t,e){const r=e.length,n=t.getMilliseconds(),i=Math.trunc(n*Math.pow(10,r-3));return at(i,e.length)}},hl={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},UI={G:function(t,e,r){const n=t.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return r.era(n,{width:"abbreviated"});case"GGGGG":return r.era(n,{width:"narrow"});case"GGGG":default:return r.era(n,{width:"wide"})}},y:function(t,e,r){if(e==="yo"){const n=t.getFullYear(),i=n>0?n:1-n;return r.ordinalNumber(i,{unit:"year"})}return Is.y(t,e)},Y:function(t,e,r,n){const i=TK(t,n),s=i>0?i:1-i;if(e==="YY"){const a=s%100;return at(a,2)}return e==="Yo"?r.ordinalNumber(s,{unit:"year"}):at(s,e.length)},R:function(t,e){const r=CK(t);return at(r,e.length)},u:function(t,e){const r=t.getFullYear();return at(r,e.length)},Q:function(t,e,r){const n=Math.ceil((t.getMonth()+1)/3);switch(e){case"Q":return String(n);case"QQ":return at(n,2);case"Qo":return r.ordinalNumber(n,{unit:"quarter"});case"QQQ":return r.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(n,{width:"wide",context:"formatting"})}},q:function(t,e,r){const n=Math.ceil((t.getMonth()+1)/3);switch(e){case"q":return String(n);case"qq":return at(n,2);case"qo":return r.ordinalNumber(n,{unit:"quarter"});case"qqq":return r.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(n,{width:"wide",context:"standalone"})}},M:function(t,e,r){const n=t.getMonth();switch(e){case"M":case"MM":return Is.M(t,e);case"Mo":return r.ordinalNumber(n+1,{unit:"month"});case"MMM":return r.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(n,{width:"wide",context:"formatting"})}},L:function(t,e,r){const n=t.getMonth();switch(e){case"L":return String(n+1);case"LL":return at(n+1,2);case"Lo":return r.ordinalNumber(n+1,{unit:"month"});case"LLL":return r.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(n,{width:"wide",context:"standalone"})}},w:function(t,e,r,n){const i=yie(t,n);return e==="wo"?r.ordinalNumber(i,{unit:"week"}):at(i,e.length)},I:function(t,e,r){const n=vie(t);return e==="Io"?r.ordinalNumber(n,{unit:"week"}):at(n,e.length)},d:function(t,e,r){return e==="do"?r.ordinalNumber(t.getDate(),{unit:"date"}):Is.d(t,e)},D:function(t,e,r){const n=mie(t);return e==="Do"?r.ordinalNumber(n,{unit:"dayOfYear"}):at(n,e.length)},E:function(t,e,r){const n=t.getDay();switch(e){case"E":case"EE":case"EEE":return r.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(n,{width:"short",context:"formatting"});case"EEEE":default:return r.day(n,{width:"wide",context:"formatting"})}},e:function(t,e,r,n){const i=t.getDay(),s=(i-n.weekStartsOn+8)%7||7;switch(e){case"e":return String(s);case"ee":return at(s,2);case"eo":return r.ordinalNumber(s,{unit:"day"});case"eee":return r.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(i,{width:"short",context:"formatting"});case"eeee":default:return r.day(i,{width:"wide",context:"formatting"})}},c:function(t,e,r,n){const i=t.getDay(),s=(i-n.weekStartsOn+8)%7||7;switch(e){case"c":return String(s);case"cc":return at(s,e.length);case"co":return r.ordinalNumber(s,{unit:"day"});case"ccc":return r.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(i,{width:"narrow",context:"standalone"});case"cccccc":return r.day(i,{width:"short",context:"standalone"});case"cccc":default:return r.day(i,{width:"wide",context:"standalone"})}},i:function(t,e,r){const n=t.getDay(),i=n===0?7:n;switch(e){case"i":return String(i);case"ii":return at(i,e.length);case"io":return r.ordinalNumber(i,{unit:"day"});case"iii":return r.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(n,{width:"short",context:"formatting"});case"iiii":default:return r.day(n,{width:"wide",context:"formatting"})}},a:function(t,e,r){const i=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(t,e,r){const n=t.getHours();let i;switch(n===12?i=hl.noon:n===0?i=hl.midnight:i=n/12>=1?"pm":"am",e){case"b":case"bb":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(t,e,r){const n=t.getHours();let i;switch(n>=17?i=hl.evening:n>=12?i=hl.afternoon:n>=4?i=hl.morning:i=hl.night,e){case"B":case"BB":case"BBB":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(t,e,r){if(e==="ho"){let n=t.getHours()%12;return n===0&&(n=12),r.ordinalNumber(n,{unit:"hour"})}return Is.h(t,e)},H:function(t,e,r){return e==="Ho"?r.ordinalNumber(t.getHours(),{unit:"hour"}):Is.H(t,e)},K:function(t,e,r){const n=t.getHours()%12;return e==="Ko"?r.ordinalNumber(n,{unit:"hour"}):at(n,e.length)},k:function(t,e,r){let n=t.getHours();return n===0&&(n=24),e==="ko"?r.ordinalNumber(n,{unit:"hour"}):at(n,e.length)},m:function(t,e,r){return e==="mo"?r.ordinalNumber(t.getMinutes(),{unit:"minute"}):Is.m(t,e)},s:function(t,e,r){return e==="so"?r.ordinalNumber(t.getSeconds(),{unit:"second"}):Is.s(t,e)},S:function(t,e){return Is.S(t,e)},X:function(t,e,r){const n=t.getTimezoneOffset();if(n===0)return"Z";switch(e){case"X":return VI(n);case"XXXX":case"XX":return za(n);case"XXXXX":case"XXX":default:return za(n,":")}},x:function(t,e,r){const n=t.getTimezoneOffset();switch(e){case"x":return VI(n);case"xxxx":case"xx":return za(n);case"xxxxx":case"xxx":default:return za(n,":")}},O:function(t,e,r){const n=t.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+WI(n,":");case"OOOO":default:return"GMT"+za(n,":")}},z:function(t,e,r){const n=t.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+WI(n,":");case"zzzz":default:return"GMT"+za(n,":")}},t:function(t,e,r){const n=Math.trunc(t.getTime()/1e3);return at(n,e.length)},T:function(t,e,r){const n=t.getTime();return at(n,e.length)}};function WI(t,e=""){const r=t>0?"-":"+",n=Math.abs(t),i=Math.trunc(n/60),s=n%60;return s===0?r+String(i):r+String(i)+e+at(s,2)}function VI(t,e){return t%60===0?(t>0?"-":"+")+at(Math.abs(t)/60,2):za(t,e)}function za(t,e=""){const r=t>0?"-":"+",n=Math.abs(t),i=at(Math.trunc(n/60),2),s=at(n%60,2);return r+i+e+s}const HI=(t,e)=>{switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},IK=(t,e)=>{switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},bie=(t,e)=>{const r=t.match(/(P+)(p+)?/)||[],n=r[1],i=r[2];if(!i)return HI(t,e);let s;switch(n){case"P":s=e.dateTime({width:"short"});break;case"PP":s=e.dateTime({width:"medium"});break;case"PPP":s=e.dateTime({width:"long"});break;case"PPPP":default:s=e.dateTime({width:"full"});break}return s.replace("{{date}}",HI(n,e)).replace("{{time}}",IK(i,e))},xie={p:IK,P:bie},wie=/^D+$/,_ie=/^Y+$/,Sie=["D","DD","YY","YYYY"];function Eie(t){return wie.test(t)}function Nie(t){return _ie.test(t)}function jie(t,e,r){const n=Cie(t,e,r);if(console.warn(n),Sie.includes(t))throw new RangeError(n)}function Cie(t,e,r){const n=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${e}\`) for formatting ${n} to the input \`${r}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const Oie=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Pie=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Tie=/^'([^]*?)'?$/,Iie=/''/g,Rie=/[a-zA-Z]/;function sn(t,e,r){var d,h,f,p;const n=rh(),i=n.locale??PK,s=n.firstWeekContainsDate??((h=(d=n.locale)==null?void 0:d.options)==null?void 0:h.firstWeekContainsDate)??1,a=n.weekStartsOn??((p=(f=n.locale)==null?void 0:f.options)==null?void 0:p.weekStartsOn)??0,o=et(t);if(!jne(o))throw new RangeError("Invalid time value");let u=e.match(Pie).map(m=>{const y=m[0];if(y==="p"||y==="P"){const x=xie[y];return x(m,i.formatLong)}return m}).join("").match(Oie).map(m=>{if(m==="''")return{isToken:!1,value:"'"};const y=m[0];if(y==="'")return{isToken:!1,value:$ie(m)};if(UI[y])return{isToken:!0,value:m};if(y.match(Rie))throw new RangeError("Format string contains an unescaped latin alphabet character `"+y+"`");return{isToken:!1,value:m}});i.localize.preprocessor&&(u=i.localize.preprocessor(o,u));const c={firstWeekContainsDate:s,weekStartsOn:a,locale:i};return u.map(m=>{if(!m.isToken)return m.value;const y=m.value;(Nie(y)||Eie(y))&&jie(y,e,String(t));const x=UI[y[0]];return x(o,y,i.localize,c)}).join("")}function $ie(t){const e=t.match(Tie);return e?e[1].replace(Iie,"'"):t}function kie(t,e,r){const n=rh(),i=(r==null?void 0:r.locale)??n.locale??PK,s=2520,a=zl(t,e);if(isNaN(a))throw new RangeError("Invalid time value");const o=Object.assign({},r,{addSuffix:r==null?void 0:r.addSuffix,comparison:a});let u,c;a>0?(u=et(e),c=et(t)):(u=et(t),c=et(e));const d=Dne(c,u),h=(wp(c)-wp(u))/1e3,f=Math.round((d-h)/60);let p;if(f<2)return r!=null&&r.includeSeconds?d<5?i.formatDistance("lessThanXSeconds",5,o):d<10?i.formatDistance("lessThanXSeconds",10,o):d<20?i.formatDistance("lessThanXSeconds",20,o):d<40?i.formatDistance("halfAMinute",0,o):d<60?i.formatDistance("lessThanXMinutes",1,o):i.formatDistance("xMinutes",1,o):f===0?i.formatDistance("lessThanXMinutes",1,o):i.formatDistance("xMinutes",f,o);if(f<45)return i.formatDistance("xMinutes",f,o);if(f<90)return i.formatDistance("aboutXHours",1,o);if(f<zI){const m=Math.round(f/60);return i.formatDistance("aboutXHours",m,o)}else{if(f<s)return i.formatDistance("xDays",1,o);if(f<uf){const m=Math.round(f/zI);return i.formatDistance("xDays",m,o)}else if(f<uf*2)return p=Math.round(f/uf),i.formatDistance("aboutXMonths",p,o)}if(p=kne(c,u),p<12){const m=Math.round(f/uf);return i.formatDistance("xMonths",m,o)}else{const m=p%12,y=Math.trunc(p/12);return m<3?i.formatDistance("aboutXYears",y,o):m<9?i.formatDistance("overXYears",y,o):i.formatDistance("almostXYears",y+1,o)}}function Die(t,e){return kie(t,cm(t),e)}function Mie(t,e,r){const n=Ro(t,r),i=Ro(e,r);return+n==+i}function qie(t,e){return Mie(t,cm(t),e)}function RK(t){return OK(t,cm(t))}function Aie(t,e){return xne(t,-1)}function $K(t){return OK(t,Aie(cm(t)))}function _p(t,e){const n=zie(t);let i;if(n.date){const u=Uie(n.date,2);i=Wie(u.restDateString,u.year)}if(!i||isNaN(i.getTime()))return new Date(NaN);const s=i.getTime();let a=0,o;if(n.time&&(a=Vie(n.time),isNaN(a)))return new Date(NaN);if(n.timezone){if(o=Hie(n.timezone),isNaN(o))return new Date(NaN)}else{const u=new Date(s+a),c=new Date(0);return c.setFullYear(u.getUTCFullYear(),u.getUTCMonth(),u.getUTCDate()),c.setHours(u.getUTCHours(),u.getUTCMinutes(),u.getUTCSeconds(),u.getUTCMilliseconds()),c}return new Date(s+a+o)}const cf={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},Fie=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,Lie=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,Bie=/^([+-])(\d{2})(?::?(\d{2}))?$/;function zie(t){const e={},r=t.split(cf.dateTimeDelimiter);let n;if(r.length>2)return e;if(/:/.test(r[0])?n=r[0]:(e.date=r[0],n=r[1],cf.timeZoneDelimiter.test(e.date)&&(e.date=t.split(cf.timeZoneDelimiter)[0],n=t.substr(e.date.length,t.length))),n){const i=cf.timezone.exec(n);i?(e.time=n.replace(i[1],""),e.timezone=i[1]):e.time=n}return e}function Uie(t,e){const r=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+e)+"})|(\\d{2}|[+-]\\d{"+(2+e)+"})$)"),n=t.match(r);if(!n)return{year:NaN,restDateString:""};const i=n[1]?parseInt(n[1]):null,s=n[2]?parseInt(n[2]):null;return{year:s===null?i:s*100,restDateString:t.slice((n[1]||n[2]).length)}}function Wie(t,e){if(e===null)return new Date(NaN);const r=t.match(Fie);if(!r)return new Date(NaN);const n=!!r[4],i=Cc(r[1]),s=Cc(r[2])-1,a=Cc(r[3]),o=Cc(r[4]),u=Cc(r[5])-1;if(n)return Xie(e,o,u)?Kie(e,o,u):new Date(NaN);{const c=new Date(0);return!Yie(e,s,a)||!Qie(e,i)?new Date(NaN):(c.setUTCFullYear(e,s,Math.max(i,a)),c)}}function Cc(t){return t?parseInt(t):1}function Vie(t){const e=t.match(Lie);if(!e)return NaN;const r=Pv(e[1]),n=Pv(e[2]),i=Pv(e[3]);return Jie(r,n,i)?r*jK+n*NK+i*1e3:NaN}function Pv(t){return t&&parseFloat(t.replace(",","."))||0}function Hie(t){if(t==="Z")return 0;const e=t.match(Bie);if(!e)return 0;const r=e[1]==="+"?-1:1,n=parseInt(e[2]),i=e[3]&&parseInt(e[3])||0;return Zie(n,i)?r*(n*jK+i*NK):NaN}function Kie(t,e,r){const n=new Date(0);n.setUTCFullYear(t,0,4);const i=n.getUTCDay()||7,s=(e-1)*7+r+1-i;return n.setUTCDate(n.getUTCDate()+s),n}const Gie=[31,null,31,30,31,30,31,31,30,31,30,31];function kK(t){return t%400===0||t%4===0&&t%100!==0}function Yie(t,e,r){return e>=0&&e<=11&&r>=1&&r<=(Gie[e]||(kK(t)?29:28))}function Qie(t,e){return e>=1&&e<=(kK(t)?366:365)}function Xie(t,e,r){return e>=1&&e<=53&&r>=0&&r<=6}function Jie(t,e,r){return t===24?e===0&&r===0:r>=0&&r<60&&e>=0&&e<60&&t>=0&&t<25}function Zie(t,e){return e>=0&&e<=59}function ese(t){if(!t||t.length===0)return{todos:[],today:[],yesterday:[],thisWeek:[],older:[]};const e={todos:[],today:[],yesterday:[],thisWeek:[],older:[]};return t.forEach(r=>{if(r.type==="todo"){e.todos.push(r);return}const n=_p(r.created),i=r.activity_date?_p(r.activity_date):n;RK(i)?e.today.push(r):$K(i)?e.yesterday.push(r):qie(i)?e.thisWeek.push(r):e.older.push(r)}),e.todos.sort((r,n)=>{if(r.is_completed&&!n.is_completed)return 1;if(!r.is_completed&&n.is_completed)return-1;if(!r.is_completed&&!n.is_completed){if(r.due_date&&n.due_date)return new Date(r.due_date)-new Date(n.due_date);if(r.due_date&&!n.due_date)return-1;if(!r.due_date&&n.due_date)return 1}return new Date(n.created)-new Date(r.created)}),e}function tse(t){if(!t)return"";try{const e=_p(t),r=Die(e,{addSuffix:!0});return RK(e)?r:$K(e)?"Yesterday":sn(e,"MMM d, yyyy")}catch{return t}}function rse(t){return{call:"Phone",email:"Mail",chat:"MessageCircle",meeting:"Users",coffee:"Coffee",lunch:"Utensils",note:"FileText"}[t]||"Circle"}function nse(t){return{call:"Phone call",email:"Email",chat:"Chat",meeting:"Meeting",coffee:"Coffee",lunch:"Lunch",note:"Note"}[t]||t||"Activity"}function nh(t){if(!t.due_date||t.is_completed)return!1;try{const e=_p(t.due_date),r=new Date;return r.setHours(0,0,0,0),e.setHours(0,0,0,0),e<r}catch{return!1}}function ise(t){const e=[];return t.is_completed?e.push("opacity-60","line-through"):nh(t)&&e.push("text-red-600","font-medium"),e.join(" ")}function Rs({title:t,value:e,icon:r,href:n}){return l.jsx(he,{to:n,className:"card p-6 hover:shadow-md transition-shadow",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-medium text-gray-500",children:t}),l.jsx("p",{className:"mt-1 text-3xl font-semibold",children:e})]}),l.jsx("div",{className:"p-3 bg-primary-50 rounded-lg",children:l.jsx(r,{className:"w-6 h-6 text-primary-600"})})]})})}function KI({person:t,hideStar:e=!1}){var r,n;return l.jsxs(he,{to:`/people/${t.id}`,className:"flex items-center p-3 rounded-lg hover:bg-gray-50 transition-colors",children:[t.thumbnail?l.jsx("img",{src:t.thumbnail,alt:t.name,loading:"lazy",className:"w-10 h-10 rounded-full object-cover"}):l.jsx("div",{className:"w-10 h-10 bg-gray-200 rounded-full flex items-center justify-center",children:l.jsx("span",{className:"text-sm font-medium text-gray-500",children:((r=t.first_name)==null?void 0:r[0])||"?"})}),l.jsxs("div",{className:"ml-3 flex-1 min-w-0",children:[l.jsx("p",{className:"text-sm font-medium text-gray-900 truncate",children:t.name}),((n=t.labels)==null?void 0:n.length)>0&&l.jsx("p",{className:"text-xs text-gray-500 truncate",children:t.labels.join(", ")})]}),t.is_favorite&&!e&&l.jsx(bu,{className:"w-4 h-4 text-yellow-400 fill-current"})]})}function sse({reminder:t}){var o,u,c,d,h;const e=t.days_until;let r="bg-gray-100 text-gray-700";e===0?r="bg-green-100 text-green-700":e<=3?r="bg-orange-100 text-orange-700":e<=7&&(r="bg-yellow-100 text-yellow-700");const n=((u=(o=t.related_people)==null?void 0:o[0])==null?void 0:u.name)||t.title,i=(d=(c=t.related_people)==null?void 0:c[0])==null?void 0:d.id,s=((h=t.related_people)==null?void 0:h.length)>0,a=l.jsxs(l.Fragment,{children:[l.jsx("div",{className:`px-2 py-1 rounded text-xs font-medium ${r}`,children:e===0?"Today":`${e}d`}),l.jsxs("div",{className:"ml-3 flex-1 min-w-0",children:[l.jsx("p",{className:"text-sm font-medium text-gray-900",children:n}),l.jsx("p",{className:"text-xs text-gray-500",children:sn(new Date(t.next_occurrence),"MMMM d, yyyy")}),s&&l.jsx("div",{className:"flex -space-x-2 mt-1",children:t.related_people.slice(0,3).map(f=>{var p;return f.thumbnail?l.jsx("img",{src:f.thumbnail,alt:f.name,loading:"lazy",className:"w-10 h-10 rounded-full border-2 border-white object-cover"},f.id):l.jsx("div",{className:"w-10 h-10 bg-gray-300 rounded-full border-2 border-white flex items-center justify-center",children:l.jsx("span",{className:"text-sm",children:(p=f.name)==null?void 0:p[0]})},f.id)})})]})]});return s&&i?l.jsx(he,{to:`/people/${i}`,className:"flex items-start p-3 rounded-lg hover:bg-gray-50 transition-colors",children:a}):l.jsx("div",{className:"flex items-start p-3 rounded-lg hover:bg-gray-50 transition-colors",children:a})}function ase({todo:t,onToggle:e}){var n;const r=nh(t);return l.jsxs(he,{to:`/people/${t.person_id}`,className:"flex items-start p-3 rounded-lg hover:bg-gray-50 transition-colors group",children:[l.jsx("button",{onClick:i=>{i.preventDefault(),i.stopPropagation(),e(t)},className:"mt-0.5 mr-3 flex-shrink-0",title:t.is_completed?"Mark as incomplete":"Mark as complete",children:t.is_completed?l.jsx(ns,{className:"w-5 h-5 text-primary-600"}):l.jsx(yu,{className:`w-5 h-5 ${r?"text-red-600":"text-gray-400"}`})}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx("p",{className:`text-sm font-medium ${t.is_completed?"line-through text-gray-400":r?"text-red-600":"text-gray-900"}`,children:t.content}),l.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[t.person_thumbnail?l.jsx("img",{src:t.person_thumbnail,alt:t.person_name,loading:"lazy",className:"w-5 h-5 rounded-full object-cover"}):l.jsx("div",{className:"w-5 h-5 bg-gray-200 rounded-full flex items-center justify-center",children:l.jsx("span",{className:"text-xs text-gray-500",children:(n=t.person_name)==null?void 0:n[0]})}),l.jsx("span",{className:"text-xs text-gray-500 truncate",children:t.person_name})]})]}),t.due_date&&l.jsxs("div",{className:`ml-3 text-xs text-right flex-shrink-0 ${r&&!t.is_completed?"text-red-600 font-medium":"text-gray-500"}`,children:[l.jsx("div",{children:sn(new Date(t.due_date),"MMM d")}),r&&!t.is_completed&&l.jsx("div",{className:"text-red-600",children:"overdue"})]})]})}function ose(){return l.jsxs("div",{className:"card p-12 text-center",children:[l.jsx("div",{className:"flex justify-center mb-4",children:l.jsx("div",{className:"p-4 bg-primary-50 rounded-full",children:l.jsx(fK,{className:"w-12 h-12 text-primary-600"})})}),l.jsxs("h2",{className:"text-2xl font-semibold text-gray-900 mb-2",children:["Welcome to ",xu,"!"]}),l.jsx("p",{className:"text-gray-600 mb-8 max-w-md mx-auto",children:"Get started by adding your first contact, organization, or important date. Your dashboard will populate as you add more information."}),l.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[l.jsxs(he,{to:"/people/new",className:"inline-flex items-center px-6 py-3 bg-primary-600 text-white rounded-lg hover:bg-primary-700 transition-colors",children:[l.jsx(Vt,{className:"w-5 h-5 mr-2"}),"Add Your First Person"]}),l.jsxs(he,{to:"/companies/new",className:"inline-flex items-center px-6 py-3 bg-white text-gray-700 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",children:[l.jsx(Vt,{className:"w-5 h-5 mr-2"}),"Add Your First Organization"]})]})]})}function lse(){var p,m,y;const{data:t,isLoading:e,error:r}=Zre(),{data:n}=bK(!1),i=xK(),s=x=>{i.mutate({todoId:x.id,data:{content:x.content,due_date:x.due_date,is_completed:!x.is_completed}})};if(e)return l.jsx("div",{className:"flex items-center justify-center h-64",children:l.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"})});if(r){const x=((p=r==null?void 0:r.response)==null?void 0:p.status)>=500||!(r!=null&&r.response);return l.jsx("div",{className:"card p-8 text-center",children:l.jsx("div",{className:"text-red-600 mb-2",children:x?l.jsxs(l.Fragment,{children:[l.jsx("p",{className:"font-medium mb-1",children:"Failed to load dashboard data"}),l.jsx("p",{className:"text-sm text-gray-600",children:"Please check your connection and try refreshing the page."})]}):l.jsxs(l.Fragment,{children:[l.jsx("p",{className:"font-medium mb-1",children:"Unable to load dashboard"}),l.jsx("p",{className:"text-sm text-gray-600",children:((y=(m=r==null?void 0:r.response)==null?void 0:m.data)==null?void 0:y.message)||"An error occurred while loading your data."})]})})})}const{stats:a,recent_people:o,upcoming_reminders:u,favorites:c}=t||{};if(((a==null?void 0:a.total_people)||0)+((a==null?void 0:a.total_companies)||0)+((a==null?void 0:a.total_dates)||0)===0)return l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-4",children:[l.jsx(Rs,{title:"Total people",value:0,icon:Di,href:"/people"}),l.jsx(Rs,{title:"Organizations",value:0,icon:Sr,href:"/companies"}),l.jsx(Rs,{title:"Events",value:0,icon:da,href:"/dates"}),l.jsx(Rs,{title:"Open todos",value:0,icon:ns,href:"/todos"})]}),l.jsx(ose,{})]});const f=(n==null?void 0:n.slice(0,5))||[];return l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-4",children:[l.jsx(Rs,{title:"Total people",value:(a==null?void 0:a.total_people)||0,icon:Di,href:"/people"}),l.jsx(Rs,{title:"Organizations",value:(a==null?void 0:a.total_companies)||0,icon:Sr,href:"/companies"}),l.jsx(Rs,{title:"Events",value:(a==null?void 0:a.total_dates)||0,icon:da,href:"/dates"}),l.jsx(Rs,{title:"Open todos",value:(a==null?void 0:a.open_todos_count)||0,icon:ns,href:"/todos"})]}),l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[l.jsxs("div",{className:"card",children:[l.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-200",children:[l.jsxs("h2",{className:"font-semibold flex items-center",children:[l.jsx(da,{className:"w-5 h-5 mr-2 text-gray-500"}),"Upcoming reminders"]}),l.jsxs(he,{to:"/dates",className:"text-sm text-primary-600 hover:text-primary-700 flex items-center",children:["View all reminders",l.jsx(jv,{className:"w-4 h-4 ml-1"})]})]}),l.jsx("div",{className:"divide-y divide-gray-100",children:(u==null?void 0:u.length)>0?u.map(x=>l.jsx(sse,{reminder:x},x.id)):l.jsx("p",{className:"p-4 text-sm text-gray-500 text-center",children:"No upcoming reminders"})})]}),l.jsxs("div",{className:"card",children:[l.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-200",children:[l.jsxs("h2",{className:"font-semibold flex items-center",children:[l.jsx(ns,{className:"w-5 h-5 mr-2 text-gray-500"}),"Open todos"]}),l.jsxs(he,{to:"/todos",className:"text-sm text-primary-600 hover:text-primary-700 flex items-center",children:["View all todos",l.jsx(jv,{className:"w-4 h-4 ml-1"})]})]}),l.jsx("div",{className:"divide-y divide-gray-100",children:f.length>0?f.map(x=>l.jsx(ase,{todo:x,onToggle:s},x.id)):l.jsx("p",{className:"p-4 text-sm text-gray-500 text-center",children:"No open todos"})})]})]}),l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[l.jsxs("div",{className:"card",children:[l.jsx("div",{className:"flex items-center justify-between p-4 border-b border-gray-200",children:l.jsxs("h2",{className:"font-semibold flex items-center",children:[l.jsx(bu,{className:"w-5 h-5 mr-2 text-yellow-500 fill-current"}),"Favorites"]})}),(c==null?void 0:c.length)>0?l.jsx("div",{className:"divide-y divide-gray-100",children:c.slice(0,5).map(x=>l.jsx(KI,{person:x,hideStar:!0},x.id))}):l.jsx("p",{className:"p-4 text-sm text-gray-500 text-center",children:"No favorites yet"})]}),l.jsxs("div",{className:"card",children:[l.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-200",children:[l.jsxs("h2",{className:"font-semibold flex items-center",children:[l.jsx(Di,{className:"w-5 h-5 mr-2 text-gray-500"}),"Recently edited people"]}),l.jsxs(he,{to:"/people",className:"text-sm text-primary-600 hover:text-primary-700 flex items-center",children:["View all people",l.jsx(jv,{className:"w-4 h-4 ml-1"})]})]}),l.jsx("div",{className:"divide-y divide-gray-100",children:(o==null?void 0:o.length)>0?o.map(x=>l.jsx(KI,{person:x},x.id)):l.jsxs("p",{className:"p-4 text-sm text-gray-500 text-center",children:["No people yet. ",l.jsx(he,{to:"/people/new",className:"text-primary-600",children:"Add someone"})]})})]})]})]})}function GI(t){var i;const e=((i=t.acf)==null?void 0:i.work_history)||[];if(e.length===0)return null;const r=e.find(s=>s.is_current&&s.company);if(r)return r.company;const n=e.filter(s=>s.company).sort((s,a)=>{const o=s.start_date?new Date(s.start_date):new Date(0);return(a.start_date?new Date(a.start_date):new Date(0))-o});return n.length>0?n[0].company:null}function use({person:t,companyName:e,isDeceased:r}){var n,i;return l.jsx(he,{to:`/people/${t.id}`,className:"card p-4 hover:shadow-md transition-shadow",children:l.jsxs("div",{className:"flex items-start",children:[t.thumbnail?l.jsx("img",{src:t.thumbnail,alt:t.name,loading:"lazy",className:"w-12 h-12 rounded-full object-cover"}):l.jsx("div",{className:"w-12 h-12 bg-gray-200 rounded-full flex items-center justify-center",children:l.jsx("span",{className:"text-lg font-medium text-gray-500",children:((n=t.first_name)==null?void 0:n[0])||"?"})}),l.jsxs("div",{className:"ml-3 flex-1 min-w-0",children:[l.jsxs("div",{className:"flex items-center",children:[l.jsxs("h3",{className:"text-sm font-medium text-gray-900 truncate",children:[t.name,r&&l.jsx("span",{className:"ml-1 text-gray-500",children:""})]}),t.is_favorite&&l.jsx(bu,{className:"w-4 h-4 ml-1 text-yellow-400 fill-current flex-shrink-0"})]}),e&&l.jsx("p",{className:"text-xs text-gray-500 mt-0.5 truncate",children:e}),((i=t.labels)==null?void 0:i.length)>0&&l.jsx("div",{className:"flex flex-wrap gap-1 mt-1",children:t.labels.slice(0,3).map(s=>l.jsx("span",{className:"inline-flex px-2 py-0.5 text-xs rounded-full bg-gray-100 text-gray-600",children:s},s))})]})]})})}function cse(){const[t,e]=T.useState(!1),[r,n]=T.useState(!1),[i,s]=T.useState([]),[a,o]=T.useState("first_name"),[u,c]=T.useState("asc"),d=T.useRef(null),h=T.useRef(null),{data:f,isLoading:p,error:m}=Wo(),{data:y}=rt({queryKey:["person-labels"],queryFn:async()=>(await Ae.getPersonLabels()).data}),x=(y==null?void 0:y.map(O=>O.name))||[];T.useEffect(()=>{const O=I=>{h.current&&!h.current.contains(I.target)&&d.current&&!d.current.contains(I.target)&&e(!1)};return document.addEventListener("mousedown",O),()=>{document.removeEventListener("mousedown",O)}},[]);const g=T.useMemo(()=>{if(!f)return[];let O=[...f];return r&&(O=O.filter(I=>I.is_favorite)),i.length>0&&(O=O.filter(I=>{const M=I.labels||[];return i.some(k=>M.includes(k))})),O.sort((I,M)=>{var A,K,U,z,G,ce,ve,Ie;let k,H;if(a==="first_name"?(k=(((A=I.acf)==null?void 0:A.first_name)||I.first_name||"").toLowerCase(),H=(((K=M.acf)==null?void 0:K.first_name)||M.first_name||"").toLowerCase()):(k=(((U=I.acf)==null?void 0:U.last_name)||I.last_name||"").toLowerCase(),H=(((z=M.acf)==null?void 0:z.last_name)||M.last_name||"").toLowerCase()),k===H){const me=a==="first_name"?(((G=I.acf)==null?void 0:G.last_name)||I.last_name||"").toLowerCase():(((ce=I.acf)==null?void 0:ce.first_name)||I.first_name||"").toLowerCase(),Ee=a==="first_name"?(((ve=M.acf)==null?void 0:ve.last_name)||M.last_name||"").toLowerCase():(((Ie=M.acf)==null?void 0:Ie.first_name)||M.first_name||"").toLowerCase(),ke=me.localeCompare(Ee);return u==="asc"?ke:-ke}const W=k.localeCompare(H);return u==="asc"?W:-W})},[f,r,i,a,u]),v=r||i.length>0,w=O=>{s(I=>I.includes(O)?I.filter(M=>M!==O):[...I,O])},b=()=>{n(!1),s([])},_=T.useMemo(()=>{if(!g)return[];const O=g.map(I=>GI(I)).filter(Boolean);return[...new Set(O)]},[g]),{data:E}=rt({queryKey:["companies","batch",_.sort().join(",")],queryFn:async()=>_.length===0?[]:(await Ae.getCompanies({per_page:100,include:_.join(",")})).data,enabled:_.length>0}),N=T.useMemo(()=>{const O={};return E&&E.forEach(I=>{O[I.id]=qt(I)}),O},[E]),S=T.useMemo(()=>{const O={};return g.forEach(I=>{const M=GI(I);M&&N[M]&&(O[I.id]=N[M])}),O},[g,N]),j=T.useMemo(()=>g.map(O=>O.id).filter(Boolean),[g]),C=vp({queries:j.map(O=>({queryKey:["person-dates",O],queryFn:async()=>(await qe.getPersonDates(O)).data,enabled:!!O}))}),P=T.useMemo(()=>{const O={};return C.forEach((I,M)=>{if(I.data&&j[M]){const k=j[M],H=I.data.some(W=>{const A=Array.isArray(W.date_type)?W.date_type[0]:W.date_type;return(A==null?void 0:A.toLowerCase())==="died"});O[k]=H}}),O},[C,j]);return l.jsxs("div",{className:"space-y-4",children:[l.jsx("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:l.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[l.jsxs("div",{className:"flex items-center gap-2 border border-gray-200 rounded-lg p-1",children:[l.jsxs("select",{value:a,onChange:O=>o(O.target.value),className:"text-sm border-0 bg-transparent focus:ring-0 focus:outline-none cursor-pointer",children:[l.jsx("option",{value:"first_name",children:"First name"}),l.jsx("option",{value:"last_name",children:"Last name"})]}),l.jsx("div",{className:"h-4 w-px bg-gray-300"}),l.jsx("button",{onClick:()=>c(u==="asc"?"desc":"asc"),className:"p-1 hover:bg-gray-100 rounded transition-colors",title:`Sort ${u==="asc"?"descending":"ascending"}`,children:u==="asc"?l.jsx(qre,{className:"w-4 h-4 text-gray-600"}):l.jsx(Mre,{className:"w-4 h-4 text-gray-600"})})]}),l.jsxs("div",{className:"relative",ref:d,children:[l.jsxs("button",{onClick:()=>e(!t),className:`btn-secondary ${v?"bg-primary-50 text-primary-700 border-primary-200":""}`,children:[l.jsx(Tj,{className:"w-4 h-4 md:mr-2"}),l.jsx("span",{className:"hidden md:inline",children:"Filter"}),v&&l.jsx("span",{className:"ml-2 px-1.5 py-0.5 bg-primary-600 text-white text-xs rounded-full",children:i.length+(r?1:0)})]}),t&&l.jsx("div",{ref:h,className:"absolute top-full left-0 mt-2 w-64 bg-white border border-gray-200 rounded-lg shadow-lg z-50",children:l.jsxs("div",{className:"p-4 space-y-4",children:[l.jsx("div",{children:l.jsxs("label",{className:"flex items-center cursor-pointer",children:[l.jsx("input",{type:"checkbox",checked:r,onChange:O=>n(O.target.checked),className:"sr-only"}),l.jsx("div",{className:`flex items-center justify-center w-5 h-5 border-2 rounded mr-3 ${r?"bg-primary-600 border-primary-600":"border-gray-300"}`,children:r&&l.jsx(AI,{className:"w-3 h-3 text-white"})}),l.jsxs("div",{className:"flex items-center",children:[l.jsx(bu,{className:"w-4 h-4 mr-2 text-yellow-400 fill-current"}),l.jsx("span",{className:"text-sm font-medium text-gray-900",children:"Favorites only"})]})]})}),x.length>0&&l.jsxs("div",{children:[l.jsx("h3",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wide mb-2",children:"Labels"}),l.jsx("div",{className:"space-y-1 max-h-48 overflow-y-auto",children:x.map(O=>l.jsxs("label",{className:"flex items-center cursor-pointer hover:bg-gray-50 p-1 rounded",children:[l.jsx("input",{type:"checkbox",checked:i.includes(O),onChange:()=>w(O),className:"sr-only"}),l.jsx("div",{className:`flex items-center justify-center w-5 h-5 border-2 rounded mr-3 ${i.includes(O)?"bg-primary-600 border-primary-600":"border-gray-300"}`,children:i.includes(O)&&l.jsx(AI,{className:"w-3 h-3 text-white"})}),l.jsx("span",{className:"text-sm text-gray-700",children:O})]},O))})]}),v&&l.jsx("button",{onClick:b,className:"w-full text-sm text-primary-600 hover:text-primary-700 font-medium pt-2 border-t border-gray-200",children:"Clear all filters"})]})})]}),v&&l.jsxs("div",{className:"flex flex-wrap gap-2",children:[r&&l.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 bg-primary-100 text-primary-800 rounded-full text-xs",children:[l.jsx(bu,{className:"w-3 h-3"}),"Favorites",l.jsx("button",{onClick:()=>n(!1),className:"hover:text-primary-600",children:l.jsx(Vr,{className:"w-3 h-3"})})]}),i.map(O=>l.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 bg-gray-100 text-gray-800 rounded-full text-xs",children:[O,l.jsx("button",{onClick:()=>w(O),className:"hover:text-gray-600",children:l.jsx(Vr,{className:"w-3 h-3"})})]},O))]}),l.jsxs(he,{to:"/people/new",className:"btn-primary",children:[l.jsx(Vt,{className:"w-4 h-4 md:mr-2"}),l.jsx("span",{className:"hidden md:inline",children:"Add person"})]})]})}),p&&l.jsx("div",{className:"flex items-center justify-center h-64",children:l.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"})}),m&&l.jsx("div",{className:"card p-6 text-center",children:l.jsx("p",{className:"text-red-600",children:"Failed to load people."})}),!p&&!m&&(f==null?void 0:f.length)===0&&l.jsxs("div",{className:"card p-12 text-center",children:[l.jsx("div",{className:"w-12 h-12 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4",children:l.jsx(Vt,{className:"w-6 h-6 text-gray-400"})}),l.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-1",children:"No people found"}),l.jsx("p",{className:"text-gray-500 mb-4",children:"Get started by adding your first person."}),l.jsxs(he,{to:"/people/new",className:"btn-primary",children:[l.jsx(Vt,{className:"w-4 h-4 md:mr-2"}),l.jsx("span",{className:"hidden md:inline",children:"Add person"})]})]}),!p&&!m&&(g==null?void 0:g.length)>0&&l.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:g.map(O=>l.jsx(use,{person:O,companyName:S[O.id],isDeceased:P[O.id]||!1},O.id))}),!p&&!m&&(f==null?void 0:f.length)>0&&(g==null?void 0:g.length)===0&&l.jsxs("div",{className:"card p-12 text-center",children:[l.jsx("div",{className:"w-12 h-12 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4",children:l.jsx(Tj,{className:"w-6 h-6 text-gray-400"})}),l.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-1",children:"No people match your filters"}),l.jsx("p",{className:"text-gray-500 mb-4",children:"Try adjusting your filters to see more results."}),l.jsx("button",{onClick:b,className:"btn-secondary",children:"Clear filters"})]})]})}const dse="#0285FF",hse=T.forwardRef(function({title:e="Bluesky",color:r="currentColor",size:n=24,...i},s){return r==="default"&&(r=dse),l.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:n,height:n,fill:r,viewBox:"0 0 24 24",ref:s,...i,children:[l.jsx("title",{children:e}),l.jsx("path",{d:"M12 10.8c-1.087-2.114-4.046-6.053-6.798-7.995C2.566.944 1.561 1.266.902 1.565.139 1.908 0 3.08 0 3.768c0 .69.378 5.65.624 6.479.815 2.736 3.713 3.66 6.383 3.364.136-.02.275-.039.415-.056-.138.022-.276.04-.415.056-3.912.58-7.387 2.005-2.83 7.078 5.013 5.19 6.87-1.113 7.823-4.308.953 3.195 2.05 9.271 7.733 4.308 4.267-4.308 1.172-6.498-2.74-7.078a8.741 8.741 0 0 1-.415-.056c.14.017.279.036.415.056 2.67.297 5.568-.628 6.383-3.364.246-.828.624-5.79.624-6.478 0-.69-.139-1.861-.902-2.206-.659-.298-1.664-.62-4.3 1.24C16.046 4.748 13.087 8.687 12 10.8Z"})]})}),fse="#0866FF",pse=T.forwardRef(function({title:e="Facebook",color:r="currentColor",size:n=24,...i},s){return r==="default"&&(r=fse),l.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:n,height:n,fill:r,viewBox:"0 0 24 24",ref:s,...i,children:[l.jsx("title",{children:e}),l.jsx("path",{d:"M9.101 23.691v-7.98H6.627v-3.667h2.474v-1.58c0-4.085 1.848-5.978 5.858-5.978.401 0 .955.042 1.468.103a8.68 8.68 0 0 1 1.141.195v3.325a8.623 8.623 0 0 0-.653-.036 26.805 26.805 0 0 0-.733-.009c-.707 0-1.259.096-1.675.309a1.686 1.686 0 0 0-.679.622c-.258.42-.374.995-.374 1.752v1.297h3.919l-.386 2.103-.287 1.564h-3.246v8.245C19.396 23.238 24 18.179 24 12.044c0-6.627-5.373-12-12-12s-12 5.373-12 12c0 5.628 3.874 10.35 9.101 11.647Z"})]})}),mse="#FF0069",vse=T.forwardRef(function({title:e="Instagram",color:r="currentColor",size:n=24,...i},s){return r==="default"&&(r=mse),l.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:n,height:n,fill:r,viewBox:"0 0 24 24",ref:s,...i,children:[l.jsx("title",{children:e}),l.jsx("path",{d:"M7.0301.084c-1.2768.0602-2.1487.264-2.911.5634-.7888.3075-1.4575.72-2.1228 1.3877-.6652.6677-1.075 1.3368-1.3802 2.127-.2954.7638-.4956 1.6365-.552 2.914-.0564 1.2775-.0689 1.6882-.0626 4.947.0062 3.2586.0206 3.6671.0825 4.9473.061 1.2765.264 2.1482.5635 2.9107.308.7889.72 1.4573 1.388 2.1228.6679.6655 1.3365 1.0743 2.1285 1.38.7632.295 1.6361.4961 2.9134.552 1.2773.056 1.6884.069 4.9462.0627 3.2578-.0062 3.668-.0207 4.9478-.0814 1.28-.0607 2.147-.2652 2.9098-.5633.7889-.3086 1.4578-.72 2.1228-1.3881.665-.6682 1.0745-1.3378 1.3795-2.1284.2957-.7632.4966-1.636.552-2.9124.056-1.2809.0692-1.6898.063-4.948-.0063-3.2583-.021-3.6668-.0817-4.9465-.0607-1.2797-.264-2.1487-.5633-2.9117-.3084-.7889-.72-1.4568-1.3876-2.1228C21.2982 1.33 20.628.9208 19.8378.6165 19.074.321 18.2017.1197 16.9244.0645 15.6471.0093 15.236-.005 11.977.0014 8.718.0076 8.31.0215 7.0301.0839m.1402 21.6932c-1.17-.0509-1.8053-.2453-2.2287-.408-.5606-.216-.96-.4771-1.3819-.895-.422-.4178-.6811-.8186-.9-1.378-.1644-.4234-.3624-1.058-.4171-2.228-.0595-1.2645-.072-1.6442-.079-4.848-.007-3.2037.0053-3.583.0607-4.848.05-1.169.2456-1.805.408-2.2282.216-.5613.4762-.96.895-1.3816.4188-.4217.8184-.6814 1.3783-.9003.423-.1651 1.0575-.3614 2.227-.4171 1.2655-.06 1.6447-.072 4.848-.079 3.2033-.007 3.5835.005 4.8495.0608 1.169.0508 1.8053.2445 2.228.408.5608.216.96.4754 1.3816.895.4217.4194.6816.8176.9005 1.3787.1653.4217.3617 1.056.4169 2.2263.0602 1.2655.0739 1.645.0796 4.848.0058 3.203-.0055 3.5834-.061 4.848-.051 1.17-.245 1.8055-.408 2.2294-.216.5604-.4763.96-.8954 1.3814-.419.4215-.8181.6811-1.3783.9-.4224.1649-1.0577.3617-2.2262.4174-1.2656.0595-1.6448.072-4.8493.079-3.2045.007-3.5825-.006-4.848-.0608M16.953 5.5864A1.44 1.44 0 1 0 18.39 4.144a1.44 1.44 0 0 0-1.437 1.4424M5.8385 12.012c.0067 3.4032 2.7706 6.1557 6.173 6.1493 3.4026-.0065 6.157-2.7701 6.1506-6.1733-.0065-3.4032-2.771-6.1565-6.174-6.1498-3.403.0067-6.156 2.771-6.1496 6.1738M8 12.0077a4 4 0 1 1 4.008 3.9921A3.9996 3.9996 0 0 1 8 12.0077"})]})}),gse="#000000",yse=T.forwardRef(function({title:e="Threads",color:r="currentColor",size:n=24,...i},s){return r==="default"&&(r=gse),l.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:n,height:n,fill:r,viewBox:"0 0 24 24",ref:s,...i,children:[l.jsx("title",{children:e}),l.jsx("path",{d:"M12.186 24h-.007c-3.581-.024-6.334-1.205-8.184-3.509C2.35 18.44 1.5 15.586 1.472 12.01v-.017c.03-3.579.879-6.43 2.525-8.482C5.845 1.205 8.6.024 12.18 0h.014c2.746.02 5.043.725 6.826 2.098 1.677 1.29 2.858 3.13 3.509 5.467l-2.04.569c-1.104-3.96-3.898-5.984-8.304-6.015-2.91.022-5.11.936-6.54 2.717C4.307 6.504 3.616 8.914 3.589 12c.027 3.086.718 5.496 2.057 7.164 1.43 1.783 3.631 2.698 6.54 2.717 2.623-.02 4.358-.631 5.8-2.045 1.647-1.613 1.618-3.593 1.09-4.798-.31-.71-.873-1.3-1.634-1.75-.192 1.352-.622 2.446-1.284 3.272-.886 1.102-2.14 1.704-3.73 1.79-1.202.065-2.361-.218-3.259-.801-1.063-.689-1.685-1.74-1.752-2.964-.065-1.19.408-2.285 1.33-3.082.88-.76 2.119-1.207 3.583-1.291a13.853 13.853 0 0 1 3.02.142c-.126-.742-.375-1.332-.75-1.757-.513-.586-1.308-.883-2.359-.89h-.029c-.844 0-1.992.232-2.721 1.32L7.734 7.847c.98-1.454 2.568-2.256 4.478-2.256h.044c3.194.02 5.097 1.975 5.287 5.388.108.046.216.094.321.142 1.49.7 2.58 1.761 3.154 3.07.797 1.82.871 4.79-1.548 7.158-1.85 1.81-4.094 2.628-7.277 2.65Zm1.003-11.69c-.242 0-.487.007-.739.021-1.836.103-2.98.946-2.916 2.143.067 1.256 1.452 1.839 2.784 1.767 1.224-.065 2.818-.543 3.086-3.71a10.5 10.5 0 0 0-2.215-.221z"})]})}),bse="#000000",xse=T.forwardRef(function({title:e="X",color:r="currentColor",size:n=24,...i},s){return r==="default"&&(r=bse),l.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:n,height:n,fill:r,viewBox:"0 0 24 24",ref:s,...i,children:[l.jsx("title",{children:e}),l.jsx("path",{d:"M18.901 1.153h3.68l-8.04 9.19L24 22.846h-7.406l-5.8-7.584-6.638 7.584H.474l8.6-9.83L0 1.154h7.594l5.243 6.932ZM17.61 20.644h2.039L6.486 3.24H4.298Z"})]})}),wse={Phone:dO,Mail:cO,Users:Di,Coffee:aK,Utensils:gK,FileText:uO,Circle:Oj};function _se({timeline:t,onEdit:e,onDelete:r,onToggleTodo:n,personId:i,allPeople:s=[]}){const a=T.useMemo(()=>ese(t||[]),[t]),o=f=>s.find(p=>p.id.toString()===f.toString()),u=f=>{if(f.type==="todo")return f.is_completed?Cj:yu;if(f.type==="activity"&&f.activity_type){const p=rse(f.activity_type);return wse[p]||Oj}return f.type==="note"?uO:Oj},c=f=>{const p=u(f),m=f.type==="todo",y=f.type==="activity";f.type;const x=f.activity_date||f.created,g=tse(x),v=ise(f),w=m&&nh(f);return l.jsxs("div",{className:`relative ${m?"pl-0":"pl-8"} pb-6 group`,children:[!m&&l.jsx("div",{className:"absolute left-0 top-1",children:l.jsx("div",{className:`w-4 h-4 rounded-full border-2 ${y?"bg-blue-500 border-blue-500":"bg-gray-400 border-gray-400"}`})}),l.jsx("div",{className:`${v}`,children:l.jsxs("div",{className:"flex items-start justify-between",children:[l.jsxs("div",{className:"flex-1 min-w-0",children:[!m&&l.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[l.jsx(p,{className:`w-4 h-4 flex-shrink-0 ${y?"text-blue-600":"text-gray-500"}`}),y&&f.activity_type&&l.jsx("span",{className:"text-xs font-medium text-gray-600",children:nse(f.activity_type)}),l.jsx("span",{className:"text-xs text-gray-400",children:""}),l.jsx("span",{className:"text-xs text-gray-500",children:g})]}),l.jsxs("div",{className:"flex items-start gap-2",children:[m&&l.jsx("button",{onClick:()=>n&&n(f),className:"mt-0.5 flex-shrink-0",title:f.is_completed?"Mark as incomplete":"Mark as complete",children:f.is_completed?l.jsx(Cj,{className:`w-5 h-5 ${w?"text-red-600":"text-primary-600"}`}):l.jsx(yu,{className:`w-5 h-5 ${w?"text-red-600":"text-gray-400"}`})}),l.jsx("p",{className:`text-sm flex-1 ${f.is_completed?"line-through opacity-60":""}`,children:f.content})]}),y&&f.participants&&f.participants.length>0&&l.jsxs("div",{className:"mt-2 flex flex-wrap items-center gap-2",children:[l.jsx("span",{className:"text-xs text-gray-500",children:"With:"}),f.participants.map(b=>{const _=o(b);return _?l.jsxs(he,{to:`/people/${b}`,className:"inline-flex items-center gap-1 text-xs text-primary-600 hover:text-primary-700 hover:underline",children:[l.jsx(lK,{className:"w-3 h-3"}),_.name]},b):null})]}),m&&f.due_date&&l.jsx("div",{className:"mt-2",children:l.jsxs("span",{className:`text-xs ${w?"text-red-600 font-medium":"text-gray-500"}`,children:["Due: ",sn(new Date(f.due_date),"MMM d, yyyy"),w&&" (overdue)"]})})]}),l.jsxs("div",{className:"flex items-center gap-1 opacity-0 group-hover:opacity-100 transition-opacity ml-2",children:[e&&l.jsx("button",{onClick:()=>e(f),className:"p-1 hover:bg-gray-100 rounded",title:"Edit",children:l.jsx(Ua,{className:"w-4 h-4 text-gray-400 hover:text-gray-600"})}),r&&l.jsx("button",{onClick:()=>r(f),className:"p-1 hover:bg-red-50 rounded",title:"Delete",children:l.jsx(Bn,{className:"w-4 h-4 text-gray-400 hover:text-red-600"})})]})]})})]},f.id)},d=(f,p)=>!p||p.length===0?null:l.jsxs("div",{className:"mb-6",children:[l.jsx("h3",{className:"text-sm font-semibold text-gray-700 mb-3 uppercase tracking-wide",children:f}),l.jsx("div",{className:"relative pl-4 border-l-2 border-gray-200",children:p.map(c)})]});return a.today.length>0||a.yesterday.length>0||a.thisWeek.length>0||a.older.length>0?l.jsxs("div",{className:"space-y-6",children:[d("Today",a.today),d("Yesterday",a.yesterday),d("This week",a.thisWeek),d("Older",a.older)]}):l.jsx("div",{className:"text-center py-8",children:l.jsx("p",{className:"text-sm text-gray-500",children:"No timeline items yet."})})}function Sse({isOpen:t,onClose:e,onSubmit:r,isLoading:n}){const[i,s]=T.useState("");if(!t)return null;const a=u=>{u.preventDefault(),i.trim()&&(r(i),s(""))},o=()=>{s(""),e()};return l.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50",children:l.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-md mx-4",children:[l.jsxs("div",{className:"flex items-center justify-between p-4 border-b",children:[l.jsx("h2",{className:"text-lg font-semibold",children:"Add note"}),l.jsx("button",{onClick:o,className:"text-gray-400 hover:text-gray-600",disabled:n,children:l.jsx(Vr,{className:"w-5 h-5"})})]}),l.jsxs("form",{onSubmit:a,className:"p-4",children:[l.jsxs("div",{className:"mb-4",children:[l.jsx("label",{htmlFor:"note-content",className:"block text-sm font-medium text-gray-700 mb-2",children:"Note"}),l.jsx("textarea",{id:"note-content",value:i,onChange:u=>s(u.target.value),rows:6,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent",placeholder:"Enter your note...",disabled:n,autoFocus:!0})]}),l.jsxs("div",{className:"flex justify-end gap-2",children:[l.jsx("button",{type:"button",onClick:o,className:"btn-secondary",disabled:n,children:"Cancel"}),l.jsx("button",{type:"submit",className:"btn-primary",disabled:n||!i.trim(),children:n?"Adding...":"Add note"})]})]})]})})}const Tv=[{id:"call",label:"Phone call",icon:dO},{id:"email",label:"Email",icon:cO},{id:"chat",label:"Chat",icon:uK},{id:"meeting",label:"Meeting",icon:Di},{id:"coffee",label:"Coffee",icon:aK},{id:"lunch",label:"Lunch",icon:gK},{id:"note",label:"Other",icon:uO}];function Ese({isOpen:t,onClose:e,onSubmit:r,isLoading:n,personId:i}){const[s,a]=T.useState("call"),[o,u]=T.useState(""),[c,d]=T.useState(""),[h,f]=T.useState([]),[p,m]=T.useState(!1),[y,x]=T.useState(""),{data:g}=Wo();if(T.useEffect(()=>{if(t){const P=new Date().toISOString().split("T")[0];u(P),d(""),f([]),a("call")}},[t]),!t)return null;const v=(g||[]).filter(P=>P.id.toString()!==(i==null?void 0:i.toString())),w=v.filter(P=>{var O;return(O=P.name)==null?void 0:O.toLowerCase().includes(y.toLowerCase())}),b=P=>{P.preventDefault(),c.trim()&&(r({activity_type:s,activity_date:o||null,content:c.trim(),participants:h}),d(""),f([]),u(new Date().toISOString().split("T")[0]))},_=()=>{d(""),f([]),u(""),m(!1),x(""),e()},E=P=>{f(O=>O.includes(P)?O.filter(I=>I!==P):[...O,P])},N=P=>{f(O=>O.filter(I=>I!==P))},S=()=>v.filter(P=>h.includes(P.id)),j=P=>{if(!P)return"";try{return new Date(P).toISOString().split("T")[0]}catch{return""}};return(Tv.find(P=>P.id===s)||Tv[0]).icon,l.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50",children:l.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-md mx-4 max-h-[90vh] overflow-y-auto",children:[l.jsxs("div",{className:"flex items-center justify-between p-4 border-b sticky top-0 bg-white z-10",children:[l.jsx("h2",{className:"text-lg font-semibold",children:"Add activity"}),l.jsx("button",{onClick:_,className:"text-gray-400 hover:text-gray-600",disabled:n,children:l.jsx(Vr,{className:"w-5 h-5"})})]}),l.jsxs("form",{onSubmit:b,className:"p-4",children:[l.jsxs("div",{className:"mb-4",children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Activity type"}),l.jsx("div",{className:"grid grid-cols-3 gap-2",children:Tv.map(P=>{const O=P.icon,I=s===P.id;return l.jsxs("button",{type:"button",onClick:()=>a(P.id),className:`flex flex-col items-center justify-center p-3 border-2 rounded-lg transition-colors ${I?"border-primary-600 bg-primary-50 text-primary-700":"border-gray-200 hover:border-gray-300 text-gray-700"}`,disabled:n,children:[l.jsx(O,{className:"w-5 h-5 mb-1"}),l.jsx("span",{className:"text-xs",children:P.label})]},P.id)})})]}),l.jsxs("div",{className:"mb-4",children:[l.jsx("label",{htmlFor:"activity-date",className:"block text-sm font-medium text-gray-700 mb-2",children:"Date"}),l.jsx("input",{id:"activity-date",type:"date",value:j(o),onChange:P=>u(P.target.value||""),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent",disabled:n})]}),l.jsxs("div",{className:"mb-4",children:[l.jsx("label",{htmlFor:"activity-content",className:"block text-sm font-medium text-gray-700 mb-2",children:"Description"}),l.jsx("textarea",{id:"activity-content",value:c,onChange:P=>d(P.target.value),rows:4,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent",placeholder:"What happened?",disabled:n,autoFocus:!0})]}),l.jsxs("div",{className:"mb-4",children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Participants (optional)"}),S().length>0&&l.jsx("div",{className:"flex flex-wrap gap-2 mb-2",children:S().map(P=>l.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 bg-primary-100 text-primary-700 rounded-full text-sm",children:[P.name,l.jsx("button",{type:"button",onClick:()=>N(P.id),className:"hover:text-primary-900",disabled:n,children:l.jsx(Vr,{className:"w-3 h-3"})})]},P.id))}),l.jsxs("div",{className:"relative",children:[l.jsx("button",{type:"button",onClick:()=>m(!p),className:"w-full px-3 py-2 border border-gray-300 rounded-md text-left text-sm text-gray-500 hover:border-gray-400",disabled:n,children:h.length===0?"Add participants...":"Add more participants..."}),p&&l.jsxs("div",{className:"absolute z-20 w-full mt-1 bg-white border border-gray-300 rounded-md shadow-lg max-h-60 overflow-y-auto",children:[l.jsx("div",{className:"p-2 border-b",children:l.jsx("input",{type:"text",placeholder:"Search people...",value:y,onChange:P=>x(P.target.value),className:"w-full px-2 py-1 text-sm border border-gray-300 rounded",autoFocus:!0})}),l.jsx("div",{className:"max-h-48 overflow-y-auto",children:w.length===0?l.jsx("div",{className:"p-3 text-sm text-gray-500 text-center",children:"No people found"}):w.map(P=>{var I;const O=h.includes(P.id);return l.jsxs("button",{type:"button",onClick:()=>E(P.id),className:`w-full px-3 py-2 text-left text-sm hover:bg-gray-50 flex items-center gap-2 ${O?"bg-primary-50":""}`,children:[l.jsx("input",{type:"checkbox",checked:O,onChange:()=>{},className:"mr-1"}),P.thumbnail?l.jsx("img",{src:P.thumbnail,alt:P.name,className:"w-6 h-6 rounded-full"}):l.jsx("div",{className:"w-6 h-6 bg-gray-200 rounded-full flex items-center justify-center",children:l.jsx("span",{className:"text-xs text-gray-500",children:((I=P.first_name)==null?void 0:I[0])||"?"})}),l.jsx("span",{children:P.name})]},P.id)})})]})]})]}),l.jsxs("div",{className:"flex justify-end gap-2",children:[l.jsx("button",{type:"button",onClick:_,className:"btn-secondary",disabled:n,children:"Cancel"}),l.jsx("button",{type:"submit",className:"btn-primary",disabled:n||!c.trim(),children:n?"Adding...":"Add activity"})]})]})]})})}function DK({isOpen:t,onClose:e,onSubmit:r,isLoading:n,todo:i=null}){const[s,a]=T.useState(""),[o,u]=T.useState(""),[c,d]=T.useState(!1),h=()=>new Date().toISOString().split("T")[0];if(T.useEffect(()=>{i?(a(i.content||""),u(i.due_date||""),d(i.is_completed||!1)):(a(""),u(h()),d(!1))},[i,t]),!t)return null;const f=y=>{y.preventDefault(),s.trim()&&(r({content:s.trim(),due_date:o||null,is_completed:c}),i||(a(""),u(h()),d(!1)))},p=()=>{i||(a(""),u(h()),d(!1)),e()},m=y=>{if(!y)return"";try{return new Date(y).toISOString().split("T")[0]}catch{return""}};return l.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50",children:l.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-md mx-4",children:[l.jsxs("div",{className:"flex items-center justify-between p-4 border-b",children:[l.jsx("h2",{className:"text-lg font-semibold",children:i?"Edit todo":"Add todo"}),l.jsx("button",{onClick:p,className:"text-gray-400 hover:text-gray-600",disabled:n,children:l.jsx(Vr,{className:"w-5 h-5"})})]}),l.jsxs("form",{onSubmit:f,className:"p-4",children:[l.jsxs("div",{className:"mb-4",children:[l.jsx("label",{htmlFor:"todo-content",className:"block text-sm font-medium text-gray-700 mb-2",children:"Description"}),l.jsx("textarea",{id:"todo-content",value:s,onChange:y=>a(y.target.value),rows:4,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent",placeholder:"What needs to be done?",disabled:n,autoFocus:!0})]}),l.jsxs("div",{className:"mb-4",children:[l.jsx("label",{htmlFor:"todo-due-date",className:"block text-sm font-medium text-gray-700 mb-2",children:"Due date (optional)"}),l.jsx("input",{id:"todo-due-date",type:"date",value:m(o),onChange:y=>u(y.target.value||""),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent",disabled:n})]}),i&&l.jsx("div",{className:"mb-4",children:l.jsxs("label",{className:"flex items-center",children:[l.jsx("input",{type:"checkbox",checked:c,onChange:y=>d(y.target.checked),className:"mr-2",disabled:n}),l.jsx("span",{className:"text-sm text-gray-700",children:"Completed"})]})}),l.jsxs("div",{className:"flex justify-end gap-2",children:[l.jsx("button",{type:"button",onClick:p,className:"btn-secondary",disabled:n,children:"Cancel"}),l.jsx("button",{type:"submit",className:"btn-primary",disabled:n||!s.trim(),children:n?i?"Saving...":"Adding...":i?"Save":"Add todo"})]})]})]})})}function Ui(t){return t?String(t).replace(/\\/g,"\\\\").replace(/;/g,"\\;").replace(/,/g,"\\,").replace(/\n/g,"\\n"):""}function Nse(t){return t?t.replace(/[^\d+]/g,""):""}function YI(t){if(!t)return"";const e=new Date(t);if(isNaN(e.getTime()))return"";const r=e.getFullYear(),n=String(e.getMonth()+1).padStart(2,"0"),i=String(e.getDate()).padStart(2,"0");return`${r}${n}${i}`}function jse(t,e={}){if(!t||!Array.isArray(t))return{title:"",org:""};const r=t.find(i=>i.is_current);if(r){const i=r.company&&e[r.company]?e[r.company].name||e[r.company]:"";return{title:r.job_title||"",org:i}}const n=[...t].filter(i=>i.start_date).sort((i,s)=>new Date(s.start_date)-new Date(i.start_date));if(n.length>0){const i=n[0].company&&e[n[0].company]?e[n[0].company].name||e[n[0].company]:"";return{title:n[0].job_title||"",org:i}}return{title:"",org:""}}function Cse(t,e={}){if(!t)throw new Error("Person data is required");const{companyMap:r={},personDates:n=[]}=e,i=t.acf||{},s=[];s.push("BEGIN:VCARD"),s.push("VERSION:3.0");const a=i.first_name||"",o=i.last_name||"",u=t.name||`${a} ${o}`.trim()||"Unknown";s.push(`FN:${Ui(u)}`),s.push(`N:${Ui(o)};${Ui(a)};;;`),i.nickname&&s.push(`NICKNAME:${Ui(i.nickname)}`),i.contact_info&&Array.isArray(i.contact_info)&&i.contact_info.forEach(h=>{if(!h.contact_value)return;const f=Ui(h.contact_value),p=h.contact_label?Ui(h.contact_label):"";switch(h.contact_type){case"email":const m=p?`EMAIL;TYPE=INTERNET,${p.toUpperCase()}`:"EMAIL;TYPE=INTERNET";s.push(`${m}:${f}`);break;case"phone":case"mobile":const y=h.contact_type==="mobile"?"CELL":"VOICE",x=p?`TEL;TYPE=${y},${p.toUpperCase()}`:`TEL;TYPE=${y}`,g=Nse(h.contact_value);g&&s.push(`${x}:${g}`);break;case"address":s.push(`ADR;TYPE=HOME:;;${f};;;;`);break;case"website":case"linkedin":case"twitter":case"instagram":case"facebook":let v=h.contact_value;v.match(/^https?:\/\//i)||(v=`https://${v}`);const w=h.contact_type==="linkedin"?"PROFILE":"WORK",b=p?`URL;TYPE=${w},${p.toUpperCase()}`:`URL;TYPE=${w}`;s.push(`${b}:${Ui(v)}`);break}});const{title:c,org:d}=jse(i.work_history,r);if(d&&s.push(`ORG:${Ui(d)}`),c&&s.push(`TITLE:${Ui(c)}`),n&&Array.isArray(n)){const h=n.find(f=>{const p=Array.isArray(f.date_type)?f.date_type[0]:f.date_type;return(p==null?void 0:p.toLowerCase())==="birthday"});if(h!=null&&h.date_value){const f=YI(h.date_value);f&&s.push(`BDAY:${f}`)}}if(t.thumbnail,t.modified){const h=YI(t.modified);h&&s.push(`REV:${h}T000000Z`)}return s.push("END:VCARD"),s.join(`\r
`)}function Ose(t,e={}){const{filename:r,...n}=e,i=Cse(t,n),s=new Blob([i],{type:"text/vcard;charset=utf-8"}),a=URL.createObjectURL(s),o=document.createElement("a");o.href=a,o.download=r||`${t.name||"contact"}.vcf`.replace(/[^a-z0-9.-]/gi,"_"),document.body.appendChild(o),o.click(),document.body.removeChild(o),URL.revokeObjectURL(a)}const Pse=({className:t})=>l.jsx("svg",{className:t,viewBox:"0 0 382 382",xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",children:l.jsx("path",{d:`M347.445,0H34.555C15.471,0,0,15.471,0,34.555v312.889C0,366.529,15.471,382,34.555,382h312.889
      C366.529,382,382,366.529,382,347.444V34.555C382,15.471,366.529,0,347.445,0z M118.207,329.844c0,5.554-4.502,10.056-10.056,10.056
      H65.345c-5.554,0-10.056-4.502-10.056-10.056V150.403c0-5.554,4.502-10.056,10.056-10.056h42.806
      c5.554,0,10.056,4.502,10.056,10.056V329.844z M86.748,123.432c-22.459,0-40.666-18.207-40.666-40.666S64.289,42.1,86.748,42.1
      s40.666,18.207,40.666,40.666S109.208,123.432,86.748,123.432z M341.91,330.654c0,5.106-4.14,9.246-9.246,9.246H286.73
      c-5.106,0-9.246-4.14-9.246-9.246v-84.168c0-12.556,3.683-55.021-32.813-55.021c-28.309,0-34.051,29.066-35.204,42.11v97.079
      c0,5.106-4.139,9.246-9.246,9.246h-44.426c-5.106,0-9.246-4.14-9.246-9.246V149.593c0-5.106,4.14-9.246,9.246-9.246h44.426
      c5.106,0,9.246,4.14,9.246,9.246v15.655c10.497-15.753,26.097-27.912,59.312-27.912c73.552,0,73.131,68.716,73.131,106.472
      L341.91,330.654L341.91,330.654z`})});function df(t){if(!t)return null;switch(t){case"male":return"";case"female":return"";case"non_binary":case"other":case"prefer_not_to_say":return"";default:return null}}function Tse(){var CP,OP,PP,TP,IP,RP,$P,kP,DP,MP,qP,AP,FP,LP;const{id:t}=Ss(),e=Qr(),r=ut(),{data:n,isLoading:i,error:s}=qu(t),{data:a}=nne(t),{data:o}=ine(t),u=ane(),c=lne(),d=fne(),h=th(),f=one(),p=une(),m=_K(),y=dne(),x=cne(),g=hne(),{data:v}=Wo(),[w,b]=T.useState(!1),[_,E]=T.useState(""),[N,S]=T.useState(!1),j=T.useRef(null),[C,P]=T.useState(!1),[O,I]=T.useState(!1),[M,k]=T.useState(!1),[H,W]=T.useState(null),{data:A}=rt({queryKey:["person-labels"],queryFn:async()=>(await Ae.getPersonLabels()).data}),K=A||[],U=(n==null?void 0:n.labels)||[],z=((TP=(PP=(OP=(CP=n==null?void 0:n._embedded)==null?void 0:CP["wp:term"])==null?void 0:OP.flat())==null?void 0:PP.filter(D=>(D==null?void 0:D.taxonomy)==="person_label"))==null?void 0:TP.map(D=>D.id))||[],G=K.filter(D=>!U.includes(D.name));vn((n==null?void 0:n.name)||((IP=n==null?void 0:n.title)==null?void 0:IP.rendered)||(n==null?void 0:n.title)||"Person");const ce=o==null?void 0:o.find(D=>{const X=Array.isArray(D.date_type)?D.date_type[0]:D.date_type;return(X==null?void 0:X.toLowerCase())==="birthday"}),ve=ce!=null&&ce.date_value?new Date(ce.date_value):null,Ie=o==null?void 0:o.find(D=>{const X=Array.isArray(D.date_type)?D.date_type[0]:D.date_type;return(X==null?void 0:X.toLowerCase())==="died"}),me=Ie!=null&&Ie.date_value?new Date(Ie.date_value):null,Ee=!!me,ke=ve?Cv(Ee?me:new Date,ve):null,tt=o?[...o].sort((D,X)=>{const Y=D.date_value?new Date(D.date_value):new Date(0),Te=X.date_value?new Date(X.date_value):new Date(0);return Y-Te}):[],Ut=async()=>{if(window.confirm("Are you sure you want to delete this person?"))try{await u.mutateAsync(t),e("/people")}catch(D){console.error("Failed to delete person:",D),alert("Failed to delete person. Please try again.")}},ht=D=>{if(!D)return"";let X=D.replace(/[\u200B-\u200D\uFEFF\u200E\u200F\u202A-\u202E]/g,"");const Y=X.startsWith("+");return X=X.replace(/\D/g,""),Y?`+${X}`:X},J=async D=>{var Te;if(!window.confirm("Are you sure you want to delete this contact detail?"))return;const X=[...((Te=n.acf)==null?void 0:Te.contact_info)||[]];X.splice(D,1);const Y=Ya(n.acf,{contact_info:X});await h.mutateAsync({id:t,data:{acf:Y}})},Ne=async D=>{var Ma,ei,Bi,fc,BP,zP;if(!window.confirm("Are you sure you want to delete this relationship?"))return;const X=(ei=(Ma=n.acf)==null?void 0:Ma.relationships)==null?void 0:ei[D];if(!X)return;const Y=X.related_person,Te=X.relationship_type;let Ve=!0;Y&&Te&&(Ve=window.confirm("Do you also want to delete the inverse relationship from the other person?"));let it=null;if(!Ve&&Y&&Te)try{const[xi,Bh]=await Promise.all([Ae.getPerson(Y,{_embed:!0}),Ae.getRelationshipTypes()]),Gm={};Bh.data.forEach(pc=>{Gm[pc.id]=pc});const kn=Gm[Te],qa=(Bi=kn==null?void 0:kn.acf)==null?void 0:Bi.inverse_relationship_type;if(qa){const mc=(((fc=xi.data.acf)==null?void 0:fc.relationships)||[]).find(zi=>{var UP,WP;const GQ=typeof zi.related_person=="object"?(UP=zi.related_person)==null?void 0:UP.ID:zi.related_person,YQ=typeof zi.relationship_type=="object"?(WP=zi.relationship_type)==null?void 0:WP.term_id:zi.relationship_type;return GQ===parseInt(t)&&YQ===qa});mc&&(it={related_person:parseInt(t),relationship_type:qa,relationship_label:mc.relationship_label||""})}}catch(xi){console.error("Failed to fetch inverse relationship:",xi)}const ft=[...((BP=n.acf)==null?void 0:BP.relationships)||[]];ft.splice(D,1);const cl=Ya(n.acf,{relationships:ft});if(await h.mutateAsync({id:t,data:{acf:cl}}),!Ve&&it&&Y){await new Promise(xi=>setTimeout(xi,500));try{const xi=await Ae.getPerson(Y,{_embed:!0}),Bh=((zP=xi.data.acf)==null?void 0:zP.relationships)||[];if(!Bh.some(kn=>{var mc,zi;const qa=typeof kn.related_person=="object"?(mc=kn.related_person)==null?void 0:mc.ID:kn.related_person,pc=typeof kn.relationship_type=="object"?(zi=kn.relationship_type)==null?void 0:zi.term_id:kn.relationship_type;return qa===it.related_person&&pc===it.relationship_type})){const kn=[...Bh,it],qa=Ya(xi.data.acf,{relationships:kn});await Ae.updatePerson(Y,{acf:qa})}}catch(xi){console.error("Failed to restore inverse relationship:",xi)}}r.invalidateQueries({queryKey:["person",t]}),Y&&r.invalidateQueries({queryKey:["person",Y]}),r.invalidateQueries({queryKey:["people"]})},Fe=async D=>{window.confirm("Are you sure you want to delete this important date?")&&await d.mutateAsync({dateId:D,personId:t})},Ge=async D=>{window.confirm("Are you sure you want to delete this note?")&&await c.mutateAsync({noteId:D,personId:t})},Wt=async D=>{try{await f.mutateAsync({personId:t,content:D}),P(!1)}catch(X){console.error("Failed to create note:",X),alert("Failed to create note. Please try again.")}},Ce=async D=>{try{await p.mutateAsync({personId:t,data:D}),I(!1)}catch(X){console.error("Failed to create activity:",X),alert("Failed to create activity. Please try again.")}},We=async D=>{try{await m.mutateAsync({personId:t,data:D}),k(!1),W(null)}catch(X){console.error("Failed to create todo:",X),alert("Failed to create todo. Please try again.")}},Et=async D=>{if(H)try{await y.mutateAsync({todoId:H.id,data:D,personId:t}),k(!1),W(null)}catch(X){console.error("Failed to update todo:",X),alert("Failed to update todo. Please try again.")}},Nt=async D=>{try{await y.mutateAsync({todoId:D.id,data:{content:D.content,due_date:D.due_date,is_completed:!D.is_completed},personId:t})}catch(X){console.error("Failed to toggle todo:",X),alert("Failed to update todo. Please try again.")}},$=async D=>{window.confirm("Are you sure you want to delete this activity?")&&await x.mutateAsync({activityId:D,personId:t})},q=async D=>{window.confirm("Are you sure you want to delete this todo?")&&await g.mutateAsync({todoId:D,personId:t})},L=D=>{D.type==="todo"&&(W(D),k(!0))},se=D=>{D.type==="note"?Ge(D.id):D.type==="activity"?$(D.id):D.type==="todo"&&q(D.id)},ee=async D=>{var Te;if(!window.confirm("Are you sure you want to delete this work history item?"))return;const X=[...((Te=n.acf)==null?void 0:Te.work_history)||[]];X.splice(D,1);const Y=Ya(n.acf,{work_history:X});await h.mutateAsync({id:t,data:{acf:Y}})},Q=async D=>{var Te,Ve,it;const X=(it=(Ve=(Te=n==null?void 0:n._embedded)==null?void 0:Te["wp:term"])==null?void 0:Ve.flat())==null?void 0:it.find(ft=>(ft==null?void 0:ft.taxonomy)==="person_label"&&(ft==null?void 0:ft.name)===D);if(!X)return;const Y=z.filter(ft=>ft!==X.id);await h.mutateAsync({id:t,data:{person_label:Y}})},V=async()=>{if(!_)return;const D=K.find(Y=>Y.id.toString()===_);if(!D)return;const X=[...z,D.id];await h.mutateAsync({id:t,data:{person_label:X}}),E(""),b(!1)},le=async D=>{var Y;const X=(Y=D.target.files)==null?void 0:Y[0];if(X){if(!X.type.startsWith("image/")){alert("Please select an image file");return}if(X.size>5*1024*1024){alert("Image size must be less than 5MB");return}S(!0);try{await qe.uploadPersonPhoto(t,X),r.invalidateQueries({queryKey:["person",t]}),r.invalidateQueries({queryKey:["people"]})}catch(Te){console.error("Failed to upload photo:",Te),alert("Failed to upload photo. Please try again.")}finally{S(!1),j.current&&(j.current.value="")}}},pe=()=>{if(n)try{Ose(n,{companyMap:Jr,personDates:o||[]})}catch(D){console.error("Failed to export vCard:",D),alert("Failed to export vCard. Please try again.")}},Ye=(($P=(RP=n==null?void 0:n.acf)==null?void 0:RP.work_history)==null?void 0:$P.map(D=>D.company).filter(Boolean))||[],be=vp({queries:Ye.map(D=>({queryKey:["company",D],queryFn:async()=>(await Ae.getCompany(D,{_embed:!0})).data,enabled:!!D}))}),Z=((DP=(kP=n==null?void 0:n.acf)==null?void 0:kP.relationships)==null?void 0:DP.map(D=>D.related_person).filter(Boolean))||[],ue=vp({queries:Z.map(D=>({queryKey:["person-dates",D],queryFn:async()=>(await qe.getPersonDates(D)).data,enabled:!!D}))}),oe=T.useMemo(()=>{const D={};return ue.forEach((X,Y)=>{if(X.data&&Z[Y]){const Te=Z[Y],Ve=X.data.find(it=>{const ft=Array.isArray(it.date_type)?it.date_type[0]:it.date_type;return(ft==null?void 0:ft.toLowerCase())==="birthday"});if(Ve!=null&&Ve.date_value){const it=new Date(Ve.date_value);D[Te]=Cv(new Date,it)}else D[Te]=-1}}),D},[ue,Z]),_e=T.useMemo(()=>{const D={};return ue.forEach((X,Y)=>{if(X.data&&Z[Y]){const Te=Z[Y],Ve=X.data.some(it=>{const ft=Array.isArray(it.date_type)?it.date_type[0]:it.date_type;return(ft==null?void 0:ft.toLowerCase())==="died"});D[Te]=Ve}}),D},[ue,Z]),Le=T.useMemo(()=>{var D;return(D=n==null?void 0:n.acf)!=null&&D.relationships?[...n.acf.relationships].sort((X,Y)=>{const Te=oe[X.related_person]??-1,Ve=oe[Y.related_person]??-1;return Te===-1&&Ve===-1?0:Te===-1?1:Ve===-1?-1:Ve-Te}):[]},[(MP=n==null?void 0:n.acf)==null?void 0:MP.relationships,oe]),Jr={};be.forEach((D,X)=>{var Y,Te,Ve,it,ft,cl,Ma,ei,Bi;if(D.data){const fc=Ye[X];Jr[fc]={name:qt(D.data),logo:((Ve=(Te=(Y=D.data._embedded)==null?void 0:Y["wp:featuredmedia"])==null?void 0:Te[0])==null?void 0:Ve.source_url)||((Bi=(ei=(Ma=(cl=(ft=(it=D.data._embedded)==null?void 0:it["wp:featuredmedia"])==null?void 0:ft[0])==null?void 0:cl.media_details)==null?void 0:Ma.sizes)==null?void 0:ei.thumbnail)==null?void 0:Bi.source_url)||null}}});const $n=T.useMemo(()=>{var D;return(D=n==null?void 0:n.acf)!=null&&D.work_history?[...n.acf.work_history].map((X,Y)=>({...X,originalIndex:Y})).sort((X,Y)=>{if(X.is_current&&!Y.is_current)return-1;if(!X.is_current&&Y.is_current)return 1;const Te=X.start_date?new Date(X.start_date):new Date(0);return(Y.start_date?new Date(Y.start_date):new Date(0))-Te}):[]},[(qP=n==null?void 0:n.acf)==null?void 0:qP.work_history]),hc=T.useMemo(()=>a?a.filter(X=>X.type==="todo").sort((X,Y)=>{if(X.is_completed&&!Y.is_completed)return 1;if(!X.is_completed&&Y.is_completed)return-1;if(!X.is_completed&&!Y.is_completed){if(X.due_date&&Y.due_date)return new Date(X.due_date)-new Date(Y.due_date);if(X.due_date&&!Y.due_date)return-1;if(!X.due_date&&Y.due_date)return 1}return new Date(Y.created)-new Date(X.created)}):[],[a]);if(T.useEffect(()=>{(n==null?void 0:n.status)==="trash"&&e("/people",{replace:!0})},[n,e]),i)return l.jsx("div",{className:"flex items-center justify-center h-64",children:l.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"})});if(s||!n)return l.jsxs("div",{className:"card p-6 text-center",children:[l.jsx("p",{className:"text-red-600",children:"Failed to load person."}),l.jsx(he,{to:"/people",className:"btn-secondary mt-4",children:"Back to people"})]});if(n.status==="trash")return null;const Pr=n.acf||{},Km=["facebook","linkedin","instagram","twitter","bluesky","threads","website"],VQ=((AP=Pr.contact_info)==null?void 0:AP.filter(D=>Km.includes(D.contact_type)))||[],NP={linkedin:1,twitter:2,bluesky:3,threads:4,instagram:5,facebook:6,website:7},jP=[...VQ].sort((D,X)=>{const Y=NP[D.contact_type]||99,Te=NP[X.contact_type]||99;return Y-Te}),HQ=D=>{switch(D){case"facebook":return pse;case"linkedin":return Pse;case"instagram":return vse;case"twitter":return xse;case"bluesky":return hse;case"threads":return yse;case"website":return qf;default:return qf}},KQ=D=>{switch(D){case"facebook":return"text-[#1877F2]";case"linkedin":return"text-[#0077B7]";case"instagram":return"text-[#E4405F]";case"twitter":return"text-[#1DA1F2]";case"bluesky":return"text-[#00A8E8]";case"threads":return"text-[#000000]";case"website":return"text-gray-600";default:return"text-gray-600"}};return l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs(he,{to:"/people",className:"flex items-center text-gray-600 hover:text-gray-900",children:[l.jsx(Cn,{className:"w-4 h-4 md:mr-2"}),l.jsx("span",{className:"hidden md:inline",children:"Back to people"})]}),l.jsxs("div",{className:"flex gap-2",children:[l.jsxs("button",{onClick:pe,className:"btn-secondary",children:[l.jsx(Pj,{className:"w-4 h-4 md:mr-2"}),l.jsx("span",{className:"hidden md:inline",children:"Export vCard"})]}),l.jsxs(he,{to:`/people/${t}/edit`,className:"btn-secondary",children:[l.jsx(pK,{className:"w-4 h-4 md:mr-2"}),l.jsx("span",{className:"hidden md:inline",children:"Edit"})]}),l.jsxs("button",{onClick:Ut,className:"btn-danger",children:[l.jsx(Bn,{className:"w-4 h-4 md:mr-2"}),l.jsx("span",{className:"hidden md:inline",children:"Delete"})]})]})]}),l.jsxs("div",{className:"card p-6 relative",children:[l.jsx("div",{className:"absolute top-4 right-4",children:l.jsx(he,{to:`/people/${t}/family-tree`,className:"btn-secondary text-sm",children:"View family tree"})}),l.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center gap-4",children:[l.jsxs("div",{className:"relative group",children:[n.thumbnail?l.jsx("img",{src:n.thumbnail,alt:n.name,className:"w-28 h-28 rounded-full object-cover"}):l.jsx("div",{className:"w-28 h-28 bg-gray-200 rounded-full flex items-center justify-center",children:l.jsx("span",{className:"text-3xl font-medium text-gray-500",children:((FP=n.first_name)==null?void 0:FP[0])||"?"})}),l.jsx("div",{className:"absolute inset-0 rounded-full bg-black bg-opacity-0 group-hover:bg-opacity-50 transition-all duration-200 flex items-center justify-center cursor-pointer",onClick:()=>{var D;return(D=j.current)==null?void 0:D.click()},children:N?l.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-white"}):l.jsx(Mf,{className:"w-6 h-6 text-white opacity-0 group-hover:opacity-100 transition-opacity"})}),l.jsx("input",{ref:j,type:"file",accept:"image/*",onChange:le,className:"hidden",disabled:N})]}),l.jsxs("div",{className:"flex-1 space-y-3",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsxs("h1",{className:"text-2xl font-bold",children:[n.name,Ee&&l.jsx("span",{className:"ml-1 text-gray-500",children:""})]}),n.is_favorite&&l.jsx(bu,{className:"w-5 h-5 text-yellow-400 fill-current"})]}),Pr.nickname&&l.jsxs("p",{className:"text-gray-500",children:['"',Pr.nickname,'"']}),Ee&&me&&ke!==null&&l.jsxs("p",{className:"text-gray-500 text-sm",children:[df(Pr.gender)&&l.jsx("span",{className:"mr-1",children:df(Pr.gender)}),"Died ",sn(me,"MMMM d, yyyy")," at age ",ke]}),!Ee&&ke!==null&&l.jsxs("p",{className:"text-gray-500 text-sm",children:[df(Pr.gender)&&l.jsx("span",{className:"mr-1",children:df(Pr.gender)}),ke," years old"]}),l.jsxs("div",{children:[l.jsxs("div",{className:"flex flex-wrap gap-2 items-center",children:[n.labels&&n.labels.length>0&&n.labels.map((D,X)=>l.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 rounded-full text-xs font-medium bg-gray-100 text-gray-700 group/label",children:[D,l.jsx("button",{onClick:()=>Q(D),className:"opacity-0 group-hover/label:opacity-100 transition-opacity hover:bg-gray-200 rounded-full p-0.5",title:"Remove label",children:l.jsx(Vr,{className:"w-3 h-3"})})]},X)),w?l.jsxs("div",{className:"inline-flex items-center gap-2",children:[l.jsxs("select",{value:_,onChange:D=>E(D.target.value),className:"text-xs border border-gray-300 rounded px-2 py-1",autoFocus:!0,disabled:G.length===0,children:[l.jsx("option",{value:"",children:"Select a label..."}),G.map(D=>l.jsx("option",{value:D.id,children:D.name},D.id))]}),l.jsx("button",{onClick:V,disabled:!_,className:"text-xs px-2 py-1 bg-primary-600 text-white rounded hover:bg-primary-700 disabled:opacity-50 disabled:cursor-not-allowed",children:"Add"}),l.jsx("button",{onClick:()=>{b(!1),E("")},className:"text-xs px-2 py-1 bg-gray-200 text-gray-700 rounded hover:bg-gray-300",children:"Cancel"})]}):G.length>0&&l.jsxs("button",{onClick:()=>b(!0),className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-gray-100 text-gray-700 hover:bg-gray-200 transition-colors",children:[l.jsx(Vt,{className:"w-3 h-3 mr-1"}),"Add label"]})]}),jP.length>0&&l.jsx("div",{className:"flex items-center gap-3 mt-4",children:jP.map((D,X)=>{const Y=HQ(D.contact_type),Te=KQ(D.contact_type);let Ve=D.contact_value;return Ve.match(/^https?:\/\//i)||(Ve=`https://${Ve}`),l.jsx("a",{href:Ve,target:"_blank",rel:"noopener noreferrer",className:`flex-shrink-0 hover:opacity-80 transition-opacity ${Te}`,title:`${D.contact_type.charAt(0).toUpperCase()+D.contact_type.slice(1)}: ${D.contact_value}`,children:l.jsx(Y,{className:"w-5 h-5"})},X)})})]})]})]})]}),l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[l.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[!Ee&&l.jsxs("div",{className:"card p-6",children:[l.jsxs("div",{className:"flex items-center justify-between mb-4",children:[l.jsx("h2",{className:"font-semibold",children:"Contact information"}),l.jsxs(he,{to:`/people/${t}/contact/new`,className:"btn-secondary text-sm",children:[l.jsx(Vt,{className:"w-4 h-4 md:mr-1"}),l.jsx("span",{className:"hidden md:inline",children:"Add contact detail"})]})]}),((LP=Pr.contact_info)==null?void 0:LP.filter(D=>!Km.includes(D.contact_type)).length)>0?l.jsx("div",{className:"space-y-2",children:(()=>{const D={email:1,phone:2,mobile:2,address:3,other:4};return Pr.contact_info.filter(Y=>!Km.includes(Y.contact_type)).map((Y,Te)=>({...Y,originalIndex:Te})).sort((Y,Te)=>{const Ve=D[Y.contact_type]||99,it=D[Te.contact_type]||99;return Ve!==it?Ve-it:Y.originalIndex-Te.originalIndex}).map((Y,Te)=>{Pr.contact_info.indexOf(Y);const Ve=Y.contact_type==="email"?cO:Y.contact_type==="phone"||Y.contact_type==="mobile"?dO:Y.contact_type==="address"?Wre:qf,it=Y.contact_type==="email",ft=Y.contact_type==="phone"||Y.contact_type==="mobile",cl=Y.contact_type==="mobile",Ma=Y.contact_type==="address";let ei=null,Bi=null;return it?ei=`mailto:${Y.contact_value}`:ft?ei=`tel:${ht(Y.contact_value)}`:Ma&&(ei=`https://www.google.com/maps/search/?api=1&query=${encodeURIComponent(Y.contact_value)}`,Bi="_blank"),l.jsx("div",{className:"group",children:l.jsxs("div",{className:"flex items-center rounded-md -mx-2 px-2 py-1.5 group-hover:bg-gray-50 transition-colors",children:[l.jsx(Ve,{className:"w-4 h-4 text-gray-400 mr-3 flex-shrink-0"}),l.jsxs("div",{className:"flex-1 min-w-0 flex items-center gap-2",children:[l.jsxs("span",{className:"text-sm text-gray-500",children:[Y.contact_label||Y.contact_type,": "]}),ei?l.jsx("a",{href:ei,target:Bi||void 0,rel:Bi==="_blank"?"noopener noreferrer":void 0,className:"text-primary-600 hover:text-primary-700 hover:underline",children:Y.contact_value}):l.jsx("span",{children:Y.contact_value}),cl&&l.jsx("a",{href:`https://wa.me/${ht(Y.contact_value)}`,target:"_blank",rel:"noopener noreferrer",className:"flex-shrink-0 hover:opacity-80 transition-opacity",title:"Open WhatsApp",children:l.jsx(uK,{className:"w-4 h-4 text-[#25D366]"})})]}),l.jsxs("div",{className:"flex items-center gap-1 opacity-0 group-hover:opacity-100 transition-opacity ml-2",children:[l.jsx(he,{to:`/people/${t}/contact/${Y.originalIndex}/edit`,className:"p-1 hover:bg-gray-100 rounded",title:"Edit contact detail",children:l.jsx(Ua,{className:"w-4 h-4 text-gray-400 hover:text-gray-600"})}),l.jsx("button",{onClick:()=>J(Y.originalIndex),className:"p-1 hover:bg-red-50 rounded",title:"Delete contact detail",children:l.jsx(Bn,{className:"w-4 h-4 text-gray-400 hover:text-red-600"})})]})]})},Y.originalIndex)})})()}):l.jsx("p",{className:"text-sm text-gray-500 text-center py-4",children:"No contact information yet."})]}),l.jsxs("div",{className:"card p-6",children:[l.jsxs("div",{className:"flex items-center justify-between mb-4",children:[l.jsx("h2",{className:"font-semibold",children:"Events"}),l.jsxs(he,{to:`/dates/new?person=${t}`,className:"btn-secondary text-sm",children:[l.jsx(Vt,{className:"w-4 h-4 md:mr-1"}),l.jsx("span",{className:"hidden md:inline",children:"Add Important Date"})]})]}),tt.length>0?l.jsx("div",{className:"space-y-3",children:tt.map(D=>{const X=Array.isArray(D.date_type)?D.date_type[0]:D.date_type,Y=(X==null?void 0:X.toLowerCase())||"",Te=Y.includes("died"),Ve=Y.includes("wedding")||Y.includes("marriage")?Bre:Y.includes("birthday")?Lre:da;return l.jsxs("div",{className:"flex items-start group",children:[l.jsx("div",{className:"w-8 h-8 bg-gray-100 rounded-lg flex items-center justify-center mr-3",children:Te?l.jsx("span",{className:"text-gray-500 text-lg font-semibold",children:""}):l.jsx(Ve,{className:"w-4 h-4 text-gray-500"})}),l.jsxs("div",{className:"flex-1",children:[l.jsx("p",{className:"text-sm font-medium",children:D.title}),l.jsx("p",{className:"text-xs text-gray-500",children:D.date_value&&sn(new Date(D.date_value),"MMMM d, yyyy")}),X&&l.jsx("p",{className:"text-xs text-gray-400 capitalize",children:X})]}),l.jsxs("div",{className:"flex items-center gap-1 opacity-0 group-hover:opacity-100 transition-opacity",children:[l.jsx(he,{to:`/dates/${D.id}/edit`,className:"p-1 hover:bg-gray-100 rounded",title:"Edit date",children:l.jsx(Ua,{className:"w-4 h-4 text-gray-400 hover:text-gray-600"})}),l.jsx("button",{onClick:()=>Fe(D.id),className:"p-1 hover:bg-red-50 rounded",title:"Delete date",children:l.jsx(Bn,{className:"w-4 h-4 text-gray-400 hover:text-red-600"})})]})]},D.id)})}):l.jsx("p",{className:"text-sm text-gray-500 text-center py-4",children:"No important dates yet."})]}),l.jsxs("div",{className:"card p-6",children:[l.jsxs("div",{className:"flex items-center justify-between mb-4",children:[l.jsx("h2",{className:"font-semibold",children:"Work history"}),l.jsxs(he,{to:`/people/${t}/work-history/new`,className:"btn-secondary text-sm",children:[l.jsx(Vt,{className:"w-4 h-4 md:mr-1"}),l.jsx("span",{className:"hidden md:inline",children:"Add work history"})]})]}),($n==null?void 0:$n.length)>0?l.jsx("div",{className:"space-y-4",children:$n.map((D,X)=>{const Y=D.company?Jr[D.company]:null,Te=D.originalIndex;return l.jsxs("div",{className:"flex items-start group",children:[Y!=null&&Y.logo?l.jsx("img",{src:Y.logo,alt:Y.name,className:"w-20 h-20 rounded-lg object-contain bg-white mr-3 flex-shrink-0"}):l.jsx("div",{className:"w-20 h-20 bg-white rounded-lg flex items-center justify-center mr-3 flex-shrink-0 border border-gray-200",children:l.jsx(Sr,{className:"w-10 h-10 text-gray-500"})}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx("p",{className:"font-medium",children:D.job_title}),D.company&&Y&&l.jsx(he,{to:`/companies/${D.company}`,className:"text-sm text-primary-600 hover:underline",children:Y.name}),l.jsxs("p",{className:"text-sm text-gray-500",children:[D.start_date&&sn(new Date(D.start_date),"MMM yyyy")," - ",D.is_current?"Present":D.end_date?sn(new Date(D.end_date),"MMM yyyy"):""]}),D.description&&l.jsx("p",{className:"text-sm text-gray-600 mt-1",children:D.description})]}),l.jsxs("div",{className:"flex items-center gap-1 opacity-0 group-hover:opacity-100 transition-opacity ml-2",children:[l.jsx(he,{to:`/people/${t}/work-history/${Te}/edit`,className:"p-1 hover:bg-gray-100 rounded",title:"Edit work history",children:l.jsx(Ua,{className:"w-4 h-4 text-gray-400 hover:text-gray-600"})}),l.jsx("button",{onClick:()=>ee(Te),className:"p-1 hover:bg-red-50 rounded",title:"Delete work history",children:l.jsx(Bn,{className:"w-4 h-4 text-gray-400 hover:text-red-600"})})]})]},Te)})}):l.jsx("p",{className:"text-sm text-gray-500 text-center py-4",children:"No work history yet."})]}),l.jsxs("div",{className:"card p-6",children:[l.jsxs("div",{className:"flex items-center justify-between mb-4",children:[l.jsx("h2",{className:"font-semibold",children:"Timeline"}),l.jsxs("div",{className:"flex gap-2",children:[l.jsxs("button",{onClick:()=>P(!0),className:"btn-secondary text-sm",children:[l.jsx(Vt,{className:"w-4 h-4 md:mr-1"}),l.jsx("span",{className:"hidden md:inline",children:"Note"})]}),l.jsxs("button",{onClick:()=>I(!0),className:"btn-secondary text-sm",children:[l.jsx(Vt,{className:"w-4 h-4 md:mr-1"}),l.jsx("span",{className:"hidden md:inline",children:"Activity"})]})]})]}),l.jsx(_se,{timeline:a||[],onEdit:L,onDelete:se,onToggleTodo:Nt,personId:t,allPeople:v||[]})]}),l.jsx(Sse,{isOpen:C,onClose:()=>P(!1),onSubmit:Wt,isLoading:f.isPending}),l.jsx(Ese,{isOpen:O,onClose:()=>I(!1),onSubmit:Ce,isLoading:p.isPending,personId:t}),l.jsx(DK,{isOpen:M,onClose:()=>{k(!1),W(null)},onSubmit:H?Et:We,isLoading:H?y.isPending:m.isPending,todo:H})]}),l.jsxs("div",{className:"space-y-6",children:[(Pr.how_we_met||Pr.met_date)&&l.jsxs("div",{className:"card p-6",children:[l.jsx("h2",{className:"font-semibold mb-3",children:"How we met"}),Pr.met_date&&l.jsxs("p",{className:"text-sm text-gray-500 mb-2",children:[l.jsx(da,{className:"w-4 h-4 inline mr-1"}),sn(new Date(Pr.met_date),"MMMM d, yyyy")]}),Pr.how_we_met&&l.jsx("p",{className:"text-sm",children:Pr.how_we_met})]}),l.jsxs("div",{className:"card p-6",children:[l.jsxs("div",{className:"flex items-center justify-between mb-3",children:[l.jsx("h2",{className:"font-semibold",children:"Todos"}),l.jsxs("button",{onClick:()=>{W(null),k(!0)},className:"btn-secondary text-sm",children:[l.jsx(Vt,{className:"w-4 h-4 md:mr-1"}),l.jsx("span",{className:"hidden md:inline",children:"Add todo"})]})]}),hc.length>0?l.jsx("div",{className:"space-y-2",children:hc.map(D=>{const X=nh(D);return l.jsxs("div",{className:"flex items-start p-2 rounded hover:bg-gray-50 group",children:[l.jsx("button",{onClick:()=>Nt(D),className:"mt-0.5 mr-2 flex-shrink-0",title:D.is_completed?"Mark as incomplete":"Mark as complete",children:D.is_completed?l.jsx(Cj,{className:"w-5 h-5 text-primary-600"}):l.jsx(yu,{className:`w-5 h-5 ${X?"text-red-600":"text-gray-400"}`})}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx("p",{className:`text-sm ${D.is_completed?"line-through text-gray-400":X?"text-red-600":""}`,children:D.content}),D.due_date&&l.jsxs("p",{className:`text-xs mt-0.5 ${X&&!D.is_completed?"text-red-600 font-medium":"text-gray-500"}`,children:["Due: ",sn(new Date(D.due_date),"MMM d, yyyy"),X&&!D.is_completed&&" (overdue)"]})]}),l.jsxs("div",{className:"flex items-center gap-1 opacity-0 group-hover:opacity-100 transition-opacity ml-2",children:[l.jsx("button",{onClick:()=>{W(D),k(!0)},className:"p-1 hover:bg-gray-100 rounded",title:"Edit todo",children:l.jsx(Ua,{className:"w-4 h-4 text-gray-400 hover:text-gray-600"})}),l.jsx("button",{onClick:()=>q(D.id),className:"p-1 hover:bg-red-50 rounded",title:"Delete todo",children:l.jsx(Bn,{className:"w-4 h-4 text-gray-400 hover:text-red-600"})})]})]},D.id)})}):l.jsx("p",{className:"text-sm text-gray-500 text-center py-4",children:"No todos yet."})]}),l.jsxs("div",{className:"card p-6",children:[l.jsxs("div",{className:"flex items-center justify-between mb-3",children:[l.jsx("h2",{className:"font-semibold",children:"Relationships"}),l.jsxs(he,{to:`/people/${t}/relationship/new`,className:"btn-secondary text-sm",children:[l.jsx(Vt,{className:"w-4 h-4 md:mr-1"}),l.jsx("span",{className:"hidden md:inline",children:"Add relationship"})]})]}),(Le==null?void 0:Le.length)>0?l.jsx("div",{className:"space-y-2",children:Le.map((D,X)=>{var Te,Ve,it;const Y=((Ve=(Te=n==null?void 0:n.acf)==null?void 0:Te.relationships)==null?void 0:Ve.findIndex(ft=>ft.related_person===D.related_person&&ft.relationship_type===D.relationship_type))??X;return l.jsxs("div",{className:"flex items-center p-2 rounded hover:bg-gray-50 group",children:[l.jsxs(he,{to:`/people/${D.related_person}`,className:"flex items-center flex-1 min-w-0",children:[D.person_thumbnail?l.jsx("img",{src:D.person_thumbnail,alt:ln(D.person_name)||"",className:"w-8 h-8 rounded-full object-cover mr-2"}):l.jsx("div",{className:"w-8 h-8 bg-gray-200 rounded-full mr-2 flex items-center justify-center",children:l.jsx("span",{className:"text-xs font-medium text-gray-500",children:((it=ln(D.person_name))==null?void 0:it[0])||"?"})}),l.jsxs("div",{children:[l.jsxs("p",{className:"text-sm font-medium",children:[ln(D.person_name)||`Person #${D.related_person}`,_e[D.related_person]&&l.jsx("span",{className:"text-gray-400 ml-1",title:"Deceased",children:""})]}),l.jsx("p",{className:"text-xs text-gray-500",children:ln(D.relationship_name||D.relationship_label)})]})]}),l.jsxs("div",{className:"flex items-center gap-1 opacity-0 group-hover:opacity-100 transition-opacity ml-2",children:[l.jsx(he,{to:`/people/${t}/relationship/${Y}/edit`,className:"p-1 hover:bg-gray-100 rounded",title:"Edit relationship",children:l.jsx(Ua,{className:"w-4 h-4 text-gray-400 hover:text-gray-600"})}),l.jsx("button",{onClick:()=>Ne(Y),className:"p-1 hover:bg-red-50 rounded",title:"Delete relationship",children:l.jsx(Bn,{className:"w-4 h-4 text-gray-400 hover:text-red-600"})})]})]},X)})}):l.jsx("p",{className:"text-sm text-gray-500 text-center py-4",children:"No relationships yet."})]})]})]})]})}var ih=t=>t.type==="checkbox",Qa=t=>t instanceof Date,tn=t=>t==null;const MK=t=>typeof t=="object";var Jt=t=>!tn(t)&&!Array.isArray(t)&&MK(t)&&!Qa(t),qK=t=>Jt(t)&&t.target?ih(t.target)?t.target.checked:t.target.value:t,Ise=t=>t.substring(0,t.search(/\.\d+(\.|$)/))||t,AK=(t,e)=>t.has(Ise(e)),Rse=t=>{const e=t.constructor&&t.constructor.prototype;return Jt(e)&&e.hasOwnProperty("isPrototypeOf")},hO=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function ar(t){if(t instanceof Date)return new Date(t);const e=typeof FileList<"u"&&t instanceof FileList;if(hO&&(t instanceof Blob||e))return t;const r=Array.isArray(t);if(!r&&!(Jt(t)&&Rse(t)))return t;const n=r?[]:Object.create(Object.getPrototypeOf(t));for(const i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=ar(t[i]));return n}var dm=t=>/^\w*$/.test(t),Lt=t=>t===void 0,fO=t=>Array.isArray(t)?t.filter(Boolean):[],pO=t=>fO(t.replace(/["|']|\]/g,"").split(/\.|\[/)),fe=(t,e,r)=>{if(!e||!Jt(t))return r;const n=(dm(e)?[e]:pO(e)).reduce((i,s)=>tn(i)?i:i[s],t);return Lt(n)||n===t?Lt(t[e])?r:t[e]:n},_n=t=>typeof t=="boolean",Ur=t=>typeof t=="function",vt=(t,e,r)=>{let n=-1;const i=dm(e)?[e]:pO(e),s=i.length,a=s-1;for(;++n<s;){const o=i[n];let u=r;if(n!==a){const c=t[o];u=Jt(c)||Array.isArray(c)?c:isNaN(+i[n+1])?{}:[]}if(o==="__proto__"||o==="constructor"||o==="prototype")return;t[o]=u,t=t[o]}};const Sp={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},ci={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},Wi={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},FK=De.createContext(null);FK.displayName="HookFormContext";const mO=()=>De.useContext(FK);var LK=(t,e,r,n=!0)=>{const i={defaultValues:e._defaultValues};for(const s in t)Object.defineProperty(i,s,{get:()=>{const a=s;return e._proxyFormState[a]!==ci.all&&(e._proxyFormState[a]=!n||ci.all),r&&(r[a]=!0),t[a]}});return i};const vO=typeof window<"u"?De.useLayoutEffect:De.useEffect;function $se(t){const e=mO(),{control:r=e.control,disabled:n,name:i,exact:s}=t||{},[a,o]=De.useState(r._formState),u=De.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1});return vO(()=>r._subscribe({name:i,formState:u.current,exact:s,callback:c=>{!n&&o({...r._formState,...c})}}),[i,n,s]),De.useEffect(()=>{u.current.isValid&&r._setValid(!0)},[r]),De.useMemo(()=>LK(a,r,u.current,!1),[a,r])}var Sn=t=>typeof t=="string",Ij=(t,e,r,n,i)=>Sn(t)?(n&&e.watch.add(t),fe(r,t,i)):Array.isArray(t)?t.map(s=>(n&&e.watch.add(s),fe(r,s))):(n&&(e.watchAll=!0),r),Rj=t=>tn(t)||!MK(t);function di(t,e,r=new WeakSet){if(Rj(t)||Rj(e))return Object.is(t,e);if(Qa(t)&&Qa(e))return t.getTime()===e.getTime();const n=Object.keys(t),i=Object.keys(e);if(n.length!==i.length)return!1;if(r.has(t)||r.has(e))return!0;r.add(t),r.add(e);for(const s of n){const a=t[s];if(!i.includes(s))return!1;if(s!=="ref"){const o=e[s];if(Qa(a)&&Qa(o)||Jt(a)&&Jt(o)||Array.isArray(a)&&Array.isArray(o)?!di(a,o,r):!Object.is(a,o))return!1}}return!0}function kse(t){const e=mO(),{control:r=e.control,name:n,defaultValue:i,disabled:s,exact:a,compute:o}=t||{},u=De.useRef(i),c=De.useRef(o),d=De.useRef(void 0),h=De.useRef(r),f=De.useRef(n);c.current=o;const[p,m]=De.useState(()=>{const b=r._getWatch(n,u.current);return c.current?c.current(b):b}),y=De.useCallback(b=>{const _=Ij(n,r._names,b||r._formValues,!1,u.current);return c.current?c.current(_):_},[r._formValues,r._names,n]),x=De.useCallback(b=>{if(!s){const _=Ij(n,r._names,b||r._formValues,!1,u.current);if(c.current){const E=c.current(_);di(E,d.current)||(m(E),d.current=E)}else m(_)}},[r._formValues,r._names,s,n]);vO(()=>((h.current!==r||!di(f.current,n))&&(h.current=r,f.current=n,x()),r._subscribe({name:n,formState:{values:!0},exact:a,callback:b=>{x(b.values)}})),[r,a,n,x]),De.useEffect(()=>r._removeUnmounted());const g=h.current!==r,v=f.current,w=De.useMemo(()=>{if(s)return null;const b=!g&&!di(v,n);return g||b?y():null},[s,g,n,v,y]);return w!==null?w:p}function Dse(t){const e=mO(),{name:r,disabled:n,control:i=e.control,shouldUnregister:s,defaultValue:a,exact:o=!0}=t,u=AK(i._names.array,r),c=De.useMemo(()=>fe(i._formValues,r,fe(i._defaultValues,r,a)),[i,r,a]),d=kse({control:i,name:r,defaultValue:c,exact:o}),h=$se({control:i,name:r,exact:o}),f=De.useRef(t),p=De.useRef(void 0),m=De.useRef(i.register(r,{...t.rules,value:d,..._n(t.disabled)?{disabled:t.disabled}:{}}));f.current=t;const y=De.useMemo(()=>Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!fe(h.errors,r)},isDirty:{enumerable:!0,get:()=>!!fe(h.dirtyFields,r)},isTouched:{enumerable:!0,get:()=>!!fe(h.touchedFields,r)},isValidating:{enumerable:!0,get:()=>!!fe(h.validatingFields,r)},error:{enumerable:!0,get:()=>fe(h.errors,r)}}),[h,r]),x=De.useCallback(b=>m.current.onChange({target:{value:qK(b),name:r},type:Sp.CHANGE}),[r]),g=De.useCallback(()=>m.current.onBlur({target:{value:fe(i._formValues,r),name:r},type:Sp.BLUR}),[r,i._formValues]),v=De.useCallback(b=>{const _=fe(i._fields,r);_&&_._f&&b&&(_._f.ref={focus:()=>Ur(b.focus)&&b.focus(),select:()=>Ur(b.select)&&b.select(),setCustomValidity:E=>Ur(b.setCustomValidity)&&b.setCustomValidity(E),reportValidity:()=>Ur(b.reportValidity)&&b.reportValidity()})},[i._fields,r]),w=De.useMemo(()=>({name:r,value:d,..._n(n)||h.disabled?{disabled:h.disabled||n}:{},onChange:x,onBlur:g,ref:v}),[r,n,h.disabled,x,g,v,d]);return De.useEffect(()=>{const b=i._options.shouldUnregister||s,_=p.current;_&&_!==r&&!u&&i.unregister(_),i.register(r,{...f.current.rules,..._n(f.current.disabled)?{disabled:f.current.disabled}:{}});const E=(N,S)=>{const j=fe(i._fields,N);j&&j._f&&(j._f.mount=S)};if(E(r,!0),b){const N=ar(fe(i._options.defaultValues,r,f.current.defaultValue));vt(i._defaultValues,r,N),Lt(fe(i._formValues,r))&&vt(i._formValues,r,N)}return!u&&i.register(r),p.current=r,()=>{(u?b&&!i._state.action:b)?i.unregister(r):E(r,!1)}},[r,i,u,s]),De.useEffect(()=>{i._setDisabledField({disabled:n,name:r})},[n,r,i]),De.useMemo(()=>({field:w,formState:h,fieldState:y}),[w,h,y])}const Ep=t=>t.render(Dse(t));var Mse=(t,e,r,n,i)=>e?{...r[t],types:{...r[t]&&r[t].types?r[t].types:{},[n]:i||!0}}:{},Yc=t=>Array.isArray(t)?t:[t],QI=()=>{let t=[];return{get observers(){return t},next:i=>{for(const s of t)s.next&&s.next(i)},subscribe:i=>(t.push(i),{unsubscribe:()=>{t=t.filter(s=>s!==i)}}),unsubscribe:()=>{t=[]}}};function BK(t,e){const r={};for(const n in t)if(t.hasOwnProperty(n)){const i=t[n],s=e[n];if(i&&Jt(i)&&s){const a=BK(i,s);Jt(a)&&(r[n]=a)}else t[n]&&(r[n]=s)}return r}var Ar=t=>Jt(t)&&!Object.keys(t).length,gO=t=>t.type==="file",Np=t=>{if(!hO)return!1;const e=t?t.ownerDocument:0;return t instanceof(e&&e.defaultView?e.defaultView.HTMLElement:HTMLElement)},zK=t=>t.type==="select-multiple",yO=t=>t.type==="radio",qse=t=>yO(t)||ih(t),Iv=t=>Np(t)&&t.isConnected;function Ase(t,e){const r=e.slice(0,-1).length;let n=0;for(;n<r;)t=Lt(t)?n++:t[e[n++]];return t}function Fse(t){for(const e in t)if(t.hasOwnProperty(e)&&!Lt(t[e]))return!1;return!0}function Qt(t,e){const r=Array.isArray(e)?e:dm(e)?[e]:pO(e),n=r.length===1?t:Ase(t,r),i=r.length-1,s=r[i];return n&&delete n[s],i!==0&&(Jt(n)&&Ar(n)||Array.isArray(n)&&Fse(n))&&Qt(t,r.slice(0,-1)),t}var Lse=t=>{for(const e in t)if(Ur(t[e]))return!0;return!1};function UK(t){return Array.isArray(t)||Jt(t)&&!Lse(t)}function $j(t,e={}){for(const r in t){const n=t[r];UK(n)?(e[r]=Array.isArray(n)?[]:{},$j(n,e[r])):Lt(n)||(e[r]=!0)}return e}function gl(t,e,r){r||(r=$j(e));for(const n in t){const i=t[n];if(UK(i))Lt(e)||Rj(r[n])?r[n]=$j(i,Array.isArray(i)?[]:{}):gl(i,tn(e)?{}:e[n],r[n]);else{const s=e[n];r[n]=!di(i,s)}}return r}const XI={value:!1,isValid:!1},JI={value:!0,isValid:!0};var WK=t=>{if(Array.isArray(t)){if(t.length>1){const e=t.filter(r=>r&&r.checked&&!r.disabled).map(r=>r.value);return{value:e,isValid:!!e.length}}return t[0].checked&&!t[0].disabled?t[0].attributes&&!Lt(t[0].attributes.value)?Lt(t[0].value)||t[0].value===""?JI:{value:t[0].value,isValid:!0}:JI:XI}return XI},VK=(t,{valueAsNumber:e,valueAsDate:r,setValueAs:n})=>Lt(t)?t:e?t===""?NaN:t&&+t:r&&Sn(t)?new Date(t):n?n(t):t;const ZI={isValid:!1,value:null};var HK=t=>Array.isArray(t)?t.reduce((e,r)=>r&&r.checked&&!r.disabled?{isValid:!0,value:r.value}:e,ZI):ZI;function eR(t){const e=t.ref;return gO(e)?e.files:yO(e)?HK(t.refs).value:zK(e)?[...e.selectedOptions].map(({value:r})=>r):ih(e)?WK(t.refs).value:VK(Lt(e.value)?t.ref.value:e.value,t)}var Bse=(t,e,r,n)=>{const i={};for(const s of t){const a=fe(e,s);a&&vt(i,s,a._f)}return{criteriaMode:r,names:[...t],fields:i,shouldUseNativeValidation:n}},jp=t=>t instanceof RegExp,Oc=t=>Lt(t)?t:jp(t)?t.source:Jt(t)?jp(t.value)?t.value.source:t.value:t,tR=t=>({isOnSubmit:!t||t===ci.onSubmit,isOnBlur:t===ci.onBlur,isOnChange:t===ci.onChange,isOnAll:t===ci.all,isOnTouch:t===ci.onTouched});const rR="AsyncFunction";var zse=t=>!!t&&!!t.validate&&!!(Ur(t.validate)&&t.validate.constructor.name===rR||Jt(t.validate)&&Object.values(t.validate).find(e=>e.constructor.name===rR)),Use=t=>t.mount&&(t.required||t.min||t.max||t.maxLength||t.minLength||t.pattern||t.validate),nR=(t,e,r)=>!r&&(e.watchAll||e.watch.has(t)||[...e.watch].some(n=>t.startsWith(n)&&/^\.\w+/.test(t.slice(n.length))));const Qc=(t,e,r,n)=>{for(const i of r||Object.keys(t)){const s=fe(t,i);if(s){const{_f:a,...o}=s;if(a){if(a.refs&&a.refs[0]&&e(a.refs[0],i)&&!n)return!0;if(a.ref&&e(a.ref,a.name)&&!n)return!0;if(Qc(o,e))break}else if(Jt(o)&&Qc(o,e))break}}};function iR(t,e,r){const n=fe(t,r);if(n||dm(r))return{error:n,name:r};const i=r.split(".");for(;i.length;){const s=i.join("."),a=fe(e,s),o=fe(t,s);if(a&&!Array.isArray(a)&&r!==s)return{name:r};if(o&&o.type)return{name:s,error:o};if(o&&o.root&&o.root.type)return{name:`${s}.root`,error:o.root};i.pop()}return{name:r}}var Wse=(t,e,r,n)=>{r(t);const{name:i,...s}=t;return Ar(s)||Object.keys(s).length>=Object.keys(e).length||Object.keys(s).find(a=>e[a]===(!n||ci.all))},Vse=(t,e,r)=>!t||!e||t===e||Yc(t).some(n=>n&&(r?n===e:n.startsWith(e)||e.startsWith(n))),Hse=(t,e,r,n,i)=>i.isOnAll?!1:!r&&i.isOnTouch?!(e||t):(r?n.isOnBlur:i.isOnBlur)?!t:(r?n.isOnChange:i.isOnChange)?t:!0,Kse=(t,e)=>!fO(fe(t,e)).length&&Qt(t,e),Gse=(t,e,r)=>{const n=Yc(fe(t,r));return vt(n,"root",e[r]),vt(t,r,n),t};function sR(t,e,r="validate"){if(Sn(t)||Array.isArray(t)&&t.every(Sn)||_n(t)&&!t)return{type:r,message:Sn(t)?t:"",ref:e}}var fl=t=>Jt(t)&&!jp(t)?t:{value:t,message:""},aR=async(t,e,r,n,i,s)=>{const{ref:a,refs:o,required:u,maxLength:c,minLength:d,min:h,max:f,pattern:p,validate:m,name:y,valueAsNumber:x,mount:g}=t._f,v=fe(r,y);if(!g||e.has(y))return{};const w=o?o[0]:a,b=O=>{i&&w.reportValidity&&(w.setCustomValidity(_n(O)?"":O||""),w.reportValidity())},_={},E=yO(a),N=ih(a),S=E||N,j=(x||gO(a))&&Lt(a.value)&&Lt(v)||Np(a)&&a.value===""||v===""||Array.isArray(v)&&!v.length,C=Mse.bind(null,y,n,_),P=(O,I,M,k=Wi.maxLength,H=Wi.minLength)=>{const W=O?I:M;_[y]={type:O?k:H,message:W,ref:a,...C(O?k:H,W)}};if(s?!Array.isArray(v)||!v.length:u&&(!S&&(j||tn(v))||_n(v)&&!v||N&&!WK(o).isValid||E&&!HK(o).isValid)){const{value:O,message:I}=Sn(u)?{value:!!u,message:u}:fl(u);if(O&&(_[y]={type:Wi.required,message:I,ref:w,...C(Wi.required,I)},!n))return b(I),_}if(!j&&(!tn(h)||!tn(f))){let O,I;const M=fl(f),k=fl(h);if(!tn(v)&&!isNaN(v)){const H=a.valueAsNumber||v&&+v;tn(M.value)||(O=H>M.value),tn(k.value)||(I=H<k.value)}else{const H=a.valueAsDate||new Date(v),W=U=>new Date(new Date().toDateString()+" "+U),A=a.type=="time",K=a.type=="week";Sn(M.value)&&v&&(O=A?W(v)>W(M.value):K?v>M.value:H>new Date(M.value)),Sn(k.value)&&v&&(I=A?W(v)<W(k.value):K?v<k.value:H<new Date(k.value))}if((O||I)&&(P(!!O,M.message,k.message,Wi.max,Wi.min),!n))return b(_[y].message),_}if((c||d)&&!j&&(Sn(v)||s&&Array.isArray(v))){const O=fl(c),I=fl(d),M=!tn(O.value)&&v.length>+O.value,k=!tn(I.value)&&v.length<+I.value;if((M||k)&&(P(M,O.message,I.message),!n))return b(_[y].message),_}if(p&&!j&&Sn(v)){const{value:O,message:I}=fl(p);if(jp(O)&&!v.match(O)&&(_[y]={type:Wi.pattern,message:I,ref:a,...C(Wi.pattern,I)},!n))return b(I),_}if(m){if(Ur(m)){const O=await m(v,r),I=sR(O,w);if(I&&(_[y]={...I,...C(Wi.validate,I.message)},!n))return b(I.message),_}else if(Jt(m)){let O={};for(const I in m){if(!Ar(O)&&!n)break;const M=sR(await m[I](v,r),w,I);M&&(O={...M,...C(I,M.message)},b(M.message),n&&(_[y]=O))}if(!Ar(O)&&(_[y]={ref:w,...O},!n))return _}}return b(!0),_};const Yse={mode:ci.onSubmit,reValidateMode:ci.onChange,shouldFocusError:!0};function Qse(t={}){let e={...Yse,...t},r={submitCount:0,isDirty:!1,isReady:!1,isLoading:Ur(e.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1},n={},i=Jt(e.defaultValues)||Jt(e.values)?ar(e.defaultValues||e.values)||{}:{},s=e.shouldUnregister?{}:ar(i),a={action:!1,mount:!1,watch:!1,keepIsValid:!1},o={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},u,c=0;const d={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},h={...d};let f={...h};const p={array:QI(),state:QI()},m=e.criteriaMode===ci.all,y=$=>q=>{clearTimeout(c),c=setTimeout($,q)},x=async $=>{if(!a.keepIsValid&&!e.disabled&&(h.isValid||f.isValid||$)){let q;e.resolver?(q=Ar((await S()).errors),g()):q=await C(n,!0),q!==r.isValid&&p.state.next({isValid:q})}},g=($,q)=>{!e.disabled&&(h.isValidating||h.validatingFields||f.isValidating||f.validatingFields)&&(($||Array.from(o.mount)).forEach(L=>{L&&(q?vt(r.validatingFields,L,q):Qt(r.validatingFields,L))}),p.state.next({validatingFields:r.validatingFields,isValidating:!Ar(r.validatingFields)}))},v=($,q=[],L,se,ee=!0,Q=!0)=>{if(se&&L&&!e.disabled){if(a.action=!0,Q&&Array.isArray(fe(n,$))){const V=L(fe(n,$),se.argA,se.argB);ee&&vt(n,$,V)}if(Q&&Array.isArray(fe(r.errors,$))){const V=L(fe(r.errors,$),se.argA,se.argB);ee&&vt(r.errors,$,V),Kse(r.errors,$)}if((h.touchedFields||f.touchedFields)&&Q&&Array.isArray(fe(r.touchedFields,$))){const V=L(fe(r.touchedFields,$),se.argA,se.argB);ee&&vt(r.touchedFields,$,V)}(h.dirtyFields||f.dirtyFields)&&(r.dirtyFields=gl(i,s)),p.state.next({name:$,isDirty:O($,q),dirtyFields:r.dirtyFields,errors:r.errors,isValid:r.isValid})}else vt(s,$,q)},w=($,q)=>{vt(r.errors,$,q),p.state.next({errors:r.errors})},b=$=>{r.errors=$,p.state.next({errors:r.errors,isValid:!1})},_=($,q,L,se)=>{const ee=fe(n,$);if(ee){const Q=fe(s,$,Lt(L)?fe(i,$):L);Lt(Q)||se&&se.defaultChecked||q?vt(s,$,q?Q:eR(ee._f)):k($,Q),a.mount&&!a.action&&x()}},E=($,q,L,se,ee)=>{let Q=!1,V=!1;const le={name:$};if(!e.disabled){if(!L||se){(h.isDirty||f.isDirty)&&(V=r.isDirty,r.isDirty=le.isDirty=O(),Q=V!==le.isDirty);const pe=di(fe(i,$),q);V=!!fe(r.dirtyFields,$),pe?Qt(r.dirtyFields,$):vt(r.dirtyFields,$,!0),le.dirtyFields=r.dirtyFields,Q=Q||(h.dirtyFields||f.dirtyFields)&&V!==!pe}if(L){const pe=fe(r.touchedFields,$);pe||(vt(r.touchedFields,$,L),le.touchedFields=r.touchedFields,Q=Q||(h.touchedFields||f.touchedFields)&&pe!==L)}Q&&ee&&p.state.next(le)}return Q?le:{}},N=($,q,L,se)=>{const ee=fe(r.errors,$),Q=(h.isValid||f.isValid)&&_n(q)&&r.isValid!==q;if(e.delayError&&L?(u=y(()=>w($,L)),u(e.delayError)):(clearTimeout(c),u=null,L?vt(r.errors,$,L):Qt(r.errors,$)),(L?!di(ee,L):ee)||!Ar(se)||Q){const V={...se,...Q&&_n(q)?{isValid:q}:{},errors:r.errors,name:$};r={...r,...V},p.state.next(V)}},S=async $=>(g($,!0),await e.resolver(s,e.context,Bse($||o.mount,n,e.criteriaMode,e.shouldUseNativeValidation))),j=async $=>{const{errors:q}=await S($);if(g($),$)for(const L of $){const se=fe(q,L);se?vt(r.errors,L,se):Qt(r.errors,L)}else r.errors=q;return q},C=async($,q,L={valid:!0})=>{for(const se in $){const ee=$[se];if(ee){const{_f:Q,...V}=ee;if(Q){const le=o.array.has(Q.name),pe=ee._f&&zse(ee._f);pe&&h.validatingFields&&g([Q.name],!0);const Ye=await aR(ee,o.disabled,s,m,e.shouldUseNativeValidation&&!q,le);if(pe&&h.validatingFields&&g([Q.name]),Ye[Q.name]&&(L.valid=!1,q))break;!q&&(fe(Ye,Q.name)?le?Gse(r.errors,Ye,Q.name):vt(r.errors,Q.name,Ye[Q.name]):Qt(r.errors,Q.name))}!Ar(V)&&await C(V,q,L)}}return L.valid},P=()=>{for(const $ of o.unMount){const q=fe(n,$);q&&(q._f.refs?q._f.refs.every(L=>!Iv(L)):!Iv(q._f.ref))&&ke($)}o.unMount=new Set},O=($,q)=>!e.disabled&&($&&q&&vt(s,$,q),!di(z(),i)),I=($,q,L)=>Ij($,o,{...a.mount?s:Lt(q)?i:Sn($)?{[$]:q}:q},L,q),M=$=>fO(fe(a.mount?s:i,$,e.shouldUnregister?fe(i,$,[]):[])),k=($,q,L={})=>{const se=fe(n,$);let ee=q;if(se){const Q=se._f;Q&&(!Q.disabled&&vt(s,$,VK(q,Q)),ee=Np(Q.ref)&&tn(q)?"":q,zK(Q.ref)?[...Q.ref.options].forEach(V=>V.selected=ee.includes(V.value)):Q.refs?ih(Q.ref)?Q.refs.forEach(V=>{(!V.defaultChecked||!V.disabled)&&(Array.isArray(ee)?V.checked=!!ee.find(le=>le===V.value):V.checked=ee===V.value||!!ee)}):Q.refs.forEach(V=>V.checked=V.value===ee):gO(Q.ref)?Q.ref.value="":(Q.ref.value=ee,Q.ref.type||p.state.next({name:$,values:ar(s)})))}(L.shouldDirty||L.shouldTouch)&&E($,ee,L.shouldTouch,L.shouldDirty,!0),L.shouldValidate&&U($)},H=($,q,L)=>{for(const se in q){if(!q.hasOwnProperty(se))return;const ee=q[se],Q=$+"."+se,V=fe(n,Q);(o.array.has($)||Jt(ee)||V&&!V._f)&&!Qa(ee)?H(Q,ee,L):k(Q,ee,L)}},W=($,q,L={})=>{const se=fe(n,$),ee=o.array.has($),Q=ar(q);vt(s,$,Q),ee?(p.array.next({name:$,values:ar(s)}),(h.isDirty||h.dirtyFields||f.isDirty||f.dirtyFields)&&L.shouldDirty&&p.state.next({name:$,dirtyFields:gl(i,s),isDirty:O($,Q)})):se&&!se._f&&!tn(Q)?H($,Q,L):k($,Q,L),nR($,o)&&p.state.next({...r,name:$}),p.state.next({name:a.mount?$:void 0,values:ar(s)})},A=async $=>{a.mount=!0;const q=$.target;let L=q.name,se=!0;const ee=fe(n,L),Q=pe=>{se=Number.isNaN(pe)||Qa(pe)&&isNaN(pe.getTime())||di(pe,fe(s,L,pe))},V=tR(e.mode),le=tR(e.reValidateMode);if(ee){let pe,Ye;const be=q.type?eR(ee._f):qK($),Z=$.type===Sp.BLUR||$.type===Sp.FOCUS_OUT,ue=!Use(ee._f)&&!e.resolver&&!fe(r.errors,L)&&!ee._f.deps||Hse(Z,fe(r.touchedFields,L),r.isSubmitted,le,V),oe=nR(L,o,Z);vt(s,L,be),Z?(!q||!q.readOnly)&&(ee._f.onBlur&&ee._f.onBlur($),u&&u(0)):ee._f.onChange&&ee._f.onChange($);const _e=E(L,be,Z),Le=!Ar(_e)||oe;if(!Z&&p.state.next({name:L,type:$.type,values:ar(s)}),ue)return(h.isValid||f.isValid)&&(e.mode==="onBlur"?Z&&x():Z||x()),Le&&p.state.next({name:L,...oe?{}:_e});if(!Z&&oe&&p.state.next({...r}),e.resolver){const{errors:Jr}=await S([L]);if(g([L]),Q(be),se){const $n=iR(r.errors,n,L),hc=iR(Jr,n,$n.name||L);pe=hc.error,L=hc.name,Ye=Ar(Jr)}}else g([L],!0),pe=(await aR(ee,o.disabled,s,m,e.shouldUseNativeValidation))[L],g([L]),Q(be),se&&(pe?Ye=!1:(h.isValid||f.isValid)&&(Ye=await C(n,!0)));se&&(ee._f.deps&&(!Array.isArray(ee._f.deps)||ee._f.deps.length>0)&&U(ee._f.deps),N(L,Ye,pe,_e))}},K=($,q)=>{if(fe(r.errors,q)&&$.focus)return $.focus(),1},U=async($,q={})=>{let L,se;const ee=Yc($);if(e.resolver){const Q=await j(Lt($)?$:ee);L=Ar(Q),se=$?!ee.some(V=>fe(Q,V)):L}else $?(se=(await Promise.all(ee.map(async Q=>{const V=fe(n,Q);return await C(V&&V._f?{[Q]:V}:V)}))).every(Boolean),!(!se&&!r.isValid)&&x()):se=L=await C(n);return p.state.next({...!Sn($)||(h.isValid||f.isValid)&&L!==r.isValid?{}:{name:$},...e.resolver||!$?{isValid:L}:{},errors:r.errors}),q.shouldFocus&&!se&&Qc(n,K,$?ee:o.mount),se},z=($,q)=>{let L={...a.mount?s:i};return q&&(L=BK(q.dirtyFields?r.dirtyFields:r.touchedFields,L)),Lt($)?L:Sn($)?fe(L,$):$.map(se=>fe(L,se))},G=($,q)=>({invalid:!!fe((q||r).errors,$),isDirty:!!fe((q||r).dirtyFields,$),error:fe((q||r).errors,$),isValidating:!!fe(r.validatingFields,$),isTouched:!!fe((q||r).touchedFields,$)}),ce=$=>{$&&Yc($).forEach(q=>Qt(r.errors,q)),p.state.next({errors:$?r.errors:{}})},ve=($,q,L)=>{const se=(fe(n,$,{_f:{}})._f||{}).ref,ee=fe(r.errors,$)||{},{ref:Q,message:V,type:le,...pe}=ee;vt(r.errors,$,{...pe,...q,ref:se}),p.state.next({name:$,errors:r.errors,isValid:!1}),L&&L.shouldFocus&&se&&se.focus&&se.focus()},Ie=($,q)=>Ur($)?p.state.subscribe({next:L=>"values"in L&&$(I(void 0,q),L)}):I($,q,!0),me=$=>p.state.subscribe({next:q=>{Vse($.name,q.name,$.exact)&&Wse(q,$.formState||h,We,$.reRenderRoot)&&$.callback({values:{...s},...r,...q,defaultValues:i})}}).unsubscribe,Ee=$=>(a.mount=!0,f={...f,...$.formState},me({...$,formState:{...d,...$.formState}})),ke=($,q={})=>{for(const L of $?Yc($):o.mount)o.mount.delete(L),o.array.delete(L),q.keepValue||(Qt(n,L),Qt(s,L)),!q.keepError&&Qt(r.errors,L),!q.keepDirty&&Qt(r.dirtyFields,L),!q.keepTouched&&Qt(r.touchedFields,L),!q.keepIsValidating&&Qt(r.validatingFields,L),!e.shouldUnregister&&!q.keepDefaultValue&&Qt(i,L);p.state.next({values:ar(s)}),p.state.next({...r,...q.keepDirty?{isDirty:O()}:{}}),!q.keepIsValid&&x()},tt=({disabled:$,name:q})=>{(_n($)&&a.mount||$||o.disabled.has(q))&&($?o.disabled.add(q):o.disabled.delete(q))},Ut=($,q={})=>{let L=fe(n,$);const se=_n(q.disabled)||_n(e.disabled);return vt(n,$,{...L||{},_f:{...L&&L._f?L._f:{ref:{name:$}},name:$,mount:!0,...q}}),o.mount.add($),L?tt({disabled:_n(q.disabled)?q.disabled:e.disabled,name:$}):_($,!0,q.value),{...se?{disabled:q.disabled||e.disabled}:{},...e.progressive?{required:!!q.required,min:Oc(q.min),max:Oc(q.max),minLength:Oc(q.minLength),maxLength:Oc(q.maxLength),pattern:Oc(q.pattern)}:{},name:$,onChange:A,onBlur:A,ref:ee=>{if(ee){Ut($,q),L=fe(n,$);const Q=Lt(ee.value)&&ee.querySelectorAll&&ee.querySelectorAll("input,select,textarea")[0]||ee,V=qse(Q),le=L._f.refs||[];if(V?le.find(pe=>pe===Q):Q===L._f.ref)return;vt(n,$,{_f:{...L._f,...V?{refs:[...le.filter(Iv),Q,...Array.isArray(fe(i,$))?[{}]:[]],ref:{type:Q.type,name:$}}:{ref:Q}}}),_($,!1,void 0,Q)}else L=fe(n,$,{}),L._f&&(L._f.mount=!1),(e.shouldUnregister||q.shouldUnregister)&&!(AK(o.array,$)&&a.action)&&o.unMount.add($)}}},ht=()=>e.shouldFocusError&&Qc(n,K,o.mount),J=$=>{_n($)&&(p.state.next({disabled:$}),Qc(n,(q,L)=>{const se=fe(n,L);se&&(q.disabled=se._f.disabled||$,Array.isArray(se._f.refs)&&se._f.refs.forEach(ee=>{ee.disabled=se._f.disabled||$}))},0,!1))},Ne=($,q)=>async L=>{let se;L&&(L.preventDefault&&L.preventDefault(),L.persist&&L.persist());let ee=ar(s);if(p.state.next({isSubmitting:!0}),e.resolver){const{errors:Q,values:V}=await S();g(),r.errors=Q,ee=ar(V)}else await C(n);if(o.disabled.size)for(const Q of o.disabled)Qt(ee,Q);if(Qt(r.errors,"root"),Ar(r.errors)){p.state.next({errors:{}});try{await $(ee,L)}catch(Q){se=Q}}else q&&await q({...r.errors},L),ht(),setTimeout(ht);if(p.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:Ar(r.errors)&&!se,submitCount:r.submitCount+1,errors:r.errors}),se)throw se},Fe=($,q={})=>{fe(n,$)&&(Lt(q.defaultValue)?W($,ar(fe(i,$))):(W($,q.defaultValue),vt(i,$,ar(q.defaultValue))),q.keepTouched||Qt(r.touchedFields,$),q.keepDirty||(Qt(r.dirtyFields,$),r.isDirty=q.defaultValue?O($,ar(fe(i,$))):O()),q.keepError||(Qt(r.errors,$),h.isValid&&x()),p.state.next({...r}))},Ge=($,q={})=>{const L=$?ar($):i,se=ar(L),ee=Ar($),Q=ee?i:se;if(q.keepDefaultValues||(i=L),!q.keepValues){if(q.keepDirtyValues){const V=new Set([...o.mount,...Object.keys(gl(i,s))]);for(const le of Array.from(V))fe(r.dirtyFields,le)?vt(Q,le,fe(s,le)):W(le,fe(Q,le))}else{if(hO&&Lt($))for(const V of o.mount){const le=fe(n,V);if(le&&le._f){const pe=Array.isArray(le._f.refs)?le._f.refs[0]:le._f.ref;if(Np(pe)){const Ye=pe.closest("form");if(Ye){Ye.reset();break}}}}if(q.keepFieldsRef)for(const V of o.mount)W(V,fe(Q,V));else n={}}s=e.shouldUnregister?q.keepDefaultValues?ar(i):{}:ar(Q),p.array.next({values:{...Q}}),p.state.next({values:{...Q}})}o={mount:q.keepDirtyValues?o.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},a.mount=!h.isValid||!!q.keepIsValid||!!q.keepDirtyValues||!e.shouldUnregister&&!Ar(Q),a.watch=!!e.shouldUnregister,a.keepIsValid=!!q.keepIsValid,a.action=!1,q.keepErrors||(r.errors={}),p.state.next({submitCount:q.keepSubmitCount?r.submitCount:0,isDirty:ee?!1:q.keepDirty?r.isDirty:!!(q.keepDefaultValues&&!di($,i)),isSubmitted:q.keepIsSubmitted?r.isSubmitted:!1,dirtyFields:ee?{}:q.keepDirtyValues?q.keepDefaultValues&&s?gl(i,s):r.dirtyFields:q.keepDefaultValues&&$?gl(i,$):q.keepDirty?r.dirtyFields:{},touchedFields:q.keepTouched?r.touchedFields:{},errors:q.keepErrors?r.errors:{},isSubmitSuccessful:q.keepIsSubmitSuccessful?r.isSubmitSuccessful:!1,isSubmitting:!1,defaultValues:i})},Wt=($,q)=>Ge(Ur($)?$(s):$,{...e.resetOptions,...q}),Ce=($,q={})=>{const L=fe(n,$),se=L&&L._f;if(se){const ee=se.refs?se.refs[0]:se.ref;ee.focus&&setTimeout(()=>{ee.focus(),q.shouldSelect&&Ur(ee.select)&&ee.select()})}},We=$=>{r={...r,...$}},Nt={control:{register:Ut,unregister:ke,getFieldState:G,handleSubmit:Ne,setError:ve,_subscribe:me,_runSchema:S,_updateIsValidating:g,_focusError:ht,_getWatch:I,_getDirty:O,_setValid:x,_setFieldArray:v,_setDisabledField:tt,_setErrors:b,_getFieldArray:M,_reset:Ge,_resetDefaultValues:()=>Ur(e.defaultValues)&&e.defaultValues().then($=>{Wt($,e.resetOptions),p.state.next({isLoading:!1})}),_removeUnmounted:P,_disableForm:J,_subjects:p,_proxyFormState:h,get _fields(){return n},get _formValues(){return s},get _state(){return a},set _state($){a=$},get _defaultValues(){return i},get _names(){return o},set _names($){o=$},get _formState(){return r},get _options(){return e},set _options($){e={...e,...$}}},subscribe:Ee,trigger:U,register:Ut,handleSubmit:Ne,watch:Ie,setValue:W,getValues:z,reset:Wt,resetField:Fe,clearErrors:ce,unregister:ke,setError:ve,setFocus:Ce,getFieldState:G};return{...Nt,formControl:Nt}}function Au(t={}){const e=De.useRef(void 0),r=De.useRef(void 0),[n,i]=De.useState({isDirty:!1,isValidating:!1,isLoading:Ur(t.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1,isReady:!1,defaultValues:Ur(t.defaultValues)?void 0:t.defaultValues});if(!e.current)if(t.formControl)e.current={...t.formControl,formState:n},t.defaultValues&&!Ur(t.defaultValues)&&t.formControl.reset(t.defaultValues,t.resetOptions);else{const{formControl:a,...o}=Qse(t);e.current={...o,formState:n}}const s=e.current.control;return s._options=t,vO(()=>{const a=s._subscribe({formState:s._proxyFormState,callback:()=>i({...s._formState}),reRenderRoot:!0});return i(o=>({...o,isReady:!0})),s._formState.isReady=!0,a},[s]),De.useEffect(()=>s._disableForm(t.disabled),[s,t.disabled]),De.useEffect(()=>{t.mode&&(s._options.mode=t.mode),t.reValidateMode&&(s._options.reValidateMode=t.reValidateMode)},[s,t.mode,t.reValidateMode]),De.useEffect(()=>{t.errors&&(s._setErrors(t.errors),s._focusError())},[s,t.errors]),De.useEffect(()=>{t.shouldUnregister&&s._subjects.state.next({values:s._getWatch()})},[s,t.shouldUnregister]),De.useEffect(()=>{if(s._proxyFormState.isDirty){const a=s._getDirty();a!==n.isDirty&&s._subjects.state.next({isDirty:a})}},[s,n.isDirty]),De.useEffect(()=>{var a;t.values&&!di(t.values,r.current)?(s._reset(t.values,{keepFieldsRef:!0,...s._options.resetOptions}),!((a=s._options.resetOptions)===null||a===void 0)&&a.keepIsValid||s._setValid(),r.current=t.values,i(o=>({...o}))):s._resetDefaultValues()},[s,t.values]),De.useEffect(()=>{s._state.mount||(s._setValid(),s._state.mount=!0),s._state.watch&&(s._state.watch=!1,s._subjects.state.next({...s._formState})),s._removeUnmounted()}),e.current.formState=LK(n,s),e.current}function oR(){var M;const{id:t}=Ss(),e=Qr(),[r]=YC(),n=!!t,i=r.get("returnTo"),s=r.get("sourcePersonId"),{data:a,isLoading:o}=qu(t),u=sne(),c=th(),{data:d=[]}=rt({queryKey:["date-types"],queryFn:async()=>(await Ae.getDateTypes()).data}),h=d.find(k=>k.slug==="birthday"||k.name.toLowerCase()==="birthday"),[f,p]=T.useState(!1),[m,y]=T.useState(null),[x,g]=T.useState(null),v=Ze({mutationFn:async k=>{const H=new FormData;return H.append("file",k),(await de.post("/prm/v1/import/vcard/parse",H,{headers:{"Content-Type":"multipart/form-data"}})).data}}),{register:w,handleSubmit:b,reset:_,formState:{errors:E,isSubmitting:N}}=Au({defaultValues:{first_name:"",last_name:"",nickname:"",gender:"",email:"",how_we_met:"",is_favorite:!1,birthday:""}});T.useEffect(()=>{var k,H,W,A,K,U,z,G;if(a){const ce=(H=(k=a.acf)==null?void 0:k.contact_info)==null?void 0:H.find(Ie=>Ie.contact_type==="email"),ve=(ce==null?void 0:ce.contact_value)||"";_({first_name:((W=a.acf)==null?void 0:W.first_name)||"",last_name:((A=a.acf)==null?void 0:A.last_name)||"",nickname:((K=a.acf)==null?void 0:K.nickname)||"",gender:((U=a.acf)==null?void 0:U.gender)||"",email:ve,how_we_met:((z=a.acf)==null?void 0:z.how_we_met)||"",is_favorite:((G=a.acf)==null?void 0:G.is_favorite)||!1,birthday:""})}},[a,_]),vn(n&&a?`Edit ${((M=a.title)==null?void 0:M.rendered)||a.title||"person"}`:"New person");const S=T.useCallback(k=>{k.preventDefault(),k.stopPropagation(),k.type==="dragenter"||k.type==="dragover"?p(!0):k.type==="dragleave"&&p(!1)},[]),j=T.useCallback(k=>{k.preventDefault(),k.stopPropagation(),p(!1),g(null),k.dataTransfer.files&&k.dataTransfer.files[0]&&C(k.dataTransfer.files[0])},[]),C=k=>{const H=k.name.split(".").pop().toLowerCase();if(H!=="vcf"&&H!=="vcard"){g("Please select a vCard file (.vcf)");return}y(k),v.mutate(k,{onSuccess:W=>{_({first_name:W.first_name||"",last_name:W.last_name||"",nickname:W.nickname||"",gender:"",email:W.email||"",how_we_met:W.note||"",is_favorite:!1,birthday:W.birthday||""}),W.contact_count>1&&g(`Note: File contains ${W.contact_count} contacts. Only the first contact was loaded.`)},onError:W=>{var A,K;g(((K=(A=W.response)==null?void 0:A.data)==null?void 0:K.message)||"Failed to parse vCard file"),y(null)}})},P=k=>{g(null),k.target.files&&k.target.files[0]&&C(k.target.files[0])},O=()=>{y(null),g(null),v.reset()},I=async k=>{try{const W=`${k.first_name||""} ${k.last_name||""}`.trim()||"Unnamed Person",A={title:W,status:"publish",acf:{first_name:k.first_name,last_name:k.last_name,nickname:k.nickname,gender:k.gender||null,how_we_met:k.how_we_met,is_favorite:k.is_favorite}};if(!n&&k.email&&(A.acf.contact_info=[{contact_type:"email",contact_value:k.email,contact_label:""}]),n)A.title=W,await c.mutateAsync({id:t,data:A}),e(`/people/${t}`);else{const U=(await u.mutateAsync(A)).data.id;if(k.email)try{await qe.sideloadGravatar(U,k.email)}catch(z){console.error("Failed to load Gravatar:",z)}if(k.birthday&&h)try{const z=k.first_name||"Person";await Ae.createDate({title:`${z}'s Birthday`,status:"publish",date_type:[h.id],acf:{date_value:k.birthday,is_recurring:!0,related_people:[U],reminder_days_before:7}})}catch(z){console.error("Failed to create birthday:",z)}e(i==="relationship"&&s?`/people/${s}/relationship/new?newPersonId=${U}`:`/people/${U}`)}}catch(H){console.error("Failed to save person:",H)}};return n&&o?l.jsx("div",{className:"flex items-center justify-center h-64",children:l.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"})}):l.jsxs("div",{className:"max-w-2xl mx-auto space-y-6",children:[l.jsx("div",{className:"flex items-center justify-between",children:i==="relationship"&&s?l.jsxs(he,{to:`/people/${s}/relationship/new`,className:"flex items-center text-gray-600 hover:text-gray-900",children:[l.jsx(Cn,{className:"w-4 h-4 md:mr-2"}),l.jsx("span",{className:"hidden md:inline",children:"Back to add relationship"})]}):l.jsxs(he,{to:"/people",className:"flex items-center text-gray-600 hover:text-gray-900",children:[l.jsx(Cn,{className:"w-4 h-4 md:mr-2"}),l.jsx("span",{className:"hidden md:inline",children:"Back to people"})]})}),l.jsxs("div",{className:"card p-6",children:[l.jsx("h1",{className:"text-xl font-bold mb-6",children:n?"Edit person":"Add new person"}),!n&&l.jsxs("div",{className:"mb-6",children:[l.jsxs("div",{className:`relative rounded-lg border-2 border-dashed p-4 text-center transition-colors ${f?"border-primary-500 bg-primary-50":m&&!x?"border-green-300 bg-green-50":"border-gray-300 hover:border-gray-400"}`,onDragEnter:S,onDragLeave:S,onDragOver:S,onDrop:j,children:[l.jsx("input",{type:"file",accept:".vcf,.vcard",onChange:P,className:"absolute inset-0 w-full h-full opacity-0 cursor-pointer"}),v.isPending?l.jsxs("div",{className:"flex items-center justify-center gap-2 py-2",children:[l.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-primary-600"}),l.jsx("span",{className:"text-sm text-gray-600",children:"Parsing vCard..."})]}):m&&!x?l.jsxs("div",{className:"flex items-center justify-center gap-2 py-2",children:[l.jsx(eh,{className:"h-5 w-5 text-green-600"}),l.jsxs("span",{className:"text-sm text-green-700",children:["Loaded from ",m.name]}),l.jsx("button",{type:"button",onClick:k=>{k.preventDefault(),k.stopPropagation(),O()},className:"ml-2 p-1 hover:bg-green-100 rounded",children:l.jsx(Vr,{className:"h-4 w-4 text-green-600"})})]}):l.jsxs("div",{className:"flex items-center justify-center gap-2 py-2",children:[l.jsx(Io,{className:"h-5 w-5 text-gray-400"}),l.jsxs("span",{className:"text-sm text-gray-600",children:["Drop a vCard file here to import, or ",l.jsx("span",{className:"text-primary-600",children:"browse"})]})]})]}),x&&l.jsxs("div",{className:"mt-2 flex items-start gap-2 text-sm text-amber-700 bg-amber-50 rounded-lg p-2",children:[l.jsx(gs,{className:"h-4 w-4 mt-0.5 flex-shrink-0"}),l.jsx("span",{children:x})]})]}),l.jsxs("form",{onSubmit:b(I),className:"space-y-6",children:[l.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"label",children:"First name *"}),l.jsx("input",{...w("first_name",{required:"First name is required"}),className:"input",placeholder:"John"}),E.first_name&&l.jsx("p",{className:"text-sm text-red-600 mt-1",children:E.first_name.message})]}),l.jsxs("div",{children:[l.jsx("label",{className:"label",children:"Last name"}),l.jsx("input",{...w("last_name"),className:"input",placeholder:"Doe"})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"label",children:"Nickname"}),l.jsx("input",{...w("nickname"),className:"input",placeholder:"Johnny"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"label",children:"Gender"}),l.jsxs("select",{...w("gender"),className:"input",children:[l.jsx("option",{value:"",children:"Select gender..."}),l.jsx("option",{value:"male",children:"Male"}),l.jsx("option",{value:"female",children:"Female"}),l.jsx("option",{value:"non_binary",children:"Non-binary"}),l.jsx("option",{value:"other",children:"Other"}),l.jsx("option",{value:"prefer_not_to_say",children:"Prefer not to say"})]})]}),!n&&l.jsxs("div",{children:[l.jsx("label",{className:"label",children:"Email"}),l.jsx("input",{type:"email",...w("email"),className:"input",placeholder:"john@example.com"}),l.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Optional: If a Gravatar is associated with this email, it will be automatically set as the profile photo"})]}),!n&&l.jsxs("div",{children:[l.jsx("label",{className:"label",children:"Birthday"}),l.jsx("input",{type:"date",...w("birthday"),className:"input"}),l.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Optional: Set their birthday when creating a new person"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"label",children:"How we met"}),l.jsx("textarea",{...w("how_we_met"),className:"input",rows:4,placeholder:"We met at..."})]}),l.jsxs("div",{className:"flex items-center",children:[l.jsx("input",{type:"checkbox",...w("is_favorite"),className:"w-4 h-4 rounded border-gray-300 text-primary-600 focus:ring-primary-500"}),l.jsx("label",{className:"ml-2 text-sm text-gray-700",children:"Mark as favorite"})]}),l.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t",children:[i==="relationship"&&s?l.jsx(he,{to:`/people/${s}/relationship/new`,className:"btn-secondary",children:"Cancel"}):l.jsx(he,{to:"/people",className:"btn-secondary",children:"Cancel"}),l.jsxs("button",{type:"submit",className:"btn-primary",disabled:N,children:[N?l.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}):l.jsx(xa,{className:"w-4 h-4 mr-2"}),n?"Save changes":"Create person"]})]})]})]})]})}function Xse({value:t,onChange:e,companies:r,isLoading:n}){return l.jsxs("select",{value:t||"",onChange:i=>e(i.target.value?parseInt(i.target.value,10):null),className:"input",disabled:n,children:[l.jsx("option",{value:"",children:"Select an organization..."}),r.map(i=>{var s;return l.jsx("option",{value:i.id,children:((s=i.title)==null?void 0:s.rendered)||i.title},i.id)})]})}function lR(){var v,w;const{personId:t,index:e}=Ss(),r=Qr();ut();const n=parseInt(e,10),i=!isNaN(n),{data:s,isLoading:a}=qu(t),o=th(),{data:u=[],isLoading:c}=rt({queryKey:["companies","all"],queryFn:async()=>(await Ae.getCompanies({per_page:100,orderby:"title",order:"asc"})).data}),{register:d,handleSubmit:h,reset:f,watch:p,control:m,formState:{errors:y,isSubmitting:x}}=Au({defaultValues:{company:null,job_title:"",description:"",start_date:"",end_date:"",is_current:!1}});T.useEffect(()=>{var b;if(s&&i){const E=(((b=s.acf)==null?void 0:b.work_history)||[])[n];E&&f({company:E.company||null,job_title:E.job_title||"",description:E.description||"",start_date:E.start_date||"",end_date:E.end_date||"",is_current:E.is_current||!1})}},[s,n,i,f]),vn(i?`Edit work history - ${((v=s==null?void 0:s.title)==null?void 0:v.rendered)||(s==null?void 0:s.title)||"person"}`:`Add work history - ${((w=s==null?void 0:s.title)==null?void 0:w.rendered)||(s==null?void 0:s.title)||"person"}`);const g=async b=>{var _;try{const E=[...((_=s.acf)==null?void 0:_.work_history)||[]],N={company:b.company||null,job_title:b.job_title||"",description:b.description||"",start_date:b.start_date||"",end_date:b.end_date||"",is_current:b.is_current||!1};i?E[n]=N:E.push(N);const S=Ya(s.acf,{work_history:E});await o.mutateAsync({id:t,data:{acf:S}}),r(`/people/${t}`)}catch(E){console.error("Failed to save work history:",E)}};return p("is_current"),a?l.jsx("div",{className:"flex items-center justify-center h-64",children:l.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"})}):s?l.jsxs("div",{className:"max-w-2xl mx-auto space-y-6",children:[l.jsx("div",{className:"flex items-center justify-between",children:l.jsxs(he,{to:`/people/${t}`,className:"flex items-center text-gray-600 hover:text-gray-900",children:[l.jsx(Cn,{className:"w-4 h-4 md:mr-2"}),l.jsx("span",{className:"hidden md:inline",children:"Back to person"})]})}),l.jsxs("div",{className:"card p-6",children:[l.jsx("h1",{className:"text-xl font-bold mb-6",children:i?"Edit work history":"Add work history"}),l.jsxs("form",{onSubmit:h(g),className:"space-y-6",children:[l.jsxs("div",{children:[l.jsx("label",{className:"label",children:"Organization"}),l.jsx(Ep,{name:"company",control:m,render:({field:b})=>l.jsx(Xse,{value:b.value,onChange:b.onChange,companies:u,isLoading:c})})]}),l.jsxs("div",{children:[l.jsx("label",{className:"label",children:"Job title"}),l.jsx("input",{...d("job_title"),className:"input",placeholder:"e.g., Software Engineer"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"label",children:"Description"}),l.jsx("textarea",{...d("description"),className:"input",rows:4,placeholder:"Job description, responsibilities, achievements..."})]}),l.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"label",children:"Start date"}),l.jsx("input",{type:"date",...d("start_date"),className:"input"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"label",children:"End date"}),l.jsx("input",{type:"date",...d("end_date"),className:"input"}),l.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Optional: Set a future end date to automatically mark as former when it passes"})]})]}),l.jsxs("div",{className:"flex items-center",children:[l.jsx("input",{type:"checkbox",...d("is_current"),className:"w-4 h-4 rounded border-gray-300 text-primary-600 focus:ring-primary-500"}),l.jsx("label",{className:"ml-2 text-sm text-gray-700",children:"Currently works here"})]}),l.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t",children:[l.jsx(he,{to:`/people/${t}`,className:"btn-secondary",children:"Cancel"}),l.jsxs("button",{type:"submit",className:"btn-primary",disabled:x,children:[x?l.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}):l.jsx(xa,{className:"w-4 h-4 mr-2"}),i?"Save changes":"Add work history"]})]})]})]})]}):l.jsxs("div",{className:"card p-6 text-center",children:[l.jsx("p",{className:"text-red-600",children:"Failed to load person."}),l.jsx(he,{to:"/people",className:"btn-secondary mt-4",children:"Back to people"})]})}const Jse=[{value:"email",label:"Email"},{value:"phone",label:"Phone"},{value:"mobile",label:"Mobile"},{value:"address",label:"Address"},{value:"website",label:"Website"},{value:"linkedin",label:"LinkedIn"},{value:"twitter",label:"Twitter"},{value:"bluesky",label:"Bluesky"},{value:"threads",label:"Threads"},{value:"instagram",label:"Instagram"},{value:"facebook",label:"Facebook"},{value:"other",label:"Other"}];function uR(){var y,x;const{personId:t,index:e}=Ss(),r=Qr(),n=ut(),i=parseInt(e,10),s=!isNaN(i),{data:a,isLoading:o}=qu(t),u=th(),{register:c,handleSubmit:d,reset:h,formState:{errors:f,isSubmitting:p}}=Au({defaultValues:{contact_type:"",contact_label:"",contact_value:""}});T.useEffect(()=>{var g;if(a&&s){const w=(((g=a.acf)==null?void 0:g.contact_info)||[])[i];w&&h({contact_type:w.contact_type||"",contact_label:w.contact_label||"",contact_value:w.contact_value||""})}},[a,i,s,h]),vn(s?`Edit contact detail - ${((y=a==null?void 0:a.title)==null?void 0:y.rendered)||(a==null?void 0:a.title)||"person"}`:`Add contact detail - ${((x=a==null?void 0:a.title)==null?void 0:x.rendered)||(a==null?void 0:a.title)||"person"}`);const m=async g=>{var v,w,b,_;try{const E=[...((v=a.acf)==null?void 0:v.contact_info)||[]],N={contact_type:g.contact_type||"",contact_label:g.contact_label||"",contact_value:g.contact_value||""};s?E[i]=N:E.push(N);const S=Ya(a.acf,{contact_info:E});if(await u.mutateAsync({id:t,data:{acf:S}}),!s&&g.contact_type==="email"&&g.contact_value&&!(a.featured_media>0||((_=(b=(w=a._embedded)==null?void 0:w["wp:featuredmedia"])==null?void 0:b[0])==null?void 0:_.source_url)||a.thumbnail))try{await qe.sideloadGravatar(t,g.contact_value),n.invalidateQueries({queryKey:["person",t]})}catch(C){console.log("No Gravatar found or failed to load:",C)}r(`/people/${t}`)}catch(E){console.error("Failed to save contact detail:",E)}};return o?l.jsx("div",{className:"flex items-center justify-center h-64",children:l.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"})}):a?l.jsxs("div",{className:"max-w-2xl mx-auto space-y-6",children:[l.jsx("div",{className:"flex items-center justify-between",children:l.jsxs(he,{to:`/people/${t}`,className:"flex items-center text-gray-600 hover:text-gray-900",children:[l.jsx(Cn,{className:"w-4 h-4 md:mr-2"}),l.jsx("span",{className:"hidden md:inline",children:"Back to person"})]})}),l.jsxs("div",{className:"card p-6",children:[l.jsx("h1",{className:"text-xl font-bold mb-6",children:s?"Edit contact detail":"Add contact detail"}),l.jsxs("form",{onSubmit:d(m),className:"space-y-6",children:[l.jsxs("div",{children:[l.jsx("label",{className:"label",children:"Contact type *"}),l.jsxs("select",{...c("contact_type",{required:"Please select a contact type"}),className:"input",children:[l.jsx("option",{value:"",children:"Select a type..."}),Jse.map(g=>l.jsx("option",{value:g.value,children:g.label},g.value))]}),f.contact_type&&l.jsx("p",{className:"text-sm text-red-600 mt-1",children:f.contact_type.message})]}),l.jsxs("div",{children:[l.jsx("label",{className:"label",children:"Label"}),l.jsx("input",{...c("contact_label"),className:"input",placeholder:"e.g., Work, Personal, Home"}),l.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Optional: Add a label to distinguish multiple entries of the same type"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"label",children:"Value *"}),l.jsx("input",{...c("contact_value",{required:"Please enter a contact value"}),className:"input",placeholder:"e.g., john@example.com, +1 234 567 8900"}),f.contact_value&&l.jsx("p",{className:"text-sm text-red-600 mt-1",children:f.contact_value.message})]}),l.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t",children:[l.jsx(he,{to:`/people/${t}`,className:"btn-secondary",children:"Cancel"}),l.jsxs("button",{type:"submit",className:"btn-primary",disabled:p,children:[p?l.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}):l.jsx(xa,{className:"w-4 h-4 mr-2"}),s?"Save changes":"Add contact detail"]})]})]})]})]}):l.jsxs("div",{className:"card p-6 text-center",children:[l.jsx("p",{className:"text-red-600",children:"Failed to load person."}),l.jsx(he,{to:"/people",className:"btn-secondary mt-4",children:"Back to people"})]})}function Zse({value:t,onChange:e,people:r,isLoading:n,excludePersonId:i}){const[s,a]=T.useState(""),[o,u]=T.useState(!1),c=T.useRef(null),d=T.useRef(null),h=T.useMemo(()=>r.filter(v=>v.id!==i).sort((v,w)=>{var E,N;const b=(v.first_name||((E=v.acf)==null?void 0:E.first_name)||"").toLowerCase(),_=(w.first_name||((N=w.acf)==null?void 0:N.first_name)||"").toLowerCase();return b<_?-1:b>_?1:0}),[r,i]),f=T.useMemo(()=>{if(!s)return h.slice(0,10);const g=s.toLowerCase();return h.filter(v=>{var E,N;const w=po(v).toLowerCase(),b=(v.first_name||((E=v.acf)==null?void 0:E.first_name)||"").toLowerCase(),_=(v.last_name||((N=v.acf)==null?void 0:N.last_name)||"").toLowerCase();return w.includes(g)||b.includes(g)||_.includes(g)}).slice(0,10)},[h,s]),p=T.useMemo(()=>h.find(g=>g.id===t),[h,t]);T.useEffect(()=>{const g=v=>{d.current&&!d.current.contains(v.target)&&c.current&&!c.current.contains(v.target)&&u(!1)};return document.addEventListener("mousedown",g),()=>document.removeEventListener("mousedown",g)},[]);const m=g=>{e(g),a(""),u(!1)},y=()=>{e(null),a(""),u(!1)},x=p?po(p):"";return l.jsxs("div",{className:"relative",children:[l.jsx("div",{className:"relative",children:p&&!o?l.jsxs("div",{className:"flex items-center justify-between input pr-8 cursor-text",onClick:()=>u(!0),children:[l.jsx("span",{children:x}),l.jsx("button",{type:"button",onClick:g=>{g.stopPropagation(),y()},className:"absolute right-2 text-gray-400 hover:text-gray-600",children:l.jsx(Vr,{className:"w-4 h-4"})})]}):l.jsx("input",{ref:c,type:"text",value:s,onChange:g=>{a(g.target.value),u(!0)},onFocus:()=>u(!0),placeholder:"Search for a person...",className:"input",disabled:n})}),o&&(s||!p)&&l.jsx("div",{ref:d,className:"absolute z-10 w-full mt-1 bg-white border border-gray-200 rounded-lg shadow-lg max-h-48 overflow-y-auto",children:f.length>0?f.map(g=>l.jsx("button",{type:"button",onClick:()=>m(g.id),className:`w-full text-left px-4 py-2 hover:bg-gray-50 ${t===g.id?"bg-primary-50":""}`,children:po(g)},g.id)):l.jsx("p",{className:"px-4 py-2 text-gray-500 text-sm",children:"No people found"})})]})}function cR(){var E,N;const{personId:t,index:e}=Ss(),r=Qr(),[n]=YC(),i=ut(),s=parseInt(e,10),a=!isNaN(s),{data:o,isLoading:u}=qu(t),c=th(),{data:d=[],isLoading:h}=Wo(),{data:f=[],isLoading:p}=rt({queryKey:["relationship-types"],queryFn:async()=>(await Ae.getRelationshipTypes()).data}),{register:m,handleSubmit:y,reset:x,control:g,setValue:v,formState:{errors:w,isSubmitting:b}}=Au({defaultValues:{related_person:null,relationship_type:"",relationship_label:""}});T.useEffect(()=>{const S=n.get("newPersonId");if(S&&!a&&!h){const j=parseInt(S,10);if(!isNaN(j))if(d.some(P=>P.id===j)){v("related_person",j);const P=new URLSearchParams(n);P.delete("newPersonId"),r({search:P.toString()},{replace:!0})}else(async()=>{try{await i.invalidateQueries({queryKey:["people"]});const{data:O=[]}=await i.refetchQueries({queryKey:["people"]});O.some(k=>k.id===j)&&v("related_person",j);const M=new URLSearchParams(n);M.delete("newPersonId"),r({search:M.toString()},{replace:!0})}catch(O){console.error("Failed to load new person:",O);const I=new URLSearchParams(n);I.delete("newPersonId"),r({search:I.toString()},{replace:!0})}})()}},[n,a,h,d,v,r,i]),T.useEffect(()=>{var S;if(o&&a){const C=(((S=o.acf)==null?void 0:S.relationships)||[])[s];C&&x({related_person:C.related_person||null,relationship_type:C.relationship_type?String(C.relationship_type):"",relationship_label:C.relationship_label||""})}},[o,s,a,x]),vn(a?`Edit relationship - ${((E=o==null?void 0:o.title)==null?void 0:E.rendered)||(o==null?void 0:o.title)||"person"}`:`Add relationship - ${((N=o==null?void 0:o.title)==null?void 0:N.rendered)||(o==null?void 0:o.title)||"person"}`);const _=async S=>{var j;try{const C=[...((j=o.acf)==null?void 0:j.relationships)||[]],P={related_person:S.related_person||null,relationship_type:S.relationship_type||null,relationship_label:S.relationship_label||""};a?C[s]=P:C.push(P);const O=Ya(o.acf,{relationships:C});await c.mutateAsync({id:t,data:{acf:O}}),r(`/people/${t}`)}catch(C){console.error("Failed to save relationship:",C)}};return u?l.jsx("div",{className:"flex items-center justify-center h-64",children:l.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"})}):o?l.jsxs("div",{className:"max-w-2xl mx-auto space-y-6",children:[l.jsx("div",{className:"flex items-center justify-between",children:l.jsxs(he,{to:`/people/${t}`,className:"flex items-center text-gray-600 hover:text-gray-900",children:[l.jsx(Cn,{className:"w-4 h-4 md:mr-2"}),l.jsx("span",{className:"hidden md:inline",children:"Back to person"})]})}),l.jsxs("div",{className:"card p-6",children:[l.jsx("h1",{className:"text-xl font-bold mb-6",children:a?"Edit relationship":"Add relationship"}),l.jsxs("form",{onSubmit:y(_),className:"space-y-6",children:[l.jsxs("div",{children:[l.jsx("label",{className:"label",children:"Related person *"}),l.jsx(Ep,{name:"related_person",control:g,rules:{required:"Please select a person"},render:({field:S})=>l.jsx(Zse,{value:S.value,onChange:S.onChange,people:d,isLoading:h,excludePersonId:parseInt(t,10)})}),w.related_person&&l.jsx("p",{className:"text-sm text-red-600 mt-1",children:w.related_person.message}),!a&&l.jsx("div",{className:"mt-2",children:l.jsxs(he,{to:`/people/new?returnTo=relationship&sourcePersonId=${t}`,className:"inline-flex items-center gap-1 text-sm text-primary-600 hover:text-primary-700",children:[l.jsx(Vt,{className:"w-4 h-4"}),"Add new person"]})})]}),l.jsxs("div",{children:[l.jsx("label",{className:"label",children:"Relationship type"}),l.jsxs("select",{...m("relationship_type",{setValueAs:S=>S?parseInt(S,10):null}),className:"input",disabled:p,children:[l.jsx("option",{value:"",children:"Select a type..."}),f.map(S=>l.jsx("option",{value:S.id,children:S.name},S.id))]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"label",children:"Custom label"}),l.jsx("input",{...m("relationship_label"),className:"input",placeholder:"e.g., Brother-in-law"}),l.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Optional: Override the relationship type with a custom label"})]}),l.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t",children:[l.jsx(he,{to:`/people/${t}`,className:"btn-secondary",children:"Cancel"}),l.jsxs("button",{type:"submit",className:"btn-primary",disabled:b,children:[b?l.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}):l.jsx(xa,{className:"w-4 h-4 mr-2"}),a?"Save changes":"Add relationship"]})]})]})]})]}):l.jsxs("div",{className:"card p-6 text-center",children:[l.jsx("p",{className:"text-red-600",children:"Failed to load person."}),l.jsx(he,{to:"/people",className:"btn-secondary mt-4",children:"Back to people"})]})}function eae({company:t}){var e,r,n,i,s;return l.jsx(he,{to:`/companies/${t.id}`,className:"card p-4 hover:shadow-md transition-shadow",children:l.jsxs("div",{className:"flex items-start",children:[(n=(r=(e=t._embedded)==null?void 0:e["wp:featuredmedia"])==null?void 0:r[0])!=null&&n.source_url?l.jsx("img",{src:t._embedded["wp:featuredmedia"][0].source_url,alt:qt(t),className:"w-12 h-12 rounded-lg object-contain bg-white"}):l.jsx("div",{className:"w-12 h-12 bg-white rounded-lg flex items-center justify-center border border-gray-200",children:l.jsx(Sr,{className:"w-6 h-6 text-gray-400"})}),l.jsxs("div",{className:"ml-3 flex-1 min-w-0",children:[l.jsx("h3",{className:"text-sm font-medium text-gray-900 truncate",children:qt(t)}),((i=t.acf)==null?void 0:i.industry)&&l.jsx("p",{className:"text-sm text-gray-500",children:t.acf.industry}),((s=t.acf)==null?void 0:s.website)&&l.jsx("p",{className:"text-xs text-primary-600 truncate",children:t.acf.website})]})]})})}function tae(){const[t,e]=T.useState(""),{data:r,isLoading:n,error:i}=rt({queryKey:["companies",t],queryFn:async()=>(await Ae.getCompanies({search:t,per_page:100,_embed:!0})).data}),s=T.useMemo(()=>r?[...r].sort((a,o)=>{var d,h;const u=(((d=a.title)==null?void 0:d.rendered)||a.title||"").toLowerCase(),c=(((h=o.title)==null?void 0:h.rendered)||o.title||"").toLowerCase();return u.localeCompare(c)}):[],[r]);return l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[l.jsxs("div",{className:"relative flex-1 max-w-md",children:[l.jsx(To,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}),l.jsx("input",{type:"search",placeholder:"Search organizations...",value:t,onChange:a=>e(a.target.value),className:"input pl-9"})]}),l.jsxs(he,{to:"/companies/new",className:"btn-primary",children:[l.jsx(Vt,{className:"w-4 h-4 md:mr-2"}),l.jsx("span",{className:"hidden md:inline",children:"Add organization"})]})]}),n&&l.jsx("div",{className:"flex items-center justify-center h-64",children:l.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"})}),i&&l.jsx("div",{className:"card p-6 text-center",children:l.jsx("p",{className:"text-red-600",children:"Failed to load organizations."})}),!n&&!i&&(s==null?void 0:s.length)===0&&l.jsxs("div",{className:"card p-12 text-center",children:[l.jsx("div",{className:"w-12 h-12 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4",children:l.jsx(Sr,{className:"w-6 h-6 text-gray-400"})}),l.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-1",children:"No organizations found"}),l.jsx("p",{className:"text-gray-500 mb-4",children:t?"Try a different search.":"Add your first organization."}),!t&&l.jsxs(he,{to:"/companies/new",className:"btn-primary",children:[l.jsx(Vt,{className:"w-4 h-4 md:mr-2"}),l.jsx("span",{className:"hidden md:inline",children:"Add organization"})]})]}),!n&&!i&&(s==null?void 0:s.length)>0&&l.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:s.map(a=>l.jsx(eae,{company:a},a.id))})]})}function rae(){var m,y,x,g,v,w,b;const{id:t}=Ss(),e=Qr(),r=ut(),{data:n,isLoading:i,error:s}=rt({queryKey:["company",t],queryFn:async()=>(await Ae.getCompany(t,{_embed:!0})).data}),{data:a}=rt({queryKey:["company-people",t],queryFn:async()=>(await qe.getCompanyPeople(t)).data}),{data:o}=rt({queryKey:["company",n==null?void 0:n.parent],queryFn:async()=>(await Ae.getCompany(n.parent,{_embed:!0})).data,enabled:!!(n!=null&&n.parent)}),{data:u=[]}=rt({queryKey:["company-children",t],queryFn:async()=>(await Ae.getCompanies({parent:t,per_page:100,_embed:!0})).data}),c=((m=n==null?void 0:n.acf)==null?void 0:m.investors)||[],{data:d=[]}=rt({queryKey:["company-investors",t,c],queryFn:async()=>{if(!c.length)return[];const[_,E]=await Promise.all([Ae.getPeople({per_page:100,include:c.join(","),_embed:!0}),Ae.getCompanies({per_page:100,include:c.join(","),_embed:!0})]),N=(_.data||[]).map(C=>{var P,O,I,M;return{id:C.id,type:"person",name:ln(((P=C.title)==null?void 0:P.rendered)||""),thumbnail:(M=(I=(O=C._embedded)==null?void 0:O["wp:featuredmedia"])==null?void 0:I[0])==null?void 0:M.source_url}}),S=(E.data||[]).map(C=>{var P,O,I;return{id:C.id,type:"company",name:qt(C),thumbnail:(I=(O=(P=C._embedded)==null?void 0:P["wp:featuredmedia"])==null?void 0:O[0])==null?void 0:I.source_url}}),j=[...N,...S];return c.map(C=>j.find(P=>P.id===C)).filter(Boolean)},enabled:c.length>0}),h=Ze({mutationFn:()=>Ae.deleteCompany(t,{force:!0}),onSuccess:()=>{r.invalidateQueries({queryKey:["companies"]}),e("/companies")}});vn(qt(n)||"Organization"),T.useEffect(()=>{(n==null?void 0:n.status)==="trash"&&e("/companies",{replace:!0})},[n,e]);const f=async()=>{if(window.confirm("Are you sure you want to delete this organization?"))try{await h.mutateAsync()}catch(_){console.error("Failed to delete company:",_),alert("Failed to delete organization. Please try again.")}};if(i)return l.jsx("div",{className:"flex items-center justify-center h-64",children:l.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"})});if(s||!n)return l.jsxs("div",{className:"card p-6 text-center",children:[l.jsx("p",{className:"text-red-600",children:"Failed to load organization."}),l.jsx(he,{to:"/companies",className:"btn-secondary mt-4",children:"Back to organizations"})]});if(n.status==="trash")return null;const p=n.acf||{};return l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs(he,{to:"/companies",className:"flex items-center text-gray-600 hover:text-gray-900",children:[l.jsx(Cn,{className:"w-4 h-4 md:mr-2"}),l.jsx("span",{className:"hidden md:inline",children:"Back to organizations"})]}),l.jsxs("div",{className:"flex gap-2",children:[l.jsxs(he,{to:`/companies/${t}/edit`,className:"btn-secondary",children:[l.jsx(pK,{className:"w-4 h-4 mr-2"}),"Edit"]}),l.jsxs("button",{onClick:f,className:"btn-danger",children:[l.jsx(Bn,{className:"w-4 h-4 mr-2"}),"Delete"]})]})]}),l.jsx("div",{className:"card p-6",children:l.jsxs("div",{className:"flex items-center gap-4",children:[(g=(x=(y=n._embedded)==null?void 0:y["wp:featuredmedia"])==null?void 0:x[0])!=null&&g.source_url?l.jsx("img",{src:n._embedded["wp:featuredmedia"][0].source_url,alt:qt(n),className:"w-24 h-24 rounded-lg object-contain bg-white"}):l.jsx("div",{className:"w-24 h-24 bg-white rounded-lg flex items-center justify-center border border-gray-200",children:l.jsx(Sr,{className:"w-12 h-12 text-gray-400"})}),l.jsxs("div",{children:[o&&l.jsxs(he,{to:`/companies/${o.id}`,className:"text-sm text-primary-600 hover:underline flex items-center mb-1",children:[l.jsx(FI,{className:"w-3 h-3 mr-1"}),"Subsidiary of ",qt(o)]}),l.jsx("h1",{className:"text-2xl font-bold",children:qt(n)}),p.industry&&l.jsx("p",{className:"text-gray-500",children:p.industry}),p.website&&l.jsxs("a",{href:p.website,target:"_blank",rel:"noopener noreferrer",className:"text-primary-600 hover:underline flex items-center mt-1",children:[l.jsx(qf,{className:"w-4 h-4 mr-1"}),p.website]})]})]})}),u.length>0&&l.jsxs("div",{className:"card p-6",children:[l.jsxs("h2",{className:"font-semibold mb-4 flex items-center",children:[l.jsx(FI,{className:"w-5 h-5 mr-2"}),"Subsidiaries"]}),l.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3",children:u.map(_=>{var E,N,S,j;return l.jsxs(he,{to:`/companies/${_.id}`,className:"flex items-center p-3 rounded-lg hover:bg-gray-50 border border-gray-200",children:[(S=(N=(E=_._embedded)==null?void 0:E["wp:featuredmedia"])==null?void 0:N[0])!=null&&S.source_url?l.jsx("img",{src:_._embedded["wp:featuredmedia"][0].source_url,alt:qt(_),className:"w-10 h-10 rounded object-contain bg-white"}):l.jsx("div",{className:"w-10 h-10 bg-gray-100 rounded flex items-center justify-center",children:l.jsx(Sr,{className:"w-5 h-5 text-gray-400"})}),l.jsxs("div",{className:"ml-3",children:[l.jsx("p",{className:"text-sm font-medium",children:qt(_)}),((j=_.acf)==null?void 0:j.industry)&&l.jsx("p",{className:"text-xs text-gray-500",children:_.acf.industry})]})]},_.id)})})]}),l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[l.jsxs("div",{className:"card p-6",children:[l.jsxs("h2",{className:"font-semibold mb-4 flex items-center",children:[l.jsx(Di,{className:"w-5 h-5 mr-2"}),"Current employees"]}),((v=a==null?void 0:a.current)==null?void 0:v.length)>0?l.jsx("div",{className:"space-y-2",children:a.current.map(_=>{var E;return l.jsxs(he,{to:`/people/${_.id}`,className:"flex items-center p-2 rounded hover:bg-gray-50",children:[_.thumbnail?l.jsx("img",{src:_.thumbnail,alt:"",loading:"lazy",className:"w-8 h-8 rounded-full"}):l.jsx("div",{className:"w-8 h-8 bg-gray-200 rounded-full flex items-center justify-center",children:l.jsx("span",{className:"text-xs text-gray-500",children:((E=_.name)==null?void 0:E[0])||"?"})}),l.jsxs("div",{className:"ml-2",children:[l.jsx("p",{className:"text-sm font-medium",children:_.name}),_.job_title&&l.jsx("p",{className:"text-xs text-gray-500",children:_.job_title})]})]},_.id)})}):l.jsx("p",{className:"text-sm text-gray-500",children:"No current employees."})]}),l.jsxs("div",{className:"card p-6",children:[l.jsxs("h2",{className:"font-semibold mb-4 flex items-center",children:[l.jsx(Di,{className:"w-5 h-5 mr-2"}),"Former employees"]}),((w=a==null?void 0:a.former)==null?void 0:w.length)>0?l.jsx("div",{className:"space-y-2",children:a.former.map(_=>{var E;return l.jsxs(he,{to:`/people/${_.id}`,className:"flex items-center p-2 rounded hover:bg-gray-50",children:[_.thumbnail?l.jsx("img",{src:_.thumbnail,alt:"",loading:"lazy",className:"w-8 h-8 rounded-full opacity-75"}):l.jsx("div",{className:"w-8 h-8 bg-gray-200 rounded-full flex items-center justify-center opacity-75",children:l.jsx("span",{className:"text-xs text-gray-500",children:((E=_.name)==null?void 0:E[0])||"?"})}),l.jsxs("div",{className:"ml-2",children:[l.jsx("p",{className:"text-sm font-medium text-gray-700",children:_.name}),_.job_title&&l.jsx("p",{className:"text-xs text-gray-500",children:_.job_title})]})]},_.id)})}):l.jsx("p",{className:"text-sm text-gray-500",children:"No former employees."})]})]}),d.length>0&&l.jsxs("div",{className:"card p-6",children:[l.jsxs("h2",{className:"font-semibold mb-4 flex items-center",children:[l.jsx(vK,{className:"w-5 h-5 mr-2"}),"Investors"]}),l.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3",children:d.map(_=>{const E=_.type==="person",N=E?`/people/${_.id}`:`/companies/${_.id}`;return l.jsxs(he,{to:N,className:"flex items-center p-3 rounded-lg hover:bg-gray-50 border border-gray-200",children:[_.thumbnail?l.jsx("img",{src:_.thumbnail,alt:_.name,loading:"lazy",className:`w-10 h-10 object-cover ${E?"rounded-full":"rounded"}`}):l.jsx("div",{className:`w-10 h-10 bg-gray-100 flex items-center justify-center ${E?"rounded-full":"rounded"}`,children:E?l.jsx(wa,{className:"w-5 h-5 text-gray-400"}):l.jsx(Sr,{className:"w-5 h-5 text-gray-400"})}),l.jsxs("div",{className:"ml-3",children:[l.jsx("p",{className:"text-sm font-medium",children:_.name}),l.jsx("p",{className:"text-xs text-gray-500",children:E?"Person":"Organization"})]})]},`${_.type}-${_.id}`)})})]}),((b=p.contact_info)==null?void 0:b.length)>0&&l.jsxs("div",{className:"card p-6",children:[l.jsx("h2",{className:"font-semibold mb-4",children:"Contact information"}),l.jsx("div",{className:"space-y-3",children:p.contact_info.map((_,E)=>l.jsxs("div",{children:[l.jsxs("span",{className:"text-sm text-gray-500",children:[_.contact_label||_.contact_type,":"]}),l.jsx("span",{className:"ml-2",children:_.contact_value})]},E))})]})]})}function dR(){var ce,ve,Ie,me,Ee,ke,tt,Ut,ht;const{id:t}=Ss(),e=Qr(),r=ut(),n=!!t,{data:i,isLoading:s}=rt({queryKey:["company",t],queryFn:async()=>(await Ae.getCompany(t,{_embed:!0})).data,enabled:n}),{data:a=[],isLoading:o}=rt({queryKey:["companies","all"],queryFn:async()=>(await Ae.getCompanies({per_page:100,_embed:!0})).data}),{data:u=[],isLoading:c}=rt({queryKey:["people","all"],queryFn:async()=>(await Ae.getPeople({per_page:100,_embed:!0})).data}),[d,h]=T.useState(!1),[f,p]=T.useState(!1),[m,y]=T.useState(""),[x,g]=T.useState(""),[v,w]=T.useState(!1),[b,_]=T.useState(""),[E,N]=T.useState([]),S=T.useRef(null),j=T.useRef(null),C=T.useRef(null),P=T.useMemo(()=>{const J=m.toLowerCase().trim();let Ne=a.filter(Fe=>!(n&&Fe.id===parseInt(t)||n&&Fe.parent===parseInt(t)));return J&&(Ne=Ne.filter(Fe=>{var Ge;return(Ge=qt(Fe))==null?void 0:Ge.toLowerCase().includes(J)})),[...Ne].sort((Fe,Ge)=>(qt(Fe)||"").localeCompare(qt(Ge)||""))},[a,m,t,n]),O=T.useMemo(()=>a.find(J=>J.id===parseInt(x)),[a,x]),I=T.useMemo(()=>{const J=b.toLowerCase().trim(),Ne=u.map(Ce=>{var We,Et,Nt,$;return{id:Ce.id,type:"person",name:ln(((We=Ce.title)==null?void 0:We.rendered)||""),thumbnail:($=(Nt=(Et=Ce._embedded)==null?void 0:Et["wp:featuredmedia"])==null?void 0:Nt[0])==null?void 0:$.source_url}}),Fe=a.filter(Ce=>!n||Ce.id!==parseInt(t)).map(Ce=>{var We,Et,Nt;return{id:Ce.id,type:"company",name:qt(Ce),thumbnail:(Nt=(Et=(We=Ce._embedded)==null?void 0:We["wp:featuredmedia"])==null?void 0:Et[0])==null?void 0:Nt.source_url}});let Ge=[...Ne,...Fe];J&&(Ge=Ge.filter(Ce=>{var We;return(We=Ce.name)==null?void 0:We.toLowerCase().includes(J)}));const Wt=E.map(Ce=>`${Ce.type}-${Ce.id}`);return Ge=Ge.filter(Ce=>!Wt.includes(`${Ce.type}-${Ce.id}`)),Ge.sort((Ce,We)=>(Ce.name||"").localeCompare(We.name||""))},[u,a,b,E,t,n]);T.useEffect(()=>{const J=Ne=>{j.current&&!j.current.contains(Ne.target)&&p(!1)};if(f)return document.addEventListener("mousedown",J),()=>document.removeEventListener("mousedown",J)},[f]),T.useEffect(()=>{const J=Ne=>{C.current&&!C.current.contains(Ne.target)&&w(!1)};if(v)return document.addEventListener("mousedown",J),()=>document.removeEventListener("mousedown",J)},[v]);const M=Ze({mutationFn:J=>Ae.createCompany(J),onSuccess:J=>{r.invalidateQueries({queryKey:["companies"]}),e(`/companies/${J.data.id}`)}}),k=Ze({mutationFn:J=>Ae.updateCompany(t,J),onSuccess:()=>{r.invalidateQueries({queryKey:["company",t]}),r.invalidateQueries({queryKey:["companies"]}),r.invalidateQueries({queryKey:["people"]}),e(`/companies/${t}`)}}),H=async J=>{var Fe;const Ne=(Fe=J.target.files)==null?void 0:Fe[0];if(Ne){if(!Ne.type.startsWith("image/")){alert("Please select an image file");return}if(Ne.size>5*1024*1024){alert("Image size must be less than 5MB");return}h(!0);try{await qe.uploadCompanyLogo(t,Ne),r.invalidateQueries({queryKey:["company",t]}),r.invalidateQueries({queryKey:["companies"]}),r.invalidateQueries({queryKey:["people"]}),r.refetchQueries({queryKey:["company",t]}),r.refetchQueries({queryKey:["companies"]}),r.refetchQueries({queryKey:["people"]})}catch(Ge){console.error("Failed to upload logo:",Ge),alert("Failed to upload logo. Please try again.")}finally{h(!1),S.current&&(S.current.value="")}}},{register:W,handleSubmit:A,reset:K,formState:{errors:U,isSubmitting:z}}=Au();T.useEffect(()=>{var J,Ne,Fe;i&&(K({title:ln(((J=i.title)==null?void 0:J.rendered)||""),website:((Ne=i.acf)==null?void 0:Ne.website)||"",industry:((Fe=i.acf)==null?void 0:Fe.industry)||""}),i.parent&&g(String(i.parent)))},[i,K]),T.useEffect(()=>{var J,Ne;if(((Ne=(J=i==null?void 0:i.acf)==null?void 0:J.investors)==null?void 0:Ne.length)>0&&u.length>0&&a.length>0){const Ge=i.acf.investors.map(Wt=>{var Et,Nt,$,q,L,se,ee;const Ce=u.find(Q=>Q.id===Wt);if(Ce)return{id:Ce.id,type:"person",name:ln(((Et=Ce.title)==null?void 0:Et.rendered)||""),thumbnail:(q=($=(Nt=Ce._embedded)==null?void 0:Nt["wp:featuredmedia"])==null?void 0:$[0])==null?void 0:q.source_url};const We=a.find(Q=>Q.id===Wt);return We?{id:We.id,type:"company",name:qt(We),thumbnail:(ee=(se=(L=We._embedded)==null?void 0:L["wp:featuredmedia"])==null?void 0:se[0])==null?void 0:ee.source_url}:null}).filter(Boolean);N(Ge)}},[i,u,a]),vn(n&&i?`Edit ${qt(i)||"organization"}`:"New organization");const G=async J=>{const Ne=E.map(Ge=>Ge.id),Fe={title:J.title,status:"publish",parent:x?parseInt(x):0,acf:{website:J.website,industry:J.industry,investors:Ne}};n?k.mutate(Fe):M.mutate(Fe)};return n&&s?l.jsx("div",{className:"flex items-center justify-center h-64",children:l.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"})}):l.jsxs("div",{className:"max-w-2xl mx-auto space-y-6",children:[l.jsx("div",{className:"flex items-center justify-between",children:l.jsxs(he,{to:"/companies",className:"flex items-center text-gray-600 hover:text-gray-900",children:[l.jsx(Cn,{className:"w-4 h-4 md:mr-2"}),l.jsx("span",{className:"hidden md:inline",children:"Back to organizations"})]})}),l.jsxs("div",{className:"card p-6",children:[l.jsx("h1",{className:"text-xl font-bold mb-6",children:n?"Edit organization":"Add new organization"}),l.jsxs("form",{onSubmit:A(G),className:"space-y-6",children:[n&&l.jsxs("div",{children:[l.jsx("label",{className:"label",children:"Logo"}),l.jsxs("div",{className:"flex items-center gap-4",children:[(Ie=(ve=(ce=i==null?void 0:i._embedded)==null?void 0:ce["wp:featuredmedia"])==null?void 0:ve[0])!=null&&Ie.source_url?l.jsxs("div",{className:"relative group",children:[l.jsx("img",{src:i._embedded["wp:featuredmedia"][0].source_url,alt:qt(i)||"Organization logo",className:"w-20 h-20 rounded-lg object-contain bg-white"}),l.jsx("div",{className:"absolute inset-0 rounded-lg bg-black bg-opacity-0 group-hover:bg-opacity-50 transition-all duration-200 flex items-center justify-center cursor-pointer",onClick:()=>{var J;return(J=S.current)==null?void 0:J.click()},children:d?l.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-white"}):l.jsx(Mf,{className:"w-6 h-6 text-white opacity-0 group-hover:opacity-100 transition-opacity"})})]}):l.jsxs("div",{className:"relative group",children:[l.jsx("div",{className:"w-20 h-20 bg-gray-200 rounded-lg flex items-center justify-center",children:l.jsx(Mf,{className:"w-8 h-8 text-gray-400"})}),l.jsx("div",{className:"absolute inset-0 rounded-lg bg-black bg-opacity-0 group-hover:bg-opacity-50 transition-all duration-200 flex items-center justify-center cursor-pointer",onClick:()=>{var J;return(J=S.current)==null?void 0:J.click()},children:d?l.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-white"}):l.jsx(Mf,{className:"w-6 h-6 text-white opacity-0 group-hover:opacity-100 transition-opacity"})})]}),l.jsxs("div",{children:[l.jsx("button",{type:"button",onClick:()=>{var J;return(J=S.current)==null?void 0:J.click()},className:"btn-secondary text-sm",disabled:d,children:(ke=(Ee=(me=i==null?void 0:i._embedded)==null?void 0:me["wp:featuredmedia"])==null?void 0:Ee[0])!=null&&ke.source_url?"Change logo":"Upload logo"}),l.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Click the logo or button to upload a new logo"})]}),l.jsx("input",{ref:S,type:"file",accept:"image/*",onChange:H,className:"hidden",disabled:d})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"label",children:"Organization name *"}),l.jsx("input",{...W("title",{required:"Organization name is required"}),className:"input",placeholder:"Acme Inc."}),U.title&&l.jsx("p",{className:"text-sm text-red-600 mt-1",children:U.title.message})]}),l.jsxs("div",{children:[l.jsx("label",{className:"label",children:"Website"}),l.jsx("input",{...W("website"),type:"url",className:"input",placeholder:"https://example.com"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"label",children:"Industry"}),l.jsx("input",{...W("industry"),className:"input",placeholder:"Technology"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"label",children:"Parent organization"}),l.jsxs("div",{className:"relative",ref:j,children:[l.jsxs("button",{type:"button",onClick:()=>p(!f),className:"w-full flex items-center justify-between px-3 py-2 border border-gray-300 rounded-md bg-white text-left focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent",disabled:o,children:[O?l.jsxs("div",{className:"flex items-center gap-2",children:[(ht=(Ut=(tt=O._embedded)==null?void 0:tt["wp:featuredmedia"])==null?void 0:Ut[0])!=null&&ht.source_url?l.jsx("img",{src:O._embedded["wp:featuredmedia"][0].source_url,alt:qt(O),className:"w-6 h-6 rounded object-contain bg-white"}):l.jsx("div",{className:"w-6 h-6 bg-gray-200 rounded flex items-center justify-center",children:l.jsx(Sr,{className:"w-4 h-4 text-gray-500"})}),l.jsx("span",{className:"text-gray-900",children:qt(O)})]}):l.jsx("span",{className:"text-gray-400",children:"No parent organization"}),l.jsx(yp,{className:`w-4 h-4 text-gray-400 transition-transform ${f?"rotate-180":""}`})]}),f&&l.jsxs("div",{className:"absolute z-10 w-full mt-1 bg-white border border-gray-200 rounded-lg shadow-lg max-h-60 overflow-hidden",children:[l.jsx("div",{className:"p-2 border-b border-gray-100",children:l.jsxs("div",{className:"relative",children:[l.jsx(To,{className:"absolute left-2 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}),l.jsx("input",{type:"text",value:m,onChange:J=>y(J.target.value),placeholder:"Search organizations...",className:"w-full pl-8 pr-3 py-1.5 text-sm border border-gray-200 rounded focus:outline-none focus:ring-1 focus:ring-primary-500",autoFocus:!0})]})}),l.jsxs("div",{className:"overflow-y-auto max-h-48",children:[l.jsx("button",{type:"button",onClick:()=>{g(""),p(!1),y("")},className:`w-full flex items-center gap-2 px-3 py-2 text-left hover:bg-gray-50 transition-colors ${x?"":"bg-primary-50"}`,children:l.jsx("span",{className:"text-sm text-gray-500 italic",children:"No parent organization"})}),o?l.jsx("div",{className:"p-3 text-center text-gray-500 text-sm",children:"Loading..."}):P.length>0?P.map(J=>{var Ne,Fe,Ge;return l.jsxs("button",{type:"button",onClick:()=>{g(String(J.id)),p(!1),y("")},className:`w-full flex items-center gap-2 px-3 py-2 text-left hover:bg-gray-50 transition-colors ${x===String(J.id)?"bg-primary-50":""}`,children:[(Ge=(Fe=(Ne=J._embedded)==null?void 0:Ne["wp:featuredmedia"])==null?void 0:Fe[0])!=null&&Ge.source_url?l.jsx("img",{src:J._embedded["wp:featuredmedia"][0].source_url,alt:qt(J),className:"w-6 h-6 rounded object-contain bg-white"}):l.jsx("div",{className:"w-6 h-6 bg-gray-200 rounded flex items-center justify-center",children:l.jsx(Sr,{className:"w-4 h-4 text-gray-500"})}),l.jsx("span",{className:"text-sm text-gray-900 truncate",children:qt(J)})]},J.id)}):l.jsx("div",{className:"p-3 text-center text-gray-500 text-sm",children:"No organizations found"})]})]})]}),l.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Select if this organization is a subsidiary or division of another"})]}),l.jsxs("div",{children:[l.jsxs("label",{className:"label flex items-center",children:[l.jsx(vK,{className:"w-4 h-4 mr-2"}),"Investors"]}),E.length>0&&l.jsx("div",{className:"flex flex-wrap gap-2 mb-2",children:E.map(J=>l.jsxs("div",{className:"flex items-center gap-1.5 bg-gray-100 rounded-full pl-1 pr-2 py-1",children:[J.thumbnail?l.jsx("img",{src:J.thumbnail,alt:J.name,className:`w-5 h-5 object-cover ${J.type==="person"?"rounded-full":"rounded"}`}):l.jsx("div",{className:`w-5 h-5 bg-gray-300 flex items-center justify-center ${J.type==="person"?"rounded-full":"rounded"}`,children:J.type==="person"?l.jsx(wa,{className:"w-3 h-3 text-gray-500"}):l.jsx(Sr,{className:"w-3 h-3 text-gray-500"})}),l.jsx("span",{className:"text-sm text-gray-700",children:J.name}),l.jsx("button",{type:"button",onClick:()=>N(Ne=>Ne.filter(Fe=>!(Fe.id===J.id&&Fe.type===J.type))),className:"ml-1 text-gray-400 hover:text-gray-600",children:l.jsx(Vr,{className:"w-3.5 h-3.5"})})]},`${J.type}-${J.id}`))}),l.jsxs("div",{className:"relative",ref:C,children:[l.jsxs("button",{type:"button",onClick:()=>w(!v),className:"w-full flex items-center justify-between px-3 py-2 border border-gray-300 rounded-md bg-white text-left focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent",disabled:o||c,children:[l.jsx("span",{className:"text-gray-400",children:"Add investor..."}),l.jsx(yp,{className:`w-4 h-4 text-gray-400 transition-transform ${v?"rotate-180":""}`})]}),v&&l.jsxs("div",{className:"absolute z-10 w-full mt-1 bg-white border border-gray-200 rounded-lg shadow-lg max-h-60 overflow-hidden",children:[l.jsx("div",{className:"p-2 border-b border-gray-100",children:l.jsxs("div",{className:"relative",children:[l.jsx(To,{className:"absolute left-2 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}),l.jsx("input",{type:"text",value:b,onChange:J=>_(J.target.value),placeholder:"Search people and organizations...",className:"w-full pl-8 pr-3 py-1.5 text-sm border border-gray-200 rounded focus:outline-none focus:ring-1 focus:ring-primary-500",autoFocus:!0})]})}),l.jsx("div",{className:"overflow-y-auto max-h-48",children:o||c?l.jsx("div",{className:"p-3 text-center text-gray-500 text-sm",children:"Loading..."}):I.length>0?I.map(J=>l.jsxs("button",{type:"button",onClick:()=>{N(Ne=>[...Ne,J]),_("")},className:"w-full flex items-center gap-2 px-3 py-2 text-left hover:bg-gray-50 transition-colors",children:[J.thumbnail?l.jsx("img",{src:J.thumbnail,alt:J.name,className:`w-6 h-6 object-cover ${J.type==="person"?"rounded-full":"rounded"}`}):l.jsx("div",{className:`w-6 h-6 bg-gray-200 flex items-center justify-center ${J.type==="person"?"rounded-full":"rounded"}`,children:J.type==="person"?l.jsx(wa,{className:"w-4 h-4 text-gray-500"}):l.jsx(Sr,{className:"w-4 h-4 text-gray-500"})}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx("span",{className:"text-sm text-gray-900 truncate block",children:J.name}),l.jsx("span",{className:"text-xs text-gray-500",children:J.type==="person"?"Person":"Organization"})]})]},`${J.type}-${J.id}`)):l.jsx("div",{className:"p-3 text-center text-gray-500 text-sm",children:b?"No results found":"No people or organizations available"})})]})]}),l.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Select people or organizations that have invested in this company"})]}),l.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t",children:[l.jsx(he,{to:"/companies",className:"btn-secondary",children:"Cancel"}),l.jsxs("button",{type:"submit",className:"btn-primary",disabled:z,children:[l.jsx(xa,{className:"w-4 h-4 mr-2"}),n?"Save changes":"Create organization"]})]})]})]})]})}function nae({person:t,dateType:e}){var r;return l.jsx("div",{className:"flex items-center gap-3 py-2",children:l.jsxs(he,{to:`/people/${t.id}`,className:"flex items-center gap-3 flex-1 min-w-0 hover:opacity-80",children:[t.thumbnail?l.jsx("img",{src:t.thumbnail,alt:t.name,loading:"lazy",className:"w-10 h-10 rounded-full object-cover flex-shrink-0"}):l.jsx("div",{className:"w-10 h-10 rounded-full bg-gray-200 flex items-center justify-center flex-shrink-0",children:l.jsx("span",{className:"text-sm font-medium text-gray-500",children:(r=t.name)==null?void 0:r[0]})}),l.jsx("span",{className:"font-medium truncate",children:t.name}),l.jsx("span",{className:"text-sm text-gray-500 capitalize flex-shrink-0",children:e})]})})}function iae({dates:t}){const e=t[0],n=e.days_until===0?"bg-green-100 text-green-700":"bg-gray-100 text-gray-600",i=[];return t.forEach(s=>{var o,u;const a=((o=s.date_type)==null?void 0:o[0])||"Date";((u=s.related_people)==null?void 0:u.length)>0?s.related_people.forEach(c=>{i.push({person:c,dateType:a})}):i.push({person:{id:null,name:s.title,thumbnail:null},dateType:a})}),l.jsx("div",{className:"card p-4 break-inside-avoid mb-4",children:l.jsxs("div",{className:"flex items-start gap-4",children:[l.jsx("div",{className:`w-14 h-14 rounded-lg ${n} flex items-center justify-center flex-shrink-0`,children:l.jsx("span",{className:"text-2xl font-bold leading-none",children:sn(new Date(e.next_occurrence),"d")})}),l.jsx("div",{className:"flex-1 min-w-0 divide-y divide-gray-100",children:i.map(({person:s,dateType:a},o)=>l.jsx(nae,{person:s,dateType:a},s.id?`${s.id}-${a}`:`${o}-${a}`))})]})})}function sae(){const{data:t,isLoading:e,error:r}=ene(365),n=(t==null?void 0:t.reduce((s,a)=>{const o=sn(new Date(a.next_occurrence),"yyyy-MM-dd");return s[o]||(s[o]=[]),s[o].push(a),s},{}))||{},i=Object.entries(n).reduce((s,[a,o])=>{const u=sn(new Date(a),"MMMM yyyy");return s[u]||(s[u]=[]),s[u].push(o),s},{});return l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("p",{className:"text-gray-600",children:[(t==null?void 0:t.length)||0," upcoming dates"]}),l.jsxs(he,{to:"/dates/new",className:"btn-primary",children:[l.jsx(Vt,{className:"w-4 h-4 md:mr-2"}),l.jsx("span",{className:"hidden md:inline",children:"Add date"})]})]}),e&&l.jsx("div",{className:"flex items-center justify-center h-64",children:l.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"})}),r&&l.jsx("div",{className:"card p-6 text-center",children:l.jsx("p",{className:"text-red-600",children:"Failed to load dates."})}),!e&&!r&&(t==null?void 0:t.length)===0&&l.jsxs("div",{className:"card p-12 text-center",children:[l.jsx(da,{className:"w-12 h-12 text-gray-300 mx-auto mb-4"}),l.jsx("h3",{className:"text-lg font-medium mb-1",children:"No important dates"}),l.jsx("p",{className:"text-gray-500 mb-4",children:"Add birthdays, anniversaries, and more."}),l.jsxs(he,{to:"/dates/new",className:"btn-primary",children:[l.jsx(Vt,{className:"w-4 h-4 md:mr-2"}),l.jsx("span",{className:"hidden md:inline",children:"Add date"})]})]}),Object.entries(i).map(([s,a])=>l.jsxs("div",{children:[l.jsx("h2",{className:"text-2xl font-semibold text-gray-700 mb-4",children:s}),l.jsx("div",{className:"columns-1 md:columns-2 lg:columns-3 gap-4",children:a.map(o=>l.jsx(iae,{dates:o},o[0].next_occurrence))})]},s))]})}function aae({value:t=[],onChange:e,people:r=[],isLoading:n}){const[i,s]=T.useState(""),a=T.useMemo(()=>{if(!i)return r.slice(0,10);const d=i.toLowerCase();return r.filter(h=>po(h).toLowerCase().includes(d)).slice(0,10)},[r,i]),o=T.useMemo(()=>t.map(d=>r.find(h=>h.id===d)).filter(Boolean),[t,r]),u=d=>{t.includes(d)||e([...t,d]),s("")},c=d=>{e(t.filter(h=>h!==d))};return l.jsxs("div",{className:"space-y-2",children:[o.length>0&&l.jsx("div",{className:"flex flex-wrap gap-2",children:o.map(d=>l.jsxs("span",{className:"inline-flex items-center gap-1 px-3 py-1 bg-primary-100 text-primary-800 rounded-full text-sm",children:[po(d),l.jsx("button",{type:"button",onClick:()=>c(d.id),className:"hover:text-primary-600",children:l.jsx(Vr,{className:"w-3 h-3"})})]},d.id))}),l.jsxs("div",{className:"relative",children:[l.jsx("input",{type:"text",value:i,onChange:d=>s(d.target.value),placeholder:"Search for people...",className:"input",disabled:n}),i&&l.jsx("div",{className:"absolute z-10 w-full mt-1 bg-white border border-gray-200 rounded-lg shadow-lg max-h-48 overflow-y-auto",children:a.length>0?a.map(d=>l.jsx("button",{type:"button",onClick:()=>u(d.id),disabled:t.includes(d.id),className:`w-full text-left px-4 py-2 hover:bg-gray-50 ${t.includes(d.id)?"opacity-50 cursor-not-allowed":""}`,children:po(d)},d.id)):l.jsx("p",{className:"px-4 py-2 text-gray-500 text-sm",children:"No people found"})})]})]})}function hR(){var K;const{id:t}=Ss(),[e]=YC(),r=Qr(),n=ut(),i=!!t,s=e.get("person"),a=e.get("type"),{data:o,isLoading:u}=rt({queryKey:["important-date",t],queryFn:async()=>(await Ae.getDate(t)).data,enabled:i}),c=T.useMemo(()=>{var z;if(!((z=o==null?void 0:o.acf)!=null&&z.related_people))return[];const U=o.acf.related_people;return Array.isArray(U)?U.map(G=>parseInt(typeof G=="object"&&G!==null?G.ID||G.id||G.post_id:G,10)).filter(G=>!isNaN(G)&&G>0):[]},[o]),{data:d=[],isLoading:h}=Wo({orderby:"title",order:"asc"}),{data:f=[]}=rt({queryKey:["people","specific",c],queryFn:async()=>{const U=c.map(G=>Ae.getPerson(G,{_embed:!0}).then(ce=>ce.data).catch(()=>null));return(await Promise.all(U)).filter(Boolean)},enabled:c.length>0}),p=T.useMemo(()=>{const U=new Map;return d.forEach(z=>U.set(z.id,z)),f.forEach(z=>{var ce,ve,Ie,me,Ee,ke,tt,Ut,ht,J,Ne,Fe,Ge,Wt,Ce,We;const G={...z,id:z.id,name:po(z),first_name:((ce=z.acf)==null?void 0:ce.first_name)||"",last_name:((ve=z.acf)==null?void 0:ve.last_name)||"",is_favorite:((Ie=z.acf)==null?void 0:Ie.is_favorite)||!1,thumbnail:((ke=(Ee=(me=z._embedded)==null?void 0:me["wp:featuredmedia"])==null?void 0:Ee[0])==null?void 0:ke.source_url)||((Fe=(Ne=(J=(ht=(Ut=(tt=z._embedded)==null?void 0:tt["wp:featuredmedia"])==null?void 0:Ut[0])==null?void 0:ht.media_details)==null?void 0:J.sizes)==null?void 0:Ne.thumbnail)==null?void 0:Fe.source_url)||null,labels:((We=(Ce=(Wt=(Ge=z._embedded)==null?void 0:Ge["wp:term"])==null?void 0:Wt.flat())==null?void 0:Ce.filter(Et=>(Et==null?void 0:Et.taxonomy)==="person_label"))==null?void 0:We.map(Et=>Et.name))||[]};U.set(G.id,G)}),Array.from(U.values())},[d,f]),{data:m=[]}=rt({queryKey:["date-types"],queryFn:async()=>((await Ae.getDateTypes()).data||[]).sort((G,ce)=>{const ve=G.name||"",Ie=ce.name||"";return ve.localeCompare(Ie)})}),y=Ze({mutationFn:U=>Ae.createDate(U),onSuccess:()=>{n.invalidateQueries({queryKey:["reminders"]}),r(s?`/people/${s}`:"/dates")}}),x=Ze({mutationFn:U=>Ae.updateDate(t,U),onSuccess:()=>{n.invalidateQueries({queryKey:["reminders"]}),n.invalidateQueries({queryKey:["important-date",t]}),n.invalidateQueries({queryKey:["people"]});const U=b("related_people");(U==null?void 0:U.length)>0?r(`/people/${U[0]}`):r("/dates")}}),{register:g,handleSubmit:v,reset:w,watch:b,setValue:_,control:E,formState:{errors:N,isSubmitting:S}}=Au({defaultValues:{title:"",date_value:"",date_type:"",related_people:[],is_recurring:!0}}),j=b("related_people"),C=b("date_type"),P=b("title");T.useEffect(()=>{var G;if((!P||["'s Birthday","Wedding of "].some(ce=>P.endsWith(ce)||P.startsWith(ce)))&&(j==null?void 0:j.length)>0&&C){const ce=m.find(Ee=>Ee.id===parseInt(C)),ve=(ce==null?void 0:ce.name)||"",Ie=((G=ce==null?void 0:ce.slug)==null?void 0:G.toLowerCase())||ve.toLowerCase(),me=j.map(Ee=>{var tt,Ut,ht;const ke=p.find(J=>J.id===Ee);return ke?ln(((tt=ke.acf)==null?void 0:tt.first_name)||((ht=(Ut=ke.title)==null?void 0:Ut.rendered)==null?void 0:ht.split(" ")[0])||""):null}).filter(Boolean);if(me.length>0&&ve){let Ee;Ie==="wedding"?me.length>=2?Ee=`Wedding of ${me[0]} & ${me[1]}`:Ee=`Wedding of ${me[0]}`:Ee=`${me[0]}'s ${ve}`,_("title",Ee)}}},[j,C,p,m,_,P]);const[O,I]=T.useState(!1);T.useEffect(()=>{var z,G,ce,ve,Ie;if(O&&!i)return;const U=c.length===0||f.length>0;if(o&&p.length>0&&U){let me=[];const Ee=(z=o.acf)==null?void 0:z.related_people;Ee&&(Array.isArray(Ee)?me=Ee.map(tt=>parseInt(typeof tt=="object"&&tt!==null?tt.ID||tt.id||tt.post_id:tt,10)).filter(tt=>!isNaN(tt)&&tt>0):typeof Ee=="number"&&(me=[Ee]));let ke="";((G=o.date_type)==null?void 0:G.length)>0&&(ke=o.date_type[0].toString()),w({title:ln(((ce=o.title)==null?void 0:ce.rendered)||""),date_value:((ve=o.acf)==null?void 0:ve.date_value)||"",date_type:ke,related_people:me,is_recurring:((Ie=o.acf)==null?void 0:Ie.is_recurring)??!0}),I(!0)}else if(!i&&p.length>0&&m.length>0){const me={title:"",date_value:"",date_type:"",related_people:[],is_recurring:!0};if(s&&(me.related_people=[parseInt(s)]),a){const Ee=m.find(ke=>ke.slug===a||ke.name.toLowerCase()===a.toLowerCase());Ee&&(me.date_type=Ee.id.toString())}w(me),I(!0)}},[o,w,i,s,a,m,p,c,f,O]),vn(i&&o?`Edit ${((K=o.title)==null?void 0:K.rendered)||o.title||"date"}`:"New date");const M=async U=>{const z={title:U.title,status:"publish",date_type:U.date_type?[parseInt(U.date_type)]:[],acf:{date_value:U.date_value,related_people:U.related_people,is_recurring:U.is_recurring}};i?x.mutate(z):y.mutate(z)};if(i&&u)return l.jsx("div",{className:"flex items-center justify-center h-64",children:l.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"})});const k=b("related_people"),H=i&&(k==null?void 0:k.length)>0?k[0]:s,W=H?`/people/${H}`:"/dates",A=H?"Back to person":"Back to dates";return l.jsxs("div",{className:"max-w-2xl mx-auto space-y-6",children:[l.jsx("div",{className:"flex items-center justify-between",children:l.jsxs(he,{to:W,className:"flex items-center text-gray-600 hover:text-gray-900",children:[l.jsx(Cn,{className:"w-4 h-4 md:mr-2"}),l.jsx("span",{className:"hidden md:inline",children:A})]})}),l.jsxs("div",{className:"card p-6",children:[l.jsx("h1",{className:"text-xl font-bold mb-6",children:i?"Edit date":"Add new date"}),l.jsxs("form",{onSubmit:v(M),className:"space-y-6",children:[l.jsxs("div",{children:[l.jsx("label",{className:"label",children:"Related people"}),l.jsx(Ep,{name:"related_people",control:E,render:({field:U})=>l.jsx(aae,{value:U.value,onChange:U.onChange,people:p,isLoading:h})})]}),l.jsxs("div",{children:[l.jsx("label",{className:"label",children:"Date type *"}),l.jsx(Ep,{name:"date_type",control:E,rules:{required:"Please select a date type"},render:({field:U})=>{const z=U.value?String(U.value):"";return l.jsxs("select",{value:z,onChange:G=>{const ce=G.target.value;U.onChange(ce)},onBlur:U.onBlur,name:U.name,ref:U.ref,className:"input",children:[l.jsx("option",{value:"",children:"Select a type..."}),m.map(G=>l.jsx("option",{value:String(G.id),children:G.name},G.id))]})}}),N.date_type&&l.jsx("p",{className:"text-sm text-red-600 mt-1",children:N.date_type.message})]}),l.jsxs("div",{children:[l.jsx("label",{className:"label",children:"Label"}),l.jsx("input",{...g("title"),className:"input",placeholder:"e.g., Mom's Birthday, Wedding Anniversary"}),l.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Auto-generated from person and date type. You can customize it."})]}),l.jsxs("div",{children:[l.jsx("label",{className:"label",children:"Date *"}),l.jsx("input",{...g("date_value",{required:"Date is required"}),type:"date",className:"input"}),N.date_value&&l.jsx("p",{className:"text-sm text-red-600 mt-1",children:N.date_value.message})]}),l.jsxs("div",{className:"flex items-center",children:[l.jsx("input",{type:"checkbox",...g("is_recurring"),className:"w-4 h-4 rounded border-gray-300 text-primary-600 focus:ring-primary-500"}),l.jsx("label",{className:"ml-2 text-sm text-gray-700",children:"Repeats every year"})]}),l.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t",children:[l.jsx(he,{to:W,className:"btn-secondary",children:"Cancel"}),l.jsxs("button",{type:"submit",className:"btn-primary",disabled:S,children:[l.jsx(xa,{className:"w-4 h-4 mr-2"}),i?"Save changes":"Create date"]})]})]})]})]})}function oae(){vn("Todos");const[t,e]=T.useState(!1),[r,n]=T.useState(null),[i,s]=T.useState(!1),[a,o]=T.useState(!1),{data:u,isLoading:c}=bK(t),d=xK(),h=tne(),f=g=>{d.mutate({todoId:g.id,data:{content:g.content,due_date:g.due_date,is_completed:!g.is_completed}})},p=async g=>{r&&(await d.mutateAsync({todoId:r.id,data:g}),s(!1),n(null))},m=async g=>{window.confirm("Are you sure you want to delete this todo?")&&await h.mutateAsync(g)};if(c)return l.jsx("div",{className:"flex items-center justify-center h-64",children:l.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"})});const y=(u==null?void 0:u.filter(g=>!g.is_completed))||[],x=(u==null?void 0:u.filter(g=>g.is_completed))||[];return l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[l.jsx("h1",{className:"text-2xl font-bold",children:"Todos"}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsxs("button",{onClick:()=>e(!t),className:`btn-secondary text-sm flex items-center gap-2 ${t?"bg-primary-50 border-primary-300":""}`,children:[l.jsx(Tj,{className:"w-4 h-4"}),t?"Hide completed":"Show completed"]}),l.jsxs("button",{onClick:()=>o(!0),className:"btn-primary text-sm flex items-center gap-2",children:[l.jsx(Vt,{className:"w-4 h-4"}),"Add todo"]})]})]}),l.jsxs("div",{className:"card",children:[l.jsx("div",{className:"p-4 border-b border-gray-200",children:l.jsxs("h2",{className:"font-semibold flex items-center",children:[l.jsx(yu,{className:"w-5 h-5 mr-2 text-gray-500"}),"Open todos (",y.length,")"]})}),y.length>0?l.jsx("div",{className:"divide-y divide-gray-100",children:y.map(g=>l.jsx(fR,{todo:g,onToggle:f,onEdit:v=>{n(v),s(!0)},onDelete:m},g.id))}):l.jsxs("div",{className:"p-8 text-center",children:[l.jsx(ns,{className:"w-12 h-12 text-gray-300 mx-auto mb-3"}),l.jsx("p",{className:"text-gray-500",children:"No open todos"}),l.jsx("p",{className:"text-sm text-gray-400 mt-1",children:"Create todos from a person's detail page"})]})]}),t&&x.length>0&&l.jsxs("div",{className:"card",children:[l.jsx("div",{className:"p-4 border-b border-gray-200",children:l.jsxs("h2",{className:"font-semibold flex items-center",children:[l.jsx(ns,{className:"w-5 h-5 mr-2 text-primary-600"}),"Completed todos (",x.length,")"]})}),l.jsx("div",{className:"divide-y divide-gray-100",children:x.map(g=>l.jsx(fR,{todo:g,onToggle:f,onEdit:v=>{n(v),s(!0)},onDelete:m},g.id))})]}),l.jsx(DK,{isOpen:i,onClose:()=>{s(!1),n(null)},onSubmit:p,isLoading:d.isPending,todo:r}),l.jsx(SK,{isOpen:a,onClose:()=>o(!1)})]})}function fR({todo:t,onToggle:e,onEdit:r,onDelete:n}){var s;const i=nh(t);return l.jsxs("div",{className:"flex items-start p-4 hover:bg-gray-50 transition-colors group",children:[l.jsx("button",{onClick:()=>e(t),className:"mt-0.5 mr-3 flex-shrink-0",title:t.is_completed?"Mark as incomplete":"Mark as complete",children:t.is_completed?l.jsx(ns,{className:"w-5 h-5 text-primary-600"}):l.jsx(yu,{className:`w-5 h-5 ${i?"text-red-600":"text-gray-400"}`})}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx("p",{className:`text-sm ${t.is_completed?"line-through text-gray-400":i?"text-red-600 font-medium":"text-gray-900"}`,children:t.content}),l.jsxs("div",{className:"flex flex-wrap items-center gap-3 mt-2",children:[l.jsxs(he,{to:`/people/${t.person_id}`,className:"flex items-center gap-2 text-xs text-primary-600 hover:text-primary-700 hover:underline",children:[t.person_thumbnail?l.jsx("img",{src:t.person_thumbnail,alt:t.person_name,className:"w-5 h-5 rounded-full object-cover"}):l.jsx("div",{className:"w-5 h-5 bg-gray-200 rounded-full flex items-center justify-center",children:l.jsx("span",{className:"text-xs text-gray-500",children:(s=t.person_name)==null?void 0:s[0]})}),t.person_name]}),t.due_date&&l.jsxs("span",{className:`text-xs ${i&&!t.is_completed?"text-red-600 font-medium":"text-gray-500"}`,children:["Due: ",sn(new Date(t.due_date),"MMM d, yyyy"),i&&!t.is_completed&&" (overdue)"]})]})]}),l.jsxs("div",{className:"flex items-center gap-1 opacity-0 group-hover:opacity-100 transition-opacity ml-2",children:[l.jsx("button",{onClick:()=>r(t),className:"p-1 hover:bg-gray-100 rounded",title:"Edit todo",children:l.jsx(Ua,{className:"w-4 h-4 text-gray-400 hover:text-gray-600"})}),l.jsx("button",{onClick:()=>n(t.id),className:"p-1 hover:bg-red-50 rounded",title:"Delete todo",children:l.jsx(Bn,{className:"w-4 h-4 text-gray-400 hover:text-red-600"})})]})]})}function lae(){const t=window.prmConfig||{},e=t.isAdmin||!1,[r,n]=T.useState(""),[i,s]=T.useState(""),[a,o]=T.useState(!0),[u,c]=T.useState(!1),[d,h]=T.useState(!1),[f,p]=T.useState([]),[m,y]=T.useState(""),[x,g]=T.useState(!1),[v,w]=T.useState(""),[b,_]=T.useState("09:00"),[E,N]=T.useState(!0),[S,j]=T.useState(!1),[C,P]=T.useState(!1),[O,I]=T.useState(!1),[M,k]=T.useState(""),[H,W]=T.useState(!1),[A,K]=T.useState([]),[U,z]=T.useState([]),[G,ce]=T.useState([]),[ve,Ie]=T.useState(!1),[me,Ee]=T.useState(!1),[ke,tt]=T.useState(!1),[Ut,ht]=T.useState(""),[J,Ne]=T.useState(!1),[Fe,Ge]=T.useState("");T.useEffect(()=>{(async()=>{try{const le=await de.get("/prm/v1/user/ical-url");n(le.data.url),s(le.data.webcal_url)}catch(le){console.error("Failed to fetch iCal URL:",le)}finally{o(!1)}})()},[]);const Wt=async()=>{Ie(!0);try{const[V,le]=await Promise.all([qe.getSlackChannels(),qe.getSlackTargets()]);K(V.data.channels||[]),z(V.data.users||[]),ce(le.data.targets||[])}catch(V){console.error("Failed to fetch Slack data:",V),k("Failed to load Slack channels and users. Please try refreshing the page.")}finally{Ie(!1)}};T.useEffect(()=>{(async()=>{try{const le=await qe.getNotificationChannels();p(le.data.channels||["email"]),y(le.data.slack_webhook||""),_(le.data.notification_time||"09:00");const pe=await qe.getSlackStatus(),Ye=pe.data.connected||!1;g(Ye),w(pe.data.workspace_name||""),Ye&&await Wt()}catch(le){console.error("Failed to fetch notification channels:",le)}finally{N(!1)}})()},[]),T.useEffect(()=>{x&&Wt()},[x]),T.useEffect(()=>{const V=new URLSearchParams(window.location.search),le=V.get("slack_connected"),pe=V.get("slack_error");le==="1"?(k("Slack connected successfully!"),qe.getSlackStatus().then(Ye=>{g(Ye.data.connected||!1),w(Ye.data.workspace_name||"")}),window.history.replaceState({},"",window.location.pathname)):pe&&(k(`Slack connection failed: ${pe}`),window.history.replaceState({},"",window.location.pathname))},[]);const Ce=async()=>{var V,le;try{const pe=await de.get("/prm/v1/slack/oauth/authorize");window.location.href=pe.data.oauth_url}catch(pe){console.error("Failed to get Slack OAuth URL:",pe),alert(((le=(V=pe.response)==null?void 0:V.data)==null?void 0:le.message)||"Failed to connect Slack")}},We=async()=>{var V,le;if(confirm("Are you sure you want to disconnect Slack? You will stop receiving Slack notifications.")){W(!0);try{await qe.disconnectSlack(),g(!1),w(""),K([]),z([]),ce([]),k("Slack disconnected successfully"),f.includes("slack")&&await L("slack")}catch(pe){console.error("Failed to disconnect Slack:",pe),alert(((le=(V=pe.response)==null?void 0:V.data)==null?void 0:le.message)||"Failed to disconnect Slack")}finally{W(!1)}}},Et=V=>{const le=G.includes(V)?G.filter(pe=>pe!==V):[...G,V];ce(le)},Nt=async()=>{var V,le;Ee(!0);try{await qe.updateSlackTargets(G),k("Notification targets saved successfully"),setTimeout(()=>k(""),3e3)}catch(pe){console.error("Failed to save Slack targets:",pe),alert(((le=(V=pe.response)==null?void 0:V.data)==null?void 0:le.message)||"Failed to save notification targets")}finally{Ee(!1)}},$=async()=>{try{await navigator.clipboard.writeText(r),c(!0),setTimeout(()=>c(!1),2e3)}catch(V){console.error("Failed to copy:",V)}},q=async()=>{if(confirm("Are you sure you want to regenerate your calendar URL? Any existing calendar subscriptions will stop working until you update them with the new URL.")){h(!0);try{const V=await de.post("/prm/v1/user/regenerate-ical-token");n(V.data.url),s(V.data.webcal_url)}catch(V){console.error("Failed to regenerate token:",V)}finally{h(!1)}}},L=async V=>{var pe,Ye;const le=f.includes(V)?f.filter(be=>be!==V):[...f,V];j(!0);try{await qe.updateNotificationChannels(le),p(le)}catch(be){console.error("Failed to update notification channels:",be),alert(((Ye=(pe=be.response)==null?void 0:pe.data)==null?void 0:Ye.message)||"Failed to update notification channels")}finally{j(!1)}},se=async V=>{var oe,_e;const[le,pe]=V.split(":").map(Number),Ye=Math.round(pe/5)*5,be=Ye===60?(le+1)%24:le,Z=Ye===60?0:Ye,ue=`${String(be).padStart(2,"0")}:${String(Z).padStart(2,"0")}`;_(ue),I(!0);try{await qe.updateNotificationTime(ue)}catch(Le){console.error("Failed to update notification time:",Le),alert(((_e=(oe=Le.response)==null?void 0:oe.data)==null?void 0:_e.message)||"Failed to update notification time");const Jr=await qe.getNotificationChannels();_(Jr.data.notification_time||"09:00")}finally{I(!1)}},ee=async()=>{var V,le;if(confirm("This will send reminder emails for all reminders due today. Continue?")){tt(!0),ht("");try{const pe=await qe.triggerReminders();ht(pe.data.message||"Reminders triggered successfully.")}catch(pe){console.error("Failed to trigger reminders:",pe),ht(((le=(V=pe.response)==null?void 0:V.data)==null?void 0:le.message)||"Failed to trigger reminders. Please check server logs.")}finally{tt(!1)}}},Q=async()=>{var V,le;if(confirm("This will reschedule all user reminder cron jobs based on their notification time preferences. Continue?")){Ne(!0),Ge("");try{const pe=await qe.rescheduleCronJobs();Ge(pe.data.message||"Cron jobs rescheduled successfully.")}catch(pe){console.error("Failed to reschedule cron jobs:",pe),Ge(((le=(V=pe.response)==null?void 0:V.data)==null?void 0:le.message)||"Failed to reschedule cron jobs. Please check server logs.")}finally{Ne(!1)}}};return l.jsxs("div",{className:"max-w-2xl mx-auto space-y-6",children:[l.jsxs("div",{className:"card p-6",children:[l.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Calendar Subscription"}),l.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Subscribe to your important dates in any calendar app (Apple Calendar, Google Calendar, Outlook, etc.)"}),a?l.jsxs("div",{className:"animate-pulse",children:[l.jsx("div",{className:"h-10 bg-gray-200 rounded mb-3"}),l.jsx("div",{className:"h-9 bg-gray-200 rounded w-24"})]}):l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"label mb-1",children:"Your Calendar Feed URL"}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx("input",{type:"text",readOnly:!0,value:r,className:"input flex-1 text-sm font-mono bg-gray-50",onClick:V=>V.target.select()}),l.jsx("button",{onClick:$,className:"btn-secondary whitespace-nowrap",title:"Copy URL",children:u?l.jsxs("span",{className:"flex items-center gap-1",children:[l.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),"Copied"]}):l.jsxs("span",{className:"flex items-center gap-1",children:[l.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 5H6a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2v-1M8 5a2 2 0 002 2h2a2 2 0 002-2M8 5a2 2 0 012-2h2a2 2 0 012 2m0 0h2a2 2 0 012 2v3m2 4H10m0 0l3-3m-3 3l3 3"})}),"Copy"]})})]})]}),l.jsxs("div",{className:"flex flex-wrap gap-2",children:[l.jsx("a",{href:i,className:"btn-primary",children:l.jsxs("span",{className:"flex items-center gap-1",children:[l.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})}),"Subscribe in Calendar App"]})}),l.jsx("button",{onClick:q,disabled:d,className:"btn-secondary",children:d?"Regenerating...":"Regenerate URL"})]}),l.jsx("p",{className:"text-xs text-gray-500",children:'Keep this URL private. Anyone with access to it can see your important dates. If you think it has been compromised, click "Regenerate URL" to get a new one.'})]})]}),l.jsxs("div",{className:"card p-6",children:[l.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Data"}),l.jsxs("div",{className:"space-y-3",children:[l.jsxs(he,{to:"/settings/import",className:"block p-3 rounded-lg border border-gray-200 hover:bg-gray-50",children:[l.jsx("p",{className:"font-medium",children:"Import Data"}),l.jsx("p",{className:"text-sm text-gray-500",children:"Import contacts from Monica CRM or other sources"})]}),l.jsxs(he,{to:"/settings/export",className:"block p-3 rounded-lg border border-gray-200 hover:bg-gray-50",children:[l.jsx("p",{className:"font-medium",children:"Export Data"}),l.jsx("p",{className:"text-sm text-gray-500",children:"Export all contacts as vCard or Google Contacts CSV"})]})]})]}),l.jsxs("div",{className:"card p-6",children:[l.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Notifications"}),l.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Choose how you want to receive daily reminders about your important dates."}),E?l.jsxs("div",{className:"animate-pulse",children:[l.jsx("div",{className:"h-10 bg-gray-200 rounded mb-3"}),l.jsx("div",{className:"h-10 bg-gray-200 rounded"})]}):l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg border border-gray-200",children:[l.jsxs("div",{children:[l.jsx("p",{className:"font-medium",children:"Email"}),l.jsx("p",{className:"text-sm text-gray-500",children:"Receive daily digest emails"})]}),l.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[l.jsx("input",{type:"checkbox",checked:f.includes("email"),onChange:()=>L("email"),disabled:S,className:"sr-only peer"}),l.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-primary-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-primary-600"})]})]}),l.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg border border-gray-200",children:[l.jsxs("div",{children:[l.jsx("p",{className:"font-medium",children:"Slack"}),l.jsx("p",{className:"text-sm text-gray-500",children:"Receive notifications in Slack"})]}),l.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[l.jsx("input",{type:"checkbox",checked:f.includes("slack"),onChange:()=>L("slack"),disabled:S||!x,className:"sr-only peer"}),l.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-primary-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-primary-600"})]})]}),l.jsx("div",{children:x?l.jsxs("div",{className:"space-y-3",children:[l.jsx("div",{className:"p-3 bg-green-50 border border-green-200 rounded-lg",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("p",{className:"font-medium text-green-900",children:"Connected to Slack"}),v&&l.jsxs("p",{className:"text-sm text-green-700",children:["Workspace: ",v]})]}),l.jsx("button",{onClick:We,disabled:H,className:"btn-secondary text-sm",children:H?"Disconnecting...":"Disconnect"})]})}),M&&l.jsx("p",{className:`text-sm ${M.includes("successfully")||M.includes("disconnected")?"text-green-600":"text-red-600"}`,children:M}),f.includes("slack")&&l.jsxs("div",{className:"mt-4 p-4 border border-gray-200 rounded-lg",children:[l.jsx("h3",{className:"font-medium mb-3",children:"Notification targets"}),l.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Choose where to send Slack notifications. You can select multiple channels and users."}),ve?l.jsx("p",{className:"text-sm text-gray-500",children:"Loading channels and users..."}):l.jsxs(l.Fragment,{children:[A.length>0&&l.jsxs("div",{className:"mb-4",children:[l.jsx("h4",{className:"text-sm font-medium mb-2",children:"Channels"}),l.jsx("div",{className:"space-y-2 max-h-48 overflow-y-auto",children:A.map(V=>l.jsxs("label",{className:"flex items-center p-2 hover:bg-gray-50 rounded cursor-pointer",children:[l.jsx("input",{type:"checkbox",checked:G.includes(V.id),onChange:()=>Et(V.id),className:"mr-2 cursor-pointer"}),l.jsx("span",{className:"text-sm",children:V.name})]},V.id))})]}),U.length>0&&l.jsxs("div",{className:"mb-4",children:[l.jsx("h4",{className:"text-sm font-medium mb-2",children:"Direct messages"}),l.jsx("div",{className:"space-y-2 max-h-48 overflow-y-auto",children:U.map(V=>l.jsxs("label",{className:"flex items-center p-2 hover:bg-gray-50 rounded cursor-pointer",children:[l.jsx("input",{type:"checkbox",checked:G.includes(V.id),onChange:()=>Et(V.id),className:"mr-2 cursor-pointer"}),l.jsxs("span",{className:"text-sm",children:[V.name,V.is_me&&l.jsx("span",{className:"text-gray-500 ml-1",children:"(you)"})]})]},V.id))})]}),A.length===0&&U.length===0&&!ve&&l.jsx("p",{className:"text-sm text-gray-500 mb-4",children:"No channels or users found. Make sure the Slack app has the necessary permissions."}),l.jsx("button",{onClick:Nt,disabled:me,className:"btn-primary text-sm mt-4",children:me?"Saving...":"Save targets"})]})]})]}):l.jsxs("div",{className:"space-y-3",children:[l.jsx("button",{onClick:Ce,className:"btn-primary w-full",disabled:H,children:"Connect Slack"}),M&&l.jsx("p",{className:`text-sm ${M.includes("successfully")?"text-green-600":"text-red-600"}`,children:M}),l.jsx("p",{className:"text-xs text-gray-500",children:"Connect your Slack workspace to receive daily reminder notifications. You'll be able to message channels or receive direct messages."})]})}),m&&!x&&l.jsx("div",{className:"p-3 bg-yellow-50 border border-yellow-200 rounded-lg",children:l.jsxs("p",{className:"text-sm text-yellow-800",children:[l.jsx("strong",{children:"Legacy webhook detected."})," Please connect via OAuth for better functionality. Your webhook will continue to work until you connect via OAuth."]})}),l.jsxs("div",{children:[l.jsx("label",{className:"label mb-1",children:"Notification Time (UTC)"}),l.jsx("input",{type:"time",value:b,onChange:V=>se(V.target.value),className:"input",disabled:O,step:"300"}),b&&l.jsxs("div",{className:"mt-2 p-2 bg-gray-50 rounded text-sm",children:[l.jsxs("p",{className:"text-gray-700",children:[l.jsx("span",{className:"font-medium",children:"UTC:"})," ",b]}),l.jsxs("p",{className:"text-gray-700 mt-1",children:[l.jsxs("span",{className:"font-medium",children:["Your time (",Intl.DateTimeFormat().resolvedOptions().timeZone,"):"]})," ",(()=>{try{const[V,le]=b.split(":"),pe=new Date;return pe.setUTCHours(parseInt(V),parseInt(le),0,0),pe.toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit",hour12:!1})}catch{return b}})()]})]}),l.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Choose the UTC time when you want to receive your daily reminder digest. Reminders are sent within a 1-hour window of your selected time."})]})]})]}),e&&l.jsxs("div",{className:"card p-6",children:[l.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Administration"}),l.jsxs("div",{className:"space-y-3",children:[l.jsxs(he,{to:"/settings/relationship-types",className:"block p-3 rounded-lg border border-gray-200 hover:bg-gray-50",children:[l.jsx("p",{className:"font-medium",children:"Relationship Types"}),l.jsx("p",{className:"text-sm text-gray-500",children:"Manage relationship types and their inverse mappings"})]}),l.jsxs(he,{to:"/settings/user-approval",className:"block p-3 rounded-lg border border-gray-200 hover:bg-gray-50",children:[l.jsx("p",{className:"font-medium",children:"User Approval"}),l.jsx("p",{className:"text-sm text-gray-500",children:"Approve or deny access for new users"})]}),l.jsxs("button",{onClick:ee,disabled:ke,className:"w-full text-left p-3 rounded-lg border border-gray-200 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:[l.jsx("p",{className:"font-medium",children:"Trigger reminders"}),l.jsx("p",{className:"text-sm text-gray-500",children:ke?"Sending...":"Manually send reminders for today"}),Ut&&l.jsx("p",{className:"text-sm text-green-600 mt-1",children:Ut})]}),l.jsxs("button",{onClick:Q,disabled:J,className:"w-full text-left p-3 rounded-lg border border-gray-200 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:[l.jsx("p",{className:"font-medium",children:"Reschedule cron jobs"}),l.jsx("p",{className:"text-sm text-gray-500",children:J?"Rescheduling...":"Reschedule all user reminder cron jobs"}),Fe&&l.jsx("p",{className:"text-sm text-green-600 mt-1",children:Fe})]})]})]}),l.jsxs("div",{className:"card p-6",children:[l.jsx("h2",{className:"text-lg font-semibold mb-4",children:"About"}),l.jsxs("p",{className:"text-sm text-gray-600",children:[xu," v",t.version||"1.0.0",l.jsx("br",{}),"Built with WordPress, React, and Tailwind CSS."]})]})]})}function pR({value:t,onChange:e,relationshipTypes:r,currentTypeId:n=null}){const[i,s]=T.useState(""),[a,o]=T.useState(!1),u=T.useRef(null),c=T.useRef(null),d=T.useMemo(()=>r.sort((x,g)=>{const v=(x.name||"").toLowerCase(),w=(g.name||"").toLowerCase();return v<w?-1:v>w?1:0}),[r]),h=T.useMemo(()=>{if(!i)return d.slice(0,10);const x=i.toLowerCase();return d.filter(g=>(g.name||"").toLowerCase().includes(x)).slice(0,10)},[d,i]),f=T.useMemo(()=>d.find(x=>x.id===parseInt(t,10)),[d,t]);T.useEffect(()=>{const x=g=>{c.current&&!c.current.contains(g.target)&&u.current&&!u.current.contains(g.target)&&o(!1)};return document.addEventListener("mousedown",x),()=>document.removeEventListener("mousedown",x)},[]);const p=x=>{e(x?x.toString():""),s(""),o(!1)},m=()=>{e(""),s(""),o(!1)},y=f?f.name:"";return l.jsxs("div",{className:"relative",children:[l.jsx("div",{className:"relative",children:f&&!a?l.jsxs("div",{className:"flex items-center justify-between input pr-8 cursor-text",onClick:()=>o(!0),children:[l.jsx("span",{children:y}),l.jsx("button",{type:"button",onClick:x=>{x.stopPropagation(),m()},className:"absolute right-2 text-gray-400 hover:text-gray-600",children:l.jsx(Vr,{className:"w-4 h-4"})})]}):l.jsx("input",{ref:u,type:"text",value:i,onChange:x=>{s(x.target.value),o(!0)},onFocus:()=>o(!0),placeholder:"Search for a relationship type...",className:"input"})}),a&&(i||!f)&&l.jsx("div",{ref:c,className:"absolute z-10 w-full mt-1 bg-white border border-gray-200 rounded-lg shadow-lg max-h-48 overflow-y-auto",children:h.length>0?l.jsxs(l.Fragment,{children:[l.jsx("button",{type:"button",onClick:()=>p(null),className:`w-full text-left px-4 py-2 hover:bg-gray-50 ${t?"":"bg-primary-50"}`,children:l.jsx("span",{className:"text-gray-500 italic",children:"None (no inverse)"})}),h.map(x=>l.jsx("button",{type:"button",onClick:()=>p(x.id),className:`w-full text-left px-4 py-2 hover:bg-gray-50 ${t===x.id.toString()?"bg-primary-50":""}`,children:x.name},x.id))]}):l.jsx("p",{className:"px-4 py-2 text-gray-500 text-sm",children:"No relationship types found"})})]})}function uae(){vn("Relationship Types - Settings");const t=ut();if(!((window.prmConfig||{}).isAdmin||!1))return l.jsx("div",{className:"max-w-2xl mx-auto",children:l.jsxs("div",{className:"card p-8 text-center",children:[l.jsx(hK,{className:"w-16 h-16 mx-auto text-amber-500 mb-4"}),l.jsx("h1",{className:"text-2xl font-bold mb-2",children:"Access Denied"}),l.jsx("p",{className:"text-gray-600 mb-6",children:"You don't have permission to manage relationship types. This feature is only available to administrators."}),l.jsx(he,{to:"/settings",className:"btn-primary",children:"Back to Settings"})]})});const{data:n=[],isLoading:i}=rt({queryKey:["relationship-types"],queryFn:async()=>(await Ae.getRelationshipTypes()).data}),[s,a]=T.useState(null),[o,u]=T.useState(""),[c,d]=T.useState(""),[h,f]=T.useState(""),[p,m]=T.useState(""),[y,x]=T.useState(!1),g=Ze({mutationFn:async({id:P,name:O,inverseId:I})=>{const M={name:O};return I&&(M.acf={inverse_relationship_type:parseInt(I,10)}),Ae.updateRelationshipType(P,M)},onSuccess:()=>{t.invalidateQueries({queryKey:["relationship-types"]}),a(null),u(""),d("")}}),v=Ze({mutationFn:async({name:P,inverseId:O})=>{const I={name:P};return O&&(I.acf={inverse_relationship_type:parseInt(O,10)}),Ae.createRelationshipType(I)},onSuccess:()=>{t.invalidateQueries({queryKey:["relationship-types"]}),f(""),m(""),x(!1)}}),w=Ze({mutationFn:P=>Ae.deleteRelationshipType(P),onSuccess:()=>{t.invalidateQueries({queryKey:["relationship-types"]})}}),b=Ze({mutationFn:()=>Ae.restoreRelationshipTypeDefaults(),onSuccess:()=>{t.invalidateQueries({queryKey:["relationship-types"]}),alert("Default relationship type configurations have been restored.")},onError:()=>{alert("Failed to restore defaults. Please try again.")}});function _(){return l.jsxs("button",{onClick:()=>{window.confirm("This will restore all default inverse mappings and gender-dependent settings. Continue?")&&b.mutate()},disabled:b.isPending,className:"btn-secondary flex items-center gap-2",title:"Restore default inverse mappings and gender-dependent settings",children:[b.isPending?l.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-gray-600"}):l.jsx(cK,{className:"w-4 h-4"}),l.jsx("span",{className:"hidden md:inline",children:"Restore Defaults"})]})}const E=P=>{var I;a(P.id),u(P.name);const O=(I=P.acf)==null?void 0:I.inverse_relationship_type;d(O?O.toString():"")},N=()=>{a(null),u(""),d("")},S=()=>{if(!o.trim()){alert("Name is required");return}g.mutate({id:s,name:o.trim(),inverseId:c||null})},j=()=>{if(!h.trim()){alert("Name is required");return}v.mutate({name:h.trim(),inverseId:p||null})},C=(P,O)=>{window.confirm(`Are you sure you want to delete "${O}"? This cannot be undone.`)&&w.mutate(P)};return i?l.jsx("div",{className:"flex items-center justify-center h-64",children:l.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"})}):l.jsx("div",{className:"max-w-4xl mx-auto space-y-6",children:l.jsxs("div",{className:"card p-6",children:[l.jsxs("div",{className:"flex items-center justify-between mb-6",children:[l.jsx("h1",{className:"text-2xl font-bold",children:"Relationship Types"}),l.jsx("div",{className:"flex gap-2",children:!y&&l.jsxs(l.Fragment,{children:[l.jsx(_,{}),l.jsxs("button",{onClick:()=>x(!0),className:"btn-primary flex items-center gap-2",children:[l.jsx(Vt,{className:"w-4 h-4"}),l.jsx("span",{className:"hidden md:inline",children:"Add Relationship Type"})]})]})})]}),y&&l.jsxs("div",{className:"mb-6 p-4 border border-gray-200 rounded-lg bg-gray-50",children:[l.jsx("h3",{className:"font-semibold mb-4",children:"Add New Relationship Type"}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"label",children:"Name *"}),l.jsx("input",{type:"text",value:h,onChange:P=>f(P.target.value),className:"input",placeholder:"e.g., Parent, Spouse, Colleague"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"label",children:"Inverse Relationship Type"}),l.jsx(pR,{value:p,onChange:m,relationshipTypes:n}),l.jsx("p",{className:"text-xs text-gray-500 mt-1",children:'Select the inverse relationship type. For example, if this is "Parent", select "Child". If this is "Spouse" or "Acquaintance", select the same type (e.g., "Spouse"  "Spouse").'})]}),l.jsxs("div",{className:"flex gap-2",children:[l.jsxs("button",{onClick:j,disabled:v.isPending,className:"btn-primary flex items-center gap-2",children:[v.isPending?l.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}):l.jsx(xa,{className:"w-4 h-4"}),l.jsx("span",{className:"hidden md:inline",children:"Save"})]}),l.jsx("button",{onClick:()=>{x(!1),f(""),m("")},className:"btn-secondary",children:"Cancel"})]})]})]}),l.jsx("div",{className:"space-y-2",children:n.length===0?l.jsx("p",{className:"text-gray-500 text-center py-8",children:"No relationship types found."}):n.map(P=>{var H,W;const O=s===P.id,I=(H=P.acf)==null?void 0:H.inverse_relationship_type,M=typeof I=="object"&&(I!=null&&I.ID)?I.ID:typeof I=="object"&&(I!=null&&I.id)?I.id:I,k=M?n.find(A=>A.id===M):null;return l.jsx("div",{className:"p-4 border border-gray-200 rounded-lg hover:bg-gray-50",children:O?l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"label",children:"Name *"}),l.jsx("input",{type:"text",value:o,onChange:A=>u(A.target.value),className:"input"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"label",children:"Inverse Relationship Type"}),l.jsx(pR,{value:c,onChange:d,relationshipTypes:n,currentTypeId:P.id}),l.jsx("p",{className:"text-xs text-gray-500 mt-1",children:'Select the inverse relationship type. For example, if this is "Parent", select "Child". If this is "Spouse" or "Acquaintance", select the same type (e.g., "Spouse"  "Spouse").'})]}),l.jsxs("div",{className:"flex gap-2",children:[l.jsxs("button",{onClick:S,disabled:g.isPending,className:"btn-primary flex items-center gap-2",children:[g.isPending?l.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}):l.jsx(xa,{className:"w-4 h-4"}),l.jsx("span",{className:"hidden md:inline",children:"Save"})]}),l.jsxs("button",{onClick:N,className:"btn-secondary flex items-center gap-2",children:[l.jsx(Vr,{className:"w-4 h-4"}),l.jsx("span",{className:"hidden md:inline",children:"Cancel"})]})]})]}):l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex-1",children:[l.jsx("div",{className:"font-medium",children:P.name}),k&&l.jsxs("div",{className:"text-sm text-gray-500 mt-1",children:["Inverse: ",l.jsx("span",{className:"font-medium",children:k.name})]}),!k&&((W=P.acf)==null?void 0:W.inverse_relationship_type)===null&&l.jsx("div",{className:"text-sm text-gray-400 mt-1 italic",children:"No inverse relationship"})]}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx("button",{onClick:()=>E(P),className:"p-2 text-gray-600 hover:text-primary-600 hover:bg-primary-50 rounded",title:"Edit",children:l.jsx(Hre,{className:"w-4 h-4"})}),l.jsx("button",{onClick:()=>C(P.id,P.name),className:"p-2 text-gray-600 hover:text-red-600 hover:bg-red-50 rounded",title:"Delete",children:l.jsx(Bn,{className:"w-4 h-4"})})]})]})},P.id)})})]})})}function cae(){var g,v,w;const[t,e]=T.useState(null),[r,n]=T.useState(""),[i,s]=T.useState(!1),[a,o]=T.useState(null),u=ut(),c=Ze({mutationFn:async b=>{const _=new FormData;return _.append("file",b),(await de.post("/prm/v1/import/monica/validate",_,{headers:{"Content-Type":"multipart/form-data"}})).data},onSuccess:b=>{o(b)},onError:b=>{var _,E;o({valid:!1,error:((E=(_=b.response)==null?void 0:_.data)==null?void 0:E.message)||"Failed to validate file"})}}),d=Ze({mutationFn:async({file:b,monicaUrl:_})=>{const E=new FormData;return E.append("file",b),E.append("monica_url",_),(await de.post("/prm/v1/import/monica",E,{headers:{"Content-Type":"multipart/form-data"}})).data},onSuccess:()=>{u.invalidateQueries({queryKey:["people"]}),u.invalidateQueries({queryKey:["companies"]}),u.invalidateQueries({queryKey:["dates"]}),u.invalidateQueries({queryKey:["dashboard"]})}}),h=T.useCallback(b=>{b.preventDefault(),b.stopPropagation(),b.type==="dragenter"||b.type==="dragover"?s(!0):b.type==="dragleave"&&s(!1)},[]),f=T.useCallback(b=>{b.preventDefault(),b.stopPropagation(),s(!1),b.dataTransfer.files&&b.dataTransfer.files[0]&&m(b.dataTransfer.files[0])},[]),p=b=>{b.target.files&&b.target.files[0]&&m(b.target.files[0])},m=b=>{if(!b.name.endsWith(".sql")){o({valid:!1,error:"Please select a SQL file"});return}e(b),o(null),d.reset(),c.mutate(b)},y=()=>{if(!r.trim()){o(b=>({...b,urlError:"Please enter your Monica instance URL"}));return}t&&(a!=null&&a.valid)&&d.mutate({file:t,monicaUrl:r.trim()})},x=()=>{e(null),n(""),o(null),c.reset(),d.reset()};return l.jsxs("div",{className:"space-y-4",children:[l.jsx("h2",{className:"text-lg font-semibold",children:"Import from Monica"}),l.jsx("p",{className:"text-sm text-gray-600",children:"Import contacts, relationships, notes, and photos from a Monica CRM SQL export file. Reimporting the same file will update existing contacts instead of creating duplicates."}),d.isSuccess?l.jsx("div",{className:"rounded-lg border border-green-200 bg-green-50 p-4",children:l.jsxs("div",{className:"flex items-start gap-3",children:[l.jsx(gu,{className:"h-5 w-5 text-green-600 mt-0.5"}),l.jsxs("div",{className:"flex-1",children:[l.jsx("h3",{className:"font-medium text-green-900",children:"Import Complete"}),l.jsxs("div",{className:"mt-2 text-sm text-green-800 space-y-1",children:[l.jsxs("p",{children:["Contacts imported: ",d.data.stats.contacts_imported]}),l.jsxs("p",{children:["Contacts updated: ",d.data.stats.contacts_updated]}),l.jsxs("p",{children:["Contacts skipped (partial): ",d.data.stats.contacts_skipped]}),l.jsxs("p",{children:["Photos imported: ",d.data.stats.photos_imported]}),l.jsxs("p",{children:["Organizations created: ",d.data.stats.companies_created]}),l.jsxs("p",{children:["Relationships created: ",d.data.stats.relationships_created]}),l.jsxs("p",{children:["Important dates created: ",d.data.stats.dates_created]}),l.jsxs("p",{children:["Notes created: ",d.data.stats.notes_created]}),((g=d.data.stats.errors)==null?void 0:g.length)>0&&l.jsxs("div",{className:"mt-2 pt-2 border-t border-green-200",children:[l.jsx("p",{className:"font-medium",children:"Errors:"}),l.jsx("ul",{className:"list-disc list-inside",children:d.data.stats.errors.map((b,_)=>l.jsx("li",{children:b},_))})]})]}),l.jsx("button",{onClick:x,className:"mt-3 text-sm text-green-700 hover:text-green-800 font-medium",children:"Import another file"})]})]})}):l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:`relative rounded-lg border-2 border-dashed p-8 text-center transition-colors ${i?"border-primary-500 bg-primary-50":t?"border-green-300 bg-green-50":"border-gray-300 hover:border-gray-400"}`,onDragEnter:h,onDragLeave:h,onDragOver:h,onDrop:f,children:[l.jsx("input",{type:"file",accept:".sql",onChange:p,className:"absolute inset-0 w-full h-full opacity-0 cursor-pointer"}),c.isPending?l.jsxs("div",{className:"flex flex-col items-center gap-2",children:[l.jsx(Po,{className:"h-8 w-8 text-primary-600 animate-spin"}),l.jsx("p",{className:"text-gray-600",children:"Validating file..."})]}):t?l.jsxs("div",{className:"flex flex-col items-center gap-2",children:[l.jsx(eh,{className:"h-8 w-8 text-green-600"}),l.jsx("p",{className:"font-medium text-gray-900",children:t.name}),l.jsxs("p",{className:"text-sm text-gray-500",children:[(t.size/1024/1024).toFixed(2)," MB"]})]}):l.jsxs("div",{className:"flex flex-col items-center gap-2",children:[l.jsx(Io,{className:"h-8 w-8 text-gray-400"}),l.jsx("p",{className:"text-gray-600",children:"Drag and drop your Monica SQL export file here, or click to browse"}),l.jsx("p",{className:"text-sm text-gray-500",children:"Supports SQL export files"})]})]}),a&&l.jsx("div",{className:`rounded-lg border p-4 ${a.valid?"border-green-200 bg-green-50":"border-red-200 bg-red-50"}`,children:a.valid?l.jsxs("div",{className:"flex items-start gap-3",children:[l.jsx(gu,{className:"h-5 w-5 text-green-600 mt-0.5"}),l.jsxs("div",{className:"flex-1",children:[l.jsx("h3",{className:"font-medium text-green-900",children:"File validated successfully"}),l.jsxs("div",{className:"mt-2 text-sm text-green-800",children:[l.jsxs("p",{children:["Export format: ",a.version]}),l.jsxs("p",{children:["Contacts to import: ",a.summary.contacts]}),l.jsxs("p",{children:["Relationships: ",a.summary.relationships]}),l.jsxs("p",{children:["Notes: ",a.summary.notes]}),l.jsxs("p",{children:["Dates: ",a.summary.reminders]}),l.jsxs("p",{children:["Photos: ",a.summary.photos]}),l.jsxs("p",{children:["Organizations: ",a.summary.companies_count]})]})]})]}):l.jsxs("div",{className:"flex items-start gap-3",children:[l.jsx(gs,{className:"h-5 w-5 text-red-600 mt-0.5"}),l.jsxs("div",{children:[l.jsx("h3",{className:"font-medium text-red-900",children:"Validation failed"}),l.jsx("p",{className:"text-sm text-red-700 mt-1",children:a.error})]})]})}),(a==null?void 0:a.valid)&&l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{htmlFor:"monica-url",className:"block text-sm font-medium text-gray-700",children:"Monica Instance URL"}),l.jsxs("div",{className:"relative",children:[l.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:l.jsx(lK,{className:"h-4 w-4 text-gray-400"})}),l.jsx("input",{type:"url",id:"monica-url",value:r,onChange:b=>n(b.target.value),placeholder:"https://your-monica-instance.com",className:`block w-full pl-10 pr-3 py-2 border rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500 ${a.urlError?"border-red-300":"border-gray-300"}`})]}),a.urlError&&l.jsx("p",{className:"text-sm text-red-600",children:a.urlError}),l.jsx("p",{className:"text-xs text-gray-500",children:"Enter the URL of your Monica instance to import photos. Photos will be downloaded from this URL."})]}),(a==null?void 0:a.valid)&&l.jsxs("div",{className:"flex gap-3",children:[l.jsx("button",{onClick:y,disabled:d.isPending,className:"btn-primary flex items-center gap-2",children:d.isPending?l.jsxs(l.Fragment,{children:[l.jsx(Po,{className:"h-4 w-4 animate-spin"}),l.jsx("span",{className:"hidden md:inline",children:"Importing..."})]}):l.jsxs(l.Fragment,{children:[l.jsx(Io,{className:"h-4 w-4"}),l.jsx("span",{className:"hidden md:inline",children:"Start Import"})]})}),l.jsx("button",{onClick:x,disabled:d.isPending,className:"btn-secondary",children:"Cancel"})]}),d.isError&&l.jsx("div",{className:"rounded-lg border border-red-200 bg-red-50 p-4",children:l.jsxs("div",{className:"flex items-start gap-3",children:[l.jsx(gs,{className:"h-5 w-5 text-red-600 mt-0.5"}),l.jsxs("div",{children:[l.jsx("h3",{className:"font-medium text-red-900",children:"Import failed"}),l.jsx("p",{className:"text-sm text-red-700 mt-1",children:((w=(v=d.error.response)==null?void 0:v.data)==null?void 0:w.message)||"An error occurred during import"})]})]})})]})]})}function dae(){var y,x,g;const[t,e]=T.useState(null),[r,n]=T.useState(!1),[i,s]=T.useState(null),a=ut(),o=Ze({mutationFn:async v=>{const w=new FormData;return w.append("file",v),(await de.post("/prm/v1/import/vcard/validate",w,{headers:{"Content-Type":"multipart/form-data"}})).data},onSuccess:v=>{s(v)},onError:v=>{var w,b;s({valid:!1,error:((b=(w=v.response)==null?void 0:w.data)==null?void 0:b.message)||"Failed to validate file"})}}),u=Ze({mutationFn:async v=>{const w=new FormData;return w.append("file",v),(await de.post("/prm/v1/import/vcard",w,{headers:{"Content-Type":"multipart/form-data"}})).data},onSuccess:()=>{a.invalidateQueries({queryKey:["people"]}),a.invalidateQueries({queryKey:["companies"]}),a.invalidateQueries({queryKey:["dates"]}),a.invalidateQueries({queryKey:["dashboard"]})}}),c=T.useCallback(v=>{v.preventDefault(),v.stopPropagation(),v.type==="dragenter"||v.type==="dragover"?n(!0):v.type==="dragleave"&&n(!1)},[]),d=T.useCallback(v=>{v.preventDefault(),v.stopPropagation(),n(!1),v.dataTransfer.files&&v.dataTransfer.files[0]&&f(v.dataTransfer.files[0])},[]),h=v=>{v.target.files&&v.target.files[0]&&f(v.target.files[0])},f=v=>{const w=v.name.split(".").pop().toLowerCase();if(w!=="vcf"&&w!=="vcard"){s({valid:!1,error:"Please select a vCard file (.vcf)"});return}e(v),s(null),u.reset(),o.mutate(v)},p=()=>{t&&(i!=null&&i.valid)&&u.mutate(t)},m=()=>{e(null),s(null),o.reset(),u.reset()};return l.jsxs("div",{className:"space-y-4",children:[l.jsx("h2",{className:"text-lg font-semibold",children:"Import from vCard"}),l.jsx("p",{className:"text-sm text-gray-600",children:"Import contacts from a vCard (.vcf) file. vCard is a standard format supported by most contact apps including Apple Contacts, Outlook, and Android. Files can contain one or multiple contacts."}),u.isSuccess?l.jsx("div",{className:"rounded-lg border border-green-200 bg-green-50 p-4",children:l.jsxs("div",{className:"flex items-start gap-3",children:[l.jsx(gu,{className:"h-5 w-5 text-green-600 mt-0.5"}),l.jsxs("div",{className:"flex-1",children:[l.jsx("h3",{className:"font-medium text-green-900",children:"Import Complete"}),l.jsxs("div",{className:"mt-2 text-sm text-green-800 space-y-1",children:[l.jsxs("p",{children:["Contacts imported: ",u.data.stats.contacts_imported]}),l.jsxs("p",{children:["Contacts updated: ",u.data.stats.contacts_updated]}),l.jsxs("p",{children:["Contacts skipped: ",u.data.stats.contacts_skipped]}),l.jsxs("p",{children:["Photos imported: ",u.data.stats.photos_imported]}),l.jsxs("p",{children:["Organizations created: ",u.data.stats.companies_created]}),l.jsxs("p",{children:["Birthdays created: ",u.data.stats.dates_created]}),l.jsxs("p",{children:["Notes created: ",u.data.stats.notes_created]}),((y=u.data.stats.errors)==null?void 0:y.length)>0&&l.jsxs("div",{className:"mt-2 pt-2 border-t border-green-200",children:[l.jsx("p",{className:"font-medium",children:"Errors:"}),l.jsx("ul",{className:"list-disc list-inside",children:u.data.stats.errors.map((v,w)=>l.jsx("li",{children:v},w))})]})]}),l.jsx("button",{onClick:m,className:"mt-3 text-sm text-green-700 hover:text-green-800 font-medium",children:"Import another file"})]})]})}):l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:`relative rounded-lg border-2 border-dashed p-8 text-center transition-colors ${r?"border-primary-500 bg-primary-50":t?"border-green-300 bg-green-50":"border-gray-300 hover:border-gray-400"}`,onDragEnter:c,onDragLeave:c,onDragOver:c,onDrop:d,children:[l.jsx("input",{type:"file",accept:".vcf,.vcard",onChange:h,className:"absolute inset-0 w-full h-full opacity-0 cursor-pointer"}),o.isPending?l.jsxs("div",{className:"flex flex-col items-center gap-2",children:[l.jsx(Po,{className:"h-8 w-8 text-primary-600 animate-spin"}),l.jsx("p",{className:"text-gray-600",children:"Validating file..."})]}):t?l.jsxs("div",{className:"flex flex-col items-center gap-2",children:[l.jsx(eh,{className:"h-8 w-8 text-green-600"}),l.jsx("p",{className:"font-medium text-gray-900",children:t.name}),l.jsxs("p",{className:"text-sm text-gray-500",children:[(t.size/1024).toFixed(2)," KB"]})]}):l.jsxs("div",{className:"flex flex-col items-center gap-2",children:[l.jsx(Io,{className:"h-8 w-8 text-gray-400"}),l.jsx("p",{className:"text-gray-600",children:"Drag and drop your vCard file here, or click to browse"}),l.jsx("p",{className:"text-sm text-gray-500",children:"Supports .vcf and .vcard files"})]})]}),i&&l.jsx("div",{className:`rounded-lg border p-4 ${i.valid?"border-green-200 bg-green-50":"border-red-200 bg-red-50"}`,children:i.valid?l.jsxs("div",{className:"flex items-start gap-3",children:[l.jsx(gu,{className:"h-5 w-5 text-green-600 mt-0.5"}),l.jsxs("div",{className:"flex-1",children:[l.jsx("h3",{className:"font-medium text-green-900",children:"File validated successfully"}),l.jsxs("div",{className:"mt-3 grid grid-cols-2 sm:grid-cols-3 gap-3",children:[l.jsxs("div",{className:"flex items-center gap-2 text-sm text-green-800",children:[l.jsx(Di,{className:"h-4 w-4"}),l.jsxs("span",{children:[i.summary.contacts," contacts"]})]}),i.summary.companies_count>0&&l.jsxs("div",{className:"flex items-center gap-2 text-sm text-green-800",children:[l.jsx(Sr,{className:"h-4 w-4"}),l.jsxs("span",{children:[i.summary.companies_count," organizations"]})]}),i.summary.birthdays>0&&l.jsxs("div",{className:"flex items-center gap-2 text-sm text-green-800",children:[l.jsx(sK,{className:"h-4 w-4"}),l.jsxs("span",{children:[i.summary.birthdays," birthdays"]})]}),i.summary.photos>0&&l.jsxs("div",{className:"flex items-center gap-2 text-sm text-green-800",children:[l.jsx(oK,{className:"h-4 w-4"}),l.jsxs("span",{children:[i.summary.photos," photos"]})]}),i.summary.notes>0&&l.jsxs("div",{className:"flex items-center gap-2 text-sm text-green-800",children:[l.jsx(mK,{className:"h-4 w-4"}),l.jsxs("span",{children:[i.summary.notes," notes"]})]})]})]})]}):l.jsxs("div",{className:"flex items-start gap-3",children:[l.jsx(gs,{className:"h-5 w-5 text-red-600 mt-0.5"}),l.jsxs("div",{children:[l.jsx("h3",{className:"font-medium text-red-900",children:"Validation failed"}),l.jsx("p",{className:"text-sm text-red-700 mt-1",children:i.error})]})]})}),(i==null?void 0:i.valid)&&l.jsxs("div",{className:"flex gap-3",children:[l.jsx("button",{onClick:p,disabled:u.isPending,className:"btn-primary flex items-center gap-2",children:u.isPending?l.jsxs(l.Fragment,{children:[l.jsx(Po,{className:"h-4 w-4 animate-spin"}),l.jsx("span",{className:"hidden md:inline",children:"Importing..."})]}):l.jsxs(l.Fragment,{children:[l.jsx(Io,{className:"h-4 w-4"}),l.jsx("span",{className:"hidden md:inline",children:"Start Import"})]})}),l.jsx("button",{onClick:m,disabled:u.isPending,className:"btn-secondary",children:"Cancel"})]}),u.isError&&l.jsx("div",{className:"rounded-lg border border-red-200 bg-red-50 p-4",children:l.jsxs("div",{className:"flex items-start gap-3",children:[l.jsx(gs,{className:"h-5 w-5 text-red-600 mt-0.5"}),l.jsxs("div",{children:[l.jsx("h3",{className:"font-medium text-red-900",children:"Import failed"}),l.jsx("p",{className:"text-sm text-red-700 mt-1",children:((g=(x=u.error.response)==null?void 0:x.data)==null?void 0:g.message)||"An error occurred during import"})]})]})})]})]})}function hae(){var b,_,E;const[t,e]=T.useState(null),[r,n]=T.useState(!1),[i,s]=T.useState(null),[a,o]=T.useState({}),u=ut(),c=Ze({mutationFn:async N=>{const S=new FormData;return S.append("file",N),(await de.post("/prm/v1/import/google-contacts/validate",S,{headers:{"Content-Type":"multipart/form-data"}})).data},onSuccess:N=>{var S;if(s(N),((S=N.duplicates)==null?void 0:S.length)>0){const j={};N.duplicates.forEach(C=>{j[C.index]="merge"}),o(j)}},onError:N=>{var S,j;s({valid:!1,error:((j=(S=N.response)==null?void 0:S.data)==null?void 0:j.message)||"Failed to validate file"})}}),d=Ze({mutationFn:async({file:N,decisions:S})=>{const j=new FormData;return j.append("file",N),j.append("decisions",JSON.stringify(S)),(await de.post("/prm/v1/import/google-contacts",j,{headers:{"Content-Type":"multipart/form-data"}})).data},onSuccess:()=>{u.invalidateQueries({queryKey:["people"]}),u.invalidateQueries({queryKey:["companies"]}),u.invalidateQueries({queryKey:["dates"]}),u.invalidateQueries({queryKey:["dashboard"]})}}),h=T.useCallback(N=>{N.preventDefault(),N.stopPropagation(),N.type==="dragenter"||N.type==="dragover"?n(!0):N.type==="dragleave"&&n(!1)},[]),f=T.useCallback(N=>{N.preventDefault(),N.stopPropagation(),n(!1),N.dataTransfer.files&&N.dataTransfer.files[0]&&m(N.dataTransfer.files[0])},[]),p=N=>{N.target.files&&N.target.files[0]&&m(N.target.files[0])},m=N=>{if(!N.name.endsWith(".csv")){s({valid:!1,error:"Please select a CSV file"});return}e(N),s(null),o({}),d.reset(),c.mutate(N)},y=(N,S)=>{o(j=>({...j,[N]:S}))},x=()=>{t&&(i!=null&&i.valid)&&d.mutate({file:t,decisions:a})},g=()=>{e(null),s(null),o({}),c.reset(),d.reset()},v=(i==null?void 0:i.duplicates)||[],w=v.length>0;return l.jsxs("div",{className:"space-y-4",children:[l.jsx("h2",{className:"text-lg font-semibold",children:"Import from Google Contacts"}),l.jsx("p",{className:"text-sm text-gray-600",children:"Import contacts from a Google Contacts CSV export. To export from Google:"}),l.jsxs("ol",{className:"text-sm text-gray-600 list-decimal list-inside space-y-1 ml-2",children:[l.jsxs("li",{children:["Go to ",l.jsx("a",{href:"https://contacts.google.com",target:"_blank",rel:"noopener noreferrer",className:"text-primary-600 hover:underline",children:"contacts.google.com"})]}),l.jsx("li",{children:'Click "Export" in the left sidebar'}),l.jsx("li",{children:'Select "Google CSV" format and click "Export"'})]}),d.isSuccess?l.jsx("div",{className:"rounded-lg border border-green-200 bg-green-50 p-4",children:l.jsxs("div",{className:"flex items-start gap-3",children:[l.jsx(gu,{className:"h-5 w-5 text-green-600 mt-0.5"}),l.jsxs("div",{className:"flex-1",children:[l.jsx("h3",{className:"font-medium text-green-900",children:"Import Complete"}),l.jsxs("div",{className:"mt-2 text-sm text-green-800 space-y-1",children:[l.jsxs("p",{children:["Contacts imported: ",d.data.stats.contacts_imported]}),l.jsxs("p",{children:["Contacts updated: ",d.data.stats.contacts_updated]}),l.jsxs("p",{children:["Contacts skipped: ",d.data.stats.contacts_skipped]}),l.jsxs("p",{children:["Organizations created: ",d.data.stats.companies_created]}),l.jsxs("p",{children:["Birthdays created: ",d.data.stats.dates_created]}),l.jsxs("p",{children:["Notes created: ",d.data.stats.notes_created]}),l.jsxs("p",{children:["Photos imported: ",d.data.stats.photos_imported]}),((b=d.data.stats.errors)==null?void 0:b.length)>0&&l.jsxs("div",{className:"mt-2 pt-2 border-t border-green-200",children:[l.jsx("p",{className:"font-medium",children:"Errors:"}),l.jsx("ul",{className:"list-disc list-inside",children:d.data.stats.errors.map((N,S)=>l.jsx("li",{children:N},S))})]})]}),l.jsx("button",{onClick:g,className:"mt-3 text-sm text-green-700 hover:text-green-800 font-medium",children:"Import another file"})]})]})}):l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:`relative rounded-lg border-2 border-dashed p-8 text-center transition-colors ${r?"border-primary-500 bg-primary-50":t?"border-green-300 bg-green-50":"border-gray-300 hover:border-gray-400"}`,onDragEnter:h,onDragLeave:h,onDragOver:h,onDrop:f,children:[l.jsx("input",{type:"file",accept:".csv",onChange:p,className:"absolute inset-0 w-full h-full opacity-0 cursor-pointer"}),c.isPending?l.jsxs("div",{className:"flex flex-col items-center gap-2",children:[l.jsx(Po,{className:"h-8 w-8 text-primary-600 animate-spin"}),l.jsx("p",{className:"text-gray-600",children:"Validating file..."})]}):t?l.jsxs("div",{className:"flex flex-col items-center gap-2",children:[l.jsx(lO,{className:"h-8 w-8 text-green-600"}),l.jsx("p",{className:"font-medium text-gray-900",children:t.name}),l.jsxs("p",{className:"text-sm text-gray-500",children:[(t.size/1024).toFixed(2)," KB"]})]}):l.jsxs("div",{className:"flex flex-col items-center gap-2",children:[l.jsx(Io,{className:"h-8 w-8 text-gray-400"}),l.jsx("p",{className:"text-gray-600",children:"Drag and drop your Google Contacts CSV here, or click to browse"}),l.jsx("p",{className:"text-sm text-gray-500",children:"Supports Google CSV format"})]})]}),i&&l.jsx("div",{className:`rounded-lg border p-4 ${i.valid?"border-green-200 bg-green-50":"border-red-200 bg-red-50"}`,children:i.valid?l.jsxs("div",{className:"flex items-start gap-3",children:[l.jsx(gu,{className:"h-5 w-5 text-green-600 mt-0.5"}),l.jsxs("div",{className:"flex-1",children:[l.jsx("h3",{className:"font-medium text-green-900",children:"File validated successfully"}),l.jsxs("div",{className:"mt-3 grid grid-cols-2 sm:grid-cols-3 gap-3",children:[l.jsxs("div",{className:"flex items-center gap-2 text-sm text-green-800",children:[l.jsx(Di,{className:"h-4 w-4"}),l.jsxs("span",{children:[i.summary.contacts," contacts"]})]}),i.summary.companies_count>0&&l.jsxs("div",{className:"flex items-center gap-2 text-sm text-green-800",children:[l.jsx(Sr,{className:"h-4 w-4"}),l.jsxs("span",{children:[i.summary.companies_count," organizations"]})]}),i.summary.birthdays>0&&l.jsxs("div",{className:"flex items-center gap-2 text-sm text-green-800",children:[l.jsx(sK,{className:"h-4 w-4"}),l.jsxs("span",{children:[i.summary.birthdays," birthdays"]})]}),i.summary.notes>0&&l.jsxs("div",{className:"flex items-center gap-2 text-sm text-green-800",children:[l.jsx(mK,{className:"h-4 w-4"}),l.jsxs("span",{children:[i.summary.notes," notes"]})]}),i.summary.photos>0&&l.jsxs("div",{className:"flex items-center gap-2 text-sm text-green-800",children:[l.jsx(oK,{className:"h-4 w-4"}),l.jsxs("span",{children:[i.summary.photos," photos"]})]})]})]})]}):l.jsxs("div",{className:"flex items-start gap-3",children:[l.jsx(gs,{className:"h-5 w-5 text-red-600 mt-0.5"}),l.jsxs("div",{children:[l.jsx("h3",{className:"font-medium text-red-900",children:"Validation failed"}),l.jsx("p",{className:"text-sm text-red-700 mt-1",children:i.error})]})]})}),(i==null?void 0:i.valid)&&w&&l.jsx("div",{className:"rounded-lg border border-amber-200 bg-amber-50 p-4",children:l.jsxs("div",{className:"flex items-start gap-3",children:[l.jsx(Dre,{className:"h-5 w-5 text-amber-600 mt-0.5 flex-shrink-0"}),l.jsxs("div",{className:"flex-1",children:[l.jsxs("h3",{className:"font-medium text-amber-900",children:[v.length," contact",v.length>1?"s":""," may already exist"]}),l.jsx("p",{className:"text-sm text-amber-700 mt-1",children:"Choose how to handle each potential duplicate:"}),l.jsx("div",{className:"mt-4 space-y-4",children:v.map(N=>l.jsx(fae,{duplicate:N,decision:a[N.index]||"merge",onDecision:S=>y(N.index,S)},N.index))})]})]})}),(i==null?void 0:i.valid)&&l.jsxs("div",{className:"flex gap-3",children:[l.jsx("button",{onClick:x,disabled:d.isPending,className:"btn-primary flex items-center gap-2",children:d.isPending?l.jsxs(l.Fragment,{children:[l.jsx(Po,{className:"h-4 w-4 animate-spin"}),l.jsx("span",{className:"hidden md:inline",children:"Importing..."})]}):l.jsxs(l.Fragment,{children:[l.jsx(Io,{className:"h-4 w-4"}),l.jsx("span",{className:"hidden md:inline",children:"Start Import"})]})}),l.jsx("button",{onClick:g,disabled:d.isPending,className:"btn-secondary",children:"Cancel"})]}),d.isError&&l.jsx("div",{className:"rounded-lg border border-red-200 bg-red-50 p-4",children:l.jsxs("div",{className:"flex items-start gap-3",children:[l.jsx(gs,{className:"h-5 w-5 text-red-600 mt-0.5"}),l.jsxs("div",{children:[l.jsx("h3",{className:"font-medium text-red-900",children:"Import failed"}),l.jsx("p",{className:"text-sm text-red-700 mt-1",children:((E=(_=d.error.response)==null?void 0:_.data)==null?void 0:E.message)||"An error occurred during import"})]})]})})]})]})}function fae({duplicate:t,decision:e,onDecision:r}){var n,i;return l.jsxs("div",{className:"bg-white rounded-lg border border-amber-200 p-4",children:[l.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx("p",{className:"text-xs font-medium text-gray-500 uppercase tracking-wide mb-1",children:"From CSV"}),l.jsx("p",{className:"font-medium text-gray-900 truncate",children:t.csv_name}),t.csv_org&&l.jsx("p",{className:"text-sm text-gray-600 truncate",children:t.csv_org}),t.csv_email&&l.jsx("p",{className:"text-sm text-gray-500 truncate",children:t.csv_email})]}),l.jsx("div",{className:"hidden sm:flex items-center text-gray-400",children:l.jsx("span",{className:"text-lg",children:""})}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx("p",{className:"text-xs font-medium text-gray-500 uppercase tracking-wide mb-1",children:"Existing Contact"}),l.jsxs("div",{className:"flex items-start gap-3",children:[t.existing_photo?l.jsx("img",{src:t.existing_photo,alt:"",className:"w-10 h-10 rounded-full object-cover flex-shrink-0"}):l.jsx("div",{className:"w-10 h-10 rounded-full bg-gray-200 flex items-center justify-center flex-shrink-0",children:l.jsx("span",{className:"text-gray-500 text-sm font-medium",children:((i=(n=t.existing_name)==null?void 0:n.charAt(0))==null?void 0:i.toUpperCase())||"?"})}),l.jsxs("div",{className:"min-w-0",children:[l.jsx("p",{className:"font-medium text-gray-900 truncate",children:t.existing_name}),t.existing_org&&l.jsx("p",{className:"text-sm text-gray-600 truncate",children:t.existing_org}),t.existing_email&&l.jsx("p",{className:"text-sm text-gray-500 truncate",children:t.existing_email})]})]})]})]}),l.jsxs("div",{className:"mt-4 flex flex-wrap gap-2",children:[l.jsxs("button",{type:"button",onClick:()=>r("merge"),className:`flex items-center gap-1.5 px-3 py-1.5 rounded-md text-sm font-medium transition-colors ${e==="merge"?"bg-primary-100 text-primary-800 ring-2 ring-primary-500":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:[l.jsx(Kre,{className:"h-4 w-4"}),"Update existing"]}),l.jsxs("button",{type:"button",onClick:()=>r("new"),className:`flex items-center gap-1.5 px-3 py-1.5 rounded-md text-sm font-medium transition-colors ${e==="new"?"bg-green-100 text-green-800 ring-2 ring-green-500":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:[l.jsx(Yre,{className:"h-4 w-4"}),"Create new"]}),l.jsxs("button",{type:"button",onClick:()=>r("skip"),className:`flex items-center gap-1.5 px-3 py-1.5 rounded-md text-sm font-medium transition-colors ${e==="skip"?"bg-gray-200 text-gray-800 ring-2 ring-gray-500":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:[l.jsx(Gre,{className:"h-4 w-4"}),"Skip"]})]})]})}const mR=[{id:"vcard",name:"vCard",description:"Apple Contacts, Outlook, Android",icon:eh,component:dae},{id:"google",name:"Google Contacts",description:"CSV export from Google",icon:lO,component:hae},{id:"monica",name:"Monica CRM",description:"SQL export from Monica",icon:Fre,component:cae}];function pae(){var n;vn("Import - Settings");const[t,e]=T.useState("vcard"),r=(n=mR.find(i=>i.id===t))==null?void 0:n.component;return l.jsxs("div",{className:"max-w-2xl mx-auto space-y-6",children:[l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsxs(he,{to:"/settings",className:"btn-secondary flex items-center gap-2",children:[l.jsx(Cn,{className:"w-4 h-4"}),l.jsx("span",{className:"hidden md:inline",children:"Back to Settings"})]}),l.jsx("h1",{className:"text-2xl font-semibold",children:"Import Contacts"})]}),l.jsxs("div",{className:"card p-6",children:[l.jsx("p",{className:"text-sm text-gray-600 mb-6",children:"Import your contacts from various sources. Existing contacts with matching names will be updated instead of duplicated."}),l.jsx("div",{className:"border-b border-gray-200 mb-6",children:l.jsx("nav",{className:"-mb-px flex space-x-6","aria-label":"Import types",children:mR.map(i=>{const s=i.icon,a=t===i.id;return l.jsxs("button",{onClick:()=>e(i.id),className:`group inline-flex items-center py-3 px-1 border-b-2 font-medium text-sm transition-colors ${a?"border-primary-500 text-primary-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[l.jsx(s,{className:`mr-2 h-5 w-5 ${a?"text-primary-500":"text-gray-400 group-hover:text-gray-500"}`}),l.jsxs("div",{className:"text-left",children:[l.jsx("span",{className:"block",children:i.name}),l.jsx("span",{className:`block text-xs font-normal ${a?"text-primary-400":"text-gray-400"}`,children:i.description})]})]},i.id)})})}),r&&l.jsx(r,{})]})]})}function mae(){vn("Export Data - Settings");const t=e=>{e==="vcard"?window.location.href="/wp-json/prm/v1/export/vcard":e==="google-csv"&&(window.location.href="/wp-json/prm/v1/export/google-csv")};return l.jsxs("div",{className:"max-w-2xl mx-auto space-y-6",children:[l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsxs(he,{to:"/settings",className:"btn-secondary flex items-center gap-2",children:[l.jsx(Cn,{className:"w-4 h-4"}),l.jsx("span",{className:"hidden md:inline",children:"Back to Settings"})]}),l.jsx("h1",{className:"text-2xl font-semibold",children:"Export Data"})]}),l.jsxs("div",{className:"card p-6",children:[l.jsx("p",{className:"text-sm text-gray-600 mb-6",children:"Export all your contacts in a format compatible with other contact management systems."}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("button",{onClick:()=>t("vcard"),className:"w-full p-4 rounded-lg border border-gray-200 hover:bg-gray-50 text-left flex items-center gap-4",children:[l.jsx("div",{className:"p-3 bg-primary-50 rounded-lg",children:l.jsx(eh,{className:"w-6 h-6 text-primary-600"})}),l.jsxs("div",{className:"flex-1",children:[l.jsx("p",{className:"font-medium",children:"Export as vCard (.vcf)"}),l.jsx("p",{className:"text-sm text-gray-500",children:"Compatible with Apple Contacts, Outlook, Android, and most contact apps"})]}),l.jsx(Pj,{className:"w-5 h-5 text-gray-400"})]}),l.jsxs("button",{onClick:()=>t("google-csv"),className:"w-full p-4 rounded-lg border border-gray-200 hover:bg-gray-50 text-left flex items-center gap-4",children:[l.jsx("div",{className:"p-3 bg-primary-50 rounded-lg",children:l.jsx(lO,{className:"w-6 h-6 text-primary-600"})}),l.jsxs("div",{className:"flex-1",children:[l.jsx("p",{className:"font-medium",children:"Export as Google Contacts CSV"}),l.jsx("p",{className:"text-sm text-gray-500",children:"Import directly into Google Contacts or other CSV-compatible systems"})]}),l.jsx(Pj,{className:"w-5 h-5 text-gray-400"})]})]})]})]})}function vae(){vn("User Approval - Settings");const t=ut();if(!((window.prmConfig||{}).isAdmin||!1))return l.jsx("div",{className:"max-w-2xl mx-auto",children:l.jsxs("div",{className:"card p-8 text-center",children:[l.jsx(hK,{className:"w-16 h-16 mx-auto text-amber-500 mb-4"}),l.jsx("h1",{className:"text-2xl font-bold mb-2",children:"Access Denied"}),l.jsx("p",{className:"text-gray-600 mb-6",children:"You don't have permission to manage user approvals. This feature is only available to administrators."}),l.jsx(he,{to:"/settings",className:"btn-primary",children:"Back to Settings"})]})});const{data:n=[],isLoading:i}=rt({queryKey:["users"],queryFn:async()=>(await qe.getUsers()).data}),s=Ze({mutationFn:p=>qe.approveUser(p),onSuccess:()=>{t.invalidateQueries({queryKey:["users"]})}}),a=Ze({mutationFn:p=>qe.denyUser(p),onSuccess:()=>{t.invalidateQueries({queryKey:["users"]})}}),o=Ze({mutationFn:p=>qe.deleteUser(p),onSuccess:()=>{t.invalidateQueries({queryKey:["users"]})}}),u=p=>{window.confirm("Are you sure you want to approve this user?")&&s.mutate(p)},c=p=>{window.confirm("Are you sure you want to deny this user? They will not be able to access the system.")&&a.mutate(p)},d=(p,m)=>{window.confirm(`Are you sure you want to delete ${m}? This will permanently delete their account and all their related data (people, organizations, dates). This action cannot be undone.`)&&o.mutate(p)};if(i)return l.jsx("div",{className:"flex items-center justify-center h-64",children:l.jsx(Po,{className:"w-8 h-8 animate-spin text-primary-600"})});const h=n.filter(p=>!p.is_approved),f=n.filter(p=>p.is_approved);return l.jsxs("div",{className:"max-w-2xl mx-auto space-y-6",children:[l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsxs(he,{to:"/settings",className:"btn-secondary flex items-center gap-2",children:[l.jsx(Cn,{className:"w-4 h-4"}),l.jsx("span",{className:"hidden md:inline",children:"Back to Settings"})]}),l.jsx("h1",{className:"text-2xl font-semibold",children:"User Approval"})]}),l.jsxs("div",{className:"space-y-6",children:[h.length>0&&l.jsxs("div",{children:[l.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Pending Approval"}),l.jsx("div",{className:"space-y-3",children:h.map(p=>l.jsxs("div",{className:"card p-4 flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("p",{className:"font-medium",children:p.name}),l.jsx("p",{className:"text-sm text-gray-500",children:p.email}),l.jsxs("p",{className:"text-xs text-gray-400",children:["Registered: ",new Date(p.registered).toLocaleDateString()]})]}),l.jsxs("div",{className:"flex gap-2",children:[l.jsxs("button",{onClick:()=>u(p.id),disabled:s.isPending||o.isPending,className:"btn-primary flex items-center gap-2",children:[l.jsx(qI,{className:"w-4 h-4"}),"Approve"]}),l.jsxs("button",{onClick:()=>c(p.id),disabled:a.isPending||o.isPending,className:"btn-secondary flex items-center gap-2",children:[l.jsx(LI,{className:"w-4 h-4"}),"Deny"]}),l.jsxs("button",{onClick:()=>d(p.id,p.name),disabled:s.isPending||a.isPending||o.isPending,className:"btn-danger flex items-center gap-2",children:[l.jsx(Bn,{className:"w-4 h-4"}),"Delete"]})]})]},p.id))})]}),f.length>0&&l.jsxs("div",{children:[l.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Approved Users"}),l.jsx("div",{className:"space-y-3",children:f.map(p=>l.jsxs("div",{className:"card p-4 flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsxs("p",{className:"font-medium flex items-center gap-2",children:[p.name,l.jsx(qI,{className:"w-4 h-4 text-green-600"})]}),l.jsx("p",{className:"text-sm text-gray-500",children:p.email})]}),l.jsxs("div",{className:"flex gap-2",children:[l.jsxs("button",{onClick:()=>c(p.id),disabled:a.isPending||o.isPending,className:"btn-secondary flex items-center gap-2",children:[l.jsx(LI,{className:"w-4 h-4"}),"Revoke Access"]}),l.jsxs("button",{onClick:()=>d(p.id,p.name),disabled:a.isPending||o.isPending,className:"btn-danger flex items-center gap-2",children:[l.jsx(Bn,{className:"w-4 h-4"}),"Delete"]})]})]},p.id))})]}),n.length===0&&l.jsx("div",{className:"card p-8 text-center",children:l.jsx("p",{className:"text-gray-600",children:"No Caelis users found."})})]})]})}/**
 * vis-data
 * http://visjs.org/
 *
 * Manage unstructured data using DataSet. Add, update, and remove data, and listen for changes in the data.
 *
 * @version 8.0.3
 * @date    2025-09-10T16:22:00.613Z
 *
 * @copyright (c) 2011-2017 Almende B.V, http://almende.com
 * @copyright (c) 2017-2019 visjs contributors, https://github.com/visjs
 *
 * @license
 * vis.js is dual licensed under both
 *
 *   1. The Apache 2.0 License
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 *   and
 *
 *   2. The MIT License
 *      http://opensource.org/licenses/MIT
 *
 * vis.js may be distributed under either license.
 */var vR=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function He(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Rv={exports:{}},gR={},Pc,yR;function rr(){if(yR)return Pc;yR=1;var t=function(e){return e&&e.Math===Math&&e};return Pc=t(typeof globalThis=="object"&&globalThis)||t(typeof window=="object"&&window)||t(typeof self=="object"&&self)||t(typeof vR=="object"&&vR)||t(typeof Pc=="object"&&Pc)||function(){return this}()||Function("return this")(),Pc}var $v,bR;function ct(){return bR||(bR=1,$v=function(t){try{return!!t()}catch{return!0}}),$v}var kv,xR;function sh(){if(xR)return kv;xR=1;var t=ct();return kv=!t(function(){var e=(function(){}).bind();return typeof e!="function"||e.hasOwnProperty("prototype")}),kv}var Dv,wR;function hm(){if(wR)return Dv;wR=1;var t=sh(),e=Function.prototype,r=e.apply,n=e.call;return Dv=typeof Reflect=="object"&&Reflect.apply||(t?n.bind(r):function(){return n.apply(r,arguments)}),Dv}var Mv,_R;function mt(){if(_R)return Mv;_R=1;var t=sh(),e=Function.prototype,r=e.call,n=t&&e.bind.bind(r,r);return Mv=t?n:function(i){return function(){return r.apply(i,arguments)}},Mv}var qv,SR;function Es(){if(SR)return qv;SR=1;var t=mt(),e=t({}.toString),r=t("".slice);return qv=function(n){return r(e(n),8,-1)},qv}var Av,ER;function KK(){if(ER)return Av;ER=1;var t=Es(),e=mt();return Av=function(r){if(t(r)==="Function")return e(r)},Av}var Fv,NR;function pr(){if(NR)return Fv;NR=1;var t=typeof document=="object"&&document.all;return Fv=typeof t>"u"&&t!==void 0?function(e){return typeof e=="function"||e===t}:function(e){return typeof e=="function"},Fv}var Lv={},Bv,jR;function nr(){if(jR)return Bv;jR=1;var t=ct();return Bv=!t(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!==7}),Bv}var zv,CR;function gn(){if(CR)return zv;CR=1;var t=sh(),e=Function.prototype.call;return zv=t?e.bind(e):function(){return e.apply(e,arguments)},zv}var Uv={},OR;function bO(){if(OR)return Uv;OR=1;var t={}.propertyIsEnumerable,e=Object.getOwnPropertyDescriptor,r=e&&!t.call({1:2},1);return Uv.f=r?function(i){var s=e(this,i);return!!s&&s.enumerable}:t,Uv}var Wv,PR;function ah(){return PR||(PR=1,Wv=function(t,e){return{enumerable:!(t&1),configurable:!(t&2),writable:!(t&4),value:e}}),Wv}var Vv,TR;function fm(){if(TR)return Vv;TR=1;var t=mt(),e=ct(),r=Es(),n=Object,i=t("".split);return Vv=e(function(){return!n("z").propertyIsEnumerable(0)})?function(s){return r(s)==="String"?i(s,""):n(s)}:n,Vv}var Hv,IR;function oh(){return IR||(IR=1,Hv=function(t){return t==null}),Hv}var Kv,RR;function Vo(){if(RR)return Kv;RR=1;var t=oh(),e=TypeError;return Kv=function(r){if(t(r))throw new e("Can't call method on "+r);return r},Kv}var Gv,$R;function Ai(){if($R)return Gv;$R=1;var t=fm(),e=Vo();return Gv=function(r){return t(e(r))},Gv}var Yv,kR;function Xr(){if(kR)return Yv;kR=1;var t=pr();return Yv=function(e){return typeof e=="object"?e!==null:t(e)},Yv}var Qv,DR;function ur(){return DR||(DR=1,Qv={}),Qv}var Xv,MR;function Tn(){if(MR)return Xv;MR=1;var t=ur(),e=rr(),r=pr(),n=function(i){return r(i)?i:void 0};return Xv=function(i,s){return arguments.length<2?n(t[i])||n(e[i]):t[i]&&t[i][s]||e[i]&&e[i][s]},Xv}var Jv,qR;function mr(){if(qR)return Jv;qR=1;var t=mt();return Jv=t({}.isPrototypeOf),Jv}var Zv,AR;function Fu(){if(AR)return Zv;AR=1;var t=rr(),e=t.navigator,r=e&&e.userAgent;return Zv=r?String(r):"",Zv}var eg,FR;function lh(){if(FR)return eg;FR=1;var t=rr(),e=Fu(),r=t.process,n=t.Deno,i=r&&r.versions||n&&n.version,s=i&&i.v8,a,o;return s&&(a=s.split("."),o=a[0]>0&&a[0]<4?1:+(a[0]+a[1])),!o&&e&&(a=e.match(/Edge\/(\d+)/),(!a||a[1]>=74)&&(a=e.match(/Chrome\/(\d+)/),a&&(o=+a[1]))),eg=o,eg}var tg,LR;function Lu(){if(LR)return tg;LR=1;var t=lh(),e=ct(),r=rr(),n=r.String;return tg=!!Object.getOwnPropertySymbols&&!e(function(){var i=Symbol("symbol detection");return!n(i)||!(Object(i)instanceof Symbol)||!Symbol.sham&&t&&t<41}),tg}var rg,BR;function GK(){if(BR)return rg;BR=1;var t=Lu();return rg=t&&!Symbol.sham&&typeof Symbol.iterator=="symbol",rg}var ng,zR;function uh(){if(zR)return ng;zR=1;var t=Tn(),e=pr(),r=mr(),n=GK(),i=Object;return ng=n?function(s){return typeof s=="symbol"}:function(s){var a=t("Symbol");return e(a)&&r(a.prototype,i(s))},ng}var ig,UR;function Bu(){if(UR)return ig;UR=1;var t=String;return ig=function(e){try{return t(e)}catch{return"Object"}},ig}var sg,WR;function Ns(){if(WR)return sg;WR=1;var t=pr(),e=Bu(),r=TypeError;return sg=function(n){if(t(n))return n;throw new r(e(n)+" is not a function")},sg}var ag,VR;function xO(){if(VR)return ag;VR=1;var t=Ns(),e=oh();return ag=function(r,n){var i=r[n];return e(i)?void 0:t(i)},ag}var og,HR;function gae(){if(HR)return og;HR=1;var t=gn(),e=pr(),r=Xr(),n=TypeError;return og=function(i,s){var a,o;if(s==="string"&&e(a=i.toString)&&!r(o=t(a,i))||e(a=i.valueOf)&&!r(o=t(a,i))||s!=="string"&&e(a=i.toString)&&!r(o=t(a,i)))return o;throw new n("Can't convert object to primitive value")},og}var lg={exports:{}},ug,KR;function zu(){return KR||(KR=1,ug=!0),ug}var cg,GR;function yae(){if(GR)return cg;GR=1;var t=rr(),e=Object.defineProperty;return cg=function(r,n){try{e(t,r,{value:n,configurable:!0,writable:!0})}catch{t[r]=n}return n},cg}var YR;function wO(){if(YR)return lg.exports;YR=1;var t=zu(),e=rr(),r=yae(),n="__core-js_shared__",i=lg.exports=e[n]||r(n,{});return(i.versions||(i.versions=[])).push({version:"3.44.0",mode:t?"pure":"global",copyright:" 2014-2025 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.44.0/LICENSE",source:"https://github.com/zloirock/core-js"}),lg.exports}var dg,QR;function Uu(){if(QR)return dg;QR=1;var t=wO();return dg=function(e,r){return t[e]||(t[e]=r||{})},dg}var hg,XR;function yi(){if(XR)return hg;XR=1;var t=Vo(),e=Object;return hg=function(r){return e(t(r))},hg}var fg,JR;function vr(){if(JR)return fg;JR=1;var t=mt(),e=yi(),r=t({}.hasOwnProperty);return fg=Object.hasOwn||function(i,s){return r(e(i),s)},fg}var pg,ZR;function pm(){if(ZR)return pg;ZR=1;var t=mt(),e=0,r=Math.random(),n=t(1.1.toString);return pg=function(i){return"Symbol("+(i===void 0?"":i)+")_"+n(++e+r,36)},pg}var mg,e$;function gr(){if(e$)return mg;e$=1;var t=rr(),e=Uu(),r=vr(),n=pm(),i=Lu(),s=GK(),a=t.Symbol,o=e("wks"),u=s?a.for||a:a&&a.withoutSetter||n;return mg=function(c){return r(o,c)||(o[c]=i&&r(a,c)?a[c]:u("Symbol."+c)),o[c]},mg}var vg,t$;function YK(){if(t$)return vg;t$=1;var t=gn(),e=Xr(),r=uh(),n=xO(),i=gae(),s=gr(),a=TypeError,o=s("toPrimitive");return vg=function(u,c){if(!e(u)||r(u))return u;var d=n(u,o),h;if(d){if(c===void 0&&(c="default"),h=t(d,u,c),!e(h)||r(h))return h;throw new a("Can't convert object to primitive value")}return c===void 0&&(c="number"),i(u,c)},vg}var gg,r$;function _O(){if(r$)return gg;r$=1;var t=YK(),e=uh();return gg=function(r){var n=t(r,"string");return e(n)?n:n+""},gg}var yg,n$;function QK(){if(n$)return yg;n$=1;var t=rr(),e=Xr(),r=t.document,n=e(r)&&e(r.createElement);return yg=function(i){return n?r.createElement(i):{}},yg}var bg,i$;function XK(){if(i$)return bg;i$=1;var t=nr(),e=ct(),r=QK();return bg=!t&&!e(function(){return Object.defineProperty(r("div"),"a",{get:function(){return 7}}).a!==7}),bg}var s$;function mm(){if(s$)return Lv;s$=1;var t=nr(),e=gn(),r=bO(),n=ah(),i=Ai(),s=_O(),a=vr(),o=XK(),u=Object.getOwnPropertyDescriptor;return Lv.f=t?u:function(d,h){if(d=i(d),h=s(h),o)try{return u(d,h)}catch{}if(a(d,h))return n(!e(r.f,d,h),d[h])},Lv}var xg,a$;function bae(){if(a$)return xg;a$=1;var t=ct(),e=pr(),r=/#|\.prototype\./,n=function(u,c){var d=s[i(u)];return d===o?!0:d===a?!1:e(c)?t(c):!!c},i=n.normalize=function(u){return String(u).replace(r,".").toLowerCase()},s=n.data={},a=n.NATIVE="N",o=n.POLYFILL="P";return xg=n,xg}var wg,o$;function vm(){if(o$)return wg;o$=1;var t=KK(),e=Ns(),r=sh(),n=t(t.bind);return wg=function(i,s){return e(i),s===void 0?i:r?n(i,s):function(){return i.apply(s,arguments)}},wg}var _g={},Sg,l$;function JK(){if(l$)return Sg;l$=1;var t=nr(),e=ct();return Sg=t&&e(function(){return Object.defineProperty(function(){},"prototype",{value:42,writable:!1}).prototype!==42}),Sg}var Eg,u$;function js(){if(u$)return Eg;u$=1;var t=Xr(),e=String,r=TypeError;return Eg=function(n){if(t(n))return n;throw new r(e(n)+" is not an object")},Eg}var c$;function Yn(){if(c$)return _g;c$=1;var t=nr(),e=XK(),r=JK(),n=js(),i=_O(),s=TypeError,a=Object.defineProperty,o=Object.getOwnPropertyDescriptor,u="enumerable",c="configurable",d="writable";return _g.f=t?r?function(f,p,m){if(n(f),p=i(p),n(m),typeof f=="function"&&p==="prototype"&&"value"in m&&d in m&&!m[d]){var y=o(f,p);y&&y[d]&&(f[p]=m.value,m={configurable:c in m?m[c]:y[c],enumerable:u in m?m[u]:y[u],writable:!1})}return a(f,p,m)}:a:function(f,p,m){if(n(f),p=i(p),n(m),e)try{return a(f,p,m)}catch{}if("get"in m||"set"in m)throw new s("Accessors not supported");return"value"in m&&(f[p]=m.value),f},_g}var Ng,d$;function Wu(){if(d$)return Ng;d$=1;var t=nr(),e=Yn(),r=ah();return Ng=t?function(n,i,s){return e.f(n,i,r(1,s))}:function(n,i,s){return n[i]=s,n},Ng}var jg,h$;function $e(){if(h$)return jg;h$=1;var t=rr(),e=hm(),r=KK(),n=pr(),i=mm().f,s=bae(),a=ur(),o=vm(),u=Wu(),c=vr(),d=function(h){var f=function(p,m,y){if(this instanceof f){switch(arguments.length){case 0:return new h;case 1:return new h(p);case 2:return new h(p,m)}return new h(p,m,y)}return e(h,this,arguments)};return f.prototype=h.prototype,f};return jg=function(h,f){var p=h.target,m=h.global,y=h.stat,x=h.proto,g=m?t:y?t[p]:t[p]&&t[p].prototype,v=m?a:a[p]||u(a,p,{})[p],w=v.prototype,b,_,E,N,S,j,C,P,O;for(N in f)b=s(m?N:p+(y?".":"#")+N,h.forced),_=!b&&g&&c(g,N),j=v[N],_&&(h.dontCallGetSet?(O=i(g,N),C=O&&O.value):C=g[N]),S=_&&C?C:f[N],!(!b&&!x&&typeof j==typeof S)&&(h.bind&&_?P=o(S,t):h.wrap&&_?P=d(S):x&&n(S)?P=r(S):P=S,(h.sham||S&&S.sham||j&&j.sham)&&u(P,"sham",!0),u(v,N,P),x&&(E=p+"Prototype",c(a,E)||u(a,E,{}),u(a[E],N,S),h.real&&w&&(b||!w[N])&&u(w,N,S)))},jg}var f$;function xae(){if(f$)return gR;f$=1;var t=$e(),e=nr(),r=Yn().f;return t({target:"Object",stat:!0,forced:Object.defineProperty!==r,sham:!e},{defineProperty:r}),gR}var p$;function wae(){if(p$)return Rv.exports;p$=1,xae();var t=ur(),e=t.Object,r=Rv.exports=function(i,s,a){return e.defineProperty(i,s,a)};return e.defineProperty.sham&&(r.sham=!0),Rv.exports}var Cg,m$;function ZK(){if(m$)return Cg;m$=1;var t=wae();return Cg=t,Cg}var Og,v$;function _ae(){if(v$)return Og;v$=1;var t=ZK();return Og=t,Og}var Pg,g$;function Sae(){if(g$)return Pg;g$=1;var t=_ae();return Pg=t,Pg}var Tg,y$;function Eae(){return y$||(y$=1,Tg=Sae()),Tg}var Nae=Eae(),jae=He(Nae),b$={},Ig,x$;function Ho(){if(x$)return Ig;x$=1;var t=Es();return Ig=Array.isArray||function(r){return t(r)==="Array"},Ig}var Rg,w$;function Cae(){if(w$)return Rg;w$=1;var t=Math.ceil,e=Math.floor;return Rg=Math.trunc||function(n){var i=+n;return(i>0?e:t)(i)},Rg}var $g,_$;function Vu(){if(_$)return $g;_$=1;var t=Cae();return $g=function(e){var r=+e;return r!==r||r===0?0:t(r)},$g}var kg,S$;function eG(){if(S$)return kg;S$=1;var t=Vu(),e=Math.min;return kg=function(r){var n=t(r);return n>0?e(n,9007199254740991):0},kg}var Dg,E$;function Oa(){if(E$)return Dg;E$=1;var t=eG();return Dg=function(e){return t(e.length)},Dg}var Mg,N$;function tG(){if(N$)return Mg;N$=1;var t=TypeError,e=9007199254740991;return Mg=function(r){if(r>e)throw t("Maximum allowed index exceeded");return r},Mg}var qg,j$;function gm(){if(j$)return qg;j$=1;var t=nr(),e=Yn(),r=ah();return qg=function(n,i,s){t?e.f(n,i,r(0,s)):n[i]=s},qg}var Ag,C$;function SO(){if(C$)return Ag;C$=1;var t=gr(),e=t("toStringTag"),r={};return r[e]="z",Ag=String(r)==="[object z]",Ag}var Fg,O$;function Pa(){if(O$)return Fg;O$=1;var t=SO(),e=pr(),r=Es(),n=gr(),i=n("toStringTag"),s=Object,a=r(function(){return arguments}())==="Arguments",o=function(u,c){try{return u[c]}catch{}};return Fg=t?r:function(u){var c,d,h;return u===void 0?"Undefined":u===null?"Null":typeof(d=o(c=s(u),i))=="string"?d:a?r(c):(h=r(c))==="Object"&&e(c.callee)?"Arguments":h},Fg}var Lg,P$;function Oae(){if(P$)return Lg;P$=1;var t=mt(),e=pr(),r=wO(),n=t(Function.toString);return e(r.inspectSource)||(r.inspectSource=function(i){return n(i)}),Lg=r.inspectSource,Lg}var Bg,T$;function rG(){if(T$)return Bg;T$=1;var t=mt(),e=ct(),r=pr(),n=Pa(),i=Tn(),s=Oae(),a=function(){},o=i("Reflect","construct"),u=/^\s*(?:class|function)\b/,c=t(u.exec),d=!u.test(a),h=function(m){if(!r(m))return!1;try{return o(a,[],m),!0}catch{return!1}},f=function(m){if(!r(m))return!1;switch(n(m)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return d||!!c(u,s(m))}catch{return!0}};return f.sham=!0,Bg=!o||e(function(){var p;return h(h.call)||!h(Object)||!h(function(){p=!0})||p})?f:h,Bg}var zg,I$;function Pae(){if(I$)return zg;I$=1;var t=Ho(),e=rG(),r=Xr(),n=gr(),i=n("species"),s=Array;return zg=function(a){var o;return t(a)&&(o=a.constructor,e(o)&&(o===s||t(o.prototype))?o=void 0:r(o)&&(o=o[i],o===null&&(o=void 0))),o===void 0?s:o},zg}var Ug,R$;function EO(){if(R$)return Ug;R$=1;var t=Pae();return Ug=function(e,r){return new(t(e))(r===0?0:r)},Ug}var Wg,$$;function ch(){if($$)return Wg;$$=1;var t=ct(),e=gr(),r=lh(),n=e("species");return Wg=function(i){return r>=51||!t(function(){var s=[],a=s.constructor={};return a[n]=function(){return{foo:1}},s[i](Boolean).foo!==1})},Wg}var k$;function nG(){if(k$)return b$;k$=1;var t=$e(),e=ct(),r=Ho(),n=Xr(),i=yi(),s=Oa(),a=tG(),o=gm(),u=EO(),c=ch(),d=gr(),h=lh(),f=d("isConcatSpreadable"),p=h>=51||!e(function(){var x=[];return x[f]=!1,x.concat()[0]!==x}),m=function(x){if(!n(x))return!1;var g=x[f];return g!==void 0?!!g:r(x)},y=!p||!c("concat");return t({target:"Array",proto:!0,arity:1,forced:y},{concat:function(g){var v=i(this),w=u(v,0),b=0,_,E,N,S,j;for(_=-1,N=arguments.length;_<N;_++)if(j=_===-1?v:arguments[_],m(j))for(S=s(j),a(b+S),E=0;E<S;E++,b++)E in j&&o(w,b,j[E]);else a(b+1),o(w,b++,j);return w.length=b,w}}),b$}var D$={},M$={},Vg,q$;function Ta(){if(q$)return Vg;q$=1;var t=Pa(),e=String;return Vg=function(r){if(t(r)==="Symbol")throw new TypeError("Cannot convert a Symbol value to a string");return e(r)},Vg}var Hg={},Kg,A$;function NO(){if(A$)return Kg;A$=1;var t=Vu(),e=Math.max,r=Math.min;return Kg=function(n,i){var s=t(n);return s<0?e(s+i,0):r(s,i)},Kg}var Gg,F$;function Tae(){if(F$)return Gg;F$=1;var t=Ai(),e=NO(),r=Oa(),n=function(i){return function(s,a,o){var u=t(s),c=r(u);if(c===0)return!i&&-1;var d=e(o,c),h;if(i&&a!==a){for(;c>d;)if(h=u[d++],h!==h)return!0}else for(;c>d;d++)if((i||d in u)&&u[d]===a)return i||d||0;return!i&&-1}};return Gg={includes:n(!0),indexOf:n(!1)},Gg}var Yg,L$;function dh(){return L$||(L$=1,Yg={}),Yg}var Qg,B$;function iG(){if(B$)return Qg;B$=1;var t=mt(),e=vr(),r=Ai(),n=Tae().indexOf,i=dh(),s=t([].push);return Qg=function(a,o){var u=r(a),c=0,d=[],h;for(h in u)!e(i,h)&&e(u,h)&&s(d,h);for(;o.length>c;)e(u,h=o[c++])&&(~n(d,h)||s(d,h));return d},Qg}var Xg,z$;function jO(){return z$||(z$=1,Xg=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]),Xg}var Jg,U$;function ym(){if(U$)return Jg;U$=1;var t=iG(),e=jO();return Jg=Object.keys||function(n){return t(n,e)},Jg}var W$;function CO(){if(W$)return Hg;W$=1;var t=nr(),e=JK(),r=Yn(),n=js(),i=Ai(),s=ym();return Hg.f=t&&!e?Object.defineProperties:function(o,u){n(o);for(var c=i(u),d=s(u),h=d.length,f=0,p;h>f;)r.f(o,p=d[f++],c[p]);return o},Hg}var Zg,V$;function Iae(){if(V$)return Zg;V$=1;var t=Tn();return Zg=t("document","documentElement"),Zg}var ey,H$;function bm(){if(H$)return ey;H$=1;var t=Uu(),e=pm(),r=t("keys");return ey=function(n){return r[n]||(r[n]=e(n))},ey}var ty,K$;function hh(){if(K$)return ty;K$=1;var t=js(),e=CO(),r=jO(),n=dh(),i=Iae(),s=QK(),a=bm(),o=">",u="<",c="prototype",d="script",h=a("IE_PROTO"),f=function(){},p=function(v){return u+d+o+v+u+"/"+d+o},m=function(v){v.write(p("")),v.close();var w=v.parentWindow.Object;return v=null,w},y=function(){var v=s("iframe"),w="java"+d+":",b;return v.style.display="none",i.appendChild(v),v.src=String(w),b=v.contentWindow.document,b.open(),b.write(p("document.F=Object")),b.close(),b.F},x,g=function(){try{x=new ActiveXObject("htmlfile")}catch{}g=typeof document<"u"?document.domain&&x?m(x):y():m(x);for(var v=r.length;v--;)delete g[c][r[v]];return g()};return n[h]=!0,ty=Object.create||function(w,b){var _;return w!==null?(f[c]=t(w),_=new f,f[c]=null,_[h]=w):_=g(),b===void 0?_:e.f(_,b)},ty}var ry={},G$;function xm(){if(G$)return ry;G$=1;var t=iG(),e=jO(),r=e.concat("length","prototype");return ry.f=Object.getOwnPropertyNames||function(i){return t(i,r)},ry}var ny={},iy,Y$;function Hu(){if(Y$)return iy;Y$=1;var t=mt();return iy=t([].slice),iy}var Q$;function sG(){if(Q$)return ny;Q$=1;var t=Es(),e=Ai(),r=xm().f,n=Hu(),i=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],s=function(a){try{return r(a)}catch{return n(i)}};return ny.f=function(o){return i&&t(o)==="Window"?s(o):r(e(o))},ny}var sy={},X$;function wm(){return X$||(X$=1,sy.f=Object.getOwnPropertySymbols),sy}var ay,J$;function fh(){if(J$)return ay;J$=1;var t=Wu();return ay=function(e,r,n,i){return i&&i.enumerable?e[r]=n:t(e,r,n),e},ay}var oy,Z$;function OO(){if(Z$)return oy;Z$=1;var t=Yn();return oy=function(e,r,n){return t.f(e,r,n)},oy}var ly={},ek;function _m(){if(ek)return ly;ek=1;var t=gr();return ly.f=t,ly}var uy,tk;function $t(){if(tk)return uy;tk=1;var t=ur(),e=vr(),r=_m(),n=Yn().f;return uy=function(i){var s=t.Symbol||(t.Symbol={});e(s,i)||n(s,i,{value:r.f(i)})},uy}var cy,rk;function aG(){if(rk)return cy;rk=1;var t=gn(),e=Tn(),r=gr(),n=fh();return cy=function(){var i=e("Symbol"),s=i&&i.prototype,a=s&&s.valueOf,o=r("toPrimitive");s&&!s[o]&&n(s,o,function(u){return t(a,this)},{arity:1})},cy}var dy,nk;function Rae(){if(nk)return dy;nk=1;var t=SO(),e=Pa();return dy=t?{}.toString:function(){return"[object "+e(this)+"]"},dy}var hy,ik;function Ko(){if(ik)return hy;ik=1;var t=SO(),e=Yn().f,r=Wu(),n=vr(),i=Rae(),s=gr(),a=s("toStringTag");return hy=function(o,u,c,d){var h=c?o:o&&o.prototype;h&&(n(h,a)||e(h,a,{configurable:!0,value:u}),d&&!t&&r(h,"toString",i))},hy}var fy,sk;function $ae(){if(sk)return fy;sk=1;var t=rr(),e=pr(),r=t.WeakMap;return fy=e(r)&&/native code/.test(String(r)),fy}var py,ak;function ph(){if(ak)return py;ak=1;var t=$ae(),e=rr(),r=Xr(),n=Wu(),i=vr(),s=wO(),a=bm(),o=dh(),u="Object already initialized",c=e.TypeError,d=e.WeakMap,h,f,p,m=function(v){return p(v)?f(v):h(v,{})},y=function(v){return function(w){var b;if(!r(w)||(b=f(w)).type!==v)throw new c("Incompatible receiver, "+v+" required");return b}};if(t||s.state){var x=s.state||(s.state=new d);x.get=x.get,x.has=x.has,x.set=x.set,h=function(v,w){if(x.has(v))throw new c(u);return w.facade=v,x.set(v,w),w},f=function(v){return x.get(v)||{}},p=function(v){return x.has(v)}}else{var g=a("state");o[g]=!0,h=function(v,w){if(i(v,g))throw new c(u);return w.facade=v,n(v,g,w),w},f=function(v){return i(v,g)?v[g]:{}},p=function(v){return i(v,g)}}return py={set:h,get:f,has:p,enforce:m,getterFor:y},py}var my,ok;function Ku(){if(ok)return my;ok=1;var t=vm(),e=mt(),r=fm(),n=yi(),i=Oa(),s=EO(),a=e([].push),o=function(u){var c=u===1,d=u===2,h=u===3,f=u===4,p=u===6,m=u===7,y=u===5||p;return function(x,g,v,w){for(var b=n(x),_=r(b),E=i(_),N=t(g,v),S=0,j=w||s,C=c?j(x,E):d||m?j(x,0):void 0,P,O;E>S;S++)if((y||S in _)&&(P=_[S],O=N(P,S,b),u))if(c)C[S]=O;else if(O)switch(u){case 3:return!0;case 5:return P;case 6:return S;case 2:a(C,P)}else switch(u){case 4:return!1;case 7:a(C,P)}return p?-1:h||f?f:C}};return my={forEach:o(0),map:o(1),filter:o(2),some:o(3),every:o(4),find:o(5),findIndex:o(6),filterReject:o(7)},my}var lk;function kae(){if(lk)return M$;lk=1;var t=$e(),e=rr(),r=gn(),n=mt(),i=zu(),s=nr(),a=Lu(),o=ct(),u=vr(),c=mr(),d=js(),h=Ai(),f=_O(),p=Ta(),m=ah(),y=hh(),x=ym(),g=xm(),v=sG(),w=wm(),b=mm(),_=Yn(),E=CO(),N=bO(),S=fh(),j=OO(),C=Uu(),P=bm(),O=dh(),I=pm(),M=gr(),k=_m(),H=$t(),W=aG(),A=Ko(),K=ph(),U=Ku().forEach,z=P("hidden"),G="Symbol",ce="prototype",ve=K.set,Ie=K.getterFor(G),me=Object[ce],Ee=e.Symbol,ke=Ee&&Ee[ce],tt=e.RangeError,Ut=e.TypeError,ht=e.QObject,J=b.f,Ne=_.f,Fe=v.f,Ge=N.f,Wt=n([].push),Ce=C("symbols"),We=C("op-symbols"),Et=C("wks"),Nt=!ht||!ht[ce]||!ht[ce].findChild,$=function(be,Z,ue){var oe=J(me,Z);oe&&delete me[Z],Ne(be,Z,ue),oe&&be!==me&&Ne(me,Z,oe)},q=s&&o(function(){return y(Ne({},"a",{get:function(){return Ne(this,"a",{value:7}).a}})).a!==7})?$:Ne,L=function(be,Z){var ue=Ce[be]=y(ke);return ve(ue,{type:G,tag:be,description:Z}),s||(ue.description=Z),ue},se=function(Z,ue,oe){Z===me&&se(We,ue,oe),d(Z);var _e=f(ue);return d(oe),u(Ce,_e)?(oe.enumerable?(u(Z,z)&&Z[z][_e]&&(Z[z][_e]=!1),oe=y(oe,{enumerable:m(0,!1)})):(u(Z,z)||Ne(Z,z,m(1,y(null))),Z[z][_e]=!0),q(Z,_e,oe)):Ne(Z,_e,oe)},ee=function(Z,ue){d(Z);var oe=h(ue),_e=x(oe).concat(Ye(oe));return U(_e,function(Le){(!s||r(V,oe,Le))&&se(Z,Le,oe[Le])}),Z},Q=function(Z,ue){return ue===void 0?y(Z):ee(y(Z),ue)},V=function(Z){var ue=f(Z),oe=r(Ge,this,ue);return this===me&&u(Ce,ue)&&!u(We,ue)?!1:oe||!u(this,ue)||!u(Ce,ue)||u(this,z)&&this[z][ue]?oe:!0},le=function(Z,ue){var oe=h(Z),_e=f(ue);if(!(oe===me&&u(Ce,_e)&&!u(We,_e))){var Le=J(oe,_e);return Le&&u(Ce,_e)&&!(u(oe,z)&&oe[z][_e])&&(Le.enumerable=!0),Le}},pe=function(Z){var ue=Fe(h(Z)),oe=[];return U(ue,function(_e){!u(Ce,_e)&&!u(O,_e)&&Wt(oe,_e)}),oe},Ye=function(be){var Z=be===me,ue=Fe(Z?We:h(be)),oe=[];return U(ue,function(_e){u(Ce,_e)&&(!Z||u(me,_e))&&Wt(oe,Ce[_e])}),oe};return a||(Ee=function(){if(c(ke,this))throw new Ut("Symbol is not a constructor");var Z=!arguments.length||arguments[0]===void 0?void 0:p(arguments[0]),ue=I(Z),oe=function(_e){var Le=this===void 0?e:this;Le===me&&r(oe,We,_e),u(Le,z)&&u(Le[z],ue)&&(Le[z][ue]=!1);var Jr=m(1,_e);try{q(Le,ue,Jr)}catch($n){if(!($n instanceof tt))throw $n;$(Le,ue,Jr)}};return s&&Nt&&q(me,ue,{configurable:!0,set:oe}),L(ue,Z)},ke=Ee[ce],S(ke,"toString",function(){return Ie(this).tag}),S(Ee,"withoutSetter",function(be){return L(I(be),be)}),N.f=V,_.f=se,E.f=ee,b.f=le,g.f=v.f=pe,w.f=Ye,k.f=function(be){return L(M(be),be)},s&&(j(ke,"description",{configurable:!0,get:function(){return Ie(this).description}}),i||S(me,"propertyIsEnumerable",V,{unsafe:!0}))),t({global:!0,constructor:!0,wrap:!0,forced:!a,sham:!a},{Symbol:Ee}),U(x(Et),function(be){H(be)}),t({target:G,stat:!0,forced:!a},{useSetter:function(){Nt=!0},useSimple:function(){Nt=!1}}),t({target:"Object",stat:!0,forced:!a,sham:!s},{create:Q,defineProperty:se,defineProperties:ee,getOwnPropertyDescriptor:le}),t({target:"Object",stat:!0,forced:!a},{getOwnPropertyNames:pe}),W(),A(Ee,G),O[z]=!0,M$}var uk={},vy,ck;function oG(){if(ck)return vy;ck=1;var t=Lu();return vy=t&&!!Symbol.for&&!!Symbol.keyFor,vy}var dk;function Dae(){if(dk)return uk;dk=1;var t=$e(),e=Tn(),r=vr(),n=Ta(),i=Uu(),s=oG(),a=i("string-to-symbol-registry"),o=i("symbol-to-string-registry");return t({target:"Symbol",stat:!0,forced:!s},{for:function(u){var c=n(u);if(r(a,c))return a[c];var d=e("Symbol")(c);return a[c]=d,o[d]=c,d}}),uk}var hk={},fk;function Mae(){if(fk)return hk;fk=1;var t=$e(),e=vr(),r=uh(),n=Bu(),i=Uu(),s=oG(),a=i("symbol-to-string-registry");return t({target:"Symbol",stat:!0,forced:!s},{keyFor:function(u){if(!r(u))throw new TypeError(n(u)+" is not a symbol");if(e(a,u))return a[u]}}),hk}var pk={},gy,mk;function qae(){if(mk)return gy;mk=1;var t=mt(),e=Ho(),r=pr(),n=Es(),i=Ta(),s=t([].push);return gy=function(a){if(r(a))return a;if(e(a)){for(var o=a.length,u=[],c=0;c<o;c++){var d=a[c];typeof d=="string"?s(u,d):(typeof d=="number"||n(d)==="Number"||n(d)==="String")&&s(u,i(d))}var h=u.length,f=!0;return function(p,m){if(f)return f=!1,m;if(e(this))return m;for(var y=0;y<h;y++)if(u[y]===p)return m}}},gy}var vk;function lG(){if(vk)return pk;vk=1;var t=$e(),e=Tn(),r=hm(),n=gn(),i=mt(),s=ct(),a=pr(),o=uh(),u=Hu(),c=qae(),d=Lu(),h=String,f=e("JSON","stringify"),p=i(/./.exec),m=i("".charAt),y=i("".charCodeAt),x=i("".replace),g=i(1.1.toString),v=/[\uD800-\uDFFF]/g,w=/^[\uD800-\uDBFF]$/,b=/^[\uDC00-\uDFFF]$/,_=!d||s(function(){var j=e("Symbol")("stringify detection");return f([j])!=="[null]"||f({a:j})!=="{}"||f(Object(j))!=="{}"}),E=s(function(){return f("\uDF06\uD834")!=='"\\udf06\\ud834"'||f("\uDEAD")!=='"\\udead"'}),N=function(j,C){var P=u(arguments),O=c(C);if(!(!a(O)&&(j===void 0||o(j))))return P[1]=function(I,M){if(a(O)&&(M=n(O,this,h(I),M)),!o(M))return M},r(f,null,P)},S=function(j,C,P){var O=m(P,C-1),I=m(P,C+1);return p(w,j)&&!p(b,I)||p(b,j)&&!p(w,O)?"\\u"+g(y(j,0),16):j};return f&&t({target:"JSON",stat:!0,arity:3,forced:_||E},{stringify:function(C,P,O){var I=u(arguments),M=r(_?N:f,null,I);return E&&typeof M=="string"?x(M,v,S):M}}),pk}var gk={},yk;function Aae(){if(yk)return gk;yk=1;var t=$e(),e=Lu(),r=ct(),n=wm(),i=yi(),s=!e||r(function(){n.f(1)});return t({target:"Object",stat:!0,forced:s},{getOwnPropertySymbols:function(o){var u=n.f;return u?u(i(o)):[]}}),gk}var bk;function uG(){return bk||(bk=1,kae(),Dae(),Mae(),lG(),Aae()),D$}var xk={},wk;function cG(){if(wk)return xk;wk=1;var t=$t();return t("asyncDispose"),xk}var _k={},Sk;function Fae(){if(Sk)return _k;Sk=1;var t=$t();return t("asyncIterator"),_k}var Ek={},Nk;function dG(){if(Nk)return Ek;Nk=1;var t=$t();return t("dispose"),Ek}var jk={},Ck;function Lae(){if(Ck)return jk;Ck=1;var t=$t();return t("hasInstance"),jk}var Ok={},Pk;function Bae(){if(Pk)return Ok;Pk=1;var t=$t();return t("isConcatSpreadable"),Ok}var Tk={},Ik;function hG(){if(Ik)return Tk;Ik=1;var t=$t();return t("iterator"),Tk}var Rk={},$k;function zae(){if($k)return Rk;$k=1;var t=$t();return t("match"),Rk}var kk={},Dk;function Uae(){if(Dk)return kk;Dk=1;var t=$t();return t("matchAll"),kk}var Mk={},qk;function Wae(){if(qk)return Mk;qk=1;var t=$t();return t("replace"),Mk}var Ak={},Fk;function Vae(){if(Fk)return Ak;Fk=1;var t=$t();return t("search"),Ak}var Lk={},Bk;function Hae(){if(Bk)return Lk;Bk=1;var t=$t();return t("species"),Lk}var zk={},Uk;function Kae(){if(Uk)return zk;Uk=1;var t=$t();return t("split"),zk}var Wk={},Vk;function fG(){if(Vk)return Wk;Vk=1;var t=$t(),e=aG();return t("toPrimitive"),e(),Wk}var Hk={},Kk;function Gae(){if(Kk)return Hk;Kk=1;var t=Tn(),e=$t(),r=Ko();return e("toStringTag"),r(t("Symbol"),"Symbol"),Hk}var Gk={},Yk;function Yae(){if(Yk)return Gk;Yk=1;var t=$t();return t("unscopables"),Gk}var Qk={},Xk;function Qae(){if(Xk)return Qk;Xk=1;var t=rr(),e=Ko();return e(t.JSON,"JSON",!0),Qk}var yy,Jk;function Xae(){if(Jk)return yy;Jk=1,nG(),uG(),cG(),Fae(),dG(),Lae(),Bae(),hG(),zae(),Uae(),Wae(),Vae(),Hae(),Kae(),fG(),Gae(),Yae(),Qae();var t=ur();return yy=t.Symbol,yy}var Zk={},by,eD;function Jae(){return eD||(eD=1,by=function(){}),by}var xy,tD;function Gu(){return tD||(tD=1,xy={}),xy}var wy,rD;function Zae(){if(rD)return wy;rD=1;var t=nr(),e=vr(),r=Function.prototype,n=t&&Object.getOwnPropertyDescriptor,i=e(r,"name"),s=i&&(function(){}).name==="something",a=i&&(!t||t&&n(r,"name").configurable);return wy={EXISTS:i,PROPER:s,CONFIGURABLE:a},wy}var _y,nD;function eoe(){if(nD)return _y;nD=1;var t=ct();return _y=!t(function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype}),_y}var Sy,iD;function pG(){if(iD)return Sy;iD=1;var t=vr(),e=pr(),r=yi(),n=bm(),i=eoe(),s=n("IE_PROTO"),a=Object,o=a.prototype;return Sy=i?a.getPrototypeOf:function(u){var c=r(u);if(t(c,s))return c[s];var d=c.constructor;return e(d)&&c instanceof d?d.prototype:c instanceof a?o:null},Sy}var Ey,sD;function mG(){if(sD)return Ey;sD=1;var t=ct(),e=pr(),r=Xr(),n=hh(),i=pG(),s=fh(),a=gr(),o=zu(),u=a("iterator"),c=!1,d,h,f;[].keys&&(f=[].keys(),"next"in f?(h=i(i(f)),h!==Object.prototype&&(d=h)):c=!0);var p=!r(d)||t(function(){var m={};return d[u].call(m)!==m});return p?d={}:o&&(d=n(d)),e(d[u])||s(d,u,function(){return this}),Ey={IteratorPrototype:d,BUGGY_SAFARI_ITERATORS:c},Ey}var Ny,aD;function toe(){if(aD)return Ny;aD=1;var t=mG().IteratorPrototype,e=hh(),r=ah(),n=Ko(),i=Gu(),s=function(){return this};return Ny=function(a,o,u,c){var d=o+" Iterator";return a.prototype=e(t,{next:r(+!c,u)}),n(a,d,!1,!0),i[d]=s,a},Ny}var jy,oD;function roe(){if(oD)return jy;oD=1;var t=mt(),e=Ns();return jy=function(r,n,i){try{return t(e(Object.getOwnPropertyDescriptor(r,n)[i]))}catch{}},jy}var Cy,lD;function noe(){if(lD)return Cy;lD=1;var t=Xr();return Cy=function(e){return t(e)||e===null},Cy}var Oy,uD;function ioe(){if(uD)return Oy;uD=1;var t=noe(),e=String,r=TypeError;return Oy=function(n){if(t(n))return n;throw new r("Can't set "+e(n)+" as a prototype")},Oy}var Py,cD;function soe(){if(cD)return Py;cD=1;var t=roe(),e=Xr(),r=Vo(),n=ioe();return Py=Object.setPrototypeOf||("__proto__"in{}?function(){var i=!1,s={},a;try{a=t(Object.prototype,"__proto__","set"),a(s,[]),i=s instanceof Array}catch{}return function(u,c){return r(u),n(c),e(u)&&(i?a(u,c):u.__proto__=c),u}}():void 0),Py}var Ty,dD;function PO(){if(dD)return Ty;dD=1;var t=$e(),e=gn(),r=zu(),n=Zae(),i=pr(),s=toe(),a=pG(),o=soe(),u=Ko(),c=Wu(),d=fh(),h=gr(),f=Gu(),p=mG(),m=n.PROPER,y=n.CONFIGURABLE,x=p.IteratorPrototype,g=p.BUGGY_SAFARI_ITERATORS,v=h("iterator"),w="keys",b="values",_="entries",E=function(){return this};return Ty=function(N,S,j,C,P,O,I){s(j,S,C);var M=function(ve){if(ve===P&&K)return K;if(!g&&ve&&ve in W)return W[ve];switch(ve){case w:return function(){return new j(this,ve)};case b:return function(){return new j(this,ve)};case _:return function(){return new j(this,ve)}}return function(){return new j(this)}},k=S+" Iterator",H=!1,W=N.prototype,A=W[v]||W["@@iterator"]||P&&W[P],K=!g&&A||M(P),U=S==="Array"&&W.entries||A,z,G,ce;if(U&&(z=a(U.call(new N)),z!==Object.prototype&&z.next&&(!r&&a(z)!==x&&(o?o(z,x):i(z[v])||d(z,v,E)),u(z,k,!0,!0),r&&(f[k]=E))),m&&P===b&&A&&A.name!==b&&(!r&&y?c(W,"name",b):(H=!0,K=function(){return e(A,this)})),P)if(G={values:M(b),keys:O?K:M(w),entries:M(_)},I)for(ce in G)(g||H||!(ce in W))&&d(W,ce,G[ce]);else t({target:S,proto:!0,forced:g||H},G);return(!r||I)&&W[v]!==K&&d(W,v,K,{name:P}),f[S]=K,G},Ty}var Iy,hD;function TO(){return hD||(hD=1,Iy=function(t,e){return{value:t,done:e}}),Iy}var Ry,fD;function Ia(){if(fD)return Ry;fD=1;var t=Ai(),e=Jae(),r=Gu(),n=ph(),i=Yn().f,s=PO(),a=TO(),o=zu(),u=nr(),c="Array Iterator",d=n.set,h=n.getterFor(c);Ry=s(Array,"Array",function(p,m){d(this,{type:c,target:t(p),index:0,kind:m})},function(){var p=h(this),m=p.target,y=p.index++;if(!m||y>=m.length)return p.target=null,a(void 0,!0);switch(p.kind){case"keys":return a(y,!1);case"values":return a(m[y],!1)}return a([y,m[y]],!1)},"values");var f=r.Arguments=r.Array;if(e("keys"),e("values"),e("entries"),!o&&u&&f.name!=="values")try{i(f,"name",{value:"values"})}catch{}return Ry}var $y,pD;function aoe(){return pD||(pD=1,$y={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}),$y}var mD;function Ra(){if(mD)return Zk;mD=1,Ia();var t=aoe(),e=rr(),r=Ko(),n=Gu();for(var i in t)r(e[i],i),n[i]=n.Array;return Zk}var ky,vD;function vG(){if(vD)return ky;vD=1;var t=Xae();return Ra(),ky=t,ky}var gD={},yD;function ooe(){if(yD)return gD;yD=1;var t=gr(),e=Yn().f,r=t("metadata"),n=Function.prototype;return n[r]===void 0&&e(n,r,{value:null}),gD}var bD={},xD;function loe(){return xD||(xD=1,cG()),bD}var wD={},_D;function uoe(){return _D||(_D=1,dG()),wD}var SD={},ED;function coe(){if(ED)return SD;ED=1;var t=$t();return t("metadata"),SD}var Dy,ND;function doe(){if(ND)return Dy;ND=1;var t=vG();return ooe(),loe(),uoe(),coe(),Dy=t,Dy}var jD={},My,CD;function gG(){if(CD)return My;CD=1;var t=Tn(),e=mt(),r=t("Symbol"),n=r.keyFor,i=e(r.prototype.valueOf);return My=r.isRegisteredSymbol||function(a){try{return n(i(a))!==void 0}catch{return!1}},My}var OD;function hoe(){if(OD)return jD;OD=1;var t=$e(),e=gG();return t({target:"Symbol",stat:!0},{isRegisteredSymbol:e}),jD}var PD={},qy,TD;function yG(){if(TD)return qy;TD=1;for(var t=Uu(),e=Tn(),r=mt(),n=uh(),i=gr(),s=e("Symbol"),a=s.isWellKnownSymbol,o=e("Object","getOwnPropertyNames"),u=r(s.prototype.valueOf),c=t("wks"),d=0,h=o(s),f=h.length;d<f;d++)try{var p=h[d];n(s[p])&&i(p)}catch{}return qy=function(y){if(a&&a(y))return!0;try{for(var x=u(y),g=0,v=o(c),w=v.length;g<w;g++)if(c[v[g]]==x)return!0}catch{}return!1},qy}var ID;function foe(){if(ID)return PD;ID=1;var t=$e(),e=yG();return t({target:"Symbol",stat:!0,forced:!0},{isWellKnownSymbol:e}),PD}var RD={},$D;function poe(){if($D)return RD;$D=1;var t=$t();return t("customMatcher"),RD}var kD={},DD;function moe(){if(DD)return kD;DD=1;var t=$t();return t("observable"),kD}var MD={},qD;function voe(){if(qD)return MD;qD=1;var t=$e(),e=gG();return t({target:"Symbol",stat:!0,name:"isRegisteredSymbol"},{isRegistered:e}),MD}var AD={},FD;function goe(){if(FD)return AD;FD=1;var t=$e(),e=yG();return t({target:"Symbol",stat:!0,name:"isWellKnownSymbol",forced:!0},{isWellKnown:e}),AD}var LD={},BD;function yoe(){if(BD)return LD;BD=1;var t=$t();return t("matcher"),LD}var zD={},UD;function boe(){if(UD)return zD;UD=1;var t=$t();return t("metadataKey"),zD}var WD={},VD;function xoe(){if(VD)return WD;VD=1;var t=$t();return t("patternMatch"),WD}var HD={},KD;function woe(){if(KD)return HD;KD=1;var t=$t();return t("replaceAll"),HD}var Ay,GD;function _oe(){if(GD)return Ay;GD=1;var t=doe();return hoe(),foe(),poe(),moe(),voe(),goe(),yoe(),boe(),xoe(),woe(),Ay=t,Ay}var Fy,YD;function Soe(){return YD||(YD=1,Fy=_oe()),Fy}var Eoe=Soe(),hf=He(Eoe),QD={},Ly,XD;function Noe(){if(XD)return Ly;XD=1;var t=mt(),e=Vu(),r=Ta(),n=Vo(),i=t("".charAt),s=t("".charCodeAt),a=t("".slice),o=function(u){return function(c,d){var h=r(n(c)),f=e(d),p=h.length,m,y;return f<0||f>=p?u?"":void 0:(m=s(h,f),m<55296||m>56319||f+1===p||(y=s(h,f+1))<56320||y>57343?u?i(h,f):m:u?a(h,f,f+2):(m-55296<<10)+(y-56320)+65536)}};return Ly={codeAt:o(!1),charAt:o(!0)},Ly}var JD;function Sm(){if(JD)return QD;JD=1;var t=Noe().charAt,e=Ta(),r=ph(),n=PO(),i=TO(),s="String Iterator",a=r.set,o=r.getterFor(s);return n(String,"String",function(u){a(this,{type:s,string:e(u),index:0})},function(){var c=o(this),d=c.string,h=c.index,f;return h>=d.length?i(void 0,!0):(f=t(d,h),c.index+=f.length,i(f,!1))}),QD}var By,ZD;function joe(){if(ZD)return By;ZD=1,Ia(),Sm(),hG();var t=_m();return By=t.f("iterator"),By}var zy,eM;function bG(){if(eM)return zy;eM=1;var t=joe();return Ra(),zy=t,zy}var Uy,tM;function Coe(){if(tM)return Uy;tM=1;var t=bG();return Uy=t,Uy}var Wy,rM;function Ooe(){if(rM)return Wy;rM=1;var t=Coe();return Wy=t,Wy}var Vy,nM;function Poe(){return nM||(nM=1,Vy=Ooe()),Vy}var Toe=Poe(),Ioe=He(Toe);function Nd(t){"@babel/helpers - typeof";return Nd=typeof hf=="function"&&typeof Ioe=="symbol"?function(e){return typeof e}:function(e){return e&&typeof hf=="function"&&e.constructor===hf&&e!==hf.prototype?"symbol":typeof e},Nd(t)}var Hy,iM;function Roe(){if(iM)return Hy;iM=1,fG();var t=_m();return Hy=t.f("toPrimitive"),Hy}var Ky,sM;function $oe(){if(sM)return Ky;sM=1;var t=Roe();return Ky=t,Ky}var Gy,aM;function koe(){if(aM)return Gy;aM=1;var t=$oe();return Gy=t,Gy}var Yy,oM;function Doe(){if(oM)return Yy;oM=1;var t=koe();return Yy=t,Yy}var Qy,lM;function Moe(){return lM||(lM=1,Qy=Doe()),Qy}var qoe=Moe(),Aoe=He(qoe);function Foe(t,e){if(Nd(t)!="object"||!t)return t;var r=t[Aoe];if(r!==void 0){var n=r.call(t,e);if(Nd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Loe(t){var e=Foe(t,"string");return Nd(e)=="symbol"?e:e+""}function ha(t,e,r){return(e=Loe(e))in t?jae(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var uM={},Xy,cM;function Boe(){if(cM)return Xy;cM=1;var t=mt(),e=Ns(),r=Xr(),n=vr(),i=Hu(),s=sh(),a=Function,o=t([].concat),u=t([].join),c={},d=function(h,f,p){if(!n(c,f)){for(var m=[],y=0;y<f;y++)m[y]="a["+y+"]";c[f]=a("C,a","return new C("+u(m,",")+")")}return c[f](h,p)};return Xy=s?a.bind:function(f){var p=e(this),m=p.prototype,y=i(arguments,1),x=function(){var v=o(y,i(arguments));return this instanceof x?d(p,v.length,v):p.apply(f,v)};return r(m)&&(x.prototype=m),x},Xy}var dM;function zoe(){if(dM)return uM;dM=1;var t=$e(),e=Boe();return t({target:"Function",proto:!0,forced:Function.bind!==e},{bind:e}),uM}var Jy,hM;function yn(){if(hM)return Jy;hM=1;var t=rr(),e=ur();return Jy=function(r,n){var i=e[r+"Prototype"],s=i&&i[n];if(s)return s;var a=t[r],o=a&&a.prototype;return o&&o[n]},Jy}var Zy,fM;function Uoe(){if(fM)return Zy;fM=1,zoe();var t=yn();return Zy=t("Function","bind"),Zy}var e0,pM;function Woe(){if(pM)return e0;pM=1;var t=mr(),e=Uoe(),r=Function.prototype;return e0=function(n){var i=n.bind;return n===r||t(r,n)&&i===r.bind?e:i},e0}var t0,mM;function Voe(){if(mM)return t0;mM=1;var t=Woe();return t0=t,t0}var r0,vM;function Hoe(){return vM||(vM=1,r0=Voe()),r0}var Koe=Hoe(),xG=He(Koe),gM={},n0,yM;function Goe(){if(yM)return n0;yM=1;var t=Ns(),e=yi(),r=fm(),n=Oa(),i=TypeError,s="Reduce of empty array with no initial value",a=function(o){return function(u,c,d,h){var f=e(u),p=r(f),m=n(f);if(t(c),m===0&&d<2)throw new i(s);var y=o?m-1:0,x=o?-1:1;if(d<2)for(;;){if(y in p){h=p[y],y+=x;break}if(y+=x,o?y<0:m<=y)throw new i(s)}for(;o?y>=0:m>y;y+=x)y in p&&(h=c(h,p[y],y,f));return h}};return n0={left:a(!1),right:a(!0)},n0}var i0,bM;function Em(){if(bM)return i0;bM=1;var t=ct();return i0=function(e,r){var n=[][e];return!!n&&t(function(){n.call(null,r||function(){return 1},1)})},i0}var s0,xM;function wG(){if(xM)return s0;xM=1;var t=rr(),e=Fu(),r=Es(),n=function(i){return e.slice(0,i.length)===i};return s0=function(){return n("Bun/")?"BUN":n("Cloudflare-Workers")?"CLOUDFLARE":n("Deno/")?"DENO":n("Node.js/")?"NODE":t.Bun&&typeof Bun.version=="string"?"BUN":t.Deno&&typeof Deno.version=="object"?"DENO":r(t.process)==="process"?"NODE":t.window&&t.document?"BROWSER":"REST"}(),s0}var a0,wM;function Yoe(){if(wM)return a0;wM=1;var t=wG();return a0=t==="NODE",a0}var _M;function Qoe(){if(_M)return gM;_M=1;var t=$e(),e=Goe().left,r=Em(),n=lh(),i=Yoe(),s=!i&&n>79&&n<83,a=s||!r("reduce");return t({target:"Array",proto:!0,forced:a},{reduce:function(u){var c=arguments.length;return e(this,u,c,c>1?arguments[1]:void 0)}}),gM}var o0,SM;function Xoe(){if(SM)return o0;SM=1,Qoe();var t=yn();return o0=t("Array","reduce"),o0}var l0,EM;function Joe(){if(EM)return l0;EM=1;var t=mr(),e=Xoe(),r=Array.prototype;return l0=function(n){var i=n.reduce;return n===r||t(r,n)&&i===r.reduce?e:i},l0}var u0,NM;function Zoe(){if(NM)return u0;NM=1;var t=Joe();return u0=t,u0}var c0,jM;function ele(){return jM||(jM=1,c0=Zoe()),c0}var tle=ele(),rle=He(tle),CM={},OM;function nle(){if(OM)return CM;OM=1;var t=$e(),e=Ku().filter,r=ch(),n=r("filter");return t({target:"Array",proto:!0,forced:!n},{filter:function(s){return e(this,s,arguments.length>1?arguments[1]:void 0)}}),CM}var d0,PM;function ile(){if(PM)return d0;PM=1,nle();var t=yn();return d0=t("Array","filter"),d0}var h0,TM;function sle(){if(TM)return h0;TM=1;var t=mr(),e=ile(),r=Array.prototype;return h0=function(n){var i=n.filter;return n===r||t(r,n)&&i===r.filter?e:i},h0}var f0,IM;function ale(){if(IM)return f0;IM=1;var t=sle();return f0=t,f0}var p0,RM;function ole(){return RM||(RM=1,p0=ale()),p0}var lle=ole(),Tl=He(lle),$M={},kM;function ule(){if(kM)return $M;kM=1;var t=$e(),e=Ku().map,r=ch(),n=r("map");return t({target:"Array",proto:!0,forced:!n},{map:function(s){return e(this,s,arguments.length>1?arguments[1]:void 0)}}),$M}var m0,DM;function cle(){if(DM)return m0;DM=1,ule();var t=yn();return m0=t("Array","map"),m0}var v0,MM;function dle(){if(MM)return v0;MM=1;var t=mr(),e=cle(),r=Array.prototype;return v0=function(n){var i=n.map;return n===r||t(r,n)&&i===r.map?e:i},v0}var g0,qM;function hle(){if(qM)return g0;qM=1;var t=dle();return g0=t,g0}var y0,AM;function fle(){return AM||(AM=1,y0=hle()),y0}var ple=fle(),li=He(ple),b0,FM;function mle(){return FM||(FM=1,b0=vG()),b0}var vle=mle(),gle=He(vle),LM={},BM;function yle(){if(BM)return LM;BM=1;var t=$e(),e=Ho(),r=rG(),n=Xr(),i=NO(),s=Oa(),a=Ai(),o=gm(),u=gr(),c=ch(),d=Hu(),h=c("slice"),f=u("species"),p=Array,m=Math.max;return t({target:"Array",proto:!0,forced:!h},{slice:function(x,g){var v=a(this),w=s(v),b=i(x,w),_=i(g===void 0?w:g,w),E,N,S;if(e(v)&&(E=v.constructor,r(E)&&(E===p||e(E.prototype))?E=void 0:n(E)&&(E=E[f],E===null&&(E=void 0)),E===p||E===void 0))return d(v,b,_);for(N=new(E===void 0?p:E)(m(_-b,0)),S=0;b<_;b++,S++)b in v&&o(N,S,v[b]);return N.length=S,N}}),LM}var x0,zM;function ble(){if(zM)return x0;zM=1,yle();var t=yn();return x0=t("Array","slice"),x0}var w0,UM;function xle(){if(UM)return w0;UM=1;var t=mr(),e=ble(),r=Array.prototype;return w0=function(n){var i=n.slice;return n===r||t(r,n)&&i===r.slice?e:i},w0}var _0,WM;function wle(){if(WM)return _0;WM=1;var t=xle();return _0=t,_0}var S0,VM;function _le(){return VM||(VM=1,S0=wle()),S0}var Sle=_le(),Ele=He(Sle),HM={},E0,KM;function _G(){if(KM)return E0;KM=1;var t=Tn(),e=mt(),r=xm(),n=wm(),i=js(),s=e([].concat);return E0=t("Reflect","ownKeys")||function(o){var u=r.f(i(o)),c=n.f;return c?s(u,c(o)):u},E0}var GM;function Nle(){if(GM)return HM;GM=1;var t=$e(),e=_G();return t({target:"Reflect",stat:!0},{ownKeys:e}),HM}var N0,YM;function jle(){if(YM)return N0;YM=1,Nle();var t=ur();return N0=t.Reflect.ownKeys,N0}var j0,QM;function Cle(){if(QM)return j0;QM=1;var t=jle();return j0=t,j0}var C0,XM;function Ole(){return XM||(XM=1,C0=Cle()),C0}var Ple=Ole(),Tle=He(Ple),JM={},ZM;function Ile(){if(ZM)return JM;ZM=1;var t=$e(),e=Ho();return t({target:"Array",stat:!0},{isArray:e}),JM}var O0,eq;function Rle(){if(eq)return O0;eq=1,Ile();var t=ur();return O0=t.Array.isArray,O0}var P0,tq;function $le(){if(tq)return P0;tq=1;var t=Rle();return P0=t,P0}var T0,rq;function kle(){return rq||(rq=1,T0=$le()),T0}var Dle=kle(),Ei=He(Dle),nq={},iq;function Mle(){if(iq)return nq;iq=1;var t=$e(),e=yi(),r=ym(),n=ct(),i=n(function(){r(1)});return t({target:"Object",stat:!0,forced:i},{keys:function(a){return r(e(a))}}),nq}var I0,sq;function qle(){if(sq)return I0;sq=1,Mle();var t=ur();return I0=t.Object.keys,I0}var R0,aq;function Ale(){if(aq)return R0;aq=1;var t=qle();return R0=t,R0}var $0,oq;function Fle(){return oq||(oq=1,$0=Ale()),$0}var Lle=Fle(),IO=He(Lle),lq={},k0,uq;function Ble(){if(uq)return k0;uq=1;var t=Ku().forEach,e=Em(),r=e("forEach");return k0=r?[].forEach:function(i){return t(this,i,arguments.length>1?arguments[1]:void 0)},k0}var cq;function zle(){if(cq)return lq;cq=1;var t=$e(),e=Ble();return t({target:"Array",proto:!0,forced:[].forEach!==e},{forEach:e}),lq}var D0,dq;function Ule(){if(dq)return D0;dq=1,zle();var t=yn();return D0=t("Array","forEach"),D0}var M0,hq;function Wle(){if(hq)return M0;hq=1;var t=Ule();return M0=t,M0}var q0,fq;function Vle(){if(fq)return q0;fq=1;var t=Pa(),e=vr(),r=mr(),n=Wle(),i=Array.prototype,s={DOMTokenList:!0,NodeList:!0};return q0=function(a){var o=a.forEach;return a===i||r(i,a)&&o===i.forEach||e(s,t(a))?n:o},q0}var A0,pq;function Hle(){return pq||(pq=1,A0=Vle()),A0}var Kle=Hle(),$o=He(Kle),mq={},vq;function Gle(){if(vq)return mq;vq=1;var t=$e(),e=mt(),r=Ho(),n=e([].reverse),i=[1,2];return t({target:"Array",proto:!0,forced:String(i)===String(i.reverse())},{reverse:function(){return r(this)&&(this.length=this.length),n(this)}}),mq}var F0,gq;function Yle(){if(gq)return F0;gq=1,Gle();var t=yn();return F0=t("Array","reverse"),F0}var L0,yq;function Qle(){if(yq)return L0;yq=1;var t=mr(),e=Yle(),r=Array.prototype;return L0=function(n){var i=n.reverse;return n===r||t(r,n)&&i===r.reverse?e:i},L0}var B0,bq;function Xle(){if(bq)return B0;bq=1;var t=Qle();return B0=t,B0}var z0,xq;function Jle(){return xq||(xq=1,z0=Xle()),z0}var Zle=Jle(),eue=He(Zle),wq={},U0,_q;function tue(){if(_q)return U0;_q=1;var t=nr(),e=Ho(),r=TypeError,n=Object.getOwnPropertyDescriptor,i=t&&!function(){if(this!==void 0)return!0;try{Object.defineProperty([],"length",{writable:!1}).length=1}catch(s){return s instanceof TypeError}}();return U0=i?function(s,a){if(e(s)&&!n(s,"length").writable)throw new r("Cannot set read only .length");return s.length=a}:function(s,a){return s.length=a},U0}var W0,Sq;function SG(){if(Sq)return W0;Sq=1;var t=Bu(),e=TypeError;return W0=function(r,n){if(!delete r[n])throw new e("Cannot delete property "+t(n)+" of "+t(r))},W0}var Eq;function rue(){if(Eq)return wq;Eq=1;var t=$e(),e=yi(),r=NO(),n=Vu(),i=Oa(),s=tue(),a=tG(),o=EO(),u=gm(),c=SG(),d=ch(),h=d("splice"),f=Math.max,p=Math.min;return t({target:"Array",proto:!0,forced:!h},{splice:function(y,x){var g=e(this),v=i(g),w=r(y,v),b=arguments.length,_,E,N,S,j,C;for(b===0?_=E=0:b===1?(_=0,E=v-w):(_=b-2,E=p(f(n(x),0),v-w)),a(v+_-E),N=o(g,E),S=0;S<E;S++)j=w+S,j in g&&u(N,S,g[j]);if(N.length=E,_<E){for(S=w;S<v-E;S++)j=S+E,C=S+_,j in g?g[C]=g[j]:c(g,C);for(S=v;S>v-E+_;S--)c(g,S-1)}else if(_>E)for(S=v-E;S>w;S--)j=S+E-1,C=S+_-1,j in g?g[C]=g[j]:c(g,C);for(S=0;S<_;S++)g[S+w]=arguments[S+2];return s(g,v-E+_),N}}),wq}var V0,Nq;function nue(){if(Nq)return V0;Nq=1,rue();var t=yn();return V0=t("Array","splice"),V0}var H0,jq;function iue(){if(jq)return H0;jq=1;var t=mr(),e=nue(),r=Array.prototype;return H0=function(n){var i=n.splice;return n===r||t(r,n)&&i===r.splice?e:i},H0}var K0,Cq;function sue(){if(Cq)return K0;Cq=1;var t=iue();return K0=t,K0}var G0,Oq;function aue(){return Oq||(Oq=1,G0=sue()),G0}var oue=aue(),EG=He(oue),Pq={},Y0,Tq;function lue(){if(Tq)return Y0;Tq=1;var t=nr(),e=mt(),r=gn(),n=ct(),i=ym(),s=wm(),a=bO(),o=yi(),u=fm(),c=Object.assign,d=Object.defineProperty,h=e([].concat);return Y0=!c||n(function(){if(t&&c({b:1},c(d({},"a",{enumerable:!0,get:function(){d(this,"b",{value:3,enumerable:!1})}}),{b:2})).b!==1)return!0;var f={},p={},m=Symbol("assign detection"),y="abcdefghijklmnopqrst";return f[m]=7,y.split("").forEach(function(x){p[x]=x}),c({},f)[m]!==7||i(c({},p)).join("")!==y})?function(p,m){for(var y=o(p),x=arguments.length,g=1,v=s.f,w=a.f;x>g;)for(var b=u(arguments[g++]),_=v?h(i(b),v(b)):i(b),E=_.length,N=0,S;E>N;)S=_[N++],(!t||r(w,b,S))&&(y[S]=b[S]);return y}:c,Y0}var Iq;function uue(){if(Iq)return Pq;Iq=1;var t=$e(),e=lue();return t({target:"Object",stat:!0,arity:2,forced:Object.assign!==e},{assign:e}),Pq}var Q0,Rq;function cue(){if(Rq)return Q0;Rq=1,uue();var t=ur();return Q0=t.Object.assign,Q0}var X0,$q;function due(){if($q)return X0;$q=1;var t=cue();return X0=t,X0}var J0,kq;function hue(){return kq||(kq=1,J0=due()),J0}var fue=hue(),pue=He(fue),Z0,Dq;function mue(){if(Dq)return Z0;Dq=1,nG();var t=yn();return Z0=t("Array","concat"),Z0}var eb,Mq;function vue(){if(Mq)return eb;Mq=1;var t=mr(),e=mue(),r=Array.prototype;return eb=function(n){var i=n.concat;return n===r||t(r,n)&&i===r.concat?e:i},eb}var tb,qq;function gue(){if(qq)return tb;qq=1;var t=vue();return tb=t,tb}var rb,Aq;function yue(){return Aq||(Aq=1,rb=gue()),rb}var bue=yue(),xue=He(bue),Fq={},Lq;function wue(){if(Lq)return Fq;Lq=1;var t=$e(),e=nr(),r=hh();return t({target:"Object",stat:!0,sham:!e},{create:r}),Fq}var nb,Bq;function _ue(){if(Bq)return nb;Bq=1,wue();var t=ur(),e=t.Object;return nb=function(n,i){return e.create(n,i)},nb}var ib,zq;function Sue(){if(zq)return ib;zq=1;var t=_ue();return ib=t,ib}var sb,Uq;function Eue(){return Uq||(Uq=1,sb=Sue()),sb}var Nue=Eue(),jue=He(Nue),Wq={},ab,Vq;function Cue(){if(Vq)return ab;Vq=1;var t=Vu(),e=Ta(),r=Vo(),n=RangeError;return ab=function(s){var a=e(r(this)),o="",u=t(s);if(u<0||u===1/0)throw new n("Wrong number of repetitions");for(;u>0;(u>>>=1)&&(a+=a))u&1&&(o+=a);return o},ab}var ob,Hq;function Oue(){if(Hq)return ob;Hq=1;var t=mt(),e=eG(),r=Ta(),n=Cue(),i=Vo(),s=t(n),a=t("".slice),o=Math.ceil,u=function(c){return function(d,h,f){var p=r(i(d)),m=e(h),y=p.length,x=f===void 0?" ":r(f),g,v;return m<=y||x===""?p:(g=m-y,v=s(x,o(g/x.length)),v.length>g&&(v=a(v,0,g)),c?p+v:v+p)}};return ob={start:u(!1),end:u(!0)},ob}var lb,Kq;function Pue(){if(Kq)return lb;Kq=1;var t=mt(),e=ct(),r=Oue().start,n=RangeError,i=isFinite,s=Math.abs,a=Date.prototype,o=a.toISOString,u=t(a.getTime),c=t(a.getUTCDate),d=t(a.getUTCFullYear),h=t(a.getUTCHours),f=t(a.getUTCMilliseconds),p=t(a.getUTCMinutes),m=t(a.getUTCMonth),y=t(a.getUTCSeconds);return lb=e(function(){return o.call(new Date(-5e13-1))!=="0385-07-25T07:06:39.999Z"})||!e(function(){o.call(new Date(NaN))})?function(){if(!i(u(this)))throw new n("Invalid time value");var g=this,v=d(g),w=f(g),b=v<0?"-":v>9999?"+":"";return b+r(s(v),b?6:4,0)+"-"+r(m(g)+1,2,0)+"-"+r(c(g),2,0)+"T"+r(h(g),2,0)+":"+r(p(g),2,0)+":"+r(y(g),2,0)+"."+r(w,3,0)+"Z"}:o,lb}var Gq;function Tue(){if(Gq)return Wq;Gq=1;var t=$e(),e=gn(),r=yi(),n=YK(),i=Pue(),s=Es(),a=ct(),o=a(function(){return new Date(NaN).toJSON()!==null||e(Date.prototype.toJSON,{toISOString:function(){return 1}})!==1});return t({target:"Date",proto:!0,forced:o},{toJSON:function(c){var d=r(this),h=n(d,"number");return typeof h=="number"&&!isFinite(h)?null:!("toISOString"in d)&&s(d)==="Date"?e(i,d):d.toISOString()}}),Wq}var ub,Yq;function Iue(){if(Yq)return ub;Yq=1,Tue(),lG();var t=ur(),e=hm();return t.JSON||(t.JSON={stringify:JSON.stringify}),ub=function(n,i,s){return e(t.JSON.stringify,null,arguments)},ub}var cb,Qq;function Rue(){if(Qq)return cb;Qq=1;var t=Iue();return cb=t,cb}var db,Xq;function $ue(){return Xq||(Xq=1,db=Rue()),db}var kue=$ue(),Due=He(kue),Jq={},Zq={},hb,eA;function Mue(){if(eA)return hb;eA=1;var t=TypeError;return hb=function(e,r){if(e<r)throw new t("Not enough arguments");return e},hb}var fb,tA;function NG(){if(tA)return fb;tA=1;var t=rr(),e=hm(),r=pr(),n=wG(),i=Fu(),s=Hu(),a=Mue(),o=t.Function,u=/MSIE .\./.test(i)||n==="BUN"&&function(){var c=t.Bun.version.split(".");return c.length<3||c[0]==="0"&&(c[1]<3||c[1]==="3"&&c[2]==="0")}();return fb=function(c,d){var h=d?2:1;return u?function(f,p){var m=a(arguments.length,1)>h,y=r(f)?f:o(f),x=m?s(arguments,h):[],g=m?function(){e(y,this,x)}:y;return d?c(g,p):c(g)}:c},fb}var rA;function que(){if(rA)return Zq;rA=1;var t=$e(),e=rr(),r=NG(),n=r(e.setInterval,!0);return t({global:!0,bind:!0,forced:e.setInterval!==n},{setInterval:n}),Zq}var nA={},iA;function Aue(){if(iA)return nA;iA=1;var t=$e(),e=rr(),r=NG(),n=r(e.setTimeout,!0);return t({global:!0,bind:!0,forced:e.setTimeout!==n},{setTimeout:n}),nA}var sA;function Fue(){return sA||(sA=1,que(),Aue()),Jq}var pb,aA;function Lue(){if(aA)return pb;aA=1,Fue();var t=ur();return pb=t.setTimeout,pb}var mb,oA;function Bue(){return oA||(oA=1,mb=Lue()),mb}var zue=Bue(),Uue=He(zue),vb={exports:{}},lA;function Wue(){return lA||(lA=1,function(t){function e(n){if(n)return r(n);this._callbacks=new Map}function r(n){return Object.assign(n,e.prototype),n._callbacks=new Map,n}e.prototype.on=function(n,i){const s=this._callbacks.get(n)??[];return s.push(i),this._callbacks.set(n,s),this},e.prototype.once=function(n,i){const s=(...a)=>{this.off(n,s),i.apply(this,a)};return s.fn=i,this.on(n,s),this},e.prototype.off=function(n,i){if(n===void 0&&i===void 0)return this._callbacks.clear(),this;if(i===void 0)return this._callbacks.delete(n),this;const s=this._callbacks.get(n);if(s){for(const[a,o]of s.entries())if(o===i||o.fn===i){s.splice(a,1);break}s.length===0?this._callbacks.delete(n):this._callbacks.set(n,s)}return this},e.prototype.emit=function(n,...i){const s=this._callbacks.get(n);if(s){const a=[...s];for(const o of a)o.apply(this,i)}return this},e.prototype.listeners=function(n){return this._callbacks.get(n)??[]},e.prototype.listenerCount=function(n){if(n)return this.listeners(n).length;let i=0;for(const s of this._callbacks.values())i+=s.length;return i},e.prototype.hasListeners=function(n){return this.listenerCount(n)>0},e.prototype.addEventListener=e.prototype.on,e.prototype.removeListener=e.prototype.off,e.prototype.removeEventListener=e.prototype.off,e.prototype.removeAllListeners=e.prototype.off,t.exports=e}(vb)),vb.exports}var Vue=Wue(),Hue=He(Vue);/*! Hammer.JS - v2.0.17-rc - 2019-12-16
 * http://naver.github.io/egjs
 *
 * Forked By Naver egjs
 * Copyright (c) hammerjs
 * Licensed under the MIT license */function mi(){return mi=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},mi.apply(this,arguments)}function Qn(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}function ff(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}var kj;typeof Object.assign!="function"?kj=function(e){if(e==null)throw new TypeError("Cannot convert undefined or null to object");for(var r=Object(e),n=1;n<arguments.length;n++){var i=arguments[n];if(i!=null)for(var s in i)i.hasOwnProperty(s)&&(r[s]=i[s])}return r}:kj=Object.assign;var ko=kj,uA=["","webkit","Moz","MS","ms","o"],Kue=typeof document>"u"?{style:{}}:document.createElement("div"),Gue="function",Il=Math.round,Do=Math.abs,RO=Date.now;function Nm(t,e){for(var r,n,i=e[0].toUpperCase()+e.slice(1),s=0;s<uA.length;){if(r=uA[s],n=r?r+i:e,n in t)return n;s++}}var is;typeof window>"u"?is={}:is=window;var jG=Nm(Kue.style,"touchAction"),CG=jG!==void 0;function Yue(){if(!CG)return!1;var t={},e=is.CSS&&is.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach(function(r){return t[r]=e?is.CSS.supports("touch-action",r):!0}),t}var OG="compute",PG="auto",Dj="manipulation",mo="none",jd="pan-x",Cd="pan-y",pf=Yue(),Que=/mobile|tablet|ip(ad|hone|od)|android/i,TG="ontouchstart"in is,Xue=Nm(is,"PointerEvent")!==void 0,Jue=TG&&Que.test(navigator.userAgent),mh="touch",Zue="pen",$O="mouse",ece="kinect",tce=25,Hr=1,Go=2,Zt=4,pn=8,Cp=1,vh=2,gh=4,yh=8,wu=16,Mi=vh|gh,vo=yh|wu,IG=Mi|vo,RG=["x","y"],Op=["clientX","clientY"];function ss(t,e,r){var n;if(t)if(t.forEach)t.forEach(e,r);else if(t.length!==void 0)for(n=0;n<t.length;)e.call(r,t[n],n,t),n++;else for(n in t)t.hasOwnProperty(n)&&e.call(r,t[n],n,t)}function jm(t,e){return typeof t===Gue?t.apply(e&&e[0]||void 0,e):t}function Xa(t,e){return t.indexOf(e)>-1}function rce(t){if(Xa(t,mo))return mo;var e=Xa(t,jd),r=Xa(t,Cd);return e&&r?mo:e||r?e?jd:Cd:Xa(t,Dj)?Dj:PG}var $G=function(){function t(r,n){this.manager=r,this.set(n)}var e=t.prototype;return e.set=function(n){n===OG&&(n=this.compute()),CG&&this.manager.element.style&&pf[n]&&(this.manager.element.style[jG]=n),this.actions=n.toLowerCase().trim()},e.update=function(){this.set(this.manager.options.touchAction)},e.compute=function(){var n=[];return ss(this.manager.recognizers,function(i){jm(i.options.enable,[i])&&(n=n.concat(i.getTouchAction()))}),rce(n.join(" "))},e.preventDefaults=function(n){var i=n.srcEvent,s=n.offsetDirection;if(this.manager.session.prevented){i.preventDefault();return}var a=this.actions,o=Xa(a,mo)&&!pf[mo],u=Xa(a,Cd)&&!pf[Cd],c=Xa(a,jd)&&!pf[jd];if(o){var d=n.pointers.length===1,h=n.distance<2,f=n.deltaTime<250;if(d&&h&&f)return}if(!(c&&u)&&(o||u&&s&Mi||c&&s&vo))return this.preventSrc(i)},e.preventSrc=function(n){this.manager.session.prevented=!0,n.preventDefault()},t}();function kO(t,e){for(;t;){if(t===e)return!0;t=t.parentNode}return!1}function kG(t){var e=t.length;if(e===1)return{x:Il(t[0].clientX),y:Il(t[0].clientY)};for(var r=0,n=0,i=0;i<e;)r+=t[i].clientX,n+=t[i].clientY,i++;return{x:Il(r/e),y:Il(n/e)}}function cA(t){for(var e=[],r=0;r<t.pointers.length;)e[r]={clientX:Il(t.pointers[r].clientX),clientY:Il(t.pointers[r].clientY)},r++;return{timeStamp:RO(),pointers:e,center:kG(e),deltaX:t.deltaX,deltaY:t.deltaY}}function Pp(t,e,r){r||(r=RG);var n=e[r[0]]-t[r[0]],i=e[r[1]]-t[r[1]];return Math.sqrt(n*n+i*i)}function Mj(t,e,r){r||(r=RG);var n=e[r[0]]-t[r[0]],i=e[r[1]]-t[r[1]];return Math.atan2(i,n)*180/Math.PI}function DG(t,e){return t===e?Cp:Do(t)>=Do(e)?t<0?vh:gh:e<0?yh:wu}function nce(t,e){var r=e.center,n=t.offsetDelta||{},i=t.prevDelta||{},s=t.prevInput||{};(e.eventType===Hr||s.eventType===Zt)&&(i=t.prevDelta={x:s.deltaX||0,y:s.deltaY||0},n=t.offsetDelta={x:r.x,y:r.y}),e.deltaX=i.x+(r.x-n.x),e.deltaY=i.y+(r.y-n.y)}function MG(t,e,r){return{x:e/t||0,y:r/t||0}}function ice(t,e){return Pp(e[0],e[1],Op)/Pp(t[0],t[1],Op)}function sce(t,e){return Mj(e[1],e[0],Op)+Mj(t[1],t[0],Op)}function ace(t,e){var r=t.lastInterval||e,n=e.timeStamp-r.timeStamp,i,s,a,o;if(e.eventType!==pn&&(n>tce||r.velocity===void 0)){var u=e.deltaX-r.deltaX,c=e.deltaY-r.deltaY,d=MG(n,u,c);s=d.x,a=d.y,i=Do(d.x)>Do(d.y)?d.x:d.y,o=DG(u,c),t.lastInterval=e}else i=r.velocity,s=r.velocityX,a=r.velocityY,o=r.direction;e.velocity=i,e.velocityX=s,e.velocityY=a,e.direction=o}function oce(t,e){var r=t.session,n=e.pointers,i=n.length;r.firstInput||(r.firstInput=cA(e)),i>1&&!r.firstMultiple?r.firstMultiple=cA(e):i===1&&(r.firstMultiple=!1);var s=r.firstInput,a=r.firstMultiple,o=a?a.center:s.center,u=e.center=kG(n);e.timeStamp=RO(),e.deltaTime=e.timeStamp-s.timeStamp,e.angle=Mj(o,u),e.distance=Pp(o,u),nce(r,e),e.offsetDirection=DG(e.deltaX,e.deltaY);var c=MG(e.deltaTime,e.deltaX,e.deltaY);e.overallVelocityX=c.x,e.overallVelocityY=c.y,e.overallVelocity=Do(c.x)>Do(c.y)?c.x:c.y,e.scale=a?ice(a.pointers,n):1,e.rotation=a?sce(a.pointers,n):0,e.maxPointers=r.prevInput?e.pointers.length>r.prevInput.maxPointers?e.pointers.length:r.prevInput.maxPointers:e.pointers.length,ace(r,e);var d=t.element,h=e.srcEvent,f;h.composedPath?f=h.composedPath()[0]:h.path?f=h.path[0]:f=h.target,kO(f,d)&&(d=f),e.target=d}function lce(t,e,r){var n=r.pointers.length,i=r.changedPointers.length,s=e&Hr&&n-i===0,a=e&(Zt|pn)&&n-i===0;r.isFirst=!!s,r.isFinal=!!a,s&&(t.session={}),r.eventType=e,oce(t,r),t.emit("hammer.input",r),t.recognize(r),t.session.prevInput=r}function Od(t){return t.trim().split(/\s+/g)}function Xc(t,e,r){ss(Od(e),function(n){t.addEventListener(n,r,!1)})}function Jc(t,e,r){ss(Od(e),function(n){t.removeEventListener(n,r,!1)})}function dA(t){var e=t.ownerDocument||t;return e.defaultView||e.parentWindow||window}var Yu=function(){function t(r,n){var i=this;this.manager=r,this.callback=n,this.element=r.element,this.target=r.options.inputTarget,this.domHandler=function(s){jm(r.options.enable,[r])&&i.handler(s)},this.init()}var e=t.prototype;return e.handler=function(){},e.init=function(){this.evEl&&Xc(this.element,this.evEl,this.domHandler),this.evTarget&&Xc(this.target,this.evTarget,this.domHandler),this.evWin&&Xc(dA(this.element),this.evWin,this.domHandler)},e.destroy=function(){this.evEl&&Jc(this.element,this.evEl,this.domHandler),this.evTarget&&Jc(this.target,this.evTarget,this.domHandler),this.evWin&&Jc(dA(this.element),this.evWin,this.domHandler)},t}();function Mo(t,e,r){if(t.indexOf&&!r)return t.indexOf(e);for(var n=0;n<t.length;){if(r&&t[n][r]==e||!r&&t[n]===e)return n;n++}return-1}var uce={pointerdown:Hr,pointermove:Go,pointerup:Zt,pointercancel:pn,pointerout:pn},cce={2:mh,3:Zue,4:$O,5:ece},qG="pointerdown",AG="pointermove pointerup pointercancel";is.MSPointerEvent&&!is.PointerEvent&&(qG="MSPointerDown",AG="MSPointerMove MSPointerUp MSPointerCancel");var FG=function(t){Qn(e,t);function e(){var n,i=e.prototype;return i.evEl=qG,i.evWin=AG,n=t.apply(this,arguments)||this,n.store=n.manager.session.pointerEvents=[],n}var r=e.prototype;return r.handler=function(i){var s=this.store,a=!1,o=i.type.toLowerCase().replace("ms",""),u=uce[o],c=cce[i.pointerType]||i.pointerType,d=c===mh,h=Mo(s,i.pointerId,"pointerId");u&Hr&&(i.button===0||d)?h<0&&(s.push(i),h=s.length-1):u&(Zt|pn)&&(a=!0),!(h<0)&&(s[h]=i,this.callback(this.manager,u,{pointers:s,changedPointers:[i],pointerType:c,srcEvent:i}),a&&s.splice(h,1))},e}(Yu);function Pd(t){return Array.prototype.slice.call(t,0)}function DO(t,e,r){for(var n=[],i=[],s=0;s<t.length;){var a=e?t[s][e]:t[s];Mo(i,a)<0&&n.push(t[s]),i[s]=a,s++}return r&&(e?n=n.sort(function(o,u){return o[e]>u[e]}):n=n.sort()),n}var dce={touchstart:Hr,touchmove:Go,touchend:Zt,touchcancel:pn},hce="touchstart touchmove touchend touchcancel",MO=function(t){Qn(e,t);function e(){var n;return e.prototype.evTarget=hce,n=t.apply(this,arguments)||this,n.targetIds={},n}var r=e.prototype;return r.handler=function(i){var s=dce[i.type],a=fce.call(this,i,s);a&&this.callback(this.manager,s,{pointers:a[0],changedPointers:a[1],pointerType:mh,srcEvent:i})},e}(Yu);function fce(t,e){var r=Pd(t.touches),n=this.targetIds;if(e&(Hr|Go)&&r.length===1)return n[r[0].identifier]=!0,[r,r];var i,s,a=Pd(t.changedTouches),o=[],u=this.target;if(s=r.filter(function(c){return kO(c.target,u)}),e===Hr)for(i=0;i<s.length;)n[s[i].identifier]=!0,i++;for(i=0;i<a.length;)n[a[i].identifier]&&o.push(a[i]),e&(Zt|pn)&&delete n[a[i].identifier],i++;if(o.length)return[DO(s.concat(o),"identifier",!0),o]}var pce={mousedown:Hr,mousemove:Go,mouseup:Zt},mce="mousedown",vce="mousemove mouseup",qO=function(t){Qn(e,t);function e(){var n,i=e.prototype;return i.evEl=mce,i.evWin=vce,n=t.apply(this,arguments)||this,n.pressed=!1,n}var r=e.prototype;return r.handler=function(i){var s=pce[i.type];s&Hr&&i.button===0&&(this.pressed=!0),s&Go&&i.which!==1&&(s=Zt),this.pressed&&(s&Zt&&(this.pressed=!1),this.callback(this.manager,s,{pointers:[i],changedPointers:[i],pointerType:$O,srcEvent:i}))},e}(Yu),gce=2500,hA=25;function fA(t){var e=t.changedPointers,r=e[0];if(r.identifier===this.primaryTouch){var n={x:r.clientX,y:r.clientY},i=this.lastTouches;this.lastTouches.push(n);var s=function(){var o=i.indexOf(n);o>-1&&i.splice(o,1)};setTimeout(s,gce)}}function yce(t,e){t&Hr?(this.primaryTouch=e.changedPointers[0].identifier,fA.call(this,e)):t&(Zt|pn)&&fA.call(this,e)}function bce(t){for(var e=t.srcEvent.clientX,r=t.srcEvent.clientY,n=0;n<this.lastTouches.length;n++){var i=this.lastTouches[n],s=Math.abs(e-i.x),a=Math.abs(r-i.y);if(s<=hA&&a<=hA)return!0}return!1}var LG=function(){var t=function(e){Qn(r,e);function r(i,s){var a;return a=e.call(this,i,s)||this,a.handler=function(o,u,c){var d=c.pointerType===mh,h=c.pointerType===$O;if(!(h&&c.sourceCapabilities&&c.sourceCapabilities.firesTouchEvents)){if(d)yce.call(ff(ff(a)),u,c);else if(h&&bce.call(ff(ff(a)),c))return;a.callback(o,u,c)}},a.touch=new MO(a.manager,a.handler),a.mouse=new qO(a.manager,a.handler),a.primaryTouch=null,a.lastTouches=[],a}var n=r.prototype;return n.destroy=function(){this.touch.destroy(),this.mouse.destroy()},r}(Yu);return t}();function xce(t){var e,r=t.options.inputClass;return r?e=r:Xue?e=FG:Jue?e=MO:TG?e=LG:e=qO,new e(t,lce)}function Rl(t,e,r){return Array.isArray(t)?(ss(t,r[e],r),!0):!1}var Af=1,Vn=2,_u=4,fa=8,as=fa,Td=16,Ti=32,wce=1;function _ce(){return wce++}function mf(t,e){var r=e.manager;return r?r.get(t):t}function pA(t){return t&Td?"cancel":t&fa?"end":t&_u?"move":t&Vn?"start":""}var bh=function(){function t(r){r===void 0&&(r={}),this.options=mi({enable:!0},r),this.id=_ce(),this.manager=null,this.state=Af,this.simultaneous={},this.requireFail=[]}var e=t.prototype;return e.set=function(n){return ko(this.options,n),this.manager&&this.manager.touchAction.update(),this},e.recognizeWith=function(n){if(Rl(n,"recognizeWith",this))return this;var i=this.simultaneous;return n=mf(n,this),i[n.id]||(i[n.id]=n,n.recognizeWith(this)),this},e.dropRecognizeWith=function(n){return Rl(n,"dropRecognizeWith",this)?this:(n=mf(n,this),delete this.simultaneous[n.id],this)},e.requireFailure=function(n){if(Rl(n,"requireFailure",this))return this;var i=this.requireFail;return n=mf(n,this),Mo(i,n)===-1&&(i.push(n),n.requireFailure(this)),this},e.dropRequireFailure=function(n){if(Rl(n,"dropRequireFailure",this))return this;n=mf(n,this);var i=Mo(this.requireFail,n);return i>-1&&this.requireFail.splice(i,1),this},e.hasRequireFailures=function(){return this.requireFail.length>0},e.canRecognizeWith=function(n){return!!this.simultaneous[n.id]},e.emit=function(n){var i=this,s=this.state;function a(o){i.manager.emit(o,n)}s<fa&&a(i.options.event+pA(s)),a(i.options.event),n.additionalEvent&&a(n.additionalEvent),s>=fa&&a(i.options.event+pA(s))},e.tryEmit=function(n){if(this.canEmit())return this.emit(n);this.state=Ti},e.canEmit=function(){for(var n=0;n<this.requireFail.length;){if(!(this.requireFail[n].state&(Ti|Af)))return!1;n++}return!0},e.recognize=function(n){var i=ko({},n);if(!jm(this.options.enable,[this,i])){this.reset(),this.state=Ti;return}this.state&(as|Td|Ti)&&(this.state=Af),this.state=this.process(i),this.state&(Vn|_u|fa|Td)&&this.tryEmit(i)},e.process=function(n){},e.getTouchAction=function(){},e.reset=function(){},t}(),qj=function(t){Qn(e,t);function e(n){var i;return n===void 0&&(n={}),i=t.call(this,mi({event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},n))||this,i.pTime=!1,i.pCenter=!1,i._timer=null,i._input=null,i.count=0,i}var r=e.prototype;return r.getTouchAction=function(){return[Dj]},r.process=function(i){var s=this,a=this.options,o=i.pointers.length===a.pointers,u=i.distance<a.threshold,c=i.deltaTime<a.time;if(this.reset(),i.eventType&Hr&&this.count===0)return this.failTimeout();if(u&&c&&o){if(i.eventType!==Zt)return this.failTimeout();var d=this.pTime?i.timeStamp-this.pTime<a.interval:!0,h=!this.pCenter||Pp(this.pCenter,i.center)<a.posThreshold;this.pTime=i.timeStamp,this.pCenter=i.center,!h||!d?this.count=1:this.count+=1,this._input=i;var f=this.count%a.taps;if(f===0)return this.hasRequireFailures()?(this._timer=setTimeout(function(){s.state=as,s.tryEmit()},a.interval),Vn):as}return Ti},r.failTimeout=function(){var i=this;return this._timer=setTimeout(function(){i.state=Ti},this.options.interval),Ti},r.reset=function(){clearTimeout(this._timer)},r.emit=function(){this.state===as&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))},e}(bh),Su=function(t){Qn(e,t);function e(n){return n===void 0&&(n={}),t.call(this,mi({pointers:1},n))||this}var r=e.prototype;return r.attrTest=function(i){var s=this.options.pointers;return s===0||i.pointers.length===s},r.process=function(i){var s=this.state,a=i.eventType,o=s&(Vn|_u),u=this.attrTest(i);return o&&(a&pn||!u)?s|Td:o||u?a&Zt?s|fa:s&Vn?s|_u:Vn:Ti},e}(bh);function BG(t){return t===wu?"down":t===yh?"up":t===vh?"left":t===gh?"right":""}var AO=function(t){Qn(e,t);function e(n){var i;return n===void 0&&(n={}),i=t.call(this,mi({event:"pan",threshold:10,pointers:1,direction:IG},n))||this,i.pX=null,i.pY=null,i}var r=e.prototype;return r.getTouchAction=function(){var i=this.options.direction,s=[];return i&Mi&&s.push(Cd),i&vo&&s.push(jd),s},r.directionTest=function(i){var s=this.options,a=!0,o=i.distance,u=i.direction,c=i.deltaX,d=i.deltaY;return u&s.direction||(s.direction&Mi?(u=c===0?Cp:c<0?vh:gh,a=c!==this.pX,o=Math.abs(i.deltaX)):(u=d===0?Cp:d<0?yh:wu,a=d!==this.pY,o=Math.abs(i.deltaY))),i.direction=u,a&&o>s.threshold&&u&s.direction},r.attrTest=function(i){return Su.prototype.attrTest.call(this,i)&&(this.state&Vn||!(this.state&Vn)&&this.directionTest(i))},r.emit=function(i){this.pX=i.deltaX,this.pY=i.deltaY;var s=BG(i.direction);s&&(i.additionalEvent=this.options.event+s),t.prototype.emit.call(this,i)},e}(Su),zG=function(t){Qn(e,t);function e(n){return n===void 0&&(n={}),t.call(this,mi({event:"swipe",threshold:10,velocity:.3,direction:Mi|vo,pointers:1},n))||this}var r=e.prototype;return r.getTouchAction=function(){return AO.prototype.getTouchAction.call(this)},r.attrTest=function(i){var s=this.options.direction,a;return s&(Mi|vo)?a=i.overallVelocity:s&Mi?a=i.overallVelocityX:s&vo&&(a=i.overallVelocityY),t.prototype.attrTest.call(this,i)&&s&i.offsetDirection&&i.distance>this.options.threshold&&i.maxPointers===this.options.pointers&&Do(a)>this.options.velocity&&i.eventType&Zt},r.emit=function(i){var s=BG(i.offsetDirection);s&&this.manager.emit(this.options.event+s,i),this.manager.emit(this.options.event,i)},e}(Su),UG=function(t){Qn(e,t);function e(n){return n===void 0&&(n={}),t.call(this,mi({event:"pinch",threshold:0,pointers:2},n))||this}var r=e.prototype;return r.getTouchAction=function(){return[mo]},r.attrTest=function(i){return t.prototype.attrTest.call(this,i)&&(Math.abs(i.scale-1)>this.options.threshold||this.state&Vn)},r.emit=function(i){if(i.scale!==1){var s=i.scale<1?"in":"out";i.additionalEvent=this.options.event+s}t.prototype.emit.call(this,i)},e}(Su),WG=function(t){Qn(e,t);function e(n){return n===void 0&&(n={}),t.call(this,mi({event:"rotate",threshold:0,pointers:2},n))||this}var r=e.prototype;return r.getTouchAction=function(){return[mo]},r.attrTest=function(i){return t.prototype.attrTest.call(this,i)&&(Math.abs(i.rotation)>this.options.threshold||this.state&Vn)},e}(Su),VG=function(t){Qn(e,t);function e(n){var i;return n===void 0&&(n={}),i=t.call(this,mi({event:"press",pointers:1,time:251,threshold:9},n))||this,i._timer=null,i._input=null,i}var r=e.prototype;return r.getTouchAction=function(){return[PG]},r.process=function(i){var s=this,a=this.options,o=i.pointers.length===a.pointers,u=i.distance<a.threshold,c=i.deltaTime>a.time;if(this._input=i,!u||!o||i.eventType&(Zt|pn)&&!c)this.reset();else if(i.eventType&Hr)this.reset(),this._timer=setTimeout(function(){s.state=as,s.tryEmit()},a.time);else if(i.eventType&Zt)return as;return Ti},r.reset=function(){clearTimeout(this._timer)},r.emit=function(i){this.state===as&&(i&&i.eventType&Zt?this.manager.emit(this.options.event+"up",i):(this._input.timeStamp=RO(),this.manager.emit(this.options.event,this._input)))},e}(bh),HG={domEvents:!1,touchAction:OG,enable:!0,inputTarget:null,inputClass:null,cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}},mA=[[WG,{enable:!1}],[UG,{enable:!1},["rotate"]],[zG,{direction:Mi}],[AO,{direction:Mi},["swipe"]],[qj],[qj,{event:"doubletap",taps:2},["tap"]],[VG]],Sce=1,vA=2;function gA(t,e){var r=t.element;if(r.style){var n;ss(t.options.cssProps,function(i,s){n=Nm(r.style,s),e?(t.oldCssProps[n]=r.style[n],r.style[n]=i):r.style[n]=t.oldCssProps[n]||""}),e||(t.oldCssProps={})}}function Ece(t,e){var r=document.createEvent("Event");r.initEvent(t,!0,!0),r.gesture=e,e.target.dispatchEvent(r)}var yA=function(){function t(r,n){var i=this;this.options=ko({},HG,n||{}),this.options.inputTarget=this.options.inputTarget||r,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=r,this.input=xce(this),this.touchAction=new $G(this,this.options.touchAction),gA(this,!0),ss(this.options.recognizers,function(s){var a=i.add(new s[0](s[1]));s[2]&&a.recognizeWith(s[2]),s[3]&&a.requireFailure(s[3])},this)}var e=t.prototype;return e.set=function(n){return ko(this.options,n),n.touchAction&&this.touchAction.update(),n.inputTarget&&(this.input.destroy(),this.input.target=n.inputTarget,this.input.init()),this},e.stop=function(n){this.session.stopped=n?vA:Sce},e.recognize=function(n){var i=this.session;if(!i.stopped){this.touchAction.preventDefaults(n);var s,a=this.recognizers,o=i.curRecognizer;(!o||o&&o.state&as)&&(i.curRecognizer=null,o=null);for(var u=0;u<a.length;)s=a[u],i.stopped!==vA&&(!o||s===o||s.canRecognizeWith(o))?s.recognize(n):s.reset(),!o&&s.state&(Vn|_u|fa)&&(i.curRecognizer=s,o=s),u++}},e.get=function(n){if(n instanceof bh)return n;for(var i=this.recognizers,s=0;s<i.length;s++)if(i[s].options.event===n)return i[s];return null},e.add=function(n){if(Rl(n,"add",this))return this;var i=this.get(n.options.event);return i&&this.remove(i),this.recognizers.push(n),n.manager=this,this.touchAction.update(),n},e.remove=function(n){if(Rl(n,"remove",this))return this;var i=this.get(n);if(n){var s=this.recognizers,a=Mo(s,i);a!==-1&&(s.splice(a,1),this.touchAction.update())}return this},e.on=function(n,i){if(n===void 0||i===void 0)return this;var s=this.handlers;return ss(Od(n),function(a){s[a]=s[a]||[],s[a].push(i)}),this},e.off=function(n,i){if(n===void 0)return this;var s=this.handlers;return ss(Od(n),function(a){i?s[a]&&s[a].splice(Mo(s[a],i),1):delete s[a]}),this},e.emit=function(n,i){this.options.domEvents&&Ece(n,i);var s=this.handlers[n]&&this.handlers[n].slice();if(!(!s||!s.length)){i.type=n,i.preventDefault=function(){i.srcEvent.preventDefault()};for(var a=0;a<s.length;)s[a](i),a++}},e.destroy=function(){this.element&&gA(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null},t}(),Nce={touchstart:Hr,touchmove:Go,touchend:Zt,touchcancel:pn},jce="touchstart",Cce="touchstart touchmove touchend touchcancel",Oce=function(t){Qn(e,t);function e(){var n,i=e.prototype;return i.evTarget=jce,i.evWin=Cce,n=t.apply(this,arguments)||this,n.started=!1,n}var r=e.prototype;return r.handler=function(i){var s=Nce[i.type];if(s===Hr&&(this.started=!0),!!this.started){var a=Pce.call(this,i,s);s&(Zt|pn)&&a[0].length-a[1].length===0&&(this.started=!1),this.callback(this.manager,s,{pointers:a[0],changedPointers:a[1],pointerType:mh,srcEvent:i})}},e}(Yu);function Pce(t,e){var r=Pd(t.touches),n=Pd(t.changedTouches);return e&(Zt|pn)&&(r=DO(r.concat(n),"identifier",!0)),[r,n]}function KG(t,e,r){var n="DEPRECATED METHOD: "+e+`
`+r+` AT 
`;return function(){var i=new Error("get-stack-trace"),s=i&&i.stack?i.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",a=window.console&&(window.console.warn||window.console.log);return a&&a.call(window.console,n,s),t.apply(this,arguments)}}var GG=KG(function(t,e,r){for(var n=Object.keys(e),i=0;i<n.length;)(!r||r&&t[n[i]]===void 0)&&(t[n[i]]=e[n[i]]),i++;return t},"extend","Use `assign`."),Tce=KG(function(t,e){return GG(t,e,!0)},"merge","Use `assign`.");function Ice(t,e,r){var n=e.prototype,i;i=t.prototype=Object.create(n),i.constructor=t,i._super=n,r&&ko(i,r)}function bA(t,e){return function(){return t.apply(e,arguments)}}var Rce=function(){var t=function(r,n){return n===void 0&&(n={}),new yA(r,mi({recognizers:mA.concat()},n))};return t.VERSION="2.0.17-rc",t.DIRECTION_ALL=IG,t.DIRECTION_DOWN=wu,t.DIRECTION_LEFT=vh,t.DIRECTION_RIGHT=gh,t.DIRECTION_UP=yh,t.DIRECTION_HORIZONTAL=Mi,t.DIRECTION_VERTICAL=vo,t.DIRECTION_NONE=Cp,t.DIRECTION_DOWN=wu,t.INPUT_START=Hr,t.INPUT_MOVE=Go,t.INPUT_END=Zt,t.INPUT_CANCEL=pn,t.STATE_POSSIBLE=Af,t.STATE_BEGAN=Vn,t.STATE_CHANGED=_u,t.STATE_ENDED=fa,t.STATE_RECOGNIZED=as,t.STATE_CANCELLED=Td,t.STATE_FAILED=Ti,t.Manager=yA,t.Input=Yu,t.TouchAction=$G,t.TouchInput=MO,t.MouseInput=qO,t.PointerEventInput=FG,t.TouchMouseInput=LG,t.SingleTouchInput=Oce,t.Recognizer=bh,t.AttrRecognizer=Su,t.Tap=qj,t.Pan=AO,t.Swipe=zG,t.Pinch=UG,t.Rotate=WG,t.Press=VG,t.on=Xc,t.off=Jc,t.each=ss,t.merge=Tce,t.extend=GG,t.bindFn=bA,t.assign=ko,t.inherit=Ice,t.bindFn=bA,t.prefixed=Nm,t.toArray=Pd,t.inArray=Mo,t.uniqueArray=DO,t.splitStr=Od,t.boolOrFn=jm,t.hasParent=kO,t.addEventListeners=Xc,t.removeEventListeners=Jc,t.defaults=ko({},HG,{preset:mA}),t}();const YG=gle("DELETE");function $ce(t){for(var e=arguments.length,r=new Array(e>1?e-1:0),n=1;n<e;n++)r[n-1]=arguments[n];return QG({},t,...r)}function QG(){const t=Tp(...arguments);return JG(t),t}function Tp(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];if(e.length<2)return e[0];if(e.length>2)return Tp(QG(e[0],e[1]),...Ele(e).call(e,2));const n=e[0],i=e[1];if(n instanceof Date&&i instanceof Date)return n.setTime(i.getTime()),n;for(const s of Tle(i))Object.prototype.propertyIsEnumerable.call(i,s)&&(i[s]===YG?delete n[s]:n[s]!==null&&i[s]!==null&&typeof n[s]=="object"&&typeof i[s]=="object"&&!Ei(n[s])&&!Ei(i[s])?n[s]=Tp(n[s],i[s]):n[s]=XG(i[s]));return n}function XG(t){return Ei(t)?li(t).call(t,e=>XG(e)):typeof t=="object"&&t!==null?t instanceof Date?new Date(t.getTime()):Tp({},t):t}function JG(t){for(const e of IO(t))t[e]===YG?delete t[e]:typeof t[e]=="object"&&t[e]!==null&&JG(t[e])}function kce(){const t=()=>{};return{on:t,off:t,destroy:t,emit:t,get(){return{set:t}}}}const Dce=typeof window<"u"?window.Hammer||Rce:function(){return kce()};function es(t){var e;this._cleanupQueue=[],this.active=!1,this._dom={container:t,overlay:document.createElement("div")},this._dom.overlay.classList.add("vis-overlay"),this._dom.container.appendChild(this._dom.overlay),this._cleanupQueue.push(()=>{this._dom.overlay.parentNode.removeChild(this._dom.overlay)});const r=Dce(this._dom.overlay);r.on("tap",xG(e=this._onTapOverlay).call(e,this)),this._cleanupQueue.push(()=>{r.destroy()});const n=["tap","doubletap","press","pinch","pan","panstart","panmove","panend"];$o(n).call(n,i=>{r.on(i,s=>{s.srcEvent.stopPropagation()})}),document&&document.body&&(this._onClick=i=>{Mce(i.target,t)||this.deactivate()},document.body.addEventListener("click",this._onClick),this._cleanupQueue.push(()=>{document.body.removeEventListener("click",this._onClick)})),this._escListener=i=>{("key"in i?i.key==="Escape":i.keyCode===27)&&this.deactivate()}}Hue(es.prototype);es.current=null;es.prototype.destroy=function(){this.deactivate();for(const r of eue(t=EG(e=this._cleanupQueue).call(e,0)).call(t)){var t,e;r()}};es.prototype.activate=function(){es.current&&es.current.deactivate(),es.current=this,this.active=!0,this._dom.overlay.style.display="none",this._dom.container.classList.add("vis-active"),this.emit("change"),this.emit("activate"),document.body.addEventListener("keydown",this._escListener)};es.prototype.deactivate=function(){this.active=!1,this._dom.overlay.style.display="block",this._dom.container.classList.remove("vis-active"),document.body.removeEventListener("keydown",this._escListener),this.emit("change"),this.emit("deactivate")};es.prototype._onTapOverlay=function(t){this.activate(),t.srcEvent.stopPropagation()};function Mce(t,e){for(;t;){if(t===e)return!0;t=t.parentNode}return!1}var gb,xA;function qce(){if(xA)return gb;xA=1,uG();var t=ur();return gb=t.Object.getOwnPropertySymbols,gb}var yb,wA;function Ace(){if(wA)return yb;wA=1;var t=qce();return yb=t,yb}var bb,_A;function Fce(){return _A||(_A=1,bb=Ace()),bb}var Lce=Fce(),SA=He(Lce),xb={exports:{}},EA={},NA;function Bce(){if(NA)return EA;NA=1;var t=$e(),e=ct(),r=Ai(),n=mm().f,i=nr(),s=!i||e(function(){n(1)});return t({target:"Object",stat:!0,forced:s,sham:!i},{getOwnPropertyDescriptor:function(o,u){return n(r(o),u)}}),EA}var jA;function zce(){if(jA)return xb.exports;jA=1,Bce();var t=ur(),e=t.Object,r=xb.exports=function(i,s){return e.getOwnPropertyDescriptor(i,s)};return e.getOwnPropertyDescriptor.sham&&(r.sham=!0),xb.exports}var wb,CA;function Uce(){if(CA)return wb;CA=1;var t=zce();return wb=t,wb}var _b,OA;function Wce(){return OA||(OA=1,_b=Uce()),_b}var Vce=Wce(),ZG=He(Vce),PA={},TA;function Hce(){if(TA)return PA;TA=1;var t=$e(),e=nr(),r=_G(),n=Ai(),i=mm(),s=gm();return t({target:"Object",stat:!0,sham:!e},{getOwnPropertyDescriptors:function(o){for(var u=n(o),c=i.f,d=r(u),h={},f=0,p,m;d.length>f;)m=c(u,p=d[f++]),m!==void 0&&s(h,p,m);return h}}),PA}var Sb,IA;function Kce(){if(IA)return Sb;IA=1,Hce();var t=ur();return Sb=t.Object.getOwnPropertyDescriptors,Sb}var Eb,RA;function Gce(){if(RA)return Eb;RA=1;var t=Kce();return Eb=t,Eb}var Nb,$A;function Yce(){return $A||($A=1,Nb=Gce()),Nb}var Qce=Yce(),kA=He(Qce),jb={exports:{}},DA={},MA;function Xce(){if(MA)return DA;MA=1;var t=$e(),e=nr(),r=CO().f;return t({target:"Object",stat:!0,forced:Object.defineProperties!==r,sham:!e},{defineProperties:r}),DA}var qA;function Jce(){if(qA)return jb.exports;qA=1,Xce();var t=ur(),e=t.Object,r=jb.exports=function(i,s){return e.defineProperties(i,s)};return e.defineProperties.sham&&(r.sham=!0),jb.exports}var Cb,AA;function Zce(){if(AA)return Cb;AA=1;var t=Jce();return Cb=t,Cb}var Ob,FA;function ede(){return FA||(FA=1,Ob=Zce()),Ob}var tde=ede(),rde=He(tde),Pb,LA;function nde(){return LA||(LA=1,Pb=ZK()),Pb}var ide=nde(),sde=He(ide),BA={},zA={},Tb={exports:{}},Ib,UA;function ade(){if(UA)return Ib;UA=1;var t=ct();return Ib=t(function(){if(typeof ArrayBuffer=="function"){var e=new ArrayBuffer(8);Object.isExtensible(e)&&Object.defineProperty(e,"a",{value:8})}}),Ib}var Rb,WA;function ode(){if(WA)return Rb;WA=1;var t=ct(),e=Xr(),r=Es(),n=ade(),i=Object.isExtensible,s=t(function(){});return Rb=s||n?function(o){return!e(o)||n&&r(o)==="ArrayBuffer"?!1:i?i(o):!0}:i,Rb}var $b,VA;function lde(){if(VA)return $b;VA=1;var t=ct();return $b=!t(function(){return Object.isExtensible(Object.preventExtensions({}))}),$b}var HA;function eY(){if(HA)return Tb.exports;HA=1;var t=$e(),e=mt(),r=dh(),n=Xr(),i=vr(),s=Yn().f,a=xm(),o=sG(),u=ode(),c=pm(),d=lde(),h=!1,f=c("meta"),p=0,m=function(b){s(b,f,{value:{objectID:"O"+p++,weakData:{}}})},y=function(b,_){if(!n(b))return typeof b=="symbol"?b:(typeof b=="string"?"S":"P")+b;if(!i(b,f)){if(!u(b))return"F";if(!_)return"E";m(b)}return b[f].objectID},x=function(b,_){if(!i(b,f)){if(!u(b))return!0;if(!_)return!1;m(b)}return b[f].weakData},g=function(b){return d&&h&&u(b)&&!i(b,f)&&m(b),b},v=function(){w.enable=function(){},h=!0;var b=a.f,_=e([].splice),E={};E[f]=1,b(E).length&&(a.f=function(N){for(var S=b(N),j=0,C=S.length;j<C;j++)if(S[j]===f){_(S,j,1);break}return S},t({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:o.f}))},w=Tb.exports={enable:v,fastKey:y,getWeakData:x,onFreeze:g};return r[f]=!0,Tb.exports}var kb,KA;function ude(){if(KA)return kb;KA=1;var t=gr(),e=Gu(),r=t("iterator"),n=Array.prototype;return kb=function(i){return i!==void 0&&(e.Array===i||n[r]===i)},kb}var Db,GA;function tY(){if(GA)return Db;GA=1;var t=Pa(),e=xO(),r=oh(),n=Gu(),i=gr(),s=i("iterator");return Db=function(a){if(!r(a))return e(a,s)||e(a,"@@iterator")||n[t(a)]},Db}var Mb,YA;function rY(){if(YA)return Mb;YA=1;var t=gn(),e=Ns(),r=js(),n=Bu(),i=tY(),s=TypeError;return Mb=function(a,o){var u=arguments.length<2?i(a):o;if(e(u))return r(t(u,a));throw new s(n(a)+" is not iterable")},Mb}var qb,QA;function FO(){if(QA)return qb;QA=1;var t=gn(),e=js(),r=xO();return qb=function(n,i,s){var a,o;e(n);try{if(a=r(n,"return"),!a){if(i==="throw")throw s;return s}a=t(a,n)}catch(u){o=!0,a=u}if(i==="throw")throw s;if(o)throw a;return e(a),s},qb}var Ab,XA;function LO(){if(XA)return Ab;XA=1;var t=vm(),e=gn(),r=js(),n=Bu(),i=ude(),s=Oa(),a=mr(),o=rY(),u=tY(),c=FO(),d=TypeError,h=function(p,m){this.stopped=p,this.result=m},f=h.prototype;return Ab=function(p,m,y){var x=y&&y.that,g=!!(y&&y.AS_ENTRIES),v=!!(y&&y.IS_RECORD),w=!!(y&&y.IS_ITERATOR),b=!!(y&&y.INTERRUPTED),_=t(m,x),E,N,S,j,C,P,O,I=function(k){return E&&c(E,"normal"),new h(!0,k)},M=function(k){return g?(r(k),b?_(k[0],k[1],I):_(k[0],k[1])):b?_(k,I):_(k)};if(v)E=p.iterator;else if(w)E=p;else{if(N=u(p),!N)throw new d(n(p)+" is not iterable");if(i(N)){for(S=0,j=s(p);j>S;S++)if(C=M(p[S]),C&&a(f,C))return C;return new h(!1)}E=o(p,N)}for(P=v?p.next:E.next;!(O=e(P,E)).done;){try{C=M(O.value)}catch(k){c(E,"throw",k)}if(typeof C=="object"&&C&&a(f,C))return C}return new h(!1)},Ab}var Fb,JA;function nY(){if(JA)return Fb;JA=1;var t=mr(),e=TypeError;return Fb=function(r,n){if(t(n,r))return r;throw new e("Incorrect invocation")},Fb}var Lb,ZA;function iY(){if(ZA)return Lb;ZA=1;var t=$e(),e=rr(),r=eY(),n=ct(),i=Wu(),s=LO(),a=nY(),o=pr(),u=Xr(),c=oh(),d=Ko(),h=Yn().f,f=Ku().forEach,p=nr(),m=ph(),y=m.set,x=m.getterFor;return Lb=function(g,v,w){var b=g.indexOf("Map")!==-1,_=g.indexOf("Weak")!==-1,E=b?"set":"add",N=e[g],S=N&&N.prototype,j={},C;if(!p||!o(N)||!(_||S.forEach&&!n(function(){new N().entries().next()})))C=w.getConstructor(v,g,b,E),r.enable();else{C=v(function(I,M){y(a(I,P),{type:g,collection:new N}),c(M)||s(M,I[E],{that:I,AS_ENTRIES:b})});var P=C.prototype,O=x(g);f(["add","clear","delete","forEach","get","has","set","keys","values","entries"],function(I){var M=I==="add"||I==="set";I in S&&!(_&&I==="clear")&&i(P,I,function(k,H){var W=O(this).collection;if(!M&&_&&!u(k))return I==="get"?void 0:!1;var A=W[I](k===0?0:k,H);return M?this:A})}),_||h(P,"size",{configurable:!0,get:function(){return O(this).collection.size}})}return d(C,g,!1,!0),j[g]=C,t({global:!0,forced:!0},j),_||w.setStrong(C,g,b),C},Lb}var Bb,eF;function cde(){if(eF)return Bb;eF=1;var t=fh();return Bb=function(e,r,n){for(var i in r)n&&n.unsafe&&e[i]?e[i]=r[i]:t(e,i,r[i],n);return e},Bb}var zb,tF;function dde(){if(tF)return zb;tF=1;var t=Tn(),e=OO(),r=gr(),n=nr(),i=r("species");return zb=function(s){var a=t(s);n&&a&&!a[i]&&e(a,i,{configurable:!0,get:function(){return this}})},zb}var Ub,rF;function sY(){if(rF)return Ub;rF=1;var t=hh(),e=OO(),r=cde(),n=vm(),i=nY(),s=oh(),a=LO(),o=PO(),u=TO(),c=dde(),d=nr(),h=eY().fastKey,f=ph(),p=f.set,m=f.getterFor;return Ub={getConstructor:function(y,x,g,v){var w=y(function(S,j){i(S,b),p(S,{type:x,index:t(null),first:null,last:null,size:0}),d||(S.size=0),s(j)||a(j,S[v],{that:S,AS_ENTRIES:g})}),b=w.prototype,_=m(x),E=function(S,j,C){var P=_(S),O=N(S,j),I,M;return O?O.value=C:(P.last=O={index:M=h(j,!0),key:j,value:C,previous:I=P.last,next:null,removed:!1},P.first||(P.first=O),I&&(I.next=O),d?P.size++:S.size++,M!=="F"&&(P.index[M]=O)),S},N=function(S,j){var C=_(S),P=h(j),O;if(P!=="F")return C.index[P];for(O=C.first;O;O=O.next)if(O.key===j)return O};return r(b,{clear:function(){for(var j=this,C=_(j),P=C.first;P;)P.removed=!0,P.previous&&(P.previous=P.previous.next=null),P=P.next;C.first=C.last=null,C.index=t(null),d?C.size=0:j.size=0},delete:function(S){var j=this,C=_(j),P=N(j,S);if(P){var O=P.next,I=P.previous;delete C.index[P.index],P.removed=!0,I&&(I.next=O),O&&(O.previous=I),C.first===P&&(C.first=O),C.last===P&&(C.last=I),d?C.size--:j.size--}return!!P},forEach:function(j){for(var C=_(this),P=n(j,arguments.length>1?arguments[1]:void 0),O;O=O?O.next:C.first;)for(P(O.value,O.key,this);O&&O.removed;)O=O.previous},has:function(j){return!!N(this,j)}}),r(b,g?{get:function(j){var C=N(this,j);return C&&C.value},set:function(j,C){return E(this,j===0?0:j,C)}}:{add:function(j){return E(this,j=j===0?0:j,j)}}),d&&e(b,"size",{configurable:!0,get:function(){return _(this).size}}),w},setStrong:function(y,x,g){var v=x+" Iterator",w=m(x),b=m(v);o(y,x,function(_,E){p(this,{type:v,target:_,state:w(_),kind:E,last:null})},function(){for(var _=b(this),E=_.kind,N=_.last;N&&N.removed;)N=N.previous;return!_.target||!(_.last=N=N?N.next:_.state.first)?(_.target=null,u(void 0,!0)):u(E==="keys"?N.key:E==="values"?N.value:[N.key,N.value],!1)},g?"entries":"values",!g,!0),c(x)}},Ub}var nF;function hde(){if(nF)return zA;nF=1;var t=iY(),e=sY();return t("Map",function(r){return function(){return r(this,arguments.length?arguments[0]:void 0)}},e),zA}var iF;function fde(){return iF||(iF=1,hde()),BA}var sF={},Wb,aF;function aY(){return aF||(aF=1,Wb=function(t,e){return e===1?function(r,n){return r[t](n)}:function(r,n,i){return r[t](n,i)}}),Wb}var Vb,oF;function pde(){if(oF)return Vb;oF=1;var t=Tn(),e=aY(),r=t("Map");return Vb={Map:r,set:e("set",2),get:e("get",1),has:e("has",1),remove:e("delete",1),proto:r.prototype},Vb}var lF;function mde(){if(lF)return sF;lF=1;var t=$e(),e=mt(),r=Ns(),n=Vo(),i=LO(),s=pde(),a=zu(),o=ct(),u=s.Map,c=s.has,d=s.get,h=s.set,f=e([].push),p=a||o(function(){return u.groupBy("ab",function(m){return m}).get("a").length!==1});return t({target:"Map",stat:!0,forced:a||p},{groupBy:function(y,x){n(y),r(x);var g=new u,v=0;return i(y,function(w){var b=x(w,v++);c(g,b)?f(d(g,b),w):h(g,b,[w])}),g}}),sF}var Hb,uF;function vde(){if(uF)return Hb;uF=1,Ia(),fde(),mde(),Sm();var t=ur();return Hb=t.Map,Hb}var Kb,cF;function gde(){if(cF)return Kb;cF=1;var t=vde();return Ra(),Kb=t,Kb}var Gb,dF;function yde(){return dF||(dF=1,Gb=gde()),Gb}var bde=yde(),oY=He(bde),hF={},fF;function xde(){if(fF)return hF;fF=1;var t=$e(),e=Ku().some,r=Em(),n=r("some");return t({target:"Array",proto:!0,forced:!n},{some:function(s){return e(this,s,arguments.length>1?arguments[1]:void 0)}}),hF}var Yb,pF;function wde(){if(pF)return Yb;pF=1,xde();var t=yn();return Yb=t("Array","some"),Yb}var Qb,mF;function _de(){if(mF)return Qb;mF=1;var t=mr(),e=wde(),r=Array.prototype;return Qb=function(n){var i=n.some;return n===r||t(r,n)&&i===r.some?e:i},Qb}var Xb,vF;function Sde(){if(vF)return Xb;vF=1;var t=_de();return Xb=t,Xb}var Jb,gF;function Ede(){return gF||(gF=1,Jb=Sde()),Jb}var Nde=Ede(),jde=He(Nde),Zb,yF;function Cde(){if(yF)return Zb;yF=1,Ia();var t=yn();return Zb=t("Array","keys"),Zb}var e1,bF;function Ode(){if(bF)return e1;bF=1;var t=Cde();return e1=t,e1}var t1,xF;function Pde(){if(xF)return t1;xF=1,Ra();var t=Pa(),e=vr(),r=mr(),n=Ode(),i=Array.prototype,s={DOMTokenList:!0,NodeList:!0};return t1=function(a){var o=a.keys;return a===i||r(i,a)&&o===i.keys||e(s,t(a))?n:o},t1}var r1,wF;function Tde(){return wF||(wF=1,r1=Pde()),r1}var Ide=Tde(),pl=He(Ide),_F={},n1,SF;function Rde(){if(SF)return n1;SF=1;var t=Hu(),e=Math.floor,r=function(n,i){var s=n.length;if(s<8)for(var a=1,o,u;a<s;){for(u=a,o=n[a];u&&i(n[u-1],o)>0;)n[u]=n[--u];u!==a++&&(n[u]=o)}else for(var c=e(s/2),d=r(t(n,0,c),i),h=r(t(n,c),i),f=d.length,p=h.length,m=0,y=0;m<f||y<p;)n[m+y]=m<f&&y<p?i(d[m],h[y])<=0?d[m++]:h[y++]:m<f?d[m++]:h[y++];return n};return n1=r,n1}var i1,EF;function $de(){if(EF)return i1;EF=1;var t=Fu(),e=t.match(/firefox\/(\d+)/i);return i1=!!e&&+e[1],i1}var s1,NF;function kde(){if(NF)return s1;NF=1;var t=Fu();return s1=/MSIE|Trident/.test(t),s1}var a1,jF;function Dde(){if(jF)return a1;jF=1;var t=Fu(),e=t.match(/AppleWebKit\/(\d+)\./);return a1=!!e&&+e[1],a1}var CF;function Mde(){if(CF)return _F;CF=1;var t=$e(),e=mt(),r=Ns(),n=yi(),i=Oa(),s=SG(),a=Ta(),o=ct(),u=Rde(),c=Em(),d=$de(),h=kde(),f=lh(),p=Dde(),m=[],y=e(m.sort),x=e(m.push),g=o(function(){m.sort(void 0)}),v=o(function(){m.sort(null)}),w=c("sort"),b=!o(function(){if(f)return f<70;if(!(d&&d>3)){if(h)return!0;if(p)return p<603;var N="",S,j,C,P;for(S=65;S<76;S++){switch(j=String.fromCharCode(S),S){case 66:case 69:case 70:case 72:C=3;break;case 68:case 71:C=4;break;default:C=2}for(P=0;P<47;P++)m.push({k:j+P,v:C})}for(m.sort(function(O,I){return I.v-O.v}),P=0;P<m.length;P++)j=m[P].k.charAt(0),N.charAt(N.length-1)!==j&&(N+=j);return N!=="DGBEFHACIJK"}}),_=g||!v||!w||!b,E=function(N){return function(S,j){return j===void 0?-1:S===void 0?1:N!==void 0?+N(S,j)||0:a(S)>a(j)?1:-1}};return t({target:"Array",proto:!0,forced:_},{sort:function(S){S!==void 0&&r(S);var j=n(this);if(b)return S===void 0?y(j):y(j,S);var C=[],P=i(j),O,I;for(I=0;I<P;I++)I in j&&x(C,j[I]);for(u(C,E(S)),O=i(C),I=0;I<O;)j[I]=C[I++];for(;I<P;)s(j,I++);return j}}),_F}var o1,OF;function qde(){if(OF)return o1;OF=1,Mde();var t=yn();return o1=t("Array","sort"),o1}var l1,PF;function Ade(){if(PF)return l1;PF=1;var t=mr(),e=qde(),r=Array.prototype;return l1=function(n){var i=n.sort;return n===r||t(r,n)&&i===r.sort?e:i},l1}var u1,TF;function Fde(){if(TF)return u1;TF=1;var t=Ade();return u1=t,u1}var c1,IF;function Lde(){return IF||(IF=1,c1=Fde()),c1}var Bde=Lde(),Aj=He(Bde),d1,RF;function zde(){if(RF)return d1;RF=1,Ia();var t=yn();return d1=t("Array","values"),d1}var h1,$F;function Ude(){if($F)return h1;$F=1;var t=zde();return h1=t,h1}var f1,kF;function Wde(){if(kF)return f1;kF=1,Ra();var t=Pa(),e=vr(),r=mr(),n=Ude(),i=Array.prototype,s={DOMTokenList:!0,NodeList:!0};return f1=function(a){var o=a.values;return a===i||r(i,a)&&o===i.values||e(s,t(a))?n:o},f1}var p1,DF;function Vde(){return DF||(DF=1,p1=Wde()),p1}var Hde=Vde(),MF=He(Hde),m1,qF;function Kde(){return qF||(qF=1,m1=bG()),m1}var Gde=Kde(),$l=He(Gde),v1,AF;function Yde(){if(AF)return v1;AF=1,Ia();var t=yn();return v1=t("Array","entries"),v1}var g1,FF;function Qde(){if(FF)return g1;FF=1;var t=Yde();return g1=t,g1}var y1,LF;function Xde(){if(LF)return y1;LF=1,Ra();var t=Pa(),e=vr(),r=mr(),n=Qde(),i=Array.prototype,s={DOMTokenList:!0,NodeList:!0};return y1=function(a){var o=a.entries;return a===i||r(i,a)&&o===i.entries||e(s,t(a))?n:o},y1}var b1,BF;function Jde(){return BF||(BF=1,b1=Xde()),b1}var Zde=Jde(),ehe=He(Zde);const xr=[];for(let t=0;t<256;++t)xr.push((t+256).toString(16).slice(1));function the(t,e=0){return(xr[t[e+0]]+xr[t[e+1]]+xr[t[e+2]]+xr[t[e+3]]+"-"+xr[t[e+4]]+xr[t[e+5]]+"-"+xr[t[e+6]]+xr[t[e+7]]+"-"+xr[t[e+8]]+xr[t[e+9]]+"-"+xr[t[e+10]]+xr[t[e+11]]+xr[t[e+12]]+xr[t[e+13]]+xr[t[e+14]]+xr[t[e+15]]).toLowerCase()}let x1;const rhe=new Uint8Array(16);function nhe(){if(!x1){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");x1=crypto.getRandomValues.bind(crypto)}return x1(rhe)}const ihe=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto);var zF={randomUUID:ihe};function she(t,e,r){var i;t=t||{};const n=t.random??((i=t.rng)==null?void 0:i.call(t))??nhe();if(n.length<16)throw new Error("Random bytes length must be >= 16");return n[6]=n[6]&15|64,n[8]=n[8]&63|128,the(n)}function ahe(t,e,r){return zF.randomUUID&&!t?zF.randomUUID():she(t)}function UF(t){return typeof t=="string"||typeof t=="number"}class BO{constructor(e){ha(this,"_queue",[]),ha(this,"_timeout",null),ha(this,"_extended",null),this.delay=null,this.max=1/0,this.setOptions(e)}setOptions(e){e&&typeof e.delay<"u"&&(this.delay=e.delay),e&&typeof e.max<"u"&&(this.max=e.max),this._flushIfNeeded()}static extend(e,r){const n=new BO(r);if(e.flush!==void 0)throw new Error("Target object already has a property flush");e.flush=()=>{n.flush()};const i=[{name:"flush",original:void 0}];if(r&&r.replace)for(let s=0;s<r.replace.length;s++){const a=r.replace[s];i.push({name:a,original:e[a]}),n.replace(e,a)}return n._extended={object:e,methods:i},n}destroy(){if(this.flush(),this._extended){const e=this._extended.object,r=this._extended.methods;for(let n=0;n<r.length;n++){const i=r[n];i.original?e[i.name]=i.original:delete e[i.name]}this._extended=null}}replace(e,r){const n=this,i=e[r];if(!i)throw new Error("Method "+r+" undefined");e[r]=function(){for(var s=arguments.length,a=new Array(s),o=0;o<s;o++)a[o]=arguments[o];n.queue({args:a,fn:i,context:this})}}queue(e){typeof e=="function"?this._queue.push({fn:e}):this._queue.push(e),this._flushIfNeeded()}_flushIfNeeded(){this._queue.length>this.max&&this.flush(),this._timeout!=null&&(clearTimeout(this._timeout),this._timeout=null),this.queue.length>0&&typeof this.delay=="number"&&(this._timeout=Uue(()=>{this.flush()},this.delay))}flush(){var e,r;$o(e=EG(r=this._queue).call(r,0)).call(e,n=>{n.fn.apply(n.context||n.fn,n.args||[])})}}class Ip{constructor(){ha(this,"_subscribers",{"*":[],add:[],remove:[],update:[]}),ha(this,"subscribe",Ip.prototype.on),ha(this,"unsubscribe",Ip.prototype.off)}_trigger(e,r,n){var i;if(e==="*")throw new Error("Cannot trigger event *");$o(i=[...this._subscribers[e],...this._subscribers["*"]]).call(i,s=>{s(e,r,n??null)})}on(e,r){typeof r=="function"&&this._subscribers[e].push(r)}off(e,r){var n;this._subscribers[e]=Tl(n=this._subscribers[e]).call(n,i=>i!==r)}}var WF={},VF={},HF;function ohe(){if(HF)return VF;HF=1;var t=iY(),e=sY();return t("Set",function(r){return function(){return r(this,arguments.length?arguments[0]:void 0)}},e),VF}var KF;function lhe(){return KF||(KF=1,ohe()),WF}var GF={},w1,YF;function Yo(){if(YF)return w1;YF=1;var t=Bu(),e=TypeError;return w1=function(r){if(typeof r=="object"&&"size"in r&&"has"in r&&"add"in r&&"delete"in r&&"keys"in r)return r;throw new e(t(r)+" is not a set")},w1}var _1,QF;function Qo(){if(QF)return _1;QF=1;var t=Tn(),e=aY(),r=t("Set"),n=r.prototype;return _1={Set:r,add:e("add",1),has:e("has",1),remove:e("delete",1),proto:n},_1}var S1,XF;function Xo(){if(XF)return S1;XF=1;var t=gn();return S1=function(e,r,n){for(var i=n?e:e.iterator,s=e.next,a,o;!(a=t(s,i)).done;)if(o=r(a.value),o!==void 0)return o},S1}var E1,JF;function xh(){if(JF)return E1;JF=1;var t=Xo();return E1=function(e,r,n){return n?t(e.keys(),r,!0):e.forEach(r)},E1}var N1,ZF;function zO(){if(ZF)return N1;ZF=1;var t=Qo(),e=xh(),r=t.Set,n=t.add;return N1=function(i){var s=new r;return e(i,function(a){n(s,a)}),s},N1}var j1,e4;function wh(){return e4||(e4=1,j1=function(t){return t.size}),j1}var C1,t4;function uhe(){return t4||(t4=1,C1=function(t){return{iterator:t,next:t.next,done:!1}}),C1}var O1,r4;function Jo(){if(r4)return O1;r4=1;var t=Ns(),e=js(),r=gn(),n=Vu(),i=uhe(),s="Invalid size",a=RangeError,o=TypeError,u=Math.max,c=function(d,h){this.set=d,this.size=u(h,0),this.has=t(d.has),this.keys=t(d.keys)};return c.prototype={getIterator:function(){return i(e(r(this.keys,this.set)))},includes:function(d){return r(this.has,this.set,d)}},O1=function(d){e(d);var h=+d.size;if(h!==h)throw new o(s);var f=n(h);if(f<0)throw new a(s);return new c(d,f)},O1}var P1,n4;function che(){if(n4)return P1;n4=1;var t=Yo(),e=Qo(),r=zO(),n=wh(),i=Jo(),s=xh(),a=Xo(),o=e.has,u=e.remove;return P1=function(d){var h=t(this),f=i(d),p=r(h);return n(h)<=f.size?s(h,function(m){f.includes(m)&&u(p,m)}):a(f.getIterator(),function(m){o(p,m)&&u(p,m)}),p},P1}var T1,i4;function Zo(){return i4||(i4=1,T1=function(){return!1}),T1}var s4;function dhe(){if(s4)return GF;s4=1;var t=$e(),e=che(),r=ct(),n=Zo(),i=!n("difference",function(a){return a.size===0}),s=i||r(function(){var a={size:1,has:function(){return!0},keys:function(){var u=0;return{next:function(){var c=u++>1;return o.has(1)&&o.clear(),{done:c,value:2}}}}},o=new Set([1,2,3,4]);return o.difference(a).size!==3});return t({target:"Set",proto:!0,real:!0,forced:s},{difference:e}),GF}var a4={},I1,o4;function hhe(){if(o4)return I1;o4=1;var t=Yo(),e=Qo(),r=wh(),n=Jo(),i=xh(),s=Xo(),a=e.Set,o=e.add,u=e.has;return I1=function(d){var h=t(this),f=n(d),p=new a;return r(h)>f.size?s(f.getIterator(),function(m){u(h,m)&&o(p,m)}):i(h,function(m){f.includes(m)&&o(p,m)}),p},I1}var l4;function fhe(){if(l4)return a4;l4=1;var t=$e(),e=ct(),r=hhe(),n=Zo(),i=!n("intersection",function(s){return s.size===2&&s.has(1)&&s.has(2)})||e(function(){return String(Array.from(new Set([1,2,3]).intersection(new Set([3,2]))))!=="3,2"});return t({target:"Set",proto:!0,real:!0,forced:i},{intersection:r}),a4}var u4={},R1,c4;function phe(){if(c4)return R1;c4=1;var t=Yo(),e=Qo().has,r=wh(),n=Jo(),i=xh(),s=Xo(),a=FO();return R1=function(u){var c=t(this),d=n(u);if(r(c)<=d.size)return i(c,function(f){if(d.includes(f))return!1},!0)!==!1;var h=d.getIterator();return s(h,function(f){if(e(c,f))return a(h,"normal",!1)})!==!1},R1}var d4;function mhe(){if(d4)return u4;d4=1;var t=$e(),e=phe(),r=Zo(),n=!r("isDisjointFrom",function(i){return!i});return t({target:"Set",proto:!0,real:!0,forced:n},{isDisjointFrom:e}),u4}var h4={},$1,f4;function vhe(){if(f4)return $1;f4=1;var t=Yo(),e=wh(),r=xh(),n=Jo();return $1=function(s){var a=t(this),o=n(s);return e(a)>o.size?!1:r(a,function(u){if(!o.includes(u))return!1},!0)!==!1},$1}var p4;function ghe(){if(p4)return h4;p4=1;var t=$e(),e=vhe(),r=Zo(),n=!r("isSubsetOf",function(i){return i});return t({target:"Set",proto:!0,real:!0,forced:n},{isSubsetOf:e}),h4}var m4={},k1,v4;function yhe(){if(v4)return k1;v4=1;var t=Yo(),e=Qo().has,r=wh(),n=Jo(),i=Xo(),s=FO();return k1=function(o){var u=t(this),c=n(o);if(r(u)<c.size)return!1;var d=c.getIterator();return i(d,function(h){if(!e(u,h))return s(d,"normal",!1)})!==!1},k1}var g4;function bhe(){if(g4)return m4;g4=1;var t=$e(),e=yhe(),r=Zo(),n=!r("isSupersetOf",function(i){return!i});return t({target:"Set",proto:!0,real:!0,forced:n},{isSupersetOf:e}),m4}var y4={},D1,b4;function xhe(){if(b4)return D1;b4=1;var t=Yo(),e=Qo(),r=zO(),n=Jo(),i=Xo(),s=e.add,a=e.has,o=e.remove;return D1=function(c){var d=t(this),h=n(c).getIterator(),f=r(d);return i(h,function(p){a(d,p)?o(f,p):s(f,p)}),f},D1}var M1,x4;function lY(){return x4||(x4=1,M1=function(t){try{var e=new Set,r={size:0,has:function(){return!0},keys:function(){return Object.defineProperty({},"next",{get:function(){return e.clear(),e.add(4),function(){return{done:!0}}}})}},n=e[t](r);return n.size===1&&n.values().next().value===4}catch{return!1}}),M1}var w4;function whe(){if(w4)return y4;w4=1;var t=$e(),e=xhe(),r=lY(),n=Zo(),i=!n("symmetricDifference")||!r("symmetricDifference");return t({target:"Set",proto:!0,real:!0,forced:i},{symmetricDifference:e}),y4}var _4={},q1,S4;function _he(){if(S4)return q1;S4=1;var t=Yo(),e=Qo().add,r=zO(),n=Jo(),i=Xo();return q1=function(a){var o=t(this),u=n(a).getIterator(),c=r(o);return i(u,function(d){e(c,d)}),c},q1}var E4;function She(){if(E4)return _4;E4=1;var t=$e(),e=_he(),r=lY(),n=Zo(),i=!n("union")||!r("union");return t({target:"Set",proto:!0,real:!0,forced:i},{union:e}),_4}var A1,N4;function Ehe(){if(N4)return A1;N4=1,Ia(),lhe(),dhe(),fhe(),mhe(),ghe(),bhe(),whe(),She(),Sm();var t=ur();return A1=t.Set,A1}var F1,j4;function Nhe(){if(j4)return F1;j4=1;var t=Ehe();return Ra(),F1=t,F1}var L1,C4;function jhe(){return C4||(C4=1,L1=Nhe()),L1}var Che=jhe(),B1=He(Che),z1,O4;function Ohe(){if(O4)return z1;O4=1,Ia(),Sm();var t=rY();return z1=t,z1}var U1,P4;function Phe(){if(P4)return U1;P4=1;var t=Ohe();return Ra(),U1=t,U1}var W1,T4;function The(){if(T4)return W1;T4=1;var t=Phe();return W1=t,W1}var V1,I4;function Ihe(){if(I4)return V1;I4=1;var t=The();return V1=t,V1}var H1,R4;function Rhe(){return R4||(R4=1,H1=Ihe()),H1}var K1,$4;function $he(){return $4||($4=1,K1=Rhe()),K1}var khe=$he(),G1=He(khe);class Ja{constructor(e){this._pairs=e}*[$l](){for(const[e,r]of this._pairs)yield[e,r]}*entries(){for(const[e,r]of this._pairs)yield[e,r]}*keys(){for(const[e]of this._pairs)yield e}*values(){for(const[,e]of this._pairs)yield e}toIdArray(){var e;return li(e=[...this._pairs]).call(e,r=>r[0])}toItemArray(){var e;return li(e=[...this._pairs]).call(e,r=>r[1])}toEntryArray(){return[...this._pairs]}toObjectMap(){const e=jue(null);for(const[r,n]of this._pairs)e[r]=n;return e}toMap(){return new oY(this._pairs)}toIdSet(){return new B1(this.toIdArray())}toItemSet(){return new B1(this.toItemArray())}cache(){return new Ja([...this._pairs])}distinct(e){const r=new B1;for(const[n,i]of this._pairs)r.add(e(i,n));return r}filter(e){const r=this._pairs;return new Ja({*[$l](){for(const[n,i]of r)e(i,n)&&(yield[n,i])}})}forEach(e){for(const[r,n]of this._pairs)e(n,r)}map(e){const r=this._pairs;return new Ja({*[$l](){for(const[n,i]of r)yield[n,e(i,n)]}})}max(e){const r=G1(this._pairs);let n=r.next();if(n.done)return null;let i=n.value[1],s=e(n.value[1],n.value[0]);for(;!(n=r.next()).done;){const[a,o]=n.value,u=e(o,a);u>s&&(s=u,i=o)}return i}min(e){const r=G1(this._pairs);let n=r.next();if(n.done)return null;let i=n.value[1],s=e(n.value[1],n.value[0]);for(;!(n=r.next()).done;){const[a,o]=n.value,u=e(o,a);u<s&&(s=u,i=o)}return i}reduce(e,r){for(const[n,i]of this._pairs)r=e(r,i,n);return r}sort(e){return new Ja({[$l]:()=>{var r;return G1(Aj(r=[...this._pairs]).call(r,(n,i)=>{let[s,a]=n,[o,u]=i;return e(a,u,s,o)}))}})}}function k4(t,e){var r=IO(t);if(SA){var n=SA(t);e&&(n=Tl(n).call(n,function(i){return ZG(t,i).enumerable})),r.push.apply(r,n)}return r}function D4(t){for(var e=1;e<arguments.length;e++){var r,n,i=arguments[e]!=null?arguments[e]:{};e%2?$o(r=k4(Object(i),!0)).call(r,function(s){ha(t,s,i[s])}):kA?rde(t,kA(i)):$o(n=k4(Object(i))).call(n,function(s){sde(t,s,ZG(i,s))})}return t}function Dhe(t,e){return t[e]==null&&(t[e]=ahe()),t}class Eu extends Ip{get idProp(){return this._idProp}constructor(e,r){super(),ha(this,"_queue",null),e&&!Ei(e)&&(r=e,e=[]),this._options=r||{},this._data=new oY,this.length=0,this._idProp=this._options.fieldId||"id",e&&e.length&&this.add(e),this.setOptions(r)}setOptions(e){e&&e.queue!==void 0&&(e.queue===!1?this._queue&&(this._queue.destroy(),this._queue=null):(this._queue||(this._queue=BO.extend(this,{replace:["add","update","remove"]})),e.queue&&typeof e.queue=="object"&&this._queue.setOptions(e.queue)))}add(e,r){const n=[];let i;if(Ei(e)){const s=li(e).call(e,a=>a[this._idProp]);if(jde(s).call(s,a=>this._data.has(a)))throw new Error("A duplicate id was found in the parameter array.");for(let a=0,o=e.length;a<o;a++)i=this._addItem(e[a]),n.push(i)}else if(e&&typeof e=="object")i=this._addItem(e),n.push(i);else throw new Error("Unknown dataType");return n.length&&this._trigger("add",{items:n},r),n}update(e,r){const n=[],i=[],s=[],a=[],o=this._idProp,u=c=>{const d=c[o];if(d!=null&&this._data.has(d)){const h=c,f=pue({},this._data.get(d)),p=this._updateItem(h);i.push(p),a.push(h),s.push(f)}else{const h=this._addItem(c);n.push(h)}};if(Ei(e))for(let c=0,d=e.length;c<d;c++)e[c]&&typeof e[c]=="object"?u(e[c]):console.warn("Ignoring input item, which is not an object at index "+c);else if(e&&typeof e=="object")u(e);else throw new Error("Unknown dataType");if(n.length&&this._trigger("add",{items:n},r),i.length){const c={items:i,oldData:s,data:a};this._trigger("update",c,r)}return xue(n).call(n,i)}updateOnly(e,r){var n;Ei(e)||(e=[e]);const i=li(n=li(e).call(e,s=>{const a=this._data.get(s[this._idProp]);if(a==null)throw new Error("Updating non-existent items is not allowed.");return{oldData:a,update:s}})).call(n,s=>{let{oldData:a,update:o}=s;const u=a[this._idProp],c=$ce(a,o);return this._data.set(u,c),{id:u,oldData:a,updatedData:c}});if(i.length){const s={items:li(i).call(i,a=>a.id),oldData:li(i).call(i,a=>a.oldData),data:li(i).call(i,a=>a.updatedData)};return this._trigger("update",s,r),s.items}else return[]}get(e,r){let n,i,s;UF(e)?(n=e,s=r):Ei(e)?(i=e,s=r):s=e;const a=s&&s.returnType==="Object"?"Object":"Array",o=s&&Tl(s),u=[];let c,d,h;if(n!=null)c=this._data.get(n),c&&o&&!o(c)&&(c=void 0);else if(i!=null)for(let p=0,m=i.length;p<m;p++)c=this._data.get(i[p]),c!=null&&(!o||o(c))&&u.push(c);else{var f;d=[...pl(f=this._data).call(f)];for(let p=0,m=d.length;p<m;p++)h=d[p],c=this._data.get(h),c!=null&&(!o||o(c))&&u.push(c)}if(s&&s.order&&n==null&&this._sort(u,s.order),s&&s.fields){const p=s.fields;if(n!=null&&c!=null)c=this._filterFields(c,p);else for(let m=0,y=u.length;m<y;m++)u[m]=this._filterFields(u[m],p)}if(a=="Object"){const p={};for(let m=0,y=u.length;m<y;m++){const x=u[m],g=x[this._idProp];p[g]=x}return p}else return n!=null?c??null:u}getIds(e){const r=this._data,n=e&&Tl(e),i=e&&e.order,s=[...pl(r).call(r)],a=[];if(n)if(i){const o=[];for(let u=0,c=s.length;u<c;u++){const d=s[u],h=this._data.get(d);h!=null&&n(h)&&o.push(h)}this._sort(o,i);for(let u=0,c=o.length;u<c;u++)a.push(o[u][this._idProp])}else for(let o=0,u=s.length;o<u;o++){const c=s[o],d=this._data.get(c);d!=null&&n(d)&&a.push(d[this._idProp])}else if(i){const o=[];for(let u=0,c=s.length;u<c;u++){const d=s[u];o.push(r.get(d))}this._sort(o,i);for(let u=0,c=o.length;u<c;u++)a.push(o[u][this._idProp])}else for(let o=0,u=s.length;o<u;o++){const c=s[o],d=r.get(c);d!=null&&a.push(d[this._idProp])}return a}getDataSet(){return this}forEach(e,r){const n=r&&Tl(r),i=this._data,s=[...pl(i).call(i)];if(r&&r.order){const a=this.get(r);for(let o=0,u=a.length;o<u;o++){const c=a[o],d=c[this._idProp];e(c,d)}}else for(let a=0,o=s.length;a<o;a++){const u=s[a],c=this._data.get(u);c!=null&&(!n||n(c))&&e(c,u)}}map(e,r){const n=r&&Tl(r),i=[],s=this._data,a=[...pl(s).call(s)];for(let o=0,u=a.length;o<u;o++){const c=a[o],d=this._data.get(c);d!=null&&(!n||n(d))&&i.push(e(d,c))}return r&&r.order&&this._sort(i,r.order),i}_filterFields(e,r){var n;return e&&rle(n=Ei(r)?r:IO(r)).call(n,(i,s)=>(i[s]=e[s],i),{})}_sort(e,r){if(typeof r=="string"){const n=r;Aj(e).call(e,(i,s)=>{const a=i[n],o=s[n];return a>o?1:a<o?-1:0})}else if(typeof r=="function")Aj(e).call(e,r);else throw new TypeError("Order must be a function or a string")}remove(e,r){const n=[],i=[],s=Ei(e)?e:[e];for(let a=0,o=s.length;a<o;a++){const u=this._remove(s[a]);if(u){const c=u[this._idProp];c!=null&&(n.push(c),i.push(u))}}return n.length&&this._trigger("remove",{items:n,oldData:i},r),n}_remove(e){let r;if(UF(e)?r=e:e&&typeof e=="object"&&(r=e[this._idProp]),r!=null&&this._data.has(r)){const n=this._data.get(r)||null;return this._data.delete(r),--this.length,n}return null}clear(e){var r;const n=[...pl(r=this._data).call(r)],i=[];for(let s=0,a=n.length;s<a;s++)i.push(this._data.get(n[s]));return this._data.clear(),this.length=0,this._trigger("remove",{items:n,oldData:i},e),n}max(e){let r=null,n=null;for(const s of MF(i=this._data).call(i)){var i;const a=s[e];typeof a=="number"&&(n==null||a>n)&&(r=s,n=a)}return r||null}min(e){let r=null,n=null;for(const s of MF(i=this._data).call(i)){var i;const a=s[e];typeof a=="number"&&(n==null||a<n)&&(r=s,n=a)}return r||null}distinct(e){const r=this._data,n=[...pl(r).call(r)],i=[];let s=0;for(let a=0,o=n.length;a<o;a++){const u=n[a],d=r.get(u)[e];let h=!1;for(let f=0;f<s;f++)if(i[f]==d){h=!0;break}!h&&d!==void 0&&(i[s]=d,s++)}return i}_addItem(e){const r=Dhe(e,this._idProp),n=r[this._idProp];if(this._data.has(n))throw new Error("Cannot add item: item with id "+n+" already exists");return this._data.set(n,r),++this.length,n}_updateItem(e){const r=e[this._idProp];if(r==null)throw new Error("Cannot update item: item has no id (item: "+Due(e)+")");const n=this._data.get(r);if(!n)throw new Error("Cannot update item: no item with id "+r+" found");return this._data.set(r,D4(D4({},n),e)),r}stream(e){if(e){const n=this._data;return new Ja({*[$l](){for(const i of e){const s=n.get(i);s!=null&&(yield[i,s])}}})}else{var r;return new Ja({[$l]:xG(r=ehe(this._data)).call(r,this._data)})}}}function Mhe(t,e){return typeof e=="object"&&e!==null&&t===e.idProp&&typeof e.add=="function"&&typeof e.clear=="function"&&typeof e.distinct=="function"&&typeof $o(e)=="function"&&typeof e.get=="function"&&typeof e.getDataSet=="function"&&typeof e.getIds=="function"&&typeof e.length=="number"&&typeof li(e)=="function"&&typeof e.max=="function"&&typeof e.min=="function"&&typeof e.off=="function"&&typeof e.on=="function"&&typeof e.remove=="function"&&typeof e.setOptions=="function"&&typeof e.stream=="function"&&typeof e.update=="function"&&typeof e.updateOnly=="function"}function uY(t,e){return typeof e=="object"&&e!==null&&t===e.idProp&&typeof $o(e)=="function"&&typeof e.get=="function"&&typeof e.getDataSet=="function"&&typeof e.getIds=="function"&&typeof e.length=="number"&&typeof li(e)=="function"&&typeof e.off=="function"&&typeof e.on=="function"&&typeof e.stream=="function"&&Mhe(t,e.getDataSet())}/**
 * vis-network
 * https://visjs.github.io/vis-network/
 *
 * A dynamic, browser-based visualization library.
 *
 * @version 10.0.2
 * @date    2025-09-15T17:48:13.838Z
 *
 * @copyright (c) 2011-2017 Almende B.V, http://almende.com
 * @copyright (c) 2017-2019 visjs contributors, https://github.com/visjs
 *
 * @license
 * vis.js is dual licensed under both
 *
 *   1. The Apache 2.0 License
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 *   and
 *
 *   2. The MIT License
 *      http://opensource.org/licenses/MIT
 *
 * vis.js may be distributed under either license.
 */var M4=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Re(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var q4={},Tc,A4;function Ot(){if(A4)return Tc;A4=1;var t=function(e){return e&&e.Math===Math&&e};return Tc=t(typeof globalThis=="object"&&globalThis)||t(typeof window=="object"&&window)||t(typeof self=="object"&&self)||t(typeof M4=="object"&&M4)||t(typeof Tc=="object"&&Tc)||function(){return this}()||Function("return this")(),Tc}var Y1,F4;function Ke(){return F4||(F4=1,Y1=function(t){try{return!!t()}catch{return!0}}),Y1}var Q1,L4;function _h(){if(L4)return Q1;L4=1;var t=Ke();return Q1=!t(function(){var e=(function(){}).bind();return typeof e!="function"||e.hasOwnProperty("prototype")}),Q1}var X1,B4;function Cm(){if(B4)return X1;B4=1;var t=_h(),e=Function.prototype,r=e.apply,n=e.call;return X1=typeof Reflect=="object"&&Reflect.apply||(t?n.bind(r):function(){return n.apply(r,arguments)}),X1}var J1,z4;function Xe(){if(z4)return J1;z4=1;var t=_h(),e=Function.prototype,r=e.call,n=t&&e.bind.bind(r,r);return J1=t?n:function(i){return function(){return r.apply(i,arguments)}},J1}var Z1,U4;function Fi(){if(U4)return Z1;U4=1;var t=Xe(),e=t({}.toString),r=t("".slice);return Z1=function(n){return r(e(n),8,-1)},Z1}var ex,W4;function UO(){if(W4)return ex;W4=1;var t=Fi(),e=Xe();return ex=function(r){if(t(r)==="Function")return e(r)},ex}var tx,V4;function yr(){if(V4)return tx;V4=1;var t=typeof document=="object"&&document.all;return tx=typeof t>"u"&&t!==void 0?function(e){return typeof e=="function"||e===t}:function(e){return typeof e=="function"},tx}var rx={},nx,H4;function Yt(){if(H4)return nx;H4=1;var t=Ke();return nx=!t(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!==7}),nx}var ix,K4;function bn(){if(K4)return ix;K4=1;var t=_h(),e=Function.prototype.call;return ix=t?e.bind(e):function(){return e.apply(e,arguments)},ix}var sx={},G4;function Om(){if(G4)return sx;G4=1;var t={}.propertyIsEnumerable,e=Object.getOwnPropertyDescriptor,r=e&&!t.call({1:2},1);return sx.f=r?function(i){var s=e(this,i);return!!s&&s.enumerable}:t,sx}var ax,Y4;function Sh(){return Y4||(Y4=1,ax=function(t,e){return{enumerable:!(t&1),configurable:!(t&2),writable:!(t&4),value:e}}),ax}var ox,Q4;function Pm(){if(Q4)return ox;Q4=1;var t=Xe(),e=Ke(),r=Fi(),n=Object,i=t("".split);return ox=e(function(){return!n("z").propertyIsEnumerable(0)})?function(s){return r(s)==="String"?i(s,""):n(s)}:n,ox}var lx,X4;function Qu(){return X4||(X4=1,lx=function(t){return t==null}),lx}var ux,J4;function Cs(){if(J4)return ux;J4=1;var t=Qu(),e=TypeError;return ux=function(r){if(t(r))throw new e("Can't call method on "+r);return r},ux}var cx,Z4;function bi(){if(Z4)return cx;Z4=1;var t=Pm(),e=Cs();return cx=function(r){return t(e(r))},cx}var dx,e5;function br(){if(e5)return dx;e5=1;var t=yr();return dx=function(e){return typeof e=="object"?e!==null:t(e)},dx}var hx,t5;function dt(){return t5||(t5=1,hx={}),hx}var fx,r5;function In(){if(r5)return fx;r5=1;var t=dt(),e=Ot(),r=yr(),n=function(i){return r(i)?i:void 0};return fx=function(i,s){return arguments.length<2?n(t[i])||n(e[i]):t[i]&&t[i][s]||e[i]&&e[i][s]},fx}var px,n5;function ir(){if(n5)return px;n5=1;var t=Xe();return px=t({}.isPrototypeOf),px}var mx,i5;function Xu(){if(i5)return mx;i5=1;var t=Ot(),e=t.navigator,r=e&&e.userAgent;return mx=r?String(r):"",mx}var vx,s5;function Eh(){if(s5)return vx;s5=1;var t=Ot(),e=Xu(),r=t.process,n=t.Deno,i=r&&r.versions||n&&n.version,s=i&&i.v8,a,o;return s&&(a=s.split("."),o=a[0]>0&&a[0]<4?1:+(a[0]+a[1])),!o&&e&&(a=e.match(/Edge\/(\d+)/),(!a||a[1]>=74)&&(a=e.match(/Chrome\/(\d+)/),a&&(o=+a[1]))),vx=o,vx}var gx,a5;function Ju(){if(a5)return gx;a5=1;var t=Eh(),e=Ke(),r=Ot(),n=r.String;return gx=!!Object.getOwnPropertySymbols&&!e(function(){var i=Symbol("symbol detection");return!n(i)||!(Object(i)instanceof Symbol)||!Symbol.sham&&t&&t<41}),gx}var yx,o5;function cY(){if(o5)return yx;o5=1;var t=Ju();return yx=t&&!Symbol.sham&&typeof Symbol.iterator=="symbol",yx}var bx,l5;function Nh(){if(l5)return bx;l5=1;var t=In(),e=yr(),r=ir(),n=cY(),i=Object;return bx=n?function(s){return typeof s=="symbol"}:function(s){var a=t("Symbol");return e(a)&&r(a.prototype,i(s))},bx}var xx,u5;function Zu(){if(u5)return xx;u5=1;var t=String;return xx=function(e){try{return t(e)}catch{return"Object"}},xx}var wx,c5;function Os(){if(c5)return wx;c5=1;var t=yr(),e=Zu(),r=TypeError;return wx=function(n){if(t(n))return n;throw new r(e(n)+" is not a function")},wx}var _x,d5;function WO(){if(d5)return _x;d5=1;var t=Os(),e=Qu();return _x=function(r,n){var i=r[n];return e(i)?void 0:t(i)},_x}var Sx,h5;function qhe(){if(h5)return Sx;h5=1;var t=bn(),e=yr(),r=br(),n=TypeError;return Sx=function(i,s){var a,o;if(s==="string"&&e(a=i.toString)&&!r(o=t(a,i))||e(a=i.valueOf)&&!r(o=t(a,i))||s!=="string"&&e(a=i.toString)&&!r(o=t(a,i)))return o;throw new n("Can't convert object to primitive value")},Sx}var Ex={exports:{}},Nx,f5;function ec(){return f5||(f5=1,Nx=!0),Nx}var jx,p5;function Ahe(){if(p5)return jx;p5=1;var t=Ot(),e=Object.defineProperty;return jx=function(r,n){try{e(t,r,{value:n,configurable:!0,writable:!0})}catch{t[r]=n}return n},jx}var m5;function VO(){if(m5)return Ex.exports;m5=1;var t=ec(),e=Ot(),r=Ahe(),n="__core-js_shared__",i=Ex.exports=e[n]||r(n,{});return(i.versions||(i.versions=[])).push({version:"3.44.0",mode:t?"pure":"global",copyright:" 2014-2025 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.44.0/LICENSE",source:"https://github.com/zloirock/core-js"}),Ex.exports}var Cx,v5;function tc(){if(v5)return Cx;v5=1;var t=VO();return Cx=function(e,r){return t[e]||(t[e]=r||{})},Cx}var Ox,g5;function Rn(){if(g5)return Ox;g5=1;var t=Cs(),e=Object;return Ox=function(r){return e(t(r))},Ox}var Px,y5;function Cr(){if(y5)return Px;y5=1;var t=Xe(),e=Rn(),r=t({}.hasOwnProperty);return Px=Object.hasOwn||function(i,s){return r(e(i),s)},Px}var Tx,b5;function Tm(){if(b5)return Tx;b5=1;var t=Xe(),e=0,r=Math.random(),n=t(1.1.toString);return Tx=function(i){return"Symbol("+(i===void 0?"":i)+")_"+n(++e+r,36)},Tx}var Ix,x5;function sr(){if(x5)return Ix;x5=1;var t=Ot(),e=tc(),r=Cr(),n=Tm(),i=Ju(),s=cY(),a=t.Symbol,o=e("wks"),u=s?a.for||a:a&&a.withoutSetter||n;return Ix=function(c){return r(o,c)||(o[c]=i&&r(a,c)?a[c]:u("Symbol."+c)),o[c]},Ix}var Rx,w5;function dY(){if(w5)return Rx;w5=1;var t=bn(),e=br(),r=Nh(),n=WO(),i=qhe(),s=sr(),a=TypeError,o=s("toPrimitive");return Rx=function(u,c){if(!e(u)||r(u))return u;var d=n(u,o),h;if(d){if(c===void 0&&(c="default"),h=t(d,u,c),!e(h)||r(h))return h;throw new a("Can't convert object to primitive value")}return c===void 0&&(c="number"),i(u,c)},Rx}var $x,_5;function HO(){if(_5)return $x;_5=1;var t=dY(),e=Nh();return $x=function(r){var n=t(r,"string");return e(n)?n:n+""},$x}var kx,S5;function hY(){if(S5)return kx;S5=1;var t=Ot(),e=br(),r=t.document,n=e(r)&&e(r.createElement);return kx=function(i){return n?r.createElement(i):{}},kx}var Dx,E5;function fY(){if(E5)return Dx;E5=1;var t=Yt(),e=Ke(),r=hY();return Dx=!t&&!e(function(){return Object.defineProperty(r("div"),"a",{get:function(){return 7}}).a!==7}),Dx}var N5;function Im(){if(N5)return rx;N5=1;var t=Yt(),e=bn(),r=Om(),n=Sh(),i=bi(),s=HO(),a=Cr(),o=fY(),u=Object.getOwnPropertyDescriptor;return rx.f=t?u:function(d,h){if(d=i(d),h=s(h),o)try{return u(d,h)}catch{}if(a(d,h))return n(!e(r.f,d,h),d[h])},rx}var Mx,j5;function Fhe(){if(j5)return Mx;j5=1;var t=Ke(),e=yr(),r=/#|\.prototype\./,n=function(u,c){var d=s[i(u)];return d===o?!0:d===a?!1:e(c)?t(c):!!c},i=n.normalize=function(u){return String(u).replace(r,".").toLowerCase()},s=n.data={},a=n.NATIVE="N",o=n.POLYFILL="P";return Mx=n,Mx}var qx,C5;function Rm(){if(C5)return qx;C5=1;var t=UO(),e=Os(),r=_h(),n=t(t.bind);return qx=function(i,s){return e(i),s===void 0?i:r?n(i,s):function(){return i.apply(s,arguments)}},qx}var Ax={},Fx,O5;function pY(){if(O5)return Fx;O5=1;var t=Yt(),e=Ke();return Fx=t&&e(function(){return Object.defineProperty(function(){},"prototype",{value:42,writable:!1}).prototype!==42}),Fx}var Lx,P5;function Li(){if(P5)return Lx;P5=1;var t=br(),e=String,r=TypeError;return Lx=function(n){if(t(n))return n;throw new r(e(n)+" is not an object")},Lx}var T5;function Xn(){if(T5)return Ax;T5=1;var t=Yt(),e=fY(),r=pY(),n=Li(),i=HO(),s=TypeError,a=Object.defineProperty,o=Object.getOwnPropertyDescriptor,u="enumerable",c="configurable",d="writable";return Ax.f=t?r?function(f,p,m){if(n(f),p=i(p),n(m),typeof f=="function"&&p==="prototype"&&"value"in m&&d in m&&!m[d]){var y=o(f,p);y&&y[d]&&(f[p]=m.value,m={configurable:c in m?m[c]:y[c],enumerable:u in m?m[u]:y[u],writable:!1})}return a(f,p,m)}:a:function(f,p,m){if(n(f),p=i(p),n(m),e)try{return a(f,p,m)}catch{}if("get"in m||"set"in m)throw new s("Accessors not supported");return"value"in m&&(f[p]=m.value),f},Ax}var Bx,I5;function rc(){if(I5)return Bx;I5=1;var t=Yt(),e=Xn(),r=Sh();return Bx=t?function(n,i,s){return e.f(n,i,r(1,s))}:function(n,i,s){return n[i]=s,n},Bx}var zx,R5;function je(){if(R5)return zx;R5=1;var t=Ot(),e=Cm(),r=UO(),n=yr(),i=Im().f,s=Fhe(),a=dt(),o=Rm(),u=rc(),c=Cr(),d=function(h){var f=function(p,m,y){if(this instanceof f){switch(arguments.length){case 0:return new h;case 1:return new h(p);case 2:return new h(p,m)}return new h(p,m,y)}return e(h,this,arguments)};return f.prototype=h.prototype,f};return zx=function(h,f){var p=h.target,m=h.global,y=h.stat,x=h.proto,g=m?t:y?t[p]:t[p]&&t[p].prototype,v=m?a:a[p]||u(a,p,{})[p],w=v.prototype,b,_,E,N,S,j,C,P,O;for(N in f)b=s(m?N:p+(y?".":"#")+N,h.forced),_=!b&&g&&c(g,N),j=v[N],_&&(h.dontCallGetSet?(O=i(g,N),C=O&&O.value):C=g[N]),S=_&&C?C:f[N],!(!b&&!x&&typeof j==typeof S)&&(h.bind&&_?P=o(S,t):h.wrap&&_?P=d(S):x&&n(S)?P=r(S):P=S,(h.sham||S&&S.sham||j&&j.sham)&&u(P,"sham",!0),u(v,N,P),x&&(E=p+"Prototype",c(a,E)||u(a,E,{}),u(a[E],N,S),h.real&&w&&(b||!w[N])&&u(w,N,S)))},zx}var Ux,$5;function Lhe(){if($5)return Ux;$5=1;var t=Math.ceil,e=Math.floor;return Ux=Math.trunc||function(n){var i=+n;return(i>0?e:t)(i)},Ux}var Wx,k5;function nc(){if(k5)return Wx;k5=1;var t=Lhe();return Wx=function(e){var r=+e;return r!==r||r===0?0:t(r)},Wx}var Vx,D5;function $m(){if(D5)return Vx;D5=1;var t=nc(),e=Math.max,r=Math.min;return Vx=function(n,i){var s=t(n);return s<0?e(s+i,0):r(s,i)},Vx}var Hx,M5;function mY(){if(M5)return Hx;M5=1;var t=nc(),e=Math.min;return Hx=function(r){var n=t(r);return n>0?e(n,9007199254740991):0},Hx}var Kx,q5;function Ps(){if(q5)return Kx;q5=1;var t=mY();return Kx=function(e){return t(e.length)},Kx}var Gx,A5;function KO(){if(A5)return Gx;A5=1;var t=bi(),e=$m(),r=Ps(),n=function(i){return function(s,a,o){var u=t(s),c=r(u);if(c===0)return!i&&-1;var d=e(o,c),h;if(i&&a!==a){for(;c>d;)if(h=u[d++],h!==h)return!0}else for(;c>d;d++)if((i||d in u)&&u[d]===a)return i||d||0;return!i&&-1}};return Gx={includes:n(!0),indexOf:n(!1)},Gx}var Yx,F5;function jh(){return F5||(F5=1,Yx={}),Yx}var Qx,L5;function vY(){if(L5)return Qx;L5=1;var t=Xe(),e=Cr(),r=bi(),n=KO().indexOf,i=jh(),s=t([].push);return Qx=function(a,o){var u=r(a),c=0,d=[],h;for(h in u)!e(i,h)&&e(u,h)&&s(d,h);for(;o.length>c;)e(u,h=o[c++])&&(~n(d,h)||s(d,h));return d},Qx}var Xx,B5;function GO(){return B5||(B5=1,Xx=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]),Xx}var Jx,z5;function Ch(){if(z5)return Jx;z5=1;var t=vY(),e=GO();return Jx=Object.keys||function(n){return t(n,e)},Jx}var Zx={},U5;function km(){return U5||(U5=1,Zx.f=Object.getOwnPropertySymbols),Zx}var ew,W5;function Bhe(){if(W5)return ew;W5=1;var t=Yt(),e=Xe(),r=bn(),n=Ke(),i=Ch(),s=km(),a=Om(),o=Rn(),u=Pm(),c=Object.assign,d=Object.defineProperty,h=e([].concat);return ew=!c||n(function(){if(t&&c({b:1},c(d({},"a",{enumerable:!0,get:function(){d(this,"b",{value:3,enumerable:!1})}}),{b:2})).b!==1)return!0;var f={},p={},m=Symbol("assign detection"),y="abcdefghijklmnopqrst";return f[m]=7,y.split("").forEach(function(x){p[x]=x}),c({},f)[m]!==7||i(c({},p)).join("")!==y})?function(p,m){for(var y=o(p),x=arguments.length,g=1,v=s.f,w=a.f;x>g;)for(var b=u(arguments[g++]),_=v?h(i(b),v(b)):i(b),E=_.length,N=0,S;E>N;)S=_[N++],(!t||r(w,b,S))&&(y[S]=b[S]);return y}:c,ew}var V5;function zhe(){if(V5)return q4;V5=1;var t=je(),e=Bhe();return t({target:"Object",stat:!0,arity:2,forced:Object.assign!==e},{assign:e}),q4}var tw,H5;function Uhe(){if(H5)return tw;H5=1,zhe();var t=dt();return tw=t.Object.assign,tw}var rw,K5;function Whe(){if(K5)return rw;K5=1;var t=Uhe();return rw=t,rw}var nw,G5;function Vhe(){return G5||(G5=1,nw=Whe()),nw}var Hhe=Vhe(),er=Re(Hhe),Y5={},iw,Q5;function ic(){if(Q5)return iw;Q5=1;var t=Xe();return iw=t([].slice),iw}var sw,X5;function Khe(){if(X5)return sw;X5=1;var t=Xe(),e=Os(),r=br(),n=Cr(),i=ic(),s=_h(),a=Function,o=t([].concat),u=t([].join),c={},d=function(h,f,p){if(!n(c,f)){for(var m=[],y=0;y<f;y++)m[y]="a["+y+"]";c[f]=a("C,a","return new C("+u(m,",")+")")}return c[f](h,p)};return sw=s?a.bind:function(f){var p=e(this),m=p.prototype,y=i(arguments,1),x=function(){var v=o(y,i(arguments));return this instanceof x?d(p,v.length,v):p.apply(f,v)};return r(m)&&(x.prototype=m),x},sw}var J5;function Ghe(){if(J5)return Y5;J5=1;var t=je(),e=Khe();return t({target:"Function",proto:!0,forced:Function.bind!==e},{bind:e}),Y5}var aw,Z5;function Or(){if(Z5)return aw;Z5=1;var t=Ot(),e=dt();return aw=function(r,n){var i=e[r+"Prototype"],s=i&&i[n];if(s)return s;var a=t[r],o=a&&a.prototype;return o&&o[n]},aw}var ow,e3;function Yhe(){if(e3)return ow;e3=1,Ghe();var t=Or();return ow=t("Function","bind"),ow}var lw,t3;function Qhe(){if(t3)return lw;t3=1;var t=ir(),e=Yhe(),r=Function.prototype;return lw=function(n){var i=n.bind;return n===r||t(r,n)&&i===r.bind?e:i},lw}var uw,r3;function Xhe(){if(r3)return uw;r3=1;var t=Qhe();return uw=t,uw}var cw,n3;function Jhe(){return n3||(n3=1,cw=Xhe()),cw}var Zhe=Jhe(),ne=Re(Zhe);function YO(t,e,r,n){t.beginPath(),t.arc(e,r,n,0,2*Math.PI,!1),t.closePath()}function efe(t,e,r,n){t.beginPath(),t.rect(e-n,r-n,n*2,n*2),t.closePath()}function tfe(t,e,r,n){t.beginPath(),n*=1.15,r+=.275*n;const i=n*2,s=i/2,a=Math.sqrt(3)/6*i,o=Math.sqrt(i*i-s*s);t.moveTo(e,r-(o-a)),t.lineTo(e+s,r+a),t.lineTo(e-s,r+a),t.lineTo(e,r-(o-a)),t.closePath()}function rfe(t,e,r,n){t.beginPath(),n*=1.15,r-=.275*n;const i=n*2,s=i/2,a=Math.sqrt(3)/6*i,o=Math.sqrt(i*i-s*s);t.moveTo(e,r+(o-a)),t.lineTo(e+s,r-a),t.lineTo(e-s,r-a),t.lineTo(e,r+(o-a)),t.closePath()}function nfe(t,e,r,n){t.beginPath(),n*=.82,r+=.1*n;for(let i=0;i<10;i++){const s=i%2===0?n*1.3:n*.5;t.lineTo(e+s*Math.sin(i*2*Math.PI/10),r-s*Math.cos(i*2*Math.PI/10))}t.closePath()}function ife(t,e,r,n){t.beginPath(),t.lineTo(e,r+n),t.lineTo(e+n,r),t.lineTo(e,r-n),t.lineTo(e-n,r),t.closePath()}function gY(t,e,r,n,i,s){const a=Math.PI/180;n-2*s<0&&(s=n/2),i-2*s<0&&(s=i/2),t.beginPath(),t.moveTo(e+s,r),t.lineTo(e+n-s,r),t.arc(e+n-s,r+s,s,a*270,a*360,!1),t.lineTo(e+n,r+i-s),t.arc(e+n-s,r+i-s,s,0,a*90,!1),t.lineTo(e+s,r+i),t.arc(e+s,r+i-s,s,a*90,a*180,!1),t.lineTo(e,r+s),t.arc(e+s,r+s,s,a*180,a*270,!1),t.closePath()}function Fj(t,e,r,n,i){const s=.5522848,a=n/2*s,o=i/2*s,u=e+n,c=r+i,d=e+n/2,h=r+i/2;t.beginPath(),t.moveTo(e,h),t.bezierCurveTo(e,h-o,d-a,r,d,r),t.bezierCurveTo(d+a,r,u,h-o,u,h),t.bezierCurveTo(u,h+o,d+a,c,d,c),t.bezierCurveTo(d-a,c,e,h+o,e,h),t.closePath()}function yY(t,e,r,n,i){const s=.3333333333333333,a=n,o=i*s,u=.5522848,c=a/2*u,d=o/2*u,h=e+a,f=r+o,p=e+a/2,m=r+o/2,y=r+(i-o/2),x=r+i;t.beginPath(),t.moveTo(h,m),t.bezierCurveTo(h,m+d,p+c,f,p,f),t.bezierCurveTo(p-c,f,e,m+d,e,m),t.bezierCurveTo(e,m-d,p-c,r,p,r),t.bezierCurveTo(p+c,r,h,m-d,h,m),t.lineTo(h,y),t.bezierCurveTo(h,y+d,p+c,x,p,x),t.bezierCurveTo(p-c,x,e,y+d,e,y),t.lineTo(e,m)}function bY(t,e,r,n,i,s){t.beginPath(),t.moveTo(e,r);const a=s.length,o=n-e,u=i-r,c=u/o;let d=Math.sqrt(o*o+u*u),h=0,f=!0,p=0,m=+s[0];for(;d>=.1;)m=+s[h++%a],m>d&&(m=d),p=Math.sqrt(m*m/(1+c*c)),p=o<0?-p:p,e+=p,r+=c*p,f===!0?t.lineTo(e,r):t.moveTo(e,r),d-=m,f=!f}function sfe(t,e,r,n){t.beginPath();const i=6,s=Math.PI*2/i;t.moveTo(e+n,r);for(let a=1;a<i;a++)t.lineTo(e+n*Math.cos(s*a),r+n*Math.sin(s*a));t.closePath()}const i3={circle:YO,dashedLine:bY,database:yY,diamond:ife,ellipse:Fj,ellipse_vis:Fj,hexagon:sfe,roundRect:gY,square:efe,star:nfe,triangle:tfe,triangleDown:rfe};function afe(t){return Object.prototype.hasOwnProperty.call(i3,t)?i3[t]:function(e){for(var r=arguments.length,n=new Array(r>1?r-1:0),i=1;i<r;i++)n[i-1]=arguments[i];CanvasRenderingContext2D.prototype[t].call(e,n)}}var dw={exports:{}},s3;function ofe(){return s3||(s3=1,function(t){t.exports=e;function e(n){if(n)return r(n)}function r(n){for(var i in e.prototype)n[i]=e.prototype[i];return n}e.prototype.on=e.prototype.addEventListener=function(n,i){return this._callbacks=this._callbacks||{},(this._callbacks["$"+n]=this._callbacks["$"+n]||[]).push(i),this},e.prototype.once=function(n,i){function s(){this.off(n,s),i.apply(this,arguments)}return s.fn=i,this.on(n,s),this},e.prototype.off=e.prototype.removeListener=e.prototype.removeAllListeners=e.prototype.removeEventListener=function(n,i){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var s=this._callbacks["$"+n];if(!s)return this;if(arguments.length==1)return delete this._callbacks["$"+n],this;for(var a,o=0;o<s.length;o++)if(a=s[o],a===i||a.fn===i){s.splice(o,1);break}return s.length===0&&delete this._callbacks["$"+n],this},e.prototype.emit=function(n){this._callbacks=this._callbacks||{};for(var i=new Array(arguments.length-1),s=this._callbacks["$"+n],a=1;a<arguments.length;a++)i[a-1]=arguments[a];if(s){s=s.slice(0);for(var a=0,o=s.length;a<o;++a)s[a].apply(this,i)}return this},e.prototype.listeners=function(n){return this._callbacks=this._callbacks||{},this._callbacks["$"+n]||[]},e.prototype.hasListeners=function(n){return!!this.listeners(n).length}}(dw)),dw.exports}var lfe=ofe(),xY=Re(lfe),a3={},hw,o3;function el(){if(o3)return hw;o3=1;var t=Fi();return hw=Array.isArray||function(r){return t(r)==="Array"},hw}var fw,l3;function wY(){if(l3)return fw;l3=1;var t=TypeError,e=9007199254740991;return fw=function(r){if(r>e)throw t("Maximum allowed index exceeded");return r},fw}var pw,u3;function Dm(){if(u3)return pw;u3=1;var t=Yt(),e=Xn(),r=Sh();return pw=function(n,i,s){t?e.f(n,i,r(0,s)):n[i]=s},pw}var mw,c3;function QO(){if(c3)return mw;c3=1;var t=sr(),e=t("toStringTag"),r={};return r[e]="z",mw=String(r)==="[object z]",mw}var vw,d3;function sc(){if(d3)return vw;d3=1;var t=QO(),e=yr(),r=Fi(),n=sr(),i=n("toStringTag"),s=Object,a=r(function(){return arguments}())==="Arguments",o=function(u,c){try{return u[c]}catch{}};return vw=t?r:function(u){var c,d,h;return u===void 0?"Undefined":u===null?"Null":typeof(d=o(c=s(u),i))=="string"?d:a?r(c):(h=r(c))==="Object"&&e(c.callee)?"Arguments":h},vw}var gw,h3;function ufe(){if(h3)return gw;h3=1;var t=Xe(),e=yr(),r=VO(),n=t(Function.toString);return e(r.inspectSource)||(r.inspectSource=function(i){return n(i)}),gw=r.inspectSource,gw}var yw,f3;function _Y(){if(f3)return yw;f3=1;var t=Xe(),e=Ke(),r=yr(),n=sc(),i=In(),s=ufe(),a=function(){},o=i("Reflect","construct"),u=/^\s*(?:class|function)\b/,c=t(u.exec),d=!u.test(a),h=function(m){if(!r(m))return!1;try{return o(a,[],m),!0}catch{return!1}},f=function(m){if(!r(m))return!1;switch(n(m)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return d||!!c(u,s(m))}catch{return!0}};return f.sham=!0,yw=!o||e(function(){var p;return h(h.call)||!h(Object)||!h(function(){p=!0})||p})?f:h,yw}var bw,p3;function cfe(){if(p3)return bw;p3=1;var t=el(),e=_Y(),r=br(),n=sr(),i=n("species"),s=Array;return bw=function(a){var o;return t(a)&&(o=a.constructor,e(o)&&(o===s||t(o.prototype))?o=void 0:r(o)&&(o=o[i],o===null&&(o=void 0))),o===void 0?s:o},bw}var xw,m3;function XO(){if(m3)return xw;m3=1;var t=cfe();return xw=function(e,r){return new(t(e))(r===0?0:r)},xw}var ww,v3;function Oh(){if(v3)return ww;v3=1;var t=Ke(),e=sr(),r=Eh(),n=e("species");return ww=function(i){return r>=51||!t(function(){var s=[],a=s.constructor={};return a[n]=function(){return{foo:1}},s[i](Boolean).foo!==1})},ww}var g3;function SY(){if(g3)return a3;g3=1;var t=je(),e=Ke(),r=el(),n=br(),i=Rn(),s=Ps(),a=wY(),o=Dm(),u=XO(),c=Oh(),d=sr(),h=Eh(),f=d("isConcatSpreadable"),p=h>=51||!e(function(){var x=[];return x[f]=!1,x.concat()[0]!==x}),m=function(x){if(!n(x))return!1;var g=x[f];return g!==void 0?!!g:r(x)},y=!p||!c("concat");return t({target:"Array",proto:!0,arity:1,forced:y},{concat:function(g){var v=i(this),w=u(v,0),b=0,_,E,N,S,j;for(_=-1,N=arguments.length;_<N;_++)if(j=_===-1?v:arguments[_],m(j))for(S=s(j),a(b+S),E=0;E<S;E++,b++)E in j&&o(w,b,j[E]);else a(b+1),o(w,b++,j);return w.length=b,w}}),a3}var y3={},b3={},_w,x3;function Jn(){if(x3)return _w;x3=1;var t=sc(),e=String;return _w=function(r){if(t(r)==="Symbol")throw new TypeError("Cannot convert a Symbol value to a string");return e(r)},_w}var Sw={},w3;function JO(){if(w3)return Sw;w3=1;var t=Yt(),e=pY(),r=Xn(),n=Li(),i=bi(),s=Ch();return Sw.f=t&&!e?Object.defineProperties:function(o,u){n(o);for(var c=i(u),d=s(u),h=d.length,f=0,p;h>f;)r.f(o,p=d[f++],c[p]);return o},Sw}var Ew,_3;function dfe(){if(_3)return Ew;_3=1;var t=In();return Ew=t("document","documentElement"),Ew}var Nw,S3;function Mm(){if(S3)return Nw;S3=1;var t=tc(),e=Tm(),r=t("keys");return Nw=function(n){return r[n]||(r[n]=e(n))},Nw}var jw,E3;function Ph(){if(E3)return jw;E3=1;var t=Li(),e=JO(),r=GO(),n=jh(),i=dfe(),s=hY(),a=Mm(),o=">",u="<",c="prototype",d="script",h=a("IE_PROTO"),f=function(){},p=function(v){return u+d+o+v+u+"/"+d+o},m=function(v){v.write(p("")),v.close();var w=v.parentWindow.Object;return v=null,w},y=function(){var v=s("iframe"),w="java"+d+":",b;return v.style.display="none",i.appendChild(v),v.src=String(w),b=v.contentWindow.document,b.open(),b.write(p("document.F=Object")),b.close(),b.F},x,g=function(){try{x=new ActiveXObject("htmlfile")}catch{}g=typeof document<"u"?document.domain&&x?m(x):y():m(x);for(var v=r.length;v--;)delete g[c][r[v]];return g()};return n[h]=!0,jw=Object.create||function(w,b){var _;return w!==null?(f[c]=t(w),_=new f,f[c]=null,_[h]=w):_=g(),b===void 0?_:e.f(_,b)},jw}var Cw={},N3;function qm(){if(N3)return Cw;N3=1;var t=vY(),e=GO(),r=e.concat("length","prototype");return Cw.f=Object.getOwnPropertyNames||function(i){return t(i,r)},Cw}var Ow={},j3;function ZO(){if(j3)return Ow;j3=1;var t=Fi(),e=bi(),r=qm().f,n=ic(),i=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],s=function(a){try{return r(a)}catch{return n(i)}};return Ow.f=function(o){return i&&t(o)==="Window"?s(o):r(e(o))},Ow}var Pw,C3;function Th(){if(C3)return Pw;C3=1;var t=rc();return Pw=function(e,r,n,i){return i&&i.enumerable?e[r]=n:t(e,r,n),e},Pw}var Tw,O3;function eP(){if(O3)return Tw;O3=1;var t=Xn();return Tw=function(e,r,n){return t.f(e,r,n)},Tw}var Iw={},P3;function Am(){if(P3)return Iw;P3=1;var t=sr();return Iw.f=t,Iw}var Rw,T3;function kt(){if(T3)return Rw;T3=1;var t=dt(),e=Cr(),r=Am(),n=Xn().f;return Rw=function(i){var s=t.Symbol||(t.Symbol={});e(s,i)||n(s,i,{value:r.f(i)})},Rw}var $w,I3;function EY(){if(I3)return $w;I3=1;var t=bn(),e=In(),r=sr(),n=Th();return $w=function(){var i=e("Symbol"),s=i&&i.prototype,a=s&&s.valueOf,o=r("toPrimitive");s&&!s[o]&&n(s,o,function(u){return t(a,this)},{arity:1})},$w}var kw,R3;function hfe(){if(R3)return kw;R3=1;var t=QO(),e=sc();return kw=t?{}.toString:function(){return"[object "+e(this)+"]"},kw}var Dw,$3;function tl(){if($3)return Dw;$3=1;var t=QO(),e=Xn().f,r=rc(),n=Cr(),i=hfe(),s=sr(),a=s("toStringTag");return Dw=function(o,u,c,d){var h=c?o:o&&o.prototype;h&&(n(h,a)||e(h,a,{configurable:!0,value:u}),d&&!t&&r(h,"toString",i))},Dw}var Mw,k3;function NY(){if(k3)return Mw;k3=1;var t=Ot(),e=yr(),r=t.WeakMap;return Mw=e(r)&&/native code/.test(String(r)),Mw}var qw,D3;function rl(){if(D3)return qw;D3=1;var t=NY(),e=Ot(),r=br(),n=rc(),i=Cr(),s=VO(),a=Mm(),o=jh(),u="Object already initialized",c=e.TypeError,d=e.WeakMap,h,f,p,m=function(v){return p(v)?f(v):h(v,{})},y=function(v){return function(w){var b;if(!r(w)||(b=f(w)).type!==v)throw new c("Incompatible receiver, "+v+" required");return b}};if(t||s.state){var x=s.state||(s.state=new d);x.get=x.get,x.has=x.has,x.set=x.set,h=function(v,w){if(x.has(v))throw new c(u);return w.facade=v,x.set(v,w),w},f=function(v){return x.get(v)||{}},p=function(v){return x.has(v)}}else{var g=a("state");o[g]=!0,h=function(v,w){if(i(v,g))throw new c(u);return w.facade=v,n(v,g,w),w},f=function(v){return i(v,g)?v[g]:{}},p=function(v){return i(v,g)}}return qw={set:h,get:f,has:p,enforce:m,getterFor:y},qw}var Aw,M3;function $a(){if(M3)return Aw;M3=1;var t=Rm(),e=Xe(),r=Pm(),n=Rn(),i=Ps(),s=XO(),a=e([].push),o=function(u){var c=u===1,d=u===2,h=u===3,f=u===4,p=u===6,m=u===7,y=u===5||p;return function(x,g,v,w){for(var b=n(x),_=r(b),E=i(_),N=t(g,v),S=0,j=w||s,C=c?j(x,E):d||m?j(x,0):void 0,P,O;E>S;S++)if((y||S in _)&&(P=_[S],O=N(P,S,b),u))if(c)C[S]=O;else if(O)switch(u){case 3:return!0;case 5:return P;case 6:return S;case 2:a(C,P)}else switch(u){case 4:return!1;case 7:a(C,P)}return p?-1:h||f?f:C}};return Aw={forEach:o(0),map:o(1),filter:o(2),some:o(3),every:o(4),find:o(5),findIndex:o(6),filterReject:o(7)},Aw}var q3;function ffe(){if(q3)return b3;q3=1;var t=je(),e=Ot(),r=bn(),n=Xe(),i=ec(),s=Yt(),a=Ju(),o=Ke(),u=Cr(),c=ir(),d=Li(),h=bi(),f=HO(),p=Jn(),m=Sh(),y=Ph(),x=Ch(),g=qm(),v=ZO(),w=km(),b=Im(),_=Xn(),E=JO(),N=Om(),S=Th(),j=eP(),C=tc(),P=Mm(),O=jh(),I=Tm(),M=sr(),k=Am(),H=kt(),W=EY(),A=tl(),K=rl(),U=$a().forEach,z=P("hidden"),G="Symbol",ce="prototype",ve=K.set,Ie=K.getterFor(G),me=Object[ce],Ee=e.Symbol,ke=Ee&&Ee[ce],tt=e.RangeError,Ut=e.TypeError,ht=e.QObject,J=b.f,Ne=_.f,Fe=v.f,Ge=N.f,Wt=n([].push),Ce=C("symbols"),We=C("op-symbols"),Et=C("wks"),Nt=!ht||!ht[ce]||!ht[ce].findChild,$=function(be,Z,ue){var oe=J(me,Z);oe&&delete me[Z],Ne(be,Z,ue),oe&&be!==me&&Ne(me,Z,oe)},q=s&&o(function(){return y(Ne({},"a",{get:function(){return Ne(this,"a",{value:7}).a}})).a!==7})?$:Ne,L=function(be,Z){var ue=Ce[be]=y(ke);return ve(ue,{type:G,tag:be,description:Z}),s||(ue.description=Z),ue},se=function(Z,ue,oe){Z===me&&se(We,ue,oe),d(Z);var _e=f(ue);return d(oe),u(Ce,_e)?(oe.enumerable?(u(Z,z)&&Z[z][_e]&&(Z[z][_e]=!1),oe=y(oe,{enumerable:m(0,!1)})):(u(Z,z)||Ne(Z,z,m(1,y(null))),Z[z][_e]=!0),q(Z,_e,oe)):Ne(Z,_e,oe)},ee=function(Z,ue){d(Z);var oe=h(ue),_e=x(oe).concat(Ye(oe));return U(_e,function(Le){(!s||r(V,oe,Le))&&se(Z,Le,oe[Le])}),Z},Q=function(Z,ue){return ue===void 0?y(Z):ee(y(Z),ue)},V=function(Z){var ue=f(Z),oe=r(Ge,this,ue);return this===me&&u(Ce,ue)&&!u(We,ue)?!1:oe||!u(this,ue)||!u(Ce,ue)||u(this,z)&&this[z][ue]?oe:!0},le=function(Z,ue){var oe=h(Z),_e=f(ue);if(!(oe===me&&u(Ce,_e)&&!u(We,_e))){var Le=J(oe,_e);return Le&&u(Ce,_e)&&!(u(oe,z)&&oe[z][_e])&&(Le.enumerable=!0),Le}},pe=function(Z){var ue=Fe(h(Z)),oe=[];return U(ue,function(_e){!u(Ce,_e)&&!u(O,_e)&&Wt(oe,_e)}),oe},Ye=function(be){var Z=be===me,ue=Fe(Z?We:h(be)),oe=[];return U(ue,function(_e){u(Ce,_e)&&(!Z||u(me,_e))&&Wt(oe,Ce[_e])}),oe};return a||(Ee=function(){if(c(ke,this))throw new Ut("Symbol is not a constructor");var Z=!arguments.length||arguments[0]===void 0?void 0:p(arguments[0]),ue=I(Z),oe=function(_e){var Le=this===void 0?e:this;Le===me&&r(oe,We,_e),u(Le,z)&&u(Le[z],ue)&&(Le[z][ue]=!1);var Jr=m(1,_e);try{q(Le,ue,Jr)}catch($n){if(!($n instanceof tt))throw $n;$(Le,ue,Jr)}};return s&&Nt&&q(me,ue,{configurable:!0,set:oe}),L(ue,Z)},ke=Ee[ce],S(ke,"toString",function(){return Ie(this).tag}),S(Ee,"withoutSetter",function(be){return L(I(be),be)}),N.f=V,_.f=se,E.f=ee,b.f=le,g.f=v.f=pe,w.f=Ye,k.f=function(be){return L(M(be),be)},s&&(j(ke,"description",{configurable:!0,get:function(){return Ie(this).description}}),i||S(me,"propertyIsEnumerable",V,{unsafe:!0}))),t({global:!0,constructor:!0,wrap:!0,forced:!a,sham:!a},{Symbol:Ee}),U(x(Et),function(be){H(be)}),t({target:G,stat:!0,forced:!a},{useSetter:function(){Nt=!0},useSimple:function(){Nt=!1}}),t({target:"Object",stat:!0,forced:!a,sham:!s},{create:Q,defineProperty:se,defineProperties:ee,getOwnPropertyDescriptor:le}),t({target:"Object",stat:!0,forced:!a},{getOwnPropertyNames:pe}),W(),A(Ee,G),O[z]=!0,b3}var A3={},Fw,F3;function jY(){if(F3)return Fw;F3=1;var t=Ju();return Fw=t&&!!Symbol.for&&!!Symbol.keyFor,Fw}var L3;function pfe(){if(L3)return A3;L3=1;var t=je(),e=In(),r=Cr(),n=Jn(),i=tc(),s=jY(),a=i("string-to-symbol-registry"),o=i("symbol-to-string-registry");return t({target:"Symbol",stat:!0,forced:!s},{for:function(u){var c=n(u);if(r(a,c))return a[c];var d=e("Symbol")(c);return a[c]=d,o[d]=c,d}}),A3}var B3={},z3;function mfe(){if(z3)return B3;z3=1;var t=je(),e=Cr(),r=Nh(),n=Zu(),i=tc(),s=jY(),a=i("symbol-to-string-registry");return t({target:"Symbol",stat:!0,forced:!s},{keyFor:function(u){if(!r(u))throw new TypeError(n(u)+" is not a symbol");if(e(a,u))return a[u]}}),B3}var U3={},Lw,W3;function vfe(){if(W3)return Lw;W3=1;var t=Xe(),e=el(),r=yr(),n=Fi(),i=Jn(),s=t([].push);return Lw=function(a){if(r(a))return a;if(e(a)){for(var o=a.length,u=[],c=0;c<o;c++){var d=a[c];typeof d=="string"?s(u,d):(typeof d=="number"||n(d)==="Number"||n(d)==="String")&&s(u,i(d))}var h=u.length,f=!0;return function(p,m){if(f)return f=!1,m;if(e(this))return m;for(var y=0;y<h;y++)if(u[y]===p)return m}}},Lw}var V3;function CY(){if(V3)return U3;V3=1;var t=je(),e=In(),r=Cm(),n=bn(),i=Xe(),s=Ke(),a=yr(),o=Nh(),u=ic(),c=vfe(),d=Ju(),h=String,f=e("JSON","stringify"),p=i(/./.exec),m=i("".charAt),y=i("".charCodeAt),x=i("".replace),g=i(1.1.toString),v=/[\uD800-\uDFFF]/g,w=/^[\uD800-\uDBFF]$/,b=/^[\uDC00-\uDFFF]$/,_=!d||s(function(){var j=e("Symbol")("stringify detection");return f([j])!=="[null]"||f({a:j})!=="{}"||f(Object(j))!=="{}"}),E=s(function(){return f("\uDF06\uD834")!=='"\\udf06\\ud834"'||f("\uDEAD")!=='"\\udead"'}),N=function(j,C){var P=u(arguments),O=c(C);if(!(!a(O)&&(j===void 0||o(j))))return P[1]=function(I,M){if(a(O)&&(M=n(O,this,h(I),M)),!o(M))return M},r(f,null,P)},S=function(j,C,P){var O=m(P,C-1),I=m(P,C+1);return p(w,j)&&!p(b,I)||p(b,j)&&!p(w,O)?"\\u"+g(y(j,0),16):j};return f&&t({target:"JSON",stat:!0,arity:3,forced:_||E},{stringify:function(C,P,O){var I=u(arguments),M=r(_?N:f,null,I);return E&&typeof M=="string"?x(M,v,S):M}}),U3}var H3={},K3;function gfe(){if(K3)return H3;K3=1;var t=je(),e=Ju(),r=Ke(),n=km(),i=Rn(),s=!e||r(function(){n.f(1)});return t({target:"Object",stat:!0,forced:s},{getOwnPropertySymbols:function(o){var u=n.f;return u?u(i(o)):[]}}),H3}var G3;function OY(){return G3||(G3=1,ffe(),pfe(),mfe(),CY(),gfe()),y3}var Y3={},Q3;function PY(){if(Q3)return Y3;Q3=1;var t=kt();return t("asyncDispose"),Y3}var X3={},J3;function yfe(){if(J3)return X3;J3=1;var t=kt();return t("asyncIterator"),X3}var Z3={},eL;function TY(){if(eL)return Z3;eL=1;var t=kt();return t("dispose"),Z3}var tL={},rL;function bfe(){if(rL)return tL;rL=1;var t=kt();return t("hasInstance"),tL}var nL={},iL;function xfe(){if(iL)return nL;iL=1;var t=kt();return t("isConcatSpreadable"),nL}var sL={},aL;function IY(){if(aL)return sL;aL=1;var t=kt();return t("iterator"),sL}var oL={},lL;function wfe(){if(lL)return oL;lL=1;var t=kt();return t("match"),oL}var uL={},cL;function _fe(){if(cL)return uL;cL=1;var t=kt();return t("matchAll"),uL}var dL={},hL;function Sfe(){if(hL)return dL;hL=1;var t=kt();return t("replace"),dL}var fL={},pL;function Efe(){if(pL)return fL;pL=1;var t=kt();return t("search"),fL}var mL={},vL;function Nfe(){if(vL)return mL;vL=1;var t=kt();return t("species"),mL}var gL={},yL;function jfe(){if(yL)return gL;yL=1;var t=kt();return t("split"),gL}var bL={},xL;function RY(){if(xL)return bL;xL=1;var t=kt(),e=EY();return t("toPrimitive"),e(),bL}var wL={},_L;function Cfe(){if(_L)return wL;_L=1;var t=In(),e=kt(),r=tl();return e("toStringTag"),r(t("Symbol"),"Symbol"),wL}var SL={},EL;function Ofe(){if(EL)return SL;EL=1;var t=kt();return t("unscopables"),SL}var NL={},jL;function Pfe(){if(jL)return NL;jL=1;var t=Ot(),e=tl();return e(t.JSON,"JSON",!0),NL}var Bw,CL;function Tfe(){if(CL)return Bw;CL=1,SY(),OY(),PY(),yfe(),TY(),bfe(),xfe(),IY(),wfe(),_fe(),Sfe(),Efe(),Nfe(),jfe(),RY(),Cfe(),Ofe(),Pfe();var t=dt();return Bw=t.Symbol,Bw}var OL={},zw,PL;function tP(){return PL||(PL=1,zw=function(){}),zw}var Uw,TL;function ac(){return TL||(TL=1,Uw={}),Uw}var Ww,IL;function Ife(){if(IL)return Ww;IL=1;var t=Yt(),e=Cr(),r=Function.prototype,n=t&&Object.getOwnPropertyDescriptor,i=e(r,"name"),s=i&&(function(){}).name==="something",a=i&&(!t||t&&n(r,"name").configurable);return Ww={EXISTS:i,PROPER:s,CONFIGURABLE:a},Ww}var Vw,RL;function $Y(){if(RL)return Vw;RL=1;var t=Ke();return Vw=!t(function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype}),Vw}var Hw,$L;function Fm(){if($L)return Hw;$L=1;var t=Cr(),e=yr(),r=Rn(),n=Mm(),i=$Y(),s=n("IE_PROTO"),a=Object,o=a.prototype;return Hw=i?a.getPrototypeOf:function(u){var c=r(u);if(t(c,s))return c[s];var d=c.constructor;return e(d)&&c instanceof d?d.prototype:c instanceof a?o:null},Hw}var Kw,kL;function kY(){if(kL)return Kw;kL=1;var t=Ke(),e=yr(),r=br(),n=Ph(),i=Fm(),s=Th(),a=sr(),o=ec(),u=a("iterator"),c=!1,d,h,f;[].keys&&(f=[].keys(),"next"in f?(h=i(i(f)),h!==Object.prototype&&(d=h)):c=!0);var p=!r(d)||t(function(){var m={};return d[u].call(m)!==m});return p?d={}:o&&(d=n(d)),e(d[u])||s(d,u,function(){return this}),Kw={IteratorPrototype:d,BUGGY_SAFARI_ITERATORS:c},Kw}var Gw,DL;function Rfe(){if(DL)return Gw;DL=1;var t=kY().IteratorPrototype,e=Ph(),r=Sh(),n=tl(),i=ac(),s=function(){return this};return Gw=function(a,o,u,c){var d=o+" Iterator";return a.prototype=e(t,{next:r(+!c,u)}),n(a,d,!1,!0),i[d]=s,a},Gw}var Yw,ML;function $fe(){if(ML)return Yw;ML=1;var t=Xe(),e=Os();return Yw=function(r,n,i){try{return t(e(Object.getOwnPropertyDescriptor(r,n)[i]))}catch{}},Yw}var Qw,qL;function kfe(){if(qL)return Qw;qL=1;var t=br();return Qw=function(e){return t(e)||e===null},Qw}var Xw,AL;function Dfe(){if(AL)return Xw;AL=1;var t=kfe(),e=String,r=TypeError;return Xw=function(n){if(t(n))return n;throw new r("Can't set "+e(n)+" as a prototype")},Xw}var Jw,FL;function Mfe(){if(FL)return Jw;FL=1;var t=$fe(),e=br(),r=Cs(),n=Dfe();return Jw=Object.setPrototypeOf||("__proto__"in{}?function(){var i=!1,s={},a;try{a=t(Object.prototype,"__proto__","set"),a(s,[]),i=s instanceof Array}catch{}return function(u,c){return r(u),n(c),e(u)&&(i?a(u,c):u.__proto__=c),u}}():void 0),Jw}var Zw,LL;function rP(){if(LL)return Zw;LL=1;var t=je(),e=bn(),r=ec(),n=Ife(),i=yr(),s=Rfe(),a=Fm(),o=Mfe(),u=tl(),c=rc(),d=Th(),h=sr(),f=ac(),p=kY(),m=n.PROPER,y=n.CONFIGURABLE,x=p.IteratorPrototype,g=p.BUGGY_SAFARI_ITERATORS,v=h("iterator"),w="keys",b="values",_="entries",E=function(){return this};return Zw=function(N,S,j,C,P,O,I){s(j,S,C);var M=function(ve){if(ve===P&&K)return K;if(!g&&ve&&ve in W)return W[ve];switch(ve){case w:return function(){return new j(this,ve)};case b:return function(){return new j(this,ve)};case _:return function(){return new j(this,ve)}}return function(){return new j(this)}},k=S+" Iterator",H=!1,W=N.prototype,A=W[v]||W["@@iterator"]||P&&W[P],K=!g&&A||M(P),U=S==="Array"&&W.entries||A,z,G,ce;if(U&&(z=a(U.call(new N)),z!==Object.prototype&&z.next&&(!r&&a(z)!==x&&(o?o(z,x):i(z[v])||d(z,v,E)),u(z,k,!0,!0),r&&(f[k]=E))),m&&P===b&&A&&A.name!==b&&(!r&&y?c(W,"name",b):(H=!0,K=function(){return e(A,this)})),P)if(G={values:M(b),keys:O?K:M(w),entries:M(_)},I)for(ce in G)(g||H||!(ce in W))&&d(W,ce,G[ce]);else t({target:S,proto:!0,forced:g||H},G);return(!r||I)&&W[v]!==K&&d(W,v,K,{name:P}),f[S]=K,G},Zw}var e_,BL;function nP(){return BL||(BL=1,e_=function(t,e){return{value:t,done:e}}),e_}var t_,zL;function oc(){if(zL)return t_;zL=1;var t=bi(),e=tP(),r=ac(),n=rl(),i=Xn().f,s=rP(),a=nP(),o=ec(),u=Yt(),c="Array Iterator",d=n.set,h=n.getterFor(c);t_=s(Array,"Array",function(p,m){d(this,{type:c,target:t(p),index:0,kind:m})},function(){var p=h(this),m=p.target,y=p.index++;if(!m||y>=m.length)return p.target=null,a(void 0,!0);switch(p.kind){case"keys":return a(y,!1);case"values":return a(m[y],!1)}return a([y,m[y]],!1)},"values");var f=r.Arguments=r.Array;if(e("keys"),e("values"),e("entries"),!o&&u&&f.name!=="values")try{i(f,"name",{value:"values"})}catch{}return t_}var r_,UL;function qfe(){return UL||(UL=1,r_={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}),r_}var WL;function lc(){if(WL)return OL;WL=1,oc();var t=qfe(),e=Ot(),r=tl(),n=ac();for(var i in t)r(e[i],i),n[i]=n.Array;return OL}var n_,VL;function DY(){if(VL)return n_;VL=1;var t=Tfe();return lc(),n_=t,n_}var i_,HL;function Afe(){return HL||(HL=1,i_=DY()),i_}var Ffe=Afe(),Lfe=Re(Ffe),KL={},GL;function Bfe(){if(GL)return KL;GL=1;var t=je(),e=el(),r=_Y(),n=br(),i=$m(),s=Ps(),a=bi(),o=Dm(),u=sr(),c=Oh(),d=ic(),h=c("slice"),f=u("species"),p=Array,m=Math.max;return t({target:"Array",proto:!0,forced:!h},{slice:function(x,g){var v=a(this),w=s(v),b=i(x,w),_=i(g===void 0?w:g,w),E,N,S;if(e(v)&&(E=v.constructor,r(E)&&(E===p||e(E.prototype))?E=void 0:n(E)&&(E=E[f],E===null&&(E=void 0)),E===p||E===void 0))return d(v,b,_);for(N=new(E===void 0?p:E)(m(_-b,0)),S=0;b<_;b++,S++)b in v&&o(N,S,v[b]);return N.length=S,N}}),KL}var s_,YL;function zfe(){if(YL)return s_;YL=1,Bfe();var t=Or();return s_=t("Array","slice"),s_}var a_,QL;function Ufe(){if(QL)return a_;QL=1;var t=ir(),e=zfe(),r=Array.prototype;return a_=function(n){var i=n.slice;return n===r||t(r,n)&&i===r.slice?e:i},a_}var o_,XL;function Wfe(){if(XL)return o_;XL=1;var t=Ufe();return o_=t,o_}var l_,JL;function Vfe(){return JL||(JL=1,l_=Wfe()),l_}var Hfe=Vfe(),Pi=Re(Hfe),u_,ZL;function Kfe(){if(ZL)return u_;ZL=1;var t=In(),e=Xe(),r=qm(),n=km(),i=Li(),s=e([].concat);return u_=t("Reflect","ownKeys")||function(o){var u=r.f(i(o)),c=n.f;return c?s(u,c(o)):u},u_}var e6={},t6;function Gfe(){if(t6)return e6;t6=1;var t=je(),e=el();return t({target:"Array",stat:!0},{isArray:e}),e6}var c_,r6;function Yfe(){if(r6)return c_;r6=1,Gfe();var t=dt();return c_=t.Array.isArray,c_}var d_,n6;function Qfe(){if(n6)return d_;n6=1;var t=Yfe();return d_=t,d_}var h_,i6;function Xfe(){return i6||(i6=1,h_=Qfe()),h_}var Jfe=Xfe(),zt=Re(Jfe),s6={},a6;function Zfe(){if(a6)return s6;a6=1;var t=je(),e=$a().map,r=Oh(),n=r("map");return t({target:"Array",proto:!0,forced:!n},{map:function(s){return e(this,s,arguments.length>1?arguments[1]:void 0)}}),s6}var f_,o6;function epe(){if(o6)return f_;o6=1,Zfe();var t=Or();return f_=t("Array","map"),f_}var p_,l6;function tpe(){if(l6)return p_;l6=1;var t=ir(),e=epe(),r=Array.prototype;return p_=function(n){var i=n.map;return n===r||t(r,n)&&i===r.map?e:i},p_}var m_,u6;function rpe(){if(u6)return m_;u6=1;var t=tpe();return m_=t,m_}var v_,c6;function npe(){return c6||(c6=1,v_=rpe()),v_}var ipe=npe(),Nu=Re(ipe),d6={},h6;function spe(){if(h6)return d6;h6=1;var t=je(),e=Rn(),r=Ch(),n=Ke(),i=n(function(){r(1)});return t({target:"Object",stat:!0,forced:i},{keys:function(a){return r(e(a))}}),d6}var g_,f6;function ape(){if(f6)return g_;f6=1,spe();var t=dt();return g_=t.Object.keys,g_}var y_,p6;function ope(){if(p6)return y_;p6=1;var t=ape();return y_=t,y_}var b_,m6;function lpe(){return m6||(m6=1,b_=ope()),b_}var upe=lpe(),Ft=Re(upe),v6={},g6;function cpe(){if(g6)return v6;g6=1;var t=je(),e=Xe(),r=Date,n=e(r.prototype.getTime);return t({target:"Date",stat:!0},{now:function(){return n(new r)}}),v6}var x_,y6;function dpe(){if(y6)return x_;y6=1,cpe();var t=dt();return x_=t.Date.now,x_}var w_,b6;function hpe(){if(b6)return w_;b6=1;var t=dpe();return w_=t,w_}var __,x6;function fpe(){return x6||(x6=1,__=hpe()),__}var ppe=fpe(),Rp=Re(ppe),w6={},S_,_6;function uc(){if(_6)return S_;_6=1;var t=Ke();return S_=function(e,r){var n=[][e];return!!n&&t(function(){n.call(null,r||function(){return 1},1)})},S_}var E_,S6;function mpe(){if(S6)return E_;S6=1;var t=$a().forEach,e=uc(),r=e("forEach");return E_=r?[].forEach:function(i){return t(this,i,arguments.length>1?arguments[1]:void 0)},E_}var E6;function vpe(){if(E6)return w6;E6=1;var t=je(),e=mpe();return t({target:"Array",proto:!0,forced:[].forEach!==e},{forEach:e}),w6}var N_,N6;function gpe(){if(N6)return N_;N6=1,vpe();var t=Or();return N_=t("Array","forEach"),N_}var j_,j6;function ype(){if(j6)return j_;j6=1;var t=gpe();return j_=t,j_}var C_,C6;function bpe(){if(C6)return C_;C6=1;var t=sc(),e=Cr(),r=ir(),n=ype(),i=Array.prototype,s={DOMTokenList:!0,NodeList:!0};return C_=function(a){var o=a.forEach;return a===i||r(i,a)&&o===i.forEach||e(s,t(a))?n:o},C_}var O_,O6;function xpe(){return O6||(O6=1,O_=bpe()),O_}var wpe=xpe(),pt=Re(wpe),P6={},T6;function _pe(){if(T6)return P6;T6=1;var t=je(),e=Xe(),r=el(),n=e([].reverse),i=[1,2];return t({target:"Array",proto:!0,forced:String(i)===String(i.reverse())},{reverse:function(){return r(this)&&(this.length=this.length),n(this)}}),P6}var P_,I6;function Spe(){if(I6)return P_;I6=1,_pe();var t=Or();return P_=t("Array","reverse"),P_}var T_,R6;function Epe(){if(R6)return T_;R6=1;var t=ir(),e=Spe(),r=Array.prototype;return T_=function(n){var i=n.reverse;return n===r||t(r,n)&&i===r.reverse?e:i},T_}var I_,$6;function Npe(){if($6)return I_;$6=1;var t=Epe();return I_=t,I_}var R_,k6;function jpe(){return k6||(k6=1,R_=Npe()),R_}var Cpe=jpe(),go=Re(Cpe),D6={},$_,M6;function Ope(){if(M6)return $_;M6=1;var t=Yt(),e=el(),r=TypeError,n=Object.getOwnPropertyDescriptor,i=t&&!function(){if(this!==void 0)return!0;try{Object.defineProperty([],"length",{writable:!1}).length=1}catch(s){return s instanceof TypeError}}();return $_=i?function(s,a){if(e(s)&&!n(s,"length").writable)throw new r("Cannot set read only .length");return s.length=a}:function(s,a){return s.length=a},$_}var k_,q6;function MY(){if(q6)return k_;q6=1;var t=Zu(),e=TypeError;return k_=function(r,n){if(!delete r[n])throw new e("Cannot delete property "+t(n)+" of "+t(r))},k_}var A6;function Ppe(){if(A6)return D6;A6=1;var t=je(),e=Rn(),r=$m(),n=nc(),i=Ps(),s=Ope(),a=wY(),o=XO(),u=Dm(),c=MY(),d=Oh(),h=d("splice"),f=Math.max,p=Math.min;return t({target:"Array",proto:!0,forced:!h},{splice:function(y,x){var g=e(this),v=i(g),w=r(y,v),b=arguments.length,_,E,N,S,j,C;for(b===0?_=E=0:b===1?(_=0,E=v-w):(_=b-2,E=p(f(n(x),0),v-w)),a(v+_-E),N=o(g,E),S=0;S<E;S++)j=w+S,j in g&&u(N,S,g[j]);if(N.length=E,_<E){for(S=w;S<v-E;S++)j=S+E,C=S+_,j in g?g[C]=g[j]:c(g,C);for(S=v;S>v-E+_;S--)c(g,S-1)}else if(_>E)for(S=v-E;S>w;S--)j=S+E-1,C=S+_-1,j in g?g[C]=g[j]:c(g,C);for(S=0;S<_;S++)g[S+w]=arguments[S+2];return s(g,v-E+_),N}}),D6}var D_,F6;function Tpe(){if(F6)return D_;F6=1,Ppe();var t=Or();return D_=t("Array","splice"),D_}var M_,L6;function Ipe(){if(L6)return M_;L6=1;var t=ir(),e=Tpe(),r=Array.prototype;return M_=function(n){var i=n.splice;return n===r||t(r,n)&&i===r.splice?e:i},M_}var q_,B6;function Rpe(){if(B6)return q_;B6=1;var t=Ipe();return q_=t,q_}var A_,z6;function $pe(){return z6||(z6=1,A_=Rpe()),A_}var kpe=$pe(),os=Re(kpe),U6={},W6;function Dpe(){if(W6)return U6;W6=1;var t=je(),e=KO().includes,r=Ke(),n=tP(),i=r(function(){return!Array(1).includes()});return t({target:"Array",proto:!0,forced:i},{includes:function(a){return e(this,a,arguments.length>1?arguments[1]:void 0)}}),n("includes"),U6}var F_,V6;function Mpe(){if(V6)return F_;V6=1,Dpe();var t=Or();return F_=t("Array","includes"),F_}var H6={},L_,K6;function qpe(){if(K6)return L_;K6=1;var t=br(),e=Fi(),r=sr(),n=r("match");return L_=function(i){var s;return t(i)&&((s=i[n])!==void 0?!!s:e(i)==="RegExp")},L_}var B_,G6;function Ape(){if(G6)return B_;G6=1;var t=qpe(),e=TypeError;return B_=function(r){if(t(r))throw new e("The method doesn't accept regular expressions");return r},B_}var z_,Y6;function Fpe(){if(Y6)return z_;Y6=1;var t=sr(),e=t("match");return z_=function(r){var n=/./;try{"/./"[r](n)}catch{try{return n[e]=!1,"/./"[r](n)}catch{}}return!1},z_}var Q6;function Lpe(){if(Q6)return H6;Q6=1;var t=je(),e=Xe(),r=Ape(),n=Cs(),i=Jn(),s=Fpe(),a=e("".indexOf);return t({target:"String",proto:!0,forced:!s("includes")},{includes:function(u){return!!~a(i(n(this)),i(r(u)),arguments.length>1?arguments[1]:void 0)}}),H6}var U_,X6;function Bpe(){if(X6)return U_;X6=1,Lpe();var t=Or();return U_=t("String","includes"),U_}var W_,J6;function zpe(){if(J6)return W_;J6=1;var t=ir(),e=Mpe(),r=Bpe(),n=Array.prototype,i=String.prototype;return W_=function(s){var a=s.includes;return s===n||t(n,s)&&a===n.includes?e:typeof s=="string"||s===i||t(i,s)&&a===i.includes?r:a},W_}var V_,Z6;function Upe(){if(Z6)return V_;Z6=1;var t=zpe();return V_=t,V_}var H_,eB;function Wpe(){return eB||(eB=1,H_=Upe()),H_}var Vpe=Wpe(),pa=Re(Vpe),tB={},rB;function Hpe(){if(rB)return tB;rB=1;var t=je(),e=Ke(),r=Rn(),n=Fm(),i=$Y(),s=e(function(){n(1)});return t({target:"Object",stat:!0,forced:s,sham:!i},{getPrototypeOf:function(o){return n(r(o))}}),tB}var K_,nB;function Kpe(){if(nB)return K_;nB=1,Hpe();var t=dt();return K_=t.Object.getPrototypeOf,K_}var G_,iB;function Gpe(){if(iB)return G_;iB=1;var t=Kpe();return G_=t,G_}var Y_,sB;function Ype(){return sB||(sB=1,Y_=Gpe()),Y_}var Qpe=Ype(),aB=Re(Qpe),Q_,oB;function Xpe(){if(oB)return Q_;oB=1,SY();var t=Or();return Q_=t("Array","concat"),Q_}var X_,lB;function Jpe(){if(lB)return X_;lB=1;var t=ir(),e=Xpe(),r=Array.prototype;return X_=function(n){var i=n.concat;return n===r||t(r,n)&&i===r.concat?e:i},X_}var J_,uB;function Zpe(){if(uB)return J_;uB=1;var t=Jpe();return J_=t,J_}var Z_,cB;function eme(){return cB||(cB=1,Z_=Zpe()),Z_}var tme=eme(),rme=Re(tme),dB={},hB;function nme(){if(hB)return dB;hB=1;var t=je(),e=$a().filter,r=Oh(),n=r("filter");return t({target:"Array",proto:!0,forced:!n},{filter:function(s){return e(this,s,arguments.length>1?arguments[1]:void 0)}}),dB}var eS,fB;function ime(){if(fB)return eS;fB=1,nme();var t=Or();return eS=t("Array","filter"),eS}var tS,pB;function sme(){if(pB)return tS;pB=1;var t=ir(),e=ime(),r=Array.prototype;return tS=function(n){var i=n.filter;return n===r||t(r,n)&&i===r.filter?e:i},tS}var rS,mB;function ame(){if(mB)return rS;mB=1;var t=sme();return rS=t,rS}var nS,vB;function ome(){return vB||(vB=1,nS=ame()),nS}var lme=ome(),an=Re(lme),gB={},iS,yB;function ume(){if(yB)return iS;yB=1;var t=Yt(),e=Ke(),r=Xe(),n=Fm(),i=Ch(),s=bi(),a=Om().f,o=r(a),u=r([].push),c=t&&e(function(){var h=Object.create(null);return h[2]=2,!o(h,2)}),d=function(h){return function(f){for(var p=s(f),m=i(p),y=c&&n(p)===null,x=m.length,g=0,v=[],w;x>g;)w=m[g++],(!t||(y?w in p:o(p,w)))&&u(v,h?[w,p[w]]:p[w]);return v}};return iS={entries:d(!0),values:d(!1)},iS}var bB;function cme(){if(bB)return gB;bB=1;var t=je(),e=ume().values;return t({target:"Object",stat:!0},{values:function(n){return e(n)}}),gB}var sS,xB;function dme(){if(xB)return sS;xB=1,cme();var t=dt();return sS=t.Object.values,sS}var aS,wB;function hme(){if(wB)return aS;wB=1;var t=dme();return aS=t,aS}var oS,_B;function fme(){return _B||(_B=1,oS=hme()),oS}var pme=fme(),mme=Re(pme),SB={},lS,EB;function iP(){return EB||(EB=1,lS=`	
\v\f\r \u2028\u2029\uFEFF`),lS}var uS,NB;function qY(){if(NB)return uS;NB=1;var t=Xe(),e=Cs(),r=Jn(),n=iP(),i=t("".replace),s=RegExp("^["+n+"]+"),a=RegExp("(^|[^"+n+"])["+n+"]+$"),o=function(u){return function(c){var d=r(e(c));return u&1&&(d=i(d,s,"")),u&2&&(d=i(d,a,"$1")),d}};return uS={start:o(1),end:o(2),trim:o(3)},uS}var cS,jB;function vme(){if(jB)return cS;jB=1;var t=Ot(),e=Ke(),r=Xe(),n=Jn(),i=qY().trim,s=iP(),a=t.parseInt,o=t.Symbol,u=o&&o.iterator,c=/^[+-]?0x/i,d=r(c.exec),h=a(s+"08")!==8||a(s+"0x16")!==22||u&&!e(function(){a(Object(u))});return cS=h?function(p,m){var y=i(n(p));return a(y,m>>>0||(d(c,y)?16:10))}:a,cS}var CB;function gme(){if(CB)return SB;CB=1;var t=je(),e=vme();return t({global:!0,forced:parseInt!==e},{parseInt:e}),SB}var dS,OB;function yme(){if(OB)return dS;OB=1,gme();var t=dt();return dS=t.parseInt,dS}var hS,PB;function bme(){if(PB)return hS;PB=1;var t=yme();return hS=t,hS}var fS,TB;function xme(){return TB||(TB=1,fS=bme()),fS}var wme=xme(),ui=Re(wme),IB={},RB;function _me(){if(RB)return IB;RB=1;var t=je(),e=UO(),r=KO().indexOf,n=uc(),i=e([].indexOf),s=!!i&&1/i([1],1,-0)<0,a=s||!n("indexOf");return t({target:"Array",proto:!0,forced:a},{indexOf:function(u){var c=arguments.length>1?arguments[1]:void 0;return s?i(this,u,c)||0:r(this,u,c)}}),IB}var pS,$B;function Sme(){if($B)return pS;$B=1,_me();var t=Or();return pS=t("Array","indexOf"),pS}var mS,kB;function Eme(){if(kB)return mS;kB=1;var t=ir(),e=Sme(),r=Array.prototype;return mS=function(n){var i=n.indexOf;return n===r||t(r,n)&&i===r.indexOf?e:i},mS}var vS,DB;function Nme(){if(DB)return vS;DB=1;var t=Eme();return vS=t,vS}var gS,MB;function jme(){return MB||(MB=1,gS=Nme()),gS}var Cme=jme(),ot=Re(Cme),qB={},AB;function Ome(){if(AB)return qB;AB=1;var t=je(),e=Yt(),r=Ph();return t({target:"Object",stat:!0,sham:!e},{create:r}),qB}var yS,FB;function Pme(){if(FB)return yS;FB=1,Ome();var t=dt(),e=t.Object;return yS=function(n,i){return e.create(n,i)},yS}var bS,LB;function Tme(){if(LB)return bS;LB=1;var t=Pme();return bS=t,bS}var xS,BB;function Ime(){return BB||(BB=1,xS=Tme()),xS}var Rme=Ime(),yo=Re(Rme),zB={},wS,UB;function $me(){if(UB)return wS;UB=1;var t=nc(),e=Jn(),r=Cs(),n=RangeError;return wS=function(s){var a=e(r(this)),o="",u=t(s);if(u<0||u===1/0)throw new n("Wrong number of repetitions");for(;u>0;(u>>>=1)&&(a+=a))u&1&&(o+=a);return o},wS}var _S,WB;function kme(){if(WB)return _S;WB=1;var t=Xe(),e=mY(),r=Jn(),n=$me(),i=Cs(),s=t(n),a=t("".slice),o=Math.ceil,u=function(c){return function(d,h,f){var p=r(i(d)),m=e(h),y=p.length,x=f===void 0?" ":r(f),g,v;return m<=y||x===""?p:(g=m-y,v=s(x,o(g/x.length)),v.length>g&&(v=a(v,0,g)),c?p+v:v+p)}};return _S={start:u(!1),end:u(!0)},_S}var SS,VB;function Dme(){if(VB)return SS;VB=1;var t=Xe(),e=Ke(),r=kme().start,n=RangeError,i=isFinite,s=Math.abs,a=Date.prototype,o=a.toISOString,u=t(a.getTime),c=t(a.getUTCDate),d=t(a.getUTCFullYear),h=t(a.getUTCHours),f=t(a.getUTCMilliseconds),p=t(a.getUTCMinutes),m=t(a.getUTCMonth),y=t(a.getUTCSeconds);return SS=e(function(){return o.call(new Date(-5e13-1))!=="0385-07-25T07:06:39.999Z"})||!e(function(){o.call(new Date(NaN))})?function(){if(!i(u(this)))throw new n("Invalid time value");var g=this,v=d(g),w=f(g),b=v<0?"-":v>9999?"+":"";return b+r(s(v),b?6:4,0)+"-"+r(m(g)+1,2,0)+"-"+r(c(g),2,0)+"T"+r(h(g),2,0)+":"+r(p(g),2,0)+":"+r(y(g),2,0)+"."+r(w,3,0)+"Z"}:o,SS}var HB;function Mme(){if(HB)return zB;HB=1;var t=je(),e=bn(),r=Rn(),n=dY(),i=Dme(),s=Fi(),a=Ke(),o=a(function(){return new Date(NaN).toJSON()!==null||e(Date.prototype.toJSON,{toISOString:function(){return 1}})!==1});return t({target:"Date",proto:!0,forced:o},{toJSON:function(c){var d=r(this),h=n(d,"number");return typeof h=="number"&&!isFinite(h)?null:!("toISOString"in d)&&s(d)==="Date"?e(i,d):d.toISOString()}}),zB}var ES,KB;function qme(){if(KB)return ES;KB=1,Mme(),CY();var t=dt(),e=Cm();return t.JSON||(t.JSON={stringify:JSON.stringify}),ES=function(n,i,s){return e(t.JSON.stringify,null,arguments)},ES}var NS,GB;function Ame(){if(GB)return NS;GB=1;var t=qme();return NS=t,NS}var jS,YB;function Fme(){return YB||(YB=1,jS=Ame()),jS}var Lme=Fme(),Ih=Re(Lme),QB={},XB={},CS,JB;function AY(){if(JB)return CS;JB=1;var t=Ot(),e=Xu(),r=Fi(),n=function(i){return e.slice(0,i.length)===i};return CS=function(){return n("Bun/")?"BUN":n("Cloudflare-Workers")?"CLOUDFLARE":n("Deno/")?"DENO":n("Node.js/")?"NODE":t.Bun&&typeof Bun.version=="string"?"BUN":t.Deno&&typeof Deno.version=="object"?"DENO":r(t.process)==="process"?"NODE":t.window&&t.document?"BROWSER":"REST"}(),CS}var OS,ZB;function Bme(){if(ZB)return OS;ZB=1;var t=TypeError;return OS=function(e,r){if(e<r)throw new t("Not enough arguments");return e},OS}var PS,ez;function FY(){if(ez)return PS;ez=1;var t=Ot(),e=Cm(),r=yr(),n=AY(),i=Xu(),s=ic(),a=Bme(),o=t.Function,u=/MSIE .\./.test(i)||n==="BUN"&&function(){var c=t.Bun.version.split(".");return c.length<3||c[0]==="0"&&(c[1]<3||c[1]==="3"&&c[2]==="0")}();return PS=function(c,d){var h=d?2:1;return u?function(f,p){var m=a(arguments.length,1)>h,y=r(f)?f:o(f),x=m?s(arguments,h):[],g=m?function(){e(y,this,x)}:y;return d?c(g,p):c(g)}:c},PS}var tz;function zme(){if(tz)return XB;tz=1;var t=je(),e=Ot(),r=FY(),n=r(e.setInterval,!0);return t({global:!0,bind:!0,forced:e.setInterval!==n},{setInterval:n}),XB}var rz={},nz;function Ume(){if(nz)return rz;nz=1;var t=je(),e=Ot(),r=FY(),n=r(e.setTimeout,!0);return t({global:!0,bind:!0,forced:e.setTimeout!==n},{setTimeout:n}),rz}var iz;function LY(){return iz||(iz=1,zme(),Ume()),QB}var TS,sz;function Wme(){if(sz)return TS;sz=1,LY();var t=dt();return TS=t.setTimeout,TS}var IS,az;function Vme(){return az||(az=1,IS=Wme()),IS}var Hme=Vme(),ls=Re(Hme),oz={},RS,lz;function Kme(){if(lz)return RS;lz=1;var t=Rn(),e=$m(),r=Ps();return RS=function(i){for(var s=t(this),a=r(s),o=arguments.length,u=e(o>1?arguments[1]:void 0,a),c=o>2?arguments[2]:void 0,d=c===void 0?a:e(c,a);d>u;)s[u++]=i;return s},RS}var uz;function Gme(){if(uz)return oz;uz=1;var t=je(),e=Kme(),r=tP();return t({target:"Array",proto:!0},{fill:e}),r("fill"),oz}var $S,cz;function Yme(){if(cz)return $S;cz=1,Gme();var t=Or();return $S=t("Array","fill"),$S}var kS,dz;function Qme(){if(dz)return kS;dz=1;var t=ir(),e=Yme(),r=Array.prototype;return kS=function(n){var i=n.fill;return n===r||t(r,n)&&i===r.fill?e:i},kS}var DS,hz;function Xme(){if(hz)return DS;hz=1;var t=Qme();return DS=t,DS}var MS,fz;function Jme(){return fz||(fz=1,MS=Xme()),MS}var Zme=Jme(),Rh=Re(Zme);/*! Hammer.JS - v2.0.17-rc - 2019-12-16
 * http://naver.github.io/egjs
 *
 * Forked By Naver egjs
 * Copyright (c) hammerjs
 * Licensed under the MIT license */function vi(){return vi=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},vi.apply(this,arguments)}function Zn(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}function vf(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}var Lj;typeof Object.assign!="function"?Lj=function(e){if(e==null)throw new TypeError("Cannot convert undefined or null to object");for(var r=Object(e),n=1;n<arguments.length;n++){var i=arguments[n];if(i!=null)for(var s in i)i.hasOwnProperty(s)&&(r[s]=i[s])}return r}:Lj=Object.assign;var qo=Lj,pz=["","webkit","Moz","MS","ms","o"],eve=typeof document>"u"?{style:{}}:document.createElement("div"),tve="function",kl=Math.round,Ao=Math.abs,sP=Date.now;function Lm(t,e){for(var r,n,i=e[0].toUpperCase()+e.slice(1),s=0;s<pz.length;){if(r=pz[s],n=r?r+i:e,n in t)return n;s++}}var us;typeof window>"u"?us={}:us=window;var BY=Lm(eve.style,"touchAction"),zY=BY!==void 0;function rve(){if(!zY)return!1;var t={},e=us.CSS&&us.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach(function(r){return t[r]=e?us.CSS.supports("touch-action",r):!0}),t}var UY="compute",WY="auto",Bj="manipulation",bo="none",Id="pan-x",Rd="pan-y",gf=rve(),nve=/mobile|tablet|ip(ad|hone|od)|android/i,VY="ontouchstart"in us,ive=Lm(us,"PointerEvent")!==void 0,sve=VY&&nve.test(navigator.userAgent),$h="touch",ave="pen",aP="mouse",ove="kinect",lve=25,Kr=1,nl=2,tr=4,mn=8,$p=1,kh=2,Dh=4,Mh=8,ju=16,qi=kh|Dh,xo=Mh|ju,HY=qi|xo,KY=["x","y"],kp=["clientX","clientY"];function cs(t,e,r){var n;if(t)if(t.forEach)t.forEach(e,r);else if(t.length!==void 0)for(n=0;n<t.length;)e.call(r,t[n],n,t),n++;else for(n in t)t.hasOwnProperty(n)&&e.call(r,t[n],n,t)}function Bm(t,e){return typeof t===tve?t.apply(e&&e[0]||void 0,e):t}function Za(t,e){return t.indexOf(e)>-1}function uve(t){if(Za(t,bo))return bo;var e=Za(t,Id),r=Za(t,Rd);return e&&r?bo:e||r?e?Id:Rd:Za(t,Bj)?Bj:WY}var GY=function(){function t(r,n){this.manager=r,this.set(n)}var e=t.prototype;return e.set=function(n){n===UY&&(n=this.compute()),zY&&this.manager.element.style&&gf[n]&&(this.manager.element.style[BY]=n),this.actions=n.toLowerCase().trim()},e.update=function(){this.set(this.manager.options.touchAction)},e.compute=function(){var n=[];return cs(this.manager.recognizers,function(i){Bm(i.options.enable,[i])&&(n=n.concat(i.getTouchAction()))}),uve(n.join(" "))},e.preventDefaults=function(n){var i=n.srcEvent,s=n.offsetDirection;if(this.manager.session.prevented){i.preventDefault();return}var a=this.actions,o=Za(a,bo)&&!gf[bo],u=Za(a,Rd)&&!gf[Rd],c=Za(a,Id)&&!gf[Id];if(o){var d=n.pointers.length===1,h=n.distance<2,f=n.deltaTime<250;if(d&&h&&f)return}if(!(c&&u)&&(o||u&&s&qi||c&&s&xo))return this.preventSrc(i)},e.preventSrc=function(n){this.manager.session.prevented=!0,n.preventDefault()},t}();function oP(t,e){for(;t;){if(t===e)return!0;t=t.parentNode}return!1}function YY(t){var e=t.length;if(e===1)return{x:kl(t[0].clientX),y:kl(t[0].clientY)};for(var r=0,n=0,i=0;i<e;)r+=t[i].clientX,n+=t[i].clientY,i++;return{x:kl(r/e),y:kl(n/e)}}function mz(t){for(var e=[],r=0;r<t.pointers.length;)e[r]={clientX:kl(t.pointers[r].clientX),clientY:kl(t.pointers[r].clientY)},r++;return{timeStamp:sP(),pointers:e,center:YY(e),deltaX:t.deltaX,deltaY:t.deltaY}}function Dp(t,e,r){r||(r=KY);var n=e[r[0]]-t[r[0]],i=e[r[1]]-t[r[1]];return Math.sqrt(n*n+i*i)}function zj(t,e,r){r||(r=KY);var n=e[r[0]]-t[r[0]],i=e[r[1]]-t[r[1]];return Math.atan2(i,n)*180/Math.PI}function QY(t,e){return t===e?$p:Ao(t)>=Ao(e)?t<0?kh:Dh:e<0?Mh:ju}function cve(t,e){var r=e.center,n=t.offsetDelta||{},i=t.prevDelta||{},s=t.prevInput||{};(e.eventType===Kr||s.eventType===tr)&&(i=t.prevDelta={x:s.deltaX||0,y:s.deltaY||0},n=t.offsetDelta={x:r.x,y:r.y}),e.deltaX=i.x+(r.x-n.x),e.deltaY=i.y+(r.y-n.y)}function XY(t,e,r){return{x:e/t||0,y:r/t||0}}function dve(t,e){return Dp(e[0],e[1],kp)/Dp(t[0],t[1],kp)}function hve(t,e){return zj(e[1],e[0],kp)+zj(t[1],t[0],kp)}function fve(t,e){var r=t.lastInterval||e,n=e.timeStamp-r.timeStamp,i,s,a,o;if(e.eventType!==mn&&(n>lve||r.velocity===void 0)){var u=e.deltaX-r.deltaX,c=e.deltaY-r.deltaY,d=XY(n,u,c);s=d.x,a=d.y,i=Ao(d.x)>Ao(d.y)?d.x:d.y,o=QY(u,c),t.lastInterval=e}else i=r.velocity,s=r.velocityX,a=r.velocityY,o=r.direction;e.velocity=i,e.velocityX=s,e.velocityY=a,e.direction=o}function pve(t,e){var r=t.session,n=e.pointers,i=n.length;r.firstInput||(r.firstInput=mz(e)),i>1&&!r.firstMultiple?r.firstMultiple=mz(e):i===1&&(r.firstMultiple=!1);var s=r.firstInput,a=r.firstMultiple,o=a?a.center:s.center,u=e.center=YY(n);e.timeStamp=sP(),e.deltaTime=e.timeStamp-s.timeStamp,e.angle=zj(o,u),e.distance=Dp(o,u),cve(r,e),e.offsetDirection=QY(e.deltaX,e.deltaY);var c=XY(e.deltaTime,e.deltaX,e.deltaY);e.overallVelocityX=c.x,e.overallVelocityY=c.y,e.overallVelocity=Ao(c.x)>Ao(c.y)?c.x:c.y,e.scale=a?dve(a.pointers,n):1,e.rotation=a?hve(a.pointers,n):0,e.maxPointers=r.prevInput?e.pointers.length>r.prevInput.maxPointers?e.pointers.length:r.prevInput.maxPointers:e.pointers.length,fve(r,e);var d=t.element,h=e.srcEvent,f;h.composedPath?f=h.composedPath()[0]:h.path?f=h.path[0]:f=h.target,oP(f,d)&&(d=f),e.target=d}function mve(t,e,r){var n=r.pointers.length,i=r.changedPointers.length,s=e&Kr&&n-i===0,a=e&(tr|mn)&&n-i===0;r.isFirst=!!s,r.isFinal=!!a,s&&(t.session={}),r.eventType=e,pve(t,r),t.emit("hammer.input",r),t.recognize(r),t.session.prevInput=r}function $d(t){return t.trim().split(/\s+/g)}function Zc(t,e,r){cs($d(e),function(n){t.addEventListener(n,r,!1)})}function ed(t,e,r){cs($d(e),function(n){t.removeEventListener(n,r,!1)})}function vz(t){var e=t.ownerDocument||t;return e.defaultView||e.parentWindow||window}var cc=function(){function t(r,n){var i=this;this.manager=r,this.callback=n,this.element=r.element,this.target=r.options.inputTarget,this.domHandler=function(s){Bm(r.options.enable,[r])&&i.handler(s)},this.init()}var e=t.prototype;return e.handler=function(){},e.init=function(){this.evEl&&Zc(this.element,this.evEl,this.domHandler),this.evTarget&&Zc(this.target,this.evTarget,this.domHandler),this.evWin&&Zc(vz(this.element),this.evWin,this.domHandler)},e.destroy=function(){this.evEl&&ed(this.element,this.evEl,this.domHandler),this.evTarget&&ed(this.target,this.evTarget,this.domHandler),this.evWin&&ed(vz(this.element),this.evWin,this.domHandler)},t}();function Fo(t,e,r){if(t.indexOf&&!r)return t.indexOf(e);for(var n=0;n<t.length;){if(r&&t[n][r]==e||!r&&t[n]===e)return n;n++}return-1}var vve={pointerdown:Kr,pointermove:nl,pointerup:tr,pointercancel:mn,pointerout:mn},gve={2:$h,3:ave,4:aP,5:ove},JY="pointerdown",ZY="pointermove pointerup pointercancel";us.MSPointerEvent&&!us.PointerEvent&&(JY="MSPointerDown",ZY="MSPointerMove MSPointerUp MSPointerCancel");var eQ=function(t){Zn(e,t);function e(){var n,i=e.prototype;return i.evEl=JY,i.evWin=ZY,n=t.apply(this,arguments)||this,n.store=n.manager.session.pointerEvents=[],n}var r=e.prototype;return r.handler=function(i){var s=this.store,a=!1,o=i.type.toLowerCase().replace("ms",""),u=vve[o],c=gve[i.pointerType]||i.pointerType,d=c===$h,h=Fo(s,i.pointerId,"pointerId");u&Kr&&(i.button===0||d)?h<0&&(s.push(i),h=s.length-1):u&(tr|mn)&&(a=!0),!(h<0)&&(s[h]=i,this.callback(this.manager,u,{pointers:s,changedPointers:[i],pointerType:c,srcEvent:i}),a&&s.splice(h,1))},e}(cc);function kd(t){return Array.prototype.slice.call(t,0)}function lP(t,e,r){for(var n=[],i=[],s=0;s<t.length;){var a=e?t[s][e]:t[s];Fo(i,a)<0&&n.push(t[s]),i[s]=a,s++}return r&&(e?n=n.sort(function(o,u){return o[e]>u[e]}):n=n.sort()),n}var yve={touchstart:Kr,touchmove:nl,touchend:tr,touchcancel:mn},bve="touchstart touchmove touchend touchcancel",uP=function(t){Zn(e,t);function e(){var n;return e.prototype.evTarget=bve,n=t.apply(this,arguments)||this,n.targetIds={},n}var r=e.prototype;return r.handler=function(i){var s=yve[i.type],a=xve.call(this,i,s);a&&this.callback(this.manager,s,{pointers:a[0],changedPointers:a[1],pointerType:$h,srcEvent:i})},e}(cc);function xve(t,e){var r=kd(t.touches),n=this.targetIds;if(e&(Kr|nl)&&r.length===1)return n[r[0].identifier]=!0,[r,r];var i,s,a=kd(t.changedTouches),o=[],u=this.target;if(s=r.filter(function(c){return oP(c.target,u)}),e===Kr)for(i=0;i<s.length;)n[s[i].identifier]=!0,i++;for(i=0;i<a.length;)n[a[i].identifier]&&o.push(a[i]),e&(tr|mn)&&delete n[a[i].identifier],i++;if(o.length)return[lP(s.concat(o),"identifier",!0),o]}var wve={mousedown:Kr,mousemove:nl,mouseup:tr},_ve="mousedown",Sve="mousemove mouseup",cP=function(t){Zn(e,t);function e(){var n,i=e.prototype;return i.evEl=_ve,i.evWin=Sve,n=t.apply(this,arguments)||this,n.pressed=!1,n}var r=e.prototype;return r.handler=function(i){var s=wve[i.type];s&Kr&&i.button===0&&(this.pressed=!0),s&nl&&i.which!==1&&(s=tr),this.pressed&&(s&tr&&(this.pressed=!1),this.callback(this.manager,s,{pointers:[i],changedPointers:[i],pointerType:aP,srcEvent:i}))},e}(cc),Eve=2500,gz=25;function yz(t){var e=t.changedPointers,r=e[0];if(r.identifier===this.primaryTouch){var n={x:r.clientX,y:r.clientY},i=this.lastTouches;this.lastTouches.push(n);var s=function(){var o=i.indexOf(n);o>-1&&i.splice(o,1)};setTimeout(s,Eve)}}function Nve(t,e){t&Kr?(this.primaryTouch=e.changedPointers[0].identifier,yz.call(this,e)):t&(tr|mn)&&yz.call(this,e)}function jve(t){for(var e=t.srcEvent.clientX,r=t.srcEvent.clientY,n=0;n<this.lastTouches.length;n++){var i=this.lastTouches[n],s=Math.abs(e-i.x),a=Math.abs(r-i.y);if(s<=gz&&a<=gz)return!0}return!1}var tQ=function(){var t=function(e){Zn(r,e);function r(i,s){var a;return a=e.call(this,i,s)||this,a.handler=function(o,u,c){var d=c.pointerType===$h,h=c.pointerType===aP;if(!(h&&c.sourceCapabilities&&c.sourceCapabilities.firesTouchEvents)){if(d)Nve.call(vf(vf(a)),u,c);else if(h&&jve.call(vf(vf(a)),c))return;a.callback(o,u,c)}},a.touch=new uP(a.manager,a.handler),a.mouse=new cP(a.manager,a.handler),a.primaryTouch=null,a.lastTouches=[],a}var n=r.prototype;return n.destroy=function(){this.touch.destroy(),this.mouse.destroy()},r}(cc);return t}();function Cve(t){var e,r=t.options.inputClass;return r?e=r:ive?e=eQ:sve?e=uP:VY?e=tQ:e=cP,new e(t,mve)}function Dl(t,e,r){return Array.isArray(t)?(cs(t,r[e],r),!0):!1}var Ff=1,Hn=2,Cu=4,ma=8,ds=ma,Dd=16,Ii=32,Ove=1;function Pve(){return Ove++}function yf(t,e){var r=e.manager;return r?r.get(t):t}function bz(t){return t&Dd?"cancel":t&ma?"end":t&Cu?"move":t&Hn?"start":""}var qh=function(){function t(r){r===void 0&&(r={}),this.options=vi({enable:!0},r),this.id=Pve(),this.manager=null,this.state=Ff,this.simultaneous={},this.requireFail=[]}var e=t.prototype;return e.set=function(n){return qo(this.options,n),this.manager&&this.manager.touchAction.update(),this},e.recognizeWith=function(n){if(Dl(n,"recognizeWith",this))return this;var i=this.simultaneous;return n=yf(n,this),i[n.id]||(i[n.id]=n,n.recognizeWith(this)),this},e.dropRecognizeWith=function(n){return Dl(n,"dropRecognizeWith",this)?this:(n=yf(n,this),delete this.simultaneous[n.id],this)},e.requireFailure=function(n){if(Dl(n,"requireFailure",this))return this;var i=this.requireFail;return n=yf(n,this),Fo(i,n)===-1&&(i.push(n),n.requireFailure(this)),this},e.dropRequireFailure=function(n){if(Dl(n,"dropRequireFailure",this))return this;n=yf(n,this);var i=Fo(this.requireFail,n);return i>-1&&this.requireFail.splice(i,1),this},e.hasRequireFailures=function(){return this.requireFail.length>0},e.canRecognizeWith=function(n){return!!this.simultaneous[n.id]},e.emit=function(n){var i=this,s=this.state;function a(o){i.manager.emit(o,n)}s<ma&&a(i.options.event+bz(s)),a(i.options.event),n.additionalEvent&&a(n.additionalEvent),s>=ma&&a(i.options.event+bz(s))},e.tryEmit=function(n){if(this.canEmit())return this.emit(n);this.state=Ii},e.canEmit=function(){for(var n=0;n<this.requireFail.length;){if(!(this.requireFail[n].state&(Ii|Ff)))return!1;n++}return!0},e.recognize=function(n){var i=qo({},n);if(!Bm(this.options.enable,[this,i])){this.reset(),this.state=Ii;return}this.state&(ds|Dd|Ii)&&(this.state=Ff),this.state=this.process(i),this.state&(Hn|Cu|ma|Dd)&&this.tryEmit(i)},e.process=function(n){},e.getTouchAction=function(){},e.reset=function(){},t}(),Uj=function(t){Zn(e,t);function e(n){var i;return n===void 0&&(n={}),i=t.call(this,vi({event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},n))||this,i.pTime=!1,i.pCenter=!1,i._timer=null,i._input=null,i.count=0,i}var r=e.prototype;return r.getTouchAction=function(){return[Bj]},r.process=function(i){var s=this,a=this.options,o=i.pointers.length===a.pointers,u=i.distance<a.threshold,c=i.deltaTime<a.time;if(this.reset(),i.eventType&Kr&&this.count===0)return this.failTimeout();if(u&&c&&o){if(i.eventType!==tr)return this.failTimeout();var d=this.pTime?i.timeStamp-this.pTime<a.interval:!0,h=!this.pCenter||Dp(this.pCenter,i.center)<a.posThreshold;this.pTime=i.timeStamp,this.pCenter=i.center,!h||!d?this.count=1:this.count+=1,this._input=i;var f=this.count%a.taps;if(f===0)return this.hasRequireFailures()?(this._timer=setTimeout(function(){s.state=ds,s.tryEmit()},a.interval),Hn):ds}return Ii},r.failTimeout=function(){var i=this;return this._timer=setTimeout(function(){i.state=Ii},this.options.interval),Ii},r.reset=function(){clearTimeout(this._timer)},r.emit=function(){this.state===ds&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))},e}(qh),Ou=function(t){Zn(e,t);function e(n){return n===void 0&&(n={}),t.call(this,vi({pointers:1},n))||this}var r=e.prototype;return r.attrTest=function(i){var s=this.options.pointers;return s===0||i.pointers.length===s},r.process=function(i){var s=this.state,a=i.eventType,o=s&(Hn|Cu),u=this.attrTest(i);return o&&(a&mn||!u)?s|Dd:o||u?a&tr?s|ma:s&Hn?s|Cu:Hn:Ii},e}(qh);function rQ(t){return t===ju?"down":t===Mh?"up":t===kh?"left":t===Dh?"right":""}var dP=function(t){Zn(e,t);function e(n){var i;return n===void 0&&(n={}),i=t.call(this,vi({event:"pan",threshold:10,pointers:1,direction:HY},n))||this,i.pX=null,i.pY=null,i}var r=e.prototype;return r.getTouchAction=function(){var i=this.options.direction,s=[];return i&qi&&s.push(Rd),i&xo&&s.push(Id),s},r.directionTest=function(i){var s=this.options,a=!0,o=i.distance,u=i.direction,c=i.deltaX,d=i.deltaY;return u&s.direction||(s.direction&qi?(u=c===0?$p:c<0?kh:Dh,a=c!==this.pX,o=Math.abs(i.deltaX)):(u=d===0?$p:d<0?Mh:ju,a=d!==this.pY,o=Math.abs(i.deltaY))),i.direction=u,a&&o>s.threshold&&u&s.direction},r.attrTest=function(i){return Ou.prototype.attrTest.call(this,i)&&(this.state&Hn||!(this.state&Hn)&&this.directionTest(i))},r.emit=function(i){this.pX=i.deltaX,this.pY=i.deltaY;var s=rQ(i.direction);s&&(i.additionalEvent=this.options.event+s),t.prototype.emit.call(this,i)},e}(Ou),nQ=function(t){Zn(e,t);function e(n){return n===void 0&&(n={}),t.call(this,vi({event:"swipe",threshold:10,velocity:.3,direction:qi|xo,pointers:1},n))||this}var r=e.prototype;return r.getTouchAction=function(){return dP.prototype.getTouchAction.call(this)},r.attrTest=function(i){var s=this.options.direction,a;return s&(qi|xo)?a=i.overallVelocity:s&qi?a=i.overallVelocityX:s&xo&&(a=i.overallVelocityY),t.prototype.attrTest.call(this,i)&&s&i.offsetDirection&&i.distance>this.options.threshold&&i.maxPointers===this.options.pointers&&Ao(a)>this.options.velocity&&i.eventType&tr},r.emit=function(i){var s=rQ(i.offsetDirection);s&&this.manager.emit(this.options.event+s,i),this.manager.emit(this.options.event,i)},e}(Ou),iQ=function(t){Zn(e,t);function e(n){return n===void 0&&(n={}),t.call(this,vi({event:"pinch",threshold:0,pointers:2},n))||this}var r=e.prototype;return r.getTouchAction=function(){return[bo]},r.attrTest=function(i){return t.prototype.attrTest.call(this,i)&&(Math.abs(i.scale-1)>this.options.threshold||this.state&Hn)},r.emit=function(i){if(i.scale!==1){var s=i.scale<1?"in":"out";i.additionalEvent=this.options.event+s}t.prototype.emit.call(this,i)},e}(Ou),sQ=function(t){Zn(e,t);function e(n){return n===void 0&&(n={}),t.call(this,vi({event:"rotate",threshold:0,pointers:2},n))||this}var r=e.prototype;return r.getTouchAction=function(){return[bo]},r.attrTest=function(i){return t.prototype.attrTest.call(this,i)&&(Math.abs(i.rotation)>this.options.threshold||this.state&Hn)},e}(Ou),aQ=function(t){Zn(e,t);function e(n){var i;return n===void 0&&(n={}),i=t.call(this,vi({event:"press",pointers:1,time:251,threshold:9},n))||this,i._timer=null,i._input=null,i}var r=e.prototype;return r.getTouchAction=function(){return[WY]},r.process=function(i){var s=this,a=this.options,o=i.pointers.length===a.pointers,u=i.distance<a.threshold,c=i.deltaTime>a.time;if(this._input=i,!u||!o||i.eventType&(tr|mn)&&!c)this.reset();else if(i.eventType&Kr)this.reset(),this._timer=setTimeout(function(){s.state=ds,s.tryEmit()},a.time);else if(i.eventType&tr)return ds;return Ii},r.reset=function(){clearTimeout(this._timer)},r.emit=function(i){this.state===ds&&(i&&i.eventType&tr?this.manager.emit(this.options.event+"up",i):(this._input.timeStamp=sP(),this.manager.emit(this.options.event,this._input)))},e}(qh),oQ={domEvents:!1,touchAction:UY,enable:!0,inputTarget:null,inputClass:null,cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}},xz=[[sQ,{enable:!1}],[iQ,{enable:!1},["rotate"]],[nQ,{direction:qi}],[dP,{direction:qi},["swipe"]],[Uj],[Uj,{event:"doubletap",taps:2},["tap"]],[aQ]],Tve=1,wz=2;function _z(t,e){var r=t.element;if(r.style){var n;cs(t.options.cssProps,function(i,s){n=Lm(r.style,s),e?(t.oldCssProps[n]=r.style[n],r.style[n]=i):r.style[n]=t.oldCssProps[n]||""}),e||(t.oldCssProps={})}}function Ive(t,e){var r=document.createEvent("Event");r.initEvent(t,!0,!0),r.gesture=e,e.target.dispatchEvent(r)}var Sz=function(){function t(r,n){var i=this;this.options=qo({},oQ,n||{}),this.options.inputTarget=this.options.inputTarget||r,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=r,this.input=Cve(this),this.touchAction=new GY(this,this.options.touchAction),_z(this,!0),cs(this.options.recognizers,function(s){var a=i.add(new s[0](s[1]));s[2]&&a.recognizeWith(s[2]),s[3]&&a.requireFailure(s[3])},this)}var e=t.prototype;return e.set=function(n){return qo(this.options,n),n.touchAction&&this.touchAction.update(),n.inputTarget&&(this.input.destroy(),this.input.target=n.inputTarget,this.input.init()),this},e.stop=function(n){this.session.stopped=n?wz:Tve},e.recognize=function(n){var i=this.session;if(!i.stopped){this.touchAction.preventDefaults(n);var s,a=this.recognizers,o=i.curRecognizer;(!o||o&&o.state&ds)&&(i.curRecognizer=null,o=null);for(var u=0;u<a.length;)s=a[u],i.stopped!==wz&&(!o||s===o||s.canRecognizeWith(o))?s.recognize(n):s.reset(),!o&&s.state&(Hn|Cu|ma)&&(i.curRecognizer=s,o=s),u++}},e.get=function(n){if(n instanceof qh)return n;for(var i=this.recognizers,s=0;s<i.length;s++)if(i[s].options.event===n)return i[s];return null},e.add=function(n){if(Dl(n,"add",this))return this;var i=this.get(n.options.event);return i&&this.remove(i),this.recognizers.push(n),n.manager=this,this.touchAction.update(),n},e.remove=function(n){if(Dl(n,"remove",this))return this;var i=this.get(n);if(n){var s=this.recognizers,a=Fo(s,i);a!==-1&&(s.splice(a,1),this.touchAction.update())}return this},e.on=function(n,i){if(n===void 0||i===void 0)return this;var s=this.handlers;return cs($d(n),function(a){s[a]=s[a]||[],s[a].push(i)}),this},e.off=function(n,i){if(n===void 0)return this;var s=this.handlers;return cs($d(n),function(a){i?s[a]&&s[a].splice(Fo(s[a],i),1):delete s[a]}),this},e.emit=function(n,i){this.options.domEvents&&Ive(n,i);var s=this.handlers[n]&&this.handlers[n].slice();if(!(!s||!s.length)){i.type=n,i.preventDefault=function(){i.srcEvent.preventDefault()};for(var a=0;a<s.length;)s[a](i),a++}},e.destroy=function(){this.element&&_z(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null},t}(),Rve={touchstart:Kr,touchmove:nl,touchend:tr,touchcancel:mn},$ve="touchstart",kve="touchstart touchmove touchend touchcancel",Dve=function(t){Zn(e,t);function e(){var n,i=e.prototype;return i.evTarget=$ve,i.evWin=kve,n=t.apply(this,arguments)||this,n.started=!1,n}var r=e.prototype;return r.handler=function(i){var s=Rve[i.type];if(s===Kr&&(this.started=!0),!!this.started){var a=Mve.call(this,i,s);s&(tr|mn)&&a[0].length-a[1].length===0&&(this.started=!1),this.callback(this.manager,s,{pointers:a[0],changedPointers:a[1],pointerType:$h,srcEvent:i})}},e}(cc);function Mve(t,e){var r=kd(t.touches),n=kd(t.changedTouches);return e&(tr|mn)&&(r=lP(r.concat(n),"identifier",!0)),[r,n]}function lQ(t,e,r){var n="DEPRECATED METHOD: "+e+`
`+r+` AT 
`;return function(){var i=new Error("get-stack-trace"),s=i&&i.stack?i.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",a=window.console&&(window.console.warn||window.console.log);return a&&a.call(window.console,n,s),t.apply(this,arguments)}}var uQ=lQ(function(t,e,r){for(var n=Object.keys(e),i=0;i<n.length;)(!r||r&&t[n[i]]===void 0)&&(t[n[i]]=e[n[i]]),i++;return t},"extend","Use `assign`."),qve=lQ(function(t,e){return uQ(t,e,!0)},"merge","Use `assign`.");function Ave(t,e,r){var n=e.prototype,i;i=t.prototype=Object.create(n),i.constructor=t,i._super=n,r&&qo(i,r)}function Ez(t,e){return function(){return t.apply(e,arguments)}}var cQ=function(){var t=function(r,n){return n===void 0&&(n={}),new Sz(r,vi({recognizers:xz.concat()},n))};return t.VERSION="2.0.17-rc",t.DIRECTION_ALL=HY,t.DIRECTION_DOWN=ju,t.DIRECTION_LEFT=kh,t.DIRECTION_RIGHT=Dh,t.DIRECTION_UP=Mh,t.DIRECTION_HORIZONTAL=qi,t.DIRECTION_VERTICAL=xo,t.DIRECTION_NONE=$p,t.DIRECTION_DOWN=ju,t.INPUT_START=Kr,t.INPUT_MOVE=nl,t.INPUT_END=tr,t.INPUT_CANCEL=mn,t.STATE_POSSIBLE=Ff,t.STATE_BEGAN=Hn,t.STATE_CHANGED=Cu,t.STATE_ENDED=ma,t.STATE_RECOGNIZED=ds,t.STATE_CANCELLED=Dd,t.STATE_FAILED=Ii,t.Manager=Sz,t.Input=cc,t.TouchAction=GY,t.TouchInput=uP,t.MouseInput=cP,t.PointerEventInput=eQ,t.TouchMouseInput=tQ,t.SingleTouchInput=Dve,t.Recognizer=qh,t.AttrRecognizer=Ou,t.Tap=Uj,t.Pan=dP,t.Swipe=nQ,t.Pinch=iQ,t.Rotate=sQ,t.Press=aQ,t.on=Zc,t.off=ed,t.each=cs,t.merge=qve,t.extend=uQ,t.bindFn=Ez,t.assign=qo,t.inherit=Ave,t.bindFn=Ez,t.prefixed=Lm,t.toArray=kd,t.inArray=Fo,t.uniqueArray=lP,t.splitStr=$d,t.boolOrFn=Bm,t.hasParent=oP,t.addEventListeners=Zc,t.removeEventListeners=ed,t.defaults=qo({},oQ,{preset:xz}),t}();cQ.defaults;Lfe("DELETE");function zm(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return Fve(e.length?e:[Rp()])}function Fve(t){let[e,r,n]=Lve(t),i=1;const s=()=>{const a=2091639*e+i*23283064365386963e-26;return e=r,r=n,n=a-(i=a|0)};return s.uint32=()=>s()*4294967296,s.fract53=()=>s()+(s()*2097152|0)*11102230246251565e-32,s.algorithm="Alea",s.seed=t,s.version="0.9",s}function Lve(){const t=Bve();let e=t(" "),r=t(" "),n=t(" ");for(let i=0;i<arguments.length;i++)e-=t(i<0||arguments.length<=i?void 0:arguments[i]),e<0&&(e+=1),r-=t(i<0||arguments.length<=i?void 0:arguments[i]),r<0&&(r+=1),n-=t(i<0||arguments.length<=i?void 0:arguments[i]),n<0&&(n+=1);return[e,r,n]}function Bve(){let t=4022871197;return function(e){const r=e.toString();for(let n=0;n<r.length;n++){t+=r.charCodeAt(n);let i=.02519603282416938*t;t=i>>>0,i-=t,i*=t,t=i>>>0,i-=t,t+=i*4294967296}return(t>>>0)*23283064365386963e-26}}function zve(){const t=()=>{};return{on:t,off:t,destroy:t,emit:t,get(){return{set:t}}}}const hP=typeof window<"u"?window.Hammer||cQ:function(){return zve()};function Ri(t){var e;this._cleanupQueue=[],this.active=!1,this._dom={container:t,overlay:document.createElement("div")},this._dom.overlay.classList.add("vis-overlay"),this._dom.container.appendChild(this._dom.overlay),this._cleanupQueue.push(()=>{this._dom.overlay.parentNode.removeChild(this._dom.overlay)});const r=hP(this._dom.overlay);r.on("tap",ne(e=this._onTapOverlay).call(e,this)),this._cleanupQueue.push(()=>{r.destroy()});const n=["tap","doubletap","press","pinch","pan","panstart","panmove","panend"];pt(n).call(n,i=>{r.on(i,s=>{s.srcEvent.stopPropagation()})}),document&&document.body&&(this._onClick=i=>{Uve(i.target,t)||this.deactivate()},document.body.addEventListener("click",this._onClick),this._cleanupQueue.push(()=>{document.body.removeEventListener("click",this._onClick)})),this._escListener=i=>{("key"in i?i.key==="Escape":i.keyCode===27)&&this.deactivate()}}xY(Ri.prototype);Ri.current=null;Ri.prototype.destroy=function(){this.deactivate();for(const r of go(t=os(e=this._cleanupQueue).call(e,0)).call(t)){var t,e;r()}};Ri.prototype.activate=function(){Ri.current&&Ri.current.deactivate(),Ri.current=this,this.active=!0,this._dom.overlay.style.display="none",this._dom.container.classList.add("vis-active"),this.emit("change"),this.emit("activate"),document.body.addEventListener("keydown",this._escListener)};Ri.prototype.deactivate=function(){this.active=!1,this._dom.overlay.style.display="block",this._dom.container.classList.remove("vis-active"),document.body.removeEventListener("keydown",this._escListener),this.emit("change"),this.emit("deactivate")};Ri.prototype._onTapOverlay=function(t){this.activate(),t.srcEvent.stopPropagation()};function Uve(t,e){for(;t;){if(t===e)return!0;t=t.parentNode}return!1}const Wve=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i,Vve=/^#?([a-f\d])([a-f\d])([a-f\d])$/i,Hve=/^rgb\( *(1?\d{1,2}|2[0-4]\d|25[0-5]) *, *(1?\d{1,2}|2[0-4]\d|25[0-5]) *, *(1?\d{1,2}|2[0-4]\d|25[0-5]) *\)$/i,Kve=/^rgba\( *(1?\d{1,2}|2[0-4]\d|25[0-5]) *, *(1?\d{1,2}|2[0-4]\d|25[0-5]) *, *(1?\d{1,2}|2[0-4]\d|25[0-5]) *, *([01]|0?\.\d+) *\)$/i;function Ms(t){if(t)for(;t.hasChildNodes()===!0;){const e=t.firstChild;e&&(Ms(e),t.removeChild(e))}}function Ul(t){return t instanceof String||typeof t=="string"}function Nz(t){return typeof t=="object"&&t!==null}function Lo(t,e,r,n){let i=!1;n===!0&&(i=e[r]===null&&t[r]!==void 0),i?delete t[r]:t[r]=e[r]}function dQ(t,e){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;for(const n in t)if(e[n]!==void 0)if(e[n]===null||typeof e[n]!="object")Lo(t,e,n,r);else{const i=t[n],s=e[n];Nz(i)&&Nz(s)&&dQ(i,s,r)}}function dc(t,e,r){let n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(zt(r))throw new TypeError("Arrays are not supported by deepExtend");for(let i=0;i<t.length;i++){const s=t[i];if(Object.prototype.hasOwnProperty.call(r,s))if(r[s]&&r[s].constructor===Object)e[s]===void 0&&(e[s]={}),e[s].constructor===Object?yt(e[s],r[s],!1,n):Lo(e,r,s,n);else{if(zt(r[s]))throw new TypeError("Arrays are not supported by deepExtend");Lo(e,r,s,n)}}return e}function Mp(t,e,r){let n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(zt(r))throw new TypeError("Arrays are not supported by deepExtend");for(const i in r)if(Object.prototype.hasOwnProperty.call(r,i)&&!pa(t).call(t,i))if(r[i]&&r[i].constructor===Object)e[i]===void 0&&(e[i]={}),e[i].constructor===Object?yt(e[i],r[i]):Lo(e,r,i,n);else if(zt(r[i])){e[i]=[];for(let s=0;s<r[i].length;s++)e[i].push(r[i][s])}else Lo(e,r,i,n);return e}function yt(t,e){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;for(const s in e)if(Object.prototype.hasOwnProperty.call(e,s)||r===!0)if(typeof e[s]=="object"&&e[s]!==null&&aB(e[s])===Object.prototype)t[s]===void 0?t[s]=yt({},e[s],r):typeof t[s]=="object"&&t[s]!==null&&aB(t[s])===Object.prototype?yt(t[s],e[s],r):Lo(t,e,s,n);else if(zt(e[s])){var i;t[s]=Pi(i=e[s]).call(i)}else Lo(t,e,s,n);return t}function qp(t,e){return[...t,e]}function Gve(t){return Pi(t).call(t)}function Yve(t){return t.getBoundingClientRect().left}function Qve(t){return t.getBoundingClientRect().top}function ze(t,e){if(zt(t)){const r=t.length;for(let n=0;n<r;n++)e(t[n],n,t)}else for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&e(t[r],r,t)}function fP(t){let e;switch(t.length){case 3:case 4:return e=Vve.exec(t),e?{r:ui(e[1]+e[1],16),g:ui(e[2]+e[2],16),b:ui(e[3]+e[3],16)}:null;case 6:case 7:return e=Wve.exec(t),e?{r:ui(e[1],16),g:ui(e[2],16),b:ui(e[3],16)}:null;default:return null}}function zn(t,e){if(pa(t).call(t,"rgba"))return t;if(pa(t).call(t,"rgb")){const r=t.substr(ot(t).call(t,"(")+1).replace(")","").split(",");return"rgba("+r[0]+","+r[1]+","+r[2]+","+e+")"}else{const r=fP(t);return r==null?t:"rgba("+r.r+","+r.g+","+r.b+","+e+")"}}function hQ(t,e,r){var n;return"#"+Pi(n=((1<<24)+(t<<16)+(e<<8)+r).toString(16)).call(n,1)}function Wj(t,e){if(Ul(t)){let n=t;if(pQ(n)){var r;const i=Nu(r=n.substr(4).substr(0,n.length-5).split(",")).call(r,function(s){return ui(s)});n=hQ(i[0],i[1],i[2])}if(fQ(n)===!0){const i=Xve(n),s={h:i.h,s:i.s*.8,v:Math.min(1,i.v*1.02)},a={h:i.h,s:Math.min(1,i.s*1.25),v:i.v*.8},o=Vj(a.h,a.s,a.v),u=Vj(s.h,s.s,s.v);return{background:n,border:o,highlight:{background:u,border:o},hover:{background:u,border:o}}}else return{background:n,border:n,highlight:{background:n,border:n},hover:{background:n,border:n}}}else return{background:t.background||void 0,border:t.border||void 0,highlight:Ul(t.highlight)?{border:t.highlight,background:t.highlight}:{background:t.highlight&&t.highlight.background||void 0,border:t.highlight&&t.highlight.border||void 0},hover:Ul(t.hover)?{border:t.hover,background:t.hover}:{border:t.hover&&t.hover.border||void 0,background:t.hover&&t.hover.background||void 0}}}function Ac(t,e,r){t=t/255,e=e/255,r=r/255;const n=Math.min(t,Math.min(e,r)),i=Math.max(t,Math.max(e,r));if(n===i)return{h:0,s:0,v:n};const s=t===n?e-r:r===n?t-e:r-t,o=60*((t===n?3:r===n?1:5)-s/(i-n))/360,u=(i-n)/i;return{h:o,s:u,v:i}}function Lf(t,e,r){let n,i,s;const a=Math.floor(t*6),o=t*6-a,u=r*(1-e),c=r*(1-o*e),d=r*(1-(1-o)*e);switch(a%6){case 0:n=r,i=d,s=u;break;case 1:n=c,i=r,s=u;break;case 2:n=u,i=r,s=d;break;case 3:n=u,i=c,s=r;break;case 4:n=d,i=u,s=r;break;case 5:n=r,i=u,s=c;break}return{r:Math.floor(n*255),g:Math.floor(i*255),b:Math.floor(s*255)}}function Vj(t,e,r){const n=Lf(t,e,r);return hQ(n.r,n.g,n.b)}function Xve(t){const e=fP(t);if(!e)throw new TypeError("'".concat(t,"' is not a valid color."));return Ac(e.r,e.g,e.b)}function fQ(t){return/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i.test(t)}function pQ(t){return Hve.test(t)}function Jve(t){return Kve.test(t)}function va(t){if(t===null||typeof t!="object")return null;if(t instanceof Element)return t;const e=yo(t);for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&typeof t[r]=="object"&&(e[r]=va(t[r]));return e}function An(t,e,r){let n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};const i=function(p){return p!=null},s=function(p){return p!==null&&typeof p=="object"},a=function(p){for(const m in p)if(Object.prototype.hasOwnProperty.call(p,m))return!1;return!0};if(!s(t))throw new Error("Parameter mergeTarget must be an object");if(!s(e))throw new Error("Parameter options must be an object");if(!i(r))throw new Error("Parameter option must have a value");if(!s(n))throw new Error("Parameter globalOptions must be an object");const o=function(p,m,y){s(p[y])||(p[y]={});const x=m[y],g=p[y];for(const v in x)Object.prototype.hasOwnProperty.call(x,v)&&(g[v]=x[v])},u=e[r],d=s(n)&&!a(n)?n[r]:void 0,h=d?d.enabled:void 0;if(u===void 0)return;if(typeof u=="boolean"){s(t[r])||(t[r]={}),t[r].enabled=u;return}if(u===null&&!s(t[r]))if(i(d))t[r]=yo(d);else return;if(!s(u))return;let f=!0;u.enabled!==void 0?f=u.enabled:h!==void 0&&(f=d.enabled),o(t,e,r),t[r].enabled=f}const Zve={linear(t){return t},easeInQuad(t){return t*t},easeOutQuad(t){return t*(2-t)},easeInOutQuad(t){return t<.5?2*t*t:-1+(4-2*t)*t},easeInCubic(t){return t*t*t},easeOutCubic(t){return--t*t*t+1},easeInOutCubic(t){return t<.5?4*t*t*t:(t-1)*(2*t-2)*(2*t-2)+1},easeInQuart(t){return t*t*t*t},easeOutQuart(t){return 1- --t*t*t*t},easeInOutQuart(t){return t<.5?8*t*t*t*t:1-8*--t*t*t*t},easeInQuint(t){return t*t*t*t*t},easeOutQuint(t){return 1+--t*t*t*t*t},easeInOutQuint(t){return t<.5?16*t*t*t*t*t:1+16*--t*t*t*t*t}};function qs(t,e){let r;zt(e)||(e=[e]);for(const n of t)if(n){r=n[e[0]];for(let i=1;i<e.length;i++)r&&(r=r[e[i]]);if(typeof r<"u")break}return r}const ege={black:"#000000",navy:"#000080",darkblue:"#00008B",mediumblue:"#0000CD",blue:"#0000FF",darkgreen:"#006400",green:"#008000",teal:"#008080",darkcyan:"#008B8B",deepskyblue:"#00BFFF",darkturquoise:"#00CED1",mediumspringgreen:"#00FA9A",lime:"#00FF00",springgreen:"#00FF7F",aqua:"#00FFFF",cyan:"#00FFFF",midnightblue:"#191970",dodgerblue:"#1E90FF",lightseagreen:"#20B2AA",forestgreen:"#228B22",seagreen:"#2E8B57",darkslategray:"#2F4F4F",limegreen:"#32CD32",mediumseagreen:"#3CB371",turquoise:"#40E0D0",royalblue:"#4169E1",steelblue:"#4682B4",darkslateblue:"#483D8B",mediumturquoise:"#48D1CC",indigo:"#4B0082",darkolivegreen:"#556B2F",cadetblue:"#5F9EA0",cornflowerblue:"#6495ED",mediumaquamarine:"#66CDAA",dimgray:"#696969",slateblue:"#6A5ACD",olivedrab:"#6B8E23",slategray:"#708090",lightslategray:"#778899",mediumslateblue:"#7B68EE",lawngreen:"#7CFC00",chartreuse:"#7FFF00",aquamarine:"#7FFFD4",maroon:"#800000",purple:"#800080",olive:"#808000",gray:"#808080",skyblue:"#87CEEB",lightskyblue:"#87CEFA",blueviolet:"#8A2BE2",darkred:"#8B0000",darkmagenta:"#8B008B",saddlebrown:"#8B4513",darkseagreen:"#8FBC8F",lightgreen:"#90EE90",mediumpurple:"#9370D8",darkviolet:"#9400D3",palegreen:"#98FB98",darkorchid:"#9932CC",yellowgreen:"#9ACD32",sienna:"#A0522D",brown:"#A52A2A",darkgray:"#A9A9A9",lightblue:"#ADD8E6",greenyellow:"#ADFF2F",paleturquoise:"#AFEEEE",lightsteelblue:"#B0C4DE",powderblue:"#B0E0E6",firebrick:"#B22222",darkgoldenrod:"#B8860B",mediumorchid:"#BA55D3",rosybrown:"#BC8F8F",darkkhaki:"#BDB76B",silver:"#C0C0C0",mediumvioletred:"#C71585",indianred:"#CD5C5C",peru:"#CD853F",chocolate:"#D2691E",tan:"#D2B48C",lightgrey:"#D3D3D3",palevioletred:"#D87093",thistle:"#D8BFD8",orchid:"#DA70D6",goldenrod:"#DAA520",crimson:"#DC143C",gainsboro:"#DCDCDC",plum:"#DDA0DD",burlywood:"#DEB887",lightcyan:"#E0FFFF",lavender:"#E6E6FA",darksalmon:"#E9967A",violet:"#EE82EE",palegoldenrod:"#EEE8AA",lightcoral:"#F08080",khaki:"#F0E68C",aliceblue:"#F0F8FF",honeydew:"#F0FFF0",azure:"#F0FFFF",sandybrown:"#F4A460",wheat:"#F5DEB3",beige:"#F5F5DC",whitesmoke:"#F5F5F5",mintcream:"#F5FFFA",ghostwhite:"#F8F8FF",salmon:"#FA8072",antiquewhite:"#FAEBD7",linen:"#FAF0E6",lightgoldenrodyellow:"#FAFAD2",oldlace:"#FDF5E6",red:"#FF0000",fuchsia:"#FF00FF",magenta:"#FF00FF",deeppink:"#FF1493",orangered:"#FF4500",tomato:"#FF6347",hotpink:"#FF69B4",coral:"#FF7F50",darkorange:"#FF8C00",lightsalmon:"#FFA07A",orange:"#FFA500",lightpink:"#FFB6C1",pink:"#FFC0CB",gold:"#FFD700",peachpuff:"#FFDAB9",navajowhite:"#FFDEAD",moccasin:"#FFE4B5",bisque:"#FFE4C4",mistyrose:"#FFE4E1",blanchedalmond:"#FFEBCD",papayawhip:"#FFEFD5",lavenderblush:"#FFF0F5",seashell:"#FFF5EE",cornsilk:"#FFF8DC",lemonchiffon:"#FFFACD",floralwhite:"#FFFAF0",snow:"#FFFAFA",yellow:"#FFFF00",lightyellow:"#FFFFE0",ivory:"#FFFFF0",white:"#FFFFFF"};let tge=class{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1;this.pixelRatio=e,this.generated=!1,this.centerCoordinates={x:289/2,y:289/2},this.r=289*.49,this.color={r:255,g:255,b:255,a:1},this.hueCircle=void 0,this.initialColor={r:255,g:255,b:255,a:1},this.previousColor=void 0,this.applied=!1,this.updateCallback=()=>{},this.closeCallback=()=>{},this._create()}insertTo(e){this.hammer!==void 0&&(this.hammer.destroy(),this.hammer=void 0),this.container=e,this.container.appendChild(this.frame),this._bindHammer(),this._setSize()}setUpdateCallback(e){if(typeof e=="function")this.updateCallback=e;else throw new Error("Function attempted to set as colorPicker update callback is not a function.")}setCloseCallback(e){if(typeof e=="function")this.closeCallback=e;else throw new Error("Function attempted to set as colorPicker closing callback is not a function.")}_isColorString(e){if(typeof e=="string")return ege[e]}setColor(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(e==="none")return;let n;const i=this._isColorString(e);if(i!==void 0&&(e=i),Ul(e)===!0){if(pQ(e)===!0){const s=e.substr(4).substr(0,e.length-5).split(",");n={r:s[0],g:s[1],b:s[2],a:1}}else if(Jve(e)===!0){const s=e.substr(5).substr(0,e.length-6).split(",");n={r:s[0],g:s[1],b:s[2],a:s[3]}}else if(fQ(e)===!0){const s=fP(e);n={r:s.r,g:s.g,b:s.b,a:1}}}else if(e instanceof Object&&e.r!==void 0&&e.g!==void 0&&e.b!==void 0){const s=e.a!==void 0?e.a:"1.0";n={r:e.r,g:e.g,b:e.b,a:s}}if(n===void 0)throw new Error("Unknown color passed to the colorPicker. Supported are strings: rgb, hex, rgba. Object: rgb ({r:r,g:g,b:b,[a:a]}). Supplied: "+Ih(e));this._setColor(n,r)}show(){this.closeCallback!==void 0&&(this.closeCallback(),this.closeCallback=void 0),this.applied=!1,this.frame.style.display="block",this._generateHueCircle()}_hide(){(arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0)===!0&&(this.previousColor=er({},this.color)),this.applied===!0&&this.updateCallback(this.initialColor),this.frame.style.display="none",ls(()=>{this.closeCallback!==void 0&&(this.closeCallback(),this.closeCallback=void 0)},0)}_save(){this.updateCallback(this.color),this.applied=!1,this._hide()}_apply(){this.applied=!0,this.updateCallback(this.color),this._updatePicker(this.color)}_loadLast(){this.previousColor!==void 0?this.setColor(this.previousColor,!1):alert("There is no last color to load...")}_setColor(e){(arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0)===!0&&(this.initialColor=er({},e)),this.color=e;const n=Ac(e.r,e.g,e.b),i=2*Math.PI,s=this.r*n.s,a=this.centerCoordinates.x+s*Math.sin(i*n.h),o=this.centerCoordinates.y+s*Math.cos(i*n.h);this.colorPickerSelector.style.left=a-.5*this.colorPickerSelector.clientWidth+"px",this.colorPickerSelector.style.top=o-.5*this.colorPickerSelector.clientHeight+"px",this._updatePicker(e)}_setOpacity(e){this.color.a=e/100,this._updatePicker(this.color)}_setBrightness(e){const r=Ac(this.color.r,this.color.g,this.color.b);r.v=e/100;const n=Lf(r.h,r.s,r.v);n.a=this.color.a,this.color=n,this._updatePicker()}_updatePicker(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.color;const r=Ac(e.r,e.g,e.b),n=this.colorPickerCanvas.getContext("2d");this.pixelRation===void 0&&(this.pixelRatio=(window.devicePixelRatio||1)/(n.webkitBackingStorePixelRatio||n.mozBackingStorePixelRatio||n.msBackingStorePixelRatio||n.oBackingStorePixelRatio||n.backingStorePixelRatio||1)),n.setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0);const i=this.colorPickerCanvas.clientWidth,s=this.colorPickerCanvas.clientHeight;n.clearRect(0,0,i,s),n.putImageData(this.hueCircle,0,0),n.fillStyle="rgba(0,0,0,"+(1-r.v)+")",n.circle(this.centerCoordinates.x,this.centerCoordinates.y,this.r),Rh(n).call(n),this.brightnessRange.value=100*r.v,this.opacityRange.value=100*e.a,this.initialColorDiv.style.backgroundColor="rgba("+this.initialColor.r+","+this.initialColor.g+","+this.initialColor.b+","+this.initialColor.a+")",this.newColorDiv.style.backgroundColor="rgba("+this.color.r+","+this.color.g+","+this.color.b+","+this.color.a+")"}_setSize(){this.colorPickerCanvas.style.width="100%",this.colorPickerCanvas.style.height="100%",this.colorPickerCanvas.width=289*this.pixelRatio,this.colorPickerCanvas.height=289*this.pixelRatio}_create(){var e,r,n,i;if(this.frame=document.createElement("div"),this.frame.className="vis-color-picker",this.colorPickerDiv=document.createElement("div"),this.colorPickerSelector=document.createElement("div"),this.colorPickerSelector.className="vis-selector",this.colorPickerDiv.appendChild(this.colorPickerSelector),this.colorPickerCanvas=document.createElement("canvas"),this.colorPickerDiv.appendChild(this.colorPickerCanvas),this.colorPickerCanvas.getContext){const a=this.colorPickerCanvas.getContext("2d");this.pixelRatio=(window.devicePixelRatio||1)/(a.webkitBackingStorePixelRatio||a.mozBackingStorePixelRatio||a.msBackingStorePixelRatio||a.oBackingStorePixelRatio||a.backingStorePixelRatio||1),this.colorPickerCanvas.getContext("2d").setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0)}else{const a=document.createElement("DIV");a.style.color="red",a.style.fontWeight="bold",a.style.padding="10px",a.innerText="Error: your browser does not support HTML canvas",this.colorPickerCanvas.appendChild(a)}this.colorPickerDiv.className="vis-color",this.opacityDiv=document.createElement("div"),this.opacityDiv.className="vis-opacity",this.brightnessDiv=document.createElement("div"),this.brightnessDiv.className="vis-brightness",this.arrowDiv=document.createElement("div"),this.arrowDiv.className="vis-arrow",this.opacityRange=document.createElement("input");try{this.opacityRange.type="range",this.opacityRange.min="0",this.opacityRange.max="100"}catch{}this.opacityRange.value="100",this.opacityRange.className="vis-range",this.brightnessRange=document.createElement("input");try{this.brightnessRange.type="range",this.brightnessRange.min="0",this.brightnessRange.max="100"}catch{}this.brightnessRange.value="100",this.brightnessRange.className="vis-range",this.opacityDiv.appendChild(this.opacityRange),this.brightnessDiv.appendChild(this.brightnessRange);const s=this;this.opacityRange.onchange=function(){s._setOpacity(this.value)},this.opacityRange.oninput=function(){s._setOpacity(this.value)},this.brightnessRange.onchange=function(){s._setBrightness(this.value)},this.brightnessRange.oninput=function(){s._setBrightness(this.value)},this.brightnessLabel=document.createElement("div"),this.brightnessLabel.className="vis-label vis-brightness",this.brightnessLabel.innerText="brightness:",this.opacityLabel=document.createElement("div"),this.opacityLabel.className="vis-label vis-opacity",this.opacityLabel.innerText="opacity:",this.newColorDiv=document.createElement("div"),this.newColorDiv.className="vis-new-color",this.newColorDiv.innerText="new",this.initialColorDiv=document.createElement("div"),this.initialColorDiv.className="vis-initial-color",this.initialColorDiv.innerText="initial",this.cancelButton=document.createElement("div"),this.cancelButton.className="vis-button vis-cancel",this.cancelButton.innerText="cancel",this.cancelButton.onclick=ne(e=this._hide).call(e,this,!1),this.applyButton=document.createElement("div"),this.applyButton.className="vis-button vis-apply",this.applyButton.innerText="apply",this.applyButton.onclick=ne(r=this._apply).call(r,this),this.saveButton=document.createElement("div"),this.saveButton.className="vis-button vis-save",this.saveButton.innerText="save",this.saveButton.onclick=ne(n=this._save).call(n,this),this.loadButton=document.createElement("div"),this.loadButton.className="vis-button vis-load",this.loadButton.innerText="load last",this.loadButton.onclick=ne(i=this._loadLast).call(i,this),this.frame.appendChild(this.colorPickerDiv),this.frame.appendChild(this.arrowDiv),this.frame.appendChild(this.brightnessLabel),this.frame.appendChild(this.brightnessDiv),this.frame.appendChild(this.opacityLabel),this.frame.appendChild(this.opacityDiv),this.frame.appendChild(this.newColorDiv),this.frame.appendChild(this.initialColorDiv),this.frame.appendChild(this.cancelButton),this.frame.appendChild(this.applyButton),this.frame.appendChild(this.saveButton),this.frame.appendChild(this.loadButton)}_bindHammer(){this.drag={},this.pinch={},this.hammer=new hP(this.colorPickerCanvas),this.hammer.get("pinch").set({enable:!0}),this.hammer.on("hammer.input",e=>{e.isFirst&&this._moveSelector(e)}),this.hammer.on("tap",e=>{this._moveSelector(e)}),this.hammer.on("panstart",e=>{this._moveSelector(e)}),this.hammer.on("panmove",e=>{this._moveSelector(e)}),this.hammer.on("panend",e=>{this._moveSelector(e)})}_generateHueCircle(){if(this.generated===!1){const e=this.colorPickerCanvas.getContext("2d");this.pixelRation===void 0&&(this.pixelRatio=(window.devicePixelRatio||1)/(e.webkitBackingStorePixelRatio||e.mozBackingStorePixelRatio||e.msBackingStorePixelRatio||e.oBackingStorePixelRatio||e.backingStorePixelRatio||1)),e.setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0);const r=this.colorPickerCanvas.clientWidth,n=this.colorPickerCanvas.clientHeight;e.clearRect(0,0,r,n);let i,s,a,o;this.centerCoordinates={x:r*.5,y:n*.5},this.r=.49*r;const u=2*Math.PI/360,c=1/360,d=1/this.r;let h;for(a=0;a<360;a++)for(o=0;o<this.r;o++)i=this.centerCoordinates.x+o*Math.sin(u*a),s=this.centerCoordinates.y+o*Math.cos(u*a),h=Lf(a*c,o*d,1),e.fillStyle="rgb("+h.r+","+h.g+","+h.b+")",e.fillRect(i-.5,s-.5,2,2);e.strokeStyle="rgba(0,0,0,1)",e.circle(this.centerCoordinates.x,this.centerCoordinates.y,this.r),e.stroke(),this.hueCircle=e.getImageData(0,0,r,n)}this.generated=!0}_moveSelector(e){const r=this.colorPickerDiv.getBoundingClientRect(),n=e.center.x-r.left,i=e.center.y-r.top,s=.5*this.colorPickerDiv.clientHeight,a=.5*this.colorPickerDiv.clientWidth,o=n-a,u=i-s,c=Math.atan2(o,u),d=.98*Math.min(Math.sqrt(o*o+u*u),a),h=Math.cos(c)*d+s,f=Math.sin(c)*d+a;this.colorPickerSelector.style.top=h-.5*this.colorPickerSelector.clientHeight+"px",this.colorPickerSelector.style.left=f-.5*this.colorPickerSelector.clientWidth+"px";let p=c/(2*Math.PI);p=p<0?p+1:p;const m=d/this.r,y=Ac(this.color.r,this.color.g,this.color.b);y.h=p,y.s=m;const x=Lf(y.h,y.s,y.v);x.a=this.color.a,this.color=x,this.initialColorDiv.style.backgroundColor="rgba("+this.initialColor.r+","+this.initialColor.g+","+this.initialColor.b+","+this.initialColor.a+")",this.newColorDiv.style.backgroundColor="rgba("+this.color.r+","+this.color.g+","+this.color.b+","+this.color.a+")"}};function Hj(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];if(e.length<1)throw new TypeError("Invalid arguments.");if(e.length===1)return document.createTextNode(e[0]);{const n=document.createElement(e[0]);return n.appendChild(Hj(...Pi(e).call(e,1))),n}}let rge=class{constructor(e,r,n){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:1,s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:()=>!1;this.parent=e,this.changedOptions=[],this.container=r,this.allowCreation=!1,this.hideOption=s,this.options={},this.initialized=!1,this.popupCounter=0,this.defaultOptions={enabled:!1,filter:!0,container:void 0,showButton:!0},er(this.options,this.defaultOptions),this.configureOptions=n,this.moduleOptions={},this.domElements=[],this.popupDiv={},this.popupLimit=5,this.popupHistory={},this.colorPicker=new tge(i),this.wrapper=void 0}setOptions(e){if(e!==void 0){this.popupHistory={},this._removePopup();let r=!0;if(typeof e=="string")this.options.filter=e;else if(zt(e))this.options.filter=e.join();else if(typeof e=="object"){if(e==null)throw new TypeError("options cannot be null");e.container!==void 0&&(this.options.container=e.container),an(e)!==void 0&&(this.options.filter=an(e)),e.showButton!==void 0&&(this.options.showButton=e.showButton),e.enabled!==void 0&&(r=e.enabled)}else typeof e=="boolean"?(this.options.filter=!0,r=e):typeof e=="function"&&(this.options.filter=e,r=!0);an(this.options)===!1&&(r=!1),this.options.enabled=r}this._clean()}setModuleOptions(e){this.moduleOptions=e,this.options.enabled===!0&&(this._clean(),this.options.container!==void 0&&(this.container=this.options.container),this._create())}_create(){this._clean(),this.changedOptions=[];const e=an(this.options);let r=0,n=!1;for(const i in this.configureOptions)Object.prototype.hasOwnProperty.call(this.configureOptions,i)&&(this.allowCreation=!1,n=!1,typeof e=="function"?(n=e(i,[]),n=n||this._handleObject(this.configureOptions[i],[i],!0)):(e===!0||ot(e).call(e,i)!==-1)&&(n=!0),n!==!1&&(this.allowCreation=!0,r>0&&this._makeItem([]),this._makeHeader(i),this._handleObject(this.configureOptions[i],[i])),r++);this._makeButton(),this._push()}_push(){this.wrapper=document.createElement("div"),this.wrapper.className="vis-configuration-wrapper",this.container.appendChild(this.wrapper);for(let e=0;e<this.domElements.length;e++)this.wrapper.appendChild(this.domElements[e]);this._showPopupIfNeeded()}_clean(){for(let e=0;e<this.domElements.length;e++)this.wrapper.removeChild(this.domElements[e]);this.wrapper!==void 0&&(this.container.removeChild(this.wrapper),this.wrapper=void 0),this.domElements=[],this._removePopup()}_getValue(e){let r=this.moduleOptions;for(let n=0;n<e.length;n++)if(r[e[n]]!==void 0)r=r[e[n]];else{r=void 0;break}return r}_makeItem(e){if(this.allowCreation===!0){const s=document.createElement("div");s.className="vis-configuration vis-config-item vis-config-s"+e.length;for(var r=arguments.length,n=new Array(r>1?r-1:0),i=1;i<r;i++)n[i-1]=arguments[i];return pt(n).call(n,a=>{s.appendChild(a)}),this.domElements.push(s),this.domElements.length}return 0}_makeHeader(e){const r=document.createElement("div");r.className="vis-configuration vis-config-header",r.innerText=e,this._makeItem([],r)}_makeLabel(e,r){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;const i=document.createElement("div");if(i.className="vis-configuration vis-config-label vis-config-s"+r.length,n===!0){for(;i.firstChild;)i.removeChild(i.firstChild);i.appendChild(Hj("i","b",e))}else i.innerText=e+":";return i}_makeDropdown(e,r,n){const i=document.createElement("select");i.className="vis-configuration vis-config-select";let s=0;r!==void 0&&ot(e).call(e,r)!==-1&&(s=ot(e).call(e,r));for(let u=0;u<e.length;u++){const c=document.createElement("option");c.value=e[u],u===s&&(c.selected="selected"),c.innerText=e[u],i.appendChild(c)}const a=this;i.onchange=function(){a._update(this.value,n)};const o=this._makeLabel(n[n.length-1],n);this._makeItem(n,o,i)}_makeRange(e,r,n){const i=e[0],s=e[1],a=e[2],o=e[3],u=document.createElement("input");u.className="vis-configuration vis-config-range";try{u.type="range",u.min=s,u.max=a}catch{}u.step=o;let c="",d=0;r!==void 0?(r<0&&r*1.2<s?(u.min=Math.ceil(r*1.2),d=u.min,c="range increased"):r/1.2<s&&(u.min=Math.ceil(r/1.2),d=u.min,c="range increased"),r*1.2>a&&a!==1&&(u.max=Math.ceil(r*1.2),d=u.max,c="range increased"),u.value=r):u.value=i;const h=document.createElement("input");h.className="vis-configuration vis-config-rangeinput",h.value=u.value;const f=this;u.onchange=function(){h.value=this.value,f._update(Number(this.value),n)},u.oninput=function(){h.value=this.value};const p=this._makeLabel(n[n.length-1],n),m=this._makeItem(n,p,u,h);c!==""&&this.popupHistory[m]!==d&&(this.popupHistory[m]=d,this._setupPopup(c,m))}_makeButton(){if(this.options.showButton===!0){const e=document.createElement("div");e.className="vis-configuration vis-config-button",e.innerText="generate options",e.onclick=()=>{this._printOptions()},e.onmouseover=()=>{e.className="vis-configuration vis-config-button hover"},e.onmouseout=()=>{e.className="vis-configuration vis-config-button"},this.optionsContainer=document.createElement("div"),this.optionsContainer.className="vis-configuration vis-config-option-container",this.domElements.push(this.optionsContainer),this.domElements.push(e)}}_setupPopup(e,r){if(this.initialized===!0&&this.allowCreation===!0&&this.popupCounter<this.popupLimit){const n=document.createElement("div");n.id="vis-configuration-popup",n.className="vis-configuration-popup",n.innerText=e,n.onclick=()=>{this._removePopup()},this.popupCounter+=1,this.popupDiv={html:n,index:r}}}_removePopup(){this.popupDiv.html!==void 0&&(this.popupDiv.html.parentNode.removeChild(this.popupDiv.html),clearTimeout(this.popupDiv.hideTimeout),clearTimeout(this.popupDiv.deleteTimeout),this.popupDiv={})}_showPopupIfNeeded(){if(this.popupDiv.html!==void 0){const r=this.domElements[this.popupDiv.index].getBoundingClientRect();this.popupDiv.html.style.left=r.left+"px",this.popupDiv.html.style.top=r.top-30+"px",document.body.appendChild(this.popupDiv.html),this.popupDiv.hideTimeout=ls(()=>{this.popupDiv.html.style.opacity=0},1500),this.popupDiv.deleteTimeout=ls(()=>{this._removePopup()},1800)}}_makeCheckbox(e,r,n){const i=document.createElement("input");i.type="checkbox",i.className="vis-configuration vis-config-checkbox",i.checked=e,r!==void 0&&(i.checked=r,r!==e&&(typeof e=="object"?r!==e.enabled&&this.changedOptions.push({path:n,value:r}):this.changedOptions.push({path:n,value:r})));const s=this;i.onchange=function(){s._update(this.checked,n)};const a=this._makeLabel(n[n.length-1],n);this._makeItem(n,a,i)}_makeTextInput(e,r,n){const i=document.createElement("input");i.type="text",i.className="vis-configuration vis-config-text",i.value=r,r!==e&&this.changedOptions.push({path:n,value:r});const s=this;i.onchange=function(){s._update(this.value,n)};const a=this._makeLabel(n[n.length-1],n);this._makeItem(n,a,i)}_makeColorField(e,r,n){const i=e[1],s=document.createElement("div");r=r===void 0?i:r,r!=="none"?(s.className="vis-configuration vis-config-colorBlock",s.style.backgroundColor=r):s.className="vis-configuration vis-config-colorBlock none",r=r===void 0?i:r,s.onclick=()=>{this._showColorPicker(r,s,n)};const a=this._makeLabel(n[n.length-1],n);this._makeItem(n,a,s)}_showColorPicker(e,r,n){r.onclick=function(){},this.colorPicker.insertTo(r),this.colorPicker.show(),this.colorPicker.setColor(e),this.colorPicker.setUpdateCallback(i=>{const s="rgba("+i.r+","+i.g+","+i.b+","+i.a+")";r.style.backgroundColor=s,this._update(s,n)}),this.colorPicker.setCloseCallback(()=>{r.onclick=()=>{this._showColorPicker(e,r,n)}})}_handleObject(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,i=!1;const s=an(this.options);let a=!1;for(const o in e)if(Object.prototype.hasOwnProperty.call(e,o)){i=!0;const u=e[o],c=qp(r,o);if(typeof s=="function"&&(i=s(o,r),i===!1&&!zt(u)&&typeof u!="string"&&typeof u!="boolean"&&u instanceof Object&&(this.allowCreation=!1,i=this._handleObject(u,c,!0),this.allowCreation=n===!1)),i!==!1){a=!0;const d=this._getValue(c);if(zt(u))this._handleArray(u,d,c);else if(typeof u=="string")this._makeTextInput(u,d,c);else if(typeof u=="boolean")this._makeCheckbox(u,d,c);else if(u instanceof Object){if(!this.hideOption(r,o,this.moduleOptions))if(u.enabled!==void 0){const h=qp(c,"enabled"),f=this._getValue(h);if(f===!0){const p=this._makeLabel(o,c,!0);this._makeItem(c,p),a=this._handleObject(u,c)||a}else this._makeCheckbox(u,f,c)}else{const h=this._makeLabel(o,c,!0);this._makeItem(c,h),a=this._handleObject(u,c)||a}}else console.error("dont know how to handle",u,o,c)}}return a}_handleArray(e,r,n){typeof e[0]=="string"&&e[0]==="color"?(this._makeColorField(e,r,n),e[1]!==r&&this.changedOptions.push({path:n,value:r})):typeof e[0]=="string"?(this._makeDropdown(e,r,n),e[0]!==r&&this.changedOptions.push({path:n,value:r})):typeof e[0]=="number"&&(this._makeRange(e,r,n),e[0]!==r&&this.changedOptions.push({path:n,value:Number(r)}))}_update(e,r){const n=this._constructOptions(e,r);this.parent.body&&this.parent.body.emitter&&this.parent.body.emitter.emit&&this.parent.body.emitter.emit("configChange",n),this.initialized=!0,this.parent.setOptions(n)}_constructOptions(e,r){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},i=n;e=e==="true"?!0:e,e=e==="false"?!1:e;for(let s=0;s<r.length;s++)r[s]!=="global"&&(i[r[s]]===void 0&&(i[r[s]]={}),s!==r.length-1?i=i[r[s]]:i[r[s]]=e);return n}_printOptions(){const e=this.getOptions();for(;this.optionsContainer.firstChild;)this.optionsContainer.removeChild(this.optionsContainer.firstChild);this.optionsContainer.appendChild(Hj("pre","const options = "+Ih(e,null,2)))}getOptions(){const e={};for(let r=0;r<this.changedOptions.length;r++)this._constructOptions(this.changedOptions[r].value,this.changedOptions[r].path,e);return e}},nge=class{constructor(e,r){this.container=e,this.overflowMethod=r||"cap",this.x=0,this.y=0,this.padding=5,this.hidden=!1,this.frame=document.createElement("div"),this.frame.className="vis-tooltip",this.container.appendChild(this.frame)}setPosition(e,r){this.x=ui(e),this.y=ui(r)}setText(e){if(e instanceof Element){for(;this.frame.firstChild;)this.frame.removeChild(this.frame.firstChild);this.frame.appendChild(e)}else this.frame.innerText=e}show(e){if(e===void 0&&(e=!0),e===!0){const r=this.frame.clientHeight,n=this.frame.clientWidth,i=this.frame.parentNode.clientHeight,s=this.frame.parentNode.clientWidth;let a=0,o=0;if(this.overflowMethod=="flip"){let u=!1,c=!0;this.y-r<this.padding&&(c=!1),this.x+n>s-this.padding&&(u=!0),u?a=this.x-n:a=this.x,c?o=this.y-r:o=this.y}else o=this.y-r,o+r+this.padding>i&&(o=i-r-this.padding),o<this.padding&&(o=this.padding),a=this.x,a+n+this.padding>s&&(a=s-n-this.padding),a<this.padding&&(a=this.padding);this.frame.style.left=a+"px",this.frame.style.top=o+"px",this.frame.style.visibility="visible",this.hidden=!1}else this.hide()}hide(){this.hidden=!0,this.frame.style.left="0",this.frame.style.top="0",this.frame.style.visibility="hidden"}destroy(){this.frame.parentNode.removeChild(this.frame)}},Ic=!1,jz;const Kj="background: #FFeeee; color: #dd0000";let ige=class Dt{static validate(e,r,n){Ic=!1,jz=r;let i=r;return n!==void 0&&(i=r[n]),Dt.parse(e,i,[]),Ic}static parse(e,r,n){for(const i in e)Object.prototype.hasOwnProperty.call(e,i)&&Dt.check(i,e,r,n)}static check(e,r,n,i){if(n[e]===void 0&&n.__any__===void 0){Dt.getSuggestion(e,n,i);return}let s=e,a=!0;n[e]===void 0&&n.__any__!==void 0&&(s="__any__",a=Dt.getType(r[e])==="object");let o=n[s];a&&o.__type__!==void 0&&(o=o.__type__),Dt.checkFields(e,r,n,s,o,i)}static checkFields(e,r,n,i,s,a){const o=function(d){console.error("%c"+d+Dt.printLocation(a,e),Kj)},u=Dt.getType(r[e]),c=s[u];c!==void 0?Dt.getType(c)==="array"&&ot(c).call(c,r[e])===-1?(o('Invalid option detected in "'+e+'". Allowed values are:'+Dt.print(c)+' not "'+r[e]+'". '),Ic=!0):u==="object"&&i!=="__any__"&&(a=qp(a,e),Dt.parse(r[e],n[i],a)):s.any===void 0&&(o('Invalid type received for "'+e+'". Expected: '+Dt.print(Ft(s))+". Received ["+u+'] "'+r[e]+'"'),Ic=!0)}static getType(e){const r=typeof e;return r==="object"?e===null?"null":e instanceof Boolean?"boolean":e instanceof Number?"number":e instanceof String?"string":zt(e)?"array":e instanceof Date?"date":e.nodeType!==void 0?"dom":e._isAMomentObject===!0?"moment":"object":r==="number"?"number":r==="boolean"?"boolean":r==="string"?"string":r===void 0?"undefined":r}static getSuggestion(e,r,n){const i=Dt.findInOptions(e,r,n,!1),s=Dt.findInOptions(e,jz,[],!0),a=8,o=4;let u;i.indexMatch!==void 0?u=" in "+Dt.printLocation(i.path,e,"")+'Perhaps it was incomplete? Did you mean: "'+i.indexMatch+`"?

`:s.distance<=o&&i.distance>s.distance?u=" in "+Dt.printLocation(i.path,e,"")+"Perhaps it was misplaced? Matching option found at: "+Dt.printLocation(s.path,s.closestMatch,""):i.distance<=a?u='. Did you mean "'+i.closestMatch+'"?'+Dt.printLocation(i.path,e):u=". Did you mean one of these: "+Dt.print(Ft(r))+Dt.printLocation(n,e),console.error('%cUnknown option detected: "'+e+'"'+u,Kj),Ic=!0}static findInOptions(e,r,n){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1,s=1e9,a="",o=[];const u=e.toLowerCase();let c;for(const h in r){let f;if(r[h].__type__!==void 0&&i===!0){const p=Dt.findInOptions(e,r[h],qp(n,h));s>p.distance&&(a=p.closestMatch,o=p.path,s=p.distance,c=p.indexMatch)}else{var d;ot(d=h.toLowerCase()).call(d,u)!==-1&&(c=h),f=Dt.levenshteinDistance(e,h),s>f&&(a=h,o=Gve(n),s=f)}}return{closestMatch:a,path:o,distance:s,indexMatch:c}}static printLocation(e,r){let i=`

`+(arguments.length>2&&arguments[2]!==void 0?arguments[2]:`Problem value found at: 
`)+`options = {
`;for(let s=0;s<e.length;s++){for(let a=0;a<s+1;a++)i+="  ";i+=e[s]+`: {
`}for(let s=0;s<e.length+1;s++)i+="  ";i+=r+`
`;for(let s=0;s<e.length+1;s++){for(let a=0;a<e.length-s;a++)i+="  ";i+=`}
`}return i+`

`}static print(e){return Ih(e).replace(/(")|(\[)|(\])|(,"__type__")/g,"").replace(/(,)/g,", ")}static levenshteinDistance(e,r){if(e.length===0)return r.length;if(r.length===0)return e.length;const n=[];let i;for(i=0;i<=r.length;i++)n[i]=[i];let s;for(s=0;s<=e.length;s++)n[0][s]=s;for(i=1;i<=r.length;i++)for(s=1;s<=e.length;s++)r.charAt(i-1)==e.charAt(s-1)?n[i][s]=n[i-1][s-1]:n[i][s]=Math.min(n[i-1][s-1]+1,Math.min(n[i][s-1]+1,n[i-1][s]+1));return n[r.length][e.length]}};const sge=Ri,age=rge,Wl=hP,oge=nge,mQ=Kj,lge=ige;function uge(t){return ea=t,fge()}var vQ={fontsize:"font.size",fontcolor:"font.color",labelfontcolor:"font.color",fontname:"font.face",color:["color.border","color.background"],fillcolor:"color.background",tooltip:"title",labeltooltip:"title"},pP=yo(vQ);pP.color="color.color";pP.style="dashes";var Lr={NULL:0,DELIMITER:1,IDENTIFIER:2,UNKNOWN:3},Cz={"{":!0,"}":!0,"[":!0,"]":!0,";":!0,"=":!0,",":!0,"->":!0,"--":!0},ea="",Pu=0,Be="",Oe="",rn=Lr.NULL;function cge(){Pu=0,Be=ea.charAt(0)}function cr(){Pu++,Be=ea.charAt(Pu)}function ml(){return ea.charAt(Pu+1)}function Oz(t){var e=t.charCodeAt(0);return e<47?e===35||e===46:e<59?e>47:e<91?e>64:e<96?e===95:e<123?e>96:!1}function _a(t,e){if(t||(t={}),e)for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);return t}function dge(t,e,r){for(var n=e.split("."),i=t;n.length;){var s=n.shift();n.length?(i[s]||(i[s]={}),i=i[s]):i[s]=r}}function gQ(t,e){for(var r,n,i=null,s=[t],a=t;a.parent;)s.push(a.parent),a=a.parent;if(a.nodes){for(r=0,n=a.nodes.length;r<n;r++)if(e.id===a.nodes[r].id){i=a.nodes[r];break}}for(i||(i={id:e.id},t.node&&(i.attr=_a(i.attr,t.node))),r=s.length-1;r>=0;r--){var o,u=s[r];u.nodes||(u.nodes=[]),ot(o=u.nodes).call(o,i)===-1&&u.nodes.push(i)}e.attr&&(i.attr=_a(i.attr,e.attr))}function hge(t,e){if(t.edges||(t.edges=[]),t.edges.push(e),t.edge){var r=_a({},t.edge);e.attr=_a(r,e.attr)}}function yQ(t,e,r,n,i){var s={from:e,to:r,type:n};return t.edge&&(s.attr=_a({},t.edge)),s.attr=_a(s.attr||{},i),i!=null&&i.hasOwnProperty("arrows")&&i.arrows!=null&&(s.arrows={to:{enabled:!0,type:i.arrows.type}},i.arrows=null),s}function bt(){for(rn=Lr.NULL,Oe="";Be===" "||Be==="	"||Be===`
`||Be==="\r";)cr();do{var t=!1;if(Be==="#"){for(var e=Pu-1;ea.charAt(e)===" "||ea.charAt(e)==="	";)e--;if(ea.charAt(e)===`
`||ea.charAt(e)===""){for(;Be!=""&&Be!=`
`;)cr();t=!0}}if(Be==="/"&&ml()==="/"){for(;Be!=""&&Be!=`
`;)cr();t=!0}if(Be==="/"&&ml()==="*"){for(;Be!="";)if(Be==="*"&&ml()==="/"){cr(),cr();break}else cr();t=!0}for(;Be===" "||Be==="	"||Be===`
`||Be==="\r";)cr()}while(t);if(Be===""){rn=Lr.DELIMITER;return}var r=Be+ml();if(Cz[r]){rn=Lr.DELIMITER,Oe=r,cr(),cr();return}if(Cz[Be]){rn=Lr.DELIMITER,Oe=Be,cr();return}if(Oz(Be)||Be==="-"){for(Oe+=Be,cr();Oz(Be);)Oe+=Be,cr();Oe==="false"?Oe=!1:Oe==="true"?Oe=!0:isNaN(Number(Oe))||(Oe=Number(Oe)),rn=Lr.IDENTIFIER;return}if(Be==='"'){for(cr();Be!=""&&(Be!='"'||Be==='"'&&ml()==='"');)Be==='"'?(Oe+=Be,cr()):Be==="\\"&&ml()==="n"?(Oe+=`
`,cr()):Oe+=Be,cr();if(Be!='"')throw Br('End of string " expected');cr(),rn=Lr.IDENTIFIER;return}for(rn=Lr.UNKNOWN;Be!="";)Oe+=Be,cr();throw new SyntaxError('Syntax error in part "'+_Q(Oe,30)+'"')}function fge(){var t={};if(cge(),bt(),Oe==="strict"&&(t.strict=!0,bt()),(Oe==="graph"||Oe==="digraph")&&(t.type=Oe,bt()),rn===Lr.IDENTIFIER&&(t.id=Oe,bt()),Oe!="{")throw Br("Angle bracket { expected");if(bt(),bQ(t),Oe!="}")throw Br("Angle bracket } expected");if(bt(),Oe!=="")throw Br("End of file expected");return bt(),delete t.node,delete t.edge,delete t.graph,t}function bQ(t){for(;Oe!==""&&Oe!="}";)pge(t),Oe===";"&&bt()}function pge(t){var e=xQ(t);if(e){wQ(t,e);return}var r=mge(t);if(!r){if(rn!=Lr.IDENTIFIER)throw Br("Identifier expected");var n=Oe;if(bt(),Oe==="="){if(bt(),rn!=Lr.IDENTIFIER)throw Br("Identifier expected");t[n]=Oe,bt()}else vge(t,n)}}function xQ(t){var e=null;if(Oe==="subgraph"&&(e={},e.type="subgraph",bt(),rn===Lr.IDENTIFIER&&(e.id=Oe,bt())),Oe==="{"){if(bt(),e||(e={}),e.parent=t,e.node=t.node,e.edge=t.edge,e.graph=t.graph,bQ(e),Oe!="}")throw Br("Angle bracket } expected");bt(),delete e.node,delete e.edge,delete e.graph,delete e.parent,t.subgraphs||(t.subgraphs=[]),t.subgraphs.push(e)}return e}function mge(t){return Oe==="node"?(bt(),t.node=td(),"node"):Oe==="edge"?(bt(),t.edge=td(),"edge"):Oe==="graph"?(bt(),t.graph=td(),"graph"):null}function vge(t,e){var r={id:e},n=td();n&&(r.attr=n),gQ(t,r),wQ(t,e)}function wQ(t,e){for(;Oe==="->"||Oe==="--";){var r,n=Oe;bt();var i=xQ(t);if(i)r=i;else{if(rn!=Lr.IDENTIFIER)throw Br("Identifier or subgraph expected");r=Oe,gQ(t,{id:r}),bt()}var s=td(),a=yQ(t,e,r,n,s);hge(t,a),e=r}}function td(){for(var t,e=null,r={dashed:!0,solid:!1,dotted:[1,5]},n={dot:"circle",box:"box",crow:"crow",curve:"curve",icurve:"inv_curve",normal:"triangle",inv:"inv_triangle",diamond:"diamond",tee:"bar",vee:"vee"},i=new Array,s=new Array;Oe==="[";){for(bt(),e={};Oe!==""&&Oe!="]";){if(rn!=Lr.IDENTIFIER)throw Br("Attribute name expected");var a=Oe;if(bt(),Oe!="=")throw Br("Equal sign = expected");if(bt(),rn!=Lr.IDENTIFIER)throw Br("Attribute value expected");var o=Oe;a==="style"&&(o=r[o]);var u;a==="arrowhead"&&(u=n[o],a="arrows",o={to:{enabled:!0,type:u}}),a==="arrowtail"&&(u=n[o],a="arrows",o={from:{enabled:!0,type:u}}),i.push({attr:e,name:a,value:o}),s.push(a),bt(),Oe==","&&bt()}if(Oe!="]")throw Br("Bracket ] expected");bt()}if(pa(s).call(s,"dir")){var c={};for(c.arrows={},t=0;t<i.length;t++)if(i[t].name==="arrows")if(i[t].value.to!=null)c.arrows.to=t;else if(i[t].value.from!=null)c.arrows.from=t;else throw Br("Invalid value of arrows");else i[t].name==="dir"&&(c.dir=t);var d=i[c.dir].value;if(!pa(s).call(s,"arrows"))if(d==="both")i.push({attr:i[c.dir].attr,name:"arrows",value:{to:{enabled:!0}}}),c.arrows.to=i.length-1,i.push({attr:i[c.dir].attr,name:"arrows",value:{from:{enabled:!0}}}),c.arrows.from=i.length-1;else if(d==="forward")i.push({attr:i[c.dir].attr,name:"arrows",value:{to:{enabled:!0}}}),c.arrows.to=i.length-1;else if(d==="back")i.push({attr:i[c.dir].attr,name:"arrows",value:{from:{enabled:!0}}}),c.arrows.from=i.length-1;else if(d==="none")i.push({attr:i[c.dir].attr,name:"arrows",value:""}),c.arrows.to=i.length-1;else throw Br('Invalid dir type "'+d+'"');var h,f;if(d==="both")c.arrows.to&&c.arrows.from?(f=i[c.arrows.to].value.to.type,h=i[c.arrows.from].value.from.type,i[c.arrows.to]={attr:i[c.arrows.to].attr,name:i[c.arrows.to].name,value:{to:{enabled:!0,type:f},from:{enabled:!0,type:h}}},os(i).call(i,c.arrows.from,1)):c.arrows.to?(f=i[c.arrows.to].value.to.type,h="arrow",i[c.arrows.to]={attr:i[c.arrows.to].attr,name:i[c.arrows.to].name,value:{to:{enabled:!0,type:f},from:{enabled:!0,type:h}}}):c.arrows.from&&(f="arrow",h=i[c.arrows.from].value.from.type,i[c.arrows.from]={attr:i[c.arrows.from].attr,name:i[c.arrows.from].name,value:{to:{enabled:!0,type:f},from:{enabled:!0,type:h}}});else if(d==="back")c.arrows.to&&c.arrows.from?(f="",h=i[c.arrows.from].value.from.type,i[c.arrows.from]={attr:i[c.arrows.from].attr,name:i[c.arrows.from].name,value:{to:{enabled:!0,type:f},from:{enabled:!0,type:h}}}):c.arrows.to?(f="",h="arrow",c.arrows.from=c.arrows.to,i[c.arrows.from]={attr:i[c.arrows.from].attr,name:i[c.arrows.from].name,value:{to:{enabled:!0,type:f},from:{enabled:!0,type:h}}}):c.arrows.from&&(f="",h=i[c.arrows.from].value.from.type,i[c.arrows.to]={attr:i[c.arrows.from].attr,name:i[c.arrows.from].name,value:{to:{enabled:!0,type:f},from:{enabled:!0,type:h}}}),i[c.arrows.from]={attr:i[c.arrows.from].attr,name:i[c.arrows.from].name,value:{from:{enabled:!0,type:i[c.arrows.from].value.from.type}}};else if(d==="none"){var p;c.arrows.to?p=c.arrows.to:p=c.arrows.from,i[p]={attr:i[p].attr,name:i[p].name,value:""}}else if(d==="forward")c.arrows.to&&c.arrows.from?(f=i[c.arrows.to].value.to.type,h="",i[c.arrows.to]={attr:i[c.arrows.to].attr,name:i[c.arrows.to].name,value:{to:{enabled:!0,type:f},from:{enabled:!0,type:h}}}):c.arrows.to?(f=i[c.arrows.to].value.to.type,h="",i[c.arrows.to]={attr:i[c.arrows.to].attr,name:i[c.arrows.to].name,value:{to:{enabled:!0,type:f},from:{enabled:!0,type:h}}}):c.arrows.from&&(f="arrow",h="",c.arrows.to=c.arrows.from,i[c.arrows.to]={attr:i[c.arrows.to].attr,name:i[c.arrows.to].name,value:{to:{enabled:!0,type:f},from:{enabled:!0,type:h}}}),i[c.arrows.to]={attr:i[c.arrows.to].attr,name:i[c.arrows.to].name,value:{to:{enabled:!0,type:i[c.arrows.to].value.to.type}}};else throw Br('Invalid dir type "'+d+'"');os(i).call(i,c.dir,1)}var m;if(pa(s).call(s,"penwidth")){var y=[];for(m=i.length,t=0;t<m;t++)i[t].name!=="width"&&(i[t].name==="penwidth"&&(i[t].name="width"),y.push(i[t]));i=y}for(m=i.length,t=0;t<m;t++)dge(i[t].attr,i[t].name,i[t].value);return e}function Br(t){return new SyntaxError(t+', got "'+_Q(Oe,30)+'" (char '+Pu+")")}function _Q(t,e){return t.length<=e?t:t.substr(0,27)+"..."}function gge(t,e,r){zt(t)?pt(t).call(t,function(n){zt(e)?pt(e).call(e,function(i){r(n,i)}):r(n,e)}):zt(e)?pt(e).call(e,function(n){r(t,n)}):r(t,e)}function qS(t,e,r){for(var n=e.split("."),i=n.pop(),s=t,a=0;a<n.length;a++){var o=n[a];o in s||(s[o]={}),s=s[o]}return s[i]=r,t}function Pz(t,e){var r={};for(var n in t)if(t.hasOwnProperty(n)){var i=e[n];zt(i)?pt(i).call(i,function(s){qS(r,s,t[n])}):typeof i=="string"?qS(r,i,t[n]):qS(r,n,t[n])}return r}function yge(t){var e=uge(t),r={nodes:[],edges:[],options:{}};if(e.nodes){var n;pt(n=e.nodes).call(n,function(a){var o={id:a.id,label:String(a.label||a.id)};_a(o,Pz(a.attr,vQ)),o.image&&(o.shape="image"),r.nodes.push(o)})}if(e.edges){var i,s=function(a){var o={from:a.from,to:a.to};return _a(o,Pz(a.attr,pP)),o.arrows==null&&a.type==="->"&&(o.arrows="to"),o};pt(i=e.edges).call(i,function(a){var o,u;if(a.from instanceof Object?o=a.from.nodes:o={id:a.from},a.to instanceof Object?u=a.to.nodes:u={id:a.to},a.from instanceof Object&&a.from.edges){var c;pt(c=a.from.edges).call(c,function(h){var f=s(h);r.edges.push(f)})}if(gge(o,u,function(h,f){var p=yQ(r,h.id,f.id,a.type,a.attr),m=s(p);r.edges.push(m)}),a.to instanceof Object&&a.to.edges){var d;pt(d=a.to.edges).call(d,function(h){var f=s(h);r.edges.push(f)})}})}return e.attr&&(r.options=e.attr),r}function bge(t,e){var r;const n={edges:{inheritColor:!1},nodes:{fixed:!1,parseColor:!1}};e!=null&&(e.fixed!=null&&(n.nodes.fixed=e.fixed),e.parseColor!=null&&(n.nodes.parseColor=e.parseColor),e.inheritColor!=null&&(n.edges.inheritColor=e.inheritColor));const i=t.edges,s=Nu(i).call(i,o=>{const u={from:o.source,id:o.id,to:o.target};return o.attributes!=null&&(u.attributes=o.attributes),o.label!=null&&(u.label=o.label),o.attributes!=null&&o.attributes.title!=null&&(u.title=o.attributes.title),o.type==="Directed"&&(u.arrows="to"),o.color&&n.edges.inheritColor===!1&&(u.color=o.color),u});return{nodes:Nu(r=t.nodes).call(r,o=>{const u={id:o.id,fixed:n.nodes.fixed&&o.x!=null&&o.y!=null};return o.attributes!=null&&(u.attributes=o.attributes),o.label!=null&&(u.label=o.label),o.size!=null&&(u.size=o.size),o.attributes!=null&&o.attributes.title!=null&&(u.title=o.attributes.title),o.title!=null&&(u.title=o.title),o.x!=null&&(u.x=o.x),o.y!=null&&(u.y=o.y),o.color!=null&&(n.nodes.parseColor===!0?u.color=o.color:u.color={background:o.color,border:o.color,highlight:{background:o.color,border:o.color},hover:{background:o.color,border:o.color}}),u}),edges:s}}const xge={addDescription:"Click in an empty space to place a new node.",addEdge:"Add Edge",addNode:"Add Node",back:"Back",close:"Close",createEdgeError:"Cannot link edges to a cluster.",del:"Delete selected",deleteClusterError:"Clusters cannot be deleted.",edgeDescription:"Click on a node and drag the edge to another node to connect them.",edit:"Edit",editClusterError:"Clusters cannot be edited.",editEdge:"Edit Edge",editEdgeDescription:"Click on the control points and drag them to a node to connect to it.",editNode:"Edit Node"},wge={addDescription:"Klicke auf eine freie Stelle, um einen neuen Knoten zu plazieren.",addEdge:"Kante hinzufgen",addNode:"Knoten hinzufgen",back:"Zurck",close:"Schlieen",createEdgeError:"Es ist nicht mglich, Kanten mit Clustern zu verbinden.",del:"Lsche Auswahl",deleteClusterError:"Cluster knnen nicht gelscht werden.",edgeDescription:"Klicke auf einen Knoten und ziehe die Kante zu einem anderen Knoten, um diese zu verbinden.",edit:"Editieren",editClusterError:"Cluster knnen nicht editiert werden.",editEdge:"Kante editieren",editEdgeDescription:"Klicke auf die Verbindungspunkte und ziehe diese auf einen Knoten, um sie zu verbinden.",editNode:"Knoten editieren"},_ge={addDescription:"Haga clic en un lugar vaco para colocar un nuevo nodo.",addEdge:"Aadir arista",addNode:"Aadir nodo",back:"Atrs",close:"Cerrar",createEdgeError:"No se puede conectar una arista a un grupo.",del:"Eliminar seleccin",deleteClusterError:"No es posible eliminar grupos.",edgeDescription:"Haga clic en un nodo y arrastre la arista hacia otro nodo para conectarlos.",edit:"Editar",editClusterError:"No es posible editar grupos.",editEdge:"Editar arista",editEdgeDescription:"Haga clic en un punto de control y arrastrelo a un nodo para conectarlo.",editNode:"Editar nodo"},Sge={addDescription:"Clicca per aggiungere un nuovo nodo",addEdge:"Aggiungi un vertice",addNode:"Aggiungi un nodo",back:"Indietro",close:"Chiudere",createEdgeError:"Non si possono collegare vertici ad un cluster",del:"Cancella la selezione",deleteClusterError:"I cluster non possono essere cancellati",edgeDescription:"Clicca su un nodo e trascinalo ad un altro nodo per connetterli.",edit:"Modifica",editClusterError:"I clusters non possono essere modificati.",editEdge:"Modifica il vertice",editEdgeDescription:"Clicca sui Punti di controllo e trascinali ad un nodo per connetterli.",editNode:"Modifica il nodo"},Ege={addDescription:"Klik op een leeg gebied om een nieuwe node te maken.",addEdge:"Link toevoegen",addNode:"Node toevoegen",back:"Terug",close:"Sluiten",createEdgeError:"Kan geen link maken naar een cluster.",del:"Selectie verwijderen",deleteClusterError:"Clusters kunnen niet worden verwijderd.",edgeDescription:"Klik op een node en sleep de link naar een andere node om ze te verbinden.",edit:"Wijzigen",editClusterError:"Clusters kunnen niet worden aangepast.",editEdge:"Link wijzigen",editEdgeDescription:"Klik op de verbindingspunten en sleep ze naar een node om daarmee te verbinden.",editNode:"Node wijzigen"},Nge={addDescription:"Clique em um espao em branco para adicionar um novo n",addEdge:"Adicionar aresta",addNode:"Adicionar n",back:"Voltar",close:"Fechar",createEdgeError:"No foi possvel linkar arestas a um cluster.",del:"Remover selecionado",deleteClusterError:"Clusters no puderam ser removidos.",edgeDescription:"Clique em um n e arraste a aresta at outro n para conect-los",edit:"Editar",editClusterError:"Clusters no puderam ser editados.",editEdge:"Editar aresta",editEdgeDescription:"Clique nos pontos de controle e os arraste para um n para conect-los",editNode:"Editar n"},jge={addDescription:"   ,    .",addEdge:" ",addNode:" ",back:"",close:"",createEdgeError:"    .",del:" ",deleteClusterError:"    ",edgeDescription:"        ,   .",edit:"",editClusterError:"   .",editEdge:" ",editEdgeDescription:"        ,    .",editNode:" "},Cge={addDescription:"",addEdge:"",addNode:"",back:"",close:"",createEdgeError:"",del:"",deleteClusterError:"",edgeDescription:"",edit:"",editClusterError:"",editEdge:"",editEdgeDescription:"",editNode:""},Oge={addDescription:"K   ,    .",addEdge:" ",addNode:" ",back:"",close:"",createEdgeError:"  '   .",del:" ",deleteClusterError:"    .",edgeDescription:"        ,   '.",edit:"",editClusterError:"   .",editEdge:" ",editEdgeDescription:"        ,    .",editNode:" "},Pge={addDescription:"Cliquez dans un endroit vide pour placer un nud.",addEdge:"Ajouter un lien",addNode:"Ajouter un nud",back:"Retour",close:"Fermer",createEdgeError:"Impossible de crer un lien vers un cluster.",del:"Effacer la slection",deleteClusterError:"Les clusters ne peuvent pas tre effacs.",edgeDescription:"Cliquez sur un nud et glissez le lien vers un autre nud pour les connecter.",edit:"diter",editClusterError:"Les clusters ne peuvent pas tre dits.",editEdge:"diter le lien",editEdgeDescription:"Cliquez sur les points de contrle et glissez-les pour connecter un nud.",editNode:"diter le nud"},Tge={addDescription:"Kluknutm do przdnho prostoru mete pidat nov vrchol.",addEdge:"Pidat hranu",addNode:"Pidat vrchol",back:"Zpt",close:"Zavt",createEdgeError:"Nelze pipojit hranu ke shluku.",del:"Smazat vbr",deleteClusterError:"Nelze mazat shluky.",edgeDescription:"Petaenm z jednoho vrcholu do druhho mete spojit tyto vrcholy novou hranou.",edit:"Upravit",editClusterError:"Nelze upravovat shluky.",editEdge:"Upravit hranu",editEdgeDescription:"Petaenm kontrolnho vrcholu hrany ji mete pipojit k jinmu vrcholu.",editNode:"Upravit vrchol"};var Ige=Object.freeze({__proto__:null,cn:Cge,cs:Tge,de:wge,en:xge,es:_ge,fr:Pge,it:Sge,nl:Ege,pt:Nge,ru:jge,uk:Oge});function Rge(t,e){try{const[n,i]=e.split(/[-_ /]/,2),s=n!=null?n.toLowerCase():null,a=i!=null?i.toUpperCase():null;if(s&&a){const o=s+"-"+a;if(Object.prototype.hasOwnProperty.call(t,o))return o;var r;console.warn(rme(r="Unknown variant ".concat(a," of language ")).call(r,s,"."))}if(s){const o=s;if(Object.prototype.hasOwnProperty.call(t,o))return o;console.warn("Unknown language ".concat(s))}return console.warn("Unknown locale ".concat(e,", falling back to English.")),"en"}catch(n){return console.error(n),console.warn("Unexpected error while normalizing locale ".concat(e,", falling back to English.")),"en"}}class $ge{constructor(){this.NUM_ITERATIONS=4,this.image=new Image,this.canvas=document.createElement("canvas")}init(){if(this.initialized())return;this.src=this.image.src;const e=this.image.width,r=this.image.height;this.width=e,this.height=r;const n=Math.floor(r/2),i=Math.floor(r/4),s=Math.floor(r/8),a=Math.floor(r/16),o=Math.floor(e/2),u=Math.floor(e/4),c=Math.floor(e/8),d=Math.floor(e/16);this.canvas.width=3*u,this.canvas.height=n,this.coordinates=[[0,0,o,n],[o,0,u,i],[o,i,c,s],[5*c,i,d,a]],this._fillMipMap()}initialized(){return this.coordinates!==void 0}_fillMipMap(){const e=this.canvas.getContext("2d"),r=this.coordinates[0];e.drawImage(this.image,r[0],r[1],r[2],r[3]);for(let n=1;n<this.NUM_ITERATIONS;n++){const i=this.coordinates[n-1],s=this.coordinates[n];e.drawImage(this.canvas,i[0],i[1],i[2],i[3],s[0],s[1],s[2],s[3])}}drawImageAtPosition(e,r,n,i,s,a){if(this.initialized())if(r>2){r*=.5;let o=0;for(;r>2&&o<this.NUM_ITERATIONS;)r*=.5,o+=1;o>=this.NUM_ITERATIONS&&(o=this.NUM_ITERATIONS-1);const u=this.coordinates[o];e.drawImage(this.canvas,u[0],u[1],u[2],u[3],n,i,s,a)}else e.drawImage(this.image,n,i,s,a)}}class kge{constructor(e){this.images={},this.imageBroken={},this.callback=e}_tryloadBrokenUrl(e,r,n){if(!(e===void 0||n===void 0)){if(r===void 0){console.warn("No broken url image defined");return}n.image.onerror=()=>{console.error("Could not load brokenImage:",r)},n.image.src=r}}_redrawWithImage(e){this.callback&&this.callback(e)}load(e,r){const n=this.images[e];if(n)return n;const i=new $ge;return this.images[e]=i,i.image.onload=()=>{this._fixImageCoordinates(i.image),i.init(),this._redrawWithImage(i)},i.image.onerror=()=>{console.error("Could not load image:",e),this._tryloadBrokenUrl(e,r,i)},i.image.src=e,i}_fixImageCoordinates(e){e.width===0&&(document.body.appendChild(e),e.width=e.offsetWidth,e.height=e.offsetHeight,document.body.removeChild(e))}}var Tz={},Iz={},AS={exports:{}},FS,Rz;function Dge(){if(Rz)return FS;Rz=1;var t=Ke();return FS=t(function(){if(typeof ArrayBuffer=="function"){var e=new ArrayBuffer(8);Object.isExtensible(e)&&Object.defineProperty(e,"a",{value:8})}}),FS}var LS,$z;function Mge(){if($z)return LS;$z=1;var t=Ke(),e=br(),r=Fi(),n=Dge(),i=Object.isExtensible,s=t(function(){});return LS=s||n?function(o){return!e(o)||n&&r(o)==="ArrayBuffer"?!1:i?i(o):!0}:i,LS}var BS,kz;function SQ(){if(kz)return BS;kz=1;var t=Ke();return BS=!t(function(){return Object.isExtensible(Object.preventExtensions({}))}),BS}var Dz;function Um(){if(Dz)return AS.exports;Dz=1;var t=je(),e=Xe(),r=jh(),n=br(),i=Cr(),s=Xn().f,a=qm(),o=ZO(),u=Mge(),c=Tm(),d=SQ(),h=!1,f=c("meta"),p=0,m=function(b){s(b,f,{value:{objectID:"O"+p++,weakData:{}}})},y=function(b,_){if(!n(b))return typeof b=="symbol"?b:(typeof b=="string"?"S":"P")+b;if(!i(b,f)){if(!u(b))return"F";if(!_)return"E";m(b)}return b[f].objectID},x=function(b,_){if(!i(b,f)){if(!u(b))return!0;if(!_)return!1;m(b)}return b[f].weakData},g=function(b){return d&&h&&u(b)&&!i(b,f)&&m(b),b},v=function(){w.enable=function(){},h=!0;var b=a.f,_=e([].splice),E={};E[f]=1,b(E).length&&(a.f=function(N){for(var S=b(N),j=0,C=S.length;j<C;j++)if(S[j]===f){_(S,j,1);break}return S},t({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:o.f}))},w=AS.exports={enable:v,fastKey:y,getWeakData:x,onFreeze:g};return r[f]=!0,AS.exports}var zS,Mz;function qge(){if(Mz)return zS;Mz=1;var t=sr(),e=ac(),r=t("iterator"),n=Array.prototype;return zS=function(i){return i!==void 0&&(e.Array===i||n[r]===i)},zS}var US,qz;function EQ(){if(qz)return US;qz=1;var t=sc(),e=WO(),r=Qu(),n=ac(),i=sr(),s=i("iterator");return US=function(a){if(!r(a))return e(a,s)||e(a,"@@iterator")||n[t(a)]},US}var WS,Az;function Age(){if(Az)return WS;Az=1;var t=bn(),e=Os(),r=Li(),n=Zu(),i=EQ(),s=TypeError;return WS=function(a,o){var u=arguments.length<2?i(a):o;if(e(u))return r(t(u,a));throw new s(n(a)+" is not iterable")},WS}var VS,Fz;function mP(){if(Fz)return VS;Fz=1;var t=bn(),e=Li(),r=WO();return VS=function(n,i,s){var a,o;e(n);try{if(a=r(n,"return"),!a){if(i==="throw")throw s;return s}a=t(a,n)}catch(u){o=!0,a=u}if(i==="throw")throw s;if(o)throw a;return e(a),s},VS}var HS,Lz;function Wm(){if(Lz)return HS;Lz=1;var t=Rm(),e=bn(),r=Li(),n=Zu(),i=qge(),s=Ps(),a=ir(),o=Age(),u=EQ(),c=mP(),d=TypeError,h=function(p,m){this.stopped=p,this.result=m},f=h.prototype;return HS=function(p,m,y){var x=y&&y.that,g=!!(y&&y.AS_ENTRIES),v=!!(y&&y.IS_RECORD),w=!!(y&&y.IS_ITERATOR),b=!!(y&&y.INTERRUPTED),_=t(m,x),E,N,S,j,C,P,O,I=function(k){return E&&c(E,"normal"),new h(!0,k)},M=function(k){return g?(r(k),b?_(k[0],k[1],I):_(k[0],k[1])):b?_(k,I):_(k)};if(v)E=p.iterator;else if(w)E=p;else{if(N=u(p),!N)throw new d(n(p)+" is not iterable");if(i(N)){for(S=0,j=s(p);j>S;S++)if(C=M(p[S]),C&&a(f,C))return C;return new h(!1)}E=o(p,N)}for(P=v?p.next:E.next;!(O=e(P,E)).done;){try{C=M(O.value)}catch(k){c(E,"throw",k)}if(typeof C=="object"&&C&&a(f,C))return C}return new h(!1)},HS}var KS,Bz;function vP(){if(Bz)return KS;Bz=1;var t=ir(),e=TypeError;return KS=function(r,n){if(t(n,r))return r;throw new e("Incorrect invocation")},KS}var GS,zz;function gP(){if(zz)return GS;zz=1;var t=je(),e=Ot(),r=Um(),n=Ke(),i=rc(),s=Wm(),a=vP(),o=yr(),u=br(),c=Qu(),d=tl(),h=Xn().f,f=$a().forEach,p=Yt(),m=rl(),y=m.set,x=m.getterFor;return GS=function(g,v,w){var b=g.indexOf("Map")!==-1,_=g.indexOf("Weak")!==-1,E=b?"set":"add",N=e[g],S=N&&N.prototype,j={},C;if(!p||!o(N)||!(_||S.forEach&&!n(function(){new N().entries().next()})))C=w.getConstructor(v,g,b,E),r.enable();else{C=v(function(I,M){y(a(I,P),{type:g,collection:new N}),c(M)||s(M,I[E],{that:I,AS_ENTRIES:b})});var P=C.prototype,O=x(g);f(["add","clear","delete","forEach","get","has","set","keys","values","entries"],function(I){var M=I==="add"||I==="set";I in S&&!(_&&I==="clear")&&i(P,I,function(k,H){var W=O(this).collection;if(!M&&_&&!u(k))return I==="get"?void 0:!1;var A=W[I](k===0?0:k,H);return M?this:A})}),_||h(P,"size",{configurable:!0,get:function(){return O(this).collection.size}})}return d(C,g,!1,!0),j[g]=C,t({global:!0,forced:!0},j),_||w.setStrong(C,g,b),C},GS}var YS,Uz;function yP(){if(Uz)return YS;Uz=1;var t=Th();return YS=function(e,r,n){for(var i in r)n&&n.unsafe&&e[i]?e[i]=r[i]:t(e,i,r[i],n);return e},YS}var QS,Wz;function Fge(){if(Wz)return QS;Wz=1;var t=In(),e=eP(),r=sr(),n=Yt(),i=r("species");return QS=function(s){var a=t(s);n&&a&&!a[i]&&e(a,i,{configurable:!0,get:function(){return this}})},QS}var XS,Vz;function NQ(){if(Vz)return XS;Vz=1;var t=Ph(),e=eP(),r=yP(),n=Rm(),i=vP(),s=Qu(),a=Wm(),o=rP(),u=nP(),c=Fge(),d=Yt(),h=Um().fastKey,f=rl(),p=f.set,m=f.getterFor;return XS={getConstructor:function(y,x,g,v){var w=y(function(S,j){i(S,b),p(S,{type:x,index:t(null),first:null,last:null,size:0}),d||(S.size=0),s(j)||a(j,S[v],{that:S,AS_ENTRIES:g})}),b=w.prototype,_=m(x),E=function(S,j,C){var P=_(S),O=N(S,j),I,M;return O?O.value=C:(P.last=O={index:M=h(j,!0),key:j,value:C,previous:I=P.last,next:null,removed:!1},P.first||(P.first=O),I&&(I.next=O),d?P.size++:S.size++,M!=="F"&&(P.index[M]=O)),S},N=function(S,j){var C=_(S),P=h(j),O;if(P!=="F")return C.index[P];for(O=C.first;O;O=O.next)if(O.key===j)return O};return r(b,{clear:function(){for(var j=this,C=_(j),P=C.first;P;)P.removed=!0,P.previous&&(P.previous=P.previous.next=null),P=P.next;C.first=C.last=null,C.index=t(null),d?C.size=0:j.size=0},delete:function(S){var j=this,C=_(j),P=N(j,S);if(P){var O=P.next,I=P.previous;delete C.index[P.index],P.removed=!0,I&&(I.next=O),O&&(O.previous=I),C.first===P&&(C.first=O),C.last===P&&(C.last=I),d?C.size--:j.size--}return!!P},forEach:function(j){for(var C=_(this),P=n(j,arguments.length>1?arguments[1]:void 0),O;O=O?O.next:C.first;)for(P(O.value,O.key,this);O&&O.removed;)O=O.previous},has:function(j){return!!N(this,j)}}),r(b,g?{get:function(j){var C=N(this,j);return C&&C.value},set:function(j,C){return E(this,j===0?0:j,C)}}:{add:function(j){return E(this,j=j===0?0:j,j)}}),d&&e(b,"size",{configurable:!0,get:function(){return _(this).size}}),w},setStrong:function(y,x,g){var v=x+" Iterator",w=m(x),b=m(v);o(y,x,function(_,E){p(this,{type:v,target:_,state:w(_),kind:E,last:null})},function(){for(var _=b(this),E=_.kind,N=_.last;N&&N.removed;)N=N.previous;return!_.target||!(_.last=N=N?N.next:_.state.first)?(_.target=null,u(void 0,!0)):u(E==="keys"?N.key:E==="values"?N.value:[N.key,N.value],!1)},g?"entries":"values",!g,!0),c(x)}},XS}var Hz;function Lge(){if(Hz)return Iz;Hz=1;var t=gP(),e=NQ();return t("Map",function(r){return function(){return r(this,arguments.length?arguments[0]:void 0)}},e),Iz}var Kz;function Bge(){return Kz||(Kz=1,Lge()),Tz}var Gz={},JS,Yz;function jQ(){return Yz||(Yz=1,JS=function(t,e){return e===1?function(r,n){return r[t](n)}:function(r,n,i){return r[t](n,i)}}),JS}var ZS,Qz;function zge(){if(Qz)return ZS;Qz=1;var t=In(),e=jQ(),r=t("Map");return ZS={Map:r,set:e("set",2),get:e("get",1),has:e("has",1),remove:e("delete",1),proto:r.prototype},ZS}var Xz;function Uge(){if(Xz)return Gz;Xz=1;var t=je(),e=Xe(),r=Os(),n=Cs(),i=Wm(),s=zge(),a=ec(),o=Ke(),u=s.Map,c=s.has,d=s.get,h=s.set,f=e([].push),p=a||o(function(){return u.groupBy("ab",function(m){return m}).get("a").length!==1});return t({target:"Map",stat:!0,forced:a||p},{groupBy:function(y,x){n(y),r(x);var g=new u,v=0;return i(y,function(w){var b=x(w,v++);c(g,b)?f(d(g,b),w):h(g,b,[w])}),g}}),Gz}var Jz={},eE,Zz;function Wge(){if(Zz)return eE;Zz=1;var t=Xe(),e=nc(),r=Jn(),n=Cs(),i=t("".charAt),s=t("".charCodeAt),a=t("".slice),o=function(u){return function(c,d){var h=r(n(c)),f=e(d),p=h.length,m,y;return f<0||f>=p?u?"":void 0:(m=s(h,f),m<55296||m>56319||f+1===p||(y=s(h,f+1))<56320||y>57343?u?i(h,f):m:u?a(h,f,f+2):(m-55296<<10)+(y-56320)+65536)}};return eE={codeAt:o(!1),charAt:o(!0)},eE}var e8;function bP(){if(e8)return Jz;e8=1;var t=Wge().charAt,e=Jn(),r=rl(),n=rP(),i=nP(),s="String Iterator",a=r.set,o=r.getterFor(s);return n(String,"String",function(u){a(this,{type:s,string:e(u),index:0})},function(){var c=o(this),d=c.string,h=c.index,f;return h>=d.length?i(void 0,!0):(f=t(d,h),c.index+=f.length,i(f,!1))}),Jz}var tE,t8;function Vge(){if(t8)return tE;t8=1,oc(),Bge(),Uge(),bP();var t=dt();return tE=t.Map,tE}var rE,r8;function Hge(){if(r8)return rE;r8=1;var t=Vge();return lc(),rE=t,rE}var nE,n8;function Kge(){return n8||(n8=1,nE=Hge()),nE}var Gge=Kge(),xP=Re(Gge);class Yge{constructor(){this.clear(),this._defaultIndex=0,this._groupIndex=0,this._defaultGroups=[{border:"#2B7CE9",background:"#97C2FC",highlight:{border:"#2B7CE9",background:"#D2E5FF"},hover:{border:"#2B7CE9",background:"#D2E5FF"}},{border:"#FFA500",background:"#FFFF00",highlight:{border:"#FFA500",background:"#FFFFA3"},hover:{border:"#FFA500",background:"#FFFFA3"}},{border:"#FA0A10",background:"#FB7E81",highlight:{border:"#FA0A10",background:"#FFAFB1"},hover:{border:"#FA0A10",background:"#FFAFB1"}},{border:"#41A906",background:"#7BE141",highlight:{border:"#41A906",background:"#A1EC76"},hover:{border:"#41A906",background:"#A1EC76"}},{border:"#E129F0",background:"#EB7DF4",highlight:{border:"#E129F0",background:"#F0B3F5"},hover:{border:"#E129F0",background:"#F0B3F5"}},{border:"#7C29F0",background:"#AD85E4",highlight:{border:"#7C29F0",background:"#D3BDF0"},hover:{border:"#7C29F0",background:"#D3BDF0"}},{border:"#C37F00",background:"#FFA807",highlight:{border:"#C37F00",background:"#FFCA66"},hover:{border:"#C37F00",background:"#FFCA66"}},{border:"#4220FB",background:"#6E6EFD",highlight:{border:"#4220FB",background:"#9B9BFD"},hover:{border:"#4220FB",background:"#9B9BFD"}},{border:"#FD5A77",background:"#FFC0CB",highlight:{border:"#FD5A77",background:"#FFD1D9"},hover:{border:"#FD5A77",background:"#FFD1D9"}},{border:"#4AD63A",background:"#C2FABC",highlight:{border:"#4AD63A",background:"#E6FFE3"},hover:{border:"#4AD63A",background:"#E6FFE3"}},{border:"#990000",background:"#EE0000",highlight:{border:"#BB0000",background:"#FF3333"},hover:{border:"#BB0000",background:"#FF3333"}},{border:"#FF6000",background:"#FF6000",highlight:{border:"#FF6000",background:"#FF6000"},hover:{border:"#FF6000",background:"#FF6000"}},{border:"#97C2FC",background:"#2B7CE9",highlight:{border:"#D2E5FF",background:"#2B7CE9"},hover:{border:"#D2E5FF",background:"#2B7CE9"}},{border:"#399605",background:"#255C03",highlight:{border:"#399605",background:"#255C03"},hover:{border:"#399605",background:"#255C03"}},{border:"#B70054",background:"#FF007E",highlight:{border:"#B70054",background:"#FF007E"},hover:{border:"#B70054",background:"#FF007E"}},{border:"#AD85E4",background:"#7C29F0",highlight:{border:"#D3BDF0",background:"#7C29F0"},hover:{border:"#D3BDF0",background:"#7C29F0"}},{border:"#4557FA",background:"#000EA1",highlight:{border:"#6E6EFD",background:"#000EA1"},hover:{border:"#6E6EFD",background:"#000EA1"}},{border:"#FFC0CB",background:"#FD5A77",highlight:{border:"#FFD1D9",background:"#FD5A77"},hover:{border:"#FFD1D9",background:"#FD5A77"}},{border:"#C2FABC",background:"#74D66A",highlight:{border:"#E6FFE3",background:"#74D66A"},hover:{border:"#E6FFE3",background:"#74D66A"}},{border:"#EE0000",background:"#990000",highlight:{border:"#FF3333",background:"#BB0000"},hover:{border:"#FF3333",background:"#BB0000"}}],this.options={},this.defaultOptions={useDefaultGroups:!0},er(this.options,this.defaultOptions)}setOptions(e){const r=["useDefaultGroups"];if(e!==void 0){for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&ot(r).call(r,n)===-1){const i=e[n];this.add(n,i)}}}clear(){this._groups=new xP,this._groupNames=[]}get(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,n=this._groups.get(e);if(n===void 0&&r)if(this.options.useDefaultGroups===!1&&this._groupNames.length>0){const i=this._groupIndex%this._groupNames.length;++this._groupIndex,n={},n.color=this._groups.get(this._groupNames[i]),this._groups.set(e,n)}else{const i=this._defaultIndex%this._defaultGroups.length;this._defaultIndex++,n={},n.color=this._defaultGroups[i],this._groups.set(e,n)}return n}add(e,r){return this._groups.has(e)||this._groupNames.push(e),this._groups.set(e,r),r}}var i8={},s8;function Qge(){if(s8)return i8;s8=1;var t=je();return t({target:"Number",stat:!0},{isNaN:function(r){return r!==r}}),i8}var iE,a8;function Xge(){if(a8)return iE;a8=1,Qge();var t=dt();return iE=t.Number.isNaN,iE}var sE,o8;function Jge(){if(o8)return sE;o8=1;var t=Xge();return sE=t,sE}var aE,l8;function Zge(){return l8||(l8=1,aE=Jge()),aE}var eye=Zge(),Gj=Re(eye),u8={},oE,c8;function tye(){if(c8)return oE;c8=1;var t=Ot(),e=t.isFinite;return oE=Number.isFinite||function(n){return typeof n=="number"&&e(n)},oE}var d8;function rye(){if(d8)return u8;d8=1;var t=je(),e=tye();return t({target:"Number",stat:!0},{isFinite:e}),u8}var lE,h8;function nye(){if(h8)return lE;h8=1,rye();var t=dt();return lE=t.Number.isFinite,lE}var uE,f8;function iye(){if(f8)return uE;f8=1;var t=nye();return uE=t,uE}var cE,p8;function sye(){return p8||(p8=1,cE=iye()),cE}var aye=sye(),eo=Re(aye),m8={},v8;function oye(){if(v8)return m8;v8=1;var t=je(),e=$a().some,r=uc(),n=r("some");return t({target:"Array",proto:!0,forced:!n},{some:function(s){return e(this,s,arguments.length>1?arguments[1]:void 0)}}),m8}var dE,g8;function lye(){if(g8)return dE;g8=1,oye();var t=Or();return dE=t("Array","some"),dE}var hE,y8;function uye(){if(y8)return hE;y8=1;var t=ir(),e=lye(),r=Array.prototype;return hE=function(n){var i=n.some;return n===r||t(r,n)&&i===r.some?e:i},hE}var fE,b8;function cye(){if(b8)return fE;b8=1;var t=uye();return fE=t,fE}var pE,x8;function dye(){return x8||(x8=1,pE=cye()),pE}var hye=dye(),fye=Re(hye),mE={exports:{}},w8={},_8;function pye(){if(_8)return w8;_8=1;var t=je(),e=Yt(),r=Xn().f;return t({target:"Object",stat:!0,forced:Object.defineProperty!==r,sham:!e},{defineProperty:r}),w8}var S8;function mye(){if(S8)return mE.exports;S8=1,pye();var t=dt(),e=t.Object,r=mE.exports=function(i,s,a){return e.defineProperty(i,s,a)};return e.defineProperty.sham&&(r.sham=!0),mE.exports}var vE,E8;function CQ(){if(E8)return vE;E8=1;var t=mye();return vE=t,vE}var gE,N8;function vye(){if(N8)return gE;N8=1;var t=CQ();return gE=t,gE}var yE,j8;function gye(){if(j8)return yE;j8=1;var t=vye();return yE=t,yE}var bE,C8;function yye(){return C8||(C8=1,bE=gye()),bE}var bye=yye(),xye=Re(bye),O8={},P8;function wye(){if(P8)return O8;P8=1;var t=sr(),e=Xn().f,r=t("metadata"),n=Function.prototype;return n[r]===void 0&&e(n,r,{value:null}),O8}var T8={},I8;function _ye(){return I8||(I8=1,PY()),T8}var R8={},$8;function Sye(){return $8||($8=1,TY()),R8}var k8={},D8;function Eye(){if(D8)return k8;D8=1;var t=kt();return t("metadata"),k8}var xE,M8;function Nye(){if(M8)return xE;M8=1;var t=DY();return wye(),_ye(),Sye(),Eye(),xE=t,xE}var q8={},wE,A8;function OQ(){if(A8)return wE;A8=1;var t=In(),e=Xe(),r=t("Symbol"),n=r.keyFor,i=e(r.prototype.valueOf);return wE=r.isRegisteredSymbol||function(a){try{return n(i(a))!==void 0}catch{return!1}},wE}var F8;function jye(){if(F8)return q8;F8=1;var t=je(),e=OQ();return t({target:"Symbol",stat:!0},{isRegisteredSymbol:e}),q8}var L8={},_E,B8;function PQ(){if(B8)return _E;B8=1;for(var t=tc(),e=In(),r=Xe(),n=Nh(),i=sr(),s=e("Symbol"),a=s.isWellKnownSymbol,o=e("Object","getOwnPropertyNames"),u=r(s.prototype.valueOf),c=t("wks"),d=0,h=o(s),f=h.length;d<f;d++)try{var p=h[d];n(s[p])&&i(p)}catch{}return _E=function(y){if(a&&a(y))return!0;try{for(var x=u(y),g=0,v=o(c),w=v.length;g<w;g++)if(c[v[g]]==x)return!0}catch{}return!1},_E}var z8;function Cye(){if(z8)return L8;z8=1;var t=je(),e=PQ();return t({target:"Symbol",stat:!0,forced:!0},{isWellKnownSymbol:e}),L8}var U8={},W8;function Oye(){if(W8)return U8;W8=1;var t=kt();return t("customMatcher"),U8}var V8={},H8;function Pye(){if(H8)return V8;H8=1;var t=kt();return t("observable"),V8}var K8={},G8;function Tye(){if(G8)return K8;G8=1;var t=je(),e=OQ();return t({target:"Symbol",stat:!0,name:"isRegisteredSymbol"},{isRegistered:e}),K8}var Y8={},Q8;function Iye(){if(Q8)return Y8;Q8=1;var t=je(),e=PQ();return t({target:"Symbol",stat:!0,name:"isWellKnownSymbol",forced:!0},{isWellKnown:e}),Y8}var X8={},J8;function Rye(){if(J8)return X8;J8=1;var t=kt();return t("matcher"),X8}var Z8={},e7;function $ye(){if(e7)return Z8;e7=1;var t=kt();return t("metadataKey"),Z8}var t7={},r7;function kye(){if(r7)return t7;r7=1;var t=kt();return t("patternMatch"),t7}var n7={},i7;function Dye(){if(i7)return n7;i7=1;var t=kt();return t("replaceAll"),n7}var SE,s7;function Mye(){if(s7)return SE;s7=1;var t=Nye();return jye(),Cye(),Oye(),Pye(),Tye(),Iye(),Rye(),$ye(),kye(),Dye(),SE=t,SE}var EE,a7;function qye(){return a7||(a7=1,EE=Mye()),EE}var Aye=qye(),bf=Re(Aye),NE,o7;function Fye(){if(o7)return NE;o7=1,oc(),bP(),IY();var t=Am();return NE=t.f("iterator"),NE}var jE,l7;function Lye(){if(l7)return jE;l7=1;var t=Fye();return lc(),jE=t,jE}var CE,u7;function Bye(){if(u7)return CE;u7=1;var t=Lye();return CE=t,CE}var OE,c7;function zye(){if(c7)return OE;c7=1;var t=Bye();return OE=t,OE}var PE,d7;function Uye(){return d7||(d7=1,PE=zye()),PE}var Wye=Uye(),Vye=Re(Wye);function Md(t){"@babel/helpers - typeof";return Md=typeof bf=="function"&&typeof Vye=="symbol"?function(e){return typeof e}:function(e){return e&&typeof bf=="function"&&e.constructor===bf&&e!==bf.prototype?"symbol":typeof e},Md(t)}var TE,h7;function Hye(){if(h7)return TE;h7=1,RY();var t=Am();return TE=t.f("toPrimitive"),TE}var IE,f7;function Kye(){if(f7)return IE;f7=1;var t=Hye();return IE=t,IE}var RE,p7;function Gye(){if(p7)return RE;p7=1;var t=Kye();return RE=t,RE}var $E,m7;function Yye(){if(m7)return $E;m7=1;var t=Gye();return $E=t,$E}var kE,v7;function Qye(){return v7||(v7=1,kE=Yye()),kE}var Xye=Qye(),Jye=Re(Xye);function Zye(t,e){if(Md(t)!="object"||!t)return t;var r=t[Jye];if(r!==void 0){var n=r.call(t,e);if(Md(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function e0e(t){var e=Zye(t,"string");return Md(e)=="symbol"?e:e+""}function ts(t,e,r){return(e=e0e(e))in t?xye(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var g7={},DE,y7;function t0e(){if(y7)return DE;y7=1;var t=Ot(),e=Ke(),r=Xe(),n=Jn(),i=qY().trim,s=iP(),a=r("".charAt),o=t.parseFloat,u=t.Symbol,c=u&&u.iterator,d=1/o(s+"-0")!==-1/0||c&&!e(function(){o(Object(c))});return DE=d?function(f){var p=i(n(f)),m=o(p);return m===0&&a(p,0)==="-"?-0:m}:o,DE}var b7;function r0e(){if(b7)return g7;b7=1;var t=je(),e=t0e();return t({global:!0,forced:parseFloat!==e},{parseFloat:e}),g7}var ME,x7;function n0e(){if(x7)return ME;x7=1,r0e();var t=dt();return ME=t.parseFloat,ME}var qE,w7;function i0e(){if(w7)return qE;w7=1;var t=n0e();return qE=t,qE}var AE,_7;function s0e(){return _7||(_7=1,AE=i0e()),AE}var a0e=s0e(),TQ=Re(a0e),S7={},E7;function o0e(){if(E7)return S7;E7=1;var t=je(),e=Ke(),r=ZO().f,n=e(function(){return!Object.getOwnPropertyNames(1)});return t({target:"Object",stat:!0,forced:n},{getOwnPropertyNames:r}),S7}var FE,N7;function l0e(){if(N7)return FE;N7=1,o0e();var t=dt(),e=t.Object;return FE=function(n){return e.getOwnPropertyNames(n)},FE}var LE,j7;function u0e(){if(j7)return LE;j7=1;var t=l0e();return LE=t,LE}var BE,C7;function c0e(){return C7||(C7=1,BE=u0e()),BE}var d0e=c0e(),h0e=Re(d0e),zE,O7;function f0e(){if(O7)return zE;O7=1,OY();var t=dt();return zE=t.Object.getOwnPropertySymbols,zE}var UE,P7;function p0e(){if(P7)return UE;P7=1;var t=f0e();return UE=t,UE}var WE,T7;function m0e(){return T7||(T7=1,WE=p0e()),WE}var v0e=m0e(),Sa=Re(v0e),VE={exports:{}},I7={},R7;function g0e(){if(R7)return I7;R7=1;var t=je(),e=Ke(),r=bi(),n=Im().f,i=Yt(),s=!i||e(function(){n(1)});return t({target:"Object",stat:!0,forced:s,sham:!i},{getOwnPropertyDescriptor:function(o,u){return n(r(o),u)}}),I7}var $7;function y0e(){if($7)return VE.exports;$7=1,g0e();var t=dt(),e=t.Object,r=VE.exports=function(i,s){return e.getOwnPropertyDescriptor(i,s)};return e.getOwnPropertyDescriptor.sham&&(r.sham=!0),VE.exports}var HE,k7;function b0e(){if(k7)return HE;k7=1;var t=y0e();return HE=t,HE}var KE,D7;function x0e(){return D7||(D7=1,KE=b0e()),KE}var w0e=x0e(),ka=Re(w0e),M7={},q7;function _0e(){if(q7)return M7;q7=1;var t=je(),e=Yt(),r=Kfe(),n=bi(),i=Im(),s=Dm();return t({target:"Object",stat:!0,sham:!e},{getOwnPropertyDescriptors:function(o){for(var u=n(o),c=i.f,d=r(u),h={},f=0,p,m;d.length>f;)m=c(u,p=d[f++]),m!==void 0&&s(h,p,m);return h}}),M7}var GE,A7;function S0e(){if(A7)return GE;A7=1,_0e();var t=dt();return GE=t.Object.getOwnPropertyDescriptors,GE}var YE,F7;function E0e(){if(F7)return YE;F7=1;var t=S0e();return YE=t,YE}var QE,L7;function N0e(){return L7||(L7=1,QE=E0e()),QE}var j0e=N0e(),Ea=Re(j0e),XE={exports:{}},B7={},z7;function C0e(){if(z7)return B7;z7=1;var t=je(),e=Yt(),r=JO().f;return t({target:"Object",stat:!0,forced:Object.defineProperties!==r,sham:!e},{defineProperties:r}),B7}var U7;function O0e(){if(U7)return XE.exports;U7=1,C0e();var t=dt(),e=t.Object,r=XE.exports=function(i,s){return e.defineProperties(i,s)};return e.defineProperties.sham&&(r.sham=!0),XE.exports}var JE,W7;function P0e(){if(W7)return JE;W7=1;var t=O0e();return JE=t,JE}var ZE,V7;function T0e(){return V7||(V7=1,ZE=P0e()),ZE}var I0e=T0e(),Vm=Re(I0e),e2,H7;function R0e(){return H7||(H7=1,e2=CQ()),e2}var $0e=R0e(),Hm=Re($0e);function wP(t,e){const r=["node","edge","label"];let n=!0;const i=qs(e,"chosen");if(typeof i=="boolean")n=i;else if(typeof i=="object"){if(ot(r).call(r,t)===-1)throw new Error("choosify: subOption '"+t+"' should be one of '"+r.join("', '")+"'");const s=qs(e,["chosen",t]);(typeof s=="boolean"||typeof s=="function")&&(n=s)}return n}function Yj(t,e,r){if(t.width<=0||t.height<=0)return!1;if(r!==void 0){const s={x:e.x-r.x,y:e.y-r.y};if(r.angle!==0){const a=-r.angle;e={x:Math.cos(a)*s.x-Math.sin(a)*s.y,y:Math.sin(a)*s.x+Math.cos(a)*s.y}}else e=s}const n=t.x+t.width,i=t.y+t.width;return t.left<e.x&&n>e.x&&t.top<e.y&&i>e.y}function Ap(t){return typeof t=="string"&&t!==""}function IQ(t,e,r,n){let i=n.x,s=n.y;if(typeof n.distanceToBorder=="function"){const a=n.distanceToBorder(t,e),o=Math.sin(e)*a,u=Math.cos(e)*a;u===a?(i+=a,s=n.y):o===a?(i=n.x,s-=a):(i+=u,s-=o)}else n.shape.width>n.shape.height?(i=n.x+n.shape.width*.5,s=n.y-r):(i=n.x+r,s=n.y-n.shape.height*.5);return{x:i,y:s}}var t2,K7;function k0e(){if(K7)return t2;K7=1,oc();var t=Or();return t2=t("Array","values"),t2}var r2,G7;function D0e(){if(G7)return r2;G7=1;var t=k0e();return r2=t,r2}var n2,Y7;function M0e(){if(Y7)return n2;Y7=1,lc();var t=sc(),e=Cr(),r=ir(),n=D0e(),i=Array.prototype,s={DOMTokenList:!0,NodeList:!0};return n2=function(a){var o=a.values;return a===i||r(i,a)&&o===i.values||e(s,t(a))?n:o},n2}var i2,Q7;function q0e(){return Q7||(Q7=1,i2=M0e()),i2}var A0e=q0e(),RQ=Re(A0e);class F0e{constructor(e){this.measureText=e,this.current=0,this.width=0,this.height=0,this.lines=[]}_add(e,r){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"normal";this.lines[e]===void 0&&(this.lines[e]={width:0,height:0,blocks:[]});let i=r;(r===void 0||r==="")&&(i=" ");const s=this.measureText(i,n),a=er({},RQ(s));a.text=r,a.width=s.width,a.mod=n,(r===void 0||r==="")&&(a.width=0),this.lines[e].blocks.push(a),this.lines[e].width+=a.width}curWidth(){const e=this.lines[this.current];return e===void 0?0:e.width}append(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"normal";this._add(this.current,e,r)}newLine(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"normal";this._add(this.current,e,r),this.current++}determineLineHeights(){for(let e=0;e<this.lines.length;e++){const r=this.lines[e];let n=0;if(r.blocks!==void 0)for(let i=0;i<r.blocks.length;i++){const s=r.blocks[i];n<s.height&&(n=s.height)}r.height=n}}determineLabelSize(){let e=0,r=0;for(let n=0;n<this.lines.length;n++){const i=this.lines[n];i.width>e&&(e=i.width),r+=i.height}this.width=e,this.height=r}removeEmptyBlocks(){const e=[];for(let r=0;r<this.lines.length;r++){const n=this.lines[r];if(n.blocks.length===0||r===this.lines.length-1&&n.width===0)continue;const i={};er(i,n),i.blocks=[];let s;const a=[];for(let o=0;o<n.blocks.length;o++){const u=n.blocks[o];u.width!==0?a.push(u):s===void 0&&(s=u)}a.length===0&&s!==void 0&&a.push(s),i.blocks=a,e.push(i)}return e}finalize(){this.determineLineHeights(),this.determineLabelSize();const e=this.removeEmptyBlocks();return{width:this.width,height:this.height,lines:e}}}const L0e={"<b>":/<b>/,"<i>":/<i>/,"<code>":/<code>/,"</b>":/<\/b>/,"</i>":/<\/i>/,"</code>":/<\/code>/,"*":/\*/,_:/_/,"`":/`/,afterBold:/[^*]/,afterItal:/[^_]/,afterMono:/[^`]/};class X7{constructor(e){this.text=e,this.bold=!1,this.ital=!1,this.mono=!1,this.spacing=!1,this.position=0,this.buffer="",this.modStack=[],this.blocks=[]}mod(){return this.modStack.length===0?"normal":this.modStack[0]}modName(){if(this.modStack.length===0)return"normal";if(this.modStack[0]==="mono")return"mono";if(this.bold&&this.ital)return"boldital";if(this.bold)return"bold";if(this.ital)return"ital"}emitBlock(){this.spacing&&(this.add(" "),this.spacing=!1),this.buffer.length>0&&(this.blocks.push({text:this.buffer,mod:this.modName()}),this.buffer="")}add(e){e===" "&&(this.spacing=!0),this.spacing&&(this.buffer+=" ",this.spacing=!1),e!=" "&&(this.buffer+=e)}parseWS(e){return/[ \t]/.test(e)?(this.mono?this.add(e):this.spacing=!0,!0):!1}setTag(e){this.emitBlock(),this[e]=!0,this.modStack.unshift(e)}unsetTag(e){this.emitBlock(),this[e]=!1,this.modStack.shift()}parseStartTag(e,r){return!this.mono&&!this[e]&&this.match(r)?(this.setTag(e),!0):!1}match(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;const[n,i]=this.prepareRegExp(e),s=n.test(this.text.substr(this.position,i));return s&&r&&(this.position+=i-1),s}parseEndTag(e,r,n){let i=this.mod()===e;return e==="mono"?i=i&&this.mono:i=i&&!this.mono,i&&this.match(r)?(n!==void 0?(this.position===this.text.length-1||this.match(n,!1))&&this.unsetTag(e):this.unsetTag(e),!0):!1}replace(e,r){return this.match(e)?(this.add(r),this.position+=length-1,!0):!1}prepareRegExp(e){let r,n;if(e instanceof RegExp)n=e,r=1;else{const i=L0e[e];i!==void 0?n=i:n=new RegExp(e),r=e.length}return[n,r]}}class B0e{constructor(e,r,n,i){this.ctx=e,this.parent=r,this.selected=n,this.hover=i;const s=(a,o)=>{if(a===void 0)return 0;const u=this.parent.getFormattingValues(e,n,i,o);let c=0;return a!==""&&(c=this.ctx.measureText(a).width),{width:c,values:u}};this.lines=new F0e(s)}process(e){if(!Ap(e))return this.lines.finalize();const r=this.parent.fontOptions;e=e.replace(/\r\n/g,`
`),e=e.replace(/\r/g,`
`);const n=String(e).split(`
`),i=n.length;if(r.multi)for(let s=0;s<i;s++){const a=this.splitBlocks(n[s],r.multi);if(a!==void 0){if(a.length===0){this.lines.newLine("");continue}if(r.maxWdt>0)for(let o=0;o<a.length;o++){const u=a[o].mod,c=a[o].text;this.splitStringIntoLines(c,u,!0)}else for(let o=0;o<a.length;o++){const u=a[o].mod,c=a[o].text;this.lines.append(c,u)}this.lines.newLine()}}else if(r.maxWdt>0)for(let s=0;s<i;s++)this.splitStringIntoLines(n[s]);else for(let s=0;s<i;s++)this.lines.newLine(n[s]);return this.lines.finalize()}decodeMarkupSystem(e){let r="none";return e==="markdown"||e==="md"?r="markdown":(e===!0||e==="html")&&(r="html"),r}splitHtmlBlocks(e){const r=new X7(e),n=i=>/&/.test(i)?(r.replace(r.text,"&lt;","<")||r.replace(r.text,"&amp;","&")||r.add("&"),!0):!1;for(;r.position<r.text.length;){const i=r.text.charAt(r.position);r.parseWS(i)||/</.test(i)&&(r.parseStartTag("bold","<b>")||r.parseStartTag("ital","<i>")||r.parseStartTag("mono","<code>")||r.parseEndTag("bold","</b>")||r.parseEndTag("ital","</i>")||r.parseEndTag("mono","</code>"))||n(i)||r.add(i),r.position++}return r.emitBlock(),r.blocks}splitMarkdownBlocks(e){const r=new X7(e);let n=!0;const i=s=>/\\/.test(s)?(r.position<this.text.length+1&&(r.position++,s=this.text.charAt(r.position),/ \t/.test(s)?r.spacing=!0:(r.add(s),n=!1)),!0):!1;for(;r.position<r.text.length;){const s=r.text.charAt(r.position);r.parseWS(s)||i(s)||(n||r.spacing)&&(r.parseStartTag("bold","*")||r.parseStartTag("ital","_")||r.parseStartTag("mono","`"))||r.parseEndTag("bold","*","afterBold")||r.parseEndTag("ital","_","afterItal")||r.parseEndTag("mono","`","afterMono")||(r.add(s),n=!1),r.position++}return r.emitBlock(),r.blocks}splitBlocks(e,r){const n=this.decodeMarkupSystem(r);if(n==="none")return[{text:e,mod:"normal"}];if(n==="markdown")return this.splitMarkdownBlocks(e);if(n==="html")return this.splitHtmlBlocks(e)}overMaxWidth(e){const r=this.ctx.measureText(e).width;return this.lines.curWidth()+r>this.parent.fontOptions.maxWdt}getLongestFit(e){let r="",n=0;for(;n<e.length;){const s=r+(r===""?"":" ")+e[n];if(this.overMaxWidth(s))break;r=s,n++}return n}getLongestFitWord(e){let r=0;for(;r<e.length&&!this.overMaxWidth(Pi(e).call(e,0,r));)r++;return r}splitStringIntoLines(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"normal",n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;this.parent.getFormattingValues(this.ctx,this.selected,this.hover,r),e=e.replace(/^( +)/g,"$1\r"),e=e.replace(/([^\r][^ ]*)( +)/g,"$1\r$2\r");let i=e.split("\r");for(;i.length>0;){let s=this.getLongestFit(i);if(s===0){const a=i[0],o=this.getLongestFitWord(a);this.lines.newLine(Pi(a).call(a,0,o),r),i[0]=Pi(a).call(a,o)}else{let a=s;i[s-1]===" "?s--:i[a]===" "&&a++;const o=Pi(i).call(i,0,s).join("");s==i.length&&n?this.lines.append(o,r):this.lines.newLine(o,r),i=Pi(i).call(i,a)}}}}const Rc=["bold","ital","boldital","mono"];class Vl{constructor(e,r){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;this.body=e,this.pointToSelf=!1,this.baseSize=void 0,this.fontOptions={},this.setOptions(r),this.size={top:0,left:0,width:0,height:0,yLine:0},this.isEdgeLabel=n}setOptions(e){if(this.elementOptions=e,this.initFontOptions(e.font),Ap(e.label)?this.labelDirty=!0:e.label=void 0,e.font!==void 0&&e.font!==null){if(typeof e.font=="string")this.baseSize=this.fontOptions.size;else if(typeof e.font=="object"){const r=e.font.size;r!==void 0&&(this.baseSize=r)}}}initFontOptions(e){if(ze(Rc,r=>{this.fontOptions[r]={}}),Vl.parseFontString(this.fontOptions,e)){this.fontOptions.vadjust=0;return}ze(e,(r,n)=>{r!=null&&typeof r!="object"&&(this.fontOptions[n]=r)})}static parseFontString(e,r){if(!r||typeof r!="string")return!1;const n=r.split(" ");return e.size=+n[0].replace("px",""),e.face=n[1],e.color=n[2],!0}constrain(e){const r={constrainWidth:!1,maxWdt:-1,minWdt:-1,constrainHeight:!1,minHgt:-1,valign:"middle"},n=qs(e,"widthConstraint");if(typeof n=="number")r.maxWdt=Number(n),r.minWdt=Number(n);else if(typeof n=="object"){const s=qs(e,["widthConstraint","maximum"]);typeof s=="number"&&(r.maxWdt=Number(s));const a=qs(e,["widthConstraint","minimum"]);typeof a=="number"&&(r.minWdt=Number(a))}const i=qs(e,"heightConstraint");if(typeof i=="number")r.minHgt=Number(i);else if(typeof i=="object"){const s=qs(e,["heightConstraint","minimum"]);typeof s=="number"&&(r.minHgt=Number(s));const a=qs(e,["heightConstraint","valign"]);typeof a=="string"&&(a==="top"||a==="bottom")&&(r.valign=a)}return r}update(e,r){this.setOptions(e,!0),this.propagateFonts(r),yt(this.fontOptions,this.constrain(r)),this.fontOptions.chooser=wP("label",r)}adjustSizes(e){const r=e?e.right+e.left:0;this.fontOptions.constrainWidth&&(this.fontOptions.maxWdt-=r,this.fontOptions.minWdt-=r);const n=e?e.top+e.bottom:0;this.fontOptions.constrainHeight&&(this.fontOptions.minHgt-=n)}addFontOptionsToPile(e,r){for(let n=0;n<r.length;++n)this.addFontToPile(e,r[n])}addFontToPile(e,r){if(r===void 0||r.font===void 0||r.font===null)return;const n=r.font;e.push(n)}getBasicOptions(e){const r={};for(let n=0;n<e.length;++n){let i=e[n];const s={};Vl.parseFontString(s,i)&&(i=s),ze(i,(a,o)=>{a!==void 0&&(Object.prototype.hasOwnProperty.call(r,o)||(ot(Rc).call(Rc,o)!==-1?r[o]={}:r[o]=a))})}return r}getFontOption(e,r,n){let i;for(let s=0;s<e.length;++s){const a=e[s];if(Object.prototype.hasOwnProperty.call(a,r)){if(i=a[r],i==null)continue;const o={};if(Vl.parseFontString(o,i)&&(i=o),Object.prototype.hasOwnProperty.call(i,n))return i[n]}}if(Object.prototype.hasOwnProperty.call(this.fontOptions,n))return this.fontOptions[n];throw new Error("Did not find value for multi-font for property: '"+n+"'")}getFontOptions(e,r){const n={},i=["color","size","face","mod","vadjust"];for(let s=0;s<i.length;++s){const a=i[s];n[a]=this.getFontOption(e,r,a)}return n}propagateFonts(e){const r=[];this.addFontOptionsToPile(r,e),this.fontOptions=this.getBasicOptions(r);for(let n=0;n<Rc.length;++n){const i=Rc[n],s=this.fontOptions[i],a=this.getFontOptions(r,i);ze(a,(o,u)=>{s[u]=o}),s.size=Number(s.size),s.vadjust=Number(s.vadjust)}}draw(e,r,n,i,s){let a=arguments.length>5&&arguments[5]!==void 0?arguments[5]:"middle";if(this.elementOptions.label===void 0)return;let o=this.fontOptions.size*this.body.view.scale;this.elementOptions.label&&o<this.elementOptions.scaling.label.drawThreshold-1||(o>=this.elementOptions.scaling.label.maxVisible&&(o=Number(this.elementOptions.scaling.label.maxVisible)/this.body.view.scale),this.calculateLabelSize(e,i,s,r,n,a),this._drawBackground(e),this._drawText(e,r,this.size.yLine,a,o))}_drawBackground(e){if(this.fontOptions.background!==void 0&&this.fontOptions.background!=="none"){e.fillStyle=this.fontOptions.background;const r=this.getSize();e.fillRect(r.left,r.top,r.width,r.height)}}_drawText(e,r,n){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"middle",s=arguments.length>4?arguments[4]:void 0;[r,n]=this._setAlignment(e,r,n,i),e.textAlign="left",r=r-this.size.width/2,this.fontOptions.valign&&this.size.height>this.size.labelHeight&&(this.fontOptions.valign==="top"&&(n-=(this.size.height-this.size.labelHeight)/2),this.fontOptions.valign==="bottom"&&(n+=(this.size.height-this.size.labelHeight)/2));for(let a=0;a<this.lineCount;a++){const o=this.lines[a];if(o&&o.blocks){let u=0;this.isEdgeLabel||this.fontOptions.align==="center"?u+=(this.size.width-o.width)/2:this.fontOptions.align==="right"&&(u+=this.size.width-o.width);for(let c=0;c<o.blocks.length;c++){const d=o.blocks[c];e.font=d.font;const[h,f]=this._getColor(d.color,s,d.strokeColor);d.strokeWidth>0&&(e.lineWidth=d.strokeWidth,e.strokeStyle=f,e.lineJoin="round"),e.fillStyle=h,d.strokeWidth>0&&e.strokeText(d.text,r+u,n+d.vadjust),e.fillText(d.text,r+u,n+d.vadjust),u+=d.width}n+=o.height}}}_setAlignment(e,r,n,i){if(this.isEdgeLabel&&this.fontOptions.align!=="horizontal"&&this.pointToSelf===!1){r=0,n=0;const s=2;this.fontOptions.align==="top"?(e.textBaseline="alphabetic",n-=2*s):this.fontOptions.align==="bottom"?(e.textBaseline="hanging",n+=2*s):e.textBaseline="middle"}else e.textBaseline=i;return[r,n]}_getColor(e,r,n){let i=e||"#000000",s=n||"#ffffff";if(r<=this.elementOptions.scaling.label.drawThreshold){const a=Math.max(0,Math.min(1,1-(this.elementOptions.scaling.label.drawThreshold-r)));i=zn(i,a),s=zn(s,a)}return[i,s]}getTextSize(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;return this._processLabel(e,r,n),{width:this.size.width,height:this.size.height,lineCount:this.lineCount}}getSize(){let r=this.size.left,n=this.size.top-.5*2;if(this.isEdgeLabel){const s=-this.size.width*.5;switch(this.fontOptions.align){case"middle":r=s,n=-this.size.height*.5;break;case"top":r=s,n=-(this.size.height+2);break;case"bottom":r=s,n=2;break}}return{left:r,top:n,width:this.size.width,height:this.size.height}}calculateLabelSize(e,r,n){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0,a=arguments.length>5&&arguments[5]!==void 0?arguments[5]:"middle";this._processLabel(e,r,n),this.size.left=i-this.size.width*.5,this.size.top=s-this.size.height*.5,this.size.yLine=s+(1-this.lineCount)*.5*this.fontOptions.size,a==="hanging"&&(this.size.top+=.5*this.fontOptions.size,this.size.top+=4,this.size.yLine+=4)}getFormattingValues(e,r,n,i){const s=function(u,c,d){return c==="normal"?d==="mod"?"":u[d]:u[c][d]!==void 0?u[c][d]:u[d]},a={color:s(this.fontOptions,i,"color"),size:s(this.fontOptions,i,"size"),face:s(this.fontOptions,i,"face"),mod:s(this.fontOptions,i,"mod"),vadjust:s(this.fontOptions,i,"vadjust"),strokeWidth:this.fontOptions.strokeWidth,strokeColor:this.fontOptions.strokeColor};(r||n)&&(i==="normal"&&this.fontOptions.chooser===!0&&this.elementOptions.labelHighlightBold?a.mod="bold":typeof this.fontOptions.chooser=="function"&&this.fontOptions.chooser(a,this.elementOptions.id,r,n));let o="";return a.mod!==void 0&&a.mod!==""&&(o+=a.mod+" "),o+=a.size+"px "+a.face,e.font=o.replace(/"/g,""),a.font=e.font,a.height=a.size,a}differentState(e,r){return e!==this.selectedState||r!==this.hoverState}_processLabelText(e,r,n,i){return new B0e(e,this,r,n).process(i)}_processLabel(e,r,n){if(this.labelDirty===!1&&!this.differentState(r,n))return;const i=this._processLabelText(e,r,n,this.elementOptions.label);this.fontOptions.minWdt>0&&i.width<this.fontOptions.minWdt&&(i.width=this.fontOptions.minWdt),this.size.labelHeight=i.height,this.fontOptions.minHgt>0&&i.height<this.fontOptions.minHgt&&(i.height=this.fontOptions.minHgt),this.lines=i.lines,this.lineCount=i.lines.length,this.size.width=i.width,this.size.height=i.height,this.selectedState=r,this.hoverState=n,this.labelDirty=!1}visible(){return!(this.size.width===0||this.size.height===0||this.elementOptions.label===void 0||this.fontOptions.size*this.body.view.scale<this.elementOptions.scaling.label.drawThreshold-1)}}class il{constructor(e,r,n){this.body=r,this.labelModule=n,this.setOptions(e),this.top=void 0,this.left=void 0,this.height=void 0,this.width=void 0,this.radius=void 0,this.margin=void 0,this.refreshNeeded=!0,this.boundingBox={top:0,left:0,right:0,bottom:0}}setOptions(e){this.options=e}_setMargins(e){this.margin={},this.options.margin&&(typeof this.options.margin=="object"?(this.margin.top=this.options.margin.top,this.margin.right=this.options.margin.right,this.margin.bottom=this.options.margin.bottom,this.margin.left=this.options.margin.left):(this.margin.top=this.options.margin,this.margin.right=this.options.margin,this.margin.bottom=this.options.margin,this.margin.left=this.options.margin)),e.adjustSizes(this.margin)}_distanceToBorder(e,r){const n=this.options.borderWidth;return e&&this.resize(e),Math.min(Math.abs(this.width/2/Math.cos(r)),Math.abs(this.height/2/Math.sin(r)))+n}enableShadow(e,r){r.shadow&&(e.shadowColor=r.shadowColor,e.shadowBlur=r.shadowSize,e.shadowOffsetX=r.shadowX,e.shadowOffsetY=r.shadowY)}disableShadow(e,r){r.shadow&&(e.shadowColor="rgba(0,0,0,0)",e.shadowBlur=0,e.shadowOffsetX=0,e.shadowOffsetY=0)}enableBorderDashes(e,r){if(r.borderDashes!==!1)if(e.setLineDash!==void 0){let n=r.borderDashes;n===!0&&(n=[5,15]),e.setLineDash(n)}else console.warn("setLineDash is not supported in this browser. The dashed borders cannot be used."),this.options.shapeProperties.borderDashes=!1,r.borderDashes=!1}disableBorderDashes(e,r){r.borderDashes!==!1&&(e.setLineDash!==void 0?e.setLineDash([0]):(console.warn("setLineDash is not supported in this browser. The dashed borders cannot be used."),this.options.shapeProperties.borderDashes=!1,r.borderDashes=!1))}needsRefresh(e,r){return this.refreshNeeded===!0?(this.refreshNeeded=!1,!0):this.width===void 0||this.labelModule.differentState(e,r)}initContextForDraw(e,r){const n=r.borderWidth/this.body.view.scale;e.lineWidth=Math.min(this.width,n),e.strokeStyle=r.borderColor,e.fillStyle=r.color}performStroke(e,r){const n=r.borderWidth/this.body.view.scale;e.save(),n>0&&(this.enableBorderDashes(e,r),e.stroke(),this.disableBorderDashes(e,r)),e.restore()}performFill(e,r){e.save(),e.fillStyle=r.color,this.enableShadow(e,r),Rh(e).call(e),this.disableShadow(e,r),e.restore(),this.performStroke(e,r)}_addBoundingBoxMargin(e){this.boundingBox.left-=e,this.boundingBox.top-=e,this.boundingBox.bottom+=e,this.boundingBox.right+=e}_updateBoundingBox(e,r,n,i,s){n!==void 0&&this.resize(n,i,s),this.left=e-this.width/2,this.top=r-this.height/2,this.boundingBox.left=this.left,this.boundingBox.top=this.top,this.boundingBox.bottom=this.top+this.height,this.boundingBox.right=this.left+this.width}updateBoundingBox(e,r,n,i,s){this._updateBoundingBox(e,r,n,i,s)}getDimensionsFromLabel(e,r,n){this.textSize=this.labelModule.getTextSize(e,r,n);let i=this.textSize.width,s=this.textSize.height;const a=14;return i===0&&(i=a,s=a),{width:i,height:s}}}let z0e=class extends il{constructor(e,r,n){super(e,r,n),this._setMargins(n)}resize(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.selected,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.hover;if(this.needsRefresh(r,n)){const i=this.getDimensionsFromLabel(e,r,n);this.width=i.width+this.margin.right+this.margin.left,this.height=i.height+this.margin.top+this.margin.bottom,this.radius=this.width/2}}draw(e,r,n,i,s,a){this.resize(e,i,s),this.left=r-this.width/2,this.top=n-this.height/2,this.initContextForDraw(e,a),gY(e,this.left,this.top,this.width,this.height,a.borderRadius),this.performFill(e,a),this.updateBoundingBox(r,n,e,i,s),this.labelModule.draw(e,this.left+this.textSize.width/2+this.margin.left,this.top+this.textSize.height/2+this.margin.top,i,s)}updateBoundingBox(e,r,n,i,s){this._updateBoundingBox(e,r,n,i,s);const a=this.options.shapeProperties.borderRadius;this._addBoundingBoxMargin(a)}distanceToBorder(e,r){e&&this.resize(e);const n=this.options.borderWidth;return Math.min(Math.abs(this.width/2/Math.cos(r)),Math.abs(this.height/2/Math.sin(r)))+n}};class _P extends il{constructor(e,r,n){super(e,r,n),this.labelOffset=0,this.selected=!1}setOptions(e,r,n){this.options=e,r===void 0&&n===void 0||this.setImages(r,n)}setImages(e,r){r&&this.selected?(this.imageObj=r,this.imageObjAlt=e):(this.imageObj=e,this.imageObjAlt=r)}switchImages(e){const r=e&&!this.selected||!e&&this.selected;if(this.selected=e,this.imageObjAlt!==void 0&&r){const n=this.imageObj;this.imageObj=this.imageObjAlt,this.imageObjAlt=n}}_getImagePadding(){const e={top:0,right:0,bottom:0,left:0};if(this.options.imagePadding){const r=this.options.imagePadding;typeof r=="object"?(e.top=r.top,e.right=r.right,e.bottom=r.bottom,e.left=r.left):(e.top=r,e.right=r,e.bottom=r,e.left=r)}return e}_resizeImage(){let e,r;if(this.options.shapeProperties.useImageSize===!1){let n=1,i=1;this.imageObj.width&&this.imageObj.height&&(this.imageObj.width>this.imageObj.height?n=this.imageObj.width/this.imageObj.height:i=this.imageObj.height/this.imageObj.width),e=this.options.size*2*n,r=this.options.size*2*i}else{const n=this._getImagePadding();e=this.imageObj.width+n.left+n.right,r=this.imageObj.height+n.top+n.bottom}this.width=e,this.height=r,this.radius=.5*this.width}_drawRawCircle(e,r,n,i){this.initContextForDraw(e,i),YO(e,r,n,i.size),this.performFill(e,i)}_drawImageAtPosition(e,r){if(this.imageObj.width!=0){e.globalAlpha=r.opacity!==void 0?r.opacity:1,this.enableShadow(e,r);let n=1;this.options.shapeProperties.interpolation===!0&&(n=this.imageObj.width/this.width/this.body.view.scale);const i=this._getImagePadding(),s=this.left+i.left,a=this.top+i.top,o=this.width-i.left-i.right,u=this.height-i.top-i.bottom;this.imageObj.drawImageAtPosition(e,n,s,a,o,u),this.disableShadow(e,r)}}_drawImageLabel(e,r,n,i,s){let a=0;if(this.height!==void 0){a=this.height*.5;const u=this.labelModule.getTextSize(e,i,s);u.lineCount>=1&&(a+=u.height/2)}const o=n+a;this.options.label&&(this.labelOffset=a),this.labelModule.draw(e,r,o,i,s,"hanging")}}let U0e=class extends _P{constructor(e,r,n){super(e,r,n),this._setMargins(n)}resize(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.selected,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.hover;if(this.needsRefresh(r,n)){const i=this.getDimensionsFromLabel(e,r,n),s=Math.max(i.width+this.margin.right+this.margin.left,i.height+this.margin.top+this.margin.bottom);this.options.size=s/2,this.width=s,this.height=s,this.radius=this.width/2}}draw(e,r,n,i,s,a){this.resize(e,i,s),this.left=r-this.width/2,this.top=n-this.height/2,this._drawRawCircle(e,r,n,a),this.updateBoundingBox(r,n),this.labelModule.draw(e,this.left+this.textSize.width/2+this.margin.left,n,i,s)}updateBoundingBox(e,r){this.boundingBox.top=r-this.options.size,this.boundingBox.left=e-this.options.size,this.boundingBox.right=e+this.options.size,this.boundingBox.bottom=r+this.options.size}distanceToBorder(e){return e&&this.resize(e),this.width*.5}};class W0e extends _P{constructor(e,r,n,i,s){super(e,r,n),this.setImages(i,s)}resize(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.selected,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.hover;if(this.imageObj.src===void 0||this.imageObj.width===void 0||this.imageObj.height===void 0){const s=this.options.size*2;this.width=s,this.height=s,this.radius=.5*this.width;return}this.needsRefresh(r,n)&&this._resizeImage()}draw(e,r,n,i,s,a){this.switchImages(i),this.resize();let o=r,u=n;this.options.shapeProperties.coordinateOrigin==="top-left"?(this.left=r,this.top=n,o+=this.width/2,u+=this.height/2):(this.left=r-this.width/2,this.top=n-this.height/2),this._drawRawCircle(e,o,u,a),e.save(),e.clip(),this._drawImageAtPosition(e,a),e.restore(),this._drawImageLabel(e,o,u,i,s),this.updateBoundingBox(r,n)}updateBoundingBox(e,r){this.options.shapeProperties.coordinateOrigin==="top-left"?(this.boundingBox.top=r,this.boundingBox.left=e,this.boundingBox.right=e+this.options.size*2,this.boundingBox.bottom=r+this.options.size*2):(this.boundingBox.top=r-this.options.size,this.boundingBox.left=e-this.options.size,this.boundingBox.right=e+this.options.size,this.boundingBox.bottom=r+this.options.size),this.boundingBox.left=Math.min(this.boundingBox.left,this.labelModule.size.left),this.boundingBox.right=Math.max(this.boundingBox.right,this.labelModule.size.left+this.labelModule.size.width),this.boundingBox.bottom=Math.max(this.boundingBox.bottom,this.boundingBox.bottom+this.labelOffset)}distanceToBorder(e){return e&&this.resize(e),this.width*.5}}class Da extends il{constructor(e,r,n){super(e,r,n)}resize(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.selected,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.hover,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{size:this.options.size};if(this.needsRefresh(r,n)){var s,a;this.labelModule.getTextSize(e,r,n);const o=2*i.size;this.width=(s=this.customSizeWidth)!==null&&s!==void 0?s:o,this.height=(a=this.customSizeHeight)!==null&&a!==void 0?a:o,this.radius=.5*this.width}}_drawShape(e,r,n,i,s,a,o,u){return this.resize(e,a,o,u),this.left=i-this.width/2,this.top=s-this.height/2,this.initContextForDraw(e,u),afe(r)(e,i,s,u.size),this.performFill(e,u),this.options.icon!==void 0&&this.options.icon.code!==void 0&&(e.font=(a?"bold ":"")+this.height/2+"px "+(this.options.icon.face||"FontAwesome"),e.fillStyle=this.options.icon.color||"black",e.textAlign="center",e.textBaseline="middle",e.fillText(this.options.icon.code,i,s)),{drawExternalLabel:()=>{if(this.options.label!==void 0){this.labelModule.calculateLabelSize(e,a,o,i,s,"hanging");const c=s+.5*this.height+.5*this.labelModule.size.height;this.labelModule.draw(e,i,c,a,o,"hanging")}this.updateBoundingBox(i,s)}}}updateBoundingBox(e,r){this.boundingBox.top=r-this.options.size,this.boundingBox.left=e-this.options.size,this.boundingBox.right=e+this.options.size,this.boundingBox.bottom=r+this.options.size,this.options.label!==void 0&&this.labelModule.size.width>0&&(this.boundingBox.left=Math.min(this.boundingBox.left,this.labelModule.size.left),this.boundingBox.right=Math.max(this.boundingBox.right,this.labelModule.size.left+this.labelModule.size.width),this.boundingBox.bottom=Math.max(this.boundingBox.bottom,this.boundingBox.bottom+this.labelModule.size.height))}}function J7(t,e){var r=Ft(t);if(Sa){var n=Sa(t);e&&(n=an(n).call(n,function(i){return ka(t,i).enumerable})),r.push.apply(r,n)}return r}function V0e(t){for(var e=1;e<arguments.length;e++){var r,n,i=arguments[e]!=null?arguments[e]:{};e%2?pt(r=J7(Object(i),!0)).call(r,function(s){ts(t,s,i[s])}):Ea?Vm(t,Ea(i)):pt(n=J7(Object(i))).call(n,function(s){Hm(t,s,ka(i,s))})}return t}class H0e extends Da{constructor(e,r,n,i){super(e,r,n,i),this.ctxRenderer=i}draw(e,r,n,i,s,a){this.resize(e,i,s,a),this.left=r-this.width/2,this.top=n-this.height/2,e.save();const o=this.ctxRenderer({ctx:e,id:this.options.id,x:r,y:n,state:{selected:i,hover:s},style:V0e({},a),label:this.options.label});if(o.drawNode!=null&&o.drawNode(),e.restore(),o.drawExternalLabel){const u=o.drawExternalLabel;o.drawExternalLabel=()=>{e.save(),u(),e.restore()}}return o.nodeDimensions&&(this.customSizeWidth=o.nodeDimensions.width,this.customSizeHeight=o.nodeDimensions.height),o}distanceToBorder(e,r){return this._distanceToBorder(e,r)}}class K0e extends il{constructor(e,r,n){super(e,r,n),this._setMargins(n)}resize(e,r,n){if(this.needsRefresh(r,n)){const s=this.getDimensionsFromLabel(e,r,n).width+this.margin.right+this.margin.left;this.width=s,this.height=s,this.radius=this.width/2}}draw(e,r,n,i,s,a){this.resize(e,i,s),this.left=r-this.width/2,this.top=n-this.height/2,this.initContextForDraw(e,a),yY(e,r-this.width/2,n-this.height/2,this.width,this.height),this.performFill(e,a),this.updateBoundingBox(r,n,e,i,s),this.labelModule.draw(e,this.left+this.textSize.width/2+this.margin.left,this.top+this.textSize.height/2+this.margin.top,i,s)}distanceToBorder(e,r){return this._distanceToBorder(e,r)}}let G0e=class extends Da{constructor(e,r,n){super(e,r,n)}draw(e,r,n,i,s,a){return this._drawShape(e,"diamond",4,r,n,i,s,a)}distanceToBorder(e,r){return this._distanceToBorder(e,r)}};class Y0e extends Da{constructor(e,r,n){super(e,r,n)}draw(e,r,n,i,s,a){return this._drawShape(e,"circle",2,r,n,i,s,a)}distanceToBorder(e){return e&&this.resize(e),this.options.size}}class Z7 extends il{constructor(e,r,n){super(e,r,n)}resize(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.selected,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.hover;if(this.needsRefresh(r,n)){const i=this.getDimensionsFromLabel(e,r,n);this.height=i.height*2,this.width=i.width+i.height,this.radius=.5*this.width}}draw(e,r,n,i,s,a){this.resize(e,i,s),this.left=r-this.width*.5,this.top=n-this.height*.5,this.initContextForDraw(e,a),Fj(e,this.left,this.top,this.width,this.height),this.performFill(e,a),this.updateBoundingBox(r,n,e,i,s),this.labelModule.draw(e,r,n,i,s)}distanceToBorder(e,r){e&&this.resize(e);const n=this.width*.5,i=this.height*.5,s=Math.sin(r)*n,a=Math.cos(r)*i;return n*i/Math.sqrt(s*s+a*a)}}class Q0e extends il{constructor(e,r,n){super(e,r,n),this._setMargins(n)}resize(e,r,n){this.needsRefresh(r,n)&&(this.iconSize={width:Number(this.options.icon.size),height:Number(this.options.icon.size)},this.width=this.iconSize.width+this.margin.right+this.margin.left,this.height=this.iconSize.height+this.margin.top+this.margin.bottom,this.radius=.5*this.width)}draw(e,r,n,i,s,a){return this.resize(e,i,s),this.options.icon.size=this.options.icon.size||50,this.left=r-this.width/2,this.top=n-this.height/2,this._icon(e,r,n,i,s,a),{drawExternalLabel:()=>{this.options.label!==void 0&&this.labelModule.draw(e,this.left+this.iconSize.width/2+this.margin.left,n+this.height/2+5,i),this.updateBoundingBox(r,n)}}}updateBoundingBox(e,r){this.boundingBox.top=r-this.options.icon.size*.5,this.boundingBox.left=e-this.options.icon.size*.5,this.boundingBox.right=e+this.options.icon.size*.5,this.boundingBox.bottom=r+this.options.icon.size*.5,this.options.label!==void 0&&this.labelModule.size.width>0&&(this.boundingBox.left=Math.min(this.boundingBox.left,this.labelModule.size.left),this.boundingBox.right=Math.max(this.boundingBox.right,this.labelModule.size.left+this.labelModule.size.width),this.boundingBox.bottom=Math.max(this.boundingBox.bottom,this.boundingBox.bottom+this.labelModule.size.height+5))}_icon(e,r,n,i,s,a){const o=Number(this.options.icon.size);this.options.icon.code!==void 0?(e.font=[this.options.icon.weight!=null?this.options.icon.weight:i?"bold":"",(this.options.icon.weight!=null&&i?5:0)+o+"px",this.options.icon.face].join(" "),e.fillStyle=this.options.icon.color||"black",e.textAlign="center",e.textBaseline="middle",this.enableShadow(e,a),e.fillText(this.options.icon.code,r,n),this.disableShadow(e,a)):console.error("When using the icon shape, you need to define the code in the icon options object. This can be done per node or globally.")}distanceToBorder(e,r){return this._distanceToBorder(e,r)}}let X0e=class extends _P{constructor(e,r,n,i,s){super(e,r,n),this.setImages(i,s)}resize(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.selected,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.hover;if(this.imageObj.src===void 0||this.imageObj.width===void 0||this.imageObj.height===void 0){const s=this.options.size*2;this.width=s,this.height=s;return}this.needsRefresh(r,n)&&this._resizeImage()}draw(e,r,n,i,s,a){e.save(),this.switchImages(i),this.resize();let o=r,u=n;if(this.options.shapeProperties.coordinateOrigin==="top-left"?(this.left=r,this.top=n,o+=this.width/2,u+=this.height/2):(this.left=r-this.width/2,this.top=n-this.height/2),this.options.shapeProperties.useBorderWithImage===!0){const c=this.options.borderWidth,d=this.options.borderWidthSelected||2*this.options.borderWidth,h=(i?d:c)/this.body.view.scale;e.lineWidth=Math.min(this.width,h),e.beginPath();let f=i?this.options.color.highlight.border:s?this.options.color.hover.border:this.options.color.border,p=i?this.options.color.highlight.background:s?this.options.color.hover.background:this.options.color.background;a.opacity!==void 0&&(f=zn(f,a.opacity),p=zn(p,a.opacity)),e.strokeStyle=f,e.fillStyle=p,e.rect(this.left-.5*e.lineWidth,this.top-.5*e.lineWidth,this.width+e.lineWidth,this.height+e.lineWidth),Rh(e).call(e),this.performStroke(e,a),e.closePath()}this._drawImageAtPosition(e,a),this._drawImageLabel(e,o,u,i,s),this.updateBoundingBox(r,n),e.restore()}updateBoundingBox(e,r){this.resize(),this.options.shapeProperties.coordinateOrigin==="top-left"?(this.left=e,this.top=r):(this.left=e-this.width/2,this.top=r-this.height/2),this.boundingBox.left=this.left,this.boundingBox.top=this.top,this.boundingBox.bottom=this.top+this.height,this.boundingBox.right=this.left+this.width,this.options.label!==void 0&&this.labelModule.size.width>0&&(this.boundingBox.left=Math.min(this.boundingBox.left,this.labelModule.size.left),this.boundingBox.right=Math.max(this.boundingBox.right,this.labelModule.size.left+this.labelModule.size.width),this.boundingBox.bottom=Math.max(this.boundingBox.bottom,this.boundingBox.bottom+this.labelOffset))}distanceToBorder(e,r){return this._distanceToBorder(e,r)}};class J0e extends Da{constructor(e,r,n){super(e,r,n)}draw(e,r,n,i,s,a){return this._drawShape(e,"square",2,r,n,i,s,a)}distanceToBorder(e,r){return this._distanceToBorder(e,r)}}class Z0e extends Da{constructor(e,r,n){super(e,r,n)}draw(e,r,n,i,s,a){return this._drawShape(e,"hexagon",4,r,n,i,s,a)}distanceToBorder(e,r){return this._distanceToBorder(e,r)}}class ebe extends Da{constructor(e,r,n){super(e,r,n)}draw(e,r,n,i,s,a){return this._drawShape(e,"star",4,r,n,i,s,a)}distanceToBorder(e,r){return this._distanceToBorder(e,r)}}class tbe extends il{constructor(e,r,n){super(e,r,n),this._setMargins(n)}resize(e,r,n){this.needsRefresh(r,n)&&(this.textSize=this.labelModule.getTextSize(e,r,n),this.width=this.textSize.width+this.margin.right+this.margin.left,this.height=this.textSize.height+this.margin.top+this.margin.bottom,this.radius=.5*this.width)}draw(e,r,n,i,s,a){this.resize(e,i,s),this.left=r-this.width/2,this.top=n-this.height/2,this.enableShadow(e,a),this.labelModule.draw(e,this.left+this.textSize.width/2+this.margin.left,this.top+this.textSize.height/2+this.margin.top,i,s),this.disableShadow(e,a),this.updateBoundingBox(r,n,e,i,s)}distanceToBorder(e,r){return this._distanceToBorder(e,r)}}let rbe=class extends Da{constructor(e,r,n){super(e,r,n)}draw(e,r,n,i,s,a){return this._drawShape(e,"triangle",3,r,n,i,s,a)}distanceToBorder(e,r){return this._distanceToBorder(e,r)}};class nbe extends Da{constructor(e,r,n){super(e,r,n)}draw(e,r,n,i,s,a){return this._drawShape(e,"triangleDown",3,r,n,i,s,a)}distanceToBorder(e,r){return this._distanceToBorder(e,r)}}function eU(t,e){var r=Ft(t);if(Sa){var n=Sa(t);e&&(n=an(n).call(n,function(i){return ka(t,i).enumerable})),r.push.apply(r,n)}return r}function tU(t){for(var e=1;e<arguments.length;e++){var r,n,i=arguments[e]!=null?arguments[e]:{};e%2?pt(r=eU(Object(i),!0)).call(r,function(s){ts(t,s,i[s])}):Ea?Vm(t,Ea(i)):pt(n=eU(Object(i))).call(n,function(s){Hm(t,s,ka(i,s))})}return t}class jt{constructor(e,r,n,i,s,a){this.options=va(s),this.globalOptions=s,this.defaultOptions=a,this.body=r,this.edges=[],this.id=void 0,this.imagelist=n,this.grouplist=i,this.x=void 0,this.y=void 0,this.baseSize=this.options.size,this.baseFontSize=this.options.font.size,this.predefinedPosition=!1,this.selected=!1,this.hover=!1,this.labelModule=new Vl(this.body,this.options,!1),this.setOptions(e)}attachEdge(e){var r;ot(r=this.edges).call(r,e)===-1&&this.edges.push(e)}detachEdge(e){var r;const n=ot(r=this.edges).call(r,e);if(n!=-1){var i;os(i=this.edges).call(i,n,1)}}setOptions(e){const r=this.options.shape;if(!e)return;if(typeof e.color<"u"&&(this._localColor=e.color),e.id!==void 0&&(this.id=e.id),this.id===void 0)throw new Error("Node must have an id");jt.checkMass(e,this.id),e.x!==void 0&&(e.x===null?(this.x=void 0,this.predefinedPosition=!1):(this.x=ui(e.x),this.predefinedPosition=!0)),e.y!==void 0&&(e.y===null?(this.y=void 0,this.predefinedPosition=!1):(this.y=ui(e.y),this.predefinedPosition=!0)),e.size!==void 0&&(this.baseSize=e.size),e.value!==void 0&&(e.value=TQ(e.value)),jt.parseOptions(this.options,e,!0,this.globalOptions,this.grouplist);const n=[e,this.options,this.defaultOptions];return this.chooser=wP("node",n),this._load_images(),this.updateLabelModule(e),e.opacity!==void 0&&jt.checkOpacity(e.opacity)&&(this.options.opacity=e.opacity),this.updateShape(r),e.hidden!==void 0||e.physics!==void 0}_load_images(){if((this.options.shape==="circularImage"||this.options.shape==="image")&&this.options.image===void 0)throw new Error("Option image must be defined for node type '"+this.options.shape+"'");if(this.options.image!==void 0){if(this.imagelist===void 0)throw new Error("Internal Error: No images provided");if(typeof this.options.image=="string")this.imageObj=this.imagelist.load(this.options.image,this.options.brokenImage,this.id);else{if(this.options.image.unselected===void 0)throw new Error("No unselected image provided");this.imageObj=this.imagelist.load(this.options.image.unselected,this.options.brokenImage,this.id),this.options.image.selected!==void 0?this.imageObjAlt=this.imagelist.load(this.options.image.selected,this.options.brokenImage,this.id):this.imageObjAlt=void 0}}}static checkOpacity(e){return 0<=e&&e<=1}static checkCoordinateOrigin(e){return e===void 0||e==="center"||e==="top-left"}static updateGroupOptions(e,r,n){var i;if(n===void 0)return;const s=e.group;if(r!==void 0&&r.group!==void 0&&s!==r.group)throw new Error("updateGroupOptions: group values in options don't match.");if(!(typeof s=="number"||typeof s=="string"&&s!=""))return;const o=n.get(s);o.opacity!==void 0&&r.opacity===void 0&&(jt.checkOpacity(o.opacity)||(console.error("Invalid option for node opacity. Value must be between 0 and 1, found: "+o.opacity),o.opacity=void 0));const u=an(i=h0e(r)).call(i,c=>r[c]!=null);u.push("font"),Mp(u,e,o),e.color=Wj(e.color)}static parseOptions(e,r){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},s=arguments.length>4?arguments[4]:void 0;if(Mp(["color","fixed","shadow"],e,r,n),jt.checkMass(r),e.opacity!==void 0&&(jt.checkOpacity(e.opacity)||(console.error("Invalid option for node opacity. Value must be between 0 and 1, found: "+e.opacity),e.opacity=void 0)),r.opacity!==void 0&&(jt.checkOpacity(r.opacity)||(console.error("Invalid option for node opacity. Value must be between 0 and 1, found: "+r.opacity),r.opacity=void 0)),r.shapeProperties&&!jt.checkCoordinateOrigin(r.shapeProperties.coordinateOrigin)&&console.error("Invalid option for node coordinateOrigin, found: "+r.shapeProperties.coordinateOrigin),An(e,r,"shadow",i),r.color!==void 0&&r.color!==null){const o=Wj(r.color);dQ(e.color,o)}else n===!0&&r.color===null&&(e.color=va(i.color));r.fixed!==void 0&&r.fixed!==null&&(typeof r.fixed=="boolean"?(e.fixed.x=r.fixed,e.fixed.y=r.fixed):(r.fixed.x!==void 0&&typeof r.fixed.x=="boolean"&&(e.fixed.x=r.fixed.x),r.fixed.y!==void 0&&typeof r.fixed.y=="boolean"&&(e.fixed.y=r.fixed.y))),n===!0&&r.font===null&&(e.font=va(i.font)),jt.updateGroupOptions(e,r,s),r.scaling!==void 0&&An(e.scaling,r.scaling,"label",i.scaling)}getFormattingValues(){const e={color:this.options.color.background,opacity:this.options.opacity,borderWidth:this.options.borderWidth,borderColor:this.options.color.border,size:this.options.size,borderDashes:this.options.shapeProperties.borderDashes,borderRadius:this.options.shapeProperties.borderRadius,shadow:this.options.shadow.enabled,shadowColor:this.options.shadow.color,shadowSize:this.options.shadow.size,shadowX:this.options.shadow.x,shadowY:this.options.shadow.y};if(this.selected||this.hover?this.chooser===!0?this.selected?(this.options.borderWidthSelected!=null?e.borderWidth=this.options.borderWidthSelected:e.borderWidth*=2,e.color=this.options.color.highlight.background,e.borderColor=this.options.color.highlight.border,e.shadow=this.options.shadow.enabled):this.hover&&(e.color=this.options.color.hover.background,e.borderColor=this.options.color.hover.border,e.shadow=this.options.shadow.enabled):typeof this.chooser=="function"&&(this.chooser(e,this.options.id,this.selected,this.hover),e.shadow===!1&&(e.shadowColor!==this.options.shadow.color||e.shadowSize!==this.options.shadow.size||e.shadowX!==this.options.shadow.x||e.shadowY!==this.options.shadow.y)&&(e.shadow=!0)):e.shadow=this.options.shadow.enabled,this.options.opacity!==void 0){const r=this.options.opacity;e.borderColor=zn(e.borderColor,r),e.color=zn(e.color,r),e.shadowColor=zn(e.shadowColor,r)}return e}updateLabelModule(e){(this.options.label===void 0||this.options.label===null)&&(this.options.label=""),jt.updateGroupOptions(this.options,tU(tU({},e),{},{color:e&&e.color||this._localColor||void 0}),this.grouplist);const r=this.grouplist.get(this.options.group,!1),n=[e,this.options,r,this.globalOptions,this.defaultOptions];this.labelModule.update(this.options,n),this.labelModule.baseSize!==void 0&&(this.baseFontSize=this.labelModule.baseSize)}updateShape(e){if(e===this.options.shape&&this.shape)this.shape.setOptions(this.options,this.imageObj,this.imageObjAlt);else switch(this.options.shape){case"box":this.shape=new z0e(this.options,this.body,this.labelModule);break;case"circle":this.shape=new U0e(this.options,this.body,this.labelModule);break;case"circularImage":this.shape=new W0e(this.options,this.body,this.labelModule,this.imageObj,this.imageObjAlt);break;case"custom":this.shape=new H0e(this.options,this.body,this.labelModule,this.options.ctxRenderer);break;case"database":this.shape=new K0e(this.options,this.body,this.labelModule);break;case"diamond":this.shape=new G0e(this.options,this.body,this.labelModule);break;case"dot":this.shape=new Y0e(this.options,this.body,this.labelModule);break;case"ellipse":this.shape=new Z7(this.options,this.body,this.labelModule);break;case"icon":this.shape=new Q0e(this.options,this.body,this.labelModule);break;case"image":this.shape=new X0e(this.options,this.body,this.labelModule,this.imageObj,this.imageObjAlt);break;case"square":this.shape=new J0e(this.options,this.body,this.labelModule);break;case"hexagon":this.shape=new Z0e(this.options,this.body,this.labelModule);break;case"star":this.shape=new ebe(this.options,this.body,this.labelModule);break;case"text":this.shape=new tbe(this.options,this.body,this.labelModule);break;case"triangle":this.shape=new rbe(this.options,this.body,this.labelModule);break;case"triangleDown":this.shape=new nbe(this.options,this.body,this.labelModule);break;default:this.shape=new Z7(this.options,this.body,this.labelModule);break}this.needsRefresh()}select(){this.selected=!0,this.needsRefresh()}unselect(){this.selected=!1,this.needsRefresh()}needsRefresh(){this.shape.refreshNeeded=!0}getTitle(){return this.options.title}distanceToBorder(e,r){return this.shape.distanceToBorder(e,r)}isFixed(){return this.options.fixed.x&&this.options.fixed.y}isSelected(){return this.selected}getValue(){return this.options.value}getLabelSize(){return this.labelModule.size()}setValueRange(e,r,n){if(this.options.value!==void 0){const i=this.options.scaling.customScalingFunction(e,r,n,this.options.value),s=this.options.scaling.max-this.options.scaling.min;if(this.options.scaling.label.enabled===!0){const a=this.options.scaling.label.max-this.options.scaling.label.min;this.options.font.size=this.options.scaling.label.min+i*a}this.options.size=this.options.scaling.min+i*s}else this.options.size=this.baseSize,this.options.font.size=this.baseFontSize;this.updateLabelModule()}draw(e){const r=this.getFormattingValues();return this.shape.draw(e,this.x,this.y,this.selected,this.hover,r)||{}}updateBoundingBox(e){this.shape.updateBoundingBox(this.x,this.y,e)}resize(e){const r=this.getFormattingValues();this.shape.resize(e,this.selected,this.hover,r)}getItemsOnPoint(e){const r=[];return this.labelModule.visible()&&Yj(this.labelModule.getSize(),e)&&r.push({nodeId:this.id,labelId:0}),Yj(this.shape.boundingBox,e)&&r.push({nodeId:this.id}),r}isOverlappingWith(e){return this.shape.left<e.right&&this.shape.left+this.shape.width>e.left&&this.shape.top<e.bottom&&this.shape.top+this.shape.height>e.top}isBoundingBoxOverlappingWith(e){return this.shape.boundingBox.left<e.right&&this.shape.boundingBox.right>e.left&&this.shape.boundingBox.top<e.bottom&&this.shape.boundingBox.bottom>e.top}static checkMass(e,r){if(e.mass!==void 0&&e.mass<=0){let n="";r!==void 0&&(n=" in node id: "+r),console.error("%cNegative or zero mass disallowed"+n+", setting mass to 1.",mQ),e.mass=1}}}class ibe{constructor(e,r,n,i){var s;if(this.body=e,this.images=r,this.groups=n,this.layoutEngine=i,this.body.functions.createNode=ne(s=this.create).call(s,this),this.nodesListeners={add:(a,o)=>{this.add(o.items)},update:(a,o)=>{this.update(o.items,o.data,o.oldData)},remove:(a,o)=>{this.remove(o.items)}},this.defaultOptions={borderWidth:1,borderWidthSelected:void 0,brokenImage:void 0,color:{border:"#2B7CE9",background:"#97C2FC",highlight:{border:"#2B7CE9",background:"#D2E5FF"},hover:{border:"#2B7CE9",background:"#D2E5FF"}},opacity:void 0,fixed:{x:!1,y:!1},font:{color:"#343434",size:14,face:"arial",background:"none",strokeWidth:0,strokeColor:"#ffffff",align:"center",vadjust:0,multi:!1,bold:{mod:"bold"},boldital:{mod:"bold italic"},ital:{mod:"italic"},mono:{mod:"",size:15,face:"monospace",vadjust:2}},group:void 0,hidden:!1,icon:{face:"FontAwesome",code:void 0,size:50,color:"#2B7CE9"},image:void 0,imagePadding:{top:0,right:0,bottom:0,left:0},label:void 0,labelHighlightBold:!0,level:void 0,margin:{top:5,right:5,bottom:5,left:5},mass:1,physics:!0,scaling:{min:10,max:30,label:{enabled:!1,min:14,max:30,maxVisible:30,drawThreshold:5},customScalingFunction:function(a,o,u,c){if(o===a)return .5;{const d=1/(o-a);return Math.max(0,(c-a)*d)}}},shadow:{enabled:!1,color:"rgba(0,0,0,0.5)",size:10,x:5,y:5},shape:"ellipse",shapeProperties:{borderDashes:!1,borderRadius:6,interpolation:!0,useImageSize:!1,useBorderWithImage:!1,coordinateOrigin:"center"},size:25,title:void 0,value:void 0,x:void 0,y:void 0},this.defaultOptions.mass<=0)throw"Internal error: mass in defaultOptions of NodesHandler may not be zero or negative";this.options=va(this.defaultOptions),this.bindEventListeners()}bindEventListeners(){var e,r;this.body.emitter.on("refreshNodes",ne(e=this.refresh).call(e,this)),this.body.emitter.on("refresh",ne(r=this.refresh).call(r,this)),this.body.emitter.on("destroy",()=>{ze(this.nodesListeners,(n,i)=>{this.body.data.nodes&&this.body.data.nodes.off(i,n)}),delete this.body.functions.createNode,delete this.nodesListeners.add,delete this.nodesListeners.update,delete this.nodesListeners.remove,delete this.nodesListeners})}setOptions(e){if(e!==void 0){if(jt.parseOptions(this.options,e),e.opacity!==void 0&&(Gj(e.opacity)||!eo(e.opacity)||e.opacity<0||e.opacity>1?console.error("Invalid option for node opacity. Value must be between 0 and 1, found: "+e.opacity):this.options.opacity=e.opacity),e.shape!==void 0)for(const r in this.body.nodes)Object.prototype.hasOwnProperty.call(this.body.nodes,r)&&this.body.nodes[r].updateShape();if(typeof e.font<"u"||typeof e.widthConstraint<"u"||typeof e.heightConstraint<"u")for(const r of Ft(this.body.nodes))this.body.nodes[r].updateLabelModule(),this.body.nodes[r].needsRefresh();if(e.size!==void 0)for(const r in this.body.nodes)Object.prototype.hasOwnProperty.call(this.body.nodes,r)&&this.body.nodes[r].needsRefresh();(e.hidden!==void 0||e.physics!==void 0)&&this.body.emitter.emit("_dataChanged")}}setData(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;const n=this.body.data.nodes;if(uY("id",e))this.body.data.nodes=e;else if(zt(e))this.body.data.nodes=new Eu,this.body.data.nodes.add(e);else if(!e)this.body.data.nodes=new Eu;else throw new TypeError("Array or DataSet expected");if(n&&ze(this.nodesListeners,function(i,s){n.off(s,i)}),this.body.nodes={},this.body.data.nodes){const i=this;ze(this.nodesListeners,function(a,o){i.body.data.nodes.on(o,a)});const s=this.body.data.nodes.getIds();this.add(s,!0)}r===!1&&this.body.emitter.emit("_dataChanged")}add(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,n;const i=[];for(let s=0;s<e.length;s++){n=e[s];const a=this.body.data.nodes.get(n),o=this.create(a);i.push(o),this.body.nodes[n]=o}this.layoutEngine.positionInitially(i),r===!1&&this.body.emitter.emit("_dataChanged")}update(e,r,n){const i=this.body.nodes;let s=!1;for(let a=0;a<e.length;a++){const o=e[a];let u=i[o];const c=r[a];u!==void 0?u.setOptions(c)&&(s=!0):(s=!0,u=this.create(c),i[o]=u)}!s&&n!==void 0&&(s=fye(r).call(r,function(a,o){const u=n[o];return u&&u.level!==a.level})),s===!0?this.body.emitter.emit("_dataChanged"):this.body.emitter.emit("_dataUpdated")}remove(e){const r=this.body.nodes;for(let n=0;n<e.length;n++){const i=e[n];delete r[i]}this.body.emitter.emit("_dataChanged")}create(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:jt;return new r(e,this.body,this.images,this.groups,this.options,this.defaultOptions)}refresh(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;ze(this.body.nodes,(r,n)=>{const i=this.body.data.nodes.get(n);i!==void 0&&(e===!0&&r.setOptions({x:null,y:null}),r.setOptions({fixed:!1}),r.setOptions(i))})}getPositions(e){const r={};if(e!==void 0){if(zt(e)===!0){for(let n=0;n<e.length;n++)if(this.body.nodes[e[n]]!==void 0){const i=this.body.nodes[e[n]];r[e[n]]={x:Math.round(i.x),y:Math.round(i.y)}}}else if(this.body.nodes[e]!==void 0){const n=this.body.nodes[e];r[e]={x:Math.round(n.x),y:Math.round(n.y)}}}else for(let n=0;n<this.body.nodeIndices.length;n++){const i=this.body.nodes[this.body.nodeIndices[n]];r[this.body.nodeIndices[n]]={x:Math.round(i.x),y:Math.round(i.y)}}return r}getPosition(e){if(e==null)throw new TypeError("No id was specified for getPosition method.");if(this.body.nodes[e]==null)throw new ReferenceError("NodeId provided for getPosition does not exist. Provided: ".concat(e));return{x:Math.round(this.body.nodes[e].x),y:Math.round(this.body.nodes[e].y)}}storePositions(){const e=[],r=this.body.data.nodes.getDataSet();for(const n of r.get()){const i=n.id,s=this.body.nodes[i],a=Math.round(s.x),o=Math.round(s.y);(n.x!==a||n.y!==o)&&e.push({id:i,x:a,y:o})}r.update(e)}getBoundingBox(e){if(this.body.nodes[e]!==void 0)return this.body.nodes[e].shape.boundingBox}getConnectedNodes(e,r){const n=[];if(this.body.nodes[e]!==void 0){const i=this.body.nodes[e],s={};for(let a=0;a<i.edges.length;a++){const o=i.edges[a];r!=="to"&&o.toId==i.id?s[o.fromId]===void 0&&(n.push(o.fromId),s[o.fromId]=!0):r!=="from"&&o.fromId==i.id&&s[o.toId]===void 0&&(n.push(o.toId),s[o.toId]=!0)}}return n}getConnectedEdges(e){const r=[];if(this.body.nodes[e]!==void 0){const n=this.body.nodes[e];for(let i=0;i<n.edges.length;i++)r.push(n.edges[i].id)}else console.error("NodeId provided for getConnectedEdges does not exist. Provided: ",e);return r}moveNode(e,r,n){this.body.nodes[e]!==void 0?(this.body.nodes[e].x=Number(r),this.body.nodes[e].y=Number(n),ls(()=>{this.body.emitter.emit("startSimulation")},0)):console.error("Node id supplied to moveNode does not exist. Provided: ",e)}}var rU={},nU;function sbe(){if(nU)return rU;nU=1;var t=je(),e=Math.hypot,r=Math.abs,n=Math.sqrt,i=!!e&&e(1/0,NaN)!==1/0;return t({target:"Math",stat:!0,arity:2,forced:i},{hypot:function(a,o){for(var u=0,c=0,d=arguments.length,h=0,f,p;c<d;)f=r(arguments[c++]),h<f?(p=h/f,u=u*p*p+1,h=f):f>0?(p=f/h,u+=p*p):u+=f;return h===1/0?1/0:h*n(u)}}),rU}var s2,iU;function abe(){if(iU)return s2;iU=1,sbe();var t=dt();return s2=t.Math.hypot,s2}var a2,sU;function obe(){if(sU)return a2;sU=1;var t=abe();return a2=t,a2}var o2,aU;function lbe(){return aU||(aU=1,o2=obe()),o2}var ube=lbe(),cbe=Re(ube);class Kt{static transform(e,r){zt(e)||(e=[e]);const n=r.point.x,i=r.point.y,s=r.angle,a=r.length;for(let o=0;o<e.length;++o){const u=e[o],c=u.x*Math.cos(s)-u.y*Math.sin(s),d=u.x*Math.sin(s)+u.y*Math.cos(s);u.x=n+a*c,u.y=i+a*d}}static drawPath(e,r){e.beginPath(),e.moveTo(r[0].x,r[0].y);for(let n=1;n<r.length;++n)e.lineTo(r[n].x,r[n].y);e.closePath()}}let dbe=class extends Kt{static draw(e,r){if(r.image){e.save(),e.translate(r.point.x,r.point.y),e.rotate(Math.PI/2+r.angle);const n=r.imageWidth!=null?r.imageWidth:r.image.width,i=r.imageHeight!=null?r.imageHeight:r.image.height;r.image.drawImageAtPosition(e,1,-n/2,0,n,i),e.restore()}return!1}};class hbe extends Kt{static draw(e,r){const n=[{x:0,y:0},{x:-1,y:.3},{x:-.9,y:0},{x:-1,y:-.3}];return Kt.transform(n,r),Kt.drawPath(e,n),!0}}class fbe{static draw(e,r){const n=[{x:-1,y:0},{x:0,y:.3},{x:-.4,y:0},{x:0,y:-.3}];return Kt.transform(n,r),Kt.drawPath(e,n),!0}}class pbe{static draw(e,r){const n={x:-.4,y:0};Kt.transform(n,r),e.strokeStyle=e.fillStyle,e.fillStyle="rgba(0, 0, 0, 0)";const i=Math.PI,s=r.angle-i/2,a=r.angle+i/2;return e.beginPath(),e.arc(n.x,n.y,r.length*.4,s,a,!1),e.stroke(),!0}}class mbe{static draw(e,r){const n={x:-.3,y:0};Kt.transform(n,r),e.strokeStyle=e.fillStyle,e.fillStyle="rgba(0, 0, 0, 0)";const i=Math.PI,s=r.angle+i/2,a=r.angle+3*i/2;return e.beginPath(),e.arc(n.x,n.y,r.length*.4,s,a,!1),e.stroke(),!0}}class vbe{static draw(e,r){const n=[{x:.02,y:0},{x:-1,y:.3},{x:-1,y:-.3}];return Kt.transform(n,r),Kt.drawPath(e,n),!0}}class gbe{static draw(e,r){const n=[{x:0,y:.3},{x:0,y:-.3},{x:-1,y:0}];return Kt.transform(n,r),Kt.drawPath(e,n),!0}}class ybe{static draw(e,r){const n={x:-.4,y:0};return Kt.transform(n,r),YO(e,n.x,n.y,r.length*.4),!0}}class bbe{static draw(e,r){const n=[{x:0,y:.5},{x:0,y:-.5},{x:-.15,y:-.5},{x:-.15,y:.5}];return Kt.transform(n,r),Kt.drawPath(e,n),!0}}class xbe{static draw(e,r){const n=[{x:0,y:.3},{x:0,y:-.3},{x:-.6,y:-.3},{x:-.6,y:.3}];return Kt.transform(n,r),Kt.drawPath(e,n),!0}}class wbe{static draw(e,r){const n=[{x:0,y:0},{x:-.5,y:-.3},{x:-1,y:0},{x:-.5,y:.3}];return Kt.transform(n,r),Kt.drawPath(e,n),!0}}class _be{static draw(e,r){const n=[{x:-1,y:.3},{x:-.5,y:0},{x:-1,y:-.3},{x:0,y:0}];return Kt.transform(n,r),Kt.drawPath(e,n),!0}}class $Q{static draw(e,r){let n;switch(r.type&&(n=r.type.toLowerCase()),n){case"image":return dbe.draw(e,r);case"circle":return ybe.draw(e,r);case"box":return xbe.draw(e,r);case"crow":return fbe.draw(e,r);case"curve":return pbe.draw(e,r);case"diamond":return wbe.draw(e,r);case"inv_curve":return mbe.draw(e,r);case"triangle":return vbe.draw(e,r);case"inv_triangle":return gbe.draw(e,r);case"bar":return bbe.draw(e,r);case"vee":return _be.draw(e,r);case"arrow":default:return hbe.draw(e,r)}}}function oU(t,e){var r=Ft(t);if(Sa){var n=Sa(t);e&&(n=an(n).call(n,function(i){return ka(t,i).enumerable})),r.push.apply(r,n)}return r}function lU(t){for(var e=1;e<arguments.length;e++){var r,n,i=arguments[e]!=null?arguments[e]:{};e%2?pt(r=oU(Object(i),!0)).call(r,function(s){ts(t,s,i[s])}):Ea?Vm(t,Ea(i)):pt(n=oU(Object(i))).call(n,function(s){Hm(t,s,ka(i,s))})}return t}class kQ{constructor(e,r,n){ts(this,"color",{}),ts(this,"colorDirty",!0),ts(this,"hoverWidth",1.5),ts(this,"selectionWidth",2),this._body=r,this._labelModule=n,this.setOptions(e),this.fromPoint=this.from,this.toPoint=this.to}connect(){this.from=this._body.nodes[this.options.from],this.to=this._body.nodes[this.options.to]}cleanup(){return!1}setOptions(e){this.options=e,this.from=this._body.nodes[this.options.from],this.to=this._body.nodes[this.options.to],this.id=this.options.id}drawLine(e,r,n,i){let s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:this.getViaNode();e.strokeStyle=this.getColor(e,r),e.lineWidth=r.width,r.dashes!==!1?this._drawDashedLine(e,r,s):this._drawLine(e,r,s)}_drawLine(e,r,n,i,s){if(this.from!=this.to)this._line(e,r,n,i,s);else{const[a,o,u]=this._getCircleData(e);this._circle(e,r,a,o,u)}}_drawDashedLine(e,r,n,i,s){e.lineCap="round";const a=zt(r.dashes)?r.dashes:[5,5];if(e.setLineDash!==void 0){if(e.save(),e.setLineDash(a),e.lineDashOffset=0,this.from!=this.to)this._line(e,r,n);else{const[o,u,c]=this._getCircleData(e);this._circle(e,r,o,u,c)}e.setLineDash([0]),e.lineDashOffset=0,e.restore()}else{if(this.from!=this.to)bY(e,this.from.x,this.from.y,this.to.x,this.to.y,a);else{const[o,u,c]=this._getCircleData(e);this._circle(e,r,o,u,c)}this.enableShadow(e,r),e.stroke(),this.disableShadow(e,r)}}findBorderPosition(e,r,n){return this.from!=this.to?this._findBorderPosition(e,r,n):this._findBorderPositionCircle(e,r,n)}findBorderPositions(e){if(this.from!=this.to)return{from:this._findBorderPosition(this.from,e),to:this._findBorderPosition(this.to,e)};{var r;const[n,i]=Pi(r=this._getCircleData(e)).call(r,0,2);return{from:this._findBorderPositionCircle(this.from,e,{x:n,y:i,low:.25,high:.6,direction:-1}),to:this._findBorderPositionCircle(this.from,e,{x:n,y:i,low:.6,high:.8,direction:1})}}}_getCircleData(e){const r=this.options.selfReference.size;e!==void 0&&this.from.shape.width===void 0&&this.from.shape.resize(e);const n=IQ(e,this.options.selfReference.angle,r,this.from);return[n.x,n.y,r]}_pointOnCircle(e,r,n,i){const s=i*2*Math.PI;return{x:e+n*Math.cos(s),y:r-n*Math.sin(s)}}_findBorderPositionCircle(e,r,n){const i=n.x,s=n.y;let a=n.low,o=n.high;const u=n.direction,c=10,d=this.options.selfReference.size,h=.05;let f,p=(a+o)*.5,m=0;this.options.arrowStrikethrough===!0&&(u===-1?m=this.options.endPointOffset.from:u===1&&(m=this.options.endPointOffset.to));let y=0;do{p=(a+o)*.5,f=this._pointOnCircle(i,s,d,p);const x=Math.atan2(e.y-f.y,e.x-f.x),g=e.distanceToBorder(r,x)+m,v=Math.sqrt(Math.pow(f.x-e.x,2)+Math.pow(f.y-e.y,2)),w=g-v;if(Math.abs(w)<h)break;w>0?u>0?a=p:o=p:u>0?o=p:a=p,++y}while(a<=o&&y<c);return lU(lU({},f),{},{t:p})}getLineWidth(e,r){return e===!0?Math.max(this.selectionWidth,.3/this._body.view.scale):r===!0?Math.max(this.hoverWidth,.3/this._body.view.scale):Math.max(this.options.width,.3/this._body.view.scale)}getColor(e,r){if(r.inheritsColor!==!1){if(r.inheritsColor==="both"&&this.from.id!==this.to.id){const n=e.createLinearGradient(this.from.x,this.from.y,this.to.x,this.to.y);let i=this.from.options.color.highlight.border,s=this.to.options.color.highlight.border;return this.from.selected===!1&&this.to.selected===!1?(i=zn(this.from.options.color.border,r.opacity),s=zn(this.to.options.color.border,r.opacity)):this.from.selected===!0&&this.to.selected===!1?s=this.to.options.color.border:this.from.selected===!1&&this.to.selected===!0&&(i=this.from.options.color.border),n.addColorStop(0,i),n.addColorStop(1,s),n}return r.inheritsColor==="to"?zn(this.to.options.color.border,r.opacity):zn(this.from.options.color.border,r.opacity)}else return zn(r.color,r.opacity)}_circle(e,r,n,i,s){this.enableShadow(e,r);let a=0,o=Math.PI*2;if(!this.options.selfReference.renderBehindTheNode){const u=this.options.selfReference.angle,c=this.options.selfReference.angle+Math.PI,d=this._findBorderPositionCircle(this.from,e,{x:n,y:i,low:u,high:c,direction:-1}),h=this._findBorderPositionCircle(this.from,e,{x:n,y:i,low:u,high:c,direction:1});a=Math.atan2(d.y-i,d.x-n),o=Math.atan2(h.y-i,h.x-n)}e.beginPath(),e.arc(n,i,s,a,o,!1),e.stroke(),this.disableShadow(e,r)}getDistanceToEdge(e,r,n,i,s,a){if(this.from!=this.to)return this._getDistanceToEdge(e,r,n,i,s,a);{const[o,u,c]=this._getCircleData(void 0),d=o-s,h=u-a;return Math.abs(Math.sqrt(d*d+h*h)-c)}}_getDistanceToLine(e,r,n,i,s,a){const o=n-e,u=i-r,c=o*o+u*u;let d=((s-e)*o+(a-r)*u)/c;d>1?d=1:d<0&&(d=0);const h=e+d*o,f=r+d*u,p=h-s,m=f-a;return Math.sqrt(p*p+m*m)}getArrowData(e,r,n,i,s,a){let o,u,c,d,h,f,p;const m=a.width;r==="from"?(c=this.from,d=this.to,h=a.fromArrowScale<0,f=Math.abs(a.fromArrowScale),p=a.fromArrowType):r==="to"?(c=this.to,d=this.from,h=a.toArrowScale<0,f=Math.abs(a.toArrowScale),p=a.toArrowType):(c=this.to,d=this.from,h=a.middleArrowScale<0,f=Math.abs(a.middleArrowScale),p=a.middleArrowType);const y=15*f+3*m;if(c!=d){const w=cbe(c.x-d.x,c.y-d.y),b=y/w;if(r!=="middle")if(this.options.smooth.enabled===!0){const _=this._findBorderPosition(c,e,{via:n}),E=this.getPoint(_.t+b*(r==="from"?1:-1),n);o=Math.atan2(_.y-E.y,_.x-E.x),u=_}else o=Math.atan2(c.y-d.y,c.x-d.x),u=this._findBorderPosition(c,e);else{const _=(h?-b:b)/2,E=this.getPoint(.5+_,n),N=this.getPoint(.5-_,n);o=Math.atan2(E.y-N.y,E.x-N.x),u=this.getPoint(.5,n)}}else{const[w,b,_]=this._getCircleData(e);if(r==="from"){const E=this.options.selfReference.angle,N=this.options.selfReference.angle+Math.PI,S=this._findBorderPositionCircle(this.from,e,{x:w,y:b,low:E,high:N,direction:-1});o=S.t*-2*Math.PI+1.5*Math.PI+.1*Math.PI,u=S}else if(r==="to"){const E=this.options.selfReference.angle,N=this.options.selfReference.angle+Math.PI,S=this._findBorderPositionCircle(this.from,e,{x:w,y:b,low:E,high:N,direction:1});o=S.t*-2*Math.PI+1.5*Math.PI-1.1*Math.PI,u=S}else{const E=this.options.selfReference.angle/(2*Math.PI);u=this._pointOnCircle(w,b,_,E),o=E*-2*Math.PI+1.5*Math.PI+.1*Math.PI}}const x=u.x-y*.9*Math.cos(o),g=u.y-y*.9*Math.sin(o);return{point:u,core:{x,y:g},angle:o,length:y,type:p}}drawArrowHead(e,r,n,i,s){e.strokeStyle=this.getColor(e,r),e.fillStyle=e.strokeStyle,e.lineWidth=r.width,$Q.draw(e,s)&&(this.enableShadow(e,r),Rh(e).call(e),this.disableShadow(e,r))}enableShadow(e,r){r.shadow===!0&&(e.shadowColor=r.shadowColor,e.shadowBlur=r.shadowSize,e.shadowOffsetX=r.shadowX,e.shadowOffsetY=r.shadowY)}disableShadow(e,r){r.shadow===!0&&(e.shadowColor="rgba(0,0,0,0)",e.shadowBlur=0,e.shadowOffsetX=0,e.shadowOffsetY=0)}drawBackground(e,r){if(r.background!==!1){const n={strokeStyle:e.strokeStyle,lineWidth:e.lineWidth,dashes:e.dashes};e.strokeStyle=r.backgroundColor,e.lineWidth=r.backgroundSize,this.setStrokeDashed(e,r.backgroundDashes),e.stroke(),e.strokeStyle=n.strokeStyle,e.lineWidth=n.lineWidth,e.dashes=n.dashes,this.setStrokeDashed(e,r.dashes)}}setStrokeDashed(e,r){if(r!==!1)if(e.setLineDash!==void 0){const n=zt(r)?r:[5,5];e.setLineDash(n)}else console.warn("setLineDash is not supported in this browser. The dashed stroke cannot be used.");else e.setLineDash!==void 0?e.setLineDash([]):console.warn("setLineDash is not supported in this browser. The dashed stroke cannot be used.")}}function uU(t,e){var r=Ft(t);if(Sa){var n=Sa(t);e&&(n=an(n).call(n,function(i){return ka(t,i).enumerable})),r.push.apply(r,n)}return r}function cU(t){for(var e=1;e<arguments.length;e++){var r,n,i=arguments[e]!=null?arguments[e]:{};e%2?pt(r=uU(Object(i),!0)).call(r,function(s){ts(t,s,i[s])}):Ea?Vm(t,Ea(i)):pt(n=uU(Object(i))).call(n,function(s){Hm(t,s,ka(i,s))})}return t}class SP extends kQ{constructor(e,r,n){super(e,r,n)}_findBorderPositionBezier(e,r){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this._getViaCoordinates();const i=10,s=.2;let a=!1,o=1,u=0,c=this.to,d,h,f=this.options.endPointOffset?this.options.endPointOffset.to:0;e.id===this.from.id&&(c=this.from,a=!0,f=this.options.endPointOffset?this.options.endPointOffset.from:0),this.options.arrowStrikethrough===!1&&(f=0);let p=0;do{h=(u+o)*.5,d=this.getPoint(h,n);const m=Math.atan2(c.y-d.y,c.x-d.x),y=c.distanceToBorder(r,m)+f,x=Math.sqrt(Math.pow(d.x-c.x,2)+Math.pow(d.y-c.y,2)),g=y-x;if(Math.abs(g)<s)break;g<0?a===!1?u=h:o=h:a===!1?o=h:u=h,++p}while(u<=o&&p<i);return cU(cU({},d),{},{t:h})}_getDistanceToBezierEdge(e,r,n,i,s,a,o){let u=1e9,c,d,h,f,p,m=e,y=r;for(d=1;d<10;d++)h=.1*d,f=Math.pow(1-h,2)*e+2*h*(1-h)*o.x+Math.pow(h,2)*n,p=Math.pow(1-h,2)*r+2*h*(1-h)*o.y+Math.pow(h,2)*i,d>0&&(c=this._getDistanceToLine(m,y,f,p,s,a),u=c<u?c:u),m=f,y=p;return u}_bezierCurve(e,r,n,i){e.beginPath(),e.moveTo(this.fromPoint.x,this.fromPoint.y),n!=null&&n.x!=null?i!=null&&i.x!=null?e.bezierCurveTo(n.x,n.y,i.x,i.y,this.toPoint.x,this.toPoint.y):e.quadraticCurveTo(n.x,n.y,this.toPoint.x,this.toPoint.y):e.lineTo(this.toPoint.x,this.toPoint.y),this.drawBackground(e,r),this.enableShadow(e,r),e.stroke(),this.disableShadow(e,r)}getViaNode(){return this._getViaCoordinates()}}class dU extends SP{constructor(e,r,n){super(e,r,n),ts(this,"via",this.via),this._boundFunction=()=>{this.positionBezierNode()},this._body.emitter.on("_repositionBezierNodes",this._boundFunction)}setOptions(e){super.setOptions(e);let r=!1;this.options.physics!==e.physics&&(r=!0),this.options=e,this.id=this.options.id,this.from=this._body.nodes[this.options.from],this.to=this._body.nodes[this.options.to],this.setupSupportNode(),this.connect(),r===!0&&(this.via.setOptions({physics:this.options.physics}),this.positionBezierNode())}connect(){this.from=this._body.nodes[this.options.from],this.to=this._body.nodes[this.options.to],this.from===void 0||this.to===void 0||this.options.physics===!1?this.via.setOptions({physics:!1}):this.from.id===this.to.id?this.via.setOptions({physics:!1}):this.via.setOptions({physics:!0})}cleanup(){return this._body.emitter.off("_repositionBezierNodes",this._boundFunction),this.via!==void 0?(delete this._body.nodes[this.via.id],this.via=void 0,!0):!1}setupSupportNode(){if(this.via===void 0){const e="edgeId:"+this.id,r=this._body.functions.createNode({id:e,shape:"circle",physics:!0,hidden:!0});this._body.nodes[e]=r,this.via=r,this.via.parentEdgeId=this.id,this.positionBezierNode()}}positionBezierNode(){this.via!==void 0&&this.from!==void 0&&this.to!==void 0?(this.via.x=.5*(this.from.x+this.to.x),this.via.y=.5*(this.from.y+this.to.y)):this.via!==void 0&&(this.via.x=0,this.via.y=0)}_line(e,r,n){this._bezierCurve(e,r,n)}_getViaCoordinates(){return this.via}getViaNode(){return this.via}getPoint(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.via;if(this.from===this.to){const[n,i,s]=this._getCircleData(),a=2*Math.PI*(1-e);return{x:n+s*Math.sin(a),y:i+s-s*(1-Math.cos(a))}}else return{x:Math.pow(1-e,2)*this.fromPoint.x+2*e*(1-e)*r.x+Math.pow(e,2)*this.toPoint.x,y:Math.pow(1-e,2)*this.fromPoint.y+2*e*(1-e)*r.y+Math.pow(e,2)*this.toPoint.y}}_findBorderPosition(e,r){return this._findBorderPositionBezier(e,r,this.via)}_getDistanceToEdge(e,r,n,i,s,a){return this._getDistanceToBezierEdge(e,r,n,i,s,a,this.via)}}class hU extends SP{constructor(e,r,n){super(e,r,n)}_line(e,r,n){this._bezierCurve(e,r,n)}getViaNode(){return this._getViaCoordinates()}_getViaCoordinates(){const e=this.options.smooth.roundness,r=this.options.smooth.type;let n=Math.abs(this.from.x-this.to.x),i=Math.abs(this.from.y-this.to.y);if(r==="discrete"||r==="diagonalCross"){let s,a;n<=i?s=a=e*i:s=a=e*n,this.from.x>this.to.x&&(s=-s),this.from.y>=this.to.y&&(a=-a);let o=this.from.x+s,u=this.from.y+a;return r==="discrete"&&(n<=i?o=n<e*i?this.from.x:o:u=i<e*n?this.from.y:u),{x:o,y:u}}else if(r==="straightCross"){let s=(1-e)*n,a=(1-e)*i;return n<=i?(s=0,this.from.y<this.to.y&&(a=-a)):(this.from.x<this.to.x&&(s=-s),a=0),{x:this.to.x+s,y:this.to.y+a}}else if(r==="horizontal"){let s=(1-e)*n;return this.from.x<this.to.x&&(s=-s),{x:this.to.x+s,y:this.from.y}}else if(r==="vertical"){let s=(1-e)*i;return this.from.y<this.to.y&&(s=-s),{x:this.from.x,y:this.to.y+s}}else if(r==="curvedCW"){n=this.to.x-this.from.x,i=this.from.y-this.to.y;const s=Math.sqrt(n*n+i*i),a=Math.PI,u=(Math.atan2(i,n)+(e*.5+.5)*a)%(2*a);return{x:this.from.x+(e*.5+.5)*s*Math.sin(u),y:this.from.y+(e*.5+.5)*s*Math.cos(u)}}else if(r==="curvedCCW"){n=this.to.x-this.from.x,i=this.from.y-this.to.y;const s=Math.sqrt(n*n+i*i),a=Math.PI,u=(Math.atan2(i,n)+(-e*.5+.5)*a)%(2*a);return{x:this.from.x+(e*.5+.5)*s*Math.sin(u),y:this.from.y+(e*.5+.5)*s*Math.cos(u)}}else{let s,a;n<=i?s=a=e*i:s=a=e*n,this.from.x>this.to.x&&(s=-s),this.from.y>=this.to.y&&(a=-a);let o=this.from.x+s,u=this.from.y+a;return n<=i?this.from.x<=this.to.x?o=this.to.x<o?this.to.x:o:o=this.to.x>o?this.to.x:o:this.from.y>=this.to.y?u=this.to.y>u?this.to.y:u:u=this.to.y<u?this.to.y:u,{x:o,y:u}}}_findBorderPosition(e,r){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this._findBorderPositionBezier(e,r,n.via)}_getDistanceToEdge(e,r,n,i,s,a){let o=arguments.length>6&&arguments[6]!==void 0?arguments[6]:this._getViaCoordinates();return this._getDistanceToBezierEdge(e,r,n,i,s,a,o)}getPoint(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this._getViaCoordinates();const n=e,i=Math.pow(1-n,2)*this.fromPoint.x+2*n*(1-n)*r.x+Math.pow(n,2)*this.toPoint.x,s=Math.pow(1-n,2)*this.fromPoint.y+2*n*(1-n)*r.y+Math.pow(n,2)*this.toPoint.y;return{x:i,y:s}}}class Sbe extends SP{constructor(e,r,n){super(e,r,n)}_getDistanceToBezierEdge2(e,r,n,i,s,a,o,u){let c=1e9,d=e,h=r;const f=[0,0,0,0];for(let p=1;p<10;p++){const m=.1*p;f[0]=Math.pow(1-m,3),f[1]=3*m*Math.pow(1-m,2),f[2]=3*Math.pow(m,2)*(1-m),f[3]=Math.pow(m,3);const y=f[0]*e+f[1]*o.x+f[2]*u.x+f[3]*n,x=f[0]*r+f[1]*o.y+f[2]*u.y+f[3]*i;if(p>0){const g=this._getDistanceToLine(d,h,y,x,s,a);c=g<c?g:c}d=y,h=x}return c}}class fU extends Sbe{constructor(e,r,n){super(e,r,n)}_line(e,r,n){const i=n[0],s=n[1];this._bezierCurve(e,r,i,s)}_getViaCoordinates(){const e=this.from.x-this.to.x,r=this.from.y-this.to.y;let n,i,s,a;const o=this.options.smooth.roundness;return(Math.abs(e)>Math.abs(r)||this.options.smooth.forceDirection===!0||this.options.smooth.forceDirection==="horizontal")&&this.options.smooth.forceDirection!=="vertical"?(i=this.from.y,a=this.to.y,n=this.from.x-o*e,s=this.to.x+o*e):(i=this.from.y-o*r,a=this.to.y+o*r,n=this.from.x,s=this.to.x),[{x:n,y:i},{x:s,y:a}]}getViaNode(){return this._getViaCoordinates()}_findBorderPosition(e,r){return this._findBorderPositionBezier(e,r)}_getDistanceToEdge(e,r,n,i,s,a){let[o,u]=arguments.length>6&&arguments[6]!==void 0?arguments[6]:this._getViaCoordinates();return this._getDistanceToBezierEdge2(e,r,n,i,s,a,o,u)}getPoint(e){let[r,n]=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this._getViaCoordinates();const i=e,s=[Math.pow(1-i,3),3*i*Math.pow(1-i,2),3*Math.pow(i,2)*(1-i),Math.pow(i,3)],a=s[0]*this.fromPoint.x+s[1]*r.x+s[2]*n.x+s[3]*this.toPoint.x,o=s[0]*this.fromPoint.y+s[1]*r.y+s[2]*n.y+s[3]*this.toPoint.y;return{x:a,y:o}}}class pU extends kQ{constructor(e,r,n){super(e,r,n)}_line(e,r){e.beginPath(),e.moveTo(this.fromPoint.x,this.fromPoint.y),e.lineTo(this.toPoint.x,this.toPoint.y),this.enableShadow(e,r),e.stroke(),this.disableShadow(e,r)}getViaNode(){}getPoint(e){return{x:(1-e)*this.fromPoint.x+e*this.toPoint.x,y:(1-e)*this.fromPoint.y+e*this.toPoint.y}}_findBorderPosition(e,r){let n=this.to,i=this.from;e.id===this.from.id&&(n=this.from,i=this.to);const s=Math.atan2(n.y-i.y,n.x-i.x),a=n.x-i.x,o=n.y-i.y,u=Math.sqrt(a*a+o*o),c=e.distanceToBorder(r,s),d=(u-c)/u;return{x:(1-d)*i.x+d*n.x,y:(1-d)*i.y+d*n.y,t:0}}_getDistanceToEdge(e,r,n,i,s,a){return this._getDistanceToLine(e,r,n,i,s,a)}}class ga{constructor(e,r,n,i,s){if(r===void 0)throw new Error("No body provided");this.options=va(i),this.globalOptions=i,this.defaultOptions=s,this.body=r,this.imagelist=n,this.id=void 0,this.fromId=void 0,this.toId=void 0,this.selected=!1,this.hover=!1,this.labelDirty=!0,this.baseWidth=this.options.width,this.baseFontSize=this.options.font.size,this.from=void 0,this.to=void 0,this.edgeType=void 0,this.connected=!1,this.labelModule=new Vl(this.body,this.options,!0),this.setOptions(e)}setOptions(e){if(!e)return;let r=typeof e.physics<"u"&&this.options.physics!==e.physics||typeof e.hidden<"u"&&(this.options.hidden||!1)!==(e.hidden||!1)||typeof e.from<"u"&&this.options.from!==e.from||typeof e.to<"u"&&this.options.to!==e.to;ga.parseOptions(this.options,e,!0,this.globalOptions),e.id!==void 0&&(this.id=e.id),e.from!==void 0&&(this.fromId=e.from),e.to!==void 0&&(this.toId=e.to),e.title!==void 0&&(this.title=e.title),e.value!==void 0&&(e.value=TQ(e.value));const n=[e,this.options,this.defaultOptions];return this.chooser=wP("edge",n),this.updateLabelModule(e),r=this.updateEdgeType()||r,this._setInteractionWidths(),this.connect(),r}static parseOptions(e,r){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1;if(dc(["endPointOffset","arrowStrikethrough","id","from","hidden","hoverWidth","labelHighlightBold","length","line","opacity","physics","scaling","selectionWidth","selfReferenceSize","selfReference","to","title","value","width","font","chosen","widthConstraint"],e,r,n),r.endPointOffset!==void 0&&r.endPointOffset.from!==void 0&&(eo(r.endPointOffset.from)?e.endPointOffset.from=r.endPointOffset.from:(e.endPointOffset.from=i.endPointOffset.from!==void 0?i.endPointOffset.from:0,console.error("endPointOffset.from is not a valid number"))),r.endPointOffset!==void 0&&r.endPointOffset.to!==void 0&&(eo(r.endPointOffset.to)?e.endPointOffset.to=r.endPointOffset.to:(e.endPointOffset.to=i.endPointOffset.to!==void 0?i.endPointOffset.to:0,console.error("endPointOffset.to is not a valid number"))),Ap(r.label)?e.label=r.label:Ap(e.label)||(e.label=void 0),An(e,r,"smooth",i),An(e,r,"shadow",i),An(e,r,"background",i),r.dashes!==void 0&&r.dashes!==null?e.dashes=r.dashes:n===!0&&r.dashes===null&&(e.dashes=yo(i.dashes)),r.scaling!==void 0&&r.scaling!==null?(r.scaling.min!==void 0&&(e.scaling.min=r.scaling.min),r.scaling.max!==void 0&&(e.scaling.max=r.scaling.max),An(e.scaling,r.scaling,"label",i.scaling)):n===!0&&r.scaling===null&&(e.scaling=yo(i.scaling)),r.arrows!==void 0&&r.arrows!==null)if(typeof r.arrows=="string"){const o=r.arrows.toLowerCase();e.arrows.to.enabled=ot(o).call(o,"to")!=-1,e.arrows.middle.enabled=ot(o).call(o,"middle")!=-1,e.arrows.from.enabled=ot(o).call(o,"from")!=-1}else if(typeof r.arrows=="object")An(e.arrows,r.arrows,"to",i.arrows),An(e.arrows,r.arrows,"middle",i.arrows),An(e.arrows,r.arrows,"from",i.arrows);else throw new Error("The arrow newOptions can only be an object or a string. Refer to the documentation. You used:"+Ih(r.arrows));else n===!0&&r.arrows===null&&(e.arrows=yo(i.arrows));if(r.color!==void 0&&r.color!==null){const o=Ul(r.color)?{color:r.color,highlight:r.color,hover:r.color,inherit:!1,opacity:1}:r.color,u=e.color;if(s)yt(u,i.color,!1,n);else for(const c in u)Object.prototype.hasOwnProperty.call(u,c)&&delete u[c];if(Ul(u))u.color=u,u.highlight=u,u.hover=u,u.inherit=!1,o.opacity===void 0&&(u.opacity=1);else{let c=!1;o.color!==void 0&&(u.color=o.color,c=!0),o.highlight!==void 0&&(u.highlight=o.highlight,c=!0),o.hover!==void 0&&(u.hover=o.hover,c=!0),o.inherit!==void 0&&(u.inherit=o.inherit),o.opacity!==void 0&&(u.opacity=Math.min(1,Math.max(0,o.opacity))),c===!0?u.inherit=!1:u.inherit===void 0&&(u.inherit="from")}}else n===!0&&r.color===null&&(e.color=va(i.color));n===!0&&r.font===null&&(e.font=va(i.font)),Object.prototype.hasOwnProperty.call(r,"selfReferenceSize")&&(console.warn("The selfReferenceSize property has been deprecated. Please use selfReference property instead. The selfReference can be set like thise selfReference:{size:30, angle:Math.PI / 4}"),e.selfReference.size=r.selfReferenceSize)}getFormattingValues(){const e=this.options.arrows.to===!0||this.options.arrows.to.enabled===!0,r=this.options.arrows.from===!0||this.options.arrows.from.enabled===!0,n=this.options.arrows.middle===!0||this.options.arrows.middle.enabled===!0,i=this.options.color.inherit,s={toArrow:e,toArrowScale:this.options.arrows.to.scaleFactor,toArrowType:this.options.arrows.to.type,toArrowSrc:this.options.arrows.to.src,toArrowImageWidth:this.options.arrows.to.imageWidth,toArrowImageHeight:this.options.arrows.to.imageHeight,middleArrow:n,middleArrowScale:this.options.arrows.middle.scaleFactor,middleArrowType:this.options.arrows.middle.type,middleArrowSrc:this.options.arrows.middle.src,middleArrowImageWidth:this.options.arrows.middle.imageWidth,middleArrowImageHeight:this.options.arrows.middle.imageHeight,fromArrow:r,fromArrowScale:this.options.arrows.from.scaleFactor,fromArrowType:this.options.arrows.from.type,fromArrowSrc:this.options.arrows.from.src,fromArrowImageWidth:this.options.arrows.from.imageWidth,fromArrowImageHeight:this.options.arrows.from.imageHeight,arrowStrikethrough:this.options.arrowStrikethrough,color:i?void 0:this.options.color.color,inheritsColor:i,opacity:this.options.color.opacity,hidden:this.options.hidden,length:this.options.length,shadow:this.options.shadow.enabled,shadowColor:this.options.shadow.color,shadowSize:this.options.shadow.size,shadowX:this.options.shadow.x,shadowY:this.options.shadow.y,dashes:this.options.dashes,width:this.options.width,background:this.options.background.enabled,backgroundColor:this.options.background.color,backgroundSize:this.options.background.size,backgroundDashes:this.options.background.dashes};if(this.selected||this.hover)if(this.chooser===!0){if(this.selected){const a=this.options.selectionWidth;typeof a=="function"?s.width=a(s.width):typeof a=="number"&&(s.width+=a),s.width=Math.max(s.width,.3/this.body.view.scale),s.color=this.options.color.highlight,s.shadow=this.options.shadow.enabled}else if(this.hover){const a=this.options.hoverWidth;typeof a=="function"?s.width=a(s.width):typeof a=="number"&&(s.width+=a),s.width=Math.max(s.width,.3/this.body.view.scale),s.color=this.options.color.hover,s.shadow=this.options.shadow.enabled}}else typeof this.chooser=="function"&&(this.chooser(s,this.options.id,this.selected,this.hover),s.color!==void 0&&(s.inheritsColor=!1),s.shadow===!1&&(s.shadowColor!==this.options.shadow.color||s.shadowSize!==this.options.shadow.size||s.shadowX!==this.options.shadow.x||s.shadowY!==this.options.shadow.y)&&(s.shadow=!0));else s.shadow=this.options.shadow.enabled,s.width=Math.max(s.width,.3/this.body.view.scale);return s}updateLabelModule(e){const r=[e,this.options,this.globalOptions,this.defaultOptions];this.labelModule.update(this.options,r),this.labelModule.baseSize!==void 0&&(this.baseFontSize=this.labelModule.baseSize)}updateEdgeType(){const e=this.options.smooth;let r=!1,n=!0;return this.edgeType!==void 0&&((this.edgeType instanceof dU&&e.enabled===!0&&e.type==="dynamic"||this.edgeType instanceof fU&&e.enabled===!0&&e.type==="cubicBezier"||this.edgeType instanceof hU&&e.enabled===!0&&e.type!=="dynamic"&&e.type!=="cubicBezier"||this.edgeType instanceof pU&&e.type.enabled===!1)&&(n=!1),n===!0&&(r=this.cleanup())),n===!0?e.enabled===!0?e.type==="dynamic"?(r=!0,this.edgeType=new dU(this.options,this.body,this.labelModule)):e.type==="cubicBezier"?this.edgeType=new fU(this.options,this.body,this.labelModule):this.edgeType=new hU(this.options,this.body,this.labelModule):this.edgeType=new pU(this.options,this.body,this.labelModule):this.edgeType.setOptions(this.options),r}connect(){this.disconnect(),this.from=this.body.nodes[this.fromId]||void 0,this.to=this.body.nodes[this.toId]||void 0,this.connected=this.from!==void 0&&this.to!==void 0,this.connected===!0?(this.from.attachEdge(this),this.to.attachEdge(this)):(this.from&&this.from.detachEdge(this),this.to&&this.to.detachEdge(this)),this.edgeType.connect()}disconnect(){this.from&&(this.from.detachEdge(this),this.from=void 0),this.to&&(this.to.detachEdge(this),this.to=void 0),this.connected=!1}getTitle(){return this.title}isSelected(){return this.selected}getValue(){return this.options.value}setValueRange(e,r,n){if(this.options.value!==void 0){const i=this.options.scaling.customScalingFunction(e,r,n,this.options.value),s=this.options.scaling.max-this.options.scaling.min;if(this.options.scaling.label.enabled===!0){const a=this.options.scaling.label.max-this.options.scaling.label.min;this.options.font.size=this.options.scaling.label.min+i*a}this.options.width=this.options.scaling.min+i*s}else this.options.width=this.baseWidth,this.options.font.size=this.baseFontSize;this._setInteractionWidths(),this.updateLabelModule()}_setInteractionWidths(){typeof this.options.hoverWidth=="function"?this.edgeType.hoverWidth=this.options.hoverWidth(this.options.width):this.edgeType.hoverWidth=this.options.hoverWidth+this.options.width,typeof this.options.selectionWidth=="function"?this.edgeType.selectionWidth=this.options.selectionWidth(this.options.width):this.edgeType.selectionWidth=this.options.selectionWidth+this.options.width}draw(e){const r=this.getFormattingValues();if(r.hidden)return;const n=this.edgeType.getViaNode();this.edgeType.drawLine(e,r,this.selected,this.hover,n),this.drawLabel(e,n)}drawArrows(e){const r=this.getFormattingValues();if(r.hidden)return;const n=this.edgeType.getViaNode(),i={};this.edgeType.fromPoint=this.edgeType.from,this.edgeType.toPoint=this.edgeType.to,r.fromArrow&&(i.from=this.edgeType.getArrowData(e,"from",n,this.selected,this.hover,r),r.arrowStrikethrough===!1&&(this.edgeType.fromPoint=i.from.core),r.fromArrowSrc&&(i.from.image=this.imagelist.load(r.fromArrowSrc)),r.fromArrowImageWidth&&(i.from.imageWidth=r.fromArrowImageWidth),r.fromArrowImageHeight&&(i.from.imageHeight=r.fromArrowImageHeight)),r.toArrow&&(i.to=this.edgeType.getArrowData(e,"to",n,this.selected,this.hover,r),r.arrowStrikethrough===!1&&(this.edgeType.toPoint=i.to.core),r.toArrowSrc&&(i.to.image=this.imagelist.load(r.toArrowSrc)),r.toArrowImageWidth&&(i.to.imageWidth=r.toArrowImageWidth),r.toArrowImageHeight&&(i.to.imageHeight=r.toArrowImageHeight)),r.middleArrow&&(i.middle=this.edgeType.getArrowData(e,"middle",n,this.selected,this.hover,r),r.middleArrowSrc&&(i.middle.image=this.imagelist.load(r.middleArrowSrc)),r.middleArrowImageWidth&&(i.middle.imageWidth=r.middleArrowImageWidth),r.middleArrowImageHeight&&(i.middle.imageHeight=r.middleArrowImageHeight)),r.fromArrow&&this.edgeType.drawArrowHead(e,r,this.selected,this.hover,i.from),r.middleArrow&&this.edgeType.drawArrowHead(e,r,this.selected,this.hover,i.middle),r.toArrow&&this.edgeType.drawArrowHead(e,r,this.selected,this.hover,i.to)}drawLabel(e,r){if(this.options.label!==void 0){const n=this.from,i=this.to;this.labelModule.differentState(this.selected,this.hover)&&this.labelModule.getTextSize(e,this.selected,this.hover);let s;if(n.id!=i.id){this.labelModule.pointToSelf=!1,s=this.edgeType.getPoint(.5,r),e.save();const a=this._getRotation(e);a.angle!=0&&(e.translate(a.x,a.y),e.rotate(a.angle)),this.labelModule.draw(e,s.x,s.y,this.selected,this.hover),e.restore()}else{this.labelModule.pointToSelf=!0;const a=IQ(e,this.options.selfReference.angle,this.options.selfReference.size,n);s=this._pointOnCircle(a.x,a.y,this.options.selfReference.size,this.options.selfReference.angle),this.labelModule.draw(e,s.x,s.y,this.selected,this.hover)}}}getItemsOnPoint(e){const r=[];if(this.labelModule.visible()){const i=this._getRotation();Yj(this.labelModule.getSize(),e,i)&&r.push({edgeId:this.id,labelId:0})}const n={left:e.x,top:e.y};return this.isOverlappingWith(n)&&r.push({edgeId:this.id}),r}isOverlappingWith(e){if(this.connected){const n=this.from.x,i=this.from.y,s=this.to.x,a=this.to.y,o=e.left,u=e.top;return this.edgeType.getDistanceToEdge(n,i,s,a,o,u)<10}else return!1}_getRotation(e){const r=this.edgeType.getViaNode(),n=this.edgeType.getPoint(.5,r);e!==void 0&&this.labelModule.calculateLabelSize(e,this.selected,this.hover,n.x,n.y);const i={x:n.x,y:this.labelModule.size.yLine,angle:0};if(!this.labelModule.visible()||this.options.font.align==="horizontal")return i;const s=this.from.y-this.to.y,a=this.from.x-this.to.x;let o=Math.atan2(s,a);return(o<-1&&a<0||o>0&&a<0)&&(o+=Math.PI),i.angle=o,i}_pointOnCircle(e,r,n,i){return{x:e+n*Math.cos(i),y:r-n*Math.sin(i)}}select(){this.selected=!0}unselect(){this.selected=!1}cleanup(){return this.edgeType.cleanup()}remove(){this.cleanup(),this.disconnect(),delete this.body.edges[this.id]}endPointsValid(){return this.body.nodes[this.fromId]!==void 0&&this.body.nodes[this.toId]!==void 0}}class Ebe{constructor(e,r,n){var i;this.body=e,this.images=r,this.groups=n,this.body.functions.createEdge=ne(i=this.create).call(i,this),this.edgesListeners={add:(s,a)=>{this.add(a.items)},update:(s,a)=>{this.update(a.items)},remove:(s,a)=>{this.remove(a.items)}},this.options={},this.defaultOptions={arrows:{to:{enabled:!1,scaleFactor:1,type:"arrow"},middle:{enabled:!1,scaleFactor:1,type:"arrow"},from:{enabled:!1,scaleFactor:1,type:"arrow"}},endPointOffset:{from:0,to:0},arrowStrikethrough:!0,color:{color:"#848484",highlight:"#848484",hover:"#848484",inherit:"from",opacity:1},dashes:!1,font:{color:"#343434",size:14,face:"arial",background:"none",strokeWidth:2,strokeColor:"#ffffff",align:"horizontal",multi:!1,vadjust:0,bold:{mod:"bold"},boldital:{mod:"bold italic"},ital:{mod:"italic"},mono:{mod:"",size:15,face:"courier new",vadjust:2}},hidden:!1,hoverWidth:1.5,label:void 0,labelHighlightBold:!0,length:void 0,physics:!0,scaling:{min:1,max:15,label:{enabled:!0,min:14,max:30,maxVisible:30,drawThreshold:5},customScalingFunction:function(s,a,o,u){if(a===s)return .5;{const c=1/(a-s);return Math.max(0,(u-s)*c)}}},selectionWidth:1.5,selfReference:{size:20,angle:Math.PI/4,renderBehindTheNode:!0},shadow:{enabled:!1,color:"rgba(0,0,0,0.5)",size:10,x:5,y:5},background:{enabled:!1,color:"rgba(111,111,111,1)",size:10,dashes:!1},smooth:{enabled:!0,type:"dynamic",forceDirection:"none",roundness:.5},title:void 0,width:1,value:void 0},yt(this.options,this.defaultOptions),this.bindEventListeners()}bindEventListeners(){var e=this,r,n;this.body.emitter.on("_forceDisableDynamicCurves",function(i){let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;i==="dynamic"&&(i="continuous");let a=!1;for(const o in e.body.edges)if(Object.prototype.hasOwnProperty.call(e.body.edges,o)){const u=e.body.edges[o],c=e.body.data.edges.get(o);if(c!=null){const d=c.smooth;d!==void 0&&d.enabled===!0&&d.type==="dynamic"&&(i===void 0?u.setOptions({smooth:!1}):u.setOptions({smooth:{type:i}}),a=!0)}}s===!0&&a===!0&&e.body.emitter.emit("_dataChanged")}),this.body.emitter.on("_dataUpdated",()=>{this.reconnectEdges()}),this.body.emitter.on("refreshEdges",ne(r=this.refresh).call(r,this)),this.body.emitter.on("refresh",ne(n=this.refresh).call(n,this)),this.body.emitter.on("destroy",()=>{ze(this.edgesListeners,(i,s)=>{this.body.data.edges&&this.body.data.edges.off(s,i)}),delete this.body.functions.createEdge,delete this.edgesListeners.add,delete this.edgesListeners.update,delete this.edgesListeners.remove,delete this.edgesListeners})}setOptions(e){if(e!==void 0){ga.parseOptions(this.options,e,!0,this.defaultOptions,!0);let r=!1;if(e.smooth!==void 0)for(const n in this.body.edges)Object.prototype.hasOwnProperty.call(this.body.edges,n)&&(r=this.body.edges[n].updateEdgeType()||r);if(e.font!==void 0)for(const n in this.body.edges)Object.prototype.hasOwnProperty.call(this.body.edges,n)&&this.body.edges[n].updateLabelModule();(e.hidden!==void 0||e.physics!==void 0||r===!0)&&this.body.emitter.emit("_dataChanged")}}setData(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;const n=this.body.data.edges;if(uY("id",e))this.body.data.edges=e;else if(zt(e))this.body.data.edges=new Eu,this.body.data.edges.add(e);else if(!e)this.body.data.edges=new Eu;else throw new TypeError("Array or DataSet expected");if(n&&ze(this.edgesListeners,(i,s)=>{n.off(s,i)}),this.body.edges={},this.body.data.edges){ze(this.edgesListeners,(s,a)=>{this.body.data.edges.on(a,s)});const i=this.body.data.edges.getIds();this.add(i,!0)}this.body.emitter.emit("_adjustEdgesForHierarchicalLayout"),r===!1&&this.body.emitter.emit("_dataChanged")}add(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;const n=this.body.edges,i=this.body.data.edges;for(let s=0;s<e.length;s++){const a=e[s],o=n[a];o&&o.disconnect();const u=i.get(a,{showInternalIds:!0});n[a]=this.create(u)}this.body.emitter.emit("_adjustEdgesForHierarchicalLayout"),r===!1&&this.body.emitter.emit("_dataChanged")}update(e){const r=this.body.edges,n=this.body.data.edges;let i=!1;for(let s=0;s<e.length;s++){const a=e[s],o=n.get(a),u=r[a];u!==void 0?(u.disconnect(),i=u.setOptions(o)||i,u.connect()):(this.body.edges[a]=this.create(o),i=!0)}i===!0?(this.body.emitter.emit("_adjustEdgesForHierarchicalLayout"),this.body.emitter.emit("_dataChanged")):this.body.emitter.emit("_dataUpdated")}remove(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(e.length===0)return;const n=this.body.edges;ze(e,i=>{const s=n[i];s!==void 0&&s.remove()}),r&&this.body.emitter.emit("_dataChanged")}refresh(){ze(this.body.edges,(e,r)=>{const n=this.body.data.edges.get(r);n!==void 0&&e.setOptions(n)})}create(e){return new ga(e,this.body,this.images,this.options,this.defaultOptions)}reconnectEdges(){let e;const r=this.body.nodes,n=this.body.edges;for(e in r)Object.prototype.hasOwnProperty.call(r,e)&&(r[e].edges=[]);for(e in n)if(Object.prototype.hasOwnProperty.call(n,e)){const i=n[e];i.from=null,i.to=null,i.connect()}}getConnectedNodes(e){const r=[];if(this.body.edges[e]!==void 0){const n=this.body.edges[e];n.fromId!==void 0&&r.push(n.fromId),n.toId!==void 0&&r.push(n.toId)}return r}_updateState(){this._addMissingEdges(),this._removeInvalidEdges()}_removeInvalidEdges(){const e=[];ze(this.body.edges,(r,n)=>{const i=this.body.nodes[r.toId],s=this.body.nodes[r.fromId];i!==void 0&&i.isCluster===!0||s!==void 0&&s.isCluster===!0||(i===void 0||s===void 0)&&e.push(n)}),this.remove(e,!1)}_addMissingEdges(){const e=this.body.data.edges;if(e==null)return;const r=this.body.edges,n=[];pt(e).call(e,(i,s)=>{r[s]===void 0&&n.push(s)}),this.add(n,!0)}}class DQ{constructor(e,r,n){this.body=e,this.physicsBody=r,this.barnesHutTree,this.setOptions(n),this._rng=zm("BARNES HUT SOLVER")}setOptions(e){this.options=e,this.thetaInversed=1/this.options.theta,this.overlapAvoidanceFactor=1-Math.max(0,Math.min(1,this.options.avoidOverlap))}solve(){if(this.options.gravitationalConstant!==0&&this.physicsBody.physicsNodeIndices.length>0){let e;const r=this.body.nodes,n=this.physicsBody.physicsNodeIndices,i=n.length,s=this._formBarnesHutTree(r,n);this.barnesHutTree=s;for(let a=0;a<i;a++)e=r[n[a]],e.options.mass>0&&this._getForceContributions(s.root,e)}}_getForceContributions(e,r){this._getForceContribution(e.children.NW,r),this._getForceContribution(e.children.NE,r),this._getForceContribution(e.children.SW,r),this._getForceContribution(e.children.SE,r)}_getForceContribution(e,r){if(e.childrenCount>0){const n=e.centerOfMass.x-r.x,i=e.centerOfMass.y-r.y,s=Math.sqrt(n*n+i*i);s*e.calcSize>this.thetaInversed?this._calculateForces(s,n,i,r,e):e.childrenCount===4?this._getForceContributions(e,r):e.children.data.id!=r.id&&this._calculateForces(s,n,i,r,e)}}_calculateForces(e,r,n,i,s){e===0&&(e=.1,r=e),this.overlapAvoidanceFactor<1&&i.shape.radius&&(e=Math.max(.1+this.overlapAvoidanceFactor*i.shape.radius,e-i.shape.radius));const a=this.options.gravitationalConstant*s.mass*i.options.mass/Math.pow(e,3),o=r*a,u=n*a;this.physicsBody.forces[i.id].x+=o,this.physicsBody.forces[i.id].y+=u}_formBarnesHutTree(e,r){let n;const i=r.length;let s=e[r[0]].x,a=e[r[0]].y,o=e[r[0]].x,u=e[r[0]].y;for(let x=1;x<i;x++){const g=e[r[x]],v=g.x,w=g.y;g.options.mass>0&&(v<s&&(s=v),v>o&&(o=v),w<a&&(a=w),w>u&&(u=w))}const c=Math.abs(o-s)-Math.abs(u-a);c>0?(a-=.5*c,u+=.5*c):(s+=.5*c,o-=.5*c);const h=Math.max(1e-5,Math.abs(o-s)),f=.5*h,p=.5*(s+o),m=.5*(a+u),y={root:{centerOfMass:{x:0,y:0},mass:0,range:{minX:p-f,maxX:p+f,minY:m-f,maxY:m+f},size:h,calcSize:1/h,children:{data:null},maxWidth:0,level:0,childrenCount:4}};this._splitBranch(y.root);for(let x=0;x<i;x++)n=e[r[x]],n.options.mass>0&&this._placeInTree(y.root,n);return y}_updateBranchMass(e,r){const n=e.centerOfMass,i=e.mass+r.options.mass,s=1/i;n.x=n.x*e.mass+r.x*r.options.mass,n.x*=s,n.y=n.y*e.mass+r.y*r.options.mass,n.y*=s,e.mass=i;const a=Math.max(Math.max(r.height,r.radius),r.width);e.maxWidth=e.maxWidth<a?a:e.maxWidth}_placeInTree(e,r,n){(n!=!0||n===void 0)&&this._updateBranchMass(e,r);const i=e.children.NW.range;let s;i.maxX>r.x?i.maxY>r.y?s="NW":s="SW":i.maxY>r.y?s="NE":s="SE",this._placeInRegion(e,r,s)}_placeInRegion(e,r,n){const i=e.children[n];switch(i.childrenCount){case 0:i.children.data=r,i.childrenCount=1,this._updateBranchMass(i,r);break;case 1:i.children.data.x===r.x&&i.children.data.y===r.y?(r.x+=this._rng(),r.y+=this._rng()):(this._splitBranch(i),this._placeInTree(i,r));break;case 4:this._placeInTree(i,r);break}}_splitBranch(e){let r=null;e.childrenCount===1&&(r=e.children.data,e.mass=0,e.centerOfMass.x=0,e.centerOfMass.y=0),e.childrenCount=4,e.children.data=null,this._insertRegion(e,"NW"),this._insertRegion(e,"NE"),this._insertRegion(e,"SW"),this._insertRegion(e,"SE"),r!=null&&this._placeInTree(e,r)}_insertRegion(e,r){let n,i,s,a;const o=.5*e.size;switch(r){case"NW":n=e.range.minX,i=e.range.minX+o,s=e.range.minY,a=e.range.minY+o;break;case"NE":n=e.range.minX+o,i=e.range.maxX,s=e.range.minY,a=e.range.minY+o;break;case"SW":n=e.range.minX,i=e.range.minX+o,s=e.range.minY+o,a=e.range.maxY;break;case"SE":n=e.range.minX+o,i=e.range.maxX,s=e.range.minY+o,a=e.range.maxY;break}e.children[r]={centerOfMass:{x:0,y:0},mass:0,range:{minX:n,maxX:i,minY:s,maxY:a},size:.5*e.size,calcSize:2*e.calcSize,children:{data:null},maxWidth:0,level:e.level+1,childrenCount:0}}_debug(e,r){this.barnesHutTree!==void 0&&(e.lineWidth=1,this._drawBranch(this.barnesHutTree.root,e,r))}_drawBranch(e,r,n){n===void 0&&(n="#FF0000"),e.childrenCount===4&&(this._drawBranch(e.children.NW,r),this._drawBranch(e.children.NE,r),this._drawBranch(e.children.SE,r),this._drawBranch(e.children.SW,r)),r.strokeStyle=n,r.beginPath(),r.moveTo(e.range.minX,e.range.minY),r.lineTo(e.range.maxX,e.range.minY),r.stroke(),r.beginPath(),r.moveTo(e.range.maxX,e.range.minY),r.lineTo(e.range.maxX,e.range.maxY),r.stroke(),r.beginPath(),r.moveTo(e.range.maxX,e.range.maxY),r.lineTo(e.range.minX,e.range.maxY),r.stroke(),r.beginPath(),r.moveTo(e.range.minX,e.range.maxY),r.lineTo(e.range.minX,e.range.minY),r.stroke()}}class Nbe{constructor(e,r,n){this._rng=zm("REPULSION SOLVER"),this.body=e,this.physicsBody=r,this.setOptions(n)}setOptions(e){this.options=e}solve(){let e,r,n,i,s,a,o,u;const c=this.body.nodes,d=this.physicsBody.physicsNodeIndices,h=this.physicsBody.forces,f=this.options.nodeDistance,p=-2/3/f,m=4/3;for(let y=0;y<d.length-1;y++){o=c[d[y]];for(let x=y+1;x<d.length;x++)u=c[d[x]],e=u.x-o.x,r=u.y-o.y,n=Math.sqrt(e*e+r*r),n===0&&(n=.1*this._rng(),e=n),n<2*f&&(n<.5*f?a=1:a=p*n+m,a=a/n,i=e*a,s=r*a,h[o.id].x-=i,h[o.id].y-=s,h[u.id].x+=i,h[u.id].y+=s)}}}class jbe{constructor(e,r,n){this.body=e,this.physicsBody=r,this.setOptions(n)}setOptions(e){this.options=e,this.overlapAvoidanceFactor=Math.max(0,Math.min(1,this.options.avoidOverlap||0))}solve(){const e=this.body.nodes,r=this.physicsBody.physicsNodeIndices,n=this.physicsBody.forces,i=this.options.nodeDistance;for(let s=0;s<r.length-1;s++){const a=e[r[s]];for(let o=s+1;o<r.length;o++){const u=e[r[o]];if(a.level===u.level){const c=i+this.overlapAvoidanceFactor*((a.shape.radius||0)/2+(u.shape.radius||0)/2),d=u.x-a.x,h=u.y-a.y,f=Math.sqrt(d*d+h*h),p=.05;let m;f<c?m=-Math.pow(p*f,2)+Math.pow(p*c,2):m=0,f!==0&&(m=m/f);const y=d*m,x=h*m;n[a.id].x-=y,n[a.id].y-=x,n[u.id].x+=y,n[u.id].y+=x}}}}}class l2{constructor(e,r,n){this.body=e,this.physicsBody=r,this.setOptions(n)}setOptions(e){this.options=e}solve(){let e,r;const n=this.physicsBody.physicsEdgeIndices,i=this.body.edges;let s,a,o;for(let u=0;u<n.length;u++)r=i[n[u]],r.connected===!0&&r.toId!==r.fromId&&this.body.nodes[r.toId]!==void 0&&this.body.nodes[r.fromId]!==void 0&&(r.edgeType.via!==void 0?(e=r.options.length===void 0?this.options.springLength:r.options.length,s=r.to,a=r.edgeType.via,o=r.from,this._calculateSpringForce(s,a,.5*e),this._calculateSpringForce(a,o,.5*e)):(e=r.options.length===void 0?this.options.springLength*1.5:r.options.length,this._calculateSpringForce(r.from,r.to,e)))}_calculateSpringForce(e,r,n){const i=e.x-r.x,s=e.y-r.y,a=Math.max(Math.sqrt(i*i+s*s),.01),o=this.options.springConstant*(n-a)/a,u=i*o,c=s*o;this.physicsBody.forces[e.id]!==void 0&&(this.physicsBody.forces[e.id].x+=u,this.physicsBody.forces[e.id].y+=c),this.physicsBody.forces[r.id]!==void 0&&(this.physicsBody.forces[r.id].x-=u,this.physicsBody.forces[r.id].y-=c)}}class Cbe{constructor(e,r,n){this.body=e,this.physicsBody=r,this.setOptions(n)}setOptions(e){this.options=e}solve(){let e,r,n,i,s,a,o,u;const c=this.body.edges,d=.5,h=this.physicsBody.physicsEdgeIndices,f=this.physicsBody.physicsNodeIndices,p=this.physicsBody.forces;for(let b=0;b<f.length;b++){const _=f[b];p[_].springFx=0,p[_].springFy=0}for(let b=0;b<h.length;b++)r=c[h[b]],r.connected===!0&&(e=r.options.length===void 0?this.options.springLength:r.options.length,n=r.from.x-r.to.x,i=r.from.y-r.to.y,u=Math.sqrt(n*n+i*i),u=u===0?.01:u,o=this.options.springConstant*(e-u)/u,s=n*o,a=i*o,r.to.level!=r.from.level?(p[r.toId]!==void 0&&(p[r.toId].springFx-=s,p[r.toId].springFy-=a),p[r.fromId]!==void 0&&(p[r.fromId].springFx+=s,p[r.fromId].springFy+=a)):(p[r.toId]!==void 0&&(p[r.toId].x-=d*s,p[r.toId].y-=d*a),p[r.fromId]!==void 0&&(p[r.fromId].x+=d*s,p[r.fromId].y+=d*a)));o=1;let m,y;for(let b=0;b<f.length;b++){const _=f[b];m=Math.min(o,Math.max(-o,p[_].springFx)),y=Math.min(o,Math.max(-o,p[_].springFy)),p[_].x+=m,p[_].y+=y}let x=0,g=0;for(let b=0;b<f.length;b++){const _=f[b];x+=p[_].x,g+=p[_].y}const v=x/f.length,w=g/f.length;for(let b=0;b<f.length;b++){const _=f[b];p[_].x-=v,p[_].y-=w}}}class Bf{constructor(e,r,n){this.body=e,this.physicsBody=r,this.setOptions(n)}setOptions(e){this.options=e}solve(){let e,r,n,i;const s=this.body.nodes,a=this.physicsBody.physicsNodeIndices,o=this.physicsBody.forces;for(let u=0;u<a.length;u++){const c=a[u];i=s[c],e=-i.x,r=-i.y,n=Math.sqrt(e*e+r*r),this._calculateForces(n,e,r,o,i)}}_calculateForces(e,r,n,i,s){const a=e===0?0:this.options.centralGravity/e;i[s.id].x=r*a,i[s.id].y=n*a}}class Obe extends DQ{constructor(e,r,n){super(e,r,n),this._rng=zm("FORCE ATLAS 2 BASED REPULSION SOLVER")}_calculateForces(e,r,n,i,s){e===0&&(e=.1*this._rng(),r=e),this.overlapAvoidanceFactor<1&&i.shape.radius&&(e=Math.max(.1+this.overlapAvoidanceFactor*i.shape.radius,e-i.shape.radius));const a=i.edges.length+1,o=this.options.gravitationalConstant*s.mass*i.options.mass*a/Math.pow(e,2),u=r*o,c=n*o;this.physicsBody.forces[i.id].x+=u,this.physicsBody.forces[i.id].y+=c}}class Pbe extends Bf{constructor(e,r,n){super(e,r,n)}_calculateForces(e,r,n,i,s){if(e>0){const a=s.edges.length+1,o=this.options.centralGravity*a*s.options.mass;i[s.id].x=r*o,i[s.id].y=n*o}}}class Tbe{constructor(e){this.body=e,this.physicsBody={physicsNodeIndices:[],physicsEdgeIndices:[],forces:{},velocities:{}},this.physicsEnabled=!0,this.simulationInterval=1e3/60,this.requiresTimeout=!0,this.previousStates={},this.referenceState={},this.freezeCache={},this.renderTimer=void 0,this.adaptiveTimestep=!1,this.adaptiveTimestepEnabled=!1,this.adaptiveCounter=0,this.adaptiveInterval=3,this.stabilized=!1,this.startedStabilization=!1,this.stabilizationIterations=0,this.ready=!1,this.options={},this.defaultOptions={enabled:!0,barnesHut:{theta:.5,gravitationalConstant:-2e3,centralGravity:.3,springLength:95,springConstant:.04,damping:.09,avoidOverlap:0},forceAtlas2Based:{theta:.5,gravitationalConstant:-50,centralGravity:.01,springConstant:.08,springLength:100,damping:.4,avoidOverlap:0},repulsion:{centralGravity:.2,springLength:200,springConstant:.05,nodeDistance:100,damping:.09,avoidOverlap:0},hierarchicalRepulsion:{centralGravity:0,springLength:100,springConstant:.01,nodeDistance:120,damping:.09},maxVelocity:50,minVelocity:.75,solver:"barnesHut",stabilization:{enabled:!0,iterations:1e3,updateInterval:50,onlyDynamicEdges:!1,fit:!0},timestep:.5,adaptiveTimestep:!0,wind:{x:0,y:0}},er(this.options,this.defaultOptions),this.timestep=.5,this.layoutFailed=!1,this.bindEventListeners()}bindEventListeners(){this.body.emitter.on("initPhysics",()=>{this.initPhysics()}),this.body.emitter.on("_layoutFailed",()=>{this.layoutFailed=!0}),this.body.emitter.on("resetPhysics",()=>{this.stopSimulation(),this.ready=!1}),this.body.emitter.on("disablePhysics",()=>{this.physicsEnabled=!1,this.stopSimulation()}),this.body.emitter.on("restorePhysics",()=>{this.setOptions(this.options),this.ready===!0&&this.startSimulation()}),this.body.emitter.on("startSimulation",()=>{this.ready===!0&&this.startSimulation()}),this.body.emitter.on("stopSimulation",()=>{this.stopSimulation()}),this.body.emitter.on("destroy",()=>{this.stopSimulation(!1),this.body.emitter.off()}),this.body.emitter.on("_dataChanged",()=>{this.updatePhysicsData()})}setOptions(e){if(e!==void 0)if(e===!1)this.options.enabled=!1,this.physicsEnabled=!1,this.stopSimulation();else if(e===!0)this.options.enabled=!0,this.physicsEnabled=!0,this.startSimulation();else{this.physicsEnabled=!0,Mp(["stabilization"],this.options,e),An(this.options,e,"stabilization"),e.enabled===void 0&&(this.options.enabled=!0),this.options.enabled===!1&&(this.physicsEnabled=!1,this.stopSimulation());const r=this.options.wind;r&&((typeof r.x!="number"||Gj(r.x))&&(r.x=0),(typeof r.y!="number"||Gj(r.y))&&(r.y=0)),this.timestep=this.options.timestep}this.init()}init(){let e;this.options.solver==="forceAtlas2Based"?(e=this.options.forceAtlas2Based,this.nodesSolver=new Obe(this.body,this.physicsBody,e),this.edgesSolver=new l2(this.body,this.physicsBody,e),this.gravitySolver=new Pbe(this.body,this.physicsBody,e)):this.options.solver==="repulsion"?(e=this.options.repulsion,this.nodesSolver=new Nbe(this.body,this.physicsBody,e),this.edgesSolver=new l2(this.body,this.physicsBody,e),this.gravitySolver=new Bf(this.body,this.physicsBody,e)):this.options.solver==="hierarchicalRepulsion"?(e=this.options.hierarchicalRepulsion,this.nodesSolver=new jbe(this.body,this.physicsBody,e),this.edgesSolver=new Cbe(this.body,this.physicsBody,e),this.gravitySolver=new Bf(this.body,this.physicsBody,e)):(e=this.options.barnesHut,this.nodesSolver=new DQ(this.body,this.physicsBody,e),this.edgesSolver=new l2(this.body,this.physicsBody,e),this.gravitySolver=new Bf(this.body,this.physicsBody,e)),this.modelOptions=e}initPhysics(){this.physicsEnabled===!0&&this.options.enabled===!0?this.options.stabilization.enabled===!0?this.stabilize():(this.stabilized=!1,this.ready=!0,this.body.emitter.emit("fit",{},this.layoutFailed),this.startSimulation()):(this.ready=!0,this.body.emitter.emit("fit"))}startSimulation(){if(this.physicsEnabled===!0&&this.options.enabled===!0){if(this.stabilized=!1,this.adaptiveTimestep=!1,this.body.emitter.emit("_resizeNodes"),this.viewFunction===void 0){var e;this.viewFunction=ne(e=this.simulationStep).call(e,this),this.body.emitter.on("initRedraw",this.viewFunction),this.body.emitter.emit("_startRendering")}}else this.body.emitter.emit("_redraw")}stopSimulation(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.stabilized=!0,e===!0&&this._emitStabilized(),this.viewFunction!==void 0&&(this.body.emitter.off("initRedraw",this.viewFunction),this.viewFunction=void 0,e===!0&&this.body.emitter.emit("_stopRendering"))}simulationStep(){const e=Rp();this.physicsTick(),(Rp()-e<.4*this.simulationInterval||this.runDoubleSpeed===!0)&&this.stabilized===!1&&(this.physicsTick(),this.runDoubleSpeed=!0),this.stabilized===!0&&this.stopSimulation()}_emitStabilized(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.stabilizationIterations;(this.stabilizationIterations>1||this.startedStabilization===!0)&&ls(()=>{this.body.emitter.emit("stabilized",{iterations:e}),this.startedStabilization=!1,this.stabilizationIterations=0},0)}physicsStep(){this.gravitySolver.solve(),this.nodesSolver.solve(),this.edgesSolver.solve(),this.moveNodes()}adjustTimeStep(){this._evaluateStepQuality()===!0?this.timestep=1.2*this.timestep:this.timestep/1.2<this.options.timestep?this.timestep=this.options.timestep:(this.adaptiveCounter=-1,this.timestep=Math.max(this.options.timestep,this.timestep/1.2))}physicsTick(){this._startStabilizing(),this.stabilized!==!0&&(this.adaptiveTimestep===!0&&this.adaptiveTimestepEnabled===!0?(this.adaptiveCounter%this.adaptiveInterval===0?(this.timestep=2*this.timestep,this.physicsStep(),this.revert(),this.timestep=.5*this.timestep,this.physicsStep(),this.physicsStep(),this.adjustTimeStep()):this.physicsStep(),this.adaptiveCounter+=1):(this.timestep=this.options.timestep,this.physicsStep()),this.stabilized===!0&&this.revert(),this.stabilizationIterations++)}updatePhysicsData(){this.physicsBody.forces={},this.physicsBody.physicsNodeIndices=[],this.physicsBody.physicsEdgeIndices=[];const e=this.body.nodes,r=this.body.edges;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&e[n].options.physics===!0&&this.physicsBody.physicsNodeIndices.push(e[n].id);for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&r[n].options.physics===!0&&this.physicsBody.physicsEdgeIndices.push(r[n].id);for(let n=0;n<this.physicsBody.physicsNodeIndices.length;n++){const i=this.physicsBody.physicsNodeIndices[n];this.physicsBody.forces[i]={x:0,y:0},this.physicsBody.velocities[i]===void 0&&(this.physicsBody.velocities[i]={x:0,y:0})}for(const n in this.physicsBody.velocities)e[n]===void 0&&delete this.physicsBody.velocities[n]}revert(){const e=Ft(this.previousStates),r=this.body.nodes,n=this.physicsBody.velocities;this.referenceState={};for(let i=0;i<e.length;i++){const s=e[i];r[s]!==void 0?r[s].options.physics===!0&&(this.referenceState[s]={positions:{x:r[s].x,y:r[s].y}},n[s].x=this.previousStates[s].vx,n[s].y=this.previousStates[s].vy,r[s].x=this.previousStates[s].x,r[s].y=this.previousStates[s].y):delete this.previousStates[s]}}_evaluateStepQuality(){let e,r,n;const i=this.body.nodes,s=this.referenceState,a=.3;for(const o in this.referenceState)if(Object.prototype.hasOwnProperty.call(this.referenceState,o)&&i[o]!==void 0&&(e=i[o].x-s[o].positions.x,r=i[o].y-s[o].positions.y,n=Math.sqrt(Math.pow(e,2)+Math.pow(r,2)),n>a))return!1;return!0}moveNodes(){const e=this.physicsBody.physicsNodeIndices;let r=0,n=0;const i=5;for(let s=0;s<e.length;s++){const a=e[s],o=this._performStep(a);r=Math.max(r,o),n+=o}this.adaptiveTimestepEnabled=n/e.length<i,this.stabilized=r<this.options.minVelocity}calculateComponentVelocity(e,r,n){const i=this.modelOptions.damping*e,s=(r-i)/n;e+=s*this.timestep;const a=this.options.maxVelocity||1e9;return Math.abs(e)>a&&(e=e>0?a:-a),e}_performStep(e){const r=this.body.nodes[e],n=this.physicsBody.forces[e];this.options.wind&&(n.x+=this.options.wind.x,n.y+=this.options.wind.y);const i=this.physicsBody.velocities[e];return this.previousStates[e]={x:r.x,y:r.y,vx:i.x,vy:i.y},r.options.fixed.x===!1?(i.x=this.calculateComponentVelocity(i.x,n.x,r.options.mass),r.x+=i.x*this.timestep):(n.x=0,i.x=0),r.options.fixed.y===!1?(i.y=this.calculateComponentVelocity(i.y,n.y,r.options.mass),r.y+=i.y*this.timestep):(n.y=0,i.y=0),Math.sqrt(Math.pow(i.x,2)+Math.pow(i.y,2))}_freezeNodes(){const e=this.body.nodes;for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&e[r].x&&e[r].y){const n=e[r].options.fixed;this.freezeCache[r]={x:n.x,y:n.y},n.x=!0,n.y=!0}}_restoreFrozenNodes(){const e=this.body.nodes;for(const r in e)Object.prototype.hasOwnProperty.call(e,r)&&this.freezeCache[r]!==void 0&&(e[r].options.fixed.x=this.freezeCache[r].x,e[r].options.fixed.y=this.freezeCache[r].y);this.freezeCache={}}stabilize(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.options.stabilization.iterations;if(typeof e!="number"&&(e=this.options.stabilization.iterations,console.error("The stabilize method needs a numeric amount of iterations. Switching to default: ",e)),this.physicsBody.physicsNodeIndices.length===0){this.ready=!0;return}this.adaptiveTimestep=this.options.adaptiveTimestep,this.body.emitter.emit("_resizeNodes"),this.stopSimulation(),this.stabilized=!1,this.body.emitter.emit("_blockRedraw"),this.targetIterations=e,this.options.stabilization.onlyDynamicEdges===!0&&this._freezeNodes(),this.stabilizationIterations=0,ls(()=>this._stabilizationBatch(),0)}_startStabilizing(){return this.startedStabilization===!0?!1:(this.body.emitter.emit("startStabilizing"),this.startedStabilization=!0,!0)}_stabilizationBatch(){const e=()=>this.stabilized===!1&&this.stabilizationIterations<this.targetIterations,r=()=>{this.body.emitter.emit("stabilizationProgress",{iterations:this.stabilizationIterations,total:this.targetIterations})};this._startStabilizing()&&r();let n=0;for(;e()&&n<this.options.stabilization.updateInterval;)this.physicsTick(),n++;if(r(),e()){var i;ls(ne(i=this._stabilizationBatch).call(i,this),0)}else this._finalizeStabilization()}_finalizeStabilization(){this.body.emitter.emit("_allowRedraw"),this.options.stabilization.fit===!0&&this.body.emitter.emit("fit"),this.options.stabilization.onlyDynamicEdges===!0&&this._restoreFrozenNodes(),this.body.emitter.emit("stabilizationIterationsDone"),this.body.emitter.emit("_requestRedraw"),this.stabilized===!0?this._emitStabilized():this.startSimulation(),this.ready=!0}_drawForces(e){for(let r=0;r<this.physicsBody.physicsNodeIndices.length;r++){const n=this.physicsBody.physicsNodeIndices[r],i=this.body.nodes[n],s=this.physicsBody.forces[n],a=20,o=.03,u=Math.sqrt(Math.pow(s.x,2)+Math.pow(s.x,2)),c=Math.min(Math.max(5,u),15),d=3*c,h=Vj((180-Math.min(1,Math.max(0,o*u))*180)/360,1,1),f={x:i.x+a*s.x,y:i.y+a*s.y};e.lineWidth=c,e.strokeStyle=h,e.beginPath(),e.moveTo(i.x,i.y),e.lineTo(f.x,f.y),e.stroke();const p=Math.atan2(s.y,s.x);e.fillStyle=h,$Q.draw(e,{type:"arrow",point:f,angle:p,length:d}),Rh(e).call(e)}}}const wr=[];for(let t=0;t<256;++t)wr.push((t+256).toString(16).slice(1));function Ibe(t,e=0){return(wr[t[e+0]]+wr[t[e+1]]+wr[t[e+2]]+wr[t[e+3]]+"-"+wr[t[e+4]]+wr[t[e+5]]+"-"+wr[t[e+6]]+wr[t[e+7]]+"-"+wr[t[e+8]]+wr[t[e+9]]+"-"+wr[t[e+10]]+wr[t[e+11]]+wr[t[e+12]]+wr[t[e+13]]+wr[t[e+14]]+wr[t[e+15]]).toLowerCase()}let u2;const Rbe=new Uint8Array(16);function $be(){if(!u2){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");u2=crypto.getRandomValues.bind(crypto)}return u2(Rbe)}const kbe=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto);var mU={randomUUID:kbe};function Dbe(t,e,r){var i;t=t||{};const n=t.random??((i=t.rng)==null?void 0:i.call(t))??$be();if(n.length<16)throw new Error("Random bytes length must be >= 16");return n[6]=n[6]&15|64,n[8]=n[8]&63|128,Ibe(n)}function rd(t,e,r){return mU.randomUUID&&!t?mU.randomUUID():Dbe(t)}class zr{constructor(){}static getRange(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],n=1e9,i=-1e9,s=1e9,a=-1e9,o;if(r.length>0)for(let u=0;u<r.length;u++)o=e[r[u]],s>o.shape.boundingBox.left&&(s=o.shape.boundingBox.left),a<o.shape.boundingBox.right&&(a=o.shape.boundingBox.right),n>o.shape.boundingBox.top&&(n=o.shape.boundingBox.top),i<o.shape.boundingBox.bottom&&(i=o.shape.boundingBox.bottom);return s===1e9&&a===-1e9&&n===1e9&&i===-1e9&&(n=0,i=0,s=0,a=0),{minX:s,maxX:a,minY:n,maxY:i}}static getRangeCore(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],n=1e9,i=-1e9,s=1e9,a=-1e9,o;if(r.length>0)for(let u=0;u<r.length;u++)o=e[r[u]],s>o.x&&(s=o.x),a<o.x&&(a=o.x),n>o.y&&(n=o.y),i<o.y&&(i=o.y);return s===1e9&&a===-1e9&&n===1e9&&i===-1e9&&(n=0,i=0,s=0,a=0),{minX:s,maxX:a,minY:n,maxY:i}}static findCenter(e){return{x:.5*(e.maxX+e.minX),y:.5*(e.maxY+e.minY)}}static cloneOptions(e,r){const n={};return r===void 0||r==="node"?(yt(n,e.options,!0),n.x=e.x,n.y=e.y,n.amountOfConnections=e.edges.length):yt(n,e.options,!0),n}}class Mbe extends jt{constructor(e,r,n,i,s,a){super(e,r,n,i,s,a),this.isCluster=!0,this.containedNodes={},this.containedEdges={}}_openChildCluster(e){const r=this.body.nodes[e];if(this.containedNodes[e]===void 0)throw new Error("node with id: "+e+" not in current cluster");if(!r.isCluster)throw new Error("node with id: "+e+" is not a cluster");delete this.containedNodes[e],ze(r.edges,n=>{delete this.containedEdges[n.id]}),ze(r.containedNodes,(n,i)=>{this.containedNodes[i]=n}),r.containedNodes={},ze(r.containedEdges,(n,i)=>{this.containedEdges[i]=n}),r.containedEdges={},ze(r.edges,n=>{ze(this.edges,i=>{var s,a;const o=ot(s=i.clusteringEdgeReplacingIds).call(s,n.id);o!==-1&&(ze(n.clusteringEdgeReplacingIds,u=>{i.clusteringEdgeReplacingIds.push(u),this.body.edges[u].edgeReplacedById=i.id}),os(a=i.clusteringEdgeReplacingIds).call(a,o,1))})}),r.edges=[]}}class qbe{constructor(e){this.body=e,this.clusteredNodes={},this.clusteredEdges={},this.options={},this.defaultOptions={},er(this.options,this.defaultOptions),this.body.emitter.on("_resetData",()=>{this.clusteredNodes={},this.clusteredEdges={}})}clusterByHubsize(e,r){e===void 0?e=this._getHubSize():typeof e=="object"&&(r=this._checkOptions(e),e=this._getHubSize());const n=[];for(let i=0;i<this.body.nodeIndices.length;i++){const s=this.body.nodes[this.body.nodeIndices[i]];s.edges.length>=e&&n.push(s.id)}for(let i=0;i<n.length;i++)this.clusterByConnection(n[i],r,!0);this.body.emitter.emit("_dataChanged")}cluster(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(e.joinCondition===void 0)throw new Error("Cannot call clusterByNodeData without a joinCondition function in the options.");e=this._checkOptions(e);const n={},i={};ze(this.body.nodes,(s,a)=>{s.options&&e.joinCondition(s.options)===!0&&(n[a]=s,ze(s.edges,o=>{this.clusteredEdges[o.id]===void 0&&(i[o.id]=o)}))}),this._cluster(n,i,e,r)}clusterByEdgeCount(e,r){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;r=this._checkOptions(r);const i=[],s={};let a,o,u;for(let c=0;c<this.body.nodeIndices.length;c++){const d={},h={},f=this.body.nodeIndices[c],p=this.body.nodes[f];if(s[f]===void 0){u=0,o=[];for(let m=0;m<p.edges.length;m++)a=p.edges[m],this.clusteredEdges[a.id]===void 0&&(a.toId!==a.fromId&&u++,o.push(a));if(u===e){const m=function(x){if(r.joinCondition===void 0||r.joinCondition===null)return!0;const g=zr.cloneOptions(x);return r.joinCondition(g)};let y=!0;for(let x=0;x<o.length;x++){a=o[x];const g=this._getConnectedId(a,f);if(m(p))h[a.id]=a,d[f]=p,d[g]=this.body.nodes[g],s[f]=!0;else{y=!1;break}}if(Ft(d).length>0&&Ft(h).length>0&&y===!0){const g=function(){for(let v=0;v<i.length;++v)for(const w in d)if(i[v].nodes[w]!==void 0)return i[v]}();if(g!==void 0){for(const v in d)g.nodes[v]===void 0&&(g.nodes[v]=d[v]);for(const v in h)g.edges[v]===void 0&&(g.edges[v]=h[v])}else i.push({nodes:d,edges:h})}}}}for(let c=0;c<i.length;c++)this._cluster(i[c].nodes,i[c].edges,r,!1);n===!0&&this.body.emitter.emit("_dataChanged")}clusterOutliers(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;this.clusterByEdgeCount(1,e,r)}clusterBridges(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;this.clusterByEdgeCount(2,e,r)}clusterByConnection(e,r){var n;let i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(e===void 0)throw new Error("No nodeId supplied to clusterByConnection!");if(this.body.nodes[e]===void 0)throw new Error("The nodeId given to clusterByConnection does not exist!");const s=this.body.nodes[e];r=this._checkOptions(r,s),r.clusterNodeProperties.x===void 0&&(r.clusterNodeProperties.x=s.x),r.clusterNodeProperties.y===void 0&&(r.clusterNodeProperties.y=s.y),r.clusterNodeProperties.fixed===void 0&&(r.clusterNodeProperties.fixed={},r.clusterNodeProperties.fixed.x=s.options.fixed.x,r.clusterNodeProperties.fixed.y=s.options.fixed.y);const a={},o={},u=s.id,c=zr.cloneOptions(s);a[u]=s;for(let h=0;h<s.edges.length;h++){const f=s.edges[h];if(this.clusteredEdges[f.id]===void 0){const p=this._getConnectedId(f,u);if(this.clusteredNodes[p]===void 0)if(p!==u)if(r.joinCondition===void 0)o[f.id]=f,a[p]=this.body.nodes[p];else{const m=zr.cloneOptions(this.body.nodes[p]);r.joinCondition(c,m)===!0&&(o[f.id]=f,a[p]=this.body.nodes[p])}else o[f.id]=f}}const d=Nu(n=Ft(a)).call(n,function(h){return a[h].id});for(const h in a){if(!Object.prototype.hasOwnProperty.call(a,h))continue;const f=a[h];for(let p=0;p<f.edges.length;p++){const m=f.edges[p];ot(d).call(d,this._getConnectedId(m,f.id))>-1&&(o[m.id]=m)}}this._cluster(a,o,r,i)}_createClusterEdges(e,r,n,i){let s,a,o,u,c,d;const h=Ft(e),f=[];for(let y=0;y<h.length;y++){a=h[y],o=e[a];for(let x=0;x<o.edges.length;x++)s=o.edges[x],this.clusteredEdges[s.id]===void 0&&(s.toId==s.fromId?r[s.id]=s:s.toId==a?(u=n.id,c=s.fromId,d=c):(u=s.toId,c=n.id,d=u),e[d]===void 0&&f.push({edge:s,fromId:c,toId:u}))}const p=[],m=function(y){for(let x=0;x<p.length;x++){const g=p[x],v=y.fromId===g.fromId&&y.toId===g.toId,w=y.fromId===g.toId&&y.toId===g.fromId;if(v||w)return g}return null};for(let y=0;y<f.length;y++){const x=f[y],g=x.edge;let v=m(x);v===null?(v=this._createClusteredEdge(x.fromId,x.toId,g,i),p.push(v)):v.clusteringEdgeReplacingIds.push(g.id),this.body.edges[g.id].edgeReplacedById=v.id,this._backupEdgeOptions(g),g.setOptions({physics:!1})}}_checkOptions(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return e.clusterEdgeProperties===void 0&&(e.clusterEdgeProperties={}),e.clusterNodeProperties===void 0&&(e.clusterNodeProperties={}),e}_cluster(e,r,n){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0;const s=[];for(const d in e)Object.prototype.hasOwnProperty.call(e,d)&&this.clusteredNodes[d]!==void 0&&s.push(d);for(let d=0;d<s.length;++d)delete e[s[d]];if(Ft(e).length==0||Ft(e).length==1&&n.clusterNodeProperties.allowSingleNodeCluster!=!0)return;let a=yt({},n.clusterNodeProperties);if(n.processProperties!==void 0){const d=[];for(const f in e)if(Object.prototype.hasOwnProperty.call(e,f)){const p=zr.cloneOptions(e[f]);d.push(p)}const h=[];for(const f in r)if(Object.prototype.hasOwnProperty.call(r,f)&&f.substr(0,12)!=="clusterEdge:"){const p=zr.cloneOptions(r[f],"edge");h.push(p)}if(a=n.processProperties(a,d,h),!a)throw new Error("The processProperties function does not return properties!")}a.id===void 0&&(a.id="cluster:"+rd());const o=a.id;a.label===void 0&&(a.label="cluster");let u;a.x===void 0&&(u=this._getClusterPosition(e),a.x=u.x),a.y===void 0&&(u===void 0&&(u=this._getClusterPosition(e)),a.y=u.y),a.id=o;const c=this.body.functions.createNode(a,Mbe);c.containedNodes=e,c.containedEdges=r,c.clusterEdgeProperties=n.clusterEdgeProperties,this.body.nodes[a.id]=c,this._clusterEdges(e,r,a,n.clusterEdgeProperties),a.id=void 0,i===!0&&this.body.emitter.emit("_dataChanged")}_backupEdgeOptions(e){this.clusteredEdges[e.id]===void 0&&(this.clusteredEdges[e.id]={physics:e.options.physics})}_restoreEdge(e){const r=this.clusteredEdges[e.id];r!==void 0&&(e.setOptions({physics:r.physics}),delete this.clusteredEdges[e.id])}isCluster(e){return this.body.nodes[e]!==void 0?this.body.nodes[e].isCluster===!0:(console.error("Node does not exist."),!1)}_getClusterPosition(e){const r=Ft(e);let n=e[r[0]].x,i=e[r[0]].x,s=e[r[0]].y,a=e[r[0]].y,o;for(let u=1;u<r.length;u++)o=e[r[u]],n=o.x<n?o.x:n,i=o.x>i?o.x:i,s=o.y<s?o.y:s,a=o.y>a?o.y:a;return{x:.5*(n+i),y:.5*(s+a)}}openCluster(e,r){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(e===void 0)throw new Error("No clusterNodeId supplied to openCluster.");const i=this.body.nodes[e];if(i===void 0)throw new Error("The clusterNodeId supplied to openCluster does not exist.");if(i.isCluster!==!0||i.containedNodes===void 0||i.containedEdges===void 0)throw new Error("The node:"+e+" is not a valid cluster.");const s=this.findNode(e),a=ot(s).call(s,e)-1;if(a>=0){const d=s[a];this.body.nodes[d]._openChildCluster(e),delete this.body.nodes[e],n===!0&&this.body.emitter.emit("_dataChanged");return}const o=i.containedNodes,u=i.containedEdges;if(r!==void 0&&r.releaseFunction!==void 0&&typeof r.releaseFunction=="function"){const d={},h={x:i.x,y:i.y};for(const p in o)if(Object.prototype.hasOwnProperty.call(o,p)){const m=this.body.nodes[p];d[p]={x:m.x,y:m.y}}const f=r.releaseFunction(h,d);for(const p in o)if(Object.prototype.hasOwnProperty.call(o,p)){const m=this.body.nodes[p];f[p]!==void 0&&(m.x=f[p].x===void 0?i.x:f[p].x,m.y=f[p].y===void 0?i.y:f[p].y)}}else ze(o,function(d){d.options.fixed.x===!1&&(d.x=i.x),d.options.fixed.y===!1&&(d.y=i.y)});for(const d in o)if(Object.prototype.hasOwnProperty.call(o,d)){const h=this.body.nodes[d];h.vx=i.vx,h.vy=i.vy,h.setOptions({physics:!0}),delete this.clusteredNodes[d]}const c=[];for(let d=0;d<i.edges.length;d++)c.push(i.edges[d]);for(let d=0;d<c.length;d++){const h=c[d],f=this._getConnectedId(h,e),p=this.clusteredNodes[f];for(let m=0;m<h.clusteringEdgeReplacingIds.length;m++){const y=h.clusteringEdgeReplacingIds[m],x=this.body.edges[y];if(x!==void 0)if(p!==void 0){const g=this.body.nodes[p.clusterId];g.containedEdges[x.id]=x,delete u[x.id];let v=x.fromId,w=x.toId;x.toId==f?w=p.clusterId:v=p.clusterId,this._createClusteredEdge(v,w,x,g.clusterEdgeProperties,{hidden:!1,physics:!0})}else this._restoreEdge(x)}h.remove()}for(const d in u)Object.prototype.hasOwnProperty.call(u,d)&&this._restoreEdge(u[d]);delete this.body.nodes[e],n===!0&&this.body.emitter.emit("_dataChanged")}getNodesInCluster(e){const r=[];if(this.isCluster(e)===!0){const n=this.body.nodes[e].containedNodes;for(const i in n)Object.prototype.hasOwnProperty.call(n,i)&&r.push(this.body.nodes[i].id)}return r}findNode(e){const r=[];let i=0,s;for(;this.clusteredNodes[e]!==void 0&&i<100;){if(s=this.body.nodes[e],s===void 0)return[];r.push(s.id),e=this.clusteredNodes[e].clusterId,i++}return s=this.body.nodes[e],s===void 0?[]:(r.push(s.id),go(r).call(r),r)}updateClusteredNode(e,r){if(e===void 0)throw new Error("No clusteredNodeId supplied to updateClusteredNode.");if(r===void 0)throw new Error("No newOptions supplied to updateClusteredNode.");if(this.body.nodes[e]===void 0)throw new Error("The clusteredNodeId supplied to updateClusteredNode does not exist.");this.body.nodes[e].setOptions(r),this.body.emitter.emit("_dataChanged")}updateEdge(e,r){if(e===void 0)throw new Error("No startEdgeId supplied to updateEdge.");if(r===void 0)throw new Error("No newOptions supplied to updateEdge.");if(this.body.edges[e]===void 0)throw new Error("The startEdgeId supplied to updateEdge does not exist.");const n=this.getClusteredEdges(e);for(let i=0;i<n.length;i++)this.body.edges[n[i]].setOptions(r);this.body.emitter.emit("_dataChanged")}getClusteredEdges(e){const r=[];let i=0;for(;e!==void 0&&this.body.edges[e]!==void 0&&i<100;)r.push(this.body.edges[e].id),e=this.body.edges[e].edgeReplacedById,i++;return go(r).call(r),r}getBaseEdge(e){return this.getBaseEdges(e)[0]}getBaseEdges(e){const r=[e],n=[],i=[],s=100;let a=0;for(;r.length>0&&a<s;){const o=r.pop();if(o===void 0)continue;const u=this.body.edges[o];if(u===void 0)continue;a++;const c=u.clusteringEdgeReplacingIds;if(c===void 0)i.push(o);else for(let d=0;d<c.length;++d){const h=c[d];ot(r).call(r,c)!==-1||ot(n).call(n,c)!==-1||r.push(h)}n.push(o)}return i}_getConnectedId(e,r){return e.toId!=r?e.toId:(e.fromId!=r,e.fromId)}_getHubSize(){let e=0,r=0,n=0,i=0;for(let u=0;u<this.body.nodeIndices.length;u++){const c=this.body.nodes[this.body.nodeIndices[u]];c.edges.length>i&&(i=c.edges.length),e+=c.edges.length,r+=Math.pow(c.edges.length,2),n+=1}e=e/n,r=r/n;const s=r-Math.pow(e,2),a=Math.sqrt(s);let o=Math.floor(e+2*a);return o>i&&(o=i),o}_createClusteredEdge(e,r,n,i,s){const a=zr.cloneOptions(n,"edge");yt(a,i),a.from=e,a.to=r,a.id="clusterEdge:"+rd(),s!==void 0&&yt(a,s);const o=this.body.functions.createEdge(a);return o.clusteringEdgeReplacingIds=[n.id],o.connect(),this.body.edges[o.id]=o,o}_clusterEdges(e,r,n,i){if(r instanceof ga){const s=r,a={};a[s.id]=s,r=a}if(e instanceof jt){const s=e,a={};a[s.id]=s,e=a}if(n==null)throw new Error("_clusterEdges: parameter clusterNode required");i===void 0&&(i=n.clusterEdgeProperties),this._createClusterEdges(e,r,n,i);for(const s in r)if(Object.prototype.hasOwnProperty.call(r,s)&&this.body.edges[s]!==void 0){const a=this.body.edges[s];this._backupEdgeOptions(a),a.setOptions({physics:!1})}for(const s in e)Object.prototype.hasOwnProperty.call(e,s)&&(this.clusteredNodes[s]={clusterId:n.id,node:this.body.nodes[s]},this.body.nodes[s].setOptions({physics:!1}))}_getClusterNodeForNode(e){if(e===void 0)return;const r=this.clusteredNodes[e];if(r===void 0)return;const n=r.clusterId;if(n!==void 0)return this.body.nodes[n]}_filter(e,r){const n=[];return ze(e,i=>{r(i)&&n.push(i)}),n}_updateState(){let e;const r=[],n={},i=u=>{ze(this.body.nodes,c=>{c.isCluster===!0&&u(c)})};for(e in this.clusteredNodes){if(!Object.prototype.hasOwnProperty.call(this.clusteredNodes,e))continue;this.body.nodes[e]===void 0&&r.push(e)}i(function(u){for(let c=0;c<r.length;c++)delete u.containedNodes[r[c]]});for(let u=0;u<r.length;u++)delete this.clusteredNodes[r[u]];ze(this.clusteredEdges,u=>{const c=this.body.edges[u];(c===void 0||!c.endPointsValid())&&(n[u]=u)}),i(function(u){ze(u.containedEdges,(c,d)=>{!c.endPointsValid()&&!n[d]&&(n[d]=d)})}),ze(this.body.edges,(u,c)=>{let d=!0;const h=u.clusteringEdgeReplacingIds;if(h!==void 0){let f=0;ze(h,p=>{const m=this.body.edges[p];m!==void 0&&m.endPointsValid()&&(f+=1)}),d=f>0}(!u.endPointsValid()||!d)&&(n[c]=c)}),i(u=>{ze(n,c=>{delete u.containedEdges[c],ze(u.edges,(d,h)=>{if(d.id===c){u.edges[h]=null;return}d.clusteringEdgeReplacingIds=this._filter(d.clusteringEdgeReplacingIds,function(f){return!n[f]})}),u.edges=this._filter(u.edges,function(d){return d!==null})})}),ze(n,u=>{delete this.clusteredEdges[u]}),ze(n,u=>{delete this.body.edges[u]});const s=Ft(this.body.edges);ze(s,u=>{const c=this.body.edges[u],d=this._isClusteredNode(c.fromId)||this._isClusteredNode(c.toId);if(d!==this._isClusteredEdge(c.id))if(d){const h=this._getClusterNodeForNode(c.fromId);h!==void 0&&this._clusterEdges(this.body.nodes[c.fromId],c,h);const f=this._getClusterNodeForNode(c.toId);f!==void 0&&this._clusterEdges(this.body.nodes[c.toId],c,f)}else delete this._clusterEdges[u],this._restoreEdge(c)});let a=!1,o=!0;for(;o;){const u=[];i(function(c){const d=Ft(c.containedNodes).length,h=c.options.allowSingleNodeCluster===!0;(h&&d<1||!h&&d<2)&&u.push(c.id)});for(let c=0;c<u.length;++c)this.openCluster(u[c],{},!1);o=u.length>0,a=a||o}a&&this._updateState()}_isClusteredNode(e){return this.clusteredNodes[e]!==void 0}_isClusteredEdge(e){return this.clusteredEdges[e]!==void 0}}class Abe{constructor(e,r){this.body=e,this.canvas=r,this.redrawRequested=!1,this.requestAnimationFrameRequestId=void 0,this.renderingActive=!1,this.renderRequests=0,this.allowRedraw=!0,this.dragging=!1,this.zooming=!1,this.options={},this.defaultOptions={hideEdgesOnDrag:!1,hideEdgesOnZoom:!1,hideNodesOnDrag:!1},er(this.options,this.defaultOptions),this.bindEventListeners()}bindEventListeners(){var e;this.body.emitter.on("dragStart",()=>{this.dragging=!0}),this.body.emitter.on("dragEnd",()=>{this.dragging=!1}),this.body.emitter.on("zoom",()=>{this.zooming=!0,window.clearTimeout(this.zoomTimeoutId),this.zoomTimeoutId=ls(()=>{var r;this.zooming=!1,ne(r=this._requestRedraw).call(r,this)()},250)}),this.body.emitter.on("_resizeNodes",()=>{this._resizeNodes()}),this.body.emitter.on("_redraw",()=>{this.renderingActive===!1&&this._redraw()}),this.body.emitter.on("_blockRedraw",()=>{this.allowRedraw=!1}),this.body.emitter.on("_allowRedraw",()=>{this.allowRedraw=!0,this.redrawRequested=!1}),this.body.emitter.on("_requestRedraw",ne(e=this._requestRedraw).call(e,this)),this.body.emitter.on("_startRendering",()=>{this.renderRequests+=1,this.renderingActive=!0,this._startRendering()}),this.body.emitter.on("_stopRendering",()=>{this.renderRequests-=1,this.renderingActive=this.renderRequests>0,this.requestAnimationFrameRequestId=void 0}),this.body.emitter.on("destroy",()=>{this.renderRequests=0,this.allowRedraw=!1,this.renderingActive=!1,window.cancelAnimationFrame(this.requestAnimationFrameRequestId),this.body.emitter.off()})}setOptions(e){e!==void 0&&dc(["hideEdgesOnDrag","hideEdgesOnZoom","hideNodesOnDrag"],this.options,e)}_startRendering(){if(this.renderingActive===!0&&this.requestAnimationFrameRequestId===void 0){var e;this.requestAnimationFrameRequestId=window.requestAnimationFrame(ne(e=this._renderStep).call(e,this),this.simulationInterval)}}_renderStep(){this.renderingActive===!0&&(this.requestAnimationFrameRequestId=void 0,this._startRendering(),this._redraw())}redraw(){this.body.emitter.emit("setSize"),this._redraw()}_requestRedraw(){this.redrawRequested!==!0&&this.renderingActive===!1&&this.allowRedraw===!0&&(this.redrawRequested=!0,window.requestAnimationFrame(()=>{this._redraw(!1)}))}_redraw(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;if(this.allowRedraw===!0){this.body.emitter.emit("initRedraw"),this.redrawRequested=!1;const r={drawExternalLabels:null};(this.canvas.frame.canvas.width===0||this.canvas.frame.canvas.height===0)&&this.canvas.setSize(),this.canvas.setTransform();const n=this.canvas.getContext(),i=this.canvas.frame.canvas.clientWidth,s=this.canvas.frame.canvas.clientHeight;if(n.clearRect(0,0,i,s),this.canvas.frame.clientWidth===0)return;if(n.save(),n.translate(this.body.view.translation.x,this.body.view.translation.y),n.scale(this.body.view.scale,this.body.view.scale),n.beginPath(),this.body.emitter.emit("beforeDrawing",n),n.closePath(),e===!1&&(this.dragging===!1||this.dragging===!0&&this.options.hideEdgesOnDrag===!1)&&(this.zooming===!1||this.zooming===!0&&this.options.hideEdgesOnZoom===!1)&&this._drawEdges(n),this.dragging===!1||this.dragging===!0&&this.options.hideNodesOnDrag===!1){const{drawExternalLabels:a}=this._drawNodes(n,e);r.drawExternalLabels=a}e===!1&&(this.dragging===!1||this.dragging===!0&&this.options.hideEdgesOnDrag===!1)&&(this.zooming===!1||this.zooming===!0&&this.options.hideEdgesOnZoom===!1)&&this._drawArrows(n),r.drawExternalLabels!=null&&r.drawExternalLabels(),e===!1&&this._drawSelectionBox(n),n.beginPath(),this.body.emitter.emit("afterDrawing",n),n.closePath(),n.restore(),e===!0&&n.clearRect(0,0,i,s)}}_resizeNodes(){this.canvas.setTransform();const e=this.canvas.getContext();e.save(),e.translate(this.body.view.translation.x,this.body.view.translation.y),e.scale(this.body.view.scale,this.body.view.scale);const r=this.body.nodes;let n;for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n=r[i],n.resize(e),n.updateBoundingBox(e,n.selected));e.restore()}_drawNodes(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;const n=this.body.nodes,i=this.body.nodeIndices;let s;const a=[],o=[],u=20,c=this.canvas.DOMtoCanvas({x:-u,y:-u}),d=this.canvas.DOMtoCanvas({x:this.canvas.frame.canvas.clientWidth+u,y:this.canvas.frame.canvas.clientHeight+u}),h={top:c.y,left:c.x,bottom:d.y,right:d.x},f=[];for(let x=0;x<i.length;x++)if(s=n[i[x]],s.hover)o.push(i[x]);else if(s.isSelected())a.push(i[x]);else if(r===!0){const g=s.draw(e);g.drawExternalLabel!=null&&f.push(g.drawExternalLabel)}else if(s.isBoundingBoxOverlappingWith(h)===!0){const g=s.draw(e);g.drawExternalLabel!=null&&f.push(g.drawExternalLabel)}else s.updateBoundingBox(e,s.selected);let p;const m=a.length,y=o.length;for(p=0;p<m;p++){s=n[a[p]];const x=s.draw(e);x.drawExternalLabel!=null&&f.push(x.drawExternalLabel)}for(p=0;p<y;p++){s=n[o[p]];const x=s.draw(e);x.drawExternalLabel!=null&&f.push(x.drawExternalLabel)}return{drawExternalLabels:()=>{for(const x of f)x()}}}_drawEdges(e){const r=this.body.edges,n=this.body.edgeIndices;for(let i=0;i<n.length;i++){const s=r[n[i]];s.connected===!0&&s.draw(e)}}_drawArrows(e){const r=this.body.edges,n=this.body.edgeIndices;for(let i=0;i<n.length;i++){const s=r[n[i]];s.connected===!0&&s.drawArrows(e)}}_drawSelectionBox(e){if(this.body.selectionBox.show){e.beginPath();const r=this.body.selectionBox.position.end.x-this.body.selectionBox.position.start.x,n=this.body.selectionBox.position.end.y-this.body.selectionBox.position.start.y;e.rect(this.body.selectionBox.position.start.x,this.body.selectionBox.position.start.y,r,n),e.fillStyle="rgba(151, 194, 252, 0.2)",e.fillRect(this.body.selectionBox.position.start.x,this.body.selectionBox.position.start.y,r,n),e.strokeStyle="rgba(151, 194, 252, 1)",e.stroke()}else e.closePath()}}var c2,vU;function Fbe(){if(vU)return c2;vU=1,LY();var t=dt();return c2=t.setInterval,c2}var d2,gU;function Lbe(){return gU||(gU=1,d2=Fbe()),d2}var Bbe=Lbe(),zbe=Re(Bbe);function Fp(t,e){e.inputHandler=function(r){r.isFirst&&e(r)},t.on("hammer.input",e.inputHandler)}function MQ(t,e){return e.inputHandler=function(r){r.isFinal&&e(r)},t.on("hammer.input",e.inputHandler)}class Ube{constructor(e){this.body=e,this.pixelRatio=1,this.cameraState={},this.initialized=!1,this.canvasViewCenter={},this._cleanupCallbacks=[],this.options={},this.defaultOptions={autoResize:!0,height:"100%",width:"100%"},er(this.options,this.defaultOptions),this.bindEventListeners()}bindEventListeners(){var e;this.body.emitter.once("resize",r=>{r.width!==0&&(this.body.view.translation.x=r.width*.5),r.height!==0&&(this.body.view.translation.y=r.height*.5)}),this.body.emitter.on("setSize",ne(e=this.setSize).call(e,this)),this.body.emitter.on("destroy",()=>{this.hammerFrame.destroy(),this.hammer.destroy(),this._cleanUp()})}setOptions(e){if(e!==void 0&&dc(["width","height","autoResize"],this.options,e),this._cleanUp(),this.options.autoResize===!0){var r;if(window.ResizeObserver){const i=new ResizeObserver(()=>{this.setSize()===!0&&this.body.emitter.emit("_requestRedraw")}),{frame:s}=this;i.observe(s),this._cleanupCallbacks.push(()=>{i.unobserve(s)})}else{const i=zbe(()=>{this.setSize()===!0&&this.body.emitter.emit("_requestRedraw")},1e3);this._cleanupCallbacks.push(()=>{clearInterval(i)})}const n=ne(r=this._onResize).call(r,this);window.addEventListener("resize",n),this._cleanupCallbacks.push(()=>{window.removeEventListener("resize",n)})}}_cleanUp(){var e,r,n;pt(e=go(r=os(n=this._cleanupCallbacks).call(n,0)).call(r)).call(e,i=>{try{i()}catch(s){console.error(s)}})}_onResize(){this.setSize(),this.body.emitter.emit("_redraw")}_getCameraState(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.pixelRatio;this.initialized===!0&&(this.cameraState.previousWidth=this.frame.canvas.width/e,this.cameraState.previousHeight=this.frame.canvas.height/e,this.cameraState.scale=this.body.view.scale,this.cameraState.position=this.DOMtoCanvas({x:.5*this.frame.canvas.width/e,y:.5*this.frame.canvas.height/e}))}_setCameraState(){if(this.cameraState.scale!==void 0&&this.frame.canvas.clientWidth!==0&&this.frame.canvas.clientHeight!==0&&this.pixelRatio!==0&&this.cameraState.previousWidth>0&&this.cameraState.previousHeight>0){const e=this.frame.canvas.width/this.pixelRatio/this.cameraState.previousWidth,r=this.frame.canvas.height/this.pixelRatio/this.cameraState.previousHeight;let n=this.cameraState.scale;e!=1&&r!=1?n=this.cameraState.scale*.5*(e+r):e!=1?n=this.cameraState.scale*e:r!=1&&(n=this.cameraState.scale*r),this.body.view.scale=n;const i=this.DOMtoCanvas({x:.5*this.frame.canvas.clientWidth,y:.5*this.frame.canvas.clientHeight}),s={x:i.x-this.cameraState.position.x,y:i.y-this.cameraState.position.y};this.body.view.translation.x+=s.x*this.body.view.scale,this.body.view.translation.y+=s.y*this.body.view.scale}}_prepareValue(e){if(typeof e=="number")return e+"px";if(typeof e=="string"){if(ot(e).call(e,"%")!==-1||ot(e).call(e,"px")!==-1)return e;if(ot(e).call(e,"%")===-1)return e+"px"}throw new Error("Could not use the value supplied for width or height:"+e)}_create(){for(;this.body.container.hasChildNodes();)this.body.container.removeChild(this.body.container.firstChild);if(this.frame=document.createElement("div"),this.frame.className="vis-network",this.frame.style.position="relative",this.frame.style.overflow="hidden",this.frame.tabIndex=0,this.frame.canvas=document.createElement("canvas"),this.frame.canvas.style.position="relative",this.frame.appendChild(this.frame.canvas),this.frame.canvas.getContext)this._setPixelRatio(),this.setTransform();else{const e=document.createElement("DIV");e.style.color="red",e.style.fontWeight="bold",e.style.padding="10px",e.innerText="Error: your browser does not support HTML canvas",this.frame.canvas.appendChild(e)}this.body.container.appendChild(this.frame),this.body.view.scale=1,this.body.view.translation={x:.5*this.frame.canvas.clientWidth,y:.5*this.frame.canvas.clientHeight},this._bindHammer()}_bindHammer(){this.hammer!==void 0&&this.hammer.destroy(),this.drag={},this.pinch={},this.hammer=new Wl(this.frame.canvas),this.hammer.get("pinch").set({enable:!0}),this.hammer.get("pan").set({threshold:5,direction:Wl.DIRECTION_ALL}),Fp(this.hammer,e=>{this.body.eventListeners.onTouch(e)}),this.hammer.on("tap",e=>{this.body.eventListeners.onTap(e)}),this.hammer.on("doubletap",e=>{this.body.eventListeners.onDoubleTap(e)}),this.hammer.on("press",e=>{this.body.eventListeners.onHold(e)}),this.hammer.on("panstart",e=>{this.body.eventListeners.onDragStart(e)}),this.hammer.on("panmove",e=>{this.body.eventListeners.onDrag(e)}),this.hammer.on("panend",e=>{this.body.eventListeners.onDragEnd(e)}),this.hammer.on("pinch",e=>{this.body.eventListeners.onPinch(e)}),this.frame.canvas.addEventListener("wheel",e=>{this.body.eventListeners.onMouseWheel(e)}),this.frame.canvas.addEventListener("mousemove",e=>{this.body.eventListeners.onMouseMove(e)}),this.frame.canvas.addEventListener("contextmenu",e=>{this.body.eventListeners.onContext(e)}),this.hammerFrame=new Wl(this.frame),MQ(this.hammerFrame,e=>{this.body.eventListeners.onRelease(e)})}setSize(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.options.width,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.options.height;e=this._prepareValue(e),r=this._prepareValue(r);let n=!1;const i=this.frame.canvas.width,s=this.frame.canvas.height,a=this.pixelRatio;if(this._setPixelRatio(),e!=this.options.width||r!=this.options.height||this.frame.style.width!=e||this.frame.style.height!=r)this._getCameraState(a),this.frame.style.width=e,this.frame.style.height=r,this.frame.canvas.style.width="100%",this.frame.canvas.style.height="100%",this.frame.canvas.width=Math.round(this.frame.canvas.clientWidth*this.pixelRatio),this.frame.canvas.height=Math.round(this.frame.canvas.clientHeight*this.pixelRatio),this.options.width=e,this.options.height=r,this.canvasViewCenter={x:.5*this.frame.clientWidth,y:.5*this.frame.clientHeight},n=!0;else{const o=Math.round(this.frame.canvas.clientWidth*this.pixelRatio),u=Math.round(this.frame.canvas.clientHeight*this.pixelRatio);(this.frame.canvas.width!==o||this.frame.canvas.height!==u)&&this._getCameraState(a),this.frame.canvas.width!==o&&(this.frame.canvas.width=o,n=!0),this.frame.canvas.height!==u&&(this.frame.canvas.height=u,n=!0)}return n===!0&&(this.body.emitter.emit("resize",{width:Math.round(this.frame.canvas.width/this.pixelRatio),height:Math.round(this.frame.canvas.height/this.pixelRatio),oldWidth:Math.round(i/this.pixelRatio),oldHeight:Math.round(s/this.pixelRatio)}),this._setCameraState()),this.initialized=!0,n}getContext(){return this.frame.canvas.getContext("2d")}_determinePixelRatio(){const e=this.getContext();if(e===void 0)throw new Error("Could not get canvax context");let r=1;typeof window<"u"&&(r=window.devicePixelRatio||1);const n=e.webkitBackingStorePixelRatio||e.mozBackingStorePixelRatio||e.msBackingStorePixelRatio||e.oBackingStorePixelRatio||e.backingStorePixelRatio||1;return r/n}_setPixelRatio(){this.pixelRatio=this._determinePixelRatio()}setTransform(){const e=this.getContext();if(e===void 0)throw new Error("Could not get canvax context");e.setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0)}_XconvertDOMtoCanvas(e){return(e-this.body.view.translation.x)/this.body.view.scale}_XconvertCanvasToDOM(e){return e*this.body.view.scale+this.body.view.translation.x}_YconvertDOMtoCanvas(e){return(e-this.body.view.translation.y)/this.body.view.scale}_YconvertCanvasToDOM(e){return e*this.body.view.scale+this.body.view.translation.y}canvasToDOM(e){return{x:this._XconvertCanvasToDOM(e.x),y:this._YconvertCanvasToDOM(e.y)}}DOMtoCanvas(e){return{x:this._XconvertDOMtoCanvas(e.x),y:this._YconvertDOMtoCanvas(e.y)}}}function Wbe(t,e){const r=er({nodes:e,minZoomLevel:Number.MIN_VALUE,maxZoomLevel:1},t??{});if(!zt(r.nodes))throw new TypeError("Nodes has to be an array of ids.");if(r.nodes.length===0&&(r.nodes=e),!(typeof r.minZoomLevel=="number"&&r.minZoomLevel>0))throw new TypeError("Min zoom level has to be a number higher than zero.");if(!(typeof r.maxZoomLevel=="number"&&r.minZoomLevel<=r.maxZoomLevel))throw new TypeError("Max zoom level has to be a number higher than min zoom level.");return r}class Vbe{constructor(e,r){var n,i;this.body=e,this.canvas=r,this.animationSpeed=1/this.renderRefreshRate,this.animationEasingFunction="easeInOutQuint",this.easingTime=0,this.sourceScale=0,this.targetScale=0,this.sourceTranslation=0,this.targetTranslation=0,this.lockedOnNodeId=void 0,this.lockedOnNodeOffset=void 0,this.touchTime=0,this.viewFunction=void 0,this.body.emitter.on("fit",ne(n=this.fit).call(n,this)),this.body.emitter.on("animationFinished",()=>{this.body.emitter.emit("_stopRendering")}),this.body.emitter.on("unlockNode",ne(i=this.releaseNode).call(i,this))}setOptions(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.options=e}fit(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;e=Wbe(e,this.body.nodeIndices);const n=this.canvas.frame.canvas.clientWidth,i=this.canvas.frame.canvas.clientHeight;let s,a;if(n===0||i===0)a=1,s=zr.getRange(this.body.nodes,e.nodes);else if(r===!0){let c=0;for(const f in this.body.nodes)Object.prototype.hasOwnProperty.call(this.body.nodes,f)&&this.body.nodes[f].predefinedPosition===!0&&(c+=1);if(c>.5*this.body.nodeIndices.length){this.fit(e,!1);return}s=zr.getRange(this.body.nodes,e.nodes),a=12.662/(this.body.nodeIndices.length+7.4147)+.0964822;const h=Math.min(n/600,i/600);a*=h}else{this.body.emitter.emit("_resizeNodes"),s=zr.getRange(this.body.nodes,e.nodes);const c=Math.abs(s.maxX-s.minX)*1.1,d=Math.abs(s.maxY-s.minY)*1.1,h=n/c,f=i/d;a=h<=f?h:f}a>e.maxZoomLevel?a=e.maxZoomLevel:a<e.minZoomLevel&&(a=e.minZoomLevel);const u={position:zr.findCenter(s),scale:a,animation:e.animation};this.moveTo(u)}focus(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(this.body.nodes[e]!==void 0){const n={x:this.body.nodes[e].x,y:this.body.nodes[e].y};r.position=n,r.lockedOnNode=e,this.moveTo(r)}else console.error("Node: "+e+" cannot be found.")}moveTo(e){if(e===void 0){e={};return}if(e.offset!=null){if(e.offset.x!=null){if(e.offset.x=+e.offset.x,!eo(e.offset.x))throw new TypeError('The option "offset.x" has to be a finite number.')}else e.offset.x=0;if(e.offset.y!=null){if(e.offset.y=+e.offset.y,!eo(e.offset.y))throw new TypeError('The option "offset.y" has to be a finite number.')}else e.offset.x=0}else e.offset={x:0,y:0};if(e.position!=null){if(e.position.x!=null){if(e.position.x=+e.position.x,!eo(e.position.x))throw new TypeError('The option "position.x" has to be a finite number.')}else e.position.x=0;if(e.position.y!=null){if(e.position.y=+e.position.y,!eo(e.position.y))throw new TypeError('The option "position.y" has to be a finite number.')}else e.position.x=0}else e.position=this.getViewPosition();if(e.scale!=null){if(e.scale=+e.scale,!(e.scale>0))throw new TypeError('The option "scale" has to be a number greater than zero.')}else e.scale=this.body.view.scale;e.animation===void 0&&(e.animation={duration:0}),e.animation===!1&&(e.animation={duration:0}),e.animation===!0&&(e.animation={}),e.animation.duration===void 0&&(e.animation.duration=1e3),e.animation.easingFunction===void 0&&(e.animation.easingFunction="easeInOutQuad"),this.animateView(e)}animateView(e){if(e===void 0)return;this.animationEasingFunction=e.animation.easingFunction,this.releaseNode(),e.locked===!0&&(this.lockedOnNodeId=e.lockedOnNode,this.lockedOnNodeOffset=e.offset),this.easingTime!=0&&this._transitionRedraw(!0),this.sourceScale=this.body.view.scale,this.sourceTranslation=this.body.view.translation,this.targetScale=e.scale,this.body.view.scale=this.targetScale;const r=this.canvas.DOMtoCanvas({x:.5*this.canvas.frame.canvas.clientWidth,y:.5*this.canvas.frame.canvas.clientHeight}),n={x:r.x-e.position.x,y:r.y-e.position.y};if(this.targetTranslation={x:this.sourceTranslation.x+n.x*this.targetScale+e.offset.x,y:this.sourceTranslation.y+n.y*this.targetScale+e.offset.y},e.animation.duration===0)if(this.lockedOnNodeId!=null){var i;this.viewFunction=ne(i=this._lockedRedraw).call(i,this),this.body.emitter.on("initRedraw",this.viewFunction)}else this.body.view.scale=this.targetScale,this.body.view.translation=this.targetTranslation,this.body.emitter.emit("_requestRedraw");else{var s;this.animationSpeed=1/(60*e.animation.duration*.001)||1/60,this.animationEasingFunction=e.animation.easingFunction,this.viewFunction=ne(s=this._transitionRedraw).call(s,this),this.body.emitter.on("initRedraw",this.viewFunction),this.body.emitter.emit("_startRendering")}}_lockedRedraw(){const e={x:this.body.nodes[this.lockedOnNodeId].x,y:this.body.nodes[this.lockedOnNodeId].y},r=this.canvas.DOMtoCanvas({x:.5*this.canvas.frame.canvas.clientWidth,y:.5*this.canvas.frame.canvas.clientHeight}),n={x:r.x-e.x,y:r.y-e.y},i=this.body.view.translation,s={x:i.x+n.x*this.body.view.scale+this.lockedOnNodeOffset.x,y:i.y+n.y*this.body.view.scale+this.lockedOnNodeOffset.y};this.body.view.translation=s}releaseNode(){this.lockedOnNodeId!==void 0&&this.viewFunction!==void 0&&(this.body.emitter.off("initRedraw",this.viewFunction),this.lockedOnNodeId=void 0,this.lockedOnNodeOffset=void 0)}_transitionRedraw(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;this.easingTime+=this.animationSpeed,this.easingTime=e===!0?1:this.easingTime;const r=Zve[this.animationEasingFunction](this.easingTime);if(this.body.view.scale=this.sourceScale+(this.targetScale-this.sourceScale)*r,this.body.view.translation={x:this.sourceTranslation.x+(this.targetTranslation.x-this.sourceTranslation.x)*r,y:this.sourceTranslation.y+(this.targetTranslation.y-this.sourceTranslation.y)*r},this.easingTime>=1){if(this.body.emitter.off("initRedraw",this.viewFunction),this.easingTime=0,this.lockedOnNodeId!=null){var n;this.viewFunction=ne(n=this._lockedRedraw).call(n,this),this.body.emitter.on("initRedraw",this.viewFunction)}this.body.emitter.emit("animationFinished")}}getScale(){return this.body.view.scale}getViewPosition(){return this.canvas.DOMtoCanvas({x:.5*this.canvas.frame.canvas.clientWidth,y:.5*this.canvas.frame.canvas.clientHeight})}}function yU(t){var e=t&&t.preventDefault||!1,r=t&&t.container||window,n={},i={keydown:{},keyup:{}},s={},a;for(a=97;a<=122;a++)s[String.fromCharCode(a)]={code:65+(a-97),shift:!1};for(a=65;a<=90;a++)s[String.fromCharCode(a)]={code:a,shift:!0};for(a=0;a<=9;a++)s[""+a]={code:48+a,shift:!1};for(a=1;a<=12;a++)s["F"+a]={code:111+a,shift:!1};for(a=0;a<=9;a++)s["num"+a]={code:96+a,shift:!1};s["num*"]={code:106,shift:!1},s["num+"]={code:107,shift:!1},s["num-"]={code:109,shift:!1},s["num/"]={code:111,shift:!1},s["num."]={code:110,shift:!1},s.left={code:37,shift:!1},s.up={code:38,shift:!1},s.right={code:39,shift:!1},s.down={code:40,shift:!1},s.space={code:32,shift:!1},s.enter={code:13,shift:!1},s.shift={code:16,shift:void 0},s.esc={code:27,shift:!1},s.backspace={code:8,shift:!1},s.tab={code:9,shift:!1},s.ctrl={code:17,shift:!1},s.alt={code:18,shift:!1},s.delete={code:46,shift:!1},s.pageup={code:33,shift:!1},s.pagedown={code:34,shift:!1},s["="]={code:187,shift:!1},s["-"]={code:189,shift:!1},s["]"]={code:221,shift:!1},s["["]={code:219,shift:!1};var o=function(d){c(d,"keydown")},u=function(d){c(d,"keyup")},c=function(d,h){if(i[h][d.keyCode]!==void 0){for(var f=i[h][d.keyCode],p=0;p<f.length;p++)(f[p].shift===void 0||f[p].shift==!0&&d.shiftKey==!0||f[p].shift==!1&&d.shiftKey==!1)&&f[p].fn(d);e==!0&&d.preventDefault()}};return n.bind=function(d,h,f){if(f===void 0&&(f="keydown"),s[d]===void 0)throw new Error("unsupported key: "+d);i[f][s[d].code]===void 0&&(i[f][s[d].code]=[]),i[f][s[d].code].push({fn:h,shift:s[d].shift})},n.bindAll=function(d,h){h===void 0&&(h="keydown");for(var f in s)s.hasOwnProperty(f)&&n.bind(f,d,h)},n.getKey=function(d){for(var h in s)if(s.hasOwnProperty(h)){if(d.shiftKey==!0&&s[h].shift==!0&&d.keyCode==s[h].code)return h;if(d.shiftKey==!1&&s[h].shift==!1&&d.keyCode==s[h].code)return h;if(d.keyCode==s[h].code&&h=="shift")return h}return"unknown key, currently not supported"},n.unbind=function(d,h,f){if(f===void 0&&(f="keydown"),s[d]===void 0)throw new Error("unsupported key: "+d);if(h!==void 0){var p=[],m=i[f][s[d].code];if(m!==void 0)for(var y=0;y<m.length;y++)m[y].fn==h&&m[y].shift==s[d].shift||p.push(i[f][s[d].code][y]);i[f][s[d].code]=p}else i[f][s[d].code]=[]},n.reset=function(){i={keydown:{},keyup:{}}},n.destroy=function(){i={keydown:{},keyup:{}},r.removeEventListener("keydown",o,!0),r.removeEventListener("keyup",u,!0)},r.addEventListener("keydown",o,!0),r.addEventListener("keyup",u,!0),n}class Hbe{constructor(e,r){this.body=e,this.canvas=r,this.iconsCreated=!1,this.navigationHammers=[],this.boundFunctions={},this.touchTime=0,this.activated=!1,this.body.emitter.on("activate",()=>{this.activated=!0,this.configureKeyboardBindings()}),this.body.emitter.on("deactivate",()=>{this.activated=!1,this.configureKeyboardBindings()}),this.body.emitter.on("destroy",()=>{this.keycharm!==void 0&&this.keycharm.destroy()}),this.options={}}setOptions(e){e!==void 0&&(this.options=e,this.create())}create(){this.options.navigationButtons===!0?this.iconsCreated===!1&&this.loadNavigationElements():this.iconsCreated===!0&&this.cleanNavigation(),this.configureKeyboardBindings()}cleanNavigation(){if(this.navigationHammers.length!=0){for(let e=0;e<this.navigationHammers.length;e++)this.navigationHammers[e].destroy();this.navigationHammers=[]}this.navigationDOM&&this.navigationDOM.wrapper&&this.navigationDOM.wrapper.parentNode&&this.navigationDOM.wrapper.parentNode.removeChild(this.navigationDOM.wrapper),this.iconsCreated=!1}loadNavigationElements(){this.cleanNavigation(),this.navigationDOM={};const e=["up","down","left","right","zoomIn","zoomOut","zoomExtends"],r=["_moveUp","_moveDown","_moveLeft","_moveRight","_zoomIn","_zoomOut","_fit"];this.navigationDOM.wrapper=document.createElement("div"),this.navigationDOM.wrapper.className="vis-navigation",this.canvas.frame.appendChild(this.navigationDOM.wrapper);for(let a=0;a<e.length;a++){this.navigationDOM[e[a]]=document.createElement("div"),this.navigationDOM[e[a]].className="vis-button vis-"+e[a],this.navigationDOM.wrapper.appendChild(this.navigationDOM[e[a]]);const o=new Wl(this.navigationDOM[e[a]]);if(r[a]==="_fit"){var n;Fp(o,ne(n=this._fit).call(n,this))}else{var i;Fp(o,ne(i=this.bindToRedraw).call(i,this,r[a]))}this.navigationHammers.push(o)}const s=new Wl(this.canvas.frame);MQ(s,()=>{this._stopMovement()}),this.navigationHammers.push(s),this.iconsCreated=!0}bindToRedraw(e){if(this.boundFunctions[e]===void 0){var r;this.boundFunctions[e]=ne(r=this[e]).call(r,this),this.body.emitter.on("initRedraw",this.boundFunctions[e]),this.body.emitter.emit("_startRendering")}}unbindFromRedraw(e){this.boundFunctions[e]!==void 0&&(this.body.emitter.off("initRedraw",this.boundFunctions[e]),this.body.emitter.emit("_stopRendering"),delete this.boundFunctions[e])}_fit(){new Date().valueOf()-this.touchTime>700&&(this.body.emitter.emit("fit",{duration:700}),this.touchTime=new Date().valueOf())}_stopMovement(){for(const e in this.boundFunctions)Object.prototype.hasOwnProperty.call(this.boundFunctions,e)&&(this.body.emitter.off("initRedraw",this.boundFunctions[e]),this.body.emitter.emit("_stopRendering"));this.boundFunctions={}}_moveUp(){this.body.view.translation.y+=this.options.keyboard.speed.y}_moveDown(){this.body.view.translation.y-=this.options.keyboard.speed.y}_moveLeft(){this.body.view.translation.x+=this.options.keyboard.speed.x}_moveRight(){this.body.view.translation.x-=this.options.keyboard.speed.x}_zoomIn(){const e=this.body.view.scale,r=this.body.view.scale*(1+this.options.keyboard.speed.zoom),n=this.body.view.translation,i=r/e,s=(1-i)*this.canvas.canvasViewCenter.x+n.x*i,a=(1-i)*this.canvas.canvasViewCenter.y+n.y*i;this.body.view.scale=r,this.body.view.translation={x:s,y:a},this.body.emitter.emit("zoom",{direction:"+",scale:this.body.view.scale,pointer:null})}_zoomOut(){const e=this.body.view.scale,r=this.body.view.scale/(1+this.options.keyboard.speed.zoom),n=this.body.view.translation,i=r/e,s=(1-i)*this.canvas.canvasViewCenter.x+n.x*i,a=(1-i)*this.canvas.canvasViewCenter.y+n.y*i;this.body.view.scale=r,this.body.view.translation={x:s,y:a},this.body.emitter.emit("zoom",{direction:"-",scale:this.body.view.scale,pointer:null})}configureKeyboardBindings(){if(this.keycharm!==void 0&&this.keycharm.destroy(),this.options.keyboard.enabled===!0&&(this.options.keyboard.bindToWindow===!0?this.keycharm=yU({container:window,preventDefault:!0}):this.keycharm=yU({container:this.canvas.frame,preventDefault:!0}),this.keycharm.reset(),this.activated===!0)){var e,r,n,i,s,a,o,u,c,d,h,f,p,m,y,x,g,v,w,b,_,E,N,S;ne(e=this.keycharm).call(e,"up",()=>{this.bindToRedraw("_moveUp")},"keydown"),ne(r=this.keycharm).call(r,"down",()=>{this.bindToRedraw("_moveDown")},"keydown"),ne(n=this.keycharm).call(n,"left",()=>{this.bindToRedraw("_moveLeft")},"keydown"),ne(i=this.keycharm).call(i,"right",()=>{this.bindToRedraw("_moveRight")},"keydown"),ne(s=this.keycharm).call(s,"=",()=>{this.bindToRedraw("_zoomIn")},"keydown"),ne(a=this.keycharm).call(a,"num+",()=>{this.bindToRedraw("_zoomIn")},"keydown"),ne(o=this.keycharm).call(o,"num-",()=>{this.bindToRedraw("_zoomOut")},"keydown"),ne(u=this.keycharm).call(u,"-",()=>{this.bindToRedraw("_zoomOut")},"keydown"),ne(c=this.keycharm).call(c,"[",()=>{this.bindToRedraw("_zoomOut")},"keydown"),ne(d=this.keycharm).call(d,"]",()=>{this.bindToRedraw("_zoomIn")},"keydown"),ne(h=this.keycharm).call(h,"pageup",()=>{this.bindToRedraw("_zoomIn")},"keydown"),ne(f=this.keycharm).call(f,"pagedown",()=>{this.bindToRedraw("_zoomOut")},"keydown"),ne(p=this.keycharm).call(p,"up",()=>{this.unbindFromRedraw("_moveUp")},"keyup"),ne(m=this.keycharm).call(m,"down",()=>{this.unbindFromRedraw("_moveDown")},"keyup"),ne(y=this.keycharm).call(y,"left",()=>{this.unbindFromRedraw("_moveLeft")},"keyup"),ne(x=this.keycharm).call(x,"right",()=>{this.unbindFromRedraw("_moveRight")},"keyup"),ne(g=this.keycharm).call(g,"=",()=>{this.unbindFromRedraw("_zoomIn")},"keyup"),ne(v=this.keycharm).call(v,"num+",()=>{this.unbindFromRedraw("_zoomIn")},"keyup"),ne(w=this.keycharm).call(w,"num-",()=>{this.unbindFromRedraw("_zoomOut")},"keyup"),ne(b=this.keycharm).call(b,"-",()=>{this.unbindFromRedraw("_zoomOut")},"keyup"),ne(_=this.keycharm).call(_,"[",()=>{this.unbindFromRedraw("_zoomOut")},"keyup"),ne(E=this.keycharm).call(E,"]",()=>{this.unbindFromRedraw("_zoomIn")},"keyup"),ne(N=this.keycharm).call(N,"pageup",()=>{this.unbindFromRedraw("_zoomIn")},"keyup"),ne(S=this.keycharm).call(S,"pagedown",()=>{this.unbindFromRedraw("_zoomOut")},"keyup")}}}class Kbe{constructor(e,r,n){var i,s,a,o,u,c,d,h,f,p,m,y,x;this.body=e,this.canvas=r,this.selectionHandler=n,this.navigationHandler=new Hbe(e,r),this.body.eventListeners.onTap=ne(i=this.onTap).call(i,this),this.body.eventListeners.onTouch=ne(s=this.onTouch).call(s,this),this.body.eventListeners.onDoubleTap=ne(a=this.onDoubleTap).call(a,this),this.body.eventListeners.onHold=ne(o=this.onHold).call(o,this),this.body.eventListeners.onDragStart=ne(u=this.onDragStart).call(u,this),this.body.eventListeners.onDrag=ne(c=this.onDrag).call(c,this),this.body.eventListeners.onDragEnd=ne(d=this.onDragEnd).call(d,this),this.body.eventListeners.onMouseWheel=ne(h=this.onMouseWheel).call(h,this),this.body.eventListeners.onPinch=ne(f=this.onPinch).call(f,this),this.body.eventListeners.onMouseMove=ne(p=this.onMouseMove).call(p,this),this.body.eventListeners.onRelease=ne(m=this.onRelease).call(m,this),this.body.eventListeners.onContext=ne(y=this.onContext).call(y,this),this.touchTime=0,this.drag={},this.pinch={},this.popup=void 0,this.popupObj=void 0,this.popupTimer=void 0,this.body.functions.getPointer=ne(x=this.getPointer).call(x,this),this.options={},this.defaultOptions={dragNodes:!0,dragView:!0,hover:!1,keyboard:{enabled:!1,speed:{x:10,y:10,zoom:.02},bindToWindow:!0,autoFocus:!0},navigationButtons:!1,tooltipDelay:300,zoomView:!0,zoomSpeed:1},er(this.options,this.defaultOptions),this.bindEventListeners()}bindEventListeners(){this.body.emitter.on("destroy",()=>{clearTimeout(this.popupTimer),delete this.body.functions.getPointer})}setOptions(e){e!==void 0&&(Mp(["hideEdgesOnDrag","hideEdgesOnZoom","hideNodesOnDrag","keyboard","multiselect","selectable","selectConnectedEdges"],this.options,e),An(this.options,e,"keyboard"),e.tooltip&&(er(this.options.tooltip,e.tooltip),e.tooltip.color&&(this.options.tooltip.color=Wj(e.tooltip.color)))),this.navigationHandler.setOptions(this.options)}getPointer(e){return{x:e.x-Yve(this.canvas.frame.canvas),y:e.y-Qve(this.canvas.frame.canvas)}}onTouch(e){new Date().valueOf()-this.touchTime>50&&(this.drag.pointer=this.getPointer(e.center),this.drag.pinched=!1,this.pinch.scale=this.body.view.scale,this.touchTime=new Date().valueOf())}onTap(e){const r=this.getPointer(e.center),n=this.selectionHandler.options.multiselect&&(e.changedPointers[0].ctrlKey||e.changedPointers[0].metaKey);this.checkSelectionChanges(r,n),this.selectionHandler.commitAndEmit(r,e),this.selectionHandler.generateClickEvent("click",e,r)}onDoubleTap(e){const r=this.getPointer(e.center);this.selectionHandler.generateClickEvent("doubleClick",e,r)}onHold(e){const r=this.getPointer(e.center),n=this.selectionHandler.options.multiselect;this.checkSelectionChanges(r,n),this.selectionHandler.commitAndEmit(r,e),this.selectionHandler.generateClickEvent("click",e,r),this.selectionHandler.generateClickEvent("hold",e,r)}onRelease(e){if(new Date().valueOf()-this.touchTime>10){const r=this.getPointer(e.center);this.selectionHandler.generateClickEvent("release",e,r),this.touchTime=new Date().valueOf()}}onContext(e){const r=this.getPointer({x:e.clientX,y:e.clientY});this.selectionHandler.generateClickEvent("oncontext",e,r)}checkSelectionChanges(e){(arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1)===!0?this.selectionHandler.selectAdditionalOnPoint(e):this.selectionHandler.selectOnPoint(e)}_determineDifference(e,r){const n=function(i,s){const a=[];for(let o=0;o<i.length;o++){const u=i[o];ot(s).call(s,u)===-1&&a.push(u)}return a};return{nodes:n(e.nodes,r.nodes),edges:n(e.edges,r.edges)}}onDragStart(e){if(this.drag.dragging)return;this.drag.pointer===void 0&&this.onTouch(e);const r=this.selectionHandler.getNodeAt(this.drag.pointer);if(this.drag.dragging=!0,this.drag.selection=[],this.drag.translation=er({},this.body.view.translation),this.drag.nodeId=void 0,e.srcEvent.shiftKey){this.body.selectionBox.show=!0;const n=this.getPointer(e.center);this.body.selectionBox.position.start={x:this.canvas._XconvertDOMtoCanvas(n.x),y:this.canvas._YconvertDOMtoCanvas(n.y)},this.body.selectionBox.position.end={x:this.canvas._XconvertDOMtoCanvas(n.x),y:this.canvas._YconvertDOMtoCanvas(n.y)}}else if(r!==void 0&&this.options.dragNodes===!0){this.drag.nodeId=r.id,r.isSelected()===!1&&this.selectionHandler.setSelection({nodes:[r.id]}),this.selectionHandler.generateClickEvent("dragStart",e,this.drag.pointer);for(const n of this.selectionHandler.getSelectedNodes()){const i={id:n.id,node:n,x:n.x,y:n.y,xFixed:n.options.fixed.x,yFixed:n.options.fixed.y};n.options.fixed.x=!0,n.options.fixed.y=!0,this.drag.selection.push(i)}}else this.selectionHandler.generateClickEvent("dragStart",e,this.drag.pointer,void 0,!0)}onDrag(e){if(this.drag.pinched===!0)return;this.body.emitter.emit("unlockNode");const r=this.getPointer(e.center),n=this.drag.selection;if(n&&n.length&&this.options.dragNodes===!0){this.selectionHandler.generateClickEvent("dragging",e,r);const i=r.x-this.drag.pointer.x,s=r.y-this.drag.pointer.y;pt(n).call(n,a=>{const o=a.node;a.xFixed===!1&&(o.x=this.canvas._XconvertDOMtoCanvas(this.canvas._XconvertCanvasToDOM(a.x)+i)),a.yFixed===!1&&(o.y=this.canvas._YconvertDOMtoCanvas(this.canvas._YconvertCanvasToDOM(a.y)+s))}),this.body.emitter.emit("startSimulation")}else{if(e.srcEvent.shiftKey){if(this.selectionHandler.generateClickEvent("dragging",e,r,void 0,!0),this.drag.pointer===void 0){this.onDragStart(e);return}this.body.selectionBox.position.end={x:this.canvas._XconvertDOMtoCanvas(r.x),y:this.canvas._YconvertDOMtoCanvas(r.y)},this.body.emitter.emit("_requestRedraw")}if(this.options.dragView===!0&&!e.srcEvent.shiftKey){if(this.selectionHandler.generateClickEvent("dragging",e,r,void 0,!0),this.drag.pointer===void 0){this.onDragStart(e);return}const i=r.x-this.drag.pointer.x,s=r.y-this.drag.pointer.y;this.body.view.translation={x:this.drag.translation.x+i,y:this.drag.translation.y+s},this.body.emitter.emit("_requestRedraw")}}}onDragEnd(e){if(this.drag.dragging=!1,this.body.selectionBox.show){var r;this.body.selectionBox.show=!1;const n=this.body.selectionBox.position,i={minX:Math.min(n.start.x,n.end.x),minY:Math.min(n.start.y,n.end.y),maxX:Math.max(n.start.x,n.end.x),maxY:Math.max(n.start.y,n.end.y)},s=an(r=this.body.nodeIndices).call(r,o=>{const u=this.body.nodes[o];return u.x>=i.minX&&u.x<=i.maxX&&u.y>=i.minY&&u.y<=i.maxY});pt(s).call(s,o=>this.selectionHandler.selectObject(this.body.nodes[o]));const a=this.getPointer(e.center);this.selectionHandler.commitAndEmit(a,e),this.selectionHandler.generateClickEvent("dragEnd",e,this.getPointer(e.center),void 0,!0),this.body.emitter.emit("_requestRedraw")}else{const n=this.drag.selection;n&&n.length?(pt(n).call(n,function(i){i.node.options.fixed.x=i.xFixed,i.node.options.fixed.y=i.yFixed}),this.selectionHandler.generateClickEvent("dragEnd",e,this.getPointer(e.center)),this.body.emitter.emit("startSimulation")):(this.selectionHandler.generateClickEvent("dragEnd",e,this.getPointer(e.center),void 0,!0),this.body.emitter.emit("_requestRedraw"))}}onPinch(e){const r=this.getPointer(e.center);this.drag.pinched=!0,this.pinch.scale===void 0&&(this.pinch.scale=1);const n=this.pinch.scale*e.scale;this.zoom(n,r)}zoom(e,r){if(this.options.zoomView===!0){const n=this.body.view.scale;e<1e-5&&(e=1e-5),e>10&&(e=10);let i;this.drag!==void 0&&this.drag.dragging===!0&&(i=this.canvas.DOMtoCanvas(this.drag.pointer));const s=this.body.view.translation,a=e/n,o=(1-a)*r.x+s.x*a,u=(1-a)*r.y+s.y*a;if(this.body.view.scale=e,this.body.view.translation={x:o,y:u},i!=null){const c=this.canvas.canvasToDOM(i);this.drag.pointer.x=c.x,this.drag.pointer.y=c.y}this.body.emitter.emit("_requestRedraw"),n<e?this.body.emitter.emit("zoom",{direction:"+",scale:this.body.view.scale,pointer:r}):this.body.emitter.emit("zoom",{direction:"-",scale:this.body.view.scale,pointer:r})}}onMouseWheel(e){if(this.options.zoomView===!0){if(e.deltaY!==0){let r=this.body.view.scale;r*=1+(e.deltaY<0?1:-1)*(this.options.zoomSpeed*.1);const n=this.getPointer({x:e.clientX,y:e.clientY});this.zoom(r,n)}e.preventDefault()}}onMouseMove(e){const r=this.getPointer({x:e.clientX,y:e.clientY});let n=!1;this.popup!==void 0&&(this.popup.hidden===!1&&this._checkHidePopup(r),this.popup.hidden===!1&&(n=!0,this.popup.setPosition(r.x+3,r.y-5),this.popup.show())),this.options.keyboard.autoFocus&&this.options.keyboard.bindToWindow===!1&&this.options.keyboard.enabled===!0&&this.canvas.frame.focus(),n===!1&&(this.popupTimer!==void 0&&(clearInterval(this.popupTimer),this.popupTimer=void 0),this.drag.dragging||(this.popupTimer=ls(()=>this._checkShowPopup(r),this.options.tooltipDelay))),this.options.hover===!0&&this.selectionHandler.hoverObject(e,r)}_checkShowPopup(e){const r=this.canvas._XconvertDOMtoCanvas(e.x),n=this.canvas._YconvertDOMtoCanvas(e.y),i={left:r,top:n,right:r,bottom:n},s=this.popupObj===void 0?void 0:this.popupObj.id;let a=!1,o="node";if(this.popupObj===void 0){const u=this.body.nodeIndices,c=this.body.nodes;let d;const h=[];for(let f=0;f<u.length;f++)d=c[u[f]],d.isOverlappingWith(i)===!0&&(a=!0,d.getTitle()!==void 0&&h.push(u[f]));h.length>0&&(this.popupObj=c[h[h.length-1]],a=!0)}if(this.popupObj===void 0&&a===!1){const u=this.body.edgeIndices,c=this.body.edges;let d;const h=[];for(let f=0;f<u.length;f++)d=c[u[f]],d.isOverlappingWith(i)===!0&&d.connected===!0&&d.getTitle()!==void 0&&h.push(u[f]);h.length>0&&(this.popupObj=c[h[h.length-1]],o="edge")}this.popupObj!==void 0?this.popupObj.id!==s&&(this.popup===void 0&&(this.popup=new oge(this.canvas.frame)),this.popup.popupTargetType=o,this.popup.popupTargetId=this.popupObj.id,this.popup.setPosition(e.x+3,e.y-5),this.popup.setText(this.popupObj.getTitle()),this.popup.show(),this.body.emitter.emit("showPopup",this.popupObj.id)):this.popup!==void 0&&(this.popup.hide(),this.body.emitter.emit("hidePopup"))}_checkHidePopup(e){const r=this.selectionHandler._pointerToPositionObject(e);let n=!1;if(this.popup.popupTargetType==="node"){if(this.body.nodes[this.popup.popupTargetId]!==void 0&&(n=this.body.nodes[this.popup.popupTargetId].isOverlappingWith(r),n===!0)){const i=this.selectionHandler.getNodeAt(e);n=i===void 0?!1:i.id===this.popup.popupTargetId}}else this.selectionHandler.getNodeAt(e)===void 0&&this.body.edges[this.popup.popupTargetId]!==void 0&&(n=this.body.edges[this.popup.popupTargetId].isOverlappingWith(r));n===!1&&(this.popupObj=void 0,this.popup.hide(),this.body.emitter.emit("hidePopup"))}}var bU={},xU={},wU;function Gbe(){if(wU)return xU;wU=1;var t=gP(),e=NQ();return t("Set",function(r){return function(){return r(this,arguments.length?arguments[0]:void 0)}},e),xU}var _U;function Ybe(){return _U||(_U=1,Gbe()),bU}var SU={},h2,EU;function sl(){if(EU)return h2;EU=1;var t=Zu(),e=TypeError;return h2=function(r){if(typeof r=="object"&&"size"in r&&"has"in r&&"add"in r&&"delete"in r&&"keys"in r)return r;throw new e(t(r)+" is not a set")},h2}var f2,NU;function al(){if(NU)return f2;NU=1;var t=In(),e=jQ(),r=t("Set"),n=r.prototype;return f2={Set:r,add:e("add",1),has:e("has",1),remove:e("delete",1),proto:n},f2}var p2,jU;function ol(){if(jU)return p2;jU=1;var t=bn();return p2=function(e,r,n){for(var i=n?e:e.iterator,s=e.next,a,o;!(a=t(s,i)).done;)if(o=r(a.value),o!==void 0)return o},p2}var m2,CU;function Ah(){if(CU)return m2;CU=1;var t=ol();return m2=function(e,r,n){return n?t(e.keys(),r,!0):e.forEach(r)},m2}var v2,OU;function EP(){if(OU)return v2;OU=1;var t=al(),e=Ah(),r=t.Set,n=t.add;return v2=function(i){var s=new r;return e(i,function(a){n(s,a)}),s},v2}var g2,PU;function Fh(){return PU||(PU=1,g2=function(t){return t.size}),g2}var y2,TU;function Qbe(){return TU||(TU=1,y2=function(t){return{iterator:t,next:t.next,done:!1}}),y2}var b2,IU;function ll(){if(IU)return b2;IU=1;var t=Os(),e=Li(),r=bn(),n=nc(),i=Qbe(),s="Invalid size",a=RangeError,o=TypeError,u=Math.max,c=function(d,h){this.set=d,this.size=u(h,0),this.has=t(d.has),this.keys=t(d.keys)};return c.prototype={getIterator:function(){return i(e(r(this.keys,this.set)))},includes:function(d){return r(this.has,this.set,d)}},b2=function(d){e(d);var h=+d.size;if(h!==h)throw new o(s);var f=n(h);if(f<0)throw new a(s);return new c(d,f)},b2}var x2,RU;function Xbe(){if(RU)return x2;RU=1;var t=sl(),e=al(),r=EP(),n=Fh(),i=ll(),s=Ah(),a=ol(),o=e.has,u=e.remove;return x2=function(d){var h=t(this),f=i(d),p=r(h);return n(h)<=f.size?s(h,function(m){f.includes(m)&&u(p,m)}):a(f.getIterator(),function(m){o(p,m)&&u(p,m)}),p},x2}var w2,$U;function ul(){return $U||($U=1,w2=function(){return!1}),w2}var kU;function Jbe(){if(kU)return SU;kU=1;var t=je(),e=Xbe(),r=Ke(),n=ul(),i=!n("difference",function(a){return a.size===0}),s=i||r(function(){var a={size:1,has:function(){return!0},keys:function(){var u=0;return{next:function(){var c=u++>1;return o.has(1)&&o.clear(),{done:c,value:2}}}}},o=new Set([1,2,3,4]);return o.difference(a).size!==3});return t({target:"Set",proto:!0,real:!0,forced:s},{difference:e}),SU}var DU={},_2,MU;function Zbe(){if(MU)return _2;MU=1;var t=sl(),e=al(),r=Fh(),n=ll(),i=Ah(),s=ol(),a=e.Set,o=e.add,u=e.has;return _2=function(d){var h=t(this),f=n(d),p=new a;return r(h)>f.size?s(f.getIterator(),function(m){u(h,m)&&o(p,m)}):i(h,function(m){f.includes(m)&&o(p,m)}),p},_2}var qU;function e1e(){if(qU)return DU;qU=1;var t=je(),e=Ke(),r=Zbe(),n=ul(),i=!n("intersection",function(s){return s.size===2&&s.has(1)&&s.has(2)})||e(function(){return String(Array.from(new Set([1,2,3]).intersection(new Set([3,2]))))!=="3,2"});return t({target:"Set",proto:!0,real:!0,forced:i},{intersection:r}),DU}var AU={},S2,FU;function t1e(){if(FU)return S2;FU=1;var t=sl(),e=al().has,r=Fh(),n=ll(),i=Ah(),s=ol(),a=mP();return S2=function(u){var c=t(this),d=n(u);if(r(c)<=d.size)return i(c,function(f){if(d.includes(f))return!1},!0)!==!1;var h=d.getIterator();return s(h,function(f){if(e(c,f))return a(h,"normal",!1)})!==!1},S2}var LU;function r1e(){if(LU)return AU;LU=1;var t=je(),e=t1e(),r=ul(),n=!r("isDisjointFrom",function(i){return!i});return t({target:"Set",proto:!0,real:!0,forced:n},{isDisjointFrom:e}),AU}var BU={},E2,zU;function n1e(){if(zU)return E2;zU=1;var t=sl(),e=Fh(),r=Ah(),n=ll();return E2=function(s){var a=t(this),o=n(s);return e(a)>o.size?!1:r(a,function(u){if(!o.includes(u))return!1},!0)!==!1},E2}var UU;function i1e(){if(UU)return BU;UU=1;var t=je(),e=n1e(),r=ul(),n=!r("isSubsetOf",function(i){return i});return t({target:"Set",proto:!0,real:!0,forced:n},{isSubsetOf:e}),BU}var WU={},N2,VU;function s1e(){if(VU)return N2;VU=1;var t=sl(),e=al().has,r=Fh(),n=ll(),i=ol(),s=mP();return N2=function(o){var u=t(this),c=n(o);if(r(u)<c.size)return!1;var d=c.getIterator();return i(d,function(h){if(!e(u,h))return s(d,"normal",!1)})!==!1},N2}var HU;function a1e(){if(HU)return WU;HU=1;var t=je(),e=s1e(),r=ul(),n=!r("isSupersetOf",function(i){return!i});return t({target:"Set",proto:!0,real:!0,forced:n},{isSupersetOf:e}),WU}var KU={},j2,GU;function o1e(){if(GU)return j2;GU=1;var t=sl(),e=al(),r=EP(),n=ll(),i=ol(),s=e.add,a=e.has,o=e.remove;return j2=function(c){var d=t(this),h=n(c).getIterator(),f=r(d);return i(h,function(p){a(d,p)?o(f,p):s(f,p)}),f},j2}var C2,YU;function qQ(){return YU||(YU=1,C2=function(t){try{var e=new Set,r={size:0,has:function(){return!0},keys:function(){return Object.defineProperty({},"next",{get:function(){return e.clear(),e.add(4),function(){return{done:!0}}}})}},n=e[t](r);return n.size===1&&n.values().next().value===4}catch{return!1}}),C2}var QU;function l1e(){if(QU)return KU;QU=1;var t=je(),e=o1e(),r=qQ(),n=ul(),i=!n("symmetricDifference")||!r("symmetricDifference");return t({target:"Set",proto:!0,real:!0,forced:i},{symmetricDifference:e}),KU}var XU={},O2,JU;function u1e(){if(JU)return O2;JU=1;var t=sl(),e=al().add,r=EP(),n=ll(),i=ol();return O2=function(a){var o=t(this),u=n(a).getIterator(),c=r(o);return i(u,function(d){e(c,d)}),c},O2}var ZU;function c1e(){if(ZU)return XU;ZU=1;var t=je(),e=u1e(),r=qQ(),n=ul(),i=!n("union")||!r("union");return t({target:"Set",proto:!0,real:!0,forced:i},{union:e}),XU}var P2,e9;function d1e(){if(e9)return P2;e9=1,oc(),Ybe(),Jbe(),e1e(),r1e(),i1e(),a1e(),l1e(),c1e(),bP();var t=dt();return P2=t.Set,P2}var T2,t9;function h1e(){if(t9)return T2;t9=1;var t=d1e();return lc(),T2=t,T2}var I2,r9;function f1e(){return r9||(r9=1,I2=h1e()),I2}var p1e=f1e(),Ls=Re(p1e),n9={},i9={},R2,s9;function m1e(){if(s9)return R2;s9=1;var t=Xe(),e=yP(),r=Um().getWeakData,n=vP(),i=Li(),s=Qu(),a=br(),o=Wm(),u=$a(),c=Cr(),d=rl(),h=d.set,f=d.getterFor,p=u.find,m=u.findIndex,y=t([].splice),x=0,g=function(b){return b.frozen||(b.frozen=new v)},v=function(){this.entries=[]},w=function(b,_){return p(b.entries,function(E){return E[0]===_})};return v.prototype={get:function(b){var _=w(this,b);if(_)return _[1]},has:function(b){return!!w(this,b)},set:function(b,_){var E=w(this,b);E?E[1]=_:this.entries.push([b,_])},delete:function(b){var _=m(this.entries,function(E){return E[0]===b});return~_&&y(this.entries,_,1),!!~_}},R2={getConstructor:function(b,_,E,N){var S=b(function(O,I){n(O,j),h(O,{type:_,id:x++,frozen:null}),s(I)||o(I,O[N],{that:O,AS_ENTRIES:E})}),j=S.prototype,C=f(_),P=function(O,I,M){var k=C(O),H=r(i(I),!0);return H===!0?g(k).set(I,M):H[k.id]=M,O};return e(j,{delete:function(O){var I=C(this);if(!a(O))return!1;var M=r(O);return M===!0?g(I).delete(O):M&&c(M,I.id)&&delete M[I.id]},has:function(I){var M=C(this);if(!a(I))return!1;var k=r(I);return k===!0?g(M).has(I):k&&c(k,M.id)}}),e(j,E?{get:function(I){var M=C(this);if(a(I)){var k=r(I);if(k===!0)return g(M).get(I);if(k)return k[M.id]}},set:function(I,M){return P(this,I,M)}}:{add:function(I){return P(this,I,!0)}}),S}},R2}var a9;function v1e(){if(a9)return i9;a9=1;var t=SQ(),e=Ot(),r=Xe(),n=yP(),i=Um(),s=gP(),a=m1e(),o=br(),u=rl().enforce,c=Ke(),d=NY(),h=Object,f=Array.isArray,p=h.isExtensible,m=h.isFrozen,y=h.isSealed,x=h.freeze,g=h.seal,v=!e.ActiveXObject&&"ActiveXObject"in e,w,b=function(O){return function(){return O(this,arguments.length?arguments[0]:void 0)}},_=s("WeakMap",b,a),E=_.prototype,N=r(E.set),S=function(){return t&&c(function(){var O=x([]);return N(new _,O,1),!m(O)})};if(d)if(v){w=a.getConstructor(b,"WeakMap",!0),i.enable();var j=r(E.delete),C=r(E.has),P=r(E.get);n(E,{delete:function(O){if(o(O)&&!p(O)){var I=u(this);return I.frozen||(I.frozen=new w),j(this,O)||I.frozen.delete(O)}return j(this,O)},has:function(I){if(o(I)&&!p(I)){var M=u(this);return M.frozen||(M.frozen=new w),C(this,I)||M.frozen.has(I)}return C(this,I)},get:function(I){if(o(I)&&!p(I)){var M=u(this);return M.frozen||(M.frozen=new w),C(this,I)?P(this,I):M.frozen.get(I)}return P(this,I)},set:function(I,M){if(o(I)&&!p(I)){var k=u(this);k.frozen||(k.frozen=new w),C(this,I)?N(this,I,M):k.frozen.set(I,M)}else N(this,I,M);return this}})}else S()&&n(E,{set:function(I,M){var k;return f(I)&&(m(I)?k=x:y(I)&&(k=g)),N(this,I,M),k&&k(I),this}});return i9}var o9;function g1e(){return o9||(o9=1,v1e()),n9}var $2,l9;function y1e(){if(l9)return $2;l9=1,oc(),g1e();var t=dt();return $2=t.WeakMap,$2}var k2,u9;function b1e(){if(u9)return k2;u9=1;var t=y1e();return lc(),k2=t,k2}var D2,c9;function x1e(){return c9||(c9=1,D2=b1e()),D2}var w1e=x1e(),Lh=Re(w1e);function nd(t,e,r){_1e(t,e),e.set(t,r)}function _1e(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function Qj(t,e,r){return t.set(AQ(t,e),r),r}function gt(t,e){return t.get(AQ(t,e))}function AQ(t,e,r){if(typeof t=="function"?t===e:t.has(e))return arguments.length<3?e:r;throw new TypeError("Private element is not present on this object")}function d9(t,e){const r=new Ls;for(const n of e)t.has(n)||r.add(n);return r}var vl=new Lh,ri=new Lh;class h9{constructor(){nd(this,vl,new Ls),nd(this,ri,new Ls)}get size(){return gt(ri,this).size}add(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];for(const i of r)gt(ri,this).add(i)}delete(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];for(const i of r)gt(ri,this).delete(i)}clear(){gt(ri,this).clear()}getSelection(){return[...gt(ri,this)]}getChanges(){return{added:[...d9(gt(vl,this),gt(ri,this))],deleted:[...d9(gt(ri,this),gt(vl,this))],previous:[...new Ls(gt(vl,this))],current:[...new Ls(gt(ri,this))]}}commit(){const e=this.getChanges();Qj(vl,this,gt(ri,this)),Qj(ri,this,new Ls(gt(vl,this)));for(const r of e.added)r.select();for(const r of e.deleted)r.unselect();return e}}var Aa=new Lh,Fa=new Lh,M2=new Lh;class S1e{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:()=>{};nd(this,Aa,new h9),nd(this,Fa,new h9),nd(this,M2,void 0),Qj(M2,this,e)}get sizeNodes(){return gt(Aa,this).size}get sizeEdges(){return gt(Fa,this).size}getNodes(){return gt(Aa,this).getSelection()}getEdges(){return gt(Fa,this).getSelection()}addNodes(){gt(Aa,this).add(...arguments)}addEdges(){gt(Fa,this).add(...arguments)}deleteNodes(e){gt(Aa,this).delete(e)}deleteEdges(e){gt(Fa,this).delete(e)}clear(){gt(Aa,this).clear(),gt(Fa,this).clear()}commit(){const e={nodes:gt(Aa,this).commit(),edges:gt(Fa,this).commit()};for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return gt(M2,this).call(this,e,...n),e}}class E1e{constructor(e,r){this.body=e,this.canvas=r,this._selectionAccumulator=new S1e,this.hoverObj={nodes:{},edges:{}},this.options={},this.defaultOptions={multiselect:!1,selectable:!0,selectConnectedEdges:!0,hoverConnectedEdges:!0},er(this.options,this.defaultOptions),this.body.emitter.on("_dataChanged",()=>{this.updateSelection()})}setOptions(e){e!==void 0&&dc(["multiselect","hoverConnectedEdges","selectable","selectConnectedEdges"],this.options,e)}selectOnPoint(e){let r=!1;if(this.options.selectable===!0){const n=this.getNodeAt(e)||this.getEdgeAt(e);this.unselectAll(),n!==void 0&&(r=this.selectObject(n)),this.body.emitter.emit("_requestRedraw")}return r}selectAdditionalOnPoint(e){let r=!1;if(this.options.selectable===!0){const n=this.getNodeAt(e)||this.getEdgeAt(e);n!==void 0&&(r=!0,n.isSelected()===!0?this.deselectObject(n):this.selectObject(n),this.body.emitter.emit("_requestRedraw"))}return r}_initBaseEvent(e,r){const n={};return n.pointer={DOM:{x:r.x,y:r.y},canvas:this.canvas.DOMtoCanvas(r)},n.event=e,n}generateClickEvent(e,r,n,i){let s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1;const a=this._initBaseEvent(r,n);if(s===!0)a.nodes=[],a.edges=[];else{const o=this.getSelection();a.nodes=o.nodes,a.edges=o.edges}i!==void 0&&(a.previousSelection=i),e=="click"&&(a.items=this.getClickedItems(n)),r.controlEdge!==void 0&&(a.controlEdge=r.controlEdge),this.body.emitter.emit(e,a)}selectObject(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.options.selectConnectedEdges;return e!==void 0?(e instanceof jt?(r===!0&&this._selectionAccumulator.addEdges(...e.edges),this._selectionAccumulator.addNodes(e)):this._selectionAccumulator.addEdges(e),!0):!1}deselectObject(e){e.isSelected()===!0&&(e.selected=!1,this._removeFromSelection(e))}_getAllNodesOverlappingWith(e){const r=[],n=this.body.nodes;for(let i=0;i<this.body.nodeIndices.length;i++){const s=this.body.nodeIndices[i];n[s].isOverlappingWith(e)&&r.push(s)}return r}_pointerToPositionObject(e){const r=this.canvas.DOMtoCanvas(e);return{left:r.x-1,top:r.y+1,right:r.x+1,bottom:r.y-1}}getNodeAt(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;const n=this._pointerToPositionObject(e),i=this._getAllNodesOverlappingWith(n);if(i.length>0)return r===!0?this.body.nodes[i[i.length-1]]:i[i.length-1]}_getEdgesOverlappingWith(e,r){const n=this.body.edges;for(let i=0;i<this.body.edgeIndices.length;i++){const s=this.body.edgeIndices[i];n[s].isOverlappingWith(e)&&r.push(s)}}_getAllEdgesOverlappingWith(e){const r=[];return this._getEdgesOverlappingWith(e,r),r}getEdgeAt(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;const n=this.canvas.DOMtoCanvas(e);let i=10,s=null;const a=this.body.edges;for(let o=0;o<this.body.edgeIndices.length;o++){const u=this.body.edgeIndices[o],c=a[u];if(c.connected){const d=c.from.x,h=c.from.y,f=c.to.x,p=c.to.y,m=c.edgeType.getDistanceToEdge(d,h,f,p,n.x,n.y);m<i&&(s=u,i=m)}}if(s!==null)return r===!0?this.body.edges[s]:s}_addToHover(e){e instanceof jt?this.hoverObj.nodes[e.id]=e:this.hoverObj.edges[e.id]=e}_removeFromSelection(e){e instanceof jt?(this._selectionAccumulator.deleteNodes(e),this._selectionAccumulator.deleteEdges(...e.edges)):this._selectionAccumulator.deleteEdges(e)}unselectAll(){this._selectionAccumulator.clear()}getSelectedNodeCount(){return this._selectionAccumulator.sizeNodes}getSelectedEdgeCount(){return this._selectionAccumulator.sizeEdges}_hoverConnectedEdges(e){for(let r=0;r<e.edges.length;r++){const n=e.edges[r];n.hover=!0,this._addToHover(n)}}emitBlurEvent(e,r,n){const i=this._initBaseEvent(e,r);n.hover===!0&&(n.hover=!1,n instanceof jt?(i.node=n.id,this.body.emitter.emit("blurNode",i)):(i.edge=n.id,this.body.emitter.emit("blurEdge",i)))}emitHoverEvent(e,r,n){const i=this._initBaseEvent(e,r);let s=!1;return n.hover===!1&&(n.hover=!0,this._addToHover(n),s=!0,n instanceof jt?(i.node=n.id,this.body.emitter.emit("hoverNode",i)):(i.edge=n.id,this.body.emitter.emit("hoverEdge",i))),s}hoverObject(e,r){let n=this.getNodeAt(r);n===void 0&&(n=this.getEdgeAt(r));let i=!1;for(const s in this.hoverObj.nodes)Object.prototype.hasOwnProperty.call(this.hoverObj.nodes,s)&&(n===void 0||n instanceof jt&&n.id!=s||n instanceof ga)&&(this.emitBlurEvent(e,r,this.hoverObj.nodes[s]),delete this.hoverObj.nodes[s],i=!0);for(const s in this.hoverObj.edges)Object.prototype.hasOwnProperty.call(this.hoverObj.edges,s)&&(i===!0?(this.hoverObj.edges[s].hover=!1,delete this.hoverObj.edges[s]):(n===void 0||n instanceof ga&&n.id!=s||n instanceof jt&&!n.hover)&&(this.emitBlurEvent(e,r,this.hoverObj.edges[s]),delete this.hoverObj.edges[s],i=!0));if(n!==void 0){const s=Ft(this.hoverObj.edges).length,a=Ft(this.hoverObj.nodes).length,o=n instanceof ga&&s===0&&a===0,u=n instanceof jt&&s===0&&a===0;(i||o||u)&&(i=this.emitHoverEvent(e,r,n)),n instanceof jt&&this.options.hoverConnectedEdges===!0&&this._hoverConnectedEdges(n)}i===!0&&this.body.emitter.emit("_requestRedraw")}commitWithoutEmitting(){this._selectionAccumulator.commit()}commitAndEmit(e,r){let n=!1;const i=this._selectionAccumulator.commit(),s={nodes:i.nodes.previous,edges:i.edges.previous};i.edges.deleted.length>0&&(this.generateClickEvent("deselectEdge",r,e,s),n=!0),i.nodes.deleted.length>0&&(this.generateClickEvent("deselectNode",r,e,s),n=!0),i.nodes.added.length>0&&(this.generateClickEvent("selectNode",r,e),n=!0),i.edges.added.length>0&&(this.generateClickEvent("selectEdge",r,e),n=!0),n===!0&&this.generateClickEvent("select",r,e)}getSelection(){return{nodes:this.getSelectedNodeIds(),edges:this.getSelectedEdgeIds()}}getSelectedNodes(){return this._selectionAccumulator.getNodes()}getSelectedEdges(){return this._selectionAccumulator.getEdges()}getSelectedNodeIds(){var e;return Nu(e=this._selectionAccumulator.getNodes()).call(e,r=>r.id)}getSelectedEdgeIds(){var e;return Nu(e=this._selectionAccumulator.getEdges()).call(e,r=>r.id)}setSelection(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!e||!e.nodes&&!e.edges)throw new TypeError("Selection must be an object with nodes and/or edges properties");if((r.unselectAll||r.unselectAll===void 0)&&this.unselectAll(),e.nodes)for(const n of e.nodes){const i=this.body.nodes[n];if(!i)throw new RangeError('Node with id "'+n+'" not found');this.selectObject(i,r.highlightEdges)}if(e.edges)for(const n of e.edges){const i=this.body.edges[n];if(!i)throw new RangeError('Edge with id "'+n+'" not found');this.selectObject(i)}this.body.emitter.emit("_requestRedraw"),this._selectionAccumulator.commit()}selectNodes(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(!e||e.length===void 0)throw"Selection must be an array with ids";this.setSelection({nodes:e},{highlightEdges:r})}selectEdges(e){if(!e||e.length===void 0)throw"Selection must be an array with ids";this.setSelection({edges:e})}updateSelection(){for(const e in this._selectionAccumulator.getNodes())Object.prototype.hasOwnProperty.call(this.body.nodes,e.id)||this._selectionAccumulator.deleteNodes(e);for(const e in this._selectionAccumulator.getEdges())Object.prototype.hasOwnProperty.call(this.body.edges,e.id)||this._selectionAccumulator.deleteEdges(e)}getClickedItems(e){const r=this.canvas.DOMtoCanvas(e),n=[],i=this.body.nodeIndices,s=this.body.nodes;for(let u=i.length-1;u>=0;u--){const d=s[i[u]].getItemsOnPoint(r);n.push.apply(n,d)}const a=this.body.edgeIndices,o=this.body.edges;for(let u=a.length-1;u>=0;u--){const d=o[a[u]].getItemsOnPoint(r);n.push.apply(n,d)}return n}}var f9={},q2,p9;function N1e(){if(p9)return q2;p9=1;var t=ic(),e=Math.floor,r=function(n,i){var s=n.length;if(s<8)for(var a=1,o,u;a<s;){for(u=a,o=n[a];u&&i(n[u-1],o)>0;)n[u]=n[--u];u!==a++&&(n[u]=o)}else for(var c=e(s/2),d=r(t(n,0,c),i),h=r(t(n,c),i),f=d.length,p=h.length,m=0,y=0;m<f||y<p;)n[m+y]=m<f&&y<p?i(d[m],h[y])<=0?d[m++]:h[y++]:m<f?d[m++]:h[y++];return n};return q2=r,q2}var A2,m9;function j1e(){if(m9)return A2;m9=1;var t=Xu(),e=t.match(/firefox\/(\d+)/i);return A2=!!e&&+e[1],A2}var F2,v9;function C1e(){if(v9)return F2;v9=1;var t=Xu();return F2=/MSIE|Trident/.test(t),F2}var L2,g9;function O1e(){if(g9)return L2;g9=1;var t=Xu(),e=t.match(/AppleWebKit\/(\d+)\./);return L2=!!e&&+e[1],L2}var y9;function P1e(){if(y9)return f9;y9=1;var t=je(),e=Xe(),r=Os(),n=Rn(),i=Ps(),s=MY(),a=Jn(),o=Ke(),u=N1e(),c=uc(),d=j1e(),h=C1e(),f=Eh(),p=O1e(),m=[],y=e(m.sort),x=e(m.push),g=o(function(){m.sort(void 0)}),v=o(function(){m.sort(null)}),w=c("sort"),b=!o(function(){if(f)return f<70;if(!(d&&d>3)){if(h)return!0;if(p)return p<603;var N="",S,j,C,P;for(S=65;S<76;S++){switch(j=String.fromCharCode(S),S){case 66:case 69:case 70:case 72:C=3;break;case 68:case 71:C=4;break;default:C=2}for(P=0;P<47;P++)m.push({k:j+P,v:C})}for(m.sort(function(O,I){return I.v-O.v}),P=0;P<m.length;P++)j=m[P].k.charAt(0),N.charAt(N.length-1)!==j&&(N+=j);return N!=="DGBEFHACIJK"}}),_=g||!v||!w||!b,E=function(N){return function(S,j){return j===void 0?-1:S===void 0?1:N!==void 0?+N(S,j)||0:a(S)>a(j)?1:-1}};return t({target:"Array",proto:!0,forced:_},{sort:function(S){S!==void 0&&r(S);var j=n(this);if(b)return S===void 0?y(j):y(j,S);var C=[],P=i(j),O,I;for(I=0;I<P;I++)I in j&&x(C,j[I]);for(u(C,E(S)),O=i(C),I=0;I<O;)j[I]=C[I++];for(;I<P;)s(j,I++);return j}}),f9}var B2,b9;function T1e(){if(b9)return B2;b9=1,P1e();var t=Or();return B2=t("Array","sort"),B2}var z2,x9;function I1e(){if(x9)return z2;x9=1;var t=ir(),e=T1e(),r=Array.prototype;return z2=function(n){var i=n.sort;return n===r||t(r,n)&&i===r.sort?e:i},z2}var U2,w9;function R1e(){if(w9)return U2;w9=1;var t=I1e();return U2=t,U2}var W2,_9;function $1e(){return _9||(_9=1,W2=R1e()),W2}var k1e=$1e(),Hl=Re(k1e),S9={},V2,E9;function D1e(){if(E9)return V2;E9=1;var t=Os(),e=Rn(),r=Pm(),n=Ps(),i=TypeError,s="Reduce of empty array with no initial value",a=function(o){return function(u,c,d,h){var f=e(u),p=r(f),m=n(f);if(t(c),m===0&&d<2)throw new i(s);var y=o?m-1:0,x=o?-1:1;if(d<2)for(;;){if(y in p){h=p[y],y+=x;break}if(y+=x,o?y<0:m<=y)throw new i(s)}for(;o?y>=0:m>y;y+=x)y in p&&(h=c(h,p[y],y,f));return h}};return V2={left:a(!1),right:a(!0)},V2}var H2,N9;function M1e(){if(N9)return H2;N9=1;var t=AY();return H2=t==="NODE",H2}var j9;function q1e(){if(j9)return S9;j9=1;var t=je(),e=D1e().left,r=uc(),n=Eh(),i=M1e(),s=!i&&n>79&&n<83,a=s||!r("reduce");return t({target:"Array",proto:!0,forced:a},{reduce:function(u){var c=arguments.length;return e(this,u,c,c>1?arguments[1]:void 0)}}),S9}var K2,C9;function A1e(){if(C9)return K2;C9=1,q1e();var t=Or();return K2=t("Array","reduce"),K2}var G2,O9;function F1e(){if(O9)return G2;O9=1;var t=ir(),e=A1e(),r=Array.prototype;return G2=function(n){var i=n.reduce;return n===r||t(r,n)&&i===r.reduce?e:i},G2}var Y2,P9;function L1e(){if(P9)return Y2;P9=1;var t=F1e();return Y2=t,Y2}var Q2,T9;function B1e(){return T9||(T9=1,Q2=L1e()),Q2}var z1e=B1e(),FQ=Re(z1e);class LQ{abstract(){throw new Error("Can't instantiate abstract class!")}fake_use(){}curveType(){return this.abstract()}getPosition(e){return this.fake_use(e),this.abstract()}setPosition(e,r){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0;this.fake_use(e,r,n),this.abstract()}getTreeSize(e){return this.fake_use(e),this.abstract()}sort(e){this.fake_use(e),this.abstract()}fix(e,r){this.fake_use(e,r),this.abstract()}shift(e,r){this.fake_use(e,r),this.abstract()}}class U1e extends LQ{constructor(e){super(),this.layout=e}curveType(){return"horizontal"}getPosition(e){return e.x}setPosition(e,r){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0;n!==void 0&&this.layout.hierarchical.addToOrdering(e,n),e.x=r}getTreeSize(e){const r=this.layout.hierarchical.getTreeSize(this.layout.body.nodes,e);return{min:r.min_x,max:r.max_x}}sort(e){Hl(e).call(e,function(r,n){return r.x-n.x})}fix(e,r){e.y=this.layout.options.hierarchical.levelSeparation*r,e.options.fixed.y=!0}shift(e,r){this.layout.body.nodes[e].x+=r}}class W1e extends LQ{constructor(e){super(),this.layout=e}curveType(){return"vertical"}getPosition(e){return e.y}setPosition(e,r){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0;n!==void 0&&this.layout.hierarchical.addToOrdering(e,n),e.y=r}getTreeSize(e){const r=this.layout.hierarchical.getTreeSize(this.layout.body.nodes,e);return{min:r.min_y,max:r.max_y}}sort(e){Hl(e).call(e,function(r,n){return r.y-n.y})}fix(e,r){e.x=this.layout.options.hierarchical.levelSeparation*r,e.options.fixed.x=!0}shift(e,r){this.layout.body.nodes[e].y+=r}}var I9={},R9;function V1e(){if(R9)return I9;R9=1;var t=je(),e=$a().every,r=uc(),n=r("every");return t({target:"Array",proto:!0,forced:!n},{every:function(s){return e(this,s,arguments.length>1?arguments[1]:void 0)}}),I9}var X2,$9;function H1e(){if($9)return X2;$9=1,V1e();var t=Or();return X2=t("Array","every"),X2}var J2,k9;function K1e(){if(k9)return J2;k9=1;var t=ir(),e=H1e(),r=Array.prototype;return J2=function(n){var i=n.every;return n===r||t(r,n)&&i===r.every?e:i},J2}var Z2,D9;function G1e(){if(D9)return Z2;D9=1;var t=K1e();return Z2=t,Z2}var eN,M9;function Y1e(){return M9||(M9=1,eN=G1e()),eN}var Q1e=Y1e(),BQ=Re(Q1e);function X1e(t,e){const r=new Ls;return pt(t).call(t,n=>{var i;pt(i=n.edges).call(i,s=>{s.connected&&r.add(s)})}),pt(r).call(r,n=>{const i=n.from.id,s=n.to.id;e[i]==null&&(e[i]=0),(e[s]==null||e[i]>=e[s])&&(e[s]=e[i]+1)}),e}function J1e(t){return zQ(e=>{var r,n;return BQ(r=an(n=e.edges).call(n,i=>t.has(i.toId))).call(r,i=>i.to===e)},(e,r)=>r>e,"from",t)}function Z1e(t){return zQ(e=>{var r,n;return BQ(r=an(n=e.edges).call(n,i=>t.has(i.toId))).call(r,i=>i.from===e)},(e,r)=>r<e,"to",t)}function zQ(t,e,r,n){var i;const s=yo(null),a=FQ(i=[...RQ(n).call(n)]).call(i,(h,f)=>h+1+f.edges.length,0),o=r+"Id",u=r==="to"?1:-1;for(const[h,f]of n){if(!n.has(h)||!t(f))continue;s[h]=0;const p=[f];let m=0,y;for(;y=p.pop();){var c,d;if(!n.has(h))continue;const x=s[y.id]+u;if(pt(c=an(d=y.edges).call(d,g=>g.connected&&g.to!==g.from&&g[r]!==y&&n.has(g.toId)&&n.has(g.fromId))).call(c,g=>{const v=g[o],w=s[v];(w==null||e(x,w))&&(s[v]=x,p.push(g[r]))}),m>a)return X1e(n,s);++m}}return s}class exe{constructor(){this.childrenReference={},this.parentReference={},this.trees={},this.distributionOrdering={},this.levels={},this.distributionIndex={},this.isTree=!1,this.treeIndex=-1}addRelation(e,r){this.childrenReference[e]===void 0&&(this.childrenReference[e]=[]),this.childrenReference[e].push(r),this.parentReference[r]===void 0&&(this.parentReference[r]=[]),this.parentReference[r].push(e)}checkIfTree(){for(const e in this.parentReference)if(this.parentReference[e].length>1){this.isTree=!1;return}this.isTree=!0}numTrees(){return this.treeIndex+1}setTreeIndex(e,r){r!==void 0&&this.trees[e.id]===void 0&&(this.trees[e.id]=r,this.treeIndex=Math.max(r,this.treeIndex))}ensureLevel(e){this.levels[e]===void 0&&(this.levels[e]=0)}getMaxLevel(e){const r={},n=i=>{if(r[i]!==void 0)return r[i];let s=this.levels[i];if(this.childrenReference[i]){const a=this.childrenReference[i];if(a.length>0)for(let o=0;o<a.length;o++)s=Math.max(s,n(a[o]))}return r[i]=s,s};return n(e)}levelDownstream(e,r){this.levels[r.id]===void 0&&(this.levels[e.id]===void 0&&(this.levels[e.id]=0),this.levels[r.id]=this.levels[e.id]+1)}setMinLevelToZero(){var e;const r=new xP;let n=0;const i=Hl(e=[...new Ls(mme(this.levels))]).call(e,(s,a)=>s-a);for(const s of i)r.set(s,n++);for(const s in this.levels)Object.prototype.hasOwnProperty.call(this.levels,s)&&(this.levels[s]=r.get(this.levels[s]))}getTreeSize(e,r){let n=1e9,i=-1e9,s=1e9,a=-1e9;for(const o in this.trees)if(Object.prototype.hasOwnProperty.call(this.trees,o)&&this.trees[o]===r){const u=e[o];n=Math.min(u.x,n),i=Math.max(u.x,i),s=Math.min(u.y,s),a=Math.max(u.y,a)}return{min_x:n,max_x:i,min_y:s,max_y:a}}hasSameParent(e,r){const n=this.parentReference[e.id],i=this.parentReference[r.id];if(n===void 0||i===void 0)return!1;for(let s=0;s<n.length;s++)for(let a=0;a<i.length;a++)if(n[s]==i[a])return!0;return!1}inSameSubNetwork(e,r){return this.trees[e.id]===this.trees[r.id]}getLevels(){return Ft(this.distributionOrdering)}addToOrdering(e,r){this.distributionOrdering[r]===void 0&&(this.distributionOrdering[r]=[]);let n=!1;const i=this.distributionOrdering[r];for(const s in i)if(i[s]===e){n=!0;break}n||(this.distributionOrdering[r].push(e),this.distributionIndex[e.id]=this.distributionOrdering[r].length-1)}}class txe{constructor(e){this.body=e,this._resetRNG(Math.random()+":"+Rp()),this.setPhysics=!1,this.options={},this.optionsBackup={physics:{}},this.defaultOptions={randomSeed:void 0,improvedLayout:!0,clusterThreshold:150,hierarchical:{enabled:!1,levelSeparation:150,nodeSpacing:100,treeSpacing:200,blockShifting:!0,edgeMinimization:!0,parentCentralization:!0,direction:"UD",sortMethod:"hubsize"}},er(this.options,this.defaultOptions),this.bindEventListeners()}bindEventListeners(){this.body.emitter.on("_dataChanged",()=>{this.setupHierarchicalLayout()}),this.body.emitter.on("_dataLoaded",()=>{this.layoutNetwork()}),this.body.emitter.on("_resetHierarchicalLayout",()=>{this.setupHierarchicalLayout()}),this.body.emitter.on("_adjustEdgesForHierarchicalLayout",()=>{if(this.options.hierarchical.enabled!==!0)return;const e=this.direction.curveType();this.body.emitter.emit("_forceDisableDynamicCurves",e,!1)})}setOptions(e,r){if(e!==void 0){const n=this.options.hierarchical,i=n.enabled;if(dc(["randomSeed","improvedLayout","clusterThreshold"],this.options,e),An(this.options,e,"hierarchical"),e.randomSeed!==void 0&&this._resetRNG(e.randomSeed),n.enabled===!0)return i===!0&&this.body.emitter.emit("refresh",!0),n.direction==="RL"||n.direction==="DU"?n.levelSeparation>0&&(n.levelSeparation*=-1):n.levelSeparation<0&&(n.levelSeparation*=-1),this.setDirectionStrategy(),this.body.emitter.emit("_resetHierarchicalLayout"),this.adaptAllOptionsForHierarchicalLayout(r);if(i===!0)return this.body.emitter.emit("refresh"),yt(r,this.optionsBackup)}return r}_resetRNG(e){this.initialRandomSeed=e,this._rng=zm(this.initialRandomSeed)}adaptAllOptionsForHierarchicalLayout(e){if(this.options.hierarchical.enabled===!0){const r=this.optionsBackup.physics;e.physics===void 0||e.physics===!0?(e.physics={enabled:r.enabled===void 0?!0:r.enabled,solver:"hierarchicalRepulsion"},r.enabled=r.enabled===void 0?!0:r.enabled,r.solver=r.solver||"barnesHut"):typeof e.physics=="object"?(r.enabled=e.physics.enabled===void 0?!0:e.physics.enabled,r.solver=e.physics.solver||"barnesHut",e.physics.solver="hierarchicalRepulsion"):e.physics!==!1&&(r.solver="barnesHut",e.physics={solver:"hierarchicalRepulsion"});let n=this.direction.curveType();if(e.edges===void 0)this.optionsBackup.edges={smooth:{enabled:!0,type:"dynamic"}},e.edges={smooth:!1};else if(e.edges.smooth===void 0)this.optionsBackup.edges={smooth:{enabled:!0,type:"dynamic"}},e.edges.smooth=!1;else if(typeof e.edges.smooth=="boolean")this.optionsBackup.edges={smooth:e.edges.smooth},e.edges.smooth={enabled:e.edges.smooth,type:n};else{const i=e.edges.smooth;i.type!==void 0&&i.type!=="dynamic"&&(n=i.type),this.optionsBackup.edges={smooth:{enabled:i.enabled===void 0?!0:i.enabled,type:i.type===void 0?"dynamic":i.type,roundness:i.roundness===void 0?.5:i.roundness,forceDirection:i.forceDirection===void 0?!1:i.forceDirection}},e.edges.smooth={enabled:i.enabled===void 0?!0:i.enabled,type:n,roundness:i.roundness===void 0?.5:i.roundness,forceDirection:i.forceDirection===void 0?!1:i.forceDirection}}this.body.emitter.emit("_forceDisableDynamicCurves",n)}return e}positionInitially(e){if(this.options.hierarchical.enabled!==!0){this._resetRNG(this.initialRandomSeed);const r=e.length+50;for(let n=0;n<e.length;n++){const i=e[n],s=2*Math.PI*this._rng();i.x===void 0&&(i.x=r*Math.cos(s)),i.y===void 0&&(i.y=r*Math.sin(s))}}}layoutNetwork(){if(this.options.hierarchical.enabled!==!0&&this.options.improvedLayout===!0){const e=this.body.nodeIndices;let r=0;for(let n=0;n<e.length;n++)this.body.nodes[e[n]].predefinedPosition===!0&&(r+=1);if(r<.5*e.length){let i=0;const s=this.options.clusterThreshold,a={clusterNodeProperties:{shape:"ellipse",label:"",group:"",font:{multi:!1}},clusterEdgeProperties:{label:"",font:{multi:!1},smooth:{enabled:!1}}};if(e.length>s){const u=e.length;for(;e.length>s&&i<=10;){i+=1;const c=e.length;i%3===0?this.body.modules.clustering.clusterBridges(a):this.body.modules.clustering.clusterOutliers(a);const d=e.length;if(c==d&&i%3!==0){this._declusterAll(),this.body.emitter.emit("_layoutFailed"),console.info("This network could not be positioned by this version of the improved layout algorithm. Please disable improvedLayout for better performance.");return}}this.body.modules.kamadaKawai.setOptions({springLength:Math.max(150,2*u)})}i>10&&console.info("The clustering didn't succeed within the amount of interations allowed, progressing with partial result."),this.body.modules.kamadaKawai.solve(e,this.body.edgeIndices,!0),this._shiftToCenter();const o=70;for(let u=0;u<e.length;u++){const c=this.body.nodes[e[u]];c.predefinedPosition===!1&&(c.x+=(.5-this._rng())*o,c.y+=(.5-this._rng())*o)}this._declusterAll(),this.body.emitter.emit("_repositionBezierNodes")}}}_shiftToCenter(){const e=zr.getRangeCore(this.body.nodes,this.body.nodeIndices),r=zr.findCenter(e);for(let n=0;n<this.body.nodeIndices.length;n++){const i=this.body.nodes[this.body.nodeIndices[n]];i.x-=r.x,i.y-=r.y}}_declusterAll(){let e=!0;for(;e===!0;){e=!1;for(let r=0;r<this.body.nodeIndices.length;r++)this.body.nodes[this.body.nodeIndices[r]].isCluster===!0&&(e=!0,this.body.modules.clustering.openCluster(this.body.nodeIndices[r],{},!1));e===!0&&this.body.emitter.emit("_dataChanged")}}getSeed(){return this.initialRandomSeed}setupHierarchicalLayout(){if(this.options.hierarchical.enabled===!0&&this.body.nodeIndices.length>0){let e,r,n=!1,i=!1;this.lastNodeOnLevel={},this.hierarchical=new exe;for(r in this.body.nodes)Object.prototype.hasOwnProperty.call(this.body.nodes,r)&&(e=this.body.nodes[r],e.options.level!==void 0?(n=!0,this.hierarchical.levels[r]=e.options.level):i=!0);if(i===!0&&n===!0)throw new Error("To use the hierarchical layout, nodes require either no predefined levels or levels have to be defined for all nodes.");{if(i===!0){const a=this.options.hierarchical.sortMethod;a==="hubsize"?this._determineLevelsByHubsize():a==="directed"?this._determineLevelsDirected():a==="custom"&&this._determineLevelsCustomCallback()}for(const a in this.body.nodes)Object.prototype.hasOwnProperty.call(this.body.nodes,a)&&this.hierarchical.ensureLevel(a);const s=this._getDistribution();this._generateMap(),this._placeNodesByHierarchy(s),this._condenseHierarchy(),this._shiftToCenter()}}}_condenseHierarchy(){var e=this;let r=!1;const n={},i=()=>{const g=a();let v=0;for(let w=0;w<g.length-1;w++){const b=g[w].max-g[w+1].min;v+=b+this.options.hierarchical.treeSpacing,s(w+1,v)}},s=(g,v)=>{const w=this.hierarchical.trees;for(const b in w)Object.prototype.hasOwnProperty.call(w,b)&&w[b]===g&&this.direction.shift(b,v)},a=()=>{const g=[];for(let v=0;v<this.hierarchical.numTrees();v++)g.push(this.direction.getTreeSize(v));return g},o=(g,v)=>{if(!v[g.id]&&(v[g.id]=!0,this.hierarchical.childrenReference[g.id])){const w=this.hierarchical.childrenReference[g.id];if(w.length>0)for(let b=0;b<w.length;b++)o(this.body.nodes[w[b]],v)}},u=function(g){let v=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1e9,w=1e9,b=1e9,_=1e9,E=-1e9;for(const N in g)if(Object.prototype.hasOwnProperty.call(g,N)){const S=e.body.nodes[N],j=e.hierarchical.levels[S.id],C=e.direction.getPosition(S),[P,O]=e._getSpaceAroundNode(S,g);w=Math.min(P,w),b=Math.min(O,b),j<=v&&(_=Math.min(C,_),E=Math.max(C,E))}return[_,E,w,b]},c=(g,v)=>{const w=this.hierarchical.getMaxLevel(g.id),b=this.hierarchical.getMaxLevel(v.id);return Math.min(w,b)},d=(g,v,w)=>{const b=this.hierarchical;for(let _=0;_<v.length;_++){const E=v[_],N=b.distributionOrdering[E];if(N.length>1)for(let S=0;S<N.length-1;S++){const j=N[S],C=N[S+1];b.hasSameParent(j,C)&&b.inSameSubNetwork(j,C)&&g(j,C,w)}}},h=function(g,v){let w=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;const b=e.direction.getPosition(g),_=e.direction.getPosition(v),E=Math.abs(_-b),N=e.options.hierarchical.nodeSpacing;if(E>N){const S={},j={};o(g,S),o(v,j);const C=c(g,v),P=u(S,C),O=u(j,C),I=P[1],M=O[0],k=O[2];if(Math.abs(I-M)>N){let W=I-M+N;W<-k+N&&(W=-k+N),W<0&&(e._shiftBlock(v.id,W),r=!0,w===!0&&e._centerParent(v))}}},f=(g,v)=>{const w=v.id,b=v.edges,_=this.hierarchical.levels[v.id],E=this.options.hierarchical.levelSeparation*this.options.hierarchical.levelSeparation,N={},S=[];for(let k=0;k<b.length;k++){const H=b[k];if(H.toId!=H.fromId){const W=H.toId==w?H.from:H.to;N[b[k].id]=W,this.hierarchical.levels[W.id]<_&&S.push(H)}}const j=(k,H)=>{let W=0;for(let A=0;A<H.length;A++)if(N[H[A].id]!==void 0){const K=this.direction.getPosition(N[H[A].id])-k;W+=K/Math.sqrt(K*K+E)}return W},C=(k,H)=>{let W=0;for(let A=0;A<H.length;A++)if(N[H[A].id]!==void 0){const K=this.direction.getPosition(N[H[A].id])-k;W-=E*Math.pow(K*K+E,-1.5)}return W},P=(k,H)=>{let W=this.direction.getPosition(v);const A={};for(let K=0;K<k;K++){const U=j(W,H),z=C(W,H),G=40,ce=Math.max(-G,Math.min(G,Math.round(U/z)));if(W=W-ce,A[W]!==void 0)break;A[W]=K}return W},O=k=>{const H=this.direction.getPosition(v);if(n[v.id]===void 0){const G={};o(v,G),n[v.id]=G}const W=u(n[v.id]),A=W[2],K=W[3],U=k-H;let z=0;U>0?z=Math.min(U,K-this.options.hierarchical.nodeSpacing):U<0&&(z=-Math.min(-U,A-this.options.hierarchical.nodeSpacing)),z!=0&&(this._shiftBlock(v.id,z),r=!0)},I=k=>{const H=this.direction.getPosition(v),[W,A]=this._getSpaceAroundNode(v),K=k-H;let U=H;K>0?U=Math.min(H+(A-this.options.hierarchical.nodeSpacing),k):K<0&&(U=Math.max(H-(W-this.options.hierarchical.nodeSpacing),k)),U!==H&&(this.direction.setPosition(v,U),r=!0)};let M=P(g,S);O(M),M=P(g,b),I(M)},p=g=>{let v=this.hierarchical.getLevels();v=go(v).call(v);for(let w=0;w<g;w++){r=!1;for(let b=0;b<v.length;b++){const _=v[b],E=this.hierarchical.distributionOrdering[_];for(let N=0;N<E.length;N++)f(1e3,E[N])}if(r!==!0)break}},m=g=>{let v=this.hierarchical.getLevels();v=go(v).call(v);for(let w=0;w<g&&(r=!1,d(h,v,!0),r===!0);w++);},y=()=>{for(const g in this.body.nodes)Object.prototype.hasOwnProperty.call(this.body.nodes,g)&&this._centerParent(this.body.nodes[g])},x=()=>{let g=this.hierarchical.getLevels();g=go(g).call(g);for(let v=0;v<g.length;v++){const w=g[v],b=this.hierarchical.distributionOrdering[w];for(let _=0;_<b.length;_++)this._centerParent(b[_])}};this.options.hierarchical.blockShifting===!0&&(m(5),y()),this.options.hierarchical.edgeMinimization===!0&&p(20),this.options.hierarchical.parentCentralization===!0&&x(),i()}_getSpaceAroundNode(e,r){let n=!0;r===void 0&&(n=!1);const i=this.hierarchical.levels[e.id];if(i!==void 0){const s=this.hierarchical.distributionIndex[e.id],a=this.direction.getPosition(e),o=this.hierarchical.distributionOrdering[i];let u=1e9,c=1e9;if(s!==0){const d=o[s-1];if(n===!0&&r[d.id]===void 0||n===!1){const h=this.direction.getPosition(d);u=a-h}}if(s!=o.length-1){const d=o[s+1];if(n===!0&&r[d.id]===void 0||n===!1){const h=this.direction.getPosition(d);c=Math.min(c,h-a)}}return[u,c]}else return[0,0]}_centerParent(e){if(this.hierarchical.parentReference[e.id]){const r=this.hierarchical.parentReference[e.id];for(let n=0;n<r.length;n++){const i=r[n],s=this.body.nodes[i],a=this.hierarchical.childrenReference[i];if(a!==void 0){const o=this._getCenterPosition(a),u=this.direction.getPosition(s),[c,d]=this._getSpaceAroundNode(s),h=u-o;(h<0&&Math.abs(h)<d-this.options.hierarchical.nodeSpacing||h>0&&Math.abs(h)<c-this.options.hierarchical.nodeSpacing)&&this.direction.setPosition(s,o)}}}}_placeNodesByHierarchy(e){this.positionedNodes={};for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r;let i=Ft(e[n]);i=this._indexArrayToNodes(i),Hl(r=this.direction).call(r,i);let s=0;for(let a=0;a<i.length;a++){const o=i[a];if(this.positionedNodes[o.id]===void 0){const u=this.options.hierarchical.nodeSpacing;let c=u*s;s>0&&(c=this.direction.getPosition(i[a-1])+u),this.direction.setPosition(o,c,n),this._validatePositionAndContinue(o,n,c),s++}}}}_placeBranchNodes(e,r){var n;const i=this.hierarchical.childrenReference[e];if(i===void 0)return;const s=[];for(let o=0;o<i.length;o++)s.push(this.body.nodes[i[o]]);Hl(n=this.direction).call(n,s);for(let o=0;o<s.length;o++){const u=s[o],c=this.hierarchical.levels[u.id];if(c>r&&this.positionedNodes[u.id]===void 0){const d=this.options.hierarchical.nodeSpacing;let h;o===0?h=this.direction.getPosition(this.body.nodes[e]):h=this.direction.getPosition(s[o-1])+d,this.direction.setPosition(u,h,c),this._validatePositionAndContinue(u,c,h)}else return}const a=this._getCenterPosition(s);this.direction.setPosition(this.body.nodes[e],a,r)}_validatePositionAndContinue(e,r,n){if(this.hierarchical.isTree){if(this.lastNodeOnLevel[r]!==void 0){const i=this.direction.getPosition(this.body.nodes[this.lastNodeOnLevel[r]]);if(n-i<this.options.hierarchical.nodeSpacing){const s=i+this.options.hierarchical.nodeSpacing-n,a=this._findCommonParent(this.lastNodeOnLevel[r],e.id);this._shiftBlock(a.withChild,s)}}this.lastNodeOnLevel[r]=e.id,this.positionedNodes[e.id]=!0,this._placeBranchNodes(e.id,r)}}_indexArrayToNodes(e){const r=[];for(let n=0;n<e.length;n++)r.push(this.body.nodes[e[n]]);return r}_getDistribution(){const e={};let r,n;for(r in this.body.nodes)if(Object.prototype.hasOwnProperty.call(this.body.nodes,r)){n=this.body.nodes[r];const i=this.hierarchical.levels[r]===void 0?0:this.hierarchical.levels[r];this.direction.fix(n,i),e[i]===void 0&&(e[i]={}),e[i][r]=n}return e}_getActiveEdges(e){const r=[];return ze(e.edges,n=>{var i;ot(i=this.body.edgeIndices).call(i,n.id)!==-1&&r.push(n)}),r}_getHubSizes(){const e={},r=this.body.nodeIndices;ze(r,i=>{const s=this.body.nodes[i],a=this._getActiveEdges(s).length;e[a]=!0});const n=[];return ze(e,i=>{n.push(Number(i))}),Hl(n).call(n,function(i,s){return s-i}),n}_determineLevelsByHubsize(){const e=(n,i)=>{this.hierarchical.levelDownstream(n,i)},r=this._getHubSizes();for(let n=0;n<r.length;++n){const i=r[n];if(i===0)break;ze(this.body.nodeIndices,s=>{const a=this.body.nodes[s];i===this._getActiveEdges(a).length&&this._crawlNetwork(e,s)})}}_determineLevelsCustomCallback(){const r=function(i,s,a){},n=(i,s,a)=>{let o=this.hierarchical.levels[i.id];o===void 0&&(o=this.hierarchical.levels[i.id]=1e5);const u=r(zr.cloneOptions(i,"node"),zr.cloneOptions(s,"node"),zr.cloneOptions(a,"edge"));this.hierarchical.levels[s.id]=o+u};this._crawlNetwork(n),this.hierarchical.setMinLevelToZero()}_determineLevelsDirected(){var e;const r=FQ(e=this.body.nodeIndices).call(e,(n,i)=>(n.set(i,this.body.nodes[i]),n),new xP);this.options.hierarchical.shakeTowards==="roots"?this.hierarchical.levels=Z1e(r):this.hierarchical.levels=J1e(r),this.hierarchical.setMinLevelToZero()}_generateMap(){const e=(r,n)=>{this.hierarchical.levels[n.id]>this.hierarchical.levels[r.id]&&this.hierarchical.addRelation(r.id,n.id)};this._crawlNetwork(e),this.hierarchical.checkIfTree()}_crawlNetwork(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:function(){},r=arguments.length>1?arguments[1]:void 0;const n={},i=(s,a)=>{if(n[s.id]===void 0){this.hierarchical.setTreeIndex(s,a),n[s.id]=!0;let o;const u=this._getActiveEdges(s);for(let c=0;c<u.length;c++){const d=u[c];d.connected===!0&&(d.toId==s.id?o=d.from:o=d.to,s.id!=o.id&&(e(s,o,d),i(o,a)))}}};if(r===void 0){let s=0;for(let a=0;a<this.body.nodeIndices.length;a++){const o=this.body.nodeIndices[a];if(n[o]===void 0){const u=this.body.nodes[o];i(u,s),s+=1}}}else{const s=this.body.nodes[r];if(s===void 0){console.error("Node not found:",r);return}i(s)}}_shiftBlock(e,r){const n={},i=s=>{if(n[s])return;n[s]=!0,this.direction.shift(s,r);const a=this.hierarchical.childrenReference[s];if(a!==void 0)for(let o=0;o<a.length;o++)i(a[o])};i(e)}_findCommonParent(e,r){const n={},i=(a,o)=>{const u=this.hierarchical.parentReference[o];if(u!==void 0)for(let c=0;c<u.length;c++){const d=u[c];a[d]=!0,i(a,d)}},s=(a,o)=>{const u=this.hierarchical.parentReference[o];if(u!==void 0)for(let c=0;c<u.length;c++){const d=u[c];if(a[d]!==void 0)return{foundParent:d,withChild:o};const h=s(a,d);if(h.foundParent!==null)return h}return{foundParent:null,withChild:o}};return i(n,e),s(n,r)}setDirectionStrategy(){this.options.hierarchical.direction==="UD"||this.options.hierarchical.direction==="DU"?this.direction=new U1e(this):this.direction=new W1e(this)}_getCenterPosition(e){let r=1e9,n=-1e9;for(let i=0;i<e.length;i++){let s;if(e[i].id!==void 0)s=e[i];else{const o=e[i];s=this.body.nodes[o]}const a=this.direction.getPosition(s);r=Math.min(r,a),n=Math.max(n,a)}return .5*(r+n)}}class rxe{constructor(e,r,n,i){var s,a;this.body=e,this.canvas=r,this.selectionHandler=n,this.interactionHandler=i,this.editMode=!1,this.manipulationDiv=void 0,this.editModeDiv=void 0,this.closeDiv=void 0,this._domEventListenerCleanupQueue=[],this.temporaryUIFunctions={},this.temporaryEventFunctions=[],this.touchTime=0,this.temporaryIds={nodes:[],edges:[]},this.guiEnabled=!1,this.inMode=!1,this.selectedControlNode=void 0,this.options={},this.defaultOptions={enabled:!1,initiallyActive:!1,addNode:!0,addEdge:!0,editNode:void 0,editEdge:!0,deleteNode:!0,deleteEdge:!0,controlNodeStyle:{shape:"dot",size:6,color:{background:"#ff0000",border:"#3c3c3c",highlight:{background:"#07f968",border:"#3c3c3c"}},borderWidth:2,borderWidthSelected:2}},er(this.options,this.defaultOptions),this.body.emitter.on("destroy",()=>{this._clean()}),this.body.emitter.on("_dataChanged",ne(s=this._restore).call(s,this)),this.body.emitter.on("_resetData",ne(a=this._restore).call(a,this))}_restore(){this.inMode!==!1&&(this.options.initiallyActive===!0?this.enableEditMode():this.disableEditMode())}setOptions(e,r,n){r!==void 0&&(r.locale!==void 0?this.options.locale=r.locale:this.options.locale=n.locale,r.locales!==void 0?this.options.locales=r.locales:this.options.locales=n.locales),e!==void 0&&(typeof e=="boolean"?this.options.enabled=e:(this.options.enabled=!0,yt(this.options,e)),this.options.initiallyActive===!0&&(this.editMode=!0),this._setup())}toggleEditMode(){this.editMode===!0?this.disableEditMode():this.enableEditMode()}enableEditMode(){this.editMode=!0,this._clean(),this.guiEnabled===!0&&(this.manipulationDiv.style.display="block",this.closeDiv.style.display="block",this.editModeDiv.style.display="none",this.showManipulatorToolbar())}disableEditMode(){this.editMode=!1,this._clean(),this.guiEnabled===!0&&(this.manipulationDiv.style.display="none",this.closeDiv.style.display="none",this.editModeDiv.style.display="block",this._createEditButton())}showManipulatorToolbar(){if(this._clean(),this.manipulationDOM={},this.guiEnabled===!0){var e,r;this.editMode=!0,this.manipulationDiv.style.display="block",this.closeDiv.style.display="block";const n=this.selectionHandler.getSelectedNodeCount(),i=this.selectionHandler.getSelectedEdgeCount(),s=n+i,a=this.options.locales[this.options.locale];let o=!1;this.options.addNode!==!1&&(this._createAddNodeButton(a),o=!0),this.options.addEdge!==!1&&(o===!0?this._createSeperator(1):o=!0,this._createAddEdgeButton(a)),n===1&&typeof this.options.editNode=="function"?(o===!0?this._createSeperator(2):o=!0,this._createEditNodeButton(a)):i===1&&n===0&&this.options.editEdge!==!1&&(o===!0?this._createSeperator(3):o=!0,this._createEditEdgeButton(a)),s!==0&&(n>0&&this.options.deleteNode!==!1?(o===!0&&this._createSeperator(4),this._createDeleteButton(a)):n===0&&this.options.deleteEdge!==!1&&(o===!0&&this._createSeperator(4),this._createDeleteButton(a))),this._bindElementEvents(this.closeDiv,ne(e=this.toggleEditMode).call(e,this)),this._temporaryBindEvent("select",ne(r=this.showManipulatorToolbar).call(r,this))}this.body.emitter.emit("_redraw")}addNodeMode(){var e;if(this.editMode!==!0&&this.enableEditMode(),this._clean(),this.inMode="addNode",this.guiEnabled===!0){var r;const n=this.options.locales[this.options.locale];this.manipulationDOM={},this._createBackButton(n),this._createSeperator(),this._createDescription(n.addDescription||this.options.locales.en.addDescription),this._bindElementEvents(this.closeDiv,ne(r=this.toggleEditMode).call(r,this))}this._temporaryBindEvent("click",ne(e=this._performAddNode).call(e,this))}editNode(){this.editMode!==!0&&this.enableEditMode(),this._clean();const e=this.selectionHandler.getSelectedNodes()[0];if(e!==void 0)if(this.inMode="editNode",typeof this.options.editNode=="function")if(e.isCluster!==!0){const r=yt({},e.options,!1);if(r.x=e.x,r.y=e.y,this.options.editNode.length===2)this.options.editNode(r,n=>{n!=null&&this.inMode==="editNode"&&this.body.data.nodes.getDataSet().update(n),this.showManipulatorToolbar()});else throw new Error("The function for edit does not support two arguments (data, callback)")}else alert(this.options.locales[this.options.locale].editClusterError||this.options.locales.en.editClusterError);else throw new Error("No function has been configured to handle the editing of nodes.");else this.showManipulatorToolbar()}addEdgeMode(){var e,r,n,i,s;if(this.editMode!==!0&&this.enableEditMode(),this._clean(),this.inMode="addEdge",this.guiEnabled===!0){var a;const o=this.options.locales[this.options.locale];this.manipulationDOM={},this._createBackButton(o),this._createSeperator(),this._createDescription(o.edgeDescription||this.options.locales.en.edgeDescription),this._bindElementEvents(this.closeDiv,ne(a=this.toggleEditMode).call(a,this))}this._temporaryBindUI("onTouch",ne(e=this._handleConnect).call(e,this)),this._temporaryBindUI("onDragEnd",ne(r=this._finishConnect).call(r,this)),this._temporaryBindUI("onDrag",ne(n=this._dragControlNode).call(n,this)),this._temporaryBindUI("onRelease",ne(i=this._finishConnect).call(i,this)),this._temporaryBindUI("onDragStart",ne(s=this._dragStartEdge).call(s,this)),this._temporaryBindUI("onHold",()=>{})}editEdgeMode(){if(this.editMode!==!0&&this.enableEditMode(),this._clean(),this.inMode="editEdge",typeof this.options.editEdge=="object"&&typeof this.options.editEdge.editWithoutDrag=="function"&&(this.edgeBeingEditedId=this.selectionHandler.getSelectedEdgeIds()[0],this.edgeBeingEditedId!==void 0)){const a=this.body.edges[this.edgeBeingEditedId];this._performEditEdge(a.from.id,a.to.id);return}if(this.guiEnabled===!0){var e;const a=this.options.locales[this.options.locale];this.manipulationDOM={},this._createBackButton(a),this._createSeperator(),this._createDescription(a.editEdgeDescription||this.options.locales.en.editEdgeDescription),this._bindElementEvents(this.closeDiv,ne(e=this.toggleEditMode).call(e,this))}if(this.edgeBeingEditedId=this.selectionHandler.getSelectedEdgeIds()[0],this.edgeBeingEditedId!==void 0){var r,n,i,s;const a=this.body.edges[this.edgeBeingEditedId],o=this._getNewTargetNode(a.from.x,a.from.y),u=this._getNewTargetNode(a.to.x,a.to.y);this.temporaryIds.nodes.push(o.id),this.temporaryIds.nodes.push(u.id),this.body.nodes[o.id]=o,this.body.nodeIndices.push(o.id),this.body.nodes[u.id]=u,this.body.nodeIndices.push(u.id),this._temporaryBindUI("onTouch",ne(r=this._controlNodeTouch).call(r,this)),this._temporaryBindUI("onTap",()=>{}),this._temporaryBindUI("onHold",()=>{}),this._temporaryBindUI("onDragStart",ne(n=this._controlNodeDragStart).call(n,this)),this._temporaryBindUI("onDrag",ne(i=this._controlNodeDrag).call(i,this)),this._temporaryBindUI("onDragEnd",ne(s=this._controlNodeDragEnd).call(s,this)),this._temporaryBindUI("onMouseMove",()=>{}),this._temporaryBindEvent("beforeDrawing",c=>{const d=a.edgeType.findBorderPositions(c);o.selected===!1&&(o.x=d.from.x,o.y=d.from.y),u.selected===!1&&(u.x=d.to.x,u.y=d.to.y)}),this.body.emitter.emit("_redraw")}else this.showManipulatorToolbar()}deleteSelected(){this.editMode!==!0&&this.enableEditMode(),this._clean(),this.inMode="delete";const e=this.selectionHandler.getSelectedNodeIds(),r=this.selectionHandler.getSelectedEdgeIds();let n;if(e.length>0){for(let i=0;i<e.length;i++)if(this.body.nodes[e[i]].isCluster===!0){alert(this.options.locales[this.options.locale].deleteClusterError||this.options.locales.en.deleteClusterError);return}typeof this.options.deleteNode=="function"&&(n=this.options.deleteNode)}else r.length>0&&typeof this.options.deleteEdge=="function"&&(n=this.options.deleteEdge);if(typeof n=="function"){const i={nodes:e,edges:r};if(n.length===2)n(i,s=>{s!=null&&this.inMode==="delete"?(this.body.data.edges.getDataSet().remove(s.edges),this.body.data.nodes.getDataSet().remove(s.nodes),this.body.emitter.emit("startSimulation"),this.showManipulatorToolbar()):(this.body.emitter.emit("startSimulation"),this.showManipulatorToolbar())});else throw new Error("The function for delete does not support two arguments (data, callback)")}else this.body.data.edges.getDataSet().remove(r),this.body.data.nodes.getDataSet().remove(e),this.body.emitter.emit("startSimulation"),this.showManipulatorToolbar()}_setup(){this.options.enabled===!0?(this.guiEnabled=!0,this._createWrappers(),this.editMode===!1?this._createEditButton():this.showManipulatorToolbar()):(this._removeManipulationDOM(),this.guiEnabled=!1)}_createWrappers(){if(this.manipulationDiv===void 0&&(this.manipulationDiv=document.createElement("div"),this.manipulationDiv.className="vis-manipulation",this.editMode===!0?this.manipulationDiv.style.display="block":this.manipulationDiv.style.display="none",this.canvas.frame.appendChild(this.manipulationDiv)),this.editModeDiv===void 0&&(this.editModeDiv=document.createElement("div"),this.editModeDiv.className="vis-edit-mode",this.editMode===!0?this.editModeDiv.style.display="none":this.editModeDiv.style.display="block",this.canvas.frame.appendChild(this.editModeDiv)),this.closeDiv===void 0){var e,r;this.closeDiv=document.createElement("button"),this.closeDiv.className="vis-close",this.closeDiv.setAttribute("aria-label",(e=(r=this.options.locales[this.options.locale])===null||r===void 0?void 0:r.close)!==null&&e!==void 0?e:this.options.locales.en.close),this.closeDiv.style.display=this.manipulationDiv.style.display,this.canvas.frame.appendChild(this.closeDiv)}}_getNewTargetNode(e,r){const n=yt({},this.options.controlNodeStyle);n.id="targetNode"+rd(),n.hidden=!1,n.physics=!1,n.x=e,n.y=r;const i=this.body.functions.createNode(n);return i.shape.boundingBox={left:e,right:e,top:r,bottom:r},i}_createEditButton(){var e;this._clean(),this.manipulationDOM={},Ms(this.editModeDiv);const r=this.options.locales[this.options.locale],n=this._createButton("editMode","vis-edit vis-edit-mode",r.edit||this.options.locales.en.edit);this.editModeDiv.appendChild(n),this._bindElementEvents(n,ne(e=this.toggleEditMode).call(e,this))}_clean(){this.inMode=!1,this.guiEnabled===!0&&(Ms(this.editModeDiv),Ms(this.manipulationDiv),this._cleanupDOMEventListeners()),this._cleanupTemporaryNodesAndEdges(),this._unbindTemporaryUIs(),this._unbindTemporaryEvents(),this.body.emitter.emit("restorePhysics")}_cleanupDOMEventListeners(){for(const r of os(e=this._domEventListenerCleanupQueue).call(e,0)){var e;r()}}_removeManipulationDOM(){this._clean(),Ms(this.manipulationDiv),Ms(this.editModeDiv),Ms(this.closeDiv),this.manipulationDiv&&this.canvas.frame.removeChild(this.manipulationDiv),this.editModeDiv&&this.canvas.frame.removeChild(this.editModeDiv),this.closeDiv&&this.canvas.frame.removeChild(this.closeDiv),this.manipulationDiv=void 0,this.editModeDiv=void 0,this.closeDiv=void 0}_createSeperator(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1;this.manipulationDOM["seperatorLineDiv"+e]=document.createElement("div"),this.manipulationDOM["seperatorLineDiv"+e].className="vis-separator-line",this.manipulationDiv.appendChild(this.manipulationDOM["seperatorLineDiv"+e])}_createAddNodeButton(e){var r;const n=this._createButton("addNode","vis-add",e.addNode||this.options.locales.en.addNode);this.manipulationDiv.appendChild(n),this._bindElementEvents(n,ne(r=this.addNodeMode).call(r,this))}_createAddEdgeButton(e){var r;const n=this._createButton("addEdge","vis-connect",e.addEdge||this.options.locales.en.addEdge);this.manipulationDiv.appendChild(n),this._bindElementEvents(n,ne(r=this.addEdgeMode).call(r,this))}_createEditNodeButton(e){var r;const n=this._createButton("editNode","vis-edit",e.editNode||this.options.locales.en.editNode);this.manipulationDiv.appendChild(n),this._bindElementEvents(n,ne(r=this.editNode).call(r,this))}_createEditEdgeButton(e){var r;const n=this._createButton("editEdge","vis-edit",e.editEdge||this.options.locales.en.editEdge);this.manipulationDiv.appendChild(n),this._bindElementEvents(n,ne(r=this.editEdgeMode).call(r,this))}_createDeleteButton(e){var r;let n;this.options.rtl?n="vis-delete-rtl":n="vis-delete";const i=this._createButton("delete",n,e.del||this.options.locales.en.del);this.manipulationDiv.appendChild(i),this._bindElementEvents(i,ne(r=this.deleteSelected).call(r,this))}_createBackButton(e){var r;const n=this._createButton("back","vis-back",e.back||this.options.locales.en.back);this.manipulationDiv.appendChild(n),this._bindElementEvents(n,ne(r=this.showManipulatorToolbar).call(r,this))}_createButton(e,r,n){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"vis-label";return this.manipulationDOM[e+"Div"]=document.createElement("button"),this.manipulationDOM[e+"Div"].className="vis-button "+r,this.manipulationDOM[e+"Label"]=document.createElement("div"),this.manipulationDOM[e+"Label"].className=i,this.manipulationDOM[e+"Label"].innerText=n,this.manipulationDOM[e+"Div"].appendChild(this.manipulationDOM[e+"Label"]),this.manipulationDOM[e+"Div"]}_createDescription(e){this.manipulationDOM.descriptionLabel=document.createElement("div"),this.manipulationDOM.descriptionLabel.className="vis-none",this.manipulationDOM.descriptionLabel.innerText=e,this.manipulationDiv.appendChild(this.manipulationDOM.descriptionLabel)}_temporaryBindEvent(e,r){this.temporaryEventFunctions.push({event:e,boundFunction:r}),this.body.emitter.on(e,r)}_temporaryBindUI(e,r){if(this.body.eventListeners[e]!==void 0)this.temporaryUIFunctions[e]=this.body.eventListeners[e],this.body.eventListeners[e]=r;else throw new Error("This UI function does not exist. Typo? You tried: "+e+" possible are: "+Ih(Ft(this.body.eventListeners)))}_unbindTemporaryUIs(){for(const e in this.temporaryUIFunctions)Object.prototype.hasOwnProperty.call(this.temporaryUIFunctions,e)&&(this.body.eventListeners[e]=this.temporaryUIFunctions[e],delete this.temporaryUIFunctions[e]);this.temporaryUIFunctions={}}_unbindTemporaryEvents(){for(let e=0;e<this.temporaryEventFunctions.length;e++){const r=this.temporaryEventFunctions[e].event,n=this.temporaryEventFunctions[e].boundFunction;this.body.emitter.off(r,n)}this.temporaryEventFunctions=[]}_bindElementEvents(e,r){const n=new Wl(e,{});Fp(n,r),this._domEventListenerCleanupQueue.push(()=>{n.destroy()});const i=s=>{let{keyCode:a,key:o}=s;(o==="Enter"||o===" "||a===13||a===32)&&r()};e.addEventListener("keyup",i,!1),this._domEventListenerCleanupQueue.push(()=>{e.removeEventListener("keyup",i,!1)})}_cleanupTemporaryNodesAndEdges(){for(let s=0;s<this.temporaryIds.edges.length;s++){var e;this.body.edges[this.temporaryIds.edges[s]].disconnect(),delete this.body.edges[this.temporaryIds.edges[s]];const a=ot(e=this.body.edgeIndices).call(e,this.temporaryIds.edges[s]);if(a!==-1){var r;os(r=this.body.edgeIndices).call(r,a,1)}}for(let s=0;s<this.temporaryIds.nodes.length;s++){var n;delete this.body.nodes[this.temporaryIds.nodes[s]];const a=ot(n=this.body.nodeIndices).call(n,this.temporaryIds.nodes[s]);if(a!==-1){var i;os(i=this.body.nodeIndices).call(i,a,1)}}this.temporaryIds={nodes:[],edges:[]}}_controlNodeTouch(e){this.selectionHandler.unselectAll(),this.lastTouch=this.body.functions.getPointer(e.center),this.lastTouch.translation=er({},this.body.view.translation)}_controlNodeDragStart(){const e=this.lastTouch,r=this.selectionHandler._pointerToPositionObject(e),n=this.body.nodes[this.temporaryIds.nodes[0]],i=this.body.nodes[this.temporaryIds.nodes[1]],s=this.body.edges[this.edgeBeingEditedId];this.selectedControlNode=void 0;const a=n.isOverlappingWith(r),o=i.isOverlappingWith(r);a===!0?(this.selectedControlNode=n,s.edgeType.from=n):o===!0&&(this.selectedControlNode=i,s.edgeType.to=i),this.selectedControlNode!==void 0&&this.selectionHandler.selectObject(this.selectedControlNode),this.body.emitter.emit("_redraw")}_controlNodeDrag(e){this.body.emitter.emit("disablePhysics");const r=this.body.functions.getPointer(e.center),n=this.canvas.DOMtoCanvas(r);this.selectedControlNode!==void 0?(this.selectedControlNode.x=n.x,this.selectedControlNode.y=n.y):this.interactionHandler.onDrag(e),this.body.emitter.emit("_redraw")}_controlNodeDragEnd(e){const r=this.body.functions.getPointer(e.center),n=this.selectionHandler._pointerToPositionObject(r),i=this.body.edges[this.edgeBeingEditedId];if(this.selectedControlNode===void 0)return;this.selectionHandler.unselectAll();const s=this.selectionHandler._getAllNodesOverlappingWith(n);let a;for(let o=s.length-1;o>=0;o--)if(s[o]!==this.selectedControlNode.id){a=this.body.nodes[s[o]];break}if(a!==void 0&&this.selectedControlNode!==void 0)if(a.isCluster===!0)alert(this.options.locales[this.options.locale].createEdgeError||this.options.locales.en.createEdgeError);else{const o=this.body.nodes[this.temporaryIds.nodes[0]];this.selectedControlNode.id===o.id?this._performEditEdge(a.id,i.to.id):this._performEditEdge(i.from.id,a.id)}else i.updateEdgeType(),this.body.emitter.emit("restorePhysics");this.body.emitter.emit("_redraw")}_handleConnect(e){if(new Date().valueOf()-this.touchTime>100){this.lastTouch=this.body.functions.getPointer(e.center),this.lastTouch.translation=er({},this.body.view.translation),this.interactionHandler.drag.pointer=this.lastTouch,this.interactionHandler.drag.translation=this.lastTouch.translation;const r=this.lastTouch,n=this.selectionHandler.getNodeAt(r);if(n!==void 0)if(n.isCluster===!0)alert(this.options.locales[this.options.locale].createEdgeError||this.options.locales.en.createEdgeError);else{const i=this._getNewTargetNode(n.x,n.y);this.body.nodes[i.id]=i,this.body.nodeIndices.push(i.id);const s=this.body.functions.createEdge({id:"connectionEdge"+rd(),from:n.id,to:i.id,physics:!1,smooth:{enabled:!0,type:"continuous",roundness:.5}});this.body.edges[s.id]=s,this.body.edgeIndices.push(s.id),this.temporaryIds.nodes.push(i.id),this.temporaryIds.edges.push(s.id)}this.touchTime=new Date().valueOf()}}_dragControlNode(e){const r=this.body.functions.getPointer(e.center),n=this.selectionHandler._pointerToPositionObject(r);let i;this.temporaryIds.edges[0]!==void 0&&(i=this.body.edges[this.temporaryIds.edges[0]].fromId);const s=this.selectionHandler._getAllNodesOverlappingWith(n);let a;for(let u=s.length-1;u>=0;u--){var o;if(ot(o=this.temporaryIds.nodes).call(o,s[u])===-1){a=this.body.nodes[s[u]];break}}if(e.controlEdge={from:i,to:a?a.id:void 0},this.selectionHandler.generateClickEvent("controlNodeDragging",e,r),this.temporaryIds.nodes[0]!==void 0){const u=this.body.nodes[this.temporaryIds.nodes[0]];u.x=this.canvas._XconvertDOMtoCanvas(r.x),u.y=this.canvas._YconvertDOMtoCanvas(r.y),this.body.emitter.emit("_redraw")}else this.interactionHandler.onDrag(e)}_finishConnect(e){const r=this.body.functions.getPointer(e.center),n=this.selectionHandler._pointerToPositionObject(r);let i;this.temporaryIds.edges[0]!==void 0&&(i=this.body.edges[this.temporaryIds.edges[0]].fromId);const s=this.selectionHandler._getAllNodesOverlappingWith(n);let a;for(let u=s.length-1;u>=0;u--){var o;if(ot(o=this.temporaryIds.nodes).call(o,s[u])===-1){a=this.body.nodes[s[u]];break}}this._cleanupTemporaryNodesAndEdges(),a!==void 0&&(a.isCluster===!0?alert(this.options.locales[this.options.locale].createEdgeError||this.options.locales.en.createEdgeError):this.body.nodes[i]!==void 0&&this.body.nodes[a.id]!==void 0&&this._performAddEdge(i,a.id)),e.controlEdge={from:i,to:a?a.id:void 0},this.selectionHandler.generateClickEvent("controlNodeDragEnd",e,r),this.body.emitter.emit("_redraw")}_dragStartEdge(e){const r=this.lastTouch;this.selectionHandler.generateClickEvent("dragStart",e,r,void 0,!0)}_performAddNode(e){const r={id:rd(),x:e.pointer.canvas.x,y:e.pointer.canvas.y,label:"new"};if(typeof this.options.addNode=="function")if(this.options.addNode.length===2)this.options.addNode(r,n=>{n!=null&&this.inMode==="addNode"&&this.body.data.nodes.getDataSet().add(n),this.showManipulatorToolbar()});else throw this.showManipulatorToolbar(),new Error("The function for add does not support two arguments (data,callback)");else this.body.data.nodes.getDataSet().add(r),this.showManipulatorToolbar()}_performAddEdge(e,r){const n={from:e,to:r};if(typeof this.options.addEdge=="function")if(this.options.addEdge.length===2)this.options.addEdge(n,i=>{i!=null&&this.inMode==="addEdge"&&(this.body.data.edges.getDataSet().add(i),this.selectionHandler.unselectAll(),this.showManipulatorToolbar())});else throw new Error("The function for connect does not support two arguments (data,callback)");else this.body.data.edges.getDataSet().add(n),this.selectionHandler.unselectAll(),this.showManipulatorToolbar()}_performEditEdge(e,r){const n={id:this.edgeBeingEditedId,from:e,to:r,label:this.body.data.edges.get(this.edgeBeingEditedId).label};let i=this.options.editEdge;if(typeof i=="object"&&(i=i.editWithoutDrag),typeof i=="function")if(i.length===2)i(n,s=>{s==null||this.inMode!=="editEdge"?(this.body.edges[n.id].updateEdgeType(),this.body.emitter.emit("_redraw"),this.showManipulatorToolbar()):(this.body.data.edges.getDataSet().update(s),this.selectionHandler.unselectAll(),this.showManipulatorToolbar())});else throw new Error("The function for edit does not support two arguments (data, callback)");else this.body.data.edges.getDataSet().update(n),this.selectionHandler.unselectAll(),this.showManipulatorToolbar()}}const ae="string",re="boolean",B="number",Fc="array",Se="object",UQ="dom",nxe="any",tN=["arrow","bar","box","circle","crow","curve","diamond","image","inv_curve","inv_triangle","triangle","vee"],rN={borderWidth:{number:B},borderWidthSelected:{number:B,undefined:"undefined"},brokenImage:{string:ae,undefined:"undefined"},chosen:{label:{boolean:re,function:"function"},node:{boolean:re,function:"function"},__type__:{object:Se,boolean:re}},color:{border:{string:ae},background:{string:ae},highlight:{border:{string:ae},background:{string:ae},__type__:{object:Se,string:ae}},hover:{border:{string:ae},background:{string:ae},__type__:{object:Se,string:ae}},__type__:{object:Se,string:ae}},opacity:{number:B,undefined:"undefined"},fixed:{x:{boolean:re},y:{boolean:re},__type__:{object:Se,boolean:re}},font:{align:{string:ae},color:{string:ae},size:{number:B},face:{string:ae},background:{string:ae},strokeWidth:{number:B},strokeColor:{string:ae},vadjust:{number:B},multi:{boolean:re,string:ae},bold:{color:{string:ae},size:{number:B},face:{string:ae},mod:{string:ae},vadjust:{number:B},__type__:{object:Se,string:ae}},boldital:{color:{string:ae},size:{number:B},face:{string:ae},mod:{string:ae},vadjust:{number:B},__type__:{object:Se,string:ae}},ital:{color:{string:ae},size:{number:B},face:{string:ae},mod:{string:ae},vadjust:{number:B},__type__:{object:Se,string:ae}},mono:{color:{string:ae},size:{number:B},face:{string:ae},mod:{string:ae},vadjust:{number:B},__type__:{object:Se,string:ae}},__type__:{object:Se,string:ae}},group:{string:ae,number:B,undefined:"undefined"},heightConstraint:{minimum:{number:B},valign:{string:ae},__type__:{object:Se,boolean:re,number:B}},hidden:{boolean:re},icon:{face:{string:ae},code:{string:ae},size:{number:B},color:{string:ae},weight:{string:ae,number:B},__type__:{object:Se}},id:{string:ae,number:B},image:{selected:{string:ae,undefined:"undefined"},unselected:{string:ae,undefined:"undefined"},__type__:{object:Se,string:ae}},imagePadding:{top:{number:B},right:{number:B},bottom:{number:B},left:{number:B},__type__:{object:Se,number:B}},label:{string:ae,undefined:"undefined"},labelHighlightBold:{boolean:re},level:{number:B,undefined:"undefined"},margin:{top:{number:B},right:{number:B},bottom:{number:B},left:{number:B},__type__:{object:Se,number:B}},mass:{number:B},physics:{boolean:re},scaling:{min:{number:B},max:{number:B},label:{enabled:{boolean:re},min:{number:B},max:{number:B},maxVisible:{number:B},drawThreshold:{number:B},__type__:{object:Se,boolean:re}},customScalingFunction:{function:"function"},__type__:{object:Se}},shadow:{enabled:{boolean:re},color:{string:ae},size:{number:B},x:{number:B},y:{number:B},__type__:{object:Se,boolean:re}},shape:{string:["custom","ellipse","circle","database","box","text","image","circularImage","diamond","dot","star","triangle","triangleDown","square","icon","hexagon"]},ctxRenderer:{function:"function"},shapeProperties:{borderDashes:{boolean:re,array:Fc},borderRadius:{number:B},interpolation:{boolean:re},useImageSize:{boolean:re},useBorderWithImage:{boolean:re},coordinateOrigin:{string:["center","top-left"]},__type__:{object:Se}},size:{number:B},title:{string:ae,dom:UQ,undefined:"undefined"},value:{number:B,undefined:"undefined"},widthConstraint:{minimum:{number:B},maximum:{number:B},__type__:{object:Se,boolean:re,number:B}},x:{number:B},y:{number:B},__type__:{object:Se}},ixe={configure:{enabled:{boolean:re},filter:{boolean:re,string:ae,array:Fc,function:"function"},container:{dom:UQ},showButton:{boolean:re},__type__:{object:Se,boolean:re,string:ae,array:Fc,function:"function"}},edges:{arrows:{to:{enabled:{boolean:re},scaleFactor:{number:B},type:{string:tN},imageHeight:{number:B},imageWidth:{number:B},src:{string:ae},__type__:{object:Se,boolean:re}},middle:{enabled:{boolean:re},scaleFactor:{number:B},type:{string:tN},imageWidth:{number:B},imageHeight:{number:B},src:{string:ae},__type__:{object:Se,boolean:re}},from:{enabled:{boolean:re},scaleFactor:{number:B},type:{string:tN},imageWidth:{number:B},imageHeight:{number:B},src:{string:ae},__type__:{object:Se,boolean:re}},__type__:{string:["from","to","middle"],object:Se}},endPointOffset:{from:{number:B},to:{number:B},__type__:{object:Se,number:B}},arrowStrikethrough:{boolean:re},background:{enabled:{boolean:re},color:{string:ae},size:{number:B},dashes:{boolean:re,array:Fc},__type__:{object:Se,boolean:re}},chosen:{label:{boolean:re,function:"function"},edge:{boolean:re,function:"function"},__type__:{object:Se,boolean:re}},color:{color:{string:ae},highlight:{string:ae},hover:{string:ae},inherit:{string:["from","to","both"],boolean:re},opacity:{number:B},__type__:{object:Se,string:ae}},dashes:{boolean:re,array:Fc},font:{color:{string:ae},size:{number:B},face:{string:ae},background:{string:ae},strokeWidth:{number:B},strokeColor:{string:ae},align:{string:["horizontal","top","middle","bottom"]},vadjust:{number:B},multi:{boolean:re,string:ae},bold:{color:{string:ae},size:{number:B},face:{string:ae},mod:{string:ae},vadjust:{number:B},__type__:{object:Se,string:ae}},boldital:{color:{string:ae},size:{number:B},face:{string:ae},mod:{string:ae},vadjust:{number:B},__type__:{object:Se,string:ae}},ital:{color:{string:ae},size:{number:B},face:{string:ae},mod:{string:ae},vadjust:{number:B},__type__:{object:Se,string:ae}},mono:{color:{string:ae},size:{number:B},face:{string:ae},mod:{string:ae},vadjust:{number:B},__type__:{object:Se,string:ae}},__type__:{object:Se,string:ae}},hidden:{boolean:re},hoverWidth:{function:"function",number:B},label:{string:ae,undefined:"undefined"},labelHighlightBold:{boolean:re},length:{number:B,undefined:"undefined"},physics:{boolean:re},scaling:{min:{number:B},max:{number:B},label:{enabled:{boolean:re},min:{number:B},max:{number:B},maxVisible:{number:B},drawThreshold:{number:B},__type__:{object:Se,boolean:re}},customScalingFunction:{function:"function"},__type__:{object:Se}},selectionWidth:{function:"function",number:B},selfReferenceSize:{number:B},selfReference:{size:{number:B},angle:{number:B},renderBehindTheNode:{boolean:re},__type__:{object:Se}},shadow:{enabled:{boolean:re},color:{string:ae},size:{number:B},x:{number:B},y:{number:B},__type__:{object:Se,boolean:re}},smooth:{enabled:{boolean:re},type:{string:["dynamic","continuous","discrete","diagonalCross","straightCross","horizontal","vertical","curvedCW","curvedCCW","cubicBezier"]},roundness:{number:B},forceDirection:{string:["horizontal","vertical","none"],boolean:re},__type__:{object:Se,boolean:re}},title:{string:ae,undefined:"undefined"},width:{number:B},widthConstraint:{maximum:{number:B},__type__:{object:Se,boolean:re,number:B}},value:{number:B,undefined:"undefined"},__type__:{object:Se}},groups:{useDefaultGroups:{boolean:re},__any__:rN,__type__:{object:Se}},interaction:{dragNodes:{boolean:re},dragView:{boolean:re},hideEdgesOnDrag:{boolean:re},hideEdgesOnZoom:{boolean:re},hideNodesOnDrag:{boolean:re},hover:{boolean:re},keyboard:{enabled:{boolean:re},speed:{x:{number:B},y:{number:B},zoom:{number:B},__type__:{object:Se}},bindToWindow:{boolean:re},autoFocus:{boolean:re},__type__:{object:Se,boolean:re}},multiselect:{boolean:re},navigationButtons:{boolean:re},selectable:{boolean:re},selectConnectedEdges:{boolean:re},hoverConnectedEdges:{boolean:re},tooltipDelay:{number:B},zoomView:{boolean:re},zoomSpeed:{number:B},__type__:{object:Se}},layout:{randomSeed:{undefined:"undefined",number:B,string:ae},improvedLayout:{boolean:re},clusterThreshold:{number:B},hierarchical:{enabled:{boolean:re},levelSeparation:{number:B},nodeSpacing:{number:B},treeSpacing:{number:B},blockShifting:{boolean:re},edgeMinimization:{boolean:re},parentCentralization:{boolean:re},direction:{string:["UD","DU","LR","RL"]},sortMethod:{string:["hubsize","directed"]},shakeTowards:{string:["leaves","roots"]},__type__:{object:Se,boolean:re}},__type__:{object:Se}},manipulation:{enabled:{boolean:re},initiallyActive:{boolean:re},addNode:{boolean:re,function:"function"},addEdge:{boolean:re,function:"function"},editNode:{function:"function"},editEdge:{editWithoutDrag:{function:"function"},__type__:{object:Se,boolean:re,function:"function"}},deleteNode:{boolean:re,function:"function"},deleteEdge:{boolean:re,function:"function"},controlNodeStyle:rN,__type__:{object:Se,boolean:re}},nodes:rN,physics:{enabled:{boolean:re},barnesHut:{theta:{number:B},gravitationalConstant:{number:B},centralGravity:{number:B},springLength:{number:B},springConstant:{number:B},damping:{number:B},avoidOverlap:{number:B},__type__:{object:Se}},forceAtlas2Based:{theta:{number:B},gravitationalConstant:{number:B},centralGravity:{number:B},springLength:{number:B},springConstant:{number:B},damping:{number:B},avoidOverlap:{number:B},__type__:{object:Se}},repulsion:{centralGravity:{number:B},springLength:{number:B},springConstant:{number:B},nodeDistance:{number:B},damping:{number:B},__type__:{object:Se}},hierarchicalRepulsion:{centralGravity:{number:B},springLength:{number:B},springConstant:{number:B},nodeDistance:{number:B},damping:{number:B},avoidOverlap:{number:B},__type__:{object:Se}},maxVelocity:{number:B},minVelocity:{number:B},solver:{string:["barnesHut","repulsion","hierarchicalRepulsion","forceAtlas2Based"]},stabilization:{enabled:{boolean:re},iterations:{number:B},updateInterval:{number:B},onlyDynamicEdges:{boolean:re},fit:{boolean:re},__type__:{object:Se,boolean:re}},timestep:{number:B},adaptiveTimestep:{boolean:re},wind:{x:{number:B},y:{number:B},__type__:{object:Se}},__type__:{object:Se,boolean:re}},autoResize:{boolean:re},clickToUse:{boolean:re},locale:{string:ae},locales:{__any__:{any:nxe},__type__:{object:Se}},height:{string:ae},width:{string:ae},__type__:{object:Se}},WQ={nodes:{borderWidth:[1,0,10,1],borderWidthSelected:[2,0,10,1],color:{border:["color","#2B7CE9"],background:["color","#97C2FC"],highlight:{border:["color","#2B7CE9"],background:["color","#D2E5FF"]},hover:{border:["color","#2B7CE9"],background:["color","#D2E5FF"]}},opacity:[0,0,1,.1],fixed:{x:!1,y:!1},font:{color:["color","#343434"],size:[14,0,100,1],face:["arial","verdana","tahoma"],background:["color","none"],strokeWidth:[0,0,50,1],strokeColor:["color","#ffffff"]},hidden:!1,labelHighlightBold:!0,physics:!0,scaling:{min:[10,0,200,1],max:[30,0,200,1],label:{enabled:!1,min:[14,0,200,1],max:[30,0,200,1],maxVisible:[30,0,200,1],drawThreshold:[5,0,20,1]}},shadow:{enabled:!1,color:"rgba(0,0,0,0.5)",size:[10,0,20,1],x:[5,-30,30,1],y:[5,-30,30,1]},shape:["ellipse","box","circle","database","diamond","dot","square","star","text","triangle","triangleDown","hexagon"],shapeProperties:{borderDashes:!1,borderRadius:[6,0,20,1],interpolation:!0,useImageSize:!1},size:[25,0,200,1]},edges:{arrows:{to:{enabled:!1,scaleFactor:[1,0,3,.05],type:"arrow"},middle:{enabled:!1,scaleFactor:[1,0,3,.05],type:"arrow"},from:{enabled:!1,scaleFactor:[1,0,3,.05],type:"arrow"}},endPointOffset:{from:[0,-10,10,1],to:[0,-10,10,1]},arrowStrikethrough:!0,color:{color:["color","#848484"],highlight:["color","#848484"],hover:["color","#848484"],inherit:["from","to","both",!0,!1],opacity:[1,0,1,.05]},dashes:!1,font:{color:["color","#343434"],size:[14,0,100,1],face:["arial","verdana","tahoma"],background:["color","none"],strokeWidth:[2,0,50,1],strokeColor:["color","#ffffff"],align:["horizontal","top","middle","bottom"]},hidden:!1,hoverWidth:[1.5,0,5,.1],labelHighlightBold:!0,physics:!0,scaling:{min:[1,0,100,1],max:[15,0,100,1],label:{enabled:!0,min:[14,0,200,1],max:[30,0,200,1],maxVisible:[30,0,200,1],drawThreshold:[5,0,20,1]}},selectionWidth:[1.5,0,5,.1],selfReferenceSize:[20,0,200,1],selfReference:{size:[20,0,200,1],angle:[Math.PI/2,-6*Math.PI,6*Math.PI,Math.PI/8],renderBehindTheNode:!0},shadow:{enabled:!1,color:"rgba(0,0,0,0.5)",size:[10,0,20,1],x:[5,-30,30,1],y:[5,-30,30,1]},smooth:{enabled:!0,type:["dynamic","continuous","discrete","diagonalCross","straightCross","horizontal","vertical","curvedCW","curvedCCW","cubicBezier"],forceDirection:["horizontal","vertical","none"],roundness:[.5,0,1,.05]},width:[1,0,30,1]},layout:{hierarchical:{enabled:!1,levelSeparation:[150,20,500,5],nodeSpacing:[100,20,500,5],treeSpacing:[200,20,500,5],blockShifting:!0,edgeMinimization:!0,parentCentralization:!0,direction:["UD","DU","LR","RL"],sortMethod:["hubsize","directed"],shakeTowards:["leaves","roots"]}},interaction:{dragNodes:!0,dragView:!0,hideEdgesOnDrag:!1,hideEdgesOnZoom:!1,hideNodesOnDrag:!1,hover:!1,keyboard:{enabled:!1,speed:{x:[10,0,40,1],y:[10,0,40,1],zoom:[.02,0,.1,.005]},bindToWindow:!0,autoFocus:!0},multiselect:!1,navigationButtons:!1,selectable:!0,selectConnectedEdges:!0,hoverConnectedEdges:!0,tooltipDelay:[300,0,1e3,25],zoomView:!0,zoomSpeed:[1,.1,2,.1]},manipulation:{enabled:!1,initiallyActive:!1},physics:{enabled:!0,barnesHut:{theta:[.5,.1,1,.05],gravitationalConstant:[-2e3,-3e4,0,50],centralGravity:[.3,0,10,.05],springLength:[95,0,500,5],springConstant:[.04,0,1.2,.005],damping:[.09,0,1,.01],avoidOverlap:[0,0,1,.01]},forceAtlas2Based:{theta:[.5,.1,1,.05],gravitationalConstant:[-50,-500,0,1],centralGravity:[.01,0,1,.005],springLength:[95,0,500,5],springConstant:[.08,0,1.2,.005],damping:[.4,0,1,.01],avoidOverlap:[0,0,1,.01]},repulsion:{centralGravity:[.2,0,10,.05],springLength:[200,0,500,5],springConstant:[.05,0,1.2,.005],nodeDistance:[100,0,500,5],damping:[.09,0,1,.01]},hierarchicalRepulsion:{centralGravity:[.2,0,10,.05],springLength:[100,0,500,5],springConstant:[.01,0,1.2,.005],nodeDistance:[120,0,500,5],damping:[.09,0,1,.01],avoidOverlap:[0,0,1,.01]},maxVelocity:[50,0,150,1],minVelocity:[.1,.01,.5,.01],solver:["barnesHut","forceAtlas2Based","repulsion","hierarchicalRepulsion"],timestep:[.5,.01,1,.01],wind:{x:[0,-10,10,.1],y:[0,-10,10,.1]}}},sxe=(t,e,r)=>{var n;return!!(pa(t).call(t,"physics")&&pa(n=WQ.physics.solver).call(n,e)&&r.physics.solver!==e&&e!=="wind")};class axe{constructor(){}getDistances(e,r,n){const i={},s=e.edges;for(let o=0;o<r.length;o++){const u=r[o],c={};i[u]=c;for(let d=0;d<r.length;d++)c[r[d]]=o==d?0:1e9}for(let o=0;o<n.length;o++){const u=s[n[o]];u.connected===!0&&i[u.fromId]!==void 0&&i[u.toId]!==void 0&&(i[u.fromId][u.toId]=1,i[u.toId][u.fromId]=1)}const a=r.length;for(let o=0;o<a;o++){const u=r[o],c=i[u];for(let d=0;d<a-1;d++){const h=r[d],f=i[h];for(let p=d+1;p<a;p++){const m=r[p],y=i[m],x=Math.min(f[m],f[u]+c[m]);f[m]=x,y[h]=x}}}return i}}class oxe{constructor(e,r,n){this.body=e,this.springLength=r,this.springConstant=n,this.distanceSolver=new axe}setOptions(e){e&&(e.springLength&&(this.springLength=e.springLength),e.springConstant&&(this.springConstant=e.springConstant))}solve(e,r){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;const i=this.distanceSolver.getDistances(this.body,e,r);this._createL_matrix(i),this._createK_matrix(i),this._createE_matrix();const s=.01,a=1;let o=0;const u=Math.max(1e3,Math.min(10*this.body.nodeIndices.length,6e3)),c=5;let d=1e9,h=0,f=0,p=0,m=0,y=0;for(;d>s&&o<u;)for(o+=1,[h,d,f,p]=this._getHighestEnergyNode(n),m=d,y=0;m>a&&y<c;)y+=1,this._moveNode(h,f,p),[m,f,p]=this._getEnergy(h)}_getHighestEnergyNode(e){const r=this.body.nodeIndices,n=this.body.nodes;let i=0,s=r[0],a=0,o=0;for(let u=0;u<r.length;u++){const c=r[u];if(n[c].predefinedPosition!==!0||n[c].isCluster===!0&&e===!0||n[c].options.fixed.x!==!0||n[c].options.fixed.y!==!0){const[d,h,f]=this._getEnergy(c);i<d&&(i=d,s=c,a=h,o=f)}}return[s,i,a,o]}_getEnergy(e){const[r,n]=this.E_sums[e];return[Math.sqrt(r**2+n**2),r,n]}_moveNode(e,r,n){const i=this.body.nodeIndices,s=this.body.nodes;let a=0,o=0,u=0;const c=s[e].x,d=s[e].y,h=this.K_matrix[e],f=this.L_matrix[e];for(let b=0;b<i.length;b++){const _=i[b];if(_!==e){const E=s[_].x,N=s[_].y,S=h[_],j=f[_],C=1/((c-E)**2+(d-N)**2)**1.5;a+=S*(1-j*(d-N)**2*C),o+=S*(j*(c-E)*(d-N)*C),u+=S*(1-j*(c-E)**2*C)}}const p=a,m=o,y=r,x=u,g=n,v=(y/p+g/m)/(m/p-x/m),w=-(m*v+y)/p;s[e].x+=w,s[e].y+=v,this._updateE_matrix(e)}_createL_matrix(e){const r=this.body.nodeIndices,n=this.springLength;this.L_matrix=[];for(let i=0;i<r.length;i++){this.L_matrix[r[i]]={};for(let s=0;s<r.length;s++)this.L_matrix[r[i]][r[s]]=n*e[r[i]][r[s]]}}_createK_matrix(e){const r=this.body.nodeIndices,n=this.springConstant;this.K_matrix=[];for(let i=0;i<r.length;i++){this.K_matrix[r[i]]={};for(let s=0;s<r.length;s++)this.K_matrix[r[i]][r[s]]=n*e[r[i]][r[s]]**-2}}_createE_matrix(){const e=this.body.nodeIndices,r=this.body.nodes;this.E_matrix={},this.E_sums={};for(let n=0;n<e.length;n++)this.E_matrix[e[n]]=[];for(let n=0;n<e.length;n++){const i=e[n],s=r[i].x,a=r[i].y;let o=0,u=0;for(let c=n;c<e.length;c++){const d=e[c];if(d!==i){const h=r[d].x,f=r[d].y,p=1/Math.sqrt((s-h)**2+(a-f)**2);this.E_matrix[i][c]=[this.K_matrix[i][d]*(s-h-this.L_matrix[i][d]*(s-h)*p),this.K_matrix[i][d]*(a-f-this.L_matrix[i][d]*(a-f)*p)],this.E_matrix[d][n]=this.E_matrix[i][c],o+=this.E_matrix[i][c][0],u+=this.E_matrix[i][c][1]}}this.E_sums[i]=[o,u]}}_updateE_matrix(e){const r=this.body.nodeIndices,n=this.body.nodes,i=this.E_matrix[e],s=this.K_matrix[e],a=this.L_matrix[e],o=n[e].x,u=n[e].y;let c=0,d=0;for(let h=0;h<r.length;h++){const f=r[h];if(f!==e){const p=i[h],m=p[0],y=p[1],x=n[f].x,g=n[f].y,v=1/Math.sqrt((o-x)**2+(u-g)**2),w=s[f]*(o-x-a[f]*(o-x)*v),b=s[f]*(u-g-a[f]*(u-g)*v);i[h]=[w,b],c+=w,d+=b;const _=this.E_sums[f];_[0]+=w-m,_[1]+=b-y}}this.E_sums[e]=[c,d]}}function we(t,e,r){var n,i,s,a;if(!(this instanceof we))throw new SyntaxError("Constructor must be called with the new operator");this.options={},this.defaultOptions={locale:"en",locales:Ige,clickToUse:!1},er(this.options,this.defaultOptions),this.body={container:t,nodes:{},nodeIndices:[],edges:{},edgeIndices:[],emitter:{on:ne(n=this.on).call(n,this),off:ne(i=this.off).call(i,this),emit:ne(s=this.emit).call(s,this),once:ne(a=this.once).call(a,this)},eventListeners:{onTap:function(){},onTouch:function(){},onDoubleTap:function(){},onHold:function(){},onDragStart:function(){},onDrag:function(){},onDragEnd:function(){},onMouseWheel:function(){},onPinch:function(){},onMouseMove:function(){},onRelease:function(){},onContext:function(){}},data:{nodes:null,edges:null},functions:{createNode:function(){},createEdge:function(){},getPointer:function(){}},modules:{},view:{scale:1,translation:{x:0,y:0}},selectionBox:{show:!1,position:{start:{x:0,y:0},end:{x:0,y:0}}}},this.bindEventListeners(),this.images=new kge(()=>this.body.emitter.emit("_requestRedraw")),this.groups=new Yge,this.canvas=new Ube(this.body),this.selectionHandler=new E1e(this.body,this.canvas),this.interactionHandler=new Kbe(this.body,this.canvas,this.selectionHandler),this.view=new Vbe(this.body,this.canvas),this.renderer=new Abe(this.body,this.canvas),this.physics=new Tbe(this.body),this.layoutEngine=new txe(this.body),this.clustering=new qbe(this.body),this.manipulation=new rxe(this.body,this.canvas,this.selectionHandler,this.interactionHandler),this.nodesHandler=new ibe(this.body,this.images,this.groups,this.layoutEngine),this.edgesHandler=new Ebe(this.body,this.images,this.groups),this.body.modules.kamadaKawai=new oxe(this.body,150,.05),this.body.modules.clustering=this.clustering,this.canvas._create(),this.setOptions(r),this.setData(e)}xY(we.prototype);we.prototype.setOptions=function(t){if(t===null&&(t=void 0),t!==void 0){if(lge.validate(t,ixe)===!0&&console.error("%cErrors have been found in the supplied options object.",mQ),dc(["locale","locales","clickToUse"],this.options,t),t.locale!==void 0&&(t.locale=Rge(t.locales||this.options.locales,t.locale)),t=this.layoutEngine.setOptions(t.layout,t),this.canvas.setOptions(t),this.groups.setOptions(t.groups),this.nodesHandler.setOptions(t.nodes),this.edgesHandler.setOptions(t.edges),this.physics.setOptions(t.physics),this.manipulation.setOptions(t.manipulation,t,this.options),this.interactionHandler.setOptions(t.interaction),this.renderer.setOptions(t.interaction),this.selectionHandler.setOptions(t.interaction),t.groups!==void 0&&this.body.emitter.emit("refreshNodes"),"configure"in t&&(this.configurator||(this.configurator=new age(this,this.body.container,WQ,this.canvas.pixelRatio,sxe)),this.configurator.setOptions(t.configure)),this.configurator&&this.configurator.options.enabled===!0){const n={nodes:{},edges:{},layout:{},interaction:{},manipulation:{},physics:{},global:{}};yt(n.nodes,this.nodesHandler.options),yt(n.edges,this.edgesHandler.options),yt(n.layout,this.layoutEngine.options),yt(n.interaction,this.selectionHandler.options),yt(n.interaction,this.renderer.options),yt(n.interaction,this.interactionHandler.options),yt(n.manipulation,this.manipulation.options),yt(n.physics,this.physics.options),yt(n.global,this.canvas.options),yt(n.global,this.options),this.configurator.setModuleOptions(n)}t.clickToUse!==void 0?t.clickToUse===!0?this.activator===void 0&&(this.activator=new sge(this.canvas.frame),this.activator.on("change",()=>{this.body.emitter.emit("activate")})):(this.activator!==void 0&&(this.activator.destroy(),delete this.activator),this.body.emitter.emit("activate")):this.body.emitter.emit("activate"),this.canvas.setSize(),this.body.emitter.emit("startSimulation")}};we.prototype._updateVisibleIndices=function(){const t=this.body.nodes,e=this.body.edges;this.body.nodeIndices=[],this.body.edgeIndices=[];for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&!this.clustering._isClusteredNode(r)&&t[r].options.hidden===!1&&this.body.nodeIndices.push(t[r].id);for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)){const n=e[r],i=t[n.fromId],s=t[n.toId],a=i!==void 0&&s!==void 0;!this.clustering._isClusteredEdge(r)&&n.options.hidden===!1&&a&&i.options.hidden===!1&&s.options.hidden===!1&&this.body.edgeIndices.push(n.id)}};we.prototype.bindEventListeners=function(){this.body.emitter.on("_dataChanged",()=>{this.edgesHandler._updateState(),this.body.emitter.emit("_dataUpdated")}),this.body.emitter.on("_dataUpdated",()=>{this.clustering._updateState(),this._updateVisibleIndices(),this._updateValueRange(this.body.nodes),this._updateValueRange(this.body.edges),this.body.emitter.emit("startSimulation"),this.body.emitter.emit("_requestRedraw")})};we.prototype.setData=function(t){if(this.body.emitter.emit("resetPhysics"),this.body.emitter.emit("_resetData"),this.selectionHandler.unselectAll(),t&&t.dot&&(t.nodes||t.edges))throw new SyntaxError('Data must contain either parameter "dot" or  parameter pair "nodes" and "edges", but not both.');if(this.setOptions(t&&t.options),t&&t.dot){console.warn("The dot property has been deprecated. Please use the static convertDot method to convert DOT into vis.network format and use the normal data format with nodes and edges. This converter is used like this: var data = vis.network.convertDot(dotString);");const e=yge(t.dot);this.setData(e);return}else if(t&&t.gephi){console.warn("The gephi property has been deprecated. Please use the static convertGephi method to convert gephi into vis.network format and use the normal data format with nodes and edges. This converter is used like this: var data = vis.network.convertGephi(gephiJson);");const e=bge(t.gephi);this.setData(e);return}else this.nodesHandler.setData(t&&t.nodes,!0),this.edgesHandler.setData(t&&t.edges,!0);this.body.emitter.emit("_dataChanged"),this.body.emitter.emit("_dataLoaded"),this.body.emitter.emit("initPhysics")};we.prototype.destroy=function(){this.body.emitter.emit("destroy"),this.body.emitter.off(),this.off(),delete this.groups,delete this.canvas,delete this.selectionHandler,delete this.interactionHandler,delete this.view,delete this.renderer,delete this.physics,delete this.layoutEngine,delete this.clustering,delete this.manipulation,delete this.nodesHandler,delete this.edgesHandler,delete this.configurator,delete this.images;for(const t in this.body.nodes)Object.prototype.hasOwnProperty.call(this.body.nodes,t)&&delete this.body.nodes[t];for(const t in this.body.edges)Object.prototype.hasOwnProperty.call(this.body.edges,t)&&delete this.body.edges[t];Ms(this.body.container)};we.prototype._updateValueRange=function(t){let e,r,n,i=0;for(e in t)if(Object.prototype.hasOwnProperty.call(t,e)){const s=t[e].getValue();s!==void 0&&(r=r===void 0?s:Math.min(s,r),n=n===void 0?s:Math.max(s,n),i+=s)}if(r!==void 0&&n!==void 0)for(e in t)Object.prototype.hasOwnProperty.call(t,e)&&t[e].setValueRange(r,n,i)};we.prototype.isActive=function(){return!this.activator||this.activator.active};we.prototype.setSize=function(){return this.canvas.setSize.apply(this.canvas,arguments)};we.prototype.canvasToDOM=function(){return this.canvas.canvasToDOM.apply(this.canvas,arguments)};we.prototype.DOMtoCanvas=function(){return this.canvas.DOMtoCanvas.apply(this.canvas,arguments)};we.prototype.findNode=function(){return this.clustering.findNode.apply(this.clustering,arguments)};we.prototype.isCluster=function(){return this.clustering.isCluster.apply(this.clustering,arguments)};we.prototype.openCluster=function(){return this.clustering.openCluster.apply(this.clustering,arguments)};we.prototype.cluster=function(){return this.clustering.cluster.apply(this.clustering,arguments)};we.prototype.getNodesInCluster=function(){return this.clustering.getNodesInCluster.apply(this.clustering,arguments)};we.prototype.clusterByConnection=function(){return this.clustering.clusterByConnection.apply(this.clustering,arguments)};we.prototype.clusterByHubsize=function(){return this.clustering.clusterByHubsize.apply(this.clustering,arguments)};we.prototype.updateClusteredNode=function(){return this.clustering.updateClusteredNode.apply(this.clustering,arguments)};we.prototype.getClusteredEdges=function(){return this.clustering.getClusteredEdges.apply(this.clustering,arguments)};we.prototype.getBaseEdge=function(){return this.clustering.getBaseEdge.apply(this.clustering,arguments)};we.prototype.getBaseEdges=function(){return this.clustering.getBaseEdges.apply(this.clustering,arguments)};we.prototype.updateEdge=function(){return this.clustering.updateEdge.apply(this.clustering,arguments)};we.prototype.clusterOutliers=function(){return this.clustering.clusterOutliers.apply(this.clustering,arguments)};we.prototype.getSeed=function(){return this.layoutEngine.getSeed.apply(this.layoutEngine,arguments)};we.prototype.enableEditMode=function(){return this.manipulation.enableEditMode.apply(this.manipulation,arguments)};we.prototype.disableEditMode=function(){return this.manipulation.disableEditMode.apply(this.manipulation,arguments)};we.prototype.addNodeMode=function(){return this.manipulation.addNodeMode.apply(this.manipulation,arguments)};we.prototype.editNode=function(){return this.manipulation.editNode.apply(this.manipulation,arguments)};we.prototype.editNodeMode=function(){return console.warn("Deprecated: Please use editNode instead of editNodeMode."),this.manipulation.editNode.apply(this.manipulation,arguments)};we.prototype.addEdgeMode=function(){return this.manipulation.addEdgeMode.apply(this.manipulation,arguments)};we.prototype.editEdgeMode=function(){return this.manipulation.editEdgeMode.apply(this.manipulation,arguments)};we.prototype.deleteSelected=function(){return this.manipulation.deleteSelected.apply(this.manipulation,arguments)};we.prototype.getPositions=function(){return this.nodesHandler.getPositions.apply(this.nodesHandler,arguments)};we.prototype.getPosition=function(){return this.nodesHandler.getPosition.apply(this.nodesHandler,arguments)};we.prototype.storePositions=function(){return this.nodesHandler.storePositions.apply(this.nodesHandler,arguments)};we.prototype.moveNode=function(){return this.nodesHandler.moveNode.apply(this.nodesHandler,arguments)};we.prototype.getBoundingBox=function(){return this.nodesHandler.getBoundingBox.apply(this.nodesHandler,arguments)};we.prototype.getConnectedNodes=function(t){return this.body.nodes[t]!==void 0?this.nodesHandler.getConnectedNodes.apply(this.nodesHandler,arguments):this.edgesHandler.getConnectedNodes.apply(this.edgesHandler,arguments)};we.prototype.getConnectedEdges=function(){return this.nodesHandler.getConnectedEdges.apply(this.nodesHandler,arguments)};we.prototype.startSimulation=function(){return this.physics.startSimulation.apply(this.physics,arguments)};we.prototype.stopSimulation=function(){return this.physics.stopSimulation.apply(this.physics,arguments)};we.prototype.stabilize=function(){return this.physics.stabilize.apply(this.physics,arguments)};we.prototype.getSelection=function(){return this.selectionHandler.getSelection.apply(this.selectionHandler,arguments)};we.prototype.setSelection=function(){return this.selectionHandler.setSelection.apply(this.selectionHandler,arguments)};we.prototype.getSelectedNodes=function(){return this.selectionHandler.getSelectedNodeIds.apply(this.selectionHandler,arguments)};we.prototype.getSelectedEdges=function(){return this.selectionHandler.getSelectedEdgeIds.apply(this.selectionHandler,arguments)};we.prototype.getNodeAt=function(){const t=this.selectionHandler.getNodeAt.apply(this.selectionHandler,arguments);return t!==void 0&&t.id!==void 0?t.id:t};we.prototype.getEdgeAt=function(){const t=this.selectionHandler.getEdgeAt.apply(this.selectionHandler,arguments);return t!==void 0&&t.id!==void 0?t.id:t};we.prototype.selectNodes=function(){return this.selectionHandler.selectNodes.apply(this.selectionHandler,arguments)};we.prototype.selectEdges=function(){return this.selectionHandler.selectEdges.apply(this.selectionHandler,arguments)};we.prototype.unselectAll=function(){this.selectionHandler.unselectAll.apply(this.selectionHandler,arguments),this.selectionHandler.commitWithoutEmitting.apply(this.selectionHandler),this.redraw()};we.prototype.redraw=function(){return this.renderer.redraw.apply(this.renderer,arguments)};we.prototype.getScale=function(){return this.view.getScale.apply(this.view,arguments)};we.prototype.getViewPosition=function(){return this.view.getViewPosition.apply(this.view,arguments)};we.prototype.fit=function(){return this.view.fit.apply(this.view,arguments)};we.prototype.moveTo=function(){return this.view.moveTo.apply(this.view,arguments)};we.prototype.focus=function(){return this.view.focus.apply(this.view,arguments)};we.prototype.releaseNode=function(){return this.view.releaseNode.apply(this.view,arguments)};we.prototype.getOptionsFromConfigurator=function(){let t={};return this.configurator&&(t=this.configurator.getOptions.apply(this.configurator)),t};function lxe({graphData:t,startPersonId:e,onNodeClick:r}){const n=T.useRef(null),i=T.useRef(null),s=Qr(),a=T.useCallback(d=>{r?r(d):s(`/people/${d}`)},[r,s]);T.useEffect(()=>{if(!n.current||!t||!t.nodes||t.nodes.length===0)return;const d=new Eu(t.nodes),h=new Eu(t.edges),f={layout:{hierarchical:{enabled:!0,direction:"UD",sortMethod:"directed",levelSeparation:180,nodeSpacing:200,treeSpacing:250,blockShifting:!0,edgeMinimization:!0,parentCentralization:!0}},nodes:{shape:"box",margin:10,font:{size:14,face:'system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif',color:"#1f2937"},color:{border:"#d1d5db",background:"#ffffff",highlight:{border:"#f59e0b",background:"#fef3c7"},hover:{border:"#9ca3af",background:"#f9fafb"}},borderWidth:2,borderWidthSelected:3,shadow:{enabled:!0,color:"rgba(0,0,0,0.1)",size:5,x:0,y:2}},edges:{color:{color:"#9ca3af",highlight:"#6b7280",hover:"#6b7280"},width:2,smooth:{enabled:!0,type:"cubicBezier",forceDirection:"vertical",roundness:.4},arrows:{to:{enabled:!1}}},physics:{enabled:!1},interaction:{hover:!0,tooltipDelay:200,zoomView:!0,dragView:!0,dragNodes:!1,navigationButtons:!1,keyboard:{enabled:!0,bindToWindow:!1}}},p=new we(n.current,{nodes:d,edges:h},f);return i.current=p,p.on("click",m=>{if(m.nodes.length>0){const y=m.nodes[0];a(y)}}),p.on("doubleClick",m=>{m.nodes.length>0&&p.focus(m.nodes[0],{scale:1,animation:{duration:500,easingFunction:"easeInOutQuad"}})}),p.once("stabilized",()=>{const m=t.edges.filter(y=>y.dashes).map(y=>[y.from,y.to]);if(m.length>0){const y=p.getPositions(),x={},g=new Set;m.forEach(([v,w])=>{if(g.has(v)||g.has(w))return;const b=y[v],_=y[w];if(!b||!_)return;const E=(b.x+_.x)/2;x[v]={x:E-60,y:b.y},x[w]={x:E+60,y:_.y},g.add(v),g.add(w)}),Object.entries(x).forEach(([v,w])=>{p.moveNode(v,w.x,w.y)})}setTimeout(()=>{p.fit({animation:{duration:500,easingFunction:"easeInOutQuad"}})},50)}),setTimeout(()=>{e&&p&&p.focus(e,{scale:.8,animation:{duration:500,easingFunction:"easeInOutQuad"}})},100),()=>{p&&p.destroy()}},[t,e,a]);const o=()=>{if(i.current){const d=i.current.getScale();i.current.moveTo({scale:d*1.3,animation:{duration:300,easingFunction:"easeInOutQuad"}})}},u=()=>{if(i.current){const d=i.current.getScale();i.current.moveTo({scale:d/1.3,animation:{duration:300,easingFunction:"easeInOutQuad"}})}},c=()=>{i.current&&i.current.fit({animation:{duration:500,easingFunction:"easeInOutQuad"}})};return!t||!t.nodes||t.nodes.length===0?l.jsx("div",{className:"flex items-center justify-center h-96",children:l.jsx("p",{className:"text-gray-500",children:"No family tree data available"})}):l.jsxs("div",{className:"relative w-full h-full",children:[l.jsxs("div",{className:"absolute top-4 right-4 z-10 flex gap-2 bg-white rounded-lg shadow-lg p-2",children:[l.jsx("button",{onClick:o,className:"p-2 hover:bg-gray-100 rounded",title:"Zoom In",children:l.jsx(Qre,{className:"w-4 h-4"})}),l.jsx("button",{onClick:u,className:"p-2 hover:bg-gray-100 rounded",title:"Zoom Out",children:l.jsx(Xre,{className:"w-4 h-4"})}),l.jsx("button",{onClick:c,className:"p-2 hover:bg-gray-100 rounded",title:"Fit All",children:l.jsx(cK,{className:"w-4 h-4"})})]}),l.jsx("div",{className:"absolute bottom-4 left-4 z-10 text-xs text-gray-500 bg-white/80 px-2 py-1 rounded",children:"Click a person to view details  Double-click to center  Scroll to zoom"}),l.jsx("div",{ref:n,className:"w-full h-full min-h-[600px]",style:{background:"#fafafa"}})]})}const uxe=["parent","child","spouse","lover","partner"];function cxe(t){return uxe.includes(t==null?void 0:t.toLowerCase())}function dxe(t){return(t==null?void 0:t.toLowerCase())==="parent"}function hxe(t){return(t==null?void 0:t.toLowerCase())==="child"}function fxe(t){const e=t==null?void 0:t.toLowerCase();return e==="spouse"||e==="lover"||e==="partner"}function pxe(t,e,r){var d;const n=new Map,i=[],s=new Set,a=new Map;e.forEach(h=>a.set(h.id,h));const o=[{personId:t,depth:0}];s.add(t);function u(h,f){var v,w,b,_;let p=h.name||((v=h.title)==null?void 0:v.rendered)||h.title||`Person ${f}`;if(p&&typeof p=="string"&&typeof document<"u"){const E=document.createElement("textarea");E.innerHTML=p,p=E.value}let m=null,y=((w=h.acf)==null?void 0:w.birth_date)||null;if(y){const E=new Date(y);isNaN(E.getTime())||(m=Math.floor((new Date-E)/(365.25*24*60*60*1e3)))}let x="";switch((b=h.acf)==null?void 0:b.gender){case"male":x="";break;case"female":x="";break;case"non_binary":case"other":case"prefer_not_to_say":x="";break}let g="";if(y)try{const E=new Date(y);if(!isNaN(E.getTime())){const N=String(E.getDate()).padStart(2,"0"),S=String(E.getMonth()+1).padStart(2,"0"),j=E.getFullYear();g=`${N}-${S}-${j}`}}catch{}return{id:f,name:p,gender:((_=h.acf)==null?void 0:_.gender)||"",genderSymbol:x,photo:h.thumbnail||null,age:m,birthDate:y,formattedBirthDate:g}}const c=a.get(t);for(c&&n.set(t,u(c,t));o.length>0;){const{personId:h,depth:f}=o.shift(),p=r.get(h)||[];for(const m of p){if(m.relationship_type_slug&&!cxe(m.relationship_type_slug))continue;const y=m.related_person;if(!y||!a.has(y))continue;if(!n.has(y)){const w=a.get(y);n.set(y,u(w,y))}const x=`${h}-${y}`,g=`${y}-${h}`;if(!i.some(w=>`${w.from}-${w.to}`===x||`${w.from}-${w.to}`===g)){const w=(d=m.relationship_type_slug)==null?void 0:d.toLowerCase();if(dxe(w))i.push({from:y,to:h,type:"parent-child"});else if(hxe(w))i.push({from:h,to:y,type:"parent-child"});else if(fxe(w)){const[b,_]=h<y?[h,y]:[y,h];i.push({from:b,to:_,type:"spouse"})}}s.has(y)||(s.add(y),o.push({personId:y,depth:f+1}))}}return{nodes:Array.from(n.values()),edges:i}}function mxe(t,e,r={}){const{nodes:n,edges:i}=t;if(n.length===0)return{nodes:[],edges:[]};const s=new Map,a=new Map,o=new Map;n.forEach(x=>{s.set(x.id,[]),a.set(x.id,[]),o.set(x.id,[])}),i.forEach(x=>{var g,v,w,b;x.type==="parent-child"?((g=s.get(x.to))==null||g.push(x.from),(v=a.get(x.from))==null||v.push(x.to)):x.type==="spouse"&&((w=o.get(x.from))==null||w.push(x.to),(b=o.get(x.to))==null||b.push(x.from))});const u=new Map,c=new Set,d=[{id:e,generation:0}];for(u.set(e,0),c.add(e);d.length>0;){const{id:x,generation:g}=d.shift(),v=s.get(x)||[];for(const _ of v)c.has(_)||(c.add(_),u.set(_,g-1),d.push({id:_,generation:g-1}));const w=a.get(x)||[];for(const _ of w)c.has(_)||(c.add(_),u.set(_,g+1),d.push({id:_,generation:g+1}));const b=o.get(x)||[];for(const _ of b)c.has(_)||(c.add(_),u.set(_,g),d.push({id:_,generation:g}))}n.forEach(x=>{u.has(x.id)||u.set(x.id,0)});const h=Math.min(...u.values()),f=new Map;u.forEach((x,g)=>{f.set(g,x-h)});function p(x,g,v=!1){const w=x?x.split(" ").map(N=>N[0]).join("").toUpperCase().slice(0,2):"?";let b,_;v?(b="%23d1d5db",_="%236b7280"):g?(b="%23fef3c7",_="%23b45309"):(b="%23e5e7eb",_="%23374151");const E=`<svg xmlns="http://www.w3.org/2000/svg" width="90" height="90" viewBox="0 0 90 90">
      <circle cx="45" cy="45" r="45" fill="${b}"/>
      <text x="45" y="55" text-anchor="middle" font-family="system-ui, sans-serif" font-size="28" font-weight="500" fill="${_}">${w}</text>
    </svg>`;return"data:image/svg+xml,"+encodeURIComponent(E)}const m=n.map(x=>{const g=f.get(x.id)||0,v=x.id===e,w=r[x.id]||!1;let b=x.name;w&&(b=x.name+" ");let _=[b],E="";x.genderSymbol&&(E+=x.genderSymbol+" "),x.age!==null&&(E+=x.age+" "),x.formattedBirthDate&&(E+=x.formattedBirthDate),E.trim()&&_.push(E.trim());const N=x.photo||p(x.name,v,w);let S="#d1d5db";return v?S="#f59e0b":w&&(S="#9ca3af"),{id:x.id,label:_.join(`
`),level:g,shape:"circularImage",image:N,size:45,font:{size:14,face:"system-ui, -apple-system, sans-serif",vadjust:8,color:w?"#6b7280":"#1f2937"},color:{border:S,background:"#ffffff",highlight:{border:"#f59e0b",background:"#fef3c7"}},borderWidth:v?3:2,data:{...x,isDeceased:w}}}),y=i.map((x,g)=>{const v=x.type==="spouse";return{id:`edge-${g}`,from:x.from,to:x.to,arrows:{to:{enabled:!1}},color:{color:v?"#ec4899":"#9ca3af",highlight:v?"#db2777":"#6b7280"},width:2,dashes:v?[5,5]:!1,smooth:!1,length:v?50:300}});return{nodes:m,edges:y}}function vxe(t){const e=new Map;return t.forEach(r=>{var s;const i=(((s=r.acf)==null?void 0:s.relationships)||[]).map(a=>{var c,d,h,f,p,m;let o="";a.relationship_slug?o=a.relationship_slug.toLowerCase():typeof a.relationship_type=="object"?o=((c=a.relationship_type)==null?void 0:c.slug)||((h=(d=a.relationship_type)==null?void 0:d.name)==null?void 0:h.toLowerCase())||"":typeof a.relationship_type=="string"&&(o=a.relationship_type.toLowerCase());let u=null;return typeof a.related_person=="object"?u=((f=a.related_person)==null?void 0:f.ID)||((p=a.related_person)==null?void 0:p.id)||((m=a.related_person)==null?void 0:m.term_id):(typeof a.related_person=="number"||typeof a.related_person=="string")&&(u=parseInt(a.related_person,10)),{related_person:u,relationship_type:a.relationship_type,relationship_type_slug:o,relationship_name:a.relationship_name||"",relationship_label:a.relationship_label||""}}).filter(a=>a.related_person);e.set(r.id,i)}),e}function gxe(t,e){const r=new Map;e.forEach(n=>{var i;r.set(n.id,n.slug||((i=n.name)==null?void 0:i.toLowerCase()))}),t.forEach(n=>{n.forEach(i=>{if(!i.relationship_type_slug&&i.relationship_type){const s=typeof i.relationship_type=="object"?i.relationship_type.term_id||i.relationship_type.id:i.relationship_type;i.relationship_type_slug=r.get(s)||""}})})}function yxe(){var p,m;const{id:t}=Ss(),e=Qr(),r=parseInt(t,10),{data:n,isLoading:i}=qu(t),{data:s=[],isLoading:a}=Wo(),{data:o=[]}=rt({queryKey:["relationship-types"],queryFn:async()=>(await Ae.getRelationshipTypes()).data}),u=T.useMemo(()=>s.map(y=>y.id).filter(Boolean),[s]),c=vp({queries:u.map(y=>({queryKey:["person-dates",y],queryFn:async()=>(await qe.getPersonDates(y)).data,enabled:!!y,staleTime:5*60*1e3}))}),d=T.useMemo(()=>{const y={};return c.forEach((x,g)=>{if(x.data&&u[g]){const v=u[g],w=x.data.some(b=>{const _=Array.isArray(b.date_type)?b.date_type[0]:b.date_type;return(_==null?void 0:_.toLowerCase())==="died"});y[v]=w}}),y},[c,u]);vn(n?`Family Tree - ${n.name||((p=n.title)==null?void 0:p.rendered)||n.title||"Person"}`:"Family Tree");const h=T.useMemo(()=>{if(!n||!s.length)return null;try{const y=vxe(s);o.length>0&&gxe(y,o);const x=pxe(r,s,y);return!x||x.nodes.length===0?null:mxe(x,r,d)}catch(y){return console.error("Error building family tree:",y),null}},[n,s,o,r,d]),f=y=>{e(`/people/${y}`)};return i||a?l.jsx("div",{className:"flex items-center justify-center h-64",children:l.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"})}):n?l.jsxs("div",{className:"max-w-full mx-auto space-y-6",children:[l.jsx("div",{className:"flex items-center justify-between",children:l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsxs(he,{to:`/people/${t}`,className:"flex items-center text-gray-600 hover:text-gray-900",children:[l.jsx(Cn,{className:"w-4 h-4 md:mr-2"}),l.jsx("span",{className:"hidden md:inline",children:"Back to Person"})]}),l.jsxs("h1",{className:"text-2xl font-bold",children:["Family Tree: ",n.name||((m=n.title)==null?void 0:m.rendered)||n.title||`Person ${t}`]})]})}),l.jsx("div",{className:"card p-6",children:l.jsx("div",{className:"w-full",style:{height:"800px"},children:h&&h.nodes&&h.nodes.length>0?l.jsx(lxe,{graphData:h,startPersonId:r,onNodeClick:f}):l.jsx("div",{className:"flex items-center justify-center h-full",children:l.jsxs("div",{className:"text-center",children:[l.jsx("p",{className:"text-gray-500 mb-2",children:"No family relationships found."}),l.jsx("p",{className:"text-sm text-gray-400",children:"Add parent or child relationships to see the family tree."})]})})})})]}):l.jsxs("div",{className:"card p-6 text-center",children:[l.jsx("p",{className:"text-red-600 mb-4",children:"Failed to load person."}),l.jsx(he,{to:"/people",className:"btn-secondary",children:"Back to People"})]})}function bxe(){const{loginUrl:t,isLoggedIn:e}=nO();return yK(),T.useEffect(()=>{e||(window.location.href=t)},[e,t]),l.jsx("div",{className:"flex items-center justify-center min-h-screen bg-gray-50",children:l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600 mx-auto mb-4"}),l.jsx("p",{className:"text-gray-600",children:"Redirecting to login..."})]})})}function xxe({children:t}){const{data:e,isLoading:r,error:n}=rt({queryKey:["current-user"],queryFn:async()=>(await qe.getCurrentUser()).data,retry:!1});return r?l.jsx("div",{className:"flex items-center justify-center min-h-screen bg-gray-50",children:l.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"})}):n||!e?l.jsx("div",{className:"flex items-center justify-center min-h-screen bg-gray-50",children:l.jsx("div",{className:"max-w-md w-full mx-4",children:l.jsxs("div",{className:"card p-8 text-center",children:[l.jsx("div",{className:"flex justify-center mb-4",children:l.jsx("div",{className:"p-3 bg-yellow-100 rounded-full",children:l.jsx(gs,{className:"w-8 h-8 text-yellow-600"})})}),l.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-2",children:"Account Pending Approval"}),l.jsx("p",{className:"text-gray-600 mb-6",children:"Your account is pending approval by an administrator. You will receive an email notification once your account has been approved."}),l.jsx("p",{className:"text-sm text-gray-500",children:"If you have any questions, please contact your administrator."})]})})}):e!=null&&e.is_admin||e.is_approved?t:l.jsx("div",{className:"flex items-center justify-center min-h-screen bg-gray-50",children:l.jsx("div",{className:"max-w-md w-full mx-4",children:l.jsxs("div",{className:"card p-8 text-center",children:[l.jsx("div",{className:"flex justify-center mb-4",children:l.jsx("div",{className:"p-3 bg-yellow-100 rounded-full",children:l.jsx(gs,{className:"w-8 h-8 text-yellow-600"})})}),l.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-2",children:"Account Pending Approval"}),l.jsx("p",{className:"text-gray-600 mb-6",children:"Your account is pending approval by an administrator. You will receive an email notification once your account has been approved."}),l.jsx("p",{className:"text-sm text-gray-500",children:"If you have any questions, please contact your administrator."})]})})})}function wxe({children:t}){const{isLoggedIn:e,isLoading:r}=nO();return r?l.jsx("div",{className:"flex items-center justify-center min-h-screen",children:l.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"})}):e?l.jsx(xxe,{children:t}):l.jsx(vH,{to:"/login",replace:!0})}function _xe(){return l.jsxs(oI,{children:[l.jsx(st,{path:"/login",element:l.jsx(bxe,{})}),l.jsx(st,{path:"/*",element:l.jsx(wxe,{children:l.jsx(bne,{children:l.jsxs(oI,{children:[l.jsx(st,{path:"/",element:l.jsx(lse,{})}),l.jsx(st,{path:"/people",element:l.jsx(cse,{})}),l.jsx(st,{path:"/people/new",element:l.jsx(oR,{})}),l.jsx(st,{path:"/people/:personId/contact/new",element:l.jsx(uR,{})}),l.jsx(st,{path:"/people/:personId/contact/:index/edit",element:l.jsx(uR,{})}),l.jsx(st,{path:"/people/:personId/work-history/new",element:l.jsx(lR,{})}),l.jsx(st,{path:"/people/:personId/work-history/:index/edit",element:l.jsx(lR,{})}),l.jsx(st,{path:"/people/:personId/relationship/new",element:l.jsx(cR,{})}),l.jsx(st,{path:"/people/:personId/relationship/:index/edit",element:l.jsx(cR,{})}),l.jsx(st,{path:"/people/:id/family-tree",element:l.jsx(yxe,{})}),l.jsx(st,{path:"/people/:id/edit",element:l.jsx(oR,{})}),l.jsx(st,{path:"/people/:id",element:l.jsx(Tse,{})}),l.jsx(st,{path:"/companies",element:l.jsx(tae,{})}),l.jsx(st,{path:"/companies/new",element:l.jsx(dR,{})}),l.jsx(st,{path:"/companies/:id",element:l.jsx(rae,{})}),l.jsx(st,{path:"/companies/:id/edit",element:l.jsx(dR,{})}),l.jsx(st,{path:"/dates",element:l.jsx(sae,{})}),l.jsx(st,{path:"/dates/new",element:l.jsx(hR,{})}),l.jsx(st,{path:"/dates/:id/edit",element:l.jsx(hR,{})}),l.jsx(st,{path:"/todos",element:l.jsx(oae,{})}),l.jsx(st,{path:"/settings",element:l.jsx(lae,{})}),l.jsx(st,{path:"/settings/relationship-types",element:l.jsx(uae,{})}),l.jsx(st,{path:"/settings/import",element:l.jsx(pae,{})}),l.jsx(st,{path:"/settings/export",element:l.jsx(mae,{})}),l.jsx(st,{path:"/settings/user-approval",element:l.jsx(vae,{})}),l.jsx(st,{path:"*",element:l.jsx(vH,{to:"/",replace:!0})})]})})})})]})}const Sxe=new Zee({defaultOptions:{queries:{staleTime:5*60*1e3,retry:1}}}),nN=document.getElementById("root");if(!nN)console.error('Root element not found! Make sure there is a <div id="root"></div> in your HTML.');else try{iN.createRoot(nN).render(l.jsx(De.StrictMode,{children:l.jsx(ete,{client:Sxe,children:l.jsx(_ee,{children:l.jsx(_xe,{})})})}))}catch(t){console.error("Error mounting React app:",t),nN.innerHTML='<div style="padding: 20px; color: red;"><h1>Error Loading Application</h1><p>Please check the browser console for details.</p></div>'}
