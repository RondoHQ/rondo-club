var HT=t=>{throw TypeError(t)};var Em=(t,e,r)=>e.has(t)||HT("Cannot "+r);var R=(t,e,r)=>(Em(t,e,"read from private field"),r?r.call(t):e.get(t)),ue=(t,e,r)=>e.has(t)?HT("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,r),ie=(t,e,r,n)=>(Em(t,e,"write to private field"),n?n.call(t,r):e.set(t,r),r),_e=(t,e,r)=>(Em(t,e,"access private method"),r);var Sh=(t,e,r,n)=>({set _(i){ie(t,e,i,r)},get _(){return R(t,e,n)}});function DY(t,e){for(var r=0;r<e.length;r++){const n=e[r];if(typeof n!="string"&&!Array.isArray(n)){for(const i in n)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(n,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>n[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}function qY(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var J8={exports:{}},pp={},Z8={exports:{}},$e={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Td=Symbol.for("react.element"),MY=Symbol.for("react.portal"),AY=Symbol.for("react.fragment"),FY=Symbol.for("react.strict_mode"),LY=Symbol.for("react.profiler"),BY=Symbol.for("react.provider"),zY=Symbol.for("react.context"),UY=Symbol.for("react.forward_ref"),WY=Symbol.for("react.suspense"),VY=Symbol.for("react.memo"),HY=Symbol.for("react.lazy"),KT=Symbol.iterator;function KY(t){return t===null||typeof t!="object"?null:(t=KT&&t[KT]||t["@@iterator"],typeof t=="function"?t:null)}var eV={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},tV=Object.assign,rV={};function hu(t,e,r){this.props=t,this.context=e,this.refs=rV,this.updater=r||eV}hu.prototype.isReactComponent={};hu.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};hu.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function nV(){}nV.prototype=hu.prototype;function xN(t,e,r){this.props=t,this.context=e,this.refs=rV,this.updater=r||eV}var _N=xN.prototype=new nV;_N.constructor=xN;tV(_N,hu.prototype);_N.isPureReactComponent=!0;var GT=Array.isArray,iV=Object.prototype.hasOwnProperty,SN={current:null},sV={key:!0,ref:!0,__self:!0,__source:!0};function aV(t,e,r){var n,i={},s=null,a=null;if(e!=null)for(n in e.ref!==void 0&&(a=e.ref),e.key!==void 0&&(s=""+e.key),e)iV.call(e,n)&&!sV.hasOwnProperty(n)&&(i[n]=e[n]);var o=arguments.length-2;if(o===1)i.children=r;else if(1<o){for(var l=Array(o),u=0;u<o;u++)l[u]=arguments[u+2];i.children=l}if(t&&t.defaultProps)for(n in o=t.defaultProps,o)i[n]===void 0&&(i[n]=o[n]);return{$$typeof:Td,type:t,key:s,ref:a,props:i,_owner:SN.current}}function GY(t,e){return{$$typeof:Td,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function EN(t){return typeof t=="object"&&t!==null&&t.$$typeof===Td}function YY(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(r){return e[r]})}var YT=/\/+/g;function Om(t,e){return typeof t=="object"&&t!==null&&t.key!=null?YY(""+t.key):e.toString(36)}function Jh(t,e,r,n,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var a=!1;if(t===null)a=!0;else switch(s){case"string":case"number":a=!0;break;case"object":switch(t.$$typeof){case Td:case MY:a=!0}}if(a)return a=t,i=i(a),t=n===""?"."+Om(a,0):n,GT(i)?(r="",t!=null&&(r=t.replace(YT,"$&/")+"/"),Jh(i,e,r,"",function(u){return u})):i!=null&&(EN(i)&&(i=GY(i,r+(!i.key||a&&a.key===i.key?"":(""+i.key).replace(YT,"$&/")+"/")+t)),e.push(i)),1;if(a=0,n=n===""?".":n+":",GT(t))for(var o=0;o<t.length;o++){s=t[o];var l=n+Om(s,o);a+=Jh(s,e,r,l,i)}else if(l=KY(t),typeof l=="function")for(t=l.call(t),o=0;!(s=t.next()).done;)s=s.value,l=n+Om(s,o++),a+=Jh(s,e,r,l,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return a}function Eh(t,e,r){if(t==null)return t;var n=[],i=0;return Jh(t,n,"","",function(s){return e.call(r,s,i++)}),n}function QY(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(r){(t._status===0||t._status===-1)&&(t._status=1,t._result=r)},function(r){(t._status===0||t._status===-1)&&(t._status=2,t._result=r)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Mr={current:null},Zh={transition:null},XY={ReactCurrentDispatcher:Mr,ReactCurrentBatchConfig:Zh,ReactCurrentOwner:SN};function oV(){throw Error("act(...) is not supported in production builds of React.")}$e.Children={map:Eh,forEach:function(t,e,r){Eh(t,function(){e.apply(this,arguments)},r)},count:function(t){var e=0;return Eh(t,function(){e++}),e},toArray:function(t){return Eh(t,function(e){return e})||[]},only:function(t){if(!EN(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};$e.Component=hu;$e.Fragment=AY;$e.Profiler=LY;$e.PureComponent=xN;$e.StrictMode=FY;$e.Suspense=WY;$e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=XY;$e.act=oV;$e.cloneElement=function(t,e,r){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var n=tV({},t.props),i=t.key,s=t.ref,a=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,a=SN.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var o=t.type.defaultProps;for(l in e)iV.call(e,l)&&!sV.hasOwnProperty(l)&&(n[l]=e[l]===void 0&&o!==void 0?o[l]:e[l])}var l=arguments.length-2;if(l===1)n.children=r;else if(1<l){o=Array(l);for(var u=0;u<l;u++)o[u]=arguments[u+2];n.children=o}return{$$typeof:Td,type:t.type,key:i,ref:s,props:n,_owner:a}};$e.createContext=function(t){return t={$$typeof:zY,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:BY,_context:t},t.Consumer=t};$e.createElement=aV;$e.createFactory=function(t){var e=aV.bind(null,t);return e.type=t,e};$e.createRef=function(){return{current:null}};$e.forwardRef=function(t){return{$$typeof:UY,render:t}};$e.isValidElement=EN;$e.lazy=function(t){return{$$typeof:HY,_payload:{_status:-1,_result:t},_init:QY}};$e.memo=function(t,e){return{$$typeof:VY,type:t,compare:e===void 0?null:e}};$e.startTransition=function(t){var e=Zh.transition;Zh.transition={};try{t()}finally{Zh.transition=e}};$e.unstable_act=oV;$e.useCallback=function(t,e){return Mr.current.useCallback(t,e)};$e.useContext=function(t){return Mr.current.useContext(t)};$e.useDebugValue=function(){};$e.useDeferredValue=function(t){return Mr.current.useDeferredValue(t)};$e.useEffect=function(t,e){return Mr.current.useEffect(t,e)};$e.useId=function(){return Mr.current.useId()};$e.useImperativeHandle=function(t,e,r){return Mr.current.useImperativeHandle(t,e,r)};$e.useInsertionEffect=function(t,e){return Mr.current.useInsertionEffect(t,e)};$e.useLayoutEffect=function(t,e){return Mr.current.useLayoutEffect(t,e)};$e.useMemo=function(t,e){return Mr.current.useMemo(t,e)};$e.useReducer=function(t,e,r){return Mr.current.useReducer(t,e,r)};$e.useRef=function(t){return Mr.current.useRef(t)};$e.useState=function(t){return Mr.current.useState(t)};$e.useSyncExternalStore=function(t,e,r){return Mr.current.useSyncExternalStore(t,e,r)};$e.useTransition=function(){return Mr.current.useTransition()};$e.version="18.3.1";Z8.exports=$e;var $=Z8.exports;const Ce=qY($),JY=DY({__proto__:null,default:Ce},[$]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ZY=$,eQ=Symbol.for("react.element"),tQ=Symbol.for("react.fragment"),rQ=Object.prototype.hasOwnProperty,nQ=ZY.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,iQ={key:!0,ref:!0,__self:!0,__source:!0};function lV(t,e,r){var n,i={},s=null,a=null;r!==void 0&&(s=""+r),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(a=e.ref);for(n in e)rQ.call(e,n)&&!iQ.hasOwnProperty(n)&&(i[n]=e[n]);if(t&&t.defaultProps)for(n in e=t.defaultProps,e)i[n]===void 0&&(i[n]=e[n]);return{$$typeof:eQ,type:t,key:s,ref:a,props:i,_owner:nQ.current}}pp.Fragment=tQ;pp.jsx=lV;pp.jsxs=lV;J8.exports=pp;var c=J8.exports,IO={},uV={exports:{}},vn={},cV={exports:{}},dV={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(L,G){var W=L.length;L.push(G);e:for(;0<W;){var V=W-1>>>1,te=L[V];if(0<i(te,G))L[V]=G,L[W]=te,W=V;else break e}}function r(L){return L.length===0?null:L[0]}function n(L){if(L.length===0)return null;var G=L[0],W=L.pop();if(W!==G){L[0]=W;e:for(var V=0,te=L.length,pe=te>>>1;V<pe;){var ge=2*(V+1)-1,qe=L[ge],we=ge+1,Se=L[we];if(0>i(qe,W))we<te&&0>i(Se,qe)?(L[V]=Se,L[we]=W,V=we):(L[V]=qe,L[ge]=W,V=ge);else if(we<te&&0>i(Se,W))L[V]=Se,L[we]=W,V=we;else break e}}return G}function i(L,G){var W=L.sortIndex-G.sortIndex;return W!==0?W:L.id-G.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var a=Date,o=a.now();t.unstable_now=function(){return a.now()-o}}var l=[],u=[],d=1,h=null,f=3,p=!1,m=!1,y=!1,b=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,v=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function x(L){for(var G=r(u);G!==null;){if(G.callback===null)n(u);else if(G.startTime<=L)n(u),G.sortIndex=G.expirationTime,e(l,G);else break;G=r(u)}}function w(L){if(y=!1,x(L),!m)if(r(l)!==null)m=!0,re(_);else{var G=r(u);G!==null&&Y(w,G.startTime-L)}}function _(L,G){m=!1,y&&(y=!1,g(S),S=-1),p=!0;var W=f;try{for(x(G),h=r(l);h!==null&&(!(h.expirationTime>G)||L&&!I());){var V=h.callback;if(typeof V=="function"){h.callback=null,f=h.priorityLevel;var te=V(h.expirationTime<=G);G=t.unstable_now(),typeof te=="function"?h.callback=te:h===r(l)&&n(l),x(G)}else n(l);h=r(l)}if(h!==null)var pe=!0;else{var ge=r(u);ge!==null&&Y(w,ge.startTime-G),pe=!1}return pe}finally{h=null,f=W,p=!1}}var E=!1,O=null,S=-1,P=5,N=-1;function I(){return!(t.unstable_now()-N<P)}function C(){if(O!==null){var L=t.unstable_now();N=L;var G=!0;try{G=O(!0,L)}finally{G?T():(E=!1,O=null)}}else E=!1}var T;if(typeof v=="function")T=function(){v(C)};else if(typeof MessageChannel<"u"){var q=new MessageChannel,U=q.port2;q.port1.onmessage=C,T=function(){U.postMessage(null)}}else T=function(){b(C,0)};function re(L){O=L,E||(E=!0,T())}function Y(L,G){S=b(function(){L(t.unstable_now())},G)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(L){L.callback=null},t.unstable_continueExecution=function(){m||p||(m=!0,re(_))},t.unstable_forceFrameRate=function(L){0>L||125<L?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<L?Math.floor(1e3/L):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return r(l)},t.unstable_next=function(L){switch(f){case 1:case 2:case 3:var G=3;break;default:G=f}var W=f;f=G;try{return L()}finally{f=W}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(L,G){switch(L){case 1:case 2:case 3:case 4:case 5:break;default:L=3}var W=f;f=L;try{return G()}finally{f=W}},t.unstable_scheduleCallback=function(L,G,W){var V=t.unstable_now();switch(typeof W=="object"&&W!==null?(W=W.delay,W=typeof W=="number"&&0<W?V+W:V):W=V,L){case 1:var te=-1;break;case 2:te=250;break;case 5:te=1073741823;break;case 4:te=1e4;break;default:te=5e3}return te=W+te,L={id:d++,callback:G,priorityLevel:L,startTime:W,expirationTime:te,sortIndex:-1},W>V?(L.sortIndex=W,e(u,L),r(l)===null&&L===r(u)&&(y?(g(S),S=-1):y=!0,Y(w,W-V))):(L.sortIndex=te,e(l,L),m||p||(m=!0,re(_))),L},t.unstable_shouldYield=I,t.unstable_wrapCallback=function(L){var G=f;return function(){var W=f;f=G;try{return L.apply(this,arguments)}finally{f=W}}}})(dV);cV.exports=dV;var sQ=cV.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var aQ=$,mn=sQ;function X(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,r=1;r<arguments.length;r++)e+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var hV=new Set,Lc={};function Oo(t,e){Vl(t,e),Vl(t+"Capture",e)}function Vl(t,e){for(Lc[t]=e,t=0;t<e.length;t++)hV.add(e[t])}var Zi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),RO=Object.prototype.hasOwnProperty,oQ=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,QT={},XT={};function lQ(t){return RO.call(XT,t)?!0:RO.call(QT,t)?!1:oQ.test(t)?XT[t]=!0:(QT[t]=!0,!1)}function uQ(t,e,r,n){if(r!==null&&r.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function cQ(t,e,r,n){if(e===null||typeof e>"u"||uQ(t,e,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Ar(t,e,r,n,i,s,a){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=n,this.attributeNamespace=i,this.mustUseProperty=r,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=a}var hr={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){hr[t]=new Ar(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];hr[e]=new Ar(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){hr[t]=new Ar(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){hr[t]=new Ar(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){hr[t]=new Ar(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){hr[t]=new Ar(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){hr[t]=new Ar(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){hr[t]=new Ar(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){hr[t]=new Ar(t,5,!1,t.toLowerCase(),null,!1,!1)});var ON=/[\-:]([a-z])/g;function PN(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(ON,PN);hr[e]=new Ar(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(ON,PN);hr[e]=new Ar(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(ON,PN);hr[e]=new Ar(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){hr[t]=new Ar(t,1,!1,t.toLowerCase(),null,!1,!1)});hr.xlinkHref=new Ar("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){hr[t]=new Ar(t,1,!1,t.toLowerCase(),null,!0,!0)});function NN(t,e,r,n){var i=hr.hasOwnProperty(e)?hr[e]:null;(i!==null?i.type!==0:n||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(cQ(e,r,i,n)&&(r=null),n||i===null?lQ(e)&&(r===null?t.removeAttribute(e):t.setAttribute(e,""+r)):i.mustUseProperty?t[i.propertyName]=r===null?i.type===3?!1:"":r:(e=i.attributeName,n=i.attributeNamespace,r===null?t.removeAttribute(e):(i=i.type,r=i===3||i===4&&r===!0?"":""+r,n?t.setAttributeNS(n,e,r):t.setAttribute(e,r))))}var is=aQ.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Oh=Symbol.for("react.element"),rl=Symbol.for("react.portal"),nl=Symbol.for("react.fragment"),CN=Symbol.for("react.strict_mode"),jO=Symbol.for("react.profiler"),fV=Symbol.for("react.provider"),pV=Symbol.for("react.context"),TN=Symbol.for("react.forward_ref"),$O=Symbol.for("react.suspense"),kO=Symbol.for("react.suspense_list"),IN=Symbol.for("react.memo"),bs=Symbol.for("react.lazy"),mV=Symbol.for("react.offscreen"),JT=Symbol.iterator;function Xu(t){return t===null||typeof t!="object"?null:(t=JT&&t[JT]||t["@@iterator"],typeof t=="function"?t:null)}var mt=Object.assign,Pm;function pc(t){if(Pm===void 0)try{throw Error()}catch(r){var e=r.stack.trim().match(/\n( *(at )?)/);Pm=e&&e[1]||""}return`
`+Pm+t}var Nm=!1;function Cm(t,e){if(!t||Nm)return"";Nm=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var n=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){n=u}t.call(e.prototype)}else{try{throw Error()}catch(u){n=u}t()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),s=n.stack.split(`
`),a=i.length-1,o=s.length-1;1<=a&&0<=o&&i[a]!==s[o];)o--;for(;1<=a&&0<=o;a--,o--)if(i[a]!==s[o]){if(a!==1||o!==1)do if(a--,o--,0>o||i[a]!==s[o]){var l=`
`+i[a].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=a&&0<=o);break}}}finally{Nm=!1,Error.prepareStackTrace=r}return(t=t?t.displayName||t.name:"")?pc(t):""}function dQ(t){switch(t.tag){case 5:return pc(t.type);case 16:return pc("Lazy");case 13:return pc("Suspense");case 19:return pc("SuspenseList");case 0:case 2:case 15:return t=Cm(t.type,!1),t;case 11:return t=Cm(t.type.render,!1),t;case 1:return t=Cm(t.type,!0),t;default:return""}}function DO(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case nl:return"Fragment";case rl:return"Portal";case jO:return"Profiler";case CN:return"StrictMode";case $O:return"Suspense";case kO:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case pV:return(t.displayName||"Context")+".Consumer";case fV:return(t._context.displayName||"Context")+".Provider";case TN:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case IN:return e=t.displayName||null,e!==null?e:DO(t.type)||"Memo";case bs:e=t._payload,t=t._init;try{return DO(t(e))}catch{}}return null}function hQ(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return DO(e);case 8:return e===CN?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function na(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function vV(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function fQ(t){var e=vV(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),n=""+t[e];if(!t.hasOwnProperty(e)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var i=r.get,s=r.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(a){n=""+a,s.call(this,a)}}),Object.defineProperty(t,e,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(a){n=""+a},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Ph(t){t._valueTracker||(t._valueTracker=fQ(t))}function gV(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var r=e.getValue(),n="";return t&&(n=vV(t)?t.checked?"true":"false":t.value),t=n,t!==r?(e.setValue(t),!0):!1}function wf(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function qO(t,e){var r=e.checked;return mt({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??t._wrapperState.initialChecked})}function ZT(t,e){var r=e.defaultValue==null?"":e.defaultValue,n=e.checked!=null?e.checked:e.defaultChecked;r=na(e.value!=null?e.value:r),t._wrapperState={initialChecked:n,initialValue:r,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function yV(t,e){e=e.checked,e!=null&&NN(t,"checked",e,!1)}function MO(t,e){yV(t,e);var r=na(e.value),n=e.type;if(r!=null)n==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+r):t.value!==""+r&&(t.value=""+r);else if(n==="submit"||n==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?AO(t,e.type,r):e.hasOwnProperty("defaultValue")&&AO(t,e.type,na(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function eI(t,e,r){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var n=e.type;if(!(n!=="submit"&&n!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,r||e===t.value||(t.value=e),t.defaultValue=e}r=t.name,r!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,r!==""&&(t.name=r)}function AO(t,e,r){(e!=="number"||wf(t.ownerDocument)!==t)&&(r==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+r&&(t.defaultValue=""+r))}var mc=Array.isArray;function wl(t,e,r,n){if(t=t.options,e){e={};for(var i=0;i<r.length;i++)e["$"+r[i]]=!0;for(r=0;r<t.length;r++)i=e.hasOwnProperty("$"+t[r].value),t[r].selected!==i&&(t[r].selected=i),i&&n&&(t[r].defaultSelected=!0)}else{for(r=""+na(r),e=null,i=0;i<t.length;i++){if(t[i].value===r){t[i].selected=!0,n&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function FO(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(X(91));return mt({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function tI(t,e){var r=e.value;if(r==null){if(r=e.children,e=e.defaultValue,r!=null){if(e!=null)throw Error(X(92));if(mc(r)){if(1<r.length)throw Error(X(93));r=r[0]}e=r}e==null&&(e=""),r=e}t._wrapperState={initialValue:na(r)}}function bV(t,e){var r=na(e.value),n=na(e.defaultValue);r!=null&&(r=""+r,r!==t.value&&(t.value=r),e.defaultValue==null&&t.defaultValue!==r&&(t.defaultValue=r)),n!=null&&(t.defaultValue=""+n)}function rI(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function wV(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function LO(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?wV(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Nh,xV=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,r,n,i){MSApp.execUnsafeLocalFunction(function(){return t(e,r,n,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Nh=Nh||document.createElement("div"),Nh.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Nh.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Bc(t,e){if(e){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=e;return}}t.textContent=e}var _c={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pQ=["Webkit","ms","Moz","O"];Object.keys(_c).forEach(function(t){pQ.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),_c[e]=_c[t]})});function _V(t,e,r){return e==null||typeof e=="boolean"||e===""?"":r||typeof e!="number"||e===0||_c.hasOwnProperty(t)&&_c[t]?(""+e).trim():e+"px"}function SV(t,e){t=t.style;for(var r in e)if(e.hasOwnProperty(r)){var n=r.indexOf("--")===0,i=_V(r,e[r],n);r==="float"&&(r="cssFloat"),n?t.setProperty(r,i):t[r]=i}}var mQ=mt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function BO(t,e){if(e){if(mQ[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(X(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(X(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(X(61))}if(e.style!=null&&typeof e.style!="object")throw Error(X(62))}}function zO(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var UO=null;function RN(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var WO=null,xl=null,_l=null;function nI(t){if(t=jd(t)){if(typeof WO!="function")throw Error(X(280));var e=t.stateNode;e&&(e=bp(e),WO(t.stateNode,t.type,e))}}function EV(t){xl?_l?_l.push(t):_l=[t]:xl=t}function OV(){if(xl){var t=xl,e=_l;if(_l=xl=null,nI(t),e)for(t=0;t<e.length;t++)nI(e[t])}}function PV(t,e){return t(e)}function NV(){}var Tm=!1;function CV(t,e,r){if(Tm)return t(e,r);Tm=!0;try{return PV(t,e,r)}finally{Tm=!1,(xl!==null||_l!==null)&&(NV(),OV())}}function zc(t,e){var r=t.stateNode;if(r===null)return null;var n=bp(r);if(n===null)return null;r=n[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(t=t.type,n=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!n;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(X(231,e,typeof r));return r}var VO=!1;if(Zi)try{var Ju={};Object.defineProperty(Ju,"passive",{get:function(){VO=!0}}),window.addEventListener("test",Ju,Ju),window.removeEventListener("test",Ju,Ju)}catch{VO=!1}function vQ(t,e,r,n,i,s,a,o,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(r,u)}catch(d){this.onError(d)}}var Sc=!1,xf=null,_f=!1,HO=null,gQ={onError:function(t){Sc=!0,xf=t}};function yQ(t,e,r,n,i,s,a,o,l){Sc=!1,xf=null,vQ.apply(gQ,arguments)}function bQ(t,e,r,n,i,s,a,o,l){if(yQ.apply(this,arguments),Sc){if(Sc){var u=xf;Sc=!1,xf=null}else throw Error(X(198));_f||(_f=!0,HO=u)}}function Po(t){var e=t,r=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(r=e.return),t=e.return;while(t)}return e.tag===3?r:null}function TV(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function iI(t){if(Po(t)!==t)throw Error(X(188))}function wQ(t){var e=t.alternate;if(!e){if(e=Po(t),e===null)throw Error(X(188));return e!==t?null:t}for(var r=t,n=e;;){var i=r.return;if(i===null)break;var s=i.alternate;if(s===null){if(n=i.return,n!==null){r=n;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===r)return iI(i),t;if(s===n)return iI(i),e;s=s.sibling}throw Error(X(188))}if(r.return!==n.return)r=i,n=s;else{for(var a=!1,o=i.child;o;){if(o===r){a=!0,r=i,n=s;break}if(o===n){a=!0,n=i,r=s;break}o=o.sibling}if(!a){for(o=s.child;o;){if(o===r){a=!0,r=s,n=i;break}if(o===n){a=!0,n=s,r=i;break}o=o.sibling}if(!a)throw Error(X(189))}}if(r.alternate!==n)throw Error(X(190))}if(r.tag!==3)throw Error(X(188));return r.stateNode.current===r?t:e}function IV(t){return t=wQ(t),t!==null?RV(t):null}function RV(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=RV(t);if(e!==null)return e;t=t.sibling}return null}var jV=mn.unstable_scheduleCallback,sI=mn.unstable_cancelCallback,xQ=mn.unstable_shouldYield,_Q=mn.unstable_requestPaint,Pt=mn.unstable_now,SQ=mn.unstable_getCurrentPriorityLevel,jN=mn.unstable_ImmediatePriority,$V=mn.unstable_UserBlockingPriority,Sf=mn.unstable_NormalPriority,EQ=mn.unstable_LowPriority,kV=mn.unstable_IdlePriority,mp=null,xi=null;function OQ(t){if(xi&&typeof xi.onCommitFiberRoot=="function")try{xi.onCommitFiberRoot(mp,t,void 0,(t.current.flags&128)===128)}catch{}}var ei=Math.clz32?Math.clz32:CQ,PQ=Math.log,NQ=Math.LN2;function CQ(t){return t>>>=0,t===0?32:31-(PQ(t)/NQ|0)|0}var Ch=64,Th=4194304;function vc(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Ef(t,e){var r=t.pendingLanes;if(r===0)return 0;var n=0,i=t.suspendedLanes,s=t.pingedLanes,a=r&268435455;if(a!==0){var o=a&~i;o!==0?n=vc(o):(s&=a,s!==0&&(n=vc(s)))}else a=r&~i,a!==0?n=vc(a):s!==0&&(n=vc(s));if(n===0)return 0;if(e!==0&&e!==n&&!(e&i)&&(i=n&-n,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(n&4&&(n|=r&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=n;0<e;)r=31-ei(e),i=1<<r,n|=t[r],e&=~i;return n}function TQ(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function IQ(t,e){for(var r=t.suspendedLanes,n=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var a=31-ei(s),o=1<<a,l=i[a];l===-1?(!(o&r)||o&n)&&(i[a]=TQ(o,e)):l<=e&&(t.expiredLanes|=o),s&=~o}}function KO(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function DV(){var t=Ch;return Ch<<=1,!(Ch&4194240)&&(Ch=64),t}function Im(t){for(var e=[],r=0;31>r;r++)e.push(t);return e}function Id(t,e,r){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-ei(e),t[e]=r}function RQ(t,e){var r=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var n=t.eventTimes;for(t=t.expirationTimes;0<r;){var i=31-ei(r),s=1<<i;e[i]=0,n[i]=-1,t[i]=-1,r&=~s}}function $N(t,e){var r=t.entangledLanes|=e;for(t=t.entanglements;r;){var n=31-ei(r),i=1<<n;i&e|t[n]&e&&(t[n]|=e),r&=~i}}var We=0;function qV(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var MV,kN,AV,FV,LV,GO=!1,Ih=[],Bs=null,zs=null,Us=null,Uc=new Map,Wc=new Map,Es=[],jQ="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function aI(t,e){switch(t){case"focusin":case"focusout":Bs=null;break;case"dragenter":case"dragleave":zs=null;break;case"mouseover":case"mouseout":Us=null;break;case"pointerover":case"pointerout":Uc.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Wc.delete(e.pointerId)}}function Zu(t,e,r,n,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:r,eventSystemFlags:n,nativeEvent:s,targetContainers:[i]},e!==null&&(e=jd(e),e!==null&&kN(e)),t):(t.eventSystemFlags|=n,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function $Q(t,e,r,n,i){switch(e){case"focusin":return Bs=Zu(Bs,t,e,r,n,i),!0;case"dragenter":return zs=Zu(zs,t,e,r,n,i),!0;case"mouseover":return Us=Zu(Us,t,e,r,n,i),!0;case"pointerover":var s=i.pointerId;return Uc.set(s,Zu(Uc.get(s)||null,t,e,r,n,i)),!0;case"gotpointercapture":return s=i.pointerId,Wc.set(s,Zu(Wc.get(s)||null,t,e,r,n,i)),!0}return!1}function BV(t){var e=Na(t.target);if(e!==null){var r=Po(e);if(r!==null){if(e=r.tag,e===13){if(e=TV(r),e!==null){t.blockedOn=e,LV(t.priority,function(){AV(r)});return}}else if(e===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function ef(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var r=YO(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(r===null){r=t.nativeEvent;var n=new r.constructor(r.type,r);UO=n,r.target.dispatchEvent(n),UO=null}else return e=jd(r),e!==null&&kN(e),t.blockedOn=r,!1;e.shift()}return!0}function oI(t,e,r){ef(t)&&r.delete(e)}function kQ(){GO=!1,Bs!==null&&ef(Bs)&&(Bs=null),zs!==null&&ef(zs)&&(zs=null),Us!==null&&ef(Us)&&(Us=null),Uc.forEach(oI),Wc.forEach(oI)}function ec(t,e){t.blockedOn===e&&(t.blockedOn=null,GO||(GO=!0,mn.unstable_scheduleCallback(mn.unstable_NormalPriority,kQ)))}function Vc(t){function e(i){return ec(i,t)}if(0<Ih.length){ec(Ih[0],t);for(var r=1;r<Ih.length;r++){var n=Ih[r];n.blockedOn===t&&(n.blockedOn=null)}}for(Bs!==null&&ec(Bs,t),zs!==null&&ec(zs,t),Us!==null&&ec(Us,t),Uc.forEach(e),Wc.forEach(e),r=0;r<Es.length;r++)n=Es[r],n.blockedOn===t&&(n.blockedOn=null);for(;0<Es.length&&(r=Es[0],r.blockedOn===null);)BV(r),r.blockedOn===null&&Es.shift()}var Sl=is.ReactCurrentBatchConfig,Of=!0;function DQ(t,e,r,n){var i=We,s=Sl.transition;Sl.transition=null;try{We=1,DN(t,e,r,n)}finally{We=i,Sl.transition=s}}function qQ(t,e,r,n){var i=We,s=Sl.transition;Sl.transition=null;try{We=4,DN(t,e,r,n)}finally{We=i,Sl.transition=s}}function DN(t,e,r,n){if(Of){var i=YO(t,e,r,n);if(i===null)Lm(t,e,n,Pf,r),aI(t,n);else if($Q(i,t,e,r,n))n.stopPropagation();else if(aI(t,n),e&4&&-1<jQ.indexOf(t)){for(;i!==null;){var s=jd(i);if(s!==null&&MV(s),s=YO(t,e,r,n),s===null&&Lm(t,e,n,Pf,r),s===i)break;i=s}i!==null&&n.stopPropagation()}else Lm(t,e,n,null,r)}}var Pf=null;function YO(t,e,r,n){if(Pf=null,t=RN(n),t=Na(t),t!==null)if(e=Po(t),e===null)t=null;else if(r=e.tag,r===13){if(t=TV(e),t!==null)return t;t=null}else if(r===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Pf=t,null}function zV(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(SQ()){case jN:return 1;case $V:return 4;case Sf:case EQ:return 16;case kV:return 536870912;default:return 16}default:return 16}}var Ms=null,qN=null,tf=null;function UV(){if(tf)return tf;var t,e=qN,r=e.length,n,i="value"in Ms?Ms.value:Ms.textContent,s=i.length;for(t=0;t<r&&e[t]===i[t];t++);var a=r-t;for(n=1;n<=a&&e[r-n]===i[s-n];n++);return tf=i.slice(t,1<n?1-n:void 0)}function rf(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Rh(){return!0}function lI(){return!1}function gn(t){function e(r,n,i,s,a){this._reactName=r,this._targetInst=i,this.type=n,this.nativeEvent=s,this.target=a,this.currentTarget=null;for(var o in t)t.hasOwnProperty(o)&&(r=t[o],this[o]=r?r(s):s[o]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Rh:lI,this.isPropagationStopped=lI,this}return mt(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Rh)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Rh)},persist:function(){},isPersistent:Rh}),e}var fu={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},MN=gn(fu),Rd=mt({},fu,{view:0,detail:0}),MQ=gn(Rd),Rm,jm,tc,vp=mt({},Rd,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:AN,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==tc&&(tc&&t.type==="mousemove"?(Rm=t.screenX-tc.screenX,jm=t.screenY-tc.screenY):jm=Rm=0,tc=t),Rm)},movementY:function(t){return"movementY"in t?t.movementY:jm}}),uI=gn(vp),AQ=mt({},vp,{dataTransfer:0}),FQ=gn(AQ),LQ=mt({},Rd,{relatedTarget:0}),$m=gn(LQ),BQ=mt({},fu,{animationName:0,elapsedTime:0,pseudoElement:0}),zQ=gn(BQ),UQ=mt({},fu,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),WQ=gn(UQ),VQ=mt({},fu,{data:0}),cI=gn(VQ),HQ={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},KQ={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},GQ={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function YQ(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=GQ[t])?!!e[t]:!1}function AN(){return YQ}var QQ=mt({},Rd,{key:function(t){if(t.key){var e=HQ[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=rf(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?KQ[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:AN,charCode:function(t){return t.type==="keypress"?rf(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?rf(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),XQ=gn(QQ),JQ=mt({},vp,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),dI=gn(JQ),ZQ=mt({},Rd,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:AN}),eX=gn(ZQ),tX=mt({},fu,{propertyName:0,elapsedTime:0,pseudoElement:0}),rX=gn(tX),nX=mt({},vp,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),iX=gn(nX),sX=[9,13,27,32],FN=Zi&&"CompositionEvent"in window,Ec=null;Zi&&"documentMode"in document&&(Ec=document.documentMode);var aX=Zi&&"TextEvent"in window&&!Ec,WV=Zi&&(!FN||Ec&&8<Ec&&11>=Ec),hI=" ",fI=!1;function VV(t,e){switch(t){case"keyup":return sX.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function HV(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var il=!1;function oX(t,e){switch(t){case"compositionend":return HV(e);case"keypress":return e.which!==32?null:(fI=!0,hI);case"textInput":return t=e.data,t===hI&&fI?null:t;default:return null}}function lX(t,e){if(il)return t==="compositionend"||!FN&&VV(t,e)?(t=UV(),tf=qN=Ms=null,il=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return WV&&e.locale!=="ko"?null:e.data;default:return null}}var uX={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function pI(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!uX[t.type]:e==="textarea"}function KV(t,e,r,n){EV(n),e=Nf(e,"onChange"),0<e.length&&(r=new MN("onChange","change",null,r,n),t.push({event:r,listeners:e}))}var Oc=null,Hc=null;function cX(t){iH(t,0)}function gp(t){var e=ol(t);if(gV(e))return t}function dX(t,e){if(t==="change")return e}var GV=!1;if(Zi){var km;if(Zi){var Dm="oninput"in document;if(!Dm){var mI=document.createElement("div");mI.setAttribute("oninput","return;"),Dm=typeof mI.oninput=="function"}km=Dm}else km=!1;GV=km&&(!document.documentMode||9<document.documentMode)}function vI(){Oc&&(Oc.detachEvent("onpropertychange",YV),Hc=Oc=null)}function YV(t){if(t.propertyName==="value"&&gp(Hc)){var e=[];KV(e,Hc,t,RN(t)),CV(cX,e)}}function hX(t,e,r){t==="focusin"?(vI(),Oc=e,Hc=r,Oc.attachEvent("onpropertychange",YV)):t==="focusout"&&vI()}function fX(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return gp(Hc)}function pX(t,e){if(t==="click")return gp(e)}function mX(t,e){if(t==="input"||t==="change")return gp(e)}function vX(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var ri=typeof Object.is=="function"?Object.is:vX;function Kc(t,e){if(ri(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var i=r[n];if(!RO.call(e,i)||!ri(t[i],e[i]))return!1}return!0}function gI(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function yI(t,e){var r=gI(t);t=0;for(var n;r;){if(r.nodeType===3){if(n=t+r.textContent.length,t<=e&&n>=e)return{node:r,offset:e-t};t=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=gI(r)}}function QV(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?QV(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function XV(){for(var t=window,e=wf();e instanceof t.HTMLIFrameElement;){try{var r=typeof e.contentWindow.location.href=="string"}catch{r=!1}if(r)t=e.contentWindow;else break;e=wf(t.document)}return e}function LN(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function gX(t){var e=XV(),r=t.focusedElem,n=t.selectionRange;if(e!==r&&r&&r.ownerDocument&&QV(r.ownerDocument.documentElement,r)){if(n!==null&&LN(r)){if(e=n.start,t=n.end,t===void 0&&(t=e),"selectionStart"in r)r.selectionStart=e,r.selectionEnd=Math.min(t,r.value.length);else if(t=(e=r.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=r.textContent.length,s=Math.min(n.start,i);n=n.end===void 0?s:Math.min(n.end,i),!t.extend&&s>n&&(i=n,n=s,s=i),i=yI(r,s);var a=yI(r,n);i&&a&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==a.node||t.focusOffset!==a.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>n?(t.addRange(e),t.extend(a.node,a.offset)):(e.setEnd(a.node,a.offset),t.addRange(e)))}}for(e=[],t=r;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<e.length;r++)t=e[r],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var yX=Zi&&"documentMode"in document&&11>=document.documentMode,sl=null,QO=null,Pc=null,XO=!1;function bI(t,e,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;XO||sl==null||sl!==wf(n)||(n=sl,"selectionStart"in n&&LN(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Pc&&Kc(Pc,n)||(Pc=n,n=Nf(QO,"onSelect"),0<n.length&&(e=new MN("onSelect","select",null,e,r),t.push({event:e,listeners:n}),e.target=sl)))}function jh(t,e){var r={};return r[t.toLowerCase()]=e.toLowerCase(),r["Webkit"+t]="webkit"+e,r["Moz"+t]="moz"+e,r}var al={animationend:jh("Animation","AnimationEnd"),animationiteration:jh("Animation","AnimationIteration"),animationstart:jh("Animation","AnimationStart"),transitionend:jh("Transition","TransitionEnd")},qm={},JV={};Zi&&(JV=document.createElement("div").style,"AnimationEvent"in window||(delete al.animationend.animation,delete al.animationiteration.animation,delete al.animationstart.animation),"TransitionEvent"in window||delete al.transitionend.transition);function yp(t){if(qm[t])return qm[t];if(!al[t])return t;var e=al[t],r;for(r in e)if(e.hasOwnProperty(r)&&r in JV)return qm[t]=e[r];return t}var ZV=yp("animationend"),eH=yp("animationiteration"),tH=yp("animationstart"),rH=yp("transitionend"),nH=new Map,wI="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ca(t,e){nH.set(t,e),Oo(e,[t])}for(var Mm=0;Mm<wI.length;Mm++){var Am=wI[Mm],bX=Am.toLowerCase(),wX=Am[0].toUpperCase()+Am.slice(1);ca(bX,"on"+wX)}ca(ZV,"onAnimationEnd");ca(eH,"onAnimationIteration");ca(tH,"onAnimationStart");ca("dblclick","onDoubleClick");ca("focusin","onFocus");ca("focusout","onBlur");ca(rH,"onTransitionEnd");Vl("onMouseEnter",["mouseout","mouseover"]);Vl("onMouseLeave",["mouseout","mouseover"]);Vl("onPointerEnter",["pointerout","pointerover"]);Vl("onPointerLeave",["pointerout","pointerover"]);Oo("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Oo("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Oo("onBeforeInput",["compositionend","keypress","textInput","paste"]);Oo("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Oo("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Oo("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var gc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),xX=new Set("cancel close invalid load scroll toggle".split(" ").concat(gc));function xI(t,e,r){var n=t.type||"unknown-event";t.currentTarget=r,bQ(n,e,void 0,t),t.currentTarget=null}function iH(t,e){e=(e&4)!==0;for(var r=0;r<t.length;r++){var n=t[r],i=n.event;n=n.listeners;e:{var s=void 0;if(e)for(var a=n.length-1;0<=a;a--){var o=n[a],l=o.instance,u=o.currentTarget;if(o=o.listener,l!==s&&i.isPropagationStopped())break e;xI(i,o,u),s=l}else for(a=0;a<n.length;a++){if(o=n[a],l=o.instance,u=o.currentTarget,o=o.listener,l!==s&&i.isPropagationStopped())break e;xI(i,o,u),s=l}}}if(_f)throw t=HO,_f=!1,HO=null,t}function st(t,e){var r=e[rP];r===void 0&&(r=e[rP]=new Set);var n=t+"__bubble";r.has(n)||(sH(e,t,2,!1),r.add(n))}function Fm(t,e,r){var n=0;e&&(n|=4),sH(r,t,n,e)}var $h="_reactListening"+Math.random().toString(36).slice(2);function Gc(t){if(!t[$h]){t[$h]=!0,hV.forEach(function(r){r!=="selectionchange"&&(xX.has(r)||Fm(r,!1,t),Fm(r,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[$h]||(e[$h]=!0,Fm("selectionchange",!1,e))}}function sH(t,e,r,n){switch(zV(e)){case 1:var i=DQ;break;case 4:i=qQ;break;default:i=DN}r=i.bind(null,e,r,t),i=void 0,!VO||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),n?i!==void 0?t.addEventListener(e,r,{capture:!0,passive:i}):t.addEventListener(e,r,!0):i!==void 0?t.addEventListener(e,r,{passive:i}):t.addEventListener(e,r,!1)}function Lm(t,e,r,n,i){var s=n;if(!(e&1)&&!(e&2)&&n!==null)e:for(;;){if(n===null)return;var a=n.tag;if(a===3||a===4){var o=n.stateNode.containerInfo;if(o===i||o.nodeType===8&&o.parentNode===i)break;if(a===4)for(a=n.return;a!==null;){var l=a.tag;if((l===3||l===4)&&(l=a.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;a=a.return}for(;o!==null;){if(a=Na(o),a===null)return;if(l=a.tag,l===5||l===6){n=s=a;continue e}o=o.parentNode}}n=n.return}CV(function(){var u=s,d=RN(r),h=[];e:{var f=nH.get(t);if(f!==void 0){var p=MN,m=t;switch(t){case"keypress":if(rf(r)===0)break e;case"keydown":case"keyup":p=XQ;break;case"focusin":m="focus",p=$m;break;case"focusout":m="blur",p=$m;break;case"beforeblur":case"afterblur":p=$m;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=uI;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=FQ;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=eX;break;case ZV:case eH:case tH:p=zQ;break;case rH:p=rX;break;case"scroll":p=MQ;break;case"wheel":p=iX;break;case"copy":case"cut":case"paste":p=WQ;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=dI}var y=(e&4)!==0,b=!y&&t==="scroll",g=y?f!==null?f+"Capture":null:f;y=[];for(var v=u,x;v!==null;){x=v;var w=x.stateNode;if(x.tag===5&&w!==null&&(x=w,g!==null&&(w=zc(v,g),w!=null&&y.push(Yc(v,w,x)))),b)break;v=v.return}0<y.length&&(f=new p(f,m,null,r,d),h.push({event:f,listeners:y}))}}if(!(e&7)){e:{if(f=t==="mouseover"||t==="pointerover",p=t==="mouseout"||t==="pointerout",f&&r!==UO&&(m=r.relatedTarget||r.fromElement)&&(Na(m)||m[es]))break e;if((p||f)&&(f=d.window===d?d:(f=d.ownerDocument)?f.defaultView||f.parentWindow:window,p?(m=r.relatedTarget||r.toElement,p=u,m=m?Na(m):null,m!==null&&(b=Po(m),m!==b||m.tag!==5&&m.tag!==6)&&(m=null)):(p=null,m=u),p!==m)){if(y=uI,w="onMouseLeave",g="onMouseEnter",v="mouse",(t==="pointerout"||t==="pointerover")&&(y=dI,w="onPointerLeave",g="onPointerEnter",v="pointer"),b=p==null?f:ol(p),x=m==null?f:ol(m),f=new y(w,v+"leave",p,r,d),f.target=b,f.relatedTarget=x,w=null,Na(d)===u&&(y=new y(g,v+"enter",m,r,d),y.target=x,y.relatedTarget=b,w=y),b=w,p&&m)t:{for(y=p,g=m,v=0,x=y;x;x=Go(x))v++;for(x=0,w=g;w;w=Go(w))x++;for(;0<v-x;)y=Go(y),v--;for(;0<x-v;)g=Go(g),x--;for(;v--;){if(y===g||g!==null&&y===g.alternate)break t;y=Go(y),g=Go(g)}y=null}else y=null;p!==null&&_I(h,f,p,y,!1),m!==null&&b!==null&&_I(h,b,m,y,!0)}}e:{if(f=u?ol(u):window,p=f.nodeName&&f.nodeName.toLowerCase(),p==="select"||p==="input"&&f.type==="file")var _=dX;else if(pI(f))if(GV)_=mX;else{_=fX;var E=hX}else(p=f.nodeName)&&p.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(_=pX);if(_&&(_=_(t,u))){KV(h,_,r,d);break e}E&&E(t,f,u),t==="focusout"&&(E=f._wrapperState)&&E.controlled&&f.type==="number"&&AO(f,"number",f.value)}switch(E=u?ol(u):window,t){case"focusin":(pI(E)||E.contentEditable==="true")&&(sl=E,QO=u,Pc=null);break;case"focusout":Pc=QO=sl=null;break;case"mousedown":XO=!0;break;case"contextmenu":case"mouseup":case"dragend":XO=!1,bI(h,r,d);break;case"selectionchange":if(yX)break;case"keydown":case"keyup":bI(h,r,d)}var O;if(FN)e:{switch(t){case"compositionstart":var S="onCompositionStart";break e;case"compositionend":S="onCompositionEnd";break e;case"compositionupdate":S="onCompositionUpdate";break e}S=void 0}else il?VV(t,r)&&(S="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(S="onCompositionStart");S&&(WV&&r.locale!=="ko"&&(il||S!=="onCompositionStart"?S==="onCompositionEnd"&&il&&(O=UV()):(Ms=d,qN="value"in Ms?Ms.value:Ms.textContent,il=!0)),E=Nf(u,S),0<E.length&&(S=new cI(S,t,null,r,d),h.push({event:S,listeners:E}),O?S.data=O:(O=HV(r),O!==null&&(S.data=O)))),(O=aX?oX(t,r):lX(t,r))&&(u=Nf(u,"onBeforeInput"),0<u.length&&(d=new cI("onBeforeInput","beforeinput",null,r,d),h.push({event:d,listeners:u}),d.data=O))}iH(h,e)})}function Yc(t,e,r){return{instance:t,listener:e,currentTarget:r}}function Nf(t,e){for(var r=e+"Capture",n=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=zc(t,r),s!=null&&n.unshift(Yc(t,s,i)),s=zc(t,e),s!=null&&n.push(Yc(t,s,i))),t=t.return}return n}function Go(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function _I(t,e,r,n,i){for(var s=e._reactName,a=[];r!==null&&r!==n;){var o=r,l=o.alternate,u=o.stateNode;if(l!==null&&l===n)break;o.tag===5&&u!==null&&(o=u,i?(l=zc(r,s),l!=null&&a.unshift(Yc(r,l,o))):i||(l=zc(r,s),l!=null&&a.push(Yc(r,l,o)))),r=r.return}a.length!==0&&t.push({event:e,listeners:a})}var _X=/\r\n?/g,SX=/\u0000|\uFFFD/g;function SI(t){return(typeof t=="string"?t:""+t).replace(_X,`
`).replace(SX,"")}function kh(t,e,r){if(e=SI(e),SI(t)!==e&&r)throw Error(X(425))}function Cf(){}var JO=null,ZO=null;function eP(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var tP=typeof setTimeout=="function"?setTimeout:void 0,EX=typeof clearTimeout=="function"?clearTimeout:void 0,EI=typeof Promise=="function"?Promise:void 0,OX=typeof queueMicrotask=="function"?queueMicrotask:typeof EI<"u"?function(t){return EI.resolve(null).then(t).catch(PX)}:tP;function PX(t){setTimeout(function(){throw t})}function Bm(t,e){var r=e,n=0;do{var i=r.nextSibling;if(t.removeChild(r),i&&i.nodeType===8)if(r=i.data,r==="/$"){if(n===0){t.removeChild(i),Vc(e);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=i}while(r);Vc(e)}function Ws(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function OI(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(e===0)return t;e--}else r==="/$"&&e++}t=t.previousSibling}return null}var pu=Math.random().toString(36).slice(2),vi="__reactFiber$"+pu,Qc="__reactProps$"+pu,es="__reactContainer$"+pu,rP="__reactEvents$"+pu,NX="__reactListeners$"+pu,CX="__reactHandles$"+pu;function Na(t){var e=t[vi];if(e)return e;for(var r=t.parentNode;r;){if(e=r[es]||r[vi]){if(r=e.alternate,e.child!==null||r!==null&&r.child!==null)for(t=OI(t);t!==null;){if(r=t[vi])return r;t=OI(t)}return e}t=r,r=t.parentNode}return null}function jd(t){return t=t[vi]||t[es],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function ol(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(X(33))}function bp(t){return t[Qc]||null}var nP=[],ll=-1;function da(t){return{current:t}}function at(t){0>ll||(t.current=nP[ll],nP[ll]=null,ll--)}function nt(t,e){ll++,nP[ll]=t.current,t.current=e}var ia={},Sr=da(ia),Yr=da(!1),no=ia;function Hl(t,e){var r=t.type.contextTypes;if(!r)return ia;var n=t.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===e)return n.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in r)i[s]=e[s];return n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function Qr(t){return t=t.childContextTypes,t!=null}function Tf(){at(Yr),at(Sr)}function PI(t,e,r){if(Sr.current!==ia)throw Error(X(168));nt(Sr,e),nt(Yr,r)}function aH(t,e,r){var n=t.stateNode;if(e=e.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var i in n)if(!(i in e))throw Error(X(108,hQ(t)||"Unknown",i));return mt({},r,n)}function If(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||ia,no=Sr.current,nt(Sr,t),nt(Yr,Yr.current),!0}function NI(t,e,r){var n=t.stateNode;if(!n)throw Error(X(169));r?(t=aH(t,e,no),n.__reactInternalMemoizedMergedChildContext=t,at(Yr),at(Sr),nt(Sr,t)):at(Yr),nt(Yr,r)}var $i=null,wp=!1,zm=!1;function oH(t){$i===null?$i=[t]:$i.push(t)}function TX(t){wp=!0,oH(t)}function ha(){if(!zm&&$i!==null){zm=!0;var t=0,e=We;try{var r=$i;for(We=1;t<r.length;t++){var n=r[t];do n=n(!0);while(n!==null)}$i=null,wp=!1}catch(i){throw $i!==null&&($i=$i.slice(t+1)),jV(jN,ha),i}finally{We=e,zm=!1}}return null}var ul=[],cl=0,Rf=null,jf=0,Nn=[],Cn=0,io=null,Ai=1,Fi="";function Ea(t,e){ul[cl++]=jf,ul[cl++]=Rf,Rf=t,jf=e}function lH(t,e,r){Nn[Cn++]=Ai,Nn[Cn++]=Fi,Nn[Cn++]=io,io=t;var n=Ai;t=Fi;var i=32-ei(n)-1;n&=~(1<<i),r+=1;var s=32-ei(e)+i;if(30<s){var a=i-i%5;s=(n&(1<<a)-1).toString(32),n>>=a,i-=a,Ai=1<<32-ei(e)+i|r<<i|n,Fi=s+t}else Ai=1<<s|r<<i|n,Fi=t}function BN(t){t.return!==null&&(Ea(t,1),lH(t,1,0))}function zN(t){for(;t===Rf;)Rf=ul[--cl],ul[cl]=null,jf=ul[--cl],ul[cl]=null;for(;t===io;)io=Nn[--Cn],Nn[Cn]=null,Fi=Nn[--Cn],Nn[Cn]=null,Ai=Nn[--Cn],Nn[Cn]=null}var pn=null,fn=null,ut=!1,Gn=null;function uH(t,e){var r=In(5,null,null,0);r.elementType="DELETED",r.stateNode=e,r.return=t,e=t.deletions,e===null?(t.deletions=[r],t.flags|=16):e.push(r)}function CI(t,e){switch(t.tag){case 5:var r=t.type;return e=e.nodeType!==1||r.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,pn=t,fn=Ws(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,pn=t,fn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(r=io!==null?{id:Ai,overflow:Fi}:null,t.memoizedState={dehydrated:e,treeContext:r,retryLane:1073741824},r=In(18,null,null,0),r.stateNode=e,r.return=t,t.child=r,pn=t,fn=null,!0):!1;default:return!1}}function iP(t){return(t.mode&1)!==0&&(t.flags&128)===0}function sP(t){if(ut){var e=fn;if(e){var r=e;if(!CI(t,e)){if(iP(t))throw Error(X(418));e=Ws(r.nextSibling);var n=pn;e&&CI(t,e)?uH(n,r):(t.flags=t.flags&-4097|2,ut=!1,pn=t)}}else{if(iP(t))throw Error(X(418));t.flags=t.flags&-4097|2,ut=!1,pn=t}}}function TI(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;pn=t}function Dh(t){if(t!==pn)return!1;if(!ut)return TI(t),ut=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!eP(t.type,t.memoizedProps)),e&&(e=fn)){if(iP(t))throw cH(),Error(X(418));for(;e;)uH(t,e),e=Ws(e.nextSibling)}if(TI(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(X(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"){if(e===0){fn=Ws(t.nextSibling);break e}e--}else r!=="$"&&r!=="$!"&&r!=="$?"||e++}t=t.nextSibling}fn=null}}else fn=pn?Ws(t.stateNode.nextSibling):null;return!0}function cH(){for(var t=fn;t;)t=Ws(t.nextSibling)}function Kl(){fn=pn=null,ut=!1}function UN(t){Gn===null?Gn=[t]:Gn.push(t)}var IX=is.ReactCurrentBatchConfig;function rc(t,e,r){if(t=r.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(X(309));var n=r.stateNode}if(!n)throw Error(X(147,t));var i=n,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(a){var o=i.refs;a===null?delete o[s]:o[s]=a},e._stringRef=s,e)}if(typeof t!="string")throw Error(X(284));if(!r._owner)throw Error(X(290,t))}return t}function qh(t,e){throw t=Object.prototype.toString.call(e),Error(X(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function II(t){var e=t._init;return e(t._payload)}function dH(t){function e(g,v){if(t){var x=g.deletions;x===null?(g.deletions=[v],g.flags|=16):x.push(v)}}function r(g,v){if(!t)return null;for(;v!==null;)e(g,v),v=v.sibling;return null}function n(g,v){for(g=new Map;v!==null;)v.key!==null?g.set(v.key,v):g.set(v.index,v),v=v.sibling;return g}function i(g,v){return g=Gs(g,v),g.index=0,g.sibling=null,g}function s(g,v,x){return g.index=x,t?(x=g.alternate,x!==null?(x=x.index,x<v?(g.flags|=2,v):x):(g.flags|=2,v)):(g.flags|=1048576,v)}function a(g){return t&&g.alternate===null&&(g.flags|=2),g}function o(g,v,x,w){return v===null||v.tag!==6?(v=Ym(x,g.mode,w),v.return=g,v):(v=i(v,x),v.return=g,v)}function l(g,v,x,w){var _=x.type;return _===nl?d(g,v,x.props.children,w,x.key):v!==null&&(v.elementType===_||typeof _=="object"&&_!==null&&_.$$typeof===bs&&II(_)===v.type)?(w=i(v,x.props),w.ref=rc(g,v,x),w.return=g,w):(w=cf(x.type,x.key,x.props,null,g.mode,w),w.ref=rc(g,v,x),w.return=g,w)}function u(g,v,x,w){return v===null||v.tag!==4||v.stateNode.containerInfo!==x.containerInfo||v.stateNode.implementation!==x.implementation?(v=Qm(x,g.mode,w),v.return=g,v):(v=i(v,x.children||[]),v.return=g,v)}function d(g,v,x,w,_){return v===null||v.tag!==7?(v=Ga(x,g.mode,w,_),v.return=g,v):(v=i(v,x),v.return=g,v)}function h(g,v,x){if(typeof v=="string"&&v!==""||typeof v=="number")return v=Ym(""+v,g.mode,x),v.return=g,v;if(typeof v=="object"&&v!==null){switch(v.$$typeof){case Oh:return x=cf(v.type,v.key,v.props,null,g.mode,x),x.ref=rc(g,null,v),x.return=g,x;case rl:return v=Qm(v,g.mode,x),v.return=g,v;case bs:var w=v._init;return h(g,w(v._payload),x)}if(mc(v)||Xu(v))return v=Ga(v,g.mode,x,null),v.return=g,v;qh(g,v)}return null}function f(g,v,x,w){var _=v!==null?v.key:null;if(typeof x=="string"&&x!==""||typeof x=="number")return _!==null?null:o(g,v,""+x,w);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case Oh:return x.key===_?l(g,v,x,w):null;case rl:return x.key===_?u(g,v,x,w):null;case bs:return _=x._init,f(g,v,_(x._payload),w)}if(mc(x)||Xu(x))return _!==null?null:d(g,v,x,w,null);qh(g,x)}return null}function p(g,v,x,w,_){if(typeof w=="string"&&w!==""||typeof w=="number")return g=g.get(x)||null,o(v,g,""+w,_);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Oh:return g=g.get(w.key===null?x:w.key)||null,l(v,g,w,_);case rl:return g=g.get(w.key===null?x:w.key)||null,u(v,g,w,_);case bs:var E=w._init;return p(g,v,x,E(w._payload),_)}if(mc(w)||Xu(w))return g=g.get(x)||null,d(v,g,w,_,null);qh(v,w)}return null}function m(g,v,x,w){for(var _=null,E=null,O=v,S=v=0,P=null;O!==null&&S<x.length;S++){O.index>S?(P=O,O=null):P=O.sibling;var N=f(g,O,x[S],w);if(N===null){O===null&&(O=P);break}t&&O&&N.alternate===null&&e(g,O),v=s(N,v,S),E===null?_=N:E.sibling=N,E=N,O=P}if(S===x.length)return r(g,O),ut&&Ea(g,S),_;if(O===null){for(;S<x.length;S++)O=h(g,x[S],w),O!==null&&(v=s(O,v,S),E===null?_=O:E.sibling=O,E=O);return ut&&Ea(g,S),_}for(O=n(g,O);S<x.length;S++)P=p(O,g,S,x[S],w),P!==null&&(t&&P.alternate!==null&&O.delete(P.key===null?S:P.key),v=s(P,v,S),E===null?_=P:E.sibling=P,E=P);return t&&O.forEach(function(I){return e(g,I)}),ut&&Ea(g,S),_}function y(g,v,x,w){var _=Xu(x);if(typeof _!="function")throw Error(X(150));if(x=_.call(x),x==null)throw Error(X(151));for(var E=_=null,O=v,S=v=0,P=null,N=x.next();O!==null&&!N.done;S++,N=x.next()){O.index>S?(P=O,O=null):P=O.sibling;var I=f(g,O,N.value,w);if(I===null){O===null&&(O=P);break}t&&O&&I.alternate===null&&e(g,O),v=s(I,v,S),E===null?_=I:E.sibling=I,E=I,O=P}if(N.done)return r(g,O),ut&&Ea(g,S),_;if(O===null){for(;!N.done;S++,N=x.next())N=h(g,N.value,w),N!==null&&(v=s(N,v,S),E===null?_=N:E.sibling=N,E=N);return ut&&Ea(g,S),_}for(O=n(g,O);!N.done;S++,N=x.next())N=p(O,g,S,N.value,w),N!==null&&(t&&N.alternate!==null&&O.delete(N.key===null?S:N.key),v=s(N,v,S),E===null?_=N:E.sibling=N,E=N);return t&&O.forEach(function(C){return e(g,C)}),ut&&Ea(g,S),_}function b(g,v,x,w){if(typeof x=="object"&&x!==null&&x.type===nl&&x.key===null&&(x=x.props.children),typeof x=="object"&&x!==null){switch(x.$$typeof){case Oh:e:{for(var _=x.key,E=v;E!==null;){if(E.key===_){if(_=x.type,_===nl){if(E.tag===7){r(g,E.sibling),v=i(E,x.props.children),v.return=g,g=v;break e}}else if(E.elementType===_||typeof _=="object"&&_!==null&&_.$$typeof===bs&&II(_)===E.type){r(g,E.sibling),v=i(E,x.props),v.ref=rc(g,E,x),v.return=g,g=v;break e}r(g,E);break}else e(g,E);E=E.sibling}x.type===nl?(v=Ga(x.props.children,g.mode,w,x.key),v.return=g,g=v):(w=cf(x.type,x.key,x.props,null,g.mode,w),w.ref=rc(g,v,x),w.return=g,g=w)}return a(g);case rl:e:{for(E=x.key;v!==null;){if(v.key===E)if(v.tag===4&&v.stateNode.containerInfo===x.containerInfo&&v.stateNode.implementation===x.implementation){r(g,v.sibling),v=i(v,x.children||[]),v.return=g,g=v;break e}else{r(g,v);break}else e(g,v);v=v.sibling}v=Qm(x,g.mode,w),v.return=g,g=v}return a(g);case bs:return E=x._init,b(g,v,E(x._payload),w)}if(mc(x))return m(g,v,x,w);if(Xu(x))return y(g,v,x,w);qh(g,x)}return typeof x=="string"&&x!==""||typeof x=="number"?(x=""+x,v!==null&&v.tag===6?(r(g,v.sibling),v=i(v,x),v.return=g,g=v):(r(g,v),v=Ym(x,g.mode,w),v.return=g,g=v),a(g)):r(g,v)}return b}var Gl=dH(!0),hH=dH(!1),$f=da(null),kf=null,dl=null,WN=null;function VN(){WN=dl=kf=null}function HN(t){var e=$f.current;at($f),t._currentValue=e}function aP(t,e,r){for(;t!==null;){var n=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,n!==null&&(n.childLanes|=e)):n!==null&&(n.childLanes&e)!==e&&(n.childLanes|=e),t===r)break;t=t.return}}function El(t,e){kf=t,WN=dl=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Gr=!0),t.firstContext=null)}function kn(t){var e=t._currentValue;if(WN!==t)if(t={context:t,memoizedValue:e,next:null},dl===null){if(kf===null)throw Error(X(308));dl=t,kf.dependencies={lanes:0,firstContext:t}}else dl=dl.next=t;return e}var Ca=null;function KN(t){Ca===null?Ca=[t]:Ca.push(t)}function fH(t,e,r,n){var i=e.interleaved;return i===null?(r.next=r,KN(e)):(r.next=i.next,i.next=r),e.interleaved=r,ts(t,n)}function ts(t,e){t.lanes|=e;var r=t.alternate;for(r!==null&&(r.lanes|=e),r=t,t=t.return;t!==null;)t.childLanes|=e,r=t.alternate,r!==null&&(r.childLanes|=e),r=t,t=t.return;return r.tag===3?r.stateNode:null}var ws=!1;function GN(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function pH(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function zi(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Vs(t,e,r){var n=t.updateQueue;if(n===null)return null;if(n=n.shared,Le&2){var i=n.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),n.pending=e,ts(t,r)}return i=n.interleaved,i===null?(e.next=e,KN(n)):(e.next=i.next,i.next=e),n.interleaved=e,ts(t,r)}function nf(t,e,r){if(e=e.updateQueue,e!==null&&(e=e.shared,(r&4194240)!==0)){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,$N(t,r)}}function RI(t,e){var r=t.updateQueue,n=t.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var i=null,s=null;if(r=r.firstBaseUpdate,r!==null){do{var a={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};s===null?i=s=a:s=s.next=a,r=r.next}while(r!==null);s===null?i=s=e:s=s.next=e}else i=s=e;r={baseState:n.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:n.shared,effects:n.effects},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=e:t.next=e,r.lastBaseUpdate=e}function Df(t,e,r,n){var i=t.updateQueue;ws=!1;var s=i.firstBaseUpdate,a=i.lastBaseUpdate,o=i.shared.pending;if(o!==null){i.shared.pending=null;var l=o,u=l.next;l.next=null,a===null?s=u:a.next=u,a=l;var d=t.alternate;d!==null&&(d=d.updateQueue,o=d.lastBaseUpdate,o!==a&&(o===null?d.firstBaseUpdate=u:o.next=u,d.lastBaseUpdate=l))}if(s!==null){var h=i.baseState;a=0,d=u=l=null,o=s;do{var f=o.lane,p=o.eventTime;if((n&f)===f){d!==null&&(d=d.next={eventTime:p,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var m=t,y=o;switch(f=e,p=r,y.tag){case 1:if(m=y.payload,typeof m=="function"){h=m.call(p,h,f);break e}h=m;break e;case 3:m.flags=m.flags&-65537|128;case 0:if(m=y.payload,f=typeof m=="function"?m.call(p,h,f):m,f==null)break e;h=mt({},h,f);break e;case 2:ws=!0}}o.callback!==null&&o.lane!==0&&(t.flags|=64,f=i.effects,f===null?i.effects=[o]:f.push(o))}else p={eventTime:p,lane:f,tag:o.tag,payload:o.payload,callback:o.callback,next:null},d===null?(u=d=p,l=h):d=d.next=p,a|=f;if(o=o.next,o===null){if(o=i.shared.pending,o===null)break;f=o,o=f.next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}while(!0);if(d===null&&(l=h),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=d,e=i.shared.interleaved,e!==null){i=e;do a|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);ao|=a,t.lanes=a,t.memoizedState=h}}function jI(t,e,r){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var n=t[e],i=n.callback;if(i!==null){if(n.callback=null,n=r,typeof i!="function")throw Error(X(191,i));i.call(n)}}}var $d={},_i=da($d),Xc=da($d),Jc=da($d);function Ta(t){if(t===$d)throw Error(X(174));return t}function YN(t,e){switch(nt(Jc,e),nt(Xc,t),nt(_i,$d),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:LO(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=LO(e,t)}at(_i),nt(_i,e)}function Yl(){at(_i),at(Xc),at(Jc)}function mH(t){Ta(Jc.current);var e=Ta(_i.current),r=LO(e,t.type);e!==r&&(nt(Xc,t),nt(_i,r))}function QN(t){Xc.current===t&&(at(_i),at(Xc))}var ht=da(0);function qf(t){for(var e=t;e!==null;){if(e.tag===13){var r=e.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Um=[];function XN(){for(var t=0;t<Um.length;t++)Um[t]._workInProgressVersionPrimary=null;Um.length=0}var sf=is.ReactCurrentDispatcher,Wm=is.ReactCurrentBatchConfig,so=0,ft=null,Ut=null,Jt=null,Mf=!1,Nc=!1,Zc=0,RX=0;function gr(){throw Error(X(321))}function JN(t,e){if(e===null)return!1;for(var r=0;r<e.length&&r<t.length;r++)if(!ri(t[r],e[r]))return!1;return!0}function ZN(t,e,r,n,i,s){if(so=s,ft=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,sf.current=t===null||t.memoizedState===null?DX:qX,t=r(n,i),Nc){s=0;do{if(Nc=!1,Zc=0,25<=s)throw Error(X(301));s+=1,Jt=Ut=null,e.updateQueue=null,sf.current=MX,t=r(n,i)}while(Nc)}if(sf.current=Af,e=Ut!==null&&Ut.next!==null,so=0,Jt=Ut=ft=null,Mf=!1,e)throw Error(X(300));return t}function eC(){var t=Zc!==0;return Zc=0,t}function ci(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Jt===null?ft.memoizedState=Jt=t:Jt=Jt.next=t,Jt}function Dn(){if(Ut===null){var t=ft.alternate;t=t!==null?t.memoizedState:null}else t=Ut.next;var e=Jt===null?ft.memoizedState:Jt.next;if(e!==null)Jt=e,Ut=t;else{if(t===null)throw Error(X(310));Ut=t,t={memoizedState:Ut.memoizedState,baseState:Ut.baseState,baseQueue:Ut.baseQueue,queue:Ut.queue,next:null},Jt===null?ft.memoizedState=Jt=t:Jt=Jt.next=t}return Jt}function ed(t,e){return typeof e=="function"?e(t):e}function Vm(t){var e=Dn(),r=e.queue;if(r===null)throw Error(X(311));r.lastRenderedReducer=t;var n=Ut,i=n.baseQueue,s=r.pending;if(s!==null){if(i!==null){var a=i.next;i.next=s.next,s.next=a}n.baseQueue=i=s,r.pending=null}if(i!==null){s=i.next,n=n.baseState;var o=a=null,l=null,u=s;do{var d=u.lane;if((so&d)===d)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:t(n,u.action);else{var h={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(o=l=h,a=n):l=l.next=h,ft.lanes|=d,ao|=d}u=u.next}while(u!==null&&u!==s);l===null?a=n:l.next=o,ri(n,e.memoizedState)||(Gr=!0),e.memoizedState=n,e.baseState=a,e.baseQueue=l,r.lastRenderedState=n}if(t=r.interleaved,t!==null){i=t;do s=i.lane,ft.lanes|=s,ao|=s,i=i.next;while(i!==t)}else i===null&&(r.lanes=0);return[e.memoizedState,r.dispatch]}function Hm(t){var e=Dn(),r=e.queue;if(r===null)throw Error(X(311));r.lastRenderedReducer=t;var n=r.dispatch,i=r.pending,s=e.memoizedState;if(i!==null){r.pending=null;var a=i=i.next;do s=t(s,a.action),a=a.next;while(a!==i);ri(s,e.memoizedState)||(Gr=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),r.lastRenderedState=s}return[s,n]}function vH(){}function gH(t,e){var r=ft,n=Dn(),i=e(),s=!ri(n.memoizedState,i);if(s&&(n.memoizedState=i,Gr=!0),n=n.queue,tC(wH.bind(null,r,n,t),[t]),n.getSnapshot!==e||s||Jt!==null&&Jt.memoizedState.tag&1){if(r.flags|=2048,td(9,bH.bind(null,r,n,i,e),void 0,null),Zt===null)throw Error(X(349));so&30||yH(r,e,i)}return i}function yH(t,e,r){t.flags|=16384,t={getSnapshot:e,value:r},e=ft.updateQueue,e===null?(e={lastEffect:null,stores:null},ft.updateQueue=e,e.stores=[t]):(r=e.stores,r===null?e.stores=[t]:r.push(t))}function bH(t,e,r,n){e.value=r,e.getSnapshot=n,xH(e)&&_H(t)}function wH(t,e,r){return r(function(){xH(e)&&_H(t)})}function xH(t){var e=t.getSnapshot;t=t.value;try{var r=e();return!ri(t,r)}catch{return!0}}function _H(t){var e=ts(t,1);e!==null&&ti(e,t,1,-1)}function $I(t){var e=ci();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ed,lastRenderedState:t},e.queue=t,t=t.dispatch=kX.bind(null,ft,t),[e.memoizedState,t]}function td(t,e,r,n){return t={tag:t,create:e,destroy:r,deps:n,next:null},e=ft.updateQueue,e===null?(e={lastEffect:null,stores:null},ft.updateQueue=e,e.lastEffect=t.next=t):(r=e.lastEffect,r===null?e.lastEffect=t.next=t:(n=r.next,r.next=t,t.next=n,e.lastEffect=t)),t}function SH(){return Dn().memoizedState}function af(t,e,r,n){var i=ci();ft.flags|=t,i.memoizedState=td(1|e,r,void 0,n===void 0?null:n)}function xp(t,e,r,n){var i=Dn();n=n===void 0?null:n;var s=void 0;if(Ut!==null){var a=Ut.memoizedState;if(s=a.destroy,n!==null&&JN(n,a.deps)){i.memoizedState=td(e,r,s,n);return}}ft.flags|=t,i.memoizedState=td(1|e,r,s,n)}function kI(t,e){return af(8390656,8,t,e)}function tC(t,e){return xp(2048,8,t,e)}function EH(t,e){return xp(4,2,t,e)}function OH(t,e){return xp(4,4,t,e)}function PH(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function NH(t,e,r){return r=r!=null?r.concat([t]):null,xp(4,4,PH.bind(null,e,t),r)}function rC(){}function CH(t,e){var r=Dn();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&JN(e,n[1])?n[0]:(r.memoizedState=[t,e],t)}function TH(t,e){var r=Dn();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&JN(e,n[1])?n[0]:(t=t(),r.memoizedState=[t,e],t)}function IH(t,e,r){return so&21?(ri(r,e)||(r=DV(),ft.lanes|=r,ao|=r,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Gr=!0),t.memoizedState=r)}function jX(t,e){var r=We;We=r!==0&&4>r?r:4,t(!0);var n=Wm.transition;Wm.transition={};try{t(!1),e()}finally{We=r,Wm.transition=n}}function RH(){return Dn().memoizedState}function $X(t,e,r){var n=Ks(t);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},jH(t))$H(e,r);else if(r=fH(t,e,r,n),r!==null){var i=kr();ti(r,t,n,i),kH(r,e,n)}}function kX(t,e,r){var n=Ks(t),i={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(jH(t))$H(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var a=e.lastRenderedState,o=s(a,r);if(i.hasEagerState=!0,i.eagerState=o,ri(o,a)){var l=e.interleaved;l===null?(i.next=i,KN(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}r=fH(t,e,i,n),r!==null&&(i=kr(),ti(r,t,n,i),kH(r,e,n))}}function jH(t){var e=t.alternate;return t===ft||e!==null&&e===ft}function $H(t,e){Nc=Mf=!0;var r=t.pending;r===null?e.next=e:(e.next=r.next,r.next=e),t.pending=e}function kH(t,e,r){if(r&4194240){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,$N(t,r)}}var Af={readContext:kn,useCallback:gr,useContext:gr,useEffect:gr,useImperativeHandle:gr,useInsertionEffect:gr,useLayoutEffect:gr,useMemo:gr,useReducer:gr,useRef:gr,useState:gr,useDebugValue:gr,useDeferredValue:gr,useTransition:gr,useMutableSource:gr,useSyncExternalStore:gr,useId:gr,unstable_isNewReconciler:!1},DX={readContext:kn,useCallback:function(t,e){return ci().memoizedState=[t,e===void 0?null:e],t},useContext:kn,useEffect:kI,useImperativeHandle:function(t,e,r){return r=r!=null?r.concat([t]):null,af(4194308,4,PH.bind(null,e,t),r)},useLayoutEffect:function(t,e){return af(4194308,4,t,e)},useInsertionEffect:function(t,e){return af(4,2,t,e)},useMemo:function(t,e){var r=ci();return e=e===void 0?null:e,t=t(),r.memoizedState=[t,e],t},useReducer:function(t,e,r){var n=ci();return e=r!==void 0?r(e):e,n.memoizedState=n.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},n.queue=t,t=t.dispatch=$X.bind(null,ft,t),[n.memoizedState,t]},useRef:function(t){var e=ci();return t={current:t},e.memoizedState=t},useState:$I,useDebugValue:rC,useDeferredValue:function(t){return ci().memoizedState=t},useTransition:function(){var t=$I(!1),e=t[0];return t=jX.bind(null,t[1]),ci().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,r){var n=ft,i=ci();if(ut){if(r===void 0)throw Error(X(407));r=r()}else{if(r=e(),Zt===null)throw Error(X(349));so&30||yH(n,e,r)}i.memoizedState=r;var s={value:r,getSnapshot:e};return i.queue=s,kI(wH.bind(null,n,s,t),[t]),n.flags|=2048,td(9,bH.bind(null,n,s,r,e),void 0,null),r},useId:function(){var t=ci(),e=Zt.identifierPrefix;if(ut){var r=Fi,n=Ai;r=(n&~(1<<32-ei(n)-1)).toString(32)+r,e=":"+e+"R"+r,r=Zc++,0<r&&(e+="H"+r.toString(32)),e+=":"}else r=RX++,e=":"+e+"r"+r.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},qX={readContext:kn,useCallback:CH,useContext:kn,useEffect:tC,useImperativeHandle:NH,useInsertionEffect:EH,useLayoutEffect:OH,useMemo:TH,useReducer:Vm,useRef:SH,useState:function(){return Vm(ed)},useDebugValue:rC,useDeferredValue:function(t){var e=Dn();return IH(e,Ut.memoizedState,t)},useTransition:function(){var t=Vm(ed)[0],e=Dn().memoizedState;return[t,e]},useMutableSource:vH,useSyncExternalStore:gH,useId:RH,unstable_isNewReconciler:!1},MX={readContext:kn,useCallback:CH,useContext:kn,useEffect:tC,useImperativeHandle:NH,useInsertionEffect:EH,useLayoutEffect:OH,useMemo:TH,useReducer:Hm,useRef:SH,useState:function(){return Hm(ed)},useDebugValue:rC,useDeferredValue:function(t){var e=Dn();return Ut===null?e.memoizedState=t:IH(e,Ut.memoizedState,t)},useTransition:function(){var t=Hm(ed)[0],e=Dn().memoizedState;return[t,e]},useMutableSource:vH,useSyncExternalStore:gH,useId:RH,unstable_isNewReconciler:!1};function Wn(t,e){if(t&&t.defaultProps){e=mt({},e),t=t.defaultProps;for(var r in t)e[r]===void 0&&(e[r]=t[r]);return e}return e}function oP(t,e,r,n){e=t.memoizedState,r=r(n,e),r=r==null?e:mt({},e,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var _p={isMounted:function(t){return(t=t._reactInternals)?Po(t)===t:!1},enqueueSetState:function(t,e,r){t=t._reactInternals;var n=kr(),i=Ks(t),s=zi(n,i);s.payload=e,r!=null&&(s.callback=r),e=Vs(t,s,i),e!==null&&(ti(e,t,i,n),nf(e,t,i))},enqueueReplaceState:function(t,e,r){t=t._reactInternals;var n=kr(),i=Ks(t),s=zi(n,i);s.tag=1,s.payload=e,r!=null&&(s.callback=r),e=Vs(t,s,i),e!==null&&(ti(e,t,i,n),nf(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var r=kr(),n=Ks(t),i=zi(r,n);i.tag=2,e!=null&&(i.callback=e),e=Vs(t,i,n),e!==null&&(ti(e,t,n,r),nf(e,t,n))}};function DI(t,e,r,n,i,s,a){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(n,s,a):e.prototype&&e.prototype.isPureReactComponent?!Kc(r,n)||!Kc(i,s):!0}function DH(t,e,r){var n=!1,i=ia,s=e.contextType;return typeof s=="object"&&s!==null?s=kn(s):(i=Qr(e)?no:Sr.current,n=e.contextTypes,s=(n=n!=null)?Hl(t,i):ia),e=new e(r,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=_p,t.stateNode=e,e._reactInternals=t,n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function qI(t,e,r,n){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(r,n),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(r,n),e.state!==t&&_p.enqueueReplaceState(e,e.state,null)}function lP(t,e,r,n){var i=t.stateNode;i.props=r,i.state=t.memoizedState,i.refs={},GN(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=kn(s):(s=Qr(e)?no:Sr.current,i.context=Hl(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(oP(t,e,s,r),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&_p.enqueueReplaceState(i,i.state,null),Df(t,r,i,n),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Ql(t,e){try{var r="",n=e;do r+=dQ(n),n=n.return;while(n);var i=r}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function Km(t,e,r){return{value:t,source:null,stack:r??null,digest:e??null}}function uP(t,e){try{console.error(e.value)}catch(r){setTimeout(function(){throw r})}}var AX=typeof WeakMap=="function"?WeakMap:Map;function qH(t,e,r){r=zi(-1,r),r.tag=3,r.payload={element:null};var n=e.value;return r.callback=function(){Lf||(Lf=!0,bP=n),uP(t,e)},r}function MH(t,e,r){r=zi(-1,r),r.tag=3;var n=t.type.getDerivedStateFromError;if(typeof n=="function"){var i=e.value;r.payload=function(){return n(i)},r.callback=function(){uP(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(r.callback=function(){uP(t,e),typeof n!="function"&&(Hs===null?Hs=new Set([this]):Hs.add(this));var a=e.stack;this.componentDidCatch(e.value,{componentStack:a!==null?a:""})}),r}function MI(t,e,r){var n=t.pingCache;if(n===null){n=t.pingCache=new AX;var i=new Set;n.set(e,i)}else i=n.get(e),i===void 0&&(i=new Set,n.set(e,i));i.has(r)||(i.add(r),t=JX.bind(null,t,e,r),e.then(t,t))}function AI(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function FI(t,e,r,n,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(e=zi(-1,1),e.tag=2,Vs(r,e,1))),r.lanes|=1),t)}var FX=is.ReactCurrentOwner,Gr=!1;function Tr(t,e,r,n){e.child=t===null?hH(e,null,r,n):Gl(e,t.child,r,n)}function LI(t,e,r,n,i){r=r.render;var s=e.ref;return El(e,i),n=ZN(t,e,r,n,s,i),r=eC(),t!==null&&!Gr?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,rs(t,e,i)):(ut&&r&&BN(e),e.flags|=1,Tr(t,e,n,i),e.child)}function BI(t,e,r,n,i){if(t===null){var s=r.type;return typeof s=="function"&&!cC(s)&&s.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(e.tag=15,e.type=s,AH(t,e,s,n,i)):(t=cf(r.type,null,n,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var a=s.memoizedProps;if(r=r.compare,r=r!==null?r:Kc,r(a,n)&&t.ref===e.ref)return rs(t,e,i)}return e.flags|=1,t=Gs(s,n),t.ref=e.ref,t.return=e,e.child=t}function AH(t,e,r,n,i){if(t!==null){var s=t.memoizedProps;if(Kc(s,n)&&t.ref===e.ref)if(Gr=!1,e.pendingProps=n=s,(t.lanes&i)!==0)t.flags&131072&&(Gr=!0);else return e.lanes=t.lanes,rs(t,e,i)}return cP(t,e,r,n,i)}function FH(t,e,r){var n=e.pendingProps,i=n.children,s=t!==null?t.memoizedState:null;if(n.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},nt(fl,cn),cn|=r;else{if(!(r&1073741824))return t=s!==null?s.baseLanes|r:r,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,nt(fl,cn),cn|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=s!==null?s.baseLanes:r,nt(fl,cn),cn|=n}else s!==null?(n=s.baseLanes|r,e.memoizedState=null):n=r,nt(fl,cn),cn|=n;return Tr(t,e,i,r),e.child}function LH(t,e){var r=e.ref;(t===null&&r!==null||t!==null&&t.ref!==r)&&(e.flags|=512,e.flags|=2097152)}function cP(t,e,r,n,i){var s=Qr(r)?no:Sr.current;return s=Hl(e,s),El(e,i),r=ZN(t,e,r,n,s,i),n=eC(),t!==null&&!Gr?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,rs(t,e,i)):(ut&&n&&BN(e),e.flags|=1,Tr(t,e,r,i),e.child)}function zI(t,e,r,n,i){if(Qr(r)){var s=!0;If(e)}else s=!1;if(El(e,i),e.stateNode===null)of(t,e),DH(e,r,n),lP(e,r,n,i),n=!0;else if(t===null){var a=e.stateNode,o=e.memoizedProps;a.props=o;var l=a.context,u=r.contextType;typeof u=="object"&&u!==null?u=kn(u):(u=Qr(r)?no:Sr.current,u=Hl(e,u));var d=r.getDerivedStateFromProps,h=typeof d=="function"||typeof a.getSnapshotBeforeUpdate=="function";h||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o!==n||l!==u)&&qI(e,a,n,u),ws=!1;var f=e.memoizedState;a.state=f,Df(e,n,a,i),l=e.memoizedState,o!==n||f!==l||Yr.current||ws?(typeof d=="function"&&(oP(e,r,d,n),l=e.memoizedState),(o=ws||DI(e,r,o,n,f,l,u))?(h||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(e.flags|=4194308)):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=n,e.memoizedState=l),a.props=n,a.state=l,a.context=u,n=o):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),n=!1)}else{a=e.stateNode,pH(t,e),o=e.memoizedProps,u=e.type===e.elementType?o:Wn(e.type,o),a.props=u,h=e.pendingProps,f=a.context,l=r.contextType,typeof l=="object"&&l!==null?l=kn(l):(l=Qr(r)?no:Sr.current,l=Hl(e,l));var p=r.getDerivedStateFromProps;(d=typeof p=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o!==h||f!==l)&&qI(e,a,n,l),ws=!1,f=e.memoizedState,a.state=f,Df(e,n,a,i);var m=e.memoizedState;o!==h||f!==m||Yr.current||ws?(typeof p=="function"&&(oP(e,r,p,n),m=e.memoizedState),(u=ws||DI(e,r,u,n,f,m,l)||!1)?(d||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(n,m,l),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(n,m,l)),typeof a.componentDidUpdate=="function"&&(e.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof a.componentDidUpdate!="function"||o===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||o===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=n,e.memoizedState=m),a.props=n,a.state=m,a.context=l,n=u):(typeof a.componentDidUpdate!="function"||o===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||o===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),n=!1)}return dP(t,e,r,n,s,i)}function dP(t,e,r,n,i,s){LH(t,e);var a=(e.flags&128)!==0;if(!n&&!a)return i&&NI(e,r,!1),rs(t,e,s);n=e.stateNode,FX.current=e;var o=a&&typeof r.getDerivedStateFromError!="function"?null:n.render();return e.flags|=1,t!==null&&a?(e.child=Gl(e,t.child,null,s),e.child=Gl(e,null,o,s)):Tr(t,e,o,s),e.memoizedState=n.state,i&&NI(e,r,!0),e.child}function BH(t){var e=t.stateNode;e.pendingContext?PI(t,e.pendingContext,e.pendingContext!==e.context):e.context&&PI(t,e.context,!1),YN(t,e.containerInfo)}function UI(t,e,r,n,i){return Kl(),UN(i),e.flags|=256,Tr(t,e,r,n),e.child}var hP={dehydrated:null,treeContext:null,retryLane:0};function fP(t){return{baseLanes:t,cachePool:null,transitions:null}}function zH(t,e,r){var n=e.pendingProps,i=ht.current,s=!1,a=(e.flags&128)!==0,o;if((o=a)||(o=t!==null&&t.memoizedState===null?!1:(i&2)!==0),o?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),nt(ht,i&1),t===null)return sP(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(a=n.children,t=n.fallback,s?(n=e.mode,s=e.child,a={mode:"hidden",children:a},!(n&1)&&s!==null?(s.childLanes=0,s.pendingProps=a):s=Op(a,n,0,null),t=Ga(t,n,r,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=fP(r),e.memoizedState=hP,t):nC(e,a));if(i=t.memoizedState,i!==null&&(o=i.dehydrated,o!==null))return LX(t,e,a,n,o,i,r);if(s){s=n.fallback,a=e.mode,i=t.child,o=i.sibling;var l={mode:"hidden",children:n.children};return!(a&1)&&e.child!==i?(n=e.child,n.childLanes=0,n.pendingProps=l,e.deletions=null):(n=Gs(i,l),n.subtreeFlags=i.subtreeFlags&14680064),o!==null?s=Gs(o,s):(s=Ga(s,a,r,null),s.flags|=2),s.return=e,n.return=e,n.sibling=s,e.child=n,n=s,s=e.child,a=t.child.memoizedState,a=a===null?fP(r):{baseLanes:a.baseLanes|r,cachePool:null,transitions:a.transitions},s.memoizedState=a,s.childLanes=t.childLanes&~r,e.memoizedState=hP,n}return s=t.child,t=s.sibling,n=Gs(s,{mode:"visible",children:n.children}),!(e.mode&1)&&(n.lanes=r),n.return=e,n.sibling=null,t!==null&&(r=e.deletions,r===null?(e.deletions=[t],e.flags|=16):r.push(t)),e.child=n,e.memoizedState=null,n}function nC(t,e){return e=Op({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Mh(t,e,r,n){return n!==null&&UN(n),Gl(e,t.child,null,r),t=nC(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function LX(t,e,r,n,i,s,a){if(r)return e.flags&256?(e.flags&=-257,n=Km(Error(X(422))),Mh(t,e,a,n)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=n.fallback,i=e.mode,n=Op({mode:"visible",children:n.children},i,0,null),s=Ga(s,i,a,null),s.flags|=2,n.return=e,s.return=e,n.sibling=s,e.child=n,e.mode&1&&Gl(e,t.child,null,a),e.child.memoizedState=fP(a),e.memoizedState=hP,s);if(!(e.mode&1))return Mh(t,e,a,null);if(i.data==="$!"){if(n=i.nextSibling&&i.nextSibling.dataset,n)var o=n.dgst;return n=o,s=Error(X(419)),n=Km(s,n,void 0),Mh(t,e,a,n)}if(o=(a&t.childLanes)!==0,Gr||o){if(n=Zt,n!==null){switch(a&-a){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(n.suspendedLanes|a)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,ts(t,i),ti(n,t,i,-1))}return uC(),n=Km(Error(X(421))),Mh(t,e,a,n)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=ZX.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,fn=Ws(i.nextSibling),pn=e,ut=!0,Gn=null,t!==null&&(Nn[Cn++]=Ai,Nn[Cn++]=Fi,Nn[Cn++]=io,Ai=t.id,Fi=t.overflow,io=e),e=nC(e,n.children),e.flags|=4096,e)}function WI(t,e,r){t.lanes|=e;var n=t.alternate;n!==null&&(n.lanes|=e),aP(t.return,e,r)}function Gm(t,e,r,n,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=n,s.tail=r,s.tailMode=i)}function UH(t,e,r){var n=e.pendingProps,i=n.revealOrder,s=n.tail;if(Tr(t,e,n.children,r),n=ht.current,n&2)n=n&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&WI(t,r,e);else if(t.tag===19)WI(t,r,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}n&=1}if(nt(ht,n),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(r=e.child,i=null;r!==null;)t=r.alternate,t!==null&&qf(t)===null&&(i=r),r=r.sibling;r=i,r===null?(i=e.child,e.child=null):(i=r.sibling,r.sibling=null),Gm(e,!1,i,r,s);break;case"backwards":for(r=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&qf(t)===null){e.child=i;break}t=i.sibling,i.sibling=r,r=i,i=t}Gm(e,!0,r,null,s);break;case"together":Gm(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function of(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function rs(t,e,r){if(t!==null&&(e.dependencies=t.dependencies),ao|=e.lanes,!(r&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(X(153));if(e.child!==null){for(t=e.child,r=Gs(t,t.pendingProps),e.child=r,r.return=e;t.sibling!==null;)t=t.sibling,r=r.sibling=Gs(t,t.pendingProps),r.return=e;r.sibling=null}return e.child}function BX(t,e,r){switch(e.tag){case 3:BH(e),Kl();break;case 5:mH(e);break;case 1:Qr(e.type)&&If(e);break;case 4:YN(e,e.stateNode.containerInfo);break;case 10:var n=e.type._context,i=e.memoizedProps.value;nt($f,n._currentValue),n._currentValue=i;break;case 13:if(n=e.memoizedState,n!==null)return n.dehydrated!==null?(nt(ht,ht.current&1),e.flags|=128,null):r&e.child.childLanes?zH(t,e,r):(nt(ht,ht.current&1),t=rs(t,e,r),t!==null?t.sibling:null);nt(ht,ht.current&1);break;case 19:if(n=(r&e.childLanes)!==0,t.flags&128){if(n)return UH(t,e,r);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),nt(ht,ht.current),n)break;return null;case 22:case 23:return e.lanes=0,FH(t,e,r)}return rs(t,e,r)}var WH,pP,VH,HH;WH=function(t,e){for(var r=e.child;r!==null;){if(r.tag===5||r.tag===6)t.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};pP=function(){};VH=function(t,e,r,n){var i=t.memoizedProps;if(i!==n){t=e.stateNode,Ta(_i.current);var s=null;switch(r){case"input":i=qO(t,i),n=qO(t,n),s=[];break;case"select":i=mt({},i,{value:void 0}),n=mt({},n,{value:void 0}),s=[];break;case"textarea":i=FO(t,i),n=FO(t,n),s=[];break;default:typeof i.onClick!="function"&&typeof n.onClick=="function"&&(t.onclick=Cf)}BO(r,n);var a;r=null;for(u in i)if(!n.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var o=i[u];for(a in o)o.hasOwnProperty(a)&&(r||(r={}),r[a]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Lc.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in n){var l=n[u];if(o=i!=null?i[u]:void 0,n.hasOwnProperty(u)&&l!==o&&(l!=null||o!=null))if(u==="style")if(o){for(a in o)!o.hasOwnProperty(a)||l&&l.hasOwnProperty(a)||(r||(r={}),r[a]="");for(a in l)l.hasOwnProperty(a)&&o[a]!==l[a]&&(r||(r={}),r[a]=l[a])}else r||(s||(s=[]),s.push(u,r)),r=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,o=o?o.__html:void 0,l!=null&&o!==l&&(s=s||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Lc.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&st("scroll",t),s||o===l||(s=[])):(s=s||[]).push(u,l))}r&&(s=s||[]).push("style",r);var u=s;(e.updateQueue=u)&&(e.flags|=4)}};HH=function(t,e,r,n){r!==n&&(e.flags|=4)};function nc(t,e){if(!ut)switch(t.tailMode){case"hidden":e=t.tail;for(var r=null;e!==null;)e.alternate!==null&&(r=e),e=e.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:n.sibling=null}}function yr(t){var e=t.alternate!==null&&t.alternate.child===t.child,r=0,n=0;if(e)for(var i=t.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags&14680064,n|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags,n|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=n,t.childLanes=r,e}function zX(t,e,r){var n=e.pendingProps;switch(zN(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return yr(e),null;case 1:return Qr(e.type)&&Tf(),yr(e),null;case 3:return n=e.stateNode,Yl(),at(Yr),at(Sr),XN(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(Dh(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Gn!==null&&(_P(Gn),Gn=null))),pP(t,e),yr(e),null;case 5:QN(e);var i=Ta(Jc.current);if(r=e.type,t!==null&&e.stateNode!=null)VH(t,e,r,n,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!n){if(e.stateNode===null)throw Error(X(166));return yr(e),null}if(t=Ta(_i.current),Dh(e)){n=e.stateNode,r=e.type;var s=e.memoizedProps;switch(n[vi]=e,n[Qc]=s,t=(e.mode&1)!==0,r){case"dialog":st("cancel",n),st("close",n);break;case"iframe":case"object":case"embed":st("load",n);break;case"video":case"audio":for(i=0;i<gc.length;i++)st(gc[i],n);break;case"source":st("error",n);break;case"img":case"image":case"link":st("error",n),st("load",n);break;case"details":st("toggle",n);break;case"input":ZT(n,s),st("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!s.multiple},st("invalid",n);break;case"textarea":tI(n,s),st("invalid",n)}BO(r,s),i=null;for(var a in s)if(s.hasOwnProperty(a)){var o=s[a];a==="children"?typeof o=="string"?n.textContent!==o&&(s.suppressHydrationWarning!==!0&&kh(n.textContent,o,t),i=["children",o]):typeof o=="number"&&n.textContent!==""+o&&(s.suppressHydrationWarning!==!0&&kh(n.textContent,o,t),i=["children",""+o]):Lc.hasOwnProperty(a)&&o!=null&&a==="onScroll"&&st("scroll",n)}switch(r){case"input":Ph(n),eI(n,s,!0);break;case"textarea":Ph(n),rI(n);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(n.onclick=Cf)}n=i,e.updateQueue=n,n!==null&&(e.flags|=4)}else{a=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=wV(r)),t==="http://www.w3.org/1999/xhtml"?r==="script"?(t=a.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof n.is=="string"?t=a.createElement(r,{is:n.is}):(t=a.createElement(r),r==="select"&&(a=t,n.multiple?a.multiple=!0:n.size&&(a.size=n.size))):t=a.createElementNS(t,r),t[vi]=e,t[Qc]=n,WH(t,e,!1,!1),e.stateNode=t;e:{switch(a=zO(r,n),r){case"dialog":st("cancel",t),st("close",t),i=n;break;case"iframe":case"object":case"embed":st("load",t),i=n;break;case"video":case"audio":for(i=0;i<gc.length;i++)st(gc[i],t);i=n;break;case"source":st("error",t),i=n;break;case"img":case"image":case"link":st("error",t),st("load",t),i=n;break;case"details":st("toggle",t),i=n;break;case"input":ZT(t,n),i=qO(t,n),st("invalid",t);break;case"option":i=n;break;case"select":t._wrapperState={wasMultiple:!!n.multiple},i=mt({},n,{value:void 0}),st("invalid",t);break;case"textarea":tI(t,n),i=FO(t,n),st("invalid",t);break;default:i=n}BO(r,i),o=i;for(s in o)if(o.hasOwnProperty(s)){var l=o[s];s==="style"?SV(t,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&xV(t,l)):s==="children"?typeof l=="string"?(r!=="textarea"||l!=="")&&Bc(t,l):typeof l=="number"&&Bc(t,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Lc.hasOwnProperty(s)?l!=null&&s==="onScroll"&&st("scroll",t):l!=null&&NN(t,s,l,a))}switch(r){case"input":Ph(t),eI(t,n,!1);break;case"textarea":Ph(t),rI(t);break;case"option":n.value!=null&&t.setAttribute("value",""+na(n.value));break;case"select":t.multiple=!!n.multiple,s=n.value,s!=null?wl(t,!!n.multiple,s,!1):n.defaultValue!=null&&wl(t,!!n.multiple,n.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=Cf)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return yr(e),null;case 6:if(t&&e.stateNode!=null)HH(t,e,t.memoizedProps,n);else{if(typeof n!="string"&&e.stateNode===null)throw Error(X(166));if(r=Ta(Jc.current),Ta(_i.current),Dh(e)){if(n=e.stateNode,r=e.memoizedProps,n[vi]=e,(s=n.nodeValue!==r)&&(t=pn,t!==null))switch(t.tag){case 3:kh(n.nodeValue,r,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&kh(n.nodeValue,r,(t.mode&1)!==0)}s&&(e.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[vi]=e,e.stateNode=n}return yr(e),null;case 13:if(at(ht),n=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(ut&&fn!==null&&e.mode&1&&!(e.flags&128))cH(),Kl(),e.flags|=98560,s=!1;else if(s=Dh(e),n!==null&&n.dehydrated!==null){if(t===null){if(!s)throw Error(X(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(X(317));s[vi]=e}else Kl(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;yr(e),s=!1}else Gn!==null&&(_P(Gn),Gn=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=r,e):(n=n!==null,n!==(t!==null&&t.memoizedState!==null)&&n&&(e.child.flags|=8192,e.mode&1&&(t===null||ht.current&1?Vt===0&&(Vt=3):uC())),e.updateQueue!==null&&(e.flags|=4),yr(e),null);case 4:return Yl(),pP(t,e),t===null&&Gc(e.stateNode.containerInfo),yr(e),null;case 10:return HN(e.type._context),yr(e),null;case 17:return Qr(e.type)&&Tf(),yr(e),null;case 19:if(at(ht),s=e.memoizedState,s===null)return yr(e),null;if(n=(e.flags&128)!==0,a=s.rendering,a===null)if(n)nc(s,!1);else{if(Vt!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(a=qf(t),a!==null){for(e.flags|=128,nc(s,!1),n=a.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),e.subtreeFlags=0,n=r,r=e.child;r!==null;)s=r,t=n,s.flags&=14680066,a=s.alternate,a===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=a.childLanes,s.lanes=a.lanes,s.child=a.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=a.memoizedProps,s.memoizedState=a.memoizedState,s.updateQueue=a.updateQueue,s.type=a.type,t=a.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),r=r.sibling;return nt(ht,ht.current&1|2),e.child}t=t.sibling}s.tail!==null&&Pt()>Xl&&(e.flags|=128,n=!0,nc(s,!1),e.lanes=4194304)}else{if(!n)if(t=qf(a),t!==null){if(e.flags|=128,n=!0,r=t.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),nc(s,!0),s.tail===null&&s.tailMode==="hidden"&&!a.alternate&&!ut)return yr(e),null}else 2*Pt()-s.renderingStartTime>Xl&&r!==1073741824&&(e.flags|=128,n=!0,nc(s,!1),e.lanes=4194304);s.isBackwards?(a.sibling=e.child,e.child=a):(r=s.last,r!==null?r.sibling=a:e.child=a,s.last=a)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=Pt(),e.sibling=null,r=ht.current,nt(ht,n?r&1|2:r&1),e):(yr(e),null);case 22:case 23:return lC(),n=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==n&&(e.flags|=8192),n&&e.mode&1?cn&1073741824&&(yr(e),e.subtreeFlags&6&&(e.flags|=8192)):yr(e),null;case 24:return null;case 25:return null}throw Error(X(156,e.tag))}function UX(t,e){switch(zN(e),e.tag){case 1:return Qr(e.type)&&Tf(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Yl(),at(Yr),at(Sr),XN(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return QN(e),null;case 13:if(at(ht),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(X(340));Kl()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return at(ht),null;case 4:return Yl(),null;case 10:return HN(e.type._context),null;case 22:case 23:return lC(),null;case 24:return null;default:return null}}var Ah=!1,wr=!1,WX=typeof WeakSet=="function"?WeakSet:Set,ce=null;function hl(t,e){var r=t.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){wt(t,e,n)}else r.current=null}function mP(t,e,r){try{r()}catch(n){wt(t,e,n)}}var VI=!1;function VX(t,e){if(JO=Of,t=XV(),LN(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var i=n.anchorOffset,s=n.focusNode;n=n.focusOffset;try{r.nodeType,s.nodeType}catch{r=null;break e}var a=0,o=-1,l=-1,u=0,d=0,h=t,f=null;t:for(;;){for(var p;h!==r||i!==0&&h.nodeType!==3||(o=a+i),h!==s||n!==0&&h.nodeType!==3||(l=a+n),h.nodeType===3&&(a+=h.nodeValue.length),(p=h.firstChild)!==null;)f=h,h=p;for(;;){if(h===t)break t;if(f===r&&++u===i&&(o=a),f===s&&++d===n&&(l=a),(p=h.nextSibling)!==null)break;h=f,f=h.parentNode}h=p}r=o===-1||l===-1?null:{start:o,end:l}}else r=null}r=r||{start:0,end:0}}else r=null;for(ZO={focusedElem:t,selectionRange:r},Of=!1,ce=e;ce!==null;)if(e=ce,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,ce=t;else for(;ce!==null;){e=ce;try{var m=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(m!==null){var y=m.memoizedProps,b=m.memoizedState,g=e.stateNode,v=g.getSnapshotBeforeUpdate(e.elementType===e.type?y:Wn(e.type,y),b);g.__reactInternalSnapshotBeforeUpdate=v}break;case 3:var x=e.stateNode.containerInfo;x.nodeType===1?x.textContent="":x.nodeType===9&&x.documentElement&&x.removeChild(x.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(X(163))}}catch(w){wt(e,e.return,w)}if(t=e.sibling,t!==null){t.return=e.return,ce=t;break}ce=e.return}return m=VI,VI=!1,m}function Cc(t,e,r){var n=e.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var i=n=n.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&mP(e,r,s)}i=i.next}while(i!==n)}}function Sp(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var r=e=e.next;do{if((r.tag&t)===t){var n=r.create;r.destroy=n()}r=r.next}while(r!==e)}}function vP(t){var e=t.ref;if(e!==null){var r=t.stateNode;switch(t.tag){case 5:t=r;break;default:t=r}typeof e=="function"?e(t):e.current=t}}function KH(t){var e=t.alternate;e!==null&&(t.alternate=null,KH(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[vi],delete e[Qc],delete e[rP],delete e[NX],delete e[CX])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function GH(t){return t.tag===5||t.tag===3||t.tag===4}function HI(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||GH(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function gP(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.nodeType===8?r.parentNode.insertBefore(t,e):r.insertBefore(t,e):(r.nodeType===8?(e=r.parentNode,e.insertBefore(t,r)):(e=r,e.appendChild(t)),r=r._reactRootContainer,r!=null||e.onclick!==null||(e.onclick=Cf));else if(n!==4&&(t=t.child,t!==null))for(gP(t,e,r),t=t.sibling;t!==null;)gP(t,e,r),t=t.sibling}function yP(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.insertBefore(t,e):r.appendChild(t);else if(n!==4&&(t=t.child,t!==null))for(yP(t,e,r),t=t.sibling;t!==null;)yP(t,e,r),t=t.sibling}var cr=null,Kn=!1;function vs(t,e,r){for(r=r.child;r!==null;)YH(t,e,r),r=r.sibling}function YH(t,e,r){if(xi&&typeof xi.onCommitFiberUnmount=="function")try{xi.onCommitFiberUnmount(mp,r)}catch{}switch(r.tag){case 5:wr||hl(r,e);case 6:var n=cr,i=Kn;cr=null,vs(t,e,r),cr=n,Kn=i,cr!==null&&(Kn?(t=cr,r=r.stateNode,t.nodeType===8?t.parentNode.removeChild(r):t.removeChild(r)):cr.removeChild(r.stateNode));break;case 18:cr!==null&&(Kn?(t=cr,r=r.stateNode,t.nodeType===8?Bm(t.parentNode,r):t.nodeType===1&&Bm(t,r),Vc(t)):Bm(cr,r.stateNode));break;case 4:n=cr,i=Kn,cr=r.stateNode.containerInfo,Kn=!0,vs(t,e,r),cr=n,Kn=i;break;case 0:case 11:case 14:case 15:if(!wr&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){i=n=n.next;do{var s=i,a=s.destroy;s=s.tag,a!==void 0&&(s&2||s&4)&&mP(r,e,a),i=i.next}while(i!==n)}vs(t,e,r);break;case 1:if(!wr&&(hl(r,e),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(o){wt(r,e,o)}vs(t,e,r);break;case 21:vs(t,e,r);break;case 22:r.mode&1?(wr=(n=wr)||r.memoizedState!==null,vs(t,e,r),wr=n):vs(t,e,r);break;default:vs(t,e,r)}}function KI(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var r=t.stateNode;r===null&&(r=t.stateNode=new WX),e.forEach(function(n){var i=eJ.bind(null,t,n);r.has(n)||(r.add(n),n.then(i,i))})}}function zn(t,e){var r=e.deletions;if(r!==null)for(var n=0;n<r.length;n++){var i=r[n];try{var s=t,a=e,o=a;e:for(;o!==null;){switch(o.tag){case 5:cr=o.stateNode,Kn=!1;break e;case 3:cr=o.stateNode.containerInfo,Kn=!0;break e;case 4:cr=o.stateNode.containerInfo,Kn=!0;break e}o=o.return}if(cr===null)throw Error(X(160));YH(s,a,i),cr=null,Kn=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){wt(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)QH(e,t),e=e.sibling}function QH(t,e){var r=t.alternate,n=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(zn(e,t),li(t),n&4){try{Cc(3,t,t.return),Sp(3,t)}catch(y){wt(t,t.return,y)}try{Cc(5,t,t.return)}catch(y){wt(t,t.return,y)}}break;case 1:zn(e,t),li(t),n&512&&r!==null&&hl(r,r.return);break;case 5:if(zn(e,t),li(t),n&512&&r!==null&&hl(r,r.return),t.flags&32){var i=t.stateNode;try{Bc(i,"")}catch(y){wt(t,t.return,y)}}if(n&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,a=r!==null?r.memoizedProps:s,o=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{o==="input"&&s.type==="radio"&&s.name!=null&&yV(i,s),zO(o,a);var u=zO(o,s);for(a=0;a<l.length;a+=2){var d=l[a],h=l[a+1];d==="style"?SV(i,h):d==="dangerouslySetInnerHTML"?xV(i,h):d==="children"?Bc(i,h):NN(i,d,h,u)}switch(o){case"input":MO(i,s);break;case"textarea":bV(i,s);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var p=s.value;p!=null?wl(i,!!s.multiple,p,!1):f!==!!s.multiple&&(s.defaultValue!=null?wl(i,!!s.multiple,s.defaultValue,!0):wl(i,!!s.multiple,s.multiple?[]:"",!1))}i[Qc]=s}catch(y){wt(t,t.return,y)}}break;case 6:if(zn(e,t),li(t),n&4){if(t.stateNode===null)throw Error(X(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(y){wt(t,t.return,y)}}break;case 3:if(zn(e,t),li(t),n&4&&r!==null&&r.memoizedState.isDehydrated)try{Vc(e.containerInfo)}catch(y){wt(t,t.return,y)}break;case 4:zn(e,t),li(t);break;case 13:zn(e,t),li(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(aC=Pt())),n&4&&KI(t);break;case 22:if(d=r!==null&&r.memoizedState!==null,t.mode&1?(wr=(u=wr)||d,zn(e,t),wr=u):zn(e,t),li(t),n&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!d&&t.mode&1)for(ce=t,d=t.child;d!==null;){for(h=ce=d;ce!==null;){switch(f=ce,p=f.child,f.tag){case 0:case 11:case 14:case 15:Cc(4,f,f.return);break;case 1:hl(f,f.return);var m=f.stateNode;if(typeof m.componentWillUnmount=="function"){n=f,r=f.return;try{e=n,m.props=e.memoizedProps,m.state=e.memoizedState,m.componentWillUnmount()}catch(y){wt(n,r,y)}}break;case 5:hl(f,f.return);break;case 22:if(f.memoizedState!==null){YI(h);continue}}p!==null?(p.return=f,ce=p):YI(h)}d=d.sibling}e:for(d=null,h=t;;){if(h.tag===5){if(d===null){d=h;try{i=h.stateNode,u?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(o=h.stateNode,l=h.memoizedProps.style,a=l!=null&&l.hasOwnProperty("display")?l.display:null,o.style.display=_V("display",a))}catch(y){wt(t,t.return,y)}}}else if(h.tag===6){if(d===null)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(y){wt(t,t.return,y)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:zn(e,t),li(t),n&4&&KI(t);break;case 21:break;default:zn(e,t),li(t)}}function li(t){var e=t.flags;if(e&2){try{e:{for(var r=t.return;r!==null;){if(GH(r)){var n=r;break e}r=r.return}throw Error(X(160))}switch(n.tag){case 5:var i=n.stateNode;n.flags&32&&(Bc(i,""),n.flags&=-33);var s=HI(t);yP(t,s,i);break;case 3:case 4:var a=n.stateNode.containerInfo,o=HI(t);gP(t,o,a);break;default:throw Error(X(161))}}catch(l){wt(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function HX(t,e,r){ce=t,XH(t)}function XH(t,e,r){for(var n=(t.mode&1)!==0;ce!==null;){var i=ce,s=i.child;if(i.tag===22&&n){var a=i.memoizedState!==null||Ah;if(!a){var o=i.alternate,l=o!==null&&o.memoizedState!==null||wr;o=Ah;var u=wr;if(Ah=a,(wr=l)&&!u)for(ce=i;ce!==null;)a=ce,l=a.child,a.tag===22&&a.memoizedState!==null?QI(i):l!==null?(l.return=a,ce=l):QI(i);for(;s!==null;)ce=s,XH(s),s=s.sibling;ce=i,Ah=o,wr=u}GI(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,ce=s):GI(t)}}function GI(t){for(;ce!==null;){var e=ce;if(e.flags&8772){var r=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:wr||Sp(5,e);break;case 1:var n=e.stateNode;if(e.flags&4&&!wr)if(r===null)n.componentDidMount();else{var i=e.elementType===e.type?r.memoizedProps:Wn(e.type,r.memoizedProps);n.componentDidUpdate(i,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&jI(e,s,n);break;case 3:var a=e.updateQueue;if(a!==null){if(r=null,e.child!==null)switch(e.child.tag){case 5:r=e.child.stateNode;break;case 1:r=e.child.stateNode}jI(e,a,r)}break;case 5:var o=e.stateNode;if(r===null&&e.flags&4){r=o;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&r.focus();break;case"img":l.src&&(r.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var h=d.dehydrated;h!==null&&Vc(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(X(163))}wr||e.flags&512&&vP(e)}catch(f){wt(e,e.return,f)}}if(e===t){ce=null;break}if(r=e.sibling,r!==null){r.return=e.return,ce=r;break}ce=e.return}}function YI(t){for(;ce!==null;){var e=ce;if(e===t){ce=null;break}var r=e.sibling;if(r!==null){r.return=e.return,ce=r;break}ce=e.return}}function QI(t){for(;ce!==null;){var e=ce;try{switch(e.tag){case 0:case 11:case 15:var r=e.return;try{Sp(4,e)}catch(l){wt(e,r,l)}break;case 1:var n=e.stateNode;if(typeof n.componentDidMount=="function"){var i=e.return;try{n.componentDidMount()}catch(l){wt(e,i,l)}}var s=e.return;try{vP(e)}catch(l){wt(e,s,l)}break;case 5:var a=e.return;try{vP(e)}catch(l){wt(e,a,l)}}}catch(l){wt(e,e.return,l)}if(e===t){ce=null;break}var o=e.sibling;if(o!==null){o.return=e.return,ce=o;break}ce=e.return}}var KX=Math.ceil,Ff=is.ReactCurrentDispatcher,iC=is.ReactCurrentOwner,Rn=is.ReactCurrentBatchConfig,Le=0,Zt=null,Rt=null,dr=0,cn=0,fl=da(0),Vt=0,rd=null,ao=0,Ep=0,sC=0,Tc=null,Hr=null,aC=0,Xl=1/0,ji=null,Lf=!1,bP=null,Hs=null,Fh=!1,As=null,Bf=0,Ic=0,wP=null,lf=-1,uf=0;function kr(){return Le&6?Pt():lf!==-1?lf:lf=Pt()}function Ks(t){return t.mode&1?Le&2&&dr!==0?dr&-dr:IX.transition!==null?(uf===0&&(uf=DV()),uf):(t=We,t!==0||(t=window.event,t=t===void 0?16:zV(t.type)),t):1}function ti(t,e,r,n){if(50<Ic)throw Ic=0,wP=null,Error(X(185));Id(t,r,n),(!(Le&2)||t!==Zt)&&(t===Zt&&(!(Le&2)&&(Ep|=r),Vt===4&&Os(t,dr)),Xr(t,n),r===1&&Le===0&&!(e.mode&1)&&(Xl=Pt()+500,wp&&ha()))}function Xr(t,e){var r=t.callbackNode;IQ(t,e);var n=Ef(t,t===Zt?dr:0);if(n===0)r!==null&&sI(r),t.callbackNode=null,t.callbackPriority=0;else if(e=n&-n,t.callbackPriority!==e){if(r!=null&&sI(r),e===1)t.tag===0?TX(XI.bind(null,t)):oH(XI.bind(null,t)),OX(function(){!(Le&6)&&ha()}),r=null;else{switch(qV(n)){case 1:r=jN;break;case 4:r=$V;break;case 16:r=Sf;break;case 536870912:r=kV;break;default:r=Sf}r=s7(r,JH.bind(null,t))}t.callbackPriority=e,t.callbackNode=r}}function JH(t,e){if(lf=-1,uf=0,Le&6)throw Error(X(327));var r=t.callbackNode;if(Ol()&&t.callbackNode!==r)return null;var n=Ef(t,t===Zt?dr:0);if(n===0)return null;if(n&30||n&t.expiredLanes||e)e=zf(t,n);else{e=n;var i=Le;Le|=2;var s=e7();(Zt!==t||dr!==e)&&(ji=null,Xl=Pt()+500,Ka(t,e));do try{QX();break}catch(o){ZH(t,o)}while(!0);VN(),Ff.current=s,Le=i,Rt!==null?e=0:(Zt=null,dr=0,e=Vt)}if(e!==0){if(e===2&&(i=KO(t),i!==0&&(n=i,e=xP(t,i))),e===1)throw r=rd,Ka(t,0),Os(t,n),Xr(t,Pt()),r;if(e===6)Os(t,n);else{if(i=t.current.alternate,!(n&30)&&!GX(i)&&(e=zf(t,n),e===2&&(s=KO(t),s!==0&&(n=s,e=xP(t,s))),e===1))throw r=rd,Ka(t,0),Os(t,n),Xr(t,Pt()),r;switch(t.finishedWork=i,t.finishedLanes=n,e){case 0:case 1:throw Error(X(345));case 2:Oa(t,Hr,ji);break;case 3:if(Os(t,n),(n&130023424)===n&&(e=aC+500-Pt(),10<e)){if(Ef(t,0)!==0)break;if(i=t.suspendedLanes,(i&n)!==n){kr(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=tP(Oa.bind(null,t,Hr,ji),e);break}Oa(t,Hr,ji);break;case 4:if(Os(t,n),(n&4194240)===n)break;for(e=t.eventTimes,i=-1;0<n;){var a=31-ei(n);s=1<<a,a=e[a],a>i&&(i=a),n&=~s}if(n=i,n=Pt()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*KX(n/1960))-n,10<n){t.timeoutHandle=tP(Oa.bind(null,t,Hr,ji),n);break}Oa(t,Hr,ji);break;case 5:Oa(t,Hr,ji);break;default:throw Error(X(329))}}}return Xr(t,Pt()),t.callbackNode===r?JH.bind(null,t):null}function xP(t,e){var r=Tc;return t.current.memoizedState.isDehydrated&&(Ka(t,e).flags|=256),t=zf(t,e),t!==2&&(e=Hr,Hr=r,e!==null&&_P(e)),t}function _P(t){Hr===null?Hr=t:Hr.push.apply(Hr,t)}function GX(t){for(var e=t;;){if(e.flags&16384){var r=e.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var i=r[n],s=i.getSnapshot;i=i.value;try{if(!ri(s(),i))return!1}catch{return!1}}}if(r=e.child,e.subtreeFlags&16384&&r!==null)r.return=e,e=r;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Os(t,e){for(e&=~sC,e&=~Ep,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var r=31-ei(e),n=1<<r;t[r]=-1,e&=~n}}function XI(t){if(Le&6)throw Error(X(327));Ol();var e=Ef(t,0);if(!(e&1))return Xr(t,Pt()),null;var r=zf(t,e);if(t.tag!==0&&r===2){var n=KO(t);n!==0&&(e=n,r=xP(t,n))}if(r===1)throw r=rd,Ka(t,0),Os(t,e),Xr(t,Pt()),r;if(r===6)throw Error(X(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Oa(t,Hr,ji),Xr(t,Pt()),null}function oC(t,e){var r=Le;Le|=1;try{return t(e)}finally{Le=r,Le===0&&(Xl=Pt()+500,wp&&ha())}}function oo(t){As!==null&&As.tag===0&&!(Le&6)&&Ol();var e=Le;Le|=1;var r=Rn.transition,n=We;try{if(Rn.transition=null,We=1,t)return t()}finally{We=n,Rn.transition=r,Le=e,!(Le&6)&&ha()}}function lC(){cn=fl.current,at(fl)}function Ka(t,e){t.finishedWork=null,t.finishedLanes=0;var r=t.timeoutHandle;if(r!==-1&&(t.timeoutHandle=-1,EX(r)),Rt!==null)for(r=Rt.return;r!==null;){var n=r;switch(zN(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&Tf();break;case 3:Yl(),at(Yr),at(Sr),XN();break;case 5:QN(n);break;case 4:Yl();break;case 13:at(ht);break;case 19:at(ht);break;case 10:HN(n.type._context);break;case 22:case 23:lC()}r=r.return}if(Zt=t,Rt=t=Gs(t.current,null),dr=cn=e,Vt=0,rd=null,sC=Ep=ao=0,Hr=Tc=null,Ca!==null){for(e=0;e<Ca.length;e++)if(r=Ca[e],n=r.interleaved,n!==null){r.interleaved=null;var i=n.next,s=r.pending;if(s!==null){var a=s.next;s.next=i,n.next=a}r.pending=n}Ca=null}return t}function ZH(t,e){do{var r=Rt;try{if(VN(),sf.current=Af,Mf){for(var n=ft.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}Mf=!1}if(so=0,Jt=Ut=ft=null,Nc=!1,Zc=0,iC.current=null,r===null||r.return===null){Vt=1,rd=e,Rt=null;break}e:{var s=t,a=r.return,o=r,l=e;if(e=dr,o.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,d=o,h=d.tag;if(!(d.mode&1)&&(h===0||h===11||h===15)){var f=d.alternate;f?(d.updateQueue=f.updateQueue,d.memoizedState=f.memoizedState,d.lanes=f.lanes):(d.updateQueue=null,d.memoizedState=null)}var p=AI(a);if(p!==null){p.flags&=-257,FI(p,a,o,s,e),p.mode&1&&MI(s,u,e),e=p,l=u;var m=e.updateQueue;if(m===null){var y=new Set;y.add(l),e.updateQueue=y}else m.add(l);break e}else{if(!(e&1)){MI(s,u,e),uC();break e}l=Error(X(426))}}else if(ut&&o.mode&1){var b=AI(a);if(b!==null){!(b.flags&65536)&&(b.flags|=256),FI(b,a,o,s,e),UN(Ql(l,o));break e}}s=l=Ql(l,o),Vt!==4&&(Vt=2),Tc===null?Tc=[s]:Tc.push(s),s=a;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var g=qH(s,l,e);RI(s,g);break e;case 1:o=l;var v=s.type,x=s.stateNode;if(!(s.flags&128)&&(typeof v.getDerivedStateFromError=="function"||x!==null&&typeof x.componentDidCatch=="function"&&(Hs===null||!Hs.has(x)))){s.flags|=65536,e&=-e,s.lanes|=e;var w=MH(s,o,e);RI(s,w);break e}}s=s.return}while(s!==null)}r7(r)}catch(_){e=_,Rt===r&&r!==null&&(Rt=r=r.return);continue}break}while(!0)}function e7(){var t=Ff.current;return Ff.current=Af,t===null?Af:t}function uC(){(Vt===0||Vt===3||Vt===2)&&(Vt=4),Zt===null||!(ao&268435455)&&!(Ep&268435455)||Os(Zt,dr)}function zf(t,e){var r=Le;Le|=2;var n=e7();(Zt!==t||dr!==e)&&(ji=null,Ka(t,e));do try{YX();break}catch(i){ZH(t,i)}while(!0);if(VN(),Le=r,Ff.current=n,Rt!==null)throw Error(X(261));return Zt=null,dr=0,Vt}function YX(){for(;Rt!==null;)t7(Rt)}function QX(){for(;Rt!==null&&!xQ();)t7(Rt)}function t7(t){var e=i7(t.alternate,t,cn);t.memoizedProps=t.pendingProps,e===null?r7(t):Rt=e,iC.current=null}function r7(t){var e=t;do{var r=e.alternate;if(t=e.return,e.flags&32768){if(r=UX(r,e),r!==null){r.flags&=32767,Rt=r;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Vt=6,Rt=null;return}}else if(r=zX(r,e,cn),r!==null){Rt=r;return}if(e=e.sibling,e!==null){Rt=e;return}Rt=e=t}while(e!==null);Vt===0&&(Vt=5)}function Oa(t,e,r){var n=We,i=Rn.transition;try{Rn.transition=null,We=1,XX(t,e,r,n)}finally{Rn.transition=i,We=n}return null}function XX(t,e,r,n){do Ol();while(As!==null);if(Le&6)throw Error(X(327));r=t.finishedWork;var i=t.finishedLanes;if(r===null)return null;if(t.finishedWork=null,t.finishedLanes=0,r===t.current)throw Error(X(177));t.callbackNode=null,t.callbackPriority=0;var s=r.lanes|r.childLanes;if(RQ(t,s),t===Zt&&(Rt=Zt=null,dr=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||Fh||(Fh=!0,s7(Sf,function(){return Ol(),null})),s=(r.flags&15990)!==0,r.subtreeFlags&15990||s){s=Rn.transition,Rn.transition=null;var a=We;We=1;var o=Le;Le|=4,iC.current=null,VX(t,r),QH(r,t),gX(ZO),Of=!!JO,ZO=JO=null,t.current=r,HX(r),_Q(),Le=o,We=a,Rn.transition=s}else t.current=r;if(Fh&&(Fh=!1,As=t,Bf=i),s=t.pendingLanes,s===0&&(Hs=null),OQ(r.stateNode),Xr(t,Pt()),e!==null)for(n=t.onRecoverableError,r=0;r<e.length;r++)i=e[r],n(i.value,{componentStack:i.stack,digest:i.digest});if(Lf)throw Lf=!1,t=bP,bP=null,t;return Bf&1&&t.tag!==0&&Ol(),s=t.pendingLanes,s&1?t===wP?Ic++:(Ic=0,wP=t):Ic=0,ha(),null}function Ol(){if(As!==null){var t=qV(Bf),e=Rn.transition,r=We;try{if(Rn.transition=null,We=16>t?16:t,As===null)var n=!1;else{if(t=As,As=null,Bf=0,Le&6)throw Error(X(331));var i=Le;for(Le|=4,ce=t.current;ce!==null;){var s=ce,a=s.child;if(ce.flags&16){var o=s.deletions;if(o!==null){for(var l=0;l<o.length;l++){var u=o[l];for(ce=u;ce!==null;){var d=ce;switch(d.tag){case 0:case 11:case 15:Cc(8,d,s)}var h=d.child;if(h!==null)h.return=d,ce=h;else for(;ce!==null;){d=ce;var f=d.sibling,p=d.return;if(KH(d),d===u){ce=null;break}if(f!==null){f.return=p,ce=f;break}ce=p}}}var m=s.alternate;if(m!==null){var y=m.child;if(y!==null){m.child=null;do{var b=y.sibling;y.sibling=null,y=b}while(y!==null)}}ce=s}}if(s.subtreeFlags&2064&&a!==null)a.return=s,ce=a;else e:for(;ce!==null;){if(s=ce,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Cc(9,s,s.return)}var g=s.sibling;if(g!==null){g.return=s.return,ce=g;break e}ce=s.return}}var v=t.current;for(ce=v;ce!==null;){a=ce;var x=a.child;if(a.subtreeFlags&2064&&x!==null)x.return=a,ce=x;else e:for(a=v;ce!==null;){if(o=ce,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:Sp(9,o)}}catch(_){wt(o,o.return,_)}if(o===a){ce=null;break e}var w=o.sibling;if(w!==null){w.return=o.return,ce=w;break e}ce=o.return}}if(Le=i,ha(),xi&&typeof xi.onPostCommitFiberRoot=="function")try{xi.onPostCommitFiberRoot(mp,t)}catch{}n=!0}return n}finally{We=r,Rn.transition=e}}return!1}function JI(t,e,r){e=Ql(r,e),e=qH(t,e,1),t=Vs(t,e,1),e=kr(),t!==null&&(Id(t,1,e),Xr(t,e))}function wt(t,e,r){if(t.tag===3)JI(t,t,r);else for(;e!==null;){if(e.tag===3){JI(e,t,r);break}else if(e.tag===1){var n=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Hs===null||!Hs.has(n))){t=Ql(r,t),t=MH(e,t,1),e=Vs(e,t,1),t=kr(),e!==null&&(Id(e,1,t),Xr(e,t));break}}e=e.return}}function JX(t,e,r){var n=t.pingCache;n!==null&&n.delete(e),e=kr(),t.pingedLanes|=t.suspendedLanes&r,Zt===t&&(dr&r)===r&&(Vt===4||Vt===3&&(dr&130023424)===dr&&500>Pt()-aC?Ka(t,0):sC|=r),Xr(t,e)}function n7(t,e){e===0&&(t.mode&1?(e=Th,Th<<=1,!(Th&130023424)&&(Th=4194304)):e=1);var r=kr();t=ts(t,e),t!==null&&(Id(t,e,r),Xr(t,r))}function ZX(t){var e=t.memoizedState,r=0;e!==null&&(r=e.retryLane),n7(t,r)}function eJ(t,e){var r=0;switch(t.tag){case 13:var n=t.stateNode,i=t.memoizedState;i!==null&&(r=i.retryLane);break;case 19:n=t.stateNode;break;default:throw Error(X(314))}n!==null&&n.delete(e),n7(t,r)}var i7;i7=function(t,e,r){if(t!==null)if(t.memoizedProps!==e.pendingProps||Yr.current)Gr=!0;else{if(!(t.lanes&r)&&!(e.flags&128))return Gr=!1,BX(t,e,r);Gr=!!(t.flags&131072)}else Gr=!1,ut&&e.flags&1048576&&lH(e,jf,e.index);switch(e.lanes=0,e.tag){case 2:var n=e.type;of(t,e),t=e.pendingProps;var i=Hl(e,Sr.current);El(e,r),i=ZN(null,e,n,t,i,r);var s=eC();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Qr(n)?(s=!0,If(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,GN(e),i.updater=_p,e.stateNode=i,i._reactInternals=e,lP(e,n,t,r),e=dP(null,e,n,!0,s,r)):(e.tag=0,ut&&s&&BN(e),Tr(null,e,i,r),e=e.child),e;case 16:n=e.elementType;e:{switch(of(t,e),t=e.pendingProps,i=n._init,n=i(n._payload),e.type=n,i=e.tag=rJ(n),t=Wn(n,t),i){case 0:e=cP(null,e,n,t,r);break e;case 1:e=zI(null,e,n,t,r);break e;case 11:e=LI(null,e,n,t,r);break e;case 14:e=BI(null,e,n,Wn(n.type,t),r);break e}throw Error(X(306,n,""))}return e;case 0:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:Wn(n,i),cP(t,e,n,i,r);case 1:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:Wn(n,i),zI(t,e,n,i,r);case 3:e:{if(BH(e),t===null)throw Error(X(387));n=e.pendingProps,s=e.memoizedState,i=s.element,pH(t,e),Df(e,n,null,r);var a=e.memoizedState;if(n=a.element,s.isDehydrated)if(s={element:n,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=Ql(Error(X(423)),e),e=UI(t,e,n,r,i);break e}else if(n!==i){i=Ql(Error(X(424)),e),e=UI(t,e,n,r,i);break e}else for(fn=Ws(e.stateNode.containerInfo.firstChild),pn=e,ut=!0,Gn=null,r=hH(e,null,n,r),e.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Kl(),n===i){e=rs(t,e,r);break e}Tr(t,e,n,r)}e=e.child}return e;case 5:return mH(e),t===null&&sP(e),n=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,a=i.children,eP(n,i)?a=null:s!==null&&eP(n,s)&&(e.flags|=32),LH(t,e),Tr(t,e,a,r),e.child;case 6:return t===null&&sP(e),null;case 13:return zH(t,e,r);case 4:return YN(e,e.stateNode.containerInfo),n=e.pendingProps,t===null?e.child=Gl(e,null,n,r):Tr(t,e,n,r),e.child;case 11:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:Wn(n,i),LI(t,e,n,i,r);case 7:return Tr(t,e,e.pendingProps,r),e.child;case 8:return Tr(t,e,e.pendingProps.children,r),e.child;case 12:return Tr(t,e,e.pendingProps.children,r),e.child;case 10:e:{if(n=e.type._context,i=e.pendingProps,s=e.memoizedProps,a=i.value,nt($f,n._currentValue),n._currentValue=a,s!==null)if(ri(s.value,a)){if(s.children===i.children&&!Yr.current){e=rs(t,e,r);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var o=s.dependencies;if(o!==null){a=s.child;for(var l=o.firstContext;l!==null;){if(l.context===n){if(s.tag===1){l=zi(-1,r&-r),l.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?l.next=l:(l.next=d.next,d.next=l),u.pending=l}}s.lanes|=r,l=s.alternate,l!==null&&(l.lanes|=r),aP(s.return,r,e),o.lanes|=r;break}l=l.next}}else if(s.tag===10)a=s.type===e.type?null:s.child;else if(s.tag===18){if(a=s.return,a===null)throw Error(X(341));a.lanes|=r,o=a.alternate,o!==null&&(o.lanes|=r),aP(a,r,e),a=s.sibling}else a=s.child;if(a!==null)a.return=s;else for(a=s;a!==null;){if(a===e){a=null;break}if(s=a.sibling,s!==null){s.return=a.return,a=s;break}a=a.return}s=a}Tr(t,e,i.children,r),e=e.child}return e;case 9:return i=e.type,n=e.pendingProps.children,El(e,r),i=kn(i),n=n(i),e.flags|=1,Tr(t,e,n,r),e.child;case 14:return n=e.type,i=Wn(n,e.pendingProps),i=Wn(n.type,i),BI(t,e,n,i,r);case 15:return AH(t,e,e.type,e.pendingProps,r);case 17:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:Wn(n,i),of(t,e),e.tag=1,Qr(n)?(t=!0,If(e)):t=!1,El(e,r),DH(e,n,i),lP(e,n,i,r),dP(null,e,n,!0,t,r);case 19:return UH(t,e,r);case 22:return FH(t,e,r)}throw Error(X(156,e.tag))};function s7(t,e){return jV(t,e)}function tJ(t,e,r,n){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function In(t,e,r,n){return new tJ(t,e,r,n)}function cC(t){return t=t.prototype,!(!t||!t.isReactComponent)}function rJ(t){if(typeof t=="function")return cC(t)?1:0;if(t!=null){if(t=t.$$typeof,t===TN)return 11;if(t===IN)return 14}return 2}function Gs(t,e){var r=t.alternate;return r===null?(r=In(t.tag,e,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=e,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&14680064,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,e=t.dependencies,r.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r}function cf(t,e,r,n,i,s){var a=2;if(n=t,typeof t=="function")cC(t)&&(a=1);else if(typeof t=="string")a=5;else e:switch(t){case nl:return Ga(r.children,i,s,e);case CN:a=8,i|=8;break;case jO:return t=In(12,r,e,i|2),t.elementType=jO,t.lanes=s,t;case $O:return t=In(13,r,e,i),t.elementType=$O,t.lanes=s,t;case kO:return t=In(19,r,e,i),t.elementType=kO,t.lanes=s,t;case mV:return Op(r,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case fV:a=10;break e;case pV:a=9;break e;case TN:a=11;break e;case IN:a=14;break e;case bs:a=16,n=null;break e}throw Error(X(130,t==null?t:typeof t,""))}return e=In(a,r,e,i),e.elementType=t,e.type=n,e.lanes=s,e}function Ga(t,e,r,n){return t=In(7,t,n,e),t.lanes=r,t}function Op(t,e,r,n){return t=In(22,t,n,e),t.elementType=mV,t.lanes=r,t.stateNode={isHidden:!1},t}function Ym(t,e,r){return t=In(6,t,null,e),t.lanes=r,t}function Qm(t,e,r){return e=In(4,t.children!==null?t.children:[],t.key,e),e.lanes=r,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function nJ(t,e,r,n,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Im(0),this.expirationTimes=Im(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Im(0),this.identifierPrefix=n,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function dC(t,e,r,n,i,s,a,o,l){return t=new nJ(t,e,r,o,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=In(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},GN(s),t}function iJ(t,e,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:rl,key:n==null?null:""+n,children:t,containerInfo:e,implementation:r}}function a7(t){if(!t)return ia;t=t._reactInternals;e:{if(Po(t)!==t||t.tag!==1)throw Error(X(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Qr(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(X(171))}if(t.tag===1){var r=t.type;if(Qr(r))return aH(t,r,e)}return e}function o7(t,e,r,n,i,s,a,o,l){return t=dC(r,n,!0,t,i,s,a,o,l),t.context=a7(null),r=t.current,n=kr(),i=Ks(r),s=zi(n,i),s.callback=e??null,Vs(r,s,i),t.current.lanes=i,Id(t,i,n),Xr(t,n),t}function Pp(t,e,r,n){var i=e.current,s=kr(),a=Ks(i);return r=a7(r),e.context===null?e.context=r:e.pendingContext=r,e=zi(s,a),e.payload={element:t},n=n===void 0?null:n,n!==null&&(e.callback=n),t=Vs(i,e,a),t!==null&&(ti(t,i,a,s),nf(t,i,a)),a}function Uf(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function ZI(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<e?r:e}}function hC(t,e){ZI(t,e),(t=t.alternate)&&ZI(t,e)}function sJ(){return null}var l7=typeof reportError=="function"?reportError:function(t){console.error(t)};function fC(t){this._internalRoot=t}Np.prototype.render=fC.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(X(409));Pp(t,e,null,null)};Np.prototype.unmount=fC.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;oo(function(){Pp(null,t,null,null)}),e[es]=null}};function Np(t){this._internalRoot=t}Np.prototype.unstable_scheduleHydration=function(t){if(t){var e=FV();t={blockedOn:null,target:t,priority:e};for(var r=0;r<Es.length&&e!==0&&e<Es[r].priority;r++);Es.splice(r,0,t),r===0&&BV(t)}};function pC(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Cp(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function e2(){}function aJ(t,e,r,n,i){if(i){if(typeof n=="function"){var s=n;n=function(){var u=Uf(a);s.call(u)}}var a=o7(e,n,t,0,null,!1,!1,"",e2);return t._reactRootContainer=a,t[es]=a.current,Gc(t.nodeType===8?t.parentNode:t),oo(),a}for(;i=t.lastChild;)t.removeChild(i);if(typeof n=="function"){var o=n;n=function(){var u=Uf(l);o.call(u)}}var l=dC(t,0,!1,null,null,!1,!1,"",e2);return t._reactRootContainer=l,t[es]=l.current,Gc(t.nodeType===8?t.parentNode:t),oo(function(){Pp(e,l,r,n)}),l}function Tp(t,e,r,n,i){var s=r._reactRootContainer;if(s){var a=s;if(typeof i=="function"){var o=i;i=function(){var l=Uf(a);o.call(l)}}Pp(e,a,t,i)}else a=aJ(r,e,t,i,n);return Uf(a)}MV=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var r=vc(e.pendingLanes);r!==0&&($N(e,r|1),Xr(e,Pt()),!(Le&6)&&(Xl=Pt()+500,ha()))}break;case 13:oo(function(){var n=ts(t,1);if(n!==null){var i=kr();ti(n,t,1,i)}}),hC(t,1)}};kN=function(t){if(t.tag===13){var e=ts(t,134217728);if(e!==null){var r=kr();ti(e,t,134217728,r)}hC(t,134217728)}};AV=function(t){if(t.tag===13){var e=Ks(t),r=ts(t,e);if(r!==null){var n=kr();ti(r,t,e,n)}hC(t,e)}};FV=function(){return We};LV=function(t,e){var r=We;try{return We=t,e()}finally{We=r}};WO=function(t,e,r){switch(e){case"input":if(MO(t,r),e=r.name,r.type==="radio"&&e!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<r.length;e++){var n=r[e];if(n!==t&&n.form===t.form){var i=bp(n);if(!i)throw Error(X(90));gV(n),MO(n,i)}}}break;case"textarea":bV(t,r);break;case"select":e=r.value,e!=null&&wl(t,!!r.multiple,e,!1)}};PV=oC;NV=oo;var oJ={usingClientEntryPoint:!1,Events:[jd,ol,bp,EV,OV,oC]},ic={findFiberByHostInstance:Na,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},lJ={bundleType:ic.bundleType,version:ic.version,rendererPackageName:ic.rendererPackageName,rendererConfig:ic.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:is.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=IV(t),t===null?null:t.stateNode},findFiberByHostInstance:ic.findFiberByHostInstance||sJ,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Lh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Lh.isDisabled&&Lh.supportsFiber)try{mp=Lh.inject(lJ),xi=Lh}catch{}}vn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=oJ;vn.createPortal=function(t,e){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!pC(e))throw Error(X(200));return iJ(t,e,null,r)};vn.createRoot=function(t,e){if(!pC(t))throw Error(X(299));var r=!1,n="",i=l7;return e!=null&&(e.unstable_strictMode===!0&&(r=!0),e.identifierPrefix!==void 0&&(n=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=dC(t,1,!1,null,null,r,!1,n,i),t[es]=e.current,Gc(t.nodeType===8?t.parentNode:t),new fC(e)};vn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(X(188)):(t=Object.keys(t).join(","),Error(X(268,t)));return t=IV(e),t=t===null?null:t.stateNode,t};vn.flushSync=function(t){return oo(t)};vn.hydrate=function(t,e,r){if(!Cp(e))throw Error(X(200));return Tp(null,t,e,!0,r)};vn.hydrateRoot=function(t,e,r){if(!pC(t))throw Error(X(405));var n=r!=null&&r.hydratedSources||null,i=!1,s="",a=l7;if(r!=null&&(r.unstable_strictMode===!0&&(i=!0),r.identifierPrefix!==void 0&&(s=r.identifierPrefix),r.onRecoverableError!==void 0&&(a=r.onRecoverableError)),e=o7(e,null,t,1,r??null,i,!1,s,a),t[es]=e.current,Gc(t),n)for(t=0;t<n.length;t++)r=n[t],i=r._getVersion,i=i(r._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[r,i]:e.mutableSourceEagerHydrationData.push(r,i);return new Np(e)};vn.render=function(t,e,r){if(!Cp(e))throw Error(X(200));return Tp(null,t,e,!1,r)};vn.unmountComponentAtNode=function(t){if(!Cp(t))throw Error(X(40));return t._reactRootContainer?(oo(function(){Tp(null,null,t,!1,function(){t._reactRootContainer=null,t[es]=null})}),!0):!1};vn.unstable_batchedUpdates=oC;vn.unstable_renderSubtreeIntoContainer=function(t,e,r,n){if(!Cp(r))throw Error(X(200));if(t==null||t._reactInternals===void 0)throw Error(X(38));return Tp(t,e,r,!1,n)};vn.version="18.3.1-next-f1338f8080-20240426";function u7(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(u7)}catch(t){console.error(t)}}u7(),uV.exports=vn;var uJ=uV.exports,t2=uJ;IO.createRoot=t2.createRoot,IO.hydrateRoot=t2.hydrateRoot;/**
 * @remix-run/router v1.23.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function nd(){return nd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},nd.apply(this,arguments)}var Fs;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Fs||(Fs={}));const r2="popstate";function cJ(t){t===void 0&&(t={});function e(n,i){let{pathname:s,search:a,hash:o}=n.location;return SP("",{pathname:s,search:a,hash:o},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function r(n,i){return typeof i=="string"?i:Wf(i)}return hJ(e,r,null,t)}function pt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function mC(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function dJ(){return Math.random().toString(36).substr(2,8)}function n2(t,e){return{usr:t.state,key:t.key,idx:e}}function SP(t,e,r,n){return r===void 0&&(r=null),nd({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?mu(e):e,{state:r,key:e&&e.key||n||dJ()})}function Wf(t){let{pathname:e="/",search:r="",hash:n=""}=t;return r&&r!=="?"&&(e+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function mu(t){let e={};if(t){let r=t.indexOf("#");r>=0&&(e.hash=t.substr(r),t=t.substr(0,r));let n=t.indexOf("?");n>=0&&(e.search=t.substr(n),t=t.substr(0,n)),t&&(e.pathname=t)}return e}function hJ(t,e,r,n){n===void 0&&(n={});let{window:i=document.defaultView,v5Compat:s=!1}=n,a=i.history,o=Fs.Pop,l=null,u=d();u==null&&(u=0,a.replaceState(nd({},a.state,{idx:u}),""));function d(){return(a.state||{idx:null}).idx}function h(){o=Fs.Pop;let b=d(),g=b==null?null:b-u;u=b,l&&l({action:o,location:y.location,delta:g})}function f(b,g){o=Fs.Push;let v=SP(y.location,b,g);u=d()+1;let x=n2(v,u),w=y.createHref(v);try{a.pushState(x,"",w)}catch(_){if(_ instanceof DOMException&&_.name==="DataCloneError")throw _;i.location.assign(w)}s&&l&&l({action:o,location:y.location,delta:1})}function p(b,g){o=Fs.Replace;let v=SP(y.location,b,g);u=d();let x=n2(v,u),w=y.createHref(v);a.replaceState(x,"",w),s&&l&&l({action:o,location:y.location,delta:0})}function m(b){let g=i.location.origin!=="null"?i.location.origin:i.location.href,v=typeof b=="string"?b:Wf(b);return v=v.replace(/ $/,"%20"),pt(g,"No window.location.(origin|href) available to create URL for href: "+v),new URL(v,g)}let y={get action(){return o},get location(){return t(i,a)},listen(b){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(r2,h),l=b,()=>{i.removeEventListener(r2,h),l=null}},createHref(b){return e(i,b)},createURL:m,encodeLocation(b){let g=m(b);return{pathname:g.pathname,search:g.search,hash:g.hash}},push:f,replace:p,go(b){return a.go(b)}};return y}var i2;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(i2||(i2={}));function fJ(t,e,r){return r===void 0&&(r="/"),pJ(t,e,r)}function pJ(t,e,r,n){let i=typeof e=="string"?mu(e):e,s=Jl(i.pathname||"/",r);if(s==null)return null;let a=c7(t);mJ(a);let o=null;for(let l=0;o==null&&l<a.length;++l){let u=PJ(s);o=EJ(a[l],u)}return o}function c7(t,e,r,n){e===void 0&&(e=[]),r===void 0&&(r=[]),n===void 0&&(n="");let i=(s,a,o)=>{let l={relativePath:o===void 0?s.path||"":o,caseSensitive:s.caseSensitive===!0,childrenIndex:a,route:s};l.relativePath.startsWith("/")&&(pt(l.relativePath.startsWith(n),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(n.length));let u=Ys([n,l.relativePath]),d=r.concat(l);s.children&&s.children.length>0&&(pt(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),c7(s.children,e,d,u)),!(s.path==null&&!s.index)&&e.push({path:u,score:_J(u,s.index),routesMeta:d})};return t.forEach((s,a)=>{var o;if(s.path===""||!((o=s.path)!=null&&o.includes("?")))i(s,a);else for(let l of d7(s.path))i(s,a,l)}),e}function d7(t){let e=t.split("/");if(e.length===0)return[];let[r,...n]=e,i=r.endsWith("?"),s=r.replace(/\?$/,"");if(n.length===0)return i?[s,""]:[s];let a=d7(n.join("/")),o=[];return o.push(...a.map(l=>l===""?s:[s,l].join("/"))),i&&o.push(...a),o.map(l=>t.startsWith("/")&&l===""?"/":l)}function mJ(t){t.sort((e,r)=>e.score!==r.score?r.score-e.score:SJ(e.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const vJ=/^:[\w-]+$/,gJ=3,yJ=2,bJ=1,wJ=10,xJ=-2,s2=t=>t==="*";function _J(t,e){let r=t.split("/"),n=r.length;return r.some(s2)&&(n+=xJ),e&&(n+=yJ),r.filter(i=>!s2(i)).reduce((i,s)=>i+(vJ.test(s)?gJ:s===""?bJ:wJ),n)}function SJ(t,e){return t.length===e.length&&t.slice(0,-1).every((n,i)=>n===e[i])?t[t.length-1]-e[e.length-1]:0}function EJ(t,e,r){let{routesMeta:n}=t,i={},s="/",a=[];for(let o=0;o<n.length;++o){let l=n[o],u=o===n.length-1,d=s==="/"?e:e.slice(s.length)||"/",h=EP({path:l.relativePath,caseSensitive:l.caseSensitive,end:u},d),f=l.route;if(!h)return null;Object.assign(i,h.params),a.push({params:i,pathname:Ys([s,h.pathname]),pathnameBase:RJ(Ys([s,h.pathnameBase])),route:f}),h.pathnameBase!=="/"&&(s=Ys([s,h.pathnameBase]))}return a}function EP(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[r,n]=OJ(t.path,t.caseSensitive,t.end),i=e.match(r);if(!i)return null;let s=i[0],a=s.replace(/(.)\/+$/,"$1"),o=i.slice(1);return{params:n.reduce((u,d,h)=>{let{paramName:f,isOptional:p}=d;if(f==="*"){let y=o[h]||"";a=s.slice(0,s.length-y.length).replace(/(.)\/+$/,"$1")}const m=o[h];return p&&!m?u[f]=void 0:u[f]=(m||"").replace(/%2F/g,"/"),u},{}),pathname:s,pathnameBase:a,pattern:t}}function OJ(t,e,r){e===void 0&&(e=!1),r===void 0&&(r=!0),mC(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let n=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,o,l)=>(n.push({paramName:o,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(n.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),n]}function PJ(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return mC(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function Jl(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let r=e.endsWith("/")?e.length-1:e.length,n=t.charAt(r);return n&&n!=="/"?null:t.slice(r)||"/"}const NJ=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,CJ=t=>NJ.test(t);function TJ(t,e){e===void 0&&(e="/");let{pathname:r,search:n="",hash:i=""}=typeof t=="string"?mu(t):t,s;if(r)if(CJ(r))s=r;else{if(r.includes("//")){let a=r;r=r.replace(/\/\/+/g,"/"),mC(!1,"Pathnames cannot have embedded double slashes - normalizing "+(a+" -> "+r))}r.startsWith("/")?s=a2(r.substring(1),"/"):s=a2(r,e)}else s=e;return{pathname:s,search:jJ(n),hash:$J(i)}}function a2(t,e){let r=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?r.length>1&&r.pop():i!=="."&&r.push(i)}),r.length>1?r.join("/"):"/"}function Xm(t,e,r,n){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function IJ(t){return t.filter((e,r)=>r===0||e.route.path&&e.route.path.length>0)}function vC(t,e){let r=IJ(t);return e?r.map((n,i)=>i===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function gC(t,e,r,n){n===void 0&&(n=!1);let i;typeof t=="string"?i=mu(t):(i=nd({},t),pt(!i.pathname||!i.pathname.includes("?"),Xm("?","pathname","search",i)),pt(!i.pathname||!i.pathname.includes("#"),Xm("#","pathname","hash",i)),pt(!i.search||!i.search.includes("#"),Xm("#","search","hash",i)));let s=t===""||i.pathname==="",a=s?"/":i.pathname,o;if(a==null)o=r;else{let h=e.length-1;if(!n&&a.startsWith("..")){let f=a.split("/");for(;f[0]==="..";)f.shift(),h-=1;i.pathname=f.join("/")}o=h>=0?e[h]:"/"}let l=TJ(i,o),u=a&&a!=="/"&&a.endsWith("/"),d=(s||a===".")&&r.endsWith("/");return!l.pathname.endsWith("/")&&(u||d)&&(l.pathname+="/"),l}const Ys=t=>t.join("/").replace(/\/\/+/g,"/"),RJ=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),jJ=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,$J=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function kJ(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const h7=["post","put","patch","delete"];new Set(h7);const DJ=["get",...h7];new Set(DJ);/**
 * React Router v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function id(){return id=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},id.apply(this,arguments)}const Ip=$.createContext(null),f7=$.createContext(null),ss=$.createContext(null),Rp=$.createContext(null),as=$.createContext({outlet:null,matches:[],isDataRoute:!1}),p7=$.createContext(null);function qJ(t,e){let{relative:r}=e===void 0?{}:e;vu()||pt(!1);let{basename:n,navigator:i}=$.useContext(ss),{hash:s,pathname:a,search:o}=jp(t,{relative:r}),l=a;return n!=="/"&&(l=a==="/"?n:Ys([n,a])),i.createHref({pathname:l,search:o,hash:s})}function vu(){return $.useContext(Rp)!=null}function os(){return vu()||pt(!1),$.useContext(Rp).location}function m7(t){$.useContext(ss).static||$.useLayoutEffect(t)}function rn(){let{isDataRoute:t}=$.useContext(as);return t?YJ():MJ()}function MJ(){vu()||pt(!1);let t=$.useContext(Ip),{basename:e,future:r,navigator:n}=$.useContext(ss),{matches:i}=$.useContext(as),{pathname:s}=os(),a=JSON.stringify(vC(i,r.v7_relativeSplatPath)),o=$.useRef(!1);return m7(()=>{o.current=!0}),$.useCallback(function(u,d){if(d===void 0&&(d={}),!o.current)return;if(typeof u=="number"){n.go(u);return}let h=gC(u,JSON.parse(a),s,d.relative==="path");t==null&&e!=="/"&&(h.pathname=h.pathname==="/"?e:Ys([e,h.pathname])),(d.replace?n.replace:n.push)(h,d.state,d)},[e,n,a,s,t])}function ls(){let{matches:t}=$.useContext(as),e=t[t.length-1];return e?e.params:{}}function jp(t,e){let{relative:r}=e===void 0?{}:e,{future:n}=$.useContext(ss),{matches:i}=$.useContext(as),{pathname:s}=os(),a=JSON.stringify(vC(i,n.v7_relativeSplatPath));return $.useMemo(()=>gC(t,JSON.parse(a),s,r==="path"),[t,a,s,r])}function AJ(t,e){return FJ(t,e)}function FJ(t,e,r,n){vu()||pt(!1);let{navigator:i}=$.useContext(ss),{matches:s}=$.useContext(as),a=s[s.length-1],o=a?a.params:{};a&&a.pathname;let l=a?a.pathnameBase:"/";a&&a.route;let u=os(),d;if(e){var h;let b=typeof e=="string"?mu(e):e;l==="/"||(h=b.pathname)!=null&&h.startsWith(l)||pt(!1),d=b}else d=u;let f=d.pathname||"/",p=f;if(l!=="/"){let b=l.replace(/^\//,"").split("/");p="/"+f.replace(/^\//,"").split("/").slice(b.length).join("/")}let m=fJ(t,{pathname:p}),y=WJ(m&&m.map(b=>Object.assign({},b,{params:Object.assign({},o,b.params),pathname:Ys([l,i.encodeLocation?i.encodeLocation(b.pathname).pathname:b.pathname]),pathnameBase:b.pathnameBase==="/"?l:Ys([l,i.encodeLocation?i.encodeLocation(b.pathnameBase).pathname:b.pathnameBase])})),s,r,n);return e&&y?$.createElement(Rp.Provider,{value:{location:id({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:Fs.Pop}},y):y}function LJ(){let t=GJ(),e=kJ(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),r=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return $.createElement($.Fragment,null,$.createElement("h2",null,"Unexpected Application Error!"),$.createElement("h3",{style:{fontStyle:"italic"}},e),r?$.createElement("pre",{style:i},r):null,null)}const BJ=$.createElement(LJ,null);class zJ extends $.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,r){return r.location!==e.location||r.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:r.error,location:r.location,revalidation:e.revalidation||r.revalidation}}componentDidCatch(e,r){console.error("React Router caught the following error during render",e,r)}render(){return this.state.error!==void 0?$.createElement(as.Provider,{value:this.props.routeContext},$.createElement(p7.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function UJ(t){let{routeContext:e,match:r,children:n}=t,i=$.useContext(Ip);return i&&i.static&&i.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=r.route.id),$.createElement(as.Provider,{value:e},n)}function WJ(t,e,r,n){var i;if(e===void 0&&(e=[]),r===void 0&&(r=null),n===void 0&&(n=null),t==null){var s;if(!r)return null;if(r.errors)t=r.matches;else if((s=n)!=null&&s.v7_partialHydration&&e.length===0&&!r.initialized&&r.matches.length>0)t=r.matches;else return null}let a=t,o=(i=r)==null?void 0:i.errors;if(o!=null){let d=a.findIndex(h=>h.route.id&&(o==null?void 0:o[h.route.id])!==void 0);d>=0||pt(!1),a=a.slice(0,Math.min(a.length,d+1))}let l=!1,u=-1;if(r&&n&&n.v7_partialHydration)for(let d=0;d<a.length;d++){let h=a[d];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(u=d),h.route.id){let{loaderData:f,errors:p}=r,m=h.route.loader&&f[h.route.id]===void 0&&(!p||p[h.route.id]===void 0);if(h.route.lazy||m){l=!0,u>=0?a=a.slice(0,u+1):a=[a[0]];break}}}return a.reduceRight((d,h,f)=>{let p,m=!1,y=null,b=null;r&&(p=o&&h.route.id?o[h.route.id]:void 0,y=h.route.errorElement||BJ,l&&(u<0&&f===0?(QJ("route-fallback"),m=!0,b=null):u===f&&(m=!0,b=h.route.hydrateFallbackElement||null)));let g=e.concat(a.slice(0,f+1)),v=()=>{let x;return p?x=y:m?x=b:h.route.Component?x=$.createElement(h.route.Component,null):h.route.element?x=h.route.element:x=d,$.createElement(UJ,{match:h,routeContext:{outlet:d,matches:g,isDataRoute:r!=null},children:x})};return r&&(h.route.ErrorBoundary||h.route.errorElement||f===0)?$.createElement(zJ,{location:r.location,revalidation:r.revalidation,component:y,error:p,children:v(),routeContext:{outlet:null,matches:g,isDataRoute:!0}}):v()},null)}var v7=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(v7||{}),g7=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(g7||{});function VJ(t){let e=$.useContext(Ip);return e||pt(!1),e}function HJ(t){let e=$.useContext(f7);return e||pt(!1),e}function KJ(t){let e=$.useContext(as);return e||pt(!1),e}function y7(t){let e=KJ(),r=e.matches[e.matches.length-1];return r.route.id||pt(!1),r.route.id}function GJ(){var t;let e=$.useContext(p7),r=HJ(),n=y7();return e!==void 0?e:(t=r.errors)==null?void 0:t[n]}function YJ(){let{router:t}=VJ(v7.UseNavigateStable),e=y7(g7.UseNavigateStable),r=$.useRef(!1);return m7(()=>{r.current=!0}),$.useCallback(function(i,s){s===void 0&&(s={}),r.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,id({fromRouteId:e},s)))},[t,e])}const o2={};function QJ(t,e,r){o2[t]||(o2[t]=!0)}function XJ(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function b7(t){let{to:e,replace:r,state:n,relative:i}=t;vu()||pt(!1);let{future:s,static:a}=$.useContext(ss),{matches:o}=$.useContext(as),{pathname:l}=os(),u=rn(),d=gC(e,vC(o,s.v7_relativeSplatPath),l,i==="path"),h=JSON.stringify(d);return $.useEffect(()=>u(JSON.parse(h),{replace:r,state:n,relative:i}),[u,h,i,r,n]),null}function Ge(t){pt(!1)}function JJ(t){let{basename:e="/",children:r=null,location:n,navigationType:i=Fs.Pop,navigator:s,static:a=!1,future:o}=t;vu()&&pt(!1);let l=e.replace(/^\/*/,"/"),u=$.useMemo(()=>({basename:l,navigator:s,static:a,future:id({v7_relativeSplatPath:!1},o)}),[l,o,s,a]);typeof n=="string"&&(n=mu(n));let{pathname:d="/",search:h="",hash:f="",state:p=null,key:m="default"}=n,y=$.useMemo(()=>{let b=Jl(d,l);return b==null?null:{location:{pathname:b,search:h,hash:f,state:p,key:m},navigationType:i}},[l,d,h,f,p,m,i]);return y==null?null:$.createElement(ss.Provider,{value:u},$.createElement(Rp.Provider,{children:r,value:y}))}function l2(t){let{children:e,location:r}=t;return AJ(OP(e),r)}new Promise(()=>{});function OP(t,e){e===void 0&&(e=[]);let r=[];return $.Children.forEach(t,(n,i)=>{if(!$.isValidElement(n))return;let s=[...e,i];if(n.type===$.Fragment){r.push.apply(r,OP(n.props.children,s));return}n.type!==Ge&&pt(!1),!n.props.index||!n.props.children||pt(!1);let a={id:n.props.id||s.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(a.children=OP(n.props.children,s)),r.push(a)}),r}/**
 * React Router DOM v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Vf(){return Vf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Vf.apply(this,arguments)}function w7(t,e){if(t==null)return{};var r={},n=Object.keys(t),i,s;for(s=0;s<n.length;s++)i=n[s],!(e.indexOf(i)>=0)&&(r[i]=t[i]);return r}function ZJ(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function eZ(t,e){return t.button===0&&(!e||e==="_self")&&!ZJ(t)}function PP(t){return t===void 0&&(t=""),new URLSearchParams(typeof t=="string"||Array.isArray(t)||t instanceof URLSearchParams?t:Object.keys(t).reduce((e,r)=>{let n=t[r];return e.concat(Array.isArray(n)?n.map(i=>[r,i]):[[r,n]])},[]))}function tZ(t,e){let r=PP(t);return e&&e.forEach((n,i)=>{r.has(i)||e.getAll(i).forEach(s=>{r.append(i,s)})}),r}const rZ=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],nZ=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],iZ="6";try{window.__reactRouterVersion=iZ}catch{}const sZ=$.createContext({isTransitioning:!1}),aZ="startTransition",u2=JY[aZ];function oZ(t){let{basename:e,children:r,future:n,window:i}=t,s=$.useRef();s.current==null&&(s.current=cJ({window:i,v5Compat:!0}));let a=s.current,[o,l]=$.useState({action:a.action,location:a.location}),{v7_startTransition:u}=n||{},d=$.useCallback(h=>{u&&u2?u2(()=>l(h)):l(h)},[l,u]);return $.useLayoutEffect(()=>a.listen(d),[a,d]),$.useEffect(()=>XJ(n),[n]),$.createElement(JJ,{basename:e,children:r,location:o.location,navigationType:o.action,navigator:a,future:n})}const lZ=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",uZ=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,he=$.forwardRef(function(e,r){let{onClick:n,relative:i,reloadDocument:s,replace:a,state:o,target:l,to:u,preventScrollReset:d,viewTransition:h}=e,f=w7(e,rZ),{basename:p}=$.useContext(ss),m,y=!1;if(typeof u=="string"&&uZ.test(u)&&(m=u,lZ))try{let x=new URL(window.location.href),w=u.startsWith("//")?new URL(x.protocol+u):new URL(u),_=Jl(w.pathname,p);w.origin===x.origin&&_!=null?u=_+w.search+w.hash:y=!0}catch{}let b=qJ(u,{relative:i}),g=hZ(u,{replace:a,state:o,target:l,preventScrollReset:d,relative:i,viewTransition:h});function v(x){n&&n(x),x.defaultPrevented||g(x)}return $.createElement("a",Vf({},f,{href:m||b,onClick:y||s?n:v,ref:r,target:l}))}),cZ=$.forwardRef(function(e,r){let{"aria-current":n="page",caseSensitive:i=!1,className:s="",end:a=!1,style:o,to:l,viewTransition:u,children:d}=e,h=w7(e,nZ),f=jp(l,{relative:h.relative}),p=os(),m=$.useContext(f7),{navigator:y,basename:b}=$.useContext(ss),g=m!=null&&pZ(f)&&u===!0,v=y.encodeLocation?y.encodeLocation(f).pathname:f.pathname,x=p.pathname,w=m&&m.navigation&&m.navigation.location?m.navigation.location.pathname:null;i||(x=x.toLowerCase(),w=w?w.toLowerCase():null,v=v.toLowerCase()),w&&b&&(w=Jl(w,b)||w);const _=v!=="/"&&v.endsWith("/")?v.length-1:v.length;let E=x===v||!a&&x.startsWith(v)&&x.charAt(_)==="/",O=w!=null&&(w===v||!a&&w.startsWith(v)&&w.charAt(v.length)==="/"),S={isActive:E,isPending:O,isTransitioning:g},P=E?n:void 0,N;typeof s=="function"?N=s(S):N=[s,E?"active":null,O?"pending":null,g?"transitioning":null].filter(Boolean).join(" ");let I=typeof o=="function"?o(S):o;return $.createElement(he,Vf({},h,{"aria-current":P,className:N,ref:r,style:I,to:l,viewTransition:u}),typeof d=="function"?d(S):d)});var NP;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(NP||(NP={}));var c2;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(c2||(c2={}));function dZ(t){let e=$.useContext(Ip);return e||pt(!1),e}function hZ(t,e){let{target:r,replace:n,state:i,preventScrollReset:s,relative:a,viewTransition:o}=e===void 0?{}:e,l=rn(),u=os(),d=jp(t,{relative:a});return $.useCallback(h=>{if(eZ(h,r)){h.preventDefault();let f=n!==void 0?n:Wf(u)===Wf(d);l(t,{replace:f,state:i,preventScrollReset:s,relative:a,viewTransition:o})}},[u,l,d,n,i,r,t,s,a,o])}function fZ(t){let e=$.useRef(PP(t)),r=$.useRef(!1),n=os(),i=$.useMemo(()=>tZ(n.search,r.current?null:e.current),[n.search]),s=rn(),a=$.useCallback((o,l)=>{const u=PP(typeof o=="function"?o(i):o);r.current=!0,s("?"+u,l)},[s,i]);return[i,a]}function pZ(t,e){e===void 0&&(e={});let r=$.useContext(sZ);r==null&&pt(!1);let{basename:n}=dZ(NP.useViewTransitionState),i=jp(t,{relative:e.relative});if(!r.isTransitioning)return!1;let s=Jl(r.currentLocation.pathname,n)||r.currentLocation.pathname,a=Jl(r.nextLocation.pathname,n)||r.nextLocation.pathname;return EP(i.pathname,a)!=null||EP(i.pathname,s)!=null}var No=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},mZ={setTimeout:(t,e)=>setTimeout(t,e),clearTimeout:t=>clearTimeout(t),setInterval:(t,e)=>setInterval(t,e),clearInterval:t=>clearInterval(t)},Ns,wN,L8,vZ=(L8=class{constructor(){ue(this,Ns,mZ);ue(this,wN,!1)}setTimeoutProvider(t){ie(this,Ns,t)}setTimeout(t,e){return R(this,Ns).setTimeout(t,e)}clearTimeout(t){R(this,Ns).clearTimeout(t)}setInterval(t,e){return R(this,Ns).setInterval(t,e)}clearInterval(t){R(this,Ns).clearInterval(t)}},Ns=new WeakMap,wN=new WeakMap,L8),Ia=new vZ;function gZ(t){setTimeout(t,0)}var lo=typeof window>"u"||"Deno"in globalThis;function br(){}function yZ(t,e){return typeof t=="function"?t(e):t}function CP(t){return typeof t=="number"&&t>=0&&t!==1/0}function x7(t,e){return Math.max(t+(e||0)-Date.now(),0)}function Qs(t,e){return typeof t=="function"?t(e):t}function On(t,e){return typeof t=="function"?t(e):t}function d2(t,e){const{type:r="all",exact:n,fetchStatus:i,predicate:s,queryKey:a,stale:o}=t;if(a){if(n){if(e.queryHash!==yC(a,e.options))return!1}else if(!sd(e.queryKey,a))return!1}if(r!=="all"){const l=e.isActive();if(r==="active"&&!l||r==="inactive"&&l)return!1}return!(typeof o=="boolean"&&e.isStale()!==o||i&&i!==e.state.fetchStatus||s&&!s(e))}function h2(t,e){const{exact:r,status:n,predicate:i,mutationKey:s}=t;if(s){if(!e.options.mutationKey)return!1;if(r){if(uo(e.options.mutationKey)!==uo(s))return!1}else if(!sd(e.options.mutationKey,s))return!1}return!(n&&e.state.status!==n||i&&!i(e))}function yC(t,e){return((e==null?void 0:e.queryKeyHashFn)||uo)(t)}function uo(t){return JSON.stringify(t,(e,r)=>TP(r)?Object.keys(r).sort().reduce((n,i)=>(n[i]=r[i],n),{}):r)}function sd(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?Object.keys(e).every(r=>sd(t[r],e[r])):!1}var bZ=Object.prototype.hasOwnProperty;function bC(t,e){if(t===e)return t;const r=f2(t)&&f2(e);if(!r&&!(TP(t)&&TP(e)))return e;const i=(r?t:Object.keys(t)).length,s=r?e:Object.keys(e),a=s.length,o=r?new Array(a):{};let l=0;for(let u=0;u<a;u++){const d=r?u:s[u],h=t[d],f=e[d];if(h===f){o[d]=h,(r?u<i:bZ.call(t,d))&&l++;continue}if(h===null||f===null||typeof h!="object"||typeof f!="object"){o[d]=f;continue}const p=bC(h,f);o[d]=p,p===h&&l++}return i===a&&l===i?t:o}function ad(t,e){if(!e||Object.keys(t).length!==Object.keys(e).length)return!1;for(const r in t)if(t[r]!==e[r])return!1;return!0}function f2(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function TP(t){if(!p2(t))return!1;const e=t.constructor;if(e===void 0)return!0;const r=e.prototype;return!(!p2(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function p2(t){return Object.prototype.toString.call(t)==="[object Object]"}function wZ(t){return new Promise(e=>{Ia.setTimeout(e,t)})}function IP(t,e,r){return typeof r.structuralSharing=="function"?r.structuralSharing(t,e):r.structuralSharing!==!1?bC(t,e):e}function xZ(t,e,r=0){const n=[...t,e];return r&&n.length>r?n.slice(1):n}function _Z(t,e,r=0){const n=[e,...t];return r&&n.length>r?n.slice(0,-1):n}var wC=Symbol();function _7(t,e){return!t.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!t.queryFn||t.queryFn===wC?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}function xC(t,e){return typeof t=="function"?t(...e):!!t}function SZ(t,e,r){let n=!1,i;return Object.defineProperty(t,"signal",{enumerable:!0,get:()=>(i??(i=e()),n||(n=!0,i.aborted?r():i.addEventListener("abort",r,{once:!0})),i)}),t}var Aa,Cs,Il,B8,EZ=(B8=class extends No{constructor(){super();ue(this,Aa);ue(this,Cs);ue(this,Il);ie(this,Il,e=>{if(!lo&&window.addEventListener){const r=()=>e();return window.addEventListener("visibilitychange",r,!1),()=>{window.removeEventListener("visibilitychange",r)}}})}onSubscribe(){R(this,Cs)||this.setEventListener(R(this,Il))}onUnsubscribe(){var e;this.hasListeners()||((e=R(this,Cs))==null||e.call(this),ie(this,Cs,void 0))}setEventListener(e){var r;ie(this,Il,e),(r=R(this,Cs))==null||r.call(this),ie(this,Cs,e(n=>{typeof n=="boolean"?this.setFocused(n):this.onFocus()}))}setFocused(e){R(this,Aa)!==e&&(ie(this,Aa,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(r=>{r(e)})}isFocused(){var e;return typeof R(this,Aa)=="boolean"?R(this,Aa):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},Aa=new WeakMap,Cs=new WeakMap,Il=new WeakMap,B8),_C=new EZ;function RP(){let t,e;const r=new Promise((i,s)=>{t=i,e=s});r.status="pending",r.catch(()=>{});function n(i){Object.assign(r,i),delete r.resolve,delete r.reject}return r.resolve=i=>{n({status:"fulfilled",value:i}),t(i)},r.reject=i=>{n({status:"rejected",reason:i}),e(i)},r}var OZ=gZ;function PZ(){let t=[],e=0,r=o=>{o()},n=o=>{o()},i=OZ;const s=o=>{e?t.push(o):i(()=>{r(o)})},a=()=>{const o=t;t=[],o.length&&i(()=>{n(()=>{o.forEach(l=>{r(l)})})})};return{batch:o=>{let l;e++;try{l=o()}finally{e--,e||a()}return l},batchCalls:o=>(...l)=>{s(()=>{o(...l)})},schedule:s,setNotifyFunction:o=>{r=o},setBatchNotifyFunction:o=>{n=o},setScheduler:o=>{i=o}}}var St=PZ(),Rl,Ts,jl,z8,NZ=(z8=class extends No{constructor(){super();ue(this,Rl,!0);ue(this,Ts);ue(this,jl);ie(this,jl,e=>{if(!lo&&window.addEventListener){const r=()=>e(!0),n=()=>e(!1);return window.addEventListener("online",r,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",r),window.removeEventListener("offline",n)}}})}onSubscribe(){R(this,Ts)||this.setEventListener(R(this,jl))}onUnsubscribe(){var e;this.hasListeners()||((e=R(this,Ts))==null||e.call(this),ie(this,Ts,void 0))}setEventListener(e){var r;ie(this,jl,e),(r=R(this,Ts))==null||r.call(this),ie(this,Ts,e(this.setOnline.bind(this)))}setOnline(e){R(this,Rl)!==e&&(ie(this,Rl,e),this.listeners.forEach(n=>{n(e)}))}isOnline(){return R(this,Rl)}},Rl=new WeakMap,Ts=new WeakMap,jl=new WeakMap,z8),Hf=new NZ;function CZ(t){return Math.min(1e3*2**t,3e4)}function S7(t){return(t??"online")==="online"?Hf.isOnline():!0}var jP=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function E7(t){let e=!1,r=0,n;const i=RP(),s=()=>i.status!=="pending",a=y=>{var b;if(!s()){const g=new jP(y);f(g),(b=t.onCancel)==null||b.call(t,g)}},o=()=>{e=!0},l=()=>{e=!1},u=()=>_C.isFocused()&&(t.networkMode==="always"||Hf.isOnline())&&t.canRun(),d=()=>S7(t.networkMode)&&t.canRun(),h=y=>{s()||(n==null||n(),i.resolve(y))},f=y=>{s()||(n==null||n(),i.reject(y))},p=()=>new Promise(y=>{var b;n=g=>{(s()||u())&&y(g)},(b=t.onPause)==null||b.call(t)}).then(()=>{var y;n=void 0,s()||(y=t.onContinue)==null||y.call(t)}),m=()=>{if(s())return;let y;const b=r===0?t.initialPromise:void 0;try{y=b??t.fn()}catch(g){y=Promise.reject(g)}Promise.resolve(y).then(h).catch(g=>{var E;if(s())return;const v=t.retry??(lo?0:3),x=t.retryDelay??CZ,w=typeof x=="function"?x(r,g):x,_=v===!0||typeof v=="number"&&r<v||typeof v=="function"&&v(r,g);if(e||!_){f(g);return}r++,(E=t.onFail)==null||E.call(t,r,g),wZ(w).then(()=>u()?void 0:p()).then(()=>{e?f(g):m()})})};return{promise:i,status:()=>i.status,cancel:a,continue:()=>(n==null||n(),i),cancelRetry:o,continueRetry:l,canStart:d,start:()=>(d()?m():p().then(m),i)}}var Fa,U8,O7=(U8=class{constructor(){ue(this,Fa)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),CP(this.gcTime)&&ie(this,Fa,Ia.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(lo?1/0:5*60*1e3))}clearGcTimeout(){R(this,Fa)&&(Ia.clearTimeout(R(this,Fa)),ie(this,Fa,void 0))}},Fa=new WeakMap,U8),La,$l,Sn,Ba,Xt,xd,za,Vn,Ri,W8,TZ=(W8=class extends O7{constructor(e){super();ue(this,Vn);ue(this,La);ue(this,$l);ue(this,Sn);ue(this,Ba);ue(this,Xt);ue(this,xd);ue(this,za);ie(this,za,!1),ie(this,xd,e.defaultOptions),this.setOptions(e.options),this.observers=[],ie(this,Ba,e.client),ie(this,Sn,R(this,Ba).getQueryCache()),this.queryKey=e.queryKey,this.queryHash=e.queryHash,ie(this,La,v2(this.options)),this.state=e.state??R(this,La),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var e;return(e=R(this,Xt))==null?void 0:e.promise}setOptions(e){if(this.options={...R(this,xd),...e},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const r=v2(this.options);r.data!==void 0&&(this.setState(m2(r.data,r.dataUpdatedAt)),ie(this,La,r))}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&R(this,Sn).remove(this)}setData(e,r){const n=IP(this.state.data,e,this.options);return _e(this,Vn,Ri).call(this,{data:n,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),n}setState(e,r){_e(this,Vn,Ri).call(this,{type:"setState",state:e,setStateOptions:r})}cancel(e){var n,i;const r=(n=R(this,Xt))==null?void 0:n.promise;return(i=R(this,Xt))==null||i.cancel(e),r?r.then(br).catch(br):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(R(this,La))}isActive(){return this.observers.some(e=>On(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===wC||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(e=>Qs(e.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(e=0){return this.state.data===void 0?!0:e==="static"?!1:this.state.isInvalidated?!0:!x7(this.state.dataUpdatedAt,e)}onFocus(){var r;const e=this.observers.find(n=>n.shouldFetchOnWindowFocus());e==null||e.refetch({cancelRefetch:!1}),(r=R(this,Xt))==null||r.continue()}onOnline(){var r;const e=this.observers.find(n=>n.shouldFetchOnReconnect());e==null||e.refetch({cancelRefetch:!1}),(r=R(this,Xt))==null||r.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),R(this,Sn).notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(r=>r!==e),this.observers.length||(R(this,Xt)&&(R(this,za)?R(this,Xt).cancel({revert:!0}):R(this,Xt).cancelRetry()),this.scheduleGc()),R(this,Sn).notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||_e(this,Vn,Ri).call(this,{type:"invalidate"})}async fetch(e,r){var l,u,d,h,f,p,m,y,b,g,v,x;if(this.state.fetchStatus!=="idle"&&((l=R(this,Xt))==null?void 0:l.status())!=="rejected"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(R(this,Xt))return R(this,Xt).continueRetry(),R(this,Xt).promise}if(e&&this.setOptions(e),!this.options.queryFn){const w=this.observers.find(_=>_.options.queryFn);w&&this.setOptions(w.options)}const n=new AbortController,i=w=>{Object.defineProperty(w,"signal",{enumerable:!0,get:()=>(ie(this,za,!0),n.signal)})},s=()=>{const w=_7(this.options,r),E=(()=>{const O={client:R(this,Ba),queryKey:this.queryKey,meta:this.meta};return i(O),O})();return ie(this,za,!1),this.options.persister?this.options.persister(w,E,this):w(E)},o=(()=>{const w={fetchOptions:r,options:this.options,queryKey:this.queryKey,client:R(this,Ba),state:this.state,fetchFn:s};return i(w),w})();(u=this.options.behavior)==null||u.onFetch(o,this),ie(this,$l,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((d=o.fetchOptions)==null?void 0:d.meta))&&_e(this,Vn,Ri).call(this,{type:"fetch",meta:(h=o.fetchOptions)==null?void 0:h.meta}),ie(this,Xt,E7({initialPromise:r==null?void 0:r.initialPromise,fn:o.fetchFn,onCancel:w=>{w instanceof jP&&w.revert&&this.setState({...R(this,$l),fetchStatus:"idle"}),n.abort()},onFail:(w,_)=>{_e(this,Vn,Ri).call(this,{type:"failed",failureCount:w,error:_})},onPause:()=>{_e(this,Vn,Ri).call(this,{type:"pause"})},onContinue:()=>{_e(this,Vn,Ri).call(this,{type:"continue"})},retry:o.options.retry,retryDelay:o.options.retryDelay,networkMode:o.options.networkMode,canRun:()=>!0}));try{const w=await R(this,Xt).start();if(w===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(w),(p=(f=R(this,Sn).config).onSuccess)==null||p.call(f,w,this),(y=(m=R(this,Sn).config).onSettled)==null||y.call(m,w,this.state.error,this),w}catch(w){if(w instanceof jP){if(w.silent)return R(this,Xt).promise;if(w.revert){if(this.state.data===void 0)throw w;return this.state.data}}throw _e(this,Vn,Ri).call(this,{type:"error",error:w}),(g=(b=R(this,Sn).config).onError)==null||g.call(b,w,this),(x=(v=R(this,Sn).config).onSettled)==null||x.call(v,this.state.data,w,this),w}finally{this.scheduleGc()}}},La=new WeakMap,$l=new WeakMap,Sn=new WeakMap,Ba=new WeakMap,Xt=new WeakMap,xd=new WeakMap,za=new WeakMap,Vn=new WeakSet,Ri=function(e){const r=n=>{switch(e.type){case"failed":return{...n,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...P7(n.data,this.options),fetchMeta:e.meta??null};case"success":const i={...n,...m2(e.data,e.dataUpdatedAt),dataUpdateCount:n.dataUpdateCount+1,...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return ie(this,$l,e.manual?i:void 0),i;case"error":const s=e.error;return{...n,error:s,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:s,fetchStatus:"idle",status:"error",isInvalidated:!0};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...e.state}}};this.state=r(this.state),St.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),R(this,Sn).notify({query:this,type:"updated",action:e})})},W8);function P7(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:S7(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function m2(t,e){return{data:t,dataUpdatedAt:e??Date.now(),error:null,isInvalidated:!1,status:"success"}}function v2(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,r=e!==void 0,n=r?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:r?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var zr,Me,_d,Pr,Ua,kl,ki,Is,Sd,Dl,ql,Wa,Va,Rs,Ml,Be,yc,$P,kP,DP,qP,MP,AP,FP,N7,V8,SC=(V8=class extends No{constructor(e,r){super();ue(this,Be);ue(this,zr);ue(this,Me);ue(this,_d);ue(this,Pr);ue(this,Ua);ue(this,kl);ue(this,ki);ue(this,Is);ue(this,Sd);ue(this,Dl);ue(this,ql);ue(this,Wa);ue(this,Va);ue(this,Rs);ue(this,Ml,new Set);this.options=r,ie(this,zr,e),ie(this,Is,null),ie(this,ki,RP()),this.bindMethods(),this.setOptions(r)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(R(this,Me).addObserver(this),g2(R(this,Me),this.options)?_e(this,Be,yc).call(this):this.updateResult(),_e(this,Be,qP).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return LP(R(this,Me),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return LP(R(this,Me),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,_e(this,Be,MP).call(this),_e(this,Be,AP).call(this),R(this,Me).removeObserver(this)}setOptions(e){const r=this.options,n=R(this,Me);if(this.options=R(this,zr).defaultQueryOptions(e),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof On(this.options.enabled,R(this,Me))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");_e(this,Be,FP).call(this),R(this,Me).setOptions(this.options),r._defaulted&&!ad(this.options,r)&&R(this,zr).getQueryCache().notify({type:"observerOptionsUpdated",query:R(this,Me),observer:this});const i=this.hasListeners();i&&y2(R(this,Me),n,this.options,r)&&_e(this,Be,yc).call(this),this.updateResult(),i&&(R(this,Me)!==n||On(this.options.enabled,R(this,Me))!==On(r.enabled,R(this,Me))||Qs(this.options.staleTime,R(this,Me))!==Qs(r.staleTime,R(this,Me)))&&_e(this,Be,$P).call(this);const s=_e(this,Be,kP).call(this);i&&(R(this,Me)!==n||On(this.options.enabled,R(this,Me))!==On(r.enabled,R(this,Me))||s!==R(this,Rs))&&_e(this,Be,DP).call(this,s)}getOptimisticResult(e){const r=R(this,zr).getQueryCache().build(R(this,zr),e),n=this.createResult(r,e);return RZ(this,n)&&(ie(this,Pr,n),ie(this,kl,this.options),ie(this,Ua,R(this,Me).state)),n}getCurrentResult(){return R(this,Pr)}trackResult(e,r){return new Proxy(e,{get:(n,i)=>(this.trackProp(i),r==null||r(i),i==="promise"&&(this.trackProp("data"),!this.options.experimental_prefetchInRender&&R(this,ki).status==="pending"&&R(this,ki).reject(new Error("experimental_prefetchInRender feature flag is not enabled"))),Reflect.get(n,i))})}trackProp(e){R(this,Ml).add(e)}getCurrentQuery(){return R(this,Me)}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){const r=R(this,zr).defaultQueryOptions(e),n=R(this,zr).getQueryCache().build(R(this,zr),r);return n.fetch().then(()=>this.createResult(n,r))}fetch(e){return _e(this,Be,yc).call(this,{...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),R(this,Pr)))}createResult(e,r){var P;const n=R(this,Me),i=this.options,s=R(this,Pr),a=R(this,Ua),o=R(this,kl),u=e!==n?e.state:R(this,_d),{state:d}=e;let h={...d},f=!1,p;if(r._optimisticResults){const N=this.hasListeners(),I=!N&&g2(e,r),C=N&&y2(e,n,r,i);(I||C)&&(h={...h,...P7(d.data,e.options)}),r._optimisticResults==="isRestoring"&&(h.fetchStatus="idle")}let{error:m,errorUpdatedAt:y,status:b}=h;p=h.data;let g=!1;if(r.placeholderData!==void 0&&p===void 0&&b==="pending"){let N;s!=null&&s.isPlaceholderData&&r.placeholderData===(o==null?void 0:o.placeholderData)?(N=s.data,g=!0):N=typeof r.placeholderData=="function"?r.placeholderData((P=R(this,ql))==null?void 0:P.state.data,R(this,ql)):r.placeholderData,N!==void 0&&(b="success",p=IP(s==null?void 0:s.data,N,r),f=!0)}if(r.select&&p!==void 0&&!g)if(s&&p===(a==null?void 0:a.data)&&r.select===R(this,Sd))p=R(this,Dl);else try{ie(this,Sd,r.select),p=r.select(p),p=IP(s==null?void 0:s.data,p,r),ie(this,Dl,p),ie(this,Is,null)}catch(N){ie(this,Is,N)}R(this,Is)&&(m=R(this,Is),p=R(this,Dl),y=Date.now(),b="error");const v=h.fetchStatus==="fetching",x=b==="pending",w=b==="error",_=x&&v,E=p!==void 0,S={status:b,fetchStatus:h.fetchStatus,isPending:x,isSuccess:b==="success",isError:w,isInitialLoading:_,isLoading:_,data:p,dataUpdatedAt:h.dataUpdatedAt,error:m,errorUpdatedAt:y,failureCount:h.fetchFailureCount,failureReason:h.fetchFailureReason,errorUpdateCount:h.errorUpdateCount,isFetched:h.dataUpdateCount>0||h.errorUpdateCount>0,isFetchedAfterMount:h.dataUpdateCount>u.dataUpdateCount||h.errorUpdateCount>u.errorUpdateCount,isFetching:v,isRefetching:v&&!x,isLoadingError:w&&!E,isPaused:h.fetchStatus==="paused",isPlaceholderData:f,isRefetchError:w&&E,isStale:EC(e,r),refetch:this.refetch,promise:R(this,ki),isEnabled:On(r.enabled,e)!==!1};if(this.options.experimental_prefetchInRender){const N=T=>{S.status==="error"?T.reject(S.error):S.data!==void 0&&T.resolve(S.data)},I=()=>{const T=ie(this,ki,S.promise=RP());N(T)},C=R(this,ki);switch(C.status){case"pending":e.queryHash===n.queryHash&&N(C);break;case"fulfilled":(S.status==="error"||S.data!==C.value)&&I();break;case"rejected":(S.status!=="error"||S.error!==C.reason)&&I();break}}return S}updateResult(){const e=R(this,Pr),r=this.createResult(R(this,Me),this.options);if(ie(this,Ua,R(this,Me).state),ie(this,kl,this.options),R(this,Ua).data!==void 0&&ie(this,ql,R(this,Me)),ad(r,e))return;ie(this,Pr,r);const n=()=>{if(!e)return!0;const{notifyOnChangeProps:i}=this.options,s=typeof i=="function"?i():i;if(s==="all"||!s&&!R(this,Ml).size)return!0;const a=new Set(s??R(this,Ml));return this.options.throwOnError&&a.add("error"),Object.keys(R(this,Pr)).some(o=>{const l=o;return R(this,Pr)[l]!==e[l]&&a.has(l)})};_e(this,Be,N7).call(this,{listeners:n()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&_e(this,Be,qP).call(this)}},zr=new WeakMap,Me=new WeakMap,_d=new WeakMap,Pr=new WeakMap,Ua=new WeakMap,kl=new WeakMap,ki=new WeakMap,Is=new WeakMap,Sd=new WeakMap,Dl=new WeakMap,ql=new WeakMap,Wa=new WeakMap,Va=new WeakMap,Rs=new WeakMap,Ml=new WeakMap,Be=new WeakSet,yc=function(e){_e(this,Be,FP).call(this);let r=R(this,Me).fetch(this.options,e);return e!=null&&e.throwOnError||(r=r.catch(br)),r},$P=function(){_e(this,Be,MP).call(this);const e=Qs(this.options.staleTime,R(this,Me));if(lo||R(this,Pr).isStale||!CP(e))return;const n=x7(R(this,Pr).dataUpdatedAt,e)+1;ie(this,Wa,Ia.setTimeout(()=>{R(this,Pr).isStale||this.updateResult()},n))},kP=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(R(this,Me)):this.options.refetchInterval)??!1},DP=function(e){_e(this,Be,AP).call(this),ie(this,Rs,e),!(lo||On(this.options.enabled,R(this,Me))===!1||!CP(R(this,Rs))||R(this,Rs)===0)&&ie(this,Va,Ia.setInterval(()=>{(this.options.refetchIntervalInBackground||_C.isFocused())&&_e(this,Be,yc).call(this)},R(this,Rs)))},qP=function(){_e(this,Be,$P).call(this),_e(this,Be,DP).call(this,_e(this,Be,kP).call(this))},MP=function(){R(this,Wa)&&(Ia.clearTimeout(R(this,Wa)),ie(this,Wa,void 0))},AP=function(){R(this,Va)&&(Ia.clearInterval(R(this,Va)),ie(this,Va,void 0))},FP=function(){const e=R(this,zr).getQueryCache().build(R(this,zr),this.options);if(e===R(this,Me))return;const r=R(this,Me);ie(this,Me,e),ie(this,_d,e.state),this.hasListeners()&&(r==null||r.removeObserver(this),e.addObserver(this))},N7=function(e){St.batch(()=>{e.listeners&&this.listeners.forEach(r=>{r(R(this,Pr))}),R(this,zr).getQueryCache().notify({query:R(this,Me),type:"observerResultsUpdated"})})},V8);function IZ(t,e){return On(e.enabled,t)!==!1&&t.state.data===void 0&&!(t.state.status==="error"&&e.retryOnMount===!1)}function g2(t,e){return IZ(t,e)||t.state.data!==void 0&&LP(t,e,e.refetchOnMount)}function LP(t,e,r){if(On(e.enabled,t)!==!1&&Qs(e.staleTime,t)!=="static"){const n=typeof r=="function"?r(t):r;return n==="always"||n!==!1&&EC(t,e)}return!1}function y2(t,e,r,n){return(t!==e||On(n.enabled,t)===!1)&&(!r.suspense||t.state.status!=="error")&&EC(t,r)}function EC(t,e){return On(e.enabled,t)!==!1&&t.isStaleByTime(Qs(e.staleTime,t))}function RZ(t,e){return!ad(t.getCurrentResult(),e)}function b2(t){return{onFetch:(e,r)=>{var d,h,f,p,m;const n=e.options,i=(f=(h=(d=e.fetchOptions)==null?void 0:d.meta)==null?void 0:h.fetchMore)==null?void 0:f.direction,s=((p=e.state.data)==null?void 0:p.pages)||[],a=((m=e.state.data)==null?void 0:m.pageParams)||[];let o={pages:[],pageParams:[]},l=0;const u=async()=>{let y=!1;const b=x=>{SZ(x,()=>e.signal,()=>y=!0)},g=_7(e.options,e.fetchOptions),v=async(x,w,_)=>{if(y)return Promise.reject();if(w==null&&x.pages.length)return Promise.resolve(x);const O=(()=>{const I={client:e.client,queryKey:e.queryKey,pageParam:w,direction:_?"backward":"forward",meta:e.options.meta};return b(I),I})(),S=await g(O),{maxPages:P}=e.options,N=_?_Z:xZ;return{pages:N(x.pages,S,P),pageParams:N(x.pageParams,w,P)}};if(i&&s.length){const x=i==="backward",w=x?jZ:w2,_={pages:s,pageParams:a},E=w(n,_);o=await v(_,E,x)}else{const x=t??s.length;do{const w=l===0?a[0]??n.initialPageParam:w2(n,o);if(l>0&&w==null)break;o=await v(o,w),l++}while(l<x)}return o};e.options.persister?e.fetchFn=()=>{var y,b;return(b=(y=e.options).persister)==null?void 0:b.call(y,u,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},r)}:e.fetchFn=u}}}function w2(t,{pages:e,pageParams:r}){const n=e.length-1;return e.length>0?t.getNextPageParam(e[n],e,r[n],r):void 0}function jZ(t,{pages:e,pageParams:r}){var n;return e.length>0?(n=t.getPreviousPageParam)==null?void 0:n.call(t,e[0],e,r[0],r):void 0}var Ed,hi,Nr,Ha,fi,ys,H8,$Z=(H8=class extends O7{constructor(e){super();ue(this,fi);ue(this,Ed);ue(this,hi);ue(this,Nr);ue(this,Ha);ie(this,Ed,e.client),this.mutationId=e.mutationId,ie(this,Nr,e.mutationCache),ie(this,hi,[]),this.state=e.state||C7(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){R(this,hi).includes(e)||(R(this,hi).push(e),this.clearGcTimeout(),R(this,Nr).notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){ie(this,hi,R(this,hi).filter(r=>r!==e)),this.scheduleGc(),R(this,Nr).notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){R(this,hi).length||(this.state.status==="pending"?this.scheduleGc():R(this,Nr).remove(this))}continue(){var e;return((e=R(this,Ha))==null?void 0:e.continue())??this.execute(this.state.variables)}async execute(e){var a,o,l,u,d,h,f,p,m,y,b,g,v,x,w,_,E,O,S,P;const r=()=>{_e(this,fi,ys).call(this,{type:"continue"})},n={client:R(this,Ed),meta:this.options.meta,mutationKey:this.options.mutationKey};ie(this,Ha,E7({fn:()=>this.options.mutationFn?this.options.mutationFn(e,n):Promise.reject(new Error("No mutationFn found")),onFail:(N,I)=>{_e(this,fi,ys).call(this,{type:"failed",failureCount:N,error:I})},onPause:()=>{_e(this,fi,ys).call(this,{type:"pause"})},onContinue:r,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>R(this,Nr).canRun(this)}));const i=this.state.status==="pending",s=!R(this,Ha).canStart();try{if(i)r();else{_e(this,fi,ys).call(this,{type:"pending",variables:e,isPaused:s}),await((o=(a=R(this,Nr).config).onMutate)==null?void 0:o.call(a,e,this,n));const I=await((u=(l=this.options).onMutate)==null?void 0:u.call(l,e,n));I!==this.state.context&&_e(this,fi,ys).call(this,{type:"pending",context:I,variables:e,isPaused:s})}const N=await R(this,Ha).start();return await((h=(d=R(this,Nr).config).onSuccess)==null?void 0:h.call(d,N,e,this.state.context,this,n)),await((p=(f=this.options).onSuccess)==null?void 0:p.call(f,N,e,this.state.context,n)),await((y=(m=R(this,Nr).config).onSettled)==null?void 0:y.call(m,N,null,this.state.variables,this.state.context,this,n)),await((g=(b=this.options).onSettled)==null?void 0:g.call(b,N,null,e,this.state.context,n)),_e(this,fi,ys).call(this,{type:"success",data:N}),N}catch(N){try{await((x=(v=R(this,Nr).config).onError)==null?void 0:x.call(v,N,e,this.state.context,this,n))}catch(I){Promise.reject(I)}try{await((_=(w=this.options).onError)==null?void 0:_.call(w,N,e,this.state.context,n))}catch(I){Promise.reject(I)}try{await((O=(E=R(this,Nr).config).onSettled)==null?void 0:O.call(E,void 0,N,this.state.variables,this.state.context,this,n))}catch(I){Promise.reject(I)}try{await((P=(S=this.options).onSettled)==null?void 0:P.call(S,void 0,N,e,this.state.context,n))}catch(I){Promise.reject(I)}throw _e(this,fi,ys).call(this,{type:"error",error:N}),N}finally{R(this,Nr).runNext(this)}}},Ed=new WeakMap,hi=new WeakMap,Nr=new WeakMap,Ha=new WeakMap,fi=new WeakSet,ys=function(e){const r=n=>{switch(e.type){case"failed":return{...n,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...n,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:e.error,failureCount:n.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=r(this.state),St.batch(()=>{R(this,hi).forEach(n=>{n.onMutationUpdate(e)}),R(this,Nr).notify({mutation:this,type:"updated",action:e})})},H8);function C7(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Di,Hn,Od,K8,kZ=(K8=class extends No{constructor(e={}){super();ue(this,Di);ue(this,Hn);ue(this,Od);this.config=e,ie(this,Di,new Set),ie(this,Hn,new Map),ie(this,Od,0)}build(e,r,n){const i=new $Z({client:e,mutationCache:this,mutationId:++Sh(this,Od)._,options:e.defaultMutationOptions(r),state:n});return this.add(i),i}add(e){R(this,Di).add(e);const r=Bh(e);if(typeof r=="string"){const n=R(this,Hn).get(r);n?n.push(e):R(this,Hn).set(r,[e])}this.notify({type:"added",mutation:e})}remove(e){if(R(this,Di).delete(e)){const r=Bh(e);if(typeof r=="string"){const n=R(this,Hn).get(r);if(n)if(n.length>1){const i=n.indexOf(e);i!==-1&&n.splice(i,1)}else n[0]===e&&R(this,Hn).delete(r)}}this.notify({type:"removed",mutation:e})}canRun(e){const r=Bh(e);if(typeof r=="string"){const n=R(this,Hn).get(r),i=n==null?void 0:n.find(s=>s.state.status==="pending");return!i||i===e}else return!0}runNext(e){var n;const r=Bh(e);if(typeof r=="string"){const i=(n=R(this,Hn).get(r))==null?void 0:n.find(s=>s!==e&&s.state.isPaused);return(i==null?void 0:i.continue())??Promise.resolve()}else return Promise.resolve()}clear(){St.batch(()=>{R(this,Di).forEach(e=>{this.notify({type:"removed",mutation:e})}),R(this,Di).clear(),R(this,Hn).clear()})}getAll(){return Array.from(R(this,Di))}find(e){const r={exact:!0,...e};return this.getAll().find(n=>h2(r,n))}findAll(e={}){return this.getAll().filter(r=>h2(e,r))}notify(e){St.batch(()=>{this.listeners.forEach(r=>{r(e)})})}resumePausedMutations(){const e=this.getAll().filter(r=>r.state.isPaused);return St.batch(()=>Promise.all(e.map(r=>r.continue().catch(br))))}},Di=new WeakMap,Hn=new WeakMap,Od=new WeakMap,K8);function Bh(t){var e;return(e=t.options.scope)==null?void 0:e.id}var qi,js,Ur,Mi,Ji,df,BP,G8,DZ=(G8=class extends No{constructor(e,r){super();ue(this,Ji);ue(this,qi);ue(this,js);ue(this,Ur);ue(this,Mi);ie(this,qi,e),this.setOptions(r),this.bindMethods(),_e(this,Ji,df).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(e){var n;const r=this.options;this.options=R(this,qi).defaultMutationOptions(e),ad(this.options,r)||R(this,qi).getMutationCache().notify({type:"observerOptionsUpdated",mutation:R(this,Ur),observer:this}),r!=null&&r.mutationKey&&this.options.mutationKey&&uo(r.mutationKey)!==uo(this.options.mutationKey)?this.reset():((n=R(this,Ur))==null?void 0:n.state.status)==="pending"&&R(this,Ur).setOptions(this.options)}onUnsubscribe(){var e;this.hasListeners()||(e=R(this,Ur))==null||e.removeObserver(this)}onMutationUpdate(e){_e(this,Ji,df).call(this),_e(this,Ji,BP).call(this,e)}getCurrentResult(){return R(this,js)}reset(){var e;(e=R(this,Ur))==null||e.removeObserver(this),ie(this,Ur,void 0),_e(this,Ji,df).call(this),_e(this,Ji,BP).call(this)}mutate(e,r){var n;return ie(this,Mi,r),(n=R(this,Ur))==null||n.removeObserver(this),ie(this,Ur,R(this,qi).getMutationCache().build(R(this,qi),this.options)),R(this,Ur).addObserver(this),R(this,Ur).execute(e)}},qi=new WeakMap,js=new WeakMap,Ur=new WeakMap,Mi=new WeakMap,Ji=new WeakSet,df=function(){var r;const e=((r=R(this,Ur))==null?void 0:r.state)??C7();ie(this,js,{...e,isPending:e.status==="pending",isSuccess:e.status==="success",isError:e.status==="error",isIdle:e.status==="idle",mutate:this.mutate,reset:this.reset})},BP=function(e){St.batch(()=>{var r,n,i,s,a,o,l,u;if(R(this,Mi)&&this.hasListeners()){const d=R(this,js).variables,h=R(this,js).context,f={client:R(this,qi),meta:this.options.meta,mutationKey:this.options.mutationKey};if((e==null?void 0:e.type)==="success"){try{(n=(r=R(this,Mi)).onSuccess)==null||n.call(r,e.data,d,h,f)}catch(p){Promise.reject(p)}try{(s=(i=R(this,Mi)).onSettled)==null||s.call(i,e.data,null,d,h,f)}catch(p){Promise.reject(p)}}else if((e==null?void 0:e.type)==="error"){try{(o=(a=R(this,Mi)).onError)==null||o.call(a,e.error,d,h,f)}catch(p){Promise.reject(p)}try{(u=(l=R(this,Mi)).onSettled)==null||u.call(l,void 0,e.error,d,h,f)}catch(p){Promise.reject(p)}}}this.listeners.forEach(d=>{d(R(this,js))})})},G8);function x2(t,e){const r=new Set(e);return t.filter(n=>!r.has(n))}function qZ(t,e,r){const n=t.slice(0);return n[e]=r,n}var Al,un,Fl,Ll,En,$s,Pd,Nd,Cd,pr,zP,UP,WP,VP,HP,Y8,MZ=(Y8=class extends No{constructor(e,r,n){super();ue(this,pr);ue(this,Al);ue(this,un);ue(this,Fl);ue(this,Ll);ue(this,En);ue(this,$s);ue(this,Pd);ue(this,Nd);ue(this,Cd,[]);ie(this,Al,e),ie(this,Ll,n),ie(this,Fl,[]),ie(this,En,[]),ie(this,un,[]),this.setQueries(r)}onSubscribe(){this.listeners.size===1&&R(this,En).forEach(e=>{e.subscribe(r=>{_e(this,pr,VP).call(this,e,r)})})}onUnsubscribe(){this.listeners.size||this.destroy()}destroy(){this.listeners=new Set,R(this,En).forEach(e=>{e.destroy()})}setQueries(e,r){ie(this,Fl,e),ie(this,Ll,r),St.batch(()=>{const n=R(this,En),i=_e(this,pr,WP).call(this,R(this,Fl));i.forEach(h=>h.observer.setOptions(h.defaultedQueryOptions));const s=i.map(h=>h.observer),a=s.map(h=>h.getCurrentResult()),o=n.length!==s.length,l=s.some((h,f)=>h!==n[f]),u=o||l,d=u?!0:a.some((h,f)=>{const p=R(this,un)[f];return!p||!ad(h,p)});!u&&!d||(u&&(ie(this,Cd,i),ie(this,En,s)),ie(this,un,a),this.hasListeners()&&(u&&(x2(n,s).forEach(h=>{h.destroy()}),x2(s,n).forEach(h=>{h.subscribe(f=>{_e(this,pr,VP).call(this,h,f)})})),_e(this,pr,HP).call(this)))})}getCurrentResult(){return R(this,un)}getQueries(){return R(this,En).map(e=>e.getCurrentQuery())}getObservers(){return R(this,En)}getOptimisticResult(e,r){const n=_e(this,pr,WP).call(this,e),i=n.map(s=>s.observer.getOptimisticResult(s.defaultedQueryOptions));return[i,s=>_e(this,pr,UP).call(this,s??i,r),()=>_e(this,pr,zP).call(this,i,n)]}},Al=new WeakMap,un=new WeakMap,Fl=new WeakMap,Ll=new WeakMap,En=new WeakMap,$s=new WeakMap,Pd=new WeakMap,Nd=new WeakMap,Cd=new WeakMap,pr=new WeakSet,zP=function(e,r){return r.map((n,i)=>{const s=e[i];return n.defaultedQueryOptions.notifyOnChangeProps?s:n.observer.trackResult(s,a=>{r.forEach(o=>{o.observer.trackProp(a)})})})},UP=function(e,r){return r?((!R(this,$s)||R(this,un)!==R(this,Nd)||r!==R(this,Pd))&&(ie(this,Pd,r),ie(this,Nd,R(this,un)),ie(this,$s,bC(R(this,$s),r(e)))),R(this,$s)):e},WP=function(e){const r=new Map;R(this,En).forEach(i=>{const s=i.options.queryHash;if(!s)return;const a=r.get(s);a?a.push(i):r.set(s,[i])});const n=[];return e.forEach(i=>{var l;const s=R(this,Al).defaultQueryOptions(i),o=((l=r.get(s.queryHash))==null?void 0:l.shift())??new SC(R(this,Al),s);n.push({defaultedQueryOptions:s,observer:o})}),n},VP=function(e,r){const n=R(this,En).indexOf(e);n!==-1&&(ie(this,un,qZ(R(this,un),n,r)),_e(this,pr,HP).call(this))},HP=function(){var e;if(this.hasListeners()){const r=R(this,$s),n=_e(this,pr,zP).call(this,R(this,un),R(this,Cd)),i=_e(this,pr,UP).call(this,n,(e=R(this,Ll))==null?void 0:e.combine);r!==i&&St.batch(()=>{this.listeners.forEach(s=>{s(R(this,un))})})}},Y8),pi,Q8,AZ=(Q8=class extends No{constructor(e={}){super();ue(this,pi);this.config=e,ie(this,pi,new Map)}build(e,r,n){const i=r.queryKey,s=r.queryHash??yC(i,r);let a=this.get(s);return a||(a=new TZ({client:e,queryKey:i,queryHash:s,options:e.defaultQueryOptions(r),state:n,defaultOptions:e.getQueryDefaults(i)}),this.add(a)),a}add(e){R(this,pi).has(e.queryHash)||(R(this,pi).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const r=R(this,pi).get(e.queryHash);r&&(e.destroy(),r===e&&R(this,pi).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){St.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return R(this,pi).get(e)}getAll(){return[...R(this,pi).values()]}find(e){const r={exact:!0,...e};return this.getAll().find(n=>d2(r,n))}findAll(e={}){const r=this.getAll();return Object.keys(e).length>0?r.filter(n=>d2(e,n)):r}notify(e){St.batch(()=>{this.listeners.forEach(r=>{r(e)})})}onFocus(){St.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){St.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},pi=new WeakMap,Q8),bt,ks,Ds,Bl,zl,qs,Ul,Wl,X8,FZ=(X8=class{constructor(t={}){ue(this,bt);ue(this,ks);ue(this,Ds);ue(this,Bl);ue(this,zl);ue(this,qs);ue(this,Ul);ue(this,Wl);ie(this,bt,t.queryCache||new AZ),ie(this,ks,t.mutationCache||new kZ),ie(this,Ds,t.defaultOptions||{}),ie(this,Bl,new Map),ie(this,zl,new Map),ie(this,qs,0)}mount(){Sh(this,qs)._++,R(this,qs)===1&&(ie(this,Ul,_C.subscribe(async t=>{t&&(await this.resumePausedMutations(),R(this,bt).onFocus())})),ie(this,Wl,Hf.subscribe(async t=>{t&&(await this.resumePausedMutations(),R(this,bt).onOnline())})))}unmount(){var t,e;Sh(this,qs)._--,R(this,qs)===0&&((t=R(this,Ul))==null||t.call(this),ie(this,Ul,void 0),(e=R(this,Wl))==null||e.call(this),ie(this,Wl,void 0))}isFetching(t){return R(this,bt).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return R(this,ks).findAll({...t,status:"pending"}).length}getQueryData(t){var r;const e=this.defaultQueryOptions({queryKey:t});return(r=R(this,bt).get(e.queryHash))==null?void 0:r.state.data}ensureQueryData(t){const e=this.defaultQueryOptions(t),r=R(this,bt).build(this,e),n=r.state.data;return n===void 0?this.fetchQuery(t):(t.revalidateIfStale&&r.isStaleByTime(Qs(e.staleTime,r))&&this.prefetchQuery(e),Promise.resolve(n))}getQueriesData(t){return R(this,bt).findAll(t).map(({queryKey:e,state:r})=>{const n=r.data;return[e,n]})}setQueryData(t,e,r){const n=this.defaultQueryOptions({queryKey:t}),i=R(this,bt).get(n.queryHash),s=i==null?void 0:i.state.data,a=yZ(e,s);if(a!==void 0)return R(this,bt).build(this,n).setData(a,{...r,manual:!0})}setQueriesData(t,e,r){return St.batch(()=>R(this,bt).findAll(t).map(({queryKey:n})=>[n,this.setQueryData(n,e,r)]))}getQueryState(t){var r;const e=this.defaultQueryOptions({queryKey:t});return(r=R(this,bt).get(e.queryHash))==null?void 0:r.state}removeQueries(t){const e=R(this,bt);St.batch(()=>{e.findAll(t).forEach(r=>{e.remove(r)})})}resetQueries(t,e){const r=R(this,bt);return St.batch(()=>(r.findAll(t).forEach(n=>{n.reset()}),this.refetchQueries({type:"active",...t},e)))}cancelQueries(t,e={}){const r={revert:!0,...e},n=St.batch(()=>R(this,bt).findAll(t).map(i=>i.cancel(r)));return Promise.all(n).then(br).catch(br)}invalidateQueries(t,e={}){return St.batch(()=>(R(this,bt).findAll(t).forEach(r=>{r.invalidate()}),(t==null?void 0:t.refetchType)==="none"?Promise.resolve():this.refetchQueries({...t,type:(t==null?void 0:t.refetchType)??(t==null?void 0:t.type)??"active"},e)))}refetchQueries(t,e={}){const r={...e,cancelRefetch:e.cancelRefetch??!0},n=St.batch(()=>R(this,bt).findAll(t).filter(i=>!i.isDisabled()&&!i.isStatic()).map(i=>{let s=i.fetch(void 0,r);return r.throwOnError||(s=s.catch(br)),i.state.fetchStatus==="paused"?Promise.resolve():s}));return Promise.all(n).then(br)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const r=R(this,bt).build(this,e);return r.isStaleByTime(Qs(e.staleTime,r))?r.fetch(e):Promise.resolve(r.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(br).catch(br)}fetchInfiniteQuery(t){return t.behavior=b2(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(br).catch(br)}ensureInfiniteQueryData(t){return t.behavior=b2(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return Hf.isOnline()?R(this,ks).resumePausedMutations():Promise.resolve()}getQueryCache(){return R(this,bt)}getMutationCache(){return R(this,ks)}getDefaultOptions(){return R(this,Ds)}setDefaultOptions(t){ie(this,Ds,t)}setQueryDefaults(t,e){R(this,Bl).set(uo(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...R(this,Bl).values()],r={};return e.forEach(n=>{sd(t,n.queryKey)&&Object.assign(r,n.defaultOptions)}),r}setMutationDefaults(t,e){R(this,zl).set(uo(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...R(this,zl).values()],r={};return e.forEach(n=>{sd(t,n.mutationKey)&&Object.assign(r,n.defaultOptions)}),r}defaultQueryOptions(t){if(t._defaulted)return t;const e={...R(this,Ds).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=yC(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===wC&&(e.enabled=!1),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...R(this,Ds).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){R(this,bt).clear(),R(this,ks).clear()}},bt=new WeakMap,ks=new WeakMap,Ds=new WeakMap,Bl=new WeakMap,zl=new WeakMap,qs=new WeakMap,Ul=new WeakMap,Wl=new WeakMap,X8),T7=$.createContext(void 0),Kt=t=>{const e=$.useContext(T7);if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},LZ=({client:t,children:e})=>($.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),c.jsx(T7.Provider,{value:t,children:e})),I7=$.createContext(!1),R7=()=>$.useContext(I7);I7.Provider;function BZ(){let t=!1;return{clearReset:()=>{t=!1},reset:()=>{t=!0},isReset:()=>t}}var zZ=$.createContext(BZ()),j7=()=>$.useContext(zZ),$7=(t,e,r)=>{const n=r!=null&&r.state.error&&typeof t.throwOnError=="function"?xC(t.throwOnError,[r.state.error,r]):t.throwOnError;(t.suspense||t.experimental_prefetchInRender||n)&&(e.isReset()||(t.retryOnMount=!1))},k7=t=>{$.useEffect(()=>{t.clearReset()},[t])},D7=({result:t,errorResetBoundary:e,throwOnError:r,query:n,suspense:i})=>t.isError&&!e.isReset()&&!t.isFetching&&n&&(i&&t.data===void 0||xC(r,[t.error,n])),q7=t=>{if(t.suspense){const r=i=>i==="static"?i:Math.max(i??1e3,1e3),n=t.staleTime;t.staleTime=typeof n=="function"?(...i)=>r(n(...i)):r(n),typeof t.gcTime=="number"&&(t.gcTime=Math.max(t.gcTime,1e3))}},M7=(t,e)=>t.isLoading&&t.isFetching&&!e,KP=(t,e)=>(t==null?void 0:t.suspense)&&e.isPending,Kf=(t,e,r)=>e.fetchOptimistic(t).catch(()=>{r.clearReset()});function Gf({queries:t,...e},r){const n=Kt(),i=R7(),s=j7(),a=$.useMemo(()=>t.map(y=>{const b=n.defaultQueryOptions(y);return b._optimisticResults=i?"isRestoring":"optimistic",b}),[t,n,i]);a.forEach(y=>{q7(y);const b=n.getQueryCache().get(y.queryHash);$7(y,s,b)}),k7(s);const[o]=$.useState(()=>new MZ(n,a,e)),[l,u,d]=o.getOptimisticResult(a,e.combine),h=!i&&e.subscribed!==!1;$.useSyncExternalStore($.useCallback(y=>h?o.subscribe(St.batchCalls(y)):br,[o,h]),()=>o.getCurrentResult(),()=>o.getCurrentResult()),$.useEffect(()=>{o.setQueries(a,e)},[a,e,o]);const p=l.some((y,b)=>KP(a[b],y))?l.flatMap((y,b)=>{const g=a[b];if(g){const v=new SC(n,g);if(KP(g,y))return Kf(g,v,s);M7(y,i)&&Kf(g,v,s)}return[]}):[];if(p.length>0)throw Promise.all(p);const m=l.find((y,b)=>{const g=a[b];return g&&D7({result:y,errorResetBoundary:s,throwOnError:g.throwOnError,query:n.getQueryCache().get(g.queryHash),suspense:g.suspense})});if(m!=null&&m.error)throw m.error;return u(d())}function UZ(t,e,r){var f,p,m,y;const n=R7(),i=j7(),s=Kt(),a=s.defaultQueryOptions(t);(p=(f=s.getDefaultOptions().queries)==null?void 0:f._experimental_beforeQuery)==null||p.call(f,a);const o=s.getQueryCache().get(a.queryHash);a._optimisticResults=n?"isRestoring":"optimistic",q7(a),$7(a,i,o),k7(i);const l=!s.getQueryCache().get(a.queryHash),[u]=$.useState(()=>new e(s,a)),d=u.getOptimisticResult(a),h=!n&&t.subscribed!==!1;if($.useSyncExternalStore($.useCallback(b=>{const g=h?u.subscribe(St.batchCalls(b)):br;return u.updateResult(),g},[u,h]),()=>u.getCurrentResult(),()=>u.getCurrentResult()),$.useEffect(()=>{u.setOptions(a)},[a,u]),KP(a,d))throw Kf(a,u,i);if(D7({result:d,errorResetBoundary:i,throwOnError:a.throwOnError,query:o,suspense:a.suspense}))throw d.error;if((y=(m=s.getDefaultOptions().queries)==null?void 0:m._experimental_afterQuery)==null||y.call(m,a,d),a.experimental_prefetchInRender&&!lo&&M7(d,n)){const b=l?Kf(a,u,i):o==null?void 0:o.promise;b==null||b.catch(br).finally(()=>{u.updateResult()})}return a.notifyOnChangeProps?d:u.trackResult(d)}function ot(t,e){return UZ(t,SC)}function Et(t,e){const r=Kt(),[n]=$.useState(()=>new DZ(r,t));$.useEffect(()=>{n.setOptions(t)},[n,t]);const i=$.useSyncExternalStore($.useCallback(a=>n.subscribe(St.batchCalls(a)),[n]),()=>n.getCurrentResult(),()=>n.getCurrentResult()),s=$.useCallback((a,o)=>{n.mutate(a,o).catch(br)},[n]);if(i.error&&xC(n.options.throwOnError,[i.error]))throw i.error;return{...i,mutate:s,mutateAsync:i.mutate}}function OC(){const t=window.prmConfig||{};return $.useMemo(()=>({isLoggedIn:t.isLoggedIn||!1,userId:t.userId||null,loginUrl:t.loginUrl||"/wp-login.php",logoutUrl:t.logoutUrl||"/wp-login.php?action=logout",isLoading:!1}),[t.isLoggedIn,t.userId,t.loginUrl,t.logoutUrl])}function A7(t,e){return function(){return t.apply(e,arguments)}}const{toString:WZ}=Object.prototype,{getPrototypeOf:PC}=Object,{iterator:$p,toStringTag:F7}=Symbol,kp=(t=>e=>{const r=WZ.call(e);return t[r]||(t[r]=r.slice(8,-1).toLowerCase())})(Object.create(null)),si=t=>(t=t.toLowerCase(),e=>kp(e)===t),Dp=t=>e=>typeof e===t,{isArray:gu}=Array,Zl=Dp("undefined");function kd(t){return t!==null&&!Zl(t)&&t.constructor!==null&&!Zl(t.constructor)&&Jr(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const L7=si("ArrayBuffer");function VZ(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&L7(t.buffer),e}const HZ=Dp("string"),Jr=Dp("function"),B7=Dp("number"),Dd=t=>t!==null&&typeof t=="object",KZ=t=>t===!0||t===!1,hf=t=>{if(kp(t)!=="object")return!1;const e=PC(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(F7 in t)&&!($p in t)},GZ=t=>{if(!Dd(t)||kd(t))return!1;try{return Object.keys(t).length===0&&Object.getPrototypeOf(t)===Object.prototype}catch{return!1}},YZ=si("Date"),QZ=si("File"),XZ=si("Blob"),JZ=si("FileList"),ZZ=t=>Dd(t)&&Jr(t.pipe),eee=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||Jr(t.append)&&((e=kp(t))==="formdata"||e==="object"&&Jr(t.toString)&&t.toString()==="[object FormData]"))},tee=si("URLSearchParams"),[ree,nee,iee,see]=["ReadableStream","Request","Response","Headers"].map(si),aee=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function qd(t,e,{allOwnKeys:r=!1}={}){if(t===null||typeof t>"u")return;let n,i;if(typeof t!="object"&&(t=[t]),gu(t))for(n=0,i=t.length;n<i;n++)e.call(null,t[n],n,t);else{if(kd(t))return;const s=r?Object.getOwnPropertyNames(t):Object.keys(t),a=s.length;let o;for(n=0;n<a;n++)o=s[n],e.call(null,t[o],o,t)}}function z7(t,e){if(kd(t))return null;e=e.toLowerCase();const r=Object.keys(t);let n=r.length,i;for(;n-- >0;)if(i=r[n],e===i.toLowerCase())return i;return null}const Ra=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,U7=t=>!Zl(t)&&t!==Ra;function GP(){const{caseless:t,skipUndefined:e}=U7(this)&&this||{},r={},n=(i,s)=>{const a=t&&z7(r,s)||s;hf(r[a])&&hf(i)?r[a]=GP(r[a],i):hf(i)?r[a]=GP({},i):gu(i)?r[a]=i.slice():(!e||!Zl(i))&&(r[a]=i)};for(let i=0,s=arguments.length;i<s;i++)arguments[i]&&qd(arguments[i],n);return r}const oee=(t,e,r,{allOwnKeys:n}={})=>(qd(e,(i,s)=>{r&&Jr(i)?t[s]=A7(i,r):t[s]=i},{allOwnKeys:n}),t),lee=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),uee=(t,e,r,n)=>{t.prototype=Object.create(e.prototype,n),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),r&&Object.assign(t.prototype,r)},cee=(t,e,r,n)=>{let i,s,a;const o={};if(e=e||{},t==null)return e;do{for(i=Object.getOwnPropertyNames(t),s=i.length;s-- >0;)a=i[s],(!n||n(a,t,e))&&!o[a]&&(e[a]=t[a],o[a]=!0);t=r!==!1&&PC(t)}while(t&&(!r||r(t,e))&&t!==Object.prototype);return e},dee=(t,e,r)=>{t=String(t),(r===void 0||r>t.length)&&(r=t.length),r-=e.length;const n=t.indexOf(e,r);return n!==-1&&n===r},hee=t=>{if(!t)return null;if(gu(t))return t;let e=t.length;if(!B7(e))return null;const r=new Array(e);for(;e-- >0;)r[e]=t[e];return r},fee=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&PC(Uint8Array)),pee=(t,e)=>{const n=(t&&t[$p]).call(t);let i;for(;(i=n.next())&&!i.done;){const s=i.value;e.call(t,s[0],s[1])}},mee=(t,e)=>{let r;const n=[];for(;(r=t.exec(e))!==null;)n.push(r);return n},vee=si("HTMLFormElement"),gee=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(r,n,i){return n.toUpperCase()+i}),_2=(({hasOwnProperty:t})=>(e,r)=>t.call(e,r))(Object.prototype),yee=si("RegExp"),W7=(t,e)=>{const r=Object.getOwnPropertyDescriptors(t),n={};qd(r,(i,s)=>{let a;(a=e(i,s,t))!==!1&&(n[s]=a||i)}),Object.defineProperties(t,n)},bee=t=>{W7(t,(e,r)=>{if(Jr(t)&&["arguments","caller","callee"].indexOf(r)!==-1)return!1;const n=t[r];if(Jr(n)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")})}})},wee=(t,e)=>{const r={},n=i=>{i.forEach(s=>{r[s]=!0})};return gu(t)?n(t):n(String(t).split(e)),r},xee=()=>{},_ee=(t,e)=>t!=null&&Number.isFinite(t=+t)?t:e;function See(t){return!!(t&&Jr(t.append)&&t[F7]==="FormData"&&t[$p])}const Eee=t=>{const e=new Array(10),r=(n,i)=>{if(Dd(n)){if(e.indexOf(n)>=0)return;if(kd(n))return n;if(!("toJSON"in n)){e[i]=n;const s=gu(n)?[]:{};return qd(n,(a,o)=>{const l=r(a,i+1);!Zl(l)&&(s[o]=l)}),e[i]=void 0,s}}return n};return r(t,0)},Oee=si("AsyncFunction"),Pee=t=>t&&(Dd(t)||Jr(t))&&Jr(t.then)&&Jr(t.catch),V7=((t,e)=>t?setImmediate:e?((r,n)=>(Ra.addEventListener("message",({source:i,data:s})=>{i===Ra&&s===r&&n.length&&n.shift()()},!1),i=>{n.push(i),Ra.postMessage(r,"*")}))(`axios@${Math.random()}`,[]):r=>setTimeout(r))(typeof setImmediate=="function",Jr(Ra.postMessage)),Nee=typeof queueMicrotask<"u"?queueMicrotask.bind(Ra):typeof process<"u"&&process.nextTick||V7,Cee=t=>t!=null&&Jr(t[$p]),M={isArray:gu,isArrayBuffer:L7,isBuffer:kd,isFormData:eee,isArrayBufferView:VZ,isString:HZ,isNumber:B7,isBoolean:KZ,isObject:Dd,isPlainObject:hf,isEmptyObject:GZ,isReadableStream:ree,isRequest:nee,isResponse:iee,isHeaders:see,isUndefined:Zl,isDate:YZ,isFile:QZ,isBlob:XZ,isRegExp:yee,isFunction:Jr,isStream:ZZ,isURLSearchParams:tee,isTypedArray:fee,isFileList:JZ,forEach:qd,merge:GP,extend:oee,trim:aee,stripBOM:lee,inherits:uee,toFlatObject:cee,kindOf:kp,kindOfTest:si,endsWith:dee,toArray:hee,forEachEntry:pee,matchAll:mee,isHTMLForm:vee,hasOwnProperty:_2,hasOwnProp:_2,reduceDescriptors:W7,freezeMethods:bee,toObjectSet:wee,toCamelCase:gee,noop:xee,toFiniteNumber:_ee,findKey:z7,global:Ra,isContextDefined:U7,isSpecCompliantForm:See,toJSONObject:Eee,isAsyncFn:Oee,isThenable:Pee,setImmediate:V7,asap:Nee,isIterable:Cee};function Te(t,e,r,n,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),r&&(this.config=r),n&&(this.request=n),i&&(this.response=i,this.status=i.status?i.status:null)}M.inherits(Te,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:M.toJSONObject(this.config),code:this.code,status:this.status}}});const H7=Te.prototype,K7={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{K7[t]={value:t}});Object.defineProperties(Te,K7);Object.defineProperty(H7,"isAxiosError",{value:!0});Te.from=(t,e,r,n,i,s)=>{const a=Object.create(H7);M.toFlatObject(t,a,function(d){return d!==Error.prototype},u=>u!=="isAxiosError");const o=t&&t.message?t.message:"Error",l=e==null&&t?t.code:e;return Te.call(a,o,l,r,n,i),t&&a.cause==null&&Object.defineProperty(a,"cause",{value:t,configurable:!0}),a.name=t&&t.name||"Error",s&&Object.assign(a,s),a};const Tee=null;function YP(t){return M.isPlainObject(t)||M.isArray(t)}function G7(t){return M.endsWith(t,"[]")?t.slice(0,-2):t}function S2(t,e,r){return t?t.concat(e).map(function(i,s){return i=G7(i),!r&&s?"["+i+"]":i}).join(r?".":""):e}function Iee(t){return M.isArray(t)&&!t.some(YP)}const Ree=M.toFlatObject(M,{},null,function(e){return/^is[A-Z]/.test(e)});function qp(t,e,r){if(!M.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,r=M.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,function(y,b){return!M.isUndefined(b[y])});const n=r.metaTokens,i=r.visitor||d,s=r.dots,a=r.indexes,l=(r.Blob||typeof Blob<"u"&&Blob)&&M.isSpecCompliantForm(e);if(!M.isFunction(i))throw new TypeError("visitor must be a function");function u(m){if(m===null)return"";if(M.isDate(m))return m.toISOString();if(M.isBoolean(m))return m.toString();if(!l&&M.isBlob(m))throw new Te("Blob is not supported. Use a Buffer instead.");return M.isArrayBuffer(m)||M.isTypedArray(m)?l&&typeof Blob=="function"?new Blob([m]):Buffer.from(m):m}function d(m,y,b){let g=m;if(m&&!b&&typeof m=="object"){if(M.endsWith(y,"{}"))y=n?y:y.slice(0,-2),m=JSON.stringify(m);else if(M.isArray(m)&&Iee(m)||(M.isFileList(m)||M.endsWith(y,"[]"))&&(g=M.toArray(m)))return y=G7(y),g.forEach(function(x,w){!(M.isUndefined(x)||x===null)&&e.append(a===!0?S2([y],w,s):a===null?y:y+"[]",u(x))}),!1}return YP(m)?!0:(e.append(S2(b,y,s),u(m)),!1)}const h=[],f=Object.assign(Ree,{defaultVisitor:d,convertValue:u,isVisitable:YP});function p(m,y){if(!M.isUndefined(m)){if(h.indexOf(m)!==-1)throw Error("Circular reference detected in "+y.join("."));h.push(m),M.forEach(m,function(g,v){(!(M.isUndefined(g)||g===null)&&i.call(e,g,M.isString(v)?v.trim():v,y,f))===!0&&p(g,y?y.concat(v):[v])}),h.pop()}}if(!M.isObject(t))throw new TypeError("data must be an object");return p(t),e}function E2(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(n){return e[n]})}function NC(t,e){this._pairs=[],t&&qp(t,this,e)}const Y7=NC.prototype;Y7.append=function(e,r){this._pairs.push([e,r])};Y7.toString=function(e){const r=e?function(n){return e.call(this,n,E2)}:E2;return this._pairs.map(function(i){return r(i[0])+"="+r(i[1])},"").join("&")};function jee(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function Q7(t,e,r){if(!e)return t;const n=r&&r.encode||jee;M.isFunction(r)&&(r={serialize:r});const i=r&&r.serialize;let s;if(i?s=i(e,r):s=M.isURLSearchParams(e)?e.toString():new NC(e,r).toString(n),s){const a=t.indexOf("#");a!==-1&&(t=t.slice(0,a)),t+=(t.indexOf("?")===-1?"?":"&")+s}return t}class O2{constructor(){this.handlers=[]}use(e,r,n){return this.handlers.push({fulfilled:e,rejected:r,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){M.forEach(this.handlers,function(n){n!==null&&e(n)})}}const X7={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},$ee=typeof URLSearchParams<"u"?URLSearchParams:NC,kee=typeof FormData<"u"?FormData:null,Dee=typeof Blob<"u"?Blob:null,qee={isBrowser:!0,classes:{URLSearchParams:$ee,FormData:kee,Blob:Dee},protocols:["http","https","file","blob","url","data"]},CC=typeof window<"u"&&typeof document<"u",QP=typeof navigator=="object"&&navigator||void 0,Mee=CC&&(!QP||["ReactNative","NativeScript","NS"].indexOf(QP.product)<0),Aee=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",Fee=CC&&window.location.href||"http://localhost",Lee=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:CC,hasStandardBrowserEnv:Mee,hasStandardBrowserWebWorkerEnv:Aee,navigator:QP,origin:Fee},Symbol.toStringTag,{value:"Module"})),_r={...Lee,...qee};function Bee(t,e){return qp(t,new _r.classes.URLSearchParams,{visitor:function(r,n,i,s){return _r.isNode&&M.isBuffer(r)?(this.append(n,r.toString("base64")),!1):s.defaultVisitor.apply(this,arguments)},...e})}function zee(t){return M.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function Uee(t){const e={},r=Object.keys(t);let n;const i=r.length;let s;for(n=0;n<i;n++)s=r[n],e[s]=t[s];return e}function J7(t){function e(r,n,i,s){let a=r[s++];if(a==="__proto__")return!0;const o=Number.isFinite(+a),l=s>=r.length;return a=!a&&M.isArray(i)?i.length:a,l?(M.hasOwnProp(i,a)?i[a]=[i[a],n]:i[a]=n,!o):((!i[a]||!M.isObject(i[a]))&&(i[a]=[]),e(r,n,i[a],s)&&M.isArray(i[a])&&(i[a]=Uee(i[a])),!o)}if(M.isFormData(t)&&M.isFunction(t.entries)){const r={};return M.forEachEntry(t,(n,i)=>{e(zee(n),i,r,0)}),r}return null}function Wee(t,e,r){if(M.isString(t))try{return(e||JSON.parse)(t),M.trim(t)}catch(n){if(n.name!=="SyntaxError")throw n}return(r||JSON.stringify)(t)}const Md={transitional:X7,adapter:["xhr","http","fetch"],transformRequest:[function(e,r){const n=r.getContentType()||"",i=n.indexOf("application/json")>-1,s=M.isObject(e);if(s&&M.isHTMLForm(e)&&(e=new FormData(e)),M.isFormData(e))return i?JSON.stringify(J7(e)):e;if(M.isArrayBuffer(e)||M.isBuffer(e)||M.isStream(e)||M.isFile(e)||M.isBlob(e)||M.isReadableStream(e))return e;if(M.isArrayBufferView(e))return e.buffer;if(M.isURLSearchParams(e))return r.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let o;if(s){if(n.indexOf("application/x-www-form-urlencoded")>-1)return Bee(e,this.formSerializer).toString();if((o=M.isFileList(e))||n.indexOf("multipart/form-data")>-1){const l=this.env&&this.env.FormData;return qp(o?{"files[]":e}:e,l&&new l,this.formSerializer)}}return s||i?(r.setContentType("application/json",!1),Wee(e)):e}],transformResponse:[function(e){const r=this.transitional||Md.transitional,n=r&&r.forcedJSONParsing,i=this.responseType==="json";if(M.isResponse(e)||M.isReadableStream(e))return e;if(e&&M.isString(e)&&(n&&!this.responseType||i)){const a=!(r&&r.silentJSONParsing)&&i;try{return JSON.parse(e,this.parseReviver)}catch(o){if(a)throw o.name==="SyntaxError"?Te.from(o,Te.ERR_BAD_RESPONSE,this,null,this.response):o}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:_r.classes.FormData,Blob:_r.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};M.forEach(["delete","get","head","post","put","patch"],t=>{Md.headers[t]={}});const Vee=M.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Hee=t=>{const e={};let r,n,i;return t&&t.split(`
`).forEach(function(a){i=a.indexOf(":"),r=a.substring(0,i).trim().toLowerCase(),n=a.substring(i+1).trim(),!(!r||e[r]&&Vee[r])&&(r==="set-cookie"?e[r]?e[r].push(n):e[r]=[n]:e[r]=e[r]?e[r]+", "+n:n)}),e},P2=Symbol("internals");function sc(t){return t&&String(t).trim().toLowerCase()}function ff(t){return t===!1||t==null?t:M.isArray(t)?t.map(ff):String(t)}function Kee(t){const e=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let n;for(;n=r.exec(t);)e[n[1]]=n[2];return e}const Gee=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function Jm(t,e,r,n,i){if(M.isFunction(n))return n.call(this,e,r);if(i&&(e=r),!!M.isString(e)){if(M.isString(n))return e.indexOf(n)!==-1;if(M.isRegExp(n))return n.test(e)}}function Yee(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,r,n)=>r.toUpperCase()+n)}function Qee(t,e){const r=M.toCamelCase(" "+e);["get","set","has"].forEach(n=>{Object.defineProperty(t,n+r,{value:function(i,s,a){return this[n].call(this,e,i,s,a)},configurable:!0})})}let Zr=class{constructor(e){e&&this.set(e)}set(e,r,n){const i=this;function s(o,l,u){const d=sc(l);if(!d)throw new Error("header name must be a non-empty string");const h=M.findKey(i,d);(!h||i[h]===void 0||u===!0||u===void 0&&i[h]!==!1)&&(i[h||l]=ff(o))}const a=(o,l)=>M.forEach(o,(u,d)=>s(u,d,l));if(M.isPlainObject(e)||e instanceof this.constructor)a(e,r);else if(M.isString(e)&&(e=e.trim())&&!Gee(e))a(Hee(e),r);else if(M.isObject(e)&&M.isIterable(e)){let o={},l,u;for(const d of e){if(!M.isArray(d))throw TypeError("Object iterator must return a key-value pair");o[u=d[0]]=(l=o[u])?M.isArray(l)?[...l,d[1]]:[l,d[1]]:d[1]}a(o,r)}else e!=null&&s(r,e,n);return this}get(e,r){if(e=sc(e),e){const n=M.findKey(this,e);if(n){const i=this[n];if(!r)return i;if(r===!0)return Kee(i);if(M.isFunction(r))return r.call(this,i,n);if(M.isRegExp(r))return r.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,r){if(e=sc(e),e){const n=M.findKey(this,e);return!!(n&&this[n]!==void 0&&(!r||Jm(this,this[n],n,r)))}return!1}delete(e,r){const n=this;let i=!1;function s(a){if(a=sc(a),a){const o=M.findKey(n,a);o&&(!r||Jm(n,n[o],o,r))&&(delete n[o],i=!0)}}return M.isArray(e)?e.forEach(s):s(e),i}clear(e){const r=Object.keys(this);let n=r.length,i=!1;for(;n--;){const s=r[n];(!e||Jm(this,this[s],s,e,!0))&&(delete this[s],i=!0)}return i}normalize(e){const r=this,n={};return M.forEach(this,(i,s)=>{const a=M.findKey(n,s);if(a){r[a]=ff(i),delete r[s];return}const o=e?Yee(s):String(s).trim();o!==s&&delete r[s],r[o]=ff(i),n[o]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const r=Object.create(null);return M.forEach(this,(n,i)=>{n!=null&&n!==!1&&(r[i]=e&&M.isArray(n)?n.join(", "):n)}),r}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,r])=>e+": "+r).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...r){const n=new this(e);return r.forEach(i=>n.set(i)),n}static accessor(e){const n=(this[P2]=this[P2]={accessors:{}}).accessors,i=this.prototype;function s(a){const o=sc(a);n[o]||(Qee(i,a),n[o]=!0)}return M.isArray(e)?e.forEach(s):s(e),this}};Zr.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);M.reduceDescriptors(Zr.prototype,({value:t},e)=>{let r=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(n){this[r]=n}}});M.freezeMethods(Zr);function Zm(t,e){const r=this||Md,n=e||r,i=Zr.from(n.headers);let s=n.data;return M.forEach(t,function(o){s=o.call(r,s,i.normalize(),e?e.status:void 0)}),i.normalize(),s}function Z7(t){return!!(t&&t.__CANCEL__)}function yu(t,e,r){Te.call(this,t??"canceled",Te.ERR_CANCELED,e,r),this.name="CanceledError"}M.inherits(yu,Te,{__CANCEL__:!0});function eK(t,e,r){const n=r.config.validateStatus;!r.status||!n||n(r.status)?t(r):e(new Te("Request failed with status code "+r.status,[Te.ERR_BAD_REQUEST,Te.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r))}function Xee(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function Jee(t,e){t=t||10;const r=new Array(t),n=new Array(t);let i=0,s=0,a;return e=e!==void 0?e:1e3,function(l){const u=Date.now(),d=n[s];a||(a=u),r[i]=l,n[i]=u;let h=s,f=0;for(;h!==i;)f+=r[h++],h=h%t;if(i=(i+1)%t,i===s&&(s=(s+1)%t),u-a<e)return;const p=d&&u-d;return p?Math.round(f*1e3/p):void 0}}function Zee(t,e){let r=0,n=1e3/e,i,s;const a=(u,d=Date.now())=>{r=d,i=null,s&&(clearTimeout(s),s=null),t(...u)};return[(...u)=>{const d=Date.now(),h=d-r;h>=n?a(u,d):(i=u,s||(s=setTimeout(()=>{s=null,a(i)},n-h)))},()=>i&&a(i)]}const Yf=(t,e,r=3)=>{let n=0;const i=Jee(50,250);return Zee(s=>{const a=s.loaded,o=s.lengthComputable?s.total:void 0,l=a-n,u=i(l),d=a<=o;n=a;const h={loaded:a,total:o,progress:o?a/o:void 0,bytes:l,rate:u||void 0,estimated:u&&o&&d?(o-a)/u:void 0,event:s,lengthComputable:o!=null,[e?"download":"upload"]:!0};t(h)},r)},N2=(t,e)=>{const r=t!=null;return[n=>e[0]({lengthComputable:r,total:t,loaded:n}),e[1]]},C2=t=>(...e)=>M.asap(()=>t(...e)),ete=_r.hasStandardBrowserEnv?((t,e)=>r=>(r=new URL(r,_r.origin),t.protocol===r.protocol&&t.host===r.host&&(e||t.port===r.port)))(new URL(_r.origin),_r.navigator&&/(msie|trident)/i.test(_r.navigator.userAgent)):()=>!0,tte=_r.hasStandardBrowserEnv?{write(t,e,r,n,i,s,a){if(typeof document>"u")return;const o=[`${t}=${encodeURIComponent(e)}`];M.isNumber(r)&&o.push(`expires=${new Date(r).toUTCString()}`),M.isString(n)&&o.push(`path=${n}`),M.isString(i)&&o.push(`domain=${i}`),s===!0&&o.push("secure"),M.isString(a)&&o.push(`SameSite=${a}`),document.cookie=o.join("; ")},read(t){if(typeof document>"u")return null;const e=document.cookie.match(new RegExp("(?:^|; )"+t+"=([^;]*)"));return e?decodeURIComponent(e[1]):null},remove(t){this.write(t,"",Date.now()-864e5,"/")}}:{write(){},read(){return null},remove(){}};function rte(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function nte(t,e){return e?t.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):t}function tK(t,e,r){let n=!rte(e);return t&&(n||r==!1)?nte(t,e):e}const T2=t=>t instanceof Zr?{...t}:t;function co(t,e){e=e||{};const r={};function n(u,d,h,f){return M.isPlainObject(u)&&M.isPlainObject(d)?M.merge.call({caseless:f},u,d):M.isPlainObject(d)?M.merge({},d):M.isArray(d)?d.slice():d}function i(u,d,h,f){if(M.isUndefined(d)){if(!M.isUndefined(u))return n(void 0,u,h,f)}else return n(u,d,h,f)}function s(u,d){if(!M.isUndefined(d))return n(void 0,d)}function a(u,d){if(M.isUndefined(d)){if(!M.isUndefined(u))return n(void 0,u)}else return n(void 0,d)}function o(u,d,h){if(h in e)return n(u,d);if(h in t)return n(void 0,u)}const l={url:s,method:s,data:s,baseURL:a,transformRequest:a,transformResponse:a,paramsSerializer:a,timeout:a,timeoutMessage:a,withCredentials:a,withXSRFToken:a,adapter:a,responseType:a,xsrfCookieName:a,xsrfHeaderName:a,onUploadProgress:a,onDownloadProgress:a,decompress:a,maxContentLength:a,maxBodyLength:a,beforeRedirect:a,transport:a,httpAgent:a,httpsAgent:a,cancelToken:a,socketPath:a,responseEncoding:a,validateStatus:o,headers:(u,d,h)=>i(T2(u),T2(d),h,!0)};return M.forEach(Object.keys({...t,...e}),function(d){const h=l[d]||i,f=h(t[d],e[d],d);M.isUndefined(f)&&h!==o||(r[d]=f)}),r}const rK=t=>{const e=co({},t);let{data:r,withXSRFToken:n,xsrfHeaderName:i,xsrfCookieName:s,headers:a,auth:o}=e;if(e.headers=a=Zr.from(a),e.url=Q7(tK(e.baseURL,e.url,e.allowAbsoluteUrls),t.params,t.paramsSerializer),o&&a.set("Authorization","Basic "+btoa((o.username||"")+":"+(o.password?unescape(encodeURIComponent(o.password)):""))),M.isFormData(r)){if(_r.hasStandardBrowserEnv||_r.hasStandardBrowserWebWorkerEnv)a.setContentType(void 0);else if(M.isFunction(r.getHeaders)){const l=r.getHeaders(),u=["content-type","content-length"];Object.entries(l).forEach(([d,h])=>{u.includes(d.toLowerCase())&&a.set(d,h)})}}if(_r.hasStandardBrowserEnv&&(n&&M.isFunction(n)&&(n=n(e)),n||n!==!1&&ete(e.url))){const l=i&&s&&tte.read(s);l&&a.set(i,l)}return e},ite=typeof XMLHttpRequest<"u",ste=ite&&function(t){return new Promise(function(r,n){const i=rK(t);let s=i.data;const a=Zr.from(i.headers).normalize();let{responseType:o,onUploadProgress:l,onDownloadProgress:u}=i,d,h,f,p,m;function y(){p&&p(),m&&m(),i.cancelToken&&i.cancelToken.unsubscribe(d),i.signal&&i.signal.removeEventListener("abort",d)}let b=new XMLHttpRequest;b.open(i.method.toUpperCase(),i.url,!0),b.timeout=i.timeout;function g(){if(!b)return;const x=Zr.from("getAllResponseHeaders"in b&&b.getAllResponseHeaders()),_={data:!o||o==="text"||o==="json"?b.responseText:b.response,status:b.status,statusText:b.statusText,headers:x,config:t,request:b};eK(function(O){r(O),y()},function(O){n(O),y()},_),b=null}"onloadend"in b?b.onloadend=g:b.onreadystatechange=function(){!b||b.readyState!==4||b.status===0&&!(b.responseURL&&b.responseURL.indexOf("file:")===0)||setTimeout(g)},b.onabort=function(){b&&(n(new Te("Request aborted",Te.ECONNABORTED,t,b)),b=null)},b.onerror=function(w){const _=w&&w.message?w.message:"Network Error",E=new Te(_,Te.ERR_NETWORK,t,b);E.event=w||null,n(E),b=null},b.ontimeout=function(){let w=i.timeout?"timeout of "+i.timeout+"ms exceeded":"timeout exceeded";const _=i.transitional||X7;i.timeoutErrorMessage&&(w=i.timeoutErrorMessage),n(new Te(w,_.clarifyTimeoutError?Te.ETIMEDOUT:Te.ECONNABORTED,t,b)),b=null},s===void 0&&a.setContentType(null),"setRequestHeader"in b&&M.forEach(a.toJSON(),function(w,_){b.setRequestHeader(_,w)}),M.isUndefined(i.withCredentials)||(b.withCredentials=!!i.withCredentials),o&&o!=="json"&&(b.responseType=i.responseType),u&&([f,m]=Yf(u,!0),b.addEventListener("progress",f)),l&&b.upload&&([h,p]=Yf(l),b.upload.addEventListener("progress",h),b.upload.addEventListener("loadend",p)),(i.cancelToken||i.signal)&&(d=x=>{b&&(n(!x||x.type?new yu(null,t,b):x),b.abort(),b=null)},i.cancelToken&&i.cancelToken.subscribe(d),i.signal&&(i.signal.aborted?d():i.signal.addEventListener("abort",d)));const v=Xee(i.url);if(v&&_r.protocols.indexOf(v)===-1){n(new Te("Unsupported protocol "+v+":",Te.ERR_BAD_REQUEST,t));return}b.send(s||null)})},ate=(t,e)=>{const{length:r}=t=t?t.filter(Boolean):[];if(e||r){let n=new AbortController,i;const s=function(u){if(!i){i=!0,o();const d=u instanceof Error?u:this.reason;n.abort(d instanceof Te?d:new yu(d instanceof Error?d.message:d))}};let a=e&&setTimeout(()=>{a=null,s(new Te(`timeout ${e} of ms exceeded`,Te.ETIMEDOUT))},e);const o=()=>{t&&(a&&clearTimeout(a),a=null,t.forEach(u=>{u.unsubscribe?u.unsubscribe(s):u.removeEventListener("abort",s)}),t=null)};t.forEach(u=>u.addEventListener("abort",s));const{signal:l}=n;return l.unsubscribe=()=>M.asap(o),l}},ote=function*(t,e){let r=t.byteLength;if(r<e){yield t;return}let n=0,i;for(;n<r;)i=n+e,yield t.slice(n,i),n=i},lte=async function*(t,e){for await(const r of ute(t))yield*ote(r,e)},ute=async function*(t){if(t[Symbol.asyncIterator]){yield*t;return}const e=t.getReader();try{for(;;){const{done:r,value:n}=await e.read();if(r)break;yield n}}finally{await e.cancel()}},I2=(t,e,r,n)=>{const i=lte(t,e);let s=0,a,o=l=>{a||(a=!0,n&&n(l))};return new ReadableStream({async pull(l){try{const{done:u,value:d}=await i.next();if(u){o(),l.close();return}let h=d.byteLength;if(r){let f=s+=h;r(f)}l.enqueue(new Uint8Array(d))}catch(u){throw o(u),u}},cancel(l){return o(l),i.return()}},{highWaterMark:2})},R2=64*1024,{isFunction:zh}=M,cte=(({Request:t,Response:e})=>({Request:t,Response:e}))(M.global),{ReadableStream:j2,TextEncoder:$2}=M.global,k2=(t,...e)=>{try{return!!t(...e)}catch{return!1}},dte=t=>{t=M.merge.call({skipUndefined:!0},cte,t);const{fetch:e,Request:r,Response:n}=t,i=e?zh(e):typeof fetch=="function",s=zh(r),a=zh(n);if(!i)return!1;const o=i&&zh(j2),l=i&&(typeof $2=="function"?(m=>y=>m.encode(y))(new $2):async m=>new Uint8Array(await new r(m).arrayBuffer())),u=s&&o&&k2(()=>{let m=!1;const y=new r(_r.origin,{body:new j2,method:"POST",get duplex(){return m=!0,"half"}}).headers.has("Content-Type");return m&&!y}),d=a&&o&&k2(()=>M.isReadableStream(new n("").body)),h={stream:d&&(m=>m.body)};i&&["text","arrayBuffer","blob","formData","stream"].forEach(m=>{!h[m]&&(h[m]=(y,b)=>{let g=y&&y[m];if(g)return g.call(y);throw new Te(`Response type '${m}' is not supported`,Te.ERR_NOT_SUPPORT,b)})});const f=async m=>{if(m==null)return 0;if(M.isBlob(m))return m.size;if(M.isSpecCompliantForm(m))return(await new r(_r.origin,{method:"POST",body:m}).arrayBuffer()).byteLength;if(M.isArrayBufferView(m)||M.isArrayBuffer(m))return m.byteLength;if(M.isURLSearchParams(m)&&(m=m+""),M.isString(m))return(await l(m)).byteLength},p=async(m,y)=>{const b=M.toFiniteNumber(m.getContentLength());return b??f(y)};return async m=>{let{url:y,method:b,data:g,signal:v,cancelToken:x,timeout:w,onDownloadProgress:_,onUploadProgress:E,responseType:O,headers:S,withCredentials:P="same-origin",fetchOptions:N}=rK(m),I=e||fetch;O=O?(O+"").toLowerCase():"text";let C=ate([v,x&&x.toAbortSignal()],w),T=null;const q=C&&C.unsubscribe&&(()=>{C.unsubscribe()});let U;try{if(E&&u&&b!=="get"&&b!=="head"&&(U=await p(S,g))!==0){let V=new r(y,{method:"POST",body:g,duplex:"half"}),te;if(M.isFormData(g)&&(te=V.headers.get("content-type"))&&S.setContentType(te),V.body){const[pe,ge]=N2(U,Yf(C2(E)));g=I2(V.body,R2,pe,ge)}}M.isString(P)||(P=P?"include":"omit");const re=s&&"credentials"in r.prototype,Y={...N,signal:C,method:b.toUpperCase(),headers:S.normalize().toJSON(),body:g,duplex:"half",credentials:re?P:void 0};T=s&&new r(y,Y);let L=await(s?I(T,N):I(y,Y));const G=d&&(O==="stream"||O==="response");if(d&&(_||G&&q)){const V={};["status","statusText","headers"].forEach(qe=>{V[qe]=L[qe]});const te=M.toFiniteNumber(L.headers.get("content-length")),[pe,ge]=_&&N2(te,Yf(C2(_),!0))||[];L=new n(I2(L.body,R2,pe,()=>{ge&&ge(),q&&q()}),V)}O=O||"text";let W=await h[M.findKey(h,O)||"text"](L,m);return!G&&q&&q(),await new Promise((V,te)=>{eK(V,te,{data:W,headers:Zr.from(L.headers),status:L.status,statusText:L.statusText,config:m,request:T})})}catch(re){throw q&&q(),re&&re.name==="TypeError"&&/Load failed|fetch/i.test(re.message)?Object.assign(new Te("Network Error",Te.ERR_NETWORK,m,T),{cause:re.cause||re}):Te.from(re,re&&re.code,m,T)}}},hte=new Map,nK=t=>{let e=t&&t.env||{};const{fetch:r,Request:n,Response:i}=e,s=[n,i,r];let a=s.length,o=a,l,u,d=hte;for(;o--;)l=s[o],u=d.get(l),u===void 0&&d.set(l,u=o?new Map:dte(e)),d=u;return u};nK();const TC={http:Tee,xhr:ste,fetch:{get:nK}};M.forEach(TC,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const D2=t=>`- ${t}`,fte=t=>M.isFunction(t)||t===null||t===!1;function pte(t,e){t=M.isArray(t)?t:[t];const{length:r}=t;let n,i;const s={};for(let a=0;a<r;a++){n=t[a];let o;if(i=n,!fte(n)&&(i=TC[(o=String(n)).toLowerCase()],i===void 0))throw new Te(`Unknown adapter '${o}'`);if(i&&(M.isFunction(i)||(i=i.get(e))))break;s[o||"#"+a]=i}if(!i){const a=Object.entries(s).map(([l,u])=>`adapter ${l} `+(u===!1?"is not supported by the environment":"is not available in the build"));let o=r?a.length>1?`since :
`+a.map(D2).join(`
`):" "+D2(a[0]):"as no adapter specified";throw new Te("There is no suitable adapter to dispatch the request "+o,"ERR_NOT_SUPPORT")}return i}const iK={getAdapter:pte,adapters:TC};function ev(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new yu(null,t)}function q2(t){return ev(t),t.headers=Zr.from(t.headers),t.data=Zm.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),iK.getAdapter(t.adapter||Md.adapter,t)(t).then(function(n){return ev(t),n.data=Zm.call(t,t.transformResponse,n),n.headers=Zr.from(n.headers),n},function(n){return Z7(n)||(ev(t),n&&n.response&&(n.response.data=Zm.call(t,t.transformResponse,n.response),n.response.headers=Zr.from(n.response.headers))),Promise.reject(n)})}const sK="1.13.2",Mp={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{Mp[t]=function(n){return typeof n===t||"a"+(e<1?"n ":" ")+t}});const M2={};Mp.transitional=function(e,r,n){function i(s,a){return"[Axios v"+sK+"] Transitional option '"+s+"'"+a+(n?". "+n:"")}return(s,a,o)=>{if(e===!1)throw new Te(i(a," has been removed"+(r?" in "+r:"")),Te.ERR_DEPRECATED);return r&&!M2[a]&&(M2[a]=!0,console.warn(i(a," has been deprecated since v"+r+" and will be removed in the near future"))),e?e(s,a,o):!0}};Mp.spelling=function(e){return(r,n)=>(console.warn(`${n} is likely a misspelling of ${e}`),!0)};function mte(t,e,r){if(typeof t!="object")throw new Te("options must be an object",Te.ERR_BAD_OPTION_VALUE);const n=Object.keys(t);let i=n.length;for(;i-- >0;){const s=n[i],a=e[s];if(a){const o=t[s],l=o===void 0||a(o,s,t);if(l!==!0)throw new Te("option "+s+" must be "+l,Te.ERR_BAD_OPTION_VALUE);continue}if(r!==!0)throw new Te("Unknown option "+s,Te.ERR_BAD_OPTION)}}const pf={assertOptions:mte,validators:Mp},ui=pf.validators;let Ya=class{constructor(e){this.defaults=e||{},this.interceptors={request:new O2,response:new O2}}async request(e,r){try{return await this._request(e,r)}catch(n){if(n instanceof Error){let i={};Error.captureStackTrace?Error.captureStackTrace(i):i=new Error;const s=i.stack?i.stack.replace(/^.+\n/,""):"";try{n.stack?s&&!String(n.stack).endsWith(s.replace(/^.+\n.+\n/,""))&&(n.stack+=`
`+s):n.stack=s}catch{}}throw n}}_request(e,r){typeof e=="string"?(r=r||{},r.url=e):r=e||{},r=co(this.defaults,r);const{transitional:n,paramsSerializer:i,headers:s}=r;n!==void 0&&pf.assertOptions(n,{silentJSONParsing:ui.transitional(ui.boolean),forcedJSONParsing:ui.transitional(ui.boolean),clarifyTimeoutError:ui.transitional(ui.boolean)},!1),i!=null&&(M.isFunction(i)?r.paramsSerializer={serialize:i}:pf.assertOptions(i,{encode:ui.function,serialize:ui.function},!0)),r.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?r.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:r.allowAbsoluteUrls=!0),pf.assertOptions(r,{baseUrl:ui.spelling("baseURL"),withXsrfToken:ui.spelling("withXSRFToken")},!0),r.method=(r.method||this.defaults.method||"get").toLowerCase();let a=s&&M.merge(s.common,s[r.method]);s&&M.forEach(["delete","get","head","post","put","patch","common"],m=>{delete s[m]}),r.headers=Zr.concat(a,s);const o=[];let l=!0;this.interceptors.request.forEach(function(y){typeof y.runWhen=="function"&&y.runWhen(r)===!1||(l=l&&y.synchronous,o.unshift(y.fulfilled,y.rejected))});const u=[];this.interceptors.response.forEach(function(y){u.push(y.fulfilled,y.rejected)});let d,h=0,f;if(!l){const m=[q2.bind(this),void 0];for(m.unshift(...o),m.push(...u),f=m.length,d=Promise.resolve(r);h<f;)d=d.then(m[h++],m[h++]);return d}f=o.length;let p=r;for(;h<f;){const m=o[h++],y=o[h++];try{p=m(p)}catch(b){y.call(this,b);break}}try{d=q2.call(this,p)}catch(m){return Promise.reject(m)}for(h=0,f=u.length;h<f;)d=d.then(u[h++],u[h++]);return d}getUri(e){e=co(this.defaults,e);const r=tK(e.baseURL,e.url,e.allowAbsoluteUrls);return Q7(r,e.params,e.paramsSerializer)}};M.forEach(["delete","get","head","options"],function(e){Ya.prototype[e]=function(r,n){return this.request(co(n||{},{method:e,url:r,data:(n||{}).data}))}});M.forEach(["post","put","patch"],function(e){function r(n){return function(s,a,o){return this.request(co(o||{},{method:e,headers:n?{"Content-Type":"multipart/form-data"}:{},url:s,data:a}))}}Ya.prototype[e]=r(),Ya.prototype[e+"Form"]=r(!0)});let vte=class aK{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let r;this.promise=new Promise(function(s){r=s});const n=this;this.promise.then(i=>{if(!n._listeners)return;let s=n._listeners.length;for(;s-- >0;)n._listeners[s](i);n._listeners=null}),this.promise.then=i=>{let s;const a=new Promise(o=>{n.subscribe(o),s=o}).then(i);return a.cancel=function(){n.unsubscribe(s)},a},e(function(s,a,o){n.reason||(n.reason=new yu(s,a,o),r(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const r=this._listeners.indexOf(e);r!==-1&&this._listeners.splice(r,1)}toAbortSignal(){const e=new AbortController,r=n=>{e.abort(n)};return this.subscribe(r),e.signal.unsubscribe=()=>this.unsubscribe(r),e.signal}static source(){let e;return{token:new aK(function(i){e=i}),cancel:e}}};function gte(t){return function(r){return t.apply(null,r)}}function yte(t){return M.isObject(t)&&t.isAxiosError===!0}const XP={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(XP).forEach(([t,e])=>{XP[e]=t});function oK(t){const e=new Ya(t),r=A7(Ya.prototype.request,e);return M.extend(r,Ya.prototype,e,{allOwnKeys:!0}),M.extend(r,e,null,{allOwnKeys:!0}),r.create=function(i){return oK(co(t,i))},r}const Ct=oK(Md);Ct.Axios=Ya;Ct.CanceledError=yu;Ct.CancelToken=vte;Ct.isCancel=Z7;Ct.VERSION=sK;Ct.toFormData=qp;Ct.AxiosError=Te;Ct.Cancel=Ct.CanceledError;Ct.all=function(e){return Promise.all(e)};Ct.spread=gte;Ct.isAxiosError=yte;Ct.mergeConfig=co;Ct.AxiosHeaders=Zr;Ct.formToJSON=t=>J7(M.isHTMLForm(t)?new FormData(t):t);Ct.getAdapter=iK.getAdapter;Ct.HttpStatusCode=XP;Ct.default=Ct;const{Axios:y0e,AxiosError:b0e,CanceledError:w0e,isCancel:x0e,CancelToken:_0e,VERSION:S0e,all:E0e,Cancel:O0e,isAxiosError:P0e,spread:N0e,toFormData:C0e,AxiosHeaders:T0e,HttpStatusCode:I0e,formToJSON:R0e,getAdapter:j0e,mergeConfig:$0e}=Ct,JP=window.prmConfig||{},ye=Ct.create({baseURL:JP.apiUrl||"/wp-json",headers:{"Content-Type":"application/json","X-WP-Nonce":JP.nonce||""}});ye.interceptors.request.use(t=>{var e;return(e=window.prmConfig)!=null&&e.nonce&&(t.headers["X-WP-Nonce"]=window.prmConfig.nonce),t});ye.interceptors.response.use(t=>t,t=>{var e,r;return((e=t.response)==null?void 0:e.status)===401&&(window.location.href=JP.loginUrl||"/wp-login.php"),((r=t.response)==null?void 0:r.status)===403&&console.error("Access denied:",t.response.data),Promise.reject(t)});const Ae={getPeople:t=>ye.get("/wp/v2/people",{params:t}),getPerson:(t,e={})=>ye.get(`/wp/v2/people/${t}`,{params:e}),createPerson:t=>ye.post("/wp/v2/people",t),updatePerson:(t,e)=>ye.put(`/wp/v2/people/${t}`,e),deletePerson:(t,e={})=>ye.delete(`/wp/v2/people/${t}`,{params:e}),getCompanies:t=>ye.get("/wp/v2/companies",{params:t}),getCompany:(t,e={})=>ye.get(`/wp/v2/companies/${t}`,{params:e}),createCompany:t=>ye.post("/wp/v2/companies",t),updateCompany:(t,e)=>ye.put(`/wp/v2/companies/${t}`,e),deleteCompany:(t,e={})=>ye.delete(`/wp/v2/companies/${t}`,{params:e}),getDates:t=>ye.get("/wp/v2/important-dates",{params:t}),getDate:t=>ye.get(`/wp/v2/important-dates/${t}`),createDate:t=>ye.post("/wp/v2/important-dates",t),updateDate:(t,e)=>ye.put(`/wp/v2/important-dates/${t}`,e),deleteDate:t=>ye.delete(`/wp/v2/important-dates/${t}`),getPersonLabels:()=>ye.get("/wp/v2/person_label"),getCompanyLabels:()=>ye.get("/wp/v2/company_label"),getRelationshipTypes:()=>ye.get("/wp/v2/relationship_type",{params:{per_page:100,_fields:"id,name,slug,acf"}}),createRelationshipType:t=>ye.post("/wp/v2/relationship_type",t),updateRelationshipType:(t,e)=>ye.post(`/wp/v2/relationship_type/${t}`,e),deleteRelationshipType:t=>ye.delete(`/wp/v2/relationship_type/${t}?force=true`),restoreRelationshipTypeDefaults:()=>ye.post("/prm/v1/relationship-types/restore-defaults"),getDateTypes:()=>ye.get("/wp/v2/date_type",{params:{per_page:100}}),uploadMedia:t=>{const e=new FormData;return e.append("file",t),ye.post("/wp/v2/media",e,{headers:{"Content-Type":"multipart/form-data"}})}},Ht={getDashboard:()=>ye.get("/prm/v1/dashboard"),sideloadGravatar:(t,e)=>ye.post(`/prm/v1/people/${t}/gravatar`,{email:e}),getCurrentUser:()=>ye.get("/prm/v1/user/me"),getUsers:()=>ye.get("/prm/v1/users"),approveUser:t=>ye.post(`/prm/v1/users/${t}/approve`),denyUser:t=>ye.post(`/prm/v1/users/${t}/deny`),search:t=>ye.get("/prm/v1/search",{params:{q:t}}),getReminders:(t=30)=>ye.get("/prm/v1/reminders",{params:{days_ahead:t}}),getPersonDates:t=>ye.get(`/prm/v1/people/${t}/dates`),getPersonTimeline:t=>ye.get(`/prm/v1/people/${t}/timeline`),getPersonNotes:t=>ye.get(`/prm/v1/people/${t}/notes`),createNote:(t,e)=>ye.post(`/prm/v1/people/${t}/notes`,{content:e}),updateNote:(t,e)=>ye.put(`/prm/v1/notes/${t}`,{content:e}),deleteNote:t=>ye.delete(`/prm/v1/notes/${t}`),getPersonActivities:t=>ye.get(`/prm/v1/people/${t}/activities`),createActivity:(t,e)=>ye.post(`/prm/v1/people/${t}/activities`,e),updateActivity:(t,e)=>ye.put(`/prm/v1/activities/${t}`,e),deleteActivity:t=>ye.delete(`/prm/v1/activities/${t}`),getCompanyPeople:t=>ye.get(`/prm/v1/companies/${t}/people`),setCompanyLogo:(t,e)=>ye.post(`/prm/v1/companies/${t}/logo`,{media_id:e}),uploadPersonPhoto:(t,e)=>{const r=new FormData;return r.append("file",e),ye.post(`/prm/v1/people/${t}/photo`,r,{headers:{"Content-Type":"multipart/form-data"}})},uploadCompanyLogo:(t,e)=>{const r=new FormData;return r.append("file",e),ye.post(`/prm/v1/companies/${t}/logo/upload`,r,{headers:{"Content-Type":"multipart/form-data"}})}};/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var bte={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wte=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),me=(t,e)=>{const r=$.forwardRef(({color:n="currentColor",size:i=24,strokeWidth:s=2,absoluteStrokeWidth:a,className:o="",children:l,...u},d)=>$.createElement("svg",{ref:d,...bte,width:i,height:i,stroke:n,strokeWidth:a?Number(s)*24/Number(i):s,className:["lucide",`lucide-${wte(t)}`,o].join(" "),...u},[...e.map(([h,f])=>$.createElement(h,f)),...Array.isArray(l)?l:[l]]));return r.displayName=`${t}`,r};/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ho=me("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xte=me("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _te=me("ArrowDown",[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qn=me("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A2=me("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ste=me("ArrowUp",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ete=me("Briefcase",[["rect",{width:"20",height:"14",x:"2",y:"7",rx:"2",ry:"2",key:"eto64e"}],["path",{d:"M16 21V5a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"zwj3tp"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ns=me("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lK=me("Cake",[["path",{d:"M20 21v-8a2 2 0 0 0-2-2H6a2 2 0 0 0-2 2v8",key:"1w3rig"}],["path",{d:"M4 16s.5-1 2-1 2.5 2 4 2 2.5-2 4-2 2.5 2 4 2 2-1 2-1",key:"n2jgmb"}],["path",{d:"M2 21h20",key:"1nyx9w"}],["path",{d:"M7 8v3",key:"1qtyvj"}],["path",{d:"M12 8v3",key:"hwp4zt"}],["path",{d:"M17 8v3",key:"1i6e5u"}],["path",{d:"M7 4h0.01",key:"hsw7lv"}],["path",{d:"M12 4h0.01",key:"1e3d8f"}],["path",{d:"M17 4h0.01",key:"p7cxgy"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fo=me("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mf=me("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F2=me("CheckCircle2",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eu=me("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L2=me("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ote=me("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pte=me("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZP=me("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nte=me("Facebook",[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ap=me("FileCode",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["path",{d:"m10 13-2 2 2 2",key:"17smn8"}],["path",{d:"m14 17 2-2-2-2",key:"14mezr"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IC=me("FileSpreadsheet",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["path",{d:"M8 13h2",key:"yr2amv"}],["path",{d:"M8 17h2",key:"2yhykz"}],["path",{d:"M14 13h2",key:"un5t4a"}],["path",{d:"M14 17h2",key:"10kma7"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B2=me("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cte=me("Gift",[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bc=me("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tte=me("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ite=me("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uK=me("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rte=me("Instagram",[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jte=me("Link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $te=me("Linkedin",[["path",{d:"M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z",key:"c2jq9f"}],["rect",{width:"4",height:"12",x:"2",y:"9",key:"mk3on5"}],["circle",{cx:"4",cy:"4",r:"2",key:"bt5ra8"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const po=me("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kte=me("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dte=me("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qte=me("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mte=me("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ate=me("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fte=me("Pen",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ac=me("Pencil",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lte=me("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xr=me("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bte=me("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cK=me("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sa=me("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dK=me("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hK=me("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fK=me("ShieldAlert",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zte=me("SkipForward",[["polygon",{points:"5 4 15 12 5 20 5 4",key:"16p6eg"}],["line",{x1:"19",x2:"19",y1:"5",y2:"19",key:"futhcm"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pK=me("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mK=me("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a2.121 2.121 0 1 1 3 3L12 15l-4 1 1-4Z",key:"1lpok0"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const od=me("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vK=me("StickyNote",[["path",{d:"M15.5 3H5a2 2 0 0 0-2 2v14c0 1.1.9 2 2 2h14a2 2 0 0 0 2-2V8.5L15.5 3Z",key:"1wis1t"}],["path",{d:"M15 3v6h6",key:"edgan2"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xs=me("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ute=me("Twitter",[["path",{d:"M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z",key:"pff0z6"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tu=me("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wte=me("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gK=me("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mo=me("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z2=me("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aa=me("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vte=me("ZoomIn",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"11",x2:"11",y1:"8",y2:"14",key:"1vmskp"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hte=me("ZoomOut",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]]),ru="Caelis";function yn(t){$.useEffect(()=>{var e;if(t){const r=((e=window.prmConfig)==null?void 0:e.siteName)||ru;document.title=`${t} - ${r}`}},[t])}function Kte(t){const e=t.match(/\/(?:people|companies|dates)\/(\d+)/);return e?e[1]:null}function yK(t=null){const e=os();$.useEffect(()=>{var i;let r=t;if(!r){const s=e.pathname,a=Kte(s);s==="/"?r="Dashboard":s==="/login"?r="Login":s.startsWith("/people")?s==="/people"||s==="/people/"?r="People":s==="/people/new"?r="New Person":s.endsWith("/edit")?r="Edit Person":a?r="Person":r="People":s.startsWith("/companies")?s==="/companies"||s==="/companies/"?r="Companies":s==="/companies/new"?r="New Company":s.endsWith("/edit")?r="Edit Company":a?r="Company":r="Companies":s.startsWith("/dates")?s==="/dates"||s==="/dates/"?r="Important Dates":s==="/dates/new"?r="New Date":s.endsWith("/edit")?r="Edit Date":r="Important Dates":s.startsWith("/settings")?r="Settings":r=ru}const n=((i=window.prmConfig)==null?void 0:i.siteName)||ru;document.title=`${r} - ${n}`},[e.pathname,t])}function Gte(){return ot({queryKey:["dashboard"],queryFn:async()=>(await Ht.getDashboard()).data})}function Yte(t=30){return ot({queryKey:["reminders",t],queryFn:async()=>(await Ht.getReminders(t)).data})}function Qte(t){const e=typeof t=="string"?t:"",r=e.length>=2;return ot({queryKey:["search",e],queryFn:async()=>r?(await Ht.search(e)).data:{people:[],companies:[],dates:[]},enabled:r})}const Xte=[{name:"Dashboard",href:"/",icon:Ite},{name:"People",href:"/people",icon:mo},{name:"Companies",href:"/companies",icon:ns},{name:"Dates",href:"/dates",icon:fo},{name:"Settings",href:"/settings",icon:hK}];function U2({mobile:t=!1,onClose:e}){const{logoutUrl:r}=OC();return c.jsxs("div",{className:"flex flex-col h-full bg-white border-r border-gray-200",children:[c.jsxs("div",{className:"flex items-center justify-between h-16 px-4 border-b border-gray-200",children:[c.jsxs(he,{to:"/",className:"flex items-center gap-2 text-xl font-bold text-primary-600",children:[c.jsx(pK,{className:"w-5 h-5"}),ru]}),t&&c.jsx("button",{onClick:e,className:"p-2 -mr-2",children:c.jsx(aa,{className:"w-5 h-5"})})]}),c.jsx("nav",{className:"flex-1 px-2 py-4 space-y-1 overflow-y-auto",children:Xte.map(n=>c.jsxs(cZ,{to:n.href,onClick:t?e:void 0,className:({isActive:i})=>`flex items-center px-3 py-2 text-sm font-medium rounded-lg transition-colors ${i?"bg-primary-50 text-primary-700":"text-gray-700 hover:bg-gray-50"}`,children:[c.jsx(n.icon,{className:"w-5 h-5 mr-3"}),c.jsx("span",{className:"hidden md:inline",children:n.name})]},n.name))}),c.jsx("div",{className:"p-4 border-t border-gray-200",children:c.jsxs("a",{href:r,className:"flex items-center px-3 py-2 text-sm font-medium text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:[c.jsx(kte,{className:"w-5 h-5 mr-3"}),c.jsx("span",{className:"hidden md:inline",children:"Log Out"})]})})]})}function Jte(){var a;const[t,e]=$.useState(!1),r=$.useRef(null),{data:n,isLoading:i}=ot({queryKey:["current-user"],queryFn:async()=>(await Ht.getCurrentUser()).data});if($.useEffect(()=>{const o=l=>{r.current&&!r.current.contains(l.target)&&e(!1)};if(t)return document.addEventListener("mousedown",o),()=>{document.removeEventListener("mousedown",o)}},[t]),i||!n)return c.jsx("div",{className:"flex items-center ml-auto",children:c.jsx("div",{className:"w-8 h-8 bg-gray-200 rounded-full animate-pulse"})});const s=((a=n.name)==null?void 0:a.split(" ").map(o=>o[0]).join("").toUpperCase().slice(0,2))||"?";return c.jsxs("div",{className:"relative ml-auto",ref:r,children:[c.jsxs("button",{onClick:()=>e(!t),className:"flex items-center gap-2 p-1 rounded-full hover:bg-gray-100 transition-colors","aria-label":"User menu",children:[n.avatar_url?c.jsx("img",{src:n.avatar_url,alt:n.name,className:"w-8 h-8 rounded-full object-cover"}):c.jsx("div",{className:"w-8 h-8 bg-primary-100 rounded-full flex items-center justify-center",children:c.jsx("span",{className:"text-sm font-medium text-primary-700",children:s})}),c.jsx(Ote,{className:`w-4 h-4 text-gray-500 transition-transform ${t?"rotate-180":""}`})]}),t&&c.jsx("div",{className:"absolute right-0 mt-2 w-48 bg-white border border-gray-200 rounded-lg shadow-lg z-50",children:c.jsxs("div",{className:"py-1",children:[c.jsxs("a",{href:n.profile_url,target:"_blank",rel:"noopener noreferrer",className:"flex items-center px-4 py-2 text-sm text-gray-700 hover:bg-gray-50 transition-colors",onClick:()=>e(!1),children:[c.jsx(gK,{className:"w-4 h-4 mr-2"}),c.jsx("span",{className:"hidden md:inline",children:"Edit profile"})]}),n.is_admin&&c.jsxs("a",{href:n.admin_url,target:"_blank",rel:"noopener noreferrer",className:"flex items-center px-4 py-2 text-sm text-gray-700 hover:bg-gray-50 transition-colors",onClick:()=>e(!1),children:[c.jsx(hK,{className:"w-4 h-4 mr-2"}),c.jsx("span",{className:"hidden md:inline",children:"WordPress admin"})]})]})})]})}function Zte({onMenuClick:t}){const[e,r]=$.useState(""),[n,i]=$.useState(!1),s=os(),a=rn(),o=$.useRef(null),l=$.useRef(null),u=e.trim(),{data:d,isLoading:h}=Qte(u),f=()=>{const g=s.pathname;return g==="/"?"Dashboard":g.startsWith("/people")?"People":g.startsWith("/companies")?"Companies":g.startsWith("/dates")?"Important Dates":g.startsWith("/settings")?"Settings":""};$.useEffect(()=>{const g=v=>{l.current&&!l.current.contains(v.target)&&o.current&&!o.current.contains(v.target)&&i(!1)};return document.addEventListener("mousedown",g),()=>{document.removeEventListener("mousedown",g)}},[]);const p=(g,v)=>{i(!1),r(""),g==="person"?a(`/people/${v}`):g==="company"?a(`/companies/${v}`):g==="date"&&a(`/dates/${v}/edit`)},m=d||{people:[],companies:[],dates:[]},y=m.people&&m.people.length>0||m.companies&&m.companies.length>0||m.dates&&m.dates.length>0,b=n&&e.trim().length>=2;return c.jsxs("header",{className:"sticky top-0 z-10 flex items-center h-16 px-4 bg-white border-b border-gray-200 lg:px-6",children:[c.jsx("button",{onClick:t,className:"p-2 -ml-2 lg:hidden",children:c.jsx(Mte,{className:"w-5 h-5"})}),c.jsx("h1",{className:"ml-2 text-lg font-semibold lg:ml-0",children:f()}),c.jsx("div",{className:"flex-1 flex justify-center max-w-2xl mx-4 lg:mx-8",children:c.jsxs("div",{className:"relative w-full",ref:o,children:[c.jsx(dK,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}),c.jsx("input",{type:"search",placeholder:"Search people, companies, dates...",value:e,onChange:g=>r(g.target.value),onFocus:()=>i(!0),className:"input pl-9 w-full"}),b&&c.jsx("div",{ref:l,className:"absolute top-full left-0 right-0 mt-2 bg-white border border-gray-200 rounded-lg shadow-lg max-h-96 overflow-y-auto z-50",children:h?c.jsxs("div",{className:"p-4 text-center text-gray-500",children:[c.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-primary-600 mx-auto"}),c.jsx("p",{className:"mt-2 text-sm",children:"Searching..."})]}):y?c.jsxs("div",{className:"py-2",children:[m.people&&m.people.length>0&&c.jsxs("div",{className:"px-3 py-2",children:[c.jsx("div",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wide mb-2 px-2",children:"People"}),m.people.map(g=>c.jsxs("button",{onClick:()=>p("person",g.id),className:"w-full flex items-center gap-3 px-2 py-2 rounded-lg hover:bg-gray-50 transition-colors text-left",children:[c.jsx(gK,{className:"w-4 h-4 text-gray-400 flex-shrink-0"}),c.jsx("span",{className:"text-sm font-medium text-gray-900 flex-1 truncate",children:g.name})]},g.id))]}),m.companies&&m.companies.length>0&&c.jsxs("div",{className:"px-3 py-2 border-t border-gray-100",children:[c.jsx("div",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wide mb-2 px-2",children:"Companies"}),m.companies.map(g=>c.jsxs("button",{onClick:()=>p("company",g.id),className:"w-full flex items-center gap-3 px-2 py-2 rounded-lg hover:bg-gray-50 transition-colors text-left",children:[c.jsx(Ete,{className:"w-4 h-4 text-gray-400 flex-shrink-0"}),c.jsx("span",{className:"text-sm font-medium text-gray-900 flex-1 truncate",children:g.name})]},g.id))]}),m.dates&&m.dates.length>0&&c.jsxs("div",{className:"px-3 py-2 border-t border-gray-100",children:[c.jsx("div",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wide mb-2 px-2",children:"Dates"}),m.dates.map(g=>c.jsxs("button",{onClick:()=>p("date",g.id),className:"w-full flex items-center gap-3 px-2 py-2 rounded-lg hover:bg-gray-50 transition-colors text-left",children:[c.jsx(fo,{className:"w-4 h-4 text-gray-400 flex-shrink-0"}),c.jsx("span",{className:"text-sm font-medium text-gray-900 flex-1 truncate",children:g.title})]},g.id))]})]}):c.jsx("div",{className:"p-4 text-center text-gray-500",children:c.jsx("p",{className:"text-sm",children:"No results found"})})})]})}),c.jsx(Jte,{})]})}function ere({children:t}){const[e,r]=$.useState(!1);return yK(),c.jsxs("div",{className:"flex h-screen bg-gray-50",children:[c.jsx("div",{className:"hidden lg:flex lg:w-64 lg:flex-col",children:c.jsx(U2,{})}),e&&c.jsxs("div",{className:"fixed inset-0 z-40 lg:hidden",children:[c.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-75",onClick:()=>r(!1)}),c.jsx("div",{className:"fixed inset-y-0 left-0 flex flex-col w-64 bg-white",children:c.jsx(U2,{mobile:!0,onClose:()=>r(!1)})})]}),c.jsxs("div",{className:"flex flex-col flex-1 min-w-0",children:[c.jsx(Zte,{onMenuClick:()=>r(!0)}),c.jsx("main",{className:"flex-1 overflow-y-auto p-4 lg:p-6",children:t})]})]})}function fr(t){const e=Object.prototype.toString.call(t);return t instanceof Date||typeof t=="object"&&e==="[object Date]"?new t.constructor(+t):typeof t=="number"||e==="[object Number]"||typeof t=="string"||e==="[object String]"?new Date(t):new Date(NaN)}function vo(t,e){return t instanceof Date?new t.constructor(e):new Date(e)}const bK=6048e5,tre=864e5;let rre={};function Fp(){return rre}function ld(t,e){var o,l,u,d;const r=Fp(),n=(e==null?void 0:e.weekStartsOn)??((l=(o=e==null?void 0:e.locale)==null?void 0:o.options)==null?void 0:l.weekStartsOn)??r.weekStartsOn??((d=(u=r.locale)==null?void 0:u.options)==null?void 0:d.weekStartsOn)??0,i=fr(t),s=i.getDay(),a=(s<n?7:0)+s-n;return i.setDate(i.getDate()-a),i.setHours(0,0,0,0),i}function Qf(t){return ld(t,{weekStartsOn:1})}function wK(t){const e=fr(t),r=e.getFullYear(),n=vo(t,0);n.setFullYear(r+1,0,4),n.setHours(0,0,0,0);const i=Qf(n),s=vo(t,0);s.setFullYear(r,0,4),s.setHours(0,0,0,0);const a=Qf(s);return e.getTime()>=i.getTime()?r+1:e.getTime()>=a.getTime()?r:r-1}function W2(t){const e=fr(t);return e.setHours(0,0,0,0),e}function V2(t){const e=fr(t),r=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return r.setUTCFullYear(e.getFullYear()),+t-+r}function nre(t,e){const r=W2(t),n=W2(e),i=+r-V2(r),s=+n-V2(n);return Math.round((i-s)/tre)}function ire(t){const e=wK(t),r=vo(t,0);return r.setFullYear(e,0,4),r.setHours(0,0,0,0),Qf(r)}function H2(t,e){const r=fr(t),n=fr(e),i=r.getTime()-n.getTime();return i<0?-1:i>0?1:i}function sre(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function are(t){if(!sre(t)&&typeof t!="number")return!1;const e=fr(t);return!isNaN(Number(e))}function ore(t,e){const r=fr(t),n=fr(e);return r.getFullYear()-n.getFullYear()}function tv(t,e){const r=fr(t),n=fr(e),i=H2(r,n),s=Math.abs(ore(r,n));r.setFullYear(1584),n.setFullYear(1584);const a=H2(r,n)===-i,o=i*(s-+a);return o===0?0:o}function lre(t){const e=fr(t),r=vo(t,0);return r.setFullYear(e.getFullYear(),0,1),r.setHours(0,0,0,0),r}const ure={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},cre=(t,e,r)=>{let n;const i=ure[t];return typeof i=="string"?n=i:e===1?n=i.one:n=i.other.replace("{{count}}",e.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+n:n+" ago":n};function rv(t){return(e={})=>{const r=e.width?String(e.width):t.defaultWidth;return t.formats[r]||t.formats[t.defaultWidth]}}const dre={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},hre={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},fre={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},pre={date:rv({formats:dre,defaultWidth:"full"}),time:rv({formats:hre,defaultWidth:"full"}),dateTime:rv({formats:fre,defaultWidth:"full"})},mre={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},vre=(t,e,r,n)=>mre[t];function oc(t){return(e,r)=>{const n=r!=null&&r.context?String(r.context):"standalone";let i;if(n==="formatting"&&t.formattingValues){const a=t.defaultFormattingWidth||t.defaultWidth,o=r!=null&&r.width?String(r.width):a;i=t.formattingValues[o]||t.formattingValues[a]}else{const a=t.defaultWidth,o=r!=null&&r.width?String(r.width):t.defaultWidth;i=t.values[o]||t.values[a]}const s=t.argumentCallback?t.argumentCallback(e):e;return i[s]}}const gre={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},yre={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},bre={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},wre={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},xre={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},_re={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},Sre=(t,e)=>{const r=Number(t),n=r%100;if(n>20||n<10)switch(n%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},Ere={ordinalNumber:Sre,era:oc({values:gre,defaultWidth:"wide"}),quarter:oc({values:yre,defaultWidth:"wide",argumentCallback:t=>t-1}),month:oc({values:bre,defaultWidth:"wide"}),day:oc({values:wre,defaultWidth:"wide"}),dayPeriod:oc({values:xre,defaultWidth:"wide",formattingValues:_re,defaultFormattingWidth:"wide"})};function lc(t){return(e,r={})=>{const n=r.width,i=n&&t.matchPatterns[n]||t.matchPatterns[t.defaultMatchWidth],s=e.match(i);if(!s)return null;const a=s[0],o=n&&t.parsePatterns[n]||t.parsePatterns[t.defaultParseWidth],l=Array.isArray(o)?Pre(o,h=>h.test(a)):Ore(o,h=>h.test(a));let u;u=t.valueCallback?t.valueCallback(l):l,u=r.valueCallback?r.valueCallback(u):u;const d=e.slice(a.length);return{value:u,rest:d}}}function Ore(t,e){for(const r in t)if(Object.prototype.hasOwnProperty.call(t,r)&&e(t[r]))return r}function Pre(t,e){for(let r=0;r<t.length;r++)if(e(t[r]))return r}function Nre(t){return(e,r={})=>{const n=e.match(t.matchPattern);if(!n)return null;const i=n[0],s=e.match(t.parsePattern);if(!s)return null;let a=t.valueCallback?t.valueCallback(s[0]):s[0];a=r.valueCallback?r.valueCallback(a):a;const o=e.slice(i.length);return{value:a,rest:o}}}const Cre=/^(\d+)(th|st|nd|rd)?/i,Tre=/\d+/i,Ire={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},Rre={any:[/^b/i,/^(a|c)/i]},jre={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},$re={any:[/1/i,/2/i,/3/i,/4/i]},kre={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},Dre={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},qre={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},Mre={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},Are={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},Fre={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},Lre={ordinalNumber:Nre({matchPattern:Cre,parsePattern:Tre,valueCallback:t=>parseInt(t,10)}),era:lc({matchPatterns:Ire,defaultMatchWidth:"wide",parsePatterns:Rre,defaultParseWidth:"any"}),quarter:lc({matchPatterns:jre,defaultMatchWidth:"wide",parsePatterns:$re,defaultParseWidth:"any",valueCallback:t=>t+1}),month:lc({matchPatterns:kre,defaultMatchWidth:"wide",parsePatterns:Dre,defaultParseWidth:"any"}),day:lc({matchPatterns:qre,defaultMatchWidth:"wide",parsePatterns:Mre,defaultParseWidth:"any"}),dayPeriod:lc({matchPatterns:Are,defaultMatchWidth:"any",parsePatterns:Fre,defaultParseWidth:"any"})},Bre={code:"en-US",formatDistance:cre,formatLong:pre,formatRelative:vre,localize:Ere,match:Lre,options:{weekStartsOn:0,firstWeekContainsDate:1}};function zre(t){const e=fr(t);return nre(e,lre(e))+1}function Ure(t){const e=fr(t),r=+Qf(e)-+ire(e);return Math.round(r/bK)+1}function xK(t,e){var d,h,f,p;const r=fr(t),n=r.getFullYear(),i=Fp(),s=(e==null?void 0:e.firstWeekContainsDate)??((h=(d=e==null?void 0:e.locale)==null?void 0:d.options)==null?void 0:h.firstWeekContainsDate)??i.firstWeekContainsDate??((p=(f=i.locale)==null?void 0:f.options)==null?void 0:p.firstWeekContainsDate)??1,a=vo(t,0);a.setFullYear(n+1,0,s),a.setHours(0,0,0,0);const o=ld(a,e),l=vo(t,0);l.setFullYear(n,0,s),l.setHours(0,0,0,0);const u=ld(l,e);return r.getTime()>=o.getTime()?n+1:r.getTime()>=u.getTime()?n:n-1}function Wre(t,e){var o,l,u,d;const r=Fp(),n=(e==null?void 0:e.firstWeekContainsDate)??((l=(o=e==null?void 0:e.locale)==null?void 0:o.options)==null?void 0:l.firstWeekContainsDate)??r.firstWeekContainsDate??((d=(u=r.locale)==null?void 0:u.options)==null?void 0:d.firstWeekContainsDate)??1,i=xK(t,e),s=vo(t,0);return s.setFullYear(i,0,n),s.setHours(0,0,0,0),ld(s,e)}function Vre(t,e){const r=fr(t),n=+ld(r,e)-+Wre(r,e);return Math.round(n/bK)+1}function ze(t,e){const r=t<0?"-":"",n=Math.abs(t).toString().padStart(e,"0");return r+n}const gs={y(t,e){const r=t.getFullYear(),n=r>0?r:1-r;return ze(e==="yy"?n%100:n,e.length)},M(t,e){const r=t.getMonth();return e==="M"?String(r+1):ze(r+1,2)},d(t,e){return ze(t.getDate(),e.length)},a(t,e){const r=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h(t,e){return ze(t.getHours()%12||12,e.length)},H(t,e){return ze(t.getHours(),e.length)},m(t,e){return ze(t.getMinutes(),e.length)},s(t,e){return ze(t.getSeconds(),e.length)},S(t,e){const r=e.length,n=t.getMilliseconds(),i=Math.trunc(n*Math.pow(10,r-3));return ze(i,e.length)}},Yo={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},K2={G:function(t,e,r){const n=t.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return r.era(n,{width:"abbreviated"});case"GGGGG":return r.era(n,{width:"narrow"});case"GGGG":default:return r.era(n,{width:"wide"})}},y:function(t,e,r){if(e==="yo"){const n=t.getFullYear(),i=n>0?n:1-n;return r.ordinalNumber(i,{unit:"year"})}return gs.y(t,e)},Y:function(t,e,r,n){const i=xK(t,n),s=i>0?i:1-i;if(e==="YY"){const a=s%100;return ze(a,2)}return e==="Yo"?r.ordinalNumber(s,{unit:"year"}):ze(s,e.length)},R:function(t,e){const r=wK(t);return ze(r,e.length)},u:function(t,e){const r=t.getFullYear();return ze(r,e.length)},Q:function(t,e,r){const n=Math.ceil((t.getMonth()+1)/3);switch(e){case"Q":return String(n);case"QQ":return ze(n,2);case"Qo":return r.ordinalNumber(n,{unit:"quarter"});case"QQQ":return r.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(n,{width:"wide",context:"formatting"})}},q:function(t,e,r){const n=Math.ceil((t.getMonth()+1)/3);switch(e){case"q":return String(n);case"qq":return ze(n,2);case"qo":return r.ordinalNumber(n,{unit:"quarter"});case"qqq":return r.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(n,{width:"wide",context:"standalone"})}},M:function(t,e,r){const n=t.getMonth();switch(e){case"M":case"MM":return gs.M(t,e);case"Mo":return r.ordinalNumber(n+1,{unit:"month"});case"MMM":return r.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(n,{width:"wide",context:"formatting"})}},L:function(t,e,r){const n=t.getMonth();switch(e){case"L":return String(n+1);case"LL":return ze(n+1,2);case"Lo":return r.ordinalNumber(n+1,{unit:"month"});case"LLL":return r.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(n,{width:"wide",context:"standalone"})}},w:function(t,e,r,n){const i=Vre(t,n);return e==="wo"?r.ordinalNumber(i,{unit:"week"}):ze(i,e.length)},I:function(t,e,r){const n=Ure(t);return e==="Io"?r.ordinalNumber(n,{unit:"week"}):ze(n,e.length)},d:function(t,e,r){return e==="do"?r.ordinalNumber(t.getDate(),{unit:"date"}):gs.d(t,e)},D:function(t,e,r){const n=zre(t);return e==="Do"?r.ordinalNumber(n,{unit:"dayOfYear"}):ze(n,e.length)},E:function(t,e,r){const n=t.getDay();switch(e){case"E":case"EE":case"EEE":return r.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(n,{width:"short",context:"formatting"});case"EEEE":default:return r.day(n,{width:"wide",context:"formatting"})}},e:function(t,e,r,n){const i=t.getDay(),s=(i-n.weekStartsOn+8)%7||7;switch(e){case"e":return String(s);case"ee":return ze(s,2);case"eo":return r.ordinalNumber(s,{unit:"day"});case"eee":return r.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(i,{width:"short",context:"formatting"});case"eeee":default:return r.day(i,{width:"wide",context:"formatting"})}},c:function(t,e,r,n){const i=t.getDay(),s=(i-n.weekStartsOn+8)%7||7;switch(e){case"c":return String(s);case"cc":return ze(s,e.length);case"co":return r.ordinalNumber(s,{unit:"day"});case"ccc":return r.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(i,{width:"narrow",context:"standalone"});case"cccccc":return r.day(i,{width:"short",context:"standalone"});case"cccc":default:return r.day(i,{width:"wide",context:"standalone"})}},i:function(t,e,r){const n=t.getDay(),i=n===0?7:n;switch(e){case"i":return String(i);case"ii":return ze(i,e.length);case"io":return r.ordinalNumber(i,{unit:"day"});case"iii":return r.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(n,{width:"short",context:"formatting"});case"iiii":default:return r.day(n,{width:"wide",context:"formatting"})}},a:function(t,e,r){const i=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(t,e,r){const n=t.getHours();let i;switch(n===12?i=Yo.noon:n===0?i=Yo.midnight:i=n/12>=1?"pm":"am",e){case"b":case"bb":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(t,e,r){const n=t.getHours();let i;switch(n>=17?i=Yo.evening:n>=12?i=Yo.afternoon:n>=4?i=Yo.morning:i=Yo.night,e){case"B":case"BB":case"BBB":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(t,e,r){if(e==="ho"){let n=t.getHours()%12;return n===0&&(n=12),r.ordinalNumber(n,{unit:"hour"})}return gs.h(t,e)},H:function(t,e,r){return e==="Ho"?r.ordinalNumber(t.getHours(),{unit:"hour"}):gs.H(t,e)},K:function(t,e,r){const n=t.getHours()%12;return e==="Ko"?r.ordinalNumber(n,{unit:"hour"}):ze(n,e.length)},k:function(t,e,r){let n=t.getHours();return n===0&&(n=24),e==="ko"?r.ordinalNumber(n,{unit:"hour"}):ze(n,e.length)},m:function(t,e,r){return e==="mo"?r.ordinalNumber(t.getMinutes(),{unit:"minute"}):gs.m(t,e)},s:function(t,e,r){return e==="so"?r.ordinalNumber(t.getSeconds(),{unit:"second"}):gs.s(t,e)},S:function(t,e){return gs.S(t,e)},X:function(t,e,r){const n=t.getTimezoneOffset();if(n===0)return"Z";switch(e){case"X":return Y2(n);case"XXXX":case"XX":return Pa(n);case"XXXXX":case"XXX":default:return Pa(n,":")}},x:function(t,e,r){const n=t.getTimezoneOffset();switch(e){case"x":return Y2(n);case"xxxx":case"xx":return Pa(n);case"xxxxx":case"xxx":default:return Pa(n,":")}},O:function(t,e,r){const n=t.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+G2(n,":");case"OOOO":default:return"GMT"+Pa(n,":")}},z:function(t,e,r){const n=t.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+G2(n,":");case"zzzz":default:return"GMT"+Pa(n,":")}},t:function(t,e,r){const n=Math.trunc(t.getTime()/1e3);return ze(n,e.length)},T:function(t,e,r){const n=t.getTime();return ze(n,e.length)}};function G2(t,e=""){const r=t>0?"-":"+",n=Math.abs(t),i=Math.trunc(n/60),s=n%60;return s===0?r+String(i):r+String(i)+e+ze(s,2)}function Y2(t,e){return t%60===0?(t>0?"-":"+")+ze(Math.abs(t)/60,2):Pa(t,e)}function Pa(t,e=""){const r=t>0?"-":"+",n=Math.abs(t),i=ze(Math.trunc(n/60),2),s=ze(n%60,2);return r+i+e+s}const Q2=(t,e)=>{switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},_K=(t,e)=>{switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},Hre=(t,e)=>{const r=t.match(/(P+)(p+)?/)||[],n=r[1],i=r[2];if(!i)return Q2(t,e);let s;switch(n){case"P":s=e.dateTime({width:"short"});break;case"PP":s=e.dateTime({width:"medium"});break;case"PPP":s=e.dateTime({width:"long"});break;case"PPPP":default:s=e.dateTime({width:"full"});break}return s.replace("{{date}}",Q2(n,e)).replace("{{time}}",_K(i,e))},Kre={p:_K,P:Hre},Gre=/^D+$/,Yre=/^Y+$/,Qre=["D","DD","YY","YYYY"];function Xre(t){return Gre.test(t)}function Jre(t){return Yre.test(t)}function Zre(t,e,r){const n=ene(t,e,r);if(console.warn(n),Qre.includes(t))throw new RangeError(n)}function ene(t,e,r){const n=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${e}\`) for formatting ${n} to the input \`${r}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const tne=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,rne=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,nne=/^'([^]*?)'?$/,ine=/''/g,sne=/[a-zA-Z]/;function mi(t,e,r){var d,h,f,p;const n=Fp(),i=n.locale??Bre,s=n.firstWeekContainsDate??((h=(d=n.locale)==null?void 0:d.options)==null?void 0:h.firstWeekContainsDate)??1,a=n.weekStartsOn??((p=(f=n.locale)==null?void 0:f.options)==null?void 0:p.weekStartsOn)??0,o=fr(t);if(!are(o))throw new RangeError("Invalid time value");let l=e.match(rne).map(m=>{const y=m[0];if(y==="p"||y==="P"){const b=Kre[y];return b(m,i.formatLong)}return m}).join("").match(tne).map(m=>{if(m==="''")return{isToken:!1,value:"'"};const y=m[0];if(y==="'")return{isToken:!1,value:ane(m)};if(K2[y])return{isToken:!0,value:m};if(y.match(sne))throw new RangeError("Format string contains an unescaped latin alphabet character `"+y+"`");return{isToken:!1,value:m}});i.localize.preprocessor&&(l=i.localize.preprocessor(o,l));const u={firstWeekContainsDate:s,weekStartsOn:a,locale:i};return l.map(m=>{if(!m.isToken)return m.value;const y=m.value;(Jre(y)||Xre(y))&&Zre(y,e,String(t));const b=K2[y[0]];return b(o,y,i.localize,u)}).join("")}function ane(t){const e=t.match(nne);return e?e[1].replace(ine,"'"):t}function Qo({title:t,value:e,icon:r,href:n}){return c.jsx(he,{to:n,className:"card p-6 hover:shadow-md transition-shadow",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-sm font-medium text-gray-500",children:t}),c.jsx("p",{className:"mt-1 text-3xl font-semibold",children:e})]}),c.jsx("div",{className:"p-3 bg-primary-50 rounded-lg",children:c.jsx(r,{className:"w-6 h-6 text-primary-600"})})]})})}function X2({person:t}){var e,r;return c.jsxs(he,{to:`/people/${t.id}`,className:"flex items-center p-3 rounded-lg hover:bg-gray-50 transition-colors",children:[t.thumbnail?c.jsx("img",{src:t.thumbnail,alt:t.name,loading:"lazy",className:"w-10 h-10 rounded-full object-cover"}):c.jsx("div",{className:"w-10 h-10 bg-gray-200 rounded-full flex items-center justify-center",children:c.jsx("span",{className:"text-sm font-medium text-gray-500",children:((e=t.first_name)==null?void 0:e[0])||"?"})}),c.jsxs("div",{className:"ml-3 flex-1 min-w-0",children:[c.jsx("p",{className:"text-sm font-medium text-gray-900 truncate",children:t.name}),((r=t.labels)==null?void 0:r.length)>0&&c.jsx("p",{className:"text-xs text-gray-500 truncate",children:t.labels.join(", ")})]}),t.is_favorite&&c.jsx(od,{className:"w-4 h-4 text-yellow-400 fill-current"})]})}function one({reminder:t}){var o,l,u,d,h;const e=t.days_until;let r="bg-gray-100 text-gray-700";e===0?r="bg-green-100 text-green-700":e<=3?r="bg-orange-100 text-orange-700":e<=7&&(r="bg-yellow-100 text-yellow-700");const n=((l=(o=t.related_people)==null?void 0:o[0])==null?void 0:l.name)||t.title,i=(d=(u=t.related_people)==null?void 0:u[0])==null?void 0:d.id,s=((h=t.related_people)==null?void 0:h.length)>0,a=c.jsxs(c.Fragment,{children:[c.jsx("div",{className:`px-2 py-1 rounded text-xs font-medium ${r}`,children:e===0?"Today":`${e}d`}),c.jsxs("div",{className:"ml-3 flex-1 min-w-0",children:[c.jsx("p",{className:"text-sm font-medium text-gray-900",children:n}),c.jsx("p",{className:"text-xs text-gray-500",children:mi(new Date(t.next_occurrence),"MMMM d, yyyy")}),s&&c.jsx("div",{className:"flex -space-x-2 mt-1",children:t.related_people.slice(0,3).map(f=>{var p;return f.thumbnail?c.jsx("img",{src:f.thumbnail,alt:f.name,loading:"lazy",className:"w-10 h-10 rounded-full border-2 border-white object-cover"},f.id):c.jsx("div",{className:"w-10 h-10 bg-gray-300 rounded-full border-2 border-white flex items-center justify-center",children:c.jsx("span",{className:"text-sm",children:(p=f.name)==null?void 0:p[0]})},f.id)})})]})]});return s&&i?c.jsx(he,{to:`/people/${i}`,className:"flex items-start p-3 rounded-lg hover:bg-gray-50 transition-colors",children:a}):c.jsx("div",{className:"flex items-start p-3 rounded-lg hover:bg-gray-50 transition-colors",children:a})}function lne(){return c.jsxs("div",{className:"card p-12 text-center",children:[c.jsx("div",{className:"flex justify-center mb-4",children:c.jsx("div",{className:"p-4 bg-primary-50 rounded-full",children:c.jsx(pK,{className:"w-12 h-12 text-primary-600"})})}),c.jsxs("h2",{className:"text-2xl font-semibold text-gray-900 mb-2",children:["Welcome to ",ru,"!"]}),c.jsx("p",{className:"text-gray-600 mb-8 max-w-md mx-auto",children:"Get started by adding your first contact, company, or important date. Your dashboard will populate as you add more information."}),c.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[c.jsxs(he,{to:"/people/new",className:"inline-flex items-center px-6 py-3 bg-primary-600 text-white rounded-lg hover:bg-primary-700 transition-colors",children:[c.jsx(xr,{className:"w-5 h-5 mr-2"}),"Add Your First Person"]}),c.jsxs(he,{to:"/companies/new",className:"inline-flex items-center px-6 py-3 bg-white text-gray-700 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",children:[c.jsx(xr,{className:"w-5 h-5 mr-2"}),"Add Your First Company"]})]})]})}function une(){var u,d,h;const{data:t,isLoading:e,error:r}=Gte();if(e)return c.jsx("div",{className:"flex items-center justify-center h-64",children:c.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"})});if(r){const f=((u=r==null?void 0:r.response)==null?void 0:u.status)>=500||!(r!=null&&r.response);return c.jsx("div",{className:"card p-8 text-center",children:c.jsx("div",{className:"text-red-600 mb-2",children:f?c.jsxs(c.Fragment,{children:[c.jsx("p",{className:"font-medium mb-1",children:"Failed to load dashboard data"}),c.jsx("p",{className:"text-sm text-gray-600",children:"Please check your connection and try refreshing the page."})]}):c.jsxs(c.Fragment,{children:[c.jsx("p",{className:"font-medium mb-1",children:"Unable to load dashboard"}),c.jsx("p",{className:"text-sm text-gray-600",children:((h=(d=r==null?void 0:r.response)==null?void 0:d.data)==null?void 0:h.message)||"An error occurred while loading your data."})]})})})}const{stats:n,recent_people:i,upcoming_reminders:s,favorites:a}=t||{};return((n==null?void 0:n.total_people)||0)+((n==null?void 0:n.total_companies)||0)+((n==null?void 0:n.total_dates)||0)===0?c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:[c.jsx(Qo,{title:"Total People",value:0,icon:mo,href:"/people"}),c.jsx(Qo,{title:"Companies",value:0,icon:ns,href:"/companies"}),c.jsx(Qo,{title:"Important Dates",value:0,icon:fo,href:"/dates"})]}),c.jsx(lne,{})]}):c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:[c.jsx(Qo,{title:"Total People",value:(n==null?void 0:n.total_people)||0,icon:mo,href:"/people"}),c.jsx(Qo,{title:"Companies",value:(n==null?void 0:n.total_companies)||0,icon:ns,href:"/companies"}),c.jsx(Qo,{title:"Important Dates",value:(n==null?void 0:n.total_dates)||0,icon:fo,href:"/dates"})]}),c.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[c.jsxs("div",{className:"card",children:[c.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-200",children:[c.jsx("h2",{className:"font-semibold",children:"Upcoming Reminders"}),c.jsxs(he,{to:"/dates",className:"text-sm text-primary-600 hover:text-primary-700 flex items-center",children:["View all",c.jsx(A2,{className:"w-4 h-4 ml-1"})]})]}),c.jsx("div",{className:"divide-y divide-gray-100",children:(s==null?void 0:s.length)>0?s.map(f=>c.jsx(one,{reminder:f},f.id)):c.jsx("p",{className:"p-4 text-sm text-gray-500 text-center",children:"No upcoming reminders"})})]}),c.jsxs("div",{className:"card",children:[c.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-200",children:[c.jsx("h2",{className:"font-semibold",children:"Recent People"}),c.jsxs(he,{to:"/people",className:"text-sm text-primary-600 hover:text-primary-700 flex items-center",children:["View all",c.jsx(A2,{className:"w-4 h-4 ml-1"})]})]}),c.jsx("div",{className:"divide-y divide-gray-100",children:(i==null?void 0:i.length)>0?i.map(f=>c.jsx(X2,{person:f},f.id)):c.jsxs("p",{className:"p-4 text-sm text-gray-500 text-center",children:["No people yet. ",c.jsx(he,{to:"/people/new",className:"text-primary-600",children:"Add someone"})]})})]})]}),(a==null?void 0:a.length)>0&&c.jsxs("div",{className:"card",children:[c.jsx("div",{className:"flex items-center justify-between p-4 border-b border-gray-200",children:c.jsx("h2",{className:"font-semibold",children:"Favorites"})}),c.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-2 p-2",children:a.map(f=>c.jsx(X2,{person:f},f.id))})]})]})}function Zn(t){if(!t)return"";const e=document.createElement("textarea");return e.innerHTML=t,e.value}function Ui(t){var r;if(!t)return"";const e=((r=t.title)==null?void 0:r.rendered)||t.title||t.name||"";return Zn(e)}function Qa(t){var r,n;if(!t)return"";if(t.name&&typeof t.name=="string"&&!((r=t.title)!=null&&r.rendered))return Zn(t.name);const e=((n=t.title)==null?void 0:n.rendered)||t.title||t.name||"";return Zn(e)}function ja(t,e={}){const r=["gender"],n=["contact_info","work_history","relationships","photo_gallery"],i={...t};return r.forEach(s=>{i[s]===""&&(i[s]=null)}),n.forEach(s=>{Array.isArray(i[s])||(i[s]=[])}),Object.assign(i,e),i}const Wt={all:["people"],lists:()=>[...Wt.all,"list"],list:t=>[...Wt.lists(),t],details:()=>[...Wt.all,"detail"],detail:t=>[...Wt.details(),t],timeline:t=>[...Wt.detail(t),"timeline"],dates:t=>[...Wt.detail(t),"dates"]};function SK(t){var i,s,a,o,l,u,d,h,f,p,m,y,b,g,v,x,w;const e=((a=(s=(i=t._embedded)==null?void 0:i["wp:featuredmedia"])==null?void 0:s[0])==null?void 0:a.source_url)||((f=(h=(d=(u=(l=(o=t._embedded)==null?void 0:o["wp:featuredmedia"])==null?void 0:l[0])==null?void 0:u.media_details)==null?void 0:d.sizes)==null?void 0:h.thumbnail)==null?void 0:f.source_url)||null,r=((b=(y=(m=(p=t._embedded)==null?void 0:p["wp:term"])==null?void 0:m.flat())==null?void 0:y.filter(_=>(_==null?void 0:_.taxonomy)==="person_label"))==null?void 0:b.map(_=>_.name))||[],n=Zn(((g=t.title)==null?void 0:g.rendered)||"");return{...t,id:t.id,name:n,first_name:((v=t.acf)==null?void 0:v.first_name)||"",last_name:((x=t.acf)==null?void 0:x.last_name)||"",is_favorite:((w=t.acf)==null?void 0:w.is_favorite)||!1,thumbnail:e,labels:r}}function Lp(t={}){return ot({queryKey:Wt.list(t),queryFn:async()=>{const e=[];let r=1;const n=100;for(;;){const i=await Ae.getPeople({per_page:n,page:r,_embed:!0,...t}),s=i.data.map(SK);if(e.push(...s),s.length<n)break;const a=parseInt(i.headers["x-wp-totalpages"]||i.headers["X-WP-TotalPages"]||"0",10);if(a>0&&r>=a)break;r++}return e}})}function bu(t){return ot({queryKey:Wt.detail(t),queryFn:async()=>{const e=await Ae.getPerson(t,{_embed:!0});return SK(e.data)},enabled:!!t})}function cne(t){return ot({queryKey:Wt.timeline(t),queryFn:async()=>(await Ht.getPersonTimeline(t)).data,enabled:!!t})}function dne(t){return ot({queryKey:Wt.dates(t),queryFn:async()=>(await Ht.getPersonDates(t)).data,enabled:!!t})}function hne(){const t=Kt();return Et({mutationFn:e=>Ae.createPerson(e),onSuccess:()=>{t.invalidateQueries({queryKey:Wt.lists()})}})}function Ad(){const t=Kt();return Et({mutationFn:({id:e,data:r})=>Ae.updatePerson(e,r),onSuccess:(e,{id:r,data:n})=>{var i;t.invalidateQueries({queryKey:Wt.detail(r)}),t.invalidateQueries({queryKey:Wt.lists()}),(i=n==null?void 0:n.acf)!=null&&i.relationships&&(Array.isArray(n.acf.relationships)?n.acf.relationships:[]).forEach(a=>{const o=a.related_person;o&&t.invalidateQueries({queryKey:Wt.detail(o)})})}})}function fne(){const t=Kt();return Et({mutationFn:e=>Ae.deletePerson(e,{force:!0}),onSuccess:()=>{t.invalidateQueries({queryKey:Wt.lists()}),t.invalidateQueries({queryKey:Wt.details()})}})}function pne(){const t=Kt();return Et({mutationFn:({noteId:e,personId:r})=>Ht.deleteNote(e),onSuccess:(e,{personId:r})=>{t.invalidateQueries({queryKey:Wt.timeline(r)})}})}function mne(){const t=Kt();return Et({mutationFn:({dateId:e,personId:r})=>Ae.deleteDate(e),onSuccess:(e,{personId:r})=>{r&&(t.invalidateQueries({queryKey:Wt.dates(r)}),t.invalidateQueries({queryKey:Wt.detail(r)})),t.invalidateQueries({queryKey:["reminders"]})}})}function J2(t){var i;const e=((i=t.acf)==null?void 0:i.work_history)||[];if(e.length===0)return null;const r=e.find(s=>s.is_current&&s.company);if(r)return r.company;const n=e.filter(s=>s.company).sort((s,a)=>{const o=s.start_date?new Date(s.start_date):new Date(0);return(a.start_date?new Date(a.start_date):new Date(0))-o});return n.length>0?n[0].company:null}function vne({person:t,companyName:e,isDeceased:r}){var n,i;return c.jsx(he,{to:`/people/${t.id}`,className:"card p-4 hover:shadow-md transition-shadow",children:c.jsxs("div",{className:"flex items-start",children:[t.thumbnail?c.jsx("img",{src:t.thumbnail,alt:t.name,loading:"lazy",className:"w-12 h-12 rounded-full object-cover"}):c.jsx("div",{className:"w-12 h-12 bg-gray-200 rounded-full flex items-center justify-center",children:c.jsx("span",{className:"text-lg font-medium text-gray-500",children:((n=t.first_name)==null?void 0:n[0])||"?"})}),c.jsxs("div",{className:"ml-3 flex-1 min-w-0",children:[c.jsxs("div",{className:"flex items-center",children:[c.jsxs("h3",{className:"text-sm font-medium text-gray-900 truncate",children:[t.name,r&&c.jsx("span",{className:"ml-1 text-gray-500",children:""})]}),t.is_favorite&&c.jsx(od,{className:"w-4 h-4 ml-1 text-yellow-400 fill-current flex-shrink-0"})]}),e&&c.jsx("p",{className:"text-xs text-gray-500 mt-0.5 truncate",children:e}),((i=t.labels)==null?void 0:i.length)>0&&c.jsx("div",{className:"flex flex-wrap gap-1 mt-1",children:t.labels.slice(0,3).map(s=>c.jsx("span",{className:"inline-flex px-2 py-0.5 text-xs rounded-full bg-gray-100 text-gray-600",children:s},s))})]})]})})}function gne(){const[t,e]=$.useState(!1),[r,n]=$.useState(!1),[i,s]=$.useState([]),[a,o]=$.useState("first_name"),[l,u]=$.useState("asc"),d=$.useRef(null),h=$.useRef(null),{data:f,isLoading:p,error:m}=Lp(),{data:y}=ot({queryKey:["person-labels"],queryFn:async()=>(await Ae.getPersonLabels()).data}),b=(y==null?void 0:y.map(C=>C.name))||[];$.useEffect(()=>{const C=T=>{h.current&&!h.current.contains(T.target)&&d.current&&!d.current.contains(T.target)&&e(!1)};return document.addEventListener("mousedown",C),()=>{document.removeEventListener("mousedown",C)}},[]);const g=$.useMemo(()=>{if(!f)return[];let C=[...f];return r&&(C=C.filter(T=>T.is_favorite)),i.length>0&&(C=C.filter(T=>{const q=T.labels||[];return i.some(U=>q.includes(U))})),C.sort((T,q)=>{var L,G,W,V,te,pe,ge,qe;let U,re;if(a==="first_name"?(U=(((L=T.acf)==null?void 0:L.first_name)||T.first_name||"").toLowerCase(),re=(((G=q.acf)==null?void 0:G.first_name)||q.first_name||"").toLowerCase()):(U=(((W=T.acf)==null?void 0:W.last_name)||T.last_name||"").toLowerCase(),re=(((V=q.acf)==null?void 0:V.last_name)||q.last_name||"").toLowerCase()),U===re){const we=a==="first_name"?(((te=T.acf)==null?void 0:te.last_name)||T.last_name||"").toLowerCase():(((pe=T.acf)==null?void 0:pe.first_name)||T.first_name||"").toLowerCase(),Se=a==="first_name"?(((ge=q.acf)==null?void 0:ge.last_name)||q.last_name||"").toLowerCase():(((qe=q.acf)==null?void 0:qe.first_name)||q.first_name||"").toLowerCase(),Pe=we.localeCompare(Se);return l==="asc"?Pe:-Pe}const Y=U.localeCompare(re);return l==="asc"?Y:-Y})},[f,r,i,a,l]),v=r||i.length>0,x=C=>{s(T=>T.includes(C)?T.filter(q=>q!==C):[...T,C])},w=()=>{n(!1),s([])},_=$.useMemo(()=>{if(!g)return[];const C=g.map(T=>J2(T)).filter(Boolean);return[...new Set(C)]},[g]),{data:E}=ot({queryKey:["companies","batch",_.sort().join(",")],queryFn:async()=>_.length===0?[]:(await Ae.getCompanies({per_page:100,include:_.join(",")})).data,enabled:_.length>0}),O=$.useMemo(()=>{const C={};return E&&E.forEach(T=>{C[T.id]=Ui(T)}),C},[E]),S=$.useMemo(()=>{const C={};return g.forEach(T=>{const q=J2(T);q&&O[q]&&(C[T.id]=O[q])}),C},[g,O]),P=$.useMemo(()=>g.map(C=>C.id).filter(Boolean),[g]),N=Gf({queries:P.map(C=>({queryKey:["person-dates",C],queryFn:async()=>(await Ht.getPersonDates(C)).data,enabled:!!C}))}),I=$.useMemo(()=>{const C={};return N.forEach((T,q)=>{if(T.data&&P[q]){const U=P[q],re=T.data.some(Y=>{const L=Array.isArray(Y.date_type)?Y.date_type[0]:Y.date_type;return(L==null?void 0:L.toLowerCase())==="died"});C[U]=re}}),C},[N,P]);return c.jsxs("div",{className:"space-y-4",children:[c.jsx("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:c.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[c.jsxs("div",{className:"flex items-center gap-2 border border-gray-200 rounded-lg p-1",children:[c.jsxs("select",{value:a,onChange:C=>o(C.target.value),className:"text-sm border-0 bg-transparent focus:ring-0 focus:outline-none cursor-pointer",children:[c.jsx("option",{value:"first_name",children:"First Name"}),c.jsx("option",{value:"last_name",children:"Last Name"})]}),c.jsx("div",{className:"h-4 w-px bg-gray-300"}),c.jsx("button",{onClick:()=>u(l==="asc"?"desc":"asc"),className:"p-1 hover:bg-gray-100 rounded transition-colors",title:`Sort ${l==="asc"?"descending":"ascending"}`,children:l==="asc"?c.jsx(Ste,{className:"w-4 h-4 text-gray-600"}):c.jsx(_te,{className:"w-4 h-4 text-gray-600"})})]}),c.jsxs("div",{className:"relative",ref:d,children:[c.jsxs("button",{onClick:()=>e(!t),className:`btn-secondary ${v?"bg-primary-50 text-primary-700 border-primary-200":""}`,children:[c.jsx(B2,{className:"w-4 h-4 md:mr-2"}),c.jsx("span",{className:"hidden md:inline",children:"Filter"}),v&&c.jsx("span",{className:"ml-2 px-1.5 py-0.5 bg-primary-600 text-white text-xs rounded-full",children:i.length+(r?1:0)})]}),t&&c.jsx("div",{ref:h,className:"absolute top-full left-0 mt-2 w-64 bg-white border border-gray-200 rounded-lg shadow-lg z-50",children:c.jsxs("div",{className:"p-4 space-y-4",children:[c.jsx("div",{children:c.jsxs("label",{className:"flex items-center cursor-pointer",children:[c.jsx("input",{type:"checkbox",checked:r,onChange:C=>n(C.target.checked),className:"sr-only"}),c.jsx("div",{className:`flex items-center justify-center w-5 h-5 border-2 rounded mr-3 ${r?"bg-primary-600 border-primary-600":"border-gray-300"}`,children:r&&c.jsx(L2,{className:"w-3 h-3 text-white"})}),c.jsxs("div",{className:"flex items-center",children:[c.jsx(od,{className:"w-4 h-4 mr-2 text-yellow-400 fill-current"}),c.jsx("span",{className:"text-sm font-medium text-gray-900",children:"Favorites only"})]})]})}),b.length>0&&c.jsxs("div",{children:[c.jsx("h3",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wide mb-2",children:"Labels"}),c.jsx("div",{className:"space-y-1 max-h-48 overflow-y-auto",children:b.map(C=>c.jsxs("label",{className:"flex items-center cursor-pointer hover:bg-gray-50 p-1 rounded",children:[c.jsx("input",{type:"checkbox",checked:i.includes(C),onChange:()=>x(C),className:"sr-only"}),c.jsx("div",{className:`flex items-center justify-center w-5 h-5 border-2 rounded mr-3 ${i.includes(C)?"bg-primary-600 border-primary-600":"border-gray-300"}`,children:i.includes(C)&&c.jsx(L2,{className:"w-3 h-3 text-white"})}),c.jsx("span",{className:"text-sm text-gray-700",children:C})]},C))})]}),v&&c.jsx("button",{onClick:w,className:"w-full text-sm text-primary-600 hover:text-primary-700 font-medium pt-2 border-t border-gray-200",children:"Clear all filters"})]})})]}),v&&c.jsxs("div",{className:"flex flex-wrap gap-2",children:[r&&c.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 bg-primary-100 text-primary-800 rounded-full text-xs",children:[c.jsx(od,{className:"w-3 h-3"}),"Favorites",c.jsx("button",{onClick:()=>n(!1),className:"hover:text-primary-600",children:c.jsx(aa,{className:"w-3 h-3"})})]}),i.map(C=>c.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 bg-gray-100 text-gray-800 rounded-full text-xs",children:[C,c.jsx("button",{onClick:()=>x(C),className:"hover:text-gray-600",children:c.jsx(aa,{className:"w-3 h-3"})})]},C))]}),c.jsxs(he,{to:"/people/new",className:"btn-primary",children:[c.jsx(xr,{className:"w-4 h-4 md:mr-2"}),c.jsx("span",{className:"hidden md:inline",children:"Add Person"})]})]})}),p&&c.jsx("div",{className:"flex items-center justify-center h-64",children:c.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"})}),m&&c.jsx("div",{className:"card p-6 text-center",children:c.jsx("p",{className:"text-red-600",children:"Failed to load people."})}),!p&&!m&&(f==null?void 0:f.length)===0&&c.jsxs("div",{className:"card p-12 text-center",children:[c.jsx("div",{className:"w-12 h-12 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4",children:c.jsx(xr,{className:"w-6 h-6 text-gray-400"})}),c.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-1",children:"No people found"}),c.jsx("p",{className:"text-gray-500 mb-4",children:"Get started by adding your first person."}),c.jsxs(he,{to:"/people/new",className:"btn-primary",children:[c.jsx(xr,{className:"w-4 h-4 md:mr-2"}),c.jsx("span",{className:"hidden md:inline",children:"Add Person"})]})]}),!p&&!m&&(g==null?void 0:g.length)>0&&c.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:g.map(C=>c.jsx(vne,{person:C,companyName:S[C.id],isDeceased:I[C.id]||!1},C.id))}),!p&&!m&&(f==null?void 0:f.length)>0&&(g==null?void 0:g.length)===0&&c.jsxs("div",{className:"card p-12 text-center",children:[c.jsx("div",{className:"w-12 h-12 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4",children:c.jsx(B2,{className:"w-6 h-6 text-gray-400"})}),c.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-1",children:"No people match your filters"}),c.jsx("p",{className:"text-gray-500 mb-4",children:"Try adjusting your filters to see more results."}),c.jsx("button",{onClick:w,className:"btn-secondary",children:"Clear filters"})]})]})}function Ti(t){return t?String(t).replace(/\\/g,"\\\\").replace(/;/g,"\\;").replace(/,/g,"\\,").replace(/\n/g,"\\n"):""}function yne(t){return t?t.replace(/[^\d+]/g,""):""}function Z2(t){if(!t)return"";const e=new Date(t);if(isNaN(e.getTime()))return"";const r=e.getFullYear(),n=String(e.getMonth()+1).padStart(2,"0"),i=String(e.getDate()).padStart(2,"0");return`${r}${n}${i}`}function bne(t,e={}){if(!t||!Array.isArray(t))return{title:"",org:""};const r=t.find(i=>i.is_current);if(r){const i=r.company&&e[r.company]?e[r.company].name||e[r.company]:"";return{title:r.job_title||"",org:i}}const n=[...t].filter(i=>i.start_date).sort((i,s)=>new Date(s.start_date)-new Date(i.start_date));if(n.length>0){const i=n[0].company&&e[n[0].company]?e[n[0].company].name||e[n[0].company]:"";return{title:n[0].job_title||"",org:i}}return{title:"",org:""}}function wne(t,e={}){if(!t)throw new Error("Person data is required");const{companyMap:r={},personDates:n=[]}=e,i=t.acf||{},s=[];s.push("BEGIN:VCARD"),s.push("VERSION:3.0");const a=i.first_name||"",o=i.last_name||"",l=t.name||`${a} ${o}`.trim()||"Unknown";s.push(`FN:${Ti(l)}`),s.push(`N:${Ti(o)};${Ti(a)};;;`),i.nickname&&s.push(`NICKNAME:${Ti(i.nickname)}`),i.contact_info&&Array.isArray(i.contact_info)&&i.contact_info.forEach(h=>{if(!h.contact_value)return;const f=Ti(h.contact_value),p=h.contact_label?Ti(h.contact_label):"";switch(h.contact_type){case"email":const m=p?`EMAIL;TYPE=INTERNET,${p.toUpperCase()}`:"EMAIL;TYPE=INTERNET";s.push(`${m}:${f}`);break;case"phone":case"mobile":const y=h.contact_type==="mobile"?"CELL":"VOICE",b=p?`TEL;TYPE=${y},${p.toUpperCase()}`:`TEL;TYPE=${y}`,g=yne(h.contact_value);g&&s.push(`${b}:${g}`);break;case"address":s.push(`ADR;TYPE=HOME:;;${f};;;;`);break;case"website":case"linkedin":case"twitter":case"instagram":case"facebook":let v=h.contact_value;v.match(/^https?:\/\//i)||(v=`https://${v}`);const x=h.contact_type==="linkedin"?"PROFILE":"WORK",w=p?`URL;TYPE=${x},${p.toUpperCase()}`:`URL;TYPE=${x}`;s.push(`${w}:${Ti(v)}`);break}});const{title:u,org:d}=bne(i.work_history,r);if(d&&s.push(`ORG:${Ti(d)}`),u&&s.push(`TITLE:${Ti(u)}`),n&&Array.isArray(n)){const h=n.find(f=>{const p=Array.isArray(f.date_type)?f.date_type[0]:f.date_type;return(p==null?void 0:p.toLowerCase())==="birthday"});if(h!=null&&h.date_value){const f=Z2(h.date_value);f&&s.push(`BDAY:${f}`)}}if(t.thumbnail,t.modified){const h=Z2(t.modified);h&&s.push(`REV:${h}T000000Z`)}return s.push("END:VCARD"),s.join(`\r
`)}function xne(t,e={}){const{filename:r,...n}=e,i=wne(t,n),s=new Blob([i],{type:"text/vcard;charset=utf-8"}),a=URL.createObjectURL(s),o=document.createElement("a");o.href=a,o.download=r||`${t.name||"contact"}.vcf`.replace(/[^a-z0-9.-]/gi,"_"),document.body.appendChild(o),o.click(),document.body.removeChild(o),URL.revokeObjectURL(a)}function Uh(t){if(!t)return null;switch(t){case"male":return"";case"female":return"";case"non_binary":case"other":case"prefer_not_to_say":return"";default:return null}}function _ne(){var Lr,Qe,Bt,on,ln,j,D,F,oe,ne,Q,de,Re;const{id:t}=ls(),e=rn(),r=Kt(),{data:n,isLoading:i,error:s}=bu(t),{data:a}=cne(t),{data:o}=dne(t),l=fne(),u=pne(),d=mne(),h=Ad(),[f,p]=$.useState(!1),[m,y]=$.useState(""),[b,g]=$.useState(!1),v=$.useRef(null),{data:x}=ot({queryKey:["person-labels"],queryFn:async()=>(await Ae.getPersonLabels()).data}),w=x||[],_=(n==null?void 0:n.labels)||[],E=((on=(Bt=(Qe=(Lr=n==null?void 0:n._embedded)==null?void 0:Lr["wp:term"])==null?void 0:Qe.flat())==null?void 0:Bt.filter(k=>(k==null?void 0:k.taxonomy)==="person_label"))==null?void 0:on.map(k=>k.id))||[],O=w.filter(k=>!_.includes(k.name));yn((n==null?void 0:n.name)||((ln=n==null?void 0:n.title)==null?void 0:ln.rendered)||(n==null?void 0:n.title)||"Person");const S=o==null?void 0:o.find(k=>{const Z=Array.isArray(k.date_type)?k.date_type[0]:k.date_type;return(Z==null?void 0:Z.toLowerCase())==="birthday"}),P=S!=null&&S.date_value?new Date(S.date_value):null,N=o==null?void 0:o.find(k=>{const Z=Array.isArray(k.date_type)?k.date_type[0]:k.date_type;return(Z==null?void 0:Z.toLowerCase())==="died"}),I=N!=null&&N.date_value?new Date(N.date_value):null,C=!!I,T=P?tv(C?I:new Date,P):null,q=o?[...o].sort((k,Z)=>{const H=k.date_value?new Date(k.date_value):new Date(0),z=Z.date_value?new Date(Z.date_value):new Date(0);return H-z}):[],U=async()=>{if(window.confirm("Are you sure you want to delete this person?"))try{await l.mutateAsync(t),e("/people")}catch(k){console.error("Failed to delete person:",k),alert("Failed to delete person. Please try again.")}},re=k=>{if(!k)return"";let Z=k.replace(/[\u200B-\u200D\uFEFF\u200E\u200F\u202A-\u202E]/g,"");const H=Z.startsWith("+");return Z=Z.replace(/\D/g,""),H?`+${Z}`:Z},Y=async k=>{var z;if(!window.confirm("Are you sure you want to delete this contact detail?"))return;const Z=[...((z=n.acf)==null?void 0:z.contact_info)||[]];Z.splice(k,1);const H=ja(n.acf,{contact_info:Z});await h.mutateAsync({id:t,data:{acf:H}})},L=async k=>{var Yt,or,Or,Ko,_h,ms;if(!window.confirm("Are you sure you want to delete this relationship?"))return;const Z=(or=(Yt=n.acf)==null?void 0:Yt.relationships)==null?void 0:or[k];if(!Z)return;const H=Z.related_person,z=Z.relationship_type;let K=!0;H&&z&&(K=window.confirm("Do you also want to delete the inverse relationship from the other person?"));let B=null;if(!K&&H&&z)try{const[Br,Gu]=await Promise.all([Ae.getPerson(H,{_embed:!0}),Ae.getRelationshipTypes()]),Sm={};Gu.data.forEach(Yu=>{Sm[Yu.id]=Yu});const _n=Sm[z],xa=(Or=_n==null?void 0:_n.acf)==null?void 0:Or.inverse_relationship_type;if(xa){const Qu=(((Ko=Br.data.acf)==null?void 0:Ko.relationships)||[]).find(Ci=>{var WT,VT;const $Y=typeof Ci.related_person=="object"?(WT=Ci.related_person)==null?void 0:WT.ID:Ci.related_person,kY=typeof Ci.relationship_type=="object"?(VT=Ci.relationship_type)==null?void 0:VT.term_id:Ci.relationship_type;return $Y===parseInt(t)&&kY===xa});Qu&&(B={related_person:parseInt(t),relationship_type:xa,relationship_label:Qu.relationship_label||""})}}catch(Br){console.error("Failed to fetch inverse relationship:",Br)}const ae=[...((_h=n.acf)==null?void 0:_h.relationships)||[]];ae.splice(k,1);const Ne=ja(n.acf,{relationships:ae});if(await h.mutateAsync({id:t,data:{acf:Ne}}),!K&&B&&H){await new Promise(Br=>setTimeout(Br,500));try{const Br=await Ae.getPerson(H,{_embed:!0}),Gu=((ms=Br.data.acf)==null?void 0:ms.relationships)||[];if(!Gu.some(_n=>{var Qu,Ci;const xa=typeof _n.related_person=="object"?(Qu=_n.related_person)==null?void 0:Qu.ID:_n.related_person,Yu=typeof _n.relationship_type=="object"?(Ci=_n.relationship_type)==null?void 0:Ci.term_id:_n.relationship_type;return xa===B.related_person&&Yu===B.relationship_type})){const _n=[...Gu,B],xa=ja(Br.data.acf,{relationships:_n});await Ae.updatePerson(H,{acf:xa})}}catch(Br){console.error("Failed to restore inverse relationship:",Br)}}r.invalidateQueries({queryKey:["person",t]}),H&&r.invalidateQueries({queryKey:["person",H]}),r.invalidateQueries({queryKey:["people"]})},G=async k=>{window.confirm("Are you sure you want to delete this important date?")&&await d.mutateAsync({dateId:k,personId:t})},W=async k=>{window.confirm("Are you sure you want to delete this note?")&&await u.mutateAsync({noteId:k,personId:t})},V=async k=>{var z;if(!window.confirm("Are you sure you want to delete this work history item?"))return;const Z=[...((z=n.acf)==null?void 0:z.work_history)||[]];Z.splice(k,1);const H=ja(n.acf,{work_history:Z});await h.mutateAsync({id:t,data:{acf:H}})},te=async k=>{var z,K,B;const Z=(B=(K=(z=n==null?void 0:n._embedded)==null?void 0:z["wp:term"])==null?void 0:K.flat())==null?void 0:B.find(ae=>(ae==null?void 0:ae.taxonomy)==="person_label"&&(ae==null?void 0:ae.name)===k);if(!Z)return;const H=E.filter(ae=>ae!==Z.id);await h.mutateAsync({id:t,data:{person_label:H}})},pe=async()=>{if(!m)return;const k=w.find(H=>H.id.toString()===m);if(!k)return;const Z=[...E,k.id];await h.mutateAsync({id:t,data:{person_label:Z}}),y(""),p(!1)},ge=async k=>{var H;const Z=(H=k.target.files)==null?void 0:H[0];if(Z){if(!Z.type.startsWith("image/")){alert("Please select an image file");return}if(Z.size>5*1024*1024){alert("Image size must be less than 5MB");return}g(!0);try{await Ht.uploadPersonPhoto(t,Z),r.invalidateQueries({queryKey:["person",t]}),r.invalidateQueries({queryKey:["people"]})}catch(z){console.error("Failed to upload photo:",z),alert("Failed to upload photo. Please try again.")}finally{g(!1),v.current&&(v.current.value="")}}},qe=()=>{if(n)try{xne(n,{companyMap:it,personDates:o||[]})}catch(k){console.error("Failed to export vCard:",k),alert("Failed to export vCard. Please try again.")}},we=((D=(j=n==null?void 0:n.acf)==null?void 0:j.work_history)==null?void 0:D.map(k=>k.company).filter(Boolean))||[],Se=Gf({queries:we.map(k=>({queryKey:["company",k],queryFn:async()=>(await Ae.getCompany(k,{_embed:!0})).data,enabled:!!k}))}),Pe=((oe=(F=n==null?void 0:n.acf)==null?void 0:F.relationships)==null?void 0:oe.map(k=>k.related_person).filter(Boolean))||[],dt=Gf({queries:Pe.map(k=>({queryKey:["person-dates",k],queryFn:async()=>(await Ht.getPersonDates(k)).data,enabled:!!k}))}),Ye=$.useMemo(()=>{const k={};return dt.forEach((Z,H)=>{if(Z.data&&Pe[H]){const z=Pe[H],K=Z.data.find(B=>{const ae=Array.isArray(B.date_type)?B.date_type[0]:B.date_type;return(ae==null?void 0:ae.toLowerCase())==="birthday"});if(K!=null&&K.date_value){const B=new Date(K.date_value);k[z]=tv(new Date,B)}else k[z]=-1}}),k},[dt,Pe]),Lt=$.useMemo(()=>{const k={};return dt.forEach((Z,H)=>{if(Z.data&&Pe[H]){const z=Pe[H],K=Z.data.some(B=>{const ae=Array.isArray(B.date_type)?B.date_type[0]:B.date_type;return(ae==null?void 0:ae.toLowerCase())==="died"});k[z]=K}}),k},[dt,Pe]),ar=$.useMemo(()=>{var k;return(k=n==null?void 0:n.acf)!=null&&k.relationships?[...n.acf.relationships].sort((Z,H)=>{const z=Ye[Z.related_person]??-1,K=Ye[H.related_person]??-1;return z===-1&&K===-1?0:z===-1?1:K===-1?-1:K-z}):[]},[(ne=n==null?void 0:n.acf)==null?void 0:ne.relationships,Ye]),it={};Se.forEach((k,Z)=>{var H,z,K,B,ae,Ne,Yt,or,Or;if(k.data){const Ko=we[Z];it[Ko]={name:Ui(k.data),logo:((K=(z=(H=k.data._embedded)==null?void 0:H["wp:featuredmedia"])==null?void 0:z[0])==null?void 0:K.source_url)||((Or=(or=(Yt=(Ne=(ae=(B=k.data._embedded)==null?void 0:B["wp:featuredmedia"])==null?void 0:ae[0])==null?void 0:Ne.media_details)==null?void 0:Yt.sizes)==null?void 0:or.thumbnail)==null?void 0:Or.source_url)||null}}});const Er=$.useMemo(()=>{var k;return(k=n==null?void 0:n.acf)!=null&&k.work_history?[...n.acf.work_history].map((Z,H)=>({...Z,originalIndex:H})).sort((Z,H)=>{if(Z.is_current&&!H.is_current)return-1;if(!Z.is_current&&H.is_current)return 1;const z=Z.start_date?new Date(Z.start_date):new Date(0);return(H.start_date?new Date(H.start_date):new Date(0))-z}):[]},[(Q=n==null?void 0:n.acf)==null?void 0:Q.work_history]);if($.useEffect(()=>{(n==null?void 0:n.status)==="trash"&&e("/people",{replace:!0})},[n,e]),i)return c.jsx("div",{className:"flex items-center justify-center h-64",children:c.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"})});if(s||!n)return c.jsxs("div",{className:"card p-6 text-center",children:[c.jsx("p",{className:"text-red-600",children:"Failed to load person."}),c.jsx(he,{to:"/people",className:"btn-secondary mt-4",children:"Back to People"})]});if(n.status==="trash")return null;const Ke=n.acf||{};return c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs(he,{to:"/people",className:"flex items-center text-gray-600 hover:text-gray-900",children:[c.jsx(qn,{className:"w-4 h-4 md:mr-2"}),c.jsx("span",{className:"hidden md:inline",children:"Back to People"})]}),c.jsxs("div",{className:"flex gap-2",children:[c.jsxs("button",{onClick:qe,className:"btn-secondary",children:[c.jsx(ZP,{className:"w-4 h-4 md:mr-2"}),c.jsx("span",{className:"hidden md:inline",children:"Export vCard"})]}),c.jsxs(he,{to:`/people/${t}/edit`,className:"btn-secondary",children:[c.jsx(mK,{className:"w-4 h-4 md:mr-2"}),c.jsx("span",{className:"hidden md:inline",children:"Edit"})]}),c.jsxs("button",{onClick:U,className:"btn-danger",children:[c.jsx(xs,{className:"w-4 h-4 md:mr-2"}),c.jsx("span",{className:"hidden md:inline",children:"Delete"})]})]})]}),c.jsxs("div",{className:"card p-6 relative",children:[c.jsx("div",{className:"absolute top-4 right-4",children:c.jsx(he,{to:`/people/${t}/family-tree`,className:"btn-secondary text-sm",children:"View Family Tree"})}),c.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center gap-4",children:[c.jsxs("div",{className:"relative group",children:[n.thumbnail?c.jsx("img",{src:n.thumbnail,alt:n.name,className:"w-24 h-24 rounded-full object-cover"}):c.jsx("div",{className:"w-24 h-24 bg-gray-200 rounded-full flex items-center justify-center",children:c.jsx("span",{className:"text-3xl font-medium text-gray-500",children:((de=n.first_name)==null?void 0:de[0])||"?"})}),c.jsx("div",{className:"absolute inset-0 rounded-full bg-black bg-opacity-0 group-hover:bg-opacity-50 transition-all duration-200 flex items-center justify-center cursor-pointer",onClick:()=>{var k;return(k=v.current)==null?void 0:k.click()},children:b?c.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-white"}):c.jsx(mf,{className:"w-6 h-6 text-white opacity-0 group-hover:opacity-100 transition-opacity"})}),c.jsx("input",{ref:v,type:"file",accept:"image/*",onChange:ge,className:"hidden",disabled:b})]}),c.jsxs("div",{className:"flex-1",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsxs("h1",{className:"text-2xl font-bold",children:[n.name,C&&c.jsx("span",{className:"ml-1 text-gray-500",children:""})]}),n.is_favorite&&c.jsx(od,{className:"w-5 h-5 text-yellow-400 fill-current"})]}),Ke.nickname&&c.jsxs("p",{className:"text-gray-500",children:['"',Ke.nickname,'"']}),C&&I&&T!==null&&c.jsxs("p",{className:"text-gray-500 text-sm mt-1",children:[Uh(Ke.gender)&&c.jsx("span",{className:"mr-1",children:Uh(Ke.gender)}),"Died ",mi(I,"MMMM d, yyyy")," at age ",T]}),!C&&T!==null&&c.jsxs("p",{className:"text-gray-500 text-sm mt-1",children:[Uh(Ke.gender)&&c.jsx("span",{className:"mr-1",children:Uh(Ke.gender)}),T," years old"]}),c.jsx("div",{className:"mt-2",children:c.jsxs("div",{className:"flex flex-wrap gap-2 items-center",children:[n.labels&&n.labels.length>0&&n.labels.map((k,Z)=>c.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 rounded-full text-xs font-medium bg-gray-100 text-gray-700 group/label",children:[k,c.jsx("button",{onClick:()=>te(k),className:"opacity-0 group-hover/label:opacity-100 transition-opacity hover:bg-gray-200 rounded-full p-0.5",title:"Remove label",children:c.jsx(aa,{className:"w-3 h-3"})})]},Z)),f?c.jsxs("div",{className:"inline-flex items-center gap-2",children:[c.jsxs("select",{value:m,onChange:k=>y(k.target.value),className:"text-xs border border-gray-300 rounded px-2 py-1",autoFocus:!0,disabled:O.length===0,children:[c.jsx("option",{value:"",children:"Select a label..."}),O.map(k=>c.jsx("option",{value:k.id,children:k.name},k.id))]}),c.jsx("button",{onClick:pe,disabled:!m,className:"text-xs px-2 py-1 bg-primary-600 text-white rounded hover:bg-primary-700 disabled:opacity-50 disabled:cursor-not-allowed",children:"Add"}),c.jsx("button",{onClick:()=>{p(!1),y("")},className:"text-xs px-2 py-1 bg-gray-200 text-gray-700 rounded hover:bg-gray-300",children:"Cancel"})]}):O.length>0&&c.jsxs("button",{onClick:()=>p(!0),className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-gray-100 text-gray-700 hover:bg-gray-200 transition-colors",children:[c.jsx(xr,{className:"w-3 h-3 mr-1"}),"Add label"]})]})})]})]})]}),c.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[c.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[!C&&c.jsxs("div",{className:"card p-6",children:[c.jsxs("div",{className:"flex items-center justify-between mb-4",children:[c.jsx("h2",{className:"font-semibold",children:"Contact Information"}),c.jsxs(he,{to:`/people/${t}/contact/new`,className:"btn-secondary text-sm",children:[c.jsx(xr,{className:"w-4 h-4 md:mr-1"}),c.jsx("span",{className:"hidden md:inline",children:"Add contact detail"})]})]}),((Re=Ke.contact_info)==null?void 0:Re.length)>0?c.jsx("div",{className:"space-y-2",children:(()=>{const k=["facebook","linkedin","instagram","twitter","website"],Z=Ke.contact_info.filter(B=>k.includes(B.contact_type)),H=Ke.contact_info.filter(B=>!k.includes(B.contact_type)),z=B=>{switch(B){case"facebook":return Nte;case"linkedin":return $te;case"instagram":return Rte;case"twitter":return Ute;case"website":return bc;default:return bc}},K=B=>{switch(B){case"facebook":return"text-[#1877F2]";case"linkedin":return"text-[#0077B5]";case"instagram":return"text-[#E4405F]";case"twitter":return"text-[#1DA1F2]";case"website":return"text-gray-600";default:return"text-gray-600"}};return c.jsxs(c.Fragment,{children:[H.map((B,ae)=>{const Ne=Ke.contact_info.indexOf(B),Yt=B.contact_type==="email"?Dte:B.contact_type==="phone"||B.contact_type==="mobile"?Lte:B.contact_type==="address"?qte:bc,or=B.contact_type==="email",Or=B.contact_type==="phone"||B.contact_type==="mobile",Ko=B.contact_type==="mobile",_h=B.contact_type==="address";let ms=null,Br=null;return or?ms=`mailto:${B.contact_value}`:Or?ms=`tel:${re(B.contact_value)}`:_h&&(ms=`https://www.google.com/maps/search/?api=1&query=${encodeURIComponent(B.contact_value)}`,Br="_blank"),c.jsx("div",{className:"group",children:c.jsxs("div",{className:"flex items-center rounded-md -mx-2 px-2 py-1.5 group-hover:bg-gray-50 transition-colors",children:[c.jsx(Yt,{className:"w-4 h-4 text-gray-400 mr-3 flex-shrink-0"}),c.jsxs("div",{className:"flex-1 min-w-0 flex items-center gap-2",children:[c.jsxs("span",{className:"text-sm text-gray-500",children:[B.contact_label||B.contact_type,": "]}),ms?c.jsx("a",{href:ms,target:Br||void 0,rel:Br==="_blank"?"noopener noreferrer":void 0,className:"text-primary-600 hover:text-primary-700 hover:underline",children:B.contact_value}):c.jsx("span",{children:B.contact_value}),Ko&&c.jsx("a",{href:`https://wa.me/${re(B.contact_value)}`,target:"_blank",rel:"noopener noreferrer",className:"flex-shrink-0 hover:opacity-80 transition-opacity",title:"Open WhatsApp",children:c.jsx(Ate,{className:"w-4 h-4 text-[#25D366]"})})]}),c.jsxs("div",{className:"flex items-center gap-1 opacity-0 group-hover:opacity-100 transition-opacity ml-2",children:[c.jsx(he,{to:`/people/${t}/contact/${Ne}/edit`,className:"p-1 hover:bg-gray-100 rounded",title:"Edit contact detail",children:c.jsx(ac,{className:"w-4 h-4 text-gray-400 hover:text-gray-600"})}),c.jsx("button",{onClick:()=>Y(Ne),className:"p-1 hover:bg-red-50 rounded",title:"Delete contact detail",children:c.jsx(xs,{className:"w-4 h-4 text-gray-400 hover:text-red-600"})})]})]})},Ne)}),Z.length>0&&c.jsx("div",{className:"group",children:c.jsxs("div",{className:"flex items-start rounded-md -mx-2 px-2 py-1.5 group-hover:bg-gray-50 transition-colors",children:[c.jsx(bc,{className:"w-4 h-4 text-gray-400 mr-3 flex-shrink-0 mt-0.5"}),c.jsxs("div",{className:"flex-1 min-w-0",children:[c.jsx("span",{className:"text-sm text-gray-500 block mb-2",children:"Social Links:"}),c.jsx("div",{className:"flex items-center gap-3 flex-wrap",children:Z.map((B,ae)=>{const Ne=Ke.contact_info.indexOf(B),Yt=z(B.contact_type),or=K(B.contact_type);let Or=B.contact_value;return Or.match(/^https?:\/\//i)||(Or=`https://${Or}`),c.jsx("a",{href:Or,target:"_blank",rel:"noopener noreferrer",className:`flex-shrink-0 hover:opacity-80 transition-opacity ${or}`,title:`${B.contact_type.charAt(0).toUpperCase()+B.contact_type.slice(1)}: ${B.contact_value}`,children:c.jsx(Yt,{className:"w-5 h-5"})},Ne)})})]}),c.jsx("div",{className:"flex items-center gap-1 opacity-0 group-hover:opacity-100 transition-opacity ml-2",children:Z.length>0&&c.jsx(c.Fragment,{children:c.jsx(he,{to:`/people/${t}/contact/${Ke.contact_info.indexOf(Z[0])}/edit`,className:"p-1 hover:bg-gray-100 rounded",title:"Edit social links",children:c.jsx(ac,{className:"w-4 h-4 text-gray-400 hover:text-gray-600"})})})})]})})]})})()}):c.jsx("p",{className:"text-sm text-gray-500 text-center py-4",children:"No contact information yet."})]}),c.jsxs("div",{className:"card p-6",children:[c.jsxs("div",{className:"flex items-center justify-between mb-4",children:[c.jsx("h2",{className:"font-semibold",children:"Important Dates"}),c.jsxs(he,{to:`/dates/new?person=${t}`,className:"btn-secondary text-sm",children:[c.jsx(xr,{className:"w-4 h-4 md:mr-1"}),c.jsx("span",{className:"hidden md:inline",children:"Add Important Date"})]})]}),q.length>0?c.jsx("div",{className:"space-y-3",children:q.map(k=>{const Z=Array.isArray(k.date_type)?k.date_type[0]:k.date_type,H=(Z==null?void 0:Z.toLowerCase())||"",z=H.includes("died"),K=H.includes("wedding")||H.includes("marriage")?Tte:H.includes("birthday")?Cte:fo;return c.jsxs("div",{className:"flex items-start group",children:[c.jsx("div",{className:"w-8 h-8 bg-gray-100 rounded-lg flex items-center justify-center mr-3",children:z?c.jsx("span",{className:"text-gray-500 text-lg font-semibold",children:""}):c.jsx(K,{className:"w-4 h-4 text-gray-500"})}),c.jsxs("div",{className:"flex-1",children:[c.jsx("p",{className:"text-sm font-medium",children:k.title}),c.jsx("p",{className:"text-xs text-gray-500",children:k.date_value&&mi(new Date(k.date_value),"MMMM d, yyyy")}),Z&&c.jsx("p",{className:"text-xs text-gray-400 capitalize",children:Z})]}),c.jsxs("div",{className:"flex items-center gap-1 opacity-0 group-hover:opacity-100 transition-opacity",children:[c.jsx(he,{to:`/dates/${k.id}/edit`,className:"p-1 hover:bg-gray-100 rounded",title:"Edit date",children:c.jsx(ac,{className:"w-4 h-4 text-gray-400 hover:text-gray-600"})}),c.jsx("button",{onClick:()=>G(k.id),className:"p-1 hover:bg-red-50 rounded",title:"Delete date",children:c.jsx(xs,{className:"w-4 h-4 text-gray-400 hover:text-red-600"})})]})]},k.id)})}):c.jsx("p",{className:"text-sm text-gray-500 text-center py-4",children:"No important dates yet."})]}),c.jsxs("div",{className:"card p-6",children:[c.jsxs("div",{className:"flex items-center justify-between mb-4",children:[c.jsx("h2",{className:"font-semibold",children:"Work History"}),c.jsxs(he,{to:`/people/${t}/work-history/new`,className:"btn-secondary text-sm",children:[c.jsx(xr,{className:"w-4 h-4 md:mr-1"}),c.jsx("span",{className:"hidden md:inline",children:"Add Work History"})]})]}),(Er==null?void 0:Er.length)>0?c.jsx("div",{className:"space-y-4",children:Er.map((k,Z)=>{const H=k.company?it[k.company]:null,z=k.originalIndex;return c.jsxs("div",{className:"flex items-start group",children:[H!=null&&H.logo?c.jsx("img",{src:H.logo,alt:H.name,className:"w-20 h-20 rounded-lg object-contain bg-white mr-3 flex-shrink-0"}):c.jsx("div",{className:"w-20 h-20 bg-white rounded-lg flex items-center justify-center mr-3 flex-shrink-0 border border-gray-200",children:c.jsx(ns,{className:"w-10 h-10 text-gray-500"})}),c.jsxs("div",{className:"flex-1 min-w-0",children:[c.jsx("p",{className:"font-medium",children:k.job_title}),k.company&&H&&c.jsx(he,{to:`/companies/${k.company}`,className:"text-sm text-primary-600 hover:underline",children:H.name}),c.jsxs("p",{className:"text-sm text-gray-500",children:[k.start_date&&mi(new Date(k.start_date),"MMM yyyy")," - ",k.is_current?"Present":k.end_date?mi(new Date(k.end_date),"MMM yyyy"):""]}),k.description&&c.jsx("p",{className:"text-sm text-gray-600 mt-1",children:k.description})]}),c.jsxs("div",{className:"flex items-center gap-1 opacity-0 group-hover:opacity-100 transition-opacity ml-2",children:[c.jsx(he,{to:`/people/${t}/work-history/${z}/edit`,className:"p-1 hover:bg-gray-100 rounded",title:"Edit work history",children:c.jsx(ac,{className:"w-4 h-4 text-gray-400 hover:text-gray-600"})}),c.jsx("button",{onClick:()=>V(z),className:"p-1 hover:bg-red-50 rounded",title:"Delete work history",children:c.jsx(xs,{className:"w-4 h-4 text-gray-400 hover:text-red-600"})})]})]},z)})}):c.jsx("p",{className:"text-sm text-gray-500 text-center py-4",children:"No work history yet."})]}),c.jsxs("div",{className:"card p-6",children:[c.jsxs("div",{className:"flex items-center justify-between mb-4",children:[c.jsx("h2",{className:"font-semibold",children:"Timeline"}),c.jsxs("button",{className:"btn-secondary text-sm",children:[c.jsx(xr,{className:"w-4 h-4 md:mr-1"}),c.jsx("span",{className:"hidden md:inline",children:"Add Note"})]})]}),(a==null?void 0:a.length)>0?c.jsx("div",{className:"space-y-4",children:a.map(k=>c.jsxs("div",{className:"border-l-2 border-gray-200 pl-4 pb-4 group",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-500",children:[c.jsx("span",{className:"capitalize",children:k.type}),c.jsx("span",{children:""}),c.jsx("span",{children:mi(new Date(k.created),"MMM d, yyyy")})]}),c.jsx("button",{onClick:()=>W(k.id),className:"opacity-0 group-hover:opacity-100 transition-opacity p-1 hover:bg-red-50 rounded",title:"Delete note",children:c.jsx(xs,{className:"w-4 h-4 text-gray-400 hover:text-red-600"})})]}),c.jsx("p",{className:"mt-1",children:k.content})]},k.id))}):c.jsx("p",{className:"text-sm text-gray-500 text-center py-4",children:"No notes or activities yet."})]})]}),c.jsxs("div",{className:"space-y-6",children:[(Ke.how_we_met||Ke.met_date)&&c.jsxs("div",{className:"card p-6",children:[c.jsx("h2",{className:"font-semibold mb-3",children:"How We Met"}),Ke.met_date&&c.jsxs("p",{className:"text-sm text-gray-500 mb-2",children:[c.jsx(fo,{className:"w-4 h-4 inline mr-1"}),mi(new Date(Ke.met_date),"MMMM d, yyyy")]}),Ke.how_we_met&&c.jsx("p",{className:"text-sm",children:Ke.how_we_met})]}),c.jsxs("div",{className:"card p-6",children:[c.jsxs("div",{className:"flex items-center justify-between mb-3",children:[c.jsx("h2",{className:"font-semibold",children:"Relationships"}),c.jsxs(he,{to:`/people/${t}/relationship/new`,className:"btn-secondary text-sm",children:[c.jsx(xr,{className:"w-4 h-4 md:mr-1"}),c.jsx("span",{className:"hidden md:inline",children:"Add Relationship"})]})]}),(ar==null?void 0:ar.length)>0?c.jsx("div",{className:"space-y-2",children:ar.map((k,Z)=>{var z,K,B;const H=((K=(z=n==null?void 0:n.acf)==null?void 0:z.relationships)==null?void 0:K.findIndex(ae=>ae.related_person===k.related_person&&ae.relationship_type===k.relationship_type))??Z;return c.jsxs("div",{className:"flex items-center p-2 rounded hover:bg-gray-50 group",children:[c.jsxs(he,{to:`/people/${k.related_person}`,className:"flex items-center flex-1 min-w-0",children:[k.person_thumbnail?c.jsx("img",{src:k.person_thumbnail,alt:Zn(k.person_name)||"",className:"w-8 h-8 rounded-full object-cover mr-2"}):c.jsx("div",{className:"w-8 h-8 bg-gray-200 rounded-full mr-2 flex items-center justify-center",children:c.jsx("span",{className:"text-xs font-medium text-gray-500",children:((B=Zn(k.person_name))==null?void 0:B[0])||"?"})}),c.jsxs("div",{children:[c.jsxs("p",{className:"text-sm font-medium",children:[Zn(k.person_name)||`Person #${k.related_person}`,Lt[k.related_person]&&c.jsx("span",{className:"text-gray-400 ml-1",title:"Deceased",children:""})]}),c.jsx("p",{className:"text-xs text-gray-500",children:Zn(k.relationship_name||k.relationship_label)})]})]}),c.jsxs("div",{className:"flex items-center gap-1 opacity-0 group-hover:opacity-100 transition-opacity ml-2",children:[c.jsx(he,{to:`/people/${t}/relationship/${H}/edit`,className:"p-1 hover:bg-gray-100 rounded",title:"Edit relationship",children:c.jsx(ac,{className:"w-4 h-4 text-gray-400 hover:text-gray-600"})}),c.jsx("button",{onClick:()=>L(H),className:"p-1 hover:bg-red-50 rounded",title:"Delete relationship",children:c.jsx(xs,{className:"w-4 h-4 text-gray-400 hover:text-red-600"})})]})]},Z)})}):c.jsx("p",{className:"text-sm text-gray-500 text-center py-4",children:"No relationships yet."})]})]})]})]})}var Fd=t=>t.type==="checkbox",$a=t=>t instanceof Date,Wr=t=>t==null;const EK=t=>typeof t=="object";var jt=t=>!Wr(t)&&!Array.isArray(t)&&EK(t)&&!$a(t),OK=t=>jt(t)&&t.target?Fd(t.target)?t.target.checked:t.target.value:t,Sne=t=>t.substring(0,t.search(/\.\d+(\.|$)/))||t,PK=(t,e)=>t.has(Sne(e)),Ene=t=>{const e=t.constructor&&t.constructor.prototype;return jt(e)&&e.hasOwnProperty("isPrototypeOf")},RC=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function zt(t){if(t instanceof Date)return new Date(t);const e=typeof FileList<"u"&&t instanceof FileList;if(RC&&(t instanceof Blob||e))return t;const r=Array.isArray(t);if(!r&&!(jt(t)&&Ene(t)))return t;const n=r?[]:Object.create(Object.getPrototypeOf(t));for(const i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=zt(t[i]));return n}var Bp=t=>/^\w*$/.test(t),_t=t=>t===void 0,jC=t=>Array.isArray(t)?t.filter(Boolean):[],$C=t=>jC(t.replace(/["|']|\]/g,"").split(/\.|\[/)),le=(t,e,r)=>{if(!e||!jt(t))return r;const n=(Bp(e)?[e]:$C(e)).reduce((i,s)=>Wr(i)?i:i[s],t);return _t(n)||n===t?_t(t[e])?r:t[e]:n},dn=t=>typeof t=="boolean",$r=t=>typeof t=="function",Ze=(t,e,r)=>{let n=-1;const i=Bp(e)?[e]:$C(e),s=i.length,a=s-1;for(;++n<s;){const o=i[n];let l=r;if(n!==a){const u=t[o];l=jt(u)||Array.isArray(u)?u:isNaN(+i[n+1])?{}:[]}if(o==="__proto__"||o==="constructor"||o==="prototype")return;t[o]=l,t=t[o]}};const Xf={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},Xn={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},Ii={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},NK=Ce.createContext(null);NK.displayName="HookFormContext";const kC=()=>Ce.useContext(NK);var CK=(t,e,r,n=!0)=>{const i={defaultValues:e._defaultValues};for(const s in t)Object.defineProperty(i,s,{get:()=>{const a=s;return e._proxyFormState[a]!==Xn.all&&(e._proxyFormState[a]=!n||Xn.all),r&&(r[a]=!0),t[a]}});return i};const DC=typeof window<"u"?Ce.useLayoutEffect:Ce.useEffect;function One(t){const e=kC(),{control:r=e.control,disabled:n,name:i,exact:s}=t||{},[a,o]=Ce.useState(r._formState),l=Ce.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1});return DC(()=>r._subscribe({name:i,formState:l.current,exact:s,callback:u=>{!n&&o({...r._formState,...u})}}),[i,n,s]),Ce.useEffect(()=>{l.current.isValid&&r._setValid(!0)},[r]),Ce.useMemo(()=>CK(a,r,l.current,!1),[a,r])}var hn=t=>typeof t=="string",eN=(t,e,r,n,i)=>hn(t)?(n&&e.watch.add(t),le(r,t,i)):Array.isArray(t)?t.map(s=>(n&&e.watch.add(s),le(r,s))):(n&&(e.watchAll=!0),r),tN=t=>Wr(t)||!EK(t);function Jn(t,e,r=new WeakSet){if(tN(t)||tN(e))return Object.is(t,e);if($a(t)&&$a(e))return t.getTime()===e.getTime();const n=Object.keys(t),i=Object.keys(e);if(n.length!==i.length)return!1;if(r.has(t)||r.has(e))return!0;r.add(t),r.add(e);for(const s of n){const a=t[s];if(!i.includes(s))return!1;if(s!=="ref"){const o=e[s];if($a(a)&&$a(o)||jt(a)&&jt(o)||Array.isArray(a)&&Array.isArray(o)?!Jn(a,o,r):!Object.is(a,o))return!1}}return!0}function Pne(t){const e=kC(),{control:r=e.control,name:n,defaultValue:i,disabled:s,exact:a,compute:o}=t||{},l=Ce.useRef(i),u=Ce.useRef(o),d=Ce.useRef(void 0),h=Ce.useRef(r),f=Ce.useRef(n);u.current=o;const[p,m]=Ce.useState(()=>{const w=r._getWatch(n,l.current);return u.current?u.current(w):w}),y=Ce.useCallback(w=>{const _=eN(n,r._names,w||r._formValues,!1,l.current);return u.current?u.current(_):_},[r._formValues,r._names,n]),b=Ce.useCallback(w=>{if(!s){const _=eN(n,r._names,w||r._formValues,!1,l.current);if(u.current){const E=u.current(_);Jn(E,d.current)||(m(E),d.current=E)}else m(_)}},[r._formValues,r._names,s,n]);DC(()=>((h.current!==r||!Jn(f.current,n))&&(h.current=r,f.current=n,b()),r._subscribe({name:n,formState:{values:!0},exact:a,callback:w=>{b(w.values)}})),[r,a,n,b]),Ce.useEffect(()=>r._removeUnmounted());const g=h.current!==r,v=f.current,x=Ce.useMemo(()=>{if(s)return null;const w=!g&&!Jn(v,n);return g||w?y():null},[s,g,n,v,y]);return x!==null?x:p}function Nne(t){const e=kC(),{name:r,disabled:n,control:i=e.control,shouldUnregister:s,defaultValue:a,exact:o=!0}=t,l=PK(i._names.array,r),u=Ce.useMemo(()=>le(i._formValues,r,le(i._defaultValues,r,a)),[i,r,a]),d=Pne({control:i,name:r,defaultValue:u,exact:o}),h=One({control:i,name:r,exact:o}),f=Ce.useRef(t),p=Ce.useRef(void 0),m=Ce.useRef(i.register(r,{...t.rules,value:d,...dn(t.disabled)?{disabled:t.disabled}:{}}));f.current=t;const y=Ce.useMemo(()=>Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!le(h.errors,r)},isDirty:{enumerable:!0,get:()=>!!le(h.dirtyFields,r)},isTouched:{enumerable:!0,get:()=>!!le(h.touchedFields,r)},isValidating:{enumerable:!0,get:()=>!!le(h.validatingFields,r)},error:{enumerable:!0,get:()=>le(h.errors,r)}}),[h,r]),b=Ce.useCallback(w=>m.current.onChange({target:{value:OK(w),name:r},type:Xf.CHANGE}),[r]),g=Ce.useCallback(()=>m.current.onBlur({target:{value:le(i._formValues,r),name:r},type:Xf.BLUR}),[r,i._formValues]),v=Ce.useCallback(w=>{const _=le(i._fields,r);_&&_._f&&w&&(_._f.ref={focus:()=>$r(w.focus)&&w.focus(),select:()=>$r(w.select)&&w.select(),setCustomValidity:E=>$r(w.setCustomValidity)&&w.setCustomValidity(E),reportValidity:()=>$r(w.reportValidity)&&w.reportValidity()})},[i._fields,r]),x=Ce.useMemo(()=>({name:r,value:d,...dn(n)||h.disabled?{disabled:h.disabled||n}:{},onChange:b,onBlur:g,ref:v}),[r,n,h.disabled,b,g,v,d]);return Ce.useEffect(()=>{const w=i._options.shouldUnregister||s,_=p.current;_&&_!==r&&!l&&i.unregister(_),i.register(r,{...f.current.rules,...dn(f.current.disabled)?{disabled:f.current.disabled}:{}});const E=(O,S)=>{const P=le(i._fields,O);P&&P._f&&(P._f.mount=S)};if(E(r,!0),w){const O=zt(le(i._options.defaultValues,r,f.current.defaultValue));Ze(i._defaultValues,r,O),_t(le(i._formValues,r))&&Ze(i._formValues,r,O)}return!l&&i.register(r),p.current=r,()=>{(l?w&&!i._state.action:w)?i.unregister(r):E(r,!1)}},[r,i,l,s]),Ce.useEffect(()=>{i._setDisabledField({disabled:n,name:r})},[n,r,i]),Ce.useMemo(()=>({field:x,formState:h,fieldState:y}),[x,h,y])}const Jf=t=>t.render(Nne(t));var Cne=(t,e,r,n,i)=>e?{...r[t],types:{...r[t]&&r[t].types?r[t].types:{},[n]:i||!0}}:{},Rc=t=>Array.isArray(t)?t:[t],eR=()=>{let t=[];return{get observers(){return t},next:i=>{for(const s of t)s.next&&s.next(i)},subscribe:i=>(t.push(i),{unsubscribe:()=>{t=t.filter(s=>s!==i)}}),unsubscribe:()=>{t=[]}}};function TK(t,e){const r={};for(const n in t)if(t.hasOwnProperty(n)){const i=t[n],s=e[n];if(i&&jt(i)&&s){const a=TK(i,s);jt(a)&&(r[n]=a)}else t[n]&&(r[n]=s)}return r}var Cr=t=>jt(t)&&!Object.keys(t).length,qC=t=>t.type==="file",Zf=t=>{if(!RC)return!1;const e=t?t.ownerDocument:0;return t instanceof(e&&e.defaultView?e.defaultView.HTMLElement:HTMLElement)},IK=t=>t.type==="select-multiple",MC=t=>t.type==="radio",Tne=t=>MC(t)||Fd(t),nv=t=>Zf(t)&&t.isConnected;function Ine(t,e){const r=e.slice(0,-1).length;let n=0;for(;n<r;)t=_t(t)?n++:t[e[n++]];return t}function Rne(t){for(const e in t)if(t.hasOwnProperty(e)&&!_t(t[e]))return!1;return!0}function It(t,e){const r=Array.isArray(e)?e:Bp(e)?[e]:$C(e),n=r.length===1?t:Ine(t,r),i=r.length-1,s=r[i];return n&&delete n[s],i!==0&&(jt(n)&&Cr(n)||Array.isArray(n)&&Rne(n))&&It(t,r.slice(0,-1)),t}var jne=t=>{for(const e in t)if($r(t[e]))return!0;return!1};function RK(t){return Array.isArray(t)||jt(t)&&!jne(t)}function rN(t,e={}){for(const r in t){const n=t[r];RK(n)?(e[r]=Array.isArray(n)?[]:{},rN(n,e[r])):_t(n)||(e[r]=!0)}return e}function tl(t,e,r){r||(r=rN(e));for(const n in t){const i=t[n];if(RK(i))_t(e)||tN(r[n])?r[n]=rN(i,Array.isArray(i)?[]:{}):tl(i,Wr(e)?{}:e[n],r[n]);else{const s=e[n];r[n]=!Jn(i,s)}}return r}const tR={value:!1,isValid:!1},rR={value:!0,isValid:!0};var jK=t=>{if(Array.isArray(t)){if(t.length>1){const e=t.filter(r=>r&&r.checked&&!r.disabled).map(r=>r.value);return{value:e,isValid:!!e.length}}return t[0].checked&&!t[0].disabled?t[0].attributes&&!_t(t[0].attributes.value)?_t(t[0].value)||t[0].value===""?rR:{value:t[0].value,isValid:!0}:rR:tR}return tR},$K=(t,{valueAsNumber:e,valueAsDate:r,setValueAs:n})=>_t(t)?t:e?t===""?NaN:t&&+t:r&&hn(t)?new Date(t):n?n(t):t;const nR={isValid:!1,value:null};var kK=t=>Array.isArray(t)?t.reduce((e,r)=>r&&r.checked&&!r.disabled?{isValid:!0,value:r.value}:e,nR):nR;function iR(t){const e=t.ref;return qC(e)?e.files:MC(e)?kK(t.refs).value:IK(e)?[...e.selectedOptions].map(({value:r})=>r):Fd(e)?jK(t.refs).value:$K(_t(e.value)?t.ref.value:e.value,t)}var $ne=(t,e,r,n)=>{const i={};for(const s of t){const a=le(e,s);a&&Ze(i,s,a._f)}return{criteriaMode:r,names:[...t],fields:i,shouldUseNativeValidation:n}},ep=t=>t instanceof RegExp,uc=t=>_t(t)?t:ep(t)?t.source:jt(t)?ep(t.value)?t.value.source:t.value:t,sR=t=>({isOnSubmit:!t||t===Xn.onSubmit,isOnBlur:t===Xn.onBlur,isOnChange:t===Xn.onChange,isOnAll:t===Xn.all,isOnTouch:t===Xn.onTouched});const aR="AsyncFunction";var kne=t=>!!t&&!!t.validate&&!!($r(t.validate)&&t.validate.constructor.name===aR||jt(t.validate)&&Object.values(t.validate).find(e=>e.constructor.name===aR)),Dne=t=>t.mount&&(t.required||t.min||t.max||t.maxLength||t.minLength||t.pattern||t.validate),oR=(t,e,r)=>!r&&(e.watchAll||e.watch.has(t)||[...e.watch].some(n=>t.startsWith(n)&&/^\.\w+/.test(t.slice(n.length))));const jc=(t,e,r,n)=>{for(const i of r||Object.keys(t)){const s=le(t,i);if(s){const{_f:a,...o}=s;if(a){if(a.refs&&a.refs[0]&&e(a.refs[0],i)&&!n)return!0;if(a.ref&&e(a.ref,a.name)&&!n)return!0;if(jc(o,e))break}else if(jt(o)&&jc(o,e))break}}};function lR(t,e,r){const n=le(t,r);if(n||Bp(r))return{error:n,name:r};const i=r.split(".");for(;i.length;){const s=i.join("."),a=le(e,s),o=le(t,s);if(a&&!Array.isArray(a)&&r!==s)return{name:r};if(o&&o.type)return{name:s,error:o};if(o&&o.root&&o.root.type)return{name:`${s}.root`,error:o.root};i.pop()}return{name:r}}var qne=(t,e,r,n)=>{r(t);const{name:i,...s}=t;return Cr(s)||Object.keys(s).length>=Object.keys(e).length||Object.keys(s).find(a=>e[a]===(!n||Xn.all))},Mne=(t,e,r)=>!t||!e||t===e||Rc(t).some(n=>n&&(r?n===e:n.startsWith(e)||e.startsWith(n))),Ane=(t,e,r,n,i)=>i.isOnAll?!1:!r&&i.isOnTouch?!(e||t):(r?n.isOnBlur:i.isOnBlur)?!t:(r?n.isOnChange:i.isOnChange)?t:!0,Fne=(t,e)=>!jC(le(t,e)).length&&It(t,e),Lne=(t,e,r)=>{const n=Rc(le(t,r));return Ze(n,"root",e[r]),Ze(t,r,n),t};function uR(t,e,r="validate"){if(hn(t)||Array.isArray(t)&&t.every(hn)||dn(t)&&!t)return{type:r,message:hn(t)?t:"",ref:e}}var Xo=t=>jt(t)&&!ep(t)?t:{value:t,message:""},cR=async(t,e,r,n,i,s)=>{const{ref:a,refs:o,required:l,maxLength:u,minLength:d,min:h,max:f,pattern:p,validate:m,name:y,valueAsNumber:b,mount:g}=t._f,v=le(r,y);if(!g||e.has(y))return{};const x=o?o[0]:a,w=C=>{i&&x.reportValidity&&(x.setCustomValidity(dn(C)?"":C||""),x.reportValidity())},_={},E=MC(a),O=Fd(a),S=E||O,P=(b||qC(a))&&_t(a.value)&&_t(v)||Zf(a)&&a.value===""||v===""||Array.isArray(v)&&!v.length,N=Cne.bind(null,y,n,_),I=(C,T,q,U=Ii.maxLength,re=Ii.minLength)=>{const Y=C?T:q;_[y]={type:C?U:re,message:Y,ref:a,...N(C?U:re,Y)}};if(s?!Array.isArray(v)||!v.length:l&&(!S&&(P||Wr(v))||dn(v)&&!v||O&&!jK(o).isValid||E&&!kK(o).isValid)){const{value:C,message:T}=hn(l)?{value:!!l,message:l}:Xo(l);if(C&&(_[y]={type:Ii.required,message:T,ref:x,...N(Ii.required,T)},!n))return w(T),_}if(!P&&(!Wr(h)||!Wr(f))){let C,T;const q=Xo(f),U=Xo(h);if(!Wr(v)&&!isNaN(v)){const re=a.valueAsNumber||v&&+v;Wr(q.value)||(C=re>q.value),Wr(U.value)||(T=re<U.value)}else{const re=a.valueAsDate||new Date(v),Y=W=>new Date(new Date().toDateString()+" "+W),L=a.type=="time",G=a.type=="week";hn(q.value)&&v&&(C=L?Y(v)>Y(q.value):G?v>q.value:re>new Date(q.value)),hn(U.value)&&v&&(T=L?Y(v)<Y(U.value):G?v<U.value:re<new Date(U.value))}if((C||T)&&(I(!!C,q.message,U.message,Ii.max,Ii.min),!n))return w(_[y].message),_}if((u||d)&&!P&&(hn(v)||s&&Array.isArray(v))){const C=Xo(u),T=Xo(d),q=!Wr(C.value)&&v.length>+C.value,U=!Wr(T.value)&&v.length<+T.value;if((q||U)&&(I(q,C.message,T.message),!n))return w(_[y].message),_}if(p&&!P&&hn(v)){const{value:C,message:T}=Xo(p);if(ep(C)&&!v.match(C)&&(_[y]={type:Ii.pattern,message:T,ref:a,...N(Ii.pattern,T)},!n))return w(T),_}if(m){if($r(m)){const C=await m(v,r),T=uR(C,x);if(T&&(_[y]={...T,...N(Ii.validate,T.message)},!n))return w(T.message),_}else if(jt(m)){let C={};for(const T in m){if(!Cr(C)&&!n)break;const q=uR(await m[T](v,r),x,T);q&&(C={...q,...N(T,q.message)},w(q.message),n&&(_[y]=C))}if(!Cr(C)&&(_[y]={ref:x,...C},!n))return _}}return w(!0),_};const Bne={mode:Xn.onSubmit,reValidateMode:Xn.onChange,shouldFocusError:!0};function zne(t={}){let e={...Bne,...t},r={submitCount:0,isDirty:!1,isReady:!1,isLoading:$r(e.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1},n={},i=jt(e.defaultValues)||jt(e.values)?zt(e.defaultValues||e.values)||{}:{},s=e.shouldUnregister?{}:zt(i),a={action:!1,mount:!1,watch:!1,keepIsValid:!1},o={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},l,u=0;const d={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},h={...d};let f={...h};const p={array:eR(),state:eR()},m=e.criteriaMode===Xn.all,y=j=>D=>{clearTimeout(u),u=setTimeout(j,D)},b=async j=>{if(!a.keepIsValid&&!e.disabled&&(h.isValid||f.isValid||j)){let D;e.resolver?(D=Cr((await S()).errors),g()):D=await N(n,!0),D!==r.isValid&&p.state.next({isValid:D})}},g=(j,D)=>{!e.disabled&&(h.isValidating||h.validatingFields||f.isValidating||f.validatingFields)&&((j||Array.from(o.mount)).forEach(F=>{F&&(D?Ze(r.validatingFields,F,D):It(r.validatingFields,F))}),p.state.next({validatingFields:r.validatingFields,isValidating:!Cr(r.validatingFields)}))},v=(j,D=[],F,oe,ne=!0,Q=!0)=>{if(oe&&F&&!e.disabled){if(a.action=!0,Q&&Array.isArray(le(n,j))){const de=F(le(n,j),oe.argA,oe.argB);ne&&Ze(n,j,de)}if(Q&&Array.isArray(le(r.errors,j))){const de=F(le(r.errors,j),oe.argA,oe.argB);ne&&Ze(r.errors,j,de),Fne(r.errors,j)}if((h.touchedFields||f.touchedFields)&&Q&&Array.isArray(le(r.touchedFields,j))){const de=F(le(r.touchedFields,j),oe.argA,oe.argB);ne&&Ze(r.touchedFields,j,de)}(h.dirtyFields||f.dirtyFields)&&(r.dirtyFields=tl(i,s)),p.state.next({name:j,isDirty:C(j,D),dirtyFields:r.dirtyFields,errors:r.errors,isValid:r.isValid})}else Ze(s,j,D)},x=(j,D)=>{Ze(r.errors,j,D),p.state.next({errors:r.errors})},w=j=>{r.errors=j,p.state.next({errors:r.errors,isValid:!1})},_=(j,D,F,oe)=>{const ne=le(n,j);if(ne){const Q=le(s,j,_t(F)?le(i,j):F);_t(Q)||oe&&oe.defaultChecked||D?Ze(s,j,D?Q:iR(ne._f)):U(j,Q),a.mount&&!a.action&&b()}},E=(j,D,F,oe,ne)=>{let Q=!1,de=!1;const Re={name:j};if(!e.disabled){if(!F||oe){(h.isDirty||f.isDirty)&&(de=r.isDirty,r.isDirty=Re.isDirty=C(),Q=de!==Re.isDirty);const k=Jn(le(i,j),D);de=!!le(r.dirtyFields,j),k?It(r.dirtyFields,j):Ze(r.dirtyFields,j,!0),Re.dirtyFields=r.dirtyFields,Q=Q||(h.dirtyFields||f.dirtyFields)&&de!==!k}if(F){const k=le(r.touchedFields,j);k||(Ze(r.touchedFields,j,F),Re.touchedFields=r.touchedFields,Q=Q||(h.touchedFields||f.touchedFields)&&k!==F)}Q&&ne&&p.state.next(Re)}return Q?Re:{}},O=(j,D,F,oe)=>{const ne=le(r.errors,j),Q=(h.isValid||f.isValid)&&dn(D)&&r.isValid!==D;if(e.delayError&&F?(l=y(()=>x(j,F)),l(e.delayError)):(clearTimeout(u),l=null,F?Ze(r.errors,j,F):It(r.errors,j)),(F?!Jn(ne,F):ne)||!Cr(oe)||Q){const de={...oe,...Q&&dn(D)?{isValid:D}:{},errors:r.errors,name:j};r={...r,...de},p.state.next(de)}},S=async j=>(g(j,!0),await e.resolver(s,e.context,$ne(j||o.mount,n,e.criteriaMode,e.shouldUseNativeValidation))),P=async j=>{const{errors:D}=await S(j);if(g(j),j)for(const F of j){const oe=le(D,F);oe?Ze(r.errors,F,oe):It(r.errors,F)}else r.errors=D;return D},N=async(j,D,F={valid:!0})=>{for(const oe in j){const ne=j[oe];if(ne){const{_f:Q,...de}=ne;if(Q){const Re=o.array.has(Q.name),k=ne._f&&kne(ne._f);k&&h.validatingFields&&g([Q.name],!0);const Z=await cR(ne,o.disabled,s,m,e.shouldUseNativeValidation&&!D,Re);if(k&&h.validatingFields&&g([Q.name]),Z[Q.name]&&(F.valid=!1,D))break;!D&&(le(Z,Q.name)?Re?Lne(r.errors,Z,Q.name):Ze(r.errors,Q.name,Z[Q.name]):It(r.errors,Q.name))}!Cr(de)&&await N(de,D,F)}}return F.valid},I=()=>{for(const j of o.unMount){const D=le(n,j);D&&(D._f.refs?D._f.refs.every(F=>!nv(F)):!nv(D._f.ref))&&Pe(j)}o.unMount=new Set},C=(j,D)=>!e.disabled&&(j&&D&&Ze(s,j,D),!Jn(V(),i)),T=(j,D,F)=>eN(j,o,{...a.mount?s:_t(D)?i:hn(j)?{[j]:D}:D},F,D),q=j=>jC(le(a.mount?s:i,j,e.shouldUnregister?le(i,j,[]):[])),U=(j,D,F={})=>{const oe=le(n,j);let ne=D;if(oe){const Q=oe._f;Q&&(!Q.disabled&&Ze(s,j,$K(D,Q)),ne=Zf(Q.ref)&&Wr(D)?"":D,IK(Q.ref)?[...Q.ref.options].forEach(de=>de.selected=ne.includes(de.value)):Q.refs?Fd(Q.ref)?Q.refs.forEach(de=>{(!de.defaultChecked||!de.disabled)&&(Array.isArray(ne)?de.checked=!!ne.find(Re=>Re===de.value):de.checked=ne===de.value||!!ne)}):Q.refs.forEach(de=>de.checked=de.value===ne):qC(Q.ref)?Q.ref.value="":(Q.ref.value=ne,Q.ref.type||p.state.next({name:j,values:zt(s)})))}(F.shouldDirty||F.shouldTouch)&&E(j,ne,F.shouldTouch,F.shouldDirty,!0),F.shouldValidate&&W(j)},re=(j,D,F)=>{for(const oe in D){if(!D.hasOwnProperty(oe))return;const ne=D[oe],Q=j+"."+oe,de=le(n,Q);(o.array.has(j)||jt(ne)||de&&!de._f)&&!$a(ne)?re(Q,ne,F):U(Q,ne,F)}},Y=(j,D,F={})=>{const oe=le(n,j),ne=o.array.has(j),Q=zt(D);Ze(s,j,Q),ne?(p.array.next({name:j,values:zt(s)}),(h.isDirty||h.dirtyFields||f.isDirty||f.dirtyFields)&&F.shouldDirty&&p.state.next({name:j,dirtyFields:tl(i,s),isDirty:C(j,Q)})):oe&&!oe._f&&!Wr(Q)?re(j,Q,F):U(j,Q,F),oR(j,o)&&p.state.next({...r,name:j}),p.state.next({name:a.mount?j:void 0,values:zt(s)})},L=async j=>{a.mount=!0;const D=j.target;let F=D.name,oe=!0;const ne=le(n,F),Q=k=>{oe=Number.isNaN(k)||$a(k)&&isNaN(k.getTime())||Jn(k,le(s,F,k))},de=sR(e.mode),Re=sR(e.reValidateMode);if(ne){let k,Z;const H=D.type?iR(ne._f):OK(j),z=j.type===Xf.BLUR||j.type===Xf.FOCUS_OUT,K=!Dne(ne._f)&&!e.resolver&&!le(r.errors,F)&&!ne._f.deps||Ane(z,le(r.touchedFields,F),r.isSubmitted,Re,de),B=oR(F,o,z);Ze(s,F,H),z?(!D||!D.readOnly)&&(ne._f.onBlur&&ne._f.onBlur(j),l&&l(0)):ne._f.onChange&&ne._f.onChange(j);const ae=E(F,H,z),Ne=!Cr(ae)||B;if(!z&&p.state.next({name:F,type:j.type,values:zt(s)}),K)return(h.isValid||f.isValid)&&(e.mode==="onBlur"?z&&b():z||b()),Ne&&p.state.next({name:F,...B?{}:ae});if(!z&&B&&p.state.next({...r}),e.resolver){const{errors:Yt}=await S([F]);if(g([F]),Q(H),oe){const or=lR(r.errors,n,F),Or=lR(Yt,n,or.name||F);k=Or.error,F=Or.name,Z=Cr(Yt)}}else g([F],!0),k=(await cR(ne,o.disabled,s,m,e.shouldUseNativeValidation))[F],g([F]),Q(H),oe&&(k?Z=!1:(h.isValid||f.isValid)&&(Z=await N(n,!0)));oe&&(ne._f.deps&&(!Array.isArray(ne._f.deps)||ne._f.deps.length>0)&&W(ne._f.deps),O(F,Z,k,ae))}},G=(j,D)=>{if(le(r.errors,D)&&j.focus)return j.focus(),1},W=async(j,D={})=>{let F,oe;const ne=Rc(j);if(e.resolver){const Q=await P(_t(j)?j:ne);F=Cr(Q),oe=j?!ne.some(de=>le(Q,de)):F}else j?(oe=(await Promise.all(ne.map(async Q=>{const de=le(n,Q);return await N(de&&de._f?{[Q]:de}:de)}))).every(Boolean),!(!oe&&!r.isValid)&&b()):oe=F=await N(n);return p.state.next({...!hn(j)||(h.isValid||f.isValid)&&F!==r.isValid?{}:{name:j},...e.resolver||!j?{isValid:F}:{},errors:r.errors}),D.shouldFocus&&!oe&&jc(n,G,j?ne:o.mount),oe},V=(j,D)=>{let F={...a.mount?s:i};return D&&(F=TK(D.dirtyFields?r.dirtyFields:r.touchedFields,F)),_t(j)?F:hn(j)?le(F,j):j.map(oe=>le(F,oe))},te=(j,D)=>({invalid:!!le((D||r).errors,j),isDirty:!!le((D||r).dirtyFields,j),error:le((D||r).errors,j),isValidating:!!le(r.validatingFields,j),isTouched:!!le((D||r).touchedFields,j)}),pe=j=>{j&&Rc(j).forEach(D=>It(r.errors,D)),p.state.next({errors:j?r.errors:{}})},ge=(j,D,F)=>{const oe=(le(n,j,{_f:{}})._f||{}).ref,ne=le(r.errors,j)||{},{ref:Q,message:de,type:Re,...k}=ne;Ze(r.errors,j,{...k,...D,ref:oe}),p.state.next({name:j,errors:r.errors,isValid:!1}),F&&F.shouldFocus&&oe&&oe.focus&&oe.focus()},qe=(j,D)=>$r(j)?p.state.subscribe({next:F=>"values"in F&&j(T(void 0,D),F)}):T(j,D,!0),we=j=>p.state.subscribe({next:D=>{Mne(j.name,D.name,j.exact)&&qne(D,j.formState||h,Bt,j.reRenderRoot)&&j.callback({values:{...s},...r,...D,defaultValues:i})}}).unsubscribe,Se=j=>(a.mount=!0,f={...f,...j.formState},we({...j,formState:{...d,...j.formState}})),Pe=(j,D={})=>{for(const F of j?Rc(j):o.mount)o.mount.delete(F),o.array.delete(F),D.keepValue||(It(n,F),It(s,F)),!D.keepError&&It(r.errors,F),!D.keepDirty&&It(r.dirtyFields,F),!D.keepTouched&&It(r.touchedFields,F),!D.keepIsValidating&&It(r.validatingFields,F),!e.shouldUnregister&&!D.keepDefaultValue&&It(i,F);p.state.next({values:zt(s)}),p.state.next({...r,...D.keepDirty?{isDirty:C()}:{}}),!D.keepIsValid&&b()},dt=({disabled:j,name:D})=>{(dn(j)&&a.mount||j||o.disabled.has(D))&&(j?o.disabled.add(D):o.disabled.delete(D))},Ye=(j,D={})=>{let F=le(n,j);const oe=dn(D.disabled)||dn(e.disabled);return Ze(n,j,{...F||{},_f:{...F&&F._f?F._f:{ref:{name:j}},name:j,mount:!0,...D}}),o.mount.add(j),F?dt({disabled:dn(D.disabled)?D.disabled:e.disabled,name:j}):_(j,!0,D.value),{...oe?{disabled:D.disabled||e.disabled}:{},...e.progressive?{required:!!D.required,min:uc(D.min),max:uc(D.max),minLength:uc(D.minLength),maxLength:uc(D.maxLength),pattern:uc(D.pattern)}:{},name:j,onChange:L,onBlur:L,ref:ne=>{if(ne){Ye(j,D),F=le(n,j);const Q=_t(ne.value)&&ne.querySelectorAll&&ne.querySelectorAll("input,select,textarea")[0]||ne,de=Tne(Q),Re=F._f.refs||[];if(de?Re.find(k=>k===Q):Q===F._f.ref)return;Ze(n,j,{_f:{...F._f,...de?{refs:[...Re.filter(nv),Q,...Array.isArray(le(i,j))?[{}]:[]],ref:{type:Q.type,name:j}}:{ref:Q}}}),_(j,!1,void 0,Q)}else F=le(n,j,{}),F._f&&(F._f.mount=!1),(e.shouldUnregister||D.shouldUnregister)&&!(PK(o.array,j)&&a.action)&&o.unMount.add(j)}}},Lt=()=>e.shouldFocusError&&jc(n,G,o.mount),ar=j=>{dn(j)&&(p.state.next({disabled:j}),jc(n,(D,F)=>{const oe=le(n,F);oe&&(D.disabled=oe._f.disabled||j,Array.isArray(oe._f.refs)&&oe._f.refs.forEach(ne=>{ne.disabled=oe._f.disabled||j}))},0,!1))},it=(j,D)=>async F=>{let oe;F&&(F.preventDefault&&F.preventDefault(),F.persist&&F.persist());let ne=zt(s);if(p.state.next({isSubmitting:!0}),e.resolver){const{errors:Q,values:de}=await S();g(),r.errors=Q,ne=zt(de)}else await N(n);if(o.disabled.size)for(const Q of o.disabled)It(ne,Q);if(It(r.errors,"root"),Cr(r.errors)){p.state.next({errors:{}});try{await j(ne,F)}catch(Q){oe=Q}}else D&&await D({...r.errors},F),Lt(),setTimeout(Lt);if(p.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:Cr(r.errors)&&!oe,submitCount:r.submitCount+1,errors:r.errors}),oe)throw oe},Er=(j,D={})=>{le(n,j)&&(_t(D.defaultValue)?Y(j,zt(le(i,j))):(Y(j,D.defaultValue),Ze(i,j,zt(D.defaultValue))),D.keepTouched||It(r.touchedFields,j),D.keepDirty||(It(r.dirtyFields,j),r.isDirty=D.defaultValue?C(j,zt(le(i,j))):C()),D.keepError||(It(r.errors,j),h.isValid&&b()),p.state.next({...r}))},Ke=(j,D={})=>{const F=j?zt(j):i,oe=zt(F),ne=Cr(j),Q=ne?i:oe;if(D.keepDefaultValues||(i=F),!D.keepValues){if(D.keepDirtyValues){const de=new Set([...o.mount,...Object.keys(tl(i,s))]);for(const Re of Array.from(de))le(r.dirtyFields,Re)?Ze(Q,Re,le(s,Re)):Y(Re,le(Q,Re))}else{if(RC&&_t(j))for(const de of o.mount){const Re=le(n,de);if(Re&&Re._f){const k=Array.isArray(Re._f.refs)?Re._f.refs[0]:Re._f.ref;if(Zf(k)){const Z=k.closest("form");if(Z){Z.reset();break}}}}if(D.keepFieldsRef)for(const de of o.mount)Y(de,le(Q,de));else n={}}s=e.shouldUnregister?D.keepDefaultValues?zt(i):{}:zt(Q),p.array.next({values:{...Q}}),p.state.next({values:{...Q}})}o={mount:D.keepDirtyValues?o.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},a.mount=!h.isValid||!!D.keepIsValid||!!D.keepDirtyValues||!e.shouldUnregister&&!Cr(Q),a.watch=!!e.shouldUnregister,a.keepIsValid=!!D.keepIsValid,a.action=!1,D.keepErrors||(r.errors={}),p.state.next({submitCount:D.keepSubmitCount?r.submitCount:0,isDirty:ne?!1:D.keepDirty?r.isDirty:!!(D.keepDefaultValues&&!Jn(j,i)),isSubmitted:D.keepIsSubmitted?r.isSubmitted:!1,dirtyFields:ne?{}:D.keepDirtyValues?D.keepDefaultValues&&s?tl(i,s):r.dirtyFields:D.keepDefaultValues&&j?tl(i,j):D.keepDirty?r.dirtyFields:{},touchedFields:D.keepTouched?r.touchedFields:{},errors:D.keepErrors?r.errors:{},isSubmitSuccessful:D.keepIsSubmitSuccessful?r.isSubmitSuccessful:!1,isSubmitting:!1,defaultValues:i})},Lr=(j,D)=>Ke($r(j)?j(s):j,{...e.resetOptions,...D}),Qe=(j,D={})=>{const F=le(n,j),oe=F&&F._f;if(oe){const ne=oe.refs?oe.refs[0]:oe.ref;ne.focus&&setTimeout(()=>{ne.focus(),D.shouldSelect&&$r(ne.select)&&ne.select()})}},Bt=j=>{r={...r,...j}},ln={control:{register:Ye,unregister:Pe,getFieldState:te,handleSubmit:it,setError:ge,_subscribe:we,_runSchema:S,_updateIsValidating:g,_focusError:Lt,_getWatch:T,_getDirty:C,_setValid:b,_setFieldArray:v,_setDisabledField:dt,_setErrors:w,_getFieldArray:q,_reset:Ke,_resetDefaultValues:()=>$r(e.defaultValues)&&e.defaultValues().then(j=>{Lr(j,e.resetOptions),p.state.next({isLoading:!1})}),_removeUnmounted:I,_disableForm:ar,_subjects:p,_proxyFormState:h,get _fields(){return n},get _formValues(){return s},get _state(){return a},set _state(j){a=j},get _defaultValues(){return i},get _names(){return o},set _names(j){o=j},get _formState(){return r},get _options(){return e},set _options(j){e={...e,...j}}},subscribe:Se,trigger:W,register:Ye,handleSubmit:it,watch:qe,setValue:Y,getValues:V,reset:Lr,resetField:Er,clearErrors:pe,unregister:Pe,setError:ge,setFocus:Qe,getFieldState:te};return{...ln,formControl:ln}}function wu(t={}){const e=Ce.useRef(void 0),r=Ce.useRef(void 0),[n,i]=Ce.useState({isDirty:!1,isValidating:!1,isLoading:$r(t.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1,isReady:!1,defaultValues:$r(t.defaultValues)?void 0:t.defaultValues});if(!e.current)if(t.formControl)e.current={...t.formControl,formState:n},t.defaultValues&&!$r(t.defaultValues)&&t.formControl.reset(t.defaultValues,t.resetOptions);else{const{formControl:a,...o}=zne(t);e.current={...o,formState:n}}const s=e.current.control;return s._options=t,DC(()=>{const a=s._subscribe({formState:s._proxyFormState,callback:()=>i({...s._formState}),reRenderRoot:!0});return i(o=>({...o,isReady:!0})),s._formState.isReady=!0,a},[s]),Ce.useEffect(()=>s._disableForm(t.disabled),[s,t.disabled]),Ce.useEffect(()=>{t.mode&&(s._options.mode=t.mode),t.reValidateMode&&(s._options.reValidateMode=t.reValidateMode)},[s,t.mode,t.reValidateMode]),Ce.useEffect(()=>{t.errors&&(s._setErrors(t.errors),s._focusError())},[s,t.errors]),Ce.useEffect(()=>{t.shouldUnregister&&s._subjects.state.next({values:s._getWatch()})},[s,t.shouldUnregister]),Ce.useEffect(()=>{if(s._proxyFormState.isDirty){const a=s._getDirty();a!==n.isDirty&&s._subjects.state.next({isDirty:a})}},[s,n.isDirty]),Ce.useEffect(()=>{var a;t.values&&!Jn(t.values,r.current)?(s._reset(t.values,{keepFieldsRef:!0,...s._options.resetOptions}),!((a=s._options.resetOptions)===null||a===void 0)&&a.keepIsValid||s._setValid(),r.current=t.values,i(o=>({...o}))):s._resetDefaultValues()},[s,t.values]),Ce.useEffect(()=>{s._state.mount||(s._setValid(),s._state.mount=!0),s._state.watch&&(s._state.watch=!1,s._subjects.state.next({...s._formState})),s._removeUnmounted()}),e.current.formState=CK(n,s),e.current}function dR(){var y;const{id:t}=ls(),e=rn(),r=!!t,{data:n,isLoading:i}=bu(t),s=hne(),a=Ad(),{data:o=[]}=ot({queryKey:["date-types"],queryFn:async()=>(await Ae.getDateTypes()).data}),l=o.find(b=>b.slug==="birthday"||b.name.toLowerCase()==="birthday"),{register:u,handleSubmit:d,reset:h,formState:{errors:f,isSubmitting:p}}=wu({defaultValues:{first_name:"",last_name:"",nickname:"",gender:"",email:"",how_we_met:"",is_favorite:!1,birthday:""}});$.useEffect(()=>{var b,g,v,x,w,_,E,O;if(n){const S=(g=(b=n.acf)==null?void 0:b.contact_info)==null?void 0:g.find(N=>N.contact_type==="email"),P=(S==null?void 0:S.contact_value)||"";h({first_name:((v=n.acf)==null?void 0:v.first_name)||"",last_name:((x=n.acf)==null?void 0:x.last_name)||"",nickname:((w=n.acf)==null?void 0:w.nickname)||"",gender:((_=n.acf)==null?void 0:_.gender)||"",email:P,how_we_met:((E=n.acf)==null?void 0:E.how_we_met)||"",is_favorite:((O=n.acf)==null?void 0:O.is_favorite)||!1,birthday:""})}},[n,h]),yn(r&&n?`Edit ${((y=n.title)==null?void 0:y.rendered)||n.title||"Person"}`:"New Person");const m=async b=>{try{const v=`${b.first_name||""} ${b.last_name||""}`.trim()||"Unnamed Person",x={title:v,status:"publish",acf:{first_name:b.first_name,last_name:b.last_name,nickname:b.nickname,gender:b.gender||null,how_we_met:b.how_we_met,is_favorite:b.is_favorite}};if(!r&&b.email&&(x.acf.contact_info=[{contact_type:"email",contact_value:b.email,contact_label:""}]),r)x.title=v,await a.mutateAsync({id:t,data:x}),e(`/people/${t}`);else{const _=(await s.mutateAsync(x)).data.id;if(b.email)try{await Ht.sideloadGravatar(_,b.email)}catch(E){console.error("Failed to load Gravatar:",E)}if(b.birthday&&l)try{const E=b.first_name||"Person";await Ae.createDate({title:`${E}'s Birthday`,status:"publish",date_type:[l.id],acf:{date_value:b.birthday,is_recurring:!0,related_people:[_],reminder_days_before:7}})}catch(E){console.error("Failed to create birthday:",E)}e(`/people/${_}`)}}catch(g){console.error("Failed to save person:",g)}};return r&&i?c.jsx("div",{className:"flex items-center justify-center h-64",children:c.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"})}):c.jsxs("div",{className:"max-w-2xl mx-auto space-y-6",children:[c.jsx("div",{className:"flex items-center justify-between",children:c.jsxs(he,{to:"/people",className:"flex items-center text-gray-600 hover:text-gray-900",children:[c.jsx(qn,{className:"w-4 h-4 md:mr-2"}),c.jsx("span",{className:"hidden md:inline",children:"Back to People"})]})}),c.jsxs("div",{className:"card p-6",children:[c.jsx("h1",{className:"text-xl font-bold mb-6",children:r?"Edit Person":"Add New Person"}),c.jsxs("form",{onSubmit:d(m),className:"space-y-6",children:[c.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"label",children:"First Name *"}),c.jsx("input",{...u("first_name",{required:"First name is required"}),className:"input",placeholder:"John"}),f.first_name&&c.jsx("p",{className:"text-sm text-red-600 mt-1",children:f.first_name.message})]}),c.jsxs("div",{children:[c.jsx("label",{className:"label",children:"Last Name"}),c.jsx("input",{...u("last_name"),className:"input",placeholder:"Doe"})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"label",children:"Nickname"}),c.jsx("input",{...u("nickname"),className:"input",placeholder:"Johnny"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"label",children:"Gender"}),c.jsxs("select",{...u("gender"),className:"input",children:[c.jsx("option",{value:"",children:"Select gender..."}),c.jsx("option",{value:"male",children:"Male"}),c.jsx("option",{value:"female",children:"Female"}),c.jsx("option",{value:"non_binary",children:"Non-binary"}),c.jsx("option",{value:"other",children:"Other"}),c.jsx("option",{value:"prefer_not_to_say",children:"Prefer not to say"})]})]}),!r&&c.jsxs("div",{children:[c.jsx("label",{className:"label",children:"Email"}),c.jsx("input",{type:"email",...u("email"),className:"input",placeholder:"john@example.com"}),c.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Optional: If a Gravatar is associated with this email, it will be automatically set as the profile photo"})]}),!r&&c.jsxs("div",{children:[c.jsx("label",{className:"label",children:"Birthday"}),c.jsx("input",{type:"date",...u("birthday"),className:"input"}),c.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Optional: Set their birthday when creating a new person"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"label",children:"How We Met"}),c.jsx("textarea",{...u("how_we_met"),className:"input",rows:4,placeholder:"We met at..."})]}),c.jsxs("div",{className:"flex items-center",children:[c.jsx("input",{type:"checkbox",...u("is_favorite"),className:"w-4 h-4 rounded border-gray-300 text-primary-600 focus:ring-primary-500"}),c.jsx("label",{className:"ml-2 text-sm text-gray-700",children:"Mark as favorite"})]}),c.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t",children:[c.jsx(he,{to:"/people",className:"btn-secondary",children:"Cancel"}),c.jsxs("button",{type:"submit",className:"btn-primary",disabled:p,children:[p?c.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}):c.jsx(sa,{className:"w-4 h-4 mr-2"}),r?"Save Changes":"Create Person"]})]})]})]})]})}function Une({value:t,onChange:e,companies:r,isLoading:n}){return c.jsxs("select",{value:t||"",onChange:i=>e(i.target.value?parseInt(i.target.value,10):null),className:"input",disabled:n,children:[c.jsx("option",{value:"",children:"Select a company..."}),r.map(i=>{var s;return c.jsx("option",{value:i.id,children:((s=i.title)==null?void 0:s.rendered)||i.title},i.id)})]})}function hR(){var v,x;const{personId:t,index:e}=ls(),r=rn();Kt();const n=parseInt(e,10),i=!isNaN(n),{data:s,isLoading:a}=bu(t),o=Ad(),{data:l=[],isLoading:u}=ot({queryKey:["companies","all"],queryFn:async()=>(await Ae.getCompanies({per_page:100,orderby:"title",order:"asc"})).data}),{register:d,handleSubmit:h,reset:f,watch:p,control:m,formState:{errors:y,isSubmitting:b}}=wu({defaultValues:{company:null,job_title:"",description:"",start_date:"",end_date:"",is_current:!1}});$.useEffect(()=>{var w;if(s&&i){const E=(((w=s.acf)==null?void 0:w.work_history)||[])[n];E&&f({company:E.company||null,job_title:E.job_title||"",description:E.description||"",start_date:E.start_date||"",end_date:E.end_date||"",is_current:E.is_current||!1})}},[s,n,i,f]),yn(i?`Edit Work History - ${((v=s==null?void 0:s.title)==null?void 0:v.rendered)||(s==null?void 0:s.title)||"Person"}`:`Add Work History - ${((x=s==null?void 0:s.title)==null?void 0:x.rendered)||(s==null?void 0:s.title)||"Person"}`);const g=async w=>{var _;try{const E=[...((_=s.acf)==null?void 0:_.work_history)||[]],O={company:w.company||null,job_title:w.job_title||"",description:w.description||"",start_date:w.start_date||"",end_date:w.end_date||"",is_current:w.is_current||!1};i?E[n]=O:E.push(O);const S=ja(s.acf,{work_history:E});await o.mutateAsync({id:t,data:{acf:S}}),r(`/people/${t}`)}catch(E){console.error("Failed to save work history:",E)}};return p("is_current"),a?c.jsx("div",{className:"flex items-center justify-center h-64",children:c.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"})}):s?c.jsxs("div",{className:"max-w-2xl mx-auto space-y-6",children:[c.jsx("div",{className:"flex items-center justify-between",children:c.jsxs(he,{to:`/people/${t}`,className:"flex items-center text-gray-600 hover:text-gray-900",children:[c.jsx(qn,{className:"w-4 h-4 md:mr-2"}),c.jsx("span",{className:"hidden md:inline",children:"Back to Person"})]})}),c.jsxs("div",{className:"card p-6",children:[c.jsx("h1",{className:"text-xl font-bold mb-6",children:i?"Edit Work History":"Add Work History"}),c.jsxs("form",{onSubmit:h(g),className:"space-y-6",children:[c.jsxs("div",{children:[c.jsx("label",{className:"label",children:"Company"}),c.jsx(Jf,{name:"company",control:m,render:({field:w})=>c.jsx(Une,{value:w.value,onChange:w.onChange,companies:l,isLoading:u})})]}),c.jsxs("div",{children:[c.jsx("label",{className:"label",children:"Job Title"}),c.jsx("input",{...d("job_title"),className:"input",placeholder:"e.g., Software Engineer"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"label",children:"Description"}),c.jsx("textarea",{...d("description"),className:"input",rows:4,placeholder:"Job description, responsibilities, achievements..."})]}),c.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"label",children:"Start Date"}),c.jsx("input",{type:"date",...d("start_date"),className:"input"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"label",children:"End Date"}),c.jsx("input",{type:"date",...d("end_date"),className:"input"}),c.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Optional: Set a future end date to automatically mark as former when it passes"})]})]}),c.jsxs("div",{className:"flex items-center",children:[c.jsx("input",{type:"checkbox",...d("is_current"),className:"w-4 h-4 rounded border-gray-300 text-primary-600 focus:ring-primary-500"}),c.jsx("label",{className:"ml-2 text-sm text-gray-700",children:"Currently works here"})]}),c.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t",children:[c.jsx(he,{to:`/people/${t}`,className:"btn-secondary",children:"Cancel"}),c.jsxs("button",{type:"submit",className:"btn-primary",disabled:b,children:[b?c.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}):c.jsx(sa,{className:"w-4 h-4 mr-2"}),i?"Save Changes":"Add Work History"]})]})]})]})]}):c.jsxs("div",{className:"card p-6 text-center",children:[c.jsx("p",{className:"text-red-600",children:"Failed to load person."}),c.jsx(he,{to:"/people",className:"btn-secondary mt-4",children:"Back to People"})]})}const Wne=[{value:"email",label:"Email"},{value:"phone",label:"Phone"},{value:"mobile",label:"Mobile"},{value:"address",label:"Address"},{value:"website",label:"Website"},{value:"linkedin",label:"LinkedIn"},{value:"twitter",label:"Twitter"},{value:"instagram",label:"Instagram"},{value:"facebook",label:"Facebook"},{value:"other",label:"Other"}];function fR(){var y,b;const{personId:t,index:e}=ls(),r=rn(),n=Kt(),i=parseInt(e,10),s=!isNaN(i),{data:a,isLoading:o}=bu(t),l=Ad(),{register:u,handleSubmit:d,reset:h,formState:{errors:f,isSubmitting:p}}=wu({defaultValues:{contact_type:"",contact_label:"",contact_value:""}});$.useEffect(()=>{var g;if(a&&s){const x=(((g=a.acf)==null?void 0:g.contact_info)||[])[i];x&&h({contact_type:x.contact_type||"",contact_label:x.contact_label||"",contact_value:x.contact_value||""})}},[a,i,s,h]),yn(s?`Edit Contact Detail - ${((y=a==null?void 0:a.title)==null?void 0:y.rendered)||(a==null?void 0:a.title)||"Person"}`:`Add Contact Detail - ${((b=a==null?void 0:a.title)==null?void 0:b.rendered)||(a==null?void 0:a.title)||"Person"}`);const m=async g=>{var v,x,w,_;try{const E=[...((v=a.acf)==null?void 0:v.contact_info)||[]],O={contact_type:g.contact_type||"",contact_label:g.contact_label||"",contact_value:g.contact_value||""};s?E[i]=O:E.push(O);const S=ja(a.acf,{contact_info:E});if(await l.mutateAsync({id:t,data:{acf:S}}),!s&&g.contact_type==="email"&&g.contact_value&&!(a.featured_media>0||((_=(w=(x=a._embedded)==null?void 0:x["wp:featuredmedia"])==null?void 0:w[0])==null?void 0:_.source_url)||a.thumbnail))try{await Ht.sideloadGravatar(t,g.contact_value),n.invalidateQueries({queryKey:["person",t]})}catch(N){console.log("No Gravatar found or failed to load:",N)}r(`/people/${t}`)}catch(E){console.error("Failed to save contact detail:",E)}};return o?c.jsx("div",{className:"flex items-center justify-center h-64",children:c.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"})}):a?c.jsxs("div",{className:"max-w-2xl mx-auto space-y-6",children:[c.jsx("div",{className:"flex items-center justify-between",children:c.jsxs(he,{to:`/people/${t}`,className:"flex items-center text-gray-600 hover:text-gray-900",children:[c.jsx(qn,{className:"w-4 h-4 md:mr-2"}),c.jsx("span",{className:"hidden md:inline",children:"Back to Person"})]})}),c.jsxs("div",{className:"card p-6",children:[c.jsx("h1",{className:"text-xl font-bold mb-6",children:s?"Edit Contact Detail":"Add Contact Detail"}),c.jsxs("form",{onSubmit:d(m),className:"space-y-6",children:[c.jsxs("div",{children:[c.jsx("label",{className:"label",children:"Contact Type *"}),c.jsxs("select",{...u("contact_type",{required:"Please select a contact type"}),className:"input",children:[c.jsx("option",{value:"",children:"Select a type..."}),Wne.map(g=>c.jsx("option",{value:g.value,children:g.label},g.value))]}),f.contact_type&&c.jsx("p",{className:"text-sm text-red-600 mt-1",children:f.contact_type.message})]}),c.jsxs("div",{children:[c.jsx("label",{className:"label",children:"Label"}),c.jsx("input",{...u("contact_label"),className:"input",placeholder:"e.g., Work, Personal, Home"}),c.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Optional: Add a label to distinguish multiple entries of the same type"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"label",children:"Value *"}),c.jsx("input",{...u("contact_value",{required:"Please enter a contact value"}),className:"input",placeholder:"e.g., john@example.com, +1 234 567 8900"}),f.contact_value&&c.jsx("p",{className:"text-sm text-red-600 mt-1",children:f.contact_value.message})]}),c.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t",children:[c.jsx(he,{to:`/people/${t}`,className:"btn-secondary",children:"Cancel"}),c.jsxs("button",{type:"submit",className:"btn-primary",disabled:p,children:[p?c.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}):c.jsx(sa,{className:"w-4 h-4 mr-2"}),s?"Save Changes":"Add Contact Detail"]})]})]})]})]}):c.jsxs("div",{className:"card p-6 text-center",children:[c.jsx("p",{className:"text-red-600",children:"Failed to load person."}),c.jsx(he,{to:"/people",className:"btn-secondary mt-4",children:"Back to People"})]})}function Vne({value:t,onChange:e,people:r,isLoading:n,excludePersonId:i}){const[s,a]=$.useState(""),[o,l]=$.useState(!1),u=$.useRef(null),d=$.useRef(null),h=$.useMemo(()=>r.filter(v=>v.id!==i).sort((v,x)=>{var E,O;const w=(v.first_name||((E=v.acf)==null?void 0:E.first_name)||"").toLowerCase(),_=(x.first_name||((O=x.acf)==null?void 0:O.first_name)||"").toLowerCase();return w<_?-1:w>_?1:0}),[r,i]),f=$.useMemo(()=>{if(!s)return h.slice(0,10);const g=s.toLowerCase();return h.filter(v=>{var E,O;const x=Qa(v).toLowerCase(),w=(v.first_name||((E=v.acf)==null?void 0:E.first_name)||"").toLowerCase(),_=(v.last_name||((O=v.acf)==null?void 0:O.last_name)||"").toLowerCase();return x.includes(g)||w.includes(g)||_.includes(g)}).slice(0,10)},[h,s]),p=$.useMemo(()=>h.find(g=>g.id===t),[h,t]);$.useEffect(()=>{const g=v=>{d.current&&!d.current.contains(v.target)&&u.current&&!u.current.contains(v.target)&&l(!1)};return document.addEventListener("mousedown",g),()=>document.removeEventListener("mousedown",g)},[]);const m=g=>{e(g),a(""),l(!1)},y=()=>{e(null),a(""),l(!1)},b=p?Qa(p):"";return c.jsxs("div",{className:"relative",children:[c.jsx("div",{className:"relative",children:p&&!o?c.jsxs("div",{className:"flex items-center justify-between input pr-8 cursor-text",onClick:()=>l(!0),children:[c.jsx("span",{children:b}),c.jsx("button",{type:"button",onClick:g=>{g.stopPropagation(),y()},className:"absolute right-2 text-gray-400 hover:text-gray-600",children:c.jsx(aa,{className:"w-4 h-4"})})]}):c.jsx("input",{ref:u,type:"text",value:s,onChange:g=>{a(g.target.value),l(!0)},onFocus:()=>l(!0),placeholder:"Search for a person...",className:"input",disabled:n})}),o&&(s||!p)&&c.jsx("div",{ref:d,className:"absolute z-10 w-full mt-1 bg-white border border-gray-200 rounded-lg shadow-lg max-h-48 overflow-y-auto",children:f.length>0?f.map(g=>c.jsx("button",{type:"button",onClick:()=>m(g.id),className:`w-full text-left px-4 py-2 hover:bg-gray-50 ${t===g.id?"bg-primary-50":""}`,children:Qa(g)},g.id)):c.jsx("p",{className:"px-4 py-2 text-gray-500 text-sm",children:"No people found"})})]})}function pR(){var x,w;const{personId:t,index:e}=ls(),r=rn(),n=parseInt(e,10),i=!isNaN(n),{data:s,isLoading:a}=bu(t),o=Ad(),{data:l=[],isLoading:u}=Lp(),{data:d=[],isLoading:h}=ot({queryKey:["relationship-types"],queryFn:async()=>(await Ae.getRelationshipTypes()).data}),{register:f,handleSubmit:p,reset:m,control:y,formState:{errors:b,isSubmitting:g}}=wu({defaultValues:{related_person:null,relationship_type:"",relationship_label:""}});$.useEffect(()=>{var _;if(s&&i){const O=(((_=s.acf)==null?void 0:_.relationships)||[])[n];O&&m({related_person:O.related_person||null,relationship_type:O.relationship_type?String(O.relationship_type):"",relationship_label:O.relationship_label||""})}},[s,n,i,m]),yn(i?`Edit Relationship - ${((x=s==null?void 0:s.title)==null?void 0:x.rendered)||(s==null?void 0:s.title)||"Person"}`:`Add Relationship - ${((w=s==null?void 0:s.title)==null?void 0:w.rendered)||(s==null?void 0:s.title)||"Person"}`);const v=async _=>{var E;try{const O=[...((E=s.acf)==null?void 0:E.relationships)||[]],S={related_person:_.related_person||null,relationship_type:_.relationship_type||null,relationship_label:_.relationship_label||""};i?O[n]=S:O.push(S);const P=ja(s.acf,{relationships:O});await o.mutateAsync({id:t,data:{acf:P}}),r(`/people/${t}`)}catch(O){console.error("Failed to save relationship:",O)}};return a?c.jsx("div",{className:"flex items-center justify-center h-64",children:c.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"})}):s?c.jsxs("div",{className:"max-w-2xl mx-auto space-y-6",children:[c.jsx("div",{className:"flex items-center justify-between",children:c.jsxs(he,{to:`/people/${t}`,className:"flex items-center text-gray-600 hover:text-gray-900",children:[c.jsx(qn,{className:"w-4 h-4 md:mr-2"}),c.jsx("span",{className:"hidden md:inline",children:"Back to Person"})]})}),c.jsxs("div",{className:"card p-6",children:[c.jsx("h1",{className:"text-xl font-bold mb-6",children:i?"Edit Relationship":"Add Relationship"}),c.jsxs("form",{onSubmit:p(v),className:"space-y-6",children:[c.jsxs("div",{children:[c.jsx("label",{className:"label",children:"Related Person *"}),c.jsx(Jf,{name:"related_person",control:y,rules:{required:"Please select a person"},render:({field:_})=>c.jsx(Vne,{value:_.value,onChange:_.onChange,people:l,isLoading:u,excludePersonId:parseInt(t,10)})}),b.related_person&&c.jsx("p",{className:"text-sm text-red-600 mt-1",children:b.related_person.message})]}),c.jsxs("div",{children:[c.jsx("label",{className:"label",children:"Relationship Type"}),c.jsxs("select",{...f("relationship_type",{setValueAs:_=>_?parseInt(_,10):null}),className:"input",disabled:h,children:[c.jsx("option",{value:"",children:"Select a type..."}),d.map(_=>c.jsx("option",{value:_.id,children:_.name},_.id))]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"label",children:"Custom Label"}),c.jsx("input",{...f("relationship_label"),className:"input",placeholder:"e.g., Brother-in-law"}),c.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Optional: Override the relationship type with a custom label"})]}),c.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t",children:[c.jsx(he,{to:`/people/${t}`,className:"btn-secondary",children:"Cancel"}),c.jsxs("button",{type:"submit",className:"btn-primary",disabled:g,children:[g?c.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}):c.jsx(sa,{className:"w-4 h-4 mr-2"}),i?"Save Changes":"Add Relationship"]})]})]})]})]}):c.jsxs("div",{className:"card p-6 text-center",children:[c.jsx("p",{className:"text-red-600",children:"Failed to load person."}),c.jsx(he,{to:"/people",className:"btn-secondary mt-4",children:"Back to People"})]})}function Hne({company:t}){var e,r,n,i,s;return c.jsx(he,{to:`/companies/${t.id}`,className:"card p-4 hover:shadow-md transition-shadow",children:c.jsxs("div",{className:"flex items-start",children:[(n=(r=(e=t._embedded)==null?void 0:e["wp:featuredmedia"])==null?void 0:r[0])!=null&&n.source_url?c.jsx("img",{src:t._embedded["wp:featuredmedia"][0].source_url,alt:Ui(t),className:"w-12 h-12 rounded-lg object-contain bg-white"}):c.jsx("div",{className:"w-12 h-12 bg-white rounded-lg flex items-center justify-center border border-gray-200",children:c.jsx(ns,{className:"w-6 h-6 text-gray-400"})}),c.jsxs("div",{className:"ml-3 flex-1 min-w-0",children:[c.jsx("h3",{className:"text-sm font-medium text-gray-900 truncate",children:Ui(t)}),((i=t.acf)==null?void 0:i.industry)&&c.jsx("p",{className:"text-sm text-gray-500",children:t.acf.industry}),((s=t.acf)==null?void 0:s.website)&&c.jsx("p",{className:"text-xs text-primary-600 truncate",children:t.acf.website})]})]})})}function Kne(){const[t,e]=$.useState(""),{data:r,isLoading:n,error:i}=ot({queryKey:["companies",t],queryFn:async()=>(await Ae.getCompanies({search:t,per_page:100,_embed:!0})).data}),s=$.useMemo(()=>r?[...r].sort((a,o)=>{var d,h;const l=(((d=a.title)==null?void 0:d.rendered)||a.title||"").toLowerCase(),u=(((h=o.title)==null?void 0:h.rendered)||o.title||"").toLowerCase();return l.localeCompare(u)}):[],[r]);return c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[c.jsxs("div",{className:"relative flex-1 max-w-md",children:[c.jsx(dK,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}),c.jsx("input",{type:"search",placeholder:"Search companies...",value:t,onChange:a=>e(a.target.value),className:"input pl-9"})]}),c.jsxs(he,{to:"/companies/new",className:"btn-primary",children:[c.jsx(xr,{className:"w-4 h-4 md:mr-2"}),c.jsx("span",{className:"hidden md:inline",children:"Add Company"})]})]}),n&&c.jsx("div",{className:"flex items-center justify-center h-64",children:c.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"})}),i&&c.jsx("div",{className:"card p-6 text-center",children:c.jsx("p",{className:"text-red-600",children:"Failed to load companies."})}),!n&&!i&&(s==null?void 0:s.length)===0&&c.jsxs("div",{className:"card p-12 text-center",children:[c.jsx("div",{className:"w-12 h-12 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4",children:c.jsx(ns,{className:"w-6 h-6 text-gray-400"})}),c.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-1",children:"No companies found"}),c.jsx("p",{className:"text-gray-500 mb-4",children:t?"Try a different search.":"Add your first company."}),!t&&c.jsxs(he,{to:"/companies/new",className:"btn-primary",children:[c.jsx(xr,{className:"w-4 h-4 md:mr-2"}),c.jsx("span",{className:"hidden md:inline",children:"Add Company"})]})]}),!n&&!i&&(s==null?void 0:s.length)>0&&c.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:s.map(a=>c.jsx(Hne,{company:a},a.id))})]})}function Gne(){var d,h,f,p,m,y;const{id:t}=ls(),e=rn(),r=Kt(),{data:n,isLoading:i,error:s}=ot({queryKey:["company",t],queryFn:async()=>(await Ae.getCompany(t,{_embed:!0})).data}),{data:a}=ot({queryKey:["company-people",t],queryFn:async()=>(await Ht.getCompanyPeople(t)).data}),o=Et({mutationFn:()=>Ae.deleteCompany(t,{force:!0}),onSuccess:()=>{r.invalidateQueries({queryKey:["companies"]}),e("/companies")}});yn(Ui(n)||"Company"),$.useEffect(()=>{(n==null?void 0:n.status)==="trash"&&e("/companies",{replace:!0})},[n,e]);const l=async()=>{if(window.confirm("Are you sure you want to delete this company?"))try{await o.mutateAsync()}catch(b){console.error("Failed to delete company:",b),alert("Failed to delete company. Please try again.")}};if(i)return c.jsx("div",{className:"flex items-center justify-center h-64",children:c.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"})});if(s||!n)return c.jsxs("div",{className:"card p-6 text-center",children:[c.jsx("p",{className:"text-red-600",children:"Failed to load company."}),c.jsx(he,{to:"/companies",className:"btn-secondary mt-4",children:"Back to Companies"})]});if(n.status==="trash")return null;const u=n.acf||{};return c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs(he,{to:"/companies",className:"flex items-center text-gray-600 hover:text-gray-900",children:[c.jsx(qn,{className:"w-4 h-4 md:mr-2"}),c.jsx("span",{className:"hidden md:inline",children:"Back to Companies"})]}),c.jsxs("div",{className:"flex gap-2",children:[c.jsxs(he,{to:`/companies/${t}/edit`,className:"btn-secondary",children:[c.jsx(mK,{className:"w-4 h-4 mr-2"}),"Edit"]}),c.jsxs("button",{onClick:l,className:"btn-danger",children:[c.jsx(xs,{className:"w-4 h-4 mr-2"}),"Delete"]})]})]}),c.jsx("div",{className:"card p-6",children:c.jsxs("div",{className:"flex items-center gap-4",children:[(f=(h=(d=n._embedded)==null?void 0:d["wp:featuredmedia"])==null?void 0:h[0])!=null&&f.source_url?c.jsx("img",{src:n._embedded["wp:featuredmedia"][0].source_url,alt:Ui(n),className:"w-24 h-24 rounded-lg object-contain bg-white"}):c.jsx("div",{className:"w-24 h-24 bg-white rounded-lg flex items-center justify-center border border-gray-200",children:c.jsx(ns,{className:"w-12 h-12 text-gray-400"})}),c.jsxs("div",{children:[c.jsx("h1",{className:"text-2xl font-bold",children:Ui(n)}),u.industry&&c.jsx("p",{className:"text-gray-500",children:u.industry}),u.website&&c.jsxs("a",{href:u.website,target:"_blank",rel:"noopener noreferrer",className:"text-primary-600 hover:underline flex items-center mt-1",children:[c.jsx(bc,{className:"w-4 h-4 mr-1"}),u.website]})]})]})}),c.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[c.jsxs("div",{className:"card p-6",children:[c.jsxs("h2",{className:"font-semibold mb-4 flex items-center",children:[c.jsx(mo,{className:"w-5 h-5 mr-2"}),"Current Employees"]}),((p=a==null?void 0:a.current)==null?void 0:p.length)>0?c.jsx("div",{className:"space-y-2",children:a.current.map(b=>{var g;return c.jsxs(he,{to:`/people/${b.id}`,className:"flex items-center p-2 rounded hover:bg-gray-50",children:[b.thumbnail?c.jsx("img",{src:b.thumbnail,alt:"",loading:"lazy",className:"w-8 h-8 rounded-full"}):c.jsx("div",{className:"w-8 h-8 bg-gray-200 rounded-full flex items-center justify-center",children:c.jsx("span",{className:"text-xs text-gray-500",children:((g=b.name)==null?void 0:g[0])||"?"})}),c.jsxs("div",{className:"ml-2",children:[c.jsx("p",{className:"text-sm font-medium",children:b.name}),b.job_title&&c.jsx("p",{className:"text-xs text-gray-500",children:b.job_title})]})]},b.id)})}):c.jsx("p",{className:"text-sm text-gray-500",children:"No current employees."})]}),c.jsxs("div",{className:"card p-6",children:[c.jsxs("h2",{className:"font-semibold mb-4 flex items-center",children:[c.jsx(mo,{className:"w-5 h-5 mr-2"}),"Former Employees"]}),((m=a==null?void 0:a.former)==null?void 0:m.length)>0?c.jsx("div",{className:"space-y-2",children:a.former.map(b=>{var g;return c.jsxs(he,{to:`/people/${b.id}`,className:"flex items-center p-2 rounded hover:bg-gray-50",children:[b.thumbnail?c.jsx("img",{src:b.thumbnail,alt:"",loading:"lazy",className:"w-8 h-8 rounded-full opacity-75"}):c.jsx("div",{className:"w-8 h-8 bg-gray-200 rounded-full flex items-center justify-center opacity-75",children:c.jsx("span",{className:"text-xs text-gray-500",children:((g=b.name)==null?void 0:g[0])||"?"})}),c.jsxs("div",{className:"ml-2",children:[c.jsx("p",{className:"text-sm font-medium text-gray-700",children:b.name}),b.job_title&&c.jsx("p",{className:"text-xs text-gray-500",children:b.job_title})]})]},b.id)})}):c.jsx("p",{className:"text-sm text-gray-500",children:"No former employees."})]})]}),((y=u.contact_info)==null?void 0:y.length)>0&&c.jsxs("div",{className:"card p-6",children:[c.jsx("h2",{className:"font-semibold mb-4",children:"Contact Information"}),c.jsx("div",{className:"space-y-3",children:u.contact_info.map((b,g)=>c.jsxs("div",{children:[c.jsxs("span",{className:"text-sm text-gray-500",children:[b.contact_label||b.contact_type,":"]}),c.jsx("span",{className:"ml-2",children:b.contact_value})]},g))})]})]})}function mR(){var v,x,w,_,E,O;const{id:t}=ls(),e=rn(),r=Kt(),n=!!t,{data:i,isLoading:s}=ot({queryKey:["company",t],queryFn:async()=>(await Ae.getCompany(t,{_embed:!0})).data,enabled:n}),[a,o]=$.useState(!1),l=$.useRef(null),u=Et({mutationFn:S=>Ae.createCompany(S),onSuccess:S=>{r.invalidateQueries({queryKey:["companies"]}),e(`/companies/${S.data.id}`)}}),d=Et({mutationFn:S=>Ae.updateCompany(t,S),onSuccess:()=>{r.invalidateQueries({queryKey:["company",t]}),r.invalidateQueries({queryKey:["companies"]}),r.invalidateQueries({queryKey:["people"]}),e(`/companies/${t}`)}}),h=async S=>{var N;const P=(N=S.target.files)==null?void 0:N[0];if(P){if(!P.type.startsWith("image/")){alert("Please select an image file");return}if(P.size>5*1024*1024){alert("Image size must be less than 5MB");return}o(!0);try{await Ht.uploadCompanyLogo(t,P),r.invalidateQueries({queryKey:["company",t]}),r.invalidateQueries({queryKey:["companies"]}),r.invalidateQueries({queryKey:["people"]}),r.refetchQueries({queryKey:["company",t]}),r.refetchQueries({queryKey:["companies"]}),r.refetchQueries({queryKey:["people"]})}catch(I){console.error("Failed to upload logo:",I),alert("Failed to upload logo. Please try again.")}finally{o(!1),l.current&&(l.current.value="")}}},{register:f,handleSubmit:p,reset:m,formState:{errors:y,isSubmitting:b}}=wu();$.useEffect(()=>{var S,P,N;i&&m({title:Zn(((S=i.title)==null?void 0:S.rendered)||""),website:((P=i.acf)==null?void 0:P.website)||"",industry:((N=i.acf)==null?void 0:N.industry)||""})},[i,m]),yn(n&&i?`Edit ${Ui(i)||"Company"}`:"New Company");const g=async S=>{const P={title:S.title,status:"publish",acf:{website:S.website,industry:S.industry}};n?d.mutate(P):u.mutate(P)};return n&&s?c.jsx("div",{className:"flex items-center justify-center h-64",children:c.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"})}):c.jsxs("div",{className:"max-w-2xl mx-auto space-y-6",children:[c.jsx("div",{className:"flex items-center justify-between",children:c.jsxs(he,{to:"/companies",className:"flex items-center text-gray-600 hover:text-gray-900",children:[c.jsx(qn,{className:"w-4 h-4 md:mr-2"}),c.jsx("span",{className:"hidden md:inline",children:"Back to Companies"})]})}),c.jsxs("div",{className:"card p-6",children:[c.jsx("h1",{className:"text-xl font-bold mb-6",children:n?"Edit Company":"Add New Company"}),c.jsxs("form",{onSubmit:p(g),className:"space-y-6",children:[n&&c.jsxs("div",{children:[c.jsx("label",{className:"label",children:"Logo"}),c.jsxs("div",{className:"flex items-center gap-4",children:[(w=(x=(v=i==null?void 0:i._embedded)==null?void 0:v["wp:featuredmedia"])==null?void 0:x[0])!=null&&w.source_url?c.jsxs("div",{className:"relative group",children:[c.jsx("img",{src:i._embedded["wp:featuredmedia"][0].source_url,alt:Ui(i)||"Company logo",className:"w-20 h-20 rounded-lg object-contain bg-white"}),c.jsx("div",{className:"absolute inset-0 rounded-lg bg-black bg-opacity-0 group-hover:bg-opacity-50 transition-all duration-200 flex items-center justify-center cursor-pointer",onClick:()=>{var S;return(S=l.current)==null?void 0:S.click()},children:a?c.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-white"}):c.jsx(mf,{className:"w-6 h-6 text-white opacity-0 group-hover:opacity-100 transition-opacity"})})]}):c.jsxs("div",{className:"relative group",children:[c.jsx("div",{className:"w-20 h-20 bg-gray-200 rounded-lg flex items-center justify-center",children:c.jsx(mf,{className:"w-8 h-8 text-gray-400"})}),c.jsx("div",{className:"absolute inset-0 rounded-lg bg-black bg-opacity-0 group-hover:bg-opacity-50 transition-all duration-200 flex items-center justify-center cursor-pointer",onClick:()=>{var S;return(S=l.current)==null?void 0:S.click()},children:a?c.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-white"}):c.jsx(mf,{className:"w-6 h-6 text-white opacity-0 group-hover:opacity-100 transition-opacity"})})]}),c.jsxs("div",{children:[c.jsx("button",{type:"button",onClick:()=>{var S;return(S=l.current)==null?void 0:S.click()},className:"btn-secondary text-sm",disabled:a,children:(O=(E=(_=i==null?void 0:i._embedded)==null?void 0:_["wp:featuredmedia"])==null?void 0:E[0])!=null&&O.source_url?"Change Logo":"Upload Logo"}),c.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Click the logo or button to upload a new logo"})]}),c.jsx("input",{ref:l,type:"file",accept:"image/*",onChange:h,className:"hidden",disabled:a})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"label",children:"Company Name *"}),c.jsx("input",{...f("title",{required:"Company name is required"}),className:"input",placeholder:"Acme Inc."}),y.title&&c.jsx("p",{className:"text-sm text-red-600 mt-1",children:y.title.message})]}),c.jsxs("div",{children:[c.jsx("label",{className:"label",children:"Website"}),c.jsx("input",{...f("website"),type:"url",className:"input",placeholder:"https://example.com"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"label",children:"Industry"}),c.jsx("input",{...f("industry"),className:"input",placeholder:"Technology"})]}),c.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t",children:[c.jsx(he,{to:"/companies",className:"btn-secondary",children:"Cancel"}),c.jsxs("button",{type:"submit",className:"btn-primary",disabled:b,children:[c.jsx(sa,{className:"w-4 h-4 mr-2"}),n?"Save Changes":"Create Company"]})]})]})]})]})}function Yne({person:t,dateType:e}){var r;return c.jsx("div",{className:"flex items-center gap-3 py-2",children:c.jsxs(he,{to:`/people/${t.id}`,className:"flex items-center gap-3 flex-1 min-w-0 hover:opacity-80",children:[t.thumbnail?c.jsx("img",{src:t.thumbnail,alt:t.name,loading:"lazy",className:"w-10 h-10 rounded-full object-cover flex-shrink-0"}):c.jsx("div",{className:"w-10 h-10 rounded-full bg-gray-200 flex items-center justify-center flex-shrink-0",children:c.jsx("span",{className:"text-sm font-medium text-gray-500",children:(r=t.name)==null?void 0:r[0]})}),c.jsx("span",{className:"font-medium truncate",children:t.name}),c.jsx("span",{className:"text-sm text-gray-500 capitalize flex-shrink-0",children:e})]})})}function Qne({dates:t}){const e=t[0],n=e.days_until===0?"bg-green-100 text-green-700":"bg-gray-100 text-gray-600",i=[];return t.forEach(s=>{var o,l;const a=((o=s.date_type)==null?void 0:o[0])||"Date";((l=s.related_people)==null?void 0:l.length)>0?s.related_people.forEach(u=>{i.push({person:u,dateType:a})}):i.push({person:{id:null,name:s.title,thumbnail:null},dateType:a})}),c.jsx("div",{className:"card p-4 break-inside-avoid mb-4",children:c.jsxs("div",{className:"flex items-start gap-4",children:[c.jsx("div",{className:`w-14 h-14 rounded-lg ${n} flex items-center justify-center flex-shrink-0`,children:c.jsx("span",{className:"text-2xl font-bold leading-none",children:mi(new Date(e.next_occurrence),"d")})}),c.jsx("div",{className:"flex-1 min-w-0 divide-y divide-gray-100",children:i.map(({person:s,dateType:a},o)=>c.jsx(Yne,{person:s,dateType:a},s.id?`${s.id}-${a}`:`${o}-${a}`))})]})})}function Xne(){const{data:t,isLoading:e,error:r}=Yte(365),n=(t==null?void 0:t.reduce((s,a)=>{const o=mi(new Date(a.next_occurrence),"yyyy-MM-dd");return s[o]||(s[o]=[]),s[o].push(a),s},{}))||{},i=Object.entries(n).reduce((s,[a,o])=>{const l=mi(new Date(a),"MMMM yyyy");return s[l]||(s[l]=[]),s[l].push(o),s},{});return c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("p",{className:"text-gray-600",children:[(t==null?void 0:t.length)||0," upcoming dates"]}),c.jsxs(he,{to:"/dates/new",className:"btn-primary",children:[c.jsx(xr,{className:"w-4 h-4 md:mr-2"}),c.jsx("span",{className:"hidden md:inline",children:"Add Date"})]})]}),e&&c.jsx("div",{className:"flex items-center justify-center h-64",children:c.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"})}),r&&c.jsx("div",{className:"card p-6 text-center",children:c.jsx("p",{className:"text-red-600",children:"Failed to load dates."})}),!e&&!r&&(t==null?void 0:t.length)===0&&c.jsxs("div",{className:"card p-12 text-center",children:[c.jsx(fo,{className:"w-12 h-12 text-gray-300 mx-auto mb-4"}),c.jsx("h3",{className:"text-lg font-medium mb-1",children:"No important dates"}),c.jsx("p",{className:"text-gray-500 mb-4",children:"Add birthdays, anniversaries, and more."}),c.jsxs(he,{to:"/dates/new",className:"btn-primary",children:[c.jsx(xr,{className:"w-4 h-4 md:mr-2"}),c.jsx("span",{className:"hidden md:inline",children:"Add Date"})]})]}),Object.entries(i).map(([s,a])=>c.jsxs("div",{children:[c.jsx("h2",{className:"text-2xl font-semibold text-gray-700 mb-4",children:s}),c.jsx("div",{className:"columns-1 md:columns-2 lg:columns-3 gap-4",children:a.map(o=>c.jsx(Qne,{dates:o},o[0].next_occurrence))})]},s))]})}function Jne({value:t=[],onChange:e,people:r=[],isLoading:n}){const[i,s]=$.useState(""),a=$.useMemo(()=>{if(!i)return r.slice(0,10);const d=i.toLowerCase();return r.filter(h=>Qa(h).toLowerCase().includes(d)).slice(0,10)},[r,i]),o=$.useMemo(()=>t.map(d=>r.find(h=>h.id===d)).filter(Boolean),[t,r]),l=d=>{t.includes(d)||e([...t,d]),s("")},u=d=>{e(t.filter(h=>h!==d))};return c.jsxs("div",{className:"space-y-2",children:[o.length>0&&c.jsx("div",{className:"flex flex-wrap gap-2",children:o.map(d=>c.jsxs("span",{className:"inline-flex items-center gap-1 px-3 py-1 bg-primary-100 text-primary-800 rounded-full text-sm",children:[Qa(d),c.jsx("button",{type:"button",onClick:()=>u(d.id),className:"hover:text-primary-600",children:c.jsx(aa,{className:"w-3 h-3"})})]},d.id))}),c.jsxs("div",{className:"relative",children:[c.jsx("input",{type:"text",value:i,onChange:d=>s(d.target.value),placeholder:"Search for people...",className:"input",disabled:n}),i&&c.jsx("div",{className:"absolute z-10 w-full mt-1 bg-white border border-gray-200 rounded-lg shadow-lg max-h-48 overflow-y-auto",children:a.length>0?a.map(d=>c.jsx("button",{type:"button",onClick:()=>l(d.id),disabled:t.includes(d.id),className:`w-full text-left px-4 py-2 hover:bg-gray-50 ${t.includes(d.id)?"opacity-50 cursor-not-allowed":""}`,children:Qa(d)},d.id)):c.jsx("p",{className:"px-4 py-2 text-gray-500 text-sm",children:"No people found"})})]})]})}function vR(){var G;const{id:t}=ls(),[e]=fZ(),r=rn(),n=Kt(),i=!!t,s=e.get("person"),a=e.get("type"),{data:o,isLoading:l}=ot({queryKey:["important-date",t],queryFn:async()=>(await Ae.getDate(t)).data,enabled:i}),u=$.useMemo(()=>{var V;if(!((V=o==null?void 0:o.acf)!=null&&V.related_people))return[];const W=o.acf.related_people;return Array.isArray(W)?W.map(te=>parseInt(typeof te=="object"&&te!==null?te.ID||te.id||te.post_id:te,10)).filter(te=>!isNaN(te)&&te>0):[]},[o]),{data:d=[],isLoading:h}=Lp({orderby:"title",order:"asc"}),{data:f=[]}=ot({queryKey:["people","specific",u],queryFn:async()=>{const W=u.map(te=>Ae.getPerson(te,{_embed:!0}).then(pe=>pe.data).catch(()=>null));return(await Promise.all(W)).filter(Boolean)},enabled:u.length>0}),p=$.useMemo(()=>{const W=new Map;return d.forEach(V=>W.set(V.id,V)),f.forEach(V=>{var pe,ge,qe,we,Se,Pe,dt,Ye,Lt,ar,it,Er,Ke,Lr,Qe,Bt;const te={...V,id:V.id,name:Qa(V),first_name:((pe=V.acf)==null?void 0:pe.first_name)||"",last_name:((ge=V.acf)==null?void 0:ge.last_name)||"",is_favorite:((qe=V.acf)==null?void 0:qe.is_favorite)||!1,thumbnail:((Pe=(Se=(we=V._embedded)==null?void 0:we["wp:featuredmedia"])==null?void 0:Se[0])==null?void 0:Pe.source_url)||((Er=(it=(ar=(Lt=(Ye=(dt=V._embedded)==null?void 0:dt["wp:featuredmedia"])==null?void 0:Ye[0])==null?void 0:Lt.media_details)==null?void 0:ar.sizes)==null?void 0:it.thumbnail)==null?void 0:Er.source_url)||null,labels:((Bt=(Qe=(Lr=(Ke=V._embedded)==null?void 0:Ke["wp:term"])==null?void 0:Lr.flat())==null?void 0:Qe.filter(on=>(on==null?void 0:on.taxonomy)==="person_label"))==null?void 0:Bt.map(on=>on.name))||[]};W.set(te.id,te)}),Array.from(W.values())},[d,f]),{data:m=[]}=ot({queryKey:["date-types"],queryFn:async()=>((await Ae.getDateTypes()).data||[]).sort((te,pe)=>{const ge=te.name||"",qe=pe.name||"";return ge.localeCompare(qe)})}),y=Et({mutationFn:W=>Ae.createDate(W),onSuccess:()=>{n.invalidateQueries({queryKey:["reminders"]}),r(s?`/people/${s}`:"/dates")}}),b=Et({mutationFn:W=>Ae.updateDate(t,W),onSuccess:()=>{n.invalidateQueries({queryKey:["reminders"]}),n.invalidateQueries({queryKey:["important-date",t]}),n.invalidateQueries({queryKey:["people"]});const W=w("related_people");(W==null?void 0:W.length)>0?r(`/people/${W[0]}`):r("/dates")}}),{register:g,handleSubmit:v,reset:x,watch:w,setValue:_,control:E,formState:{errors:O,isSubmitting:S}}=wu({defaultValues:{title:"",date_value:"",date_type:"",related_people:[],is_recurring:!0,reminder_days_before:7}}),P=w("related_people"),N=w("date_type"),I=w("title");$.useEffect(()=>{var te;if((!I||["'s Birthday","Wedding of "].some(pe=>I.endsWith(pe)||I.startsWith(pe)))&&(P==null?void 0:P.length)>0&&N){const pe=m.find(Se=>Se.id===parseInt(N)),ge=(pe==null?void 0:pe.name)||"",qe=((te=pe==null?void 0:pe.slug)==null?void 0:te.toLowerCase())||ge.toLowerCase(),we=P.map(Se=>{var dt,Ye,Lt;const Pe=p.find(ar=>ar.id===Se);return Pe?Zn(((dt=Pe.acf)==null?void 0:dt.first_name)||((Lt=(Ye=Pe.title)==null?void 0:Ye.rendered)==null?void 0:Lt.split(" ")[0])||""):null}).filter(Boolean);if(we.length>0&&ge){let Se;qe==="wedding"?we.length>=2?Se=`Wedding of ${we[0]} & ${we[1]}`:Se=`Wedding of ${we[0]}`:Se=`${we[0]}'s ${ge}`,_("title",Se)}}},[P,N,p,m,_,I]);const[C,T]=$.useState(!1);$.useEffect(()=>{var V,te,pe,ge,qe,we;if(C&&!i)return;const W=u.length===0||f.length>0;if(o&&p.length>0&&W){let Se=[];const Pe=(V=o.acf)==null?void 0:V.related_people;Pe&&(Array.isArray(Pe)?Se=Pe.map(Ye=>parseInt(typeof Ye=="object"&&Ye!==null?Ye.ID||Ye.id||Ye.post_id:Ye,10)).filter(Ye=>!isNaN(Ye)&&Ye>0):typeof Pe=="number"&&(Se=[Pe]));let dt="";((te=o.date_type)==null?void 0:te.length)>0&&(dt=o.date_type[0].toString()),x({title:Zn(((pe=o.title)==null?void 0:pe.rendered)||""),date_value:((ge=o.acf)==null?void 0:ge.date_value)||"",date_type:dt,related_people:Se,is_recurring:((qe=o.acf)==null?void 0:qe.is_recurring)??!0,reminder_days_before:((we=o.acf)==null?void 0:we.reminder_days_before)||7}),T(!0)}else if(!i&&p.length>0&&m.length>0){const Se={title:"",date_value:"",date_type:"",related_people:[],is_recurring:!0,reminder_days_before:7};if(s&&(Se.related_people=[parseInt(s)]),a){const Pe=m.find(dt=>dt.slug===a||dt.name.toLowerCase()===a.toLowerCase());Pe&&(Se.date_type=Pe.id.toString())}x(Se),T(!0)}},[o,x,i,s,a,m,p,u,f,C]),yn(i&&o?`Edit ${((G=o.title)==null?void 0:G.rendered)||o.title||"Date"}`:"New Date");const q=async W=>{const V={title:W.title,status:"publish",date_type:W.date_type?[parseInt(W.date_type)]:[],acf:{date_value:W.date_value,related_people:W.related_people,is_recurring:W.is_recurring,reminder_days_before:parseInt(W.reminder_days_before,10)}};i?b.mutate(V):y.mutate(V)};if(i&&l)return c.jsx("div",{className:"flex items-center justify-center h-64",children:c.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"})});const U=w("related_people"),re=i&&(U==null?void 0:U.length)>0?U[0]:s,Y=re?`/people/${re}`:"/dates",L=re?"Back to Person":"Back to Dates";return c.jsxs("div",{className:"max-w-2xl mx-auto space-y-6",children:[c.jsx("div",{className:"flex items-center justify-between",children:c.jsxs(he,{to:Y,className:"flex items-center text-gray-600 hover:text-gray-900",children:[c.jsx(qn,{className:"w-4 h-4 md:mr-2"}),c.jsx("span",{className:"hidden md:inline",children:L})]})}),c.jsxs("div",{className:"card p-6",children:[c.jsx("h1",{className:"text-xl font-bold mb-6",children:i?"Edit Date":"Add New Date"}),c.jsxs("form",{onSubmit:v(q),className:"space-y-6",children:[c.jsxs("div",{children:[c.jsx("label",{className:"label",children:"Related People"}),c.jsx(Jf,{name:"related_people",control:E,render:({field:W})=>c.jsx(Jne,{value:W.value,onChange:W.onChange,people:p,isLoading:h})})]}),c.jsxs("div",{children:[c.jsx("label",{className:"label",children:"Date Type *"}),c.jsx(Jf,{name:"date_type",control:E,rules:{required:"Please select a date type"},render:({field:W})=>{const V=W.value?String(W.value):"";return c.jsxs("select",{value:V,onChange:te=>{const pe=te.target.value;W.onChange(pe)},onBlur:W.onBlur,name:W.name,ref:W.ref,className:"input",children:[c.jsx("option",{value:"",children:"Select a type..."}),m.map(te=>c.jsx("option",{value:String(te.id),children:te.name},te.id))]})}}),O.date_type&&c.jsx("p",{className:"text-sm text-red-600 mt-1",children:O.date_type.message})]}),c.jsxs("div",{children:[c.jsx("label",{className:"label",children:"Label"}),c.jsx("input",{...g("title"),className:"input",placeholder:"e.g., Mom's Birthday, Wedding Anniversary"}),c.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Auto-generated from person and date type. You can customize it."})]}),c.jsxs("div",{children:[c.jsx("label",{className:"label",children:"Date *"}),c.jsx("input",{...g("date_value",{required:"Date is required"}),type:"date",className:"input"}),O.date_value&&c.jsx("p",{className:"text-sm text-red-600 mt-1",children:O.date_value.message})]}),c.jsxs("div",{className:"flex items-center",children:[c.jsx("input",{type:"checkbox",...g("is_recurring"),className:"w-4 h-4 rounded border-gray-300 text-primary-600 focus:ring-primary-500"}),c.jsx("label",{className:"ml-2 text-sm text-gray-700",children:"Repeats every year"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"label",children:"Remind me"}),c.jsxs("select",{...g("reminder_days_before"),className:"input",children:[c.jsx("option",{value:"0",children:"On the day"}),c.jsx("option",{value:"1",children:"1 day before"}),c.jsx("option",{value:"3",children:"3 days before"}),c.jsx("option",{value:"7",children:"1 week before"}),c.jsx("option",{value:"14",children:"2 weeks before"}),c.jsx("option",{value:"30",children:"1 month before"})]})]}),c.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t",children:[c.jsx(he,{to:Y,className:"btn-secondary",children:"Cancel"}),c.jsxs("button",{type:"submit",className:"btn-primary",disabled:S,children:[c.jsx(sa,{className:"w-4 h-4 mr-2"}),i?"Save Changes":"Create Date"]})]})]})]})]})}function Zne(){const t=window.prmConfig||{},e=t.isAdmin||!1,[r,n]=$.useState(""),[i,s]=$.useState(""),[a,o]=$.useState(!0),[l,u]=$.useState(!1),[d,h]=$.useState(!1);$.useEffect(()=>{(async()=>{try{const y=await ye.get("/prm/v1/user/ical-url");n(y.data.url),s(y.data.webcal_url)}catch(y){console.error("Failed to fetch iCal URL:",y)}finally{o(!1)}})()},[]);const f=async()=>{try{await navigator.clipboard.writeText(r),u(!0),setTimeout(()=>u(!1),2e3)}catch(m){console.error("Failed to copy:",m)}},p=async()=>{if(confirm("Are you sure you want to regenerate your calendar URL? Any existing calendar subscriptions will stop working until you update them with the new URL.")){h(!0);try{const m=await ye.post("/prm/v1/user/regenerate-ical-token");n(m.data.url),s(m.data.webcal_url)}catch(m){console.error("Failed to regenerate token:",m)}finally{h(!1)}}};return c.jsxs("div",{className:"max-w-2xl mx-auto space-y-6",children:[c.jsxs("div",{className:"card p-6",children:[c.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Calendar Subscription"}),c.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Subscribe to your important dates in any calendar app (Apple Calendar, Google Calendar, Outlook, etc.)"}),a?c.jsxs("div",{className:"animate-pulse",children:[c.jsx("div",{className:"h-10 bg-gray-200 rounded mb-3"}),c.jsx("div",{className:"h-9 bg-gray-200 rounded w-24"})]}):c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"label mb-1",children:"Your Calendar Feed URL"}),c.jsxs("div",{className:"flex gap-2",children:[c.jsx("input",{type:"text",readOnly:!0,value:r,className:"input flex-1 text-sm font-mono bg-gray-50",onClick:m=>m.target.select()}),c.jsx("button",{onClick:f,className:"btn-secondary whitespace-nowrap",title:"Copy URL",children:l?c.jsxs("span",{className:"flex items-center gap-1",children:[c.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),"Copied"]}):c.jsxs("span",{className:"flex items-center gap-1",children:[c.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 5H6a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2v-1M8 5a2 2 0 002 2h2a2 2 0 002-2M8 5a2 2 0 012-2h2a2 2 0 012 2m0 0h2a2 2 0 012 2v3m2 4H10m0 0l3-3m-3 3l3 3"})}),"Copy"]})})]})]}),c.jsxs("div",{className:"flex flex-wrap gap-2",children:[c.jsx("a",{href:i,className:"btn-primary",children:c.jsxs("span",{className:"flex items-center gap-1",children:[c.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})}),"Subscribe in Calendar App"]})}),c.jsx("button",{onClick:p,disabled:d,className:"btn-secondary",children:d?"Regenerating...":"Regenerate URL"})]}),c.jsx("p",{className:"text-xs text-gray-500",children:'Keep this URL private. Anyone with access to it can see your important dates. If you think it has been compromised, click "Regenerate URL" to get a new one.'})]})]}),c.jsxs("div",{className:"card p-6",children:[c.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Data"}),c.jsxs("div",{className:"space-y-3",children:[c.jsxs(he,{to:"/settings/import",className:"block p-3 rounded-lg border border-gray-200 hover:bg-gray-50",children:[c.jsx("p",{className:"font-medium",children:"Import Data"}),c.jsx("p",{className:"text-sm text-gray-500",children:"Import contacts from Monica CRM or other sources"})]}),c.jsxs(he,{to:"/settings/export",className:"block p-3 rounded-lg border border-gray-200 hover:bg-gray-50",children:[c.jsx("p",{className:"font-medium",children:"Export Data"}),c.jsx("p",{className:"text-sm text-gray-500",children:"Export all contacts as vCard or Google Contacts CSV"})]})]})]}),e&&c.jsxs("div",{className:"card p-6",children:[c.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Administration"}),c.jsxs("div",{className:"space-y-3",children:[c.jsxs(he,{to:"/settings/relationship-types",className:"block p-3 rounded-lg border border-gray-200 hover:bg-gray-50",children:[c.jsx("p",{className:"font-medium",children:"Relationship Types"}),c.jsx("p",{className:"text-sm text-gray-500",children:"Manage relationship types and their inverse mappings"})]}),c.jsxs(he,{to:"/settings/user-approval",className:"block p-3 rounded-lg border border-gray-200 hover:bg-gray-50",children:[c.jsx("p",{className:"font-medium",children:"User Approval"}),c.jsx("p",{className:"text-sm text-gray-500",children:"Approve or deny access for new users"})]})]})]}),c.jsxs("div",{className:"card p-6",children:[c.jsx("h2",{className:"text-lg font-semibold mb-4",children:"About"}),c.jsxs("p",{className:"text-sm text-gray-600",children:[ru," v",t.version||"1.0.0",c.jsx("br",{}),"Built with WordPress, React, and Tailwind CSS."]})]})]})}function gR({value:t,onChange:e,relationshipTypes:r,currentTypeId:n=null}){const[i,s]=$.useState(""),[a,o]=$.useState(!1),l=$.useRef(null),u=$.useRef(null),d=$.useMemo(()=>r.sort((b,g)=>{const v=(b.name||"").toLowerCase(),x=(g.name||"").toLowerCase();return v<x?-1:v>x?1:0}),[r]),h=$.useMemo(()=>{if(!i)return d.slice(0,10);const b=i.toLowerCase();return d.filter(g=>(g.name||"").toLowerCase().includes(b)).slice(0,10)},[d,i]),f=$.useMemo(()=>d.find(b=>b.id===parseInt(t,10)),[d,t]);$.useEffect(()=>{const b=g=>{u.current&&!u.current.contains(g.target)&&l.current&&!l.current.contains(g.target)&&o(!1)};return document.addEventListener("mousedown",b),()=>document.removeEventListener("mousedown",b)},[]);const p=b=>{e(b?b.toString():""),s(""),o(!1)},m=()=>{e(""),s(""),o(!1)},y=f?f.name:"";return c.jsxs("div",{className:"relative",children:[c.jsx("div",{className:"relative",children:f&&!a?c.jsxs("div",{className:"flex items-center justify-between input pr-8 cursor-text",onClick:()=>o(!0),children:[c.jsx("span",{children:y}),c.jsx("button",{type:"button",onClick:b=>{b.stopPropagation(),m()},className:"absolute right-2 text-gray-400 hover:text-gray-600",children:c.jsx(aa,{className:"w-4 h-4"})})]}):c.jsx("input",{ref:l,type:"text",value:i,onChange:b=>{s(b.target.value),o(!0)},onFocus:()=>o(!0),placeholder:"Search for a relationship type...",className:"input"})}),a&&(i||!f)&&c.jsx("div",{ref:u,className:"absolute z-10 w-full mt-1 bg-white border border-gray-200 rounded-lg shadow-lg max-h-48 overflow-y-auto",children:h.length>0?c.jsxs(c.Fragment,{children:[c.jsx("button",{type:"button",onClick:()=>p(null),className:`w-full text-left px-4 py-2 hover:bg-gray-50 ${t?"":"bg-primary-50"}`,children:c.jsx("span",{className:"text-gray-500 italic",children:"None (no inverse)"})}),h.map(b=>c.jsx("button",{type:"button",onClick:()=>p(b.id),className:`w-full text-left px-4 py-2 hover:bg-gray-50 ${t===b.id.toString()?"bg-primary-50":""}`,children:b.name},b.id))]}):c.jsx("p",{className:"px-4 py-2 text-gray-500 text-sm",children:"No relationship types found"})})]})}function eie(){yn("Relationship Types - Settings");const t=Kt();if(!((window.prmConfig||{}).isAdmin||!1))return c.jsx("div",{className:"max-w-2xl mx-auto",children:c.jsxs("div",{className:"card p-8 text-center",children:[c.jsx(fK,{className:"w-16 h-16 mx-auto text-amber-500 mb-4"}),c.jsx("h1",{className:"text-2xl font-bold mb-2",children:"Access Denied"}),c.jsx("p",{className:"text-gray-600 mb-6",children:"You don't have permission to manage relationship types. This feature is only available to administrators."}),c.jsx(he,{to:"/settings",className:"btn-primary",children:"Back to Settings"})]})});const{data:n=[],isLoading:i}=ot({queryKey:["relationship-types"],queryFn:async()=>(await Ae.getRelationshipTypes()).data}),[s,a]=$.useState(null),[o,l]=$.useState(""),[u,d]=$.useState(""),[h,f]=$.useState(""),[p,m]=$.useState(""),[y,b]=$.useState(!1),g=Et({mutationFn:async({id:I,name:C,inverseId:T})=>{const q={name:C};return T&&(q.acf={inverse_relationship_type:parseInt(T,10)}),Ae.updateRelationshipType(I,q)},onSuccess:()=>{t.invalidateQueries({queryKey:["relationship-types"]}),a(null),l(""),d("")}}),v=Et({mutationFn:async({name:I,inverseId:C})=>{const T={name:I};return C&&(T.acf={inverse_relationship_type:parseInt(C,10)}),Ae.createRelationshipType(T)},onSuccess:()=>{t.invalidateQueries({queryKey:["relationship-types"]}),f(""),m(""),b(!1)}}),x=Et({mutationFn:I=>Ae.deleteRelationshipType(I),onSuccess:()=>{t.invalidateQueries({queryKey:["relationship-types"]})}}),w=Et({mutationFn:()=>Ae.restoreRelationshipTypeDefaults(),onSuccess:()=>{t.invalidateQueries({queryKey:["relationship-types"]}),alert("Default relationship type configurations have been restored.")},onError:()=>{alert("Failed to restore defaults. Please try again.")}});function _(){return c.jsxs("button",{onClick:()=>{window.confirm("This will restore all default inverse mappings and gender-dependent settings. Continue?")&&w.mutate()},disabled:w.isPending,className:"btn-secondary flex items-center gap-2",title:"Restore default inverse mappings and gender-dependent settings",children:[w.isPending?c.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-gray-600"}):c.jsx(cK,{className:"w-4 h-4"}),c.jsx("span",{className:"hidden md:inline",children:"Restore Defaults"})]})}const E=I=>{var T;a(I.id),l(I.name);const C=(T=I.acf)==null?void 0:T.inverse_relationship_type;d(C?C.toString():"")},O=()=>{a(null),l(""),d("")},S=()=>{if(!o.trim()){alert("Name is required");return}g.mutate({id:s,name:o.trim(),inverseId:u||null})},P=()=>{if(!h.trim()){alert("Name is required");return}v.mutate({name:h.trim(),inverseId:p||null})},N=(I,C)=>{window.confirm(`Are you sure you want to delete "${C}"? This cannot be undone.`)&&x.mutate(I)};return i?c.jsx("div",{className:"flex items-center justify-center h-64",children:c.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"})}):c.jsx("div",{className:"max-w-4xl mx-auto space-y-6",children:c.jsxs("div",{className:"card p-6",children:[c.jsxs("div",{className:"flex items-center justify-between mb-6",children:[c.jsx("h1",{className:"text-2xl font-bold",children:"Relationship Types"}),c.jsx("div",{className:"flex gap-2",children:!y&&c.jsxs(c.Fragment,{children:[c.jsx(_,{}),c.jsxs("button",{onClick:()=>b(!0),className:"btn-primary flex items-center gap-2",children:[c.jsx(xr,{className:"w-4 h-4"}),c.jsx("span",{className:"hidden md:inline",children:"Add Relationship Type"})]})]})})]}),y&&c.jsxs("div",{className:"mb-6 p-4 border border-gray-200 rounded-lg bg-gray-50",children:[c.jsx("h3",{className:"font-semibold mb-4",children:"Add New Relationship Type"}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"label",children:"Name *"}),c.jsx("input",{type:"text",value:h,onChange:I=>f(I.target.value),className:"input",placeholder:"e.g., Parent, Spouse, Colleague"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"label",children:"Inverse Relationship Type"}),c.jsx(gR,{value:p,onChange:m,relationshipTypes:n}),c.jsx("p",{className:"text-xs text-gray-500 mt-1",children:'Select the inverse relationship type. For example, if this is "Parent", select "Child". If this is "Spouse" or "Acquaintance", select the same type (e.g., "Spouse"  "Spouse").'})]}),c.jsxs("div",{className:"flex gap-2",children:[c.jsxs("button",{onClick:P,disabled:v.isPending,className:"btn-primary flex items-center gap-2",children:[v.isPending?c.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}):c.jsx(sa,{className:"w-4 h-4"}),c.jsx("span",{className:"hidden md:inline",children:"Save"})]}),c.jsx("button",{onClick:()=>{b(!1),f(""),m("")},className:"btn-secondary",children:"Cancel"})]})]})]}),c.jsx("div",{className:"space-y-2",children:n.length===0?c.jsx("p",{className:"text-gray-500 text-center py-8",children:"No relationship types found."}):n.map(I=>{var re,Y;const C=s===I.id,T=(re=I.acf)==null?void 0:re.inverse_relationship_type,q=typeof T=="object"&&(T!=null&&T.ID)?T.ID:typeof T=="object"&&(T!=null&&T.id)?T.id:T,U=q?n.find(L=>L.id===q):null;return c.jsx("div",{className:"p-4 border border-gray-200 rounded-lg hover:bg-gray-50",children:C?c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"label",children:"Name *"}),c.jsx("input",{type:"text",value:o,onChange:L=>l(L.target.value),className:"input"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"label",children:"Inverse Relationship Type"}),c.jsx(gR,{value:u,onChange:d,relationshipTypes:n,currentTypeId:I.id}),c.jsx("p",{className:"text-xs text-gray-500 mt-1",children:'Select the inverse relationship type. For example, if this is "Parent", select "Child". If this is "Spouse" or "Acquaintance", select the same type (e.g., "Spouse"  "Spouse").'})]}),c.jsxs("div",{className:"flex gap-2",children:[c.jsxs("button",{onClick:S,disabled:g.isPending,className:"btn-primary flex items-center gap-2",children:[g.isPending?c.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}):c.jsx(sa,{className:"w-4 h-4"}),c.jsx("span",{className:"hidden md:inline",children:"Save"})]}),c.jsxs("button",{onClick:O,className:"btn-secondary flex items-center gap-2",children:[c.jsx(aa,{className:"w-4 h-4"}),c.jsx("span",{className:"hidden md:inline",children:"Cancel"})]})]})]}):c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"flex-1",children:[c.jsx("div",{className:"font-medium",children:I.name}),U&&c.jsxs("div",{className:"text-sm text-gray-500 mt-1",children:["Inverse: ",c.jsx("span",{className:"font-medium",children:U.name})]}),!U&&((Y=I.acf)==null?void 0:Y.inverse_relationship_type)===null&&c.jsx("div",{className:"text-sm text-gray-400 mt-1 italic",children:"No inverse relationship"})]}),c.jsxs("div",{className:"flex gap-2",children:[c.jsx("button",{onClick:()=>E(I),className:"p-2 text-gray-600 hover:text-primary-600 hover:bg-primary-50 rounded",title:"Edit",children:c.jsx(Fte,{className:"w-4 h-4"})}),c.jsx("button",{onClick:()=>N(I.id,I.name),className:"p-2 text-gray-600 hover:text-red-600 hover:bg-red-50 rounded",title:"Delete",children:c.jsx(xs,{className:"w-4 h-4"})})]})]})},I.id)})})]})})}function tie(){var g,v,x;const[t,e]=$.useState(null),[r,n]=$.useState(""),[i,s]=$.useState(!1),[a,o]=$.useState(null),l=Kt(),u=Et({mutationFn:async w=>{const _=new FormData;return _.append("file",w),(await ye.post("/prm/v1/import/monica/validate",_,{headers:{"Content-Type":"multipart/form-data"}})).data},onSuccess:w=>{o(w)},onError:w=>{var _,E;o({valid:!1,error:((E=(_=w.response)==null?void 0:_.data)==null?void 0:E.message)||"Failed to validate file"})}}),d=Et({mutationFn:async({file:w,monicaUrl:_})=>{const E=new FormData;return E.append("file",w),E.append("monica_url",_),(await ye.post("/prm/v1/import/monica",E,{headers:{"Content-Type":"multipart/form-data"}})).data},onSuccess:()=>{l.invalidateQueries({queryKey:["people"]}),l.invalidateQueries({queryKey:["companies"]}),l.invalidateQueries({queryKey:["dates"]}),l.invalidateQueries({queryKey:["dashboard"]})}}),h=$.useCallback(w=>{w.preventDefault(),w.stopPropagation(),w.type==="dragenter"||w.type==="dragover"?s(!0):w.type==="dragleave"&&s(!1)},[]),f=$.useCallback(w=>{w.preventDefault(),w.stopPropagation(),s(!1),w.dataTransfer.files&&w.dataTransfer.files[0]&&m(w.dataTransfer.files[0])},[]),p=w=>{w.target.files&&w.target.files[0]&&m(w.target.files[0])},m=w=>{if(!w.name.endsWith(".sql")){o({valid:!1,error:"Please select a SQL file"});return}e(w),o(null),d.reset(),u.mutate(w)},y=()=>{if(!r.trim()){o(w=>({...w,urlError:"Please enter your Monica instance URL"}));return}t&&(a!=null&&a.valid)&&d.mutate({file:t,monicaUrl:r.trim()})},b=()=>{e(null),n(""),o(null),u.reset(),d.reset()};return c.jsxs("div",{className:"space-y-4",children:[c.jsx("h2",{className:"text-lg font-semibold",children:"Import from Monica"}),c.jsx("p",{className:"text-sm text-gray-600",children:"Import contacts, relationships, notes, and photos from a Monica CRM SQL export file. Reimporting the same file will update existing contacts instead of creating duplicates."}),d.isSuccess?c.jsx("div",{className:"rounded-lg border border-green-200 bg-green-50 p-4",children:c.jsxs("div",{className:"flex items-start gap-3",children:[c.jsx(eu,{className:"h-5 w-5 text-green-600 mt-0.5"}),c.jsxs("div",{className:"flex-1",children:[c.jsx("h3",{className:"font-medium text-green-900",children:"Import Complete"}),c.jsxs("div",{className:"mt-2 text-sm text-green-800 space-y-1",children:[c.jsxs("p",{children:["Contacts imported: ",d.data.stats.contacts_imported]}),c.jsxs("p",{children:["Contacts updated: ",d.data.stats.contacts_updated]}),c.jsxs("p",{children:["Contacts skipped (partial): ",d.data.stats.contacts_skipped]}),c.jsxs("p",{children:["Photos imported: ",d.data.stats.photos_imported]}),c.jsxs("p",{children:["Companies created: ",d.data.stats.companies_created]}),c.jsxs("p",{children:["Relationships created: ",d.data.stats.relationships_created]}),c.jsxs("p",{children:["Important dates created: ",d.data.stats.dates_created]}),c.jsxs("p",{children:["Notes created: ",d.data.stats.notes_created]}),((g=d.data.stats.errors)==null?void 0:g.length)>0&&c.jsxs("div",{className:"mt-2 pt-2 border-t border-green-200",children:[c.jsx("p",{className:"font-medium",children:"Errors:"}),c.jsx("ul",{className:"list-disc list-inside",children:d.data.stats.errors.map((w,_)=>c.jsx("li",{children:w},_))})]})]}),c.jsx("button",{onClick:b,className:"mt-3 text-sm text-green-700 hover:text-green-800 font-medium",children:"Import another file"})]})]})}):c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:`relative rounded-lg border-2 border-dashed p-8 text-center transition-colors ${i?"border-primary-500 bg-primary-50":t?"border-green-300 bg-green-50":"border-gray-300 hover:border-gray-400"}`,onDragEnter:h,onDragLeave:h,onDragOver:h,onDrop:f,children:[c.jsx("input",{type:"file",accept:".sql",onChange:p,className:"absolute inset-0 w-full h-full opacity-0 cursor-pointer"}),u.isPending?c.jsxs("div",{className:"flex flex-col items-center gap-2",children:[c.jsx(po,{className:"h-8 w-8 text-primary-600 animate-spin"}),c.jsx("p",{className:"text-gray-600",children:"Validating file..."})]}):t?c.jsxs("div",{className:"flex flex-col items-center gap-2",children:[c.jsx(Ap,{className:"h-8 w-8 text-green-600"}),c.jsx("p",{className:"font-medium text-gray-900",children:t.name}),c.jsxs("p",{className:"text-sm text-gray-500",children:[(t.size/1024/1024).toFixed(2)," MB"]})]}):c.jsxs("div",{className:"flex flex-col items-center gap-2",children:[c.jsx(tu,{className:"h-8 w-8 text-gray-400"}),c.jsx("p",{className:"text-gray-600",children:"Drag and drop your Monica SQL export file here, or click to browse"}),c.jsx("p",{className:"text-sm text-gray-500",children:"Supports SQL export files"})]})]}),a&&c.jsx("div",{className:`rounded-lg border p-4 ${a.valid?"border-green-200 bg-green-50":"border-red-200 bg-red-50"}`,children:a.valid?c.jsxs("div",{className:"flex items-start gap-3",children:[c.jsx(eu,{className:"h-5 w-5 text-green-600 mt-0.5"}),c.jsxs("div",{className:"flex-1",children:[c.jsx("h3",{className:"font-medium text-green-900",children:"File validated successfully"}),c.jsxs("div",{className:"mt-2 text-sm text-green-800",children:[c.jsxs("p",{children:["Export format: ",a.version]}),c.jsxs("p",{children:["Contacts to import: ",a.summary.contacts]}),c.jsxs("p",{children:["Relationships: ",a.summary.relationships]}),c.jsxs("p",{children:["Notes: ",a.summary.notes]}),c.jsxs("p",{children:["Dates: ",a.summary.reminders]}),c.jsxs("p",{children:["Photos: ",a.summary.photos]}),c.jsxs("p",{children:["Companies: ",a.summary.companies_count]})]})]})]}):c.jsxs("div",{className:"flex items-start gap-3",children:[c.jsx(ho,{className:"h-5 w-5 text-red-600 mt-0.5"}),c.jsxs("div",{children:[c.jsx("h3",{className:"font-medium text-red-900",children:"Validation failed"}),c.jsx("p",{className:"text-sm text-red-700 mt-1",children:a.error})]})]})}),(a==null?void 0:a.valid)&&c.jsxs("div",{className:"space-y-2",children:[c.jsx("label",{htmlFor:"monica-url",className:"block text-sm font-medium text-gray-700",children:"Monica Instance URL"}),c.jsxs("div",{className:"relative",children:[c.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:c.jsx(jte,{className:"h-4 w-4 text-gray-400"})}),c.jsx("input",{type:"url",id:"monica-url",value:r,onChange:w=>n(w.target.value),placeholder:"https://your-monica-instance.com",className:`block w-full pl-10 pr-3 py-2 border rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500 ${a.urlError?"border-red-300":"border-gray-300"}`})]}),a.urlError&&c.jsx("p",{className:"text-sm text-red-600",children:a.urlError}),c.jsx("p",{className:"text-xs text-gray-500",children:"Enter the URL of your Monica instance to import photos. Photos will be downloaded from this URL."})]}),(a==null?void 0:a.valid)&&c.jsxs("div",{className:"flex gap-3",children:[c.jsx("button",{onClick:y,disabled:d.isPending,className:"btn-primary flex items-center gap-2",children:d.isPending?c.jsxs(c.Fragment,{children:[c.jsx(po,{className:"h-4 w-4 animate-spin"}),c.jsx("span",{className:"hidden md:inline",children:"Importing..."})]}):c.jsxs(c.Fragment,{children:[c.jsx(tu,{className:"h-4 w-4"}),c.jsx("span",{className:"hidden md:inline",children:"Start Import"})]})}),c.jsx("button",{onClick:b,disabled:d.isPending,className:"btn-secondary",children:"Cancel"})]}),d.isError&&c.jsx("div",{className:"rounded-lg border border-red-200 bg-red-50 p-4",children:c.jsxs("div",{className:"flex items-start gap-3",children:[c.jsx(ho,{className:"h-5 w-5 text-red-600 mt-0.5"}),c.jsxs("div",{children:[c.jsx("h3",{className:"font-medium text-red-900",children:"Import failed"}),c.jsx("p",{className:"text-sm text-red-700 mt-1",children:((x=(v=d.error.response)==null?void 0:v.data)==null?void 0:x.message)||"An error occurred during import"})]})]})})]})]})}function rie(){var y,b,g;const[t,e]=$.useState(null),[r,n]=$.useState(!1),[i,s]=$.useState(null),a=Kt(),o=Et({mutationFn:async v=>{const x=new FormData;return x.append("file",v),(await ye.post("/prm/v1/import/vcard/validate",x,{headers:{"Content-Type":"multipart/form-data"}})).data},onSuccess:v=>{s(v)},onError:v=>{var x,w;s({valid:!1,error:((w=(x=v.response)==null?void 0:x.data)==null?void 0:w.message)||"Failed to validate file"})}}),l=Et({mutationFn:async v=>{const x=new FormData;return x.append("file",v),(await ye.post("/prm/v1/import/vcard",x,{headers:{"Content-Type":"multipart/form-data"}})).data},onSuccess:()=>{a.invalidateQueries({queryKey:["people"]}),a.invalidateQueries({queryKey:["companies"]}),a.invalidateQueries({queryKey:["dates"]}),a.invalidateQueries({queryKey:["dashboard"]})}}),u=$.useCallback(v=>{v.preventDefault(),v.stopPropagation(),v.type==="dragenter"||v.type==="dragover"?n(!0):v.type==="dragleave"&&n(!1)},[]),d=$.useCallback(v=>{v.preventDefault(),v.stopPropagation(),n(!1),v.dataTransfer.files&&v.dataTransfer.files[0]&&f(v.dataTransfer.files[0])},[]),h=v=>{v.target.files&&v.target.files[0]&&f(v.target.files[0])},f=v=>{const x=v.name.split(".").pop().toLowerCase();if(x!=="vcf"&&x!=="vcard"){s({valid:!1,error:"Please select a vCard file (.vcf)"});return}e(v),s(null),l.reset(),o.mutate(v)},p=()=>{t&&(i!=null&&i.valid)&&l.mutate(t)},m=()=>{e(null),s(null),o.reset(),l.reset()};return c.jsxs("div",{className:"space-y-4",children:[c.jsx("h2",{className:"text-lg font-semibold",children:"Import from vCard"}),c.jsx("p",{className:"text-sm text-gray-600",children:"Import contacts from a vCard (.vcf) file. vCard is a standard format supported by most contact apps including Apple Contacts, Outlook, and Android. Files can contain one or multiple contacts."}),l.isSuccess?c.jsx("div",{className:"rounded-lg border border-green-200 bg-green-50 p-4",children:c.jsxs("div",{className:"flex items-start gap-3",children:[c.jsx(eu,{className:"h-5 w-5 text-green-600 mt-0.5"}),c.jsxs("div",{className:"flex-1",children:[c.jsx("h3",{className:"font-medium text-green-900",children:"Import Complete"}),c.jsxs("div",{className:"mt-2 text-sm text-green-800 space-y-1",children:[c.jsxs("p",{children:["Contacts imported: ",l.data.stats.contacts_imported]}),c.jsxs("p",{children:["Contacts updated: ",l.data.stats.contacts_updated]}),c.jsxs("p",{children:["Contacts skipped: ",l.data.stats.contacts_skipped]}),c.jsxs("p",{children:["Photos imported: ",l.data.stats.photos_imported]}),c.jsxs("p",{children:["Companies created: ",l.data.stats.companies_created]}),c.jsxs("p",{children:["Birthdays created: ",l.data.stats.dates_created]}),c.jsxs("p",{children:["Notes created: ",l.data.stats.notes_created]}),((y=l.data.stats.errors)==null?void 0:y.length)>0&&c.jsxs("div",{className:"mt-2 pt-2 border-t border-green-200",children:[c.jsx("p",{className:"font-medium",children:"Errors:"}),c.jsx("ul",{className:"list-disc list-inside",children:l.data.stats.errors.map((v,x)=>c.jsx("li",{children:v},x))})]})]}),c.jsx("button",{onClick:m,className:"mt-3 text-sm text-green-700 hover:text-green-800 font-medium",children:"Import another file"})]})]})}):c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:`relative rounded-lg border-2 border-dashed p-8 text-center transition-colors ${r?"border-primary-500 bg-primary-50":t?"border-green-300 bg-green-50":"border-gray-300 hover:border-gray-400"}`,onDragEnter:u,onDragLeave:u,onDragOver:u,onDrop:d,children:[c.jsx("input",{type:"file",accept:".vcf,.vcard",onChange:h,className:"absolute inset-0 w-full h-full opacity-0 cursor-pointer"}),o.isPending?c.jsxs("div",{className:"flex flex-col items-center gap-2",children:[c.jsx(po,{className:"h-8 w-8 text-primary-600 animate-spin"}),c.jsx("p",{className:"text-gray-600",children:"Validating file..."})]}):t?c.jsxs("div",{className:"flex flex-col items-center gap-2",children:[c.jsx(Ap,{className:"h-8 w-8 text-green-600"}),c.jsx("p",{className:"font-medium text-gray-900",children:t.name}),c.jsxs("p",{className:"text-sm text-gray-500",children:[(t.size/1024).toFixed(2)," KB"]})]}):c.jsxs("div",{className:"flex flex-col items-center gap-2",children:[c.jsx(tu,{className:"h-8 w-8 text-gray-400"}),c.jsx("p",{className:"text-gray-600",children:"Drag and drop your vCard file here, or click to browse"}),c.jsx("p",{className:"text-sm text-gray-500",children:"Supports .vcf and .vcard files"})]})]}),i&&c.jsx("div",{className:`rounded-lg border p-4 ${i.valid?"border-green-200 bg-green-50":"border-red-200 bg-red-50"}`,children:i.valid?c.jsxs("div",{className:"flex items-start gap-3",children:[c.jsx(eu,{className:"h-5 w-5 text-green-600 mt-0.5"}),c.jsxs("div",{className:"flex-1",children:[c.jsx("h3",{className:"font-medium text-green-900",children:"File validated successfully"}),c.jsxs("div",{className:"mt-3 grid grid-cols-2 sm:grid-cols-3 gap-3",children:[c.jsxs("div",{className:"flex items-center gap-2 text-sm text-green-800",children:[c.jsx(mo,{className:"h-4 w-4"}),c.jsxs("span",{children:[i.summary.contacts," contacts"]})]}),i.summary.companies_count>0&&c.jsxs("div",{className:"flex items-center gap-2 text-sm text-green-800",children:[c.jsx(ns,{className:"h-4 w-4"}),c.jsxs("span",{children:[i.summary.companies_count," companies"]})]}),i.summary.birthdays>0&&c.jsxs("div",{className:"flex items-center gap-2 text-sm text-green-800",children:[c.jsx(lK,{className:"h-4 w-4"}),c.jsxs("span",{children:[i.summary.birthdays," birthdays"]})]}),i.summary.photos>0&&c.jsxs("div",{className:"flex items-center gap-2 text-sm text-green-800",children:[c.jsx(uK,{className:"h-4 w-4"}),c.jsxs("span",{children:[i.summary.photos," photos"]})]}),i.summary.notes>0&&c.jsxs("div",{className:"flex items-center gap-2 text-sm text-green-800",children:[c.jsx(vK,{className:"h-4 w-4"}),c.jsxs("span",{children:[i.summary.notes," notes"]})]})]})]})]}):c.jsxs("div",{className:"flex items-start gap-3",children:[c.jsx(ho,{className:"h-5 w-5 text-red-600 mt-0.5"}),c.jsxs("div",{children:[c.jsx("h3",{className:"font-medium text-red-900",children:"Validation failed"}),c.jsx("p",{className:"text-sm text-red-700 mt-1",children:i.error})]})]})}),(i==null?void 0:i.valid)&&c.jsxs("div",{className:"flex gap-3",children:[c.jsx("button",{onClick:p,disabled:l.isPending,className:"btn-primary flex items-center gap-2",children:l.isPending?c.jsxs(c.Fragment,{children:[c.jsx(po,{className:"h-4 w-4 animate-spin"}),c.jsx("span",{className:"hidden md:inline",children:"Importing..."})]}):c.jsxs(c.Fragment,{children:[c.jsx(tu,{className:"h-4 w-4"}),c.jsx("span",{className:"hidden md:inline",children:"Start Import"})]})}),c.jsx("button",{onClick:m,disabled:l.isPending,className:"btn-secondary",children:"Cancel"})]}),l.isError&&c.jsx("div",{className:"rounded-lg border border-red-200 bg-red-50 p-4",children:c.jsxs("div",{className:"flex items-start gap-3",children:[c.jsx(ho,{className:"h-5 w-5 text-red-600 mt-0.5"}),c.jsxs("div",{children:[c.jsx("h3",{className:"font-medium text-red-900",children:"Import failed"}),c.jsx("p",{className:"text-sm text-red-700 mt-1",children:((g=(b=l.error.response)==null?void 0:b.data)==null?void 0:g.message)||"An error occurred during import"})]})]})})]})]})}function nie(){var w,_,E;const[t,e]=$.useState(null),[r,n]=$.useState(!1),[i,s]=$.useState(null),[a,o]=$.useState({}),l=Kt(),u=Et({mutationFn:async O=>{const S=new FormData;return S.append("file",O),(await ye.post("/prm/v1/import/google-contacts/validate",S,{headers:{"Content-Type":"multipart/form-data"}})).data},onSuccess:O=>{var S;if(s(O),((S=O.duplicates)==null?void 0:S.length)>0){const P={};O.duplicates.forEach(N=>{P[N.index]="merge"}),o(P)}},onError:O=>{var S,P;s({valid:!1,error:((P=(S=O.response)==null?void 0:S.data)==null?void 0:P.message)||"Failed to validate file"})}}),d=Et({mutationFn:async({file:O,decisions:S})=>{const P=new FormData;return P.append("file",O),P.append("decisions",JSON.stringify(S)),(await ye.post("/prm/v1/import/google-contacts",P,{headers:{"Content-Type":"multipart/form-data"}})).data},onSuccess:()=>{l.invalidateQueries({queryKey:["people"]}),l.invalidateQueries({queryKey:["companies"]}),l.invalidateQueries({queryKey:["dates"]}),l.invalidateQueries({queryKey:["dashboard"]})}}),h=$.useCallback(O=>{O.preventDefault(),O.stopPropagation(),O.type==="dragenter"||O.type==="dragover"?n(!0):O.type==="dragleave"&&n(!1)},[]),f=$.useCallback(O=>{O.preventDefault(),O.stopPropagation(),n(!1),O.dataTransfer.files&&O.dataTransfer.files[0]&&m(O.dataTransfer.files[0])},[]),p=O=>{O.target.files&&O.target.files[0]&&m(O.target.files[0])},m=O=>{if(!O.name.endsWith(".csv")){s({valid:!1,error:"Please select a CSV file"});return}e(O),s(null),o({}),d.reset(),u.mutate(O)},y=(O,S)=>{o(P=>({...P,[O]:S}))},b=()=>{t&&(i!=null&&i.valid)&&d.mutate({file:t,decisions:a})},g=()=>{e(null),s(null),o({}),u.reset(),d.reset()},v=(i==null?void 0:i.duplicates)||[],x=v.length>0;return c.jsxs("div",{className:"space-y-4",children:[c.jsx("h2",{className:"text-lg font-semibold",children:"Import from Google Contacts"}),c.jsx("p",{className:"text-sm text-gray-600",children:"Import contacts from a Google Contacts CSV export. To export from Google:"}),c.jsxs("ol",{className:"text-sm text-gray-600 list-decimal list-inside space-y-1 ml-2",children:[c.jsxs("li",{children:["Go to ",c.jsx("a",{href:"https://contacts.google.com",target:"_blank",rel:"noopener noreferrer",className:"text-primary-600 hover:underline",children:"contacts.google.com"})]}),c.jsx("li",{children:'Click "Export" in the left sidebar'}),c.jsx("li",{children:'Select "Google CSV" format and click "Export"'})]}),d.isSuccess?c.jsx("div",{className:"rounded-lg border border-green-200 bg-green-50 p-4",children:c.jsxs("div",{className:"flex items-start gap-3",children:[c.jsx(eu,{className:"h-5 w-5 text-green-600 mt-0.5"}),c.jsxs("div",{className:"flex-1",children:[c.jsx("h3",{className:"font-medium text-green-900",children:"Import Complete"}),c.jsxs("div",{className:"mt-2 text-sm text-green-800 space-y-1",children:[c.jsxs("p",{children:["Contacts imported: ",d.data.stats.contacts_imported]}),c.jsxs("p",{children:["Contacts updated: ",d.data.stats.contacts_updated]}),c.jsxs("p",{children:["Contacts skipped: ",d.data.stats.contacts_skipped]}),c.jsxs("p",{children:["Companies created: ",d.data.stats.companies_created]}),c.jsxs("p",{children:["Birthdays created: ",d.data.stats.dates_created]}),c.jsxs("p",{children:["Notes created: ",d.data.stats.notes_created]}),c.jsxs("p",{children:["Photos imported: ",d.data.stats.photos_imported]}),((w=d.data.stats.errors)==null?void 0:w.length)>0&&c.jsxs("div",{className:"mt-2 pt-2 border-t border-green-200",children:[c.jsx("p",{className:"font-medium",children:"Errors:"}),c.jsx("ul",{className:"list-disc list-inside",children:d.data.stats.errors.map((O,S)=>c.jsx("li",{children:O},S))})]})]}),c.jsx("button",{onClick:g,className:"mt-3 text-sm text-green-700 hover:text-green-800 font-medium",children:"Import another file"})]})]})}):c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:`relative rounded-lg border-2 border-dashed p-8 text-center transition-colors ${r?"border-primary-500 bg-primary-50":t?"border-green-300 bg-green-50":"border-gray-300 hover:border-gray-400"}`,onDragEnter:h,onDragLeave:h,onDragOver:h,onDrop:f,children:[c.jsx("input",{type:"file",accept:".csv",onChange:p,className:"absolute inset-0 w-full h-full opacity-0 cursor-pointer"}),u.isPending?c.jsxs("div",{className:"flex flex-col items-center gap-2",children:[c.jsx(po,{className:"h-8 w-8 text-primary-600 animate-spin"}),c.jsx("p",{className:"text-gray-600",children:"Validating file..."})]}):t?c.jsxs("div",{className:"flex flex-col items-center gap-2",children:[c.jsx(IC,{className:"h-8 w-8 text-green-600"}),c.jsx("p",{className:"font-medium text-gray-900",children:t.name}),c.jsxs("p",{className:"text-sm text-gray-500",children:[(t.size/1024).toFixed(2)," KB"]})]}):c.jsxs("div",{className:"flex flex-col items-center gap-2",children:[c.jsx(tu,{className:"h-8 w-8 text-gray-400"}),c.jsx("p",{className:"text-gray-600",children:"Drag and drop your Google Contacts CSV here, or click to browse"}),c.jsx("p",{className:"text-sm text-gray-500",children:"Supports Google CSV format"})]})]}),i&&c.jsx("div",{className:`rounded-lg border p-4 ${i.valid?"border-green-200 bg-green-50":"border-red-200 bg-red-50"}`,children:i.valid?c.jsxs("div",{className:"flex items-start gap-3",children:[c.jsx(eu,{className:"h-5 w-5 text-green-600 mt-0.5"}),c.jsxs("div",{className:"flex-1",children:[c.jsx("h3",{className:"font-medium text-green-900",children:"File validated successfully"}),c.jsxs("div",{className:"mt-3 grid grid-cols-2 sm:grid-cols-3 gap-3",children:[c.jsxs("div",{className:"flex items-center gap-2 text-sm text-green-800",children:[c.jsx(mo,{className:"h-4 w-4"}),c.jsxs("span",{children:[i.summary.contacts," contacts"]})]}),i.summary.companies_count>0&&c.jsxs("div",{className:"flex items-center gap-2 text-sm text-green-800",children:[c.jsx(ns,{className:"h-4 w-4"}),c.jsxs("span",{children:[i.summary.companies_count," companies"]})]}),i.summary.birthdays>0&&c.jsxs("div",{className:"flex items-center gap-2 text-sm text-green-800",children:[c.jsx(lK,{className:"h-4 w-4"}),c.jsxs("span",{children:[i.summary.birthdays," birthdays"]})]}),i.summary.notes>0&&c.jsxs("div",{className:"flex items-center gap-2 text-sm text-green-800",children:[c.jsx(vK,{className:"h-4 w-4"}),c.jsxs("span",{children:[i.summary.notes," notes"]})]}),i.summary.photos>0&&c.jsxs("div",{className:"flex items-center gap-2 text-sm text-green-800",children:[c.jsx(uK,{className:"h-4 w-4"}),c.jsxs("span",{children:[i.summary.photos," photos"]})]})]})]})]}):c.jsxs("div",{className:"flex items-start gap-3",children:[c.jsx(ho,{className:"h-5 w-5 text-red-600 mt-0.5"}),c.jsxs("div",{children:[c.jsx("h3",{className:"font-medium text-red-900",children:"Validation failed"}),c.jsx("p",{className:"text-sm text-red-700 mt-1",children:i.error})]})]})}),(i==null?void 0:i.valid)&&x&&c.jsx("div",{className:"rounded-lg border border-amber-200 bg-amber-50 p-4",children:c.jsxs("div",{className:"flex items-start gap-3",children:[c.jsx(xte,{className:"h-5 w-5 text-amber-600 mt-0.5 flex-shrink-0"}),c.jsxs("div",{className:"flex-1",children:[c.jsxs("h3",{className:"font-medium text-amber-900",children:[v.length," contact",v.length>1?"s":""," may already exist"]}),c.jsx("p",{className:"text-sm text-amber-700 mt-1",children:"Choose how to handle each potential duplicate:"}),c.jsx("div",{className:"mt-4 space-y-4",children:v.map(O=>c.jsx(iie,{duplicate:O,decision:a[O.index]||"merge",onDecision:S=>y(O.index,S)},O.index))})]})]})}),(i==null?void 0:i.valid)&&c.jsxs("div",{className:"flex gap-3",children:[c.jsx("button",{onClick:b,disabled:d.isPending,className:"btn-primary flex items-center gap-2",children:d.isPending?c.jsxs(c.Fragment,{children:[c.jsx(po,{className:"h-4 w-4 animate-spin"}),c.jsx("span",{className:"hidden md:inline",children:"Importing..."})]}):c.jsxs(c.Fragment,{children:[c.jsx(tu,{className:"h-4 w-4"}),c.jsx("span",{className:"hidden md:inline",children:"Start Import"})]})}),c.jsx("button",{onClick:g,disabled:d.isPending,className:"btn-secondary",children:"Cancel"})]}),d.isError&&c.jsx("div",{className:"rounded-lg border border-red-200 bg-red-50 p-4",children:c.jsxs("div",{className:"flex items-start gap-3",children:[c.jsx(ho,{className:"h-5 w-5 text-red-600 mt-0.5"}),c.jsxs("div",{children:[c.jsx("h3",{className:"font-medium text-red-900",children:"Import failed"}),c.jsx("p",{className:"text-sm text-red-700 mt-1",children:((E=(_=d.error.response)==null?void 0:_.data)==null?void 0:E.message)||"An error occurred during import"})]})]})})]})]})}function iie({duplicate:t,decision:e,onDecision:r}){var n,i;return c.jsxs("div",{className:"bg-white rounded-lg border border-amber-200 p-4",children:[c.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[c.jsxs("div",{className:"flex-1 min-w-0",children:[c.jsx("p",{className:"text-xs font-medium text-gray-500 uppercase tracking-wide mb-1",children:"From CSV"}),c.jsx("p",{className:"font-medium text-gray-900 truncate",children:t.csv_name}),t.csv_org&&c.jsx("p",{className:"text-sm text-gray-600 truncate",children:t.csv_org}),t.csv_email&&c.jsx("p",{className:"text-sm text-gray-500 truncate",children:t.csv_email})]}),c.jsx("div",{className:"hidden sm:flex items-center text-gray-400",children:c.jsx("span",{className:"text-lg",children:""})}),c.jsxs("div",{className:"flex-1 min-w-0",children:[c.jsx("p",{className:"text-xs font-medium text-gray-500 uppercase tracking-wide mb-1",children:"Existing Contact"}),c.jsxs("div",{className:"flex items-start gap-3",children:[t.existing_photo?c.jsx("img",{src:t.existing_photo,alt:"",className:"w-10 h-10 rounded-full object-cover flex-shrink-0"}):c.jsx("div",{className:"w-10 h-10 rounded-full bg-gray-200 flex items-center justify-center flex-shrink-0",children:c.jsx("span",{className:"text-gray-500 text-sm font-medium",children:((i=(n=t.existing_name)==null?void 0:n.charAt(0))==null?void 0:i.toUpperCase())||"?"})}),c.jsxs("div",{className:"min-w-0",children:[c.jsx("p",{className:"font-medium text-gray-900 truncate",children:t.existing_name}),t.existing_org&&c.jsx("p",{className:"text-sm text-gray-600 truncate",children:t.existing_org}),t.existing_email&&c.jsx("p",{className:"text-sm text-gray-500 truncate",children:t.existing_email})]})]})]})]}),c.jsxs("div",{className:"mt-4 flex flex-wrap gap-2",children:[c.jsxs("button",{type:"button",onClick:()=>r("merge"),className:`flex items-center gap-1.5 px-3 py-1.5 rounded-md text-sm font-medium transition-colors ${e==="merge"?"bg-primary-100 text-primary-800 ring-2 ring-primary-500":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:[c.jsx(Bte,{className:"h-4 w-4"}),"Update existing"]}),c.jsxs("button",{type:"button",onClick:()=>r("new"),className:`flex items-center gap-1.5 px-3 py-1.5 rounded-md text-sm font-medium transition-colors ${e==="new"?"bg-green-100 text-green-800 ring-2 ring-green-500":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:[c.jsx(Wte,{className:"h-4 w-4"}),"Create new"]}),c.jsxs("button",{type:"button",onClick:()=>r("skip"),className:`flex items-center gap-1.5 px-3 py-1.5 rounded-md text-sm font-medium transition-colors ${e==="skip"?"bg-gray-200 text-gray-800 ring-2 ring-gray-500":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:[c.jsx(zte,{className:"h-4 w-4"}),"Skip"]})]})]})}const yR=[{id:"vcard",name:"vCard",description:"Apple Contacts, Outlook, Android",icon:Ap,component:rie},{id:"google",name:"Google Contacts",description:"CSV export from Google",icon:IC,component:nie},{id:"monica",name:"Monica CRM",description:"SQL export from Monica",icon:Pte,component:tie}];function sie(){var n;yn("Import - Settings");const[t,e]=$.useState("vcard"),r=(n=yR.find(i=>i.id===t))==null?void 0:n.component;return c.jsxs("div",{className:"max-w-2xl mx-auto space-y-6",children:[c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsxs(he,{to:"/settings",className:"btn-secondary flex items-center gap-2",children:[c.jsx(qn,{className:"w-4 h-4"}),c.jsx("span",{className:"hidden md:inline",children:"Back to Settings"})]}),c.jsx("h1",{className:"text-2xl font-semibold",children:"Import Contacts"})]}),c.jsxs("div",{className:"card p-6",children:[c.jsx("p",{className:"text-sm text-gray-600 mb-6",children:"Import your contacts from various sources. Existing contacts with matching names will be updated instead of duplicated."}),c.jsx("div",{className:"border-b border-gray-200 mb-6",children:c.jsx("nav",{className:"-mb-px flex space-x-6","aria-label":"Import types",children:yR.map(i=>{const s=i.icon,a=t===i.id;return c.jsxs("button",{onClick:()=>e(i.id),className:`group inline-flex items-center py-3 px-1 border-b-2 font-medium text-sm transition-colors ${a?"border-primary-500 text-primary-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[c.jsx(s,{className:`mr-2 h-5 w-5 ${a?"text-primary-500":"text-gray-400 group-hover:text-gray-500"}`}),c.jsxs("div",{className:"text-left",children:[c.jsx("span",{className:"block",children:i.name}),c.jsx("span",{className:`block text-xs font-normal ${a?"text-primary-400":"text-gray-400"}`,children:i.description})]})]},i.id)})})}),r&&c.jsx(r,{})]})]})}function aie(){yn("Export Data - Settings");const t=e=>{e==="vcard"?window.location.href="/wp-json/prm/v1/export/vcard":e==="google-csv"&&(window.location.href="/wp-json/prm/v1/export/google-csv")};return c.jsxs("div",{className:"max-w-2xl mx-auto space-y-6",children:[c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsxs(he,{to:"/settings",className:"btn-secondary flex items-center gap-2",children:[c.jsx(qn,{className:"w-4 h-4"}),c.jsx("span",{className:"hidden md:inline",children:"Back to Settings"})]}),c.jsx("h1",{className:"text-2xl font-semibold",children:"Export Data"})]}),c.jsxs("div",{className:"card p-6",children:[c.jsx("p",{className:"text-sm text-gray-600 mb-6",children:"Export all your contacts in a format compatible with other contact management systems."}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("button",{onClick:()=>t("vcard"),className:"w-full p-4 rounded-lg border border-gray-200 hover:bg-gray-50 text-left flex items-center gap-4",children:[c.jsx("div",{className:"p-3 bg-primary-50 rounded-lg",children:c.jsx(Ap,{className:"w-6 h-6 text-primary-600"})}),c.jsxs("div",{className:"flex-1",children:[c.jsx("p",{className:"font-medium",children:"Export as vCard (.vcf)"}),c.jsx("p",{className:"text-sm text-gray-500",children:"Compatible with Apple Contacts, Outlook, Android, and most contact apps"})]}),c.jsx(ZP,{className:"w-5 h-5 text-gray-400"})]}),c.jsxs("button",{onClick:()=>t("google-csv"),className:"w-full p-4 rounded-lg border border-gray-200 hover:bg-gray-50 text-left flex items-center gap-4",children:[c.jsx("div",{className:"p-3 bg-primary-50 rounded-lg",children:c.jsx(IC,{className:"w-6 h-6 text-primary-600"})}),c.jsxs("div",{className:"flex-1",children:[c.jsx("p",{className:"font-medium",children:"Export as Google Contacts CSV"}),c.jsx("p",{className:"text-sm text-gray-500",children:"Import directly into Google Contacts or other CSV-compatible systems"})]}),c.jsx(ZP,{className:"w-5 h-5 text-gray-400"})]})]})]})]})}function oie(){yn("User Approval - Settings");const t=Kt();if(!((window.prmConfig||{}).isAdmin||!1))return c.jsx("div",{className:"max-w-2xl mx-auto",children:c.jsxs("div",{className:"card p-8 text-center",children:[c.jsx(fK,{className:"w-16 h-16 mx-auto text-amber-500 mb-4"}),c.jsx("h1",{className:"text-2xl font-bold mb-2",children:"Access Denied"}),c.jsx("p",{className:"text-gray-600 mb-6",children:"You don't have permission to manage user approvals. This feature is only available to administrators."}),c.jsx(he,{to:"/settings",className:"btn-primary",children:"Back to Settings"})]})});const{data:n=[],isLoading:i}=ot({queryKey:["users"],queryFn:async()=>(await Ht.getUsers()).data}),s=Et({mutationFn:h=>Ht.approveUser(h),onSuccess:()=>{t.invalidateQueries({queryKey:["users"]})}}),a=Et({mutationFn:h=>Ht.denyUser(h),onSuccess:()=>{t.invalidateQueries({queryKey:["users"]})}}),o=h=>{window.confirm("Are you sure you want to approve this user?")&&s.mutate(h)},l=h=>{window.confirm("Are you sure you want to deny this user? They will not be able to access the system.")&&a.mutate(h)};if(i)return c.jsx("div",{className:"flex items-center justify-center h-64",children:c.jsx(po,{className:"w-8 h-8 animate-spin text-primary-600"})});const u=n.filter(h=>!h.is_approved),d=n.filter(h=>h.is_approved);return c.jsxs("div",{className:"max-w-2xl mx-auto space-y-6",children:[c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsxs(he,{to:"/settings",className:"btn-secondary flex items-center gap-2",children:[c.jsx(qn,{className:"w-4 h-4"}),c.jsx("span",{className:"hidden md:inline",children:"Back to Settings"})]}),c.jsx("h1",{className:"text-2xl font-semibold",children:"User Approval"})]}),c.jsxs("div",{className:"space-y-6",children:[u.length>0&&c.jsxs("div",{children:[c.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Pending Approval"}),c.jsx("div",{className:"space-y-3",children:u.map(h=>c.jsxs("div",{className:"card p-4 flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("p",{className:"font-medium",children:h.name}),c.jsx("p",{className:"text-sm text-gray-500",children:h.email}),c.jsxs("p",{className:"text-xs text-gray-400",children:["Registered: ",new Date(h.registered).toLocaleDateString()]})]}),c.jsxs("div",{className:"flex gap-2",children:[c.jsxs("button",{onClick:()=>o(h.id),disabled:s.isPending,className:"btn-primary flex items-center gap-2",children:[c.jsx(F2,{className:"w-4 h-4"}),"Approve"]}),c.jsxs("button",{onClick:()=>l(h.id),disabled:a.isPending,className:"btn-secondary flex items-center gap-2",children:[c.jsx(z2,{className:"w-4 h-4"}),"Deny"]})]})]},h.id))})]}),d.length>0&&c.jsxs("div",{children:[c.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Approved Users"}),c.jsx("div",{className:"space-y-3",children:d.map(h=>c.jsxs("div",{className:"card p-4 flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsxs("p",{className:"font-medium flex items-center gap-2",children:[h.name,c.jsx(F2,{className:"w-4 h-4 text-green-600"})]}),c.jsx("p",{className:"text-sm text-gray-500",children:h.email})]}),c.jsxs("button",{onClick:()=>l(h.id),disabled:a.isPending,className:"btn-secondary flex items-center gap-2",children:[c.jsx(z2,{className:"w-4 h-4"}),"Revoke Access"]})]},h.id))})]}),n.length===0&&c.jsx("div",{className:"card p-8 text-center",children:c.jsx("p",{className:"text-gray-600",children:"No Caelis users found."})})]})]})}/**
 * vis-data
 * http://visjs.org/
 *
 * Manage unstructured data using DataSet. Add, update, and remove data, and listen for changes in the data.
 *
 * @version 8.0.3
 * @date    2025-09-10T16:22:00.613Z
 *
 * @copyright (c) 2011-2017 Almende B.V, http://almende.com
 * @copyright (c) 2017-2019 visjs contributors, https://github.com/visjs
 *
 * @license
 * vis.js is dual licensed under both
 *
 *   1. The Apache 2.0 License
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 *   and
 *
 *   2. The MIT License
 *      http://opensource.org/licenses/MIT
 *
 * vis.js may be distributed under either license.
 */var bR=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function ke(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var iv={exports:{}},wR={},cc,xR;function qt(){if(xR)return cc;xR=1;var t=function(e){return e&&e.Math===Math&&e};return cc=t(typeof globalThis=="object"&&globalThis)||t(typeof window=="object"&&window)||t(typeof self=="object"&&self)||t(typeof bR=="object"&&bR)||t(typeof cc=="object"&&cc)||function(){return this}()||Function("return this")(),cc}var sv,_R;function Ve(){return _R||(_R=1,sv=function(t){try{return!!t()}catch{return!0}}),sv}var av,SR;function Ld(){if(SR)return av;SR=1;var t=Ve();return av=!t(function(){var e=(function(){}).bind();return typeof e!="function"||e.hasOwnProperty("prototype")}),av}var ov,ER;function zp(){if(ER)return ov;ER=1;var t=Ld(),e=Function.prototype,r=e.apply,n=e.call;return ov=typeof Reflect=="object"&&Reflect.apply||(t?n.bind(r):function(){return n.apply(r,arguments)}),ov}var lv,OR;function Je(){if(OR)return lv;OR=1;var t=Ld(),e=Function.prototype,r=e.call,n=t&&e.bind.bind(r,r);return lv=t?n:function(i){return function(){return r.apply(i,arguments)}},lv}var uv,PR;function us(){if(PR)return uv;PR=1;var t=Je(),e=t({}.toString),r=t("".slice);return uv=function(n){return r(e(n),8,-1)},uv}var cv,NR;function DK(){if(NR)return cv;NR=1;var t=us(),e=Je();return cv=function(r){if(t(r)==="Function")return e(r)},cv}var dv,CR;function er(){if(CR)return dv;CR=1;var t=typeof document=="object"&&document.all;return dv=typeof t>"u"&&t!==void 0?function(e){return typeof e=="function"||e===t}:function(e){return typeof e=="function"},dv}var hv={},fv,TR;function Mt(){if(TR)return fv;TR=1;var t=Ve();return fv=!t(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!==7}),fv}var pv,IR;function nn(){if(IR)return pv;IR=1;var t=Ld(),e=Function.prototype.call;return pv=t?e.bind(e):function(){return e.apply(e,arguments)},pv}var mv={},RR;function AC(){if(RR)return mv;RR=1;var t={}.propertyIsEnumerable,e=Object.getOwnPropertyDescriptor,r=e&&!t.call({1:2},1);return mv.f=r?function(i){var s=e(this,i);return!!s&&s.enumerable}:t,mv}var vv,jR;function Bd(){return jR||(jR=1,vv=function(t,e){return{enumerable:!(t&1),configurable:!(t&2),writable:!(t&4),value:e}}),vv}var gv,$R;function Up(){if($R)return gv;$R=1;var t=Je(),e=Ve(),r=us(),n=Object,i=t("".split);return gv=e(function(){return!n("z").propertyIsEnumerable(0)})?function(s){return r(s)==="String"?i(s,""):n(s)}:n,gv}var yv,kR;function zd(){return kR||(kR=1,yv=function(t){return t==null}),yv}var bv,DR;function Co(){if(DR)return bv;DR=1;var t=zd(),e=TypeError;return bv=function(r){if(t(r))throw new e("Can't call method on "+r);return r},bv}var wv,qR;function Oi(){if(qR)return wv;qR=1;var t=Up(),e=Co();return wv=function(r){return t(e(r))},wv}var xv,MR;function Fr(){if(MR)return xv;MR=1;var t=er();return xv=function(e){return typeof e=="object"?e!==null:t(e)},xv}var _v,AR;function Gt(){return AR||(AR=1,_v={}),_v}var Sv,FR;function bn(){if(FR)return Sv;FR=1;var t=Gt(),e=qt(),r=er(),n=function(i){return r(i)?i:void 0};return Sv=function(i,s){return arguments.length<2?n(t[i])||n(e[i]):t[i]&&t[i][s]||e[i]&&e[i][s]},Sv}var Ev,LR;function tr(){if(LR)return Ev;LR=1;var t=Je();return Ev=t({}.isPrototypeOf),Ev}var Ov,BR;function xu(){if(BR)return Ov;BR=1;var t=qt(),e=t.navigator,r=e&&e.userAgent;return Ov=r?String(r):"",Ov}var Pv,zR;function Ud(){if(zR)return Pv;zR=1;var t=qt(),e=xu(),r=t.process,n=t.Deno,i=r&&r.versions||n&&n.version,s=i&&i.v8,a,o;return s&&(a=s.split("."),o=a[0]>0&&a[0]<4?1:+(a[0]+a[1])),!o&&e&&(a=e.match(/Edge\/(\d+)/),(!a||a[1]>=74)&&(a=e.match(/Chrome\/(\d+)/),a&&(o=+a[1]))),Pv=o,Pv}var Nv,UR;function _u(){if(UR)return Nv;UR=1;var t=Ud(),e=Ve(),r=qt(),n=r.String;return Nv=!!Object.getOwnPropertySymbols&&!e(function(){var i=Symbol("symbol detection");return!n(i)||!(Object(i)instanceof Symbol)||!Symbol.sham&&t&&t<41}),Nv}var Cv,WR;function qK(){if(WR)return Cv;WR=1;var t=_u();return Cv=t&&!Symbol.sham&&typeof Symbol.iterator=="symbol",Cv}var Tv,VR;function Wd(){if(VR)return Tv;VR=1;var t=bn(),e=er(),r=tr(),n=qK(),i=Object;return Tv=n?function(s){return typeof s=="symbol"}:function(s){var a=t("Symbol");return e(a)&&r(a.prototype,i(s))},Tv}var Iv,HR;function Su(){if(HR)return Iv;HR=1;var t=String;return Iv=function(e){try{return t(e)}catch{return"Object"}},Iv}var Rv,KR;function cs(){if(KR)return Rv;KR=1;var t=er(),e=Su(),r=TypeError;return Rv=function(n){if(t(n))return n;throw new r(e(n)+" is not a function")},Rv}var jv,GR;function FC(){if(GR)return jv;GR=1;var t=cs(),e=zd();return jv=function(r,n){var i=r[n];return e(i)?void 0:t(i)},jv}var $v,YR;function lie(){if(YR)return $v;YR=1;var t=nn(),e=er(),r=Fr(),n=TypeError;return $v=function(i,s){var a,o;if(s==="string"&&e(a=i.toString)&&!r(o=t(a,i))||e(a=i.valueOf)&&!r(o=t(a,i))||s!=="string"&&e(a=i.toString)&&!r(o=t(a,i)))return o;throw new n("Can't convert object to primitive value")},$v}var kv={exports:{}},Dv,QR;function Eu(){return QR||(QR=1,Dv=!0),Dv}var qv,XR;function uie(){if(XR)return qv;XR=1;var t=qt(),e=Object.defineProperty;return qv=function(r,n){try{e(t,r,{value:n,configurable:!0,writable:!0})}catch{t[r]=n}return n},qv}var JR;function LC(){if(JR)return kv.exports;JR=1;var t=Eu(),e=qt(),r=uie(),n="__core-js_shared__",i=kv.exports=e[n]||r(n,{});return(i.versions||(i.versions=[])).push({version:"3.44.0",mode:t?"pure":"global",copyright:" 2014-2025 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.44.0/LICENSE",source:"https://github.com/zloirock/core-js"}),kv.exports}var Mv,ZR;function Ou(){if(ZR)return Mv;ZR=1;var t=LC();return Mv=function(e,r){return t[e]||(t[e]=r||{})},Mv}var Av,ej;function ai(){if(ej)return Av;ej=1;var t=Co(),e=Object;return Av=function(r){return e(t(r))},Av}var Fv,tj;function rr(){if(tj)return Fv;tj=1;var t=Je(),e=ai(),r=t({}.hasOwnProperty);return Fv=Object.hasOwn||function(i,s){return r(e(i),s)},Fv}var Lv,rj;function Wp(){if(rj)return Lv;rj=1;var t=Je(),e=0,r=Math.random(),n=t(1.1.toString);return Lv=function(i){return"Symbol("+(i===void 0?"":i)+")_"+n(++e+r,36)},Lv}var Bv,nj;function nr(){if(nj)return Bv;nj=1;var t=qt(),e=Ou(),r=rr(),n=Wp(),i=_u(),s=qK(),a=t.Symbol,o=e("wks"),l=s?a.for||a:a&&a.withoutSetter||n;return Bv=function(u){return r(o,u)||(o[u]=i&&r(a,u)?a[u]:l("Symbol."+u)),o[u]},Bv}var zv,ij;function MK(){if(ij)return zv;ij=1;var t=nn(),e=Fr(),r=Wd(),n=FC(),i=lie(),s=nr(),a=TypeError,o=s("toPrimitive");return zv=function(l,u){if(!e(l)||r(l))return l;var d=n(l,o),h;if(d){if(u===void 0&&(u="default"),h=t(d,l,u),!e(h)||r(h))return h;throw new a("Can't convert object to primitive value")}return u===void 0&&(u="number"),i(l,u)},zv}var Uv,sj;function BC(){if(sj)return Uv;sj=1;var t=MK(),e=Wd();return Uv=function(r){var n=t(r,"string");return e(n)?n:n+""},Uv}var Wv,aj;function AK(){if(aj)return Wv;aj=1;var t=qt(),e=Fr(),r=t.document,n=e(r)&&e(r.createElement);return Wv=function(i){return n?r.createElement(i):{}},Wv}var Vv,oj;function FK(){if(oj)return Vv;oj=1;var t=Mt(),e=Ve(),r=AK();return Vv=!t&&!e(function(){return Object.defineProperty(r("div"),"a",{get:function(){return 7}}).a!==7}),Vv}var lj;function Vp(){if(lj)return hv;lj=1;var t=Mt(),e=nn(),r=AC(),n=Bd(),i=Oi(),s=BC(),a=rr(),o=FK(),l=Object.getOwnPropertyDescriptor;return hv.f=t?l:function(d,h){if(d=i(d),h=s(h),o)try{return l(d,h)}catch{}if(a(d,h))return n(!e(r.f,d,h),d[h])},hv}var Hv,uj;function cie(){if(uj)return Hv;uj=1;var t=Ve(),e=er(),r=/#|\.prototype\./,n=function(l,u){var d=s[i(l)];return d===o?!0:d===a?!1:e(u)?t(u):!!u},i=n.normalize=function(l){return String(l).replace(r,".").toLowerCase()},s=n.data={},a=n.NATIVE="N",o=n.POLYFILL="P";return Hv=n,Hv}var Kv,cj;function Hp(){if(cj)return Kv;cj=1;var t=DK(),e=cs(),r=Ld(),n=t(t.bind);return Kv=function(i,s){return e(i),s===void 0?i:r?n(i,s):function(){return i.apply(s,arguments)}},Kv}var Gv={},Yv,dj;function LK(){if(dj)return Yv;dj=1;var t=Mt(),e=Ve();return Yv=t&&e(function(){return Object.defineProperty(function(){},"prototype",{value:42,writable:!1}).prototype!==42}),Yv}var Qv,hj;function ds(){if(hj)return Qv;hj=1;var t=Fr(),e=String,r=TypeError;return Qv=function(n){if(t(n))return n;throw new r(e(n)+" is not an object")},Qv}var fj;function Mn(){if(fj)return Gv;fj=1;var t=Mt(),e=FK(),r=LK(),n=ds(),i=BC(),s=TypeError,a=Object.defineProperty,o=Object.getOwnPropertyDescriptor,l="enumerable",u="configurable",d="writable";return Gv.f=t?r?function(f,p,m){if(n(f),p=i(p),n(m),typeof f=="function"&&p==="prototype"&&"value"in m&&d in m&&!m[d]){var y=o(f,p);y&&y[d]&&(f[p]=m.value,m={configurable:u in m?m[u]:y[u],enumerable:l in m?m[l]:y[l],writable:!1})}return a(f,p,m)}:a:function(f,p,m){if(n(f),p=i(p),n(m),e)try{return a(f,p,m)}catch{}if("get"in m||"set"in m)throw new s("Accessors not supported");return"value"in m&&(f[p]=m.value),f},Gv}var Xv,pj;function Pu(){if(pj)return Xv;pj=1;var t=Mt(),e=Mn(),r=Bd();return Xv=t?function(n,i,s){return e.f(n,i,r(1,s))}:function(n,i,s){return n[i]=s,n},Xv}var Jv,mj;function Oe(){if(mj)return Jv;mj=1;var t=qt(),e=zp(),r=DK(),n=er(),i=Vp().f,s=cie(),a=Gt(),o=Hp(),l=Pu(),u=rr(),d=function(h){var f=function(p,m,y){if(this instanceof f){switch(arguments.length){case 0:return new h;case 1:return new h(p);case 2:return new h(p,m)}return new h(p,m,y)}return e(h,this,arguments)};return f.prototype=h.prototype,f};return Jv=function(h,f){var p=h.target,m=h.global,y=h.stat,b=h.proto,g=m?t:y?t[p]:t[p]&&t[p].prototype,v=m?a:a[p]||l(a,p,{})[p],x=v.prototype,w,_,E,O,S,P,N,I,C;for(O in f)w=s(m?O:p+(y?".":"#")+O,h.forced),_=!w&&g&&u(g,O),P=v[O],_&&(h.dontCallGetSet?(C=i(g,O),N=C&&C.value):N=g[O]),S=_&&N?N:f[O],!(!w&&!b&&typeof P==typeof S)&&(h.bind&&_?I=o(S,t):h.wrap&&_?I=d(S):b&&n(S)?I=r(S):I=S,(h.sham||S&&S.sham||P&&P.sham)&&l(I,"sham",!0),l(v,O,I),b&&(E=p+"Prototype",u(a,E)||l(a,E,{}),l(a[E],O,S),h.real&&x&&(w||!x[O])&&l(x,O,S)))},Jv}var vj;function die(){if(vj)return wR;vj=1;var t=Oe(),e=Mt(),r=Mn().f;return t({target:"Object",stat:!0,forced:Object.defineProperty!==r,sham:!e},{defineProperty:r}),wR}var gj;function hie(){if(gj)return iv.exports;gj=1,die();var t=Gt(),e=t.Object,r=iv.exports=function(i,s,a){return e.defineProperty(i,s,a)};return e.defineProperty.sham&&(r.sham=!0),iv.exports}var Zv,yj;function BK(){if(yj)return Zv;yj=1;var t=hie();return Zv=t,Zv}var eg,bj;function fie(){if(bj)return eg;bj=1;var t=BK();return eg=t,eg}var tg,wj;function pie(){if(wj)return tg;wj=1;var t=fie();return tg=t,tg}var rg,xj;function mie(){return xj||(xj=1,rg=pie()),rg}var vie=mie(),gie=ke(vie),_j={},ng,Sj;function To(){if(Sj)return ng;Sj=1;var t=us();return ng=Array.isArray||function(r){return t(r)==="Array"},ng}var ig,Ej;function yie(){if(Ej)return ig;Ej=1;var t=Math.ceil,e=Math.floor;return ig=Math.trunc||function(n){var i=+n;return(i>0?e:t)(i)},ig}var sg,Oj;function Nu(){if(Oj)return sg;Oj=1;var t=yie();return sg=function(e){var r=+e;return r!==r||r===0?0:t(r)},sg}var ag,Pj;function zK(){if(Pj)return ag;Pj=1;var t=Nu(),e=Math.min;return ag=function(r){var n=t(r);return n>0?e(n,9007199254740991):0},ag}var og,Nj;function fa(){if(Nj)return og;Nj=1;var t=zK();return og=function(e){return t(e.length)},og}var lg,Cj;function UK(){if(Cj)return lg;Cj=1;var t=TypeError,e=9007199254740991;return lg=function(r){if(r>e)throw t("Maximum allowed index exceeded");return r},lg}var ug,Tj;function Kp(){if(Tj)return ug;Tj=1;var t=Mt(),e=Mn(),r=Bd();return ug=function(n,i,s){t?e.f(n,i,r(0,s)):n[i]=s},ug}var cg,Ij;function zC(){if(Ij)return cg;Ij=1;var t=nr(),e=t("toStringTag"),r={};return r[e]="z",cg=String(r)==="[object z]",cg}var dg,Rj;function pa(){if(Rj)return dg;Rj=1;var t=zC(),e=er(),r=us(),n=nr(),i=n("toStringTag"),s=Object,a=r(function(){return arguments}())==="Arguments",o=function(l,u){try{return l[u]}catch{}};return dg=t?r:function(l){var u,d,h;return l===void 0?"Undefined":l===null?"Null":typeof(d=o(u=s(l),i))=="string"?d:a?r(u):(h=r(u))==="Object"&&e(u.callee)?"Arguments":h},dg}var hg,jj;function bie(){if(jj)return hg;jj=1;var t=Je(),e=er(),r=LC(),n=t(Function.toString);return e(r.inspectSource)||(r.inspectSource=function(i){return n(i)}),hg=r.inspectSource,hg}var fg,$j;function WK(){if($j)return fg;$j=1;var t=Je(),e=Ve(),r=er(),n=pa(),i=bn(),s=bie(),a=function(){},o=i("Reflect","construct"),l=/^\s*(?:class|function)\b/,u=t(l.exec),d=!l.test(a),h=function(m){if(!r(m))return!1;try{return o(a,[],m),!0}catch{return!1}},f=function(m){if(!r(m))return!1;switch(n(m)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return d||!!u(l,s(m))}catch{return!0}};return f.sham=!0,fg=!o||e(function(){var p;return h(h.call)||!h(Object)||!h(function(){p=!0})||p})?f:h,fg}var pg,kj;function wie(){if(kj)return pg;kj=1;var t=To(),e=WK(),r=Fr(),n=nr(),i=n("species"),s=Array;return pg=function(a){var o;return t(a)&&(o=a.constructor,e(o)&&(o===s||t(o.prototype))?o=void 0:r(o)&&(o=o[i],o===null&&(o=void 0))),o===void 0?s:o},pg}var mg,Dj;function UC(){if(Dj)return mg;Dj=1;var t=wie();return mg=function(e,r){return new(t(e))(r===0?0:r)},mg}var vg,qj;function Vd(){if(qj)return vg;qj=1;var t=Ve(),e=nr(),r=Ud(),n=e("species");return vg=function(i){return r>=51||!t(function(){var s=[],a=s.constructor={};return a[n]=function(){return{foo:1}},s[i](Boolean).foo!==1})},vg}var Mj;function VK(){if(Mj)return _j;Mj=1;var t=Oe(),e=Ve(),r=To(),n=Fr(),i=ai(),s=fa(),a=UK(),o=Kp(),l=UC(),u=Vd(),d=nr(),h=Ud(),f=d("isConcatSpreadable"),p=h>=51||!e(function(){var b=[];return b[f]=!1,b.concat()[0]!==b}),m=function(b){if(!n(b))return!1;var g=b[f];return g!==void 0?!!g:r(b)},y=!p||!u("concat");return t({target:"Array",proto:!0,arity:1,forced:y},{concat:function(g){var v=i(this),x=l(v,0),w=0,_,E,O,S,P;for(_=-1,O=arguments.length;_<O;_++)if(P=_===-1?v:arguments[_],m(P))for(S=s(P),a(w+S),E=0;E<S;E++,w++)E in P&&o(x,w,P[E]);else a(w+1),o(x,w++,P);return x.length=w,x}}),_j}var Aj={},Fj={},gg,Lj;function ma(){if(Lj)return gg;Lj=1;var t=pa(),e=String;return gg=function(r){if(t(r)==="Symbol")throw new TypeError("Cannot convert a Symbol value to a string");return e(r)},gg}var yg={},bg,Bj;function WC(){if(Bj)return bg;Bj=1;var t=Nu(),e=Math.max,r=Math.min;return bg=function(n,i){var s=t(n);return s<0?e(s+i,0):r(s,i)},bg}var wg,zj;function xie(){if(zj)return wg;zj=1;var t=Oi(),e=WC(),r=fa(),n=function(i){return function(s,a,o){var l=t(s),u=r(l);if(u===0)return!i&&-1;var d=e(o,u),h;if(i&&a!==a){for(;u>d;)if(h=l[d++],h!==h)return!0}else for(;u>d;d++)if((i||d in l)&&l[d]===a)return i||d||0;return!i&&-1}};return wg={includes:n(!0),indexOf:n(!1)},wg}var xg,Uj;function Hd(){return Uj||(Uj=1,xg={}),xg}var _g,Wj;function HK(){if(Wj)return _g;Wj=1;var t=Je(),e=rr(),r=Oi(),n=xie().indexOf,i=Hd(),s=t([].push);return _g=function(a,o){var l=r(a),u=0,d=[],h;for(h in l)!e(i,h)&&e(l,h)&&s(d,h);for(;o.length>u;)e(l,h=o[u++])&&(~n(d,h)||s(d,h));return d},_g}var Sg,Vj;function VC(){return Vj||(Vj=1,Sg=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]),Sg}var Eg,Hj;function Gp(){if(Hj)return Eg;Hj=1;var t=HK(),e=VC();return Eg=Object.keys||function(n){return t(n,e)},Eg}var Kj;function HC(){if(Kj)return yg;Kj=1;var t=Mt(),e=LK(),r=Mn(),n=ds(),i=Oi(),s=Gp();return yg.f=t&&!e?Object.defineProperties:function(o,l){n(o);for(var u=i(l),d=s(l),h=d.length,f=0,p;h>f;)r.f(o,p=d[f++],u[p]);return o},yg}var Og,Gj;function _ie(){if(Gj)return Og;Gj=1;var t=bn();return Og=t("document","documentElement"),Og}var Pg,Yj;function Yp(){if(Yj)return Pg;Yj=1;var t=Ou(),e=Wp(),r=t("keys");return Pg=function(n){return r[n]||(r[n]=e(n))},Pg}var Ng,Qj;function Kd(){if(Qj)return Ng;Qj=1;var t=ds(),e=HC(),r=VC(),n=Hd(),i=_ie(),s=AK(),a=Yp(),o=">",l="<",u="prototype",d="script",h=a("IE_PROTO"),f=function(){},p=function(v){return l+d+o+v+l+"/"+d+o},m=function(v){v.write(p("")),v.close();var x=v.parentWindow.Object;return v=null,x},y=function(){var v=s("iframe"),x="java"+d+":",w;return v.style.display="none",i.appendChild(v),v.src=String(x),w=v.contentWindow.document,w.open(),w.write(p("document.F=Object")),w.close(),w.F},b,g=function(){try{b=new ActiveXObject("htmlfile")}catch{}g=typeof document<"u"?document.domain&&b?m(b):y():m(b);for(var v=r.length;v--;)delete g[u][r[v]];return g()};return n[h]=!0,Ng=Object.create||function(x,w){var _;return x!==null?(f[u]=t(x),_=new f,f[u]=null,_[h]=x):_=g(),w===void 0?_:e.f(_,w)},Ng}var Cg={},Xj;function Qp(){if(Xj)return Cg;Xj=1;var t=HK(),e=VC(),r=e.concat("length","prototype");return Cg.f=Object.getOwnPropertyNames||function(i){return t(i,r)},Cg}var Tg={},Ig,Jj;function Cu(){if(Jj)return Ig;Jj=1;var t=Je();return Ig=t([].slice),Ig}var Zj;function KK(){if(Zj)return Tg;Zj=1;var t=us(),e=Oi(),r=Qp().f,n=Cu(),i=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],s=function(a){try{return r(a)}catch{return n(i)}};return Tg.f=function(o){return i&&t(o)==="Window"?s(o):r(e(o))},Tg}var Rg={},e$;function Xp(){return e$||(e$=1,Rg.f=Object.getOwnPropertySymbols),Rg}var jg,t$;function Gd(){if(t$)return jg;t$=1;var t=Pu();return jg=function(e,r,n,i){return i&&i.enumerable?e[r]=n:t(e,r,n),e},jg}var $g,r$;function KC(){if(r$)return $g;r$=1;var t=Mn();return $g=function(e,r,n){return t.f(e,r,n)},$g}var kg={},n$;function Jp(){if(n$)return kg;n$=1;var t=nr();return kg.f=t,kg}var Dg,i$;function vt(){if(i$)return Dg;i$=1;var t=Gt(),e=rr(),r=Jp(),n=Mn().f;return Dg=function(i){var s=t.Symbol||(t.Symbol={});e(s,i)||n(s,i,{value:r.f(i)})},Dg}var qg,s$;function GK(){if(s$)return qg;s$=1;var t=nn(),e=bn(),r=nr(),n=Gd();return qg=function(){var i=e("Symbol"),s=i&&i.prototype,a=s&&s.valueOf,o=r("toPrimitive");s&&!s[o]&&n(s,o,function(l){return t(a,this)},{arity:1})},qg}var Mg,a$;function Sie(){if(a$)return Mg;a$=1;var t=zC(),e=pa();return Mg=t?{}.toString:function(){return"[object "+e(this)+"]"},Mg}var Ag,o$;function Io(){if(o$)return Ag;o$=1;var t=zC(),e=Mn().f,r=Pu(),n=rr(),i=Sie(),s=nr(),a=s("toStringTag");return Ag=function(o,l,u,d){var h=u?o:o&&o.prototype;h&&(n(h,a)||e(h,a,{configurable:!0,value:l}),d&&!t&&r(h,"toString",i))},Ag}var Fg,l$;function Eie(){if(l$)return Fg;l$=1;var t=qt(),e=er(),r=t.WeakMap;return Fg=e(r)&&/native code/.test(String(r)),Fg}var Lg,u$;function Yd(){if(u$)return Lg;u$=1;var t=Eie(),e=qt(),r=Fr(),n=Pu(),i=rr(),s=LC(),a=Yp(),o=Hd(),l="Object already initialized",u=e.TypeError,d=e.WeakMap,h,f,p,m=function(v){return p(v)?f(v):h(v,{})},y=function(v){return function(x){var w;if(!r(x)||(w=f(x)).type!==v)throw new u("Incompatible receiver, "+v+" required");return w}};if(t||s.state){var b=s.state||(s.state=new d);b.get=b.get,b.has=b.has,b.set=b.set,h=function(v,x){if(b.has(v))throw new u(l);return x.facade=v,b.set(v,x),x},f=function(v){return b.get(v)||{}},p=function(v){return b.has(v)}}else{var g=a("state");o[g]=!0,h=function(v,x){if(i(v,g))throw new u(l);return x.facade=v,n(v,g,x),x},f=function(v){return i(v,g)?v[g]:{}},p=function(v){return i(v,g)}}return Lg={set:h,get:f,has:p,enforce:m,getterFor:y},Lg}var Bg,c$;function Tu(){if(c$)return Bg;c$=1;var t=Hp(),e=Je(),r=Up(),n=ai(),i=fa(),s=UC(),a=e([].push),o=function(l){var u=l===1,d=l===2,h=l===3,f=l===4,p=l===6,m=l===7,y=l===5||p;return function(b,g,v,x){for(var w=n(b),_=r(w),E=i(_),O=t(g,v),S=0,P=x||s,N=u?P(b,E):d||m?P(b,0):void 0,I,C;E>S;S++)if((y||S in _)&&(I=_[S],C=O(I,S,w),l))if(u)N[S]=C;else if(C)switch(l){case 3:return!0;case 5:return I;case 6:return S;case 2:a(N,I)}else switch(l){case 4:return!1;case 7:a(N,I)}return p?-1:h||f?f:N}};return Bg={forEach:o(0),map:o(1),filter:o(2),some:o(3),every:o(4),find:o(5),findIndex:o(6),filterReject:o(7)},Bg}var d$;function Oie(){if(d$)return Fj;d$=1;var t=Oe(),e=qt(),r=nn(),n=Je(),i=Eu(),s=Mt(),a=_u(),o=Ve(),l=rr(),u=tr(),d=ds(),h=Oi(),f=BC(),p=ma(),m=Bd(),y=Kd(),b=Gp(),g=Qp(),v=KK(),x=Xp(),w=Vp(),_=Mn(),E=HC(),O=AC(),S=Gd(),P=KC(),N=Ou(),I=Yp(),C=Hd(),T=Wp(),q=nr(),U=Jp(),re=vt(),Y=GK(),L=Io(),G=Yd(),W=Tu().forEach,V=I("hidden"),te="Symbol",pe="prototype",ge=G.set,qe=G.getterFor(te),we=Object[pe],Se=e.Symbol,Pe=Se&&Se[pe],dt=e.RangeError,Ye=e.TypeError,Lt=e.QObject,ar=w.f,it=_.f,Er=v.f,Ke=O.f,Lr=n([].push),Qe=N("symbols"),Bt=N("op-symbols"),on=N("wks"),ln=!Lt||!Lt[pe]||!Lt[pe].findChild,j=function(H,z,K){var B=ar(we,z);B&&delete we[z],it(H,z,K),B&&H!==we&&it(we,z,B)},D=s&&o(function(){return y(it({},"a",{get:function(){return it(this,"a",{value:7}).a}})).a!==7})?j:it,F=function(H,z){var K=Qe[H]=y(Pe);return ge(K,{type:te,tag:H,description:z}),s||(K.description=z),K},oe=function(z,K,B){z===we&&oe(Bt,K,B),d(z);var ae=f(K);return d(B),l(Qe,ae)?(B.enumerable?(l(z,V)&&z[V][ae]&&(z[V][ae]=!1),B=y(B,{enumerable:m(0,!1)})):(l(z,V)||it(z,V,m(1,y(null))),z[V][ae]=!0),D(z,ae,B)):it(z,ae,B)},ne=function(z,K){d(z);var B=h(K),ae=b(B).concat(Z(B));return W(ae,function(Ne){(!s||r(de,B,Ne))&&oe(z,Ne,B[Ne])}),z},Q=function(z,K){return K===void 0?y(z):ne(y(z),K)},de=function(z){var K=f(z),B=r(Ke,this,K);return this===we&&l(Qe,K)&&!l(Bt,K)?!1:B||!l(this,K)||!l(Qe,K)||l(this,V)&&this[V][K]?B:!0},Re=function(z,K){var B=h(z),ae=f(K);if(!(B===we&&l(Qe,ae)&&!l(Bt,ae))){var Ne=ar(B,ae);return Ne&&l(Qe,ae)&&!(l(B,V)&&B[V][ae])&&(Ne.enumerable=!0),Ne}},k=function(z){var K=Er(h(z)),B=[];return W(K,function(ae){!l(Qe,ae)&&!l(C,ae)&&Lr(B,ae)}),B},Z=function(H){var z=H===we,K=Er(z?Bt:h(H)),B=[];return W(K,function(ae){l(Qe,ae)&&(!z||l(we,ae))&&Lr(B,Qe[ae])}),B};return a||(Se=function(){if(u(Pe,this))throw new Ye("Symbol is not a constructor");var z=!arguments.length||arguments[0]===void 0?void 0:p(arguments[0]),K=T(z),B=function(ae){var Ne=this===void 0?e:this;Ne===we&&r(B,Bt,ae),l(Ne,V)&&l(Ne[V],K)&&(Ne[V][K]=!1);var Yt=m(1,ae);try{D(Ne,K,Yt)}catch(or){if(!(or instanceof dt))throw or;j(Ne,K,Yt)}};return s&&ln&&D(we,K,{configurable:!0,set:B}),F(K,z)},Pe=Se[pe],S(Pe,"toString",function(){return qe(this).tag}),S(Se,"withoutSetter",function(H){return F(T(H),H)}),O.f=de,_.f=oe,E.f=ne,w.f=Re,g.f=v.f=k,x.f=Z,U.f=function(H){return F(q(H),H)},s&&(P(Pe,"description",{configurable:!0,get:function(){return qe(this).description}}),i||S(we,"propertyIsEnumerable",de,{unsafe:!0}))),t({global:!0,constructor:!0,wrap:!0,forced:!a,sham:!a},{Symbol:Se}),W(b(on),function(H){re(H)}),t({target:te,stat:!0,forced:!a},{useSetter:function(){ln=!0},useSimple:function(){ln=!1}}),t({target:"Object",stat:!0,forced:!a,sham:!s},{create:Q,defineProperty:oe,defineProperties:ne,getOwnPropertyDescriptor:Re}),t({target:"Object",stat:!0,forced:!a},{getOwnPropertyNames:k}),Y(),L(Se,te),C[V]=!0,Fj}var h$={},zg,f$;function YK(){if(f$)return zg;f$=1;var t=_u();return zg=t&&!!Symbol.for&&!!Symbol.keyFor,zg}var p$;function Pie(){if(p$)return h$;p$=1;var t=Oe(),e=bn(),r=rr(),n=ma(),i=Ou(),s=YK(),a=i("string-to-symbol-registry"),o=i("symbol-to-string-registry");return t({target:"Symbol",stat:!0,forced:!s},{for:function(l){var u=n(l);if(r(a,u))return a[u];var d=e("Symbol")(u);return a[u]=d,o[d]=u,d}}),h$}var m$={},v$;function Nie(){if(v$)return m$;v$=1;var t=Oe(),e=rr(),r=Wd(),n=Su(),i=Ou(),s=YK(),a=i("symbol-to-string-registry");return t({target:"Symbol",stat:!0,forced:!s},{keyFor:function(l){if(!r(l))throw new TypeError(n(l)+" is not a symbol");if(e(a,l))return a[l]}}),m$}var g$={},Ug,y$;function Cie(){if(y$)return Ug;y$=1;var t=Je(),e=To(),r=er(),n=us(),i=ma(),s=t([].push);return Ug=function(a){if(r(a))return a;if(e(a)){for(var o=a.length,l=[],u=0;u<o;u++){var d=a[u];typeof d=="string"?s(l,d):(typeof d=="number"||n(d)==="Number"||n(d)==="String")&&s(l,i(d))}var h=l.length,f=!0;return function(p,m){if(f)return f=!1,m;if(e(this))return m;for(var y=0;y<h;y++)if(l[y]===p)return m}}},Ug}var b$;function QK(){if(b$)return g$;b$=1;var t=Oe(),e=bn(),r=zp(),n=nn(),i=Je(),s=Ve(),a=er(),o=Wd(),l=Cu(),u=Cie(),d=_u(),h=String,f=e("JSON","stringify"),p=i(/./.exec),m=i("".charAt),y=i("".charCodeAt),b=i("".replace),g=i(1.1.toString),v=/[\uD800-\uDFFF]/g,x=/^[\uD800-\uDBFF]$/,w=/^[\uDC00-\uDFFF]$/,_=!d||s(function(){var P=e("Symbol")("stringify detection");return f([P])!=="[null]"||f({a:P})!=="{}"||f(Object(P))!=="{}"}),E=s(function(){return f("\uDF06\uD834")!=='"\\udf06\\ud834"'||f("\uDEAD")!=='"\\udead"'}),O=function(P,N){var I=l(arguments),C=u(N);if(!(!a(C)&&(P===void 0||o(P))))return I[1]=function(T,q){if(a(C)&&(q=n(C,this,h(T),q)),!o(q))return q},r(f,null,I)},S=function(P,N,I){var C=m(I,N-1),T=m(I,N+1);return p(x,P)&&!p(w,T)||p(w,P)&&!p(x,C)?"\\u"+g(y(P,0),16):P};return f&&t({target:"JSON",stat:!0,arity:3,forced:_||E},{stringify:function(N,I,C){var T=l(arguments),q=r(_?O:f,null,T);return E&&typeof q=="string"?b(q,v,S):q}}),g$}var w$={},x$;function Tie(){if(x$)return w$;x$=1;var t=Oe(),e=_u(),r=Ve(),n=Xp(),i=ai(),s=!e||r(function(){n.f(1)});return t({target:"Object",stat:!0,forced:s},{getOwnPropertySymbols:function(o){var l=n.f;return l?l(i(o)):[]}}),w$}var _$;function XK(){return _$||(_$=1,Oie(),Pie(),Nie(),QK(),Tie()),Aj}var S$={},E$;function JK(){if(E$)return S$;E$=1;var t=vt();return t("asyncDispose"),S$}var O$={},P$;function Iie(){if(P$)return O$;P$=1;var t=vt();return t("asyncIterator"),O$}var N$={},C$;function ZK(){if(C$)return N$;C$=1;var t=vt();return t("dispose"),N$}var T$={},I$;function Rie(){if(I$)return T$;I$=1;var t=vt();return t("hasInstance"),T$}var R$={},j$;function jie(){if(j$)return R$;j$=1;var t=vt();return t("isConcatSpreadable"),R$}var $$={},k$;function e9(){if(k$)return $$;k$=1;var t=vt();return t("iterator"),$$}var D$={},q$;function $ie(){if(q$)return D$;q$=1;var t=vt();return t("match"),D$}var M$={},A$;function kie(){if(A$)return M$;A$=1;var t=vt();return t("matchAll"),M$}var F$={},L$;function Die(){if(L$)return F$;L$=1;var t=vt();return t("replace"),F$}var B$={},z$;function qie(){if(z$)return B$;z$=1;var t=vt();return t("search"),B$}var U$={},W$;function Mie(){if(W$)return U$;W$=1;var t=vt();return t("species"),U$}var V$={},H$;function Aie(){if(H$)return V$;H$=1;var t=vt();return t("split"),V$}var K$={},G$;function t9(){if(G$)return K$;G$=1;var t=vt(),e=GK();return t("toPrimitive"),e(),K$}var Y$={},Q$;function Fie(){if(Q$)return Y$;Q$=1;var t=bn(),e=vt(),r=Io();return e("toStringTag"),r(t("Symbol"),"Symbol"),Y$}var X$={},J$;function Lie(){if(J$)return X$;J$=1;var t=vt();return t("unscopables"),X$}var Z$={},ek;function Bie(){if(ek)return Z$;ek=1;var t=qt(),e=Io();return e(t.JSON,"JSON",!0),Z$}var Wg,tk;function zie(){if(tk)return Wg;tk=1,VK(),XK(),JK(),Iie(),ZK(),Rie(),jie(),e9(),$ie(),kie(),Die(),qie(),Mie(),Aie(),t9(),Fie(),Lie(),Bie();var t=Gt();return Wg=t.Symbol,Wg}var rk={},Vg,nk;function Uie(){return nk||(nk=1,Vg=function(){}),Vg}var Hg,ik;function Iu(){return ik||(ik=1,Hg={}),Hg}var Kg,sk;function Wie(){if(sk)return Kg;sk=1;var t=Mt(),e=rr(),r=Function.prototype,n=t&&Object.getOwnPropertyDescriptor,i=e(r,"name"),s=i&&(function(){}).name==="something",a=i&&(!t||t&&n(r,"name").configurable);return Kg={EXISTS:i,PROPER:s,CONFIGURABLE:a},Kg}var Gg,ak;function Vie(){if(ak)return Gg;ak=1;var t=Ve();return Gg=!t(function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype}),Gg}var Yg,ok;function r9(){if(ok)return Yg;ok=1;var t=rr(),e=er(),r=ai(),n=Yp(),i=Vie(),s=n("IE_PROTO"),a=Object,o=a.prototype;return Yg=i?a.getPrototypeOf:function(l){var u=r(l);if(t(u,s))return u[s];var d=u.constructor;return e(d)&&u instanceof d?d.prototype:u instanceof a?o:null},Yg}var Qg,lk;function n9(){if(lk)return Qg;lk=1;var t=Ve(),e=er(),r=Fr(),n=Kd(),i=r9(),s=Gd(),a=nr(),o=Eu(),l=a("iterator"),u=!1,d,h,f;[].keys&&(f=[].keys(),"next"in f?(h=i(i(f)),h!==Object.prototype&&(d=h)):u=!0);var p=!r(d)||t(function(){var m={};return d[l].call(m)!==m});return p?d={}:o&&(d=n(d)),e(d[l])||s(d,l,function(){return this}),Qg={IteratorPrototype:d,BUGGY_SAFARI_ITERATORS:u},Qg}var Xg,uk;function Hie(){if(uk)return Xg;uk=1;var t=n9().IteratorPrototype,e=Kd(),r=Bd(),n=Io(),i=Iu(),s=function(){return this};return Xg=function(a,o,l,u){var d=o+" Iterator";return a.prototype=e(t,{next:r(+!u,l)}),n(a,d,!1,!0),i[d]=s,a},Xg}var Jg,ck;function Kie(){if(ck)return Jg;ck=1;var t=Je(),e=cs();return Jg=function(r,n,i){try{return t(e(Object.getOwnPropertyDescriptor(r,n)[i]))}catch{}},Jg}var Zg,dk;function Gie(){if(dk)return Zg;dk=1;var t=Fr();return Zg=function(e){return t(e)||e===null},Zg}var ey,hk;function Yie(){if(hk)return ey;hk=1;var t=Gie(),e=String,r=TypeError;return ey=function(n){if(t(n))return n;throw new r("Can't set "+e(n)+" as a prototype")},ey}var ty,fk;function Qie(){if(fk)return ty;fk=1;var t=Kie(),e=Fr(),r=Co(),n=Yie();return ty=Object.setPrototypeOf||("__proto__"in{}?function(){var i=!1,s={},a;try{a=t(Object.prototype,"__proto__","set"),a(s,[]),i=s instanceof Array}catch{}return function(l,u){return r(l),n(u),e(l)&&(i?a(l,u):l.__proto__=u),l}}():void 0),ty}var ry,pk;function GC(){if(pk)return ry;pk=1;var t=Oe(),e=nn(),r=Eu(),n=Wie(),i=er(),s=Hie(),a=r9(),o=Qie(),l=Io(),u=Pu(),d=Gd(),h=nr(),f=Iu(),p=n9(),m=n.PROPER,y=n.CONFIGURABLE,b=p.IteratorPrototype,g=p.BUGGY_SAFARI_ITERATORS,v=h("iterator"),x="keys",w="values",_="entries",E=function(){return this};return ry=function(O,S,P,N,I,C,T){s(P,S,N);var q=function(ge){if(ge===I&&G)return G;if(!g&&ge&&ge in Y)return Y[ge];switch(ge){case x:return function(){return new P(this,ge)};case w:return function(){return new P(this,ge)};case _:return function(){return new P(this,ge)}}return function(){return new P(this)}},U=S+" Iterator",re=!1,Y=O.prototype,L=Y[v]||Y["@@iterator"]||I&&Y[I],G=!g&&L||q(I),W=S==="Array"&&Y.entries||L,V,te,pe;if(W&&(V=a(W.call(new O)),V!==Object.prototype&&V.next&&(!r&&a(V)!==b&&(o?o(V,b):i(V[v])||d(V,v,E)),l(V,U,!0,!0),r&&(f[U]=E))),m&&I===w&&L&&L.name!==w&&(!r&&y?u(Y,"name",w):(re=!0,G=function(){return e(L,this)})),I)if(te={values:q(w),keys:C?G:q(x),entries:q(_)},T)for(pe in te)(g||re||!(pe in Y))&&d(Y,pe,te[pe]);else t({target:S,proto:!0,forced:g||re},te);return(!r||T)&&Y[v]!==G&&d(Y,v,G,{name:I}),f[S]=G,te},ry}var ny,mk;function YC(){return mk||(mk=1,ny=function(t,e){return{value:t,done:e}}),ny}var iy,vk;function va(){if(vk)return iy;vk=1;var t=Oi(),e=Uie(),r=Iu(),n=Yd(),i=Mn().f,s=GC(),a=YC(),o=Eu(),l=Mt(),u="Array Iterator",d=n.set,h=n.getterFor(u);iy=s(Array,"Array",function(p,m){d(this,{type:u,target:t(p),index:0,kind:m})},function(){var p=h(this),m=p.target,y=p.index++;if(!m||y>=m.length)return p.target=null,a(void 0,!0);switch(p.kind){case"keys":return a(y,!1);case"values":return a(m[y],!1)}return a([y,m[y]],!1)},"values");var f=r.Arguments=r.Array;if(e("keys"),e("values"),e("entries"),!o&&l&&f.name!=="values")try{i(f,"name",{value:"values"})}catch{}return iy}var sy,gk;function Xie(){return gk||(gk=1,sy={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}),sy}var yk;function ga(){if(yk)return rk;yk=1,va();var t=Xie(),e=qt(),r=Io(),n=Iu();for(var i in t)r(e[i],i),n[i]=n.Array;return rk}var ay,bk;function i9(){if(bk)return ay;bk=1;var t=zie();return ga(),ay=t,ay}var wk={},xk;function Jie(){if(xk)return wk;xk=1;var t=nr(),e=Mn().f,r=t("metadata"),n=Function.prototype;return n[r]===void 0&&e(n,r,{value:null}),wk}var _k={},Sk;function Zie(){return Sk||(Sk=1,JK()),_k}var Ek={},Ok;function ese(){return Ok||(Ok=1,ZK()),Ek}var Pk={},Nk;function tse(){if(Nk)return Pk;Nk=1;var t=vt();return t("metadata"),Pk}var oy,Ck;function rse(){if(Ck)return oy;Ck=1;var t=i9();return Jie(),Zie(),ese(),tse(),oy=t,oy}var Tk={},ly,Ik;function s9(){if(Ik)return ly;Ik=1;var t=bn(),e=Je(),r=t("Symbol"),n=r.keyFor,i=e(r.prototype.valueOf);return ly=r.isRegisteredSymbol||function(a){try{return n(i(a))!==void 0}catch{return!1}},ly}var Rk;function nse(){if(Rk)return Tk;Rk=1;var t=Oe(),e=s9();return t({target:"Symbol",stat:!0},{isRegisteredSymbol:e}),Tk}var jk={},uy,$k;function a9(){if($k)return uy;$k=1;for(var t=Ou(),e=bn(),r=Je(),n=Wd(),i=nr(),s=e("Symbol"),a=s.isWellKnownSymbol,o=e("Object","getOwnPropertyNames"),l=r(s.prototype.valueOf),u=t("wks"),d=0,h=o(s),f=h.length;d<f;d++)try{var p=h[d];n(s[p])&&i(p)}catch{}return uy=function(y){if(a&&a(y))return!0;try{for(var b=l(y),g=0,v=o(u),x=v.length;g<x;g++)if(u[v[g]]==b)return!0}catch{}return!1},uy}var kk;function ise(){if(kk)return jk;kk=1;var t=Oe(),e=a9();return t({target:"Symbol",stat:!0,forced:!0},{isWellKnownSymbol:e}),jk}var Dk={},qk;function sse(){if(qk)return Dk;qk=1;var t=vt();return t("customMatcher"),Dk}var Mk={},Ak;function ase(){if(Ak)return Mk;Ak=1;var t=vt();return t("observable"),Mk}var Fk={},Lk;function ose(){if(Lk)return Fk;Lk=1;var t=Oe(),e=s9();return t({target:"Symbol",stat:!0,name:"isRegisteredSymbol"},{isRegistered:e}),Fk}var Bk={},zk;function lse(){if(zk)return Bk;zk=1;var t=Oe(),e=a9();return t({target:"Symbol",stat:!0,name:"isWellKnownSymbol",forced:!0},{isWellKnown:e}),Bk}var Uk={},Wk;function use(){if(Wk)return Uk;Wk=1;var t=vt();return t("matcher"),Uk}var Vk={},Hk;function cse(){if(Hk)return Vk;Hk=1;var t=vt();return t("metadataKey"),Vk}var Kk={},Gk;function dse(){if(Gk)return Kk;Gk=1;var t=vt();return t("patternMatch"),Kk}var Yk={},Qk;function hse(){if(Qk)return Yk;Qk=1;var t=vt();return t("replaceAll"),Yk}var cy,Xk;function fse(){if(Xk)return cy;Xk=1;var t=rse();return nse(),ise(),sse(),ase(),ose(),lse(),use(),cse(),dse(),hse(),cy=t,cy}var dy,Jk;function pse(){return Jk||(Jk=1,dy=fse()),dy}var mse=pse(),Wh=ke(mse),Zk={},hy,eD;function vse(){if(eD)return hy;eD=1;var t=Je(),e=Nu(),r=ma(),n=Co(),i=t("".charAt),s=t("".charCodeAt),a=t("".slice),o=function(l){return function(u,d){var h=r(n(u)),f=e(d),p=h.length,m,y;return f<0||f>=p?l?"":void 0:(m=s(h,f),m<55296||m>56319||f+1===p||(y=s(h,f+1))<56320||y>57343?l?i(h,f):m:l?a(h,f,f+2):(m-55296<<10)+(y-56320)+65536)}};return hy={codeAt:o(!1),charAt:o(!0)},hy}var tD;function Zp(){if(tD)return Zk;tD=1;var t=vse().charAt,e=ma(),r=Yd(),n=GC(),i=YC(),s="String Iterator",a=r.set,o=r.getterFor(s);return n(String,"String",function(l){a(this,{type:s,string:e(l),index:0})},function(){var u=o(this),d=u.string,h=u.index,f;return h>=d.length?i(void 0,!0):(f=t(d,h),u.index+=f.length,i(f,!1))}),Zk}var fy,rD;function gse(){if(rD)return fy;rD=1,va(),Zp(),e9();var t=Jp();return fy=t.f("iterator"),fy}var py,nD;function o9(){if(nD)return py;nD=1;var t=gse();return ga(),py=t,py}var my,iD;function yse(){if(iD)return my;iD=1;var t=o9();return my=t,my}var vy,sD;function bse(){if(sD)return vy;sD=1;var t=yse();return vy=t,vy}var gy,aD;function wse(){return aD||(aD=1,gy=bse()),gy}var xse=wse(),_se=ke(xse);function ud(t){"@babel/helpers - typeof";return ud=typeof Wh=="function"&&typeof _se=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Wh=="function"&&e.constructor===Wh&&e!==Wh.prototype?"symbol":typeof e},ud(t)}var yy,oD;function Sse(){if(oD)return yy;oD=1,t9();var t=Jp();return yy=t.f("toPrimitive"),yy}var by,lD;function Ese(){if(lD)return by;lD=1;var t=Sse();return by=t,by}var wy,uD;function Ose(){if(uD)return wy;uD=1;var t=Ese();return wy=t,wy}var xy,cD;function Pse(){if(cD)return xy;cD=1;var t=Ose();return xy=t,xy}var _y,dD;function Nse(){return dD||(dD=1,_y=Pse()),_y}var Cse=Nse(),Tse=ke(Cse);function Ise(t,e){if(ud(t)!="object"||!t)return t;var r=t[Tse];if(r!==void 0){var n=r.call(t,e);if(ud(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Rse(t){var e=Ise(t,"string");return ud(e)=="symbol"?e:e+""}function Xs(t,e,r){return(e=Rse(e))in t?gie(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var hD={},Sy,fD;function jse(){if(fD)return Sy;fD=1;var t=Je(),e=cs(),r=Fr(),n=rr(),i=Cu(),s=Ld(),a=Function,o=t([].concat),l=t([].join),u={},d=function(h,f,p){if(!n(u,f)){for(var m=[],y=0;y<f;y++)m[y]="a["+y+"]";u[f]=a("C,a","return new C("+l(m,",")+")")}return u[f](h,p)};return Sy=s?a.bind:function(f){var p=e(this),m=p.prototype,y=i(arguments,1),b=function(){var v=o(y,i(arguments));return this instanceof b?d(p,v.length,v):p.apply(f,v)};return r(m)&&(b.prototype=m),b},Sy}var pD;function $se(){if(pD)return hD;pD=1;var t=Oe(),e=jse();return t({target:"Function",proto:!0,forced:Function.bind!==e},{bind:e}),hD}var Ey,mD;function sn(){if(mD)return Ey;mD=1;var t=qt(),e=Gt();return Ey=function(r,n){var i=e[r+"Prototype"],s=i&&i[n];if(s)return s;var a=t[r],o=a&&a.prototype;return o&&o[n]},Ey}var Oy,vD;function kse(){if(vD)return Oy;vD=1,$se();var t=sn();return Oy=t("Function","bind"),Oy}var Py,gD;function Dse(){if(gD)return Py;gD=1;var t=tr(),e=kse(),r=Function.prototype;return Py=function(n){var i=n.bind;return n===r||t(r,n)&&i===r.bind?e:i},Py}var Ny,yD;function qse(){if(yD)return Ny;yD=1;var t=Dse();return Ny=t,Ny}var Cy,bD;function Mse(){return bD||(bD=1,Cy=qse()),Cy}var Ase=Mse(),l9=ke(Ase),wD={},Ty,xD;function Fse(){if(xD)return Ty;xD=1;var t=cs(),e=ai(),r=Up(),n=fa(),i=TypeError,s="Reduce of empty array with no initial value",a=function(o){return function(l,u,d,h){var f=e(l),p=r(f),m=n(f);if(t(u),m===0&&d<2)throw new i(s);var y=o?m-1:0,b=o?-1:1;if(d<2)for(;;){if(y in p){h=p[y],y+=b;break}if(y+=b,o?y<0:m<=y)throw new i(s)}for(;o?y>=0:m>y;y+=b)y in p&&(h=u(h,p[y],y,f));return h}};return Ty={left:a(!1),right:a(!0)},Ty}var Iy,_D;function em(){if(_D)return Iy;_D=1;var t=Ve();return Iy=function(e,r){var n=[][e];return!!n&&t(function(){n.call(null,r||function(){return 1},1)})},Iy}var Ry,SD;function u9(){if(SD)return Ry;SD=1;var t=qt(),e=xu(),r=us(),n=function(i){return e.slice(0,i.length)===i};return Ry=function(){return n("Bun/")?"BUN":n("Cloudflare-Workers")?"CLOUDFLARE":n("Deno/")?"DENO":n("Node.js/")?"NODE":t.Bun&&typeof Bun.version=="string"?"BUN":t.Deno&&typeof Deno.version=="object"?"DENO":r(t.process)==="process"?"NODE":t.window&&t.document?"BROWSER":"REST"}(),Ry}var jy,ED;function Lse(){if(ED)return jy;ED=1;var t=u9();return jy=t==="NODE",jy}var OD;function Bse(){if(OD)return wD;OD=1;var t=Oe(),e=Fse().left,r=em(),n=Ud(),i=Lse(),s=!i&&n>79&&n<83,a=s||!r("reduce");return t({target:"Array",proto:!0,forced:a},{reduce:function(l){var u=arguments.length;return e(this,l,u,u>1?arguments[1]:void 0)}}),wD}var $y,PD;function zse(){if(PD)return $y;PD=1,Bse();var t=sn();return $y=t("Array","reduce"),$y}var ky,ND;function Use(){if(ND)return ky;ND=1;var t=tr(),e=zse(),r=Array.prototype;return ky=function(n){var i=n.reduce;return n===r||t(r,n)&&i===r.reduce?e:i},ky}var Dy,CD;function Wse(){if(CD)return Dy;CD=1;var t=Use();return Dy=t,Dy}var qy,TD;function Vse(){return TD||(TD=1,qy=Wse()),qy}var Hse=Vse(),Kse=ke(Hse),ID={},RD;function Gse(){if(RD)return ID;RD=1;var t=Oe(),e=Tu().filter,r=Vd(),n=r("filter");return t({target:"Array",proto:!0,forced:!n},{filter:function(s){return e(this,s,arguments.length>1?arguments[1]:void 0)}}),ID}var My,jD;function Yse(){if(jD)return My;jD=1,Gse();var t=sn();return My=t("Array","filter"),My}var Ay,$D;function Qse(){if($D)return Ay;$D=1;var t=tr(),e=Yse(),r=Array.prototype;return Ay=function(n){var i=n.filter;return n===r||t(r,n)&&i===r.filter?e:i},Ay}var Fy,kD;function Xse(){if(kD)return Fy;kD=1;var t=Qse();return Fy=t,Fy}var Ly,DD;function Jse(){return DD||(DD=1,Ly=Xse()),Ly}var Zse=Jse(),pl=ke(Zse),qD={},MD;function eae(){if(MD)return qD;MD=1;var t=Oe(),e=Tu().map,r=Vd(),n=r("map");return t({target:"Array",proto:!0,forced:!n},{map:function(s){return e(this,s,arguments.length>1?arguments[1]:void 0)}}),qD}var By,AD;function tae(){if(AD)return By;AD=1,eae();var t=sn();return By=t("Array","map"),By}var zy,FD;function rae(){if(FD)return zy;FD=1;var t=tr(),e=tae(),r=Array.prototype;return zy=function(n){var i=n.map;return n===r||t(r,n)&&i===r.map?e:i},zy}var Uy,LD;function nae(){if(LD)return Uy;LD=1;var t=rae();return Uy=t,Uy}var Wy,BD;function iae(){return BD||(BD=1,Wy=nae()),Wy}var sae=iae(),Yn=ke(sae),Vy,zD;function aae(){return zD||(zD=1,Vy=i9()),Vy}var oae=aae(),lae=ke(oae),UD={},WD;function uae(){if(WD)return UD;WD=1;var t=Oe(),e=To(),r=WK(),n=Fr(),i=WC(),s=fa(),a=Oi(),o=Kp(),l=nr(),u=Vd(),d=Cu(),h=u("slice"),f=l("species"),p=Array,m=Math.max;return t({target:"Array",proto:!0,forced:!h},{slice:function(b,g){var v=a(this),x=s(v),w=i(b,x),_=i(g===void 0?x:g,x),E,O,S;if(e(v)&&(E=v.constructor,r(E)&&(E===p||e(E.prototype))?E=void 0:n(E)&&(E=E[f],E===null&&(E=void 0)),E===p||E===void 0))return d(v,w,_);for(O=new(E===void 0?p:E)(m(_-w,0)),S=0;w<_;w++,S++)w in v&&o(O,S,v[w]);return O.length=S,O}}),UD}var Hy,VD;function cae(){if(VD)return Hy;VD=1,uae();var t=sn();return Hy=t("Array","slice"),Hy}var Ky,HD;function dae(){if(HD)return Ky;HD=1;var t=tr(),e=cae(),r=Array.prototype;return Ky=function(n){var i=n.slice;return n===r||t(r,n)&&i===r.slice?e:i},Ky}var Gy,KD;function hae(){if(KD)return Gy;KD=1;var t=dae();return Gy=t,Gy}var Yy,GD;function fae(){return GD||(GD=1,Yy=hae()),Yy}var pae=fae(),mae=ke(pae),YD={},Qy,QD;function c9(){if(QD)return Qy;QD=1;var t=bn(),e=Je(),r=Qp(),n=Xp(),i=ds(),s=e([].concat);return Qy=t("Reflect","ownKeys")||function(o){var l=r.f(i(o)),u=n.f;return u?s(l,u(o)):l},Qy}var XD;function vae(){if(XD)return YD;XD=1;var t=Oe(),e=c9();return t({target:"Reflect",stat:!0},{ownKeys:e}),YD}var Xy,JD;function gae(){if(JD)return Xy;JD=1,vae();var t=Gt();return Xy=t.Reflect.ownKeys,Xy}var Jy,ZD;function yae(){if(ZD)return Jy;ZD=1;var t=gae();return Jy=t,Jy}var Zy,eq;function bae(){return eq||(eq=1,Zy=yae()),Zy}var wae=bae(),xae=ke(wae),tq={},rq;function _ae(){if(rq)return tq;rq=1;var t=Oe(),e=To();return t({target:"Array",stat:!0},{isArray:e}),tq}var eb,nq;function Sae(){if(nq)return eb;nq=1,_ae();var t=Gt();return eb=t.Array.isArray,eb}var tb,iq;function Eae(){if(iq)return tb;iq=1;var t=Sae();return tb=t,tb}var rb,sq;function Oae(){return sq||(sq=1,rb=Eae()),rb}var Pae=Oae(),di=ke(Pae),aq={},oq;function Nae(){if(oq)return aq;oq=1;var t=Oe(),e=ai(),r=Gp(),n=Ve(),i=n(function(){r(1)});return t({target:"Object",stat:!0,forced:i},{keys:function(a){return r(e(a))}}),aq}var nb,lq;function Cae(){if(lq)return nb;lq=1,Nae();var t=Gt();return nb=t.Object.keys,nb}var ib,uq;function Tae(){if(uq)return ib;uq=1;var t=Cae();return ib=t,ib}var sb,cq;function Iae(){return cq||(cq=1,sb=Tae()),sb}var Rae=Iae(),QC=ke(Rae),dq={},ab,hq;function jae(){if(hq)return ab;hq=1;var t=Tu().forEach,e=em(),r=e("forEach");return ab=r?[].forEach:function(i){return t(this,i,arguments.length>1?arguments[1]:void 0)},ab}var fq;function $ae(){if(fq)return dq;fq=1;var t=Oe(),e=jae();return t({target:"Array",proto:!0,forced:[].forEach!==e},{forEach:e}),dq}var ob,pq;function kae(){if(pq)return ob;pq=1,$ae();var t=sn();return ob=t("Array","forEach"),ob}var lb,mq;function Dae(){if(mq)return lb;mq=1;var t=kae();return lb=t,lb}var ub,vq;function qae(){if(vq)return ub;vq=1;var t=pa(),e=rr(),r=tr(),n=Dae(),i=Array.prototype,s={DOMTokenList:!0,NodeList:!0};return ub=function(a){var o=a.forEach;return a===i||r(i,a)&&o===i.forEach||e(s,t(a))?n:o},ub}var cb,gq;function Mae(){return gq||(gq=1,cb=qae()),cb}var Aae=Mae(),go=ke(Aae),yq={},bq;function Fae(){if(bq)return yq;bq=1;var t=Oe(),e=Je(),r=To(),n=e([].reverse),i=[1,2];return t({target:"Array",proto:!0,forced:String(i)===String(i.reverse())},{reverse:function(){return r(this)&&(this.length=this.length),n(this)}}),yq}var db,wq;function Lae(){if(wq)return db;wq=1,Fae();var t=sn();return db=t("Array","reverse"),db}var hb,xq;function Bae(){if(xq)return hb;xq=1;var t=tr(),e=Lae(),r=Array.prototype;return hb=function(n){var i=n.reverse;return n===r||t(r,n)&&i===r.reverse?e:i},hb}var fb,_q;function zae(){if(_q)return fb;_q=1;var t=Bae();return fb=t,fb}var pb,Sq;function Uae(){return Sq||(Sq=1,pb=zae()),pb}var Wae=Uae(),Vae=ke(Wae),Eq={},mb,Oq;function Hae(){if(Oq)return mb;Oq=1;var t=Mt(),e=To(),r=TypeError,n=Object.getOwnPropertyDescriptor,i=t&&!function(){if(this!==void 0)return!0;try{Object.defineProperty([],"length",{writable:!1}).length=1}catch(s){return s instanceof TypeError}}();return mb=i?function(s,a){if(e(s)&&!n(s,"length").writable)throw new r("Cannot set read only .length");return s.length=a}:function(s,a){return s.length=a},mb}var vb,Pq;function d9(){if(Pq)return vb;Pq=1;var t=Su(),e=TypeError;return vb=function(r,n){if(!delete r[n])throw new e("Cannot delete property "+t(n)+" of "+t(r))},vb}var Nq;function Kae(){if(Nq)return Eq;Nq=1;var t=Oe(),e=ai(),r=WC(),n=Nu(),i=fa(),s=Hae(),a=UK(),o=UC(),l=Kp(),u=d9(),d=Vd(),h=d("splice"),f=Math.max,p=Math.min;return t({target:"Array",proto:!0,forced:!h},{splice:function(y,b){var g=e(this),v=i(g),x=r(y,v),w=arguments.length,_,E,O,S,P,N;for(w===0?_=E=0:w===1?(_=0,E=v-x):(_=w-2,E=p(f(n(b),0),v-x)),a(v+_-E),O=o(g,E),S=0;S<E;S++)P=x+S,P in g&&l(O,S,g[P]);if(O.length=E,_<E){for(S=x;S<v-E;S++)P=S+E,N=S+_,P in g?g[N]=g[P]:u(g,N);for(S=v;S>v-E+_;S--)u(g,S-1)}else if(_>E)for(S=v-E;S>x;S--)P=S+E-1,N=S+_-1,P in g?g[N]=g[P]:u(g,N);for(S=0;S<_;S++)g[S+x]=arguments[S+2];return s(g,v-E+_),O}}),Eq}var gb,Cq;function Gae(){if(Cq)return gb;Cq=1,Kae();var t=sn();return gb=t("Array","splice"),gb}var yb,Tq;function Yae(){if(Tq)return yb;Tq=1;var t=tr(),e=Gae(),r=Array.prototype;return yb=function(n){var i=n.splice;return n===r||t(r,n)&&i===r.splice?e:i},yb}var bb,Iq;function Qae(){if(Iq)return bb;Iq=1;var t=Yae();return bb=t,bb}var wb,Rq;function Xae(){return Rq||(Rq=1,wb=Qae()),wb}var Jae=Xae(),h9=ke(Jae),jq={},xb,$q;function Zae(){if($q)return xb;$q=1;var t=Mt(),e=Je(),r=nn(),n=Ve(),i=Gp(),s=Xp(),a=AC(),o=ai(),l=Up(),u=Object.assign,d=Object.defineProperty,h=e([].concat);return xb=!u||n(function(){if(t&&u({b:1},u(d({},"a",{enumerable:!0,get:function(){d(this,"b",{value:3,enumerable:!1})}}),{b:2})).b!==1)return!0;var f={},p={},m=Symbol("assign detection"),y="abcdefghijklmnopqrst";return f[m]=7,y.split("").forEach(function(b){p[b]=b}),u({},f)[m]!==7||i(u({},p)).join("")!==y})?function(p,m){for(var y=o(p),b=arguments.length,g=1,v=s.f,x=a.f;b>g;)for(var w=l(arguments[g++]),_=v?h(i(w),v(w)):i(w),E=_.length,O=0,S;E>O;)S=_[O++],(!t||r(x,w,S))&&(y[S]=w[S]);return y}:u,xb}var kq;function eoe(){if(kq)return jq;kq=1;var t=Oe(),e=Zae();return t({target:"Object",stat:!0,arity:2,forced:Object.assign!==e},{assign:e}),jq}var _b,Dq;function toe(){if(Dq)return _b;Dq=1,eoe();var t=Gt();return _b=t.Object.assign,_b}var Sb,qq;function roe(){if(qq)return Sb;qq=1;var t=toe();return Sb=t,Sb}var Eb,Mq;function noe(){return Mq||(Mq=1,Eb=roe()),Eb}var ioe=noe(),soe=ke(ioe),Ob,Aq;function aoe(){if(Aq)return Ob;Aq=1,VK();var t=sn();return Ob=t("Array","concat"),Ob}var Pb,Fq;function ooe(){if(Fq)return Pb;Fq=1;var t=tr(),e=aoe(),r=Array.prototype;return Pb=function(n){var i=n.concat;return n===r||t(r,n)&&i===r.concat?e:i},Pb}var Nb,Lq;function loe(){if(Lq)return Nb;Lq=1;var t=ooe();return Nb=t,Nb}var Cb,Bq;function uoe(){return Bq||(Bq=1,Cb=loe()),Cb}var coe=uoe(),doe=ke(coe),zq={},Uq;function hoe(){if(Uq)return zq;Uq=1;var t=Oe(),e=Mt(),r=Kd();return t({target:"Object",stat:!0,sham:!e},{create:r}),zq}var Tb,Wq;function foe(){if(Wq)return Tb;Wq=1,hoe();var t=Gt(),e=t.Object;return Tb=function(n,i){return e.create(n,i)},Tb}var Ib,Vq;function poe(){if(Vq)return Ib;Vq=1;var t=foe();return Ib=t,Ib}var Rb,Hq;function moe(){return Hq||(Hq=1,Rb=poe()),Rb}var voe=moe(),goe=ke(voe),Kq={},jb,Gq;function yoe(){if(Gq)return jb;Gq=1;var t=Nu(),e=ma(),r=Co(),n=RangeError;return jb=function(s){var a=e(r(this)),o="",l=t(s);if(l<0||l===1/0)throw new n("Wrong number of repetitions");for(;l>0;(l>>>=1)&&(a+=a))l&1&&(o+=a);return o},jb}var $b,Yq;function boe(){if(Yq)return $b;Yq=1;var t=Je(),e=zK(),r=ma(),n=yoe(),i=Co(),s=t(n),a=t("".slice),o=Math.ceil,l=function(u){return function(d,h,f){var p=r(i(d)),m=e(h),y=p.length,b=f===void 0?" ":r(f),g,v;return m<=y||b===""?p:(g=m-y,v=s(b,o(g/b.length)),v.length>g&&(v=a(v,0,g)),u?p+v:v+p)}};return $b={start:l(!1),end:l(!0)},$b}var kb,Qq;function woe(){if(Qq)return kb;Qq=1;var t=Je(),e=Ve(),r=boe().start,n=RangeError,i=isFinite,s=Math.abs,a=Date.prototype,o=a.toISOString,l=t(a.getTime),u=t(a.getUTCDate),d=t(a.getUTCFullYear),h=t(a.getUTCHours),f=t(a.getUTCMilliseconds),p=t(a.getUTCMinutes),m=t(a.getUTCMonth),y=t(a.getUTCSeconds);return kb=e(function(){return o.call(new Date(-5e13-1))!=="0385-07-25T07:06:39.999Z"})||!e(function(){o.call(new Date(NaN))})?function(){if(!i(l(this)))throw new n("Invalid time value");var g=this,v=d(g),x=f(g),w=v<0?"-":v>9999?"+":"";return w+r(s(v),w?6:4,0)+"-"+r(m(g)+1,2,0)+"-"+r(u(g),2,0)+"T"+r(h(g),2,0)+":"+r(p(g),2,0)+":"+r(y(g),2,0)+"."+r(x,3,0)+"Z"}:o,kb}var Xq;function xoe(){if(Xq)return Kq;Xq=1;var t=Oe(),e=nn(),r=ai(),n=MK(),i=woe(),s=us(),a=Ve(),o=a(function(){return new Date(NaN).toJSON()!==null||e(Date.prototype.toJSON,{toISOString:function(){return 1}})!==1});return t({target:"Date",proto:!0,forced:o},{toJSON:function(u){var d=r(this),h=n(d,"number");return typeof h=="number"&&!isFinite(h)?null:!("toISOString"in d)&&s(d)==="Date"?e(i,d):d.toISOString()}}),Kq}var Db,Jq;function _oe(){if(Jq)return Db;Jq=1,xoe(),QK();var t=Gt(),e=zp();return t.JSON||(t.JSON={stringify:JSON.stringify}),Db=function(n,i,s){return e(t.JSON.stringify,null,arguments)},Db}var qb,Zq;function Soe(){if(Zq)return qb;Zq=1;var t=_oe();return qb=t,qb}var Mb,eM;function Eoe(){return eM||(eM=1,Mb=Soe()),Mb}var Ooe=Eoe(),Poe=ke(Ooe),tM={},rM={},Ab,nM;function Noe(){if(nM)return Ab;nM=1;var t=TypeError;return Ab=function(e,r){if(e<r)throw new t("Not enough arguments");return e},Ab}var Fb,iM;function f9(){if(iM)return Fb;iM=1;var t=qt(),e=zp(),r=er(),n=u9(),i=xu(),s=Cu(),a=Noe(),o=t.Function,l=/MSIE .\./.test(i)||n==="BUN"&&function(){var u=t.Bun.version.split(".");return u.length<3||u[0]==="0"&&(u[1]<3||u[1]==="3"&&u[2]==="0")}();return Fb=function(u,d){var h=d?2:1;return l?function(f,p){var m=a(arguments.length,1)>h,y=r(f)?f:o(f),b=m?s(arguments,h):[],g=m?function(){e(y,this,b)}:y;return d?u(g,p):u(g)}:u},Fb}var sM;function Coe(){if(sM)return rM;sM=1;var t=Oe(),e=qt(),r=f9(),n=r(e.setInterval,!0);return t({global:!0,bind:!0,forced:e.setInterval!==n},{setInterval:n}),rM}var aM={},oM;function Toe(){if(oM)return aM;oM=1;var t=Oe(),e=qt(),r=f9(),n=r(e.setTimeout,!0);return t({global:!0,bind:!0,forced:e.setTimeout!==n},{setTimeout:n}),aM}var lM;function Ioe(){return lM||(lM=1,Coe(),Toe()),tM}var Lb,uM;function Roe(){if(uM)return Lb;uM=1,Ioe();var t=Gt();return Lb=t.setTimeout,Lb}var Bb,cM;function joe(){return cM||(cM=1,Bb=Roe()),Bb}var $oe=joe(),koe=ke($oe),zb={exports:{}},dM;function Doe(){return dM||(dM=1,function(t){function e(n){if(n)return r(n);this._callbacks=new Map}function r(n){return Object.assign(n,e.prototype),n._callbacks=new Map,n}e.prototype.on=function(n,i){const s=this._callbacks.get(n)??[];return s.push(i),this._callbacks.set(n,s),this},e.prototype.once=function(n,i){const s=(...a)=>{this.off(n,s),i.apply(this,a)};return s.fn=i,this.on(n,s),this},e.prototype.off=function(n,i){if(n===void 0&&i===void 0)return this._callbacks.clear(),this;if(i===void 0)return this._callbacks.delete(n),this;const s=this._callbacks.get(n);if(s){for(const[a,o]of s.entries())if(o===i||o.fn===i){s.splice(a,1);break}s.length===0?this._callbacks.delete(n):this._callbacks.set(n,s)}return this},e.prototype.emit=function(n,...i){const s=this._callbacks.get(n);if(s){const a=[...s];for(const o of a)o.apply(this,i)}return this},e.prototype.listeners=function(n){return this._callbacks.get(n)??[]},e.prototype.listenerCount=function(n){if(n)return this.listeners(n).length;let i=0;for(const s of this._callbacks.values())i+=s.length;return i},e.prototype.hasListeners=function(n){return this.listenerCount(n)>0},e.prototype.addEventListener=e.prototype.on,e.prototype.removeListener=e.prototype.off,e.prototype.removeEventListener=e.prototype.off,e.prototype.removeAllListeners=e.prototype.off,t.exports=e}(zb)),zb.exports}var qoe=Doe(),Moe=ke(qoe);/*! Hammer.JS - v2.0.17-rc - 2019-12-16
 * http://naver.github.io/egjs
 *
 * Forked By Naver egjs
 * Copyright (c) hammerjs
 * Licensed under the MIT license */function ni(){return ni=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},ni.apply(this,arguments)}function An(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}function Vh(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}var nN;typeof Object.assign!="function"?nN=function(e){if(e==null)throw new TypeError("Cannot convert undefined or null to object");for(var r=Object(e),n=1;n<arguments.length;n++){var i=arguments[n];if(i!=null)for(var s in i)i.hasOwnProperty(s)&&(r[s]=i[s])}return r}:nN=Object.assign;var yo=nN,hM=["","webkit","Moz","MS","ms","o"],Aoe=typeof document>"u"?{style:{}}:document.createElement("div"),Foe="function",ml=Math.round,bo=Math.abs,XC=Date.now;function tm(t,e){for(var r,n,i=e[0].toUpperCase()+e.slice(1),s=0;s<hM.length;){if(r=hM[s],n=r?r+i:e,n in t)return n;s++}}var Wi;typeof window>"u"?Wi={}:Wi=window;var p9=tm(Aoe.style,"touchAction"),m9=p9!==void 0;function Loe(){if(!m9)return!1;var t={},e=Wi.CSS&&Wi.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach(function(r){return t[r]=e?Wi.CSS.supports("touch-action",r):!0}),t}var v9="compute",g9="auto",iN="manipulation",Xa="none",cd="pan-x",dd="pan-y",Hh=Loe(),Boe=/mobile|tablet|ip(ad|hone|od)|android/i,y9="ontouchstart"in Wi,zoe=tm(Wi,"PointerEvent")!==void 0,Uoe=y9&&Boe.test(navigator.userAgent),Qd="touch",Woe="pen",JC="mouse",Voe="kinect",Hoe=25,Dr=1,Ro=2,$t=4,en=8,tp=1,Xd=2,Jd=4,Zd=8,nu=16,Si=Xd|Jd,Ja=Zd|nu,b9=Si|Ja,w9=["x","y"],rp=["clientX","clientY"];function Vi(t,e,r){var n;if(t)if(t.forEach)t.forEach(e,r);else if(t.length!==void 0)for(n=0;n<t.length;)e.call(r,t[n],n,t),n++;else for(n in t)t.hasOwnProperty(n)&&e.call(r,t[n],n,t)}function rm(t,e){return typeof t===Foe?t.apply(e&&e[0]||void 0,e):t}function ka(t,e){return t.indexOf(e)>-1}function Koe(t){if(ka(t,Xa))return Xa;var e=ka(t,cd),r=ka(t,dd);return e&&r?Xa:e||r?e?cd:dd:ka(t,iN)?iN:g9}var x9=function(){function t(r,n){this.manager=r,this.set(n)}var e=t.prototype;return e.set=function(n){n===v9&&(n=this.compute()),m9&&this.manager.element.style&&Hh[n]&&(this.manager.element.style[p9]=n),this.actions=n.toLowerCase().trim()},e.update=function(){this.set(this.manager.options.touchAction)},e.compute=function(){var n=[];return Vi(this.manager.recognizers,function(i){rm(i.options.enable,[i])&&(n=n.concat(i.getTouchAction()))}),Koe(n.join(" "))},e.preventDefaults=function(n){var i=n.srcEvent,s=n.offsetDirection;if(this.manager.session.prevented){i.preventDefault();return}var a=this.actions,o=ka(a,Xa)&&!Hh[Xa],l=ka(a,dd)&&!Hh[dd],u=ka(a,cd)&&!Hh[cd];if(o){var d=n.pointers.length===1,h=n.distance<2,f=n.deltaTime<250;if(d&&h&&f)return}if(!(u&&l)&&(o||l&&s&Si||u&&s&Ja))return this.preventSrc(i)},e.preventSrc=function(n){this.manager.session.prevented=!0,n.preventDefault()},t}();function ZC(t,e){for(;t;){if(t===e)return!0;t=t.parentNode}return!1}function _9(t){var e=t.length;if(e===1)return{x:ml(t[0].clientX),y:ml(t[0].clientY)};for(var r=0,n=0,i=0;i<e;)r+=t[i].clientX,n+=t[i].clientY,i++;return{x:ml(r/e),y:ml(n/e)}}function fM(t){for(var e=[],r=0;r<t.pointers.length;)e[r]={clientX:ml(t.pointers[r].clientX),clientY:ml(t.pointers[r].clientY)},r++;return{timeStamp:XC(),pointers:e,center:_9(e),deltaX:t.deltaX,deltaY:t.deltaY}}function np(t,e,r){r||(r=w9);var n=e[r[0]]-t[r[0]],i=e[r[1]]-t[r[1]];return Math.sqrt(n*n+i*i)}function sN(t,e,r){r||(r=w9);var n=e[r[0]]-t[r[0]],i=e[r[1]]-t[r[1]];return Math.atan2(i,n)*180/Math.PI}function S9(t,e){return t===e?tp:bo(t)>=bo(e)?t<0?Xd:Jd:e<0?Zd:nu}function Goe(t,e){var r=e.center,n=t.offsetDelta||{},i=t.prevDelta||{},s=t.prevInput||{};(e.eventType===Dr||s.eventType===$t)&&(i=t.prevDelta={x:s.deltaX||0,y:s.deltaY||0},n=t.offsetDelta={x:r.x,y:r.y}),e.deltaX=i.x+(r.x-n.x),e.deltaY=i.y+(r.y-n.y)}function E9(t,e,r){return{x:e/t||0,y:r/t||0}}function Yoe(t,e){return np(e[0],e[1],rp)/np(t[0],t[1],rp)}function Qoe(t,e){return sN(e[1],e[0],rp)+sN(t[1],t[0],rp)}function Xoe(t,e){var r=t.lastInterval||e,n=e.timeStamp-r.timeStamp,i,s,a,o;if(e.eventType!==en&&(n>Hoe||r.velocity===void 0)){var l=e.deltaX-r.deltaX,u=e.deltaY-r.deltaY,d=E9(n,l,u);s=d.x,a=d.y,i=bo(d.x)>bo(d.y)?d.x:d.y,o=S9(l,u),t.lastInterval=e}else i=r.velocity,s=r.velocityX,a=r.velocityY,o=r.direction;e.velocity=i,e.velocityX=s,e.velocityY=a,e.direction=o}function Joe(t,e){var r=t.session,n=e.pointers,i=n.length;r.firstInput||(r.firstInput=fM(e)),i>1&&!r.firstMultiple?r.firstMultiple=fM(e):i===1&&(r.firstMultiple=!1);var s=r.firstInput,a=r.firstMultiple,o=a?a.center:s.center,l=e.center=_9(n);e.timeStamp=XC(),e.deltaTime=e.timeStamp-s.timeStamp,e.angle=sN(o,l),e.distance=np(o,l),Goe(r,e),e.offsetDirection=S9(e.deltaX,e.deltaY);var u=E9(e.deltaTime,e.deltaX,e.deltaY);e.overallVelocityX=u.x,e.overallVelocityY=u.y,e.overallVelocity=bo(u.x)>bo(u.y)?u.x:u.y,e.scale=a?Yoe(a.pointers,n):1,e.rotation=a?Qoe(a.pointers,n):0,e.maxPointers=r.prevInput?e.pointers.length>r.prevInput.maxPointers?e.pointers.length:r.prevInput.maxPointers:e.pointers.length,Xoe(r,e);var d=t.element,h=e.srcEvent,f;h.composedPath?f=h.composedPath()[0]:h.path?f=h.path[0]:f=h.target,ZC(f,d)&&(d=f),e.target=d}function Zoe(t,e,r){var n=r.pointers.length,i=r.changedPointers.length,s=e&Dr&&n-i===0,a=e&($t|en)&&n-i===0;r.isFirst=!!s,r.isFinal=!!a,s&&(t.session={}),r.eventType=e,Joe(t,r),t.emit("hammer.input",r),t.recognize(r),t.session.prevInput=r}function hd(t){return t.trim().split(/\s+/g)}function $c(t,e,r){Vi(hd(e),function(n){t.addEventListener(n,r,!1)})}function kc(t,e,r){Vi(hd(e),function(n){t.removeEventListener(n,r,!1)})}function pM(t){var e=t.ownerDocument||t;return e.defaultView||e.parentWindow||window}var Ru=function(){function t(r,n){var i=this;this.manager=r,this.callback=n,this.element=r.element,this.target=r.options.inputTarget,this.domHandler=function(s){rm(r.options.enable,[r])&&i.handler(s)},this.init()}var e=t.prototype;return e.handler=function(){},e.init=function(){this.evEl&&$c(this.element,this.evEl,this.domHandler),this.evTarget&&$c(this.target,this.evTarget,this.domHandler),this.evWin&&$c(pM(this.element),this.evWin,this.domHandler)},e.destroy=function(){this.evEl&&kc(this.element,this.evEl,this.domHandler),this.evTarget&&kc(this.target,this.evTarget,this.domHandler),this.evWin&&kc(pM(this.element),this.evWin,this.domHandler)},t}();function wo(t,e,r){if(t.indexOf&&!r)return t.indexOf(e);for(var n=0;n<t.length;){if(r&&t[n][r]==e||!r&&t[n]===e)return n;n++}return-1}var ele={pointerdown:Dr,pointermove:Ro,pointerup:$t,pointercancel:en,pointerout:en},tle={2:Qd,3:Woe,4:JC,5:Voe},O9="pointerdown",P9="pointermove pointerup pointercancel";Wi.MSPointerEvent&&!Wi.PointerEvent&&(O9="MSPointerDown",P9="MSPointerMove MSPointerUp MSPointerCancel");var N9=function(t){An(e,t);function e(){var n,i=e.prototype;return i.evEl=O9,i.evWin=P9,n=t.apply(this,arguments)||this,n.store=n.manager.session.pointerEvents=[],n}var r=e.prototype;return r.handler=function(i){var s=this.store,a=!1,o=i.type.toLowerCase().replace("ms",""),l=ele[o],u=tle[i.pointerType]||i.pointerType,d=u===Qd,h=wo(s,i.pointerId,"pointerId");l&Dr&&(i.button===0||d)?h<0&&(s.push(i),h=s.length-1):l&($t|en)&&(a=!0),!(h<0)&&(s[h]=i,this.callback(this.manager,l,{pointers:s,changedPointers:[i],pointerType:u,srcEvent:i}),a&&s.splice(h,1))},e}(Ru);function fd(t){return Array.prototype.slice.call(t,0)}function eT(t,e,r){for(var n=[],i=[],s=0;s<t.length;){var a=e?t[s][e]:t[s];wo(i,a)<0&&n.push(t[s]),i[s]=a,s++}return r&&(e?n=n.sort(function(o,l){return o[e]>l[e]}):n=n.sort()),n}var rle={touchstart:Dr,touchmove:Ro,touchend:$t,touchcancel:en},nle="touchstart touchmove touchend touchcancel",tT=function(t){An(e,t);function e(){var n;return e.prototype.evTarget=nle,n=t.apply(this,arguments)||this,n.targetIds={},n}var r=e.prototype;return r.handler=function(i){var s=rle[i.type],a=ile.call(this,i,s);a&&this.callback(this.manager,s,{pointers:a[0],changedPointers:a[1],pointerType:Qd,srcEvent:i})},e}(Ru);function ile(t,e){var r=fd(t.touches),n=this.targetIds;if(e&(Dr|Ro)&&r.length===1)return n[r[0].identifier]=!0,[r,r];var i,s,a=fd(t.changedTouches),o=[],l=this.target;if(s=r.filter(function(u){return ZC(u.target,l)}),e===Dr)for(i=0;i<s.length;)n[s[i].identifier]=!0,i++;for(i=0;i<a.length;)n[a[i].identifier]&&o.push(a[i]),e&($t|en)&&delete n[a[i].identifier],i++;if(o.length)return[eT(s.concat(o),"identifier",!0),o]}var sle={mousedown:Dr,mousemove:Ro,mouseup:$t},ale="mousedown",ole="mousemove mouseup",rT=function(t){An(e,t);function e(){var n,i=e.prototype;return i.evEl=ale,i.evWin=ole,n=t.apply(this,arguments)||this,n.pressed=!1,n}var r=e.prototype;return r.handler=function(i){var s=sle[i.type];s&Dr&&i.button===0&&(this.pressed=!0),s&Ro&&i.which!==1&&(s=$t),this.pressed&&(s&$t&&(this.pressed=!1),this.callback(this.manager,s,{pointers:[i],changedPointers:[i],pointerType:JC,srcEvent:i}))},e}(Ru),lle=2500,mM=25;function vM(t){var e=t.changedPointers,r=e[0];if(r.identifier===this.primaryTouch){var n={x:r.clientX,y:r.clientY},i=this.lastTouches;this.lastTouches.push(n);var s=function(){var o=i.indexOf(n);o>-1&&i.splice(o,1)};setTimeout(s,lle)}}function ule(t,e){t&Dr?(this.primaryTouch=e.changedPointers[0].identifier,vM.call(this,e)):t&($t|en)&&vM.call(this,e)}function cle(t){for(var e=t.srcEvent.clientX,r=t.srcEvent.clientY,n=0;n<this.lastTouches.length;n++){var i=this.lastTouches[n],s=Math.abs(e-i.x),a=Math.abs(r-i.y);if(s<=mM&&a<=mM)return!0}return!1}var C9=function(){var t=function(e){An(r,e);function r(i,s){var a;return a=e.call(this,i,s)||this,a.handler=function(o,l,u){var d=u.pointerType===Qd,h=u.pointerType===JC;if(!(h&&u.sourceCapabilities&&u.sourceCapabilities.firesTouchEvents)){if(d)ule.call(Vh(Vh(a)),l,u);else if(h&&cle.call(Vh(Vh(a)),u))return;a.callback(o,l,u)}},a.touch=new tT(a.manager,a.handler),a.mouse=new rT(a.manager,a.handler),a.primaryTouch=null,a.lastTouches=[],a}var n=r.prototype;return n.destroy=function(){this.touch.destroy(),this.mouse.destroy()},r}(Ru);return t}();function dle(t){var e,r=t.options.inputClass;return r?e=r:zoe?e=N9:Uoe?e=tT:y9?e=C9:e=rT,new e(t,Zoe)}function vl(t,e,r){return Array.isArray(t)?(Vi(t,r[e],r),!0):!1}var vf=1,jn=2,iu=4,Js=8,Hi=Js,pd=16,yi=32,hle=1;function fle(){return hle++}function Kh(t,e){var r=e.manager;return r?r.get(t):t}function gM(t){return t&pd?"cancel":t&Js?"end":t&iu?"move":t&jn?"start":""}var eh=function(){function t(r){r===void 0&&(r={}),this.options=ni({enable:!0},r),this.id=fle(),this.manager=null,this.state=vf,this.simultaneous={},this.requireFail=[]}var e=t.prototype;return e.set=function(n){return yo(this.options,n),this.manager&&this.manager.touchAction.update(),this},e.recognizeWith=function(n){if(vl(n,"recognizeWith",this))return this;var i=this.simultaneous;return n=Kh(n,this),i[n.id]||(i[n.id]=n,n.recognizeWith(this)),this},e.dropRecognizeWith=function(n){return vl(n,"dropRecognizeWith",this)?this:(n=Kh(n,this),delete this.simultaneous[n.id],this)},e.requireFailure=function(n){if(vl(n,"requireFailure",this))return this;var i=this.requireFail;return n=Kh(n,this),wo(i,n)===-1&&(i.push(n),n.requireFailure(this)),this},e.dropRequireFailure=function(n){if(vl(n,"dropRequireFailure",this))return this;n=Kh(n,this);var i=wo(this.requireFail,n);return i>-1&&this.requireFail.splice(i,1),this},e.hasRequireFailures=function(){return this.requireFail.length>0},e.canRecognizeWith=function(n){return!!this.simultaneous[n.id]},e.emit=function(n){var i=this,s=this.state;function a(o){i.manager.emit(o,n)}s<Js&&a(i.options.event+gM(s)),a(i.options.event),n.additionalEvent&&a(n.additionalEvent),s>=Js&&a(i.options.event+gM(s))},e.tryEmit=function(n){if(this.canEmit())return this.emit(n);this.state=yi},e.canEmit=function(){for(var n=0;n<this.requireFail.length;){if(!(this.requireFail[n].state&(yi|vf)))return!1;n++}return!0},e.recognize=function(n){var i=yo({},n);if(!rm(this.options.enable,[this,i])){this.reset(),this.state=yi;return}this.state&(Hi|pd|yi)&&(this.state=vf),this.state=this.process(i),this.state&(jn|iu|Js|pd)&&this.tryEmit(i)},e.process=function(n){},e.getTouchAction=function(){},e.reset=function(){},t}(),aN=function(t){An(e,t);function e(n){var i;return n===void 0&&(n={}),i=t.call(this,ni({event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},n))||this,i.pTime=!1,i.pCenter=!1,i._timer=null,i._input=null,i.count=0,i}var r=e.prototype;return r.getTouchAction=function(){return[iN]},r.process=function(i){var s=this,a=this.options,o=i.pointers.length===a.pointers,l=i.distance<a.threshold,u=i.deltaTime<a.time;if(this.reset(),i.eventType&Dr&&this.count===0)return this.failTimeout();if(l&&u&&o){if(i.eventType!==$t)return this.failTimeout();var d=this.pTime?i.timeStamp-this.pTime<a.interval:!0,h=!this.pCenter||np(this.pCenter,i.center)<a.posThreshold;this.pTime=i.timeStamp,this.pCenter=i.center,!h||!d?this.count=1:this.count+=1,this._input=i;var f=this.count%a.taps;if(f===0)return this.hasRequireFailures()?(this._timer=setTimeout(function(){s.state=Hi,s.tryEmit()},a.interval),jn):Hi}return yi},r.failTimeout=function(){var i=this;return this._timer=setTimeout(function(){i.state=yi},this.options.interval),yi},r.reset=function(){clearTimeout(this._timer)},r.emit=function(){this.state===Hi&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))},e}(eh),su=function(t){An(e,t);function e(n){return n===void 0&&(n={}),t.call(this,ni({pointers:1},n))||this}var r=e.prototype;return r.attrTest=function(i){var s=this.options.pointers;return s===0||i.pointers.length===s},r.process=function(i){var s=this.state,a=i.eventType,o=s&(jn|iu),l=this.attrTest(i);return o&&(a&en||!l)?s|pd:o||l?a&$t?s|Js:s&jn?s|iu:jn:yi},e}(eh);function T9(t){return t===nu?"down":t===Zd?"up":t===Xd?"left":t===Jd?"right":""}var nT=function(t){An(e,t);function e(n){var i;return n===void 0&&(n={}),i=t.call(this,ni({event:"pan",threshold:10,pointers:1,direction:b9},n))||this,i.pX=null,i.pY=null,i}var r=e.prototype;return r.getTouchAction=function(){var i=this.options.direction,s=[];return i&Si&&s.push(dd),i&Ja&&s.push(cd),s},r.directionTest=function(i){var s=this.options,a=!0,o=i.distance,l=i.direction,u=i.deltaX,d=i.deltaY;return l&s.direction||(s.direction&Si?(l=u===0?tp:u<0?Xd:Jd,a=u!==this.pX,o=Math.abs(i.deltaX)):(l=d===0?tp:d<0?Zd:nu,a=d!==this.pY,o=Math.abs(i.deltaY))),i.direction=l,a&&o>s.threshold&&l&s.direction},r.attrTest=function(i){return su.prototype.attrTest.call(this,i)&&(this.state&jn||!(this.state&jn)&&this.directionTest(i))},r.emit=function(i){this.pX=i.deltaX,this.pY=i.deltaY;var s=T9(i.direction);s&&(i.additionalEvent=this.options.event+s),t.prototype.emit.call(this,i)},e}(su),I9=function(t){An(e,t);function e(n){return n===void 0&&(n={}),t.call(this,ni({event:"swipe",threshold:10,velocity:.3,direction:Si|Ja,pointers:1},n))||this}var r=e.prototype;return r.getTouchAction=function(){return nT.prototype.getTouchAction.call(this)},r.attrTest=function(i){var s=this.options.direction,a;return s&(Si|Ja)?a=i.overallVelocity:s&Si?a=i.overallVelocityX:s&Ja&&(a=i.overallVelocityY),t.prototype.attrTest.call(this,i)&&s&i.offsetDirection&&i.distance>this.options.threshold&&i.maxPointers===this.options.pointers&&bo(a)>this.options.velocity&&i.eventType&$t},r.emit=function(i){var s=T9(i.offsetDirection);s&&this.manager.emit(this.options.event+s,i),this.manager.emit(this.options.event,i)},e}(su),R9=function(t){An(e,t);function e(n){return n===void 0&&(n={}),t.call(this,ni({event:"pinch",threshold:0,pointers:2},n))||this}var r=e.prototype;return r.getTouchAction=function(){return[Xa]},r.attrTest=function(i){return t.prototype.attrTest.call(this,i)&&(Math.abs(i.scale-1)>this.options.threshold||this.state&jn)},r.emit=function(i){if(i.scale!==1){var s=i.scale<1?"in":"out";i.additionalEvent=this.options.event+s}t.prototype.emit.call(this,i)},e}(su),j9=function(t){An(e,t);function e(n){return n===void 0&&(n={}),t.call(this,ni({event:"rotate",threshold:0,pointers:2},n))||this}var r=e.prototype;return r.getTouchAction=function(){return[Xa]},r.attrTest=function(i){return t.prototype.attrTest.call(this,i)&&(Math.abs(i.rotation)>this.options.threshold||this.state&jn)},e}(su),$9=function(t){An(e,t);function e(n){var i;return n===void 0&&(n={}),i=t.call(this,ni({event:"press",pointers:1,time:251,threshold:9},n))||this,i._timer=null,i._input=null,i}var r=e.prototype;return r.getTouchAction=function(){return[g9]},r.process=function(i){var s=this,a=this.options,o=i.pointers.length===a.pointers,l=i.distance<a.threshold,u=i.deltaTime>a.time;if(this._input=i,!l||!o||i.eventType&($t|en)&&!u)this.reset();else if(i.eventType&Dr)this.reset(),this._timer=setTimeout(function(){s.state=Hi,s.tryEmit()},a.time);else if(i.eventType&$t)return Hi;return yi},r.reset=function(){clearTimeout(this._timer)},r.emit=function(i){this.state===Hi&&(i&&i.eventType&$t?this.manager.emit(this.options.event+"up",i):(this._input.timeStamp=XC(),this.manager.emit(this.options.event,this._input)))},e}(eh),k9={domEvents:!1,touchAction:v9,enable:!0,inputTarget:null,inputClass:null,cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}},yM=[[j9,{enable:!1}],[R9,{enable:!1},["rotate"]],[I9,{direction:Si}],[nT,{direction:Si},["swipe"]],[aN],[aN,{event:"doubletap",taps:2},["tap"]],[$9]],ple=1,bM=2;function wM(t,e){var r=t.element;if(r.style){var n;Vi(t.options.cssProps,function(i,s){n=tm(r.style,s),e?(t.oldCssProps[n]=r.style[n],r.style[n]=i):r.style[n]=t.oldCssProps[n]||""}),e||(t.oldCssProps={})}}function mle(t,e){var r=document.createEvent("Event");r.initEvent(t,!0,!0),r.gesture=e,e.target.dispatchEvent(r)}var xM=function(){function t(r,n){var i=this;this.options=yo({},k9,n||{}),this.options.inputTarget=this.options.inputTarget||r,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=r,this.input=dle(this),this.touchAction=new x9(this,this.options.touchAction),wM(this,!0),Vi(this.options.recognizers,function(s){var a=i.add(new s[0](s[1]));s[2]&&a.recognizeWith(s[2]),s[3]&&a.requireFailure(s[3])},this)}var e=t.prototype;return e.set=function(n){return yo(this.options,n),n.touchAction&&this.touchAction.update(),n.inputTarget&&(this.input.destroy(),this.input.target=n.inputTarget,this.input.init()),this},e.stop=function(n){this.session.stopped=n?bM:ple},e.recognize=function(n){var i=this.session;if(!i.stopped){this.touchAction.preventDefaults(n);var s,a=this.recognizers,o=i.curRecognizer;(!o||o&&o.state&Hi)&&(i.curRecognizer=null,o=null);for(var l=0;l<a.length;)s=a[l],i.stopped!==bM&&(!o||s===o||s.canRecognizeWith(o))?s.recognize(n):s.reset(),!o&&s.state&(jn|iu|Js)&&(i.curRecognizer=s,o=s),l++}},e.get=function(n){if(n instanceof eh)return n;for(var i=this.recognizers,s=0;s<i.length;s++)if(i[s].options.event===n)return i[s];return null},e.add=function(n){if(vl(n,"add",this))return this;var i=this.get(n.options.event);return i&&this.remove(i),this.recognizers.push(n),n.manager=this,this.touchAction.update(),n},e.remove=function(n){if(vl(n,"remove",this))return this;var i=this.get(n);if(n){var s=this.recognizers,a=wo(s,i);a!==-1&&(s.splice(a,1),this.touchAction.update())}return this},e.on=function(n,i){if(n===void 0||i===void 0)return this;var s=this.handlers;return Vi(hd(n),function(a){s[a]=s[a]||[],s[a].push(i)}),this},e.off=function(n,i){if(n===void 0)return this;var s=this.handlers;return Vi(hd(n),function(a){i?s[a]&&s[a].splice(wo(s[a],i),1):delete s[a]}),this},e.emit=function(n,i){this.options.domEvents&&mle(n,i);var s=this.handlers[n]&&this.handlers[n].slice();if(!(!s||!s.length)){i.type=n,i.preventDefault=function(){i.srcEvent.preventDefault()};for(var a=0;a<s.length;)s[a](i),a++}},e.destroy=function(){this.element&&wM(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null},t}(),vle={touchstart:Dr,touchmove:Ro,touchend:$t,touchcancel:en},gle="touchstart",yle="touchstart touchmove touchend touchcancel",ble=function(t){An(e,t);function e(){var n,i=e.prototype;return i.evTarget=gle,i.evWin=yle,n=t.apply(this,arguments)||this,n.started=!1,n}var r=e.prototype;return r.handler=function(i){var s=vle[i.type];if(s===Dr&&(this.started=!0),!!this.started){var a=wle.call(this,i,s);s&($t|en)&&a[0].length-a[1].length===0&&(this.started=!1),this.callback(this.manager,s,{pointers:a[0],changedPointers:a[1],pointerType:Qd,srcEvent:i})}},e}(Ru);function wle(t,e){var r=fd(t.touches),n=fd(t.changedTouches);return e&($t|en)&&(r=eT(r.concat(n),"identifier",!0)),[r,n]}function D9(t,e,r){var n="DEPRECATED METHOD: "+e+`
`+r+` AT 
`;return function(){var i=new Error("get-stack-trace"),s=i&&i.stack?i.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",a=window.console&&(window.console.warn||window.console.log);return a&&a.call(window.console,n,s),t.apply(this,arguments)}}var q9=D9(function(t,e,r){for(var n=Object.keys(e),i=0;i<n.length;)(!r||r&&t[n[i]]===void 0)&&(t[n[i]]=e[n[i]]),i++;return t},"extend","Use `assign`."),xle=D9(function(t,e){return q9(t,e,!0)},"merge","Use `assign`.");function _le(t,e,r){var n=e.prototype,i;i=t.prototype=Object.create(n),i.constructor=t,i._super=n,r&&yo(i,r)}function _M(t,e){return function(){return t.apply(e,arguments)}}var Sle=function(){var t=function(r,n){return n===void 0&&(n={}),new xM(r,ni({recognizers:yM.concat()},n))};return t.VERSION="2.0.17-rc",t.DIRECTION_ALL=b9,t.DIRECTION_DOWN=nu,t.DIRECTION_LEFT=Xd,t.DIRECTION_RIGHT=Jd,t.DIRECTION_UP=Zd,t.DIRECTION_HORIZONTAL=Si,t.DIRECTION_VERTICAL=Ja,t.DIRECTION_NONE=tp,t.DIRECTION_DOWN=nu,t.INPUT_START=Dr,t.INPUT_MOVE=Ro,t.INPUT_END=$t,t.INPUT_CANCEL=en,t.STATE_POSSIBLE=vf,t.STATE_BEGAN=jn,t.STATE_CHANGED=iu,t.STATE_ENDED=Js,t.STATE_RECOGNIZED=Hi,t.STATE_CANCELLED=pd,t.STATE_FAILED=yi,t.Manager=xM,t.Input=Ru,t.TouchAction=x9,t.TouchInput=tT,t.MouseInput=rT,t.PointerEventInput=N9,t.TouchMouseInput=C9,t.SingleTouchInput=ble,t.Recognizer=eh,t.AttrRecognizer=su,t.Tap=aN,t.Pan=nT,t.Swipe=I9,t.Pinch=R9,t.Rotate=j9,t.Press=$9,t.on=$c,t.off=kc,t.each=Vi,t.merge=xle,t.extend=q9,t.bindFn=_M,t.assign=yo,t.inherit=_le,t.bindFn=_M,t.prefixed=tm,t.toArray=fd,t.inArray=wo,t.uniqueArray=eT,t.splitStr=hd,t.boolOrFn=rm,t.hasParent=ZC,t.addEventListeners=$c,t.removeEventListeners=kc,t.defaults=yo({},k9,{preset:yM}),t}();const M9=lae("DELETE");function Ele(t){for(var e=arguments.length,r=new Array(e>1?e-1:0),n=1;n<e;n++)r[n-1]=arguments[n];return A9({},t,...r)}function A9(){const t=ip(...arguments);return L9(t),t}function ip(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];if(e.length<2)return e[0];if(e.length>2)return ip(A9(e[0],e[1]),...mae(e).call(e,2));const n=e[0],i=e[1];if(n instanceof Date&&i instanceof Date)return n.setTime(i.getTime()),n;for(const s of xae(i))Object.prototype.propertyIsEnumerable.call(i,s)&&(i[s]===M9?delete n[s]:n[s]!==null&&i[s]!==null&&typeof n[s]=="object"&&typeof i[s]=="object"&&!di(n[s])&&!di(i[s])?n[s]=ip(n[s],i[s]):n[s]=F9(i[s]));return n}function F9(t){return di(t)?Yn(t).call(t,e=>F9(e)):typeof t=="object"&&t!==null?t instanceof Date?new Date(t.getTime()):ip({},t):t}function L9(t){for(const e of QC(t))t[e]===M9?delete t[e]:typeof t[e]=="object"&&t[e]!==null&&L9(t[e])}function Ole(){const t=()=>{};return{on:t,off:t,destroy:t,emit:t,get(){return{set:t}}}}const Ple=typeof window<"u"?window.Hammer||Sle:function(){return Ole()};function Li(t){var e;this._cleanupQueue=[],this.active=!1,this._dom={container:t,overlay:document.createElement("div")},this._dom.overlay.classList.add("vis-overlay"),this._dom.container.appendChild(this._dom.overlay),this._cleanupQueue.push(()=>{this._dom.overlay.parentNode.removeChild(this._dom.overlay)});const r=Ple(this._dom.overlay);r.on("tap",l9(e=this._onTapOverlay).call(e,this)),this._cleanupQueue.push(()=>{r.destroy()});const n=["tap","doubletap","press","pinch","pan","panstart","panmove","panend"];go(n).call(n,i=>{r.on(i,s=>{s.srcEvent.stopPropagation()})}),document&&document.body&&(this._onClick=i=>{Nle(i.target,t)||this.deactivate()},document.body.addEventListener("click",this._onClick),this._cleanupQueue.push(()=>{document.body.removeEventListener("click",this._onClick)})),this._escListener=i=>{("key"in i?i.key==="Escape":i.keyCode===27)&&this.deactivate()}}Moe(Li.prototype);Li.current=null;Li.prototype.destroy=function(){this.deactivate();for(const r of Vae(t=h9(e=this._cleanupQueue).call(e,0)).call(t)){var t,e;r()}};Li.prototype.activate=function(){Li.current&&Li.current.deactivate(),Li.current=this,this.active=!0,this._dom.overlay.style.display="none",this._dom.container.classList.add("vis-active"),this.emit("change"),this.emit("activate"),document.body.addEventListener("keydown",this._escListener)};Li.prototype.deactivate=function(){this.active=!1,this._dom.overlay.style.display="block",this._dom.container.classList.remove("vis-active"),document.body.removeEventListener("keydown",this._escListener),this.emit("change"),this.emit("deactivate")};Li.prototype._onTapOverlay=function(t){this.activate(),t.srcEvent.stopPropagation()};function Nle(t,e){for(;t;){if(t===e)return!0;t=t.parentNode}return!1}var Ub,SM;function Cle(){if(SM)return Ub;SM=1,XK();var t=Gt();return Ub=t.Object.getOwnPropertySymbols,Ub}var Wb,EM;function Tle(){if(EM)return Wb;EM=1;var t=Cle();return Wb=t,Wb}var Vb,OM;function Ile(){return OM||(OM=1,Vb=Tle()),Vb}var Rle=Ile(),PM=ke(Rle),Hb={exports:{}},NM={},CM;function jle(){if(CM)return NM;CM=1;var t=Oe(),e=Ve(),r=Oi(),n=Vp().f,i=Mt(),s=!i||e(function(){n(1)});return t({target:"Object",stat:!0,forced:s,sham:!i},{getOwnPropertyDescriptor:function(o,l){return n(r(o),l)}}),NM}var TM;function $le(){if(TM)return Hb.exports;TM=1,jle();var t=Gt(),e=t.Object,r=Hb.exports=function(i,s){return e.getOwnPropertyDescriptor(i,s)};return e.getOwnPropertyDescriptor.sham&&(r.sham=!0),Hb.exports}var Kb,IM;function kle(){if(IM)return Kb;IM=1;var t=$le();return Kb=t,Kb}var Gb,RM;function Dle(){return RM||(RM=1,Gb=kle()),Gb}var qle=Dle(),B9=ke(qle),jM={},$M;function Mle(){if($M)return jM;$M=1;var t=Oe(),e=Mt(),r=c9(),n=Oi(),i=Vp(),s=Kp();return t({target:"Object",stat:!0,sham:!e},{getOwnPropertyDescriptors:function(o){for(var l=n(o),u=i.f,d=r(l),h={},f=0,p,m;d.length>f;)m=u(l,p=d[f++]),m!==void 0&&s(h,p,m);return h}}),jM}var Yb,kM;function Ale(){if(kM)return Yb;kM=1,Mle();var t=Gt();return Yb=t.Object.getOwnPropertyDescriptors,Yb}var Qb,DM;function Fle(){if(DM)return Qb;DM=1;var t=Ale();return Qb=t,Qb}var Xb,qM;function Lle(){return qM||(qM=1,Xb=Fle()),Xb}var Ble=Lle(),MM=ke(Ble),Jb={exports:{}},AM={},FM;function zle(){if(FM)return AM;FM=1;var t=Oe(),e=Mt(),r=HC().f;return t({target:"Object",stat:!0,forced:Object.defineProperties!==r,sham:!e},{defineProperties:r}),AM}var LM;function Ule(){if(LM)return Jb.exports;LM=1,zle();var t=Gt(),e=t.Object,r=Jb.exports=function(i,s){return e.defineProperties(i,s)};return e.defineProperties.sham&&(r.sham=!0),Jb.exports}var Zb,BM;function Wle(){if(BM)return Zb;BM=1;var t=Ule();return Zb=t,Zb}var e0,zM;function Vle(){return zM||(zM=1,e0=Wle()),e0}var Hle=Vle(),Kle=ke(Hle),t0,UM;function Gle(){return UM||(UM=1,t0=BK()),t0}var Yle=Gle(),Qle=ke(Yle),WM={},VM={},r0={exports:{}},n0,HM;function Xle(){if(HM)return n0;HM=1;var t=Ve();return n0=t(function(){if(typeof ArrayBuffer=="function"){var e=new ArrayBuffer(8);Object.isExtensible(e)&&Object.defineProperty(e,"a",{value:8})}}),n0}var i0,KM;function Jle(){if(KM)return i0;KM=1;var t=Ve(),e=Fr(),r=us(),n=Xle(),i=Object.isExtensible,s=t(function(){});return i0=s||n?function(o){return!e(o)||n&&r(o)==="ArrayBuffer"?!1:i?i(o):!0}:i,i0}var s0,GM;function Zle(){if(GM)return s0;GM=1;var t=Ve();return s0=!t(function(){return Object.isExtensible(Object.preventExtensions({}))}),s0}var YM;function z9(){if(YM)return r0.exports;YM=1;var t=Oe(),e=Je(),r=Hd(),n=Fr(),i=rr(),s=Mn().f,a=Qp(),o=KK(),l=Jle(),u=Wp(),d=Zle(),h=!1,f=u("meta"),p=0,m=function(w){s(w,f,{value:{objectID:"O"+p++,weakData:{}}})},y=function(w,_){if(!n(w))return typeof w=="symbol"?w:(typeof w=="string"?"S":"P")+w;if(!i(w,f)){if(!l(w))return"F";if(!_)return"E";m(w)}return w[f].objectID},b=function(w,_){if(!i(w,f)){if(!l(w))return!0;if(!_)return!1;m(w)}return w[f].weakData},g=function(w){return d&&h&&l(w)&&!i(w,f)&&m(w),w},v=function(){x.enable=function(){},h=!0;var w=a.f,_=e([].splice),E={};E[f]=1,w(E).length&&(a.f=function(O){for(var S=w(O),P=0,N=S.length;P<N;P++)if(S[P]===f){_(S,P,1);break}return S},t({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:o.f}))},x=r0.exports={enable:v,fastKey:y,getWeakData:b,onFreeze:g};return r[f]=!0,r0.exports}var a0,QM;function eue(){if(QM)return a0;QM=1;var t=nr(),e=Iu(),r=t("iterator"),n=Array.prototype;return a0=function(i){return i!==void 0&&(e.Array===i||n[r]===i)},a0}var o0,XM;function U9(){if(XM)return o0;XM=1;var t=pa(),e=FC(),r=zd(),n=Iu(),i=nr(),s=i("iterator");return o0=function(a){if(!r(a))return e(a,s)||e(a,"@@iterator")||n[t(a)]},o0}var l0,JM;function W9(){if(JM)return l0;JM=1;var t=nn(),e=cs(),r=ds(),n=Su(),i=U9(),s=TypeError;return l0=function(a,o){var l=arguments.length<2?i(a):o;if(e(l))return r(t(l,a));throw new s(n(a)+" is not iterable")},l0}var u0,ZM;function iT(){if(ZM)return u0;ZM=1;var t=nn(),e=ds(),r=FC();return u0=function(n,i,s){var a,o;e(n);try{if(a=r(n,"return"),!a){if(i==="throw")throw s;return s}a=t(a,n)}catch(l){o=!0,a=l}if(i==="throw")throw s;if(o)throw a;return e(a),s},u0}var c0,eA;function sT(){if(eA)return c0;eA=1;var t=Hp(),e=nn(),r=ds(),n=Su(),i=eue(),s=fa(),a=tr(),o=W9(),l=U9(),u=iT(),d=TypeError,h=function(p,m){this.stopped=p,this.result=m},f=h.prototype;return c0=function(p,m,y){var b=y&&y.that,g=!!(y&&y.AS_ENTRIES),v=!!(y&&y.IS_RECORD),x=!!(y&&y.IS_ITERATOR),w=!!(y&&y.INTERRUPTED),_=t(m,b),E,O,S,P,N,I,C,T=function(U){return E&&u(E,"normal"),new h(!0,U)},q=function(U){return g?(r(U),w?_(U[0],U[1],T):_(U[0],U[1])):w?_(U,T):_(U)};if(v)E=p.iterator;else if(x)E=p;else{if(O=l(p),!O)throw new d(n(p)+" is not iterable");if(i(O)){for(S=0,P=s(p);P>S;S++)if(N=q(p[S]),N&&a(f,N))return N;return new h(!1)}E=o(p,O)}for(I=v?p.next:E.next;!(C=e(I,E)).done;){try{N=q(C.value)}catch(U){u(E,"throw",U)}if(typeof N=="object"&&N&&a(f,N))return N}return new h(!1)},c0}var d0,tA;function V9(){if(tA)return d0;tA=1;var t=tr(),e=TypeError;return d0=function(r,n){if(t(n,r))return r;throw new e("Incorrect invocation")},d0}var h0,rA;function H9(){if(rA)return h0;rA=1;var t=Oe(),e=qt(),r=z9(),n=Ve(),i=Pu(),s=sT(),a=V9(),o=er(),l=Fr(),u=zd(),d=Io(),h=Mn().f,f=Tu().forEach,p=Mt(),m=Yd(),y=m.set,b=m.getterFor;return h0=function(g,v,x){var w=g.indexOf("Map")!==-1,_=g.indexOf("Weak")!==-1,E=w?"set":"add",O=e[g],S=O&&O.prototype,P={},N;if(!p||!o(O)||!(_||S.forEach&&!n(function(){new O().entries().next()})))N=x.getConstructor(v,g,w,E),r.enable();else{N=v(function(T,q){y(a(T,I),{type:g,collection:new O}),u(q)||s(q,T[E],{that:T,AS_ENTRIES:w})});var I=N.prototype,C=b(g);f(["add","clear","delete","forEach","get","has","set","keys","values","entries"],function(T){var q=T==="add"||T==="set";T in S&&!(_&&T==="clear")&&i(I,T,function(U,re){var Y=C(this).collection;if(!q&&_&&!l(U))return T==="get"?void 0:!1;var L=Y[T](U===0?0:U,re);return q?this:L})}),_||h(I,"size",{configurable:!0,get:function(){return C(this).collection.size}})}return d(N,g,!1,!0),P[g]=N,t({global:!0,forced:!0},P),_||x.setStrong(N,g,w),N},h0}var f0,nA;function tue(){if(nA)return f0;nA=1;var t=Gd();return f0=function(e,r,n){for(var i in r)n&&n.unsafe&&e[i]?e[i]=r[i]:t(e,i,r[i],n);return e},f0}var p0,iA;function rue(){if(iA)return p0;iA=1;var t=bn(),e=KC(),r=nr(),n=Mt(),i=r("species");return p0=function(s){var a=t(s);n&&a&&!a[i]&&e(a,i,{configurable:!0,get:function(){return this}})},p0}var m0,sA;function K9(){if(sA)return m0;sA=1;var t=Kd(),e=KC(),r=tue(),n=Hp(),i=V9(),s=zd(),a=sT(),o=GC(),l=YC(),u=rue(),d=Mt(),h=z9().fastKey,f=Yd(),p=f.set,m=f.getterFor;return m0={getConstructor:function(y,b,g,v){var x=y(function(S,P){i(S,w),p(S,{type:b,index:t(null),first:null,last:null,size:0}),d||(S.size=0),s(P)||a(P,S[v],{that:S,AS_ENTRIES:g})}),w=x.prototype,_=m(b),E=function(S,P,N){var I=_(S),C=O(S,P),T,q;return C?C.value=N:(I.last=C={index:q=h(P,!0),key:P,value:N,previous:T=I.last,next:null,removed:!1},I.first||(I.first=C),T&&(T.next=C),d?I.size++:S.size++,q!=="F"&&(I.index[q]=C)),S},O=function(S,P){var N=_(S),I=h(P),C;if(I!=="F")return N.index[I];for(C=N.first;C;C=C.next)if(C.key===P)return C};return r(w,{clear:function(){for(var P=this,N=_(P),I=N.first;I;)I.removed=!0,I.previous&&(I.previous=I.previous.next=null),I=I.next;N.first=N.last=null,N.index=t(null),d?N.size=0:P.size=0},delete:function(S){var P=this,N=_(P),I=O(P,S);if(I){var C=I.next,T=I.previous;delete N.index[I.index],I.removed=!0,T&&(T.next=C),C&&(C.previous=T),N.first===I&&(N.first=C),N.last===I&&(N.last=T),d?N.size--:P.size--}return!!I},forEach:function(P){for(var N=_(this),I=n(P,arguments.length>1?arguments[1]:void 0),C;C=C?C.next:N.first;)for(I(C.value,C.key,this);C&&C.removed;)C=C.previous},has:function(P){return!!O(this,P)}}),r(w,g?{get:function(P){var N=O(this,P);return N&&N.value},set:function(P,N){return E(this,P===0?0:P,N)}}:{add:function(P){return E(this,P=P===0?0:P,P)}}),d&&e(w,"size",{configurable:!0,get:function(){return _(this).size}}),x},setStrong:function(y,b,g){var v=b+" Iterator",x=m(b),w=m(v);o(y,b,function(_,E){p(this,{type:v,target:_,state:x(_),kind:E,last:null})},function(){for(var _=w(this),E=_.kind,O=_.last;O&&O.removed;)O=O.previous;return!_.target||!(_.last=O=O?O.next:_.state.first)?(_.target=null,l(void 0,!0)):l(E==="keys"?O.key:E==="values"?O.value:[O.key,O.value],!1)},g?"entries":"values",!g,!0),u(b)}},m0}var aA;function nue(){if(aA)return VM;aA=1;var t=H9(),e=K9();return t("Map",function(r){return function(){return r(this,arguments.length?arguments[0]:void 0)}},e),VM}var oA;function iue(){return oA||(oA=1,nue()),WM}var lA={},v0,uA;function G9(){return uA||(uA=1,v0=function(t,e){return e===1?function(r,n){return r[t](n)}:function(r,n,i){return r[t](n,i)}}),v0}var g0,cA;function sue(){if(cA)return g0;cA=1;var t=bn(),e=G9(),r=t("Map");return g0={Map:r,set:e("set",2),get:e("get",1),has:e("has",1),remove:e("delete",1),proto:r.prototype},g0}var dA;function aue(){if(dA)return lA;dA=1;var t=Oe(),e=Je(),r=cs(),n=Co(),i=sT(),s=sue(),a=Eu(),o=Ve(),l=s.Map,u=s.has,d=s.get,h=s.set,f=e([].push),p=a||o(function(){return l.groupBy("ab",function(m){return m}).get("a").length!==1});return t({target:"Map",stat:!0,forced:a||p},{groupBy:function(y,b){n(y),r(b);var g=new l,v=0;return i(y,function(x){var w=b(x,v++);u(g,w)?f(d(g,w),x):h(g,w,[x])}),g}}),lA}var y0,hA;function oue(){if(hA)return y0;hA=1,va(),iue(),aue(),Zp();var t=Gt();return y0=t.Map,y0}var b0,fA;function lue(){if(fA)return b0;fA=1;var t=oue();return ga(),b0=t,b0}var w0,pA;function uue(){return pA||(pA=1,w0=lue()),w0}var cue=uue(),Y9=ke(cue),mA={},vA;function due(){if(vA)return mA;vA=1;var t=Oe(),e=Tu().some,r=em(),n=r("some");return t({target:"Array",proto:!0,forced:!n},{some:function(s){return e(this,s,arguments.length>1?arguments[1]:void 0)}}),mA}var x0,gA;function hue(){if(gA)return x0;gA=1,due();var t=sn();return x0=t("Array","some"),x0}var _0,yA;function fue(){if(yA)return _0;yA=1;var t=tr(),e=hue(),r=Array.prototype;return _0=function(n){var i=n.some;return n===r||t(r,n)&&i===r.some?e:i},_0}var S0,bA;function pue(){if(bA)return S0;bA=1;var t=fue();return S0=t,S0}var E0,wA;function mue(){return wA||(wA=1,E0=pue()),E0}var vue=mue(),gue=ke(vue),O0,xA;function yue(){if(xA)return O0;xA=1,va();var t=sn();return O0=t("Array","keys"),O0}var P0,_A;function bue(){if(_A)return P0;_A=1;var t=yue();return P0=t,P0}var N0,SA;function wue(){if(SA)return N0;SA=1,ga();var t=pa(),e=rr(),r=tr(),n=bue(),i=Array.prototype,s={DOMTokenList:!0,NodeList:!0};return N0=function(a){var o=a.keys;return a===i||r(i,a)&&o===i.keys||e(s,t(a))?n:o},N0}var C0,EA;function xue(){return EA||(EA=1,C0=wue()),C0}var _ue=xue(),Jo=ke(_ue),OA={},T0,PA;function Sue(){if(PA)return T0;PA=1;var t=Cu(),e=Math.floor,r=function(n,i){var s=n.length;if(s<8)for(var a=1,o,l;a<s;){for(l=a,o=n[a];l&&i(n[l-1],o)>0;)n[l]=n[--l];l!==a++&&(n[l]=o)}else for(var u=e(s/2),d=r(t(n,0,u),i),h=r(t(n,u),i),f=d.length,p=h.length,m=0,y=0;m<f||y<p;)n[m+y]=m<f&&y<p?i(d[m],h[y])<=0?d[m++]:h[y++]:m<f?d[m++]:h[y++];return n};return T0=r,T0}var I0,NA;function Eue(){if(NA)return I0;NA=1;var t=xu(),e=t.match(/firefox\/(\d+)/i);return I0=!!e&&+e[1],I0}var R0,CA;function Oue(){if(CA)return R0;CA=1;var t=xu();return R0=/MSIE|Trident/.test(t),R0}var j0,TA;function Pue(){if(TA)return j0;TA=1;var t=xu(),e=t.match(/AppleWebKit\/(\d+)\./);return j0=!!e&&+e[1],j0}var IA;function Nue(){if(IA)return OA;IA=1;var t=Oe(),e=Je(),r=cs(),n=ai(),i=fa(),s=d9(),a=ma(),o=Ve(),l=Sue(),u=em(),d=Eue(),h=Oue(),f=Ud(),p=Pue(),m=[],y=e(m.sort),b=e(m.push),g=o(function(){m.sort(void 0)}),v=o(function(){m.sort(null)}),x=u("sort"),w=!o(function(){if(f)return f<70;if(!(d&&d>3)){if(h)return!0;if(p)return p<603;var O="",S,P,N,I;for(S=65;S<76;S++){switch(P=String.fromCharCode(S),S){case 66:case 69:case 70:case 72:N=3;break;case 68:case 71:N=4;break;default:N=2}for(I=0;I<47;I++)m.push({k:P+I,v:N})}for(m.sort(function(C,T){return T.v-C.v}),I=0;I<m.length;I++)P=m[I].k.charAt(0),O.charAt(O.length-1)!==P&&(O+=P);return O!=="DGBEFHACIJK"}}),_=g||!v||!x||!w,E=function(O){return function(S,P){return P===void 0?-1:S===void 0?1:O!==void 0?+O(S,P)||0:a(S)>a(P)?1:-1}};return t({target:"Array",proto:!0,forced:_},{sort:function(S){S!==void 0&&r(S);var P=n(this);if(w)return S===void 0?y(P):y(P,S);var N=[],I=i(P),C,T;for(T=0;T<I;T++)T in P&&b(N,P[T]);for(l(N,E(S)),C=i(N),T=0;T<C;)P[T]=N[T++];for(;T<I;)s(P,T++);return P}}),OA}var $0,RA;function Cue(){if(RA)return $0;RA=1,Nue();var t=sn();return $0=t("Array","sort"),$0}var k0,jA;function Tue(){if(jA)return k0;jA=1;var t=tr(),e=Cue(),r=Array.prototype;return k0=function(n){var i=n.sort;return n===r||t(r,n)&&i===r.sort?e:i},k0}var D0,$A;function Iue(){if($A)return D0;$A=1;var t=Tue();return D0=t,D0}var q0,kA;function Rue(){return kA||(kA=1,q0=Iue()),q0}var jue=Rue(),oN=ke(jue),M0,DA;function $ue(){if(DA)return M0;DA=1,va();var t=sn();return M0=t("Array","values"),M0}var A0,qA;function kue(){if(qA)return A0;qA=1;var t=$ue();return A0=t,A0}var F0,MA;function Due(){if(MA)return F0;MA=1,ga();var t=pa(),e=rr(),r=tr(),n=kue(),i=Array.prototype,s={DOMTokenList:!0,NodeList:!0};return F0=function(a){var o=a.values;return a===i||r(i,a)&&o===i.values||e(s,t(a))?n:o},F0}var L0,AA;function que(){return AA||(AA=1,L0=Due()),L0}var Mue=que(),FA=ke(Mue),B0,LA;function Aue(){return LA||(LA=1,B0=o9()),B0}var Fue=Aue(),gl=ke(Fue),z0,BA;function Lue(){if(BA)return z0;BA=1,va();var t=sn();return z0=t("Array","entries"),z0}var U0,zA;function Bue(){if(zA)return U0;zA=1;var t=Lue();return U0=t,U0}var W0,UA;function zue(){if(UA)return W0;UA=1,ga();var t=pa(),e=rr(),r=tr(),n=Bue(),i=Array.prototype,s={DOMTokenList:!0,NodeList:!0};return W0=function(a){var o=a.entries;return a===i||r(i,a)&&o===i.entries||e(s,t(a))?n:o},W0}var V0,WA;function Uue(){return WA||(WA=1,V0=zue()),V0}var Wue=Uue(),Vue=ke(Wue);const lr=[];for(let t=0;t<256;++t)lr.push((t+256).toString(16).slice(1));function Hue(t,e=0){return(lr[t[e+0]]+lr[t[e+1]]+lr[t[e+2]]+lr[t[e+3]]+"-"+lr[t[e+4]]+lr[t[e+5]]+"-"+lr[t[e+6]]+lr[t[e+7]]+"-"+lr[t[e+8]]+lr[t[e+9]]+"-"+lr[t[e+10]]+lr[t[e+11]]+lr[t[e+12]]+lr[t[e+13]]+lr[t[e+14]]+lr[t[e+15]]).toLowerCase()}let H0;const Kue=new Uint8Array(16);function Gue(){if(!H0){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");H0=crypto.getRandomValues.bind(crypto)}return H0(Kue)}const Yue=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto);var VA={randomUUID:Yue};function Que(t,e,r){var i;t=t||{};const n=t.random??((i=t.rng)==null?void 0:i.call(t))??Gue();if(n.length<16)throw new Error("Random bytes length must be >= 16");return n[6]=n[6]&15|64,n[8]=n[8]&63|128,Hue(n)}function Xue(t,e,r){return VA.randomUUID&&!t?VA.randomUUID():Que(t)}function HA(t){return typeof t=="string"||typeof t=="number"}class aT{constructor(e){Xs(this,"_queue",[]),Xs(this,"_timeout",null),Xs(this,"_extended",null),this.delay=null,this.max=1/0,this.setOptions(e)}setOptions(e){e&&typeof e.delay<"u"&&(this.delay=e.delay),e&&typeof e.max<"u"&&(this.max=e.max),this._flushIfNeeded()}static extend(e,r){const n=new aT(r);if(e.flush!==void 0)throw new Error("Target object already has a property flush");e.flush=()=>{n.flush()};const i=[{name:"flush",original:void 0}];if(r&&r.replace)for(let s=0;s<r.replace.length;s++){const a=r.replace[s];i.push({name:a,original:e[a]}),n.replace(e,a)}return n._extended={object:e,methods:i},n}destroy(){if(this.flush(),this._extended){const e=this._extended.object,r=this._extended.methods;for(let n=0;n<r.length;n++){const i=r[n];i.original?e[i.name]=i.original:delete e[i.name]}this._extended=null}}replace(e,r){const n=this,i=e[r];if(!i)throw new Error("Method "+r+" undefined");e[r]=function(){for(var s=arguments.length,a=new Array(s),o=0;o<s;o++)a[o]=arguments[o];n.queue({args:a,fn:i,context:this})}}queue(e){typeof e=="function"?this._queue.push({fn:e}):this._queue.push(e),this._flushIfNeeded()}_flushIfNeeded(){this._queue.length>this.max&&this.flush(),this._timeout!=null&&(clearTimeout(this._timeout),this._timeout=null),this.queue.length>0&&typeof this.delay=="number"&&(this._timeout=koe(()=>{this.flush()},this.delay))}flush(){var e,r;go(e=h9(r=this._queue).call(r,0)).call(e,n=>{n.fn.apply(n.context||n.fn,n.args||[])})}}class sp{constructor(){Xs(this,"_subscribers",{"*":[],add:[],remove:[],update:[]}),Xs(this,"subscribe",sp.prototype.on),Xs(this,"unsubscribe",sp.prototype.off)}_trigger(e,r,n){var i;if(e==="*")throw new Error("Cannot trigger event *");go(i=[...this._subscribers[e],...this._subscribers["*"]]).call(i,s=>{s(e,r,n??null)})}on(e,r){typeof r=="function"&&this._subscribers[e].push(r)}off(e,r){var n;this._subscribers[e]=pl(n=this._subscribers[e]).call(n,i=>i!==r)}}var KA={},GA={},YA;function Jue(){if(YA)return GA;YA=1;var t=H9(),e=K9();return t("Set",function(r){return function(){return r(this,arguments.length?arguments[0]:void 0)}},e),GA}var QA;function Zue(){return QA||(QA=1,Jue()),KA}var XA={},K0,JA;function jo(){if(JA)return K0;JA=1;var t=Su(),e=TypeError;return K0=function(r){if(typeof r=="object"&&"size"in r&&"has"in r&&"add"in r&&"delete"in r&&"keys"in r)return r;throw new e(t(r)+" is not a set")},K0}var G0,ZA;function $o(){if(ZA)return G0;ZA=1;var t=bn(),e=G9(),r=t("Set"),n=r.prototype;return G0={Set:r,add:e("add",1),has:e("has",1),remove:e("delete",1),proto:n},G0}var Y0,eF;function ko(){if(eF)return Y0;eF=1;var t=nn();return Y0=function(e,r,n){for(var i=n?e:e.iterator,s=e.next,a,o;!(a=t(s,i)).done;)if(o=r(a.value),o!==void 0)return o},Y0}var Q0,tF;function th(){if(tF)return Q0;tF=1;var t=ko();return Q0=function(e,r,n){return n?t(e.keys(),r,!0):e.forEach(r)},Q0}var X0,rF;function oT(){if(rF)return X0;rF=1;var t=$o(),e=th(),r=t.Set,n=t.add;return X0=function(i){var s=new r;return e(i,function(a){n(s,a)}),s},X0}var J0,nF;function rh(){return nF||(nF=1,J0=function(t){return t.size}),J0}var Z0,iF;function ece(){return iF||(iF=1,Z0=function(t){return{iterator:t,next:t.next,done:!1}}),Z0}var e1,sF;function Do(){if(sF)return e1;sF=1;var t=cs(),e=ds(),r=nn(),n=Nu(),i=ece(),s="Invalid size",a=RangeError,o=TypeError,l=Math.max,u=function(d,h){this.set=d,this.size=l(h,0),this.has=t(d.has),this.keys=t(d.keys)};return u.prototype={getIterator:function(){return i(e(r(this.keys,this.set)))},includes:function(d){return r(this.has,this.set,d)}},e1=function(d){e(d);var h=+d.size;if(h!==h)throw new o(s);var f=n(h);if(f<0)throw new a(s);return new u(d,f)},e1}var t1,aF;function tce(){if(aF)return t1;aF=1;var t=jo(),e=$o(),r=oT(),n=rh(),i=Do(),s=th(),a=ko(),o=e.has,l=e.remove;return t1=function(d){var h=t(this),f=i(d),p=r(h);return n(h)<=f.size?s(h,function(m){f.includes(m)&&l(p,m)}):a(f.getIterator(),function(m){o(p,m)&&l(p,m)}),p},t1}var r1,oF;function qo(){return oF||(oF=1,r1=function(){return!1}),r1}var lF;function rce(){if(lF)return XA;lF=1;var t=Oe(),e=tce(),r=Ve(),n=qo(),i=!n("difference",function(a){return a.size===0}),s=i||r(function(){var a={size:1,has:function(){return!0},keys:function(){var l=0;return{next:function(){var u=l++>1;return o.has(1)&&o.clear(),{done:u,value:2}}}}},o=new Set([1,2,3,4]);return o.difference(a).size!==3});return t({target:"Set",proto:!0,real:!0,forced:s},{difference:e}),XA}var uF={},n1,cF;function nce(){if(cF)return n1;cF=1;var t=jo(),e=$o(),r=rh(),n=Do(),i=th(),s=ko(),a=e.Set,o=e.add,l=e.has;return n1=function(d){var h=t(this),f=n(d),p=new a;return r(h)>f.size?s(f.getIterator(),function(m){l(h,m)&&o(p,m)}):i(h,function(m){f.includes(m)&&o(p,m)}),p},n1}var dF;function ice(){if(dF)return uF;dF=1;var t=Oe(),e=Ve(),r=nce(),n=qo(),i=!n("intersection",function(s){return s.size===2&&s.has(1)&&s.has(2)})||e(function(){return String(Array.from(new Set([1,2,3]).intersection(new Set([3,2]))))!=="3,2"});return t({target:"Set",proto:!0,real:!0,forced:i},{intersection:r}),uF}var hF={},i1,fF;function sce(){if(fF)return i1;fF=1;var t=jo(),e=$o().has,r=rh(),n=Do(),i=th(),s=ko(),a=iT();return i1=function(l){var u=t(this),d=n(l);if(r(u)<=d.size)return i(u,function(f){if(d.includes(f))return!1},!0)!==!1;var h=d.getIterator();return s(h,function(f){if(e(u,f))return a(h,"normal",!1)})!==!1},i1}var pF;function ace(){if(pF)return hF;pF=1;var t=Oe(),e=sce(),r=qo(),n=!r("isDisjointFrom",function(i){return!i});return t({target:"Set",proto:!0,real:!0,forced:n},{isDisjointFrom:e}),hF}var mF={},s1,vF;function oce(){if(vF)return s1;vF=1;var t=jo(),e=rh(),r=th(),n=Do();return s1=function(s){var a=t(this),o=n(s);return e(a)>o.size?!1:r(a,function(l){if(!o.includes(l))return!1},!0)!==!1},s1}var gF;function lce(){if(gF)return mF;gF=1;var t=Oe(),e=oce(),r=qo(),n=!r("isSubsetOf",function(i){return i});return t({target:"Set",proto:!0,real:!0,forced:n},{isSubsetOf:e}),mF}var yF={},a1,bF;function uce(){if(bF)return a1;bF=1;var t=jo(),e=$o().has,r=rh(),n=Do(),i=ko(),s=iT();return a1=function(o){var l=t(this),u=n(o);if(r(l)<u.size)return!1;var d=u.getIterator();return i(d,function(h){if(!e(l,h))return s(d,"normal",!1)})!==!1},a1}var wF;function cce(){if(wF)return yF;wF=1;var t=Oe(),e=uce(),r=qo(),n=!r("isSupersetOf",function(i){return!i});return t({target:"Set",proto:!0,real:!0,forced:n},{isSupersetOf:e}),yF}var xF={},o1,_F;function dce(){if(_F)return o1;_F=1;var t=jo(),e=$o(),r=oT(),n=Do(),i=ko(),s=e.add,a=e.has,o=e.remove;return o1=function(u){var d=t(this),h=n(u).getIterator(),f=r(d);return i(h,function(p){a(d,p)?o(f,p):s(f,p)}),f},o1}var l1,SF;function Q9(){return SF||(SF=1,l1=function(t){try{var e=new Set,r={size:0,has:function(){return!0},keys:function(){return Object.defineProperty({},"next",{get:function(){return e.clear(),e.add(4),function(){return{done:!0}}}})}},n=e[t](r);return n.size===1&&n.values().next().value===4}catch{return!1}}),l1}var EF;function hce(){if(EF)return xF;EF=1;var t=Oe(),e=dce(),r=Q9(),n=qo(),i=!n("symmetricDifference")||!r("symmetricDifference");return t({target:"Set",proto:!0,real:!0,forced:i},{symmetricDifference:e}),xF}var OF={},u1,PF;function fce(){if(PF)return u1;PF=1;var t=jo(),e=$o().add,r=oT(),n=Do(),i=ko();return u1=function(a){var o=t(this),l=n(a).getIterator(),u=r(o);return i(l,function(d){e(u,d)}),u},u1}var NF;function pce(){if(NF)return OF;NF=1;var t=Oe(),e=fce(),r=Q9(),n=qo(),i=!n("union")||!r("union");return t({target:"Set",proto:!0,real:!0,forced:i},{union:e}),OF}var c1,CF;function mce(){if(CF)return c1;CF=1,va(),Zue(),rce(),ice(),ace(),lce(),cce(),hce(),pce(),Zp();var t=Gt();return c1=t.Set,c1}var d1,TF;function vce(){if(TF)return d1;TF=1;var t=mce();return ga(),d1=t,d1}var h1,IF;function gce(){return IF||(IF=1,h1=vce()),h1}var yce=gce(),f1=ke(yce),p1,RF;function bce(){if(RF)return p1;RF=1,va(),Zp();var t=W9();return p1=t,p1}var m1,jF;function wce(){if(jF)return m1;jF=1;var t=bce();return ga(),m1=t,m1}var v1,$F;function xce(){if($F)return v1;$F=1;var t=wce();return v1=t,v1}var g1,kF;function _ce(){if(kF)return g1;kF=1;var t=xce();return g1=t,g1}var y1,DF;function Sce(){return DF||(DF=1,y1=_ce()),y1}var b1,qF;function Ece(){return qF||(qF=1,b1=Sce()),b1}var Oce=Ece(),w1=ke(Oce);class Da{constructor(e){this._pairs=e}*[gl](){for(const[e,r]of this._pairs)yield[e,r]}*entries(){for(const[e,r]of this._pairs)yield[e,r]}*keys(){for(const[e]of this._pairs)yield e}*values(){for(const[,e]of this._pairs)yield e}toIdArray(){var e;return Yn(e=[...this._pairs]).call(e,r=>r[0])}toItemArray(){var e;return Yn(e=[...this._pairs]).call(e,r=>r[1])}toEntryArray(){return[...this._pairs]}toObjectMap(){const e=goe(null);for(const[r,n]of this._pairs)e[r]=n;return e}toMap(){return new Y9(this._pairs)}toIdSet(){return new f1(this.toIdArray())}toItemSet(){return new f1(this.toItemArray())}cache(){return new Da([...this._pairs])}distinct(e){const r=new f1;for(const[n,i]of this._pairs)r.add(e(i,n));return r}filter(e){const r=this._pairs;return new Da({*[gl](){for(const[n,i]of r)e(i,n)&&(yield[n,i])}})}forEach(e){for(const[r,n]of this._pairs)e(n,r)}map(e){const r=this._pairs;return new Da({*[gl](){for(const[n,i]of r)yield[n,e(i,n)]}})}max(e){const r=w1(this._pairs);let n=r.next();if(n.done)return null;let i=n.value[1],s=e(n.value[1],n.value[0]);for(;!(n=r.next()).done;){const[a,o]=n.value,l=e(o,a);l>s&&(s=l,i=o)}return i}min(e){const r=w1(this._pairs);let n=r.next();if(n.done)return null;let i=n.value[1],s=e(n.value[1],n.value[0]);for(;!(n=r.next()).done;){const[a,o]=n.value,l=e(o,a);l<s&&(s=l,i=o)}return i}reduce(e,r){for(const[n,i]of this._pairs)r=e(r,i,n);return r}sort(e){return new Da({[gl]:()=>{var r;return w1(oN(r=[...this._pairs]).call(r,(n,i)=>{let[s,a]=n,[o,l]=i;return e(a,l,s,o)}))}})}}function MF(t,e){var r=QC(t);if(PM){var n=PM(t);e&&(n=pl(n).call(n,function(i){return B9(t,i).enumerable})),r.push.apply(r,n)}return r}function AF(t){for(var e=1;e<arguments.length;e++){var r,n,i=arguments[e]!=null?arguments[e]:{};e%2?go(r=MF(Object(i),!0)).call(r,function(s){Xs(t,s,i[s])}):MM?Kle(t,MM(i)):go(n=MF(Object(i))).call(n,function(s){Qle(t,s,B9(i,s))})}return t}function Pce(t,e){return t[e]==null&&(t[e]=Xue()),t}class au extends sp{get idProp(){return this._idProp}constructor(e,r){super(),Xs(this,"_queue",null),e&&!di(e)&&(r=e,e=[]),this._options=r||{},this._data=new Y9,this.length=0,this._idProp=this._options.fieldId||"id",e&&e.length&&this.add(e),this.setOptions(r)}setOptions(e){e&&e.queue!==void 0&&(e.queue===!1?this._queue&&(this._queue.destroy(),this._queue=null):(this._queue||(this._queue=aT.extend(this,{replace:["add","update","remove"]})),e.queue&&typeof e.queue=="object"&&this._queue.setOptions(e.queue)))}add(e,r){const n=[];let i;if(di(e)){const s=Yn(e).call(e,a=>a[this._idProp]);if(gue(s).call(s,a=>this._data.has(a)))throw new Error("A duplicate id was found in the parameter array.");for(let a=0,o=e.length;a<o;a++)i=this._addItem(e[a]),n.push(i)}else if(e&&typeof e=="object")i=this._addItem(e),n.push(i);else throw new Error("Unknown dataType");return n.length&&this._trigger("add",{items:n},r),n}update(e,r){const n=[],i=[],s=[],a=[],o=this._idProp,l=u=>{const d=u[o];if(d!=null&&this._data.has(d)){const h=u,f=soe({},this._data.get(d)),p=this._updateItem(h);i.push(p),a.push(h),s.push(f)}else{const h=this._addItem(u);n.push(h)}};if(di(e))for(let u=0,d=e.length;u<d;u++)e[u]&&typeof e[u]=="object"?l(e[u]):console.warn("Ignoring input item, which is not an object at index "+u);else if(e&&typeof e=="object")l(e);else throw new Error("Unknown dataType");if(n.length&&this._trigger("add",{items:n},r),i.length){const u={items:i,oldData:s,data:a};this._trigger("update",u,r)}return doe(n).call(n,i)}updateOnly(e,r){var n;di(e)||(e=[e]);const i=Yn(n=Yn(e).call(e,s=>{const a=this._data.get(s[this._idProp]);if(a==null)throw new Error("Updating non-existent items is not allowed.");return{oldData:a,update:s}})).call(n,s=>{let{oldData:a,update:o}=s;const l=a[this._idProp],u=Ele(a,o);return this._data.set(l,u),{id:l,oldData:a,updatedData:u}});if(i.length){const s={items:Yn(i).call(i,a=>a.id),oldData:Yn(i).call(i,a=>a.oldData),data:Yn(i).call(i,a=>a.updatedData)};return this._trigger("update",s,r),s.items}else return[]}get(e,r){let n,i,s;HA(e)?(n=e,s=r):di(e)?(i=e,s=r):s=e;const a=s&&s.returnType==="Object"?"Object":"Array",o=s&&pl(s),l=[];let u,d,h;if(n!=null)u=this._data.get(n),u&&o&&!o(u)&&(u=void 0);else if(i!=null)for(let p=0,m=i.length;p<m;p++)u=this._data.get(i[p]),u!=null&&(!o||o(u))&&l.push(u);else{var f;d=[...Jo(f=this._data).call(f)];for(let p=0,m=d.length;p<m;p++)h=d[p],u=this._data.get(h),u!=null&&(!o||o(u))&&l.push(u)}if(s&&s.order&&n==null&&this._sort(l,s.order),s&&s.fields){const p=s.fields;if(n!=null&&u!=null)u=this._filterFields(u,p);else for(let m=0,y=l.length;m<y;m++)l[m]=this._filterFields(l[m],p)}if(a=="Object"){const p={};for(let m=0,y=l.length;m<y;m++){const b=l[m],g=b[this._idProp];p[g]=b}return p}else return n!=null?u??null:l}getIds(e){const r=this._data,n=e&&pl(e),i=e&&e.order,s=[...Jo(r).call(r)],a=[];if(n)if(i){const o=[];for(let l=0,u=s.length;l<u;l++){const d=s[l],h=this._data.get(d);h!=null&&n(h)&&o.push(h)}this._sort(o,i);for(let l=0,u=o.length;l<u;l++)a.push(o[l][this._idProp])}else for(let o=0,l=s.length;o<l;o++){const u=s[o],d=this._data.get(u);d!=null&&n(d)&&a.push(d[this._idProp])}else if(i){const o=[];for(let l=0,u=s.length;l<u;l++){const d=s[l];o.push(r.get(d))}this._sort(o,i);for(let l=0,u=o.length;l<u;l++)a.push(o[l][this._idProp])}else for(let o=0,l=s.length;o<l;o++){const u=s[o],d=r.get(u);d!=null&&a.push(d[this._idProp])}return a}getDataSet(){return this}forEach(e,r){const n=r&&pl(r),i=this._data,s=[...Jo(i).call(i)];if(r&&r.order){const a=this.get(r);for(let o=0,l=a.length;o<l;o++){const u=a[o],d=u[this._idProp];e(u,d)}}else for(let a=0,o=s.length;a<o;a++){const l=s[a],u=this._data.get(l);u!=null&&(!n||n(u))&&e(u,l)}}map(e,r){const n=r&&pl(r),i=[],s=this._data,a=[...Jo(s).call(s)];for(let o=0,l=a.length;o<l;o++){const u=a[o],d=this._data.get(u);d!=null&&(!n||n(d))&&i.push(e(d,u))}return r&&r.order&&this._sort(i,r.order),i}_filterFields(e,r){var n;return e&&Kse(n=di(r)?r:QC(r)).call(n,(i,s)=>(i[s]=e[s],i),{})}_sort(e,r){if(typeof r=="string"){const n=r;oN(e).call(e,(i,s)=>{const a=i[n],o=s[n];return a>o?1:a<o?-1:0})}else if(typeof r=="function")oN(e).call(e,r);else throw new TypeError("Order must be a function or a string")}remove(e,r){const n=[],i=[],s=di(e)?e:[e];for(let a=0,o=s.length;a<o;a++){const l=this._remove(s[a]);if(l){const u=l[this._idProp];u!=null&&(n.push(u),i.push(l))}}return n.length&&this._trigger("remove",{items:n,oldData:i},r),n}_remove(e){let r;if(HA(e)?r=e:e&&typeof e=="object"&&(r=e[this._idProp]),r!=null&&this._data.has(r)){const n=this._data.get(r)||null;return this._data.delete(r),--this.length,n}return null}clear(e){var r;const n=[...Jo(r=this._data).call(r)],i=[];for(let s=0,a=n.length;s<a;s++)i.push(this._data.get(n[s]));return this._data.clear(),this.length=0,this._trigger("remove",{items:n,oldData:i},e),n}max(e){let r=null,n=null;for(const s of FA(i=this._data).call(i)){var i;const a=s[e];typeof a=="number"&&(n==null||a>n)&&(r=s,n=a)}return r||null}min(e){let r=null,n=null;for(const s of FA(i=this._data).call(i)){var i;const a=s[e];typeof a=="number"&&(n==null||a<n)&&(r=s,n=a)}return r||null}distinct(e){const r=this._data,n=[...Jo(r).call(r)],i=[];let s=0;for(let a=0,o=n.length;a<o;a++){const l=n[a],d=r.get(l)[e];let h=!1;for(let f=0;f<s;f++)if(i[f]==d){h=!0;break}!h&&d!==void 0&&(i[s]=d,s++)}return i}_addItem(e){const r=Pce(e,this._idProp),n=r[this._idProp];if(this._data.has(n))throw new Error("Cannot add item: item with id "+n+" already exists");return this._data.set(n,r),++this.length,n}_updateItem(e){const r=e[this._idProp];if(r==null)throw new Error("Cannot update item: item has no id (item: "+Poe(e)+")");const n=this._data.get(r);if(!n)throw new Error("Cannot update item: no item with id "+r+" found");return this._data.set(r,AF(AF({},n),e)),r}stream(e){if(e){const n=this._data;return new Da({*[gl](){for(const i of e){const s=n.get(i);s!=null&&(yield[i,s])}}})}else{var r;return new Da({[gl]:l9(r=Vue(this._data)).call(r,this._data)})}}}function Nce(t,e){return typeof e=="object"&&e!==null&&t===e.idProp&&typeof e.add=="function"&&typeof e.clear=="function"&&typeof e.distinct=="function"&&typeof go(e)=="function"&&typeof e.get=="function"&&typeof e.getDataSet=="function"&&typeof e.getIds=="function"&&typeof e.length=="number"&&typeof Yn(e)=="function"&&typeof e.max=="function"&&typeof e.min=="function"&&typeof e.off=="function"&&typeof e.on=="function"&&typeof e.remove=="function"&&typeof e.setOptions=="function"&&typeof e.stream=="function"&&typeof e.update=="function"&&typeof e.updateOnly=="function"}function X9(t,e){return typeof e=="object"&&e!==null&&t===e.idProp&&typeof go(e)=="function"&&typeof e.get=="function"&&typeof e.getDataSet=="function"&&typeof e.getIds=="function"&&typeof e.length=="number"&&typeof Yn(e)=="function"&&typeof e.off=="function"&&typeof e.on=="function"&&typeof e.stream=="function"&&Nce(t,e.getDataSet())}/**
 * vis-network
 * https://visjs.github.io/vis-network/
 *
 * A dynamic, browser-based visualization library.
 *
 * @version 10.0.2
 * @date    2025-09-15T17:48:13.838Z
 *
 * @copyright (c) 2011-2017 Almende B.V, http://almende.com
 * @copyright (c) 2017-2019 visjs contributors, https://github.com/visjs
 *
 * @license
 * vis.js is dual licensed under both
 *
 *   1. The Apache 2.0 License
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 *   and
 *
 *   2. The MIT License
 *      http://opensource.org/licenses/MIT
 *
 * vis.js may be distributed under either license.
 */var FF=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Ee(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var LF={},dc,BF;function ct(){if(BF)return dc;BF=1;var t=function(e){return e&&e.Math===Math&&e};return dc=t(typeof globalThis=="object"&&globalThis)||t(typeof window=="object"&&window)||t(typeof self=="object"&&self)||t(typeof FF=="object"&&FF)||t(typeof dc=="object"&&dc)||function(){return this}()||Function("return this")(),dc}var x1,zF;function De(){return zF||(zF=1,x1=function(t){try{return!!t()}catch{return!0}}),x1}var _1,UF;function nh(){if(UF)return _1;UF=1;var t=De();return _1=!t(function(){var e=(function(){}).bind();return typeof e!="function"||e.hasOwnProperty("prototype")}),_1}var S1,WF;function nm(){if(WF)return S1;WF=1;var t=nh(),e=Function.prototype,r=e.apply,n=e.call;return S1=typeof Reflect=="object"&&Reflect.apply||(t?n.bind(r):function(){return n.apply(r,arguments)}),S1}var E1,VF;function Fe(){if(VF)return E1;VF=1;var t=nh(),e=Function.prototype,r=e.call,n=t&&e.bind.bind(r,r);return E1=t?n:function(i){return function(){return r.apply(i,arguments)}},E1}var O1,HF;function Pi(){if(HF)return O1;HF=1;var t=Fe(),e=t({}.toString),r=t("".slice);return O1=function(n){return r(e(n),8,-1)},O1}var P1,KF;function lT(){if(KF)return P1;KF=1;var t=Pi(),e=Fe();return P1=function(r){if(t(r)==="Function")return e(r)},P1}var N1,GF;function ir(){if(GF)return N1;GF=1;var t=typeof document=="object"&&document.all;return N1=typeof t>"u"&&t!==void 0?function(e){return typeof e=="function"||e===t}:function(e){return typeof e=="function"},N1}var C1={},T1,YF;function Tt(){if(YF)return T1;YF=1;var t=De();return T1=!t(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!==7}),T1}var I1,QF;function an(){if(QF)return I1;QF=1;var t=nh(),e=Function.prototype.call;return I1=t?e.bind(e):function(){return e.apply(e,arguments)},I1}var R1={},XF;function im(){if(XF)return R1;XF=1;var t={}.propertyIsEnumerable,e=Object.getOwnPropertyDescriptor,r=e&&!t.call({1:2},1);return R1.f=r?function(i){var s=e(this,i);return!!s&&s.enumerable}:t,R1}var j1,JF;function ih(){return JF||(JF=1,j1=function(t,e){return{enumerable:!(t&1),configurable:!(t&2),writable:!(t&4),value:e}}),j1}var $1,ZF;function sm(){if(ZF)return $1;ZF=1;var t=Fe(),e=De(),r=Pi(),n=Object,i=t("".split);return $1=e(function(){return!n("z").propertyIsEnumerable(0)})?function(s){return r(s)==="String"?i(s,""):n(s)}:n,$1}var k1,eL;function ju(){return eL||(eL=1,k1=function(t){return t==null}),k1}var D1,tL;function hs(){if(tL)return D1;tL=1;var t=ju(),e=TypeError;return D1=function(r){if(t(r))throw new e("Can't call method on "+r);return r},D1}var q1,rL;function oi(){if(rL)return q1;rL=1;var t=sm(),e=hs();return q1=function(r){return t(e(r))},q1}var M1,nL;function sr(){if(nL)return M1;nL=1;var t=ir();return M1=function(e){return typeof e=="object"?e!==null:t(e)},M1}var A1,iL;function He(){return iL||(iL=1,A1={}),A1}var F1,sL;function wn(){if(sL)return F1;sL=1;var t=He(),e=ct(),r=ir(),n=function(i){return r(i)?i:void 0};return F1=function(i,s){return arguments.length<2?n(t[i])||n(e[i]):t[i]&&t[i][s]||e[i]&&e[i][s]},F1}var L1,aL;function At(){if(aL)return L1;aL=1;var t=Fe();return L1=t({}.isPrototypeOf),L1}var B1,oL;function $u(){if(oL)return B1;oL=1;var t=ct(),e=t.navigator,r=e&&e.userAgent;return B1=r?String(r):"",B1}var z1,lL;function sh(){if(lL)return z1;lL=1;var t=ct(),e=$u(),r=t.process,n=t.Deno,i=r&&r.versions||n&&n.version,s=i&&i.v8,a,o;return s&&(a=s.split("."),o=a[0]>0&&a[0]<4?1:+(a[0]+a[1])),!o&&e&&(a=e.match(/Edge\/(\d+)/),(!a||a[1]>=74)&&(a=e.match(/Chrome\/(\d+)/),a&&(o=+a[1]))),z1=o,z1}var U1,uL;function ku(){if(uL)return U1;uL=1;var t=sh(),e=De(),r=ct(),n=r.String;return U1=!!Object.getOwnPropertySymbols&&!e(function(){var i=Symbol("symbol detection");return!n(i)||!(Object(i)instanceof Symbol)||!Symbol.sham&&t&&t<41}),U1}var W1,cL;function J9(){if(cL)return W1;cL=1;var t=ku();return W1=t&&!Symbol.sham&&typeof Symbol.iterator=="symbol",W1}var V1,dL;function ah(){if(dL)return V1;dL=1;var t=wn(),e=ir(),r=At(),n=J9(),i=Object;return V1=n?function(s){return typeof s=="symbol"}:function(s){var a=t("Symbol");return e(a)&&r(a.prototype,i(s))},V1}var H1,hL;function Du(){if(hL)return H1;hL=1;var t=String;return H1=function(e){try{return t(e)}catch{return"Object"}},H1}var K1,fL;function fs(){if(fL)return K1;fL=1;var t=ir(),e=Du(),r=TypeError;return K1=function(n){if(t(n))return n;throw new r(e(n)+" is not a function")},K1}var G1,pL;function uT(){if(pL)return G1;pL=1;var t=fs(),e=ju();return G1=function(r,n){var i=r[n];return e(i)?void 0:t(i)},G1}var Y1,mL;function Cce(){if(mL)return Y1;mL=1;var t=an(),e=ir(),r=sr(),n=TypeError;return Y1=function(i,s){var a,o;if(s==="string"&&e(a=i.toString)&&!r(o=t(a,i))||e(a=i.valueOf)&&!r(o=t(a,i))||s!=="string"&&e(a=i.toString)&&!r(o=t(a,i)))return o;throw new n("Can't convert object to primitive value")},Y1}var Q1={exports:{}},X1,vL;function qu(){return vL||(vL=1,X1=!0),X1}var J1,gL;function Tce(){if(gL)return J1;gL=1;var t=ct(),e=Object.defineProperty;return J1=function(r,n){try{e(t,r,{value:n,configurable:!0,writable:!0})}catch{t[r]=n}return n},J1}var yL;function cT(){if(yL)return Q1.exports;yL=1;var t=qu(),e=ct(),r=Tce(),n="__core-js_shared__",i=Q1.exports=e[n]||r(n,{});return(i.versions||(i.versions=[])).push({version:"3.44.0",mode:t?"pure":"global",copyright:" 2014-2025 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.44.0/LICENSE",source:"https://github.com/zloirock/core-js"}),Q1.exports}var Z1,bL;function Mu(){if(bL)return Z1;bL=1;var t=cT();return Z1=function(e,r){return t[e]||(t[e]=r||{})},Z1}var ew,wL;function xn(){if(wL)return ew;wL=1;var t=hs(),e=Object;return ew=function(r){return e(t(r))},ew}var tw,xL;function mr(){if(xL)return tw;xL=1;var t=Fe(),e=xn(),r=t({}.hasOwnProperty);return tw=Object.hasOwn||function(i,s){return r(e(i),s)},tw}var rw,_L;function am(){if(_L)return rw;_L=1;var t=Fe(),e=0,r=Math.random(),n=t(1.1.toString);return rw=function(i){return"Symbol("+(i===void 0?"":i)+")_"+n(++e+r,36)},rw}var nw,SL;function Ft(){if(SL)return nw;SL=1;var t=ct(),e=Mu(),r=mr(),n=am(),i=ku(),s=J9(),a=t.Symbol,o=e("wks"),l=s?a.for||a:a&&a.withoutSetter||n;return nw=function(u){return r(o,u)||(o[u]=i&&r(a,u)?a[u]:l("Symbol."+u)),o[u]},nw}var iw,EL;function Z9(){if(EL)return iw;EL=1;var t=an(),e=sr(),r=ah(),n=uT(),i=Cce(),s=Ft(),a=TypeError,o=s("toPrimitive");return iw=function(l,u){if(!e(l)||r(l))return l;var d=n(l,o),h;if(d){if(u===void 0&&(u="default"),h=t(d,l,u),!e(h)||r(h))return h;throw new a("Can't convert object to primitive value")}return u===void 0&&(u="number"),i(l,u)},iw}var sw,OL;function dT(){if(OL)return sw;OL=1;var t=Z9(),e=ah();return sw=function(r){var n=t(r,"string");return e(n)?n:n+""},sw}var aw,PL;function eG(){if(PL)return aw;PL=1;var t=ct(),e=sr(),r=t.document,n=e(r)&&e(r.createElement);return aw=function(i){return n?r.createElement(i):{}},aw}var ow,NL;function tG(){if(NL)return ow;NL=1;var t=Tt(),e=De(),r=eG();return ow=!t&&!e(function(){return Object.defineProperty(r("div"),"a",{get:function(){return 7}}).a!==7}),ow}var CL;function om(){if(CL)return C1;CL=1;var t=Tt(),e=an(),r=im(),n=ih(),i=oi(),s=dT(),a=mr(),o=tG(),l=Object.getOwnPropertyDescriptor;return C1.f=t?l:function(d,h){if(d=i(d),h=s(h),o)try{return l(d,h)}catch{}if(a(d,h))return n(!e(r.f,d,h),d[h])},C1}var lw,TL;function Ice(){if(TL)return lw;TL=1;var t=De(),e=ir(),r=/#|\.prototype\./,n=function(l,u){var d=s[i(l)];return d===o?!0:d===a?!1:e(u)?t(u):!!u},i=n.normalize=function(l){return String(l).replace(r,".").toLowerCase()},s=n.data={},a=n.NATIVE="N",o=n.POLYFILL="P";return lw=n,lw}var uw,IL;function lm(){if(IL)return uw;IL=1;var t=lT(),e=fs(),r=nh(),n=t(t.bind);return uw=function(i,s){return e(i),s===void 0?i:r?n(i,s):function(){return i.apply(s,arguments)}},uw}var cw={},dw,RL;function rG(){if(RL)return dw;RL=1;var t=Tt(),e=De();return dw=t&&e(function(){return Object.defineProperty(function(){},"prototype",{value:42,writable:!1}).prototype!==42}),dw}var hw,jL;function Ni(){if(jL)return hw;jL=1;var t=sr(),e=String,r=TypeError;return hw=function(n){if(t(n))return n;throw new r(e(n)+" is not an object")},hw}var $L;function Fn(){if($L)return cw;$L=1;var t=Tt(),e=tG(),r=rG(),n=Ni(),i=dT(),s=TypeError,a=Object.defineProperty,o=Object.getOwnPropertyDescriptor,l="enumerable",u="configurable",d="writable";return cw.f=t?r?function(f,p,m){if(n(f),p=i(p),n(m),typeof f=="function"&&p==="prototype"&&"value"in m&&d in m&&!m[d]){var y=o(f,p);y&&y[d]&&(f[p]=m.value,m={configurable:u in m?m[u]:y[u],enumerable:l in m?m[l]:y[l],writable:!1})}return a(f,p,m)}:a:function(f,p,m){if(n(f),p=i(p),n(m),e)try{return a(f,p,m)}catch{}if("get"in m||"set"in m)throw new s("Accessors not supported");return"value"in m&&(f[p]=m.value),f},cw}var fw,kL;function Au(){if(kL)return fw;kL=1;var t=Tt(),e=Fn(),r=ih();return fw=t?function(n,i,s){return e.f(n,i,r(1,s))}:function(n,i,s){return n[i]=s,n},fw}var pw,DL;function be(){if(DL)return pw;DL=1;var t=ct(),e=nm(),r=lT(),n=ir(),i=om().f,s=Ice(),a=He(),o=lm(),l=Au(),u=mr(),d=function(h){var f=function(p,m,y){if(this instanceof f){switch(arguments.length){case 0:return new h;case 1:return new h(p);case 2:return new h(p,m)}return new h(p,m,y)}return e(h,this,arguments)};return f.prototype=h.prototype,f};return pw=function(h,f){var p=h.target,m=h.global,y=h.stat,b=h.proto,g=m?t:y?t[p]:t[p]&&t[p].prototype,v=m?a:a[p]||l(a,p,{})[p],x=v.prototype,w,_,E,O,S,P,N,I,C;for(O in f)w=s(m?O:p+(y?".":"#")+O,h.forced),_=!w&&g&&u(g,O),P=v[O],_&&(h.dontCallGetSet?(C=i(g,O),N=C&&C.value):N=g[O]),S=_&&N?N:f[O],!(!w&&!b&&typeof P==typeof S)&&(h.bind&&_?I=o(S,t):h.wrap&&_?I=d(S):b&&n(S)?I=r(S):I=S,(h.sham||S&&S.sham||P&&P.sham)&&l(I,"sham",!0),l(v,O,I),b&&(E=p+"Prototype",u(a,E)||l(a,E,{}),l(a[E],O,S),h.real&&x&&(w||!x[O])&&l(x,O,S)))},pw}var mw,qL;function Rce(){if(qL)return mw;qL=1;var t=Math.ceil,e=Math.floor;return mw=Math.trunc||function(n){var i=+n;return(i>0?e:t)(i)},mw}var vw,ML;function Fu(){if(ML)return vw;ML=1;var t=Rce();return vw=function(e){var r=+e;return r!==r||r===0?0:t(r)},vw}var gw,AL;function um(){if(AL)return gw;AL=1;var t=Fu(),e=Math.max,r=Math.min;return gw=function(n,i){var s=t(n);return s<0?e(s+i,0):r(s,i)},gw}var yw,FL;function nG(){if(FL)return yw;FL=1;var t=Fu(),e=Math.min;return yw=function(r){var n=t(r);return n>0?e(n,9007199254740991):0},yw}var bw,LL;function ps(){if(LL)return bw;LL=1;var t=nG();return bw=function(e){return t(e.length)},bw}var ww,BL;function hT(){if(BL)return ww;BL=1;var t=oi(),e=um(),r=ps(),n=function(i){return function(s,a,o){var l=t(s),u=r(l);if(u===0)return!i&&-1;var d=e(o,u),h;if(i&&a!==a){for(;u>d;)if(h=l[d++],h!==h)return!0}else for(;u>d;d++)if((i||d in l)&&l[d]===a)return i||d||0;return!i&&-1}};return ww={includes:n(!0),indexOf:n(!1)},ww}var xw,zL;function oh(){return zL||(zL=1,xw={}),xw}var _w,UL;function iG(){if(UL)return _w;UL=1;var t=Fe(),e=mr(),r=oi(),n=hT().indexOf,i=oh(),s=t([].push);return _w=function(a,o){var l=r(a),u=0,d=[],h;for(h in l)!e(i,h)&&e(l,h)&&s(d,h);for(;o.length>u;)e(l,h=o[u++])&&(~n(d,h)||s(d,h));return d},_w}var Sw,WL;function fT(){return WL||(WL=1,Sw=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]),Sw}var Ew,VL;function lh(){if(VL)return Ew;VL=1;var t=iG(),e=fT();return Ew=Object.keys||function(n){return t(n,e)},Ew}var Ow={},HL;function cm(){return HL||(HL=1,Ow.f=Object.getOwnPropertySymbols),Ow}var Pw,KL;function jce(){if(KL)return Pw;KL=1;var t=Tt(),e=Fe(),r=an(),n=De(),i=lh(),s=cm(),a=im(),o=xn(),l=sm(),u=Object.assign,d=Object.defineProperty,h=e([].concat);return Pw=!u||n(function(){if(t&&u({b:1},u(d({},"a",{enumerable:!0,get:function(){d(this,"b",{value:3,enumerable:!1})}}),{b:2})).b!==1)return!0;var f={},p={},m=Symbol("assign detection"),y="abcdefghijklmnopqrst";return f[m]=7,y.split("").forEach(function(b){p[b]=b}),u({},f)[m]!==7||i(u({},p)).join("")!==y})?function(p,m){for(var y=o(p),b=arguments.length,g=1,v=s.f,x=a.f;b>g;)for(var w=l(arguments[g++]),_=v?h(i(w),v(w)):i(w),E=_.length,O=0,S;E>O;)S=_[O++],(!t||r(x,w,S))&&(y[S]=w[S]);return y}:u,Pw}var GL;function $ce(){if(GL)return LF;GL=1;var t=be(),e=jce();return t({target:"Object",stat:!0,arity:2,forced:Object.assign!==e},{assign:e}),LF}var Nw,YL;function kce(){if(YL)return Nw;YL=1,$ce();var t=He();return Nw=t.Object.assign,Nw}var Cw,QL;function Dce(){if(QL)return Cw;QL=1;var t=kce();return Cw=t,Cw}var Tw,XL;function qce(){return XL||(XL=1,Tw=Dce()),Tw}var Mce=qce(),kt=Ee(Mce),JL={},Iw,ZL;function Lu(){if(ZL)return Iw;ZL=1;var t=Fe();return Iw=t([].slice),Iw}var Rw,e4;function Ace(){if(e4)return Rw;e4=1;var t=Fe(),e=fs(),r=sr(),n=mr(),i=Lu(),s=nh(),a=Function,o=t([].concat),l=t([].join),u={},d=function(h,f,p){if(!n(u,f)){for(var m=[],y=0;y<f;y++)m[y]="a["+y+"]";u[f]=a("C,a","return new C("+l(m,",")+")")}return u[f](h,p)};return Rw=s?a.bind:function(f){var p=e(this),m=p.prototype,y=i(arguments,1),b=function(){var v=o(y,i(arguments));return this instanceof b?d(p,v.length,v):p.apply(f,v)};return r(m)&&(b.prototype=m),b},Rw}var t4;function Fce(){if(t4)return JL;t4=1;var t=be(),e=Ace();return t({target:"Function",proto:!0,forced:Function.bind!==e},{bind:e}),JL}var jw,r4;function vr(){if(r4)return jw;r4=1;var t=ct(),e=He();return jw=function(r,n){var i=e[r+"Prototype"],s=i&&i[n];if(s)return s;var a=t[r],o=a&&a.prototype;return o&&o[n]},jw}var $w,n4;function Lce(){if(n4)return $w;n4=1,Fce();var t=vr();return $w=t("Function","bind"),$w}var kw,i4;function Bce(){if(i4)return kw;i4=1;var t=At(),e=Lce(),r=Function.prototype;return kw=function(n){var i=n.bind;return n===r||t(r,n)&&i===r.bind?e:i},kw}var Dw,s4;function zce(){if(s4)return Dw;s4=1;var t=Bce();return Dw=t,Dw}var qw,a4;function Uce(){return a4||(a4=1,qw=zce()),qw}var Wce=Uce(),ee=Ee(Wce);function pT(t,e,r,n){t.beginPath(),t.arc(e,r,n,0,2*Math.PI,!1),t.closePath()}function Vce(t,e,r,n){t.beginPath(),t.rect(e-n,r-n,n*2,n*2),t.closePath()}function Hce(t,e,r,n){t.beginPath(),n*=1.15,r+=.275*n;const i=n*2,s=i/2,a=Math.sqrt(3)/6*i,o=Math.sqrt(i*i-s*s);t.moveTo(e,r-(o-a)),t.lineTo(e+s,r+a),t.lineTo(e-s,r+a),t.lineTo(e,r-(o-a)),t.closePath()}function Kce(t,e,r,n){t.beginPath(),n*=1.15,r-=.275*n;const i=n*2,s=i/2,a=Math.sqrt(3)/6*i,o=Math.sqrt(i*i-s*s);t.moveTo(e,r+(o-a)),t.lineTo(e+s,r-a),t.lineTo(e-s,r-a),t.lineTo(e,r+(o-a)),t.closePath()}function Gce(t,e,r,n){t.beginPath(),n*=.82,r+=.1*n;for(let i=0;i<10;i++){const s=i%2===0?n*1.3:n*.5;t.lineTo(e+s*Math.sin(i*2*Math.PI/10),r-s*Math.cos(i*2*Math.PI/10))}t.closePath()}function Yce(t,e,r,n){t.beginPath(),t.lineTo(e,r+n),t.lineTo(e+n,r),t.lineTo(e,r-n),t.lineTo(e-n,r),t.closePath()}function sG(t,e,r,n,i,s){const a=Math.PI/180;n-2*s<0&&(s=n/2),i-2*s<0&&(s=i/2),t.beginPath(),t.moveTo(e+s,r),t.lineTo(e+n-s,r),t.arc(e+n-s,r+s,s,a*270,a*360,!1),t.lineTo(e+n,r+i-s),t.arc(e+n-s,r+i-s,s,0,a*90,!1),t.lineTo(e+s,r+i),t.arc(e+s,r+i-s,s,a*90,a*180,!1),t.lineTo(e,r+s),t.arc(e+s,r+s,s,a*180,a*270,!1),t.closePath()}function lN(t,e,r,n,i){const s=.5522848,a=n/2*s,o=i/2*s,l=e+n,u=r+i,d=e+n/2,h=r+i/2;t.beginPath(),t.moveTo(e,h),t.bezierCurveTo(e,h-o,d-a,r,d,r),t.bezierCurveTo(d+a,r,l,h-o,l,h),t.bezierCurveTo(l,h+o,d+a,u,d,u),t.bezierCurveTo(d-a,u,e,h+o,e,h),t.closePath()}function aG(t,e,r,n,i){const s=.3333333333333333,a=n,o=i*s,l=.5522848,u=a/2*l,d=o/2*l,h=e+a,f=r+o,p=e+a/2,m=r+o/2,y=r+(i-o/2),b=r+i;t.beginPath(),t.moveTo(h,m),t.bezierCurveTo(h,m+d,p+u,f,p,f),t.bezierCurveTo(p-u,f,e,m+d,e,m),t.bezierCurveTo(e,m-d,p-u,r,p,r),t.bezierCurveTo(p+u,r,h,m-d,h,m),t.lineTo(h,y),t.bezierCurveTo(h,y+d,p+u,b,p,b),t.bezierCurveTo(p-u,b,e,y+d,e,y),t.lineTo(e,m)}function oG(t,e,r,n,i,s){t.beginPath(),t.moveTo(e,r);const a=s.length,o=n-e,l=i-r,u=l/o;let d=Math.sqrt(o*o+l*l),h=0,f=!0,p=0,m=+s[0];for(;d>=.1;)m=+s[h++%a],m>d&&(m=d),p=Math.sqrt(m*m/(1+u*u)),p=o<0?-p:p,e+=p,r+=u*p,f===!0?t.lineTo(e,r):t.moveTo(e,r),d-=m,f=!f}function Qce(t,e,r,n){t.beginPath();const i=6,s=Math.PI*2/i;t.moveTo(e+n,r);for(let a=1;a<i;a++)t.lineTo(e+n*Math.cos(s*a),r+n*Math.sin(s*a));t.closePath()}const o4={circle:pT,dashedLine:oG,database:aG,diamond:Yce,ellipse:lN,ellipse_vis:lN,hexagon:Qce,roundRect:sG,square:Vce,star:Gce,triangle:Hce,triangleDown:Kce};function Xce(t){return Object.prototype.hasOwnProperty.call(o4,t)?o4[t]:function(e){for(var r=arguments.length,n=new Array(r>1?r-1:0),i=1;i<r;i++)n[i-1]=arguments[i];CanvasRenderingContext2D.prototype[t].call(e,n)}}var Mw={exports:{}},l4;function Jce(){return l4||(l4=1,function(t){t.exports=e;function e(n){if(n)return r(n)}function r(n){for(var i in e.prototype)n[i]=e.prototype[i];return n}e.prototype.on=e.prototype.addEventListener=function(n,i){return this._callbacks=this._callbacks||{},(this._callbacks["$"+n]=this._callbacks["$"+n]||[]).push(i),this},e.prototype.once=function(n,i){function s(){this.off(n,s),i.apply(this,arguments)}return s.fn=i,this.on(n,s),this},e.prototype.off=e.prototype.removeListener=e.prototype.removeAllListeners=e.prototype.removeEventListener=function(n,i){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var s=this._callbacks["$"+n];if(!s)return this;if(arguments.length==1)return delete this._callbacks["$"+n],this;for(var a,o=0;o<s.length;o++)if(a=s[o],a===i||a.fn===i){s.splice(o,1);break}return s.length===0&&delete this._callbacks["$"+n],this},e.prototype.emit=function(n){this._callbacks=this._callbacks||{};for(var i=new Array(arguments.length-1),s=this._callbacks["$"+n],a=1;a<arguments.length;a++)i[a-1]=arguments[a];if(s){s=s.slice(0);for(var a=0,o=s.length;a<o;++a)s[a].apply(this,i)}return this},e.prototype.listeners=function(n){return this._callbacks=this._callbacks||{},this._callbacks["$"+n]||[]},e.prototype.hasListeners=function(n){return!!this.listeners(n).length}}(Mw)),Mw.exports}var Zce=Jce(),lG=Ee(Zce),u4={},Aw,c4;function Mo(){if(c4)return Aw;c4=1;var t=Pi();return Aw=Array.isArray||function(r){return t(r)==="Array"},Aw}var Fw,d4;function uG(){if(d4)return Fw;d4=1;var t=TypeError,e=9007199254740991;return Fw=function(r){if(r>e)throw t("Maximum allowed index exceeded");return r},Fw}var Lw,h4;function dm(){if(h4)return Lw;h4=1;var t=Tt(),e=Fn(),r=ih();return Lw=function(n,i,s){t?e.f(n,i,r(0,s)):n[i]=s},Lw}var Bw,f4;function mT(){if(f4)return Bw;f4=1;var t=Ft(),e=t("toStringTag"),r={};return r[e]="z",Bw=String(r)==="[object z]",Bw}var zw,p4;function Bu(){if(p4)return zw;p4=1;var t=mT(),e=ir(),r=Pi(),n=Ft(),i=n("toStringTag"),s=Object,a=r(function(){return arguments}())==="Arguments",o=function(l,u){try{return l[u]}catch{}};return zw=t?r:function(l){var u,d,h;return l===void 0?"Undefined":l===null?"Null":typeof(d=o(u=s(l),i))=="string"?d:a?r(u):(h=r(u))==="Object"&&e(u.callee)?"Arguments":h},zw}var Uw,m4;function ede(){if(m4)return Uw;m4=1;var t=Fe(),e=ir(),r=cT(),n=t(Function.toString);return e(r.inspectSource)||(r.inspectSource=function(i){return n(i)}),Uw=r.inspectSource,Uw}var Ww,v4;function cG(){if(v4)return Ww;v4=1;var t=Fe(),e=De(),r=ir(),n=Bu(),i=wn(),s=ede(),a=function(){},o=i("Reflect","construct"),l=/^\s*(?:class|function)\b/,u=t(l.exec),d=!l.test(a),h=function(m){if(!r(m))return!1;try{return o(a,[],m),!0}catch{return!1}},f=function(m){if(!r(m))return!1;switch(n(m)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return d||!!u(l,s(m))}catch{return!0}};return f.sham=!0,Ww=!o||e(function(){var p;return h(h.call)||!h(Object)||!h(function(){p=!0})||p})?f:h,Ww}var Vw,g4;function tde(){if(g4)return Vw;g4=1;var t=Mo(),e=cG(),r=sr(),n=Ft(),i=n("species"),s=Array;return Vw=function(a){var o;return t(a)&&(o=a.constructor,e(o)&&(o===s||t(o.prototype))?o=void 0:r(o)&&(o=o[i],o===null&&(o=void 0))),o===void 0?s:o},Vw}var Hw,y4;function vT(){if(y4)return Hw;y4=1;var t=tde();return Hw=function(e,r){return new(t(e))(r===0?0:r)},Hw}var Kw,b4;function uh(){if(b4)return Kw;b4=1;var t=De(),e=Ft(),r=sh(),n=e("species");return Kw=function(i){return r>=51||!t(function(){var s=[],a=s.constructor={};return a[n]=function(){return{foo:1}},s[i](Boolean).foo!==1})},Kw}var w4;function dG(){if(w4)return u4;w4=1;var t=be(),e=De(),r=Mo(),n=sr(),i=xn(),s=ps(),a=uG(),o=dm(),l=vT(),u=uh(),d=Ft(),h=sh(),f=d("isConcatSpreadable"),p=h>=51||!e(function(){var b=[];return b[f]=!1,b.concat()[0]!==b}),m=function(b){if(!n(b))return!1;var g=b[f];return g!==void 0?!!g:r(b)},y=!p||!u("concat");return t({target:"Array",proto:!0,arity:1,forced:y},{concat:function(g){var v=i(this),x=l(v,0),w=0,_,E,O,S,P;for(_=-1,O=arguments.length;_<O;_++)if(P=_===-1?v:arguments[_],m(P))for(S=s(P),a(w+S),E=0;E<S;E++,w++)E in P&&o(x,w,P[E]);else a(w+1),o(x,w++,P);return x.length=w,x}}),u4}var x4={},_4={},Gw,S4;function Ln(){if(S4)return Gw;S4=1;var t=Bu(),e=String;return Gw=function(r){if(t(r)==="Symbol")throw new TypeError("Cannot convert a Symbol value to a string");return e(r)},Gw}var Yw={},E4;function gT(){if(E4)return Yw;E4=1;var t=Tt(),e=rG(),r=Fn(),n=Ni(),i=oi(),s=lh();return Yw.f=t&&!e?Object.defineProperties:function(o,l){n(o);for(var u=i(l),d=s(l),h=d.length,f=0,p;h>f;)r.f(o,p=d[f++],u[p]);return o},Yw}var Qw,O4;function rde(){if(O4)return Qw;O4=1;var t=wn();return Qw=t("document","documentElement"),Qw}var Xw,P4;function hm(){if(P4)return Xw;P4=1;var t=Mu(),e=am(),r=t("keys");return Xw=function(n){return r[n]||(r[n]=e(n))},Xw}var Jw,N4;function ch(){if(N4)return Jw;N4=1;var t=Ni(),e=gT(),r=fT(),n=oh(),i=rde(),s=eG(),a=hm(),o=">",l="<",u="prototype",d="script",h=a("IE_PROTO"),f=function(){},p=function(v){return l+d+o+v+l+"/"+d+o},m=function(v){v.write(p("")),v.close();var x=v.parentWindow.Object;return v=null,x},y=function(){var v=s("iframe"),x="java"+d+":",w;return v.style.display="none",i.appendChild(v),v.src=String(x),w=v.contentWindow.document,w.open(),w.write(p("document.F=Object")),w.close(),w.F},b,g=function(){try{b=new ActiveXObject("htmlfile")}catch{}g=typeof document<"u"?document.domain&&b?m(b):y():m(b);for(var v=r.length;v--;)delete g[u][r[v]];return g()};return n[h]=!0,Jw=Object.create||function(x,w){var _;return x!==null?(f[u]=t(x),_=new f,f[u]=null,_[h]=x):_=g(),w===void 0?_:e.f(_,w)},Jw}var Zw={},C4;function fm(){if(C4)return Zw;C4=1;var t=iG(),e=fT(),r=e.concat("length","prototype");return Zw.f=Object.getOwnPropertyNames||function(i){return t(i,r)},Zw}var ex={},T4;function yT(){if(T4)return ex;T4=1;var t=Pi(),e=oi(),r=fm().f,n=Lu(),i=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],s=function(a){try{return r(a)}catch{return n(i)}};return ex.f=function(o){return i&&t(o)==="Window"?s(o):r(e(o))},ex}var tx,I4;function dh(){if(I4)return tx;I4=1;var t=Au();return tx=function(e,r,n,i){return i&&i.enumerable?e[r]=n:t(e,r,n),e},tx}var rx,R4;function bT(){if(R4)return rx;R4=1;var t=Fn();return rx=function(e,r,n){return t.f(e,r,n)},rx}var nx={},j4;function pm(){if(j4)return nx;j4=1;var t=Ft();return nx.f=t,nx}var ix,$4;function gt(){if($4)return ix;$4=1;var t=He(),e=mr(),r=pm(),n=Fn().f;return ix=function(i){var s=t.Symbol||(t.Symbol={});e(s,i)||n(s,i,{value:r.f(i)})},ix}var sx,k4;function hG(){if(k4)return sx;k4=1;var t=an(),e=wn(),r=Ft(),n=dh();return sx=function(){var i=e("Symbol"),s=i&&i.prototype,a=s&&s.valueOf,o=r("toPrimitive");s&&!s[o]&&n(s,o,function(l){return t(a,this)},{arity:1})},sx}var ax,D4;function nde(){if(D4)return ax;D4=1;var t=mT(),e=Bu();return ax=t?{}.toString:function(){return"[object "+e(this)+"]"},ax}var ox,q4;function Ao(){if(q4)return ox;q4=1;var t=mT(),e=Fn().f,r=Au(),n=mr(),i=nde(),s=Ft(),a=s("toStringTag");return ox=function(o,l,u,d){var h=u?o:o&&o.prototype;h&&(n(h,a)||e(h,a,{configurable:!0,value:l}),d&&!t&&r(h,"toString",i))},ox}var lx,M4;function fG(){if(M4)return lx;M4=1;var t=ct(),e=ir(),r=t.WeakMap;return lx=e(r)&&/native code/.test(String(r)),lx}var ux,A4;function Fo(){if(A4)return ux;A4=1;var t=fG(),e=ct(),r=sr(),n=Au(),i=mr(),s=cT(),a=hm(),o=oh(),l="Object already initialized",u=e.TypeError,d=e.WeakMap,h,f,p,m=function(v){return p(v)?f(v):h(v,{})},y=function(v){return function(x){var w;if(!r(x)||(w=f(x)).type!==v)throw new u("Incompatible receiver, "+v+" required");return w}};if(t||s.state){var b=s.state||(s.state=new d);b.get=b.get,b.has=b.has,b.set=b.set,h=function(v,x){if(b.has(v))throw new u(l);return x.facade=v,b.set(v,x),x},f=function(v){return b.get(v)||{}},p=function(v){return b.has(v)}}else{var g=a("state");o[g]=!0,h=function(v,x){if(i(v,g))throw new u(l);return x.facade=v,n(v,g,x),x},f=function(v){return i(v,g)?v[g]:{}},p=function(v){return i(v,g)}}return ux={set:h,get:f,has:p,enforce:m,getterFor:y},ux}var cx,F4;function ya(){if(F4)return cx;F4=1;var t=lm(),e=Fe(),r=sm(),n=xn(),i=ps(),s=vT(),a=e([].push),o=function(l){var u=l===1,d=l===2,h=l===3,f=l===4,p=l===6,m=l===7,y=l===5||p;return function(b,g,v,x){for(var w=n(b),_=r(w),E=i(_),O=t(g,v),S=0,P=x||s,N=u?P(b,E):d||m?P(b,0):void 0,I,C;E>S;S++)if((y||S in _)&&(I=_[S],C=O(I,S,w),l))if(u)N[S]=C;else if(C)switch(l){case 3:return!0;case 5:return I;case 6:return S;case 2:a(N,I)}else switch(l){case 4:return!1;case 7:a(N,I)}return p?-1:h||f?f:N}};return cx={forEach:o(0),map:o(1),filter:o(2),some:o(3),every:o(4),find:o(5),findIndex:o(6),filterReject:o(7)},cx}var L4;function ide(){if(L4)return _4;L4=1;var t=be(),e=ct(),r=an(),n=Fe(),i=qu(),s=Tt(),a=ku(),o=De(),l=mr(),u=At(),d=Ni(),h=oi(),f=dT(),p=Ln(),m=ih(),y=ch(),b=lh(),g=fm(),v=yT(),x=cm(),w=om(),_=Fn(),E=gT(),O=im(),S=dh(),P=bT(),N=Mu(),I=hm(),C=oh(),T=am(),q=Ft(),U=pm(),re=gt(),Y=hG(),L=Ao(),G=Fo(),W=ya().forEach,V=I("hidden"),te="Symbol",pe="prototype",ge=G.set,qe=G.getterFor(te),we=Object[pe],Se=e.Symbol,Pe=Se&&Se[pe],dt=e.RangeError,Ye=e.TypeError,Lt=e.QObject,ar=w.f,it=_.f,Er=v.f,Ke=O.f,Lr=n([].push),Qe=N("symbols"),Bt=N("op-symbols"),on=N("wks"),ln=!Lt||!Lt[pe]||!Lt[pe].findChild,j=function(H,z,K){var B=ar(we,z);B&&delete we[z],it(H,z,K),B&&H!==we&&it(we,z,B)},D=s&&o(function(){return y(it({},"a",{get:function(){return it(this,"a",{value:7}).a}})).a!==7})?j:it,F=function(H,z){var K=Qe[H]=y(Pe);return ge(K,{type:te,tag:H,description:z}),s||(K.description=z),K},oe=function(z,K,B){z===we&&oe(Bt,K,B),d(z);var ae=f(K);return d(B),l(Qe,ae)?(B.enumerable?(l(z,V)&&z[V][ae]&&(z[V][ae]=!1),B=y(B,{enumerable:m(0,!1)})):(l(z,V)||it(z,V,m(1,y(null))),z[V][ae]=!0),D(z,ae,B)):it(z,ae,B)},ne=function(z,K){d(z);var B=h(K),ae=b(B).concat(Z(B));return W(ae,function(Ne){(!s||r(de,B,Ne))&&oe(z,Ne,B[Ne])}),z},Q=function(z,K){return K===void 0?y(z):ne(y(z),K)},de=function(z){var K=f(z),B=r(Ke,this,K);return this===we&&l(Qe,K)&&!l(Bt,K)?!1:B||!l(this,K)||!l(Qe,K)||l(this,V)&&this[V][K]?B:!0},Re=function(z,K){var B=h(z),ae=f(K);if(!(B===we&&l(Qe,ae)&&!l(Bt,ae))){var Ne=ar(B,ae);return Ne&&l(Qe,ae)&&!(l(B,V)&&B[V][ae])&&(Ne.enumerable=!0),Ne}},k=function(z){var K=Er(h(z)),B=[];return W(K,function(ae){!l(Qe,ae)&&!l(C,ae)&&Lr(B,ae)}),B},Z=function(H){var z=H===we,K=Er(z?Bt:h(H)),B=[];return W(K,function(ae){l(Qe,ae)&&(!z||l(we,ae))&&Lr(B,Qe[ae])}),B};return a||(Se=function(){if(u(Pe,this))throw new Ye("Symbol is not a constructor");var z=!arguments.length||arguments[0]===void 0?void 0:p(arguments[0]),K=T(z),B=function(ae){var Ne=this===void 0?e:this;Ne===we&&r(B,Bt,ae),l(Ne,V)&&l(Ne[V],K)&&(Ne[V][K]=!1);var Yt=m(1,ae);try{D(Ne,K,Yt)}catch(or){if(!(or instanceof dt))throw or;j(Ne,K,Yt)}};return s&&ln&&D(we,K,{configurable:!0,set:B}),F(K,z)},Pe=Se[pe],S(Pe,"toString",function(){return qe(this).tag}),S(Se,"withoutSetter",function(H){return F(T(H),H)}),O.f=de,_.f=oe,E.f=ne,w.f=Re,g.f=v.f=k,x.f=Z,U.f=function(H){return F(q(H),H)},s&&(P(Pe,"description",{configurable:!0,get:function(){return qe(this).description}}),i||S(we,"propertyIsEnumerable",de,{unsafe:!0}))),t({global:!0,constructor:!0,wrap:!0,forced:!a,sham:!a},{Symbol:Se}),W(b(on),function(H){re(H)}),t({target:te,stat:!0,forced:!a},{useSetter:function(){ln=!0},useSimple:function(){ln=!1}}),t({target:"Object",stat:!0,forced:!a,sham:!s},{create:Q,defineProperty:oe,defineProperties:ne,getOwnPropertyDescriptor:Re}),t({target:"Object",stat:!0,forced:!a},{getOwnPropertyNames:k}),Y(),L(Se,te),C[V]=!0,_4}var B4={},dx,z4;function pG(){if(z4)return dx;z4=1;var t=ku();return dx=t&&!!Symbol.for&&!!Symbol.keyFor,dx}var U4;function sde(){if(U4)return B4;U4=1;var t=be(),e=wn(),r=mr(),n=Ln(),i=Mu(),s=pG(),a=i("string-to-symbol-registry"),o=i("symbol-to-string-registry");return t({target:"Symbol",stat:!0,forced:!s},{for:function(l){var u=n(l);if(r(a,u))return a[u];var d=e("Symbol")(u);return a[u]=d,o[d]=u,d}}),B4}var W4={},V4;function ade(){if(V4)return W4;V4=1;var t=be(),e=mr(),r=ah(),n=Du(),i=Mu(),s=pG(),a=i("symbol-to-string-registry");return t({target:"Symbol",stat:!0,forced:!s},{keyFor:function(l){if(!r(l))throw new TypeError(n(l)+" is not a symbol");if(e(a,l))return a[l]}}),W4}var H4={},hx,K4;function ode(){if(K4)return hx;K4=1;var t=Fe(),e=Mo(),r=ir(),n=Pi(),i=Ln(),s=t([].push);return hx=function(a){if(r(a))return a;if(e(a)){for(var o=a.length,l=[],u=0;u<o;u++){var d=a[u];typeof d=="string"?s(l,d):(typeof d=="number"||n(d)==="Number"||n(d)==="String")&&s(l,i(d))}var h=l.length,f=!0;return function(p,m){if(f)return f=!1,m;if(e(this))return m;for(var y=0;y<h;y++)if(l[y]===p)return m}}},hx}var G4;function mG(){if(G4)return H4;G4=1;var t=be(),e=wn(),r=nm(),n=an(),i=Fe(),s=De(),a=ir(),o=ah(),l=Lu(),u=ode(),d=ku(),h=String,f=e("JSON","stringify"),p=i(/./.exec),m=i("".charAt),y=i("".charCodeAt),b=i("".replace),g=i(1.1.toString),v=/[\uD800-\uDFFF]/g,x=/^[\uD800-\uDBFF]$/,w=/^[\uDC00-\uDFFF]$/,_=!d||s(function(){var P=e("Symbol")("stringify detection");return f([P])!=="[null]"||f({a:P})!=="{}"||f(Object(P))!=="{}"}),E=s(function(){return f("\uDF06\uD834")!=='"\\udf06\\ud834"'||f("\uDEAD")!=='"\\udead"'}),O=function(P,N){var I=l(arguments),C=u(N);if(!(!a(C)&&(P===void 0||o(P))))return I[1]=function(T,q){if(a(C)&&(q=n(C,this,h(T),q)),!o(q))return q},r(f,null,I)},S=function(P,N,I){var C=m(I,N-1),T=m(I,N+1);return p(x,P)&&!p(w,T)||p(w,P)&&!p(x,C)?"\\u"+g(y(P,0),16):P};return f&&t({target:"JSON",stat:!0,arity:3,forced:_||E},{stringify:function(N,I,C){var T=l(arguments),q=r(_?O:f,null,T);return E&&typeof q=="string"?b(q,v,S):q}}),H4}var Y4={},Q4;function lde(){if(Q4)return Y4;Q4=1;var t=be(),e=ku(),r=De(),n=cm(),i=xn(),s=!e||r(function(){n.f(1)});return t({target:"Object",stat:!0,forced:s},{getOwnPropertySymbols:function(o){var l=n.f;return l?l(i(o)):[]}}),Y4}var X4;function vG(){return X4||(X4=1,ide(),sde(),ade(),mG(),lde()),x4}var J4={},Z4;function gG(){if(Z4)return J4;Z4=1;var t=gt();return t("asyncDispose"),J4}var eB={},tB;function ude(){if(tB)return eB;tB=1;var t=gt();return t("asyncIterator"),eB}var rB={},nB;function yG(){if(nB)return rB;nB=1;var t=gt();return t("dispose"),rB}var iB={},sB;function cde(){if(sB)return iB;sB=1;var t=gt();return t("hasInstance"),iB}var aB={},oB;function dde(){if(oB)return aB;oB=1;var t=gt();return t("isConcatSpreadable"),aB}var lB={},uB;function bG(){if(uB)return lB;uB=1;var t=gt();return t("iterator"),lB}var cB={},dB;function hde(){if(dB)return cB;dB=1;var t=gt();return t("match"),cB}var hB={},fB;function fde(){if(fB)return hB;fB=1;var t=gt();return t("matchAll"),hB}var pB={},mB;function pde(){if(mB)return pB;mB=1;var t=gt();return t("replace"),pB}var vB={},gB;function mde(){if(gB)return vB;gB=1;var t=gt();return t("search"),vB}var yB={},bB;function vde(){if(bB)return yB;bB=1;var t=gt();return t("species"),yB}var wB={},xB;function gde(){if(xB)return wB;xB=1;var t=gt();return t("split"),wB}var _B={},SB;function wG(){if(SB)return _B;SB=1;var t=gt(),e=hG();return t("toPrimitive"),e(),_B}var EB={},OB;function yde(){if(OB)return EB;OB=1;var t=wn(),e=gt(),r=Ao();return e("toStringTag"),r(t("Symbol"),"Symbol"),EB}var PB={},NB;function bde(){if(NB)return PB;NB=1;var t=gt();return t("unscopables"),PB}var CB={},TB;function wde(){if(TB)return CB;TB=1;var t=ct(),e=Ao();return e(t.JSON,"JSON",!0),CB}var fx,IB;function xde(){if(IB)return fx;IB=1,dG(),vG(),gG(),ude(),yG(),cde(),dde(),bG(),hde(),fde(),pde(),mde(),vde(),gde(),wG(),yde(),bde(),wde();var t=He();return fx=t.Symbol,fx}var RB={},px,jB;function wT(){return jB||(jB=1,px=function(){}),px}var mx,$B;function zu(){return $B||($B=1,mx={}),mx}var vx,kB;function _de(){if(kB)return vx;kB=1;var t=Tt(),e=mr(),r=Function.prototype,n=t&&Object.getOwnPropertyDescriptor,i=e(r,"name"),s=i&&(function(){}).name==="something",a=i&&(!t||t&&n(r,"name").configurable);return vx={EXISTS:i,PROPER:s,CONFIGURABLE:a},vx}var gx,DB;function xG(){if(DB)return gx;DB=1;var t=De();return gx=!t(function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype}),gx}var yx,qB;function mm(){if(qB)return yx;qB=1;var t=mr(),e=ir(),r=xn(),n=hm(),i=xG(),s=n("IE_PROTO"),a=Object,o=a.prototype;return yx=i?a.getPrototypeOf:function(l){var u=r(l);if(t(u,s))return u[s];var d=u.constructor;return e(d)&&u instanceof d?d.prototype:u instanceof a?o:null},yx}var bx,MB;function _G(){if(MB)return bx;MB=1;var t=De(),e=ir(),r=sr(),n=ch(),i=mm(),s=dh(),a=Ft(),o=qu(),l=a("iterator"),u=!1,d,h,f;[].keys&&(f=[].keys(),"next"in f?(h=i(i(f)),h!==Object.prototype&&(d=h)):u=!0);var p=!r(d)||t(function(){var m={};return d[l].call(m)!==m});return p?d={}:o&&(d=n(d)),e(d[l])||s(d,l,function(){return this}),bx={IteratorPrototype:d,BUGGY_SAFARI_ITERATORS:u},bx}var wx,AB;function Sde(){if(AB)return wx;AB=1;var t=_G().IteratorPrototype,e=ch(),r=ih(),n=Ao(),i=zu(),s=function(){return this};return wx=function(a,o,l,u){var d=o+" Iterator";return a.prototype=e(t,{next:r(+!u,l)}),n(a,d,!1,!0),i[d]=s,a},wx}var xx,FB;function Ede(){if(FB)return xx;FB=1;var t=Fe(),e=fs();return xx=function(r,n,i){try{return t(e(Object.getOwnPropertyDescriptor(r,n)[i]))}catch{}},xx}var _x,LB;function Ode(){if(LB)return _x;LB=1;var t=sr();return _x=function(e){return t(e)||e===null},_x}var Sx,BB;function Pde(){if(BB)return Sx;BB=1;var t=Ode(),e=String,r=TypeError;return Sx=function(n){if(t(n))return n;throw new r("Can't set "+e(n)+" as a prototype")},Sx}var Ex,zB;function Nde(){if(zB)return Ex;zB=1;var t=Ede(),e=sr(),r=hs(),n=Pde();return Ex=Object.setPrototypeOf||("__proto__"in{}?function(){var i=!1,s={},a;try{a=t(Object.prototype,"__proto__","set"),a(s,[]),i=s instanceof Array}catch{}return function(l,u){return r(l),n(u),e(l)&&(i?a(l,u):l.__proto__=u),l}}():void 0),Ex}var Ox,UB;function xT(){if(UB)return Ox;UB=1;var t=be(),e=an(),r=qu(),n=_de(),i=ir(),s=Sde(),a=mm(),o=Nde(),l=Ao(),u=Au(),d=dh(),h=Ft(),f=zu(),p=_G(),m=n.PROPER,y=n.CONFIGURABLE,b=p.IteratorPrototype,g=p.BUGGY_SAFARI_ITERATORS,v=h("iterator"),x="keys",w="values",_="entries",E=function(){return this};return Ox=function(O,S,P,N,I,C,T){s(P,S,N);var q=function(ge){if(ge===I&&G)return G;if(!g&&ge&&ge in Y)return Y[ge];switch(ge){case x:return function(){return new P(this,ge)};case w:return function(){return new P(this,ge)};case _:return function(){return new P(this,ge)}}return function(){return new P(this)}},U=S+" Iterator",re=!1,Y=O.prototype,L=Y[v]||Y["@@iterator"]||I&&Y[I],G=!g&&L||q(I),W=S==="Array"&&Y.entries||L,V,te,pe;if(W&&(V=a(W.call(new O)),V!==Object.prototype&&V.next&&(!r&&a(V)!==b&&(o?o(V,b):i(V[v])||d(V,v,E)),l(V,U,!0,!0),r&&(f[U]=E))),m&&I===w&&L&&L.name!==w&&(!r&&y?u(Y,"name",w):(re=!0,G=function(){return e(L,this)})),I)if(te={values:q(w),keys:C?G:q(x),entries:q(_)},T)for(pe in te)(g||re||!(pe in Y))&&d(Y,pe,te[pe]);else t({target:S,proto:!0,forced:g||re},te);return(!r||T)&&Y[v]!==G&&d(Y,v,G,{name:I}),f[S]=G,te},Ox}var Px,WB;function _T(){return WB||(WB=1,Px=function(t,e){return{value:t,done:e}}),Px}var Nx,VB;function Uu(){if(VB)return Nx;VB=1;var t=oi(),e=wT(),r=zu(),n=Fo(),i=Fn().f,s=xT(),a=_T(),o=qu(),l=Tt(),u="Array Iterator",d=n.set,h=n.getterFor(u);Nx=s(Array,"Array",function(p,m){d(this,{type:u,target:t(p),index:0,kind:m})},function(){var p=h(this),m=p.target,y=p.index++;if(!m||y>=m.length)return p.target=null,a(void 0,!0);switch(p.kind){case"keys":return a(y,!1);case"values":return a(m[y],!1)}return a([y,m[y]],!1)},"values");var f=r.Arguments=r.Array;if(e("keys"),e("values"),e("entries"),!o&&l&&f.name!=="values")try{i(f,"name",{value:"values"})}catch{}return Nx}var Cx,HB;function Cde(){return HB||(HB=1,Cx={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}),Cx}var KB;function Wu(){if(KB)return RB;KB=1,Uu();var t=Cde(),e=ct(),r=Ao(),n=zu();for(var i in t)r(e[i],i),n[i]=n.Array;return RB}var Tx,GB;function SG(){if(GB)return Tx;GB=1;var t=xde();return Wu(),Tx=t,Tx}var Ix,YB;function Tde(){return YB||(YB=1,Ix=SG()),Ix}var Ide=Tde(),Rde=Ee(Ide),QB={},XB;function jde(){if(XB)return QB;XB=1;var t=be(),e=Mo(),r=cG(),n=sr(),i=um(),s=ps(),a=oi(),o=dm(),l=Ft(),u=uh(),d=Lu(),h=u("slice"),f=l("species"),p=Array,m=Math.max;return t({target:"Array",proto:!0,forced:!h},{slice:function(b,g){var v=a(this),x=s(v),w=i(b,x),_=i(g===void 0?x:g,x),E,O,S;if(e(v)&&(E=v.constructor,r(E)&&(E===p||e(E.prototype))?E=void 0:n(E)&&(E=E[f],E===null&&(E=void 0)),E===p||E===void 0))return d(v,w,_);for(O=new(E===void 0?p:E)(m(_-w,0)),S=0;w<_;w++,S++)w in v&&o(O,S,v[w]);return O.length=S,O}}),QB}var Rx,JB;function $de(){if(JB)return Rx;JB=1,jde();var t=vr();return Rx=t("Array","slice"),Rx}var jx,ZB;function kde(){if(ZB)return jx;ZB=1;var t=At(),e=$de(),r=Array.prototype;return jx=function(n){var i=n.slice;return n===r||t(r,n)&&i===r.slice?e:i},jx}var $x,e5;function Dde(){if(e5)return $x;e5=1;var t=kde();return $x=t,$x}var kx,t5;function qde(){return t5||(t5=1,kx=Dde()),kx}var Mde=qde(),gi=Ee(Mde),Dx,r5;function Ade(){if(r5)return Dx;r5=1;var t=wn(),e=Fe(),r=fm(),n=cm(),i=Ni(),s=e([].concat);return Dx=t("Reflect","ownKeys")||function(o){var l=r.f(i(o)),u=n.f;return u?s(l,u(o)):l},Dx}var n5={},i5;function Fde(){if(i5)return n5;i5=1;var t=be(),e=Mo();return t({target:"Array",stat:!0},{isArray:e}),n5}var qx,s5;function Lde(){if(s5)return qx;s5=1,Fde();var t=He();return qx=t.Array.isArray,qx}var Mx,a5;function Bde(){if(a5)return Mx;a5=1;var t=Lde();return Mx=t,Mx}var Ax,o5;function zde(){return o5||(o5=1,Ax=Bde()),Ax}var Ude=zde(),Ot=Ee(Ude),l5={},u5;function Wde(){if(u5)return l5;u5=1;var t=be(),e=ya().map,r=uh(),n=r("map");return t({target:"Array",proto:!0,forced:!n},{map:function(s){return e(this,s,arguments.length>1?arguments[1]:void 0)}}),l5}var Fx,c5;function Vde(){if(c5)return Fx;c5=1,Wde();var t=vr();return Fx=t("Array","map"),Fx}var Lx,d5;function Hde(){if(d5)return Lx;d5=1;var t=At(),e=Vde(),r=Array.prototype;return Lx=function(n){var i=n.map;return n===r||t(r,n)&&i===r.map?e:i},Lx}var Bx,h5;function Kde(){if(h5)return Bx;h5=1;var t=Hde();return Bx=t,Bx}var zx,f5;function Gde(){return f5||(f5=1,zx=Kde()),zx}var Yde=Gde(),ou=Ee(Yde),p5={},m5;function Qde(){if(m5)return p5;m5=1;var t=be(),e=xn(),r=lh(),n=De(),i=n(function(){r(1)});return t({target:"Object",stat:!0,forced:i},{keys:function(a){return r(e(a))}}),p5}var Ux,v5;function Xde(){if(v5)return Ux;v5=1,Qde();var t=He();return Ux=t.Object.keys,Ux}var Wx,g5;function Jde(){if(g5)return Wx;g5=1;var t=Xde();return Wx=t,Wx}var Vx,y5;function Zde(){return y5||(y5=1,Vx=Jde()),Vx}var ehe=Zde(),xt=Ee(ehe),b5={},w5;function the(){if(w5)return b5;w5=1;var t=be(),e=Fe(),r=Date,n=e(r.prototype.getTime);return t({target:"Date",stat:!0},{now:function(){return n(new r)}}),b5}var Hx,x5;function rhe(){if(x5)return Hx;x5=1,the();var t=He();return Hx=t.Date.now,Hx}var Kx,_5;function nhe(){if(_5)return Kx;_5=1;var t=rhe();return Kx=t,Kx}var Gx,S5;function ihe(){return S5||(S5=1,Gx=nhe()),Gx}var she=ihe(),ap=Ee(she),E5={},Yx,O5;function Vu(){if(O5)return Yx;O5=1;var t=De();return Yx=function(e,r){var n=[][e];return!!n&&t(function(){n.call(null,r||function(){return 1},1)})},Yx}var Qx,P5;function ahe(){if(P5)return Qx;P5=1;var t=ya().forEach,e=Vu(),r=e("forEach");return Qx=r?[].forEach:function(i){return t(this,i,arguments.length>1?arguments[1]:void 0)},Qx}var N5;function ohe(){if(N5)return E5;N5=1;var t=be(),e=ahe();return t({target:"Array",proto:!0,forced:[].forEach!==e},{forEach:e}),E5}var Xx,C5;function lhe(){if(C5)return Xx;C5=1,ohe();var t=vr();return Xx=t("Array","forEach"),Xx}var Jx,T5;function uhe(){if(T5)return Jx;T5=1;var t=lhe();return Jx=t,Jx}var Zx,I5;function che(){if(I5)return Zx;I5=1;var t=Bu(),e=mr(),r=At(),n=uhe(),i=Array.prototype,s={DOMTokenList:!0,NodeList:!0};return Zx=function(a){var o=a.forEach;return a===i||r(i,a)&&o===i.forEach||e(s,t(a))?n:o},Zx}var e_,R5;function dhe(){return R5||(R5=1,e_=che()),e_}var hhe=dhe(),Xe=Ee(hhe),j5={},$5;function fhe(){if($5)return j5;$5=1;var t=be(),e=Fe(),r=Mo(),n=e([].reverse),i=[1,2];return t({target:"Array",proto:!0,forced:String(i)===String(i.reverse())},{reverse:function(){return r(this)&&(this.length=this.length),n(this)}}),j5}var t_,k5;function phe(){if(k5)return t_;k5=1,fhe();var t=vr();return t_=t("Array","reverse"),t_}var r_,D5;function mhe(){if(D5)return r_;D5=1;var t=At(),e=phe(),r=Array.prototype;return r_=function(n){var i=n.reverse;return n===r||t(r,n)&&i===r.reverse?e:i},r_}var n_,q5;function vhe(){if(q5)return n_;q5=1;var t=mhe();return n_=t,n_}var i_,M5;function ghe(){return M5||(M5=1,i_=vhe()),i_}var yhe=ghe(),Za=Ee(yhe),A5={},s_,F5;function bhe(){if(F5)return s_;F5=1;var t=Tt(),e=Mo(),r=TypeError,n=Object.getOwnPropertyDescriptor,i=t&&!function(){if(this!==void 0)return!0;try{Object.defineProperty([],"length",{writable:!1}).length=1}catch(s){return s instanceof TypeError}}();return s_=i?function(s,a){if(e(s)&&!n(s,"length").writable)throw new r("Cannot set read only .length");return s.length=a}:function(s,a){return s.length=a},s_}var a_,L5;function EG(){if(L5)return a_;L5=1;var t=Du(),e=TypeError;return a_=function(r,n){if(!delete r[n])throw new e("Cannot delete property "+t(n)+" of "+t(r))},a_}var B5;function whe(){if(B5)return A5;B5=1;var t=be(),e=xn(),r=um(),n=Fu(),i=ps(),s=bhe(),a=uG(),o=vT(),l=dm(),u=EG(),d=uh(),h=d("splice"),f=Math.max,p=Math.min;return t({target:"Array",proto:!0,forced:!h},{splice:function(y,b){var g=e(this),v=i(g),x=r(y,v),w=arguments.length,_,E,O,S,P,N;for(w===0?_=E=0:w===1?(_=0,E=v-x):(_=w-2,E=p(f(n(b),0),v-x)),a(v+_-E),O=o(g,E),S=0;S<E;S++)P=x+S,P in g&&l(O,S,g[P]);if(O.length=E,_<E){for(S=x;S<v-E;S++)P=S+E,N=S+_,P in g?g[N]=g[P]:u(g,N);for(S=v;S>v-E+_;S--)u(g,S-1)}else if(_>E)for(S=v-E;S>x;S--)P=S+E-1,N=S+_-1,P in g?g[N]=g[P]:u(g,N);for(S=0;S<_;S++)g[S+x]=arguments[S+2];return s(g,v-E+_),O}}),A5}var o_,z5;function xhe(){if(z5)return o_;z5=1,whe();var t=vr();return o_=t("Array","splice"),o_}var l_,U5;function _he(){if(U5)return l_;U5=1;var t=At(),e=xhe(),r=Array.prototype;return l_=function(n){var i=n.splice;return n===r||t(r,n)&&i===r.splice?e:i},l_}var u_,W5;function She(){if(W5)return u_;W5=1;var t=_he();return u_=t,u_}var c_,V5;function Ehe(){return V5||(V5=1,c_=She()),c_}var Ohe=Ehe(),Ki=Ee(Ohe),H5={},K5;function Phe(){if(K5)return H5;K5=1;var t=be(),e=hT().includes,r=De(),n=wT(),i=r(function(){return!Array(1).includes()});return t({target:"Array",proto:!0,forced:i},{includes:function(a){return e(this,a,arguments.length>1?arguments[1]:void 0)}}),n("includes"),H5}var d_,G5;function Nhe(){if(G5)return d_;G5=1,Phe();var t=vr();return d_=t("Array","includes"),d_}var Y5={},h_,Q5;function Che(){if(Q5)return h_;Q5=1;var t=sr(),e=Pi(),r=Ft(),n=r("match");return h_=function(i){var s;return t(i)&&((s=i[n])!==void 0?!!s:e(i)==="RegExp")},h_}var f_,X5;function The(){if(X5)return f_;X5=1;var t=Che(),e=TypeError;return f_=function(r){if(t(r))throw new e("The method doesn't accept regular expressions");return r},f_}var p_,J5;function Ihe(){if(J5)return p_;J5=1;var t=Ft(),e=t("match");return p_=function(r){var n=/./;try{"/./"[r](n)}catch{try{return n[e]=!1,"/./"[r](n)}catch{}}return!1},p_}var Z5;function Rhe(){if(Z5)return Y5;Z5=1;var t=be(),e=Fe(),r=The(),n=hs(),i=Ln(),s=Ihe(),a=e("".indexOf);return t({target:"String",proto:!0,forced:!s("includes")},{includes:function(l){return!!~a(i(n(this)),i(r(l)),arguments.length>1?arguments[1]:void 0)}}),Y5}var m_,e3;function jhe(){if(e3)return m_;e3=1,Rhe();var t=vr();return m_=t("String","includes"),m_}var v_,t3;function $he(){if(t3)return v_;t3=1;var t=At(),e=Nhe(),r=jhe(),n=Array.prototype,i=String.prototype;return v_=function(s){var a=s.includes;return s===n||t(n,s)&&a===n.includes?e:typeof s=="string"||s===i||t(i,s)&&a===i.includes?r:a},v_}var g_,r3;function khe(){if(r3)return g_;r3=1;var t=$he();return g_=t,g_}var y_,n3;function Dhe(){return n3||(n3=1,y_=khe()),y_}var qhe=Dhe(),Zs=Ee(qhe),i3={},s3;function Mhe(){if(s3)return i3;s3=1;var t=be(),e=De(),r=xn(),n=mm(),i=xG(),s=e(function(){n(1)});return t({target:"Object",stat:!0,forced:s,sham:!i},{getPrototypeOf:function(o){return n(r(o))}}),i3}var b_,a3;function Ahe(){if(a3)return b_;a3=1,Mhe();var t=He();return b_=t.Object.getPrototypeOf,b_}var w_,o3;function Fhe(){if(o3)return w_;o3=1;var t=Ahe();return w_=t,w_}var x_,l3;function Lhe(){return l3||(l3=1,x_=Fhe()),x_}var Bhe=Lhe(),u3=Ee(Bhe),__,c3;function zhe(){if(c3)return __;c3=1,dG();var t=vr();return __=t("Array","concat"),__}var S_,d3;function Uhe(){if(d3)return S_;d3=1;var t=At(),e=zhe(),r=Array.prototype;return S_=function(n){var i=n.concat;return n===r||t(r,n)&&i===r.concat?e:i},S_}var E_,h3;function Whe(){if(h3)return E_;h3=1;var t=Uhe();return E_=t,E_}var O_,f3;function Vhe(){return f3||(f3=1,O_=Whe()),O_}var Hhe=Vhe(),Khe=Ee(Hhe),p3={},m3;function Ghe(){if(m3)return p3;m3=1;var t=be(),e=ya().filter,r=uh(),n=r("filter");return t({target:"Array",proto:!0,forced:!n},{filter:function(s){return e(this,s,arguments.length>1?arguments[1]:void 0)}}),p3}var P_,v3;function Yhe(){if(v3)return P_;v3=1,Ghe();var t=vr();return P_=t("Array","filter"),P_}var N_,g3;function Qhe(){if(g3)return N_;g3=1;var t=At(),e=Yhe(),r=Array.prototype;return N_=function(n){var i=n.filter;return n===r||t(r,n)&&i===r.filter?e:i},N_}var C_,y3;function Xhe(){if(y3)return C_;y3=1;var t=Qhe();return C_=t,C_}var T_,b3;function Jhe(){return b3||(b3=1,T_=Xhe()),T_}var Zhe=Jhe(),Kr=Ee(Zhe),w3={},I_,x3;function efe(){if(x3)return I_;x3=1;var t=Tt(),e=De(),r=Fe(),n=mm(),i=lh(),s=oi(),a=im().f,o=r(a),l=r([].push),u=t&&e(function(){var h=Object.create(null);return h[2]=2,!o(h,2)}),d=function(h){return function(f){for(var p=s(f),m=i(p),y=u&&n(p)===null,b=m.length,g=0,v=[],x;b>g;)x=m[g++],(!t||(y?x in p:o(p,x)))&&l(v,h?[x,p[x]]:p[x]);return v}};return I_={entries:d(!0),values:d(!1)},I_}var _3;function tfe(){if(_3)return w3;_3=1;var t=be(),e=efe().values;return t({target:"Object",stat:!0},{values:function(n){return e(n)}}),w3}var R_,S3;function rfe(){if(S3)return R_;S3=1,tfe();var t=He();return R_=t.Object.values,R_}var j_,E3;function nfe(){if(E3)return j_;E3=1;var t=rfe();return j_=t,j_}var $_,O3;function ife(){return O3||(O3=1,$_=nfe()),$_}var sfe=ife(),afe=Ee(sfe),P3={},k_,N3;function ST(){return N3||(N3=1,k_=`	
\v\f\r \u2028\u2029\uFEFF`),k_}var D_,C3;function OG(){if(C3)return D_;C3=1;var t=Fe(),e=hs(),r=Ln(),n=ST(),i=t("".replace),s=RegExp("^["+n+"]+"),a=RegExp("(^|[^"+n+"])["+n+"]+$"),o=function(l){return function(u){var d=r(e(u));return l&1&&(d=i(d,s,"")),l&2&&(d=i(d,a,"$1")),d}};return D_={start:o(1),end:o(2),trim:o(3)},D_}var q_,T3;function ofe(){if(T3)return q_;T3=1;var t=ct(),e=De(),r=Fe(),n=Ln(),i=OG().trim,s=ST(),a=t.parseInt,o=t.Symbol,l=o&&o.iterator,u=/^[+-]?0x/i,d=r(u.exec),h=a(s+"08")!==8||a(s+"0x16")!==22||l&&!e(function(){a(Object(l))});return q_=h?function(p,m){var y=i(n(p));return a(y,m>>>0||(d(u,y)?16:10))}:a,q_}var I3;function lfe(){if(I3)return P3;I3=1;var t=be(),e=ofe();return t({global:!0,forced:parseInt!==e},{parseInt:e}),P3}var M_,R3;function ufe(){if(R3)return M_;R3=1,lfe();var t=He();return M_=t.parseInt,M_}var A_,j3;function cfe(){if(j3)return A_;j3=1;var t=ufe();return A_=t,A_}var F_,$3;function dfe(){return $3||($3=1,F_=cfe()),F_}var hfe=dfe(),Qn=Ee(hfe),k3={},D3;function ffe(){if(D3)return k3;D3=1;var t=be(),e=lT(),r=hT().indexOf,n=Vu(),i=e([].indexOf),s=!!i&&1/i([1],1,-0)<0,a=s||!n("indexOf");return t({target:"Array",proto:!0,forced:a},{indexOf:function(l){var u=arguments.length>1?arguments[1]:void 0;return s?i(this,l,u)||0:r(this,l,u)}}),k3}var L_,q3;function pfe(){if(q3)return L_;q3=1,ffe();var t=vr();return L_=t("Array","indexOf"),L_}var B_,M3;function mfe(){if(M3)return B_;M3=1;var t=At(),e=pfe(),r=Array.prototype;return B_=function(n){var i=n.indexOf;return n===r||t(r,n)&&i===r.indexOf?e:i},B_}var z_,A3;function vfe(){if(A3)return z_;A3=1;var t=mfe();return z_=t,z_}var U_,F3;function gfe(){return F3||(F3=1,U_=vfe()),U_}var yfe=gfe(),Ue=Ee(yfe),L3={},B3;function bfe(){if(B3)return L3;B3=1;var t=be(),e=Tt(),r=ch();return t({target:"Object",stat:!0,sham:!e},{create:r}),L3}var W_,z3;function wfe(){if(z3)return W_;z3=1,bfe();var t=He(),e=t.Object;return W_=function(n,i){return e.create(n,i)},W_}var V_,U3;function xfe(){if(U3)return V_;U3=1;var t=wfe();return V_=t,V_}var H_,W3;function _fe(){return W3||(W3=1,H_=xfe()),H_}var Sfe=_fe(),eo=Ee(Sfe),V3={},K_,H3;function Efe(){if(H3)return K_;H3=1;var t=Fu(),e=Ln(),r=hs(),n=RangeError;return K_=function(s){var a=e(r(this)),o="",l=t(s);if(l<0||l===1/0)throw new n("Wrong number of repetitions");for(;l>0;(l>>>=1)&&(a+=a))l&1&&(o+=a);return o},K_}var G_,K3;function Ofe(){if(K3)return G_;K3=1;var t=Fe(),e=nG(),r=Ln(),n=Efe(),i=hs(),s=t(n),a=t("".slice),o=Math.ceil,l=function(u){return function(d,h,f){var p=r(i(d)),m=e(h),y=p.length,b=f===void 0?" ":r(f),g,v;return m<=y||b===""?p:(g=m-y,v=s(b,o(g/b.length)),v.length>g&&(v=a(v,0,g)),u?p+v:v+p)}};return G_={start:l(!1),end:l(!0)},G_}var Y_,G3;function Pfe(){if(G3)return Y_;G3=1;var t=Fe(),e=De(),r=Ofe().start,n=RangeError,i=isFinite,s=Math.abs,a=Date.prototype,o=a.toISOString,l=t(a.getTime),u=t(a.getUTCDate),d=t(a.getUTCFullYear),h=t(a.getUTCHours),f=t(a.getUTCMilliseconds),p=t(a.getUTCMinutes),m=t(a.getUTCMonth),y=t(a.getUTCSeconds);return Y_=e(function(){return o.call(new Date(-5e13-1))!=="0385-07-25T07:06:39.999Z"})||!e(function(){o.call(new Date(NaN))})?function(){if(!i(l(this)))throw new n("Invalid time value");var g=this,v=d(g),x=f(g),w=v<0?"-":v>9999?"+":"";return w+r(s(v),w?6:4,0)+"-"+r(m(g)+1,2,0)+"-"+r(u(g),2,0)+"T"+r(h(g),2,0)+":"+r(p(g),2,0)+":"+r(y(g),2,0)+"."+r(x,3,0)+"Z"}:o,Y_}var Y3;function Nfe(){if(Y3)return V3;Y3=1;var t=be(),e=an(),r=xn(),n=Z9(),i=Pfe(),s=Pi(),a=De(),o=a(function(){return new Date(NaN).toJSON()!==null||e(Date.prototype.toJSON,{toISOString:function(){return 1}})!==1});return t({target:"Date",proto:!0,forced:o},{toJSON:function(u){var d=r(this),h=n(d,"number");return typeof h=="number"&&!isFinite(h)?null:!("toISOString"in d)&&s(d)==="Date"?e(i,d):d.toISOString()}}),V3}var Q_,Q3;function Cfe(){if(Q3)return Q_;Q3=1,Nfe(),mG();var t=He(),e=nm();return t.JSON||(t.JSON={stringify:JSON.stringify}),Q_=function(n,i,s){return e(t.JSON.stringify,null,arguments)},Q_}var X_,X3;function Tfe(){if(X3)return X_;X3=1;var t=Cfe();return X_=t,X_}var J_,J3;function Ife(){return J3||(J3=1,J_=Tfe()),J_}var Rfe=Ife(),hh=Ee(Rfe),Z3={},ez={},Z_,tz;function PG(){if(tz)return Z_;tz=1;var t=ct(),e=$u(),r=Pi(),n=function(i){return e.slice(0,i.length)===i};return Z_=function(){return n("Bun/")?"BUN":n("Cloudflare-Workers")?"CLOUDFLARE":n("Deno/")?"DENO":n("Node.js/")?"NODE":t.Bun&&typeof Bun.version=="string"?"BUN":t.Deno&&typeof Deno.version=="object"?"DENO":r(t.process)==="process"?"NODE":t.window&&t.document?"BROWSER":"REST"}(),Z_}var eS,rz;function jfe(){if(rz)return eS;rz=1;var t=TypeError;return eS=function(e,r){if(e<r)throw new t("Not enough arguments");return e},eS}var tS,nz;function NG(){if(nz)return tS;nz=1;var t=ct(),e=nm(),r=ir(),n=PG(),i=$u(),s=Lu(),a=jfe(),o=t.Function,l=/MSIE .\./.test(i)||n==="BUN"&&function(){var u=t.Bun.version.split(".");return u.length<3||u[0]==="0"&&(u[1]<3||u[1]==="3"&&u[2]==="0")}();return tS=function(u,d){var h=d?2:1;return l?function(f,p){var m=a(arguments.length,1)>h,y=r(f)?f:o(f),b=m?s(arguments,h):[],g=m?function(){e(y,this,b)}:y;return d?u(g,p):u(g)}:u},tS}var iz;function $fe(){if(iz)return ez;iz=1;var t=be(),e=ct(),r=NG(),n=r(e.setInterval,!0);return t({global:!0,bind:!0,forced:e.setInterval!==n},{setInterval:n}),ez}var sz={},az;function kfe(){if(az)return sz;az=1;var t=be(),e=ct(),r=NG(),n=r(e.setTimeout,!0);return t({global:!0,bind:!0,forced:e.setTimeout!==n},{setTimeout:n}),sz}var oz;function CG(){return oz||(oz=1,$fe(),kfe()),Z3}var rS,lz;function Dfe(){if(lz)return rS;lz=1,CG();var t=He();return rS=t.setTimeout,rS}var nS,uz;function qfe(){return uz||(uz=1,nS=Dfe()),nS}var Mfe=qfe(),Gi=Ee(Mfe),cz={},iS,dz;function Afe(){if(dz)return iS;dz=1;var t=xn(),e=um(),r=ps();return iS=function(i){for(var s=t(this),a=r(s),o=arguments.length,l=e(o>1?arguments[1]:void 0,a),u=o>2?arguments[2]:void 0,d=u===void 0?a:e(u,a);d>l;)s[l++]=i;return s},iS}var hz;function Ffe(){if(hz)return cz;hz=1;var t=be(),e=Afe(),r=wT();return t({target:"Array",proto:!0},{fill:e}),r("fill"),cz}var sS,fz;function Lfe(){if(fz)return sS;fz=1,Ffe();var t=vr();return sS=t("Array","fill"),sS}var aS,pz;function Bfe(){if(pz)return aS;pz=1;var t=At(),e=Lfe(),r=Array.prototype;return aS=function(n){var i=n.fill;return n===r||t(r,n)&&i===r.fill?e:i},aS}var oS,mz;function zfe(){if(mz)return oS;mz=1;var t=Bfe();return oS=t,oS}var lS,vz;function Ufe(){return vz||(vz=1,lS=zfe()),lS}var Wfe=Ufe(),fh=Ee(Wfe);/*! Hammer.JS - v2.0.17-rc - 2019-12-16
 * http://naver.github.io/egjs
 *
 * Forked By Naver egjs
 * Copyright (c) hammerjs
 * Licensed under the MIT license */function ii(){return ii=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},ii.apply(this,arguments)}function Bn(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}function Gh(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}var uN;typeof Object.assign!="function"?uN=function(e){if(e==null)throw new TypeError("Cannot convert undefined or null to object");for(var r=Object(e),n=1;n<arguments.length;n++){var i=arguments[n];if(i!=null)for(var s in i)i.hasOwnProperty(s)&&(r[s]=i[s])}return r}:uN=Object.assign;var xo=uN,gz=["","webkit","Moz","MS","ms","o"],Vfe=typeof document>"u"?{style:{}}:document.createElement("div"),Hfe="function",yl=Math.round,_o=Math.abs,ET=Date.now;function vm(t,e){for(var r,n,i=e[0].toUpperCase()+e.slice(1),s=0;s<gz.length;){if(r=gz[s],n=r?r+i:e,n in t)return n;s++}}var Yi;typeof window>"u"?Yi={}:Yi=window;var TG=vm(Vfe.style,"touchAction"),IG=TG!==void 0;function Kfe(){if(!IG)return!1;var t={},e=Yi.CSS&&Yi.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach(function(r){return t[r]=e?Yi.CSS.supports("touch-action",r):!0}),t}var RG="compute",jG="auto",cN="manipulation",to="none",md="pan-x",vd="pan-y",Yh=Kfe(),Gfe=/mobile|tablet|ip(ad|hone|od)|android/i,$G="ontouchstart"in Yi,Yfe=vm(Yi,"PointerEvent")!==void 0,Qfe=$G&&Gfe.test(navigator.userAgent),ph="touch",Xfe="pen",OT="mouse",Jfe="kinect",Zfe=25,qr=1,Lo=2,Dt=4,tn=8,op=1,mh=2,vh=4,gh=8,lu=16,Ei=mh|vh,ro=gh|lu,kG=Ei|ro,DG=["x","y"],lp=["clientX","clientY"];function Qi(t,e,r){var n;if(t)if(t.forEach)t.forEach(e,r);else if(t.length!==void 0)for(n=0;n<t.length;)e.call(r,t[n],n,t),n++;else for(n in t)t.hasOwnProperty(n)&&e.call(r,t[n],n,t)}function gm(t,e){return typeof t===Hfe?t.apply(e&&e[0]||void 0,e):t}function qa(t,e){return t.indexOf(e)>-1}function epe(t){if(qa(t,to))return to;var e=qa(t,md),r=qa(t,vd);return e&&r?to:e||r?e?md:vd:qa(t,cN)?cN:jG}var qG=function(){function t(r,n){this.manager=r,this.set(n)}var e=t.prototype;return e.set=function(n){n===RG&&(n=this.compute()),IG&&this.manager.element.style&&Yh[n]&&(this.manager.element.style[TG]=n),this.actions=n.toLowerCase().trim()},e.update=function(){this.set(this.manager.options.touchAction)},e.compute=function(){var n=[];return Qi(this.manager.recognizers,function(i){gm(i.options.enable,[i])&&(n=n.concat(i.getTouchAction()))}),epe(n.join(" "))},e.preventDefaults=function(n){var i=n.srcEvent,s=n.offsetDirection;if(this.manager.session.prevented){i.preventDefault();return}var a=this.actions,o=qa(a,to)&&!Yh[to],l=qa(a,vd)&&!Yh[vd],u=qa(a,md)&&!Yh[md];if(o){var d=n.pointers.length===1,h=n.distance<2,f=n.deltaTime<250;if(d&&h&&f)return}if(!(u&&l)&&(o||l&&s&Ei||u&&s&ro))return this.preventSrc(i)},e.preventSrc=function(n){this.manager.session.prevented=!0,n.preventDefault()},t}();function PT(t,e){for(;t;){if(t===e)return!0;t=t.parentNode}return!1}function MG(t){var e=t.length;if(e===1)return{x:yl(t[0].clientX),y:yl(t[0].clientY)};for(var r=0,n=0,i=0;i<e;)r+=t[i].clientX,n+=t[i].clientY,i++;return{x:yl(r/e),y:yl(n/e)}}function yz(t){for(var e=[],r=0;r<t.pointers.length;)e[r]={clientX:yl(t.pointers[r].clientX),clientY:yl(t.pointers[r].clientY)},r++;return{timeStamp:ET(),pointers:e,center:MG(e),deltaX:t.deltaX,deltaY:t.deltaY}}function up(t,e,r){r||(r=DG);var n=e[r[0]]-t[r[0]],i=e[r[1]]-t[r[1]];return Math.sqrt(n*n+i*i)}function dN(t,e,r){r||(r=DG);var n=e[r[0]]-t[r[0]],i=e[r[1]]-t[r[1]];return Math.atan2(i,n)*180/Math.PI}function AG(t,e){return t===e?op:_o(t)>=_o(e)?t<0?mh:vh:e<0?gh:lu}function tpe(t,e){var r=e.center,n=t.offsetDelta||{},i=t.prevDelta||{},s=t.prevInput||{};(e.eventType===qr||s.eventType===Dt)&&(i=t.prevDelta={x:s.deltaX||0,y:s.deltaY||0},n=t.offsetDelta={x:r.x,y:r.y}),e.deltaX=i.x+(r.x-n.x),e.deltaY=i.y+(r.y-n.y)}function FG(t,e,r){return{x:e/t||0,y:r/t||0}}function rpe(t,e){return up(e[0],e[1],lp)/up(t[0],t[1],lp)}function npe(t,e){return dN(e[1],e[0],lp)+dN(t[1],t[0],lp)}function ipe(t,e){var r=t.lastInterval||e,n=e.timeStamp-r.timeStamp,i,s,a,o;if(e.eventType!==tn&&(n>Zfe||r.velocity===void 0)){var l=e.deltaX-r.deltaX,u=e.deltaY-r.deltaY,d=FG(n,l,u);s=d.x,a=d.y,i=_o(d.x)>_o(d.y)?d.x:d.y,o=AG(l,u),t.lastInterval=e}else i=r.velocity,s=r.velocityX,a=r.velocityY,o=r.direction;e.velocity=i,e.velocityX=s,e.velocityY=a,e.direction=o}function spe(t,e){var r=t.session,n=e.pointers,i=n.length;r.firstInput||(r.firstInput=yz(e)),i>1&&!r.firstMultiple?r.firstMultiple=yz(e):i===1&&(r.firstMultiple=!1);var s=r.firstInput,a=r.firstMultiple,o=a?a.center:s.center,l=e.center=MG(n);e.timeStamp=ET(),e.deltaTime=e.timeStamp-s.timeStamp,e.angle=dN(o,l),e.distance=up(o,l),tpe(r,e),e.offsetDirection=AG(e.deltaX,e.deltaY);var u=FG(e.deltaTime,e.deltaX,e.deltaY);e.overallVelocityX=u.x,e.overallVelocityY=u.y,e.overallVelocity=_o(u.x)>_o(u.y)?u.x:u.y,e.scale=a?rpe(a.pointers,n):1,e.rotation=a?npe(a.pointers,n):0,e.maxPointers=r.prevInput?e.pointers.length>r.prevInput.maxPointers?e.pointers.length:r.prevInput.maxPointers:e.pointers.length,ipe(r,e);var d=t.element,h=e.srcEvent,f;h.composedPath?f=h.composedPath()[0]:h.path?f=h.path[0]:f=h.target,PT(f,d)&&(d=f),e.target=d}function ape(t,e,r){var n=r.pointers.length,i=r.changedPointers.length,s=e&qr&&n-i===0,a=e&(Dt|tn)&&n-i===0;r.isFirst=!!s,r.isFinal=!!a,s&&(t.session={}),r.eventType=e,spe(t,r),t.emit("hammer.input",r),t.recognize(r),t.session.prevInput=r}function gd(t){return t.trim().split(/\s+/g)}function Dc(t,e,r){Qi(gd(e),function(n){t.addEventListener(n,r,!1)})}function qc(t,e,r){Qi(gd(e),function(n){t.removeEventListener(n,r,!1)})}function bz(t){var e=t.ownerDocument||t;return e.defaultView||e.parentWindow||window}var Hu=function(){function t(r,n){var i=this;this.manager=r,this.callback=n,this.element=r.element,this.target=r.options.inputTarget,this.domHandler=function(s){gm(r.options.enable,[r])&&i.handler(s)},this.init()}var e=t.prototype;return e.handler=function(){},e.init=function(){this.evEl&&Dc(this.element,this.evEl,this.domHandler),this.evTarget&&Dc(this.target,this.evTarget,this.domHandler),this.evWin&&Dc(bz(this.element),this.evWin,this.domHandler)},e.destroy=function(){this.evEl&&qc(this.element,this.evEl,this.domHandler),this.evTarget&&qc(this.target,this.evTarget,this.domHandler),this.evWin&&qc(bz(this.element),this.evWin,this.domHandler)},t}();function So(t,e,r){if(t.indexOf&&!r)return t.indexOf(e);for(var n=0;n<t.length;){if(r&&t[n][r]==e||!r&&t[n]===e)return n;n++}return-1}var ope={pointerdown:qr,pointermove:Lo,pointerup:Dt,pointercancel:tn,pointerout:tn},lpe={2:ph,3:Xfe,4:OT,5:Jfe},LG="pointerdown",BG="pointermove pointerup pointercancel";Yi.MSPointerEvent&&!Yi.PointerEvent&&(LG="MSPointerDown",BG="MSPointerMove MSPointerUp MSPointerCancel");var zG=function(t){Bn(e,t);function e(){var n,i=e.prototype;return i.evEl=LG,i.evWin=BG,n=t.apply(this,arguments)||this,n.store=n.manager.session.pointerEvents=[],n}var r=e.prototype;return r.handler=function(i){var s=this.store,a=!1,o=i.type.toLowerCase().replace("ms",""),l=ope[o],u=lpe[i.pointerType]||i.pointerType,d=u===ph,h=So(s,i.pointerId,"pointerId");l&qr&&(i.button===0||d)?h<0&&(s.push(i),h=s.length-1):l&(Dt|tn)&&(a=!0),!(h<0)&&(s[h]=i,this.callback(this.manager,l,{pointers:s,changedPointers:[i],pointerType:u,srcEvent:i}),a&&s.splice(h,1))},e}(Hu);function yd(t){return Array.prototype.slice.call(t,0)}function NT(t,e,r){for(var n=[],i=[],s=0;s<t.length;){var a=e?t[s][e]:t[s];So(i,a)<0&&n.push(t[s]),i[s]=a,s++}return r&&(e?n=n.sort(function(o,l){return o[e]>l[e]}):n=n.sort()),n}var upe={touchstart:qr,touchmove:Lo,touchend:Dt,touchcancel:tn},cpe="touchstart touchmove touchend touchcancel",CT=function(t){Bn(e,t);function e(){var n;return e.prototype.evTarget=cpe,n=t.apply(this,arguments)||this,n.targetIds={},n}var r=e.prototype;return r.handler=function(i){var s=upe[i.type],a=dpe.call(this,i,s);a&&this.callback(this.manager,s,{pointers:a[0],changedPointers:a[1],pointerType:ph,srcEvent:i})},e}(Hu);function dpe(t,e){var r=yd(t.touches),n=this.targetIds;if(e&(qr|Lo)&&r.length===1)return n[r[0].identifier]=!0,[r,r];var i,s,a=yd(t.changedTouches),o=[],l=this.target;if(s=r.filter(function(u){return PT(u.target,l)}),e===qr)for(i=0;i<s.length;)n[s[i].identifier]=!0,i++;for(i=0;i<a.length;)n[a[i].identifier]&&o.push(a[i]),e&(Dt|tn)&&delete n[a[i].identifier],i++;if(o.length)return[NT(s.concat(o),"identifier",!0),o]}var hpe={mousedown:qr,mousemove:Lo,mouseup:Dt},fpe="mousedown",ppe="mousemove mouseup",TT=function(t){Bn(e,t);function e(){var n,i=e.prototype;return i.evEl=fpe,i.evWin=ppe,n=t.apply(this,arguments)||this,n.pressed=!1,n}var r=e.prototype;return r.handler=function(i){var s=hpe[i.type];s&qr&&i.button===0&&(this.pressed=!0),s&Lo&&i.which!==1&&(s=Dt),this.pressed&&(s&Dt&&(this.pressed=!1),this.callback(this.manager,s,{pointers:[i],changedPointers:[i],pointerType:OT,srcEvent:i}))},e}(Hu),mpe=2500,wz=25;function xz(t){var e=t.changedPointers,r=e[0];if(r.identifier===this.primaryTouch){var n={x:r.clientX,y:r.clientY},i=this.lastTouches;this.lastTouches.push(n);var s=function(){var o=i.indexOf(n);o>-1&&i.splice(o,1)};setTimeout(s,mpe)}}function vpe(t,e){t&qr?(this.primaryTouch=e.changedPointers[0].identifier,xz.call(this,e)):t&(Dt|tn)&&xz.call(this,e)}function gpe(t){for(var e=t.srcEvent.clientX,r=t.srcEvent.clientY,n=0;n<this.lastTouches.length;n++){var i=this.lastTouches[n],s=Math.abs(e-i.x),a=Math.abs(r-i.y);if(s<=wz&&a<=wz)return!0}return!1}var UG=function(){var t=function(e){Bn(r,e);function r(i,s){var a;return a=e.call(this,i,s)||this,a.handler=function(o,l,u){var d=u.pointerType===ph,h=u.pointerType===OT;if(!(h&&u.sourceCapabilities&&u.sourceCapabilities.firesTouchEvents)){if(d)vpe.call(Gh(Gh(a)),l,u);else if(h&&gpe.call(Gh(Gh(a)),u))return;a.callback(o,l,u)}},a.touch=new CT(a.manager,a.handler),a.mouse=new TT(a.manager,a.handler),a.primaryTouch=null,a.lastTouches=[],a}var n=r.prototype;return n.destroy=function(){this.touch.destroy(),this.mouse.destroy()},r}(Hu);return t}();function ype(t){var e,r=t.options.inputClass;return r?e=r:Yfe?e=zG:Qfe?e=CT:$G?e=UG:e=TT,new e(t,ape)}function bl(t,e,r){return Array.isArray(t)?(Qi(t,r[e],r),!0):!1}var gf=1,$n=2,uu=4,ea=8,Xi=ea,bd=16,bi=32,bpe=1;function wpe(){return bpe++}function Qh(t,e){var r=e.manager;return r?r.get(t):t}function _z(t){return t&bd?"cancel":t&ea?"end":t&uu?"move":t&$n?"start":""}var yh=function(){function t(r){r===void 0&&(r={}),this.options=ii({enable:!0},r),this.id=wpe(),this.manager=null,this.state=gf,this.simultaneous={},this.requireFail=[]}var e=t.prototype;return e.set=function(n){return xo(this.options,n),this.manager&&this.manager.touchAction.update(),this},e.recognizeWith=function(n){if(bl(n,"recognizeWith",this))return this;var i=this.simultaneous;return n=Qh(n,this),i[n.id]||(i[n.id]=n,n.recognizeWith(this)),this},e.dropRecognizeWith=function(n){return bl(n,"dropRecognizeWith",this)?this:(n=Qh(n,this),delete this.simultaneous[n.id],this)},e.requireFailure=function(n){if(bl(n,"requireFailure",this))return this;var i=this.requireFail;return n=Qh(n,this),So(i,n)===-1&&(i.push(n),n.requireFailure(this)),this},e.dropRequireFailure=function(n){if(bl(n,"dropRequireFailure",this))return this;n=Qh(n,this);var i=So(this.requireFail,n);return i>-1&&this.requireFail.splice(i,1),this},e.hasRequireFailures=function(){return this.requireFail.length>0},e.canRecognizeWith=function(n){return!!this.simultaneous[n.id]},e.emit=function(n){var i=this,s=this.state;function a(o){i.manager.emit(o,n)}s<ea&&a(i.options.event+_z(s)),a(i.options.event),n.additionalEvent&&a(n.additionalEvent),s>=ea&&a(i.options.event+_z(s))},e.tryEmit=function(n){if(this.canEmit())return this.emit(n);this.state=bi},e.canEmit=function(){for(var n=0;n<this.requireFail.length;){if(!(this.requireFail[n].state&(bi|gf)))return!1;n++}return!0},e.recognize=function(n){var i=xo({},n);if(!gm(this.options.enable,[this,i])){this.reset(),this.state=bi;return}this.state&(Xi|bd|bi)&&(this.state=gf),this.state=this.process(i),this.state&($n|uu|ea|bd)&&this.tryEmit(i)},e.process=function(n){},e.getTouchAction=function(){},e.reset=function(){},t}(),hN=function(t){Bn(e,t);function e(n){var i;return n===void 0&&(n={}),i=t.call(this,ii({event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},n))||this,i.pTime=!1,i.pCenter=!1,i._timer=null,i._input=null,i.count=0,i}var r=e.prototype;return r.getTouchAction=function(){return[cN]},r.process=function(i){var s=this,a=this.options,o=i.pointers.length===a.pointers,l=i.distance<a.threshold,u=i.deltaTime<a.time;if(this.reset(),i.eventType&qr&&this.count===0)return this.failTimeout();if(l&&u&&o){if(i.eventType!==Dt)return this.failTimeout();var d=this.pTime?i.timeStamp-this.pTime<a.interval:!0,h=!this.pCenter||up(this.pCenter,i.center)<a.posThreshold;this.pTime=i.timeStamp,this.pCenter=i.center,!h||!d?this.count=1:this.count+=1,this._input=i;var f=this.count%a.taps;if(f===0)return this.hasRequireFailures()?(this._timer=setTimeout(function(){s.state=Xi,s.tryEmit()},a.interval),$n):Xi}return bi},r.failTimeout=function(){var i=this;return this._timer=setTimeout(function(){i.state=bi},this.options.interval),bi},r.reset=function(){clearTimeout(this._timer)},r.emit=function(){this.state===Xi&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))},e}(yh),cu=function(t){Bn(e,t);function e(n){return n===void 0&&(n={}),t.call(this,ii({pointers:1},n))||this}var r=e.prototype;return r.attrTest=function(i){var s=this.options.pointers;return s===0||i.pointers.length===s},r.process=function(i){var s=this.state,a=i.eventType,o=s&($n|uu),l=this.attrTest(i);return o&&(a&tn||!l)?s|bd:o||l?a&Dt?s|ea:s&$n?s|uu:$n:bi},e}(yh);function WG(t){return t===lu?"down":t===gh?"up":t===mh?"left":t===vh?"right":""}var IT=function(t){Bn(e,t);function e(n){var i;return n===void 0&&(n={}),i=t.call(this,ii({event:"pan",threshold:10,pointers:1,direction:kG},n))||this,i.pX=null,i.pY=null,i}var r=e.prototype;return r.getTouchAction=function(){var i=this.options.direction,s=[];return i&Ei&&s.push(vd),i&ro&&s.push(md),s},r.directionTest=function(i){var s=this.options,a=!0,o=i.distance,l=i.direction,u=i.deltaX,d=i.deltaY;return l&s.direction||(s.direction&Ei?(l=u===0?op:u<0?mh:vh,a=u!==this.pX,o=Math.abs(i.deltaX)):(l=d===0?op:d<0?gh:lu,a=d!==this.pY,o=Math.abs(i.deltaY))),i.direction=l,a&&o>s.threshold&&l&s.direction},r.attrTest=function(i){return cu.prototype.attrTest.call(this,i)&&(this.state&$n||!(this.state&$n)&&this.directionTest(i))},r.emit=function(i){this.pX=i.deltaX,this.pY=i.deltaY;var s=WG(i.direction);s&&(i.additionalEvent=this.options.event+s),t.prototype.emit.call(this,i)},e}(cu),VG=function(t){Bn(e,t);function e(n){return n===void 0&&(n={}),t.call(this,ii({event:"swipe",threshold:10,velocity:.3,direction:Ei|ro,pointers:1},n))||this}var r=e.prototype;return r.getTouchAction=function(){return IT.prototype.getTouchAction.call(this)},r.attrTest=function(i){var s=this.options.direction,a;return s&(Ei|ro)?a=i.overallVelocity:s&Ei?a=i.overallVelocityX:s&ro&&(a=i.overallVelocityY),t.prototype.attrTest.call(this,i)&&s&i.offsetDirection&&i.distance>this.options.threshold&&i.maxPointers===this.options.pointers&&_o(a)>this.options.velocity&&i.eventType&Dt},r.emit=function(i){var s=WG(i.offsetDirection);s&&this.manager.emit(this.options.event+s,i),this.manager.emit(this.options.event,i)},e}(cu),HG=function(t){Bn(e,t);function e(n){return n===void 0&&(n={}),t.call(this,ii({event:"pinch",threshold:0,pointers:2},n))||this}var r=e.prototype;return r.getTouchAction=function(){return[to]},r.attrTest=function(i){return t.prototype.attrTest.call(this,i)&&(Math.abs(i.scale-1)>this.options.threshold||this.state&$n)},r.emit=function(i){if(i.scale!==1){var s=i.scale<1?"in":"out";i.additionalEvent=this.options.event+s}t.prototype.emit.call(this,i)},e}(cu),KG=function(t){Bn(e,t);function e(n){return n===void 0&&(n={}),t.call(this,ii({event:"rotate",threshold:0,pointers:2},n))||this}var r=e.prototype;return r.getTouchAction=function(){return[to]},r.attrTest=function(i){return t.prototype.attrTest.call(this,i)&&(Math.abs(i.rotation)>this.options.threshold||this.state&$n)},e}(cu),GG=function(t){Bn(e,t);function e(n){var i;return n===void 0&&(n={}),i=t.call(this,ii({event:"press",pointers:1,time:251,threshold:9},n))||this,i._timer=null,i._input=null,i}var r=e.prototype;return r.getTouchAction=function(){return[jG]},r.process=function(i){var s=this,a=this.options,o=i.pointers.length===a.pointers,l=i.distance<a.threshold,u=i.deltaTime>a.time;if(this._input=i,!l||!o||i.eventType&(Dt|tn)&&!u)this.reset();else if(i.eventType&qr)this.reset(),this._timer=setTimeout(function(){s.state=Xi,s.tryEmit()},a.time);else if(i.eventType&Dt)return Xi;return bi},r.reset=function(){clearTimeout(this._timer)},r.emit=function(i){this.state===Xi&&(i&&i.eventType&Dt?this.manager.emit(this.options.event+"up",i):(this._input.timeStamp=ET(),this.manager.emit(this.options.event,this._input)))},e}(yh),YG={domEvents:!1,touchAction:RG,enable:!0,inputTarget:null,inputClass:null,cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}},Sz=[[KG,{enable:!1}],[HG,{enable:!1},["rotate"]],[VG,{direction:Ei}],[IT,{direction:Ei},["swipe"]],[hN],[hN,{event:"doubletap",taps:2},["tap"]],[GG]],xpe=1,Ez=2;function Oz(t,e){var r=t.element;if(r.style){var n;Qi(t.options.cssProps,function(i,s){n=vm(r.style,s),e?(t.oldCssProps[n]=r.style[n],r.style[n]=i):r.style[n]=t.oldCssProps[n]||""}),e||(t.oldCssProps={})}}function _pe(t,e){var r=document.createEvent("Event");r.initEvent(t,!0,!0),r.gesture=e,e.target.dispatchEvent(r)}var Pz=function(){function t(r,n){var i=this;this.options=xo({},YG,n||{}),this.options.inputTarget=this.options.inputTarget||r,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=r,this.input=ype(this),this.touchAction=new qG(this,this.options.touchAction),Oz(this,!0),Qi(this.options.recognizers,function(s){var a=i.add(new s[0](s[1]));s[2]&&a.recognizeWith(s[2]),s[3]&&a.requireFailure(s[3])},this)}var e=t.prototype;return e.set=function(n){return xo(this.options,n),n.touchAction&&this.touchAction.update(),n.inputTarget&&(this.input.destroy(),this.input.target=n.inputTarget,this.input.init()),this},e.stop=function(n){this.session.stopped=n?Ez:xpe},e.recognize=function(n){var i=this.session;if(!i.stopped){this.touchAction.preventDefaults(n);var s,a=this.recognizers,o=i.curRecognizer;(!o||o&&o.state&Xi)&&(i.curRecognizer=null,o=null);for(var l=0;l<a.length;)s=a[l],i.stopped!==Ez&&(!o||s===o||s.canRecognizeWith(o))?s.recognize(n):s.reset(),!o&&s.state&($n|uu|ea)&&(i.curRecognizer=s,o=s),l++}},e.get=function(n){if(n instanceof yh)return n;for(var i=this.recognizers,s=0;s<i.length;s++)if(i[s].options.event===n)return i[s];return null},e.add=function(n){if(bl(n,"add",this))return this;var i=this.get(n.options.event);return i&&this.remove(i),this.recognizers.push(n),n.manager=this,this.touchAction.update(),n},e.remove=function(n){if(bl(n,"remove",this))return this;var i=this.get(n);if(n){var s=this.recognizers,a=So(s,i);a!==-1&&(s.splice(a,1),this.touchAction.update())}return this},e.on=function(n,i){if(n===void 0||i===void 0)return this;var s=this.handlers;return Qi(gd(n),function(a){s[a]=s[a]||[],s[a].push(i)}),this},e.off=function(n,i){if(n===void 0)return this;var s=this.handlers;return Qi(gd(n),function(a){i?s[a]&&s[a].splice(So(s[a],i),1):delete s[a]}),this},e.emit=function(n,i){this.options.domEvents&&_pe(n,i);var s=this.handlers[n]&&this.handlers[n].slice();if(!(!s||!s.length)){i.type=n,i.preventDefault=function(){i.srcEvent.preventDefault()};for(var a=0;a<s.length;)s[a](i),a++}},e.destroy=function(){this.element&&Oz(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null},t}(),Spe={touchstart:qr,touchmove:Lo,touchend:Dt,touchcancel:tn},Epe="touchstart",Ope="touchstart touchmove touchend touchcancel",Ppe=function(t){Bn(e,t);function e(){var n,i=e.prototype;return i.evTarget=Epe,i.evWin=Ope,n=t.apply(this,arguments)||this,n.started=!1,n}var r=e.prototype;return r.handler=function(i){var s=Spe[i.type];if(s===qr&&(this.started=!0),!!this.started){var a=Npe.call(this,i,s);s&(Dt|tn)&&a[0].length-a[1].length===0&&(this.started=!1),this.callback(this.manager,s,{pointers:a[0],changedPointers:a[1],pointerType:ph,srcEvent:i})}},e}(Hu);function Npe(t,e){var r=yd(t.touches),n=yd(t.changedTouches);return e&(Dt|tn)&&(r=NT(r.concat(n),"identifier",!0)),[r,n]}function QG(t,e,r){var n="DEPRECATED METHOD: "+e+`
`+r+` AT 
`;return function(){var i=new Error("get-stack-trace"),s=i&&i.stack?i.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",a=window.console&&(window.console.warn||window.console.log);return a&&a.call(window.console,n,s),t.apply(this,arguments)}}var XG=QG(function(t,e,r){for(var n=Object.keys(e),i=0;i<n.length;)(!r||r&&t[n[i]]===void 0)&&(t[n[i]]=e[n[i]]),i++;return t},"extend","Use `assign`."),Cpe=QG(function(t,e){return XG(t,e,!0)},"merge","Use `assign`.");function Tpe(t,e,r){var n=e.prototype,i;i=t.prototype=Object.create(n),i.constructor=t,i._super=n,r&&xo(i,r)}function Nz(t,e){return function(){return t.apply(e,arguments)}}var JG=function(){var t=function(r,n){return n===void 0&&(n={}),new Pz(r,ii({recognizers:Sz.concat()},n))};return t.VERSION="2.0.17-rc",t.DIRECTION_ALL=kG,t.DIRECTION_DOWN=lu,t.DIRECTION_LEFT=mh,t.DIRECTION_RIGHT=vh,t.DIRECTION_UP=gh,t.DIRECTION_HORIZONTAL=Ei,t.DIRECTION_VERTICAL=ro,t.DIRECTION_NONE=op,t.DIRECTION_DOWN=lu,t.INPUT_START=qr,t.INPUT_MOVE=Lo,t.INPUT_END=Dt,t.INPUT_CANCEL=tn,t.STATE_POSSIBLE=gf,t.STATE_BEGAN=$n,t.STATE_CHANGED=uu,t.STATE_ENDED=ea,t.STATE_RECOGNIZED=Xi,t.STATE_CANCELLED=bd,t.STATE_FAILED=bi,t.Manager=Pz,t.Input=Hu,t.TouchAction=qG,t.TouchInput=CT,t.MouseInput=TT,t.PointerEventInput=zG,t.TouchMouseInput=UG,t.SingleTouchInput=Ppe,t.Recognizer=yh,t.AttrRecognizer=cu,t.Tap=hN,t.Pan=IT,t.Swipe=VG,t.Pinch=HG,t.Rotate=KG,t.Press=GG,t.on=Dc,t.off=qc,t.each=Qi,t.merge=Cpe,t.extend=XG,t.bindFn=Nz,t.assign=xo,t.inherit=Tpe,t.bindFn=Nz,t.prefixed=vm,t.toArray=yd,t.inArray=So,t.uniqueArray=NT,t.splitStr=gd,t.boolOrFn=gm,t.hasParent=PT,t.addEventListeners=Dc,t.removeEventListeners=qc,t.defaults=xo({},YG,{preset:Sz}),t}();JG.defaults;Rde("DELETE");function ym(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return Ipe(e.length?e:[ap()])}function Ipe(t){let[e,r,n]=Rpe(t),i=1;const s=()=>{const a=2091639*e+i*23283064365386963e-26;return e=r,r=n,n=a-(i=a|0)};return s.uint32=()=>s()*4294967296,s.fract53=()=>s()+(s()*2097152|0)*11102230246251565e-32,s.algorithm="Alea",s.seed=t,s.version="0.9",s}function Rpe(){const t=jpe();let e=t(" "),r=t(" "),n=t(" ");for(let i=0;i<arguments.length;i++)e-=t(i<0||arguments.length<=i?void 0:arguments[i]),e<0&&(e+=1),r-=t(i<0||arguments.length<=i?void 0:arguments[i]),r<0&&(r+=1),n-=t(i<0||arguments.length<=i?void 0:arguments[i]),n<0&&(n+=1);return[e,r,n]}function jpe(){let t=4022871197;return function(e){const r=e.toString();for(let n=0;n<r.length;n++){t+=r.charCodeAt(n);let i=.02519603282416938*t;t=i>>>0,i-=t,i*=t,t=i>>>0,i-=t,t+=i*4294967296}return(t>>>0)*23283064365386963e-26}}function $pe(){const t=()=>{};return{on:t,off:t,destroy:t,emit:t,get(){return{set:t}}}}const RT=typeof window<"u"?window.Hammer||JG:function(){return $pe()};function wi(t){var e;this._cleanupQueue=[],this.active=!1,this._dom={container:t,overlay:document.createElement("div")},this._dom.overlay.classList.add("vis-overlay"),this._dom.container.appendChild(this._dom.overlay),this._cleanupQueue.push(()=>{this._dom.overlay.parentNode.removeChild(this._dom.overlay)});const r=RT(this._dom.overlay);r.on("tap",ee(e=this._onTapOverlay).call(e,this)),this._cleanupQueue.push(()=>{r.destroy()});const n=["tap","doubletap","press","pinch","pan","panstart","panmove","panend"];Xe(n).call(n,i=>{r.on(i,s=>{s.srcEvent.stopPropagation()})}),document&&document.body&&(this._onClick=i=>{kpe(i.target,t)||this.deactivate()},document.body.addEventListener("click",this._onClick),this._cleanupQueue.push(()=>{document.body.removeEventListener("click",this._onClick)})),this._escListener=i=>{("key"in i?i.key==="Escape":i.keyCode===27)&&this.deactivate()}}lG(wi.prototype);wi.current=null;wi.prototype.destroy=function(){this.deactivate();for(const r of Za(t=Ki(e=this._cleanupQueue).call(e,0)).call(t)){var t,e;r()}};wi.prototype.activate=function(){wi.current&&wi.current.deactivate(),wi.current=this,this.active=!0,this._dom.overlay.style.display="none",this._dom.container.classList.add("vis-active"),this.emit("change"),this.emit("activate"),document.body.addEventListener("keydown",this._escListener)};wi.prototype.deactivate=function(){this.active=!1,this._dom.overlay.style.display="block",this._dom.container.classList.remove("vis-active"),document.body.removeEventListener("keydown",this._escListener),this.emit("change"),this.emit("deactivate")};wi.prototype._onTapOverlay=function(t){this.activate(),t.srcEvent.stopPropagation()};function kpe(t,e){for(;t;){if(t===e)return!0;t=t.parentNode}return!1}const Dpe=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i,qpe=/^#?([a-f\d])([a-f\d])([a-f\d])$/i,Mpe=/^rgb\( *(1?\d{1,2}|2[0-4]\d|25[0-5]) *, *(1?\d{1,2}|2[0-4]\d|25[0-5]) *, *(1?\d{1,2}|2[0-4]\d|25[0-5]) *\)$/i,Ape=/^rgba\( *(1?\d{1,2}|2[0-4]\d|25[0-5]) *, *(1?\d{1,2}|2[0-4]\d|25[0-5]) *, *(1?\d{1,2}|2[0-4]\d|25[0-5]) *, *([01]|0?\.\d+) *\)$/i;function _s(t){if(t)for(;t.hasChildNodes()===!0;){const e=t.firstChild;e&&(_s(e),t.removeChild(e))}}function Pl(t){return t instanceof String||typeof t=="string"}function Cz(t){return typeof t=="object"&&t!==null}function Eo(t,e,r,n){let i=!1;n===!0&&(i=e[r]===null&&t[r]!==void 0),i?delete t[r]:t[r]=e[r]}function ZG(t,e){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;for(const n in t)if(e[n]!==void 0)if(e[n]===null||typeof e[n]!="object")Eo(t,e,n,r);else{const i=t[n],s=e[n];Cz(i)&&Cz(s)&&ZG(i,s,r)}}function Ku(t,e,r){let n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(Ot(r))throw new TypeError("Arrays are not supported by deepExtend");for(let i=0;i<t.length;i++){const s=t[i];if(Object.prototype.hasOwnProperty.call(r,s))if(r[s]&&r[s].constructor===Object)e[s]===void 0&&(e[s]={}),e[s].constructor===Object?tt(e[s],r[s],!1,n):Eo(e,r,s,n);else{if(Ot(r[s]))throw new TypeError("Arrays are not supported by deepExtend");Eo(e,r,s,n)}}return e}function cp(t,e,r){let n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(Ot(r))throw new TypeError("Arrays are not supported by deepExtend");for(const i in r)if(Object.prototype.hasOwnProperty.call(r,i)&&!Zs(t).call(t,i))if(r[i]&&r[i].constructor===Object)e[i]===void 0&&(e[i]={}),e[i].constructor===Object?tt(e[i],r[i]):Eo(e,r,i,n);else if(Ot(r[i])){e[i]=[];for(let s=0;s<r[i].length;s++)e[i].push(r[i][s])}else Eo(e,r,i,n);return e}function tt(t,e){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;for(const s in e)if(Object.prototype.hasOwnProperty.call(e,s)||r===!0)if(typeof e[s]=="object"&&e[s]!==null&&u3(e[s])===Object.prototype)t[s]===void 0?t[s]=tt({},e[s],r):typeof t[s]=="object"&&t[s]!==null&&u3(t[s])===Object.prototype?tt(t[s],e[s],r):Eo(t,e,s,n);else if(Ot(e[s])){var i;t[s]=gi(i=e[s]).call(i)}else Eo(t,e,s,n);return t}function dp(t,e){return[...t,e]}function Fpe(t){return gi(t).call(t)}function Lpe(t){return t.getBoundingClientRect().left}function Bpe(t){return t.getBoundingClientRect().top}function je(t,e){if(Ot(t)){const r=t.length;for(let n=0;n<r;n++)e(t[n],n,t)}else for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&e(t[r],r,t)}function jT(t){let e;switch(t.length){case 3:case 4:return e=qpe.exec(t),e?{r:Qn(e[1]+e[1],16),g:Qn(e[2]+e[2],16),b:Qn(e[3]+e[3],16)}:null;case 6:case 7:return e=Dpe.exec(t),e?{r:Qn(e[1],16),g:Qn(e[2],16),b:Qn(e[3],16)}:null;default:return null}}function Tn(t,e){if(Zs(t).call(t,"rgba"))return t;if(Zs(t).call(t,"rgb")){const r=t.substr(Ue(t).call(t,"(")+1).replace(")","").split(",");return"rgba("+r[0]+","+r[1]+","+r[2]+","+e+")"}else{const r=jT(t);return r==null?t:"rgba("+r.r+","+r.g+","+r.b+","+e+")"}}function eY(t,e,r){var n;return"#"+gi(n=((1<<24)+(t<<16)+(e<<8)+r).toString(16)).call(n,1)}function fN(t,e){if(Pl(t)){let n=t;if(rY(n)){var r;const i=ou(r=n.substr(4).substr(0,n.length-5).split(",")).call(r,function(s){return Qn(s)});n=eY(i[0],i[1],i[2])}if(tY(n)===!0){const i=zpe(n),s={h:i.h,s:i.s*.8,v:Math.min(1,i.v*1.02)},a={h:i.h,s:Math.min(1,i.s*1.25),v:i.v*.8},o=pN(a.h,a.s,a.v),l=pN(s.h,s.s,s.v);return{background:n,border:o,highlight:{background:l,border:o},hover:{background:l,border:o}}}else return{background:n,border:n,highlight:{background:n,border:n},hover:{background:n,border:n}}}else return{background:t.background||void 0,border:t.border||void 0,highlight:Pl(t.highlight)?{border:t.highlight,background:t.highlight}:{background:t.highlight&&t.highlight.background||void 0,border:t.highlight&&t.highlight.border||void 0},hover:Pl(t.hover)?{border:t.hover,background:t.hover}:{border:t.hover&&t.hover.border||void 0,background:t.hover&&t.hover.background||void 0}}}function wc(t,e,r){t=t/255,e=e/255,r=r/255;const n=Math.min(t,Math.min(e,r)),i=Math.max(t,Math.max(e,r));if(n===i)return{h:0,s:0,v:n};const s=t===n?e-r:r===n?t-e:r-t,o=60*((t===n?3:r===n?1:5)-s/(i-n))/360,l=(i-n)/i;return{h:o,s:l,v:i}}function yf(t,e,r){let n,i,s;const a=Math.floor(t*6),o=t*6-a,l=r*(1-e),u=r*(1-o*e),d=r*(1-(1-o)*e);switch(a%6){case 0:n=r,i=d,s=l;break;case 1:n=u,i=r,s=l;break;case 2:n=l,i=r,s=d;break;case 3:n=l,i=u,s=r;break;case 4:n=d,i=l,s=r;break;case 5:n=r,i=l,s=u;break}return{r:Math.floor(n*255),g:Math.floor(i*255),b:Math.floor(s*255)}}function pN(t,e,r){const n=yf(t,e,r);return eY(n.r,n.g,n.b)}function zpe(t){const e=jT(t);if(!e)throw new TypeError("'".concat(t,"' is not a valid color."));return wc(e.r,e.g,e.b)}function tY(t){return/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i.test(t)}function rY(t){return Mpe.test(t)}function Upe(t){return Ape.test(t)}function ta(t){if(t===null||typeof t!="object")return null;if(t instanceof Element)return t;const e=eo(t);for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&typeof t[r]=="object"&&(e[r]=ta(t[r]));return e}function Pn(t,e,r){let n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};const i=function(p){return p!=null},s=function(p){return p!==null&&typeof p=="object"},a=function(p){for(const m in p)if(Object.prototype.hasOwnProperty.call(p,m))return!1;return!0};if(!s(t))throw new Error("Parameter mergeTarget must be an object");if(!s(e))throw new Error("Parameter options must be an object");if(!i(r))throw new Error("Parameter option must have a value");if(!s(n))throw new Error("Parameter globalOptions must be an object");const o=function(p,m,y){s(p[y])||(p[y]={});const b=m[y],g=p[y];for(const v in b)Object.prototype.hasOwnProperty.call(b,v)&&(g[v]=b[v])},l=e[r],d=s(n)&&!a(n)?n[r]:void 0,h=d?d.enabled:void 0;if(l===void 0)return;if(typeof l=="boolean"){s(t[r])||(t[r]={}),t[r].enabled=l;return}if(l===null&&!s(t[r]))if(i(d))t[r]=eo(d);else return;if(!s(l))return;let f=!0;l.enabled!==void 0?f=l.enabled:h!==void 0&&(f=d.enabled),o(t,e,r),t[r].enabled=f}const Wpe={linear(t){return t},easeInQuad(t){return t*t},easeOutQuad(t){return t*(2-t)},easeInOutQuad(t){return t<.5?2*t*t:-1+(4-2*t)*t},easeInCubic(t){return t*t*t},easeOutCubic(t){return--t*t*t+1},easeInOutCubic(t){return t<.5?4*t*t*t:(t-1)*(2*t-2)*(2*t-2)+1},easeInQuart(t){return t*t*t*t},easeOutQuart(t){return 1- --t*t*t*t},easeInOutQuart(t){return t<.5?8*t*t*t*t:1-8*--t*t*t*t},easeInQuint(t){return t*t*t*t*t},easeOutQuint(t){return 1+--t*t*t*t*t},easeInOutQuint(t){return t<.5?16*t*t*t*t*t:1+16*--t*t*t*t*t}};function Ss(t,e){let r;Ot(e)||(e=[e]);for(const n of t)if(n){r=n[e[0]];for(let i=1;i<e.length;i++)r&&(r=r[e[i]]);if(typeof r<"u")break}return r}const Vpe={black:"#000000",navy:"#000080",darkblue:"#00008B",mediumblue:"#0000CD",blue:"#0000FF",darkgreen:"#006400",green:"#008000",teal:"#008080",darkcyan:"#008B8B",deepskyblue:"#00BFFF",darkturquoise:"#00CED1",mediumspringgreen:"#00FA9A",lime:"#00FF00",springgreen:"#00FF7F",aqua:"#00FFFF",cyan:"#00FFFF",midnightblue:"#191970",dodgerblue:"#1E90FF",lightseagreen:"#20B2AA",forestgreen:"#228B22",seagreen:"#2E8B57",darkslategray:"#2F4F4F",limegreen:"#32CD32",mediumseagreen:"#3CB371",turquoise:"#40E0D0",royalblue:"#4169E1",steelblue:"#4682B4",darkslateblue:"#483D8B",mediumturquoise:"#48D1CC",indigo:"#4B0082",darkolivegreen:"#556B2F",cadetblue:"#5F9EA0",cornflowerblue:"#6495ED",mediumaquamarine:"#66CDAA",dimgray:"#696969",slateblue:"#6A5ACD",olivedrab:"#6B8E23",slategray:"#708090",lightslategray:"#778899",mediumslateblue:"#7B68EE",lawngreen:"#7CFC00",chartreuse:"#7FFF00",aquamarine:"#7FFFD4",maroon:"#800000",purple:"#800080",olive:"#808000",gray:"#808080",skyblue:"#87CEEB",lightskyblue:"#87CEFA",blueviolet:"#8A2BE2",darkred:"#8B0000",darkmagenta:"#8B008B",saddlebrown:"#8B4513",darkseagreen:"#8FBC8F",lightgreen:"#90EE90",mediumpurple:"#9370D8",darkviolet:"#9400D3",palegreen:"#98FB98",darkorchid:"#9932CC",yellowgreen:"#9ACD32",sienna:"#A0522D",brown:"#A52A2A",darkgray:"#A9A9A9",lightblue:"#ADD8E6",greenyellow:"#ADFF2F",paleturquoise:"#AFEEEE",lightsteelblue:"#B0C4DE",powderblue:"#B0E0E6",firebrick:"#B22222",darkgoldenrod:"#B8860B",mediumorchid:"#BA55D3",rosybrown:"#BC8F8F",darkkhaki:"#BDB76B",silver:"#C0C0C0",mediumvioletred:"#C71585",indianred:"#CD5C5C",peru:"#CD853F",chocolate:"#D2691E",tan:"#D2B48C",lightgrey:"#D3D3D3",palevioletred:"#D87093",thistle:"#D8BFD8",orchid:"#DA70D6",goldenrod:"#DAA520",crimson:"#DC143C",gainsboro:"#DCDCDC",plum:"#DDA0DD",burlywood:"#DEB887",lightcyan:"#E0FFFF",lavender:"#E6E6FA",darksalmon:"#E9967A",violet:"#EE82EE",palegoldenrod:"#EEE8AA",lightcoral:"#F08080",khaki:"#F0E68C",aliceblue:"#F0F8FF",honeydew:"#F0FFF0",azure:"#F0FFFF",sandybrown:"#F4A460",wheat:"#F5DEB3",beige:"#F5F5DC",whitesmoke:"#F5F5F5",mintcream:"#F5FFFA",ghostwhite:"#F8F8FF",salmon:"#FA8072",antiquewhite:"#FAEBD7",linen:"#FAF0E6",lightgoldenrodyellow:"#FAFAD2",oldlace:"#FDF5E6",red:"#FF0000",fuchsia:"#FF00FF",magenta:"#FF00FF",deeppink:"#FF1493",orangered:"#FF4500",tomato:"#FF6347",hotpink:"#FF69B4",coral:"#FF7F50",darkorange:"#FF8C00",lightsalmon:"#FFA07A",orange:"#FFA500",lightpink:"#FFB6C1",pink:"#FFC0CB",gold:"#FFD700",peachpuff:"#FFDAB9",navajowhite:"#FFDEAD",moccasin:"#FFE4B5",bisque:"#FFE4C4",mistyrose:"#FFE4E1",blanchedalmond:"#FFEBCD",papayawhip:"#FFEFD5",lavenderblush:"#FFF0F5",seashell:"#FFF5EE",cornsilk:"#FFF8DC",lemonchiffon:"#FFFACD",floralwhite:"#FFFAF0",snow:"#FFFAFA",yellow:"#FFFF00",lightyellow:"#FFFFE0",ivory:"#FFFFF0",white:"#FFFFFF"};let Hpe=class{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1;this.pixelRatio=e,this.generated=!1,this.centerCoordinates={x:289/2,y:289/2},this.r=289*.49,this.color={r:255,g:255,b:255,a:1},this.hueCircle=void 0,this.initialColor={r:255,g:255,b:255,a:1},this.previousColor=void 0,this.applied=!1,this.updateCallback=()=>{},this.closeCallback=()=>{},this._create()}insertTo(e){this.hammer!==void 0&&(this.hammer.destroy(),this.hammer=void 0),this.container=e,this.container.appendChild(this.frame),this._bindHammer(),this._setSize()}setUpdateCallback(e){if(typeof e=="function")this.updateCallback=e;else throw new Error("Function attempted to set as colorPicker update callback is not a function.")}setCloseCallback(e){if(typeof e=="function")this.closeCallback=e;else throw new Error("Function attempted to set as colorPicker closing callback is not a function.")}_isColorString(e){if(typeof e=="string")return Vpe[e]}setColor(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(e==="none")return;let n;const i=this._isColorString(e);if(i!==void 0&&(e=i),Pl(e)===!0){if(rY(e)===!0){const s=e.substr(4).substr(0,e.length-5).split(",");n={r:s[0],g:s[1],b:s[2],a:1}}else if(Upe(e)===!0){const s=e.substr(5).substr(0,e.length-6).split(",");n={r:s[0],g:s[1],b:s[2],a:s[3]}}else if(tY(e)===!0){const s=jT(e);n={r:s.r,g:s.g,b:s.b,a:1}}}else if(e instanceof Object&&e.r!==void 0&&e.g!==void 0&&e.b!==void 0){const s=e.a!==void 0?e.a:"1.0";n={r:e.r,g:e.g,b:e.b,a:s}}if(n===void 0)throw new Error("Unknown color passed to the colorPicker. Supported are strings: rgb, hex, rgba. Object: rgb ({r:r,g:g,b:b,[a:a]}). Supplied: "+hh(e));this._setColor(n,r)}show(){this.closeCallback!==void 0&&(this.closeCallback(),this.closeCallback=void 0),this.applied=!1,this.frame.style.display="block",this._generateHueCircle()}_hide(){(arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0)===!0&&(this.previousColor=kt({},this.color)),this.applied===!0&&this.updateCallback(this.initialColor),this.frame.style.display="none",Gi(()=>{this.closeCallback!==void 0&&(this.closeCallback(),this.closeCallback=void 0)},0)}_save(){this.updateCallback(this.color),this.applied=!1,this._hide()}_apply(){this.applied=!0,this.updateCallback(this.color),this._updatePicker(this.color)}_loadLast(){this.previousColor!==void 0?this.setColor(this.previousColor,!1):alert("There is no last color to load...")}_setColor(e){(arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0)===!0&&(this.initialColor=kt({},e)),this.color=e;const n=wc(e.r,e.g,e.b),i=2*Math.PI,s=this.r*n.s,a=this.centerCoordinates.x+s*Math.sin(i*n.h),o=this.centerCoordinates.y+s*Math.cos(i*n.h);this.colorPickerSelector.style.left=a-.5*this.colorPickerSelector.clientWidth+"px",this.colorPickerSelector.style.top=o-.5*this.colorPickerSelector.clientHeight+"px",this._updatePicker(e)}_setOpacity(e){this.color.a=e/100,this._updatePicker(this.color)}_setBrightness(e){const r=wc(this.color.r,this.color.g,this.color.b);r.v=e/100;const n=yf(r.h,r.s,r.v);n.a=this.color.a,this.color=n,this._updatePicker()}_updatePicker(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.color;const r=wc(e.r,e.g,e.b),n=this.colorPickerCanvas.getContext("2d");this.pixelRation===void 0&&(this.pixelRatio=(window.devicePixelRatio||1)/(n.webkitBackingStorePixelRatio||n.mozBackingStorePixelRatio||n.msBackingStorePixelRatio||n.oBackingStorePixelRatio||n.backingStorePixelRatio||1)),n.setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0);const i=this.colorPickerCanvas.clientWidth,s=this.colorPickerCanvas.clientHeight;n.clearRect(0,0,i,s),n.putImageData(this.hueCircle,0,0),n.fillStyle="rgba(0,0,0,"+(1-r.v)+")",n.circle(this.centerCoordinates.x,this.centerCoordinates.y,this.r),fh(n).call(n),this.brightnessRange.value=100*r.v,this.opacityRange.value=100*e.a,this.initialColorDiv.style.backgroundColor="rgba("+this.initialColor.r+","+this.initialColor.g+","+this.initialColor.b+","+this.initialColor.a+")",this.newColorDiv.style.backgroundColor="rgba("+this.color.r+","+this.color.g+","+this.color.b+","+this.color.a+")"}_setSize(){this.colorPickerCanvas.style.width="100%",this.colorPickerCanvas.style.height="100%",this.colorPickerCanvas.width=289*this.pixelRatio,this.colorPickerCanvas.height=289*this.pixelRatio}_create(){var e,r,n,i;if(this.frame=document.createElement("div"),this.frame.className="vis-color-picker",this.colorPickerDiv=document.createElement("div"),this.colorPickerSelector=document.createElement("div"),this.colorPickerSelector.className="vis-selector",this.colorPickerDiv.appendChild(this.colorPickerSelector),this.colorPickerCanvas=document.createElement("canvas"),this.colorPickerDiv.appendChild(this.colorPickerCanvas),this.colorPickerCanvas.getContext){const a=this.colorPickerCanvas.getContext("2d");this.pixelRatio=(window.devicePixelRatio||1)/(a.webkitBackingStorePixelRatio||a.mozBackingStorePixelRatio||a.msBackingStorePixelRatio||a.oBackingStorePixelRatio||a.backingStorePixelRatio||1),this.colorPickerCanvas.getContext("2d").setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0)}else{const a=document.createElement("DIV");a.style.color="red",a.style.fontWeight="bold",a.style.padding="10px",a.innerText="Error: your browser does not support HTML canvas",this.colorPickerCanvas.appendChild(a)}this.colorPickerDiv.className="vis-color",this.opacityDiv=document.createElement("div"),this.opacityDiv.className="vis-opacity",this.brightnessDiv=document.createElement("div"),this.brightnessDiv.className="vis-brightness",this.arrowDiv=document.createElement("div"),this.arrowDiv.className="vis-arrow",this.opacityRange=document.createElement("input");try{this.opacityRange.type="range",this.opacityRange.min="0",this.opacityRange.max="100"}catch{}this.opacityRange.value="100",this.opacityRange.className="vis-range",this.brightnessRange=document.createElement("input");try{this.brightnessRange.type="range",this.brightnessRange.min="0",this.brightnessRange.max="100"}catch{}this.brightnessRange.value="100",this.brightnessRange.className="vis-range",this.opacityDiv.appendChild(this.opacityRange),this.brightnessDiv.appendChild(this.brightnessRange);const s=this;this.opacityRange.onchange=function(){s._setOpacity(this.value)},this.opacityRange.oninput=function(){s._setOpacity(this.value)},this.brightnessRange.onchange=function(){s._setBrightness(this.value)},this.brightnessRange.oninput=function(){s._setBrightness(this.value)},this.brightnessLabel=document.createElement("div"),this.brightnessLabel.className="vis-label vis-brightness",this.brightnessLabel.innerText="brightness:",this.opacityLabel=document.createElement("div"),this.opacityLabel.className="vis-label vis-opacity",this.opacityLabel.innerText="opacity:",this.newColorDiv=document.createElement("div"),this.newColorDiv.className="vis-new-color",this.newColorDiv.innerText="new",this.initialColorDiv=document.createElement("div"),this.initialColorDiv.className="vis-initial-color",this.initialColorDiv.innerText="initial",this.cancelButton=document.createElement("div"),this.cancelButton.className="vis-button vis-cancel",this.cancelButton.innerText="cancel",this.cancelButton.onclick=ee(e=this._hide).call(e,this,!1),this.applyButton=document.createElement("div"),this.applyButton.className="vis-button vis-apply",this.applyButton.innerText="apply",this.applyButton.onclick=ee(r=this._apply).call(r,this),this.saveButton=document.createElement("div"),this.saveButton.className="vis-button vis-save",this.saveButton.innerText="save",this.saveButton.onclick=ee(n=this._save).call(n,this),this.loadButton=document.createElement("div"),this.loadButton.className="vis-button vis-load",this.loadButton.innerText="load last",this.loadButton.onclick=ee(i=this._loadLast).call(i,this),this.frame.appendChild(this.colorPickerDiv),this.frame.appendChild(this.arrowDiv),this.frame.appendChild(this.brightnessLabel),this.frame.appendChild(this.brightnessDiv),this.frame.appendChild(this.opacityLabel),this.frame.appendChild(this.opacityDiv),this.frame.appendChild(this.newColorDiv),this.frame.appendChild(this.initialColorDiv),this.frame.appendChild(this.cancelButton),this.frame.appendChild(this.applyButton),this.frame.appendChild(this.saveButton),this.frame.appendChild(this.loadButton)}_bindHammer(){this.drag={},this.pinch={},this.hammer=new RT(this.colorPickerCanvas),this.hammer.get("pinch").set({enable:!0}),this.hammer.on("hammer.input",e=>{e.isFirst&&this._moveSelector(e)}),this.hammer.on("tap",e=>{this._moveSelector(e)}),this.hammer.on("panstart",e=>{this._moveSelector(e)}),this.hammer.on("panmove",e=>{this._moveSelector(e)}),this.hammer.on("panend",e=>{this._moveSelector(e)})}_generateHueCircle(){if(this.generated===!1){const e=this.colorPickerCanvas.getContext("2d");this.pixelRation===void 0&&(this.pixelRatio=(window.devicePixelRatio||1)/(e.webkitBackingStorePixelRatio||e.mozBackingStorePixelRatio||e.msBackingStorePixelRatio||e.oBackingStorePixelRatio||e.backingStorePixelRatio||1)),e.setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0);const r=this.colorPickerCanvas.clientWidth,n=this.colorPickerCanvas.clientHeight;e.clearRect(0,0,r,n);let i,s,a,o;this.centerCoordinates={x:r*.5,y:n*.5},this.r=.49*r;const l=2*Math.PI/360,u=1/360,d=1/this.r;let h;for(a=0;a<360;a++)for(o=0;o<this.r;o++)i=this.centerCoordinates.x+o*Math.sin(l*a),s=this.centerCoordinates.y+o*Math.cos(l*a),h=yf(a*u,o*d,1),e.fillStyle="rgb("+h.r+","+h.g+","+h.b+")",e.fillRect(i-.5,s-.5,2,2);e.strokeStyle="rgba(0,0,0,1)",e.circle(this.centerCoordinates.x,this.centerCoordinates.y,this.r),e.stroke(),this.hueCircle=e.getImageData(0,0,r,n)}this.generated=!0}_moveSelector(e){const r=this.colorPickerDiv.getBoundingClientRect(),n=e.center.x-r.left,i=e.center.y-r.top,s=.5*this.colorPickerDiv.clientHeight,a=.5*this.colorPickerDiv.clientWidth,o=n-a,l=i-s,u=Math.atan2(o,l),d=.98*Math.min(Math.sqrt(o*o+l*l),a),h=Math.cos(u)*d+s,f=Math.sin(u)*d+a;this.colorPickerSelector.style.top=h-.5*this.colorPickerSelector.clientHeight+"px",this.colorPickerSelector.style.left=f-.5*this.colorPickerSelector.clientWidth+"px";let p=u/(2*Math.PI);p=p<0?p+1:p;const m=d/this.r,y=wc(this.color.r,this.color.g,this.color.b);y.h=p,y.s=m;const b=yf(y.h,y.s,y.v);b.a=this.color.a,this.color=b,this.initialColorDiv.style.backgroundColor="rgba("+this.initialColor.r+","+this.initialColor.g+","+this.initialColor.b+","+this.initialColor.a+")",this.newColorDiv.style.backgroundColor="rgba("+this.color.r+","+this.color.g+","+this.color.b+","+this.color.a+")"}};function mN(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];if(e.length<1)throw new TypeError("Invalid arguments.");if(e.length===1)return document.createTextNode(e[0]);{const n=document.createElement(e[0]);return n.appendChild(mN(...gi(e).call(e,1))),n}}let Kpe=class{constructor(e,r,n){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:1,s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:()=>!1;this.parent=e,this.changedOptions=[],this.container=r,this.allowCreation=!1,this.hideOption=s,this.options={},this.initialized=!1,this.popupCounter=0,this.defaultOptions={enabled:!1,filter:!0,container:void 0,showButton:!0},kt(this.options,this.defaultOptions),this.configureOptions=n,this.moduleOptions={},this.domElements=[],this.popupDiv={},this.popupLimit=5,this.popupHistory={},this.colorPicker=new Hpe(i),this.wrapper=void 0}setOptions(e){if(e!==void 0){this.popupHistory={},this._removePopup();let r=!0;if(typeof e=="string")this.options.filter=e;else if(Ot(e))this.options.filter=e.join();else if(typeof e=="object"){if(e==null)throw new TypeError("options cannot be null");e.container!==void 0&&(this.options.container=e.container),Kr(e)!==void 0&&(this.options.filter=Kr(e)),e.showButton!==void 0&&(this.options.showButton=e.showButton),e.enabled!==void 0&&(r=e.enabled)}else typeof e=="boolean"?(this.options.filter=!0,r=e):typeof e=="function"&&(this.options.filter=e,r=!0);Kr(this.options)===!1&&(r=!1),this.options.enabled=r}this._clean()}setModuleOptions(e){this.moduleOptions=e,this.options.enabled===!0&&(this._clean(),this.options.container!==void 0&&(this.container=this.options.container),this._create())}_create(){this._clean(),this.changedOptions=[];const e=Kr(this.options);let r=0,n=!1;for(const i in this.configureOptions)Object.prototype.hasOwnProperty.call(this.configureOptions,i)&&(this.allowCreation=!1,n=!1,typeof e=="function"?(n=e(i,[]),n=n||this._handleObject(this.configureOptions[i],[i],!0)):(e===!0||Ue(e).call(e,i)!==-1)&&(n=!0),n!==!1&&(this.allowCreation=!0,r>0&&this._makeItem([]),this._makeHeader(i),this._handleObject(this.configureOptions[i],[i])),r++);this._makeButton(),this._push()}_push(){this.wrapper=document.createElement("div"),this.wrapper.className="vis-configuration-wrapper",this.container.appendChild(this.wrapper);for(let e=0;e<this.domElements.length;e++)this.wrapper.appendChild(this.domElements[e]);this._showPopupIfNeeded()}_clean(){for(let e=0;e<this.domElements.length;e++)this.wrapper.removeChild(this.domElements[e]);this.wrapper!==void 0&&(this.container.removeChild(this.wrapper),this.wrapper=void 0),this.domElements=[],this._removePopup()}_getValue(e){let r=this.moduleOptions;for(let n=0;n<e.length;n++)if(r[e[n]]!==void 0)r=r[e[n]];else{r=void 0;break}return r}_makeItem(e){if(this.allowCreation===!0){const s=document.createElement("div");s.className="vis-configuration vis-config-item vis-config-s"+e.length;for(var r=arguments.length,n=new Array(r>1?r-1:0),i=1;i<r;i++)n[i-1]=arguments[i];return Xe(n).call(n,a=>{s.appendChild(a)}),this.domElements.push(s),this.domElements.length}return 0}_makeHeader(e){const r=document.createElement("div");r.className="vis-configuration vis-config-header",r.innerText=e,this._makeItem([],r)}_makeLabel(e,r){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;const i=document.createElement("div");if(i.className="vis-configuration vis-config-label vis-config-s"+r.length,n===!0){for(;i.firstChild;)i.removeChild(i.firstChild);i.appendChild(mN("i","b",e))}else i.innerText=e+":";return i}_makeDropdown(e,r,n){const i=document.createElement("select");i.className="vis-configuration vis-config-select";let s=0;r!==void 0&&Ue(e).call(e,r)!==-1&&(s=Ue(e).call(e,r));for(let l=0;l<e.length;l++){const u=document.createElement("option");u.value=e[l],l===s&&(u.selected="selected"),u.innerText=e[l],i.appendChild(u)}const a=this;i.onchange=function(){a._update(this.value,n)};const o=this._makeLabel(n[n.length-1],n);this._makeItem(n,o,i)}_makeRange(e,r,n){const i=e[0],s=e[1],a=e[2],o=e[3],l=document.createElement("input");l.className="vis-configuration vis-config-range";try{l.type="range",l.min=s,l.max=a}catch{}l.step=o;let u="",d=0;r!==void 0?(r<0&&r*1.2<s?(l.min=Math.ceil(r*1.2),d=l.min,u="range increased"):r/1.2<s&&(l.min=Math.ceil(r/1.2),d=l.min,u="range increased"),r*1.2>a&&a!==1&&(l.max=Math.ceil(r*1.2),d=l.max,u="range increased"),l.value=r):l.value=i;const h=document.createElement("input");h.className="vis-configuration vis-config-rangeinput",h.value=l.value;const f=this;l.onchange=function(){h.value=this.value,f._update(Number(this.value),n)},l.oninput=function(){h.value=this.value};const p=this._makeLabel(n[n.length-1],n),m=this._makeItem(n,p,l,h);u!==""&&this.popupHistory[m]!==d&&(this.popupHistory[m]=d,this._setupPopup(u,m))}_makeButton(){if(this.options.showButton===!0){const e=document.createElement("div");e.className="vis-configuration vis-config-button",e.innerText="generate options",e.onclick=()=>{this._printOptions()},e.onmouseover=()=>{e.className="vis-configuration vis-config-button hover"},e.onmouseout=()=>{e.className="vis-configuration vis-config-button"},this.optionsContainer=document.createElement("div"),this.optionsContainer.className="vis-configuration vis-config-option-container",this.domElements.push(this.optionsContainer),this.domElements.push(e)}}_setupPopup(e,r){if(this.initialized===!0&&this.allowCreation===!0&&this.popupCounter<this.popupLimit){const n=document.createElement("div");n.id="vis-configuration-popup",n.className="vis-configuration-popup",n.innerText=e,n.onclick=()=>{this._removePopup()},this.popupCounter+=1,this.popupDiv={html:n,index:r}}}_removePopup(){this.popupDiv.html!==void 0&&(this.popupDiv.html.parentNode.removeChild(this.popupDiv.html),clearTimeout(this.popupDiv.hideTimeout),clearTimeout(this.popupDiv.deleteTimeout),this.popupDiv={})}_showPopupIfNeeded(){if(this.popupDiv.html!==void 0){const r=this.domElements[this.popupDiv.index].getBoundingClientRect();this.popupDiv.html.style.left=r.left+"px",this.popupDiv.html.style.top=r.top-30+"px",document.body.appendChild(this.popupDiv.html),this.popupDiv.hideTimeout=Gi(()=>{this.popupDiv.html.style.opacity=0},1500),this.popupDiv.deleteTimeout=Gi(()=>{this._removePopup()},1800)}}_makeCheckbox(e,r,n){const i=document.createElement("input");i.type="checkbox",i.className="vis-configuration vis-config-checkbox",i.checked=e,r!==void 0&&(i.checked=r,r!==e&&(typeof e=="object"?r!==e.enabled&&this.changedOptions.push({path:n,value:r}):this.changedOptions.push({path:n,value:r})));const s=this;i.onchange=function(){s._update(this.checked,n)};const a=this._makeLabel(n[n.length-1],n);this._makeItem(n,a,i)}_makeTextInput(e,r,n){const i=document.createElement("input");i.type="text",i.className="vis-configuration vis-config-text",i.value=r,r!==e&&this.changedOptions.push({path:n,value:r});const s=this;i.onchange=function(){s._update(this.value,n)};const a=this._makeLabel(n[n.length-1],n);this._makeItem(n,a,i)}_makeColorField(e,r,n){const i=e[1],s=document.createElement("div");r=r===void 0?i:r,r!=="none"?(s.className="vis-configuration vis-config-colorBlock",s.style.backgroundColor=r):s.className="vis-configuration vis-config-colorBlock none",r=r===void 0?i:r,s.onclick=()=>{this._showColorPicker(r,s,n)};const a=this._makeLabel(n[n.length-1],n);this._makeItem(n,a,s)}_showColorPicker(e,r,n){r.onclick=function(){},this.colorPicker.insertTo(r),this.colorPicker.show(),this.colorPicker.setColor(e),this.colorPicker.setUpdateCallback(i=>{const s="rgba("+i.r+","+i.g+","+i.b+","+i.a+")";r.style.backgroundColor=s,this._update(s,n)}),this.colorPicker.setCloseCallback(()=>{r.onclick=()=>{this._showColorPicker(e,r,n)}})}_handleObject(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,i=!1;const s=Kr(this.options);let a=!1;for(const o in e)if(Object.prototype.hasOwnProperty.call(e,o)){i=!0;const l=e[o],u=dp(r,o);if(typeof s=="function"&&(i=s(o,r),i===!1&&!Ot(l)&&typeof l!="string"&&typeof l!="boolean"&&l instanceof Object&&(this.allowCreation=!1,i=this._handleObject(l,u,!0),this.allowCreation=n===!1)),i!==!1){a=!0;const d=this._getValue(u);if(Ot(l))this._handleArray(l,d,u);else if(typeof l=="string")this._makeTextInput(l,d,u);else if(typeof l=="boolean")this._makeCheckbox(l,d,u);else if(l instanceof Object){if(!this.hideOption(r,o,this.moduleOptions))if(l.enabled!==void 0){const h=dp(u,"enabled"),f=this._getValue(h);if(f===!0){const p=this._makeLabel(o,u,!0);this._makeItem(u,p),a=this._handleObject(l,u)||a}else this._makeCheckbox(l,f,u)}else{const h=this._makeLabel(o,u,!0);this._makeItem(u,h),a=this._handleObject(l,u)||a}}else console.error("dont know how to handle",l,o,u)}}return a}_handleArray(e,r,n){typeof e[0]=="string"&&e[0]==="color"?(this._makeColorField(e,r,n),e[1]!==r&&this.changedOptions.push({path:n,value:r})):typeof e[0]=="string"?(this._makeDropdown(e,r,n),e[0]!==r&&this.changedOptions.push({path:n,value:r})):typeof e[0]=="number"&&(this._makeRange(e,r,n),e[0]!==r&&this.changedOptions.push({path:n,value:Number(r)}))}_update(e,r){const n=this._constructOptions(e,r);this.parent.body&&this.parent.body.emitter&&this.parent.body.emitter.emit&&this.parent.body.emitter.emit("configChange",n),this.initialized=!0,this.parent.setOptions(n)}_constructOptions(e,r){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},i=n;e=e==="true"?!0:e,e=e==="false"?!1:e;for(let s=0;s<r.length;s++)r[s]!=="global"&&(i[r[s]]===void 0&&(i[r[s]]={}),s!==r.length-1?i=i[r[s]]:i[r[s]]=e);return n}_printOptions(){const e=this.getOptions();for(;this.optionsContainer.firstChild;)this.optionsContainer.removeChild(this.optionsContainer.firstChild);this.optionsContainer.appendChild(mN("pre","const options = "+hh(e,null,2)))}getOptions(){const e={};for(let r=0;r<this.changedOptions.length;r++)this._constructOptions(this.changedOptions[r].value,this.changedOptions[r].path,e);return e}},Gpe=class{constructor(e,r){this.container=e,this.overflowMethod=r||"cap",this.x=0,this.y=0,this.padding=5,this.hidden=!1,this.frame=document.createElement("div"),this.frame.className="vis-tooltip",this.container.appendChild(this.frame)}setPosition(e,r){this.x=Qn(e),this.y=Qn(r)}setText(e){if(e instanceof Element){for(;this.frame.firstChild;)this.frame.removeChild(this.frame.firstChild);this.frame.appendChild(e)}else this.frame.innerText=e}show(e){if(e===void 0&&(e=!0),e===!0){const r=this.frame.clientHeight,n=this.frame.clientWidth,i=this.frame.parentNode.clientHeight,s=this.frame.parentNode.clientWidth;let a=0,o=0;if(this.overflowMethod=="flip"){let l=!1,u=!0;this.y-r<this.padding&&(u=!1),this.x+n>s-this.padding&&(l=!0),l?a=this.x-n:a=this.x,u?o=this.y-r:o=this.y}else o=this.y-r,o+r+this.padding>i&&(o=i-r-this.padding),o<this.padding&&(o=this.padding),a=this.x,a+n+this.padding>s&&(a=s-n-this.padding),a<this.padding&&(a=this.padding);this.frame.style.left=a+"px",this.frame.style.top=o+"px",this.frame.style.visibility="visible",this.hidden=!1}else this.hide()}hide(){this.hidden=!0,this.frame.style.left="0",this.frame.style.top="0",this.frame.style.visibility="hidden"}destroy(){this.frame.parentNode.removeChild(this.frame)}},hc=!1,Tz;const vN="background: #FFeeee; color: #dd0000";let Ype=class yt{static validate(e,r,n){hc=!1,Tz=r;let i=r;return n!==void 0&&(i=r[n]),yt.parse(e,i,[]),hc}static parse(e,r,n){for(const i in e)Object.prototype.hasOwnProperty.call(e,i)&&yt.check(i,e,r,n)}static check(e,r,n,i){if(n[e]===void 0&&n.__any__===void 0){yt.getSuggestion(e,n,i);return}let s=e,a=!0;n[e]===void 0&&n.__any__!==void 0&&(s="__any__",a=yt.getType(r[e])==="object");let o=n[s];a&&o.__type__!==void 0&&(o=o.__type__),yt.checkFields(e,r,n,s,o,i)}static checkFields(e,r,n,i,s,a){const o=function(d){console.error("%c"+d+yt.printLocation(a,e),vN)},l=yt.getType(r[e]),u=s[l];u!==void 0?yt.getType(u)==="array"&&Ue(u).call(u,r[e])===-1?(o('Invalid option detected in "'+e+'". Allowed values are:'+yt.print(u)+' not "'+r[e]+'". '),hc=!0):l==="object"&&i!=="__any__"&&(a=dp(a,e),yt.parse(r[e],n[i],a)):s.any===void 0&&(o('Invalid type received for "'+e+'". Expected: '+yt.print(xt(s))+". Received ["+l+'] "'+r[e]+'"'),hc=!0)}static getType(e){const r=typeof e;return r==="object"?e===null?"null":e instanceof Boolean?"boolean":e instanceof Number?"number":e instanceof String?"string":Ot(e)?"array":e instanceof Date?"date":e.nodeType!==void 0?"dom":e._isAMomentObject===!0?"moment":"object":r==="number"?"number":r==="boolean"?"boolean":r==="string"?"string":r===void 0?"undefined":r}static getSuggestion(e,r,n){const i=yt.findInOptions(e,r,n,!1),s=yt.findInOptions(e,Tz,[],!0),a=8,o=4;let l;i.indexMatch!==void 0?l=" in "+yt.printLocation(i.path,e,"")+'Perhaps it was incomplete? Did you mean: "'+i.indexMatch+`"?

`:s.distance<=o&&i.distance>s.distance?l=" in "+yt.printLocation(i.path,e,"")+"Perhaps it was misplaced? Matching option found at: "+yt.printLocation(s.path,s.closestMatch,""):i.distance<=a?l='. Did you mean "'+i.closestMatch+'"?'+yt.printLocation(i.path,e):l=". Did you mean one of these: "+yt.print(xt(r))+yt.printLocation(n,e),console.error('%cUnknown option detected: "'+e+'"'+l,vN),hc=!0}static findInOptions(e,r,n){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1,s=1e9,a="",o=[];const l=e.toLowerCase();let u;for(const h in r){let f;if(r[h].__type__!==void 0&&i===!0){const p=yt.findInOptions(e,r[h],dp(n,h));s>p.distance&&(a=p.closestMatch,o=p.path,s=p.distance,u=p.indexMatch)}else{var d;Ue(d=h.toLowerCase()).call(d,l)!==-1&&(u=h),f=yt.levenshteinDistance(e,h),s>f&&(a=h,o=Fpe(n),s=f)}}return{closestMatch:a,path:o,distance:s,indexMatch:u}}static printLocation(e,r){let i=`

`+(arguments.length>2&&arguments[2]!==void 0?arguments[2]:`Problem value found at: 
`)+`options = {
`;for(let s=0;s<e.length;s++){for(let a=0;a<s+1;a++)i+="  ";i+=e[s]+`: {
`}for(let s=0;s<e.length+1;s++)i+="  ";i+=r+`
`;for(let s=0;s<e.length+1;s++){for(let a=0;a<e.length-s;a++)i+="  ";i+=`}
`}return i+`

`}static print(e){return hh(e).replace(/(")|(\[)|(\])|(,"__type__")/g,"").replace(/(,)/g,", ")}static levenshteinDistance(e,r){if(e.length===0)return r.length;if(r.length===0)return e.length;const n=[];let i;for(i=0;i<=r.length;i++)n[i]=[i];let s;for(s=0;s<=e.length;s++)n[0][s]=s;for(i=1;i<=r.length;i++)for(s=1;s<=e.length;s++)r.charAt(i-1)==e.charAt(s-1)?n[i][s]=n[i-1][s-1]:n[i][s]=Math.min(n[i-1][s-1]+1,Math.min(n[i][s-1]+1,n[i-1][s]+1));return n[r.length][e.length]}};const Qpe=wi,Xpe=Kpe,Nl=RT,Jpe=Gpe,nY=vN,Zpe=Ype;function eme(t){return Ls=t,ime()}var iY={fontsize:"font.size",fontcolor:"font.color",labelfontcolor:"font.color",fontname:"font.face",color:["color.border","color.background"],fillcolor:"color.background",tooltip:"title",labeltooltip:"title"},$T=eo(iY);$T.color="color.color";$T.style="dashes";var Ir={NULL:0,DELIMITER:1,IDENTIFIER:2,UNKNOWN:3},Iz={"{":!0,"}":!0,"[":!0,"]":!0,";":!0,"=":!0,",":!0,"->":!0,"--":!0},Ls="",du=0,Ie="",xe="",Vr=Ir.NULL;function tme(){du=0,Ie=Ls.charAt(0)}function Qt(){du++,Ie=Ls.charAt(du)}function Zo(){return Ls.charAt(du+1)}function Rz(t){var e=t.charCodeAt(0);return e<47?e===35||e===46:e<59?e>47:e<91?e>64:e<96?e===95:e<123?e>96:!1}function oa(t,e){if(t||(t={}),e)for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);return t}function rme(t,e,r){for(var n=e.split("."),i=t;n.length;){var s=n.shift();n.length?(i[s]||(i[s]={}),i=i[s]):i[s]=r}}function sY(t,e){for(var r,n,i=null,s=[t],a=t;a.parent;)s.push(a.parent),a=a.parent;if(a.nodes){for(r=0,n=a.nodes.length;r<n;r++)if(e.id===a.nodes[r].id){i=a.nodes[r];break}}for(i||(i={id:e.id},t.node&&(i.attr=oa(i.attr,t.node))),r=s.length-1;r>=0;r--){var o,l=s[r];l.nodes||(l.nodes=[]),Ue(o=l.nodes).call(o,i)===-1&&l.nodes.push(i)}e.attr&&(i.attr=oa(i.attr,e.attr))}function nme(t,e){if(t.edges||(t.edges=[]),t.edges.push(e),t.edge){var r=oa({},t.edge);e.attr=oa(r,e.attr)}}function aY(t,e,r,n,i){var s={from:e,to:r,type:n};return t.edge&&(s.attr=oa({},t.edge)),s.attr=oa(s.attr||{},i),i!=null&&i.hasOwnProperty("arrows")&&i.arrows!=null&&(s.arrows={to:{enabled:!0,type:i.arrows.type}},i.arrows=null),s}function rt(){for(Vr=Ir.NULL,xe="";Ie===" "||Ie==="	"||Ie===`
`||Ie==="\r";)Qt();do{var t=!1;if(Ie==="#"){for(var e=du-1;Ls.charAt(e)===" "||Ls.charAt(e)==="	";)e--;if(Ls.charAt(e)===`
`||Ls.charAt(e)===""){for(;Ie!=""&&Ie!=`
`;)Qt();t=!0}}if(Ie==="/"&&Zo()==="/"){for(;Ie!=""&&Ie!=`
`;)Qt();t=!0}if(Ie==="/"&&Zo()==="*"){for(;Ie!="";)if(Ie==="*"&&Zo()==="/"){Qt(),Qt();break}else Qt();t=!0}for(;Ie===" "||Ie==="	"||Ie===`
`||Ie==="\r";)Qt()}while(t);if(Ie===""){Vr=Ir.DELIMITER;return}var r=Ie+Zo();if(Iz[r]){Vr=Ir.DELIMITER,xe=r,Qt(),Qt();return}if(Iz[Ie]){Vr=Ir.DELIMITER,xe=Ie,Qt();return}if(Rz(Ie)||Ie==="-"){for(xe+=Ie,Qt();Rz(Ie);)xe+=Ie,Qt();xe==="false"?xe=!1:xe==="true"?xe=!0:isNaN(Number(xe))||(xe=Number(xe)),Vr=Ir.IDENTIFIER;return}if(Ie==='"'){for(Qt();Ie!=""&&(Ie!='"'||Ie==='"'&&Zo()==='"');)Ie==='"'?(xe+=Ie,Qt()):Ie==="\\"&&Zo()==="n"?(xe+=`
`,Qt()):xe+=Ie,Qt();if(Ie!='"')throw Rr('End of string " expected');Qt(),Vr=Ir.IDENTIFIER;return}for(Vr=Ir.UNKNOWN;Ie!="";)xe+=Ie,Qt();throw new SyntaxError('Syntax error in part "'+cY(xe,30)+'"')}function ime(){var t={};if(tme(),rt(),xe==="strict"&&(t.strict=!0,rt()),(xe==="graph"||xe==="digraph")&&(t.type=xe,rt()),Vr===Ir.IDENTIFIER&&(t.id=xe,rt()),xe!="{")throw Rr("Angle bracket { expected");if(rt(),oY(t),xe!="}")throw Rr("Angle bracket } expected");if(rt(),xe!=="")throw Rr("End of file expected");return rt(),delete t.node,delete t.edge,delete t.graph,t}function oY(t){for(;xe!==""&&xe!="}";)sme(t),xe===";"&&rt()}function sme(t){var e=lY(t);if(e){uY(t,e);return}var r=ame(t);if(!r){if(Vr!=Ir.IDENTIFIER)throw Rr("Identifier expected");var n=xe;if(rt(),xe==="="){if(rt(),Vr!=Ir.IDENTIFIER)throw Rr("Identifier expected");t[n]=xe,rt()}else ome(t,n)}}function lY(t){var e=null;if(xe==="subgraph"&&(e={},e.type="subgraph",rt(),Vr===Ir.IDENTIFIER&&(e.id=xe,rt())),xe==="{"){if(rt(),e||(e={}),e.parent=t,e.node=t.node,e.edge=t.edge,e.graph=t.graph,oY(e),xe!="}")throw Rr("Angle bracket } expected");rt(),delete e.node,delete e.edge,delete e.graph,delete e.parent,t.subgraphs||(t.subgraphs=[]),t.subgraphs.push(e)}return e}function ame(t){return xe==="node"?(rt(),t.node=Mc(),"node"):xe==="edge"?(rt(),t.edge=Mc(),"edge"):xe==="graph"?(rt(),t.graph=Mc(),"graph"):null}function ome(t,e){var r={id:e},n=Mc();n&&(r.attr=n),sY(t,r),uY(t,e)}function uY(t,e){for(;xe==="->"||xe==="--";){var r,n=xe;rt();var i=lY(t);if(i)r=i;else{if(Vr!=Ir.IDENTIFIER)throw Rr("Identifier or subgraph expected");r=xe,sY(t,{id:r}),rt()}var s=Mc(),a=aY(t,e,r,n,s);nme(t,a),e=r}}function Mc(){for(var t,e=null,r={dashed:!0,solid:!1,dotted:[1,5]},n={dot:"circle",box:"box",crow:"crow",curve:"curve",icurve:"inv_curve",normal:"triangle",inv:"inv_triangle",diamond:"diamond",tee:"bar",vee:"vee"},i=new Array,s=new Array;xe==="[";){for(rt(),e={};xe!==""&&xe!="]";){if(Vr!=Ir.IDENTIFIER)throw Rr("Attribute name expected");var a=xe;if(rt(),xe!="=")throw Rr("Equal sign = expected");if(rt(),Vr!=Ir.IDENTIFIER)throw Rr("Attribute value expected");var o=xe;a==="style"&&(o=r[o]);var l;a==="arrowhead"&&(l=n[o],a="arrows",o={to:{enabled:!0,type:l}}),a==="arrowtail"&&(l=n[o],a="arrows",o={from:{enabled:!0,type:l}}),i.push({attr:e,name:a,value:o}),s.push(a),rt(),xe==","&&rt()}if(xe!="]")throw Rr("Bracket ] expected");rt()}if(Zs(s).call(s,"dir")){var u={};for(u.arrows={},t=0;t<i.length;t++)if(i[t].name==="arrows")if(i[t].value.to!=null)u.arrows.to=t;else if(i[t].value.from!=null)u.arrows.from=t;else throw Rr("Invalid value of arrows");else i[t].name==="dir"&&(u.dir=t);var d=i[u.dir].value;if(!Zs(s).call(s,"arrows"))if(d==="both")i.push({attr:i[u.dir].attr,name:"arrows",value:{to:{enabled:!0}}}),u.arrows.to=i.length-1,i.push({attr:i[u.dir].attr,name:"arrows",value:{from:{enabled:!0}}}),u.arrows.from=i.length-1;else if(d==="forward")i.push({attr:i[u.dir].attr,name:"arrows",value:{to:{enabled:!0}}}),u.arrows.to=i.length-1;else if(d==="back")i.push({attr:i[u.dir].attr,name:"arrows",value:{from:{enabled:!0}}}),u.arrows.from=i.length-1;else if(d==="none")i.push({attr:i[u.dir].attr,name:"arrows",value:""}),u.arrows.to=i.length-1;else throw Rr('Invalid dir type "'+d+'"');var h,f;if(d==="both")u.arrows.to&&u.arrows.from?(f=i[u.arrows.to].value.to.type,h=i[u.arrows.from].value.from.type,i[u.arrows.to]={attr:i[u.arrows.to].attr,name:i[u.arrows.to].name,value:{to:{enabled:!0,type:f},from:{enabled:!0,type:h}}},Ki(i).call(i,u.arrows.from,1)):u.arrows.to?(f=i[u.arrows.to].value.to.type,h="arrow",i[u.arrows.to]={attr:i[u.arrows.to].attr,name:i[u.arrows.to].name,value:{to:{enabled:!0,type:f},from:{enabled:!0,type:h}}}):u.arrows.from&&(f="arrow",h=i[u.arrows.from].value.from.type,i[u.arrows.from]={attr:i[u.arrows.from].attr,name:i[u.arrows.from].name,value:{to:{enabled:!0,type:f},from:{enabled:!0,type:h}}});else if(d==="back")u.arrows.to&&u.arrows.from?(f="",h=i[u.arrows.from].value.from.type,i[u.arrows.from]={attr:i[u.arrows.from].attr,name:i[u.arrows.from].name,value:{to:{enabled:!0,type:f},from:{enabled:!0,type:h}}}):u.arrows.to?(f="",h="arrow",u.arrows.from=u.arrows.to,i[u.arrows.from]={attr:i[u.arrows.from].attr,name:i[u.arrows.from].name,value:{to:{enabled:!0,type:f},from:{enabled:!0,type:h}}}):u.arrows.from&&(f="",h=i[u.arrows.from].value.from.type,i[u.arrows.to]={attr:i[u.arrows.from].attr,name:i[u.arrows.from].name,value:{to:{enabled:!0,type:f},from:{enabled:!0,type:h}}}),i[u.arrows.from]={attr:i[u.arrows.from].attr,name:i[u.arrows.from].name,value:{from:{enabled:!0,type:i[u.arrows.from].value.from.type}}};else if(d==="none"){var p;u.arrows.to?p=u.arrows.to:p=u.arrows.from,i[p]={attr:i[p].attr,name:i[p].name,value:""}}else if(d==="forward")u.arrows.to&&u.arrows.from?(f=i[u.arrows.to].value.to.type,h="",i[u.arrows.to]={attr:i[u.arrows.to].attr,name:i[u.arrows.to].name,value:{to:{enabled:!0,type:f},from:{enabled:!0,type:h}}}):u.arrows.to?(f=i[u.arrows.to].value.to.type,h="",i[u.arrows.to]={attr:i[u.arrows.to].attr,name:i[u.arrows.to].name,value:{to:{enabled:!0,type:f},from:{enabled:!0,type:h}}}):u.arrows.from&&(f="arrow",h="",u.arrows.to=u.arrows.from,i[u.arrows.to]={attr:i[u.arrows.to].attr,name:i[u.arrows.to].name,value:{to:{enabled:!0,type:f},from:{enabled:!0,type:h}}}),i[u.arrows.to]={attr:i[u.arrows.to].attr,name:i[u.arrows.to].name,value:{to:{enabled:!0,type:i[u.arrows.to].value.to.type}}};else throw Rr('Invalid dir type "'+d+'"');Ki(i).call(i,u.dir,1)}var m;if(Zs(s).call(s,"penwidth")){var y=[];for(m=i.length,t=0;t<m;t++)i[t].name!=="width"&&(i[t].name==="penwidth"&&(i[t].name="width"),y.push(i[t]));i=y}for(m=i.length,t=0;t<m;t++)rme(i[t].attr,i[t].name,i[t].value);return e}function Rr(t){return new SyntaxError(t+', got "'+cY(xe,30)+'" (char '+du+")")}function cY(t,e){return t.length<=e?t:t.substr(0,27)+"..."}function lme(t,e,r){Ot(t)?Xe(t).call(t,function(n){Ot(e)?Xe(e).call(e,function(i){r(n,i)}):r(n,e)}):Ot(e)?Xe(e).call(e,function(n){r(t,n)}):r(t,e)}function uS(t,e,r){for(var n=e.split("."),i=n.pop(),s=t,a=0;a<n.length;a++){var o=n[a];o in s||(s[o]={}),s=s[o]}return s[i]=r,t}function jz(t,e){var r={};for(var n in t)if(t.hasOwnProperty(n)){var i=e[n];Ot(i)?Xe(i).call(i,function(s){uS(r,s,t[n])}):typeof i=="string"?uS(r,i,t[n]):uS(r,n,t[n])}return r}function ume(t){var e=eme(t),r={nodes:[],edges:[],options:{}};if(e.nodes){var n;Xe(n=e.nodes).call(n,function(a){var o={id:a.id,label:String(a.label||a.id)};oa(o,jz(a.attr,iY)),o.image&&(o.shape="image"),r.nodes.push(o)})}if(e.edges){var i,s=function(a){var o={from:a.from,to:a.to};return oa(o,jz(a.attr,$T)),o.arrows==null&&a.type==="->"&&(o.arrows="to"),o};Xe(i=e.edges).call(i,function(a){var o,l;if(a.from instanceof Object?o=a.from.nodes:o={id:a.from},a.to instanceof Object?l=a.to.nodes:l={id:a.to},a.from instanceof Object&&a.from.edges){var u;Xe(u=a.from.edges).call(u,function(h){var f=s(h);r.edges.push(f)})}if(lme(o,l,function(h,f){var p=aY(r,h.id,f.id,a.type,a.attr),m=s(p);r.edges.push(m)}),a.to instanceof Object&&a.to.edges){var d;Xe(d=a.to.edges).call(d,function(h){var f=s(h);r.edges.push(f)})}})}return e.attr&&(r.options=e.attr),r}function cme(t,e){var r;const n={edges:{inheritColor:!1},nodes:{fixed:!1,parseColor:!1}};e!=null&&(e.fixed!=null&&(n.nodes.fixed=e.fixed),e.parseColor!=null&&(n.nodes.parseColor=e.parseColor),e.inheritColor!=null&&(n.edges.inheritColor=e.inheritColor));const i=t.edges,s=ou(i).call(i,o=>{const l={from:o.source,id:o.id,to:o.target};return o.attributes!=null&&(l.attributes=o.attributes),o.label!=null&&(l.label=o.label),o.attributes!=null&&o.attributes.title!=null&&(l.title=o.attributes.title),o.type==="Directed"&&(l.arrows="to"),o.color&&n.edges.inheritColor===!1&&(l.color=o.color),l});return{nodes:ou(r=t.nodes).call(r,o=>{const l={id:o.id,fixed:n.nodes.fixed&&o.x!=null&&o.y!=null};return o.attributes!=null&&(l.attributes=o.attributes),o.label!=null&&(l.label=o.label),o.size!=null&&(l.size=o.size),o.attributes!=null&&o.attributes.title!=null&&(l.title=o.attributes.title),o.title!=null&&(l.title=o.title),o.x!=null&&(l.x=o.x),o.y!=null&&(l.y=o.y),o.color!=null&&(n.nodes.parseColor===!0?l.color=o.color:l.color={background:o.color,border:o.color,highlight:{background:o.color,border:o.color},hover:{background:o.color,border:o.color}}),l}),edges:s}}const dme={addDescription:"Click in an empty space to place a new node.",addEdge:"Add Edge",addNode:"Add Node",back:"Back",close:"Close",createEdgeError:"Cannot link edges to a cluster.",del:"Delete selected",deleteClusterError:"Clusters cannot be deleted.",edgeDescription:"Click on a node and drag the edge to another node to connect them.",edit:"Edit",editClusterError:"Clusters cannot be edited.",editEdge:"Edit Edge",editEdgeDescription:"Click on the control points and drag them to a node to connect to it.",editNode:"Edit Node"},hme={addDescription:"Klicke auf eine freie Stelle, um einen neuen Knoten zu plazieren.",addEdge:"Kante hinzufgen",addNode:"Knoten hinzufgen",back:"Zurck",close:"Schlieen",createEdgeError:"Es ist nicht mglich, Kanten mit Clustern zu verbinden.",del:"Lsche Auswahl",deleteClusterError:"Cluster knnen nicht gelscht werden.",edgeDescription:"Klicke auf einen Knoten und ziehe die Kante zu einem anderen Knoten, um diese zu verbinden.",edit:"Editieren",editClusterError:"Cluster knnen nicht editiert werden.",editEdge:"Kante editieren",editEdgeDescription:"Klicke auf die Verbindungspunkte und ziehe diese auf einen Knoten, um sie zu verbinden.",editNode:"Knoten editieren"},fme={addDescription:"Haga clic en un lugar vaco para colocar un nuevo nodo.",addEdge:"Aadir arista",addNode:"Aadir nodo",back:"Atrs",close:"Cerrar",createEdgeError:"No se puede conectar una arista a un grupo.",del:"Eliminar seleccin",deleteClusterError:"No es posible eliminar grupos.",edgeDescription:"Haga clic en un nodo y arrastre la arista hacia otro nodo para conectarlos.",edit:"Editar",editClusterError:"No es posible editar grupos.",editEdge:"Editar arista",editEdgeDescription:"Haga clic en un punto de control y arrastrelo a un nodo para conectarlo.",editNode:"Editar nodo"},pme={addDescription:"Clicca per aggiungere un nuovo nodo",addEdge:"Aggiungi un vertice",addNode:"Aggiungi un nodo",back:"Indietro",close:"Chiudere",createEdgeError:"Non si possono collegare vertici ad un cluster",del:"Cancella la selezione",deleteClusterError:"I cluster non possono essere cancellati",edgeDescription:"Clicca su un nodo e trascinalo ad un altro nodo per connetterli.",edit:"Modifica",editClusterError:"I clusters non possono essere modificati.",editEdge:"Modifica il vertice",editEdgeDescription:"Clicca sui Punti di controllo e trascinali ad un nodo per connetterli.",editNode:"Modifica il nodo"},mme={addDescription:"Klik op een leeg gebied om een nieuwe node te maken.",addEdge:"Link toevoegen",addNode:"Node toevoegen",back:"Terug",close:"Sluiten",createEdgeError:"Kan geen link maken naar een cluster.",del:"Selectie verwijderen",deleteClusterError:"Clusters kunnen niet worden verwijderd.",edgeDescription:"Klik op een node en sleep de link naar een andere node om ze te verbinden.",edit:"Wijzigen",editClusterError:"Clusters kunnen niet worden aangepast.",editEdge:"Link wijzigen",editEdgeDescription:"Klik op de verbindingspunten en sleep ze naar een node om daarmee te verbinden.",editNode:"Node wijzigen"},vme={addDescription:"Clique em um espao em branco para adicionar um novo n",addEdge:"Adicionar aresta",addNode:"Adicionar n",back:"Voltar",close:"Fechar",createEdgeError:"No foi possvel linkar arestas a um cluster.",del:"Remover selecionado",deleteClusterError:"Clusters no puderam ser removidos.",edgeDescription:"Clique em um n e arraste a aresta at outro n para conect-los",edit:"Editar",editClusterError:"Clusters no puderam ser editados.",editEdge:"Editar aresta",editEdgeDescription:"Clique nos pontos de controle e os arraste para um n para conect-los",editNode:"Editar n"},gme={addDescription:"   ,    .",addEdge:" ",addNode:" ",back:"",close:"",createEdgeError:"    .",del:" ",deleteClusterError:"    ",edgeDescription:"        ,   .",edit:"",editClusterError:"   .",editEdge:" ",editEdgeDescription:"        ,    .",editNode:" "},yme={addDescription:"",addEdge:"",addNode:"",back:"",close:"",createEdgeError:"",del:"",deleteClusterError:"",edgeDescription:"",edit:"",editClusterError:"",editEdge:"",editEdgeDescription:"",editNode:""},bme={addDescription:"K   ,    .",addEdge:" ",addNode:" ",back:"",close:"",createEdgeError:"  '   .",del:" ",deleteClusterError:"    .",edgeDescription:"        ,   '.",edit:"",editClusterError:"   .",editEdge:" ",editEdgeDescription:"        ,    .",editNode:" "},wme={addDescription:"Cliquez dans un endroit vide pour placer un nud.",addEdge:"Ajouter un lien",addNode:"Ajouter un nud",back:"Retour",close:"Fermer",createEdgeError:"Impossible de crer un lien vers un cluster.",del:"Effacer la slection",deleteClusterError:"Les clusters ne peuvent pas tre effacs.",edgeDescription:"Cliquez sur un nud et glissez le lien vers un autre nud pour les connecter.",edit:"diter",editClusterError:"Les clusters ne peuvent pas tre dits.",editEdge:"diter le lien",editEdgeDescription:"Cliquez sur les points de contrle et glissez-les pour connecter un nud.",editNode:"diter le nud"},xme={addDescription:"Kluknutm do przdnho prostoru mete pidat nov vrchol.",addEdge:"Pidat hranu",addNode:"Pidat vrchol",back:"Zpt",close:"Zavt",createEdgeError:"Nelze pipojit hranu ke shluku.",del:"Smazat vbr",deleteClusterError:"Nelze mazat shluky.",edgeDescription:"Petaenm z jednoho vrcholu do druhho mete spojit tyto vrcholy novou hranou.",edit:"Upravit",editClusterError:"Nelze upravovat shluky.",editEdge:"Upravit hranu",editEdgeDescription:"Petaenm kontrolnho vrcholu hrany ji mete pipojit k jinmu vrcholu.",editNode:"Upravit vrchol"};var _me=Object.freeze({__proto__:null,cn:yme,cs:xme,de:hme,en:dme,es:fme,fr:wme,it:pme,nl:mme,pt:vme,ru:gme,uk:bme});function Sme(t,e){try{const[n,i]=e.split(/[-_ /]/,2),s=n!=null?n.toLowerCase():null,a=i!=null?i.toUpperCase():null;if(s&&a){const o=s+"-"+a;if(Object.prototype.hasOwnProperty.call(t,o))return o;var r;console.warn(Khe(r="Unknown variant ".concat(a," of language ")).call(r,s,"."))}if(s){const o=s;if(Object.prototype.hasOwnProperty.call(t,o))return o;console.warn("Unknown language ".concat(s))}return console.warn("Unknown locale ".concat(e,", falling back to English.")),"en"}catch(n){return console.error(n),console.warn("Unexpected error while normalizing locale ".concat(e,", falling back to English.")),"en"}}class Eme{constructor(){this.NUM_ITERATIONS=4,this.image=new Image,this.canvas=document.createElement("canvas")}init(){if(this.initialized())return;this.src=this.image.src;const e=this.image.width,r=this.image.height;this.width=e,this.height=r;const n=Math.floor(r/2),i=Math.floor(r/4),s=Math.floor(r/8),a=Math.floor(r/16),o=Math.floor(e/2),l=Math.floor(e/4),u=Math.floor(e/8),d=Math.floor(e/16);this.canvas.width=3*l,this.canvas.height=n,this.coordinates=[[0,0,o,n],[o,0,l,i],[o,i,u,s],[5*u,i,d,a]],this._fillMipMap()}initialized(){return this.coordinates!==void 0}_fillMipMap(){const e=this.canvas.getContext("2d"),r=this.coordinates[0];e.drawImage(this.image,r[0],r[1],r[2],r[3]);for(let n=1;n<this.NUM_ITERATIONS;n++){const i=this.coordinates[n-1],s=this.coordinates[n];e.drawImage(this.canvas,i[0],i[1],i[2],i[3],s[0],s[1],s[2],s[3])}}drawImageAtPosition(e,r,n,i,s,a){if(this.initialized())if(r>2){r*=.5;let o=0;for(;r>2&&o<this.NUM_ITERATIONS;)r*=.5,o+=1;o>=this.NUM_ITERATIONS&&(o=this.NUM_ITERATIONS-1);const l=this.coordinates[o];e.drawImage(this.canvas,l[0],l[1],l[2],l[3],n,i,s,a)}else e.drawImage(this.image,n,i,s,a)}}class Ome{constructor(e){this.images={},this.imageBroken={},this.callback=e}_tryloadBrokenUrl(e,r,n){if(!(e===void 0||n===void 0)){if(r===void 0){console.warn("No broken url image defined");return}n.image.onerror=()=>{console.error("Could not load brokenImage:",r)},n.image.src=r}}_redrawWithImage(e){this.callback&&this.callback(e)}load(e,r){const n=this.images[e];if(n)return n;const i=new Eme;return this.images[e]=i,i.image.onload=()=>{this._fixImageCoordinates(i.image),i.init(),this._redrawWithImage(i)},i.image.onerror=()=>{console.error("Could not load image:",e),this._tryloadBrokenUrl(e,r,i)},i.image.src=e,i}_fixImageCoordinates(e){e.width===0&&(document.body.appendChild(e),e.width=e.offsetWidth,e.height=e.offsetHeight,document.body.removeChild(e))}}var $z={},kz={},cS={exports:{}},dS,Dz;function Pme(){if(Dz)return dS;Dz=1;var t=De();return dS=t(function(){if(typeof ArrayBuffer=="function"){var e=new ArrayBuffer(8);Object.isExtensible(e)&&Object.defineProperty(e,"a",{value:8})}}),dS}var hS,qz;function Nme(){if(qz)return hS;qz=1;var t=De(),e=sr(),r=Pi(),n=Pme(),i=Object.isExtensible,s=t(function(){});return hS=s||n?function(o){return!e(o)||n&&r(o)==="ArrayBuffer"?!1:i?i(o):!0}:i,hS}var fS,Mz;function dY(){if(Mz)return fS;Mz=1;var t=De();return fS=!t(function(){return Object.isExtensible(Object.preventExtensions({}))}),fS}var Az;function bm(){if(Az)return cS.exports;Az=1;var t=be(),e=Fe(),r=oh(),n=sr(),i=mr(),s=Fn().f,a=fm(),o=yT(),l=Nme(),u=am(),d=dY(),h=!1,f=u("meta"),p=0,m=function(w){s(w,f,{value:{objectID:"O"+p++,weakData:{}}})},y=function(w,_){if(!n(w))return typeof w=="symbol"?w:(typeof w=="string"?"S":"P")+w;if(!i(w,f)){if(!l(w))return"F";if(!_)return"E";m(w)}return w[f].objectID},b=function(w,_){if(!i(w,f)){if(!l(w))return!0;if(!_)return!1;m(w)}return w[f].weakData},g=function(w){return d&&h&&l(w)&&!i(w,f)&&m(w),w},v=function(){x.enable=function(){},h=!0;var w=a.f,_=e([].splice),E={};E[f]=1,w(E).length&&(a.f=function(O){for(var S=w(O),P=0,N=S.length;P<N;P++)if(S[P]===f){_(S,P,1);break}return S},t({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:o.f}))},x=cS.exports={enable:v,fastKey:y,getWeakData:b,onFreeze:g};return r[f]=!0,cS.exports}var pS,Fz;function Cme(){if(Fz)return pS;Fz=1;var t=Ft(),e=zu(),r=t("iterator"),n=Array.prototype;return pS=function(i){return i!==void 0&&(e.Array===i||n[r]===i)},pS}var mS,Lz;function hY(){if(Lz)return mS;Lz=1;var t=Bu(),e=uT(),r=ju(),n=zu(),i=Ft(),s=i("iterator");return mS=function(a){if(!r(a))return e(a,s)||e(a,"@@iterator")||n[t(a)]},mS}var vS,Bz;function Tme(){if(Bz)return vS;Bz=1;var t=an(),e=fs(),r=Ni(),n=Du(),i=hY(),s=TypeError;return vS=function(a,o){var l=arguments.length<2?i(a):o;if(e(l))return r(t(l,a));throw new s(n(a)+" is not iterable")},vS}var gS,zz;function kT(){if(zz)return gS;zz=1;var t=an(),e=Ni(),r=uT();return gS=function(n,i,s){var a,o;e(n);try{if(a=r(n,"return"),!a){if(i==="throw")throw s;return s}a=t(a,n)}catch(l){o=!0,a=l}if(i==="throw")throw s;if(o)throw a;return e(a),s},gS}var yS,Uz;function wm(){if(Uz)return yS;Uz=1;var t=lm(),e=an(),r=Ni(),n=Du(),i=Cme(),s=ps(),a=At(),o=Tme(),l=hY(),u=kT(),d=TypeError,h=function(p,m){this.stopped=p,this.result=m},f=h.prototype;return yS=function(p,m,y){var b=y&&y.that,g=!!(y&&y.AS_ENTRIES),v=!!(y&&y.IS_RECORD),x=!!(y&&y.IS_ITERATOR),w=!!(y&&y.INTERRUPTED),_=t(m,b),E,O,S,P,N,I,C,T=function(U){return E&&u(E,"normal"),new h(!0,U)},q=function(U){return g?(r(U),w?_(U[0],U[1],T):_(U[0],U[1])):w?_(U,T):_(U)};if(v)E=p.iterator;else if(x)E=p;else{if(O=l(p),!O)throw new d(n(p)+" is not iterable");if(i(O)){for(S=0,P=s(p);P>S;S++)if(N=q(p[S]),N&&a(f,N))return N;return new h(!1)}E=o(p,O)}for(I=v?p.next:E.next;!(C=e(I,E)).done;){try{N=q(C.value)}catch(U){u(E,"throw",U)}if(typeof N=="object"&&N&&a(f,N))return N}return new h(!1)},yS}var bS,Wz;function DT(){if(Wz)return bS;Wz=1;var t=At(),e=TypeError;return bS=function(r,n){if(t(n,r))return r;throw new e("Incorrect invocation")},bS}var wS,Vz;function qT(){if(Vz)return wS;Vz=1;var t=be(),e=ct(),r=bm(),n=De(),i=Au(),s=wm(),a=DT(),o=ir(),l=sr(),u=ju(),d=Ao(),h=Fn().f,f=ya().forEach,p=Tt(),m=Fo(),y=m.set,b=m.getterFor;return wS=function(g,v,x){var w=g.indexOf("Map")!==-1,_=g.indexOf("Weak")!==-1,E=w?"set":"add",O=e[g],S=O&&O.prototype,P={},N;if(!p||!o(O)||!(_||S.forEach&&!n(function(){new O().entries().next()})))N=x.getConstructor(v,g,w,E),r.enable();else{N=v(function(T,q){y(a(T,I),{type:g,collection:new O}),u(q)||s(q,T[E],{that:T,AS_ENTRIES:w})});var I=N.prototype,C=b(g);f(["add","clear","delete","forEach","get","has","set","keys","values","entries"],function(T){var q=T==="add"||T==="set";T in S&&!(_&&T==="clear")&&i(I,T,function(U,re){var Y=C(this).collection;if(!q&&_&&!l(U))return T==="get"?void 0:!1;var L=Y[T](U===0?0:U,re);return q?this:L})}),_||h(I,"size",{configurable:!0,get:function(){return C(this).collection.size}})}return d(N,g,!1,!0),P[g]=N,t({global:!0,forced:!0},P),_||x.setStrong(N,g,w),N},wS}var xS,Hz;function MT(){if(Hz)return xS;Hz=1;var t=dh();return xS=function(e,r,n){for(var i in r)n&&n.unsafe&&e[i]?e[i]=r[i]:t(e,i,r[i],n);return e},xS}var _S,Kz;function Ime(){if(Kz)return _S;Kz=1;var t=wn(),e=bT(),r=Ft(),n=Tt(),i=r("species");return _S=function(s){var a=t(s);n&&a&&!a[i]&&e(a,i,{configurable:!0,get:function(){return this}})},_S}var SS,Gz;function fY(){if(Gz)return SS;Gz=1;var t=ch(),e=bT(),r=MT(),n=lm(),i=DT(),s=ju(),a=wm(),o=xT(),l=_T(),u=Ime(),d=Tt(),h=bm().fastKey,f=Fo(),p=f.set,m=f.getterFor;return SS={getConstructor:function(y,b,g,v){var x=y(function(S,P){i(S,w),p(S,{type:b,index:t(null),first:null,last:null,size:0}),d||(S.size=0),s(P)||a(P,S[v],{that:S,AS_ENTRIES:g})}),w=x.prototype,_=m(b),E=function(S,P,N){var I=_(S),C=O(S,P),T,q;return C?C.value=N:(I.last=C={index:q=h(P,!0),key:P,value:N,previous:T=I.last,next:null,removed:!1},I.first||(I.first=C),T&&(T.next=C),d?I.size++:S.size++,q!=="F"&&(I.index[q]=C)),S},O=function(S,P){var N=_(S),I=h(P),C;if(I!=="F")return N.index[I];for(C=N.first;C;C=C.next)if(C.key===P)return C};return r(w,{clear:function(){for(var P=this,N=_(P),I=N.first;I;)I.removed=!0,I.previous&&(I.previous=I.previous.next=null),I=I.next;N.first=N.last=null,N.index=t(null),d?N.size=0:P.size=0},delete:function(S){var P=this,N=_(P),I=O(P,S);if(I){var C=I.next,T=I.previous;delete N.index[I.index],I.removed=!0,T&&(T.next=C),C&&(C.previous=T),N.first===I&&(N.first=C),N.last===I&&(N.last=T),d?N.size--:P.size--}return!!I},forEach:function(P){for(var N=_(this),I=n(P,arguments.length>1?arguments[1]:void 0),C;C=C?C.next:N.first;)for(I(C.value,C.key,this);C&&C.removed;)C=C.previous},has:function(P){return!!O(this,P)}}),r(w,g?{get:function(P){var N=O(this,P);return N&&N.value},set:function(P,N){return E(this,P===0?0:P,N)}}:{add:function(P){return E(this,P=P===0?0:P,P)}}),d&&e(w,"size",{configurable:!0,get:function(){return _(this).size}}),x},setStrong:function(y,b,g){var v=b+" Iterator",x=m(b),w=m(v);o(y,b,function(_,E){p(this,{type:v,target:_,state:x(_),kind:E,last:null})},function(){for(var _=w(this),E=_.kind,O=_.last;O&&O.removed;)O=O.previous;return!_.target||!(_.last=O=O?O.next:_.state.first)?(_.target=null,l(void 0,!0)):l(E==="keys"?O.key:E==="values"?O.value:[O.key,O.value],!1)},g?"entries":"values",!g,!0),u(b)}},SS}var Yz;function Rme(){if(Yz)return kz;Yz=1;var t=qT(),e=fY();return t("Map",function(r){return function(){return r(this,arguments.length?arguments[0]:void 0)}},e),kz}var Qz;function jme(){return Qz||(Qz=1,Rme()),$z}var Xz={},ES,Jz;function pY(){return Jz||(Jz=1,ES=function(t,e){return e===1?function(r,n){return r[t](n)}:function(r,n,i){return r[t](n,i)}}),ES}var OS,Zz;function $me(){if(Zz)return OS;Zz=1;var t=wn(),e=pY(),r=t("Map");return OS={Map:r,set:e("set",2),get:e("get",1),has:e("has",1),remove:e("delete",1),proto:r.prototype},OS}var e6;function kme(){if(e6)return Xz;e6=1;var t=be(),e=Fe(),r=fs(),n=hs(),i=wm(),s=$me(),a=qu(),o=De(),l=s.Map,u=s.has,d=s.get,h=s.set,f=e([].push),p=a||o(function(){return l.groupBy("ab",function(m){return m}).get("a").length!==1});return t({target:"Map",stat:!0,forced:a||p},{groupBy:function(y,b){n(y),r(b);var g=new l,v=0;return i(y,function(x){var w=b(x,v++);u(g,w)?f(d(g,w),x):h(g,w,[x])}),g}}),Xz}var t6={},PS,r6;function Dme(){if(r6)return PS;r6=1;var t=Fe(),e=Fu(),r=Ln(),n=hs(),i=t("".charAt),s=t("".charCodeAt),a=t("".slice),o=function(l){return function(u,d){var h=r(n(u)),f=e(d),p=h.length,m,y;return f<0||f>=p?l?"":void 0:(m=s(h,f),m<55296||m>56319||f+1===p||(y=s(h,f+1))<56320||y>57343?l?i(h,f):m:l?a(h,f,f+2):(m-55296<<10)+(y-56320)+65536)}};return PS={codeAt:o(!1),charAt:o(!0)},PS}var n6;function AT(){if(n6)return t6;n6=1;var t=Dme().charAt,e=Ln(),r=Fo(),n=xT(),i=_T(),s="String Iterator",a=r.set,o=r.getterFor(s);return n(String,"String",function(l){a(this,{type:s,string:e(l),index:0})},function(){var u=o(this),d=u.string,h=u.index,f;return h>=d.length?i(void 0,!0):(f=t(d,h),u.index+=f.length,i(f,!1))}),t6}var NS,i6;function qme(){if(i6)return NS;i6=1,Uu(),jme(),kme(),AT();var t=He();return NS=t.Map,NS}var CS,s6;function Mme(){if(s6)return CS;s6=1;var t=qme();return Wu(),CS=t,CS}var TS,a6;function Ame(){return a6||(a6=1,TS=Mme()),TS}var Fme=Ame(),FT=Ee(Fme);class Lme{constructor(){this.clear(),this._defaultIndex=0,this._groupIndex=0,this._defaultGroups=[{border:"#2B7CE9",background:"#97C2FC",highlight:{border:"#2B7CE9",background:"#D2E5FF"},hover:{border:"#2B7CE9",background:"#D2E5FF"}},{border:"#FFA500",background:"#FFFF00",highlight:{border:"#FFA500",background:"#FFFFA3"},hover:{border:"#FFA500",background:"#FFFFA3"}},{border:"#FA0A10",background:"#FB7E81",highlight:{border:"#FA0A10",background:"#FFAFB1"},hover:{border:"#FA0A10",background:"#FFAFB1"}},{border:"#41A906",background:"#7BE141",highlight:{border:"#41A906",background:"#A1EC76"},hover:{border:"#41A906",background:"#A1EC76"}},{border:"#E129F0",background:"#EB7DF4",highlight:{border:"#E129F0",background:"#F0B3F5"},hover:{border:"#E129F0",background:"#F0B3F5"}},{border:"#7C29F0",background:"#AD85E4",highlight:{border:"#7C29F0",background:"#D3BDF0"},hover:{border:"#7C29F0",background:"#D3BDF0"}},{border:"#C37F00",background:"#FFA807",highlight:{border:"#C37F00",background:"#FFCA66"},hover:{border:"#C37F00",background:"#FFCA66"}},{border:"#4220FB",background:"#6E6EFD",highlight:{border:"#4220FB",background:"#9B9BFD"},hover:{border:"#4220FB",background:"#9B9BFD"}},{border:"#FD5A77",background:"#FFC0CB",highlight:{border:"#FD5A77",background:"#FFD1D9"},hover:{border:"#FD5A77",background:"#FFD1D9"}},{border:"#4AD63A",background:"#C2FABC",highlight:{border:"#4AD63A",background:"#E6FFE3"},hover:{border:"#4AD63A",background:"#E6FFE3"}},{border:"#990000",background:"#EE0000",highlight:{border:"#BB0000",background:"#FF3333"},hover:{border:"#BB0000",background:"#FF3333"}},{border:"#FF6000",background:"#FF6000",highlight:{border:"#FF6000",background:"#FF6000"},hover:{border:"#FF6000",background:"#FF6000"}},{border:"#97C2FC",background:"#2B7CE9",highlight:{border:"#D2E5FF",background:"#2B7CE9"},hover:{border:"#D2E5FF",background:"#2B7CE9"}},{border:"#399605",background:"#255C03",highlight:{border:"#399605",background:"#255C03"},hover:{border:"#399605",background:"#255C03"}},{border:"#B70054",background:"#FF007E",highlight:{border:"#B70054",background:"#FF007E"},hover:{border:"#B70054",background:"#FF007E"}},{border:"#AD85E4",background:"#7C29F0",highlight:{border:"#D3BDF0",background:"#7C29F0"},hover:{border:"#D3BDF0",background:"#7C29F0"}},{border:"#4557FA",background:"#000EA1",highlight:{border:"#6E6EFD",background:"#000EA1"},hover:{border:"#6E6EFD",background:"#000EA1"}},{border:"#FFC0CB",background:"#FD5A77",highlight:{border:"#FFD1D9",background:"#FD5A77"},hover:{border:"#FFD1D9",background:"#FD5A77"}},{border:"#C2FABC",background:"#74D66A",highlight:{border:"#E6FFE3",background:"#74D66A"},hover:{border:"#E6FFE3",background:"#74D66A"}},{border:"#EE0000",background:"#990000",highlight:{border:"#FF3333",background:"#BB0000"},hover:{border:"#FF3333",background:"#BB0000"}}],this.options={},this.defaultOptions={useDefaultGroups:!0},kt(this.options,this.defaultOptions)}setOptions(e){const r=["useDefaultGroups"];if(e!==void 0){for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&Ue(r).call(r,n)===-1){const i=e[n];this.add(n,i)}}}clear(){this._groups=new FT,this._groupNames=[]}get(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,n=this._groups.get(e);if(n===void 0&&r)if(this.options.useDefaultGroups===!1&&this._groupNames.length>0){const i=this._groupIndex%this._groupNames.length;++this._groupIndex,n={},n.color=this._groups.get(this._groupNames[i]),this._groups.set(e,n)}else{const i=this._defaultIndex%this._defaultGroups.length;this._defaultIndex++,n={},n.color=this._defaultGroups[i],this._groups.set(e,n)}return n}add(e,r){return this._groups.has(e)||this._groupNames.push(e),this._groups.set(e,r),r}}var o6={},l6;function Bme(){if(l6)return o6;l6=1;var t=be();return t({target:"Number",stat:!0},{isNaN:function(r){return r!==r}}),o6}var IS,u6;function zme(){if(u6)return IS;u6=1,Bme();var t=He();return IS=t.Number.isNaN,IS}var RS,c6;function Ume(){if(c6)return RS;c6=1;var t=zme();return RS=t,RS}var jS,d6;function Wme(){return d6||(d6=1,jS=Ume()),jS}var Vme=Wme(),gN=Ee(Vme),h6={},$S,f6;function Hme(){if(f6)return $S;f6=1;var t=ct(),e=t.isFinite;return $S=Number.isFinite||function(n){return typeof n=="number"&&e(n)},$S}var p6;function Kme(){if(p6)return h6;p6=1;var t=be(),e=Hme();return t({target:"Number",stat:!0},{isFinite:e}),h6}var kS,m6;function Gme(){if(m6)return kS;m6=1,Kme();var t=He();return kS=t.Number.isFinite,kS}var DS,v6;function Yme(){if(v6)return DS;v6=1;var t=Gme();return DS=t,DS}var qS,g6;function Qme(){return g6||(g6=1,qS=Yme()),qS}var Xme=Qme(),Ma=Ee(Xme),y6={},b6;function Jme(){if(b6)return y6;b6=1;var t=be(),e=ya().some,r=Vu(),n=r("some");return t({target:"Array",proto:!0,forced:!n},{some:function(s){return e(this,s,arguments.length>1?arguments[1]:void 0)}}),y6}var MS,w6;function Zme(){if(w6)return MS;w6=1,Jme();var t=vr();return MS=t("Array","some"),MS}var AS,x6;function eve(){if(x6)return AS;x6=1;var t=At(),e=Zme(),r=Array.prototype;return AS=function(n){var i=n.some;return n===r||t(r,n)&&i===r.some?e:i},AS}var FS,_6;function tve(){if(_6)return FS;_6=1;var t=eve();return FS=t,FS}var LS,S6;function rve(){return S6||(S6=1,LS=tve()),LS}var nve=rve(),ive=Ee(nve),BS={exports:{}},E6={},O6;function sve(){if(O6)return E6;O6=1;var t=be(),e=Tt(),r=Fn().f;return t({target:"Object",stat:!0,forced:Object.defineProperty!==r,sham:!e},{defineProperty:r}),E6}var P6;function ave(){if(P6)return BS.exports;P6=1,sve();var t=He(),e=t.Object,r=BS.exports=function(i,s,a){return e.defineProperty(i,s,a)};return e.defineProperty.sham&&(r.sham=!0),BS.exports}var zS,N6;function mY(){if(N6)return zS;N6=1;var t=ave();return zS=t,zS}var US,C6;function ove(){if(C6)return US;C6=1;var t=mY();return US=t,US}var WS,T6;function lve(){if(T6)return WS;T6=1;var t=ove();return WS=t,WS}var VS,I6;function uve(){return I6||(I6=1,VS=lve()),VS}var cve=uve(),dve=Ee(cve),R6={},j6;function hve(){if(j6)return R6;j6=1;var t=Ft(),e=Fn().f,r=t("metadata"),n=Function.prototype;return n[r]===void 0&&e(n,r,{value:null}),R6}var $6={},k6;function fve(){return k6||(k6=1,gG()),$6}var D6={},q6;function pve(){return q6||(q6=1,yG()),D6}var M6={},A6;function mve(){if(A6)return M6;A6=1;var t=gt();return t("metadata"),M6}var HS,F6;function vve(){if(F6)return HS;F6=1;var t=SG();return hve(),fve(),pve(),mve(),HS=t,HS}var L6={},KS,B6;function vY(){if(B6)return KS;B6=1;var t=wn(),e=Fe(),r=t("Symbol"),n=r.keyFor,i=e(r.prototype.valueOf);return KS=r.isRegisteredSymbol||function(a){try{return n(i(a))!==void 0}catch{return!1}},KS}var z6;function gve(){if(z6)return L6;z6=1;var t=be(),e=vY();return t({target:"Symbol",stat:!0},{isRegisteredSymbol:e}),L6}var U6={},GS,W6;function gY(){if(W6)return GS;W6=1;for(var t=Mu(),e=wn(),r=Fe(),n=ah(),i=Ft(),s=e("Symbol"),a=s.isWellKnownSymbol,o=e("Object","getOwnPropertyNames"),l=r(s.prototype.valueOf),u=t("wks"),d=0,h=o(s),f=h.length;d<f;d++)try{var p=h[d];n(s[p])&&i(p)}catch{}return GS=function(y){if(a&&a(y))return!0;try{for(var b=l(y),g=0,v=o(u),x=v.length;g<x;g++)if(u[v[g]]==b)return!0}catch{}return!1},GS}var V6;function yve(){if(V6)return U6;V6=1;var t=be(),e=gY();return t({target:"Symbol",stat:!0,forced:!0},{isWellKnownSymbol:e}),U6}var H6={},K6;function bve(){if(K6)return H6;K6=1;var t=gt();return t("customMatcher"),H6}var G6={},Y6;function wve(){if(Y6)return G6;Y6=1;var t=gt();return t("observable"),G6}var Q6={},X6;function xve(){if(X6)return Q6;X6=1;var t=be(),e=vY();return t({target:"Symbol",stat:!0,name:"isRegisteredSymbol"},{isRegistered:e}),Q6}var J6={},Z6;function _ve(){if(Z6)return J6;Z6=1;var t=be(),e=gY();return t({target:"Symbol",stat:!0,name:"isWellKnownSymbol",forced:!0},{isWellKnown:e}),J6}var eU={},tU;function Sve(){if(tU)return eU;tU=1;var t=gt();return t("matcher"),eU}var rU={},nU;function Eve(){if(nU)return rU;nU=1;var t=gt();return t("metadataKey"),rU}var iU={},sU;function Ove(){if(sU)return iU;sU=1;var t=gt();return t("patternMatch"),iU}var aU={},oU;function Pve(){if(oU)return aU;oU=1;var t=gt();return t("replaceAll"),aU}var YS,lU;function Nve(){if(lU)return YS;lU=1;var t=vve();return gve(),yve(),bve(),wve(),xve(),_ve(),Sve(),Eve(),Ove(),Pve(),YS=t,YS}var QS,uU;function Cve(){return uU||(uU=1,QS=Nve()),QS}var Tve=Cve(),Xh=Ee(Tve),XS,cU;function Ive(){if(cU)return XS;cU=1,Uu(),AT(),bG();var t=pm();return XS=t.f("iterator"),XS}var JS,dU;function Rve(){if(dU)return JS;dU=1;var t=Ive();return Wu(),JS=t,JS}var ZS,hU;function jve(){if(hU)return ZS;hU=1;var t=Rve();return ZS=t,ZS}var eE,fU;function $ve(){if(fU)return eE;fU=1;var t=jve();return eE=t,eE}var tE,pU;function kve(){return pU||(pU=1,tE=$ve()),tE}var Dve=kve(),qve=Ee(Dve);function wd(t){"@babel/helpers - typeof";return wd=typeof Xh=="function"&&typeof qve=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Xh=="function"&&e.constructor===Xh&&e!==Xh.prototype?"symbol":typeof e},wd(t)}var rE,mU;function Mve(){if(mU)return rE;mU=1,wG();var t=pm();return rE=t.f("toPrimitive"),rE}var nE,vU;function Ave(){if(vU)return nE;vU=1;var t=Mve();return nE=t,nE}var iE,gU;function Fve(){if(gU)return iE;gU=1;var t=Ave();return iE=t,iE}var sE,yU;function Lve(){if(yU)return sE;yU=1;var t=Fve();return sE=t,sE}var aE,bU;function Bve(){return bU||(bU=1,aE=Lve()),aE}var zve=Bve(),Uve=Ee(zve);function Wve(t,e){if(wd(t)!="object"||!t)return t;var r=t[Uve];if(r!==void 0){var n=r.call(t,e);if(wd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Vve(t){var e=Wve(t,"string");return wd(e)=="symbol"?e:e+""}function Bi(t,e,r){return(e=Vve(e))in t?dve(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var wU={},oE,xU;function Hve(){if(xU)return oE;xU=1;var t=ct(),e=De(),r=Fe(),n=Ln(),i=OG().trim,s=ST(),a=r("".charAt),o=t.parseFloat,l=t.Symbol,u=l&&l.iterator,d=1/o(s+"-0")!==-1/0||u&&!e(function(){o(Object(u))});return oE=d?function(f){var p=i(n(f)),m=o(p);return m===0&&a(p,0)==="-"?-0:m}:o,oE}var _U;function Kve(){if(_U)return wU;_U=1;var t=be(),e=Hve();return t({global:!0,forced:parseFloat!==e},{parseFloat:e}),wU}var lE,SU;function Gve(){if(SU)return lE;SU=1,Kve();var t=He();return lE=t.parseFloat,lE}var uE,EU;function Yve(){if(EU)return uE;EU=1;var t=Gve();return uE=t,uE}var cE,OU;function Qve(){return OU||(OU=1,cE=Yve()),cE}var Xve=Qve(),yY=Ee(Xve),PU={},NU;function Jve(){if(NU)return PU;NU=1;var t=be(),e=De(),r=yT().f,n=e(function(){return!Object.getOwnPropertyNames(1)});return t({target:"Object",stat:!0,forced:n},{getOwnPropertyNames:r}),PU}var dE,CU;function Zve(){if(CU)return dE;CU=1,Jve();var t=He(),e=t.Object;return dE=function(n){return e.getOwnPropertyNames(n)},dE}var hE,TU;function ege(){if(TU)return hE;TU=1;var t=Zve();return hE=t,hE}var fE,IU;function tge(){return IU||(IU=1,fE=ege()),fE}var rge=tge(),nge=Ee(rge),pE,RU;function ige(){if(RU)return pE;RU=1,vG();var t=He();return pE=t.Object.getOwnPropertySymbols,pE}var mE,jU;function sge(){if(jU)return mE;jU=1;var t=ige();return mE=t,mE}var vE,$U;function age(){return $U||($U=1,vE=sge()),vE}var oge=age(),la=Ee(oge),gE={exports:{}},kU={},DU;function lge(){if(DU)return kU;DU=1;var t=be(),e=De(),r=oi(),n=om().f,i=Tt(),s=!i||e(function(){n(1)});return t({target:"Object",stat:!0,forced:s,sham:!i},{getOwnPropertyDescriptor:function(o,l){return n(r(o),l)}}),kU}var qU;function uge(){if(qU)return gE.exports;qU=1,lge();var t=He(),e=t.Object,r=gE.exports=function(i,s){return e.getOwnPropertyDescriptor(i,s)};return e.getOwnPropertyDescriptor.sham&&(r.sham=!0),gE.exports}var yE,MU;function cge(){if(MU)return yE;MU=1;var t=uge();return yE=t,yE}var bE,AU;function dge(){return AU||(AU=1,bE=cge()),bE}var hge=dge(),ba=Ee(hge),FU={},LU;function fge(){if(LU)return FU;LU=1;var t=be(),e=Tt(),r=Ade(),n=oi(),i=om(),s=dm();return t({target:"Object",stat:!0,sham:!e},{getOwnPropertyDescriptors:function(o){for(var l=n(o),u=i.f,d=r(l),h={},f=0,p,m;d.length>f;)m=u(l,p=d[f++]),m!==void 0&&s(h,p,m);return h}}),FU}var wE,BU;function pge(){if(BU)return wE;BU=1,fge();var t=He();return wE=t.Object.getOwnPropertyDescriptors,wE}var xE,zU;function mge(){if(zU)return xE;zU=1;var t=pge();return xE=t,xE}var _E,UU;function vge(){return UU||(UU=1,_E=mge()),_E}var gge=vge(),ua=Ee(gge),SE={exports:{}},WU={},VU;function yge(){if(VU)return WU;VU=1;var t=be(),e=Tt(),r=gT().f;return t({target:"Object",stat:!0,forced:Object.defineProperties!==r,sham:!e},{defineProperties:r}),WU}var HU;function bge(){if(HU)return SE.exports;HU=1,yge();var t=He(),e=t.Object,r=SE.exports=function(i,s){return e.defineProperties(i,s)};return e.defineProperties.sham&&(r.sham=!0),SE.exports}var EE,KU;function wge(){if(KU)return EE;KU=1;var t=bge();return EE=t,EE}var OE,GU;function xge(){return GU||(GU=1,OE=wge()),OE}var _ge=xge(),xm=Ee(_ge),PE,YU;function Sge(){return YU||(YU=1,PE=mY()),PE}var Ege=Sge(),_m=Ee(Ege);function LT(t,e){const r=["node","edge","label"];let n=!0;const i=Ss(e,"chosen");if(typeof i=="boolean")n=i;else if(typeof i=="object"){if(Ue(r).call(r,t)===-1)throw new Error("choosify: subOption '"+t+"' should be one of '"+r.join("', '")+"'");const s=Ss(e,["chosen",t]);(typeof s=="boolean"||typeof s=="function")&&(n=s)}return n}function yN(t,e,r){if(t.width<=0||t.height<=0)return!1;if(r!==void 0){const s={x:e.x-r.x,y:e.y-r.y};if(r.angle!==0){const a=-r.angle;e={x:Math.cos(a)*s.x-Math.sin(a)*s.y,y:Math.sin(a)*s.x+Math.cos(a)*s.y}}else e=s}const n=t.x+t.width,i=t.y+t.width;return t.left<e.x&&n>e.x&&t.top<e.y&&i>e.y}function hp(t){return typeof t=="string"&&t!==""}function bY(t,e,r,n){let i=n.x,s=n.y;if(typeof n.distanceToBorder=="function"){const a=n.distanceToBorder(t,e),o=Math.sin(e)*a,l=Math.cos(e)*a;l===a?(i+=a,s=n.y):o===a?(i=n.x,s-=a):(i+=l,s-=o)}else n.shape.width>n.shape.height?(i=n.x+n.shape.width*.5,s=n.y-r):(i=n.x+r,s=n.y-n.shape.height*.5);return{x:i,y:s}}var NE,QU;function Oge(){if(QU)return NE;QU=1,Uu();var t=vr();return NE=t("Array","values"),NE}var CE,XU;function Pge(){if(XU)return CE;XU=1;var t=Oge();return CE=t,CE}var TE,JU;function Nge(){if(JU)return TE;JU=1,Wu();var t=Bu(),e=mr(),r=At(),n=Pge(),i=Array.prototype,s={DOMTokenList:!0,NodeList:!0};return TE=function(a){var o=a.values;return a===i||r(i,a)&&o===i.values||e(s,t(a))?n:o},TE}var IE,ZU;function Cge(){return ZU||(ZU=1,IE=Nge()),IE}var Tge=Cge(),wY=Ee(Tge);class Ige{constructor(e){this.measureText=e,this.current=0,this.width=0,this.height=0,this.lines=[]}_add(e,r){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"normal";this.lines[e]===void 0&&(this.lines[e]={width:0,height:0,blocks:[]});let i=r;(r===void 0||r==="")&&(i=" ");const s=this.measureText(i,n),a=kt({},wY(s));a.text=r,a.width=s.width,a.mod=n,(r===void 0||r==="")&&(a.width=0),this.lines[e].blocks.push(a),this.lines[e].width+=a.width}curWidth(){const e=this.lines[this.current];return e===void 0?0:e.width}append(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"normal";this._add(this.current,e,r)}newLine(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"normal";this._add(this.current,e,r),this.current++}determineLineHeights(){for(let e=0;e<this.lines.length;e++){const r=this.lines[e];let n=0;if(r.blocks!==void 0)for(let i=0;i<r.blocks.length;i++){const s=r.blocks[i];n<s.height&&(n=s.height)}r.height=n}}determineLabelSize(){let e=0,r=0;for(let n=0;n<this.lines.length;n++){const i=this.lines[n];i.width>e&&(e=i.width),r+=i.height}this.width=e,this.height=r}removeEmptyBlocks(){const e=[];for(let r=0;r<this.lines.length;r++){const n=this.lines[r];if(n.blocks.length===0||r===this.lines.length-1&&n.width===0)continue;const i={};kt(i,n),i.blocks=[];let s;const a=[];for(let o=0;o<n.blocks.length;o++){const l=n.blocks[o];l.width!==0?a.push(l):s===void 0&&(s=l)}a.length===0&&s!==void 0&&a.push(s),i.blocks=a,e.push(i)}return e}finalize(){this.determineLineHeights(),this.determineLabelSize();const e=this.removeEmptyBlocks();return{width:this.width,height:this.height,lines:e}}}const Rge={"<b>":/<b>/,"<i>":/<i>/,"<code>":/<code>/,"</b>":/<\/b>/,"</i>":/<\/i>/,"</code>":/<\/code>/,"*":/\*/,_:/_/,"`":/`/,afterBold:/[^*]/,afterItal:/[^_]/,afterMono:/[^`]/};class eW{constructor(e){this.text=e,this.bold=!1,this.ital=!1,this.mono=!1,this.spacing=!1,this.position=0,this.buffer="",this.modStack=[],this.blocks=[]}mod(){return this.modStack.length===0?"normal":this.modStack[0]}modName(){if(this.modStack.length===0)return"normal";if(this.modStack[0]==="mono")return"mono";if(this.bold&&this.ital)return"boldital";if(this.bold)return"bold";if(this.ital)return"ital"}emitBlock(){this.spacing&&(this.add(" "),this.spacing=!1),this.buffer.length>0&&(this.blocks.push({text:this.buffer,mod:this.modName()}),this.buffer="")}add(e){e===" "&&(this.spacing=!0),this.spacing&&(this.buffer+=" ",this.spacing=!1),e!=" "&&(this.buffer+=e)}parseWS(e){return/[ \t]/.test(e)?(this.mono?this.add(e):this.spacing=!0,!0):!1}setTag(e){this.emitBlock(),this[e]=!0,this.modStack.unshift(e)}unsetTag(e){this.emitBlock(),this[e]=!1,this.modStack.shift()}parseStartTag(e,r){return!this.mono&&!this[e]&&this.match(r)?(this.setTag(e),!0):!1}match(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;const[n,i]=this.prepareRegExp(e),s=n.test(this.text.substr(this.position,i));return s&&r&&(this.position+=i-1),s}parseEndTag(e,r,n){let i=this.mod()===e;return e==="mono"?i=i&&this.mono:i=i&&!this.mono,i&&this.match(r)?(n!==void 0?(this.position===this.text.length-1||this.match(n,!1))&&this.unsetTag(e):this.unsetTag(e),!0):!1}replace(e,r){return this.match(e)?(this.add(r),this.position+=length-1,!0):!1}prepareRegExp(e){let r,n;if(e instanceof RegExp)n=e,r=1;else{const i=Rge[e];i!==void 0?n=i:n=new RegExp(e),r=e.length}return[n,r]}}class jge{constructor(e,r,n,i){this.ctx=e,this.parent=r,this.selected=n,this.hover=i;const s=(a,o)=>{if(a===void 0)return 0;const l=this.parent.getFormattingValues(e,n,i,o);let u=0;return a!==""&&(u=this.ctx.measureText(a).width),{width:u,values:l}};this.lines=new Ige(s)}process(e){if(!hp(e))return this.lines.finalize();const r=this.parent.fontOptions;e=e.replace(/\r\n/g,`
`),e=e.replace(/\r/g,`
`);const n=String(e).split(`
`),i=n.length;if(r.multi)for(let s=0;s<i;s++){const a=this.splitBlocks(n[s],r.multi);if(a!==void 0){if(a.length===0){this.lines.newLine("");continue}if(r.maxWdt>0)for(let o=0;o<a.length;o++){const l=a[o].mod,u=a[o].text;this.splitStringIntoLines(u,l,!0)}else for(let o=0;o<a.length;o++){const l=a[o].mod,u=a[o].text;this.lines.append(u,l)}this.lines.newLine()}}else if(r.maxWdt>0)for(let s=0;s<i;s++)this.splitStringIntoLines(n[s]);else for(let s=0;s<i;s++)this.lines.newLine(n[s]);return this.lines.finalize()}decodeMarkupSystem(e){let r="none";return e==="markdown"||e==="md"?r="markdown":(e===!0||e==="html")&&(r="html"),r}splitHtmlBlocks(e){const r=new eW(e),n=i=>/&/.test(i)?(r.replace(r.text,"&lt;","<")||r.replace(r.text,"&amp;","&")||r.add("&"),!0):!1;for(;r.position<r.text.length;){const i=r.text.charAt(r.position);r.parseWS(i)||/</.test(i)&&(r.parseStartTag("bold","<b>")||r.parseStartTag("ital","<i>")||r.parseStartTag("mono","<code>")||r.parseEndTag("bold","</b>")||r.parseEndTag("ital","</i>")||r.parseEndTag("mono","</code>"))||n(i)||r.add(i),r.position++}return r.emitBlock(),r.blocks}splitMarkdownBlocks(e){const r=new eW(e);let n=!0;const i=s=>/\\/.test(s)?(r.position<this.text.length+1&&(r.position++,s=this.text.charAt(r.position),/ \t/.test(s)?r.spacing=!0:(r.add(s),n=!1)),!0):!1;for(;r.position<r.text.length;){const s=r.text.charAt(r.position);r.parseWS(s)||i(s)||(n||r.spacing)&&(r.parseStartTag("bold","*")||r.parseStartTag("ital","_")||r.parseStartTag("mono","`"))||r.parseEndTag("bold","*","afterBold")||r.parseEndTag("ital","_","afterItal")||r.parseEndTag("mono","`","afterMono")||(r.add(s),n=!1),r.position++}return r.emitBlock(),r.blocks}splitBlocks(e,r){const n=this.decodeMarkupSystem(r);if(n==="none")return[{text:e,mod:"normal"}];if(n==="markdown")return this.splitMarkdownBlocks(e);if(n==="html")return this.splitHtmlBlocks(e)}overMaxWidth(e){const r=this.ctx.measureText(e).width;return this.lines.curWidth()+r>this.parent.fontOptions.maxWdt}getLongestFit(e){let r="",n=0;for(;n<e.length;){const s=r+(r===""?"":" ")+e[n];if(this.overMaxWidth(s))break;r=s,n++}return n}getLongestFitWord(e){let r=0;for(;r<e.length&&!this.overMaxWidth(gi(e).call(e,0,r));)r++;return r}splitStringIntoLines(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"normal",n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;this.parent.getFormattingValues(this.ctx,this.selected,this.hover,r),e=e.replace(/^( +)/g,"$1\r"),e=e.replace(/([^\r][^ ]*)( +)/g,"$1\r$2\r");let i=e.split("\r");for(;i.length>0;){let s=this.getLongestFit(i);if(s===0){const a=i[0],o=this.getLongestFitWord(a);this.lines.newLine(gi(a).call(a,0,o),r),i[0]=gi(a).call(a,o)}else{let a=s;i[s-1]===" "?s--:i[a]===" "&&a++;const o=gi(i).call(i,0,s).join("");s==i.length&&n?this.lines.append(o,r):this.lines.newLine(o,r),i=gi(i).call(i,a)}}}}const fc=["bold","ital","boldital","mono"];class Cl{constructor(e,r){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;this.body=e,this.pointToSelf=!1,this.baseSize=void 0,this.fontOptions={},this.setOptions(r),this.size={top:0,left:0,width:0,height:0,yLine:0},this.isEdgeLabel=n}setOptions(e){if(this.elementOptions=e,this.initFontOptions(e.font),hp(e.label)?this.labelDirty=!0:e.label=void 0,e.font!==void 0&&e.font!==null){if(typeof e.font=="string")this.baseSize=this.fontOptions.size;else if(typeof e.font=="object"){const r=e.font.size;r!==void 0&&(this.baseSize=r)}}}initFontOptions(e){if(je(fc,r=>{this.fontOptions[r]={}}),Cl.parseFontString(this.fontOptions,e)){this.fontOptions.vadjust=0;return}je(e,(r,n)=>{r!=null&&typeof r!="object"&&(this.fontOptions[n]=r)})}static parseFontString(e,r){if(!r||typeof r!="string")return!1;const n=r.split(" ");return e.size=+n[0].replace("px",""),e.face=n[1],e.color=n[2],!0}constrain(e){const r={constrainWidth:!1,maxWdt:-1,minWdt:-1,constrainHeight:!1,minHgt:-1,valign:"middle"},n=Ss(e,"widthConstraint");if(typeof n=="number")r.maxWdt=Number(n),r.minWdt=Number(n);else if(typeof n=="object"){const s=Ss(e,["widthConstraint","maximum"]);typeof s=="number"&&(r.maxWdt=Number(s));const a=Ss(e,["widthConstraint","minimum"]);typeof a=="number"&&(r.minWdt=Number(a))}const i=Ss(e,"heightConstraint");if(typeof i=="number")r.minHgt=Number(i);else if(typeof i=="object"){const s=Ss(e,["heightConstraint","minimum"]);typeof s=="number"&&(r.minHgt=Number(s));const a=Ss(e,["heightConstraint","valign"]);typeof a=="string"&&(a==="top"||a==="bottom")&&(r.valign=a)}return r}update(e,r){this.setOptions(e,!0),this.propagateFonts(r),tt(this.fontOptions,this.constrain(r)),this.fontOptions.chooser=LT("label",r)}adjustSizes(e){const r=e?e.right+e.left:0;this.fontOptions.constrainWidth&&(this.fontOptions.maxWdt-=r,this.fontOptions.minWdt-=r);const n=e?e.top+e.bottom:0;this.fontOptions.constrainHeight&&(this.fontOptions.minHgt-=n)}addFontOptionsToPile(e,r){for(let n=0;n<r.length;++n)this.addFontToPile(e,r[n])}addFontToPile(e,r){if(r===void 0||r.font===void 0||r.font===null)return;const n=r.font;e.push(n)}getBasicOptions(e){const r={};for(let n=0;n<e.length;++n){let i=e[n];const s={};Cl.parseFontString(s,i)&&(i=s),je(i,(a,o)=>{a!==void 0&&(Object.prototype.hasOwnProperty.call(r,o)||(Ue(fc).call(fc,o)!==-1?r[o]={}:r[o]=a))})}return r}getFontOption(e,r,n){let i;for(let s=0;s<e.length;++s){const a=e[s];if(Object.prototype.hasOwnProperty.call(a,r)){if(i=a[r],i==null)continue;const o={};if(Cl.parseFontString(o,i)&&(i=o),Object.prototype.hasOwnProperty.call(i,n))return i[n]}}if(Object.prototype.hasOwnProperty.call(this.fontOptions,n))return this.fontOptions[n];throw new Error("Did not find value for multi-font for property: '"+n+"'")}getFontOptions(e,r){const n={},i=["color","size","face","mod","vadjust"];for(let s=0;s<i.length;++s){const a=i[s];n[a]=this.getFontOption(e,r,a)}return n}propagateFonts(e){const r=[];this.addFontOptionsToPile(r,e),this.fontOptions=this.getBasicOptions(r);for(let n=0;n<fc.length;++n){const i=fc[n],s=this.fontOptions[i],a=this.getFontOptions(r,i);je(a,(o,l)=>{s[l]=o}),s.size=Number(s.size),s.vadjust=Number(s.vadjust)}}draw(e,r,n,i,s){let a=arguments.length>5&&arguments[5]!==void 0?arguments[5]:"middle";if(this.elementOptions.label===void 0)return;let o=this.fontOptions.size*this.body.view.scale;this.elementOptions.label&&o<this.elementOptions.scaling.label.drawThreshold-1||(o>=this.elementOptions.scaling.label.maxVisible&&(o=Number(this.elementOptions.scaling.label.maxVisible)/this.body.view.scale),this.calculateLabelSize(e,i,s,r,n,a),this._drawBackground(e),this._drawText(e,r,this.size.yLine,a,o))}_drawBackground(e){if(this.fontOptions.background!==void 0&&this.fontOptions.background!=="none"){e.fillStyle=this.fontOptions.background;const r=this.getSize();e.fillRect(r.left,r.top,r.width,r.height)}}_drawText(e,r,n){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"middle",s=arguments.length>4?arguments[4]:void 0;[r,n]=this._setAlignment(e,r,n,i),e.textAlign="left",r=r-this.size.width/2,this.fontOptions.valign&&this.size.height>this.size.labelHeight&&(this.fontOptions.valign==="top"&&(n-=(this.size.height-this.size.labelHeight)/2),this.fontOptions.valign==="bottom"&&(n+=(this.size.height-this.size.labelHeight)/2));for(let a=0;a<this.lineCount;a++){const o=this.lines[a];if(o&&o.blocks){let l=0;this.isEdgeLabel||this.fontOptions.align==="center"?l+=(this.size.width-o.width)/2:this.fontOptions.align==="right"&&(l+=this.size.width-o.width);for(let u=0;u<o.blocks.length;u++){const d=o.blocks[u];e.font=d.font;const[h,f]=this._getColor(d.color,s,d.strokeColor);d.strokeWidth>0&&(e.lineWidth=d.strokeWidth,e.strokeStyle=f,e.lineJoin="round"),e.fillStyle=h,d.strokeWidth>0&&e.strokeText(d.text,r+l,n+d.vadjust),e.fillText(d.text,r+l,n+d.vadjust),l+=d.width}n+=o.height}}}_setAlignment(e,r,n,i){if(this.isEdgeLabel&&this.fontOptions.align!=="horizontal"&&this.pointToSelf===!1){r=0,n=0;const s=2;this.fontOptions.align==="top"?(e.textBaseline="alphabetic",n-=2*s):this.fontOptions.align==="bottom"?(e.textBaseline="hanging",n+=2*s):e.textBaseline="middle"}else e.textBaseline=i;return[r,n]}_getColor(e,r,n){let i=e||"#000000",s=n||"#ffffff";if(r<=this.elementOptions.scaling.label.drawThreshold){const a=Math.max(0,Math.min(1,1-(this.elementOptions.scaling.label.drawThreshold-r)));i=Tn(i,a),s=Tn(s,a)}return[i,s]}getTextSize(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;return this._processLabel(e,r,n),{width:this.size.width,height:this.size.height,lineCount:this.lineCount}}getSize(){let r=this.size.left,n=this.size.top-.5*2;if(this.isEdgeLabel){const s=-this.size.width*.5;switch(this.fontOptions.align){case"middle":r=s,n=-this.size.height*.5;break;case"top":r=s,n=-(this.size.height+2);break;case"bottom":r=s,n=2;break}}return{left:r,top:n,width:this.size.width,height:this.size.height}}calculateLabelSize(e,r,n){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0,a=arguments.length>5&&arguments[5]!==void 0?arguments[5]:"middle";this._processLabel(e,r,n),this.size.left=i-this.size.width*.5,this.size.top=s-this.size.height*.5,this.size.yLine=s+(1-this.lineCount)*.5*this.fontOptions.size,a==="hanging"&&(this.size.top+=.5*this.fontOptions.size,this.size.top+=4,this.size.yLine+=4)}getFormattingValues(e,r,n,i){const s=function(l,u,d){return u==="normal"?d==="mod"?"":l[d]:l[u][d]!==void 0?l[u][d]:l[d]},a={color:s(this.fontOptions,i,"color"),size:s(this.fontOptions,i,"size"),face:s(this.fontOptions,i,"face"),mod:s(this.fontOptions,i,"mod"),vadjust:s(this.fontOptions,i,"vadjust"),strokeWidth:this.fontOptions.strokeWidth,strokeColor:this.fontOptions.strokeColor};(r||n)&&(i==="normal"&&this.fontOptions.chooser===!0&&this.elementOptions.labelHighlightBold?a.mod="bold":typeof this.fontOptions.chooser=="function"&&this.fontOptions.chooser(a,this.elementOptions.id,r,n));let o="";return a.mod!==void 0&&a.mod!==""&&(o+=a.mod+" "),o+=a.size+"px "+a.face,e.font=o.replace(/"/g,""),a.font=e.font,a.height=a.size,a}differentState(e,r){return e!==this.selectedState||r!==this.hoverState}_processLabelText(e,r,n,i){return new jge(e,this,r,n).process(i)}_processLabel(e,r,n){if(this.labelDirty===!1&&!this.differentState(r,n))return;const i=this._processLabelText(e,r,n,this.elementOptions.label);this.fontOptions.minWdt>0&&i.width<this.fontOptions.minWdt&&(i.width=this.fontOptions.minWdt),this.size.labelHeight=i.height,this.fontOptions.minHgt>0&&i.height<this.fontOptions.minHgt&&(i.height=this.fontOptions.minHgt),this.lines=i.lines,this.lineCount=i.lines.length,this.size.width=i.width,this.size.height=i.height,this.selectedState=r,this.hoverState=n,this.labelDirty=!1}visible(){return!(this.size.width===0||this.size.height===0||this.elementOptions.label===void 0||this.fontOptions.size*this.body.view.scale<this.elementOptions.scaling.label.drawThreshold-1)}}class Bo{constructor(e,r,n){this.body=r,this.labelModule=n,this.setOptions(e),this.top=void 0,this.left=void 0,this.height=void 0,this.width=void 0,this.radius=void 0,this.margin=void 0,this.refreshNeeded=!0,this.boundingBox={top:0,left:0,right:0,bottom:0}}setOptions(e){this.options=e}_setMargins(e){this.margin={},this.options.margin&&(typeof this.options.margin=="object"?(this.margin.top=this.options.margin.top,this.margin.right=this.options.margin.right,this.margin.bottom=this.options.margin.bottom,this.margin.left=this.options.margin.left):(this.margin.top=this.options.margin,this.margin.right=this.options.margin,this.margin.bottom=this.options.margin,this.margin.left=this.options.margin)),e.adjustSizes(this.margin)}_distanceToBorder(e,r){const n=this.options.borderWidth;return e&&this.resize(e),Math.min(Math.abs(this.width/2/Math.cos(r)),Math.abs(this.height/2/Math.sin(r)))+n}enableShadow(e,r){r.shadow&&(e.shadowColor=r.shadowColor,e.shadowBlur=r.shadowSize,e.shadowOffsetX=r.shadowX,e.shadowOffsetY=r.shadowY)}disableShadow(e,r){r.shadow&&(e.shadowColor="rgba(0,0,0,0)",e.shadowBlur=0,e.shadowOffsetX=0,e.shadowOffsetY=0)}enableBorderDashes(e,r){if(r.borderDashes!==!1)if(e.setLineDash!==void 0){let n=r.borderDashes;n===!0&&(n=[5,15]),e.setLineDash(n)}else console.warn("setLineDash is not supported in this browser. The dashed borders cannot be used."),this.options.shapeProperties.borderDashes=!1,r.borderDashes=!1}disableBorderDashes(e,r){r.borderDashes!==!1&&(e.setLineDash!==void 0?e.setLineDash([0]):(console.warn("setLineDash is not supported in this browser. The dashed borders cannot be used."),this.options.shapeProperties.borderDashes=!1,r.borderDashes=!1))}needsRefresh(e,r){return this.refreshNeeded===!0?(this.refreshNeeded=!1,!0):this.width===void 0||this.labelModule.differentState(e,r)}initContextForDraw(e,r){const n=r.borderWidth/this.body.view.scale;e.lineWidth=Math.min(this.width,n),e.strokeStyle=r.borderColor,e.fillStyle=r.color}performStroke(e,r){const n=r.borderWidth/this.body.view.scale;e.save(),n>0&&(this.enableBorderDashes(e,r),e.stroke(),this.disableBorderDashes(e,r)),e.restore()}performFill(e,r){e.save(),e.fillStyle=r.color,this.enableShadow(e,r),fh(e).call(e),this.disableShadow(e,r),e.restore(),this.performStroke(e,r)}_addBoundingBoxMargin(e){this.boundingBox.left-=e,this.boundingBox.top-=e,this.boundingBox.bottom+=e,this.boundingBox.right+=e}_updateBoundingBox(e,r,n,i,s){n!==void 0&&this.resize(n,i,s),this.left=e-this.width/2,this.top=r-this.height/2,this.boundingBox.left=this.left,this.boundingBox.top=this.top,this.boundingBox.bottom=this.top+this.height,this.boundingBox.right=this.left+this.width}updateBoundingBox(e,r,n,i,s){this._updateBoundingBox(e,r,n,i,s)}getDimensionsFromLabel(e,r,n){this.textSize=this.labelModule.getTextSize(e,r,n);let i=this.textSize.width,s=this.textSize.height;const a=14;return i===0&&(i=a,s=a),{width:i,height:s}}}let $ge=class extends Bo{constructor(e,r,n){super(e,r,n),this._setMargins(n)}resize(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.selected,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.hover;if(this.needsRefresh(r,n)){const i=this.getDimensionsFromLabel(e,r,n);this.width=i.width+this.margin.right+this.margin.left,this.height=i.height+this.margin.top+this.margin.bottom,this.radius=this.width/2}}draw(e,r,n,i,s,a){this.resize(e,i,s),this.left=r-this.width/2,this.top=n-this.height/2,this.initContextForDraw(e,a),sG(e,this.left,this.top,this.width,this.height,a.borderRadius),this.performFill(e,a),this.updateBoundingBox(r,n,e,i,s),this.labelModule.draw(e,this.left+this.textSize.width/2+this.margin.left,this.top+this.textSize.height/2+this.margin.top,i,s)}updateBoundingBox(e,r,n,i,s){this._updateBoundingBox(e,r,n,i,s);const a=this.options.shapeProperties.borderRadius;this._addBoundingBoxMargin(a)}distanceToBorder(e,r){e&&this.resize(e);const n=this.options.borderWidth;return Math.min(Math.abs(this.width/2/Math.cos(r)),Math.abs(this.height/2/Math.sin(r)))+n}};class BT extends Bo{constructor(e,r,n){super(e,r,n),this.labelOffset=0,this.selected=!1}setOptions(e,r,n){this.options=e,r===void 0&&n===void 0||this.setImages(r,n)}setImages(e,r){r&&this.selected?(this.imageObj=r,this.imageObjAlt=e):(this.imageObj=e,this.imageObjAlt=r)}switchImages(e){const r=e&&!this.selected||!e&&this.selected;if(this.selected=e,this.imageObjAlt!==void 0&&r){const n=this.imageObj;this.imageObj=this.imageObjAlt,this.imageObjAlt=n}}_getImagePadding(){const e={top:0,right:0,bottom:0,left:0};if(this.options.imagePadding){const r=this.options.imagePadding;typeof r=="object"?(e.top=r.top,e.right=r.right,e.bottom=r.bottom,e.left=r.left):(e.top=r,e.right=r,e.bottom=r,e.left=r)}return e}_resizeImage(){let e,r;if(this.options.shapeProperties.useImageSize===!1){let n=1,i=1;this.imageObj.width&&this.imageObj.height&&(this.imageObj.width>this.imageObj.height?n=this.imageObj.width/this.imageObj.height:i=this.imageObj.height/this.imageObj.width),e=this.options.size*2*n,r=this.options.size*2*i}else{const n=this._getImagePadding();e=this.imageObj.width+n.left+n.right,r=this.imageObj.height+n.top+n.bottom}this.width=e,this.height=r,this.radius=.5*this.width}_drawRawCircle(e,r,n,i){this.initContextForDraw(e,i),pT(e,r,n,i.size),this.performFill(e,i)}_drawImageAtPosition(e,r){if(this.imageObj.width!=0){e.globalAlpha=r.opacity!==void 0?r.opacity:1,this.enableShadow(e,r);let n=1;this.options.shapeProperties.interpolation===!0&&(n=this.imageObj.width/this.width/this.body.view.scale);const i=this._getImagePadding(),s=this.left+i.left,a=this.top+i.top,o=this.width-i.left-i.right,l=this.height-i.top-i.bottom;this.imageObj.drawImageAtPosition(e,n,s,a,o,l),this.disableShadow(e,r)}}_drawImageLabel(e,r,n,i,s){let a=0;if(this.height!==void 0){a=this.height*.5;const l=this.labelModule.getTextSize(e,i,s);l.lineCount>=1&&(a+=l.height/2)}const o=n+a;this.options.label&&(this.labelOffset=a),this.labelModule.draw(e,r,o,i,s,"hanging")}}let kge=class extends BT{constructor(e,r,n){super(e,r,n),this._setMargins(n)}resize(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.selected,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.hover;if(this.needsRefresh(r,n)){const i=this.getDimensionsFromLabel(e,r,n),s=Math.max(i.width+this.margin.right+this.margin.left,i.height+this.margin.top+this.margin.bottom);this.options.size=s/2,this.width=s,this.height=s,this.radius=this.width/2}}draw(e,r,n,i,s,a){this.resize(e,i,s),this.left=r-this.width/2,this.top=n-this.height/2,this._drawRawCircle(e,r,n,a),this.updateBoundingBox(r,n),this.labelModule.draw(e,this.left+this.textSize.width/2+this.margin.left,n,i,s)}updateBoundingBox(e,r){this.boundingBox.top=r-this.options.size,this.boundingBox.left=e-this.options.size,this.boundingBox.right=e+this.options.size,this.boundingBox.bottom=r+this.options.size}distanceToBorder(e){return e&&this.resize(e),this.width*.5}};class Dge extends BT{constructor(e,r,n,i,s){super(e,r,n),this.setImages(i,s)}resize(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.selected,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.hover;if(this.imageObj.src===void 0||this.imageObj.width===void 0||this.imageObj.height===void 0){const s=this.options.size*2;this.width=s,this.height=s,this.radius=.5*this.width;return}this.needsRefresh(r,n)&&this._resizeImage()}draw(e,r,n,i,s,a){this.switchImages(i),this.resize();let o=r,l=n;this.options.shapeProperties.coordinateOrigin==="top-left"?(this.left=r,this.top=n,o+=this.width/2,l+=this.height/2):(this.left=r-this.width/2,this.top=n-this.height/2),this._drawRawCircle(e,o,l,a),e.save(),e.clip(),this._drawImageAtPosition(e,a),e.restore(),this._drawImageLabel(e,o,l,i,s),this.updateBoundingBox(r,n)}updateBoundingBox(e,r){this.options.shapeProperties.coordinateOrigin==="top-left"?(this.boundingBox.top=r,this.boundingBox.left=e,this.boundingBox.right=e+this.options.size*2,this.boundingBox.bottom=r+this.options.size*2):(this.boundingBox.top=r-this.options.size,this.boundingBox.left=e-this.options.size,this.boundingBox.right=e+this.options.size,this.boundingBox.bottom=r+this.options.size),this.boundingBox.left=Math.min(this.boundingBox.left,this.labelModule.size.left),this.boundingBox.right=Math.max(this.boundingBox.right,this.labelModule.size.left+this.labelModule.size.width),this.boundingBox.bottom=Math.max(this.boundingBox.bottom,this.boundingBox.bottom+this.labelOffset)}distanceToBorder(e){return e&&this.resize(e),this.width*.5}}class wa extends Bo{constructor(e,r,n){super(e,r,n)}resize(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.selected,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.hover,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{size:this.options.size};if(this.needsRefresh(r,n)){var s,a;this.labelModule.getTextSize(e,r,n);const o=2*i.size;this.width=(s=this.customSizeWidth)!==null&&s!==void 0?s:o,this.height=(a=this.customSizeHeight)!==null&&a!==void 0?a:o,this.radius=.5*this.width}}_drawShape(e,r,n,i,s,a,o,l){return this.resize(e,a,o,l),this.left=i-this.width/2,this.top=s-this.height/2,this.initContextForDraw(e,l),Xce(r)(e,i,s,l.size),this.performFill(e,l),this.options.icon!==void 0&&this.options.icon.code!==void 0&&(e.font=(a?"bold ":"")+this.height/2+"px "+(this.options.icon.face||"FontAwesome"),e.fillStyle=this.options.icon.color||"black",e.textAlign="center",e.textBaseline="middle",e.fillText(this.options.icon.code,i,s)),{drawExternalLabel:()=>{if(this.options.label!==void 0){this.labelModule.calculateLabelSize(e,a,o,i,s,"hanging");const u=s+.5*this.height+.5*this.labelModule.size.height;this.labelModule.draw(e,i,u,a,o,"hanging")}this.updateBoundingBox(i,s)}}}updateBoundingBox(e,r){this.boundingBox.top=r-this.options.size,this.boundingBox.left=e-this.options.size,this.boundingBox.right=e+this.options.size,this.boundingBox.bottom=r+this.options.size,this.options.label!==void 0&&this.labelModule.size.width>0&&(this.boundingBox.left=Math.min(this.boundingBox.left,this.labelModule.size.left),this.boundingBox.right=Math.max(this.boundingBox.right,this.labelModule.size.left+this.labelModule.size.width),this.boundingBox.bottom=Math.max(this.boundingBox.bottom,this.boundingBox.bottom+this.labelModule.size.height))}}function tW(t,e){var r=xt(t);if(la){var n=la(t);e&&(n=Kr(n).call(n,function(i){return ba(t,i).enumerable})),r.push.apply(r,n)}return r}function qge(t){for(var e=1;e<arguments.length;e++){var r,n,i=arguments[e]!=null?arguments[e]:{};e%2?Xe(r=tW(Object(i),!0)).call(r,function(s){Bi(t,s,i[s])}):ua?xm(t,ua(i)):Xe(n=tW(Object(i))).call(n,function(s){_m(t,s,ba(i,s))})}return t}class Mge extends wa{constructor(e,r,n,i){super(e,r,n,i),this.ctxRenderer=i}draw(e,r,n,i,s,a){this.resize(e,i,s,a),this.left=r-this.width/2,this.top=n-this.height/2,e.save();const o=this.ctxRenderer({ctx:e,id:this.options.id,x:r,y:n,state:{selected:i,hover:s},style:qge({},a),label:this.options.label});if(o.drawNode!=null&&o.drawNode(),e.restore(),o.drawExternalLabel){const l=o.drawExternalLabel;o.drawExternalLabel=()=>{e.save(),l(),e.restore()}}return o.nodeDimensions&&(this.customSizeWidth=o.nodeDimensions.width,this.customSizeHeight=o.nodeDimensions.height),o}distanceToBorder(e,r){return this._distanceToBorder(e,r)}}class Age extends Bo{constructor(e,r,n){super(e,r,n),this._setMargins(n)}resize(e,r,n){if(this.needsRefresh(r,n)){const s=this.getDimensionsFromLabel(e,r,n).width+this.margin.right+this.margin.left;this.width=s,this.height=s,this.radius=this.width/2}}draw(e,r,n,i,s,a){this.resize(e,i,s),this.left=r-this.width/2,this.top=n-this.height/2,this.initContextForDraw(e,a),aG(e,r-this.width/2,n-this.height/2,this.width,this.height),this.performFill(e,a),this.updateBoundingBox(r,n,e,i,s),this.labelModule.draw(e,this.left+this.textSize.width/2+this.margin.left,this.top+this.textSize.height/2+this.margin.top,i,s)}distanceToBorder(e,r){return this._distanceToBorder(e,r)}}let Fge=class extends wa{constructor(e,r,n){super(e,r,n)}draw(e,r,n,i,s,a){return this._drawShape(e,"diamond",4,r,n,i,s,a)}distanceToBorder(e,r){return this._distanceToBorder(e,r)}};class Lge extends wa{constructor(e,r,n){super(e,r,n)}draw(e,r,n,i,s,a){return this._drawShape(e,"circle",2,r,n,i,s,a)}distanceToBorder(e){return e&&this.resize(e),this.options.size}}class rW extends Bo{constructor(e,r,n){super(e,r,n)}resize(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.selected,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.hover;if(this.needsRefresh(r,n)){const i=this.getDimensionsFromLabel(e,r,n);this.height=i.height*2,this.width=i.width+i.height,this.radius=.5*this.width}}draw(e,r,n,i,s,a){this.resize(e,i,s),this.left=r-this.width*.5,this.top=n-this.height*.5,this.initContextForDraw(e,a),lN(e,this.left,this.top,this.width,this.height),this.performFill(e,a),this.updateBoundingBox(r,n,e,i,s),this.labelModule.draw(e,r,n,i,s)}distanceToBorder(e,r){e&&this.resize(e);const n=this.width*.5,i=this.height*.5,s=Math.sin(r)*n,a=Math.cos(r)*i;return n*i/Math.sqrt(s*s+a*a)}}class Bge extends Bo{constructor(e,r,n){super(e,r,n),this._setMargins(n)}resize(e,r,n){this.needsRefresh(r,n)&&(this.iconSize={width:Number(this.options.icon.size),height:Number(this.options.icon.size)},this.width=this.iconSize.width+this.margin.right+this.margin.left,this.height=this.iconSize.height+this.margin.top+this.margin.bottom,this.radius=.5*this.width)}draw(e,r,n,i,s,a){return this.resize(e,i,s),this.options.icon.size=this.options.icon.size||50,this.left=r-this.width/2,this.top=n-this.height/2,this._icon(e,r,n,i,s,a),{drawExternalLabel:()=>{this.options.label!==void 0&&this.labelModule.draw(e,this.left+this.iconSize.width/2+this.margin.left,n+this.height/2+5,i),this.updateBoundingBox(r,n)}}}updateBoundingBox(e,r){this.boundingBox.top=r-this.options.icon.size*.5,this.boundingBox.left=e-this.options.icon.size*.5,this.boundingBox.right=e+this.options.icon.size*.5,this.boundingBox.bottom=r+this.options.icon.size*.5,this.options.label!==void 0&&this.labelModule.size.width>0&&(this.boundingBox.left=Math.min(this.boundingBox.left,this.labelModule.size.left),this.boundingBox.right=Math.max(this.boundingBox.right,this.labelModule.size.left+this.labelModule.size.width),this.boundingBox.bottom=Math.max(this.boundingBox.bottom,this.boundingBox.bottom+this.labelModule.size.height+5))}_icon(e,r,n,i,s,a){const o=Number(this.options.icon.size);this.options.icon.code!==void 0?(e.font=[this.options.icon.weight!=null?this.options.icon.weight:i?"bold":"",(this.options.icon.weight!=null&&i?5:0)+o+"px",this.options.icon.face].join(" "),e.fillStyle=this.options.icon.color||"black",e.textAlign="center",e.textBaseline="middle",this.enableShadow(e,a),e.fillText(this.options.icon.code,r,n),this.disableShadow(e,a)):console.error("When using the icon shape, you need to define the code in the icon options object. This can be done per node or globally.")}distanceToBorder(e,r){return this._distanceToBorder(e,r)}}let zge=class extends BT{constructor(e,r,n,i,s){super(e,r,n),this.setImages(i,s)}resize(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.selected,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.hover;if(this.imageObj.src===void 0||this.imageObj.width===void 0||this.imageObj.height===void 0){const s=this.options.size*2;this.width=s,this.height=s;return}this.needsRefresh(r,n)&&this._resizeImage()}draw(e,r,n,i,s,a){e.save(),this.switchImages(i),this.resize();let o=r,l=n;if(this.options.shapeProperties.coordinateOrigin==="top-left"?(this.left=r,this.top=n,o+=this.width/2,l+=this.height/2):(this.left=r-this.width/2,this.top=n-this.height/2),this.options.shapeProperties.useBorderWithImage===!0){const u=this.options.borderWidth,d=this.options.borderWidthSelected||2*this.options.borderWidth,h=(i?d:u)/this.body.view.scale;e.lineWidth=Math.min(this.width,h),e.beginPath();let f=i?this.options.color.highlight.border:s?this.options.color.hover.border:this.options.color.border,p=i?this.options.color.highlight.background:s?this.options.color.hover.background:this.options.color.background;a.opacity!==void 0&&(f=Tn(f,a.opacity),p=Tn(p,a.opacity)),e.strokeStyle=f,e.fillStyle=p,e.rect(this.left-.5*e.lineWidth,this.top-.5*e.lineWidth,this.width+e.lineWidth,this.height+e.lineWidth),fh(e).call(e),this.performStroke(e,a),e.closePath()}this._drawImageAtPosition(e,a),this._drawImageLabel(e,o,l,i,s),this.updateBoundingBox(r,n),e.restore()}updateBoundingBox(e,r){this.resize(),this.options.shapeProperties.coordinateOrigin==="top-left"?(this.left=e,this.top=r):(this.left=e-this.width/2,this.top=r-this.height/2),this.boundingBox.left=this.left,this.boundingBox.top=this.top,this.boundingBox.bottom=this.top+this.height,this.boundingBox.right=this.left+this.width,this.options.label!==void 0&&this.labelModule.size.width>0&&(this.boundingBox.left=Math.min(this.boundingBox.left,this.labelModule.size.left),this.boundingBox.right=Math.max(this.boundingBox.right,this.labelModule.size.left+this.labelModule.size.width),this.boundingBox.bottom=Math.max(this.boundingBox.bottom,this.boundingBox.bottom+this.labelOffset))}distanceToBorder(e,r){return this._distanceToBorder(e,r)}};class Uge extends wa{constructor(e,r,n){super(e,r,n)}draw(e,r,n,i,s,a){return this._drawShape(e,"square",2,r,n,i,s,a)}distanceToBorder(e,r){return this._distanceToBorder(e,r)}}class Wge extends wa{constructor(e,r,n){super(e,r,n)}draw(e,r,n,i,s,a){return this._drawShape(e,"hexagon",4,r,n,i,s,a)}distanceToBorder(e,r){return this._distanceToBorder(e,r)}}class Vge extends wa{constructor(e,r,n){super(e,r,n)}draw(e,r,n,i,s,a){return this._drawShape(e,"star",4,r,n,i,s,a)}distanceToBorder(e,r){return this._distanceToBorder(e,r)}}class Hge extends Bo{constructor(e,r,n){super(e,r,n),this._setMargins(n)}resize(e,r,n){this.needsRefresh(r,n)&&(this.textSize=this.labelModule.getTextSize(e,r,n),this.width=this.textSize.width+this.margin.right+this.margin.left,this.height=this.textSize.height+this.margin.top+this.margin.bottom,this.radius=.5*this.width)}draw(e,r,n,i,s,a){this.resize(e,i,s),this.left=r-this.width/2,this.top=n-this.height/2,this.enableShadow(e,a),this.labelModule.draw(e,this.left+this.textSize.width/2+this.margin.left,this.top+this.textSize.height/2+this.margin.top,i,s),this.disableShadow(e,a),this.updateBoundingBox(r,n,e,i,s)}distanceToBorder(e,r){return this._distanceToBorder(e,r)}}let Kge=class extends wa{constructor(e,r,n){super(e,r,n)}draw(e,r,n,i,s,a){return this._drawShape(e,"triangle",3,r,n,i,s,a)}distanceToBorder(e,r){return this._distanceToBorder(e,r)}};class Gge extends wa{constructor(e,r,n){super(e,r,n)}draw(e,r,n,i,s,a){return this._drawShape(e,"triangleDown",3,r,n,i,s,a)}distanceToBorder(e,r){return this._distanceToBorder(e,r)}}function nW(t,e){var r=xt(t);if(la){var n=la(t);e&&(n=Kr(n).call(n,function(i){return ba(t,i).enumerable})),r.push.apply(r,n)}return r}function iW(t){for(var e=1;e<arguments.length;e++){var r,n,i=arguments[e]!=null?arguments[e]:{};e%2?Xe(r=nW(Object(i),!0)).call(r,function(s){Bi(t,s,i[s])}):ua?xm(t,ua(i)):Xe(n=nW(Object(i))).call(n,function(s){_m(t,s,ba(i,s))})}return t}class lt{constructor(e,r,n,i,s,a){this.options=ta(s),this.globalOptions=s,this.defaultOptions=a,this.body=r,this.edges=[],this.id=void 0,this.imagelist=n,this.grouplist=i,this.x=void 0,this.y=void 0,this.baseSize=this.options.size,this.baseFontSize=this.options.font.size,this.predefinedPosition=!1,this.selected=!1,this.hover=!1,this.labelModule=new Cl(this.body,this.options,!1),this.setOptions(e)}attachEdge(e){var r;Ue(r=this.edges).call(r,e)===-1&&this.edges.push(e)}detachEdge(e){var r;const n=Ue(r=this.edges).call(r,e);if(n!=-1){var i;Ki(i=this.edges).call(i,n,1)}}setOptions(e){const r=this.options.shape;if(!e)return;if(typeof e.color<"u"&&(this._localColor=e.color),e.id!==void 0&&(this.id=e.id),this.id===void 0)throw new Error("Node must have an id");lt.checkMass(e,this.id),e.x!==void 0&&(e.x===null?(this.x=void 0,this.predefinedPosition=!1):(this.x=Qn(e.x),this.predefinedPosition=!0)),e.y!==void 0&&(e.y===null?(this.y=void 0,this.predefinedPosition=!1):(this.y=Qn(e.y),this.predefinedPosition=!0)),e.size!==void 0&&(this.baseSize=e.size),e.value!==void 0&&(e.value=yY(e.value)),lt.parseOptions(this.options,e,!0,this.globalOptions,this.grouplist);const n=[e,this.options,this.defaultOptions];return this.chooser=LT("node",n),this._load_images(),this.updateLabelModule(e),e.opacity!==void 0&&lt.checkOpacity(e.opacity)&&(this.options.opacity=e.opacity),this.updateShape(r),e.hidden!==void 0||e.physics!==void 0}_load_images(){if((this.options.shape==="circularImage"||this.options.shape==="image")&&this.options.image===void 0)throw new Error("Option image must be defined for node type '"+this.options.shape+"'");if(this.options.image!==void 0){if(this.imagelist===void 0)throw new Error("Internal Error: No images provided");if(typeof this.options.image=="string")this.imageObj=this.imagelist.load(this.options.image,this.options.brokenImage,this.id);else{if(this.options.image.unselected===void 0)throw new Error("No unselected image provided");this.imageObj=this.imagelist.load(this.options.image.unselected,this.options.brokenImage,this.id),this.options.image.selected!==void 0?this.imageObjAlt=this.imagelist.load(this.options.image.selected,this.options.brokenImage,this.id):this.imageObjAlt=void 0}}}static checkOpacity(e){return 0<=e&&e<=1}static checkCoordinateOrigin(e){return e===void 0||e==="center"||e==="top-left"}static updateGroupOptions(e,r,n){var i;if(n===void 0)return;const s=e.group;if(r!==void 0&&r.group!==void 0&&s!==r.group)throw new Error("updateGroupOptions: group values in options don't match.");if(!(typeof s=="number"||typeof s=="string"&&s!=""))return;const o=n.get(s);o.opacity!==void 0&&r.opacity===void 0&&(lt.checkOpacity(o.opacity)||(console.error("Invalid option for node opacity. Value must be between 0 and 1, found: "+o.opacity),o.opacity=void 0));const l=Kr(i=nge(r)).call(i,u=>r[u]!=null);l.push("font"),cp(l,e,o),e.color=fN(e.color)}static parseOptions(e,r){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},s=arguments.length>4?arguments[4]:void 0;if(cp(["color","fixed","shadow"],e,r,n),lt.checkMass(r),e.opacity!==void 0&&(lt.checkOpacity(e.opacity)||(console.error("Invalid option for node opacity. Value must be between 0 and 1, found: "+e.opacity),e.opacity=void 0)),r.opacity!==void 0&&(lt.checkOpacity(r.opacity)||(console.error("Invalid option for node opacity. Value must be between 0 and 1, found: "+r.opacity),r.opacity=void 0)),r.shapeProperties&&!lt.checkCoordinateOrigin(r.shapeProperties.coordinateOrigin)&&console.error("Invalid option for node coordinateOrigin, found: "+r.shapeProperties.coordinateOrigin),Pn(e,r,"shadow",i),r.color!==void 0&&r.color!==null){const o=fN(r.color);ZG(e.color,o)}else n===!0&&r.color===null&&(e.color=ta(i.color));r.fixed!==void 0&&r.fixed!==null&&(typeof r.fixed=="boolean"?(e.fixed.x=r.fixed,e.fixed.y=r.fixed):(r.fixed.x!==void 0&&typeof r.fixed.x=="boolean"&&(e.fixed.x=r.fixed.x),r.fixed.y!==void 0&&typeof r.fixed.y=="boolean"&&(e.fixed.y=r.fixed.y))),n===!0&&r.font===null&&(e.font=ta(i.font)),lt.updateGroupOptions(e,r,s),r.scaling!==void 0&&Pn(e.scaling,r.scaling,"label",i.scaling)}getFormattingValues(){const e={color:this.options.color.background,opacity:this.options.opacity,borderWidth:this.options.borderWidth,borderColor:this.options.color.border,size:this.options.size,borderDashes:this.options.shapeProperties.borderDashes,borderRadius:this.options.shapeProperties.borderRadius,shadow:this.options.shadow.enabled,shadowColor:this.options.shadow.color,shadowSize:this.options.shadow.size,shadowX:this.options.shadow.x,shadowY:this.options.shadow.y};if(this.selected||this.hover?this.chooser===!0?this.selected?(this.options.borderWidthSelected!=null?e.borderWidth=this.options.borderWidthSelected:e.borderWidth*=2,e.color=this.options.color.highlight.background,e.borderColor=this.options.color.highlight.border,e.shadow=this.options.shadow.enabled):this.hover&&(e.color=this.options.color.hover.background,e.borderColor=this.options.color.hover.border,e.shadow=this.options.shadow.enabled):typeof this.chooser=="function"&&(this.chooser(e,this.options.id,this.selected,this.hover),e.shadow===!1&&(e.shadowColor!==this.options.shadow.color||e.shadowSize!==this.options.shadow.size||e.shadowX!==this.options.shadow.x||e.shadowY!==this.options.shadow.y)&&(e.shadow=!0)):e.shadow=this.options.shadow.enabled,this.options.opacity!==void 0){const r=this.options.opacity;e.borderColor=Tn(e.borderColor,r),e.color=Tn(e.color,r),e.shadowColor=Tn(e.shadowColor,r)}return e}updateLabelModule(e){(this.options.label===void 0||this.options.label===null)&&(this.options.label=""),lt.updateGroupOptions(this.options,iW(iW({},e),{},{color:e&&e.color||this._localColor||void 0}),this.grouplist);const r=this.grouplist.get(this.options.group,!1),n=[e,this.options,r,this.globalOptions,this.defaultOptions];this.labelModule.update(this.options,n),this.labelModule.baseSize!==void 0&&(this.baseFontSize=this.labelModule.baseSize)}updateShape(e){if(e===this.options.shape&&this.shape)this.shape.setOptions(this.options,this.imageObj,this.imageObjAlt);else switch(this.options.shape){case"box":this.shape=new $ge(this.options,this.body,this.labelModule);break;case"circle":this.shape=new kge(this.options,this.body,this.labelModule);break;case"circularImage":this.shape=new Dge(this.options,this.body,this.labelModule,this.imageObj,this.imageObjAlt);break;case"custom":this.shape=new Mge(this.options,this.body,this.labelModule,this.options.ctxRenderer);break;case"database":this.shape=new Age(this.options,this.body,this.labelModule);break;case"diamond":this.shape=new Fge(this.options,this.body,this.labelModule);break;case"dot":this.shape=new Lge(this.options,this.body,this.labelModule);break;case"ellipse":this.shape=new rW(this.options,this.body,this.labelModule);break;case"icon":this.shape=new Bge(this.options,this.body,this.labelModule);break;case"image":this.shape=new zge(this.options,this.body,this.labelModule,this.imageObj,this.imageObjAlt);break;case"square":this.shape=new Uge(this.options,this.body,this.labelModule);break;case"hexagon":this.shape=new Wge(this.options,this.body,this.labelModule);break;case"star":this.shape=new Vge(this.options,this.body,this.labelModule);break;case"text":this.shape=new Hge(this.options,this.body,this.labelModule);break;case"triangle":this.shape=new Kge(this.options,this.body,this.labelModule);break;case"triangleDown":this.shape=new Gge(this.options,this.body,this.labelModule);break;default:this.shape=new rW(this.options,this.body,this.labelModule);break}this.needsRefresh()}select(){this.selected=!0,this.needsRefresh()}unselect(){this.selected=!1,this.needsRefresh()}needsRefresh(){this.shape.refreshNeeded=!0}getTitle(){return this.options.title}distanceToBorder(e,r){return this.shape.distanceToBorder(e,r)}isFixed(){return this.options.fixed.x&&this.options.fixed.y}isSelected(){return this.selected}getValue(){return this.options.value}getLabelSize(){return this.labelModule.size()}setValueRange(e,r,n){if(this.options.value!==void 0){const i=this.options.scaling.customScalingFunction(e,r,n,this.options.value),s=this.options.scaling.max-this.options.scaling.min;if(this.options.scaling.label.enabled===!0){const a=this.options.scaling.label.max-this.options.scaling.label.min;this.options.font.size=this.options.scaling.label.min+i*a}this.options.size=this.options.scaling.min+i*s}else this.options.size=this.baseSize,this.options.font.size=this.baseFontSize;this.updateLabelModule()}draw(e){const r=this.getFormattingValues();return this.shape.draw(e,this.x,this.y,this.selected,this.hover,r)||{}}updateBoundingBox(e){this.shape.updateBoundingBox(this.x,this.y,e)}resize(e){const r=this.getFormattingValues();this.shape.resize(e,this.selected,this.hover,r)}getItemsOnPoint(e){const r=[];return this.labelModule.visible()&&yN(this.labelModule.getSize(),e)&&r.push({nodeId:this.id,labelId:0}),yN(this.shape.boundingBox,e)&&r.push({nodeId:this.id}),r}isOverlappingWith(e){return this.shape.left<e.right&&this.shape.left+this.shape.width>e.left&&this.shape.top<e.bottom&&this.shape.top+this.shape.height>e.top}isBoundingBoxOverlappingWith(e){return this.shape.boundingBox.left<e.right&&this.shape.boundingBox.right>e.left&&this.shape.boundingBox.top<e.bottom&&this.shape.boundingBox.bottom>e.top}static checkMass(e,r){if(e.mass!==void 0&&e.mass<=0){let n="";r!==void 0&&(n=" in node id: "+r),console.error("%cNegative or zero mass disallowed"+n+", setting mass to 1.",nY),e.mass=1}}}class Yge{constructor(e,r,n,i){var s;if(this.body=e,this.images=r,this.groups=n,this.layoutEngine=i,this.body.functions.createNode=ee(s=this.create).call(s,this),this.nodesListeners={add:(a,o)=>{this.add(o.items)},update:(a,o)=>{this.update(o.items,o.data,o.oldData)},remove:(a,o)=>{this.remove(o.items)}},this.defaultOptions={borderWidth:1,borderWidthSelected:void 0,brokenImage:void 0,color:{border:"#2B7CE9",background:"#97C2FC",highlight:{border:"#2B7CE9",background:"#D2E5FF"},hover:{border:"#2B7CE9",background:"#D2E5FF"}},opacity:void 0,fixed:{x:!1,y:!1},font:{color:"#343434",size:14,face:"arial",background:"none",strokeWidth:0,strokeColor:"#ffffff",align:"center",vadjust:0,multi:!1,bold:{mod:"bold"},boldital:{mod:"bold italic"},ital:{mod:"italic"},mono:{mod:"",size:15,face:"monospace",vadjust:2}},group:void 0,hidden:!1,icon:{face:"FontAwesome",code:void 0,size:50,color:"#2B7CE9"},image:void 0,imagePadding:{top:0,right:0,bottom:0,left:0},label:void 0,labelHighlightBold:!0,level:void 0,margin:{top:5,right:5,bottom:5,left:5},mass:1,physics:!0,scaling:{min:10,max:30,label:{enabled:!1,min:14,max:30,maxVisible:30,drawThreshold:5},customScalingFunction:function(a,o,l,u){if(o===a)return .5;{const d=1/(o-a);return Math.max(0,(u-a)*d)}}},shadow:{enabled:!1,color:"rgba(0,0,0,0.5)",size:10,x:5,y:5},shape:"ellipse",shapeProperties:{borderDashes:!1,borderRadius:6,interpolation:!0,useImageSize:!1,useBorderWithImage:!1,coordinateOrigin:"center"},size:25,title:void 0,value:void 0,x:void 0,y:void 0},this.defaultOptions.mass<=0)throw"Internal error: mass in defaultOptions of NodesHandler may not be zero or negative";this.options=ta(this.defaultOptions),this.bindEventListeners()}bindEventListeners(){var e,r;this.body.emitter.on("refreshNodes",ee(e=this.refresh).call(e,this)),this.body.emitter.on("refresh",ee(r=this.refresh).call(r,this)),this.body.emitter.on("destroy",()=>{je(this.nodesListeners,(n,i)=>{this.body.data.nodes&&this.body.data.nodes.off(i,n)}),delete this.body.functions.createNode,delete this.nodesListeners.add,delete this.nodesListeners.update,delete this.nodesListeners.remove,delete this.nodesListeners})}setOptions(e){if(e!==void 0){if(lt.parseOptions(this.options,e),e.opacity!==void 0&&(gN(e.opacity)||!Ma(e.opacity)||e.opacity<0||e.opacity>1?console.error("Invalid option for node opacity. Value must be between 0 and 1, found: "+e.opacity):this.options.opacity=e.opacity),e.shape!==void 0)for(const r in this.body.nodes)Object.prototype.hasOwnProperty.call(this.body.nodes,r)&&this.body.nodes[r].updateShape();if(typeof e.font<"u"||typeof e.widthConstraint<"u"||typeof e.heightConstraint<"u")for(const r of xt(this.body.nodes))this.body.nodes[r].updateLabelModule(),this.body.nodes[r].needsRefresh();if(e.size!==void 0)for(const r in this.body.nodes)Object.prototype.hasOwnProperty.call(this.body.nodes,r)&&this.body.nodes[r].needsRefresh();(e.hidden!==void 0||e.physics!==void 0)&&this.body.emitter.emit("_dataChanged")}}setData(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;const n=this.body.data.nodes;if(X9("id",e))this.body.data.nodes=e;else if(Ot(e))this.body.data.nodes=new au,this.body.data.nodes.add(e);else if(!e)this.body.data.nodes=new au;else throw new TypeError("Array or DataSet expected");if(n&&je(this.nodesListeners,function(i,s){n.off(s,i)}),this.body.nodes={},this.body.data.nodes){const i=this;je(this.nodesListeners,function(a,o){i.body.data.nodes.on(o,a)});const s=this.body.data.nodes.getIds();this.add(s,!0)}r===!1&&this.body.emitter.emit("_dataChanged")}add(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,n;const i=[];for(let s=0;s<e.length;s++){n=e[s];const a=this.body.data.nodes.get(n),o=this.create(a);i.push(o),this.body.nodes[n]=o}this.layoutEngine.positionInitially(i),r===!1&&this.body.emitter.emit("_dataChanged")}update(e,r,n){const i=this.body.nodes;let s=!1;for(let a=0;a<e.length;a++){const o=e[a];let l=i[o];const u=r[a];l!==void 0?l.setOptions(u)&&(s=!0):(s=!0,l=this.create(u),i[o]=l)}!s&&n!==void 0&&(s=ive(r).call(r,function(a,o){const l=n[o];return l&&l.level!==a.level})),s===!0?this.body.emitter.emit("_dataChanged"):this.body.emitter.emit("_dataUpdated")}remove(e){const r=this.body.nodes;for(let n=0;n<e.length;n++){const i=e[n];delete r[i]}this.body.emitter.emit("_dataChanged")}create(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:lt;return new r(e,this.body,this.images,this.groups,this.options,this.defaultOptions)}refresh(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;je(this.body.nodes,(r,n)=>{const i=this.body.data.nodes.get(n);i!==void 0&&(e===!0&&r.setOptions({x:null,y:null}),r.setOptions({fixed:!1}),r.setOptions(i))})}getPositions(e){const r={};if(e!==void 0){if(Ot(e)===!0){for(let n=0;n<e.length;n++)if(this.body.nodes[e[n]]!==void 0){const i=this.body.nodes[e[n]];r[e[n]]={x:Math.round(i.x),y:Math.round(i.y)}}}else if(this.body.nodes[e]!==void 0){const n=this.body.nodes[e];r[e]={x:Math.round(n.x),y:Math.round(n.y)}}}else for(let n=0;n<this.body.nodeIndices.length;n++){const i=this.body.nodes[this.body.nodeIndices[n]];r[this.body.nodeIndices[n]]={x:Math.round(i.x),y:Math.round(i.y)}}return r}getPosition(e){if(e==null)throw new TypeError("No id was specified for getPosition method.");if(this.body.nodes[e]==null)throw new ReferenceError("NodeId provided for getPosition does not exist. Provided: ".concat(e));return{x:Math.round(this.body.nodes[e].x),y:Math.round(this.body.nodes[e].y)}}storePositions(){const e=[],r=this.body.data.nodes.getDataSet();for(const n of r.get()){const i=n.id,s=this.body.nodes[i],a=Math.round(s.x),o=Math.round(s.y);(n.x!==a||n.y!==o)&&e.push({id:i,x:a,y:o})}r.update(e)}getBoundingBox(e){if(this.body.nodes[e]!==void 0)return this.body.nodes[e].shape.boundingBox}getConnectedNodes(e,r){const n=[];if(this.body.nodes[e]!==void 0){const i=this.body.nodes[e],s={};for(let a=0;a<i.edges.length;a++){const o=i.edges[a];r!=="to"&&o.toId==i.id?s[o.fromId]===void 0&&(n.push(o.fromId),s[o.fromId]=!0):r!=="from"&&o.fromId==i.id&&s[o.toId]===void 0&&(n.push(o.toId),s[o.toId]=!0)}}return n}getConnectedEdges(e){const r=[];if(this.body.nodes[e]!==void 0){const n=this.body.nodes[e];for(let i=0;i<n.edges.length;i++)r.push(n.edges[i].id)}else console.error("NodeId provided for getConnectedEdges does not exist. Provided: ",e);return r}moveNode(e,r,n){this.body.nodes[e]!==void 0?(this.body.nodes[e].x=Number(r),this.body.nodes[e].y=Number(n),Gi(()=>{this.body.emitter.emit("startSimulation")},0)):console.error("Node id supplied to moveNode does not exist. Provided: ",e)}}var sW={},aW;function Qge(){if(aW)return sW;aW=1;var t=be(),e=Math.hypot,r=Math.abs,n=Math.sqrt,i=!!e&&e(1/0,NaN)!==1/0;return t({target:"Math",stat:!0,arity:2,forced:i},{hypot:function(a,o){for(var l=0,u=0,d=arguments.length,h=0,f,p;u<d;)f=r(arguments[u++]),h<f?(p=h/f,l=l*p*p+1,h=f):f>0?(p=f/h,l+=p*p):l+=f;return h===1/0?1/0:h*n(l)}}),sW}var RE,oW;function Xge(){if(oW)return RE;oW=1,Qge();var t=He();return RE=t.Math.hypot,RE}var jE,lW;function Jge(){if(lW)return jE;lW=1;var t=Xge();return jE=t,jE}var $E,uW;function Zge(){return uW||(uW=1,$E=Jge()),$E}var eye=Zge(),tye=Ee(eye);class Nt{static transform(e,r){Ot(e)||(e=[e]);const n=r.point.x,i=r.point.y,s=r.angle,a=r.length;for(let o=0;o<e.length;++o){const l=e[o],u=l.x*Math.cos(s)-l.y*Math.sin(s),d=l.x*Math.sin(s)+l.y*Math.cos(s);l.x=n+a*u,l.y=i+a*d}}static drawPath(e,r){e.beginPath(),e.moveTo(r[0].x,r[0].y);for(let n=1;n<r.length;++n)e.lineTo(r[n].x,r[n].y);e.closePath()}}let rye=class extends Nt{static draw(e,r){if(r.image){e.save(),e.translate(r.point.x,r.point.y),e.rotate(Math.PI/2+r.angle);const n=r.imageWidth!=null?r.imageWidth:r.image.width,i=r.imageHeight!=null?r.imageHeight:r.image.height;r.image.drawImageAtPosition(e,1,-n/2,0,n,i),e.restore()}return!1}};class nye extends Nt{static draw(e,r){const n=[{x:0,y:0},{x:-1,y:.3},{x:-.9,y:0},{x:-1,y:-.3}];return Nt.transform(n,r),Nt.drawPath(e,n),!0}}class iye{static draw(e,r){const n=[{x:-1,y:0},{x:0,y:.3},{x:-.4,y:0},{x:0,y:-.3}];return Nt.transform(n,r),Nt.drawPath(e,n),!0}}class sye{static draw(e,r){const n={x:-.4,y:0};Nt.transform(n,r),e.strokeStyle=e.fillStyle,e.fillStyle="rgba(0, 0, 0, 0)";const i=Math.PI,s=r.angle-i/2,a=r.angle+i/2;return e.beginPath(),e.arc(n.x,n.y,r.length*.4,s,a,!1),e.stroke(),!0}}class aye{static draw(e,r){const n={x:-.3,y:0};Nt.transform(n,r),e.strokeStyle=e.fillStyle,e.fillStyle="rgba(0, 0, 0, 0)";const i=Math.PI,s=r.angle+i/2,a=r.angle+3*i/2;return e.beginPath(),e.arc(n.x,n.y,r.length*.4,s,a,!1),e.stroke(),!0}}class oye{static draw(e,r){const n=[{x:.02,y:0},{x:-1,y:.3},{x:-1,y:-.3}];return Nt.transform(n,r),Nt.drawPath(e,n),!0}}class lye{static draw(e,r){const n=[{x:0,y:.3},{x:0,y:-.3},{x:-1,y:0}];return Nt.transform(n,r),Nt.drawPath(e,n),!0}}class uye{static draw(e,r){const n={x:-.4,y:0};return Nt.transform(n,r),pT(e,n.x,n.y,r.length*.4),!0}}class cye{static draw(e,r){const n=[{x:0,y:.5},{x:0,y:-.5},{x:-.15,y:-.5},{x:-.15,y:.5}];return Nt.transform(n,r),Nt.drawPath(e,n),!0}}class dye{static draw(e,r){const n=[{x:0,y:.3},{x:0,y:-.3},{x:-.6,y:-.3},{x:-.6,y:.3}];return Nt.transform(n,r),Nt.drawPath(e,n),!0}}class hye{static draw(e,r){const n=[{x:0,y:0},{x:-.5,y:-.3},{x:-1,y:0},{x:-.5,y:.3}];return Nt.transform(n,r),Nt.drawPath(e,n),!0}}class fye{static draw(e,r){const n=[{x:-1,y:.3},{x:-.5,y:0},{x:-1,y:-.3},{x:0,y:0}];return Nt.transform(n,r),Nt.drawPath(e,n),!0}}class xY{static draw(e,r){let n;switch(r.type&&(n=r.type.toLowerCase()),n){case"image":return rye.draw(e,r);case"circle":return uye.draw(e,r);case"box":return dye.draw(e,r);case"crow":return iye.draw(e,r);case"curve":return sye.draw(e,r);case"diamond":return hye.draw(e,r);case"inv_curve":return aye.draw(e,r);case"triangle":return oye.draw(e,r);case"inv_triangle":return lye.draw(e,r);case"bar":return cye.draw(e,r);case"vee":return fye.draw(e,r);case"arrow":default:return nye.draw(e,r)}}}function cW(t,e){var r=xt(t);if(la){var n=la(t);e&&(n=Kr(n).call(n,function(i){return ba(t,i).enumerable})),r.push.apply(r,n)}return r}function dW(t){for(var e=1;e<arguments.length;e++){var r,n,i=arguments[e]!=null?arguments[e]:{};e%2?Xe(r=cW(Object(i),!0)).call(r,function(s){Bi(t,s,i[s])}):ua?xm(t,ua(i)):Xe(n=cW(Object(i))).call(n,function(s){_m(t,s,ba(i,s))})}return t}class _Y{constructor(e,r,n){Bi(this,"color",{}),Bi(this,"colorDirty",!0),Bi(this,"hoverWidth",1.5),Bi(this,"selectionWidth",2),this._body=r,this._labelModule=n,this.setOptions(e),this.fromPoint=this.from,this.toPoint=this.to}connect(){this.from=this._body.nodes[this.options.from],this.to=this._body.nodes[this.options.to]}cleanup(){return!1}setOptions(e){this.options=e,this.from=this._body.nodes[this.options.from],this.to=this._body.nodes[this.options.to],this.id=this.options.id}drawLine(e,r,n,i){let s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:this.getViaNode();e.strokeStyle=this.getColor(e,r),e.lineWidth=r.width,r.dashes!==!1?this._drawDashedLine(e,r,s):this._drawLine(e,r,s)}_drawLine(e,r,n,i,s){if(this.from!=this.to)this._line(e,r,n,i,s);else{const[a,o,l]=this._getCircleData(e);this._circle(e,r,a,o,l)}}_drawDashedLine(e,r,n,i,s){e.lineCap="round";const a=Ot(r.dashes)?r.dashes:[5,5];if(e.setLineDash!==void 0){if(e.save(),e.setLineDash(a),e.lineDashOffset=0,this.from!=this.to)this._line(e,r,n);else{const[o,l,u]=this._getCircleData(e);this._circle(e,r,o,l,u)}e.setLineDash([0]),e.lineDashOffset=0,e.restore()}else{if(this.from!=this.to)oG(e,this.from.x,this.from.y,this.to.x,this.to.y,a);else{const[o,l,u]=this._getCircleData(e);this._circle(e,r,o,l,u)}this.enableShadow(e,r),e.stroke(),this.disableShadow(e,r)}}findBorderPosition(e,r,n){return this.from!=this.to?this._findBorderPosition(e,r,n):this._findBorderPositionCircle(e,r,n)}findBorderPositions(e){if(this.from!=this.to)return{from:this._findBorderPosition(this.from,e),to:this._findBorderPosition(this.to,e)};{var r;const[n,i]=gi(r=this._getCircleData(e)).call(r,0,2);return{from:this._findBorderPositionCircle(this.from,e,{x:n,y:i,low:.25,high:.6,direction:-1}),to:this._findBorderPositionCircle(this.from,e,{x:n,y:i,low:.6,high:.8,direction:1})}}}_getCircleData(e){const r=this.options.selfReference.size;e!==void 0&&this.from.shape.width===void 0&&this.from.shape.resize(e);const n=bY(e,this.options.selfReference.angle,r,this.from);return[n.x,n.y,r]}_pointOnCircle(e,r,n,i){const s=i*2*Math.PI;return{x:e+n*Math.cos(s),y:r-n*Math.sin(s)}}_findBorderPositionCircle(e,r,n){const i=n.x,s=n.y;let a=n.low,o=n.high;const l=n.direction,u=10,d=this.options.selfReference.size,h=.05;let f,p=(a+o)*.5,m=0;this.options.arrowStrikethrough===!0&&(l===-1?m=this.options.endPointOffset.from:l===1&&(m=this.options.endPointOffset.to));let y=0;do{p=(a+o)*.5,f=this._pointOnCircle(i,s,d,p);const b=Math.atan2(e.y-f.y,e.x-f.x),g=e.distanceToBorder(r,b)+m,v=Math.sqrt(Math.pow(f.x-e.x,2)+Math.pow(f.y-e.y,2)),x=g-v;if(Math.abs(x)<h)break;x>0?l>0?a=p:o=p:l>0?o=p:a=p,++y}while(a<=o&&y<u);return dW(dW({},f),{},{t:p})}getLineWidth(e,r){return e===!0?Math.max(this.selectionWidth,.3/this._body.view.scale):r===!0?Math.max(this.hoverWidth,.3/this._body.view.scale):Math.max(this.options.width,.3/this._body.view.scale)}getColor(e,r){if(r.inheritsColor!==!1){if(r.inheritsColor==="both"&&this.from.id!==this.to.id){const n=e.createLinearGradient(this.from.x,this.from.y,this.to.x,this.to.y);let i=this.from.options.color.highlight.border,s=this.to.options.color.highlight.border;return this.from.selected===!1&&this.to.selected===!1?(i=Tn(this.from.options.color.border,r.opacity),s=Tn(this.to.options.color.border,r.opacity)):this.from.selected===!0&&this.to.selected===!1?s=this.to.options.color.border:this.from.selected===!1&&this.to.selected===!0&&(i=this.from.options.color.border),n.addColorStop(0,i),n.addColorStop(1,s),n}return r.inheritsColor==="to"?Tn(this.to.options.color.border,r.opacity):Tn(this.from.options.color.border,r.opacity)}else return Tn(r.color,r.opacity)}_circle(e,r,n,i,s){this.enableShadow(e,r);let a=0,o=Math.PI*2;if(!this.options.selfReference.renderBehindTheNode){const l=this.options.selfReference.angle,u=this.options.selfReference.angle+Math.PI,d=this._findBorderPositionCircle(this.from,e,{x:n,y:i,low:l,high:u,direction:-1}),h=this._findBorderPositionCircle(this.from,e,{x:n,y:i,low:l,high:u,direction:1});a=Math.atan2(d.y-i,d.x-n),o=Math.atan2(h.y-i,h.x-n)}e.beginPath(),e.arc(n,i,s,a,o,!1),e.stroke(),this.disableShadow(e,r)}getDistanceToEdge(e,r,n,i,s,a){if(this.from!=this.to)return this._getDistanceToEdge(e,r,n,i,s,a);{const[o,l,u]=this._getCircleData(void 0),d=o-s,h=l-a;return Math.abs(Math.sqrt(d*d+h*h)-u)}}_getDistanceToLine(e,r,n,i,s,a){const o=n-e,l=i-r,u=o*o+l*l;let d=((s-e)*o+(a-r)*l)/u;d>1?d=1:d<0&&(d=0);const h=e+d*o,f=r+d*l,p=h-s,m=f-a;return Math.sqrt(p*p+m*m)}getArrowData(e,r,n,i,s,a){let o,l,u,d,h,f,p;const m=a.width;r==="from"?(u=this.from,d=this.to,h=a.fromArrowScale<0,f=Math.abs(a.fromArrowScale),p=a.fromArrowType):r==="to"?(u=this.to,d=this.from,h=a.toArrowScale<0,f=Math.abs(a.toArrowScale),p=a.toArrowType):(u=this.to,d=this.from,h=a.middleArrowScale<0,f=Math.abs(a.middleArrowScale),p=a.middleArrowType);const y=15*f+3*m;if(u!=d){const x=tye(u.x-d.x,u.y-d.y),w=y/x;if(r!=="middle")if(this.options.smooth.enabled===!0){const _=this._findBorderPosition(u,e,{via:n}),E=this.getPoint(_.t+w*(r==="from"?1:-1),n);o=Math.atan2(_.y-E.y,_.x-E.x),l=_}else o=Math.atan2(u.y-d.y,u.x-d.x),l=this._findBorderPosition(u,e);else{const _=(h?-w:w)/2,E=this.getPoint(.5+_,n),O=this.getPoint(.5-_,n);o=Math.atan2(E.y-O.y,E.x-O.x),l=this.getPoint(.5,n)}}else{const[x,w,_]=this._getCircleData(e);if(r==="from"){const E=this.options.selfReference.angle,O=this.options.selfReference.angle+Math.PI,S=this._findBorderPositionCircle(this.from,e,{x,y:w,low:E,high:O,direction:-1});o=S.t*-2*Math.PI+1.5*Math.PI+.1*Math.PI,l=S}else if(r==="to"){const E=this.options.selfReference.angle,O=this.options.selfReference.angle+Math.PI,S=this._findBorderPositionCircle(this.from,e,{x,y:w,low:E,high:O,direction:1});o=S.t*-2*Math.PI+1.5*Math.PI-1.1*Math.PI,l=S}else{const E=this.options.selfReference.angle/(2*Math.PI);l=this._pointOnCircle(x,w,_,E),o=E*-2*Math.PI+1.5*Math.PI+.1*Math.PI}}const b=l.x-y*.9*Math.cos(o),g=l.y-y*.9*Math.sin(o);return{point:l,core:{x:b,y:g},angle:o,length:y,type:p}}drawArrowHead(e,r,n,i,s){e.strokeStyle=this.getColor(e,r),e.fillStyle=e.strokeStyle,e.lineWidth=r.width,xY.draw(e,s)&&(this.enableShadow(e,r),fh(e).call(e),this.disableShadow(e,r))}enableShadow(e,r){r.shadow===!0&&(e.shadowColor=r.shadowColor,e.shadowBlur=r.shadowSize,e.shadowOffsetX=r.shadowX,e.shadowOffsetY=r.shadowY)}disableShadow(e,r){r.shadow===!0&&(e.shadowColor="rgba(0,0,0,0)",e.shadowBlur=0,e.shadowOffsetX=0,e.shadowOffsetY=0)}drawBackground(e,r){if(r.background!==!1){const n={strokeStyle:e.strokeStyle,lineWidth:e.lineWidth,dashes:e.dashes};e.strokeStyle=r.backgroundColor,e.lineWidth=r.backgroundSize,this.setStrokeDashed(e,r.backgroundDashes),e.stroke(),e.strokeStyle=n.strokeStyle,e.lineWidth=n.lineWidth,e.dashes=n.dashes,this.setStrokeDashed(e,r.dashes)}}setStrokeDashed(e,r){if(r!==!1)if(e.setLineDash!==void 0){const n=Ot(r)?r:[5,5];e.setLineDash(n)}else console.warn("setLineDash is not supported in this browser. The dashed stroke cannot be used.");else e.setLineDash!==void 0?e.setLineDash([]):console.warn("setLineDash is not supported in this browser. The dashed stroke cannot be used.")}}function hW(t,e){var r=xt(t);if(la){var n=la(t);e&&(n=Kr(n).call(n,function(i){return ba(t,i).enumerable})),r.push.apply(r,n)}return r}function fW(t){for(var e=1;e<arguments.length;e++){var r,n,i=arguments[e]!=null?arguments[e]:{};e%2?Xe(r=hW(Object(i),!0)).call(r,function(s){Bi(t,s,i[s])}):ua?xm(t,ua(i)):Xe(n=hW(Object(i))).call(n,function(s){_m(t,s,ba(i,s))})}return t}class zT extends _Y{constructor(e,r,n){super(e,r,n)}_findBorderPositionBezier(e,r){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this._getViaCoordinates();const i=10,s=.2;let a=!1,o=1,l=0,u=this.to,d,h,f=this.options.endPointOffset?this.options.endPointOffset.to:0;e.id===this.from.id&&(u=this.from,a=!0,f=this.options.endPointOffset?this.options.endPointOffset.from:0),this.options.arrowStrikethrough===!1&&(f=0);let p=0;do{h=(l+o)*.5,d=this.getPoint(h,n);const m=Math.atan2(u.y-d.y,u.x-d.x),y=u.distanceToBorder(r,m)+f,b=Math.sqrt(Math.pow(d.x-u.x,2)+Math.pow(d.y-u.y,2)),g=y-b;if(Math.abs(g)<s)break;g<0?a===!1?l=h:o=h:a===!1?o=h:l=h,++p}while(l<=o&&p<i);return fW(fW({},d),{},{t:h})}_getDistanceToBezierEdge(e,r,n,i,s,a,o){let l=1e9,u,d,h,f,p,m=e,y=r;for(d=1;d<10;d++)h=.1*d,f=Math.pow(1-h,2)*e+2*h*(1-h)*o.x+Math.pow(h,2)*n,p=Math.pow(1-h,2)*r+2*h*(1-h)*o.y+Math.pow(h,2)*i,d>0&&(u=this._getDistanceToLine(m,y,f,p,s,a),l=u<l?u:l),m=f,y=p;return l}_bezierCurve(e,r,n,i){e.beginPath(),e.moveTo(this.fromPoint.x,this.fromPoint.y),n!=null&&n.x!=null?i!=null&&i.x!=null?e.bezierCurveTo(n.x,n.y,i.x,i.y,this.toPoint.x,this.toPoint.y):e.quadraticCurveTo(n.x,n.y,this.toPoint.x,this.toPoint.y):e.lineTo(this.toPoint.x,this.toPoint.y),this.drawBackground(e,r),this.enableShadow(e,r),e.stroke(),this.disableShadow(e,r)}getViaNode(){return this._getViaCoordinates()}}class pW extends zT{constructor(e,r,n){super(e,r,n),Bi(this,"via",this.via),this._boundFunction=()=>{this.positionBezierNode()},this._body.emitter.on("_repositionBezierNodes",this._boundFunction)}setOptions(e){super.setOptions(e);let r=!1;this.options.physics!==e.physics&&(r=!0),this.options=e,this.id=this.options.id,this.from=this._body.nodes[this.options.from],this.to=this._body.nodes[this.options.to],this.setupSupportNode(),this.connect(),r===!0&&(this.via.setOptions({physics:this.options.physics}),this.positionBezierNode())}connect(){this.from=this._body.nodes[this.options.from],this.to=this._body.nodes[this.options.to],this.from===void 0||this.to===void 0||this.options.physics===!1?this.via.setOptions({physics:!1}):this.from.id===this.to.id?this.via.setOptions({physics:!1}):this.via.setOptions({physics:!0})}cleanup(){return this._body.emitter.off("_repositionBezierNodes",this._boundFunction),this.via!==void 0?(delete this._body.nodes[this.via.id],this.via=void 0,!0):!1}setupSupportNode(){if(this.via===void 0){const e="edgeId:"+this.id,r=this._body.functions.createNode({id:e,shape:"circle",physics:!0,hidden:!0});this._body.nodes[e]=r,this.via=r,this.via.parentEdgeId=this.id,this.positionBezierNode()}}positionBezierNode(){this.via!==void 0&&this.from!==void 0&&this.to!==void 0?(this.via.x=.5*(this.from.x+this.to.x),this.via.y=.5*(this.from.y+this.to.y)):this.via!==void 0&&(this.via.x=0,this.via.y=0)}_line(e,r,n){this._bezierCurve(e,r,n)}_getViaCoordinates(){return this.via}getViaNode(){return this.via}getPoint(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.via;if(this.from===this.to){const[n,i,s]=this._getCircleData(),a=2*Math.PI*(1-e);return{x:n+s*Math.sin(a),y:i+s-s*(1-Math.cos(a))}}else return{x:Math.pow(1-e,2)*this.fromPoint.x+2*e*(1-e)*r.x+Math.pow(e,2)*this.toPoint.x,y:Math.pow(1-e,2)*this.fromPoint.y+2*e*(1-e)*r.y+Math.pow(e,2)*this.toPoint.y}}_findBorderPosition(e,r){return this._findBorderPositionBezier(e,r,this.via)}_getDistanceToEdge(e,r,n,i,s,a){return this._getDistanceToBezierEdge(e,r,n,i,s,a,this.via)}}class mW extends zT{constructor(e,r,n){super(e,r,n)}_line(e,r,n){this._bezierCurve(e,r,n)}getViaNode(){return this._getViaCoordinates()}_getViaCoordinates(){const e=this.options.smooth.roundness,r=this.options.smooth.type;let n=Math.abs(this.from.x-this.to.x),i=Math.abs(this.from.y-this.to.y);if(r==="discrete"||r==="diagonalCross"){let s,a;n<=i?s=a=e*i:s=a=e*n,this.from.x>this.to.x&&(s=-s),this.from.y>=this.to.y&&(a=-a);let o=this.from.x+s,l=this.from.y+a;return r==="discrete"&&(n<=i?o=n<e*i?this.from.x:o:l=i<e*n?this.from.y:l),{x:o,y:l}}else if(r==="straightCross"){let s=(1-e)*n,a=(1-e)*i;return n<=i?(s=0,this.from.y<this.to.y&&(a=-a)):(this.from.x<this.to.x&&(s=-s),a=0),{x:this.to.x+s,y:this.to.y+a}}else if(r==="horizontal"){let s=(1-e)*n;return this.from.x<this.to.x&&(s=-s),{x:this.to.x+s,y:this.from.y}}else if(r==="vertical"){let s=(1-e)*i;return this.from.y<this.to.y&&(s=-s),{x:this.from.x,y:this.to.y+s}}else if(r==="curvedCW"){n=this.to.x-this.from.x,i=this.from.y-this.to.y;const s=Math.sqrt(n*n+i*i),a=Math.PI,l=(Math.atan2(i,n)+(e*.5+.5)*a)%(2*a);return{x:this.from.x+(e*.5+.5)*s*Math.sin(l),y:this.from.y+(e*.5+.5)*s*Math.cos(l)}}else if(r==="curvedCCW"){n=this.to.x-this.from.x,i=this.from.y-this.to.y;const s=Math.sqrt(n*n+i*i),a=Math.PI,l=(Math.atan2(i,n)+(-e*.5+.5)*a)%(2*a);return{x:this.from.x+(e*.5+.5)*s*Math.sin(l),y:this.from.y+(e*.5+.5)*s*Math.cos(l)}}else{let s,a;n<=i?s=a=e*i:s=a=e*n,this.from.x>this.to.x&&(s=-s),this.from.y>=this.to.y&&(a=-a);let o=this.from.x+s,l=this.from.y+a;return n<=i?this.from.x<=this.to.x?o=this.to.x<o?this.to.x:o:o=this.to.x>o?this.to.x:o:this.from.y>=this.to.y?l=this.to.y>l?this.to.y:l:l=this.to.y<l?this.to.y:l,{x:o,y:l}}}_findBorderPosition(e,r){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this._findBorderPositionBezier(e,r,n.via)}_getDistanceToEdge(e,r,n,i,s,a){let o=arguments.length>6&&arguments[6]!==void 0?arguments[6]:this._getViaCoordinates();return this._getDistanceToBezierEdge(e,r,n,i,s,a,o)}getPoint(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this._getViaCoordinates();const n=e,i=Math.pow(1-n,2)*this.fromPoint.x+2*n*(1-n)*r.x+Math.pow(n,2)*this.toPoint.x,s=Math.pow(1-n,2)*this.fromPoint.y+2*n*(1-n)*r.y+Math.pow(n,2)*this.toPoint.y;return{x:i,y:s}}}class pye extends zT{constructor(e,r,n){super(e,r,n)}_getDistanceToBezierEdge2(e,r,n,i,s,a,o,l){let u=1e9,d=e,h=r;const f=[0,0,0,0];for(let p=1;p<10;p++){const m=.1*p;f[0]=Math.pow(1-m,3),f[1]=3*m*Math.pow(1-m,2),f[2]=3*Math.pow(m,2)*(1-m),f[3]=Math.pow(m,3);const y=f[0]*e+f[1]*o.x+f[2]*l.x+f[3]*n,b=f[0]*r+f[1]*o.y+f[2]*l.y+f[3]*i;if(p>0){const g=this._getDistanceToLine(d,h,y,b,s,a);u=g<u?g:u}d=y,h=b}return u}}class vW extends pye{constructor(e,r,n){super(e,r,n)}_line(e,r,n){const i=n[0],s=n[1];this._bezierCurve(e,r,i,s)}_getViaCoordinates(){const e=this.from.x-this.to.x,r=this.from.y-this.to.y;let n,i,s,a;const o=this.options.smooth.roundness;return(Math.abs(e)>Math.abs(r)||this.options.smooth.forceDirection===!0||this.options.smooth.forceDirection==="horizontal")&&this.options.smooth.forceDirection!=="vertical"?(i=this.from.y,a=this.to.y,n=this.from.x-o*e,s=this.to.x+o*e):(i=this.from.y-o*r,a=this.to.y+o*r,n=this.from.x,s=this.to.x),[{x:n,y:i},{x:s,y:a}]}getViaNode(){return this._getViaCoordinates()}_findBorderPosition(e,r){return this._findBorderPositionBezier(e,r)}_getDistanceToEdge(e,r,n,i,s,a){let[o,l]=arguments.length>6&&arguments[6]!==void 0?arguments[6]:this._getViaCoordinates();return this._getDistanceToBezierEdge2(e,r,n,i,s,a,o,l)}getPoint(e){let[r,n]=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this._getViaCoordinates();const i=e,s=[Math.pow(1-i,3),3*i*Math.pow(1-i,2),3*Math.pow(i,2)*(1-i),Math.pow(i,3)],a=s[0]*this.fromPoint.x+s[1]*r.x+s[2]*n.x+s[3]*this.toPoint.x,o=s[0]*this.fromPoint.y+s[1]*r.y+s[2]*n.y+s[3]*this.toPoint.y;return{x:a,y:o}}}class gW extends _Y{constructor(e,r,n){super(e,r,n)}_line(e,r){e.beginPath(),e.moveTo(this.fromPoint.x,this.fromPoint.y),e.lineTo(this.toPoint.x,this.toPoint.y),this.enableShadow(e,r),e.stroke(),this.disableShadow(e,r)}getViaNode(){}getPoint(e){return{x:(1-e)*this.fromPoint.x+e*this.toPoint.x,y:(1-e)*this.fromPoint.y+e*this.toPoint.y}}_findBorderPosition(e,r){let n=this.to,i=this.from;e.id===this.from.id&&(n=this.from,i=this.to);const s=Math.atan2(n.y-i.y,n.x-i.x),a=n.x-i.x,o=n.y-i.y,l=Math.sqrt(a*a+o*o),u=e.distanceToBorder(r,s),d=(l-u)/l;return{x:(1-d)*i.x+d*n.x,y:(1-d)*i.y+d*n.y,t:0}}_getDistanceToEdge(e,r,n,i,s,a){return this._getDistanceToLine(e,r,n,i,s,a)}}class ra{constructor(e,r,n,i,s){if(r===void 0)throw new Error("No body provided");this.options=ta(i),this.globalOptions=i,this.defaultOptions=s,this.body=r,this.imagelist=n,this.id=void 0,this.fromId=void 0,this.toId=void 0,this.selected=!1,this.hover=!1,this.labelDirty=!0,this.baseWidth=this.options.width,this.baseFontSize=this.options.font.size,this.from=void 0,this.to=void 0,this.edgeType=void 0,this.connected=!1,this.labelModule=new Cl(this.body,this.options,!0),this.setOptions(e)}setOptions(e){if(!e)return;let r=typeof e.physics<"u"&&this.options.physics!==e.physics||typeof e.hidden<"u"&&(this.options.hidden||!1)!==(e.hidden||!1)||typeof e.from<"u"&&this.options.from!==e.from||typeof e.to<"u"&&this.options.to!==e.to;ra.parseOptions(this.options,e,!0,this.globalOptions),e.id!==void 0&&(this.id=e.id),e.from!==void 0&&(this.fromId=e.from),e.to!==void 0&&(this.toId=e.to),e.title!==void 0&&(this.title=e.title),e.value!==void 0&&(e.value=yY(e.value));const n=[e,this.options,this.defaultOptions];return this.chooser=LT("edge",n),this.updateLabelModule(e),r=this.updateEdgeType()||r,this._setInteractionWidths(),this.connect(),r}static parseOptions(e,r){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1;if(Ku(["endPointOffset","arrowStrikethrough","id","from","hidden","hoverWidth","labelHighlightBold","length","line","opacity","physics","scaling","selectionWidth","selfReferenceSize","selfReference","to","title","value","width","font","chosen","widthConstraint"],e,r,n),r.endPointOffset!==void 0&&r.endPointOffset.from!==void 0&&(Ma(r.endPointOffset.from)?e.endPointOffset.from=r.endPointOffset.from:(e.endPointOffset.from=i.endPointOffset.from!==void 0?i.endPointOffset.from:0,console.error("endPointOffset.from is not a valid number"))),r.endPointOffset!==void 0&&r.endPointOffset.to!==void 0&&(Ma(r.endPointOffset.to)?e.endPointOffset.to=r.endPointOffset.to:(e.endPointOffset.to=i.endPointOffset.to!==void 0?i.endPointOffset.to:0,console.error("endPointOffset.to is not a valid number"))),hp(r.label)?e.label=r.label:hp(e.label)||(e.label=void 0),Pn(e,r,"smooth",i),Pn(e,r,"shadow",i),Pn(e,r,"background",i),r.dashes!==void 0&&r.dashes!==null?e.dashes=r.dashes:n===!0&&r.dashes===null&&(e.dashes=eo(i.dashes)),r.scaling!==void 0&&r.scaling!==null?(r.scaling.min!==void 0&&(e.scaling.min=r.scaling.min),r.scaling.max!==void 0&&(e.scaling.max=r.scaling.max),Pn(e.scaling,r.scaling,"label",i.scaling)):n===!0&&r.scaling===null&&(e.scaling=eo(i.scaling)),r.arrows!==void 0&&r.arrows!==null)if(typeof r.arrows=="string"){const o=r.arrows.toLowerCase();e.arrows.to.enabled=Ue(o).call(o,"to")!=-1,e.arrows.middle.enabled=Ue(o).call(o,"middle")!=-1,e.arrows.from.enabled=Ue(o).call(o,"from")!=-1}else if(typeof r.arrows=="object")Pn(e.arrows,r.arrows,"to",i.arrows),Pn(e.arrows,r.arrows,"middle",i.arrows),Pn(e.arrows,r.arrows,"from",i.arrows);else throw new Error("The arrow newOptions can only be an object or a string. Refer to the documentation. You used:"+hh(r.arrows));else n===!0&&r.arrows===null&&(e.arrows=eo(i.arrows));if(r.color!==void 0&&r.color!==null){const o=Pl(r.color)?{color:r.color,highlight:r.color,hover:r.color,inherit:!1,opacity:1}:r.color,l=e.color;if(s)tt(l,i.color,!1,n);else for(const u in l)Object.prototype.hasOwnProperty.call(l,u)&&delete l[u];if(Pl(l))l.color=l,l.highlight=l,l.hover=l,l.inherit=!1,o.opacity===void 0&&(l.opacity=1);else{let u=!1;o.color!==void 0&&(l.color=o.color,u=!0),o.highlight!==void 0&&(l.highlight=o.highlight,u=!0),o.hover!==void 0&&(l.hover=o.hover,u=!0),o.inherit!==void 0&&(l.inherit=o.inherit),o.opacity!==void 0&&(l.opacity=Math.min(1,Math.max(0,o.opacity))),u===!0?l.inherit=!1:l.inherit===void 0&&(l.inherit="from")}}else n===!0&&r.color===null&&(e.color=ta(i.color));n===!0&&r.font===null&&(e.font=ta(i.font)),Object.prototype.hasOwnProperty.call(r,"selfReferenceSize")&&(console.warn("The selfReferenceSize property has been deprecated. Please use selfReference property instead. The selfReference can be set like thise selfReference:{size:30, angle:Math.PI / 4}"),e.selfReference.size=r.selfReferenceSize)}getFormattingValues(){const e=this.options.arrows.to===!0||this.options.arrows.to.enabled===!0,r=this.options.arrows.from===!0||this.options.arrows.from.enabled===!0,n=this.options.arrows.middle===!0||this.options.arrows.middle.enabled===!0,i=this.options.color.inherit,s={toArrow:e,toArrowScale:this.options.arrows.to.scaleFactor,toArrowType:this.options.arrows.to.type,toArrowSrc:this.options.arrows.to.src,toArrowImageWidth:this.options.arrows.to.imageWidth,toArrowImageHeight:this.options.arrows.to.imageHeight,middleArrow:n,middleArrowScale:this.options.arrows.middle.scaleFactor,middleArrowType:this.options.arrows.middle.type,middleArrowSrc:this.options.arrows.middle.src,middleArrowImageWidth:this.options.arrows.middle.imageWidth,middleArrowImageHeight:this.options.arrows.middle.imageHeight,fromArrow:r,fromArrowScale:this.options.arrows.from.scaleFactor,fromArrowType:this.options.arrows.from.type,fromArrowSrc:this.options.arrows.from.src,fromArrowImageWidth:this.options.arrows.from.imageWidth,fromArrowImageHeight:this.options.arrows.from.imageHeight,arrowStrikethrough:this.options.arrowStrikethrough,color:i?void 0:this.options.color.color,inheritsColor:i,opacity:this.options.color.opacity,hidden:this.options.hidden,length:this.options.length,shadow:this.options.shadow.enabled,shadowColor:this.options.shadow.color,shadowSize:this.options.shadow.size,shadowX:this.options.shadow.x,shadowY:this.options.shadow.y,dashes:this.options.dashes,width:this.options.width,background:this.options.background.enabled,backgroundColor:this.options.background.color,backgroundSize:this.options.background.size,backgroundDashes:this.options.background.dashes};if(this.selected||this.hover)if(this.chooser===!0){if(this.selected){const a=this.options.selectionWidth;typeof a=="function"?s.width=a(s.width):typeof a=="number"&&(s.width+=a),s.width=Math.max(s.width,.3/this.body.view.scale),s.color=this.options.color.highlight,s.shadow=this.options.shadow.enabled}else if(this.hover){const a=this.options.hoverWidth;typeof a=="function"?s.width=a(s.width):typeof a=="number"&&(s.width+=a),s.width=Math.max(s.width,.3/this.body.view.scale),s.color=this.options.color.hover,s.shadow=this.options.shadow.enabled}}else typeof this.chooser=="function"&&(this.chooser(s,this.options.id,this.selected,this.hover),s.color!==void 0&&(s.inheritsColor=!1),s.shadow===!1&&(s.shadowColor!==this.options.shadow.color||s.shadowSize!==this.options.shadow.size||s.shadowX!==this.options.shadow.x||s.shadowY!==this.options.shadow.y)&&(s.shadow=!0));else s.shadow=this.options.shadow.enabled,s.width=Math.max(s.width,.3/this.body.view.scale);return s}updateLabelModule(e){const r=[e,this.options,this.globalOptions,this.defaultOptions];this.labelModule.update(this.options,r),this.labelModule.baseSize!==void 0&&(this.baseFontSize=this.labelModule.baseSize)}updateEdgeType(){const e=this.options.smooth;let r=!1,n=!0;return this.edgeType!==void 0&&((this.edgeType instanceof pW&&e.enabled===!0&&e.type==="dynamic"||this.edgeType instanceof vW&&e.enabled===!0&&e.type==="cubicBezier"||this.edgeType instanceof mW&&e.enabled===!0&&e.type!=="dynamic"&&e.type!=="cubicBezier"||this.edgeType instanceof gW&&e.type.enabled===!1)&&(n=!1),n===!0&&(r=this.cleanup())),n===!0?e.enabled===!0?e.type==="dynamic"?(r=!0,this.edgeType=new pW(this.options,this.body,this.labelModule)):e.type==="cubicBezier"?this.edgeType=new vW(this.options,this.body,this.labelModule):this.edgeType=new mW(this.options,this.body,this.labelModule):this.edgeType=new gW(this.options,this.body,this.labelModule):this.edgeType.setOptions(this.options),r}connect(){this.disconnect(),this.from=this.body.nodes[this.fromId]||void 0,this.to=this.body.nodes[this.toId]||void 0,this.connected=this.from!==void 0&&this.to!==void 0,this.connected===!0?(this.from.attachEdge(this),this.to.attachEdge(this)):(this.from&&this.from.detachEdge(this),this.to&&this.to.detachEdge(this)),this.edgeType.connect()}disconnect(){this.from&&(this.from.detachEdge(this),this.from=void 0),this.to&&(this.to.detachEdge(this),this.to=void 0),this.connected=!1}getTitle(){return this.title}isSelected(){return this.selected}getValue(){return this.options.value}setValueRange(e,r,n){if(this.options.value!==void 0){const i=this.options.scaling.customScalingFunction(e,r,n,this.options.value),s=this.options.scaling.max-this.options.scaling.min;if(this.options.scaling.label.enabled===!0){const a=this.options.scaling.label.max-this.options.scaling.label.min;this.options.font.size=this.options.scaling.label.min+i*a}this.options.width=this.options.scaling.min+i*s}else this.options.width=this.baseWidth,this.options.font.size=this.baseFontSize;this._setInteractionWidths(),this.updateLabelModule()}_setInteractionWidths(){typeof this.options.hoverWidth=="function"?this.edgeType.hoverWidth=this.options.hoverWidth(this.options.width):this.edgeType.hoverWidth=this.options.hoverWidth+this.options.width,typeof this.options.selectionWidth=="function"?this.edgeType.selectionWidth=this.options.selectionWidth(this.options.width):this.edgeType.selectionWidth=this.options.selectionWidth+this.options.width}draw(e){const r=this.getFormattingValues();if(r.hidden)return;const n=this.edgeType.getViaNode();this.edgeType.drawLine(e,r,this.selected,this.hover,n),this.drawLabel(e,n)}drawArrows(e){const r=this.getFormattingValues();if(r.hidden)return;const n=this.edgeType.getViaNode(),i={};this.edgeType.fromPoint=this.edgeType.from,this.edgeType.toPoint=this.edgeType.to,r.fromArrow&&(i.from=this.edgeType.getArrowData(e,"from",n,this.selected,this.hover,r),r.arrowStrikethrough===!1&&(this.edgeType.fromPoint=i.from.core),r.fromArrowSrc&&(i.from.image=this.imagelist.load(r.fromArrowSrc)),r.fromArrowImageWidth&&(i.from.imageWidth=r.fromArrowImageWidth),r.fromArrowImageHeight&&(i.from.imageHeight=r.fromArrowImageHeight)),r.toArrow&&(i.to=this.edgeType.getArrowData(e,"to",n,this.selected,this.hover,r),r.arrowStrikethrough===!1&&(this.edgeType.toPoint=i.to.core),r.toArrowSrc&&(i.to.image=this.imagelist.load(r.toArrowSrc)),r.toArrowImageWidth&&(i.to.imageWidth=r.toArrowImageWidth),r.toArrowImageHeight&&(i.to.imageHeight=r.toArrowImageHeight)),r.middleArrow&&(i.middle=this.edgeType.getArrowData(e,"middle",n,this.selected,this.hover,r),r.middleArrowSrc&&(i.middle.image=this.imagelist.load(r.middleArrowSrc)),r.middleArrowImageWidth&&(i.middle.imageWidth=r.middleArrowImageWidth),r.middleArrowImageHeight&&(i.middle.imageHeight=r.middleArrowImageHeight)),r.fromArrow&&this.edgeType.drawArrowHead(e,r,this.selected,this.hover,i.from),r.middleArrow&&this.edgeType.drawArrowHead(e,r,this.selected,this.hover,i.middle),r.toArrow&&this.edgeType.drawArrowHead(e,r,this.selected,this.hover,i.to)}drawLabel(e,r){if(this.options.label!==void 0){const n=this.from,i=this.to;this.labelModule.differentState(this.selected,this.hover)&&this.labelModule.getTextSize(e,this.selected,this.hover);let s;if(n.id!=i.id){this.labelModule.pointToSelf=!1,s=this.edgeType.getPoint(.5,r),e.save();const a=this._getRotation(e);a.angle!=0&&(e.translate(a.x,a.y),e.rotate(a.angle)),this.labelModule.draw(e,s.x,s.y,this.selected,this.hover),e.restore()}else{this.labelModule.pointToSelf=!0;const a=bY(e,this.options.selfReference.angle,this.options.selfReference.size,n);s=this._pointOnCircle(a.x,a.y,this.options.selfReference.size,this.options.selfReference.angle),this.labelModule.draw(e,s.x,s.y,this.selected,this.hover)}}}getItemsOnPoint(e){const r=[];if(this.labelModule.visible()){const i=this._getRotation();yN(this.labelModule.getSize(),e,i)&&r.push({edgeId:this.id,labelId:0})}const n={left:e.x,top:e.y};return this.isOverlappingWith(n)&&r.push({edgeId:this.id}),r}isOverlappingWith(e){if(this.connected){const n=this.from.x,i=this.from.y,s=this.to.x,a=this.to.y,o=e.left,l=e.top;return this.edgeType.getDistanceToEdge(n,i,s,a,o,l)<10}else return!1}_getRotation(e){const r=this.edgeType.getViaNode(),n=this.edgeType.getPoint(.5,r);e!==void 0&&this.labelModule.calculateLabelSize(e,this.selected,this.hover,n.x,n.y);const i={x:n.x,y:this.labelModule.size.yLine,angle:0};if(!this.labelModule.visible()||this.options.font.align==="horizontal")return i;const s=this.from.y-this.to.y,a=this.from.x-this.to.x;let o=Math.atan2(s,a);return(o<-1&&a<0||o>0&&a<0)&&(o+=Math.PI),i.angle=o,i}_pointOnCircle(e,r,n,i){return{x:e+n*Math.cos(i),y:r-n*Math.sin(i)}}select(){this.selected=!0}unselect(){this.selected=!1}cleanup(){return this.edgeType.cleanup()}remove(){this.cleanup(),this.disconnect(),delete this.body.edges[this.id]}endPointsValid(){return this.body.nodes[this.fromId]!==void 0&&this.body.nodes[this.toId]!==void 0}}class mye{constructor(e,r,n){var i;this.body=e,this.images=r,this.groups=n,this.body.functions.createEdge=ee(i=this.create).call(i,this),this.edgesListeners={add:(s,a)=>{this.add(a.items)},update:(s,a)=>{this.update(a.items)},remove:(s,a)=>{this.remove(a.items)}},this.options={},this.defaultOptions={arrows:{to:{enabled:!1,scaleFactor:1,type:"arrow"},middle:{enabled:!1,scaleFactor:1,type:"arrow"},from:{enabled:!1,scaleFactor:1,type:"arrow"}},endPointOffset:{from:0,to:0},arrowStrikethrough:!0,color:{color:"#848484",highlight:"#848484",hover:"#848484",inherit:"from",opacity:1},dashes:!1,font:{color:"#343434",size:14,face:"arial",background:"none",strokeWidth:2,strokeColor:"#ffffff",align:"horizontal",multi:!1,vadjust:0,bold:{mod:"bold"},boldital:{mod:"bold italic"},ital:{mod:"italic"},mono:{mod:"",size:15,face:"courier new",vadjust:2}},hidden:!1,hoverWidth:1.5,label:void 0,labelHighlightBold:!0,length:void 0,physics:!0,scaling:{min:1,max:15,label:{enabled:!0,min:14,max:30,maxVisible:30,drawThreshold:5},customScalingFunction:function(s,a,o,l){if(a===s)return .5;{const u=1/(a-s);return Math.max(0,(l-s)*u)}}},selectionWidth:1.5,selfReference:{size:20,angle:Math.PI/4,renderBehindTheNode:!0},shadow:{enabled:!1,color:"rgba(0,0,0,0.5)",size:10,x:5,y:5},background:{enabled:!1,color:"rgba(111,111,111,1)",size:10,dashes:!1},smooth:{enabled:!0,type:"dynamic",forceDirection:"none",roundness:.5},title:void 0,width:1,value:void 0},tt(this.options,this.defaultOptions),this.bindEventListeners()}bindEventListeners(){var e=this,r,n;this.body.emitter.on("_forceDisableDynamicCurves",function(i){let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;i==="dynamic"&&(i="continuous");let a=!1;for(const o in e.body.edges)if(Object.prototype.hasOwnProperty.call(e.body.edges,o)){const l=e.body.edges[o],u=e.body.data.edges.get(o);if(u!=null){const d=u.smooth;d!==void 0&&d.enabled===!0&&d.type==="dynamic"&&(i===void 0?l.setOptions({smooth:!1}):l.setOptions({smooth:{type:i}}),a=!0)}}s===!0&&a===!0&&e.body.emitter.emit("_dataChanged")}),this.body.emitter.on("_dataUpdated",()=>{this.reconnectEdges()}),this.body.emitter.on("refreshEdges",ee(r=this.refresh).call(r,this)),this.body.emitter.on("refresh",ee(n=this.refresh).call(n,this)),this.body.emitter.on("destroy",()=>{je(this.edgesListeners,(i,s)=>{this.body.data.edges&&this.body.data.edges.off(s,i)}),delete this.body.functions.createEdge,delete this.edgesListeners.add,delete this.edgesListeners.update,delete this.edgesListeners.remove,delete this.edgesListeners})}setOptions(e){if(e!==void 0){ra.parseOptions(this.options,e,!0,this.defaultOptions,!0);let r=!1;if(e.smooth!==void 0)for(const n in this.body.edges)Object.prototype.hasOwnProperty.call(this.body.edges,n)&&(r=this.body.edges[n].updateEdgeType()||r);if(e.font!==void 0)for(const n in this.body.edges)Object.prototype.hasOwnProperty.call(this.body.edges,n)&&this.body.edges[n].updateLabelModule();(e.hidden!==void 0||e.physics!==void 0||r===!0)&&this.body.emitter.emit("_dataChanged")}}setData(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;const n=this.body.data.edges;if(X9("id",e))this.body.data.edges=e;else if(Ot(e))this.body.data.edges=new au,this.body.data.edges.add(e);else if(!e)this.body.data.edges=new au;else throw new TypeError("Array or DataSet expected");if(n&&je(this.edgesListeners,(i,s)=>{n.off(s,i)}),this.body.edges={},this.body.data.edges){je(this.edgesListeners,(s,a)=>{this.body.data.edges.on(a,s)});const i=this.body.data.edges.getIds();this.add(i,!0)}this.body.emitter.emit("_adjustEdgesForHierarchicalLayout"),r===!1&&this.body.emitter.emit("_dataChanged")}add(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;const n=this.body.edges,i=this.body.data.edges;for(let s=0;s<e.length;s++){const a=e[s],o=n[a];o&&o.disconnect();const l=i.get(a,{showInternalIds:!0});n[a]=this.create(l)}this.body.emitter.emit("_adjustEdgesForHierarchicalLayout"),r===!1&&this.body.emitter.emit("_dataChanged")}update(e){const r=this.body.edges,n=this.body.data.edges;let i=!1;for(let s=0;s<e.length;s++){const a=e[s],o=n.get(a),l=r[a];l!==void 0?(l.disconnect(),i=l.setOptions(o)||i,l.connect()):(this.body.edges[a]=this.create(o),i=!0)}i===!0?(this.body.emitter.emit("_adjustEdgesForHierarchicalLayout"),this.body.emitter.emit("_dataChanged")):this.body.emitter.emit("_dataUpdated")}remove(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(e.length===0)return;const n=this.body.edges;je(e,i=>{const s=n[i];s!==void 0&&s.remove()}),r&&this.body.emitter.emit("_dataChanged")}refresh(){je(this.body.edges,(e,r)=>{const n=this.body.data.edges.get(r);n!==void 0&&e.setOptions(n)})}create(e){return new ra(e,this.body,this.images,this.options,this.defaultOptions)}reconnectEdges(){let e;const r=this.body.nodes,n=this.body.edges;for(e in r)Object.prototype.hasOwnProperty.call(r,e)&&(r[e].edges=[]);for(e in n)if(Object.prototype.hasOwnProperty.call(n,e)){const i=n[e];i.from=null,i.to=null,i.connect()}}getConnectedNodes(e){const r=[];if(this.body.edges[e]!==void 0){const n=this.body.edges[e];n.fromId!==void 0&&r.push(n.fromId),n.toId!==void 0&&r.push(n.toId)}return r}_updateState(){this._addMissingEdges(),this._removeInvalidEdges()}_removeInvalidEdges(){const e=[];je(this.body.edges,(r,n)=>{const i=this.body.nodes[r.toId],s=this.body.nodes[r.fromId];i!==void 0&&i.isCluster===!0||s!==void 0&&s.isCluster===!0||(i===void 0||s===void 0)&&e.push(n)}),this.remove(e,!1)}_addMissingEdges(){const e=this.body.data.edges;if(e==null)return;const r=this.body.edges,n=[];Xe(e).call(e,(i,s)=>{r[s]===void 0&&n.push(s)}),this.add(n,!0)}}class SY{constructor(e,r,n){this.body=e,this.physicsBody=r,this.barnesHutTree,this.setOptions(n),this._rng=ym("BARNES HUT SOLVER")}setOptions(e){this.options=e,this.thetaInversed=1/this.options.theta,this.overlapAvoidanceFactor=1-Math.max(0,Math.min(1,this.options.avoidOverlap))}solve(){if(this.options.gravitationalConstant!==0&&this.physicsBody.physicsNodeIndices.length>0){let e;const r=this.body.nodes,n=this.physicsBody.physicsNodeIndices,i=n.length,s=this._formBarnesHutTree(r,n);this.barnesHutTree=s;for(let a=0;a<i;a++)e=r[n[a]],e.options.mass>0&&this._getForceContributions(s.root,e)}}_getForceContributions(e,r){this._getForceContribution(e.children.NW,r),this._getForceContribution(e.children.NE,r),this._getForceContribution(e.children.SW,r),this._getForceContribution(e.children.SE,r)}_getForceContribution(e,r){if(e.childrenCount>0){const n=e.centerOfMass.x-r.x,i=e.centerOfMass.y-r.y,s=Math.sqrt(n*n+i*i);s*e.calcSize>this.thetaInversed?this._calculateForces(s,n,i,r,e):e.childrenCount===4?this._getForceContributions(e,r):e.children.data.id!=r.id&&this._calculateForces(s,n,i,r,e)}}_calculateForces(e,r,n,i,s){e===0&&(e=.1,r=e),this.overlapAvoidanceFactor<1&&i.shape.radius&&(e=Math.max(.1+this.overlapAvoidanceFactor*i.shape.radius,e-i.shape.radius));const a=this.options.gravitationalConstant*s.mass*i.options.mass/Math.pow(e,3),o=r*a,l=n*a;this.physicsBody.forces[i.id].x+=o,this.physicsBody.forces[i.id].y+=l}_formBarnesHutTree(e,r){let n;const i=r.length;let s=e[r[0]].x,a=e[r[0]].y,o=e[r[0]].x,l=e[r[0]].y;for(let b=1;b<i;b++){const g=e[r[b]],v=g.x,x=g.y;g.options.mass>0&&(v<s&&(s=v),v>o&&(o=v),x<a&&(a=x),x>l&&(l=x))}const u=Math.abs(o-s)-Math.abs(l-a);u>0?(a-=.5*u,l+=.5*u):(s+=.5*u,o-=.5*u);const h=Math.max(1e-5,Math.abs(o-s)),f=.5*h,p=.5*(s+o),m=.5*(a+l),y={root:{centerOfMass:{x:0,y:0},mass:0,range:{minX:p-f,maxX:p+f,minY:m-f,maxY:m+f},size:h,calcSize:1/h,children:{data:null},maxWidth:0,level:0,childrenCount:4}};this._splitBranch(y.root);for(let b=0;b<i;b++)n=e[r[b]],n.options.mass>0&&this._placeInTree(y.root,n);return y}_updateBranchMass(e,r){const n=e.centerOfMass,i=e.mass+r.options.mass,s=1/i;n.x=n.x*e.mass+r.x*r.options.mass,n.x*=s,n.y=n.y*e.mass+r.y*r.options.mass,n.y*=s,e.mass=i;const a=Math.max(Math.max(r.height,r.radius),r.width);e.maxWidth=e.maxWidth<a?a:e.maxWidth}_placeInTree(e,r,n){(n!=!0||n===void 0)&&this._updateBranchMass(e,r);const i=e.children.NW.range;let s;i.maxX>r.x?i.maxY>r.y?s="NW":s="SW":i.maxY>r.y?s="NE":s="SE",this._placeInRegion(e,r,s)}_placeInRegion(e,r,n){const i=e.children[n];switch(i.childrenCount){case 0:i.children.data=r,i.childrenCount=1,this._updateBranchMass(i,r);break;case 1:i.children.data.x===r.x&&i.children.data.y===r.y?(r.x+=this._rng(),r.y+=this._rng()):(this._splitBranch(i),this._placeInTree(i,r));break;case 4:this._placeInTree(i,r);break}}_splitBranch(e){let r=null;e.childrenCount===1&&(r=e.children.data,e.mass=0,e.centerOfMass.x=0,e.centerOfMass.y=0),e.childrenCount=4,e.children.data=null,this._insertRegion(e,"NW"),this._insertRegion(e,"NE"),this._insertRegion(e,"SW"),this._insertRegion(e,"SE"),r!=null&&this._placeInTree(e,r)}_insertRegion(e,r){let n,i,s,a;const o=.5*e.size;switch(r){case"NW":n=e.range.minX,i=e.range.minX+o,s=e.range.minY,a=e.range.minY+o;break;case"NE":n=e.range.minX+o,i=e.range.maxX,s=e.range.minY,a=e.range.minY+o;break;case"SW":n=e.range.minX,i=e.range.minX+o,s=e.range.minY+o,a=e.range.maxY;break;case"SE":n=e.range.minX+o,i=e.range.maxX,s=e.range.minY+o,a=e.range.maxY;break}e.children[r]={centerOfMass:{x:0,y:0},mass:0,range:{minX:n,maxX:i,minY:s,maxY:a},size:.5*e.size,calcSize:2*e.calcSize,children:{data:null},maxWidth:0,level:e.level+1,childrenCount:0}}_debug(e,r){this.barnesHutTree!==void 0&&(e.lineWidth=1,this._drawBranch(this.barnesHutTree.root,e,r))}_drawBranch(e,r,n){n===void 0&&(n="#FF0000"),e.childrenCount===4&&(this._drawBranch(e.children.NW,r),this._drawBranch(e.children.NE,r),this._drawBranch(e.children.SE,r),this._drawBranch(e.children.SW,r)),r.strokeStyle=n,r.beginPath(),r.moveTo(e.range.minX,e.range.minY),r.lineTo(e.range.maxX,e.range.minY),r.stroke(),r.beginPath(),r.moveTo(e.range.maxX,e.range.minY),r.lineTo(e.range.maxX,e.range.maxY),r.stroke(),r.beginPath(),r.moveTo(e.range.maxX,e.range.maxY),r.lineTo(e.range.minX,e.range.maxY),r.stroke(),r.beginPath(),r.moveTo(e.range.minX,e.range.maxY),r.lineTo(e.range.minX,e.range.minY),r.stroke()}}class vye{constructor(e,r,n){this._rng=ym("REPULSION SOLVER"),this.body=e,this.physicsBody=r,this.setOptions(n)}setOptions(e){this.options=e}solve(){let e,r,n,i,s,a,o,l;const u=this.body.nodes,d=this.physicsBody.physicsNodeIndices,h=this.physicsBody.forces,f=this.options.nodeDistance,p=-2/3/f,m=4/3;for(let y=0;y<d.length-1;y++){o=u[d[y]];for(let b=y+1;b<d.length;b++)l=u[d[b]],e=l.x-o.x,r=l.y-o.y,n=Math.sqrt(e*e+r*r),n===0&&(n=.1*this._rng(),e=n),n<2*f&&(n<.5*f?a=1:a=p*n+m,a=a/n,i=e*a,s=r*a,h[o.id].x-=i,h[o.id].y-=s,h[l.id].x+=i,h[l.id].y+=s)}}}class gye{constructor(e,r,n){this.body=e,this.physicsBody=r,this.setOptions(n)}setOptions(e){this.options=e,this.overlapAvoidanceFactor=Math.max(0,Math.min(1,this.options.avoidOverlap||0))}solve(){const e=this.body.nodes,r=this.physicsBody.physicsNodeIndices,n=this.physicsBody.forces,i=this.options.nodeDistance;for(let s=0;s<r.length-1;s++){const a=e[r[s]];for(let o=s+1;o<r.length;o++){const l=e[r[o]];if(a.level===l.level){const u=i+this.overlapAvoidanceFactor*((a.shape.radius||0)/2+(l.shape.radius||0)/2),d=l.x-a.x,h=l.y-a.y,f=Math.sqrt(d*d+h*h),p=.05;let m;f<u?m=-Math.pow(p*f,2)+Math.pow(p*u,2):m=0,f!==0&&(m=m/f);const y=d*m,b=h*m;n[a.id].x-=y,n[a.id].y-=b,n[l.id].x+=y,n[l.id].y+=b}}}}}class kE{constructor(e,r,n){this.body=e,this.physicsBody=r,this.setOptions(n)}setOptions(e){this.options=e}solve(){let e,r;const n=this.physicsBody.physicsEdgeIndices,i=this.body.edges;let s,a,o;for(let l=0;l<n.length;l++)r=i[n[l]],r.connected===!0&&r.toId!==r.fromId&&this.body.nodes[r.toId]!==void 0&&this.body.nodes[r.fromId]!==void 0&&(r.edgeType.via!==void 0?(e=r.options.length===void 0?this.options.springLength:r.options.length,s=r.to,a=r.edgeType.via,o=r.from,this._calculateSpringForce(s,a,.5*e),this._calculateSpringForce(a,o,.5*e)):(e=r.options.length===void 0?this.options.springLength*1.5:r.options.length,this._calculateSpringForce(r.from,r.to,e)))}_calculateSpringForce(e,r,n){const i=e.x-r.x,s=e.y-r.y,a=Math.max(Math.sqrt(i*i+s*s),.01),o=this.options.springConstant*(n-a)/a,l=i*o,u=s*o;this.physicsBody.forces[e.id]!==void 0&&(this.physicsBody.forces[e.id].x+=l,this.physicsBody.forces[e.id].y+=u),this.physicsBody.forces[r.id]!==void 0&&(this.physicsBody.forces[r.id].x-=l,this.physicsBody.forces[r.id].y-=u)}}class yye{constructor(e,r,n){this.body=e,this.physicsBody=r,this.setOptions(n)}setOptions(e){this.options=e}solve(){let e,r,n,i,s,a,o,l;const u=this.body.edges,d=.5,h=this.physicsBody.physicsEdgeIndices,f=this.physicsBody.physicsNodeIndices,p=this.physicsBody.forces;for(let w=0;w<f.length;w++){const _=f[w];p[_].springFx=0,p[_].springFy=0}for(let w=0;w<h.length;w++)r=u[h[w]],r.connected===!0&&(e=r.options.length===void 0?this.options.springLength:r.options.length,n=r.from.x-r.to.x,i=r.from.y-r.to.y,l=Math.sqrt(n*n+i*i),l=l===0?.01:l,o=this.options.springConstant*(e-l)/l,s=n*o,a=i*o,r.to.level!=r.from.level?(p[r.toId]!==void 0&&(p[r.toId].springFx-=s,p[r.toId].springFy-=a),p[r.fromId]!==void 0&&(p[r.fromId].springFx+=s,p[r.fromId].springFy+=a)):(p[r.toId]!==void 0&&(p[r.toId].x-=d*s,p[r.toId].y-=d*a),p[r.fromId]!==void 0&&(p[r.fromId].x+=d*s,p[r.fromId].y+=d*a)));o=1;let m,y;for(let w=0;w<f.length;w++){const _=f[w];m=Math.min(o,Math.max(-o,p[_].springFx)),y=Math.min(o,Math.max(-o,p[_].springFy)),p[_].x+=m,p[_].y+=y}let b=0,g=0;for(let w=0;w<f.length;w++){const _=f[w];b+=p[_].x,g+=p[_].y}const v=b/f.length,x=g/f.length;for(let w=0;w<f.length;w++){const _=f[w];p[_].x-=v,p[_].y-=x}}}class bf{constructor(e,r,n){this.body=e,this.physicsBody=r,this.setOptions(n)}setOptions(e){this.options=e}solve(){let e,r,n,i;const s=this.body.nodes,a=this.physicsBody.physicsNodeIndices,o=this.physicsBody.forces;for(let l=0;l<a.length;l++){const u=a[l];i=s[u],e=-i.x,r=-i.y,n=Math.sqrt(e*e+r*r),this._calculateForces(n,e,r,o,i)}}_calculateForces(e,r,n,i,s){const a=e===0?0:this.options.centralGravity/e;i[s.id].x=r*a,i[s.id].y=n*a}}class bye extends SY{constructor(e,r,n){super(e,r,n),this._rng=ym("FORCE ATLAS 2 BASED REPULSION SOLVER")}_calculateForces(e,r,n,i,s){e===0&&(e=.1*this._rng(),r=e),this.overlapAvoidanceFactor<1&&i.shape.radius&&(e=Math.max(.1+this.overlapAvoidanceFactor*i.shape.radius,e-i.shape.radius));const a=i.edges.length+1,o=this.options.gravitationalConstant*s.mass*i.options.mass*a/Math.pow(e,2),l=r*o,u=n*o;this.physicsBody.forces[i.id].x+=l,this.physicsBody.forces[i.id].y+=u}}class wye extends bf{constructor(e,r,n){super(e,r,n)}_calculateForces(e,r,n,i,s){if(e>0){const a=s.edges.length+1,o=this.options.centralGravity*a*s.options.mass;i[s.id].x=r*o,i[s.id].y=n*o}}}class xye{constructor(e){this.body=e,this.physicsBody={physicsNodeIndices:[],physicsEdgeIndices:[],forces:{},velocities:{}},this.physicsEnabled=!0,this.simulationInterval=1e3/60,this.requiresTimeout=!0,this.previousStates={},this.referenceState={},this.freezeCache={},this.renderTimer=void 0,this.adaptiveTimestep=!1,this.adaptiveTimestepEnabled=!1,this.adaptiveCounter=0,this.adaptiveInterval=3,this.stabilized=!1,this.startedStabilization=!1,this.stabilizationIterations=0,this.ready=!1,this.options={},this.defaultOptions={enabled:!0,barnesHut:{theta:.5,gravitationalConstant:-2e3,centralGravity:.3,springLength:95,springConstant:.04,damping:.09,avoidOverlap:0},forceAtlas2Based:{theta:.5,gravitationalConstant:-50,centralGravity:.01,springConstant:.08,springLength:100,damping:.4,avoidOverlap:0},repulsion:{centralGravity:.2,springLength:200,springConstant:.05,nodeDistance:100,damping:.09,avoidOverlap:0},hierarchicalRepulsion:{centralGravity:0,springLength:100,springConstant:.01,nodeDistance:120,damping:.09},maxVelocity:50,minVelocity:.75,solver:"barnesHut",stabilization:{enabled:!0,iterations:1e3,updateInterval:50,onlyDynamicEdges:!1,fit:!0},timestep:.5,adaptiveTimestep:!0,wind:{x:0,y:0}},kt(this.options,this.defaultOptions),this.timestep=.5,this.layoutFailed=!1,this.bindEventListeners()}bindEventListeners(){this.body.emitter.on("initPhysics",()=>{this.initPhysics()}),this.body.emitter.on("_layoutFailed",()=>{this.layoutFailed=!0}),this.body.emitter.on("resetPhysics",()=>{this.stopSimulation(),this.ready=!1}),this.body.emitter.on("disablePhysics",()=>{this.physicsEnabled=!1,this.stopSimulation()}),this.body.emitter.on("restorePhysics",()=>{this.setOptions(this.options),this.ready===!0&&this.startSimulation()}),this.body.emitter.on("startSimulation",()=>{this.ready===!0&&this.startSimulation()}),this.body.emitter.on("stopSimulation",()=>{this.stopSimulation()}),this.body.emitter.on("destroy",()=>{this.stopSimulation(!1),this.body.emitter.off()}),this.body.emitter.on("_dataChanged",()=>{this.updatePhysicsData()})}setOptions(e){if(e!==void 0)if(e===!1)this.options.enabled=!1,this.physicsEnabled=!1,this.stopSimulation();else if(e===!0)this.options.enabled=!0,this.physicsEnabled=!0,this.startSimulation();else{this.physicsEnabled=!0,cp(["stabilization"],this.options,e),Pn(this.options,e,"stabilization"),e.enabled===void 0&&(this.options.enabled=!0),this.options.enabled===!1&&(this.physicsEnabled=!1,this.stopSimulation());const r=this.options.wind;r&&((typeof r.x!="number"||gN(r.x))&&(r.x=0),(typeof r.y!="number"||gN(r.y))&&(r.y=0)),this.timestep=this.options.timestep}this.init()}init(){let e;this.options.solver==="forceAtlas2Based"?(e=this.options.forceAtlas2Based,this.nodesSolver=new bye(this.body,this.physicsBody,e),this.edgesSolver=new kE(this.body,this.physicsBody,e),this.gravitySolver=new wye(this.body,this.physicsBody,e)):this.options.solver==="repulsion"?(e=this.options.repulsion,this.nodesSolver=new vye(this.body,this.physicsBody,e),this.edgesSolver=new kE(this.body,this.physicsBody,e),this.gravitySolver=new bf(this.body,this.physicsBody,e)):this.options.solver==="hierarchicalRepulsion"?(e=this.options.hierarchicalRepulsion,this.nodesSolver=new gye(this.body,this.physicsBody,e),this.edgesSolver=new yye(this.body,this.physicsBody,e),this.gravitySolver=new bf(this.body,this.physicsBody,e)):(e=this.options.barnesHut,this.nodesSolver=new SY(this.body,this.physicsBody,e),this.edgesSolver=new kE(this.body,this.physicsBody,e),this.gravitySolver=new bf(this.body,this.physicsBody,e)),this.modelOptions=e}initPhysics(){this.physicsEnabled===!0&&this.options.enabled===!0?this.options.stabilization.enabled===!0?this.stabilize():(this.stabilized=!1,this.ready=!0,this.body.emitter.emit("fit",{},this.layoutFailed),this.startSimulation()):(this.ready=!0,this.body.emitter.emit("fit"))}startSimulation(){if(this.physicsEnabled===!0&&this.options.enabled===!0){if(this.stabilized=!1,this.adaptiveTimestep=!1,this.body.emitter.emit("_resizeNodes"),this.viewFunction===void 0){var e;this.viewFunction=ee(e=this.simulationStep).call(e,this),this.body.emitter.on("initRedraw",this.viewFunction),this.body.emitter.emit("_startRendering")}}else this.body.emitter.emit("_redraw")}stopSimulation(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.stabilized=!0,e===!0&&this._emitStabilized(),this.viewFunction!==void 0&&(this.body.emitter.off("initRedraw",this.viewFunction),this.viewFunction=void 0,e===!0&&this.body.emitter.emit("_stopRendering"))}simulationStep(){const e=ap();this.physicsTick(),(ap()-e<.4*this.simulationInterval||this.runDoubleSpeed===!0)&&this.stabilized===!1&&(this.physicsTick(),this.runDoubleSpeed=!0),this.stabilized===!0&&this.stopSimulation()}_emitStabilized(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.stabilizationIterations;(this.stabilizationIterations>1||this.startedStabilization===!0)&&Gi(()=>{this.body.emitter.emit("stabilized",{iterations:e}),this.startedStabilization=!1,this.stabilizationIterations=0},0)}physicsStep(){this.gravitySolver.solve(),this.nodesSolver.solve(),this.edgesSolver.solve(),this.moveNodes()}adjustTimeStep(){this._evaluateStepQuality()===!0?this.timestep=1.2*this.timestep:this.timestep/1.2<this.options.timestep?this.timestep=this.options.timestep:(this.adaptiveCounter=-1,this.timestep=Math.max(this.options.timestep,this.timestep/1.2))}physicsTick(){this._startStabilizing(),this.stabilized!==!0&&(this.adaptiveTimestep===!0&&this.adaptiveTimestepEnabled===!0?(this.adaptiveCounter%this.adaptiveInterval===0?(this.timestep=2*this.timestep,this.physicsStep(),this.revert(),this.timestep=.5*this.timestep,this.physicsStep(),this.physicsStep(),this.adjustTimeStep()):this.physicsStep(),this.adaptiveCounter+=1):(this.timestep=this.options.timestep,this.physicsStep()),this.stabilized===!0&&this.revert(),this.stabilizationIterations++)}updatePhysicsData(){this.physicsBody.forces={},this.physicsBody.physicsNodeIndices=[],this.physicsBody.physicsEdgeIndices=[];const e=this.body.nodes,r=this.body.edges;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&e[n].options.physics===!0&&this.physicsBody.physicsNodeIndices.push(e[n].id);for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&r[n].options.physics===!0&&this.physicsBody.physicsEdgeIndices.push(r[n].id);for(let n=0;n<this.physicsBody.physicsNodeIndices.length;n++){const i=this.physicsBody.physicsNodeIndices[n];this.physicsBody.forces[i]={x:0,y:0},this.physicsBody.velocities[i]===void 0&&(this.physicsBody.velocities[i]={x:0,y:0})}for(const n in this.physicsBody.velocities)e[n]===void 0&&delete this.physicsBody.velocities[n]}revert(){const e=xt(this.previousStates),r=this.body.nodes,n=this.physicsBody.velocities;this.referenceState={};for(let i=0;i<e.length;i++){const s=e[i];r[s]!==void 0?r[s].options.physics===!0&&(this.referenceState[s]={positions:{x:r[s].x,y:r[s].y}},n[s].x=this.previousStates[s].vx,n[s].y=this.previousStates[s].vy,r[s].x=this.previousStates[s].x,r[s].y=this.previousStates[s].y):delete this.previousStates[s]}}_evaluateStepQuality(){let e,r,n;const i=this.body.nodes,s=this.referenceState,a=.3;for(const o in this.referenceState)if(Object.prototype.hasOwnProperty.call(this.referenceState,o)&&i[o]!==void 0&&(e=i[o].x-s[o].positions.x,r=i[o].y-s[o].positions.y,n=Math.sqrt(Math.pow(e,2)+Math.pow(r,2)),n>a))return!1;return!0}moveNodes(){const e=this.physicsBody.physicsNodeIndices;let r=0,n=0;const i=5;for(let s=0;s<e.length;s++){const a=e[s],o=this._performStep(a);r=Math.max(r,o),n+=o}this.adaptiveTimestepEnabled=n/e.length<i,this.stabilized=r<this.options.minVelocity}calculateComponentVelocity(e,r,n){const i=this.modelOptions.damping*e,s=(r-i)/n;e+=s*this.timestep;const a=this.options.maxVelocity||1e9;return Math.abs(e)>a&&(e=e>0?a:-a),e}_performStep(e){const r=this.body.nodes[e],n=this.physicsBody.forces[e];this.options.wind&&(n.x+=this.options.wind.x,n.y+=this.options.wind.y);const i=this.physicsBody.velocities[e];return this.previousStates[e]={x:r.x,y:r.y,vx:i.x,vy:i.y},r.options.fixed.x===!1?(i.x=this.calculateComponentVelocity(i.x,n.x,r.options.mass),r.x+=i.x*this.timestep):(n.x=0,i.x=0),r.options.fixed.y===!1?(i.y=this.calculateComponentVelocity(i.y,n.y,r.options.mass),r.y+=i.y*this.timestep):(n.y=0,i.y=0),Math.sqrt(Math.pow(i.x,2)+Math.pow(i.y,2))}_freezeNodes(){const e=this.body.nodes;for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&e[r].x&&e[r].y){const n=e[r].options.fixed;this.freezeCache[r]={x:n.x,y:n.y},n.x=!0,n.y=!0}}_restoreFrozenNodes(){const e=this.body.nodes;for(const r in e)Object.prototype.hasOwnProperty.call(e,r)&&this.freezeCache[r]!==void 0&&(e[r].options.fixed.x=this.freezeCache[r].x,e[r].options.fixed.y=this.freezeCache[r].y);this.freezeCache={}}stabilize(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.options.stabilization.iterations;if(typeof e!="number"&&(e=this.options.stabilization.iterations,console.error("The stabilize method needs a numeric amount of iterations. Switching to default: ",e)),this.physicsBody.physicsNodeIndices.length===0){this.ready=!0;return}this.adaptiveTimestep=this.options.adaptiveTimestep,this.body.emitter.emit("_resizeNodes"),this.stopSimulation(),this.stabilized=!1,this.body.emitter.emit("_blockRedraw"),this.targetIterations=e,this.options.stabilization.onlyDynamicEdges===!0&&this._freezeNodes(),this.stabilizationIterations=0,Gi(()=>this._stabilizationBatch(),0)}_startStabilizing(){return this.startedStabilization===!0?!1:(this.body.emitter.emit("startStabilizing"),this.startedStabilization=!0,!0)}_stabilizationBatch(){const e=()=>this.stabilized===!1&&this.stabilizationIterations<this.targetIterations,r=()=>{this.body.emitter.emit("stabilizationProgress",{iterations:this.stabilizationIterations,total:this.targetIterations})};this._startStabilizing()&&r();let n=0;for(;e()&&n<this.options.stabilization.updateInterval;)this.physicsTick(),n++;if(r(),e()){var i;Gi(ee(i=this._stabilizationBatch).call(i,this),0)}else this._finalizeStabilization()}_finalizeStabilization(){this.body.emitter.emit("_allowRedraw"),this.options.stabilization.fit===!0&&this.body.emitter.emit("fit"),this.options.stabilization.onlyDynamicEdges===!0&&this._restoreFrozenNodes(),this.body.emitter.emit("stabilizationIterationsDone"),this.body.emitter.emit("_requestRedraw"),this.stabilized===!0?this._emitStabilized():this.startSimulation(),this.ready=!0}_drawForces(e){for(let r=0;r<this.physicsBody.physicsNodeIndices.length;r++){const n=this.physicsBody.physicsNodeIndices[r],i=this.body.nodes[n],s=this.physicsBody.forces[n],a=20,o=.03,l=Math.sqrt(Math.pow(s.x,2)+Math.pow(s.x,2)),u=Math.min(Math.max(5,l),15),d=3*u,h=pN((180-Math.min(1,Math.max(0,o*l))*180)/360,1,1),f={x:i.x+a*s.x,y:i.y+a*s.y};e.lineWidth=u,e.strokeStyle=h,e.beginPath(),e.moveTo(i.x,i.y),e.lineTo(f.x,f.y),e.stroke();const p=Math.atan2(s.y,s.x);e.fillStyle=h,xY.draw(e,{type:"arrow",point:f,angle:p,length:d}),fh(e).call(e)}}}const ur=[];for(let t=0;t<256;++t)ur.push((t+256).toString(16).slice(1));function _ye(t,e=0){return(ur[t[e+0]]+ur[t[e+1]]+ur[t[e+2]]+ur[t[e+3]]+"-"+ur[t[e+4]]+ur[t[e+5]]+"-"+ur[t[e+6]]+ur[t[e+7]]+"-"+ur[t[e+8]]+ur[t[e+9]]+"-"+ur[t[e+10]]+ur[t[e+11]]+ur[t[e+12]]+ur[t[e+13]]+ur[t[e+14]]+ur[t[e+15]]).toLowerCase()}let DE;const Sye=new Uint8Array(16);function Eye(){if(!DE){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");DE=crypto.getRandomValues.bind(crypto)}return DE(Sye)}const Oye=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto);var yW={randomUUID:Oye};function Pye(t,e,r){var i;t=t||{};const n=t.random??((i=t.rng)==null?void 0:i.call(t))??Eye();if(n.length<16)throw new Error("Random bytes length must be >= 16");return n[6]=n[6]&15|64,n[8]=n[8]&63|128,_ye(n)}function Ac(t,e,r){return yW.randomUUID&&!t?yW.randomUUID():Pye(t)}class jr{constructor(){}static getRange(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],n=1e9,i=-1e9,s=1e9,a=-1e9,o;if(r.length>0)for(let l=0;l<r.length;l++)o=e[r[l]],s>o.shape.boundingBox.left&&(s=o.shape.boundingBox.left),a<o.shape.boundingBox.right&&(a=o.shape.boundingBox.right),n>o.shape.boundingBox.top&&(n=o.shape.boundingBox.top),i<o.shape.boundingBox.bottom&&(i=o.shape.boundingBox.bottom);return s===1e9&&a===-1e9&&n===1e9&&i===-1e9&&(n=0,i=0,s=0,a=0),{minX:s,maxX:a,minY:n,maxY:i}}static getRangeCore(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],n=1e9,i=-1e9,s=1e9,a=-1e9,o;if(r.length>0)for(let l=0;l<r.length;l++)o=e[r[l]],s>o.x&&(s=o.x),a<o.x&&(a=o.x),n>o.y&&(n=o.y),i<o.y&&(i=o.y);return s===1e9&&a===-1e9&&n===1e9&&i===-1e9&&(n=0,i=0,s=0,a=0),{minX:s,maxX:a,minY:n,maxY:i}}static findCenter(e){return{x:.5*(e.maxX+e.minX),y:.5*(e.maxY+e.minY)}}static cloneOptions(e,r){const n={};return r===void 0||r==="node"?(tt(n,e.options,!0),n.x=e.x,n.y=e.y,n.amountOfConnections=e.edges.length):tt(n,e.options,!0),n}}class Nye extends lt{constructor(e,r,n,i,s,a){super(e,r,n,i,s,a),this.isCluster=!0,this.containedNodes={},this.containedEdges={}}_openChildCluster(e){const r=this.body.nodes[e];if(this.containedNodes[e]===void 0)throw new Error("node with id: "+e+" not in current cluster");if(!r.isCluster)throw new Error("node with id: "+e+" is not a cluster");delete this.containedNodes[e],je(r.edges,n=>{delete this.containedEdges[n.id]}),je(r.containedNodes,(n,i)=>{this.containedNodes[i]=n}),r.containedNodes={},je(r.containedEdges,(n,i)=>{this.containedEdges[i]=n}),r.containedEdges={},je(r.edges,n=>{je(this.edges,i=>{var s,a;const o=Ue(s=i.clusteringEdgeReplacingIds).call(s,n.id);o!==-1&&(je(n.clusteringEdgeReplacingIds,l=>{i.clusteringEdgeReplacingIds.push(l),this.body.edges[l].edgeReplacedById=i.id}),Ki(a=i.clusteringEdgeReplacingIds).call(a,o,1))})}),r.edges=[]}}class Cye{constructor(e){this.body=e,this.clusteredNodes={},this.clusteredEdges={},this.options={},this.defaultOptions={},kt(this.options,this.defaultOptions),this.body.emitter.on("_resetData",()=>{this.clusteredNodes={},this.clusteredEdges={}})}clusterByHubsize(e,r){e===void 0?e=this._getHubSize():typeof e=="object"&&(r=this._checkOptions(e),e=this._getHubSize());const n=[];for(let i=0;i<this.body.nodeIndices.length;i++){const s=this.body.nodes[this.body.nodeIndices[i]];s.edges.length>=e&&n.push(s.id)}for(let i=0;i<n.length;i++)this.clusterByConnection(n[i],r,!0);this.body.emitter.emit("_dataChanged")}cluster(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(e.joinCondition===void 0)throw new Error("Cannot call clusterByNodeData without a joinCondition function in the options.");e=this._checkOptions(e);const n={},i={};je(this.body.nodes,(s,a)=>{s.options&&e.joinCondition(s.options)===!0&&(n[a]=s,je(s.edges,o=>{this.clusteredEdges[o.id]===void 0&&(i[o.id]=o)}))}),this._cluster(n,i,e,r)}clusterByEdgeCount(e,r){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;r=this._checkOptions(r);const i=[],s={};let a,o,l;for(let u=0;u<this.body.nodeIndices.length;u++){const d={},h={},f=this.body.nodeIndices[u],p=this.body.nodes[f];if(s[f]===void 0){l=0,o=[];for(let m=0;m<p.edges.length;m++)a=p.edges[m],this.clusteredEdges[a.id]===void 0&&(a.toId!==a.fromId&&l++,o.push(a));if(l===e){const m=function(b){if(r.joinCondition===void 0||r.joinCondition===null)return!0;const g=jr.cloneOptions(b);return r.joinCondition(g)};let y=!0;for(let b=0;b<o.length;b++){a=o[b];const g=this._getConnectedId(a,f);if(m(p))h[a.id]=a,d[f]=p,d[g]=this.body.nodes[g],s[f]=!0;else{y=!1;break}}if(xt(d).length>0&&xt(h).length>0&&y===!0){const g=function(){for(let v=0;v<i.length;++v)for(const x in d)if(i[v].nodes[x]!==void 0)return i[v]}();if(g!==void 0){for(const v in d)g.nodes[v]===void 0&&(g.nodes[v]=d[v]);for(const v in h)g.edges[v]===void 0&&(g.edges[v]=h[v])}else i.push({nodes:d,edges:h})}}}}for(let u=0;u<i.length;u++)this._cluster(i[u].nodes,i[u].edges,r,!1);n===!0&&this.body.emitter.emit("_dataChanged")}clusterOutliers(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;this.clusterByEdgeCount(1,e,r)}clusterBridges(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;this.clusterByEdgeCount(2,e,r)}clusterByConnection(e,r){var n;let i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(e===void 0)throw new Error("No nodeId supplied to clusterByConnection!");if(this.body.nodes[e]===void 0)throw new Error("The nodeId given to clusterByConnection does not exist!");const s=this.body.nodes[e];r=this._checkOptions(r,s),r.clusterNodeProperties.x===void 0&&(r.clusterNodeProperties.x=s.x),r.clusterNodeProperties.y===void 0&&(r.clusterNodeProperties.y=s.y),r.clusterNodeProperties.fixed===void 0&&(r.clusterNodeProperties.fixed={},r.clusterNodeProperties.fixed.x=s.options.fixed.x,r.clusterNodeProperties.fixed.y=s.options.fixed.y);const a={},o={},l=s.id,u=jr.cloneOptions(s);a[l]=s;for(let h=0;h<s.edges.length;h++){const f=s.edges[h];if(this.clusteredEdges[f.id]===void 0){const p=this._getConnectedId(f,l);if(this.clusteredNodes[p]===void 0)if(p!==l)if(r.joinCondition===void 0)o[f.id]=f,a[p]=this.body.nodes[p];else{const m=jr.cloneOptions(this.body.nodes[p]);r.joinCondition(u,m)===!0&&(o[f.id]=f,a[p]=this.body.nodes[p])}else o[f.id]=f}}const d=ou(n=xt(a)).call(n,function(h){return a[h].id});for(const h in a){if(!Object.prototype.hasOwnProperty.call(a,h))continue;const f=a[h];for(let p=0;p<f.edges.length;p++){const m=f.edges[p];Ue(d).call(d,this._getConnectedId(m,f.id))>-1&&(o[m.id]=m)}}this._cluster(a,o,r,i)}_createClusterEdges(e,r,n,i){let s,a,o,l,u,d;const h=xt(e),f=[];for(let y=0;y<h.length;y++){a=h[y],o=e[a];for(let b=0;b<o.edges.length;b++)s=o.edges[b],this.clusteredEdges[s.id]===void 0&&(s.toId==s.fromId?r[s.id]=s:s.toId==a?(l=n.id,u=s.fromId,d=u):(l=s.toId,u=n.id,d=l),e[d]===void 0&&f.push({edge:s,fromId:u,toId:l}))}const p=[],m=function(y){for(let b=0;b<p.length;b++){const g=p[b],v=y.fromId===g.fromId&&y.toId===g.toId,x=y.fromId===g.toId&&y.toId===g.fromId;if(v||x)return g}return null};for(let y=0;y<f.length;y++){const b=f[y],g=b.edge;let v=m(b);v===null?(v=this._createClusteredEdge(b.fromId,b.toId,g,i),p.push(v)):v.clusteringEdgeReplacingIds.push(g.id),this.body.edges[g.id].edgeReplacedById=v.id,this._backupEdgeOptions(g),g.setOptions({physics:!1})}}_checkOptions(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return e.clusterEdgeProperties===void 0&&(e.clusterEdgeProperties={}),e.clusterNodeProperties===void 0&&(e.clusterNodeProperties={}),e}_cluster(e,r,n){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0;const s=[];for(const d in e)Object.prototype.hasOwnProperty.call(e,d)&&this.clusteredNodes[d]!==void 0&&s.push(d);for(let d=0;d<s.length;++d)delete e[s[d]];if(xt(e).length==0||xt(e).length==1&&n.clusterNodeProperties.allowSingleNodeCluster!=!0)return;let a=tt({},n.clusterNodeProperties);if(n.processProperties!==void 0){const d=[];for(const f in e)if(Object.prototype.hasOwnProperty.call(e,f)){const p=jr.cloneOptions(e[f]);d.push(p)}const h=[];for(const f in r)if(Object.prototype.hasOwnProperty.call(r,f)&&f.substr(0,12)!=="clusterEdge:"){const p=jr.cloneOptions(r[f],"edge");h.push(p)}if(a=n.processProperties(a,d,h),!a)throw new Error("The processProperties function does not return properties!")}a.id===void 0&&(a.id="cluster:"+Ac());const o=a.id;a.label===void 0&&(a.label="cluster");let l;a.x===void 0&&(l=this._getClusterPosition(e),a.x=l.x),a.y===void 0&&(l===void 0&&(l=this._getClusterPosition(e)),a.y=l.y),a.id=o;const u=this.body.functions.createNode(a,Nye);u.containedNodes=e,u.containedEdges=r,u.clusterEdgeProperties=n.clusterEdgeProperties,this.body.nodes[a.id]=u,this._clusterEdges(e,r,a,n.clusterEdgeProperties),a.id=void 0,i===!0&&this.body.emitter.emit("_dataChanged")}_backupEdgeOptions(e){this.clusteredEdges[e.id]===void 0&&(this.clusteredEdges[e.id]={physics:e.options.physics})}_restoreEdge(e){const r=this.clusteredEdges[e.id];r!==void 0&&(e.setOptions({physics:r.physics}),delete this.clusteredEdges[e.id])}isCluster(e){return this.body.nodes[e]!==void 0?this.body.nodes[e].isCluster===!0:(console.error("Node does not exist."),!1)}_getClusterPosition(e){const r=xt(e);let n=e[r[0]].x,i=e[r[0]].x,s=e[r[0]].y,a=e[r[0]].y,o;for(let l=1;l<r.length;l++)o=e[r[l]],n=o.x<n?o.x:n,i=o.x>i?o.x:i,s=o.y<s?o.y:s,a=o.y>a?o.y:a;return{x:.5*(n+i),y:.5*(s+a)}}openCluster(e,r){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(e===void 0)throw new Error("No clusterNodeId supplied to openCluster.");const i=this.body.nodes[e];if(i===void 0)throw new Error("The clusterNodeId supplied to openCluster does not exist.");if(i.isCluster!==!0||i.containedNodes===void 0||i.containedEdges===void 0)throw new Error("The node:"+e+" is not a valid cluster.");const s=this.findNode(e),a=Ue(s).call(s,e)-1;if(a>=0){const d=s[a];this.body.nodes[d]._openChildCluster(e),delete this.body.nodes[e],n===!0&&this.body.emitter.emit("_dataChanged");return}const o=i.containedNodes,l=i.containedEdges;if(r!==void 0&&r.releaseFunction!==void 0&&typeof r.releaseFunction=="function"){const d={},h={x:i.x,y:i.y};for(const p in o)if(Object.prototype.hasOwnProperty.call(o,p)){const m=this.body.nodes[p];d[p]={x:m.x,y:m.y}}const f=r.releaseFunction(h,d);for(const p in o)if(Object.prototype.hasOwnProperty.call(o,p)){const m=this.body.nodes[p];f[p]!==void 0&&(m.x=f[p].x===void 0?i.x:f[p].x,m.y=f[p].y===void 0?i.y:f[p].y)}}else je(o,function(d){d.options.fixed.x===!1&&(d.x=i.x),d.options.fixed.y===!1&&(d.y=i.y)});for(const d in o)if(Object.prototype.hasOwnProperty.call(o,d)){const h=this.body.nodes[d];h.vx=i.vx,h.vy=i.vy,h.setOptions({physics:!0}),delete this.clusteredNodes[d]}const u=[];for(let d=0;d<i.edges.length;d++)u.push(i.edges[d]);for(let d=0;d<u.length;d++){const h=u[d],f=this._getConnectedId(h,e),p=this.clusteredNodes[f];for(let m=0;m<h.clusteringEdgeReplacingIds.length;m++){const y=h.clusteringEdgeReplacingIds[m],b=this.body.edges[y];if(b!==void 0)if(p!==void 0){const g=this.body.nodes[p.clusterId];g.containedEdges[b.id]=b,delete l[b.id];let v=b.fromId,x=b.toId;b.toId==f?x=p.clusterId:v=p.clusterId,this._createClusteredEdge(v,x,b,g.clusterEdgeProperties,{hidden:!1,physics:!0})}else this._restoreEdge(b)}h.remove()}for(const d in l)Object.prototype.hasOwnProperty.call(l,d)&&this._restoreEdge(l[d]);delete this.body.nodes[e],n===!0&&this.body.emitter.emit("_dataChanged")}getNodesInCluster(e){const r=[];if(this.isCluster(e)===!0){const n=this.body.nodes[e].containedNodes;for(const i in n)Object.prototype.hasOwnProperty.call(n,i)&&r.push(this.body.nodes[i].id)}return r}findNode(e){const r=[];let i=0,s;for(;this.clusteredNodes[e]!==void 0&&i<100;){if(s=this.body.nodes[e],s===void 0)return[];r.push(s.id),e=this.clusteredNodes[e].clusterId,i++}return s=this.body.nodes[e],s===void 0?[]:(r.push(s.id),Za(r).call(r),r)}updateClusteredNode(e,r){if(e===void 0)throw new Error("No clusteredNodeId supplied to updateClusteredNode.");if(r===void 0)throw new Error("No newOptions supplied to updateClusteredNode.");if(this.body.nodes[e]===void 0)throw new Error("The clusteredNodeId supplied to updateClusteredNode does not exist.");this.body.nodes[e].setOptions(r),this.body.emitter.emit("_dataChanged")}updateEdge(e,r){if(e===void 0)throw new Error("No startEdgeId supplied to updateEdge.");if(r===void 0)throw new Error("No newOptions supplied to updateEdge.");if(this.body.edges[e]===void 0)throw new Error("The startEdgeId supplied to updateEdge does not exist.");const n=this.getClusteredEdges(e);for(let i=0;i<n.length;i++)this.body.edges[n[i]].setOptions(r);this.body.emitter.emit("_dataChanged")}getClusteredEdges(e){const r=[];let i=0;for(;e!==void 0&&this.body.edges[e]!==void 0&&i<100;)r.push(this.body.edges[e].id),e=this.body.edges[e].edgeReplacedById,i++;return Za(r).call(r),r}getBaseEdge(e){return this.getBaseEdges(e)[0]}getBaseEdges(e){const r=[e],n=[],i=[],s=100;let a=0;for(;r.length>0&&a<s;){const o=r.pop();if(o===void 0)continue;const l=this.body.edges[o];if(l===void 0)continue;a++;const u=l.clusteringEdgeReplacingIds;if(u===void 0)i.push(o);else for(let d=0;d<u.length;++d){const h=u[d];Ue(r).call(r,u)!==-1||Ue(n).call(n,u)!==-1||r.push(h)}n.push(o)}return i}_getConnectedId(e,r){return e.toId!=r?e.toId:(e.fromId!=r,e.fromId)}_getHubSize(){let e=0,r=0,n=0,i=0;for(let l=0;l<this.body.nodeIndices.length;l++){const u=this.body.nodes[this.body.nodeIndices[l]];u.edges.length>i&&(i=u.edges.length),e+=u.edges.length,r+=Math.pow(u.edges.length,2),n+=1}e=e/n,r=r/n;const s=r-Math.pow(e,2),a=Math.sqrt(s);let o=Math.floor(e+2*a);return o>i&&(o=i),o}_createClusteredEdge(e,r,n,i,s){const a=jr.cloneOptions(n,"edge");tt(a,i),a.from=e,a.to=r,a.id="clusterEdge:"+Ac(),s!==void 0&&tt(a,s);const o=this.body.functions.createEdge(a);return o.clusteringEdgeReplacingIds=[n.id],o.connect(),this.body.edges[o.id]=o,o}_clusterEdges(e,r,n,i){if(r instanceof ra){const s=r,a={};a[s.id]=s,r=a}if(e instanceof lt){const s=e,a={};a[s.id]=s,e=a}if(n==null)throw new Error("_clusterEdges: parameter clusterNode required");i===void 0&&(i=n.clusterEdgeProperties),this._createClusterEdges(e,r,n,i);for(const s in r)if(Object.prototype.hasOwnProperty.call(r,s)&&this.body.edges[s]!==void 0){const a=this.body.edges[s];this._backupEdgeOptions(a),a.setOptions({physics:!1})}for(const s in e)Object.prototype.hasOwnProperty.call(e,s)&&(this.clusteredNodes[s]={clusterId:n.id,node:this.body.nodes[s]},this.body.nodes[s].setOptions({physics:!1}))}_getClusterNodeForNode(e){if(e===void 0)return;const r=this.clusteredNodes[e];if(r===void 0)return;const n=r.clusterId;if(n!==void 0)return this.body.nodes[n]}_filter(e,r){const n=[];return je(e,i=>{r(i)&&n.push(i)}),n}_updateState(){let e;const r=[],n={},i=l=>{je(this.body.nodes,u=>{u.isCluster===!0&&l(u)})};for(e in this.clusteredNodes){if(!Object.prototype.hasOwnProperty.call(this.clusteredNodes,e))continue;this.body.nodes[e]===void 0&&r.push(e)}i(function(l){for(let u=0;u<r.length;u++)delete l.containedNodes[r[u]]});for(let l=0;l<r.length;l++)delete this.clusteredNodes[r[l]];je(this.clusteredEdges,l=>{const u=this.body.edges[l];(u===void 0||!u.endPointsValid())&&(n[l]=l)}),i(function(l){je(l.containedEdges,(u,d)=>{!u.endPointsValid()&&!n[d]&&(n[d]=d)})}),je(this.body.edges,(l,u)=>{let d=!0;const h=l.clusteringEdgeReplacingIds;if(h!==void 0){let f=0;je(h,p=>{const m=this.body.edges[p];m!==void 0&&m.endPointsValid()&&(f+=1)}),d=f>0}(!l.endPointsValid()||!d)&&(n[u]=u)}),i(l=>{je(n,u=>{delete l.containedEdges[u],je(l.edges,(d,h)=>{if(d.id===u){l.edges[h]=null;return}d.clusteringEdgeReplacingIds=this._filter(d.clusteringEdgeReplacingIds,function(f){return!n[f]})}),l.edges=this._filter(l.edges,function(d){return d!==null})})}),je(n,l=>{delete this.clusteredEdges[l]}),je(n,l=>{delete this.body.edges[l]});const s=xt(this.body.edges);je(s,l=>{const u=this.body.edges[l],d=this._isClusteredNode(u.fromId)||this._isClusteredNode(u.toId);if(d!==this._isClusteredEdge(u.id))if(d){const h=this._getClusterNodeForNode(u.fromId);h!==void 0&&this._clusterEdges(this.body.nodes[u.fromId],u,h);const f=this._getClusterNodeForNode(u.toId);f!==void 0&&this._clusterEdges(this.body.nodes[u.toId],u,f)}else delete this._clusterEdges[l],this._restoreEdge(u)});let a=!1,o=!0;for(;o;){const l=[];i(function(u){const d=xt(u.containedNodes).length,h=u.options.allowSingleNodeCluster===!0;(h&&d<1||!h&&d<2)&&l.push(u.id)});for(let u=0;u<l.length;++u)this.openCluster(l[u],{},!1);o=l.length>0,a=a||o}a&&this._updateState()}_isClusteredNode(e){return this.clusteredNodes[e]!==void 0}_isClusteredEdge(e){return this.clusteredEdges[e]!==void 0}}class Tye{constructor(e,r){this.body=e,this.canvas=r,this.redrawRequested=!1,this.requestAnimationFrameRequestId=void 0,this.renderingActive=!1,this.renderRequests=0,this.allowRedraw=!0,this.dragging=!1,this.zooming=!1,this.options={},this.defaultOptions={hideEdgesOnDrag:!1,hideEdgesOnZoom:!1,hideNodesOnDrag:!1},kt(this.options,this.defaultOptions),this.bindEventListeners()}bindEventListeners(){var e;this.body.emitter.on("dragStart",()=>{this.dragging=!0}),this.body.emitter.on("dragEnd",()=>{this.dragging=!1}),this.body.emitter.on("zoom",()=>{this.zooming=!0,window.clearTimeout(this.zoomTimeoutId),this.zoomTimeoutId=Gi(()=>{var r;this.zooming=!1,ee(r=this._requestRedraw).call(r,this)()},250)}),this.body.emitter.on("_resizeNodes",()=>{this._resizeNodes()}),this.body.emitter.on("_redraw",()=>{this.renderingActive===!1&&this._redraw()}),this.body.emitter.on("_blockRedraw",()=>{this.allowRedraw=!1}),this.body.emitter.on("_allowRedraw",()=>{this.allowRedraw=!0,this.redrawRequested=!1}),this.body.emitter.on("_requestRedraw",ee(e=this._requestRedraw).call(e,this)),this.body.emitter.on("_startRendering",()=>{this.renderRequests+=1,this.renderingActive=!0,this._startRendering()}),this.body.emitter.on("_stopRendering",()=>{this.renderRequests-=1,this.renderingActive=this.renderRequests>0,this.requestAnimationFrameRequestId=void 0}),this.body.emitter.on("destroy",()=>{this.renderRequests=0,this.allowRedraw=!1,this.renderingActive=!1,window.cancelAnimationFrame(this.requestAnimationFrameRequestId),this.body.emitter.off()})}setOptions(e){e!==void 0&&Ku(["hideEdgesOnDrag","hideEdgesOnZoom","hideNodesOnDrag"],this.options,e)}_startRendering(){if(this.renderingActive===!0&&this.requestAnimationFrameRequestId===void 0){var e;this.requestAnimationFrameRequestId=window.requestAnimationFrame(ee(e=this._renderStep).call(e,this),this.simulationInterval)}}_renderStep(){this.renderingActive===!0&&(this.requestAnimationFrameRequestId=void 0,this._startRendering(),this._redraw())}redraw(){this.body.emitter.emit("setSize"),this._redraw()}_requestRedraw(){this.redrawRequested!==!0&&this.renderingActive===!1&&this.allowRedraw===!0&&(this.redrawRequested=!0,window.requestAnimationFrame(()=>{this._redraw(!1)}))}_redraw(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;if(this.allowRedraw===!0){this.body.emitter.emit("initRedraw"),this.redrawRequested=!1;const r={drawExternalLabels:null};(this.canvas.frame.canvas.width===0||this.canvas.frame.canvas.height===0)&&this.canvas.setSize(),this.canvas.setTransform();const n=this.canvas.getContext(),i=this.canvas.frame.canvas.clientWidth,s=this.canvas.frame.canvas.clientHeight;if(n.clearRect(0,0,i,s),this.canvas.frame.clientWidth===0)return;if(n.save(),n.translate(this.body.view.translation.x,this.body.view.translation.y),n.scale(this.body.view.scale,this.body.view.scale),n.beginPath(),this.body.emitter.emit("beforeDrawing",n),n.closePath(),e===!1&&(this.dragging===!1||this.dragging===!0&&this.options.hideEdgesOnDrag===!1)&&(this.zooming===!1||this.zooming===!0&&this.options.hideEdgesOnZoom===!1)&&this._drawEdges(n),this.dragging===!1||this.dragging===!0&&this.options.hideNodesOnDrag===!1){const{drawExternalLabels:a}=this._drawNodes(n,e);r.drawExternalLabels=a}e===!1&&(this.dragging===!1||this.dragging===!0&&this.options.hideEdgesOnDrag===!1)&&(this.zooming===!1||this.zooming===!0&&this.options.hideEdgesOnZoom===!1)&&this._drawArrows(n),r.drawExternalLabels!=null&&r.drawExternalLabels(),e===!1&&this._drawSelectionBox(n),n.beginPath(),this.body.emitter.emit("afterDrawing",n),n.closePath(),n.restore(),e===!0&&n.clearRect(0,0,i,s)}}_resizeNodes(){this.canvas.setTransform();const e=this.canvas.getContext();e.save(),e.translate(this.body.view.translation.x,this.body.view.translation.y),e.scale(this.body.view.scale,this.body.view.scale);const r=this.body.nodes;let n;for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n=r[i],n.resize(e),n.updateBoundingBox(e,n.selected));e.restore()}_drawNodes(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;const n=this.body.nodes,i=this.body.nodeIndices;let s;const a=[],o=[],l=20,u=this.canvas.DOMtoCanvas({x:-l,y:-l}),d=this.canvas.DOMtoCanvas({x:this.canvas.frame.canvas.clientWidth+l,y:this.canvas.frame.canvas.clientHeight+l}),h={top:u.y,left:u.x,bottom:d.y,right:d.x},f=[];for(let b=0;b<i.length;b++)if(s=n[i[b]],s.hover)o.push(i[b]);else if(s.isSelected())a.push(i[b]);else if(r===!0){const g=s.draw(e);g.drawExternalLabel!=null&&f.push(g.drawExternalLabel)}else if(s.isBoundingBoxOverlappingWith(h)===!0){const g=s.draw(e);g.drawExternalLabel!=null&&f.push(g.drawExternalLabel)}else s.updateBoundingBox(e,s.selected);let p;const m=a.length,y=o.length;for(p=0;p<m;p++){s=n[a[p]];const b=s.draw(e);b.drawExternalLabel!=null&&f.push(b.drawExternalLabel)}for(p=0;p<y;p++){s=n[o[p]];const b=s.draw(e);b.drawExternalLabel!=null&&f.push(b.drawExternalLabel)}return{drawExternalLabels:()=>{for(const b of f)b()}}}_drawEdges(e){const r=this.body.edges,n=this.body.edgeIndices;for(let i=0;i<n.length;i++){const s=r[n[i]];s.connected===!0&&s.draw(e)}}_drawArrows(e){const r=this.body.edges,n=this.body.edgeIndices;for(let i=0;i<n.length;i++){const s=r[n[i]];s.connected===!0&&s.drawArrows(e)}}_drawSelectionBox(e){if(this.body.selectionBox.show){e.beginPath();const r=this.body.selectionBox.position.end.x-this.body.selectionBox.position.start.x,n=this.body.selectionBox.position.end.y-this.body.selectionBox.position.start.y;e.rect(this.body.selectionBox.position.start.x,this.body.selectionBox.position.start.y,r,n),e.fillStyle="rgba(151, 194, 252, 0.2)",e.fillRect(this.body.selectionBox.position.start.x,this.body.selectionBox.position.start.y,r,n),e.strokeStyle="rgba(151, 194, 252, 1)",e.stroke()}else e.closePath()}}var qE,bW;function Iye(){if(bW)return qE;bW=1,CG();var t=He();return qE=t.setInterval,qE}var ME,wW;function Rye(){return wW||(wW=1,ME=Iye()),ME}var jye=Rye(),$ye=Ee(jye);function fp(t,e){e.inputHandler=function(r){r.isFirst&&e(r)},t.on("hammer.input",e.inputHandler)}function EY(t,e){return e.inputHandler=function(r){r.isFinal&&e(r)},t.on("hammer.input",e.inputHandler)}class kye{constructor(e){this.body=e,this.pixelRatio=1,this.cameraState={},this.initialized=!1,this.canvasViewCenter={},this._cleanupCallbacks=[],this.options={},this.defaultOptions={autoResize:!0,height:"100%",width:"100%"},kt(this.options,this.defaultOptions),this.bindEventListeners()}bindEventListeners(){var e;this.body.emitter.once("resize",r=>{r.width!==0&&(this.body.view.translation.x=r.width*.5),r.height!==0&&(this.body.view.translation.y=r.height*.5)}),this.body.emitter.on("setSize",ee(e=this.setSize).call(e,this)),this.body.emitter.on("destroy",()=>{this.hammerFrame.destroy(),this.hammer.destroy(),this._cleanUp()})}setOptions(e){if(e!==void 0&&Ku(["width","height","autoResize"],this.options,e),this._cleanUp(),this.options.autoResize===!0){var r;if(window.ResizeObserver){const i=new ResizeObserver(()=>{this.setSize()===!0&&this.body.emitter.emit("_requestRedraw")}),{frame:s}=this;i.observe(s),this._cleanupCallbacks.push(()=>{i.unobserve(s)})}else{const i=$ye(()=>{this.setSize()===!0&&this.body.emitter.emit("_requestRedraw")},1e3);this._cleanupCallbacks.push(()=>{clearInterval(i)})}const n=ee(r=this._onResize).call(r,this);window.addEventListener("resize",n),this._cleanupCallbacks.push(()=>{window.removeEventListener("resize",n)})}}_cleanUp(){var e,r,n;Xe(e=Za(r=Ki(n=this._cleanupCallbacks).call(n,0)).call(r)).call(e,i=>{try{i()}catch(s){console.error(s)}})}_onResize(){this.setSize(),this.body.emitter.emit("_redraw")}_getCameraState(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.pixelRatio;this.initialized===!0&&(this.cameraState.previousWidth=this.frame.canvas.width/e,this.cameraState.previousHeight=this.frame.canvas.height/e,this.cameraState.scale=this.body.view.scale,this.cameraState.position=this.DOMtoCanvas({x:.5*this.frame.canvas.width/e,y:.5*this.frame.canvas.height/e}))}_setCameraState(){if(this.cameraState.scale!==void 0&&this.frame.canvas.clientWidth!==0&&this.frame.canvas.clientHeight!==0&&this.pixelRatio!==0&&this.cameraState.previousWidth>0&&this.cameraState.previousHeight>0){const e=this.frame.canvas.width/this.pixelRatio/this.cameraState.previousWidth,r=this.frame.canvas.height/this.pixelRatio/this.cameraState.previousHeight;let n=this.cameraState.scale;e!=1&&r!=1?n=this.cameraState.scale*.5*(e+r):e!=1?n=this.cameraState.scale*e:r!=1&&(n=this.cameraState.scale*r),this.body.view.scale=n;const i=this.DOMtoCanvas({x:.5*this.frame.canvas.clientWidth,y:.5*this.frame.canvas.clientHeight}),s={x:i.x-this.cameraState.position.x,y:i.y-this.cameraState.position.y};this.body.view.translation.x+=s.x*this.body.view.scale,this.body.view.translation.y+=s.y*this.body.view.scale}}_prepareValue(e){if(typeof e=="number")return e+"px";if(typeof e=="string"){if(Ue(e).call(e,"%")!==-1||Ue(e).call(e,"px")!==-1)return e;if(Ue(e).call(e,"%")===-1)return e+"px"}throw new Error("Could not use the value supplied for width or height:"+e)}_create(){for(;this.body.container.hasChildNodes();)this.body.container.removeChild(this.body.container.firstChild);if(this.frame=document.createElement("div"),this.frame.className="vis-network",this.frame.style.position="relative",this.frame.style.overflow="hidden",this.frame.tabIndex=0,this.frame.canvas=document.createElement("canvas"),this.frame.canvas.style.position="relative",this.frame.appendChild(this.frame.canvas),this.frame.canvas.getContext)this._setPixelRatio(),this.setTransform();else{const e=document.createElement("DIV");e.style.color="red",e.style.fontWeight="bold",e.style.padding="10px",e.innerText="Error: your browser does not support HTML canvas",this.frame.canvas.appendChild(e)}this.body.container.appendChild(this.frame),this.body.view.scale=1,this.body.view.translation={x:.5*this.frame.canvas.clientWidth,y:.5*this.frame.canvas.clientHeight},this._bindHammer()}_bindHammer(){this.hammer!==void 0&&this.hammer.destroy(),this.drag={},this.pinch={},this.hammer=new Nl(this.frame.canvas),this.hammer.get("pinch").set({enable:!0}),this.hammer.get("pan").set({threshold:5,direction:Nl.DIRECTION_ALL}),fp(this.hammer,e=>{this.body.eventListeners.onTouch(e)}),this.hammer.on("tap",e=>{this.body.eventListeners.onTap(e)}),this.hammer.on("doubletap",e=>{this.body.eventListeners.onDoubleTap(e)}),this.hammer.on("press",e=>{this.body.eventListeners.onHold(e)}),this.hammer.on("panstart",e=>{this.body.eventListeners.onDragStart(e)}),this.hammer.on("panmove",e=>{this.body.eventListeners.onDrag(e)}),this.hammer.on("panend",e=>{this.body.eventListeners.onDragEnd(e)}),this.hammer.on("pinch",e=>{this.body.eventListeners.onPinch(e)}),this.frame.canvas.addEventListener("wheel",e=>{this.body.eventListeners.onMouseWheel(e)}),this.frame.canvas.addEventListener("mousemove",e=>{this.body.eventListeners.onMouseMove(e)}),this.frame.canvas.addEventListener("contextmenu",e=>{this.body.eventListeners.onContext(e)}),this.hammerFrame=new Nl(this.frame),EY(this.hammerFrame,e=>{this.body.eventListeners.onRelease(e)})}setSize(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.options.width,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.options.height;e=this._prepareValue(e),r=this._prepareValue(r);let n=!1;const i=this.frame.canvas.width,s=this.frame.canvas.height,a=this.pixelRatio;if(this._setPixelRatio(),e!=this.options.width||r!=this.options.height||this.frame.style.width!=e||this.frame.style.height!=r)this._getCameraState(a),this.frame.style.width=e,this.frame.style.height=r,this.frame.canvas.style.width="100%",this.frame.canvas.style.height="100%",this.frame.canvas.width=Math.round(this.frame.canvas.clientWidth*this.pixelRatio),this.frame.canvas.height=Math.round(this.frame.canvas.clientHeight*this.pixelRatio),this.options.width=e,this.options.height=r,this.canvasViewCenter={x:.5*this.frame.clientWidth,y:.5*this.frame.clientHeight},n=!0;else{const o=Math.round(this.frame.canvas.clientWidth*this.pixelRatio),l=Math.round(this.frame.canvas.clientHeight*this.pixelRatio);(this.frame.canvas.width!==o||this.frame.canvas.height!==l)&&this._getCameraState(a),this.frame.canvas.width!==o&&(this.frame.canvas.width=o,n=!0),this.frame.canvas.height!==l&&(this.frame.canvas.height=l,n=!0)}return n===!0&&(this.body.emitter.emit("resize",{width:Math.round(this.frame.canvas.width/this.pixelRatio),height:Math.round(this.frame.canvas.height/this.pixelRatio),oldWidth:Math.round(i/this.pixelRatio),oldHeight:Math.round(s/this.pixelRatio)}),this._setCameraState()),this.initialized=!0,n}getContext(){return this.frame.canvas.getContext("2d")}_determinePixelRatio(){const e=this.getContext();if(e===void 0)throw new Error("Could not get canvax context");let r=1;typeof window<"u"&&(r=window.devicePixelRatio||1);const n=e.webkitBackingStorePixelRatio||e.mozBackingStorePixelRatio||e.msBackingStorePixelRatio||e.oBackingStorePixelRatio||e.backingStorePixelRatio||1;return r/n}_setPixelRatio(){this.pixelRatio=this._determinePixelRatio()}setTransform(){const e=this.getContext();if(e===void 0)throw new Error("Could not get canvax context");e.setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0)}_XconvertDOMtoCanvas(e){return(e-this.body.view.translation.x)/this.body.view.scale}_XconvertCanvasToDOM(e){return e*this.body.view.scale+this.body.view.translation.x}_YconvertDOMtoCanvas(e){return(e-this.body.view.translation.y)/this.body.view.scale}_YconvertCanvasToDOM(e){return e*this.body.view.scale+this.body.view.translation.y}canvasToDOM(e){return{x:this._XconvertCanvasToDOM(e.x),y:this._YconvertCanvasToDOM(e.y)}}DOMtoCanvas(e){return{x:this._XconvertDOMtoCanvas(e.x),y:this._YconvertDOMtoCanvas(e.y)}}}function Dye(t,e){const r=kt({nodes:e,minZoomLevel:Number.MIN_VALUE,maxZoomLevel:1},t??{});if(!Ot(r.nodes))throw new TypeError("Nodes has to be an array of ids.");if(r.nodes.length===0&&(r.nodes=e),!(typeof r.minZoomLevel=="number"&&r.minZoomLevel>0))throw new TypeError("Min zoom level has to be a number higher than zero.");if(!(typeof r.maxZoomLevel=="number"&&r.minZoomLevel<=r.maxZoomLevel))throw new TypeError("Max zoom level has to be a number higher than min zoom level.");return r}class qye{constructor(e,r){var n,i;this.body=e,this.canvas=r,this.animationSpeed=1/this.renderRefreshRate,this.animationEasingFunction="easeInOutQuint",this.easingTime=0,this.sourceScale=0,this.targetScale=0,this.sourceTranslation=0,this.targetTranslation=0,this.lockedOnNodeId=void 0,this.lockedOnNodeOffset=void 0,this.touchTime=0,this.viewFunction=void 0,this.body.emitter.on("fit",ee(n=this.fit).call(n,this)),this.body.emitter.on("animationFinished",()=>{this.body.emitter.emit("_stopRendering")}),this.body.emitter.on("unlockNode",ee(i=this.releaseNode).call(i,this))}setOptions(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.options=e}fit(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;e=Dye(e,this.body.nodeIndices);const n=this.canvas.frame.canvas.clientWidth,i=this.canvas.frame.canvas.clientHeight;let s,a;if(n===0||i===0)a=1,s=jr.getRange(this.body.nodes,e.nodes);else if(r===!0){let u=0;for(const f in this.body.nodes)Object.prototype.hasOwnProperty.call(this.body.nodes,f)&&this.body.nodes[f].predefinedPosition===!0&&(u+=1);if(u>.5*this.body.nodeIndices.length){this.fit(e,!1);return}s=jr.getRange(this.body.nodes,e.nodes),a=12.662/(this.body.nodeIndices.length+7.4147)+.0964822;const h=Math.min(n/600,i/600);a*=h}else{this.body.emitter.emit("_resizeNodes"),s=jr.getRange(this.body.nodes,e.nodes);const u=Math.abs(s.maxX-s.minX)*1.1,d=Math.abs(s.maxY-s.minY)*1.1,h=n/u,f=i/d;a=h<=f?h:f}a>e.maxZoomLevel?a=e.maxZoomLevel:a<e.minZoomLevel&&(a=e.minZoomLevel);const l={position:jr.findCenter(s),scale:a,animation:e.animation};this.moveTo(l)}focus(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(this.body.nodes[e]!==void 0){const n={x:this.body.nodes[e].x,y:this.body.nodes[e].y};r.position=n,r.lockedOnNode=e,this.moveTo(r)}else console.error("Node: "+e+" cannot be found.")}moveTo(e){if(e===void 0){e={};return}if(e.offset!=null){if(e.offset.x!=null){if(e.offset.x=+e.offset.x,!Ma(e.offset.x))throw new TypeError('The option "offset.x" has to be a finite number.')}else e.offset.x=0;if(e.offset.y!=null){if(e.offset.y=+e.offset.y,!Ma(e.offset.y))throw new TypeError('The option "offset.y" has to be a finite number.')}else e.offset.x=0}else e.offset={x:0,y:0};if(e.position!=null){if(e.position.x!=null){if(e.position.x=+e.position.x,!Ma(e.position.x))throw new TypeError('The option "position.x" has to be a finite number.')}else e.position.x=0;if(e.position.y!=null){if(e.position.y=+e.position.y,!Ma(e.position.y))throw new TypeError('The option "position.y" has to be a finite number.')}else e.position.x=0}else e.position=this.getViewPosition();if(e.scale!=null){if(e.scale=+e.scale,!(e.scale>0))throw new TypeError('The option "scale" has to be a number greater than zero.')}else e.scale=this.body.view.scale;e.animation===void 0&&(e.animation={duration:0}),e.animation===!1&&(e.animation={duration:0}),e.animation===!0&&(e.animation={}),e.animation.duration===void 0&&(e.animation.duration=1e3),e.animation.easingFunction===void 0&&(e.animation.easingFunction="easeInOutQuad"),this.animateView(e)}animateView(e){if(e===void 0)return;this.animationEasingFunction=e.animation.easingFunction,this.releaseNode(),e.locked===!0&&(this.lockedOnNodeId=e.lockedOnNode,this.lockedOnNodeOffset=e.offset),this.easingTime!=0&&this._transitionRedraw(!0),this.sourceScale=this.body.view.scale,this.sourceTranslation=this.body.view.translation,this.targetScale=e.scale,this.body.view.scale=this.targetScale;const r=this.canvas.DOMtoCanvas({x:.5*this.canvas.frame.canvas.clientWidth,y:.5*this.canvas.frame.canvas.clientHeight}),n={x:r.x-e.position.x,y:r.y-e.position.y};if(this.targetTranslation={x:this.sourceTranslation.x+n.x*this.targetScale+e.offset.x,y:this.sourceTranslation.y+n.y*this.targetScale+e.offset.y},e.animation.duration===0)if(this.lockedOnNodeId!=null){var i;this.viewFunction=ee(i=this._lockedRedraw).call(i,this),this.body.emitter.on("initRedraw",this.viewFunction)}else this.body.view.scale=this.targetScale,this.body.view.translation=this.targetTranslation,this.body.emitter.emit("_requestRedraw");else{var s;this.animationSpeed=1/(60*e.animation.duration*.001)||1/60,this.animationEasingFunction=e.animation.easingFunction,this.viewFunction=ee(s=this._transitionRedraw).call(s,this),this.body.emitter.on("initRedraw",this.viewFunction),this.body.emitter.emit("_startRendering")}}_lockedRedraw(){const e={x:this.body.nodes[this.lockedOnNodeId].x,y:this.body.nodes[this.lockedOnNodeId].y},r=this.canvas.DOMtoCanvas({x:.5*this.canvas.frame.canvas.clientWidth,y:.5*this.canvas.frame.canvas.clientHeight}),n={x:r.x-e.x,y:r.y-e.y},i=this.body.view.translation,s={x:i.x+n.x*this.body.view.scale+this.lockedOnNodeOffset.x,y:i.y+n.y*this.body.view.scale+this.lockedOnNodeOffset.y};this.body.view.translation=s}releaseNode(){this.lockedOnNodeId!==void 0&&this.viewFunction!==void 0&&(this.body.emitter.off("initRedraw",this.viewFunction),this.lockedOnNodeId=void 0,this.lockedOnNodeOffset=void 0)}_transitionRedraw(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;this.easingTime+=this.animationSpeed,this.easingTime=e===!0?1:this.easingTime;const r=Wpe[this.animationEasingFunction](this.easingTime);if(this.body.view.scale=this.sourceScale+(this.targetScale-this.sourceScale)*r,this.body.view.translation={x:this.sourceTranslation.x+(this.targetTranslation.x-this.sourceTranslation.x)*r,y:this.sourceTranslation.y+(this.targetTranslation.y-this.sourceTranslation.y)*r},this.easingTime>=1){if(this.body.emitter.off("initRedraw",this.viewFunction),this.easingTime=0,this.lockedOnNodeId!=null){var n;this.viewFunction=ee(n=this._lockedRedraw).call(n,this),this.body.emitter.on("initRedraw",this.viewFunction)}this.body.emitter.emit("animationFinished")}}getScale(){return this.body.view.scale}getViewPosition(){return this.canvas.DOMtoCanvas({x:.5*this.canvas.frame.canvas.clientWidth,y:.5*this.canvas.frame.canvas.clientHeight})}}function xW(t){var e=t&&t.preventDefault||!1,r=t&&t.container||window,n={},i={keydown:{},keyup:{}},s={},a;for(a=97;a<=122;a++)s[String.fromCharCode(a)]={code:65+(a-97),shift:!1};for(a=65;a<=90;a++)s[String.fromCharCode(a)]={code:a,shift:!0};for(a=0;a<=9;a++)s[""+a]={code:48+a,shift:!1};for(a=1;a<=12;a++)s["F"+a]={code:111+a,shift:!1};for(a=0;a<=9;a++)s["num"+a]={code:96+a,shift:!1};s["num*"]={code:106,shift:!1},s["num+"]={code:107,shift:!1},s["num-"]={code:109,shift:!1},s["num/"]={code:111,shift:!1},s["num."]={code:110,shift:!1},s.left={code:37,shift:!1},s.up={code:38,shift:!1},s.right={code:39,shift:!1},s.down={code:40,shift:!1},s.space={code:32,shift:!1},s.enter={code:13,shift:!1},s.shift={code:16,shift:void 0},s.esc={code:27,shift:!1},s.backspace={code:8,shift:!1},s.tab={code:9,shift:!1},s.ctrl={code:17,shift:!1},s.alt={code:18,shift:!1},s.delete={code:46,shift:!1},s.pageup={code:33,shift:!1},s.pagedown={code:34,shift:!1},s["="]={code:187,shift:!1},s["-"]={code:189,shift:!1},s["]"]={code:221,shift:!1},s["["]={code:219,shift:!1};var o=function(d){u(d,"keydown")},l=function(d){u(d,"keyup")},u=function(d,h){if(i[h][d.keyCode]!==void 0){for(var f=i[h][d.keyCode],p=0;p<f.length;p++)(f[p].shift===void 0||f[p].shift==!0&&d.shiftKey==!0||f[p].shift==!1&&d.shiftKey==!1)&&f[p].fn(d);e==!0&&d.preventDefault()}};return n.bind=function(d,h,f){if(f===void 0&&(f="keydown"),s[d]===void 0)throw new Error("unsupported key: "+d);i[f][s[d].code]===void 0&&(i[f][s[d].code]=[]),i[f][s[d].code].push({fn:h,shift:s[d].shift})},n.bindAll=function(d,h){h===void 0&&(h="keydown");for(var f in s)s.hasOwnProperty(f)&&n.bind(f,d,h)},n.getKey=function(d){for(var h in s)if(s.hasOwnProperty(h)){if(d.shiftKey==!0&&s[h].shift==!0&&d.keyCode==s[h].code)return h;if(d.shiftKey==!1&&s[h].shift==!1&&d.keyCode==s[h].code)return h;if(d.keyCode==s[h].code&&h=="shift")return h}return"unknown key, currently not supported"},n.unbind=function(d,h,f){if(f===void 0&&(f="keydown"),s[d]===void 0)throw new Error("unsupported key: "+d);if(h!==void 0){var p=[],m=i[f][s[d].code];if(m!==void 0)for(var y=0;y<m.length;y++)m[y].fn==h&&m[y].shift==s[d].shift||p.push(i[f][s[d].code][y]);i[f][s[d].code]=p}else i[f][s[d].code]=[]},n.reset=function(){i={keydown:{},keyup:{}}},n.destroy=function(){i={keydown:{},keyup:{}},r.removeEventListener("keydown",o,!0),r.removeEventListener("keyup",l,!0)},r.addEventListener("keydown",o,!0),r.addEventListener("keyup",l,!0),n}class Mye{constructor(e,r){this.body=e,this.canvas=r,this.iconsCreated=!1,this.navigationHammers=[],this.boundFunctions={},this.touchTime=0,this.activated=!1,this.body.emitter.on("activate",()=>{this.activated=!0,this.configureKeyboardBindings()}),this.body.emitter.on("deactivate",()=>{this.activated=!1,this.configureKeyboardBindings()}),this.body.emitter.on("destroy",()=>{this.keycharm!==void 0&&this.keycharm.destroy()}),this.options={}}setOptions(e){e!==void 0&&(this.options=e,this.create())}create(){this.options.navigationButtons===!0?this.iconsCreated===!1&&this.loadNavigationElements():this.iconsCreated===!0&&this.cleanNavigation(),this.configureKeyboardBindings()}cleanNavigation(){if(this.navigationHammers.length!=0){for(let e=0;e<this.navigationHammers.length;e++)this.navigationHammers[e].destroy();this.navigationHammers=[]}this.navigationDOM&&this.navigationDOM.wrapper&&this.navigationDOM.wrapper.parentNode&&this.navigationDOM.wrapper.parentNode.removeChild(this.navigationDOM.wrapper),this.iconsCreated=!1}loadNavigationElements(){this.cleanNavigation(),this.navigationDOM={};const e=["up","down","left","right","zoomIn","zoomOut","zoomExtends"],r=["_moveUp","_moveDown","_moveLeft","_moveRight","_zoomIn","_zoomOut","_fit"];this.navigationDOM.wrapper=document.createElement("div"),this.navigationDOM.wrapper.className="vis-navigation",this.canvas.frame.appendChild(this.navigationDOM.wrapper);for(let a=0;a<e.length;a++){this.navigationDOM[e[a]]=document.createElement("div"),this.navigationDOM[e[a]].className="vis-button vis-"+e[a],this.navigationDOM.wrapper.appendChild(this.navigationDOM[e[a]]);const o=new Nl(this.navigationDOM[e[a]]);if(r[a]==="_fit"){var n;fp(o,ee(n=this._fit).call(n,this))}else{var i;fp(o,ee(i=this.bindToRedraw).call(i,this,r[a]))}this.navigationHammers.push(o)}const s=new Nl(this.canvas.frame);EY(s,()=>{this._stopMovement()}),this.navigationHammers.push(s),this.iconsCreated=!0}bindToRedraw(e){if(this.boundFunctions[e]===void 0){var r;this.boundFunctions[e]=ee(r=this[e]).call(r,this),this.body.emitter.on("initRedraw",this.boundFunctions[e]),this.body.emitter.emit("_startRendering")}}unbindFromRedraw(e){this.boundFunctions[e]!==void 0&&(this.body.emitter.off("initRedraw",this.boundFunctions[e]),this.body.emitter.emit("_stopRendering"),delete this.boundFunctions[e])}_fit(){new Date().valueOf()-this.touchTime>700&&(this.body.emitter.emit("fit",{duration:700}),this.touchTime=new Date().valueOf())}_stopMovement(){for(const e in this.boundFunctions)Object.prototype.hasOwnProperty.call(this.boundFunctions,e)&&(this.body.emitter.off("initRedraw",this.boundFunctions[e]),this.body.emitter.emit("_stopRendering"));this.boundFunctions={}}_moveUp(){this.body.view.translation.y+=this.options.keyboard.speed.y}_moveDown(){this.body.view.translation.y-=this.options.keyboard.speed.y}_moveLeft(){this.body.view.translation.x+=this.options.keyboard.speed.x}_moveRight(){this.body.view.translation.x-=this.options.keyboard.speed.x}_zoomIn(){const e=this.body.view.scale,r=this.body.view.scale*(1+this.options.keyboard.speed.zoom),n=this.body.view.translation,i=r/e,s=(1-i)*this.canvas.canvasViewCenter.x+n.x*i,a=(1-i)*this.canvas.canvasViewCenter.y+n.y*i;this.body.view.scale=r,this.body.view.translation={x:s,y:a},this.body.emitter.emit("zoom",{direction:"+",scale:this.body.view.scale,pointer:null})}_zoomOut(){const e=this.body.view.scale,r=this.body.view.scale/(1+this.options.keyboard.speed.zoom),n=this.body.view.translation,i=r/e,s=(1-i)*this.canvas.canvasViewCenter.x+n.x*i,a=(1-i)*this.canvas.canvasViewCenter.y+n.y*i;this.body.view.scale=r,this.body.view.translation={x:s,y:a},this.body.emitter.emit("zoom",{direction:"-",scale:this.body.view.scale,pointer:null})}configureKeyboardBindings(){if(this.keycharm!==void 0&&this.keycharm.destroy(),this.options.keyboard.enabled===!0&&(this.options.keyboard.bindToWindow===!0?this.keycharm=xW({container:window,preventDefault:!0}):this.keycharm=xW({container:this.canvas.frame,preventDefault:!0}),this.keycharm.reset(),this.activated===!0)){var e,r,n,i,s,a,o,l,u,d,h,f,p,m,y,b,g,v,x,w,_,E,O,S;ee(e=this.keycharm).call(e,"up",()=>{this.bindToRedraw("_moveUp")},"keydown"),ee(r=this.keycharm).call(r,"down",()=>{this.bindToRedraw("_moveDown")},"keydown"),ee(n=this.keycharm).call(n,"left",()=>{this.bindToRedraw("_moveLeft")},"keydown"),ee(i=this.keycharm).call(i,"right",()=>{this.bindToRedraw("_moveRight")},"keydown"),ee(s=this.keycharm).call(s,"=",()=>{this.bindToRedraw("_zoomIn")},"keydown"),ee(a=this.keycharm).call(a,"num+",()=>{this.bindToRedraw("_zoomIn")},"keydown"),ee(o=this.keycharm).call(o,"num-",()=>{this.bindToRedraw("_zoomOut")},"keydown"),ee(l=this.keycharm).call(l,"-",()=>{this.bindToRedraw("_zoomOut")},"keydown"),ee(u=this.keycharm).call(u,"[",()=>{this.bindToRedraw("_zoomOut")},"keydown"),ee(d=this.keycharm).call(d,"]",()=>{this.bindToRedraw("_zoomIn")},"keydown"),ee(h=this.keycharm).call(h,"pageup",()=>{this.bindToRedraw("_zoomIn")},"keydown"),ee(f=this.keycharm).call(f,"pagedown",()=>{this.bindToRedraw("_zoomOut")},"keydown"),ee(p=this.keycharm).call(p,"up",()=>{this.unbindFromRedraw("_moveUp")},"keyup"),ee(m=this.keycharm).call(m,"down",()=>{this.unbindFromRedraw("_moveDown")},"keyup"),ee(y=this.keycharm).call(y,"left",()=>{this.unbindFromRedraw("_moveLeft")},"keyup"),ee(b=this.keycharm).call(b,"right",()=>{this.unbindFromRedraw("_moveRight")},"keyup"),ee(g=this.keycharm).call(g,"=",()=>{this.unbindFromRedraw("_zoomIn")},"keyup"),ee(v=this.keycharm).call(v,"num+",()=>{this.unbindFromRedraw("_zoomIn")},"keyup"),ee(x=this.keycharm).call(x,"num-",()=>{this.unbindFromRedraw("_zoomOut")},"keyup"),ee(w=this.keycharm).call(w,"-",()=>{this.unbindFromRedraw("_zoomOut")},"keyup"),ee(_=this.keycharm).call(_,"[",()=>{this.unbindFromRedraw("_zoomOut")},"keyup"),ee(E=this.keycharm).call(E,"]",()=>{this.unbindFromRedraw("_zoomIn")},"keyup"),ee(O=this.keycharm).call(O,"pageup",()=>{this.unbindFromRedraw("_zoomIn")},"keyup"),ee(S=this.keycharm).call(S,"pagedown",()=>{this.unbindFromRedraw("_zoomOut")},"keyup")}}}class Aye{constructor(e,r,n){var i,s,a,o,l,u,d,h,f,p,m,y,b;this.body=e,this.canvas=r,this.selectionHandler=n,this.navigationHandler=new Mye(e,r),this.body.eventListeners.onTap=ee(i=this.onTap).call(i,this),this.body.eventListeners.onTouch=ee(s=this.onTouch).call(s,this),this.body.eventListeners.onDoubleTap=ee(a=this.onDoubleTap).call(a,this),this.body.eventListeners.onHold=ee(o=this.onHold).call(o,this),this.body.eventListeners.onDragStart=ee(l=this.onDragStart).call(l,this),this.body.eventListeners.onDrag=ee(u=this.onDrag).call(u,this),this.body.eventListeners.onDragEnd=ee(d=this.onDragEnd).call(d,this),this.body.eventListeners.onMouseWheel=ee(h=this.onMouseWheel).call(h,this),this.body.eventListeners.onPinch=ee(f=this.onPinch).call(f,this),this.body.eventListeners.onMouseMove=ee(p=this.onMouseMove).call(p,this),this.body.eventListeners.onRelease=ee(m=this.onRelease).call(m,this),this.body.eventListeners.onContext=ee(y=this.onContext).call(y,this),this.touchTime=0,this.drag={},this.pinch={},this.popup=void 0,this.popupObj=void 0,this.popupTimer=void 0,this.body.functions.getPointer=ee(b=this.getPointer).call(b,this),this.options={},this.defaultOptions={dragNodes:!0,dragView:!0,hover:!1,keyboard:{enabled:!1,speed:{x:10,y:10,zoom:.02},bindToWindow:!0,autoFocus:!0},navigationButtons:!1,tooltipDelay:300,zoomView:!0,zoomSpeed:1},kt(this.options,this.defaultOptions),this.bindEventListeners()}bindEventListeners(){this.body.emitter.on("destroy",()=>{clearTimeout(this.popupTimer),delete this.body.functions.getPointer})}setOptions(e){e!==void 0&&(cp(["hideEdgesOnDrag","hideEdgesOnZoom","hideNodesOnDrag","keyboard","multiselect","selectable","selectConnectedEdges"],this.options,e),Pn(this.options,e,"keyboard"),e.tooltip&&(kt(this.options.tooltip,e.tooltip),e.tooltip.color&&(this.options.tooltip.color=fN(e.tooltip.color)))),this.navigationHandler.setOptions(this.options)}getPointer(e){return{x:e.x-Lpe(this.canvas.frame.canvas),y:e.y-Bpe(this.canvas.frame.canvas)}}onTouch(e){new Date().valueOf()-this.touchTime>50&&(this.drag.pointer=this.getPointer(e.center),this.drag.pinched=!1,this.pinch.scale=this.body.view.scale,this.touchTime=new Date().valueOf())}onTap(e){const r=this.getPointer(e.center),n=this.selectionHandler.options.multiselect&&(e.changedPointers[0].ctrlKey||e.changedPointers[0].metaKey);this.checkSelectionChanges(r,n),this.selectionHandler.commitAndEmit(r,e),this.selectionHandler.generateClickEvent("click",e,r)}onDoubleTap(e){const r=this.getPointer(e.center);this.selectionHandler.generateClickEvent("doubleClick",e,r)}onHold(e){const r=this.getPointer(e.center),n=this.selectionHandler.options.multiselect;this.checkSelectionChanges(r,n),this.selectionHandler.commitAndEmit(r,e),this.selectionHandler.generateClickEvent("click",e,r),this.selectionHandler.generateClickEvent("hold",e,r)}onRelease(e){if(new Date().valueOf()-this.touchTime>10){const r=this.getPointer(e.center);this.selectionHandler.generateClickEvent("release",e,r),this.touchTime=new Date().valueOf()}}onContext(e){const r=this.getPointer({x:e.clientX,y:e.clientY});this.selectionHandler.generateClickEvent("oncontext",e,r)}checkSelectionChanges(e){(arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1)===!0?this.selectionHandler.selectAdditionalOnPoint(e):this.selectionHandler.selectOnPoint(e)}_determineDifference(e,r){const n=function(i,s){const a=[];for(let o=0;o<i.length;o++){const l=i[o];Ue(s).call(s,l)===-1&&a.push(l)}return a};return{nodes:n(e.nodes,r.nodes),edges:n(e.edges,r.edges)}}onDragStart(e){if(this.drag.dragging)return;this.drag.pointer===void 0&&this.onTouch(e);const r=this.selectionHandler.getNodeAt(this.drag.pointer);if(this.drag.dragging=!0,this.drag.selection=[],this.drag.translation=kt({},this.body.view.translation),this.drag.nodeId=void 0,e.srcEvent.shiftKey){this.body.selectionBox.show=!0;const n=this.getPointer(e.center);this.body.selectionBox.position.start={x:this.canvas._XconvertDOMtoCanvas(n.x),y:this.canvas._YconvertDOMtoCanvas(n.y)},this.body.selectionBox.position.end={x:this.canvas._XconvertDOMtoCanvas(n.x),y:this.canvas._YconvertDOMtoCanvas(n.y)}}else if(r!==void 0&&this.options.dragNodes===!0){this.drag.nodeId=r.id,r.isSelected()===!1&&this.selectionHandler.setSelection({nodes:[r.id]}),this.selectionHandler.generateClickEvent("dragStart",e,this.drag.pointer);for(const n of this.selectionHandler.getSelectedNodes()){const i={id:n.id,node:n,x:n.x,y:n.y,xFixed:n.options.fixed.x,yFixed:n.options.fixed.y};n.options.fixed.x=!0,n.options.fixed.y=!0,this.drag.selection.push(i)}}else this.selectionHandler.generateClickEvent("dragStart",e,this.drag.pointer,void 0,!0)}onDrag(e){if(this.drag.pinched===!0)return;this.body.emitter.emit("unlockNode");const r=this.getPointer(e.center),n=this.drag.selection;if(n&&n.length&&this.options.dragNodes===!0){this.selectionHandler.generateClickEvent("dragging",e,r);const i=r.x-this.drag.pointer.x,s=r.y-this.drag.pointer.y;Xe(n).call(n,a=>{const o=a.node;a.xFixed===!1&&(o.x=this.canvas._XconvertDOMtoCanvas(this.canvas._XconvertCanvasToDOM(a.x)+i)),a.yFixed===!1&&(o.y=this.canvas._YconvertDOMtoCanvas(this.canvas._YconvertCanvasToDOM(a.y)+s))}),this.body.emitter.emit("startSimulation")}else{if(e.srcEvent.shiftKey){if(this.selectionHandler.generateClickEvent("dragging",e,r,void 0,!0),this.drag.pointer===void 0){this.onDragStart(e);return}this.body.selectionBox.position.end={x:this.canvas._XconvertDOMtoCanvas(r.x),y:this.canvas._YconvertDOMtoCanvas(r.y)},this.body.emitter.emit("_requestRedraw")}if(this.options.dragView===!0&&!e.srcEvent.shiftKey){if(this.selectionHandler.generateClickEvent("dragging",e,r,void 0,!0),this.drag.pointer===void 0){this.onDragStart(e);return}const i=r.x-this.drag.pointer.x,s=r.y-this.drag.pointer.y;this.body.view.translation={x:this.drag.translation.x+i,y:this.drag.translation.y+s},this.body.emitter.emit("_requestRedraw")}}}onDragEnd(e){if(this.drag.dragging=!1,this.body.selectionBox.show){var r;this.body.selectionBox.show=!1;const n=this.body.selectionBox.position,i={minX:Math.min(n.start.x,n.end.x),minY:Math.min(n.start.y,n.end.y),maxX:Math.max(n.start.x,n.end.x),maxY:Math.max(n.start.y,n.end.y)},s=Kr(r=this.body.nodeIndices).call(r,o=>{const l=this.body.nodes[o];return l.x>=i.minX&&l.x<=i.maxX&&l.y>=i.minY&&l.y<=i.maxY});Xe(s).call(s,o=>this.selectionHandler.selectObject(this.body.nodes[o]));const a=this.getPointer(e.center);this.selectionHandler.commitAndEmit(a,e),this.selectionHandler.generateClickEvent("dragEnd",e,this.getPointer(e.center),void 0,!0),this.body.emitter.emit("_requestRedraw")}else{const n=this.drag.selection;n&&n.length?(Xe(n).call(n,function(i){i.node.options.fixed.x=i.xFixed,i.node.options.fixed.y=i.yFixed}),this.selectionHandler.generateClickEvent("dragEnd",e,this.getPointer(e.center)),this.body.emitter.emit("startSimulation")):(this.selectionHandler.generateClickEvent("dragEnd",e,this.getPointer(e.center),void 0,!0),this.body.emitter.emit("_requestRedraw"))}}onPinch(e){const r=this.getPointer(e.center);this.drag.pinched=!0,this.pinch.scale===void 0&&(this.pinch.scale=1);const n=this.pinch.scale*e.scale;this.zoom(n,r)}zoom(e,r){if(this.options.zoomView===!0){const n=this.body.view.scale;e<1e-5&&(e=1e-5),e>10&&(e=10);let i;this.drag!==void 0&&this.drag.dragging===!0&&(i=this.canvas.DOMtoCanvas(this.drag.pointer));const s=this.body.view.translation,a=e/n,o=(1-a)*r.x+s.x*a,l=(1-a)*r.y+s.y*a;if(this.body.view.scale=e,this.body.view.translation={x:o,y:l},i!=null){const u=this.canvas.canvasToDOM(i);this.drag.pointer.x=u.x,this.drag.pointer.y=u.y}this.body.emitter.emit("_requestRedraw"),n<e?this.body.emitter.emit("zoom",{direction:"+",scale:this.body.view.scale,pointer:r}):this.body.emitter.emit("zoom",{direction:"-",scale:this.body.view.scale,pointer:r})}}onMouseWheel(e){if(this.options.zoomView===!0){if(e.deltaY!==0){let r=this.body.view.scale;r*=1+(e.deltaY<0?1:-1)*(this.options.zoomSpeed*.1);const n=this.getPointer({x:e.clientX,y:e.clientY});this.zoom(r,n)}e.preventDefault()}}onMouseMove(e){const r=this.getPointer({x:e.clientX,y:e.clientY});let n=!1;this.popup!==void 0&&(this.popup.hidden===!1&&this._checkHidePopup(r),this.popup.hidden===!1&&(n=!0,this.popup.setPosition(r.x+3,r.y-5),this.popup.show())),this.options.keyboard.autoFocus&&this.options.keyboard.bindToWindow===!1&&this.options.keyboard.enabled===!0&&this.canvas.frame.focus(),n===!1&&(this.popupTimer!==void 0&&(clearInterval(this.popupTimer),this.popupTimer=void 0),this.drag.dragging||(this.popupTimer=Gi(()=>this._checkShowPopup(r),this.options.tooltipDelay))),this.options.hover===!0&&this.selectionHandler.hoverObject(e,r)}_checkShowPopup(e){const r=this.canvas._XconvertDOMtoCanvas(e.x),n=this.canvas._YconvertDOMtoCanvas(e.y),i={left:r,top:n,right:r,bottom:n},s=this.popupObj===void 0?void 0:this.popupObj.id;let a=!1,o="node";if(this.popupObj===void 0){const l=this.body.nodeIndices,u=this.body.nodes;let d;const h=[];for(let f=0;f<l.length;f++)d=u[l[f]],d.isOverlappingWith(i)===!0&&(a=!0,d.getTitle()!==void 0&&h.push(l[f]));h.length>0&&(this.popupObj=u[h[h.length-1]],a=!0)}if(this.popupObj===void 0&&a===!1){const l=this.body.edgeIndices,u=this.body.edges;let d;const h=[];for(let f=0;f<l.length;f++)d=u[l[f]],d.isOverlappingWith(i)===!0&&d.connected===!0&&d.getTitle()!==void 0&&h.push(l[f]);h.length>0&&(this.popupObj=u[h[h.length-1]],o="edge")}this.popupObj!==void 0?this.popupObj.id!==s&&(this.popup===void 0&&(this.popup=new Jpe(this.canvas.frame)),this.popup.popupTargetType=o,this.popup.popupTargetId=this.popupObj.id,this.popup.setPosition(e.x+3,e.y-5),this.popup.setText(this.popupObj.getTitle()),this.popup.show(),this.body.emitter.emit("showPopup",this.popupObj.id)):this.popup!==void 0&&(this.popup.hide(),this.body.emitter.emit("hidePopup"))}_checkHidePopup(e){const r=this.selectionHandler._pointerToPositionObject(e);let n=!1;if(this.popup.popupTargetType==="node"){if(this.body.nodes[this.popup.popupTargetId]!==void 0&&(n=this.body.nodes[this.popup.popupTargetId].isOverlappingWith(r),n===!0)){const i=this.selectionHandler.getNodeAt(e);n=i===void 0?!1:i.id===this.popup.popupTargetId}}else this.selectionHandler.getNodeAt(e)===void 0&&this.body.edges[this.popup.popupTargetId]!==void 0&&(n=this.body.edges[this.popup.popupTargetId].isOverlappingWith(r));n===!1&&(this.popupObj=void 0,this.popup.hide(),this.body.emitter.emit("hidePopup"))}}var _W={},SW={},EW;function Fye(){if(EW)return SW;EW=1;var t=qT(),e=fY();return t("Set",function(r){return function(){return r(this,arguments.length?arguments[0]:void 0)}},e),SW}var OW;function Lye(){return OW||(OW=1,Fye()),_W}var PW={},AE,NW;function zo(){if(NW)return AE;NW=1;var t=Du(),e=TypeError;return AE=function(r){if(typeof r=="object"&&"size"in r&&"has"in r&&"add"in r&&"delete"in r&&"keys"in r)return r;throw new e(t(r)+" is not a set")},AE}var FE,CW;function Uo(){if(CW)return FE;CW=1;var t=wn(),e=pY(),r=t("Set"),n=r.prototype;return FE={Set:r,add:e("add",1),has:e("has",1),remove:e("delete",1),proto:n},FE}var LE,TW;function Wo(){if(TW)return LE;TW=1;var t=an();return LE=function(e,r,n){for(var i=n?e:e.iterator,s=e.next,a,o;!(a=t(s,i)).done;)if(o=r(a.value),o!==void 0)return o},LE}var BE,IW;function bh(){if(IW)return BE;IW=1;var t=Wo();return BE=function(e,r,n){return n?t(e.keys(),r,!0):e.forEach(r)},BE}var zE,RW;function UT(){if(RW)return zE;RW=1;var t=Uo(),e=bh(),r=t.Set,n=t.add;return zE=function(i){var s=new r;return e(i,function(a){n(s,a)}),s},zE}var UE,jW;function wh(){return jW||(jW=1,UE=function(t){return t.size}),UE}var WE,$W;function Bye(){return $W||($W=1,WE=function(t){return{iterator:t,next:t.next,done:!1}}),WE}var VE,kW;function Vo(){if(kW)return VE;kW=1;var t=fs(),e=Ni(),r=an(),n=Fu(),i=Bye(),s="Invalid size",a=RangeError,o=TypeError,l=Math.max,u=function(d,h){this.set=d,this.size=l(h,0),this.has=t(d.has),this.keys=t(d.keys)};return u.prototype={getIterator:function(){return i(e(r(this.keys,this.set)))},includes:function(d){return r(this.has,this.set,d)}},VE=function(d){e(d);var h=+d.size;if(h!==h)throw new o(s);var f=n(h);if(f<0)throw new a(s);return new u(d,f)},VE}var HE,DW;function zye(){if(DW)return HE;DW=1;var t=zo(),e=Uo(),r=UT(),n=wh(),i=Vo(),s=bh(),a=Wo(),o=e.has,l=e.remove;return HE=function(d){var h=t(this),f=i(d),p=r(h);return n(h)<=f.size?s(h,function(m){f.includes(m)&&l(p,m)}):a(f.getIterator(),function(m){o(p,m)&&l(p,m)}),p},HE}var KE,qW;function Ho(){return qW||(qW=1,KE=function(){return!1}),KE}var MW;function Uye(){if(MW)return PW;MW=1;var t=be(),e=zye(),r=De(),n=Ho(),i=!n("difference",function(a){return a.size===0}),s=i||r(function(){var a={size:1,has:function(){return!0},keys:function(){var l=0;return{next:function(){var u=l++>1;return o.has(1)&&o.clear(),{done:u,value:2}}}}},o=new Set([1,2,3,4]);return o.difference(a).size!==3});return t({target:"Set",proto:!0,real:!0,forced:s},{difference:e}),PW}var AW={},GE,FW;function Wye(){if(FW)return GE;FW=1;var t=zo(),e=Uo(),r=wh(),n=Vo(),i=bh(),s=Wo(),a=e.Set,o=e.add,l=e.has;return GE=function(d){var h=t(this),f=n(d),p=new a;return r(h)>f.size?s(f.getIterator(),function(m){l(h,m)&&o(p,m)}):i(h,function(m){f.includes(m)&&o(p,m)}),p},GE}var LW;function Vye(){if(LW)return AW;LW=1;var t=be(),e=De(),r=Wye(),n=Ho(),i=!n("intersection",function(s){return s.size===2&&s.has(1)&&s.has(2)})||e(function(){return String(Array.from(new Set([1,2,3]).intersection(new Set([3,2]))))!=="3,2"});return t({target:"Set",proto:!0,real:!0,forced:i},{intersection:r}),AW}var BW={},YE,zW;function Hye(){if(zW)return YE;zW=1;var t=zo(),e=Uo().has,r=wh(),n=Vo(),i=bh(),s=Wo(),a=kT();return YE=function(l){var u=t(this),d=n(l);if(r(u)<=d.size)return i(u,function(f){if(d.includes(f))return!1},!0)!==!1;var h=d.getIterator();return s(h,function(f){if(e(u,f))return a(h,"normal",!1)})!==!1},YE}var UW;function Kye(){if(UW)return BW;UW=1;var t=be(),e=Hye(),r=Ho(),n=!r("isDisjointFrom",function(i){return!i});return t({target:"Set",proto:!0,real:!0,forced:n},{isDisjointFrom:e}),BW}var WW={},QE,VW;function Gye(){if(VW)return QE;VW=1;var t=zo(),e=wh(),r=bh(),n=Vo();return QE=function(s){var a=t(this),o=n(s);return e(a)>o.size?!1:r(a,function(l){if(!o.includes(l))return!1},!0)!==!1},QE}var HW;function Yye(){if(HW)return WW;HW=1;var t=be(),e=Gye(),r=Ho(),n=!r("isSubsetOf",function(i){return i});return t({target:"Set",proto:!0,real:!0,forced:n},{isSubsetOf:e}),WW}var KW={},XE,GW;function Qye(){if(GW)return XE;GW=1;var t=zo(),e=Uo().has,r=wh(),n=Vo(),i=Wo(),s=kT();return XE=function(o){var l=t(this),u=n(o);if(r(l)<u.size)return!1;var d=u.getIterator();return i(d,function(h){if(!e(l,h))return s(d,"normal",!1)})!==!1},XE}var YW;function Xye(){if(YW)return KW;YW=1;var t=be(),e=Qye(),r=Ho(),n=!r("isSupersetOf",function(i){return!i});return t({target:"Set",proto:!0,real:!0,forced:n},{isSupersetOf:e}),KW}var QW={},JE,XW;function Jye(){if(XW)return JE;XW=1;var t=zo(),e=Uo(),r=UT(),n=Vo(),i=Wo(),s=e.add,a=e.has,o=e.remove;return JE=function(u){var d=t(this),h=n(u).getIterator(),f=r(d);return i(h,function(p){a(d,p)?o(f,p):s(f,p)}),f},JE}var ZE,JW;function OY(){return JW||(JW=1,ZE=function(t){try{var e=new Set,r={size:0,has:function(){return!0},keys:function(){return Object.defineProperty({},"next",{get:function(){return e.clear(),e.add(4),function(){return{done:!0}}}})}},n=e[t](r);return n.size===1&&n.values().next().value===4}catch{return!1}}),ZE}var ZW;function Zye(){if(ZW)return QW;ZW=1;var t=be(),e=Jye(),r=OY(),n=Ho(),i=!n("symmetricDifference")||!r("symmetricDifference");return t({target:"Set",proto:!0,real:!0,forced:i},{symmetricDifference:e}),QW}var e8={},eO,t8;function ebe(){if(t8)return eO;t8=1;var t=zo(),e=Uo().add,r=UT(),n=Vo(),i=Wo();return eO=function(a){var o=t(this),l=n(a).getIterator(),u=r(o);return i(l,function(d){e(u,d)}),u},eO}var r8;function tbe(){if(r8)return e8;r8=1;var t=be(),e=ebe(),r=OY(),n=Ho(),i=!n("union")||!r("union");return t({target:"Set",proto:!0,real:!0,forced:i},{union:e}),e8}var tO,n8;function rbe(){if(n8)return tO;n8=1,Uu(),Lye(),Uye(),Vye(),Kye(),Yye(),Xye(),Zye(),tbe(),AT();var t=He();return tO=t.Set,tO}var rO,i8;function nbe(){if(i8)return rO;i8=1;var t=rbe();return Wu(),rO=t,rO}var nO,s8;function ibe(){return s8||(s8=1,nO=nbe()),nO}var sbe=ibe(),Ps=Ee(sbe),a8={},o8={},iO,l8;function abe(){if(l8)return iO;l8=1;var t=Fe(),e=MT(),r=bm().getWeakData,n=DT(),i=Ni(),s=ju(),a=sr(),o=wm(),l=ya(),u=mr(),d=Fo(),h=d.set,f=d.getterFor,p=l.find,m=l.findIndex,y=t([].splice),b=0,g=function(w){return w.frozen||(w.frozen=new v)},v=function(){this.entries=[]},x=function(w,_){return p(w.entries,function(E){return E[0]===_})};return v.prototype={get:function(w){var _=x(this,w);if(_)return _[1]},has:function(w){return!!x(this,w)},set:function(w,_){var E=x(this,w);E?E[1]=_:this.entries.push([w,_])},delete:function(w){var _=m(this.entries,function(E){return E[0]===w});return~_&&y(this.entries,_,1),!!~_}},iO={getConstructor:function(w,_,E,O){var S=w(function(C,T){n(C,P),h(C,{type:_,id:b++,frozen:null}),s(T)||o(T,C[O],{that:C,AS_ENTRIES:E})}),P=S.prototype,N=f(_),I=function(C,T,q){var U=N(C),re=r(i(T),!0);return re===!0?g(U).set(T,q):re[U.id]=q,C};return e(P,{delete:function(C){var T=N(this);if(!a(C))return!1;var q=r(C);return q===!0?g(T).delete(C):q&&u(q,T.id)&&delete q[T.id]},has:function(T){var q=N(this);if(!a(T))return!1;var U=r(T);return U===!0?g(q).has(T):U&&u(U,q.id)}}),e(P,E?{get:function(T){var q=N(this);if(a(T)){var U=r(T);if(U===!0)return g(q).get(T);if(U)return U[q.id]}},set:function(T,q){return I(this,T,q)}}:{add:function(T){return I(this,T,!0)}}),S}},iO}var u8;function obe(){if(u8)return o8;u8=1;var t=dY(),e=ct(),r=Fe(),n=MT(),i=bm(),s=qT(),a=abe(),o=sr(),l=Fo().enforce,u=De(),d=fG(),h=Object,f=Array.isArray,p=h.isExtensible,m=h.isFrozen,y=h.isSealed,b=h.freeze,g=h.seal,v=!e.ActiveXObject&&"ActiveXObject"in e,x,w=function(C){return function(){return C(this,arguments.length?arguments[0]:void 0)}},_=s("WeakMap",w,a),E=_.prototype,O=r(E.set),S=function(){return t&&u(function(){var C=b([]);return O(new _,C,1),!m(C)})};if(d)if(v){x=a.getConstructor(w,"WeakMap",!0),i.enable();var P=r(E.delete),N=r(E.has),I=r(E.get);n(E,{delete:function(C){if(o(C)&&!p(C)){var T=l(this);return T.frozen||(T.frozen=new x),P(this,C)||T.frozen.delete(C)}return P(this,C)},has:function(T){if(o(T)&&!p(T)){var q=l(this);return q.frozen||(q.frozen=new x),N(this,T)||q.frozen.has(T)}return N(this,T)},get:function(T){if(o(T)&&!p(T)){var q=l(this);return q.frozen||(q.frozen=new x),N(this,T)?I(this,T):q.frozen.get(T)}return I(this,T)},set:function(T,q){if(o(T)&&!p(T)){var U=l(this);U.frozen||(U.frozen=new x),N(this,T)?O(this,T,q):U.frozen.set(T,q)}else O(this,T,q);return this}})}else S()&&n(E,{set:function(T,q){var U;return f(T)&&(m(T)?U=b:y(T)&&(U=g)),O(this,T,q),U&&U(T),this}});return o8}var c8;function lbe(){return c8||(c8=1,obe()),a8}var sO,d8;function ube(){if(d8)return sO;d8=1,Uu(),lbe();var t=He();return sO=t.WeakMap,sO}var aO,h8;function cbe(){if(h8)return aO;h8=1;var t=ube();return Wu(),aO=t,aO}var oO,f8;function dbe(){return f8||(f8=1,oO=cbe()),oO}var hbe=dbe(),xh=Ee(hbe);function Fc(t,e,r){fbe(t,e),e.set(t,r)}function fbe(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function bN(t,e,r){return t.set(PY(t,e),r),r}function et(t,e){return t.get(PY(t,e))}function PY(t,e,r){if(typeof t=="function"?t===e:t.has(e))return arguments.length<3?e:r;throw new TypeError("Private element is not present on this object")}function p8(t,e){const r=new Ps;for(const n of e)t.has(n)||r.add(n);return r}var el=new xh,Un=new xh;class m8{constructor(){Fc(this,el,new Ps),Fc(this,Un,new Ps)}get size(){return et(Un,this).size}add(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];for(const i of r)et(Un,this).add(i)}delete(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];for(const i of r)et(Un,this).delete(i)}clear(){et(Un,this).clear()}getSelection(){return[...et(Un,this)]}getChanges(){return{added:[...p8(et(el,this),et(Un,this))],deleted:[...p8(et(Un,this),et(el,this))],previous:[...new Ps(et(el,this))],current:[...new Ps(et(Un,this))]}}commit(){const e=this.getChanges();bN(el,this,et(Un,this)),bN(Un,this,new Ps(et(el,this)));for(const r of e.added)r.select();for(const r of e.deleted)r.unselect();return e}}var _a=new xh,Sa=new xh,lO=new xh;class pbe{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:()=>{};Fc(this,_a,new m8),Fc(this,Sa,new m8),Fc(this,lO,void 0),bN(lO,this,e)}get sizeNodes(){return et(_a,this).size}get sizeEdges(){return et(Sa,this).size}getNodes(){return et(_a,this).getSelection()}getEdges(){return et(Sa,this).getSelection()}addNodes(){et(_a,this).add(...arguments)}addEdges(){et(Sa,this).add(...arguments)}deleteNodes(e){et(_a,this).delete(e)}deleteEdges(e){et(Sa,this).delete(e)}clear(){et(_a,this).clear(),et(Sa,this).clear()}commit(){const e={nodes:et(_a,this).commit(),edges:et(Sa,this).commit()};for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return et(lO,this).call(this,e,...n),e}}class mbe{constructor(e,r){this.body=e,this.canvas=r,this._selectionAccumulator=new pbe,this.hoverObj={nodes:{},edges:{}},this.options={},this.defaultOptions={multiselect:!1,selectable:!0,selectConnectedEdges:!0,hoverConnectedEdges:!0},kt(this.options,this.defaultOptions),this.body.emitter.on("_dataChanged",()=>{this.updateSelection()})}setOptions(e){e!==void 0&&Ku(["multiselect","hoverConnectedEdges","selectable","selectConnectedEdges"],this.options,e)}selectOnPoint(e){let r=!1;if(this.options.selectable===!0){const n=this.getNodeAt(e)||this.getEdgeAt(e);this.unselectAll(),n!==void 0&&(r=this.selectObject(n)),this.body.emitter.emit("_requestRedraw")}return r}selectAdditionalOnPoint(e){let r=!1;if(this.options.selectable===!0){const n=this.getNodeAt(e)||this.getEdgeAt(e);n!==void 0&&(r=!0,n.isSelected()===!0?this.deselectObject(n):this.selectObject(n),this.body.emitter.emit("_requestRedraw"))}return r}_initBaseEvent(e,r){const n={};return n.pointer={DOM:{x:r.x,y:r.y},canvas:this.canvas.DOMtoCanvas(r)},n.event=e,n}generateClickEvent(e,r,n,i){let s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1;const a=this._initBaseEvent(r,n);if(s===!0)a.nodes=[],a.edges=[];else{const o=this.getSelection();a.nodes=o.nodes,a.edges=o.edges}i!==void 0&&(a.previousSelection=i),e=="click"&&(a.items=this.getClickedItems(n)),r.controlEdge!==void 0&&(a.controlEdge=r.controlEdge),this.body.emitter.emit(e,a)}selectObject(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.options.selectConnectedEdges;return e!==void 0?(e instanceof lt?(r===!0&&this._selectionAccumulator.addEdges(...e.edges),this._selectionAccumulator.addNodes(e)):this._selectionAccumulator.addEdges(e),!0):!1}deselectObject(e){e.isSelected()===!0&&(e.selected=!1,this._removeFromSelection(e))}_getAllNodesOverlappingWith(e){const r=[],n=this.body.nodes;for(let i=0;i<this.body.nodeIndices.length;i++){const s=this.body.nodeIndices[i];n[s].isOverlappingWith(e)&&r.push(s)}return r}_pointerToPositionObject(e){const r=this.canvas.DOMtoCanvas(e);return{left:r.x-1,top:r.y+1,right:r.x+1,bottom:r.y-1}}getNodeAt(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;const n=this._pointerToPositionObject(e),i=this._getAllNodesOverlappingWith(n);if(i.length>0)return r===!0?this.body.nodes[i[i.length-1]]:i[i.length-1]}_getEdgesOverlappingWith(e,r){const n=this.body.edges;for(let i=0;i<this.body.edgeIndices.length;i++){const s=this.body.edgeIndices[i];n[s].isOverlappingWith(e)&&r.push(s)}}_getAllEdgesOverlappingWith(e){const r=[];return this._getEdgesOverlappingWith(e,r),r}getEdgeAt(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;const n=this.canvas.DOMtoCanvas(e);let i=10,s=null;const a=this.body.edges;for(let o=0;o<this.body.edgeIndices.length;o++){const l=this.body.edgeIndices[o],u=a[l];if(u.connected){const d=u.from.x,h=u.from.y,f=u.to.x,p=u.to.y,m=u.edgeType.getDistanceToEdge(d,h,f,p,n.x,n.y);m<i&&(s=l,i=m)}}if(s!==null)return r===!0?this.body.edges[s]:s}_addToHover(e){e instanceof lt?this.hoverObj.nodes[e.id]=e:this.hoverObj.edges[e.id]=e}_removeFromSelection(e){e instanceof lt?(this._selectionAccumulator.deleteNodes(e),this._selectionAccumulator.deleteEdges(...e.edges)):this._selectionAccumulator.deleteEdges(e)}unselectAll(){this._selectionAccumulator.clear()}getSelectedNodeCount(){return this._selectionAccumulator.sizeNodes}getSelectedEdgeCount(){return this._selectionAccumulator.sizeEdges}_hoverConnectedEdges(e){for(let r=0;r<e.edges.length;r++){const n=e.edges[r];n.hover=!0,this._addToHover(n)}}emitBlurEvent(e,r,n){const i=this._initBaseEvent(e,r);n.hover===!0&&(n.hover=!1,n instanceof lt?(i.node=n.id,this.body.emitter.emit("blurNode",i)):(i.edge=n.id,this.body.emitter.emit("blurEdge",i)))}emitHoverEvent(e,r,n){const i=this._initBaseEvent(e,r);let s=!1;return n.hover===!1&&(n.hover=!0,this._addToHover(n),s=!0,n instanceof lt?(i.node=n.id,this.body.emitter.emit("hoverNode",i)):(i.edge=n.id,this.body.emitter.emit("hoverEdge",i))),s}hoverObject(e,r){let n=this.getNodeAt(r);n===void 0&&(n=this.getEdgeAt(r));let i=!1;for(const s in this.hoverObj.nodes)Object.prototype.hasOwnProperty.call(this.hoverObj.nodes,s)&&(n===void 0||n instanceof lt&&n.id!=s||n instanceof ra)&&(this.emitBlurEvent(e,r,this.hoverObj.nodes[s]),delete this.hoverObj.nodes[s],i=!0);for(const s in this.hoverObj.edges)Object.prototype.hasOwnProperty.call(this.hoverObj.edges,s)&&(i===!0?(this.hoverObj.edges[s].hover=!1,delete this.hoverObj.edges[s]):(n===void 0||n instanceof ra&&n.id!=s||n instanceof lt&&!n.hover)&&(this.emitBlurEvent(e,r,this.hoverObj.edges[s]),delete this.hoverObj.edges[s],i=!0));if(n!==void 0){const s=xt(this.hoverObj.edges).length,a=xt(this.hoverObj.nodes).length,o=n instanceof ra&&s===0&&a===0,l=n instanceof lt&&s===0&&a===0;(i||o||l)&&(i=this.emitHoverEvent(e,r,n)),n instanceof lt&&this.options.hoverConnectedEdges===!0&&this._hoverConnectedEdges(n)}i===!0&&this.body.emitter.emit("_requestRedraw")}commitWithoutEmitting(){this._selectionAccumulator.commit()}commitAndEmit(e,r){let n=!1;const i=this._selectionAccumulator.commit(),s={nodes:i.nodes.previous,edges:i.edges.previous};i.edges.deleted.length>0&&(this.generateClickEvent("deselectEdge",r,e,s),n=!0),i.nodes.deleted.length>0&&(this.generateClickEvent("deselectNode",r,e,s),n=!0),i.nodes.added.length>0&&(this.generateClickEvent("selectNode",r,e),n=!0),i.edges.added.length>0&&(this.generateClickEvent("selectEdge",r,e),n=!0),n===!0&&this.generateClickEvent("select",r,e)}getSelection(){return{nodes:this.getSelectedNodeIds(),edges:this.getSelectedEdgeIds()}}getSelectedNodes(){return this._selectionAccumulator.getNodes()}getSelectedEdges(){return this._selectionAccumulator.getEdges()}getSelectedNodeIds(){var e;return ou(e=this._selectionAccumulator.getNodes()).call(e,r=>r.id)}getSelectedEdgeIds(){var e;return ou(e=this._selectionAccumulator.getEdges()).call(e,r=>r.id)}setSelection(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!e||!e.nodes&&!e.edges)throw new TypeError("Selection must be an object with nodes and/or edges properties");if((r.unselectAll||r.unselectAll===void 0)&&this.unselectAll(),e.nodes)for(const n of e.nodes){const i=this.body.nodes[n];if(!i)throw new RangeError('Node with id "'+n+'" not found');this.selectObject(i,r.highlightEdges)}if(e.edges)for(const n of e.edges){const i=this.body.edges[n];if(!i)throw new RangeError('Edge with id "'+n+'" not found');this.selectObject(i)}this.body.emitter.emit("_requestRedraw"),this._selectionAccumulator.commit()}selectNodes(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(!e||e.length===void 0)throw"Selection must be an array with ids";this.setSelection({nodes:e},{highlightEdges:r})}selectEdges(e){if(!e||e.length===void 0)throw"Selection must be an array with ids";this.setSelection({edges:e})}updateSelection(){for(const e in this._selectionAccumulator.getNodes())Object.prototype.hasOwnProperty.call(this.body.nodes,e.id)||this._selectionAccumulator.deleteNodes(e);for(const e in this._selectionAccumulator.getEdges())Object.prototype.hasOwnProperty.call(this.body.edges,e.id)||this._selectionAccumulator.deleteEdges(e)}getClickedItems(e){const r=this.canvas.DOMtoCanvas(e),n=[],i=this.body.nodeIndices,s=this.body.nodes;for(let l=i.length-1;l>=0;l--){const d=s[i[l]].getItemsOnPoint(r);n.push.apply(n,d)}const a=this.body.edgeIndices,o=this.body.edges;for(let l=a.length-1;l>=0;l--){const d=o[a[l]].getItemsOnPoint(r);n.push.apply(n,d)}return n}}var v8={},uO,g8;function vbe(){if(g8)return uO;g8=1;var t=Lu(),e=Math.floor,r=function(n,i){var s=n.length;if(s<8)for(var a=1,o,l;a<s;){for(l=a,o=n[a];l&&i(n[l-1],o)>0;)n[l]=n[--l];l!==a++&&(n[l]=o)}else for(var u=e(s/2),d=r(t(n,0,u),i),h=r(t(n,u),i),f=d.length,p=h.length,m=0,y=0;m<f||y<p;)n[m+y]=m<f&&y<p?i(d[m],h[y])<=0?d[m++]:h[y++]:m<f?d[m++]:h[y++];return n};return uO=r,uO}var cO,y8;function gbe(){if(y8)return cO;y8=1;var t=$u(),e=t.match(/firefox\/(\d+)/i);return cO=!!e&&+e[1],cO}var dO,b8;function ybe(){if(b8)return dO;b8=1;var t=$u();return dO=/MSIE|Trident/.test(t),dO}var hO,w8;function bbe(){if(w8)return hO;w8=1;var t=$u(),e=t.match(/AppleWebKit\/(\d+)\./);return hO=!!e&&+e[1],hO}var x8;function wbe(){if(x8)return v8;x8=1;var t=be(),e=Fe(),r=fs(),n=xn(),i=ps(),s=EG(),a=Ln(),o=De(),l=vbe(),u=Vu(),d=gbe(),h=ybe(),f=sh(),p=bbe(),m=[],y=e(m.sort),b=e(m.push),g=o(function(){m.sort(void 0)}),v=o(function(){m.sort(null)}),x=u("sort"),w=!o(function(){if(f)return f<70;if(!(d&&d>3)){if(h)return!0;if(p)return p<603;var O="",S,P,N,I;for(S=65;S<76;S++){switch(P=String.fromCharCode(S),S){case 66:case 69:case 70:case 72:N=3;break;case 68:case 71:N=4;break;default:N=2}for(I=0;I<47;I++)m.push({k:P+I,v:N})}for(m.sort(function(C,T){return T.v-C.v}),I=0;I<m.length;I++)P=m[I].k.charAt(0),O.charAt(O.length-1)!==P&&(O+=P);return O!=="DGBEFHACIJK"}}),_=g||!v||!x||!w,E=function(O){return function(S,P){return P===void 0?-1:S===void 0?1:O!==void 0?+O(S,P)||0:a(S)>a(P)?1:-1}};return t({target:"Array",proto:!0,forced:_},{sort:function(S){S!==void 0&&r(S);var P=n(this);if(w)return S===void 0?y(P):y(P,S);var N=[],I=i(P),C,T;for(T=0;T<I;T++)T in P&&b(N,P[T]);for(l(N,E(S)),C=i(N),T=0;T<C;)P[T]=N[T++];for(;T<I;)s(P,T++);return P}}),v8}var fO,_8;function xbe(){if(_8)return fO;_8=1,wbe();var t=vr();return fO=t("Array","sort"),fO}var pO,S8;function _be(){if(S8)return pO;S8=1;var t=At(),e=xbe(),r=Array.prototype;return pO=function(n){var i=n.sort;return n===r||t(r,n)&&i===r.sort?e:i},pO}var mO,E8;function Sbe(){if(E8)return mO;E8=1;var t=_be();return mO=t,mO}var vO,O8;function Ebe(){return O8||(O8=1,vO=Sbe()),vO}var Obe=Ebe(),Tl=Ee(Obe),P8={},gO,N8;function Pbe(){if(N8)return gO;N8=1;var t=fs(),e=xn(),r=sm(),n=ps(),i=TypeError,s="Reduce of empty array with no initial value",a=function(o){return function(l,u,d,h){var f=e(l),p=r(f),m=n(f);if(t(u),m===0&&d<2)throw new i(s);var y=o?m-1:0,b=o?-1:1;if(d<2)for(;;){if(y in p){h=p[y],y+=b;break}if(y+=b,o?y<0:m<=y)throw new i(s)}for(;o?y>=0:m>y;y+=b)y in p&&(h=u(h,p[y],y,f));return h}};return gO={left:a(!1),right:a(!0)},gO}var yO,C8;function Nbe(){if(C8)return yO;C8=1;var t=PG();return yO=t==="NODE",yO}var T8;function Cbe(){if(T8)return P8;T8=1;var t=be(),e=Pbe().left,r=Vu(),n=sh(),i=Nbe(),s=!i&&n>79&&n<83,a=s||!r("reduce");return t({target:"Array",proto:!0,forced:a},{reduce:function(l){var u=arguments.length;return e(this,l,u,u>1?arguments[1]:void 0)}}),P8}var bO,I8;function Tbe(){if(I8)return bO;I8=1,Cbe();var t=vr();return bO=t("Array","reduce"),bO}var wO,R8;function Ibe(){if(R8)return wO;R8=1;var t=At(),e=Tbe(),r=Array.prototype;return wO=function(n){var i=n.reduce;return n===r||t(r,n)&&i===r.reduce?e:i},wO}var xO,j8;function Rbe(){if(j8)return xO;j8=1;var t=Ibe();return xO=t,xO}var _O,$8;function jbe(){return $8||($8=1,_O=Rbe()),_O}var $be=jbe(),NY=Ee($be);class CY{abstract(){throw new Error("Can't instantiate abstract class!")}fake_use(){}curveType(){return this.abstract()}getPosition(e){return this.fake_use(e),this.abstract()}setPosition(e,r){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0;this.fake_use(e,r,n),this.abstract()}getTreeSize(e){return this.fake_use(e),this.abstract()}sort(e){this.fake_use(e),this.abstract()}fix(e,r){this.fake_use(e,r),this.abstract()}shift(e,r){this.fake_use(e,r),this.abstract()}}class kbe extends CY{constructor(e){super(),this.layout=e}curveType(){return"horizontal"}getPosition(e){return e.x}setPosition(e,r){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0;n!==void 0&&this.layout.hierarchical.addToOrdering(e,n),e.x=r}getTreeSize(e){const r=this.layout.hierarchical.getTreeSize(this.layout.body.nodes,e);return{min:r.min_x,max:r.max_x}}sort(e){Tl(e).call(e,function(r,n){return r.x-n.x})}fix(e,r){e.y=this.layout.options.hierarchical.levelSeparation*r,e.options.fixed.y=!0}shift(e,r){this.layout.body.nodes[e].x+=r}}class Dbe extends CY{constructor(e){super(),this.layout=e}curveType(){return"vertical"}getPosition(e){return e.y}setPosition(e,r){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0;n!==void 0&&this.layout.hierarchical.addToOrdering(e,n),e.y=r}getTreeSize(e){const r=this.layout.hierarchical.getTreeSize(this.layout.body.nodes,e);return{min:r.min_y,max:r.max_y}}sort(e){Tl(e).call(e,function(r,n){return r.y-n.y})}fix(e,r){e.x=this.layout.options.hierarchical.levelSeparation*r,e.options.fixed.x=!0}shift(e,r){this.layout.body.nodes[e].y+=r}}var k8={},D8;function qbe(){if(D8)return k8;D8=1;var t=be(),e=ya().every,r=Vu(),n=r("every");return t({target:"Array",proto:!0,forced:!n},{every:function(s){return e(this,s,arguments.length>1?arguments[1]:void 0)}}),k8}var SO,q8;function Mbe(){if(q8)return SO;q8=1,qbe();var t=vr();return SO=t("Array","every"),SO}var EO,M8;function Abe(){if(M8)return EO;M8=1;var t=At(),e=Mbe(),r=Array.prototype;return EO=function(n){var i=n.every;return n===r||t(r,n)&&i===r.every?e:i},EO}var OO,A8;function Fbe(){if(A8)return OO;A8=1;var t=Abe();return OO=t,OO}var PO,F8;function Lbe(){return F8||(F8=1,PO=Fbe()),PO}var Bbe=Lbe(),TY=Ee(Bbe);function zbe(t,e){const r=new Ps;return Xe(t).call(t,n=>{var i;Xe(i=n.edges).call(i,s=>{s.connected&&r.add(s)})}),Xe(r).call(r,n=>{const i=n.from.id,s=n.to.id;e[i]==null&&(e[i]=0),(e[s]==null||e[i]>=e[s])&&(e[s]=e[i]+1)}),e}function Ube(t){return IY(e=>{var r,n;return TY(r=Kr(n=e.edges).call(n,i=>t.has(i.toId))).call(r,i=>i.to===e)},(e,r)=>r>e,"from",t)}function Wbe(t){return IY(e=>{var r,n;return TY(r=Kr(n=e.edges).call(n,i=>t.has(i.toId))).call(r,i=>i.from===e)},(e,r)=>r<e,"to",t)}function IY(t,e,r,n){var i;const s=eo(null),a=NY(i=[...wY(n).call(n)]).call(i,(h,f)=>h+1+f.edges.length,0),o=r+"Id",l=r==="to"?1:-1;for(const[h,f]of n){if(!n.has(h)||!t(f))continue;s[h]=0;const p=[f];let m=0,y;for(;y=p.pop();){var u,d;if(!n.has(h))continue;const b=s[y.id]+l;if(Xe(u=Kr(d=y.edges).call(d,g=>g.connected&&g.to!==g.from&&g[r]!==y&&n.has(g.toId)&&n.has(g.fromId))).call(u,g=>{const v=g[o],x=s[v];(x==null||e(b,x))&&(s[v]=b,p.push(g[r]))}),m>a)return zbe(n,s);++m}}return s}class Vbe{constructor(){this.childrenReference={},this.parentReference={},this.trees={},this.distributionOrdering={},this.levels={},this.distributionIndex={},this.isTree=!1,this.treeIndex=-1}addRelation(e,r){this.childrenReference[e]===void 0&&(this.childrenReference[e]=[]),this.childrenReference[e].push(r),this.parentReference[r]===void 0&&(this.parentReference[r]=[]),this.parentReference[r].push(e)}checkIfTree(){for(const e in this.parentReference)if(this.parentReference[e].length>1){this.isTree=!1;return}this.isTree=!0}numTrees(){return this.treeIndex+1}setTreeIndex(e,r){r!==void 0&&this.trees[e.id]===void 0&&(this.trees[e.id]=r,this.treeIndex=Math.max(r,this.treeIndex))}ensureLevel(e){this.levels[e]===void 0&&(this.levels[e]=0)}getMaxLevel(e){const r={},n=i=>{if(r[i]!==void 0)return r[i];let s=this.levels[i];if(this.childrenReference[i]){const a=this.childrenReference[i];if(a.length>0)for(let o=0;o<a.length;o++)s=Math.max(s,n(a[o]))}return r[i]=s,s};return n(e)}levelDownstream(e,r){this.levels[r.id]===void 0&&(this.levels[e.id]===void 0&&(this.levels[e.id]=0),this.levels[r.id]=this.levels[e.id]+1)}setMinLevelToZero(){var e;const r=new FT;let n=0;const i=Tl(e=[...new Ps(afe(this.levels))]).call(e,(s,a)=>s-a);for(const s of i)r.set(s,n++);for(const s in this.levels)Object.prototype.hasOwnProperty.call(this.levels,s)&&(this.levels[s]=r.get(this.levels[s]))}getTreeSize(e,r){let n=1e9,i=-1e9,s=1e9,a=-1e9;for(const o in this.trees)if(Object.prototype.hasOwnProperty.call(this.trees,o)&&this.trees[o]===r){const l=e[o];n=Math.min(l.x,n),i=Math.max(l.x,i),s=Math.min(l.y,s),a=Math.max(l.y,a)}return{min_x:n,max_x:i,min_y:s,max_y:a}}hasSameParent(e,r){const n=this.parentReference[e.id],i=this.parentReference[r.id];if(n===void 0||i===void 0)return!1;for(let s=0;s<n.length;s++)for(let a=0;a<i.length;a++)if(n[s]==i[a])return!0;return!1}inSameSubNetwork(e,r){return this.trees[e.id]===this.trees[r.id]}getLevels(){return xt(this.distributionOrdering)}addToOrdering(e,r){this.distributionOrdering[r]===void 0&&(this.distributionOrdering[r]=[]);let n=!1;const i=this.distributionOrdering[r];for(const s in i)if(i[s]===e){n=!0;break}n||(this.distributionOrdering[r].push(e),this.distributionIndex[e.id]=this.distributionOrdering[r].length-1)}}class Hbe{constructor(e){this.body=e,this._resetRNG(Math.random()+":"+ap()),this.setPhysics=!1,this.options={},this.optionsBackup={physics:{}},this.defaultOptions={randomSeed:void 0,improvedLayout:!0,clusterThreshold:150,hierarchical:{enabled:!1,levelSeparation:150,nodeSpacing:100,treeSpacing:200,blockShifting:!0,edgeMinimization:!0,parentCentralization:!0,direction:"UD",sortMethod:"hubsize"}},kt(this.options,this.defaultOptions),this.bindEventListeners()}bindEventListeners(){this.body.emitter.on("_dataChanged",()=>{this.setupHierarchicalLayout()}),this.body.emitter.on("_dataLoaded",()=>{this.layoutNetwork()}),this.body.emitter.on("_resetHierarchicalLayout",()=>{this.setupHierarchicalLayout()}),this.body.emitter.on("_adjustEdgesForHierarchicalLayout",()=>{if(this.options.hierarchical.enabled!==!0)return;const e=this.direction.curveType();this.body.emitter.emit("_forceDisableDynamicCurves",e,!1)})}setOptions(e,r){if(e!==void 0){const n=this.options.hierarchical,i=n.enabled;if(Ku(["randomSeed","improvedLayout","clusterThreshold"],this.options,e),Pn(this.options,e,"hierarchical"),e.randomSeed!==void 0&&this._resetRNG(e.randomSeed),n.enabled===!0)return i===!0&&this.body.emitter.emit("refresh",!0),n.direction==="RL"||n.direction==="DU"?n.levelSeparation>0&&(n.levelSeparation*=-1):n.levelSeparation<0&&(n.levelSeparation*=-1),this.setDirectionStrategy(),this.body.emitter.emit("_resetHierarchicalLayout"),this.adaptAllOptionsForHierarchicalLayout(r);if(i===!0)return this.body.emitter.emit("refresh"),tt(r,this.optionsBackup)}return r}_resetRNG(e){this.initialRandomSeed=e,this._rng=ym(this.initialRandomSeed)}adaptAllOptionsForHierarchicalLayout(e){if(this.options.hierarchical.enabled===!0){const r=this.optionsBackup.physics;e.physics===void 0||e.physics===!0?(e.physics={enabled:r.enabled===void 0?!0:r.enabled,solver:"hierarchicalRepulsion"},r.enabled=r.enabled===void 0?!0:r.enabled,r.solver=r.solver||"barnesHut"):typeof e.physics=="object"?(r.enabled=e.physics.enabled===void 0?!0:e.physics.enabled,r.solver=e.physics.solver||"barnesHut",e.physics.solver="hierarchicalRepulsion"):e.physics!==!1&&(r.solver="barnesHut",e.physics={solver:"hierarchicalRepulsion"});let n=this.direction.curveType();if(e.edges===void 0)this.optionsBackup.edges={smooth:{enabled:!0,type:"dynamic"}},e.edges={smooth:!1};else if(e.edges.smooth===void 0)this.optionsBackup.edges={smooth:{enabled:!0,type:"dynamic"}},e.edges.smooth=!1;else if(typeof e.edges.smooth=="boolean")this.optionsBackup.edges={smooth:e.edges.smooth},e.edges.smooth={enabled:e.edges.smooth,type:n};else{const i=e.edges.smooth;i.type!==void 0&&i.type!=="dynamic"&&(n=i.type),this.optionsBackup.edges={smooth:{enabled:i.enabled===void 0?!0:i.enabled,type:i.type===void 0?"dynamic":i.type,roundness:i.roundness===void 0?.5:i.roundness,forceDirection:i.forceDirection===void 0?!1:i.forceDirection}},e.edges.smooth={enabled:i.enabled===void 0?!0:i.enabled,type:n,roundness:i.roundness===void 0?.5:i.roundness,forceDirection:i.forceDirection===void 0?!1:i.forceDirection}}this.body.emitter.emit("_forceDisableDynamicCurves",n)}return e}positionInitially(e){if(this.options.hierarchical.enabled!==!0){this._resetRNG(this.initialRandomSeed);const r=e.length+50;for(let n=0;n<e.length;n++){const i=e[n],s=2*Math.PI*this._rng();i.x===void 0&&(i.x=r*Math.cos(s)),i.y===void 0&&(i.y=r*Math.sin(s))}}}layoutNetwork(){if(this.options.hierarchical.enabled!==!0&&this.options.improvedLayout===!0){const e=this.body.nodeIndices;let r=0;for(let n=0;n<e.length;n++)this.body.nodes[e[n]].predefinedPosition===!0&&(r+=1);if(r<.5*e.length){let i=0;const s=this.options.clusterThreshold,a={clusterNodeProperties:{shape:"ellipse",label:"",group:"",font:{multi:!1}},clusterEdgeProperties:{label:"",font:{multi:!1},smooth:{enabled:!1}}};if(e.length>s){const l=e.length;for(;e.length>s&&i<=10;){i+=1;const u=e.length;i%3===0?this.body.modules.clustering.clusterBridges(a):this.body.modules.clustering.clusterOutliers(a);const d=e.length;if(u==d&&i%3!==0){this._declusterAll(),this.body.emitter.emit("_layoutFailed"),console.info("This network could not be positioned by this version of the improved layout algorithm. Please disable improvedLayout for better performance.");return}}this.body.modules.kamadaKawai.setOptions({springLength:Math.max(150,2*l)})}i>10&&console.info("The clustering didn't succeed within the amount of interations allowed, progressing with partial result."),this.body.modules.kamadaKawai.solve(e,this.body.edgeIndices,!0),this._shiftToCenter();const o=70;for(let l=0;l<e.length;l++){const u=this.body.nodes[e[l]];u.predefinedPosition===!1&&(u.x+=(.5-this._rng())*o,u.y+=(.5-this._rng())*o)}this._declusterAll(),this.body.emitter.emit("_repositionBezierNodes")}}}_shiftToCenter(){const e=jr.getRangeCore(this.body.nodes,this.body.nodeIndices),r=jr.findCenter(e);for(let n=0;n<this.body.nodeIndices.length;n++){const i=this.body.nodes[this.body.nodeIndices[n]];i.x-=r.x,i.y-=r.y}}_declusterAll(){let e=!0;for(;e===!0;){e=!1;for(let r=0;r<this.body.nodeIndices.length;r++)this.body.nodes[this.body.nodeIndices[r]].isCluster===!0&&(e=!0,this.body.modules.clustering.openCluster(this.body.nodeIndices[r],{},!1));e===!0&&this.body.emitter.emit("_dataChanged")}}getSeed(){return this.initialRandomSeed}setupHierarchicalLayout(){if(this.options.hierarchical.enabled===!0&&this.body.nodeIndices.length>0){let e,r,n=!1,i=!1;this.lastNodeOnLevel={},this.hierarchical=new Vbe;for(r in this.body.nodes)Object.prototype.hasOwnProperty.call(this.body.nodes,r)&&(e=this.body.nodes[r],e.options.level!==void 0?(n=!0,this.hierarchical.levels[r]=e.options.level):i=!0);if(i===!0&&n===!0)throw new Error("To use the hierarchical layout, nodes require either no predefined levels or levels have to be defined for all nodes.");{if(i===!0){const a=this.options.hierarchical.sortMethod;a==="hubsize"?this._determineLevelsByHubsize():a==="directed"?this._determineLevelsDirected():a==="custom"&&this._determineLevelsCustomCallback()}for(const a in this.body.nodes)Object.prototype.hasOwnProperty.call(this.body.nodes,a)&&this.hierarchical.ensureLevel(a);const s=this._getDistribution();this._generateMap(),this._placeNodesByHierarchy(s),this._condenseHierarchy(),this._shiftToCenter()}}}_condenseHierarchy(){var e=this;let r=!1;const n={},i=()=>{const g=a();let v=0;for(let x=0;x<g.length-1;x++){const w=g[x].max-g[x+1].min;v+=w+this.options.hierarchical.treeSpacing,s(x+1,v)}},s=(g,v)=>{const x=this.hierarchical.trees;for(const w in x)Object.prototype.hasOwnProperty.call(x,w)&&x[w]===g&&this.direction.shift(w,v)},a=()=>{const g=[];for(let v=0;v<this.hierarchical.numTrees();v++)g.push(this.direction.getTreeSize(v));return g},o=(g,v)=>{if(!v[g.id]&&(v[g.id]=!0,this.hierarchical.childrenReference[g.id])){const x=this.hierarchical.childrenReference[g.id];if(x.length>0)for(let w=0;w<x.length;w++)o(this.body.nodes[x[w]],v)}},l=function(g){let v=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1e9,x=1e9,w=1e9,_=1e9,E=-1e9;for(const O in g)if(Object.prototype.hasOwnProperty.call(g,O)){const S=e.body.nodes[O],P=e.hierarchical.levels[S.id],N=e.direction.getPosition(S),[I,C]=e._getSpaceAroundNode(S,g);x=Math.min(I,x),w=Math.min(C,w),P<=v&&(_=Math.min(N,_),E=Math.max(N,E))}return[_,E,x,w]},u=(g,v)=>{const x=this.hierarchical.getMaxLevel(g.id),w=this.hierarchical.getMaxLevel(v.id);return Math.min(x,w)},d=(g,v,x)=>{const w=this.hierarchical;for(let _=0;_<v.length;_++){const E=v[_],O=w.distributionOrdering[E];if(O.length>1)for(let S=0;S<O.length-1;S++){const P=O[S],N=O[S+1];w.hasSameParent(P,N)&&w.inSameSubNetwork(P,N)&&g(P,N,x)}}},h=function(g,v){let x=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;const w=e.direction.getPosition(g),_=e.direction.getPosition(v),E=Math.abs(_-w),O=e.options.hierarchical.nodeSpacing;if(E>O){const S={},P={};o(g,S),o(v,P);const N=u(g,v),I=l(S,N),C=l(P,N),T=I[1],q=C[0],U=C[2];if(Math.abs(T-q)>O){let Y=T-q+O;Y<-U+O&&(Y=-U+O),Y<0&&(e._shiftBlock(v.id,Y),r=!0,x===!0&&e._centerParent(v))}}},f=(g,v)=>{const x=v.id,w=v.edges,_=this.hierarchical.levels[v.id],E=this.options.hierarchical.levelSeparation*this.options.hierarchical.levelSeparation,O={},S=[];for(let U=0;U<w.length;U++){const re=w[U];if(re.toId!=re.fromId){const Y=re.toId==x?re.from:re.to;O[w[U].id]=Y,this.hierarchical.levels[Y.id]<_&&S.push(re)}}const P=(U,re)=>{let Y=0;for(let L=0;L<re.length;L++)if(O[re[L].id]!==void 0){const G=this.direction.getPosition(O[re[L].id])-U;Y+=G/Math.sqrt(G*G+E)}return Y},N=(U,re)=>{let Y=0;for(let L=0;L<re.length;L++)if(O[re[L].id]!==void 0){const G=this.direction.getPosition(O[re[L].id])-U;Y-=E*Math.pow(G*G+E,-1.5)}return Y},I=(U,re)=>{let Y=this.direction.getPosition(v);const L={};for(let G=0;G<U;G++){const W=P(Y,re),V=N(Y,re),te=40,pe=Math.max(-te,Math.min(te,Math.round(W/V)));if(Y=Y-pe,L[Y]!==void 0)break;L[Y]=G}return Y},C=U=>{const re=this.direction.getPosition(v);if(n[v.id]===void 0){const te={};o(v,te),n[v.id]=te}const Y=l(n[v.id]),L=Y[2],G=Y[3],W=U-re;let V=0;W>0?V=Math.min(W,G-this.options.hierarchical.nodeSpacing):W<0&&(V=-Math.min(-W,L-this.options.hierarchical.nodeSpacing)),V!=0&&(this._shiftBlock(v.id,V),r=!0)},T=U=>{const re=this.direction.getPosition(v),[Y,L]=this._getSpaceAroundNode(v),G=U-re;let W=re;G>0?W=Math.min(re+(L-this.options.hierarchical.nodeSpacing),U):G<0&&(W=Math.max(re-(Y-this.options.hierarchical.nodeSpacing),U)),W!==re&&(this.direction.setPosition(v,W),r=!0)};let q=I(g,S);C(q),q=I(g,w),T(q)},p=g=>{let v=this.hierarchical.getLevels();v=Za(v).call(v);for(let x=0;x<g;x++){r=!1;for(let w=0;w<v.length;w++){const _=v[w],E=this.hierarchical.distributionOrdering[_];for(let O=0;O<E.length;O++)f(1e3,E[O])}if(r!==!0)break}},m=g=>{let v=this.hierarchical.getLevels();v=Za(v).call(v);for(let x=0;x<g&&(r=!1,d(h,v,!0),r===!0);x++);},y=()=>{for(const g in this.body.nodes)Object.prototype.hasOwnProperty.call(this.body.nodes,g)&&this._centerParent(this.body.nodes[g])},b=()=>{let g=this.hierarchical.getLevels();g=Za(g).call(g);for(let v=0;v<g.length;v++){const x=g[v],w=this.hierarchical.distributionOrdering[x];for(let _=0;_<w.length;_++)this._centerParent(w[_])}};this.options.hierarchical.blockShifting===!0&&(m(5),y()),this.options.hierarchical.edgeMinimization===!0&&p(20),this.options.hierarchical.parentCentralization===!0&&b(),i()}_getSpaceAroundNode(e,r){let n=!0;r===void 0&&(n=!1);const i=this.hierarchical.levels[e.id];if(i!==void 0){const s=this.hierarchical.distributionIndex[e.id],a=this.direction.getPosition(e),o=this.hierarchical.distributionOrdering[i];let l=1e9,u=1e9;if(s!==0){const d=o[s-1];if(n===!0&&r[d.id]===void 0||n===!1){const h=this.direction.getPosition(d);l=a-h}}if(s!=o.length-1){const d=o[s+1];if(n===!0&&r[d.id]===void 0||n===!1){const h=this.direction.getPosition(d);u=Math.min(u,h-a)}}return[l,u]}else return[0,0]}_centerParent(e){if(this.hierarchical.parentReference[e.id]){const r=this.hierarchical.parentReference[e.id];for(let n=0;n<r.length;n++){const i=r[n],s=this.body.nodes[i],a=this.hierarchical.childrenReference[i];if(a!==void 0){const o=this._getCenterPosition(a),l=this.direction.getPosition(s),[u,d]=this._getSpaceAroundNode(s),h=l-o;(h<0&&Math.abs(h)<d-this.options.hierarchical.nodeSpacing||h>0&&Math.abs(h)<u-this.options.hierarchical.nodeSpacing)&&this.direction.setPosition(s,o)}}}}_placeNodesByHierarchy(e){this.positionedNodes={};for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r;let i=xt(e[n]);i=this._indexArrayToNodes(i),Tl(r=this.direction).call(r,i);let s=0;for(let a=0;a<i.length;a++){const o=i[a];if(this.positionedNodes[o.id]===void 0){const l=this.options.hierarchical.nodeSpacing;let u=l*s;s>0&&(u=this.direction.getPosition(i[a-1])+l),this.direction.setPosition(o,u,n),this._validatePositionAndContinue(o,n,u),s++}}}}_placeBranchNodes(e,r){var n;const i=this.hierarchical.childrenReference[e];if(i===void 0)return;const s=[];for(let o=0;o<i.length;o++)s.push(this.body.nodes[i[o]]);Tl(n=this.direction).call(n,s);for(let o=0;o<s.length;o++){const l=s[o],u=this.hierarchical.levels[l.id];if(u>r&&this.positionedNodes[l.id]===void 0){const d=this.options.hierarchical.nodeSpacing;let h;o===0?h=this.direction.getPosition(this.body.nodes[e]):h=this.direction.getPosition(s[o-1])+d,this.direction.setPosition(l,h,u),this._validatePositionAndContinue(l,u,h)}else return}const a=this._getCenterPosition(s);this.direction.setPosition(this.body.nodes[e],a,r)}_validatePositionAndContinue(e,r,n){if(this.hierarchical.isTree){if(this.lastNodeOnLevel[r]!==void 0){const i=this.direction.getPosition(this.body.nodes[this.lastNodeOnLevel[r]]);if(n-i<this.options.hierarchical.nodeSpacing){const s=i+this.options.hierarchical.nodeSpacing-n,a=this._findCommonParent(this.lastNodeOnLevel[r],e.id);this._shiftBlock(a.withChild,s)}}this.lastNodeOnLevel[r]=e.id,this.positionedNodes[e.id]=!0,this._placeBranchNodes(e.id,r)}}_indexArrayToNodes(e){const r=[];for(let n=0;n<e.length;n++)r.push(this.body.nodes[e[n]]);return r}_getDistribution(){const e={};let r,n;for(r in this.body.nodes)if(Object.prototype.hasOwnProperty.call(this.body.nodes,r)){n=this.body.nodes[r];const i=this.hierarchical.levels[r]===void 0?0:this.hierarchical.levels[r];this.direction.fix(n,i),e[i]===void 0&&(e[i]={}),e[i][r]=n}return e}_getActiveEdges(e){const r=[];return je(e.edges,n=>{var i;Ue(i=this.body.edgeIndices).call(i,n.id)!==-1&&r.push(n)}),r}_getHubSizes(){const e={},r=this.body.nodeIndices;je(r,i=>{const s=this.body.nodes[i],a=this._getActiveEdges(s).length;e[a]=!0});const n=[];return je(e,i=>{n.push(Number(i))}),Tl(n).call(n,function(i,s){return s-i}),n}_determineLevelsByHubsize(){const e=(n,i)=>{this.hierarchical.levelDownstream(n,i)},r=this._getHubSizes();for(let n=0;n<r.length;++n){const i=r[n];if(i===0)break;je(this.body.nodeIndices,s=>{const a=this.body.nodes[s];i===this._getActiveEdges(a).length&&this._crawlNetwork(e,s)})}}_determineLevelsCustomCallback(){const r=function(i,s,a){},n=(i,s,a)=>{let o=this.hierarchical.levels[i.id];o===void 0&&(o=this.hierarchical.levels[i.id]=1e5);const l=r(jr.cloneOptions(i,"node"),jr.cloneOptions(s,"node"),jr.cloneOptions(a,"edge"));this.hierarchical.levels[s.id]=o+l};this._crawlNetwork(n),this.hierarchical.setMinLevelToZero()}_determineLevelsDirected(){var e;const r=NY(e=this.body.nodeIndices).call(e,(n,i)=>(n.set(i,this.body.nodes[i]),n),new FT);this.options.hierarchical.shakeTowards==="roots"?this.hierarchical.levels=Wbe(r):this.hierarchical.levels=Ube(r),this.hierarchical.setMinLevelToZero()}_generateMap(){const e=(r,n)=>{this.hierarchical.levels[n.id]>this.hierarchical.levels[r.id]&&this.hierarchical.addRelation(r.id,n.id)};this._crawlNetwork(e),this.hierarchical.checkIfTree()}_crawlNetwork(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:function(){},r=arguments.length>1?arguments[1]:void 0;const n={},i=(s,a)=>{if(n[s.id]===void 0){this.hierarchical.setTreeIndex(s,a),n[s.id]=!0;let o;const l=this._getActiveEdges(s);for(let u=0;u<l.length;u++){const d=l[u];d.connected===!0&&(d.toId==s.id?o=d.from:o=d.to,s.id!=o.id&&(e(s,o,d),i(o,a)))}}};if(r===void 0){let s=0;for(let a=0;a<this.body.nodeIndices.length;a++){const o=this.body.nodeIndices[a];if(n[o]===void 0){const l=this.body.nodes[o];i(l,s),s+=1}}}else{const s=this.body.nodes[r];if(s===void 0){console.error("Node not found:",r);return}i(s)}}_shiftBlock(e,r){const n={},i=s=>{if(n[s])return;n[s]=!0,this.direction.shift(s,r);const a=this.hierarchical.childrenReference[s];if(a!==void 0)for(let o=0;o<a.length;o++)i(a[o])};i(e)}_findCommonParent(e,r){const n={},i=(a,o)=>{const l=this.hierarchical.parentReference[o];if(l!==void 0)for(let u=0;u<l.length;u++){const d=l[u];a[d]=!0,i(a,d)}},s=(a,o)=>{const l=this.hierarchical.parentReference[o];if(l!==void 0)for(let u=0;u<l.length;u++){const d=l[u];if(a[d]!==void 0)return{foundParent:d,withChild:o};const h=s(a,d);if(h.foundParent!==null)return h}return{foundParent:null,withChild:o}};return i(n,e),s(n,r)}setDirectionStrategy(){this.options.hierarchical.direction==="UD"||this.options.hierarchical.direction==="DU"?this.direction=new kbe(this):this.direction=new Dbe(this)}_getCenterPosition(e){let r=1e9,n=-1e9;for(let i=0;i<e.length;i++){let s;if(e[i].id!==void 0)s=e[i];else{const o=e[i];s=this.body.nodes[o]}const a=this.direction.getPosition(s);r=Math.min(r,a),n=Math.max(n,a)}return .5*(r+n)}}class Kbe{constructor(e,r,n,i){var s,a;this.body=e,this.canvas=r,this.selectionHandler=n,this.interactionHandler=i,this.editMode=!1,this.manipulationDiv=void 0,this.editModeDiv=void 0,this.closeDiv=void 0,this._domEventListenerCleanupQueue=[],this.temporaryUIFunctions={},this.temporaryEventFunctions=[],this.touchTime=0,this.temporaryIds={nodes:[],edges:[]},this.guiEnabled=!1,this.inMode=!1,this.selectedControlNode=void 0,this.options={},this.defaultOptions={enabled:!1,initiallyActive:!1,addNode:!0,addEdge:!0,editNode:void 0,editEdge:!0,deleteNode:!0,deleteEdge:!0,controlNodeStyle:{shape:"dot",size:6,color:{background:"#ff0000",border:"#3c3c3c",highlight:{background:"#07f968",border:"#3c3c3c"}},borderWidth:2,borderWidthSelected:2}},kt(this.options,this.defaultOptions),this.body.emitter.on("destroy",()=>{this._clean()}),this.body.emitter.on("_dataChanged",ee(s=this._restore).call(s,this)),this.body.emitter.on("_resetData",ee(a=this._restore).call(a,this))}_restore(){this.inMode!==!1&&(this.options.initiallyActive===!0?this.enableEditMode():this.disableEditMode())}setOptions(e,r,n){r!==void 0&&(r.locale!==void 0?this.options.locale=r.locale:this.options.locale=n.locale,r.locales!==void 0?this.options.locales=r.locales:this.options.locales=n.locales),e!==void 0&&(typeof e=="boolean"?this.options.enabled=e:(this.options.enabled=!0,tt(this.options,e)),this.options.initiallyActive===!0&&(this.editMode=!0),this._setup())}toggleEditMode(){this.editMode===!0?this.disableEditMode():this.enableEditMode()}enableEditMode(){this.editMode=!0,this._clean(),this.guiEnabled===!0&&(this.manipulationDiv.style.display="block",this.closeDiv.style.display="block",this.editModeDiv.style.display="none",this.showManipulatorToolbar())}disableEditMode(){this.editMode=!1,this._clean(),this.guiEnabled===!0&&(this.manipulationDiv.style.display="none",this.closeDiv.style.display="none",this.editModeDiv.style.display="block",this._createEditButton())}showManipulatorToolbar(){if(this._clean(),this.manipulationDOM={},this.guiEnabled===!0){var e,r;this.editMode=!0,this.manipulationDiv.style.display="block",this.closeDiv.style.display="block";const n=this.selectionHandler.getSelectedNodeCount(),i=this.selectionHandler.getSelectedEdgeCount(),s=n+i,a=this.options.locales[this.options.locale];let o=!1;this.options.addNode!==!1&&(this._createAddNodeButton(a),o=!0),this.options.addEdge!==!1&&(o===!0?this._createSeperator(1):o=!0,this._createAddEdgeButton(a)),n===1&&typeof this.options.editNode=="function"?(o===!0?this._createSeperator(2):o=!0,this._createEditNodeButton(a)):i===1&&n===0&&this.options.editEdge!==!1&&(o===!0?this._createSeperator(3):o=!0,this._createEditEdgeButton(a)),s!==0&&(n>0&&this.options.deleteNode!==!1?(o===!0&&this._createSeperator(4),this._createDeleteButton(a)):n===0&&this.options.deleteEdge!==!1&&(o===!0&&this._createSeperator(4),this._createDeleteButton(a))),this._bindElementEvents(this.closeDiv,ee(e=this.toggleEditMode).call(e,this)),this._temporaryBindEvent("select",ee(r=this.showManipulatorToolbar).call(r,this))}this.body.emitter.emit("_redraw")}addNodeMode(){var e;if(this.editMode!==!0&&this.enableEditMode(),this._clean(),this.inMode="addNode",this.guiEnabled===!0){var r;const n=this.options.locales[this.options.locale];this.manipulationDOM={},this._createBackButton(n),this._createSeperator(),this._createDescription(n.addDescription||this.options.locales.en.addDescription),this._bindElementEvents(this.closeDiv,ee(r=this.toggleEditMode).call(r,this))}this._temporaryBindEvent("click",ee(e=this._performAddNode).call(e,this))}editNode(){this.editMode!==!0&&this.enableEditMode(),this._clean();const e=this.selectionHandler.getSelectedNodes()[0];if(e!==void 0)if(this.inMode="editNode",typeof this.options.editNode=="function")if(e.isCluster!==!0){const r=tt({},e.options,!1);if(r.x=e.x,r.y=e.y,this.options.editNode.length===2)this.options.editNode(r,n=>{n!=null&&this.inMode==="editNode"&&this.body.data.nodes.getDataSet().update(n),this.showManipulatorToolbar()});else throw new Error("The function for edit does not support two arguments (data, callback)")}else alert(this.options.locales[this.options.locale].editClusterError||this.options.locales.en.editClusterError);else throw new Error("No function has been configured to handle the editing of nodes.");else this.showManipulatorToolbar()}addEdgeMode(){var e,r,n,i,s;if(this.editMode!==!0&&this.enableEditMode(),this._clean(),this.inMode="addEdge",this.guiEnabled===!0){var a;const o=this.options.locales[this.options.locale];this.manipulationDOM={},this._createBackButton(o),this._createSeperator(),this._createDescription(o.edgeDescription||this.options.locales.en.edgeDescription),this._bindElementEvents(this.closeDiv,ee(a=this.toggleEditMode).call(a,this))}this._temporaryBindUI("onTouch",ee(e=this._handleConnect).call(e,this)),this._temporaryBindUI("onDragEnd",ee(r=this._finishConnect).call(r,this)),this._temporaryBindUI("onDrag",ee(n=this._dragControlNode).call(n,this)),this._temporaryBindUI("onRelease",ee(i=this._finishConnect).call(i,this)),this._temporaryBindUI("onDragStart",ee(s=this._dragStartEdge).call(s,this)),this._temporaryBindUI("onHold",()=>{})}editEdgeMode(){if(this.editMode!==!0&&this.enableEditMode(),this._clean(),this.inMode="editEdge",typeof this.options.editEdge=="object"&&typeof this.options.editEdge.editWithoutDrag=="function"&&(this.edgeBeingEditedId=this.selectionHandler.getSelectedEdgeIds()[0],this.edgeBeingEditedId!==void 0)){const a=this.body.edges[this.edgeBeingEditedId];this._performEditEdge(a.from.id,a.to.id);return}if(this.guiEnabled===!0){var e;const a=this.options.locales[this.options.locale];this.manipulationDOM={},this._createBackButton(a),this._createSeperator(),this._createDescription(a.editEdgeDescription||this.options.locales.en.editEdgeDescription),this._bindElementEvents(this.closeDiv,ee(e=this.toggleEditMode).call(e,this))}if(this.edgeBeingEditedId=this.selectionHandler.getSelectedEdgeIds()[0],this.edgeBeingEditedId!==void 0){var r,n,i,s;const a=this.body.edges[this.edgeBeingEditedId],o=this._getNewTargetNode(a.from.x,a.from.y),l=this._getNewTargetNode(a.to.x,a.to.y);this.temporaryIds.nodes.push(o.id),this.temporaryIds.nodes.push(l.id),this.body.nodes[o.id]=o,this.body.nodeIndices.push(o.id),this.body.nodes[l.id]=l,this.body.nodeIndices.push(l.id),this._temporaryBindUI("onTouch",ee(r=this._controlNodeTouch).call(r,this)),this._temporaryBindUI("onTap",()=>{}),this._temporaryBindUI("onHold",()=>{}),this._temporaryBindUI("onDragStart",ee(n=this._controlNodeDragStart).call(n,this)),this._temporaryBindUI("onDrag",ee(i=this._controlNodeDrag).call(i,this)),this._temporaryBindUI("onDragEnd",ee(s=this._controlNodeDragEnd).call(s,this)),this._temporaryBindUI("onMouseMove",()=>{}),this._temporaryBindEvent("beforeDrawing",u=>{const d=a.edgeType.findBorderPositions(u);o.selected===!1&&(o.x=d.from.x,o.y=d.from.y),l.selected===!1&&(l.x=d.to.x,l.y=d.to.y)}),this.body.emitter.emit("_redraw")}else this.showManipulatorToolbar()}deleteSelected(){this.editMode!==!0&&this.enableEditMode(),this._clean(),this.inMode="delete";const e=this.selectionHandler.getSelectedNodeIds(),r=this.selectionHandler.getSelectedEdgeIds();let n;if(e.length>0){for(let i=0;i<e.length;i++)if(this.body.nodes[e[i]].isCluster===!0){alert(this.options.locales[this.options.locale].deleteClusterError||this.options.locales.en.deleteClusterError);return}typeof this.options.deleteNode=="function"&&(n=this.options.deleteNode)}else r.length>0&&typeof this.options.deleteEdge=="function"&&(n=this.options.deleteEdge);if(typeof n=="function"){const i={nodes:e,edges:r};if(n.length===2)n(i,s=>{s!=null&&this.inMode==="delete"?(this.body.data.edges.getDataSet().remove(s.edges),this.body.data.nodes.getDataSet().remove(s.nodes),this.body.emitter.emit("startSimulation"),this.showManipulatorToolbar()):(this.body.emitter.emit("startSimulation"),this.showManipulatorToolbar())});else throw new Error("The function for delete does not support two arguments (data, callback)")}else this.body.data.edges.getDataSet().remove(r),this.body.data.nodes.getDataSet().remove(e),this.body.emitter.emit("startSimulation"),this.showManipulatorToolbar()}_setup(){this.options.enabled===!0?(this.guiEnabled=!0,this._createWrappers(),this.editMode===!1?this._createEditButton():this.showManipulatorToolbar()):(this._removeManipulationDOM(),this.guiEnabled=!1)}_createWrappers(){if(this.manipulationDiv===void 0&&(this.manipulationDiv=document.createElement("div"),this.manipulationDiv.className="vis-manipulation",this.editMode===!0?this.manipulationDiv.style.display="block":this.manipulationDiv.style.display="none",this.canvas.frame.appendChild(this.manipulationDiv)),this.editModeDiv===void 0&&(this.editModeDiv=document.createElement("div"),this.editModeDiv.className="vis-edit-mode",this.editMode===!0?this.editModeDiv.style.display="none":this.editModeDiv.style.display="block",this.canvas.frame.appendChild(this.editModeDiv)),this.closeDiv===void 0){var e,r;this.closeDiv=document.createElement("button"),this.closeDiv.className="vis-close",this.closeDiv.setAttribute("aria-label",(e=(r=this.options.locales[this.options.locale])===null||r===void 0?void 0:r.close)!==null&&e!==void 0?e:this.options.locales.en.close),this.closeDiv.style.display=this.manipulationDiv.style.display,this.canvas.frame.appendChild(this.closeDiv)}}_getNewTargetNode(e,r){const n=tt({},this.options.controlNodeStyle);n.id="targetNode"+Ac(),n.hidden=!1,n.physics=!1,n.x=e,n.y=r;const i=this.body.functions.createNode(n);return i.shape.boundingBox={left:e,right:e,top:r,bottom:r},i}_createEditButton(){var e;this._clean(),this.manipulationDOM={},_s(this.editModeDiv);const r=this.options.locales[this.options.locale],n=this._createButton("editMode","vis-edit vis-edit-mode",r.edit||this.options.locales.en.edit);this.editModeDiv.appendChild(n),this._bindElementEvents(n,ee(e=this.toggleEditMode).call(e,this))}_clean(){this.inMode=!1,this.guiEnabled===!0&&(_s(this.editModeDiv),_s(this.manipulationDiv),this._cleanupDOMEventListeners()),this._cleanupTemporaryNodesAndEdges(),this._unbindTemporaryUIs(),this._unbindTemporaryEvents(),this.body.emitter.emit("restorePhysics")}_cleanupDOMEventListeners(){for(const r of Ki(e=this._domEventListenerCleanupQueue).call(e,0)){var e;r()}}_removeManipulationDOM(){this._clean(),_s(this.manipulationDiv),_s(this.editModeDiv),_s(this.closeDiv),this.manipulationDiv&&this.canvas.frame.removeChild(this.manipulationDiv),this.editModeDiv&&this.canvas.frame.removeChild(this.editModeDiv),this.closeDiv&&this.canvas.frame.removeChild(this.closeDiv),this.manipulationDiv=void 0,this.editModeDiv=void 0,this.closeDiv=void 0}_createSeperator(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1;this.manipulationDOM["seperatorLineDiv"+e]=document.createElement("div"),this.manipulationDOM["seperatorLineDiv"+e].className="vis-separator-line",this.manipulationDiv.appendChild(this.manipulationDOM["seperatorLineDiv"+e])}_createAddNodeButton(e){var r;const n=this._createButton("addNode","vis-add",e.addNode||this.options.locales.en.addNode);this.manipulationDiv.appendChild(n),this._bindElementEvents(n,ee(r=this.addNodeMode).call(r,this))}_createAddEdgeButton(e){var r;const n=this._createButton("addEdge","vis-connect",e.addEdge||this.options.locales.en.addEdge);this.manipulationDiv.appendChild(n),this._bindElementEvents(n,ee(r=this.addEdgeMode).call(r,this))}_createEditNodeButton(e){var r;const n=this._createButton("editNode","vis-edit",e.editNode||this.options.locales.en.editNode);this.manipulationDiv.appendChild(n),this._bindElementEvents(n,ee(r=this.editNode).call(r,this))}_createEditEdgeButton(e){var r;const n=this._createButton("editEdge","vis-edit",e.editEdge||this.options.locales.en.editEdge);this.manipulationDiv.appendChild(n),this._bindElementEvents(n,ee(r=this.editEdgeMode).call(r,this))}_createDeleteButton(e){var r;let n;this.options.rtl?n="vis-delete-rtl":n="vis-delete";const i=this._createButton("delete",n,e.del||this.options.locales.en.del);this.manipulationDiv.appendChild(i),this._bindElementEvents(i,ee(r=this.deleteSelected).call(r,this))}_createBackButton(e){var r;const n=this._createButton("back","vis-back",e.back||this.options.locales.en.back);this.manipulationDiv.appendChild(n),this._bindElementEvents(n,ee(r=this.showManipulatorToolbar).call(r,this))}_createButton(e,r,n){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"vis-label";return this.manipulationDOM[e+"Div"]=document.createElement("button"),this.manipulationDOM[e+"Div"].className="vis-button "+r,this.manipulationDOM[e+"Label"]=document.createElement("div"),this.manipulationDOM[e+"Label"].className=i,this.manipulationDOM[e+"Label"].innerText=n,this.manipulationDOM[e+"Div"].appendChild(this.manipulationDOM[e+"Label"]),this.manipulationDOM[e+"Div"]}_createDescription(e){this.manipulationDOM.descriptionLabel=document.createElement("div"),this.manipulationDOM.descriptionLabel.className="vis-none",this.manipulationDOM.descriptionLabel.innerText=e,this.manipulationDiv.appendChild(this.manipulationDOM.descriptionLabel)}_temporaryBindEvent(e,r){this.temporaryEventFunctions.push({event:e,boundFunction:r}),this.body.emitter.on(e,r)}_temporaryBindUI(e,r){if(this.body.eventListeners[e]!==void 0)this.temporaryUIFunctions[e]=this.body.eventListeners[e],this.body.eventListeners[e]=r;else throw new Error("This UI function does not exist. Typo? You tried: "+e+" possible are: "+hh(xt(this.body.eventListeners)))}_unbindTemporaryUIs(){for(const e in this.temporaryUIFunctions)Object.prototype.hasOwnProperty.call(this.temporaryUIFunctions,e)&&(this.body.eventListeners[e]=this.temporaryUIFunctions[e],delete this.temporaryUIFunctions[e]);this.temporaryUIFunctions={}}_unbindTemporaryEvents(){for(let e=0;e<this.temporaryEventFunctions.length;e++){const r=this.temporaryEventFunctions[e].event,n=this.temporaryEventFunctions[e].boundFunction;this.body.emitter.off(r,n)}this.temporaryEventFunctions=[]}_bindElementEvents(e,r){const n=new Nl(e,{});fp(n,r),this._domEventListenerCleanupQueue.push(()=>{n.destroy()});const i=s=>{let{keyCode:a,key:o}=s;(o==="Enter"||o===" "||a===13||a===32)&&r()};e.addEventListener("keyup",i,!1),this._domEventListenerCleanupQueue.push(()=>{e.removeEventListener("keyup",i,!1)})}_cleanupTemporaryNodesAndEdges(){for(let s=0;s<this.temporaryIds.edges.length;s++){var e;this.body.edges[this.temporaryIds.edges[s]].disconnect(),delete this.body.edges[this.temporaryIds.edges[s]];const a=Ue(e=this.body.edgeIndices).call(e,this.temporaryIds.edges[s]);if(a!==-1){var r;Ki(r=this.body.edgeIndices).call(r,a,1)}}for(let s=0;s<this.temporaryIds.nodes.length;s++){var n;delete this.body.nodes[this.temporaryIds.nodes[s]];const a=Ue(n=this.body.nodeIndices).call(n,this.temporaryIds.nodes[s]);if(a!==-1){var i;Ki(i=this.body.nodeIndices).call(i,a,1)}}this.temporaryIds={nodes:[],edges:[]}}_controlNodeTouch(e){this.selectionHandler.unselectAll(),this.lastTouch=this.body.functions.getPointer(e.center),this.lastTouch.translation=kt({},this.body.view.translation)}_controlNodeDragStart(){const e=this.lastTouch,r=this.selectionHandler._pointerToPositionObject(e),n=this.body.nodes[this.temporaryIds.nodes[0]],i=this.body.nodes[this.temporaryIds.nodes[1]],s=this.body.edges[this.edgeBeingEditedId];this.selectedControlNode=void 0;const a=n.isOverlappingWith(r),o=i.isOverlappingWith(r);a===!0?(this.selectedControlNode=n,s.edgeType.from=n):o===!0&&(this.selectedControlNode=i,s.edgeType.to=i),this.selectedControlNode!==void 0&&this.selectionHandler.selectObject(this.selectedControlNode),this.body.emitter.emit("_redraw")}_controlNodeDrag(e){this.body.emitter.emit("disablePhysics");const r=this.body.functions.getPointer(e.center),n=this.canvas.DOMtoCanvas(r);this.selectedControlNode!==void 0?(this.selectedControlNode.x=n.x,this.selectedControlNode.y=n.y):this.interactionHandler.onDrag(e),this.body.emitter.emit("_redraw")}_controlNodeDragEnd(e){const r=this.body.functions.getPointer(e.center),n=this.selectionHandler._pointerToPositionObject(r),i=this.body.edges[this.edgeBeingEditedId];if(this.selectedControlNode===void 0)return;this.selectionHandler.unselectAll();const s=this.selectionHandler._getAllNodesOverlappingWith(n);let a;for(let o=s.length-1;o>=0;o--)if(s[o]!==this.selectedControlNode.id){a=this.body.nodes[s[o]];break}if(a!==void 0&&this.selectedControlNode!==void 0)if(a.isCluster===!0)alert(this.options.locales[this.options.locale].createEdgeError||this.options.locales.en.createEdgeError);else{const o=this.body.nodes[this.temporaryIds.nodes[0]];this.selectedControlNode.id===o.id?this._performEditEdge(a.id,i.to.id):this._performEditEdge(i.from.id,a.id)}else i.updateEdgeType(),this.body.emitter.emit("restorePhysics");this.body.emitter.emit("_redraw")}_handleConnect(e){if(new Date().valueOf()-this.touchTime>100){this.lastTouch=this.body.functions.getPointer(e.center),this.lastTouch.translation=kt({},this.body.view.translation),this.interactionHandler.drag.pointer=this.lastTouch,this.interactionHandler.drag.translation=this.lastTouch.translation;const r=this.lastTouch,n=this.selectionHandler.getNodeAt(r);if(n!==void 0)if(n.isCluster===!0)alert(this.options.locales[this.options.locale].createEdgeError||this.options.locales.en.createEdgeError);else{const i=this._getNewTargetNode(n.x,n.y);this.body.nodes[i.id]=i,this.body.nodeIndices.push(i.id);const s=this.body.functions.createEdge({id:"connectionEdge"+Ac(),from:n.id,to:i.id,physics:!1,smooth:{enabled:!0,type:"continuous",roundness:.5}});this.body.edges[s.id]=s,this.body.edgeIndices.push(s.id),this.temporaryIds.nodes.push(i.id),this.temporaryIds.edges.push(s.id)}this.touchTime=new Date().valueOf()}}_dragControlNode(e){const r=this.body.functions.getPointer(e.center),n=this.selectionHandler._pointerToPositionObject(r);let i;this.temporaryIds.edges[0]!==void 0&&(i=this.body.edges[this.temporaryIds.edges[0]].fromId);const s=this.selectionHandler._getAllNodesOverlappingWith(n);let a;for(let l=s.length-1;l>=0;l--){var o;if(Ue(o=this.temporaryIds.nodes).call(o,s[l])===-1){a=this.body.nodes[s[l]];break}}if(e.controlEdge={from:i,to:a?a.id:void 0},this.selectionHandler.generateClickEvent("controlNodeDragging",e,r),this.temporaryIds.nodes[0]!==void 0){const l=this.body.nodes[this.temporaryIds.nodes[0]];l.x=this.canvas._XconvertDOMtoCanvas(r.x),l.y=this.canvas._YconvertDOMtoCanvas(r.y),this.body.emitter.emit("_redraw")}else this.interactionHandler.onDrag(e)}_finishConnect(e){const r=this.body.functions.getPointer(e.center),n=this.selectionHandler._pointerToPositionObject(r);let i;this.temporaryIds.edges[0]!==void 0&&(i=this.body.edges[this.temporaryIds.edges[0]].fromId);const s=this.selectionHandler._getAllNodesOverlappingWith(n);let a;for(let l=s.length-1;l>=0;l--){var o;if(Ue(o=this.temporaryIds.nodes).call(o,s[l])===-1){a=this.body.nodes[s[l]];break}}this._cleanupTemporaryNodesAndEdges(),a!==void 0&&(a.isCluster===!0?alert(this.options.locales[this.options.locale].createEdgeError||this.options.locales.en.createEdgeError):this.body.nodes[i]!==void 0&&this.body.nodes[a.id]!==void 0&&this._performAddEdge(i,a.id)),e.controlEdge={from:i,to:a?a.id:void 0},this.selectionHandler.generateClickEvent("controlNodeDragEnd",e,r),this.body.emitter.emit("_redraw")}_dragStartEdge(e){const r=this.lastTouch;this.selectionHandler.generateClickEvent("dragStart",e,r,void 0,!0)}_performAddNode(e){const r={id:Ac(),x:e.pointer.canvas.x,y:e.pointer.canvas.y,label:"new"};if(typeof this.options.addNode=="function")if(this.options.addNode.length===2)this.options.addNode(r,n=>{n!=null&&this.inMode==="addNode"&&this.body.data.nodes.getDataSet().add(n),this.showManipulatorToolbar()});else throw this.showManipulatorToolbar(),new Error("The function for add does not support two arguments (data,callback)");else this.body.data.nodes.getDataSet().add(r),this.showManipulatorToolbar()}_performAddEdge(e,r){const n={from:e,to:r};if(typeof this.options.addEdge=="function")if(this.options.addEdge.length===2)this.options.addEdge(n,i=>{i!=null&&this.inMode==="addEdge"&&(this.body.data.edges.getDataSet().add(i),this.selectionHandler.unselectAll(),this.showManipulatorToolbar())});else throw new Error("The function for connect does not support two arguments (data,callback)");else this.body.data.edges.getDataSet().add(n),this.selectionHandler.unselectAll(),this.showManipulatorToolbar()}_performEditEdge(e,r){const n={id:this.edgeBeingEditedId,from:e,to:r,label:this.body.data.edges.get(this.edgeBeingEditedId).label};let i=this.options.editEdge;if(typeof i=="object"&&(i=i.editWithoutDrag),typeof i=="function")if(i.length===2)i(n,s=>{s==null||this.inMode!=="editEdge"?(this.body.edges[n.id].updateEdgeType(),this.body.emitter.emit("_redraw"),this.showManipulatorToolbar()):(this.body.data.edges.getDataSet().update(s),this.selectionHandler.unselectAll(),this.showManipulatorToolbar())});else throw new Error("The function for edit does not support two arguments (data, callback)");else this.body.data.edges.getDataSet().update(n),this.selectionHandler.unselectAll(),this.showManipulatorToolbar()}}const se="string",J="boolean",A="number",xc="array",ve="object",RY="dom",Gbe="any",NO=["arrow","bar","box","circle","crow","curve","diamond","image","inv_curve","inv_triangle","triangle","vee"],CO={borderWidth:{number:A},borderWidthSelected:{number:A,undefined:"undefined"},brokenImage:{string:se,undefined:"undefined"},chosen:{label:{boolean:J,function:"function"},node:{boolean:J,function:"function"},__type__:{object:ve,boolean:J}},color:{border:{string:se},background:{string:se},highlight:{border:{string:se},background:{string:se},__type__:{object:ve,string:se}},hover:{border:{string:se},background:{string:se},__type__:{object:ve,string:se}},__type__:{object:ve,string:se}},opacity:{number:A,undefined:"undefined"},fixed:{x:{boolean:J},y:{boolean:J},__type__:{object:ve,boolean:J}},font:{align:{string:se},color:{string:se},size:{number:A},face:{string:se},background:{string:se},strokeWidth:{number:A},strokeColor:{string:se},vadjust:{number:A},multi:{boolean:J,string:se},bold:{color:{string:se},size:{number:A},face:{string:se},mod:{string:se},vadjust:{number:A},__type__:{object:ve,string:se}},boldital:{color:{string:se},size:{number:A},face:{string:se},mod:{string:se},vadjust:{number:A},__type__:{object:ve,string:se}},ital:{color:{string:se},size:{number:A},face:{string:se},mod:{string:se},vadjust:{number:A},__type__:{object:ve,string:se}},mono:{color:{string:se},size:{number:A},face:{string:se},mod:{string:se},vadjust:{number:A},__type__:{object:ve,string:se}},__type__:{object:ve,string:se}},group:{string:se,number:A,undefined:"undefined"},heightConstraint:{minimum:{number:A},valign:{string:se},__type__:{object:ve,boolean:J,number:A}},hidden:{boolean:J},icon:{face:{string:se},code:{string:se},size:{number:A},color:{string:se},weight:{string:se,number:A},__type__:{object:ve}},id:{string:se,number:A},image:{selected:{string:se,undefined:"undefined"},unselected:{string:se,undefined:"undefined"},__type__:{object:ve,string:se}},imagePadding:{top:{number:A},right:{number:A},bottom:{number:A},left:{number:A},__type__:{object:ve,number:A}},label:{string:se,undefined:"undefined"},labelHighlightBold:{boolean:J},level:{number:A,undefined:"undefined"},margin:{top:{number:A},right:{number:A},bottom:{number:A},left:{number:A},__type__:{object:ve,number:A}},mass:{number:A},physics:{boolean:J},scaling:{min:{number:A},max:{number:A},label:{enabled:{boolean:J},min:{number:A},max:{number:A},maxVisible:{number:A},drawThreshold:{number:A},__type__:{object:ve,boolean:J}},customScalingFunction:{function:"function"},__type__:{object:ve}},shadow:{enabled:{boolean:J},color:{string:se},size:{number:A},x:{number:A},y:{number:A},__type__:{object:ve,boolean:J}},shape:{string:["custom","ellipse","circle","database","box","text","image","circularImage","diamond","dot","star","triangle","triangleDown","square","icon","hexagon"]},ctxRenderer:{function:"function"},shapeProperties:{borderDashes:{boolean:J,array:xc},borderRadius:{number:A},interpolation:{boolean:J},useImageSize:{boolean:J},useBorderWithImage:{boolean:J},coordinateOrigin:{string:["center","top-left"]},__type__:{object:ve}},size:{number:A},title:{string:se,dom:RY,undefined:"undefined"},value:{number:A,undefined:"undefined"},widthConstraint:{minimum:{number:A},maximum:{number:A},__type__:{object:ve,boolean:J,number:A}},x:{number:A},y:{number:A},__type__:{object:ve}},Ybe={configure:{enabled:{boolean:J},filter:{boolean:J,string:se,array:xc,function:"function"},container:{dom:RY},showButton:{boolean:J},__type__:{object:ve,boolean:J,string:se,array:xc,function:"function"}},edges:{arrows:{to:{enabled:{boolean:J},scaleFactor:{number:A},type:{string:NO},imageHeight:{number:A},imageWidth:{number:A},src:{string:se},__type__:{object:ve,boolean:J}},middle:{enabled:{boolean:J},scaleFactor:{number:A},type:{string:NO},imageWidth:{number:A},imageHeight:{number:A},src:{string:se},__type__:{object:ve,boolean:J}},from:{enabled:{boolean:J},scaleFactor:{number:A},type:{string:NO},imageWidth:{number:A},imageHeight:{number:A},src:{string:se},__type__:{object:ve,boolean:J}},__type__:{string:["from","to","middle"],object:ve}},endPointOffset:{from:{number:A},to:{number:A},__type__:{object:ve,number:A}},arrowStrikethrough:{boolean:J},background:{enabled:{boolean:J},color:{string:se},size:{number:A},dashes:{boolean:J,array:xc},__type__:{object:ve,boolean:J}},chosen:{label:{boolean:J,function:"function"},edge:{boolean:J,function:"function"},__type__:{object:ve,boolean:J}},color:{color:{string:se},highlight:{string:se},hover:{string:se},inherit:{string:["from","to","both"],boolean:J},opacity:{number:A},__type__:{object:ve,string:se}},dashes:{boolean:J,array:xc},font:{color:{string:se},size:{number:A},face:{string:se},background:{string:se},strokeWidth:{number:A},strokeColor:{string:se},align:{string:["horizontal","top","middle","bottom"]},vadjust:{number:A},multi:{boolean:J,string:se},bold:{color:{string:se},size:{number:A},face:{string:se},mod:{string:se},vadjust:{number:A},__type__:{object:ve,string:se}},boldital:{color:{string:se},size:{number:A},face:{string:se},mod:{string:se},vadjust:{number:A},__type__:{object:ve,string:se}},ital:{color:{string:se},size:{number:A},face:{string:se},mod:{string:se},vadjust:{number:A},__type__:{object:ve,string:se}},mono:{color:{string:se},size:{number:A},face:{string:se},mod:{string:se},vadjust:{number:A},__type__:{object:ve,string:se}},__type__:{object:ve,string:se}},hidden:{boolean:J},hoverWidth:{function:"function",number:A},label:{string:se,undefined:"undefined"},labelHighlightBold:{boolean:J},length:{number:A,undefined:"undefined"},physics:{boolean:J},scaling:{min:{number:A},max:{number:A},label:{enabled:{boolean:J},min:{number:A},max:{number:A},maxVisible:{number:A},drawThreshold:{number:A},__type__:{object:ve,boolean:J}},customScalingFunction:{function:"function"},__type__:{object:ve}},selectionWidth:{function:"function",number:A},selfReferenceSize:{number:A},selfReference:{size:{number:A},angle:{number:A},renderBehindTheNode:{boolean:J},__type__:{object:ve}},shadow:{enabled:{boolean:J},color:{string:se},size:{number:A},x:{number:A},y:{number:A},__type__:{object:ve,boolean:J}},smooth:{enabled:{boolean:J},type:{string:["dynamic","continuous","discrete","diagonalCross","straightCross","horizontal","vertical","curvedCW","curvedCCW","cubicBezier"]},roundness:{number:A},forceDirection:{string:["horizontal","vertical","none"],boolean:J},__type__:{object:ve,boolean:J}},title:{string:se,undefined:"undefined"},width:{number:A},widthConstraint:{maximum:{number:A},__type__:{object:ve,boolean:J,number:A}},value:{number:A,undefined:"undefined"},__type__:{object:ve}},groups:{useDefaultGroups:{boolean:J},__any__:CO,__type__:{object:ve}},interaction:{dragNodes:{boolean:J},dragView:{boolean:J},hideEdgesOnDrag:{boolean:J},hideEdgesOnZoom:{boolean:J},hideNodesOnDrag:{boolean:J},hover:{boolean:J},keyboard:{enabled:{boolean:J},speed:{x:{number:A},y:{number:A},zoom:{number:A},__type__:{object:ve}},bindToWindow:{boolean:J},autoFocus:{boolean:J},__type__:{object:ve,boolean:J}},multiselect:{boolean:J},navigationButtons:{boolean:J},selectable:{boolean:J},selectConnectedEdges:{boolean:J},hoverConnectedEdges:{boolean:J},tooltipDelay:{number:A},zoomView:{boolean:J},zoomSpeed:{number:A},__type__:{object:ve}},layout:{randomSeed:{undefined:"undefined",number:A,string:se},improvedLayout:{boolean:J},clusterThreshold:{number:A},hierarchical:{enabled:{boolean:J},levelSeparation:{number:A},nodeSpacing:{number:A},treeSpacing:{number:A},blockShifting:{boolean:J},edgeMinimization:{boolean:J},parentCentralization:{boolean:J},direction:{string:["UD","DU","LR","RL"]},sortMethod:{string:["hubsize","directed"]},shakeTowards:{string:["leaves","roots"]},__type__:{object:ve,boolean:J}},__type__:{object:ve}},manipulation:{enabled:{boolean:J},initiallyActive:{boolean:J},addNode:{boolean:J,function:"function"},addEdge:{boolean:J,function:"function"},editNode:{function:"function"},editEdge:{editWithoutDrag:{function:"function"},__type__:{object:ve,boolean:J,function:"function"}},deleteNode:{boolean:J,function:"function"},deleteEdge:{boolean:J,function:"function"},controlNodeStyle:CO,__type__:{object:ve,boolean:J}},nodes:CO,physics:{enabled:{boolean:J},barnesHut:{theta:{number:A},gravitationalConstant:{number:A},centralGravity:{number:A},springLength:{number:A},springConstant:{number:A},damping:{number:A},avoidOverlap:{number:A},__type__:{object:ve}},forceAtlas2Based:{theta:{number:A},gravitationalConstant:{number:A},centralGravity:{number:A},springLength:{number:A},springConstant:{number:A},damping:{number:A},avoidOverlap:{number:A},__type__:{object:ve}},repulsion:{centralGravity:{number:A},springLength:{number:A},springConstant:{number:A},nodeDistance:{number:A},damping:{number:A},__type__:{object:ve}},hierarchicalRepulsion:{centralGravity:{number:A},springLength:{number:A},springConstant:{number:A},nodeDistance:{number:A},damping:{number:A},avoidOverlap:{number:A},__type__:{object:ve}},maxVelocity:{number:A},minVelocity:{number:A},solver:{string:["barnesHut","repulsion","hierarchicalRepulsion","forceAtlas2Based"]},stabilization:{enabled:{boolean:J},iterations:{number:A},updateInterval:{number:A},onlyDynamicEdges:{boolean:J},fit:{boolean:J},__type__:{object:ve,boolean:J}},timestep:{number:A},adaptiveTimestep:{boolean:J},wind:{x:{number:A},y:{number:A},__type__:{object:ve}},__type__:{object:ve,boolean:J}},autoResize:{boolean:J},clickToUse:{boolean:J},locale:{string:se},locales:{__any__:{any:Gbe},__type__:{object:ve}},height:{string:se},width:{string:se},__type__:{object:ve}},jY={nodes:{borderWidth:[1,0,10,1],borderWidthSelected:[2,0,10,1],color:{border:["color","#2B7CE9"],background:["color","#97C2FC"],highlight:{border:["color","#2B7CE9"],background:["color","#D2E5FF"]},hover:{border:["color","#2B7CE9"],background:["color","#D2E5FF"]}},opacity:[0,0,1,.1],fixed:{x:!1,y:!1},font:{color:["color","#343434"],size:[14,0,100,1],face:["arial","verdana","tahoma"],background:["color","none"],strokeWidth:[0,0,50,1],strokeColor:["color","#ffffff"]},hidden:!1,labelHighlightBold:!0,physics:!0,scaling:{min:[10,0,200,1],max:[30,0,200,1],label:{enabled:!1,min:[14,0,200,1],max:[30,0,200,1],maxVisible:[30,0,200,1],drawThreshold:[5,0,20,1]}},shadow:{enabled:!1,color:"rgba(0,0,0,0.5)",size:[10,0,20,1],x:[5,-30,30,1],y:[5,-30,30,1]},shape:["ellipse","box","circle","database","diamond","dot","square","star","text","triangle","triangleDown","hexagon"],shapeProperties:{borderDashes:!1,borderRadius:[6,0,20,1],interpolation:!0,useImageSize:!1},size:[25,0,200,1]},edges:{arrows:{to:{enabled:!1,scaleFactor:[1,0,3,.05],type:"arrow"},middle:{enabled:!1,scaleFactor:[1,0,3,.05],type:"arrow"},from:{enabled:!1,scaleFactor:[1,0,3,.05],type:"arrow"}},endPointOffset:{from:[0,-10,10,1],to:[0,-10,10,1]},arrowStrikethrough:!0,color:{color:["color","#848484"],highlight:["color","#848484"],hover:["color","#848484"],inherit:["from","to","both",!0,!1],opacity:[1,0,1,.05]},dashes:!1,font:{color:["color","#343434"],size:[14,0,100,1],face:["arial","verdana","tahoma"],background:["color","none"],strokeWidth:[2,0,50,1],strokeColor:["color","#ffffff"],align:["horizontal","top","middle","bottom"]},hidden:!1,hoverWidth:[1.5,0,5,.1],labelHighlightBold:!0,physics:!0,scaling:{min:[1,0,100,1],max:[15,0,100,1],label:{enabled:!0,min:[14,0,200,1],max:[30,0,200,1],maxVisible:[30,0,200,1],drawThreshold:[5,0,20,1]}},selectionWidth:[1.5,0,5,.1],selfReferenceSize:[20,0,200,1],selfReference:{size:[20,0,200,1],angle:[Math.PI/2,-6*Math.PI,6*Math.PI,Math.PI/8],renderBehindTheNode:!0},shadow:{enabled:!1,color:"rgba(0,0,0,0.5)",size:[10,0,20,1],x:[5,-30,30,1],y:[5,-30,30,1]},smooth:{enabled:!0,type:["dynamic","continuous","discrete","diagonalCross","straightCross","horizontal","vertical","curvedCW","curvedCCW","cubicBezier"],forceDirection:["horizontal","vertical","none"],roundness:[.5,0,1,.05]},width:[1,0,30,1]},layout:{hierarchical:{enabled:!1,levelSeparation:[150,20,500,5],nodeSpacing:[100,20,500,5],treeSpacing:[200,20,500,5],blockShifting:!0,edgeMinimization:!0,parentCentralization:!0,direction:["UD","DU","LR","RL"],sortMethod:["hubsize","directed"],shakeTowards:["leaves","roots"]}},interaction:{dragNodes:!0,dragView:!0,hideEdgesOnDrag:!1,hideEdgesOnZoom:!1,hideNodesOnDrag:!1,hover:!1,keyboard:{enabled:!1,speed:{x:[10,0,40,1],y:[10,0,40,1],zoom:[.02,0,.1,.005]},bindToWindow:!0,autoFocus:!0},multiselect:!1,navigationButtons:!1,selectable:!0,selectConnectedEdges:!0,hoverConnectedEdges:!0,tooltipDelay:[300,0,1e3,25],zoomView:!0,zoomSpeed:[1,.1,2,.1]},manipulation:{enabled:!1,initiallyActive:!1},physics:{enabled:!0,barnesHut:{theta:[.5,.1,1,.05],gravitationalConstant:[-2e3,-3e4,0,50],centralGravity:[.3,0,10,.05],springLength:[95,0,500,5],springConstant:[.04,0,1.2,.005],damping:[.09,0,1,.01],avoidOverlap:[0,0,1,.01]},forceAtlas2Based:{theta:[.5,.1,1,.05],gravitationalConstant:[-50,-500,0,1],centralGravity:[.01,0,1,.005],springLength:[95,0,500,5],springConstant:[.08,0,1.2,.005],damping:[.4,0,1,.01],avoidOverlap:[0,0,1,.01]},repulsion:{centralGravity:[.2,0,10,.05],springLength:[200,0,500,5],springConstant:[.05,0,1.2,.005],nodeDistance:[100,0,500,5],damping:[.09,0,1,.01]},hierarchicalRepulsion:{centralGravity:[.2,0,10,.05],springLength:[100,0,500,5],springConstant:[.01,0,1.2,.005],nodeDistance:[120,0,500,5],damping:[.09,0,1,.01],avoidOverlap:[0,0,1,.01]},maxVelocity:[50,0,150,1],minVelocity:[.1,.01,.5,.01],solver:["barnesHut","forceAtlas2Based","repulsion","hierarchicalRepulsion"],timestep:[.5,.01,1,.01],wind:{x:[0,-10,10,.1],y:[0,-10,10,.1]}}},Qbe=(t,e,r)=>{var n;return!!(Zs(t).call(t,"physics")&&Zs(n=jY.physics.solver).call(n,e)&&r.physics.solver!==e&&e!=="wind")};class Xbe{constructor(){}getDistances(e,r,n){const i={},s=e.edges;for(let o=0;o<r.length;o++){const l=r[o],u={};i[l]=u;for(let d=0;d<r.length;d++)u[r[d]]=o==d?0:1e9}for(let o=0;o<n.length;o++){const l=s[n[o]];l.connected===!0&&i[l.fromId]!==void 0&&i[l.toId]!==void 0&&(i[l.fromId][l.toId]=1,i[l.toId][l.fromId]=1)}const a=r.length;for(let o=0;o<a;o++){const l=r[o],u=i[l];for(let d=0;d<a-1;d++){const h=r[d],f=i[h];for(let p=d+1;p<a;p++){const m=r[p],y=i[m],b=Math.min(f[m],f[l]+u[m]);f[m]=b,y[h]=b}}}return i}}class Jbe{constructor(e,r,n){this.body=e,this.springLength=r,this.springConstant=n,this.distanceSolver=new Xbe}setOptions(e){e&&(e.springLength&&(this.springLength=e.springLength),e.springConstant&&(this.springConstant=e.springConstant))}solve(e,r){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;const i=this.distanceSolver.getDistances(this.body,e,r);this._createL_matrix(i),this._createK_matrix(i),this._createE_matrix();const s=.01,a=1;let o=0;const l=Math.max(1e3,Math.min(10*this.body.nodeIndices.length,6e3)),u=5;let d=1e9,h=0,f=0,p=0,m=0,y=0;for(;d>s&&o<l;)for(o+=1,[h,d,f,p]=this._getHighestEnergyNode(n),m=d,y=0;m>a&&y<u;)y+=1,this._moveNode(h,f,p),[m,f,p]=this._getEnergy(h)}_getHighestEnergyNode(e){const r=this.body.nodeIndices,n=this.body.nodes;let i=0,s=r[0],a=0,o=0;for(let l=0;l<r.length;l++){const u=r[l];if(n[u].predefinedPosition!==!0||n[u].isCluster===!0&&e===!0||n[u].options.fixed.x!==!0||n[u].options.fixed.y!==!0){const[d,h,f]=this._getEnergy(u);i<d&&(i=d,s=u,a=h,o=f)}}return[s,i,a,o]}_getEnergy(e){const[r,n]=this.E_sums[e];return[Math.sqrt(r**2+n**2),r,n]}_moveNode(e,r,n){const i=this.body.nodeIndices,s=this.body.nodes;let a=0,o=0,l=0;const u=s[e].x,d=s[e].y,h=this.K_matrix[e],f=this.L_matrix[e];for(let w=0;w<i.length;w++){const _=i[w];if(_!==e){const E=s[_].x,O=s[_].y,S=h[_],P=f[_],N=1/((u-E)**2+(d-O)**2)**1.5;a+=S*(1-P*(d-O)**2*N),o+=S*(P*(u-E)*(d-O)*N),l+=S*(1-P*(u-E)**2*N)}}const p=a,m=o,y=r,b=l,g=n,v=(y/p+g/m)/(m/p-b/m),x=-(m*v+y)/p;s[e].x+=x,s[e].y+=v,this._updateE_matrix(e)}_createL_matrix(e){const r=this.body.nodeIndices,n=this.springLength;this.L_matrix=[];for(let i=0;i<r.length;i++){this.L_matrix[r[i]]={};for(let s=0;s<r.length;s++)this.L_matrix[r[i]][r[s]]=n*e[r[i]][r[s]]}}_createK_matrix(e){const r=this.body.nodeIndices,n=this.springConstant;this.K_matrix=[];for(let i=0;i<r.length;i++){this.K_matrix[r[i]]={};for(let s=0;s<r.length;s++)this.K_matrix[r[i]][r[s]]=n*e[r[i]][r[s]]**-2}}_createE_matrix(){const e=this.body.nodeIndices,r=this.body.nodes;this.E_matrix={},this.E_sums={};for(let n=0;n<e.length;n++)this.E_matrix[e[n]]=[];for(let n=0;n<e.length;n++){const i=e[n],s=r[i].x,a=r[i].y;let o=0,l=0;for(let u=n;u<e.length;u++){const d=e[u];if(d!==i){const h=r[d].x,f=r[d].y,p=1/Math.sqrt((s-h)**2+(a-f)**2);this.E_matrix[i][u]=[this.K_matrix[i][d]*(s-h-this.L_matrix[i][d]*(s-h)*p),this.K_matrix[i][d]*(a-f-this.L_matrix[i][d]*(a-f)*p)],this.E_matrix[d][n]=this.E_matrix[i][u],o+=this.E_matrix[i][u][0],l+=this.E_matrix[i][u][1]}}this.E_sums[i]=[o,l]}}_updateE_matrix(e){const r=this.body.nodeIndices,n=this.body.nodes,i=this.E_matrix[e],s=this.K_matrix[e],a=this.L_matrix[e],o=n[e].x,l=n[e].y;let u=0,d=0;for(let h=0;h<r.length;h++){const f=r[h];if(f!==e){const p=i[h],m=p[0],y=p[1],b=n[f].x,g=n[f].y,v=1/Math.sqrt((o-b)**2+(l-g)**2),x=s[f]*(o-b-a[f]*(o-b)*v),w=s[f]*(l-g-a[f]*(l-g)*v);i[h]=[x,w],u+=x,d+=w;const _=this.E_sums[f];_[0]+=x-m,_[1]+=w-y}}this.E_sums[e]=[u,d]}}function fe(t,e,r){var n,i,s,a;if(!(this instanceof fe))throw new SyntaxError("Constructor must be called with the new operator");this.options={},this.defaultOptions={locale:"en",locales:_me,clickToUse:!1},kt(this.options,this.defaultOptions),this.body={container:t,nodes:{},nodeIndices:[],edges:{},edgeIndices:[],emitter:{on:ee(n=this.on).call(n,this),off:ee(i=this.off).call(i,this),emit:ee(s=this.emit).call(s,this),once:ee(a=this.once).call(a,this)},eventListeners:{onTap:function(){},onTouch:function(){},onDoubleTap:function(){},onHold:function(){},onDragStart:function(){},onDrag:function(){},onDragEnd:function(){},onMouseWheel:function(){},onPinch:function(){},onMouseMove:function(){},onRelease:function(){},onContext:function(){}},data:{nodes:null,edges:null},functions:{createNode:function(){},createEdge:function(){},getPointer:function(){}},modules:{},view:{scale:1,translation:{x:0,y:0}},selectionBox:{show:!1,position:{start:{x:0,y:0},end:{x:0,y:0}}}},this.bindEventListeners(),this.images=new Ome(()=>this.body.emitter.emit("_requestRedraw")),this.groups=new Lme,this.canvas=new kye(this.body),this.selectionHandler=new mbe(this.body,this.canvas),this.interactionHandler=new Aye(this.body,this.canvas,this.selectionHandler),this.view=new qye(this.body,this.canvas),this.renderer=new Tye(this.body,this.canvas),this.physics=new xye(this.body),this.layoutEngine=new Hbe(this.body),this.clustering=new Cye(this.body),this.manipulation=new Kbe(this.body,this.canvas,this.selectionHandler,this.interactionHandler),this.nodesHandler=new Yge(this.body,this.images,this.groups,this.layoutEngine),this.edgesHandler=new mye(this.body,this.images,this.groups),this.body.modules.kamadaKawai=new Jbe(this.body,150,.05),this.body.modules.clustering=this.clustering,this.canvas._create(),this.setOptions(r),this.setData(e)}lG(fe.prototype);fe.prototype.setOptions=function(t){if(t===null&&(t=void 0),t!==void 0){if(Zpe.validate(t,Ybe)===!0&&console.error("%cErrors have been found in the supplied options object.",nY),Ku(["locale","locales","clickToUse"],this.options,t),t.locale!==void 0&&(t.locale=Sme(t.locales||this.options.locales,t.locale)),t=this.layoutEngine.setOptions(t.layout,t),this.canvas.setOptions(t),this.groups.setOptions(t.groups),this.nodesHandler.setOptions(t.nodes),this.edgesHandler.setOptions(t.edges),this.physics.setOptions(t.physics),this.manipulation.setOptions(t.manipulation,t,this.options),this.interactionHandler.setOptions(t.interaction),this.renderer.setOptions(t.interaction),this.selectionHandler.setOptions(t.interaction),t.groups!==void 0&&this.body.emitter.emit("refreshNodes"),"configure"in t&&(this.configurator||(this.configurator=new Xpe(this,this.body.container,jY,this.canvas.pixelRatio,Qbe)),this.configurator.setOptions(t.configure)),this.configurator&&this.configurator.options.enabled===!0){const n={nodes:{},edges:{},layout:{},interaction:{},manipulation:{},physics:{},global:{}};tt(n.nodes,this.nodesHandler.options),tt(n.edges,this.edgesHandler.options),tt(n.layout,this.layoutEngine.options),tt(n.interaction,this.selectionHandler.options),tt(n.interaction,this.renderer.options),tt(n.interaction,this.interactionHandler.options),tt(n.manipulation,this.manipulation.options),tt(n.physics,this.physics.options),tt(n.global,this.canvas.options),tt(n.global,this.options),this.configurator.setModuleOptions(n)}t.clickToUse!==void 0?t.clickToUse===!0?this.activator===void 0&&(this.activator=new Qpe(this.canvas.frame),this.activator.on("change",()=>{this.body.emitter.emit("activate")})):(this.activator!==void 0&&(this.activator.destroy(),delete this.activator),this.body.emitter.emit("activate")):this.body.emitter.emit("activate"),this.canvas.setSize(),this.body.emitter.emit("startSimulation")}};fe.prototype._updateVisibleIndices=function(){const t=this.body.nodes,e=this.body.edges;this.body.nodeIndices=[],this.body.edgeIndices=[];for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&!this.clustering._isClusteredNode(r)&&t[r].options.hidden===!1&&this.body.nodeIndices.push(t[r].id);for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)){const n=e[r],i=t[n.fromId],s=t[n.toId],a=i!==void 0&&s!==void 0;!this.clustering._isClusteredEdge(r)&&n.options.hidden===!1&&a&&i.options.hidden===!1&&s.options.hidden===!1&&this.body.edgeIndices.push(n.id)}};fe.prototype.bindEventListeners=function(){this.body.emitter.on("_dataChanged",()=>{this.edgesHandler._updateState(),this.body.emitter.emit("_dataUpdated")}),this.body.emitter.on("_dataUpdated",()=>{this.clustering._updateState(),this._updateVisibleIndices(),this._updateValueRange(this.body.nodes),this._updateValueRange(this.body.edges),this.body.emitter.emit("startSimulation"),this.body.emitter.emit("_requestRedraw")})};fe.prototype.setData=function(t){if(this.body.emitter.emit("resetPhysics"),this.body.emitter.emit("_resetData"),this.selectionHandler.unselectAll(),t&&t.dot&&(t.nodes||t.edges))throw new SyntaxError('Data must contain either parameter "dot" or  parameter pair "nodes" and "edges", but not both.');if(this.setOptions(t&&t.options),t&&t.dot){console.warn("The dot property has been deprecated. Please use the static convertDot method to convert DOT into vis.network format and use the normal data format with nodes and edges. This converter is used like this: var data = vis.network.convertDot(dotString);");const e=ume(t.dot);this.setData(e);return}else if(t&&t.gephi){console.warn("The gephi property has been deprecated. Please use the static convertGephi method to convert gephi into vis.network format and use the normal data format with nodes and edges. This converter is used like this: var data = vis.network.convertGephi(gephiJson);");const e=cme(t.gephi);this.setData(e);return}else this.nodesHandler.setData(t&&t.nodes,!0),this.edgesHandler.setData(t&&t.edges,!0);this.body.emitter.emit("_dataChanged"),this.body.emitter.emit("_dataLoaded"),this.body.emitter.emit("initPhysics")};fe.prototype.destroy=function(){this.body.emitter.emit("destroy"),this.body.emitter.off(),this.off(),delete this.groups,delete this.canvas,delete this.selectionHandler,delete this.interactionHandler,delete this.view,delete this.renderer,delete this.physics,delete this.layoutEngine,delete this.clustering,delete this.manipulation,delete this.nodesHandler,delete this.edgesHandler,delete this.configurator,delete this.images;for(const t in this.body.nodes)Object.prototype.hasOwnProperty.call(this.body.nodes,t)&&delete this.body.nodes[t];for(const t in this.body.edges)Object.prototype.hasOwnProperty.call(this.body.edges,t)&&delete this.body.edges[t];_s(this.body.container)};fe.prototype._updateValueRange=function(t){let e,r,n,i=0;for(e in t)if(Object.prototype.hasOwnProperty.call(t,e)){const s=t[e].getValue();s!==void 0&&(r=r===void 0?s:Math.min(s,r),n=n===void 0?s:Math.max(s,n),i+=s)}if(r!==void 0&&n!==void 0)for(e in t)Object.prototype.hasOwnProperty.call(t,e)&&t[e].setValueRange(r,n,i)};fe.prototype.isActive=function(){return!this.activator||this.activator.active};fe.prototype.setSize=function(){return this.canvas.setSize.apply(this.canvas,arguments)};fe.prototype.canvasToDOM=function(){return this.canvas.canvasToDOM.apply(this.canvas,arguments)};fe.prototype.DOMtoCanvas=function(){return this.canvas.DOMtoCanvas.apply(this.canvas,arguments)};fe.prototype.findNode=function(){return this.clustering.findNode.apply(this.clustering,arguments)};fe.prototype.isCluster=function(){return this.clustering.isCluster.apply(this.clustering,arguments)};fe.prototype.openCluster=function(){return this.clustering.openCluster.apply(this.clustering,arguments)};fe.prototype.cluster=function(){return this.clustering.cluster.apply(this.clustering,arguments)};fe.prototype.getNodesInCluster=function(){return this.clustering.getNodesInCluster.apply(this.clustering,arguments)};fe.prototype.clusterByConnection=function(){return this.clustering.clusterByConnection.apply(this.clustering,arguments)};fe.prototype.clusterByHubsize=function(){return this.clustering.clusterByHubsize.apply(this.clustering,arguments)};fe.prototype.updateClusteredNode=function(){return this.clustering.updateClusteredNode.apply(this.clustering,arguments)};fe.prototype.getClusteredEdges=function(){return this.clustering.getClusteredEdges.apply(this.clustering,arguments)};fe.prototype.getBaseEdge=function(){return this.clustering.getBaseEdge.apply(this.clustering,arguments)};fe.prototype.getBaseEdges=function(){return this.clustering.getBaseEdges.apply(this.clustering,arguments)};fe.prototype.updateEdge=function(){return this.clustering.updateEdge.apply(this.clustering,arguments)};fe.prototype.clusterOutliers=function(){return this.clustering.clusterOutliers.apply(this.clustering,arguments)};fe.prototype.getSeed=function(){return this.layoutEngine.getSeed.apply(this.layoutEngine,arguments)};fe.prototype.enableEditMode=function(){return this.manipulation.enableEditMode.apply(this.manipulation,arguments)};fe.prototype.disableEditMode=function(){return this.manipulation.disableEditMode.apply(this.manipulation,arguments)};fe.prototype.addNodeMode=function(){return this.manipulation.addNodeMode.apply(this.manipulation,arguments)};fe.prototype.editNode=function(){return this.manipulation.editNode.apply(this.manipulation,arguments)};fe.prototype.editNodeMode=function(){return console.warn("Deprecated: Please use editNode instead of editNodeMode."),this.manipulation.editNode.apply(this.manipulation,arguments)};fe.prototype.addEdgeMode=function(){return this.manipulation.addEdgeMode.apply(this.manipulation,arguments)};fe.prototype.editEdgeMode=function(){return this.manipulation.editEdgeMode.apply(this.manipulation,arguments)};fe.prototype.deleteSelected=function(){return this.manipulation.deleteSelected.apply(this.manipulation,arguments)};fe.prototype.getPositions=function(){return this.nodesHandler.getPositions.apply(this.nodesHandler,arguments)};fe.prototype.getPosition=function(){return this.nodesHandler.getPosition.apply(this.nodesHandler,arguments)};fe.prototype.storePositions=function(){return this.nodesHandler.storePositions.apply(this.nodesHandler,arguments)};fe.prototype.moveNode=function(){return this.nodesHandler.moveNode.apply(this.nodesHandler,arguments)};fe.prototype.getBoundingBox=function(){return this.nodesHandler.getBoundingBox.apply(this.nodesHandler,arguments)};fe.prototype.getConnectedNodes=function(t){return this.body.nodes[t]!==void 0?this.nodesHandler.getConnectedNodes.apply(this.nodesHandler,arguments):this.edgesHandler.getConnectedNodes.apply(this.edgesHandler,arguments)};fe.prototype.getConnectedEdges=function(){return this.nodesHandler.getConnectedEdges.apply(this.nodesHandler,arguments)};fe.prototype.startSimulation=function(){return this.physics.startSimulation.apply(this.physics,arguments)};fe.prototype.stopSimulation=function(){return this.physics.stopSimulation.apply(this.physics,arguments)};fe.prototype.stabilize=function(){return this.physics.stabilize.apply(this.physics,arguments)};fe.prototype.getSelection=function(){return this.selectionHandler.getSelection.apply(this.selectionHandler,arguments)};fe.prototype.setSelection=function(){return this.selectionHandler.setSelection.apply(this.selectionHandler,arguments)};fe.prototype.getSelectedNodes=function(){return this.selectionHandler.getSelectedNodeIds.apply(this.selectionHandler,arguments)};fe.prototype.getSelectedEdges=function(){return this.selectionHandler.getSelectedEdgeIds.apply(this.selectionHandler,arguments)};fe.prototype.getNodeAt=function(){const t=this.selectionHandler.getNodeAt.apply(this.selectionHandler,arguments);return t!==void 0&&t.id!==void 0?t.id:t};fe.prototype.getEdgeAt=function(){const t=this.selectionHandler.getEdgeAt.apply(this.selectionHandler,arguments);return t!==void 0&&t.id!==void 0?t.id:t};fe.prototype.selectNodes=function(){return this.selectionHandler.selectNodes.apply(this.selectionHandler,arguments)};fe.prototype.selectEdges=function(){return this.selectionHandler.selectEdges.apply(this.selectionHandler,arguments)};fe.prototype.unselectAll=function(){this.selectionHandler.unselectAll.apply(this.selectionHandler,arguments),this.selectionHandler.commitWithoutEmitting.apply(this.selectionHandler),this.redraw()};fe.prototype.redraw=function(){return this.renderer.redraw.apply(this.renderer,arguments)};fe.prototype.getScale=function(){return this.view.getScale.apply(this.view,arguments)};fe.prototype.getViewPosition=function(){return this.view.getViewPosition.apply(this.view,arguments)};fe.prototype.fit=function(){return this.view.fit.apply(this.view,arguments)};fe.prototype.moveTo=function(){return this.view.moveTo.apply(this.view,arguments)};fe.prototype.focus=function(){return this.view.focus.apply(this.view,arguments)};fe.prototype.releaseNode=function(){return this.view.releaseNode.apply(this.view,arguments)};fe.prototype.getOptionsFromConfigurator=function(){let t={};return this.configurator&&(t=this.configurator.getOptions.apply(this.configurator)),t};function Zbe({graphData:t,startPersonId:e,onNodeClick:r}){const n=$.useRef(null),i=$.useRef(null),s=rn(),a=$.useCallback(d=>{r?r(d):s(`/people/${d}`)},[r,s]);$.useEffect(()=>{if(!n.current||!t||!t.nodes||t.nodes.length===0)return;const d=new au(t.nodes),h=new au(t.edges),f={layout:{hierarchical:{enabled:!0,direction:"UD",sortMethod:"directed",levelSeparation:180,nodeSpacing:200,treeSpacing:250,blockShifting:!0,edgeMinimization:!0,parentCentralization:!0}},nodes:{shape:"box",margin:10,font:{size:14,face:'system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif',color:"#1f2937"},color:{border:"#d1d5db",background:"#ffffff",highlight:{border:"#f59e0b",background:"#fef3c7"},hover:{border:"#9ca3af",background:"#f9fafb"}},borderWidth:2,borderWidthSelected:3,shadow:{enabled:!0,color:"rgba(0,0,0,0.1)",size:5,x:0,y:2}},edges:{color:{color:"#9ca3af",highlight:"#6b7280",hover:"#6b7280"},width:2,smooth:{enabled:!0,type:"cubicBezier",forceDirection:"vertical",roundness:.4},arrows:{to:{enabled:!1}}},physics:{enabled:!1},interaction:{hover:!0,tooltipDelay:200,zoomView:!0,dragView:!0,dragNodes:!1,navigationButtons:!1,keyboard:{enabled:!0,bindToWindow:!1}}},p=new fe(n.current,{nodes:d,edges:h},f);return i.current=p,p.on("click",m=>{if(m.nodes.length>0){const y=m.nodes[0];a(y)}}),p.on("doubleClick",m=>{m.nodes.length>0&&p.focus(m.nodes[0],{scale:1,animation:{duration:500,easingFunction:"easeInOutQuad"}})}),p.once("stabilized",()=>{const m=t.edges.filter(y=>y.dashes).map(y=>[y.from,y.to]);if(m.length>0){const y=p.getPositions(),b={},g=new Set;m.forEach(([v,x])=>{if(g.has(v)||g.has(x))return;const w=y[v],_=y[x];if(!w||!_)return;const E=(w.x+_.x)/2;b[v]={x:E-60,y:w.y},b[x]={x:E+60,y:_.y},g.add(v),g.add(x)}),Object.entries(b).forEach(([v,x])=>{p.moveNode(v,x.x,x.y)})}setTimeout(()=>{p.fit({animation:{duration:500,easingFunction:"easeInOutQuad"}})},50)}),setTimeout(()=>{e&&p&&p.focus(e,{scale:.8,animation:{duration:500,easingFunction:"easeInOutQuad"}})},100),()=>{p&&p.destroy()}},[t,e,a]);const o=()=>{if(i.current){const d=i.current.getScale();i.current.moveTo({scale:d*1.3,animation:{duration:300,easingFunction:"easeInOutQuad"}})}},l=()=>{if(i.current){const d=i.current.getScale();i.current.moveTo({scale:d/1.3,animation:{duration:300,easingFunction:"easeInOutQuad"}})}},u=()=>{i.current&&i.current.fit({animation:{duration:500,easingFunction:"easeInOutQuad"}})};return!t||!t.nodes||t.nodes.length===0?c.jsx("div",{className:"flex items-center justify-center h-96",children:c.jsx("p",{className:"text-gray-500",children:"No family tree data available"})}):c.jsxs("div",{className:"relative w-full h-full",children:[c.jsxs("div",{className:"absolute top-4 right-4 z-10 flex gap-2 bg-white rounded-lg shadow-lg p-2",children:[c.jsx("button",{onClick:o,className:"p-2 hover:bg-gray-100 rounded",title:"Zoom In",children:c.jsx(Vte,{className:"w-4 h-4"})}),c.jsx("button",{onClick:l,className:"p-2 hover:bg-gray-100 rounded",title:"Zoom Out",children:c.jsx(Hte,{className:"w-4 h-4"})}),c.jsx("button",{onClick:u,className:"p-2 hover:bg-gray-100 rounded",title:"Fit All",children:c.jsx(cK,{className:"w-4 h-4"})})]}),c.jsx("div",{className:"absolute bottom-4 left-4 z-10 text-xs text-gray-500 bg-white/80 px-2 py-1 rounded",children:"Click a person to view details  Double-click to center  Scroll to zoom"}),c.jsx("div",{ref:n,className:"w-full h-full min-h-[600px]",style:{background:"#fafafa"}})]})}const e0e=["parent","child","spouse","lover","partner"];function t0e(t){return e0e.includes(t==null?void 0:t.toLowerCase())}function r0e(t){return(t==null?void 0:t.toLowerCase())==="parent"}function n0e(t){return(t==null?void 0:t.toLowerCase())==="child"}function i0e(t){const e=t==null?void 0:t.toLowerCase();return e==="spouse"||e==="lover"||e==="partner"}function s0e(t,e,r){var d;const n=new Map,i=[],s=new Set,a=new Map;e.forEach(h=>a.set(h.id,h));const o=[{personId:t,depth:0}];s.add(t);function l(h,f){var v,x,w,_;let p=h.name||((v=h.title)==null?void 0:v.rendered)||h.title||`Person ${f}`;if(p&&typeof p=="string"&&typeof document<"u"){const E=document.createElement("textarea");E.innerHTML=p,p=E.value}let m=null,y=((x=h.acf)==null?void 0:x.birth_date)||null;if(y){const E=new Date(y);isNaN(E.getTime())||(m=Math.floor((new Date-E)/(365.25*24*60*60*1e3)))}let b="";switch((w=h.acf)==null?void 0:w.gender){case"male":b="";break;case"female":b="";break;case"non_binary":case"other":case"prefer_not_to_say":b="";break}let g="";if(y)try{const E=new Date(y);if(!isNaN(E.getTime())){const O=String(E.getDate()).padStart(2,"0"),S=String(E.getMonth()+1).padStart(2,"0"),P=E.getFullYear();g=`${O}-${S}-${P}`}}catch{}return{id:f,name:p,gender:((_=h.acf)==null?void 0:_.gender)||"",genderSymbol:b,photo:h.thumbnail||null,age:m,birthDate:y,formattedBirthDate:g}}const u=a.get(t);for(u&&n.set(t,l(u,t));o.length>0;){const{personId:h,depth:f}=o.shift(),p=r.get(h)||[];for(const m of p){if(m.relationship_type_slug&&!t0e(m.relationship_type_slug))continue;const y=m.related_person;if(!y||!a.has(y))continue;if(!n.has(y)){const x=a.get(y);n.set(y,l(x,y))}const b=`${h}-${y}`,g=`${y}-${h}`;if(!i.some(x=>`${x.from}-${x.to}`===b||`${x.from}-${x.to}`===g)){const x=(d=m.relationship_type_slug)==null?void 0:d.toLowerCase();if(r0e(x))i.push({from:y,to:h,type:"parent-child"});else if(n0e(x))i.push({from:h,to:y,type:"parent-child"});else if(i0e(x)){const[w,_]=h<y?[h,y]:[y,h];i.push({from:w,to:_,type:"spouse"})}}s.has(y)||(s.add(y),o.push({personId:y,depth:f+1}))}}return{nodes:Array.from(n.values()),edges:i}}function a0e(t,e,r={}){const{nodes:n,edges:i}=t;if(n.length===0)return{nodes:[],edges:[]};const s=new Map,a=new Map,o=new Map;n.forEach(b=>{s.set(b.id,[]),a.set(b.id,[]),o.set(b.id,[])}),i.forEach(b=>{var g,v,x,w;b.type==="parent-child"?((g=s.get(b.to))==null||g.push(b.from),(v=a.get(b.from))==null||v.push(b.to)):b.type==="spouse"&&((x=o.get(b.from))==null||x.push(b.to),(w=o.get(b.to))==null||w.push(b.from))});const l=new Map,u=new Set,d=[{id:e,generation:0}];for(l.set(e,0),u.add(e);d.length>0;){const{id:b,generation:g}=d.shift(),v=s.get(b)||[];for(const _ of v)u.has(_)||(u.add(_),l.set(_,g-1),d.push({id:_,generation:g-1}));const x=a.get(b)||[];for(const _ of x)u.has(_)||(u.add(_),l.set(_,g+1),d.push({id:_,generation:g+1}));const w=o.get(b)||[];for(const _ of w)u.has(_)||(u.add(_),l.set(_,g),d.push({id:_,generation:g}))}n.forEach(b=>{l.has(b.id)||l.set(b.id,0)});const h=Math.min(...l.values()),f=new Map;l.forEach((b,g)=>{f.set(g,b-h)});function p(b,g,v=!1){const x=b?b.split(" ").map(O=>O[0]).join("").toUpperCase().slice(0,2):"?";let w,_;v?(w="%23d1d5db",_="%236b7280"):g?(w="%23fef3c7",_="%23b45309"):(w="%23e5e7eb",_="%23374151");const E=`<svg xmlns="http://www.w3.org/2000/svg" width="90" height="90" viewBox="0 0 90 90">
      <circle cx="45" cy="45" r="45" fill="${w}"/>
      <text x="45" y="55" text-anchor="middle" font-family="system-ui, sans-serif" font-size="28" font-weight="500" fill="${_}">${x}</text>
    </svg>`;return"data:image/svg+xml,"+encodeURIComponent(E)}const m=n.map(b=>{const g=f.get(b.id)||0,v=b.id===e,x=r[b.id]||!1;let w=b.name;x&&(w=b.name+" ");let _=[w],E="";b.genderSymbol&&(E+=b.genderSymbol+" "),b.age!==null&&(E+=b.age+" "),b.formattedBirthDate&&(E+=b.formattedBirthDate),E.trim()&&_.push(E.trim());const O=b.photo||p(b.name,v,x);let S="#d1d5db";return v?S="#f59e0b":x&&(S="#9ca3af"),{id:b.id,label:_.join(`
`),level:g,shape:"circularImage",image:O,size:45,font:{size:14,face:"system-ui, -apple-system, sans-serif",vadjust:8,color:x?"#6b7280":"#1f2937"},color:{border:S,background:"#ffffff",highlight:{border:"#f59e0b",background:"#fef3c7"}},borderWidth:v?3:2,data:{...b,isDeceased:x}}}),y=i.map((b,g)=>{const v=b.type==="spouse";return{id:`edge-${g}`,from:b.from,to:b.to,arrows:{to:{enabled:!1}},color:{color:v?"#ec4899":"#9ca3af",highlight:v?"#db2777":"#6b7280"},width:2,dashes:v?[5,5]:!1,smooth:!1,length:v?50:300}});return{nodes:m,edges:y}}function o0e(t){const e=new Map;return t.forEach(r=>{var s;const i=(((s=r.acf)==null?void 0:s.relationships)||[]).map(a=>{var u,d,h,f,p,m;let o="";a.relationship_slug?o=a.relationship_slug.toLowerCase():typeof a.relationship_type=="object"?o=((u=a.relationship_type)==null?void 0:u.slug)||((h=(d=a.relationship_type)==null?void 0:d.name)==null?void 0:h.toLowerCase())||"":typeof a.relationship_type=="string"&&(o=a.relationship_type.toLowerCase());let l=null;return typeof a.related_person=="object"?l=((f=a.related_person)==null?void 0:f.ID)||((p=a.related_person)==null?void 0:p.id)||((m=a.related_person)==null?void 0:m.term_id):(typeof a.related_person=="number"||typeof a.related_person=="string")&&(l=parseInt(a.related_person,10)),{related_person:l,relationship_type:a.relationship_type,relationship_type_slug:o,relationship_name:a.relationship_name||"",relationship_label:a.relationship_label||""}}).filter(a=>a.related_person);e.set(r.id,i)}),e}function l0e(t,e){const r=new Map;e.forEach(n=>{var i;r.set(n.id,n.slug||((i=n.name)==null?void 0:i.toLowerCase()))}),t.forEach(n=>{n.forEach(i=>{if(!i.relationship_type_slug&&i.relationship_type){const s=typeof i.relationship_type=="object"?i.relationship_type.term_id||i.relationship_type.id:i.relationship_type;i.relationship_type_slug=r.get(s)||""}})})}function u0e(){var p,m;const{id:t}=ls(),e=rn(),r=parseInt(t,10),{data:n,isLoading:i}=bu(t),{data:s=[],isLoading:a}=Lp(),{data:o=[]}=ot({queryKey:["relationship-types"],queryFn:async()=>(await Ae.getRelationshipTypes()).data}),l=$.useMemo(()=>s.map(y=>y.id).filter(Boolean),[s]),u=Gf({queries:l.map(y=>({queryKey:["person-dates",y],queryFn:async()=>(await Ht.getPersonDates(y)).data,enabled:!!y,staleTime:5*60*1e3}))}),d=$.useMemo(()=>{const y={};return u.forEach((b,g)=>{if(b.data&&l[g]){const v=l[g],x=b.data.some(w=>{const _=Array.isArray(w.date_type)?w.date_type[0]:w.date_type;return(_==null?void 0:_.toLowerCase())==="died"});y[v]=x}}),y},[u,l]);yn(n?`Family Tree - ${n.name||((p=n.title)==null?void 0:p.rendered)||n.title||"Person"}`:"Family Tree");const h=$.useMemo(()=>{if(!n||!s.length)return null;try{const y=o0e(s);o.length>0&&l0e(y,o);const b=s0e(r,s,y);return!b||b.nodes.length===0?null:a0e(b,r,d)}catch(y){return console.error("Error building family tree:",y),null}},[n,s,o,r,d]),f=y=>{e(`/people/${y}`)};return i||a?c.jsx("div",{className:"flex items-center justify-center h-64",children:c.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"})}):n?c.jsxs("div",{className:"max-w-full mx-auto space-y-6",children:[c.jsx("div",{className:"flex items-center justify-between",children:c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsxs(he,{to:`/people/${t}`,className:"flex items-center text-gray-600 hover:text-gray-900",children:[c.jsx(qn,{className:"w-4 h-4 md:mr-2"}),c.jsx("span",{className:"hidden md:inline",children:"Back to Person"})]}),c.jsxs("h1",{className:"text-2xl font-bold",children:["Family Tree: ",n.name||((m=n.title)==null?void 0:m.rendered)||n.title||`Person ${t}`]})]})}),c.jsx("div",{className:"card p-6",children:c.jsx("div",{className:"w-full",style:{height:"800px"},children:h&&h.nodes&&h.nodes.length>0?c.jsx(Zbe,{graphData:h,startPersonId:r,onNodeClick:f}):c.jsx("div",{className:"flex items-center justify-center h-full",children:c.jsxs("div",{className:"text-center",children:[c.jsx("p",{className:"text-gray-500 mb-2",children:"No family relationships found."}),c.jsx("p",{className:"text-sm text-gray-400",children:"Add parent or child relationships to see the family tree."})]})})})})]}):c.jsxs("div",{className:"card p-6 text-center",children:[c.jsx("p",{className:"text-red-600 mb-4",children:"Failed to load person."}),c.jsx(he,{to:"/people",className:"btn-secondary",children:"Back to People"})]})}function c0e(){const{loginUrl:t,isLoggedIn:e}=OC();return yK(),$.useEffect(()=>{e||(window.location.href=t)},[e,t]),c.jsx("div",{className:"flex items-center justify-center min-h-screen bg-gray-50",children:c.jsxs("div",{className:"text-center",children:[c.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600 mx-auto mb-4"}),c.jsx("p",{className:"text-gray-600",children:"Redirecting to login..."})]})})}function d0e({children:t}){const{data:e,isLoading:r}=ot({queryKey:["current-user"],queryFn:async()=>(await Ht.getCurrentUser()).data});return r?c.jsx("div",{className:"flex items-center justify-center min-h-screen",children:c.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"})}):e!=null&&e.is_admin?t:e&&!e.is_approved?c.jsx("div",{className:"flex items-center justify-center min-h-screen bg-gray-50",children:c.jsx("div",{className:"max-w-md w-full mx-4",children:c.jsxs("div",{className:"card p-8 text-center",children:[c.jsx("div",{className:"flex justify-center mb-4",children:c.jsx("div",{className:"p-3 bg-yellow-100 rounded-full",children:c.jsx(ho,{className:"w-8 h-8 text-yellow-600"})})}),c.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-2",children:"Account Pending Approval"}),c.jsx("p",{className:"text-gray-600 mb-6",children:"Your account is pending approval by an administrator. You will receive an email notification once your account has been approved."}),c.jsx("p",{className:"text-sm text-gray-500",children:"If you have any questions, please contact your administrator."})]})})}):t}function h0e({children:t}){const{isLoggedIn:e,isLoading:r}=OC();return r?c.jsx("div",{className:"flex items-center justify-center min-h-screen",children:c.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"})}):e?c.jsx(d0e,{children:t}):c.jsx(b7,{to:"/login",replace:!0})}function f0e(){return c.jsxs(l2,{children:[c.jsx(Ge,{path:"/login",element:c.jsx(c0e,{})}),c.jsx(Ge,{path:"/*",element:c.jsx(h0e,{children:c.jsx(ere,{children:c.jsxs(l2,{children:[c.jsx(Ge,{path:"/",element:c.jsx(une,{})}),c.jsx(Ge,{path:"/people",element:c.jsx(gne,{})}),c.jsx(Ge,{path:"/people/new",element:c.jsx(dR,{})}),c.jsx(Ge,{path:"/people/:personId/contact/new",element:c.jsx(fR,{})}),c.jsx(Ge,{path:"/people/:personId/contact/:index/edit",element:c.jsx(fR,{})}),c.jsx(Ge,{path:"/people/:personId/work-history/new",element:c.jsx(hR,{})}),c.jsx(Ge,{path:"/people/:personId/work-history/:index/edit",element:c.jsx(hR,{})}),c.jsx(Ge,{path:"/people/:personId/relationship/new",element:c.jsx(pR,{})}),c.jsx(Ge,{path:"/people/:personId/relationship/:index/edit",element:c.jsx(pR,{})}),c.jsx(Ge,{path:"/people/:id/family-tree",element:c.jsx(u0e,{})}),c.jsx(Ge,{path:"/people/:id/edit",element:c.jsx(dR,{})}),c.jsx(Ge,{path:"/people/:id",element:c.jsx(_ne,{})}),c.jsx(Ge,{path:"/companies",element:c.jsx(Kne,{})}),c.jsx(Ge,{path:"/companies/new",element:c.jsx(mR,{})}),c.jsx(Ge,{path:"/companies/:id",element:c.jsx(Gne,{})}),c.jsx(Ge,{path:"/companies/:id/edit",element:c.jsx(mR,{})}),c.jsx(Ge,{path:"/dates",element:c.jsx(Xne,{})}),c.jsx(Ge,{path:"/dates/new",element:c.jsx(vR,{})}),c.jsx(Ge,{path:"/dates/:id/edit",element:c.jsx(vR,{})}),c.jsx(Ge,{path:"/settings",element:c.jsx(Zne,{})}),c.jsx(Ge,{path:"/settings/relationship-types",element:c.jsx(eie,{})}),c.jsx(Ge,{path:"/settings/import",element:c.jsx(sie,{})}),c.jsx(Ge,{path:"/settings/export",element:c.jsx(aie,{})}),c.jsx(Ge,{path:"/settings/user-approval",element:c.jsx(oie,{})}),c.jsx(Ge,{path:"*",element:c.jsx(b7,{to:"/",replace:!0})})]})})})})]})}const p0e=new FZ({defaultOptions:{queries:{staleTime:5*60*1e3,retry:1}}}),TO=document.getElementById("root");if(!TO)console.error('Root element not found! Make sure there is a <div id="root"></div> in your HTML.');else try{IO.createRoot(TO).render(c.jsx(Ce.StrictMode,{children:c.jsx(LZ,{client:p0e,children:c.jsx(oZ,{children:c.jsx(f0e,{})})})}))}catch(t){console.error("Error mounting React app:",t),TO.innerHTML='<div style="padding: 20px; color: red;"><h1>Error Loading Application</h1><p>Please check the browser console for details.</p></div>'}
